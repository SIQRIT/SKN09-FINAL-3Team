{"patent_id": "10-2022-0187879", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0105058", "출원번호": "10-2022-0187879", "발명의 명칭": "인공지능 기반의 환자 모니터링 서비스 시스템 및 방법", "출원인": "인천대학교 산학협력단", "발명자": "전광길"}}
{"patent_id": "10-2022-0187879", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "탑뷰에 설치된 카메라부를 이용하여 누워 있는 환자의 신체 정보를 포함한 탑뷰 영상 시퀀스를 생성하는 탑뷰영상 생성부;상기 탑뷰 영상 시퀀스에서 특징맵(Feature Map)을 추출하여 환자 신체의 객체 영역을 추출하는 객체 탐지부;상기 객체 탐지부에서 추출한 환자 신체의 객체 영역에서 자세 추정 모델을 이용하여 환자 신체 상에 복수의 키포인트를 탐지하고, 상기 탐지된 키포인트를 결합하여 인체 골격을 형성하는 키포인트 탐지부;상기 키포인트 탐지부에서 탐지한 키포인트를 이용하여 복수의 환자 신체 부위를 생성하는 신체 부위 형성부;및상기 신체 부위 생성부에서 생성한 환자 신체 부위에서 시간이 지남에 따라 환자 신체의 키포인트 좌표(x, y)사이의 쌍별 거리를 계산하고, 상기 계산한 쌍별 거리를 기초로 정상 상태와 불편 상태를 판단하는 불편함 감지부를 포함하는 인공지능 기반의 환자 모니터링 서비스 시스템."}
{"patent_id": "10-2022-0187879", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "청구항 1에 있어서,상기 불편함 감지부는 키포인트 k 사이의 쌍별 거리 특성 는 수학식 1에 의해 계산되는 인공지능 기반의환자 모니터링 서비스 시스템.[수학식 1]여기서, 는 각각 t와 t-1에서 연속적인 영상 프레임의 k 사이의 쌍별 거리이고, x, y는 키포인트의 좌표값임."}
{"patent_id": "10-2022-0187879", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "청구항 2에 있어서,상기 불편함 감지부는 신체 기관에서 움직임이 발생하는지 확인하고 연속된 영상 프레임의 특징점 사이의 쌍별거리를 측정하기 위해서 거리 임계값 를 다음의 수학식 2에 의해 정의되고, 연속적인 키포인트 사이의 거리를 영상 프레임의 픽셀로 계산하고, 계산한 픽셀별 거리 를 키포인트 k 사이의 쌍별 거리 와 비교하여 거리 임계값 를 설정하여 특정 환자의 신체 기관에서 발생하는 움직임을 결정하는 인공지능 기반의 환자모니터링 서비스 시스템.[수학식 2]공개특허 10-2024-0105058-3-여기서, 거리 임계값 는 키포인트 정보를 사용하여 특정 환자의 신체 기관에서 발생되는 움직임을 결정함."}
{"patent_id": "10-2022-0187879", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "청구항 3에 있어서,상기 불편함 감지부는 특정 신체 기관의 움직임을 감지한 후, 시간 프레임 규칙을 사용하여 움직임 지속 시간을추정하고, 상기 특정 신체 기관의 움직임이 최대 지속 시간보다 크거나 같은 경우. 해당 움직임이 불편하다고판단하고, 특정 신체 기관의 움직임이 최대 지속 시간보다 작은 경우, 해당 움직임이 정상으로 판단하는 인공지능 기반의 환자 모니터링 서비스 시스템."}
{"patent_id": "10-2022-0187879", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "청구항 4에 있어서,상기 불편함 감지부는 특정 신체 기관의 움직임을 감지한 후, 시간 프레임 규칙을 사용하여 다음의 수학식 3에의해 시간 임계값 을 설정하는 인공지능 기반의 환자 모니터링 서비스 시스템.[수학식 3]여기서, 는 움직임이 감지된 최대 프레임 수이고, 시간 프레임을 사용하여 정의된 시간 임계값에 따른 움직임의 발생을 분석함."}
{"patent_id": "10-2022-0187879", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "청구항 5에 있어서,상기 불편함 감지부는 불편함 또는 정상의 환자 상태 를 다음의 수학식 4에 의해 결정되는 인공지능 기반의 환자 모니터링 서비스 시스템.[수학식 4]은 정상적인 움직임과 모든 종류의 불쾌감 상태에 의해 생성된 움직임을 구별하는 지표임."}
{"patent_id": "10-2022-0187879", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "탑뷰 영상 생성부는 탑뷰에 설치된 카메라부를 이용하여 누워 있는 환자의 신체 정보를 포함한 탑뷰 영상 시퀀스를 생성하는 단계;객체 탐지부는 상기 탑뷰 영상 시퀀스에서 특징맵(Feature Map)을 추출하여 환자 신체의 객체 영역을 추출하는단계;키포인트 탐지부는 상기 객체 탐지부에서 추출한 환자 신체의 객체 영역에서 자세 추정 모델을 이용하여 환자신체 상에 복수의 키포인트를 탐지하고, 상기 탐지된 키포인트를 결합하여 인체 골격을 형성하는 단계;신체 부위 생성부는 상기 키포인트 탐지부에서 탐지한 키포인트를 이용하여 복수의 환자 신체 부위를 생성하는단계; 및상기 불편함 감지부는 상기 신체 부위 생성부에서 생성한 환자 신체 부위에서 시간이 지남에 따라 환자 신체의공개특허 10-2024-0105058-4-키포인트 좌표(x, y) 사이의 쌍별 거리를 계산하고, 상기 계산한 쌍별 거리를 기초로 정상 상태와 불편 상태를판단하는 불편함 감지부를 포함하는 인공지능 기반의 환자 모니터링 서비스 방법."}
{"patent_id": "10-2022-0187879", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "청구항 7에 있어서,상기 불편함 감지부는 키포인트 k 사이의 쌍별 거리 특성 는 수학식 1에 의해 계산되는 단계를 더 포함하는 인공지능 기반의 환자 모니터링 서비스 방법.[수학식 1]여기서, 는 각각 t와 t-1에서 연속적인 영상 프레임의 k 사이의 쌍별 거리이고, x, y는 키포인트의 좌표값임."}
{"patent_id": "10-2022-0187879", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "청구항 8에 있어서,상기 불편함 감지부는 신체 기관에서 움직임이 발생하는지 확인하고 연속된 영상 프레임의 특징점 사이의 쌍별거리를 측정하기 위해서 거리 임계값 를 다음의 수학식 2에 의해 정의되고, 연속적인 키포인트 사이의 거리를 영상 프레임의 픽셀로 계산하는 단계;계산한 픽셀별 거리 를 키포인트 k 사이의 쌍별 거리 와 비교하여 거리 임계값 를 설정하여 특정 환자의 신체 기관에서 발생하는 움직임을 결정하는 단계를 더 포함하는 인공지능 기반의 환자 모니터링 서비스 방법.[수학식 2]여기서, 거리 임계값 는 키포인트 정보를 사용하여 특정 환자의 신체 기관에서 발생되는 움직임을 결정함."}
{"patent_id": "10-2022-0187879", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "청구항 9에 있어서,상기 불편함 감지부는 특정 신체 기관의 움직임을 감지한 후, 시간 프레임 규칙을 사용하여 움직임 지속 시간을추정하고, 상기 특정 신체 기관의 움직임이 최대 지속 시간보다 크거나 같은 경우. 해당 움직임이 불편하다고판단하는 단계; 및특정 신체 기관의 움직임이 최대 지속 시간보다 작은 경우, 해당 움직임이 정상으로 판단하는 단계를 더 포함하는 인공지능 기반의 환자 모니터링 서비스 방법."}
{"patent_id": "10-2022-0187879", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "인공지능 기반의 환자 모니터링 서비스 시스템 및 방법은 딥러닝 기반 알고리즘을 이용하여 침대에 누워있는 환 자의 신체 움직임과 자세를 지속적으로 모니터링하고, 비침습적으로 환자 신체의 불편감과 편안함을 감지한다. 본 발명은 침대에 누워 있는 환자의 신체 움직임과 자세를 지속적으로 모니터링하고, 비침습적으로 환자 신체의 불편감과 편안함을 감지하여 생명이 위급한 환자나 노인의 경우, 수시로 건강 상태를 체크할 수 있는 효과가 있 다. 본 발명은 의료 전문가와 상의하여 다양한 질병의 다양한 유형의 불편함을 다루는 여러 환자가 확대할 수 있는 효과가 있다."}
{"patent_id": "10-2022-0187879", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 스마트 헬스케어 시스템 및 방법에 관한 것으로서, 더욱 상세하게는 딥러닝 기반 알고리즘을 이용하 여 침대에 누워있는 환자의 신체 움직임과 자세를 지속적으로 모니터링하고, 비침습적으로 환자 신체의 불편감과 편안함을 감지하는 인공지능 기반의 환자 모니터링 서비스 시스템 및 방법에 관한 것이다."}
{"patent_id": "10-2022-0187879", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "IoT(사물 인터넷)은 스마트 헬스 케어 분야를 광범위하게 적용되고 있다. 최근의 고도 산업화와 인터넷, 스마트폰 등의 정보 통신망과 전자기기 산업의 급성장으로 소득과 의료 서비스가 개선되면서 노인 인구가 크게 증가하는 고령화 시대로 접어들고 있다. 노인이나 침대에 누워 있는 아픈 환자들은 야간에 위급한 상황이 발생하면, 본인 스스로 앰블런스를 부르거나 가족에게 연락하지 못하는 경우가 발생할 수 있다. 가정에 있는 노인이나 침대에 누워 있는 아픈 환자들은 수면 중에 심박수, 호흡수 변화를 모니터링하지 못하기 때문에 생명과 관련된 위험이 발생하더라도 무방비 상태로 노출될 수 밖에 없었다. 노인이나 환자들은 의료 전문가에 의해 침습적으로 아픈거나 불편한 부위를 주기적으로 접촉하여 건강 상태를 체크해야 한다. 그러나 생명이 위급한 환자나 노인의 경우, 수시로 건강 상태를 체크해야 되는데도 불구하고, 인력이나 비용 측 면에서 현실적으로 어려운 문제점이 있다. 선행기술문헌 특허문헌 (특허문헌 0001) 한국 공개특허번호 제10-2017-0098497호"}
{"patent_id": "10-2022-0187879", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "이와 같은 문제점을 해결하기 위하여, 본 발명은 딥러닝 기반 알고리즘을 이용하여 침대에 누워있는 환자의 신 체 움직임과 자세를 지속적으로 모니터링하고, 비침습적으로 환자 신체의 불편감과 편안함을 감지하는 인공지능 기반의 환자 모니터링 서비스 시스템 및 방법을 제공하는데 그 목적이 있다."}
{"patent_id": "10-2022-0187879", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 목적을 달성하기 위한 본 발명의 특징에 따른 인공지능 기반의 환자 모니터링 서비스 시스템은, 탑뷰에 설치된 카메라부를 이용하여 누워 있는 환자의 신체 정보를 포함한 탑뷰 영상 시퀀스를 생성하는 탑뷰 영상 생성부; 상기 탑뷰 영상 시퀀스에서 특징맵(Feature Map)을 추출하여 환자 신체의 객체 영역을 추출하는 객체 탐지부; 상기 객체 탐지부에서 추출한 환자 신체의 객체 영역에서 자세 추정 모델을 이용하여 환자 신체 상에 복수의 키 포인트를 탐지하고, 상기 탐지된 키포인트를 결합하여 인체 골격을 형성하는 키포인트 탐지부; 상기 키포인트 탐지부에서 탐지한 키포인트를 이용하여 복수의 환자 신체 부위를 생성하는 신체 부위 형성부; 및 상기 신체 부위 생성부에서 생성한 환자 신체 부위에서 시간이 지남에 따라 환자 신체의 키포인트 좌표(x, y) 사이의 쌍별 거리를 계산하고, 상기 계산한 쌍별 거리를 기초로 정상 상태와 불편 상태를 판단하는 불편함 감지 부를 포함한다. 본 발명의 특징에 따른 인공지능 기반의 환자 모니터링 서비스 방법은, 탑뷰 영상 생성부는 탑뷰에 설치된 카메라부를 이용하여 누워 있는 환자의 신체 정보를 포함한 탑뷰 영상 시퀀 스를 생성하는 단계; 객체 탐지부는 상기 탑뷰 영상 시퀀스에서 특징맵(Feature Map)을 추출하여 환자 신체의 객체 영역을 추출하는 단계; 키포인트 탐지부는 상기 객체 탐지부에서 추출한 환자 신체의 객체 영역에서 자세 추정 모델을 이용하여 환자 신체 상에 복수의 키포인트를 탐지하고, 상기 탐지된 키포인트를 결합하여 인체 골격을 형성하는 단계; 신체 부위 생성부는 상기 키포인트 탐지부에서 탐지한 키포인트를 이용하여 복수의 환자 신체 부위를 생성하는 단계; 및 상기 불편함 감지부는 상기 신체 부위 생성부에서 생성한 환자 신체 부위에서 시간이 지남에 따라 환자 신체의 키포인트 좌표(x, y) 사이의 쌍별 거리를 계산하고, 상기 계산한 쌍별 거리를 기초로 정상 상태와 불편 상태를 판단하는 단계를 포함한다."}
{"patent_id": "10-2022-0187879", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "전술한 구성에 의하여, 본 발명은 침대에 누워 있는 환자의 신체 움직임과 자세를 지속적으로 모니터링하고, 비 침습적으로 환자 신체의 불편감과 편안함을 감지하여 생명이 위급한 환자나 노인의 경우, 수시로 건강 상태를 체크할 수 있는 효과가 있다. 본 발명은 의료 전문가와 상의하여 다양한 질병의 다양한 유형의 불편함을 다루는 여러 환자가 확대할 수 있는 효과가 있다."}
{"patent_id": "10-2022-0187879", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "명세서 전체에서, 어떤 부분이 어떤 구성요소를 \"포함\"한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다 른 구성요소를 제외하는 것이 아니라 다른 구성요소를 더 포함할 수 있는 것을 의미한다. 도 1은 본 발명의 실시예에 따른 인공지능 기반의 환자 모니터링 서비스 시스템의 구성을 간략하게 나타낸 도면 이고, 도 2는 본 발명의 실시예에 따른 모니터링 서버의 내부 구성을 간략하게 나타낸 블록도이고, 도 3은 본 발명의 실시예에 따른 환자 불편 감지를 위한 딥러닝 기반의 환자 모니터링 서비스 방법을 나타낸 도면이고, 도 4는 본 발명의 실시예에 따른 YOLOv3를 이용한 영상 데이터에서 환자 신체를 탐지하는 모습을 나타낸 도면이고, 도 5는 본 발명의 실시예에 따른 Alphapose를 이용한 환자 신체의 키포인트와 골격을 탐지하는 모습을 나타낸 도면이다. 본 발명의 실시예에 따른 인공지능 기반의 환자 모니터링 서비스 시스템은 탑뷰 영상 생성부, 라우터 장치, 통신망 및 모니터링 서버를 포함한다. 탑뷰 영상 생성부는 탑뷰에 설치된 카메라부를 이용하여 누워 있는 환자의 신체 정보를 포함한 탑뷰 영상 시퀀스를 생성한다. 여기서, 탑뷰(Top View)는 상부에서 환자를 내려다 보는 시야이다. 탑뷰 영상 생성부는 생성한 탑뷰 영상 시퀀스를 입력 프레임으로 변환하여 라우터 장치로 전송한다. 라우터 장치는 탑뷰 영상 생성부로부터 수신한 탑뷰 영상 시퀀스를 통신망을 통해 모니터링 서 버로 전송한다. 모니터링 서버는 입력부, 객체 탐지부, 키포인트 탐지부, 저장부, 제어부, 신체 부위 형성부, 불편함 감지부 및 통신부를 포함한다. 입력부는 라우터 장치로부터 탑뷰 영상 생성부의 탑뷰 영상 시퀀스를 수신하여 저장부에 저장한다(S100). 객체 탐지부는 객체 분류를 위해 Softmax가 아닌 다양한 독립 로지스틱을 사용하고, 컨볼루션 레이어를 이 용하여 특징 학습이 수행한다. 객체 탐지부는 복수의 컨볼루션 레이어와 스킵 연결로 구성되어 3개의 개별 규모에서 특징을 감지하고, 컨 볼루션 레이어에 의해 특징맵을 다운 샘플링하고, 불변 크기 특징을 전송하기 위해 실행된다. 객체 탐지부는 탑뷰 영상 데이터에서 환자 객체가 존재할 것으로 추정되는 영역을 추출하고, 추출된 영역 으로부터 특징을 나타내는 특징맵을 추출한다. 객체 탐지부는 추출한 특징맵을 기초로 영상에서 환자에 대한 객체의 존재가 추정되는 객체 영역을 추출한 다(S101). 객체 영역을 추출하는 방법은 예를 들어, faster RCNN, SSD(Single Shot MultiBox Detector), YOLO(You Only Look Once) 등이 있을 수 있으며, 본 발명은 YOLO 객체 인식모듈(YOLOv3)을 일례로 하고 있다. 객체 탐지부는 환자 객체에 해당하는 영역에 바운딩 박스를 예측할 수 있다. 도 4에 도시된 바와 같이, 바운딩 박스의 예측은 바운딩 박스 중심 오프셋에 대한 두 개의 값(셀 중심에 해당하 는 x 및 y), 바운딩 박스 크기/축적에 대한 두 개의 값(앵커 치수(anchor dimensions)와 관련된 x 및 y) 및 objectness score(신뢰 점수)(0과 1 사이의 값)에 대한 하나의 값으로 구성된다. 다른 바운딩 박스의 예측은 손실 함수에 의해 별도로 처리한다. 객체 탐지부는 바운딩 박스 예측에 대한 손실 함수를 다음의 수학식 1로 정의한다. 수학식 1"}
{"patent_id": "10-2022-0187879", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "수학식 1과 같이, 전체 손실은 다음의 수학식 2에서 계산된 회귀 손실 , 신뢰 손실 , 분류 손실 의 조합이다. 하가의 수학식 2에서 는 바운딩 박스 조정 예측에 대한 스케일 파라미터로 적용된다. 는 예측 박스(Prediction Box)가 객체를 포함하는 경우에만 계산된다. 는 각 감지된 바운딩 박스에 대해 i번째 값의 로 예측 셀(Predicted Cell)을 결정한다. i번쩨 셀에서 실제 위치는 로 표시된다. 신뢰 손실 은 하기의 수학식 3을 이용하여 예측된 바운딩 박스에 객체가 있는지 여부를 결정한 다.수학식 2"}
{"patent_id": "10-2022-0187879", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "수학식 3"}
{"patent_id": "10-2022-0187879", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "여기서, 분류 손실 은 수학식 4에 의해 수학적으로 계산된 예측 바운딩 박스에서 감지된 객 체의 범주(Category) 또는 클래스(Class)를 결정한다. C는 조건부 클래스 확률(Conditional Class Probabilities), S는 그리드 셀 개수, B는 바운딩 박스의 개수, P는 객체(Object)를 나타낸다. 는 셀 i의 j번째 바운딩 박스 예측자가 해당 예측에 \"책임\" 있음을 나타낸다. 수학식 4"}
{"patent_id": "10-2022-0187879", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "키포인트 탐지부는 신체 키포인트 추출을 위해 자세 추정 모델을 사용한다. 여기서, 자세 추정 모델은 멀 티 Alphapose로서 자세 추정을 위해 개발된 오픈 소스 시스템으로 공지된 기술이다. 키포인트 탐지부는 객체 탐지부에서 추출한 환자 신체의 객체 영역에서 자세 추정 모델을 이용하여 환자 신체 상에 복수의 키포인트를 탐지한다(S102). 키포인트 탐지부는 RGB 영상 프레임을 입력으로 사용하고, 미리 훈련된 모델, 즉 MS-COCO 데이터 세트를 사용하여 환자 신체의 자세를 감지한다. 도 5에 도시된 바와 같이, 자세 추정 모델의 구조는 STN(Symmetric Spatial Transformer Network), PGPG(Pose- Guided Proposals Generator), SPPE(Single Person Pose Estimation), SDTN(Spatial De-Transformer Network) 및 PPNMS(Parametric Pose Non-Maximum-Suppression)의 네 가지 주요 구성 요소를 포함한다. 이러한 자세 추정 모델은 각각의 감지된 환자 신체에 대한 전체 탐지 점수와 다른 키포인트 점수 및 좌표(x, y)를 사용하여 17개의 키포인트 세트를 생성한다. 키포인트 탐지부는 탐지된 키포인트를 최종적으로 결합하여 인체 골격을 형성한다. 먼저 바운딩 박스는 객 체 탐지부를 통해 얻으며, 객체 탐지는 YOLOv3를 사용할 수 있다.Symmetric STN은 여러 개의 부정확한 바운딩 박스에서 고품질의 하나의 환자 신체 영역을 얻는데 사용된다. SPPE는 추출된 영역에서 신체 자세 골격을 결정하는데 적용된다. 바운딩 박스는 STN + SPPE 모듈에 제공된다. Symmetric STN은 고품질의 중요하고 가장 눈에 띄는 신체 형태를 추출한다. 수학적으로는 수학식 5로 정의된 2D 어파인 변환(Affine Transformation)을 수행한다. 수학식 5"}
{"patent_id": "10-2022-0187879", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "여기서, 는 벡터이고, 변환 전후의 좌표는 로 각각 표현된다. 결과 자세는 SPPE가 이미지의 원래 신체 형태와 매핑된 후, SDTN은 결정된 신체 자세를 초기 이미지 좌표에 다 시 매핑하는데 활용한다. SDTN은 역변환에 대한 를 결정하고 다음의 수학식 6으로 표현되는 그리드를 생성한다. 수학식 6"}
{"patent_id": "10-2022-0187879", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "수학식 5와 수학식 6을 비교하면 SDTN이 STN의 반대 방법임을 알 수 있다. 이 단계는 신체 자세 형태를 생성한 다. 고품질의 중요하고 가장 두드러진 신체 형태 영역을 얻은 후, SPPE는 정확한 자세 추정을 위해 이용된다. 학습 중에 STN은 SPPE와 동시에 미세 조정된다. 로컬 최소값을 피하기 위해서 학습 중에 병렬 SPPE 모듈이 사용 된다. 감지된 자세는 많은 중복 감지를 수행할 수 있다. 이를 줄이기 위해 마지막으로 파라메트릭 자세 (Parametric Pose) NMS를 적용하여 중복 자세를 제거한다. 키포인트 탐지부는 자세 추정 모델을 이용하여 환자 신체 상에 복수의 키포인트를 탐지한다. 신체 부위 형성부는 키포인트 탐지부에서 탐지한 키포인트를 이용하여 복수의 환자 신체 기관 부위를 생성한다(S103). 신체 부위 형성부는 환자의 신체 특징점과 골격 정보를 획득한 후, 도 6과 같이 이 정보를 이용하여 환자 신체의 불편함을 파악하는데 필요한 6개의 주요 신체 부위 또는 장기를 생성한다. 도 6은 본 발명의 실시예에 따른 탐지된 키포인트를 이용하여 환자 신체 부위를 생성하는 모습을 나타낸 도면이 다. 키포인트 탐지부는 도 6과 같이 환자의 신체에서 17개의 고유한 키포인트를 탐지한다. 신체 부위 형성부 는 연관 규칙을 적용하고, 서로 다른 키포인트를 결합하여 6개의 주요 신체 부위와 기관을 형성한다. 17개의 검출된 키포인트의 연관성은 도 6과 표 1에 나와 있다. 왼쪽 팔의 형성을 위해 왼쪽 어깨, 왼쪽 팔꿈치, 왼쪽 손목의 세 가지 키포인트 정보를 사용한다. 기타 신체 부위/장기 및 검출된 특징점에 대한 자세한 내용은다음의 표 1과 같다. 표 1"}
{"patent_id": "10-2022-0187879", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "불편함 감지부는 환자 신체의 불편함을 감지하기 위해 쌍별 거리 특징 과 시간 프레임 규칙을 사 용한다. 불편함 감지부는 쌍별 거리 특징을 사용하고, 환자 신체 장기 또는 신체 부분의 움직임을 분석하여 다음의 조건을 결정한다. 환자가 정상적으로 움직이는 신체 일부에서 통증이나 불편함을 느끼면 해당 부위, 장기 또는 부분을 더 자주 문 지르고 누른다. 예를 들어, 환자가 머리에 통증이나 불편함을 느끼면 한 손 또는 두 손으로 계속해서 머리를 누르거나 잡거나 다리와 몸통에 움직임이 생기는 경우가 있다. 또한, 일부 상황에서는 팔, 다리 또는 기타 기관의 움직임, 앉거나 눕는 것, 누워 있는 동안 옆구리나 자세가 계속 바뀌는 것과 같이 환자의 신체 움직임이 파괴적인 방식으로 발생할 수 있다. 불편함 감지부는 신체 부위에서 전술한 모든 의심스럽고 빈번한 변화 또는 움직임을 불편한 상태로 판단하 고, 이러한 불확실하고 의심스러운 상태와 움직임의 지속 시간이 더 오래 지속되는 경우, 일종의 불편함으로 판 단한다. 불편함 감지부는 검출된 특징점 위치/좌표 정보를 이용하여 파악한 환자 신체의 불편함을 판단하기 위해 위치 및 움직임 정보를 이용한다. 이것은 위치 정보와 좌표 정보로 감지된 키포인트를 이용하여 결정된다. 불편함 감지부는 신체 부위 생성부에서 생성한 환자 신체 부위에서 시간이 지남에 따라 환자 신체의 키포인트 좌표(x, y) 사이의 쌍별 거리를 계산하고, 정상 상태와 불편 상태를 판단한다. 불편함 감지부는 쌍별 거리 특징을 고려하기 위해 각 프레임 t에서 유사한 키포인트 사이의 키포인트 거리 를 계산한다(S104). 환자의 신체 및 장기에 움직임이 발생하면, 거리 정보를 적용하여 추정한다. 따라서, 불편 함 감지부는 키포인트 k 사이의 쌍별 거리 는 수학식 7로 계산된다. 수학식 7"}
{"patent_id": "10-2022-0187879", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 9, "content": "여기서, 는 각각 t와 t-1에서 연속적인 영상 프레임의 k 사이의 쌍별 거리이고, x, y는 키포인트의 좌표값 을 나타낸다.는 두 개이 연속된 영상 프레임 j와 j-1의 각각의 주요 포인트 k 간의 쌍별 거리이고, ( , )와, ( , )는 영상 프레임 j와 j-1의 각각의 주요 포인트 k의 (x, y) 좌표를 나타낸다. 불편함 감지부는 신체 기관에서 움직임이 발생하는지 확인하고 연속된 영상 프레임의 특징점 사이의 쌍별 거리를 측정하기 위해서 거리 임계값 를 다음의 8과 같이 정의한다. 수학식 8"}
{"patent_id": "10-2022-0187879", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 10, "content": "여기서, 거리 임계값 는 키포인트 정보를 사용하여 특정 환자의 신체 기관에서 발생되는 움직임을 결정한다. 불편함 감지부는 연속적인 키포인트 사이의 거리를 영상 프레임의 픽셀로 계산하고, 계산 픽셀별 거리 를 수학식 8과 같이, 키포인트 k 사이의 쌍별 거리 와 비교하여 거리 임계값을 설정하며, 이를 통해 움직임이 결정된다. 특정 신체 기관의 움직임은 연속된 영상 프레임에서 해당 신체 기관의 특징점이 25 픽셀의 거리를 커버하는지에 따라 결정된다. 도 7은 본 발명의 실시예에 따른 키포인트 간의 쌍별 거리를 이용하여 특정 신체 기관의 움직임을 결정하는 모 습을 나타낸 도면이다. 도 7은 키포인트 간의 쌍별 거리가 계산되는 방식을 보여준다. 불편함 감지부는 움직임이 발생할 때마다 특정 신체 기관의 키포인트의 위치(x, y) 좌표가 픽셀 단위로 변경됨을 알 수 있다. 거리 임계값은 환자 신체의 키포인트에서 움직임을 결정한다. 예를 들어, 오른쪽 어깨, 오른쪽 팔꿈치, 오른쪽 손목의 키포인트 좌표(x, y)에서의 움직임이 오른쪽 팔의 움직 임을 결정한다. 불편함 감지부는 특정 신체 기관의 움직임을 감지한 후, 시간 프레임 규칙을 사용하여 움직임 지속 시간을 추정한다. 불편함 감지부는 시간 임계값을 정의하고 정상 및 불편 상태에 대한 최소 및 최대 기간을 결정한다. 불편함 감지부는 특정 신체 기관의 움직임 지속 시간이 기설정된 최대값을 초과하면 움직임이 불편함으로 분류되고, 기설정된 최대값을 초과하지 않으면 환자 신체의 움직임이 정상적인 것으로 판단된다(S105, S106, S107). 불편함 감지부는 특정 신체 기관의 움직임이 최대 지속 시간보다 크거나 같은 경우. 해당 움직임이 불편하 다고 판단한다. 불편함 감지부는 특정 신체 기관의 움직임이 최대 지속 시간보다 작은 경우, 해당 움직임이 정상으로 판단 한다. 제어부는 불편함 감지부에서 판단한 움직임 정보(불편함, 정상)를 통신부를 통해 외부로 전송할 수 있다. 제어부는 시간 프레임 규칙을 이용하여 수학식 9에 의해 시간 임계값 을 설정한다. 수학식 9"}
{"patent_id": "10-2022-0187879", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 11, "content": "여기서, 는 움직임이 감지된 최대 프레임 수이다. 마지막으로 환자의 상태가 정상인지 여부를 알아보기 위해 시간 프레임을 사용하여 정의된 시간 임계값 에 따른 움직임의 발생을 분석한다. 이러한 시간 임계값은 다양할 수 있으며, 데이터 세트의 크기에 따라 달라진다. 제한된 데이터 세트로 인해 이 작업에서는 임계값을 초당 최대 10프레임으로 정의한다. 환자 상태 는 다음의 수학식 10에 의해 결정된다. 수학식 10"}
{"patent_id": "10-2022-0187879", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 12, "content": "은 정상적인 움직임과 모든 종류의 불쾌감 상태에 의해 생성된 움직임을 구별하는 지표이다. 제어부는 어떠한 신체 기관에서의 움직임이 패턴을 복제하는 연속된 비디오 프레임보다 10번 이상 지속되 는 경우, 이를 불쾌감으로 판단한다. 녹화 비디오는 초당 1프레임의 비율로 프레임으로 변환되므로 10프레임은 10s를 나타낸다."}
{"patent_id": "10-2022-0187879", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 13, "content": "논의된 전체 작업은 알고리즘 1에 요약되어 있다. 알고리즘 1을 사용하면 도 3과 같이 미리 훈련된 YOLOv3를 사 용하여 입력 이미지의 환자를 먼저 감지한다. Alphapose 모델은 다음과 같이 환자 신체의 주요 지점을 감지하는데 사용된다. 도 5와 알고리즘 1에 표현되어 있다. 신체 부위 형성부는 키포인트 정보를 사용하여 환자 신체 골격을 형성한다. 신체 부위 형성부는 감지된 키포인트 정보를 도 6과 같이 연관 규칙을 사용하여 주요 6개의 신체 부위 또 는 기관에 연결한다. 쌍방향 거리는 모든 신체 기관의 움직임을 감지하는데 사용되고, 거리를 계산하기 위해 연속 프레임의 두 개의 연속된 키포인트의 좌표 정보를 사용한다. 환자 신체의 불편함을 감지하기 위해서는 시간 프레임 규칙을 사용하여 움직임과 자세 패턴을 분석한다. 본 발 명에서 제안한 시스템의 세부 사항은 다음과 같은 알고리즘 1을 사용하여 구현된다. 이상에서 본 발명의 실시예에 대하여 상세하게 설명하였지만 본 발명의 권리범위는 이에 한정되는 것은 아니고 다음의 청구범위에서 정의하고 있는 본 발명의 기본 개념을 이용한 당업자의 여러 변형 및 개량 형태 또한 본 발명의 권리범위에 속하는 것이다."}
{"patent_id": "10-2022-0187879", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 실시예에 따른 인공지능 기반의 환자 모니터링 서비스 시스템의 구성을 간략하게 나타낸 도면 이다. 도 2는 본 발명의 실시예에 따른 모니터링 서버의 내부 구성을 간략하게 나타낸 블록도이다. 도 3은 본 발명의 실시예에 따른 인공지능 기반의 환자 모니터링 서비스 방법을 나타낸 도면이다. 도 4는 본 발명의 실시예에 따른 YOLOv3를 이용한 영상 데이터에서 환자 신체를 탐지하는 모습을 나타낸 도면이 다. 도 5는 본 발명의 실시예에 따른 Alphapose를 이용한 환자 신체의 키포인트와 골격을 탐지하는 모습을 나타낸 도면이다. 도 6은 본 발명의 실시예에 따른 탐지된 키포인트를 이용하여 환자 신체 부위를 생성하는 모습을 나타낸 도면이 다. 도 7은 본 발명의 실시예에 따른 키포인트 간의 쌍별 거리를 이용하여 특정 신체 기관의 움직임을 결정하는 모 습을 나타낸 도면이다."}
