{"patent_id": "10-2023-0132844", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0061596", "출원번호": "10-2023-0132844", "발명의 명칭": "경량 신경망을 이용한 정량적 초음파 이미징 방법 및 장치", "출원인": "한국과학기술원", "발명자": "배현민"}}
{"patent_id": "10-2023-0132844", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "적어도 하나의 프로세서에 의해 동작하는 이미징 장치의 동작 방법으로서,조직의 초음파 데이터를 입력받는 단계, 그리고교사 신경망의 지식을 전달받아 훈련된 경량 신경망을 사용하여, 상기 초음파 데이터로부터 상기 조직 내 정량적 변수의 분포를 나타내는 정량적 이미지를 생성하는 단계를 포함하는 동작 방법."}
{"patent_id": "10-2023-0132844", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에서,상기 경량 신경망은다중 단계 분리형 컨볼루션(multi-stage separable convolution)을 사용하여 상기 초음파 데이터로부터 정량적특징을 추출하고, 상기 정량적 특징을 복원하여 상기 정량적 이미지를 출력하도록 구성된 인공지능 모델인, 동작 방법."}
{"patent_id": "10-2023-0132844", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에서,상기 경량 신경망은신경망 파라미터 양자화를 통해 경량화된 모델로서, 상기 초음파 데이터로부터 정량적 특징을 추출하고, 상기정량적 특징을 복원하여 상기 정량적 이미지를 출력하도록 구성된 인공지능 모델인, 동작 방법."}
{"patent_id": "10-2023-0132844", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에서,상기 경량 신경망은상기 교사 신경망으로부터 특징 맵 추출을 위한 지식과, 정량적 이미지 복원을 위한 지식을 전달받아 훈련한 인공지능 모델인, 동작 방법."}
{"patent_id": "10-2023-0132844", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에서,상기 경량 신경망은정답 이미지와의 차이에 관계된 제1 손실, 상기 교사 신경망에서 추출된 특징 맵과의 차이에 관계된 제2 손실,그리고 상기 교사 신경망에서 생성된 정량적 이미지와의 차이에 관계된 제3 손실을 포함하는 목적 함수를 이용하여 훈련한 인공지능 모델인, 동작 방법."}
{"patent_id": "10-2023-0132844", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에서,상기 정량적 변수는감쇠 계수(Attenuation Coefficient, AC), 음속도(Speed of Sound, SoS), 산란체 밀도(Effective ScattererConcentration, ESC), 그리고 산란체 크기(Effective Scatterer Diameter, ESD) 중 적어도 하나를 포함하는,동작 방법.공개특허 10-2024-0061596-3-청구항 7 제1항에서,상기 이미징 장치는 이동형(mobile) 기기인, 동작 방법."}
{"patent_id": "10-2023-0132844", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "메모리, 그리고상기 메모리에 저장된 명령어들을 실행하는 프로세서를 포함하고,상기 프로세서는 교사 신경망의 지식을 전달받아 훈련된 경량 신경망을 사용하여, 조직의 초음파 데이터로부터상기 조직 내 정량적 변수의 분포를 나타내는 정량적 이미지를 생성하는, 이미징 장치."}
{"patent_id": "10-2023-0132844", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에서,상기 경량 신경망은다중 단계 분리형 컨볼루션(multi-stage separable convolution)을 사용하여 상기 초음파 데이터로부터 정량적특징을 추출하고, 상기 정량적 특징을 복원하여 상기 정량적 이미지를 출력하도록 구성된 인공지능 모델인, 이미징 장치."}
{"patent_id": "10-2023-0132844", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제8항에서,상기 경량 신경망은신경망 파라미터 양자화를 통해 경량화된 모델로서, 상기 초음파 데이터로부터 정량적 특징을 추출하고, 상기정량적 특징을 복원하여 상기 정량적 이미지를 출력하도록 구성된 인공지능 모델인, 이미징 장치."}
{"patent_id": "10-2023-0132844", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제8항에서,상기 경량 신경망은상기 교사 신경망으로부터 특징 맵 추출을 위한 지식과, 정량적 이미지 복원을 위한 지식을 전달받아 훈련한 인공지능 모델인, 이미징 장치."}
{"patent_id": "10-2023-0132844", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제11항에서,상기 경량 신경망은정답 이미지와의 차이에 관계된 제1 손실, 상기 교사 신경망에서 추출된 특징 맵과의 차이에 관계된 제2 손실,그리고 상기 교사 신경망에서 생성된 정량적 이미지와의 차이에 관계된 제3 손실을 포함하는 목적 함수를 이용하여 훈련한 인공지능 모델인, 이미징 장치."}
{"patent_id": "10-2023-0132844", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제8항에서,상기 정량적 변수는감쇠 계수(Attenuation Coefficient, AC), 음속도(Speed of Sound, SoS), 산란체 밀도(Effective ScattererConcentration, ESC), 그리고 산란체 크기(Effective Scatterer Diameter, ESD) 중 적어도 하나를 포함하는,이미징 장치."}
{"patent_id": "10-2023-0132844", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "공개특허 10-2024-0061596-4-제8항에서,상기 이미징 장치는 이동형(mobile) 기기인, 이미징 장치."}
{"patent_id": "10-2023-0132844", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "컴퓨터 판독 가능한 저장 매체에 저장되고, 프로세서에 의해 실행되는 명령어들을 포함하는 컴퓨터 프로그램으로서, 조직의 초음파 데이터를 입력받고, 상기 초음파 데이터로부터 정량적 특징 맵을 추출하는 인코더, 그리고상기 정량적 특징 맵으로부터 상기 조직 내 정량적 변수의 분포를 나타내는 정량적 이미지를 복원하는 디코더를실행시키는 명령어들을 포함하고,상기 인코더와 상기 디코더는 교사 신경망으로부터 전달된 특징 맵 추출 지식과 이미지 복원 지식을 이용하여훈련된 경량 신경망인, 컴퓨터 프로그램."}
{"patent_id": "10-2023-0132844", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제15항에서,상기 인코더는 다중 단계 분리형 컨볼루션(multi-stage separable convolution)을 사용하여 상기 초음파 데이터로부터 정량적 특징을 추출하도록 구성된 모델인, 컴퓨터 프로그램."}
{"patent_id": "10-2023-0132844", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제15항에서,상기 인코더와 상기 디코더는신경망 파라미터 양자화를 통해 경량화된 모델로서, 상기 초음파 데이터로부터 정량적 특징을 추출하고, 상기정량적 특징을 복원하여 상기 정량적 이미지를 출력하도록 구성된 인공지능 모델인, 컴퓨터 프로그램."}
{"patent_id": "10-2023-0132844", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "제15항에서,상기 인코더와 상기 디코더는 정답 이미지와의 차이에 관계된 제1 손실, 상기 교사 신경망에서 추출된 특징 맵과의 차이에 관계된 제2 손실,그리고 상기 교사 신경망에서 생성된 정량적 이미지와의 차이에 관계된 제3 손실을 포함하는 목적 함수를 이용하여 훈련한 인공지능 모델인, 컴퓨터 프로그램."}
{"patent_id": "10-2023-0132844", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_19", "content": "제15항에서,상기 정량적 변수는감쇠 계수(Attenuation Coefficient, AC), 음속도(Speed of Sound, SoS), 산란체 밀도(Effective ScattererConcentration, ESC), 그리고 산란체 크기(Effective Scatterer Diameter, ESD) 중 적어도 하나를 포함하는,동작 방법."}
{"patent_id": "10-2023-0132844", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "적어도 하나의 프로세서에 의해 동작하는 이미징 장치의 동작 방법으로서, 조직의 초음파 데이터를 입력받는 단 계, 그리고 교사 신경망의 지식을 전달받아 훈련된 경량 신경망을 사용하여, 상기 초음파 데이터로부터 상기 조 직 내 정량적 변수의 분포를 나타내는 정량적 이미지를 생성하는 단계를 포함한다."}
{"patent_id": "10-2023-0132844", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 초음파 이미징에 관한 것이다."}
{"patent_id": "10-2023-0132844", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "암은 조기 발견이 어려워 주기적인 진단이 필요하고, 병변의 크기 및 특성을 지속적으로 모니터링해야 한다. 이 를 위한 대표적인 영상 장비로는 엑스레이(X-ray) 장비, MRI(magnetic resonance imaging) 장비, CT(computedtomography) 장비, 초음파(ultrasound) 장비 등이 있다. 엑스레이, MRI, CT는 방사능 노출 위험이 있고, 측정 시간이 길며 비용이 비싼 단점이 있는 반면, 초음파 영상 장비는 안전하고 비교적 저렴하며, 실시간 영상을 제 공해서 사용자가 병변을 실시간으로 모니터링하면서 원하는 이미지를 얻을 수 있다. 현재 가장 많이 상용화된 초음파 영상 장비로서, B-모드(Brightness mode) 이미징 시스템이 있다. B-모드 이미 징 방법은 초음파가 물체 표면에서 반사되어 돌아오는 시간과 세기를 통해 물체 위치와 크기를 파악하는 방법이 다. 이는 실시간으로 병변의 위치를 찾아 주기 때문에, 사용자가 병변을 실시간으로 모니터링하면서 원하는 영 상을 효율적으로 얻을 수 있고, 안전하고 비교적 저렴하여 접근성이 좋다. 하지만 사용자의 숙련도에 따라 이미 지의 질이 일정하게 유지되지 못하고, 정량적인 특성을 이미징하지 못한다는 단점이 있다. 즉, B-모드 기법은 조직의 형태학적인 정보만을 제공하기 때문에, 조직학적 특성으로 구분되는 양성종양과 악성종양을 구분하는 감 별진단에서 민감도(sensitivity)와 특이도(specificity)가 낮을 수 있다. 최근에는 정량적 초음파 이미징(quantitative ultrasound imaging)을 통해 생체역학적 특성을 실시간으로 재구 성하는 연구가 진행되고 있다. 하지만, 정량적 초음파 이미징을 수행하는 신경망은 광범위한 병렬 계산이 필요 해서, 기존 초음파 영상 기기에 적용하는 것이 쉽지 않고, 특히 자원이 제한된 이동형 초음파 영상 기기에는 정 량적 초음파 이미징을 적용하기 어려운 한계가 있다. [특허문헌] (특허문헌 1)KR 10-2490019 B (특허문헌 2)KR 10-2380167 B (특허문헌 3)KR 10-2022-0107912 A (특허문헌 4)KR 10-2023-0011856 A (특허문헌 5)KR 10-2023-0011855 A"}
{"patent_id": "10-2023-0132844", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 개시는, 경량 신경망(lightweight neural network)을 이용한 정량적 초음파 이미징 방법 및 장치를 제공하는 것이다. 본 개시는, 지식 증류(knowledge distillation) 및/또는 신경망 파라미터 양자화를 통해 경량화된 신경망을 제 공하는 것이다."}
{"patent_id": "10-2023-0132844", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "한 실시예에 따라 적어도 하나의 프로세서에 의해 동작하는 이미징 장치의 동작 방법으로서, 조직의 초음파 데 이터를 입력받는 단계, 그리고 교사 신경망의 지식을 전달받아 훈련된 경량 신경망을 사용하여, 상기 초음파 데 이터로부터 상기 조직 내 정량적 변수의 분포를 나타내는 정량적 이미지를 생성하는 단계를 포함한다. 상기 경량 신경망은 다중 단계 분리형 컨볼루션(multi-stage separable convolution)을 사용하여 상기 초음파 데이터로부터 정량적 특징을 추출하고, 상기 정량적 특징을 복원하여 상기 정량적 이미지를 출력하도록 구성된 인공지능 모델일 수 있다. 상기 경량 신경망은 신경망 파라미터 양자화를 통해 경량화된 모델로서, 상기 초음파 데이터로부터 정량적 특징 을 추출하고, 상기 정량적 특징을 복원하여 상기 정량적 이미지를 출력하도록 구성된 인공지능 모델일 수 있다. 상기 경량 신경망은 상기 교사 신경망으로부터 특징 맵 추출을 위한 지식과, 정량적 이미지 복원을 위한 지식을 전달받아 훈련한 인공지능 모델일 수 있다. 상기 경량 신경망은 정답 이미지와의 차이에 관계된 제1 손실, 상기 교사 신경망에서 추출된 특징 맵과의 차이 에 관계된 제2 손실, 그리고 상기 교사 신경망에서 생성된 정량적 이미지와의 차이에 관계된 제3 손실을 포함하 는 목적 함수를 이용하여 훈련한 인공지능 모델일 수 있다. 상기 정량적 변수는 감쇠 계수(Attenuation Coefficient, AC), 음속도(Speed of Sound, SoS), 산란체 밀도 (Effective Scatterer Concentration, ESC), 그리고 산란체 크기(Effective Scatterer Diameter, ESD) 중 적어도 하나를 포함할 수 있다. 상기 이미징 장치는 이동형(mobile) 기기일 수 있다. 한 실시예에 따른 이미징 장치로서, 메모리, 그리고 상기 메모리에 저장된 명령어들을 실행하는 프로세서를 포 함하고, 상기 프로세서는 교사 신경망의 지식을 전달받아 훈련된 경량 신경망을 사용하여, 조직의 초음파 데이 터로부터 상기 조직 내 정량적 변수의 분포를 나타내는 정량적 이미지를 생성한다. 상기 경량 신경망은 다중 단계 분리형 컨볼루션(multi-stage separable convolution)을 사용하여 상기 초음파 데이터로부터 정량적 특징을 추출하고, 상기 정량적 특징을 복원하여 상기 정량적 이미지를 출력하도록 구성된 인공지능 모델일 수 있다. 상기 경량 신경망은 신경망 파라미터 양자화를 통해 경량화된 모델로서, 상기 초음파 데이터로부터 정량적 특징 을 추출하고, 상기 정량적 특징을 복원하여 상기 정량적 이미지를 출력하도록 구성된 인공지능 모델일 수 있다. 상기 경량 신경망은 상기 교사 신경망으로부터 특징 맵 추출을 위한 지식과, 정량적 이미지 복원을 위한 지식을 전달받아 훈련한 인공지능 모델일 수 있다. 상기 경량 신경망은 정답 이미지와의 차이에 관계된 제1 손실, 상기 교사 신경망에서 추출된 특징 맵과의 차이 에 관계된 제2 손실, 그리고 상기 교사 신경망에서 생성된 정량적 이미지와의 차이에 관계된 제3 손실을 포함하 는 목적 함수를 이용하여 훈련한 인공지능 모델일 수 있다. 상기 정량적 변수는 감쇠 계수(Attenuation Coefficient, AC), 음속도(Speed of Sound, SoS), 산란체 밀도 (Effective Scatterer Concentration, ESC), 그리고 산란체 크기(Effective Scatterer Diameter, ESD) 중 적어 도 하나를 포함할 수 있다. 상기 이미징 장치는 이동형(mobile) 기기일 수 있다. 한 실시예에 따라 컴퓨터 판독 가능한 저장 매체에 저장되고, 프로세서에 의해 실행되는 명령어들을 포함하는 컴퓨터 프로그램으로서, 조직의 초음파 데이터를 입력받고, 상기 초음파 데이터로부터 정량적 특징 맵을 추출하 는 인코더, 그리고 상기 정량적 특징 맵으로부터 상기 조직 내 정량적 변수의 분포를 나타내는 정량적 이미지를 복원하는 디코더를 실행시키는 명령어들을 포함하고, 상기 인코더와 상기 디코더는 교사 신경망으로부터 전달된 특징 맵 추출 지식과 이미지 복원 지식을 이용하여 훈련된 경량 신경망이다. 상기 인코더는 다중 단계 분리형 컨볼루션(multi-stage separable convolution)을 사용하여 상기 초음파 데이터 로부터 정량적 특징을 추출하도록 구성된 모델일 수 있다. 상기 인코더와 상기 디코더는 신경망 파라미터 양자화를 통해 경량화된 모델로서, 상기 초음파 데이터로부터 정 량적 특징을 추출하고, 상기 정량적 특징을 복원하여 상기 정량적 이미지를 출력하도록 구성된 인공지능 모델일 수 있다. 상기 인코더와 상기 디코더는 정답 이미지와의 차이에 관계된 제1 손실, 상기 교사 신경망에서 추출된 특징 맵 과의 차이에 관계된 제2 손실, 그리고 상기 교사 신경망에서 생성된 정량적 이미지와의 차이에 관계된 제3 손실 을 포함하는 목적 함수를 이용하여 훈련한 인공지능 모델일 수 있다. 상기 정량적 변수는 감쇠 계수(Attenuation Coefficient, AC), 음속도(Speed of Sound, SoS), 산란체 밀도 (Effective Scatterer Concentration, ESC), 그리고 산란체 크기(Effective Scatterer Diameter, ESD) 중 적어 도 하나를 포함할 수 있다."}
{"patent_id": "10-2023-0132844", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "실시예에 따르면, 경량 신경망을 통해 고품질의 정량적 이미지(quantitative image)를 실시간으로 재구성 (reconstruct)할 수 있으므로, 이동형(mobile) 초음파 기기와 같이 자원이 제한된 초음파 기기에서도 고품질의 정량적 이미지를 제공할 수 있도록 만들 수 있다. 실시예에 따르면, 지식 증류를 통해 경량 신경망의 재구성 정확도(reconstruction accuracy)를 높일 수 있다. 실시예에 따르면, 기존 신경망에 비해 경량 신경망의 파라미터 수를 96% 이상 줄일 수 있어서, 초음파 정량적 이미징을 위해 요구되는 컴퓨팅 자원을 줄일 수 있다. 실시예에 따르면, 정량적 초음파 이미징을 위해 요구되는 컴퓨팅 자원을 줄임으로써 결과적으로 제품 가격을 낮 출 수 있고, 이동형 초음파 기기를 포함한 다양한 종류의 초음파 기기의 활용을 넓힐 수 있다."}
{"patent_id": "10-2023-0132844", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "아래에서는 첨부한 도면을 참고로 하여 본 발명의 실시예에 대하여 본 발명이 속하는 기술 분야에서 통상의 지 식을 가진 자가 용이하게 실시할 수 있도록 상세히 설명한다. 그러나 본 발명은 여러 가지 상이한 형태로 구현 될 수 있으며 여기에서 설명하는 실시예에 한정되지 않는다. 그리고 도면에서 본 발명을 명확하게 설명하기 위 해서 설명과 관계없는 부분은 생략하였으며, 명세서 전체를 통하여 유사한 부분에 대해서는 유사한 도면 부호를 붙였다. 명세서 전체에서, 어떤 부분이 어떤 구성요소를 \"포함\"한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다 른 구성요소를 제외하는 것이 아니라 다른 구성요소를 더 포함할 수 있는 것을 의미한다. 또한, 명세서에 기재 된 \"…부\", \"…기\", \"모듈\" 등의 용어는 적어도 하나의 기능이나 동작을 처리하는 단위를 의미하며, 이는 하드 웨어나 소프트웨어 또는 하드웨어 및 소프트웨어의 결합으로 구현될 수 있다. 본 발명의 신경망은 적어도 하나의 태스크를 학습하는 인공지능 모델로서, 컴퓨팅 장치에서 실행되는 소프트웨 어/프로그램으로 구현될 수 있다. 프로그램은 저장 매체(non-transitory storage media)에 저장되고, 프로세서 에 의해 본 발명의 동작을 실행하도록 기술된 명령들(instructions)을 포함한다. 프로그램은 네트워크를 통해 다운로드되거나, 제품 형태로 판매될 수 있다. 도 1은 한 실시예에 따른 정량적 초음파 이미징 장치를 개념적으로 설명하는 도면이고, 도 2는 한 실시예에 따 른 신경망을 설명하는 도면이며, 도 3은 다중 단계 분리형 컨볼루션을 설명하는 도면이다. 도 1을 참고하면, 정량적 초음파 이미징 장치(간단히, ‘이미징 장치’라고 함)는 적어도 하나의 프로세서 에 의해 동작하는 컴퓨팅 장치로서, 초음파 프로브를 통해 조직에서 수득된 초음파 데이터를 입력받는다. 이미징 장치는 명령어들을 저장하는 메모리 및 명령어들을 실행하는 프로세서를 포함하고, 프로세서가 컴 퓨터 프로그램에 포함된 명령어들을 실행함으로써 본 개시의 동작을 수행한다. 이미징 장치는 통신 네트워크를 통해 복수의 초음파 기기들과 연동하도록 구현되거나, 초음파 기기에 통합 되어 구현될 수 있다. 이미징 장치는 사용 가능한 컴퓨팅 자원(예를 들면, 메모리, 프로세서 등)이 제한적 인 기기에 구현되어 정량적 이미지를 제공할 수 있고, 예를 들면, 다양한 형태의 이동형 기기에 구현될 수 있다. 이미징 장치는 초음파 데이터로부터 조직의 정량적 특징을 추출하는 신경망을 이용하여, 조직의 특성 을 나타내는 적어도 하나의 변수에 대한 정량적 이미지(quantitative image)를 생성할 수 있다. 여기서, 이미징 장치는 조직의 정량적 변수들인 감쇠 계수(Attenuation Coefficient, AC), 음속도(Speed of Sound, SoS), 조직 내 밀도 분포를 나타내는 산란체 밀도(Effective Scatterer Concentration, ESC), 조직 내 세포 등의 크 기를 나타내는 산란체 크기(Effective Scatterer Diameter, ESD) 등에 대한 이미지를 출력할 수 있다. 신경망은 적어도 하나의 태스크를 학습할 수 있는 인공지능 모델로서, 컴퓨팅 장치에서 실행되는 소프트웨 어/프로그램으로 구현될 수 있다. 신경망은 경량 신경망(lightweight neural network)으로서, 이동형 기기 와 같이, 사용 가능한 자원이 제한된 기기에서도 적용될 수 있는 점에서 MQI-Net(mobile friendly quantitative ultrasonic imaging network)이라고 부를 수 있다. 한편, 감쇠 계수, 음속도, 산란체 밀도, 산란체 크기 각각은 병변 추출의 바이오마커로 알려져 있는 변수들로서, 조직의 생체역학적 특성과 밀접한 관련이 있다. 따라서, 여러 변수들을 사용할수록 병변의 포괄적분석이 가능해서 진단 민감도(sensitivity)와 특이도(specificity)를 높일 수 있다. 조직의 정량적 이미지를 생성하는데 사용되는 초음파 데이터는 초음파 프로브로부터 수득될 수 있다. 초음 파 프로브는 초음파 신호를 방사하고, 조직에서 반사된 초음파 데이터를 수득할 수 있는 프로브이다. 조직 으로 방사되는 초음파 신호는 평면파(plane wave)일 수 있다. 초음파 프로브는 N개(예를 들면, 128개)의 초 음파 센서들이 배열되고, 배열 모양에 따라 종류가 다양할 수 있다. 센서들은 압전 소자들(piezoelectrical elements)로 구현될 수 있다. 또한, 초음파 프로브는 각 압전 소자에 일정한 시간 간격으로 전기적 신호를 가하여 초음파 신호를 생성하는 위상차 배열(phased array) 프로브일 수 있다. 초음파 프로브는 서로 다른 빔패턴(Tx pattern #1~ #k)의 초음파 신호들을 조직에 입사하고, 조직에서 반사 되어 되돌아온 RF(Radio Frequency) 데이터를 획득할 수 있다. 초음파 데이터는 k개의 서로 다른 입사각을 갖는 평면파를 사용하여 획득된 RF 데이터로서, 예를 들면, 입사각이 -15°, -10°, -5°, 0°, 5°, 10°, 15°로 설정될 수 있다. 여기서, 초음파 데이터는 초음파 프로브에서 수득된 RF 데이터뿐만 아니라, 수득된 RF 데 이터로부터 합성된 데이터를 포함할 수 있다. 한편, 초음파 프로브에서 수득된 초음파 데이터는, 초음파 프로브의 센서별로, 반사된 초음파 신호를 수신한 지연 시간 정보를 포함한다. 따라서, 초음파 데이터는 센서별 지연 시간 정보를 나타내는 이미지로 표현 될 수 있다. 도 2를 참고하면, 경량 신경망은 조직에서 수득한 초음파 데이터(U: U1~Uk)로부터 정량적 특징 (quantitative feature) q를 추출하고, 정량적 특징으로부터 정량적 이미지 Iq를 복원하는 인코더 (encoder)와 디코더(decoder)를 포함할 수 있다. 인코더와 디코더의 구조는 다양하게 설 계될 수 있다. 경량 신경망은 초음파 데이터로부터, 조직 내 정량적 변수의 분포를 나타내는 정량적 이미지 Iq를 생성할 수 있다. 신경망은 예를 들면, 감쇠 계수 이미지(400-1), 음속도 이미지(400-2), 산란체 밀도 이미지(400- 3), 산란체 크기 이미지(400-4) 등을 생성할 수 있는데, 복수의 정량 변수들에 정량적 이미지를 생성할 수 있다. 신경망 구조는 다양하게 설계될 수 있다. 예를 들면, 경량 신경망은 초음파 데이터에서 복원할 목적 변수 에 따라 정량적 특징을 가변적으로 추출하는 조건부 인코딩(conditional encoding)을 수행하고, 이를 통해, 조 직의 다변수 정량적 이미지들(Multi-variable quantitative images)을 복합적으로 생성할 수 있다. 여기서, 조 건부 인코딩은, 초음파 데이터로부터 복원할 변수의 정량적 특징이 최적으로 추출되도록, 선택되는 변수에 따라 조건적으로 인코딩 경로의 네트워크 파라미터를 변경하여, 해당 변수에 대한 이미지 복원 성능을 높일 수 있는 데, 정량적 이미지 생성을 위한 인코더 및 디코더 구조는 다양하게 설계될 수 있다. 예를 들면, 인코더는 초음파 데이터 이미지 U~R128X3018X7를 특징 맵 q~R16X16X512로 압축할 수 있다. 초음파 데 이터 이미지는 프로브 센서들(transducer elements)의 수(N=128), 시간축 인덱스들(예를 들면, t=3018), 그리 고 빔패턴들(k=7)로 표현될 수 있다. 인코더는 다양한 네트워크 모델/네트워크 블록으로 인코딩 네트워크 를 구성할 수 있고, 인코딩 경로는 컨볼루션 연산, 활성화(예를 들면, ReLU), 다운샘플링을 연속적으로 수행하 도록 구성될 수 있다. 디코더는 인코더에서 출력된 특징 맵 q를 입력받고, 특징 맵 q으로부터 정량적 이미지 Iq를 복원할 수 있다. 예를 들어, 디코더는 특징 맵 q~R16X16X512로부터, 정량적 이미지 Iq~R128X128를 생성할 수 있다. 디코 더는 다양한 네트워크 모델/네트워크 블록으로 디코딩 네트워크를 구성할 수 있다. 예를 들어, 디코더 는 업샘플링 방식으로 고해상도의 정량적 이미지 Iq를 생성할 수 있다. 또는 디코더는 고해상도 네트 워크(High-Resolution Network, HRNet) 기반의 병렬적 다중 해상도 서브네트워크들(parallel multi-resolution subnetworks)을 이용하여, 고해상도의 정량적 이미지 Iq를 생성할 수 있다. 병렬적 다중 해상도 서브네트워크들 로 구성된 디코더는 저해상도 서브네트워크에서부터 순차적으로 다중 해상도 컨볼루션(multi-resolution convolution)을 수행하여, 이미지 해상도를 높여가면서, 최종적으로 고해상도의 정량적 이미지 Iq를 생성할 수 있다. 디코더의 출력 레이어는 가장 높은 해상도 표현으로 병합하고, 1x1 컨볼루션을 통해 합성된 고해상 도의 정량적 이미지 Iq를 생성할 수 있다. 경량 신경망은 다중 단계 분리형 컨볼루션(multi-stage separable convolution)을 사용하여 특징을 인코 딩할 수 있다. 다중 단계 분리형 컨볼루션은 다양할 수 있고, 예를 들면, 깊이별 분리형 컨볼루션(depth-wise separable convolution)을 포함할 수 있다. 도 3의 (a)를 참고하면, 일반 컨볼루션 필터는, 공간 및 채널별 작업을 동시에 수행한다. 이와 달리, (b)를 참 고하면, 다중 단계 분리형 컨볼루션은 이를 분리하여, 깊이별 컨볼루션(depth-wise convolution)과 포인트별 컨 볼루션(point-wise convolution)을 순차적으로 수행한다. 깊이별 컨벌루션은 입력의 각 채널에 대해 동일한 커널을 컨벌루션한다. 포인트별 컨볼루션은 1x1 커널 컨볼루 션 필터를 적용하여 깊이별 컨볼루션의 출력 채널을 결합한다. 이러한, 다중 단계 분리형 컨볼루션을 사용함으 로써, 경량 신경망은 일반 컨볼루션 방식의 일반적인 처리 중복(processing redundancy)을 줄임으로써 경 량화할 수 있고, 효율성을 향상시킬 수 있다. 한편, 경량 신경망은 신경망 파라미터 양자화(Quantization)를 통해 경량화될 수 있다. 양자화는 신경망의 가중치와 활성화 함수(activation function)의 파라미터들을 정수나 적은 비트 수로 표현하거나, 정밀도를 감소 시켜 계산 복잡성을 낮추는 방식으로 수행될 수 있다. 신경망 파라미터 양자화는 경량 신경망의 훈련 과정에서 수행되거나, 훈련 완료 후 수행될 수 있다. 이와 같이, 경량 신경망은 일반 컨볼루션 방식을 사용하는 신경망에 비해 파라미터 수를 96% 줄여서 모델 크기를 줄이고, 계산 속도를 높이며, 메모리 사용량을 줄일 수 있다. 일반적으로 신경망의 파라미터 수를 줄이 는 경우, 재구성 정확도가 저하될 수 있는데, 신경망은 지식 증류(knowledge distillation)를 통해 성능을 향상시킬 수 있다. 경량 신경망은 다중 단계 분리형 컨볼루션, 신경망 파라미터 양자화, 그리고 지식 증류 등의 기술을 통해 경량화되면서도 정확도를 높일 수 있다. 도 4는 한 실시예에 따른 신경망 훈련을 설명하는 도면이다. 도 4를 참고하면, 경량 신경망은 지식 증류 기반으로 훈련될 수 있다. 지식 증류는 교사(teacher) 신경망 의 지식을 학생(student) 신경망으로 전달함으로써, 학생 신경망을 훈련시키는 방법이다. 경량 신경망은 별도의 컴퓨팅 장치에 의해 훈련될 수 있다. 경량 신경망은 교사 신경망의 지식을 전달받아 학습하는 학생 신경망일 수 있고, 교사 신경망에 비해 파라미터 수가 적은 경량 모델일 수 있다. 교사 신경망은 초음파 데이터 U(RF)로부터 특징 맵 qT를 추출하고, 특징 맵 qT로부터 정량적 이미지 IT를 복원하도록 구성된 모델로서, 대량의 파라미터들을 사용하는 대 규모 인공지능 모델일 수 있다. 교사 신경망은 인코더와 디코더 구조로 설계될 수 있다. 경량 신경망은 조직의 초음파 데이터를 입력받고, 초음파 데이터로부터 정량적 특징 맵을 추출하는 인코더 , 정량적 특징 맵으로부터 조직 내 정량적 변수의 분포를 나타내는 정량적 이미지를 복원하는 디코더(23 0)를 포함할 수 있다. 인코더는 교사 신경망으로부터 전달된 특징 맵 추출 지식을 이용하여 훈련된 경량 모델이고, 디코더는 교사 신경망으로부터 전달된 이미지 복원 지식을 이용하여 훈련된 경량 모델일 수 있다. 경량 신경망은 초음파 데이터 U(RF)로부터 특징 맵 qS를 추출하고, 특징 맵 qS로부터 정량적 이미지 IS를 복원하도록 구성되고, 훈련 과정에서 정답 이미지(Ground truth) IGT와의 복원/재구성 손실(loss)뿐만 아니라, 교사 신경망으로부터 전달된 지식을 사용하여 훈련할 수 있다. 경량 신경망은 교사 신경망으로 부터 특징 맵 추출을 위한 지식과, 정량적 이미지 복원을 위한 지식을 전달받을 수 있다. 특징 맵 추출을 위한 지식은 정량적 컨텍스트 증류(Quantitative Context distillation, QCD) 지식이라고 부르고, 정량적 이미지 복 원을 위한 지식은 픽섹별 증류(Pixel-wise Distillation, PWD) 지식이라고 부를 수 있다. 정량적 컨텍스트 증류(QCD) 지식은 교사 신경망의 특징 맵 추출 방식을 경량 신경망으로 전달하는 역 할을 하고, 정량적 컨텍스트 증류(QCD) 지식에 의해, 인코더가 교사 신경망의 특징 맵 qT에 가깝게 초음파 데이터 U(RF)의 특징 맵 qS를 인코딩하도록 훈련된다. 픽셀별 증류(PWD) 지식은 교사 신경망의 이미지 복원 방식을 경량 신경망으로 전달하는 역할을 하고, 픽셀별 증류(PWD) 지식에 의해, 디코더가 교사 신경망에서 출력된 정량적 이미지 IT에 가깝게 정량적 이미지 IS를 복원하도록 훈련된다. 경량 신경망의 훈련에 사용되는 목적 함수 θ*는 수학식 1과 같은 손실 함수로 정의될 수 있고, 경량 신경 망은 손실 함수가 최소화되도록 학습할 수 있다. 경량 신경망은 생성한 정량적 이미지 IS와 정답 이 미지 IGT의 차이에 관계된 손실 LMSE을 최소화하도록 훈련되는데, 교사 신경망의 지식과의 차이에 관계된 손 실인 LQCD와 LPWD을 반영하여 훈련된다. 교사 신경망으로부터의 지식 전이(knowledge transfer)의 정도는 하 이퍼파라미터 β, λ에 의해 조절될 수 있다. 수학식 1의 LMSE, LQCD, LPWD는 수학식 2, 수학식 3, 수학식 4와 같 이 정의될 수 있으나, 이에 한정되는 것은 아니다. 수학식 1"}
{"patent_id": "10-2023-0132844", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "수학식 2"}
{"patent_id": "10-2023-0132844", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "수학식 3"}
{"patent_id": "10-2023-0132844", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "수학식 4"}
{"patent_id": "10-2023-0132844", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "수학식 1에서, LMSE는 경량 신경망에서 출력한 정량적 이미지 IS와 정답 이미지 IGT와의 차이에 관계된 손실 로서, 수학식 2와 같이 평균제곱오차(Mean Squared Error, MSE)로 계산될 수 있다. 수학식 1에서, LQCD는 경량 신경망에서 추출한 특징 맵 qS와 교사 신경망에서 추출된 특징 맵 qT의 차 이에 관계된 손실로서, 수학식 3과 같이 정량적 컨텍스트 증류(QCD) 손실로 표현될 수 있다. 수학식 3에서, C, H, 그리고 W 각각은 특징 맵의 채널(channel), 높이(height), 폭(width)이다. LQCD에 의해, 특징 맵 qS와 특징 맵 qT의 L1 norm을 최소화화도록 인코더가 훈련될 수 있다. 수학식 1에서, LPWD는 경량 신경망에서 생성한 정량적 이미지 IS와 교사 신경망에서 생성한 정량적 이 미지 IT의 차이에 관계된 손실로서, 수학식 4와 같이 픽셀별 증류(PWD) 손실로 표현될 수 있다. 수학식 4에서, H와 W 각각은 이미지의 높이(height)와 폭(width)이다. LPWD에 의해, 정량적 이미지 IS와 정량적 이미지 IT의 차 이를 최소화화도록 디코더가 훈련될 수 있다. 경량 신경망의 학습 데이터는 여러 인체 환경에서 얻은 초음파 데이터로 구성될 수 있고, 초음파 시뮬레이 션 툴을 이용하여 수집될 수 있다. 장기(organs)와 병변(lesions)을 나타내는 시뮬레이션 팬텀(simulationphantoms)은 인체를 모방하면서도 간단하고 일반성을 잃지 않도록, 음속도 분포, 감쇠계수 분포, 밀도 분포가 모델링될 수 있다. 예를 들면, 시뮬레이션에서 관심 영역(Region of Interest, RoI)은 45mm x 45mm으로 설정되고 반지름이 2~30mm 인 타원들이 무작위로 배치될 수 있다. 배경과 타원은 1400~1700m/s 범위의 음속도, 0~1.5dB/cm/MHz 범위의 감 쇠계수, 0.85~1.15kg/m3 범위의 밀도 값을 가질 수 있다. 크기가 0~150μm인 speckle은 산란체 밀도 및 산란체 크기를 표현하기 위해 분포될 수 있다 도 5는 한 실시예에 따른 정량적 초음파 이미징 방법의 흐름도이다. 도 5를 참고하면, 이미징 장치는 조직의 초음파 데이터를 입력받는다(S110). 초음파 데이터는 k개의 서로 다른 입사각을 갖는 평면파를 사용하여 획득한 RF 데이터일 수 있다. 이미징 장치는 경량 신경망을 사용하여, 초음파 데이터로부터 조직 내 정량적 변수의 분포를 나타내 는 정량적 이미지를 생성한다(S120). 경량 신경망은 다중 단계 분리형 컨볼루션 을 사용하여 초음파 데이 터로부터 정량적 특징을 추출하도록 구성되고, 이를 통해 일반 컨볼루션 방식의 일반적인 처리 중복을 줄임으로 써 경량화할 수 있고, 효율성을 향상시킬 수 있다. 경량 신경망은 신경망 파라미터 양자화를 통해 경량화 될 수 있다. 경량 신경망은 정량적 컨텍스트 증류(QCD) 지식을 통해 교사 신경망의 특징 맵 추출 방 식을 전달받고, 픽셀별 증류(PWD) 지식을 통해 교사 신경망의 이미지 복원 방식을 전달받아 훈련함으로써 재구성 정확도를 높이고 성능을 향상시킬 수 있다. 경량 신경망은 초음파 데이터로부터, 감쇠 계수, 음속도, 산란체 밀도, 산란체 크기 등에 대한 정략적 이 미지를 복원하도록 훈련될 수 있다. 경량 신경망의 구조는 다양하게 설계될 수 있는데, 예를 들면, 초음파 데이터에서 복원할 목적 변수에 따라 정량적 특징을 가변적으로 추출하는 조건부 인코딩(conditional encodin g)을 수행하고, 추출한 정량적 특징 맵으로부터 정량적 이미지를 복원할 수 있다. 도 6은 한 실시예에 따른 이미징 장치의 하드웨어 구성도이다. 도 6을 참고하면, 이미징 장치는 적어도 하나의 프로세서에 의해 동작하는 컴퓨팅 장치일 수 있고, 초음파 프로브 또는 초음파 프로브에서 획득된 데이터를 제공하는 장치와 연결된다. 컴퓨팅 장치는 하나 이상의 프로세서, 프로세서에 의하여 수행되는 프로그램을 로드하는 메모리 , 프로그램 및 각종 데이터를 저장하는 스토리지, 통신 인터페이스, 그리고 이들을 연결하는 버 스를 포함할 수 있다. 이외에도, 컴퓨팅 장치는 다양한 구성 요소가 더 포함될 수 있다. 프로그램은 메모리에 로드될 때 프로세서로 하여금 본 개시의 다양한 실시예에 따른 방법/동작을 수행하도록 하 는 명령어들(instruction)을 포함할 수 있다. 즉, 프로세서는 명령어들을 실행함으로써, 본 개시의 다양한 실시예에 따른 방법/동작들을 수행할 수 있다. 명령어는 기능을 기준으로 묶인 일련의 컴퓨터 판독가능 명령어 들로서 컴퓨터 프로그램의 구성 요소이자 프로세서에 의해 실행되는 것을 가리킨다. 프로세서는 컴퓨팅 장치의 각 구성의 전반적인 동작을 제어한다. 프로세서는 CPU(Central Processing Unit), MPU(Micro Processor Unit), MCU(Micro Controller Unit), GPU(Graphic Processing Unit) 또는 본 개시의 기술 분야에 잘 알려진 임의의 형태의 프로세서 중 적어도 하나를 포함하여 구성될 수 있다. 또 한, 프로세서는 본 개시의 다양한 실시예들에 따른 방법/동작을 실행하기 위한 적어도 하나의 애플리케이 션 또는 프로그램에 대한 연산을 수행할 수 있다. 메모리는 각종 데이터, 명령 및/또는 정보를 저장한다. 메모리는 본 개시의 다양한 실시예들에 따른 방법/동작을 실행하기 위하여 스토리지로부터 하나 이상의 프로그램을 로드할 수 있다. 메모리는 RAM 과 같은 휘발성 메모리로 구현될 수 있을 것이나, 본 개시의 기술적 범위는 이에 한정되지 않는다. 스토리지는 프로그램을 비임시적으로 저장할 수 있다. 스토리지는 ROM(Read Only Memory), EPROM(Erasable Programmable ROM), EEPROM(Electrically Erasable Programmable ROM), 플래시 메모리 등과 같은 비휘발성 메모리, 하드 디스크, 착탈형 디스크, 또는 본 개시가 속하는 기술 분야에서 잘 알려진 임의의 형태의 컴퓨터로 읽을 수 있는 기록 매체를 포함하여 구성될 수 있다. 통신 인터페이스는 컴퓨팅 장치의 유무선 통신을 지원한다. 이를 위해, 통신 인터페이스는 본 개시의 기술 분야에 잘 알려진 통신 모듈을 포함하여 구성될 수 있다. 버스는 컴퓨팅 장치의 구성 요소 간 통신 기능을 제공한 다. 버스는 주소 버스(Address Bus), 데이터 버스(Data Bus) 및 제어 버스(Control Bus) 등 다양한 형태의 버스로 구현될 수 있다. 이와 같이, 실시예에 따르면, 경량 신경망을 통해 고품질의 정량적 이미지(quantitative image)를 실시간으로 재구성(reconstruct)할 수 있으므로, 이동형 초음파 기기와 같이 자원이 제한된 초음파 기기에서도 고품질의 정 량적 이미지를 제공할 수 있도록 만들 수 있다. 실시예에 따르면, 지식 증류를 통해 경량 신경망의 재구성 정확도(reconstruction accuracy)를 높일 수 있다. 실시예에 따르면, 기존 신경망에 비해 경량 신경망의 파라미터 수를 96% 이상 줄일 수 있어서, 초음파 정량적 이미징을 위해 요구되는 컴퓨팅 자원을 줄일 수 있다. 실시예에 따르면, 정량적 초음파 이미징을 위해 요구되는 컴퓨팅 자원을 줄임으로써 결과적으로 제품 가격을 낮 출 수 있고, 이동형 초음파 기기를 포함한 다양한 종류의 초음파 기기의 활용을 넓힐 수 있다. 이상에서 설명한 본 발명의 실시예는 장치 및 방법을 통해서만 구현이 되는 것은 아니며, 본 발명의 실시예의 구성에 대응하는 기능을 실현하는 프로그램 또는 그 프로그램이 기록된 기록 매체를 통해 구현될 수도 있다. 이상에서 본 발명의 실시예에 대하여 상세하게 설명하였지만 본 발명의 권리범위는 이에 한정되는 것은 아니고 다음의 청구범위에서 정의하고 있는 본 발명의 기본 개념을 이용한 당업자의 여러 변형 및 개량 형태 또한 본 발명의 권리범위에 속하는 것이다.도면 도면1 도면2 도면3 도면4 도면5 도면6"}
{"patent_id": "10-2023-0132844", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 한 실시예에 따른 정량적 초음파 이미징 장치를 개념적으로 설명하는 도면이다. 도 2는 한 실시예에 따른 신경망을 설명하는 도면이다. 도 3은 다중 단계 분리형 컨볼루션을 설명하는 도면이다. 도 4는 한 실시예에 따른 신경망 훈련을 설명하는 도면이다. 도 5는 한 실시예에 따른 정량적 초음파 이미징 방법의 흐름도이다. 도 6은 한 실시예에 따른 이미징 장치의 하드웨어 구성도이다."}
