{"patent_id": "10-2023-0118289", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0035818", "출원번호": "10-2023-0118289", "발명의 명칭": "다중 염색 슬라이드 기반의 오토 라벨링 시스템 및 방법", "출원인": "국립암센터", "발명자": "한나영"}}
{"patent_id": "10-2023-0118289", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "하나의 샘플을 서로 다른 방식으로 염색한 제1, 제2 염색 슬라이드에 대해 상기 제1, 제2 염색 슬라이드 각각의색상 및 크기를 보정하는 사전처리부;상기 제1, 제2 염색 슬라이드를 포지티브 영역 및 네거티브 영역으로 라벨링하는 제1 라벨링부;상기 제1, 제2 염색 슬라이드를 매칭하여 제3, 제4 염색 슬라이드를 생성하는 매칭부; 및상기 제3, 제4 염색 슬라이드에 대해 포지티브 영역 및 네거티브 영역으로 라벨링하는 제2 라벨링부;를 포함하는 라벨링 시스템."}
{"patent_id": "10-2023-0118289", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서, 상기 제1 염색 슬라이드 및 제3 염색 슬라이드는 H&E(Hematoxylin & Eosin) 염색 슬라이드이고, 상기 제2 염색슬라이드 및 제4 염색 슬라이드는 IHC(Immunohistochemistry) 염색 슬라이드인 것을 특징으로 하는 라벨링 시스템."}
{"patent_id": "10-2023-0118289", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 매칭부는,상기 제1, 제2 염색 슬라이드에서 복수의 특징점을 생성하고 각각의 특징을 추출하는 특징추출부;상기 제1, 제2 염색 슬라이드의 특징을 매칭하여 가장 가까운 매칭쌍을 찾아 정렬하는 특징매칭부;상기 제1, 제2 염색 슬라이드의 매칭쌍에서 가장 강한 매칭 쌍 4개를 기반으로 호모그래피 행렬(Homographymatrix)을 생성하는 행렬생성부; 및상기 제1, 제2 염색 슬라이드 및 상기 호모그래피 행렬을 기반으로 상기 제2 염색 슬라이드를 원근변환(Perspective transform)하여 제4 염색 슬라이드를 만드는 매칭 슬라이드 생성부;를 포함하는 라벨링 시스템."}
{"patent_id": "10-2023-0118289", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,상기 특징매칭부는 상기 제1, 제2 염색 슬라이드의 색상 의존성을 제거하기 위한 정규화를 한 후 윤곽이 뚜렷이보이는 저배율에서 피크점끼리 매칭시키며, 고배율에서 매칭된 포인트를 기반으로 특징을 다시 추출하고 매칭하여 매칭 정밀도를 높이는 것을 특징으로 하는 라벨링 시스템."}
{"patent_id": "10-2023-0118289", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서,공개특허 10-2025-0035818-3-상기 매칭부는 상기 제1, 제2 염색 슬라이드에 대한 각각의 복제본을 생성하고, 생성된 복제본을 상기 제1, 제2슬라이드와 매칭하여 새로운 염색 슬라이드를 생성하는 것을 특징으로 하는 라벨링 시스템."}
{"patent_id": "10-2023-0118289", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에 있어서,상기 샘플 내 종양의 존재 및 위치를 판단하는 딥러닝 모델;상기 제1 내지 제4 염색 슬라이드의 라벨링 데이터를 이용하여 상기 딥러닝 모델을 학습하는 학습부; 및기저장된 데이터를 기반으로 상기 딥러닝 모델의 학습 상태를 평가하는 평가부;를 더 포함하는 것을 특징으로 하는 라벨링 시스템."}
{"patent_id": "10-2023-0118289", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제1항에 있어서, 상기 제3, 제4 염색 슬라이드를 다시 제1 라벨링부에 인가하여 제5, 제6 염색 슬라이드를 생성하는 과정을 기설정된 횟수만큼 반복하여 학습용 염색 슬라이드의 수를 증가시키는 것을 특징으로 하는 라벨링 시스템."}
{"patent_id": "10-2023-0118289", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제1 라벨링부에서 하나의 샘플을 서로 다른 방식으로 염색한 제n, 제(n+1) 염색 슬라이드에 대해 상기 제n, 제(n+1) 염색 슬라이드를 포지티브 영역 및 네거티브 영역으로 라벨링을 수행하는 단계;매칭부에서 상기 제n, 제(n+1) 염색 슬라이드를 매칭하여 제(n+2), 제(n+3) 염색 슬라이드를 생성하는 단계; 및 제2 라벨링부에서 상기 제(n+2), 제(n+3) 염색 슬라이드에 대해 포지티브 영역 및 네거티브 영역으로 라벨링하는 단계;를 포함하며, 상기 n은 자연수인 것을 특징으로 하는 라벨링 방법."}
{"patent_id": "10-2023-0118289", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에 있어서,상기 제n 염색 슬라이드 및 제(n+2) 염색 슬라이드는 H&E(Hematoxylin & Eosin) 염색 슬라이드이고, 상기 제(n+1) 염색 슬라이드 및 제(n+3) 염색 슬라이드는 IHC(Immunohistochemistry) 염색 슬라이드인 것을 특징으로하는 라벨링 방법."}
{"patent_id": "10-2023-0118289", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제8항에 있어서,상기 제(n+2), 제(n+3) 염색 슬라이드를 생성하는 단계는,특징추출부에서 상기 제n, 제(n+1) 염색 슬라이드에 복수의 특징점을 생성하고 염색 슬라이드 각각의 특징을 추출하는 단계;행렬생성부에서 상기 제n, 제(n+1) 염색 슬라이드의 호모그래피 행렬(Homography Matrix)을 생성하는 단계; 및상기 호모그래피 행렬을 기반으로 상기 제n, 제(n+1) 염색 슬라이드 중 하나 이상의 특징을 매칭하는 단계;공개특허 10-2025-0035818-4-를 포함하는 라벨링 방법."}
{"patent_id": "10-2023-0118289", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제10항에 있어서,상기 특징을 매칭하는 단계는 상기 제n, 제(n+1) 염색 슬라이드의 색상 의존성을 제거하기 위한 정규화를 한 후윤곽이 뚜렷이 보이는 저배율에서 피크점끼리 매칭시키며, 고배율에서 매칭된 포인트를 기반으로 특징을 다시추출하고 매칭하여 매칭 정밀도를 높이는 것을 특징으로 하는 라벨링 방법."}
{"patent_id": "10-2023-0118289", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제8항에 있어서,제(n+2), 제(n+3) 염색 슬라이드를 생성하는 단계는 상기 제n, 제(n+1) 염색 슬라이드에 대한 각각의 복제본을생성하고, 생성된 복제본을 상기 제n, 제(n+1) 염색 슬라이드와 매칭하여 상기 제(n+2), 제(n+3) 염색 슬라이드를 생성하는 것을 특징으로 하는 라벨링 방법."}
{"patent_id": "10-2023-0118289", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제8항에 있어서,제(n+2), 제(n+3) 염색 슬라이드를 생성하는 단계는 상기 제n, 제(n+1) 염색 슬라이드에 대한 각각의 복제본을생성하고, 생성된 복제본을 상기 제n, 제(n+1) 염색 슬라이드와 매칭하여 상기 제(n+2), 제(n+3) 염색 슬라이드를 생성하는 것을 특징으로 하는 라벨링 방법."}
{"patent_id": "10-2023-0118289", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제8항에 있어서,제(n+2), 제(n+3) 염색 슬라이드를 생성하는 단계는 상기 제n, 제(n+1) 염색 슬라이드에 대한 각각의 복제본을생성하고, 생성된 복제본을 상기 제n, 제(n+1) 염색 슬라이드와 매칭하여 상기 제(n+2), 제(n+3) 염색 슬라이드를 생성하는 것을 특징으로 하는 라벨링 방법."}
{"patent_id": "10-2023-0118289", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 병리 AI를 학습하기 위한 다량의 데이터를 자동으로 생성 및 오토 라벨링을 수행하는 라벨링 시스템에 관한 것으로, 더욱 상세하게는 하나의 샘플을 서로 다른 방식으로 염색한 제1, 제2 염색 슬라이드에 대해 상기 제1, 제2 염색 슬라이드 각각의 색상 및 크기를 보정하는 사전처리부, 상기 제1, 제2 염색 슬라이드를 포지티브 영역 및 네거티브 영역으로 라벨링하는 제1 라벨링부, 상기 제1, 제2 염색 슬라이드를 매칭하여 제3, 제4 염색 슬라이드를 생성하는 매칭부 및 상기 제3, 제4 염색 슬라이드에 대해 포지티브 영역 및 네거티브 영역으로 라벨 링하는 제2 라벨링부를 포함하며, 이를 통해 정교한 라벨링이 수행된 다량의 병리 AI 학습용 데이터를 제공할 수 있다."}
{"patent_id": "10-2023-0118289", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 오토 라벨링 시스템 및 방법에 관한 것으로, 구체적으로는 복수의 염색 슬라이드 이미지의 라벨링 정 보를 공유하여 추가 라벨링 이미지를 생성하는 시스템 및 방법에 관한 것이다."}
{"patent_id": "10-2023-0118289", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "종양의 증식 속도는 암 환자의 예후를 예측하기 위한 중요한 인자 중 하나이다. 예를 들어, 종양의 빠른 증식 속도는 앞으로 암 환자의 상태가 더욱 악화될 수 있다는 것을 의미할 수 있다. 따라서, 종양의 증식 속도를 정 확하게 측정하는 것은 암 환자의 치료 계획을 수립하는데 매우 중요한 일 중 하나이다. 유사 분열 세포(Mitosis)의 개수는 종양의 증식 속도와 매우 밀접한 관계로서, 보편적으로 종양의 증식 속도를 측정할 땐 H&E(Hematoxylin & Eosin)로 염색된 조직 슬라이드를 이용하여 유사 분열 세포의 개수를 센다. 유사 분열 세포의 개수를 세는 병리 진단 작업은 일반적으로 병리학자(Pathologist)에 의해 수행된다. 병리학자 는 염색된 조직 슬라이드를 고배율의 현미경을 통해 관찰하거나, 디지털 병리 장비에 의해 스캔된 조직 슬라이 드 이미지를 컴퓨팅 장치를 통해 관찰하는 방식으로 유사 분열 세포의 개수를 센다.그러나, 이러한 병리 진단 방법은 병리학자에 의해 직접 수행되기 때문에 많은 시간적, 경제적 비용이 소모되며 숙련된 병리학자라 하더라도 개인적인 지식이나 경험에 의존해야 하기 때문에 주관적인 판단을 수행할 수밖에 없으며, 이에 따라 병리학자 별로 서로 다른 진단 결과가 도출될 수 있는 문제가 있다. 이와 같은 문제를 해결하기 위하여 최근 이미지 처리 기술 및 신경망 모델을 이용한 병리 인공지능(이하 AI) 솔 루션을 통해 유사 분열 세포의 개수를 세려는 시도가 이루어지고 있으나, 병리 AI 솔루션을 개발하기 위해서는 다량의 학습 데이터가 필수적으로 필요하다. 이러한 학습 데이터의 생성을 위해서는 현미경 수준의 고배율(40x) 영상을 바탕으로 한 영역 분류 작업이 필수적으로 필요한 요소이나, 이 작업 또한 병리학자가 직접 수행하면서 데이터를 생성해야 한다. 이러한 고배율 영상의 경우 이미지 영역이 매우 넓고 병리학적인 다양한 패턴들이 있 어 병리학자가 일일이 눈으로 확인하며 분류해주기에 소요 시간이 길고 요구되는 양도 많아 힘든 작업이다. 상술한 문제를 해결하려면 학습 데이터 생성을 위해 패턴에 따른 정확한 영역 분류나 세포 크기 수준의 영역 분 류가 필요하다. 실질적으로 이러한 작업을 사람이 일일이 직접 수행하기에는 어려움이 따른다. 따라서 잘 생성 된 선행학습데이터를 통해 오토 라벨링(Auto-labeling) 시스템을 구성하고 이를 통해 일차 분류(분석)를 수행하 며, 이후 분석된 결과 데이터를 사람이 검토하고 수정하는 형태로 다량의 데이터를 생성하는 방식을 흔히 적용 하고 있다. 하지만 이 방식에도 초기 학습데이터를 만들기 위해 매우 정교하게 영역 분류가 된 데이터가 필요하 여 초기 데이터를 만들 때는 많은 인력과 시간이 필요하다. 또한, 시간 비용의 절감을 위해 약 지도를 통한 쉬운 라벨링을 할 경우 패치 이미지 크기로 분류하면 포지티브 (Positive) 영역 내 FP(False Positive) 데이터가 많이 포함되어 학습량이 늘어날 수록 정상적인 영역을 더 많 이 포지티브로 인식하여 FP가 늘어나게 된다. 이 문제를 개선하기 위해서는 많은 양의 정확한 네거티브 (Negative) 데이터가 필요하며 이 역시 사람이 직접 정의하여야 하므로 비용 증가의 문제가 발생한다. 따라서, 위와 같은 문제 해결을 위해 병리학자의 개입 없이 AI 학습에 활용할 수 있는 다량의 데이터를 생성하 는 시스템 및 방법의 필요성이 요망된다. 선행기술문헌 특허문헌 (특허문헌 0001) 대한민국 공개특허공보 제10-2022-0119669호 (2022년08월30일 공개)"}
{"patent_id": "10-2023-0118289", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 상기 기술적 과제를 해결하기 위한 것으로, AI를 학습시키기 위한 다량의 데이터를 자동으로 생성하 여 제공하는데 그 목적이 있다. 다른 측면에서 본 발명은 생성된 데이터에 대해 오토 라벨링을 수행하여 AI 학습에 활용함으로써 AI의 성능을 향상시키는데 그 목적이 있다."}
{"patent_id": "10-2023-0118289", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 기술적 과제를 해결하기 위한 본 발명의 일 실시예에 따른 라벨링 시스템은 하나의 샘플을 서로 다른 방식 으로 염색한 제1, 제2 염색 슬라이드에 대해 디지털 병리 이미지를 획득하고 상기 제1, 제2 염색 슬라이드 각각 의 색상 및 크기를 보정하는 사전처리부, 상기 제1, 제2 염색 슬라이드를 포지티브 영역 및 네거티브 영역으로 라벨링하는 제1 라벨링부, 상기 제1, 제2 염색 슬라이드를 매칭하여 제3, 제4 염색 슬라이드를 생성하는 매칭부 및 상기 제3, 제4 염색 슬라이드에 대해 포지티브 영역 및 네거티브 영역으로 라벨링하는 제2 라벨링부를 포함 할 수 있다. 또한, 상기 제1 염색 슬라이드 및 제3 염색 슬라이드는 H&E(Hematoxylin & Eosin) 염색 슬라이드이고, 상기 제2 염색 슬라이드 및 제4 염색 슬라이드는 IHC(면역조직화학) 염색 슬라이드일 수 있다. 또한, 상기 매칭부는 상기 제1, 제2 염색 슬라이드에서 복수의 특징점을 생성하고 각각의 특징을 추출하는 특징 추출부, 상기 제1, 제2 염색 슬라이드의 특징을 매칭하여 가장 가까운 매칭쌍을 찾아 정렬하는 특징매칭부, 상기 제1, 제2 염색 슬라이드의 매칭쌍에서 가장 강한 매칭 쌍 4개를 기반으로 호모그래피 행렬(Homography matrix)을 생성하는 행렬생성부 및 상기 제1, 제2 염색 슬라이드 및 상기 호모그래피 행렬을 기반으로 상기 제2 염색 슬라이드를 원근변환(Perspective transform)하여 제4 염색 슬라이드를 만드는 매칭 슬라이드 생성부를 포 함할 수 있다. 또한, 상기 특징매칭부는 상기 제1, 제2 슬라이드의 색상 의존성을 제거하기 위한 정규화를 한 후 윤곽이 뚜렷 이 보이는 저배율에서 피크점끼리 매칭시키며, 고배율에서 매칭된 포인트를 기반으로 특징을 다시 추출하고 매 칭하여 매칭 정밀도를 높일 수 있다. 또한, 상기 매칭부는 상기 제1, 제2 염색 슬라이드에 대한 각각의 복제본을 생성하고, 생성된 복제본을 상기 제 1, 제2 슬라이드와 매칭하여 새로운 염색 슬라이드를 생성할 수 있다. 또한, 상기 샘플 내 종양의 존재 및 위치를 판단하는 딥러닝 모델, 상기 제1 내지 제4 염색 슬라이드의 라벨링 데이터를 이용하여 상기 딥러닝 모델을 학습하는 학습부 및 기저장된 데이터를 기반으로 상기 딥러닝 모델의 학 습 상태를 평가하는 평가부를 더 포함할 수 있다. 또한, 상기 제3, 제4 염색 슬라이드를 다시 제1 라벨링부에 인가하여 제5, 제6 염색 슬라이드를 생성하는 과정 을 기설정된 횟수만큼 반복하여 학습용 염색 슬라이드의 수를 증가시킬 수 있다. 본 발명의 또 다른 실시예에 따른 라벨링 방법은 n이 자연수일 때, 제1 라벨링부에서 하나의 샘플을 서로 다른 방식으로 염색한 제n, 제(n+1) 염색 슬라이드에 대해 상기 제n, 제(n+1) 염색 슬라이드를 포지티브 영역 및 네 거티브 영역으로 라벨링을 수행하는 단계, 매칭부에서 상기 제n, 제(n+1) 염색 슬라이드를 매칭하여 제(n+2), 제(n+3) 염색 슬라이드를 생성하는 단계 및 제2 라벨링부에서 상기 제(n+2), 제(n+3) 매칭 슬라이드에 대해 포 지티브 영역 및 네거티브 영역으로 라벨링하는 단계를 포함할 수 있다. 또한, 상기 제n 염색 슬라이드 및 제(n+2) 염색 슬라이드는 H&E(Hematoxylin & Eosin) 염색 슬라이드이고, 상기 제(n+1) 염색 슬라이드 및 제(n+3) 염색 슬라이드는 IHC(Immunohistochemistry) 염색 슬라이드일 수 있다. 또한, 상기 제(n+2), 제(n+3) 염색 슬라이드를 생성하는 단계는 특징추출부에서 상기 제n, 제(n+1) 염색 슬라이 드에 복수의 특징점을 생성하고 염색 슬라이드 각각의 특징을 추출하는 단계, 행렬생성부에서 상기 제n, 제 (n+1) 염색 슬라이드의 호모그래피 행렬(Homography Matrix)을 생성하는 단계 및 상기 호모그래피 행렬을 기반 으로 상기 제n, 제(n+1) 염색 슬라이드 중 하나 이상의 특징을 매칭하는 단계를 포함할 수 있다. 또한, 상기 특징을 매칭하는 단계는 상기 제n, 제(n+1) 염색 슬라이드의 색상 의존성을 제거하기 위한 정규화를 한 후 윤곽이 뚜렷이 보이는 저배율에서 피크점끼리 매칭시키며, 고배율에서 매칭된 포인트를 기반으로 특징을 다시 추출하고 매칭하여 매칭 정밀도를 높일 수 있다. 또한, 제(n+2), 제(n+3) 염색 슬라이드를 생성하는 단계는 상기 제n, 제(n+1) 염색 슬라이드에 대한 각각의 복 제본을 생성하고, 생성된 복제본을 상기 제n, 제(n+1) 슬라이드와 매칭하여 상기 제(n+2), 제(n+3) 염색 슬라이 드를 생성할 수 있다. 또한, 딥러닝 모델을 이용하여 상기 샘플 내 종양의 존재 및 위치를 판단하는 단계, 학습부에서 상기 제n 내지 제(n+3) 염색 슬라이드의 라벨링 데이터를 이용하여 상기 딥러닝 모델을 학습하는 단계 및 평가부에서 기저장된 데이터를 기반으로 상기 딥러닝 모델의 학습 상태를 평가하는 단계를 더 포함할 수 있다. 또한, 상기 제(n+2), 제(n+3) 염색 슬라이드를 매칭하여 제(n+4), 제(n+5) 염색 슬라이드를 생성하는 단계를 기 설정된 횟수만큼 반복하여 학습용 염색 슬라이드의 수를 증가시킬 수 있다."}
{"patent_id": "10-2023-0118289", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "상기한 본 발명의 일 실시예에 따른 라벨링 시스템은 추가적으로 다량의 데이터를 생성하여 AI에 제공함으로써 학습 효율을 향상시킬 수 있다. 또한, 생성되는 다량의 데이터에 대해 포지티브 라벨링의 지속적 학습을 통해 FP(False Positive)를 감소시킴으 로써 정교한 라벨링이 수행되고 이에 따라 AI의 학습 오류를 방지할 수 있다. 또한, 정교하게 라벨링된 학습용 데이터를 다량으로 제공함에 따라 병리학자의 개입 없이 AI를 학습시킬 수 있 어 AI 개발을 위한 비용 및 시간을 크게 감소시킬 수 있다."}
{"patent_id": "10-2023-0118289", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명은 다양한 변경을 가할 수 있고 여러 가지 실시예를 가질 수 있는 바, 특정 실시예들을 도면에 예시하고 상세하게 설명하고자 한다. 그러나, 이는 본 발명을 특정한 실시 형태에 대해 한정하려는 것이 아니며, 본 발명 의 사상 및 기술 범위에 포함되는 모든 변경, 균등물 내지 대체물을 포함하는 것으로 이해되어야 한다. 본 출원에서 사용한 용어는 단지 특정한 실시예를 설명하기 위해 사용된 것으로, 본 발명을 한정하려는 의도가 아니다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 출원에서, \"포함 하다\" 또는 \"가지다\" 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조 합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성요소, 부 품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 다르게 정의되지 않는 한, 기술적이거나 과학적인 용어를 포함해서 여기서 사용되는 모든 용어들은 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에 의해 일반적으로 이해되는 것과 동일한 의미를 가지고 있다. 일 반적으로 사용되는 사전에 정의되어 있는 것과 같은 용어들은 관련 기술의 문맥상 가지는 의미와 일치하는 의미 를 가진 것으로 해석되어야 하며, 본 출원에서 명백하게 정의하지 않는 한, 이상적이거나 과도하게 형식적인 의 미로 해석되지 않는다. 이하, 첨부한 도면들을 참조하여, 본 발명의 바람직한 실시 예를 보다 상세하게 설명하고자 한다. 본 발명을 설 명함에 있어 전체적인 이해를 용이하게 하기 위하여 도면상의 동일한 구성요소에 대해서는 동일한 참조부호를 사용하고 동일한 구성요소에 대해서 중복된 설명은 생략한다. 우선하여 본 발명의 일 실시예에서 이용되는 염색 슬라이드를 제작하는 방법에 대하여 설명하면, 피험자(환자) 의 환부 혹은 환부로 의심되는 부위에 대해 샘플을 채취할 수 있다. 이후 샘플을 포르말린에 고정하여 제작된 파라핀 조직에 대하여 연속 절편(Serial section)이라고 하는 여러 인접한 얇은 단면들로 샘플을 슬라이스하는 작업이 포함될 수 있다. 이러한 샘플의 이미지 분석을 위해서는 일반적으로 샘플 내의 관심 구조들을 시각화하 기 위하여 염색 슬라이드를 제작한다. 연속 절편은 일반적으로 각각의 현미경 슬라이드들에 장착되며, 장착된 연속 절편들의 시각적 분석은 디지털 현미경 등을 이용한 고배율 영상으로 변환하여 자세하게 수행될 수 있다. 샘플을 응집한, 즉 연속 절편들은 일반적으로 염료(Stain)로 염색되며, 각 염료는 서로 다른 조직 유형들의 서 로 다른 세포들 또는 서로 다른 세포 특성들을 강조하기 위해 서로 다른 조직 친화성을 가질 수 있으며, 이를 통해 암 세포 그룹들과 같은 관심 조직 구조들을 식별할 수 있다. 이하 설명하는 기술이 연속 절편 방식에 의거하여 제작된 염색 슬라이드에만 국한되는 것은 아니며, 하나의 파 라핀 블록에 대하여 제작된 복수의 염색 슬라이드에 대해서라면 기술을 적용할 수 있다. 또한 염색 슬라이드 이 미지는 하나의 절편에 대한 반복 염색을 통해 제작된 복수의 염색 슬라이드일 수 있다. 염색을 수행하는 방법은 다양한 방법을 활용할 수 있으나, 본 발명의 일 실시예에서는 Hematoxylin & Eosin(이 하, H&E)으로 샘플을 염색하거나, 발색제로 Diaminobenzidine(DAB)을 사용하여 제작한 면역조직화학 (Immunohistochemistry, 이하, IHC) 염색 슬라이드를 대상으로 할 수 있다. 이하 설명하는 기술은 하나의 샘플 (절편)을 서로 다른 방식으로 염색한 제1, 제2 염색 슬라이드를 대상으로 하며, 특정 염색 방식 또는 특정 항원 검출 방식에 국한되는 것은 아니다.염색이 완료된 H&E 염색 슬라이드 및 IHC 염색 슬라이드를 바탕으로 염색 이미지 생성 장치를 사용해 염색 이미지, 구체적으로 디지털 병리조직 염색 슬라이드 (이하 염색 슬라이드) 이미지를 생성할 수 있다. 염색 슬라 이드는 현미경 수준의 고배율로 확대되어 촬영되며, 염색 이미지 생성 장치는 이를 디지털 이미지로 변환 할 수 있다. 디지털 이미지로 변환된 H&E 염색 슬라이드 및 IHC 염색 슬라이드는 포지티브 영역 또는 네거티브 영역으로 분 류하는 라벨링을 수행할 수 있다. 라벨링은 일반적으로 그림, 사진, 문서 등의 데이터를 인공지능(AI)이 학습할 수 있는 형태로 가공하는 것을 의 미하며, 특정 영역(객체, 블록, 단락, 단어 등)에 대해 인공지능이 이해할 수 있는 주석(라벨)을 부착함으로써 인공지능의 학습에 활용하는 것을 의미할 수 있다. 이하의 설명에서는 디지털 이미지로 변환된 H&E 염색 슬라이드 및 IHC 염색 슬라이드를 제1 염색 슬라이드 및 제2 염색 슬라이드로 예시하여 설명을 실시하고 있으나, 이에 제한되지 않고 서로 다른 염색 방식을 이용하여 염색된 염색 슬라이드라면 모든 방식의 염색 방법을 이용할 수 있다. 도 1은 본 발명의 일 실시예에 따른 AI 학습을 위한 라벨링 시스템을 도시하는 도면이다. 본 발명의 일 실시예에 따른 AI 학습을 위한 라벨링 시스템은 전처리부, 라벨링부, 매칭부, 학 습부 및 평가부를 포함할 수 있다. 또한, 전처리부는 염색 이미지 생성 장치 및 컴퓨터 단말을 포함할 수 있다. 전처리부는 염색 이미지 생성 장치, 하나의 조직 샘플(이하, 샘플)을 서로 다른 방식으로 염색한 제 1, 제2 염색 슬라이드에 대해 상기 제1, 제2 염색 슬라이드 각각의 색상 및 이미지 크기를 보정하는 컴퓨터 단 말로 구성될 수 있다. 염색 이미지 생성을 위해, 환자로부터 채취한 샘플에 대하여 이후 샘플을 포르말린에 고정하여 제작된 파라핀 조직을 얇은 단면들로 슬라이스할 수 있다. 절편들은 일반적으로 염료로 염색하여 염색 유리 슬라이드를 제작한 다. 절편들의 시각적 분석을 위해 디지털 현미경 등을 이용하여 고배율 영상으로 변환 및 고배율의 이미지로 확 대할 수 있다. 이후 디지털 이미지로 변환하며, 변환된 이미지에 대하여 사전처리 등을 수행하여 염색 슬라이드 이미지를 생성할 수 있다. 염색 이미지 생성 장치는 염색 유리 슬라이드를 고배율로 스캔하여 디지털 병리 이미지를 생성하는 장치이 다. 염색 이미지 생성 장치는 서로 다른 벤더의 홀 슬라이드 스캐너와 이에 연결된 컴퓨터 단말로 구성될 수 있다. 염색 이미지 생성 장치의 일부를 구성하는 컴퓨터 단말은 상기 제1, 제2 염색 슬라이드 각각의 이미지 크기를 보정하는 컴퓨터 단말과 하나의 장치 또는 연결된 장치의 형태로 구현될 수 있다. 라벨링부는 샘플을 염색한 뒤, 염색 슬라이드에 대하여 포지티브 영역 또는 네거티브 영역으로 분류하는 라벨링을 수행할 수 있다. 도 2를 참조하면, 도 2는 염색 슬라이드 이미지의 포지티브 영역과 네거티브 영역의 구분에 대하여 예시하는 도 면으로서 본 발명의 일 실시예에서의 라벨링은 디지털 이미지로 변환된 H&E 염색 슬라이드 및 IHC 염색 슬라이 드에 대해 격자 형태의 복수의 영역(패치)으로 분할하고, 각 영역에 종양 등 비정상적인 조직이 포함된 영역은 포지티브(Positive)로 설정하고, 정상 조직만 포함된 영역은 네거티브(Negative)로 설정할 수 있으며, 일반적으 로 이는 병리학자가 직접 육안으로 분류하는 수동 라벨링 또는 기학습된 AI를 이용하여 분류하는 자동(Auto) 라 벨링으로 구분하여 부를 수 있다. 라벨링이 완료된 영역은 각각 분할하여 학습부에 전달될 수도 있으며, 분할하지 않은 상태로 학습부 에 전달될 수 있다. 이와 같이 라벨링된 영역 중 포지티브 영역은 정상적인 포지티브 영역인 TP(True Positive) 영역과 비 정상적인 포지티브 영역인 FP(False Positive) 영역으로 분류될 수 있다. 구체적으로, 수동 또는 자동 라벨링 수행 단계 에서 포지티브 영역으로 분류된 영역이 분류 이후 검토 단계에서 정상적인 포지티브 영역일 경우에는 TP로 분류 될 수 있고, 정상 조직인 네거티브 영역임에도 불구하고 포지티브 영역으로 분류된 경우 FP로 분류할 수 있다. 도 3을 참조하면, 도 3은 FP와 TP의 구분에 대하여 예시하는 도면으로서, 디지털 이미지로 변환된 H&E 염색 슬 라이드 및 IHC 염색 슬라이드는 기설정된 기준으로 복수의 영역으로 분할되고, 분할된 복수의 영역 중 종양 등 이 포함된 영역을 포지티브 영역으로 라벨링할 수 있다. 이러한 포지티브 영역은 일반적으로 종양 등 포지티브로 분류되는 영역의 외곽선을 따라 특정 구역 전체를 포지티브 영역으로 라벨링하게 된다. 그러나, 이러한 경우 포지티브 영역 내에 정상 조직만을 갖는 영역이 포함될 수 있으며, 이러한 영역은 본래 네거티브 영역으로 분류 하여야 하나, 포지티브 영역의 일부로 분류되어 있어 잘못된 분류로 지정될 수 있다. 이와 같이 실제로는 네거 티브 영역이나 포지티브 영역으로 분류된 영역을 FP로 지칭하며, 이러한 FP를 제거하지 않은 상태에서 포지티브 영역으로 AI를 학습하게 되면 학습이 완료된 이후 실제 AI 동작 시 잘못된 결과를 제공할 수 있는 문제가 있다. 이러한 FP를 최소화하기 위해서는 고성능의 라벨링용 AI 또는 병리학자가 직접 수작업으로 분류를 수행하여야 한다. 그러나, 고성능의 라벨링용 AI는 학습을 위하여 다량의 네거티브 영역 및 포지티브 영역에 대한 데이터가 필요하며, 이를 위해서는 결국 병리학자가 수작업으로 분류한 데이터가 요구된다. 많은 양의 정확한 포지티브 및 네거티브 영역 데이터를 기반으로 AI 학습을 수행함으로써 상기와 같은 문제를 해결할 수 있으며, 본 발명의 일 실시예에서는 H&E 염색 슬라이드와 IHC 염색 슬라이드의 매칭을 통해 영역 분 류를 한 라벨링 정보를 공유하여 각 슬라이드에 따른 패치 이미지를 추출하여 H&E 염색 슬라이드 및 IHC 염색 슬라이드에 대한 학습 데이터를 증가시키는 것으로 영역 데이터를 충분히 증량할 수 있다. 매칭부는 상기와 같이 영역 데이터를 증가시키기 위하여 H&E 염색 슬라이드와 IHC 염색 슬라이드를 매칭하 여 새로운 염색 슬라이드를 생성할 수 있다. 매칭부는 H&E 염색 슬라이드와 IHC 염색 슬라이드에 대해 각각의 복제본을 생성하고, 생성된 H&E 염색 슬 라이드 복제본은 IHC 염색 슬라이드와 매칭하며, 생성된 IHC 염색 슬라이드 복제본은 H&E 염색 슬라이드와 매칭 하여 새로운 매칭 H&E 염색 슬라이드 및 매칭 IHC 염색 슬라이드를 생성함으로써 AI 학습을 위한 염색 슬라이드 의 개수를 증가시킬 수 있다. 도 4 및 도 5는 H&E 염색 슬라이드와 IHC 염색 슬라이드의 매칭에 대해 예시하는 도면으로서, H&E 염색 슬라이 드와 IHC 염색 슬라이드의 동일 영역에 대하여 포지티브 영역으로 설정된 영역을 서로 복제하여 포지티브 영역 후보를 늘릴 수 있다. 그러나, 도 4에서와 같이 동일한 영역에 대하여 염색 슬라이드를 만드는 과정에서 서로 다른 각도로 회전되거나 확대 배율이 달라질 수 있다. 본 발명의 일 실시예에서는 회전 및 확대 배율이 서로 다른 문제를 해결하기 위하 여 두 염색 슬라이드 중 어느 하나의 염색 슬라이드에 대해 확대, 축소 및 회전을 수행하여 동일한 크기 및 각 도를 갖도록 함으로써 이러한 문제를 해결할 수 있다. 도 5의 위 2개는 H&E 염색 슬라이드와 IHC 염색 슬라이드를 표시하고 있으며, 아래 2개는 매칭 결과를 표시하고 있다. 도 5에서와 같이 매칭 결과 포지티브 영역은 합집합처럼 두 염색 슬라이드의 포지티브 영역을 모두 표시 하며, 두 염색 슬라이드의 포지티브 영역을 제외한 영역, 즉, 두 염색 슬라이드에서 공통적으로 네거티브 영역 으로 라벨링된 영역을 네거티브 영역으로 표현하여 패치 이미지를 생성할 수 있다. 매칭부의 자세한 방법은 하기의 도 6에서 설명하도록 한다. 학습부는 라벨링부에서 생성한 라벨링 데이터를 받아 AI 학습을 수행할 수 있다. 여기에서 AI는 오토 라벨링 시스템의 신경망 모델일 수도 있으며, 염색 슬라이드 내 종양을 검출하기 위한 신경망 모델일 수도 있다. 학습부는 라벨링부에서 오토 라벨링된 데이터로 학습을 수행하기 이전에 선행 학습 데이터를 이용하 여 학습을 우선 수행할 수 있다. 선행 학습 데이터는 병리학자가 이전에 수동 라벨링을 통해 생성한 데이터 세 트이거나 라벨링부에서 생성한 라벨링된 데이터이며 선행 학습 데이터 중 일부를 가져와 정상적으로 라벨 링이 수행되었는지 검토 후 별도의 저장장치에 저장하여 학습에 이용될 수 있다. 학습부는 약 지도 학습(Weakly supervised learning) 딥러닝 모델로 구성될 수 있으나, 이에 제한하지 않 고 CNN(컨볼루션 신경망), ANN(인공신경망), RNN(회귀 신경망), GAN(적대적 학습 네트워크), 기계학습모델, 결 정 트리 모델, 랜덤 트리 모델, SVM(서포트 벡터 머신) 등의 딥러닝 모델이면 종류에 제한 없이 모두 이용할 수 있다. 평가부는 평가용 데이터 세트를 이용하여 학습부에서 학습된 AI의 학습 결과를 평가할 수 있다. 평가부는 학습부에서 학습된 AI의 학습 결과를 평가한 후에 학습 이전 모델의 평가 결과와 비교하여 AI의 학습 결과의 반영 여부를 결정할 수 있다. 구체적으로, 평가부는 라벨링부에서 오토 라벨링된 패치 이미지가 학습부에 인가되어 학습부 의 학습을 수행할 때마다 학습 결과 및 AI 모델을 저장하고 평가를 수행하며, 평가 결과 AI의 성능을 이전 학습 결과와 비교하여 평가 결과가 더 나아지는 경우에만 학습이 완료된 AI를 저장하며, 평가 결과 이전 학습 결과에 비교하여 성능이 낮아졌다고 판단되는 경우에는 AI를 이전 학습 결과 모델로 롤백(Rollback)하여 학습부 의 학습 내용을 반영하지 않을 수 있다. 이러한 평가부의 동작을 통하여 AI의 성능이 순차적으로 증가하는 방향으로만 진행될 수 있으며, AI가 오 토 라벨링 모델일 경우에는 FP의 비율을 순차적으로 감소시킬 수 있고, AI가 종양 등을 판단하는 병리 AI일 경 우에는 진단의 정확성을 향상시킬 수 있다. 도 6은 본 발명의 일 실시예에 따른 라벨링 시스템의 구조에 대하여 도시하는 도면이다. 전처리부는 환자로부터 채취한 샘플을 기초로 제작한 절편에 대해 서로 다른 염색 방법으로 염색한 제1, 제2 염 색 슬라이드를 생성하고, 생성된 제1, 제2 염색 슬라이드에 대하여 이미지 전처리를 수행할 수 있다. 이미지 전처리는 색조, 명도, 채도 조정, 노이즈 제거, 업샘플링 등의 기법을 활용하여 해상도 향상 등을 모두 포함할 수 있으며, 이러한 전처리 동작 중 하나 이상의 동작을 수행할 수 있다. 제1 라벨링부는 디지털 이미지로 변환한 제1, 제2 염색 슬라이드 이미지에 대해 포지티브 영역 및 네거티브 영 역으로 라벨링을 수행할 수 있다. 제1, 제2 염색 슬라이드는 H&E 염색 슬라이드 및 IHC 염색 슬라이드를 디지털 이미지로 변환한 염색 슬라이드 이미지일 수 있다. 사전처리부는 제1, 제2 염색 슬라이드에 대한 복사본을 생성하고, 제1, 제2 염색 슬라이드에 대한 염색 의존도 를 제거하기 위하여 색상 변환 및 정규화를 수행할 수 있다. 상기 색상 변환은 밝기 기반의 단일 채널 변환을 수행할 수 있다. 특징추출부는 전처리된 제1, 제2 염색 슬라이드 복제본 이미지에 대하여 각각의 특징을 추출하고, 각 염색 슬라 이드 별로 색상 및 형태적 변화가 강한 특징을 기준으로 목록을 생성할 수 있다. 특징매칭부는 제1, 제2 염색 슬라이드 특징 추출 목록을 비교하여 패턴이 가장 유사한 특징을 매칭한 매칭쌍 목 록을 생성하고 정렬할 수 있다. 또한, 특징매칭부는 매칭 강도를 기준으로 정렬을 수행할 수 있으며, 기설정된 개수의 상위 매칭쌍의 위치를 기 준으로 고배율에서 사전처리부, 특징추출부 및 특징매칭부의 동작을 재수행하여 위치정보의 정확도를 개선할 수 있다. 특징 매칭 방법으로는 근접 이웃 매칭, 피크점 매칭 등의 거리측정 방법을 기반으로 하는 특징점 매칭 방법을 모두 이용할 수 있으며, 특징 간 매칭을 수행할 수 있다면 그 방법을 제한하지 않는다. 행렬생성부는 전처리된 제1, 제2 염색 슬라이드 복제본 이미지 각각에 대한 행렬을 생성할 수 있다. 본 발명의 일 실시예에서의 행렬은 호모그래피 행렬일 수 있으며, 호모그래피 행렬은 기울어진 이미지를 보정하여 2차원의 직선 이미지로 변환할 수 있어 각 이미지 간의 비교에 매우 효율적이다. 본 발명의 일 실시예에서는 호모그래피 행렬을 이용하여 제1, 제2 염색 슬라이드 복제본 이미지를 2차원 평면화 하였으나, 이미지 간 비교를 원활하게 할 수 있는 변환 방법이라면 종류를 제한하지 않고 이용할 수 있다. 매칭 슬라이드 생성부는 호모그래피 행렬을 기반으로 제1 염색 슬라이드를 원근변환(슬라이드 좌표계에 따른 픽 셀의 위치 변환)하여 제3 염색 슬라이드를 생성하고, 제2 염색 슬라이드를 원근변환하여 제4 염색 슬라이드를 생성할 수 있다. 예를 들어, 호모그래피 행렬을 기반으로 제1 염색 슬라이드가 각각의 타일로 분할되어 있는 이미지를 하나의 전 체 슬라이드 이미지로 매핑하여 변환된 슬라이드 좌표에 따른 제3 염색 슬라이드를 생성할 수 있다. 도 7은 본 발명의 일 실시예에 따른 염색 슬라이드 중첩을 위한 동작에 대하여 예시하는 도면으로서, 보정을 위 하여 제1 염색 슬라이드 이미지와 제2 염색 슬라이드 복제본 이미지의 특징을 비교하는 경우, 제1 염색 슬라이 드 이미지의 특징점과 제2 염색 슬라이드 복제본 이미지 간의 특징점을 서로 매칭할 수 있다. 매칭된 특징점은 실질적으로 동일 위치라고 판단할 수 있으므로 매칭된 특징점을 기준으로 염색 슬라이드의 좌표를 보정하여야 한다. 보정을 위한 방법으로는 각 영역에 대해 가로, 세로의 크기를 확대 및 축소하여 변형하거나, 각 영역에 대해 기설정된 각도 이내로 회전하여 제1 염색 슬라이드 이미지와 제2 염색 슬라이드 복제본 이미지의 각 영역을 동일한 크기로 변형함으로써 크기를 일치시켜 중첩할 수 있다. 동일한 영역의 서로 다른 방식의 염색 슬라이드를 중첩하기 때문에 대다수의 중첩 영역은 실질적으로 동일할 수 있으나, 염색 방식, 전처리 결과, 판단 결과 등에 의하여 각 염색 슬라이드 이미지는 서로 다른 형태의 포지티 브 영역을 포함할 수 있다. 이러한 경우 염색 슬라이드 생성부는 합집합 형태의 중첩을 행할 수 있다. H&E 염색 슬라이드 이미지와 IHC 염색 슬라이드 복제본 이미지를 중첩하는 경우로 예시하면 H&E 염색 슬라이드 이미지에서는 네거티브 영역으로 판단된 영역이 IHC 염색 슬라이드 복제본 이미지에서는 포지티브 영역으로 판 단되었을 경우, 두 염색 슬라이드 이미지를 중첩한 이미지에서는 해당 영역을 포지티브 영역으로 판단하여 이미 지를 생성할 수 있다. 제2 라벨링부는 염색 슬라이드 생성부에서 생성된 염색 슬라이드에 대해 포지티브영역과 네거티브 영역으로 라 벨링을 수행할 수 있다. 제2 라벨링부는 제1 라벨링부와 하나의 라벨링부에서 수행될 수도 있으나, 서로 다른 라벨링부로 구성될 수도 있다. 또한, 제1 라벨링부와 제2 라벨링부는 모두 H&E 염색 슬라이드를 라벨링하는 라벨링 장치와 IHC 염색 슬라이드 를 라벨링하는 라벨링 장치가 하나의 라벨링 장치에서 동작할 수도 있으며, 서로 다른 라벨링 장치를 이용하여 각각의 염색 슬라이드에 특화된 라벨링 장치로 구성될 수도 있다. 패치이미지 생성부는 제2 라벨링부에서 라벨링된 라벨을 기준으로 패치 이미지를 생성할 수 있다. 도 2를 다시 참조하면, 염색 슬라이드 이미지는 복수의 격자 형태로 분할되어 각 영역 단위로 라벨링이 수행되 며, 패치 이미지는 라벨링된 각 영역에 대해 분할하여 생성된 영역 단위의 이미지를 의미할 수 있다. 학습부는 생성된 패치 이미지를 이용하여 AI를 학습시킬 수 있다. AI는 병리 AI 솔루션을 구성하는 딥러닝 모델이면 제한을 두지 않으며, 본 발명의 일 실시예에서는 오토 라벨링을 수행하는 라벨링 모델 또는 종양을 진 단하는 진단 모델일 수 있다. 학습부는 제1 라벨링부에서 라벨링된 제1, 제2 염색 슬라이드에 대해 사전 학습을 진행한 후에 제2 라벨링 부에서 라벨링된 추가 염색 슬라이드의 패치 이미지를 이용하여 추가 학습을 진행할 수도 있고, 제1 라벨링부의 라벨링 데이터와 제2 라벨링부의 라벨링 데이터를 함께 이용하여 학습을 진행할 수도 있다. 도 6에서는 도시하지 않았으나, 학습부에서 학습이 완료된 이후에는 기설정된 테스트 데이터를 이용하여 학습이 완료된 모델에 대해 평가를 수행할 수 있다. 예를 들어, N회차 학습이 완료되면 N회차 AI의 학습 결과(파라미터, 가중치 등)를 저장하고, 테스트 데이터를 이용하여 AI의 동작 결과를 N-1회차 학습 시의 동작 결과와 비교를 수행할 수 있다. 비교 결과 AI 모델의 성능 이 향상되었다고 판단되면, N회차 학습 결과 데이터를 저장하여 학습을 완료하며, AI 모델의 성능이 향상되지 않았다고 판단되면, N회차 학습 결과 데이터는 폐기하고, N-1회차 학습 결과 데이터를 유지하며 학습을 완료할 수 있다. 또한, 학습부에서 학습이 완료되면 제2 라벨링부의 라벨링 결과를 기반으로 염색 슬라이드 생성부에서 생성된 염색 슬라이드 및 제1, 제2 염색 슬라이드를 이용하여 상호 결합을 통해 추가적으로 염색 슬라이드를 다시 생성 할 수 있다. 상기와 같이 서로 다른 염색 슬라이드를 이용하여 추가 염색 슬라이드 생성-학습-평가-추가 염색 슬라이드 생성 의 과정을 반복함으로써 병리 AI에 필요한 학습용 데이터를 추가적으로 다량 생성할 수 있으며, 동시에 학습 평 가를 통해 점진적으로 AI의 성능을 향상시킬 수 있으므로 종래의 문제를 해결할 수 있다. 도 8은 본 발명의 일 실시예에 따른 라벨링 시스템의 동작 방법을 도시하는 순서도이다. 제1 라벨링부에서 제n, 제(n+1) 염색 슬라이드를 포지티브 영역과 네거티브 영역으로 라벨링할 수 있다(S110). n은 자연수이며, 일반적으로 1부터 시작할 수 있다. 제n, 제(n+1) 염색 슬라이드는 서로 다른 염색 방법으로 염색된 염색 슬라이드로서 본 발명의 일 실시예에서는 H&E 염색 방법과 IHC 염색 방법을 이용하여 계시하고 있으나, 이에 한정되지 않고 환자로부터 채취한 표본 샘플 에 대하여 슬라이드 제조를 위한 염색 방법이라면 제n, 제(n+1) 염색 슬라이드가 서로 다른 염색 방법을 활용하 여 염색된다는 대전제 하에서 상관없이 염색하여 이용할 수 있다.또한, 후술하겠으나, 제n, 제(n+1) 염색 슬라이드는 라벨링된 영역을 기준으로 복수의 패치 이미지로 분할되어 학습부에서 학습을 수행할 수 있다. 사전처리부에서 제n, 제(n+1) 염색 슬라이드에 대한 복사본을 생성하고, 복사된 제n, 제(n+1) 염색 슬라이드에 대한 염색 의존도를 제거하기 위하여 색상 변환 및 정규화를 수행할 수 있다. 상기 색상 변환은 밝기 기반의 단 일 채널 변환을 수행할 수 있다(S120). 특징추출부에서 제n, 제(n+1) 염색 슬라이드의 특징을 추출하고, 추출된 특징에 대해 색상 및 형태적 변화가 강 한 특징을 기준으로 각 염색 슬라이드 별로 특징 목록을 생성할 수 있다(S130). 특징매칭부에서 제n, 제(n+1) 염색 슬라이드의 특징 목록을 비교하여 패턴이 가장 유사한 특징을 매칭한 매칭쌍 목록을 생성하고, 패턴 유사도가 높은 순서로 매칭쌍 목록을 정렬할 수 있다(S150). 또한, 특징매칭부에서는 정렬된 매칭쌍 목록에 대해 기설정된 개수의 상위 k개(k는 자연수)에 대해 매칭쌍의 위 치를 기준으로 보다 더 고배율로 확대하고, 확대된 위치에서 상기 S120 내지 S140단계를 재수행하여 위치 정보 의 정확도를 개선할 수 있다. 행렬생성부에서 상위 k개의 매칭쌍으로 호모그래피 행렬을 생성할 수 있다(S160). 호모그래피 행렬은 기울어진 이미지를 보정하여 2차원의 직선 이미지로 변환할 수 있어 각 이미지 간의 비교에 매우 효율적이므로 호모그래피 행렬로 변환함으로써 2차원 평면에서 서로의 염색 슬라이드의 위치 비교를 용이 하게 진행할 수 있다. 매칭 슬라이드 생성부에서 호모그래피 행렬을 기반으로 제n, 제(n+1) 염색 슬라이드를 원근변환(슬라이드 좌표 계에 따른 픽셀의 위치 변환)하여 제(n+2), 제(n+3) 염색 슬라이드를 생성할 수 있다(S180). 예를 들어, 호모그래피 행렬을 기반으로 제n 염색 슬라이드가 각각의 타일로 분할되어 있는 이미지를 하나의 전 체 슬라이드 이미지로 매핑하여 변환된 슬라이드 좌표에 따른 제(n+2) 염색 슬라이드를 생성할 수 있다. 즉, 제n 염색 슬라이드와 제(n+2) 염색 슬라이드는 동일한 염색 방식의 염색 슬라이드이고, 제(n+1) 염색 슬라 이드와 제(n+3) 염색 슬라이드는 동일한 염색 방식의 염색 슬라이드일 수 있다. 생성된 제(n+2), 제(n+3) 염색 슬라이드의 라벨링을 수행할 수 있다(S190). 제(n+2), 제(n+3) 염색 슬라이드는 제2 라벨링부를 이용하여 라벨링을 수행될 수 있으며, 제2 라벨링부는 상기 제1 라벨링부와 동일한 라벨링부일 수도 있으나, 서로 다른 독립적인 라벨링부일 수도 있다. 또는, 제(n+2), 제(n+3) 염색 슬라이드는 제n, 제(n+1) 염색 슬라이드의 라벨링을 이용하여 라벨링될 수도 있다. 예를 들어, 제n 염색 슬라이드의 라벨링이 N(네거티브)이고, 제(n+1) 염색 슬라이드의 라벨링도 N이면 제(n+2) 염색 슬라이드는 N으로 라벨링을 수행하고, 제n 염색 슬라이드의 라벨링이 N이고, 제(n+1) 염색 슬라이드의 라 벨링이 P(포지티브)이면 제(n+2) 염색 슬라이드는 P로 라벨링을 수행하며, 제n 염색 슬라이드 라벨링이 P이고, 제(n+1) 염색 슬라이드의 라벨링이 N이면 제(n+2) 염색 슬라이드는 P로 라벨링을 수행하며, 제n 염색 슬라이드 이 라벨링이 P이고, 제(n+1) 염색 슬라이드의 라벨링도 P이면 제(n+2) 염색 슬라이드는 P로 라벨링을 수행할 수 있다. 라벨링이 수행된 제(n+2), 제(n+3) 염색 슬라이드는 학습부에서 AI의 학습을 수행하는 한편, 테스트 세트를 이 용하여 학습된 AI를 평가할 수 있다(S200). 학습부는 상기 제n, 제(n+1) 염색 슬라이드의 학습 결과 및 제(n+2), 제(n+3) 염색 슬라이드의 학습 결과를 저 장하는 저장부를 더 포함할 수 있으며, 저장부는 학습의 종료시마다 학습 결과 데이터를 저장부에 저장할 수 있 다. 저장부는 평가부에서 AI의 학습 결과를 평가하기 위한 평가용 데이터를 더 저장할 수 있으며, 평가부는 평 가용 데이터를 이용하여 AI의 학습 결과를 평가할 수 있다. 평가 결과 AI의 학습 결과가 이전 학습 결과에 대비하여 성능이 더 향상되었다고 판단되면 학습 결과를 AI 모델 에 반영하여 이용하며, 성능이 향상되지 않았다고 판단되면 학습 결과를 AI 모델에 반영하지 않음으로써 AI 모 델의 학습을 점진적으로 향상시킬 수 있다. 또한, 제n 내지 제(n+3) 염색 슬라이드를 이용하여 상기 S110 내지 S200동작을 기설정된 횟수만큼 반복할 수 있 다(S210). 예를 들어, 제n 염색 슬라이드와 제(n+2) 염색 슬라이드는 동일한 방법으로 염색된 염색 슬라이드이고, 제(n+ 1)과 제(n+3) 염색 슬라이드가 동일한 방법으로 염색된 염색 슬라이드이므로, 제n 염색 슬라이드 또는 제(n+2) 염색 슬라이드와 제(n+1) 염색 슬라이드 또는 제(n+3) 염색 슬라이드 중 하나씩을 쌍으로 묶어 다시 S110 내지 S200의 동작을 수행하며 제(n+4) 염색 슬라이드 또는 제(n+5) 염색 슬라이드를 추가로 생성할 수 있다. 이와 같이 반복하여 추가적인 염색 슬라이드를 생성함으로써 기존에는 포지티브 영역에 집중하여 염색 슬라이드 를 생성하여 신경망 학습을 수행하였다면, 네거티브 영역의 학습용 데이터도 함께 충분히 생성하는 동시에 FP(False Positive)의 생성량 역시 감소시킬 수 있어 학습의 효율을 향상시킬 수 있다. 기설정된 횟수만큼 반복하여 염색 슬라이드의 생성을 완료하면 라벨링 시스템의 동작을 종료할 수 있다(S220). 도면 상에는 표시하지 않았으나, 상기 S170 단계에서 염색 슬라이드 간 특징을 매칭하는 경우에 염색 슬라이드 매칭 결과 두 염색 슬라이드 간에 차이점이 임계값 이하일 경우에 더 이상 염색 슬라이드를 생성하여도 학습에 도움이 되지 않는다고 판단하여 염색 슬라이드의 생성을 중지할 수 있다. 이상에서 본 발명에 따른 바람직한 실시예에 따른 다중 염색 슬라이드 기반의 오토 라벨링 시스템은 자동으로 다량의 염색 슬라이드 이미지를 생성할 수 있으며, 생성된 염색 슬라이드 이미지는 포지티브 라벨링의 지속적 학습을 통해 FP(False Positive)를 감소시켜 정교한 라벨링을 수행할 수 있음은 물론 평가부를 통해 지속적으로 증가하는 학습 결과를 도출할 수 있어 병리학자의 최소한의 개입만으로 AI를 학습시킬 수 있어 학습 효율을 향 상시키고 AI 개발을 위한 비용 및 시간을 크게 감소시킬 수 있다. 상술한 실시예에 설명된 특징, 구조, 효과 등은 본 발명의 적어도 하나의 실시 예에 포함되며, 반드시 하나의 실시 예에만 한정되는 것은 아니다. 나아가, 각 실시 예에서 예시된 특징, 구조, 효과 등은 실시예들이 속하는 분야의 통상의 지식을 가지는 자에 의하여 다른 실시예들에 대해서도 조합 또는 변형되어 실시 가능하다. 따라서 이러한 조합과 변형에 관계된 내용들은 본 발명의 범위에 포함되는 것으로 해석되어야 할 것이다. 또한, 이상에서 실시 예들을 중심으로 설명하였으나 이는 단지 예시일 뿐 본 발명을 한정하는 것이 아니며, 본 발명이 속하는 분야의 통상의 지식을 가진 자라면 본 실시예의 본질적인 특성을 벗어나지 않는 범위에서 이상에 예시되 지 않은 여러 가지의 변형과 응용이 가능함을 알 수 있을 것이다. 예를 들어, 실시 예들에 구체적으로 나타난 각 구성 요소는 변형하여 실시할 수 있는 것이다. 그리고 이러한 변형과 응용에 관계된 차이점들은 첨부한 청구 범위에서 규정하는 본 발명의 범위에 포함되는 것으로 해석되어야 할 것이다."}
{"patent_id": "10-2023-0118289", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 AI 학습을 위한 라벨링 시스템을 도시하는 도면이다. 도 2는 조직 염색 이미지의 포지티브(Positive) 영역과 네거티브(Negative) 영역의 구분에 대하여 예시하는 도 면이다. 도 3은 FP(False Positive)와 TP(True Positive)의 구분에 대하여 예시하는 도면이다. 도 4 내지 5는 본 발명의 일 실시예에 따른 염색 슬라이드의 매칭에 대하여 예시하는 도면이다. 도 6은 본 발명의 일 실시예에 따른 라벨링 시스템의 구조에 대하여 도시하는 도면이다. 도 7은 본 발명의 일 실시예에 따른 염색 슬라이드 중첩을 위한 동작에 대하여 예시하는 도면이다. 도 8은 본 발명의 일 실시예에 따른 라벨링 시스템의 동작 방법을 도시하는 순서도이다."}
