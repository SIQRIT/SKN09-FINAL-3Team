{"patent_id": "10-2018-0169456", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2020-0079842", "출원번호": "10-2018-0169456", "발명의 명칭": "인체 심전도 신호를 활용한 의료 네트워크 데이터 암호화 방법", "출원인": "인천대학교 산학협력단", "발명자": "전광길"}}
{"patent_id": "10-2018-0169456", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "암호화 장치에서의 데이터 암호화 방법에 있어서,사용자의 ECG 신호 시퀀스로부터 QRS 복합을 검출하고 해당 특성값을 계산하는 단계;상기 특성값의 디지털 정량화값을 이용해 키 스트림을 생성하는 단계; 및상기 키 스트림을 이용하여 데이터를 암호화하는 단계를 포함하고,상기 특성값은 상기 검출에 기초하여 시간적으로 변화하는 R 파의 진폭 및 Q파와 S파의 간격으로부터 결정되는것을 특징으로 하는 데이터 암호화 방법."}
{"patent_id": "10-2018-0169456", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 디지털 정량화값은 쉬프트레지스터에 입력되는 초기 키로 이용되고 쉬프트레지스터를 동작시키면서 입력되는 디지털 서명 S와 적절히 합산해 상기 키 스트림을 생성하는 것을 특징으로 하는 데이터 암호화 방법."}
{"patent_id": "10-2018-0169456", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,주기적으로 사용자로부터 상기 특성값과 상기 정량화값을 결정해, 입력되는 데이터의 암호화에 이용하는 것을특징으로 하는 데이터 암호화 방법."}
{"patent_id": "10-2018-0169456", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 QRS 복합을 검출하기 위하여, 이전 두 R 파의 검출을 위한 시간창의 평균을 3번째 R파의 검출을 위한 동적시간창으로 하는 방법을 이용하여, 이전 R파로부터 소정의 시간적 간격 이후 상기 동적 시간창 내에서 R파들의위치를 계산하는 것을 특징으로 하는 데이터 암호화 방법."}
{"patent_id": "10-2018-0169456", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서,상기 QRS 복합의 검출에 있어서, 결정된 R 파보다 앞서있는 인접한 두 점 간의 기울기 방향이 달라지는 점을 기초로 Q파를 결정하고, 상기 결정된 R 파 뒤에 있는 인접한 두 점 간의 기울기 방향이 달라지는 점을 기초로 S파를 결정하는 것을 특징으로 하는 데이터 암호화 방법."}
{"patent_id": "10-2018-0169456", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에 있어서,BAN (Body Area Network)에서 사용자들에 장착된 ECG 노드들이 각각의 지능형 단말로 유선 또는 무선 방식으로상기 ECG 신호 시퀀스를 전송하고, 해당 키 스트림을 브로드캐스트하는 상기 각각의 지능형 단말 간에 암호화된상기 데이터를 주거나 받는 양방향 통신을 위한 것을 특징으로 하는 데이터 암호화 방법."}
{"patent_id": "10-2018-0169456", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "사용자의 ECG 신호 시퀀스로부터 QRS 복합을 검출하고 해당 특성값을 계산하는 기능;상기 특성값의 디지털 정량화값을 이용해 키 스트림을 생성하는 기능; 및공개특허 10-2020-0079842-3-상기 키 스트림을 이용하여 데이터를 암호화하는 기능을 수행하고,상기 특성값은 상기 검출에 기초하여 시간적으로 변화하는 R 파의 진폭 및 Q파와 S파의 간격으로부터 결정되는것을 특징으로 하는, 데이터 암호화를 수행하는 컴퓨터가 읽을 수 있는 기록 매체."}
{"patent_id": "10-2018-0169456", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 심전도 신호를 사용하는 BAN에서의 데이터 암호화 방법에 관한 것이다. 본 발명의 데이터 암호화 방법 은, 보다 안전하고 간단하게 실현 가능한 BAN에서의 데이터 암호화 방법으로서, 심전도 신호의 QRS 복합을 기반 으로 한 LFSR(Linear Feedback Shift Register) 암호화 방법을 제공한다."}
{"patent_id": "10-2018-0169456", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 데이터 암호화 방법에 관한 것으로서, 특히, 심전도 신호를 사용하여 BAN (Body Area Network)에서 데이터 암호화를 보다 안전하고 간단하게 실현하는 방법에 관한 것이다."}
{"patent_id": "10-2018-0169456", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "BAN (body area network)은 착용이 가능하거나 인체에 이식될 수 있는 모바일 및 소형 통신 센서 세트로 구성된 다. 센서 노드는 텍스트, 오디오, 이미지 및 비디오와 같은 멀티미디어 형태로 실시간 생체 신호를 수집하고 인 체에 대한 멀티 홉 무선 네트워크를 형성한다. 도 1은 원격 의료 문제와 관련한 일반적인 BAN (body area network)을 나타낸다. 일반적인 무선 센서 네트워크 와 달리 보안은 BAN의 애플리케이션에서 주요 요소 중 하나이며 신원 인증, 개인 정보 보호 및 정보 완전성을 지원하도록 요청한다. BAN은 무선 통신을 통해 안전 보건 관리를 보장하기 위해 암호화 및 인증 방법을 이용한다. 기존의 WSN(wireless sensor networks)과 달리 BAN은 다분야 통합의 산물이며 시스템의 에너지 소비, 경량 데이터 융합 알고리즘 및 실시간 신호 처리와 같은 몇 가지 고유한 과제를 가지고 있다. 가장 시급한 문제 중 하나는 효율적 인 데이터 암호화 체계이다. BAN 시스템은 중량 및 부피 제한으로 인해 에너지 자원이 제한적이므로 BAN의 회로 방식은 에너지 소비가 적고 경량이어야 한다. 2005 년 이래로 BAN의 보안 연구는 일련의 방법을 수행했다. 먼저 키가 미리 배포 된 방법을 제공한다. 센서 노드가 정보를 전송할 때 동일한 시스템 또는 지능형 터미널의 센서 노드만 수신된 정보를 해독할 수 있다. 일례로, 난수의 사전 분포를 사용하고 노드 간 보안을 강화하여 작은 공 격에 효과적으로 대처할 수 있는 다중 경로 보강 방법을 제안한 방법을 사용하기도 한다. 그러나, 앞서 언급한 암호화 및 암호 해독 알고리즘은 많은 수의 작업을 필요로 하므로 전력 소비가 급격히 증 가한다. 초저전력 BAN 노드의 요구 사항을 고려할 때, BAN 시스템은 키 사전 분배 스킴을 사용하기에 적합하지 않다. 두 번째 방법은 BAN 채널의 특성을 키로 사용하여 1 회성 키를 실현할 수 있다. 이 방법은 물리적 레이어 에서 통신 측면 사이에 대칭 키를 임의로 생성할 수 있으므로 λ/2 밖의 도청에 완전히 저항한다. 다른 방법에 서는 수신된 무선 채널 신호 세기의 계산된 값에 따라 수신기에서 키를 생성한다. 도청자와 수신자의 거리가 일 정하지 않기 때문에 신호 강도 값이 달라져 도청자가 데이터를 해독할 수 없다. BAN 채널 암호화 방식은 최근 몇 년 동안 널리 연구되어 왔지만 수신기의 신호 세기에 따라 키가 생성된다. 이 방법은 송신기가 도청자 및 수 신기와 동일한 거리를 가질 때 실패할 수 있을 정도로 너무 단순하다. 또 다른 방법에서는 낮은 계산 비용을 제 공하는 BAN을 위한 효율적인 다층 인증 프로토콜과 안전한 세션 키 생성 방법을 제안했으나 핵심은 동적 업데이 트가 아니다. 이외에 AES (advanced encryption standard) 암호화 방법 및 타원 곡선 암호화(ellipse curve cryptography)와 같은 다른 복잡한 암호화 방법도 있다. 그러나 이러한 암호화 방법은 높은 소비 비용과 고정 키를 사용하며 BAN에는 적합하지 않은 문제가 있다. BAN 시스템은 방대한 양의 데이터를 생성할 수 있으며 클라우드 스토리지는 BAN 데이터 처리를 해결하는 효과적 인 방법이다. 따라서 BAN 시스템의 경우 클라우드 스토리지의 보안 및 검색 체계에 대한 연구가 중요하다. MRSE(Multi Keyword Ranked Search over Encrypted Data) 기법을 사용하는 한 방법에서는 클라우드 데이터를 암호화한 스마트 컨텐츠 인식 검색 기법을 제안하며, 실험 결과는 이 기법이 효율적임을 보여주기도 한다. 다른 방법에서는 클라우드 스토리지에 사용되는 암호화된 데이터 세트의 개념 간 의미 관계 및 개념 계층 구조를 기 반으로 한 혁신적인 의미 검색 기법을 제안했으며 실제 데이터 세트를 기반으로 한 실험 결과는 이 스킴이 보다 효율적임을 보여준다. 이전 계획보다 클라우드 컴퓨팅에서는 속성 기반 암호 기법을 활용한 도시 데이터 공유를 위한 프레임 워크가 제안되었으며 이 실험은 이 방법이 안전하고 가능한 공격에 저항할 수 있음을 보여준다. 또 다른 방법에서 Simhash 기반의 암호화된 문서에 대한 유사성 검색 방법을 사용하고 사용자는 쿼리 문서를 제출 하여 클라우드에 저장된 유사한 암호화된 문서를 찾을 수 있다. 이 문서는 실제 데이터 집합에 대한 엄격한 개 인 정보 분석 및 실험을 사용하여 이 기법이 안전하고 효율적임을 증명한다. 또 다른 방법에서는 이질적인 클라우드 환경에서 공간-시간 효율성을 목표로 하는 적응형 방법이 제시되어 결과적으로 BAN을 위한 작업 스케줄링 프로세스를 용이하게 하는 방법도 있다. 그러나, 이와 같은 종래 기술의 한계를 극복하여, 빠른 변환 속도, 간단한 하드웨어 구현, 낮은 비용으로 보다 안전하고 경량으로 실현 가능한 암호화 방법이 요구되고 있다."}
{"patent_id": "10-2018-0169456", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "따라서, 본 발명은 상술한 문제점을 해결하기 위하여 안출된 것으로, 본 발명의 목적은, 보다 안전하고 간단하 게 실현 가능한 BAN에서의 데이터 암호화 방법으로서, 심전도 신호의 QRS 복합을 기반으로 한 LFSR(Linear Feedback Shift Register) 암호화 방법을 제공하는 데 있다."}
{"patent_id": "10-2018-0169456", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "먼저, 본 발명의 특징을 요약하면, 상기의 목적을 달성하기 위한 본 발명의일면에 따른 암호화 장치에서의 데이 터 암호화 방법은, 사용자의 ECG 신호 시퀀스로부터 QRS 복합을 검출하고 해당 특성값을 계산하는 단계; 상기 특성값의 디지털 정량화값을 이용해 키 스트림을 생성하는 단계; 및 상기 키 스트림을 이용하여 데이터를 암호 화하는 단계를 포함하고, 상기 특성값은 상기 검출에 기초하여 시간적으로 변화하는 R 파의 진폭 및 Q파와 S파 의 간격으로부터 결정되는 것을 특징으로 한다. 상기 디지털 정량화값은 쉬프트레지스터에 입력되는 초기 키로 이용되고 쉬프트레지스터를 동작시키면서 입력되 는 디지털 서명 S와 적절히 합산해 상기 키 스트림을 생성한다. 상기 데이터 암호화 방법은, 주기적으로 사용자로부터 상기 특성값과 상기 정량화값을 결정해, 입력되는 데이터 의 암호화에 이용된다. 상기 QRS 복합을 검출하기 위하여, 이전 두 R 파의 검출을 위한 시간창의 평균을 3번째 R파의 검출을 위한 동적 시간창으로 하는 방법을 이용하여, 이전 R파로부터 소정의 시간적 간격 이후 상기 동적 시간창 내에서 R파들의 위치를 계산한다. 상기 QRS 복합의 검출에 있어서, 결정된 R 파보다 앞서있는 인접한 두 점 간의 기울기 방향이 달라지는 점을 기 초로 Q파를 결정하고, 상기 결정된 R 파 뒤에 있는 인접한 두 점 간의 기울기 방향이 달라지는 점을 기초로 S파 를 결정한다. 상기 데이터 암호화 방법은, BAN (Body Area Network)에서 사용자들에 장착된 ECG 노드들이 각각의 지능형 단말 로 유선 또는 무선 방식으로 상기 ECG 신호 시퀀스를 전송하고, 해당 키 스트림을 브로드캐스트하는 상기 각각 의 지능형 단말 간에 암호화된 상기 데이터를 주거나 받는 양방향 통신을 위한 것을 특징으로 한다. 그리고, 본 발명의 다른 일면에 따른 데이터 암호화를 수행하는 컴퓨터가 읽을 수 있는 기록 매체는, 사용자의 ECG 신호 시퀀스로부터 QRS 복합을 검출하고 해당 특성값을 계산하는 기능; 상기 특성값의 디지털 정량화값을 이용해 키 스트림을 생성하는 기능; 및 상기 키 스트림을 이용하여 데이터를 암호화하는 기능을 수행하고, 상기 특성값은 상기 검출에 기초하여 시간적으로 변화하는 R 파의 진폭 및 Q파와 S파의 간격으로부터 결정되는 것을 특징으로 한다."}
{"patent_id": "10-2018-0169456", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따른 보다 안전하고 간단하게 실현 가능한 BAN에서의 데이터 암호화 방법은, 심전도 신호의 QRS 복합 을 기반으로 한 LFSR 암호화 방법을 제공할 수 있다. 특히, i) 서로 다른 개인의 ECG 신호가 불일치하며, 심지 어 동일한 개인의 경우에도, ECG 신호의 값은 시간이 지남에 따라 천천히 변한다. 따라서 본 발명은ECG 신호의 매개 변수를 초기 키로 사용한다. 그리고 BAN 시스템 자체는 심전도 신호를 수집하고 생리적 상태를 분석하기 위해 특성 포인트를 감지해야 한다. 따라서 초기 키 생성에 추가 오버 헤드가 필요하지 않다. ii) 본 발명의 초 기 키를 기반으로 한 암호화 방법은 LFSR 회로에 의해 스트림 암호를 생성하므로 빠른 변환 속도, 간단한 하드 웨어 구현, 낮은 비용 및 소프트웨어 암호화보다 안전하다는 장점이 있다. iii) 본 발명의 초기 키는 ECG 신호 에 의해 생성되고 ECG 신호는 시간에 따라 변하므로 초기 키는 동적 업데이트된다. 도청자에 의해 키가 깨졌다 고 해도 데이터의 작은 부분만 가로챌 수 있다. 따라서 본 발명의 새로운 키 동의 기술은 BAN에 매우 적합한 경량 암호화 방법으로 활용될 수 있다. 본 발명에 따른 보다 안전하고 간단하게 실현 가능한 BAN에서의 데이터 암호화 방법은, 경량 및 저에너지 소비 에 의해 실현되는 저전력 BAN 센서 노드를 설계하는 데 적극 활용될 수 있다. 따라서 본 발명의 방법은 센서의 수명주기를 연장하고 BAN 시스템의 QoS (Quality of Service)를 향상시키는 BAN의 전력 소비 문제를 해결할 수 있는 유리한 효과가 있다."}
{"patent_id": "10-2018-0169456", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하에서는 첨부된 도면들을 참조하여 본 발명에 대해서 자세히 설명한다. 이때, 각각의 도면에서 동일한 구성 요소는 가능한 동일한 부호로 나타낸다. 또한, 이미 공지된 기능 및/또는 구성에 대한 상세한 설명은 생략한다. 이하에 개시된 내용은, 다양한 실시 예에 따른 동작을 이해하는데 필요한 부분을 중점적으로 설명하며, 그 설명 의 요지를 흐릴 수 있는 요소들에 대한 설명은 생략한다. 또한 도면의 일부 구성요소는 과장되거나 생략되거나 또는 개략적으로 도시될 수 있다. 각 구성요소의 크기는 실제 크기를 전적으로 반영하는 것이 아니며, 따라서각각의 도면에 그려진 구성요소들의 상대적인 크기나 간격에 의해 여기에 기재되는 내용들이 제한되는 것은 아 니다. 본 발명의 실시예들을 설명함에 있어서, 본 발명과 관련된 공지기술에 대한 구체적인 설명이 본 발명의 요지를 불필요하게 흐릴 수 있다고 판단되는 경우에는 그 상세한 설명을 생략하기로 한다. 그리고, 후술되는 용어들은 본 발명에서의 기능을 고려하여 정의된 용어들로서 이는 사용자, 운용자의 의도 또는 관례 등에 따라 달라질 수 있다. 그러므로 그 정의는 본 명세서 전반에 걸친 내용을 토대로 내려져야 할 것이다. 상세한 설명에서 사용되 는 용어는 단지 본 발명의 실시 예들을 기술하기 위한 것이며, 결코 제한적이어서는 안 된다. 명확하게 달리 사 용되지 않는 한, 단수 형태의 표현은 복수 형태의 의미를 포함한다. 본 설명에서, \"포함\" 또는 \"구비\"와 같은 표현은 어떤 특성들, 숫자들, 단계들, 동작들, 요소들, 이들의 일부 또는 조합을 가리키기 위한 것이며, 기술된 것 이외에 하나 또는 그 이상의 다른 특성, 숫자, 단계, 동작, 요소, 이들의 일부 또는 조합의 존재 또는 가능 성을 배제하도록 해석되어서는 안 된다. 또한, 제1, 제2 등의 용어는 다양한 구성요소들을 설명하는데 사용될 수 있지만, 상기 구성요소들은 상기 용어 들에 의해 한정되는 것은 아니며, 상기 용어들은 하나의 구성요소를 다른 구성요소로부터 구별하는 목적으로만 사용된다. <QRS 복합 검출(QRS Complex Detection)> 심전도 신호의 노이즈 제거에 많은 노력이 기울여왔다. 본 발명에서는 심전도 신호의 암호화 방법에 초점을 두 고 있다. BAN의 각 노드와 연동하는 지능형 단말 등에서의 본 발명의 암호화 시스템 또는 암호화 장치가 수행하 는 암호화 단계는 다음과 같다: 첫째, 사용자 즉, 사람 인체로부터 ECG 신호의 QRS 복합을 검출하고 해당 특성 값을 계산한다. 둘째, 특성값을 이용해 키를 생성하고 키를 수신기측으로 배포하며 암호화 대상 데이터(예, 상 기 특성값, 또는 기타 다른 전송 대상 데이터)를 암호화한다. 마지막으로 시간이 지남에 따라 동적키를 리프레 쉬(새로고침)한다. ECG 신호의 고유값을 계산하려면 Q 파, R 파 및 S 파를 정확하게 식별해야 한다. 일반적으로 R 파는 ECG 신호에서 가장 명확한 파이며, R 파의 인식 알고리즘은 효과가 간단하다. 따라서 R 파의 위치는 가 장 쉽게 결정할 수 있다. 본 발명에서는 먼저 R 파를 검출하고 R 파의 위치에 따라 QS 파를 검출한다. A. R 파 검출 알고리즘 웨이블릿(wavelet) 변환 방법은 유용한 신호 처리 기술이다. 그것은 점차적으로 의료 신호 분석에 사용되었다. 웨이블릿 변환은 우수한 시간-주파수 위치 확인 특성을 가진다. 웨이블릿 변환 방법은 각 파형의 주파수 분포에 따라 여러 스케일로 ECG 신호를 분석하고 특정 스케일에서 QRS 복합의 특성을 강조 표시하고 해당 스케일 공간 에서 모듈러스(modulus) 최대값의 위치를 검색하여 QRS 복합의 위치를 감지할 수 있다. 그러나, 이 알고리즘의 계산 비용과 하드웨어 지원 비용이 상당히 높다. 신경망은 최근 몇 년 동안 급속도로 발전해 온 새로운 유형의 컴퓨터 및 인공 지능 기술로서 주로 ECG 신호 처 리의 분류, 리팩토링(refactoring) 및 압축에 적용된다. 자기 학습 및 적응 능력으로 인해, 신경 네트워크는 의 학적 문제를 푸는데 탁월한 이점을 가지고 있다. 본 발명은 인공 지능 네트워크와 신경 네트워크에 의한 ECG 신 호의 검출과 분석을 제안한다. 이 방법은 좋은 판별을 획득하도록 하며, 다만 신경망은 훈련에 너무 많은 시간 이 걸리고 훈련 샘플의 특정 표현이 요구된다. 따라서, 신경 회로망 방법은 실시간 R 파 검출을 실현하기 어렵 다. 차동 임계값 방법은 고도의 실시간 감시 장치에 적합한 QRS 복합의 간단하고 빠른 감지 알고리즘이다. QRS 복합 은 다른 특성파들과 비교하여 ECG 신호의 가장 강력한 부분이며 R 파의 상승 기울기 및 하강 기울기가 크게 변 하고 차동 임계 값 방법이 R 파를 감지하기 위해 이러한 특징을 사용한다. R 파는 상승 기울기 및 하강 기울기 로 인해 QRS 복합에서 최대 변화가 발생하므로 1 차 미분의 영 교차점(zero crossing point) 또는 2 차 미분의 극점(extreme point)이 R 파의 위치가 된다. 따라서 차동 임계값 방법은 ECG 신호 시퀀스의 1 차 미분 또는 2 차 미분을 계산 한 다음 시간 창(time window) 및 진폭 임계값(amplitude threshold)과 결합된 R 파의 위치를 결정한다. R 파 검출을 위한 차동 임계값(differential threshold) 방법은 다양한 형태로 실현될 수 있다. R 파 검출을 위 한 ECG 신호의 1 차 미분의 2 차 합계(quadratic sum)를 사용하면 진폭값의 가장 빠른 변화 위치를 분명히 알 수 있으며 펄스폭을 기준으로 R 파의 폭을 정확하게 예측할 수 있다. 중심 차분(central difference)은 에러 제곱의 높은 차수 극소값이므로 검출 알고리즘의 1 차 차분 방정식은 [수학식1]과 같다. [수학식1]"}
{"patent_id": "10-2018-0169456", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "여기서, f(n)은 ECG 신호의 시퀀스이다. 경험에 따르면, R 파의 떨어지는 부분은 최대 미분의 위치이며, 이를 위하여 본 발명에서는 차분을 [수학식1]과 같이 계산한다. 도 2는 ECG 신호와 그 차분값에 대한 결과의 예이며, 수평 좌표는 샘플링 포인트이고, 수직 좌표는 진폭값을 나타낸다. 도 3은 본 발명에 따른 데이터 암호화 방법에서의 R 파의 검출 과정을 설명하기 위한 흐름도이다. 여기서, 데이 터 샘플링 주파수 Wf=fs=500Hz, t=0.1*fs, T1=0.35*fs로 가정한다. 먼저, ECG 신호의 시작 포인트는 최초 R 파의 정확한 위치 파악을 위하여 우선적으로 검출된다. 도 4는 ECG 신호의 시작 포인트 선택 방법을 설명하기 위한 도면이다. 먼저, 입력되는 ECG 신호 데이터의 초기 3초 데이터는 버린다(S100). 입력 ECG 신호 데이터의 초기 3초 데이터 는 사용자에 대한 조정 기간이므로 분석에 산입되지 않고 사용되지 않는다. 도 4의 (a)와 같이, 시작 포인트가 ECG 신호의 스테디 파트(steady part)에 있을 때 R 파가 쉽게 파악될 수 있 다. 그러나, 도 4의 (b)와 같이, 시작 포인트가 R 파에 가까이 있다면 최소 차분값이 최대 차분값 이후에 나타 나고 따라서 R 파의 검출 에러로 나타난다. 본 발명의 알고리즘은 검출 에러를 피하기 위하여 ECG 신호의 스테디 파트 상에서 검출을 시작한다(S200). 이를 위하여, 먼저, 기간 A(1,t)에서의 최대 진폭값 Amax를 찾으며, A는 입력되는 ECG 신호의 처음부분의 시작점 이다. 다음에, 기간 B(t+1,2t)에서의 최대 진폭값 Bmax를 찾으며, 최종적으로 Amax > 1.8*Bmax 라면 ECG 신호 의 시작 포인트가 R 파에 근접해 있다는 것이고, R 파 검출의 시작 포인트는 2R까지 연기된다. 만일 Amax가 1.8*Bmax 이하이면 R 파 검출의 시작 포인트는 ECG 신호의 초기인 t=1이다. 다음에, 검출 시작 포인트에서부터 시작하여 폭이 wf인 ECG 신호 x(t)를 취하여 xwf(t)로 표시한 다음 최대 진폭 포인트 R1을 결정한다(S300). 이 ECG 신호의 주기의 순방향 편차 dif (t)를 [수학식1]로 계산한다. 다음에 단일 R 파를 감지한다(S400). 이를 위하여, ECG 신호의 주기의 순방향 편차 dif(t)를 이용하여 먼저 dif(t)의 최대값 difmax(t1) 및 dif(t)의 최소값 difmin(t2)을 결정하고, 간격 (t1, t2) 사이에서 ECG 신호의 최대 진폭 포인트 R'를 결정한다. R1과 R'가 같은 포인트인 경우 이 포인트는 R 파의 위치이다. 그렇지 않은 경 우 ECG 신호의 첫 번째 및 두 번째 R 파형에서, 알고리즘은 R1과 R'사이의 진폭값을 비교하고 더 큰 포인트는 R 파 이다. 다른 R 파들에서, 알고리즘은 RR1과 RR의 절대차 (R1ad)를 계산하고, RR'과 RR의 절대차 (R'ad)를 계산 할 것이다(RR1은 이전 R 파와 R1 사이의 간격, RR'은 이전 R 파와 R' 사이의 간격, RR은 이전의 두 R 파 사이의 간격). 그리고 절대값의 차이를 비교하여, R1ad < R'ad라면, R1이 R 파의 위치이다. 그렇지 않으면 R''은 R 파 의 위치이다. ECG 신호의 제1 R 파를 결정한 후, 다음의 제2 R 파의 시작 위치는 도 5와 같이 T1 포인트이고(도 5는 제1 R 파 이후 다음의 제2 R 파의 시작 위치를 설명하기 위한 도면이다), T1은 제1 R 파 이후 0.35fs에 해당한다. 그 다 음에 위의 S300, S400에서 기술한 바와 같이 ECG 신호 x(t)의 두 번째 R 파를 결정한다(S500, S600). 다음에, 제1 및 제2 R 파의 간격을 계산하고 RR로 명명한다. 다음에, 세 번째 제3 R 파의 시작 위치는 제2 R 파 후에 0.35fs에 있는 T1이다. 제3 R 파의 위치를 검출하기 위 한 시간 창(time window)의 너비 Wf는 이전 두 R 파의 Wf(WfP, RR)의 평균이다(S700). 그런 다음 ECG 신호 x(t)의 제3 R 파를 위의 S300, S400에서 기술한 바와 같이 결정한다(S800). 그리고 계속해서 ECG 신호 x(t)의 모든 R 파를 결정한다(S900). 본 발명에서 제안한 알고리즘은 본 발명의 암호화를 위한 ECG 자료가 실시간이기 때문에 동적 시간 창 함수를 사용한다. RR의 간격은 개개의 차이에 따라 달라지며 고정된 시간 창 함수를 채택 하면 시간 창에 0 개 이상의 R 파가 있으므로 인식 속도와 알고리즘의 강건성이 감소한다. 본 발명에서는 동적 시간 창 함수 Wf = (WfP + RR) / 2에 의해 결정되는 시간 창의 너비 Wf를 제안한다. 여기서, WfP는 현재 시간 창의 너비이며, RR은 이전 두 R 파들 사이에서 이전에 적용된 간격이다. RR은 개인차 및 심박동 차이에 따라 실 시간으로 변경되므로 Wf는 실시간으로 조정된다. 이 경우 Wf는 시간에 맞게 수정되어 알고리즘의 강건성이 향상된다. <QS파 검출 알고리즘> Q 파와 S 파의 위치는 R 파의 정확한 위치에 따라 식별될 수 있다. 시간 창 탐색 방법과 평면계 기울기 방법 (planimetry slope method)은 Q 파와 S 파를 식별하는 기본 방법이다. 그러나 이 두 가지 방법은 실제 BAN에는 적합하지 않으며, Q 파와 R 파의 큰 간격에 대해 시간 창 탐색 방법이 적합하지 않으며, 평면계 기울기 방법은 BAN에 대해 너무 많은 비용이 든다. 따라서 본 발명에서는 Q 파와 S 파를 규명하기 위해 기울기 변이 방법 (slope mutation method)을 선택한다. 기울기 변이 방법은 R 파의 정확한 위치를 기반으로 한다. 이 방법은 R 파의 위치에서부터 시작하여 R 파보다 앞서있는 인접한 두 점 An-1과 An (R 파는 A0 위치)의 기울기를 연속적으로 계산하고 기울기를 f_1, f_2 ... f_n으로 나타내면 (f_(n-1)> 0 및 f_n <0) 때까지 계산한 후, 점 An-1은 Q 파 위치이다. 계산이 ECG 주기의 범위를 초과하는 경우, Q 파가 없다고 결정된다. 도 6은 Q파 식별을 위한 기울기 변이 방법을 설명하기 위한 도 면이다. S 파의 인식은 Q 파와 유사하다. 연속적으로 R 파 뒤에 있는 인접한 두 점 Bn-1과 Bn (R 파는 B0 위 치)의 기울기를 순차적으로 계산하고 기울기를 f_1, f_2 ... f_n으로 나타낸다. 이왕 같은 기울기 중 하나가 (f_(n-1) <0 및 f_n> 0)와 같이 변이를 보일 때까지 기울기를 계산한 후, 점 Bn-1은 S 파 위치로 결정된다. <키 생성> 샤논(Shannon)은, 키가 일단 유일하게 사용된 랜덤 시퀀스이고 그 길이가 평문 시퀀스의 길이 이상이라면, 패스 워드 시스템은 공격에 뚫리지 않는다. 도 7은 본 발명의 스트림 암호화 시스템의 동작을 나타낸다. 스트림 암호 화 시스템은 랜덤 시퀀스를 생성해 키로서 사용한다. 심볼 은 2 모듈의 합산을 나타낸다. 키 생성기로 입력되는 초기 키 I에 대하여 키 스트림 kj를 생성한다. 암 호화 유닛에서 평문 스트리 mj와 키 스트림 kj를 합산하여 암호 스트림 cj가 생성되고, 복호화 유닛에서 암호 스 트림 cj와 키 생성기에 의한 초기 키 I의 키 스트림 kj를 합산하여 평문 스트림 mj를 획득한다. 키 생성기는 LFSR 기반으로 동작하고, n-레벨 LFSR은 쉬프트레지스터 R=(rn, rn-1, ..., r1), 탭 시퀀스 T=(tn, tn-1, ..., t1), 및 사용자 등에 의해 입력되는 디지털 서명 S를 포함한다. 도 8은 LFSR 키 스트림을 생성하는 키 생성기를 보여준다. 도 8처럼, 새로운 키를 생성할 때, 디지털 서명과 피 드백 비트들 중 하나는 동작을 통해 새로운 비트를 형성하고, 그 후 새로운 비트는 쉬프트레지스터로 입력되고 동시에 우측으로 한 비트가 출력되며, 다른 비트들은 차례로 1비트씩 우측으로 쉬프트 이동한다. 즉, 특성값 λ 의 디지털 정량화값은 쉬프트레지스터의 각 비트에 입력되는 초기 키로 이용되고 쉬프트레지스터를 1비트씩 우 측으로 이동하도록 동작시키면서 입력되는 디지털 서명 S와 적절히 합산하고 그 결과를 쉬프트레지스터의 좌측 끝(예, 최상위 비트값 MSB, Most Significant Bit)으로 피드백시키면서 우측끝(예, 최하위 비트값 LSB, Least Significant Bit)으로 출력되는 키 스트림을 생성한다. 키 생성기의 구조는 자가 순환(self-circulation) 키 스트림을 출력할 수 있고, 반면 키 생성기의 회로 구성은 상대적으로 용이하고 몇몇 로직 게이트가 높은 안전도를 제공한다. 그러나, 해커 등 도청자가 어떤 수의 평문과 암호문을 알게 되면, 탭 시퀀스는 추론되고 암호화 시스템이 파괴된다. 따라서 그 구조의 최적화 설계가 필요하 다. 본 발명은 16차(16 order) 비선형 피드백 쉬프트레지스터를 적용해 그 주기를 늘리고, 그 최대값을 216으로 한다. 이외에 동적 키 업데이트는 필수며, 키가 T초 마다 리프레쉬되어 낮은 파괴 확률을 갖도록 한다. 본 발명에서 Ramp는 R 파의 진폭, TQS는 Q파와 S파의 간격, λ는 ECG 신호의 특성값이다. ECG 신호의 t초 동안의 QRS 복합을 검출한 다음 특성값 λ는 다음 [수학식2], [수학식3]과 같이 계산될 수 있다. [수학식2] [수학식3]"}
{"patent_id": "10-2018-0169456", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "여기서, Ri amp는 t초 동안에 ECG 신호의 i번째 R 파의 진폭이다. 도 9와 같이 Ti QS는 ECG 신호의 i번째 QS 파(Q파 와 S파)의 시간 간격, n은 t초 동안 R파의 개수이다. 도 9는 ECG 신호의 QRS에서의 Ramp, TQS를 설명하기 위한 도 면이다. 파라미터 λi는 Ri amp와 Ti QS의 곱에 의해 계산되고, 최종 특성값 λ는 λi들의 평균이다. QRS 복합 때문 에 특성값들은 개인별로 구분되는 차이가 있고 한명에서도 시간에 따른 약간의 차이가 있다. R파의 진폭과 QS 파의 간격에 의해 계산된 특성값들이 최대한 ECG 신호간 차이를 반영할 수 있도록 한다. 따라서, 특성값 λ는 동적으로 업데이트되며, 키가 λ를 기반으로 리프레쉬된다. 반면, 생리 상태의 결정은 QRS 복합의 위치를 필요 로 한다. 따라서 이러한 방법은 추가 비용이 없고 BAN들의 센서 노드들의 전력 소모를 낮춘다. 그런 다음 특성값 λ는 스트림 키를 생성하기 위해 N-차의 LFSR에 대한 초기 키로 이용하기 위해 대응되는 디지 털 값으로 정량화된다. 키 스트림은 BAN 시스템의 노드로 브로드캐스팅되며 노드는 키를 사용하여 데이터를 해 독한다. 한편, 암호화 방법은 T 초마다 주기적으로 업데이트되는 초기 키를 이용해 키를 다시 생성하고 위의 단 계를 반복한다. 본 발명에서는 다른 기술에서 사용된 심전도 신호의 간단한 매개 변수가 아닌 암호화를 위해 ECG 신호를 사용한다. 같은 시간에 동일한 개인의 심전도 신호의 간단한 매개 변수가 다른 키를 생성하기에 충 분한 차이가 없기 때문에 동일한 시간에 다른 개인의 ECG 신호 매개 변수가 정확히 동일 할 수 있다. 어떠한 상 황이 믿을 수 없는 암호가 되도록 다른 시간의 다른 키들의 객관성에 영향을 미칠 수 있다. 그러나, ECG 신호의 특성값들은 개인들 마다의 키의 다양성을 증가시키며 같은 개인이라도 다른 시간에 다양성을 갖도록 한다. 본 발명은 키의 다양성을 입증하기 위해 소정의 MIT-BIH 데이터베이스로부터 100번째 ECG 데이터의 처음 10분을 선 택해, 서로 다른 시간 주기들에 있는 동일 개인의 ECG 신호의 특성값들을 계산하고, 하나의 ECG 신호 파라미터 (예, R파 진폭값)로 특성값들을 비교한다. 도 10은 MIT-BIH 데이터베이스로부터 100번째 ECG 데이터의 R파 진폭 의 분포(a)과 ECG 신호의 특성값들의 분포(b)의 예이다. 도 10과 같이, 하나의 R 파 진폭을 비교할 때, ECG 신호 특성값들은 더 넓은 범위의 값을 가질 수 있으며, 특성 값들의 반복 비율은 낮고, 따라서 동일 개인의 키들이 정시에 반복되는 것을 피하게 해준다. ECG 신호 특성값들 은 또한 서로 다른 개인들의 키들의 다양성에 대해 더 좋은 효과가 있다. 동일 개인의 비교에서 보다 다른 개인 들은 특성값들의 분포가 더 큰 변화 범위를 가진다. <LFSR 회로 암호화 방법> 본 발명에서는 T의 값이 200-400초일 수 있다. 스트림 암호를 생성하기 위하여 LFSR 회로를 생성하는 것은 빠른 수렴 속도, 간단한 하드웨어 구현, 낮은 비용, 그리고 소프트웨어 암호화 보다 더 안전하다는 이점이 있다. 본 발명에서는 평문 암호화에 16차 LFSR을 사용하며, 최대값은 2N-1까지 허용된다. 16차 LFSR의 암호화 효과는 8차 LFSR 보다 우수하며, 16차 LFSR의 효과는 암호화 방법으로 적합하다. 32차 이상의 LFSR을 사용할 수도 있지만, 하드웨어의 복잡성을 증가시키게 된다. T초 마다 ECG 신호에 의한 키의 동적 업데이트는 실시간 암호화를 가능 하게 하며, 해커 공격의 가능성을 현저히 줄일 수 있다. 16차 LFSR의 다항식은 [수학식4]와 같은 형태이며, 도 11은 LFSR을 기반으로 한 본 발명의 암호문 생성 장치 의 블록도이다. 암호문 생성 장치는 특성값 λ의 정량화값을 플립플롭 회로를 이용해 키 스트림과 적 절히 합산(또는 합성)하여 암호문이 생성된다. 다만, 이에 한정되지 않으며 특성값 λ 대신 각 지능형 단말의 임의의 전송 대상 데이터가 키 스트림과 적절히 합산(또는 합성)되어 암호문으로 만들어져 다른 지능형 단말로 전송될 수도 있다. [수학식4]"}
{"patent_id": "10-2018-0169456", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "BAN 초기화에서, ECG 노드는 계산없이 소정의 길이를 갖는 프리앰블 시퀀스와 ECG 데이터를 송신한다. 소정의 조정기(coordinator)는 4초 동안 ECG 데이터를 추출하고, 프리앰블 시퀀스의 수신 후에 키를 계산하고 그 다음 에 모든 노드에 키를 브로드캐스트한다. 노드에 의해 생성된 암호화된 데이터를 수신할 때 지능형 단말은 해당 ECG 신호에 따라 해당 특성값을 계산한다. 본 발명에서 R 파의 진폭과 QS 파의 시간 간격이 계산에 사용되어 개인간에 큰 차이를 갖도록 한다. 도 12는 본 발명의 정량화된 특성값 λ가 16차 LFSR과 조정기에 이용되어 암호문을 생성하고 전송하며 수신측에 서 이를 복호화하는 암화화 방법의 흐름도를 나타낸다. 도 12와 같이 키와 암호문은 무선(예, 지그비, 블로투스, 와이파이, 이동통신 등)으로 지능형 단말들 간에 주거나 받도록 구현될 수도 있으며, 암호문을 위와 같은 무선으로 전송하고 키 스트림은 유선 전송 방식으로 상대 지능형 단말 등으로 전송될 수도 있다. 본 발명의 BAN 시스템은 매우 낮은 비용을 가지는 생체 신호 획득 노드를 필요로하기 때문에 암호화 알고리즘은 가능한 한 간단해야 한다. 앞서 언급 한 방법과 같이 노드에 대한 추가 기능은 간단한 LFSR 회로를 제외하고는 추가 비용이 들지 않는다. 이것은 저전력 센서 노드의 구현에 매우 적합하다. <키 분배 및 동적 리프레쉬> BAN들은 저비용 센서 노드를 요구한다. 따라서 본 발명에서는 데이터 암호화를 고려할 때 노드의 계산 작업을 최소화한다. 주요 상호 작용 체계는 다음과 같다. 첫째, BAN (Body Area Network)에서 사용자들에 장착된 ECG 노드들은 초기화 중에 샘플링 ECG 신호 시퀀스 데이 터와 리더(leader) 시퀀스를 유선 또는 무선(예, 지그비, 블루투스, 와이파이 등)으로 전송한다. 여기서 ECG 노 드는 아무런 계산도하지 않다. 둘째로, 지능형 단말들은 수신된 ECG 신호 및 리더 시퀀스의 데이터에 기초하여 ECG 신호의 특성값들을 계산한 후 키를 생성하여 브로드캐스트한다. 셋째로, 상기 방법에 따라, 각 노드의 지능 형 단말들은 키를 수신 한 후에 데이터를 암호화하여 암호호된 데이터에 의하여 지능형 단말과 양방향 통신한다. 마지막으로, 매 T 시간마다, 시스템은 지능형 단말에 리더 시퀀스를 전송할 노드를 임의로 선택하고, 지능형 단말은 ECG 노드로부터의 데이터에 기초하여 특성값을 재 계산한다. 따라서, 특성값을 계산하는 작업은 지능형 단말에 의해 완료되고, 다른 센서 노드는 전체 시스템의 저전력 소모로 되도록 많은 계산을 수행할 필요 가 없다. 도청자가 한 번에 키를 캡처하더라도 시간에 따라 키 변경으로 인해 일정 기간의 정보만 얻을 수 있다. <시뮬레이션 및 실험결과> <QRS 검출 시뮬레이션> 차동 임계값 방법 및 기울기 변이 방법을 기반으로 R 파 및 QS 파를 개별적으로 탐지하고 주어진 방법에 대해 MATLAB 시뮬레이션을 채택한 경우 시뮬레이션 효과를 도 13 ~ 도 16에 표시하였다. 도 13은 정상적인 ECG 데이 터의 샘플링 포인트에 대한 진폭의 파형도의 예이다. 도 14는 T 파가 반전된 ECG 데이터의 샘플링 포인트에 대 한 진폭의 파형도의 예이다. 도 15는 T 파가 높은 ECG 데이터의 샘플링 포인트에 대한 진폭의 파형도의 예이다. 도 16은 기저값의 기복이 심한 ECG 데이터의 샘플링 포인트에 대한 진폭의 파형도의 예이다. 위의 모든 도면에 서 위쪽의 그래프는 원시 데이터이고 아래쪽 그래프는 감지된 R 파가 +기호로 표시된 원시 데이터이다. R 파의 검출 후에, QS 파를 검출하기 위해 위와 같은 기울기 변이 방법을 적용한다. 도 17은 ECG 데이터에서의 R파, Q파, S 파를 순차로 검출한 결과에 대한 예시적인 파형도들이다. 도 17과 같이, 기울기 변이 방법은 정확하게 Q파와 S파를 식별할 수 있다. 창 탐색 방법, 면적 기울기 (planimetry slope) 방법 및 기울기 변이(slope mutation) 방법의 Q파 검출에 대한 계산 복잡도를 아래 Table1 에 나타내었다. 면적 기울기 방법에서는, M이 R 파의 왼쪽 상의 제1 최소 포인트, N이 M포인트로부터 왼쪽으로 30번째 포인트일 때, MN의 일차식은 Ax+By+C, L은 포인트 K와 선 MN 사이의 거리이다. K는 ECG 신호의 NR 세그 먼트 상의 모든 포인트를 나타낸다. 기울기 변이 방법에서, (x1, y1)은 An-1의 좌표이고, (x2, y2)는 An의 좌표 이다. 그리고, n은 Q파와 R파 사이의 샘플들의 수이다. [Table1]"}
{"patent_id": "10-2018-0169456", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "아래 Table2는 본 발명의 평가에 사용된 arrhythmia(부정맥) MIT-BIT 데이터베이스로부터 ECG 데이터의 QRS 파 의 검출율을 보여준다. 대부분의 R 파의 신호 검출율은 99.5% 이상이다. 118번의 신호 검출율은 상대적으로 낮 은 결과를 보여주며 왜냐하면 이들 신호는 잡음의 영향을 받을 수 있기 때문이다. 날카로운 특이점(singular point)과 심각한 기저값 변동은 R 파의 특성을 잡기 어렵게하여 식별 오류를 일으킬 수 있다. 따라서, 신호는 검출 전에 대응하여 잡음 제거가 되어야 한다. 그리고 본 발명에서 기울기 변이 방법을 이용한 QS 파 검출은 99 %에 이른다. 다른 방법과 비교하여 기울기 변이 방법의 계산 원리가 간단하고 샘플 수가 적다. 그러나, QS 파에 대한 이러한 검출 방법은 R 파의 정확한 검출을 요한다. [Table2]"}
{"patent_id": "10-2018-0169456", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "<실험 결과와 암호화 분석> 도 18은 본 발명의 적용에 의한 본래의 그림(a)에 대한 암호화의 시각적 결과(b)를 보여주는 예이다. 도 19는 본 발명의 적용에 의한 본래의 이미지(a)에 대한 암호화 이미지 (b)의 화소값 분포를 보여주는 예이다. 도 19의 (a)의 평문 이미지는 화소값 분포가 특정 분포를 갖지만, 도 19의 (b)의 암호화된 이미지의 화소값 분포는 밸런 스가 이루어진 분포를 갖는다. 따라서, 본 발명의 암호화 방법은 본래 이미지에 대한 화소값들의 분포 확률을 추정하기 어렵게 한다. 암호화에 의해 생성된 화소값의 분포 확률은 8비트 그레이 스케일에서 더욱 균등하게 된다. 이러한 결과와 같이 본 발명의 키 스트림에 기반한 암호화 방법은 통계적인 해커들의 공격을 효과적으로 저 지할 수 있을 것이다. 본래 이미지와 암화호된 이미지의 2차원 상관(correlation)은, [수학식5]와 같이 2개의 대응 행렬 A, B의 2차원 상관 계수로 나타낼 수 있다. [수학식5]"}
{"patent_id": "10-2018-0169456", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "여기서, Aij, Bij는 각각 데이터 행렬의 위치 (i,j)에서 본래의 이미지와 암호화된 이미지의 그레이(grey) 값들 이다. 와 는 각각 본래의 이미지와 암호화된 이미지의 화소값들의 평균을 나타낸다. 이러한 실험은 4가 지 테스트 이미지들(Lena, Camera, Plane, Barbara)이 선택되고, 초기 키와 4가지 이미지들의 암호화를 생성하 기 위하여 MIT-BIH 데이터베이스의 100번째 ECG 데이터를 사용하였다. 그 결과는 아래 Table3에 정리되었다. CAB는 제로에 가깝고, 이는 본래 이미지와 암호화된 이미지의 상관(correlation)이 아주 작다는 것을 의미한다. [Table3]"}
{"patent_id": "10-2018-0169456", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "본래 이미지와 암호화된 이미지들로부터 3방향(수평, 수직, 대각 방향) 각각에서 선택된 100 인접 픽셀쌍들을 선택해 아래 [수학식6] 내지 [수학식9]으로 상관계수를 계산하였다. [수학식6]"}
{"patent_id": "10-2018-0169456", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 9, "content": "[수학식7]"}
{"patent_id": "10-2018-0169456", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 10, "content": "[수학식8]"}
{"patent_id": "10-2018-0169456", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 11, "content": "[수학식9]"}
{"patent_id": "10-2018-0169456", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 12, "content": "여기서, xi, yi는 두 인접 픽셀들의 그레이 값들을 나타내고 N은 픽셀 번호이다. 세 방향의 상관 계수는 Table4 와 같다. 세 방향의 상관 관계는 암호화 전에 모두 0.9로서 인접 픽셀들의 그레이값이 매우 비슷 함을 나타내며, 암호화 후 0.1 미만으로 감소하여 훨씬 작은 상관 관계로 인해 공격에 대한 저지력이 향상된다.[Table4]"}
{"patent_id": "10-2018-0169456", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 13, "content": "다른 연구에서, 평문에 더 민감한 경우 차동 공격에서 탁월한 성능을 나타내는 알고리즘이 제안되기도 하였다. 따라서 본 발명에서는 평문에 대한 암호화 알고리즘의 민감도를 측정하기 위해 NPCR (Number of Pixel Change Rate)과 UACI (Unified Average Changing Intensity)를 채택하였다. 그리고 본 발명의 민감도 테스트에서 하나 의 다른 픽셀만을 가진 두 개의 유사한 평문 이미지를 사용한다. 키 스트림 암호화 후에, 2 개의 이미지에서 (i, j) 포인트의 픽셀 그레이 스케일은 각각 C1 (i, j) 및 C2 (i, j)이다. C1 (i, j) = C2 (i, j)라면, D (i, j) = 0; C1 (i, j) C2 (i, j)이면, D (i, j) = 1이다. 따라서 NPCR과 UACI의 공식은 다음 [수학식10], [수학 식11]과 같다. [수학식12], [수학식13]은 NPCR과 UACI의 기대값이다. [수학식10]"}
{"patent_id": "10-2018-0169456", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 14, "content": "[수학식11]"}
{"patent_id": "10-2018-0169456", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 15, "content": "[수학식12]"}
{"patent_id": "10-2018-0169456", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 16, "content": "[수학식13]"}
{"patent_id": "10-2018-0169456", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 17, "content": "여기서, M, N은 각각 이미지 픽셀의 행 번호와 리스트 번호를 나타내며, D는 위의 알고리즘에 따라 0 또는 1이 다. 그리고 실험 이미지는 8 비트 그레이 스케일이므로 식 와 에서 n = 8이다. 그런 다음 NPCR 및 UACI 의 이상적인 기대치는 99.6094070 % 및 33.4635070 %로 계산할 수 있다. 이 실험은 NPCR과 UACI를 시뮬레이션 하기 하기 위해 Lena 그림을 채택하고 Lena에서 임의의 픽셀 하나를 선택하고 픽셀의 가장 낮은 비트를 반전시 켜 다른 이미지를 생성한다. 원본 이미지와 생성된 이미지의 NPCR 및 UACI 결과가 Table5에 나와 있다. NPCR과 UACI의 평균 실험 값은 99.5509 %와 50.0358 %이다. 이상적인 값과 비교했을 때, 실험 NPCR 값은 이상적인 NPCR 값에 가깝지만 실험 UACI 값은 이상적인 UACI 값과 다르다. 이는 암호화 방법이 경량(lightweight)이기 때 문이고, 픽셀 변화율과 픽셀 변화강도를 보증할 수 있다. 에너지 소비량이 BAN에서 중요한 문제이므로, BAN에서 의 암호화 알고리즘은 에너지 소비량을 고려해야 한다. 본 발명에서는 암호화 강도는 약할 수 있지만, BAN에 적 용이 적합하도록 경량이며 낮은 에너지 소비량을 갖는다. [Table5]"}
{"patent_id": "10-2018-0169456", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 18, "content": "암호화 알고리즘은 키에 대한 강한 민감도를 가져야하며 키의 작은 변화라도 본래 평문과는 완전히 다른 평문으 로 해독되도록 한다. 본 발명은 100번째 MIT-BIH의 ECG 데이터를 적용해 초기 키를 계산하며, 이는 Lena와 같은 그림을 암호화하기 위해 사용된다. 도 20의 (a)는 올바를 키에 의해 해독된 이미지이며, 작은 차이를 갖는 잘못 된 키(초기 키의 1비트 차이)에 의해 암호화된 이미지가 해독되는 경우, 도 20의 (b)와 같다. 20의 (b)는, 초기 키의 1비트를 바꾸고 이를 키 스트림 생성에 사용하는 경우, 즉, 16비트 쉬프트레지스터의 1비트를 임의로 선택 하고 반전시킨 경우이다. 도면들과 같이 키의 작은 차이가 잘못된 해독이 되도록 한다. 도 21은 본 발명의 일 실시예에 따른 데이터 암호화 시스템의 구현의 일례를 설명하기 위한 도면이다. 본 발명 의 데이터 암호화를 수행하기 위한, 키 생성기, 암호문 생성 장치 등을 포함하는 암호화 시스템 자체 또는 이들을 구성하는 구성요소들 중 하나 이상은, 하드웨어, 소프트웨어, 또는 이들의 결합으로 이루어질 수 있다. 예를 들어, 본 발명의 데이터 암호화 시스템은 도 21과 같은 컴퓨팅 시스템으로 구현될 수 있다. 컴퓨팅 시스템은 버스를 통해 연결되는 적어도 하나의 프로세서, 메모리, 사용자 인터 페이스 입력 장치, 사용자 인터페이스 출력 장치, 스토리지, 및 네트워크 인터페이스 를 포함할 수 있다. 프로세서는 중앙 처리 장치(CPU) 또는 메모리 및/또는 스토리지에 저장 된 명령어들에 대한 처리를 실행하는 반도체 장치일 수 있다. 메모리 및 스토리지는 다양한 종류의 휘발성 또는 불휘발성 저장 매체를 포함할 수 있다. 예를 들어, 메모리는 ROM(Read Only Memory) 및 RAM(Random Access Memory)을 포함할 수 있다. 따라서, 본 명세서에 개시된 실시예들과 관련하여 설명된 방법 또는 알고리즘의 단계는 프로세서에 의해 실행되는 하드웨어, 소프트웨어 모듈, 또는 그 2 개의 결합으로 직접 구현될 수 있다. 소프트웨어 모듈은 RAM 메모리, 플래시 메모리, ROM 메모리, EPROM 메모리, EEPROM 메모리, 레지스터, 하드 디스크, 착탈형 디스크, CD-ROM과 같은 저장 매체(즉, 메모리 및/또는 스토리지)에 상주할 수도 있다. 예시적인 저장 매체 는 프로세서에 커플링되며, 그 프로세서는 저장 매체로부터 정보를 판독할 수 있고 저장 매체에 정 보를 기입할 수 있다. 다른 방법으로, 저장 매체는 프로세서와 일체형일 수도 있다. 프로세서 및 저장 매 체는 주문형 집적회로(ASIC) 내에 상주할 수도 있다. ASIC는 사용자 단말기 내에 상주할 수도 있다. 다른 방법 으로, 프로세서 및 저장 매체는 사용자 단말기 내에 개별 컴포넌트로서 상주할 수도 있다. 나아가 본 발명의 일 실시예에 따른 데이터 암호화 방법을 위해 입출력 데이터 처리에 사용되는 기능은 컴퓨터 등 장치로 읽을 수 있는 기록 매체에 컴퓨터가 판독 가능한 코드로서 구현하는 것이 가능하며, 이와 같은 기록 매체와 컴퓨터 등 장치의 결합으로 기능 수행에 필요한 데이터나 정보를 입력하거나 출력하고 디스플레이하도록 구현할 수 있다. 컴퓨터가 읽을 수 있는 기록 매체는 컴퓨터 시스템에 의하여 읽혀질 수 있는 데이터가 저장되 는 모든 종류의 기록장치를 포함한다. 컴퓨터가 읽을 수 있는 기록 매체의 예로는 ROM, RAM, CD-ROM, 자기 테이 프, 플로피디스크, 광데이터 저장장치, 하드 디스크, 이동형 저장장치 등의 저장 매체를 포함한다. 또한, 컴퓨 터가 읽을 수 있는 기록 매체는 네트워크(예, 인터넷, 이동통신 네트워크 등)로 연결된 컴퓨터 시스템에 분산되 어 분산방식으로 컴퓨터가 읽을 수 있는 코드가 저장된 형태가 가능하며 네트워크를 통해 실행될 수도 있다. 상술한 바와 같이, 본 발명에 따른 심전도 신호를 사용하여 BAN에서 데이터 암호화의 방법은, 보다 안전하고 간 단하게 실현 가능한 데이터 암호화 방법으로서, 심전도 신호의 QRS 복합을 기반으로 한 LFSR 암호화 방법을 제 공할 수 있다. 특히, i) 서로 다른 개인의 ECG 신호가 불일치하며, 심지어 동일한 개인의 경우에도, ECG 신호의 값은 시간이 지남에 따라 천천히 변한다. 따라서 본 발명은 ECG 신호의 매개 변수를 초기 키로 사용한다. 그리 고 BAN 시스템 자체는 심전도 신호를 수집하고 생리적 상태를 분석하기 위해 특성 포인트를 감지해야 한다. 따 라서 초기 키 생성에 추가 오버 헤드가 필요하지 않다. ii) 본 발명의 초기 키를 기반으로 암호화 방법은 LFSR 회로에 의해 스트림 암호를 생성하므로 빠른 변환 속도, 간단한 하드웨어 구현, 낮은 비용 및 소프트웨어 암호 화보다 안전하다는 장점이 있다. iii) 본 발명의 초기 키는 ECG 신호에 의해 생성되고 ECG 신호는 시간에 따라 변하므로 초기 키는 동적 업데이트된다. 도청자에 의해 키가 깨 졌다고 해도 데이터의 작은 부분만 가로챌 수있다. 따라서 본 발명의 새로운 키 동의 기술은 BAN에 매우 적합한 경량 암호화 방법으로 활용될 수 있다. 본 발명에 따른 보다 안전하고 간단하게 실현 가능한 BAN에서의 데이터 암호화 방법은, 경량 및 저에너지 소비 에 의해 실현되는 저전력 BAN 센서 노드를 설계하는 데 적극 활용될 수 있다. 따라서 본 발명의 방법은 센서의 수명주기를 연장하고 BAN 시스템의 QoS (Quality of Service)를 향상시키는 BAN의 전력 소비 문제를 해결할 수 있는 유리한 효과가 있다. 이상과 같이 본 발명에서는 구체적인 구성 요소 등과 같은 특정 사항들과 한정된 실시예 및 도면에 의해 설명되 었으나 이는 본 발명의 보다 전반적인 이해를 돕기 위해서 제공된 것일 뿐, 본 발명은 상기의 실시예에 한정되 는 것은 아니며, 본 발명이 속하는 분야에서 통상적인 지식을 가진 자라면 본 발명의 본질적인 특성에서 벗어나 지 않는 범위에서 다양한 수정 및 변형이 가능할 것이다. 따라서, 본 발명의 사상은 설명된 실시예에 국한되어 정해져서는 아니 되며, 후술하는 특허청구범위뿐 아니라 이 특허청구범위와 균등하거나 등가적 변형이 있는 모 든 기술 사상은 본 발명의 권리범위에 포함되는 것으로 해석되어야 할 것이다."}
{"patent_id": "10-2018-0169456", "section": "도면", "subsection": "도면설명", "item": 1, "content": "본 발명에 관한 이해를 돕기 위해 상세한 설명의 일부로 포함되는 첨부도면은, 본 발명에 대한 실시예를 제공하 고 상세한 설명과 함께 본 발명의 기술적 사상을 설명한다. 도 1은 원격 의료 문제와 관련한 일반적인 BAN (body area network)을 나타낸다. 도 2는 ECG 신호와 그 차분값에 대한 결과의 예이며, 수평 좌표는 샘플링 포인트이고, 수직 좌표는 진폭값을 나 타낸다. 도 3은 본 발명에 따른 데이터 암호화 방법에서의 R 파의 검출 과정을 설명하기 위한 흐름도이다. 도 4는 ECG 신호의 시작 포인트 선택 방법을 설명하기 위한 도면이다. 도 5는 제1 R 파 이후 다음의 제2 R 파의 시작 위치를 설명하기 위한 도면이다. 도 6은 Q파 식별을 위한 기울기 변이 방법을 설명하기 위한 도면이다. 도 7은 본 발명의 스트림 암호화 시스템의 동작을 나타낸다. 도 8은 LFSR 키 스트림을 생성하는 키 생성기를 보여준다. 도 9는 ECG 신호의 QRS에서의 Ramp, TQS를 설명하기 위한 도면이다. 도 10은 MIT-BIH 데이터베이스로부터 100번째 ECG 데이터의 R파 진폭의 분포(a)과 ECG 신호의 특성값들의 분포 (b)의 예이다. 도 11은 LFSR을 기반으로 한 본 발명의 암호문 생성 장치의 블록도이다. 도 12는 본 발명의 정량화된 특성값 λ가 16차 LFSR과 조정기에 이용되어 암호문을 생성하고 전송하며 수신측에 서 이를 복호화하는 암화화 방법의 흐름도를 나타낸다. 도 13은 정상적인 ECG 데이터의 샘플링 포인트에 대한 진폭의 파형도의 예이다. 도 14는 T 파가 반전된 ECG 데이터의 샘플링 포인트에 대한 진폭의 파형도의 예이다. 도 15는 T 파가 높은 ECG 데이터의 샘플링 포인트에 대한 진폭의 파형도의 예이다. 도 16은 기저값의 기복이 심한 ECG 데이터의 샘플링 포인트에 대한 진폭의 파형도의 예이다. 도 17은 ECG 데이터에서의 R파, Q파, S 파를 순차로 검출한 결과에 대한 예시적인 파형도들이다. 도 18은 본 발명의 적용에 의한 본래의 그림(a)에 대한 암호화의 시각적 결과(b)를 보여주는 예이다. 도 19는 본 발명의 적용에 의한 본래의 이미지(a)에 대한 암호화 이미지 (b)의 화소값 분포를 보여주는 예이다. 도 20의 (a)는 올바른 키에 의해 해독된 이미지이며, 작은 차이를 갖는 잘못된 키(초기 키의 1비트 차이)에 의 해 암호화된 이미지가 해독되는 경우, 도 20의 (b)와 같다. 도 21은 본 발명의 일 실시예에 따른 데이터 암호화 시스템의 구현의 일례를 설명하기 위한 도면이다."}
