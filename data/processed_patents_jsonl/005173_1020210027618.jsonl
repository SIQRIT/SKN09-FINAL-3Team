{"patent_id": "10-2021-0027618", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2022-0123980", "출원번호": "10-2021-0027618", "발명의 명칭": "대화 의도 분석 시스템 및 방법", "출원인": "주식회사 케이티", "발명자": "김치영"}}
{"patent_id": "10-2021-0027618", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "적어도 하나의 프로세서에 의해 구동하는 대화 의도 분석 시스템이 사용자가 발화한 발화 문장으로부터 사용자의도를 분석하는 방법으로서,발화 문장을 입력 받는 단계,상기 발화 문장에 포함된 단어들에 매핑된 개체명들을 각각 추출하고, 추출한 개체명들을 조합하여 복수의 의도후보들을 추출하는 단계, 그리고상기 사용자의 발화 이력과 상기 사용자의 현재 상황 정보를 기초로, 상기 의도 후보들 중 상기 발화 문장에 포함된 사용자 의도를 추출하는 단계를 포함하는, 사용자 의도 분석 방법."}
{"patent_id": "10-2021-0027618", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 사용자 의도를 추출하는 단계 이후에,상기 발화 문장을 이용하여 상기 사용자 의도에 적합한 서비스를 제공하기 위해 필요한 서비스 필수 정보를 포함하는지 판단하는 단계, 그리고상기 발화 문장이 상기 서비스 필수 정보를 포함하지 않는 불완전 문장인 경우, 상기 사용자가 이용했던 서비스별로 서비스 제공을 위해 필요한 개체명들, 요일 정보, 시간 정보 중 적어도 하나의 이력 정보를 상기 발화 문장에서 추출한 개체명들과 비교하여, 상기 발화 문장에서 누락된 상기 서비스 필수 정보를 복원하는 단계를 포함하는, 사용자 의도 분석 방법."}
{"patent_id": "10-2021-0027618", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서상기 복수의 의도 후보들을 추출하는 단계는,상기 발화 문장을 전처리하여, 상기 복수의 단어들에 대한 개체명들의 목록, 개체명별 단어 목록, 그리고 상기발화 문장을 포함하는 전처리 결과를 생성하는 단계를 포함하는, 사용자 의도 분석 방법."}
{"patent_id": "10-2021-0027618", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,상기 전처리 결과를 생성하는 단계는,상기 발화 문장에 포함된 복수의 단어들에 대한 형태소를 분석하여, 각 단어에 대한 개체명을 추출하는 단계,상기 복수의 단어들 중 제1 개체명과 제2 개체명이 중복으로 추출된 특정 단어가 있는지 확인하는 단계, 그리고중복으로 추출된 특정 단어가 있으면, 개체명 임베딩을 이용하여 상기 특정 단어에 대한 단일 개체명을 결정하는 단계를 포함하는, 사용자 의도 분석 방법."}
{"patent_id": "10-2021-0027618", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "공개특허 10-2022-0123980-3-제4항에 있어서,상기 단일 개체명을 결정하는 단계는,상기 특정 단어의 제1 개체명과 상기 복수의 단어들 중 상기 특정 단어를 제외한 나머지 단어들인 이웃 단어들의 개체명들을 제1 다차원 벡터에 전사하는 단계,상기 특정 단어의 제2 개체명과 상기 이웃 단어들의 개체명들을 제2 다차원 벡터에 전사하는 단계,상기 제1 다차원 벡터에서 상기 제1 개체명과 이웃 단어들의 개체명들 사이의 거리의 합인 제1 거리 값을 계산하는 단계,상기 제2 다차원 벡터에서 상기 제2 개체명과 이웃 단어들의 개체명들 사이의 거리의 합인 제2 거리 값을 계산하는 단계, 그리고상기 제1 거리 값과 제2 거리 값 중 작은 값이 계산된 개체명을 상기 특정 단어의 단일 개체명으로 결정하는 단계를 포함하는, 사용자 의도 분석 방법."}
{"patent_id": "10-2021-0027618", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제3항에 있어서,상기 복수의 의도 후보들을 추출하는 단계는,상기 전처리 결과를 수신하고, 상기 전처리 결과에 포함된 발화 문장을 상기 기 설정된 추론 규칙을 기반으로상기 사용자의 의도를 분석하는 단계,상기 발화 문장 대비 상기 추론 규칙을 기반으로 추출된 개체명의 비율이 미리 설정한 기준치 이상인지 확인하는 단계, 그리고상기 추출된 개체명의 비율이 기준치보다 낮으면, 상기 발화 문장에서 의도를 분석하는 단계,를 포함하는, 사용자 의도 분석 방법.."}
{"patent_id": "10-2021-0027618", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서,상기 의도를 분석하는 단계는,최종 개체명 목록, 개체명에 대응되는 단어, 상기 발화 문장과 정답 라벨을 포함하는 학습 데이터를 이용하여상기 발화 문장에서 후보 의도를 추출하는, 사용자 의도 분석 방법."}
{"patent_id": "10-2021-0027618", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7항에 있어서,상기 추출된 개체명의 비율이 상기 기준치보다 높으면, 상기 발화 문장에서 추출한 후보 의도의 수가 복수 개인지 확인하는 단계, 그리고상기 후보 의도의 수가 복수 개 이면, 상기 복수의 후보 의도, 개체명 목록, 개체명별 단어 목록 그리고 상기발화 문장을 포함하는 의도 후보 정보를 생성하는 단계를 포함하는, 사용자 의도 분석 방법."}
{"patent_id": "10-2021-0027618", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제1항에 있어서,상기 사용자 의도를 추출하는 단계는,상기 사용자의 발화 이력을 기초로, 상기 사용자의 습관이나 패턴 정보를 가지는 상기 사용자의 사용자 선호 정보를 학습 데이터로 수집하는 단계,공개특허 10-2022-0123980-4-상기 수집한 학습 데이터의 수가 미리 설정한 기준값 이상인지 확인하는 단계, 그리고상기 학습 데이터의 수가 상기 기준값 이하이면, 복수의 사용자들에 대한 학습 데이터들을 이용하여 상기 발화문장에서 의도를 분석하는 단계를 포함하는, 사용자 의도 분석 방법."}
{"patent_id": "10-2021-0027618", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서,상기 학습 데이터의 수가 상기 기준값 이상이면, 상기 사용자에 대한 학습 데이터들을 이용하여 상기 발화 문장에서 의도를 분석하는 단계를 포함하는, 사용자 의도 분석 방법."}
{"patent_id": "10-2021-0027618", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제10항에 있어서,상기 발화 문장에서 맥락 정보를 기반으로 상기 사용자 의도를 분석하는 단계를 포함하는, 사용자 의도 분석 방법."}
{"patent_id": "10-2021-0027618", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "사용자가 발화한 발화 문장으로부터 사용자 의도를 분석하는 대화 의도 분석 시스템으로서,서비스를 제공하기 위한 정보인 서비스 필수 정보가 누락되어 있는 상기 발화 문장으로부터, 복수의 의도 후보들을 추출하는 의도 후보 추출부,상기 사용자에 대한 사용자 정보를 기초로 상기 의도 후보들 중 상기 사용자의 의도를 추출하는 개인 의도 분석부,상기 사용자에 대하여 저장된 이력 정보를 기초로, 상기 사용자가 선호하는 사용자 선호 필수 정보를 추출하는사용자별 필수 정보 추출부, 그리고상기 사용자 선호 필수 정보를 기초로 상기 발화 문장에서 누락된 상기 서비스 필수 정보를 복원하고, 상기 추출한 사용자의 의도와 상기 서비스 필수 정보를 포함하는 사용자 의도 분석 결과를 생성하는 필수 정보 복원부를 포함하는, 대화 의도 분석 시스템."}
{"patent_id": "10-2021-0027618", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제12항에 있어서,상기 발화 문장에 포함된 복수의 단어들을 형태소 분석하여 각 단어에 대한 개체명을 추출하고, 복수의 개체명이 중복으로 추출된 특정 단어가 있으면 개체명 임베딩을 통해 상기 특정 단어의 단일 개체명을 결정하고, 복수의 개체명 목록들, 각 개체명에 대응하는 단어, 그리고 상기 발화 문장을 포함하는 전처리 정보를 생성하는 전처리부를 더 포함하는, 대화 의도 분석 시스템."}
{"patent_id": "10-2021-0027618", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제13항에 있어서,상기 전처리부는,상기 특정 단어에 대한 복수의 개체명들 각각과, 상기 특정 단어를 제외한 나머지 단어들인 이웃 단어들의 개체명을 다차원 벡터에 전사하고, 상기 특정 단어에 대한 복수의 개체명들과 상기 이웃 단어들의 개체명들 사이의거리 값을 계산하여 상기 특정 단어에 대한 단일 개체명을 결정하는, 대화 의도 분석 시스템."}
{"patent_id": "10-2021-0027618", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "공개특허 10-2022-0123980-5-제14항에 있어서,상기 의도 후보 추출부는,상기 전처리 정보에 포함된 발화 문장을 기 설정된 추론 규칙을 기반으로 개체명을 추출하고, 상기 발화 문장을기준으로 추출한 개체명의 비율이 미리 설정한 기준치 이하이면 딥러닝 기반으로 발화 의도를 분석하여 복수의의도 후보들을 추출하는, 대화 의도 분석 시스템."}
{"patent_id": "10-2021-0027618", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제15항에 있어서,상기 개인 의도 분석부는,상기 사용자의 발화 이력을 기초로 상기 사용자의 습관이나 패턴 정보를 가지는 학습 데이터를 수집하고, 수집한 학습 데이터의 수가 미리 설정한 기준값 이하이면 복수의 사용자들에 대한 학습 데이터들을 이용하여 상기발화 문장에서 의도를 분석하고, 상기 수집한 학습 데이터의 수가 기준값 이상이면 상기 사용자에 대한 학습 데이터들을 이용하여 상기 발화 문장에서 의도를 분석하는, 대화 의도 분석 시스템."}
{"patent_id": "10-2021-0027618", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "적어도 하나의 프로세서에 의해 구동하는 대화 의도 분석 시스템이 사용자가 발화한 발화 문장으로부터 사용자 의도를 분석하는 방법으로서, 발화 문장을 입력 받고, 발화 문장에 포함된 단어들에 매핑된 개체명들을 각각 추 출하여, 추출한 개체명들을 조합하여 복수의 의도 후보들을 추출한다. 사용자의 발화 이력과 사용자의 현재 상황 정보를 기초로, 의도 후보들 중 상기 발화 문장에 포함된 사용자 의도를 추출한다."}
{"patent_id": "10-2021-0027618", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 발화하는 사용자의 개인 특성 정보와 딥러닝을 활용하여 사용자의 대화 의도를 분석하는 대화 의도 분석 시스템 및 방법에 관한 것이다."}
{"patent_id": "10-2021-0027618", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "사람들의 대화를 컴퓨터와 같은 기계적 장치가 인식하고, 대화 내용을 해석하여 적절히 대응하는 기술이 꾸준히 발전하고 있다. 특히, 대화로 제어할 수 있는 디바이스들(예를 들어, 인공지능 스피커)이 최근 많이 출시되고 있으며, 차량, 냉장고, 또는 청소기와 같은 가전 제품까지 대화로 제어할 수 있게 되고 있다. 이러한 디바이스들은 사용자의 일상 대화보다는, 서술구조가 완벽한 문장 형태의 대화를 수집하는 경우에 높은 성능을 보인다. 그러나, 사용자가 일상적으로 이야기하는 구어체 문장(예를 들어, 일부 문장의 요소가 생략되는 경우 등)을 수집하는 경우, 사용자의 의도를 오인하여 잘못 된 서비스를 제공하는 등 성능이 저하되는 경우가 많다. 현재의 대화 인식 기술은 크게 규칙 기반으로 대화의 의도를 분석하는 방식과, 다량의 학습 데이터를 기반으로 하는 딥러닝 방식을 이용한다. 두 방식 모두 공통적으로, 사용자가 서술구조가 완벽한 문장을 발화한 경우 높은 성능을 보인다. 하지만 사람들은 일상적인 대화에서 문장구조를 완벽하게 이야기하지 않으며, 인공지능 스피커 와 같은 디바이스와 일상적인 대화 수준으로 이야기하더라도 디바이스가 사용자의 의도를 정확하게 이해하기를 기대한다. 예를 들어, \"집에서 서울시청까지 얼마나 걸려\"라고 질의했을 때, 현재의 대화인식 기술은 출발지인 \"집\"에서 목적지인 \"서울시청\"까지 얼마만큼의 시간이 소요되는 지를 물어보기 위한 대화라는 것을 해석해낼 수 있다. 하 지만, 일상적인 대화에서는 \"오늘은 얼마나 걸려\"와 같이 목적지와 출발지를 포함하지 않은 문장으로 대화하는 경우, 사람들은 문맥이나 대화를 시도하는 사람의 개인적인 특성, 시간 정보 등의 외부 상황 정보를 인지하여 해당 대화의 의도를 파악한다. 그러나 대부분의 대화인식 기술은 단일 문장에서 대화의 의도를 분석하는 방식을 사용하기 때문에, 완벽한 문장이 아닌 경우 정확도는 많이 떨어진다. 또한, 대화의 의도가 중의적인 표현을 가지는 경우에 대해서도 한계를 보인다. 즉, 사용자가 \"런닝맨 틀어줘\"라 는 단일 문장을 발화한 경우, 사용자가 영화 런닝맨을 요구하는 것인지 예능 프로그램인 런닝맨의 재생을 요구 하는 것인지 정확하게 의도를 파악하기 어렵다. 따라서, 이러한 문제점을 해소하기 위해서는 결국 사용자가 발 화한 문맥이나 사용자 개인의 특성/습관, 외부 상황 정보를 복합적으로 고려하여, 대화 의도를 분석하는 기술이 필요하다."}
{"patent_id": "10-2021-0027618", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 2, "content": "발명의 내용"}
{"patent_id": "10-2021-0027618", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "따라서, 본 발명은 사용자의 대화가 중의적이며 생략된 필수 정보가 많은 구어체 문장에 대해서도, 정확하게 사 용자 의도를 분석할 수 있는 대화 의도 분석 시스템 및 방법을 제공한다."}
{"patent_id": "10-2021-0027618", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 본 발명의 기술적 과제를 달성하기 위한 본 발명의 하나의 특징인 적어도 하나의 프로세서에 의해 구동하 는 대화 의도 분석 시스템이 사용자가 발화한 발화 문장으로부터 사용자 의도를 분석하는 방법으로서, 발화 문장을 입력 받는 단계, 상기 발화 문장에 포함된 단어들에 매핑된 개체명들을 각각 추출하고, 추출한 개 체명들을 조합하여 복수의 의도 후보들을 추출하는 단계, 그리고 상기 사용자의 발화 이력과 상기 사용자의 현 재 상황 정보를 기초로, 상기 의도 후보들 중 상기 발화 문장에 포함된 사용자 의도를 추출하는 단계를 포함한 다. 상기 사용자 의도를 추출하는 단계 이후에, 상기 발화 문장을 이용하여 상기 사용자 의도에 적합한 서비스를 제 공하기 위해 필요한 서비스 필수 정보를 포함하는지 판단하는 단계, 그리고 상기 발화 문장이 상기 서비스 필수 정보를 포함하지 않는 불완전 문장인 경우, 상기 사용자가 이용했던 서비스 별로 서비스 제공을 위해 필요한 개 체명들, 요일 정보, 시간 정보 중 적어도 하나의 이력 정보를 상기 발화 문장에서 추출한 개체명들과 비교하여, 상기 발화 문장에서 누락된 상기 서비스 필수 정보를 복원하는 단계를 포함할 수 있다. 상기 복수의 의도 후보들을 추출하는 단계는, 상기 발화 문장을 전처리하여, 상기 복수의 단어들에 대한 개체명 들의 목록, 개체명별 단어 목록, 그리고 상기 발화 문장을 포함하는 전처리 결과를 생성하는 단계를 포함할 수 있다. 상기 전처리 결과를 생성하는 단계는, 상기 발화 문장에 포함된 복수의 단어들에 대한 형태소를 분석하여, 각 단어에 대한 개체명을 추출하는 단계, 상기 복수의 단어들 중 제1 개체명과 제2 개체명이 중복으로 추출된 특정 단어가 있는지 확인하는 단계, 그리고 중복으로 추출된 특정 단어가 있으면, 개체명 임베딩을 이용하여 상기 특 정 단어에 대한 단일 개체명을 결정하는 단계를 포함할 수 있다. 상기 단일 개체명을 결정하는 단계는, 상기 특정 단어의 제1 개체명과 상기 복수의 단어들 중 상기 특정 단어를 제외한 나머지 단어들인 이웃 단어들의 개체명들을 제1 다차원 벡터에 전사하는 단계, 상기 특정 단어의 제2 개 체명과 상기 이웃 단어들의 개체명들을 제2 다차원 벡터에 전사하는 단계, 상기 제1 다차원 벡터에서 상기 제1 개체명과 이웃 단어들의 개체명들 사이의 거리의 합인 제1 거리 값을 계산하는 단계, 상기 제2 다차원 벡터에서 상기 제2 개체명과 이웃 단어들의 개체명들 사이의 거리의 합인 제2 거리 값을 계산하는 단계, 그리고 상기 제1 거리 값과 제2 거리 값 중 작은 값이 계산된 개체명을 상기 특정 단어의 단일 개체명으로 결정하는 단계를 포함 할 수 있다. 상기 복수의 의도 후보들을 추출하는 단계는, 상기 전처리 결과를 수신하고, 상기 전처리 결과에 포함된 발화 문장을 상기 기 설정된 추론 규칙을 기반으로 상기 사용자의 의도를 분석하는 단계, 상기 발화 문장 대비 상기 추론 규칙을 기반으로 추출된 개체명의 비율이 미리 설정한 기준치 이상인지 확인하는 단계, 그리고 상기 추출 된 개체명의 비율이 기준치보다 낮으면, 상기 발화 문장에서 의도를 분석하는 단계를 포함할 수 있다. 상기 의도를 분석하는 단계는, 최종 개체명 목록, 개체명에 대응되는 단어, 상기 발화 문장과 정답 라벨을 포함 하는 학습 데이터를 이용하여 상기 발화 문장에서 후보 의도를 추출할 수 있다. 상기 추출된 개체명의 비율이 상기 기준치보다 높으면, 상기 발화 문장에서 추출한 후보 의도의 수가 복수 개 인지 확인하는 단계, 그리고 상기 후보 의도의 수가 복수 개 이면, 상기 복수의 후보 의도, 개체명 목록, 개체 명별 단어 목록 그리고 상기 발화 문장을 포함하는 의도 후보 정보를 생성하는 단계를 포함할 수 있다. 상기 사용자 의도를 추출하는 단계는, 상기 사용자의 발화 이력을 기초로, 상기 사용자의 습관이나 패턴 정보를 가지는 상기 사용자의 사용자 선호 정보를 학습 데이터로 수집하는 단계, 상기 수집한 학습 데이터의 수가 미리 설정한 기준값 이상인지 확인하는 단계, 그리고 상기 학습 데이터의 수가 상기 기준값 이하이면, 복수의 사용자 들에 대한 학습 데이터들을 이용하여 상기 발화 문장에서 의도를 분석하는 단계를 포함할 수 있다. 상기 학습 데이터의 수가 상기 기준값 이상이면, 상기 사용자에 대한 학습 데이터들을 이용하여 상기 발화 문장 에서 의도를 분석하는 단계를 포함할 수 있다.상기 발화 문장에서 맥락 정보를 기반으로 상기 사용자 의도를 분석하는 단계를 포함할 수 있다. 상기 본 발명의 기술적 과제를 달성하기 위한 본 발명의 또 다른 특징인 사용자가 발화한 발화 문장으로부터 사 용자 의도를 분석하는 대화 의도 분석 시스템으로서, 서비스를 제공하기 위한 정보인 서비스 필수 정보가 누락되어 있는 상기 발화 문장으로부터, 복수의 의도 후보 들을 추출하는 의도 후보 추출부, 상기 사용자에 대한 사용자 정보를 기초로 상기 의도 후보들 중 상기 사용자 의 의도를 추출하는 개인 의도 분석부, 상기 사용자에 대하여 저장된 이력 정보를 기초로, 상기 사용자가 선호 하는 사용자 선호 필수 정보를 추출하는 사용자별 필수 정보 추출부, 그리고 상기 사용자 선호 필수 정보를 기 초로 상기 발화 문장에서 누락된 상기 서비스 필수 정보를 복원하고, 상기 추출한 사용자의 의도와 상기 서비스 필수 정보를 포함하는 사용자 의도 분석 결과를 생성하는 필수 정보 복원부를 포함한다. 상기 발화 문장에 포함된 복수의 단어들을 형태소 분석하여 각 단어에 대한 개체명을 추출하고, 복수의 개체명 이 중복으로 추출된 특정 단어가 있으면 개체명 임베딩을 통해 상기 특정 단어의 단일 개체명을 결정하고, 복수 의 개체명 목록들, 각 개체명에 대응하는 단어, 그리고 상기 발화 문장을 포함하는 전처리 정보를 생성하는 전 처리부를 더 포함할 수 있다. 상기 전처리부는, 상기 특정 단어에 대한 복수의 개체명들 각각과, 상기 특정 단어를 제외한 나머지 단어들인 이웃 단어들의 개체명을 다차원 벡터에 전사하고, 상기 특정 단어에 대한 복수의 개체명들과 상기 이웃 단어들 의 개체명들 사이의 거리 값을 계산하여 상기 특정 단어에 대한 단일 개체명을 결정할 수 있다. 상기 의도 후보 추출부는, 상기 전처리 정보에 포함된 발화 문장을 기 설정된 추론 규칙을 기반으로 개체명을 추출하고, 상기 발화 문장을 기준으로 추출한 개체명의 비율이 미리 설정한 기준치 이하이면 딥러닝 기반으로 발화 의도를 분석하여 복수의 의도 후보들을 추출할 수 있다. 상기 개인 의도 분석부는, 상기 사용자의 발화 이력을 기초로 상기 사용자의 습관이나 패턴 정보를 가지는 학습 데이터를 수집하고, 수집한 학습 데이터의 수가 미리 설정한 기준값 이하이면 복수의 사용자들에 대한 학습 데 이터들을 이용하여 상기 발화 문장에서 의도를 분석하고, 상기 수집한 학습 데이터의 수가 기준값 이상이면 상 기 사용자에 대한 학습 데이터들을 이용하여 상기 발화 문장에서 의도를 분석할 수 있다."}
{"patent_id": "10-2021-0027618", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따르면, 직전의 사용자 대화 이력, 사용자 개인의 특성 정보, 대화를 시도하는 상황 정보를 복합적으 로 고려하여, 사용자가 발화한 문장이 중의적 의미가 포함되어 있거나 생략된 필수 정보가 많은 구어체 문장이 더라도, 단일 문장에서 사용자 의도를 정확하게 파악하고 분석할 수 있다."}
{"patent_id": "10-2021-0027618", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "아래에서는 첨부한 도면을 참고로 하여 본 발명의 실시예에 대하여 본 발명이 속하는 기술 분야에서 통상의 지 식을 가진 자가 용이하게 실시할 수 있도록 상세히 설명한다. 그러나 본 발명은 여러 가지 상이한 형태로 구현 될 수 있으며 여기에서 설명하는 실시예에 한정되지 않는다. 그리고 도면에서 본 발명을 명확하게 설명하기 위 해서 설명과 관계없는 부분은 생략하였으며, 명세서 전체를 통하여 유사한 부분에 대해서는 유사한 도면 부호를붙였다. 명세서 전체에서, 어떤 부분이 어떤 구성요소를 \"포함\"한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다 른 구성요소를 제외하는 것이 아니라 다른 구성요소를 더 포함할 수 있는 것을 의미한다. 이하, 도면을 참조로 하여 본 발명의 실시예에 따라 사용자의 대화 의도를 복합적으로 분석하는 대화 의도 분석 시스템 및 방법에 대해 상세히 설명한다. 도 1은 본 발명의 실시예에 따른 대화 의도 분석 시스템이 적용된 환경의 예시도이다. 도 1에 도시된 바와 같이, 대화 의도 분석 시스템은 사용자가 발화한 단일 문장을 수집하고, 다양한 디 스플레이 장치를 통해 사용자가 발화한 문장(이하, 설명의 편의를 위하여 '발화 문장'이라 지칭함)에 따른 서비스를 제공한다. 이때, 사용자가 발화한 발화 문장이 중의적 표현을 포함하고 있거나, 서비스 제공을 위해 요구되는 필수 정 보(slot)(이하, 설명의 편의를 위하여 '서비스 필수 정보'라 지칭함)가 많이 생략된 구어체 문장(이하, 설명의 편의를 위하여 '불완전 문장'이라고도 지칭함)이라 하더라도, 대화 의도 분석 시스템은 직전의 사용자 대화 이력, 사용자 개인의 개인 특성 정보, 대화를 시도하는 상황 정보를 복합적으로 고려하여 단일 문장에서 사용자 의도를 정확하게 파악하여 사용자에게 서비스를 제공할 수 있다. 이러한 대화 의도 분석 시스템의 구조에 대해 도 2를 참조로 설명한다. 도 2는 본 발명의 실시예에 따른 대화 의도 분석 시스템의 구조도이다. 도 2에 도시된 바와 같이, 적어도 하나의 프로세서에 동작하는 대화 의도 분석 시스템은 사용자가 발화한 단일 문장으로부터 사용자의 의도를 분석하기 위하여, 전처리부, 의도 후보 추출부, 개인 의도 분석 부, 필수 정보 복원부, 그리고 사용자별 필수 정보 추출부를 포함한다. 전처리부는 자연어 처리 기술과 임베딩을 활용하여, 사용자가 발화한 단일 문장으로부터 개체명을 추출한 다. 즉, 전처리부는 사용자가 발화한 단일 문장을 입력으로 받아, 사용자 발화 문장, 복수의 개체명 목록 들, 각 개체명에 대응하는 단어들을 전처리 결과로 출력한다. 의도 후보 추출부는 전처리부에서 출력한 전처리 결과를 입력으로 받는다. 그리고 의도 후보 추출부 는 대화 추론 규칙과 딥러닝을 이용하여, 전처리 결과에 포함되어 있는 현재 사용자의 단일 발화 문장으로 부터 대화 의도를 분석하여, 복수의 의도 후보들을 추출한다. 개인 의도 분석부는 의도 후보 추출부에서 추출한 의도 후보들을 수신한다. 개인 의도 분석부는 현재 사용자의 상황, 그리고 사용자가 이전에 발화하였던 발화 이력 등을 포함하는 사용자 상황 정보(personal context)들을 기초로 딥러닝(이하, 설명의 편의를 위하여 '개인 정보 딥러닝'이라 지칭함)을 수행하여, 복수의 의도 후보들 중에서 발화된 문장에 가장 가까운 사용자 의도를 추론한다. 여기서, 사용자 상황 정보는 센서나 각종 기기를 통해 수집되며, 예를 들어, 사용자가 현재 TV를 보고 있다면 어떤 채널을 보고 있는지 영화를 보고 있는지 등이 상황 정보로 사용될 수 있다. 또는, 사용자가 음악을 듣고 있을 경우 어떤 장르, 어떤 가수의 음악을 듣고 있는지 등이 상황 정보로 사용될 수 있으며, 이 외에도 시간적 인 정보(월, 요일, 시간)나 외부 날씨와 같은 정보도 사용자 상황 정보로 사용될 수 있다. 사용자 상황 정보를 수집하는 방법은 다양하므로, 본 발명의 실시예에서는 어느 하나의 방법으로 한정하지 않는다. 개인 의도 분석부에서 사용자 의도를 추론할 수 있지만, 추론한 사용자 의도에 따라 서비스를 제공하기 위 하여 필요한 서비스 필수 정보가 생략되어, 개인 의도 분석부에서 사용자 의도를 정확하게 추론하지 못하 는 경우도 있다. 따라서, 필수 정보 복원부는 사용자별 필수 정보 추출부에서 추출한 사용자가 선호 하는 필수 정보(이하, 설명의 편의를 위하여 '사용자 선호 필수 정보'라 지칭함)를 기초로, 사용자가 발화한 단 일 문장에서 서비스 필수 정보를 복원한다. 사용자별 필수 정보 추출부는 사용자가 발화한 단일 문장 즉, 불완전 문장에 생략되어 있는 서비스 필수 정보를 유추한다. 그리고, 사용자별 필수 정보 추출부는 기 저장되어 있는 사용자별 이력 정보를 기초로, 발화 의도 별로 사용자가 선호하는 사용자 선호 필수 정보를 추출한다. 그리고, 사용자별 필수 정보 추출부 는 추출한 사용자 선호 필수 정보를 필수 정보 복원부로 제공하여, 단일 문장에서 누락된 서비스 필 수 정보를 복원하도록 한다. 이상에서 설명한 대화 의도 분석 시스템을 이용하여 사용자가 발화한 단일 문장에서 대화 의도를 분석하는 방법에 대해 도 3 내지 도 7을 참조로 설명한다. 도 3은 본 발명의 실시예에 따라 사용자의 대화 의도를 복합적으로 분석하는 방법에 대한 흐름도이다. 도 3에 도시된 바와 같이, 대화 의도 분석 시스템은 사용자가 발화한 단일 문장을 수신하면, 전처리를 수행 하여 복수의 개체명들의 목록, 각 개체명에 대응되는 단어들, 그리고 사용자가 발화한 단일 문장을 포함하는 전 처리 결과를 생성한다(S100). 즉, 대화 의도 분석 시스템은 자연어 처리를 통해 단일 문장에서 복수의 개체 명들을 추출한다. 그리고 2개 이상의 개체명들로 중복 추출되는 단어가 있는지 확인하여, 개체명 임베딩을 이용 하여 단일 개체명으로 분석한다. 단일 문장을 전처리한 후, 대화 의도 분석 시스템은 전처리된 문장으로부터 복수의 의도 후보들을 추출한다 (S200). 즉, 전처리 결과를 토대로 대화 의도 분석 시스템은 발화된 문장 자체로부터 사용자 의도를 분석하 기 위하여, 추론 규칙(inference rule) 기반으로 의도를 분석한다. 그리고 대화 의도 분석 시스템은 딥러닝 기반으로 의도를 분석하여, 의도 후보 정보를 생성한다. S200 단계에서 복수의 의도 후보들을 추출한 후, 대화 의도 분석 시스템은 현재 사용자의 상황, 해당 사용 자의 이전 발화 이력 등의 개인 맥락을 기반으로 딥러닝을 수행하여, 발화에 가장 가까운 사용자 의도를 추론한 다(S300). 즉, S200 단계에서 추출한 의도 후보들 중에서 사용자 의도에 해당하는 의도가 있다면 해당 의도를 선택한다. 그러나, 사용자 의도가 명확하지 않은 경우, 사용자 정보를 반영하여 사용자 의도를 추론하는 단계를 추가로 진 행한다. 예를 들어, \"지금 서울 날씨가 어때?\"와 같은 사용자 발화는 의도가 명확한 발화이므로, S300 단계에서 사용자 의도 추론이 마무리 된다. 이때, 추론한 사용자 의도는 사용자 정보를 반영하지 않은 상태로 추론한 사용자 의도이다. 따라서, 대화 의도 분석 시스템은 사용자 의도 분석 시 필요한 서비스 필수 정보가 생략되어 있는 경우, 사용자 의도 분석 결 과를 기초로 서비스 필수 정보를 복원한다(S400). 그리고 복원한 서비스 필수 정보를 사용자 의도 분석 결과와 함께 결합하여, 최종적으로 사용자 의도 분석 결과를 제공한다. 예를 들어, \"오늘 얼마나 걸려\"와 같이 사용자 의도가 모호한 발화가 입력되더라도, 대화 의도 분석 시스템(1 0)은 사용자 의도 분석 결과를 통해 이동 과정에서의 소요 시간을 질의하는 의도로 분석한다. 다만 질의 내용에 서비스 필수 정보인 목적지와 도착지 정보가 전혀 없음을 알 수 있다. 일반적으로 제공하는 서비스에서는 목적지와 출발지를 확인하기 위해 대화 상태 추적(DST: Dialog State Tracking) 과정을 통해 사용자에게 재 질의를 한다. 그러나, 본 발명의 실시예에서는 특정 요일/특정 시간, 특 정 의도 기준으로 발화한 사용자에 대한 이력 정보가 사전에 분석되어 저장되어 있다. 따라서 이력 정보를 활용 하여 사용자에게 재질의하는 과정 없이 사용자 질의에 대한 결과를 제공할 수 있다. 상술한 사용의 대화 의도를 분석하는 단계별 절차에 대해 다음 도면들을 참조로 하여 상세히 설명한다. 도 4는 본 발명의 실시예에 따른 전처리 절차에 대한 흐름도이다. 도 4에 도시된 바와 같이, 대화 의도 분석 시스템의 전처리부는 사용자가 발화한 자연어로 구성된 문 장을 수집한다(S101). 전처리부가 문장을 수집하는 방법은 다양한 형태로 실행될 수 있으므로, 본 발명의 실시예에서는 어느 하나의 방법으로 한정하지 않는다. 전처리부는 형태소 분석과 개체명 분석 과정을 과정을 통해 문장으로부터 개체명을 추출한다(S102). 본 발 명의 실시예에서는 문장에 포함된 단어들의 형태소 분석을 위해, HMM(Hidden Markov Model), CRF(Conditional Random Field), 또는 딥러닝 등 중 어느 하나의 형태소 분석 기술을 사용한다. 그리고, 전처리부는 문장에 포함된 단어들의 개체명 분석을 위해, 개체명 사전 기반으로 한 개체명 분석 기술, 딥러닝 등 다양한 개체명 분석 기술 중 어느 하나의 기술을 사용한다. 각 형태소 분석 기술 또는 개체명 분석 기술은 이미 알려진 기술들로, 본 발명의 실시예에서는 상세한 설명은 생략한다. 개체명을 추출하는 과정에서, 하나의 단어가 여러 개체명으로 추출 될 수 있다. 예를 들어 \"TV에서 신데렐라가 보고 싶어\"라는 발화를 사용자가 했을 경우 개체명 분석 결과로 \"TV:Device, 신데렐라:VOD, 신데렐라:음악, 보 다:Show\"를 출력한다. 이때, 신데렐라가 VOD와 음악으로 중복 개체명으로 추출될 수 있다.따라서, 전처리부는 S102 단계에서 추출한 단어 별 개체명 중 2가지 이상의 개체명으로 중복 추출된 단어 가 있는지 확인한다(S103). 그리고, 중복 추출된 개체명이 있는 경우, 전처리부는 개체명 임베딩을 이용하 여 단일 개체명으로 생성한다(S103). 이를 위해, 본 발명의 실시예에서는 NE2Vec 임베딩 기술을 이용한다. NE2Vec 임베딩이란 단어를 다차원 벡터로 전사하는 일반적인 워드 임베딩과는 달리, 개체명 즉 NE(Named Entity)를 다차원 벡터로 전사하는 것이다. 기본 적으로 워드 임베딩 방법 중의 하나인 Word2Vec 방법을 활용하여 개체명을 다차원 벡터에 전사하고, 해당 개체 명과 연관 관계가 높은 적어도 하나의 개체명을 다차원 벡터에 군집하여 전사한다. 상술한 \"TV에서 신데렐라가 보고 싶어\"로 설명하면, 개체명 Device, 개체명 VOD, 개체명 Show는 함께 사용되는 경우가 많다. 따라서, 다차원 벡터에서 개체명 Device, 개체명 VOD, 개체명 Show의 거리는 가깝게 다차원 좌표 평면에 군집화된다. 그러나, 개체명 Device는 개체명 음악, 개체명 Show와 함께 사용되는 경우가 적기 때문에, 다차원 벡터에서 개 체명간 거리가 상대적으로 떨어져 위치한다. 전처리부는 이러한 특성을 이용하여, 중복으로 추출된 개체명 들 중 다른 개체명들과 연관 관계가 높은 개체명을 단일 개체명으로 추출한다(S104). 즉, 전처리부는 개체명 VOD와 개체명 Device 사이의 거리(제1 거리)와, 개체명 VOD와 개체명 Show 사이의 거리(제2 거리)의 합을 구한다. 마찬가지로 개체명 음악과 개체명 Device 사이의 거리(제3 거리)와, 개체명 VOD 와 개체명 Show 사이의 거리(제4 거리)의 합을 구한다. 전처리부는 제1 거리와 제2 거리의 합이 제3 거리와 제4 거리의 합 보다 작기 때문에, 개체명 VOD를 단일 개체명으로 추출한다. 여기서, 개체명은 다음 수학식 1과 같이 표현된다. 수학식 1"}
{"patent_id": "10-2021-0027618", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "이때, 전처리부가 다차원 벡터에서 거리를 구하는 방법은, 유클리드 거리 계산법이나 코사인 유사도 기반 으로 구할 수 있다. 추가적으로 각 개체명 거리의 합의 차이가 근소할 경우에는 정확도가 낮아 진다. 따라서 거 리의 합의 차이가 일정 임계값 이상일 경우에만, 단일 개체명으로 최종 결과를 분석해 낸다. 개체명 임베딩 기반의 단일 개체명 분석까지 끝나면, 최종 개체명 목록과 각 개체명에 대응되는 단어 목록, 발 화 문장을 포함하는 전처리 결과를 생성하여 의도 후보 추출부로 전달한다(S105). 여기서, 단일 개체명으 로 분석이 안 되는 경우, 전처리부는 복수로 추출된 개체명을 전처리 결과에 포함하여 그대로 전달한다. 도 5는 본 발명의 실시예에 따른 의도 후보를 추출하는 방법에 대한 흐름도이다. 도 5에 도시된 바와 같이, 전처리부에서 발화 문장, 최종 개체명 목록, 각 개체명에 대응되는 단어를 포함 하는 전처리 결과를 수신하면(S201), 의도 후보 추출부는 발화 문장으로부터 사용자 의도를 분석하기 위한 의도 후보들을 추출하는 과정을 수행한다. 본 발명의 실시예에서는 추론 규칙 기반 의도 분석과 딥러닝 기반 의 도 분석을 통해 의도 후보들을 추출하는 것을 예로 하여 설명한다. 먼저, 의도 후보 추출부는 추론 규칙을 기반으로 의도를 분석한다(S202). 여기서, 추론 규칙이란, 사전에 정의되어 있는 규칙으로, 전처리 결과에 포함된 개체명들의 조합을 기초로 하여, 특정 개체명 조합에서 특정 의 도가 있을 가능성이 높다고 보고 이를 규칙으로 설정한 것이다. 여기서, 개체명 조합은 조건이 되고, 사용자 의도가 결과가 된다. 예를 들어 Device+VOD+Show로 이루어진 개체 명 조합에서는 TV 시청이 사용자 의도가 된다. 추론 규칙에는 규칙간의 우선 순위 정보가 포함되어 있다. 예를 들어 \"TV에서 MBC 틀어줘\"와 같은 발화 문장이 있다고 가정한다. 그러면, \"TV:Device, MBC:TV채널, 틀다:Turn-on\"와 같이 개체명이 분석되고, 추론 규칙으로 'Device+TV채널+Turn-on → TV채널전환'과 'Device+Turn-on → TV전원ON'과 같은 규칙들이 정의되어 있는 상태 이다. 여기서, Device+TV채널+Turn-on의 개체명 조합은 위의 두 가지 규칙 즉, 'TV채널전환'과 'TV전원ON'의 조건을 모두 만족한다. 따라서, 의도 후보 추출부는 규칙 사이의 우선 순위가 필요하며, 개체명 조합에 포함되는 개체명이 많을 수록 우선 순위가 높은 것으로 결정한다. 그리고 개체명 조합만으로는 사용자의 의도 해석이 어려운 경우가 있기 때문에, 의도 후보 추출부는 개체 명에 대응되는 단어를 이용하여 추론 규칙을 기술할 수도 있다. 예를 들어 'TV에서 노래 틀어줘'와 '컴퓨터에서 노래 틀어줘'의 경우는 동일한 개체명 패턴(Device+음악자체+Turn-on)을 가지기 때문에, 이를 조건에서 'TV:Device+음악자체+Turn-on', '컴퓨터:Device+음악자체+Turn-on'와 같이 구분해서 기술할 수 있다. 이와 같이 추론 규칙을 기반으로 의도를 분석하면 개체명은 추출되나, 사용자 발화에서 추출된 개체명의 비율이 전체 발화 문장 대비 작은 경우가 발생할 수 있다. 따라서, 의도 후보 추출부는 이를 보완하기 위한 절차 를 수행한다. 즉, 발화 문장이 길면 길수록 추출되는 개체명은 늘어나고, 의도치 않는 개체명 규칙에 부합하여 의도와는 다른 분석 결과가 나올 수 있다. 예를 들어 '나는 TV나 라디오 보거나 듣는 것보다는 컴퓨터 게임을 켜고 싶어'와 같 은 발화 문장이 입력되었다면, '컴퓨터', '보지 않다', '듣지 않다'와 같은 개체명이 추출되지 않는 경우 'Device:TV', 'Turn-on'과 같은 개체명만 추출될 수 있다. 이는 사용자의 의도와는 다르게 'Device:TV+Turn-on → TV전원ON'와 같은 추론 규칙에 의해 TV전원을 켜달라는 의도로 해석될 수 있다. 전체 발화 문장 대비 추출되는 개체명의 비중이 적을 경우, 이러한 현상이 두드러질 수 있다. 따라서, 의도 후보 추출부는 추론 규칙을 기반으로 의도 분석하여, 추출된 개체명의 비율이 전체 문장 대 비 미리 설정한 기준치 이상인지 확인한다(S203). 만약, 전체 문장 대비 개체명 비율이 기준치 이하이면, 의도 후보 추출부는 발화 문장을 딥러닝 기반으로 의도를 분석한다(S204). 딥러닝 기반 의도 분석에서 사용되는 학습 데이터는 최종 개체명 목록, 개체명에 대응 되는 단어, 사용 발화 문장 전체와 이에 대한 정답 라벨(label)을 사용한다. 학습 데이터를 사용하여 최종 상위 3개의 후보 의도를 뽑아내기 위하여, 의도 후보 추출부에는 분류기와 같은 역할을 수행하는 학습 모델이 포함될 수 있다. 예를 들어 '나는 TV나 라디오 보거나 듣는 것보다는 컴퓨터 게임을 켜고 싶어'의 경우, 학습 데이터는 (Device:TV, Device:라디오, Turn-on:켜다, 발화문장: 나는 TV나 라디오 보거나 듣는 것보다는 컴퓨터 게임을 켜고 싶어, 정답:TurnComtuperGame)와 같은 형태로 생성된다. 그리고 '컴퓨터 게임'이나, '보지 않다', '듣지 않다' 등은 개체명이 추출되지 않았기 때문에, 학습 데이터에 포함되지 않는다. 분류기는 '임베딩 레이어-딥러닝 학습 레이어-의도 출력 레이어' 로 구성된다. 임베딩 레이어는 개념 임베딩 (Conceptual embedding)인 BERT(Bidirectional Encoder Representations from Transformers)와 같은 방식을 이용하는 것을 예로 하여 설명하나, 도메인이나 상황에 따라 유연하게 선택될 수 있다. 발화 문장에 발화 의도가 하나만 포함된 경우, 의도 후보 추출부는 최종적으로 의도 분석과 결과를 출력할 수 있다. 그러나, 대부분의 경우는 발화 문장에 발화 의도가 복수 개 포함될 수 있다. 예를 들어, '신데렐라 틀어줘', 또는 '오늘은 얼마나 걸려'가 발화 의도가 복수 개 포함될 수 있는 경우에 해당 한다. 신데렐라의 경우는 VOD를 틀어달라는 의도일 수도 있고, 음악을 틀어달라는 의도일 수도 있다. '오늘은 얼마나 걸려'도 마찬가지로 이동 시간이 얼마나 걸리는 지 물어보는 경우일 수도 있고, TV프로그램이나 영화가 끝나기까지 남은 시간을 질의하는 경우일 수도 있다 따라서, 의도 후보 추출부는 발화 문장에서 발화 의도의 수가 복수 개 인지 확인한다(S205). 그리고, 발화 의도의 수가 1개라면, 사용자 의도 분석 결과로 출력한다(S206). 하지만, 발화 의도의 수가 복수개라면, 의도 후보 추출부는 복수개의 의도 목록, 개체명 목록, 개체명별 단어 목록, 발화 문장을 포함하는 의도 후보 정보를 생성하여, 개인 의도 분석부로 전달한다(S207). 도 6은 본 발명의 실시예에 따른 개인 의도를 분석하는 방법에 대한 흐름도이다. 도 6에 도시된 바와 같이, 의도 후보 추출부의 분석 결과 복수의 사용자 의도가 분석되어 의도 후보 정보 를 수신하면(S301), 개인 의도 분석부는 사용자의 현재 상황, 현재 발화 이전의 사용자 발화 이력 등 개인 맥락 기반으로 개인 딥러닝을 수행한다. 그리고 개인 의도 분석부는, 최종적으로 발화에 가장 가까운 사용 자 의도를 추론하여 제공한다. 이를 위해, 개인 의도 분석부는 사용자가 평소에 발화한 이력의 순차적인 정보를 이용하여 사용자의 습관 이나 패턴을 딥러닝 기반으로 학습하여 학습 데이터를 생성한다(S302). 즉, 현재 사용자 발화 이전에 어떤 의도 의 발화를 했는지 분석하여, 현재 발화가 어떤 의도의 발화에 가장 가까운지를 분석한다. 기본적으로 발화의 순서 정보가 중요하다. 따라서, 본 발명의 실시예에서는 RNN(Recurrent Neural Networks)의 LSTM(Long Short-Term Memory models)과 같은 딥러닝 방법을 활용하여 사용자의 습관이나 패턴을 모델링하는 것 을 예로 하여 설명한다. LSTM은 일반적으로 문장 전체를 학습 데이터로 받아서 문장에서 단어들이 어떤 순서를 연결되는지 모델링하는 방법이다. 본 발명의 실시예에서는 사용자의 의도 순서가 어떤 순서로 진행되는지를 모델링하여, 현재 사용자의 발화 의도 시퀀스로부터 현재 사용자의 발화 의도를 추론한다. 학습 데이터로는 (MusicPlay-MusicStop-TurnOnTV-MoviePlay)와 같이 평소 사용자가 실행한 발화 의도 순서와, 의도 후보 추출부로부터 수신한 복수의 의도 후보 정보에 포함된 의도들인 (MusicPlay, MoviePlay, TVProPlay)를 사용한다. 개인 의도 분석부는 이러한 학습 데이터를 사용하여, 발화 문장에서 의도를 분석하게 된다. 이때, 개인 딥 러닝 기반 의도 분석의 경우, 특정 사용자의 생활 패턴을 딥러닝을 기반으로 모델링 하기 위해서 다량의 학습 데이터가 필요하다. 적은 학습 데이터로는 결과를 정확하게 분석되지 않은 경우가 많기 때문이다. 따라서, 개인 의도 분석부는 해당 사용자에 대한 학습 데이터가 미리 설정한 기준치 이상 확보되어 있는지 확인한다(S303). 그리고, 학습 데이터의 수가 기준치보다 적을 경우, 학습 데이터가 충분히 확보되기 전까지는 공통 패턴 딥러닝 기반으로 사용자 의도를 분석한다(S304). 공통 패턴 딥러닝 기반으로 사용자 의도를 분석할 때에는, 특정 사용자의 습관이 아닌 전체 사용자를 대상으로 한 대중적인 사용자 패턴을 모델링한다. 공통 패턴 딥러닝은 개인 딥러닝 과정과 유사하게 진행되지만, 학습 데 이터로 특정 사용자의 발화 의도 순서가 아니라 전체 사용자의 발화 의도 순서를 사용한다. 한편, S303 단계에서 확인한 결과, 학습 데이터가 기준치 이상 확보되어 있다면, 개인 의도 분석부는 개인 딥러닝 기반으로 발화 문장의 의도를 분석한다(S305). 예를 들어, 사용자가 음악 감상 이후 음악 종료, TV 실행, 영화를 재생하는 생활 패턴을 가진 사용자라는 것을 확인하면, 개인 의도 분석부는 음악 종료 이후 TV 전원을 켠 상태에서 '신데렐라 틀어줘'를 수집하면, 음악 재생보다는 VOD 재생의 의도로 분석한다. 이때, 개인 딥러닝의 신뢰도가 높지 않거나 결과가 분석되지 않을 수도 있다. 즉, 개인 의도 분석부는 딥 러닝의 결과로 함께 산출된 신뢰도가 미리 설정한 특정 값 이하인 경우, 신뢰도가 높지 않은 것으로 확인한다. 이러한 경우를 대비하기 위해, 개인 의도 분석부는 개인 딥러닝 기반으로 발화 문장의 의도를 분석한 결과 와 공통 패턴 딥러닝 기반으로 의도를 분석한 결과를 모두 사용한다. 다시 말해, 'MusicPlay-MusicStop- TurnOnTV-VODPlay'와 같은 생활 패턴을 가진 사용자가 다수라면 '신데렐라 틀어줘'의 경우는 VODPlay로 의도 해 석 결과를 도출할 수 있다. 개인 딥러닝 기반 의도 분석 과정과 공통 패턴 딥러닝 기반 의도 분석 과정을 수행하면, 개인 의도 분석부(30 0)는 확률 값이 높은 우선 순위대로 의도 분석 결과를 생성한다. 이렇게 분석된 의도를 기초로 개인 의도 분석 부는 맥락 정보를 기반으로 한 의도 분석을 수행한다(S306). 맥락 정보를 기반으로 한 의도 분석 과정은, 현재 사용자의 상황에 기반하여 최종적으로 사용자의 의도를 추론 하는 과정이다. 이를 위해, S304 단계와 S305 단계에서 분석된 의도 분석 결과에서, 현재 사용자 상황에 맞지 않는 의도들을 필터링한다. 사용자 상황이란 사용자가 음악을 듣고 있다든지, 사용자가 집안에 있지 않고 외부에 있거나 등 사용자가 현재 처한 상황에 대한 정보이다. 사용자 상황에 맞지 않는 의도 분석 결과를 사전에 규칙 형태로 먼저 정의하고, 개 인 의도 분석부는 이 규칙에 기반하여 상황에 맞지 않는 의도는 우선순위를 낮춘다. 예를 들어 '신데렐라 틀어줘'가 공통 패턴 딥러닝 기반 의도 분석 과정을 거쳐 VOD를 시청을 하겠다는 의도로 분석되더라도 사용자가 외출 중인 상황이라면, 개인 의도 분석부는 영화 시청이 아니라 음악 감상의 의도 로 분석한다. 의도 필터링 과정 이후에는 수집된 외부 정보를 기반으로 하여 우선순위를 조정한다. '신데렐라 틀어줘'가 공통 패턴 딥러닝 기반 의도 분석 과정을 거쳐 VOD를 시청하겠다는 의도로 분석되더라도, 실시간 검색어에 음악 신데렐라가 올라와 있다고 하면, 개인 의도 분석부는 VOD를 시청 하겠다는 의도보다는 음악을 듣겠다는 의도가 높다고 판단한다. 따라서, 개인 의도 분석부는 개인 딥러닝 기반 의도 분석과 공통 패턴 딥러닝 기반 의도 분석 과정을 거쳐, 우선 순위를 최종적으로 조정한다. 예를 들어, 개인 의도 분석부는 \"(MusicPlay, MoviePlay, TVProPlay) AND TVPro:Top10 Then TVProPlay\"와 같은 형식으로 규칙을 사전에 정의한다. 이 규칙의 의미는 MusicPlay, MoviePlay, TVProPlay가 의도 분석 결과 목록이고, TVPro의 개체명이 인기 TV프로 Top10에 있으면 TVProPlay로 최종 의도를 분석하라는 의미이다. 이상의 절차를 통해, 개인 의도 분석부는 사용자 의도 분석 결과, 개체명별 단어 목록, 발화 문장을 포함 하는 개인 의도 분석 정보를 생성하여, 사용자 정보 복원부로 전달한다(S307). 도 7은 본 발명의 실시예에 따른 필수 정보를 복원하는 방법에 대한 흐름도이다. 상술한 도 6의 개인 의도 분석부를 통해 사용자의 최종 의도가 분석될 수 있지만, 발화 문장에 의도를 분 석하기 위해 필요한 서비스 필수 정보가 생략되어 있는 경우가 있을 수 있다. 예를 들어 '오늘 얼마나 걸려'의 경우, 개인 의도 분석부가 특정 출발 장소에 특정 도착 장소까지 시간이 얼마나 소요되는 지를 질의하는 의도라고 분석할 수 있지만, 발화 문장에 출발지와 도착지와 같이 서비스를 제공하기 위해 필요한 서비스 필수 정보가 모두 생략되어 있다. 따라서, 사용자별 필수 정보 추출부는 발화 문장에 생략되어 있는 필수 정보를 복원하기 위해, 사용자의 이력 정보를 바탕으로 각 의도별로 서비스 필수 정보를 정의하고, 선호하는 사용자 선호 필수 정보를 사전에 추 출한다(S401). 상술한 '오늘 얼마나 걸려'가 장소간 이동 소요시간을 알기 위해 질의하는 의도일 경우, 출발지 와 도착지 정보가 필수로 정의되어야 한다. 그리고 각 의도 별로 정의된 필수 정보는 요일과 시간을 기준으로 하여 요일 별, 시간 별, 요일+시간별로 정의된다. 예를 들어 특정 사용자의 사용자 필수 정보가 다음과 같이 정의되어 있다고 가정한다. - (월요일, 오전8-9, 이동소요시간 질의 의도) → 출발지:집|목적지:회사, - (화요일, 오후8-9, 이동소요시간 질의 의도) → 출발지:회사|목적지:집, - (-, 오후10-11, TV채널이동 의도) → TV채널명:MBC 사용자 선호 필수 정보 추출 방법은 여러 방법으로 사용될 수 있으나, 기본적으로 사용자의 과거 발화 이력 통 계를 기반으로 한 선호도 정보 추출 과정에서 추출하는 것을 예로 하여 설명하다. 즉, 특정 사용자가 매일 오후 10시에서 11시에 MBC 채널 이동의 발화를 많이 한 이력이 있다면, 사용자별 필수 정보 추출부는 매일 오후 10시에서 11시까지 TV채널이동 의도의 개인 필수 정보 인 TV채널명인 MBC를 사용 자 선호 필수 정보로 추출한다. 통계 기반으로 선호 정보를 추출하는 기본적인 방식에, 사용자별 필수 정보 추출부는 추가적으로 최근에 이력에 가중치를 준다든지 최소 기준별로 몇 건 이상이 이력이 남아 있는 경우를 대상으로 사용자 선호 필수 정 보를 추출하는 로직을 결합하여, 신뢰도를 높일 수 있다. 예를 들어, 한달 간 매주 월요일 오전 9시에 '집에서 회사까지 얼마나 걸려'를 질의한 횟수와 '집에서 서울시청 까지 얼마나 걸려'를 발화한 횟수가 크게 차이가 없고, 마지막 월요일 오전 9시 발화가 '집에서 회사까지 얼마 나 걸려'라고 가정한다. 그러면, 사용자별 필수 정보 추출부는 최근 발화한 정보에 가중치를 높게 부여하 여, 월요일 오전 9시 이동소요시간 질의 의도의 사용자 선호 필수 정보로 '출발지:집, 목적지:회사'로 추출한다. 이와 같이 사용자 선호 필수 정보가 추출되어 있다고 가정하고, 개인 필수 정보 복원부는 개인 의도 분석 정보를 수신하고(S402), 수신한 개인 의도 분석 정보에 포함된 필수 정보가 생략된 발화 문장에서 사용자 선호 필수 정보를 복원한다(S403). 즉, 사용자별 필수 정보 추출부에서 의도별 필수 정보를 사용자 선호 필수 정보로 정의하고, 필수 정보 복원부에서 정의한 사용자 선호 필수 정보를 탐색하는 과정을 수행한다. 예를 들어, 사용자가 월요일 오전 8시에 '오늘 얼마나 걸려'와 같은 질의하였다고 가정한다. 이 경우, 개인 의 도 분석부는 장소간 소요시간 질의 의도라고 의도 분석을 수행하지만, 출발지가 어디이고 목적지가 어딘지 에 대한 서비스 필수 정보가 누락되어 있다. 하지만, 사용자별 필수 정보 추출부에서 개인 필수 정보로 '(월요일, 오전8-9, 이동소요시간 질의 의도) → 출발지:집|목적지:회사'와 같이 개인 필수 정보를 추출하여 정의하였기 때문에, 사용자가 질의한 '오늘 얼마나 걸려'가 '오늘 집에서 회사까지 얼마나 걸려'와 같은 명확한 발화와 동일하게 해석할 수 있다. 필수 정보 복원부는 기본적으로 특정 요일과 특정 시간, 특정 의도의 세가지 정보를 AND 결합하여 개인 필 수 정보를 탐색하지만, 탐색 결과가 없는 경우가 있을 수 있다. 이런 경우 순차적으로 특정 시간 정보와 특정 의도 AND 결합, 특정 요일 정보와 특정 의도 AND 결합의 순으로 탐색한다. 단, 특정 요일과 특정 시간, 특정 의 도의 세가지 정보를 결합하여 AND 결합한 결과보다는 신뢰도가 낮을 수 있다. 이와 같은 절차로 개인 필수 정보가 복원되면, 필수 정보 복원부는 최종 사용자 의도 분석 결과를 생성한 다(S404). 도 8은 본 발명의 실시예에 따른 컴퓨팅 장치의 구조도이다. 도 8에 도시된 바와 같이, 적어도 하나의 프로세서에 의해 동작하는 컴퓨팅 장치에서, 본 발명의 동작을 실행하도록 기술된 명령들(instructions)이 포함된 프로그램을 실행한다. 본 발명의 실시예에서는 전처리부 , 의도 후보 추출부, 개인 의도 분석부, 개인 필수 정보 복원부 또는 사용자별 필수 정보 추출부 중 적어도 하나의 구성 요소가 컴퓨팅 장치로 구현되는 것을 예로 하여 설명하나, 반드시 이 와 같이 한정되는 것은 아니다. 컴퓨팅 장치의 하드웨어는 적어도 하나의 프로세서, 메모리, 스토리지, 통신 인터페이스 를 포함할 수 있고, 버스를 통해 연결될 수 있다. 이외에도 입력 장치 및 출력 장치 등의 하드웨어가 포함 될 수 있다. 컴퓨팅 장치는 프로그램을 구동할 수 있는 운영 체제를 비롯한 각종 소프트웨어가 탑재될 수 있다. 프로세서는 컴퓨팅 장치의 동작을 제어하는 장치로서, 프로그램에 포함된 명령들을 처리하는 다양한 형태의 프로세서일 수 있고, 예를 들면, CPU(Central Processing Unit), MPU(Micro Processor Unit), MCU(Micro Controller Unit), GPU(Graphic Processing Unit) 등 일 수 있다. 메모리는 본 발명의 동작을 실행하도록 기술된 명령들이 프로세서에 의해 처리되도록 해당 프로그램 을 로드한다. 메모리는 예를 들면, ROM(read only memory), RAM(random access memory) 등 일 수 있다. 스토리지는 본 발명의 동작을 실행하는데 요구되는 각종 데이터, 프로그램 등을 저장한다. 통신 인터페이스는 유/무선 통신 모듈일 수 있다. 이상에서 본 발명의 실시예에 대하여 상세하게 설명하였지만 본 발명의 권리범위는 이에 한정되는 것은 아니고 다음의 청구범위에서 정의하고 있는 본 발명의 기본 개념을 이용한 당업자의 여러 변형 및 개량 형태 또한 본 발명의 권리범위에 속하는 것이다."}
{"patent_id": "10-2021-0027618", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 실시예에 따른 대화 의도 분석 시스템이 적용된 환경의 예시도이다. 도 2는 본 발명의 실시예에 따른 대화 의도 분석 시스템의 구조도이다. 도 3은 본 발명의 실시예에 따라 사용자의 대화 의도를 복합적으로 분석하는 방법에 대한 흐름도이다. 도 4는 본 발명의 실시예에 따른 전처리 절차에 대한 흐름도이다. 도 5는 본 발명의 실시예에 따른 의도 후보를 추출하는 방법에 대한 흐름도이다. 도 6은 본 발명의 실시예에 따른 개인 의도를 분석하는 방법에 대한 흐름도이다. 도 7은 본 발명의 실시예에 따른 필수 정보를 복원하는 방법에 대한 흐름도이다. 도 8은 본 발명의 실시예에 따른 컴퓨팅 장치의 구조도이다."}
