{"patent_id": "10-2019-0050983", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2020-0126825", "출원번호": "10-2019-0050983", "발명의 명칭": "자기 공명 신호 데이터로부터 파라미터 맵을 생성하는 자기 공명 영상 장치 및 그 동작 방법", "출원인": "삼성전자주식회사", "발명자": "김영범"}}
{"patent_id": "10-2019-0050983", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "자기 공명 신호 데이터로부터 파라미터 맵을 생성하는 방법에 있어서,자기 공명 영상 촬영 방법과 자기 공명 신호 모델에 따른 자기 공명 신호 데이터를 인공 신경망(ArtificialNeural Network)에 입력으로 적용하고, 상기 자기 공명 신호 모델을 통해 산출된 제1 특성 파라미터 값을 정답값(groundtruth)으로 적용하는 학습(training)을 통해 학습 네트워크 모델(trained network model)을 획득하는단계; 및대상체를 촬영하여 획득한 자기 공명 영상 데이터를 상기 학습 네트워크 모델에 적용하여, 상기 자기 공명 영상데이터에 관한 제2 특성 파라미터 값을 산출하는 단계;를 포함하는, 방법."}
{"patent_id": "10-2019-0050983", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1 항에 있어서, 상기 자기 공명 신호 데이터는, 상기 대상체에 관한 자기 공명 영상을 촬영하는 자기 공명 촬영 시퀀스(Magnetic Resonance sequence)에 따라 특정한 자기 공명 신호 모델링 수식을 이용하여 시뮬레이션된 자기 공명신호 응답인, 방법."}
{"patent_id": "10-2019-0050983", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2 항에 있어서,상기 자기 공명 신호 모델링 수식은 상기 제1 특성 파라미터 값 및 상기 대상체에 관한 자기 공명 영상을 촬영하는데 사용되는 RF 슬라이스 프로파일(Radio Frequency slice profile)을 이용하여 상기 자기 공명 신호 데이터를 시뮬레이션하는 수식인, 방법."}
{"patent_id": "10-2019-0050983", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1 항에 있어서,상기 자기 공명 신호 데이터는 자기 공명 신호 모델링 수식을 이용하는 시뮬레이션을 통해 생성된 가상의 자기공명 신호 응답(Magnetic Resonance signal response)인 합성 데이터(synthetic data) 및 상기 대상체에 관하여 기획득된 자기 공명 영상 데이터(in-vivo data)를 포함하고, 상기 학습하는 단계는, 상기 합성 데이터 및 상기 기획득된 자기 공명 영상 데이터 중 적어도 하나를 상기 인공신경망에 입력으로 적용하고, 상기 제1 특성 파라미터 값을 정답값으로 적용하여 학습하는, 방법."}
{"patent_id": "10-2019-0050983", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4 항에 있어서,상기 합성 데이터는, 특정 에코 시간(Echo time, TE)에서의 상기 자기 공명 영상 데이터의 감쇠(decay) 정도를나타내는 파라미터 값 및 RF 슬라이스 프로파일을 이용하여 시뮬레이션된 자기 공명 신호 응답인, 방법. 공개특허 10-2020-0126825-3-청구항 6 제4 항에 있어서,상기 학습하는 단계는, 상기 합성 데이터 및 상기 기획득된 자기 공명 영상 데이터로 구성된 입력과 상기 입력에 대응되는 제1 특성 파라미터인 정답값으로 하는 쌍(pair)을 형성하고, 상기 쌍을 복셀 별로(voxel-by-voxel)상기 인공 신경망에 적용하여 학습하는, 방법."}
{"patent_id": "10-2019-0050983", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제1 항에 있어서,상기 산출된 제2 특성 파라미터에 기초하여 파라미터 맵을 생성하는 단계; 를 더 포함하고, 상기 파라미터 맵은 T1 맵, T2 맵, T1 rho 맵, 및 PD (Proton Density) 맵 중 적어도 하나를 포함하는, 방법."}
{"patent_id": "10-2019-0050983", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7 항에 있어서,상기 파라미터 맵을 디스플레이하는 단계; 를 더 포함하는, 방법."}
{"patent_id": "10-2019-0050983", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제1 항에 있어서,상기 학습을 통해 복셀 별로 산출된 잔여 오차값(residual error value)이 기설정된 임계치를 초과하는 복셀을검출하여 오류를 검출하는 단계;를 더 포함하는, 방법."}
{"patent_id": "10-2019-0050983", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9 항에 있어서,상기 자기 공명 신호 모델을 이용하여, 기설정된 범위 내에서의 상기 제1 특성 파라미터 값에 관한 사전(dictionary)을 생성하는 단계; 상기 사전으로부터 상기 오류가 검출된 복셀에 대응되는 상기 제1 특성 파라미터 값을 획득하는 단계; 및 상기 오류가 검출된 복셀의 값을 상기 획득된 제1 특성 파라미터 값으로 대체(replacing)하여 상기 오류를 보정하는 단계; 를 더 포함하는, 방법."}
{"patent_id": "10-2019-0050983", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "자기 공명 신호 데이터로부터 파라미터 맵을 생성하는 자기 공명 영상 장치에 있어서, 적어도 하나의 RF 채널 코일로부터 대상체에서 방출되는 자기 공명 신호를 획득하는 RF 코일(radio frequency공개특허 10-2020-0126825-4-coil); 상기 RF 코일로부터 수신된 자기 공명 신호를 처리하는 명령어들(instructions)을 저장하는 메모리; 및 상기 메모리에 저장된 명령어들을 수행하는 프로세서;를 포함하고, 상기 프로세서는, 자기 공명 영상 촬영 방법과 자기 공명 신호 모델에 따른 자기 공명 신호 데이터를 인공 신경망(Artificial Neural Network)에 입력으로 적용하고, 상기 자기 공명 신호 모델을 통해 산출된 제1 특성 파라미터를 정답값(groundtruth)으로 적용하는 학습(training)을 통해 학습 네트워크 모델(trained network model)을 생성하고, 상기 자기 공명 신호를 처리하여 생성된 상기 대상체에 관한 자기 공명 영상 데이터를 상기 획득된 학습 네트워크 모델(trained network model)에 적용하여 상기 자기 공명 영상 데이터에 관한 제2 특성 파라미터를산출하는, 자기 공명 영상 장치."}
{"patent_id": "10-2019-0050983", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제11 항에 있어서, 상기 자기 공명 신호 데이터는, 상기 대상체에 관한 자기 공명 영상을 촬영하는 자기 공명 촬영 시퀀스(Magnetic Resonance sequence)에 따라 특정한 자기 공명 신호 모델링 수식을 이용하여 시뮬레이션된 자기 공명신호 응답인, 자기 공명 영상 장치."}
{"patent_id": "10-2019-0050983", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제12 항에 있어서,상기 자기 공명 신호 모델링 수식은 상기 제1 특성 파라미터 값 및 상기 대상체에 관한 자기 공명 영상을 촬영하는데 사용되는 RF 슬라이스 프로파일(Radio Frequency slice profile)을 이용하여 상기 자기 공명 신호 데이터를 시뮬레이션하는 수식인, 자기 공명 영상 장치."}
{"patent_id": "10-2019-0050983", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제11 항에 있어서,상기 자기 공명 신호 데이터는 자기 공명 신호 모델링 수식을 이용하는 시뮬레이션을 통해 생성된 가상의 자기공명 신호 응답(Magnetic Resonance signal response)인 합성 데이터(synthetic data) 및 상기 대상체에 관하여 기획득된 자기 공명 영상 데이터(in-vivo data)를 포함하고, 상기 프로세서는, 상기 합성 데이터 및 상기 기획득된 자기 공명 영상 데이터 중 적어도 하나를 상기 인공 신경망에 입력으로 적용하고, 상기 제1 특성 파라미터 값을 정답값으로 적용하여 학습하는, 자기 공명 영상 장치."}
{"patent_id": "10-2019-0050983", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제14 항에 있어서,상기 프로세서는, 특정 에코 시간(TE)에서의 상기 자기 공명 영상 데이터의 감쇠 정도를 나타내는 파라미터 값및 RF 슬라이스 프로파일을 이용하는 시뮬레이션을 통해 상기 합성 데이터를 생성하는, 자기 공명 영상 장치."}
{"patent_id": "10-2019-0050983", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제14 항에 있어서,공개특허 10-2020-0126825-5-상기 프로세서는, 상기 합성 데이터 및 상기 자기 공명 영상 데이터로 구성된 입력과 상기 입력에 대응되는 제1특성 파라미터인 정답값으로 하는 쌍(input/output pair)을 형성하고, 상기 형성된 쌍을 복셀 별로(voxel-by-voxel) 상기 인공 신경망에 적용하여 학습하는, 자기 공명 영상 장치."}
{"patent_id": "10-2019-0050983", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제11 항에 있어서,상기 프로세서는 산출된 제2 특성 파라미터에 기초하여 파라미터 맵을 생성하고, 상기 파라미터 맵은 T1 맵, T2 맵, T1 rho 맵 및 PD (Proton Density) 맵 중 적어도 하나를 포함하는, 자기 공명 영상 장치."}
{"patent_id": "10-2019-0050983", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "제17 항에 있어서,디스플레이부; 를 더 포함하고, 상기 프로세서는, 상기 파라미터 맵을 디스플레이하도록 상기 디스플레이부를 제어하는, 자기 공명 영상 장치."}
{"patent_id": "10-2019-0050983", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_19", "content": "제11 항에 있어서,상기 프로세서는, 상기 학습을 통해 복셀 별로 산출된 잔여 오차값(residual error value)이 기설정된 임계치를초과하는 복셀을 검출하여 복셀 별 오류를 검출하는, 자기 공명 영상 장치."}
{"patent_id": "10-2019-0050983", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_20", "content": "제19 항에 있어서,상기 프로세서는, 상기 자기 공명 신호 모델을 이용하여, 기설정된 범위 내에서의 제1 특성 파라미터 값에 관한사전(dictionary)을 생성하고, 상기 사전으로부터 상기 오류가 검출된 복셀에 대응되는 상기 제1 특성 파라미터 값을 획득하고, 상기 오류가검출된 복셀의 값을 상기 획득된 제1 특성 파라미터 값으로 대체(replacing)하여 상기 오류를 보정하는, 자기공명 영상 장치."}
{"patent_id": "10-2019-0050983", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_21", "content": "컴퓨터로 읽을 수 있는 저장 매체를 포함하는 컴퓨터 프로그램 제품에 있어서, 상기 저장 매체는,자기 공명 영상 촬영 방법과 자기 공명 신호 모델에 따른 자기 공명 신호 데이터를 인공 신경망(ArtificialNeural Network)에 입력으로 적용하고, 상기 자기 공명 신호 모델을 통해 산출된 제1 특성 파라미터 값을 정답값(groundtruth)으로 적용하는 학습(training)을 통해 학습 네트워크 모델(trained network model)을 획득하는단계; 및대상체를 촬영하여 획득한 자기 공명 영상 데이터를 상기 학습 네트워크 모델에 적용하여, 상기 자기 공명 영상데이터에 관한 제2 특성 파라미터 값을 산출하는 단계; 공개특허 10-2020-0126825-6-를 포함하는, 자기 공명 영상 장치의 동작 방법에 관한 명령어들을 포함하는, 컴퓨터 프로그램 제품."}
{"patent_id": "10-2019-0050983", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "인공 신경망(Artificial Neural Network, ANN)을 이용하는 학습(training)을 통해 자기 공명 신호 데이터로부터 특성 파라미터 값을 획득하고, 획득된 파라미터 값에 기초하여 파라미터 맵을 생성하는 자기 공명 영상 장치 및 그 동작 방법을 제공한다."}
{"patent_id": "10-2019-0050983", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 개시는 자기 공명 신호 데이터로부터 파라미터 맵을 생성하는 자기 공명 영상 장치 및 그 동작 방법에 관한 것이다."}
{"patent_id": "10-2019-0050983", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "자기 공명 영상 장치는 자기장을 이용해 대상체를 촬영하는 장치로, 뼈는 물론 디스크, 관절, 신경 인대, 심장 등을 원하는 각도에서 입체적으로 보여주기 때문에 정확한 질병 진단을 위해서 널리 이용되고 있다. 자기 공명 영상은 여러 특성 파라미터를 조절함으로써 다양한 대조도를 얻을 수 있는 장점이 있고, 이를 이용하여 임상 진 단에서는 같은 부위에 대해 여러 대조도의 영상들을 얻어 진단을 한다. 일반적으로 자기 공명 영상을 통한 진단에 활용하는 파라미터 맵(parameter map)으로는 T1 맵, T2 맵, T1 rho 맵, PD (Proton Density) 맵 등이 있다. 파라미터 맵은 스핀(spin)의 이완(relaxation)에 의한 촬영 대상체의 조직이 갖는 자기 공명 신호의 시간에 따른 감쇠(decay) 정도를 정량화하여 나타내는 영상으로써, 조직의 T1 또 는 T2(msec) 값을 정량화하여 뇌, 심근, 병변, 연골 퇴화 등의 진단에 활용될 수 있다. 파라미터 맵을 생성하기 위하여 조직의 특성 파라미터를 정량화하는 과정이 필요한데, 특성 파라미터를 정량화 하는 방법으로 자기 공명 신호 모델링 수식이 사용된다. 자기 공명 모델링 수식은 구하고자 하는 매핑 파라미터 에 따라 달라질 수 있으며, 일반적으로 자기 공명 신호의 크기를 모델링하여 매핑 파라미터를 계산하는 수식을 의미한다. 예를 들면, T2 정량화를 위해서는 각기 다른 에코시간 (TE, echo time)에 획득한 복수의 영상으로부 터 exponential 감쇠 수식을 이용하여 자기 공명 영상의 각 복셀 별 자기 공명 신호의 감쇠(relaxation) 정도를 예측할 수 있다. 그러나, 실제 T2 맵을 구하기 위한 자기 공명 영상 촬영에서 멀티에코(multi-echo) 획득 방식이 주로 사용되는 데 이 때의 자기 공명 신호의 감쇠는 RF 펄스(Radio Frequency pulse)의 불완전성으로 인하여 exponential 감 쇠를 따르지 않아 예측의 정확성이 떨어지고, 신뢰성이 낮은 문제가 있다. 이러한 문제를 해결하기 위한 방법으 로는 블로흐 방정식(Bloch equation)을 사용하거나, EPG 모델(Extended Phase Graph)를 사용하여 T2 정량화를 하는 방법이 있다. 최근에는 RF 슬라이스 프로파일(RF slice profile)을 고려할 수 있는 모델링 수식인 EPG- SLR(Extended Phase Graph Shinar-Le Roux) 모델링을 통하여 T2 맵핑하는 방법도 사용되고 있다. 그러나, 상기 자기 공명 신호 모델링 수식을 통한 특성 파라미터의 정량화 방법은 계산 시간이 오래 걸린다는 문제점이 있다."}
{"patent_id": "10-2019-0050983", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 개시는 자기 공명 영상 장치 및 그 동작 방법에 관한 것으로, 구체적으로는 인공 신경망(Artificial Neural Network, ANN)을 이용하는 학습(training)을 통해 자기 공명 신호 데이터로부터 특성 파라미터 값을 획득하고, 획득된 파라미터 값에 기초하여 파라미터 맵을 생성하는 장치 및 방법을 제공하는 것을 목적으로 한다."}
{"patent_id": "10-2019-0050983", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상술한 기술적 과제를 해결하기 위하여 본 개시의 일 실시예는 자기 공명 영상 촬영 방법과 자기 공명 신호 모 델에 따른 자기 공명 신호 데이터를 인공 신경망(Artificial Neural Network)에 입력으로 적용하고, 상기 자기 공명 신호 모델을 통해 산출된 제1 특성 파라미터 값을 정답값(groundtruth)으로 적용하는 학습(training)을 통 해 학습 네트워크 모델(trained network model)을 획득하는 단계; 및 대상체를 촬영하여 획득한 자기 공명 영상 데이터를 상기 학습 네트워크 모델에 적용하여, 상기 자기 공명 영상 데이터에 관한 제2 특성 파라미터 값을 산 출하는 단계를 포함하는, 파라미터 맵 생성 방법을 제공한다. 예를 들어, 자기 공명 신호 데이터는 상기 대상체에 관한 자기 공명 영상을 촬영하는 자기 공명 촬영 시퀀스 (Magnetic Resonance sequence)에 따라 특정한 자기 공명 신호 모델링 수식을 이용하여 시뮬레이션된 자기 공명 신호 응답일 수 있다. 예를 들어, 상기 자기 공명 신호 모델링 수식은 상기 제1 특성 파라미터 값 및 상기 대상체에 관한 자기 공명 영상을 촬영하는데 사용되는 RF 슬라이스 프로파일(Radio Frequency slice profile)을 이용하여 상기 자기 공명 신호 데이터를 시뮬레이션하는 수식일 수 있다. 예를 들어, 상기 자기 공명 신호 데이터는 자기 공명 신호 모델링 수식을 이용하는 시뮬레이션을 통해 생성된 가상의 자기 공명 신호 응답(Magnetic Resonance signal response)인 합성 데이터(synthetic data) 및 상기 대 상체에 관하여 기획득된 자기 공명 영상 데이터(in-vivo data)를 포함하고, 상기 학습하는 단계는 상기 합성 데 이터 및 상기 기획득된 자기 공명 영상 데이터 중 적어도 하나를 상기 인공 신경망에 입력으로 적용하고, 상기 제1 특성 파라미터 값을 정답값으로 적용하여 학습할 수 있다. 예를 들어, 상기 합성 데이터는 특정 에코 시간(Echo time, TE)에서의 상기 자기 공명 영상 데이터의 감쇠 (decay) 정도를 나타내는 파라미터 값 및 RF 슬라이스 프로파일을 이용하여 시뮬레이션된 자기 공명 신호 응답 일 수 있다. 예를 들어, 상기 학습하는 단계는 합성 데이터 및 기획득된 자기 공명 영상 데이터로 구성된 입력과 상기 입력 에 대응되는 제1 특성 파라미터인 정답값으로 하는 쌍(pair)을 형성하고, 상기 쌍을 복셀 별로(voxel-by-voxel) 상기 인공 신경망에 적용하여 학습할 수 있다. 예를 들어, 상기 방법은 산출된 제2 특성 파라미터에 기초하여 파라미터 맵을 생성하는 단계; 를 더 포함하고, 상기 파라미터 맵은 T1 맵, T2 맵, T1 rho 맵, 및 PD (Proton Density) 맵 중 적어도 하나를 포함할 수 있다. 예를 들어, 상기 방법은 파라미터 맵을 디스플레이하는 단계; 를 더 포함할 수 있다. 예를 들어, 상기 방법은 학습을 통해 복셀 별로 산출된 잔여 오차값(residual error value)이 기설정된 임계치 를 초과하는 복셀을 검출하여 오류를 검출하는 단계; 를 더 포함할 수 있다. 예를 들어, 상기 방법은 자기 공명 신호 모델을 이용하여, 기설정된 범위 내에서의 상기 제1 특성 파라미터 값 에 관한 사전(dictionary)을 생성하는 단계; 상기 사전으로부터 상기 오류가 검출된 복셀에 대응되는 상기 제1 특성 파라미터 값을 획득하는 단계; 및 상기 오류가 검출된 복셀의 값을 상기 획득된 제1 특성 파라미터 값으로 대체(replacing)하여 상기 오류를 보정하는 단계를 더 포함할 수 있다. 상술한 기술적 과제를 해결하기 위하여, 본 개시의 다른 실시예는 적어도 하나의 RF 채널 코일로부터 대상체에 서 방출되는 자기 공명 신호를 획득하는 RF 코일(radio frequency coil); 상기 RF 코일로부터 수신된 자기 공명 신호를 처리하는 명령어들(instructions)을 저장하는 메모리; 및 상기 메모리에 저장된 명령어들을 수행하는 프 로세서를 포함하고, 상기 프로세서는 자기 공명 영상 촬영 방법과 자기 공명 신호 모델에 따른 자기 공명 신호 데이터를 인공 신경망(Artificial Neural Network)에 입력으로 적용하고, 상기 자기 공명 신호 모델을 통해 산 출된 제1 특성 파라미터를 정답값(groundtruth)으로 적용하는 학습(training)을 통해 학습 네트워크 모델 (trained network model)을 생성하고, 상기 자기 공명 신호를 처리하여 생성된 상기 대상체에 관한 자기 공명 영상 데이터를 상기 획득된 학습 네트워크 모델(trained network model)에 적용하여 상기 자기 공명 영상 데이 터에 관한 제2 특성 파라미터를 산출하는 자기 공명 영상 장치를 제공한다. 예를 들어, 상기 자기 공명 신호 데이터는 대상체에 관한 자기 공명 영상을 촬영하는 자기 공명 촬영 시퀀스 (Magnetic Resonance sequence)에 따라 특정한 자기 공명 신호 모델링 수식을 이용하여 시뮬레이션된 자기 공명 신호 응답일 수 있다. 예를 들어, 상기 자기 공명 신호 모델링 수식은 상기 제1 특성 파라미터 값 및 상기 대상체에 관한 자기 공명 영상을 촬영하는데 사용되는 RF 슬라이스 프로파일(Radio Frequency slice profile)을 이용하여 상기 자기 공명 신호 데이터를 시뮬레이션하는 수식일 수 있다. 예를 들어, 상기 자기 공명 신호 데이터는 자기 공명 신호 모델링 수식을 이용하는 시뮬레이션을 통해 생성된 가상의 자기 공명 신호 응답(Magnetic Resonance signal response)인 합성 데이터(synthetic data) 및 상기 대 상체에 관하여 기획득된 자기 공명 영상 데이터(in-vivo data)를 포함하고, 상기 프로세서는, 상기 합성 데이터 및 상기 기획득된 자기 공명 영상 데이터 중 적어도 하나를 상기 인공 신경망에 입력으로 적용하고, 상기 제1 특성 파라미터 값을 정답값으로 적용하여 학습할 수 있다. 예를 들어, 상기 프로세서는 특정 에코 시간(TE)에서의 상기 자기 공명 영상 데이터의 감쇠 정도를 나타내는 파 라미터 값 및 RF 슬라이스 프로파일을 이용하는 시뮬레이션을 통해 상기 합성 데이터를 생성할 수 있다. 예를 들어, 상기 프로세서는 합성 데이터 및 자기 공명 영상 데이터로 구성된 입력과 상기 입력에 대응되는 제1 특성 파라미터인 정답값으로 하는 쌍(input/output pair)을 형성하고, 상기 형성된 쌍을 복셀 별로(voxel-by- voxel) 상기 인공 신경망에 적용하여 학습할 수 있다. 예를 들어, 상기 프로세서는 산출된 제2 특성 파라미터에 기초하여 파라미터 맵을 생성하고, 상기 파라미터 맵 은 T1 맵, T2 맵, T1 rho 맵 및 PD (Proton Density) 맵 중 적어도 하나를 포함할 수 있다. 예를 들어, 상기 자기 공명 영상 장치는 디스플레이부를 더 포함하고, 상기 프로세서는 파라미터 맵을 디스플레 이하도록 상기 디스플레이부를 제어할 수 있다. 예를 들어, 상기 프로세서는 학습을 통해 복셀 별로 산출된 잔여 오차값(residual error value)이 기설정된 임 계치를 초과하는 복셀을 검출하여 복셀 별 오류를 검출할 수 있다. 예를 들어, 상기 프로세서는 자기 공명 신호 모델을 이용하여, 기설정된 범위 내에서의 제1 특성 파라미터 값에 관한 사전(dictionary)을 생성하고, 상기 사전으로부터 상기 오류가 검출된 복셀에 대응되는 상기 제1 특성 파 라미터 값을 획득하고, 상기 오류가 검출된 복셀의 값을 상기 획득된 제1 특성 파라미터 값으로 대체 (replacing)하여 상기 오류를 보정할 수 있다. 상술한 기술적 과제를 해결하기 위하여, 본 개시의 일 실시예는 컴퓨터로 읽을 수 있는 저장 매체를 포함하는 컴퓨터 프로그램 제품을 제공하고, 상기 저장 매체는 자기 공명 영상 촬영 방법과 자기 공명 신호 모델에 따른 자기 공명 신호 데이터를 인공 신경망(Artificial Neural Network)에 입력으로 적용하고, 상기 자기 공명 신호 모델을 통해 산출된 제1 특성 파라미터 값을 정답값(groundtruth)으로 적용하는 학습(training)을 통해 학습 네 트워크 모델(trained network model)을 획득하는 단계; 및 대상체를 촬영하여 획득한 자기 공명 영상 데이터를 상기 학습 네트워크 모델에 적용하여, 상기 자기 공명 영상 데이터에 관한 제2 특성 파라미터 값을 산출하는 단 계; 를 수행하는 명령어들을 포함할 수 있다."}
{"patent_id": "10-2019-0050983", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 명세서는 본 발명의 권리범위를 명확히 하고, 본 개시가 속하는 기술분야에서 통상의 지식을 가진 자가 본 발명을 실시할 수 있도록, 본 개시의 원리를 설명하고, 실시예들을 개시한다. 개시된 실시예들은 다양한 형태로 구현될 수 있다. 명세서 전체에 걸쳐 동일 참조 부호는 동일 구성요소를 지칭한다. 본 명세서가 실시예들의 모든 요소들을 설명"}
{"patent_id": "10-2019-0050983", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "하는 것은 아니며, 본 개시가 속하는 기술분야에서 일반적인 내용 또는 실시예들 간에 중복되는 내용은 생략한 다. 명세서에서 사용되는 '부'(part, portion)라는 용어는 소프트웨어 또는 하드웨어로 구현될 수 있으며, 실시 예들에 따라 복수의 '부'가 하나의 요소(unit, element)로 구현되거나, 하나의 '부'가 복수의 요소들을 포함하 는 것도 가능하다. 이하 첨부된 도면들을 참고하여 본 발명의 작용 원리 및 실시예들에 대해 설명한다. 본 명세서에서 '대상체(object)'는 촬영의 대상이 되는 것으로서, 사람, 동물, 또는 그 일부를 포함할 수 있다. 예를 들어, 대상체는 신체의 일부(장기 또는 기관 등; organ) 또는 팬텀(phantom) 등을 포함할 수 있다. 자기 공명 영상 장치(Magnetic Resonance Imaging apparatus)는 자기 공명(magnetic resonance, MR) 신호를 획 득하고, 획득된 자기 공명 신호를 영상으로 재구성한다. 자기 공명 신호는 대상체로부터 방사되는 RF 신호를 의미한다. 자기 공명 영상 장치는 주자석이 정자장(static magnetic field)을 형성하여, 정자장 속에 위치한 대상체의 특 정 원자핵의 자기 쌍극자 모멘트 방향을 정자장 방향으로 정렬시킨다. 경사자장 코일은 정자장에 경사 신호를 인가하여, 경사자장을 형성시켜, 대상체의 부위 별로 공명 주파수를 다르게 유도할 수 있다. RF 코일은 영상 획득을 원하는 부위의 공명 주파수에 맞추어 RF 신호를 조사할 수 있다. 또한, RF 코일은 경사 자장이 형성됨에 따라, 대상체의 여러 부위로부터 방사되는 서로 다른 공명 주파수의 자기 공명 신호들을 수신 할 수 있다. 이러한 단계를 통해 자기 공명 영상 시스템(MRI system)은 영상 복원 기법을 이용하여 자기 공명 신호로부터 영상을 획득한다. 도 1은 자기 공명 영상 시스템(MRI system)의 개략도이다. 도 1을 참조하면, 자기 공명 영상 시스템은 오 퍼레이팅부, 제어부 및 스캐너를 포함할 수 있다. 여기서, 제어부는 도 1에 도시된 바와 같이 독립적으로 구현될 수 있다. 또는, 제어부는 복수 개의 구성 요소로 분리되어, MRI 시스템의 각 구성 요 소에 포함될 수도 있다. 이하에서는 각 구성 요소에 대해 구체적으로 살펴보도록 한다. 스캐너는 내부 공간이 비어 있어, 대상체가 삽입될 수 있는 형상(예컨대, 보어(bore) 형상)으로 구현될 수 있다. 스캐너의 내부 공간에는 정자장 및 경사자장이 형성되며, RF 신호가 조사된다. 스캐너는 정자장 형성부, 경사자장 형성부, RF 코일부, 테이블부 및 디스플레이부를 포함할 수 있다. 정자장 형성부는 대상체에 포함된 원자핵들의 자기 쌍극자 모멘트의 방향을 정자장 방향으 로 정렬하기 위한 정자장을 형성한다. 정자장 형성부는 영구 자석으로 구현되거나 또는 냉각 코일을 이용한 초전도 자석으로 구현될 수도 있다. 경사자장 형성부는 제어부와 연결된다. 제어부로부터 전송 받은 제어신호에 따라 정자장에 경사를 인가하여, 경사자장을 형성한다. 경사자장 형성부는 서로 직교하는 X축, Y축 및 Z축 방향의 경사자장을 형 성하는 X, Y, Z 코일을 포함하며, 대상체의 부위 별로 공명 주파수를 서로 다르게 유도할 수 있도록 촬영 위치 에 맞게 경사 신호를 발생시킨다. RF 코일부는 제어부와 연결되어, 제어부로부터 전송 받은 제어신호에 따라 대상체에 RF 신호를 조 사하고, 대상체로부터 방출되는 자기 공명 신호(MR signal)를 수신할 수 있다. RF 코일부는 세차 운동을 하 는 원자핵을 향하여 세차운동의 주파수와 동일한 주파수의 RF 신호를 대상체에게 전송한 후 RF 신호의 전송을 중단하고, 대상체로부터 방출되는 자기 공명 신호를 수신할 수 있다. RF 코일부는 원자핵의 종류에 대응하는 무선 주파수를 갖는 전자파를 생성하는 송신 RF 코일과, 원자핵으로 부터 방사된 전자파를 수신하는 수신 RF 코일로서 각각 구현되거나 또는 송/수신 기능을 함께 갖는 하나의 RF 송수신 코일로서 구현될 수도 있다. 또한, RF 코일부외에, 별도의 코일이 대상체에 장착될 수도 있다. 예를 들어, 촬영 부위 또는 장착 부위에 따라, 헤드 코일(Head coil), 척추 코일(spine coil), 몸통 코일(torso coil), 무릎 코일(knee coil) 등이 별도의 코일로 이용될 수 있다. 스캐너의 외측 및/또는 내측에는 디스플레이부가 마련될 수 있다. 디스플레이부는 제어부에 의 해 제어되어, 사용자 또는 대상체에게 의료 영상 촬영과 관련된 정보를 제공할 수 있다. 또한, 스캐너에는 대상체의 상태에 관한 모니터링정보를 획득하여 전달하는 대상체 모니터링정보 획득부가 마련될 수 있다. 예를 들어, 대상체 모니터링정보 획득부(미도시)는 대상체의 움직임, 위치 등을 촬영하는 카메 라(미도시), 대상체의 호흡을 측정하기 위한 호흡 측정기(미도시), 대상체의 심전도를 측정하기 위한 ECG 측정 기(미도시), 또는 대상체의 체온을 측정하기 위한 체온 측정기(미도시)로부터 대상체에 관한 모니터링정보를 획 득하여 제어부로 전달할 수 있다. 이에 따라, 제어부는 대상체에 관한 모니터링정보를 이용하여 스캐너 의 동작을 제어할 수 있다. 이하에서는 제어부에 대해 살펴보도록 한다. 제어부는 스캐너의 전반적인 동작을 제어할 수 있다. 제어부는 스캐너 내부에서 형성되는 신호들의 시퀀스를 제어할 수 있다. 제어부는 오퍼레이팅부 로부터 수신받은 펄스 시퀀스(pulse sequence) 또는 설계한 펄스 시퀀스에 따라 경사자장 형성부 및 RF 코일부를 제어할 수 있다. 펄스 시퀀스란, 경사자장 형성부, 및 RF 코일부를 제어하기 위해 필요한 모든 정보를 포함하며, 예를 들어 경사자장 형성부에 인가하는 펄스(pulse) 신호의 강도, 인가 지속시간, 인가 타이밍 등에 관한 정보 등을 포함할 수 있다. 제어부는 펄스 시퀀스에 따라 경사 파형, 즉 전류 펄스를 발생시키는 파형 발생기(미도시), 및 발생된 전류 펄스를 증폭시켜 경사자장 형성부로 전달하는 경사 증폭기(미도시)를 제어하여, 경사자장 형성부의 경 사자장 형성을 제어할 수 있다. 제어부는 RF 코일부의 동작을 제어할 수 있다. 예를 들어, 제어부는 공명 주파수의 RF 펄스를 RF 코일부에 공급하여 RF 신호를 조사할 수 있고, RF 코일부가 수신한 자기 공명 신호를 수신할 수 있다. 이때, 제어부는 제어신호를 통해 송수신 방향을 조절할 수 있는 스위치(예컨대, T/R 스위치)의 동작을 제어 하여, 동작 모드에 따라 RF 신호의 조사 및 자기 공명 신호의 수신을 조절할 수 있다. 제어부는 대상체가 위치하는 테이블부의 이동을 제어할 수 있다. 촬영이 수행되기 전에, 제어부는 대상체의 촬영 부위에 맞추어, 테이블부를 미리 이동시킬 수 있다. 제어부는 디스플레이부를 제어할 수 있다. 예를 들어, 제어부는 제어신호를 통해 디스플레이부(5 6)의 온/오프 또는 디스플레이부를 통해 표시되는 화면 등을 제어할 수 있다. 제어부는 자기 공명 영상 시스템 내 구성요소들의 동작을 제어하기 위한 알고리즘, 프로그램 형태의 데 이터를 저장하는 메모리(미도시), 및 메모리에 저장된 데이터를 이용하여 전술한 동작을 수행하는 프로세서(미 도시)로 구현될 수 있다. 이때, 메모리와 프로세서는 각각 별개의 칩으로 구현될 수 있다. 또는, 메모리와 프로 세서는 단일 칩으로 구현될 수도 있다. 오퍼레이팅부는 자기 공명 영상 시스템의 전반적인 동작을 제어할 수 있다. 오퍼레이팅부는 영상 처 리부, 입력부 및 출력부를 포함할 수 있다. 영상 처리부는 메모리를 이용하여 제어부로부터 수신 받은 자기 공명 신호를 저장하고, 이미지 프로세 서를 이용하여 영상 복원 기법을 적용함으로써, 저장한 자기 공명 신호로부터 대상체에 대한 영상 데이터를 생 성할 수 있다. 예를 들어, 영상 처리부는 메모리의 k-공간(예컨대, 푸리에(Fourier) 공간 또는 주파수 공간이라고도 지칭 됨)에 디지털 데이터를 채워 k-공간 데이터가 완성되면, 이미지 프로세서를 통해 다양한 영상 복원기법을 적용 하여(예컨대, k-공간 데이터를 역 푸리에 변환하여) k-공간 데이터를 영상 데이터로 복원할 수 있다. 또한, 영상 처리부가 자기 공명 신호에 대해 적용하는 각종 신호 처리는 병렬적으로 수행될 수 있다. 예를 들어, 다채널 RF 코일에 의해 수신되는 복수의 자기 공명 신호를 병렬적으로 신호 처리하여 영상 데이터로 복원 할 수도 있다. 한편, 영상 처리부는 복원한 영상 데이터를 메모리에 저장하거나 또는 후술할 바와 같이 제 어부가 통신부를 통해 외부의 서버에 저장할 수 있다. 입력부는 사용자로부터 자기 공명 영상 시스템의 전반적인 동작에 관한 제어 명령을 입력 받을 수 있다. 예를 들어, 입력부는 사용자로부터 대상체 정보, 파라미터 정보, 스캔 조건, 펄스 시퀀스에 관한 정보 등을 입력 받을 수 있다. 입력부는 키보드, 마우스, 트랙볼, 음성 인식부, 제스처 인식부, 터치 스크린 등으로 구현될 수 있다. 출력부는 영상 처리부에 의해 생성된 영상 데이터를 출력할 수 있다. 또한, 출력부는 사용자가 자 기 공명 영상 시스템에 관한 제어 명령을 입력 받을 수 있도록 구성된 사용자 인터페이스(User Interface, UI)를 출력할 수 있다. 출력부는 스피커, 프린터, 디스플레이 등으로 구현될 수 있다. 한편, 도 1에서는 오퍼레이팅부, 제어부를 서로 분리된 객체로 도시하였으나, 전술한 바와 같이, 하나 의 기기에 함께 포함될 수도 있다. 또한, 오퍼레이팅부, 및 제어부 각각에 의해 수행되는 프로세스들이 다른 객체에서 수행될 수도 있다. 예를 들어, 영상 처리부는, 제어부에서 수신한 자기 공명 신호를 디 지털 신호로 변환하거나 또는, 제어부가 직접 변환할 수도 있다. 자기 공명 영상 시스템은 통신부를 포함하며, 통신부를 통해 외부 장치(미도시)(예를 들면, 서버, 의료 장치, 휴대 장치(스마트폰, 태블릿 PC, 웨어러블 기기 등))와 연결할 수 있다. 통신부는 외부 장치와 통신을 가능하게 하는 하나 이상의 구성 요소를 포함할 수 있으며, 예를 들어 근거리 통신 모듈(미도시), 유선 통신 모듈 및 무선 통신 모듈 중 적어도 하나를 포함할 수 있다. 통신부가 외부 장치로부터 제어 신호 및 데이터를 수신하고, 수신된 제어 신호를 제어부에 전달하여 제 어부로 하여금 수신된 제어 신호에 따라 자기 공명 영상 시스템을 제어하도록 하는 것도 가능하다. 또는, 제어부가 통신부를 통해 외부 장치에 제어 신호를 송신함으로써, 외부 장치를 제어부의 제어 신 호에 따라 제어하는 것도 가능하다. 예를 들어 외부 장치는 통신부를 통해 수신된 제어부의 제어 신호에 따라 외부 장치의 데이터를 처리할 수 있다. 외부 장치에는 자기 공명 영상 시스템을 제어할 수 있는 프로그램이 설치될 수 있는바, 이 프로그램은 제어 부의 동작의 일부 또는 전부를 수행하는 명령어를 포함할 수 있다. 프로그램은 외부 장치에 미리 설치될 수도 있고, 외부장치의 사용자가 어플리케이션을 제공하는 서버로부터 프 로그램을 다운로드하여 설치하는 것도 가능하다. 어플리케이션을 제공하는 서버에는 해당 프로그램이 저장된 기 록매체가 포함될 수 있다. 도 2는 본 개시의 일 실시예에 따른 자기 공명 영상 장치의 구성 요소를 도시한 블록도이고, 도 3은 본 개 시의 자기 공명 영상 장치가 자기 공명 신호 데이터와 제1 특성 파라미터 값을 이용하여 학습(training)하고, 학습을 통해 획득한 네트워크 모델을 적용하여 대상체에 관한 자기 공명 영상 데이터로부터 제2 특성 파라미터 를 산출하는 방법을 도시한 개념도이다. 도 2를 참조하면, 자기 공명 영상 장치는 RF 코일부, 영상 처리부 및 디스플레이부를 포함 할 수 있다. 도 2에 도시된 구성 요소들은 자기 공명 영상 장치의 필수적인 구성 요소만을 도시한 것이고, 본 개시의 자기 공명 영상 장치가 도시된 구성 요소만을 포함하는 것은 아니다. 일 실시예에서, 자기 공명 영상 장치는 도 1에 도시된 자기 공명 영상 시스템과 동일한 장치일 수 있고, 도 1에 도시된 구성 요소 들을 더 포함할 수 있다. RF 코일부는 대상체에 RF(Radio Frequency) 신호를 조사하고, 대상체로부터 방출되는 자기 공명 신호(MR signal)를 수신할 수 있다. RF 코일부는 세차 운동을 하는 원자핵을 향하여 세차운동의 주파수와 동일한 주파수의 RF 신호를 대상체에게 전송한 후, RF 신호의 전송을 중단하고 대상체로부터 방출되는 자기 공명 신호 를 수신할 수 있다. 일 실시예에서, RF 코일부는 송/수신 기능을 함께 갖는 RF 송수신 코일로 구현될 수 있다. RF 코일부는 도 1에 도시된 RF 코일부(53, 도 1 참조)와 동일한 바, 중복되는 설명은 생략하기로 한 다. 영상 처리부는 대상체로부터 RF 코일부가 수신한 자기 공명 신호를 전송받고, 전송받은 자기 공명 신 호에 증폭, 주파수 변환, 위상 검파, 저주파 증폭, 필터링(filtering) 등과 같은 각종의 신호 처리를 하여 대상 체에 관한 자기 공명 영상 데이터를 생성하는 구성 요소일 수 있다. 영상 처리부는 프로세서 및 메모 리를 포함할 수 있다. 일 실시예에서, 영상 처리부는 자기 공명 신호를 처리하는 동작들을 수행하기위한 프로그램 코드, 명령어(instructions) 또는 데이터를 저장하는 메모리, 메모리에 저장된 프로그 램 코드, 명령어 또는 데이터를 처리하는 프로세서를 포함할 수 있다. 도면에는 도시되지 않았지만, 영상 처리부는 인공 지능 학습 모듈을 더 포함할 수도 있다. 영상 처리부는 하나 이상의 메모리 및 하나 이상의 프로세서의 다양한 조합으로 구현 가능하다. 프로세서는 자기 공명 영상 장치의 동작 상태에 따라 프로그램 모듈을 생성하고 삭제할 수 있으며, 프로그램 모듈의 동작들을 처리할 수 있다. 일 실시예에서, 영상 처리부는 FPGA 또는 ASIC과 같은 하드웨 어 구성 요소로 구현될 수 있다. 다만 이에 한정되는 것은 아니고, 영상 처리부는 소프트웨어 구성요소들, 객체지향 소프트웨어 구성요소들, 클래스 구성요소들 및 태스크 구성요소들과 같은 구성요소들과, 프로세스들, 함수들, 속성들, 프로시저들, 서브루틴들, 프로그램 코드의 세그먼트들, 드라이버들, 펌웨어, 마이크로 코드, 회로, 데이터, 데이터베이스, 데이터 구조들, 테이블들, 어레이들 및 변수들을 포함할 수도 있다. 영상 처리부를 구성하는 프로세서는 범용의 이미지 처리 기술(image processing) 또는 기계 학습 (Machine Learning)을 수행할 수 있는 연산 능력을 갖는 하드웨어 장치로 구성될 수 있다. 예를 들어, 프로세서 는 중앙 처리 장치(CPU), 마이크로 프로세서(microprocessor), 및 그래픽 프로세서(GPU) 중 적어도 하나를 포함하는 하드웨어 모듈로 구성될 수 있다. 일 실시예에서, 프로세서는 애플리케이션 프로세서 (Application Processor, AP)로 구성될 수도 있다. 메모리는 자기 공명 영상 장치의 각 기능들을 수행하기 위한 프로그램 코드 또는 데이터를 저장하는 하드웨어 장치로서, RAM(Random-Access Memory) 또는 ROM(Read-Only Memory)으로 구성될 수 있으나, 이에 한정 되는 것은 아니다. 일 실시예에서, 메모리와 프로세서는 각각 별개의 칩으로 구현될 수 있다. 또는, 메모리와 프로세서는 단일 칩으로 구현될 수도 있다. 프로세서는 자기 공명 영상 촬영 방법과 자기 공명 신호 모델에 따른 자기 공명 신호 데이터를 인공 신경 망(Artificial Neural Network, ANN)에 입력으로 적용하고, 자기 공명 신호 모델을 통해 산출된 제1 특성 파라 미터 값을 정답값으로 적용하는 학습(training)을 통해 학습 네트워크 모델(trained network model)을 획득할 수 있다. 여기서, 자기 공명 신호 모델은 대상체에 관한 자기 공명 영상 데이터를 획득하는 방법, 즉 촬영 방법 에 따라 사용되는 모델링 수식으로서, 자기 공명 신호의 감쇠(decay)의 정도를 시뮬레이션하는 수식일 수 있다. 자기 공명 신호 데이터는 대상체에 관한 자기 공명 영상을 촬영하는 자기 공명 촬영 시퀀스(Magnetic Resonance sequence)에 따라 특정한 자기 공명 신호 모델링 수식을 이용하여 시뮬레이션된 자기 공명 신호 응답(Magnetic Resonance signal response)일 수 있다. 일 실시예에서, 자기 공명 신호 데이터는 자기 공명 신호 모델링 수식 을 이용하는 시뮬레이션을 통해 생성된 가상의 자기 공명 신호 응답인 합성 데이터(synthetic data), 대상체에 관하여 기획득된 자기 공명 영상 데이터(in-vivo data), 또는 합성 데이터와 자기 공명 영상 데이터의 조합 중 어느 하나로 구성될 수 있다. 도 3을 함께 참조하면, 프로세서는 자기 공명 신호 데이터를 인공 신경망에 입력으로 적용하고, 자기 공명 신호 모델을 통해 산출된 제1 특성 파라미터를 정답값(groundtruth)으로 적용하는 학습 (training)을 통해 학습 네트워크 모델(trained network model)을 획득할 수 있다. 여기서, 정답값에 해당되는 제1 특성 파라미터의 값은 블로흐 방정식(Bloch equation), EPG 모델링 수식, EPG-SLR 모델링 수식 또는 공지의 커브 피팅 모델링 수식을 통해 계산된 특성 파라미터 값을 의미할 수 있다. 예를 들어, T2 맵핑에서 지 수형 감쇠를 사용하는 경우 인공 신경망의 정답값은 T2 시간값이 될 수 있고, EPG-SLR 모델링을 사용하는 경우 인공 신경망의 정답값은 E2(T2 시간에서의 exponential 값) 및 B1 값을 의미할 수 있다. 인공 신경망은 컨볼루션 신경망 모델(Convolution Neural Network, CNN) 또는 재귀 신경망 모델 (Recurrent Neural Network, RNN)와 같은 공지의 심층 신경망 모델(Deep Neural Network, DNN)을 포함할 수 있 다. 그러나, 프로세서는 예를 들어 SVM(Support Vector Machine), 선형 회귀(linear regression), 로지스 틱 회귀(logistic regression), 나이브 베이즈 분류(Naive Bayes), decision tree, k-nearest neighbor algorithm 등의 알고리즘을 이용하여 학습할 수도 있다. 여기서, 학습은 별도의 인공 지능 학습 모듈에 의해서 수행될 수도 있다. 일 실시예에서, 프로세서와 인공 지능 학습 모듈은 하나의 칩(chip)으로 통합될 수 있 다. 일 실시예에서, 프로세서는 합성 데이터 및 자기 공명 영상 데이터로 구성된 입력과, 입력에 대응되는 제1 특성 파라미터 값을 포함하는 쌍(pair)을 형성하고, 형성된 쌍을 복셀 별로(voxel-by-voxel) 인공 신경망에 적 용하여 학습할 수 있다. 일 실시예에서, 프로세서는 합성 데이터 및 자기 공명 영상 데이터 중 적어도 하 나를 입력으로 하고, 제1 특성 파라미터 값을 정답값으로 하는 쌍을 형성하고, 형성된 쌍을 복셀 별로 인공 신경망에 적용하여 학습할 수 있다. 프로세서는 상기 학습을 통해 학습 네트워크를 획득하는데, 학습 네트워크를 획득하는 단계는 대상체에 관 한 자기 공명 영상 촬영 이전에 수행되는 오프라인 프로세스(off-line process)(S310)일 수 있다. 프로세서는 학습을 통해 획득된 학습 네트워크 모델에 대상체를 촬영하여 획득한 자기 공명 영상 데이터 를 적용하여 제2 특성 파라미터를 산출할 수 있다. 프로세서가 제2 특성 파라미터를 산출 하는 과정은 대상체에 관한 자기 공명 영상 촬영과 함께 수행되는 인-라인 프로세스(in-line process)(S320)일 수 있다. 프로세서가 인공 신경망을 이용하여 오프라인 학습을 수행하고, 대상체에 관한 자기 공명 영상 데이터에 학습 네트워크 모델을 적용하는 인라인 프로세스를 수행하여 제2 특성 파라미터를 산출하는 구체적인 방법은 도 6a 및 도 6b에서 상세하게 설명하기로 한다. 프로세서는 학습을 통해 산출된 제2 특성 파라미터 값을 복셀 별로 매핑하여 파라미터 맵(parametric map)을 생성할 수 있다. 파라미터 맵은 예를 들어, T1 맵, T2 맵, T1 rho 맵, 및 PD (Proton Density) 맵 중 적어도 하나를 포함할 수 있다. 다시 도 2를 참조하면, 프로세서는 자기 공명 신호 모델링 수식을 이용하는 시뮬레이션을 통해 가상의 자 기 공명 신호 응답(Magnetic Resonance signal response)인 합성 데이터(synthetic data)를 생성할 수 있다. 여기서, 자기 공명 신호 응답은 시간에 따른 자기 공명 신호의 값(intensity)을 의미하는 것으로서, 예를 들면 복수의 에코 시간(Echo time, TE)에서의 스핀(spin)의 이완(relaxation) 정도, 즉 자기 공명 신호의 감쇠 (decay) 정도를 의미할 수 있다. 자기 공명 신호 응답의 크기를 정량화하기 위해서는 복수의 에코 시간에 따른 대상체, 즉 조직의 특성 파라미터를 정량화할 수 있는 특성 파라미터가 사용될 수 있다. 특성 파라미터는 T1, T2, T1 rho, PD(proton density) 등이 있을 수 있다. 프로세서는 복수의 에코 시간에 따른 자기 공명 신 호값의 감쇠 정도를 정량화하기 위하여 T1 맵, T2 맵, T1 rho 맵, 및 PD (Proton Density) 맵 중 적어도 하나 를 이용하여 파라미터 맵핑(parametric mapping)을 수행할 수 있다. 일 실시예에서, 프로세서는 T2 맵을 획득하기 위해 멀티 에코 시퀀스(multi-Echo Sequence, mSE)에서 자기 공명 신호 응답을 시뮬레이션하는 방법으로 지수형 감쇠 모델(exponential decay model)을 사용할 수 있다. 그 러나, 일반적으로 멀티 에코 시퀀스에서 자기 공명 신호의 감쇠는 RF 펄스의 불균일성(inhomogeneity)로 인하여 지수형 감쇠 모델로 정확하게 예측되지 않는다. 일 실시예에서, 프로세서는 블로흐 방정식(Bloch equation) 기반 모델링, EPG(Extended Phase Graphs) 기반 신호 모델링, 및 EPG-SLR(Extended Phase Graphs - Shinar-Le Roux) 기반 모델링 수식 중 적어도 하나를 이용하여 멀티 에코 시퀀스에서의 자기 공명 신호의 감쇠 정도를 시뮬레이션하고, 이를 통해 합성 데이터를 생성할 수 있다. 그러나 이에 한정되지 않고, 프로세서 는 공지의 모든 커브 피팅(curve fitting) 모델링 방법을 사용하여 자기 공명 신호 응답을 시뮬레이션하고, 합 성 데이터를 생성할 수 있다. 일 실시예에서, 프로세서는 대상체에 관한 자기 공명 영상을 촬영하는데 사용되는 RF 슬라이스 프로파일 (RF slice profile)을 고려하는 EPG-SLR 모델링 수식을 이용하여 자기 공명 신호 응답을 시뮬레이션하고, 합성 데이터를 생성할 수 있다. 이에 관한 구체적인 설명은 도 5b에서 후술하도록 한다. 프로세서는 학습을 통해 복셀 별로 산출된 잔여 오차값(residual error value)을 계산하고, 복셀 별 잔여 오차값이 기설정된 임계치를 초과하는 복셀을 검출하여 복셀 별 오류를 검출할 수 있다. 일 실시예에서, 프로세 서는 자기 공명 신호 모델링 수식을 이용하여 기설정된 범위 내에서의 특성 파라미터 값에 관한 사전 (dictionary)을 생성하고, 오류가 검출된 복셀의 값을 사전 내의 대응되는 복셀의 특성 파라미터 값으로 대체 (replacing)하는 방법을 통해 오류를 보정(correction)할 수 있다. 프로세서가 복셀 별 오류를 검출하고, 검출된 오류를 보정하는 구체적인 방법은 도 7 및 도 8에서 상세하게 설명하기로 한다. 디스플레이부는 영상 처리부에 의해 생성된 파라미터 맵을 디스플레이할 수 있다. 디스플레이부(13 0)는 예를 들어, LCD 디스플레이, PDP 디스플레이, OLED 디스플레이, FED 디스플레이, LED 디스플레이, VFD 디 스플레이, DLP(Digital Light Processing) 디스플레이, 평판 디스플레이(Flat Panel Display), 3D 디스플레이, 및 투명 디스플레이 중 적어도 하나를 포함하는 물리적 장치로 구성될 수 있으나, 이에 한정되는 것은 아니다. 일 실시예에서, 디스플레이부는 터치 인터페이스를 포함하는 터치스크린으로 구성될 수도 있다. 도 4는 본 개시의 자기 공명 영상 장치의 동작 방법에 관한 흐름도이다. 단계 S410에서, 자기 공명 영상 장치는 자기 공명 신호 데이터를 인공 신경망(Artificial Neural Network)에 입 력으로 적용하고, 자기 공명 신호 모델을 통해 산출된 제1 특성 파라미터를 정답값(groundtruth)으로 적용하는 학습(training)을 통해 학습 네트워크를 획득한다. 여기서, 자기 공명 신호 데이터는 자기 공명 신호 모델링 수 식을 이용하는 시뮬레이션을 통해 생성된 가상의 자기 공명 신호 응답인 합성 데이터(synthetic data), 대상체 에 관하여 기획득된 자기 공명 영상 데이터(in-vivo data), 또는 합성 데이터와 자기 공명 영상 데이터의 조합 중 어느 하나로 구성될 수 있다. 일 실시예에서, 자기 공명 영상 장치는 컨볼루션 신경망 모델(Convolution Neural Network, CNN) 또는 재귀 신 경망 모델(Recurrent Neural Network, RNN)와 같은 공지의 심층 신경망 모델(Deep Neural Network, DNN)을 이 용하여 학습할 수 있다. 그러나, 이에 한정되는 것은 아니고, 자기 공명 영상 장치는 예를 들어 SVM(Support Vector Machine), 선형 회귀(linear regression), 로지스틱 회귀(logistic regression), 나이브 베이즈 분류 (Nave Bayes), decision tree, k-nearest neighbor algorithm 등의 알고리즘을 이용하여 학습할 수도 있다. 일 실시예에서, 자기 공명 영상 장치는 자기 공명 신호 모델링 수식을 이용하는 시뮬레이션을 통해 합성 데이터 (synthetic data)를 생성할 수 있다. 생성되는 합성 데이터는 시간에 따른 자기 공명 신호의 값을 나타내는 자 기 공명 신호 응답을 가공한 데이터일 수 있다. 일 실시예에서, 자기 공명 영상 장치는 지수형 감쇠 모델 (exponential decay model), 블로흐 방정식(Bloch equation) 기반 모델링, EPG(Extended Phase Graphs) 기반 신호 모델링, 및 EPG-SLR(Extended Phase Graphs - Shinar-Le Roux) 기반 모델링 수식 중 적어도 하나를 이용 하여 멀티 에코 시퀀스(multi-Echo Sequence, mSE)에서 자기 공명 신호 응답을 시뮬레이션하고, 시뮬레이션을 통해 합성 데이터를 생성할 수 있다. 그러나 이에 한정되지 않고, 자기 공명 영상 장치는 공지의 모든 커브 피 팅(curve fitting) 모델링 방법을 사용하여 자기 공명 신호 응답을 시뮬레이션하고, 합성 데이터를 생성할 수 있다. 일 실시예에서, 자기 공명 영상 장치는 대상체에 관한 자기 공명 영상을 촬영하는데 사용되는 RF 슬라이스 프로 파일(RF slice profile)을 고려하는 EPG-SLR 모델링 수식을 이용하여 자기 공명 신호 응답을 시뮬레이션하고, 합성 데이터를 생성할 수 있다. 일 실시예에서, 자기 공명 영상 장치는 시뮬레이션을 통해 생성한 합성 데이터 및 기획득된 대상체에 관한 자기 공명 영상 데이터 중 적어도 하나로 구성된 입력과, 입력에 대응되는 정답값인 제1 특성 파라미터를 포함하는 쌍(pair)을 형성하고, 형성된 쌍을 복셀 별로(voxel-by-voxel) 인공 신경망에 적용하여 학습할 수 있다. 단계 S420에서, 자기 공명 영상 장치는 단계 S410의 학습을 통해 획득된 학습 네트워크 모델에 대상체에 관한 자기 공명 영상 데이터를 적용하여 제2 특성 파라미터를 산출한다. 예를 들어, T2 맵핑의 경우, 자기 공명 영상 장치는 대상체를 자기 공명 영상 촬영하여 획득한 자기 공명 영상 데이터를 학습 네트워크 모델에 입력으로 적 용하여 E2(T2 시간에서의 exponential 값) 및 B1 값을 산출할 수 있다. 단계 S420은 대상체에 관한 자기 공명 영상 촬영과 함께 수행될 수 있는 인라인 프로세스(in-line process)일 수 있다. 단계 S420은 대상체에 관한 자 기 공명 영상을 촬영하는 과정을 포함하고, 단계 S420에서 입력으로 적용되느 자기 공명 영상 데이터는 단계 S410의 기획득된 자기 공명 영상 데이터와는 다르다. 일 실시예에서, 자기 공명 영상 장치는 산출된 특성 파라미터에 기초하여 파라미터 맵(parametric map)을 생성 할 수 있다. 자기 공명 영상 장치는 예를 들어, T1 맵, T2 맵, T1 rho 맵, 및 PD (Proton Density) 맵 중 적어 도 하나의 파라미터 맵을 생성할 수 있다. 종래에는 자기 공명 신호 응답을 정량화를 위한 파라미터 맵핑 방법으로써 지수형 감쇠 모델(exponential decay model) 또는 블로흐 방정식(Bloch equation)을 이용한 모델링 방식을 사용하였다. 그러나, 멀티 에코 시퀀스에 서 자기 공명 신호의 감쇠는 불완전한 RF 펄스로 인하여 지수형 감쇠 모델을 따르지 않는 문제점이 있다. 이로 인한 문제점을 해결하기 위하여 EPG 모델 또는 EPG-SLR 모델이 사용될 수 있다. 그러나, EPG 모델 또는 EPG-SLR 모델을 이용한 파라미터 맵핑은 높은 정확도를 보장하지만, 계산 시간이 너무 오래 걸린다는 문제점이 있다. 도 2 내지 도 4에 도시된 실시예에서, 자기 공명 영상 장치는 자기 공명 신호 데이터와 제1 특성 파라미터 값을 인공 신경망에 적용하여 학습시키고, 학습된 네트워크 모델을 이용하여 대상체에 관한 자기 공명 영상 촬영과 함께 제2 특성 파라미터 값을 산출하고, 산출된 특성 파라미터 값을 기초로 파라미터 맵을 생성하는바, 파라미 터 맵핑에 소요되는 계산 시간을 현저하게 감소시킬 수 있다. 또한, 일 실시예에서 자기 공명 영상 장치는 시뮬 레이션 모델링 수식에 의해 생성된 가상의 합성 데이터(synthetic data) 및 기획득된 대상체의 자기 공명 영상 데이터 중 적어도 하나를 입력으로 하고, 제1 특성 파라미터 값을 정답값으로 하는 인공 신경망(ANN)을 통한 학습 방법을 개시하는바, 정확도가 향상된 파라미터 맵핑 방법을 제공할 수 있다. 또한, 인공 신경망을 통한 학습 과정은 실제 대상체의 자기 공명 영상 촬영 이전의 오프라인 프로세스(off-line process)로 수행하고, 실제 대상체에 관한 자기 공명 영상 촬영 과정에서 획득된 자기 공명 영상 데이터를 오프 라인 과정에서 획득한 학습 네트워크 모델에 적용하는 과정(in-line process)을 수행함으로써, 파라미터 맵핑의 계산 시간을 감소시킬 수 있다. 도 2 내지 도 4에 도시된 실시예를 통한 정확도 향상 및 계산 시간의 감소 효과 는 도 9 및 도 10에서 상세하게 설명하기로 한다. 도 5a는 자기 공명 신호 모델링 수식을 이용하여 특성 파라미터로부터 자기 공명 신호 응답(Magnetic Resonance signal response)을 생성하는 실시예를 도시한 도면이다. 도 5a를 참조하면, 자기 공명 영상 장치는 특성 파라미터를 자기 공명 신호 모델링 수식에 적용함으 로써 자기 공명 신호 응답을 시뮬레이션할 수 있다. 여기서, 특성 파라미터는 예를 들어, T1, T2, T1 rho, 및 PD(proton density) 중 적어도 하나를 포함할 수 있다. 자기 공명 신호 응답은 복수의 에코 시간 (TE)에 따른 스핀(spin)의 이완률(relaxation rate)을 나타내는 커브(curve)로써 자기 공명 신호 크기의 감쇠 (decay) 정도를 의미할 수 있다. 자기 공명 영상 장치는, 자기 공명 영상의 촬영 방법에 따라 서로 다른 자기 공명 신호 모델링 수식을 사 용할 수 있다. 도 5a에 도시된 실시예에서, 자기 공명 영상 장치는 T2 맵핑을 위하여 하기 수학식 1과 같이 지 수형 감쇠 모델(exponential decay curve)을 사용하여 자기 공명 신호 응답을 생성할 수 있다. 수학식 1"}
{"patent_id": "10-2019-0050983", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "item": 3, "content": "도 5a에는 지수형 감쇠 모델을 이용하여 자기 공명 신호 응답을 생성하는 실시예가 도시되어 있지만, 본 개시가 이에 한정되는 것은 아니다. 일 실시예에서, 자기 공명 영상 장치는 블로흐 방정식 또는 공지의 커브 피팅 (curve fitting) 모델링 수식을 이용하여 자기 공명 신호 응답을 생성할 수도 있다. 그러나, 일반적으로 멀티 스핀 에코 시퀀스에서의 T2 맵핑은 자기 공명 영상 촬영 시 사용되는 RF 슬라이스 프 로파일(RF slice profile)을 고려하지 않는바, 자기 공명 영상 장치의 RF 상태에 따라 T2 계산 결과값이 변하는 단점이 있다. 특히, 지수형 감쇠 모델은 T2 맵핑 시 정확도가 높지 않고, 따라서 사용자에게 신뢰성 있는 도구 로 인정되지 못하고 있다. 도 5b는 본 개시의 자기 공명 영상 장치가 자기 공명 신호 모델링 수식을 이용하여 특성 파라미터로부터 자기 공명 신호 응답을 생성하는 실시예를 도시한 도면이다. 도 5b에 도시된 실시예에서, 자기 공명 영상 장치는 도 4a에 도시된 지수형 감쇠 모델을 통한 자기 공명 신호 응답의 오류 및 낮은 정확도 문제를 RF 슬라이스 프로파일 정보를 이용하는 EPG-SLR 모델링 수식을 이용함으로써 극복할 수 있다. 도 5b를 참조하면, 자기 공명 영상 장치는 T2 시간에 대한 특성 파라미터 값인 E2 값(T2 시간에서의 exponential 값) 및 RF 슬라이스 프로파일에 관한 B1 값의 쌍(pair)을 EPG-SLR 모델링 수식에 입력하는 시뮬레이션을 통해 가상의 자기 공명 신호 응답인 합성 데이터(synthetic data)를 생성할 수 있 다. 합성 데이터는 멀티 스핀 에코 시퀀스(multi-Spin Echo sequence)에 관한 자기 공명 신호 응답일 수 있다. 예를 들어, 자기 공명 영상 장치는 하기의 수학식2에 의한 시뮬레이션을 통해 합성 데이터를 생성할 수 있다. 수학식 2"}
{"patent_id": "10-2019-0050983", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "수식2의 EPGCPMG는 EPG 시뮬레이션을 기반으로 하는 모델링 수식의 예시이고, B1은 RF 펄스 불균일성 (inhomogeneity)에 해당하는 파라미터 값이고, TE는 에코 스페이싱(echo spacing)일 수 있다. 및 는 각각 여기 펄스(excitation pulse) 및 리포커싱 펄스(refocusing pulse)의 슬라이스 프로파일 (slice profile)을 의미할 수 있다. N은 슬라이스 방향(z 방향)을 따른 포인트의 수를 의미할 수 있다. 일 실시예에서, 자기 공명 영상 장치는 E2 값 및 B1 값을 기설정된 범위 내의 값으로 스케일링 (scaling)할 수 있다. 예를 들어, 자기 공명 영상 장치는 E2 값 및 B1 값을 각각 ([0,1]), ([0.5, 1.5])의 범위로 스케일링하고, 상기 범위 내에서 균일하게 샘플링하여 E2 값 및 B1 값의 쌍(pair)을 생성할 수 있다. 자기 공명 영상 장치는 E2 값 및 B1 값으로 구성된 특성 파라미터 값의 쌍을 EPG- SLR 모델링 수식을 통해 시뮬레이션하여 T2 맵핑 커브를 생성하고, 복수의 특성 파라미터 값의 쌍에 대응 되는 복수의 커브를 포함하는 합성 데이터를 생성할 수 있다. 도 6a는 본 개시의 자기 공명 영상 장치가 인공 신경망을 이용하는 학습(training)을 통해 대상체에 관한 자기 공명 영상 데이터로부터 특성 파라미터를 획득하는 실시예를 도시한 도면이다. 도 6a를 참조하면, 자기 공명 영상 장치는 오프라인 프로세스(off-line process)인 학습 네트워크 모델 생성 단 계(S610)와 자기 공명 영상 촬영 단계(in-line process)(S620)의 두가지 단계에서 학습(training)을 수행할 수 있다. 도 5에 도시된 학습 방법은 인공 신경망(Artificial Neural Network, ANN)을 사용하는 학습으로 도 시되어 있지만, 이에 한정되는 것은 아니다. 일 실시예에서, 자기 공명 영상 장치는 SVM(Support Vector Machine), 선형 회귀(linear regression), 로지스틱 회귀(logistic regression), 나이브 베이즈 분류(Nave Bayes), decision tree, k-nearest neighbor algorithm 등의 알고리즘을 이용하여 학습할 수도 있다. 단계 S610은 대상체에 관한 자기 공명 영상의 촬영 전에 학습 네트워크 모델을 생성하기 위한 학습이고, 단계 S620는 실제 대상체의 자기 공명 영상 촬영과 함께 수행되는 단계일 수 있다. 여기서, 학습은 자기 공명 영상 장치의 프로세서(122, 도 1 참조)에서 수행될 수 있지만, 별도의 인공 지능 학 습 모듈에 의해서 수행될 수도 있다. 일 실시예에서, 프로세서와 인공 지능 학습 모듈은 하나의 칩(chip) 으로 통합될 수 있다. 학습 네트워크 모델 생성 단계(S610)는 기획득된 자기 공명 영상 데이터를 이용하는 학습으로써, 실제 대상체에 관한 자기 공명 영상 촬영 단계(S620) 이전에 수행될 수 있다. 자기 공명 영상 장치는, 자기 공명 신호 모델링 수식을 이용하는 시뮬레이션으로 생성된 합성 데이터 및 기획득된 대상체의 자기 공명 영상 데이터 중 적어도 하나를 인공 신경망에 입력으로 적용하고, 제1 특성 파라미터를 정답값으로 적용하여 학습 할 수 있다. 인공 신경망에 입력으로 적용되는 합성 데이터는 기설정된 범위 내의 복수의 특성 파라미터들을 자기 공명 신호 모델링 수식을 통해 시뮬레이션하여 생성된 복수의 자기 공명 신호 응답의 커브(curve)들의 집합일 수 있다. 합성 데이터에 대해서는 도 5a 및 도 5b에서 설명하였는바, 중복되는 설명은 생략하기로 한다. 인공 신경망에 입력으로 적용되는 자기 공명 영상 데이터는 대상체에 관하여 기획득된 생체 내 영상 데이터(in-vivo data)일 수 있다. 일 실시예에서, 자기 공명 영상 데이터의 복셀 별 멀티 에코 신호가 인 공 신경망에 입력될 수 있다. 인공 신경망에 정답값으로 적용되는 제1 특성 파라미터는 입력으로 적용된 합성 데이터의 커브 와 자기 공명 영상 데이터의 복셀 별 샘플 값들(예를 들어, 복수의 에코 시간에서의 자기 공명 신호값)에 대응되는 파라미터 값일 수 있다. 예를 들어, T2 맵핑의 경우 제1 특성 파라미터는 T2 시간일 수 있다. 일 실시예에서, 자기 공명 영상 장치는 합성 데이터 및 자기 공명 영상 데이터 중 적어도 하나로 구 성된 입력과 상기 입력에 대응되는 제1 특성 파라미터를 정답값으로 하는 쌍(input/output pair)을 형성하 고, 형성된 쌍을 복셀 별로(voxel-by-voxel) 인공 신경망에 적용하여 학습할 수 있다. 대상체에 관한 자기 공명 영상 촬영 단계(S620)는 실제 대상체를 자기 공명 영상 촬영하는 단계이고, 단계 S610 에서의 학습을 통해 획득된 학습 네트워크 모델에 촬영을 통해 획득한 자기 공명 영상 데이터를 적용하는 과정 이 인라인 프로세스(in-line process)로써 함께 수행될 수 있다. 일 실시예에서, 자기 공명 영상 장치는 대상체 를 자기 공명 영상 촬영하여 획득한 자기 공명 영상 데이터을 인공 신경망에 입력으로 적용하여 제2 특성 파라미터를 산출할 수 있다. 자기 공명 영상 촬영 단계(S620)에서, 자기 공명 영상 장치는 대상체에 관한 자기 공명 영상 데이터를 인 공 신경망에 입력하여, 자기 공명 영상 데이터에 관한 제2 특성 파라미터 값을 산출할 수 있다. 자기 공명 영상 장치는 산출된 제2 특성 파라미터 값을 복셀 별로 매핑하여 파라미터 맵을 생성할 수 있다. 자 기 공명 영상 장치는 생성된 파라미터 맵을 디스플레이부(130, 도 1 참조)에 디스플레이할 수 있다. 도 6b는 본 개시의 자기 공명 영상 장치가 심층 신경망(Deep Neural Network, DNN)을 이용하는 학습 (training)을 통해 대상체에 관한 자기 공명 영상 데이터로부터 제2 특성 파라미터를 획득하는 실시 예를 도시한 도면이다. 도 6b를 참조하면, 자기 공명 영상 장치는 오프라인 프로세스(off-line process)인 학습 네트워크 모델 생성 단 계(S612)와 대상체에 관한 자기 공명 영상 촬영 단계(in-line process)(S622)의 두가지 과정을 수행할 수 있다. 단계 S612에서 자기 공명 영상 장치는 대상체에 관한 자기 공명 영상의 촬영 전에 학습을 수행하여 학습 네트워 크 모델을 생성하고, 단계 S622에서는 실제 대상체의 자기 공명 영상 촬영과 함께 학습 네트워크 모델을 이용하 여 파라미터 맵을 생성할 수 있다. 도 6b에 도시된 학습은 T2 맵핑을 위하여 심층 신경망을 이용하는 학습이다. 학습 네트워크 모델 생성 단 계(S612)에서, 자기 공명 영상 장치는 EPG-SLR 모델을 이용하는 시뮬레이션을 통해 생성된 합성 데이터 (synthetic data)와 기획득된 자기 공명 영상 데이터(in-vivo data)를 조합하여 심층 신경망에 입력될 라벨 값들을 추출할 수 있다. 일 실시예에서, 자기 공명 영상 장치는 합성 데이터 및 자기 공 명 영상 데이터 중 적어도 하나를 통해 라벨 값들을 추출할 수도 있다. 라벨 값은 E2 값(T2 시간에서의 exponential 값)과 B1 값을 포함할 수 있다. 일 실시예에서 자기 공명 영 상 장치는, 자기 공명 영상 데이터의 복셀 별 멀티 에코 신호를 측정하고, 측정된 신호값으로부터 비선형 최소 제곱 커브 피팅 방법(nonlinear least-squares curve fitting method)을 사용하여 복셀 바이 복셀(voxel- by-voxel) 방식으로 E2 값 및 B1 값을 추정할 수 있다. 자기 공명 영상 장치는 추정된 E2 값 및 B1값에 대응되 는 합성 데이터의 커브 피팅을 조합하여 라벨 값을 생성할 수 있다. 일 실시예에서, 라벨 값은 기설정된 범위 내의 값으로 스케일링(scaling)되고, 기설정된 범위 내에서 균등 하게 분포되는 값일 수 있다. 예를 들어, E2값은 ([0, 1])에서, B1값은 ([0.5, 1.5])의 범위 내에서 균일하게 분포되는 값일 수 있다. 도 6b에 도시된 실시예에서, 자기 공명 영상 장치는 복수의 완전 연결 네트워크 레이어(601a 내지 605a)를 포함 하고, ReLU(Rectified Linear Unit)(601b 내지 604b)를 활성 함수로 사용하는 심층 신경망(DNN) 모델을 이용하 여 학습할 수 있다. 일 실시예에서, 5개의 완전 연결 네트워크 레이어(601a 내지 605a)는 각각 6Х8, 8Х16, 16 Х64, 64Х256 및 256Х2의 차원을 가질 수 있다. 그러나, 도 6b에 도시된 심층 신경망의 모델은 설명의 편의를 위한 예시일 뿐이고, 본 개시의 심층 신경망 모델의 레이어의 종류, 개수 및 차원이 도 6b에 도시 된 바와 같이 한정되는 것은 아니다. 자기 공명 영상 장치는 라벨 값을 심층 신경망에 입력으로 적용하고, 제1 T2 값을 심층 신경망 의 정답값으로 적용하여 학습할 수 있다. 제1 T2 값은 EPG-SLR 모델을 이용하는 시뮬레이션을 통해 기 산출된 T2 시간과 관련된 파라미터 값일 수 있다. 일 실시예에서, 자기 공명 영상 장치는 E2 값 및 B1 값으 로 구성된 라벨과 라벨에 대응되는 제1 T2 값을 정답값으로 하는 쌍(pair)을 형성하고, 형성된 쌍을 복셀 별로(voxel-by-voxel) 심층 신경망에 적용하여 학습할 수 있다. 자기 공명 영상 장치는 상기 학습을 통해 학습 네트워크 모델을 생성할 수 있다. 자기 공명 영상 촬영 단계(S622)는 실제 대상체를 자기 공명 영상 촬영하는 단계이다. 일 실시예에서, 자기 공 명 영상 장치는 대상체를 자기 공명 영상 촬영하여 획득한 자기 공명 영상 데이터을 심층 신경망에 입력으로 적용하여 제2 T2 값을 산출할 수 있다. 자기 공명 영상 촬영 단계(S622)에서, 자기 공명 영상 장치는 대상체에 관한 자기 공명 영상 데이터를 심 층 신경망에 입력하여, 자기 공명 영상 데이터에 관한 제2 T2 값을 산출할 수 있다. 자기 공명 영상 장치는 제2 T2 값을 복셀 별로 매핑하여 T2 맵을 생성할 수 있다. 자기 공명 영상 장치는 생성된 T2 맵을 디스플레이부(130, 도 1 참조)에 디스플레이할 수 있다. 도 6a 및 도 6b에 도시된 인공 신경망 및 심층 신경망을 이용하는 학습을 통해 제2 특성 파라미터 산 출하고, 제2 특성 파라미터 값을 통해 파라미터 맵을 생성하는 방법은, 종래의 파라미터 맵 생성에 비하여 처리 속도를 현저하게 감소시키는 기술적 효과가 있다. 특히, 도 6b에 도시된 실시예는 RF 슬라이스 프로파일을 고려 하는 모델링 수식인 EPG-SLR 수식을 이용하여 시뮬레이션한 합성 데이터를 이용하여 학습함으로써, RF 펄스의 불균일성(inhomogeneity)으로 인하여 T2 맵핑의 정확도가 저하되는 문제점을 극복할 수 있다. 그러나, 도 6a 및 도 6b의 실시예에서의 학습은 회귀 모델(regression modeling)이므로, 오류가 검출될 수 있다. 오류를 검출하고, 검출된 오류를 보정하는 방법은 이하의 도 7 및 도 8에서 상세하게 설명하기로 한다. 도 7은 본 개시의 자기 공명 영상 장치가 특성 파라미터에 관한 사전(dictionary)을 이용하여 오류를 보정하는 실시예를 도시한 도면이다. 도 7을 참조하면, 자기 공명 영상 장치는 출력 파라미터 값인 E2 값 및 B1 값에 관한 사전 (dictionary)을 생성할 수 있다. 사전은 기설정된 범위 내에서 균일하게 분포되는 E2 값과 B1 값의 쌍(pair)으로 정의될 수 있다. 일 실시예에서, 사전 내의 E2 값은 x축을 따라 ([0,1])의 범위 내에서 n개의 값 을 갖고, B1 값은 y축을 따라 ([0.5, 1.5])의 범위 내에서 m개의 값을 가질 수 있다. 도 7의 실시예에서, 자기 공명 영상 장치는 사전을 생성하는 것으로 기재되었지만, 이에 한정되는 것은 아니다. 일 실시예에서, 사전은 자기 공명 영상 장치의 메모리 또는 외부 서버에 저장되어 있을 수 있다. 자기 공명 영상 장치는 학습을 통해 복셀 별로 잔여 오차값(residual error value)을 계산할 수 있다. 일 실시 예에서, 자기 공명 영상 장치는 비용 함수로서 평균 절대 오류(mean-square-error)를 사용하여 잔여 오차값을 계산하고, 계산된 잔여 오차값을 복셀 별로 매핑하여 잔여 오차 맵을 생성할 수 있다. 자기 공명 영상 장치는 복셀 별로 산출된 잔여 오차값이 기설정된 임계치를 초과하는 복셀을 검출하여 오류를 검출할 수 있다. 자기 공명 영상 장치는 예를 들어, RMS 오류값(Root Mean Square error, RMS error)이 0.02 이상인 복셀을 추출하여 복셀 별 오류를 검출할 수 있다. 도 7에 도시된 실시예에서, 자기 공명 영상 장치는 잔 여 오차 맵에서 RMS 오류값이 기설정된 임계치를 초과하는 제1 복셀을 검출할 수 있다. 자기 공명 영상 장치는 오류가 검출된 복셀의 값을 사전 내의 대응되는 복셀의 특성 파라미터 값으로 대체 (replacing)하는 사전 매칭(dictionary-matching)을 수행할 수 있다. 자기 공명 영상 장치는 사전 매칭을 통해 복셀 별 오류를 보정할 수 있다. 일 실시예에서, 자기 공명 영상 장치는 잔여 오차 맵 상의 제1 복셀(72 2)의 값을 사전 내의 제1 복셀의 위치에 대응되는 제1 사전 값으로 대체할 수 있다. 도 8은 본 개시의 자기 공명 영상 장치가 특성 파라미터에 관한 사전(dictionary)을 이용하여 오류를 보정하는 실시예를 도시한 도면이다. 단계 S810에서, 자기 공명 영상 장치는 학습을 통해 대상체에 관한 자기 공명 영상 데이터의 복셀 별 특성 파라 미터 값을 산출한다. EPG-SLR 모델링 수식을 통한 T2 맵핑의 경우, 특성 파라미터 값은 E2 값(T2 시간에서의 exponential 값) 및 B1 값을 포함할 수 있다. 단계 S820에서, 자기 공명 영상 장치는 기설정된 범위 내에서의 특성 파라미터 값에 관한 사전(dictionary)을 생성한다. 일 실시예에서, 자기 공명 영상 장치는 기설정된 범위 내에서 균일하게 분포되는 E2 값과 B1 값의 쌍 (pair)으로 구성된 사전을 생성할 수 있다. 일 실시예에서, 사전은 자기 공명 영상 장치 내의 메모리 또는 외부 서버에 저장되어 있을 수 있다. 이 경우, 단계 S820은 생략될 수 있다. 단계 S830에서, 자기 공명 영상 장치는 산출된 출력값에 따른 잔여 오차값(residual error value)이 기설정된 임계치를 초과하는 복셀을 검출한다. 단계 S840에서, 자기 공명 영상 장치는 오류가 검출된 복셀의 값을 사전 내의 대응되는 복셀의 특성 파라미터 값으로 대체(replacing)하여 오류를 보정한다. 자기 공명 영상 장치는 사전으로부터 오류가 검출된 복셀에 대응 되는 특성 파라미터 값을 획득하고, 오류가 검출된 복셀의 값을 획득된 특성 파라미터 값으로 대체할 수 있다. 도 9는 본 개시의 자기 공명 영상 장치가 서로 다른 입력 데이터를 통해 학습을 수행한 결과의 평균 T2 오류 값 을 도시한 그래프이다. 도 9에 도시된 그래프를 참조하면, 대상체에 관한 자기 공명 영상 데이터와 합성 데이터의 조합을 이용한 학습의 T2 오류값은 자기 공명 영상 데이터만을 이용한 학습, 합성 데이터만을 이용한 학습의 T2 오류값 보다 작다. 그래프에서 괄호 내에 기재된 숫자는 학습에 사용된 데이터의 양을 나타낼 수 있다. 그래프를 참조하면, 학습에 사용된 데이터의 양은 T2 오류값에 큰 영향을 주지는 않는다. 그래프에서 대상체에 관한 자기 공명 영상 데이터만을 이용한 학습의 T2 오차값이 합성 데이터만을 이용하 여 학습한 결과의 T2 오차값 보다 크고, 자기 공명 영상 데이터만을 이용한 학습의 T2 오차값은 자기 공명 영상 데이터와 합성 데이터의 조합을 통한 학습의 T2 오차값과 유사한 크기를 갖는다. 이는 합성 데이터가 단일 성분 T2 감쇠에 대하여 생성되었기 때문으로 해석될 수 있다. 또한, 노이즈 특성은 병렬 이미징 기법 또는 멀티 코일 시스템(multi-coil system)을 포함하는 재구성 기법에 따라 다를 수 있다. 자기 공명 영상 데이터를 이용하는 학습의 경우, 자기 공명 영상 데이터에 노이즈가 포함되기 때문에, 노이즈 특성을 학습할 수 있지만, 합성 데이 터의 경우 E2 값과 B1 값의 제한된 범위와 데이터 수의 부족으로 인하여 오차가 많이 발생되고 정확도가 낮아질 수 있다. 도 10은 본 개시의 자기 공명 영상 장치가 자기 공명 신호 모델링 수식을 이용하는 경우와 인공 신경망을 이용 하는 경우 각각에 관하여 생성된 T2 맵 및 T2 맵을 생성하는데 소요되는 시간을 도시한 도면이다. 도 10을 참조하면, 오차 보정을 생략한 인공 신경망을 통한 학습(ANN without QA)의 경우, 즉 c의 학습 결과의 처리 시간(processing time)이 1초 이내로 가장 빠름을 알 수 있다. 그 다음으로는 인공 신경망을 통한 학습에 사전을 이용한 오차 보정까지 수행한 경우(ANN with QA), 즉 d의 학습 결과의 처리 시간이 1.5분 정도로 빠르다. EPG-SLR 모델링 수식을 이용한 커브 피팅의 경우, 즉 a의 처리 시간은 8.3 시간으로써 모델링을 위해 소요되는 시간이 매우 오래 걸림을 알 수 있다. 도 10에서 a와 c의 차(difference between a) and c))는 EPG-SLR 모델링을 통한 시뮬레이션과 오차 보정 없는 학습의 결과의 오차값을 의미하고, a와 d의 차(difference between a) and d))는 EPG-SLR 모델링을 통한 시뮬 레이션과 오차 보정을 수행한 학습 간의 오차값을 의미한다. e의 오차값(a와 c의 차)는 f의 오차값(a와 d의 차) 보다는 큰 값을 갖는데, 이는 오차 보정을 수행하는 학습의 경우(d)의 정확도가 더 높다는 것을 의미한다. 도 9 및 도 10을 참조하면, 본 개시는 인공 신경망을 이용하는 학습과 오차 보정을 통한 파라미터 맵핑 방법 및 자기 공명 영상 장치를 제공함으로써, 종래 방법 대비 처리 시간을 현저하게 감소시키고, 정확도를 향상시킬 수 있다. 한편, 본 개시에 포함된 실시예들은 컴퓨터로 읽을 수 있는 저장 매체(computer-readable storage media)에 저 장된 명령어를 포함하는 S/W 프로그램으로 구현될 수 있다. 컴퓨터는, 저장 매체로부터 저장된 명령어를 호출하고, 호출된 명령어에 따라 개시된 실시예에 따른 동작이 가 능한 장치로서, 개시된 실시예들에 따른 자기 공명 영상 장치를 포함할 수 있다. 컴퓨터로 읽을 수 있는 저장매체는, 비일시적(non-transitory) 저장매체의 형태로 제공될 수 있다. 여기서, '비 일시적'은 저장매체가 신호(signal)를 포함하지 않으며 실재(tangible)한다는 것을 의미할 뿐 데이터가 저장매 체에 반영구적 또는 임시적으로 저장됨을 구분하지 않는다. 또한, 개시된 실시예들에 따른 자기 공명 영상 장치 및 그 동작 방법은 컴퓨터 프로그램 제품(computer program product)에 포함되어 제공될 수 있다. 컴퓨터 프로그램 제품은 상품으로서 판매자 및 구매자 간에 거래될 수 있 다. 컴퓨터 프로그램 제품은 S/W 프로그램, S/W 프로그램이 저장된 컴퓨터로 읽을 수 있는 저장 매체를 포함할 수 있다. 예를 들어, 컴퓨터 프로그램 제품은 자기 공명 영상 장치의 제조사 또는 전자 마켓(예, 구글 플레이 스토 어, 앱 스토어)을 통해 전자적으로 배포되는 S/W 프로그램 형태의 상품(예, 다운로더블 앱)을 포함할 수 있다. 전자적 배포를 위하여, S/W 프로그램의 적어도 일부는 저장 매체에 저장되거나, 임시적으로 생성될 수 있다. 이 경우, 저장 매체는 제조사의 서버, 전자 마켓의 서버, 또는 SW 프로그램을 임시적으로 저장하는 중계 서버의 저 장매체가 될 수 있다. 컴퓨터 프로그램 제품은, 서버 및 장치(예를 들어, 자기 공명 영상 장치)로 구성되는 시스템에서, 서버의 저장 매체 또는 장치의 저장매체를 포함할 수 있다. 또는, 서버 또는 장치와 통신 연결되는 제3 장치(예를 들어, 스 마트폰)가 존재하는 경우, 컴퓨터 프로그램 제품은 제3 장치의 저장매체를 포함할 수 있다. 또는, 컴퓨터 프로 그램 제품은 서버로부터 장치 또는 제3 장치로 전송되거나, 제3 장치로부터 단말로 전송되는 S/W 프로그램 자체 를 포함할 수 있다. 이 경우, 서버, 장치 및 제3 장치 중 하나가 컴퓨터 프로그램 제품을 실행하여 개시된 실시예들에 따른 방법을 수행할 수 있다. 또는, 서버, 장치 및 제3 장치 중 둘 이상이 컴퓨터 프로그램 제품을 실행하여 개시된 실시예 들에 따른 방법을 분산하여 실시할 수 있다. 예를 들면, 서버(예로, 클라우드 서버 또는 인공 지능 서버 등)가 서버에 저장된 컴퓨터 프로그램 제품을 실행 하여, 서버와 통신 연결된 장치가 개시된 실시예들에 따른 방법을 수행하도록 제어할 수 있다. 또 다른 예로, 제3 장치가 컴퓨터 프로그램 제품을 실행하여, 제3 장치와 통신 연결된 장치가 개시된 실시예에 따른 방법을 수행하도록 제어할 수 있다. 제3 장치가 컴퓨터 프로그램 제품을 실행하는 경우, 제3 장치는 서버로부터 컴퓨터 프로그램 제품을 다운로드하 고, 다운로드된 컴퓨터 프로그램 제품을 실행할 수 있다. 또는, 제3 장치는 프리로드(pre-loaded)된 상태로 제 공된 컴퓨터 프로그램 제품을 실행하여 개시된 실시예들에 따른 방법을 수행할 수도 있다. 한편, 개시된 실시예들은 컴퓨터에 의해 실행 가능한 명령어 및 데이터를 저장하는 컴퓨터로 읽을 수 있는 기록 매체의 형태로 구현될 수 있다. 상기 명령어는 프로그램 코드의 형태로 저장될 수 있으며, 프로세서에 의해 실 행되었을 때, 소정의 프로그램 모듈을 생성하여 소정의 동작을 수행할 수 있다. 또한, 상기 명령어는 프로세서 에 의해 실행되었을 때, 개시된 실시예들의 소정의 동작들을 수행할 수 있다."}
{"patent_id": "10-2019-0050983", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "이상에서와 같이 첨부된 도면을 참조하여 개시된 실시예들을 설명하였다. 본 개시가 속하는 기술분야에서 통상 의 지식을 가진 자는 본 개시의 기술적 사상이나 필수적인 특징을 변경하지 않고도, 개시된 실시예들과 다른 형 태로 본 개시의 실시예들이 실시될 수 있음을 이해할 것이다. 개시된 실시예들은 예시적인 것이며, 한정적으로 해석되어서는 안 된다. 도면 도면1 도면2 도면3 도면4 도면5a 도면5b 도면6a 도면6b 도면7 도면8 도면9 도면10"}
{"patent_id": "10-2019-0050983", "section": "도면", "subsection": "도면설명", "item": 1, "content": "본 개시는, 다음의 자세한 설명과 그에 수반되는 도면들의 결합으로 쉽게 이해될 수 있으며, 참조 번호 (reference numerals)들은 구조적 구성요소(structural elements)를 의미한다. 도 1은 자기 공명 영상 시스템(MRI system)의 구성 요소를 도시한 도면이다. 도 2는 본 개시의 일 실시예에 따른 자기 공명 영상 장치의 구성 요소를 도시한 블록도이다. 도 3은 본 개시의 자기 공명 영상 장치가 자기 공명 신호 데이터와 제1 특성 파라미터 값을 이용하여 학습 (training)하고, 학습을 통해 획득한 네트워크 모델을 적용하여 대상체에 관한 자기 공명 영상 데이터로부터 제 2 특성 파라미터를 산출하는 방법을 도시한 개념도이다. 도 4는 본 개시의 자기 공명 영상 장치의 동작 방법에 관한 흐름도이다. 도 5a는 자기 공명 신호 모델링 수식을 이용하여 특성 파라미터로부터 자기 공명 신호 응답(Magnetic Resonance signal response)을 생성하는 실시예를 도시한 도면이다. 도 5b는 본 개시의 자기 공명 영상 장치가 자기 공명 신호 모델링 수식을 이용하여 특성 파라미터로부터 자기 공명 신호 응답을 생성하는 실시예를 도시한 도면이다. 도 6a는 본 개시의 자기 공명 영상 장치가 인공 신경망을 이용하는 학습(training)을 통해 대상체에 관한 자기 공명 영상 데이터로부터 특성 파라미터 값을 획득하는 실시예를 도시한 도면이다. 도 6b는 본 개시의 자기 공명 영상 장치가 심층 신경망(Deep Neural Network, DNN)을 이용하는 학습(trainin g)을 통해 대상체에 관한 자기 공명 영상 데이터로부터 특성 파라미터 값을 획득하는 실시예를 도시한 도면이다. 도 7은 본 개시의 자기 공명 영상 장치가 특성 파라미터에 관한 사전(dictionary)을 이용하여 오류를 보정하는 실시예를 도시한 도면이다. 도 8은 본 개시의 자기 공명 영상 장치가 특성 파라미터에 관한 사전(dictionary)을 이용하여 오류를 보정하는 실시예를 도시한 도면이다. 도 9는 본 개시의 자기 공명 영상 장치가 서로 다른 입력 데이터를 통해 학습을 수행한 결과의 평균 오류값을도시한 그래프이다. 도 10은 본 개시의 자기 공명 영상 장치가 자기 공명 신호 모델링 수식을 이용하는 경우와 인공 신경망을 이용 하는 경우 각각에 관하여 생성된 T2 맵 및 T2 맵을 생성하는데 소요되는 시간을 도시한 도면이다."}
