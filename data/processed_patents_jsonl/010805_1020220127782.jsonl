{"patent_id": "10-2022-0127782", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0048234", "출원번호": "10-2022-0127782", "발명의 명칭": "지능형 게이트웨이 및 그 제어방법", "출원인": "엘에스일렉트릭", "발명자": "원동선"}}
{"patent_id": "10-2022-0127782", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "지능형 게이트웨이에 있어서, 복수의 하부 기기로부터 수신한 데이터를 저장하는 제1메모리;상기 복수의 하부 기기와 통신 연결을 위한 통신 패킷을 저장하는 제2메모리; 및 복수의 상부 기기로부터 상기 복수의 하부 기기의 데이터를 요청하는 복수의 요청 신호를 수신하고,상기 복수의 요청 신호에 기초하여 상부 기기 별 메인 요청 데이터에 대한 리스트를 생성하여 상기 제2메모리에저장하고,상기 복수의 하부 기기로부터 상기 리스트에 대응하는 메인 요청 데이터를 수신하여 상기 제1메모리에저장하고,상기 복수의 상부 기기 중 제1상부 기기로부터 제1데이터를 요청하는 제1요청 신호를 수신하면, 상기 제1메모리에 저장된 상기 제1데이터를 전송하는 프로세서를 포함하는 지능형 게이트웨이."}
{"patent_id": "10-2022-0127782", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 프로세서는, 상기 복수의 요청 신호 각각의 기 정의된 시간 내에 수신한 요청 횟수에 따라 상부 기기 별로 상기 리스트를 생성하는 지능형 게이트웨이."}
{"patent_id": "10-2022-0127782", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 프로세서는, 상기 복수의 요청 신호 각각의 요청 횟수에 따라 가중치를 부여하여 상기 각 요청 신호에 대응하는 데이터의 업데이트 주기를 다르게 설정하는 지능형 게이트웨이."}
{"patent_id": "10-2022-0127782", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 프로세서는, 상기 제1상부 기기로부터 상기 제1메모리에 저장되지 않은 제2데이터를 요청하는 제2요청 신호를 수신하면, 상기 제2데이터에 대응하는 제2하부 기기에 상기 제2데이터를 요청하여 상기 제1상부 기기에 전송하는 지능형 게이트웨이."}
{"patent_id": "10-2022-0127782", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서,상기 프로세서는, 상기 제2요청 신호에 대한 요청 횟수에 따라 상기 리스트를 업데이트하는 지능형 게이트웨이."}
{"patent_id": "10-2022-0127782", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에 있어서,공개특허 10-2024-0048234-3-상기 프로세서는,상기 복수의 상부 기기와 이더넷 통신을 수행하는 지능형 게이트웨이."}
{"patent_id": "10-2022-0127782", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서,상기 프로세서는,상기 복수의 하부 기기와 RS 485 통신을 수행하는 지능형 게이트웨이."}
{"patent_id": "10-2022-0127782", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "지능형 게이트웨이의 제어방법에 있어서, 복수의 상부 기기로부터 복수의 하부 기기의 데이터를 요청하는 복수의 요청 신호를 수신하는 단계; 상기 복수의 요청 신호에 기초하여 상부 기기 별 메인 요청 데이터에 대한 리스트를 생성하여 제2메모리에 저장하는 단계; 상기 복수의 하부 기기로부터 상기 리스트에 대응하는 메인 요청 데이터를 수신하여 제1메모리에 저장하는단계;상기 복수의 상부 기기 중 제1상부 기기로부터 제1데이터를 요청하는 제1요청 신호를 수신하면, 상기 제1메모리에 저장된 상기 제1데이터를 상기 제1상부 기기에 전송하는 단계를 포함하는 제어방법."}
{"patent_id": "10-2022-0127782", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에 있어서,상기 제2메모리에 저장하는 단계는, 상기 복수의 요청 신호 각각의 기 정의된 시간 내에 수신한 요청 횟수에 따라 상부 기기 별로 상기 리스트를 생성하는 단계를 포함하는 제어방법."}
{"patent_id": "10-2022-0127782", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서,상기 제1메모리에 저장하는 단계는, 상기 복수의 요청 신호 각각의 요청 횟수에 따라 가중치를 부여하여 상기 각 요청 신호에 대응하는 데이터의 업데이트 주기를 다르게 설정하는 단계를 포함하는 제어방법."}
{"patent_id": "10-2022-0127782", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제8항에 있어서,상기 제1상부 기기에 전송하는 단계는, 상기 제1상부 기기로부터 상기 제1메모리에 저장되지 않은 제2데이터를 요청하는 제2요청 신호를 수신하면, 상기 제2데이터에 대응하는 제2하부 기기에 상기 제2데이터를 요청하여 상기 제1상부 기기에 전송하는 단계를 포함하는 제어방법."}
{"patent_id": "10-2022-0127782", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제11항에 있어서,상기 제2요청 신호에 대한 요청 횟수에 따라 상기 리스트를 업데이트하는 단계를 포함하는 제어방법."}
{"patent_id": "10-2022-0127782", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제8항에 있어서,공개특허 10-2024-0048234-4-상기 게이트웨이는 상기 복수의 상부 기기와 이더넷 통신을 수행하는 것을 특징으로 하는 제어방법."}
{"patent_id": "10-2022-0127782", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제13항에 있어서,상기 게이트웨이는 상기 복수의 하부 기기와 RS 485 통신을 수행하는 것을 특징으로 하는 제어방법."}
{"patent_id": "10-2022-0127782", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제14항에 있어서,상기 제2메모리는 상기 복수의 하부 기기와 통신 연결을 위한 통신 패킷을 저장하는 것을 특징으로 하는 제어방법."}
{"patent_id": "10-2022-0127782", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명의 일 실시예에 따른 지능형 게이트웨이에 있어서, 복수의 하부 기기로부터 수신한 데이터를 저장하는 제 1메모리; 상기 복수의 하부 기기와 통신 연결을 위한 통신 패킷을 저장하는 제2메모리; 및 복수의 상부 기기로부 터 상기 복수의 하부 기기의 데이터를 요청하는 복수의 요청 신호를 수신하고, 상기 복수의 요청 신호에 기초하 여 상부 기기 별 메인 요청 데이터에 대한 리스트를 생성하여 상기 제2메모리에 저장하고, 상기 복수의 하부 기 기로부터 상기 리스트에 대응하는 메인 요청 데이터를 수신하여 상기 제1메모리에 저장하고, 상기 복수의 상부 기기 중 제1상부 기기로부터 제1데이터를 요청하는 제1요청 신호를 수신하면, 상기 제1메모리에 저장된 상기 제1 데이터를 전송하는 프로세서를 포함한다."}
{"patent_id": "10-2022-0127782", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 지능형 게이트웨이 및 그 제어방법에 관한 것이다."}
{"patent_id": "10-2022-0127782", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "병원, 지하철공사, 발전소, 공장 등 많은 산업현장에서 화재 예방에 대한 진단 및 산업 설비의 동작의 실시간 파악을 위하여 서버 등 상위 시스템에서는 산업 설비의 데이터를 주기적으로 요청하며, 수신한 데이터를 분석 및 진단하여 이상이 발견되면 유지보수인에게 알람을 발생시키고 있다. 이러한 현장에는 많은 상부 기기, 게이트웨이, 하부 기기가 설치되며, 이 중 게이트웨이는 시스템의 중간에서 하부 기기의 데이터를 수집 및 저장하여, 상부 기기가 데이터 요청 시 해당 데이터를 찾아서 신속하게 전달하는 기능을 담당하고 있다. 이를 위해 게이트웨이에 많이 적용하는 방법 중 하나가 엔지니어링 소프트웨어를 통한 리맵(Remap)이다. 즉, 상 부 기기가 필요로 하는 데이터를 미리 리맵에 정렬시키고, 하부 기기의 데이터 포인트 어드레스를 리맵에 매핑 시키며, 매핑시킨 엔지니어링 정보를 파일(XML, Text, 엑셀 등)로 변환하여 게이트웨이에 입력한다. 이렇게 엔지니어링 정보가 게이트웨이에 저장이 되면, 게이트웨이는 상부 기기가 필요로 하는 데이터의 정보 및 해당주소를 알 수 있으며, 어떤 하부 기기에게 어떤 주소를 이용하여 데이터를 취득할 지 알 수 있다. 그러나, 현장 상황 상 상부 기기가 요청하는 데이터는 수시로 변경이 되고, 계속해서 하부 기기가 추가 및 삭제 되기 때문에, 리맵을 이용하는 경우 엔지니어링 정보를 새로 생성하여 게이트웨이에 재등록해야 하고, 게이트웨 이를 재부팅해야 하는 불편함이 있다. 이 뿐 아니라, 만약 이 과정에서 리맵 상 실수가 일어난다면 상부 기기에 서 요청한 데이터가 오염되어 정상적인 데이터가 아닌 비정상적인 데이터가 전달될 수 있고, 이로 인해 상부 기 기는 유지보수인에게 허알람을 발생시킬 것이며, 경우에 따라서는 전체 시스템이 마비가 일어나는 경우가 발생 할 수 있다. 따라서, 하부 기기 등 시스템 상황에 유동적이고, 안정적인 데이터 송수신 방법에 대한 방안이 강구되는 실정이 다."}
{"patent_id": "10-2022-0127782", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 목적은 보다 상황에 유동적이고, 안정적으로 데이터를 송수신할 수 있는 지능형 게이트웨이 및 그 제 어방법을 제공하는 것이다. 본 발명의 목적은 보다 간편하게 능동적으로 엔지니어링을 수행하는 지능형 게이트웨이 및 그 제어방법을 제공 하는 것이다."}
{"patent_id": "10-2022-0127782", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 일 실시예에 따른 지능형 게이트웨이에 있어서, 복수의 하부 기기로부터 수신한 데이터를 저장하는 제1메모리; 상기 복수의 하부 기기와 통신 연결을 위한 통신 패킷을 저장하는 제2메모리; 및 복수의 상부 기기 로부터 상기 복수의 하부 기기의 데이터를 요청하는 복수의 요청 신호를 수신하고, 상기 복수의 요청 신호에 기 초하여 상부 기기 별 메인 요청 데이터에 대한 리스트를 생성하여 상기 제2메모리에 저장하고, 상기 복수의 하 부 기기로부터 상기 리스트에 대응하는 메인 요청 데이터를 수신하여 상기 제1메모리에 저장하고, 상기 복수의 상부 기기 중 제1상부 기기로부터 제1데이터를 요청하는 제1요청 신호를 수신하면, 상기 제1메모리에 저장된 상 기 제1데이터를 전송하는 프로세서를 포함한다. 상기 프로세서는, 상기 복수의 요청 신호 각각의 기 정의된 시간 내에 수신한 요청 횟수에 따라 상부 기기 별로 상기 리스트를 생성할 수 있다. 상기 프로세서는, 상기 복수의 요청 신호 각각의 요청 횟수에 따라 가중치를 부여하여 상기 각 요청 신호에 대 응하는 데이터의 업데이트 주기를 다르게 설정할 수 있다. 상기 프로세서는, 상기 제1상부 기기로부터 상기 제1메모리에 저장되지 않은 제2데이터를 요청하는 제2요청 신 호를 수신하면, 상기 제2데이터에 대응하는 제2하부 기기에 상기 제2데이터를 요청하여 상기 제1상부 기기에 전 송할 수 있다. 상기 프로세서는, 상기 제2요청 신호에 대한 요청 횟수에 따라 상기 리스트를 업데이트할 수 있다. 상기 프로세서는, 상기 복수의 상부 기기와 이더넷 통신을 수행할 수 있다. 상기 프로세서는, 상기 복수의 하부 기기와 RS 485 통신을 수행할 수 있다. 본 발명의 일 실시예에 따른 지능형 게이트웨이의 제어방법에 있어서, 복수의 상부 기기로부터 복수의 하부 기 기의 데이터를 요청하는 복수의 요청 신호를 수신하는 단계; 상기 복수의 요청 신호에 기초하여 상부 기기 별 메인 요청 데이터에 대한 리스트를 생성하여 제2메모리에 저장하는 단계; 상기 복수의 하부 기기로부터 상기 리 스트에 대응하는 메인 요청 데이터를 수신하여 제1메모리에 저장하는 단계; 상기 복수의 상부 기기 중 제1상부 기기로부터 제1데이터를 요청하는 제1요청 신호를 수신하면, 상기 제1메모리에 저장된 상기 제1데이터를 상기 제1상부 기기에 전송하는 단계를 포함한다. 상기 제2메모리에 저장하는 단계는, 상기 복수의 요청 신호 각각의 기 정의된 시간 내에 수신한 요청 횟수에 따 라 상부 기기 별로 상기 리스트를 생성하는 단계를 포함할 수 있다. 상기 제1메모리에 저장하는 단계는, 상기 복수의 요청 신호 각각의 요청 횟수에 따라 가중치를 부여하여 상기 각 요청 신호에 대응하는 데이터의 업데이트 주기를 다르게 설정하는 단계를 포함할 수 있다. 상기 제1상부 기기에 전송하는 단계는, 상기 제1상부 기기로부터 상기 제1메모리에 저장되지 않은 제2데이터를 요청하는 제2요청 신호를 수신하면, 상기 제2데이터에 대응하는 제2하부 기기에 상기 제2데이터를 요청하여 상 기 제1상부 기기에 전송하는 단계를 포함할 수 있다. 상기 제어방법은 상기 제2요청 신호에 대한 요청 횟수에 따라 상기 리스트를 업데이트하는 단계를 포함할 수 있 다."}
{"patent_id": "10-2022-0127782", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 일 실시예에 따르면, 하부 기기가 추가 및 삭제 되더라도 유지보수인에 의한 복잡한 엔지니어링 설계 가 필요 없고, 상부 기기에서 요청한 데이터는 신속하게 응답할 수 있다. 또한, 엔지니어링 파일 재설정이나, 게이트웨이 재부팅 등 불필요한 절차가 필요 없는 바, 유지보수인은 엔지니 어링에 대한 심리적 스트레스를 받지 않고, 안전하게 시스템을 운영할 수 있다."}
{"patent_id": "10-2022-0127782", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 본 발명에 따른 바람직한 실시 형태를 첨부된 도면을 참조하여 상세하게 설명한다. 첨부된 도면과 함께 이하에 개시될 상세한 설명은 본 발명의 예시적인 실시형태를 설명하고자 하는 것이며, 본 발명이 실시될 수 있 는 유일한 실시형태를 나타내고자 하는 것이 아니다. 도면에서 본 발명을 명확하게 설명하기 위해서 설명과 관 계없는 부분은 생략할 수 있고, 명세서 전체를 통하여 동일 또는 유사한 구성 요소에 대해서는 동일한 참조 부 호를 사용할 수 있다. 또한, 본 발명의 실시예에서, 제1, 제2 등과 같이 서수를 포함하는 용어는 하나의 구성요 소를 다른 구성요소로부터 구별하는 목적으로만 사용되며, 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 도 1은 본 발명의 일 실시예에 따른 지능형 게이트웨이를 포함하는 시스템을 도시한 개략도이다. 도 1을 참조하면, 시스템은 지능형 게이트웨이(이하, 게이트웨이라고도 한다.), 복수의 상부 기기 , 복수의 하부 기기를 포함한다. 본 발명의 일 실시예에 따른 게이트웨이는 상단은 복수의 상부 기기와 연결되고, 하단은 복수의 하부 기기와 연결되어 양 장치 간 데이터 송수신을 중개하는 장치이다. 본 발명의 일 실시예에 따른 상부 기기는 하부 기기들을 이용하여 산업 현장에 설치된 설비들을 진단하고, 현장 상황을 파악하기 위한 장치이다. 도 1에서는 상부 기기가 Server #1, Server #2, Server #3, Server #4 등 복수의 서버로 도시되어 있으나, 이에 한정되지 않고, 컴퓨터 등으로 구현될 수 있다. 이때, 복수의 상부 기기들은 제1데이터 버스를 통해 게이트웨이와 통신 연결될 수 있다. 본 발명의 일 실시예에 따른 하부 기기는 산업 현장에 설치된 설비들을 모니터링하는 장치이거나, 산업 현 장에 설치된 설비 그 자체일 수 있다. 도 1에서는 하부 기기가 다기능 디지털 전력보호 감시장치인 X- GIPAM, GIPAM 3000과, 디지털집중표시제어장치인 GIMAC이 도시되어 있으나, 이에 한정되지 않음은 당연하다. 복 수의 하부 기기들도 마찬가지로 제2데이터 버스를 통해 게이트웨이와 통신 연결될 수 있다. 본 발명의 일 실시예에 따르면, 게이트웨이는 상부 기기에서 요청하는 데이터들을 미리 복수의 하부 기기로부터 수신 및 저장하고, 상부 기기가 데이터를 요청하면 바로 게이트웨이에 저장된 데이 터 중에서 식별하여 상부 기기로 전송한다. 이를 통해, 게이트웨이가 데이터를 가지고 있는 하부 기기에 데이터를 요청하지 않고 바로 상부 기기 에 제공할 수 있으므로 빠르게 응답할 수 있다. 앞서 서술한 바와 같이 리맵 이용 시 요청 데이터의 변경이나 하부 기기의 추가/삭제 등 변동 시 발생하는 번거 로움 및 오류에 따른 시스템 마비가 발생할 수 있다. 이를 방지하기 위해 본 발명에서는 상부 기기에서 요청하는 데이터 패턴을 분석하여 능동적으로 엔지니어 링을 수행하는 지능형 게이트웨이를 제안한다. 이하, 도면들을 참조하여 본 발명의 일 실시예에 따른 게이트웨이의 구성 및 동작에 대해 구체적으로 설명 한다. 도 2는 본 발명의 일 실시예에 따른 지능형 게이트웨이의 구성을 도시한 블럭도이다. 본 발명의 일 실시예에 따른 게이트웨이는 통신부, 메모리, 및 프로세서를 포함한다. 통신부는 상부 기기가 데이터를 요청하는 요청 신호, 요청 신호에 대응하는 데이터 등을 수신하기 위 해 상부 기기, 하부 기기 등 외부장치와의 통신을 수행한다. 이를 위해, 통신부는 LAN(local area network), WAN(Wide Area Network), 전력선 통신 등의 유선 통신 혹은 5G(5th generation communication), LTE-A(long term evolution-advanced), LTE(long term evolution), Wi-Fi(wireless fidelity) 등의 무선 통신을 수행할 수 있다. 한편, 통신부는 데이터 등을 수신할 수 있는 케이블이 연결될 수 있는 커넥터 또는 포트를 포함한다. 통신 부는 이더넷(Ethernet), RS 485 등과 같은 네트워크 전송표준에 따른 커넥터 또는 포트를 포함할 수 있다. 예컨대, 통신부는 라우터 또는 게이트웨이에 유선 접속된 랜카드 등으로 구현될 수 있다.메모리는 게이트웨이의 동작 프로그램, 하부 기기로부터 수신한 데이터 등을 저장한다. 메모리는 전원의 제공 유무와 무관하게 데이터(정보)를 보존할 수 있는 비휘발성 속성의 플래시메모리 (flash-memory), HDD(hard-disc drive), SSD(solid-state drive) ROM(Read Only Memory) 등과, 프로세서(13 0)에 의해 처리되기 위한 데이터가 로딩되며 전원이 제공되지 않으면 데이터를 보존할 수 없는 휘발성 속성의 램(RAM; Random Access Memory) 등이 있다. 본 발명의 일 실시예에 따른 메모리는 제1메모리와 제2메모리를 포함할 수 있다. 제1메모리 는 복수의 하부 기기로부터 수신한 데이터를 저장하고, 제2메모리는 복수의 하부 기기와 통신 연결을 위한 통신 패킷을 저장한다. 이때, 통신 패킷은 각 하부 기기가 사용하는 통신 프로토콜에 따 라 달라지는 바, 하부 기기 별로 마련될 수 있다. 본 발명의 일 실시예에 따르면, 제1메모리는 수집된 데이터를 저장하는 일종의 데이터베이스 역할을 하고, 제2메모리는 필요한 데이터 리스트를 기초로 데이터를 빠르게 수집 및 제1메모리에 전달하기 위한 일 종의 버퍼 역할을 한다. 제2메모리는 일 예로 힙 버퍼(heap buffer)로 구현될 수 있다. 제1메모리와 제2메모리의 역할을 분담함으로써 어느 하나의 데이터 전송량이나 용량 부담을 줄이고, 적절한 메모리 제품을 선택할 수 있다. 다만, 이에 한정되지 않으며 제1메모리와 제2메모리는 필요에 따라 하나의 메모리로 구현될 수 있다. 메모리는 상부 기기 별 메인 요청 데이터에 대한 리스트, 복수의 하부 기기로부터 수신한 메인 요청 데이터, 복수의 하부 기기와 통신 연결을 위한 통신 패킷 등을 저장하거나, 상부 기기 별 메인 요청 데이터에 대한 리스트를 생성하는 과정에서 필요한 연산 프로그램이나 등을 저장할 수 있다. 프로세서는 프로그램 등 소프트웨어를 실행하여 게이트웨이의 적어도 하나의 다른 구성요소(예: 하드 웨어 또는 소프트웨어 구성요소)를 제어할 수 있고, 다양한 데이터 처리 또는 연산을 수행할 수 있다. 프로세서는 복수의 상부 기기로부터 복수의 하부 기기의 데이터를 요청하는 복수의 요청 신호를 수신하고, 복수의 요청 신호에 기초하여 상부 기기 별 메인 요청 데이터에 대한 리스트를 생성하여 제2메모리에 저장하고, 복수의 하부 기기로부터 리스트에 대응하는 메인 요청 데이터를 수신하여 제1메모리에 저장하고, 복수의 상부 기기 중 제1상부 기기로부터 제1데이터를 요청하는 제1요청 신호를 수신하면, 제1메모리에 저장된 제1데이터를 전송한다. 한편, 프로세서는 상기 동작들을 수행하기 위한 데이터 분석, 처리, 및 결과 정보 생성 중 적어도 일부를 규칙 기반 또는 인공지능(Artificial Intelligence) 알고리즘으로서 기계학습, 신경망 네트워크(neural network), 또는 딥러닝 알고리즘 중 적어도 하나를 이용하여 수행할 수 있다. 신경망 네트워크의 예로는, CNN (Convolutional Neural Network), DNN (Deep Neural Network), RNN (Recurrent Neural Network)과 같은 모델 을 포함할 수 있다. 도 3은 본 발명의 일 실시예에 따른 지능형 게이트웨이의 동작 흐름도를 도시한 도면이다. 본 발명의 일 실시예에 따르면, 프로세서는 복수의 상부 기기로부터 복수의 하부 기기의 데이터 를 요청하는 복수의 요청 신호를 수신한다(S10). 본 발명의 일 실시예에 따른 요청 신호는 특정 하부 기기에 대한 특정 데이터를 요청하는 정보를 포함할 수 있 다. 프로세서는 복수의 상부 기기 각각이 원하는 데이터들을 제1메모리에 저장해두었다가 요청 시 바로 전달할 수 있다. 이를 위해, 프로세서는 상부 기기가 어떤 데이터들을 필요로 하는 지 그 데 이터 패턴을 확인할 필요가 있다. 구체적으로, 프로세서는 상부 기기 별로 기 정의된 시간 동안 수신한 요 청 신호를 분석하여, 각 상부 기기가 어떤 하부 기기의 어떤 데이터를 자주 요청하는지 확인할 수 있다. 본 발명의 일 실시예에 따르면, 프로세서는 복수의 요청 신호에 기초하여 상부 기기 별 메인 요청 데이터 에 대한 리스트를 생성하여 제2메모리에 저장한다(S20). 본 발명의 일 실시예에 따른 메인 요청 데이터란, 상부 기기가 게이트웨이에 높은 빈도 수로 요청 하는 하 부 기기의 데이터이다. 메인 요청 데이터에 대한 리스트는 메인 요청 데이터명과 데이터를 획득할 수 있는 포인 트 어드레스를 포함할 수 있다. 다만, 이에 한정되지 않으며, 메인 요청 데이터를 획득하는데 필요한 정보면 리 스트에 제한 없이 포함될 수 있다. 프로세서는 복수의 요청 신호 각각의 기 정의된 시간 내에 수신한 요청 횟수에 따라 상부 기기 별 메인 요 청 데이터에 대한 리스트를 생성할 수 있다. 메인 요청 데이터에 대한 리스트는 상부 기기 별로 구비될 수 있다. 예를 들어, 상부 기기#1가 복수의 하부 기기 중 하부 기기#1의 A 데이터, B 데이터, C 데이터를 수 초 안에 반 복적으로 요청하는 요청신호를 수신한다면, 프로세서는 하부 기기#1의 A 데이터, B 데이터, C 데이터를 메 인 요청 데이터로 두고 리스트에 포함시킬 수 있다. 이때, 기 정의된 시간, 요청 횟수는 어느 하나에 한정되지 않고, 입력부(미도시)를 통해 이를 지정하는 사용자 입력을 수신하거나, 요청 신호 수신의 추세에 따라 자동적으로 설정될 수 있다. 본 발명의 일 실시예에 따르면, 프로세서는 복수의 하부 기기로부터 리스트에 대응하는 메인 요청 데 이터를 수신하여 제1메모리에 저장한다(S30). 본 발명의 일 실시예에 따르면, 프로세서는 제2메모리에 저장된 리스트를 따라 순차적으로 대응하는 메인 요청 데이터를 수신할 수 있다. 이때, 수신한 메인 요청 데이터는 제2메모리를 거쳐 제1메모리 에 저장될 수 있고, 혹은 제1메모리에 바로 저장될 수 있다. 프로세서는 제2메모리에 저장된 리스트에 기초하여 주기적으로 대응하는 하부 기기에 데이터를 요청 할 수 있다. 프로세서는 복수의 요청 신호 각각의 요청 횟수에 따라 가중치를 부여하여 각 요청 신호에 대 응하는 데이터의 업데이트 주기를 다르게 설정할 수 있다. 예를 들어, 상부 기기#1에서 A 데이터, B 데이터, C 데이터를 요청함에 있어서, A 데이터, B 데이터, C 데이터 순으로 가중치가 낮아지는 경우, A 데이터는 1초마다, B 데이터는 2초마다, C 데이터는 3초마다 한번씩 업데이트 할 수 있다. 본 발명의 일 실시예에 따르면, 프로세서는 복수의 상부 기기 중 제1상부 기기로부터 제1데이터를 요 청하는 제1요청 신호를 수신하면, 제1메모리에 저장된 제1데이터를 제1상부 기기에 전송한다(S40). 프로세서는 제1상부 기기가 요청한 제1데이터가 제1메모리에 저장되어 있는지 확인하며, 제1메모리 에 저장된 제1데이터를 바로 제1상부 기기에 전송할 수 있다. 상부 기기가 요청하는 데이터가 제1메모리에 저장되지 않은 경우는 도 5를 참조하여 설명한다. 본 발명의 일 실시예에 따르면, 하부 기기가 추가 및 삭제 되더라도 유지보수인에 의한 복잡한 엔지니어링 설계가 필요 없고, 상부 기기에서 요청한 데이터는 신속하게 응답할 수 있다. 또한, 엔지니어링 파일 재설정이나, 게이트웨이 재부팅 등 불필요한 절차가 필요 없는 바, 유지보수인은 엔지니 어링에 대한 심리적 스트레스를 받지 않고, 안전하게 시스템을 운영할 수 있다. 도 4는 본 발명의 일 실시예에 따른 지능형 게이트웨이의 동작 모습을 도시한 도면이다. 도 1과 관련하여 서술한 바와 같이, 게이트웨이는 복수의 상부 기기와 제1데이터 버스를 통해 통 신 연결되고, 복수의 하부 기기와 제2데이터 버스를 통해 통신 연결된다. 이때, 제1데이터 버스는 이더넷 통신을 위한 데이터 버스이고, 제2데이터 버스는 RS 485 통신을 위한 데이터 버스이다. RS 485 통신은 마스터-슬레이브 통신 방식으로 마스터에서 폴링 후 슬레이브에서 응답을 받아 통신을 하기 때문 에 데이터 충돌을 방지할 수 있고, 공정 제어 등 산업 현장에서는 적절한 통신속도가 확보되면서 통신에 대한 무결성을 보장할 수 있으므로 하부 기기와의 통신에 적합하다. 반면, 이더넷은 넓은 대역폭을 통해 더 많은 정 보를 빠르게 전달할 수 있으므로, 상부 기기와의 통신에 적합하다. 따라서, 게이트웨이는 상부 기기와는 빠른 이더넷 통신을 사용하며, 하부 기기와는 범용의 RS 485 통신을 사용하고 있다. 이를 위해, 도 4에 도시된 바와 같이, 게이트웨이의 통신부는 이터넷 인 터페이스와 RS 485 인터페이스를 구비할 수 있다. 이렇게 통신 속도가 서로 다른 매체간 통신을 원활하게 이어주는 역할을 하는 것도 게이트웨이를 사용하는 목적 중 하나이다. 즉 상부 기기와 하부 기기 간의 통신매체를 분리함으로써 복수의 상부 기기 에서 요청한 데이터를 실시간으로 응답할 수 있다. 도 4에 도시된 게이트웨이의 내부 동작 흐름도를 살펴보면 다음과 같다. 이때, 도 3 프로세서의 동작 흐름도와 동일한 바, 중복되는 내용에 대해서는 구체적인 설명은 생략한다. 게이트웨이는 먼저 이더넷 인터페이스를 통해 상부 기기로부터 요청 신호를 수신하면, 요청 신호들을 분석하여 제1메모리 내에 상부 기기 별 요청 데이터를 정렬을 하고, 그 중 메인 요청 데이터에 대한 리스트를 생성하여 제2메모리에 저장한다. 게이트웨이는 리스트를 이용하여 리스트에 나열된 순서대로 RS 485 인터페이스를 통해 대응하는 하부 기기로부터 요청 데이터를 수신하고, 수신한 데이터는 제1메모리 내에 상부 기기 별 응답 데이터로 저장한 다. 그리고, 상부 기기가 요청한 데이터를 다시 이더넷 인터페이스를 통해 상부 기기에 전달한다. 본 발명의 일 실시예에 따르면, 연결된 기기의 성능, 필요로 하는 통신 형태에 따라 달리 적용하여 통신 효율을 더욱 높일 수 있다. 도 5는 본 발명의 일 실시예에 따른 지능형 게이트웨이의 동작 흐름도를 도시한 도면이다. 도 5에서는 앞서 도 3의 S40과 관련하여 서술한 바와 같이, 상부 기기가 요청하는 데이터가 제1메모리 에 저장되지 않은 경우의 동작 과정에 대해 설명한다. 이때, 도 3 및 도 4의 프로세서의 동작과 중복 되는 내용에 대해서는 구체적인 설명은 생략한다. 본 발명의 일 실시예에 따르면, 프로세서는 상부 기기로부터 하부 기기의 데이터를 요청하는 요청 신호를 수신한다(S510). 본 발명의 일 실시예에 따르면, 프로세서는 요청 신호에 대응하는 요청 데이터가 제1메모리에 존재하 는지 확인한다(S520). 프로세서는 요청 데이터가 제1메모리에 존재하는 경우(S520의 Yes), 요청 데이터를 상부 기기에 전송 한다(S530). 프로세서는 요청 데이터가 제1메모리에 존재하지 않는 경우(S520의 No), 제1메모리에 상부 기기 가 요청한 데이터로 등록한다(S540). 프로세서는 제1메모리에 저장되지 않은 데이터를 요청하는 요청 신호(제2요청 신호라 한다.)를 수신 하면, 요청된 데이터에 대응하는 하부 기기에 데이터를 요청하여 상부 기기에 전송할 수 있다. 이때, 프로세서는 제2요청 신호에 대한 요청 횟수에 따라 메인 요청 데이터에 대한 리스트를 업데이트할 수 있다(S550). 앞서, 도 3의 S20과 관련하여 서술한 바와 같이, 프로세서는 요청 신호의 기 정의된 시간 내에 수신한 요청 횟수에 따라 메인 요청 데이터로 식별하고, 메인 요청 데이터에 대한 리스트에 해당 데이터를 추가할 수 있다. 반대로, 기 정의된 시간 동안 리스트에 포함된 데이터에 대한 요청이 없는 경우, 해당 데이터 는 리스트에서 삭제할 수 있다. 이를 통해, 게이트웨이는 하부 기기의 추가/삭제에 유연하게 대처할 수 있다. 따라서, 메인 요청 데이터는 시간에 따라 달라질 수 있는 바, 지속적으로 리스트를 업데이트할 수 있다. 이후, 프로세서는 리스트에 따라 순차적으로 하부 기기에 데이터를 요청하고(S560), 하부 기기로부터 수신 한 데이터를 제1메모리에 저장한다(S570). 프로세서는 리스트에 기재된 데이터를 모두 요청한 것인지 확인하고(S580), 아닌 경우(S580의 No) 모두 요 청될 때까지 S560 내지 S580의 동작을 반복한다. 추가 예로, 프로세서는 특정 하부 기기에 대한 특정 데이터를 가져오는 커맨드(Command)를 만들고, 리스트 이용에 제한이 있는 경우 등은 상부 기기에서 커맨드를 이용하여 바로 데이터를 요청하거나, 관련 하부 기기를 삭제 및 추가할 수 있다."}
{"patent_id": "10-2022-0127782", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 지능형 게이트웨이를 포함하는 시스템을 도시한 개략도이다. 도 2는 본 발명의 일 실시예에 따른 지능형 게이트웨이의 구성을 도시한 블럭도이다. 도 3은 본 발명의 일 실시예에 따른 지능형 게이트웨이의 동작 흐름도를 도시한 도면이다. 도 4는 본 발명의 일 실시예에 따른 지능형 게이트웨이의 동작 모습을 도시한 도면이다.도 5는 본 발명의 일 실시예에 따른 지능형 게이트웨이의 동작 흐름도를 도시한 도면이다."}
