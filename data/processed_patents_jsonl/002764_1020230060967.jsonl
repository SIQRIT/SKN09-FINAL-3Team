{"patent_id": "10-2023-0060967", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0163849", "출원번호": "10-2023-0060967", "발명의 명칭": "인공지능 기반 3차원 의료 영상 정합 방법 및 시스템", "출원인": "연세대학교 산학협력단", "발명자": "이상휘"}}
{"patent_id": "10-2023-0060967", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "3차원 의료 영상 데이터인 제1 영상 데이터와 제2 영상 데이터에서 추출된 랜드마크를 이용하여, 상기 제1 영상데이터와 제2 영상 데이터에 대한 랜드마크 기반 정합을 수행하는 단계,상기 랜드마크 기반 정합이 수행된 제1 영상 데이터와 제2 영상 데이터에 대해서 뼈 분할 값을 결정하는 단계,상기 제1 영상 데이터와 제2 영상 데이터에 대해 각각 결정된 뼈 분할 값을 이용하여, 상기 제1 영상 데이터와제2 영상 데이터에서 뼈 영역을 각각 분할하는 단계, 및상기 제1 영상 데이터와 제2 영상 데이터에서 분할된 뼈 영역을 이용하여 상기 제1 영상 데이터와 제2 영상 데이터에 대한 표면 격자 모델을 각각 생성하고, 상기 생성된 표면 격자 모델을 이용하여 상기 제1 영상 데이터와제2 영상 데이터에 대한 표면 격자 모델 기반 정합을 수행하는 단계를 포함하는 컴퓨팅 장치를 이용한 의료 영상 자동 정합 방법."}
{"patent_id": "10-2023-0060967", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에서,상기 뼈 분할 값을 결정하는 단계는,상기 제1 영상 데이터와 제2 영상 데이터에서 미리 정해진 뷰방향 및 위치에 해당하는 제1 슬라이스 영상과 제2슬라이스 영상을 획득하는 단계,상기 제1 슬라이스 영상에서 구해진 제1 인텐시티 프로파일 라인의 GMH(Gradient Measurement Height) 값과 상기 제2 슬라이스 영상에서 구해진 제2 인텐시티 프로파일 라인의 GMH 값을 측정하고, 미리 정해진 채택 조건을만족하면 측정된 GMH 값을 채택하는 단계, 및상기 제1 영상 데이터와 제2 영상 데이터 각각에 대해서 채택된 GMH 값의 평균 값을 각각의 뼈 분할 값으로 결정하는 단계를 포함하고,상기 제1 인텐시티 프로파일 라인과 제2 인텐시티 프로파일 라인은 상기 제1 슬라이스 영상과 제2 슬라이스 영상에서 위치가 대응되면서 뼈 영역을 통과하게 정해진 라인을 따라서 구해지는 인텐시티 값으로 이루어지고, 상기 GMH 값은 해당 인텐시티 프로파일 라인의 최고 기울기 위치에서의 인텐시티 값과 최저 기울기 위치에서의 인텐시티 값의 중간 값으로 측정되는 컴퓨팅 장치를 이용한 의료 영상 자동 정합 방법."}
{"patent_id": "10-2023-0060967", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 2 항에서,상기 채택 조건은,상기 제1 인텐시티 프로파일 라인과 제2 인텐시티 프로파일 라인의 기울기 값 분산 거리가 미리 정해진 기준 미만인 경우, 또는상기 제1 인텐시티 프로파일 라인과 제2 인텐시티 프로파일 라인의 기울기 값 분산 거리가 미리 정해진 기준 이상이면, 상기 제1 인텐시티 프로파일 라인과 제2 인텐시티 프로파일 라인에 대해 측정된 GMH 값의 차이가 미리정해진 기준 미만이면서, 상기 제1 인텐시티 프로파일 라인과 제2 인텐시티 프로파일 라인 중에서 기울기 분산값이 큰 인텐시티 프로파일 라인의 GMH 값이 다른 인텐시티 프로파일 라인의 GMH 값보다 작은 경우에 상기 제1GMH 값 및 제2 GMH 값을 채택하는 것으로 정해진 컴퓨팅 장치를 이용한 의료 영상 자동 정합 방법."}
{"patent_id": "10-2023-0060967", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "공개특허 10-2024-0163849-3-제 3 항에서,상기 제1 영상 데이터와 제2 영상 데이터에 대해서 채택된 GMH 값이 미리 정해진 개수가 될 때까지, 상기 GMH값을 채택하는 단계를 반복하는 컴퓨팅 장치를 이용한 의료 영상 자동 정합 방법."}
{"patent_id": "10-2023-0060967", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 4 항에서,상기 인텐시티 값은 Hounsfield Unit(HU) 값인 컴퓨팅 장치를 이용한 의료 영상 자동 정합 방법."}
{"patent_id": "10-2023-0060967", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 1 항에서,상기 제1 영상 데이터와 제2 영상 데이터에 대한 표면 격자 모델 기반 정합을 수행하는 단계는,상기 제1 영상 데이터와 제2 영상 데이터 사이에 차이가 없는 것으로 미리 설정된 변화 없는 영역을 추출하는단계,상기 변화 없는 영역에 대한 표면 격자 모델을 생성하는 단계, 및상기 변화가 없는 영역에 대한 표면 격자 모델에 ICP(Iterative Closed Point) 알고리즘을 적용하여 상기 제1영상 데이터와 제2 영상 데이터를 정합하는 단계를 포함하는 컴퓨팅 장치를 이용한 의료 영상 자동 정합 방법."}
{"patent_id": "10-2023-0060967", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제 6 항에서,상기 제1 영상 데이터는 수술 전 또는 치료 전 영상 데이터이고, 상기 제2 영상 데이터는 수술 또는 치료 후 영상 데이터이고,상기 변화 없는 영역은 수술 또는 치료 전후 변화가 없는 뼈 영역으로 미리 설정되며,상기 변화 없는 영역을 추출하기 위한 기준이 되는 복수 개의 랜드마크가 미리 정해져 있는 컴퓨팅 장치를 이용한 의료 영상 자동 정합 방법."}
{"patent_id": "10-2023-0060967", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 1 항에서,상기 표면 격자 모델 기반 정합을 수행한 후, 상기 제1 영상 데이터와 제2 영상 데이터에 대해서 복셀 기반 정합을 수행하는 단계를 더 포함하는 의료 영상 자동 정합 방법."}
{"patent_id": "10-2023-0060967", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "컴퓨터 판독 가능 기록매체에 저장된 컴퓨터 프로그램에서,적어도 하나의 프로세서에 의해 실행되면, 제1항 내지 제8항 중 어느 한 항에 기재된 방법을 실행시키는 컴퓨터프로그램."}
{"patent_id": "10-2023-0060967", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "3차원 의료 영상 데이터인 제1 영상 데이터와 제2 영상 데이터에서 추출된 랜드마크를 이용하여, 상기 제1 영상데이터와 제2 영상 데이터에 대한 랜드마크 기반 정합을 수행하는 랜드마크 기반 정합부,상기 랜드마크 기반 정합이 수행된 제1 영상 데이터와 제2 영상 데이터에 대해서 뼈 분할 값을 결정하고, 상기제1 영상 데이터와 제2 영상 데이터에 대해 각각 결정된 뼈 분할 값을 이용하여, 상기 제1 영상 데이터와 제2영상 데이터에서 뼈 영역을 각각 분할하는 뼈 분할부, 및상기 제1 영상 데이터와 제2 영상 데이터에서 분할된 뼈 영역을 이용하여 상기 제1 영상 데이터와 제2 영상 데공개특허 10-2024-0163849-4-이터에 대한 표면 격자 모델을 각각 생성하고, 상기 생성된 표면 격자 모델을 이용하여 상기 제1 영상 데이터와제2 영상 데이터에 대한 표면 격자 모델 기반 정합을 수행하는 표면 격자 모델 기반 정합부를 포함하는 의료 영상 자동 정합 장치."}
{"patent_id": "10-2023-0060967", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제 10 항에서,상기 뼈 분할부는,상기 제1 영상 데이터와 제2 영상 데이터에서 미리 정해진 뷰방향 및 위치에 해당하는 제1 슬라이스 영상과 제2슬라이스 영상을 획득하고, 상기 제1 슬라이스 영상에서 구해진 제1 인텐시티 프로파일 라인의 GMH 값과 상기제2 슬라이스 영상에서 구해진 제2 인텐시티 프로파일 라인의 GMH 값을 측정하여 미리 정해진 채택 조건을 만족하면 측정된 GMH 값을 채택하며, 상기 제1 영상 데이터와 제2 영상 데이터 각각에 대해서 채택된 GMH 값의 평균값을 각각의 뼈 분할 값으로 결정하고,상기 제1 인텐시티 프로파일 라인과 제2 인텐시티 프로파일 라인은 상기 제1 슬라이스 영상과 제2 슬라이스 영상에서 위치가 대응되면서 뼈 영역을 통과하게 정해진 라인을 따라서 구해지는 인텐시티 값으로 이루어지고, 상기 GMH 값은 해당 인텐시티 프로파일 라인의 최고 기울기 위치에서의 인텐시티 값과 최저 기울기 위치에서의 인텐시티 값의 중간 값으로 측정되는 의료 영상 자동 정합 장치."}
{"patent_id": "10-2023-0060967", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제 11 항에서,상기 채택 조건은,상기 제1 인텐시티 프로파일 라인과 제2 인텐시티 프로파일 라인의 기울기 값 분산 거리가 미리 정해진 기준 미만인 경우, 또는상기 제1 인텐시티 프로파일 라인과 제2 인텐시티 프로파일 라인의 기울기 값 분산 거리가 미리 정해진 기준 이상이면, 상기 제1 인텐시티 프로파일 라인과 제2 인텐시티 프로파일 라인에 대해 측정된 GMH 값의 차이가 미리정해진 기준 미만이면서, 상기 제1 인텐시티 프로파일 라인과 제2 인텐시티 프로파일 라인 중에서 기울기 분산값이 큰 인텐시티 프로파일 라인의 GMH 값이 다른 인텐시티 프로파일 라인의 GMH 값보다 작은 경우에 상기 제1GMH 값 및 제2 GMH 값을 채택하는 것으로 정해진 의료 영상 자동 정합 장치."}
{"patent_id": "10-2023-0060967", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제 12 항에서,상기 뼈 분할부는,상기 제1 영상 데이터와 제2 영상 데이터에 대해서 채택된 GMH 값이 미리 정해진 개수가 될 때까지, 상기 GMH값을 채택하는 것을 반복하는 의료 영상 자동 정합 장치."}
{"patent_id": "10-2023-0060967", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제 13 항에서,상기 인텐시티 값은 Hounsfield Unit(HU) 값인 의료 영상 자동 정합 장치."}
{"patent_id": "10-2023-0060967", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제 10 항에서,상기 표면 격자 모델 기반 정합부는,상기 제1 영상 데이터와 제2 영상 데이터 사이에 차이가 없는 것으로 미리 설정된 변화 없는 영역을 추출하고,상기 변화 없는 영역에 대한 표면 격자 모델을 생성하며, 상기 변화가 없는 영역에 대한 표면 격자 모델에ICP(Iterative Closed Point) 알고리즘을 적용하여 상기 제1 영상 데이터와 제2 영상 데이터를 정합하는 의료영상 자동 정합 장치.공개특허 10-2024-0163849-5-청구항 16 제 15 항에서,상기 제1 영상 데이터는 수술 전 또는 치료 전 영상 데이터이고, 상기 제2 영상 데이터는 수술 후 또는 치료 후영상 데이터이고,상기 변화 없는 영역은 수술 전후 또는 치료 전후 변화가 없는 뼈 영역으로 미리 설정되며,상기 변화 없는 영역을 추출하기 위한 기준이 되는 복수 개의 랜드마크가 미리 정해져 있는 컴퓨팅 장치를 이용한 의료 영상 자동 정합 장치."}
{"patent_id": "10-2023-0060967", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제 10 항에서,상기 표면 격자 모델 기반 정합을 수행한 후, 상기 제1 영상 데이터와 제2 영상 데이터에 대해서 복셀 기반 정합을 수행하는 복셀 기반 정합부를 더 포함하는 의료 영상 자동 정합 장치."}
{"patent_id": "10-2023-0060967", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "프로세서, 메모리 및 상기 메모리에 저장되어 상기 프로세서에서 실행될 수 있는 프로그램 또는 명령을 포함하는 컴퓨팅 장치에서,상기 프로그램 또는 명령이 상기 프로세서에 의해 실행될 경우, 제1항 내지 제8항 중 어느 한 항에 기재된 방법을 구현하는 컴퓨팅 장치."}
{"patent_id": "10-2023-0060967", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 인공지능 기반 3차원 의료 영상 정합 방법 및 시스템에 관한 것으로, 본 발명에 따른 방법은 3차원 의 료 영상 데이터인 제1 영상 데이터와 제2 영상 데이터에서 추출된 랜드마크를 이용하여, 제1 영상 데이터와 제2 영상 데이터에 대한 랜드마크 기반 정합을 수행하는 단계, 랜드마크 기반 정합이 수행된 제1 영상 데이터와 제2 영상 데이터에 대해서 뼈 분할 값을 결정하는 단계, 제1 영상 데이터와 제2 영상 데이터에 대해 각각 결정된 뼈 분할 값을 이용하여, 제1 영상 데이터와 제2 영상 데이터에서 뼈 영역을 각각 분할하는 단계, 및 제1 영상 데이 터와 제2 영상 데이터에서 분할된 뼈 영역을 이용하여 제1 영상 데이터와 제2 영상 데이터에 대한 표면 격자 모 델을 각각 생성하고, 생성된 표면 격자 모델을 이용하여 제1 영상 데이터와 제2 영상 데이터에 대한 표면 격자 모델 기반 정합을 수행하는 단계를 포함한다."}
{"patent_id": "10-2023-0060967", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 의료 영상 정합 방법 및 시스템에 관한 것으로, 보다 자세하게는 인공지능 기반 3차원 의료 영상 정 합 방법 및 시스템에 관한 것이다."}
{"patent_id": "10-2023-0060967", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "의과와 치과의 수술, 예를 들어 구강악안면외과에서의 수술 전후 영상의 정합은 치료 평가 및 이해를 위해 매우 중요한 단계이다. 실제 전문가들은 이런 작업들을 상용 프로그램들을 이용하여 수행하게 된다. 그런데 수술 전 후의 변화가 심한 데이터 정합의 경우 정합에 실패하는 경우가 발생하며, 이럴 경우 시간 소모가 많은 수작업으 로 조정이 필요해 의료 전문가의 피로를 증가 시킨다. 한편 CT(Computed Tomography) 데이터 재구성(reconstruction)과정에서 제조사 고유의 콘볼루션 커널 (convolution kernel) 등을 사용하여 각 해당 영상 특성들을 재구성해준다. 예를 들어 뼈에 대한 경계 부분을 잘 보여주는 샤프(sharp)한 이미지를 얻을 수 있고, 피부, 혈관 그리고 신경 등을 잘 보여주는 스무드(smooth) 한 이미지를 얻을 수 있다. 의료현장에서는 항상 일정한 이미지 특성 간 정합이 이루어지지 않기 때문에, 정합 작업 시에 sharp 이미지와 smooth 이미지 간 정합을 수행할 경우 같은 이미지 특성을 가지는 이미지 보다 열악 한 정합 품질을 보여준다."}
{"patent_id": "10-2023-0060967", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명이 해결하고자 하는 기술적 과제는 인공지능 기반 3차원 의료 영상 정합 방법 및 시스템을 제공하는 것 이다."}
{"patent_id": "10-2023-0060967", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명에 따른 컴퓨팅 장치를 이용한 의료 영상 자동 정합 방법은, 3차원 의료 영상 데이터인 제1 영상 데이터 와 제2 영상 데이터에서 추출된 랜드마크를 이용하여, 상기 제1 영상 데이터와 제2 영상 데이터에 대한 랜드마 크 기반 정합을 수행하는 단계, 상기 랜드마크 기반 정합이 수행된 제1 영상 데이터와 제2 영상 데이터에 대해 서 뼈 분할 값을 결정하는 단계, 상기 제1 영상 데이터와 제2 영상 데이터에 대해 각각 결정된 뼈 분할 값을 이 용하여, 상기 제1 영상 데이터와 제2 영상 데이터에서 뼈 영역을 각각 분할하는 단계, 및 상기 제1 영상 데이터 와 제2 영상 데이터에서 분할된 뼈 영역을 이용하여 상기 제1 영상 데이터와 제2 영상 데이터에 대한 표면 격자 모델을 각각 생성하고, 상기 생성된 표면 격자 모델을 이용하여 상기 제1 영상 데이터와 제2 영상 데이터에 대 한 표면 격자 모델 기반 정합을 수행하는 단계를 포함한다. 상기 뼈 분할 값을 결정하는 단계는, 상기 제1 영상 데이터와 제2 영상 데이터에서 미리 정해진 뷰방향 및 위치 에 해당하는 제1 슬라이스 영상과 제2 슬라이스 영상을 획득하는 단계, 상기 제1 슬라이스 영상에서 구해진 제1 인텐시티 프로파일 라인의 GMH(Gradient Measurement Height) 값과 상기 제2 슬라이스 영상에서 구해진 제2 인 텐시티 프로파일 라인의 GMH 값을 측정하고, 미리 정해진 채택 조건을 만족하면 측정된 GMH 값을 채택하는 단계, 및 상기 제1 영상 데이터와 제2 영상 데이터 각각에 대해서 채택된 GMH 값의 평균 값을 각각의 뼈 분할 값으로 결정하는 단계를 포함할 수 있다. 상기 제1 인텐시티 프로파일 라인과 제2 인텐시티 프로파일 라인은 상기 제1 슬라이스 영상과 제2 슬라이스 영 상에서 위치가 대응되면서 뼈 영역을 통과하게 정해진 라인을 따라서 구해지는 인텐시티 값으로 이루어지고, 상 기 GMH 값은 해당 인텐시티 프로파일 라인의 최고 기울기 위치에서의 인텐시티 값과 최저 기울기 위치에서의 인 텐시티 값의 중간 값으로 측정될 수 있다. 상기 채택 조건은, 상기 제1 인텐시티 프로파일 라인과 제2 인텐시티 프로파일 라인의 기울기 값 분산 거리가 미리 정해진 기준 미만인 경우, 또는 상기 제1 인텐시티 프로파일 라인과 제2 인텐시티 프로파일 라인의 기울기 값 분산 거리가 미리 정해진 기준 이상이면, 상기 제1 인텐시티 프로파일 라인과 제2 인텐시티 프로파일 라인에 대해 측정된 GMH 값의 차이가 미리 정해진 기준 미만이면서, 상기 제1 인텐시티 프로파일 라인과 제2 인텐시티 프로파일 라인 중에서 기울기 분산 값이 큰 인텐시티 프로파일 라인의 GMH 값이 다른 인텐시티 프로파일 라인의 GMH 값보다 작은 경우에 상기 제1 GMH 값 및 제2 GMH 값을 채택하는 것으로 정해질 수 있다. 상기 방법에서 상기 제1 영상 데이터와 제2 영상 데이터에 대해서 채택된 GMH 값이 미리 정해진 개수가 될 때까 지, 상기 GMH 값을 채택하는 단계를 반복할 수 있다. 상기 인텐시티 값은 Hounsfield Unit(HU) 값일 수 있다. 상기 제1 영상 데이터와 제2 영상 데이터에 대한 표면 격자 모델 기반 정합을 수행하는 단계는, 상기 제1 영상 데이터와 제2 영상 데이터 사이에 차이가 없는 것으로 미리 설정된 변화 없는 영역을 추출하는 단계, 상기 변화 없는 영역에 대한 표면 격자 모델을 생성하는 단계, 및 상기 변화가 없는 영역에 대한 표면 격자 모델에 ICP(Iterative Closed Point) 알고리즘을 적용하여 상기 제1 영상 데이터와 제2 영상 데이터를 정합하는 단계를 포함할 수 있다. 상기 제1 영상 데이터는 수술 전 또는 치료 전 영상 데이터이고, 상기 제2 영상 데이터는 수술 후 또는 치료 후 영상 데이터일 수 있다. 상기 변화 없는 영역은 수술 전후 또는 치료 전후 변화가 없는 뼈 영역으로 미리 설정될 수 있다. 상기 변화 없는 영역을 추출하기 위한 기준이 되는 복수 개의 랜드마크가 미리 정해져 있을 수 있다. 상기 방법은, 상기 표면 격자 모델 기반 정합을 수행한 후, 상기 제1 영상 데이터와 제2 영상 데이터에 대해서 복셀 기반 정합을 수행하는 단계를 더 포함할 수 있다. 본 발명에 따른 의료 영상 자동 정합 장치는 3차원 의료 영상 데이터인 제1 영상 데이터와 제2 영상 데이터에서 추출된 랜드마크를 이용하여, 상기 제1 영상 데이터와 제2 영상 데이터에 대한 랜드마크 기반 정합을 수행하는 랜드마크 기반 정합부, 상기 랜드마크 기반 정합이 수행된 제1 영상 데이터와 제2 영상 데이터에 대해서 뼈 분 할 값을 결정하고, 상기 제1 영상 데이터와 제2 영상 데이터에 대해 각각 결정된 뼈 분할 값을 이용하여, 상기 제1 영상 데이터와 제2 영상 데이터에서 뼈 영역을 각각 분할하는 뼈 분할부, 및 상기 제1 영상 데이터와 제2 영상 데이터에서 분할된 뼈 영역을 이용하여 상기 제1 영상 데이터와 제2 영상 데이터에 대한 표면 격자 모델을 각각 생성하고, 상기 생성된 표면 격자 모델을 이용하여 상기 제1 영상 데이터와 제2 영상 데이터에 대한 표면 격자 모델 기반 정합을 수행하는 표면 격자 모델 기반 정합부를 포함한다."}
{"patent_id": "10-2023-0060967", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 의하면 치료 전과정의 의료 영상 데이터에 대한 정합을 정확하게 수행할 수 있다. 특히 임상 전-주기 과정에서 획득된 서로 특성이 다른 영상 간의 정합 품질을 향상시킬 수 있다. 아울러 임상의 등 전문가의 개입 을 없애거나 최소화하면서 의료 영상 정합을 빠르게 처리할 수 있다."}
{"patent_id": "10-2023-0060967", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하 첨부한 도면을 참고로 하여 본 발명의 실시예에 대하여 본 발명이 속하는 기술 분야에서 통상의 지식을 가 진 자가 용이하게 실시할 수 있도록 상세히 설명한다. 본 명세서에서 사용된 용어는 실시예들을 설명하기 위한 것이며 본 발명을 제한하고자 하는 것은 아니다. 본 명 세서에서, 단수형은 문구에서 특별히 언급하지 않는 한 복수형도 포함한다. 명세서에서 사용되는 \"포함한다 (comprises)\" 및/또는 \"포함하는(comprising)\"은 언급된 구성요소 외에 하나 이상의 다른 구성요소의 존재 또는 추가를 배제하지 않는다. 명세서 전체에 걸쳐 동일한 도면 부호는 동일한 구성 요소를 지칭하며, \"및/또는\"은 언급된 구성요소들의 각각 및 하나 이상의 모든 조합을 포함한다. 비록 \"제1\", \"제2\" 등이 다양한 구성요소들을 서술하기 위해서 사용되나, 이들 구성요소들은 이들 용어에 의해 제한되지 않음은 물론이다. 이들 용어들은 단 지 하나의 구성요소를 다른 구성요소와 구별하기 위하여 사용하는 것이다. 따라서, 이하에서 언급되는 제1 구성 요소는 본 발명의 기술적 사상 내에서 제2 구성요소일 수도 있음은 물론이다. 본 명세서에서 \"컴퓨팅 장치\"는 연산처리를 수행하여 사용자에게 결과를 제공할 수 있는 다양한 장치들이 모두 포함된다. 예를 들어, 컴퓨팅 장치는 데스크 탑 PC, 노트북(Note Book) 컴퓨터, 서버 컴퓨터뿐만 아니라 스마트 폰(Smart phone), 태블릿 PC, 셀룰러폰(Cellular phone), 피씨에스폰(PCS phone; Personal Communication Service phone), 동기식/비동기식 IMT-2000(International Mobile Telecommunication-2000)의 이동 단말기, 팜 PC(Palm Personal Computer), 개인용 디지털 보조기(PDA; Personal Digital Assistant) 등도 해당될 수 있다. 도 1은 본 발명의 일 실시예에 따른 3차원 의료 영상 정합 방법에 이용되는 컴퓨팅 장치의 구성을 개략적으로 나타낸 도면이다. 도 1을 참고하면, 컴퓨팅 장치는 적어도 하나의 메모리, 적어도 하나의 프로세서, 랜드마크 기 반 정합부, 뼈 분할부, 표면 격자 모델 기반 정합부 및 복셀 기반 정합부를 포함할 수 있 다. 적어도 하나의 메모리는 적어도 하나 이상의 인스트럭션(Instruction)을 저장할 수 있다. 또한 메모리 는 컴퓨팅 장치에서 3차원 의료 영상 정합 방법 구현과 관련된 각종 작업에 이용되는 프로그램 및 데 이터를 저장할 수 있다. 적어도 하나의 프로세서는 메모리에 저장된 인스트럭션에 대응하는 프로세스를 실행할 수 있다. 적어 도 하나의 프로세서는 메모리에 저장된 인스트럭션들을 실행하여 랜드마크 기반 정합부, 뼈 분 할부, 표면 격자 모델 기반 정합부 및 복셀 기반 정합부에서 3차원 의료 영상 정합 방법과 관련 된 작업이 실행되게 할 수 있다. 여기서 3차원 의료 영상은 두부(Skull) 등과 같은 신체 부위를 촬영하여 획득된 데이터로서, CT(Computed Tomography), CBCT(Cone Beam Computed Tomography), MRI(Magnetic resonance imaging), PET(Positron Emission Tomography) 또는 SPECT(Single-Photon Emission Computed Tomography) 등의 타입으로 획득된 3차원 영상 데이터일 수 있다. 여기서 3차원 의료 영상 정합은, 예를 들어 구강악안면 양악 수술에서 치료 평가를 위해 수술 전 영상과 수술 후 영상을 정합하는 것과 같이, 동일 환자에 대해 서로 다른 시점에 촬영된 3차원 의료 영상을 정합하는 것일 수 있다. 물론 반드시 수술 전후 영상을 정합하는 것 외에도 치료 전과정 중 서로 다른 시점(예컨대 치료 전과 치료 후)에 촬영된 의료 영상을 정합하는 것도 포함된다. 도 2는 본 발명의 일 실시예에 따른 3차원 의료 영상 정합 방법을 설명하기 위해 제공되는 흐름도이다. 도 1 및 도 2를 참고하면, 먼저 랜드마크 기반 정합부는 3차원 의료 영상 데이터인 제1 영상 데이터와 제2 영상 데이터에 대해서 랜드마크 기반 정합을 수행할 수 있다(S210). 랜드마크 기반 정합부는 제1 영상 데이터와 제2 영상 데이터에서 각각 미리 정해진 해부학적 랜드마크들 (예를 들어 Bregma, Nasion, Sella turcica, Porion, Orbitale 등으로 미리 정해져 있을 수 있음)을 추출하고, 추출된 랜드마크들을 이용하여 제1 영상 데이터와 제2 영상 데이터를 정합할 수 있다. 단계(S210)에서 랜드마크 기반 정합을 위해 추출되는 랜드마크들은 정합 대상인 제1 영상 데이터와 제2 영상 데 이터 사이에 차이가 없는 영역, 즉 변화 없는 영역에 위치하는 랜드마크로 미리 정해져 있을 수 있다. 예를 들 어 제1 영상 데이터와 제2 영상 데이터가 수술 전후 영상인 경우, 수술 전후에 변화가 없는 영역에서 랜드마크 들을 추출하여 두 영상을 정합하도록 구현할 수 있다. 단계(S210)에서 랜드마크 기반 정합은, 간단하게는 제1 영상 데이터 또는 제2 영상 데이터 중 하나를 고정시키 고, 동일한 랜드마크 간의 거리 차이만큼 고정된 영상 데이터 쪽으로 다른 영상 데이터를 이동(translation) 시 키는 방식으로 수행될 수 있다. 또는 최소 자승 적합(least square fitting) 방식으로 두 영상에서 추출된 랜드 마크 쌍들 간의 거리 차이가 최소가 되도록 정합시킬 수도 있다. 물론 여기서 설명한 것 외에 기존에 알려져 있 거나 새로 개발되는 랜드마크 기반 정합 방식을 채택하는 것도 가능하다. 한편 의료 영상 데이터에서 해부학적 랜드마크 추출은 기계 학습, 딥 러닝(Deep Learning) 등과 같은 인공지능 기술을 이용하여 구현할 수 있다. 예를 들어 전문의 등에 의해 랜드마크가 라벨링(labelling)된 3차원 의료 영 상 데이터로 학습 데이터를 구축하고, 신경망 모델이 랜드마크를 자동으로 추출하도록 학습 데이터를 이용하여 훈련시킬 수 있다. 랜드마크 기반 정합부는 미리 훈련된 신경망 모델을 이용하여 제1 영상 데이터와 제2 영상 데이터의 정합에 사용할 해부학적 랜드마크를 양 영상 데이터에서 자동으로 추출할 수 있다. 신경망 모델은 콘볼루션 신경망(Convolution neural network) 모델, AlexNet, VGGNet, GoogLeNet, ResNet 등과 같은 심층 CNN 모델, double deep Q-network 등을 이용할 수 있으며, 여기서 예시한 것 외에 다른 신경망 모델 을 이용하는 것도 가능하다. 단계(S210)에서 랜드마크 기반 정합을 위해 추출되는 랜드마크의 정확도가 떨어질 경우, 단계(S210)에서 수행된 랜드마크 기반 정합의 정확도가 떨어질 수 있다. 따라서 랜드마크 기반 정합(S210)이 된 상태에서, 두 영상 간 의 정밀한 정합을 위해서 표면 격자 모델 기반 정합을 추가로 수행할 수 있다. 표면 격자 모델은 제1 영상 데이 터와 제2 영상 데이터에서 분할(segmentation)된 뼈 영역을 이용하여 생성할 수 있다. 다시 도 2를 참고하면, 뼈 분할부는 제1 영상 데이터와 제2 영상 데이터 각각에 대해서 뼈 분할 값을 결정 할 수 있다(S220). 여기서 뼈 분할 값은 의료 영상 데이터에서 뼈 경계를 특정하기 위해 사용되는 인텐시티 (intensity) 임계값을 의미한다. 뼈 분할 값은 HMH (Half Maximum Height) 프로토콜 방법에 의해 결정되거나, 또는 GMH (Gradient Measurement Height) 프로토콜 방법에 의해 결정될 수 있다. HMH 프로토콜 방법은 CT 데이터의 단면 인텐시티 프로파일의 최대 및 최소 인텐시티 값의 평균값을 임계값(HMH 값)으로 설정하는 방법으로, 인류학(Anthropology) 등에서 화석 등의 CT 데이터에서 형태학적 분석을 위한 모델링 작업을 위해 뼈 분할 값을 측정하는 방법으로 광범위하게 사용된다. 도 3에서 보면, 해당 인텐시티 프로파일 라인에서 최대값 '1840'과 최소값 '0'의 중간 값인 '920'로 HMH 값이 측정된 예를 나타내고 있다. 그러나 실제 환자의 신체를 촬영한 임상 데이터는 HMH 프로토콜 방법이 주로 사용되는 화석과 같이 뼈와 공기로만 이루어져 있지 않기 때문에, 측정하고자 하는 ROI(Region of interest)를 잘 선택해야 하는 문제가 있다. 그리고 영상 노 이즈가 강한 sharp 영상 같은 경우에는 노이즈에 의한 높은 피크 값(Peak value)들이 존재하게 되는데, 그런 경 우 프로파일의 최대, 최소의 평균으로 측정되는 HMH 값은 부정확한 뼈 분할 값을 나타낼 수 있다. 따라서 sharp 영상과 smooth 영상의 이종 정합의 경우에 양 영상에서 측정된 HMH 값으로 뼈 분할을 할 경우 표면 격자 모델의 크기가 상이하게 된다. 이로 인해 표면 격자 모델 기반 정합에서 부정확한 결과를 초래하게 되는 문제가 있다. 본 발명에서는 HMH 프로토콜에 의한 뼈 분할 값 결정의 문제를 해결하기 위해서 GMH (Gradient Measurement Height) 프로토콜 방법을 제안한다. 도 4는 본 발명의 일 실시예에 따른 GMH 프로토콜에 의한 뼈 분할 값을 결정하는 방법을 나타낸 흐름도이다. 도 4를 참고하면, 먼저 뼈 분할부는 제1 영상 데이터와 제2 영상 데이터로부터 미리 정해진 뷰방향 및 위 치에 해당하는 제1 슬라이스 영상과 제2 슬라이스 영상을 획득할 수 있다(S221). 단계(S221)에서 슬라이스 영상을 획득하는 뷰방향 및 위치는 정합하려는 두 영상 사이에 변화가 없는 영역에서 인텐시티 프로파일 라인을 획득할 수 있도록 미리 정해진다. 그리고 균일한 조직으로 이루어진 영역에서 인텐시 티 프로파일 라인이 안정적으로 획득할 수 있다. 따라서 수술 전후 변화가 없으면서 공기가 포함되지 않고 뼈와 상대적으로 균일한 조직으로 이루어진 영역에서 슬라이스 영상을 획득할 수 있도록, 슬라이스 영상을 획득하는 뷰방향 및 위치가 정해지는 것이 바람직하다. 이를 위해 인텐시티 프로파일 라인을 획득하기 위한 슬라이스 영 상의 뷰방향 및 위치는 수술 종류나 신체 부위 등을 고려하여 임상의 등 전문가에 의해 미리 설정될 수 있다. 그러면 구강악안면 양악 수술 전후 영상의 정합을 위한 인텐시티 프로파일 라인을 획득하기 위한 슬라이스 영상 의 뷰방향 및 위치를 정한 예에 대해 설명한다. 도 5는 본 발명의 일 실시예에 따른 수술 전후 영상의 정합을 위해 획득된 슬라이스 영상을 예시적으로 나타낸 것이다. [수학식 1]"}
{"patent_id": "10-2023-0060967", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "수학식 1에서 s() 함수는 해당하는 물리 좌표를 복셀 인덱스로 반환해주는 함수이며, Saxial은 예측된 Nasion과 Bregma의 z좌표 사이의 상위 80% 위치(도 5의 좌측에 나타낸 Sagittal 뷰 참조)에서 axial 뷰방향의 슬라이스 영상을 나타낸다. 수학식 1으로 얻게 되는 axial 뷰방향의 슬라이스 영상은 도 5의 우측에 나타낸 것과 같다. 상위 80% 위치는 전두동(frontal sinus)을 포함하지 않으며, 상대적으로 균일한 조직들로 이루어진 영역으로 구 강악안면 양악 수술에서 변화가 없거나 적은 영역으로, 인텐시티 프로파일 라인을 취득할 때 안정적인 프로파일 라인을 얻을 수 있다. 다시 도 3을 참고하면, 뼈 분할부는 제1 슬라이스 영상과 제2 슬라이스 영상에서 구해진 제1 인텐시티 프 로파일 라인 및 제2 인텐시티 프로파일 라인 각각의 GMH (Gradient Measurement Height) 값을 측정할 수 있다 (S223). 도 6은 본 발명의 일 실시예에 따른 슬라이스 영상에서 구해지는 인텐시티 프로파일 라인을 설명하기 위한 도면 이다. 도 6의 위쪽에는 앞서 도 5에서 선택된 axial 뷰 슬라이스 영상에 대해 소정의 전처리를 수행한 결과를 나타내 고 있다. 슬라이스 영상에서 피부, 뇌 실질 그리고 뼈 등의 물성들을 포함하지 않는 HU 값으로 폐에 해당하는 \"-700\" 값 미만으로 마스킹 처리하고 해당 마스크 인덱스들은 프로파일 라인의 시작 포인트로 사용한다. 관심 있는 영역인 뼈를 측정하기 위한 음수 값에 해당하는 HU 값들은 0으로 클립(Clip) 처리한다. 도 6의 위쪽을 참고하면, 전처리 후 axial 뷰 슬라이스 영상에서 뼈의 바깥에 위치한 시작 포인트(Profile line start)에서 중앙에 위치한 종료 포인트(Profile line end)를 연결하도록 정해진 라인을 따라서 인텐시티 값을 측정하여 도 6의 아래쪽에 나타낸 것과 같은 인텐시티 프로파일 라인을 구할 수 있다. 뼈 분할부는 제1 슬라이스 영상과 제2 슬라이스 영상에서 구해진 인텐시티 프로파일 라인 쌍 각각의 GMH (Gradient Measurement Height) 값을 인텐시티 프로파일 라인의 기울기(gradient) 기반으로 측정할 수 있다. 도 7은 인텐시티 프로파일 라인과 해당 인텐시티 프로파일 라인의 기울기 프로파일을 나타낸 것이다. 도 7을 참고하면, 라인은 HU 값으로 이루어진 인텐시티 프로파일 라인이고, 라인은 인텐시티 프로파 일 라인의 기울기 값으로 이루어진 인텐시티 기울기(gradient) 프로파일을 나타낸다. GMH 값은 해당 인텐시티 프로파일 라인에서 최고 기울기 위치의 인텐시티 값과 최저 기울기 위치의 인텐시티 값의 중간 값으로 측정할 수 있다. 인텐시티 프로파일 라인에서 최고 기울기 위치는 인텐시티 기울기 프로파일 라인의 값이 가장 큰 위치에 해당한다. 그리고 인텐시티 프로파일 라인에서 최저 기울기 위치는 인텐시티 기울기 프로파일 라인의 값이 가장 작은 위치에 해당한다. 따라서 위치(721, 722)에 대응하는 인텐시티 프로 파일 라인의 위치(711, 712)에 해당하는 인텐시티 값의 중간 값으로 GMH 값을 측정할 수 있다. GMHrise와 GMHfall의 상호 인텐시티 HU값이 다르기 때문에, 만약 GMHrise > GMHfall 이면, 수학식 2로 GMH 값을 구할 수 있다. 반대의 경우에는 수학식 3을 이용하여 GMH 값을 구할 수 있다. [수학식 2]"}
{"patent_id": "10-2023-0060967", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "[수학식 3]"}
{"patent_id": "10-2023-0060967", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "다음으로 뼈 분할부는 앞서 측정된 GMH 값이 미리 정해진 채택 조건을 만족하는지 확인하고, 만족하면 측 정된 GMH 값을 채택한다(S225). 임상 전-주기 정합을 하게 되면 동일한 특성을 가지는 영상 간 정합을 기대하기 힘들기 때문에, 양 영상에서 구 해진 인텐시티 프로파일 라인의 특성을 분석하여 노이즈가 많은 프로파일에서 구해진 GMH 값은 제외하고 비슷한 특성을 가지는 인텐시티 프로파일 라인 쌍에서 구해진 GMH 값만을 채택하여 뼈 분할 값을 결정하는데 사용하는 것이 바람직하다. Sharp 영상과 smooth 영상의 인텐시티 프로파일 라인의 기울기 값 분산은 각 프로파일의 특성을 반영하게 된다. 항상 문제가 되는 sharp 영상의 노이즈로 인해 인텐시티 프로파일 라인의 기울기 값 분산이 높은 점에 주목해서, 정합해야 할 각 프로파일 라인의 기울기 값 분산의 차이, 즉 기울기 값 분산 거리에 따라 GMH 값 채 택 조건을 다르게 적용할 수 있다. 먼저 상대가 있는 인텐시티 기울기 프로파일 간의 기울기 값 분산 거리를 다음과 같이 구할 수 있다. [수학식 4]"}
{"patent_id": "10-2023-0060967", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "[수학식 5]"}
{"patent_id": "10-2023-0060967", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "수학식 4에서 movvar은 정합 시 이동해야 할 영상에서 선택된 인텐시티 프로파일 라인의 기울기 값 분산을 의미 하고, fixvar은 정합 시 고정된 영상에서 선택된 인텐시티 프로파일 라인의 기울기 값 분산을 의미한다. dist() 함수는 두 값의 차이의 크기, 즉 절대 거리를 반환해주는 함수이다. Dratio는 기울기 값 분산 거리를 최고 분산 값(movvar과 fixvar중에서 큰 값)으로 나누어서 두 분산 간의 거리를 0과 1사이로 정량적으로 표현해준다. GMH 값 채택 조건은 다음과 같이 정해질 수 있다. 1) Dratio의 값이 0.5 미만인 경우 Dratio의 값이 0.5 미만인 경우, 즉 인텐시티 프로파일 라인의 기울기 값 분산의 거리가 미리 정해진 기준 미만인 경우, 양 인텐시티 프로파일 라인의 특성이 서로 비슷하므로 GMH 값을 채택한다. 2) Dratio의 값이 0.5 이상인 경우 Dratio의 값이 0.5 이상인 경우, 즉 인텐시티 프로파일 라인의 기울기 값 분산의 거리가 미리 정해진 기준 이상인 경우, sharp 영상과 smooth 영상과 같이 서로 다른 특성을 가진 영상 간 정합일 수 있으며 이 경우 노이즈가 큰 sharp 영상에서 높은 피크 값들로 인한 급격한 기울기 변화로 인해서 부정확한 GMH 값이 측정될 수 있다. 노이 즈가 강한 프로파일에서 기울기 값 분산이 큰 경향이 있으므로, 양 인텐시티 프로파일 라인 중에서 기울기 값 분산이 큰 쪽이 sharp 영상에 해당하는 것으로 판단할 수 있다. 따라서 기울기 값 분산이 큰 인텐시티 프로파일 라인의 GMH 값이 기울기 값 분산이 작은 인텐시티 프로파일 라 인의 GMH 값보다 작으면, 해당 GMH 값을 채택한다. 다만 이 경우에도 양 인텐시티 프로파일 라인의 GMH 값의 차 이가 미리 정해진 기준 이상이면 배제할 수 있다. 한편 기울기 값 분산이 큰 인텐시티 프로파일 라인의 GMH 값이 기울기 값 분산이 작은 인텐시티 프로파일 라인 의 GMH 값보다 크면, 해당 GMH 값을 배제한다. 도 3을 참고하면, 뼈 분할부는 제1 영상 데이터와 제2 영상 데이터에 대해서 채택된 GMH 값이 미리 정해진 개수가 될 때까지, 인텐시티 프로파일 라인 쌍을 변경해가면서 단계(S223)와 단계(S225)를 반복할 수 있다. 예 를 들어 GMH 값의 채택 개수가 100개로 정해진 경우, 제1 영상 데이터와 제2 영상 데이터에 대해서 채택된 GMH 값이 각각 100개가 될 때까지 단계(S223)와 단계(S225)를 반복할 수 있다. 제1 영상 데이터와 제2 영상 데이터에 대해서 채택된 GMH 값이 미리 정해진 개수를 만족하면(S227-Y), 뼈 분할 부는 제1 영상 데이터에 대해서 채택된 GMH 값의 평균 값과 제2 영상 데이터에 대해서 채택된 GMH 값의 평 균 값을 제1 영상 데이터와 제2 영상 데이터 각각의 뼈 분할 값으로 결정할 수 있다(S229). 도 2를 참고하면, 뼈 분할부는 제1 영상 데이터와 제2 영상 데이터에 대해 각각 결정된 뼈 분할 값을 이용 하여, 제1 영상 데이터와 제2 영상 데이터에서 뼈의 경계를 특정하여 뼈 영역을 분할할 수 있다(S230). 예를 들 어 뼈 분할 값으로 결정된 Hounsfield Unit(HU) 값을 임계값으로 CT 영상에서 뼈 경계를 특정하여 뼈 분할을 자 동으로 수행할 수 있다. 다음으로 표면 격자 모델 기반 정합부는 제1 영상 데이터와 제2 영상 데이터에서 분할된 뼈 영역을 이용하 여 제1 영상 데이터와 제2 영상 데이터에 대한 표면 격자 모델을 각각 생성하고, 생성된 표면 격자 모델을 이용 하여 제1 영상 데이터와 제2 영상 데이터에 대한 표면 격자 모델 기반 정합을 수행할 수 있다(S240). 표면 격자 모델 기반 정합은 제1 영상 데이터와 제2 영상 데이터 사이에 차이가 없는 영역, 즉 변화 없는 영역 에 대해서 표면 격자 모델을 생성하여 수행할 수 있다. 도 8은 푸아송 디스크 샘플링 방법으로 표면 격자 모델에서 포인트를 샘플링한 결과를 나타낸 도면이다. 제1 영상 데이터와 제2 영상 데이터 사이에 차이가 없는 영역, 즉 변화 없는 영역, 예를 들어 양악 수술에서 변 화가 심한 부분을 제외한 영역을 추출해서 표면 격자 모델에서 점 데이터를 추출해서 정합에서 유용하게 사용하 는 ICP 알고리즘을 수행해서 정밀 정합을 수행할 수 있다. 표면 격자 모델에서 점 데이터를 샘플링 하는 방법으 로는 푸아송 디스크 샘플링(poisson disk sampling) 방법을 사용할 수 있다. 푸아송 디스크 샘플링은 각 포인트 간의 가장 가까운 거리가 푸아송 디스크 반지름으로 정의되며, 일반적인 무작위 샘플링과 비교했을 때 보다 더 많은 균일 샘플링 분포를 제공한다. 직관적으로 이해를 돕기 위해, 도 8의 오른쪽은 Nasion 기준점을 이용하여 변화가 없는 영역들을 추출 후 샘플링한 모습을 보여준다. 이처럼 각 랜드마크 포인트의 예측점을 이용하면 관 심있는 영역들을 분리/획득할 수 있다. 포인트를 획득하였으면, 공통 정합의 순서는 다음과 같다. 획득된 점들 을 이용하여 전역 정합(global registration)과 지역 정합(local registration)을 수행할 수 있다. 전역 정합 에서 사용된 알고리즘은 random sample consensus (RANSAC)을 이용하여 전역 정합을 수행하게 된다. 그리고 전 역 정합의 결과 상태에서 지역 정합을 수행할 수 있다. 지역 정합을 위해 ICP 알고리즘을 사용하고, Point to Plane 타입을 사용할 수 있다. 이런 절차에 따라서 해부학적으로 어떤 영역 또는 지점을 이용하여 샘플링된 포 인트를 얻어서 표면 격자 모델 기반 정합을 수행할 수 있다. 한편 구강악안면 양악 수술의 경우 수술 전후 변화가 없는 영역으로 도 9에 예시한 것과 같은 헬멧 모양의 표면 격자 모델을 생성하여 정합을 수행할 수도 있다.헬멧 모양의 격자 모델을 추출하기 위해서는 4개의 영역을 구분하여 각 영역을 추출하게 된다. 사용되는 랜드마 크 포인트는 Nasion, Porion(bilateral)로 3개의 예측점이 있으면 헬멧 모양의 격자 모델을 추출할 수 있다. 추 출해야 할 4개의 영역을 해부학적 위치를 고려하여 각각 Right Front(RF), Right Back(RB), Left Front(LF), Left Back(LB)로 명명한다. 그리고 각 영역의 최대값, 최소값으로 구성되는 경계값(Bounding box) 조정을 통한 격자 모델 크롭(crop)을 수행한다. 아래는 각 영역의 경계값 추출에 사용한 식을 보여준다. [수학식 6]"}
{"patent_id": "10-2023-0060967", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "수학식 6에서 각각의 영역 RF, RB, LF, LB의 경계값은 최고값(max)과 최소값(min)으로 구성되어 있다. Nax, Naz 는 Nasion의 x 좌표와 z 좌표를 나타내고, RPoy, RPoz는 Porion(right)의 y 좌표와 z 좌표를 나타내며, LPoy, LPoz는 Porion(left)의 y 좌표와 z 좌표를 나타낸다. 그리고 Xmin, Xmax, Ymin, Ymax, Zmin, Zmax는 각각 격자 모델들 의 경계값이다. 수학식 의 는 해부학적 영역에서 상대적으로 약한 뼈들과 공기가 있는 벌집뼈 (ethmoid bone)를 피하기 위해 예측된 Nasion의 z 좌표에서 10mm 위로 경계값을 설정하였다. 마찬가지로 수학식 도 같은 맥락이다. 수학식 의 는 마찬가지로 해부학적 구조인 측두 골(temporal bone)에 있 는 유양 돌기(mastoid process)를 포함하기 위해 30mm 아래로 경계값을 포함시킨다. 수학식 도 같은 맥락이 다. 한편 CBCT 모델들의 정합을 위해서 전방부 영역만 추출한 모델로도 정합을 수행할 수 있는데, 이 경우 전방부 영역만 추출하기 위해서는 식 , , , 만으로 구성이 가능하다. 표면 격자 모델 기반 정합 방법으로 정합 대상의 두 영상에서 각각 표면 영역을 분할하고, 이의 경계를 가지고 유사도 평가를 수행하는 방법으로, Head & Hat 방법, DT (Distance Transform) 방법과 ICP (Iterative Closest Point) 방법 등이 사용될 수 있다. 마지막으로 복셀 기반 정합부는 표면 격자 모델 기반 정합 처리된 제1 영상 데이터와 제2 영상 데이터에 대해서 복셀 기반 정합을 추가로 수행할 수 있다(S250). 실시예에 따라서, 표면 격자 모델 기반 정합까지만 수 행하고, 복셀 기반 정합은 생략하는 것도 가능하다. 복셀 기반 정합 방법은 정합 대상의 두 영상의 복셀 간 유사도 평가를 수행하는 방법으로, 명암도 정보를 대표 적인 스칼라값이나 방향 등으로 축소하여 적용하는 중심축 및 모멘트 정합 방법(principal axes and moments based method)과 정합 과정에서 전체 영상 정보를 모두 사용하는 명암도 기반 정합 방법 등이 사용될 수 있다. 이상에서 설명된 실시예들은 하드웨어 구성요소, 소프트웨어 구성요소, 및/또는 하드웨어 구성요소 및 소프트웨 어 구성요소의 조합으로 구현될 수 있다. 예를 들어, 실시예들에서 설명된 장치, 방법 및 구성요소는, 예를 들어, 프로세서, 콘트롤러, ALU(arithmetic logic unit), 디지털 신호 프로세서(digital signal processor), 마 이크로컴퓨터, FPGA(field programmable gate array), PLU(programmable logic unit), 마이크로프로세서, 또는 인스트럭션(instruction)을 실행하고 응답할 수 있는 다른 어떠한 장치와 같이, 하나 이상의 범용 컴퓨팅 장치 또는 특수 목적 컴퓨팅 장치를 이용하여 구현될 수 있다. 처리 장치는 운영 체제(OS) 및 상기 운영체제 상에서 수행되는 하나 이상의 소프트웨어 애플리케이션을 수행할 수 있다. 또한, 처리 장치는 소프트웨어의 실행에 응 답하여, 데이터를 접근, 저장, 조작, 처리 및 생성할 수도 있다. 이해의 편의를 위하여, 처리 장치는 하나가 사"}
{"patent_id": "10-2023-0060967", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "용되는 것으로 설명된 경우도 있지만, 해당 기술분야에서 통상의 지식을 가진 자는, 처리 장치가 복수 개의 처 리 요소(processing element) 및/또는 복수 유형의 처리 요소를 포함할 수 있음을 알 수 있다. 예를 들어, 처리 장치는 복수 개의 프로세서 또는 하나의 프로세서 및 하나의 콘트롤러를 포함할 수 있다. 또한, 병렬 프로세서 (parallel processor)와 같은, 다른 처리 구성(processing configuration)도 가능하다. 소프트웨어는 컴퓨터 프로그램(computer program), 코드(code), 인스트럭션(instruction), 또는 이들 중 하나 이상의 조합을 포함할 수 있으며, 원하는 대로 동작하도록 처리 장치를 구성하거나 독립적으로 또는 결합적으로 (collectively) 처리 장치를 명령할 수 있다. 소프트웨어 및/또는 데이터는, 처리 장치에 의하여 해석되거나 처 리 장치에 명령 또는 데이터를 제공하기 위하여, 어떤 유형의 기계, 구성요소(component), 물리적 장치, 가상 장치(virtual equipment), 컴퓨터 저장 매체 또는 장치에 영구적으로, 또는 일시적으로 구체화(embody)될 수 있 다. 소프트웨어는 네트워크로 연결된 컴퓨터 시스템 상에 분산되어서, 분산된 방법으로 저장되거나 실행될 수도 있다. 소프트웨어 및 데이터는 하나 이상의 컴퓨터 판독 가능 기록 매체에 저장될 수 있다. 실시예에 따른 방법은 다양한 컴퓨터 수단을 통하여 수행될 수 있는 프로그램 명령 형태로 구현되어 컴퓨터 판 독 가능 매체에 기록될 수 있다. 상기 컴퓨터 판독 가능 매체는 프로그램 명령, 데이터 파일, 데이터 구조 등을 단독으로 또는 조합하여 포함할 수 있다. 상기 매체에 기록되는 프로그램 명령은 실시예를 위하여 특별히 설계 되고 구성된 것들이거나 컴퓨터 소프트웨어 당업자에게 공지되어 사용 가능한 것일 수도 있다. 컴퓨터 판독 가 능 기록 매체의 예에는 하드 디스크, 플로피 디스크 및 자기 테이프와 같은 자기 매체(magnetic media), CD- ROM, DVD와 같은 광기록 매체(optical media), 플롭티컬 디스크(floptical disk)와 같은 자기-광 매체 (magneto-optical media), 및 롬(ROM), 램(RAM), 플래시 메모리 등과 같은 프로그램 명령을 저장하고 수행하도 록 특별히 구성된 하드웨어 장치가 포함된다. 프로그램 명령의 예에는 컴파일러에 의해 만들어지는 것과 같은 기계어 코드뿐만 아니라 인터프리터 등을 사용해서 컴퓨터에 의해서 실행될 수 있는 고급 언어 코드를 포함한다. 상기된 하드웨어 장치는 실시예의 동작을 수행하기 위해 하나 이상의 소프트웨어 모듈로서 작동하도 록 구성될 수 있으며, 그 역도 마찬가지이다."}
{"patent_id": "10-2023-0060967", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 9, "content": "이상과 같이 실시예들이 비록 한정된 도면에 의해 설명되었으나, 해당 기술분야에서 통상의 지식을 가진 자라면 상기를 기초로 다양한 기술적 수정 및 변형을 적용할 수 있다. 예를 들어, 설명된 기술들이 설명된 방법과 다른 순서로 수행되거나, 및/또는 설명된 시스템, 구조, 장치, 회로 등의 구성요소들이 설명된 방법과 다른 형태로 결합 또는 조합되거나, 다른 구성요소 또는 균등물에 의하여 대치되거나 치환되더라도 적절한 결과가 달성될 수 있다.도면 도면1 도면2 도면3 도면4 도면5 도면6 도면7 도면8 도면9"}
{"patent_id": "10-2023-0060967", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 3차원 의료 영상 정합 방법에 이용되는 컴퓨팅 장치의 구성을 개략적으로 나타낸 도면이다. 도 2는 본 발명의 일 실시예에 따른 3차원 의료 영상 정합 방법을 설명하기 위해 제공되는 흐름도이다. 도 3은 인텐시티 프로파일 라인에서 HMH 값을 구하는 예를 나타내는 도면이다. 도 4는 본 발명의 일 실시예에 따른 GMH 프로토콜에 의한 뼈 분할 값을 결정하는 방법을 나타낸 흐름도이다. 도 5는 본 발명의 일 실시예에 따른 수술 전후 영상의 정합을 위해 획득된 슬라이스 영상을 예시적으로 나타낸 것이다. 도 6은 본 발명의 일 실시예에 따른 슬라이스 영상에서 구해지는 인텐시티 프로파일 라인을 설명하기 위한 도면 이다. 도 7은 인텐시티 프로파일 라인과 해당 인텐시티 프로파일 라인의 기울기 프로파일을 나타낸 것이다. 도 8은 푸아송 디스크 샘플링 방법으로 표면 격자 모델에서 포인트를 샘플링한 결과를 나타낸 도면이다. 도 9는 헬멧 모양의 표면 격자 모델을 추출 시 전체 두부골에서 추출 영역을 가시화한 예를 나타낸 것이다."}
