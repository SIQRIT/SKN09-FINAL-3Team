{"patent_id": "10-2019-0157724", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2021-0067774", "출원번호": "10-2019-0157724", "발명의 명칭": "실측데이터 기반 가상도시 시뮬레이션 방법 및 장치", "출원인": "한국전자통신연구원", "발명자": "전성익"}}
{"patent_id": "10-2019-0157724", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "하나 이상의 수집기를 통하여 현실 세계의 실측데이터를 생성하는 단계;상기 실측데이터를 기반으로 시뮬레이션에 적용가능한 정제데이터를 생성하는 단계; 및상기 정제데이터를 기반으로 시뮬레이션을 실행하는 단계; 를 포함하는 실측데이터 기반 가상도시 시뮬레이션방법."}
{"patent_id": "10-2019-0157724", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "실측데이터 기반 가상도시 시뮬레이션 방법 및 장치가 개시된다. 본 발명의 일실시예에 따른 실측데이터 기반 가 상도시 시뮬레이션 방법은, 하나 이상의 수집기를 통하여 현실 세계의 실측데이터를 생성하는 단계, 상기 실측데 이터를 기반으로 시뮬레이션에 적용가능한 정제데이터를 생성하는 단계 및 상기 정제데이터를 기반으로 시뮬레이 션을 실행하는 단계를 포함한다."}
{"patent_id": "10-2019-0157724", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 실측데이터 기반 가상도시 시뮬레이션 방법 및 장치에 관한 것으로써, 도시의 실제 환경 흐름 데이터 를 수집하여 가상도시 엔진과 연결하는 기술에 관한 것이다."}
{"patent_id": "10-2019-0157724", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "본 명세서에서 달리 표시되지 않는 한, 이 섹션에 설명되는 내용들은 이 출원의 청구항들에 대한 종래 기술이 아니며, 이 섹션에 포함된다고 하여 종래 기술이라고 인정되는 것은 아니다. 도시 정책 실행에 앞서 도시 변화 모델 및 데이터 기반으로 시뮬레이션이 수행되고 있다. 최근 시뮬레이션 모델은 데이터 기반 정책에서 나아가 디지털 트윈에 의한 가상도시를 설계하여 수시로 현상 해 석과 정책 변화 시뮬레이션을 실시하고 있다. 시뮬레이션의 어려움은 현실 세계를 가상 세계로 모델링하는 과정에서 데이터 연결성이 부족하여 예측이나 분석 이 정확하지 않다는 점이다. 종래 데이터 기반 분석 시스템이나 시뮬레이션 기술은 도시와 같은 복잡계 시스템을 가상 공간에 묘사하는 방법 으로, 전문인력을 투입하여 데이터를 수집 및 가공하고 정제하여 과거 데이터 또는 통계를 기반으로 묘사하고 있었다. 대표적인 시뮬레이션 엔진인 Repast HPC는 군중 행위, 교통 흐름, 최적화 문제 해결 등 대규모 시스템에 적합한 계산 방법을 제공하고 있으나, 도시의 데이터 수집 반영 기술은 포함하고 있지 않아, 여전히 현실 세계와 가상 세계의 유효성 검증이라는 문제점이 남아 있다. 선행기술문헌 특허문헌 (특허문헌 0001) 한국공개특허 제10-2013-0082635호, 2013년 07월 22일 등록(명칭: 유동인구 분석 시스템 및 그 방법)"}
{"patent_id": "10-2019-0157724", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 목적은 물리적인 도시의 사람, 차량, 자전거, 어울링 등의 흐름을 실측하여 최대한 실세계와 가상 공 간을 일치시키고 가상도시의 목표하는 정책을 찾아 모델링 가능한 디지털 시스템의 연결성 확보에 관한 것이다. 또한, 본 발명의 목적은 현실 영상의 객체 분석을 통해 시뮬레이션의 행위 주체인 에이전트가 정밀하게 동작할 수 있게 하는 것이다.또한, 본 발명의 목적은 시뮬레이션 결과에 대한 평가를 통해 자료 수집에 대한 피드백을 제공하는 것이다. 또한 상술한 바와 같은 목적들로 한정되지 않으며, 이하의 설명으로부터 또 다른 목적이 도출될 수도 있음은 자 명하다."}
{"patent_id": "10-2019-0157724", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기한 목적을 달성하기 위한 본 발명에 따른 실측데이터 기반 가상도시 시뮬레이션 방법은 하나 이상의 수집기 를 통하여 현실 세계의 실측데이터를 생성하는 단계, 상기 실측데이터를 기반으로 시뮬레이션에 적용가능한 정 제데이터를 생성하는 단계 및 상기 정제데이터를 기반으로 시뮬레이션을 실행하는 단계를 포함한다. 이 때, 상기 실측데이터를 생성하는 단계는, 카메라를 통해 현실 세계의 영상을 촬영하는 단계, 인공지능 모듈 을 통하여 상기 영상에서 객체의 속성을 분석하는 단계 및 상기 객체의 속성 데이터와 위치정보를 결합하여 실 측데이터를 생성하는 단계를 포함할 수 있다. 이 때, 상기 정제데이터로 변환하는 단계는, 상기 실측데이터의 무결성을 검증하는 단계, 상기 실측데이터를 임 의의 주기별 또는 임의의 지역별로 구분하여 레코드데이터를 생성하는 단계 및 상기 레코드데이터를 시뮬레이션 에 적용 가능한 데이터 포맷으로 변환하여 정제데이터를 생성하는 단계를 포함할 수 있다. 이 때, 상기 시뮬레이션을 실행하는 단계는, 상기 정제데이터에 기반하여 에이전트를 생성하고 시뮬레이션을 실 행할 수 있다. 이 때, 상기 시뮬레이션의 실행 결과를 분석하고, KPI(Key-Performance Index)와 비교하는 단계 및 비교결과 불 만족으로 판단된 경우, 실측데이터에 대한 보완요구데이터를 생성하는 단계 및 상기 보완요구데이터를 상기 수 집기로 피드백하는 단계를 더 포함할 수 있다. 또한, 상기한 목적을 달성하기 위한 본 발명에 따른 실측데이터 기반 가상도시 시뮬레이션 장치는, 현실 세계에 기반한 정제데이터를 제공받는 데이터수신부, 상기 정제데이터를 기반으로 에이전트를 생성하는 에이전트 생성 부, 상기 에이전트를 포함하여 시뮬레이션 모델을 생성하는 시뮬레이션 생성부 및 상기 시뮬레이션을 실행하는 시뮬레이션 실행부를 포함한다. 이 때, 상기 정제데이터는, 하나 이상의 수집장치를 통해 제공받은 실측데이터를 기반으로, 임의의 주기별 또는 임의의 지역별로 구분된 레코드데이터를 상기 에이전트 생성부의 데이터 포맷으로 변환하여 생성될 수 있다. 이 때, 상기 실측데이터는, 현실 세계를 촬영한 영상에 존재하는 객체의 속성데이터일 수 있다. 이 때, 상기 속성데이터는, 상기 시뮬레이션 모델에 따른 계수 알고리즘을 통해 상기 객체로부터 추출된 데이터 일 수 있다. 이 때, 상기 시뮬레이션의 실행 결과를 KPI(Key-Performance Index)와 비교하고, 불만족으로 판단된 경우, 실측 데이터에 대한 보완요구데이터를 생성하는 시뮬레이션 결과 판단부를 더 포함할 수 있다."}
{"patent_id": "10-2019-0157724", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따르면, 디지털 트윈에 의한 가상도시를 구현하여 시뮬레이션의 정확성을 향상시킬 수 있다. 또한, 본 발명에 따르면, 현실 영상의 객체 분석을 통해 에이전트가 정밀하게 동작할 수 있다. 또한, 본 발명에 따르면, 시뮬레이션 결과에 대한 평가를 통해 자료 수집에 대한 피드백을 제공할 수 있다. 본 실시 예들의 효과는 이상에서 언급한 효과들로 제한되지 않으며, 언급되지 않은 또 다른 효과들은 청구범위 의 기재로부터 통상의 기술자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2019-0157724", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명을 첨부된 도면을 참조하여 상세히 설명하면 다음과 같다. 여기서, 반복되는 설명, 본 발명의 요지를 불 필요하게 흐릴 수 있는 공지 기능, 및 구성에 대한 상세한 설명은 생략한다. 본 발명의 실시형태는 당 업계에서 평균적인 지식을 가진 자에게 본 발명을 보다 완전하게 설명하기 위해서 제공되는 것이다. 따라서, 도면에서의 요소들의 형상 및 크기 등은 보다 명확한 설명을 위해 과장될 수 있다. 이하, 본 발명에 따른 바람직한 실시예를 첨부된 도면을 참조하여 상세하게 설명한다. 이하, 본 발명이 적용되는 가상도시는 특정한 도시로 한정되지 않는다. 서울특별시와 같이 고도화된 대도시일 수도 있고, 제주도와 같이 관광에 특화된 도시일 수 있으며, 김제와 같이 지방 중소도시일 수도 있다. 본 발명 에서는 가상의 컴퓨터 공간에서 묘사될 수 있는 임의의 도시를 대상으로 할 수 있다. 도 1은 본 발명의 일실시예에 따른 가상도시 시뮬레이션 장치를 포함한 시스템의 블록도이다. 도 1을 참조하면, 본 발명에 따른 가상도시 시뮬레이션 장치를 포함한 시스템은 하나 이상의 수집기와 도 시 전체 혹은 일부 특정 지역에 수집 데이터 집계를 위한 중계서버 및 가상도시 시뮬레이션이 실행되는 디 지털 트윈 서버를 포함할 수 있다. 본 발명의 일실시예에 따른 수집기는 인공지능 모듈과 카메라를 포함할 수 있다. 이 때, 수집기는 유동인구 관심지역 및 교차로 등의 특정 영역에 설치되어, 일정시간 동안 자동차, 자전거 및 사람 등 객체의 흐름을 실시간으로 촬영하고, 인공지능 알고리즘으로 자동차, 자전거 및 사람 들을식별하여 계수(카운팅)하는 기능을 수행할 수 있으며, 계수된 데이터는 중계서버로 전송할 수 있다. 또한, 본 발명의 일실시예에 따른 중계서버는 수집기로부터 전송받은 계수 데이터를 위치정보에 기반 하여 집계하여, 표준 주소 및 유효한 데이터로 정제하고, 표준 데이터 모델로 매핑을 완료하여 파일 또는 DB로 저장할 수 있다. 이 때, 중계서버는 디지털 트윈 서버의 요청에 대응하여, 상기 데이터들을 밀결합이 가능한 포맷으로 변환하여 전송할 수 있다. 이 때, 중계서버의 중요한 특징은 한번 설정한 표준 모델로 연결 설정이 완료되면 상시 수집 분석이 가능 하다는 점과 정제 데이터를 중계서버에서 자동화하여 인간의 개입이 필요없다는 점이다. 또한, 본 발명의 일실시예에 따른 디지털 트윈 서버는 도시 행정 정책을 수행하는 정보시스템 센터에 위치 하는 범용 서버로써, 빅데이터 및 시뮬레이션 엔진이 탑재되어 있으며, 중계서버 및 수집기와 물리적 으로 연결될 수 있다. 이 때, 디지털 트윈 서버는 저장 장치와 네트워크 장치를 포함할 수 있고, 병렬 시뮬레이션이 가능하며 네 트워크 장치를 통해 중계서버와 연결될 수 있다. 상기 네트워크 장치에서 사용하는 네트워크 프로토콜은 표준 규약에 따르는 어떠한 프로토콜도 사용될 수 있으 며, 표준 모델로 연결 설정이 완료되면 상시 수집 분석이 가능할 수 있다. 또한, 상시 네트워크 장치에서 송수신되는 데이터는 표준 데이터 저장 포맷으로 변환된 것일 수 있다. 이 때, 디지털 트윈 서버에서 실행되는 시뮬레이션 모델은 에이전트 기반 시뮬레이션 모델(ABMS, Agent- Based Simulation Model) 엔진일 수 있다. 또한, 본 발명이 적용되는 수집기, 중계서버 및 디지털 트윈 서버 장치는 특정 하드웨어 환경에 서 수행되는 것으로 한정되지 않으며, 범용의 컴퓨터 시스템 또는 저장장치를 활용할 수 있고, 장치 간 네트워 크 연결이 필요한 경우 일반 Ethernet 네트워크 장치를 사용할 수도 있다. 도 2는 본 발명의 일실시예에 따른 수집기의 블록도이다. 도 2를 참조하면, 수집기는 영상을 촬영할 수 있고, 촬영된 영상을 인공지능을 통해 분석할 수 있다. 보다 상세하게 살펴보면, 수집기는 프로세서, 카메라, 메모리, 인공지능 모듈, 수신 부 및 송신부를 포함할 수 있다. 이 때, 카메라는 현실 세계를 촬영할 수 있는 CCTV와 같은 카메라일 수 있으며, 사용자의 카메라 단말기 또는 차량에 설치된 카메라 등일 수 있다. 이 때, 수신부는 수집기의 제어 명령 등을 수신받을 수 있으며, 송신부는 수집된 데이터를 송신 할 수 있다. 이 때, 인공지능 모듈은 카메라로 촬영된 영상에서 객체를 분석하고 계수할 수 있는 기능을 수행할 수 있다. 이 때, 프로세서는 수신된 제어 명령에 따라 데이터를 처리하는 기능을 수행할 수 있다. 또한, 수집기는 상기 구성들을 포함하고 있어 유동 인구 계수기 기능을 수행할 수 있으며, 개인정보의 유 출없이 정확한 실측을 수행할 수 있다. 또한, 수집기는 지능형 영상 카메라, 차량센서 카메라에 지능화 기능 삽입, CCTV에 지능화 기능 삽입, 외 각 감시 카메라에 지능화 기능 삽입, 교차로 신호등에 감시카메라 기능 삽입 등 다양한 실시예로 데이터 수집을 수행할 수 있다. 도 3은 본 발명의 일실시예에 따른 수집기의 데이터 수집을 나타내는 흐름도이다. 도 3을 참조하면, 본 발명의 일실시예에 따른 수집기는 동작을 시작하면, 상기 수집기를 관리하는 중계서버와 연결을 설정하고 고유한 영상 신호 처리를 한다(S301). 또한, 본 발명의 일실시예에 따른 수집기의 동작방법은 인공지능 모듈을 통한 영상처리를 할 수 있어, 인공지능 모드 동작여부를 확인한다(S302). 이 때, 단계(S302)는 인공지능 모드로 동작하지 않은 경우에는 로우(raw) 데이터를 중계서버로 송신할 수 있고, 인공지능 모드로 동작하는 경우에 영상 수집에 있어서 인공지능 모델을 적용할 수 있다. 또한, 본 발명의 일실시예에 따른 수집기의 동작방법은 인공지능 모듈에서 수집 정보 설정이 적용되어 있는지를 확인한다(S303). 이 때, 단계(S303)는 수집 정보 설정이 적용되어 있는 경우에는 상기 수집 정보 설정에 따라 인공지능 추론을 시작할 수 있고, 상기 수집 정보 설정이 적용되어 있지 않은 경우에는 중계서버 또는 디지털 트윈 서버로부터 상기 수집 정보 설정 파라미터를 수신받을 준비를 할 수 있다. 또한, 본 발명의 일실시예에 따른 수집기의 동작방법은 상기 수집 정보 설정이 적용되어 있지 않은 경우, 중계 서버 또는 디지털 트윈 서버로부터 상기 수집 정보 설정 파라미터를 수신받는다(S304). 또한, 본 발명의 일실시예에 따른 수집기의 동작방법은 인공지능 추론 모델을 실행하여 분류 및 식별할 수 있는 대상 객체를 등록한다(S305). 또한, 본 발명의 일실시예에 따른 수집기의 동작방법은 상기 등록에 따라 일정기간의 영상을 인공지능 알고리즘 으로 추론하여 객체를 분류한다(S306). 이 때, 단계(S306)는 상기 객체가 사람인 경우 성별과 나이를 분류할 수 있고, 상기 객체가 차량인 경우 차량의 종류를 분류할 수 있다. 이 때, 단계(S306)는 상기 영상을 5분마다 추론할 수 있고, 직전 5분간의 영상 입력 신호(ex. 20fps * 60sec * 5min) 소스로부터 인공지능 알고리즘으로 분류할 수 있다.또한, 본 발명의 일실시예에 따른 수집기의 동작방법은 인공지능 알고리즘에 의해 분류된 객체를 종류별로 카운 팅한다(S307). 이 때, 단계(S307)는 6000frame내에 설정된 사람 및 차량 식별 확률에 따라 해당 카운터를 증가시키되, 동일한 대상이 이동하는 경우에는 방향만 기록하고 카운팅은 그대로 둘 수 있다. 위 단계(S307)를 통해 종류별 카운터 가 생성될 수 있다. 또한, 본 발명의 일실시예에 따른 수집기의 동작방법은 인공지능 알고리즘에 의해 분류되고 계수된 데이터를 현 재 시간 정보와 위치 정보를 결합하여 단위 레코드로 생성한다(S308). 또한, 본 발명의 일실시예에 따른 수집기의 동작방법은 위 단계(S308)에서 생성된 단위 레코드를 중계서버로 송 신하고, 디버깅을 위해 자체 저장공간에는 라운드 로빈 방식으로 저장한다(S309). 또한, 본 발명의 일실시예에 따른 수집기의 동작방법은 중계서버로 로우 데이터를 송신한다(S310). 이 때, 단계(S310)는 중계서버로 로우 데이터를 송신하고 위 단계들을 반복하여 수행할 수 있다. 도 4는 본 발명의 일실시예에 따른 수집기를 통해 데이터를 수집하는 예시도이다. 도 4는 수집기를 통한 실측하는 예시도로써, 교차로에 2개 방향으로 설치하고, 객체의 흐름정보를 추출하는 예 시를 나타내고 있다. 도 4를 참조하면, 수집기는 교차로에 2개 방향으로 설치되어, 객체의 흐름정보를 추출할 수 있다. 이 때, 수집기는 임의의 시간 간격으로 실측정보를 가시화할 수 있으며, 수집 정보 레코드에는 설정 정보에 따라 가변이 가능할 수 있다. 이 때, 수집 정보는 행정구역 위치정보, 사람, 자동차, 빌딩 및 도로 등과 같은 도시의 인프라 데이터도 선별하 여 저장할 수 있으나, 데이터가 커지는 문제가 있어, 사람 및 자동차만을 선별하여 저장할 수 있다. 이 때, 저장되는 데이터 형태는 산업계에서 널리 사용되는 형식(shp, csv)이거나 데이터 베이스 또는 XML과 같 은 임의의 형식일 수 있다. 또한, 내부 파일 시스템의 레코드로 append하는 형식으로 실현될 수도 있다. 도 5 내지 도 7은 본 발명의 일실시예에 따른 중계서버의 동작 흐름도이다. 중계서버는 분석할 지역에 따라 복수로 존재할 수 있고, 특정 지역의 설치된 하나 이상의 수집기에서 생성된 데 이터를 취합하여 집계를 생성하고, 수집기의 저장 부담을 간소화하는 역할을 수행할 수 있다. 또한, 상기 중계서버는 하나 이상의 수집기와 디지털 트윈 서버 사이에서 중계 역할을 수행할 수 있다. 도 5 내지 도 7을 참조하면, 본 발명의 일실시예에 따른 중계서버의 동작방법은 하나 이상의 수집기로부터 순차 적으로 단위레코드를 수신하고, 이를 분류하고, 저장한다(S501, S601, S701). 또한, 본 발명의 일실시예에 따른 중계서버의 동작방법은 단위 레코드의 데이터 범위 및 Null(zero) fill 등을 임의 수행하고 무결성 검증이 완료된 데이터를 저장한다(S502, S602, S702). 또한, 본 발명의 일실시예에 따른 중계서버의 동작방법은 위치정보, 법정동 및 행정동 등에 따라 수집기에 코드 또는 고유의 ID를 부가하여, 각 수집기별로 단위 레코드의 누적정보를 생성하고, 추가 정보를 부가후 레코드를 갱신한다(S503, S603, S703). 이 때, 단계(S503, S603, S703)는 레코드를 갱신하면서 시뮬레이션 모델의 데이터 전처리 작업을 수행할 수 있 다. 이 때, 추가 정보는 사용자가 임의로 설정할 수 있는 정보로써, 주기당 수집된 사람수/시간으로 이동성 비율 계 산 정보를 포함할 수 있다. 또한, 본 발명의 일실시예에 따른 중계서버의 동작방법은 집계정책에 따라 임의로 설정된 주기시간동안 상기 단 위 레코드를 누적하여 제2레코드를 생성하고 저장할 수 있으며(S604), 임의로 설정된 주기시간동안 특정위치 또 는 집계구별 단위 레코드를 누적하여 제2레코드를 생성하고 저장할 수 있다(S704). 또한, 본 발명의 일실시예에 따른 중계서버의 동작방법은 갱신된 데이터 또는 제2레코드를 디지털 트윈 서버의 데이터 포맷으로 변환한다(S504, S605, S705).이 때, 단계(S504, S605, S705)는 상기 갱신된 데이터 또는 제2레코드를 csv, NetCDF, H5 또는 shp 파일형식으 로 변환할 수 있다. 또한, 본 발명의 일실시에에 따른 중계서버의 동작방법은 위 단계(S504, S605, S705)에서 변환된 데이터를 디지 털 트윈 서버로 송신한다(S505, S606, S706). 도 8은 본 발명의 일실시예에 따른 수집기에 의해 전달받은 단위 레코드의 예시도이다. 중계서버는 자체 저장부를 포함하고 있어, 하나 이상의 수집기를 통해 수집된 단위 레코드를 결합하여 표준 파 일로 저장할 수 있다. 도 8을 참조하여 예를 들면, 표준 파일은 20개의 수집기에서 수신받은 단위 레코드를 순차적으로 누적하여 정리될 수 있다. 이 때, 단위 레코드는 수집기의 ID 정보, 시각정보, 위치정보, 성별 및 나이 분류 정보, 이동 방향 정보 및 행 정동 코드 정보 등을 포함할 수 있으며, 표준 파일도 이와 대응되는 항목으로 정리될 수 있다. 이 때, 표준 파일은 시뮬레이션 엔진에 직접적으로 연결되어 시뮬레이션을 실행할 수 있도록 가공될 수 있 다. 도 9는 본 발명의 일실시예에 따른 중계서버에 저장되는 3차원 데이터 파일의 예시도이다. 도 9를 참조하면, 중계서버에 저장되는 파일은 시간과 공간을 중첩하여 3차원 데이터(910, 920, 930)로 관리할 수 있다. 디지털 트윈 시스템의 분석 예측력은 데이터에 매우 의존적이어서, 과거 데이터가 충분히 쌓여있거나 현재의 목 적 데이터가 잘 갖추어져 있는가에 따라 변경될 수 있다. 이 때, 3차원 데이터(910, 920, 930)는 이를 활용하는 API를 통해 시뮬레이션상에서 에이전트를 구현하는 결정 적인 역할을 수행할 수 있다. 또한, 3차원 데이터(910, 920, 930)는 유동성이 있는 시공간 실측 데이터를 포함하고 있어, 시뮬레이션 해석 단 계에서 좀더 실제 시스템과 근접한 해석을 수행하도록 할 수 있다. 도 10은 본 발명의 일실시예에 따른 디지털 트윈 서버의 동작 흐름도이다. 디지털 트윈 서버는 데이터 준비단계, 데이터와 모델 연결 단계, 모델 실행 단계 및 모델 실행의 평가 단계를 포함할 수 있다. 이 때, 상기 디지털 트윈 서버는 범용 컴퓨팅 환경으로도 구성될 수 있으며, 중계서버와 연결되어, 중계서버에 저장된 다양한 데이터 포맷들을 처리할 수 있다. 도 10을 참조하면, 본 발명의 일실시예에 따른 디지털 트윈 서버의 동작방법은 중계서버로부터 표준 데이터 포 맷 데이터를 수신한다(S1001). 이 때, 표준 데이터 포맷 형식은 csv 또는 shp일 수도 있고, 사용자가 임의의 데이터 포맷을 사용하는 경우에는 전용의 add-on 데이터 매핑을 추가로 정의하여 사용할 수도 있다. 또한, 본 발명의 일실시예에 따른 디지털 트윈 서버의 동작방법은 수신된 데이터와 서버에 저장된 기본 데이터 (정주 인구데이터 및 주택데이터 등)를 가공하여 에이전트를 생성한다(S1002). 또한, 본 발명의 일실시예에 따른 디지털 트윈 서버의 동작방법은 위 단계(S1002)에서 생성된 에이전트를 반영 하여 시뮬레이션 모델을 생성하고 실행한다(S1003). 또한, 본 발명의 일실시예에 따른 디지털 트윈 서버의 동작방법은 실행된 시뮬레이션의 결과를 분석하여 평가한 다(S1004). 또한, 본 발명의 일실시예에 따른 디지털 트윈 서버의 동작방법은 실행된 시뮬레이션에서 목표 함수로 시뮬레이 션 모델에서 제시한 함수값을 KPI(Key-Performance Index)와 비교하고(S1005), KPI를 만족하면 시뮬레이션 결 과를 출력하고 종료한다(S1006). 이 때, KPI를 만족하지 못한 경우, 디지털 트윈 서버는 수집정보(사람 성별, 연령, 이동성, 방향, 체류 시간 등)에 대한 설정 조정을 요청하고, 수정된 인공지능 추론 모델을 중계서버로 송신하여 수집기로 전달될 수 있도록 할 수 있다(S1007). 또한, KPI를 만족하지 못한 경우, 해당 정보는 중간 결과로써 디지털 트윈 서버의 자체 저장장치에 저장될 수도 있다(S1008). 도 11은 본 발명의 일실시예에 따른 가상도시 시뮬레이션 장치를 포함한 시스템의 동작 흐름도이다. 도 11을 참조하면, 디지털 트윈 서버는 ABMS 엔진이 포함될 수 있고, 다수의 중계서버와 물 리적으로 연결되어 있으며, 다수의 수집기와도 연결되어 있을 수 있다. 도 11을 참조하면, 본 발명의 일실시예에 따른 가상도시 시뮬레이션 장치를 포함한 시스템의 동작방법은 Data 준비단계, 모델 실행단계 및 평가 단계를 포함할 수 있다. 보다 상세하게 살펴보면, Data 준비단계는, 디지털 트윈 서버에서 중계서버로 데이터 수집 및 목표 데이터 설정 초기화 요청을 하는 단계, 중계서버에서 설정 정보를 저장하고 수집 모델을 수집기로 전달하 는 단계, 수집기에서 수집 모델을 초기화하는 단계, 모델에 따른 계수 알고리즘을 실행하여 성별, 나이 이동속도, 체류 시간등을 실측하는 단계, 실측 데이터를 레코드화하여 일정시간 간격으로 중계서버로 송 신하는 단계, 중계서버에서 수신된 실측 데이터를 기존 집계장표에 병합하고 이를 표준 레코드 형식으로 저장하는 단계, 디지털 트윈 서버에서 목적 데이터를 요청하면 중계서버에서 요청된 목적 데이터를 송신하는 단계를 포함할 수 있다. 또한, 모델 실행단계는, 디지털 트윈 서버에서 엔진 초기화 명령을 전달하는 단계, 중계서버로부터 전달받은 데이터와 기존 에이전트 모델과 결합하는 단계, 상기 에이전트 모델을 표준 데이터 엔진에 적재하는 단계, 행위 분석 모델 에이전트를 정주 인구와 유동인구와 빌딩 수만큼 생성하고 시뮬레이션을 실행하는 단계 및 다수의 에이전트들을 요청 시간 및 횟수 만큼 반복하여 실행하는 단계를 포함할 수 있다. 또한, 평가 단계는, 다수의 에이전트들을 통해 시뮬레이션을 실행하고 목표하는 도시 변화 양상이 관측되었는지 비교하는 단계 및 이를 검증하고 결과로써 출력하는 단계를 포함할 수 있다. 도 12 내지 도 16은 본 발명의 일실시예에 따른 실측데이터 기반 시뮬레이션 방법의 흐름도이다. 도 12 내지 도 16을 참조하면, 본 발명의 일실시에에 따른 실측데이터 기반 시뮬레이션 방법은 먼저 하나 이상 의 수집기를 통하여 현실 세계의 실측데이터를 생성한다(S1201). 이 때, 상기 실측데이터를 생성하는 단계(S1201)는, 카메라를 통해 현실 세계의 영상을 촬영하는 단계(S1301), 인공지능 모듈을 통하여 상기 영상에서 객체의 속성을 분석하는 단계(S1302) 및 상기 객체의 속성 데이터와 위 치정보를 결합하여 실측데이터를 생성하는 단계(S1303)를 포함할 수 있다. 또한, 본 발명의 일실시에에 따른 실측데이터 기반 시뮬레이션 방법은 상기 실측데이터를 기반으로 심류레이션 에 적용가능한 정제데이터를 생성한다(S1202). 이 때, 상기 정제데이터로 변환하는 단계(S1202)는, 상기 실측데이터의 무결성을 검증하는 단계(S1401), 상기 실측데이터를 임의의 주기별 또는 임의의 지역별로 구분하여 레코드데이터를 생성하는 단계(S1402) 및 상기 레 코드데이터를 시뮬레이션에 적용 가능한 데이터 포맷으로 변환하여 정제데이터를 생성하는 단계(S1403)를 포함 할 수 있다. 또한, 본 발명의 일실시에에 따른 실측데이터 기반 시뮬레이션 방법은 상기 정제데이터를 기반으로 시뮬레이션 을 실행한다(S1203). 이 때, 상기 시뮬레이션을 실행하는 단계(S1203)는, 상기 정제데이터에 기반하여 에이전트를 생성(S1501)하고 시뮬레이션을 실행할 수 있다(S1502). 또한, 본 발명의 일실시에에 따른 실측데이터 기반 시뮬레이션 방법은 상기 시뮬레이션의 실행 결과를 분석 (S1601)하고, KPI(Key-Performance Index)와 비교하는 단계(S1602), 비교결과 불만족으로 판단된 경우, 실측데 이터에 대한 보완요구데이터를 생성하는 단계(S1603) 및 상기 보완요구데이터를 상기 수집기로 피드백하는 단계 (S1604)를 더 포함할 수 있다. 이 때, 본 발명의 일실시에에 따른 실측데이터 기반 시뮬레이션 방법은 시뮬레이션의 실행 결과와 KPI를 비교하 여 만족으로 판단된 경우, 시뮬레이션 실행 결과를 출력하는 단계(S1605)를 더 포함할 수 있다.도 17은 본 발명의 일실시예에 따른 실측데이터 기반 시뮬레이션 장치의 블록도이다. 도 17을 참조하면, 본 발명의 일실시예에 따른 실측데이터 기반 시뮬레이션 장치는 데이터수신부, 에이전트 생성부, 시뮬레이션 생성부 및 시뮬레이션 실행부를 포함한다. 데이터수신부는 현실 세계에 기반한 정제데이터를 제공받을 수 있다. 이 때, 상기 정제데이터는, 하나 이상의 수집장치를 통해 제공받은 실측데이터를 기반으로, 임의의 주기별 또는 임의의 지역별로 구분된 레코드데이터를 상기 에이전트 생성부의 데이터 포맷으로 변환하여 생성되는 것일 수 있다. 이 때, 상기 실측데이터는, 현실 세계를 촬영한 영상에 존재하는 객체의 속성데이터일 수 있다. 이 때, 상기 속성데이터는, 상기 시뮬레이션 모델에 따른 계수 알고리즘을 통해 상기 객체로부터 추출된 데이터 일 수 있다. 에이전트 생성부는 상기 정제데이터를 기반으로 에이전트를 생성할 수 있다. 시뮬레이션 생성부는 상기 에이전트를 포함하여 시뮬레이션 모델을 생성할 수 있다. 시뮬레이션 실행부는 상기 시뮬레이션을 실행할 수 있다. 또한, 본 발명의 일실시예에 따른 실측데이터 기반 시뮬레이션 장치는 상기 시뮬레이션의 실행 결과를 KPI(Key-Performance Index)와 비교하고, 불만족으로 판단된 경우, 실측데이터에 대한 보완요구데이터를 생성하 는 시뮬레이션 결과 판단부를 더 포함할 수 있다. 도 18은 본 발명의 일실시예에 따른 컴퓨터 시스템을 나타낸 도면이다. 도 18을 참조하면, 본 발명의 실시예는 컴퓨터로 읽을 수 있는 기록매체와 같은 컴퓨터 시스템에서 구현될 수 있다. 도 18에 도시된 바와 같이, 컴퓨터 시스템은 버스를 통하여 서로 통신하는 하나 이상의 프 로세서, 메모리, 사용자 인터페이스 입력 장치, 사용자 인터페이스 출력 장치 및 스토 리지를 포함할 수 있다. 또한, 컴퓨터 시스템은 네트워크에 연결되는 네트워크 인터페이스 를 더 포함할 수 있다. 프로세서는 중앙 처리 장치 또는 메모리나 스토리지에 저장된 프로세싱 인스트럭션들을 실행하는 반도체 장치일 수 있다. 메모리 및 스토리지는 다양한 형태의 휘발성 또는 비휘발성 저장 매체일 수 있다. 예를 들어, 메모리는 ROM이나 RAM을 포함할 수 있다. 따라서, 본 발명의 실시예는 컴퓨터로 구현된 방법이나 컴퓨터에서 실행 가능한 명령어들이 기록된 비일시적인 컴퓨터에서 읽을 수 있는 매체로 구현될 수 있다. 컴퓨터에서 읽을 수 있는 명령어들이 프로세서에 의해서 수 행될 때, 컴퓨터에서 읽을 수 있는 명령어들은 본 발명의 적어도 한 가지 측면에 따른 방법을 수행할 수 있다. 이상에서와 같이 본 발명에 따른 실측데이터 기반 시뮬레이션 방법 및 장치는 상기한 바와 같이 설명한 실실예 들의 구성과 방법이 한정되게 적용될 수 있는 것이 아니라, 상기 실시예들은 다양한 변형이 이루어질 수 있도록 각 실시예들의 전부 또는 일부가 선택적으로 조합되어 구성될 수도 있다."}
{"patent_id": "10-2019-0157724", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일실시예에 따른 가상도시 시뮬레이션 장치를 포함한 시스템의 블록도이다. 도 2는 본 발명의 일실시예에 따른 수집기의 블록도이다. 도 3은 본 발명의 일실시예에 따른 수집기의 데이터 수집을 나타내는 흐름도이다. 도 4는 본 발명의 일실시예에 따른 수집기를 통해 데이터를 수집하는 예시도이다.도 5 내지 도 7은 본 발명의 일실시예에 따른 중계서버의 동작 흐름도이다. 도 8은 본 발명의 일실시예에 따른 수집기에 의해 전달받은 단위 레코드의 예시도이다. 도 9는 본 발명의 일실시예에 따른 중계서버에 저장되는 3차원 데이터 파일의 예시도이다. 도 10은 본 발명의 일실시예에 따른 디지털 트윈 서버의 동작 흐름도이다. 도 11은 본 발명의 일실시예에 따른 가상도시 시뮬레이션 장치를 포함한 시스템의 동작 흐름도이다. 도 12 내지 도 16은 본 발명의 일실시예에 따른 실측데이터 기반 시뮬레이션 방법의 흐름도이다. 도 17은 본 발명의 일실시예에 따른 실측데이터 기반 시뮬레이션 장치의 블록도이다. 도 18은 본 발명의 일실시예에 따른 컴퓨터 시스템을 나타낸 도면이다."}
