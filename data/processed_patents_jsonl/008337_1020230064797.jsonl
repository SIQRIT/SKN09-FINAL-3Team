{"patent_id": "10-2023-0064797", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0167143", "출원번호": "10-2023-0064797", "발명의 명칭": "처방전 이미지 판독 시스템", "출원인": "(주)디지털알엑스솔루션", "발명자": "박정관"}}
{"patent_id": "10-2023-0064797", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "처방전 이미지 판독 시스템에 있어서,사용자의 처방전을 촬영하는 사용자 단말; 상기 사용자 단말로부터 사용자의 처방전 이미지를 수신하고, 수신된 상기 처방전 이미지로부터 처방 데이터를추출하며, 사용자가 지정한 약국의 단말로 상기 처방 데이터를 전달하여 약의 조제를 요청하는 서버; 및 상기 서버로부터 사용자의 처방 데이터를 획득하고, 획득된 처방 데이터에 대응하는 약을 조제하도록 안내하는약국 단말;을 포함하는, 시스템."}
{"patent_id": "10-2023-0064797", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서상기 서버는 상기 사용자 단말로부터 상기 수신된 처방전 이미지에 포함된 텍스트를 식별하고, 상기 식별된 텍스트에 기반하여 상기 처방 데이터를 추출하며, 상기 처방 데이터는 질병분류코드, 약코드, 투약량, 투여횟수, 투여일수, 중량 중 적어도 하나를 포함하여 구성되는, 시스템."}
{"patent_id": "10-2023-0064797", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서상기 서버는 상기 식별된 텍스트에 기반하여 상기 수신된 처방전 이미지에 대한 약국용 처방전의 해당 여부 또는 유효기간의경과 여부에 따른 유효성을 평가하고, 상기 평가 결과 유효하지 않은 것으로 판단되는 경우, 처방전 이미지를재요청하는, 시스템."}
{"patent_id": "10-2023-0064797", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제2항에 있어서,상기 서버는 상기 식별된 텍스트 중 기설정된 조건을 만족하는 숫자열을 추출하여 교부번호로 판단하고, 동일한 교부번호를포함하며 처방 데이터가 상이한 이전 등록 처방전을 동일 처방전으로 분류하고, 동일 처방전으로 판단된 처방전이미지들로부터 추출된 각각의 처방 데이터를 병합하여 저장하는, 시스템."}
{"patent_id": "10-2023-0064797", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제2항에 있어서,상기 서버는 상기 식별된 텍스트의 기재 위치, 개수 및 배열 상태에 따라 처방 데이터를 항목별로 분류하고,상기 배열 상태는 숫자 배열, 문자 배열 및 숫자와 문자의 조합 배열 중 어느 하나로 선택되는 것을 특징으로하는, 시스템."}
{"patent_id": "10-2023-0064797", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에 있어서,공개특허 10-2024-0167143-3-상기 서버는 촬영된 처방전 이미지에 처방전을 촬영한 시점 및 촬영 도구에 대한 정보를 함께 기록하며, 촬영 시점으로부터기설정된 기간이 경과한 처방전 이미지 또는 기설정된 촬영 도구로 촬영되지 않은 처방전 이미지의 활용을 제한하는, 시스템."}
{"patent_id": "10-2023-0064797", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제1항에 있어서상기 서버는 상기 추출한 처방 데이터를 기록하고, 상기 처방 데이터에 기반하여 판매 약품에 대한 약국별 통계 데이터를 생성하되,상기 약국 단말로부터 약국별 주요 약품의 재고 데이터를 획득하고, 상기 통계 데이터를 통해 확인된 주요 판매약품의 예상 판매 속도를 상기 재고 데이터와 비교하여 예상 입고 일정을 산출하는, 시스템."}
{"patent_id": "10-2023-0064797", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "처방전 이미지 판독 방법에 있어서,사용자 단말이, 사용자의 처방전을 촬영하는 단계; 서버가, 상기 사용자 단말로부터 사용자의 처방전 이미지를 수신하고, 수신된 상기 처방전 이미지로부터 처방데이터를 추출하는 단계;상기 서버가, 사용자가 지정한 약국의 단말로 상기 처방 데이터를 전달하여 약의 조제를 요청하는 단계; 및약국 단말이, 상기 서버로부터 사용자의 처방 데이터를 획득하고, 획득된 처방 데이터에 대응하는 약을 조제하도록 안내하는 단계;를 포함하는, 방법."}
{"patent_id": "10-2023-0064797", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명의 실시 예에 따른 처방전 이미지 판독 시스템은 사용자의 처방전을 촬영하는 사용자 단말, 상기 사용자 단말로부터 사용자의 처방전 이미지를 수신하고, 수신된 상기 처방전 이미지로부터 처방 데이터를 추출하며, 사 용자가 지정한 약국의 단말로 상기 처방 데이터를 전달하여 약의 조제를 요청하는 서버 및 상기 서버로부터 사용 자의 처방 데이터를 획득하고, 획득된 처방 데이터에 대응하는 약을 조제하도록 안내하는 약국 단말을 포함하여 구성되는 것을 특징으로 한다."}
{"patent_id": "10-2023-0064797", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 약국에 원격으로 약의 조제를 요청하기 위해 요구되는 처방전 데이터를 추출하기 위해 사용자의 처방 전 이미지를 판독하는 시스템에 관한 것이다."}
{"patent_id": "10-2023-0064797", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "최근 디지털 기술의 발전으로 인해 인터넷을 통한 비대면 서비스가 급속도로 확대되고 있다. 그에 따라 의료 분 야에서도 이러한 비대면 상황을 통해 불필요한 대면 접촉을 최소화하고 현장 대기 상황을 줄여 효율적인 시간 관리를 하고자 하는 욕구가 증대되고 있다. 이러한 사용자들의 욕구에 따라 의료 분야에서도 비대면 서비스를 위한 움직임이 이루어지고 있다. 특히, 약국 에서 조제 및 판매하는 약을 비대면으로 구매하기 위한 방법에 대한 대중의 관심이 높다. 그러나 의약품의 수령 에 대한 비대면 서비스의 경우 대중에게 제공될 편의성만큼이나, 약국에서 신규 서비스를 제공하는 과정에서 발 생하게 될 혼란에 대한 우려와 악용 사례 등 부작용에 대한 우려가 큰 상황이다. 그리고 이러한 우려는 곧 해당 서비스의 상용화가 더뎌지게 만드는 주요 원인이 되고 있다. 따라서 이러한 비대 면 서비스를 정착시키는 과정에서 발생될 혼란을 최소화시키고 부작용을 극복하기 위해, 원격으로 전달되는 처 방전 이미지로부터 약품 등 처방 데이터를 판독하기 위한 기술, 판독된 처방 데이터를 관리하고 위변조를 방지 하기 위한 기술 등 대비책 마련이 요구되고 있다. 선행기술문헌 특허문헌 (특허문헌 0001) 대한민국 등록특허공보 10-0875093호(처방전 인식 기능이 구비된 약제 자동 포장 장치, 처방전"}
{"patent_id": "10-2023-0064797", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 2, "content": "관리 시스템 및 그 처방전 관리 방법) 발명의 내용"}
{"patent_id": "10-2023-0064797", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 약국에서 판매하는 약을 원격으로 요청하는 과정에서, 사용자가 촬영한 처방전 이미지로부터 자동으 로 처방 관련 데이터를 추출하도록 하기 위해 고안되었다. 또한 본 발명의 다양한 실시 예는 처방전에서 추출된 데이터를 기반으로 약국의 예상 판매 일정 등 다양한 통계 데이터를 산출하여 활용하도록 하기 위해 고안되었다. 본 개시의 목적들은 이상에서 언급한 목적으로 제한되지 않으며, 언급되지 않은 본 개시의 다른 목적 및 장점들 은 하기의 설명에 의해서 이해될 수 있고, 본 개시의 실시 예에 의해 보다 분명하게 이해될 것이다. 또한, 본 개시의 목적 및 장점들은 특허 청구 범위에 나타낸 수단 및 그 조합에 의해 실현될 수 있음을 쉽게 알 수 있을 것이다."}
{"patent_id": "10-2023-0064797", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 실시 예에 따른 처방전 이미지 판독 시스템은 사용자의 처방전을 촬영하는 사용자 단말, 상기 사용자 단말로부터 사용자의 처방전 이미지를 수신하고, 수신된 상기 처방전 이미지로부터 처방 데이터를 추출하며, 사 용자가 지정한 약국의 단말로 상기 처방 데이터를 전달하여 약의 조제를 요청하는 서버 및 상기 서버로부터 사 용자의 처방 데이터를 획득하고, 획득된 처방 데이터에 대응하는 약을 조제하도록 안내하는 약국 단말을 포함하 여 구성될 수 있다. 또한, 상기 서버는 상기 사용자 단말로부터 상기 수신된 처방전 이미지에 포함된 텍스트를 식별하고, 상기 식별 된 텍스트에 기반하여 상기 처방 데이터를 추출할 수 있다. 이 때 상기 처방 데이터는 질병분류코드, 약코드, 투약량, 투여횟수, 투여일수, 중량 중 적어도 하나의 항목을 포함하여 구성될 수 있다. 그리고 상기 서버는 상기 식별된 텍스트에 기반하여 상기 수신된 처방전 이미지에 대한 약국용 처방전의 해당 여부 또는 유효기간의 경과 여부에 따른 유효성 판단을 수행하고, 유효하지 않은 처방전으로 판단되는 경우, 처 방전 이미지를 재요청할 수 있다. 또한 상기 서버는 상기 식별된 텍스트 중 기설정된 조건을 만족하는 숫자열을 추출하여 교부번호로 판단하고, 동일한 교부번호를 포함하며 처방 데이터가 상이한 이전 등록 처방전을 동일 처방전으로 분류하고, 동일 처방전 으로 판단된 처방전 이미지들로부터 추출된 각각의 처방 데이터를 병합하여 저장할 수 있다. 또한 상기 서버는 상기 식별된 텍스트의 기재 위치, 개수 및 배열 상태에 따라 처방 데이터를 항목별로 분류할 수 있다. 이 때, 상기 배열 상태는 숫자 배열, 문자 배열 및 숫자와 문자의 조합 배열 중 어느 하나로 선택될 수 있다. 즉, 상기 서버는 식별된 텍스트의 기재 위치와, 몇개의 숫자열인지 또는 몇 개로 이루어진 숫자 및 알 파벳의 조합인지 등에 따라 처방 데이터의 항목을 질병분류코드, 약코드, 투약량, 투여횟수, 투여일수, 중량 등 으로 분류하여 판단할 수 있다. 그리고 상기 서버는 촬영된 처방전 이미지에 처방전을 촬영한 시점 및 촬영 도구에 대한 정보를 함께 기록하며, 촬영 시점으로부터 기설정된 기간이 경과한 처방전 이미지 또는 기설정된 촬영 도구로 촬영되지 않은 처방전 이 미지의 활용을 제한할 수 있다. 이러한 동작은 처방전을 미리 촬영한 이후 편집프로그램 등으로 처방전 이미지 의 위변조를 수행하는 것을 방지하기 위해 수행될 수 있다. 그리고 상기 서버는 상기 추출한 처방 데이터를 기록하고, 상기 처방 데이터에 기반하여 판매 약품에 대한 약국 별 통계 데이터를 생성하되, 상기 약국 단말로부터 약국별 주요 약품의 재고 데이터를 획득하고, 상기 통계 데 이터를 통해 확인된 주요 판매 약품의 예상 판매 속도를 상기 재고 데이터와 비교하여 약품별 예상 입고 일정을 산출할 수 있다. 본 발명의 실시 예에 따른 처방전 이미지 판독 방법은 사용자 단말이, 사용자의 처방전을 촬영하는 단계, 서버 가, 상기 사용자 단말로부터 사용자의 처방전 이미지를 수신하고, 수신된 상기 처방전 이미지로부터 처방 데이 터를 추출하는 단계, 상기 서버가, 사용자가 지정한 약국의 단말로 상기 처방 데이터를 전달하여 약의 조제를 요청하는 단계 및 약국 단말이, 상기 서버로부터 사용자의 처방 데이터를 획득하고, 획득된 처방 데이터에 대응하는 약을 조제하도록 안내하는 단계를 포함하여 구성될 수 있다."}
{"patent_id": "10-2023-0064797", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명은 사용자가 구매할 약에 대한 조제 요청을 약국으로 간편하게 전달할 수 있고, 이 과정에서 요구되는 처방전 스캔 및 스캔된 처방전으로부터 처방 데이터를 추출하는 동작을 간편하게 수행할 수 있다. 또한 본 발명은 처방전 이미지로부터 추출된 처방 데이터를 다양한 방법으로 활용하도록 도울 수 있다."}
{"patent_id": "10-2023-0064797", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명의 이점 및 특징, 그리고 그것들을 달성하는 방법은 첨부되는 도면과 함께 상세하게 후술되어 있는 실시 예들을 참조하면 명확해질 것이다. 그러나, 본 발명은 이하에서 개시되는 실시예들에 제한되는 것이 아니라 서 로 다른 다양한 형태로 구현될 수 있으며, 단지 본 실시 예들은 본 발명의 개시가 완전하도록 하고, 본 발명이 속하는 기술 분야의 통상의 기술자에게 본 발명의 범주를 완전하게 알려주기 위해 제공되는 것이며, 본 발명은 청구항의 범주에 의해 정의될 뿐이다. 본 명세서에서 사용된 용어는 실시예들을 설명하기 위한 것이며 본 발명을 제한하고자 하는 것은 아니다. 본 명 세서에서, 단수형은 문구에서 특별히 언급하지 않는 한 복수형도 포함한다. 명세서에서 사용되는 \"포함한다 (comprises)\" 및/또는 \"포함하는(comprising)\"은 언급된 구성요소 외에 하나 이상의 다른 구성요소의 존재 또는 추가를 배제하지 않는다. 명세서 전체에 걸쳐 동일한 도면 부호는 동일한 구성 요소를 지칭하며, \"및/또는\"은 언급된 구성요소들의 각각 및 하나 이상의 모든 조합을 포함한다. 비록 \"제1\", \"제2\" 등이 다양한 구성요소들을 서술하기 위해서 사용되나, 이들 구성요소들은 이들 용어에 의해 제한되지 않음은 물론이다. 이들 용어들은 단 지 하나의 구성요소를 다른 구성요소와 구별하기 위하여 사용하는 것이다. 따라서, 이하에서 언급되는 제1 구성 요소는 본 발명의 기술적 사상 내에서 제2 구성요소일 수도 있음은 물론이다. 다른 정의가 없다면, 본 명세서에서 사용되는 모든 용어(기술 및 과학적 용어를 포함)는 본 발명이 속하는 기술 분야의 통상의 기술자에게 공통적으로 이해될 수 있는 의미로 사용될 수 있을 것이다. 또한, 일반적으로 사용되 는 사전에 정의되어 있는 용어들은 명백하게 특별히 정의되어 있지 않는 한 이상적으로 또는 과도하게 해석되지 않는다. 명세서에서 사용되는 \"부\" 또는 “모듈”이라는 용어는 소프트웨어, FPGA 또는 ASIC과 같은 하드웨어 구성요소 를 의미하며, \"부\" 또는 “모듈”은 어떤 역할들을 수행한다. 그렇지만 \"부\" 또는 “모듈”은 소프트웨어 또는 하드웨어에 한정되는 의미는 아니다. \"부\" 또는 “모듈”은 어드레싱할 수 있는 저장 매체에 있도록 구성될 수 도 있고 하나 또는 그 이상의 프로세서들을 재생시키도록 구성될 수도 있다. 따라서, 일 예로서 \"부\" 또는 “모 듈”은 소프트웨어 구성요소들, 객체지향 소프트웨어 구성요소들, 클래스 구성요소들 및 태스크 구성요소들과 같은 구성요소들과, 프로세스들, 함수들, 속성들, 프로시저들, 서브루틴들, 프로그램 코드의 세그먼트들, 드라 이버들, 펌웨어, 마이크로 코드, 회로, 데이터, 데이터베이스, 데이터 구조들, 테이블들, 어레이들 및 변수들을 포함한다. 구성요소들과 \"부\" 또는 “모듈”들 안에서 제공되는 기능은 더 작은 수의 구성요소들 및 \"부\" 또는 “모듈”들로 결합되거나 추가적인 구성요소들과 \"부\" 또는 “모듈”들로 더 분리될 수 있다. 공간적으로 상대적인 용어인 \"아래(below)\", \"아래(beneath)\", \"하부(lower)\", \"위(above)\", \"상부(upper)\" 등 은 도면에 도시되어 있는 바와 같이 하나의 구성요소와 다른 구성요소들과의 상관관계를 용이하게 기술하기 위 해 사용될 수 있다. 공간적으로 상대적인 용어는 도면에 도시되어 있는 방향에 더하여 사용시 또는 동작시 구성 요소들의 서로 다른 방향을 포함하는 용어로 이해되어야 한다. 예를 들어, 도면에 도시되어 있는 구성요소를 뒤집을 경우, 다른 구성요소의 \"아래(below)\"또는 \"아래(beneath)\"로 기술된 구성요소는 다른 구성요소의 \"위 (above)\"에 놓여질 수 있다. 따라서, 예시적인 용어인 \"아래\"는 아래와 위의 방향을 모두 포함할 수 있다. 구성 요소는 다른 방향으로도 배향될 수 있으며, 이에 따라 공간적으로 상대적인 용어들은 배향에 따라 해석될 수 있 다. 이하 첨부된 도면을 참조하여, 본 발명의 실시 예를 설명하기로 한다. 도 1은 본 발명의 실시 예에 따른 처방전 이미지 판독 시스템의 구성을 도시한 도면이다. 도 1에서 도시되는 바와 같이, 본 발명의 실시 예에 따른 처방전 이미지 판독 시스템(이하, 시스템)은 서버 , 사용자 단말 및 약국 단말을 포함하여 구성될 수 있다 상기 서버는 사용자 단말과 약국 단말 간의 통신을 수행하며, 상기 사용자 단말로부터 수 신되는 처방전 및 약의 조제 요청 신호를 확인하고, 수신된 처방전 및 약 조제 요청 신호를 상기 약국 단말 로 전달할 수 있다. 그리고 상기 서버는 상기 약국 단말로부터 획득된 조제 상황에 대한 정보 (예, 해당 약국에서의 조제 가능 여부, 대기 순번, 조제 비용, 예상 조제 완료 시간, 수령 완료 등)를 획득하고 이를 사용자 단말에 전달할 수 있다. 상기 사용자 단말는 원격으로 약국에 약의 조제를 요청하기 위해 요구되는 처방전을 상기 서버로 전 송하기 위해, 사용자의 처방전을 촬영할 수 있다. 그리고 상기 사용자 단말은 사용자의 처방전을 촬영함에 따라 생성된 처방전 이미지를 서버로 제공할 수 있다. 이 때 상기 서버는 사용자 단말에서 원격 조제 요청 및 처방전 판독을 위한 애플리케이션이 실행될 수 있도록 지원하며, 사용자 단말에서 원격 조제 요청을 수행함에 대응하여 처방전을 촬영하기 위한 동작 을 자동으로 수행하도록 제어할 수 있다. 즉, 상기 서버는 사용자가 사용자 단말을 통해서 미리 촬영 한 처방전 이미지를 수신할 수도 있고, 사용자가 사용자 단말에서 대상 애플리케이션을 실행한 이후 관련 동작을 요청함에 따라 처방전을 촬영하기 위한 카메라 동작을 제어할 수 있다. 그리고 상기 서버는 사용자 단말로부터 수신한 처방전 이미지로부터 OCR판독 등을 기반으로 텍스트를 추출하고, 추출된 텍스트로부터 질병분류코드, 약물의 종류, 투약량, 투여횟수, 투여일수, 중량, 본인부담기호 등의 항목에 대한 값을 포함하는 처방 데이터를 식별할 수 있다. 또한 다양한 실시 예에 따라 상기 서버는 처방전의 전체 이미지 대신, 처방전의 식별값을 저장하는 코드 (예, QR코드)를 촬영하고, 이로부터 처방전에 포함된 데이터를 획득할 수도 있다. 이 외에도 상기 사용자 단말은 원격으로 약의 조제를 요청하는 데 요구되는 각종 정보(예, 사용자 개인 정 보, 결제 수단 등 결제에 요구되는 정보 등) 들을 사용자로부터 입력받고, 서버에 전송할 수 있다. 바람직하게, 상기 사용자 단말은 바람직하게 사용자의 개인화 기기(예, 스마트폰, 태블릿 등)를 의미할 수 있다. 그러나 본 발명의 다양한 실시 예에 따르면 상기 사용자 단말은 이제 한정되지 않고, 촬영이 가능한 다양한 종류의 단말을 모두 포함할 수 있다. 예를 들어, 상기 사용자 단말은 카메라를 구비한 장치로 이해 될 수 있다. 이 경우 상기 사용자 단말은 구체적으로 약국의 키오스크, 약국의 스캐너 등 약국에 구비되는 촬영 장치로 해석될 수 있다. 나아가 상기 사용자 단말은 설치 위치에 제한되지 않으며, 병원, 요양원 등 다양한 장소에 설치되는 카메라를 구비한 촬영 장치로 해석될 수 있다. 그리고 이러한 상기 사용자 단말은 사용자가 소지한 처방전을 촬영하여 처방전 이미지를 생성하고, 상기 생성된 이미지를 서버로 전송할 수 있다. 그리고 상기 서버는 수신된 처방전 이미지에 대하여 OCR판독을 기반으로 한 처방 데이터 생성을 위 한 관련 동작을 수행할 수 있다. 또한 상기 사용자 단말은 상기 서버로부터 제공되는 조제 상황 정보(예, 예상 완료 시간, 대기 번호 등), 조제된 약의 수령에 필요한 인증 정보 등을 수신하고 화면에 표시할 수 있다. 상기 약국 단말은 상기 서버로부터 사용자의 처방 데이터 및 상기 처방 데이터에 해당하는 약의 조제 요청을 수신할 수 있다. 그리고 상기 약국 단말은 상기 서버로부터 처방 데이터를 기반으로 생성된 통계 데이터 및 상기 통계 데이터에 대응하여 생성된 다양한 일정 알림(예, 특정 약품의 예상 소진 시점 및 입 고 일정 추천)을 수신할 수 있다. 약국에서의 약의 조제가 완료되면, 상기 약국 단말은 약국 측으로부터 약의 조제가 완료됨에 대한 정보(예, 완료 버튼 선택)를 입력받을 수 있고, 이를 서버에 전송할 수 있다. 도 1에 따르면, 본 발명의 실시 예에 따른 사용자 단말과 약국 단말은 별도의 구성으로 이해될 수 있 으나, 이에 한정되는 것은 아니다. 다양한 실시 예에 따라, 상기 사용자 단말은 약국 단말의 구성을 포함하는 형태로 구현될 수 있다. 예를 들어, 상기 사용자 단말은 약국에 구비되는 키오스크로 구현될 수 있다. 이 경우 약국의 키오스크는 사용자로부터 약의 조제를 요청하는 데 요구되는 각종 정보(예, 처방전 이미지, 사용자 개인 정보, 결제에 요구 되는 정보 등)를 입력 받는 동작을 수행하고, 입력된 상기 각종 정보를 서버로 전달하는 사용자 단말(20 0)의 역할을 수행할 수 있다. 그리고 그와 동시에, 약국의 키오스크는 상기 서버로부터 처방 데이터 및 처 방 데이터에 대응하는 약의 조제 요청 신호를 수신하고, 연동된 출력(표시)장치(예, 모니터, 프린터 등)로 약국 측 담당자(예, 약사)에게 제공할 처방 데이터를 출력(표시)할 수 있다. 이처럼 다양한 실시 예에 따른 상기 사 용자 단말은 약국 단말과 일체형으로 형성될 수 있다. 이하에서는, 상기 서버의 구성에 대하여 도면을 참조하여 보다 자세히 설명하기로 한다. 도 2는 본 발명의 실시 예에 따른 서버의 구성을 도시한 도면이다. 도 2에서 도시되는 바와 같이, 상기 서버는 프로세서, 메모리 및 통신부를 포함하여 구성 될 수 있다. 그리고 상기 프로세서는 접수 지원부, 상황 안내부, 데이터 관리부를 포함하여 구성될 수 있다. 상기 프로세서에 대한 설명은 후술하기로 한다. 상기 서버의 구성 중 상기 메모리는 본 발명의 실시 예에 따른 처방전 판독 동작에 요구되는 각종 정 보를 저장할 수 있다. 예를 들어, 상기 메모리는 사용자 단말로부터 획득된 처방전 이미지, 사용자의 처방 이력 등을 저장할 수 있다. 또한 상기 메모리는 상기 처방전 이미지로부터 텍스트를 추출하고, 추출 된 텍스트로부터 각 항목별 처방 데이터를 식별하는 동작을 수행하기 위한 프로그램을 저장할 수 있다. 또한 상기 메모리는 사용자 계정 정보를 저장할 수 있다. 상기 메모리는 처방 데이터를 기록 및 관리 를 효율적으로 수행하기 위해 해당 처방 데이터의 대상이 되는 사용자 정보(예, 연령, 성별)를 연계하여 저장할 수 있다. 상기 저장된 사용자 정보는 처방 데이터를 기반으로 약국별 통계 데이터를 산출할 시 활용될 수 있다. 그 밖에도 상기 메모리는 약국 측으로부터 입력된 다양한 정보를 저장할 수 있다. 예를 들어, 상기 메모리 는 약국 단말로부터 획득한 약국의 운영 시간, 약국의 위치 정보, 해당 약국 주변의 병원의 분야 정 보(예, 피부과, 정형외과 등), 약국의 보유 약 현황 정보 등을 저장할 수 있다. 그 외에도 상기 메모리는 처방전 이미지의 판독 동작 및 약국으로의 원격 약 조제 요청 동작에 필요한 다 양한 정보들을 획득하여 저장할 수 있다. 상기 서버의 구성 중 상기 통신부는 상기 사용자 단말 및 상기 약국 단말로부터 사용자가 약국으로 약 조제 요청을 전송하고, 조제된 약을 수령하는 과정에서 요구되는 각종 데이터 및 명령의 송수신 동 작을 수행할 수 있다. 상기 프로세서는 상기 메모리에 저장된 정보를 기반으로 약국을 사용자에게 추천하고, 사용자의 선택 에 따라 지정된 약국으로 사용자의 약 조제 요청을 전달하며, 약 조제 요청을 수신한 약국으로부터 획득된 약 조제 상황에 대한 정보를 사용자 단말로 전달하는 동작 전반을 제어할 수 있다. 상기 프로세서는 이러한 원격으로 약국에 사용자의 처방전을 전달하여 약의 조제를 요청하는 동작을 수행 하기 위해 앞서 언급한 바와 같이, 접수 지원부, 상황 안내부, 데이터 관리부를 포함할 수 있다. 이하에서는 상기 프로세서의 각 구성에 대하여 구체적으로 설명하기로 한다. 먼저, 프로세서의 구성 중 상기 접수 지원부는 사용자 측(사용자 단말)에서 약국을 선택하는 동작, 선택된 약국으로 상기 사용자의 처방전을 원격으로 전달하는 동작 및 상기 처방전에 대한 약의 조제 비용을 결 제하는 동작을 수행하기 위한 일련의 과정을 제어할 수 있다. 상기 접수 지원부의 구성은 도 3을 참조하여 보다 자세히 기술하기로 한다. 도 3은 본 발명의 실시 예에 따른 접수 지원부의 구성을 도시한 도면이다. 도 3에서 도시되는 바와 같이, 상기 접수 지원부는 약국 지정부, 처방전 등록부 및 결제 지원부 를 포함하여 구성될 수 있다. 상기 약국 지정부는 상기 사용자 단말로부터 사용자가 약의 조제를 요청할 약국을 선택하는 데 요구 되는 동작을 지원할 수 있다."}
{"patent_id": "10-2023-0064797", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "상기 약국 지정부는 사용자 측으로부터 단골 약국 정보를 등록받고, 사용자가 단골 약국을 표시 요청함에 따라, 기등록된 사용자의 단골 약국의 리스트를 제공할 수 있다. 상기 약국 지정부는 사용자의 검색어 입력에 따른 약국 검색 동작을 지원할 수 있다. 이 때 상기 약국 지정부는 사용자가 입력하는 약국의 명칭, 약국의 주소, 약국의 주변 병원 종류, 특정 약물의 보유 여부 등에 따라 기저장된 리스트에서 사용자의 검색어에 대응하는 약국을 추출하여 사용자 단말로 제공할 수 있 다. 그리고 상기 약국 검색부는 이와 같이 다양한 방식에 따라 사용자에게 약국 정보를 제공할 수 있다. 사용 자에게 추천되는 약국 정보 또는 사용자의 검색 동작 등에 대응하는 결과로 제공한 약국 정보에서 사용자가 선 택한 약국을 사용자의 처방전을 전달할 약국으로 지정할 수 있다. 다음으로, 처방전 등록부는 사용자가 선택한 지정 약국으로 처방전을 전달하기 위한 동작을 수행할 수 있 다. 먼저, 처방전 등록부는 사용자에게 처방전을 촬영하여 처방전의 이미지를 등록할 것을 요청할 수 있다. 그리고 상기 처방전 등록부는 사용자로부터 획득된 처방전 이미지를 등록하고, 해당 이미지의 식별 가능 정도를 판단할 수 있다. 예를 들어, 초점이 맞지 않거나, 조도 등에 따라 처방전 이미지에서 텍스트를 식별하기 어렵다고 판단되는 경우, 상기 처방전 등록부는 사용자측에 처방전 이미지의 재촬영을 요구할 수 있다. 또한 상기 처방전 등록부는 텍스트의 식별이 가능한 처방전 이미지가 입력된 것으로 판단하면, 해당 처방 전 이미지를 등록할 수 있다. 상기 처방전 등록부는 등록된 상기 처방전 이미지를 상기 지정된 약국의 단 말로 전송할 수 있다. 이 때, 상기 처방전 등록부는 처방전 이미지에서 사용자의 이름, 나이에 대한 정보를 추출하고 해당 처방 전이 조제약 픽업을 지원하는 애플리케이션의 사용자와 동일 인물인지 여부를 판단할 수 있다. 예를 들어, 상기 처방전 등록부는 처방전에 기재된 연령 정보가 기준치 이하인 소아에 해당하는 경우, 상기 애플리케이션의 사용자가 처방 대상자의 보호자인지 여부를 확인하고, 추후 약국에 처방전 전달 시, 소아용 약을 조제할 것에 대한 안내를 추가로 제공할 수 있다. 그에 따라 약국 측에서는 사용자 계정에 근거한 사용자 정보가 성인이더라 도, 처방전에 따라 소아용 약을 조제해야 하며, 소아용 약병을 포함하여 약을 포장해야 한다는 사실을 한번 더 확인할 수 있게 된다. 상기 결제 수행부는 처방전을 약국 단말로 전달한 후, 약국 측에서 조제 비용을 전송함에 따라 사용 자에게 약의 조제 비용을 안내하고, 해당 금액을 결제하도록 사용자 측에 요청할 수 있다. 또는, 상기 결제 수행부는 미리 등록된 비용 판단 기준에 근거하여 자동으로 처방전에 기록된 약에 대한 조제 비용을 산출할 수 있다. 이 때, 상기 비용 판단 기준은 약국별로 등록되는 정보일 수 있으며, 등록 여부 또한 약국에 의해 선택될 수 있다. 그리고 상기 결제 수행부는 사용자에게 안내된 비용이 애플리케이션을 통해 결제될 수 있도록 지원할 수 있다. 상기 결제 수행부는 사용자 단말에 조제 비용을 안내함과 함께 해당 비용이 결제될 수 있도록 지원하는 결제화면이 표시될 수 있도록 결제 정보를 전달할 수 있다. 상기 결제 수행부는 사용자 단말에 의해 해당 처방전에 대응하는 조제 비용이 결제되면, 해당 처방전 에 따라 약을 조제할 것에 대한 요청을 약국 단말로 전달할 수 있다. 이 때 상기 결제 수행부는 앞서 사용자 단말측에서 선택한 사용자가 원하는 약의 수령 시간에 대한 정보를 함께 약국 단말로 전달할 수 있다. 이에 따라 약국 단말은 약의 조제 업무가 배정됨을 확인할 수 있으며, 해당 약의 조제를 완료해 야 하는 시점에 대한 정보를 함께 확인할 수 있다. 프로세서의 구성 중 상기 상황 안내부는 약국 측 의 약 보유 상황, 약의 조제 상황, 약의 수령 상황을 사용자 단말로 안내하는 동작을 수행할 수 있다. 이하에서는, 상기 처방전 등록부에 대한 보다 구체적인 설명을 도 4를 참조하여 기술하기로 한다. 도 4는 본 발명의 실시 예에 따른 처방전 등록부의 구성을 도시한 도면이다. 도 4에서 도시되는 바와 같이, 상기 처방전 등록부는 문자열 판독부(142a), 유효성 확인부(142b) 및 처방 데이터 확인부(142c)를 포함하여 구성될 수 있다. 상기 문자열 판독부(142a)는 획득한 처방전 이미지를 대상으로 텍스트를 추출하는 동작을 수행할 수 있다. 이 때 상기 텍스트는 문자열 및 숫자열을 포함할 수 있다. 이 때 상기 문자열 판독부(142a)는 처방전 이미지에서 텍스트를 추출하는 동작을 OCR(Optical Character Recognition)판독 기술을 활용하여 수행할 수 있다. 상기 유효성 확인부(142b)는 상기 추출된 텍스트의 내용을 인식하고, 그에 기반하여 처방전의 유효성을 판단하 기 위한 동작을 수행할 수 있다. 먼저, 상기 유효성 확인부(142b)는 상기 추출된 텍스트의 내용을 인식하고, 그에 기반하여 약국 제출용 처방전 에 해당하는지 여부를 판단하는 방법으로 유효성을 식별할 수 있다. 상기 유효성 확인부(142b)는 획득된 처방전 이미지가 약국 제출용이 아닌 것으로 판단되는 경우, 유효하지 않은 처방전으로 식별하고, 약국 제출용에 해당 하는 처방전을 다시 업로드할 것을 사용자 단말측에 요청할 수 있다. 그리고 상기 유효성 확인부(142b)는 획득된 처방전 이미지로부터 추출된 텍스트에 기반하여 처방전의 유효기간 을 식별하고, 식별된 유효기간이 경과한 것으로 판단된 경우에도 유효하지 않은 처방전으로 인식할 수 있다. 마 찬가지로 상기 유효성 확인부(142b)는 획득된 처방전 이미지가 유효하지 않은 처방전으로 확인되는 경우, 사용 자 단말측에 처방전 이미지를 재요청할 수 있다. 이와 같이 상기 유효성 확인부(142b)는 처방전의 유효성 을 확인하는 동작을 통해, 약국 제출용이 아닌 처방전으로 반복적으로 약물을 수령하는 불법 행위, 유효기간이 경과한 처방전으로 약물을 수령하는 위험 행위가 이루어지지 않도록 제한할 수 있다. 또한 상기 유효성 확인부(142b)는 처방전의 촬영 단계에서도 처방전의 위변조를 제한하기 위한 동작을 수행할 수 있다. 예를 들어, 상기 유효성 확인부(142b)는 앱을 통해 사용자 단말에서 촬영된 처방전 이미지를 저 장할 경우, 촬영 도구(예, 촬영 기기 모델, 촬영에 사용된 앱 정보) 및 촬영 일시 정보를 메타데이터로 함께 저 장할 수 있다. 그리고 상기 유효성 확인부(142b)는 처방전 이미지에 함께 저장된 촬영 도구 및 촬영 일시 정보를 조회할 수 있 고, 촬영 시점으로부터 기설정된 기간이 경과한 처방전 이미지 또는 기설정된 촬영 도구(예, 특정 카메라 앱)로 촬영되지 않은 처방전 이미지(예, 편집 앱으로 편집이 수행된 이미지)를 유효하지 않은 처방전으로 판단할 수 있다. 또한 상기 유효성 확인부(142b)는 상기 추출된 텍스트를 기반으로 연속 5~6자리의 숫자열로 확인되는 교부번호 를 식별할 수 있다. 다양한 실시 예에 따라 상기 유효성 확인부(142b)는 유사한 기준 조건을 통해 교부번호 뿐 아니라, 면허번호를 식별할 수도 있다. 상기 유효성 확인부(142b)는 처방전의 교부번호를 식별한 후, 해당 교부번호를 갖는 동일한 처방전이 이전에 등 록된 이력이 있는지 여부를 판단할 수 있고, 교부번호 및 내용이 모두 동일한 처방전이 등록된 이력이 있는 경 우 유효하지 않은 처방전으로 판단할 수 있다. 이 때, 상기 유효성 확인부(142b)는 예를 들어, 처방전 내 기재 된 텍스트의 일치율이 기준치 이상인 경우, 해당 처방전이 이전에 등록된 처방전과 내용이 동일한 것으로 판단 할 수 있다. 상기 처방 데이터 확인부(142c)는 상기 획득된 처방전 이미지에서 추출된 텍스트를 기반으로 처방 데이터를 추 출하는 동작을 수행할 수 있다. 그리고 상기 처방 데이터 확인부(142c)는 획득된 처방 데이터를 사용자가 지정 한 약국의 단말로 전달하는 동작을 수행할 수 있다. 보다 구체적으로, 상기 처방 데이터 확인부(142c)는 상기 추출된 텍스트로부터 복수의 항목에 대한 값을 포함하 는 처방 데이터를 생성할 수 있다. 상기 처방 데이터에 포함되는 항목으로는 예컨대, 질병분류코드, 약 코드, 투약량, 투여횟수, 투여일수, (약물의)중량, 본임부담기호 중 적어도 하나를 포함하여 구성될 수 있다. 이 밖에 도 상기 처방 데이터 확인부(142c)는 처방 데이터뿐 아니라, 처방전 이미지에 포함된 텍스트로부터 확인할 수 있는 다양한 종류의 데이터(예, 병원명, 처방일, 환자 정보 등)를 획득할 수 있다. 그리고 상기 처방 데이터 확인부(142c)는 OCR을 통해 추출된 텍스트에 대하여 텍스트의 기재 위치, 텍스트의 개 수(자릿수), 배열 상태에 따라 처방 데이터를 항목별로 분류하는 동작을 수행할 수 있다. 예컨대, 상기 처방 데이터 확인부(142c)는 9자리의 숫자로 구성되는 데이터에 대하여 약 코드로 식별할 수 있고, 특정 알파벳과 특정 자릿수의 숫자 조합은 질병분류코드로 식별할 수 있다. 그러나 이에 한정되지 않고, 상기 처방 데이터 확인부(142c)는 상기 특성에 더하여 기재 위치 좌표 정보를 추가 로 판단하여 처방 데이터의 항목(예, 투여횟수) 및 해당 항목에 대응하는 값(예, 3회)을 식별할 수 있다. 그리고 상기 처방 데이터 확인부(142c)는 교부번호가 동일하며 처방 데이터가 상이한 이전 등록 처방전을 동일 처방전으로 분류하여 매핑하는 동작을 수행할 수 있다. 이에 따라 상기 처방 데이터 확인부(142c)는 동일 처방 전으로 분류된 복수의 처방전 이미지들에서 추출된 각각의 처방 데이터를 병합하여 저장할 수 있다. 상기 처방 데이터 확인부(142c)는 이러한 과정에 의해 처방전 이미지로부터 추출된 처방 데이터를 약국 단말 로 전송할 수 있다. 다음은 상기 도 2의 프로세서의 구성 중 상기 상황 안내부의 구성에 대하여 설명하기로 한다. 상기 상황 안내부에 대한 설명은 도 5를 참조하여 보다 자세히 기술하기로 한다. 도 5는 본 발명의 실시 예에 따른 상황 안내부의 구성을 도시한 도면이다. 도 5에서 도시되는 바와 같이, 상기 상황 안내부는 보유 상황 안내부, 조제 상황 안내부, 수령 확인부를 포함하여 구성될 수 있다. 상기 보유 상황 안내부, 조제 상황 안내부, 수령 확인부를 포함하여 구성될 수 있다. 상기 보유 상황 안내부는 사용자가 전송 요청한 사용자의 처방전에 대응하는 약을 약국이 보유하고 있는지 에 대한 정보를 약국 측으로부터 미리 등록된 보유 약물 정보에 기반하여 판단하고, 해당 약의 대체 약물로 어 떤 약이 사용될 것인지 여부를 판단할 수 있다. 다양한 실시 예에 따라, 상기 보유 상황 안내부는 사용자가 선택한 약국에서 사용자의 처방전에 대응하는 약물을 보유하지 않은 것으로 판단된 경우, 상기 약국에서 보유하지 않은 약물의 대체 약물이 존재하는지 여부 및 대체 약물에 대한 정보를 안내하는 제1 대응책과, 상기 약국에서 보유하지 않은 약물의 입고 일정에 따라 조 제약의 수령 가능 일정을 설정하여 안내하는 제2 대응책 중 적어도 하나를 사용자 단말에 제공할 수 있다. 이 때, 상기 제2 대응책을 제공하는 데 있어서, 약국에서 보유하지 않은 약물의 입고 일정은 사용자의 처방전의 유효기간과 비교되어 수령 가능 일정이 산출될 수 있다. 예를 들어, 해당 약국에서 보유중이지 않은 처방전에 기재된 약물의 입고가 4일 뒤인 경우, 상기 보유 상황 안내부는 해당 처방전의 유효기간(예, 3일)과 비교 하여, 해당 약국에서의 조제약 수령이 불가능함을 판단하고, 조제약의 수령 가능 일정을 산출하지 않을 수 있다. 반면, 상기 보유 상황 안내부는 처방전의 유효기간 내 약물의 입고가 가능한 것으로 확인되는 경우, 해당 약물의 입고 시점 이후로 조제약의 수령 가능 시점을 생성하여 사용자 단말에 제공할 수 있다. 또한, 대형병원에서 발급된 처방전의 유효기간은 7일가량으로 일반적인 처방전의 유효기간인 3일과 상이할 수 있음에 따라, 상기 보유 상황 안내부는 처방전의 유효기간을 사용자로부터 입력받거나 또는 처방전에 표시 된 유효기간을 체크하여 확보한 후 약국의 약물 입고 일정과 비교할 수 있다. 상기 조제 상황 안내부는 약국 단말에서 입력된 사용자의 대기 순번, 예상되는 수령 가능 시간 등 조 제 상황에 대한 정보를 획득하고, 이를 사용자 단말에 전달할 수 있다. 상기 수령 확인부는 약국 단말에 대기중인 조제 업무와, 조제의 완료 및 사용자의 수령이 완료된 현황을 약국 단말에 안내할 수 있다. 이에 따라 상기 약국 단말을 활용하는 약국 측은 앞으로 약국을 방문하 여 약을 수령할 사용자가 얼마나 남아있는지 쉽게 확인할 수 있다. 상기 프로세서의 구성 중 상기 데이터 관리부 획득된 처방전 이미지로부터 추출된 처방 데이터를 요 건에 맞추어 기록하고, 기록된 복수의 처방 데이터들로부터 통계 데이터를 생성할 수 있다. 구체적으로, 상기 데이터 관리부는 약국 단말로부터 획득된 약국별 주요 약품의 재고 데이터와 연계 하여, 약국별 주요 판매 약품의 예상 판매 속도를 판단할 수 있다. 먼저, 상기 데이터 관리부는 약국별 주요 판매 약품의 리스트를 산출할 수 있다. 상기 데이터 관리부는 전체 약국에 대하여 전송되는 처방 데이터들을 대상으로 확인된, 전체 약품별 판매 횟수 대비 특정 약국을 대상으로 확인된 약품별 판매 횟수를 비교하고, 이를 기반으로 주요 판매 약품의 리스트 를 산출할 수 있다. 또는 상기 데이터 관리부는 약국별 주요 판매 약품의 리스트를 산출하기 위해, 약국별수신한 처방 데이터들을 대상으로 가장 많은 비중을 차지하는 약품의 리스트를 추출하여 주요 판매 약품 리스트 로 판단할 수 있다. 그리고 상기 데이터 관리부는 일 약국의 주요 판매 약품의 판매 속도를 판단하기 위해, 약국별 판매량 증 감 특성(유행 민감도)을 판단할 수 있다. 상기 데이터 관리부는 연동된 전체 약국에 대하여 전송되는 처방 데이터들을 대상으로 약품별 처방 횟수 및 증감 수치를 산출하고, 개별 약국으로 전송된 처방 데이터들을 대상으로 약품별 처방 횟수 및 증감 수치를 산출하여 이들을 비교할 수 있다. 이 때 약품별 증감 수치는 기설정된 기간(예, 1주일)을 간격으로 산출될 수 있고, 개별 약품 대신 성분 종류별로 증감 수치가 산출될 수도 있다. 이에 따라 상기 데이터 관리부는 전체 약국을 대상으로 확인된 증감 수치를 통해 특정 질환의 유행 여부 및 유행 강도를 판단할 수 있다. 그리고 상기 데이터 관리부는 특정 약국을 대상으로 확인된 증감 수치와 전체를 대상으로 한 증감 수치의 비교를 통해, 대상 약국에서의 상기 특정 질환에 대한 유행 민감도를 판단할 수 있다. 예를 들어, 상기 데이터 관리부는 전체 약국을 대상으로 확인된 약품의 판매 증감 수치에 비해, 특정 약국의 해당 약품의 판매 증감 수치가 클수록 해당 약품에 대응하는 질환에 대한 유행 민감도를 비례하여 큰 값으로 평가하고, 반대로 증감 수치가 평균에 비해 기준치 이상 작은 경우(꾸준하게 비슷한 판매량을 보이는 경우) 해당 질환에 대한 유행 민감도를 작은 값으로 평가할 수 있다. 그리고, 상기 데이터 관리부는 일 약국의 주요 판매 약품의 판매 속도를 판단하기 위해, 약국의 기본 판매 특성(기본 판매량)을 판단할 수 있다. 상기 데이터 관리부는 일 약국에 전달되는 기간별 조제 요청(처방전 전달)의 횟수를 측정하고, 이를 기반 으로 해당 약국의 기본 판매량을 판단할 수 있다. 그리고, 상기 데이터 관리부는 일 약국에서의 '기본 판매량'과, '주요 판매 약품에 대한 유행 민감도'를 고려하여 해당 약국에서의 판매 속도를 산출할 수 있다. 상기 데이터 관리부는 예를 들어, 일 약국에서 특 정 약품에 대한 판매 속도를 '기본 판매량'에 비례하여 산출하되, 특정 약품에 대응하는 질병이 유행하는 기간 에는 해당 약품에 대한 유행 민감도에 비례하는 가중치를 적용하여 예상 판매 속도(또는 예상 판매량)를 산출할 수 있다. 그리고 이 때 특정 약품에 대응하는 질병의 유행 기간은, 전체 약국에 대하여 전달되는 처방 데이터 (예, 약 코드 등)에 기반하여 판단될 수 있다. 나아가, 상기 데이터 관리부는 상기 통계 데이터를 통해 확인된 약국별 주요 약품의 예상 판매 속도를 해 당 약국의 재고 데이터와 비교하여, 해당 약품의 적정 입고 일정을 예측할 수 있다. 그리고 상기 데이터 관리부 는 예측된 적정 입고 일정에 따라 약국 단말로 해당 약품의 입고할 시기가 도래하였음을 알리는 알림 을 제공할 수 있다. 다양한 실시 예에 따라 상기 데이터 관리부는 사용자별 처방 데이터에 대한 통계를 실시하고, 그에 따라 사용자별 복용 약물에 대한 정보를 관리할 수 있다. 따라서 상기 데이터 관리부는 해당 애플리케이션을 통 해 처방전 이미지를 전송하여 의약품(내지 약국 판매 물품)을 수령한 이력이 있는 사용자에 대하여, 기간별, 약 품별 복용 내지 사용 비율을 산출하여 안내할 수 있다. 구체적으로, 상기 데이터 관리부는 사용자에게 약 품의 복용 내지 사용의 비율이 기준치 이상이 되는 기간 정보, 일정 기간(예, 1년)동안 기준치 이상 복용한 약 물의 성분명 등을 산출하여 안내할 수 있다. 이하에서는, 도 6을 참조하여, 본 발명의 실시 예에 따른 처방전 이미지 판독 동작의 순서를 설명하기로 한다. 도 6은 본 발명의 실시 예에 따른 처방전 이미지 판독 동작의 순서를 도시한 순서도이다. 도 6에서 도시되는 바와 같이, 본 발명의 실시 예에 따른 사용자 단말, 서버 및 약국 단말을 포함하는 시스템 상에서의 처방전 이미지 판독 동작이 수행될 수 있다. 먼저, 상기 서버는 사용자 단말로부터 사용자 처방전 이미지를 획득하는 605동작을 수행할 수 있다. 이 때 상기 서버는 사용자 단말이 사용자의 처방전 이미지를 촬영 동작을 제어할 수 있다. 다시 말하 면, 이 때 사용자는 상기 서버에서 지원하는 조제 요청용 애플리케이션에 접속하여, 약 조제를 요청하기 위한 처방전 촬영 기능을 이용할 수 있다. 그리고 이에 따라 상기 서버는 사용자 단말의 카메라 기능 을 이용하여 촬영된 처방전 이미지를 상기 사용자 단말로부터 획득할 수 있다. 또는 다양한 실시 예에 따라 상기 서버는 사용자 단말이 앱에 접속하기 전 촬영되어 사용자 단말 에 미리 저장된 처방전 이미지를 수신할 수도 있다. 상기 서버는 획득한 처방전 이미지를 대상으로 텍스트를 추출하는 610동작을 수행할 수 있다. 이 때 상기 텍스트는 문자열 및 숫자열을 포함할 수 있다. 이 때 상기 처방전 이미지에서 텍스트를 추출하는 동작은 OCR(Optical Character Recognition)판독 기술을 활용하여 수행될 수 있다. 그리고 상기 서버는 상기 추출된 텍스트의 내용을 인식하고, 그에 기반하여 약국 제출용 처방전이 맞는지 여부를 판단하는 615동작을 수행할 수 있다. 이 때 약국 제출용 처방전이 아닌 것으로 판단되는 경우, 상기 서 버는 사용자 처방전 이미지를 획득하기 위한 605동작을 재수행할 수 있다. 예컨대, 상기 서버는 사용 자 단말에 '약국 제출용 처방전을 촬영해주세요'와 같은 요청 문구를 표시하여, 사용자로 하여금 유효한 처방전을 촬영하도록 요청할 수 있다. 상기 615동작은 사용자가 촬영하여 서버로 전송한 처방전이 유효한 처방전인지 여부를 판단하는 동작으로, 약국 제출용 처방전인지 여부를 확인하는 동작 외에도, 다양한 방식으로 처방전의 유효성 판단을 위한 동작을 수행할 수 있다. 예를 들어, 상기 서버는 획득된 처방전 이미지로부 터 추출된 텍스트에 기반하여 처방전의 유효기간을 식별하고, 식별된 유효기간이 경과한 것으로 판단된 경우에 도 사용자의 처방전 이미지를 요청하는 605동작을 다시 수행할 수 있다. 이후 상기 서버는 상기 추출된 텍스트에 기반하여 코드 관련 문자열을 판단하는 620동작을 수행할 수 있다. 예컨대 상기 코드는 병원에서 처방전을 발급할 때 생성하는 처방전 교부번호를 의미할 수 있다. 상기 서 버는 기설정된 특정 기준에 따라 추출된 텍스트들 중 코드 관련 문자열을 식별할 수 있다. 예를 들어 상기 서버는 코드 관련 문자열을 판단하는 기준으로 텍스트의 개수, 텍스트의 종류(문자열, 숫자열), 텍스트의 기재 위치(예, 좌측 상단)등을 설정하고, 이를 기반으로 대상 코드(예, 교부번호)임을 판단할 수 있다. 코드 관련 문자열을 판단한 상기 서버는 620동작을 통해 식별된 코드와 동일한 코드로 기등록된 처방전이 존재하는지 여부를 확인하는 625동작을 수행할 수 있다. 이 때 상기 서버는 이전에 등록된 동일한 처방전 이 존재하는 것으로 판단한 경우 동일 코드를 갖는 기등록 처방전을 매핑하고, 매핑된 복수의 처방전으로부터 처방 데이터를 판단하는 630동작을 수행할 수 있다. 예를 들어, 수신된 처방전 이미지가 2장이고, 이들에 대한 코드(교부번호)가 동일한 것으로 판단되면, 상기 서버는 처방전 이미지가 2장이라 하더라도, 각 처방전 이 미지를 통해 추출된 각각의 처방데이터를 병합하여 하나의 데이터로 생성할 수 있다. 한편, 상기 서버는 625동작에서, 상기 식별된 코드와 동일한 처방전이 기존에 등록되지 않은 것으로 판단 되는 경우, 상기 획득된 처방전에 대응하는 처방 데이터를 판단하는 635동작을 수행할 수 있다. 구체적으로, 상기 서버는 텍스트 추출 동작을 통해 획득된 텍스트 데이터들을 대상으로 미리 설정된 기준 조건을 만족하는 항목별 데이터를 식별하고 식별된 값들을 포함하는 처방 데이터를 생성할 수 있다. 예를 들어, 상기 서버는 처방 데이터의 항목들로 질병분류코드, 약 코드, 투약량, 투여횟수, 투여일수, 중량 및 본인 부담기호 중 적어도 하나를 포함하여 구성할 수 있다. 그리고 상기 서버는 이러한 항목 별 데이터 값을 식별할 시, 미리 설정된 기준 조건인 텍스트의 기재 위치, 텍스트의 개수(자릿수), 텍스트 조합 형태(예, 숫자로만 구성, 알파벳으로만 구성, 숫자 및 알파벳의 조 합으로 구성 등) 등에 기반하여 식별할 수 있다. 예를 들어, 상기 서버는 9자리의 숫자열로 구성된 텍스트 에 대하여 약(의약품) 코드로 식별할 수 있다. 상기 서버는 상기 630동작 및 635동작 이후 처방전 이미지로부터 추출된 처방 데이터를 약국 단말로 전송 하는 640동작을 수행할 수 있다. 요컨대, 본 발명의 실시 예에 따른 처방전 이미지 판독 시스템은 사용자의 처방전을 촬영하는 사용자 단말, 상 기 사용자 단말로부터 사용자의 처방전 이미지를 수신하고, 수신된 상기 처방전 이미지로부터 처방 데이터를 추 출하며, 사용자가 지정한 약국의 단말로 상기 처방 데이터를 전달하여 약의 조제를 요청하는 서버 및 상기 서버 로부터 사용자의 처방 데이터를 획득하고, 획득된 처방 데이터에 대응하는 약을 조제하도록 안내하는 약국 단말 을 포함하여 구성될 수 있다. 또한, 상기 서버는 상기 사용자 단말로부터 상기 수신된 처방전 이미지에 포함된 텍스트를 식별하고, 상기 식별 된 텍스트에 기반하여 상기 처방 데이터를 추출할 수 있다. 이 때 상기 처방 데이터는 질병분류코드, 약코드, 투약량, 투여횟수, 투여일수, 중량 중 적어도 하나의 항목을 포함하여 구성될 수 있다. 그리고 상기 서버는 상기 식별된 텍스트에 기반하여 상기 수신된 처방전 이미지에 대한 약국용 처방전의 해당 여부 또는 유효기간의 경과 여부에 따른 유효성 판단을 수행하고, 유효하지 않은 처방전으로 판단되는 경우, 처 방전 이미지를 재요청할 수 있다. 또한 상기 서버는 상기 식별된 텍스트 중 기설정된 조건을 만족하는 숫자열을 추출하여 교부번호로 판단하고, 동일한 교부번호를 포함하며 처방 데이터가 상이한 이전 등록 처방전을 동일 처방전으로 분류하고, 동일 처방전 으로 판단된 처방전 이미지들로부터 추출된 각각의 처방 데이터를 병합하여 저장할 수 있다. 또한 상기 서버는 상기 식별된 텍스트의 기재 위치, 개수 및 배열 상태에 따라 처방 데이터를 항목별로 분류할 수 있다. 이 때, 상기 배열 상태는 숫자 배열, 문자 배열 및 숫자와 문자의 조합 배열 중 어느 하나로 선택될 수 있다. 즉, 상기 서버는 식별된 텍스트의 기재 위치와, 몇개의 숫자열인지 또는 몇 개로 이루어진 숫자 및 알 파벳의 조합인지 등에 따라 처방 데이터의 항목을 질병분류코드, 약코드, 투약량, 투여횟수, 투여일수, 중량 등 으로 분류하여 판단할 수 있다. 그리고 상기 서버는 촬영된 처방전 이미지에 처방전을 촬영한 시점 및 촬영 도구에 대한 정보를 함께 기록하며, 촬영 시점으로부터 기설정된 기간이 경과한 처방전 이미지 또는 기설정된 촬영 도구로 촬영되지 않은 처방전 이 미지의 활용을 제한할 수 있다. 이러한 동작은 처방전을 미리 촬영한 이후 편집프로그램 등으로 처방전 이미지 의 위변조를 수행하는 것을 방지하기 위해 수행될 수 있다. 그리고 상기 서버는 상기 추출한 처방 데이터를 기록하고, 상기 처방 데이터에 기반하여 판매 약품에 대한 약국 별 통계 데이터를 생성하되, 상기 약국 단말로부터 약국별 주요 약품의 재고 데이터를 획득하고, 상기 통계 데 이터를 통해 확인된 주요 판매 약품의 예상 판매 속도를 상기 재고 데이터와 비교하여 약품별 예상 입고 일정을 산출할 수 있다. 본 발명의 실시 예에 따른 처방전 이미지 판독 방법은 사용자 단말이, 사용자의 처방전을 촬영하는 단계, 서버 가, 상기 사용자 단말로부터 사용자의 처방전 이미지를 수신하고, 수신된 상기 처방전 이미지로부터 처방 데이 터를 추출하는 단계, 상기 서버가, 사용자가 지정한 약국의 단말로 상기 처방 데이터를 전달하여 약의 조제를 요청하는 단계 및 약국 단말이, 상기 서버로부터 사용자의 처방 데이터를 획득하고, 획득된 처방 데이터에 대응 하는 약을 조제하도록 안내하는 단계를 포함하여 구성될 수 있다. 본 발명의 실시 예에 따른 서버는 프로세서, 메모리, 통신부 등을 포함할 수 있다. 메모리는 전자 장치의 동작에 필요한 각종 프로그램 및 데이터를 저장할 수 있다. 메모리는 비휘발성 메모리, 휘발성 메모리, 플래시메모리(flash-memory), 하드디스크 드라이브(HDD) 또는 솔리드 스테이트 드라이브(SSD) 등으로 구현될 수 있다. 통신부는 외부 장치와 통신을 수행할 수 있다. 특히, 통신부는 와이파이 칩, 블루투스 칩, 무선 통신 칩, NFC칩, 저전력 블루투스 침(BLE 칩) 등과 같은 다양한 통신 칩을 포함할 수 있다. 이때, 와이파이 칩, 블루투스 칩, NFC 칩은 각각 LAN 방식, WiFi 방식, 블루투스 방식, NFC 방식으로 통신을 수행한다. 와이파이 칩이나 블루 투스칩을 이용하는 경우에는 SSID 및 세션 키 등과 같은 각종 연결 정보를 먼저 송수신 하여, 이를 이용하여 통 신 연결한 후 각종 정보들을 송수신할 수 있다. 무선 통신칩은 IEEE, 지그비, 3G(3rd Generation), 3GPP(3rd Generation Partnership Project), LTE(Long Term Evolution) 등과 같은 다양한 통신 규격에 따라 통신을 수행 하는 칩을 의미한다. 프로세서는 메모리에 저장된 각종 프로그램을 이용하여 사용자 기기의 전반적인 동작을 제어할 수 있다. 프로세 서는 RAM, ROM, 그래픽 처리부, 메인 CPU, 제1 내지 n 인터페이스 및 버스로 구성될 수 있다. 이때, RAM, ROM, 그래픽 처리부, 메인 CPU, 제1 내지 n 인터페이스 등은 버스를 통해 서로 연결될 수 있다. RAM은 O/S 및 어플리케이션 프로그램을 저장한다. 구체적으로, 전자 장치가 부팅되면 O/S가 RAM에 저장되고, 사 용자가 선택한 각종 어플리케이션 데이터가 RAM에 저장될 수 있다. ROM에는 시스템 부팅을 위한 명령어 세트 등이 저장된다. 턴 온 명령이 입력되어 전원이 공급되면, 메인 CPU는 ROM에 저장된 명령어에 따라 메모리에 저장된 O/S를 RAM에 복사하고, O/S를 실행시켜 시스템을 부팅시킨다. 부팅이 완료되면, 메인 CPU는 메모리에 저장된 각종 어플리케이션 프로그램을 RAM에 복사하고, RAM 에 복사된 어플리케이션 프로그램을 실행시켜 각종 동작을 수행한다. 메인 CPU는 메모리에 액세스하여, 메모리에 저장된 OS를 이용하여 부팅 및 실행을 포함한 동작들을 수행한다. 그리고, 메인 CPU는 메모리에 저장된 각종 프로그램, 컨텐츠, 데이터 등을 이용하여 다양한 동작을 수행한다. 제1 내지 n 인터페이스는 상술한 각종 구성요소들과 연결된다. 제1 내지 n 인터페이스 중 하나는 네트워크를 통 해 외부 장치와 연결되는 네트워크 인터페이스가 될 수도 있다. 한편, 나아가, 프로세서는 인공지능 모델을 제어할 수 있다. 이 경우, 제어부는 인공지능 모델을 제어하기 위한 그래픽 전용 프로세서(예: GPU)를 포함할 수 있음은 물론이다. 프로세서는 하나 이상의 코어(core, 미도시) 및 그래픽 처리부(미도시) 및/또는 다른 구성 요소와 신호를 송수 신하는 연결 통로(예를 들어, 버스(bus) 등)를 포함할 수 있다. 일 실시예에 따른 프로세서는 메모리에 저장된 하나 이상의 인스트럭션을 실행함으로써, 본 발명과 관련하여 설 명된 방법을 수행한다. 한편, 프로세서는 프로세서 내부에서 처리되는 신호(또는, 데이터)를 일시적 및/또는 영구적으로 저장하는 램 (RAM: Random Access Memory, 미도시) 및 롬(ROM: Read-Only Memory, 미도시)을 더 포함할 수 있다. 또한, 프 로세서는 그래픽 처리부, 램 및 롬 중 적어도 하나를 포함하는 시스템온칩(SoC: system on chip) 형태로 구현될 수 있다. 메모리에는 프로세서의 처리 및 제어를 위한 프로그램들(하나 이상의 인스트럭션들)을 저장할 수 있다. 저장부 에 저장된 프로그램들은 기능에 따라 복수 개의 모듈들로 구분될 수 있다. 본 발명의 실시예와 관련하여 설명된 방법 또는 알고리즘의 단계들은 하드웨어로 직접 구현되거나, 하드웨어에 의해 실행되는 소프트웨어 모듈로 구현되거나, 또는 이들의 결합에 의해 구현될 수 있다. 소프트웨어 모듈은 RAM(Random Access Memory), ROM(Read Only Memory), EPROM(Erasable Programmable ROM), EEPROM(Electrically Erasable Programmable ROM), 플래시 메모리(Flash Memory), 하드 디스크, 착탈형 디스크, CD-ROM, 또는 본 발명이 속하는 기술 분야에서 잘 알려진 임의의 형태의 컴퓨터 판독가능 기록매체에 상주할 수도 있다. 본 발명의 구성 요소들은 하드웨어인 컴퓨터와 결합되어 실행되기 위해 프로그램(또는 애플리케이션)으로 구현 되어 매체에 저장될 수 있다. 본 발명의 구성 요소들은 소프트웨어 프로그래밍 또는 소프트웨어 요소들로 실행 될 수 있으며, 이와 유사하게, 실시 예는 데이터 구조, 프로세스들, 루틴들 또는 다른 프로그래밍 구성들의 조 합으로 구현되는 다양한 알고리즘을 포함하여, C, C++, 자바(Java), 어셈블러(assembler) 등과 같은 프로그래밍 또는 스크립팅 언어로 구현될 수 있다. 기능적인 측면들은 하나 이상의 프로세서들에서 실행되는 알고리즘으로 구현될 수 있다. 상술한 예를 참조하여 본 발명을 상세하게 설명하였지만, 당업자라면 본 발명의 범위를 벗어나지 않으면서도 본 예들에 대한 개조, 변경 및 변형을 가할 수 있다. 요컨대 본 발명이 의도하는 효과를 달성하기 위해 도면에 도 시된 모든 기능 블록을 별도로 포함하거나 도면에 도시된 모든 순서를 도시된 순서 그대로 따라야만 하는 것은 아니며, 그렇지 않더라도 얼마든지 청구항에 기재된 본 발명의 기술적 범위에 속할 수 있음에 주의한다."}
{"patent_id": "10-2023-0064797", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 실시 예에 따른 처방전 이미지 판독 시스템의 구성을 도시한 도면이다. 도 2는 본 발명의 실시 예에 따른 서버의 구성을 도시한 도면이다. 도 3은 본 발명의 실시 예에 따른 접수 지원부의 구성을 도시한 도면이다. 도 4는 본 발명의 실시 예에 따른 처방전 등록부의 구성을 도시한 도면이다. 도 5는 본 발명의 실시 예에 따른 상황 안내부의 구성을 도시한 도면이다. 도 6은 본 발명의 실시 예에 따른 처방전 이미지 판독 동작의 순서를 도시한 순서도이다."}
