{"patent_id": "10-2022-0135543", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0055931", "출원번호": "10-2022-0135543", "발명의 명칭": "기계학습 기반 판형부재 표면결함 판정방법", "출원인": "에이아이다이콤", "발명자": "김희연"}}
{"patent_id": "10-2022-0135543", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "RGB 카메라로 판형부재를 촬영한 영상으로부터 판형부재의 그레이스케일 이미지를 획득하는 이미지 획득단계;상기 이미지 획득단계에서 획득된 그레이스케일 이미지에서 판형부재 이외의 배경을 제거하는 이미지 배경 제거단계;상기 이미지 배경 제거단계에서 배경이 제거된 이미지에서 판형부재의 경계선을 추출하는 판형부재 경계선 추출단계; 기계학습 알고리즘을 사용하여, 상기 판형부재 경계선 추출단계에서 추출된 판형부재 경계선을 기반으로 판형부재 표면결함 위치를 감지하는 표면결함 위치 감지단계; 및상기 결함 위치 감지단계에서 감지된 판형부재의 표면결함 위치 유무에 따라 판형부재의 정상 상태 또는 결함상태를 판정하는 표면결함 여부 판정단계;를 포함하는 것을 특징으로 하는 기계학습 기반 판형부재 표면결함 판정방법."}
{"patent_id": "10-2022-0135543", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 이미지 배경 제거단계는 이미지 배경 제거 알고리즘을 사용하여 상기 이미지 획득단계에서 획득된 그레이스케일 이미지에서 그레이스케일 임계값을 산출하는 그레이스케일 임계값 산출과정; 및상기 그레이스케일 임계값 산출과정에서 산출된 임계값 이하를 갖는 픽셀을 제거하여 상기 그레이스케일 이미지에서 배경을 제거하는 배경 제거과정;을 포함하는 것을 특징으로 하는 기계학습 기반 판형부재 표면결함 판정방법."}
{"patent_id": "10-2022-0135543", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 이미지 배경 제거단계에서 상기 이미지 배경 제거 알고리즘은 상기 그레이스케일 이미지의 그레일스케일값에 따른 히스토그램(histogram)을 생성하는 히스토그램 생성 프로세스;상기 히스토그램 생성 프로세스에서 생성된 히스토그램에서 배경 이미지에 대응하는 배경 클래스와 판형부재 이미지에 대응하는 판형부재 클래스로 분류하는 클래스 분류 프로세스;상기 클래스 분류 프로세스에서 분류된 배경 클래스와 판형부재 클래스 사이의 그레이스케일 값을 상기 그레이스케일 임계값으로 산출하는 임계값 산출 프로세스; 및 상기 임계값 산출 프로세스에서 산출된 임계값 이하를 갖는 배경 클래스는 제거하는 이미지 배경 제거프로세스;를 수행하는 것을 특징으로 하는 기계학습 기반 판형부재 표면결함 판정방법."}
{"patent_id": "10-2022-0135543", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 판형부재 경계선 추출단계는 상기 이미지 배경 제거단계에서 배경이 제거된 이미지에서 판형부재의 중심점을 감지하는 중심점 감지 과정;상기 중심점 감지 과정에서 감지된 중심점과 판형부재 경계부 사이의 거리 기반으로 판형부재의 4개의 꼭짓점을감지하는 꼭짓점 감지 과정; 및상기 꼭짓점 감지 과정에서 감지된 4개 꼭짓점을 기준으로 판형부재의 경계선을 추출하는 경계선 추출 과정;을포함하는 것을 특징으로 하는 기계학습 기반 판형부재 표면결함 판정방법.공개특허 10-2024-0055931-3-청구항 5 제4항에 있어서,상기 판형부재 경계선 추출단계의 꼭짓점 감지 과정은 상기 중심점 감지 과정에서 감지된 중심점과 판형부재 경계부에 존재하는 임의의 점 사이의 거리를 계산하고, 상기 거리에 대한 4개의 피크값(peak)을 각각 판형부재의4개 꼭짓점으로 감지하는 것을 특징으로 하는 것을 특징으로 하는 기계학습 기반 판형부재 표면결함 판정방법."}
{"patent_id": "10-2022-0135543", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제4항에 있어서,상기 판형부재 경계선 추출단계의 경계선 추출 과정은 판형부재의 경계부를 복수 개의 서브 경계부로 분할하는경계부 분할 과정;상기 복수 개의 서브 경계부에 선형 회귀 모델(linear regression model)을 적용하고, 이미지 마스크(Imagemask)에 상기 선형 회귀 모델에 대응하는 선형 그래프를 도시하는 선형 회귀 과정; 및다각형 근사 알고리즘(Polygonal Approximation Algorithm)을 사용하여 상기 이미지 마스크에 도시된 선형 그래프로부터 판형부재의 경계선에 대응하는 다각형을 근사하는 다각형 근사 과정;을 포함하는 것을 특징으로 하는기계학습 기반 판형부재 표면결함 판정방법."}
{"patent_id": "10-2022-0135543", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제4항에 있어서,상기 표면결함 위치 감지단계는 상기 판형부재 경계선 추출단계의 꼭짓점 감지 과정에서 감지된 상기 판형부재의 4개의 꼭짓점을 연결한 직선을 레퍼런스 경계선으로 저장하고, 상기 레퍼런스 경계선과 상기 판형부재 경계선 추출단계에서 추출된 판형부재 경계선을 비교하여 판형부재의 경계부 표면결함 위치를 감지하는 것을 특징으로 하는 기계학습 기반 판형부재 표면결함 판정방법."}
{"patent_id": "10-2022-0135543", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7항에 있어서,상기 표면결함 위치 감지단계는 이미지 처리 알고리즘을 사용하여 상기 판형부재 경계선 추출 단계에서 경계선이 추출된 이미지에서 노이즈를 제거하는 노이즈 제거 과정;임계값 알고리즘을 사용하여 상기 노이즈 제거 과정에서 노이즈 제거된 그레이스케일 이미지에서 그레이스케일값을 기반으로 임계값을 산출하는 임계값 산출 과정;상기 판형부재 경계선 추출단계의 상기 이미지 마스크를 흰색 배경과 검은색 다각형으로 이진화 처리하는 이진화 처리 과정;상기 이진화 처리 과정을 통해 이진화 처리된 이미지 마스크와 상기 임계값 산출 과정을 통해 임계값이 산출된그레이스케일 이미지를 결합하여 판형부재의 경계부 표면결함 위치를 감지하는 경계부 표면결함 위치 감지과정;을 포함하는 것을 특징으로 하는 기계학습 기반 판형부재 표면결함 판정방법."}
{"patent_id": "10-2022-0135543", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제1항에 있어서,상기 표면결함 위치 감지단계는 딥러닝 기반의 객체 인식 알고리즘을 사용하여 판형부재의 내부 표면결함 위치를 감지하고,상기 객체 인식 알고리즘은 판형부재에 대한 복수 개의 학습용 이미지 데이터를 수집하는 데이터 수집프로세스;상기 데이터 수집 프로세스를 통해 수집된 이미지 데이터를 타일링(tiling) 처리 또는 증강 처리하여 학습 데이터셋(dataset)을 구축하는 데이터셋 구축 프로세스; 및상기 데이터셋 구축 프로세스애서 구축된 학습 데이터셋의 이미지 데이터를 사용하여 판형부재의 내부 표면결함공개특허 10-2024-0055931-4-위치를 감지하는 내부 표면결함 위치 감지 프로세스;를 포함하는 것을 특징으로 하는 기계학습 기반 판형부재표면결함 판정방법."}
{"patent_id": "10-2022-0135543", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제1항에 있어서,상기 표면결함 여부 판정단계는 상기 표면결함 위치 감지단계에서 표면결함 위치가 감지되는 경우 판형부재를 결함 상태, 표면결함 위치가 감지되지 않는 경우 판형부재를 정상 상태로 판정하고,상기 표면결함 위치 감지단계에서 감지된 표면결함의 위치 또는 판형부재의 상태를 식별하여 나타내는 것을 특징으로 하는 기계학습 기반 판형부재 표면결함 판정방법."}
{"patent_id": "10-2022-0135543", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 기계학습 기반 판형부재 표면결함 판정방법에 관한 것이다. 보다 상세하게, 본 발명은 판형부재 제조 공정에 있어서 머신비전(Machine Vision) 기반의 자동 결함검사 시스템을 구축하기 위한 목적으로, 기계학습 알 고리즘 및 이미지 처리 기술을 사용하여 판형부재 이미지로부터 판형부재 표면결함의 위치를 정확하게 진단하고, 이를 통해 판형부재의 결함 상태 여부를 판정할 수 있는 기계학습 기반 판형부재 표면결함 판정방법에 관한 것이다."}
{"patent_id": "10-2022-0135543", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 기계학습 기반 판형부재 표면결함 판정방법에 관한 것이다. 보다 상세하게, 본 발명은 판형부재 제조 공정에 있어서 머신비전(Machine Vision) 기반의 자동 결함검사 시스템을 구축하기 위한 목적으로, 기계학습 알 고리즘 및 이미지 처리 기술을 사용하여 판형부재 이미지로부터 판형부재 표면결함의 위치를 정확하게 진단하고, 이를 통해 판형부재의 결함 상태 여부를 판정할 수 있는 기계학습 기반 판형부재 표면결함 판정방법 에 관한 것이다."}
{"patent_id": "10-2022-0135543", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "주택의 개조 및 인테리어에 대한 관심이 증가함에 따라, 바닥재 산업이 지속적으로 성장하고 있는 추세이며, 바 닥재가 적용된 주거 공간의 미적 완성도를 위하여 표면에 결함이 없는 우수한 품질의 바닥재가 요구된다. 이에 따라, 다양한 종류의 바닥재, 예를 들면 강화마루, 합판마루, 강마루, 원목마루 등과 같은 판형부재의 제조 공 정에 있어 판형부재의 품질 검사에 대한 비중과 중요도가 높아지고 있다. 일반적으로, 대규모 생산 라인에서는 작업자가 직접 판형부재의 색상결함 또는 손상 등을 육안으로 모니터링하 는 방법으로 품질 검사를 수행하지만, 이러한 검사 방법은 품질 검사의 정확도가 저하되고, 검사 속도가 느리며, 인건비 등으로 인해 높은 검사 비용이 요구되는 단점이 있다. 이에 따라, 최근에는 머신비전(Machine Vision) 기반으로 판형부재의 표면결함을 자동으로 판정할 수 있는 품질 검사 시스템에 관한 관심이 증가하고 있다. 한편, 종래 선행기술 중 대한민국 등록특허 제10-2436786호(인공지능 기반 외관 표면 품질 검사 장치 및 방법), 대한민국 등록특허 제10-2372714호(딥러닝 기반 자동 결함 검사 장치 및 방법), 대한민국 등록특허 제10- 2008973호(딥러닝 기반의 하수도관 내부 결함 탐지 장치 및 방법) 등에 나타난 바와 같이, 기계학습 알고리즘을 적용하여 대상물에 존재하는 일부 결함을 자동으로 감지하기 위한 기술이 일부 소개된 바 있으나, 이러한 종래 선행기술들은 바닥재와 같은 판형부재 상에 존재하는 미세한 크기의 표면결함, 구체적으로 품질에 문제가 없으 나 인테리어 마감재로서의 특성상 제품 불량으로 판정될 수 있는 결함 등의 위치를 정확하게 감지하는데 한계가 존재한다. 따라서, 바닥재와 같은 판형부재의 제조 공정에 있어서 머신비전(Machine Vision) 기반의 자동 결함검사 시스템 을 구축하기 위한 목적으로, 기계학습 알고리즘 및 이미지 처리 기술을 사용하여 판형부재 이미지로부터 판형부 재의 표면결함 위치를 정확하게 진단하고, 이를 통해 판형부재의 결함 상태 여부를 판정할 수 있는 기계학습 기 반 판형부재 표면결함 판정방법이 요구되고 있다."}
{"patent_id": "10-2022-0135543", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 바닥재 등의 판형부재의 제조 공정에 있어서 머신비전(Machine Vision) 기반의 자동 결함검사 시스템 을 구축하기 위한 목적으로, 기계학습 알고리즘 및 이미지 처리 기술을 사용하여 판형부재 이미지로부터 판형부 재의 표면결함의 위치를 정확하게 진단하고, 이를 통해 판형부재의 결함 상태 여부를 판정할 수 있는 기계학습기반 판형부재 표면결함 판정방법을 제공하는 것을 해결하고자 하는 과제로 한다."}
{"patent_id": "10-2022-0135543", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 과제를 해결하기 위하여, 본 발명은 RGB 카메라로 판형부재를 촬영한 영상으로부터 판형부재의 그레이스케 일 이미지를 획득하는 이미지 획득단계; 상기 이미지 획득단계에서 획득된 그레이스케일 이미지에서 판형부재 이외의 배경을 제거하는 이미지 배경 제거단계; 상기 이미지 배경 제거단계에서 배경이 제거된 이미지에서 판형 부재의 경계선을 추출하는 판형부재 경계선 추출단계; 기계학습 알고리즘을 사용하여, 상기 판형부재 경계선 추 출단계에서 추출된 판형부재 경계선을 기반으로 판형부재 표면결함 위치를 감지하는 표면결함 위치 감지단계; 및 상기 결함 위치 감지단계에서 감지된 판형부재의 표면결함 위치 유무에 따라 판형부재의 정상 상태 또는 결 함 상태를 판정하는 표면결함 여부 판정단계;를 포함하는 것을 특징으로 하는 기계학습 기반 판형부재 표면결함 판정방법을 제공할 수 있다. 또한, 상기 이미지 배경 제거단계는 이미지 배경 제거 알고리즘을 사용하여 상기 이미지 획득단계에서 획득된 그레이스케일 이미지에서 그레이스케일 임계값을 산출하는 그레이스케일 임계값 산출과정; 및 상기 그레이스케 일 임계값 산출과정에서 산출된 임계값 이하를 갖는 픽셀을 제거하여 상기 그레이스케일 이미지에서 배경을 제 거하는 배경 제거과정;을 포함할 수 있다. 그리고, 상기 이미지 배경 제거단계에서 상기 이미지 배경 제거 알고리즘은 상기 그레이스케일 이미지의 그레일 스케일 값에 따른 히스토그램(histogram)을 생성하는 히스토그램 생성 프로세스; 상기 히스토그램 생성 프로세 스에서 생성된 히스토그램에서 배경 이미지에 대응하는 배경 클래스와 판형부재 이미지에 대응하는 판형부재 클 래스로 분류하는 클래스 분류 프로세스; 상기 클래스 분류 프로세스에서 분류된 배경 클래스와 판형부재 클래스 사이의 그레이스케일 값을 상기 그레이스케일 임계값으로 산출하는 임계값 산출 프로세스; 및 상기 임계값 산출 프로세스에서 산출된 임계값 이하를 갖는 배경 클래스는 제거하는 이미지 배경 제거 프로세스;를 수행할 수 있 다. 여기서, 상기 판형부재 경계선 추출단계는 상기 이미지 배경 제거단계에서 배경이 제거된 이미지에서 판형부재 의 중심점을 감지하는 중심점 감지 과정; 상기 중심점 감지 과정에서 감지된 중심점과 판형부재 경계부 사이의 거리 기반으로 판형부재의 4개의 꼭짓점을 감지하는 꼭짓점 감지 과정; 및 상기 꼭짓점 감지 과정에서 감지된 4 개 꼭짓점을 기준으로 판형부재의 경계선을 추출하는 경계선 추출 과정;을 포함할 수 있다. 이 경우, 상기 판형부재 경계선 추출단계의 꼭짓점 감지 과정은 상기 중심점 감지 과정에서 감지된 중심점과 판 형부재 경계부에 존재하는 임의의 점 사이의 거리를 계산하고, 상기 거리에 대한 4개의 피크값(peak)을 각각 판 형부재의 4개 꼭짓점으로 감지할 수 있다. 그리고, 상기 판형부재 경계선 추출단계의 경계선 추출 과정은 판형부재의 경계부를 복수 개의 서브 경계부로 분할하는 경계부 분할 과정; 상기 복수 개의 서브 경계부에 선형 회귀 모델(linear regression model)을 적용하 고, 이미지 마스크(Image mask)에 상기 선형 회귀 모델에 대응하는 선형 그래프를 도시하는 선형 회귀 과정; 및 다각형 근사 알고리즘(Polygonal Approximation Algorithm)을 사용하여 상기 이미지 마스크에 도시된 선형 그래 프로부터 판형부재의 경계선에 대응하는 다각형을 근사하는 다각형 근사 과정;을 포함할 수 있다. 또한, 상기 표면결함 위치 감지단계는 상기 판형부재 경계선 추출단계의 꼭짓점 감지 과정에서 감지된 상기 판 형부재의 4개의 꼭짓점을 연결한 직선을 레퍼런스 경계선으로 저장하고, 상기 레퍼런스 경계선과 상기 판형부재 경계선 추출단계에서 추출된 판형부재 경계선을 비교하여 판형부재의 경계부 표면결함 위치를 감지할 수 있다. 그리고, 상기 표면결함 위치 감지단계는 이미지 처리 알고리즘을 사용하여 상기 판형부재 경계선 추출 단계에서 경계선이 추출된 이미지에서 노이즈를 제거하는 노이즈 제거 과정; 임계값 알고리즘을 사용하여 상기 노이즈 제 거 과정에서 노이즈 제거된 그레이스케일 이미지에서 그레이스케일 값을 기반으로 임계값을 산출하는 임계값 산 출 과정; 상기 판형부재 경계선 추출단계의 상기 이미지 마스크를 흰색 배경과 검은색 다각형으로 이진화 처리 하는 이진화 처리 과정; 상기 이진화 처리 과정을 통해 이진화 처리된 이미지 마스크와 상기 임계값 산출 과정 을 통해 임계값이 산출된 그레이스케일 이미지를 결합하여 판형부재의 경계부 표면결함 위치를 감지하는 경계부 표면결함 위치 감지과정;을 포함할 수 있다. 여기서, 상기 표면결함 위치 감지단계는 딥러닝 기반의 객체 인식 알고리즘을 사용하여 판형부재의 내부 표면결 함 위치를 감지하고, 상기 객체 인식 알고리즘은 판형부재에 대한 복수 개의 학습용 이미지 데이터를 수집하는 데이터 수집 프로세스; 상기 데이터 수집 프로세스를 통해 수집된 이미지 데이터를 타일링(tiling) 처리 또는증강 처리하여 학습 데이터셋(dataset)을 구축하는 데이터셋 구축 프로세스; 및 상기 데이터셋 구축 프로세스애 서 구축된 학습 데이터셋의 이미지 데이터를 사용하여 판형부재의 내부 표면결함 위치를 감지하는 내부 표면결 함 위치 감지 프로세스;를 포함할 수 있다. 이 경우, 상기 표면결함 여부 판정단계는 상기 표면결함 위치 감지단계에서 표면결함 위치가 감지되는 경우 판 형부재를 결함 상태, 표면결함 위치가 감지되지 않는 경우 판형부재를 정상 상태로 판정하고, 상기 표면결함 위 치 감지단계에서 감지된 표면결함의 위치 또는 판형부재의 상태를 식별하여 나타낼 수 있다."}
{"patent_id": "10-2022-0135543", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따른 기계학습 기반 판형부재 표면결함 판정방법에 의하면, 기계학습 알고리즘 및 이미지 처리 기술 을 적용하여, RGB 카메라로 촬영된 영상으로부터 판형부재의 표면결함, 예를 들면 판형부재 경계부에서의 균열, 치핑(chipping) 등으로 인한 경계부 표면결함 또는 판형부재 내부에서의 얼룩짐, 색상 결함 등으로 인한 내부 표면결함을 자동으로 신속하게 판정할 수 있다. 또한, 본 발명에 따른 기계학습 기반 판형부재 표면결함 판정방법에 의하면, 이미지 처리 알고리즘, 임계값 알 고리즘(threshold algorithm), 다각형 근사 알고리즘(Polygonal Approximation Algorithm) 등을 적용하여 강화 마루 가장자리의 결함을 측정하고 YOLO 인공지능 모델(You Only Look Once)을 적용하여 강화마루 내부의 결함을 이미지의 조도 또는 노이즈 요소 등에 상관없이 정확하게 판정할 수 있다. 또한, 본 발명에 따른 기계학습 기반 판형부재 표면결함 판정방법에 의하면, 판형부재의 제조 공정에서 머신비 전(Machine Vision) 기반 자동 결함검사 시스템 구축에 적용이 가능하여 이송부를 통해 이송되는 판형부재의 표 면결함 위치 또는 판형부재의 표면결함 발생 여부를 실시간으로 판정함으로써, 품질 검사의 속도 및 정확도를 향상시키고, 품질 검사에 소요되는 시간 및 비용을 효과적으로 감소시킬 수 있다."}
{"patent_id": "10-2022-0135543", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면들을 참조하여 본 발명의 바람직한 실시예들을 상세히 설명하기로 한다. 그러나, 본 발명은 여기서 설명된 실시예들에 한정되지 않고 다른 형태로 구체화될 수도 있다. 오히려, 여기서 소개되는 실시예들 은 개시된 내용이 철저하고 완전해질 수 있도록, 그리고 당업자에게 발명의 사상이 충분히 전달될 수 있도록 하 기 위해 제공되는 것이다. 명세서 전체에 걸쳐서 동일한 참조 번호들은 동일한 구성요소들을 나타낸다. 도 1은 본 발명에 따른 기계학습 기반 판형부재 표면결함 판정방법이 적용된 머신비전(Machine Vision) 기반 자 동 판형부재 결함검사 시스템의 하나의 실시예를 도시한다. 도 1에 도시된 바와 같이, 머신비전 기반 자동 결함검사 시스템은 RGB 카메라로 판형부재의 전체 영 상을 촬영하기 위한 하나 이상의 촬영부, 상기 촬영부를 구성하는 RGB 카메라를 제어하기 위한 제어부; 상기 판형부재가 놓인 방향으로 광원을 공급하기 위한 광원부; 및 자동 결함검사 시스템 내에서 판형부재를 이송시키기 위한 컨베이어 벨트를 포함하는 이송부;를 포함하여 구성될 수 있다. 상기 촬영부는 RGB 카메라를 이용하여 판형부재를 촬영하는 역할을 수행한다. 여기서, 상기 촬영부 의 RGB 카메라는 제어부에 의해 각각 독립적으로 구동 및 제어될 수 있으며, 상기 촬영부의 RGB 카메라는 판형부재의 전체 길이 또는 넓이에 따라 RGB 카메라의 전체 갯수, RGB 카메라 사이의 이격 거리(h) 및 RGB 카메라와 컨베이어 벨트 사이의 높이 등이 적절한 범위에서 결정될 수 있다. 상기 광원부는 상기 촬영부의 RGB 카메라에 의해 촬영되는 판형부재 이미지의 밝기 정도를 확보하 기 위하여, 상기 이송부에서 판형부재가 놓인 영역으로 광원을 공급하는 역할을 수행한다. 또한, 상 기 광원부의 광원 세기를 조절하여 상기 촬영부의 RGB 카메라 조도를 제어할 수 있다. 상기 이송부의 컨베이어 벤트는 판형부재의 제조공정에서 판형부재를 연속적으로 이송시키는 역할을 수행한다. 상기 이송부는 상기 촬영부에 의해 촬영된 판형부재 이미지 상에서 판형부 재와 배경에 대응하는 컨베이어 벨트 영역을 원활하게 구분하기 위하여 컨베이어 벨트의 색상이 검은색으 로 구성될 수 있다. 도 1에 도시된 머신비전 기반 자동 결함검사 시스템은 본 발명 기계학습 기반 판형부재 표면결함 판정방 법을 적용하여, 이송부에 의해 이송되는 판형부재의 표면결함 위치를 정확하게 감지하고, 이를 통해 판형부재의 결함 발생 여부를 자동으로 신속하게 판정함으로써, 판형부재의 제조 공정에서 품질 검사 의 정확도 및 속도를 향상시키고, 품질 검사에 소요되는 시간 및 비용을 효과적으로 감소시킬 수 있다. 도 2 이하를 참조하여, 본 발명에 따른 기계학습 기반 판형부재 표면결함 판정방법에 관하여 상세하게 설명한다. 도 2는 본 발명에 따른 기계학습 기반 판형부재 표면결함 판정방법의 순서도를 도시하고, 도 3은 본 발명에 따 른 기계학습 기반 판형부재 표면결함 판정방법의 개요도를 도시한다. 도 2 및 도 3에 도시된 바와 같이, 본 발명에 따른 기계학습 기반 판형부재 표면결함 판정방법은 RGB 카메라로 부터 판형부재를 촬영한 영상으로부터 판형부재의 그레이스케일(grayscale) 이미지를 획득하는 이미 지 획득단계(S100), 상기 이미지 획득단계에서 획득된 그레이스케일 이미지에서 판형부재 이외의 배 경(100')을 제거하는 이미지 배경 제거단계(S200), 상기 이미지 배경 제거단계에서 배경이 제거된 이미지(20 0')에서 판형부재의 경계선을 추출하는 판형부재 경계선 추출단계(S300), 기계학습 알고리즘을 사용하여, 상기 판형부재 경계선 추출단계에서 추출된 판형부재 경계선을 기반으로 판형부재 표면결함 위치를 감 지하는 표면결함 위치 감지단계(S400) 및 상기 결함 위치 감지단계에서 감지된 판형부재의 표면결함 위치 유무에 따라 판형부재의 정상 상태 또는 결함 상태를 판정하는 표면결함 여부 판정단계(S500)를 포함할 수 있다. 먼저, 본 발명에 따른 기계학습 기반 판형부재 표면결함 판정방법은 이미지 획득단계(S100)를 수행할 수 있다. 상기 이미지 획득단계(S100)는 하나 이상의 RGB 카메라를 사용하여 촬영된 영상으로부터 RGB 이미지를 변환하여 판형부재의 그레이스케일(grayscale) 이미지를 획득하는 단계이다. 도 4는 본 발명에 따른 기계학습 기반 판형부재 표면결함 판정방법의 이미지 획득 단계에서 획득된 판형부재의 그레이스케일 이미지를 도시한다. 상기 이미지 획득단계(S100)에서 RGB 카메라는 400nm 내지 700nm 파장 범위에서 정확한 색상 표현을 위해 빨간 색, 녹색 및 파란색 파장(RGB)으로 광원을 캡쳐하면서 색상(RGB) 이미지를 생성할 수 있다. 상기 RGB 카메라는 센서가 직선으로 구성된 라인 스캔(line scan) 방식의 카메라, 예를 들면 베이어(bayer) 카메라, 프리즘(prism) 카메라 또는 삼선(trilinear) 카메라 등을 적용할 수 있다. 상기 이미지 획득단계(S100)는 적어도 하나의 RGB 카메라를 사용하여 각각 20 fps의 촬영속도 및 2560*1440 픽 셀 해상도를 갖는 판형부재의 색상 이미지를 연속으로 촬영할 수 있으며, 상기 RGB 카메라의 촬영속도 및 해상도 등은 다양하게 조절될 수 있다. 상기 이미지 획득단계(S100)는 RGB 카메라로 촬영된 판형부재의 색상 이미지에서 판형부재와 판형부 재 이외의 배경(100')을 구분하기 위하여, RGB 카메라에 의해 획득된 색상 이미지를 그레이스케일(grayscale) 이미지로 변환하는 과정을 수행할 수 있다. 여기서, 그레이스케일 이미지는 각 이미지 픽셀의 값이 광원의 양 정보를 포함하며, 그레이스케일 이미지는 각 이미지 픽셀이 회색조 음영으로 구성되어 가장 여린 광도의 검정색부터 가장 센 광도의 흰색에 이르기까지 음영 범위가 다양하게 구성될 수 있다. 상기 이미지 획득단계(S100)가 수행되고 나면, 그레이스케일 이미지에서 판형부재 이외의 배경(10 0')을 제거하는 이미지 배경 제거단계(S200)가 수행된다. 상기 이미지 배경 단계(S200)는 그레이스케일 이미지 에서 판형부재를 분리하여 관심영역(Region of Interest)을 원활하게 추출하기 위하여 배경(100')을 제거 하는 단계이다. 도 5는 본 발명에 따른 기계학습 기반 판형부재 표면결함 판정방법의 이미지 배경 제거단계에서 생성된 히스토 그램을 도시한다. 상기 이미지 배경 제거단계(S200)는 이미지 배경 제거 알고리즘을 사용하여 상기 이미지 획득단계(S100)에서 획 득된 그레이스케일 이미지에서 그레이스케일 임계값(T)을 산출하는 그레이스케일 임계값 산출과정 및 상기 그레이스케일 임계값 산출과정에서 산출된 임계값(T) 이하를 갖는 이미지 픽셀을 제거하여 상기 그레이스케일 이미지에서 배경(100')을 제거하는 배경 제거과정을 포함할 수 있다. 도 5를 참조하여 보다 구체적으로 설명하면, 상기 이미지 배경 제거단계(S200)에서 상기 이미지 배경 제거 알고 리즘은 상기 그레이스케일 이미지의 그레일스케일 값에 따른 히스토그램(histogram)을 생성하는 히스 토그램 생성 프로세스, 상기 히스토그램 생성 프로세스에서 생성된 히스토그램에서 배경 이미지에 대응하 는 배경 클래스와 판형부재 이미지에 대응하는 판형부재 클래스로 분류하는 클래스 분류 프로세스, 상기 클래스 분류 프로세스에서 분류된 배경 클래스와 판형부재 클래스 사이의 그레이스케일 값을 상 기 그레이스케일 임계값(T)으로 산출하는 임계값 산출 프로세스 및 상기 임계값 산출 프로세스에서 산출된 임계 값(T) 이하를 갖는 배경 클래스는 제거하는 이미지 배경 제거 프로세스를 수행할 수 있다. 상기 이미지 배경 제거단계(S200)의 상기 임계값 산출 프로세스에 사용되는 알고리즘은 오츠의 방법(Otsu's binarization method)을 적용한 알고리즘일 수 있다. 상기 이미지 배경 제거단계(S200)의 상기 임계값 산출 프로세스는 오츠의 방법을 적용하여 상기 그레이스케일 이미지에서 그레이스케일 임계값(T) 이하의 이미지 픽셀, 즉 배경에 대응하는 이미지 픽셀을 제거하여 결 과적으로 그레이스케일 이미지에서 판형부재가 아닌 배경(100')이 완전하게 제거된 이미지(200')를 획득할 수 있다. 오츠의 방법(Otsu's binarization method)은 널리 이용되는 이미지 분할 알고리즘 중 하나로, 이미지의 히스토 그램을 이용해서 이미지를 두 개의 클래스로 가장 잘 분할할 수 있는 임계값을 찾고, 그 임계값을 사용하여 두 개의 클래스를 분류하는 알고리즘이다. 따라서, 상기 이미지 배경 제거단계(S200)는 오츠의 방법을 적용한 알고리즘 기반으로 상기 그레일스케일 이미 지의 그레이스케일 값에 따른 히스토그램을 생성하고, 상기 히스토그램에서 배경 클래스과 판형부재 클래스를 분류하고, 상기 배경 클래스와 상기 판형부재 클래스 사이의 그레이스케일 값 중 어느 하나가 임계값(T)으로 산출되며, 상기 산출된 임계값(T) 이하의 배경 클래스는 자동으로 제거되어 배경이 제거된 이미지(200')를 획득할 수 있다. 여기서, 상기 이미지 배경 제거단계(S200)는 [수학식 1]에 의해 배경이 제거된 이미지(200')를 획득할 수 있다. [수학식 1]"}
{"patent_id": "10-2022-0135543", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "여기서, f(x,y)는 상기 이미지 배경 제거단계(S200)로 입력되는 입력 이미지의 픽셀값, g(x,y)는 상기 이미지 배경 제거단계(S200)를 통해 배경이 제거된 이미지(200')의 픽셀값, T는 상기 이미지 배경 제거단계(S200)의 임 계값 산출 프로세스에서 산출된 임계값을 의미한다. 상기 이미지 배경 제거단계(S200)에서 입력된 이미지는 0 내지 255의 픽셀값 범위를 갖는 그레이스케일 이미지 로서, 각각의 이미지 픽셀값이 임계값(T) 미만이면 0으로 설정되고, 이미지 픽셀값이 임계값(T) 이상이면 최대 픽셀값인 255로 설정된다. 그리고, 상기 이미지 배경 제거단계(S200)에서 [수학식 1]을 통해 0의 값으로 변황된 이미지 픽셀은 그레이스케일 이미지에서 배경(100')으로 간주되어 제거된다. 이후, 상기 이미지 배경 단계(S200)를 통해 배경이 제거된 이미지(200')에서 판형부재의 경계선을 추출하는 판 형부재 경계선 추출단계(S300)가 수행될 수 있다. 도 6은 본 발명에 따른 기계학습 기반 판형부재 표면결함 판정방법의 판형부재 경계선 추출단계를 도시한다. 도 6(a)는 상기 판형부재 경계선 추출단계(S300)로 입력되는 입력 이미지, 도 6(b) 내지 도 6(d)는 상기 판형부 재 경계선 추출단계(S300)에서 판형부재의 중심점(centroid)와 판형부재의 4개의 꼭짓점(20, 20, 20, 20) 및 판형부재의 경계선를 순차적으로 감지하는 과정을 도시한다. 상기 판형부재 경계선 추출단계(S300)는 상기 이미지 배경 제거단계(S200)에서 배경이 제거된 이미지(200')에서 판형부재의 중심점을 감지하는 중심점 감지 과정, 상기 중심점 감지 과정에서 감지된 중심점과 판형부 재 경계부 사이의 거리 기반으로 판형부재의 4개의 꼭짓점(20, 20, 20, 20)을 감지하는 꼭짓점 감 지 과정, 상기 꼭짓점 감지 과정에서 감지된 판형부재의 4개 꼭짓점을 기준으로 판형부재의 경계선을 추출 하는 경계선 추출 과정을 포함할 수 있다. 상기 판형부재 경계선 추출단계(S300)는 상기 이미지 배경 단계(S200)를 통해 배경이 제거된 이미지(200')가 입 력 이미지로 사용되고, 상기 입력 이미지에서 판형부재 중심부에 존재하는 하나의 중심점과 판형부재의 4개 의 꼭짓점(20, 20, 20, 20)을 감지하여 이를 통해 판형부재의 경계부의 윤곽을 이루는 판형부재의 경계선을 추출할 수 있다. 도 6(b)에 도시된 바와 같이, 상기 판형부재 경계선 추출단계(S300)에서 중심점 감지 과정은 [수학식 2]를 사 용하여 상기 이미지 배경 단계(S200)를 통해 배경이 제거된 이미지(200')인 입력 이미지에서 판형부재의 중심점 을 감지할 수 있다. [수학식 2]"}
{"patent_id": "10-2022-0135543", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "여기서, Cx 및 Cy는 각각 판형부재 중심점의 x 좌표 및 y 좌표를 의미하고, M00, M01, M10은 각각 이미지 모멘 트를 의미한다. 일반적으로, 이미지 모멘트(image moment)는 이미지 픽셀의 강도에 대한 특정한 가중평균으로서, 특정 객체의 고유한 특성을 해석할 수 있는 기능을 의미한다. 상기 [수학식 2]에서 각각의 이미지 모멘트 M00, M01, M10은 아 래 [수학식 3] 내지 [수학식 5]를 이용하여 계산될 수 있다. [수학식 3]"}
{"patent_id": "10-2022-0135543", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "[수학식 4]"}
{"patent_id": "10-2022-0135543", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "[수학식 5]"}
{"patent_id": "10-2022-0135543", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "여기서, x는 입력 이미지(200')에서 픽셀에 대한 행, y는 입력 이미지(200')에서 픽셀에 대한 열, I(x,y)는 입 력 이미지(200')에서 픽셀에 대한 강도를 의미한다. 상기 판형부재 경계선 추출단계(S300)의 중심점 감지 과정을 통해 판형부재 중심점이 감지되면, 상기 중심 점 감지 과정에서 감지된 중심점과 판형부재 경계부에 존재하는 임의의 점(point) 사이의 거리를 계산하고, 상기 거리(d)에 대한 4개의 피크값(p)을 각각 판형부재의 4개 꼭짓점(20, 20, 20, 20)으로 감지할 수 있다. 상기 판형부재 경계선 추출단계(S300)의 꼭짓점 감지 과정에서 상기 중심점과 판형부재 경계부에 존재하는 임의의 점 사이의 거리(dpc)는 [수학식 6]을 통해 계산될 수 있다.[수학식 6]"}
{"patent_id": "10-2022-0135543", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "여기서, Px는 입력 이미지(200')에서 판형부재 경계부 상에 존재하는 임의의 점의 좌표이고, Cx는 입력 이미지 (200')에서 중심점의 좌표를 의미한다. 상기 판형부재 경계선 추출단계(S300)의 꼭짓점 감지 과정은 중심점과 판형부재 경계부 내 임의의 점 사이 의 거리(dpc)를 계산하고, 상기 거리(dpc)의 피크값(peak)을 판형부재의 4개의 꼭짓점(20, 20, 20, 20)으로 감지할 수 있다. 도 6(c)에 도시된 바와 같이, 상기 중심점과 판형부재 경계부에 존재하는 임의의 점 사이의 거리(dpc)는 거 리 정보 그래프에 나타날 수 있다. 여기서, 거리 정보 그래프의 가로축은 입력 이미지(200') 상에서 판형부재 경계부 위치 정보를 나타내고, 거리 정보 그래프의 세로축은 입력 이미지(200') 상에서 중심점 과 판형부재 경계부에 존재하는 임의의 점 사이의 거리(pixel)이다. 상기 거리 정보 그래프에서 상기 중심점과 판형부재 경계부 내 임의의 점 사이의 거리(dpc)에 대한 4개의 피크값(p, p, p, p)이 각각 판형부재의 4개의 꼭짓점(20, 20, 20, 20)에 대응될 수 있다. 도 6(d)에 도시된 바와 같이, 판형부재 경계선 추출단계(S300)의 꼭짓점 감지 과정은 4개의 피크값(p, p, p, p)에 대응하는 픽셀 정보를 감지하고, 상기 배경이 제거된 입력 이미지(200')에서 상기 4개의 피크값 (p, p, p, p)에 대응하는 픽셀 위치를 인식하여 이미지(200') 상에서 판형부재의 4개의 꼭짓점 (20, 20, 20, 20)을 감지할 수 있다. 이후, 판형부재 경계선 추출단계(S300)는 꼭짓점 감지 과정에서 감지된 4개의 꼭짓점(20, 20, 20, 20)을 기준으로 상기 4개의 꼭짓점(20, 20, 20, 20)을 연결하는 판형부재의 경계선을 추출 하는 경계선 추출 과정이 수행될 수 있다. 또한, 상기 판형부재 경계선 추출단계(S300)의 경계선 추출 과정은 판형부재의 경계부를 복수 개의 서브 경계부 로 분할하는 경계부 분할 과정, 상기 복수 개의 서브 경계부에 선형 회귀 모델(linear regression model)을 적 용하고, 이미지 마스크(Image mask)에 상기 선형 회귀 모델에 대응하는 선형 그래프를 도시하는 선형 회귀 과정 및 다각형 근사 알고리즘(Polygonal Approximation Algorithm)을 사용하여 상기 이미지 마스크에 도시된 선형 그래프로부터 판형부재의 경계선에 대응하는 다각형을 근사하는 다각형 근사 과정을 포함할 수 있다. 이후, 상기 판형부재 경계선 추출단계(S300)의 경계선 추출 과정은 판형부재의 경계선을 더욱 정확하게 추 출하기 위하여, 상기 꼭짓점 감지 과정에서 감지된 4개의 꼭짓점(20, 20, 20, 20)을 연결하는 4개 의 판형부재 경계부를 다시 상기 경계부의 길이방향을 따라 더욱 작은 길이를 갖는 복수 개의 서브 경계부로 분 할하는 과정을 포함한다. 그리고, 상기 판형부재 경계선 추출단계(S300)는 각각의 분할된 복수 개의 서브 경계부마다 선형 회귀 모델 (linear regression model)을 적용하여 이미지 마스크(image mask)에 선형 회귀 모델에 따른 선형 그래프가 도 시될 수 있다. 상기 이미지 마스크에 생성된 선형 그래프는 판형부재의 경계선을 추출하기 위한 기초적인 윤곽선을 제공할 수 있다. 여기서, 이미지 마스크(image mask)는 시각 레이어의 대표적인 기능으로, 시각 레이어의 일정 영역을 가리거나 일정 영역만 보여줄 수 있기 때문에 이미지 처리의 기본이 되는 요소이다. 일반적으로, 선형 회귀 모델(linear regression model)은 종속변수와 하나 이상의 독립 변수의 선형 선형 상관 관계를 모델링하는 방법으로, 상기 경계선 추출단계(S300)의 경계선 추출과정에서 선형 회귀 모델은 바람직하게 Hubber 손실(Huber loss)가 있는 선형 회귀 모델을 사용하여 경계선 추출과정에 있어 잠재적 왜곡을 최소화할 수 있다. 상기 판형부재 경계선 추출단계(S300)의 선형 회귀 과정은 Hubber loss를 갖는 선형 회귀 모델이 [수학식 7]을 통해 계산된 거리 함수(rho(ri))의 합계를 최소화하여 관측된 데이터에 대한 최적 적합선을 계산하여 선형 함수 를 추출할 수 있다. 그리고, 상기 판형부재 경계선 추출단계(S300)에서 선형 회귀 모델을 통해 추출된 선형 함수는 이미지 마스크에 도시될 수 있다. 상기 이미지 마스크 상에 도시된 선형 함수 그래프의 선폭(linewidth) 약 1 내지 10 픽셀 범위 일 수 있다. [수학식 7]"}
{"patent_id": "10-2022-0135543", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "여기서, rho(ri)는 i번째 점과 선형 함수 사이의 거리 함수, C는 상수를 의미한다. 이후, 다각형 근사 알고리즘(Polygonal Approximation Algorithm)을 사용하여 상기 이미지 마스크에 도시된 선 형 그래프로부터 판형부재의 경계선에 대응하는 다각형을 근사하는 다각형 근사 과정을 수행할 수 있다. 일반적으로, 다각형 근사 알고리즘(Polygonal Approximation Algorithm)은 반복과 끝점을 이용해 선분으로 구성 된 윤곽선들을 더 적은 수의 윤곽점으로 동일하거나 비슷한 윤곽선으로 데시메이트(Decimate)하는 알고리즘이다. 상기 판형부재 경계선 추출단계(S300)는 다각형 근사 알고리즘을 통해 근사된 다각형을 이용하여 최종적으로 판 형부재의 경계선을 추출할 수 있다. 이와 같이, 상기 판형부재 경계선 추출단계(S300)를 통해 판형부재 경계선이 추출되면, 상기 추출된 판형부 재 경계선을 기반으로 입력 이미지에서 판형부재의 표면결함 위치를 감지하는 표면결함 위치 감지단계 (S400)가 수행된다. 도 7은 본 발명에 따른 기계학습 기반 판형부재 표면결함 판정방법에서 판형부재의 경계부 표면결함 및 판형부 재의 내부 표면결함을 각각 도시한다. 도 7(a)에 도시된 바와 같이, 판형부재의 경계부 표면결함은 판형부재의 테두리 부분인 판형부재 경계부에서 결 함, 손상, 마모, 갈라짐 또는 치핑(chipping) 등으로 인해 판형부재 경계부 표면이 매끄럽게 마감되지 못하고 판형부재 경계부가 울퉁불퉁한 상태인 것을 의미한다. 도 7(b)에 도시된 바와 같이, 판형부재의 내부 표면결함 은 내부에서 얼룩짐 등이 발생하여 색상 결함이 존재하는 것을 의미한다. 도 7(a)에 도시된 판형부재의 경계부 표면결함을 판정하기 위하여, 본 발명에 따른 기계학습 기반 판형부재 표 면결함 판정방법은 상기 판형부재 경계선 추출단계(S300)의 꼭짓점 감지 과정에서 감지된 상기 판형부재의 4개 의 꼭짓점(20, 20, 20, 20)을 연결한 직선을 레퍼런스 경계선으로 저장하고, 상기 레퍼런스 경계선 과 상기 판형부재 경계선 추출단계(S300)에서 추출된 판형부재 경계선을 비교하여 판형부재의 경계부 표면 결함 위치를 감지할 수 있다. 이를 위해, 상기 표면결함 위치 감지단계(S400)는 이미지 처리 알고리즘을 사용하여 상기 판형부재 경계선 추출 단계(S300)에서 경계선이 추출된 이미지(200')에서 노이즈를 제거하는 노이즈 제거 과정, 임계값 알고리즘을 사 용하여 상기 노이즈 제거 과정에서 노이즈 제거된 그레이스케일 이미지(200')에서 그레이스케일 값을 기반으로 임계값을 산출하는 임계값 산출 과정, 상기 판형부재 경계선 추출단계(S300)의 상기 이미지 마스크를 흰색 배경 과 검은색 다각형으로 이진화 처리하는 이진화 처리 과정, 상기 이진화 처리 과정을 통해 이진화 처리된 이미지 마스크와 상기 임계값 산출 과정을 통해 임계값이 산출된 그레이스케일 이미지(200')를 결합하여 판형부재의 경 계부 표면결함 위치를 감지하는 경계부 표면결함 위치 감지과정을 포함할 수 있다. 상기 표면결함 위치 감지단계(S400)는 이미지 처리 알고리즘으로서 가우시안 블러 알고리즘(Gausian glur algorithm)을 사용하여 그레이스케일 이미지(200') 상애서의 노이즈를 제거할 수 있다. 일반적으로, 가우시안 블러 알고리즘은 가우시안 분포를 기반으로 이미지를 부드럽게 하는 이미지 블러 처리 알 고리즘 중 하나이다. 상기 표면결함 위치 감지단계(S400)는 가우시안 블러 알고리즘(Gausian glur algorithm)을 사용함으로써 판형부재에 형성된 패턴이나 얼룩 등에 의한 노이즈를 감소시켜 표면결함의 위치를 더욱 정확 하게 감지할 수 있도록 한다. 한편, 판형부재의 표면결함이 발생된 경우, 상기 그레이스케일 이미지(200')에서 판형부재의 표면결함 이 발생된 결함 영역 이미지의 그레이스케일 값과 판형부재의 표면결함이 발생되지 않은 정상 영역 이미지의 그 레일스케일 값 사이에 특정 그레이스케일 값 차이가 비례하는 특징을 갖는다. 이러한 특징으로 인해, 상기 표면결함 위치 감지단계(S400)는 임계값 알고리즘(Threshold algorithm)을 사용하 여 그레이스케일 이미지(200')를 분할할 수 있고, 비트 연산 알고리즘(Bitewise algorithm)을 사용하여 분할된 그레이스케일 이미지(200')에서 관심 영역(Region of Interest; ROI)의 특징을 추출할 수 있다. 상기 표면결함 위치 감지단계(S400)는 이미지의 조도와 관계없이 결함 특징을 원활하게 추출하기 위하여, 일반 적인 임계값 알고리즘이 아닌 적응형 임계값 알고리즘(Adpative threshold algorithm)을 적용할 수 있다. 일반적인 임계값 알고리즘은 하나의 적절한 픽셀값을 임계값으로 설정하지만, 상기 표면결함 위치 감지단계 (S400)에서 적용되는 적응형 임계값 알고리즘은 작은 인접 영역을 기반으로 픽셀에 대한 임계값을 산출한다. 여 기서, 상기 적응형 임계값 알고리즘의 임계값은 인접 영역 값의 가우스 가중치 합계에서 상수 값을 뺀 값으로 산출될 수 있다. 또한, 상기 표면결함 위치 감지단계(S400)는 입력 이미지에서 표면결함을 원활하게 감지하기 위하여, 상기 판형부재 경계선 추출단계(S300)에서 생성된 이미지 마스크를 흰색 배경과 검은색 근사 다각형(approximated polygon)으로 변황하여 이진화 처리된 이미지 마스크를 생성할 수 있다. 이후, 상기 결함 위치 위치 감지단계(S400)는 상기 이진화 처리된 이미지 마스크와 상기 임계값 산출 과정을 통 해 임계값이 산출된 그레이스케일 이미지를 결합하고, 비트 연산 알고리즘(Bitewise algorithm)을 사용하여 판 형부재의 표면결함 특징을 추출할 수 있다. 그리고, 상기 표면결함 위치 감지단계(S400)는 상기 표면결함 특징이 추출된 이미지를 모두 결합하여, 입력 이미지 상에서 판형부재의 경계부 표면결함 위치를 감지할 수 있다. 또한, 도 7(b)에 도시된 판형부재의 내부 표면결함의 위치를 감지하기 위하여, 상기 표면결함 위치 감지단계 (S400)는 딥 러닝(deep learning) 기반의 객체 인식 알고리즘을 사용할 수 있다. 여기서, 상기 표면결함 위치 감지단계(S400)는 판형부재 내부 표면에 형성된 패턴 및 색상에 의한 노이즈 요소 영향을 제거하기 위하여 딥 러닝 기반 객체 인식 알고리즘을 적용하며, 바람직하게는 객체 인식 알고리즘 중 YOLO(You only look at once) 알고리즘을 적용할 수 있다. 일반적으로, YOLO 알고리즘은 단일 단계 방식의 객체 인식 알고리즘으로, 이미지를 격자 그리드로 분할하여 한 번에 클래스를 판단하고, 이를 통합하여 최종 객체를 구분 및 인식할 수 있는 알고리즘이다. 상기 표면결함 위치 감지단계(S400)의 객체 인식 알고리즘은 검은 배경에 서로 다른 색상을 갖는 판형부재가 도 시되는 복수 개의 학습용 이미지 데이터를 수집하는 데이터 수집 프로세스, 상기 데이터 수집 프로세스를 통해 수집된 이미지 데이터를 타일링(tiling) 처리 또는 증강 처리하여 학습 데이터셋(dataset)을 구축하는 데이터셋 구축 프로세스 및 상기 데이터셋 구축 프로세스애서 구축된 학습 데이터셋의 이미지 데이터를 사용하여 판형부 재의 내부 표면결함 위치를 감지하는 내부 표면결함 위치 감지 프로세스를 수행할 수 있다. 여기서, 상기 이미지 데이터는 결함 분류, 주석, 전처리 및 증강 과정을 통해 객체 인식 알고리즘의 학습 데이 터셋으로 구축될 수 있다. 상기 이미지 데이터는 약 80:20 비율의 학습 데이터와 검증 데이터를 포함하는 두 가 지 유형의 데이터셋으로 분류된다. 이후, 상기 이미지 데이터 상에 존재하는 모든 결함은 판형부재의 색상에 따 라 검은색 결함 또는 흰색 결함으로 주석 표시된다. 또한, 상기 표면결함 위치 감지단계(S400)에서 데이터셋 구축 프로세스는 객체 인식 알고리즘 모델이 학습용 데 이터 셋을 과하게 학습(과접합, overfitting)하는 것을 방지하기 위하여, 학습 데이터 셋에서 새로운 이미지를 생성하는 과정에서 데이터 증강(augmentation) 기술을 사용할 수 있다. 상기 증강 기술은 이미지를 수평방향, 수직방향 또는 임의의 기설정된 각도에 대해 회전하여 데이터의 개수를 늘리는 기법 등을 포함한다. 이후, 상기 표면결함 위치 감지단계(S400)는 구축된 학습 데이터 셋을 기반으로 객체 인식 알고리즘을 학습시키 고, 상기 기계 학습된 객체 인식 알고리즘을 이용하여 판형부재의 내부 표면결함의 위치를 감지하는 위치 감지 프로세스를 수행할 수 있다. 이와 같이, 상기 표면결함 위치 감지단계(S400)를 통해 판형부재의 경계부 표면결함 또는 판형부재의 내부 표면결함 위치가 감지되면, 판형부재의 표면결함 위치 유무에 따라 판형부재의 정상 상태 또는 결 함 상태를 판정하는 표면결함 여부 판정단계(S500) 가 수행된다. 도 8은 본 발명에 따른 기계학습 기반 판형부재 표면결함 판정방법을 이용하여 감지된 판형부재의 표면결함 위 치를 표시하고, 판형부재의 표면결함 여부를 판정한 결과를 도시한다.도 8에 도시된 바와 같이, 상기 표면결함 여부 판정단계(S500)는 상기 표면결함 위치 감지단계(S400)에서 판형 부재의 내부 또는 경계부의 표면결함 위치가 감지되는 경우 판형부재를 결함 상태로 판정하고, 표면결 함 위치가 감지되지 않는 경우 판형부재를 정상 상태로 판정할 수 있다. 또한, 상기 표면결함 여부 판정단계(S500)는 상기 표면결함 위치 감지단계(S400)에서 감지된 표면결함의 위 치를 이미지 상에 표시하거나 또는 판형부재의 판정 상태를 식별하여 나타낼 수 있다. 예를 들면, 상기 표면결함 여부 판정단계(S500)는 그래픽 사용자 인터페이스(GUI)를 통해 디스플레이된 영상 또 는 이미지 상에서 판형부재의 내부 또는 경계부에 발생된 표면결함의 위치를 다각형 등의 식별 도형으 로 표시할 수 있다. 또한, 상기 표면결함 여부 판정단계(S500)는 판형부재의 정상 상태 또는 결함 상태를 나타내기 위하여 'Good' 도는 'Defect'와 같은 식별 문자를 사용할 수 있다. 도 7을 참조하면, 본 발명에 따른 기계학습 기반 판형부재 표면결함 판정방법은 하나 이상의 RGB 카메라로부터 획득된 그레이스케일 이미지에서 판형부재의 경계부 또는 내부에서 발생된 표면결함의 위치를 정 확하게 감지하고, 상기 표면결함의 유무로 인한 판형부재의 정상 상태 또는 결함 상태를 정확하게 판 정할 수 있었다."}
{"patent_id": "10-2022-0135543", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 9, "content": "본 명세서는 본 발명의 바람직한 실시예를 참조하여 설명하였지만, 해당 기술분야의 당업자는 이하에서 서술하 는 특허청구범위에 기재된 본 발명의 사상 및 영역으로부터 벗어나지 않는 범위 내에서 본 발명을 다양하게 수 정 및 변경 실시할 수 있을 것이다. 그러므로 변형된 실시가 기본적으로 본 발명의 특허청구범위의 구성요소를 포함한다면 모두 본 발명의 기술적 범주에 포함된다고 보아야 한다."}
{"patent_id": "10-2022-0135543", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명에 따른 기계학습 기반 판형부재 표면결함 판정방법이 적용된 머신비전(Machine Vision) 기반 자 동 판형부재 결함검사 시스템의 하나의 실시예를 도시한다. 도 2는 본 발명에 따른 기계학습 기반 판형부재 표면결함 판정방법의 순서도를 도시한다. 도 3은 본 발명에 따른 기계학습 기반 판형부재 표면결함 판정방법의 개요도를 도시한다. 도 4는 본 발명에 따른 기계학습 기반 판형부재 표면결함 판정방법의 이미지 획득 단계에서 획득된 판형부재의 그레이스케일 이미지를 도시한다. 도 5는 본 발명에 따른 기계학습 기반 판형부재 표면결함 판정방법의 이미지 배경 제거단계에서 생성된 히스토 그램을 도시한다. 도 6은 본 발명에 따른 기계학습 기반 판형부재 표면결함 판정방법의 판형부재 경계선 추출단계를 도시한다. 도 7은 본 발명에 따른 기계학습 기반 판형부재 표면결함 판정방법에서 판형부재의 경계부 표면결함 및 판형부 재의 내부 표면결함을 각각 도시한다. 도 8은 본 발명에 따른 기계학습 기반 판형부재 표면결함 판정방법을 이용하여 감지된 판형부재의 표면결함 위 치를 표시하고, 판형부재의 표면결함 여부를 판정한 결과를 도시한다."}
