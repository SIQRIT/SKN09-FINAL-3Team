{"patent_id": "10-2019-0021197", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2020-0083100", "출원번호": "10-2019-0021197", "발명의 명칭": "다중 피부 병변 검출 시스템, 다형 피부 병변 검출 방법 및 이를 구현하기 위한 프로그램이", "출원인": "주식회사 룰루랩", "발명자": "유상욱"}}
{"patent_id": "10-2019-0021197", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "사용자 얼굴 이미지 데이터를 인코딩하여 특징 추출(feature extraction)을 수행하는 인코딩부; 상기 인코딩부의 후단에 위치하여 인코딩된 사용자 얼굴 이미지 데이터를 원본 이미지 크기에 맞추어 맵핑하고,픽셀별 클래스 값을 출력하는 디코딩부; 맵핑된 클래스 중 피부 병변을 타켓팅하는 검출 대상 클래스가 얼굴 전체 영역 대비 차지하는 비율을 계산하여종합 피부 병변 지수를 도출하는 연산부; 및상기 피부 병변을 타켓팅하는 검출 대상 클래스가 표시된 원본 이미지와 종합 피부 병변 지수를 사용자에게 제공하는 출력부;를 포함하고,상기 인코딩부는,사용자 얼굴 이미지 데이터에 대한 레귤러 컨볼루션 연산을 수행하는 레귤러 컨볼루션 블록;상기 레귤러 컨볼루션 블록의 후단에 위치하여 레지듀얼 러닝(residual learning)을 수행하는 레지듀얼 블록(residual block); 및상기 레지듀얼 블록(residual block)의 후단에 위치하고, 상기 레지듀얼 블록(residual block)과 교번 배치되며사용자 얼굴 이미지 데이터 내 복수의 피부 병변들 사이에 국소 공간 연관성를 추출하여 상황 의존적 의사결정을 수행하는 리씽커 블록(rethinker block)을 포함하고,상기 디코딩부는,서로 다른 확장 비율값의 앳로우즈 컨볼루션(atrous convolution) 연산을 병렬 수행하는 ASPP(Atrous SpatialPyramid Pooling) 모듈 또는 앳로우즈 세퍼러블 컨볼루션(atrous separable convolution) 연산을 병렬 수행하는 ASSPP(Atrous saparable Spatial Pyramid Pooling) 모듈을 포함하는 딥러닝 기반 다중 피부 병변 검출 시스템."}
{"patent_id": "10-2019-0021197", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1항에 있어서,상기 인코딩부는,서로 다른 피부 병변을 타켓팅하는 제 1 내지 제 11 클래스; 및 상기 제 1 내지 제 11 클래스 이외에 얼굴 및주변 영역을 포함하는 논-타켓 클래스;를 분리 검출할 수 있는 딥러닝 모델을 이용하여 사용자 얼굴 이미지 데이터의 특징 추출(feature extraction)을 수행하는 딥러닝 기반 다중 피부 병변 검출 시스템."}
{"patent_id": "10-2019-0021197", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 2항에 있어서,상기 딥러닝 모델은,복수의 얼굴 이미지를 상기 제 1 내지 11 클래스 및 논-타켓 클래스로 라벨링화하여 획득된 데이터 세트를 이용하여 학습된 것을 특징으로 하는 딥러닝 기반 다중 피부 병변 검출 시스템."}
{"patent_id": "10-2019-0021197", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 1항에 있어서,상기 레지듀얼 블록(residual block)은,뎁스와이즈 세러퍼블 컨볼루션(depthwise saparable convoltion)을 수행하는 뎁스와이즈 세퍼러블 컨볼루션 레공개특허 10-2020-0083100-3-이어(depthwise separable convolution layer)를 적어도 하나 포함하는 딥러닝 기반 다중 피부 병변 검출 시스템."}
{"patent_id": "10-2019-0021197", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 1항에 있어서,상기 리씽커 블록(rethinker block)은,상기 레지듀얼 블록(residual block)을 통과한 얼굴 이미지 데이터의 피쳐맵(feature map)을 입력값으로 받는컨볼루셔널 LSTM 레이어; 및 상기 컨볼루셔널 LSTM 레이어를 통과한 얼굴 이미지 데이터의 특징 재조정을 수행하는 SE 블록;을 포함하는 딥러닝 기반 다중 피부 병변 검출 시스템."}
{"patent_id": "10-2019-0021197", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 1항에 있어서,상기 리씽커 블록(rethinker block)은,제 1 컨볼루셔널 LSTM 레이어 및 제 2 컨볼루셔널 LSTM 레이어로 이루어지는 컨볼루셔널 LSTM 레이어; 및상기 제 1 컨볼루셔널 LSTM 레이어를 통과한 얼굴 이미지 데이터의 특징 재조정을 수행하는 SE 블록을포함하고,상기 제 2 컨볼루셔널 LSTM 레이어를 매개로 프로젝션 커넥션을 수행하는 딥러닝 기반 다중 피부 병변 검출 시스템."}
{"patent_id": "10-2019-0021197", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제 5항에 있어서,상기 SE 블록은,상기 컨볼루셔널 LSTM 레이어를 통과한 얼굴 이미지 데이터의 개별 채널에 대한 중요 정보를 추출하는 스퀴즈오퍼레이션부; 및스퀴즈한 데이터를 재조정하여 채널 간 의존성을 도출하는 익시테이션 오퍼레이션부를 포함하는 딥러닝 기반 다중 피부 병변 검출 시스템."}
{"patent_id": "10-2019-0021197", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 1항에 있어서,상기 디코딩부는,상기 인코딩부의 레귤러 컨볼루션 블록; 또는 레지듀얼 블록(residual block); 또는 리씽커 블록(rethinkerblock)을 통과하는 피쳐맵에 대한 1x1 컨볼루션 연산 결과물과, 상기 ASPP(Atrous Spatial Pyramid Pooling)모듈 또는 ASSPP(Atrous saparable Spatial Pyramid Pooling) 모듈을 통과한 사용자 얼굴 이미지 데이터를 1x1컨볼루션 연산 한 후, 업-샘플링(up-sampling)한 데이터를 컨케터네이트(concatenate)하는 딥러닝 기반 다중 피부 병변 검출 시스템."}
{"patent_id": "10-2019-0021197", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 1항에 있어서,상기 출력부는, 피부 병변을 타켓팅하는 검출 대상 클래스의 종류 및 종합 피부 병변 지수에 따른 맞춤 제품을 추천하는 딥러닝기반 다중 피부 병변 검출 시스템."}
{"patent_id": "10-2019-0021197", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "공개특허 10-2020-0083100-4-제 1항에 따른 딥러닝 기반 다중 피부 병변 검출 시스템을 이용한 딥러닝 기반 다중 피부 병변 검출방법으로서,사용자 얼굴 이미지 데이터를 인코딩하여 특징 추출(feature extraction)을 수행하는 단계;인코딩된 사용자 얼굴 이미지 데이터를 원본 이미지 크기에 맞추어 맵핑하고, 픽셀별 클래스 값을 출력하는 단계;맵핑된 클래스 중 피부 병변을 타켓팅하는 검출 대상 클래스가 얼굴 전체 영역 대비 차지하는 비율을 계산하여종합 피부 병변 지수를 도출하는 단계; 및상기 피부 병변을 타켓팅하는 검출 대상 클래스가 표시된 원본 이미지와 종합 피부 병변 지수를 사용자에게 제공하는 단계;를 포함하는 딥러닝 기반 다중 피부 병변 검출 방법."}
{"patent_id": "10-2019-0021197", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제 10항에 있어서,상기 특징 추출(feature extraction)을 수행하는 단계는,사용자 얼굴 이미지 데이터에 대한 레귤러 컨볼루션 연산을 수행하는 단계;상기 레귤러 컨볼루션 연산이 수행된 사용자 얼굴 이미지 데이터에 대한 레지듀얼 러닝(residual learning)을수행하는 단계; 및상기 레지듀얼 러닝(residual learning)이 수행된 사용자 얼굴 이미지 데이터 내 복수의 피부 병변들 사이에 국소 공간 연관성를 추출하여 상황 의존적 의사결정을 수행하는 리씽킹(Rethinking)단계;를 포함하는 딥러닝 기반다중 피부 병변 검출 방법."}
{"patent_id": "10-2019-0021197", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제 10항에 있어서,상기 픽셀별 클래스 값을 출력하는 단계는,서로 다른 확장 비율값의 앳로우즈 컨볼루션(atrous convolution) 연산을 병렬 수행하거나, 또는 앳로우즈 세퍼러블 컨볼루션(atrous separable convolution) 연산을 병렬 수행하는 단계;상기 앳로우즈 컨볼루션(atrous convolution) 또는 앳로우즈 세퍼러블 컨볼루션(atrous separableconvolution) 연산이 병렬 수행된 사용자 얼굴 이미지 데이터를 단계적으로 업-샘플링(up-sampling)하는 단계;및업-샘플링(up-sampling)된 사용자 얼굴 이미지 데이터를 원본 이미지 크기에 맞추어 맵핑하고, 픽셀별 클래스값을 출력하는 단계;를 포함하는 딥러닝 기반 다중 피부 병변 검출 방법."}
{"patent_id": "10-2019-0021197", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제 10항에 따른 딥러닝 기반 다중 피부 병변 검출 방법을 구현하기 위한 프로그램이 기록되고, 컴퓨터로 읽을수 있는 기록 매체."}
{"patent_id": "10-2019-0021197", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제 13항에 따른 기록 매체를 실행하는 전자 장치."}
{"patent_id": "10-2019-0021197", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제 14항에 있어서,상기 전자 장치는,상기 기록 매체가 저장된 피부 상태 분석용 모듈, 상기 모듈을 포함하는 키오스크, 상기 모듈을 포함하는 피부상태 진단용 미러, 상기 모듈을 포함하고 피부 상태 진단 기능을 구비한 화장품 제공 자판기, 포터블 피부 상태분석 디바이스 또는 상기 기록 매체가 저장된 서버와 연동하는 어플리케이션이 설치된 휴대용 단말기인 전자 장공개특허 10-2020-0083100-5-치."}
{"patent_id": "10-2019-0021197", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 딥러닝 기반 다중 피부 병변 검출 시스템, 다중 병변 검출 방법 및 이를 구현하기 위한 프로그램이 기 록되고 컴퓨터로 읽을 수 있는 기록매체에 대한 것이다. 본 발명에 따른 시스템은 피부 내 다양한 피부 병변 사이의 국소 공간 상관도가 고려된 상황 의존적 의사 결정 구조에 기반하여, 유사한 특성을 가지는 다양한 피부 병변에 대한 정확한 구분 및 검출이 가능하다."}
{"patent_id": "10-2019-0021197", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 다중 피부 병변 검출 시스템, 다중 피부 병변 검출 방법 및 이를 구현하기 위한 프로그램이 기록되고 컴퓨터로 읽을 수 있는 기록매체에 대한 것이다. 본 발명은 다양한 피부 병변 사이의 국소 공간 상관도 (local spatial correlation)가 고려된 상황 의존적 의사 결정 프로세스를 수행하는 다중 피부 병변 검출 시스템, 다중 피부 병변 검출 방법 및 이를 구현하기 위한 프로 그램이 기록되고 컴퓨터로 읽을 수 있는 기록매체에 대한 것이다."}
{"patent_id": "10-2019-0021197", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "얼굴 피부 분석을 위한 현재 제품들은 단순 영상 처리 기술을 활용하거나 인공 지능 모델을 활용한다고 해도 적 은 유형의 피부 병변을 탐지하는 데 그치고 있어 주변 환경과 사용자에 따라 다양한 피부 문제점을 검출하는데 에 한계가 있다. 또한, 피부 문제점들은 서로 유사한 특징을 보이고 있기 때문에, 정확하게 검출하기 위해서는 검출하고자 하는 객체들 간의 관계를 고려하는 것이 중요하다. 그러나, 현재까지 관련된 연구에서 검출하고자 하는 객체들은 독립적으로 고려되어왔다. COCO, Pascal VOC 2012, Cityscapes, CamVid 등과 같은 주요 머신러닝 비전 챌린지에서의 객체 검출 작업은 검출 시 객체에 대한 결정이 다른 객체에 대한 결과와 무관한 \"상황 독립적 결정 방법(context-independent decision)\"을 기반으로 한다. 상황 독립적 결정 방법 기반의 인공지능 기술이 피부 문제점을 검출하는데 적용될 시, 서로 유사한 피부 객체들 간의 특징이 각각의 클래스를 학습하는데 저해 요인이 되고, 최종적으로 피부 객체 문제점을 부정확하게 오판단 하는 문제가 있었다. 예를 들어, 촬영된 조명 환경에 따라 기미, 염증 후 색소침착, 여드름을 정확하게 구분하 여 판단하는 것이 어려울 수 있다. 선행기술문헌 특허문헌 (특허문헌 0001) 대한민국 공개특허공보 제2018-0041919"}
{"patent_id": "10-2019-0021197", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 다양한 피부 병변 사이의 국소 공간 상관도가 고려된 상황 의존적 의사 결정 프로세스를 수행하여, 사용자의 피부에 존재하는 유사한 병변을 명확하게 구분하고 분리 검출하는 다중 피부 병변 검출 시스템, 다중 피부 병변 검출 방법 및 이를 구현하기 위한 프로그램이 기록되고 컴퓨터로 읽을 수 있는 기록매체를 제공한다. 본 발명은 또한, 상대적으로 작은 크기를 가지는 피부 병변 객체들을 소실없이 검출해 낼 수 있는 다중 피부 병 변 검출 시스템, 다중 피부 병변 검출 방법 및 이를 구현하기 위한 프로그램이 기록되고 컴퓨터로 읽을 수 있는 기록매체를 제공한다. 본 발명은 또한, 검출된 피부 병변의 위치와 종합 피부 병변 지수를 사용자에게 제공하고, 상기 종합 피부 병변 지수에 따른 맞춤 제품을 추천하는 다중 피부 병변 검출 시스템, 다중 피부 병변 검출 방법 및 이를 구현하기 위한 프로그램이 기록되고 컴퓨터로 읽을 수 있는 기록매체를 제공한다."}
{"patent_id": "10-2019-0021197", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명은 상기 과제를 해결하기 위해 안출된 것으로써, 사용자 얼굴 이미지 데이터를 인코딩하여 특징 추출 (feature extraction)을 수행하는 인코딩부; 상기 인코딩부의 후단에 위치하여 인코딩된 사용자 얼굴 이미지 데 이터를 원본 이미지 크기에 맞추어 맵핑하고, 픽셀별 클래스 값을 출력하는 디코딩부; 맵핑된 클래스 중 피부 병변을 타켓팅하는 검출 대상 클래스가 얼굴 전체 영역 대비 차지하는 비율을 계산하여 피부 병변 지수를 도출 하는 연산부; 및 상기 피부 병변을 타켓팅하는 검출 대상 클래스가 표시된 원본 이미지와 피부 병변 지수를 사 용자에게 제공하는 출력부;를 포함한다. 또한, 상기 인코딩부는, 사용자 얼굴 이미지 데이터에 대한 레귤러 컨 볼루션 연산을 수행하는 레귤러 컨볼루션 블록; 상기 레귤러 컨볼루션 블록의 후단에 위치하여 레지듀얼 러닝 (residual learning)을 수행하는 레지듀얼 블록(residual block); 및 상기 레지듀얼 블록(residual block)의 후단에 위치하고, 상기 레지듀얼 블록(residual block)과 교번 배치되며 사용자 얼굴 이미지 데이터 내 복수의 피부 병변들 사이에 국소 공간 연관성를 추출하여 상황 의존적 의사결정을 수행하는 리씽커 블록(rethinker block)을 포함한다. 또한, 상기 디코딩부는, 서로 다른 확장 비율값의 앳로우즈 컨볼루션(atrous convolution) 연산을 병렬 수행하는 ASPP(Atrous Spatial Pyramid Pooling) 모듈 또는 앳로우즈 세퍼러블 컨볼루션(atrous separable convolution) 연산을 병렬 수행하는 ASSPP(Atrous saparable Spatial Pyramid Pooling) 모듈을 포함 할 수 있다. 하나의 예시에서, 상기 인코딩부는, 서로 다른 피부 병변을 타켓팅하는 제 1 내지 제 11 클래스; 및 상기 제 1 내지 제 11 클래스 이외에 얼굴 및 주변 영역을 포함하는 논-타켓 클래스;를 분리 검출할 수 있는 딥러닝 모델 을 이용하여, 사용자 얼굴 이미지 데이터의 특징 추출(feature extraction)을 수행할 수 있다. 하나의 예시에서, 상기 딥러닝 모델은, 복수의 얼굴 이미지를 상기 제 1 내지 11 클래스 및 논-타켓 클래스로 라벨링화하여 획득된 데이터 세트를 이용하여 학습된 것을 특징으로 할 수 있다. 하나의 예시에서, 상기 레지듀얼 블록(residual block)은, 뎁스와이즈 세러퍼블 컨볼루션(depthwise saparable convoltion)을 수행하는 뎁스와이즈 세퍼러블 컨볼루션 레이어(depthwise saparable convolution layer)를 적 어도 하나 포함할 수 있다. 하나의 예시에서, 상기 리씽커 블록(rethinker block)은, 상기 레지듀얼 블록(residual block)을 통과한 얼굴 이미지 데이터의 피쳐맵(feature map)을 입력값으로 받는 컨볼루셔널 LSTM 레이어; 및 상기 컨볼루셔널 LSTM 레 이어를 통과한 얼굴 이미지 데이터의 특징 재조정을 수행하는 SE 블록;을 포함할 수 있다. 하나의 예시에서, 상기 리씽커 블록(rethinker block)은, 제 1 컨볼루셔널 LSTM 레이어 및 제 2 컨볼루셔널 LSTM 레이어로 이루어지는 컨볼루셔널 LSTM 레이어; 및 상기 제 1 컨볼루셔널 LSTM 레이어를 통과한 얼굴 이미 지 데이터의 특징 재조정을 수행하는 SE 블록을 포함하고, 상기 제 2 컨볼루셔널 LSTM 레이어를 매개로 프로젝 션 커넥션을 수행할 수 있다. 하나의 예시에서, 상기 SE 블록은, 상기 컨볼루셔널 LSTM 레이어를 통과한 얼굴 이미지 데이터의 개별 채널에 대한 중요 정보를 추출하는 스퀴즈 오퍼레이션부; 및 스퀴즈한 데이터를 재조정하여 채널 간 의존성을 도출하는 익시테이션 오퍼레이션부를 포함할 수 있다. 하나의 예시에서, 상기 디코딩부는, 상기 인코딩부의 레귤러 컨볼루션 블록; 레지듀얼 블록(residual block); 또는 리씽커 블록(rethinker block)을 통과하는 로우-레벨 피쳐맵에 대한 1x1 컨볼루션 연산 결과물과, 상기 ASPP(Atrous Spatial Pyramid Pooling) 모듈 또는 ASSPP(Atrous saparable Spatial Pyramid Pooling) 모듈을 통과한 사용자 얼굴 이미지 데이터를 1x1 컨볼루션 연산 한 후, 업-샘플링(up-sampling)한 데이터를 컨케터네이 트(concatenate)할 수 있다. 하나의 예시에서, 상기 출력부는, 피부 병변을 타켓팅하는 검출 대상 클래스의 종류 및 피부 병변 지수에 따른 맞춤 제품을 추천할 수 있다. 본 발명은 또한, 딥러닝 기반 다중 피부 병변 검출 시스템을 이용한 딥러닝 기반 다중 피부 병변 검출 방법에 대한 것이다. 상기 다중 피부 병변 검출 방법은, 사용자 얼굴 이미지 데이터를 인코딩하여 특징 추출(feature extraction)을 수행하는 단계; 인코딩된 사용자 얼굴 이미지 데이터를 원본 이미지 크기에 맞추어 맵핑하고, 픽셀별 클래스 값 을 출력하는 단계; 맵핑된 클래스 중 피부 병변을 타켓팅하는 검출 대상 클래스가 얼굴 전체 영역 대비 차지하 는 비율을 계산하여 피부 병변 지수를 도출하는 단계; 및 상기 피부 병변을 타켓팅하는 검출 대상 클래스가 표 시된 원본 이미지와 피부 병변 지수를 사용자에게 제공하는 단계;를 포함한다.하나의 예시에서, 상기 특징 추출(feature extraction)을 수행하는 단계는, 사용자 얼굴 이미지 데이터에 대한 레귤러 컨볼루션 연산을 수행하는 단계; 상기 레귤러 컨볼루션 연산이 수행된 사용자 얼굴 이미지 데이터에 대 한 레지듀얼 러닝(residual learning)을 수행하는 단계; 및 상기 레지듀얼 러닝(residual learning)이 수행된 사용자 얼굴 이미지 데이터 내 복수의 피부 병변들 사이에 국소 공간 연관성를 추출하여 상황 의존적 의사결정 을 수행하는 리씽킹(Rethinking)단계;를 포함할 수 있다. 하나의 예시에서, 상기 픽셀별 클래스 값을 출력하는 단계는, 서로 다른 확장 비율값의 앳로우즈 컨볼루션 (atrous convolution) 연산을 병렬 수행하거나, 또는 앳로우즈 세퍼러블 컨볼루션(atrous separable convolution) 연산을 병렬 수행하는 단계; 상기 앳로우즈 컨볼루션(atrous convolution) 또는 앳로우즈 세퍼러 블 컨볼루션(atrous separable convolution) 연산이 병렬 수행된 사용자 얼굴 이미지 데이터를 단계적으로 업- 샘플링(up-sampling)하는 단계; 및 업-샘플링(up-sampling)된 사용자 얼굴 이미지 데이터를 원본 이미지 크기에 맞추어 맵핑하고, 픽셀별 클래스 값을 출력하는 단계;를 포함할 수 있다. 본 발명은 또한, 상기 딥러닝 기반 다중 피부 병변 검출 방법을 구현하기 위한 프로그램이 기록되고, 컴퓨터로 읽을 수 있는 기록 매체에 대한 것이다 본 발명은 또한, 상기 기록 매체를 실행하는 전자 장치에 대한 것이다. 하나의 예시에서, 상기 전자 장치는 상기 기록 매체가 저장된 피부 상태 분석용 모듈, 상기 모듈을 포함하는 키 오스크, 상기 모듈을 포함하는 피부 상태 진단용 미러, 상기 모듈을 포함하고 피부 상태 진단 기능을 구비한 화 장품 제공 자판기, 포터블 피부 상태 분석 디바이스 또는 상기 기록 매체가 저장된 서버와 연동하는 어플리케이 션이 설치된 휴대용 단말기일 수 있다."}
{"patent_id": "10-2019-0021197", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따른 딥러닝 기반 다중 피부 병변 검출 시스템은 유사한 피부 병변을 명확하게 구분 및 분리 검출할 수 있고, 작은 크기를 가지는 병변이라도 소실없이 검출해 낼 수 있다. 본 발명에 따른 딥러닝 기반 다중 피부 병변 검출 시스템은 또한, 종합 피부 병변 지수와 함께 검출된 피부 병 변이 표시된 이미지를 사용자에게 제공하고, 검출된 피부 병변의 종류 및 종합 피부 병변 지수를 기반으로 맞춤 제품을 추천함으로써, 사용자에게 정확한 자신의 피부 상태 및 이의 개선 방법을 제공할 수 있다. 다만, 본 발명에 따른 효과가 상기 내용에 의해 제한되는 것은 아니다."}
{"patent_id": "10-2019-0021197", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 본 발명에 딥러닝 기반 다중 피부 병변 검출 시스템, 딥러닝 기반 다중 피부 병변 검출 방법, 상기 방법 을 구현하기 위한 프로그램이 기록되고 컴퓨터로 읽을 수 있는 기록 매체 및 이를 실행하는 전자 장치에 대해도면 및 예시를 들어 보다 구체적으로 설명한다. 본 명세서에서, 단수의 표현은 달리 명시하지 않는 한 복수의 표현을 포함한다. 본 명세서에서 사용되는 용어는, 본 발명에서의 기능을 고려하면서 가능한 현재 널리 사용되는 일반적인 용어들 을 선택하였으나, 이는 당 분야에 종사하는 기술자의 의도 또는 판례, 새로운 기술의 출현 등에 따라 달라질 수 있다. 또한, 특정한 경우는 출원인이 임의로 선정한 용어도 있으며, 이 경우 해당되는 발명의 설명 부분에서 상 세히 그 의미를 기재할 것이다. 따라서 본 발명에서 사용되는 용어는 단순한 용어의 명칭이 아닌, 그 용어가 가 지는 의미와 본 발명의 전반에 걸친 내용을 토대로 정의되어야 한다. 본 발명의 실시예들은 다양한 변환을 가할 수 있고 여러 가지 실시예를 가질 수 있는바, 특정 실시예들을 도면 에 예시하고 상세한 설명에 상세하게 설명하고자 한다. 그러나, 이는 특정한 실시 형태에 대해 범위를 한정하려 는 것이 아니며, 발명된 사상 및 기술 범위에 포함되는 모든 변환, 균등물 내지 대체물을 포함하는 것으로 이해 되어야 한다. 실시예들을 설명함에 있어서 관련된 공지 기술에 대한 구체적인 설명이 요지를 흐릴 수 있다고 판 단되는 경우 그 상세한 설명을 생략한다. 본 명세서에서 제 1, 제 2, a 및 b 등의 용어는 다양한 구성요소들을 설명하는데 사용될 수 있지만, 구성요소는 상기 용어들에 의해 한정되어서는 안된다. 상기 용어들은 하나의 구성요소를 다른 구성요소로부터 구별하는 목 적으로만 사용된다. 본 명세서에서, \"포함하다\" 또는 \"구성되다\" 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 본 명세서에서, “이루어지다” 또는 “이루어지는” 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조합한 것만이 존재함을 지정하려는 것으로써, 하나 또는 그 이상의 다른 특징들이 나 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 배제하는 것으로 이 해되어야 한다. 본 발명은 딥러닝 기반 다중 피부 병변 검출 시스템에 대한 것이다. 피부에 존재하는 다양한 병변 사이에는 한 객체가 다른 객체의 존재 및 종류에 영향을 미치는 것이 일반적이나, 현재의 영상 처리 기술 및 상기 영상 처리 기술을 적용한 피부 분석 장치는 적은 유형의 피부 병변을 구별하여 검출 할 수 있을 뿐, 사용자의 얼굴에 존재하는 다양한 피부 병변을 종류별로 명확히 구분하여 검출할 수 있는 것에는 한계가 있는 실정이다. 이에, 본 발명자는, 사용자의 얼굴 영역에 존재하는 다양한 종류의 피부 병변 사이의 연관성을 고려하여 설계된 상황 의존적 결정 기반 딥 러닝 모델을 적용하고, 적은 객체 검출에 효과적인 디코딩 구조를 설계함으로써, 다 양한 종류의 피부 병변을 명확하게 구분하여 분리 검출할 수 있으며, 객체의 크기에 상관없이 모든 피부 병변을 소실없이 검출할 수 있는 다중 피부 병변 검출 시스템을 개발하기에 이르렀다. 보다 구체적으로, 본 발명에 따른 딥러닝 기반 다중 피부 병변 검출 시스템은, 인코딩부 및 디코딩부를 포함하 는데, 상기 인코딩부를 변형된 얼라인드 엑셉션(aligned Xception) 골격을 기반으로 설계하고, 사용자 얼굴 이 미지 데이터 내 복수의 피부 병변들 사이에 국소 공간 연관성를 추출하여 상황 의존적 의사결정을 수행하는 리 씽커 블록(rethinker block)을 포함하도록 구성하며, 상기 디코딩부에 ASPP(Atrous Spatial Pyramid Pooling) 모듈 또는 ASSPP(Atrous saparable Spatial Pyramid Pooling) 모듈을 포함하도록 구성함으로써, 다양한 피부 병변의 분리 검출 및 국소 피부 병변의 객체 소실 문제점을 개선하였다. 도 1에는 본 발명에 따른 딥러닝 기반 다중 피부 병변 검출 시스템의 각 구성을 설명하기 위한 일 블록도가 도 시되어 있고. 도 2에는 본 발명에 따른 시스템에 포함되는 인코딩부 및 디코딩부의 개략적인 블록 구 조가 도시되어 있다. 도 1에 도시되어 있는 바와 같이, 본 발명에 따른 다중 피부 병변 검출 시스템은 인코딩부; 디코딩부 ; 연산부; 및 출력부를 포함한다. 또한, 인코딩부는, 도 2에 도시되어 있는 바와 같이, 인코딩부는 사용자 얼굴 이미지 데이터에 대한 레귤러 컨볼루션 연산을 수행하는 레귤러 컨볼루션 블록; 레귤러 컨볼루션 블록의 후단에 위치하여레지듀얼 러닝(residual learning)을 수행하는 레지듀얼 블록(residual block); 및 레지듀얼 블록 (residual block)의 후단에 위치하고, 상기 레지듀얼 블록(residual block)과 교번 배치되며 사용자 얼굴 이미지 데이터 내 복수의 피부 병변들 사이에 국소 공간 연관성를 추출하여 상황 의존적 의사결정을 수행하는 리씽커 블록(rethinker block)을 포함한다. 또한, 디코딩부는, 도 2에 도시되어 있는 바와 같이, 서로 다른 확장 비율값의 앳로우즈 컨볼루션(atrous convolution) 연산을 병렬 수행하는 ASPP(Atrous Spatial Pyramid Pooling) 모듈 또는 앳로우즈 세퍼러블 컨볼루션(atrous separable convolution) 연산을 병렬 수행하는 ASSPP(Atrous saparable Spatial Pyramid Pooling) 모듈을 포함한다. 인코딩부는 사용자 얼굴 이미지 데이터를 인코딩하여 특징 추출(feature extraction)을 수행한다. 구체적으로, 인코딩부는 촬영된 사용자 얼굴 이미지를 리사이즈하여 획득된 사용자 얼굴 이미지 데이터에 대한 피쳐맵(feature map)을 형성하고, 리씽커 블록(rethinker block)을 통해 상황 의존적 의사결정을 수행함으 로써 사용자 얼굴 이미지 데이터 내 복수의 피부 병변들 사이에 국소 공간 연관성을 추출하는 역할을 수행한다. 더 구체적으로, 인코딩부는 서로 다른 피부 병변을 타켓팅하는 제 1 내지 제 11 클래스; 및 상기 제 1 내 지 제 11 클래스 이외에 얼굴 및 주변 영역을 포함하는 논-타켓 클래스;를 분리 검출할 수 있는 딥러닝 모델을 이용하여 사용자 얼굴 이미지 데이터의 레귤러 컨볼루션 연산 및 레지듀얼 러닝(residual learning)을 수행하고, 사용자 얼굴 이미지 데이터 내 복수의 피부 병변들 사이에 국소 공간 연관성를 추출하여 상황 의존적 의사결정을 수행할 수 있다. 상기와 같은, 인코딩부의 연산 구조를 통해 다양한 피부 병변을 클래스 구분 의 오류없이 정확하게 분리 검출할 수 있다. 상기 딥러닝 모델을 이용한 레귤러 컨볼루션 연산을 수행하는 레귤러 컨볼루션 블록은 적어도 하나의 레귤 러 컨볼루션 레이어를 포함하는데, 예를 들면 1 내지 5, 1 내지 4, 1 내지 3, 2 또는 1개의 레귤러 컨볼루션 레 이어로 이루어질 수 있다. 레귤러 컨볼루션 블록이 복수의 레귤러 컨볼루션 레이어를 포함할 경우, 각 레 귤러 컨볼루션 레이어 사이의 파라미터는 파라미터의 종류에 따라 같거나 다를 수 있다. 인코딩부는, 레귤러 컨볼루션 블록의 후단에 위치하여 레지듀얼 러닝(residual learning)을 수행하는 레지듀얼 블록(residual block)을 포함한다. 레지듀얼 블록(residual block)은, 레지듀얼 러닝(residual learning)을 수행하는 블록을 의미하는 것으 로써, 예를 들면 도 3a 또는 도3b의 구조를 가지는 것일 수 있다. 상기에서 “레지듀얼 러닝(residual learning)을 수행한다”라는 것은 하기 수식 1로 표현되는 스킵 커넥션을 수행하거나, 하기 수식 2로 표현되는 프로젝션 커넥션을 수행하는 것을 의미할 수 있다. [수식 1] H(x)=F(x)+x [수식 2] H(x)=F(x)+Wx 상기 수식 1 및 2에서, H(x)는 러닝(residual learning)을 통해 최종적으로 출력되는 데이터 값을 의미하고, F(x)는 레지듀얼 연산 값을 의미하며, x는 입력값을 의미하고, W는 디멘젼 매칭을 위한 선형 프로젝션을 의미한 다. 특히, 본 발명에 따른 레지듀얼 블록(residual block)은, 레지듀얼 연산이 뎁스와이즈 세퍼러블 컨볼루션 (depthwise saparable convoltion)을 수행하는 뎁스와이즈 세퍼러블 컨볼루션 레이어(depthwise saparable convolution layer)에 의해 이루어지도록 설계되어 파라미터의 간소화 및 그에 따른 컴퓨팅 파워 제약 최소화 효과를 달성할 수 있다. 즉, 레지듀얼 블록(residual block)은, 뎁스와이즈 세러퍼블 컨볼루션(depthwise saparable convoltion) 을 수행하는 뎁스와이즈 세퍼러블 컨볼루션 레이어(depthwise separable convolution layer)를 적어도 하나 포 함할 수 있다. 도 3a에 도시된 구조를 살펴보면, 레지듀얼 블록(residual block)은, 뎁스와이즈 세퍼러블 컨볼루션 (depthwise saparable convoltion)을 수행하는 제 1 내지 제 3 뎁스와이즈 세퍼러블 컨볼루션 레이어(depthwise saparable convolution layer)(1021,1022,1023)를 포함할 수 있다. 또한, 레지듀얼 블록(residual block)은, 도 3b에 도시되어 있는 바와 같이, 디멘션(dimension) 매칭을 위해 레귤러 컨볼루션을 수행하는 컨볼루션 레이어 및 뎁스와이즈 세퍼러블 컨볼루션(depthwise saparable convoltion)을 수행하는 제 1 내지 제 3 뎁스와이즈 세퍼러블 컨볼루션 레이어(depthwise saparable convolution layer)(1021,1022,1023)를 포함할 수 있다. 상기 제 1 내지 제 3 뎁스와이즈 세퍼러블 컨볼루션 레이어(depthwise saparable convolution layer)(1021,1022,1023)의 파라미터는 각각 독립적으로 설정되며, 서 로 같거나 다를 수 있다. 도 3b에 도시되어 있는 구조를 가지는 레지듀얼 블록(residual block)은 디멘젼 매칭을 위해 프로젝션 커넥션을 수행할 수 있다. 인코딩부는, 레지듀얼 블록(residual block)의 후단에 위치하고, 상기 레지듀얼 블록(residual block)과 교번 배치되며 사용자 얼굴 이미지 데이터 내 복수의 피부 병변들 사이에 국소 공간 연관성를 추 출하여 상황 의존적 의사결정을 수행하는 리씽커 블록(rethinker block)을 포함한다. 본 발명에 따른 시스템은, 사용자 얼굴 이미지 데이터 내 복수의 피부 병변들 사이에 국소 공간 연관성를 추출 하여 상황 의존적 의사결정을 수행하는 리씽커 블록(rethinker block)을 포함함으로써, 다양한 피부 병변 들을 명확하게 분리하여 검출할 수 있다. 도 4a 및 b에는, 본 발명에 따른 리씽커 블록(rethinker block)의 일 블록 구조가 도시되어 있다. 도 4a에 도시되어 있는 바와 같이, 리씽커 블록(rethinker block)은, 레지듀얼 블록(residual block)을 통과한 얼굴 이미지 데이터의 피쳐맵(feature map)을 입력값으로 받는 컨볼루셔널 LSTM 레이어 ; 및 컨볼루셔널 LSTM 레이어를 통과한 얼굴 이미지 데이터의 특징 재조정을 수행하는 SE 블록 ;을 포함할 수 있다. 컨볼루셔널 LSTM 레이어는, SE 블록과 함께, 인코딩부로 하여금 광범위한 공간 상관도를 유지 하면서, 이미지 내 검출 대상 객체의 특징들 사이에 국소 공간 가시 의존성에 기반한 연산을 수행할 수 있도록 한다. 컨볼루셔널 LSTM 레이어는, 구체적으로 국소적으로 설계된 컨볼루셔널 LSTM 레이어로써, 아래 수식 3 내 지 7을 수행하고 히든-스테이트(hidden-state)와 셀 스테이트(cell-state) 구조를 가지며 컨볼루션 연산을 수행 하는 LSTM(Long Short-Term Memory) 레이어를 의미한다. [수식 3] it = σ(wvi ⊙ vt + Whi ⊙ ht-1 + wci ○ ct-1 + bi) [수식 4] ft = σ(wvf ⊙ vt + Whf ⊙ ht-1 + wcf ○ ct-1 + bf) [수식 5] ct = ft ○ ct-1 + it ○ tanh(wxc*vt + whc ⊙ ht-1 + bc) [수식 6] σt = σ(wvo ⊙ vt + who ⊙ ht-1 + wco ○ ct + bo) [수식 7] ht = ot ○ tanh(ct) 수식 3 내지 7에서, it 는 입력 게이트, ft 는 망각 게이트, ct 는 셀-스테이트(cell-state), Ht는 히든-스테이 트(hidden-state), σt 는 출력 게이트를 의미하며, ⊙ 은 컨볼루션 연산을, ○은 아마마르 곱(hadamard product)를 의미한다. 컨볼루셔널 LSTM 레이어는, 구체적으로 도 5에 예시된 구조를 가지는 것으로써, 예를 들면 레지듀얼 블록 (residual block)을 통과한 얼굴 이미지 데이터의피쳐맵(feature map) 채널에 대한 디멘젼 슬라이싱 데이 터(dimension slicing data)를 입력 값으로 받고, 상기 피쳐맵(feature map)과 동일한 디멘션(dimension)을 가지는 데이터를 출력값으로 제공할 수 있다. 리씽커 블록(rethinker block)은, 도 5b와 같은 프로젝션 커넥션을 수행할 수 있는데, 이 경우, 컨볼루셔 널 LSTM 레이어는, 제 1 컨볼루셔널 LSTM 레이어 및 제 2 컨볼루셔널 LSTM 레이어로 이루어질 수 있다. 하나의 예시에서, 리씽커 블록(rethinker block)은, 제 1 컨볼루셔널 LSTM 레이어(1031a) 및 제 2 컨볼루 셔널 LSTM 레이어(1031b)로 이루어지는 컨볼루셔널 LSTM 레이어; 및 제 1 컨볼루셔널 LSTM 레이어 (1031a)를 통과한 얼굴 이미지 데이터의 특징 재조정을 수행하는 SE 블록을 포함하고, 제 2 컨볼루셔널 LSTM 레이어(1031b)를 매개로 프로젝션 커넥션을 수행할 수 있다. 이 경우, 상기 제 1 및 제 2 컨볼루셔 널 LSTM 레이어(1031a,b)의 디멘젼 슬라이싱 계수 및 커널 사이즈를 포함하는 파라미터 값은 서로 같거나 다를 수 있다. 상기 프로젝션 커넥션은 예를 들면 합 연산 또는 곱 연산 일 수 있고, 바람직하게는 곱 연산일 수 있다. 리씽커 블록(rethinker block)은, 컨볼루셔널 LSTM 레이어를 통과한 얼굴 이미지 데이터의 특징 재 조정을 수행하는 SE 블록을 포함한다. SE 블록은, 컨볼루셔널 LSTM 레이어와 함께, 인코딩부로 하여금 광범위한 공간 상관도를 유지 하면서, 이미지 내 검출 대상 객체의 특징들 사이에 국소 공간 가시 의존성에 기반한 연산을 수행할 수 있도록 한다. 상기 SE 블록은, 스퀴즈(Squeeze) 연산 및 익시테이션(excitation) 연산을 수행하는 블록을 의미하며, 스 퀴즈 오퍼레이션부와 익시테이션 오퍼레이션부를 포함할 수 있다."}
{"patent_id": "10-2019-0021197", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "상기 스퀴즈 오퍼레이션부는, 컨볼루셔널 LSTM 레이어를 통과한 이미지 데이터의 전체 정보를 요약하여 개별 채널별 중요 정보만을 추출하는 역할을 수행할 수 있는데, 예를 들면 아래 수식 8로 표현되는 GAP(Global average pooling)을 수행할 수 있다. [수식 8]"}
{"patent_id": "10-2019-0021197", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "상기 수식 8은, H,W,C 크기의 UV 반사 이미지 데이터를 1,1,C 크기로 만들어 데이터의 전체 정보를 요약하여 개 별 채널별 중요 정보만을 추출하는 프로세스를 의미한다. 상기 익시테이션 오퍼레이션부는, 스퀴즈한 이미지 데이터를 재조정(recalibration)하여, 채널 간 의존성 (channel-wise dependencies)를 계산하는 역할을 수행할 수 있다. 상기 익시테이션 오퍼레이션부는, 예를 들면 풀리 커넥티드 레이어와 비선형 함수 조절 레이어로 이루어질 수 있다. 상기 비선형 함수 조절 레이어는, ReLU 함수 레이어 또는 시그모이드 함수 레이어 등 예시될 수 있으나 이에 제한되는 것은 아니다. 상기 SE 블록은, 또한 익시테이션 오퍼레이션부를 통과한 데이터와 스퀴즈 오퍼레이션부 이전의 입력 데 이터를 곱하는 스케일링부를 더 포함할 수 있다. 상기 스케일링부를 통해, 스퀴즈 오퍼레이션부 이전의 스케일 로 데이터를 출력할 수 있다. 도 6에는 본 발명에 따른 인코딩부의 상세 구조가 도시되어 있다. 인코딩부는, 전술한 블록들을 포함하는 엔트리 플로우(100a), 미들 플로우(100b), 엑시트 플로우(100c)로 이루어질 수 있다. 엔트리 플로우(100a)는, 레귤러 컨볼루션 블록, 레지듀얼 블록(residual block) 및 레지듀얼 블록 (residual block)과 교번 배치되어 있는 리씽커 블록(rethinker block)을 포함할 수 있다. 보다 구체적으로, 엔트리 플로우(100a)는, 레귤러 컨볼루션 블록 및 제 1 내지 제 3 레지듀얼 블록 (residual block)(102a,b,c) 및 제 1 내지 제 3 레지듀얼 블록(residual block)(102a,b,c) 각각의 사이에 존재 하는 제 1 내지 제 3 리씽커 블록(rethinker block)(103a,b,c)로 이루어질 수 있다. 엔트리 플로우(100a)의 제 1 내지 제 3 레지듀얼 블록(residual block)(102a,b,c)은, 도 3b와 같은 구조를 가지는 것으로써 프로젝션 커넥 션을 수행할 수 있다.미들 플로우(100b)는, 제 4 레지듀얼 블록(residual block)(102d) 및 제 5 리씽커 블록(rethinker block)(103d)을 포함할 수 있다. 보다 구체적으로, 미들 플로우(100b)는, 제 4 레지듀얼 블록(residual block)(102d) 및 제 5 리씽커 블록 (rethinker block)(103d)이 복수회 교번 배치되어 각 블록에서 수행되는 연산을 반복 수행할 수 있다. 상기 교 번 배치의 횟수는, 예를 들면 6 내지 10회, 7 내지 9회 또는 8회 일 수 있으나 이에 제한되는 것은 아니다. 미 들 플로우(100b)의 제 4 레지듀얼 블록(residual block)(102d)은, 예를 들면 도 3a와 같은 구조를 가지는 것으 로써 스킵 커넥션을 수행할 수 있다. 엑시트 플로우(100c)는, 제 5 레지듀얼 블록(residual block)(102e) 및 뎁스와이즈 세퍼러블 컨볼루션을 수행하 는 뎁스와이즈 세퍼러블 컨볼루션 레이어(depthwise separable convolution layer)를 적어도 하나 포함하는 뎁 스와이즈 세퍼러블 컨볼루션 블록을 포함할 수 있다. 뎁스와이즈 세퍼러블 컨볼루션 블록은, 예를 들 면 서로 같거나 다른 파라미터를 가지는 제 1 내지 제 3 뎁스와이즈 세퍼러블 컨볼루션 레이어 (depthwise separable convolution layer)를 포함할 수 있다. 한편, 엑시트 플로우(100c)의 제 5 레지듀얼 블록(residual block)(102e)은, 예를 들면 도 3b와 같은 구조를 가지는 것으로써 프로젝션 커넥션을 수행할 수 있다. 도 6에는 본 발명에 따른 인코딩부의 상세 구조의 일 예시일 뿐, 상기 상세 구조가 인코딩부의 다른 구조적 변형예를 제한하는 것은 아니다. 인코딩부는, 전술한 바와 같이, 서로 다른 피부 병변을 타켓팅하는 제 1 내지 제 11 클래스; 및 상기 제 1 내지 제 11 클래스 이외에 얼굴 및 주변 영역을 포함하는 논-타켓 클래스;를 분리 검출할 수 있는 딥러닝 모 델을 이용하여 사용자 얼굴 이미지 데이터의 특징 추출(feature extraction)을 수행할 수 있다. 상기에서 제 1 내지 제 11 클래스가 타켓팅하는 피부 병변은, 예를 들면 각각 독립적으로 주근깨(freckle), 기 미(melasma), 염증후 색소침착(PIH), 검버섯(age spot), 면포(whitehead), 구진(papule), 농포(pustule), 지루 성 피부염(seborrheic dermatitis), 홍조(flushing), 발적군(redness) 및 점(dot) 일 수 있으나, 이에 제한되 는 것은 아니다. 상기 제 1 내지 제 11 클래스 이외에 얼굴 및 주변 영역을 포함하는 논-타켓 클래스는, 예를 들면 피부(normal skin), 머리카락(hair), 헤어라인(hair line), 입, 눈, 눈썹, 안경, 스카프/마스크 또는 배경 등이 예시될 수 있으나, 이에 제한되는 것은 아니다. 하나의 예시에서, 인코딩부의 딥러닝 모델은, 복수의 얼굴 이미지를 상기 제 1 내지 11 클래스 및 논-타켓 클래스로 라벨링화하여 획득된 데이터 세트를 이용하여 학습된 것을 특징으로 할 수 있고, 더 구체적인 예시에 서, 적어도 하나 이상의 피부 병변을 가지는 모집단으로부터 획득된 복수의 얼굴 이미지를 검출 대상피부 병변 을 표시하는 제 1 내지 제 11 클래스 및 그 이외의 영역을 표시하는 논-타켓 클래스로 라벨링하여 획득된 데이 터 세트를 이용하여 학습된 것을 특징으로 할 수 있다. 도 7에는 상기 딥러닝 모델의 설계를 위해 도입된 데이터 세트를 구성하는 일 이미지 데이터에 대한 일 예시도 가 도시되어 있다. 도 7에 도시되어 있는 바와 같이, 모델 설계를 위해 도입된 데이터 세트는 적어도 하나 이상의 피부 병변을 가 지는 모집단으로부터 획득된 복수의 얼굴 이미지를 픽셀-에노테이션-툴(pixel-annotation-tool)을 사용하여 기 설정 클래스, 예를 들면 11개 피부 병변을 표시하는 클래스 및 상기 11개 피부 병변 이외의 영역을 포함하는 논 -타켓 클래스로 라벨링화된 이미지 데이터를 포함할 수 있다. 상기 이미지 데이터는, 라벨링 색상 및 라벨링 이 름을 포함할 수 있다. 디코딩부는, 상기 인코딩부의 후단에 위치하여 인코딩된 사용자 얼굴 이미지 데이터를 원본 이미지 크기에 맞추어 맵핑하고, 픽셀별 클래스 값을 출력하는 역할을 한다. 디코딩부는, 또한 서로 다른 확장 비율값의 앳로우즈 컨볼루션(atrous convolution) 연산을 병렬 수행하는 ASPP(Atrous Spatial Pyramid Pooling) 모듈 또는 앳로우즈 세퍼러블 컨볼루션(atrous separable convolution) 연산을 병렬 수행하는 ASSPP(Atrous saparable Spatial Pyramid Pooling) 모듈을 포함한다. 디코딩부의 상기 모듈 구조에 의해 작은 객체의 피부 병변도 소실없이 검출할 수 있고, 또한 컴퓨팅 파워에 대 한 제약으로 발생하는 문제점을 미연에 방지할 수 있다. ASPP(Atrous Spatial Pyramid Pooling) 모듈은, 서로 다른 확장 비율값의 앳로우즈 컨볼루션(atrous convolution) 연산을 병렬 수행할 수 있다. 상기 앳로우즈 컨볼루션(atrous convolution) 연산은, 특정 간격인 확장 비율값을 두고 비워진 필터와 입력 데 이터와의 컨볼루션을 수행하는 것을 의미한다. 확장 비율값이라는 파라미터가 존재하고, 확장 비율값이 커질수 록 이미지 데이터의 더 넓은 영역을 담을 수 있게 된다. ASPP(Atrous Spatial Pyramid Pooling) 모듈은, 상기 다른 확장 비율값의 앳로우즈 컨볼루션(atrous convolution) 연산을 병렬 수행하여 다양한 크기에 대한 정보를 손실 없이 디코딩할 수 있도록 한다. ASSPP(Atrous saparable Spatial Pyramid Pooling) 모듈은, 앳로우즈 세퍼러블 컨볼루션(atrous separable convolution) 연산, 구체적으로 앳로우즈 컨볼루션과 뎁스와이즈 세퍼러블 컨볼루션을 결합한 연산이 수행될 수 있다. 상기 ASSPP(Atrous saparable Spatial Pyramid Pooling) 모듈을 사용하는 경우, 파라미 터 사용량 대비 성능 효율을 극대화시킬 수 있다. 도 8에는 본 발명에 따른 디코딩부의 상세 구조가 도시되어 있다. 디코딩부는, 도 8에 도시되어 있는 바와 같이, 인코딩부의 레귤러 컨볼루션 블록; 또는 레지듀 얼 블록(residual block); 또는 리씽커 블록(rethinker block)을 통과하는 피쳐맵에 대한 1x1 컨볼 루션 연산 결과물과, 상기 ASPP(Atrous Spatial Pyramid Pooling) 모듈 또는 ASSPP(Atrous Seperable Spatial Pyramid Pooling) 모듈을 통과한 사용자 얼굴 이미지 데이터를 1x1 컨볼루션 연산 한 후, 업-샘플링(up-sampling)한 데이터를 컨케터네이트(concatenate)할 수 있다. 디코딩부는, 인코딩부의 로우-레벨 피쳐맵과 ASPP(Atrous Spatial Pyramid Pooling) 모듈 또는 ASSPP(Atrous Seperable Spatial Pyramid Pooling) 모듈을 통과한 사용자 얼굴 이미지 데이터의 컨케터네 이트(concatenate)를 통해, 파라미터 사용량 대비 성능 효율을 극대화 시키는 구조를 가질 수 있다. 도 8에 도시되어 있는 구조는, 본 발명에 따른 디코딩부의 일 예시 구조일 뿐이며, 상기 구조가 디코딩부 의 세부 구조 변형예를 제한하는 것은 아니다. 디코딩부는, 전술한 블록 구성과 구조 등을 통해, 인코딩된 사용자 얼굴 이미지 데이터를 원본 이미지 크 기에 맞추어 맵핑하고, 픽셀별 클래스 값을 출력한다. 본 발명에 따른 딥러닝 기반 다중 피부 병변 검출 시스템은 또한, 맵핑된 클래스 중 피부 병변을 타켓팅하는 검 출 대상 클래스가 얼굴 전체 영역 대비 차지하는 비율을 계산하여 종합 피부 병변 지수를 도출하는 연산부(30 0)를 포함한다. 연산부는 기 설정된 얼굴 전체 영역 대비 피부 병변을 타켓팅하는 검출 대상 클래스가 차지하는 비율을 계 산하여 종합 피부 병변 지수를 도출한다. 상기 종합 피부 병변 지수는 후술하는 출력부를 통해 수치 표현으로 사용자에게 제시될 수 있으나, 이에 제한되는 것은 아니고, 임의의 등급(A 내지 D) 등으로 표현될 수도 있다. 본 발명에 따른 딥러닝 기반 다중 피부 병변 검출 시스템은 상기 피부 병변을 타켓팅하는 검출 대상 클래스가 표시된 원본 이미지와 종합 피부 병변 지수를 사용자에게 제공하는 출력부를 포함한다. 출력부는 음성이나, 디스플레이 또는 통신 신호를 기반으로 사용자에게 피부 병변을 타켓팅하는 검출 대상 클래스가 표시된 원본 이미지와 종합 피부 병변 지수를 제공할 수 있다. 출력부가 사용자에게 피부 병변을 타켓팅하는 검출 대상 클래스가 표시된 원본 이미지와 종합 피부 병변 지수를 제공한다는 것은, 출력부의 음성 또는 디스플레이 신호가 사용자에게 직접 전달되는 경우 뿐만 아니라, 디스플레이 또는 통신 신호가 별도 기기에 제공되고, 상기 별도 기기의 음성이나 디스플레이 수단을 통해 사용자에게 피부 병변을 타켓팅하는 검출 대상 클래스가 표시된 원본 이미지와 종합 피부 병변 지수를 제공하는 것도 포함하는 것으로 이해하여야 한다. 본 발명에 따른 시스템의 출력부는 상기 피부 병변을 타켓팅하는 검출 대상 클래스가 표시된 원본 이미지 와 종합 피부 병변 지수를 제공할 뿐만 아니라, 피부 병변을 타켓팅하는 검출 대상 클래스의 종류 및 종합 피부 병변 지수에 따른 맞춤 제품을 추천할 수도 있다. 본 발명에 따른 시스템은, 컴퓨터로 읽을 수 있는 기록 매체, 상기 기록 매체를 포함하는 모듈 또는 상기 모듈 이 탑재되어 있는 전자 기기 등에 의해 구현될 수 있다. 본 발명은 또한, 딥러닝 기반 다중 피부 병변 검출 시스템을 이용한 딥러닝 기반 다중 피부 병변 검출 방법에 대한 것이다. 상기 피부 병변 검출 방법은, 사용자 얼굴 이미지 데이터를 인코딩하여 특징 추출(feature extraction)을 수행 하는 단계; 인코딩된 사용자 얼굴 이미지 데이터를 원본 이미지 크기에 맞추어 맵핑하고, 픽셀별 클래스 값을 출력하는 단계; 맵핑된 클래스 중 피부 병변을 타켓팅하는 검출 대상 클래스가 얼굴 전체 영역 대비 차지하는 비율을 계산하여 종합 피부 병변 지수를 도출하는 단계; 및 상기 피부 병변을 타켓팅하는 검출 대상 클래스가 표시된 원본 이미지와 종합 피부 병변 지수를 사용자에게 제공하는 단계;를 포함한다. 본 발명에 따른 딥러닝 기반 다중 피부 병변 검출 방법에 의하면, 다양한 피부 병변에 대한 정확한 분리 검출이 가능하고, 크기가 작은 검출 대상 객체도 빠짐없이 검출할 수 있는 이점이 있다. 사용자 얼굴 이미지 데이터를 인코딩하여 특징 추출(feature extraction)을 수행하는 단계는, 인코딩부에 서 수행될 수 있다. 하나의 예시에서, 상기 사용자 얼굴 이미지 데이터를 인코딩하여 특징 추출(feature extraction)을 수행하는 단 계는, 인코딩부의 레귤러 컨볼루션 블록에 의해 수행되는 레귤러 컨볼루션 연산 단계; 레지듀얼 블록 (residual block)에 의해 수행되는 레지듀얼 러닝(residual learning) 단계; 및 리씽커 블록(rethinker bloc k)에서 수행되는 상황 의존적 의사결정을 위한 리씽킹(Rethinking) 단계를 포함할 수 있다. 상기 인코딩된 사용자 얼굴 이미지 데이터를 원본 이미지 크기에 맞추어 맵핑하고, 픽셀별 클래스 값을 출력하 는 단계는, 디코딩부에서 수행될 수 있다. 하나의 예시에서, 상기 픽셀별 클래스 값을 출력하는 단계는, 서로 다른 확장 비율값의 앳로우즈 컨볼루션 (atrous convolution) 연산을 병렬 수행하거나, 또는 서로 다른 확장 비율값의 앳로우즈 세퍼러블 컨볼루션 (atrous separable convolution) 연산을 병렬 수행하는 단계; 상기 앳로우즈 컨볼루션(atrous convolution) 또 는 앳로우즈 세퍼러블 컨볼루션(atrous separable convolution)이 병렬 수행된 사용자 얼굴 이미지 데이터를 단 계적으로 업-샘플링(up-sampling)하는 단계; 및 업-샘플링(up-sampling)된 사용자 얼굴 이미지 데이터를 원본 이미지 크기에 맞추어 맵핑하고, 픽셀별 클래스 값을 출력하는 단계를 포함할 수 있다. 상기 맵핑된 클래스 중 피부 병변을 타케팅하는 검출 대상 클래스가 얼굴 전체 영역 대비 차지하는 비율을 계산 하여 종합 피부 병변 지수를 도출하는 단계; 및 상기 피부 병변을 타케팅하는 검출 대상 클래스가 표시된 원본 이미지와 종합 피부 병변 지수를 사용자에게 제공하는 단계는, 각각 전술한 연산부 및 출력부에서 수 행되는 것으로, 연산부 및 출력부에서 언급한 기술 내용들을 모두 본 발명에 따른 딥러닝 기반 다중 피부 병변 검출 방법에도 적용될 수 있다. 본 발명은 또한, 딥러닝 기반 다중 피부 병변 검출 방법을 실현하기 위한 프로그램이 기록되고, 컴퓨터로 읽을 수 있는 기록 매체에 대한 것이다. 본 발명은 또한, 상기 기록 매체를 실행하는 전자 장치에 대한 것이다. 상기 전자 장치는, 예를 들면 상기 기록 매체가 저장된 피부 상태 분석용 모듈, 상기 모듈을 포함하는 키오스크, 상기 모듈을 포함하는 피부 상태 진단 용 미러, 상기 모듈을 포함하고 피부 상태 진단 기능을 구비한 화장품 제공 자판기, 포터블 피부 상태 분석 디 바이스 또는 상기 기록 매체가 저장된 서버와 연동하는 어플리케이션이 설치된 휴대용 단말기 일 수 있다. 하나의 예시에서, 상기 기록 매체를 실행하는 전자 장치가 키오스크인 경우, 키오스크의 촬영 기능을 통해 획득 된 사용자 얼굴 이미지를 기반으로 기록 매체가 저장된 피부 상태 분석용 모듈에서 인코딩, 디코딩 및 연산을 수행하고 해당 결과를 키오스크의 디스플레이를 통해 사용자에게 제공하는 방식으로, 본 발명에 따른 시스템이 구현될 수 있다. 이상, 본 발명에 따른 딥러닝 기반 다중 피부 병변 검출시스템, 딥러닝 기반 다중 피부 병변 검출 방법, 이를 실현하고 컴퓨터로 읽을 수 있는 기록 매체 및 이를 실행하는 전자 장치에 대해 도면 및 예시를 들어 설명하였 으나, 상기 도면 및 예시는 본 발명에 따른 일례일 뿐, 상기 기재 내용에 의해 본 발명의 권리범위는 한정되지"}
{"patent_id": "10-2019-0021197", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "아니하며, 이 기술분야의 통상의 지식을 가진 사람이 본 명세서에 기재 내용으로부터 다양한 수정 및 변형이 가 능하다. 따라서, 본 개시의 범위는 설명된 실시 예에 국한되어 정해져서는 아니되며, 후술하는 특허청구범위뿐 아니라 이 특허청구범위와 균등한 것들에 의해 정해져야 한다. 부호의 설명100 : 인코딩부 100a : 엔트리 플로우 100b : 미들 플로우 100c : 엑시트 플로우 101 : 레귤러 컨볼루션 블록 102 : 레지듀얼 블록 1021,1022,1023 : 제 1 내지 제 2 뎁스와이즈 컨볼루션 레이어 1024 : 레지듀얼 커넥션 1025 : 컨볼루션 레이어 102a,b,c,d,e : 제 1 내지 제 5 레지듀얼 블록 103 : 리씽킹 블록 1031 : 컨볼루셔널 LSTM 레이어 1031a,b : 제 1, 2 컨볼루셔널 LSTM 레이어 1032 : SE 블록 1033 : 프로젝션 커넥션 103a,b,c,d : 제 1 내지 제 4 리씽킹 블록 104 : 뎁스와이즈 세퍼러블 컨볼루션 블록 200 : 디코딩부 201 : ASPP 모듈, ASSPP 모듈 202, 204 : 1x1 컨볼루션 연산 205 : 컨케터네이트(concatenate) 300 : 연산부 400 : 출력부"}
{"patent_id": "10-2019-0021197", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은, 본 발명에 따른 딥러닝 기반 다중 피부 병변 검출 시스템의 일 블록도이다. 도 2는, 본 발명에 따른 시스템 내 인코딩부 및 디코딩부의 개략적인 블록 구조를 도시한 것이다. 도 3a 및 도 3b는, 본 발명에 따른 인코딩부에 포함되는 레지듀얼 블록(residual block)에 대한 일 구조를 도시 한 것이다. 도 4a 및 도 4b는, 본 발명에 따른 인코딩부에 포함되는 리씽커 블록(Rethinker block)의 일 구조를 도시한 것 이다. 도 5는, 본 발명에 따른 인코딩부에 포함되는 리씽커 블록(Rethinker block)에 포함되는 컨볼루셔널 LSTM 레이 어에 대한 일 예시 구조를 도시한 것이다. 도 6은, 본 발명에 따른 인코딩부의 상세 구조를 구체적으로 도시한 것이다. 도 7은, 본 발명에 따른 딥러닝 모델의 설계를 위해 도입된 얼굴 이미지를 클래스별로 라벨링화하여 획득한 데 이터 세트의 일 예시를 도시한 것이다. 도 8은, 본 발명에 따른 디코딩부의 상세 구조를 구체적으로 도시한 것이다."}
