{"patent_id": "10-2021-0184358", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0094877", "출원번호": "10-2021-0184358", "발명의 명칭": "인공지능형 자동변속기 제어 유닛 캘리브레이션 장치 및 방법", "출원인": "주식회사 길앤에스", "발명자": "이희용"}}
{"patent_id": "10-2021-0184358", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "차량의 변속 동역학식을 이용하여 1차 변속 데이터를 생성하는 단계, 그리고상기 1차 변속 데이터 중에서 개선이 필요한 변속 조건에서 변속 제어 변수를 입력으로 하고 변속 성능 인자를출력으로 하는 변속 특성 방정식을 생성하여 2차 변속 데이터를 생성하는 단계를 포함하는 TCU 캘리브레이션 방법."}
{"patent_id": "10-2021-0184358", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에서,상기 1차 변속 데이터 생성 단계는,상기 변속 동역학식을 작성하는 단계,상기 변속 성능 인자와 관련된 변속 성능 기준을 선정하는 단계, 그리고상기 변속 동역학식과 상기 변속 성능 기준에 기초하여 변속 조건별로 기초 변속 데이터를 생성하는 단계를 포함하는 TCU 캘리브레이션 방법."}
{"patent_id": "10-2021-0184358", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에서,상기 1차 변속 데이터 생성 단계는 상기 기초 변속 데이터를 사용하여 차량 평가를 수행한 후 목표하는 변속 성능을 만족하면 상기 기초 변속 데이터를 상기 1차 변속 데이터로 확정하는 단계를 더 포함하는 TCU 캘리브레이션 방법."}
{"patent_id": "10-2021-0184358", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에서,상기 1차 변속 데이터 생성 단계는,상기 변속 제어 변수의 상호 연관성을 분석하고 변속 제어 순서 또는 캘리브레이션 순서를 결정하는 단계, 그리고상기 기초 변속 데이터가 상기 목표하는 변속 성능을 만족하지 않으면 상기 목표하는 변속 성능을 만족할 때까지 상기 변속 제어 순서 또는 상기 캘리브레이션 순서에 따라 상기 기초 변속 데이터를 캘리브레이션 하는 단계를 더 포함하는 TCU 캘리브레이션 방법."}
{"patent_id": "10-2021-0184358", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에서,상기 2차 변속 데이터 생성 단계는 상기 개선이 필요한 변속 조건에서 기준 변속 데이터를 상방 및 하방으로 조정한 변속 데이터를 사용하여 변속 성능 데이터를 계측하고 상기 계측된 변속 성능 데이터를 이용하여 상기 변속 특성 방정식의 상수를 인공지능 머신러닝 학습을 한 후 상기 상수 값을 획득하여 상기 변속 특성 방정식을완성하는 단계를 포함하는 TCU 캘리브레이션 방법."}
{"patent_id": "10-2021-0184358", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5항에서,상기 2차 변속 데이터 생성 단계는 상기 개선이 필요한 변속 조건에서 상기 완성된 변속 특성 방정식을 만족하공개특허 10-2023-0094877-3-는 복수의 후보 변속 데이터를 생성하고, 상기 복수의 후보 변속 데이터 중 목표하는 변속 성능을 만족하는 변속 데이터를 상기 2차 변속 데이터로 확정하는 단계를 더 포함하는 TCU 캘리브레이션 방법."}
{"patent_id": "10-2021-0184358", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제1항에서,상기 변속 제어 변수는 결합 제어 초기 듀티, 결합 제어 실제 듀티, 결합 제어 듀티 경사, 엔진 토크 저감량을포함하고, 상기 변속 성능 인자는 변속 준비 시간, 변속 실제 시간, 변속 말기 시간을 포함하는 TCU 캘리브레이션 방법."}
{"patent_id": "10-2021-0184358", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제1항 내지 제7항 중 어느 한 항의 방법을 수행하는 TCU 캘리브레이션 장치."}
{"patent_id": "10-2021-0184358", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 인공지능형 TCU 캘리브레이션 장치 및 방법에 관한 것으로, 이 방법은 차량의 변속 동역학식을 이용하 여 1차 변속 데이터를 생성하는 단계, 그리고 상기 1차 변속 데이터 중에서 개선이 필요한 변속 조건에서 변속 제어 변수를 입력으로 하고 변속 성능 인자를 출력으로 하는 변속 특성 방정식을 생성하여 2차 변속 데이터를 생 성하는 단계를 포함한다."}
{"patent_id": "10-2021-0184358", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 인공지능형 자동변속기 제어 유닛 캘리브레이션 장치 및 방법에 관한 것이다."}
{"patent_id": "10-2021-0184358", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "자동변속기 제어 유닛(TCU, Transmission Control Unit, 이하 ‘TCU’라고 함)은 차량의 자동변속기를 제어하는 유닛을 의미하고, TCU 캘리브레이션은 TCU의 제어 결과인 자동변속기의 변속 성능(Shift Quality)을 확보하기 위하여 TCU의 변속 제어 변수를 최적화하는 기술을 의미한다. 최상의 변속 성능은 빠르면서도 부드럽고 경쾌한 변속을 의미하며, 변속 성능의 완성도 수준이 낮으면 변속 시 지연감 또는 거침/충격 현상이 발생하여 고객 불 만뿐만 아니라 변속기 손상 발생 가능성이 있으므로 정교한 개발 프로세스를 통하여 완벽하게 변속 성능을 개발 하는 것이 요구된다. 자동차 또는 자동변속기 제조사는 변속 성능 개발을 위하여 차량 개발 초기 단계(Proto 단계)에서는 엔진 및 자 동변속기 등을 포함하는 파워 트레인(Power Train) 시험장비나 차량에서 개발 시험을 병행하고, 이후 개발 단계 (Pilot 단계)에서는 주행시험장과 일반 도로에서 차량 개발 시험을 병행한다. 그런데 신차 한 차종의 변속 성능 개발을 위해서는 배기량별로 약 2년간 2명의 엔지니어 투입이 요구되고, 타 개발 업무 대비 비교적 많은 개발 공수가 필요할 뿐만 아니라 해당 개발 업무가 담당 엔지니어의 개발 경험으로 진행되므로 휴먼 에러 발생 시 바로 품질 문제로 이어지는 문제가 있다. 한편 하이브리드 차량의 경우 파워 트레인에 모터가 더 포함되므로 TCU 캘리브레이션 난이도가 기존 자동변속기 대비 약 3배로 높아지기 때문에 기존 방식의 TCU 캘리브레이션으로 변속 제어 변수를 최적화하는 것은 더욱 어 려운 일이다. 또한 기존 자동변속기는 토크컨버터가 있어 어느 정도의 엔진 토크 떨림이 있는 경우에도 이를 토크컨버터가 흡 수하여 변속 성능 악화를 완화시켜 줄 수가 있는데 하이브리드 자동변속기는 토크컨버터가 없기 때문에 미세한 엔진 토크 떨림도 변속 성능 악화로 이어지기 때문에 변속 성능 개발에 매우 어려움이 있다. 선행기술문헌 특허문헌 (특허문헌 0001) 등록특허공보 10-872490"}
{"patent_id": "10-2021-0184358", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명이 해결하고자 하는 과제는 자동변속기의 변속 성능 개발을 엔지니어 경험에 의존하는 방법에서 탈피하 고 시스템에 의한 방법으로 전환함으로써 자동변속기의 개발 기간을 단축하고 엔지니어 투입 공수를 축소할 뿐만 아니라 휴먼 에러 발생 문제도 개선할 수 있는 인공지능형 자동변속기 제어 유닛 캘리브레이션 장치 및 방법 을 제공하는 것이다."}
{"patent_id": "10-2021-0184358", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "이러한 과제를 해결하기 위한 본 발명의 한 실시예에 따른 TCU 캘리브레이션 방법은, 차량의 변속 동역학식을 이용하여 1차 변속 데이터를 생성하는 단계, 그리고 상기 1차 변속 데이터 중에서 개선이 필요한 변속 조건에서 변속 제어 변수를 입력으로 하고 변속 성능 인자를 출력으로 하는 변속 특성 방정식을 생성하여 2차 변속 데이 터를 생성하는 단계를 포함한다. 상기 1차 변속 데이터 생성 단계는, 상기 변속 동역학식을 작성하는 단계, 상기 변속 성능 인자와 관련된 변속 성능 기준을 선정하는 단계, 그리고 상기 변속 동역학식과 상기 변속 성능 기준에 기초하여 변속 조건별로 기초 변속 데이터를 생성하는 단계를 포함할 수 있다. 상기 1차 변속 데이터 생성 단계는 상기 기초 변속 데이터를 사용하여 차량 평가를 수행한 후 목표하는 변속 성 능을 만족하면 상기 기초 변속 데이터를 상기 1차 변속 데이터로 확정하는 단계를 더 포함할 수 있다. 상기 1차 변속 데이터 생성 단계는, 상기 변속 제어 변수의 상호 연관성을 분석하고 변속 제어 순서 또는 캘리 브레이션 순서를 결정하는 단계, 그리고 상기 기초 변속 데이터가 상기 목표하는 변속 성능을 만족하지 않으면 상기 목표하는 변속 성능을 만족할 때까지 상기 변속 제어 순서 또는 상기 캘리브레이션 순서에 따라 상기 기초 변속 데이터를 캘리브레이션 하는 단계를 더 포함할 수 있다. 상기 2차 변속 데이터 생성 단계는 상기 개선이 필요한 변속 조건에서 기준 변속 데이터를 상방 및 하방으로 조 정한 변속 데이터를 사용하여 변속 성능 데이터를 계측하고 상기 계측된 변속 성능 데이터를 이용하여 상기 변 속 특성 방정식의 상수를 인공지능 머신러닝 학습을 한 후 상기 상수 값을 획득하여 상기 변속 특성 방정식을 완성하는 단계를 포함할 수 있다. 상기 2차 변속 데이터 생성 단계는 상기 개선이 필요한 변속 조건에서 상기 완성된 변속 특성 방정식을 만족하 는 복수의 후보 변속 데이터를 생성하고, 상기 복수의 후보 변속 데이터 중 목표하는 변속 성능을 만족하는 변 속 데이터를 상기 2차 변속 데이터로 확정하는 단계를 더 포함할 수 있다. 상기 변속 제어 변수는 결합 제어 초기 듀티, 결합 제어 실제 듀티, 결합 제어 듀티 경사, 엔진 토크 저감량을 포함하고, 상기 변속 성능 인자는 변속 준비 시간, 변속 실제 시간, 변속 말기 시간을 포함할 수 있다. 본 발명의 다른 실시예에 따른 TCU 캘리브레이션 장치는 상기한 방법을 수행한다."}
{"patent_id": "10-2021-0184358", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "이와 같이 본 발명의 실시예에 따른 인공지능형 자동변속기 제어 유닛 캘리브레이션 장치 및 방법에 의하면 자 동변속기의 개발 기간을 단축하고 엔지니어 투입 공수를 축소할 수 있을 뿐만 아니라 휴먼 에러 발생 문제도 개 선할 수 있다. 또한 하이브리드 차량에 적용되는 자동변속기에도 특별한 어려움 없이 변속 제어 변수를 최적화 할 수 있다."}
{"patent_id": "10-2021-0184358", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 명세서 및 청구범위에 사용된 용어나 단어는 통상적이거나 사전적인 의미로 한정해서 해석되어서는 아니 되 며, 발명자는 그 자신의 발명을 가장 최선의 방법으로 설명하기 위해 용어의 개념을 적절하게 정의할 수 있다는 원칙에 입각하여 본 발명의 기술적 사상에 부합하는 의미와 개념으로 해석되어야만 한다. 따라서 본 명세서에 기재된 실시예와 도면에 도시된 구성은 본 발명의 가장 바람직한 실시예에 불과할 뿐이고 본 발명의 기술적 사상을 모두 대변하는 것은 아니므로, 본 출원 시점에 있어서 이들을 대체할 수 있는 다양한 균등물과 변형 예들이 있을 수 있음을 이해하여야 한다. 이하, 첨부된 도면을 참조하여 본 발명의 실시예에 따른 인공지능형 자동변속기 제어 유닛 캘리브레이션 장치에 대하여 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자가 용이하게 실시할 수 있도록 상세히 설명한다. 도 1은 차량의 개략도이고, 도 2는 본 발명의 실시예에 따른 TCU 캘리브레이션 장치와 TCU를 도시한 블록도이다. 도 1에 도시한 바와 같이, 본 발명의 한 실시예에 따른 TCU 캘리브레이션 장치에 의하여 TCU 캘리브레이션이 적 용될 차량은 엔진, 자동변속기, 모터, 배터리, 차동기어, 바퀴, 그리고 TCU 등을 포함한다. 도 1에 도시한 차량은 엔진과 자동변속기 사이에 모터가 구비되어 있는 하이브리드 차량이 며, 엔진 또는 모터에서 생성된 동력을 자동변속기를 통하여 차동기어 및 바퀴로 내 보내게 된다. 배터리는 전기 에너지를 모터에 방전하고, 회생제동에 의하여 충전을 한다. TCU는 자동변속기 제어 유닛(transmission control unit)을 의미하며, 차량에 구비되어 있는 각종 센서나 엔진 제어 유닛으로부터 엑셀 페달 조작 정보, 차량 속도 정보, 엔진 토크 정보 등을 입력받아 자동변속 기의 변속을 제어한다. TCU는 ROM과 제어부를 포함하고 있으며, 제어부가 ROM(21 0)에 기억되어 있는 변속 제어 알고리즘에 따라 자동변속기의 변속 제어를 수행한다. 여기서 변속 제어 알고리즘은 미리 정해져 있는 것으로 한다. ROM은 변속 제어 알고리즘과 함께 변속 제어 알고리즘에서 요구되는 다양한 종류의 변속 데이터를 기억한 다. 변속 데이터는 변속 제어 변수의 값, 즉 자동변속기 내부의 각종 클러치나 브레이크의 유압을 제어하기 위 한 값들로서 이루어져 있으며, 차량 개발 시 차량의 변속 성능을 담보하기 위하여 캘리브레이션을 통하여 최적 의 값으로 설정되어 ROM에 기억된다. 즉, TCU 캘리브레이션은 변속의 종류, 차량의 중량, 엔진 배기량 및 성능 등 다양한 차량 조건에서 변속 성능을 만족할 수 있도록 자동변속기 내부의 클러치나 브레이크에 적절한 유압이 가해지는 변속 데이터를 조절하 는 작업이다. 이 작업이 완료되면 최종 조절된 변속 데이터가 ROM에 기억된다. 본 발명의 실시예에 따른 TCU 캘리브레이션 장치는 자동변속기에 맞는 변속 데이터를 생성하고 이 변 속 데이터를 ROM에 기억시킨다. TCU 캘리브레이션 장치는 TCU와 통신하기 위한 입출력 장치를 포함하며, 예를 들면, 서버 컴퓨터, 데 스크톱 컴퓨터, 노트북 컴퓨터, 워크스테이션, 팜톱(palmtop) 컴퓨터, 개인 휴대정보 단말기(personal digital assistant: PDA), 웹 패드, 이동 통신 단말기 등과 같은 기기로 구현될 수 있다. 본 발명의 실시예에 따른 TCU 캘리브레이션 장치는 2개의 단계로 나누어 캘리브레이션을 수행한다. 먼저 1 단계로 개발 차량의 변속 동역학식을 이용하여 기본적인 1차 변속 데이터를 생성하고, 2 단계로 인공지능 머 신러닝을 이용하여 정밀한 캘리브레이션을 수행하여 실제 개발 차량에 적용할 수 있는 2차 변속 데이터를 생성 한다.변속기 상태, 엔진/모터 상태, 차체 강성 등과 같이 차량의 성능이나 제원의 모든 특성에 대하여 동역학식으로 완벽하게 해석이 되기 어려우므로 TCU 캘리브레이션 장치가 생성한 1차 변속 데이터를 이용한 변속 성능은 개발 목표 대비 대략 80% 수준을 달성할 수 있다. 그리고 TCU 캘리브레이션 장치가 인공지능 머신러닝 선 형회귀 기법을 이용하여 차량 조건을 정교하게 반영할 수 있는 2차 변속 데이터를 생성함으로써 나머지 20%에 대응하는 변속 성능을 담보할 수 있다. 물론 인공지능 기법뿐만 아니라 DOE, 6-Sigma와 같은 데이터 최적화/캘 리브레이션 기법을 이용할 수도 있다. 그러면 도 3 내지 도 7을 참고하여 1차 변속 데이터를 생성하는 방법에 대하여 상세하게 설명한다. 도 3은 본 발명의 실시예에 따른 1차 변속 데이터를 생성하기 위한 TCU 캘리브레이션 방법을 도시한 흐름도이고, 변속 성능 차트를 도시한 도면이며, 도 5는 속도 선도 작성을 위한 자동변속기의 레이아웃을 도시 한 개략도이다. 도 6은 자동변속기의 속도 선도를 도시한 도면이고, 도 7은 상향 변속 1-2 TCU ROM 데이터 형 식을 도시한 개략도이다. 본 발명의 실시예에 따른 TCU 캘리브레이션 장치는 변속 성능 차트와 변속 동역학 해석에 기초하여 변속 제어 변수 캘리브레이션 우선도 분석 및 변속 성능 최적화 기준 선정을 통하여 1차 변속 데이터를 최적화한다. 본 발명의 실시예에 따른 TCU 캘리브레이션 방법에 의하면, 도 3의 흐름도에 도시한 것처럼, 우선 도 4의 변속 성능 차트 및 도 5의 자동변속기 유성치차 및 클러치 배치도 등을 참고하여 도 6에서와 같은 속도 선도를 작성 하고, 변속 동역학식을 작성한다(S310). 자동변속기의 속도 선도는 유성치차/클러치의 토크/회전수를 표시할 수 있는 툴을 의미한다. 여기서 도 6은 1→2 상향 변속일 때의 속도 선도를 예시적으로 나타낸 것이고, Z는 기 어 잇수, Iin은 엔진 회전 관성, α는 각가속도, Tin은 입력 토크, Tout은 출력 토크, TB1R은 1속 반력 클러치 토 크, TB24는 2속 반력 클러치 토크를 의미한다. 도 4에 도시한 것처럼 하나의 변속은 변속 지령 시점부터 변속 개시 시점까지를 나타내는 변속 준비 구간인 토 크 페이즈(Torque Phase) 구간과 변속 개시 시점부터 동기점 시점까지를 나타내는 변속 실행 구간인 관성 페이 즈(Inertia Phase) 구간을 포함하며, 각 변속 구간별로 변속 동역학식 작성을 작성하여 변속 구간별 클러치 토 크량을 계산한다. 1→2 상향 변속(up shift)일 때의 동역학식은 아래와 같이 작성할 수 있다. <토크 페이즈> TB1R ＝ Tin×(ZR1/ZS1) (1속 반력 토크) TB24 ＝ Tin×(ZR1×ZS2)÷(ZS1×(ZR2＋ZS2)) (2속 반력 토크) Tout ＝ Tin×(ZR1×ZS2＋ZR2×ZS1＋ZS1×ZS2)÷(ZS1×ZS2＋ZS1×ZR2) <관성 페이즈> TB24 ＝ (Tin - Iin×α)×(ZR1×ZS2)÷(ZS1×(ZR2＋ZS2) (2속 반력 토크) Tout ＝ (Tin - Iin×α)×(ZR1×ZS2＋ZR2×ZS1＋ZS1×ZS2)÷(ZS1×ZS2＋ZS1×ZR2) ETR ＝ Iin×α 1→2 상향 변속과 동일하게 2→3, 3→4 상향 변속(power on/off)이나 4→3, 4→2, 3→2, 2→1 하향 변속(power on/off), N→D, N→R 등과 같이 다른 변속에 대하여도 동일하게 속도 선도 및 변속 동역학식을 작성하여 해당 클러치의 토크량을 계산한다. 물론 4단 자동변속기가 아니라 5단 이상의 자동변속기의 경우라도 각 변속 케이 스별로 변속 동역학식을 작성한다. 도 4 내지 도 6에 도시한 것들은 설명의 편의를 위하여 4단 자동변속기의 1→2 상향 변속을 대상으로 예시적으 로 도시한 것이고, 5단 이상의 자동변속기인 경우도 위의 설명과 동일하게 변속 동역학식을 작성하면 된다. 그런 후 변속 제어 변수 상호 간의 연관성을 분석하고 변속 제어 순서 또는 캘리브레이션 순서를 결정한다 (S320). 즉, 기존 개발이 완료된 차량의 캘리브레이션 데이터나 분석 데이터 및 엔지니어의 경험 등에 기초하 여 결합측 듀티 초기값과 해방측 듀티 초기값의 상관성, 결합측 듀티 초기값과 듀티 기울기의 상관성, 결합측듀티 초기값과 변속 실제 시간의 상관성, 엔진 토크 저감량(ETR)과 결합측 듀티 초기값의 상관성, 엔진 토크 저 감량(ETR)과 결합측 듀티 기울기의 상관성 등을 고려하여 변속 제어 순서 또는 캘리브레이션 순서를 결정한다. 여기서 듀티(duty)는 자동변속기 내부 요소인 클러치나 브레이크류를 동작시키도록 하는 유압에 대응하는 것으로서, TCU가 특정 듀티값을 자동변속기에 내보내면 자동변속기는 해당 듀티값에 대응하는 유압을 해당 결합측 또는 해방측 요소에 공급한다. 상향 변속의 경우 관성 토크(Iin×α)를 입력 토크(Tin)의 ETR(engine torque reduction)로 상쇄 시 최상의 변속 성능을 보일 수 있으므로, 캘리브레이션에서 가장 우선해야 할 사항은 자동변속기 내의 클러치 유압 제어가 아 닌 입력 토크 저감 제어이다. 따라서 ⓐ 변속 중 엔진 토크 저감량 → ⓑ 결합측 듀티 초기값 & 기울기 → ⓒ 결합측 듀티 체결값 → ⓓ 해방 측 듀티 초기값 순으로 영향력이 크므로 이에 따라 변속 데이터 값을 결정한다. 기존의 TCU 캘리브레이션 방법 에서는 ⓑ→ⓒ→ⓐ 순으로 변속 데이터 값을 결정하였으나, 결정된 변속 데이터 값에 의한 변속 성능이 안 좋게 되는 경우 입력 토크 저감량을 조절하게 되면 클러치 유압을 재차 캘리브레이션 하여야 하는 상황이 발생하여 캘리브레이션 시간이 증가하는 문제가 있었다. 하향 변속의 경우 ⓐ 해방측 듀티 해방값 → ⓑ 해방측 듀티 초기값 & 기울기 → ⓒ 결합측 듀티 체결값 순으로 변속 데이터 값을 결정한다. 이 경우도 기존의 TCU 캘리브레이션 방법에서는 ⓑ→ⓐ→ⓒ 순으로 변속 데이터 값을 결정하였으나 앞서와 마찬가지로 결정된 변속 데이터 값에 의한 변속 성능이 안 좋게 되는 경우 클러치 유 압을 재차 캘리브레이션 하여야 하는 상황이 발생하여 캘리브레이션 시간이 증가하는 문제가 있었다. 따라서 본 발명의 실시예에서와 같이 변속 제어 변수 상호 간의 연관성을 분석한 후 변속 제어 순서 또는 캘리 브레이션 순서를 결정함으로써 캘리브레이션 시간을 많이 줄일 수 있다. 다음으로 이미 개발이 완료된 변속 성능이 우수한 차량을 벤치마킹하여 입력 토크, 구간별 변속시간, 가속도 및 저크(jerk)를 계측하여 최적 변속 성능 기준을 선정한다(S330). 예를 들어 변속 성능이 개발 목표 점수인 7+ 이상인 차량을 대상으로 변속 성능 인자를 계측하여 해당 성능 인자 값을 기준으로 한다. 변속 성능 인자로는 변속 준비시간(t1), 변속 실제시간(t2), 변속 말기시간(t3), 변속 중 가속도(a), 변속 개시전 저크(da/dt)(j1), 변속 개시후 저크(j2), 변속 말기시 저크(j3) 등이 있다. TCU 캘리브레이션 장치는 단계(S310)에서 작성된 동역학식과 단계(S330)에서 선정된 변속 성능 기준에 기 초하여 계산에 의해 입력 토크(Tin)와 차속(No)에 따른 변속 조건별로 기초 변속 데이터를 생성한다(S340). 도 7에 도시한 것처럼, ROM 데이터 테이블에는 결합측 듀티 초기값, 기울기, 엔진 토크 저감량 및 해방측 듀티 초기값, 기울기 등의 변속 데이터가 가로축 입력 토크(Tin)와 세로축 차속(No) 또는 입력 회전속도(Nt)를 기준으로 하여 그에 대응하는 값으로 채워진다. 예를 들면, 입력 토크(Tin)의 특정 값을 토크 페이즈 구간 및 관성 페이즈 구간의 동역학식에 대입하여 결합측 요소의 토크를 계산하고, 이에 대응하는 유압을 산출한 후 다 시 해당 유압에 대응하는 듀티값을 해당 입력 토크(Tin)에 대한 듀티 초기값(d1) 및 듀티 중간값(d2)으로 결정한 다. 또한 듀티 중간값(d2)에서 듀티 초기값(d1)을 뺀 후 그 값을 기준 변속 준비시간(t1)으로 나누면 듀티 기울 기(α)가 결정된다. 변속 구간 및 입력 토크별 모든 기초 변속 데이터가 계산되어 ROM 데이터 테이블에 저장되고 TCU는 변속 시 해당 변속 데이터를 ROM 데이터 테이블에서 읽어 변속 제어에 이용한다. 그런 후 기초 변속 데이터에 대한 차량 평가 및 분석을 수행한다(S350). 변속 조건별로 차량 평가를 수행하여 해당 조건에서 변속 성능을 만족하는지 판단한다(S360). 이때 기준이 되는 변속 성능 평가 기준은 개발 목표의 80% 수준인 7- 점수이다. 따라서 7- 이상의 변속 성능을 가지는 기초 변속 데이터는 통과하여 1차 변속 데이터 로 확정한다(S380). 그러나 7- 미만의 변속 성능을 가지는 변속 조건의 기초 변속 데이터는 단계(S320)에서 분 석된 순서에 따라 적당한 값을 가감하는 캘리브레이션을 수행한다(S370). 그리고 다시 차량 평가 및 분석을 수 행하여(S350) 캘리브레이션된 변속 데이터가 목표하는 변속 성능을 만족할 때까지 반복한다. 이와 같이 캘리브 레이션을 수행하여 모든 변속 조건별로 목표하는 변속 성능을 만족하는 1차 변속 데이터를 확정할 수 있다 (S380). 도 8은 본 발명의 실시예에 따라 작성된 특정 변속 조건에서의 1차 변속 데이터의 한 예이고, 도 9는 이 변속 데이터에 따라 1→2 상향 변속이 이루어졌을 때의 변속 성능 평가 결과를 보여주는 도면이다. 실차 실험 결과 목표 개발 성능 대비 대략 80% 수준인 변속 성능 평가 점수 7- 정도를 달성한 것으로 나타났다.이와 같이 본 발명의 실시예에 따른 TCU 캘리브레이션 장치는 차량, 엔진/모터, 변속기의 사양에 근거하여 관성과 유압에 의한 토크 전달력의 계산을 통하여 변속 동역학식을 수립하고 변속 성능 개발 경험치를 이용하여 여러 개의 변속 제어 변수에서 변속 성능에 영향도가 높은 순서를 결정한 다음 변속 동역학식에 최적 변속 성능 의 경계값(구간별 변속시간)을 반영하여 1차 변속 데이터를 생성하기 때문에 정확하고 강건한 결과를 산출할 수 있으며, 또한 개발 목표에 근접한 변속 성능을 가지는 변속 데이터를 확보할 수 있으므로 차량 시험 시간 축소 가 가능하다. 그 결과 변속 성능 개발 시간을 단축할 수 있으며, 개발 투입 인원의 축소도 가능하므로 업무 효 율 향상이 가능하게 된다. 그러면 도 10 및 도 11을 참고하여 2차 변속 데이터를 생성하는 방법에 대하여 상세하게 설명한다. 도 10은 본 발명의 실시예에 따른 2차 변속 데이터를 생성하기 위한 TCU 캘리브레이션 방법을 도시한 흐름도이 고, 도 11은 변속 제어 차트를 도시한 도면이다. 우선 본 발명의 실시예에 따른 TCU 캘리브레이션 방법에 의하면 도 11에 도시한 것처럼 변속 성능 인자와 변속 제어 변수가 포함된 변속 제어 차트를 작성한다(S110). 여기서 변속 제어 변수는 결합 제어 초기 듀티(d1), 결 합 제어 실제 듀티(d2), 결합 제어 듀티 경사(α1), 엔진 토크 저감량(ETR)이고, 변속 성능 인자는 변속 준비 시 간(t1), 변속 실제 시간(t2), 변속 말기 시간(t3)이며, 변속 성능 기준은 변속 중 가속도(a), 변속 개시전 저크 (j1), 변속 개시 후 저크(j2), 변속 말기 시 저크(j3)이다. 그런 후 다음과 같이 변속 제어 변수를 변수로 하고, 변속 성능 인자를 결과값으로 하는 변속 특성 방정식을 작 성한다(S120). t1 = a10 + a11 * d1 + a12 * α1 (j1 ≤ 기준치 만족 필요) t2 = a20 + a21 * d2 + a22 * ETR (a ≤ 기준치 만족 필요) j3 = a60 + a61 * α2 + a63 * αtq 변속 특성 방정식의 미지의 상수 a10, a11,a12, a20, a21, a22, a60, a61, a63 등의 학습을 위한 데이터를 확보하기 위하여 차량 테스트 케이스를 아래와 같이 설정한다. 표 1 α1 조건 d1 조건기준 α1 + 1.95%/s기준 α1 기준 α1 - 1.95%/s 기준 d1 + 1.17% 케이스 1 케이스 2 케이스 3 기준 d1 케이스 4 케이스 5 케이스 6 기준 d1 - 1.17% 케이스 7 케이스 8 케이스 9 기준이 되는 결합 제어 초기 듀티(d1)에 일정량(예를 들면, 1.17%)을 가감한 값들과 결합 제어 듀티 경사(α1)에 일정량(예를 들면, 1.95%/s)을 가감한 값들의 조합으로 9가지 테스트 케이스를 설정한다. 이때 기준이 되는 결 합 제어 초기 듀티(d1)와 결합 제어 듀티 경사(α1)는 숙련된 엔지니어에 의하여 만들어진 변속 성능이 우수한 값을 채용해서 사용한다. 9개의 케이스별로 차량 테스트를 수행하고 데이터를 계측 및 분석한다(S130). 다음 표는 예시적으로서 9개의 케이스의 결합 제어 초기 듀티(d1)와 결합 제어 듀티 경사(α1)를 사용한 차량 테스트에 대하여 계측된 변속 준 비 시간(t1)과 변속 개시전 저크(j1)를 나타낸다. 표 2 케이스 t1 (sec) d1 (%) α1 (%/sec)j1 (g/sec) 1 0.48 17.87 4.12 0.3 2 0.56 17.87 2.17 0.253 0.6 17.87 0.22 0.22 4 0.58 16.7 4.12 0.26 5 0.62 16.7 2.17 0.21 6 0.66 16.7 0.22 0.19 7 0.63 15.53 4.12 0.23 8 0.68 15.53 2.17 0.19 9 0.81 15.53 0.22 0.17 다음으로 계측된 테스트 데이터를 이용하여 변속 특성 방정식의 상수를 학습한다(S140). 머신 러닝은 데이터로 부터 시스템을 학습할 수 있는 인공지능의 한 형태이며, 테스트를 통해 학습 데이터를 수집한 후 해당 데이터를 기반으로 정확한 모델을 생성한다. 예를 들어 파이썬과 같은 프로그램으로 머신 러닝 학습을 하면 변속 특성 방정식의 상수 값을 추출해 낼 수 있다. 위의 표와 같은 데이터로 학습한 결과는 a10 = 1.836, a11 = -0.068, a12 = -0.32이고, 따라서 변속 특성 방정식은 t1 = 1.836 - 0.068 * d1 - 0.32 * α1 이 된다.완성된 변속 특성 방정식에서 목표하는 변속 성능 인자를 충족하는 후보 변속 데이터를 생성함으로써 정밀 캘리브레이션 작업을 수행한다(S150). 즉, 개선할 필요가 있는 1차 변속 데이터와 관련된 변속 조건에 대하여 위와 같은 방식으로 변속 특성 방정식을 생성한 후 차량 테스트를 수행하여 변속 준비 시간(t1)을 계측한다. 그런 후 목표하는 변속 준비 시간(t1)과 실제 계측된 변속 준비 시간(t1)의 차이를 상쇄시킬 수 있고 생성된 변속 특성 방정식을 충족하 는 결합 제어 초기 듀티(d1)와 결합 제어 듀티 경사(α1)의 후보 변속 데이터를 복수 개 생성한다. 복수의 후보 변속 데이터를 사용하여 차량 평가 및 분석을 수행하고(S160), 계측된 변속 성능이 목표하는 변속 성능을 만족하는지 판단하여(S170) 목표 성능을 만족하면 그 후보 변속 데이터를 2차 변속 데이터로 확정하고 (S180), 그렇지 않은 후보 변속 데이터는 폐기한다(S190). 앞서 설명한 예에서는 변속 개시전 저크(j1) 계측 값이 목표하는 값보다 작게 되는 후보 변속 데이터를 해당 2차 변속 데이터로 확정하면 된다. 변속 성능은 변속기 상태, 엔진/모터 상태, 차량 상태에 따라 결과가 변하는 것으로 변속 성능 인자를 출력으로 하고, 변속 제어 변수를 입력으로 다항의 변속 특성 방정식을 생성한 후, 개선이 필요한 변속 조건에서 기준 변 속 데이터를 상방, 하방으로 조정한 변속 데이터를 사용하여 변속 성능 데이터를 계측하고 계측된 변속 성능 데 이터를 이용하여 변속 특성 방정식의 상수를 인공지능 머신러닝 선형회귀의 학습을 한 후 그 상수 값을 획득하 면 변속 특성 방정식이 완성된다. 그리고 개선이 필요한 변속 조건에서 완성된 변속 특성 방정식을 만족하는 복수의 후보 변속 데이터를 생성하고 이들 중 목표하는 변속 성능을 만족하는 것이 최종 2차 변속 데이터가 된 다. 이와 같이 엔진/변속/차량 특성이 고려되어 생성된 2차 변속 데이터에 의하면 목표하는 변속 준비 시간 (t1)과 변속 개시전 저크(j1)보다 변속 성능이 우수한 결과가 나오게 되므로 최적의 변속 성능을 확보할 수 있게 된다. 한편 1 단계를 생략하고 2 단계만으로 변속 성능을 개발하는 경우도 생각할 수 있는데, 1 단계를 생략하고 임의 의 변속 데이터를 사용하는 경우 변속 성능 수준이 낮아 변속 특성 방정식의 상관성을 찾기가 어렵고 시험 과정 에서 변속 불량으로 자동변속기의 소손 가능성이 있어 2 단계 수행 전에 반드시 1 단계의 수행이 요구된다. 본 발명의 실시예에 따른 TCU 캘리브레이션 장치 및 방법에 의하면 머신 러닝을 이용하여 차량 특성이 반영된 변속 특성 방정식을 생성하기 때문에 차량에서 정밀 캘리브레이션이 가능하며, 특히 토크컨버터가 없어서 변속 성능에 민감한 구조인 하이브리드 자동변속기의 변속 성능 향상에 효과가 클 것이다. 또한 차량에서는 계측 또 는 평가만 진행하고 캘리브레이션은 TCU 캘리브레이션 장치를 이용하여 수행이 가능하므로 엔지니어 1명이 캘리 브레이션을 수행할 수 있고 캘리브레이션 시 가장 많은 시간이 소요되는 계측 데이터 분석도 TCU 캘리브레이션 장치가 수행하므로 개발 시간을 단축시킬 수 있을 뿐 아니라 엔지니어의 역량 차이와 휴먼 에러 발생도 억제할 수 있다. 본 발명의 실시예에 따른 TCU 캘리브레이션 장치 및 방법은 개발 난이도가 높은 하이브리드 차량에 적용할 수 있음은 물론이고, 모터가 없는 일반적인 자동변속기나 듀얼 클러치 변속기(DCT)를 채용한 차량 및 다단 감속기를 채용한 전기자동차 등에도 적용할 수 있다. 이상의 상세한 설명은 본 발명을 예시하는 것이다. 또한 전술한 내용은 본 발명의 바람직한 실시 형태를 나타 내고 설명하는 것에 불과하며, 본 발명은 다양한 다른 조합, 변경 및 환경에서 사용할 수 있다. 즉, 본 명세서 에 개시된 발명의 개념의 범위, 저술한 개시 내용과 균등한 범위 및/또는 당업계의 기술 또는 지식의 범위 내에서 변경 또는 수정이 가능하다. 전술한 실시예들은 본 발명을 실시하는데 있어 최선의 상태를 설명하기 위한 것이며, 본 발명과 같은 다른 발명을 이용하는데 당업계에 알려진 다른 상태로의 실시, 그리고 발명의 구체적인 적용 분야 및 용도에서 요구되는 다양한 변경도 가능하다. 따라서 이상의 발명의 상세한 설명은 개시된 실시 상태로 본 발명을 제한하려는 의도가 아니다. 또한 첨부된 청구범위는 다른 실시 상태도 포함하는 것으로 해석 되어야 한다."}
{"patent_id": "10-2021-0184358", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 차량의 개략도이다. 도 2는 본 발명의 실시예에 따른 TCU 캘리브레이션 장치와 TCU를 도시한 블록도이다. 도 3은 본 발명의 실시예에 따른 1차 변속 데이터를 생성하기 위한 TCU 캘리브레이션 방법을 도시한 흐름도이다. 도 4는 변속 성능 차트를 도시한 도면이다. 도 5는 속도 선도 작성을 위한 자동변속기의 레이아웃을 도시한 개략도이다. 도 6은 자동변속기의 속도 선도를 도시한 도면이다. 도 7은 상향 변속 1-2 ROM 데이터 테이블 형식을 도시한 개략도이다. 도 8은 도 3의 방법에 따라 작성된 1차 변속 데이터의 한 예이다.도 9는 도 8의 1차 변속 데이터에 의한 자동변속기 변속 성능을 도시한 개략도이다. 도 10은 본 발명의 실시예에 따른 2차 변속 데이터를 생성하기 위한 TCU 캘리브레이션 방법을 도시한 흐름도이 다. 도 11은 변속 제어 차트를 도시한 도면이다."}
