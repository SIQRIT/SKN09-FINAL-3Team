{"patent_id": "10-2021-7028985", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2021-0136027", "출원번호": "10-2021-7028985", "발명의 명칭": "배선 레이아웃 설계 방법, 프로그램, 및 기록 매체", "출원인": "가부시키가이샤 한도오따이 에네루기 켄큐쇼", "발명자": "코우무라 유스케"}}
{"patent_id": "10-2021-7028985", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "배선 레이아웃 설계 방법으로서,제 1 레이아웃 정보를 취득하는 제 1 단계와,상기 제 1 레이아웃 정보를 사용하여 제 1 배선 레이아웃을 생성하는 제 2 단계와,상기 제 1 배선 레이아웃의 기생 용량값인 제 1 기생 용량값을 취득하는 제 3 단계와,상기 제 1 레이아웃 정보를 사용하여 제 2 배선 레이아웃을 생성하는 제 4 단계와,상기 제 2 배선 레이아웃에 대하여 DRC를 수행하는 제 5 단계와,상기 제 2 배선 레이아웃의 기생 용량값인 제 2 기생 용량값을 취득하는 제 6 단계와,상기 DRC의 결과, 상기 제 1 기생 용량값, 및 상기 제 2 기생 용량값을 사용하여 학습을 수행하는 제 7 단계와,상기 학습의 결과에 따라 상기 제 1 레이아웃 정보를 변경하는 제 8 단계를 포함하는, 배선 레이아웃 설계방법."}
{"patent_id": "10-2021-7028985", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "배선 레이아웃 설계 방법으로서,제 1 레이아웃 정보를 취득하는 제 1 단계와,상기 제 1 레이아웃 정보를 사용하여 제 1 배선 레이아웃을 생성하는 제 2 단계와,상기 제 1 배선 레이아웃의 기생 용량값인 제 1 기생 용량값과, 상기 제 1 배선 레이아웃의 배선 저항값인 제 1배선 저항값을 취득하는 제 3 단계와,상기 제 1 레이아웃 정보를 사용하여 제 2 배선 레이아웃을 생성하는 제 4 단계와,상기 제 2 배선 레이아웃에 대하여 DRC를 수행하는 제 5 단계와,상기 제 2 배선 레이아웃의 기생 용량값인 제 2 기생 용량값과, 상기 제 2 배선 레이아웃의 배선 저항값인 제 2배선 저항값을 취득하는 제 6 단계와,상기 DRC의 결과, 상기 제 1 기생 용량값, 상기 제 2 기생 용량값, 상기 제 1 배선 저항값, 및 상기 제 2 배선저항값을 사용하여 학습을 수행하는 제 7 단계와,상기 학습의 결과에 따라 상기 제 1 레이아웃 정보를 변경하는 제 8 단계를 포함하는, 배선 레이아웃 설계방법."}
{"patent_id": "10-2021-7028985", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1 항 또는 제 2 항에 있어서,상기 제 4 단계 내지 상기 제 8 단계를 여러 번 반복하는, 배선 레이아웃 설계 방법."}
{"patent_id": "10-2021-7028985", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 1 항 내지 제 3 항 중 어느 한 항에 있어서,상기 학습은 Q 학습인, 배선 레이아웃 설계 방법."}
{"patent_id": "10-2021-7028985", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 1 항 내지 제 4 항 중 어느 한 항에 있어서,공개특허 10-2021-0136027-3-상기 학습은 뉴럴 네트워크를 사용하여 수행하는, 배선 레이아웃 설계 방법."}
{"patent_id": "10-2021-7028985", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 5 항에 있어서,상기 뉴럴 네트워크는 행동 가치 함수를 추정하는, 배선 레이아웃 설계 방법."}
{"patent_id": "10-2021-7028985", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "프로그램으로서,제 1 항 내지 제 6 항 중 어느 한 항에 기재된 배선 레이아웃 설계 방법을 컴퓨터로 실행하기 위한, 프로그램."}
{"patent_id": "10-2021-7028985", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "컴퓨터 판독가능 기록 매체로서,제 7 항에 기재된 프로그램이 기록된, 컴퓨터 판독가능 기록 매체."}
{"patent_id": "10-2021-7028985", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "신규 배선 레이아웃의 설계 방법을 제공한다. 레이아웃 정보, 넷 리스트를 사용하여 기점 단자군과 종점 단자군 을 전기적으로 접속하는 배선 레이아웃을 생성한다. 배선 레이아웃이 설계 규칙을 충족시킨 경우에는 배선 레이 아웃의 배선 저항과 기생 용량을 추출한다. Q 학습을 사용하여 레이아웃 정보를 갱신하고, 새로운 배선 레이아 웃을 생성한다. Q 학습에서는 배선 저항과 기생 용량의 값이 감소한 경우에 긍정적인 보상을 주고, 보상에 따라 뉴럴 네트워크의 가중치를 갱신한다. 새로운 배선 레이아웃이 설계 규칙을 충족시킨 경우에는 새로운 배선 레이 아웃의 배선 저항과 기생 용량을 추출한다. 배선 저항과 기생 용량의 변화율이 큰 경우에는, Q 학습을 사용하여 레이아웃 정보를 갱신한다."}
{"patent_id": "10-2021-7028985", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명의 일 형태는 배선 레이아웃 설계 방법, 프로그램, 및 기록 매체 등에 관한 것이다."}
{"patent_id": "10-2021-7028985", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 2, "content": "또한 본 발명의 일 형태는 상기 기술분야에 한정되지 않는다. 본 명세서 등에서 개시(開示)하는 발명의 기술분 야는 물건, 방법, 또는 제조 방법에 관한 것이다. 또는 본 발명의 일 형태는 공정(process), 기계(machine), 제품(manufacture), 또는 조성물(composition of matter)에 관한 것이다. 또한 본 명세서 등에서 반도체 장치란, 반도체 특성을 이용함으로써 기능할 수 있는 장치 전반을 가리킨다. 트 랜지스터, 반도체 회로는 반도체 장치의 일 형태이다. 또한 표시 장치(액정 표시 장치, 발광 표시 장치 등), 투영 장치, 조명 장치, 전기 광학 장치, 축전 장치, 기억 장치, 촬상 장치, 및 전자 기기 등은 반도체 장치라고 할 수 있는 경우가 있다. 또는 이들은 반도체 장치를 가진다고 할 수 있는 경우가 있다."}
{"patent_id": "10-2021-7028985", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "근년, 집적 회로의 미세화나 고밀도화 등에 대한 요구가 높아지고 있다. 일반적으로, 집적 회로는 복수의 회로 를 포함하여 구성된다. 각각의 회로는 배선을 통하여 전기적으로 접속되고, 배선을 통하여 신호를 주고받는다. 집적 회로의 미세화나 고밀도화 등에 따라 배선의 기생 용량이나 배선 저항의 저감이 요구되고 있다. 예를 들 어 특허문헌 1에서는, 기생 용량 및 배선 저항을 허용값 이하로 하기 위한 배선 레이아웃의 설계 방법이 제안되 어 있다. 또한 다양한 용도에 있어서 인공지능의 활용이 검토되고 있다. 특히, 인공 뉴럴 네트워크의 구성을 응용함으로 써, 종래의 노이만형 컴퓨터보다 고성능의 컴퓨터를 실현할 수 있을 것으로 기대되고, 근년에는 전자 회로 위에 서 인공 뉴럴 네트워크를 구축하는 다양한 연구가 진행되고 있다. 예를 들어, 특허문헌 2에는 채널 형성 영역에 산화물 반도체를 가지는 트랜지스터를 사용한 기억 장치에 의하여, 인공 뉴럴 네트워크를 사용한 계산에 필요한 가중치 데이터를 유지하는 발명이 개시되어 있다. 선행기술문헌 특허문헌 (특허문헌 0001) 일본 공개특허공보 특개2003-50835호 (특허문헌 0002) 미국 특허 공보 제2016/0343452호"}
{"patent_id": "10-2021-7028985", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 2, "content": "발명의 내용"}
{"patent_id": "10-2021-7028985", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "배선에 생기는 기생 용량이나 배선 저항은 배선으로 전반(傳搬)되는 신호 파형의 열화나 감쇠의 원인이 된다. 따라서 이들 기생 용량이나 배선 저항을 가능한 한 저감할 필요가 있다. 한편으로, 기생 용량이나 배선 저항을 저감하기 위한 레이아웃은 설계 규칙을 충족시킬 필요가 있다. 특허문헌 1의 방법에서는, 허용값 이하가 된 시 점에 레이아웃 설계를 종료하기 때문에, 최적의 배선 레이아웃을 얻을 수 없는 경우가 있다. 또한 설계 규칙을 충족시킬 필요가 있기 때문에, 기생 용량 및 배선 저항의 허용값이 높게 설정되는 경우가 있다. 본 발명의 일 형태는 설계 규칙을 충족시키면서 배선 저항 및 기생 용량이 저감된 배선 레이아웃의 설계 시스템 을 제공하는 것을 과제 중 하나로 한다. 또는 본 발명의 일 형태는 설계 규칙을 충족시키면서 배선 저항 및 기 생 용량이 저감된 배선 레이아웃의 설계 방법을 제공하는 것을 과제 중 하나로 한다. 또는 본 발명의 일 형태 는 신규 배선 레이아웃 설계 시스템을 제공하는 것을 과제 중 하나로 한다. 또는 본 발명의 일 형태는 신규 배 선 레이아웃 설계 방법을 제공하는 것을 과제 중 하나로 한다. 또한 이들 과제의 기재는 다른 과제의 존재를 방해하는 것이 아니다. 또한 본 발명의 일 형태는 이들 과제 모 두를 해결할 필요는 없는 것으로 한다. 또한 이들 외의 과제는 명세서, 도면, 청구항 등의 기재에서 저절로 명 백해질 것이며 명세서, 도면, 청구항 등의 기재에서 이들 외의 과제를 추출할 수 있다."}
{"patent_id": "10-2021-7028985", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 일 형태는 제 1 레이아웃 정보를 취득하는 제 1 단계와, 제 1 레이아웃 정보를 사용하여 제 1 배선 레이아웃을 생성하는 제 2 단계와, 제 1 배선 레이아웃의 기생 용량값인 제 1 기생 용량값을 취득하는 제 3 단 계와, 제 1 레이아웃 정보를 사용하여 제 2 배선 레이아웃을 생성하는 제 4 단계와, 제 2 배선 레이아웃에 대하 여 DRC를 수행하는 제 5 단계와, 제 2 배선 레이아웃의 기생 용량값인 제 2 기생 용량값을 취득하는 제 6 단계 와, DRC의 결과, 제 1 기생 용량값, 및 제 2 기생 용량값을 사용하여 학습을 수행하는 제 7 단계와, 학습의 결 과에 따라 제 1 레이아웃 정보를 변경하는 제 8 단계를 포함하는 배선 레이아웃 설계 방법이다. 또한 본 발명의 다른 일 형태는 제 1 레이아웃 정보를 취득하는 제 1 단계와, 제 1 레이아웃 정보를 사용하여 제 1 배선 레이아웃을 생성하는 제 2 단계와, 제 1 배선 레이아웃의 기생 용량값인 제 1 기생 용량값과, 제 1 배선 레이아웃의 배선 저항값인 제 1 배선 저항값을 취득하는 제 3 단계와, 제 1 레이아웃 정보를 사용하여 제 2 배선 레이아웃을 생성하는 제 4 단계와, 제 2 배선 레이아웃에 대하여 DRC를 수행하는 제 5 단계와, 제 2 배 선 레이아웃의 기생 용량값인 제 2 기생 용량값과, 제 2 배선 레이아웃의 배선 저항값인 제 2 배선 저항값을 취 득하는 제 6 단계와, DRC의 결과, 제 1 기생 용량값, 제 2 기생 용량값, 제 1 배선 저항값, 및 제 2 배선 저항 값을 사용하여 학습을 수행하는 제 7 단계와, 학습의 결과에 따라 제 1 레이아웃 정보를 변경하는 제 8 단계를 포함하는 배선 레이아웃 설계 방법이다. 또한 본 발명의 다른 일 형태는 제 4 단계 내지 제 8 단계를 여러 번 반복하는 배선 레이아웃 설계 방법이다. 학습은 Q 학습으로 수행하는 것이 바람직하다. 학습은 뉴럴 네트워크를 사용하여 수행하여도 좋다. 뉴럴 네트 워크는 행동 가치 함수를 추정하는 기능을 가진다. 또한 본 발명의 다른 일 형태는 상기 배선 레이아웃 설계 방법을 컴퓨터로 실행하기 위한 프로그램이다. 또한 본 발명의 다른 일 형태는 상기 프로그램이 기록된, 컴퓨터 판독가능 기록 매체이다."}
{"patent_id": "10-2021-7028985", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 일 형태에 따르면, 설계 규칙을 충족시키면서 배선 저항 및 기생 용량이 저감된 배선 레이아웃의 설 계 시스템을 제공할 수 있다. 또는 본 발명의 일 형태에 따르면, 설계 규칙을 충족시키면서 배선 저항 및 기생 용량이 저감된 배선 레이아웃의 설계 방법을 제공할 수 있다. 또는 본 발명의 일 형태에 따르면, 신규 배선 레 이아웃 설계 시스템을 제공할 수 있다. 또는 본 발명의 일 형태에 따르면, 신규 배선 레이아웃 설계 방법을 제 공할 수 있다. 또한 이들 효과의 기재는 다른 효과의 존재를 방해하는 것은 아니다. 또한 본 발명의 일 형태는 이들 효과 모 두를 가질 필요는 없다. 또한 이들 이외의 효과는 명세서, 도면, 청구항 등의 기재로부터 저절로 명백해질 것 이고, 명세서, 도면, 청구항 등의 기재로부터 이들 이외의 효과를 추출할 수 있다."}
{"patent_id": "10-2021-7028985", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "실시형태에 대하여 도면을 사용하여 자세히 설명한다. 다만 본 발명은 이하의 설명에 한정되지 않으며, 본 발 명의 취지 및 그 범위로부터 벗어남이 없이 그 형태 및 자세한 사항을 다양하게 변경할 수 있는 것은 통상의 기 술자라면 용이하게 이해할 수 있다. 따라서 본 발명은 아래에 나타내는 실시형태의 기재 내용에 한정되어 해석 되는 것은 아니다. 또한 이하에서 설명되는 발명의 구성에서, 동일한 부분 또는 같은 기능을 가지는 부분에는 동일한 부호를 상이한 도면 사이에서 공통적으로 사용하고, 그 반복 설명은 생략한다. 또한 도면 등에 있어서 나타내는 각 구성의 위치, 크기, 범위 등은 발명의 이해를 용이하게 하기 위하여 실제의 위치, 크기, 범위 등을 나타내지 않는 경우가 있다. 따라서 개시하는 발명은 도면 등에 나타낸 위치, 크기, 범 위 등에 반드시 한정되는 것은 아니다. 예를 들어, 실제의 제조 공정에서 에칭 등의 처리에 의하여 레지스트 마스크 등이 의도하지 않게 감소되는 경우가 있으나, 이해를 쉽게 하기 위하여 이를 도면에 반영하지 않은 경우 가 있다. 또한 상면도(\"평면도\"라고도 함)나 사시도 등에서, 도면을 이해하기 쉽게 하기 위하여 일부의 구성 요소의 기재 를 생략하는 경우가 있다. 또한 본 명세서 등에서 \"전극\"이나 \"배선\"이라는 용어는 이들 구성 요소를 기능적으로 한정하는 것이 아니다. 예를 들어 \"전극\"은 \"배선\"의 일부로서 사용되는 경우가 있고, 그 반대도 마찬가지이다. 또한 \"전극\"이나 \"배 선\"의 용어는 복수의 \"전극\"이나 \"배선\"이 일체가 되어 형성되어 있는 경우 등도 포함한다. 또한 본 명세서 등에서 전기 회로에서의 \"단자\"란, 전류의 입력 또는 출력, 전압의 입력 또는 출력, 및/또는 신 호의 수신 또는 송신이 수행되는 부분을 가리킨다. 따라서 배선 또는 전극의 일부가 단자로서 기능하는 경우가 있다. 또한 본 명세서 등에서 \"위\"나 \"아래\"의 용어는 구성 요소의 위치 관계가 바로 위 또는 바로 아래이며 또한 직 접 접하는 것을 한정하는 것은 아니다. 예를 들어 \"절연층(A) 위의 전극(B)\"이라는 표현이면, 절연층(A) 위에 전극(B)이 직접 접하여 형성될 필요는 없고, 절연층(A)과 전극(B) 사이에 다른 구성 요소를 포함하는 것을 제외 하지 않는다. 또한 소스 및 드레인의 기능은 상이한 극성을 가지는 트랜지스터를 채용하는 경우나, 회로 동작에서 전류의 방 향이 변화되는 경우 등, 동작 조건 등에 따라 서로 바뀌기 때문에, 어느 쪽이 소스 또는 드레인인지를 한정하기 가 어렵다. 그러므로 본 명세서에서는 소스 및 드레인이라는 용어는 서로 바꾸어 사용할 수 있는 것으로 한다. 또한 본 명세서 등에서 \"전기적으로 접속\"에는 직접 접속되는 경우와, \"어떠한 전기적 작용을 가지는 것\"을 통 하여 접속되어 있는 경우가 포함된다. 여기서, \"어떠한 전기적 작용을 가지는 것\"은 접속 대상 간에서의 전기 신호의 주고받음을 가능하게 하는 것이면 특별한 제한을 받지 않는다. 따라서 \"전기적으로 접속된다\"고 표현되 는 경우에도 실제의 회로에서는 물리적인 접속 부분이 없고, 배선이 연장되어 있을 뿐인 경우도 있다. 또한 본 명세서 등에서 \"평행\"이란, 예를 들어 2개의 직선이 -10° 이상 10° 이하의 각도로 배치되어 있는 상 태를 말한다. 따라서 -5° 이상 5° 이하의 경우도 포함된다. 또한 \"수직\" 및 \"직교\"란, 예를 들어 2개의 직 선이 80° 이상 100° 이하의 각도로 배치되어 있는 상태를 말한다. 따라서 85° 이상 95° 이하의 경우도 포함된다. 또한 본 명세서 등에서 계수치 및 계량값에 관하여 \"동일하다\", \"같다\", \"동등하다\", 또는 \"균일하다\" 등이라고 하는 경우에는, 명시되어 있는 경우를 제외하고 ±10%의 오차를 포함하는 것으로 한다. 또한 전압이란 어떤 전위와 기준 전위(예를 들어 접지 전위 또는 소스 전위)의 전위차를 말하는 경우가 많다. 따라서 \"전압\"과 \"전위\"는 서로 환언할 수 있는 경우가 많다. 본 명세서 등에서는 특별한 명시가 없는 한, 전 압과 전위는 바꿔 말할 수 있는 것으로 한다. 또한 \"반도체\"라고 표기한 경우에도, 예를 들어 도전성이 충분히 낮은 경우에는 \"절연체\"로서의 특성을 가진다. 따라서 \"반도체\"를 \"절연체\"로 치환하여 사용할 수도 있다. 이 경우, \"반도체\"와 \"절연체\"의 경계는 애매하고, 양자를 엄밀하게 구별하는 것은 어렵다. 따라서 본 명세서에 기재된 \"반도체\"와 \"절연체\"는 서로 바꿔 읽을 수 있는 경우가 있다. 또한 \"반도체\"라고 표기한 경우에도, 예를 들어 도전성이 충분히 높은 경우에는 \"도전체\"로서의 특성을 가진다. 따라서 \"반도체\"를 \"도전체\"로 치환하여 사용할 수도 있다. 이 경우, \"반도체\"와 \"도전체\"의 경계는 애매하고, 양자를 엄밀하게 구별하는 것은 어렵다. 따라서 본 명세서에 기재된 \"반도체\"와 \"도전체\"는 서로 바꿔 읽을 수 있는 경우가 있다. 또한 본 명세서 등에서 \"제 1\", \"제 2\" 등의 서수사는 구성 요소의 혼동을 피하기 위하여 붙인 것이며, 공정 순 서 또는 적층 순서 등 어떤 순서나 순위를 가리키는 것이 아니다. 또한 본 명세서 등에서 서수사를 붙이지 않 은 용어이어도, 구성 요소의 혼동을 피하기 위하여, 청구범위 등에서는 서수사를 붙이는 경우가 있다. 또한 본 명세서 등에서 서수사를 붙인 용어이어도, 청구범위에서는 다른 서수사를 붙이는 경우가 있다. 또한 본 명세서 등에서 서수사를 붙인 용어이어도, 청구범위 등에서는 서수사를 생략하는 경우가 있다. 또한 본 명세서 등에서 트랜지스터의 \"온 상태\"란, 트랜지스터의 소스와 드레인이 전기적으로 단락되어 있다고 간주할 수 있는 상태(\"도통 상태\"라고도 함)를 말한다. 또한 트랜지스터의 \"오프 상태\"란 트랜지스터의 소스와 드레인이 전기적으로 차단되어 있다고 간주할 수 있는 상태(\"비도통 상태\"라고도 함)를 말한다. 또한 본 명세서 등에서 \"온 전류\"란, 트랜지스터가 온 상태일 때 소스와 드레인 사이를 흐르는 전류를 가리키는 경우가 있다. 또한 \"오프 전류\"란, 트랜지스터가 오프 상태일 때 소스와 드레인 사이를 흐르는 전류를 가리키 는 경우가 있다. 또한 본 명세서 등에서 고전원 전위(VDD)(이하 단순히 \"VDD\" 또는 \"H전위\"라고도 함)란, 저전원 전위(VSS)보다 높은 전위의 전원 전위를 가리킨다. 또한 저전원 전위(VSS)(이하 단순히 \"VSS\" 또는 \"L전위\"라고도 함)란, 고 전원 전위(VDD)보다 낮은 전위의 전원 전위를 가리킨다. 또한 접지 전위를 VDD 또는 VSS로서 사용할 수도 있다. 예를 들어 VDD가 접지 전위인 경우에는 VSS는 접지 전위보다 낮은 전위이고, VSS가 접지 전위인 경우에 는 VDD는 접지 전위보다 높은 전위이다. 또한 본 명세서 등에서 게이트란, 게이트 전극 및 게이트 배선의 일부 또는 전부를 가리킨다. 게이트 배선이란, 적어도 하나의 트랜지스터의 게이트 전극과, 다른 전극이나 다른 배선을 전기적으로 접속시키기 위한 배선을 가리킨다. 또한 본 명세서 등에서 소스란, 소스 영역, 소스 전극, 및 소스 배선의 일부 또는 전부를 가리킨다. 소스 영역 이란, 반도체층 중 저항률이 일정한 값 이하의 영역을 가리킨다. 소스 전극이란, 소스 영역과 접속되는 부분의 도전층을 가리킨다. 소스 배선이란, 적어도 하나의 트랜지스터의 소스 전극과, 다른 전극이나 다른 배선을 전 기적으로 접속시키기 위한 배선을 가리킨다. 또한 본 명세서 등에서 드레인이란, 드레인 영역, 드레인 전극, 및 드레인 배선의 일부 또는 전부를 가리킨다. 드레인 영역이란, 반도체층 중 저항률이 일정한 값 이하의 영역을 가리킨다. 드레인 전극이란, 드레인 영역과 접속되는 부분의 도전층을 가리킨다. 드레인 배선이란, 적어도 하나의 트랜지스터의 드레인 전극과, 다른 전극 이나 다른 배선을 전기적으로 접속시키기 위한 배선을 가리킨다. (실시형태 1) 본 발명의 일 형태에 따른 배선 레이아웃의 설계 시스템(이하, \"설계 시스템\"이라고도 함)에 대하여 도면을 사 용하여 설명한다. <배선 레이아웃 설계 시스템의 구성예> 도 1은 설계 시스템의 구성예를 설명하는 블록도이다. 또한 도 1에서는 구성 요소를 기능마다 분류하여 서로 독립된 블록으로서 블록도를 나타내었지만, 실제의 구성 요소를 기능마다 완전히 나누기는 어려운 경우가 있다. 따라서, 하나의 구성 요소가 복수의 기능에 관련되거나, 하나의 기능이 복수의 구성 요소에 관련될 수도 있다. 또한 도 1에서 예시한 설계 시스템의 구성은 일례이고, 모든 구성 요소를 포함할 필요는 없다. 설계 시스 템은 도 1에 나타낸 구성 요소 중 필요한 구성 요소를 가지면 좋다. 또한 도 1에 나타낸 구성 요소 이외 의 구성 요소를 가져도 좋다. 설계 시스템은 구성 요소로서 제어부(Controller), 연산부, 기억부(Memory), 보조 기억부 (Storage), 외부 입출력부(Interface), 및 통신부를 가진다. 또한 설계 시스템은 AI(Artificial Intelligence, 인공지능)를 가지는 것이 바람직하다. 이들 구성 요소는 전송로(傳送路)를 통하여 전기적으로 접속된다. 구성 요소 간의 정보의 송수신은 전송 로를 통하여 수행될 수 있다. 상기 구성 요소에 포함되는 트랜지스터로서, 채널 형성 영역에 금속 산화물의 일종인 산화물 반도체(Oxide Semiconductor)를 가지는 트랜지스터(\"OS 트랜지스터\"라고도 함)를 사용하는 것이 바람직하다. OS 트랜지스터 는 오프 전류가 매우 낮기 때문에 설계 시스템의 소비 전력을 낮출 수 있다. 또한 고온 환경하에서도 오프 전 류가 증가하기 어렵고 안정적으로 동작하기 때문에 설계 시스템의 신뢰성을 높일 수 있다. 또한 본 명세서 등에서 금속 산화물(metal oxide)이란, 넓은 의미로의 금속의 산화물이다. 금속 산화물은 산화 물 절연체, 산화물 도전체(투명 산화물 도전체를 포함함), 산화물 반도체(Oxide Semiconductor 또는 단순히 OS 라고도 함) 등으로 분류된다. 예를 들어, 트랜지스터의 반도체층에 금속 산화물을 사용한 경우, 상기 금속 산 화물을 산화물 반도체라고 부르는 경우가 있다. 즉, 금속 산화물이 증폭 작용, 정류 작용, 및 스위칭 작용 중 적어도 하나를 가지는 경우, 이 금속 산화물을 금속 산화물 반도체(metal oxide semiconductor), 줄여서 OS라고 부를 수 있다. 채널 형성 영역이 가지는 금속 산화물은 인듐(In)을 포함하는 것이 바람직하다. 채널 형성 영역이 가지는 금속 산화물이 인듐을 포함하는 금속 산화물인 경우, OS 트랜지스터의 캐리어 이동도(전자 이동도)가 높아진다. 또 한 채널 형성 영역이 가지는 금속 산화물은 원소 M을 포함하는 산화물 반도체인 것이 바람직하다. 원소 M은 바 람직하게는 알루미늄(Al), 갈륨(Ga), 또는 주석(Sn) 등으로 한다. 원소 M에 적용할 수 있는 다른 원소로서는 붕소(B), 실리콘(Si), 타이타늄(Ti), 철(Fe), 니켈(Ni), 저마늄(Ge), 이트륨(Y), 지르코늄(Zr), 몰리브데넘 (Mo), 란타넘(La), 세륨(Ce), 네오디뮴(Nd), 하프늄(Hf), 탄탈럼(Ta), 텅스텐(W) 등이 있다. 다만 원소 M으로 서 상술한 원소를 복수 조합하여도 되는 경우가 있다. 원소 M은 예를 들어, 산소와의 결합 에너지가 높은 원소 이다. 예를 들어, 산소와의 결합 에너지가 인듐보다 높은 원소이다. 또한 채널 형성 영역이 가지는 금속 산화 물은 아연(Zn)을 포함하는 금속 산화물인 것이 바람직하다. 아연을 포함한 금속 산화물은 결정화되기 쉬운 경 우가 있다. 채널 형성 영역이 가지는 금속 산화물은 인듐을 포함하는 금속 산화물에 한정되지 않는다. 반도체층은 예를 들 어, 아연 주석 산화물, 갈륨 주석 산화물 등, 인듐을 포함하지 않고 아연을 포함하는 금속 산화물, 갈륨을 포함 하는 금속 산화물, 주석을 포함하는 금속 산화물 등이어도 좋다. 또한 OS 트랜지스터의 반도체층으로서는 CAAC-OS, nc-OS 등의 결정부를 가지는 산화물 반도체를 사용하는 것이 바람직하다. CAAC-OS란, c-axis-aligned crystalline oxide semiconductor의 약칭이다. CAAC-OS는 c축 배향 성을 가지며 a-b면 방향에서 복수의 나노 결정이 연결되고, 변형을 가지는 결정 구조가 되어 있다. 또한 변형 이란, 복수의 나노 결정이 연결되는 영역에서, 격자 배열이 정렬된 영역과 격자 배열이 정렬된 다른 영역 사이 에서 격자 배열의 방향이 변화되는 부분을 가리킨다. nc-OS란, nanocrystalline oxide semiconductor의 약칭 이다. [제어부] 제어부(Controller)는 연산부, AI, 기억부, 보조 기억부, 외부 입출력부, 및 통신부 등의 동작을 제어하는 기능을 가진다. [연산부] 연산부는 설계 시스템 전체의 동작에 관련되는 연산을 수행하는 기능을 가지고, 예를 들어 중앙 연산 처리 장치(CPU: Central Processing Unit) 등을 사용할 수 있다. 연산부는 레이아웃 정보에 따라 복수의 단자를 연결하는 배선 레이아웃(배선 형상 및 배선 경로 등)을 설 정하는 기능을 가진다. [AI] AI로서 인공 뉴럴 네트워크(ANN: Artificial Neural Network, 이하에서는 단순히 뉴럴 네트워크(NN: Neural Network)라고도 기재함)를 사용하는 것이 바람직하다. AI는 연산부에 제공하여도 좋다. 또 한 AI를 소프트웨어로 구성하여도 좋다. 또한 제어부, 연산부, 또는 AI는 DSP(Digital Signal Processor), GPU(Graphics Processing Unit) 등의 마이크로프로세서를 가져도 좋다. 마이크로프로세서는 FPGA(Field Programmable Gate Array)나 FPAA(Field Programmable Analog Array) 등의 PLD(Programmable Logic Device)에 의하여 실현하여도 좋다. [기억부] 기억부는 설계 시스템의 동작에 관련되는 프로그램이나 설정 항목(파라미터)을 저장하는 기능을 가지 고, 적어도 일부는 재기록 가능한 메모리인 것이 바람직하다. 예를 들어 기억부는 RAM(Random Access Memory) 등의 휘발성 메모리나 ROM(Read Only Memory) 등의 비휘발성 메모리를 가지는 구성으로 할 수 있다. 기억부에 제공되는 RAM으로서는 예를 들어 DRAM(Dynamic Random Access Memory)이 사용되고, 설계 시스템 의 작업 공간으로서 가상적으로 메모리 공간이 할당되어 이용된다. 보조 기억부에 저장된 운영 체계, 애플리케이션 프로그램, 프로그램 모듈, 프로그램 데이터 등은 실행을 위하여 RAM에 로드된다. 한편으로 ROM에는 재기록을 필요로 하지 않는 BIOS(Basic Input/Output System)나 펌웨어(firmware) 등을 저장 할 수 있다. ROM으로서는 마스크 ROM이나, OTPROM(One Time Programmable Read Only Memory), EPROM(Erasable Programmable Read Only Memory) 등을 사용할 수 있다. EPROM으로서는 자외선 조사에 의하여 기억 데이터의 소거가 가능해진 UV-EPROM(Ultra-Violet Erasable Programmable Read Only Memory), EEPROM(Electrically Erasable Programmable Read Only Memory), 플래시 메모리 등을 들 수 있다. [보조 기억부] 보조 기억부는 산출한 데이터를 저장하기 위한 기억 장치이다. 또한 AI에서 사용하는 데이터 등이 저장되어 있다. 또한 상술한 바와 같이 보조 기억부는 운영 체계, 애플리케이션 프로그램, 프로그램 모듈, 프로그램 데이터 등을 저장할 수 있다. 보조 기억부로서는 예를 들어 플래시 메모리, MRAM(Magnetoresistive Random Access Memory), PRAM(Phase change RAM), ReRAM(Resistive RAM), FeRAM(Ferroelectric RAM) 등의 비휘발성 기억 소자가 적용된 기억 장치, 또는 DRAM(Dynamic RAM)이나 SRAM(Static RAM) 등의 휘발성 기억 소자가 적용된 기억 장치 등을 사용하여도 좋 다. 또한 예를 들어 하드 디스크 드라이브(HDD: Hard Disc Drive)나 솔리드 스테이트 드라이브(SSD: Solid State Drive) 등의 기록 미디어 드라이브를 사용하여도 좋다. 또한 예를 들어, 외부 입출력부에서 탈착 가능한 HDD 또는 SSD 등의 기억 장치나, 플래시 메모리, 블루레 이 디스크, DVD 등의 기록 매체의 미디어 드라이브를 보조 기억부로서 사용할 수도 있다. 또한 보조 기억 부를 설계 시스템에 내장시키지 않고, 설계 시스템의 외부에 제공되는 기억 장치를 보조 기억부 로서 사용하여도 좋다. 그 경우, 외부 입출력부를 통하여 접속되거나, 또는 통신부에 의하여 무선 통신으로 데이터를 주고받는 구성이어도 좋다. [외부 입출력부] 외부 입출력부는 외부 기기와 설계 시스템 간의 신호의 입출력을 제어하는 기능을 가진다. 또한 외 부 입출력부가 가지는 외부 포트로서 HDMI(등록 상표) 단자, USB 단자, LAN(Local Area Network) 접속용 단자 등을 사용하여도 좋다. 또한 외부 입출력부는 적외선, 가시광, 자외선 등을 사용한 광 통신용 송수 신 기능을 가져도 좋다. 예를 들어, 설계 시스템으로 작성한 레이아웃 데이터 등을 외부 입출력부를 통하여 외부에 공급할 수 있다.[통신부] 통신부는 안테나를 통하여 통신을 수행할 수 있다. 예를 들어 연산부로부터의 명령에 따라 설계 시 스템을 컴퓨터 네트워크에 접속하기 위한 제어 신호를 제어하고, 상기 신호를 컴퓨터 네트워크에 발신한다. 이로써 World Wide Web(WWW)의 기반인 인터넷, 인트라넷, 엑스트라넷, PAN(Personal Area Network), LAN(Local Area Network), CAN(Campus Area Network), MAN(Metropolitan Area Network), WAN(Wide Area Network), GAN(Global Area Network) 등의 컴퓨터 네트워크에 설계 시스템을 접속시켜 통신을 수행 할 수 있다. 또한 그 통신 방법으로서 복수의 방법을 사용하는 경우에, 안테나는 상기 통신 방법에 따라 복수 로 가져도 좋다. 통신부에는 예를 들어 고주파 회로(RF 회로)를 제공하고, RF 신호의 송수신을 수행하면 좋다. 고주파 회 로는 각국 법제로 설정된 주파수 대역의 전자기 신호와 전기 신호를 상호 변환하고, 상기 전자기 신호를 사용하 여 무선으로 다른 통신 기기와의 통신을 수행하기 위한 회로이다. 실용적인 주파수 대역으로서 수십kHz 내지 수십GHz가 일반적으로 사용된다. 안테나와 접속되는 고주파 회로는 복수의 주파수 대역에 대응한 고주파 회로 부를 가지고, 고주파 회로부는 증폭기(앰프), 믹서, 필터, DSP(Digital Signal Processor), RF 트랜스시버 등 을 가지는 구성으로 할 수 있다. 무선 통신을 수행하는 경우에는 통신 프로토콜 또는 통신 기술로서 LTE(Long Term Evolution), GSM(Global System for Mobile Communication: 등록 상표), EDGE(Enhanced Data Rates for GSM Evolution), CDMA2000(Code Division Multiple Access 2000), WCDMA(Wideband Code Division Multiple Access: 등록 상표) 등의 통신 규격, 또는 Wi-Fi(등록 상표), Bluetooth(등록 상표), ZigBee(등록 상표) 등의 IEEE에 의하여 통신 규격화된 사양을 사용할 수 있다. 예를 들어 컴퓨터를 본 발명의 일 형태에 따른 설계 시스템으로서 기능시킬 수 있다. 이 경우, 외부 입출 력부 또는 통신부를 통하여 본 발명의 일 형태에 따른 설계 시스템의 실행 프로그램을 기동하는 신호가 입력되면, 제어부는 보조 기억부에 저장되어 있는 실행 프로그램을 기억부에 판독시킨다. 실행 프로그램을 기억부에 판독시킴으로써, 컴퓨터를 설계 시스템으로서 기능시킬 수 있다. <배선 레이아웃 설계 시스템의 동작예> 다음으로, 설계 시스템의 동작예에 대하여 설명한다. 본 실시형태에서는 복수의 단자를 전기적으로 접속 하기 위한 배선 레이아웃의 설계 방법에 대하여 설명한다. 도 2 및 도 3은 배선 레이아웃의 설계 방법을 설명 하는 흐름도이다. [단계 S311] 우선, 레이아웃 정보, 넷 리스트, 및 설계 규칙 등의 기본 정보를 취득한다. 레이아웃 정보 에는 각 단자의 배치를 나타내는 정보가 포함된다. 넷 리스트에는 단자 간의 접속 관계를 나타내는 정보(\"접속 정보\"라고도 함)가 포함된다. 설계 규칙에는 배선 폭, 배선 간격, 및 접속공(接續孔) 직경 등 의 하한값이나, 레이어 개수 등의 상한값, 금지 규칙 등을 나타내는 정보가 포함된다. 레이아웃 정보, 넷 리스트, 및 설계 규칙 등은 보조 기억부에 기억되어 있는 정보이어도 좋고, 외부 입출력부를 통하여 설계 시스템에 공급된 정보이어도 좋다. [단계 S312] 다음으로, 각 단자를 전기적으로 접속하는 초기의 배선 레이아웃(배선 형상 및 배선 경로 등)을 랜덤으로 생성 한다. 초기의 배선 레이아웃을 일정한 규칙에 따라 배치하면, 최적화 처리의 결과에 치우침이 생기는 경우가 있다. 따라서, 초기의 배선 레이아웃은 랜덤으로 생성하는 것이 바람직하다. 생성된 배선 레이아웃은 레이아 웃 정보에 추가된다. 또한 본 명세서 등에서 배선을 통하여 2개의 단자를 전기적으로 접속하는 경우, 한쪽 단자를 \"기점 단자\"라고 하고, 다른 쪽 단자를 \"종점 단자\"라고 하는 경우가 있다. 일반적으로, 기점 단자와 종점 단자는 각각 복수 존재하는 경우가 많다. 따라서 기점 단자와 종점 단자를 전기 적으로 접속하는 배선도 복수 생성되는 경우가 많다. 본 명세서 등에서는 복수의 기점 단자를 통틀어 \"기점 단 자군\"이라고 하는 경우가 있다. 또한 복수의 종점 단자를 통틀어 \"종점 단자군\"이라고 하는 경우가 있다. 또 한 복수의 배선을 통틀어 \"배선군\"이라고 하는 경우가 있다.또한 기점 단자의 개수와 종점 단자의 개수는 반드시 같을 필요는 없다. 또한 하나의 기점 단자는 반드시 하나 의 종점 단자에만 전기적으로 접속될 필요는 없다. 예를 들어, 하나의 기점 단자가 복수의 종점 단자에 전기적 으로 접속되는 경우가 있다. 마찬가지로, 복수의 기점 단자가 하나의 종점 단자에 전기적으로 접속되는 경우도 있다. 어느 기점 단자와 어느 종점 단자를 전기적으로 접속하는지는 넷 리스트에 기초하여 결정된다. [단계 S313] 다음으로, 랜덤으로 생성한 배선군의 배선 레이아웃이 설계 규칙을 충족시키는지 여부를 확인한다. 레이 아웃이 설계 규칙을 충족시키는지 여부를 확인하는 것을 DRC(Design Rule Check)라고 한다. 레이아웃이 설계 규칙을 충족시키지 않은 경우, 단계 S312로 되돌아가 배선을 랜덤으로 생성한다. [단계 S314] 배선 레이아웃이 설계 규칙을 충족시킨 경우, 레이아웃 기생 파라미터 추출(LPE: Layout Parasitic Extraction)을 수행한다. 단계 S314에서 추출한 기생 용량의 값이 이후에 수행되는 최적화 처리의 초깃값이 된 다. 또한 이때의 배선 저항의 값이 이후에 수행되는 최적화 처리의 초깃값이 된다. 또한 단계 S311에서 단계 S314까지를 통틀어 단계 S310이라고도 할 수 있다. 단계 S310은 초기화 또는 전처리 를 수행하는 단계이다. 단계 S310에서 얻어지는 레이아웃 정보는 하드웨어 기술 언어(HDL: Hardware Description Language)에 의하여 단자 간의 접속 관계를 기재한 넷 리스트이어도 좋다. 또는 SPICE(Simulation Program with Integrated Circuit Emphasis) 등에 의하여 단자 간의 접속 관계를 기재한 넷 리스트이어도 좋다. [단계 S320] 다음으로, AI를 사용하여 각종 파라미터를 최적화한다. 최적화하는 파라미터로서는 배선의 길이, 배선의 폭, 인접 배선과의 거리, 다른 배선의 중첩 횟수 등이 있다. 도 3을 사용하여 단계 S320에 대하여 자세히 설명 한다. 각종 파라미터를 최적화할 때, 단계 S310에서 얻어진 레이아웃 정보, 기생 용량, 및 배선 저항을 초기 정보로서 사용한다. 또한 설계 규칙을 충족시키는 것을 전제로 하여, 기생 용량 및 배선 저항이 가장 작게 되도록 각종 파라미터를 최적화한다. 각종 파라미터의 최적화는 강화 학습(Reinforcement Learning)으로 수행할 수 있다. \"강화 학습\"은 기계 학습 의 일종이지만, 주로 화상 인식 등에 사용되는 \"지도 학습\"이나, 주로 클러스터링 등에 사용되는 \"비지도 학 습\"과는 상이한 방법이다. 강화 학습은 좋은 결과가 얻어진 경우에 보상을 주고, 나쁜 결과가 얻어진 경우에 벌칙을 주는 학습 방법이고, 목적 달성 수단의 제어가 어려운 경우에 주로 사용된다. 강화 학습으로서는 예를 들어 TD 학습(Temporal Difference Learning: 시간적 차분 학습), Q 학습(Q-Learning) 등을 사용할 수 있다. 또한 Q 학습에 있어서 심층 학습을 이용하는 학습 알고리듬을 사용하는 것이 바람직하다. Q 학습이란, 시각 t에서 환경이 상태 st일 때 에이전트가 행동 at를 선택하는 가치를 학습하는 방법이다. 에이 전트란 행동하는 주체를 가리키고, 환경이란 작용되는 대상을 가리킨다. 에이전트의 행동 at에 의하여 환경이 상태 st에서 상태 st+1로 전이하고, 에이전트는 보상 rt+1을 받는다. Q 학습에서는 얻어지는 보상의 총량이 최종 적으로 최대가 되도록 행동 at를 학습한다. 상태 st에서 행동 at를 취하는 가치를 행동 가치 함수 Q(st, at)로 표현할 수 있다. 본 명세서 등에서 행동 가치 함수 Q를 Q함수, 행동 가치 함수 Q(st, at)의 값을 Q값이라고 부 르는 경우가 있다. 예를 들어, 행동 가치 함수 Q(st, at)의 갱신식은 수학식 로 나타낼 수 있다. [수학식 1]"}
{"patent_id": "10-2021-7028985", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "여기서 α는 학습률(α는 0보다 크고 1 이하)을 나타내고, γ는 할인율(γ는 0 이상 1 이하)을 나타낸다. 학습 률 α는 현재의 가치 및 행동에 의하여 얻어진 결과 중 어느 쪽을 중요시하는지를 나타낸 것이다. 학습률 α가1에 가까울수록 얻어진 결과를 중요시하고 가치의 변화는 커진다. 학습률 α가 0에 가까울수록 현재의 가치를 중요시하고 가치의 변화는 작아진다. 할인율 γ는 현재의 보상 및 장래의 보상 중 어느 쪽을 중요시하는지를 나타낸 것이다. 할인율 γ가 0에 가까울수록 현재의 보상을 중요시한다. 할인율 γ가 1에 가까울수록 장래의 보상을 중요시한다. 예를 들어, 학습률 α를 0.10으로 하고, 할인율 γ를 0.90으로 할 수 있다. 상술한 행동 가치 함수 Q(st, at)의 추정에 심층 학습을 사용할 수 있다. 행동 가치 함수 Q(st, at)의 추정에 심층 학습을 사용하는 학습 알고리듬을 Deep Q-Learning이라고 부르고, Deep Q-Learning에 사용하는 뉴럴 네트 워크를 Deep Q-Network(DQN)라고 부르는 경우가 있다. 본 발명의 일 형태에 따른 설계 시스템은 파라미터의 최적화에 Deep Q-Learning을 사용하고, Deep Q-Network는 컨볼루셔널 뉴럴 네트워크(CNN: Convolutional Neural Network)의 구성을 가지는 것이 특히 바람직하다. 또한 본 명세서 등에서 Deep Q-Network를 단순히 뉴럴 네트워크라고 기재하는 경우가 있다. 일반적으로 Q 학습에서는 행동 가치 함수 Q(st, at)의 상태 st와 행동 at를 조합한 데이터를 룩업 테이블(LUT: Look Up Table)로서 미리 저장한다. 그러나, 상태 st 및 행동 at의 조합은 다수 있기 때문에, 다수의 메모리가 필요하게 되는 경우가 있다. 한편, 본 발명의 일 형태인 설계 시스템에서는 행동 가치 함수 Q(st, at)의 추정에 뉴럴 네트워크를 사용함으로써, 필요로 하는 메모리 개수를 적게 할 수 있다. 본 명세서 등에 있어서, 뉴럴 네트워크란 생물의 신경 회로망을 모방하고, 학습에 의하여 뉴런끼리의 결합 강도 를 결정하고, 문제 해결 능력을 가지게 하는 모델 전반을 가리킨다. 뉴럴 네트워크는 입력층, 출력층, 및 입력 층과 출력층 사이에 1층 이상의 중간층(은닉층)을 가진다. 본 명세서 등에 있어서, 뉴럴 네트워크에 대하여 설명할 때, 이미 있는 정보로부터 뉴런과 뉴런의 결합 강도(가 중 계수라고도 함)를 결정하는 것을 \"학습\"이라고 부르는 경우가 있다. 또한 본 명세서 등에 있어서, 학습에 의하여 얻어진 결합 강도를 사용하여 뉴럴 네트워크를 구성하고, 거기서부 터 새로운 결론을 도출하는 것을 \"추론\"이라고 부르는 경우가 있다. 뉴럴 네트워크는 방대한 횟수의 적화 연산에 의하여 실행된다. 이들 연산 처리는 디지털 회로 및 아날로그 회 로 중 한쪽 또는 양쪽을 사용하여 수행할 수 있다. 디지털 회로를 사용하는 경우, 필요한 트랜지스터 개수가 방대하고, 비효율적이며 소비 전력이 높다. 그러므로, 상술한 적화 연산은 아날로그 적화 연산 회로(이하, APS(Analog Product-Sum circuit)라고 부름)로 수행하는 것이 바람직하다. 또한 APS는 아날로그 메모리를 가 지는 것이 바람직하다. 학습으로 얻어진 가중 계수를 상기 아날로그 메모리에 저장함으로써, APS는 아날로그 데이터 그대로 적화 연산을 실행할 수 있다. 그 결과, APS는 적은 트랜지스터로 뉴럴 네트워크를 효율적으로 구축할 수 있다. 또한 본 명세서 등에서 아날로그 메모리는 아날로그 데이터를 저장할 수 있는 기억 장치를 가리킨다. 또한 본 명세서에서 아날로그 데이터는 3비트(8치) 이상의 분해능을 가지는 데이터를 가리킨다. 멀티레벨 데이터를 아 날로그 데이터라고 부르는 경우도 있다. 상기 아날로그 메모리로서 멀티레벨 플래시 메모리, ReRAM(Resistive Random Access Memory), MRAM(Magnetoresistive Random Access Memory), 또는 OS 트랜지스터를 사용한 메모리(\"OS 메모리\"라고도 함)를 사용할 수 있다. [단계 S321] AI에 단계 S310에서 결정된 레이아웃 정보, 기생 용량값, 및 배선 저항값을 입력한다. [단계 S322] AI는 행동 가치 함수 Q(st, at)의 값에 따라 각종 파라미터의 값을 변경하고, 새로운 레이아웃 정보를 생성 한다. 예를 들어, 각 파라미터를 변화시키는 조작을 행동으로서 각각 할당할 수 있다. AI는 해동 가치 함수 Q의 값이 가장 크게 되는 행동을 선택하여 파라미터를 변화시킨다. 또한 행동의 선택은 때때로 랜덤으로 수행하는 것이 바람직하다. [단계 S323] 연산부는 새로운 레이아웃 정보를 사용하여 새로운 기점 단자와 종점 단자를 연결하는 배선 레이아웃을 설 정한다. [단계 S324] 다음으로, 단계 S323에서 생성된 새로운 배선 레이아웃에 대하여 DRC를 수행한다. 새로운 배선 레이아웃이 설 계 규칙을 충족시키지 않은 경우에는, 단계 S325를 수행하지 않고 단계 S326을 수행한다. 새로운 배선 레이아 웃이 설계 규칙을 충족시킨 경우에는 단계 S325를 수행한다. [단계 S325] 새로운 배선 레이아웃이 설계 규칙을 충족시킨 경우에는 배선 저항과 기생 용량의 값을 추출한다. [단계 S326] 다음으로, AI에 주는 보상을 결정한다. 예를 들어, 단계 S324에서 배선 레이아웃이 설계 규칙을 충족시키 지 않은 경우에는 부정적인 보상을 준다. 또한 배선 저항값이 증가한 경우 또는 기생 용량값이 증가한 경우에 도 부정적인 보상을 준다. 또한 배선 저항값이 감소한 경우 또는 기생 용량값이 감소한 경우에는 긍정적인 보 상을 준다. 보상의 값은 일정한 값이어도 좋고, 배선 저항값 및/또는 기생 용량값의 증감량에 따라 결정되어도 좋다. 보상은 시정수 τ에 의하여 결정되어도 좋다. 시정수 τ는 배선 저항값 R와 기생 용량값 C의 곱이다. 예를 들 어, 시정수 τ가 증가한 경우에는 부정적인 보상을 주고, 시정수 τ가 감소한 경우에는 긍정적인 보상을 준다. 배선 레이아웃이 설계 규칙을 충족시키지 않은 경우의 부정적인 보상은 배선 저항값, 기생 용량값, 또는 시정수 τ가 증가한 경우의 부정적인 보상보다 큰 것이 바람직하다. [단계 S327] 다음으로, AI는 주어진 보상에 따라 새로운 가중치를 결정한다. [단계 S328] 다음으로, 최적화 처리가 종료 조건을 충족시키는지 여부를 판단한다. 예를 들어 배선 저항값, 기생 용량값, 또는 시정수 τ의 변화율이 일정한 값 이하가 되고, 더 이상 감소하는 것을 기대할 수 없다고 판단한 경우에 최 적화 처리를 종료한다. 종료 조건을 충족시키지 않았다고 판단한 경우에는 단계 S321로 되돌아간다. 단계 S321에서는, 단계 S322에서 결정한 레이아웃 정보 등이 AI에 입력된다. 또한 배선 저항값, 기생 용량값, 또는 시정수 τ의 변화가 수렴되지 않는 경우를 상정하고, 단계 S320의 반복이 일정 횟수 이상이 된 시점에서 최적화 처리를 종료하여도 좋다. [단계 S330] 최적화 처리의 종료 후, 생성된 레이아웃 정보를 보조 기억부에 기억한다. 상기 레이아웃 정보는 GDS2(Graphic Data System 2) 포맷으로 저장하는 것이 바람직하다. 또한 상기 레이아웃 정보를 외부 입출력부 또는 통신부를 통하여 외부에 공급하여도 좋다. 본 발명의 일 형태에 따르면, 최적화를 위한 반복 작업을 자동으로 수행할 수 있기 때문에, 최적의 배선 레이아 웃을 단시간에 실현할 수 있다. 또한 레이아웃 설계자의 부담이 경감되고 업무 효율을 높일 수 있다. 또한 배 선 레이아웃의 최적화에 기계 학습의 일종인 강화 학습을 사용함으로써, 사람이 탐색할 수 없는 배선 레이아웃 을 찾아낼 수 있다. 본 실시형태는 다른 실시형태 등과 적절히 조합할 수 있다. (실시형태 2) 본 실시형태에서는 앞 실시형태에서 설명한 뉴럴 네트워크에 사용할 수 있는 반도체 장치의 구성예에 대하여 설 명한다. 도 4의 (A)에 나타낸 바와 같이, 뉴럴 네트워크(NN)는 입력층(IL), 출력층(OL), 중간층(은닉층)(HL)으로 구성할 수 있다. 입력층(IL), 출력층(OL), 중간층(HL)은 각각 하나 또는 복수의 뉴런(유닛)을 가진다. 또한 중간층 (HL)은 1층이어도 좋고 2층 이상이어도 좋다. 2층 이상의 중간층(HL)을 가지는 뉴럴 네트워크는 DNN(딥 뉴럴 네트워크)이라고 부를 수도 있고, 딥 뉴럴 네트워크를 사용한 학습은 심층 학습이라고 부를 수도 있다.입력층(IL)의 각 뉴런에는 입력 데이터가 입력되고, 중간층(HL)의 각 뉴런에는 앞의 층 또는 뒤의 층의 뉴런의 출력 신호가 입력되고, 출력층(OL)의 각 뉴런에는 앞의 층의 뉴런의 출력 신호가 입력된다. 또한 각 뉴런은 앞 뒤의 층의 모든 뉴런과 결합되어도 좋고(전(全)결합), 일부의 뉴런과 결합되어도 좋다. 도 4의 (B)에 뉴런에 의한 연산의 예를 나타내었다. 여기서는 뉴런(N)과, 뉴런(N)에 신호를 출력하는 앞의 층 의 2개의 뉴런을 나타내었다. 뉴런(N)에는 앞의 층의 뉴런의 출력(x1)과 앞의 층의 뉴런의 출력(x2)이 입력된다. 그리고, 뉴런(N)에서, 출력(x1)과 가중치(w1)의 승산 결과(x1w1)와, 출력(x2)과 가중치(w2)의 승산 결 과(x2w2)의 합(x1w1+x2w2)이 계산된 후, 필요에 따라 바이어스(b)가 가산되어, 값(a=x1w1+x2w2+b)이 얻어진다. 그 리고, 값 a는 활성화 함수 h를 사용하여 변환되고, 뉴런(N)으로부터 출력 신호(y=h(a))가 출력된다. 이와 같이, 뉴런에 의한 연산에는, 앞의 층의 뉴런의 출력과 가중치의 곱을 더하는 연산, 즉 적화 연산이 포함 된다(상기 x1w1+x2w2). 이 적화 연산은 프로그램을 사용하여 소프트웨어상에서 수행되어도 좋고, 하드웨어에 의 하여 수행되어도 좋다. 하드웨어에 의하여 적화 연산을 수행하는 경우에는 적화 연산 회로를 사용할 수 있다. 이 적화 연산 회로로서는 디지털 회로를 사용하여도 좋고, 아날로그 회로를 사용하여도 좋다. 적화 연산 회로 에 아날로그 회로를 사용하는 경우, 적화 연산 회로의 회로 규모의 축소, 또는 메모리에 대한 액세스 횟수의 감 소에 의한 처리 속도의 향상 및 소비 전력의 저감을 도모할 수 있다. 적화 연산 회로는, 채널 형성 영역에 실리콘(단결정 실리콘 등)을 포함하는 트랜지스터(이하, Si 트랜지스터라 고도 함)로 구성하여도 좋고 OS 트랜지스터로 구성하여도 좋다. 특히 OS 트랜지스터는 오프 전류가 매우 작기 때문에, 적화 연산 회로의 아날로그 메모리를 구성하는 트랜지스터로서 적합하다. 또한 Si 트랜지스터와 OS 트 랜지스터의 양쪽을 사용하여 적화 연산 회로를 구성하여도 좋다. 아래에서 적화 연산 회로의 기능을 가지는 반 도체 장치의 구성예에 대하여 설명한다. <반도체 장치의 구성예> 도 5에 뉴럴 네트워크의 연산을 수행하는 기능을 가지는 반도체 장치(MAC)의 구성예를 나타내었다. 반도체 장 치(MAC)는 뉴런 간의 결합 강도(가중치)에 대응하는 제 1 데이터와, 입력 데이터에 대응하는 제 2 데이터의 적 화 연산을 수행하는 기능을 가진다. 또한 제 1 데이터 및 제 2 데이터를 각각 아날로그 데이터 또는 멀티레벨 데이터(이산적 데이터)로 할 수 있다. 또한 반도체 장치(MAC)는 적화 연산에 의하여 얻어진 데이터를 활성화 함수를 사용하여 변환하는 기능을 가진다. 반도체 장치(MAC)는 셀 어레이(CA), 전류원 회로(CS), 커런트 미러 회로(CM), 회로(WDD), 회로(WLD), 회로 (CLD), 오프셋 회로(OFST), 및 활성화 함수 회로(ACTV)를 가진다. 셀 어레이(CA)는 복수의 메모리 셀(MC) 및 복수의 메모리 셀(MCref)을 가진다. 도 5에는 셀 어레이(CA)가 m행 n열(m, n은 1 이상의 정수임)의 메모리 셀(MC)(MC[1, 1] 내지 MC[m, n])과, m개의 메모리 셀(MCref)(MCref[1] 내지 MCref[m])을 가지는 구성예를 나타내었다. 메모리 셀(MC)은 제 1 데이터를 저장하는 기능을 가진다. 또 한 메모리 셀(MCref)은 적화 연산에 사용되는 참조 데이터를 저장하는 기능을 가진다. 또한 참조 데이터를 아 날로그 데이터 또는 멀티레벨 데이터로 할 수 있다. 메모리 셀(MC[i, j])(i는 1 이상 m 이하의 정수이고, j는 1 이상 n 이하의 정수임)은 배선(WL[i]), 배선 (RW[i]), 배선(WD[j]), 및 배선(BL[j])과 접속된다. 또한 메모리 셀(MCref[i])은 배선(WL[i]), 배선(RW[i]), 배선(WDref), 배선(BLref)과 접속된다. 여기서 메모리 셀(MC[i, j])과 배선(BL[j]) 간을 흐르는 전류를 IMC[i, j]로 표기하고, 메모리 셀(MCref[i])과 배선(BLref) 간을 흐르는 전류를 IMCref[i]로 표기한다. 메모리 셀(MC) 및 메모리 셀(MCref)의 구체적인 구성예를 도 6에 나타내었다. 도 6에는 대표적인 예로서 메모 리 셀(MC[1, 1], MC[2, 1]) 및 메모리 셀(MCref[1], MCref[2])을 나타내었지만, 다른 메모리 셀(MC) 및 메모리 셀(MCref)에도 같은 구성을 사용할 수 있다. 메모리 셀(MC) 및 메모리 셀(MCref)은 각각 트랜지스터(Tr11, Tr12), 용량 소자(C11)를 가진다. 여기서는, 트랜지스터(Tr11) 및 트랜지스터(Tr12)가 n채널형 트랜지스터인 경우에 대하여 설명한다. 메모리 셀(MC)에 있어서, 트랜지스터(Tr11)의 게이트는 배선(WL)과 접속되고, 소스 및 드레인 중 한쪽은 트랜지 스터(Tr12)의 게이트 및 용량 소자(C11)의 제 1 전극과 접속되고, 소스 및 드레인 중 다른 쪽은 배선(WD)과 접 속되어 있다. 트랜지스터(Tr12)의 소스 및 드레인 중 한쪽은 배선(BL)과 접속되고, 소스 및 드레인 중 다른 쪽 은 배선(VR)과 접속되어 있다. 용량 소자(C11)의 제 2 전극은 배선(RW)과 접속된다. 배선(VR)은 소정의 전위를 공급하는 기능을 가지는 배선이다. 여기서는 일례로서 배선(VR)으로부터 저전원 전위(접지 전위 등)가 공급 되는 경우에 대하여 설명한다. 트랜지스터(Tr11)의 소스 및 드레인 중 한쪽, 트랜지스터(Tr12)의 게이트, 및 용량 소자(C11)의 제 1 전극과 접 속된 노드를 노드(NM)로 한다. 또한 메모리 셀(MC[1, 1], MC[2, 1])의 노드(NM)를 각각 노드(NM[1, 1], NM[2, 1])로 표기한다. 메모리 셀(MCref)도 메모리 셀(MC)과 같은 구성을 가진다. 다만 메모리 셀(MCref)은 배선(WD) 대신에 배선 (WDref)과 접속되고, 배선(BL) 대신에 배선(BLref)과 접속된다. 또한 메모리 셀(MCref[1], MCref[2])에서, 트 랜지스터(Tr11)의 소스 및 드레인 중 한쪽, 트랜지스터(Tr12)의 게이트, 및 용량 소자(C11)의 제 1 전극과 접속 된 노드를 각각 노드(NMref[1], NMref[2])로 표기한다. 노드(NM) 및 노드(NMref)는 각각 메모리 셀(MC) 및 메모리 셀(MCref)의 유지 노드로서 기능한다. 노드(NM)에는 제 1 데이터가 유지되고, 노드(NMref)에는 참조 데이터가 유지된다. 또한 배선(BL[1])으로부터 메모리 셀 (MC[1, 1], MC[2, 1])의 트랜지스터(Tr12)에는 각각 전류(IMC[1, 1], IMC[2, 1])가 흐른다. 또한 배선(BLref)으로부 터 메모리 셀(MCref[1], MCref[2])의 트랜지스터(Tr12)에는 각각 전류(IMCref[1], IMCref[2])가 흐른다. 트랜지스터(Tr11)는 노드(NM) 또는 노드(NMref)의 전위를 유지하는 기능을 가지기 때문에, 트랜지스터(Tr11)의 오프 전류는 작은 것이 바람직하다. 그래서 트랜지스터(Tr11)로서 오프 전류가 매우 작은 OS 트랜지스터를 사 용하는 것이 바람직하다. 이로써, 노드(NM) 또는 노드(NMref)의 전위의 변동을 억제할 수 있어, 연산 정밀도의 향상을 도모할 수 있다. 또한 노드(NM) 또는 노드(NMref)의 전위를 리프레시하는 동작의 빈도를 낮출 수 있어 소비 전력을 삭감할 수 있다. 트랜지스터(Tr12)는 특별히 한정되지 않고, 예를 들어 Si 트랜지스터 또는 OS 트랜지스터 등을 사용할 수 있다. 트랜지스터(Tr12)에 OS 트랜지스터를 사용하는 경우, 트랜지스터(Tr11)와 같은 제조 장치를 사용하여 트랜지스 터(Tr12)를 제작할 수 있어 제조 비용을 낮출 수 있다. 또한 트랜지스터(Tr12)는 n채널형이어도 좋고 p채널형 이어도 좋다. 전류원 회로(CS)는 배선(BL[1] 내지 BL[n]) 및 배선(BLref)과 접속되어 있다. 전류원 회로(CS)는 배선(BL[1] 내지 BL[n]) 및 배선(BLref)에 전류를 공급하는 기능을 가진다. 또한 배선(BL[1] 내지 BL[n])에 공급되는 전류 값과 배선(BLref)에 공급되는 전류값은 상이하여도 좋다. 여기서는, 전류원 회로(CS)로부터 배선(BL[1] 내지 BL[n])에 공급되는 전류를 IC로 표기하고, 전류원 회로(CS)로부터 배선(BLref)에 공급되는 전류를 ICref로 표기한 다. 커런트 미러 회로(CM)는 배선(IL[1] 내지 IL[n]) 및 배선(ILref)을 가진다. 배선(IL[1] 내지 IL[n])은 각각 배선(BL[1] 내지 BL[n])과 접속되고, 배선(ILref)은 배선(BLref)과 접속되어 있다. 여기서는, 배선(IL[1] 내 지 IL[n])과 배선(BL[1] 내지 BL[n])의 접속 부분을 노드(NP[1] 내지 NP[n])로 표기한다. 또한 배선(ILref)과 배선(BLref)의 접속 부분을 노드(NPref)로 표기한다. 커런트 미러 회로(CM)는 노드(NPref)의 전위에 따른 전류(ICM)를 배선(ILref)에 흘리는 기능과 이 전류(ICM)를 배선(IL[1] 내지 IL[n])에도 흘리는 기능을 가진다. 도 5에는 배선(BLref)으로부터 배선(ILref)으로 전류(IC M)가 배출되고, 배선(BL[1] 내지 BL[n])으로부터 배선(IL[1] 내지 IL[n])으로 전류(ICM)가 배출되는 예를 나타내 었다. 또한 커런트 미러 회로(CM)로부터 배선(BL[1] 내지 BL[n])을 통하여 셀 어레이(CA)로 흐르는 전류를 IB[1] 내지 IB[n]으로 표기한다. 또한 커런트 미러 회로(CM)로부터 배선(BLref)을 통하여 셀 어레이(CA)로 흐 르는 전류를 IBref로 표기한다. 회로(WDD)는 배선(WD[1] 내지 WD[n]) 및 배선(WDref)과 접속되어 있다. 회로(WDD)는 메모리 셀(MC)에 저장되 는 제 1 데이터에 대응하는 전위를 배선(WD[1] 내지 WD[n])에 공급하는 기능을 가진다. 또한 회로(WDD)는 메모 리 셀(MCref)에 저장되는 참조 데이터에 대응하는 전위를 배선(WDref)에 공급하는 기능을 가진다. 회로(WLD)는 배선(WL[1] 내지 WL[m])과 접속되어 있다. 회로(WLD)는 데이터의 기록을 수행하는 메모리 셀(MC) 또는 메모리 셀(MCref)을 선택하기 위한 신호를 배선(WL[1] 내지 WL[m])에 공급하는 기능을 가진다. 회로(CLD)는 배선 (RW[1] 내지 RW[m])과 접속되어 있다. 회로(CLD)는 제 2 데이터에 대응하는 전위를 배선(RW[1] 내지 RW[m])에 공급하는 기능을 가진다.오프셋 회로(OFST)는 배선(BL[1] 내지 BL[n]) 및 배선(OL[1] 내지 OL[n])과 접속되어 있다. 오프셋 회로 (OFST)는 배선(BL[1] 내지 BL[n])으로부터 오프셋 회로(OFST)로 흐르는 전류량 및/또는 배선(BL[1] 내지 BL[n])으로부터 오프셋 회로(OFST)로 흐르는 전류의 변화량을 검출하는 기능을 가진다. 또한 오프셋 회로 (OFST)는 검출 결과를 배선(OL[1] 내지 OL[n])에 출력하는 기능을 가진다. 또한 오프셋 회로(OFST)는 검출 결 과에 대응하는 전류를 배선(OL)에 출력하여도 좋고, 검출 결과에 대응하는 전류를 전압으로 변환하여 배선(OL) 에 출력하여도 좋다. 셀 어레이(CA)와 오프셋 회로(OFST) 사이를 흐르는 전류를 Iα[1] 내지 Iα[n]으로 표기한 다. 오프셋 회로(OFST)의 구성예를 도 7에 나타내었다. 도 7에 나타낸 오프셋 회로(OFST)는 회로(OC[1] 내지 OC[n])를 가진다. 또한 회로(OC[1] 내지 OC[n])는 각각, 트랜지스터(Tr21), 트랜지스터(Tr22), 트랜지스터 (Tr23), 용량 소자(C21), 및 저항 소자(R1)를 가진다. 각 소자의 접속 관계는 도 7에 나타낸 바와 같다. 또한 용량 소자(C21)의 제 1 전극 및 저항 소자(R1)의 제 1 단자와 접속된 노드를 노드(Na)로 한다. 또한 용량 소자 (C21)의 제 2 전극, 트랜지스터(Tr21)의 소스 및 드레인 중 한쪽, 및 트랜지스터(Tr22)의 게이트와 접속된 노드 를 노드(Nb)로 한다. 배선(VrefL)은 전위(Vref)를 공급하는 기능을 가지고, 배선(VaL)은 전위(Va)를 공급하는 기능을 가지고, 배선 (VbL)은 전위(Vb)를 공급하는 기능을 가진다. 또한 배선(VDDL)은 전위(VDD)를 공급하는 기능을 가지고, 배선 (VSSL)은 전위(VSS)를 공급하는 기능을 가진다. 여기서는 전위(VDD)가 고전원 전위이고, 전위(VSS)가 저전원 전위인 경우에 대하여 설명한다. 또한 배선(RST)은 트랜지스터(Tr21)의 도통 상태를 제어하기 위한 전위를 공 급하는 기능을 가진다. 트랜지스터(Tr22), 트랜지스터(Tr23), 배선(VDDL), 배선(VSSL), 및 배선(VbL)으로 소스 폴로어 회로가 구성된다. 다음으로 회로(OC[1] 내지 OC[n])의 동작예에 대하여 설명한다. 또한 여기서는 대표적인 예로서 회로(OC[1])의 동작예에 대하여 설명하지만, 회로(OC[2] 내지 OC[n])도 마찬가지로 동작시킬 수 있다. 우선, 배선(BL[1])을 제 1 전류가 흐르면 노드(Na)의 전위는 제 1 전류와 저항 소자(R1)의 저항값에 대응하는 전위가 된다. 또한 이 때 트랜지스터(Tr21)는 온 상태이므로 노드(Nb)에 전위(Va)가 공급된다. 그 후, 트랜지스터(Tr21)는 오프 상태 가 된다. 다음으로 배선(BL[1])을 제 2 전류가 흐르면 노드(Na)의 전위는 제 2 전류와 저항 소자(R1)의 저항값에 대응하 는 전위로 변화한다. 이때 트랜지스터(Tr21)는 오프 상태이고 노드(Nb)는 부유 상태이므로, 노드(Na)의 전위 변화에 따라 노드(Nb)의 전위는 용량 결합에 의하여 변화한다. 여기서 노드(Na)의 전위의 변화를 ΔVNa로 하고, 용량 결합 계수를 1로 하면, 노드(Nb)의 전위는 Va+ΔVNa가 된다. 그리고 트랜지스터(Tr22)의 문턱 전압을 Vth 로 하면, 배선(OL[1])으로부터 전위(Va+ΔVNa-Vth)가 출력된다. 여기서, Va=Vth로 함으로써 배선(OL[1])으로부터 전위(ΔVNa)를 출력할 수 있다. 전위(ΔVNa)는 제 1 전류로부터 제 2 전류로의 변화량, 저항 소자(R1)의 저항값, 및 전위(Vref)에 따라 결정된다. 여기서, 저항 소자(R1)의 저항값 및 전위(Vref)는 이미 알려져 있기 때문에 배선(BL)을 흐르는 전류 의 변화량을 전위(ΔVNa)로부터 구할 수 있다. 상술한 바와 같이 오프셋 회로(OFST)에 의하여 검출된 전류량 및/또는 전류의 변화량에 대응하는 신호는 배선 (OL[1] 내지 OL[n])을 통하여 활성화 함수 회로(ACTV)에 입력된다. 활성화 함수 회로(ACTV)는 배선(OL[1] 내지 OL[n]) 및 배선(NIL[1] 내지 NIL[n])과 접속되어 있다. 활성화 함 수 회로(ACTV)는 오프셋 회로(OFST)로부터 입력된 신호를 미리 정의된 활성화 함수에 따라 변환하기 위한 연산 을 수행하는 기능을 가진다. 활성화 함수로서는 예를 들어 시그모이드 함수, tanh 함수, softmax 함수, ReLU 함수, 문턱값 함수 등을 사용할 수 있다. 활성화 함수 회로(ACTV)에 의하여 변환된 신호는 출력 데이터로서 배 선(NIL[1] 내지 NIL[n])에 출력된다. <반도체 장치의 동작예> 상기 반도체 장치(MAC)를 사용하여 제 1 데이터와 제 2 데이터의 적화 연산을 수행할 수 있다. 이하에서 적화 연산을 수행할 때의 반도체 장치(MAC)의 동작예를 설명한다. 도 8에 반도체 장치(MAC)의 동작예의 타이밍 차트를 나타내었다. 도 8에는, 도 6에서의 배선(WL[1]), 배선 (WL[2]), 배선(WD[1]), 배선(WDref), 노드(NM[1, 1]), 노드(NM[2, 1]), 노드(NMref[1]), 노드(NMref[2]), 배선(RW[1]), 및 배선(RW[2])의 전위의 추이(推移)와, 전류(IB[1]-Iα[1]) 및 전류(IBref)의 값의 추이를 나타내었다. 전류(IB[1]-Iα[1])는 배선(BL[1])으로부터 메모리 셀(MC[1, 1], MC[2, 1])로 흐르는 전류의 합계에 상당한다. 또한 여기서는 대표적인 예로서 도 6에 나타낸 메모리 셀(MC[1, 1], MC[2, 1]) 및 메모리 셀(MCref[1], MCref[2])에 주목하여 동작을 설명하지만, 다른 메모리 셀(MC) 및 메모리 셀(MCref)도 마찬가지로 동작시킬 수 있다. [제 1 데이터의 저장] 우선, 시각 T01 내지 시각 T02에서, 배선(WL[1])의 전위가 하이(High) 레벨이 되고, 배선(WD[1])의 전위가 접지 전위(GND)보다 VPR-VW[1, 1]만큼 큰 전위가 되고, 배선(WDref)의 전위가 접지 전위보다 VPR만큼 큰 전위가 된다. 또한 배선(RW[1]) 및 배선(RW[2])의 전위가 기준 전위(REFP)가 된다. 또한 전위(VW[1, 1])는 메모리 셀(MC[1, 1])에 저장되는 제 1 데이터에 대응하는 전위이다. 또한 전위(VPR)는 참조 데이터에 대응하는 전위이다. 이로 써, 메모리 셀(MC[1, 1]) 및 메모리 셀(MCref[1])이 가지는 트랜지스터(Tr11)가 온 상태가 되고, 노드(NM[1, 1])의 전위가 VPR-VW[1, 1]가 되고, 노드(NMref[1])의 전위가 VPR가 된다. 이때 배선(BL[1])으로부터 메모리 셀(MC[1, 1])의 트랜지스터(Tr12)로 흐르는 전류(IMC[1, 1], 0)는 다음 식으로 나 타낼 수 있다. 여기서, k는 트랜지스터(Tr12)의 채널 길이, 채널 폭, 이동도, 및 게이트 절연막의 용량 등으로 결정되는 정수(定數)이다. 또한 Vth는 트랜지스터(Tr12)의 문턱 전압이다. IMC[1, 1], 0=k(VPR-VW[1, 1]-Vth)2 (E1) 또한 배선(BLref)으로부터 메모리 셀(MCref[1])의 트랜지스터(Tr12)로 흐르는 전류(IMCref[1], 0)는 다음 식으로 나 타낼 수 있다. IMCref[1], 0=k(VPR-Vth)2 (E2) 다음으로, 시각 T02 내지 시각 T03에서, 배선(WL[1])의 전위가 로(Low) 레벨이 된다. 이로써, 메모리 셀(MC[1, 1]) 및 메모리 셀(MCref[1])이 가지는 트랜지스터(Tr11)가 오프 상태가 되고, 노드(NM[1, 1]) 및 노드 (NMref[1])의 전위가 유지된다. 또한 상술한 바와 같이 트랜지스터(Tr11)로서 OS 트랜지스터를 사용하는 것이 바람직하다. 이로써, 트랜지스터 (Tr11)의 누설 전류를 억제할 수 있어, 노드(NM[1, 1]) 및 노드(NMref[1])의 전위를 정확히 유지할 수 있다. 다음으로, 시각 T03 내지 시각 T04에서 배선(WL[2])의 전위가 하이 레벨이 되고, 배선(WD[1])의 전위가 접지 전 위보다 VPR-VW[2, 1]만큼 큰 전위가 되고, 배선(WDref)의 전위가 접지 전위보다 VPR만큼 큰 전위가 된다. 또한 전 위(VW[2, 1])는 메모리 셀(MC[2, 1])에 저장되는 제 1 데이터에 대응하는 전위이다. 이로써, 메모리 셀(MC[2, 1]) 및 메모리 셀(MCref[2])이 가지는 트랜지스터(Tr11)가 온 상태가 되고, 노드(NM[2, 1])의 전위가 VPR-VW[2, 1]이 되고, 노드(NMref[2])의 전위가 VPR가 된다. 이때 배선(BL[1])으로부터 메모리 셀(MC[2, 1])의 트랜지스터(Tr12)로 흐르는 전류(IMC[2, 1], 0)는 다음 식으로 나 타낼 수 있다. IMC[2, 1], 0=k(VPR-VW[2, 1]-Vth)2 (E3) 또한 배선(BLref)으로부터 메모리 셀(MCref[2])의 트랜지스터(Tr12)로 흐르는 전류(IMCref[2], 0)는 다음 식으로 나 타낼 수 있다. IMCref[2], 0=k(VPR-Vth)2 (E4) 다음으로, 시각 T04 내지 시각 T05에서 배선(WL[2])의 전위가 로 레벨이 된다. 이로써, 메모리 셀(MC[2, 1]) 및 메모리 셀(MCref[2])이 가지는 트랜지스터(Tr11)가 오프 상태가 되고, 노드(NM[2, 1]) 및 노드(NMref[2])의 전위가 유지된다.이상의 동작에 의하여 메모리 셀(MC[1, 1], MC[2, 1])에 제 1 데이터가 저장되고, 메모리 셀(MCref[1], MCref[2])에 참조 데이터가 저장된다. 여기서, 시각 T04 내지 시각 T05에서 배선(BL[1]) 및 배선(BLref)을 흐르는 전류에 대하여 생각한다. 배선 (BLref)에는 전류원 회로(CS)로부터 전류가 공급된다. 또한 배선(BLref)을 흐르는 전류는 커런트 미러 회로 (CM), 메모리 셀(MCref[1], MCref[2])에 배출된다. 전류원 회로(CS)로부터 배선(BLref)에 공급되는 전류를 ICref로 하고, 배선(BLref)으로부터 커런트 미러 회로(CM)에 배출되는 전류를 ICM, 0으로 하면, 다음 식이 성립된 다. ICref-ICM, 0=IMCref[1], 0+IMCref[2], 0 (E5) 배선(BL[1])에는 전류원 회로(CS)로부터의 전류가 공급된다. 또한 배선(BL[1])을 흐르는 전류는 커런트 미러 회로(CM), 메모리 셀(MC[1, 1], MC[2, 1])에 배출된다. 또한 배선(BL[1])으로부터 오프셋 회로(OFST)로 전류 가 흐른다. 전류원 회로(CS)로부터 배선(BL[1])에 공급되는 전류를 IC, 0으로 하고, 배선(BL[1])으로부터 오프 셋 회로(OFST)로 흐르는 전류를 Iα, 0으로 하면, 다음 식이 성립된다. IC-ICM, 0=IMC[1, 1], 0+IMC[2, 1], 0+Iα, 0 (E6) [제 1 데이터와 제 2 데이터의 적화 연산] 다음으로, 시각 T05 내지 시각 T06에서 배선(RW[1])의 전위가 기준 전위보다 VX[1]만큼 큰 전위가 된다. 이때, 메모리 셀(MC[1, 1]) 및 메모리 셀(MCref[1]) 각각의 용량 소자(C11)에는 전위(VX[1])가 공급되어, 용량 결합에 의하여 트랜지스터(Tr12)의 게이트의 전위가 상승된다. 또한 전위(VX[1])는 메모리 셀(MC[1, 1]) 및 메모리 셀 (MCref[1])에 공급되는 제 2 데이터에 대응하는 전위이다. 트랜지스터(Tr12)의 게이트 전위의 변화량은 배선(RW)의 전위의 변화량과, 메모리 셀의 구성에 따라 결정되는 용량 결합 계수를 곱한 값이다. 용량 결합 계수는 용량 소자(C11)의 용량, 트랜지스터(Tr12)의 게이트 용량, 및 기생 용량 등에 의하여 산출된다. 이하에서는 편의상 배선(RW)의 전위의 변화량과 트랜지스터(Tr12)의 게이 트 전위의 변화량이 같은 것으로, 즉 용량 결합 계수가 1인 것으로 하여 설명한다. 실제로는 용량 결합 계수를 고려하여 전위(VX)를 결정하면 좋다. 메모리 셀(MC[1, 1]) 및 메모리 셀(MCref[1])의 용량 소자(C11)에 전위(VX[1])가 공급되면, 노드(NM[1, 1]) 및 노드(NMref[1])의 전위가 각각 VX[1]만큼 상승된다. 여기서, 시각 T05 내지 시각 T06에서 배선(BL[1])으로부터 메모리 셀(MC[1, 1])의 트랜지스터(Tr12)로 흐르는 전류(IMC[1, 1], 1)는 다음 식으로 나타낼 수 있다. IMC[1, 1], 1=k(VPR-VW[1, 1]+VX[1]-Vth)2 (E7) 즉 배선(RW[1])에 전위(VX[1])를 공급함으로써 배선(BL[1])으로부터 메모리 셀(MC[1, 1])의 트랜지스터(Tr12)로 흐르는 전류는 ΔIMC[1, 1]=IMC[1, 1], 1-IMC[1, 1], 0만큼 증가한다. 또한 시각 T05 내지 시각 T06에서 배선(BLref)으로부터 메모리 셀(MCref[1])의 트랜지스터(Tr12)로 흐르는 전류 (IMCref[1], 1)는 다음 식으로 나타낼 수 있다. IMCref[1], 1=k(VPR+VX[1]-Vth)2 (E8) 즉 배선(RW[1])에 전위(VX[1])를 공급함으로써 배선(BLref)으로부터 메모리 셀(MCref[1])의 트랜지스터(Tr12)로 흐르는 전류는 ΔIMCref[1]=IMCref[1], 1-IMCref[1], 0만큼 증가한다. 또한 배선(BL[1]) 및 배선(BLref)을 흐르는 전류에 대하여 생각한다. 배선(BLref)에는 전류원 회로(CS)로부터 전류(ICref)가 공급된다. 또한 배선(BLref)을 흐르는 전류는 커런트 미러 회로(CM), 메모리 셀(MCref[1], MCref[2])에 배출된다. 배선(BLref)으로부터 커런트 미러 회로(CM)에 배출되는 전류를 ICM, 1로 하면 다음 식이성립된다. ICref-ICM, 1=IMCref[1], 1+IMCref[2], 0 (E9) 배선(BL[1])에는 전류원 회로(CS)로부터 전류(IC)가 공급된다. 또한 배선(BL[1])을 흐르는 전류는 커런트 미러 회로(CM), 메모리 셀(MC[1, 1], MC[2, 1])에 배출된다. 또한 배선(BL[1])으로부터 오프셋 회로(OFST)로 전류 가 흐른다. 배선(BL[1])으로부터 오프셋 회로(OFST)로 흐르는 전류를 Iα, 1로 하면 다음 식이 성립된다. IC-ICM, 1=IMC[1, 1], 1+IMC[2, 1], 1+Iα, 1 (E10) 그리고, 식(E1) 내지 식(E10)에 의거하여, 전류(Iα, 0)와 전류(Iα, 1)의 차(차분 전류(ΔIα))는 다음 식으로 나 타낼 수 있다. ΔIα=Iα, 1-Iα, 0=2kVW[1, 1]VX[1] (E11) 이와 같이, 차분 전류(ΔIα)는 전위(VW[1, 1])와 전위(VX[1])의 곱에 대응하는 값이다. 그 후, 시각 T06 내지 시각 T07에서, 배선(RW[1])의 전위는 기준 전위가 되고, 노드(NM[1, 1]) 및 노드 (NMref[1])의 전위는 시각 T04 내지 시각 T05에서의 전위와 같게 된다. 다음으로, 시각 T07 내지 시각 T08에서, 배선(RW[1])의 전위가 기준 전위보다 VX[1]만큼 큰 전위가 되고, 배선 (RW[2])의 전위가 기준 전위보다 VX[2]만큼 큰 전위가 된다. 이로써, 메모리 셀(MC[1, 1]) 및 메모리 셀 (MCref[1]) 각각의 용량 소자(C11)에 전위(VX[1])가 공급되고, 용량 결합에 의하여 노드(NM[1, 1]) 및 노드 (NMref[1])의 전위가 각각 VX[1]만큼 상승된다. 또한 메모리 셀(MC[2, 1]) 및 메모리 셀(MCref[2]) 각각의 용량 소자(C11)에 전위(VX[2])가 공급되고, 용량 결합에 의하여 노드(NM[2, 1]) 및 노드(NMref[2])의 전위가 각각 VX[2]만큼 상승된다. 여기서, 시각 T07 내지 시각 T08에서, 배선(BL[1])으로부터 메모리 셀(MC[2, 1])의 트랜지스터(Tr12)로 흐르는 전류(IMC[2, 1], 1)는 다음의 식으로 나타낼 수 있다. IMC[2, 1], 1=k(VPR-VW[2, 1]+VX[2]-Vth)2 (E12) 즉 배선(RW[2])에 전위(VX[2])를 공급함으로써 배선(BL[1])으로부터 메모리 셀(MC[2, 1])의 트랜지스터(Tr12)로 흐르는 전류는 ΔIMC[2, 1]=IMC[2, 1], 1-IMC[2, 1], 0만큼 증가한다. 또한 시각 T07 내지 시각 T08에서 배선(BLref)으로부터 메모리 셀(MCref[2])의 트랜지스터(Tr12)로 흐르는 전류 (IMCref[2], 1)는 다음 식으로 나타낼 수 있다. IMCref[2], 1=k(VPR+VX[2]-Vth)2 (E13) 즉 배선(RW[2])에 전위(VX[2])를 공급함으로써 배선(BLref)으로부터 메모리 셀(MCref[2])의 트랜지스터(Tr12)로 흐르는 전류는 ΔIMCref[2]=IMCref[2], 1-IMCref[2], 0만큼 증가한다. 또한 배선(BL[1]) 및 배선(BLref)에 흐르는 전류에 대하여 생각한다. 배선(BLref)에는 전류원 회로(CS)로부터 전류(ICref)가 공급된다. 또한 배선(BLref)을 흐르는 전류는 커런트 미러 회로(CM), 메모리 셀(MCref[1], MCref[2])에 배출된다. 배선(BLref)으로부터 커런트 미러 회로(CM)에 배출되는 전류를 ICM, 2로 하면 다음 식이 성립된다. ICref-ICM, 2=IMCref[1], 1+IMCref[2], 1 (E14) 배선(BL[1])에는 전류원 회로(CS)로부터 전류(IC)가 공급된다. 또한 배선(BL[1])을 흐르는 전류는 커런트 미러 회로(CM), 메모리 셀(MC[1, 1], MC[2, 1])에 배출된다. 또한 배선(BL[1])으로부터 오프셋 회로(OFST)에도 전 류가 흐른다. 배선(BL[1])으로부터 오프셋 회로(OFST)로 흐르는 전류를 Iα, 2로 하면 다음 식이 성립된다.IC-ICM, 2=IMC[1, 1], 1+IMC[2, 1], 1+Iα, 2 (E15) 그리고, 식(E1) 내지 식(E8) 및 식(E12) 내지 식(E15)에 의거하여, 전류(Iα, 0)와 전류(Iα, 2)의 차(차분 전류 (ΔIα))를 다음 식으로 나타낼 수 있다. ΔIα=Iα, 2-Iα, 0=2k(VW[1, 1]VX[1]+VW[2, 1]VX[2]) (E16) 상술한 바와 같이, 차분 전류(ΔIα)는 전위(VW[1, 1])와 전위(VX[1])의 곱과, 전위(VW[2, 1])와 전위(VX[2])의 곱의 합 에 대응하는 값이 된다. 그 후, 시각 T08 내지 시각 T09에서, 배선(RW[1], RW[2])의 전위는 기준 전위가 되고, 노드(NM[1, 1], NM[2, 1]) 및 노드(NMref[1], NMref[2])의 전위는 시각 T04 내지 시각 T05에서의 전위와 같게 된다. 식(E11) 및 식(E16)에 나타낸 바와 같이, 오프셋 회로(OFST)에 입력되는 차분 전류(ΔIα)는 제 1 데이터(가중치)에 대응하는 전위(VW)와 제 2 데이터(입력 데이터)에 대응하는 전위(VX)의 곱의 항을 가지는 식으 로부터 산출할 수 있다. 즉, 차분 전류(ΔIα)를 오프셋 회로(OFST)에 의하여 계측함으로써 제 1 데이터와 제 2 데이터의 적화 연산의 결과를 얻을 수 있다. 또한 위에서는 특히 메모리 셀(MC[1, 1], MC[2, 1]) 및 메모리 셀(MCref[1], MCref[2])에 주목하였지만, 메모 리 셀(MC) 및 메모리 셀(MCref)의 개수는 임의로 설정할 수 있다. 메모리 셀(MC) 및 메모리 셀(MCref)의 행의 개수 m을 임의의 개수 i로 한 경우의 차분 전류(ΔIα)는 다음 식으로 나타낼 수 있다. ΔIα=2kΣiVW[i, 1]VX[i] (E17) 또한 메모리 셀(MC) 및 메모리 셀(MCref)의 열의 개수 n을 늘림으로써, 병렬로 실행되는 적화 연산의 개수를 늘 릴 수 있다. 상술한 바와 같이, 반도체 장치(MAC)를 사용함으로써 제 1 데이터와 제 2 데이터의 적화 연산을 수행할 수 있다. 또한 메모리 셀(MC) 및 메모리 셀(MCref)로서 도 6에 나타낸 구성을 사용함으로써, 적은 트랜지스터 수 로 적화 연산 회로를 구성할 수 있다. 그러므로, 반도체 장치(MAC)의 회로 규모의 축소를 도모할 수 있다. 반도체 장치(MAC)를 뉴럴 네트워크에서의 연산에 사용하는 경우, 메모리 셀(MC)의 행의 개수 m을 하나의 뉴런에 공급되는 입력 데이터의 개수에 대응시키고, 메모리 셀(MC)의 열의 개수 n을 뉴런의 개수에 대응시킬 수 있다. 예를 들어, 도 4의 (A)에 나타낸 중간층(HL)에서 반도체 장치(MAC)를 사용한 적화 연산을 수행하는 경우에 대하 여 생각한다. 이때 메모리 셀(MC)의 행의 개수 m을 입력층(IL)으로부터 공급되는 입력 데이터의 개수(입력층 (IL)의 뉴런의 개수)로 설정하고, 메모리 셀(MC)의 열의 개수 n을 중간층(HL)의 뉴런의 개수로 설정할 수 있다. 또한 반도체 장치(MAC)를 적용하는 뉴럴 네트워크의 구조는 특별히 한정되지 않는다. 예를 들어 반도체 장치 (MAC)는 컨볼루셔널 뉴럴 네트워크(CNN), 순환 뉴럴 네트워크(RNN), 자기 부호화기, 볼츠만 머신(제한 볼츠만 머신을 포함함) 등에 사용할 수도 있다. 상술한 바와 같이, 반도체 장치(MAC)를 사용함으로써 뉴럴 네트워크의 적화 연산을 수행할 수 있다. 또한 셀 어레이(CA)에 도 6에 나타낸 메모리 셀(MC) 및 메모리 셀(MCref)을 사용함으로써, 연산 정밀도의 향상, 소비 전 력의 삭감, 또는 회로 규모의 축소를 도모할 수 있는 집적 회로를 제공할 수 있다. 본 실시형태는 다른 실시형태 등과 적절히 조합할 수 있다."}
{"patent_id": "10-2021-7028985", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 배선 레이아웃 설계 시스템의 구성예를 나타낸 도면이다. 도 2는 배선 레이아웃의 설계 방법예를 나타낸 도면이다. 도 3은 배선 레이아웃의 설계 방법예를 나타낸 도면이다. 도 4의 (A), (B)는 뉴럴 네트워크의 구성예를 나타낸 도면이다. 도 5는 반도체 장치의 구성예를 나타낸 도면이다. 도 6은 메모리 셀의 구성예를 나타낸 도면이다. 도 7은 오프셋 회로의 구성예를 나타낸 도면이다. 도 8은 타이밍 차트이다."}
