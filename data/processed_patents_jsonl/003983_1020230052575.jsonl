{"patent_id": "10-2023-0052575", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0156082", "출원번호": "10-2023-0052575", "발명의 명칭": "구역별 매대 모니터링 방법 및 이를 이용한 시스템", "출원인": "주식회사 신세계아이앤씨", "발명자": "김성용"}}
{"patent_id": "10-2023-0052575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "매대를 촬영하는 카메라; 및상기 카메라로부터 획득한 데이터에 기초하여 ROG(RealOGram)를 생성하고, 생성한 ROG와 미리 저장된POG(PlanOGram)를 비교하여 매대 현황을 분석하는 적어도 하나 이상의 프로세서를 포함하는매대 모니터링 시스템."}
{"patent_id": "10-2023-0052575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 적어도 하나 이상의 프로세서는,상기 카메라로부터 획득한 레퍼런스 이미지 및 제1 이미지에 기초하여 상기 제1 이미지의 픽셀 당 상태 변화 확률을 산출하고,상기 제1 이미지의 상태 변화 확률에 기초하여 제1 방해 영역을 설정하는매대 모니터링 시스템."}
{"patent_id": "10-2023-0052575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 상태 변화 확률은 인공지능 모델에 의해 산출되고,상기 인공지능 모델은 상기 매대를 가리는 방해물을 방해 요소로 고려하도록 학습된매대 모니터링 시스템."}
{"patent_id": "10-2023-0052575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,상기 인공지능 모델은 상품 진열 변화, 판촉물 변화, 조명 변화 또는 촬영 위치 변화는 방해 요소로 고려하지않도록 학습된매대 모니터링 시스템."}
{"patent_id": "10-2023-0052575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제2항에 있어서,상기 적어도 하나 이상의 프로세서는,상기 제1 이미지에서 상기 제1 방해 영역을 제외한 영역인 제1 무방해 영역을 설정하고,상기 제1 무방해 영역에 기초하여 제1 ROG를 생성하는공개특허 10-2024-0156082-3-매대 모니터링 시스템."}
{"patent_id": "10-2023-0052575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5항에 있어서,상기 적어도 하나 이상의 프로세서는,상기 레퍼런스 이미지 및 상기 카메라로부터 획득한 제2 이미지에 기초하여 상기 제2 이미지의 픽셀 당 상태 변화 확률을 산출하고,상기 제2 이미지의 상태 변화 확률에 기초하여 제2 방해 영역 및 제2 무방해 영역을 설정하고,상기 제2 무방해 영역에 기초하여 제2 ROG를 생성하는매대 모니터링 시스템."}
{"patent_id": "10-2023-0052575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서,상기 적어도 하나 이상의 프로세서는,상기 제1 ROG 및 상기 제2 ROG를 병합하여 최종 ROG를 생성하고,상기 제1 방해 영역 및 상기 제2 무방해 영역은 적어도 일부가 오버랩되는매대 모니터링 시스템."}
{"patent_id": "10-2023-0052575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제5항에 있어서,상기 적어도 하나 이상의 프로세서는,상기 레퍼런스 이미지로부터 수평 라인 및 수직 라인을 검출하고,상기 수평 라인 및 수직 라인의 개수와 길이에 기초하여 매대 타입을 결정하는매대 모니터링 시스템."}
{"patent_id": "10-2023-0052575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에 있어서,상기 적어도 하나 이상의 프로세서는,상기 제1 무방해 영역의 상품 및 전자 가격 표시기를 검출하고,결정된 매대 타입 및 검출 결과를 이용하여 매대에서의 위치, 상품 분류, 바코드, 상품명 및 개수를 포함하는제1 ROG를 생성하는매대 모니터링 시스템."}
{"patent_id": "10-2023-0052575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제7항에 있어서,공개특허 10-2024-0156082-4-상기 적어도 하나 이상의 프로세서는,상기 최종 ROG 및 상기 POG에 기초하여 매대 변화 데이터를 생성하고,상기 매대 변화 데이터를 관리자 단말기로 전송하는매대 모니터링 시스템."}
{"patent_id": "10-2023-0052575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제10항에 있어서,상기 적어도 하나 이상의 프로세서는,상기 관리자 단말기로부터 변화 승인 신호를 수신한 경우, 상기 매대 변화 데이터에 기초하여 상기 POG를 수정하는매대 모니터링 시스템."}
{"patent_id": "10-2023-0052575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제2항에 있어서,상기 적어도 하나 이상의 프로세서는,특징점 추출 알고리즘을 이용하여 상기 제1 이미지로부터 방해물을 검출하고,검출된 방해물에 대응되는 픽셀들의 상태 변화 확률을 산출함으로써 상기 제1 방해 영역을 설정하는매대 모니터링 시스템."}
{"patent_id": "10-2023-0052575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제2항에 있어서,상기 적어도 하나 이상의 프로세서는,상기 제1 방해 영역의 지속 시간 및 상기 제1 방해 영역에 대응되는 매대의 위치에 기초하여 관심 상품 및 관심도를 판단하는매대 모니터링 시스템."}
{"patent_id": "10-2023-0052575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "적어도 하나 이상의 프로세서에 의해 수행되는 매대 모니터링 방법에 있어서,카메라로부터 레퍼런스 이미지, 제1 이미지 및 제2 이미지를 획득하는 단계;상기 레퍼런스 이미지 및 상기 제1 이미지에 기초하여 상기 제1 이미지의 픽셀 당 상태 변화 확률을 산출하고,상기 레퍼런스 이미지 및 상기 제2 이미지에 기초하여 상기 제2 이미지의 픽셀 당 상태 변화 확률을 산출하는단계;상기 제1 이미지의 상태 변화 확률에 기초하여 제1 방해 영역 및 제1 무방해 영역을 설정하고, 상기 제2 이미지의 상태 변화 확률에 기초하여 제2 방해 영역 및 제2 무방해 영역을 설정하는 단계;상기 제1 무방해 영역에 기초하여 제1 ROG(RealOGram)를 생성하고, 상기 제2 무방해 영역에 기초하여 제2 ROG를생성하는 단계;상기 제1 ROG 및 상기 제2 ROG를 병합하여 최종 ROG를 생성하는 단계; 및공개특허 10-2024-0156082-5-상기 최종 ROG 및 미리 저장된 POG(PlanOGram)를 비교하여 매대 현황을 분석하는 단계를 포함하는매대 모니터링 방법."}
{"patent_id": "10-2023-0052575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제14항에 기재된 매대 모니터링 방법을 실행시키도록 컴퓨터로 판독 가능한 기록 매체에 저장된 컴퓨터 프로그램."}
{"patent_id": "10-2023-0052575", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본원 발명의 매대 모니터링 시스템은 매대를 촬영하는 카메라; 및 상기 카메라로부터 획득한 데이터에 기초하여 ROG(RealOGram)를 생성하고, 생성한 ROG와 미리 저장된 POG(PlanOGram)를 비교하여 매대 현황을 분석하는 적어 도 하나 이상의 프로세서를 포함할 수 있다."}
{"patent_id": "10-2023-0052575", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본원 발명은 매대 모니터링 시스템에 관한 것으로, 보다 상세하게는, 혼잡 상황에서의 매대 분석을 위한 구역별 매대 분석 방법에 관한 것이다."}
{"patent_id": "10-2023-0052575", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "효율적인 오프라인 매장 관리를 위해, 실제 매대 진열 상태를 데이터화 한 ROG(RealOGram)를 생성하고 운용할 필요가 있다. ROG 자동 생성을 위해 먼저 카메라로 매대를 촬영한 뒤 이미지 내의 매대 검출, 진열 상품 검출, 상품 정보 라벨 검출 등을 통해 매대 구성을 분석한다. 매대 분석은 매장 운영 중에도 수시로 진행되어야 매장의 현재 상황을 효과적으로 파악할 수 있다. 하지만 매장 운영 중에는 고객 및 직원, 카트, 매대 정리를 위한 상자 등에 의해 매대가 가려지기 쉽기 때문에 하나의 매대 를 온전하게 촬영하기 어렵다. 이러한 문제를 해결하기 위해 매대를 촬영한 뒤 방해물에 의해 가려지지 않은 영 역만 분리하여 분석하는 과정을 반복함으로써 온전한 매대 분석 정보를 취득할 필요가 있다."}
{"patent_id": "10-2023-0052575", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본원 발명의 일 과제는 혼잡 상황에서 구역별 매대 현황 분석이 가능한 매대 모니터링 방법에 관한 것이다."}
{"patent_id": "10-2023-0052575", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "일 실시예에 따른 매대 모니터링 시스템은 매대를 촬영하는 카메라; 및 상기 카메라로부터 획득한 데이터에 기 초하여 ROG(RealOGram)를 생성하고, 생성한 ROG와 미리 저장된 POG(PlanOGram)를 비교하여 매대 현황을 분석하 는 적어도 하나 이상의 프로세서를 포함할 수 있다. 여기서, 상기 적어도 하나 이상의 프로세서는, 상기 카메라로부터 획득한 레퍼런스 이미지 및 제1 이미지에 기 초하여 상기 제1 이미지의 픽셀 당 상태 변화 확률을 산출하고, 상기 제1 이미지의 상태 변화 확률에 기초하여 제1 방해 영역을 설정할 수 있다. 여기서, 상기 상태 변화 확률은 인공지능 모델에 의해 산출되고, 상기 인공지능 모델은 상기 매대를 가리는 방 해물을 방해 요소로 고려하도록 학습될 수 있다. 여기서, 상기 인공지능 모델은 상품 진열 변화, 판촉물 변화, 조명 변화 또는 촬영 위치 변화는 방해 요소로 고 려하지 않도록 학습될 수 있다. 여기서, 상기 적어도 하나 이상의 프로세서는, 상기 제1 이미지에서 상기 제1 방해 영역을 제외한 영역인 제1 무방해 영역을 설정하고, 상기 제1 무방해 영역에 기초하여 제1 ROG를 생성할 수 있다. 여기서, 상기 적어도 하나 이상의 프로세서는, 상기 레퍼런스 이미지 및 상기 카메라로부터 획득한 제2 이미지 에 기초하여 상기 제2 이미지의 픽셀 당 상태 변화 확률을 산출하고, 상기 제2 이미지의 상태 변화 확률에 기초 하여 제2 방해 영역 및 제2 무방해 영역을 설정하고, 상기 제2 무방해 영역에 기초하여 제2 ROG를 생성할 수 있 다. 여기서, 상기 적어도 하나 이상의 프로세서는, 상기 제1 ROG 및 상기 제2 ROG를 병합하여 최종 ROG를 생성하고, 상기 제1 방해 영역 및 상기 제2 무방해 영역은 적어도 일부가 오버랩될 수 있다. 여기서, 상기 적어도 하나 이상의 프로세서는, 상기 레퍼런스 이미지로부터 수평 라인 및 수직 라인을 검출하고, 상기 수평 라인 및 수직 라인의 개수와 길이에 기초하여 매대 타입을 결정할 수 있다. 여기서, 상기 적어도 하나 이상의 프로세서는, 상기 제1 무방해 영역의 상품 및 전자 가격 표시기를 검출하고, 결정된 매대 타입 및 검출 결과를 이용하여 매대에서의 위치, 상품 분류, 바코드, 상품명 및 개수를 포함하는 제1 ROG를 생성할 수 있다. 여기서, 상기 적어도 하나 이상의 프로세서는, 상기 최종 ROG 및 상기 POG에 기초하여 매대 변화 데이터를 생성 하고, 상기 매대 변화 데이터를 관리자 단말기로 전송할 수 있다. 여기서, 상기 적어도 하나 이상의 프로세서는, 상기 관리자 단말기로부터 변화 승인 신호를 수신한 경우, 상기 매대 변화 데이터에 기초하여 상기 POG를 수정할 수 있다. 여기서, 상기 적어도 하나 이상의 프로세서는, 특징점 추출 알고리즘을 이용하여 상기 제1 이미지로부터 방해물 을 검출하고, 검출된 방해물에 대응되는 픽셀들의 상태 변화 확률을 산출함으로써 상기 제1 방해 영역을 설정할 수 있다. 여기서, 상기 적어도 하나 이상의 프로세서는, 상기 제1 방해 영역의 지속 시간 및 상기 제1 방해 영역에 대응 되는 매대의 위치에 기초하여 관심 상품 및 관심도를 판단할 수 있다. 일 실시예에 따른 매대 모니터링 방법은 적어도 하나 이상의 프로세서에 의해 수행되는 매대 모니터링 방법에 있어서, 카메라로부터 레퍼런스 이미지, 제1 이미지 및 제2 이미지를 획득하는 단계; 상기 레퍼런스 이미지 및 상기 제1 이미지에 기초하여 상기 제1 이미지의 픽셀 당 상태 변화 확률을 산출하고, 상기 레퍼런스 이미지 및 상기 제2 이미지에 기초하여 상기 제2 이미지의 픽셀 당 상태 변화 확률을 산출하는 단계; 상기 제1 이미지의 상태 변화 확률에 기초하여 제1 방해 영역 및 제1 무방해 영역을 설정하고, 상기 제2 이미지의 상태 변화 확률 에 기초하여 제2 방해 영역 및 제2 무방해 영역을 설정하는 단계; 상기 제1 무방해 영역에 기초하여 제1 ROG(RealOGram)를 생성하고, 상기 제2 무방해 영역에 기초하여 제2 ROG를 생성하는 단계; 상기 제1 ROG 및 상기 제2 ROG를 병합하여 최종 ROG를 생성하는 단계; 및 상기 최종 ROG 및 미리 저장된 POG(PlanOGram)를 비교하여 매대 현황을 분석하는 단계를 포함할 수 있다. 여기서, 상기 매대 모니터링 방법을 실행시키도록 컴퓨터로 판독 가능한 기록 매체에 저장된 컴퓨터 프로그램이 제공될 수 있다."}
{"patent_id": "10-2023-0052575", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본원 발명의 일 실시예에 따르면 혼잡 상황에서 구역별 매대 현황 분석이 가능한 매대 모니터링 방법이 제공될 수 있다."}
{"patent_id": "10-2023-0052575", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 명세서에 기재된 실시예는 본원 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에게 본원 발명의 사상 을 명확히 설명하기 위한 것이므로, 본원 발명이 본 명세서에 기재된 실시예에 한정되는 것은 아니며, 본원 발 명의 범위는 본원 발명의 사상을 벗어나지 아니하는 수정예 또는 변형예를 포함하는 것으로 해석되어야 한다. 본 명세서에서 사용되는 용어는 본원 발명에서의 기능을 고려하여 가능한 현재 널리 사용되고 있는 일반적인 용 어를 선택하였으나 이는 본원 발명이 속하는 기술 분야에서 통상의 지식을 가진 자의 의도, 판례 또는 새로운 기술의 출현 등에 따라 달라질 수 있다. 다만, 이와 달리 특정한 용어를 임의의 의미로 정의하여 사용하는 경우 에는 그 용어의 의미에 관하여 별도로 기재할 것이다. 따라서 본 명세서에서 사용되는 용어는 단순한 용어의 명 칭이 아닌 그 용어가 가진 실질적인 의미와 본 명세서의 전반에 걸친 내용을 토대로 해석되어야 한다. 본 명세서에 첨부된 도면은 본원 발명을 용이하게 설명하기 위한 것으로 도면에 도시된 형상은 본원 발명의 이 해를 돕기 위하여 필요에 따라 과장되어 표시된 것일 수 있으므로 본원 발명이 도면에 의해 한정되는 것은 아니 다. 본 명세서에서 본원 발명에 관련된 공지의 구성 또는 기능에 대한 구체적인 설명이 본원 발명의 요지를 흐릴 수 있다고 판단되는 경우에 이에 관한 자세한 설명은 필요에 따라 생략하기로 한다. 도 1은 일 실시예에 따른 매대 모니터링 시스템의 환경도이다. 도 1을 참조하면, 일 실시예에 따른 매대 모니터링 시스템은 제1 카메라, 제2 카메라, 적어도 하나 이상의 매대 및 적어도 하나 이상의 프로세서(도시되지 않음)를 포함할 수 있다. 또한, 추가적으로 매대 모니터링 시스템은 적어도 하나 이상의 프로세서와의 통신을 통해 데이터를 송수신하는 관리자 단말(도시되지 않음)을 포함할 수 있다. 이하에서 적어도 하나 이상의 프로세서는 편의상 프로세서로 명칭될 수도 있다. 구체적으로, 제1 카메라 및 제2 카메라는 매대를 촬영하고, 프로세서가 카메라로 촬영된 이미지 를 분석하여 매대의 현황 등을 분석할 수 있다. 프로세서는 이미지 분석을 통해 매대에 진열된 상품의 재고 현 황 파악, 상품의 정렬 파악, 고객 검출, 고객의 이상 행동 검출, 고객이 오랜 시간 머무는 위치 등을 확인할 수 있다. 프로세서는 매대 분석 결과 데이터에 기초하여 관리자 단말로 상품의 위치 수정 요청 및 재고 파악과 관 련된 신호를 전송할 수 있다. 제1 카메라 및 제2 카메라는 매대를 촬영할 수 있는 촬영 디바이스일 수 있다. 제1 카메라 및 제2 카메라는 프로세서의 제어에 의해 촬영 주기 및 촬영 데이터 전송을 수행할 수 있다. 구체적으로, 제1 카메라 및 제2 카메라는 일정 주기로 매대를 촬영할 수 있으며, 촬영 주기는 프로세서에 의 해 조절될 수 있다. 또한, 제1 카메라 및 제2 카메라는 촬영한 데이터를 프로세서로 전송할 수 있다. 제1 카메라는 매대와 제1 수직 거리로 이격될 수 있다. 제2 카메라도 매대와 제2 수직 거 리로 이격될 수 있다. 이때, 제2 수직 거리는 제1 수직 거리와 동일할 수 있으나, 이에 한정되지 않는다. 제1 카메라는 제1 시야각(FOV: Field Of View)을 가질 수 있다. 매대를 촬영하기 위해, 제1 카메라 는 제1 시야각에 매대의 적어도 일 영역이 포함되도록 배치될 수 있다. 제2 카메라는 제2 시야 각을 가질 수 있다. 매대를 촬영하기 위해, 제2 카메라도 제2 시야각에 매대의 적어도 일 영역이 포 함될 수 있도록 배치될 수 있다. 제1 카메라 및 제2 카메라는 거리(d)를 두고 서로 이격되어 배치될 수 있다. 이때, 거리(d)는 상기 제1 시야각 및 제2 시야각에 의해 결정될 수 있다. 구체적으로, 제1 시야각 및 제2 시야각에 포함되지 않는 상 품이 없도록, 거리(d)는 제1 시야각과 제2 시야각이 일부 오버랩되게 설정될 수 있다. 매대는 상품이 진열되는 선반, 스탠드, 진열대 등을 의미하는 것일 수 있다. 도 1에서는 4단 매대를 도시 하였으나, 이에 한정되지 않고, 매대는 다양한 형태를 가질 수 있다. 또한, 매장에 배치된 매대는 모두 하 나의 타입으로 한정되지 않고, 3단 매대, 4단 매대 등 다양한 타입의 매대들을 포함할 수 있다. 프로세서는 제1 카메라 및 제2 카메라로부터 매대를 촬영한 이미지를 수신할 수 있다. 또한, 프 로세서는 수신한 이미지를 분석하여, 매대의 현황을 파악할 수 있다. 구체적으로, 프로세서는 매대에 진열된 상 품의 품절 상황을 파악할 수 있다. 프로세서는 매대에 진열된 적어도 하나 이상의 상품의 품절 상황을 확인한 경우, 매장 주인(점주)의 단말기에 알림 신호를 전송할 수 있다. 도 2는 일 실시예에 따른 매대 모니터링 방법의 순서도이다. 도 2를 참조하면, 일 실시예에 따른 매대 모니터링 방법은 카메라로부터 이미지를 획득하는 단계(S100), 이미지 의 픽셀 당 상태 변화 확률을 산출하는 단계(S200), 방해 영역 및 무방해 영역을 설정하는 단계(S300), ROG를생성하는 단계(S400) 및 ROG와 POG를 비교하는 단계(S500)를 포함할 수 있다. 도 2는 단계 S100 내지 S500이 순 차적으로 수행되는 것을 도시하였으나, 이에 한정되지 않고 일부 단계가 생략되거나 동시에 진행되거나 새로운 단계가 추가될 수도 있다. 카메라로부터 이미지를 획득하는 단계(S100)는 카메라가 매대를 촬영한 이미지를 프로세서로 전송함으로써 프로 세서가 매대를 촬영한 이미지를 획득하는 단계일 수 있다. 구체적으로, 프로세서는 레퍼런스 이미지, 제1 이미 지 및 제2 이미지를 획득할 수 있다. 레퍼런스 이미지는 매대를 가리는 방해물이 없는 이미지로, 방해물 없이 매대 현황을 한눈에 파악할 수 있는 이미지일 수 있다. 제1 이미지 및 제2 이미지는 매대를 가리는 방해물이 있 는 이미지일 수 있다. 이때, 방해물은 사람, 카트, 사다리 등 매대를 가리는 사람이나 동물 및 물체를 포함할 수 있다. 이미지의 픽셀 당 상태 변화 확률을 산출하는 단계(S200)는 프로세서가 이미지로부터 방해물을 검출하고, 방해 물에 대응되는 픽셀의 상태 변화 확률을 산출하는 단계일 수 있다. 구체적으로, 프로세서는 카메라로부터 획득 한 이미지 내의 객체를 검출할 수 있다. 일 실시예에 따르면 프로세서는 특징점 추출 알고리즘을 이용하여 객체를 검출할 수 있다. 구체적으로, 프로세 서는 카메라로부터 획득한 이미지를 그레이스케일(grayscale), 이진화(binarization) 등의 기술을 이용하여 전 처리할 수 있다. 프로세서는 전처리한 이미지에 특징점 추출 알고리즘을 적용할 수 있다. 예를 들어, 프로세서는 캐니 엣지 (canny edge) 검출, 해리스 코너(Harris corner) 검출, HLF(Haar-like feature) 검출, HOG 검출, SIFT 등의 알고리즘을 적용하여 이미지로부터 객체를 검출할 수 있으나, 이에 한정되지 않는다. 프로세서는 검출한 객체를 분류할 수 있다. 구체적으로, 프로세서는 SVM, Adaboost 알고리즘을 이용하여 검출한 객체가 사람인지, 사물인 지, 동물인지 등을 확인할 수 있으나, 이에 한정되지 않는다. 다른 일 실시예에 따르면 프로세서는 인공지능 모델을 통해 이미지에서 배경과 객체를 구분하는 방법으로 객체 를 검출할 수 있다. 구체적으로, 프로세서는 이미지에서 객체 중심의 바운딩 박스(bounding box)를 설정할 수 있다. 프로세서는 바운딩 박스 내의 데이터를 인공지능 모델에 입력하여 객체를 검출 및 분류할 수 있다. 예를 들어, 프로세서는 R-CNN, YOLO, EfficientDet, Swin-T 모델을 사용할 수 있으나, 이에 한정되지 않는다. 프로세서는 레퍼런스 이미지와 제1 이미지 및 제2 이미지 사이의 차이에 기초하여 픽셀 당 상태 변화 확률을 산 출할 수 있다. 구체적으로, 프로세서는 레퍼런스 이미지의 픽셀값과 제1 이미지의 픽셀값을 비교하여 제1 이미 지의 픽셀 당 상태 변화 확률을 산출할 수 있다. 또한, 프로세서는 레퍼런스 이미지의 픽셀값과 제2 이미지의 픽셀값을 비교하여 제2 이미지의 픽셀 당 상태 변화 확률을 산출할 수 있다. 일 실시예에 따르면 프로세서는 상태 변화 확률을 산출할 때 인공지능 모델을 사용할 수 있다. 예를 들어, 프로 세서는 시맨틱 세그멘테이션(semantic segmentation)을 위한 인코더-디코더(encorder-decorder) 구조의 CNN(Convolution Neural Network) 모델을 이용하되, 한 장의 이미지가 아닌 두 장의 이미지를 입력 데이터로 사 용하는 샴 네트워크(Siamese Network) 형태를 취할 수 있으나, 이에 한정되지 않는다. 상기 인공지능 모델은 상품 진열 변화, 판촉물 변화, 조명 변화 또는 촬영 위치 변화는 방해 요소로 고려하지 않도록 학습될 수 있다. 구체적으로, 인공지능 모델은 매대를 가리는 방해물을 방해 요소로 고려하도록 학습될 수 있다. 인공지능 모델은 매대를 가리는 방해물에 대응되는 픽셀에만 픽셀 당 상태 변화 확률을 산출하도록 학 습되어, 무의미한 변화에 강건하도록 학습될 수 있다. 일 실시예에 따르면 인공지능 모델은 방해물을 감지하고 방해물에 대응되는 픽셀만을 추출하여 픽셀값 변화를 기반으로 한 상태 변화 확률을 산출할 수 있다. 인공지능 모델은 0 내지 1 사이의 값을 가지는 상태 변화 확률 을 산출하여 이를 확률맵으로 표현할 수 있다. 그러나 이에 한정되지 않고, 인공지능 모델은 제1 이미지의 모든 픽셀에 대해 상태 변화 확률을 산출할 수도 있다. 인공지능 모델은 방해물이 실제 매대 앞을 가리는 방해물인지 판단하기 위해, 확률맵, 방해 영역의 크기, 방해 영역의 위치 및 형태를 고려할 수 있다. 구체적으로, 인공지능 모델은 방해 영역의 확률값이 기준값 이상인지 여부, 방해 영역의 크기가 커서 하나의 객체로 분류할 수 있는지 여부, 방해 영역이 이미지의 상부에만 위치하 지 않고 하부쪽부터 위치하여 상부로 연결되어 있는지 여부 등을 판단함으로써 방해물을 판단할 수 있다. 예를 들어, 레퍼런스 이미지와 제1 이미지 사이에 특정 상품의 진열 형태가 달라졌다고 하더라도, 인공지능 모 델은 형태가 달라진 부분의 크기가 작거나, 하부에서 상부로 이어지는 위치에 있지 않거나, 상태 변화 확률이낮다고 판단하여 상기 형태가 달라진 부분을 방해물로 인식하지 않을 수 있다. 방해 영역 및 무방해 영역을 설정하는 단계(S300)는 단계 S200에서 산출한 상태 변화 확률에 기초하여 프로세서 가 이미지에서 방해물이 존재하는 영역인 방해 영역과 방해물이 존재하지 않는 영역인 무방해 영역을 설정하는 단계일 수 있다. 방해 영역은 방해물(사람, 카트, 사다리 등)이 존재하는 영역으로, 매대 진열 상태가 변경될 가능성이 높은 영역일 수 있다. 따라서, 프로세서는 현재 매대 진열 현황을 정리한 데이터인 ROG를 생성할 때, 방해 영역보다 무방해 영역을 우선적으로 분석할 수 있다. 프로세서는 설정한 방해 영역을 이용하여 상품의 관심도를 결정할 수 있다. 구체적으로, 프로세서는 방해물이 방해 영역을 유지한 시간(방해 영역의 지속 시간)과 방해 영역의 위치에 기초하여 관심 상품 및 관심도를 판단 할 수 있다. 사람들은 관심있는 상품이 진열된 매대 앞에 오래 머무르게 될 수 있다. 따라서, 프로세서는 방해 물이 머무르는 시간 및 방해물이 존재하는 위치에 대응되는 상품 정보를 이용하여 사람들이 관심있어하는 상품 이 무엇인지를 확인할 수 있다. 또한, 프로세서는 오래 머무르는 시간 및 판매량 등을 확인하여 각 상품에 대한 관심도를 산출 및/또는 판단할 수 있다. 구체적으로, 프로세서는 검출되어 사람으로 분류된 객체에 대해서 관심 상품 및 관심도 분석을 수행할 수 있다. 프로세서는 각 사람들 별로 머물렀던 시간과 매대의 위치를 확인함으로써 관심 상품 및 관심도를 확인할 수 있 다. 프로세서는 판단한 관심 상품 및 관심도를 추후 매대의 진열 변경, 상품 구성, 매대 위치, 행사 진행을 위 한 정보로 사용할 수 있다. 일 실시예에 따르면, 프로세서는 판단한 관심 상품 및 관심도를 이용하여 POG를 변 경할 수 있다. 예를 들어, 관심도가 높은 상품은 메인 진열대의 메인 위치에 진열되도록 POG를 변경할 수 있다. ROG를 생성하는 단계(S400)는 단계 S300에서 설정한 무방해 영역을 기초로 프로세서가 현재 매대 진열 현황을 정리한 데이터인 ROG를 생성하는 단계일 수 있다. 구체적으로, ROG는 매대에서의 위치, 상품 분류, 바코드, 상 품명 및 개수에 대한 정보를 포함할 수 있다. 프로세서는 매대의 규격을 검출하고, 각 매대의 행/열에 진열된 상품을 인식함으로써 ROG를 생성할 수 있다. 구 체적으로, 프로세서는 매대에 배치된 전자 가격 표시기(ESL: Electronic Shelf Label)를 인식하고, 전자 가격 표시기에 대응되는 상품을 인식할 수 있다. 프로세서는 인식한 상품을 매대에 진열된 위치에 대응시켜 ROG를 생 성할 수 있다. 또한, 프로세서는 매대에 진열된 상품의 개수를 파악하여 ROG에 개수 정보를 추가할 수 있다. 프 로세서의 매대 규격 검출 방법은 도 3을 참조하여 이하에서 자세히 설명한다. ROG와 POG를 비교하는 단계(S500)는 프로세서가 미리 저장된 POG와 현재 매대 상황인 ROG를 분석함으로써 매대 에 상품이 올바른 위치에 진열되어 있는지, 진열된 상품의 개수는 몇 개인지 등을 판단하기 위한 단계일 수 있 다. 프로세서는 ROG와 POG를 비교함으로써 매대 변화 데이터를 생성할 수 있다. 프로세서는 생성한 매대 변화 데이터를 관리자 단말기로 전송할 수 있다. 관리자는 관리자 단말기를 통해 수신한 매대 변화 데이터를 확인하고, 진열 계획과 관련된 데이터인 POG와 현재 매대 상황과 관련된 데이터인 ROG의 차이를 확인할 수 있다. 관리자는 매대 변화 데이터를 확인함으로써 현재 매대 진열을 POG와 일치하도록 변경할 수 있다. 또는 관리자는 현재 매대 진열을 유지하기 위해 POG를 수정하도 록 요청할 수 있다. 프로세서는 관리자 단말기로부터 변화 승인 신호를 수신한 경우, 매대 변화 데이터에 기초 하여 POG를 수정할 수 있다. 이때, 변화 승인 신호는 관리자가 POG를 수정하도록 요청한 신호일 수 있다. 도 3은 일 실시예에 따른 매대의 규격을 검출하는 방법의 순서도이다. 도 3을 참조하면, 일 실시예에 따른 매대의 규격을 검출하는 방법은 매대를 촬영한 이미지를 획득하는 단계 (S410), 이미지로부터 수평 라인 및 수직 라인을 검출하는 단계(S420), 검출한 수평 라인 및 수직 라인에 기초 하여 매대 타입을 결정하는 단계(S430) 및 결정된 매대에 대한 정보를 확인하는 단계(S440)를 포함할 수 있다. 도 3은 단계 S410 내지 S440이 순차적으로 수행되는 것을 도시하였으나, 이에 한정되지 않고, 새로운 단계가 추 가되거나 일부 단계가 생략 또는 병합될 수 있다. 매대를 촬영한 이미지를 획득하는 단계(S410)는 프로세서가 제1 카메라 또는 제2 카메라로부터 매대를 촬영한 데이터를 획득하는 단계일 수 있다. 이미지로부터 수평 라인 및 수직 라인을 검출하는 단계(S420)는 단계 S410에서 획득한 이미지로부터 매대의 수 평 라인 및 수직 라인을 검출하는 단계일 수 있다. 매대의 특성상 상품군이 진열된 상태에서 직선 성분이 강하 게 표현될 수 있다. 이에, 프로세서는 상품 검출 정보 또는 전자 가격 표시기 정보를 통해서 매대의 수평 축을추출할 수 있다. 예를 들어, 프로세서는 복수의 상품이 일 축을 기준으로 정렬되어 있는 것을 통해 매대의 수평 축을 검출할 수 있다. 또한 예를 들어, 프로세서는 복수의 전자 가격 표시기가 배열되어 있는 축을 검출함으로써 매대의 수평 축을 검출할 수 있다. 이때, 프로세서는 5개의 수평 축을 검출한 경우, 4단 매대인 것으로 확인할 수 있다. 또한, 프로세서는 상품 검출 정보 또는 전자 가격 표시기 정보를 통해서 매대의 수직 축을 추출할 수 있다. 예 를 들어, 프로세서는 이종의 상품 사이의 이격 간격이 다른 곳과 상이하거나, 수평 축이 단절되는 부분을 확인 함으로써 매대의 수직 축을 추출할 수 있다. 이때, 프로세서는 3개의 수직 축을 검출한 경우, 매대의 개수는 2 개인 것으로 확인할 수 있다. 프로세서는 검출한 수평 라인 및 수직 라인에 기초하여 매대 타입을 결정(S430)할 수 있다. 구체적으로, 프로세 서는 저장소에 저장된 매대 데이터베이스로부터 검출한 수평 축의 개수, 수평 축의 길이, 수직 축의 개수 및 수 직 축의 길이를 이용하여 대응되는 매대의 타입을 결정할 수 있다. 예를 들어, 검출한 수평 축의 개수가 5개이 고, 수평 축의 길이는 1200mm이고, 검출한 수직 축의 개수는 3개이고, 수직 축의 길이는 2000mm인 경우, 프로세 서는 A 타입의 매대가 2개인 것으로 확인할 수 있다. 프로세서는 결정된 매대에 대한 정보를 확인(S440)할 수 있다. 예를 들어, 단계 S430에서 결정된 매대 타입이 A 인 경우, 프로세서는 매대 데이터베이스에 저장된 A 타입의 매대의 너비(과자를 수용할 수 있는 폭으로서, 매대 의 앞면과 뒷면의 차이)를 확인할 수 있다. 또한 예를 들어, 프로세서는 매대 데이터베이스에 저장된 A 타입 매 대의 길이, 높이 등을 확인함으로써, 시야각을 고려한 카메라의 배치 위치를 설정할 수 있다. 이하의 도 4 내지 도 11을 참조하여 일 실시예에 따른 매대 모니터링 방법에 대해 구체적으로 설명한다. 도 4 내지 도 7은 방해물에 의해 설정된 방해 영역 및 무방해 영역을 설명하기 위한 도면이다. 도 4를 참조하면, 매장에 제1 매대 내지 제5 매대가 배치되어 있는 상황을 예시로 하여 이하에서 설 명한다. 제3 매대 앞에 사람이 서있는 상황을 가정한다. 카메라는 제1 매대 내지 제5 매대(33 5)와 매대 앞에 서있는 사람을 촬영한 제1 이미지를 프로세서에 전송할 수 있다. 도 5를 참조하면, 프로세서는 카메라로부터 획득한 제1 이미지 및 레퍼런스 이미지를 이용하여 방해물을 검출할 수 있다. 이때, 프로세서는 특징점 추출 알고리즘을 이용하거나 인공지능 모델을 이용할 수 있으나, 이에 한정 되지 않는다. 프로세서는 방해물의 위치를 기반으로 방해 영역과 무방해 영역(421,422)을 설정할 수 있다. 구체적으로, 프로세서는 방해 영역 기준으로 좌측에 위치하는 제1 무방해 영역과 우측에 위치하는 제 2 무방해 영역을 설정할 수 있다. 프로세서는 제1 무방해 영역 및 제2 무방해 영역을 분석할 수 있다. 구체적으로, 프로세서는 이미지 에 포함된 매대의 규격을 검출하고, 제1 무방해 영역 및 제2 무방해 영역에 진열된 상품과 진열 위치 를 대응시켜 제1 ROG를 생성할 수 있다. 도 6을 참조하면, 제1 매대 및 제2 매대 앞에 사다리가 배치되어 있는 상황을 가정한다. 카메라 는 제1 매대 내지 제5 매대와 매대 앞의 사다리를 촬영한 제2 이미지를 프로세서에 전송할 수 있다. 도 7을 참조하면, 프로세서는 카메라로부터 획득한 제2 이미지 및 레퍼런스 이미지를 이용하여 방해물을 검출할 수 있다. 이때, 프로세서는 특징점 추출 알고리즘을 이용하거나 인공지능 모델을 이용할 수 있으나, 이에 한정 되지 않는다. 프로세서는 방해물의 위치를 기반으로 방해 영역과 무방해 영역(441,442)을 설정할 수 있다. 구체적으로, 프로세서는 방해 영역 기준으로 좌측에 위치하는 제1 무방해 영역과 우측에 위치하는 제 2 무방해 영역을 설정할 수 있다. 프로세서는 제1 무방해 영역 및 제2 무방해 영역을 분석할 수 있다. 구체적으로, 프로세서는 이미지 에 포함된 매대의 규격을 검출하고, 제1 무방해 영역 및 제2 무방해 영역에 진열된 상품과 진열 위치 를 대응시켜 제2 ROG를 생성할 수 있다. 프로세서는 제1 이미지를 통해 생성한 제1 ROG와 제2 이미지를 통해 생성한 제2 ROG를 병합할 수 있다. 프로세 서는 방해물이 위치하는 방해 영역을 분석하여 이에 대한 ROG를 생성할 수 없으므로, 제1 시점의 방해 영역과 제2 시점의 무방해 영역이 겹치는 복수의 이미지를 이용하여 최종 ROG를 생성할 수 있다. 구체적으로, 제1 이미 지의 방해 영역과 제2 이미지의 제2 무방해 영역의 적어도 일부가 오버랩되고, 제2 이미지의 방해 영 역과 제1 이미지의 제1 무방해 영역의 적어도 일부가 오버랩된다. 따라서, 제1 이미지에 존재하는 방 해물과 제2 이미지에 존재하는 방해물에 의해 ROG를 생성할 수 없는 점을 보완할 수 있다. 또한, 이를 이용하여 프로세서는 최종 ROG를 실시간으로 생성 및 업데이트할 수 있다. 종래는 프로세서가 매대 앞에 방해물이 존재하지 않는 시점까지 기다려서 방해물이 존재하지 않는 매대 이미지를 획득하여 이를 기초로 ROG를 생성하였다. 프로세서는 매대 앞에 방해물이 존재하지 않을 경우에만 ROG를 생성할 수 있었으므로, ROG 생성 시간이 지연되며 생성 기회가 적었다. 이에, 실시간으로 매대 현황을 파악하기 어려웠다. 그러나, 본원 발 명은 방해물이 존재하는 혼잡한 상황 속에서도 무방해 영역에 기초하여 ROG를 생성하고 생성한 ROG들을 병합함 으로써 실시간으로 최종 ROG를 생성할 수 있어, 매대 현황 파악을 위한 시간을 단축시킬 수 있다. 도 8 내지 도 11은 POG 및 ROG를 설명하기 위한 도면이다. 도 8은 매대 모니터링 시스템의 저장소에 미리 저장된 POG를 나타낸 도면이다. 도 8을 참조하면, POG는 진열대 명, 진열대의 단/열 위치, 상품의 소분류, 상품 바코드, 상품명, 개수(입수) 등의 정보를 포함하고 있는 것을 확인할 수 있다. 도 9는 제1 이미지에 의해 생성된 제1 ROG를 나타낸 도면이다. 도 9를 참조하면, 프로세서는 제1 이미지의 무방 해 영역에 기초하여 제1 ROG를 생성할 수 있다. 제1 ROG에 공백 부분(11, 12, 13)은 제1 이미지의 방해 영역에 진열된 상품으로서, 프로세서는 방해 영역에 기초하여 제1 ROG를 생성하지 않기 때문에 제1 ROG에는 공백 부분 이 존재할 수 있다. 도 10은 제2 이미지에 의해 생성된 제2 ROG를 나타낸 도면이다. 도 10을 참조하면, 프로세서는 제2 이미지의 무 방해 영역에 기초하여 제2 ROG를 생성할 수 있다. 제2 ROG에 공백 부분(21, 22)은 제2 이미지의 방해 영역에 진 열된 상품으로서, 프로세서는 방해 영역에 기초하여 제2 ROG를 생성하지 않기 때문에, 제2 ROG에는 공백 부분이 존재할 수 있다. 도 11은 제1 ROG 및 제2 ROG가 병합된 최종 ROG를 나타낸 도면이다. 도 11을 참조하면, 프로세서는 제1 ROG 및 제2 ROG의 내용을 병합하여 최종적으로 도 11과 같은 ROG를 생성할 수 있다. 최종 ROG를 참조하면, 제1 ROG의 공백 부분이 제2 ROG의 정보에 의해 보완되고, 제2 ROG의 공백 부분이 제1 ROG의 정보에 의해 보완된 것을 확인 할 수 있다. 프로세서는 도 11의 최종 ROG와 도 8의 POG를 비교 분석할 수 있다. 프로세서는 비교를 통해 POG와 최종 ROG 사 이의 차이를 확인할 수 있다. 예를 들어, 최종 ROG에는 POG와 상이한 정보를 포함하는 변경 부분(31, 32)을 포 함할 수 있다. 프로세서는 변경 부분에 기초하여 매대 변화 데이터를 생성할 수 있다. 예를 들어, 매대 변화 데 이터는 변경 부분의 진열대의 위치, 진열대 내부에서의 위치, 상품명, 상품 바코드 등을 포함할 수 있다. 프로세서는 매대 변화 데이터를 관리자 단말기로 전송할 수 있다. 이를 통해 관리자는 POG와 ROG의 차이를 확인 할 수 있다. 관리자는 매대 변화 데이터에 기초하여 현재 매대 진열 상태를 변경할 수 있다. 또는 관리자는 POG 가 현재 매대 진열 상태를 반영할 수 있도록 POG 변경을 요청하는 변화 승인 신호를 프로세서로 전달할 수 있다. 프로세서는 관리자 단말기로부터 변화 승인 신호를 수신한 경우, 매대 변화 데이터를 POG에 적용함으로써 POG를 수정할 수 있다. 실시예에 따른 방법은 다양한 컴퓨터 수단을 통하여 수행될 수 있는 프로그램 명령 형태로 구현되어 컴퓨터 판 독 가능 매체에 기록될 수 있다. 상기 컴퓨터 판독 가능 매체는 프로그램 명령, 데이터 파일, 데이터 구조 등을 단독으로 또는 조합하여 포함할 수 있다. 상기 매체에 기록되는 프로그램 명령은 실시예를 위하여 특별히 설계 되고 구성된 것들이거나 컴퓨터 소프트웨어 당업자에게 공지되어 사용 가능한 것일 수도 있다. 컴퓨터 판독 가 능 기록 매체의 예에는 하드 디스크, 플로피 디스크 및 자기 테이프와 같은 자기 매체(magnetic media), CD- ROM, DVD와 같은 광기록 매체(optical media), 플롭티컬 디스크(floptical disk)와 같은 자기-광 매체 (magneto-optical media), 및 롬(ROM), 램(RAM), 플래시 메모리 등과 같은 프로그램 명령을 저장하고 수행하도 록 특별히 구성된 하드웨어 장치가 포함된다. 프로그램 명령의 예에는 컴파일러에 의해 만들어지는 것과 같은기계어 코드뿐만 아니라 인터프리터 등을 사용해서 컴퓨터에 의해서 실행될 수 있는 고급 언어 코드를 포함한다. 상기된 하드웨어 장치는 실시예의 동작을 수행하기 위해 하나 이상의 소프트웨어 모듈로서 작동하도 록 구성될 수 있으며, 그 역도 마찬가지이다."}
{"patent_id": "10-2023-0052575", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "이상과 같이 실시예들이 비록 한정된 실시예와 도면에 의해 설명되었으나, 해당 기술분야에서 통상의 지식을 가 진 자라면 상기의 기재로부터 다양한 수정 및 변형이 가능하다. 예를 들어, 설명된 기술들이 설명된 방법과 다 른 순서로 수행되거나, 및/또는 설명된 시스템, 구조, 장치, 회로 등의 구성요소들이 설명된 방법과 다른 형태 로 결합 또는 조합되거나, 다른 구성요소 또는 균등물에 의하여 대치되거나 치환되더라도 적절한 결과가 달성될 수 있다. 그러므로, 다른 구현들, 다른 실시예들 및 특허청구범위와 균등한 것들도 후술하는 특허청구범위의 범위에 속한 다."}
{"patent_id": "10-2023-0052575", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 일 실시예에 따른 매대 모니터링 시스템의 환경도이다. 도 2는 일 실시예에 따른 매대 모니터링 방법의 순서도이다. 도 3은 일 실시예에 따른 매대의 규격을 검출하는 방법의 순서도이다. 도 4 내지 도 7은 방해물에 의해 설정된 방해 영역 및 무방해 영역을 설명하기 위한 도면이다. 도 8 내지 도 11은 POG 및 ROG를 설명하기 위한 도면이다."}
