{"patent_id": "10-2023-0139999", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0056350", "출원번호": "10-2023-0139999", "발명의 명칭": "초음파 음압장 예측 장치 및 이를 이용한 초음파 음압장 예측 방법", "출원인": "고려대학교 산학협력단", "발명자": "노건우"}}
{"patent_id": "10-2023-0139999", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "사용자가 데이터를 입력하고, 또한 사용자가 확인 가능한 형태로 데이터가 출력되게 하는 입출력부;경두개 집속초음파 음압장 예측 프로그램과 최대 음압 예측 프로그램이 저장되는 메모리; 및상기 경두개 집속초음파 음압장 예측 프로그램과 상기 최대 음압 예측 프로그램을 실행시켜, 상기 입출력부를통해 입력된 데이터에 따른 결과 데이터를 도출하는 제어부를 포함하되,상기 제어부는,두개골의 형상 데이터 및 초음파 변환기의 위치 데이터가 입력되면, 상기 경두개 집속초음파 음압장 프로그램을실행시켜 상기 초음파 변환기가 인가하는 초음파에 의해 경두개 내에 형성되는 초음파 음압장 데이터를 산출하고,상기 두개골의 형상 데이터와 상기 초음파 변환기의 위치 데이터가 입력되면, 상기 최대 음압 예측 프로그램을실행시켜 초음파에 의해 경두개 내에 형성되는 최대 압력값을 산출하고,상기 최대 압력값으로 상기 초음파 음압장 데이터를 보정하는 초음파 음압장 예측 장치."}
{"patent_id": "10-2023-0139999", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1 항에 있어서,상기 경두개 집속초음파 음압장 예측 프로그램은,상기 두개골의 형상 데이터를 기 설정된 크기를 가진 복셀 데이터로 차원압축을 수행하는 차원 축소부;상기 차원 축소부에서 수신된 압축된 두개골의 형상 데이터에 대한 희소행렬을 학습하는 인코더; 및상기 두개골에 대한 희소행렬과 정규화된 상기 초음파 변환기의 위치 데이터가 입력되면, 이에 대응되는 관심영역 내 상기 초음파 음압장 데이터를 산출하는 디코더를 포함하고,상기 최대 음압 예측 프로그램은,상기 인코더로부터 입력된 상기 압축된 두개골의 형상 데이터와 상기 초음파 변환기의 위치 데이터를 입력 데이터로 하여 상기 최대 압력 값을 산출하는 맵핑부를 포함하는 초음파 음압장 예측 장치."}
{"patent_id": "10-2023-0139999", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1 항에 있어서,상기 최대 음압 예측 프로그램은,상기 최대 압력값이 -1과 1사이의 값으로 출력되고,상기 최대 압력값을 역정규화시키는 역정규화부를 포함하며,상기 제어부는,역정규화된 상기 최대 압력값으로 상기 초음파 음압장 데이터를 보정하는 초음파 음압장 예측 장치."}
{"patent_id": "10-2023-0139999", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1 항에 있어서,상기 경두개 집속초음파 음압장 예측 프로그램은,합성곱 인공신경망(Convolutional Neural Network, CNN)을 기반으로 한 인공지능으로 제공되는 초음파 음압장공개특허 10-2025-0056350-3-예측 장치."}
{"patent_id": "10-2023-0139999", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4 항에 있어서,상기 인공지능은 상기 두개골 형상 데이터, 상기 초음파 변환기의 위치 데이터 및 상기 초음파 음압장 데이터를포함하는 학습 데이터를 이용하여, 상기 두개골 형상 데이터, 상기 초음파 변환기의 위치 데이터가 입력으로 사용되고, 이에 대응한 상기 초음파 음압장 데이터가 출력으로 사용되어, 상기 두개골 형상 데이터 및 상기 초음파 변환기 위치 데이터에 따라 상기 초음파 음압장의 형상을 예측하도록 학습이 수행되는 초음파 음압장 예측장치."}
{"patent_id": "10-2023-0139999", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "두개골 형상 데이터, 초음파 변환기의 위치 데이터, 초음파 음압장 데이터 및 최대 압력값을 포함하는 학습 데이터를 준비하는 단계;상기 두개골 형상 데이터 및 상기 초음파 변환기의 위치 데이터를 입력 받아, 메모리로부터 불러온 경두개 집속초음파 음압장 예측 프로그램을 통해 상기 초음파 변환기가 인가하는 초음파에 의해 경두개 내에 형성되는 상기초음파 음압장 데이터를 산출하는 단계;상기 두개골 형상 데이터와 상기 초음파 변환기의 위치데이터를 입력 받아, 상기 메모리로부터 불러온 최대 음압 예측 프로그램을 통해 초음파에 의해 경두개 내에 형성되는 상기 최대 압력값을 산출하는 단계; 및상기 최대 압력값으로 상기 초음파 음압장 데이터를 보정하는 상기 초음파 데이터를 보정하는 단계를 포함하는초음파 음압장 예측 방법."}
{"patent_id": "10-2023-0139999", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6 항에 있어서,상기 경두개 집속초음파 음압장 예측 프로그램은,상기 두개골의 형상 데이터를 기 설정된 크기를 가진 복셀 데이터로 차원압축을 수행하는 차원 축소부;상기 차원 축소부에서 수신된 압축된 두개골의 형상 데이터에 대해 희소행렬을 학습하는 인코더; 및상기 두개골에 대한 희소행렬과 정규화된 상기 초음파 변환기의 위치 데이터가 입력되면, 이에 대응되는 관심영역 내 상기 초음파 음압장 데이터를 산출하는 디코더를 포함하고,상기 최대 음압 예측 프로그램은,상기 인코더로부터 입력된 상기 압축된 두개골의 형상 데이터와 상기 초음파 변환기의 위치 데이터를 입력 데이터로 하여 상기 최대 압력 값을 산출하는 맵핑부를 포함하는 초음파 음압장 예측 방법."}
{"patent_id": "10-2023-0139999", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7 항에 있어서,상기 초음파 데이터를 보정하는 단계는,상기 최대 압력값이 -1과 1 사이의 값으로 출력되고, 상기 최대 압력값을 역정규화시키는 역정규화부를 포함하며,역정규화된 상기 최대 압력값으로 상기 초음파 음압장 데이터를 보정하는 초음파 음압장 예측 방법."}
{"patent_id": "10-2023-0139999", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제7 항에 있어서,상기 경두개 집속초음파 음압장 예측 프로그램은,합성곱 인공신경망(Convolutional Neural Network, CNN)을 기반으로 한 인공지능으로 제공되는 초음파 음압장공개특허 10-2025-0056350-4-예측 방법."}
{"patent_id": "10-2023-0139999", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9 항에 있어서,상기 인공지능은 상기 두개골 형상 데이터. 상기 초음파 변환기의 위치 데이터 및 상기 초음파 음압장 데이터를포함하는 학습 데이터를 이용하여, 상기 두개골 형상 데이터, 상기 초음파 변환기의 위치 데이터가 입력으로 사용되고, 이에 대응한 상기 초음파 음압장 데이터가 출력으로 사용되어, 상기 두개골 형상 데이터 및 상기 초음파 변환기 위치 데이터에 따라 상기 초음파 음압장의 형상을 예측하도록 학습이 수행되는 초음파 음압장 예측방법."}
{"patent_id": "10-2023-0139999", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "초음파 음압장 예측 장치 및 이를 이용한 초음파 음압장 예측 방법이 개시된다. 초음파 음압장 예측 장치는 사용 자가 데이터를 입력하고, 또한 사용자가 확인 가능한 형태로 데이터가 출력되게 하는 입출력부; 경두개 집속초음 파 음압장 예측 프로그램과 최대 음압 예측 프로그램이 저장되는 메모리; 및 상기 경두개 집속초음파 음압장 예 (뒷면에 계속)"}
{"patent_id": "10-2023-0139999", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 초음파 음압장 예측 장치 및 이를 이용한 초음파 음압장 예측 방법에 관한 것으로, 보다 상세하게는 주어진 두개골의 형상 데이터 및 초음파 변환기의 위치 데이터를 입력하여 최대 압력값을 산출하고, 상기 최대 압력값을 이용하여 경두개 내에 형성되는 초음파 음압장 데이터를 보정하고, 상기 초음파 음압장 데이터의 오차 율을 줄일 수 있는 초음파 음압장 예측 장치 및 이를 이용한 초음파 음압장 예측 방법에 관한 것이다."}
{"patent_id": "10-2023-0139999", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "집속 초음파(Focused Ultrasound; FUS)는 생체조직 내에 국소영역에 집중된 음향 에너지를 조사하여 조직을 자 극할 수 있는 의료 시술로 사용된다. 상기 집속 초음파는 강도에 따라 고강도 집속 초음파(High-intensity FUS; HIFU)와 저강도 집속 초음파(Low-intensity FUS; LIFU)로 분류될 수 있다. 상기 저강도 집속 초음파를 활용한 비침습적 치료는 출혈 및 뇌 손상 위험이 존재한 수술 치료의 대안으로 사용하며, 운동 기능 및 촉감 회복과 같 은 재활 치료로 이용되고 있다. 또한, 상기 저강도 집속 초음파는 열에너지가 거의 발생하지 않아, 약물 전달을 위한 일시적 뇌혈관 장벽을 개방할 수 있다. 이로 인해, 알츠 하이머 및 간질과 같은 신경질환 치료에 효과적이 다. 하지만, 상기 저강도 집속 초음파를 활용한 비 침습적 치료는 환자의 두개골의 내부에서 생성되는 초음파의 형 상을 실시간으로 제공하기 위한 목표 부위에 음압 초점을 정확하게 배치하는 것이 매우 중요하다. 이를 해결하 기 위해, 자기공명(magnetic resonance)을 이용한 초음파 유도 집속 초음파(USgFUS)과 자기공명 유도 집속 초음 파(MRgFUS)를 이용한 시스템이 개발되었지만, 경두개 치료의 경우, 비교적 온도 변화가 거의 없는 상기 저강도 집속 초음파를 사용하기에는 적절하지 않다. 상기 저강도 집속 초음파는 생체 내 조직에 전달될 때, 반사 및 굴절의 특성을 보이며, 두개골과 같은 다공성 물질을 통과할 때 심한 왜곡이 발생된다. 이로 인해, 초음파의 초점 위치, 세기 및 형상 변화를 알아내는데 어 려움이 있다. 이를 해결하기 위해, 수치해석 기반인 전산해석기법을 이용한 집속 초음파 시스템이 개발되고 있다. 그러나, 상 기 집속 초음파 시스템은 저강도 초음파의 왜곡과 반향을 고려한 음압장을 계산할 수 있으나, 두개골 내 초음파 를 가시화하는데 너무 큰 연산비용을 요구하기 때문에, 실시간으로 운용이 어려워 임상 환경에서만 제한적으로 활용되고 있다."}
{"patent_id": "10-2023-0139999", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 주어진 두개골의 형상 및 초음파 변환기의 위치에 따라 경두개 내에 형성되는 초음파 음압장의 형상 을 예측할 수 있으며, 예측된 상기 초음파 음압장의 형상을 초음파에 의해 경두개 내에 형성되는 최대 압력값으 로 보정할 수 있는 초음파 음압장 예측 장치 및 이를 이용한 초음파 음압장 예측 방법을 제공한다."}
{"patent_id": "10-2023-0139999", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명에 따른 초음파 음압장 예측 장치는 사용자가 데이터를 입력하고, 또한 사용자가 확인 가능한 형태로 데 이터가 출력되게 하는 입출력부; 경두개 집속초음파 음압장 예측 프로그램과 최대 음압 예측 프로그램이 저장되는 메모리; 및 상기 경두개 집속초음파 음압장 예측 프로그램과 상기 최대 음압 예측 프로그램을 실행시켜, 상 기 입출력부를 통해 입력된 데이터에 따른 결과 데이터를 도출하는 제어부를 포함하되, 상기 제어부는, 두개골 의 형상 데이터 및 초음파 변환기의 위치 데이터가 입력되면, 상기 경두개 집속초음파 음압장 프로그램을 실행 시켜 상기 초음파 변환기가 인가하는 초음파에 의해 경두개 내에 형성되는 초음파 음압장 데이터를 산출하고, 상기 두개골의 형상 데이터와 상기 초음파 변환기의 위치 데이터가 입력되면 상기 최대 음압 예측 프로그램을 실행시켜 초음파에 의해 경두개 내에 형성되는 최대 압력값을 산출하고, 상기 최대 압력값으로 상기 초음파 음 압장 데이터를 보정한다. 또한, 상기 경두개 집속초음파 음압장 예측 프로그램은 상기 두개골의 형상 데이터를 기 설정된 크기를 가진 복 셀 데이터로 차원압축을 수행하는 차원 축소부; 상기 차원 축소부에서 수신된 압축된 두개골의 형상 데이터에 대한 희소행렬을 학습하는 인코더; 및 상기 두개골에 대한 희소행렬과 정규화된 상기 초음파 변환기의 위치 데 이터가 입력되면, 이에 대응되는 관심영역 내 상기 초음파 음압장 데이터를 산출하는 디코더를 포함하고, 상기 최대 음압 예측 프로그램은, 상기 인코더로부터 입력된 상기 압축된 두개골의 형상 데이터와 상기 초음파 변환 기의 위치 데이터를 입력 데이터로 하여 상기 최대 압력 값을 산출하는 맵핑부를 포함할 수 있다. 또한, 상기 초음파 데이터를 보정하는 단계는 상기 최대 압력값이 -1과 1사이의 값으로 출력되고, 상기 최대 압 력값을 역정규화시키는 역정규화부를 포함하며, 상기 제어부는, 역정규화된 상기 최대 압력값으로 상기 초음파 음압장 데이터를 보정할 수 있다. 또한, 상기 경두개 집속초음파 음압장 예측 프로그램은 합성곱 인공신경망(Convolutional Neural Network, CN N)을 기반으로 한 인공지능으로 제공할 수 있다. 또한, 상기 인공지능은 상기 두개골 형상 데이터, 상기 초음파 변환기의 위치 데이터 및 상기 초음파 음압장 데 이터를 포함하는 학습 데이터를 이용하여, 상기 두개골 형상 데이터, 상기 초음파 변환기의 위치 데이터가 입력 으로 사용되고, 이에 대응한 상기 초음파 음압장 데이터가 출력으로 사용되어, 상기 두개골 형상 데이터 및 상 기 초음파 변환기 위치 데이터에 따라 상기 초음파 음압장의 형상을 예측하도록 학습이 수행될 수 있다. 본 발명에 따른 초음파 음압장 예측 방법은 두개골 형상 데이터, 초음파 변환기의 위치 데이터, 초음파 음압장 데이터 및 최대 압력값을 포함하는 학습 데이터를 준비하는 단계; 상기 두개골 형상 데이터 및 상기 초음파 변 환기의 위치 데이터를 입력 받아, 메모리로부터 불러온 경두개 집속초음파 음압장 예측 프로그램을 통해 상기 초음파 변환기가 인가하는 초음파에 의해 경두개 내에 형성되는 상기 초음파 음압장 데이터를 산출하는 단계; 상기 두개골 형상 데이터와 상기 초음파 변환기의 위치데이터를 입력 받아, 상기 메모리로부터 불러온 최대 음 압 예측 프로그램을 통해 초음파에 의해 경두개 내에 형성되는 상기 최대 압력값을 산출하는 단계; 및 상기 최 대 압력값으로 상기 초음파 음압장 데이터를 보정하는 상기 초음파 데이터를 보정하는 단계를 포함한다. 또한, 상기 경두개 집속초음파 음압장 예측 프로그램은 상기 두개골의 형상 데이터를 기 설정된 크기를 가진 복 셀 데이터로 차원압축을 수행하는 차원 축소부; 상기 차원 축소부에서 수신된 압축된 두개골의 형상 데이터에 대해 희소행렬을 학습하는 인코더; 및 상기 두개골에 대한 희소행렬과 정규화된 상기 초음파 변환기의 위치 데 이터가 입력되면, 이에 대응되는 관심영역 내 상기 초음파 음압장 데이터를 산출하는 디코더를 포함하고, 상기 최대 음압 예측 프로그램은, 상기 인코더로부터 입력된 상기 압축된 두개골의 형상 데이터와 상기 초음파 변환 기의 위치 데이터를 입력 데이터로 하여 상기 최대 압력 값을 산출하는 맵핑부를 포함할 수 있다. 또한, 상기 초음파 데이터를 보정하는 단계는 상기 최대 압력값이 -1과 1 사이의 값으로 출력되고, 상기 최대 압력값을 역정규화시키는 역정규화부를 포함하며, 역정규화된 상기 최대 압력값으로 상기 초음파 음압장 데이터 를 보정할 수 있다. 또한, 상기 경두개 집속초음파 음압장 예측 프로그램은 합성곱 인공신경망(Convolutional Neural Network, CN N)을 기반으로 한 인공지능으로 제공될 수 있다. 또한, 상기 인공지능은 상기 두개골 형상 데이터. 상기 초음파 변환기의 위치 데이터 및 상기 초음파 음압장 데 이터를 포함하는 학습 데이터를 이용하여, 상기 두개골 형상 데이터, 상기 초음파 변환기의 위치 데이터가 입력 으로 사용되고, 이에 대응한 상기 초음파 음압장 데이터가 출력으로 사용되어, 상기 두개골 형상 데이터 및 상 기 초음파 변환기 위치 데이터에 따라 상기 초음파 음압장의 형상을 예측하도록 학습이 수행될 수 있다."}
{"patent_id": "10-2023-0139999", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 의하면, 초음파 음압장 예측 장치 및 이를 이용한 초음파 예측 방법은 두개골의 형상 데이터 및 초음 파 변환기의 위치 데이터를 경두내 집속초음파 음압장 예측 프로그램에 입력시켜, 경두개 내에 형성되는 초음파 음압장 데이터를 빠르게 예측할 수 있다. 또한, 본 발명에 의하면, 초음파 음압장 예측 장치 및 이를 이용한 초음파 예측 방법은 두개골의 형상 데이터 및 초음파 변환기의 위치 데이터를 최대 음압 예측 프로그램에 입력시켜 산출된 경두개 내에 형성되는 최대 압 력값으로 초음파 음압장 데이터를 보정하여 상기 초음파 음압장 데이터의 오차율을 줄여 높은 정확성 및 우수한 안전성을 확보할 수 있다."}
{"patent_id": "10-2023-0139999", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면들을 참조하여 본 발명의 바람직한 실시 예를 상세히 설명할 것이다. 그러나 본 발명의 기술 적 사상은 여기서 설명되는 실시 예에 한정되지 않고 다른 형태로 구체화될 수도 있다. 오히려, 여기서 소개되 는 실시 예는 개시된 내용이 철저하고 완전해질 수 있도록 그리고 당업자에게 본 발명의 사상이 충분히 전달될 수 있도록 하기 위해 제공되는 것이다. 본 명세서에서, 어떤 구성요소가 다른 구성요소 상에 있다고 언급되는 경우에 그것은 다른 구성요소 상에 직접 형성될 수 있거나 또는 그들 사이에 제 3의 구성요소가 개재될 수도 있다는 것을 의미한다. 또한, 도면들에 있 어서, 막 및 영역들의 두께는 기술적 내용의 효과적인 설명을 위해 과장된 것이다. 또한, 본 명세서의 다양한 실시 예 들에서 제1, 제2, 제3 등의 용어가 다양한 구성요소들을 기술하기 위해서 사 용되었지만, 이들 구성요소들이 이 같은 용어들에 의해서 한정되어서는 안 된다. 이들 용어들은 단지 어느 구성 요소를 다른 구성요소와 구별시키기 위해서 사용되었을 뿐이다. 따라서, 어느 한 실시 예에 제 1 구성요소로 언 급된 것이다른 실시 예에서는 제 2 구성요소로 언급될 수도 있다. 여기에 설명되고 예시되는 각 실시 예는 그 것의 상보적인 실시 예도 포함한다. 또한, 본 명세서에서 '및/또는'은 전후에 나열한 구성요소들 중 적어도 하나를 포함하는 의미로 사용되었다. 명세서에서 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한 복수의 표현을 포함한다. 또한, \"포함하다\" 또는 \"가지다\" 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 구성요소 또는 이들을 조합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징이나 숫자, 단계, 구성요소 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 배제하는 것으로 이해되어서는 안 된다. 또한, 본 명세서에서 \"연결\"은 복수의 구성 요소를 간접적으로 연결하는 것, 및 직접적으로 연결하는 것을 모두 포함하는 의미로 사용된다. 또한, 하기에서 본 발명을 설명함에 있어 관련된 공지 기능 또는 구성에 대한 구체적인 설명이 본 발명의 요지 를 불필요하게 흐릴 수 있다고 판단되는 경우에는 그 상세한 설명은 생략할 것이다. 도 1은 본 발명의 일 실시 예에 따른 초음파 음압장 예측 장치를 나타내는 볼록도이고, 도 2는 본 발명의 일 실 시 예에 따른 제어부가 동작 과정을 나타내는 볼록도이다. 도 1 및 도 2를 참조하면, 초음파 음압장 예측 장치는 주어진 두개골의 형상 데이터 및 초음파 변환기의 위 치 데이터에 따라 경두개 내에 형성된 초음파 음압장 데이터를 보정하여 기 설정 크기를 갖는 관심 영역 내 초 음파 음압장 데이터의 정확성 및 안정성을 높일 수 있다. 상기 초음파 음압장 예측 장치는 입출력부, 메 모리, 제어부 및 구동부를 포함할 수 있다. 상기 입출력부는 사용자가 데이터를 입력하고, 상기 데이터를 확인 가능한 형태로 출력되도록 한다. 일 실 시 예에 의하면, 상기 입출력부는 키보드, 마우스 및 디지타이징 패드와 같은 장치를 이용하여 사용자가 데 이터를 입력할 수 있다. 상기 입출력부는 디스플레이 패널을 이용하여 사용자가 데이터 출력할 수 있다. 상 기 입출력부는 입력 및 출력 부분이 통합된 터치 스크린 등으로 제공될 수 있다. 또한, 상기 입출력부 는 데이터 입력을 위한 부분 또는 데이터 출력을 위한 부분이 다른 의료 장비와 통합된 형태로 제공되어, 의료 장비가 입력 또는 출력 데이터를 바탕으로 동작을 수행하도록 제공될 수 있다. 상기 메모리는 경두개 집속초음파 음압장 예측 프로그램 및 최대 음압 예측 프로그램이 저장된 상 태로 제공될 수 있다. 상기 메모리는 상기 입출력부를 통해 입력된 데이터, 상기 입출력부를 통해 입력된 데이터를 상기 경두개 집속초음파 음압장 예측 프로그램과 최대 음압 예측 프로그램에 적용하여 생성된 데이터를 저장할 수 있다. 상기 경두개 집속초음파 음압장 예측 프로그램은 인공지능을 기반으로 된 알고리즘을 포함할 수 있으며, 합 성곱 인공신경망(Convolutional Neural Network, CNN)을 기반으로 제공될 수 있다. 상기 경두개 집속 초음파 음압장 예측 프로그램은 차원 축소부, 인코더(Encoder) 및 디코더(Decoder)를 포함한다. 상기 차원 축소부는 두개골의 형상 데이터를 차원 압축 및 특징 추출을 수행하여 기 설정된 크기를 가진 복셀 (voxels) 데이터를 생성한다. 일 실시 예에 의하면, 상기 복셀 데이터는 312×512의 크기를 가진다. 상기 두개골의 형상 데이터는 두개골의 입체적 형상에 관한 데이터이고, 3차원 이미지 형태로 제공될 수 있다. 상기 두개골의 형상 데이터는 CT(Computed tomography) 촬영 등을 통해 촬영된 이미지일 수 있다. 상기 두개골 형상 데이터는 상기 경두개 집속 초음파 음압장 예측 프로그램에 입력시킬 데이터를 생성하기 위한 전처리 과정을 거쳐야 한다. 일 실시예에 의하면, 상기 두개골 형상 데이터는 VGG(Visual Gemoery Group) 네트워크를 이용하여 이미지 형태에서 기 설정된 크기를 가진 희소행렬 형태로 전환할 수 있다. 상기 VGG(Visual Gemoery Group) 네트워크는 대규모 시각적 데이터베이스인 ImageNet으로, 기 학습된 알고리즘 이다. 상기 기 학습된 VGG(Visual Gemoery Group) 네트워크는 합성곱 층으로 구성된 특징 추출부를 통해 상기 두개골 형상의 데이터의 특징 추출할 수 있다. 상기 특징 추출부는 기 설정된 크기를 가진 복수 개의 컨볼루션 층(Convolution layer) 및 전역 평균 풀링 층(Global average pooling layer)을 포함할 수 있다. 도 3은 본 발명의 일 실시 예에 따른 경두개 집속초음파 음압장 예측 프로그램의 구조를 나타내는 도면이다. 도 3을 참조하면, 상기 인코더(13a)는 6개의 합성곱 층으로 구성될 수 있으며, 상기 차원 축소부에서 수신 된 상기 복셀 데이터를 학습한다. 여기서, 상기 인코더(13a)에 있어, C는 각 합성곱 층의 특징맵의 수를 나타낸 다. 상기 인코더(13a)의 입력 층은 특징맵(C) 64개, 커널사이즈(K) 4, 및 스트라이드(S) 3으로 제공될 수 있다. 상기 인코더(13a)는 배치정규화를 사용하고, LeakyReLU인 전달 함수로 제공될 수 있다. 상기 인코더(13a)의 제1 층은 특징맵(C) 64개, 커널사이즈(K) 4, 및 스트라이드(S) 3이다. 상기 인코더(13a)의 제2 층은 특징맵(C) 128개이다. 상기 인코더(13a)의 제3 층은 특징맵(C) 256개이다. 상기 인코더(13a)의 제4 층내지 제6 층은 특징맵(C) 512개이다. 상기 디코더(14a)는 희소행렬 형태인 상기 두개골 형상 데이터와 정규화된 상기 초음파 변환기의 위치 데이터를 입력 받아, 이에 대응되는 관심영역 내 상기 초음파 음압장 데이터를 산출한다. 상기 디코더(14a)는 각 층에 있 어, D는 전치 합성곱 층의 특징맵(D)의 수, K는 커널사이즈, S는 스트라이드, F는 완전 연결 계층의 노드 수를 나타낸다. 상기 디코더(14a)는 배치정규화를 사용하고, ReLu인 전달함수로 제공될 수 있다. 상기 디코더(14a)의 제1 층 및 제2 층은 특징맵(D) 512개이다. 상기 디코더(14a)의 제3 층은 특징맵(D) 256개이다. 상기 디코더 (14a)의 제4 층은 특징맵(D) 128개이다. 상기 디코더(14a)의 제5 층은 특징맵(D) 64개, 커널사이즈(K) 4, 및 스 트라이드(S) 1이다. 상기 디코더(14a)의 제6 층은 특징맵(D) 151개, 커널사이즈(K) 4, 및 스트라이드(S) 1이다. 여기서, 초음파 변환기의 위치 데이터는 두개골에 의해 초음파 변환기가 위치되는 지점에 대한 좌표이다. 상기 좌표는 생체의 머리의 외측에서의 X, Y, Z축의 위치에 관한 것이다. 상기 초음파 변환기의 위치 데이터는 좌표 데이터 및 각도 데이터를 포함한다. 상기 좌표 데이터는 좌두개골에 대해 초음파 변환기가 위치되는 X, Y, Z축 의 3차원 좌표를 나타낸다. 상기 각도 데이터는 두개골에 대해 초음파 변환기가 위치되는 각도(즉, 두개골에 대 해 초음파가 조사되는 각도)를 나타낸다. 상기 좌표 데이터와 상기 각도 데이터는 인공지능의 효율적인 학습을 위해 각각 최소-최대 정규화 과정을 거쳐 -1과 1 사이의 값으로 변환된 것이 사용될 수 있다. 상기 인공지능은 오차 역전파를 통해 학습이 이루어 질 수 있다. 도 4는 본 발명의 다른 실시 예에 따른 경두개 집속초음파 음압장 예측 프로그램의 구조를 나타내는 도면이다. 도 4를 참조하면, 인코더(20a) 및 디코더(20b)는 pix2pix 모델을 기초로 하여 구성될 수 있다. 상기 pix2pix 모 델은 합성곱 신경망 구조를 기본으로 하며, 생성자(20a, 20b)와 판별자(25b)가 적대적으로 학습하면서 네트워크 의 성능을 향상시키는 적대적 생성 신경망(Generative Adversarial Network) 중 이미지 변환에 특화된 모델이다. 생성자(Generator)(20a, 20b)는 인코터(20a)와 디코더(20b)를 포함하여, 압축된 상기 두개골 형상 데이터와 초 음파 변환기의 위치 데이터를 입력받아 초음파 음압장 데이터를 생성한다. 인코더(20a) 및 디코더(20b)의 구조 는 본 발명의 일 실시 예에 따른 인코더(13a) 및 디코더(14a)와 동일하게 제공될 수 있다. 판별자(Discriminator)(25b)는 입력받은 상기 초음파 음압장 데이터가 상기 생성자가 예측한 초음파 음압장 데 이터인지, 혹은 학습 데이터로 사용된 시뮬레이션으로부터 생성된 정답지인지 패치 기반으로 판별하여 네트워크 학습에 영향을 미친다. 본 발명의 다른 실시 예에 따른 인코더(20a) 및 디코더(20b)는 상기 판별자(25b)를 더 포함함에 따라, 상기 생성자(20a, 20b)는 예측한 초음파 음압장 데이터에 대해 평가를 받게 되어, 더 좋은 품질 의 음압장을 생성할 수 있도록 학습할 수 있게 된다. 상기 판별자(25b)는 판별을 위한 기준이 되는 Condition pressure field가 입력되는 지점을 기준으로 전방 및 후방에 각각 2개의 층을 갖도록 구성될 수 있다. 각 층에 있어서, C는 특징맵의 수, K는 커널사이즈, S는 스트라이드를 나타낸다. 도 5는 본 발명의 또 다른 실시 예에 따른 경두개 집속초음파 음압장 예측 프로그램의 구조를 나타내는 도면이 다. 도 5를 참조하면, 본 발명의 또 다른 실시 예에 따른 인코더(20c) 및 디코더(25c)는 합성곱 신경망 구조를 기본 으로 하는 변분오토인코더(VAE, Variational AutoEncoder) 모델을 기초로 구성될 수 있다. 본 발명의 또 다른 실시 예에 따른 상기 인코더(20c)는 후단에 있어, 디코더(25c)와 연결되는 지점에 위치되는 병목부를 더 포함한다. 상기 병목부는 확률분포를 이용하여 입력 값에 대한 희소벡터를 생성하고, 디코 더(25c)가 전달받은 희소벡터를 변환하여, 디코더(25c)가 생성하는 출력의 품질이 향상되게 한다. 상기 병목부 는 생성되는 희소벡터를 통제하기 위해서 전달받은 상기 두개골 형상 데이터로부터 평균과 분산을 계산하고, 이에 해당하는 모평균과 모분산을 가지는 정규분포로부터 희소벡터를 샘플링한다. 상기 병목부는 희소벡터의 차원을 하이퍼파라미터로 설정할 수 있다. 일 실시 예로, 희소벡터의 차원인 상기 하이퍼파라미터 (F)는 512로 설정될 수 있다. 상기 인코더(20c), 상기 병목부의 앞 부분에 위치되는 부분의 구조 및 디코더 (25c)의 구조는 본 발명의 일 실시 예에 따른 인코더(13a) 및 디코더(14a)와 동일한 구조로 제공될 수 있다. 도 6은 본 발명의 디코더가 산출한 초음파 음압장 데이터의 초점 좌표와 정답지에 해당하는 초점 좌표 사이의 설명하기 위한 도면이고, 도 7은 다이스 유사 계수를 설명하는 도면이고, 도 8은 하우스도르프 거리를 설명하는 도면이다.도 6 내지 도 8을 참조하면, 상기 초음파 음압장 데이터는 초음파 변환기에서 조사된 초음파가 두개골의 안쪽 즉 뇌가 위치된 영역에서 진행되는 형상에 관한 것이다. 상기 초음파 음압장 데이터는 3원 이미지 형태, 또는 특정 기준면을 대한 2차원 이미지 형태 등으로 제공될 수 있다. 상기 초음파 음압장 데이터는 상기 두개골 형상 데이터, 해당 두개골에 초음파를 인가하는 상기 초음파 변환기의 위치 데이터와 쌍을 이루도록 제공된다. 상기 초음파 음압장 데이터는 후술하는 바와 같이 집속 초음파 초점에 대한 정의에 따라, 반치전폭(FWHM, full-width at half-maxium) 임계값을 통해 초음파의 초점 영역과 초점 밖 영역으로 이진화 처리될 수 있다. 또한, 초점 영 역의 경계가 반치전폭 임계값에 따른 경계에서 타원체 경계로 변환될 수 있다. 흰색 영역(pre)은 경두개 집속초음파 음압장 예측 프로그램이 예측한 초음파 음압장의 초점 영역을 나타내 고, 짙은 회색 영역(gT)은 전산해석 시뮬레이션에 의한 초음파 음압장의 초점 영역을 나타내고, 옅은 회색 영역 은 두 초점 영역이 일치하는 부분을 나타낸다. 상기 초음파 음압장 데이터는 초점 영역으로 설정된 부분이 출력으로 사용될 수 있다. 상기 초점 영역은 반치전 폭 임계값에 따른 경계로 변형한 것일 수 있다. 이 후, 상기 디코더는 상기 두개골의 형상 데이터 및 초음파 변 환기의 위치 데이터에 따라 상기 초음파 음압장 데이터를 1차로 출력된다. 1차 출력값은 역 정규화 처리된 후 상기 초음파 음압장 데이터를 출력된다. 도 9는 본 발명의 일 실시 예에 따른 최대 음압 예측 프로그램을 나타내는 도면이고, 도 10은 도 9의 맵핑부가 산출한 최대 압력값의 변화량을 나타내는 도면이다. 도 9 및 도 10을 참조하면, 상기 최대 음압 예측 프로그램은 인코더, 맵핑부 및 역정규화부를 포함한다. 상기 인코더는 상기 경두개 집속초음파 음압장 예측 프로그램의 인코더와 동일한 구조로 제공될 수 있다. 상기 인코더는 상기 두개골의 형상 데이터 및 상기 초음파 변환기의 위치 데이터를 입력받 는다. 상기 맵핑부는 1개의 합성곱 층으로 제공되며, EN-1×Conv 모델을 기초로 하여 구성된다. 상기 EN-1×1Conv 네트워크 모델은 2차원 이미지 형태인 두개골 형상 데이터를 그대로 유지한 상태에서 채널 수의 변경만 이루어 져 위치 정보를 보존할 수 있다. 단일 합성곱 층은 채널 수를 자유롭게 조절할 수 있어 채널 수를 대폭 줄여 네트워크가 학습해야 하는 파라미터 수를 크게 줄일 수 있다. 이로 인해, 상기 단일 합성곱 층은 활성화 함수를 사용하여 네트워크의 비선형성을 증 가시킬 수 있다. 그 결과, 상기 단일 합성곱 층은 복잡한 패턴에 대해서도 잘 학습할 수 있어, 상기 EN-1× 1Conv 네트워크 모델의 성능을 개선시키는 효과를 가진다. 상기 맵핑부의 커널 사이즈는 1×1이고, 상기 인코더로부터 입력된 상기 압축된 두개골의 형상 데이터 와 상기 초음파 변환기의 위치 데이터를 입력 데이터로 하여 상기 최대 압력값을 산출한다. 상기 역정규화부는 상기 최대 압력값이 -1과 1사이의 값으로 출력되고, 상기 최대 압력값을 배치 역정규화 를 사용한다. 역정규화된 상기 최대 압력값은 상기 초음파 음압장 데이터를 보정하는데 사용된다. 다시 도 1 및 도 2를 참조하면, 상기 제어부는 상기 메모리에 저장된 경두개 집속초음파 예측 프로그램 을 실행시켜, 상기 입출력부를 통해 입력된 데이터에 따른 결과 데이터가 도출되고, 도출된 결과 데이 터가 상기 입출력부를 통해 출력되게 한다. 상기 제어부는 두개골 형상 데이터 및 초음파 변환기의 위 치 데이터가 입력되면, 입력된 초음파 변환기가 인가하는 집속 초음파에 의해 경두개 내에 형성되는 초음파의 음압장 데이터를 출력한다. 집속 초음파(Focused Ultrasound, FUS)는 생체조직 내에 국소영역에 집중된 음향에너지를 조사할 수 있다. 이에 따라, 집속 초음파는 인체의 내부에 에너지를 인가하여 진단, 치료 등의 목적으로 사용되고 있다. 특히, 집속 초음파는 뇌에 인가되는 경우, 비침습적으로 뇌 자극을 할 수 있어 뇌 자극 및 치료에 사용될 수 있다. 집속 초음파는 그 강도에 따라 고강도 집속 초음파(High-intensity FUS; HIFU)와 저강도 집속 초음파(Low- intensity FUS; LIFU)로 나뉠 수 있다. 고강도 집속 초음파는 혈전 분해(thrombolysis), 체외 충격파 (extracorporeal shockwave), 열 절제(thermal ablation), 보일링 히스토트닙시(boiling histotnipsy) 등과 같 이 대상 영역의 상태를 직접적으로 변경하여 치료 효과가 나타나도록 한다. 반면, 저강도 집속 초음파는 혈액 뇌 장벽(blood-brain barrier) 개방을 통한 약물전달 및 비침습적 뇌 자극 (brain stimulation) 등과 같은 분야에 이용된다. 또한, 저강도 집속 초음파는 최근 간질(epilepsy), 뇌 종양 (brain tumors), 알츠하이머(Alzheimer's), 파킨슨병(Parkinson's disease) 등과 같은 신경계 질환의 치료에효과가 있는 것으로 밝혀지고 있다. 집속 초음파에 의한 치료가 효과를 나타내기 위해서는 원하는 영역에 초음파를 조사할 수 있어야 한다. 하지만, 초음파는 비가시적이며, 생체 내에서 진행할 때 반사 및 굴절하는 특성을 가진다. 특히, 초음파는 파동특성으로 인해 물성이 다른 영역이 만나는 경계를 통과할 때 왜곡이 발생하며, 이에 따라 두개골이나 다공성 영역을 통과 할 때 심한 왜곡이 발생한다. 이에 따라서, 초음파를 경두개 치료에 사용하는 데에는 어려움을 겪는다. 반면, 본 발명의 일 실시 예에 따른 초음파 음압장 예측 장치는 초음파가 진행하면서 두개골을 비롯한 영역 을 지나면서 굴절이 발생되는 것을 반영하여, 입력된 두개골 형상 데이터에 대응되는 두개골의 외측에 초음파 변환기를 위치시켰을 때, 그에 따라 경두개 내측에 형성되는 초음파 음압장 데이터를 제공한다. 이에 따라, 의 료 행위를 하는 사용자는 경두개 집속초음파 음압장 예측 장치에 의해 제공되는 초음파 음압장 데이터를 통 해 효과적으로 초음파를 이용한 의료 행위를 수행할 수 있다. 상기 구동부는 집속초음파를 발생시키는 초음파 변환기의 동작 상태를 제어한다. 상기 구동부는 상기 제어부에서 예측된 초음파 음압장에 따라 초음파 변환기의 위치를 제어할 수 있다. 도 11은 본 발명의 일 실시 예에 따른 초음파 음압장 예측 방법을 나타내는 순서도이다. 도 11을 참조하면, 초음파 음압장 예측 방법은 학습 데이터를 준비하는 단계(S10), 초음파 음압장 데이터를 산 출하는 단계(S20) 및 최대 압력값을 산출하는 단계(S30) 및 초음파 데이터를 보정하는 단계(S40)를 포함한다. 상기 학습 데이터를 준비하는 단계(S10)는 경두개 집속초음파 음압장 예측 프로그램의 학습을 위한 학습 데 이터를 준비한다. 상기 학습 데이터는 두개골 형상 데이터, 초음파 변환기의 위치 데이터, 초음파 음압장 데이 터 및 최대 압력값을 포함한다. 상기 학습 데이터는 초음파 변환기를 생체의 두개골에 인접하게 위치시켜 초음파를 조사하면서 기존의 의료 장 비를 통해 두개골의 형태, 초음파가 진행되는 경로를 촬영하여 획득할 수 있다. 상기 학습 데이터는 전산역학을 기반으로 한 시뮬레이션을 통해 획득될 수 있다. 생체에 있어, 두개골이 내측에 위치되어 뇌가 위치되는 영역에 서의 초음파에 의해 형성되는 음압장의 3차원 상의 위치 및 형상으로 설정된다. 이에 따라, 특정 두개골의 형태 에 대해 초음파 변환기 위치를 입력할 시, 사용자는 해당 두개골의 내부에 형성되는 초음파 음압장 데이터를 실 시간으로 출력 확인할 수 있다. 상기 학습 데이터는 초음파 변환기를 생체의 두개골에 인접하게 위치시켜 초음파를 조사하면서 기존의 의료 장 비를 통해 두개골의 형태, 초음파가 진행되는 경로를 촬영하여 획득될 수 있다. 상기 학습 데이터는 전산역학을 기반으로 한 시뮬레이션을 통해 획득될 수 있다. 상기 초음파 음압장 데이터를 산출하는 단계(S20)는 상기 두개골 형상 데이터 및 상기 초음파 변환기의 위치 데 이터를 입력 받아, 상기 메모리로부터 불러온 상기 경두개 집속 초음파 음압장 예측 프로그램을 통해 상기 초음파 변환기가 인가하는 초음파에 의해 경두개 내에 형성되는 상기 초음파 음압장 데이터를 산출한다. 상기 인코더와 상기 디코더는 준비된 학습 테이터를 통해, 두개골의 형상 데이터 및 초음파 변환기의 위치와 그에 따라 생성되는 초음파 음압장의 관계를 학습한다. 이후, 상기 인코더는 두개골 형상 데이터 및 초음파 변환기의 위치 데이터를 입력 받는다. 상기 디코더(1 4)는 이에 따라 생성될 초음파 음압장 데이터를 출력한다. 구체적으로, 상기 인코더와 상기 디코더는 준비된 학습 데이터를 통해 학습된다. 학습 데이터는 두개골 형상 데이터 및 초음파 변환기 위치 데이터가 입력으로 사용되고, 이에 따라 관심 영역에 서 형성되는 상기 초음파 음압장 데이터가 출력으로 사용되어, 상기 두개골 형상 데이터 및 상기 초음파 변환기 의 위치 데이터에 따라 초음파 음압장 데이터를 예측하도록 학습이 수행된다. 상기 두개골 형상 데이터는 경두개 집속초음파 음압장 예측 프로그램의 효율적인 학습을 위해 대규모 시각 적 데이터베이스인 ImageNet으로 기 학습된 VGG(Visual Geomery Group) 네트워크를 통해 차원압축이 수행될 수 있다. 일 실시 예에 의하면, 상기 두개골 형상 데이터는 정규화 된 후, 상기 기 학습된 VGG 네트워크를 사용하 여 315*512 크기를 가진 희소행렬인 복셀 데이터로 차원압축이 수행될 수 있다. 이 과정에서 상기 기 학습된 VGG 19 네트워크는 합성곱 층으로 구성된 특징 추출부에 전역 평균 풀링 층을 추가하여 기존 학습에 사용한 이 미지 데이터에서 기 설정된 크기를 가진 희소행렬인 복셀 데이터로 입력 값을 받아 차원 압축을 수행할 수 있다.상기 초음파 변환기의 위치 데이터는 3차원 좌표 데이터 및 각도 데이터를 포함한다. 이 때, 상기 3차원 좌표 데이터와 상기 각도 데이터는 인공지능의 효율적인 학습을 위해 각각 최소-최대 정규화 과정을 거처 -1과 1 사 이의 값으로 변환된 것이 사용될 수 있다. 상기 초음파 음압장 데이터는 초점 영역으로 설정된 부분이 출력으로 사용될 수 있다. 이 때, 초점 영역은 반치 전폭 임계값에 따른 경계로 변형한 것일 수 있다. 학습이 진행되는 과정에서 상기 초음파 음압장 데이터는 정규 화 처리된 형태로 사용될 수 있다. 이 후, 상기 디코더는 상기 두개골의 형상 테이터 및 상기 초음파 변환기의 위치 데이터에 따라 초음파 음압장 데이터를 1차 출력하면, 1차 출력값을 역정규화 처리된 후 상기 초음파 음압 장 데이터를 출력한다. 상기 최대 압력값을 산출하는 단계(S30)는 상기 두개골 형상 데이터와 상기 초음파 변환기의 위치 데이터를 입 력 받아, 상기 메모리로부터 불러온 상기 최대 음압 예측 프로그램을 통해 초음파에 의해 경두개 내에 형성 되는 상기 최대 압력값을 산출한다. 상기 초음파 음압장 데이터를 보정하는 단계(S40)는 산출된 상기 최대 압력값으로 역정규화된 상기 초음파 음압 장 데이터를 보정한다. 이로 인해, 기 설정 크기를 가진 최종적인 상기 초음파 음압장 데이터가 출력된다. 도 12 및 도 13은 학습 데이터를 전산역학을 기반으로 한 시뮬레이션을 수행하여 획득하기 위한 초음파 음압장 데이터의 구성을 나타내는 도면이다. 도 12 및 도 13을 참조하면, 시뮬레이션의 수치 모델링을 위한 데이터는 두개골 모델, 초음파 변환기 모델 및 관심 영역을 포함한다. 상기 두개골 모델은 상기 학습 데이터의 상기 두개골의 형상 데이터에 대응된다. 상기 두개골 모델은 실물 두개골을 촬영하여 제공될 수 있다. 일 실시 예에 의하면, 상기 두개골 모델을 실물 두개골을 CT 촬 영하여 제공될 수 있다. 상기 두개골 모델은 물에서 만족스러운 정밀도 및 공간 분해능을 갖도록 설정 공 간 해상도 이상으로 제공될 수 있다. 일 실시 예에 의하면, 상기 두개골 모델은 0.5mm x 0.5mm x 0.5mm 이 상의 공간 해상도를 갖도록 CT 촬영하여 제공될 수 있다. 상기 두개골 모델의 복셀은 [수학식 1]과 같이 Hounsfiled units에 따라 물과 해면골 및 피질골로 분류될 수 있다. 수학식 1"}
{"patent_id": "10-2023-0139999", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "여기서 상기 는 초음파의 속력, 상기 는 초음파의 밀도이고, 상기 는 물, 상기 는 해면골, 상기 는 피질골이고, 상기 는 감쇄 계수를 나타낸다. 상기 두개골 모델은 서로 상이한 2개 이상의 실물 두개골 각각을 이용하여, 복수가 만들어 질 수 있다. 상기 초음파 변환기 모델은 실물 초음파 변환기를 모델링한다. 상기 초음파 변환기 모델은 기 설정 직경, 기 설정 곡률 반경 및 기 설정 초점 길이를 갖도록 모델링 될 수 있다. 일 실시 예에 의하면, 상기 초음 파 변환기 모델은 직경 96mm, 곡률 반경 52mm 및 초점 길이 83mm로 모델링 될 수 있다. 상기 초음파 변환기 모델에는 위치 기준점이 설정되어, 위치 기준점의 좌표를 초음파 변환기 모델의 위치로 설정할 수 있다. 일 실시 예에 의하면, 상기 초음파 변환기 모델에 있어, 상기 두개골 모델을 향하는 출구면의 중심 영역을 위치 기준점으로 설정할 수 있다. 상기 초음파 변환기 모델은 두개골 모델과 인접하게 위치된 거동 영역에서 위치가 가변 되면서 시뮬레이션이 수행될 수 있다. 상기 거동 영역은 두개골 모델의 상부 외면에 인접하고, 기 설정 체적을 갖도록 설정될 수 있다. 일 실시 예에 의하면, 상기 거동 영역은 20mm x 20mm x 20mm 크기로 설정될 수 있다. 상기 초음파 변환기 모델의 위치는 위치 기준점의 3차원 좌표를 나타내는 시뮬레이션 좌표 데이터, 두개골 모델에 대해 초음파 변환기 모델이 위치되는 각도를 나타내는 시뮬레이션 각도 데이터를 포함 한다. 시뮬레이션 각도 데이터는 출구면의 법선 벡터로 정의될 수 있다. 시뮬레이션 좌표 데이터 및 시뮬레이션 각도 데이터는 각각 초음파 변환기의 좌표 데이터 및 각도 데이터에 대응된다. 상기 관심 영역은 초음파 변환기 모델에서 조사된 초음파가 전파되는 형상 데이터를 획득하기 위한 영역으로 기 설정 체적을 갖도록 설정된다. 일 실시 예에 의하면, 상기 관심 영역은 40mm x 75mm x 40mm 크기로 설정될 수 있다. 상기 관심 영역의 중심점은 초음파 변환기 모델의 초기 위치에서 초점 길이만큼 떨어진 위치에 설정 될 수 있다. 상기 관심영역이 시작되는 평면의 중심(x=20mm, y=0mm, z=20mm)은 초음파 변환기 출구면의 중 심좌표와 50mm 거리를 가지도록 설정될 수 있다. 상기 초음파 변환기 모델의 위치를 변경시키면서, 상기 관심 영역내에서 초음파가 전파되는 형상의 획득을 위한 시뮬레이션이 수행된다. 상기 관심 영역 내 에서 초음파 전파 모델링을 실시하기 위해 지배방정식으로 [수학식 2]와 같은 Westervelt-Lightill 방정식이 사 용될 수 있다. 수학식 2"}
{"patent_id": "10-2023-0139999", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "여기서, 상기 p는 음파의 압력, 상기 c는 매질에서의 파동 속도, 상기 a는 매질에서의 감쇠 계수, 상기 f는 음 파의 주파수 및 상기 t는 시간을 나타낸다. 지배방정식의 공간 및 시간에 대한 편도함수를 근사하기 위해 [수학식 3]과 같은 finite-difference time domain(FDTD) 방법을 사용할 수 있으며, 초음파 전파는 식을 반복적으로 평가하여 수행된다. 수학식 3"}
{"patent_id": "10-2023-0139999", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "여기서, 상기 는 절점에서의 음파의 압력(음압 값)이고, 상기 , 상기 , 및 상기 는 절점 에서 시간 t에서 x, y, z축에 대한 음파의 속력이고, 상기 는 초음파의 속도, 상기 는 초음파의 밀도, 상기 는 감쇄 계수를 나타낸다. 이 때, FDTD를 포함하여 explicit dynamic processes를 풀기위한 알고리즘은 수치적인 오류를 가지기 때문에 [수학식 4]와 같이 표현될 수 있는 Courant-Friedrichs-Lewy(CFL) criterion으로 알려진 안정성 조건을 만족시 켜야 한다. 수학식 4"}
{"patent_id": "10-2023-0139999", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "여기서, 상기 Δt는 시간 간격이고, 상기 δ는 이산화 된 공간 간격이고, 상기 c는 파동의 속력을 나타낸다. 경두개에 사용되는 집속 초음파의 적절한 주파수는 650 kHz 미만으로 알려져 있으며, 본 실시 예에서는 250 kHz 의 초음파를 조사하여 수치 모델링을 진행하고 학습 데이터를 얻기 위한 시뮬레이션을 수행하였다. 전산역학 기반 시뮬레이션을 수행하면 상기 초음파 변환기 모델의 위치에 따른 상기 관심영역 내의 초음파의 압력분포를 음압장 형상 데이터로 얻을 수 있다. 이 때, 시뮬레이션은 서로 상이한 형상의 두개골 모 델 각각에 대해 수행되어, 그 결과가 획득될 수 있다. 음압장 형상의 시뮬레이션 결과는 집속 초음파의 초점에 대한 정의를 통해 초음파의 초점 영역과 초점 밖 영역 으로 이진화 처리될 수 있다. 집속 초음파의 초점 영역은 반치전폭(FWHM, full-width at half-maximum) 임계값 에 해당되는 영역으로 정의될 수 있다. 실험 예 도 3 내지 도 5에 도시된 구조를 갖는 음압장 인공지능에 대해 학습을 진행하였다. 본 발명의 제1 내지 제3 실시 예에 따른 초음파 음압장 데이터를 경두개 집속초음파 음압장 예측 프로그램 에 학습시키기 위한 하이퍼-파라미터는 [표 1]과 같이 설정될 수 있다. 제1 내지 제3 실시 예에 따른 인코더 및 디코더는 오차 역전파를 위한 손실 함수로 관심영역 내 초음파 음압장 데이터에 대한 평균 제곱 오차를 기본적 으로 사용한다. 또한, 본 발명의 다른 실시 예에 따른 인코더 및 디코더는 생성자가 예측한 음압장과 정답지 음 압장의 진위여부를 판별자가 판별하는 적대적 손실 함수를 함께 사용하며, 이 때 평균 제곱 오차로 구현되는 재 구성 손실 함수와 이진 교차 엔트로피로 구현되는 적대적 손실 함수 간의 가중치를 람다(λ)로 정의한다. 본 실 험 예에서는 재구성 함수의 가중치를 60으로 사용하였다.표 1 optimizer learing ratebatch sizeepoch λ latent dim. AE Adam 0.002 32 300 pix2pixAdam 0.0004 8 200 60 VAE Adam 0.005 8 100 512 본 발명의 제3 실시 예에 따른 인코더 및 디코더는 병목부에서 잠재변수를 추출하기 위한 모평균과 모분산 설정 하기 위해 쿨백-라이블러 발산(KLD; Kullback-Leibler Divergence)을 정규화 손실 함수로 함께 사용한다. 본 발명의 제1 실시 예에 따른 인코더 및 디코더에 대한 손실함수는 [수학식 5]와 같다. 수학식 5"}
{"patent_id": "10-2023-0139999", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "여기서, 상기 n은 학습 데이터의 개수이고, 상기 F는 오토인코더 네트워크이고, 상기 x는 두개골 형상 데이터이 고, 상기 c는 초음파 변환기의 위치 데이터이고, 상기 y는 초음파 음압장에 대한 정답지 데이터를 나타낸다. 본 발명의 다른 실시 예에 따른 인코더 및 디코더에 대한 손실함수는 [수학식 6]와 같다. 수학식 6"}
{"patent_id": "10-2023-0139999", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "여기서, 상기 n은 학습데이터의 개수이고, 상기 x는 두개골 형상 데이터이고, 상기 c는 초음파 변환기 위치 데 이터이고, 상기 y는 초음파 음압장 정답지 데이터를 의미이고. 상기 G는 생성자 네트워크이고, 상기 D는 판별자 네트워크를 의미한다. 본 발명의 또 다른 실시 예에 따른 인코더 및 디코더에 대한 손실함수는 [수학식 7]와 같다. 수학식 7"}
{"patent_id": "10-2023-0139999", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "여기서, 상기 n은 학습데이터의 개수이고, 상기 x는 두개골 형상 데이터이고, 상기 c는 초음파 변환기 위치 데 이터이고, 상기 y는 음압장 정답지 데이터이고, 상기 μ 및 σ는 각각 병목부에서 잠재벡터를 샘플링하기 위한 가우시안 분포의 평균과 분산을 의미한다. 학습된 인코더 및 디코더에 대한 성능을 평가하기 위해 반치전폭 (FWHM, full width half maximum)으로 정의되 는 초음파 음압장 데이터의 초점영역을 다음과 같은 네 가지 지표를 사용하여 비교하였다. 1) 학습된 인코더 및 디코더가 예측한 초음파 음압장의 초점 좌표와 정답지에 해당하는 초점 좌표 사이의 거리 (ΔFP)를 측정한다.2) 학습된 인코더 및 디코더가 예측한 초음파 음압장의 초점 영역 경계와 정답지에 해당하는 초점 영역 경계 사 이의 최대 오차를 측정하기 위해 하우스도르프 거리(HD, Hausdorff distance)를 계산한다. 3) 학습된 인코더 및 디코더가 예측한 초음파 음압장의 초점 영역과 정답지에 해당하는 초점 영역에 대한 유사 성을 평가하기 위해 다이스 유사 계수(DSC, Dice similarity coefficient)를 계산한다. 4) 학습된 인코더 및 디코더의 실용성을 평가하기 위해 인코더 및 디코더에 사용된 모델의 학습시간과 추론시간 을 측정한다. [표 2]은 상술한 측정 기준에 따라서, 제1 내지 제3 실시 예에 따른 인코더 및 디코더의 성능을 비교한 것이다. 표 2 △FP [mm] (focal point error)HD [mm] (hausdorff distance)DSC (dice similarity coeff.)Training time [min]Test time [ms] AE 5.06 ± 3.62 11.81 ± 5.00 0.59 ± 0.18 439 1.44 pix2pix4.25 ± 2.70 10.34 ± 4.01 0.64 ± 0.15 1071 1.30 VAE 4.17 ± 2.89 10.68 ± 4.19 0.64 ± 0.15 177 1.22 제2 및 제3 실시 예에 따른 인코더 및 디코더는 평균 4.25mm이내의 오차로 초음파 음압장 초점의 위치를 예측하 였다. 이 때, 초점 영역 경계의 오차도 평균 10.7mm 이내, 초점영역의 유사도 0.63이상의 성능으로 예측이 가능 하다는 것을 알 수 있다. 특히, 제3 실시 예에 따른 인코더 및 디코더는 인공신경망의 학습시간이 177분으로 가 장 짧으며, 상기 초음파 음압장 데이터의 예측시간 또한 1.22ms로 가장 짧아 제1 내지 제3 실시 예에 따른 인코 더 및 디코더 중 가장 실용성이 높다고 평가할 수 있다. 표 3 Plane Computational simulationAE pix2pix VAE Focal position error (△FP) [mm] XY 1.62 ± 0.52 3.59 ± 1.03 3.96 ± 1.69 3.13 ± 1.12 YZ 3.26 ± 0.38 3.44 ± 0.72 2.97 ± 0.80 3.49 ± 0.73 XZ 0.75 ± 0.20 0.78 ± 0.29 1.03 ± 0.29 1.15 ± 0.37 Hausdorff distance (HD) [mm] XY 8.47 ± 1.12 9.30 ± 2.30 8.76 ± 2.55 9.34 ± 1.26 YZ 6.61 ± 1.20 5.26 ± 0.89 4.78 ± 1.00 5.72 ± 0.94 XZ 1.57 ± 0.20 2.13 ± 0.26 2.25 ± 0.14 2.29 ± 0.29 Dice similarity coefficient (DSC) XY 0.83 ± 0.02 0.79 ± 0.04 0.79 ± 0.04 0.76 ± 0.03 YZ 0.84 ± 0.02 0.85 ± 0.03 0.86 ± 0.03 0.84 ± 0.04 XZ 0.88 ± 0.03 0.86 ± 0.02 0.83 ± 0.03 0.83 ± 0.04 도 14는 본 발명의 일 실시 예에 따른 인코더 및 디코더가 예측된 초음파 음압장 데이터 및 전산해석기반 시뮬 레이션에 의해 예측되는 초음파 음압장 데이터 및 이들을 비교하기 위해 초점 영역의 오차를 시각화한 도면이다. 인코더 및 디코더가 예측한 초음파 음압장(generated field), 전산해석기반 시뮬레이션에 의해 예측되는 초음파 음압장(ground truth)는 형태적으로 높은 유사성을 갖는 것을 확인할 수 있다. 또한, 상호 비교를 위해 반치전 폭(FWHM, full-width at half-maximum)으로 정의된 초점 영역 사이에도 높은 유사성을 갖는 것을 확인할 수 있 다. 도 15는 실제 공간에서 초음파의 음압장을 측정하기 위한 수조실험을 설명하는 도면이다. 도 15를 참조하면, 초음파 변환기(transducer)는 함수 발생기로부터 생성되고, 선형 증폭기에 의해 증폭된 전기 신호가 임피던스 매칭되어 작동될 수 있다. 두개골의 실제 위치와 방향은 광학 카메라를 통해 측정될 수 있다.두개골에는 4개의 도넛모양 마커가 위치되어, 이를 기준으로 하여 실제 공간과 수치 모델링 공간 상의 좌표계를 설정할 수 있다. 수증 청음기를 통해서 XY, YZ, XZ 평면에 대한 음압장 데이터를 획득할 수 있다. 3개의 각각 상이한 두개골에 대해서 각각 5번의 실험 및 측정을 진행하여 총 15개의 실험 데이터를 확보하였고, 본 발명의 일 실시 예에 따른 경두개 집속초음파 음압장 예측 프로그램의 초음파 음압장 예측 데이터의 성능을 평가하 기 위해 상기 최대 압력값의 변화량은 [수학식 8]를 이용하여 산출된다. 수학식 8"}
{"patent_id": "10-2023-0139999", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 9, "content": "여기서, 상기 는 두개골이 있을 때 음압 초점의 최대 압력값이고, 상기 는 두개골이 없 을 때 음압 초점의 최대 압력값이고, 상기 은 상기 과 상기 값의 비율이고, 이 때, 상기 은 수조실험 측정 데이터에서의 최대 압력비이고, 상기 *는 전산해석 시뮬레이션 또는 상기 맵핑부에서의 최대 압력비를 나타낸다. [표 4]는 상술한 측정 기준에 근거하여 전산해석 시뮬레이션과 본 발명의 제1 내지 제3 실시예에 따른 음압장 인공지능이 학습된 초음파 음압장 데이터의 최대 최대 압력값의 변화량을 나타낸다. 표 4 Plane Computational SimulationAE pix2pix VAE ΔPPR [%] XY 3.51 ± 0.86 6.08 ± 1.76 9.40 ± 1.96 5.99 ± 1.93 YZ 3.72 ± 0.81 6.34 ± 1.71 9.44 ± 1.74 5.54 ± 1.67 XZ 3.31 ± 0.75 6.70 ± 1.45 10.35 ± 1.56 6.62 ± 1.89 [표 4]를 통해 알 수 있듯이, 본 발명의 제1 내지 제3 실시 예에 따른 음압장 인공지능은 최대 음압비 예측에 있어서 전산해석 시뮬레이션(Computational Simulation)보다 약 2배 이상의 오차를 보인다. 또한 앞서, [표 3]에서 확인할 수 있듯이, 초음파 음압장의 초 점의 위치와 형상을 예측하는데 있어서 AE, pix2pix 및 VAE 네트워크가 비슷한 수준의 성능을 보여주었으나, 최 대 음압비 예측에 있어서는 네트워크 별 성능이 크게 차이난다는 것을 확인할 수 있다. 도 16은 본 발명의 일 실시 예에 따른 최대 압력값으로 보정된 초음파 음압장 데이터 및 전산해석기반 시뮬레이 션에 의해 예측되는 초음파 음압장 데이터 및 이들을 비교하기 위해 초점 영역의 오차를 시각화한 도면이다. 도 16을 참조하면, 상기 초음파 음압장 예측 장치는 음압 초점의 위치를 정확하게 예측하는 것도 중요하지만, 두개골에 따라 음압값이 얼마나 달라지는지에 대한 정보 또한 제공할 수 있다. 초음파 발생기가 생 성하는 음압 출력은 전기의 입력이나 증폭, 임피던스 매칭에 따라 달라진다. 먼저, 상기 최대 음압 예측 프로그 램에 대한 손실 함수는 [수학식 9]를 이용하여 산출된다. 수학식 9"}
{"patent_id": "10-2023-0139999", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 10, "content": "여기서, 상기 은 학습 데이터의 개수이고, 상기 는 최대 음압 예측 프로그램이고, 상기 는 두개골의 형상 데 이터이고, 상기 는 초음파 변환기의 위치 데이터, 상기 는 번째 데이터에서 상기 최대 압력값을 나타낸다. 상기 최대 음압 예측 프로그램으로부터 얻은 상기 값을 이용하여 상기 초음파 음압장 데이터의 압력값 보 정은 [수학식 10]과 같은 방법으로 수행될 수 있다. 수학식 10"}
{"patent_id": "10-2023-0139999", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 11, "content": "여기서, 상기 는 3차원 음압장에서 축에 대해 번째, 축에 대해 번째, 축에 대해 번째에 위치한 압 력값이고, 상기 는 최대 압력값을 나타낸다. 시뮬레이션 및 인공신경망의 성능을 평가할 때는 절대 음압값 대신 최대 압력값(Peak Pressure Ratio, PPR)를 계산하여 평가에 사용한다. 수조 실험값 대비 전산해석 기반 시뮬레이션과 개량된 발명에 따라 두개골이 없을 때 최대 압력값 대비 두개골이 있을 때 최대 압력값의 비율로 정의되며 [수학식 10]를 통해 상기 최대 압력값의 예측 에러를 [표 5]에서 나타낸다. 표 5 Plane Computational SimulationAE w/EN-1×1ConVPix2pix w/EN-1×1ConvVAE W/EN-1×1Conv ΔPPR [%] XY 3.51 ± 0.86 3.52 ± 1.03 3.66 ± 0.96 3.84 ± 1.02 YZ 3.72 ± 0.81 3.94 ± 1.20 4.06 ± 0.99 3.75 ± 0.97 XZ 3.31 ± 0.75 4.00 ± 0.74 4.23 ± 0.83 4.23 ± 0.83 [표 5]를 통해 알 수 있듯이, [표 4]에서 나타낸 인코더 및 디코더에서 예측된 상기 초음파 음압장 데이터의 최 대 예측 에러 값이 약 6~10% 내외에서 약 3% 내외로 크게 감소한 것을 확인할 수 있다. 이로 인해, 인코더 및 디코더가 예측한 초음파 음압장(generated field), 수조실험을 통해 측정된 초음파 음압장(ground truth)는 형 태적으로 높은 유사성을 갖는 것을 확인할 수 있다. 또한, 상호 비교를 위해, 반치전폭(FWHM, full-width at half-maximum)으로 정의된 초점 영역 사이에도 높은 유사성을 갖는 것을 확인할 수 있다. 본 발명의 일 실시 예에 따른 초음파 음압장 예측 장치는 빠른 시간에 높은 정확도를 가지고, 초음파 집속기 에 의해 경두개 내에 형성되는 초음파 음압장 예측 결과를 산출한다. 구체적으로, 기존 전산해석기반 집속초음 파 시뮬레이션은 두개골 데이터와 초음파 변환기의 위치 데이터 입력에 따른 관심영역 내 초음파 음압장을 계산 하는데 개당 약 100초가 소요되는 반면, 본 발명의 일 실시 예에 따른 인코 더 및 디코더는 관심 영역에서의 음 압장 예측을 약 1.2ms에 수행하여, 실시간 예측이 가능하다는 것을 알 수 있다. 또한, 본 발명의 일 실시 예에 따른 인코더 및 디코더는 다양한 두개골 형상 데이터를 기반으로 학습을 수행할 수 있으면서 인공신경망 학습에 177분을 소요하므로 실용성 높다. 또한, 수조실험 값 대비 상기 초음파 음압장 데이터의 초점 오차는 약 4mm 이 내, 초점영역 경계에 대한 최대 오차가 약 8mm 이내, 상기 최대 압력값에 대한 오차 약 3% 내외로 3차원 음압장 데이터를 예측함에 있어, 비교적 우수한 정확도로 예측이 가능하다는 것을 알 수 있다. 이로 인해, 본 발명의 일 실시 예에 따른 초음파 음압장 예측 장치는 환자에 따라 추가적으로 네트워크를 학 습할 필요 없이, 임의의 환자를 대상으로 음압장을 가시화할 수 있다. 이상, 본 발명을 바람직한 실시 예를 사용하여 상세히 설명하였으나, 본 발명의 범위는 특정 실시 예에 한정되"}
{"patent_id": "10-2023-0139999", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 12, "content": "는 것은 아니며, 첨부된 특허청구범위에 의하여 해석되어야 할 것이다. 또한, 이 기술분야에서 통상의 지식을 습득한 자라면, 본 발명의 범위에서 벗어나지 않으면서도 많은 수정과 변형이 가능함을 이해하여야 할 것이다."}
{"patent_id": "10-2023-0139999", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시 예에 따른 초음파 음압장 예측 장치를 나타내는 볼록도이다. 도 2는 본 발명의 일 실시 예에 따른 제어부가 동작 과정을 나타내는 볼록도이다. 도 3은 본 발명의 일 실시 예에 따른 경두개 집속초음파 음압장 예측 프로그램의 구조를 나타내는 도면이다. 도 4는 본 발명의 다른 실시 예에 따른 경두개 집속초음파 음압장 예측 프로그램의 구조를 나타내는 도면이다. 도 5는 본 발명의 또 다른 실시 예에 따른 경두개 집속초음파 음압장 예측 프로그램의 구조를 나타내는 도면이 다. 도 6은 본 발명의 제어부가 산출한 초음파 음압장 데이터의 초점 좌표와 정답지에 해당하는 초점 좌표 사이를 설명하기 위한 도면이다. 도 7은 다이스 유사 계수를 설명하기 위한 도면이다. 도 8은 하우스도르프 거리를 설명하기 위한 도면이다. 도 9는 본 발명의 일 실시 예에 따른 최대 음압 예측 프로그램을 나타내는 도면이다. 도 10은 도 9의 맵핑부가 산출한 최대 압력값의 변화량을 산출하는 방법을 나타내는 도면이다. 도 11은 본 발명의 일 실시 예에 따른 초음파 음압장 예측 방법을 나타내는 순서도이다. 도 12 및 도 13은 학습 데이터를 전산역학을 기반으로 한 시뮬레이션을 수행하여 획득하기 위한 초음파 음압장 데이터의 구성을 나타내는 도면이다. 도 14는 본 발명의 일 실시 예에 따른 초음파 음압장 예측장치이 예측된 초음파 음압장 데이터 및 전산해석기반 시뮬레이션에 의해 예측되는 초음파 음압장 데이터 및 이들을 비교하기 위해 초점 영역의 오차를 시각화한 도면 이다. 도 15는 실제 공간에서 초음파의 음압장을 측정하기 위한 수조실험을 설명하는 도면이다. 도 16은 본 발명의 일 실시 예에 따른 최대 압력값으로 보정된 초음파 음압장 데이터 및 전산해석기반 시뮬레이 션에 의해 상기 보정된 초음파 음압장 데이터 및 이들을 비교하기 위해 초점 영역의 오차를 시각화한 도면이다."}
