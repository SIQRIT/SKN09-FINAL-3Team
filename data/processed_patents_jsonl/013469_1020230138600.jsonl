{"patent_id": "10-2023-0138600", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0057347", "출원번호": "10-2023-0138600", "발명의 명칭": "깊이 맵을 생성하기 위한 전자 장치 및 이의 동작 방법", "출원인": "한국전자통신연구원", "발명자": "박재혁"}}
{"patent_id": "10-2023-0138600", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "카메라 이미지에 기초하여 카메라 이미지 특징을 추출하도록 구성된 카메라 이미지 특징 추출기;라이다 이미지에 기초하여 라이다 이미지 특징을 추출하도록 구성된 라이다 이미지 특징 추출기;상기 카메라 이미지 특징 및 상기 라이다 이미지 특징에 기초하여 샘플링 동작을 수행하여 샘플링된 라이다 이미지 특징을 생성하도록 구성된 샘플링 유닛;상기 카메라 이미지 특징 및 상기 샘플링된 라이다 이미지 특징을 퓨전하여 퓨전 맵을 생성하도록 구성된 퓨전유닛; 및상기 퓨전 맵을 디코딩하여 깊이 맵을 생성하도록 구성된 디코딩 유닛을 포함하고,상기 샘플링 동작은 상기 카메라 이미지 특징의 픽셀의 위치를 카메라 좌표계 상에서 역투영하여 역투영 포인트를 생성하고, 상기 역투영 포인트를 상기 라이다 이미지의 평면 상에 투영하여 샘플링 좌표들을 산출하는 것을포함하는 프로세서."}
{"patent_id": "10-2023-0138600", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1 항에 있어서,상기 카메라 이미지의 해상도는 상기 라이다 이미지의 해상도와 서로 다른 프로세서."}
{"patent_id": "10-2023-0138600", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1 항에 있어서,상기 카메라 이미지 추출기는 상기 카메라 이미지를 제1 인공지능 모델에 입력하여, 상기 제1 인공지능 모델로부터 출력된 출력 값에 기초하여 상기 카메라 이미지 특징을 추출하도록 구성된 프로세서."}
{"patent_id": "10-2023-0138600", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3 항에 있어서,상기 카메라 이미지는 제1 방향으로의 제1 픽셀 수x제2 방향으로의 제2 픽셀 수의 해상도를 갖고,상기 카메라 이미지 특징은 상기 제1 방향으로 제1' 픽셀 수x상기 제2 방향으로의 제2' 픽셀 수의 해상도를 가지며,상기 제1' 픽셀 수는 상기 제1 픽셀 수보다 작고,상기 제2' 픽셀 수는 상기 제2 픽셀 수보다 작은 프로세서."}
{"patent_id": "10-2023-0138600", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4 항에 있어서,상기 라이다 이미지 추출기는 상기 라이다 이미지를 제2 인공지능 모델에 입력하여, 상기 제2 인공지능 모델로부터 출력된 출력 값에 기초하여 상기 라이다 이미지 특징을 추출하도록 구성된 프로세서."}
{"patent_id": "10-2023-0138600", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5 항에 있어서,상기 제2 인공지능 모델은 CNN 알고리즘 모델을 포함하는 프로세서."}
{"patent_id": "10-2023-0138600", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "공개특허 10-2024-0057347-3-제5 항에 있어서,상기 라이다 이미지는 제3 방향으로의 제3 픽셀 수x제4 방향으로의 제4 픽셀 수의 해상도를 갖고,상기 라이다 이미지 특징은 상기 제3 방향으로 제3' 픽셀 수x상기 제4 방향으로의 제4' 픽셀 수의 해상도를 가지며,상기 제3' 픽셀 수는 상기 제3 픽셀 수보다 작고,상기 제4' 픽셀 수는 상기 제4 픽셀 수보다 작은 프로세서."}
{"patent_id": "10-2023-0138600", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7 항에 있어서,상기 라이다 이미지 특징의 해상도는 상기 카메라 이미지 특징의 해상도와 서로 다른 프로세서."}
{"patent_id": "10-2023-0138600", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제1 항에 있어서,상기 샘플링된 라이다 이미지 특징은 상기 카메라 이미지 특징과 동일한 해상도를 갖는 프로세서."}
{"patent_id": "10-2023-0138600", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제1 항에 있어서,상기 샘플링 유닛은 sub-pixel 샘플링을 사용하여 상기 샘플링 좌표를 산출하도록 구성된 프로세서."}
{"patent_id": "10-2023-0138600", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "주변 환경을 촬영하여 카메라 이미지를 획득하도록 구성된 카메라;상기 주변 환경에 레이저를 조사하여 라이다 이미지를 획득하도록 구성된 라이다; 및상기 카메라 이미지 및 상기 라이다 이미지에 기초하여 깊이 맵을 생성하도록 구성된 전자 장치를 포함하고,상기 전자 장치는: 상기 카메라 이미지에 기초하여 카메라 이미지 특징을 추출하도록 구성된 카메라 이미지 특징 추출기;상기 라이다 이미지에 기초하여 라이다 이미지 특징을 추출하도록 구성된 라이다 이미지 특징 추출기;상기 카메라 이미지 특징 및 상기 라이다 이미지 특징에 기초하여 샘플링 동작을 수행하여 샘플링된 라이다 이미지 특징을 생성하도록 구성된 샘플링 유닛;상기 카메라 이미지 특징 및 상기 샘플링된 라이다 이미지 특징을 퓨전하여 상기 퓨전 맵을 생성하도록 구성된퓨전 유닛; 및상기 퓨전 맵을 디코딩하여 깊이 맵을 생성하도록 구성된 디코딩 유닛을 포함하고,상기 샘플링 동작은 상기 카메라 이미지 특징의 픽셀의 위치를 카메라 좌표계 상에서 역투영하여 역투영 포인트를 생성하고, 상기 역투영 포인트를 상기 라이다 이미지의 평면 상에 투영하여 샘플링 좌표들을 산출하는 것을포함하는 전자 시스템."}
{"patent_id": "10-2023-0138600", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제11 항에 있어서,상기 카메라 이미지 추출기는 상기 카메라 이미지를 제1 인공지능 모델에 입력하여, 상기 제1 인공지능 모델로부터 출력된 출력 값에 기초하여 상기 카메라 이미지 특징을 추출하도록 구성된 전자 시스템."}
{"patent_id": "10-2023-0138600", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제12 항에 있어서,공개특허 10-2024-0057347-4-상기 카메라 이미지는 제1 방향으로의 제1 픽셀 수x제2 방향으로의 제2 픽셀 수의 해상도를 갖고,상기 카메라 이미지 특징은 상기 제1 방향으로 제1' 픽셀 수x상기 제2 방향으로의 제2' 픽셀 수의 해상도를 가지며,상기 제1' 픽셀 수는 상기 제1 픽셀 수보다 작고,상기 제2' 픽셀 수는 상기 제2 픽셀 수보다 작은 전자 시스템."}
{"patent_id": "10-2023-0138600", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제13 항에 있어서,상기 라이다 이미지 추출기는 상기 라이다 이미지를 제2 인공지능 모델에 입력하여, 상기 제2 인공지능 모델로부터 출력된 출력 값에 기초하여 상기 라이다 이미지 특징을 추출하도록 구성된 전자 시스템."}
{"patent_id": "10-2023-0138600", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제14 항에 있어서,상기 라이다 이미지는 제3 방향으로의 제3 픽셀 수x제4 방향으로의 제4 픽셀 수의 해상도를 갖고,상기 라이다 이미지 특징은 상기 제3 방향으로 제3' 픽셀 수x상기 제4 방향으로의 제4' 픽셀 수의 해상도를 가지며,상기 제3' 픽셀 수는 상기 제3 픽셀 수보다 작고,상기 제4' 픽셀 수는 상기 제4 픽셀 수보다 작은 전자 시스템."}
{"patent_id": "10-2023-0138600", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제11 항에 있어서,상기 라이다 이미지 특징의 해상도는 상기 카메라 이미지 특징의 해상도와 서로 다른 전자 시스템."}
{"patent_id": "10-2023-0138600", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제11 항에 있어서,상기 샘플링된 라이다 이미지 특징은 상기 카메라 이미지 특징과 동일한 해상도를 갖는 전자 시스템."}
{"patent_id": "10-2023-0138600", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "카메라 이미지 특징 추출기, 라이다 이미지 특징 추출기, 샘플링 유닛, 퓨전 유닛 및 디코딩 유닛을 포함하는전자 장치의 동작 방법에 있어서,상기 카메라 이미지 특징 추출기에서 카메라 이미지에 기초하여 카메라 이미지 특징을 추출하는 단계;상기 라이다 이미지 특징 추출기에서 라이다 이미지에 기초하여 라이다 이미지 특징을 추출는 단계;상기 샘플링 유닛에서 상기 카메라 이미지 특징 및 상기 라이다 이미지 특징에 기초하여 샘플링 동작을 수행하여 샘플링된 라이다 이미지 특징을 생성하는 단계;상기 퓨전 유닛에서 상기 카메라 이미지 특징 및 상기 샘플링된 라이다 이미지 특징을 퓨전하여 퓨전 맵을 생성하는 단계; 및상기 디코딩 유닛에서 상기 퓨전 맵을 디코딩하여 깊이 맵을 생성하는 단계를 포함하고,상기 샘플링 동작은 상기 카메라 이미지 특징의 픽셀의 위치를 카메라 좌표계 상에서 역투영하여 역투영 포인트를 생성하고, 상기 역투영 포인트를 상기 라이다 이미지의 평면 상에 투영하여 샘플링 좌표들을 산출하는 것을포함하는 전자 장치의 동작 방법."}
{"patent_id": "10-2023-0138600", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_19", "content": "제18 항에 있어서,공개특허 10-2024-0057347-5-상기 카메라 이미지의 해상도는 상기 라이다 이미지의 해상도와 서로 다른 동작 방법."}
{"patent_id": "10-2023-0138600", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_20", "content": "제18 항에 있어서,상기 라이다 이미지 특징의 해상도는 상기 카메라 이미지 특징의 해상도와 서로 다른 동작 방법."}
{"patent_id": "10-2023-0138600", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 개시는 카메라 이미지에 기초하여 카메라 이미지 특징을 추출하도록 구성된 카메라 이미지 특징 추출기, 라이 다 이미지에 기초하여 라이다 이미지 특징을 추출하도록 구성된 라이다 이미지 특징 추출기, 상기 카메라 이미지 특징 및 상기 라이다 이미지 특징에 기초하여 샘플링 동작을 수행하여 샘플링된 라이다 이미지 특징을 생성하도 록 구성된 샘플링 유닛 및 상기 카메라 이미지 특징 및 상기 샘플링된 라이다 이미지 특징을 퓨전하여 깊이 맵을 생성하도록 구성된 퓨전 유닛을 포함하고, 상기 샘플링 동작은 상기 카메라 이미지 특징의 픽셀의 위치를 카메라 좌표계 상에서 역투영하여 역투영 포인트를 생성하고, 상기 역투영 포인트를 상기 라이다 이미지의 평면 상에 투 영하여 샘플링 좌표들을 산출하는 것을 포함하는 프로세서를 제공한다."}
{"patent_id": "10-2023-0138600", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 개시는 깊이 맵을 생성하기 위한 전자 장치에 관한 것으로, 구체적으로는, 라이다와 카메라가 탑재된 차량에 서 깊이 맵을 생성하는 방법에 관한 것이다."}
{"patent_id": "10-2023-0138600", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "자율주행기술에서 주변 물체나 환경의 3차원 정보를 알아내는 것은 필수적이다. 카메라 이미지에 대응하는 깊이 맵(Depth Map; 거리 맵)을 얻어내는 대표적인 방법으로는 스테레오 깊이 추정(Stereo depth estimation), 단안 카메라 깊이 추정(Monocular depth prediction), 깊이 완성 기술(Depth completion)이 있다. 스테레오 깊이 추정은 두 개의 카메라 간의 영상내 시차(disparity)를 찾아내어 거리를 측정하는 고전적인 방식 이다. 딥 러닝의 등장 이후 하나의 카메라 이미지의 시맨틱(semantic) 정보를 통해 깊이를 측정하는 단안카메라 깊이추정도 많은 발전을 이루었다. 다만, 단안카메라 깊이추정은 이미지 내 상대적인 거리 추정에 특화되어 있 고 정확한 미터 단위의 깊이 측정에는 어려움이 있다. 자율주행차량에 카메라와 라이다가 함께 탑재되어 있다면, 카메라 이미지(CI)의 시맨틱 정보뿐만 아니라 카메라 이미지에 투영된 라이다 포인트들을 함께 이용하는 깊이 완성 기술을 사용할 수 있다. 라이다 포인트들의 3차원 정보는 매우 정확한 편이고, 라이다 포인트가 맺혀 있지 않은 픽셀의 깊이 값은 시맨틱 정보를 분석해 정확하게 채워 넣을 수 있다."}
{"patent_id": "10-2023-0138600", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 개시가 해결하고자 하는 과제는 라이다 센서의 raw 데이터인 라이다 이미지를 직접 입력으로 라이다 이미지 특징을 추출하여 깊이 맵을 생성하는 방법을 제공하는 데에 있다. 본 개시가 해결하고자 하는 과제는, 서로 다른 해상도를 갖는 라이다 이미지 특징 및 카메라 이미지 특징에 대 해 퓨전하기 용이하도록 서로 정렬하는 샘플링 방법을 제공하는 데에 있다. 본 개시가 해결하고자 하는 과제는 이상에서 언급한 과제에 제한되지 않으며, 언급되지 않은 또 다른 과제들은 아래의 기재로부터 해당 기술 분야에서 통상의 지식을 가진 자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2023-0138600", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상술한 과제를 해결하기 위한 일 실시 예는, 카메라 이미지에 기초하여 카메라 이미지 특징을 추출하도록 구성 된 카메라 이미지 특징 추출기, 라이다 이미지에 기초하여 라이다 이미지 특징을 추출하도록 구성된 라이다 이 미지 특징 추출기, 상기 카메라 이미지 특징 및 상기 라이다 이미지 특징에 기초하여 샘플링 동작을 수행하여 샘플링된 라이다 이미지 특징을 생성하도록 구성된 샘플링 유닛, 상기 카메라 이미지 특징 및 상기 샘플링된 라 이다 이미지 특징을 퓨전하여 퓨전 맵을 생성하도록 구성된 퓨전 유닛 및 상기 퓨전 맵을 디코딩하여 깊이 맵을 생성하도록 구성된 디코딩 유닛을 포함하고, 상기 샘플링 동작은 상기 카메라 이미지 특징의 픽셀의 위치를 카 메라 좌표계 상에서 역투영하여 역투영 포인트를 생성하고, 상기 역투영 포인트를 상기 라이다 이미지의 평면 상에 투영하여 샘플링 좌표들을 산출하는 것을 포함하는 프로세서를 포함한다. 일 실시 예에서, 상기 카메라 이미지의 해상도는 상기 라이다 이미지의 해상도와 서로 다른 프로세서를 포함한 다.일 실시 예에서, 상기 카메라 이미지 추출기는 상기 카메라 이미지를 제1 인공지능 모델에 입력하여, 상기 제1 인공지능 모델로부터 출력된 출력 값에 기초하여 상기 카메라 이미지 특징을 추출하도록 구성된 프로세서를 포 함한다. 일 실시 예에서, 상기 카메라 이미지는 제1 방향으로의 제1 픽셀 수x제2 방향으로의 제2 픽셀 수의 해상도를 갖 고, 상기 카메라 이미지 특징은 상기 제1 방향으로 제1' 픽셀 수x상기 제2 방향으로의 제2' 픽셀 수의 해상도를 가지며, 상기 제1' 픽셀 수는 상기 제1 픽셀 수보다 작고, 상기 제2' 픽셀 수는 상기 제2 픽셀 수보다 작은 프 로세서를 포함한다. 일 실시 예에서, 상기 라이다 이미지 추출기는 상기 라이다 이미지를 제2 인공지능 모델에 입력하여, 상기 제2 인공지능 모델로부터 출력된 출력 값에 기초하여 상기 라이다 이미지 특징을 추출하도록 구성된 프로세서를 포 함한다. 일 실시 예에서, 상기 제2 인공지능 모델은 CNN 알고리즘 모델을 포함하는 프로세서를 포함한다. 일 실시 예에서, 상기 라이다 이미지는 제3 방향으로의 제3 픽셀 수x제4 방향으로의 제4 픽셀 수의 해상도를 갖 고, 상기 카메라 이미지 특징은 상기 제3 방향으로 제3' 픽셀 수x상기 제4 방향으로의 제4' 픽셀 수의 해상도를 가지며, 상기 제3' 픽셀 수는 상기 제3 픽셀 수보다 작고, 상기 제4' 픽셀 수는 상기 제4 픽셀 수보다 작은 프 로세서를 포함한다. 일 실시 예에서, 상기 라이다 이미지 특징의 해상도는 상기 카메라 이미지 특징의 해상도와 서로 다른 프로세서 를 포함한다. 일 실시 예에서, 상기 샘플링된 이미지 특징은 상기 카메라 이미지 특징과 동일한 해상도를 갖는 프로세서를 포 함한다. 일 실시 예에서, 상기 샘플링 유닛은 sub-pixel 샘플링을 사용하여 상기 샘플링 좌표를 산출하도록 구성된 프로 세서를 포함한다. 상술한 과제를 해결하기 위한 일 실시 예는, 주변 환경을 촬영하여 카메라 이미지를 획득하도록 구성된 카메라, 상기 주변 환경에 레이저를 조사하여 라이다 이미지를 획득하도록 구성된 라이다, 및 상기 카메라 이미지 및 상 기 라이다 이미지에 기초하여 깊이 맵을 생성하도록 구성된 전자 장치를 포함하고, 상기 전자 장치는, 상기 카 메라 이미지에 기초하여 카메라 이미지 특징을 추출하도록 구성된 카메라 이미지 특징 추출기, 상기 라이다 이 미지에 기초하여 라이다 이미지 특징을 추출하도록 구성된 라이다 이미지 특징 추출기, 상기 카메라 이미지 특 징 및 상기 라이다 이미지 특징에 기초하여 샘플링 동작을 수행하여 샘플링된 라이다 이미지 특징을 생성하도록 구성된 샘플링 유닛, 상기 카메라 이미지 특징 및 상기 샘플링된 라이다 이미지 특징을 퓨전하여 상기 퓨전 맵 을 생성하도록 구성된 퓨전 유닛; 및 상기 퓨전 맵을 디코딩하여 깊이 맵을 생성하도록 구성된 디코딩 유닛을 포함하고, 상기 샘플링 동작은 상기 카메라 이미지 특징의 픽셀의 위치를 카메라 좌표계 상에서 역투영하여 역 투영 포인트를 생성하고, 상기 역투영 포인트를 상기 라이다 이미지의 평면 상에 투영하여 샘플링 좌표들을 산 출하는 것을 포함하는 전자 시스템을 포함한다. 일 실시 예에서, 상기 카메라 이미지 추출기는 상기 카메라 이미지를 제1 인공지능 모델에 입력하여, 상기 제1 인공지능 모델로부터 출력된 출력 값에 기초하여 상기 카메라 이미지 특징을 추출하도록 구성된 전자 시스템을 포함한다. 일 실시 예에서, 상기 카메라 이미지는 제1 방향으로의 제1 픽셀 수x제2 방향으로의 제2 픽셀 수의 해상도를 갖 고, 상기 카메라 이미지 특징은 상기 제1 방향으로 제1' 픽셀 수x상기 제2 방향으로의 제2' 픽셀 수의 해상도를 가지며, 상기 제1' 픽셀 수는 상기 제1 픽셀 수보다 작고, 상기 제2' 픽셀 수는 상기 제2 픽셀 수보다 작은 전 자 시스템을 포함한다. 일 실시 예에서, 상기 라이다 이미지 추출기는 상기 라이다 이미지를 제2 인공지능 모델에 입력하여, 상기 제2 인공지능 모델로부터 출력된 출력 값에 기초하여 상기 라이다 이미지 특징을 추출하도록 구성된 전자 시스템을 포함한다. 일 실시 예에서, 상기 라이다 이미지는 제3 방향으로의 제3 픽셀 수x제4 방향으로의 제4 픽셀 수의 해상도를 갖 고, 상기 카메라 이미지 특징은 상기 제3 방향으로 제3' 픽셀 수x상기 제4 방향으로의 제4' 픽셀 수의 해상도를 가지며, 상기 제3' 픽셀 수는 상기 제3 픽셀 수보다 작고, 상기 제4' 픽셀 수는 상기 제4 픽셀 수보다 작은 전자 시스템을 포함한다. 일 실시 예에서, 상기 라이다 이미지 특징의 해상도는 상기 카메라 이미지 특징의 해상도와 서로 다른 전자 시 스템을 포함한다. 일 실시 예에서, 상기 샘플링된 이미지 특징은 상기 카메라 이미지 특징과 동일한 해상도를 갖는 전자 시스템을 포함한다. 상술한 과제를 해결하기 위한 일 실시 예는, 카메라 이미지 특징 추출기, 라이다 이미지 특징 추출기, 샘플링 유닛, 퓨전 유닛 및 디코딩 유닛을 포함하는 전자 장치의 동작 방법에 있어서, 상기 카메라 이미지 특징 추출기 에서 카메라 이미지에 기초하여 카메라 이미지 특징을 추출하는 단계, 상기 라이다 이미지 특징 추출기에서 라 이다 이미지에 기초하여 라이다 이미지 특징을 추출는 단계, 상기 샘플링 유닛에서 상기 카메라 이미지 특징 및 상기 라이다 이미지 특징에 기초하여 샘플링 동작을 수행하여 샘플링된 라이다 이미지 특징을 생성하는 단계, 상기 퓨전 유닛에서 상기 카메라 이미지 특징 및 상기 샘플링된 라이다 이미지 특징을 퓨전하여 퓨전 맵을 생성 하는 단계 및 상기 디코딩 유닛에서 상기 퓨전 맵을 디코딩하여 깊이 맵을 생성하는 단계를 포함하고, 상기 샘 플링 동작은 상기 카메라 이미지 특징의 픽셀의 위치를 카메라 좌표계 상에서 역투영하여 역투영 포인트를 생성 하고, 상기 역투영 포인트를 상기 라이다 이미지의 평면 상에 투영하여 샘플링 좌표들을 산출하는 것을 포함하 는 전자 장치의 동작 방법을 포함한다. 일 실시 예에서, 상기 카메라 이미지의 해상도는 상기 라이다 이미지의 해상도와 서로 다른 동작 방법을 포함한 다. 일 실시 예에서, 상기 라이다 이미지 특징의 해상도는 상기 카메라 이미지 특징의 해상도와 서로 다른 동작 방 법을 포함한다."}
{"patent_id": "10-2023-0138600", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 개시에 따른 일 실시 예는, 라이다 센서의 raw 데이터인 라이다 이미지를 직접 입력으로 라이다 이미지 특징 을 추출하여 깊이 맵을 생성하는 방법을 제공한다. 본 개시에 따른 일 실시 예는, 서로 다른 해상도를 갖는 라이다 이미지 특징 및 카메라 이미지 특징에 대해 퓨 전하기 용이하도록 서로 정렬하는 샘플링 방법을 제공한다. 본 개시의 효과는 이상에서 언급한 과제에 제한되지 않으며, 언급되지 않은 또 다른 효과들은 아래의 기재로부 터 해달 기술 분야의 통상의 지식을 가진 자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2023-0138600", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 명세서에 개시되어 있는 본 개시의 개념에 따른 실시 예들에 대해서 특정한 구조적 또는 기능적 설명은 단지 본 개시의 개념에 따른 실시 예들을 설명하기 위한 목적으로 예시된 것으로서, 본 개시의 개념에 따른 실시 예 들은 다양한 형태들로 실시될 수 있으며 본 명세서에 설명된 실시 예들에 한정되지 않는다. 본 개시의 개념에 따른 실시 예들은 다양한 변경들을 가할 수 있고 여러 가지 형태들을 가질 수 있으므로 실시 예들을 도면에 예시하고 본 명세서에서 상세하게 설명하고자 한다. 그러나, 이는 본 개시의 개념에 따른 실시예들을 특정한 개시 형태들에 대해 한정하려는 것이 아니며, 본 개시의 사상 및 기술 범위에 포함되는 모든 변 경, 균등물, 또는 대체물을 포함한다. 제1 또는 제2 등의 용어는 다양한 구성 요소들을 설명하는데 사용될 수 있지만, 상기 구성 요소들은 상기 용어 들에 의해 한정되어서는 안 된다. 상기 용어들은 하나의 구성 요소를 다른 구성 요소로부터 구별하는 목적으로 만, 예컨대 본 개시의 개념에 따른 권리 범위로부터 벗어나지 않은 채, 제1 구성 요소는 제2 구성 요소로 명명 될 수 있고 유사하게 제2 구성 요소는 제1 구성 요소로도 명명될 수 있다. 본 명세서에서 사용한 용어는 단지 특정한 실시 예를 설명하기 위해 사용된 것으로서, 본 개시를 한정하려는 의 도가 아니다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 명세서에서, \"포함하다\" 또는 \"가지다\" 등의 용어는 본 명세서에 기재된 특징, 숫자, 단계, 동작, 구성 요소, 부분품 또는 이들을 조합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구 성 요소, 부분품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 다르게 정의되지 않는 한, 기술적이거나 과학적인 용어를 포함해서 여기서 사용되는 모든 용어들은 본 개시가 속하는 기술 분야에서 통상의 지식을 가진 자에 의해 일반적으로 이해되는 것과 동일한 의미를 나타낸다. 일반 적으로 사용되는 사전에 정의되어 있는 것과 같은 용어들은 관련 기술의 문맥상 가지는 의미와 일치하는 의미를 갖는 것으로 해석되어야 하며, 본 명세서에서 명백하게 정의하지 않는 한, 이상적이거나 과도하게 형식적인 의 미로 해석되지 않는다. 이하, 본 명세서에 첨부된 도면들을 참조하여 본 개시의 실시 예들을 상세히 설명한다. 도 1은 깊이 완성 네트워크의 일 예시를 나타낸 도면이다. 도 2는 도 1의 카메라 이미지, 라이다 이미지, 라이 다 투영 맵 및 깊이 맵의 일 예시를 나타낸 도면이다. 도 3은 도 1의 투영 맵 변환기에서 변환된 투영 맵의 일 예시를 나타낸 도면이다. 도 1을 참조하면, 깊이 완성 네트워크(Depth Completion Network; DCN)는 카메라, 라이다 및 네트워크 프로세서를 포함할 수 있다. 카메라 및 라이다(LIght Detection And Ranging; LIDAR, 20)는 모바일 장치에 탑재되어 외부 환경에 대한 이미지를 획득할 수 있다. 예를 들어, 카메라 및 라이다는 차량에 탑재되어, 차량 운행 시 주변 환경에 대한 이미지를 촬영할 수 있다. 카메라는 외부 환경을 촬영하여 획득한 카메라 이미지(CI)를 네트워크 프로세서로 제공하도록 구성될 수 있다. 카메라 이미지(CI)는 복수의 카메라 픽셀들을 포함할 수 있다. 카메라 이미지(CI)는 제1 방향으로의 제1 픽셀 수(Hc)x제2 방향으로의 제2 픽셀 수(Wc)의 해상도를 가질 수 있다. 제1 방향은 카메라에서의 수평 방향을 의미하고, 제2 방향은 카메라에서의 수직 방향을 의미할 수 있다. 카메라 이미지(CI)의 각각의 카메라 픽셀은 RGB 세가지 색들에 대한 정보를 픽셀 값으로 하는 3개의 카메라 채 널 수(Cc)를 가질 수 있다. 예를 들어, 카메라 이미지(CI)는 2D 이미지일 수 있다. 예를 들어, 카메라 이미지 (CI)는 카메라 채널 수(Cc)x제1 방향으로의 제1 픽셀 수(Hc)x제2 방향으로의 제2 픽셀 수(Wc)로 표현될 수 있다. 라이다는 외부 환경에 레이저를 조사하여 획득한 라이다 이미지(LI)를 네트워크 프로세서로 제공하도록 구성될 수 있다. 라이다 이미지(LI)는 복수의 라이다 픽셀들을 포함할 수 있다. 라이다 이미지(LI)는 제3 방향 으로의 제3 픽셀 수(Hl)x제4 방향으로의 제4 픽셀 수(Wl)의 해상도를 가질 수 있다. 제3 방향은 라이다에서 의 수평 방향의 각도이고, 제4 방향은 라이다에서의 수직 방향의 채널을 의미할 수 있다. 라이다 이미지(LI)의 각각의 라이다 픽셀은 거리(range)와 반사강도(intensity)에 대한 정보를 픽셀 값으로 하 는 2개의 라이다 채널 수(CL)를 가질 수 있다. 예를 들어, 라이다 이미지(LI)는 레이저를 360도 회전시키면서 획득한 3D 이미지일 수 있다. 예를 들어, 라이다 이미지(LI)는 라이다 채널 수(CL)x제3 방향으로의 제3 픽셀 수 (Hl)x제4 방향으로의 제4 픽셀 수(Wl)로 표현될 수 있다. 다만, 라이다의 제품 종류에 따라서 거리와 반사강도 외의 추가적인 속성이 픽셀 값으로 주어질 수 있고, 이 경우 라이다 채널 수(CL)는 2보다 클 수 있다. 네트워크 프로세서는 카메라 이미지(CI) 및 라이다 이미지(LI)에 기초하여 깊이 맵(DM)을 생성하도록 구성 된다. 네트워크 프로세서는 카메라 이미지(CI) 카메라 이미지 특징 추출기, 투영 맵 변환기, 투영 맵 특징 추출기, 퓨전 유닛 및 디코딩 유닛을 포함할 수 있다. 카메라 이미지 특징 추출기는 카메라 이미지(CI)에 기초하여 카메라 이미지 특징(CF)을 추출하도록 구성될 수 있다. 예를 들어, 카메라 이미지 특징 추출기는 카메라 이미지(CI)를 제1 인공지능 모델에 입력하여, 제 1 인공지능 모델로부터 출력된 출력 값에 기초하여 카메라 이미지 특징(CF)을 추출하도록 구성될 수 있다. 예를 들어, 제1 인공지능 모델은 카메라 이미지 특징(CF)을 예측하기 위한 것으로, 복수의 카메라 이미지들로 구성된 학습 데이터 셋을 학습하여 생성된 것일 수 있다. 카메라 이미지 특징(CF)은 제1 방향으로의 제1’ 픽셀 수(Hc')x제2 방향으로의 제2’ 픽셀 수(Wc')의 해상도를 가질 수 있다. 제1’ 픽셀 수(Hc')는 제1 픽셀 수(Hc)보다 작고, 제2’ 픽셀 수(Wc')는 제2 픽셀 수(Wc)보다 작 을 수 있다. 카메라 이미지 특징(CF)의 각각의 픽셀은 추출된 m개의 특징들(m은 자연수)에 대한 정보를 포함하 는 m개의 채널 수를 가질 수 있다. 투영 맵 변환기는 라이다 이미지(LI)를 수신하도록 구성될 수 있다. 투영 맵 변환기는 카메라 이미지 (CI)의 평면으로 라이다 이미지(LI)를 투사하여 라이다 투영 맵(Lidar projection map, PM)으로 변환하도록 구 성될 수 있다. 라이다 투영 맵(PM)은 복수의 픽셀들을 포함할 수 있다. 라이다 투영 맵(PM)은 제1 방향으로의 제1 픽셀 수(Hc)x제2 방향으로의 제2 픽셀 수(Wc)의 해상도를 가질 수 있 다. 예를 들어, 라이다 투영 맵(PM)은 카메라 이미지(CI)와 동일한 해상도를 가질 수 있다. 라이다 투영 맵(P M)의 각각의 픽셀은 카메라 이미지(CI)의 카메라 픽셀의 위치로 투영된 라이다 이미지(LI)의 라이다 픽셀의 픽 셀 값을 가질 수 있다. 투영 맵 특징 추출기는 라이다 투영 맵(PM)에 기초하여 투영 맵 특징(PF)을 추출하도록 구성될 수 있다. 예 를 들어, 투영 맵 특징 추출기는 라이다 투영 맵(PM)을 제2 인공지능 모델로 입력하여, 제2 인공지능 모델 로부터 출력된 출력 값에 기초하여 투영 맵 특징(PF)을 추출하도록 구성될 수 있다. 예를 들어, 제2 인공지능 모델은 투영 맵 특징(PF)을 예측하기 위한 것으로, 복수의 라이다 투영 맵(PM)들로 구성된 학습 데이터 셋을 학 습하여 생성된 것일 수 있다. 투영 맵 특징(PF)은 제1 방향으로의 제1’ 픽셀 수(Hc')x제2 방향으로의 제2’ 픽셀 수(Wc')의 해상도를 가질 수 있다. 제1’ 픽셀 수(Hc')는 제1 픽셀 수(Hc)보다 작고, 제2’ 픽셀 수(Wc')는 제2 픽셀 수(Wc)보다 작을 수 있다. 예를 들어, 투영 맵 특징(PF)은 카메라 이미지 특징(CF)과 동일한 해상도를 가질 수 있다. 투영 맵 특징 (PF)의 각각의 픽셀은 n개의 특징들(n은 자연수)에 대한 정보를 더 포함하는 n개의 채널 수를 가질 수 있다. 퓨전 유닛은 카메라 이미지 특징(CF) 및 투영 맵 특징(PF)을 퓨전하여 퓨전 맵(FM)을 생성하도록 구성될 수 있다. 일 예시로서, 카메라 이미지 특징(CF) 및 투영 맵 특징(PF)은 동일한 해상도를 가지며 픽셀들이 서로 정 렬될 수 있고, 퓨전 유닛은 카메라 이미지 특징(CF) 및 투영 맵 특징(PF)의 동일한 위치의 픽셀 값들에 대 해 콘캣(Concat) 연산 또는 합산(Sum) 연산을 수행하여 퓨전 맵(FM)을 생성할 수 있다. 퓨전 맵(FM)은 제1 방향으로의 제1’ 픽셀 수(Hc')x제2 방향으로의 제2’ 픽셀 수(Wc')의 해상도를 가질 수 있 다. 예를 들어, 퓨전 맵(FM)은 카메라 이미지 특징(CF) 또는 투영 맵 특징(PF)과 동일한 해상도를 가질 수 있다. 퓨전 맵(FM)의 각각의 픽셀은 카메라 이미지 특징(CF)의 m개의 채널 수에 투영 맵 특징(PF)의 n개의 채널 수를 더한 m+n개의 채널 수를 가질 수 있다. 디코딩 유닛은 퓨전 맵(FM)을 디코딩하여 깊이 맵(DM)을 생성하도록 구성될 수 있다. 예를 들어, 디코딩 유 닛은 퓨전 맵(FM)의 채널 수가 줄어들고 해상도가 증가되도록 디코딩하여 깊이 맵(DM)을 생성하도록 구성될 수 있다. 깊이 맵(DM)은 제1 방향으로의 제1 픽셀 수(Hc)x제2 방향으로의 제2 픽셀 수(Wc)의 해상도를 가질 수 있다. 예 를 들어, 깊이 맵(DM)은 카메라 이미지(CI)와 동일한 해상도를 가질 수 있다. 깊이 맵(DM)의 각각의 픽셀은 깊 이에 대한 정보를 갖는 1개의 채널 수를 가질 수 있다. 도 2를 같이 참조하면, 카메라 이미지(CI)는 RGB 입력을 가정하여 3채널을 가질 수 있고, 라이다 이미지(LI)는 range와 intensity 입력을 가정하여 2채널을 가질 수 있으며, 라이다 투영 맵(PM)는 2개의 채널을 가질 수 있으 며, 깊이 맵(DM)은 1채널을 가질 수 있다. 다만, 이에 제한되지 않고, 카메라 및/또는 라이다 센서에서 더 많은 채널을 제공해줄 수도 있고, 기본 채널 값들을 기반으로 새로운 채널 값을 계산해서 인공지능 모델에 입력되는 데이터의 채널을 늘릴 수도 있다.도 1에서와 같이, 라이다 이미지(LI)를 라이다 투영 맵(PM)으로 변환한 이후 투영 맵 특징(PF) 및 카메라 이미 지 특징(CF)에 깊이 맵(DM)을 생성하는 경우, 퓨전이 간단하나 아래와 같은 단점이 존재할 수 있다. 첫 번째로, 라이다 이미지(LI) 데이터를 라이다 투영 맵(PM)으로 변환시키는 별도의 전처리 로직(예를 들어, 도 1의 투영 맵 변환기)을 필요로 한다. 전처리 과정은 다음과 같다. 라이다는 라이다 이미지(LI) 데이터를 제공한다. 전처리 로직은 라이다 이미지(LI) 각 픽셀의 범위(range)를 바 탕으로 역투영을 통해 라이다 좌표계상의 3D 포인트 클라우드(point cloud)를 계산할 수 있다. 전처리 로직은 라이다와 카메라 간의 위치 관계인 외부 파라미터(Extrinsic Parameter, EP)와 카메라의 내부 파라미터 (IP_C)(Intrinsic Parameter, IP)가 주어지면 포인트 클라우드를 카메라 이미지(CI)의 평면으로 투영시킬 수 있 다. 두 번째로, 라이다 투영 맵(PM)은 비어있는 픽셀이 매우 많은 희소한(sparse) 특성을 가진다는 점이다. 일반적 인 뉴럴 네트워크 레이어들은 이러한 희소한 입력에 좋지 못한 성능을 보인다. 특히, 특징 추출기로 많이 사용 되는 콘볼루셔널 뉴럴 네트워크(CNN)의 전반부는 입력의 지역적인(local) 특징을 추출하는 역할을 하는데, 지역 내의 의미 있는 픽셀이 부족한 경우 좋은 특징을 추출하는데 어려움이 있다. 이러한 문제를 해결하기 위해서는 네트워크의 레이어를 늘리거나 희소한 입력에 대응할 수 있는 변형된 레이어를 사용해야만 한다. 세 번째로, 카메라와 라이다가 설치된 위치 차이에 의해서 카메라 시점에서는 가려진 위치에 맺힌 포인트들이 라이다 투영 맵(PM)에서 나타나는 문제이다. 도 3의 M 영역을 참조하면, 멀리 있는 나무나 지면의 포인트들이 가까이 있는 전봇대에 일부 맺힌 것을 확인할 수 있다. 도 3의 N 영역을 참조하면, 멀리 있는 표지판의 포인트 들이 가까이 있는 버스에 일부 맺힌 것을 확인할 수 있다. 이러한 신뢰할 수 없는 포인트들에 의한 정보를 걸러 내고 추종하지 않도록 네트워크를 설계하고 학습시켜야 하는 노력이 추가적으로 필요하다. 마지막으로, 복수의 카메라들로부터 복수의 카메라 이미지(CI)들을 수신하는 멀티 카메라 환경에서 비효율이 발 생한다. 자율주행차량의 경우, 전방위를 관찰할 수 있도록 많은 수의 카메라들이 탑재된다. 360도를 관찰하는 라이다 하나와 복수의 카메라들이 구성된 경우, 라이다 센서는 하나지만 복수의 카메라 이미지(CI)들 각각에 대 한 평면으로 투사하여 각각의 카메라마다 개별적인 라이다 투영 맵(PM)을 만들어낸 후 개별적으로 특징추출을 해야하는 비효율이 발생한다. 본 개시는 상술한 단점들을 해결하기 위한 것으로, 이하, 도 4 이하를 통해 구체적으로 설명한다. 도 4는 본 개시에 따른 일 실시 예의 전자 시스템을 나타낸 도면이다. 도 4를 참조하면, 전자 시스템은 카메라, 라이다 및 전자 장치를 포함할 수 있다. 이하, 도 1을 통해 설명한 구성들 중 실질적으로 동일한 구성들에 대한 설명은 생략하고, 차이점에 대해 중점적으로 설명한다. 카메라 및 라이다는 모바일 장치에 탑재되어 외부 환경에 대한 이미지를 획득할 수 있다. 예를 들어, 카메라 및 라이다는 차량에 탑재되어, 차량 운행 시 주변 환경에 대한 이미지를 촬영할 수 있다. 전자 장치는 차량 내부에 탑재될 수 있으나, 이에 제한되지 않고, 차량 외부의 서버에 구현될 수도 있다. 카메라는 외부 환경을 촬영하여 획득한 카메라 이미지(CI)를 전자 장치로 제공하도록 구성될 수 있다. 예를 들어, 카메라는 차량의 주변 환경을 촬영하여 카메라 이미지(CI)를 생성하도록 구성될 수 있다. 카메라는 도 1을 통해 설명한 카메라와 실질적으로 동일한 것일 수 있다. 라이다는 외부 환경에 레이저를 조사하여 획득한 라이다 이미지(LI)를 전자 장치로 제공하도록 구성 될 수 있다. 라이다는 도 1을 통해 설명한 라이다와 실질적으로 동일한 것일 수 있다. 다만, 본 개시 는 라이다에 제한되지 않고, 레이다(RADAR)와 같이 카메라 이미지와 다른 해상도를 같고 서로 다른 채널을 갖는 이미지를 카메라 이미지와 퓨전하여 깊이 맵을 생성하는 기술에 대해서도 적용될 수 있음이 이해되어야 할 것이다. 전자 장치는 카메라 이미지(CI) 및 라이다 이미지(LI)에 기초하여 깊이 맵(DM)을 생성하도록 구성될 수 있 다. 전자 장치는 프로세서 및 메모리를 포함할 수 있다. 프로세서는 깊이 맵(DM)을 생성하도록 구성될 수 있으며, 메모리는 프로세서의 동작에 사용되는 각종 데이터를 저장하도록 구성될 수 있다. 이하, 도 5 이하를 참조하여 프로세서의 구체적인 구성 및 동작에 대해 설명한다. 도 5는 도 4의 프로세서의 일 예시를 나타낸 도면이다. 도 6은 도 5의 샘플링 유닛에서의 샘플링 동작을 설명하 기 위한 도면이다. 도 5 및 도 6을 참조하면, 프로세서는 카메라 이미지 특징 추출기, 라이다 이미지 특징 추출기, 샘플링 유닛 및 퓨전 유닛을 포함할 수 있다. 카메라 이미지 특징 추출기는 카메라 이미지(CI)에 기초하여 카메라 이미지 특징(CF)을 추출하도록 구성될 수 있다. 카메라 이미지 특징 추출기는 도 1을 통해 설명한 카메라 이미지 특징 추출기와 실질적으로 동일한 것일 수 있다. 카메라 이미지(CI)는 복수의 카메라 픽셀들을 포함할 수 있다. 카메라 이미지(CI)는 제1 방향으로의 제1 픽셀 수(Hc)x제2 방향으로의 제2 픽셀 수(Wc)의 해상도를 가질 수 있다. 카메라 이미지(CI)는 카메라 채널 수(Cc)x제 1 방향으로의 제1 픽셀 수(Hc)x제2 방향으로의 제2 픽셀 수(Wc)로 표현될 수 있다. 카메라 이미지 특징(CF)은 제1 방향으로의 제1’ 픽셀 수(Hc')x제2 방향으로의 제2’ 픽셀 수(Wc')의 해상도를 가질 수 있다. 제1’ 픽셀 수(Hc')는 제1 픽셀 수(Hc)보다 작고, 제2’ 픽셀 수(Wc')는 제2 픽셀 수(Wc)보다 작 을 수 있다. 카메라 이미지 특징(CF)의 각각의 픽셀은 추출된 m개의 특징들에 대한 정보를 포함하는 m개의 채널 수를 가질 수 있다. 라이다 이미지 특징 추출기는 라이다 이미지(LI)에 기초하여 라이다 이미지 특징(LF)을 추출하도록 구성될 수 있다. 예를 들어, 라이다 이미지 특징 추출기는 라이다 이미지(LI)를 제3 인공지능 모델로 입력하여, 제3 인공지능 모델로부터 출력된 출력 값에 기초하여 라이다 이미지 특징(LF)을 추출하도록 구성될 수 있다. 예 를 들어, 제3 인공지능 모델은 라이다 이미지 특징(LF)을 예측하기 위한 것으로, 복수의 라이다 이미지(LI)들로 구성된 학습 데이터 셋을 학습하여 생성된 것일 수 있다. 일 실시 예에서, 제3 인공지능 모델은 k-최근접 이웃(K-Nearest Neibors, KNN), 선형 회귀(Linear Regression), 로지스틱 회귀(Logistic Regression), Support Vector Machines(SVM), 의사결정 나무(Decision Tree), 랜덤 포레스트(Random Forest), 또는 CNN(Convolutional neural network), RNN(Recurrent neural network), SVR(Support vector regression) 등의 신경망(Neural Networks) 알고리즘 모델을 포함할 수 있다. 라이다 이미지(LI)는 복수의 라이다 픽셀들을 포함할 수 있다. 라이다 이미지(LI)는 제3 방향으로의 제3 픽셀 수(Hl)x제4 방향으로의 제4 픽셀 수(Wl)의 해상도를 가질 수 있다. 제3 방향은 라이다에서의 수평 방향의 각도 이고, 제4 방향은 라이다에서의 수직 방향의 채널을 의미할 수 있다. 라이다 이미지(LI)의 각각의 라이다 픽셀은 거리와 반사강도에 대한 정보를 포함하는 2개의 라이다 채널 수(C L)를 가질 수 있다. 예를 들어, 라이다 이미지(LI)는 라이다 채널 수(CL)x제3 방향으로의 제3 픽셀 수(Hl)x제4 방향으로의 제4 픽셀 수(Wl)로 표현될 수 있다. 라이다 이미지 특징(LF)은 제3 방향으로의 제3’ 픽셀 수(Hl')x제4 방향으로의 제4’ 픽셀 수(Hl')의 해상도를 가질 수 있다. 제3’ 픽셀 수(Hl')는 제3 픽셀 수(Hl)보다 작고, 제3’ 픽셀 수(Hl')는 제3 픽셀 수(Hl)보다 작 을 수 있다. 라이다 이미지 특징(LF)의 각각의 픽셀은 추출된 n개의 특징들에 대한 정보를 포함하는 n개의 채널 수를 가질 수 있다. 카메라 이미지 특징(CF)과 라이다 이미지 특징(LF)은 서로 다른 해상도를 갖고 정렬되어 있지 않기 때문에, 간 단한 방법으로 퓨전할 수 없다. 샘플링 유닛은 카메라 이미지 특징(CF) 및 라이다 이미지 특징(LF)에 기초하여 샘플링 동작을 수행하여 샘 플링된 라이다 이미지 특징(SLF)을 생성하도록 구성될 수 있다. 샘플링 유닛은 라이다 이미지 특징(LF)을 카메라 이미지(CI)와 정렬되도록 샘플링 동작을 수행하도록 구성될 수 있다. 이하, 샘플링 유닛에서 수행되는 샘플링 동작을 도 6을 참조하여 설명한다. 도 6을 같이 참조하면, 샘플링 유닛은 카메라의 내부 파라미터(IP_C)에 기초하여 카메라 이미지 특징 (CF)의 각각의 픽셀의 위치를 카메라 좌표계 상에서 역투영하여 N개의 역투영 포인트들(X1~XN)을 생성하도록 구성될 수 있다. 카메라 좌표계는 카메라가 원점에 위치한 3차원 좌표계일 수 있다. 원점에서 각각의 역투영 포인트들까지의 거리와 역투영 포인트들의 개수 N은 설계할 때 조절할 수 있는 파라미터이다. 샘플링 유닛은 카메라와 라이다 간의 외부 파라미터(EP)에 기초하여 역투영 포인트들을 카메라 좌표계 기준에서 라이다가 원점에 위치하는 라이다 좌표계 기준으로 변경하도록 구성될 수 있다. 샘플링 유닛은 라이다 내부 파라미터(IP_L)를 통해 라이다 좌표계 기준으로 변경된 역투영 포인트들을 라 이다 이미지(LI) 평면에 투영하여 맺히는 샘플링 좌표들(x'1~x'N)을 산출하도록 구성될 있다. 라이다 이미지 (LI) 평면은 라이다 이미지(LI)에 대응되는 평면일 수 있다. 라이다는 360도 회전하여 라이다 이미지(LI)를 획 득하므로, 라이다 이미지(LI) 평면은 원기둥의 옆면에 대응될 수 있다. 샘플링 유닛은 샘플링 좌표들(x'1~x'N)에 대응되는 라이다 이미지 특징(LF)에 기초하여 카메라 이미지 특 징(CF)의 각각의 픽셀에 대한 샘플링 좌표들(x'1~x'N)을 산출하도록 구성될 수 있다. 라이다 이미지(LI) 평면 상의 샘플링 좌표가 라이다 이미지 특징(LF)의 픽셀 값에 정확히 대응되지 않는 경우, 샘플링 유닛은 bilinear 샘플링과 같은 sub-pixel 샘플링을 사용하여 샘플링 좌표를 산출할 수도 있다. Sub-pixel 샘플링 연산의 경우, 미분 가능한 뉴럴 네트워크 레이어로 구현이 가능하므로, end-to-end 학습이 가 능할 수 있다. 위와 같은 방식으로, 샘플링 유닛은 카메라 이미지 특징(CF)의 모든 픽셀들에 대하여 샘플링 동작을 수행 하여 샘플링된 라이다 이미지 특징(SLF)을 생성하도록 구성될 수 있다. 샘플링된 라이다 이미지 특징(SLF)은 라 이다 이미지 특징(LF)의 채널 수(n)x샘플링 좌표들의 수(N)x제1 방향으로의 제1’ 픽셀 수(Hc')x제2 방향으로의 제2’ 픽셀 수(Wc')로 표현될 수 있다. 퓨전 유닛은 샘플링된 라이다 이미지(LI) 및 카메라 이미지(CI)를 퓨전하여 퓨전 맵(FM)을 생성하도록 구 성될 수 있다. 샘플링된 라이다 이미지 특징(SLF)은 카메라 이미지 특징(CF)과 정렬되어 있으므로 쉽게 퓨전될 수 있다. 예를 들어, 퓨전 유닛은 샘플링된 라이다 이미지 특징(SLF)에서 N개의 샘플링 좌표들을 채널방향으로 이어 붙여 카메라 이미지 특징(CF)과 동일한 해상도를 갖도록 샘플링된 라이다 이미지 특징(SLF)을 변형시킬 수 있다. 다른 예로, 퓨전 유닛은 샘플링된 라이다 이미지 특징(SLF)을 바로 퓨전에 사용하지 않고, 3D CNN이나 어 텐션 구조의 레이어를 통과시켜 추가적인 특징을 추출한 후에 카메라 이미지 특징(CF)과 퓨전할 수도 있다. 퓨전 맵(FM)은 제1 방향으로의 제1' 픽셀 수(Hc')x제2 방향으로의 제2' 픽셀 수(Wc')의 해상도를 가질 수 있다. 예를 들어, 퓨전 맵(FM)은 카메라 이미지 특징(CF)과 동일한 해상도를 가질 수 있다. 퓨전 맵(FM)의 각각의 픽 셀은 카메라 이미지 특징(CF)의 m개의 채널 수에 샘플링된 라이다 이미지 특징(SLF)의 라이다 이미지 특징의 수 (n) 및 샘플링 좌표들의 수(N)의 곱을 더한 m+nN개의 채널 수를 가질 수 있다. 디코딩 유닛은 퓨전 맵(FM)을 디코딩하여 깊이 맵(DM)을 생성하도록 구성될 수 있다. 예를 들어, 디코딩 유닛은 퓨전 맵(FM)의 채널 수가 줄어들고 해상도가 증가되도록 디코딩하여 깊이 맵을 생성하도록 구성될 수 있다. 깊이 맵(DM)은 제1 방향으로의 제1 픽셀 수(Hc)x제2 방향으로의 제2 픽셀 수(Wc)의 해상도를 가질 수 있다. 예 를 들어, 깊이 맵(DM)은 카메라 이미지(CI)와 동일한 해상도를 가질 수 있다. 깊이 맵(DM)의 각각의 픽셀은 깊 이에 대한 정보를 갖는 1개의 채널 수를 가질 수 있다. 본 개시의 경우, 라이다 이미지를 라이다 투영 맵으로 변환시키는 별도의 전처리 로직을 필요로 하지 않는다. 이에 따라, 복수의 카메라 이미지들 각각에 대한 라이다 투영 맵들을 생성할 필요가 없으므로 연산량이 감소할 수 있다. 본 개시의 경우, 희소한(Sparse) 특성을 갖는 라이다 투영 맵 대신 라이다 이미지를 직접 인공지능 모델에 이용 하므로 특징 추출의 정확도가 향상될 수 있다. 본 개시의 경우, 카메라 이미지(CI)의 평면의 각 픽셀의 위치에 대해 라이다 이미지(LI) 평면의 어느 지점에서 샘플링해야 하는지에 대한 계산은 최초 한번만 계산하면 되므로, 네트워크 학습과 추론에 추가적인 부담을 주지 않는다.본 개시의 경우, 복수의 카메라들이 사용되는 환경에서도 라이다 이미지 특징 추출을 한번만 수행하여 각각의 카메라 이미지와 퓨전할 수 있어, 전체 연산량이 감소할 수 있다. 도 7은 본 개시에 따른 일 실시 예의 프로세서의 동작 방법을 나타낸 도면이다. 이하, 도 5 및 도 6을 같이 참 조하여, 프로세서의 동작 방법에 대해 설명한다. 도 5, 도 6 및 도 7을 참조하면, S110 단계에서, 프로세서는 카메라로부터 카메라 이미지(CI)를 수신 할 수 있다. 카메라로부터 수신된 카메라 이미지(CI)는 카메라 이미지 특징 추출기로 제공될 수 있다. S120 단계에서, 카메라 이미지 특징 추출기는 카메라 이미지(CI)에 기초하여 카메라 이미지 특징(CF)을 추 출할 수 있다. S130 단계에서, 프로세서는 라이다로부터 라이다 이미지(LI)를 수신할 수 있다. 라이다로부터 수신된 라이다 이미지(LI)는 라이다 이미지 특징 추출기로 제공될 수 있다. S110 단계 및 S130 단계는 동 시에 수행될 수 있다. 다시 말해, 모바일 장치에 탑재된 카메라 및 라이다로부터 카메라 이미지(CI) 및 라이다 이미지(LI)가 프로세서로 실시간으로 수신될 수 있다. S140 단계에서, 라이다 이미지 특징 추출기는 라이다 이미지(LI)에 기초하여 라이다 이미지 특징(LF)을 추 출할 수 있다. S120 단계 및 S140 단계는 동시에 수행될 수 있으나, 이에 제한되지 않고, 순서를 달리하여 수행 될 수도 있다. S150 단계에서, 샘플링 유닛은 카메라 이미지 특징(CF) 및 라이다 이미지 특징(LF)에 기초하여 샘플링 동 작을 수행하여 샘플링된 라이다 이미지 특징(SLF)을 생성할 수 있다. S160 단계에서, 퓨전 유닛은 샘플링된 라이다 이미지(LI) 및 카메라 이미지(CI)를 퓨전하여 퓨전 맵(FM)을 생성할 수 있다. S170 단계에서, 디코딩 유닛는 퓨전 맵(FM)을 디코딩하여 깊이 맵(DM)을 생성할 수 있다. 상술된 내용은 본 개시를 실시하기 위한 구체적인 실시 예들이다. 본 개시는 상술된 실시 예들뿐만 아니라, 단 순하게 설계 변경되거나 용이하게 변경할 수 있는 실시 예들 또한 포함할 것이다. 또한, 본 개시는 실시 예들을 이용하여 용이하게 변형하여 실시할 수 있는 기술들도 포함될 것이다. 따라서, 본 개시의 범위는 상술된 실시 예들에 국한되어 정해져서는 안되며 후술하는 특허청구범위뿐만 아니라 이 발명의 특허청구범위와 균등한 것들 에 의해 정해져야 할 것이다."}
{"patent_id": "10-2023-0138600", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 깊이 완성 네트워크의 일 예시를 나타낸 도면이다. 도 2는 도 1의 카메라 이미지, 라이다 이미지, 라이다 투영 맵 및 깊이 맵의 일 예시를 나타낸 도면이다. 도 3은 도 1의 투영 맵 변환기에서 변환된 투영 맵의 일 예시를 나타낸 도면이다. 도 4는 본 개시에 따른 일 실시 예의 전자 시스템을 나타낸 도면이다. 도 5는 도 4의 프로세서의 일 예시를 나타낸 도면이다. 도 6은 도 5의 샘플링 유닛에서의 샘플링 동작을 설명하기 위한 도면이다. 도 7은 본 개시에 따른 일 실시 예의 프로세서의 동작 방법을 나타낸 도면이다."}
