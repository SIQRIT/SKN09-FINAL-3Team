{"patent_id": "10-2023-0116976", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0034696", "출원번호": "10-2023-0116976", "발명의 명칭": "공중 화장실 출입 감시장치 및 그 방법", "출원인": "서울교통공사", "발명자": "노갑진"}}
{"patent_id": "10-2023-0116976", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "공중 화장실의 출입구를 촬영하는 촬영모듈; 촬영모듈로부터 촬영된 영상을 저장하는 저장장치; 메모리; 및 상기 촬영모듈, 상기 저장장치 및 상기 메모리와 작동적으로 연결(operatively coupled to)된 프로세서;를 포함하되, 상기 프로세서는 상기 촬영모듈로부터 촬영영상을 입력받아 상기 저장장치에 저장하고, 상기 촬영영상의 각 프레임 이미지를 전처리한 후 전처리된 분석 이미지를 물체검지 인공지능 모델에 입력하여 얻은 예측결과에 대해NMS(Non-Maximal Suppression) 기법을 사용하여 최종 클래스를 결정하는 것을 특징으로 하는 공중 화장실 출입감시장치."}
{"patent_id": "10-2023-0116976", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1항에 있어서, 상기 프로세서는, 상기 촬영영상의 프레임 이미지에서 관심구역을 추출한 후 추출한 상기 관심구역의 이미지를 배치하여 하나의 상기 분석 이미지로 구성하는 것을 특징으로 하는 공중 화장실 출입 감시장치."}
{"patent_id": "10-2023-0116976", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 2항에 있어서, 상기 프로세서는, 다수의 상기 촬영모듈로부터 입력된 상기 촬영영상의 프레임 이미지에서 상기 관심구역을 추출하는 것을 특징으로 하는 공중 화장실 출입 감시장치."}
{"patent_id": "10-2023-0116976", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 2항에 있어서, 상기 프로세서는, 상기 관심구역 별로 상기 최종 클래스를 결정하는 것을 특징으로 하는 공중화장실 출입 감시장치."}
{"patent_id": "10-2023-0116976", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 1항에 있어서, 상기 물체검지 인공지능 모델은, CNN(Convolution Neural Network)을 통해 물체의 위치와 분류를 한 번에 수행하여, 남녀 성별 클래스, 클래스의 확률 및 물체의 좌표를 예측결과로 출력하는 것을 특징으로 하는 공중 화장실 출입 감시장치."}
{"patent_id": "10-2023-0116976", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 1항에 있어서, 감시결과를 출력하는 출력모듈;을 더 포함하며, 상기 프로세서는 상기 출력모듈을 통해 상기 촬영영상과 상기 분석 이미지를 출력하고, 상기 최종 클래스를 기반으로 설정조건을 만족하는 경우 상기 출력모듈을 통해 이벤트를 출력하는 것을 특징으로 하는 공중 화장실 출입 감시장치. 공개특허 10-2025-0034696-3-청구항 7 제 6항에 있어서, 상기 프로세서는, 설정시간 동안 프레임 이미지 별로 상기 최종 클래스의 반복횟수를 기반으로 상기 설정조건을 만족하는 경우 상기 이벤트를 출력하는 것을 특징으로 하는 공중 화장실 출입 감시장치."}
{"patent_id": "10-2023-0116976", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 6항에 있어서, 상기 설정조건은, 물체의 바운딩 박스 상부가 남성 침입구역에 포함되고 상기 최종 클래스의남성 클래스 반복횟수가 설정횟수를 초과하는지 판단하는 것을 특징으로 하는 공중 화장실 출입 감시장치."}
{"patent_id": "10-2023-0116976", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 6항에 있어서, 공중 화장실의 출입구에 설치되어 경고를 출력하는 경고모듈;을 더 포함하며, 상기 프로세서는, 상기 이벤트가 발생한 경우 상기 경고모듈로 경고를 출력하는 것을 특징으로 하는 공중 화장실 출입 감시장치."}
{"patent_id": "10-2023-0116976", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "프로세서가 공중 화장실의 출입구에 설치된 촬영모듈로부터 촬영영상을 입력받는 단계; 상기 프로세서가 상기 촬영영상을 저장장치에 저장하며 상기 촬영영상의 각 프레임 이미지를 전처리하는 단계; 상기 프로세서가 상기 프레임 이미지를 전처리한 후 전처리된 분석 이미지를 물체검지 인공지능 모델에 입력하여 예측결과를 획득하는 단계; 및 상기 프로세서가 상기 예측결과에 대해 NMS(Non-Maximal Suppression) 기법을 사용하여 최종 클래스를 결정하는단계;를 포함하는 것을 특징으로 하는 공중 화장실 출입 감시방법."}
{"patent_id": "10-2023-0116976", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제 10항에 있어서, 상기 프레임 이미지를 전처리하는 단계는, 상기 프로세서가 상기 촬영영상의 상기 프레임 이미지에서 관심구역을 추출하는 단계; 및 상기 프로세서가 추출한 상기 관심구역의 이미지를 배치하여 하나의 상기 분석 이미지로 구성하는 단계;를 포함하는 것을 특징으로 하는 공중 화장실 출입 감시방법."}
{"patent_id": "10-2023-0116976", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제 11항에 있어서, 상기 관심구역을 추출하는 단계는, 상기 프로세서가 다수의 상기 촬영모듈로부터 입력된 상기 촬영영상의 상기 프레임 이미지에서 상기 관심구역을 추출하는 것을 특징으로 하는 공중 화장실 출입 감시방법."}
{"patent_id": "10-2023-0116976", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제 11항에 있어서, 상기 최종 클래스를 결정하는 단계는, 상기 프로세서가 상기 관심구역 별로 상기 최종 클래스를 결정하는 것을 특징으로 하는 공중 화장실 출입 감시방법. 공개특허 10-2025-0034696-4-청구항 14 제 10항에 있어서, 상기 물체검지 인공지능 모델은, CNN(Convolution Neural Network)을 통해 물체의 위치와 분류를 한 번에 수행하여, 남녀 성별 클래스, 클래스의확률 및 물체의 좌표를 상기 예측결과로 출력하는 것을 특징으로 하는 공중 화장실 출입 감시방법."}
{"patent_id": "10-2023-0116976", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제 10항에 있어서, 상기 프로세서가 출력모듈을 통해 상기 촬영영상과 상기 분석 이미지를 출력하는 단계; 및 상기 프로세서가 상기 최종 클래스를 기반으로 설정조건을 만족하는 경우 상기 출력모듈을 통해 이벤트를 출력하는 단계;를 더 포함하는 것을 특징으로 하는 공중 화장실 출입 감시방법."}
{"patent_id": "10-2023-0116976", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제 15항에 있어서, 상기 이벤트를 출력하는 단계는, 상기 프로세서가 설정시간 동안 상기 프레임 이미지 별로 상기 최종 클래스의 반복횟수를 기반으로 설정조건을만족하는 경우 이벤트를 출력하는 것을 특징으로 하는 공중 화장실 출입 감시방법."}
{"patent_id": "10-2023-0116976", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제 15항에 있어서, 상기 설정조건은, 물체의 바운딩 박스 상부가 남성 침입구역에 포함되고 상기 최종 클래스의남성 클래스 반복횟수가 설정횟수를 초과하는지 판단하는 것을 특징으로 하는 공중 화장실 출입 감시방법."}
{"patent_id": "10-2023-0116976", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "제 15항에 있어서, 상기 프로세서가 상기 이벤트가 발생한 경우 공중 화장실의 출입구에 설치된 경고모듈을 통해 경고를 출력하는 단계;를 더 포함하는 것을 특징으로 하는 공중 화장실 출입 감시방법."}
{"patent_id": "10-2023-0116976", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 공중 화장실 출입 감시장치 및 그 방법이 개시된다. 본 발명의 공중 화장실 출입 감시장치는, 공중 화 장실의 출입구를 촬영하는 촬영모듈; 촬영모듈로부터 촬영된 영상을 저장하는 저장장치; 메모리; 및 촬영모듈, 저장장치 및 메모리와 작동적으로 연결(operatively coupled to)된 프로세서;를 포함하되, 프로세서는 촬영모듈 로부터 촬영영상을 입력받아 저장장치에 저장하고, 촬영영상의 각 프레임 이미지를 전처리한 후 전처리된 분석 이미지를 물체검지 인공지능 모델에 입력하여 얻은 예측결과에 대해 NMS(Non-Maximal Suppression) 기법을 사용 하여 최종 클래스를 결정하는 것을 특징으로 한다."}
{"patent_id": "10-2023-0116976", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 공중 화장실 출입 감시장치 및 그 방법에 관한 것으로서, 보다 상세하게는 공중 화장실을 출입하는 사용자의 성별을 인식하여 부정 출입자를 식별하여 통지하는 공중 화장실 출입 감시장치 및 그 방법에 관한 것 이다."}
{"patent_id": "10-2023-0116976", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "일반적으로, 가정의 화장실과는 달리 경기장, 공연장, 공원, 공항, 빌딩, 지하철역, 터미널, 휴게소 등의 화장 실(즉, 공중 화장실)은 설치 개소의 특성상 불특정 다수의 사람이 함께 이용하므로 그 내부가 혼잡한 데다 불결 하기까지 하여 대다수가 이용을 기피하는 경향이 있었다. 또한, 이러한 화장실의 정상적인 운영을 위해서는 변기나 조명등이나 환기장치 따위의 이상 유무, 오수탱크의 만수 여부, 비품 및 화장실 이용 현황 등을 관리자가 해당 화장실을 수시로 방문하여서 체크하고, 또 필요한 조 치를 직접 취하여야만 하였는데, 이렇게 관리하기 위해서는 상당한 인력이 필요할 뿐만 아니라 효율적이지도 못 하였다. 즉, 단순히 인력에 의존하는 관리방식은 관리자가 상주하고 있지 않는 이상, 관리자의 체크가 있기 이전까지는 문제 발생 시 이 문제가 아무런 조치 없이 방치되어 있게 되므로 효율적으로 관리할 수 없었던 것이다. 이에, 최근 들어 위와 같은 문제를 보완하고자 다양한 형태의 관리장치가 공중화장실에 적용되고 있는데, 주로 각 칸(양변기 칸)에 사용 중일 때 이에 관한 표시를 하거나 출입구에 센서를 설치하여 조명등과 환기장치의 작 동을 제어하는 관리장치들이 도입되고 있다."}
{"patent_id": "10-2023-0116976", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 2, "content": "본 발명의 배경기술은 대한민국 등록특허공보 제10-0765153호(2007.10.15. 공고, 공중화장실의 통합적 관리장치)에 개시되어 있다."}
{"patent_id": "10-2023-0116976", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "한편, 공중 화장실은 누구나 이용하도록 개방되어 있어 늦은 시간이나 이른 시간 등 사용자가 많지 않은 시간에 는 범죄의 장소로 활용되는 사례들이 증가하고 있다. 특히, 여자 화장실에서 성관련 사건, 사고가 빈번히 발생할 뿐만 아니라 강력범죄까지 발생하게 되면서 여자 화 장실의 남자 출입에 대한 우려가 높아지고 있다. 따라서 CCTV를 설치하여 방범 활동을 강화하거나 관제실에서 CCTV 화면을 감지하여 여자 화장실의 남자 출입을 확인하고 있으나, 인력 부족 현상이나 육안 감시의 한계점이 존재하여 감시의 피로도 및 인적 오류가 발생하고 있다. 최근에는 영상 인식기술을 통하여 방문객수, 성별, 체류시간 등을 측정하고, 이를 저장 및 분석하여 마케팅 데 이터 및 얼굴 인식 포토앨범, 출입통제, 범죄자 추적, 비디오 해석으로 활용하기 위한 연구가 활발히 진행되고 있다. 특히, 성별 인식기술은 영상기기로부터 입력되는 사람의 영상 또는 미리 촬영된 영상 중 존재하는 사람의 영상 으로부터 해당 사람이 남성인지 여성인지 여부를 인식하는 기술을 의미한다. 이러한 성별 인식을 위해 종래에는 사람의 영상으로부터 얼굴 영역을 추출하여 얼굴의 특징 정보를 분석하거나 또는 영상분석 정보와 함께 음성 정보를 분석하여 식별 대상 사람의 성별을 인식하고 있다. 이와 같이 영상으로부터 성별을 인식 방법은 사람의 정면을 촬영하는 영상기기로부터 얼굴을 촬영할 경우 식별 성능이 높으나, 공중 화장실의 경우 개인 사생활의 문제가 예민한 곳으로 내부에 카메라를 설치할 수 없을 뿐만 아니라 출입하는 사람의 정면을 촬영할 수도 없는 문제점이 있다. 따라서 외부에서 공중 화장실을 출입하는 사람을 촬영할 뿐만 아니라 지하철 역사 등 천정의 높이가 낮은 장소 에서는 광각의 카메라를 사용하여 위에서 아래로 내려다보는 형태로 카메라가 설치되기 때문에 영상의 왜곡이 발생할 수 있고, 출입자의 뒷모습으로도 성별을 인식해야 될 뿐만 아니라 마스크나 모자, 및 안경을 착용한 상 태에서도 공중 화장실을 출입하는 사람의 성별을 인식해야 하는 문제점이 있다. 본 발명은 상기와 같은 문제점들을 개선하기 위하여 안출된 것으로, 일 측면에 따른 본 발명의 목적은 공중 화 장실을 출입하는 사용자의 성별을 인식하여 부정 출입자를 식별하여 통지하는 공중 화장실 출입 감시장치 및 그 방법을 제공하는 것이다."}
{"patent_id": "10-2023-0116976", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 일 측면에 따른 공중 화장실 출입 감시장치는, 공중 화장실의 출입구를 촬영하는 촬영모듈; 촬영모듈 로부터 촬영된 영상을 저장하는 저장장치; 메모리; 및 촬영모듈, 저장장치 및 메모리와 작동적으로 연결 (operatively coupled to)된 프로세서;를 포함하되, 프로세서는 촬영모듈로부터 촬영영상을 입력받아 저장장치 에 저장하고, 촬영영상의 각 프레임 이미지를 전처리한 후 전처리된 분석 이미지를 물체검지 인공지능 모델에 입력하여 얻은 예측결과에 대해 NMS(Non-Maximal Suppression) 기법을 사용하여 최종 클래스를 결정하는 것을 특징으로 한다. 본 발명에서 프로세서는, 촬영영상의 프레임 이미지에서 관심구역을 추출한 후 추출한 관심구역의 이미지를 배 치하여 하나의 분석 이미지로 구성하는 것을 특징으로 한다. 본 발명에서 프로세서는, 다수의 촬영모듈로부터 입력된 촬영영상의 프레임 이미지에서 관심구역을 추출하는 것 을 특징으로 한다. 본 발명에서 프로세서는, 관심구역 별로 최종 클래스를 결정하는 것을 특징으로 한다. 본 발명에서 물체검지 인공지능 모델은, CNN(Convolution Neural Network)을 통해 물체의 위치와 분류를 한 번 에 수행하여, 남녀 성별 클래스, 클래스의 확률 및 물체의 좌표를 예측결과로 출력하는 것을 특징으로 한다. 본 발명은 감시결과를 출력하는 출력모듈;을 더 포함하며, 프로세서는 출력모듈을 통해 촬영영상과 분석 이미지 를 출력하고, 최종 클래스를 기반으로 설정조건을 만족하는 경우 출력모듈을 통해 이벤트를 출력하는 것을 특징 으로 한다. 본 발명에서 프로세서는, 설정시간 동안 프레임 이미지 별로 최종 클래스의 반복횟수를 기반으로 설정조건을 만 족하는 경우 이벤트를 출력하는 것을 특징으로 한다. 본 발명에서 설정조건은, 물체의 바운딩 박스 상부가 남성 침입구역에 포함되고 최종 클래스의 남성 클래스 반 복횟수가 설정횟수를 초과하는지 판단하는 것을 특징으로 한다. 본 발명에서 공중 화장실의 출입구에 설치되어 경고를 출력하는 경고모듈;을 더 포함하며, 프로세서는, 이벤트 가 발생한 경우 경고모듈로 경고를 출력하는 것을 특징으로 한다. 본 발명의 다른 측면에 따른 공중 화장실 출입 감시방법은, 프로세서가 공중 화장실의 출입구에 설치된 촬영모 듈로부터 촬영영상을 입력받는 단계; 프로세서가 촬영영상을 저장장치에 저장하며 촬영영상의 각 프레임 이미지 를 전처리하는 단계; 프로세서가 프레임 이미지를 전처리한 후 전처리된 분석 이미지를 물체검지 인공지능 모델 에 입력하여 예측결과를 획득하는 단계; 및 프로세서가 예측결과에 대해 NMS(Non-Maximal Suppression) 기법을 사용하여 최종 클래스를 결정하는 단계;를 포함하는 것을 특징으로 한다. 본 발명에서 프레임 이미지를 전처리하는 단계는, 프로세서가 촬영영상의 프레임 이미지에서 관심구역을 추출하 는 단계; 및 프로세서가 추출한 관심구역의 이미지를 배치하여 하나의 분석 이미지로 구성하는 단계;를 포함하 는 것을 특징으로 한다. 본 발명에서 관심구역을 추출하는 단계는, 프로세서가 다수의 촬영모듈로부터 입력된 촬영영상의 프레임 이미지 에서 관심구역을 추출하는 것을 특징으로 한다. 본 발명에서 최종 클래스를 결정하는 단계는, 프로세서가 관심구역 별로 최종 클래스를 결정하는 것을 특징으로 한다. 본 발명에서 물체검지 인공지능 모델은, CNN(Convolution Neural Network)을 통해 물체의 위치와 분류를 한 번 에 수행하여, 남녀 성별 클래스, 클래스의 확률 및 물체의 좌표를 예측결과로 출력하는 것을 특징으로 한다. 본 발명은 프로세서가 출력모듈을 통해 촬영영상과 분석 이미지를 출력하는 단계; 및 프로세서가 최종 클래스를 기반으로 설정조건을 만족하는 경우 출력모듈을 통해 이벤트를 출력하는 단계;를 더 포함하는 것을 특징으로 한 다. 본 발명에서 이벤트를 출력하는 단계는, 프로세서가 설정시간 동안 프레임 이미지 별로 최종 클래스의 반복횟수 를 기반으로 설정조건을 만족하는 경우 이벤트를 출력하는 것을 특징으로 한다. 본 발명에서 설정조건은, 물체의 바운딩 박스 상부가 남성 침입구역에 포함되고 최종 클래스의 남성 클래스 반 복횟수가 설정횟수를 초과하는지 판단하는 것을 특징으로 한다. 본 발명은 프로세서가 이벤트가 발생한 경우 공중 화장실의 출입구에 설치된 경고모듈을 통해 경고를 출력하는 단계;를 더 포함하는 것을 특징으로 한다."}
{"patent_id": "10-2023-0116976", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 일 측면에 따른 공중 화장실 출입 감시장치 및 그 방법은 공중 화장실을 출입하는 사용자의 성별을 인식하여 부정 출입자를 식별하여 통지함으로써, 사건 사고를 미연에 방지할 수 있을 뿐만 아니라 안심하고 화 장실을 사용하도록 할 수 있다."}
{"patent_id": "10-2023-0116976", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면들을 참조하여 본 발명에 따른 공중 화장실 출입 감시장치 및 그 방법을 설명한다. 이 과정에 서 도면에 도시된 선들의 두께나 구성요소의 크기 등은 설명의 명료성과 편의상 과장되게 도시되어 있을 수 있 다. 또한, 후술되는 용어들은 본 발명에서의 기능을 고려하여 정의된 용어들로서 이는 사용자, 운용자의 의도 또는 관례에 따라 달라질 수 있다. 그러므로 이러한 용어들에 대한 정의는 본 명세서 전반에 걸친 내용을 토대 로 내려져야 할 것이다. 도 1은 본 발명의 일 실시예에 따른 공중 화장실 출입 감시장치를 나타낸 블록 구성도이고, 도 2는 본 발명의 일 실시예에 따른 공중 화장실 출입 감시장치에서 프레임 이미지의 관심구역을 나타낸 예시도이며, 도 3은 본 발명의 일 실시예에 따른 공중 화장실 출입 감시장치에서 다수의 관심구역이 배치된 분석 이미지를 나타낸 예시 도이고, 도 4는 본 발명의 일 실시예에 따른 공중 화장실 출입 감시장치에서 예측결과를 설명하기 위한 도면이 며, 도 5는 본 발명의 일 실시예에 따른 공중 화장실 출입 감시장치에서 이벤트 발생 조건을 설명하기 위한 도 면이다. 도 1에 도시된 바와 같이 본 발명의 일 실시예에 따른 공중 화장실 출입 감시장치는, 촬영모듈, 저장장치 , 출력모듈, 경고모듈, 메모리 및 프로세서를 포함할 수 있다. 촬영모듈은 공중 화장실의 출입구 외부에 설치되어 출입하는 사람을 촬영할 수 있다. 저장장치는 촬영모듈로부터 촬영된 영상을 저장할 수 있고, 물체검지 인공지능 모델에 의한 학습정보를 저장할 수 있다. 출력모듈은 디스플레이를 포함하여 감시결과를 출력할 수 있다. 여기서 출력모듈은 감시하는 공중 화장실의 출입구에 설치된 촬영모듈이 다수개인 경우 분할화면으로 촬영영상을 출력할 수 있고, 각 분할화면을 통해 다수개 공중 화장실의 감시결과를 출력할 수도 있고, 이벤트가 발생할 경우 분할화면을 전체화면으로 전환하거나 테두리의 색상을 다르게 표시하거나 점멸시켜 관리자가 이벤 트를 쉽게 식별할 수 있도록 할 수 있다. 경고모듈은 공중 화장실의 출입구에 설치되어 경고를 출력할 수 있다. 즉, 음성을 통해 경고안내를 할 수 있을 뿐만 아니라 청각적으로 경고음을 출력하거나 시각적으로 경고등을 점등시키거나 점멸시킬 수 있다. 메모리는 공중 화장실 출입 감시장치를 위한 실행 프로그램 및 관련데이터를 저장할 수 있으며, 저장되는 정보들은 필요에 따라 프로세서에 의해 취사선택될 수 있다. 즉, 메모리에는 공중 화장실 출입 감시장치의 구동을 위한 운영 체제(O/S; Operating System)나 어플리케이 션(프로그램 또는 애플릿)의 실행과정에서 발생되는 여러 종류의 데이터 및 명령어가 저장된다. 이때, 메모리는 비휘발성 메모리, 휘발성 메모리, 플래시메모리(flash-memory), 하드디스크 드라이브(HDD) 또는 솔리드 스테이트 드라이브(SSD) 등으로 구현될 수 있다, 또한, 메모리는 액세스 되며, 프로세서에 의한 데이터의 독취/기록/수정/삭제/갱신 등이 수행될 수 있다. 프로세서는 촬영모듈, 저장장치, 출력모듈, 경고모듈 및 메모리와 작동적으로 연결 (operatively coupled to)되어, 공중 화장실 출입 감시장치의 전반적인 동작을 제어하기 위해 메모리에 저 장된 각종 프로그램을 램에 복사하고, 실행시켜 각종 동작을 수행할 수 있다. 여기서, 프로세서가 하나의 CPU만을 포함하는 것으로 설명하였지만, 구현 시에는 복수의 CPU(또는 DSP, SoC 등)으로 구현될 수도 있다. 즉, 프로세서는 실행 프로그램을 구동한 후 촬영모듈로부터 촬영영상을 입력받아 저장장치에 저장 하고, 촬영영상의 각 프레임 이미지를 전처리한 후 전처리된 분석 이미지를 물체검지 인공지능 모델에 입력하여 얻은 예측결과에 대해 NMS(Non-Maximal Suspresion) 기법을 사용하여 최종 클래스를 결정할 수 있다. 여기서 프로세서는 도 2에 도시된 바와 같이 촬영영상의 각 프레임 이미지에서 관심구역을 추출할 수 있다. 예를 들어, 공중 화장실에 출입하는 사람의 성별을 분석하기 위해서는 도 2에 도시된 바와 같이 촬영영상의 프 레임 이미지 전체를 분석하지 않고, 대중 화장실의 입구 쪽 이미지만을 잘라서 분석할 수 있다. 따라서, 출입을 감지하기 위한 관심구역을 빨간색 네모와 같이 설정하여 추출할 수 있다. 프레임 이미지가 화면 이 FHD의 1920*1080 픽셀 크기의 이미지라고 한다면, 관심구역은 약 480*540 픽셀의 크기로, 약 1/8 크기의 이 미지로 설정할 수 있다. 한편, 이와 같이 1/8 크기의 이미지로 관심구역을 추출할 경우, 추출한 다수의 관심구역의 이미지를 도 3에 도 시된 바와 같이 하나의 분석 이미지에 배치함으로써, 이미지 1개를 분석하는 계산 비용으로 8개의 영상을 동시 에 분석할 수 있어 계산 비용을 줄일 수도 있다. 한편, 다수의 촬영모듈로부터 입력된 촬영영상의 프레임 이미지에서 계속해서 동일한 위치의 관심구역을 추 출하여 하나의 분석 이미지를 구성하여 분석할 수도 있다. 이때 관심구역의 좌표를 설정하여 이벤트가 발생할 경우 촬영모듈의 설치 위치를 파악하여 경고할 수 있다. 이와 같이 프로세서는 전처리된 분석 이미지를 물체검지 인공지능 모델에 입력하여 관심구역 별로 최종 클 래스를 결정하여 예측결과를 출력할 수 있다. 본 실시예에서 물체검지 인공지능 모델은 CNN(Convolution Neural Network)을 통해 물체의 위치와 분류를 한 번 에 수행하여, 남녀 성별 클래스, 클래스의 확률 및 물체의 좌표를 예측결과로 출력할 수 있다. 도 4에 도시된 바와 같이 남자와 여자의 물체를 감지한 후 물체: 여자, 확률; 98%, 좌표: (0.6, 0.5, 0.3, 0. 8)을 출력할 수 있다. 여기서, 물체검지 인공지능 모델은 물체 클래스에 대해 남자와 여자의 클래스와 확률을 동시에 출력할 수 있어, 프로세서는 NMS(Non-Maximal Suppression) 기법을 사용하여 두 클래스의 확률 중 높은 확률의 출력을 선택 하여 최종 클래스를 결정할 수 있다. 이때 NMS 기법은 하나의 출력과 나머지 출력의 좌표 각각의 면적과 겹치는 부분의 면적을 통해 IoU(Intersection over Union)을 구한 후 IoU의 임계값을 조정하여 원하는 출력값을 얻을 수 있고, 확률 임계값 을 조정하여 최종 클래스를 결정할 수 있다. 한편, 프로세서는 물체검지 인공지능 모델에 대해 기계학습을 통해 학습정보를 갱신할 수 있다. 훈련 이미 지에는 남자와 여자의 클래스와 좌표가 라벨링 되어있고, 실제 사용할 촬영모듈과 비슷한 각도와 거리에서 찍은 이미지를 활용할 수 있다. 남자와 여자의 숫자는 비슷한 개수로 맞추고, 계절에 따라 사람들의 옷차림이 바뀌기 때문에 훈련 이미지도 계절별 옷차림을 고려하여 선정하여 학습시켜 지속적 업데이트를 통해 정확도를 높일 수 있다. 또한, 프로세서는 출력모듈을 통해 촬영영상과 분석 이미지를 출력하고, 최종 클래스를 기반으로 설정 조건을 만족하는 경우 출력모듈을 통해 이벤트를 출력할 수 있다. 예를 들어, 프로세서는 이벤트가 발 생할 경우 분할화면을 전체화면으로 전환하거나 테두리의 색상을 다르게 표시하거나 점멸시켜 관리자가 이벤트 를 쉽게 식별할 수 있도록 할 수 있다. 이때 프로세서는 설정시간 동안 프레임 이미지 별로 최종 클래스의 반복횟수를 기반으로 설정조건을 만족하 는 경우 이벤트를 출력할 수 있다. 공중 화장실을 출입하는 사람은 계속해서 움직이고, 많은 사람들과 중첩되기 때문에 하나의 프레임 이미지를 통 해 남녀 구분이 어려운 순간도 있기 때문에 설정시간 동안 프레임 이미지 별로 최종 클래스에서 동일한 성별의 반복횟수가 설정횟수를 초과하는 경우, 이를 최종적인 성별로 결정할 수 있다. 따라서, 프로세서는 설정조건으로 도 5에 도시된 바와 같이 여자 화장실 입구에서 물체의 바운딩 박스(빨간 색) 상부가 남성 침입구역(초록색)에 포함되고 최종 클래스의 남성 클래스 반복횟수가 설정횟수를 초과하는지 판단하여 이벤트를 출력할 수 있다. 이와 같이 이벤트가 발생한 경우, 프로세서는 경고모듈을 통해 경고를 출력할 수 있다. 즉, 음성을 통 해 경고안내를 할 수 있을 뿐만 아니라 청각적으로 경고음을 출력하거나 시각적으로 경고등을 점등시키거나 점 멸시킬 수 있다. 상술한 바와 같이, 본 발명의 실시예에 의한 공중 화장실 출입 감시장치에 따르면, 공중 화장실을 출입하는 사 용자의 성별을 인식하여 부정 출입자를 식별하여 통지함으로써, 사건 사고를 미연에 방지할 수 있을 뿐만 아니 라 안심하고 화장실을 사용하도록 할 수 있다. 도 6은 본 발명의 일 실시예에 따른 공중 화장실 출입 감시방법을 설명하기 위한 흐름도이다. 도 6에 도시된 바와 같이 본 발명의 일 실시예에 따른 공중 화장실 출입 감시방법에서는, 먼저 프로세서가 메모리에 저장된 실행 프로그램을 구동한 후 공중 화장실의 출입구에 설치된 촬영모듈로부터 촬영영상 을 입력받는다(S10). S10 단계에서 촬영영상을 입력받으면 프로세서는 촬영영상을 저장장치에 저장하고, 촬영영상의 각 프레 임 이미지를 전처리한다(S20). 여기서, 프로세서는 도 2에 도시된 바와 같이 촬영영상의 각 프레임 이미지에서 관심구역을 추출하여 전처 리할 수 있다. 예를 들어, 공중 화장실에 출입하는 사람의 성별을 분석하기 위해서는 도 2에 도시된 바와 같이 촬영영상의 프 레임 이미지 전체를 분석하지 않고, 대중 화장실의 입구 쪽 이미지만을 잘라서 분석할 수 있다. 따라서, 출입을 감지하기 위한 관심구역을 빨간색 네모와 같이 설정하여 추출할 수 있다. 프레임 이미지가 화면 이 FHD의 1920*1080 픽셀 크기의 이미지라고 한다면, 관심구역은 약 480*540 픽셀의 크기로, 약 1/8 크기의 이 미지로 설정하여 전처리할 수 있다. 한편, 이와 같이 1/8 크기의 이미지로 관심구역을 추출할 경우, 추출한 다수의 관심구역의 이미지를 도 3에 도 시된 바와 같이 하나의 분석 이미지에 배치하여 전처리함으로써, 이미지 1개를 분석하는 계산 비용으로 8개의 영상을 동시에 분석할 수 있어 계산 비용을 줄일 수도 있다. 또한, 프로세서는 다수의 촬영모듈로부터 입력된 촬영영상의 프레임 이미지에서 관심구역을 추출하여 전처리하여 분석 이미지를 구성할 수도 있다. S20 단계에서 프레임 이미지를 전처리한 후 프로세서는 전처리된 분석 이미지를 물체검지 인공지능 모델에 입력하여 예측결과를 획득한다(S30). 본 실시예에서 물체검지 인공지능 모델은 CNN(Convolution Neural Network)을 통해 물체의 위치와 분류를 한 번 에 수행하여, 남녀 성별 클래스, 클래스의 확률 및 물체의 좌표를 예측결과로 출력할 수 있다. S30 단계에서 관심구역 별로 예측결과를 획득한 후 프로세서는 예측결과에 대해 NMS(Non-Maximal Suppression) 기법을 사용하여 분석 이미지의 관심구역 별로 최종 클래스를 결정한다(S40). 여기서, 물체검지 인공지능 모델은 물체 클래스에 대해 남자와 여자의 클래스와 확률을 동시에 출력할 수 있어, 프로세서는 NMS(Non-Maximal Suppression) 기법을 사용하여 두 클래스의 확률 중 높은 확률의 출력을 선택 하여 최종 클래스를 결정할 수 있다. 이때 NMS 기법은 하나의 출력과 나머지 출력의 좌표 각각의 면적과 겹치는 부분의 면적을 통해 IoU(Intersection over Union)을 구한 후 IoU의 임계값을 조정하여 원하는 출력값을 얻을 수 있고, 확률 임계값 을 조정하여 최종 클래스를 결정할 수 있다. S40 단계에서 최종 클래스를 결정한 후 프로세서는 이벤트 발생여부를 판단한다(S50). 이때 프로세서는 설정시간 동안 프레임 이미지 별로 최종 클래스의 반복횟수를 기반으로 설정조건을 만족하 는 경우 이벤트 발생으로 판단할 수 있다. 공중 화장실을 출입하는 사람은 계속해서 움직이고, 많은 사람들과 중첩되기 때문에 하나의 프레임 이미지를 통 해 남녀 구분이 어려운 순간도 있기 때문에 설정시간 동안 프레임 이미지 별로 최종 클래스에서 동일한 성별의 반복횟수가 설정횟수를 초과하는 경우, 이를 최종적인 성별로 결정할 수 있다. 따라서, 프로세서는 설정조건으로 도 5에 도시된 바와 같이 여자 화장실 입구에서 물체의 바운딩 박스(빨간 색) 상부가 남성 침입구역(초록색)에 포함되고 최종 클래스의 남성 클래스 반복횟수가 설정횟수를 초과하는지판단하여 이벤트를 발생여부를 판단할 수 있다. 즉, 프로세서는 출력모듈을 통해 촬영영상과 분석 이미지를 출력하면서, 이벤트가 발생한 경우 출력모 듈을 통해 이벤트를 출력한다(S60). 예를 들어, 프로세서는 이벤트가 발생할 경우 분할화면을 전체화면으로 전환하거나 테두리의 색상을 다르게 표시하거나 점멸시켜 관리자가 이벤트를 쉽게 식별할 수 있도록 할 수 있다. S60 단계에서 출력모듈을 통해 이벤트를 출력하고, 프로세서는 이벤트가 발생한 경우 공중 화장실의 출 입구에 설치된 경고모듈을 통해 경고를 출력한다(S70). 즉, 음성을 통해 경고안내를 할 수 있을 뿐만 아니라 청각적으로 경고음을 출력하거나 시각적으로 경고등을 점 등시키거나 점멸시킬 수 있다. 상술한 바와 같이, 본 발명의 실시예에 의한 공중 화장실 출입 감시방법에 따르면, 공중 화장실을 출입하는 사 용자의 성별을 인식하여 부정 출입자를 식별하여 통지함으로써, 사건 사고를 미연에 방지할 수 있을 뿐만 아니 라 안심하고 화장실을 사용하도록 할 수 있다. 본 명세서에서 설명된 구현은, 예컨대, 방법 또는 프로세스, 장치, 소프트웨어 프로그램, 데이터 스트림 또는 신호로 구현될 수 있다. 단일 형태의 구현의 맥락에서만 논의(예컨대, 방법으로서만 논의)되었더라도, 논의된 특징의 구현은 또한 다른 형태(예컨대, 장치 또는 프로그램)로도 구현될 수 있다. 장치는 적절한 하드웨어, 소 프트웨어 및 펌웨어 등으로 구현될 수 있다. 방법은, 예컨대, 컴퓨터, 마이크로프로세서, 집적 회로 또는 프로 그래밍 가능한 로직 디바이스 등을 포함하는 프로세싱 디바이스를 일반적으로 지칭하는 프로세서 등과 같은 장 치에서 구현될 수 있다. 프로세서는 또한 최종-사용자 사이에 정보의 통신을 용이하게 하는 컴퓨터, 셀 폰, 휴 대용/개인용 정보 단말기(personal digital assistant: \"PDA\") 및 다른 디바이스 등과 같은 통신 디바이스를 포함한다. 본 발명은 도면에 도시된 실시예를 참고로 하여 설명되었으나, 이는 예시적인 것에 불과하며, 당해 기술이 속하 는 분야에서 통상의 지식을 가진 자라면 이로부터 다양한 변형 및 균등한 타 실시예가 가능하다는 점을 이해할 것이다. 따라서 본 발명의 진정한 기술적 보호범위는 아래의 청구범위에 의해서 정하여져야 할 것이다."}
{"patent_id": "10-2023-0116976", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 공중 화장실 출입 감시장치를 나타낸 블록 구성도이다. 도 2는 본 발명의 일 실시예에 따른 공중 화장실 출입 감시장치에서 프레임 이미지의 관심구역을 나타낸 예시도 이다. 도 3은 본 발명의 일 실시예에 따른 공중 화장실 출입 감시장치에서 다수의 관심구역이 배치된 분석 이미지를 나타낸 예시도이다. 도 4는 본 발명의 일 실시예에 따른 공중 화장실 출입 감시장치에서 예측결과를 설명하기 위한 도면이다. 도 5는 본 발명의 일 실시예에 따른 공중 화장실 출입 감시장치에서 이벤트 발생 조건을 설명하기 위한 도면이 다. 도 6은 본 발명의 일 실시예에 따른 공중 화장실 출입 감시방법을 설명하기 위한 흐름도이다."}
