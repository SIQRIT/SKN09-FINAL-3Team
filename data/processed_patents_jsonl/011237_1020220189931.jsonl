{"patent_id": "10-2022-0189931", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0106845", "출원번호": "10-2022-0189931", "발명의 명칭": "얼굴 영상 기반 실시간 심박 측정 방법 및 그 시스템", "출원인": "주식회사 원플", "발명자": "이락규"}}
{"patent_id": "10-2022-0189931", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "내담자의 영상 그룹으로부터 이마 영역 그룹을 검출하는 단계;상기 이마 영역 그룹로부터 G 채널 그룹을 분리하는 단계;상기 G 채널 그룹을 고속 푸리에 변환(FTT)하는 단계; 및상기 고속 푸리에 변환한 결과물로부터 심박수를 결정하는 단계;를 포함하는, 얼굴 영상 기반 실시간 심박 측정방법."}
{"patent_id": "10-2022-0189931", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서,상기 이마 영역 그룹 검출 단계는,상기 영상 그룹의 제1 영상에서 얼굴 영역을 특징지는 얼굴 영역 특징 점을 기초로 제1 얼굴 영역을 추출하는단계;상기 얼굴 영역 특징 점을 추적하는 단계;상기 제1 얼굴 영역을 3D 실린더 모델로 변환하여 모션 벡터를 추출하는 단계;상기 제1 얼굴 영역에서 제1 이마 부분을 검출하는 단계; 및상기 추적 결과 및 상기 모션 벡터를 기초로, 상기 제1 이마 부분을 기준 박스에 맵핑하여 상기 이마 영역 그룹을 검출하는 단계;를 구비하는, 얼굴 영상 기반 실시간 심박 측정 방법."}
{"patent_id": "10-2022-0189931", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1 항에 있어서,상기 심박수 결정 단계는,상기 고속 푸리에 변환 결과물에 대해 0.8 내지 4 Hz 대역을 통과시키는 밴드 패스 필터를 적용하는 단계;상기 필터링된 결과물에서 최고 피크 주파수를 선택하는 단계; 및상기 최고 피크 주파수의 주기를 상기 심박수로 결정하는 단계;를 구비하는, 얼굴 영상 기반 실시간 심박 측정방법."}
{"patent_id": "10-2022-0189931", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "내담자 단말기와 통신하는 지능형 심리 상담 서비스 지원 서버로서,상기 내담자 단말기로부터 음성 및 영상 데이터를 수신하는 서버 통신부; 및상기 영상 데이터로부터 상기 내담자 단말기의 내담자의 심박수를 결정하는 서버 제어부;를 포함하고,상기 서버 제어부는,상기 영상 데이터로부터 내담자에 대한 특정 주기의 영상 그룹을 획득하는 영상 처리부;상기 영상 그룹으로부터 이마 영역 그룹을 검출하는 이마 검출부;상기 이마 영역 그룹로부터 G 채널 그룹을 분리하는 채널 추출부;상기 G 채널 그룹을 고속 푸리에 변환(FTT)하는 주파수 파악부; 및공개특허 10-2024-0106845-3-상기 고속 푸리에 변환한 결과물로부터 심박수를 결정하는 심박수 결정부;를 구비하는, 서버."}
{"patent_id": "10-2022-0189931", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 4 항에 있어서,상기 음성 및 영상 데이터를 기초로 상기 내담자 단말기와 인공 지능 상담하는 지능형 상담부;를 더 포함하고,상기 지능형 상담부는 고위험군 단어를 포착하면, 상담사 단말기와 상기 내담자 단말기이 연결되도록 하고,상기 서버 제어부는 상기 상담사 단말기에 상기 내담자의 심박수가 표시되도록 하는, 서버."}
{"patent_id": "10-2022-0189931", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 얼굴 영상 기반 실시간 심박 측정 방법 및 그 시스템에 관한 것으로, 심박 측정 방법은 내담자의 영상 그룹으로부터 이마 영역 그룹을 검출하는 단계; 상기 이마 영역 그룹로부터 G 채널 그룹을 분리하는 단계; 상기 G 채널 그룹을 고속 푸리에 변환(FTT)하는 단계; 및 상기 고속 푸리에 변환한 결과물로부터 심박수를 결정하는 단계;를 포함할 수 있다."}
{"patent_id": "10-2022-0189931", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 심박 측정 방법 및 그 시스템에 관한 것으로, 더욱 상세하게는 얼굴 영상을 기반으로 실시간 심박 측 정하는 방법 및 그 시스템에 관한 것이다."}
{"patent_id": "10-2022-0189931", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "산업의 급속한 발달, 도시화, 개인화 등으로 사회전반에 정신건강 문제가 대두되고 있어, 정신건강 관리 및 예 방적 접근의 필요성이 증가하고 있다. 그러나, 심리검사, 상담에 대한 편견, 불편함 등의 높은 사회적 오해의 문턱으로 인한 조기발견 및 개입의 어려움이 있다. 스트레스와 우울증에 힘들어하는 현대인을 위하여 실시간 얼굴영상으로부터 개인의 스트레스 여부를 측정하고, 스트레스 관리가 필요하다고 판단 시 자동으로 AI 챗봇이 채팅을 통해 조기 개입하여 심리적 케어가 필요하다. 또한, 비대면 심리상담 시 상담 중 내담자의 표정, 시선, 동작 등의 변화를 상담사가 파악하기 어렵운 면이 있 다."}
{"patent_id": "10-2022-0189931", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 실시예들은 얼굴 영상 기반으로 실시간 심박 측정 방법을 제공 한다."}
{"patent_id": "10-2022-0189931", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 일 실시예에 따른 얼굴 영상 기반 실시간 심박 측정 방법은 내담자의 영상 그룹으로부터 이마 영역 그룹을 검출하는 단계; 상기 이마 영역 그룹로부터 G 채널 그룹을 분리하는 단계; 상기 G 채널 그룹을 고속 푸 리에 변환(FTT)하는 단계; 및 상기 고속 푸리에 변환한 결과물로부터 심박수를 결정하는 단계;를 포함할 수 있 다. 또한, 상기 이마 영역 그룹 검출 단계는, 상기 영상 그룹의 제1 영상에서 얼굴 영역을 특징지는 얼굴 영역 특징 점을 기초로 제1 얼굴 영역을 추출하는 단계; 상기 얼굴 영역 특징 점을 추적하는 단계; 상기 제1 얼굴 영역을 3D 실린더 모델로 변환하여 모션 벡터를 추출하는 단계; 상기 제1 얼굴 영역에서 제1 이마 부분을 검출하는 단 계; 및 상기 추적 결과 및 상기 모션 벡터를 기초로, 상기 제1 이마 부분을 기준 박스에 맵핑하여 상기 이마 영 역 그룹을 검출하는 단계;를 구비할 수 있다. 또한, 상기 심박수 결정 단계는, 상기 고속 푸리에 변환 결과물에 대해 0.8 내지 4 Hz 대역을 통과시키는 밴드 패스 필터를 적용하는 단계; 상기 필터링된 결과물에서 최고 피크 주파수를 선택하는 단계; 및 상기 최고 피크 주파수의 주기를 상기 심박수로 결정하는 단계;를 구비할 수 있다. 본 발명의 일 실시예에 따른 지능형 심리 상담 서비스 지원 서버는 내담자 단말기와 통신하는 지능형 심리 상담 서비스 지원 서버로서, 상기 내담자 단말기로부터 음성 및 영상 데이터를 수신하는 서버 통신부 ; 및 상기 영상 데이터로부터 상기 내담자 단말기의 내담자의 심박수를 결정하는 서버 제어부;를 포함할 수 있다.또한, 상기 서버 제어부는, 상기 영상 데이터로부터 내담자에 대한 특정 주기의 영상 그룹을 획득하는 영 상 처리부; 상기 영상 그룹으로부터 이마 영역 그룹을 검출하는 이마 검출부; 상기 이마 영역 그룹로 부터 G 채널 그룹을 분리하는 채널 추출부; 상기 G 채널 그룹을 고속 푸리에 변환(FTT)하는 주파수 파악부 ; 및 상기 고속 푸리에 변환한 결과물로부터 심박수를 결정하는 심박수 결정부;를 구비할 수 있다. 또한, 상기 음성 및 영상 데이터를 기초로 상기 내담자 단말기와 인공 지능 상담하는 지능형 상담부; 를 더 포함할 수 있다. 또한, 상기 지능형 상담부는 고위험군 단어를 포착하면, 상담사 단말기와 상기 내담자 단말기이 연결되도록 할 수 있다. 또한, 상기 서버 제어부는 상기 상담사 단말기에 상기 내담자의 심박수가 표시되도록 할 수 있다."}
{"patent_id": "10-2022-0189931", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따른 얼굴 영상 기반 실시간 심박 측정 방법 및 그 시스템은 내담자의 심박수를 비접촉으로 파악하여 비대면 심리 상담 시 내담자의 스트레스 정도를 알 수 있다."}
{"patent_id": "10-2022-0189931", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 도면을 참조하여 본 발명의 실시예들을 상세히 설명하기로 하며, 도면을 참조하여 설명할 때 동일하거나 대응하는 구성 요소는 동일한 도면부호를 부여하고 이에 대한 중복되는 설명은 생략하기로 한다. 제1, 제2 등의 용어는 다양한 구성요소들을 설명하는데 사용될 수 있지만, 상기 구성요소들은 상기 용어들에 의 해 한정되어서는 안 된다. 상기 용어들은 하나의 구성요소를 다른 구성요소로부터 구별하는 목적으로만 사용된 다. 예를 들어, 본 발명의 권리 범위를 벗어나지 않으면서 제1 구성요소는 제2 구성요소로 명명될 수 있고, 유 사하게 제2 구성요소도 제1 구성요소로 명명될 수 있다. 및/또는 이라는 용어는 복수의 관련된 기재된 항목들의 조합 또는 복수의 관련된 기재된 항목들 중의 어느 항목을 포함한다. '또는' 용어는 전후 문맥상 논리적 배타합 으로 해석될 수 있으나, '그렇지 않으면, 아니면, 논리적 배타합' 등의 직접적인 묘사가 없으면, '및/또는'과 같은 의미, 즉, 논리합으로 해석한다. 또한, 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 어떤 구성요소가 다른 구성요소에 \"연결되어\" 있다거나 \"접속되어\" 있다고 언급된 때에는, 그 다른 구성요소에 직접적으로 연결되어 있거나 또는 접속되어 있을 수도 있지만, 중간에 다른 구성요소가 존재할 수도 있다고 이 해되어야 할 것이다. 반면에, 어떤 구성요소가 다른 구성요소에 \"직접 연결되어\" 있다거나 \"직접 접속되어\" 있 다고 언급된 때에는, 중간에 다른 구성요소가 존재하지 않는 것으로 이해되어야 할 것이다. 이는 상하좌우의 배 치 관계에서도 동일하다. 예를 들어, 어떤 구성요소가 다른 구성요소 위에 있다고 할 때, 어떤 구성요가 다른부분의 바로 위에 있는 경우 뿐만 아니라 그 중간에 또 다른 구성요소가 개재되어 있는 경우도 포함한다. 또한 네트워크 상의 제1 구성요소와 제2 구성요소가 연결되어 있거나 접속되어 있다는 것은, 유선 또는 무선으 로 제1 구성요소와 제2 구성요소 사이에 데이터를 주고 받을 수 있음을 의미한다. 이하의 설명에서 사용되는 구성요소에 대한 접미사 \"모듈\" 및 \"부\"는 단순히 본 명세서 작성의 용이함만이 고려 되어 부여되는 것으로서, 그 자체로 특별히 중요한 의미 또는 역할을 부여하는 것은 아니다. 따라서, 상기 \"모 듈\" 및 \"부\"는 서로 혼용되어 사용될 수도 있다. 이와 같은 구성요소들은 실제 응용에서 구현될 때 필요에 따라 2 이상의 구성요소가 하나의 구성요소로 합쳐지 거나, 혹은 하나의 구성요소가 2 이상의 구성요소로 세분되어 구성될 수 있다. 도면 전체를 통하여 동일하거나 유사한 구성요소에 대해서는 동일한 도면 부호를 부여하였고, 동일한 도면 부호를 가지는 구성요소에 대한 자세 한 설명은 전술한 구성요소에 대한 설명으로 대체되어 생략될 수 있다. 또한, 본 발명은 본 명세서에 표시된 실시예들의 모든 가능한 조합들을 망라한다. 본 발명의 다양한 실시예는 서로 다르지만 상호 배타적이지 않다. 본 명세서에 기술된 특정 형상, 구조, 기능, 및 특성의 일 실시예는 다른 실시예로 구현될 수 있다. 예를 들어, 제1 및 제2 실시예에서 언급되는 구성요소는 제1 및 제2 실시예의 모든 기능을 수행할 수 있다. 어떤 실시예가 달리 구현 가능한 경우에 특정한 공정 순서는 설명되는 순서와 다르게 수행될 수도 있다. 예를 들어, 연속하여 설명되는 두 공정이 실질적으로 동시에 수행될 수도 있고, 설명되는 순서와 반대의 순서로 진행 될 수 있다. 도 1은 본 발명의 일 실시예에 의한 얼굴 영상 기반 실시간 심박 측정 시스템의 블록 구성도(block diagram)이 다. 도 2는 도 1의 서버의 블록 구성도이다. 도 3은 도 2의 서버 제어부의 블록 구성도이다. 도 4는 도 1의 단 말기의 블록 구성도이다. 도 5는 사용자 단말기에서 구동되는 상담 앱의 채팅창을 도시한다. 도 6 및 도 7은 내 담자의 이마 영역 그룹을 도출하는 것을 도시한다. 도 8은 도 1의 시스템의 동작을 설명하기 위한 순서도이다. 도 9는 도 8의 이마 영역 그룹 검출 동작을 설명하기 위한 순서도이다. 도 10은 도 8의 심박수 결정 동작을 설 명하기 위한 순서도이다. 도 11은 심박수 결정을 위한 시계열 및 주파수 영역을 도시한다. 도 1을 참조하면, 본 발명의 일 실시예에 따른 얼굴 영상 기반 실시간 심박 측정 시스템은 지능형 심리 상담 서 비스 지원 서버 및 내담자 단말기을 포함하고, 상담사 단말기을 더 포함할 수 있다. 내담자 단말기는 상담을 받으려는 사용자가 이용하는 단말기를 의미할 수 있다. 상담사 단말기는 상담 을 통하여 문제를 해결할 수 있도록 도와주거나 궁금증을 풀어 주는 일을 전문으로 하는 사람이 이용하는 단말 기를 의미할 수 있다. 서버, 내담자 단말기, 및 상담사 단말기는 데이터 통신 및/또는 오디오 통신을 할 수 있다. 내담자 단말기 및 상담사 단말기(이하, '사용자 단말기')는 전화 통화가 가능한 PC 등의 전자기기일 수 있다. 사용자 단말기는 무선 통신이 가능한 전자기기로, 스마트 폰(Smart Phone), 휴대 단말기(Portable Terminal), 이동 단말기(Mobile Terminal), 개인 정보 단말기(Personal Digital Assistant: PDA), PMP(Portable Multimedia Player) 단말기, 텔레매틱스(Telematics) 단말기, 내비게이션(Navigation) 단말기, 개인용 컴퓨터(Personal Computer), 노트북 컴퓨터, 슬레이트 PC(Slate PC), 태블릿 PC(Tablet PC), 울트라북 (ultrabook), 웨어러블 디바이스(Wearable Device, 예를 들어, 워치형 단말기(Smartwatch), 글래스형 단말기 (Smart Glass), HMD(Head Mounted Display) 등 포함), 와이브로(Wibro) 단말기, IPTV(Internet Protocol Television) 단말기, 스마트 TV, 디지털방송용 단말기, AVN(Audio Video Navigation) 단말기, A/V(Audio/Video) 시스템, 및 플렉시블 단말기(Flexible Terminal) 중 어느 하나이거나 조합된 것일 수 있다. 내담자 단말기는 영상 데이터를 송신해야 하므로, 내담자 단말기는 데이터 통신이 가능하며 영상 데이 터를 취득할 수 있는 단말기인 것이 바람직하다. 도 4를 참조하면, 사용자 단말기는 단말기 제어부, 단말기 통신부, 단말기 저장부, 단말기 입력 부, 및 단말기 조작부, 단말기 출력부를 포함할 수 있다. 본 단말기는 내담자 단말기 및/또 는 상담사 단말기일 수 있다. 단말기 통신부는 유/무선 통신 기술을 이용하여 통신 네트워크의 다른 구성요소와 통신할 수 있다. 유선 통신 기술로 전력선 통신(Power Line Communication: PLC), USB 통신, 이더넷(Ethernet), 시리얼 통신 (serial communication), 광/동축 케이블 등을 이용할 수 있다. 무선 통신 기술로 근거리 통신 기술, 무선 인터넷 기술, GPS 기술, 이동통신 기술, 및 저전력 광역 네트워크 기 술 등이 이용될 수 있다. 근거리 통신 기술로 블루투스(Bluetooth), RFID(Radio Frequency Identification), 적외선 통신(IrDA, infrared Data Association), UWB(Ultra Wideband), 지그비(ZigBee), 인접 자장 통신(Near Field Communication: NFC), 초음파 통신(Ultra Sound Communication: USC), 가시광 통신(Visible Light Communication: VLC) 등이 이용될 수 있다. 무선 인터넷 기술로 WLAN(Wireless LAN)(Wi-Fi), DLNA(Digital Living Network Alliance), Wibro(Wireless broadband), Wimax(World Interoperability for Microwave Access), HSDPA(High Speed Downlink Packet Access) 등이 이용될 수 있다. 무선 인터넷 기술은 근거리 통신에 적합할 수 있다. 이동통신 기술로 GSM(Global System for Mobile communication), CDMA(Code Division Multi Access), CDMA2000(Code Division Multi Access 2000), EV-DO(Enhanced Voice-Data Optimized or Enhanced Voice-Data Only), WCDMA(Wideband CDMA), HSDPA(High Speed Downlink Packet Access), HSUPA(High Speed Uplink Packet Access), LTE(Long Term Evolution), LTEA(Long Term Evolution-Advanced), 차세대 이동통신(5G 등) 등이 이용 될 수 있다. 저전력 광역 네트워크(LPWAN; Low Power Wide Area Network)는 서비스 범위가 매우 넓고(10km 이상) 초당 수백 킬로비트(kbps) 가량의 통신 속도를 제공하는 저전력의 무선 광역 통신망을 의미할 수 있다. 저전력 광역 네트 워크 기술은 사물인터넷(Internet of Things, IoT)을 제공하기 위한 전용 통신 기술로 이용될 수 있다. LPWAN를 실현하기 위해, 로라(LoRaWAN; Long Range wireless network), 시그폭스(SIGFOX), 엘티이-엠티시(LTE-MTC: LTE Machine-Type Communications), 협대역 사물 인터넷(NB-IoT) 등의 기술이 있을 수 있다. 단말기 입력부는 오디오 신호 입력을 위한 마이크를 구비할 수 있다. 단말기 입력부은 비디오 신호 입력을 위한 카메라를 구비할 수 있다. 마이크는 외부의 음향 신호를 입력 받아 전기적인 음성 데이터로 처리할 수 있다. 처리된 음성 데이터는 단말기 통신부을 통해 외부(서버나 상대방 단말기 등)로 전송될 수 있다. 카메라는 화상 통화모드 또는 촬영 모드에서 이미지 센서에 의해 얻어지는 정지영상 또는 동영상 등의 화상 프 레임을 처리할 수 있다. 처리된 화상 프레임은 후술하는 디스플레이 모듈에 표시될 수 있다. 카메라에서 처리된 화상 프레임은 단말기 저장부에 저장되거나 단말기 통신부를 통하여 외부로 전송될 수 있다. 단말기 조작부(사용자 입력부)는 사용자가 단말기의 동작 제어를 위하여 입력하는 키 입력 데이터를 발생 시킨다. 단말기 조작부는 사용자의 푸시 또는 터치 조작에 의해 명령 또는 정보를 입력받을 수 있는 키보 드, 마우스, 키 패드(key pad), 돔 스위치(dome switch), 터치 패드(정압/정전) 등으로 구성될 수 있다. 또한, 단말기 조작부는 키를 회전시키는 조그 휠 또는 조그 방식이나 조이스틱과 같이 조작하는 방식이나, 핑거 마우스 등으로 구성될 수 있다. 특히, 터치 패드가 후술하는 디스플레이 모듈과 상호 레이어 구조를 이룰 경우, 이를 터치스크린(touch screen)이라 부를 수 있다. 단말기 출력부는 오디오 신호를 출력하기 위한 스피커를 구비할 수 있다. 단말기 출력부는 비디오 신 호를 출력하기 위한 디스플레이 모듈를 구비할 수 있다. 디스플레이 모듈은 단말기에서 처리되는 정보를 표시 출력할 수 있다. 전술한 바와 같이, 디스플레이 모듈 과 터치패드가 상호 레이어 구조를 이루어 터치스크린으로 구성되는 경우, 디스플레이 모듈은 출력 장치 이외에 사용자의 터치에 의한 정보의 입력이 가능한 입력 장치로도 사용될 수 있다. 이하, 디스플레이 모 듈은 사용자 입력이 가능한 터치스크린으로 가정하고 설명한다. 단말기 저장부는 단말기에서 구동되는 다수의 응용 프로그램(어플리케이션), 단말기의 동작을 위한 데이터 들, 명령어들을 저장할 수 있다. 이러한 응용 프로그램 중 적어도 일부는 무선 통신을 통해 외부 서버로부터 다 운로드 될 수 있다. 응용 프로그램은 단말기 저장부에 저장되고, 단말기 상에 설치되어 단말기 제어부 의 제어에 의해 그 동작이나 기능을 수행할 수 있다. 단말기 저장부는 플래시 메모리 타입(Flash Memory Type), 하드 디스크 타입(Hard Disk Type), 멀티미디 어 카드 마이크로 타입(Multimedia Card Micro Type), 카드 타입의 메모리(예를 들면, SD 또는 XD 메모리 등),자기 메모리, 자기 디스크, 광디스크, 램(Random Access Memory: RAM), SRAM(Static Random Access Memory), 롬(Read-Only Memory: ROM), EEPROM(Electrically Erasable Programmable Read-Only Memory), 및 PROM(Programmable Read-Only Memory) 중 어느 하나 또는 일부의 조합으로 구현될 수 있다. 단말기는 인터넷 (internet)상에서 단말기 저장부의 저장 기능을 수행하는 웹 스토리지(web storage)를 운영하거나, 또는 상기 웹 스토리지와 관련되어 동작할 수도 있다. 단말기 제어부는 각 부의 동작을 제어하여, 단말기의 전반적인 동작에 대한 제어 및 처리를 수행할 수 있 다. 단말기 제어부는 마이크로 컨트롤러나 중앙처리장치로 해석될 수 있다. 도 2를 참조하면, 서버는 서버 제어부, 서버 통신부, 서버 저장부, 앱 관리부, 텍스트 변환부, 데이터 분석부, 및 지능형 상담부를 포함할 수 있다. 서버는 서버 통신부를 통해 통신 네트워크의 내담자 단말기, 상담사 단말기, 및 다른 구성요 소와 통신할 수 있다. 서버 통신부는 다양한 유/무선 통신 기술을 이용할 수 있다. 유/무선 통신 기술은 단말기 통신부에 대한 설명을 참고한다. 서버 통신부는 내담자 단말기로부터 영상 데이터(화상 프레임)를 수신할 수 있다. 서버 저장부는 다양한 데이터 및 응용 프로그램(어플리케이션)을 저장할 수 있다. 서버 저장부는 다 양한 저장 매체로 구현될 수 있다. 앱 관리부는 사용자 단말기에 본 발명에 관련된 상담 앱이 다운로드 되게 할 수 있다. 앱 관리부는 사용자 단말기에서 실행되는 상담 앱과 데이터를 주고 받으며, 해당 데이터를 이용하거나 조작할 수 있다. 상담 앱을 다운로드 하고 설치한 사용자 단말기는 상담 시 실행되고 있는 상태인 것이 바람직하다. 텍스트 변환부는 상담 내용이 들어 있는 음성 데이터를 텍스트 데이터로 변환할 수 있다. 텍스트 변환부 는 상담 내용을 실시간으로 문자로 변환하거나, 상담 완료 후 녹취된 상담 내용을 문자로 변환할 수 있다. 앱 관리부는 변환된 텍스트 데이터를 사용자 단말기로 전송되도록 할 수 있다. 텍스트 데이터를 수신한 사 용자 단말기는 디스플레이 모듈에서 실행되고 있는 상담 앱의 채팅 창(A)에 문자로 표시할 수 있다. 다만 이에 한정되지 않고, 휴대폰 또는 스마트폰의 문자 앱에 보여줄 수도 있다. 데이터 분석부는 텍스트 데이터를 분석할 수 있다. 데이터 분석부는 텍스트 데이터의 구조를 파악하고, 문장 분할, 분석, 추출, 원형 복원 등을 거쳐 의미를 가지는 최소 단위의 형태소를 추출할 수 있다. 데이터 분석부에서 텍스트 데이터를 분석하기 위한 알고리즘은 다양한 기법이 적용될 수 있다. 예를 들어, 단어의 의미, 단어들 중 우선 순위, 단어들 간의 상관도, 문장의 의미를 해석하는 방법, 내담자 상태를 파악하 기 위한 방법 등의 분석 방법이 미리 저장되어 있고, 데이터 분석부는 저장된 분석 방법을 이용할 수 있다. 데이터 분석부는 고위험군 단어를 포착할 수 있다. 고위험군 단어는 기 저장된 단어 리스트일 수 있으며, 단어 리스트는 지속적으로 업데이트될 수 있다. 고위험군 단어는 '마감', '자살' 등이 있을 수 있다. 지능형 상담부는 일종의 인공 지능 상담을 담당할 수 있다. 지능형 상담부는 내담자가 상담사 없이 상담을 원할 경우, 내담자와 상담할 수 있다. 지능형 상담부는 챗봇이나 음성 인식 상담을 진행할 수 있다. 지능형 상담부는 텍스트 변환부의 기능을 이용하여 내담자의 음성을 텍스트로 인식할 수 있다. 지능형 상담부는 데이터 분석부를 통해, 내담자와 대화를 주고 받으며, 적절한 상담이 이루어지도록 할 수 있다. 데이터 분석부에서 고위험군 단어를 포착하면, 지능형 상담부는 상담사 단말기와 상기 내담자 단 말기이 연결되도록 할 수 있다. 앱 관리부에서 제공하는 상담 앱은 사용자 단말기의 상담 앱이 인공 지능 상담에 필요한 유저 인터페이스 (UI)를 제공할 수 있다. 도 5를 참조하면, 내담자 단말기 및 지능형 상담부 사이의 상담 내용은 채팅 창(A)에 채팅 형식으로 표시될 수 있다. 내담자 단말기이 음성으로 전송한 경우, 이는 텍스트로 변환되어 채팅 창(A)에 보여질 수있다. 채팅 창(A)은 상담 앱이 실행일, 각 대화 내용이 생성된 시각 등의 부가 정보를 표시할 수 있다. 채팅 창(A)은 내담자 단말기 및 상담사 단말기에 의한 상담 내용이 표시될 수 있다. 지능형 상담부는 내담자 단말기가 상담사와의 상담을 요청하거나, 고위험군 단어를 포착하면, 상담사 단말기와 연결되도록 하여, 내담자 단말기 및 상담사 단말기 사이에 상담이 이루어지도록 할 수 있 다. 도 5의 채팅 창(A)의 상단부 좌측은 내담자를 촬영한 영상이 표시되도록 할 수 있다. 채팅 창(A)의 상단부 우측 은 본 발명의 일 실시예에 따른 얼굴 영상 기반 실시간 심박 측정 방법에 따라 내담자의 심박수를 표시할 수 있 다. 다만 이에 한정되지 않고, 채팅 창(A)의 상단부 좌측은 내담자와 내담자의 심박수를 표시하고, 채팅 창(A) 의 상단부 우측은 지능형 상담부 또는 상담사를 표시할 수 있다. 지능형 상담부는 아바타 등으로 표 시될 수 있다. 서버 제어부는 각 부의 동작을 제어하여, 서버의 전반적인 동작에 대한 제어 및 처리를 수행할 수 있 다. 서버 제어부는 마이크로 컨트롤러나 중앙처리장치로 해석될 수 있다. 도 3을 참조하면, 서버 제어부는 영상 처리부, 이마 검출부, 채널 추출부, 주파수 파악부 , 및 심박수 결정부를 구비할 수 있다. 도 8을 참조하여, 각 구성 요소를 구체적으로 설명한다. 영상 처리부는 서버 통신부을 통해 내담자 단말기로부터 수신한 데이터로부터 내담자의 영상 데 이터, 즉, 화상 프레임을 추출하고, 기 설정된 주기 별로 복수의 화상 프레임을 영상 그룹을 획득할 수 있다 (S410). 이마 검출부는 내담자의 영상 그룹으로부터 이마 영역 그룹을 검출할 수 있다(S420). 도 9를 참조하면, 이마 검출부는 영상 그룹의 제1 내지 제5 영상에서 얼굴 영역을 특징지는 얼굴 영역 특 징 점을 기초로 제1 얼굴 영역을 추출할 수 있다(S510). 이마 검출부는 얼굴 영역 특징 점을 추적(S515) 하고, 제1 내지 제5 얼굴 영역 각각을 3D 실린더 모델로 변환하여 각각의 모션 벡터를 추출(S520)할 수 있다. 도 6의 (a) 및 (b)의 각 첫 줄 및 두번째 줄은 제1 내지 제5 영상과 제1 내지 제5 얼굴 영역을 추적하는 것을 도시한다. 사람 얼굴은 상시 움직이므로 신호의 정확성을 위해 움직임 잡음을 효과적으로 제거하는 것이 중요하다. 본 실 시예에서 얼굴 영역을 지속적으로 추적하여 신체 움직임에 따른 잡음을 제거하고, 얼굴 영역을 정확하게 추출할 수 있다. 이마 검출부는 제1 내지 제5 얼굴 영역에서 제1 내지 제5 이마 부분(제1례: 310, 315, 320, 325, 330; 제 2례: 340, 345, 350, 355, 360)을 검출할 수 있다(S525). 이는 도 6의 (a) 및 (b)의 각 세번째 줄을 참고한다. 이마 부분을 검출하는 알고리즘은 얼굴 영역에서 일정 비율의 상단부를 수식으로 도출할 수 있다. 도 7을 참조하면, 이마 검출부는 상기 추적 결과 및 상기 모션 벡터를 기초로, 제1 내지 제5 이마 부분(제 1례: 310, 315, 320, 325, 330; 제2례: 340, 345, 350, 355, 360)을 기준 박스에 맵핑(S530)하여 이마 영 역 그룹의 제1 내지 제5 이마 영역(제1례: 311, 316, 321, 326, 331; 제2례: 341, 346, 351, 356, 361)을 검출 할 수 있다. 얼굴 영역 특징 점의 추적 결과인 이마 영역 특징 점(a, c, e, v, x, z)을 6개 도시하였지만, 이에 한정되지 않 고 다양한 개수를 가질 수 있다. 모션 벡터는 도 6의 (a) 및 (b)의 각 두번째 줄의 빨간 화살표와 같이 생성될 수 있다. 기준 박스는 직사가형 모양인 것이 바람직하다. 이마 검출부는 이마 영역의 이마 영역 특징 점(a, c, e, v, x, z) 및 모션 벡터를 기초로, 이마 영역의 각 픽셀을 기준 박스에 대응하도록 맵핑할 수 있다. 맵 핑 중, 이마 부분의 제1 픽셀은 기준 박스에 위치만 변경되어 맵핑될 수 있고, 제2 픽셀은 소거될 수 있고, 제3 픽셀은 중복하여 기준 박스에 맵핑될 수 있다. 이마 부분의 제4 픽셀은 이웃하는 다수의 픽셀과 평균, 또는 가중 평균으로 기준 박스에 맵핑될 수 있다. 도 8을 참조하면, 채널 추출부는 이마 영역 그룹로부터 G 채널 그룹을 분리할 수 있다(S430). 주파수 파악부는 G 채널 그룹을 고속 푸리에 변환(FTT)하여 G 채널 그룹의 주파수들을 파악할 수 있다 (S440). 고속 푸리에 변환은 픽셀의 시계열에 대해 진행할 수 있다. 도 11(a)는 픽셀의 시계열 분포를 도시하고, 도 11(b)는 픽셀의 시계열 분포를 고속 푸리에 변환한 것을 도시한다. 심박수 결정부는 고속 푸리에 변환한 결과물로부터 심박수를 결정할 수 있다(S450). 도 10을 참조하면, 심박수 결정부는 고속 푸리에 변환 결과물에 대해 0.8 내지 4 Hz 대역을 통과시키는 밴 드 패스 필터를 적용할 수 있다(S550). 도 11(c)는 도 11(b)를 밴드 패스 필터링한 결과물을 도시한다. 사람의 심장박동은 48~240 BPM에 분포하므로, 이의 역수인 0.8 내지 4 Hz 대역 통과 필터를 이용하는 것이 바람직하다. 심박수 결정부는 필터링된 결과물에서 최고 피크 주파수를 선택할 수 있다(S555)(도 11(c) 참조). 심박수 결정부는 최고 피크 주파수를 분당 심박수로 결정할 수 있다(S560)(도 11(d) 참조). 최고 피크 주파수에 60을 곱하면 분당 심박수가 산출될 수 있다. 내담자 단말기 및 상담사 단말기이 상담하는 경우, 서버 제어부는 도 5와 같이, 상담사 단말기 에 내담자의 심박수가 표시되도록 할 수 있다. 상기 본 발명은 하드웨어 또는 소프트웨어에서 구현될 수 있다. 구현은 상기 본 발명은 또한 컴퓨터로 읽을 수 있는 기록 매체에 컴퓨터가 읽을 수 있는 코드로서 구현하는 것이 가능하다. 즉, 컴퓨터에 의해 실행 가능한 명 령어를 포함하는 기록 매체의 형태로 구현될 수 있다. 컴퓨터 판독 가능 매체는 컴퓨터 시스템에 의하여 읽혀질 수 있는 데이터가 저장되는 모든 종류의 매체를 포함한다. 컴퓨터 판독 가능 매체는 컴퓨터 저장 매체 및 통신 저장 매체를 포함할 수 있다. 컴퓨터 저장 매체는 컴퓨터가 읽을 수 있는 명령어, 데이터 구조, 프로그램 모듈, 및 기타 데이터 등 정보 저장을 위한 임의의 방법 또는 기술로서 구현된 모든 저장 가능한 매체를 포함하는 것으로, 휘발성/비휘발성/하이브리드형 메모리 여부, 분리형/비분리형 여부 등에 한정되지 않는다. 통신 저장 매 체는 반송파와 같은 변조된 데이터 신호 또는 전송 메커니즘, 임의의 정보 전달 매체 등을 포함한다. 그리고 본"}
{"patent_id": "10-2022-0189931", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "발명을 구현하기 위한 기능적인(functional) 프로그램, 코드 및 코드 세그먼트들은 본 발명이 속하는 기술분야 의 프로그래머들에 의해 용이하게 추론될 수 있다. 또한, 이상에서는 본 발명의 바람직한 실시예에 대하여 도시하고 설명하였지만, 본 발명은 상술한 특정의 실시"}
{"patent_id": "10-2022-0189931", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "예에 한정되지 아니하며, 청구범위에서 청구하는 본 발명의 요지를 벗어남이 없이 당해 발명이 속하는 기술분야 에서 통상의 지식을 가진 자에 의해 다양한 변형실시가 가능한 것은 물론이고, 이러한 변형실시들은 본 발명의 기술적 사상이나 전망으로부터 개별적으로 이해되어져서는 안 될 것이다."}
{"patent_id": "10-2022-0189931", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 의한 얼굴 영상 기반 실시간 심박 측정 시스템의 블록 구성도(block diagram)이 다. 도 2는 도 1의 서버의 블록 구성도이다. 도 3은 도 2의 서버 제어부의 블록 구성도이다. 도 4는 도 1의 단말기의 블록 구성도이다. 도 5는 사용자 단말기에서 구동되는 상담 앱의 채팅창을 도시한다. 도 6 및 도 7은 내담자의 이마 영역 그룹을 도출하는 것을 도시한다. 도 8은 도 1의 시스템의 동작을 설명하기 위한 순서도이다. 도 9는 도 8의 이마 영역 그룹 검출 동작을 설명하기 위한 순서도이다. 도 10은 도 8의 심박수 결정 동작을 설명하기 위한 순서도이다. 도 11은 심박수 결정을 위한 시계열 및 주파수 영역을 도시한다."}
