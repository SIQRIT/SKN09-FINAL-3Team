{"patent_id": "10-2022-0189957", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0106863", "출원번호": "10-2022-0189957", "발명의 명칭": "랜덤 마스킹 및 Seq2Seq 모델에 기반한 MIDI 데이터 평가 장치 및 그 방법", "출원인": "동국대학교 산학협력단", "발명자": "성연식"}}
{"patent_id": "10-2022-0189957", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "MIDI 평가 장치를 이용한 MIDI 평가 방법에 있어서,평가 대상 MIDI(Musical Instrument Digital Interface) 데이터를 입력받는 단계, 상기 입력된 평가 대상 MIDI 데이터를 음표 시퀀스로 변환하는 단계,상기 음표 시퀀스에 포함되는 각각의 음표를 지표로 변환하여 원본 지표 시퀀스를 생성하는 단계,상기 원본 지표 시퀀스에 포함된 복수의 지표 중에서 일부를 기 설정한 비율로 랜덤 마스킹 처리하는 단계,랜덤 마스킹된 지표 시퀀스를 기 학습된 트랜스포머 모델에 입력하여 예측 지표 시퀀스를 출력하는 단계, 그리고상기 원본 지표 시퀀스와 상기 트랜스포머 모델에 의해 예측된 예측 지표 시퀀스를 비교하여 상기 평가 대상MIDI 데이터에 대응하는 음악의 완성도를 평가하는 단계를 포함하는 MIDI 평가 방법."}
{"patent_id": "10-2022-0189957", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,기 완성된 복수의 음악에 대응되는 학습 대상 MIDI 데이터를 각각 입력받는 단계,상기 입력된 학습 대상 MIDI 데이터를 음표 시퀀스 형태로 변환하는 단계,상기 음표 시퀀스에 포함되는 각각의 음표를 지표로 변환하여 원본 지표 시퀀스를 생성하는 단계,상기 원본 지표 시퀀스에 포함된 복수의 지표 중에서 일부를 기 설정한 비율로 랜덤 마스킹 처리하는 단계, 그리고상기 랜덤 마스킹 처리된 지표 시퀀스를 입력데이터로 설정하고, 상기 원본 지표 시퀀스를 출력데이터로 설정하여 상기 트랜스포머 모델을 학습시키는 단계를 더 포함하는 MIDI 평가 방법."}
{"patent_id": "10-2022-0189957", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 트랜스포머 모델을 학습시키는 단계는, 서로 대응되는 위치에 존재하는 원본 지표 시퀀스(s)에 포함된 지표와 예측 지표 시퀀스(e)에 포함된 지표를 다음의 수학식에 적용하여 상기 트랜스포머 모델의 정확도(α)를 실시간으로 판단하는 MIDI 평가 방법: 여기서, L은 원본 또는 예측 지표 시퀀스의 길이이며, 는 원본 지표 시퀀스(s)에포함된 지표이며, 는 예측 지표 시퀀스(e)에 포함된 지표다."}
{"patent_id": "10-2022-0189957", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항 또는 제2항에 있어서,상기 음표 시퀀스는,악보의 마디 단위로 구분되며, 공개특허 10-2024-0106863-3-상기 음표는, 음정(pitch)를 나타내는 문자와 옥타브를 나타내는 숫자를 결합한 형태로 표시되는 MIDI 평가 방법."}
{"patent_id": "10-2022-0189957", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서,상기 지표는,각각의 음표에 대응되는 숫자 형태로 표시되며, 마스킹 처리된 지표는 0으로 표시되는 MIDI 평가 방법."}
{"patent_id": "10-2022-0189957", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에 있어서,상기 트랜스포머 모델은,소프트맥스 함수에 의해 상기 예측 지표 시퀀스를 확률 분포 형태로 출력하는 MIDI 평가 방법."}
{"patent_id": "10-2022-0189957", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제1항에 있어서,상기 평가 대상 MIDI 데이터에 대응하는 음악의 완성도를 평가하는 단계는, 다음의 수학식을 이용하여 평가 점수( )를 연산하는 MIDI 평가 방법: 여기서, N은 랜덤 마스킹 처리된 음표의 개수, U는 학습 대상 MIDI 데이터에 포함된 고유 음표의 개수이고, j는고유 음표의 인덱스이며, 는 i번째 랜덤 마스킹 처리된 음표 예측에 대한 확률 분포이고, 는 i번째마스크 처리된 음표와 동일한 위치에 있는 음표의 원핫(one-hot) 벡터이다."}
{"patent_id": "10-2022-0189957", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "랜덤 마스킹 및 Seq2Seq 모델에 기반한 MIDI 데이터 평가 장치에 있어서,평가 대상 MIDI(Musical Instrument Digital Interface) 데이터를 입력받는 입력부, 상기 입력된 평가 대상 MIDI 데이터를 음표 시퀀스로 변환하는 음표 시퀀스 변환부,상기 음표 시퀀스에 포함되는 각각의 음표를 지표로 변환하여 원본 지표 시퀀스를 생성하는 지표 시퀀스변환부,상기 원본 지표 시퀀스에 포함된 복수의 지표 중에서 일부를 기 설정한 비율로 랜덤 마스킹 처리하는 제어부, 랜덤 마스킹된 지표 시퀀스를 기 학습된 트랜스포머 모델에 입력하여 예측 지표 시퀀스를 출력하는 학습부, 그리고상기 원본 지표 시퀀스와 상기 트랜스포머 모델에 의해 예측된 예측 지표 시퀀스를 비교하여 상기 평가 대상MIDI 데이터에 대응하는 음악의 완성도를 평가하는 평가부를 포함하는 MIDI 평가 장치."}
{"patent_id": "10-2022-0189957", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에 있어서,상기 입력부는 기 완성된 복수의 음악에 대응되는 학습 대상 MIDI 데이터를 각각 입력받고,공개특허 10-2024-0106863-4-상기 음표 시퀀스 변환부는 상기 입력된 학습 대상 MIDI 데이터를 음표 시퀀스 형태로 변환하며,상기 지표 시퀀스 변환부는 상기 음표 시퀀스에 포함되는 각각의 음표를 지표로 변환하여 원본 지표 시퀀스를생성하며, 상기 제어부는 상기 원본 지표 시퀀스에 포함된 복수의 지표 중에서 일부를 기 설정한 비율로 랜덤 마스킹 처리하고,상기 학습부는 상기 랜덤 마스킹 처리된 지표 시퀀스를 입력데이터로 설정하고, 상기 원본 지표 시퀀스를 출력데이터로 설정하여 상기 트랜스포머 모델을 학습시키는 MIDI 평가 장치."}
{"patent_id": "10-2022-0189957", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서,상기 학습부는, 서로 대응되는 위치에 존재하는 원본 지표 시퀀스(s)에 포함된 지표와 예측 지표 시퀀스(e)에 포함된 지표를 다음의 수학식에 적용하여 상기 트랜스포머 모델의 정확도(α)를 실시간으로 판단하는 MIDI 평가 장치: 여기서, L은 원본 또는 예측 지표 시퀀스의 길이이며, 는 원본 지표 시퀀스(s)에포함된 지표며, 는 예측 지표 시퀀스(e)에 포함된 지표다."}
{"patent_id": "10-2022-0189957", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제8항 또는 제9항에 있어서,상기 음표 시퀀스는,악보의 마디 단위로 구분되며, 상기 음표는, 음정(pitch)를 나타내는 문자와 옥타브를 나타내는 숫자를 결합한 형태로 표시되는 MIDI 평가 장치."}
{"patent_id": "10-2022-0189957", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제11항에 있어서,상기 지표는,각각의 음표에 대응되는 숫자 형태로 표시되며, 마스킹 처리된 지표는 0으로 표시되는 MIDI 평가 장치."}
{"patent_id": "10-2022-0189957", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제8항에 있어서,상기 트랜스포머 모델은,소프트맥스 함수에 의해 상기 예측 지표 시퀀스를 확률 분포 형태로 출력하는 MIDI 평가 장치."}
{"patent_id": "10-2022-0189957", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제8항에 있어서,상기 평가부, 공개특허 10-2024-0106863-5-다음의 수학식을 이용하여 평가 점수( )를 연산하는 MIDI 평가 장치: 여기서, N은 랜덤 마스킹 처리된 음표의 개수, U는 학습 대상 MIDI 데이터에 포함된 고유 음표의 개수이고, j는고유 음표의 인덱스이며, 는 i번째 랜덤 마스킹 처리된 음표 예측에 대한 확률 분포이고, 는 i번째마스크 처리된 음표와 동일한 위치에 있는 음표의 원핫(one-hot) 벡터이다."}
{"patent_id": "10-2022-0189957", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 랜덤 마스킹 및 Seq2Seq 모델에 기반한 MIDI 데이터 평가 장치 및 그 방법에 관한 것이다. 본 발명에 따르면, MIDI 평가 장치를 이용한 MIDI 평가 방법에 있어서, 평가 대상 MIDI(Musical Instrument Digital Interface) 데이터를 입력받는 단계, 상기 입력된 평가 대상 MIDI 데이터를 음표 시퀀스로 변환하는 단계, 상기 (뒷면에 계속)"}
{"patent_id": "10-2022-0189957", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 랜덤 마스킹 및 Seq2Seq 모델에 기반한 MIDI 데이터 평가 장치 및 그 방법에 관한 것으로서, 더욱 상 세하게는 MIDI 데이터를 시퀀스 데이터로 변환 후 학습 모델에 적용하여 MIDI 데이터를 평가하기 위한 랜덤 마 스킹 및 Seq2Seq 모델에 기반한 MIDI 평가 장치 및 그 방법에 관한 것이다."}
{"patent_id": "10-2022-0189957", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "인공지능 기술의 발전으로 음악 장르 분류, 음악 추천 및 음악 작곡 등 다양한 음악 분야에서 딥러닝 기술이 사 용되고 있다. 그리고 딥러닝 기술로 인해 음악적 지식이 없어도 작곡이 가능하다. 하지만 딥러닝 기술로 생성되 는 음악의 품질 유지를 위해서 음악을 평가하는 기술이 필요하다. 하지만 종래의 음악 평가 기술은 동일한 MIDI 데이터를 평가할 때 편향된 결과를 초래할 수 있으며, 시간이 많 이 소요된다. 그리고 대부분 MIDI 데이터는 많은 변수를 가지고 있어 큰 데이터 셋에 적용하기 어렵고, 다양한 음악적 특징을 고려하기 어렵다. 따라서, 편향되지 않고 신속하게 다양한 음악적 특징을 고려할 수 있는 MIDI 평가 기술이 요구되고 있다. 본 발명의 배경의 기술이 되는 기술은 대한민국 등록특허공보 제10-2138247호(2020.07.28. 공고)에 개시되어 있 다."}
{"patent_id": "10-2022-0189957", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 편향되지 않고 신속하게 다양한 음악적 특징을 고려하여 MIDI를 평가하기 위한 랜덤 마스킹 및 Seq2Seq 모델에 기반한 MIDI 데이터 평가 장치 및 그 방법을 제공하기 위한 것이다."}
{"patent_id": "10-2022-0189957", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "이러한 기술적 과제를 이루기 위한 본 발명의 실시예에 따르면, MIDI 평가 장치를 이용한 MIDI 평가 방법에 있 어서, 평가 대상 MIDI(Musical Instrument Digital Interface) 데이터를 입력받는 단계, 상기 입력된 평가 대 상 MIDI 데이터를 음표 시퀀스로 변환하는 단계, 상기 음표 시퀀스에 포함되는 각각의 음표를 지표로 변환하여 원본 지표 시퀀스를 생성하는 단계, 상기 원본 지표 시퀀스에 포함된 복수의 지표 중에서 일부를 기 설정한 비 율로 랜덤 마스킹 처리하는 단계, 랜덤 마스킹된 지표 시퀀스를 기 학습된 트랜스포머 모델에 입력하여 예측 지 표 시퀀스를 출력하는 단계, 그리고 상기 원본 지표 시퀀스와 상기 트랜스포머 모델에 의해 예측된 예측 지표 시퀀스를 비교하여 상기 평가 대상 MIDI 데이터에 대응하는 음악의 완성도를 평가하는 단계를 포함한다. 기 완성된 복수의 음악에 대응되는 학습 대상 MIDI 데이터를 각각 입력받는 단계, 상기 입력된 학습 대상 MIDI 데이터를 음표 시퀀스 형태로 변환하는 단계, 상기 음표 시퀀스에 포함되는 각각의 음표를 지표로 변환하여 원 본 지표 시퀀스를 생성하는 단계, 상기 원본 지표 시퀀스에 포함된 복수의 지표 중에서 일부를 기 설정한 비율 로 랜덤 마스킹 처리하는 단계, 그리고 상기 랜덤 마스킹 처리된 지표 시퀀스를 입력데이터로 설정하고, 상기 원본 지표 시퀀스를 출력데이터로 설정하여 상기 트랜스포머 모델을 학습시키는 단계를 더 포함할 수 있다.상기 트랜스포머 모델을 학습시키는 단계는, 서로 대응되는 위치에 존재하는 원본 지표 시퀀스(s)에 포함된 지 표와 예측 지표 시퀀스(e)에 포함된 지표를 다음의 수학식에 적용하여 상기 트랜스포머 모델의 정확도(α)를 실 시간으로 판단할 수 있다:"}
{"patent_id": "10-2022-0189957", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 2, "content": "여기서, L은 원본 또는 예측 지표 시퀀스의 길이이며, 는 원본 지표 시퀀스(s)에 포함된 지표이며, 는 예측 지표 시퀀스(e)에 포함된 지표다. 상기 음표 시퀀스는, 악보의 마디 단위로 구분되며, 상기 음표는, 음정(pitch)를 나타내는 문자와 옥타브를 나 타내는 숫자를 결합한 형태로 표시될 수 있다. 상기 지표는, 각각의 음표에 대응되는 숫자 형태로 표시되며, 마스킹 처리된 지표는 0으로 표시될 수 있다. 상기 트랜스포머 모델은, 소프트맥스 함수에 의해 상기 예측 지표 시퀀스를 확률 분포 형태로 출력할 수 있다. 상기 평가 대상 MIDI 데이터에 대응하는 음악의 완성도를 평가하는 단계는, 다음의 수학식을 이용하여 평가 점 수( )를 연산할 수 있다:"}
{"patent_id": "10-2022-0189957", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 3, "content": "여기서, N은 랜덤 마스킹 처리된 음표의 개수, U는 학습 대상 MIDI 데이터에 포함된 고유 음표의 개수이고, j는 고유 음표의 인덱스이며, 는 i번째 랜덤 마스킹 처리된 음표 예측에 대한 확률 분포이고, 는 i번째 마스크 처리된 음표와 동일한 위치에 있는 음표의 원핫(one-hot) 벡터이다. 랜덤 마스킹 및 Seq2Seq 모델에 기반한 MIDI 데이터 평가 장치에 있어서, 평가 대상 MIDI(Musical Instrument Digital Interface) 데이터를 입력받는 입력부, 상기 입력된 평가 대상 MIDI 데이터를 음표 시퀀스로 변환하는 음표 시퀀스 변환부, 상기 음표 시퀀스에 포함되는 각각의 음표를 지표로 변환하여 원본 지표 시퀀스를 생성하 는 지표 시퀀스 변환부, 상기 원본 지표 시퀀스에 포함된 복수의 지표 중에서 일부를 기 설정한 비율로 랜덤 마 스킹 처리하는 제어부, 랜덤 마스킹된 지표 시퀀스를 기 학습된 트랜스포머 모델에 입력하여 예측 지표 시퀀스 를 출력하는 학습부, 그리고 상기 원본 지표 시퀀스와 상기 트랜스포머 모델에 의해 예측된 예측 지표 시퀀스를 비교하여 상기 평가 대상 MIDI 데이터에 대응하는 음악의 완성도를 평가하는 평가부를 포함한다."}
{"patent_id": "10-2022-0189957", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "이와 같이 본 발명에 따르면, 본 발명은 Seq2Seq 모델 및 랜덤 마스킹을 이용하여 동일한 MIDI 데이터를 평가하 더라도 편향되지 않은 평과 결과를 추출할 수 있고 신속하게 다양한 음악적 특징을 고려하여 MIDI 데이터의 완 성도를 평가할 수 있다."}
{"patent_id": "10-2022-0189957", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "그러면 첨부한 도면을 참고로 하여 본 발명의 실시예에 대하여 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자가 용이하게 실시할 수 있도록 상세히 설명한다. 그러나 본 발명은 여러 가지 상이한 형태로 구현될 수 있으며 여기에서 설명하는 실시 예에 한정되지 않는다. 그리고 도면에서 본 발명을 명확하게 설명하기 위해서 설명과 관계없는 부분은 생략하였으며, 명세서 전체를 통하여 유사한 부분에 대해서는 유사한 도면 부호를 붙였 다. 명세서 전체에서, 명세서 전체에서, 어떤 부분이 다른 부분과 \"연결\"되어 있다고 할 때, 이는 \"직접적으로 연결\"되어 있는 경우뿐 아니라, 그 중간에 다른 소자를 사이에 두고 \"전기적으로 연결\"되어 있는 경우도 포함한 다. 또한 어떤 부분이 어떤 구성요소를 \"포함\"한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다른 구성요 소를 제외하는 것이 아니라 다른 구성요소를 더 포함할 수 있다는 것을 의미한다. 그러면 첨부한 도면을 참고로 하여 본 발명의 실시예에 대하여 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자가 용이하게 실시할 수 있도록 상세히 설명한다. 먼저 도 1을 통해 본 발명의 실시예에 따른 랜덤 마스킹 및 Seq2Seq모델에 기반한 MIDI 평가 장치에 대해서 살 펴보도록 한다. 도 1에서 보는 바와 같이 MIDI 평가 장치은 입력부, 음표 시퀀스 변환부, 지표 시퀀스 변환부 , 제어부, 학습부 및 평가부를 포함한다. 입력부는 평가 대상 MIDI(Musical Instrument Digital Interface) 또는 학습 대상 MIDI 데이터를 입력받 는다. 평가 대상 MIDI 데이터는 인공지능(AI)가 생성한 MIDI 데이터를 포함한다. 그리고 학습 대상 MIDI 데이터는 기 존에 상용되고 있는 MIDI 데이터를 포함한다. 음표 시퀀스 변환부는 입력 받은 MIDI 데이터를 음표 시퀀스로 변환한다. 음표는 음정(Pitch)을 나타내는 영문 및 옥타브를 나타내는 숫자를 결합하여 표시된다. 지표 시퀀스 변환부는 음표 시퀀스에 포함되는 각각의 음표를 지표로 변환하여 원본 지표 시퀀스를 생성한 다. 즉, 지표 시퀀스 변환부는 각각의 음표에 매칭되는 기 설정된 숫자로 변환하여 원본 지표 시퀀스를 생성한 다. 제어부는 원본 지표 시퀀스에 포함된 복수의 지표 중에서 일부를 기 설정한 비율로 랜덤 마스킹 처리한다. 제어부는 전체 원본 지표 시퀀스에 포함된 복수의 지표 중에서 약 15% 정도를 랜덤 마스킹 처리할 수 있다. 학습부는 기 학습된 트랜스포머 모델에 랜덤 마스킹 처리된 지표 시퀀스를 입력하여 예측 지표 시퀀스를 출력한다. 평가부는 원본 지표 시퀀스와 예측 지표 시퀀스를 비교하여 평가 대상 MIDI 데이터에 대응하는 음악의 완 성도를 평가한다. 평가부는 평가 대상 MIDI 데이터가 학습 대상 MIDI 데이터와 비교하여 유사도를 연산하고 유사도가 높을수 록 음악의 완성도가 높다고 판단한다. 이하에서는, 도 2 내지 도 9를 통해 본 발명의 실시예에 따른 MIDI 평가 장치를 이용한 MIDI 평가 방법의 학습 단계에 대해서 살펴보도록 한다. 도 2는 본 발명의 실시예에 따른 MIDI 평가 방법을 설명하기 위한 순서도이고, 도 3은 본 발명의 실시예에 따른 학습 단계를 설명하기 위한 개념도이고, 도 4는 도 2의 S210 내지 S240 단계 및 S310 내지 S340 단계를 설명하 기 위한 참조도이고, 도 5는 도 2의 S220 및 S320 단계를 설명하기 위한 예시도이고, 도 6는 도 2의 S230 및 S330단계를 설명하기 위한 예시도이고, 도 7는 도 2의 S240 및 S340단계를 설명하기 위한 예시도이고, 도 8은 도 2의 S250단계를 설명하기 위한 예시도이고, 도 9는 본 발명의 실시예에 따른 트랜스포머 모델을 설명하기 위 한 개념도이다. 도 2에서 보는 바와 같이 본 발명의 실시예에 따른 MIDI 평가 방법은 학습 단계(Training phase) 및 평가 단계 (Execution phase)를 포함한다. 도 2 내지 도 4에서 보는 바와 같이 학습단계에서 입력부는 학습 대상 MIDI 데이터(real MIDI data)를 입 력받는다(S210). 여기서, 학습 대상 MIDI 데이터는 기존에 완성된 모든 음악이 대상이 될 수 있다. 그리고 도 2 내지 도 4 및 도 5에서 보는 바와 같이 음표 시퀀스 변환부(120, Note Converter)는 입력된 학습 대상 MIDI 데이터를 음표 시퀀스(note sequence, c)로 변환한다(S220). 음표는 음정을 나타내는 문자(계이름)와 옥타브를 나타내는 숫자를 결합한 형태로 표시된다. 일반적으로 \"도\"는 C, \"레\"는 D, \"미\"는 E, \"파\"는 F, \"솔\"은 G, \"라\"는 A, \"시\"는 B로 표현한다. 그리고 도 2 내지 도 4 및 도 6에서 보는 바와 같이 지표 시퀀스 변환부(130, Index Converter)는 각각의 음표 를 지표(index)로 변환하여, 음표 시퀀스(c)를 원본 지표 시퀀스(index sequence, s)로 변환한다(S230). 즉, 지표 시퀀스 변환부는 각각의 음표가 입력되면 하기의 표 1과 같이 각각의 음표에 대응되는 지표로 변 환한다. 표 1"}
{"patent_id": "10-2022-0189957", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "그리고 도 2 내지 도 4 및 도 7에서 보는 바와 같이 제어부(140, Random Mask Processor)는 원본 지표 시퀀스 (s)에 포함된 복수의 지표 중에서 일부를 기 설정한 비율로 랜덤 마스킹 처리한다(S240). 상기의 표 1과 같이 랜덤 마스킹 처리된 지표 시퀀스(masked sequence, m)는 복수의 지표 중에서 일부가 0으로 변환된 지표를 포함한다. 특히, 제어부는 지표 시퀀스에 포함된 복수의 지표 중에서 약 15% 정도를 랜덤으로 마스킹 처리한다. 다음으로 도 2, 도 3 및 도 8에서 보는 바와 같이 학습부는 랜덤 마스킹 처리된 지표 시퀀스(m)를 입력데 이터로 설정하고, 원본 지표 시퀀스(s)를 출력데이터로 설정하여 트랜스포머 모델을 학습시킨다(S250). 트랜스포머 모델은 문장 속 단어와 단어 사이의 순차 데이터의 관계를 추적하는 모델이다. 또한 트랜스포머 모델은 어텐션(attention) 또는 셀프어텐션(self-attention)이라 불리며 진화를 거듭하는 수학 적 기법을 응용하여 서로 떨어져 있는 데이터 요소들의 관계에 따라 의미가 미묘하게 달라지는 부분까지 감지할 수 있다. 도 9는 본 발명의 실시예에 따른 트랜스포머 모델을 설명하기 위한 개념도이다. 도 9에서 보는 바와 같이 본 발명의 실시예에 따른 트랜스포머 모델의 구조는 시퀀스 입력부, 멀티-헤드 어텐션 레이어(Multi-Head Attention Layer), 정규화 레이어(Normalization Layer), 포지션-와이즈 피드포워드 레이어 (Position-wise Feedforward Layer)를 포함하는 트랜스포머 블록, 선형 레이어(Linear Layer) 및 결과 출력부 를 포함한다. 트랜스포머 모델은 상기 구조를 이용하여 여러 개의 시퀀스를 입력받아 병렬구조로 연산하고 선형 레이어를 이 용하여 동일한 차원으로 맞추어 결과를 출력할 수 있다. 학습부는 트랜스포머 모델을 서로 대응되는 위치에 존재하는 원본 지표 시퀀스(s)에 포함된 지표와 예측 지표 시퀀스(e)에 포함된 지표를 하기의 수학식 1에 적용하여 트랜스포머 모델의 정확도(a)를 실시간으로 판단 하도록 학습시킨다. 수학식 1"}
{"patent_id": "10-2022-0189957", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "여기서, L은 원본 지표 시퀀스(s) 또는 예측 지표 시퀀스(e)의 길이이며, 는 원본 지표 시퀀스(s)에 포함된 지표이고, 는 예측 지표 시퀀스(e)에 포함된 지표이다. 즉, 학습부는 원본 지표 시퀀스(s)에 포함된 지표와 예측 지표 시퀀스(e)에 포함된 지표가 동일하다면 정 확도(a)가 높아지도록 트랜스포머 모델을 학습시킨다. 이와 같이 학습 단계가 종료되면, MIDI 평가 장치는 학습된 트랜스포머 모델을 이용하여 평가 대상 MIDI 데이터를 평가할 수 있다. 이하에서는 도 2, 도 10 및 도 11을 이용하여 본 발명의 실시예에 따른 MIDI 평가 장치를 이용한 MIDI 평가 방 법의 평가 단계에 대해서 살펴보도록 한다. 도 10은 본 발명의 실시예에 따른 평가 단계를 설명하기 위한 개념도이고, 도 11은 도 2의 S350 단계를 설명하 기 위한 예시도이다. 도 2 및 도 10에서 보는 바와 같이 평가 단계에서 입력부는 평가 대상 MIDI 데이터(generated MIDI dat a)를 입력받는다(S310). 여기서 평가 대상 MIDI 데이터는 인공지능(AI)을 통해 생성된 MIDI 데이터를 포함한다. 그리고 도 2 및 도 10에서 보는 바와 같이 음표 시퀀스 변환부(120, Note Converter)는 입력된 평가 대상 MIDI 데이터를 음표 시퀀스(note sequence, c')로 변환한다(S320). 음표 시퀀스 변환부는 악보의 마디(bar) 단위로 구분하여 MIDI 데이터를 음표 시퀀스로 변환한다. 그리고 도 2 및 도 10에서 보는 바와 같이 지표 시퀀스 변환부(130, Index Converter)는 입력받은 각각의 음표 를 지표로 변환하여 원본 지표 시퀀스(index sequence, s')로 변환한다(S330). 그리고 도 2 및 도 10에서 보는 바와 같이 제어부(140, Random Mask Processor)는 원본 지표 시퀀스(s')에 포 함된 복수의 지표 중에서 일부를 기 설정한 비율로 랜덤 마스킹 처리한다(S340).상기의 표 1과 같이 랜덤 마스킹 처리된 지표 시퀀스(masked sequence, m')는 복수의 지표 중에서 일부가 0으로 변환된 지표를 포함한다. 그리고 학습부는 랜덤 마스킹된 지표 시퀀스(m')를 S250단계에서 학습된 트랜스포머 모델에 입력하여 예측 지표 시퀀스( )를 출력한다(S350). 학습부는 랜덤 마스킹 처리된 지표 시퀀스(m')를 입력데이터로 설정하고, 원본 지표 시퀀스(s')를 출력데 이터로 설정하여 예측 지표 시퀀스( )를 출력한다. 그리고 도 2, 도 10 및 도 11에서 보는 바와 같이 평가부는 원본 지표 시퀀스(s')와 트랜스포머 모델에 의 해 예측된 예측 지표 시퀀스( )를 비교하여 평가 대상 MIDI 데이터에 대응하는 음악의 완성도를 평가한다 (S360). 그리고 트랜스포머 모델은 소프트맥스(SoftMax) 함수를 이용하여 예측 지표 시퀀스( )를 확률 분포 형태(p)로 출력한다. 트랜스포머 모델에 대한 상세한 설명은 상기 도 9를 참조하여 상술한 바와 동일하므로 이에 대한 중복적인 설명 은 생략한다. 평가부는 하기의 수학식 2를 이용하여 평가 점수( )를 연산하여 음악의 완성도를 평가한다. 수학식 2"}
{"patent_id": "10-2022-0189957", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "여기서, N은 랜덤 마스킹 처리된 음표의 개수, U는 학습 대상 MIDI 데이터에 포함된 고유 음표의 개수이고, j는 고유 음표의 인덱스이며, 는 i번째 랜덤 마스킹 처리된 음표 예측에 대한 확률 분포이고, 는 i번째 마스크 처리된 음표와 동일한 위치에 있는 음표의 원핫(one-hot) 벡터(v')이다. 즉, 평가부는 랜덤 마스킹 처리된 음표 예측에 대한 확률 분포(p)와 마스킹 처리된 음표와 동일한 위치에 있는 음표의 원핫 벡터(v')를 비교하여 평가 점수를 연산한다. 이와 같이 본 발명의 실시예에 따르면, 본 발명은 Seq2Seq 모델 및 랜덤 마스킹을 이용하여 동일한 MIDI 데이터 를 평가하더라도 편향되지 않은 평과 결과를 추출할 수 있고 신속하게 다양한 음악적 특징을 고려하여 MIDI 데 이터의 완성도를 평가할 수 있다. 본 발명은 도면에 도시된 실시예를 참고로 설명되었으나 이는 예시적인 것에 불과하며, 본 기술 분야의 통상의 지식을 가진 자라면 이로부터 다양한 변형 및 균등한 다른 실시예가 가능하다는 점을 이해할 것이다. 따라서, 본 발명의 진정한 기술적 보호 범위는 첨부된 특허청구범위의 기술적 사상에 의하여 정해져야 할 것이다."}
{"patent_id": "10-2022-0189957", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 실시예에 따른 MIDI 평가 장치의 구성도이다. 도 2는 본 발명의 실시예에 따른 MIDI 평가 방법을 설명하기 위한 순서도이다. 도 3은 본 발명의 실시예에 따른 학습 단계를 설명하기 위한 개념도이다. 도 4는 도 2의 S210 내지 S240 단계, S310 내지 S340 단계를 설명하기 위한 참조도이다. 도 5는 도 2의 S220 및 S320 단계를 설명하기 위한 예시도이다. 도 6는 도 2의 S230 및 S330단계를 설명하기 위한 예시도이다.도 7는 도 2의 S240 및 S340단계를 설명하기 위한 예시도이다. 도 8은 도 2의 S250단계를 설명하기 위한 예시도이다. 도 9는 본 발명의 실시예에 따른 트랜스포머 모델을 설명하기 위한 개념도이다. 도 10은 본 발명의 실시예에 따른 평가 단계를 설명하기 위한 개념도이다. 도 11은 도 2의 S350 단계를 설명하기 위한 예시도이다."}
