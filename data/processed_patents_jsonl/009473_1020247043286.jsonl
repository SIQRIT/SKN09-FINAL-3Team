{"patent_id": "10-2024-7043286", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0022072", "출원번호": "10-2024-7043286", "발명의 명칭": "영상 투사 장치 및 영상 투사 제어 방법", "출원인": "엘지전자 주식회사", "발명자": "조용국"}}
{"patent_id": "10-2024-7043286", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "영상 투사 장치에 있어서,타겟까지의 거리를 측정하도록 구성된 ToF 센서;패턴 영상이 포함된 영상 신호를 출력하도록 구성된 램프 어셈블리;상기 렌즈 어셈블리가 일 축 방향으로 이동되도록 제어하는 구동부;상기 ToF 센서를 통해 스크린까지의 거리를 측정하고, 상기 램프 어셈블리를 통해 상기 출력된 패턴 영상이 스크린에 투사되도록 제어하는 프로세서를 포함하고,상기 프로세서는,상기 측정된 거리 및 상기 스크린으로부터의 초점 위치에 기초하여, 상기 램프 어셈블리가 이동되도록 상기 구동부를 제어하고,상기 램프 어셈블리를 통해 상기 스크린에 투사된 패턴 영상의 선예도(sharpness) 값을 계산하고,상기 계산된 선예도 값에 기초하여, 상기 패턴 영상의 크기 및 상기 패턴 영상이 투사되는 위치를 조정하는, 영상 투사 장치."}
{"patent_id": "10-2024-7043286", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1 항에 있어서,상기 스크린 또는 상기 패턴 영상과 연관된 마커의 영상을 촬영하도록 구성된 카메라를 더 포함하고,상기 프로세서는,딥러닝 기반으로 상기 스크린 또는 상기 패턴 영상과 연관된 마커의 코너 지점들의 좌표들과 상기 좌표들의 검출 정확성과 연관된 신뢰도 값을 검출하고,상기 코너 지점들을 기준으로 수직 방향 및 수평 방향의 직선 성분들을 검출하여, 상기 코너 지점들 중 어느 하나가 상기 스크린 또는 상기 마커의 검출을 위한 최적 코너 지점(optimal corner point)인지를 판단하고,상기 ToF 센서의 중앙점을 기준으로 상기 최적 코너 지점까지의 거리에 기초하여, 상기 렌즈 어셈블리가 이동되도록 상기 구동부를 제어하는, 영상 투사 장치."}
{"patent_id": "10-2024-7043286", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2 항에 있어서,상기 프로세서는,딥러닝 기반으로 상기 스크린을 검출하는 데 실패하면, 상기 패턴 영상과 연관된 마커를 생성하여 상기 램프 어셈블리를 통해 상기 마커가 투사되도록 제어하고,상기 카메라를 통해 상기 투사된 마커의 코너 지점들의 좌표들과 상기 신뢰도 값을 검출하는, 영상 투사 장치."}
{"patent_id": "10-2024-7043286", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제2 항에 있어서,상기 프로세서는,상기 카메라의 시점(point of view)에서 상기 스크린의 상단, 하단, 일 측 단부 및 타 측 단부의 라인들이 획득가능한지를 판단하고,공개특허 10-2025-0022072-3-상기 스크린의 표면이 소정 범위 내의 균일한 색상으로 표현되는지를 판단하고,상기 스크린의 표시 영역인 제1 영역이 사람 또는 다른 물체에 의해 가려지는 부분이 없는 지를 판단하고,상기 스크린의 상기 라인들이 획득 가능하고, 상기 표면이 균일한 색상으로 표현되고, 상기 제1 영역에 가려지는 부분이 없는 것으로 판단되면, 딥러닝 기반으로 상기 스크린의 코너 지점들의 좌표들과 상기 신뢰도 값을 검출하는, 영상 투사 장치."}
{"patent_id": "10-2024-7043286", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1 항에 있어서,상기 프로세서는,상기 ToF 센서의 중앙점을 기준으로 상기 스크린까지의 거리를 측정하고,상기 측정된 거리가 ToF 유효 거리보다 작으면, 타겟 위치에 인접한 제1 위치까지 일정한 방향으로 상기 램프어셈블리를 이동하면서 상기 패턴 영상의 제1 선예도 값을 측정하고,상기 측정된 거리가 상기 ToF 유효 거리 이상이면, 상기 ToF 유효 거리에 대응되는 제2 위치로 상기 램프 어셈블리를 이동하면서 상기 패턴 영상의 제2 선예도 값을 측정하고,상기 측정된 제1 선예도 값 및 제2 선예도 값에 기초하여, 상기 패턴 영상의 크기 및 상기 패턴 영상이 투사되는 위치를 조정하는, 영상 투사 장치."}
{"patent_id": "10-2024-7043286", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5 항에 있어서,상기 프로세서는,상기 스크린의 표시 영역인 제1 영역과 상기 패턴 영상이 투사되는 투사 영역인 제2 영역을 비교하고,상기 초점 위치가 제1 위치로 이동되도록 제1 줌 동작을 수행하여, 상기 제1 영역보다 상기 제2 영역이 소정 비율 이상 크게 형성되도록 제어하고,상기 제1 영역의 제1 중심점과 상기 제2 영역의 제2 중심점을 추출하고,상기 제2 영역의 상기 제2 중심점이 상기 제1 영역의 상기 제1 중심점으로 이동되도록 상기 패턴 영상의 중심위치를 조정하고,상기 중심 위치가 조정된 상태에서 상기 초점 위치가 제2 위치로 이동되도록 제2 줌 동작을 수행하는, 영상 투사 장치."}
{"patent_id": "10-2024-7043286", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6 항에 있어서,상기 프로세서는,일 축 방향으로 제1 간격만큼 상기 제1 줌 동작을 통해 상기 제1 선예도 값 또는 상기 제2 선예도 값을 측정하고,상기 일 축 방향으로 상기 제1 간격보다 좁은 제2 간격만큼 상기 제2 줌 동작을 통해 상기 제1 선예도 값 또는상기 제2 선예도 값을 측정하여, 상기 중심 위치가 조정된 상태에서 상기 초점 위치가 제2 위치로 이동되도록미세 조정하는, 영상 투사 장치."}
{"patent_id": "10-2024-7043286", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제1 항에 있어서,상기 프로세서는,상기 패턴 영상의 소스 영상 프레임과 상기 스크린 상에 투사되는 투사 영상 프레임의 변환 관계를 정의하는 매공개특허 10-2025-0022072-4-핑 매트릭스 P를 결정하고,상기 투사 영상 프레임이 상기 스크린 상에서 소정 형상이 되도록 하는 프리-와핑 매트릭스(pre-warpingmatrix) W를 결정하고,상기 프리-와핑 매트릭스 W에 기초하여 상기 소스 영상 프레임을 변환하고, 상기 변환된 소스 영상 프레임이 상기 스크린 상에 상기 소정 형상으로 투사되도록 제어하는, 영상 투사 장치."}
{"patent_id": "10-2024-7043286", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8 항에 있어서,상기 스크린 또는 상기 패턴 영상과 연관된 마커의 영상을 촬영하도록 구성된 카메라를 더 포함하고,상기 프로세서는,상기 스크린을 검출하여 4개의 코너 지점을 검출하고,상기 검출된 4개의 코너 지점에 기초하여, 상기 소스 영상 프레임과 카메라 영상 프레임의 변환 관계를 정의하는 제1 매핑 매트릭스 T를 결정하는, 영상 투사 장치."}
{"patent_id": "10-2024-7043286", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9 항에 있어서,상기 프로세서는,상기 검출된 4개의 코너 지점에 기초하여, 상기 카메라의 시점에서 상기 검출된 스크린에 투사되는 상기 투사영상 프레임이 상기 소정 형상이 되도록 하는 제2 매핑 매트릭스 C를 결정하는, 영상 투사 장치."}
{"patent_id": "10-2024-7043286", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제10 항에 있어서,상기 프로세서는,상기 제1 매핑 매트릭스 T 및 상기 제2 매핑 매트릭스 C에 기초하여, 상기 매핑 매트릭스 P를 C-1 T로 결정하고,상기 소정 형상으로 수정된 영상(rectified screen)의 오프셋 및 스케일 조정을 위한 최적 지점들을 결정하고,상기 최적 지점들의 좌표와 상기 소정 형상으로 수정되기 이전의 영상의 해당 지점들의 좌표에 기초하여, 상기수정된 영상의 오프셋 및 스케일 정도가 적절한지를 판단하는, 영상 투사 장치."}
{"patent_id": "10-2024-7043286", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제10 항에 있어서,상기 프로세서는,상기 카메라 영상 프레임에 상기 제2 매핑 매트릭스 C의 역변환인 C-1 를 적용하여 상기 소정 형상으로 수정된영상(rectified screen) 이전의 상기 투사 영상 프레임을 추정하는, 영상 투사 장치."}
{"patent_id": "10-2024-7043286", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제10 항에 있어서,상기 프로세서는,상기 소스 영상 프레임에 상기 프리-와핑 매트릭스 W를 곱하여 변환된 영상 프레임이 상기 스크린 상에 상기 소정 형상의 투사 영상 프레임으로 투사되도록 제어하는, 영상 투사 장치."}
{"patent_id": "10-2024-7043286", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제13 항에 있어서,공개특허 10-2025-0022072-5-상기 프로세서는,상기 투사 영상 프레임의 코너 지점들을 검출하여 상기 투사 영상 프레임의 상기 소정 형상으로 수정된 정도와연관된 평가를 수행하고,상기 검출된 코너 지점들의 좌표들과 상기 소정 형상으로 수정을 위한 최적 코너 지점들의 좌표들 간의 거리 차이에 기초하여, 상기 매핑 매트릭스 P를 P1으로 수정하고,상기 수정된 매핑 매트릭스 P1에 기초하여 상기 프리-와핑 매트릭스를 W1으로 수정하고,상기 수정된 프리-와핑 매트릭스 W1에 기초하여 상기 소스 영상 프레임을 변환하고, 상기 변환된 소스 영상 프레임이 상기 스크린 상에 상기 소정 형상으로 투사되도록 제어하는, 영상 투사 장치."}
{"patent_id": "10-2024-7043286", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제8 항에 있어서,상기 스크린에 투사되는 상기 패턴 영상에 대한 캘리브레이션이 이루어지도록 사용자 입력을 수신하도록 구성된사용자 입력부를 더 포함하고,상기 프로세서는,상기 사용자 입력에 기초하여, 상기 스크린 상에 투사되는 상기 투사 영상 프레임이 상기 소정 형상으로 표시되면서 상기 투사 영상 프레임의 중심 위치가 상기 스크린의 일 축 상의 중심 위치에서 소정 거리 이내가 되도록제어하는, 영상 투사 장치."}
{"patent_id": "10-2024-7043286", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "패턴 영상이 출력되도록 제어하는 영상 투사 제어 방법에 있어서, 상기 방법은 프로젝터의 프로세서에 의해 수행되고, 상기 방법은,스크린 또는 상기 패턴 영상과 연관된 마커의 검출하는 스크린/마커 검출 과정;ToF 센서를 통해 상기 스크린까지의 측정된 거리 및 상기 스크린으로부터의 초점 위치에 기초하여, 램프 어셈블리가 이동되도록 구동부를 제어하는 구동 제어 과정;상기 램프 어셈블리를 통해 상기 스크린에 투사된 패턴 영상의 선예도(sharpness) 값을 계산하는 선예도 값 계산 과정; 및상기 계산된 선예도 값에 기초하여, 상기 패턴 영상의 크기 및 상기 패턴 영상이 투사되는 위치를 조정하는 패턴 영상 크기/위치 조정 과정을 포함하는, 영상 투사 제어 방법."}
{"patent_id": "10-2024-7043286", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제15 항에 있어서,상기 스크린/마커 검출 과정에서,딥러닝 기반으로 상기 스크린 또는 상기 패턴 영상과 연관된 마커의 코너 지점들의 좌표들과 상기 좌표들의 검출 정확성과 연관된 신뢰도 값을 검출하고,상기 코너 지점들을 기준으로 수직 방향 및 수평 방향의 직선 성분들을 검출하여, 상기 코너 지점들 중 어느 하나가 상기 스크린 또는 상기 마커의 검출을 위한 최적 코너 지점(optimal corner point)인지를 판단하는, 영상투사 제어 방법."}
{"patent_id": "10-2024-7043286", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "제16 항에 있어서,상기 선예도 값 계산 과정이 수행된 이후, 상기 스크린의 표시 영역인 제1 영역과 상기 패턴 영상이 투사되는투사 영역인 제2 영역을 비교하여 위치를 조정하는 줌/위치 조정 과정을 더 포함하고,상기 줌/위치 조정 과정에서,공개특허 10-2025-0022072-6-상기 초점 위치가 제1 위치로 이동되도록 제1 줌 동작을 수행하여, 상기 제1 영역보다 상기 제2 영역이 소정 비율 이상 크게 형성되도록 제어하고,상기 제1 영역의 제1 중심점과 상기 제2 영역의 제2 중심점을 추출하고,상기 제2 영역의 상기 제2 중심점이 상기 제1 영역의 상기 제1 중심점으로 이동되도록 상기 패턴 영상의 중심위치를 조정하고,상기 중심 위치가 조정된 상태에서 상기 초점 위치가 제2 위치로 이동되도록 제2 줌 동작을 수행하는, 영상 투사 제어 방법."}
{"patent_id": "10-2024-7043286", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_19", "content": "제16 항에 있어서,상기 패턴 영상 크기/위치 조정 과정에서,상기 패턴 영상의 소스 영상 프레임과 상기 스크린 상에 투사되는 투사 영상 프레임의 변환 관계를 정의하는 매핑 매트릭스 P를 결정하고,상기 투사 영상 프레임이 상기 스크린 상에서 소정 형상이 되도록 하는 프리-와핑 매트릭스(pre-warpingmatrix) W를 결정하고,상기 프리-와핑 매트릭스 W에 기초하여 상기 소스 영상 프레임을 변환하고, 상기 변환된 소스 영상 프레임이 상기 스크린 상에 상기 소정 형상으로 투사되도록 제어하는, 영상 투사 제어 방법."}
{"patent_id": "10-2024-7043286", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_20", "content": "제19 항에 있어서,상기 패턴 영상 크기/위치 조정 과정에서,상기 소스 영상 프레임에 상기 프리-와핑 매트릭스 W를 곱하여 변환된 영상 프레임이 상기 스크린 상에 상기 소정 형상의 투사 영상 프레임으로 투사되도록 제어하고,상기 투사 영상 프레임의 코너 지점들을 검출하여 상기 투사 영상 프레임의 상기 소정 형상으로 수정된 정도와연관된 평가를 수행하는, 영상 투사 제어 방법."}
{"patent_id": "10-2024-7043286", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "영상 투사 장치는 타겟까지의 거리를 측정하도록 구성된 ToF 센서; 패턴 영상이 포함된 영상 신호를 출력하도록 구성된 램프 어셈블리; 상기 렌즈 어셈블리가 일 축 방향으로 이동되도록 제어하는 구동부; 및 상기 ToF 센서를 통해 스크린까지의 거리를 측정하고, 상기 램프 어셈블리를 통해 상기 출력된 패턴 영상이 스크린에 투사되도록 제어하는 프로세서를 포함할 수 있다. 상기 프로세서는 상기 램프 어셈블리를 통해 상기 스크린에 투사된 패턴 영상의 선예도(sharpness) 값을 계산하고, 상기 계산된 선예도 값에 기초하여, 상기 패턴 영상의 크기 및 상기 패턴 영상이 투사되는 위치를 조정할 수 있다."}
{"patent_id": "10-2024-7043286", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 명세서는 영상 투사 장치 및 영상 투사 제어 방법에 관한 것이다. 특정 구현은 영상 투사 장치의 자동 캘리 브레이션 방법에 관한 것이다."}
{"patent_id": "10-2024-7043286", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "프로젝터와 같은 영상 투사 장치(image projection device)는 컴퓨터 또는 전자 장치와 연결되어 입력 영상이 스크린에 투사되도록 구성된다. 최근에는 프로젝터와 같은 영상 투사 장치가 소형화됨에 따라 고정된 장소에 설 치될 뿐만 아니라 이동 가능하게 설치될 수 있다. 이와 관련하여, 이동 가능하게 설치되는 영상 투사 장치가 특 정 장소에 설치될 때마다 초점, 화면 배치/크기 및 선명도를 사용자가 직접 조정하여야 하는 문제점이 있다. 이에 따라 영상 투사 장치를 설치하여 조작하는 사용자의 숙련도에 따라 스크린에 투사되는 투사 영상의 크기, 배치 및 선명도 등이 변경될 수 있다는 문제점이 있다. 이러한 문제점을 해결하기 위해, 영상 투사 장치를 설치 하거나 전원을 인가할 때마다 초점, 화면 배치/크기 및 선명도가 자동으로 조정되도록 영상 투사 장치가 제어될 필요가 있다."}
{"patent_id": "10-2024-7043286", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 명세서는 전술한 문제 및 다른 문제를 해결하기 위한 것으로 본 명세서의 일 목적은 영상 투사 장치 및 영상 투사 제어 방법을 제공하기 위한 것이다. 본 명세서의 다른 일 목적은, 영상 투사 장치의 자동 캘리브레이션 방법을 제공하기 위한 것이다. 본 명세서의 다른 일 목적은, 이동 가능하게 설치되는 영상 투사 장치가 특정 장소에 설치될 때마다 초점, 화면 배치/크기 및 선명도를 자동으로 조정하기 위한 것이다. 본 명세서의 다른 일 목적은, 영상 투사 장치를 설치하거나 전원을 인가할 때마다 초점, 화면 배치/크기 및 선 명도가 자동으로 조정되도록 영상 투사 장치가 제어하기 위한 것이다."}
{"patent_id": "10-2024-7043286", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 또는 다른 목적을 달성하기 위해 실시 예에 따른 영상 투사 장치는 타겟까지의 거리를 측정하도록 구성된 ToF 센서; 패턴 영상이 포함된 영상 신호를 출력하도록 구성된 램프 어셈블리; 상기 렌즈 어셈블리가 일 축 방 향으로 이동되도록 제어하는 구동부; 및 상기 ToF 센서를 통해 스크린까지의 거리를 측정하고, 상기 램프 어셈 블리를 통해 상기 출력된 패턴 영상이 스크린에 투사되도록 제어하는 프로세서를 포함할 수 있다. 상기 프로세 서는 상기 램프 어셈블리를 통해 상기 스크린에 투사된 패턴 영상의 선예도(sharpness) 값을 계산하고, 상기 계 산된 선예도 값에 기초하여, 상기 패턴 영상의 크기 및 상기 패턴 영상이 투사되는 위치를 조정할 수 있다. 실시 예에 따르면, 상기 프로세서는 상기 측정된 거리 및 상기 스크린으로부터의 초점 위치에 기초하여, 상기 램프 어셈블리가 이동되도록 상기 구동부를 제어할 수 있다. 실시 예에 따르면, 상기 영상 투사 장치는 상기 스크린 또는 상기 패턴 영상과 연관된 마커의 영상을 촬영하도 록 구성된 카메라를 더 포함할 수 있다. 상기 프로세서는 딥러닝 기반으로 상기 스크린 또는 상기 패턴 영상과 연관된 마커의 코너 지점들의 좌표들과 상기 좌표들의 검출 정확성과 연관된 신뢰도 값을 검출하고, 상기 코너 지점들을 기준으로 수직 방향 및 수평 방향의 직선 성분들을 검출하여, 상기 코너 지점들 중 어느 하나가 상기 스크린 또는 상기 마커의 검출을 위한 최적 코너 지점(optimal corner point)인지를 판단할 수 있다. 상기 프로 세서는 상기 ToF 센서의 중앙점을 기준으로 상기 최적 코너 지점까지의 거리에 기초하여, 상기 렌즈 어셈블리가 이동되도록 상기 구동부를 제어할 수 있다. 실시 예에 따르면, 상기 프로세서는 딥러닝 기반으로 상기 스크린을 검출하는 데 실패하면, 상기 패턴 영상과 연관된 마커를 생성하여 상기 램프 어셈블리를 통해 상기 마커가 투사되도록 제어하고, 상기 카메라를 통해 상 기 투사된 마커의 코너 지점들의 좌표들과 상기 신뢰도 값을 검출할 수 있다. 실시 예에 따르면, 상기 프로세서는 상기 카메라의 시점(point of view)에서 상기 스크린의 상단, 하단, 일 측 단부 및 타 측 단부의 라인들이 획득 가능한지를 판단하고, 상기 스크린의 표면이 소정 범위 내의 균일한 색상 으로 표현되는지를 판단하고, 상기 스크린의 표시 영역인 제1 영역이 사람 또는 다른 물체에 의해 가려지는 부 분이 없는 지를 판단할 수 있다. 상기 프로세서는 상기 스크린의 상기 라인들이 획득 가능하고, 상기 표면이 균 일한 색상으로 표현되고, 상기 제1 영역에 가려지는 부분이 없는 것으로 판단되면, 딥러닝 기반으로 상기 스크 린의 코너 지점들의 좌표들과 상기 신뢰도 값을 검출할 수 있다. 실시 예에 따르면, 상기 프로세서는 상기 ToF 센서의 중앙점을 기준으로 상기 스크린까지의 거리를 측정하고, 상기 측정된 거리가 ToF 유효 거리보다 작으면, 타겟 위치에 인접한 제1 위치까지 일정한 방향으로 상기 램프 어셈블리를 이동하면서 상기 패턴 영상의 제1 선예도 값을 측정하고, 상기 측정된 거리가 상기 ToF 유효 거리 이상이면, 상기 ToF 유효 거리에 대응되는 제2 위치로 상기 램프 어셈블리를 이동하면서 상기 패턴 영상의 제2 선예도 값을 측정할 수 있다. 상기 프로세서는 상기 측정된 제1 선예도 값 및 제2 선예도 값에 기초하여, 상기 패턴 영상의 크기 및 상기 패턴 영상이 투사되는 위치를 조정할 수 있다. 실시 예에 따르면, 상기 프로세서는 상기 스크린의 표시 영역인 제1 영역과 상기 패턴 영상이 투사되는 투사 영 역인 제2 영역을 비교하고, 상기 초점 위치가 제1 위치로 이동되도록 제1 줌 동작을 수행하여, 상기 제1 영역보 다 상기 제2 영역이 소정 비율 이상 크게 형성되도록 제어할 수 있다. 상기 프로세서는 상기 제1 영역의 제1 중 심점과 상기 제2 영역의 제2 중심점을 추출하고, 상기 제2 영역의 상기 제2 중심점이 상기 제1 영역의 상기 제1 중심점으로 이동되도록 상기 패턴 영상의 중심 위치를 조정하고, 상기 중심 위치가 조정된 상태에서 상기 초점 위치가 제2 위치로 이동되도록 제2 줌 동작을 수행할 수 있다. 실시 예에 따르면, 상기 프로세서는 일 축 방향으로 제1 간격만큼 상기 제1 줌 동작을 통해 상기 제1 선예도 값 또는 상기 제2 선예도 값을 측정하고, 상기 일 축 방향으로 상기 제1 간격보다 좁은 제2 간격만큼 상기 제2 줌동작을 통해 상기 제1 선예도 값 또는 상기 제2 선예도 값을 측정하여, 상기 중심 위치가 조정된 상태에서 상기 초점 위치가 제2 위치로 이동되도록 미세 조정할 수 있다. 실시 예에 따르면, 상기 프로세서는 상기 패턴 영상의 소스 영상 프레임과 상기 스크린 상에 투사되는 투사 영 상 프레임의 변환 관계를 정의하는 매핑 매트릭스 P를 결정하고, 상기 투사 영상 프레임이 상기 스크린 상에서 소정 형상이 되도록 하는 프리-와핑 매트릭스(pre-warping matrix) W를 결정할 수 있다. 상기 프로세서는 상기 프리-와핑 매트릭스 W에 기초하여 상기 소스 영상 프레임을 변환하고, 상기 변환된 소스 영상 프레임이 상기 스 크린 상에 상기 소정 형상으로 투사되도록 제어할 수 있다. 실시 예에 따르면, 상기 프로세서는 상기 스크린을 검출하여 4개의 코너 지점을 검출하고, 상기 검출된 4개의 코너 지점에 기초하여, 상기 소스 영상 프레임과 카메라 영상 프레임의 변환 관계를 정의하는 제1 매핑 매트릭 스 T를 결정할 수 있다. 실시 예에 따르면, 상기 프로세서는 상기 검출된 4개의 코너 지점에 기초하여, 상기 카메라의 시점에서 상기 검 출된 스크린에 투사되는 상기 투사 영상 프레임이 상기 소정 형상이 되도록 하는 제2 매핑 매트릭스 C를 결정할 수 있다. 실시 예에 따르면, 상기 프로세서는 상기 제1 매핑 매트릭스 T 및 상기 제2 매핑 매트릭스 C에 기초하여, 상기 매핑 매트릭스 P를 C-1 T로 결정할 수 있다. 상기 프로세서는 상기 소정 형상으로 수정된 영상(rectified screen)의 오프셋 및 스케일 조정을 위한 최적 지점들을 결정하고, 상기 최적 지점들의 좌표와 상기 소정 형상 으로 수정되기 이전의 영상의 해당 지점들의 좌표에 기초하여, 상기 수정된 영상의 오프셋 및 스케일 정도가 적 절한지를 판단할 수 있다. 실시 예에 따르면, 상기 프로세서는 상기 카메라 영상 프레임에 상기 제2 매핑 매트릭스 C의 역변환인 C-1 를 적 용하여 상기 소정 형상으로 수정된 영상(rectified screen) 이전의 상기 투사 영상 프레임을 추정할 수 있다. 실시 예에 따르면, 상기 프로세서는 상기 소스 영상 프레임에 상기 프리-와핑 매트릭스 W를 곱하여 변환된 영상 프레임이 상기 스크린 상에 상기 소정 형상의 투사 영상 프레임으로 투사되도록 제어할 수 있다. 실시 예에 따르면, 상기 프로세서는 상기 투사 영상 프레임의 코너 지점들을 검출하여 상기 투사 영상 프레임의 상기 소정 형상으로 수정된 정도와 연관된 평가를 수행할 수 있다. 상기 프로세서는 상기 검출된 코너 지점들의 좌표들과 상기 소정 형상으로 수정을 위한 최적 코너 지점들의 좌표들 간의 거리 차이에 기초하여, 상기 매핑 매트릭스 P를 P1으로 수정하고, 상기 수정된 매핑 매트릭스 P1에 기초하여 상기 프리-와핑 매트릭스를 W1으로 수정할 수 있다. 상기 프로세서는 상기 수정된 프리-와핑 매트릭스 W1에 기초하여 상기 소스 영상 프레임을 변 환하고, 상기 변환된 소스 영상 프레임이 상기 스크린 상에 상기 소정 형상으로 투사되도록 제어할 수 있다. 실시 예에 따르면, 상기 영상 투사 장치는 상기 스크린에 투사되는 상기 패턴 영상에 대한 캘리브레이션이 이루 어지도록 사용자 입력을 수신하도록 구성된 사용자 입력부를 더 포함할 수 있다. 상기 프로세서는 상기 사용자 입력에 기초하여, 상기 스크린 상에 투사되는 상기 투사 영상 프레임이 상기 소정 형상으로 표시되면서 상기 투 사 영상 프레임의 중심 위치가 상기 스크린의 일 축 상의 중심 위치에서 소정 거리 이내가 되도록 제어할 수 있 다. 본 명세서의 다른 양상에 따른 패턴 영상이 출력되도록 제어하는 영상 투사 제어 방법은 프로젝터의 프로세서에 의해 수행될 수 있다. 상기 제어 방법은 스크린 또는 상기 패턴 영상과 연관된 마커의 검출하는 스크린/마커 검 출 과정; ToF 센서를 통해 상기 스크린까지의 측정된 거리 및 상기 스크린으로부터의 초점 위치에 기초하여, 램 프 어셈블리가 이동되도록 구동부를 제어하는 구동 제어 과정; 상기 램프 어셈블리를 통해 상기 스크린에 투사 된 패턴 영상의 선예도(sharpness) 값을 계산하는 선예도 값 계산 과정; 및 상기 계산된 선예도 값에 기초하여, 상기 패턴 영상의 크기 및 상기 패턴 영상이 투사되는 위치를 조정하는 패턴 영상 크기/위치 조정 과정을 포함 할 수 있다. 실시 예에 따르면, 상기 스크린/마커 검출 과정에서 딥러닝 기반으로 상기 스크린 또는 상기 패턴 영상과 연관 된 마커의 코너 지점들의 좌표들과 상기 좌표들의 검출 정확성과 연관된 신뢰도 값을 검출하고, 상기 코너 지점 들을 기준으로 수직 방향 및 수평 방향의 직선 성분들을 검출하여, 상기 코너 지점들 중 어느 하나가 상기 스크 린 또는 상기 마커의 검출을 위한 최적 코너 지점(optimal corner point)인지를 판단할 수 있다. 실시 예에 따르면, 상기 제어 방법은 상기 선예도 값 계산 과정이 수행된 이후, 상기 스크린의 표시 영역인 제1 영역과 상기 패턴 영상이 투사되는 투사 영역인 제2 영역을 비교하여 위치를 조정하는 줌/위치 조정 과정을 더 포함할 수 있다. 상기 줌/위치 조정 과정에서, 상기 초점 위치가 제1 위치로 이동되도록 제1 줌 동작을 수행하 여, 상기 제1 영역보다 상기 제2 영역이 소정 비율 이상 크게 형성되도록 제어할 수 있다. 상기 줌/위치 조정 과정에서, 상기 제1 영역의 제1 중심점과 상기 제2 영역의 제2 중심점을 추출하고, 상기 제2 영역의 상기 제2 중심점이 상기 제1 영역의 상기 제1 중심점으로 이동되도록 상기 패턴 영상의 중심 위치를 조정하고, 상기 중심 위치가 조정된 상태에서 상기 초점 위치가 제2 위치로 이동되도록 제2 줌 동작을 수행할 수 있다. 실시 예에 따르면, 상기 패턴 영상 크기/위치 조정 과정에서, 상기 패턴 영상의 소스 영상 프레임과 상기 스크 린 상에 투사되는 투사 영상 프레임의 변환 관계를 정의하는 매핑 매트릭스 P를 결정하고, 상기 투사 영상 프레 임이 상기 스크린 상에서 소정 형상이 되도록 하는 프리-와핑 매트릭스(pre-warping matrix) W를 결정할 수 있 다. 상기 패턴 영상 크기/위치 조정 과정에서, 상기 프리-와핑 매트릭스 W에 기초하여 상기 소스 영상 프레임을 변환하고, 상기 변환된 소스 영상 프레임이 상기 스크린 상에 상기 소정 형상으로 투사되도록 제어할 수 있다. 실시 예에 따르면, 상기 패턴 영상 크기/위치 조정 과정에서, 상기 소스 영상 프레임에 상기 프리-와핑 매트릭 스 W를 곱하여 변환된 영상 프레임이 상기 스크린 상에 상기 소정 형상의 투사 영상 프레임으로 투사되도록 제 어하고, 상기 투사 영상 프레임의 코너 지점들을 검출하여 상기 투사 영상 프레임의 상기 소정 형상으로 수정된 정도와 연관된 평가를 수행할 수 있다."}
{"patent_id": "10-2024-7043286", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 명세서에 따른 영상 투사 장치 및 영상 투사 제어 방법의 기술적 효과는 다음과 같다. 실시 예에 따르면, 스크린까지의 측정된 거리에 따라 렌즈 어셈블리를 구동 제어하여 측정된 패턴 영상의 선예 도(sharpness)에 기초하여, 영상 투사 제어 방법을 제공할 수 있다. 실시 예에 따르면, 계산된 선예도 값에 기초하여 패턴 영상의 크기 및 투사되는 위치를 조정하여 영상 투사 장 치의 자동 캘리브레이션 방법을 제공할 수 있다. 실시 예에 따르면, 이동 가능하게 설치되는 영상 투사 장치가 특정 장소에 설치될 때마다 초점, 화면 배치/크기 및 선명도를 자동으로 조정할 수 있다. 실시 예에 따르면, 영상 투사 장치를 설치하거나 전원을 인가할 때마다 초점, 화면 배치/크기 및 선명도가 자동 으로 조정되도록 영상 투사 장치를 제어할 수 있다. 본 명세서의 적용 가능성의 추가적인 범위는 이하의 상세한 설명으로부터 명백해질 것이다. 그러나 본 명세서의 사상 및 범위 내에서 다양한 변경 및 수정은 당업자에게 명확하게 이해될 수 있으므로, 상세한 설명 및 본 명세 서의 바람직한 실시 예와 같은 특정 실시 예는 단지 예시로 주어진 것으로 이해되어야 한다."}
{"patent_id": "10-2024-7043286", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면을 참조하여 본 명세서에 개시된 실시 예를 상세히 설명하되, 도면 부호에 관계없이 동일하거 나 유사한 구성요소는 동일한 참조 번호를 부여하고 이에 대한 중복되는 설명은 생략하기로 한다. 이하의 설명 에서 사용되는 구성요소에 대한 접미사 \"모듈\" 및 \"부\"는 명세서 작성의 용이함만이 고려되어 부여되거나 혼용 되는 것으로서, 그 자체로 서로 구별되는 의미 또는 역할을 갖는 것은 아니다. 또한, 본 명세서에 개시된 실시 예를 설명함에 있어서 관련된 공지 기술에 대한 구체적인 설명이 본 명세서에 개시된 실시 예의 요지를 흐릴 수 있다고 판단되는 경우 그 상세한 설명을 생략한다. 또한, 첨부된 도면은 본 명세서에 개시된 실시 예를 쉽게 이 해할 수 있도록 하기 위한 것일 뿐, 첨부된 도면에 의해 본 명세서에 개시된 기술적 사상이 제한되지 않으며, 본 명세서의 사상 및 기술 범위에 포함되는 모든 변경, 균등물 내지 대체물을 포함하는 것으로 이해되어야 한다. 제1, 제2 등과 같이 서수를 포함하는 용어는 다양한 구성요소들을 설명하는데 사용될 수 있지만, 상기 구성요소 들은 상기 용어들에 의해 한정되지는 않는다. 상기 용어들은 하나의 구성요소를 다른 구성요소로부터 구별하는 목적으로만 사용된다. 어떤 구성요소가 다른 구성요소에 \"연결되어\" 있다거나 \"접속되어\" 있다고 언급된 때에는, 그 다른 구성요소에 직접적으로 연결되어 있거나 또는 접속되어 있을 수도 있지만, 중간에 다른 구성요소가 존재할 수도 있다고 이 해되어야 할 것이다. 반면에, 어떤 구성요소가 다른 구성요소에 \"직접 연결되어\" 있다거나 \"직접 접속되어\" 있 다고 언급된 때에는, 중간에 다른 구성요소가 존재하지 않는 것으로 이해되어야 할 것이다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 출원에서, \"포함한다\" 또는 \"가지다\" 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 동작, 구성요소, 부 품 또는 이들을 조합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되 어야 한다. 본 명세서에서 설명되는 전자 기기에는 디지털 TV, 데스크탑 컴퓨터, 키오스크, 디지털 사이니지 등과 같은 고 정 단말기에 적용될 수 있다. 특히, 본 명세서에서 설명되는 전자 기기에는 키오스크, 디지털 사이니지 등과 같 은 비접촉식 영상 투사 장치, 즉 영상표시장치에 적용될 수 있다. 도 1은 본 명세서에 따른 영상 투사 장치를 설명하기 위한 블록도이다. 도 1의 영상 투사 장치는 프로젝터일 수 있지만, 이에 한정되는 것은 아니다. 도 1을 참조하면, 영상 투사 장치는 무선 통신부, 센싱부 , 투사부, 위치조정부 및 전원 공급부 등을 포함할 수 있다. 도 3에 도시된 구성요소들은 프 로젝터를 구현하는데 있어서 필수적인 것은 아니어서 본 명세서 상에서 설명되는 프로젝터는 위에서 열거된 구성요소들 보다 많거나, 또는 적은 구성요소들을 가질 수 있다. 무선 통신부는 이동 통신 모듈 또는 근거리 통신 모듈을 이용하여 신호를 송수신할 수 있다. 구체적으로, 무선 통신부는 특정 명령 또는 특정 정보를 외부 단말기와 송수신할 수 있다. 또는, 무선 통신부는 외부 단말기로부터 사진, 동영상과 같은 영상을 수신할 수 있다. 또한 근거리 통신 모듈을 이용하여 리모콘과 같 이 무선으로 프로젝터를 제어할 수 있는 기능을 제공할 수 있다. 또한, 무선 통신부는 방송 수신 모 듈을 이용하여 방송 채널을 통하여 외부의 방송 관리 서버로부터 방송 신호 및/또는 방송 관련된 정보를 수신할 수 있다. 또한, 무선 통신부는 위치정보 모듈을 이용하여 프로젝터의 현재 위치를 획득할 수 있다. 센싱부는 소정의 검출면에 접근하는 물체, 혹은 근방에 존재하는 물체의 유무를 전자계의 힘 또는 적외선등 을 이용하여 기계적 접촉 없이 검출할 수 있다. 투사부는 영상 신호를 투사하는 기능을 하며 광학계라고도 할 수 있다. 투사부는 빛을 제공하는 광원 , 광원을 투과성 영상 투사 장치 등을 포함하는 형태로 구현될 수 있다. 또한, 투사부는 투사 영역 상의 투사 영상의 크기를 조절하기 위한 투사렌즈을 포함할 수 있다. 위치조정부는 프로젝터가 영상을 투사하는 방향을 조절하는 기능을 한다. 구체적으로, 위치조정부 는 투사부의 위치를 조절하는 기능을 한다. 이를 위해, 위치조정부는 수직이동부 및 수평이동 부를 포함할 수 있다. 수직이동부는 투사부를 상하로 이동시키고, 수평이동부는 투사부를 좌우로 이동시킬 수 있다. 프로젝터의 카메라, 센싱부 및/또는 투사부 위치조정부에 의 해 상하좌우로 이동할 수 있다. 메모리는 투사할 영상, 주변 공간 정보 및/또는 투사 영역 정보를 저장할 수 있다. 제어부는 무선 통신부, 센싱부, 투사부, 위치조정부 및/또는 메모리와 조합되어 주위 공간 구조를 분석하고, 투사 영역을 분석하고, 영상 보정을 수행하고, 영상을 투사하거나 외부 단말기와 신호를 송수신할 수 있다. 즉, 제어부는 이하에서 설명되는 다양한 실시 예들을 구현하기 위해 위 구성요소들 중 어느 하나 또는 복수를 조합하여 제어할 수 있다. 전원 공급부는 제어부의 제어에 의해 외부의 전원, 내부의 전원을 인가받아 각 구성요소들의 동작에 필 요한 전원을 공급한다. 전원 공급부는 착탈 가능한 배터리를 포함할 수 있다. 도 2는 본 발명의 일 실시예에 따른 프로젝터를 도시한 사시도이다. 프로젝터의 하우징과 하우징(2 0)의 전면에 노출된 투사렌즈가 도시되어 있다. 하우징의 측면에는 하우징 내에 광원 등 발열 부품 이 배치되므로 발생하는 열을 배출하기 위해 벤트홀이 형성될 수 있다. 하우징의 외측으로 노출된 조작부 를 통해 렌즈의 초점이나 투사 방향 등을 조절할 수 있다. 하우징 내부에는 무선통신부, 센싱부, 투사부, 메모리, 제어부 및 전원공급부 등 이 구비된다. 광원에서 사출된 빛이 표시소자에서 이미지 정보와 합성되어 투사렌즈를 통해 사출되 고 스크린이나 벽면에 영상이 나타난다. 도 3은 본 명세서서의 실시예에 따른 프로젝터의 광학계를 도시한 도면이다. 본 발명의 프로젝터 광학계 는 광원으로 레이저 다이오드를 이용하며, 레이저 다이오드에서 사출되는 빛은 동일한 파장을 가지는 레이저광을 사출하기 때문에 에너지 밀도가 높으며, 위상이 일정하고 직진성을 가지고 있어 휘도를 높일 수 있 다. 또한, 레이저 다이오드 자체의 수명이 종래의 램프나 발광 다이오드 보다 길기 때문에 수명이 증가하는 장 점이 있고 제조비용이 싸고, 크기도 작게 구현 가능하여 프로젝터의 크기를 줄일 수 있다. 레이저광은 특 정 파장의 빛으로 녹색광보다 청색광이 효율이 높아 청색광을 사출하는 레이저 다이오드를 이용하는 것이 효율 측면에서 유리하다. 한편, 본 명세서에 따른 영상을 투사하도록 구성된 영상 투사 장치(image projection device)는 스크린 상에 투 사되는 영상이 자동으로 캘리브레이션 되도록 제어될 수 있다. 이와 관련하여, 프로젝터와 같은 영상 투사 장치 (image projection device)는 컴퓨터 또는 전자 장치와 연결되어 입력 영상이 스크린에 투사되도록 구성된다. 최근에는 프로젝터와 같은 영상 투사 장치가 소형화됨에 따라 고정된 장소에 설치될 뿐만 아니라 이동 가능하게 설치될 수 있다. 이와 관련하여, 이동 가능하게 설치되는 영상 투사 장치가 특정 장소에 설치될 때마다 초점, 화면 배치/크기 및 선명도를 사용자가 직접 조정하여야 하는 문제점이 있다. 이에 따라 영상 투사 장치를 설치하여 조작하는 사용자의 숙련도에 따라 스크린에 투사되는 투사 영상의 크기, 배치 및 선명도 등이 변경될 수 있다는 문제점이 있다. 이러한 문제점을 해결하기 위해, 영상 투사 장치를 설치 하거나 전원을 인가할 때마다 초점, 화면 배치/크기 및 선명도가 자동으로 조정되도록 영상 투사 장치가 제어될 필요가 있다. 본 명세서는 전술한 문제 및 다른 문제를 해결하기 위한 것으로 본 명세서의 일 목적은 영상 투사 장치 및 영상 투사 제어 방법을 제공하기 위한 것이다. 본 명세서의 다른 일 목적은, 영상 투사 장치의 자동 캘리브레이션 방 법을 제공하기 위한 것이다. 본 명세서의 다른 일 목적은, 이동 가능하게 설치되는 영상 투사 장치가 특정 장소 에 설치될 때마다 초점, 화면 배치/크기 및 선명도를 자동으로 조정하기 위한 것이다. 본 명세서의 다른 일 목 적은, 영상 투사 장치를 설치하거나 전원을 인가할 때마다 초점, 화면 배치/크기 및 선명도가 자동으로 조정되 도록 영상 투사 장치가 제어하기 위한 것이다. 이하, 도 4a는 본 명세서에 따른 투사 영상에 대한 캘리브레이션을 수행하는 영상 투사 장치와 이를 포함하는 영상 투사 시스템의 블록도를 나타낸다. 이와 관련하여, 도 4b는 도 4a의 영상 투사 장치의 프로세서의 상세 구 성을 나타낸다. 도 4a 및 도 4b를 참조하면, 영상 투사 장치는 ToF 센서, 램프 어셈블리, 구동부 및 프로세서를 포함하도록 구성될 수 있다. 영상 투사 장치는 카메라를 더 포함하도록 구성될 수 있다. ToF 센서는 타겟까지의 거리를 측정하도록 구성될 수 있다. 영상 투사 시스템의 영상 투사 장치에 구비된 ToF 센서는 스크린 또는 패턴 영상과 연관된 마커까지의 거리를 측정하도록 구성될 수 있다. 램프 어셈블리는 소스 영상인 패턴 영상이 포함된 영상 신호를 출력하도록 구성될 수 있다. 구동부는 렌 즈 어셈블리가 일 축 방향으로 이동되도록 제어할 수 있다. 구동부는 렌즈 어셈블리를 포함 한 기구 구조의 구동을 제어하므로 구동 제어기(operational controller)로 지칭될 수도 있다. 프로세서 는 ToF 센서를 통해 스크린까지의 거리를 측정하도록 구성될 수 있다. 프로세서는 램프 어셈블리 를 통해 출력된 패턴 영상이 스크린에 투사되도록 제어될 수 있다. 카메라는 스크린 또는 패턴 영 상과 연관된 마커의 영상을 촬영하도록 구성될 수 있다. 도 4b를 참조하면, 프로세서는 검출 모듈, 초점 조정 모듈, 크기/위치 조정 모듈 및 미세 조정 모듈을 포함하도록 구성될 수 있다. 크기/위치 조정 모듈은 줌 동작을 통해 패턴 영상의 크기를 조정하는 줌 동작 모듈 및 패턴 영상의 위치를 조정하는 위치 조정 모듈를 포함할 수 있다. 미세 조정 모듈은 키스톤 보정 모듈, 미세 조정 모듈 및 초점 조정 모듈을 포함할 수 있다. 키스톤 보정 모듈은 스크린 내의 패턴 영상에 대한 키스톤 보정을 수행한다. 있다. 키스톤 보정 모 듈은 스크린 내의 패턴 영상의 모서리부분을 강제적으로 이동시켜 투사하여 원래의 형태인 사각형 형상에 가깝도록 조정한다. 미세 조정 모듈은 스크린 내의 패턴 영상이 일 축 상의 중심 지점에 배치되도록 조정 할 수 있다. 미세 조정 모듈은 렌즈의 위치를 물리적으로 이동함으로써 스크린의 중앙에 맞게 화면을 투 사하는 렌즈 시프트 동작을 수행할 수 있다. 미세 조정 모듈은 소프트웨어 방식으로 화면의 위치를 일 축 및/또는 타 축 방향으로 평행 이동시키는 영상 시프트 동작을 수행할 수 있다. 초점 조정 모듈은 스크린 내의 패턴 영상의 초점 위치를 조정하여 스크린 내의 패턴 영상의 일 축 및/또는 타 축 방향의 화면 비율을 조 정할 수 있다. 도 4a 및 도 4b를 참조하면, 프로세서는 측정된 스크린까지의 거리 및 스크린으로부터의 초점 위치에 기 초하여, 램프 어셈블리가 이동되도록 구동부를 제어할 수 있다. 프로세서는 램프 어셈블리 를 통해 스크린에 투사된 패턴 영상의 선예도(sharpness) 값을 계산할 수 있다. 프로세서는 계산된 선예도 값에 기초하여, 패턴 영상의 크기 및 패턴 영상이 투사되는 위치를 조정할 수 있다. 프로세서는 검출 모듈을 통해 딥러닝 기반으로 스크린 또는 상기 패턴 영상과 연관된 마커를 검출 하도록 구성될 수 있다. 프로세서는 딥러닝 기반으로 스크린 또는 상기 패턴 영상과 연관된 마커의 코너 지점들의 좌표들과 좌표들의 검출 정확성과 연관된 신뢰도 값을 검출할 수 있다. 검출 모듈을 통해 검출 실패 시 프로세서는 예외 케이스로 간주하여 추가 동작을 수행할 수 있다. 일 예로, 프로세서는 UI/UX 모듈을 통해 소프트웨어 방식으로 마커를 표시한 후 표시된 마커를 검출할 수 있다. 프로세서는 검출 모듈을 통해 코너 지점들을 기준으로 수직 방향 및 수평 방향의 직선 성분들을 검 출하도록 구성될 수 있다. 프로세서는 코너 지점들 중 어느 하나가 스크린 또는 마커의 검출을 위한 최적 코너 지점(optimal corner point)인지를 판단할 수 있다. 프로세서는 ToF 센서의 중앙점을 기준으로 최적 코너 지점까지의 거리에 기초하여, 렌즈 어셈블리가 이동되도록 구동부를 제어할 수 있다. 한편, 본 명세서에 따른 영상을 투사하도록 구성된 영상 투사 장치는 ToF 센서를 통해 측정된 거리를 기 준거리와 비교하여 서로 다른 방식으로 패턴 영상의 선예도(sharpness) 값을 측정하여 초점 조정을 수행할 수 있다. 이와 관련하여, 도 5a는 본 명세서에 따른 측정 거리 기반 선예도 측정 방법의 흐름도를 나타낸다. 한편,도 5b는 일 실시 예에 따른 필터링 기반 에지 성분 검출을 통한 선예도 측정 방법의 개념도를 나타낸다. 도 5c 는 본 명세서에 따른 선예도 성분 추출을 위해 여러 방향으로 에지 성분을 포함하는 패턴을 나타낸다. 도 5a를 참조하면, 선예도 측정 방법은 거리 측정 과정(S110), 거리 비교 과정(S120), 제1 이동 과정(S130a), 제2 이동 과정(S130b), 제1 패턴 선예도 측정 과정(S140a) 및 제2 패턴 선예도 측정 과정(S140b)을 포함하도록 구성될 수 있다. 도 5a의 과정들은 영상 투사 장치의 프로세서에 의해 수행될 수 있다. 구체적으로, 도 5a의 과정들은 프로세서의 초점 조정 모듈에 의해 수행될 수 있다. 도 4a 내지 도 5a를 참조하면, 거리 측정 과정(S110)에서 ToF 센서의 중앙점을 기준으로 스크린 또는 마 커까지의 거리를 측정한다. 거리 비교 과정(S120)에서 스크린 또는 마커까지의 측정된 거리가 ToF 유효 거리보 다 작은 지 여부를 판단할 수 있다. 거리 비교 과정(S120)에서 측정된 거리가 ToF 유효 거리보다 작은 것으로 판단되면, 제1 이동 과정(S130a)이 수행될 수 있다. 예를 들어, 측정된 거리가 유효 거리인 5m 보다 작은 지 여 부가 판단될 수 있다. 거리 비교 과정(S120)에서 측정된 거리가 유효 거리 이상이라고 판단되면, 제2 이동 과정 (S130b)이 수행될 수 있다. 예를 들어, 측정된 거리가 유효 거리인 5m 보다 큰 지 여부가 판단될 수 있다. 측정된 거리가 ToF 유효 거리보다 작으면, 제1 이동 과정(S130a)에서 타겟 위치에 인접한 제1 위치까지 일정한 방향으로 영상 투사 장치 또는 램프 어셈블리를 이동할 수 있다. 영상 투사 장치가 이동될 수 있도록 사용자 화 면을 스크린 또는 영상 투사 장치에 구비된 디스플레이 영역에 표시할 수도 있다. 한편, 영상 투사 장치가 이동 됨에 따라 영상 투사 장치에 구비된 램프 어셈블리와 스크린 사이의 거리가 변경된다. 따라서, 영상 투사 장치 의 위치가 이동됨에 따라 램프 어셈블리의 위치도 이동되는 것으로 간주될 수 있다. 제1 이동 과정(S130a)에서 현재 위치를 타겟 위치에 임계 치만큼 이격되게 이동할 수 있다. 예를 들어 타겟 위 치가 3m이고 현재 위치가 1m인 경우 구동부를 구동하여 현재 위치를 약 2.5m로 이동할 수 있다. 제1 패턴 선예도 측정 과정(S140a)에서 패턴 영상의 제1 선예도 값을 측정할 수 있다. 타겟 위치에 인접한 제1 위치까지 일정한 방향으로 램프 어셈블리를 이동하면서 패턴 영상의 제1 선예도 값을 측정할 수 있다. 도 5b를 참조하면, 선예도 측정은 특정 필터를 적용하여 에지 성분을 검출하여 이루어진다. 예를 들어, 선예도 측정을 위한 특정 필터는 수학식 1의 2D Laplacian 필터일 수 있지만 이에 한정되는 것은 아니고 응용에 따라 변경 가 능하다. 수학식 1"}
{"patent_id": "10-2024-7043286", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "수학식 1과 같은 특정 필터를 적용하여 원본 영상(original image)로부터 도 5b의 필터링된 영상(filtered image)이 획득될 수 있다. 도 5b의 필터링된 영상에서 특정 에지 성분을 검출하여 패턴 선예도 측정이 이루어 질 수 있다. 특정 에지 성분은 수직 방향, 수평 방향, 대각 방향 또는 임의의 어느 방향으로 형성될 수 있다. 도 5b와 같이 원형 형상의 패턴 영상에 대해서 에지 성분은 특정 각도 범위 내의 원형 패턴으로 형성될 수 있다. 전술한 수직 방향, 제1 패턴 선예도 측정 과정(S140a)에서 수평 방향, 대각 방향 또는 임의의 어느 방향으로 이 동하면서 패턴 영상의 제1 선예도 값을 측정할 수 있다. 도 5c를 참조하면, 선예도 성분 추출을 위해 수직/수평 /대각 방향으로 많은 에지 성분(edge component)을 포함하는 복합 패턴(composite pattern)이 사용될 수 있다. 복합 패턴은 방사형 패턴 및 캘리브레이션 패턴을 포함하도록 구성될 수 있다. 방사형 패 턴 및 캘리브레이션 패턴을 각각 제1 패턴 및 제2 패턴으로 지칭할 수 있다. 방사형 패턴 및/또 는 캘리브레이션 패턴이 패턴 영상과 연관된 마커에 해당될 수 있고, 마커에 기초하여 스크린 영역이 검출 될 수 있다. 방사형 패턴은 자동 초점(auto focus, AF) 조정을 위한 패턴으로 복수의 부채꼴 패턴들로 구성될 수 있다. 방사형 패턴을 구성하는 부채꼴 패턴들은 제1 색상의 제1 부채꼴 패턴과 제2 색상의 제2 부채꼴 패턴이 교 대로 배치될 수 있다. 제1 부채꼴 패턴과 제2 부채꼴 패턴이 서로 다른 제1 패턴 및 제2 패턴으로 형성될 수도 있다. 캘리브레이션 패턴은 방사형 패턴에 인접하게 배치될 수 있다. 캘리브레이션 패턴은 빔 프로젝터 장치의 키스톤 캘리브레이션 (keystone calibration)을 위한 패턴이다. 캘리브레이션 패턴은 방사형 패턴의 중심점을 기준으로 좌측 상부, 우측 상부, 좌측 하부 및 우측 하부에 배치되는 제1 내지 제4 캘리브레이션 패턴(521 내지 524)을 포함할 수 있다. 제1 내지 제4 캘리브레이션 패턴(521 내지 524) 각각은 수 평 방향의 제1 에지 성분(E1)과 수직 방향의 제2 에지 성분(E2)을 포함하도록 구성될 수 있다. 도 5a를 다시 참조하면, 측정된 거리가 ToF 유효 거리 이상이면, 제2 이동 과정(S130b)에서 ToF 유효 거리에 대 응되는 제2 위치로 영상 투사 장치 또는 램프 어셈블리를 이동할 수 있다. 영상 투사 장치가 이동될 수 있도록 사용자 화면을 스크린 또는 영상 투사 장치에 구비된 디스플레이 영역에 표시할 수도 있다. ToF 유효 거리는 영 상 투사 장치인 빔 프로젝터와 스크린 사이의 거리를 측정할 수 있는 최대 측정 가능 거리로 정의될 수 있다. 측정된 거리가 ToF 유효거리인 5m 보다 크면, 제2 이동 과정(S130b)에서 ToF 유효 거리에 대응되는 제2 위치로 영상 투사 장치 또는 램프 어셈블리를 이동할 수 있다. 영상 투사 장치가 실내 영역에 배치되는 경우에 비해 실외 영역에 배치되는 경우 최대 측정 가능 거리인 ToF 유 효 거리는 증가될 수 있다. 예를 들어, 실내 영역에서 ToF 유효 거리는 약 4m로 설정될 수 있다. 한편, 실외 영 역에서 ToF 유효 거리는 약 5m 이상으로 설정될 수 있다. 제2 패턴 선예도 측정 과정(S140b)에서 패턴 영상의 제2 선예도 값을 측정할 수 있다. ToF 유효 거리에 대응되 는 제2 위치로 영상 투사 장치 또는 램프 어셈블리를 이동하면서 패턴 영상의 제2 선예도 값을 측정할 수 있다. 영상 투사 장치가 실내 영역에 배치되어 ToF 유효거리가 증가되면, 제2 패턴 선예도 측정 과정(S140b)에서 원거 리 영역 내에서 이동하면서 패턴 영상의 제2 선예도 값을 측정할 수 있다. 따라서, 실내 근거리 뿐만 아니라 4m 또는 그 이상의 실외 원거리에서도 ToF 거리 측정 기반 패턴 선예도를 측정하고 초점 조정이 가능하다. 도 4a 내지 도 5c를 참조하면, 프로세서는 ToF 거리 측정 기반으로 선예도 값을 측정할 수 있다. 프로세 서는 측정된 선예도 값에 기초하여, 패턴 영상의 크기 및 패턴 영상이 투사되는 위치를 조정할 수 있다. 이와 관련하여, 프로세서는 ToF 센서의 중앙점을 기준으로 스크린까지의 거리를 측정할 수 있다. 측정된 거리가 ToF 유효 거리보다 작으면, 프로세서는 타겟 위치에 인접한 제1 위치까지 일정한 방향으로 램프 어셈블리를 이동하면서 패턴 영상의 제1 선예도 값을 측정할 수 있다. 측정된 거리가 상기 ToF 유효 거리 이상이면, 프로세서는 ToF 유효 거리에 대응되는 제2 위치로 램프 어셈블리를 이동하면서 패 턴 영상의 제2 선예도 값을 측정할 수 있다. 프로세서는 측정된 제1 선예도 값 및 제2 선예도 값에 기초 하여, 패턴 영상의 크기 및 패턴 영상이 투사되는 위치를 조정할 수 있다. 한편, 본 명세서에 따른 영상을 투사하도록 구성된 영상 투사 장치는 패턴 영상의 크기 및 위치를 조정하도록 구성될 수 있다. 이와 관련하여, 도 6은 본 명세서에 따른 영상 투사 장치에서 수행되는 패턴 영상의 크기 및 위치 조정 방법의 흐름도를 나타낸다. 도 4a, 도 4b 및 도 6을 참조하면, 도 6의 과정들은 영상 투사 장치의 프로세서에 의해 수행될 수 있다. 구체적으로, 도 6의 과정들은 프로세서의 크기/위치 조정 모듈에 의해 수행될 수 있다. 도 6을 참조하면, 패턴 영상의 크기 및 위치 조정 방법은 영역 비교 과정(S210), 제1 줌 수행 과정(S220), 중심 점 추출 과정(S230), 중심점 이동 과정(S240) 및 제2 줌 수행 과정(S250)을 포함하도록 구성될 수 있다. 영역 비교 과정(S210)에서 스크린의 표시 영역인 제1 영역과 패턴 영상이 투사되는 투사 영역인 제2 영역을 비 교할 수 있다. 제1 줌 수행 과정(S220)에서 스크린으로부터의 초점 위치가 제1 위치로 이동되도록 제1 줌 동작 을 수행할 수 있다. 제1 줌 수행 과정(S220)에서 스크린의 표시 영역인 제1 영역보다 투사 영역인 제2 영역이 소정 비율 이상 크게 형성되도록 제어할 수 있다. 중심점 추출 과정(S230)에서 스크린의 표시 영역인 제1 영역의 제1 중심점과 투사 영역인 제2 영역의 제2 중심 점을 추출할 수 있다. 중심점 이동 과정(S240)에서 투사 영역인 제2 영역의 제2 중심점이 스크린의 표시 영역인 제1 영역의 제1 중심점으로 이동되도록 패턴 영상의 중심 위치를 조정할 수 있다. 제2 줌 수행 과정(S250)에서 중심 위치가 조정된 상태에서 초점 위치가 제2 위치로 이동되도록 제2 줌 동작을 수행할 수 있다. 전술한 패턴 영상의 크기 및 위치 조정 방법은 프로세서에 의해 수행될 수 있다. 이와 관련하여, 프로세 서는 스크린의 표시 영역인 제1 영역과 패턴 영상이 투사되는 투사 영역인 제2 영역을 비교할 수 있다. 비교 결과에 기초하여, 프로세서는 초점 위치가 제1 위치로 이동되도록 제1 줌 동작을 수행하여, 제1 영 역보다 제2 영역이 소정 비율 이상 크게 형성되도록 제어할 수 있다. 프로세서는 제1 영역의 제1 중심점과 제2 영역의 제2 중심점을 추출할 수 있다. 프로세서는 제2 영 역의 제2 중심점이 제1 영역의 상기 제1 중심점으로 이동되도록 패턴 영상의 중심 위치를 조정할 수 있다. 프로세서는 중심 위치가 조정된 상태에서 초점 위치가 제2 위치로 이동되도록 제2 줌 동작을 수행할 수 있다. 프로세서는 제2 줌 동작을 통해 패턴 영상의 미세 조정이 가능하다. 이와 관련하여, 프로세서는 일 축 방향으로 제1 간격만큼 제1 줌 동작을 통해 제1 선예도 값 또는 제2 선예도 값을 측정할 수 있다. 프로세서 는 일 축 방향으로 제1 간격보다 좁은 제2 간격만큼 제2 줌 동작을 통해 제1 선예도 값 또는 제2 선예도 값을 측정할 수 있다. 프로세서는 중심 위치가 조정된 상태에서 제1 간격보다 좁은 제2 간격만큼 제2 줌 동작을 통해 초점 위치가 제2 위치로 이동되도록 미세 조정할 수 있다. 한편, 본 명세서에 따른 영상을 투사하도록 구성된 영상 투사 장치는 영상 간 변환을 통해 캘리브레이션을 수행 할 수 있다. 이와 관련하여, 도 7는 본 명세서에 따른 영상 투사 장치를 통해 형성된 패턴 영상이 스크린 상에 투사된 투사 영상으로 표시된 개념도를 나타낸다. 도 8은 본 명세서에 따른 영상 투사 장치와 관련하여 소스 영 상 프레임 및 투사 영상 프레임 간 변환 관계를 나타낸 것이다. 도 4a, 도 4b, 도 7 및 도 8을 참조하면, 빔 프로젝터인 영상 투사 장치와 스크린 사이의 관계를 나 타내는 매핑 매트릭스(P)를 결정할 필요가 있다. 또한, 투사 영상(projected image)이 스크린 상에서 소정 형상 이 되도록 하는 프리-와핑 매트릭스(pre-warping matrix) W를 결정할 필요가 있다. 스크린 상의 투사 영상의 소 정 타겟 형상은 직사각형(rectangular) 형상일 수 있지만 이에 한정되는 것은 아니다. 이에 따라, 프로세서는 패턴 영상의 소스 영상 프레임(source image frame)(SF)과 스크린 상에 투 사되는 투사 영상 프레임(projected image frame)(PF)의 변환 관계를 정의하는 매핑 매트릭스(P)를 결정할 수 있다. 이와 관련하여, 스크린은 원래의 형태를 보이지만 투사 영상은 사용자 시점에서 왜곡되어 보여질 수 있다. 프로세서는 투사 영상 프레임(PF)이 스크린 상에서 소정 형상이 되도록 하는 프리-와핑 매트릭스 (pre-warping matrix)(W)를 결정할 수 있다. 프로세서는 프리-와핑 매트릭스(W)에 기초하여 소스 영상 프 레임(SF)을 변환할 수 있다. 프로세서는 변환된 소스 영상 프레임이 스크린 상에 상기 소정 형상의 투사 영상(PF)으로 투사되도록 제어할 수 있다. 프리-와핑 매트릭스(W)는 P-1 S로 표현될 수 있다. 여기서, P는 소스 영상 프레임(SF)과 투사 영상 프레임(PF)의 변환 관계를 정의하는 매핑 매트릭스이고, S는 프리-와핑 관련 하여 영상들의 특정 지점들 간의 위치 상 쉬프트(shift)와 영상 스케일링을 포함하는 변환 관계를 정의하는 매 트릭스이다. 프로세서는 스크린 또는 패턴 영상과 연관된 마커의 영상을 촬영하도록 카메라를 제어할 수 있다. 프로세서는 스크린을 검출하여 4개의 코너 지점을 검출할 수 있다. 프로세서는 검출된 4개의 코너 지점에 기초하여, 소스 영상 프레임(SF)과 카메라 영상 프레임(camera image frame)(CF)의 변환 관 계를 정의하는 제1 매핑 매트릭스(T)를 결정할 수 있다. 이와 관련하여, 카메라의 시점에서 투사 영상 프 레임(PF)은 왜곡되기 이전의 원래의 형상으로 보여질 수 있다. 반면에, 스크린의 검출된 4개의 코너 지점 은 소정 형상이 아닌 형태로 형성되어, 스크린은 왜곡된 상태로 보여질 수 있다. 프로세서는 검출된 4개의 코너 지점에 기초하여, 카메라의 시점에서 검출된 스크린에 투사되 는 투사 영상 프레임(PF)이 소정 형상이 되도록 하는 제2 매핑 매트릭스(C)를 결정할 수 있다. 이와 관련하여, 소스 영상 프레임(SF)은 4개의 코너 지점들(A, B, C, D)로 이루어진 직사각형 형상일 수 있다. 소스 영상 프레 임(SF)은 매핑 파라미터인 제1 매핑 매트릭스(T)에 의해 카메라 이미지 프레임(CF)로 변환될 수 있다. 카메라 이미지 프레임(CF)에서 4개의 코너 지점들(A', B', C', D')은 검출될 수 있다. 이에 따라, 카메라 이미지 프레 임(CF) 상에서 패턴 영상인 캘리브레이션 슬라이드 패턴이 검출될 수 있다. 프로세서는 제1 매핑 매트릭스(T) 및 제2 매핑 매트릭스(C)에 기초하여, 매핑 매트릭스(P)를 C-1 T로 결정 할 수 있다. 프로세서는 소정 형상으로 수정된 영상(rectified screen)의 오프셋 및 스케일 조정을 위한 최적 지점들을 결정할 수 있다. 프로세서는 최적 지점들의 좌표와 소정 형상으로 수정되기 이전의 영상의 해당 지점들의 좌표에 기초하여, 수정된 영상의 오프셋 및 스케일 정도가 적절한지를 판단할 수 있다. 본 명세서에 따른 영상 투사 장치의 키스톤 보정 방법은 캘리브레이션에서 스크린/마커 검출 및 영상 프레임 간 변환을 통해 수행될 수 잇다. 이와 관련하여, 도 9는 본 명세서에 따른 영상 투사 장치의 키스톤 보정 방법의 흐름도를 나타낸다. 도 9를 참조하면, 키스톤 보정 방법은 프로젝터-카메라 캘리브레이션 과정(S310a), 스크린 검출 과정(S310b), 매핑 매트릭스 유추 과정(S320a) 및 스크린 영역 수정 과정(S320b)을 포함할 수 있다. 이와 관련하여, 프로젝터-카메라 캘리브레이션 과정(S310a)과 스크린 검출 과정(S310b)은 동시에 수행되거나 어느 한과정이 종료되기 전에 다른 과정이 시작될 수 있다. 매핑 매트릭스 유추 과정(S320a) 및 스크린 영역 수정 과정 (S320b)도 동시에 수행되거나 어느 한 과정이 종료되기 전에 다른 과정이 시작될 수 있다. 키스톤 보정 방법은 최적 포인트 배치 과정(S330) 및 프리-와핑 과정(S340)을 더 포함할 수 있다. 한편, 도 10은 본 명세서에 따른 프로젝터-카메라 캘리브레이션과 관련하여 매핑 파라미터를 결정하는 구조와 이와 관련된 예시의 패턴 영상을 나타낸다. 도 10(a)는 본 명세서에 따른 프로젝터-카메라 캘리브레이션과 관련 하여 매핑 파라미터에 기초하여 소스 영상 프레임(SF)과 카메라 이미지 프레임(CF) 간 변환을 나타낸다. 도 10(b)는 본 명세서에 따른 영상 투사 장치에서 생성되어 투사되는 패턴 영상인 캘리브레이션 슬라이드 패턴의 예시를 나타낸다. 도 8 내지 도 10을 참조하면, 소스 영상 프레임(SF)은 4개의 코너 지점들(A, B, C, D)로 이루어진 직사각형 형 상일 수 있다. 예를 들어, 소스 영상 프레임(SF)의 코너 지점들(A, B, C, D)의 좌표는 각각 (0,0), (0, 720), (1280,0), (1280,720)일 수 있다. 소스 영상 프레임(SF)은 매핑 파라미터인 제1 매핑 매트릭스(T)에 의해 카메 라 이미지 프레임(CF)로 변환될 수 있다. 카메라 이미지 프레임(CF)에서 4개의 코너 지점들(A', B', C', D')은 검출될 수 있다. 이에 따라, 카메라 이미지 프레임(CF) 상에서 도 10(b)의 패턴 영상인 캘리브레이션 슬라이드 패턴이 검출될 수 있다. 소스 영상 프레임(SF)과 카메라 이미지 프레임(CF) 상의 캘리브레이션 슬라이드 패턴 사이의 최소 4개 이상의 대응 지점들 (예: 코너 지점들)을 통해 호모그래피(homography) 매트릭스인 제1 매핑 매트릭스(T)를 계산할 수 있다. 도 4a, 도 4b, 도 7 내지 도 10을 참조하면, 프로젝터-카메라 캘리브레이션 과정(S310a)에서 영상 투사 장치인 프로젝터와 카메라 이미지 프레임(CF) 사이의 제1 매핑 매트릭스(T)가 도출될 수 있다. 스크린 검출 과정 (S310b)에서 스크린이 배치된 영역이 검출된 후 4개의 코너 지점들이 도출될 수 있다. 이와 관련하여, 프 로젝터에서 체스무늬 패턴과 같은 패턴 영상을 투사하여 캘리브레이션을 진행할 수 있다. 스크린 영역 수정 과정(S320b)에서 카메라의 시점에서 검출된 스크린에 투사되는 투사 영상 프레임 (PF)이 소정 형상이 되도록 하는 제2 매핑 매트릭스(C)를 결정할 수 있다. 스크린 영역 수정 과정(S320b)에서 카메라 시점에서 보이는 스크린 영역을 소정 형상, 예를 들어 사각형 형상으로 변환하는 관계식이 도출될 수 있 다. 스크린 영역 수정 과정(S320b)을 통해 투사 영상 프레임에서 투사 및 아핀 왜곡(projective and affine distortion)이 제거(remove)될 수 있다. 매핑 매트릭스 유추 과정(S320a)에서 프로젝터와 스크린 영상 사이의 관계를 나타내는 매핑 매트릭스(P)가 도출 될 수 있다. 구체적으로, 패턴 영상의 소스 영상 프레임(source image frame)(SF)과 스크린 상에 투사되는 투사 영상 프레임(projected image frame)(PF)의 변환 관계를 정의하는 매핑 매트릭스(P)가 도출될 수 있다. 매핑 매 트릭스(P)는 C-1T로 결정될 수 있다. 따라서, 매핑 매트릭스 유추 과정(S320a)은 프로젝터-카메라 캘리브레이션 과정(S310a)에서 도출된 제1 매핑 매트릭스(T)와 스크린 영역 수정 과정(S320b)에서 도출된 제2 매핑 매트릭스 (C)를 이용할 수 있다. 최적 포인트 배치 과정(S330)에서 수정된 스크린 영역에서 최적 포인트들을 결정할 수 있다. 이와 관련하여 영 상의 오프셋 및 스케일이 조정될 수 있다. 프리-와핑 과정(S340)에서 소스 영상 프레임(SF)에 프리-와핑 매트릭 스(W)를 곱하여 변환된 영상 프레임을 프로젝터를 통해 스크린에 투사되도록 할 수 있다. 한편, 본 명세서에 따른 영상을 투사하도록 구성된 영상 투사 장치는 카메라 영상 프레임(CF)을 이용하여 프리- 와핑 없이 투사될 투사 영상 프레임(PF)을 유추할 수 있다. 이와 관련하여, 프로세서는 카메라 영상 프레 임(CF)에 제2 매핑 매트릭스(C)의 역변환인 C-1 를 적용하여 소정 형상으로 수정된 영상(rectified screen) 이전 의 투사 영상 프레임(PF)을 유추할 수 있다. 이에 따라, 투사된 이미지 프레임을 간접적으로 획득할 수 있다. 프로세서는 소스 영상 프레임(SF)에 프리-와핑 매트릭스(W)를 곱하여 변환된 영상 프레임이 스크린 상에 소정 형상의 투사 영상 프레임(PF2)으로 투사되도록 제어할 수 있다. 한편, 본 명세서에 따른 영상 투사 장치의 키스톤 보정(keystone calibration)과 관련하여 투사 영상 프레임의 코너 지점들을 검출하여 캘리브레이션 성능을 평가할 수 있다. 이와 관련하여, 프로세서는 투사 영상 프 레임(PF2)의 코너 지점들을 검출하여 투사 영상 프레임(PF2)의 소정 형상으로 수정된 정도와 연관된 평가를 수 행할 수 있다. 프로세서는 검출된 코너 지점들의 좌표들과 소정 형상으로 수정을 위한 최적 코너 지점들의 좌표들 간의 거리 차이에 기초하여, 매핑 매트릭스(P)를 P1으로 수정할 수 있다. 프로세서는 수정된 매핑 매트릭스 (P1)에 기초하여 프리-와핑 매트릭스(W)를 W1으로 수정할 수 있다. 프로세서는 수정된 프리-와핑 매트릭 스(W1)에 기초하여 소스 영상 프레임(SF)을 변환하고, 변환된 소스 영상 프레임이 스크린 상에 소정 형상 으로 투사되도록 제어할 수 있다. 이에 따라, 본 명세서에 따른 영상 투사 장치의 키스톤 시 이전 캘리브레이션 결과를 반영하여 보다 정확하면서 빠른 속도로 캘리브레이션을 수행할 수 있다. 도 4a를 참조하면, 영상 투사 장치는 사용자 입력부를 더 포함할 수 있다. 한편, 본 명세서에 따른 영상을 투사하도록 구성된 영상 투사 장치는 사용자 입력부를 통해 사용자 입력에 따라 캘리브레이션이 자동으로 수행될 수 있다. 도 4a, 도 4b, 도 7 내지 도 10을 참조하면, 사용자 입력부는 스크린에 투사되는 패턴 영상에 대한 캘리브레이션이 이루어지도록 사용자 입력을 수신하도록 구성될 수 있다. 사용자 입력부를 통해 입력된 사용자 입력에 따라 패턴 영상에 대한 자동 캘리브레이션이 수행되므로 one-click 캘리브레이션으로 지칭될 수 있다. 프로세서는 사용자 입력부를 통해 입력된 사용자 입력에 기초하여, 스크린 상에 투사되는 투사 영 상 프레임(PF2)이 소정 형상으로 표시되도록 제어할 수 있다. 프로세서는 사용자 입력에 기초하여, 스크 린 상에 투사되는 투사 영상 프레임(PF2)이 소정 형상으로 표시되면서 스크린의 일 축 상의 중심 위 치에서 소정 거리 이내가 되도록 제어할 수 있다. 본 명세서에 따른 영상을 투사하도록 구성된 영상 투사 장치에서 스크린 영역 검출은 전술한 바와 같이 딥러닝 또는 인공지능(AI) 기반의 전처리 과정과 이후의 교차점 추출 기반의 후처리 과정으로 수행될 수 있다. 이와 관 련하여, 도 11a는 본 명세서에 따른 영상 투사 장치에서 스크린 영역 검출 알고리즘을 수행하는 구성도를 나타 낸다. 한편, 도 11b는 도 11a의 디코더 출력과 연관된 정보와 스크린 검출 결과를 나타낸 것이다. 도 11a를 참조하면, 입력 영상이 스크린 영역/코너 검출을 수행하는 검출 모듈에 입력될 수 있다. 검출 모듈은 스크린 영역/코너 검출을 위한 딥러닝 모듈 및 스크린 영역에 대한 정보를 출력하는 디코더 를 포함할 수 있다. 검출 모듈은 교차점을 추출하여 스크린 영역의 코너 지점을 검출하도록 구성된 후처리 모듈을 더 포함할 수 있다. 딥러닝 모듈에 입력되는 입력 영상은 직사각형 또는 정사각형 형상의 영상일 수 있다. 검출 모듈은 객체 검출 네트워크를 사용하여 스크린 영역과 스크린의 코너 지점들을 검출할 수 있다. 객체 검출 네트워크로 CenterNet이 사용될 수 있지만, 이에 한정되는 것은 아니고 응용에 따라 변경 가능하다. 스크린 영역과 코너 지 점들을 각각 검출하기 위해 2개의 딥러닝 모델이 사용될 수도 있다. 딥러닝 모듈을 통해 검출한 코너 지 점들을 기준으로 수직/수평 방향의 직선 성분을 검출하여 최적 코너 지점들을 판단할 수 있다. 딥러닝 모듈을 통해 스크린 영역의 맵 정보, 오프셋 정보 및 크기 정보가 예측될 수 있다. 디코더 를 통해 스크린 영역과 스크린의 코너 지점들이 출력될 수 있다. 후처리 모듈을 통해 라인 피팅 방식으로 교차점을 추출하여 스크린이 배치되는 스크린 영역의 최적 코너 지점들을 판단할 수 있다. 이를 위해, 스 크린 영역과 연관된 수직/수평 방향의 직선 성분을 검출하여 최적 코너 지점들을 판단할 수 있다. 도 11b(a)는 도 11a의 디코더에서 출력되는 스크린의 박스 영역 정보와 스크린의 코너 지점 정보를 나타 낸다. 도 11b(b)는 영상 투사 장치의 카메라에서 촬영된 스크린이 검출된 박스 영역(BR)과 코너 지점들의 좌표 정보(P1 내지 P4)를 나타낸다. 도 11a 및 도 11b를 참조하면, 디코더를 통해 스크린 영역을 나타내는 박스 영역(BR)의 좌표 정보(LT.x, LT.y, RB.x, RB.y)와 신뢰도 정보가 도출될 수 있다. 여기서, LT.x, LT.y, RB.x, RB.y는 박스 영역의 좌측 상 단 및 우측 하단의 x, y 좌표를 나타내고 box score는 박스 영역의 좌표 정보의 신뢰도 값이다. 후처리 모듈 을 통해 스크린의 코너 지점들의 좌표 정보(P1 내지 P4)와 신뢰도 정보가 도출될 수 있다. 좌표 정보(P1 내지 P4)는 LT.x, LT.y, RT.x, RT.y, RB.x, RB.y, LB.x, LB.y로 표시될 수 있다. 여기서, LT.x, LT.y, RT.x, RT.y, RB.x, RB.y, LB.x, LB.y는 좌측 상단, 우측 상단, 좌측 하단 및 우측 하단의 코너 지점들의 x, y 좌표를 나타내고 box score는 박스 영역의 좌표 정보의 신뢰도 값이다. 한편, 본 명세서에 따른 영상을 투사하도록 구성된 영상 투사 장치는 스크린 영역 기반으로 후처리 과정이 수행 되거나 스크린이 없는 경우 마커 기반으로 후처리 과정이 수행될 수 있다. 이와 관련하여, 도 12는 본 명세서에 따른 스크린에 표시되는 패턴 영상을 통해 스크린 영역을 검출하는 구성을 나타낸다.도 11a 내지 도 12을 참조하면, 딥러닝 기반으로 검출한 코너 지점들의 오차를 감소시키기 위한 후처리 과정이 수행될 수 있다. 도 12(a)를 참조하면, 스크린 영역의 코너 지점들의 좌표 값을 이용한 ROI(Region of Interest)이 생성될 수 있다. 도 12(a)의 ROI는 도 12b의 스크린 영역을 나타내는 박스 영역(BR)에 대응될 수 있다. 도 12(a)에서 ROI 내부의 에지 성분을 검출하고 도 12(b)와 같이 라인 피팅을 수행하여 교차 지점들을 추 출할 수 있다. 도 12(b)의 교차 지점들은 도 11b의 스크린의 코너 지점들(P1 내지 P4)에 대응될 수 있다. 추출 된 교차 지점들을 이용하여 변환 매트릭스를 계산할 수 있다. 실제 스크린이 없고 벽면에 투사 영상을 표시하도록 구성되거나 스크린 영역을 검출하는데 실패한 경우 소프트 웨어 방식으로 생성된 마커들이 벽면에 투사되도록 구성될 수 있다. 이와 관련하여, 도 13은 본 명세서에 따른 스크린을 사용하는 않은 영상 투사 장치에서 마커들을 검출하는 구성을 나타낸다. 도 5c 및 도 13을 참조하면, 스크린이 없는 벽면에 복수의 마커들이 패턴 영상으로 투사되어 배치될 수 있다. 따라서, 스크린이 없는 환경에서 마커들을 이용하여 변환 매트릭스 추정 방법이 적용될 수 있다. 좌측 영역 및 우측 영역에 제1 마커(500a) 및 제2 마커(500b)가 배치될 수 있다. 예를 들어, 제1 마커(500a) 및 제2 마커 (500b)가 표시된 위치는 스크린 영역의 좌측 영역 및 우측 영역의 위치에 대응될 수 있다. 좌측 영역과 우측 영역의 제1 마커(500a) 및 제2 마커(500b)를 검출한 후, 검출된 제1 마커(500a)의 제1 내지 제4 캘리브레이션 패턴(521a 내지 524a)가 정사각형 형상이 되도록 직교화 과정이 수행될 수 있다. 이와 유사하 게, 검출된 제2 마커(500b)의 제1 내지 제4 캘리브레이션 패턴(521b 내지 521b)가 정사각형 형상이 되도록 직교 화 과정이 수행될 수 있다. 검출되거나 선택되지 않은 마커가 정사각형 형상인지를 판별하여 직교화 과정과 같 은 화면 보정이 정상적으로 수행되었는지를 검증할 수 있다. 직교화 과정에 따라 캘리브레이션 패턴들(521a 내 지 524, 521b 내지 521b)이 정사각형 형상으로 표시되었는지를 확인하여 변환 매트릭스가 선택될 수 있다. 전술한 스크린 영역 및/또는 마커 검출과 관련하여 도 4a 내지 도 13을 참조하여 프로세서의 동작에 대해 이하 상세하게 설명한다. 이와 관련하여, 프로세서는 딥러닝 기반으로 스크린을 검출하는 데 실패하면 패 턴 영상과 연관된 마커를 생성하여 램프 어셈블리를 통해 마커가 투사되도록 제어할 수 있다. 프로세서 는 카메라를 통해 투사된 스크린 영역 또는 마커의 코너 지점들의 좌표들과 신뢰도 값을 검출할 수 있다. 프로세서는 카메라의 시점(point of view)에서 스크린의 상단, 하단, 일 측 단부 및 타 측 단부의 라인들이 획득 가능한지를 판단할 수 있다. 프로세서는 스크린의 표면이 소정 범위 내의 균일한 색상으로 표현되는지를 판단할 수 있다. 프로세서는 스크린의 표시 영역인 제1 영역이 사람 또는 다른 물체에 의해 가려지는 부분이 없는 지를 판단할 수 있다. 프로세서는 스크린의 라인들이 획득 가능하고, 표면이 균일 한 색상으로 표현되고, 제1 영역에 가려지는 부분이 없는 것으로 판단되면, 딥러닝 기반으로 스크린의 코 너 지점들의 좌표들과 신뢰도 값을 검출할 수 있다. 이상에서는 본 명세서의 일 양상에 따른 영상을 투사하도록 구성된 영상 투사 장치에 대해 설명하였다. 이하에 서는 본 명세서의 다른 양상에 따른 패턴 영상이 출력되도록 제어하는 영상 투사 제어 방법에 대해 설명한다. 이와 관련하여, 영상 투사 장치에서 설명된 동작들 및 기술적 특징들이 이하의 영상 투사 제어 방법에도 적용될 수 있다. 이와 관련하여, 도 14는 본 명세서에 따른 패턴 영상이 출력되도록 제어하는 영상 투사 제어 방법의 흐름도를 나타낸다. 도 4a 및 도 14를 참조하면, 영상 투사 제어 방법은 프로젝터와 같은 영상 투사 장치의 프로세서에 의해 수행될 수 있다. 영상 투사 제어 방법은 스크린/마커 검출 과정(S1100), 구동 제어 과정(S1200), 선예도 값 계산 과정(S1300) 및 영상 크기/위치 조정 과정(S1400)을 포함하도록 구성될 수 있다. 스크린/마커 검출 과정(S1100)에서 스크린 또는 패턴 영상과 연관된 마커의 검출할 수 있다. 구동 제어 과정 (S1200)에서 ToF 센서를 통해 스크린까지의 측정된 거리 및 스크린으로부터의 초점 위치에 기초하여, 램프 어셈 블리가 이동되도록 구동부를 제어할 수 있다. 선예도 값 계산 과정(S1300)에서 램프 어셈블리를 통해 스크린에 투사된 패턴 영상의 선예도(sharpness) 값을 계산할 수 있다. 영상 크기/위치 조정 과정(S1400)에서 계산된 선 예도 값에 기초하여, 패턴 영상의 크기 및 기 패턴 영상이 투사되는 위치를 조정할 수 있다. 스크린/마커 검출 과정(S1100)에서 딥러닝 기반으로 스크린 또는 패턴 영상과 연관된 마커의 코너 지점들의 좌 표들과 좌표들의 검출 정확성과 연관된 신뢰도 값을 검출할 수 있다. 스크린/마커 검출 과정(S1100)에서 코너지점들을 기준으로 수직 방향 및 수평 방향의 직선 성분들을 검출하여, 코너 지점들 중 어느 하나가 스크린 또 는 마커의 검출을 위한 최적 코너 지점(optimal corner point)인지를 판단할 수 있다. 선예도 값 계산 과정(S1300)이 수행된 이후, 영상 투사 제어 방법은 줌/위치 조정 과정(S1350)을 더 포함할 수 있다. 줌/위치 조정 과정(S1350)에서 스크린의 표시 영역인 제1 영역과 패턴 영상이 투사되는 투사 영역인 제2 영역을 비교하여 위치를 조정할 수 있다. 줌/위치 조정 과정(S1350)에서 초점 위치가 제1 위치로 이동되도록 제 1 줌 동작을 수행하여, 제1 영역보다 제2 영역이 소정 비율 이상 크게 형성되도록 제어할 수 있다. 줌/위치 조정 과정(S1350)에서 제1 영역의 제1 중심점과 제2 영역의 제2 중심점을 추출할 수 있다. 줌/위치 조 정 과정(S1350)에서 제2 영역의 제2 중심점이 제1 영역의 제1 중심점으로 이동되도록 패턴 영상의 중심 위치를 조정할 수 있다. 줌/위치 조정 과정(S1350)에서 중심 위치가 조정된 상태에서 초점 위치가 제2 위치로 이동되도 록 제2 줌 동작을 수행할 수 있다. 이상에서는 영상 투사 장치 및 영상 투사 제어 방법에 대해 설명하였다. 본 명세서에 따른 영상 투사 장치 및"}
{"patent_id": "10-2024-7043286", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "영상 투사 제어 방법의 기술적 효과는 다음과 같이 요약될 수 있지만, 이에 한정되는 것은 아니다. 실시 예에 따르면, 스크린까지의 측정된 거리에 따라 렌즈 어셈블리를 구동 제어하여 측정된 패턴 영상의 선예 도(sharpness)에 기초하여, 영상 투사 제어 방법을 제공할 수 있다. 실시 예에 따르면, 계산된 선예도 값에 기초하여 패턴 영상의 크기 및 투사되는 위치를 조정하여 영상 투사 장 치의 자동 캘리브레이션 방법을 제공할 수 있다. 실시 예에 따르면, 이동 가능하게 설치되는 영상 투사 장치가 특정 장소에 설치될 때마다 초점, 화면 배치/크기 및 선명도를 자동으로 조정할 수 있다. 실시 예에 따르면, 영상 투사 장치를 설치하거나 전원을 인가할 때마다 초점, 화면 배치/크기 및 선명도가 자동 으로 조정되도록 영상 투사 장치를 제어할 수 있다. 본 명세서의 적용 가능성의 추가적인 범위는 이하의 상세한 설명으로부터 명백해질 것이다. 그러나 본 명세서의 사상 및 범위 내에서 다양한 변경 및 수정은 당업자에게 명확하게 이해될 수 있으므로, 상세한 설명 및 본 명세 서의 바람직한 실시 예와 같은 특정 실시 예는 단지 예시로 주어진 것으로 이해되어야 한다. 본 명세서에 따른 영상 투사 장치 및 영상 투사 제어 방법의 적용 가능성의 추가적인 범위는 이하의 상세한 설 명으로부터 명백해질 것이다. 그러나 본 명세서의 사상 및 범위 내에서 다양한 변경 및 수정은 당업자에게 명확 하게 이해될 수 있으므로, 상세한 설명 및 본 명세서의 바람직한 실시 예와 같은 특정 실시 예는 단지 예시로 주어진 것으로 이해되어야 한다. 전술한 본 명세서와 관련하여, 영상 투사 장치 및 영상 투사 제어 방법은 프로그램이 기록된 매체에 컴퓨터가 읽을 수 있는 코드로서 구현하는 것이 가능하다. 컴퓨터가 읽을 수 있는 매체는, 컴퓨터 시스템에 의하여 판독 될 수 있는 데이터가 저장되는 모든 종류의 기록장치를 포함한다. 컴퓨터가 읽을 수 있는 매체의 예로는, HDD(Hard Disk Drive), SSD(Solid State Disk), SDD(Silicon Disk Drive), ROM, RAM, CD-ROM, 자기 테이프, 플로피 디스크, 광 데이터 저장 장치 등이 있으며, 또한 캐리어 웨이브(예를 들어, 인터넷을 통한 전송)의 형태 로 구현되는 것도 포함한다. 또한, 상기 컴퓨터는 단말기의 제어부를 포함할 수도 있다. 따라서, 상기의 상세한 설명은 모든 면에서 제한적으로 해석되어서는 아니되고 예시적인 것으로 고려되어야 한다. 본 명세서의 범위는 첨부된 청구항의 합리적 해석에 의해 결정되어야 하고, 본 명세서의 등가적 범위 내에서의 모든 변경은 본 명세 서의 범위에 포함된다.도면 도면1 도면2 도면3 도면4a 도면4b 도면5a 도면5b 도면5c 도면6 도면7 도면8 도면9 도면10 도면11a 도면11b 도면12 도면13 도면14"}
{"patent_id": "10-2024-7043286", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 명세서에 따른 영상 투사 장치를 설명하기 위한 블록도이다. 도 2는 본 발명의 일 실시예에 따른 프로젝터를 도시한 사시도이다. 도 3은 본 명세서서의 실시예에 따른 프로젝터의 광학계를 도시한 도면이다. 도 4a는 본 명세서에 따른 투사 영상에 대한 캘리브레이션을 수행하는 영상 투사 장치와 이를 포함하는 영상 투 사 시스템의 블록도를 나타낸다. 도 4b는 도 4a의 영상 투사 장치의 프로세서의 상세 구성을 나타낸다. 도 5a는 본 명세서에 따른 측정 거리 기반 선예도 측정 방법의 흐름도를 나타낸다. 도 5b는 일 실시 예에 따른 필터링 기반 에지 성분 검출을 통한 선예도 측정 방법의 개념도를 나타낸다. 도 5c는 본 명세서에 따른 선예도 성분 추출을 위해 여러 방향으로 에지 성분을 포함하는 패턴을 나타낸다. 도 6은 본 명세서에 따른 영상 투사 장치에서 수행되는 패턴 영상의 크기 및 위치 조정 방법의 흐름도를 나타낸 다. 도 7는 본 명세서에 따른 영상 투사 장치를 통해 형성된 패턴 영상이 스크린 상에 투사된 투사 영상으로 표시된개념도를 나타낸다. 도 8은 본 명세서에 따른 영상 투사 장치와 관련하여 소스 영상 프레임 및 투사 영상 프레임 간 변환 관계를 나 타낸 것이다. 도 9는 본 명세서에 따른 영상 투사 장치의 키스톤 보정 방법의 흐름도를 나타낸다. 도 10은 본 명세서에 따른 프로젝터-카메라 캘리브레이션과 관련하여 매핑 파라미터를 결정하는 구조와 이와 관 련된 예시의 패턴 영상을 나타낸다. 도 11a는 본 명세서에 따른 영상 투사 장치에서 스크린 영역 검출 알고리즘을 수행하는 구성도를 나타낸다. 도 11b는 도 11a의 디코더 출력과 연관된 정보와 스크린 검출 결과를 나타낸 것이다. 도 12는 본 명세서에 따른 스크린에 표시되는 패턴 영상을 통해 스크린 영역을 검출하는 구성을 나타낸다. 도 13은 본 명세서에 따른 스크린을 사용하는 않은 영상 투사 장치에서 마커들을 검출하는 구성을 나타낸다. 도 14는 본 명세서에 따른 패턴 영상이 출력되도록 제어하는 영상 투사 제어 방법의 흐름도를 나타낸다."}
