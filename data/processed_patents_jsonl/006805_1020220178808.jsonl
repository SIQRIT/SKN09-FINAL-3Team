{"patent_id": "10-2022-0178808", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0096290", "출원번호": "10-2022-0178808", "발명의 명칭": "현물 이미지에 대한 트리플렛 학습 기반의 디자인 이미지 쿼리 검색 방법", "출원인": "(주)비타소프트", "발명자": "홍순기"}}
{"patent_id": "10-2022-0178808", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "앵커샘플, 포지티스 샘플 및 네거티브 샘플로 구성된 트리플렛 형식의 학습 데이터 셋을 기준으로 앵커 샘플과유사한 관계의 포지티브 샘플과, 상기 앵커 샘플과 유사하지 않은 관계의 포지티스 샘플 사이의 거리를 기준으로 트리플랫 손실함수를 최소화 하도록 파라미터를 조정하는 학습 단계를 통해 이미지 유사성을 학습하고, 이학습 결과에 따라 쿼리 이미지와 유사한 디자인 이미지를 검색하는 디자인 이미지 쿼리 검색 방법에 있어서,특정 출원 번호 디자인 권리에 따라 만들어진 현물 이미지에 대해서, 다양한 뷰포인트에서 촬영하여 얻은 이미지 셋을 제 1 클러스터로 설정하고, 다수의 물품에 대해서 상기 제1 클러스터와 동일한 방법으로 클러스터를 반복 생성하는 단계와,상기 제1 클러스터의 물품에 대해 분류 지정된 디자인 물품 분류 기준에서 중분류는 동일하되 세분류는 구별되는 또 다른 물품에 대해서 만들어진 클러스터를 제 2 클러스터로 설정하는 단계와, 상기 제1 클러스터에서 하나의 이미지를 선택하여 앵커 샘플로 선정하면, 동일 클러스터 내의 다른 이미지를 포지티브 샘플로 설정하고, 상기 제 2 클러스터의 이미지는 네거티브 샘플로 설정하는 단계를 포함하도록 이미지유사성 학습을 수행하는 것을 특징으로 하는 디자인 이미지 쿼리 검색 방법"}
{"patent_id": "10-2022-0178808", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 제 1 클러스터를 생성하는 단계는 사진 이미지 이외에 출원 도면 중에 적어도 하나의 대표 도면을 추가로포함하는 것을 특징으로 하는 디자인 이미지 쿼리 검색 방법"}
{"patent_id": "10-2022-0178808", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 제 1 클러스터를 생성하는 단계에서 추가로 포함하는 대표 도면 이외에, 상기 대표 도면으로부터 드로잉구획면에 질감을 부여한 증강 도면을 적어도 하나 이상 추가 포함하는 것을 특징으로 하는 디자인 이미지 쿼리검색 방법."}
{"patent_id": "10-2022-0178808", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항 내지 제3항 중 어느 한 항에 있어서,상기 제 1 클러스터를 생성하는 단계에서 추가로 포함하는 대표 도면 이외에, 상기 사진 이미지의 물품 경계면에 채색을 제거하여 드로잉 효과를 강조한 증강 도면을 적어도 하나 이상 추가 포함하는 것을 특징으로 하는 디자인 이미지 쿼리 검색 방법."}
{"patent_id": "10-2022-0178808", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "전술한 과제를 해결하기 위한 것으로서 본 발명에 따르면, 앵커샘플, 포지티스 샘플 및 네거티브 샘플로 구성된 트리플렛 형식의 학습 데이터 셋을 기준으로 앵커 샘플과 유사한 관계의 포지티브 샘플과, 상기 앵커 샘플과 유 사하지 않은 관계의 포지티스 샘플 사이의 거리를 기준으로 트리플랫 손실함수를 최소화 하도록 파라미터를 조정 (뒷면에 계속)"}
{"patent_id": "10-2022-0178808", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 딥러닝 기반의 이미지 검색 기술에 대한 것으로서, 특히, 딥러닝 기술을 기반으로 디자인 등록 출원 도면(이미지)을 검색하기 위한 것이다."}
{"patent_id": "10-2022-0178808", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "디자인보호법상 디자인은 “물품 (물품의 부분 및 글자체를 포함)의 형상·모양·색채 또는 이들을 결합한 것으 로서 시각을 통하여 미감을 일으키게 하는 것”이라고 한다. 디자인 창작자 또는 출원인은 디자인 등록을 얻기 위해 디자인 등록 출원 절차를 거쳐야 하는데, 그 과정에서, 출원인(창작자)은 권리를 얻고자 하는 물품의 형상, 모양, 색체 또는 이들의 결합으로 이루어진 디자인을 도면이라는 수단을 통해 특정히여 제출한다. 이때, 작성하는 도면의 형식과 수량은 한정되어 있지 않지만, 일반 디자인의 경우, 정육면도를 기반으로 대표 도면으로 사시도를 추가하여 7개 정도의 도면을 출원한다. 벽지나 옷감 같은 평면 디자인의 경우에는 1개인 경 우도 있고, 필요에 따라 사용 상태도나 해체 분리도면 등이 추가되기도 하고, 전체 이미지가 아닌 일부분을 확 대 하는 등의 방법을 사용하기도 한다. 또한, 도면의 형식은 손으로 드로잉한 것에서부터, 실물 사진을 찍어서 제출하기도 하고, 3D모델로 디자인한 후, 표면을 랜더링한 후 캡처해서 제출하기도 하고, 3D 파일을 그대로 제출하기도 한다. 도 1에 도시한 것은 ‘ 사무용의자’를 키워드로 2020년~2022년에 출원된 것을 도시한 것인데, 3D 형식의 모델에서 캡처한 것과 드로잉 으로 그린 것이 혼재하고 있음을 확인할 수 있다. 이렇게 출원된 디자인 도면들은 권리를 얻고자 할 때는 권리를 얻고자 하는 디자인 범위를 결정하는 중요 근거 이므로, 이 디자인과 유사한 선출원이 있는가를 찾는 쿼리(query) 이미지가 되기도 하지만, 다른 디자인 출원 (후출원)에 대해서 권리를 주어야 할지 심사할 때는 심사를 위한 인용 참증 자료가 되므로 검색의 대상이 되기 도 한다. 어느 경우에나 쿼리 이미지를 기준으로 검색 대상 범위의 이미지들 중에 유사한 이미지가 어떤 것인지를 찾는 과정은 쉬운 일이 아니다. 딥러닝 기술에 기반한 이미지 검색 기술에 따르면, 특정 이미지를 쿼리로 그 이미지와 유사한 다른 이미지 들을 찾는 기술들이 많이 알려져 있다. ‘구글 렌즈’ 서비스, ‘네이버 렌즈’ 서비스 는 대표적인 이미지 검색 기 술이다. 이 서비스를 이용하면, 모델명이 없이도 이미지 하나만으로 해당 상품을 구매하기 위한 쇼핑몰 URL을 찾아 낼 수 있다. 그러나, 이러한 포털에서의 이미지 검색 엔진은 주로는 상품을 검색하는 것에 특화되어 있으며, 사진 이미지로 드로잉 이미지를 찾는 것에서는 부족함이 많다. 이는 사진 이미지에서 추출한 특징벡터와 드로인 이미지에서 추 출한 특징벡터가 너무 많이 달라서 이미지 사이의 동질성을 인식하기 어렵기 때문이다. 한편, 기존에는 이미지 사이의 유사성을 학습 시키기 위해 트리플렛 방식을 많이 사용하고 있다. 그러나, 통산 은 다수의 클러스터로 구분하고, 자신이 속한 클러스터와는 포지티브 샘플을 구성하고, 다른 클러스터와는 네거 티브 샘플을 구성해서 유사성을 학습 시킨다. 그러나, 일반적인 물품으로 가면 트리플렛을 구성하는데 너무 많 은 노력이 들고, 기존에 잘 분류된 것을 따르다 보면, 네거티브로 설정해야 할 것이 너무 많아서, 학습량을 대 량으로 만들고 그 때문에 학습에 큰 부담이 있는 반면 효율은 낮다는 문제가 있다."}
{"patent_id": "10-2022-0178808", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 전술한 문제를 해결하기 위한 것으로서, 트리플렛의 구성이 쉽고 간단하며, 너무 많은 연산량을 동원 하지 않더라도 충분한 효과가 발생할 수 있는 방법을 제안하는 것이다. 또하나의 목적으노 드로잉 이미지와 현 물 이미지 사이의 특징적 차이를 부각시키지 않고 동일 물품에 대한 공통 특징을 잘 학습할 수 있돌고 하는 방 법을 제시하는 것이다."}
{"patent_id": "10-2022-0178808", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "전술한 과제를 해결하기 위한 것으로서 본 발명에 따르면, 앵커샘플, 포지티스 샘플 및 네거티브 샘플로 구성된 트리플렛 형식의 학습 데이터 셋을 기준으로 앵커 샘플과 유사한 관계의 포지티브 샘플과, 상기 앵커 샘플과 유 사하지 않은 관계의 포지티스 샘플 사이의 거리를 기준으로 트리플랫 손실함수를 최소화 하도록 파라미터를 조 정하는 학습 단계를 통해 이미지 유사성을 학습하고, 이 학습 결과에 따라 쿼리 이미지와 유사한 디자인 이미지를 검색하는 디자인 이미지 쿼리 검색 방법에 있어서, 특정 출원 번호 디자인 권리에 따라 만들어진 현물 이미 지에 대해서, 다양한 뷰포인트에서 촬영하여 얻은 이미지 셋을 제 1 클러스터로 설정하고, 다수의 물품에 대해 서 상기 제1 클러스터와 동일한 방법으로 클러스터를 반복 생성하는 단계와, 상기 제1 클러스터의 물품에 대해 분류 지정된 디자인 물품 분류 기준에서 중분류는 동일하되 세분류는 구별되는 또 다른 물품에 대해서 만들어진 클러스터를 제 2 클러스터로 설정하는 단계와, 상기 제1 클러스터에서 하나의 이미지를 선택하여 앵커 샘플로 선정하면, 동일 클러스터 내의 다른 이미지를 포지티브 샘플로 설정하고, 상기 제 2 클러스터의 이미지는 네거 티브 샘플로 설정하는 단계를 포함하도록 이미지 유사성 학습을 수행하는 것을 특징으로 하는 디자인 이미지 쿼 리 검색 방법을 제공한다. 또한, 본 발명에 따르면, 상기 제 1 클러스터를 생성하는 단계는 사진 이미지 이외에 출원 도면 중에 적어도 하 나의 대표 도면을 추가로 포함하도록 하거나, 상기 제 1 클러스터를 생성하는 단계에서 추가로 포함하는 대표 도면 이외에, 상기 대표 도면으로부터 드로잉 구획면에 질감을 부여한 증강 도면을 적어도 하나 이상 추가 포함 하도록 하거나, 상기 제 1 클러스터를 생성하는 단계에서 추가로 포함하는 대표 도면 이외에, 상기 사진 이미지 의 물품 경계면에 채색을 제거하여 드로잉 효과를 강조한 증강 도면을 적어도 하나 이상 추가 포함하는 것을 특 징으로 하는 디자인 이미지 쿼리 검색 방법을 제공한다."}
{"patent_id": "10-2022-0178808", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "이러한 방법을 제공함으로써, 디자인 물품별로 소량의 현물 이미지를 추가로 수집하고, 이를 기준으로 클러스터 의 특징을 강화시키며, 동시에, 기존에 분류된 디자인 물품 분류 결과를 최대한 활용하여, 큰 특징은 같지만(예, 시무용 의자), 세부 적으로는 다른 특징(예, 회전 바퀴)을 가진 물품을 식별하는 능력이 높아지도록 디자인 이미지 검색 성능을 개선할 수 있게 되었다. 또한, 디자인 물품에 대해 사진과 드로잉 이미지 사이의 특징이 구분되지만, 그 사이에서 공통 특징을 보다 쉽 게 찾아낼 수 있도록 학습 데이터를 증강 할 수 있게 되었다."}
{"patent_id": "10-2022-0178808", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하 도면을 참고하면서 상세한 설명을 하도록 한다. 도 1은 디자인 출원 검색을 위해 KIPRIS에서 최근 2년간(2020년 1월~2022년 12월) ‘사무용 의자’를 키워드로 검색한 결과이다. 도면에서 보면 모두 사무용 의자인데, 로카르노 분류는 모두 06-01이고 물품 형상을 중심으로 분류한 한국형 분류코드는 D214AA와 D214AC로 구분된 것을 확인할 수 있다. 각각은 의자 다리가 다른 것을 알 수 있다. 각각 4개 다리 의자와 회전 바퀴 다리 의자인 것을 짐작할 수 있다. 두 개의 물품 구분을 특징 짓는 것은 의자의 다리인 것이다. 최근 한국형 분류 체계가 전면 적용되었으므로, 상세한 것은 디자인 분류(신분류) 체계를 확인하면 상세한 정보를 확인할 수 있다. 도 2는 기존에 알려진 트리플렛 기반 이미지분류 학습의 원리를 설명하기 위한 도면이다. 이 도면은 facenet에 서 공개한 논문 “FaceNet: A Unified Embedding for Face Recognition and Clustering”에 실린 그림이다. 도 면의 왼쪽처럼 앵커, 네거티브, 포지티브로 구성된 트리플렛을 설정하여, 학습을 진행하면, 그 결과 앵커를 기 준으로 포지티브와의 거리는 최소가 되고, 네거티브와의 거리는 최대가 되도록 학습한다. 이때, 사용하는 손실 함수는 다음과 같으며, 트리플렛 손실함수라고 한다. 도 3은 국내 어느 기업이 출원한 ‘면도기’ 디자인 도면을 모은 것인데, 첫 번째 도면(사시도)이 대표도면이고 나머지 6개 도면은 정면도, 좌우측면도, 평면도 및 배면도이다. 6개 방위에서 본 외관을 모두 도시하였으므로, 물품의 외관에서의 척도를 명확히 할 수 있지만, 물품의 형상은 대표도면인 사시도를 통해 쉽게 판단할 수 있다. 도 4는 위 면도기에 대해서 현물을 찾아 여러 뷰포인트(View Point)에서 촬영한 이미지를 모은 것이다. 물품의 특징을 잘 이해할 수 있는 방향을 잡아서 찍다보면, 도면에서와 같은 정면도, 측면도, 배면도, 평면도 등은 일 부러 찍지 않는 이상 촬영하지 않게 된다. 도 5는 현실에서 구한 현물 이미지로 이 현물 이미지에 부여된 권리가 어떤 것인지 확인하기 위한 검색 예시이 다. 목표는 상단의 검색 case 1과 같이, 권리를 찾는 것인데, 권리 관계로 공시한 것이 디자인 도면이고 디자인 도면은 드로잉 이미지라서, 현물 사진으로 특성이 다른 디자인 도면을 찾기는 어렵다. 본 발명에서는 이러한 어려움을 줄이는 것이 목표인데, 이를 위해, 현물 이미지를 다량 확보하고, 현물 이미지 를 검색해 찾은 후에 그 현물 이미지에 인덱스된 특허 출원번호를 기준으로 디자인 도면을 찾아 제시하는 방법 이다. 현물 이미지로는 현물 이미지를 찾는 것이 쉽기 때문에 우회 하더라도 길을 찾는 것이다. 그러나, 이러한 방법은 본질적인 문제가 있다. 디자인 등록 출원을 할 때 실물 이미지를 올리지 않고, 스케치한 드로잉 이미지를 올린다는 것이다. 디자인 등록 출원 시점에는 현물 이미지가 만들어지지 않았기 때문이기도 하 다. 본 발명에서의 첫 번째 중요한 장면은, 현물 이미지와 대표 도면을 묶어서 하나의 클러스터를 생성하고, 이 클 러스터의 물건은 하나의 물건의 다른 모습이라는 것을 배우도록 하는 것이다. 이를 위해 우리는 트리플렛 학습 방법을 사용하였다. 트리플렛 학습에서 중요한 것은 포지티브 샘플과 네거티브 샘플을 어떻게 설정하는 가가 중요하다. 보통 포지티브는 동일 특징을 가진 그룹으로 설정하기 때문에, 오히려 중요한 것은 네거티브 샘플을 어떻게 설정하는 가이다. 도 6은 디자인 물품 분류 기준 중에서 형태 분류 기준(한국 신분류)에서 의자를 예로 들어 설명하기 위한 도면 이다. 도면에서처럼, 의자의 많은 형태 중에 등받이 의자(D 214)만을 보면, 크게는 A,B,C,D,E 등록 구분되며, 각각 다리 4개형, 변형 다리형, 회전형, 1인 소파형, 장의자형으로 구분되고, 이들 이외에도 등받이 형태로 분 류된다. 이러한 분류 기준을 참고해서, 네거티브 샘플을 구성하는 것은 세분류 기준인 D214A와 D214B, D214C, D214E, D214F 등의 각각이다. 구체적으로 예를 들면, D214A의 다리 4개 의자에서 하나의 앵커(Anchor) 샘플을 선정하였다면, ‘다리 4개’ 의 자 (D214A) 클래스의 다른 샘플들은 중립상태로 두고, 같은 등록번호를 가진 물품의 현물 이미지는 포지티브 (Positive) 샘플로 설정하고, 중분류는 등받이 의자이지만, 세분류는 구별되는 ‘회전형’ 의자 (D214C)로 분류 되는 클래스의 모든 현물 이미지를 네거티브(Negative) 샘플로 설정하면 되는 것이다. 이상과 같이 하면, 충분히 가까운 것(positive)과 적절히 먼 것(Nagative)의 특징이 어떻게 구분되는지를 학습 하게 되고, 세밀한 특징 분류 성능을 개선할 수 있다. 이상과 같은 실시예에서는 디자인 물품의 현물 이미지에 대한 사진만으로 트리플렛 학습을 수행하는 방법을 구 성하였지만, 새로 출원한 물품을 중심으로 현물 이미지가 없는 경우가 많으므로, 디자인 물품의 현물 이미지가 없는 경우를 고려해야 한다. 따라서, 출원 도면인 드로잉 이미지를 직접 찾기 위해서는 학습 대상에 포함시켜야 한다. 그런데, 학습할 때 문제는 좌우측면도, 정면도, 배면도, 평면도 등이 현실적이지 않다는 것에 있다. 많은 경우 에 사시도를 대표도면으로 하는 경우가 이 사시도가 없으면 물품의 형상이나 모양을 확인하기 어려운 경우가 많 다. 이런 점을 고려해서, 학습을 할 때는 사시도로 충분하고 따라서, 학습데이터에는 현물 이미지 이외에 사시 도 대표 도면을 포함시키는 것이 좋다.특히 이 경우에, 드로잉 이미지와 현물 이미지의 특징점이 너무 많이다르기 때문에 이를 중재하기 위해 드로잉 이미지와 현물 이미지 사이에서 양쪽과 공통점을 가진 이미지를 생성하는 것이 좋다. 이는 현물 사진과 드로잉 에서 각각 출발할 수 있으며, 신경망의 학습이 충분해 질 수 있을 정도로 많이 만들어 줄 수로 좋은 효과를 기 대할 수 있다. 도 7운 앞서 설명한 면도기에 대한 드로잉 이미지와 사진 이미지 양쪽의 특징을 가진 도면을 만들어 함께 묶어 학습 데이터 클러스터로 만들어 학습시키는 것이다. 이상과 같이 함으로써, 소량의 현물 이미지를 추가로 수집하고, 이를 기준으로 클러스터의 특징을 강화시키는 동시에 기존에 분류된 디자인 물품 분류 결과를 최대한 활용하여 큰 특징은 같지만 세부적인 특징이 다른 물품 을 식별하는 능력을 높이고 결과적으로 검색의 성능을 높일 수 있게 되었다. 또한, 포지티브 샘플은 동일 출원 번호의 물품에서만 실행하고, 중분류가 같고 소분류는 다른 물품 사이에서만 네거티브 샘플을 구성하므로 너무 많은 연산량 때문에 트리플렛 학습이 어려워 지는 문제도 해결할 수 있게 되 었다."}
{"patent_id": "10-2022-0178808", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 최근 2년간의 사무용 의자 출원 결과를 검색하여 대표도면 만을 조회한 화면, 도 2는 기존의 트리플렛에 따른 이미지 분류 효과를 설명하기 위한 설명과 손실함수(L) 도 3은 국내 어느 기업이 출원한 ‘면도기’ 디자인 도면, 도 4는 도3의 물품에 대해서 실제 유통중인 현물 이미지를 여러 각도에서 촬영한 도면, 도 5은 검색 쿼리를 넣고 디자인 물품을 찾고자 할 때 접근법을 설명하기 위한 도면, 도 6은 트리플렛 학습을 할 때, 디자인 물품의 형태 분류 기준을 적용하여 네거티브 샘플을 설정하는 것을 설 명하기 위한 도면, 그리고 도 7은 현물 이미지와 도면 이미지 사이에서 양쪽 모두와 유사한 특징을 공유하는 상태를 설명하기 위한 도면이 다."}
