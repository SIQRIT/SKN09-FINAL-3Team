{"patent_id": "10-2022-0092134", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0014684", "출원번호": "10-2022-0092134", "발명의 명칭": "객체 동선 추적 장치 및 그 방법", "출원인": "(주)트리플렛", "발명자": "신동화"}}
{"patent_id": "10-2022-0092134", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "출입구를 향해 마련되어 식별영역을 포함하는 제1 영상을 획득하는 제1 카메라와 천장에 마련되어 감지영역을포함하는 제2 영상을 획득하는 제2 카메라를 포함하는 카메라부;미리 마련된 인공지능을 이용하여 상기 제1 영상으로부터 객체정보를 식별하는 객체식별부;상기 제2 영상에 기초하여 상기 객체의 동선정보를 생성하는 동선추적부;를 포함하는 객체 동선 추적 장치."}
{"patent_id": "10-2022-0092134", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서, 상기 동선추적부는,상기 제1 영상에서 미리 설정된 후보영역에서 미리 설정된 식별영역으로 진입한 객체에 새로운 ID를 부여하고,상기 객체 인식부에 상기 ID가 부여된 객체정보의 식별을 요청하는 객체 동선 추적 장치."}
{"patent_id": "10-2022-0092134", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 동선추적부는,미리 설정된 주기마다 제2 영상에서 객체의 좌표와 특징백터를 추출하고, ID, 객체정보, 타임스탬프, 특징벡터및 좌표를 포함하는 동선정보를 생성하는 객체 동선 추적 장치."}
{"patent_id": "10-2022-0092134", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,상기 동선추적부는,제2 영상으로부터 객체에 대한 머리영역의 머리 중심점 및 몸 영역의 몸 중심점을 인식하고, 상기 머리 중심점이 상기 몸 중심점을 기준으로 대칭되는 곳을 발로 인식하여 상기 발에 대한 위치를 상기 좌표로 추출하는 객체동선 추적 장치."}
{"patent_id": "10-2022-0092134", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서,상기 동선추적부는,상기 제2 영상에서 객체가 사라지면, 사라진 객체의 동선정보를 보류정보로 관리하고, 제2 영상에서 신규 객체가 나타나면 상기 보류정보와 신규 객체를 매핑하는 객체 동선 추적 장치."}
{"patent_id": "10-2022-0092134", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5항에 있어서,공개특허 10-2024-0014684-3-상기 동선추적부는,신규 객체의 특징벡터와 보류정보의 특징벡터의 유사도에 기초하여 신규 객체와 매칭될 보류정보를 결정하는 객체 동선 추적 장치."}
{"patent_id": "10-2022-0092134", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제5항에 있어서,상기 동선추적부는,신규 객체의 타임스탬프와 보류정보의 타임스탬프와의 차이 값을 기초하여 신규 객체와 매칭될 보류정보를 결정하는 객체 동선 추적 장치."}
{"patent_id": "10-2022-0092134", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제5항에 있어서,상기 동선추적부는,신규 객체의 좌표 정보와 보류정보의 좌표 정보를 기초하여 신규 객체와 매칭될 보류정보를 결정하는 객체 동선추적 장치."}
{"patent_id": "10-2022-0092134", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "객체 동선 추적 장치를 이용하여 수행하는 객체 동선 추적 방법에 있어서, 출입구를 향해 마련된 제1 카메라를 이용하여 식별영역을 포함하는 제1 영상을 획득하는 단계;천장에 마련된 제2 카메라를 이용하여 감지영역을 포함하는 제2 영상을 획득하는 단계;미리 마련된 인공지능을 이용하여 상기 제1 영상으로부터 객체정보를 식별하는 단계; 및상기 제2 영상에 기초하여 상기 객체의 동선정보를 생성하는 단계;를 포함하며,상기 제1 영상으로부터 객체정보를 식별하는 단계는, 상기 제1 영상에서 미리 설정된 후보영역에서 미리 설정된 식별영역으로 진입한 객체에 새로운 ID를 부여하고,상기 객체 인식부에 상기 ID가 부여된 객체정보의 식별을 요청하는 객체 동선 추적 방법."}
{"patent_id": "10-2022-0092134", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서,상기 객체의 동선정보를 생성하는 단계는, 미리 설정된 주기마다 제2 영상에서 객체의 좌표와 특징백터를 추출하고, ID, 객체정보, 타임스탬프, 특징벡터및 좌표를 포함하는 동선정보를 생성하되, 제2 영상으로부터 객체에 대한 머리영역의 머리 중심점 및 몸 영역의 몸 중심점을 인식하고, 상기 머리 중심점이 상기 몸 중심점을 기준으로 대칭되는 곳을 발로 인식하여 상기 발에 대한 위치를 상기 좌표로 추출하는 객체동선 추적 방법."}
{"patent_id": "10-2022-0092134", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제9항에 있어서,공개특허 10-2024-0014684-4-상기 제2 영상에서 객체가 사라지면, 사라진 객체의 동선정보를 보류정보로 관리하고, 제2 영상에서 신규 객체가 나타나면 상기 보류정보와 신규 객체를 매핑하는 단계를 더 포함하는 객체 동선 추적 방법."}
{"patent_id": "10-2022-0092134", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명의 일 기술적 측면에 따른 객체 동선 추적 장치는 출입구를 향해 마련되어 식별영역을 포함하는 제1 영상 을 획득하는 제1 카메라와 천장에 마련되어 감지영역을 포함하는 제2 영상을 획득하는 제2 카메라를 포함하는 카 메라부, 미리 마련된 인공지능을 이용하여 상기 제1 영상으로부터 객체정보를 식별하는 객체식별부, 상기 제2 영 상에 기초하여 상기 객체의 동선정보를 생성하는 동선추적부를 포함할 수 있다. 본 발명의 일 실시형태에 따르면, 객체의 동선정보를 생성하여 객체가 제2 영상에서 사라지거나 나타난 경우에서의 객체의 동선정보와 보 류정보를 비교함으로써, 객체의 동선을 추적할 수 있다."}
{"patent_id": "10-2022-0092134", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 객체 동선 추적 장치 및 그 방법에 대한 것이다."}
{"patent_id": "10-2022-0092134", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "일반적으로, 온라인 매장은 고객의 유입부터 재구매까지 이루어지는 전 과정에 대한 데이터를 수집하여 마케팅 을 위한 전략 수립 및 성과 분석이 가능한 반면, 오프라인 매장은 결제기록 이외의 데이터를 수동으로 수집해야 하므로, 고객이 매장 내에서 어떤 방식으로 쇼핑을 하는지에 대해서는 알 수 없다. 예를 들면, 고객별 매대별 체류시간, 관심매대, 관심상품 도출, 관련상품 정보 등을 포함하는 매장 내에서 고객 들의 행동, 이동경로에 따른 제품의 구매 상황 정보는 매장 내에서 돌아다니는 고객의 동선을 통해 알 수 있는 데, 매장 내에서의 고객의 동선은 따로 데이터로 저장하거나 분석하지 않아 매장 운영 효율성을 도모하지 못하 고 있다. 이러한 문제로 인해, 매장에 동선 추적 시스템을 도입한 매장이 늘고 있으나, 다양한 각도 및 방향에 따라 설치 되는 다수의 카메라를 이용하는 동선 추적 시스템은 실제 모니터에 나타나는 영상과 카메라로부터 촬영되지 않 은 영역 사이의 관계를 파악하기 어려운 문제점이 있다. 즉, 각각의 카메라로부터 획득된 영상을 통해 전체적인 영역을 모니터링해야 하는데, 모니터에 출력되는 영상만 을 이용하여 객체의 동선을 파악하는 것은 쉽지 않으며, 전체 영역에 대한 이미지를 쉽게 확인할 수 없으므로, 객체를 지속적으로 모니터링하는데 어려움이 있다. 선행기술문헌 특허문헌 (특허문헌 0001) 대한민국 공개특허공보 특2001-0016639호"}
{"patent_id": "10-2022-0092134", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 출입구에 대한 제1 영상을 이용하여 객체를 인식하고, 감지영역에 대한 제2 영상을 이용하여 객체의 동선을 추적하는 객체 동선 추적 장치 및 그 방법을 제공하고자 한다."}
{"patent_id": "10-2022-0092134", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 일 기술적 측면은 출입구를 향해 마련되어 식별영역을 포함하는 제1 영상을 획득하는 제1 카메라와 천장에 마련되어 감지영역을 포함하는 제2 영상을 획득하는 제2 카메라를 포함하는 카메라부, 미리 마련된 인공 지능을 이용하여 상기 제1 영상으로부터 객체정보를 식별하는 객체식별부, 상기 제2 영상에 기초하여 상기 객체 의 동선정보를 생성하는 동선추적부를 포함한다. 일 실시예에서, 상기 동선추적부는, 상기 제1 영상에서 미리 설정된 후보영역에서 미리 설정된 식별영역으로 진 입한 객체에 새로운 ID를 부여하고, 상기 객체 인식부에 상기 ID가 부여된 객체정보의 식별을 요청할 수 있다. 일 실시예에서, 상기 동선추적부는, 미리 설정된 주기마다 제2 영상에서 객체의 좌표와 특징벡터를 추출하고, ID, 객체정보, 타임스탬프, 특징벡터 및 좌표를 포함하는 동선정보를 생성할 수 있다. 일 실시예에서, 상기 동선추적부는, 제2 영상으로부터 객체에 대한 머리영역의 머리 중심점 및 몸 영역의 몸 중 심점을 인식하고, 상기 머리 중심점이 상기 몸 중심점을 기준으로 대칭되는 곳을 발로 인식하여 상기 발에 대한 위치를 상기 좌표로 추출할 수 있다. 일 실시예에서, 상기 동선추적부는, 상기 제2 영상에서 객체가 사라지면, 사라진 객체의 동선정보를 보류정보로 관리하고, 상기 제2 영상에서 신규 객체가 나타나면 상기 보류정보와 신규 객체를 매핑할 수 있다. 일 실시예에서, 상기 동선추적부는, 신규 객체의 특징벡터와 보류정보의 특징벡터의 유사도에 기초하여 신규 객 체와 매칭될 보류정보를 결정할 수 있다. 일 실시예에서, 상기 동선추적부는, 신규 객체의 타임스탬프와 보류정보의 타임스탬프와의 차이 값을 기초하여 신규 객체와 매칭될 보류정보를 결정할 수 있다. 일 실시예에서, 상기 동선추적부는, 신규 객체의 좌표 정보와 보류정보의 좌표 정보를 기초하여 신규 객체와 매 칭될 보류정보를 결정할 수 있다. 본 발명의 다른 기술적 측면은 객체 동선 추적 장치를 이용하여 수행하는 객체 동선 추적 방법에 있어서, 출입 구를 향해 마련된 제1 카메라를 이용하여 식별영역을 포함하는 제1 영상을 획득하는 단계, 천장에 마련된 제2 카메라를 이용하여 감지영역을 포함하는 제2 영상을 획득하는 단계, 미리 마련된 인공지능을 이용하여 상기 제1 영상으로부터 객체정보를 식별하는 단계 및 상기 제2 영상에 기초하여 상기 객체의 동선정보를 생성하는 단계를 포함하며, 상기 제1 영상으로부터 객체정보를 식별하는 단계는, 상기 제1 영상에서 미리 설정된 후보영역에서 미리 설정된 식별영역으로 진입한 객체에 새로운 ID를 부여하고, 상기 객체 인식부에 상기 ID가 부여된 객체정 보의 식별을 요청한다. 일 실시예에서, 상기 객체의 동선정보를 생성하는 단계는, 미리 설정된 주기마다 제2 영상에서 객체의 좌표와 특징백터를 추출하고, ID, 객체정보, 타임스탬프, 특징벡터 및 좌표를 포함하는 동선정보를 생성하되, 제2 영상 으로부터 객체에 대한 머리영역의 중심점 및 몸 영역의 중심점을 인식하고, 머리영역의 중심점이 몸 영역의 중 심점을 기준으로 대칭되는 곳을 발로 인식하여 상기 발에 대한 위치를 상기 좌표로 추출할 수 있다. 일 실시예에서, 상기 제2 영상에서 객체가 사라지면, 사라진 객체의 동선정보를 보류정보로 관리하고, 제2 영상 에서 신규 객체가 나타나면 상기 보류정보와 신규 객체를 매핑하는 단계를 더 포함할 수 있다."}
{"patent_id": "10-2022-0092134", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 일 실시형태에 따르면, 객체의 동선정보를 생성하여 객체가 제2 영상에서 사라지거나 나타난 경우에 서의 객체의 동선정보와 보류정보를 비교함으로써, 객체의 동선을 추적할 수 있다. 나아가, 객체 동선 추적을 통해 고객 유입율을 파악하고, 매장내 특정 매대 앞에 머무는 고객의 행동을 분석할 수 있다."}
{"patent_id": "10-2022-0092134", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명의 이점 및 특징, 그리고 그것들을 달성하는 방법은 첨부되는 도면과 함께 후술되어 있는 실시예들을 참 조하면 명확해질 것이다. 그러나 본 발명은 이하에서 개시되는 실시예들에 한정되는 것이 아니라 서로 다른 다 양한 형태로 구현될 수 있으며, 단지 본 실시예들은 본 발명의 개시가 완전하도록 하고, 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에게 발명의 범주를 완전하게 알려주기 위해 제공되는 것이며, 본 발명은 청구 항의 범주에 의해 정의될 뿐이다. 본 명세서에서 사용되는 용어에 대해 간략히 설명하고, 본 발명에 대해 구체적으로 설명하기로 한다. 본 발명에서 사용되는 용어는 본 발명에서의 기능을 고려하면서 가능한 현재 널리 사용되는 일반적인 용어들을 선택하였으나, 이는 당 분야에 종사하는 기술자의 의도 또는 판례, 새로운 기술의 출현 등에 따라 달라질 수 있 다. 또한, 특정한 경우는 출원인이 임의로 선정한 용어도 있으며, 이 경우 해당되는 발명의 설명 부분에서 상 세히 그 의미를 기재할 것이다. 따라서 본 발명에서 사용되는 용어는 단순한 용어의 명칭이 아닌, 그 용어가 가 지는 의미와 본 발명의 전반에 걸친 내용을 토대로 정의되어야 한다. 명세서 전체에서 어떤 부분이 어떤 구성요소를 \"포함\"한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다른 구성요소를 제외하는 것이 아니라 다른 구성요소를 더 포함할 수 있음을 의미한다. 또한, 명세서에서 사용되는 \"부\", \"모듈\", \"유닛\" 등의 용어는 적어도 하나의 기능 또는 동작을 처리하는 단위를 의미하며, 소프트웨어, FPGA 또는 ASIC과 같은 하드웨어 구성요소, 또는 소프트웨어와 하드웨어의 결합으로 구현될 수 있다. 그렇지만 \"부\", \"모듈\", \"유닛\" 등의 용어가 소프트웨어 또는 하드웨어에 한정되는 의미는 아니다. \"부\", \"모듈\", \"유닛\" 등은 어드레싱할 수 있는 저장 매체에 있도록 구성될 수도 있고 하나 또는 그 이상의 프로세서들을 재생시키도 록 구성될 수도 있다. 따라서, 일 예로서 \"\"부\", \"모듈\", \"유닛\" 등의 용어는 소프트웨어 구성요소들, 객체지향 소프트웨어 구성요소들, 클래스 구성요소들 및 태스크 구성요소들과 같은 구성요소들과, 프로세스들, 함수들, 속성들, 프로시저들, 서브루틴들, 프로그램 코드의 세그먼트들, 드라이버들, 펌웨어, 마이크로 코드, 회로, 데 이터, 데이터베이스, 데이터 구조들, 테이블들, 어레이들 및 변수들을 포함한다. 아래에서는 첨부한 도면을 참고하여 본 발명의 실시예에 대하여 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자가 용이하게 실시할 수 있도록 상세히 설명한다. 그리고 도면에서 본 발명을 명확하게 설명하기 위해서 설명과 관계없는 부분은 생략한다. \"제1\", \"제2\" 등과 같이 서수를 포함하는 용어는 다양한 구성 요소들을 설명하는데 사용될 수 있지만, 구성 요 소들은 용어들에 의해 한정되지는 않는다. 용어들은 하나의 구성요소를 다른 구성요소로부터 구별하는 목적으로 만 사용된다. 예를 들어, 본 발명의 권리 범위를 벗어나지 않으면서 제1 구성요소는 제2 구성요소로 명명될 수 있고, 유사하게 제2 구성요소도 제1 구성요소로 명명될 수 있다. \"및/또는\" 이라는 용어는 복수의 관련된 항목 들의 조합 또는 복수의 관련된 항목들 중의 어느 하나의 항목을 포함한다. 이하에서는 도 1 내지 도 3을 참조하여 본 발명의 일 실시예에 따른 객체 동선 추적 장치에 대해서 설명하도록 한다. 도 1은 본 발명의 일 실시예에 따른 객체 동선 추적 시스템을 설명하기 위한 블록도이다. 도 1에서 도시한 바와 같이, 본 발명의 일 실시예에 따른 객체 동선 추적 시스템은 객체 동선 추적 장치 및 동선 추적 관리 서버를 포함한다. 객체 동선 추적 장치는 출입구를 향해 마련된 제1 카메라와 천장에 마련된 제2 카메라를 통해 객체정보와 동선정보를 생성하고, 객체의 동선정보를 동선 추적 관리 서버로 전송한다. 객체정보는 출입하는 객체를 구분하여 분석하기 위한 정보로 객체의 나이 및 성별을 포함할 수 있으며, 한정하 지 않는다. 동선정보는 객체의 식별정보와 객체의 이동에 대한 정보를 의미하는 것으로, 일 실시예에 따른 동선정보는 ID, 객체정보, 타임스탬프, 특징벡터 및 좌표를 포함할 수 있다. 동선 추적 관리 서버는 객체 동선 추적 장치로부터 전송받은 객체의 동선정보를 기초로 하여 객체의 동 선을 관리한다. 도 2는 도 1의 객체 동선 추적 장치를 설명하기 위한 블록도이다. 도 2에서 도시한 바와 같이, 객체 동선 추적 장치는 카메라부, 제어부, 저장부, 통신부 를 포함한다. 카메라부는 출입구를 향해 마련되어 객체를 식별하기 위한 제1 영상을 획득하는 제1 카메라(100a)와 천장 에 마련되어 감지영역을 포함하는 제2 영상을 획득하는 제2 카메라(100b)를 포함할 수 있다. 제1 카메라(100a)는 후보영역과 식별영역이 포함된 제1 영상을 획득하며, 제2 카메라(100b)는 객체의 동선을 추 적할 감지영역을 포함하는 제2 영상을 획득한다. 제1 카메라(100a)는 출입하는 객체의 정보를 추출하기 위해 객체의 얼굴이 촬영되도록 마련될 수 있고, 제2 카 메라(100b)는 출입한 객체의 동선을 추적하기 위해 객체의 이동이 전체적으로 촬영되도록 마련될 수 있다. 이하 도 3을 참조하여 본 발명의 일 실시예에 따른 객체 동선 추적 장치의 카메라부에 대하여 상세히 설명한다. 도 3은 객체 동선 추적 장치의 카메라부를 설명하기 위한 예시도이다. 도 3에서 도시한 바와 같이, 제1 카메라(100a)는 출입구에 진입하는 객체를 촬영하기 위해 출입구를 향해 촬영 되는 기기로 구현될 수 있다. 예를 들어, 제1 카메라(100a)는 돌출된 바 형태로 형성된 소형 및 경량의 카메라인 불렛(Bullet) 카메라와 방범 및 질서 유지를 위한 폐쇄회로텔레비전(Closed Circuit Television, CCTV) 등과 같은 형태로 다양하게 구현될 수 있으며, 공공시설, 지하철 역사, 매장, 학교 등과 같은 실내뿐만 아니라, 공원, 주택가 골목, 건물 외벽 등 실외에서도 사용 가능한 기기로 구현될 수 있다. 즉, 제1 카메라(100a)는 매장의 출입구 정면이 보이도록 설치될 수 있으며, 매장 입구 외측에 기 설정된 후보영 역(Candidate area, CA)과 매장 입구 내측에 기 설정된 식별영역(Identification area, IA)을 촬영할 수 있다. 본 발명의 일 실시예에서는 매장에 진입하는 객체를 기준으로 설명하였으며, 매장으로부터 퇴장하는 객체일 경 우, 후보영역은 매장 입구의 내측으로 설정하고, 식별영역은 매장 입구의 외측으로 설정될 수 있다. 본 발명의 일 실시예에서, 매장 입구 외측에 기 설정된 후보영역과 매장 입구 내측에 기 설정된 식별영역을 설 정함으로써, 객체 동선 추적 장치가 입구 주변에서 머물러 있는 방문객 및 직원을 매장에 입장하는 객체로 오인식하는 비율을 감소시킬 수 있다. 제2 카메라(100b)는 매장의 천장에 부착되어 감지영역을 전체적으로 촬영할 수 있는 기기로 구현될 수 있다. 예를 들어, 제2 카메라(100b)는 다수개의 카메라를 통해 3D 좌표를 생성하고 촬영 대상 객체의 3차원 좌표 데이 터를 획득할 수 있는 3D 카메라, 360° 회전이 가능한 360도 카메라, 객체를 감지할 수 있는 적외선 카메라 등 과 같은 형태로 다양하게 구현될 수 있다. 즉, 제2 카메라(100b)는 매장의 천장에 설치될 수 있으며, 객체의 동선을 추적하기 위한 매장 내의 공간인 감지 영역(Detection area, DA)을 촬영한다. 다시 도 2를 참조하면, 저장부는 객체 동선 추적 장치의 운영 프로그램, 객체 식별 프로그램, 영상처리 프 로그램 등과 같이 장치의 운영에 필요한 정보를 저장할 수 있으며, 제어부로부터 생성된 객체의 식별정보 및 동선정보를 저장할 수 있다. 저장부는 주기억장치 및 보조기억장치 중 적어도 하나를 포함할 수 있다. 주기억장치는 예를 들어, 롬 (ROM) 및/또는 램(RAM)과 같은 반도체 저장 매체를 이용하여 구현된 것일 수 있고, 보조기억장치는, 플래시 메 모리 장치(솔리드 스테이트 드라이브(SSD, Solid State Drive) 등), SD(Secure Digital) 카드, 하드 디스크 드 라이브(HDD, Hard Disc Drive), 콤팩트 디스크, 디브이디(DVD) 또는 레이저 디스크 등과 같이 데이터를 영구적 또는 반영구적으로 저장 가능한 장치를 기반으로 구현될 수 있다. 통신부는 저장된 객체의 동선정보를 객체 동선 관리 서버로 전송한다. 통신부는 유무선 통신망을 포함할 수 있고, 유선 통신망은 케이블망이나 공중 전화망(PSTN)과 같은 인터넷 망을 포함할 수 있으며, 무선 통신망은 CDMA, WCDMA, GSM, EPC(Evolved Packet Core), LTE(Long Term Evolution), 와이브로(Wibro) 망, 5G 통신망 등을 포함할 수 있다. 통신부는 이에 한정되는 것이 아니며, 향후 구현될 차세대 이동통신 시스템의 접속망으로서 가령 클라우드 컴퓨팅 환경하의 클라우드 컴퓨팅망, 5G망 등에 사용될 수 있고, 통신부가 유선 통신망인 경우 통신부 내의 액세스포인트는 전화국의 교환국 등에 접속할 수 있지만, 무선 통신망인 경우에는 통신사에서 운용 하는 SGSN 또는 GGSN(Gateway GPRS Support Node)에 접속하여 데이터를 처리하거나, BTS(Base Station Transmission), NodeB, e-NodeB 등의 다양한 중계기에 접속하여 데이터를 처리할 수 있다. 제어부는 제1 영상으로부터 객체정보를 식별하고, 제2 영상으로부터 객체의 동선정보를 생성할 수 있다. 일 실시예에서, 제어부는 중앙 처리 장치(CPU: Central Processing Unit), 그래픽 처리 장치(GPU: Graphic Processing Unit), 마이크로 컨트롤러 유닛(MCU: Micro Controller Unit), 애플리케이션 프로세서(AP: Application Processor), 전자 제어 유닛(ECU: Electronic Controlling Unit) 및/또는 이외 각종 연산 및 제어 처리를 수행할 수 있는 적어도 하나의 전자 장치 등을 포함할 수 있다. 이들 장치는, 예를 들어, 하나 또는 둘 이상의 반도체 칩, 회로 또는 관련 부품 등을 단독으로 이용하거나 조합하여 구현된 것일 수도 있다. 제어부는 제1 영상에서 객체의 출입을 검출하고, 제2 영상을 이용하여 객체의 이동을 추적하는 동선추적부 , 제1 영상으로부터 출입하는 객체에 대한 객체정보를 인식하는 객체식별부를 포함한다. 이하, 도 4 내지 도 5를 참조하여 본 발명의 일 실시예에 제어부의 객체 인식 방법에 대하여 설명한다. 도 4는 본 발명의 일 실시예에 따른 객체를 인식하는 과정을 설명하기 위한 순서도이고, 도 5는 객체 출입 감지 를 설명하기 위한 제1 영상의 예시도이다. 동선추적부는 제1 카메라에서 획득된 제1 영상에서 인식된 객체의 크기를 산출한다(S110). 이때, 객체의 크기는 객체의 얼굴에 대한 경계 박스의 크기를 의미할 수 있으며, 객체의 크기는 픽셀 단위로 나 타낼 수 있다. 동선추적부는 객체의 크기를 이용하여 제1 영상에서 객체가 기 설정된 후보영역에서 기 설정된 식별영역으 로 진입했는지 여부를 판별하고(S120), 후보영역에서 식별영역으로 진입한 것으로 판단되는 객체에 새로운 ID를 부여한다(S130). 식별영역(IA)의 진입 판단의 일 실시예로, 동선추적부는 객체의 크기에 기초하여 객체의 식별영역 진입을 판별할 수 있다. 동선추적부는 미리 설정된 기준 크기 미만인 객체를 후보영역에 위치한 것으로 판단하고, 미리 설정된 기 준 크기 이상인 객체를 식별영역에 위치한 것으로 판단할 수 있다. 일례로, 동선추적부는 제1 영상에서 900px 이하의 크기를 가지는 객체를 후보영역에 있는 것으로 판단하고, 900px을 초과하는 크기를 가지는 객체를 식별영역에 위치한 것으로 판단할 수 있다. 영상의 원근에 의하여 동일한 객체라도 제1 카메라와 더 가까운 식별 영역에 진입하면 후보영역보다 크기가 커 지게 된다. 동선추적부는 이와 같은 객체의 크기 변화에 기초하여 객체의 위치를 식별할 수 있다. 동선추적부는 제1 영상의 각 프레임마다 식별된 객체의 크기를 기준으로 객체의 위치를 판단하고, 후보영 역에서 식별영역으로 위치가 변경된 객체를 식별영역에 진입한 객체로 판단하여, 새로운 ID를 부여할 수 있다. 식별영역 진입의 일 실시예로, 도 5에서 도시한 바와 같이, 동선추적부는 제1 프레임(T1)에서 후보영역 (CA)에 위치한 객체인 '객체 1(Ob 1)' 및 '객체 2(Ob 2)'와 제2 프레임(T2)에서 식별영역(IA)에 위치한 객체가 '객체 1(Ob 1)' 및 객체 3(Ob 3)'에 대하여 후보영역(CA)에서 식별영역(IA)으로 진입했는지 여부를 판별한다. 식별영역(IA)의 진입의 일 실시예로, 동선추적부는 제1 영상을 기초로 하여 제1 프레임(T1)에서 '객체 1(Ob 1)'의 크기가 기 설정된 기준 크기보다 작고, 제2 프레임(T2)에서 '객체 1(Ob 1)'의 크기가 기 설정된 기 준 크기보다 크므로, 동선추적부는 '객체 1(Ob 1)'을 후보영역(CA)에서 식별영역(IA)으로 진입한 것으로 판단할 수 있다. 동선추적부는 '객체 1(Ob 1)'을 후보영역(CA)에서 식별영역(IA)으로 진입한 것으로 판단하였으므로, '객체 1(Ob 1)에 새로운 ID를 부여한다. 식별영역(IA)의 진입의 다른 실시예로, 제1 영상을 기초로 하여 제1 프레임(T1)에서 '객체 2(Ob 2)'의 크기가 기 설정된 기준 크기보다 작고, 제2 프레임(T2)에서도 '객체 2(Ob 2)'의 크기가 기 설정된 기준 크기보다 작으 므로, 동선추적부는 '객체 2(Ob 2)'를 후보영역(CA)에서 식별영역(IA)으로 진입하지 않은 것으로 판별한다. 식별영역(IA)의 진입의 또 다른 실시예로, 제1 영상을 기초로 하여 제1 프레임(T1)에서 '객체 3(Ob 3)'의 크기 가 기 설정된 기준 크기보다 크고, 제2 프레임(T2)에서도 '객체 3(Ob 3)'의 크기가 기 설정된 기준 크기보다 큰 것으로 식별되면, 동선추적부는 '객체 3(Ob 3)'을 입구 주변에 위치한 방문객 또는 직원으로 판별할 수 있 다. 즉, 동선추적부는 '객체 3(Ob 3)'을 입구 주변에 위치한 방문객 또는 직원으로 판별하므로, 새로운 ID를 부여하지 않는다. 즉, 동선추적부는 각 프레임에서 연속적으로 기 설정된 기준 크기보다 큰 것으로 식별된 경우에 해당 객체 를 진입한 객체로 판별하지 않고, 입구 주변에 돌아다니는 방문객 또는 직원으로 판별할 수 있다. 여기서, 동선추적부는 프레임의 연속성을 기준으로 설정하였으나, 이는 한정하지 않으며, 시간을 기준으로 설정될 수도 있다. 이와 같이, 후보영역과 식별영역을 설정함으로써, 동선추적부는 매장 입구 주변에서 머물러 있는 방문객 및 직원을 매장에 입장하는 객체로 오인식하는 비율을 감소시킬 수 있다. 새로운 ID가 부여되면, 동선추적부는 객체식별부에게 새로운 ID가 부여된 객체에 대한 객체정보의 인 식을 요청할 수 있다(S140). 복수의 객체에 대한 객체정보의 인식 요청이 있는 경우, 코드 핸들러는 객체를 식별하기 위해 객체식별부 에 전달하기 전, 새로운 ID를 리스트 형태의 대기열에 추가할 수 있다. 코드 핸들러는 새로운 ID를 선입선출 방식으로 저장하여 먼저 식별이 요청된 객체가 순차적으로 진행되도 록 한다. 그리고, 코드 핸들러는 객체식별부에 ID를 순서대로 전달하여 객체정보의 식별을 진행한다. 이와 같이, ID를 선입선출로 관리하는 코드 핸들러를 이용함으로써, 객체정보의 식별 처리의 병목으로 인해 새 로운 ID의 식별을 누락하는 것을 방지할 수 있다. 동선추적부로부터 인식을 요청받은 객체식별부는 미리 마련된 인공지능을 이용하여 제1 영상으로부터 객체정보를 식별하고, 객체정보를 동선추적부에 전달한다. 일 실시예에 따른, 객체식별부는 제1 영상으로부터 추출된 객체의 얼굴을 인공지능을 이용하여 객체의 나 이 및 성별을 식별할 수 있다. 객체식별부는 인공신경망, 머신러닝, 딥러닝을 기반으로 하는 얼굴 식별 알 고리즘, 얼굴 검출 알고리즘을 사용하여 객체의 얼굴로부터 객체의 나이 및 성별을 출력할 수 있다. 객체식별부는 제1 영상으로부터 추출된 객체의 얼굴을 얼굴 인식 알고리즘의 입력데이터로 설정하고, 객체 의 나이 및 성별을 얼굴 식별 알고리즘의 출력데이터로 설정하여 학습된 얼굴 식별 알고리즘을 사용할 수 있다. 객체식별부가 객체정보에 대한 식별을 완료하면, 코드 핸들러는 다음 순서의 ID를 객체식별부로 전달할 수 있다. 동선추적부는 제2 영상에 기초하여 객체의 동선을 추적한다(S150). 객체식별부에서 객체정보가 식별되지 않은 객체에 대해서는 동선 추적을 중단한다. 이와 같이 객체정보가 식별되지 않은 객체의 동선 추적을 포기함으로써, 신뢰도가 낮은 동선정보의 수집을 방지할 수 있다. 객체정보가 식별되면 동선추적부는 미리 설정된 주기마다 제2 영상을 분석하여 객체의 동선을 추적하여 동 선정보를 생성한다. 이하에서는 도 6 및 도 7를 참조하여 본 발명의 일 실시예에 따른 객체의 동선정보를 생성하는 방법에 대하여 설명한다. 도 6은 객체의 동선정보를 생성하는 과정을 설명하기 위한 순서도이고, 도 7a 및 도 7c는 발 위치에 대응하는 좌표를 추출하는 과정을 설명하기 위한 예시도이다. 도 6을 참조하면, 동선추적부는 제2 영상으로부터 객체를 식별한다(S210). 동선추적부는 종래 또는 기술의 발전으로 개발된 다양한 객체 인식 알고리즘을 이용하여 객체를 인식할 수 있다. 객체가 인식되면, 동선추적부는 도 7a와 도 7b에 도시된 것과 같이 제2 영상으로부터 객체의 머리 영역 (Head Box, HB)을 인식하여 머리 영역(HB)에 대한 머리 중심점(Head Point, HP)을 생성한다. 여기서, 동선추적부는 객체의 머리 인식 알고리즘을 이용하여 객체의 머리를 인식할 수 있으며, 객체의 머 리 인식 알고리즘은 인공신경망, 머신러닝, 딥러닝을 기반으로 하여 학습된 종래기술의 객체의 머리 인식 알고 리즘을 사용할 수 있다. 객체의 머리 인식 알고리즘은 객체가 포함된 이미지를 입력데이터로 설정하고, 객체의 머리 영역(HB)을 출력데 이터로 설정하여 학습될 수 있다. 동선추적부는 도 7a와 도 7b에 도시된 것과 같이 제2 영상으로부터 객체의 몸 영역(Body Box, BB)을 인식 하여 몸 영역(BB)에 대한 몸 중심점(Body Point, BP)을 생성한다. 여기서, 동선추적부는 객체의 몸 인식 알고리즘을 이용하여 객체의 몸을 인식할 수 있으며, 객체의 몸 인 식 알고리즘은 인공신경망, 머신러닝, 딥러닝을 기반으로 하여 학습된 종래기술의 객체의 몸 인식 알고리즘을 사용할 수 있다. 객체의 몸 인식 알고리즘은 객체가 포함된 이미지를 입력데이터로 설정하고, 객체의 몸 영역(BB)을 출력데이터 로 설정하여 학습될 수 있다. 동선추적부는 도 7a와 도 7b에 도시된 것과 같이 몸 중심점(BP)을 기준으로 머리 중심점(HP)과 대칭되는 지점을 발의 위치(Feet Point, FP)로 인식한다(S220). 동선추적부는 인식된 발의 위치에 대응하는 좌표를 추출한다(S230). 여기서, 좌표는 객체의 현재 위치에 대한 좌표를 의미하는 것으로, 경도와 위도, 또는 X, Y, Z 값으로 나타낼 수 있다. 이와 같이 제2 영상의 분석을 통해 객체의 발에 해당하는 좌표를 추출하여 객체의 좌표로 인식함으로 써 객체의 좌표를 더 정교하게 식별할 수 있다. 객체의 위치와 각도에 따라 도 7c와 같이 객체의 일부가 가려져 촬영되는 경우, 정확한 머리 영역과 몸 영역이 정확하게 인식되지 않아 객체의 좌표가 부정확하게 인식될 수 있다. 제2 영상은 천장에 부착된 제2 카메라로부터 획득되는 것으로, 동일한 객체라고 하더라도 원근법에 의하여 객체 가 촬영된 각도와 위치에 따라 머리의 크기와 몸의 크기의 비율이 달라질 수 있다. 이에 본 발명의 일 실시예에 따른 동선추적부는 객체의 위치 또는 각도에 따라 미리 저장된 기준비율에 기 초하여 객체의 몸 영역(BB) 또는 머리 영역(HB)의 크기를 보정할 수 있다. 여기서, 기준비율은 객체가 촬영되는 위치와 객체와 제2 카메라가 이루는 각도에 따른 머리 영역(HB)과 몸 영역 (BB)의 표준 비율을 의미하는 것으로, 관리자에 의하여 기준비율이 지정되거나 복수의 제2 영상의 분석을 통해 산출될 수 있다. 기준비율 생성의 일 실시예로, 동선추적부는 복수의 제2 영상으로부터 복수의 객체를 검출하고, 객체의 위 치와 각도에 따른 머리 영역(HB)과 몸 영역(BB)의 평균 비율을 산출하고, 이를 기준비율로 저장할 수 있다. 동선추적부는 도 제2 영상으로부터 객체를 식별하고, 머리 영역(HB)과 몸 영역(BB)을 인식하여 머리 중심 점(HP)과 몸 중심점(BP)을 생성한다. 동선추적부는 제2 영상으로부터 인식된 머리 영역(HB)과 몸 영역(BB)의 비율과 객체의 각도를 산출할 수 있다. 여기서, 객체의 각도는 머리 영역(HB)과 몸 영역(BB)의 배치 위치, 또는 머리 중심점(HP)과 몸 중심점 (BP)이 이루는 각도로부터 산출될 수 있으며, 객체의 비율은 제2 영상에서 머리 영역(HB)과 몸 영역(BB)이 차지 하는 픽셀의 비율로 산출될 수 있으나, 객체의 각도와 비율을 산출하는 방법이 이에 한정되는 것은 아니다. 동선추적부는 객체의 각도에 대응된 기준비율과 산출된 객체 비율이 도 7c와 같이 미리 설정된 범위의 이 상의 오차를 가지는 경우, 머리 영역(HB)과 몸 영역(BB)의 비율이 기준비율과 동일해지도록 몸 영역(C_BB)을 보 정할 수 있다. 동선추적부는 머리 중심점(HP)과 보정된 몸 영역 (C_BB)의 중심점(C_BP)을 기준으로 머리 중심점(HP)과 대 칭되는 지점을 객체의 발 위치(FP)로 인식하고, 이를 객체의 좌표로 저장할 수 있다. 한편, 동선추적부는 객체의 각도에 대응된 기준비율과 산출된 객체 비율이 도 7b와 같이 미리 설정된 범위 의 미만의 오차를 가지는 경우, 머리 영역(HB)과 몸 영역(BB)의 보정을 수행하지 않고 상술한 것과 같이 몸 중 심점(BP)을 기준으로 머리 중심점(HP)과 대칭되는 위치를 발의 위치(FP)로 인식하고, 인식된 발 위치(FP)에 대 응하는 좌표를 추출할 수 있다. 한편, 동선추적부는 식별된 객체로부터 특징벡터를 추출한다(S240). 동선추적부는 특징벡터 추출 알고리즘을 통해 객체의 특징벡터를 추출할 수 있다. 여기서, 특징벡터 추출 알고리즘은 입력된 몸 이미지를 총 5개의 합성곱 신경망과 합성곱 연산을 진행하여 50개 의 층으로 나눈 후 이를 최종적으로 128차원의 벡터로 압축하는 알고리즘이나, 이에 한정되는 것이 아니라, 사 용 환경 및 입력 이미지에 따라 18~152개 층으로 나누기도 하며, 특징 차원을 256~512차원으로 압축할 수도 있 는 알고리즘일 수도 있다. 도 6에서는, 좌표와 벡터를 검출하는 것으로 설명하였으나, 이에 한정되는 것은 아니다. 복수 개의 객체가 있어 연산하는데 시간이 오래 걸리는 특징벡터의 추출은 각 객체별로 특징벡터 추출을 먼저 수행하고, 비교적 간단한 연산인 좌표의 추출은 모든 객체에 대하여 함께 진행할 수 있다. 이와 같이 특징벡터의 추출과 좌표의 추출은 순차적으로 수행함으로써, 연산 처리의 병목을 방지할 수 있다. 동선추적부는 좌표를 및 특징벡터를 이용하여 객체의 동선정보를 생성한다(S250). 동선추적부는 미리 설정된 주기마다 제2 영상에서 객체의 좌표 및 특징벡터를 추출하고, 객체의 ID, 객체 정보, 타임스탬프, 특징벡터 및 좌표를 포함하는 동선정보를 생성한다. 한편, 제2 카메라를 통한 제2 영상이 객체가 이동할 수 있는 모든 범위를 커버하지 못하는 경우, 동선을 검출할 수 없는 사각영역이 존재한다. 예컨대, 객체가 카메라가 설치되지 않은 탈의실이나 계단 등을 통해 이동하는 경우 객체의 동선 추적이 중단되 므로, 객체의 동선 추적 오류가 발생할 수 있다. 이에 따라, 도 8을 참조하여 본 발명의 일 실시예에 따른 객체 동선 추적 장치의 사각영역 처리방법에 대하여 상세히 설명한다. 도 8은 본 발명의 일 실시예에 따른 사각영역을 설명하기 위한 예시도이다. 동선 추적 영역은 도 8에 도시된 것과 같이 제2 카메라(100b)에 의하여 촬영되어 객체의 동선의 추적이 가능한 감지영역(AI)과 제2 카메라(100b)의 배치, 촬영제한구역, 각종 시설물이 구조 등으로 인하여 제2 카메라(100b) 에 의하여 촬영이 불가능한 사각영역으로 구성된다. 이와 같은 사각영역의 존재에 의하여 객체의 동선 추적이 중단되거나 객체 정보가 없는 동선정보가 수집되어 동 선 추적의 신뢰성이 낮아지는 것을 방지하기 위하여 본 발명의 일 실시예에 따른 객체 동선 추적 장치는 특 징벡터에 기초하여 사각영역에서 감지영역으로 이동한 객체의 동선을 추적할 수 있다. 이하에서는 도 9를 참조하여 사각영역으로 사라진 객체의 동선 추적을 연결하는 일 실시예를 설명한다. 도 9는 본 발명의 일 실시예에 따른 사라진 객체의 동선 추적 방법을 설명하기 위한 순서도이다. 도 9를 참조하면, 동선추적부는 객체의 동선정보를 통해 객체의 동선을 추적한다(S310). 동선추적부는 제2 영상에서 객체가 사라지면 객체의 동선 추적을 중단하고, 객체가 사각영역으로 진입한 것으로 판단하여(S320의 예), 사각영역으로 사라진 객체의 동선정보를 보류정보로 저장하여 관리한다(S330). 여기서, 사각영역은 도 8과 같이 제2 카메라로 촬영되지 않는 영역(DZ 1 ~ DZ 4)을 의미한다. 동선추적부는 사각영역에서 제2 영상의 감지영역으로 새롭게 진입한 신규 객체를 감지한다(S340). 동선추적부는 신규 객체에 대하여 특징벡터를 추출한다. 동선추적부는 특징벡터 추출 알고리즘을 이용하여 신규 객체의 특징벡터를 산출한다. 특징벡터 추출 알고 리즘은 이미 S606 단계에서 설명한 바, 자세한 설명은 생략한다. 동선추적부는 산출된 신규 객체의 특징벡터에 기초하여 동선정보로 매칭할 보류정보를 결정한다(S350). 일 실시예에서, 동선추적부는 신규 객체의 특징벡터와 기 저장된 보류정보에서의 특징벡터 사이의 유사도 를 기초하여 신규 객체와 매칭될 보류정보를 결정할 수 있다. 신규 객체의 특징벡터와 보류정보에 존재하는 특징벡터 사이의 유사도가 기준 값 이상이면, 동선추적부는 보류정보를 신규 객체의 동선정보로 매칭한다. 동선추적부는 유사도의 기준 값을 90% 이상으로 설정할 수 있으며, 기준 값은 한정하지 않고, 다르게 설정 될 수 있다. 한편, 도 9에서는 신규 객체의 특징벡터에 기반하여 보류정보를 매칭하는 것으로 설명하였으나, 신규 객체와 보 류정보를 매칭하는 방법이 이에 한정되는 것은 아니다. 동선추적부는 신규 객체의 특징벡터와 함께 타임스탬프, 좌표를 보류정보 매칭에 더 이용하여 신규 객체와 보류정보와의 매칭의 정확도를 향상시킬 수 있다. 보류정보 매칭의 다른 실시예로, 신규 객체의 특징벡터와 기 저장된 보류정보의 특징벡터 사이의 유사도가 기준 값보다 낮은 경우, 동선추적부는 신규 객체의 타임스탬프와 보류정보의 타임스탬프 사이의 차이 값에 기초 하여 신규 객체와의 타임스탬프 간격이 가장 작은 보류정보와 신규 객체를 매칭할 수 있다. 보류정보 매칭의 또 다른 실시예로, 신규 객체의 특징벡터와 기 저장된 보류정보의 특징벡터 사이의 유사도가 기준 값 이상인 보류정보가 복수 개인 경우, 동선추적부는 신규 객체의 타임스탬프와 보류정보의 타임스탬 프 사이의 차이 값에 기초하여 신규 객체와의 타임스탬프 간격이 가장 작은 보류정보와 신규 객체를 매칭할 수 있다. 보류정보 매칭의 또 다른 실시예로, 신규 객체의 특징벡터와 기 저장된 보류정보의 특징벡터 사이의 유사도가 기준 값보다 낮은 경우, 동선추적부는 신규 객체의 좌표 정보와 보류정보의 좌표 정보 사이의 절대 거리를 산출하고, 산출된 절대 거리가 가장 인접한 보류정보와 신규 객체를 매칭할 수 있다. 보류정보 매칭의 또 다른 실시예로, 신규 객체의 특징벡터와 기 저장된 보류정보의 특징벡터 사이의 유사도가 기준 값 이상인 높은 보류정보가 복수 개인 경우, 동선추적부는 신규 객체의 좌표 정보와 기존 객체의 좌 표 정보 사이의 절대 거리를 산출하고, 산출된 절대 거리가 가장 인접한 보류정보와 신규 객체를 매칭할 수 있 다. 이와 같이, 동선추적부는 특징벡터를 기반으로 신규 객체와 매칭 가능한 후보 보류정보를 도출하고, 타임 스탬프 및/또는 좌표를 함께 이용하여 매칭될 보류정보를 결정함으로써, 신규 객체와 보류정보의 매칭 오류를 최소화할 수 있다. 본 발명의 다른 실시예에 있어서, 동선추적부는 신규 객체와 보류정보의 매칭에 있어서, 사각영역을 더 고 려할 수 있다. 이하, 도면을 참조하여 사각영역으로 사라진 객체의 동선추적을 연결하는 다른 실시예를 설명한다. 도 10은 본 발명의 다른 실시예에 따른 사각영역을 설명하기 위한 예시도이다. 도 10에서 도시한 바와 같이, 사각영역은 촬영제한구역으로 촬영이 불가능여 객체를 촬영할 수 없는 탈의실과 통로로 구성될 수 있다. 이때, 동선추적부는 사라진 객체의 이동 가능 여부를 기준으로 복수의 사각영역을 그룹핑하여 관리할 수 있다. 예컨대, 도 10에서 사각영역 21 및 22 (DZ 21~22)와 같이, 동선추적부는 사라진 객체가 통로를 통해 이동 가능성이 있는 경우에 사각영역 2(DZ 2)와 같이 복수의 사각영역을 그룹핑하여 관리할 수 있다. 도 11은 본 발명의 다른 실시예에 따른 사라진 객체의 동선 추적 방법을 설명하기 위한 순서도이다. 도 11을 참조하여, 동선추적부는 객체의 동선정보를 통해 객체의 동선을 추적하고(S410), 제2 영상에서 객 체가 사라지면 객체의 동선 추적을 중단하고, 객체가 사각영역으로 진입한 것으로 판단한다(S420의 예). 여기서, S410 및 S420 단계는 도 9의 S310 및 S320 단계에서 이미 설명한 바, 자세한 설명은 생략한다. 동선추적부는 객체가 사라지기 전의 최종 좌표를 기준으로 매칭할 사각영역을 결정하고(S430), 사라진 객 체의 동선정보를 결정된 사각영역의 보류정보로 관리한다(S440). 동선추적부는 사라진 객체의 최종 좌표와 가장 인접한 사각영역을 매칭할 사각영역으로 결정할 수 있다. 예컨대, 도 10에서, 사라진 객체 1(Ob 1)의 최종 좌표와 가장 인접한 사각영역이 탈의실(DZ 1)이라면, 동선추적 부는 탈의실(DZ 1)을 매칭할 사각영역으로 결정하며, 사라진 객체(Ob 1)의 동선정보를 결정된 사각영역인 탈의실(DZ 1)의 보류정보로 관리할 수 있다. 예컨대, 도 10에서, 사라진 객체 2 또는 객체 3(Ob 2 또는 Ob 3)의 최종 좌표와 가장 인접한 사각영역이 사각영 역 21(DZ 21) 또는 사각영역 22(DZ 22)이라면, 동선추적부는 사각영역 2(DZ 2)를 매칭할 사각영역으로 결 정하며, 사라진 객체 2 또는 객체 3(Ob 2 또는 Ob 3)의 동선정보를 결정된 사각영역 2(DZ 2)의 보류정보로 관리 할 수 있다. 즉, 사라진 객체의 최종 좌표가 사각영역 21(DZ 21) 또는 사각영역 22(DZ 22)와 가장 인접했다면, 동선추적부 는 사라진 객체의 동선정보를 사각영역 2(DZ 2)의 보류정보로 관리할 수 있다. 동선추적부는 사각영역에서 제2 영상의 감지영역으로 새롭게 진입한 신규 객체를 감지한다(S450). S450 단계는 S340 단계에서 이미 설명하였는 바, 자세한 설명은 생략한다. 동선추적부는 신규 객체의 최초 좌표를 기준으로 후보 보류정보를 선별한다(S460). 동선추적부는 제2 영상의 감지영역에 새롭게 진입한 신규 객체의 최초 좌표에 가장 인접한 사각영역과 매 칭된 보류정보들을 후보 보류정보로 선별할 수 있다. 예컨대, 도 10에서 새롭게 진입한 신규 객체 1 내지 신규 객체 3이라고 하면, 신규 객체 1(Ob 1)의 최초 좌표가 사각영역 1(DZ 1)과 가장 인접하므로, 동선추적부는 사각영역 1(DZ 1)과 매칭된 보류정보들을 후보 보류정 보로 선별할 수 있다. 그리고, 새롭게 진입한 신규 객체 2(Ob 2)의 최초 좌표가 사각영역 21(DZ 21)과 가장 인접하고, 신규 객체 3의 최초 좌표가 사각영역 22(DZ 22)와 가장 인접하므로, 동선추적부는 사각영역 2(DZ 2)와 매칭된 보류정보들 을 후보 보류정보로 선별할 수 있다. 즉, 새롭게 진입한 신규 객체가 사각영역 21(DZ 21) 또는 사각영역 22(DZ 22)와 가장 인접할 경우, 동선추적부 는 신규 객체를 사각영역 2(DZ 2)와 매칭된 보류정보들을 후보 보류정보로 선별할 수 있다. 동선추적부는 감지영역에 새롭게 진입한 신규 객체의 특징벡터를 추출한다. 동선추적부는 특징벡터 추출 알고리즘을 통해 객체의 특징벡터를 추출할 수 있으며, 특징벡터 추출 알고리 즘은 도 6의 S240 단계에서 이미 설명하였는 바, 자세한 설명은 생략한다. 동선추적부는 신규 객체의 특징벡터와 후보 보류정보의 특징벡터의 유사도를 산출하고, 산출된 유사도에 기초하여 신규 객체와 매칭될 보류정보를 결정할 수 있다(S470). 신규 객체와 보류정보를 매칭하는 방법은 신규 객체의 특징벡터에 기반하여 보류정보를 매칭하는 것으로 한정하 지 않으며, 자세한 내용은 S350 단계에서 이미 설명하였으므로, 생략한다. 즉, 동선추적부는 제2 영상에서 사라진 객체의 동선정보를 보류정보로 관리하고, 제2 영상에서 새롭게 감 지된 신규 객체의 특징벡터, 타임스탬프, 좌표 정보를 이용하여 기 저장된 보류정보와 신규 객체를 매핑할 수 있다. 이하에서는 도 12를 이용하여 본 발명의 일 실시예에 따른 객체의 동선을 추적하는 방법에 대하여 설명한다. 도 12는 본 발명의 일 실시예에 따른 객체의 동선을 추적하는 방법을 설명하기 위한 순서도이다. 객체식별부는 제1 영상을 이용하여 매장에 진입한 객체를 식별한다(S510). 객체를 인식하는 방법은 도 4 내지 도 5를 이용하여 이미 설명하였는 바, 자세한 설명은 생략한다. 동선추적부는 제2 영상을 이용하여 S510 단계에서 인식한 객체의 동선정보를 생성하여 해당 객체의 동선을 추적한다(S520). 동선추적부는 사각영역, 통로, 탈의실 등으로 진입하여 감지영역으로부터 사라지는 객체와 감지영역에 다 시 나타난 신규 객체를 기준 객체와 매칭하여 해당 객체의 동선을 추적한다. 객체의 동선정보를 생성하여 객체의 동선을 추적하는 방법은 도 6 내지 도 11를 이용하여 이미 설명하였는 바, 자세한 설명은 생략한다. 동선추적부는 생성된 객체의 동선정보를 객체 동선 관리 서버로 전송한다(S530). 객체 동선 관리 서버는 객체의 동선정보를 저장하여 객체의 동선을 관리할 수 있다. 객체의 동선정보는 미리 설정된 이벤트가 발생할 경우에 객체 동선 관리 서버로 전송될 수 있다. 여기서, 이벤트는 미리 설정된 시간, 조건이 발생하는 것을 의미하며, 예컨대, 동선추적부는 객체가 식별 영역에서 후보영역으로 이동하면 객체의 동선 추적이 종료된 것으로 판단하여 객체의 동선정보를 객체 동선 관 리 서버로 전송할 수 있다. 이상에서 설명한 바와 같이, 본 발명에 따르면, 객체의 동선정보를 생성하여 객체가 제2 영상에서 사라지거나 나타난 경우에서의 객체의 동선정보와 보류정보를 비교함으로써, 객체의 동선을 추적할 수 있다. 나아가, 객체 동선 추적을 통해 고객 유입율을 파악하고, 매장내 특정 매대 앞에 머무는 고객의 행동을 분석할 수 있다. 본원 발명의 실시예들과 관련된 기술 분야에서 통상의 지식을 가진 자는 상기 기재의 본질적인 특성에서 벗어나 지 않는 범위에서 변형된 형태로 구현될 수 있음을 이해할 수 있을 것이다. 그러므로, 개시된 방법들은 한정적 인 관점이 아닌 설명적 관점에서 고려되어야 한다. 본 발명의 범위는 발명의 상세한 설명이 아닌 특허청구 범위 에 나타나며, 그와 동등한 범위 내에 있는 모든 차이점은 본 발명의 범위에 포함되는 것으로 해석되어야 한다."}
{"patent_id": "10-2022-0092134", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 객체 동선 추적 시스템을 설명하기 위한 블록도이다. 도 2는 도 1의 객체 동선 추적 장치를 설명하기 위한 블록도이다. 도 3은 객체 동선 추적 장치의 카메라부를 설명하기 위한 예시도이다. 도 4는 본 발명의 일 실시예에 따른 객체를 인식하는 과정을 설명하기 위한 순서도이다. 도 5는 객체 출입 감지를 설명하기 위한 제1 영상의 예시도이다. 도 6은 객체의 동선정보를 생성하는 과정을 설명하기 위한 순서도이다. 도 7a 및 도 7c는 발 위치에 대응하는 좌표를 추출하는 과정을 설명하기 위한 예시도이다. 도 8은 본 발명의 일 실시예에 따른 사각영역을 설명하기 위한 예시도이다. 도 9는 본 발명의 일 실시예에 따른 사라진 객체의 동선 추적 방법을 설명하기 위한 순서도이다. 도 10은 본 발명의 다른 실시예에 따른 사각영역을 설명하기 위한 예시도이다.도 11은 본 발명의 다른 실시예에 따른 사라진 객체의 동선 추적 방법을 설명하기 위한 순서도이다. 도 12는 본 발명의 일 실시예에 따른 객체의 동선을 추적하는 방법을 설명하기 위한 순서도이다."}
