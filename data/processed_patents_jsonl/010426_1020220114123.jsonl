{"patent_id": "10-2022-0114123", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0138858", "출원번호": "10-2022-0114123", "발명의 명칭": "카페 모니터링 장치 및 카페 모니터링 방법", "출원인": "메이즈 주식회사", "발명자": "송기선"}}
{"patent_id": "10-2022-0114123", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "카페의 내부를 촬영하고 촬영된 이미지 또는 비디오를 포함하는 촬영 데이터를 출력하는 카메라;상기 촬영 데이터를 입력받고 상기 카페에 대한 좌석 점유 현황 데이터 및 고객 외형 추론 데이터를 출력하는제1 추론 모델; 및상기 촬영 데이터를 입력받고 상기 카페에 대한 고객 행동 추론 데이터 및 메뉴 매출 추정 데이터를 출력하는제2 추론 모델을 포함하고,상기 좌석 점유 현황 데이터, 상기 고객 외형 추론 데이터, 상기 고객 행동 추론 데이터 및 상기 메뉴 매출 추정 데이터 중 적어도 하나는 카페 큐레이션을 위해 사용되는,카페 모니터링 장치."}
{"patent_id": "10-2022-0114123", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 제1 추론 모델은 객체 검출 모델을 포함하고,상기 좌석 점유 현황 데이터는 상기 카페에 방문하는 고객의 점유 좌석 위치, 좌석 점유율, 입장 시각 및 퇴장시각 중 적어도 하나를 포함하고,상기 제1 추론 모델은 상기 객체 검출 모델을 이용하여 상기 점유 좌석 위치, 상기 좌석 점유율, 상기 입장 시각 및 상기 퇴장 시각 중 적어도 하나를 추론하는, 카페 모니터링 장치."}
{"patent_id": "10-2022-0114123", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 제1 추론 모델은 사람 바운딩 박스와 좌석 바운딩 박스를 비교하여 상기 점유 좌석 위치를 추론하는, 카페모니터링 장치."}
{"patent_id": "10-2022-0114123", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,하나의 사람 바운딩 박스가 복수의 좌석 바운딩 박스에 대응되는 경우 얼굴 또는 뒤통수 검출 여부에 따라 상기점유 좌석 위치를 결정하는 좌석 결정 모듈을 더 포함하는 카페 모니터링 장치."}
{"patent_id": "10-2022-0114123", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제3항에 있어서,하나의 사람 바운딩 박스가 복수의 좌석 바운딩 박스에 대응되는 경우 겹치는 넓이를 비교함으로써 상기 점유좌석 위치를 결정하는 좌석 결정 모듈을 더 포함하는 카페 모니터링 장치."}
{"patent_id": "10-2022-0114123", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제2항에 있어서,상기 고객 외형 추론 데이터는 상기 카페에 방문하는 고객의 성별 및 연령대 중 적어도 하나를 포함하고,상기 제1 추론 모델은 상기 객체 검출 모델을 이용하여 상기 성별 및 상기 연령대 중 적어도 하나를 추론하는,카페 모니터링 장치.공개특허 10-2023-0138858-3-청구항 7 제1항에 있어서,상기 제2 추론 모델은 객체 검출 모델 및 포즈 추정 모델을 포함하고,상기 고객 행동 추론 데이터는 상기 카페에 방문하는 고객의 방문 목적 및 행동 패턴 중 적어도 하나를 포함하고,상기 제2 추론 모델은,상기 객체 검출 모델을 이용하여 객체를 검출하고,상기 검출된 객체가 사람인 경우 상기 포즈 추정 모델을 이용하여 상기 방문 목적 및 상기 행동 패턴 중 적어도하나를 추론하는, 카페 모니터링 장치."}
{"patent_id": "10-2022-0114123", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7항에 있어서,상기 제2 추론 모델은, 상기 검출된 객체가 물건이고 음료 또는 음식이 아닌 경우 상기 물건에 관한 정보와 상기 포즈 추정 모델을 이용하여 상기 방문 목적 및 상기 행동 패턴 중 적어도 하나를 추론하는, 카페 모니터링장치."}
{"patent_id": "10-2022-0114123", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제7항에 있어서,상기 메뉴 매출 추정 데이터는 상기 카페에 방문하는 고객의 주문 메뉴 및 매출 중 적어도 하나를 포함하고,상기 제2 추론 모델은, 상기 검출된 객체가 물건이고 음료 또는 음식인 경우 상기 객체 검출 모델을 이용하여상기 주문 메뉴 및 매출 중 적어도 하나를 추론하는, 카페 모니터링 장치."}
{"patent_id": "10-2022-0114123", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제1항에 있어서,추론 데이터 삭제 모듈을 더 포함하고,상기 제1 추론 모델은 상기 촬영 데이터 중 제1 추론이 종료된 제1 추론 종료 촬영 데이터에 관한 정보를 포함하는 제1 추론 종료 신호를 출력하고,상기 제2 추론 모델은 상기 촬영 데이터 중 제2 추론이 종료된 제2 추론 종료 촬영 데이터에 관한 정보를 포함하는 제2 추론 종료 신호를 출력하고,상기 추론 데이터 삭제 모듈은, 상기 제1 추론 종료 신호에 따라 상기 제1 추론 종료 촬영 데이터를 삭제하고,상기 제2 추론 종료 신호에 따라 상기 제2 추론 종료 촬영 데이터를 삭제하는, 카페 모니터링 장치."}
{"patent_id": "10-2022-0114123", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제10항에 있어서,상기 추론 데이터 삭제 모듈은,상기 제1 추론 종료 신호를 수신한 경우, 상기 제1 추론 종료 촬영 데이터가 상기 제2 추론 모델에 의해 사용중인지 여부를 판정하고,상기 제1 추론 종료 촬영 데이터가 상기 제2 추론 모델에 의해 사용 중인 것으로 판정된 경우, 상기 제1 추론종료 촬영 데이터를 유지하는, 카페 모니터링 장치."}
{"patent_id": "10-2022-0114123", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "공개특허 10-2023-0138858-4-제11항에 있어서,상기 추론 데이터 삭제 모듈은,상기 제1 추론 종료 촬영 데이터에 대한 상기 제2 추론 종료 신호를 수신한 경우, 상기 제2 추론 종료 촬영 데이터를 삭제하는, 카페 모니터링 장치."}
{"patent_id": "10-2022-0114123", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제1항에 있어서,동작 제어 모듈 및 제1 부하 센서를 더 포함하고,상기 동작 제어 모듈은,상기 제1 부하 센서의 값이 제1 임계값을 초과하는 경우 상기 카페 모니터링 장치를 제1 동작 모드로 전환하고,상기 제1 부하 센서의 값이 제2 임계값을 초과하는 경우 상기 카페 모니터링 장치를 제2 동작 모드로 전환하고,상기 제1 부하 센서의 값이 상기 제1 임계값 이하인 경우 제3 동작 모드로 전환하는, 카페 모니터링 장치."}
{"patent_id": "10-2022-0114123", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제1항에 있어서,동작 제어 모듈 및 제1 부하 센서를 더 포함하고,상기 동작 제어 모듈은,상기 제1 부하 센서의 값이 제1 임계값을 초과하는 경우 소정의 시간 동안 카운트 동작을 수행하고,카운트 값이 제4 임계값을 초과하는지 여부를 판정하고,상기 카운트 값이 상기 제4 임계값을 초과하는 것으로 판정된 경우, 상기 카페 모니터링 장치를 제2 동작 모드로 전환하는, 카페 모니터링 장치."}
{"patent_id": "10-2022-0114123", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제14항에 있어서,상기 동작 제어 모듈은, 상기 카운트 값이 상기 제4 임계값 이하인 것으로 판정된 경우, 상기 카페 모니터링 장치를 제3 동작 모드로 전환하는, 카페 모니터링 장치."}
{"patent_id": "10-2022-0114123", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "카페의 내부를 촬영하고 촬영된 이미지 또는 비디오를 포함하는 촬영 데이터를 수신하는 단계;상기 촬영 데이터 및 제1 추론 모델을 이용하여 상기 카페에 대한 좌석 점유 현황 데이터 및 고객 외형 추론 데이터를 획득하는 단계; 및상기 촬영 데이터 및 제2 추론 모델을 입력받고 상기 카페에 대한 고객 행동 추론 데이터 및 메뉴 매출 추정 데이터를 획득하는 단계를 포함하고,상기 좌석 점유 현황 데이터, 상기 고객 외형 추론 데이터, 상기 고객 행동 추론 데이터 및 상기 메뉴 매출 추정 데이터 중 적어도 하나는 카페 큐레이션을 위해 사용되는,카페 모니터링 방법."}
{"patent_id": "10-2022-0114123", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제16항에 있어서,상기 제1 추론 모델은 객체 검출 모델을 포함하고,상기 좌석 점유 현황 데이터는 상기 카페에 방문하는 고객의 점유 좌석 위치, 좌석 점유율, 입장 시각 및 퇴장시각 중 적어도 하나를 포함하고,공개특허 10-2023-0138858-5-상기 제1 추론 모델은 상기 객체 검출 모델을 이용하여 상기 점유 좌석 위치, 상기 좌석 점유율, 상기 입장 시각 및 상기 퇴장 시각 중 적어도 하나를 추론하는, 카페 모니터링 방법."}
{"patent_id": "10-2022-0114123", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "제17항에 있어서,상기 고객 외형 추론 데이터는 상기 카페에 방문하는 고객의 성별 및 연령대 중 적어도 하나를 포함하고,상기 제1 추론 모델은 상기 객체 검출 모델을 이용하여 상기 성별 및 상기 연령대 중 적어도 하나를 추론하는,카페 모니터링 방법."}
{"patent_id": "10-2022-0114123", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_19", "content": "제16항에 있어서,상기 제2 추론 모델은 객체 검출 모델 및 포즈 추정 모델을 포함하고,상기 고객 행동 추론 데이터는 상기 카페에 방문하는 고객의 방문 목적 및 행동 패턴 중 적어도 하나를 포함하고,상기 제2 추론 모델은,상기 객체 검출 모델을 이용하여 객체를 검출하고,상기 검출된 객체가 사람인 경우 상기 포즈 추정 모델을 이용하여 상기 방문 목적 및 상기 행동 패턴 중 적어도하나를 추론하는, 카페 모니터링 방법."}
{"patent_id": "10-2022-0114123", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_20", "content": "제19항에 있어서,상기 메뉴 매출 추정 데이터는 상기 카페에 방문하는 고객의 주문 메뉴 및 매출 중 적어도 하나를 포함하고,상기 제2 추론 모델은, 상기 검출된 객체가 물건이고 음료 또는 음식인 경우 상기 객체 검출 모델을 이용하여상기 주문 메뉴 및 매출 중 적어도 하나를 추론하는, 카페 모니터링 방법."}
{"patent_id": "10-2022-0114123", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "카페 모니터링 장치 및 카페 모니터링 방법이 제공된다. 카페 모니터링 장치는, 카페의 내부를 촬영하고 촬영된 이미지 또는 비디오를 포함하는 촬영 데이터를 출력하는 카메라; 상기 촬영 데이터를 입력받고 상기 카페에 대한 좌석 점유 현황 데이터 및 고객 외형 추론 데이터를 출력하는 제1 추론 모델; 및 상기 촬영 데이터를 입력받고 상기 카페에 대한 고객 행동 추론 데이터 및 메뉴 매출 추정 데이터를 출력하는 제2 추론 모델을 포함하고, 상기 좌석 점유 현황 데이터, 상기 고객 외형 추론 데이터, 고객 행동 추론 데이터 및 메뉴 매출 추정 데이터 중 적어 도 하나는 카페 큐레이션을 위해 사용될 수 있다."}
{"patent_id": "10-2022-0114123", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 카페 모니터링 장치 및 카페 모니터링 방법에 관한 것이다."}
{"patent_id": "10-2022-0114123", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "카페 큐레이션(curation) 서비스는 여러 카페에 대한 정보를 수집 및 선별하고 새로운 가치를 부여해 전파하는 서비스이다. 고객 유치를 원하는 카페 점주가 자신의 카페를 카페 큐레이션 서비스에 등록하면, 고객은 사용자 단말을 통해 자신의 취향이나 방문 목적에 맞는 카페를 추천 받을 수 있다. 특히, 카페 큐레이션 서비스는 단 순히 사용자 단말의 위치를 중심으로 가까운 거리에 소재한 카페들이나 후기 평점이 높은 카페들의 정보를 제공 하는 수준을 넘어서, 카페를 찾는 사용자가 중요하게 여기는 가치에 부합하는 카페들을 제시한다는 점에서 이전 의 카페 추천 서비스로부터 구별된다. 보다 가치 있는 카페 큐레이션 서비스를 구현하기 위해, 카페 내부의 실 시간 현황 또는 예측 현황에 관한 정보를 수집하고 이를 카페 큐레이션 서비스에 활용하기 위한 방안들이 연구 되고 있다."}
{"patent_id": "10-2022-0114123", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "해결하고자 하는 일 과제는, 인공지능 및 IoT(Internet of Things) 기반의 장치를 이용하여 카페 내부의 실시간 현황을 모니터링하고 미래의 현황을 예측할 수 있는 카페 모니터링 장치 및 카페 모니터링 방법을 제공하는 것 이다."}
{"patent_id": "10-2022-0114123", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "일 실시 예에 따른 카페 모니터링 장치는, 카페의 내부를 촬영하고 촬영된 이미지 또는 비디오를 포함하는 촬영 데이터를 출력하는 카메라; 상기 촬영 데이터를 입력받고 상기 카페에 대한 좌석 점유 현황 데이터 및 고객 외 형 추론 데이터를 출력하는 제1 추론 모델; 및 상기 촬영 데이터를 입력받고 상기 카페에 대한 고객 행동 추론 데이터 및 메뉴 매출 추정 데이터를 출력하는 제2 추론 모델을 포함하고, 상기 좌석 점유 현황 데이터, 상기 고 객 외형 추론 데이터, 상기 고객 행동 추론 데이터 및 상기 메뉴 매출 추정 데이터 중 적어도 하나는 카페 큐레 이션을 위해 사용될 수 있다. 몇몇 실시 예에서, 상기 제1 추론 모델은 객체 검출 모델을 포함하고, 상기 좌석 점유 현황 데이터는 상기 카페 에 방문하는 고객의 점유 좌석 위치, 좌석 점유율, 입장 시각 및 퇴장 시각 중 적어도 하나를 포함하고, 상기 제1 추론 모델은 상기 객체 검출 모델을 이용하여 상기 점유 좌석 위치, 상기 좌석 점유율, 상기 입장 시각 및 상기 퇴장 시각 중 적어도 하나를 추론할 수 있다. 몇몇 실시 예에서, 상기 제1 추론 모델은 사람 바운딩 박스와 좌석 바운딩 박스를 비교하여 상기 점유 좌석 위 치를 추론할 수 있다. 몇몇 실시 예에서, 상기 카페 모니터링 장치는, 하나의 사람 바운딩 박스가 복수의 좌석 바운딩 박스에 대응되 는 경우 얼굴 또는 뒤통수 검출 여부에 따라 상기 점유 좌석 위치를 결정하는 좌석 결정 모듈을 더 포함할 수 있다. 몇몇 실시 예에서, 상기 카페 모니터링 장치는, 하나의 사람 바운딩 박스가 복수의 좌석 바운딩 박스에 대응되 는 경우 겹치는 넓이를 비교함으로써 상기 점유 좌석 위치를 결정하는 좌석 결정 모듈을 더 포함할 수 있다. 몇몇 실시 예에서, 상기 고객 외형 추론 데이터는 상기 카페에 방문하는 고객의 성별 및 연령대 중 적어도 하나 를 포함하고, 상기 제1 추론 모델은 상기 객체 검출 모델을 이용하여 상기 성별 및 상기 연령대 중 적어도 하나 를 추론할 수 있다. 몇몇 실시 예에서, 상기 제2 추론 모델은 객체 검출 모델 및 포즈 추정 모델을 포함하고, 상기 고객 행동 추론 데이터는 상기 카페에 방문하는 고객의 방문 목적 및 행동 패턴 중 적어도 하나를 포함하고, 상기 제2 추론 모 델은, 상기 객체 검출 모델을 이용하여 객체를 검출하고, 상기 검출된 객체가 사람인 경우 상기 포즈 추정 모델 을 이용하여 상기 방문 목적 및 상기 행동 패턴 중 적어도 하나를 추론할 수 있다. 몇몇 실시 예에서, 상기 제2 추론 모델은, 상기 검출된 객체가 물건이고 음료 또는 음식이 아닌 경우 상기 물건 에 관한 정보와 상기 포즈 추정 모델을 이용하여 상기 방문 목적 및 상기 행동 패턴 중 적어도 하나를 추론할 수 있다. 몇몇 실시 예에서, 상기 메뉴 매출 추정 데이터는 상기 카페에 방문하는 고객의 주문 메뉴 및 매출 중 적어도 하나를 포함하고, 상기 제2 추론 모델은, 상기 검출된 객체가 물건이고 음료 또는 음식인 경우 상기 객체 검출 모델을 이용하여 상기 주문 메뉴 및 매출 중 적어도 하나를 추론할 수 있다. 몇몇 실시 예에서, 상기 카페 모니터링 장치는, 추론 데이터 삭제 모듈을 더 포함하고, 상기 제1 추론 모델은 상기 촬영 데이터 중 제1 추론이 종료된 제1 추론 종료 촬영 데이터에 관한 정보를 포함하는 제1 추론 종료 신 호를 출력하고, 상기 제2 추론 모델은 상기 촬영 데이터 중 제2 추론이 종료된 제2 추론 종료 촬영 데이터에 관 한 정보를 포함하는 제2 추론 종료 신호를 출력하고, 상기 추론 데이터 삭제 모듈은, 상기 제1 추론 종료 신호 에 따라 상기 제1 추론 종료 촬영 데이터를 삭제하고, 상기 제2 추론 종료 신호에 따라 상기 제2 추론 종료 촬 영 데이터를 삭제할 수 있다. 몇몇 실시 예에서, 상기 추론 데이터 삭제 모듈은, 상기 제1 추론 종료 신호를 수신한 경우, 상기 제1 추론 종 료 촬영 데이터가 상기 제2 추론 모델에 의해 사용 중인지 여부를 판정하고, 상기 제1 추론 종료 촬영 데이터가 상기 제2 추론 모델에 의해 사용 중인 것으로 판정된 경우, 상기 제1 추론 종료 촬영 데이터를 유지할 수 있다. 몇몇 실시 예에서, 상기 추론 데이터 삭제 모듈은, 상기 제1 추론 종료 촬영 데이터에 대한 상기 제2 추론 종료 신호를 수신한 경우, 상기 제2 추론 종료 촬영 데이터를 삭제할 수 있다. 몇몇 실시 예에서, 상기 카페 모니터링 장치는, 동작 제어 모듈 및 제1 부하 센서를 더 포함하고, 상기 동작 제 어 모듈은, 상기 제1 부하 센서의 값이 제1 임계값을 초과하는 경우 상기 카페 모니터링 장치를 제1 동작 모드 로 전환하고, 상기 제1 부하 센서의 값이 제2 임계값을 초과하는 경우 상기 카페 모니터링 장치를 제2 동작 모드로 전환하고, 상기 제1 부하 센서의 값이 상기 제1 임계값 이하인 경우 제3 동작 모드로 전환할 수 있다. 몇몇 실시 예에서, 상기 카페 모니터링 장치는, 동작 제어 모듈 및 제1 부하 센서를 더 포함하고, 상기 동작 제 어 모듈은, 상기 제1 부하 센서의 값이 제1 임계값을 초과하는 경우 소정의 시간 동안 카운트 동작을 수행하고, 카운트 값이 제4 임계값을 초과하는지 여부를 판정하고, 상기 카운트 값이 상기 제4 임계값을 초과하는 것으로 판정된 경우, 상기 카페 모니터링 장치를 제2 동작 모드로 전환할 수 있다. 몇몇 실시 예에서, 상기 동작 제어 모듈은, 상기 카운트 값이 상기 제4 임계값 이하인 것으로 판정된 경우, 상 기 카페 모니터링 장치를 제3 동작 모드로 전환할 수 있다. 일 실시 예에 따른 카페 모니터링 방법은, 카페의 내부를 촬영하고 촬영된 이미지 또는 비디오를 포함하는 촬영 데이터를 수신하는 단계; 상기 촬영 데이터 및 제1 추론 모델을 이용하여 상기 카페에 대한 좌석 점유 현황 데 이터 및 고객 외형 추론 데이터를 획득하는 단계; 및 상기 촬영 데이터 및 제2 추론 모델을 입력받고 상기 카페 에 대한 고객 행동 추론 데이터 및 메뉴 매출 추정 데이터를 획득하는 단계를 포함하고, 상기 좌석 점유 현황 데이터, 상기 고객 외형 추론 데이터, 상기 고객 행동 추론 데이터 및 상기 메뉴 매출 추정 데이터 중 적어도 하나는 카페 큐레이션을 위해 사용될 수 있다. 몇몇 실시 예에서, 상기 제1 추론 모델은 객체 검출 모델을 포함하고, 상기 좌석 점유 현황 데이터는 상기 카페 에 방문하는 고객의 점유 좌석 위치, 좌석 점유율, 입장 시각 및 퇴장 시각 중 적어도 하나를 포함하고, 상기 제1 추론 모델은 상기 객체 검출 모델을 이용하여 상기 점유 좌석 위치, 상기 좌석 점유율, 상기 입장 시각 및 상기 퇴장 시각 중 적어도 하나를 추론할 수 있다. 몇몇 실시 예에서, 상기 고객 외형 추론 데이터는 상기 카페에 방문하는 고객의 성별 및 연령대 중 적어도 하나 를 포함하고, 상기 제1 추론 모델은 상기 객체 검출 모델을 이용하여 상기 성별 및 상기 연령대 중 적어도 하나 를 추론할 수 있다. 몇몇 실시 예에서, 상기 제2 추론 모델은 객체 검출 모델 및 포즈 추정 모델을 포함하고, 상기 고객 행동 추론 데이터는 상기 카페에 방문하는 고객의 방문 목적 및 행동 패턴 중 적어도 하나를 포함하고, 상기 제2 추론 모 델은, 상기 객체 검출 모델을 이용하여 객체를 검출하고, 상기 검출된 객체가 사람인 경우 상기 포즈 추정 모델 을 이용하여 상기 방문 목적 및 상기 행동 패턴 중 적어도 하나를 추론할 수 있다. 몇몇 실시 예에서, 상기 메뉴 매출 추정 데이터는 상기 카페에 방문하는 고객의 주문 메뉴 및 매출 중 적어도 하나를 포함하고, 상기 제2 추론 모델은, 상기 검출된 객체가 물건이고 음료 또는 음식인 경우 상기 객체 검출 모델을 이용하여 상기 주문 메뉴 및 매출 중 적어도 하나를 추론할 수 있다."}
{"patent_id": "10-2022-0114123", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "아래에서는 첨부한 도면을 참조하여 본 발명의 실시 예에 대하여 본 발명이 속하는 기술 분야에서 통상의 지식 을 가진 자가 용이하게 실시할 수 있도록 상세히 설명한다. 그러나 본 발명은 여러 가지 상이한 형태로 구현될 수 있으며 여기에서 설명하는 실시 예에 한정되지 않는다. 그리고 도면에서 본 발명을 명확하게 설명하기 위해서 설명과 관계없는 부분은 생략하였으며, 명세서 전체를 통하여 유사한 부분에 대해서는 유사한 도면 부호를 붙였다. 명세서 및 청구범위 전체에서, 어떤 부분이 어떤 구성 요소를 \"포함\"한다고 할 때, 이는 특별히 반대되는 기재 가 없는 한 다른 구성요소를 제외하는 것이 아니라 다른 구성 요소를 더 포함할 수 있는 것을 의미한다. 또한, 명세서에 기재된 \"...부\", \"...기\", \"모듈\" 등의 용어는 본 명세서에서 설명되는 적어도 하나의 기능이나 동작을 처리할 수 있는 단위를 의미할 수 있으며, 이는 하드웨어나 소프트웨어 또는 하드웨어 및 소프트웨어의 결합으로 구현될 수 있다. 본 명세서에서는 명확성을 위해 본 발명의 적용 대상으로 카페에 한정하여 설명하지만, 본 발명의 범위는 카페 가 아닌 임의의 매장, 또는 임의의 공간에서 IoT 장치를 이용하여 매장 또는 공간 내부의 실시간 현황을 모니터 링하고 미래의 현황을 예측하는 경우에까지 미친다. 도 1은 일 실시 예에 따른 카페 큐레이션 시스템을 설명하기 위한 블록도이다. 도 1을 참조하면, 일 실시 예에 따른 카페 큐레이션 시스템은 카페 모니터링 장치(10, 11, 12), 카페 큐레이 션 서버 및 사용자 단말(30, 31)을 포함할 수 있다. 카페 모니터링 장치(10, 11, 12), 카페 큐레이션 서버 및 사용자 단말(30, 31)은 네트워크를 통해 서로 데이터를 주고 받을 수 있다. 카페 모니터링 장치(10, 11, 12)는 IoT 장치일 수 있다. IoT는 사물에 센싱 및 통신 기능을 내장하여 인터넷에 연결하는 기술로서, 카페 모니터링 장치(10, 11, 12)는 카페 내부에 설치되어 카페 내부를 모니터링하고, 모니 터링 결과를 네트워크를 통해 다른 장치, 예를 들어 카페 큐레이션 서버로 전송할 수 있다. 카페 모니 터링 장치(10, 11, 12)는 여러 카페 내부에 설치되어 그 내부의 실시간 현황을 모니터링하고 미래의 현황을 예 측할 수 있다. 예를 들어, 카페 모니터링 장치(10, 11)는 어떤 카페(A)의 내부에 설치되어 해당 카페(A) 내부 의 현황을 모니터링 및 예측할 수 있고, 카페 모니터링 장치는 다른 카페(B)의 내부에 설치되어 다른 카페 (B) 내부의 현황을 모니터링 및 예측할 수 있다. 카페(A)에 설치된 모니터링 장치(10, 11)로부터 획득할 수 있 는 모니터링 및 예측 결과와 카페(B)에 설치된 모니터링 장치로부터 획득할 수 있는 모니터링 및 예측 결과 는 네트워크를 통해 카페 큐레이션 서버로 전송될 수 있다. 카페 큐레이션 서버는 카페 모니터링 장치(10, 11, 12)를 통해 수집된 카페(A, B)에 대한 정보에 기반하여, 사용자(또는 고객)가 카페를 선택하기 위해 중요하게 여기는 가치에 부합하는 카페들을 사용자 단말(30, 31)을 통해 사용자에게 제시할 수 있다. 카페 모니터링 장치(10, 11, 12)를 통해 수집되는 정보는 카페 큐레이션 서 버가 액세스할 수 있는 데이터베이스에 저장되고 관리될 수 있다. 몇몇 실시 예에서, 카페 모니터링 장치(10, 11, 12)가 카페 큐레이션 서버에 제공하는 정보 중 일부 정보 (예를 들어 후술할 좌석 점유 현황 데이터, 고객 외형 추론 데이터 등)는 실시간으로 카페 큐레이션 서버에 전송될 수 있다. 구체적으로, 카페 모니터링 장치(10, 11, 12)는 상기 일부 정보를 미리 정해진 제1 시간 간격 (예를 들어, 20초)으로 카페 큐레이션 서버로 전송할 수 있다. 여기서 미리 정해진 시간 간격은 구체적인 구현 목적과 구현 환경에 따라 다르게 설정될 수 있다. 한편, 모니터링 장치(10, 11, 12)가 카페 큐레이션 서 버에 제공하는 정보 중 다른 일부 정보(예를 들어 후술할 고객 행동 추론 데이터, 메뉴 매출 추정 데이터 등)는 상기 제1 시간 간격보다 길도록 미리 정해진 제2 시간 간격(예를 들어, 수 시간, 수 일)으로 카페 큐레이 션 서버로 전송할 수 있다. 이와 같이, 카페 큐레이션 서버가 서비스를 제공하기 위해 업데이트가 빈 번하게 이루어질 필요가 있는 정보에 대해서는 실시간 또는 짧은 시간 간격으로 전송이 이루어지고, 업데이트가 빈번하게 이루어질 필요가 없는 정보에 대해서는 상대적으로 긴 시간 간격으로 전송이 이루어지도록 하여, 네트 워크 대역폭을 효율적으로 사용하고 카페 모니터링 장치(10, 11, 12)의 소모 전력을 절감할 수 있다. 몇몇 실시 예에서, 카페 모니터링 장치(10, 11, 12)는 컴퓨팅 및 네트워크 자원을 고려하여 카페 큐레이션 서버 로 정보를 전송하는 횟수를 조절할 수 있다. 예를 들어, 카페 모니터링 장치(10, 11, 12)는, 컴퓨팅 및 네 트워크 자원을 효율적으로 사용하기 위해, 제1 시점, 제2 시점 및 제3 시점에 3회에 걸쳐 획득한 모니터링 및 예측 결과들을 평균하여 카페 큐레이션 서버로의 전송은 1회만 수행할 수 있다. 몇몇 실시 예에서, 카페 모니터링 장치(10, 11, 12)는, 인공지능 기술을 기반으로 카페 내부의 현황을 모니터링 및 예측하기 위한 프로세서를 구비할 수 있다. 그런데 카페 모니터링 장치(10, 11, 12)가 설치되는 환경에서 컴퓨팅 자원의 효율적인 운용이 요구되는 경우가 흔하기 때문에, 프로세서를 정교하게 사용할 수 있다. 구체적 으로, 카페 모니터링 장치(10, 11, 12)는, 카페 큐레이션 서버에 제공하는 정보 중 일부 정보에 대해서는 객체 검출(object detection) 기능만을 사용하도록 프로세서를 제어할 수도 있고, 다른 정보에 대해서는 객체검출 기능과 포즈 추정(pose estimation) 기능을 함께 사용하도록 프로세서를 제어할 수도 있고, 또 다른 정보 에 대해서는 객체 검출 기능과 시맨틱 세그멘테이션(semantic segmentation) 기능을 함께 사용하도록 제어할 수 도 있다. 이와 같이, 객체 검출, 포즈 추정 및 시맨틱 세그멘테이션을 정보의 특성에 따라 혼합하여 사용함으 로써, 카페 모니터링 장치(10, 11, 12)의 제한적인 컴퓨팅 자원을 효율적으로 운용할 수 있다. 사용자 단말(30, 31)은 카페 큐레이션 서버에 접속하여 사용자의 카페 선택 취향, 사용자의 위치, 사용자의 동선, 주문 시간대, 주문 메뉴, 사용자의 카페 이용 이력 정보 등에 기반한 카페 큐레이션 서비스를 제공받을 수 있다. 이와 같이, 카페 큐레이션 서비스는 고객의 데이터를 분석하고, 카페 모니터링 장치(10, 11, 12)를 통해 파악한 카페 내부의 현황 데이터를 분석하여, 고객이 단순히 현재 위치와 가까운 카페 또는 저명한 프랜차 이즈 카페만을 선택하지 않고, 실질적으로 고객에게 만족감을 줄 수 있는 카페를 발굴 및 추천할 수 있다. 몇 몇 실시 예에서, 사용자 단말(30, 31)은 스마트 폰, 태블릿 컴퓨터, 웨어러블 장치, 랩톱 컴퓨터, 데스크톱 컴 퓨터 등을 비롯한 컴퓨팅 장치일 수 있다. 사용자는 사용자 단말(30, 31) 상에서 구동되는 애플리케이션을 통 해 카페 큐레이션 서비스를 이용할 수 있다. 네트워크는 Wi-Fi 네트워크, 블루투스 네트워크, 셀룰러 네트워크 등을 비롯한 무선 네트워크, LAN(Local Area Network)를 비롯한 유선 네트워크, 무선 네트워크과 유선 네트워크가 혼합된 형태의 네트워크를 포함할 수 있다. 이하에서는 도 2 내지 도 10을 참조하여, 실시 예들에 따른 카페 모니터링 장치 및 카페 모니터링 방법에 대해 상세히 설명하도록 한다. 도 2는 일 실시 예에 따른 카페 모니터링 장치를 설명하기 위한 블록도이다. 도 2를 참조하면, 일 실시 예에 따른 카페 모니터링 장치는 카메라, 메모리, 제1 추론 모델 및 제2 추론 모델을 포함할 수 있다. 본 명세서에서, 카페 모니터링 장치에 관한 설명은 카페 모니터 링 장치(11, 12)에 대해서도 동일하게 적용될 수 있다. 카메라는 카페의 내부를 촬영하고 촬영된 이미지 또는 비디오를 포함하는 촬영 데이터를 출력할 수 있다. 몇몇 실시 예에서, 카메라는 회전, 틸트, 줌이 가능한 PTZ 카메라, 고정형 카메라 등을 포함할 수 있다. 한편, 몇몇 실시 예에서, 카메라는 RGB 카메라, IR 카메라 등을 포함할 수 있다. 카페의 내부를 사각지대 없이 촬영하기 위해, 카페에는 여러 대의 카메라가 설치될 수 있고, 이들은 서로 네트워크를 통해 데 이터를 교환할 수 있다. 메모리는 카페 모니터링 장치가 구동되기 위해 필요한 소프트웨어 및 데이터를 적재할 수 있다. 구체 적으로, 메모리에는 제1 추론 모델 또는 제2 추론 모델을 이용하여 카페 내부의 현황 모니터링 및 예측을 수행하기 위한 프로그램 코드가 적재되거나, 해당 프로그램 코드가 사용하는 데이터가 적재될 수 있 다. 또한, 메모리에는 카페 모니터링 장치의 전반적인 동작을 제어하는 펌웨어 또는 운영 체제에 해 당하는 프로그램 코드가 적재될 수 있다. 카메라로부터 출력되는 촬영 데이터는 메모리에 적재되고, 제1 추론 모델 및 제2 추론 모델 은 메모리에 적재된 촬영 데이터를 카메라 데이터(CD)로서 액세스하여 카페 내부의 현황 모니터링 및 예측을 수행할 수 있다. 제1 추론 모델은, 카메라로부터 출력되는 촬영 데이터를 입력받고, 카페에 대한 좌석 점유 현황 데이 터(D1) 및 고객 외형 추론 데이터(D2)를 출력할 수 있다. 좌석 점유 현황 데이터(D1) 및 고객 외형 추론 데이 터(D2) 중 적어도 하나는 카페 큐레이션을 위해 사용될 수 있다. 좌석 점유 현황 데이터(D1)는, 카페에 방문하는 고객의 점유 좌석 위치, 좌석 점유율, 입장 시각 및 퇴장 시각 중 적어도 하나를 포함할 수 있다. 비제한적인 예로서, 점유 좌석 위치는, 예를 들어 카페 내부의 테이블 또는 좌석에 대해 부여되는 테이블 번호 또는 좌석 번호로 표현될 수 있다. 또한, 비제한적인 예로서, 입장 시각 및 퇴장 시각은 카페 내부에 설치된 여러 대의 카페 모니터링 장치로부터 정해질 수 있다. 구체적으로, 카페 내부 에 복수의 카페 모니터링 장치가 설치된 경우, 복수의 장치 중 하나의 장치에 방문 고객이 인식된 시각을 해당 고객의 입장 시각으로 기록할 수 있고, 이후 복수의 장치 전부에 방문 고객이 사라진 시각을 해당 고객의 퇴장 시각으로 기록할 수 있다. 제1 추론 모델은 객체 검출 모델을 포함할 수 있다. 여기서, 객체 검출 모델은, 찾고자 하는 객체의 특징 (feature)을 사전에 추출하고, 촬영 데이터로부터 해당 특징을 검출할 수 있다. 몇몇 실시 예에서, 촬영 데이터로부터 특징 추출(feature extraction)을 수행하기 전에 필요에 따라 전처리(pre-processing)가 수행될 수 있다. 그리고, 추출된 특징들을 이용하여 분류기(classifier)에 의한 검출이 수행될 수 있다. 몇몇 실시 예에 서, 객체 검출은 컨볼루션 신경망(Convolutional Neural Network, CNN)을 기반으로 한 다양한 검출 및 인식 알 고리즘을 통해 이루어질 수 있다. 제1 추론 모델은 객체 검출 모델을 이용하여, 카페에 방문하는 고객의 점유 좌석 위치, 좌석 점유율, 입장 시각 및 퇴장 시각 중 적어도 하나를 추론할 수 있다. 이 때 객체 검출 모델은, 촬영 데이터로부터 찾고자 하 는 객체를 사람 및 좌석으로 설정할 수 있다. 몇몇 실시 예에서, 제1 추론 모델은 사람 바운딩 박스와 좌석 바운딩 박스를 비교하여 점유 좌석 위치를 추론할 수 있다. 구체적으로, 제1 추론 모델은 찾고자 하는 객체로서 사람 및 좌석의 특징을 사전에 추출 하고, 촬영 데이터로부터 사람 및 좌석의 특징을 추출하고 분류를 수행하거나, CNN 기반의 검출 및 인식을 수행 하여, 검출된 사람 및 좌석을 둘러싸는 바운딩 박스로서 그 결과를 표시할 수 있다. 어떤 사람에 대한 바운딩 박스와 어떤 좌석에 대한 바운딩 박스가 미리 설정된 기준을 충족할 만큼 겹친 경우(예를 들어, 사람 바운딩 박 스의 약 90 %의 영역이 좌석 바운딩 박스에 겹친 경우), 제1 추론 모델은 해당 사람이 해당 좌석을 점유하 는 것으로 결정할 수 있다. 이와 다르게, 어떤 사람에 대한 바운딩 박스와 어떤 좌석에 대한 바운딩 박스가 미 리 설정된 기준을 충족하지 못할 만큼만 겹친 경우(예를 들어, 사람 바운딩 박스의 약 60 %의 영역만이 좌석 바 운딩 박스에 겹친 경우), 제1 추론 모델은 해당 사람이 해당 좌석을 점유하지 않은 것으로 결정할 수 있다. 이 때 미리 설정된 기준은 좌석의 형태, 카메라로부터 좌석을 바라보는 각도(예를 들어, 의자의 전면, 후면 등) 등을 고려하여 좌석마다 다르게 설정될 수 있다. 몇몇 실시 예에서, 카페 모니터링 장치는 좌석 결정 모듈을 더 포함할 수 있다. 좌석 결정 모듈(10 6)은, 하나의 사람 바운딩 박스가 복수의 좌석 바운딩 박스에 대응되는 경우, 얼굴 또는 뒤통수 검출 여부에 따 라 점유 좌석 위치를 결정할 수 있다. 예를 들어, 어떤 사람의 바운딩 박스가 앞 좌석과 뒷 좌석을 포함하는 2 개의 좌석에 모두 겹치는 경우, 검출된 사람 영역에서 얼굴 인식 또는 뒤통수 인식을 수행할 수 있다. 검출된 사람 영역에서 얼굴 인식에 성공한 경우, 해당 사람은 2 개의 좌석 중 앞 좌석을 점유하는 것으로 결정할 수 있 고, 검출된 사람 영역에서 얼굴 인식을 실패하거나 뒤통수 인식에 성공한 경우, 해당 사람은 뒷 좌석을 점유하 는 것으로 결정할 수 있다. 몇몇 실시 예에서, 좌석 결정 모듈은, 하나의 사람 바운딩 박스가 복수의 좌석 바운딩 박스에 대응되는 경 우, 겹치는 넓이를 비교함으로써 점유 좌석 위치를 결정할 수 있다. 예를 들어, 어떤 사람의 바운딩 박스의 약 30 %의 영역이 어떤 좌석에 대한 바운딩 박스와 겹치고, 해당 사람의 바운딩 박스의 다른 약 60 %의 영역이 다 른 좌석에 대한 바운딩 박스와 겹칠 수 있다. 이런 경우에는, 해당 사람은 다른 좌석을 점유하는 것으로 결정 할 수 있다. 고객 외형 추론 데이터(D2)는, 카페에 방문하는 고객의 성별 및 연령대 중 적어도 하나를 포함할 수 있다. 고객 외형 추론 데이터(D2)는 좌석 점유 현황 데이터(D1)와 결합될 수 있다. 예를 들어, 좌석 점유 현황 데이터(D1) 중 점유 좌석 위치와 고객 외형 추론 데이터(D2)의 성별이 결합되어, 어느 좌석에 어느 성별의 점유율이 높은 지 등의 분석이 수행될 수 있다. 또한, 좌석 점유 현황 데이터(D1) 중 입장 시각 및 퇴장 시각과 고객 외형 추 론 데이터(D2)의 연령대가 결합되어, 어느 시간대에 어느 연령대가 얼마만큼 체류했는지 등의 분석이 수행될 수 도 있다. 제1 추론 모델은 객체 검출 모델을 이용하여, 카페에 방문하는 고객의 성별 및 연령대 중 적어도 하나를 추론할 수 있다. 이 때 객체 검출 모델은, 촬영 데이터로부터 찾고자 하는 객체를 사람, 소지품, 의복, 신발 등으로 설정할 수 있다. 몇몇 실시 예에서, 제1 추론 모델은 시맨틱 세그멘테이션을 추가로 수행하여, 인식되는 사물의 아웃라인 (outline)을 구성하여 요소 분할을 구현할 수도 있다. 제2 추론 모델은, 카메라로부터 출력되는 촬영 데이터를 입력받고, 카페에 대한 고객 행동 추론 데이 터(D3) 및 메뉴 매출 추정 데이터(D4)를 출력할 수 있다. 고객 행동 추론 데이터(D3) 및 메뉴 매출 추정 데이 터(D4) 중 적어도 하나는 카페 큐레이션을 위해 사용될 수 있다. 고객 행동 추론 데이터(D3)는, 카페에 방문하는 고객의 방문 목적 및 행동 패턴 중 적어도 하나를 포함할 수 있 다. 비제한적인 예로서, 방문 목적은, 식사, 휴식, 공부, 독서, 과제, 대화 등을 포함할 수 있다. 또한, 비제 한적인 예로서, 행동 패턴은, 스마트 폰 사용, 태블릿 컴퓨터 사용, 독서, 타이핑, 그리기, 음료 섭취, 음식 자르기, 필기 등을 포함할 수 있다. 제2 추론 모델은 객체 검출 모델 및 포즈 추정 모델을 포함할 수 있다. 여기서, 포즈 추정은 촬영 데이터 내의 포즈(pose)를 추론하는 것을 의미할 수 있다. 예를 들어, 이미지 또는 비디오 상의 사람의 관절 위치를 예측하는 것을 포함할 수 있다. 몇몇 실시 예에서, 포즈 추정을 위해, 그래프형 모델뿐 아니라, 모든 관절의 문맥을 포착할 수 있는 심층 신경망(Deep Neural Network, DNN)이 사용될 수도 있다. 즉 제2 추론 모델 은 사람을 검출한 경우 사람의 관절에 해당하는 피봇(pivot) 포인트를 출력할 수 있다. 제2 추론 모델은 객체 검출 모델을 이용하여 객체를 검출하고, 검출된 객체가 사람인 경우 포즈 추정 모델 을 이용하여 방문 목적 및 행동 패턴 중 적어도 하나를 추론할 수 있다. 방문 목적 및 행동 패턴은 사람만을 식별하여 수행될 수도 있지만, 사람이 사용하거나 소지하는 물건을 함께 식별하여 수행될 수도 있다. 즉, 제2 추론 모델은, 객체 검출 모델을 이용하여 사람 외에 추가로 객체를 검출하여, 검출된 객체가 물건이고 음 료 또는 음식이 아닌 경우, 해당 물건에 관한 정보와 포즈 추정 모델을 이용하여 방문 목적 및 행동 패턴 중 적 어도 하나를 추론할 수 있다. 예를 들어, 식별된 물건이 랩톱 컴퓨터이고 사람의 포즈가 테이블에 손을 올리고 있는 것으로 추론된 경우에는 행동 패턴이 타이핑이고 방문 목적이 문서 작업인 것으로 추론할 수 있다. 이와 다르게, 식별된 물건이 랩톱 컴퓨터이고 사람의 포즈가 테이블 아래로 손을 내리고 있는 것으로 추론된 경우에 는 행동 패턴이 영화 감삭이고 방문 목적이 휴식인 것으로 추론할 수 있다. 몇몇 실시 예에서, 사람에 대한 포즈 추정을 수행하는 경우, 상체의 피봇 포인트만을 연결하여 트래킹하는 기법 을 사용할 수 있다. 일반적으로는 사람의 행동 패턴을 분석하기 위해 전신의 모든 절점을 인식하여 포즈 추정 을 수행하지만, 주로 앉아서 상체만을 주로 움직이는 카페의 특성과 컴퓨팅 자원의 효율적 운용을 위해 사람으 로 판단된 경우에는 상체만 고려하여 추론 연산에 사용되는 절점의 개수를 줄일 수 있다. 메뉴 매출 추정 데이터(D4)는 카페에 방문하는 고객의 주문 메뉴 및 매출 중 적어도 하나를 포함할 수 있다. 비제한적인 예로서, 주문 메뉴는 뜨거운 음료인지 차가운 음료인지 여부, 음료의 사이즈, 음료의 가격 등을 포 함할 수 있고, 매출은 특정 시점의 매출, 단기 매출 패턴, 장기 매출 패턴 등을 포함할 수 있다. 제2 추론 모델은, 검출된 객체가 물건이고 음료 또는 음식인 경우, 객체 검출 모델을 이용하여 주문 메뉴 및 매출 중 적어도 하나를 추론할 수 있다. 이 때 객체 검출 모델은, 촬영 데이터로부터 찾고자 하는 객체를 음료, 음식 등으로 설정할 수 있다. 전술한 바와 같이 획득할 수 있는 좌석 점유 현황 데이터(D1), 고객 외형 추론 데이터(D2), 고객 행동 추론 데 이터(D3) 및 메뉴 매출 추정 데이터(D4)는 텍스트 타입의 데이터로 출력될 수 있다. 예를 들어, 텍스트 타입의 데이터는 \"1번 테이블에 3명, 3번 테이블에 1명, 라떼 2잔, 아이스 아메리카노 3잔, 여성 3명, 남성 2명\" 등의 형태로 표현될 수 있다. 이와 같이 출력되는 텍스트 데이터는 예를 들어 JSON과 같이 일정한 규격을 따르는 텍 스트 데이터로 추상화되거나, 암호화된 텍스트 데이터로 변환될 수 있다. 모니터링 장치는 이와 같은 텍스 트 기반의 데이터를 모니터링 및 예측 결과로서 카페 큐레이션 서버로 전송될 수 있다. 여기서 주목할 점은, 모니터링 장치에서 카페 큐레이션 서버로 전송되는 데이터는 익명화된 텍스트 데 이터만을 포함하며, 신원을 식별할 여지가 존재하는 촬영 데이터는 카페 큐레이션 서버로 전송되지 않는다 는 점이다. 이에 따라, 개인 정보 보호를 구현하면서도 카페 현황을 통계적인 데이터로서 파악하고 활용할 수 있다. 몇몇 실시 예에서, 카페 모니터링 장치는 추론 데이터 삭제 모듈을 더 포함할 수 있다. 제1 추론 모 델은 촬영 데이터 중 제1 추론이 종료된 제1 추론 종료 촬영 데이터에 관한 정보를 포함하는 제1 추론 종 료 신호(DR1)를 출력하고, 제2 추론 모델은 촬영 데이터 중 제2 추론이 종료된 제2 추론 종료 촬영 데이터 에 관한 정보를 포함하는 제2 추론 종료 신호(DR2)를 출력할 수 있다. 추론 데이터 삭제 모듈은, 제1 추론 종료 신호(DR1)에 따라 제1 추론 종료 촬영 데이터를 삭제하고, 제2 추론 종료 신호(DR2)에 따라 제2 추론 종료 촬영 데이터를 삭제할 수 있다. 구체적으로, 제1 추론 모델은, 좌석 점유 현황 데이터(D1) 및 고객 외형 추론 데이터(D2)의 추론에 사용된 촬영 데이터에 관한 정보를 포함하는 제1 추론 종료 신호(DR1)를 추론 데이터 삭제 모델에 출력할 수 있고, 추론 데이터 삭제 모듈은, 제1 추론 종료 신호(DR1)에 따라 좌석 점유 현황 데이터(D1) 및 고객 외 형 추론 데이터(D2)의 추론에 사용된 촬영 데이터를 메모리 및 스토리지에서 삭제할 수 있다. 또한, 제2 추론 모델은, 고객 행동 추론 데이터(D3) 및 메뉴 매출 추정 데이터(D4)의 추론에 사용된 촬영 데이터에 관한 정보를 포함하는 제2 추론 종료 신호(DR2)를 추론 데이터 삭제 모델에 출력할 수 있고, 추론 데이터삭제 모듈은, 제2 추론 종료 신호(DR2)에 따라 고객 행동 추론 데이터(D3) 및 메뉴 매출 추정 데이터(D4) 의 추론에 사용된 촬영 데이터를 메모리 및 스토리지에서 삭제할 수 있다. 몇몇 실시 예에서, 추론 데이터 삭제 모듈은, 제1 추론 종료 신호(DR1)를 수신한 경우, 제1 추론 종료 촬 영 데이터가 제2 추론 모델에 의해 사용 중인지 여부를 판정하고, 제1 추론 종료 촬영 데이터가 제2 추론 모델에 의해 사용 중인 것으로 판정된 경우, 제1 추론 종료 촬영 데이터를 삭제하지 않고 유지할 수 있다. 즉, 이 경우는 제1 추론 종료 촬영 데이터가 제1 추론 모델뿐 아니라 제2 출원 모델에서도 사용되는 경우이다. 이후, 제1 추론 종료 촬영 데이터에 대한 제2 추론 종료 신호(DR2)를 수신한 경우, 제2 추론 종료 촬영 데이터를 삭제할 수 있다. 이에 따라, 추론을 위해 사용되었던 이미지 및 비디오에 대해, 개인 정보 보호 를 위한 삭제를 안전하게 수행할 수 있다. 도 3은 일 실시 예에 따른 카페 모니터링 방법을 설명하기 위한 흐름도이다. 도 3을 참조하면, 일 실시 예에 따른 카페 모니터링 방법은, 단계(S301)에서 촬영 이미지 기반의 객체 인식을 수행하고, 단계(S302)에서 고객 외형을 추론할 수 있다. 상기 방법은, 단계(S303)에서 사람 바운딩 박스와 좌 석 바운딩 박스를 비교하여 점유한 좌석을 판별하고, 단계(S304)에서 사람 바운딩 박스가 복수의 좌석 바운딩 박스에 대응되는 경우 점유 좌석을 결정할 수 있다. 또한, 상기 방법은, 단계(S305)에서 좌석 점유 현황 데이 터(D1) 및 고객 외형 추론 데이터(D2)를 출력하고, 단계(S306)에서 추론에 사용된 촬영 이미지를 삭제할 수 있 다. 일 실시 예에 따른 카페 모니터링 방법에 대해 더 상세한 내용에 대해서는 도 1 내지 도 2와 관련하여 전술한 설명을 참조할 수 있으므로, 여기에서는 중복되는 설명을 생략하도록 한다. 도 4은 일 실시 예에 따른 카페 모니터링 결과를 설명하기 위한 도면이다. 도 4를 참조하면, 제1 추론 모델은, 카메라로부터 출력되는 촬영 데이터를 입력받고 객체 검출을 수 행하여 사람을 검출할 수 있다. 이 때, 제1 추론 모델은, 검출된 사람의 얼굴을 인식하지 않고 얼굴의 외 형만을 분석할 수 있다. 즉, 익명의 사람의 착석 위치만을 인식하여 좌석 점유 현황을 파악할 수 있다. 또한, 제1 추론 모델은 검출된 사람의 머리 길이, 착용 의상, 헤어스타일, 신발 형태, 소지품 등에 대한 객체 검 출을 수행하여 고객의 성별 및 연령대를 추론할 수 있다. 이로부터, 카페를 방문하는 주 방문층에 대한 분석, 실시간 또는 통계적 좌석 점유에 대한 분석, 카페에 머무르 는 시간에 대한 분석 등이 수행될 수 있다. 예를 들어, 도시된 바와 같이, 성별, 연령대, 착석한 테이블, 입장 시각 및 퇴장 시각과 같은 데이터를 축적 및 분석하고, 카페 큐레이션 서비스는 고객의 데이터에 대한 분석을 추가로 수행함으로써, 고객이 단순히 현재 위치와 가까운 카페 또는 저명한 프랜차이즈 카페만을 선택하지 않고, 실질적으로 고객에게 만족감을 줄 수 있는 카페를 발굴 및 추천할 수 있다. 도 5는 일 실시 예에 따른 카페 모니터링 방법을 설명하기 위한 흐름도이다. 도 5를 참조하면, 일 실시 예에 따른 카페 모니터링 방법은, 단계(S501)에서 촬영 이미지 및 비디오 기반의 객 체 인식을 수행하고, 단계(S502)에서 인식 객체의 크기에 따라 선택적으로 리사이징을 수행할 수 있다. 즉, 인 식 객체의 크기가 과도하게 작은 경우, 촬영 이미지 및 비디오 프레임에 대한 리사이징을 선택적으로 수행할 수 있다. 상기 방법은, 단계(S503)에서 인식 객체가 물건인 경우 메뉴 추론을 수행할 수 있고, 단계(S504)에서 인 식 객체가 사람인 경우 포즈 추정 기반 행동 추론을 수행할 수 있다. 또한, 상기 방법은, 단계(S505)에서 고객 행동 추론 데이터(D3) 및 메뉴 매출 추론 데이터(D4)를 출력하고, 단계(S506)에서 추론에 사용된 촬영 이미지 및 비디오를 삭제할 수 있다. 일 실시 예에 따른 카페 모니터링 방법에 대해 더 상세한 내용에 대해서는 도 1 내지 도 2와 관련하여 전술한 설명을 참조할 수 있으므로, 여기에서는 중복되는 설명을 생략하도록 한다. 도 6 및 도 7은 일 실시 예에 따른 카페 모니터링 결과들을 설명하기 위한 도면들이다. 도 6 및 도 7을 참조하면, 제2 추론 모델은, 카메라로부터 출력되는 촬영 데이터를 입력받고 객체 검 출 및 포즈 추정을 수행하여 고객 행동을 추론할 수 있다. 이 때, 제2 추론 모델은, 피봇 포인트 범위를 전신으로 설정하지 않고 상체만을 설정할 수 있다. 이에 따라 절점의 개수가 감소하고 행동 패턴의 가지 수가 줄어들게 되어 불필요한 연산량을 줄일 수 있다. 이로부터, 카페를 방문하는 주된 목적에 대한 분석, 카페의 특성을 반영하는 카페 내에서의 행동 통계에 대한 분석, 행동 패턴 별 착석 위치에 대한 분석 등이 수행될 수 있다. 예를 들어, 도 6에 도시된 바와 같이, 포즈 추정으로부터 단기 추론과 장기 추론을 수행하고, 카페 내 고객의 행동을 시간 별로 분석하고 그 분석 결과를 좌석 점유율과 연동시킬 수 있다. 또한, 실시간 메뉴 및 가격에 대한 분석, 전체 주문 메뉴에 대한 분석, 매출 분석 등이 수행될 수 있다. 예를 들어, 도 7에 도시된 바와 같이, 음료의 온도, 사이즈로부터 메뉴 추론을 수 행하고, 사용자 데이터를 고려하여 최종 메뉴와 가격을 추정하여 시간에 따를 매출 추이까지 예측할 수 있다. 카페 큐레이션 서비스는 이러한 분석에 고객의 데이터에 대한 분석을 추가로 수행함으로써, 고객이 단순히 현재 위치와 가까운 카페 또는 저명한 프랜차이즈 카페만을 선택하지 않고, 실질적으로 고객에게 만족감을 줄 수 있 는 카페를 발굴 및 추천할 수 있다. 도 8은 일 실시 예에 따른 카페 모니터링 장치를 설명하기 위한 블록도이다. 도 8을 참조하면, 일 실시 예에 따른 카페 모니터링 장치는 카메라, 메모리, 제1 추론 모델 , 제2 추론 모델, 추론 데이터 삭제 모듈 및 좌석 결정 모듈뿐 아니라, 동작 제어 모듈 및 부하 센서(108, 109)를 더 포함할 수 있다. 카메라는 카페의 내부를 촬영하고 촬영된 이미지 또는 비디오를 포함하는 촬영 데이터를 출력할 수 있다. 카페의 내부를 사각지대 없이 촬영하기 위해, 카페에는 여러 대의 카메라가 설치될 수 있고, 이들은 서로 네트워크를 통해 데이터를 교환할 수 있다. 메모리는 카페 모니터링 장치가 구동되기 위해 필요한 소프트웨어 및 데이터를 적재할 수 있다. 구체 적으로, 메모리에는 제1 추론 모델 또는 제2 추론 모델을 이용하여 카페 내부의 현황 모니터링 및 예측을 수행하기 위한 프로그램 코드가 적재되거나, 해당 프로그램 코드가 사용하는 데이터가 적재될 수 있 다. 카메라로부터 출력되는 촬영 데이터는 메모리에 적재되고, 제1 추론 모델 및 제2 추론 모델 은 메모리에 적재된 촬영 데이터를 카메라 데이터(CD)로서 액세스하여 카페 내부의 현황 모니터링 및 예측을 수행할 수 있다. 제1 추론 모델은, 카메라로부터 출력되는 촬영 데이터를 입력받고, 카페에 대한 좌석 점유 현황 데이 터(D1) 및 고객 외형 추론 데이터(D2)를 출력할 수 있다. 좌석 점유 현황 데이터(D1) 및 고객 외형 추론 데이 터(D2) 중 적어도 하나는 카페 큐레이션을 위해 사용될 수 있다. 제2 추론 모델은, 카메라로부터 출력되는 촬영 데이터를 입력받고, 카페에 대한 고객 행동 추론 데이 터(D3) 및 메뉴 매출 추정 데이터(D4)를 출력할 수 있다. 고객 행동 추론 데이터(D3) 및 메뉴 매출 추정 데이 터(D4) 중 적어도 하나는 카페 큐레이션을 위해 사용될 수 있다. 추론 데이터 삭제 모듈은, 제1 추론 종료 신호(DR1)에 따라 제1 추론 종료 촬영 데이터를 삭제하고, 제2 추론 종료 신호(DR2)에 따라 제2 추론 종료 촬영 데이터를 삭제할 수 있다. 그 외 카메라, 메모리, 제1 추론 모델, 제2 추론 모델, 추론 데이터 삭제 모듈 및 좌석 결정 모듈에 관하여는 도 2와 관련하여 전술한 설명을 참조할 수 있으므로, 여기에서는 중복되는 설 명을 생략하도록 한다. 동작 제어 모듈은 카페 모니터링 장치에 부하가 소정의 기준을 초과하여 발생한 경우, 카페 모니터링 장치의 동작 모드를 전환할 수 있다. 구체적으로, 동작 제어 모듈은 카페 모니터링 장치의 동작 모드를 제1 동작 모드(미리 정해진 시간 동안 동작을 정지시키는 동작 모드), 제2 동작 모드(강제로 재부팅에 진입하는 동작 모드) 및 제3 동작 모드(정상 동작 모드) 사이에서 전환할 수 있다. 제1 부하 센서는, 예를 들어 카페 모니터링 장치의 온도를 측정하기 위한 온도 센서를 포함할 수 있다. 몇몇 실시 예에서, 동작 제어 모듈은, 제1 부하 센서의 값이 제1 임계값(예를 들어, 80도)을 초과하는 경우 카페 모니터링 장치를 미리 정해진 시간 동안 동작을 정지시키는 제1 동작 모드로 전환하고, 제1 부하 센서의 값이 제2 임계값(예를 들어, 90도)을 초과하는 경우 카페 모니터링 장치를 강제로 재 부팅에 진입하는 제2 동작 모드로 전환하고, 제1 부하 센서의 값이 제1 임계값 이하로 돌아온 경우 정상 동작 모드에 해당하는 제3 동작 모드로 전환할 수 있다. 한편, 몇몇 실시 예에서, 동작 제어 모듈은, 제1 부하 센서의 값이 제1 임계값(예를 들어, 80도)을 초과하는 경우 제1 동작 모드로 전환하고, 이후 소정의 시간 동안 카운트 동작을 수행하고, 카운트 값이 제4 임 계값(예를 들어 90 도)을 초과하는지 여부를 판정하고, 카운트 값이 제4 임계값을 초과하는 것으로 판정된경우, 즉, 카페 모니터링 장치의 온도가 카운트하는 동안 더 상승한 경우, 카페 모니터링 장치를 제2 동작 모드로 전환할 수 있다. 이와 다르게, 카운트 값이 제4 임계값 이하인 것으로 판정된 경우, 카페 모니터 링 장치를 제3 동작 모드로 전환할 수 있다. 한편, 제2 부하 센서는, 예를 들어 카페 모니터링 장치의 프레임 레이트(fps)를 측정하기 위한 센서를 포함할 수 있다. 즉, 제1 부하 센서 및 제2 부하 센서는 이종 센서로 구성될 수 있다. 제2 부하 센 서에 대해서도 제1 부하 센서에 대한 설명이 그대로 적용될 수 있다. 예를 들어, 몇몇 실시 예에서, 동작 제어 모듈은, 제2 부하 센서의 값이 제1 임계값을 초과하는 경우 (예를 들어, 20 fps 미만으로 프레임 레이트가 떨어진 경우) 카페 모니터링 장치를 미리 정해진 시간 동안 동작을 정지시키는 제1 동작 모드로 전환하고, 제2 부하 센서의 값이 제2 임계값을 초과하는 경우(예를 들 어, 10 fps 미만으로 프레임 레이트가 떨어진 경우) 카페 모니터링 장치를 강제로 재부팅에 진입하는 제2 동작 모드로 전환하고, 제1 부하 센서의 값이 제1 임계값 이하로 돌아온 경우(예를 들어, 20 fps 이상으로 프레임 레이트가 상승한 경우) 정상 동작 모드에 해당하는 제3 동작 모드로 전환할 수 있다. 도 9는 일 실시 예에 따른 카페 모니터링 방법을 설명하기 위한 흐름도이다. 도 9를 참조하면, 일 실시 예에 따른 카페 모니터링 방법은, 단계(S901)에서 제1 부하 센서 또는 제2 부하 센서의 값이 제1 임계값을 초과하는 경우 제1 동작 모드로 전환하고, 단계(S902)에서 제1 부하 센서 또는 제2 부하 센서의 값이 제2 임계값을 초과하는 경우 제2 동작 모드로 전환하고, 단계(S903)에서 제1 부하 센서 또는 제2 부하 센서의 값이 제1 임계값 이하인 경우 제1 동작 모드로 전환할 수 있다. 일 실시 예에 따른 카페 모니터링 방법에 대해 더 상세한 내용에 대해서는 도 8과 관련하여 전술한 설명을 참조 할 수 있으므로, 여기에서는 중복되는 설명을 생략하도록 한다. 도 10은 일 실시 예에 따른 카페 모니터링 방법을 설명하기 위한 흐름도이다. 도 10을 참조하면, 일 실시 예에 따른 카페 모니터링 방법은, 단계(S1001)에서 제1 부하 센서 또는 제2 부 하 센서의 값이 제1 임계값을 초과하는 경우 제1 동작 모드로 전환하고, 단계(S1002)에서 제1 동작 모드 전환 후 소정의 시간동안 카운트 동작을 수행할 수 있다. 상기 방법은, 단계(S1003)에서 카운트 값이 제4 임계 값을 초과하는지 여부를 판정할 수 있고, 초과하는 경우, 단계(S1004)로 진행하여 제2 동작 모드로 진입할 수 있다. 이와 다르게, 초과하지 않는 경우, 단계(S1005)로 진행하여 제3 동작 모드로 진입할 수 있다. 일 실시 예에 따른 카페 모니터링 방법에 대해 더 상세한 내용에 대해서는 도 8과 관련하여 전술한 설명을 참조 할 수 있으므로, 여기에서는 중복되는 설명을 생략하도록 한다. 도 11은 일 실시 예에 따른 컴퓨팅 장치를 설명하기 위한 블록도이다. 도 11을 참조하면, 실시 예들에 따른 카페 모니터링 장치 및 카페 모니터링 방법, 그리고 카페 큐레이션 서버 및 사용자 단말들은 컴퓨팅 장치를 이용하여 구현될 수 있다. 컴퓨팅 장치는 버스를 통해 통신하는 프로세서, 메모리, 저장 장치, 디스플레이 장치 , 다른 개체와의 통신을 위해 네트워크에 대한 접속을 제공하는 네트워크 인터페이스 장치 및, 사용자 입력 인터페이스 또는 사용자 출력 인터페이스를 제공하는 입출력 인터페이스 장치 중 적어도 하나 를 포함할 수 있다. 물론, 컴퓨터 장치는 도 11에 도시되지 않았지만, 본 명세서에 기재된 기술적 사상을 구현하기 위해 필요한 임의의 전자 장치를 추가로 포함할 수 있다. 프로세서는 AP(Application Processor), CPU(Central Processing Unit), GPU(Graphic Processing Unit), NPU(Neural Processing Unit) 등과 같은 다양한 종류들로 구현될 수 있으며, 메모리 또는 저장 장 치에 저장된 프로그램 또는 명령을 실행하는 임의의 전자 장치일 수 있다. 특히, 프로세서는 도 1 내지 도 10과 관련하여 전술한 기능 또는 방법들을 구현하도록 구성될 수 있으며, 실시 예들에 따른 카페 모니 터링 장치 및 카페 모니터링 방법과 관련하여 인공지능에 특화된 연산은 GPU 또는 NPU 상에서 처리될 수 있다. 메모리 및 저장 장치는 다양한 형태의 휘발성 또는 비 휘발성 저장 매체를 포함할 수 있다. 예를 들 어, 메모리는 ROM(read-only memory) 또는 RAM(random access memory)을 포함할 수 있으며, 메모리 는 프로세서의 내부 또는 외부에 위치할 수 있고, 이미 알려진 다양한 수단을 통해 프로세서와 연결 될 수 있다. 한편, 저장 장치의 예로서 HDD(Hard Disk Drive) 또는 SSD(Solid State Drive) 등을 들 수 있으며, 본 발명의 범위는 설명을 위해 위에서 나열한 요소들로 제한되는 것은 아니다.실시 예들에 따른 카페 모니터링 장치 및 카페 모니터링 방법 중 적어도 일부는 컴퓨팅 장치에서 실행되는 프로그램 또는 소프트웨어로 구현될 수 있고, 이와 같은 프로그램 또는 소프트웨어는 컴퓨터로 판독 가능한 매 체에 저장될 수 있다. 한편, 실시 예들에 따른 카페 모니터링 장치 및 카페 모니터링 방법 중 적어도 일부는 컴퓨팅 장치의 하드 웨어를 사용하여 구현되거나, 컴퓨팅 장치와 전기적으로 접속될 수 있는 별도의 하드웨어로 구현될 수도 있 다. 이상에서 본 발명의 실시 예들에 대하여 상세하게 설명하였지만 본 발명의 권리 범위는 이에 한정되지 않으며, 다음의 청구범위에서 정의하고 있는 본 발명의 기본 개념을 이용한, 본 발명이 속하는 기술 분야에서 통상의 지 식을 가진 자의 여러 변형 및 개량 형태 또한 본 발명의 권리 범위에 속한다."}
{"patent_id": "10-2022-0114123", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 일 실시 예에 따른 카페 큐레이션 시스템을 설명하기 위한 블록도이다. 도 2는 일 실시 예에 따른 카페 모니터링 장치를 설명하기 위한 블록도이다. 도 3은 일 실시 예에 따른 카페 모니터링 방법을 설명하기 위한 흐름도이다. 도 4은 일 실시 예에 따른 카페 모니터링 결과를 설명하기 위한 도면이다. 도 5는 일 실시 예에 따른 카페 모니터링 방법을 설명하기 위한 흐름도이다. 도 6 및 도 7은 일 실시 예에 따른 카페 모니터링 결과들을 설명하기 위한 도면들이다. 도 8은 일 실시 예에 따른 카페 모니터링 장치를 설명하기 위한 블록도이다. 도 9는 일 실시 예에 따른 카페 모니터링 방법을 설명하기 위한 흐름도이다. 도 10은 일 실시 예에 따른 카페 모니터링 방법을 설명하기 위한 흐름도이다. 도 11은 일 실시 예에 따른 컴퓨팅 장치를 설명하기 위한 블록도이다."}
