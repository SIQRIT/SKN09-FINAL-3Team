{"patent_id": "10-2020-0050911", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2021-0132474", "출원번호": "10-2020-0050911", "발명의 명칭": "통신 상태를 자가 진단하는 데이터 수집 및 처리용 엣지 디바이스", "출원인": "에스큐아이소프트", "발명자": "송정학"}}
{"patent_id": "10-2020-0050911", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "통신 상태를 자가 진단하는 데이터 수집 및 처리용 엣지 디바이스로서,통신부;에너지원과 전기적으로 연결된 하나 이상의 전자 디바아스와 물리적으로 연결된 직렬 인터페이스;상기 에너지원의 종류 정보 및 타입 정보에 대응하는 운용 모드를 설정하는 스위치; 및상기 운용 모드가 설정된 경우, 컴포트 별로 상기 전자 디바이스와의 통신 채널이 정상 동작하는지 여부를 결정하는 컨트롤러를 포함하며,상기 컨트롤러는,상기 전자 디바이스와의 통신 채널 각각이 정상 동작하는 경우, 데이터 수집 서버에 해당 메시지를 전송하고,상기 데이터 수집 서버로부터 응답 메시지를 상기 통신부를 통해 수신하며, 수신된 상기 응답 메시지에 기초하여, 상기 데이터 수집 서버와의 통신 상태를 결정하도록 구성되는, 엣지 디바이스."}
{"patent_id": "10-2020-0050911", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,하나 이상의 발광 소자를 더 포함하며,상기 컨트롤러는 컴포트 별로 상기 통신 채널의 정상 동작 여부를 상기 발광 소자를 통해 출력하되, 통신 채널각각에 대해, 통신 채널이 정상인 경우 제1 깜빡임 속도로 동작하도록 상기 발광 소자를 제어하고, 통신 채널이 비정상인 경우, 제1 깜빡임 속도보다 빠른 속도로 동작하도록 상기 발광 소자를 제어하도록 구성되는, 엣지 디바이스."}
{"patent_id": "10-2020-0050911", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 컨트롤러는 제1 컴포트를 이용하여,소정 프로토콜에 기초한 Request 데이터를 상기 직렬 인터페이스를 통해 전자 디바이스로 전송하도록 상기 통신부를 제어하고,해당 전자 디바이스로부터 Response 데이터를 수신하는 경우, 상기 Response 데이터의 길이 정보 필드 및 오류검출 필드의 값에 기초하여, 해당 통신 채널의 정상 여부를 결정하도록 구성되는, 엣지 디바이스."}
{"patent_id": "10-2020-0050911", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,상기 컨트롤러는 제1 컴포트를 이용하여,상기 Response 데이터에 포함된 소정 필드의 수치 범위를 미리 설정하고, 상기 소정 필드의 수치값이 상기 수치범위를 벗어나는 경우, 상기 에너지원의 종류 정보 및 타입 정보를 신뢰하지 않도록 구성되는, 엣지 디바이스."}
{"patent_id": "10-2020-0050911", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서,상기 컨트롤러는,상기 컴포트 별로, 상기 전자 디바이스와의 물리적 연결이 수행된 직후, 상기 전자 디바이스와의 통신 채널이공개특허 10-2021-0132474-3-정상 동작하는지 여부를 자동으로 테스트하도록 구성되는, 엣지 디바이스."}
{"patent_id": "10-2020-0050911", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5항에 있어서,모드버스 맵 파일을 저장하는 메모리를 더 포함하며,상기 컨트롤러는,제1 컴포트가 아닌 하나 이상의 제2 컴포트가 모드버스 프로토콜에 기반하여 통신하는 경우, 상기 모드버스 맵파일에 기초하여, 전자 디바이스와 통신하도록 구성되는, 엣지 디바이스."}
{"patent_id": "10-2020-0050911", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서,상기 컨트롤러는,상기 모드버스 맵 파일이 검색되지 않는 경우, 전자 디바이스를 제조하는 제조사의 제품 생산 정보, 마켓 점유정보, 납품 지역 정보, 통신 프로토콜 정보 중 적어도 하나에 기초하여, 상기 제2 컴포트를 이용하여 전자 디바이스와의 통신을 시도하도록 구성되는, 엣지 디바이스."}
{"patent_id": "10-2020-0050911", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "전자 단말이 개시된다. 본 단말은 통신부, 에너지원과 전기적으로 연결된 하나 이상의 전자 디바아스와 물리적으 로 연결된 직렬 인터페이스, 에너지원의 종류 정보에 대응하는 운용 모드를 설정하는 스위치 및 운용 모드가 설 정된 경우, 컴포트 별로 전자 디바이스와의 통신 채널이 정상 동작하는지 여부를 결정하는 컨트롤러를 포함한다. 이에 따라, 전자 단말이 형성하는 통신 채널의 정상 작동 여부가 오토매틱으로 수행될 수 있다."}
{"patent_id": "10-2020-0050911", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 개시는 전자 단말에 관한 것으로, 더 상세하게는 다양한 에너지원에서 데이터를 수집하는 경우, 통신 채널 각각의 상태를 체크하는 전자 단말에 관한 것이다."}
{"patent_id": "10-2020-0050911", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "주요 에너지원인 화석연료의 사용으로 기후변화 등의 부작용이 초래되면서 그 사용에 대한 제약이 심화되고 있 으며, 화석연료의 고갈 속도도 매우 빠르게 진행되고 있다. 이러한 한계를 극복하기 위해, 화석연료를 대체할 신재생 에너지가 각광 받고 있으며, 신재생 에너지는 태양광, 풍력, 태양열, ESS(Energy Storage System), 연료전지, 지열 에너지 등을 포함한다. 신재생 에너지 시스템에서 생산된 전력에 대한 효율적인 관리가 필요하며, 이를 위해 신재생 에너지 시스템의 구동을 통합적면서 효율적으로 모니터링하는 방법이 필요하다. 신재생 에너지 시스템의 에너지원과 연결된 다양한 기기로부터 에너지 관련 데이터를 수신하는 전자 단말이 시 스템적으로 필요하다. 상기 전자 단말을 설치할 때, 에너지원과 연결된 다양한 기기와의 통신 상태를 파악하는 것이 중요하다 할 것이다. 한편, 상기와 같은 정보는 본 발명의 이해를 돕기 위한 백그라운드 (background) 정보로서만 제시될 뿐이다. 상 기 내용 중 어느 것이라도 본 발명에 관한 종래 기술로서 적용 가능할지 여부에 관해, 어떤 결정도 이루어지지 않았고, 또한 어떤 주장도 이루어지지 않는다. 선행기술문헌 특허문헌 (특허문헌 0001) 공개특허공보 제10-2004-0054216호(공개일 : 2004.6.25)"}
{"patent_id": "10-2020-0050911", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 상술한 문제점을 해결하기 위해 안출된 것으로, 본 발명의 일 실시 예가 해결하고자 하는 과제는 신 재생 에너지 시스템 상에 전자 단말을 설치할 때, 통신 채널의 정상 동작을 신속하게 파악하는 방법을 제공하는 데에 있다. 본 발명의 또 다른 과제는, 통신 채널의 정상 동작을 자동으로 테스트하는 전자 단말을 제공하는 데에 있다. 본 발명에서 이루고자 하는 기술적 과제들은 이상에서 언급한 기술적 과제들로 제한되지 않으며, 언급하지 않은"}
{"patent_id": "10-2020-0050911", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 2, "content": "또 다른 기술적 과제들은 아래의 기재로부터 본 발명이 속하는 기술분야에서 통상의 지식을 가진 자에게 명확하 게 이해될 수 있을 것이다."}
{"patent_id": "10-2020-0050911", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기한 과제를 실현하기 위한 본 발명의 일 실시 예에 따른 통신 상태를 자가 진단하는 데이터 수집 및 처리용 엣지 디바이스는 통신부; 에너지원과 전기적으로 연결된 하나 이상의 전자 디바아스와 물리적으로 연결된 직렬 인터페이스; 상기 에너지원의 종류 정보에 대응하는 운용 모드를 설정하는 스위치; 및 상기 운용 모드가 설정된 경우, 컴포트 별로 상기 전자 디바이스와의 통신 채널이 정상 동작하는지 여부를 결정하는 컨트롤러를 포함할 수 있다. 상기 컨트롤러는, 상기 전자 디바이스와의 통신 채널 각각이 정상 동작하는 경우, 데이터 수집 서버에 해당 메 시지를 전송하고, 상기 데이터 수집 서버로부터 응답 메시지를 상기 통신부를 통해 수신하며, 수신된 상기 응답 메시지에 기초하여, 상기 데이터 수집 서버와의 통신 상태를 결정하도록 구성될 수 있다. 상기 엣지 디바이스는 하나 이상의 발광 소자를 더 포함할 수 있다. 이때, 상기 컨트롤러는 컴포트 별로 상기 통신 채널의 정상 동작 여부를 상기 발광 소자를 통해 출력하되, 통신 채널 각각에 대해, 통신 채널이 정상인 경우 제1 깜빡임 속도로 동작하도록 상기 발광 소자를 제어하고, 통신 채널이 비정상인 경우, 제1 깜빡임 속도 보다 빠른 속도로 동작하도록 상기 발광 소자를 제어하도록 구성될 수 있다. 상기 컨트롤러는 제1 컴포트를 이용하여, 소정 프로토콜에 기초한 Request 데이터를 상기 직렬 인터페이스를 통 해 전자 디바이스로 전송하도록 상기 통신부를 제어하고, 해당 전자 디바이스로부터 Response 데이터를 수신하 는 경우, 상기 Response 데이터의 길이 정보 필드 및 오류 검출 필드의 값에 기초하여, 해당 통신 채널의 정상 여부를 결정하도록 구성될 수 있다. 또한, 상기 컨트롤러는 제1 컴포트를 이용하여, 상기 Response 데이터에 포함된 소정 필드의 수치 범위를 미리 설정하고, 상기 소정 필드의 수치값이 상기 수치 범위를 벗어나는 경우, 상기 에너지원의 종류 정보 및 타입 정 보를 신뢰하지 않도록 구성될 수 있다. 상기 컨트롤러는, 상기 컴포트 별로, 상기 전자 디바이스와의 물리적 연결이 수행된 직후, 상기 전자 디바이스 와의 통신 채널이 정상 동작하는지 여부를 자동으로 테스트하도록 구성될 수 있다. 상기 전자 단말은 모드버스 맵 파일을 저장하는 메모리를 더 포함하며, 상기 컨트롤러는, 제1 컴포트가 아닌 하 나 이상의 제2 컴포트가 모드버스 프로토콜에 기반하여 통신하는 경우, 상기 모드버스 맵 파일에 기초하여, 전 자 디바이스와 통신하도록 구성될 수 있다. 상기 컨트롤러는, 상기 모드버스 맵 파일이 검색되지 않는 경우, 전자 디바이스를 제조하는 제조사의 제품 생산 정보, 마켓 점유 정보, 납품 지역 정보, 통신 프로토콜 정보 중 적어도 하나에 기초하여, 상기 제2 컴포트를 이 용하여 전자 디바이스와의 통신을 시도하도록 구성될 수 있다."}
{"patent_id": "10-2020-0050911", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 다양한 실시예에 따른 전자 단말이 제공됨으로써, 신속하고 정확하면서 오토매틱으로 통신 채널의 정 상 동작 여부가 판별될 수 있다. 이에 따라, 작업자의 작업 효율이 향상될 수 있으며, 사용자 편의가 제고될 수 있다. 본 발명에서 얻을 수 있는 효과는 이상에서 언급한 효과들로 제한되지 않으며, 언급하지 않은 또 다른 효과들은"}
{"patent_id": "10-2020-0050911", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 2, "content": "아래의 기재로부터 본 발명이 속하는 기술분야에서 통상의 지식을 가진 자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2020-0050911", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하 첨부된 도면들을 참조하여 본 발명의 다양한 실시 예를 보다 상세하게 설명한다. 다만, 본 발명을 설명함 에 있어서, 관련된 공지 기능 혹은 구성에 대한 구체적인 설명이 본 발명의 요지를 불필요하게 흐릴 수 있다고 판단되는 경우 그에 대한 상세한 설명은 생략한다. 도 1은 본 발명의 일 실시 예에 따른 신재생 에너지 시스템을 개략적으로 설명하기 위한 도면이다. 도 1을 참고하면, 신재생 에너지 시스템은 에너지원(Energy Source, ES)에서 발생되는 에너지를 통합적으 로 관리할 수 있다. 복수의 에너지원(ES)은 태양광 ES, 태양열 ES, 풍력 ES, ESS ES, 연료전지 ES 및 지열 ES 등을 포함할 수 있다. 복수의 에너지원(ES)은 다양한 전자 디바이스와 연결할 수 있다. 여기서, 다양한 전자 디바이스는 인버터(I1, I2), 컨버터(Conv), 접속반 및 전력량계 등을 포함할 수 있으며, 에너지원 관련 데이터를 받을 수 있는 다양한 기기를 포함할 수 있다. 전자 단말(100A, 100B)은 복수의 에너지원(ES)에서 발생된 에너지 관련 데이터를 수집하여 데이터 수집 서 버로 제공할 수 있다. 데이터 수집 서버는 이동 통신 프로바이더가 제공할 수 있으나, 제공 주체가 이에 한정되는 것은 아니다. 전자 단말은 에너지 관련 데이터를 90일간 그의 저장소에 보관할 수 있으며, 90일을 초과한 데이터를 자동 삭제할 수 있다. 여기서, 에너지 관련 데이터는 태양광 단상 데이터, 태양광 삼상 데이터, 태양열 생산 측 데이터, 태양열 부하 측 데이터, 태양열 설비 측, 히트펌프 데이터, 급탕 측 데이터, 풍력 설비 측 데이터, 연료전지 데이터, ESS 데 이터 등을 포함할 수 있으며, 각 데이터마다 서로 다른 필드 및 필드 값을 포함할 수 있다. 가령, 태양광 단상 데이터는 PV 전압(2 바이트), PV 전류(2 바이트), PV 출력(2 바이트), 계통 전압(2 바이트), 계통 전류(2 바이트), 현재 출력(2 바이트), 역률(2 바이트), 주파수(2 바이트), 누적 발전량(8 바이트), 고장 여부 정보(2 바이터)를 나타내는 필드 및 해당값을 포함할 수 있으며, 총 데이터의 길이는 26 바이트에 해당될 수 있다. 태양광 삼상 데이터는 38 바이트, 태양열 생산 측 데이터는 22 바이트, 태양열 부하 측 데이터는 16 바이트, 태 양열 최종 데이터는 38 바이트, 히트펌프 데이터는 41 바이트, 급탕측 데이터는 16 바이트, 지열 최종 데이터는 73 바이트, 풍력 최종 데이터는 24 바이트, 연료 전지 최종 데이터는 56 바이트, ESS 최종 데이터는 27 바이트 등으로 구현될 수 있으나, 데이터의 길이(사이즈) 정보는 구현 예에 따라 다를 수 있다. 전자 단말(100A, 100B)은 전자 디바이스(I1, I2)와 직렬 인터페이스(DI1, DI2)를 통해 연결될 수 있는데, 일 예로, 전자 단말 및 전자 디바이스(I1, I2)는 RS485 통신을 통해 연결될 수 있다. 또한, 전자 단말 및 전자 디바이스(I1, I2)는 특정 주체가 제공하는 표준 프로토콜을 이용하여 통신할 수 있으며, 가령, 전자 단말 및 전자 디바이스(I1, I2)는 에너지 공단에서 제공하는 표준 프로토콜을 이용할 수 있다. 선택적 실시 예로, 전자 단말 및 전자 디바이스(I1, I2)는 모드버스 프로토콜을 이용할 수도 있 다. 데이터 수집 서버는 다양한 전자 단말(100A, 100B)로부터 에너지 관련 데이터를 수집하여, 에너지 관 리 시스템에 데이터를 제공할 수 있다. 데이터 수집 서버는 이동 통신 프로바이더에 의해, 에너지 관 리 시스템은 에너지 공단에 의해 관리될 수 있다. 개인 컴퓨터(PC1, PC2) 각각은 연결된 전자 단말(100A, 100B)의 세팅값을 설정할 수 있다. 구체적으로, 개 인 컴퓨터(PC1, PC2)는 어플리케이션 프로그램을 통해 전자 단말(100A, 100B)의 설정값을 세팅할 수 있다. 예를 들면, 개인 컴퓨터(PC1, PC2) 각각은 전자 단말에 연결된 전자 디바이스(I1, I2)의 개수 및 전자 디 바이스(I1, I2)의 식별 정보를 세팅할 수 있으며, 직렬 인터페이스(DI1, DI2)의 보드 레이트(Baud Rate) 정보를 세팅할 수 있다. 개인 컴퓨터(PC1, PC2) 각각은 전자 단말의 리셋 주기를 설정할 수 있다. 리셋은 전자 단말이 오작동 할 때, 이를 해결하기 위해 설정, 동작 등을 원상태로 설정하여, 재부팅하는 절차일 수 있다. 다른 실시 예에 의하면, 전자 단말은 상기 개인 컴퓨터(PC1, PC2)가 세팅하는 설정값들을 자체적으로 세팅 할 수 있다. 전자 단말은 네트워크 장애 발생시에 데이터 재전송 주기를 설정할 수 있으며, 내장 모뎀과 외장 모뎀을 선택적으로 사용하여 데이터 수집 서버와 통신을 수행할 수 있다. 또한, 전자 단말은 에너지원의 에너지 관련 정보를 수집하는 주기를 결정할 수 있다. 전자 단말은 동 일 에너지원에 여러 개의 전자 디바이스가 배치된 경우, 전자 디바이스에 순차적으로 식별 정보를 할당하고, 식 별 정보에 따라 순차적으로 에너지 관련 정보를 수신할 수 있다. 살핀 바와 같이, 신재생 에너지 시스템은 복수의 ES, 복수의 ES에 전기적으로 연결된 각종 전자 디바이스 (이하에서는 대표적으로 제1 인버터(I1)를 전자 디바이스의 예로 설명함), 전자 단말, 데이터 수집 서버 및 에너지 관리 시스템을 포함할 수 있다. 도면 부호를 아래 도면 설명시에도 함께 참조하기로 한다. 이하에서는, 도 2를 참고하여 전자 단말의 구성을 보다 구체적으로 설명하기로 한다. 전자 단말은 통 신부, 직렬 인터페이스, 스위치, 메모리, 하나 이상의 발광 소자 및 컨트롤러를 포함할 수 있다. 상기 전자 단말은 통신 상태를 자가 진단하는 데이터 수집 및 처리용 엣지 디바이스일 수 있다. 통신부는 직렬 인터페이스를 이용하여 유선 기반의 직렬 통신 기능을 제공할 수 있다. 실시 예에 의 하면, 통신부는 다양한 직렬 통신 프로토콜을 제공할 수 있으며, 에너지원과 전기적으로 연결된 하나 이상 의 전자 디바이스에 데이터를 전송하거나 데이터를 수신할 수 있다. 통신부는 무선 통신 기능을 제공할 수 있다. 통신부는 LoRa(Long Range) 프로토콜에 기반한 통신을 데이터 수집 시스템과 수행할 수 있다. 통신부는 이동 통신 모듈 및 근거리 통신 모듈 등을 구비하여, 무선 기반으로 다양한 기기들과 통신 가능 한 기능을 제공할 수 있다. 통신부는 전자 단말의 위치 정보를 수신하는 기능을 구비할 수 있다. 선택적 또는 부가적 실시 예로, 통신부는 전자 단말 주변에서 특정 에너지원 설비의 설치 유무에 대한 정보를 외부 시스템으로부터 제공받을 수 있다. 이에 따라, 통신부는 설치 장소 주변에 배치된 ES 에 연결된 전자 디바이스(I1)에 대한 정보를 획득할 수 있다. 직렬 인터페이스는 전자 단말 및 에너지원에 연결된 전자 디바이스를 물리적 및 전기적으로 연결하는 구성이다. 스위치는 컨트롤러의 제어에 따라, 전자 단말의 운용 모드를 설정하는 구성으로, 컨트롤러(19 0)가 에너지원이 어떤 종류(태양광, 태양열, 풍력, 지열, ESS, 연료전지 등) 및 어떤 타입(태양광 단상, 태양광 삼상, 태양열 강제 순환식, 지열 부하 등)인지 추정하면, 추정된 에너지원의 종류 및 타입에 따라 운용 모드를 설정할 수 있다. 스위치는 5개(제1 스위치 내지 제5 스위치)를 포함할 수 있다. 제1 스위치 내지 제3 스위치는 에너지원의 종류 정보를 설정하기 위한 스위치다. 제4 스위치는 타입 정보를 설정하기 위한 것으로, ON는 태양광 삼상, 태 양열 자연 순환식, 지열 부하측에 대응하고, OFF는 태양광 단상, 태양열 강제 순환식에 대응할 수 있다. 타입 정보는 상기 종류 정보에 포함되도록 구현될 수도 있다. 제5 스위치는 컴포트 프로토콜 설정을 위한 것으로, ON 은 제1 컴포트(COM1)가 선택 프로토콜에 대응하고, 제2 내지 제4 컴포트(COM2~COM4)가 모드버스 프로토콜에 대 응하는 것을 설정할 수 있다. OFF 인 경우, 선택 프로토콜과 모두 동일할 때 사용할 수 있다.메모리는 컨트롤러의 제어에 따라 다양한 정보를 저장할 수 있다. 컨트롤러는 에너지원의 에너 지 관련 정보를 전자 디바이스를 통해 제공받는 경우, 해당 내용을 소정 기간 동안 메모리에 저장할 수 있 다. 메모리는 인공지능 기반의 학습된 모델을 저장할 수 있다. 예를 들면, 메모리는 에너지원 종류 학습 모델을 저장할 수 있다. 에너지원 종류 학습 모델은 통신 데이터의 특정 필드(데이터 길이 정보 필드, 오류 검 출 필드) 등을 입력받아, 에너지원 종류 및 타입 정보를 추정하는 모델이다. 상기 모델은 학습 단계에서 통신 데이터의 특정 필드, 특정 필드의 값, 에너지원 종류 정보 및 타입 정보를 레이블 정보로 이용하여 완성될 수 있으며, 정확도가 높아질 수 있다. 컨트롤러는 메모리에 에너지 관련 데이터의 보관 기간을 설정할 수 있으며, 보관 기간이 지난 데이터 의 경우, 데이터 수집 서버로 공유하지 않고 삭제할 수 있다. 발광 소자는 하나 이상 전자 단말의 소정 위치(도 1의 310)에 배치될 수 있으며, LED를 포함한 다양 한 소재로 구현될 수 있다. 컨트롤러는 하나 이상의 전자 디바이스(I1)와 연결되는 경우, 전자 디바이스에 연결된 에너지원의 종류 정 보를 추정하고, 추정된 종류 정보에 따라 운용 모드를 설정할 수 있다. 운용 모드는 에너지원의 종류에 따라 0 내지 7 개의 모드로 설정될 수 있다. 가령, 운용 모드 0은 사용자에 의한 수동 설정이고, 1은 태양광, 2는 풍력, 3은 태양열, 4는 ESS, 5는 연료전지, 6은 지열, 7은 예약 모드로 설정될 수 있다. 상기 운용 모드는 제1 스위치 내지 제3 스위치를 통해 설정될 수 있다. 아울러, 제4 스위치를 통해 타입이 설정될 수 있으며, 이 경우, 운용 모드는 특정 타입의 1 내 지 6 모드로 설정될 수 있다. 제5 스위치를 통해 컴포트 매칭이 수행될 수 있다. 컨트롤러는 운용 모드가 설정된 경우, 컴포트 별로 전자 디바이스(I1)와의 통신 채널이 정상 동작하는지 여부를 결정하는 셀프 테스트를 수행할 수 있다. 해당 테스트는 운용 모드가 설정되자마자 바로 수행될 수 있다. 선택적 실시 예로, 해당 테스트는 사용자 조작에 의해 트리거될 수도 있다. 컨트롤러는 제1 컴포트를 이용하여, 소정 프로토콜에 기초한 Request 데이터를 직렬 인터페이스를 통 해 전자 디바이스(I1)로 전송하도록 상기 통신부를 제어할 수 있다. 가령, 컨트롤러는 소정 프로토콜이 에너지 공단에서 제공하는 표준 프로토콜인 경우, SOP 필드, 국번 필드, 커맨드 필드, CRC 필드 등을 포함하는 Request 패킷 데이터를 전자 디바이스로 전송할 수 있다. 컨트롤러는 해당 전자 디바이스로부터 Response 데이터를 수신하는 경우, 상기 Response 데이터의 길이 정 보 필드 및 오류 검출 필드의 값에 기초하여, 해당 통신 채널의 정상 여부를 결정할 수 있다. 여기서, 에너지원 별로 데이터의 길이 정보 필드의 값 및 오류 검출 필드의 값은 서로 다르다. 가령, 컨트롤러 에너지원이 태양광 단상 데이터인 경우, 26 바이트를 포함하는 에너지 관련 데이터를 수신 할 수 있으며, 태양광 삼상 데이터의 경우, 38 바이트의 에너지 관련 데이터를 수신할 수 있다. 여기서, 태양광 삼상 데이터는 PV 전압, PV 전류, PV 출력, 계통 R상 전압, 계통 S상 전압, 계통 T상 전압, 계 통 R상 전류, 계통 S상 전류, 계통 T상 전류, 현재 출력, 역률, 주파수, 누적 발전량, 고장 여부 필드를 포함할 수 있다. 또한, 컨트롤러는 22 바이트의 태양열 생산 측 데이터를 수신할 수 있으며, 16 바이트의 태양열 부하 측 데이터로 수신할 수 있고, 38 바이트의 태양열 최종 데이터를 수신할 수 있다. 또한, 컨트롤러는 41 바이 트의 히트펌프 데이터를 수신할 수도 있다. 컨트롤러는 동일 에너지원에 전자 디바이스가 여럿 연결된 경우, 전자 디바이스마다 식별 정보를 부여하고, 전송 속도를 설정하며, 전송 순서를 실시간으로 할당할 수 있다. 또한, 컨트롤러는 에너지원 별로 에너지원 관련 데이터의 수집 주기를 달리 설정할 수 있다. 가령, 컨트롤 러는 태양광, 풍력, 연료전지, ESS ES 에 대해서는 15분마다 수집 주기를 설정할 수 있으며, 태양열 및 지 열에 대해서는 2분마다 수집 주기를 설정할 수 있다. 다만, 수집 주기는 구현에 따라 달라질 수 있다. 실시 예에 의하면, 컨트롤러는 제1 컴포트를 공단 표준 프로토콜에 할당할 수 있으며, 제2 컴포터 내지 제 4 컴포트를 모드버스 프로토콜에 할당할 수 있다. 상기 설정은 제5 스위치를 통해 설정될 수 있다.다만, 컨트롤러는 데이터가 수집 중이라고 하더라도 에너지원 각각의 수집 주기를 준수하여 데이터를 전송 할 수 있다. 가령, 컨트롤러는 제1 컴포트로 제1 에너지원에 연결된 전자 디바이스로 데이터를 전송하는 중에, 제2 에너지원에 연결된 전자 디바이스로 데이터를 전송할 수집 주기가 도래한 경우, 제1 컴포트가 아닌 다른 컴포트를 이용해서라도 데이터를 전송할 수 있다. 이에 따라, 수집 주기가 일정하게 유지될 수 있어서 수 집 신뢰도가 향상될 수 있다. 컨트롤러는 제1 컴포트를 이용하여, Response 데이터에 포함된 소정 필드의 수치 범위를 미리 설정하고, 소정 필드의 수치값이 수치 범위를 벗어나는 경우, 에너지원의 종류 정보를 신뢰하지 않을 수 있다. 가령, 컨트 롤러는 역률 필드 및 주파수 필드의 값 범위를 설정한 후, 수집된 역률 값이나 주파수 값이 수치 범위를 넘는 경우, 정보가 잘못 수집된 것으로 결정한 후, 다시 에너지원의 종류 정보를 추정하고 운용 모드를 재설정 할 수 있다. 중첩적인 추정으로 인해, 에너지원의 종류 정보를 보다 정확하게 추정할 수 있다. 컨트롤러는 컴포트 별로, 전자 디바이스와의 물리적 연결이 수행된 직후, 전자 디바이스와의 통신 채널이 정상 동작하는지 여부를 자동으로 수행할 수 있다. 아울러, 컨트롤러는 제1 컴포트가 아닌 하나 이상의 제2 컴포트(가령, 제2 내지 제N 포트)가 모드버스 프 로토콜에 기반하여 통신하는 경우, 모드버스 맵 파일에 기초하여, 전자 디바이스와 통신할 수 있다. 도 3은 본 발명의 일 실시 예에 따른 모드버스 맵 파일의 샘플을 나타낸다. 컨트롤러는 모드버스 프로토콜을 소정의 컴포트에 할당한 경우, 전자 디바이스(I1)와 통신하기 위한 규약 으로 모드버스 맵 파일을 이용할 수 있다. 도 3을 참고하면, seq, device_id, tag_code 필드는 식별을 위해 사용하는 필드로, req-seq, func, unit_id, address 필드는 모드버스 프로토콜의 수집 위치 지정할 정보를 나타내는 필드로, endian, wordcnt, format, scale 필드는 수집한 값을 파싱, 표현하기 위해 사용하는 정보를 나타내는 필드로 사용할 수 있다. 컨트롤러는 모드버스 맵 파일에 기초하여, 전자 디바이스(I1)와 바로 통신할 수 있다. 모드버스 맵 파일은 메모리에 저장될 수 있으나, 저장 장소는 전자 단말의 외부에 배치될 수 있다. 만약, 컨트롤러는 모드버스 맵 파일이 검색되지 않는 경우, 전자 디바이스를 제조하는 제조사의 제품 생산 정보, 마켓 점유 정보, 납품 지역 정보, 통신 프로토콜 정보 중 적어도 하나에 기초하여, 전자 디바이스와 통신 을 시도할 수 있다. 즉, 컨트롤러는 에너지원 별로 에너지원에 연결된 전자 디바이스의 제조사 정보, 제조사의 제품 생산 정보, 마켓 점유 정보, 납품 지역 정보 등에 기초하여, 전자 디바이스(I1)의 제품 정보를 획득할 수 있다. 컨트롤러는 획득한 전자 디바이스의 제품 정보 및 획득한 통신 프로토콜 정보에 기초하여, Request 데이터 를 전자 디바이스에 송신하고, Response 데이터를 수신하여 분석할 수 있다. 도 4는 본 발명의 일 실시 예에 따른 통신 상태의 정상 여부를 출력하는 출력 구성을 설명하기 위한 도면이다. 도 4를 참고하면, 컨트롤러는 컴포트 별로 통신 채널의 정상 동작 여부를 발광 소자를 통해 출력할 수 있고 데이터 수집 서버와의 통신 상태를 출력할 수 있으며, 모든 통신 채널의 정상 여부를 출력할 수 있다. 발광 소자는 LED로 구현될 수 있다. 구체적으로, LED1은 전원 상태를 표시할 수 있고, LED2는 데이터 수집 서버 와의 통신 상태를 표시할 수 있으며, LED3~LED6은 각 컴포트의 데이터 송수신 상태를 표시할 수 있고, LED7의 경우 셀프 테스트의 진행 상황을 표시할 수 있으며, LED8은 연결 기기 전체 또는 부분의 에러정보를 표 시할 수 있다. 컨트롤러는 각 컴포트 별로 통신 채널이 정상인 경우, 제1 깜빡임 속도로 동작하도록 해당 발광 소자를 제 어하고, 통신 채널이 비정상인 경우, 제1 깜빡임 속도보다 빠르게 상기 발광 소자를 제어할 수 있다. 제1 깜빡 임 속도는 1초에 1회 깜빡이는 속도일 수 있으며, 제2 깜빡임 속도는 1초에 5회 깜빡이는 속일 수 있으나, 실시 예가 이에 국한되는 것은 아니다.컨트롤러는 전자 디바이스와의 컴포트 통신 채널이 모두 정상 동작하는 경우에만, 데이터 수집 서버 로 해당 메시지를 전송할 수 있다. 이 경우, 컨트롤러는 컴포트 통신 채널 중 하나라도 문제가 있는 경우, LED2는 제2 깜빡임 속도로 깜빡일 수 있다. 선택적 실시 예로, 컨트롤러는 정상 또는 비정상 모두의 경우, 데이터 수집 서버에 해당 메시지를 전송할 수 있다. 컨트롤러는 응답 메시지에 따라 통신 상태의 문제 여부를 판단할 수 있다. 가령, 컨트롤 러는 컴포트에는 문제가 있더라도 데이터 수집 서버와의 통신 상태에 문제가 없음을 표시할 수 있다. 컨트롤러는 컴포트 및 데이터 수집 서버와의 통신이 모두 정상인 경우, LED8을 통해 상태 정보를 표 시할 수 있다. 컨트롤러는 문제가 없으면 LED8를 통해 표시할 수 있으며, 부분적으로 문제가 있으면, 문제 있는 LED와 함께 LED8를 동일한 주기의 깜빡임으로 표시할 수 있다. 이와 같이, 본 명세서는 그 제시된 구체적인 용어에 본 발명을 제한하려는 의도가 아니다. 따라서, 상술한 예를 참조하여 본 발명을 상세하게 설명하였지만, 당업자라면 본 발명의 범위를 벗어나지 않으면서도 본 예들에 대한 개조, 변경 및 변형을 가할 수 있다. 본 발명의 범위는 상기 상세한 설명보다는 후술하는 특허청구범위에 의하 여 나타내어지며, 특허청구범위의 의미 및 범위 그리고 그 등가개념으로부터 도출되는 모든 변경 또는 변형된 형태가 본 발명의 범위에 포함되는 것으로 해석되어야 한다."}
{"patent_id": "10-2020-0050911", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시 예에 따른 신재생 에너지 시스템을 개략적으로 설명하기 위한 도면, 도 2는 본 발명의 일 실시 예에 따른 전자 단말의 구성을 나타내는 블록도, 도 3은 본 발명의 일 실시 예에 따른 모드버스 맵 파일을 설명하기 위한 도면, 그리고, 도 4는 본 발명의 일 실시 예에 따른 통신 상태의 정상 여부를 출력하는 출력 구성을 설명하기 위한 도면이다."}
