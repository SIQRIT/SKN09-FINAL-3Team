{"patent_id": "10-2022-0051323", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0151684", "출원번호": "10-2022-0051323", "발명의 명칭": "발화의 유효성 검증 방법 및 이를 위한 장치", "출원인": "에스케이텔레콤 주식회사", "발명자": "박희근"}}
{"patent_id": "10-2022-0051323", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "입력 발화를 대상으로 형태소 분석을 수행하여, 상기 입력 발화에 대한 형태소 원형 텍스트를 획득하는 과정;상기 형태소 원형 텍스트 및 상기 입력 발화에 대한 형태소 표층형 텍스트 각각에 대해, 미리 정의된 키워드를탐색하는 과정;상기 형태소 분석의 결과에 대해, 미리 정의된 패턴을 탐색하는 과정;상기 입력 발화를 기학습된 발화 분류 모델에 입력하여, 상기 입력 발화의 유형을 획득하는 과정; 및상기 키워드의 탐색 결과, 상기 패턴의 탐색 결과 및 상기 입력 발화의 유형에 기반하여, 상기 입력 발화에 대한 유효성을 검증하는 과정을 포함하는 것을 특징으로 하는 발화 유효성 검증 방법."}
{"patent_id": "10-2022-0051323", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 형태소 원형 텍스트를 획득하는 과정은,상기 형태소 원형 텍스트 및 형태소 표층형 텍스트를 각각 구성하는 적어도 하나의 형태소의 위치 범위 및 품사를 추가로 획득하는 것을 특징으로 하는 발화 유효성 검증 방법."}
{"patent_id": "10-2022-0051323", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 키워드를 탐색하는 과정은,상기 형태소 원형 텍스트 및 형태소 표층형 텍스트 중 적어도 하나의 대상 텍스트에서 상기 키워드가 검출되면,상기 대상 텍스트 내의 형태소의 위치 범위 및 품사를 이용하여, 키워드 탐색의 유효성을 검증하는 과정을 더 포함하는 것을 특징으로 하는 발화 유효성 검증 방법."}
{"patent_id": "10-2022-0051323", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,상기 키워드 탐색의 유효성을 검증하는 과정은,상기 키워드가 검출된 위치 범위가, 상기 대상 텍스트 내의 복수의 형태소에 대한 위치 범위와 중첩되는 경우,상기 대상 텍스트에 대한 상기 키워드 탐색의 결과가 유효하지 않은 것으로 판단하는 것을 특징으로 하는 발화유효성 검증 방법."}
{"patent_id": "10-2022-0051323", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제3항에 있어서,상기 키워드 탐색의 유효성을 검증하는 과정은,상기 키워드에 포함된 모든 형태소의 품사가 체언류이고, 상기 대상 텍스트에서 상기 키워드가 검출된 위치 범위에 대응하는 적어도 하나의 형태소의 품사가 체언류가 아닌 경우, 상기 대상 텍스트에 대한 상기 키워드 탐색의 결과가 유효하지 않은 것으로 판단하는 것을 특징으로 하는 발화 유효성 검증 방법."}
{"patent_id": "10-2022-0051323", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "공개특허 10-2023-0151684-3-제1항에 있어서,상기 미리 정의된 패턴은,어휘-구문 패턴(Lexico Syntactic Pattern) 형식으로 기술된 하나 이상의 패턴을 포함하되,상기 하나 이상의 패턴은,상기 형태소 분석의 결과가 미리 정의된 서술 표현을 포함하는지를 검출하기 위한 불안전 서술 패턴; 및상기 형태소 분석의 결과가 개인정보를 포함하는지를 검출하기 위한 개인정보 검출 패턴을 포함하는 것을 특징으로 하는 발화 유효성 검증 방법."}
{"patent_id": "10-2022-0051323", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제1항에 있어서,상기 패턴을 탐색하는 과정은,상기 형태소 분석의 결과에 대해 하나의 패턴이 중복하여 매칭되거나 복수의 패턴이 매칭되는 경우, 대응하는길이가 가장 긴 패턴을 상기 형태소 분석의 결과에 매칭된 패턴으로 판단하는 것을 특징으로 하는 발화 유효성검증 방법."}
{"patent_id": "10-2022-0051323", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제1항에 있어서,상기 입력 발화에 대한 유효성을 검증하는 과정은,상기 형태소 원형 텍스트 및 상기 형태소 표층형 텍스트에서 상기 키워드가 검출되지 않고, 상기 형태소 분석의결과가 상기 패턴에 매칭되지 않고, 상기 입력 발화가 안전 표현으로 분류된 경우에만 상기 입력 발화를 유효한발화로 판단하는 것을 특징으로 하는 유효성 검증 방법."}
{"patent_id": "10-2022-0051323", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "입력 발화를 대상으로 형태소 분석을 수행하여, 상기 입력 발화에 대한 형태소 원형 텍스트를 획득하는 형태소분석 모듈;상기 형태소 원형 텍스트 및 상기 입력 발화에 대한 형태소 표층형 텍스트에 대해, 미리 정의된 키워드를 탐색하는 키워드 검출 모듈;상기 형태소 분석의 결과에 대해, 미리 정의된 패턴을 탐색하는 패턴 매칭 모듈;상기 입력 발화를 기학습된 발화 분류 모델에 입력하여, 상기 입력 발화의 유형을 획득하는 분류 모듈; 및상기 키워드의 탐색 결과, 상기 패턴의 탐색 결과 및 상기 입력 발화의 유형에 기반하여, 상기 입력 발화에 대한 유효성을 검증하는 검증 모듈을 포함하는 것을 특징으로 하는 발화 유효성 검증 장치."}
{"patent_id": "10-2022-0051323", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제1항 내지 제8항 중 어느 한 항에 따른 발화 유효성 검증 방법이 포함하는 각 과정을 실행시키기 위하여 컴퓨터로 읽을 수 있는 기록매체에 저장된 컴퓨터프로그램."}
{"patent_id": "10-2022-0051323", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "발화의 유효성 검증 방법 및 이를 위한 장치를 개시한다. 본 개시의 일 측면에 의하면, 입력 발화를 대상으로 형태소 분석을 수행하여, 상기 입력 발화에 대한 형태소 원 형 텍스트를 획득하는 과정; 상기 형태소 원형 텍스트 및 상기 입력 발화에 대한 형태소 표층형 텍스트에 대해, 미리 정의된 키워드를 탐색하는 과정; 상기 형태소 분석의 결과에 대해, 미리 정의된 패턴을 탐색하는 과정; 상 기 입력 발화를 기학습된 발화 분류 모델에 입력하여, 상기 입력 발화의 유형을 획득하는 과정; 및 상기 키워드 의 탐색 결과, 상기 패턴의 탐색 결과 및 상기 입력 발화의 유형에 기반하여, 상기 입력 발화에 대한 유효성을 검증하는 과정을 포함하는 것을 특징으로 하는 발화 유효성 검증 방법을 제공한다."}
{"patent_id": "10-2022-0051323", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 개시는 발화의 유효성 검증 방법 및 이를 위한 장치에 관한 것이다."}
{"patent_id": "10-2022-0051323", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "이하에 기술되는 내용은 단순히 본 실시예와 관련되는 배경 정보만을 제공할 뿐 종래기술을 구성하는 것이 아니 다. 대량의 말뭉치(corpus)로부터 학습된 생성 모델을 이용한 인공지능 기반의 대화 서비스에서, 사용자와 인공지능 간에 안전하지 않은 대화가 오갈 경우 서비스에 대한 사용자의 신뢰도를 잃게 될 수 있다. 사용자와 인공지능 간에 안전하지 않은 대화가 오가는 경우로는, 사용자가 불안전한 발화를 할 경우에 인공지능 이 긍정적으로 답변을 한다거나, 사용자의 유도성 발화에 대해 인공지능이 수긍하는 대답을 하는 경우, 또는 사 용자의 안전한 발화에 대해 인공지능이 불안전한 발화를 생성하여 답변을 하는 경우 등을 예로 들 수 있다. 또 한, 사용자가 안전하다고 생각하는 발화에 대해서, 인공지능이 동조하면서 정치적 내용 또는 성차별적 내용 등 을 포함하는 답변을 생성하게 되는 경우, 서비스의 정체성이 훼손될 수도 있다. 따라서, 사용자와 인공지능 간에 안전하지 않은 대화가 오가지 않도록 사전에 사용자 또는 인공지능의 발화의 유효성을 검증할 수 있는 방안이 필요하다."}
{"patent_id": "10-2022-0051323", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 개시는, 안전한 발화에 대해서만 유효한 발화로 판단할 수 있는, 발화 유효성 검증 방법 및 장치를 제공하는 데 일 목적이 있다. 본 발명이 해결하고자 하는 과제들은 이상에서 언급한 과제들로 제한되지 않으며, 언급되지 않은 또 다른 과제 들은 아래의 기재로부터 통상의 기술자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2022-0051323", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 개시의 일 측면에 의하면, 입력 발화를 대상으로 형태소 분석을 수행하여, 상기 입력 발화에 대한 형태소 원 형 텍스트를 획득하는 과정; 상기 형태소 원형 텍스트 및 상기 입력 발화에 대한 형태소 표층형 텍스트에 대해, 미리 정의된 키워드를 탐색하는 과정; 상기 형태소 분석의 결과에 대해, 미리 정의된 패턴을 탐색하는 과정; 상 기 입력 발화를 기학습된 발화 분류 모델에 입력하여, 상기 입력 발화의 유형을 획득하는 과정; 및 상기 키워드 의 탐색 결과, 상기 패턴의 탐색 결과 및 상기 입력 발화의 유형에 기반하여, 상기 입력 발화에 대한 유효성을 검증하는 과정을 포함하는 것을 특징으로 하는 발화 유효성 검증 방법을 제공한다. 본 개시의 다른 측면에 의하면, 입력 발화를 대상으로 형태소 분석을 수행하여, 상기 입력 발화에 대한 형태소 원형 텍스트를 획득하는 형태소 분석 모듈; 상기 형태소 원형 텍스트 및 상기 입력 발화에 대한 형태소 표층형 텍스트에 대해, 미리 정의된 키워드를 탐색하는 키워드 탐색 모듈; 상기 형태소 분석의 결과에 대해, 미리 정의 된 패턴을 탐색하는 패턴 매칭 모듈; 상기 입력 발화를 기학습된 발화 분류 모델에 입력하여, 상기 입력 발화의 유형을 획득하는 분류 모듈; 및 상기 키워드의 탐색 결과, 상기 패턴의 탐색 결과 및 상기 입력 발화의 유형에 기반하여, 상기 입력 발화에 대한 유효성을 검증하는 검증 모듈을 포함하는 것을 특징으로 하는 발화 유효성 검 증 장치를 제공한다. 본 개시의 다른 측면에 의하면, 전술한 발화 유효성 검증 방법이 포함하는 각 과정을 실행시키기 위하여 컴퓨터 로 읽을 수 있는 기록매체에 저장된 컴퓨터프로그램을 제공한다."}
{"patent_id": "10-2022-0051323", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 개시의 실시예에 의하면, 안전한 발화에 대해서만 유효한 발화로 판단함으로써, 서비스에 대한 사용자의 신 뢰도를 확보할 수 있다. 본 개시의 실시예에 의하면, 인공지능 기반의 대화 서비스에 대한 사용자의 악의적인 공격을 막을 수 있으며, 동시에 사용자에게 안전한 답변을 제공함으로써 사용자의 정서적 안정을 보장할 수 있다. 또한, 해당 서비스가 중립적인 입장을 갖게 하여 다양한 사회적 이슈를 생산하지 않도록 선제적으로 대응이 가능하도록 운영할 수 있 다. 본 개시의 효과들은 이상에서 언급한 효과들로 제한되지 않으며, 언급되지 않은 또 다른 효과들은 아래의 기재 로부터 통상의 기술자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2022-0051323", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 본 개시의 일부 실시예들을 예시적인 도면을 이용해 상세하게 설명한다. 각 도면의 구성 요소들에 참조 부호를 부가함에 있어서, 동일한 구성 요소들에 대해서는 비록 다른 도면 상에 표시되더라도 가능한 한 동일한 부호를 가지도록 하고 있음에 유의해야 한다. 또한, 본 개시를 설명함에 있어, 관련된 공지 구성 또는 기능에 대한 구체적인 설명이 본 개시의 요지를 흐릴 수 있다고 판단되는 경우에는 그 상세한 설명은 생략한다. 본 개시에 따른 실시예의 구성요소를 설명하는 데 있어서, 제1, 제2, i), ii), a), b) 등의 부호를 사용할 수 있다. 이러한 부호는 그 구성요소를 다른 구성 요소와 구별하기 위한 것일 뿐, 그 부호에 의해 해당 구성요소의 본질 또는 차례나 순서 등이 한정되지 않는다. 명세서에서 어떤 부분이 어떤 구성요소를 '포함' 또는 '구비'한 다고 할 때, 이는 명시적으로 반대되는 기재가 없는 한 다른 구성요소를 제외하는 것이 아니라 다른 구성요소를 더 포함할 수 있는 것을 의미한다. 첨부된 도면과 함께 이하에 개시될 상세한 설명은 본 개시의 예시적인 실시형태를 설명하고자 하는 것이며, 본 개시가 실시될 수 있는 유일한 실시형태를 나타내고자 하는 것이 아니다. 도 1은 본 개시의 일 실시예에 따른 발화 유효성 검증장치를 개략적으로 나타낸 블록구성도이다. 도 1에 도시되듯이, 본 개시의 일 실시예에 따른 발화 유효성 검증장치는 형태소 분석 모듈, 키워드 검출 모듈, 패턴 매칭 모듈, 분류 모듈 및 검증 모듈의 전부 또는 일부를 포함할 수 있다. 도 1에 도시된 모든 블록이 필수 구성요소는 아니며, 다른 실시예에서 발화 유효성 검증장치에 포함된 일부 블록이 추가, 변경 또는 삭제될 수 있다. 발화 유효성 검증장치 및 이의 각 구성요소는 하드웨어 또는 소프 트웨어로 구현되거나, 하드웨어 및 소프트웨어의 결합으로 구현될 수 있다. 또한, 각 구성요소의 기능이 소프트 웨어로 구현되고, 하나 이상의 프로세서가 각 구성요소에 대응하는 소프트웨어의 기능을 실행하도록 구현될 수 도 있다. 형태소 분석 모듈은 입력 발화를 대상으로 형태소 분석을 수행한다. 입력 발화는 사용자로부터 입력받은 텍스트, 사용자의 음성 입력으로부터 변환된 텍스트 및 대화 서비스 제공 장치(미도시)가 생성한 텍스트 중 어느 하나일 수 있으나 이에 한정되는 것은 아니다. 한편, 대화 서비스 제공 장치는 사용자에게 대화 서비스를 제공하는 장치로서, 예컨대, 인공지능 스피커, 챗봇 서버 및/또는 스마트 폰 등을 포함할 수 있으나 이러한 예시에 한정되는 것은 아니다. 실시예들에 따라, 발화 유효성 검증장치는 대 화 서비스 제공 장치의 구성요소로 구현될 수 있다. 표 1은 입력 발화 및 이에 대한 형태소 분석 결과를 예시한 표이다. 표 1 입력 발화 그냥 못생겨서 니들 도태되는거야 형태소 분석 결 과그냥/MAG 못생기/VA+어서/EC 니/NP+들/XSN 도태/NNG+되/XSV+는/ETM+거/NNB+이/VCP+야/EF 표 1에 나타나듯이, 형태소 분석 모듈은 입력 발화를 형태소 단위로 분리하고, 각 형태소의 품사를 판단하 여, 품사 기호를 부착할 수 있다. 한편, 표 1에서는 형태소 분석 결과가 각 형태소에 품사 기호가 부착된 형태 를 가지는 것으로 예시하였으나, 본 개시의 다른 실시예에 따른 형태소 분석 모듈은 형태소 단위로 분리된 토큰 리스트 및 각 토큰에 대응하는 품사 기호 리스트를 생성할 수도 있다. 표 2는 품사의 종류에 따른 품사 기호의 일부를 예시한 표이다. 표 2 품사 품사 기호 대분류 소분류 체언 일반 명사 NNG 고유 명사 NNP 의존 명사 NNB 수사 NR 대명사 NP 용언 동사 VV 형용사 VA 보조용언 VX 긍정 지정사 VCP 부정 지정사 VCN 부사 일반 부사 MAG 접속 부사 MAJ 어미 선어말 어미 EP 종결 어미 EF 연결 어미 EC 명사형 전성 어미 ETN 관형형 전성 어미 ETM 접미사 명사 파생 접미사 XSN 동사 파생 접미사 XSV 형용사 파생 접미사 XSA 형태소 분석 모듈은 형태소 분석 결과를 기초로, 입력 발화에 대한 형태소 원형 텍스트를 생성할 수 있다. 형태소 원형 텍스트는 형태소 원형 어휘들의 나열로 구성된 텍스트를 의미할 수 있다. 형태소 분석 모듈은 형태소 원형 텍스트 내의 각 형태소의 위치 범위 및 품사에 대한 정보를 생성할 수 있 다. 여기서, 형태소의 위치 범위는, 형태소 원형 텍스트 내에서 해당 형태소의 시작 위치 및 끝 위치를 음절 오 프셋으로 표현한 값일 수 있다. 표 3은 표 1에 따른 입력 발화에 대한 형태소 원형 텍스트 및 이를 구성하는 각 형태소의 위치 범위 및 품사를 예시한 표이다. 표 3 형태소 원형 텍 스트그냥 못생기어서 니들 도태되는거이야 형태소 원형 그냥못생기어서니 들도태되 는 거 이 야 위치 범위 0:23:66:89:1010:1112:1414:1515:1616:1717:1818:19 품사 MAG VAECNPXSNNNGXSVETMNNBVCPEF 형태소 분석 모듈은 형태소 분석 결과를 기초로, 입력 발화에 대한 형태소 표층형 텍스트를 생성할 수 있 다. 형태소 표층형 텍스트는 형태소 표층형 어휘들의 나열로 구성된 텍스트를 의미할 수 있다. 형태소 분석 모 듈은 입력 발화 자체를 형태소 표층형 텍스트로써 이용할 수 있다. 형태소 분석 모듈은 형태소 표층형 텍스트 내의 각 형태소의 위치 범위 및 품사에 대한 정보를 생성할 수 있다. 여기서, 형태소의 위치 범위는, 형태소 표층형 텍스트 내에서 해당 형태소의 시작 위치 및 끝 위치를 음 절 오프셋으로 표현한 값일 수 있다. 표 4는 표 1에 따른 입력 발화에 대한 형태소 표층형 텍스트 및 이를 구성하는 각 형태소의 위치 범위 및 품사 를 예시한 표이다. 표 4 형태소 표층형 텍스트그냥 못생겨서 니들 도태되는거야 형태소 원형 그냥못생기어서니 들도태되 는 거 이 야 위치 범위 0:23:65:78:99:1011:1313:1414:1515:16-1:-116:17 품사 MAG VAECNPXSNNNGXSVETMNNBVCPEF 표 4를 참조하면, '거이야'를 구성하는 '이/VCP'와 같이, 축약(또는 탈락) 현상에 의해 형태소 표층형 텍스트에 드러나지 않는 형태소의 경우, 위치 범위가 '-1:-1'과 같이 표현될 수 있다. 또한, '못생기어서'를 구성하는 '못생기/VA' 및 '어서/EC'와 같이, 다른 형태소와 축약되어 형태소 표층형 텍스 트에 드러나는 형태소의 경우, 위치 범위의 적어도 일부가 서로 중첩될 수 있다. 예컨대, 표 4에 따른 형태소 표층형 텍스트에서는, 한 음절 '겨'에 두 개의 형태소 '못생기/VA'와 '어서/EC'가 중복되어 나타나게 되므로, '겨'의 위치 범위 '5:6'이 '못생기/VA' 및 '어서/EC'의 위치 범위에 모두 포함될 수 있다. 본 개시의 일 실시예에 따른 형태소 분석 모듈은 기저장된 형태소 분석 리소스를 참조하여, 입력 발화에 포함된 형태소의 원형과 품사를 추출할 수 있으나 이러한 예시에 한정되는 것은 아니다. 예컨대, 다른 실시예에 따른 형태소 분석 모듈은 공지의 형태소 분석기에 입력 발화를 입력하여 형태소 분석 결과 및/또는 형태소 원형 텍스트 등을 획득할 수도 있다. 한편, 입력 발화가 음성 입력으로부터 변환된 텍스트인 경우, 음성이 잘못된 텍스트 형태로 전사 (transcription)되었을 수 있다. 본 개시의 일 실시예에 따른 형태소 분석 모듈은 입력 발화에 포함된 형 태소의 원형을 복원하고 품사를 추출하는 과정에서 잘못 전사된 텍스트를 보정하는 기능을 수행할 수 있다. 이 에 따라, 형태소 분석 결과를 활용하는 뒷 단, 예컨대, 키워드 검출 모듈 및/또는 패턴 매칭 모듈에 서는 입력 발화가 일반 텍스트인지 음성으로부터 변환된 텍스트인지와 무관하게 동일한 방식의 처리를 수행할 수 있다. 키워드 검출 모듈은 입력 발화 내에 존재하는 불안전한 표현에 대한 문맥 기반의 검출을 수행할 수 있다. 키워드 검출 모듈은 비속어와 같이 존재 자체로 불안전한 형태소, 단어, 및/또는 어절 등이 형태소 원형 텍스트 및/또는 형태소 표층형 텍스트에 존재하는지 탐색할 수 있다. 이를 위해, 형태소 원형 텍스트 및/또는 형태소 표층형 텍스트에서 탐색할 키워드가 미리 정의될 수 있다. 예컨 대, 발화 유효성 검증장치에는, 하나 이상의 키워드가 등록되어 있는 키워드 사전(미도시)이 구축되어 있을 수 있다. 키워드는 불안전의 의미 구분에 따라 키워드 사전에 선택적으로 등록될 수 있다. 키워드 사전은 음절 트라이(TIRE) 또는 자소 트라이 형태로 구성될 수 있으나 이에 한정되는 것은 아니다. 키워드는 하나 이상의 연속된 형태소 나열로 구성될 수 있다. 키워드는, 형태소 원형 어휘 및/또는 형태소 표층 형 어휘로 구성될 수 있다. 키워드는, 해당 키워드를 구성하는 형태소들의 품사 정보를 더 포함할 수 있다. 표 5는 형태소 원형 어휘 또는 형태소 표층형 어휘로 표현된 키워드를 예시한 표이다. 표 5 키워드 1 못생기/용언 키워드 2 못생겨/용언 키워드 검출 모듈은 형태소 원형 텍스트 및 형태소 표층형 텍스트 각각에 대해, 미리 정의된 키워드를 탐 색할 수 있다. 일 예로, 키워드 검출 모듈은 형태소 원형 텍스트에 대해 형태소 원형 어휘로 구성된 키워 드(들)를 탐색하고, 형태소 표층형 텍스트에 대해 형태소 표층형 어휘로 구성된 키워드(들)를 탐색할 수 있다. 다른 예로, 키워드 검출 모듈은 형태소 원형 텍스트 및 형태소 표층형 텍스트 각각에 대해, 모든 키워드들 을 탐색할 수도 있다. 형태소 원형 텍스트 및/또는 형태소 표층형 텍스트(이하, 대상 텍스트)에서 특정한 키워드가 검출되는 경우, 키 워드 검출 모듈은 해당 키워드에 대한 탐색의 유효성을 검증할 수 있다. 키워드 검출 모듈은 대상 텍스트를 구성하는 하나 이상의 형태소들의 위치 범위 및 품사를 기반으로, 탐색 의 유효성을 검증할 수 있다. 키워드 검출 모듈은 대상 텍스트 내의 각 형태소들의 위치 범위와, 키워드에 대응하는 음절들의 위치 범위 를 비교하여, 키워드가 형태소 경계에 맞게 탐색 되었는지를 확인할 수 있다. 키워드 검출 모듈은 키워드 에 대응하는 음절들의 위치 범위가 복수의 형태소의 위치 범위와 중첩되는 경우, 검출된 키워드의 형태소 경계 가 유효하지 않은 것으로 판단할 수 있다. 일 예로, 표 3에 따른 형태소 원형 텍스트에서는, 표 5의 키워드 1에 대응하는 음절들 '못생기'가 검출될 수 있 다. 이때, 키워드 1에 대응하는 음절의 위치 범위 '3:6'는, 형태소 원형 텍스트 내의 하나의 형태소, 즉 '못생 기'의 위치 범위 '3:6'와만 중첩되므로, 키워드 검출 모듈은 검출된 키워드의 형태소 경계가 유효한 것으 로 판단할 수 있다. 다른 예로, 표 4에 따른 형태소 표층형 텍스트에서는, 표 5의 키워드 2에 대응하는 음절들 '못생겨'가 검출될 수 있다. 이때, 키워드 2에 대응하는 음절들의 위치 범위 '3:6'는, 형태소 표층형 텍스트 내의 두 개의 형태소 의 위치 범위, 즉 '못생기'의 위치 범위 '3:6' 및 '어서'의 위치 범위 '5:7'와 각각 적어도 일부가 중첩되므로, 키워드 검출 모듈은 검출된 키워드의 형태소 경계가 유효하지 않은 것으로 판단할 수 있다. 키워드 검출 모듈은 키워드가 검출된 위치에 대응하는 형태소(들)의 품사와, 키워드를 구성하는 형태소(들)의 품사를 비교하여, 검출된 키워드의 품사가 유효한지를 판단할 수 있다. 키워드가 일반명사, 고유명사, 수사 등과 같은 체언류의 형태소(들)로만 구성되어 있는 경우, 키워드 검출 모듈 은 키워드가 검출된 위치에 대응하는 형태소(들)의 품사가 모두 체언류인 경우에만 검출된 키워드의 품사 가 유효한 것으로 판단할 수 있다. 반면, 키워드가 체언류 외의 형태소를 포함하는 경우, 키워드 검출 모듈 은 키워드가 검출된 위치에 대응하는 형태소(들)의 품사와 무관하게 검출된 키워드의 품사가 유효한 것으 로 판단할 수 있다. 예컨대, 표 3에 따른 형태소 원형 텍스트에서는 용언으로 구성된 키워드 1이 검출되었으므로, 키워드 검출 모듈 은 검출된 키워드의 품사가 유효한 것으로 판단할 수 있다. 키워드 검출 모듈은 검출된 키워드의 형태소 경계 및 품사가 유효한 경우, 형태소 원형 텍스트 및/또는 형 태소 표층형 텍스트에 불안전한 표현이 포함되어 있음을 지시하는 정보 및/또는 해당 키워드를 출력할 수 있다. 패턴 매칭 모듈은 입력 발화 내에 존재하는 불안전한 표현에 대한 문맥 기반의 검출을 수행할 수 있다. 패 턴 매칭 모듈은 구, 절 또는 문장 등과 같은 형태의 불안전한 서술 표현 또는 개인정보가 형태소 분석 결 과 내에 존재하는지 탐색할 수 있다. 이를 위해, 형태소 분석 결과에 대해 탐색을 수행할 패턴이 미리 정의될 수 있다. 예컨대, 패턴 매칭 모듈(12 0)은 어휘-구문 패턴(Lexico Syntactic Pattern) 형식으로 기술된 하나 이상의 패턴을 저장하고 있을 수 있다. 어휘-구문 패턴은 표층어휘, 형태소 어휘 및/또는 형태소 품사 정보 등의 연속적인 나열로 표현될 수 있다. 패턴 매칭 모듈은 어휘-구문 패턴 형식으로 기술된 하나 이상의 패턴으로서, 하나 이상의 불안전 서술 패 턴 및/또는 하나 이상의 개인정보 검출 패턴을 저장하고 있을 수 있다. 불안전 서술 패턴은, 형태소 분석 결과가 미리 정의된 서술 표현을 포함하는지를 검출하기 위한 패턴이다. 표 6은 불안전 서술 패턴의 일 예를 예시한 표이다. 표 6 hate_prefix 미치/VV ㄴ/ETM hate_key 여자/NNG, 남자/NNG unsafe_hate hate_prefix hate_key 패턴 매칭 모듈은 형태소 분석 결과가 불안전 서술 패턴이 매칭되는지를 탐색할 수 있다. 예컨대, '미치 /VV ㄴ/ETM 여자/NNG' 또는 '미치/VV ㄴ/ETM 남자/NNG'를 포함하는 형태소 분석 결과가 표 6에 따른 불안전 서 술 패턴에 매칭될 수 있다. 실시예들에 따라, 불안전 서술 패턴에 대한 예외를 적용하기 위한 안전 서술 패턴이 추가로 정의될 수 있다. 표 7은 불안전 서술 패턴 및 안전 서술 패턴의 일 예를 예시한 표이다. 표 7 unsafe_hate 변태/NNG safe 곤충/NNG(+@/J_)? 변태/NNG+{거치,하}/VV 패턴 매칭 모듈은, 형태소 분석의 결과에 대해 하나의 패턴이 중복하여 매칭되거나 복수의 패턴이 매칭되 는 경우, 패턴의 길이 또는 형태소 분석 결과에서 패턴에 매칭되는 요소들의 길이가 가장 긴 패턴에 대한 탐색 결과를, 유효한 탐색 결과로 판단할 수 있다. 예를 들어, 표 7의 예시에서, 형태소 분석 결과가 '곤충/NNG+이/JKS 변태/NNG+하/VV'를 포함하는 경우, 불안전 서술 패턴 및 안전 서술 패턴에 모두 매칭될 수 있다. 이때, 패턴 매칭 모듈은 형태소 분석의 결과가 안전 서술 패턴에 매칭되는 것으로 판단할 수 있다. 실시예들에 따라, 안전 서술 패턴은 부정(not) 연산자를 포함하는 불안전 서술 패턴으로 구현될 수도 있다. 부 정 연산자를 포함하는 패턴은, 해당 부정 연산자 가 표시된 대상을 제외한 모든 표현에 매칭될 수 있다. 개인정보 검출 패턴은, 형태소 분석의 결과가 개인정보를 포함하는지를 검출하기 위한 패턴이다. 예컨대, 패턴 매칭 모듈은 개인정보 검출 패턴을 이용하여, 형태소 분석 결과에서 주민등록번호, 여권번호, 운전면허번 호, 외국인 등록번호, 전화번호, 계좌번호, 카드번호, 주소, 이메일주소, 자동차 등록번호, 사업자등록번호 및/ 또는 건강보험번호 등의 개인정보를 검출할 수 있다. 이를 위해, 패턴 매칭 모듈은 각 개인정보 항목에 대 응하는 개인정보 검출 패턴을 저장하고 있을 수 있다. 패턴 매칭 모듈은, 형태소 분석의 결과가 특정 패턴에 매칭되는 경우, 형태소 분석의 결과에 불안전한 표 현 또는 개인정보가 포함되어 있음을 지시하는 정보, 매칭된 패턴, 해당 패턴의 종류(예컨대, 불안전 서술, 안 전 서술 또는 개인정보) 및/또는 형태소 분석의 결과 내에서 해당 패턴에 대응하는 표현을 출력할 수 있다. 분류 모듈은 발화 단위로 발화의 유형을 출력할 수 있다. 분류 모듈은 입력 발화를 기학습된 발화 분 류 모델에 입력하여, 입력 발화의 유형을 획득할 수 있다. 여기서, 발화 분류 모델은, 입력 발화의 유형을 분류하도록 학습된 딥러닝 기반의 모델일 수 있다. 예컨대, 발 화 분류 모델은, KoGPT2(Korean Generative Pre-trained Transformer) 기반의 모델로, 발화의 유형이 부착된 대화 말뭉치를 이용하여 학습될 수 있으나 이에 한정되는 것은 아니다. 발화 분류 모델은, 입력 발화의 유형을 '안전', '혐오', '욕설', '성적 표현', '불법 표현', '개인정보 요구 표 현', '개인정보', '청소년에게 허용되지 않는 표현' 및 '기타 불안전 표현' 중 어느 하나로 분류하도록 학습될 수 있다. 검증 모듈은, 키워드 탐색 결과, 패턴 탐색 결과 및 입력 발화의 유형에 기반하여, 입력 발화에 대한 유효 성을 검증할 수 있다. 일 예로, 검증 모듈은 형태소 원형 텍스트 및 형태소 표층형 텍스트에서 키워드가 유효하게 검출되지 않았 고, 형태소 분석 결과에 불안전 서술 패턴 및/또는 개인정보 검출 패턴이 유효하게 매칭되지 않았고, 입력 발화 가 안전 표현으로 분류된 경우에만, 입력 발화를 유효한 발화로 판단할 수 있다. 반면, 형태소 원형 텍스트 또는 형태소 표층형 텍스트에서 키워드가 검출되었거나, 형태소 분석 결과에 불안전 서술 패턴 및/또는 개인정보 검출 패턴이 매칭된 경우, 검증 모듈은 입력 발화의 유형과 무관하게 입력 발 화를 유효하지 않은 발화로 판단할 수 있다. 또한, 형태소 원형 텍스트 및 형태소 표층형 텍스트에서 키워드가 유효하게 검출되지 않았고, 형태소 분석 결과에 불안전 서술 패턴 및/또는 개인정보 검출 패턴이 유효하게 매칭 되지 않았지만, 입력 발화가 안전 표현이 아닌 다른 유형으로 분류된 경우, 검증 모듈은 입력 발화를 유효 하지 않은 발화로 판단할 수 있다. 검증 모듈은 유효성이 검증된 입력 발화에 대해서만 대화가 진행되도록, 유효성이 검증된 경우에만 입력 발화를 출력 또는 전달할 수 있다. 일 예로, 유효성이 검증된 입력 발화가 사용자의 발화인 경우, 검증 모듈 은 해당 발화를 응답 추론 장치(미도시)에게 전달하여, 사용자의 발화에 대한 응답을 생성할 수 있다. 다른 예로, 유효성이 검증된 입력 발화가 대화 서비스 제공 장치의 발화인 경우, 검증 모듈은 해당 발화를 사용자 인터페이스를 통해 출력할 수 있다. 도 2는 본 개시의 일 실시예에 따른 발화 유효성 검증 방법을 나타낸 흐름도이다. 도 2에 도시된 방법은, 전술한 발화 유효성 검증장치 또는 이의 각 구성요소들에 의해 수행될 수 있으므로, 중복되는 설명에 대해서는 생략한다. 발화 유효성 검증장치는 입력 발화를 대상으로 형태소 분석을 수행하여, 입력 발화에 대한 형태소 분석 결 과 및 형태소 원형 텍스트를 획득한다(S200). 발화 유효성 검증장치는 형태소 분석 결과로부터 형태소 원형 텍스트를 구성하는 각 형태소의 품사 및 위치 범위와, 입력 발화에 대한 형태소 표층형 텍스트를 구성하는 각 형태소의 품사 및 위치 범위를 추가로 획득할 수 있다. 발화 유효성 검증장치는 입력 발화를 형태소 표층형 텍스트로 이용할 수 있다. 발화 유효성 검증장치는 형태소 원형 텍스트 및 형태소 표층형 텍스트에 대해, 미리 정의된 키워드를 탐색 한다(S220). 발화 유효성 검증장치는 형태소 원형 텍스트 및/또는 형태소 표층형 텍스트 내의 각 형태소의 품사 및 위치 범위를 이용하여 키워드 탐색 결과가 유효한지 검증할 수 있다. 여기서, 발화 유효성 검증장치 가 키워드 탐색 결과의 유효성을 검증하는 방법은 도 3에 도시된 적어도 하나의 과정을 포함할 수 있으나, 이에 한정되는 것은 아니다. 키워드의 탐색 결과가 유효하지 않은 것으로 판단된 경우, 발화 유효성 검증장치 는 해당 키워드가 검출되지 않은 것으로 취급할 수 있다. 발화 유효성 검증장치는 형태소 분석 결과에 대해, 미리 정의된 패턴을 탐색할 수 있다(S240). 여기서, 미 리 정의된 패턴은, 어휘-구문 패턴 형식으로 기술된 하나 이상의 패턴을 포함할 수 있다. 예컨대, 미리 정의된 패턴은, 형태소 분석의 결과 내의 하나 이상의 표현들의 나열이 구 또는 절 형태의 미리 정의된 표현을 포함하 는지를 검출하기 위한 불안전 서술 패턴 및 형태소 분석의 결과 내의 하나 이상의 표현들의 나열이 개인정보를 포함하는지를 검출하기 위한 개인정보 검출 패턴을 포함할 수 있다. 발화 유효성 검증장치는 형태소 분석의 결과에 대해 하나의 패턴이 중복하여 매칭되거나 복수의 패턴이 매칭되는 경우, 대응하는 길이가 가장 긴 패턴 을 상기 형태소 분석의 결과에 매칭된 패턴으로 판단할 수 있다. 발화 유효성 검증장치는 입력 발화를 기학습된 발화 분류 모델에 입력하여, 상기 입력 발화의 유형을 획득 한다(S260). 발화 유효성 검증장치는 키워드의 탐색 결과, 패턴의 탐색 결과 및 입력 발화의 유형에 기반하여, 입력 발 화에 대한 유효성을 검증한다(S280). 예컨대, 발화 유효성 검증장치는 형태소 원형 텍스트 및 형태소 표층형 텍스트에서 키워드가 검출되지 않았 고, 형태소 분석 결과에 불안전 서술 패턴 및/또는 개인정보 검출 패턴이 매칭되지 않았고, 입력 발화가 안전 표현으로 분류된 경우에만, 입력 발화를 유효한 발화로 판단할 수 있다. 한편, 형태소 원형 텍스트 또는 형태소 표층형 텍스트에서 키워드가 검출되었거나, 형태소 분석 결과에 불안전 서술 패턴 및/또는 개인정보 검출 패턴이 매칭된 경우, 발화 유효성 검증장치는 입력 발화의 유형과 무관하 게 입력 발화를 유효하지 않은 발화로 판단할 수 있다. 또한, 형태소 원형 텍스트 및 형태소 표층형 텍스트에서 키워드가 검출되지 않았고, 형태소 분석 결과에 불안전 서술 패턴 및/또는 개인정보 검출 패턴이 매칭되지 않았지만, 입력 발화가 안전 표현이 아닌 다른 유형으로 분 류된 경우, 유효성 검증장치는 입력 발화를 유효하지 않은 발화로 판단할 수 있다. 도 3은 본 개시의 일 실시예에 따른 키워드 탐색 결과의 검증 방법을 나타낸 흐름도이다. 도 3에 도시된 방법은, 전술한 키워드 탐색 모듈 또는 이를 구비한 발화 유효성 검증장치에 의해 수행 될 수 있으므로, 중복되는 설명에 대해서는 생략한다. 발화 유효성 검증장치는 대상 텍스트에 대한 키워드의 탐색 결과로, 해당 키워드가 검출되는지 확인한다 (S300). 여기서, 대상 텍스트는 입력 발화에 대한 형태소 원형 텍스트 또는 형태소 표층형 텍스트일 수 있다. 이하에서는, 키워드 사전에 정의된 키워드와 대상 텍스트로부터 검출된 키워드를 구분하기 위해, 키워드 사전 내에 정의된 키워드를 '탐색 대상 키워드'로 지칭하고 대상 텍스트로부터 검출된 키워드를 '검색된 키워드'로 지칭한다. 키워드가 검출된 경우, 발화 유효성 검증장치는 검출된 키워드의 형태소 경계가 유효한지 확인한다(S320). 발화 유효성 검증장치는 대상 텍스트를 구성하는 적어도 하나의 형태소의 위치 범위와, 대상 텍스트에서 키 워드가 검출된 위치 범위를 비교하여, 검출된 키워드의 형태소 경계가 유효한지 확인할 수 있다. 예컨대, 대상 텍스트에서 키워드가 검출된 위치 범위가, 대상 텍스트를 구성하는 복수의 형태소에 대한 위치 범 위와 중첩되는 경우, 발화 유효성 검증장치는 검출된 키워드의 형태소 경계가 유효하지 않은 것으로 판단할 수 있다. 이 경우, 발화 유효성 검증장치는 키워드 탐색 결과가 유효하지 않은 것으로 판단할 수 있다 (S340). 검출된 키워드의 형태소 경계가 유효한 것으로 판단된 경우, 발화 유효성 검증장치는 검출된 키워드의 품사 가 유효한지 확인한다(S360). 발화 유효성 검증장치는 대상 텍스트를 구성하는 적어도 하나의 형태소의 품 사와, 탐색 대상 키워드를 구성하는 적어도 하나의 형태소의 품사를 비교하여, 검출된 키워드의 품사가 유효한 지 확인할 수 있다. 예컨대, 탐색 대상 키워드에 포함된 모든 형태소의 품사가 체언류이고, 대상 텍스트에서 키워드가 검출된 위치 범위에 대응하는 적어도 하나의 형태소의 품사가 체언류가 아닌 경우, 발화 유효성 검증장치는 검출된 키워 드의 품사가 유효하지 않은 것으로 판단할 수 있다. 이 경우, 발화 유효성 검증장치는 키워드 탐색의 결과 가 유효하지 않은 것으로 판단할 수 있다(S340). 검출된 키워드의 형태소 경계 및 품사가 유효한 것으로 판단된 경우, 발화 유효성 검증장치는 키워드 탐색 의 결과가 유효한 것으로 판단할 수 있다(S380). 본 발명에 따른 장치 또는 방법의 각 구성요소는 하드웨어 또는 소프트웨어로 구현되거나, 하드웨어 및 소프트 웨어의 결합으로 구현될 수 있다. 또한, 각 구성요소의 기능이 소프트웨어로 구현되고 마이크로프로세서가 각 구성요소에 대응하는 소프트웨어의 기능을 실행하도록 구현될 수도 있다. 본 명세서에 설명되는 시스템들 및 기법들의 다양한 구현예들은, 디지털 전자 회로, 집적회로, FPGA(field programmable gate array), ASIC(application specific integrated circuit), 컴퓨터 하드웨어, 펌웨어, 소프 트웨어, 및/또는 이들의 조합으로 실현될 수 있다. 이러한 다양한 구현예들은 프로그래밍가능 시스템 상에서 실 행 가능한 하나 이상의 컴퓨터 프로그램들로 구현되는 것을 포함할 수 있다. 프로그래밍가능 시스템은, 저장 시 스템, 적어도 하나의 입력 디바이스, 그리고 적어도 하나의 출력 디바이스로부터 데이터 및 명령들을 수신하고 이들에게 데이터 및 명령들을 전송하도록 결합되는 적어도 하나의 프로그래밍가능 프로세서(이것은 특수 목적 프로세서일 수 있거나 혹은 범용 프로세서일 수 있음)를 포함한다. 컴퓨터 프로그램들(이것은 또한 프로그램들, 소프트웨어, 소프트웨어 애플리케이션들 혹은 코드로서 알려져 있음)은 프로그래밍가능 프로세서에 대한 명령어 들을 포함하며 \"컴퓨터가 읽을 수 있는 기록매체\"에 저장된다. 컴퓨터가 읽을 수 있는 기록매체는, 컴퓨터 시스템에 의하여 읽혀질 수 있는 데이터가 저장되는 모든 종류의 기 록장치를 포함한다. 이러한 컴퓨터가 읽을 수 있는 기록매체는 ROM, CD-ROM, 자기 테이프, 플로피디스크, 메모 리 카드, 하드 디스크, 광자기 디스크, 스토리지 디바이스 등의 비휘발성(non-volatile) 또는 비일시적인(non- transitory) 매체일 수 있으며, 또한 데이터 전송 매체(data transmission medium)와 같은 일시적인 (transitory) 매체를 더 포함할 수도 있다. 또한, 컴퓨터가 읽을 수 있는 기록매체는 네트워크로 연결된 컴퓨터 시스템에 분산되어, 분산방식으로 컴퓨터가 읽을 수 있는 코드가 저장되고 실행될 수도 있다. 본 명세서의 흐름도/타이밍도에서는 각 과정들을 순차적으로 실행하는 것으로 기재하고 있으나, 이는 본 개시의 일 실시예의 기술 사상을 예시적으로 설명한 것에 불과한 것이다. 다시 말해, 본 개시의 일 실시예가 속하는 기 술 분야에서 통상의 지식을 가진 자라면 본 개시의 일 실시예의 본질적인 특성에서 벗어나지 않는 범위에서 흐 름도/타이밍도에 기재된 순서를 변경하여 실행하거나 각 과정들 중 하나 이상의 과정을 병렬적으로 실행하는 것으로 다양하게 수정 및 변형하여 적용 가능할 것이므로, 흐름도/타이밍도는 시계열적인 순서로 한정되는 것은 아니다. 이상의 설명은 본 실시예의 기술 사상을 예시적으로 설명한 것에 불과한 것으로서, 본 실시예가 속하는 기술 분 야에서 통상의 지식을 가진 자라면 본 실시예의 본질적인 특성에서 벗어나지 않는 범위에서 다양한 수정 및 변 형이 가능할 것이다. 따라서, 본 실시예들은 본 실시예의 기술 사상을 한정하기 위한 것이 아니라 설명하기 위 한 것이고, 이러한 실시예에 의하여 본 실시예의 기술 사상의 범위가 한정되는 것은 아니다. 본 실시예의 보호 범위는 아래의 청구범위에 의하여 해석되어야 하며, 그와 동등한 범위 내에 있는 모든 기술 사상은 본 실시예의 권리범위에 포함되는 것으로 해석되어야 할 것이다.부호의 설명 10: 발화 유효성 검증장치"}
{"patent_id": "10-2022-0051323", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 개시의 일 실시예에 따른 발화 유효성 검증 장치를 개략적으로 나타낸 블록구성도이다. 도 2는 본 개시의 일 실시예에 따른 발화 유효성 검증 방법을 나타낸 흐름도이다. 도 3은 본 개시의 일 실시예에 따른 키워드 탐색 결과의 검증 방법을 나타낸 흐름도이다."}
