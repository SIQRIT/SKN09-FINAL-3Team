{"patent_id": "10-2023-0081994", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0004404", "출원번호": "10-2023-0081994", "발명의 명칭": "인공지능 기반의 로봇 과수 전정 처리장치 및 방법", "출원인": "전남대학교산학협력단", "발명자": "이경환"}}
{"patent_id": "10-2023-0081994", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "전정 대상 과수를 촬영하여 과수 이미지를 생성하는 과수 이미지 생성부;전정 포인트 예측 모델을 통해 상기 과수 이미지에서 전정 포인트를 예측하는 전정 포인트 예측부; 및상기 전정 포인트 예측 결과를 기초로 전정 작업 정보를 생성하고 전정 로봇에게 상기 전정 작업 정보를 제공하여 전정 작업을 진행시키는 전정 처리부를 포함하는 인공지능 기반의 로봇 과수 전정 처리장치."}
{"patent_id": "10-2023-0081994", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서, 상기 과수 이미지 생성부는다중 RGB 카메라 또는 다중 RGB-D 카메라로부터 상기 전정 대상 과수의 다시점(Multi-view) 2D 이미지를 획득하고 상기 2D 이미지를 3D로 재구성하여 상기 전정 대상 과수의 3D 이미지 모델을 생성하는 것을 특징으로 하는인공지능 기반의 로봇 과수 전정 처리장치."}
{"patent_id": "10-2023-0081994", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서, 상기 과수 이미지 생성부는SFM(Structure From Motion)을 사용하여 2D로 촬영된 과수 이미지를 3D 포인트 클라우드로 표현되는 3D 이미지모델로 재구성하고 상기 재구성 과정에서 GPS 및 SLAM을 이용한 GCP(Ground Control Point) 좌표계를 설정하는것을 특징으로 하는 인공지능 기반의 로봇 과수 전정 처리장치."}
{"patent_id": "10-2023-0081994", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서, 상기 과수 이미지 생성부는전문가 모드 설정시 3D 과수 이미지 모델을 전정 전문가 단말에 제공하여 전정 전문가를 통해 전정 포인트를 지정하도록 하는 것을 특징으로 하는 인공지능 기반의 로봇 과수 전정 처리장치."}
{"patent_id": "10-2023-0081994", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서, 상기 전정 포인트 예측부는전정 전과 후에 대한 과수 이미지를 데이터셋으로 하는 슈퍼노드 그래프 기반 시맨틱 분할(SemanticSegmentation) 알고리즘으로 상기 전정 포인트 예측 모델을 사전 구축하는 것을 특징으로 하는 인공지능 기반의로봇 과수 전정 처리장치."}
{"patent_id": "10-2023-0081994", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5항에 있어서, 상기 전정 포인트 예측부는전정 대상 과수의 3D 이미지 모델의 포인트 클라우드를 복셀화(voxelization)하여 복셀로 변환하고 복셀 세선화를 통해 줄기와 가지에 대한 골격(skeleton)을 추출하는 전처리를 수행하는 것을 특징으로 하는 인공지능 기반의 로봇 과수 전정 처리장치.공개특허 10-2025-0004404-3-청구항 7 제6항에 있어서, 상기 전정 포인트 예측부는각 복셀의 중심인 슈퍼노드(supernode) 및 인접한 슈퍼노드를 연결하는 슈퍼엣지(superedge)로 이루어진 슈퍼노드 그래프를 구성하고, 인접한 슈퍼노드 사이의 선형성, 평면성 및 산란 비율로 상기 슈퍼엣지의 특징을 나타내는 것을 특징으로 하는 인공지능 기반의 로봇 과수 전정 처리장치."}
{"patent_id": "10-2023-0081994", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7항에 있어서, 상기 전정 포인트 예측부는상기 슈퍼노드 그래프 내의 임베딩 및 로컬 환경을 기반으로 각 슈퍼노드를 분류하고 분류된 각 슈퍼노드를GRU(Gated Recurrent Unit)를 통해 전정할 가지 및 남길 감지를 인식하여 전정 포인트 좌표를 예측하는 것을 특징으로 하는 인공지능 기반의 로봇 과수 전정 처리장치."}
{"patent_id": "10-2023-0081994", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에 있어서, 상기 전정 포인트 예측부는최대 풀링 전후에 각각 MLP(multi-layer perceptron)로 구성되는 단일 STN(Spatial Transformer Network)의PointNet를 통해 슈퍼노드를 임베딩하는 것을 특징으로 하는 인공지능 기반의 로봇 과수 전정 처리장치."}
{"patent_id": "10-2023-0081994", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제1항에 있어서, 상기 전정 처리부는예측된 전정 포인트 좌표를 기초로 상기 전정 로봇의 전정 포인트로의 이동을 위한 GPS 또는 SLAM 기반 지도가포함된 상기 전정 작업 정보를 상기 전정 로봇에게 제공하여 상기 전정 로봇이 상기 전정 작업 정보에 따라 전정 작업 포인트에 접근하여 해당 포인트에 있는 가지의 전정 작업을 수행하도록 하는 것을 특징으로 하는 인공지능 기반의 로봇 과수 전정 처리장치."}
{"patent_id": "10-2023-0081994", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제1항에 있어서, 상기 전정 작업의 전정 작업 중에 또는 작업 완료 후에 과수 이미지를 획득하여 전정 작업 결과를 확인하는 전정 작업 모니터링부를 더 포함하는 것을 특징으로 하는 인공지능 기반의 로봇 과수 전정 처리장치."}
{"patent_id": "10-2023-0081994", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "전정 대상 과수를 촬영하여 2D 이미지를 획득하고 상기 2D 이미지를 기초로 상기 전정 대상 과수의 3D 이미지모델을 생성하는 단계;전정 포인트 예측 모델을 통해 상기 3D 이미지 모델을 기 구축된 전정 포인트 예측 모델에 입력하여 전정할 가지의 위치인 전정 포인트를 예측하는 단계; 상기 전정 포인트의 좌표를 기초로 전정 작업 정보를 생성하고 전정 로봇에게 상기 전정 작업 정보를 제공하여전정 작업을 진행시키는 단계; 및전정 작업 중에 또는 완료 후에 과수 이미지를 획득하여 전정 작업 상태를 모니터링하는 단계를 포함하는 인공공개특허 10-2025-0004404-4-지능 기반의 로봇 과수 전정 처리방법."}
{"patent_id": "10-2023-0081994", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 인공지능 기반의 로봇 과수 전정 처리장치 및 방법에 관한 것으로, 상기 장치는 전정 대상 과수를 촬 영하여 과수 이미지를 생성하는 과수 이미지 생성부; 전정 포인트 예측 모델을 통해 상기 과수 이미지에서 전정 포인트를 예측하는 전정 포인트 예측부; 및 상기 전정 포인트 예측 결과를 기초로 전정 작업 정보를 생성하고 전 정 로봇에게 상기 전정 작업 정보를 제공하여 전정 작업을 진행시키는 전정 처리부를 포함한다. 따라서, 본 발 명은 인공지능 기반 과수원 전정 시스템을 구현할 수 있다."}
{"patent_id": "10-2023-0081994", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 로봇 과수 전정 기술에 관한 것으로, 보다 상세하게는 3차원 과수 이미지 모델을 통해 전정 포인트를 예측하여 로봇 전정을 지원할 수 있는 인공지능 기반의 로봇 과수 전정 처리장치 및 방법에 관한 것이다."}
{"patent_id": "10-2023-0081994", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "과수원의 가지다듬기는 과수 농사의 시작과 동시에 한해 농사의 성공을 좌우하는 매우 중요한 작업이다. 사과 재배의 경우에는 동절기인 1~2월에 과수 수세 조절과 사과의 품질과 수확량을 높이기 위해 가지치기 작업인 전 정을 수행한다. 가지치기는 나무 내부로 햇빛이 잘 들어갈 수 있도록 가지를 다듬는 것이다. 이를 통해 나무 는 전체적으로 균형 있게 잘 자라 고품질 과일을 안정적으로 생산할 수 있게 된다. 일반적으로 전정은 보통 수작업을 통해 이뤄지고 있어서 많은 노동력과 작업 시간이 투입된다. 수작업으로 이 뤄지는 특성상 작업자들의 경험과 숙련도에 따라 전정 결과물의 수준 차이를 보이기 마련이다. 최근에는 작업 시간을 줄이고 노동력을 대체하기 위해 대형 헤지 커터를 장착한 트랙터를 이용한 기계식 전정 방식을 채택하곤 한다. 그러나 이런 기계식 일괄 처리 방식은 작업 시간과 노동력을 줄이는 효과는 있지만, 전정 작업 후 사과 품질 관 리와 나무 세력 관리가 어렵고, 웃자란 가지가 많이 발생하는 부작용이 발생할 수 있다. 최근에 비약적인 발전이 이루어지고 있는 ICT와 인공지능 기술 또 데이터를 바탕으로 한 디지털 기술은 농업이 안고 있는 과제 해결을 위한 대안으로 떠오르고 있다. 이러한 디지털 기술은 온실에서 과채류를 재배하는 데 사용되는 스마트팜 기술에서 노지재배 작물로 적용이 확장되어가고 있다. 따라서 디지털 기술을 적용하여 과수 전정 작업을 자동화할 수 있는 기술 개발이 요구되었다. 선행기술문헌 특허문헌 (특허문헌 0001) 한국등록특허 제10-0667220 (2007.01.04)"}
{"patent_id": "10-2023-0081994", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 일 실시예는 3차원 과수 이미지 모델을 통해 전정 포인트를 예측하여 로봇 전정을 지원할 수 있는 인 공지능 기반의 로봇 과수 전정 처리장치 및 방법을 제공하고자 한다. 본 발명의 일 실시예는 전정 전과 후에 대한 과수 이미지를 지도 학습하여 전정 포인트 예측 모델을 생성하고 전정 포인트 예측 모델을 통해 전정 대상 과일나무의 전정 포인트 좌표를 예측하여 전정 작업용 로봇에게 제공 하여 전정 작업이 자동으로 이루어질 수 있는 인공지능 기반의 로봇 과수 전정 처리장치 및 방법을 제공하고자 한다. 본 발명의 일 실시예는 로봇을 이용하여 과수원 전정 작업을 진행함으로써 작업 시간과 노동력을 줄일 수 있고 품질 관리와 나무 세력 관리가 가능하여 생산성을 향상시킬 수 있는 인공지능 기반의 로봇 과수 전정 처리장치 및 방법을 제공하고자 한다."}
{"patent_id": "10-2023-0081994", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "실시예들 중에서, 인공지능 기반의 로봇 과수 전정 처리장치는 전정 대상 과수를 촬영하여 과수 이미지를 생성 하는 과수 이미지 생성부; 전정 포인트 예측 모델을 통해 상기 과수 이미지에서 전정 포인트를 예측하는 전정 포인트 예측부; 및 상기 전정 포인트 예측 결과를 기초로 전정 작업 정보를 생성하고 전정 로봇에게 상기 전정 작업 정보를 제공하여 전정 작업을 진행시키는 전정 처리부를 포함한다. 상기 과수 이미지 생성부는 다중 RGB 카메라 또는 다중 RGB-D 카메라로부터 상기 전정 대상 과수의 다시점 (Multi-view) 2D 이미지를 획득하고 상기 2D 이미지를 3D로 재구성하여 상기 전정 대상 과수의 3D 이미지 모델 을 생성할 수 있다. 상기 과수 이미지 생성부는 SFM(Structure From Motion)을 사용하여 2D로 촬영된 과수 이미지를 3D 포인트 클라 우드로 표현되는 3D 이미지 모델로 재구성하고 상기 재구성 과정에서 GPS 및 SLAM을 이용한 GCP(Ground Control Point) 좌표계를 설정할 수 있다. 상기 과수 이미지 생성부는 전문가 모드 설정시 3D 과수 이미지 모델을 전정 전문가 단말에 제공하여 전정 전문 가를 통해 전정 포인트를 지정하도록 할 수 있다. 상기 전정 포인트 예측부는 전정 전과 후에 대한 과수 이미지를 데이터셋으로 하는 슈퍼노드 그래프 기반 시맨 틱 분할(Semantic Segmentation) 알고리즘으로 상기 전정 포인트 예측 모델을 사전 구축할 수 있다. 상기 전정 포인트 예측부는 전정 대상 과수의 3D 이미지 모델의 포인트 클라우드를 복셀화(voxelization)하여 복셀로 변환하고 복셀 세선화를 통해 줄기와 가지에 대한 골격(skeleton)을 추출하는 전처리를 수행할 수 있다. 상기 전정 포인트 예측부는 각 복셀의 중심인 슈퍼노드(supernode) 및 인접한 슈퍼노드를 연결하는 슈퍼엣지 (superedge)로 이루어진 슈퍼노드 그래프를 구성하고, 인접한 슈퍼노드 사이의 선형성, 평면성 및 산란 비율로 상기 슈퍼엣지의 특징을 나타낼 수 있다. 상기 전정 포인트 예측부는 상기 슈퍼노드 그래프 내의 임베딩 및 로컬 환경을 기반으로 각 슈퍼노드를 분류하 고 분류된 각 슈퍼노드를 GRU(Gated Recurrent Unit)를 통해 전정할 가지 및 남길 감지를 인식하여 전정 포인트 좌표를 예측할 수 있다. 상기 전정 포인트 예측부는 최대 풀링 전후에 각각 MLP(multi-layer perceptron)로 구성되는 단일 STN(Spatial Transformer Network)의 PointNet를 통해 슈퍼노드를 임베딩할 수 있다. 상기 전정 처리부는 예측된 전정 포인트 좌표를 기초로 상기 전정 로봇의 전정 포인트로의 이동을 위한 GPS 또 는 SLAM 기반 지도가 포함된 상기 전정 작업 정보를 상기 전정 로봇에게 제공하여 상기 전정 로봇이 상기 전정 작업 정보에 따라 전정 작업 포인트에 접근하여 해당 포인트에 있는 가지의 전정 작업을 수행하도록 할 수 있다. 실시예들 중에서, 인공지능 기반의 로봇 과수 전정 처리장치는 상기 전정 작업의 전정 작업 중에 또는 작업 완 료 후에 과수 이미지를 획득하여 전정 작업 결과를 확인하는 전정 작업 모니터링부를 더 포함할 수 있다. 실시예들 중에서, 인공지능 기반의 로봇 과수 전정 처리방법은 전정 대상 과수를 촬영하여 2D 이미지를 획득하 고 상기 2D 이미지를 기초로 상기 전정 대상 과수의 3D 이미지 모델을 생성하는 단계; 전정 포인트 예측 모델을 통해 상기 3D 이미지 모델을 기 구축된 전정 포인트 예측 모델에 입력하여 전정할 가지의 위치인 전정 포인트를 예측하는 단계; 상기 전정 포인트의 좌표를 기초로 전정 작업 정보를 생성하고 전정 로봇에게 상기 전정 작업 정보를 제공하여 전정 작업을 진행시키는 단계; 및 전정 작업 중에 또는 완료 후에 과수 이미지를 획득하여 전 정 작업 상태를 모니터링하는 단계를 포함한다."}
{"patent_id": "10-2023-0081994", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "개시된 기술은 다음의 효과를 가질 수 있다. 다만, 특정 실시예가 다음의 효과를 전부 포함하여야 한다거나 다 음의 효과만을 포함하여야 한다는 의미는 아니므로, 개시된 기술의 권리범위는 이에 의하여 제한되는 것으로 이 해되어서는 아니 될 것이다. 본 발명의 일 실시예에 따른 인공지능 기반의 로봇 과수 전정 처리장치 및 방법은 3차원 과수 이미지 모델을 통 해 전정 포인트를 예측하여 로봇 전정을 지원할 수 있다. 본 발명의 일 실시예에 따른 인공지능 기반의 로봇 과수 전정 처리장치 및 방법은 전정 전과 후에 대한 과수 이 미지를 지도 학습하여 전정 포인트 예측 모델을 생성하고 전정 포인트 예측 모델을 통해 전정 대상 과일나무의 전정 포인트 좌표를 예측하여 전정 작업용 로봇에게 제공하여 전정 작업이 자동으로 이루어질 수 있다. 본 발명의 일 실시예에 따른 인공지능 기반의 로봇 과수 전정 처리장치 및 방법은 로봇을 이용하여 과수원 전정 작업을 진행함으로써 작업 시간과 노동력을 줄일 수 있고 품질 관리와 나무 세력 관리가 가능하여 생산성을 향 상시킬 수 있다."}
{"patent_id": "10-2023-0081994", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명에 관한 설명은 구조적 내지 기능적 설명을 위한 실시예에 불과하므로, 본 발명의 권리범위는 본문에 설 명된 실시예에 의하여 제한되는 것으로 해석되어서는 아니 된다. 즉, 실시예는 다양한 변경이 가능하고 여러 가 지 형태를 가질 수 있으므로 본 발명의 권리범위는 기술적 사상을 실현할 수 있는 균등물들을 포함하는 것으로 이해되어야 한다. 또한, 본 발명에서 제시된 목적 또는 효과는 특정 실시예가 이를 전부 포함하여야 한다거나 그러한 효과만을 포함하여야 한다는 의미는 아니므로, 본 발명의 권리범위는 이에 의하여 제한되는 것으로 이해 되어서는 아니 될 것이다. 한편, 본 출원에서 서술되는 용어의 의미는 다음과 같이 이해되어야 할 것이다. \"제1\", \"제2\" 등의 용어는 하나의 구성요소를 다른 구성요소로부터 구별하기 위한 것으로, 이들 용어들에 의해 권리범위가 한정되어서는 아니 된다. 예를 들어, 제1 구성요소는 제2 구성요소로 명명될 수 있고, 유사하게 제2 구성요소도 제1 구성요소로 명명될 수 있다. 어떤 구성요소가 다른 구성요소에 \"연결되어\"있다고 언급된 때에는, 그 다른 구성요소에 직접적으로 연결될 수 도 있지만, 중간에 다른 구성요소가 존재할 수도 있다고 이해되어야 할 것이다. 반면에, 어떤 구성요소가 다른 구성요소에 \"직접 연결되어\"있다고 언급된 때에는 중간에 다른 구성요소가 존재하지 않는 것으로 이해되어야 할 것이다. 한편, 구성요소들 간의 관계를 설명하는 다른 표현들, 즉 \"~사이에\"와 \"바로 ~사이에\" 또는 \"~에 이웃 하는\"과 \"~에 직접 이웃하는\" 등도 마찬가지로 해석되어야 한다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한 복수의 표현을 포함하는 것으로 이해되어야 하고, \"포함 하다\"또는 \"가지다\" 등의 용어는 실시된 특징, 숫자, 단계, 동작, 구성요소, 부분품 또는 이들을 조합한 것이 존재함을 지정하려는 것이며, 하나 또는 그 이상의 다른 특징이나 숫자, 단계, 동작, 구성요소, 부분품 또는 이 들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 각 단계들에 있어 식별부호(예를 들어, a, b, c 등)는 설명의 편의를 위하여 사용되는 것으로 식별부호는 각 단 계들의 순서를 설명하는 것이 아니며, 각 단계들은 문맥상 명백하게 특정 순서를 기재하지 않는 이상 명기된 순 서와 다르게 일어날 수 있다. 즉, 각 단계들은 명기된 순서와 동일하게 일어날 수도 있고 실질적으로 동시에 수 행될 수도 있으며 반대의 순서대로 수행될 수도 있다. 본 발명은 컴퓨터가 읽을 수 있는 기록매체에 컴퓨터가 읽을 수 있는 코드로서 구현될 수 있고, 컴퓨터가 읽을 수 있는 기록 매체는 컴퓨터 시스템에 의하여 읽혀질 수 있는 데이터가 저장되는 모든 종류의 기록 장치를 포함 한다. 컴퓨터가 읽을 수 있는 기록 매체의 예로는 ROM, RAM, CD-ROM, 자기 테이프, 플로피 디스크, 광 데이터 저장 장치 등이 있다. 또한, 컴퓨터가 읽을 수 있는 기록 매체는 네트워크로 연결된 컴퓨터 시스템에 분산되어, 분산 방식으로 컴퓨터가 읽을 수 있는 코드가 저장되고 실행될 수 있다. 여기서 사용되는 모든 용어들은 다르게 정의되지 않는 한, 본 발명이 속하는 분야에서 통상의 지식을 가진 자에 의해 일반적으로 이해되는 것과 동일한 의미를 가진다. 일반적으로 사용되는 사전에 정의되어 있는 용어들은 관 련 기술의 문맥상 가지는 의미와 일치하는 것으로 해석되어야 하며, 본 출원에서 명백하게 정의하지 않는 한 이 상적이거나 과도하게 형식적인 의미를 지니는 것으로 해석될 수 없다. 도 1은 본 발명의 일 실시예에 따른 인공지능 기반의 로봇 과수 전정 처리 시스템을 설명하는 도면이다. 도 1을 참조하면, 로봇 과수 전정 처리 시스템은 전정 로봇, 카메라 센서, 과수 전정 처리장치 및 데이터베이스를 포함할 수 있다. 전정 로봇은 과수원 현장에서 전정 작업을 수행할 수 있다. 일 실시예에서, 전정 로봇은 과수 전정 처리장치로부터 좌표 기반의 전정 위치를 전달받아 과수에서 전정작업을 수행할 수 있다. 여기에서, 전정 로봇은 자율 주행하며 팔(Arm)에 전정 대상 가지를 유인하고 결속하며 절단 가능한 전정 도구를 포함할 수 있다. 전정 로봇은 과수 전정 처리장치와 네트워크를 통해 연결될 수 있고, 복수의 전정 로봇 들이 과수 전정 처리장치와 동시에 또는 시간 간격을 두고 연결될 수도 있다. 카메라 센서는 과수원 현장 또는 전정 로봇에 설치되고 전정 전과 후에 대한 과수(果樹)를 각각 촬영 하여 과수 이미지를 생성할 수 있다. 여기에서, 카메라 센서는 다중 RGB 카메라 또는 다중 RGB-D 카메라 로 구현될 수 있으며, 반드시 이에 한정되는 것은 아니다. 카메라 센서는 전정 대상 과수의 전정 전과 후 각각을 촬영하여 전정 전과 후에 대한 과수 이미지를 과수 전정 처리장치에게 제공할 수 있다. 카메라 센 서는 과수 전정 처리장치와 네트워크를 통해 연결될 수 있고, 복수의 카메라 센서들이 과수 전 정 처리장치와 동시에 또는 시간 간격을 두고 연결될 수도 있다. 과수 전정 처리장치는 전정 로봇을 이용한 자동화된 과수 전정 처리를 수행하는 컴퓨터 또는 프로그 램에 해당하는 서버로 구현될 수 있다. 과수 전정 처리장치는 전정 로봇 및 카메라 센서와 유 선 또는 무선 네트워크를 통해 연결될 수 있고 상호 간에 데이터를 주고받을 수 있다. 한편, 과수 전정 처리장 치는 본 발명에 따른 인공지능 기반의 로봇 과수 전정 처리를 수행하는 과정에서 다양한 외부 시스템(또는 서버)과 연동하여 동작할 수 있다. 과수 전정 처리장치는 카메라 센서로부터 전정 대상 과수 이미지 를 획득하고 기 구축된 전정 포인트 예측 모델에 입력하여 전정 포인트를 예측할 수 있다. 과수 전정 처리장치 는 예측된 전정 포인트 좌표를 전정 로봇에게 전송하고 전정 로봇의 전정 작업을 모니터링할 수 있다. 데이터베이스는 과수 전정 처리장치의 동작 과정에서 필요한 다양한 정보들을 저장하는 저장장치에 해당할 수 있다. 예를 들어, 데이터베이스는 카메라 센서로부터 촬영된 영상을 저장할 수 있고, 전정 포인트 예측을 위한 AI 모델 구축을 위한 학습 알고리즘 및 데이터셋을 저장할 수 있고, 예측된 전정 포인트들 을 저장할 수 있으며, 반드시 이에 한정되지 않고, 과수 전정 처리장치가 본 발명에 따른 인공지능 기반의 로봇 과수 전정 처리를 시행하는 과정에서 다양한 형태로 수집 또는 가공된 정보들을 저장할 수 있다. 도 2는 도 1의 과수 전정 처리장치의 시스템 구성을 설명하는 도면이다. 도 2를 참조하면, 과수 전정 처리장치는 프로세서, 메모리, 사용자 입출력부 및 네트워크 입출력부를 포함할 수 있다. 프로세서는 과수 전정 처리장치가 동작하는 과정에서의 각 단계들을 처리하는 프로시저를 실행할 수 있고, 그 과정 전반에서 읽혀지거나 작성되는 메모리를 관리할 수 있으며, 메모리에 있는 휘발성 메 모리와 비휘발성 메모리 간의 동기화 시간을 스케줄할 수 있다. 프로세서는 과수 전정 처리장치의 동 작 전반을 제어할 수 있고, 메모리, 사용자 입출력부 및 네트워크 입출력부와 전기적으로 연결 되어 이들 간의 데이터 흐름을 제어할 수 있다. 프로세서는 과수 전정 처리장치의 CPU(CentralProcessing Unit)로 구현될 수 있다. 메모리는 SSD(Solid State Drive) 또는 HDD(Hard Disk Drive)와 같은 비휘발성 메모리로 구현되어 과수 전정 처리장치에 필요한 데이터 전반을 저장하는데 사용되는 보조기억장치를 포함할 수 있고, RAM(Random Access Memory)과 같은 휘발성 메모리로 구현된 주기억장치를 포함할 수 있다. 사용자 입출력부는 사용자 입력을 수신하기 위한 환경 및 사용자에게 특정 정보를 출력하기 위한 환경을 포함할 수 있다. 예를 들어, 사용자 입출력부는 터치 패드, 터치 스크린, 화상 키보드 또는 포인팅 장치와 같은 어댑터를 포함하는 입력장치 및 모니터 또는 터치스크린과 같은 어댑터를 포함하는 출력장치를 포함할 수 있다. 일 실시예에서, 사용자 입출력부는 원격 접속을 통해 접속되는 컴퓨팅 장치에 해당할 수 있고, 그러 한 경우, 과수 전정 처리장치는 독립적인 서버로서 수행될 수 있다. 네트워크 입출력부은 네트워크를 통해 외부 장치 또는 시스템과 연결하기 위한 환경을 포함하고, 예를 들 어, LAN(Local Area Network), MAN(Metropolitan Area Network), WAN(Wide Area Network) 및 VAN(Value Added Network) 등의 통신을 위한 어댑터를 포함할 수 있다. 도 3은 도 1의 과수 전정 처리장치의 기능적 구성을 설명하는 도면이다. 도 3을 참조하면, 과수 전정 처리장치는 과수 이미지 생성부, 전정 포인트 예측부, 전정 처리부 , 전정 작업 모니터링부 및 제어부를 포함할 수 있다. 과수 이미지 생성부는 전정 대상 과수를 촬영하여 과수 이미지를 생성할 수 있다. 여기에서, 과수 이미지 생성부는 과수원 현장에 설치되거나 전정 로봇에 장착된 카메라 센서를 통해 전정 대상 과수를 촬영하여 과수 이미지를 생성할 수 있다. 카메라 센서는 전정 대상 과수에 관한 보다 높은 정확도를 가진 영상을 획득하기 위하여 다중 RGB 카메라 또는 다중 RGB-D 카메라가 주로 활용될 수 있으나, 반드시 이에 한정 되지 않음은 물론이다. 전정 대상 과수에는 사과나무, 배나무, 매실나무, 감나무 등 다양한 과종이 포함될 수 있다. 일 실시예에서, 과수 이미지 생성부는 카메라 센서에서 촬영한 전정 대상이 되는 과수 이미지를 수신 할 수 있다. 카메라 센서는 다중 RGB 카메라 또는 다중 RGB-D 카메라로 구현되고 설치 현장에 있는 작업 대상 과일나무를 촬영하여 RGB 이미지와 깊이 정보로 구성되는 전정 대상에 대한 과수 이미지를 과수 전정 처리 장치에 제공할 수 있다. RGB-D 카메라는 RGB 카메라와 깊이 카메라로 구성되고 RGB 카메라로 영상을 촬영 하며 깊이 카메라로 깊이 영상(흑백)을 획득한다. 깊이 영상은 적외선의 반사되는 정도를 측정하여 카메라와 촬영된 객체 간의 실제 거리를 표현한다. 깊이 카메라는 RGB 카메라로 획득된 2D 이미지의 모든 픽셀의 3차원 정보를 획득할 수 있다. 과수 전정 처리장치는 2D 이미지에 깊이 정보를 추가하여 객체 인식률을 높일 수 있다. 과수 이미지 생성부는 다중 RGB 카메라 또는 다중 RGB-D 카메라를 이용하여 전정 대상 과수의 다시점 (Multi-view) 2D 이미지를 획득할 수 있다. 과수 이미지 생성부는 획득한 2D 이미지를 3D로 재구성하여 전 정 대상에 대한 3D 이미지를 생성할 수 있다. 일 실시예에서, 과수 이미지 생성부는 적어도 하나의 카메 라 센서를 수직선상에 일정간격으로 설치하여 이미지 뷰가 수직 및 동작방향에서 각각 겹치도록 하여 3D 재구성을 최적화할 수 있다. 과수 이미지 생성부는 포토그라메트리(photogrammetry) 기법을 통해 전정 대 상 과수의 2D 이미지를 기초로 3D 이미지 모델을 생성할 수 있다. 일 실시예에서, 과수 이미지 생성부는 SFM(Structure From Motion) 기술을 이용하여 2D로 촬영한 과수 이미지를 3D로 재구성할 수 있다. SFM은 2차 원으로 촬영한 이미지의 모션정보를 이용해 촬영된 이미지의 카메라 위치와 방향을 역추적한 후 이미지들과 카 메라들의 관계를 구조화하는 알고리즘이다. SFM을 이용해, 각 촬영 이미지의 고유한 특징점(Feature Point)을 얻고 각 촬영 장면마다 특징점들과 관계를 서로 매칭하고 계산해 카메라의 위치를 얻을 수 있다. 과수 이미지 생성부는 2D 이미지를 3D로 재구성하는 과정에서 GPS 및 SLAM을 이용한 GCP(Ground Control Point) 좌표계를 설정할 수 있다. GCP 좌표계는 재구성된 3D 포인트 클라우드의 크기를 보정하고 각 포인트에 지리 정보를 할당하기 위한 실제 물리적 스케일에 해당한다. 여기에서, 과수 이미지 생성부는 획득한 2D 이미지에 마커를 배치하여 3D 이미지 모델의 정합 성능을 높일 수 있다. 과수 전정 처리장치는 과수 이미지 생성부를 통해 생성한 3D 과수 이미지 모델을 전정 전문가 단말 (미도시)에 제공하여 전정 전문가를 통해 전정 포인트를 지정하는 전문가 기반의 로봇 과수 전정 처리를 위한전문가 모드로 동작할 수도 있다. 전문가 모드에서, 과수 전정 처리장치는 과수 이미지 생성부에서 재구성된 3D 과수 이미지 모델을 전문가 단말에 시각화하여 전정 전문가가 이미지 상에서 지정하는 전정 포인트 들에 대해 좌표 형태로 정보화하여 데이터베이스에 저장할 수 있다. 전정 포인트 예측부는 전정 대상 과수의 3D 이미지 모델을 기 구축된 전정 포인트 예측 모델에 입력하여 전정 포인트를 예측할 수 있다. 여기에서, 전정 포인트 예측 모델은 전정 전과 후에 대한 과수 이미지 기반 데 이터셋을 학습하여 전정 가지를 분리하고 전정 포인트를 예측하도록 구현된 슈퍼노드 그래프 기반의 시맨틱 분 할 신경망 모델에 해당할 수 있다. 시맨틱 분할(Semantic segmentation)이란, 이미지를 픽셀(pixel) 별로 분류하는 것이다. 즉, 각각의 픽셀이 어 떤 클래스에 속하는지 분류하는 것이다. 완전지도 시맨틱 분할의 경우에는 이미지 각 픽셀의 클래스 정보를 모 두 학습하여 예측한다. 반면, 약지도 시맨틱 분할의 경우에는 이미지 수준 레이블만을 학습에 활용하고 이미지 각 픽셀의 클래스를 예측한다. 완전 지도 학습이란, 딥러닝을 통한 객체 인식 방법 중, 이미 만들어진 데이터 셋과 그 안에 포함되어 있는 객체의 위치에 대한 실제 정보를 같이 학습하는 방법이다. 약지도 학습이란, 학습 과정에서 이미지와 그에 대한 클래스 레이블만을 학습시켜 딥러닝 예측 모델을 생성하는 방법이다. 약지도 학 습에서의 객체 검출 방법 중 CAM(Class Activation mapping)은 객체들의 차별적인 특징들을 컨볼루션 층에서 추 출하고 시각화하여 객체를 찾아주는 방법이다. 일 실시예에서, 전정 포인트 예측부는 슈퍼노드 그래프 기반의 시맨틱 분할로 전정 대상 과수의 3D 이미지 모델에서 전정할 가지를 분할하고 전정 포인트를 예측할 수 있다. 즉, 전정 포인트 예측부는 전정 대상 과수의 3D 이미지 모델을 기 구축된 전정 포인트 예측 모델에 입력하여 전정할 가지를 분할하고 분할된 가지의 전정 포인트를 좌표화할 수 있다. 여기에서, 전정 포인트 예측 모델은 슈퍼노드 그래프 기반의 시맨틱 분할 알 고리즘이 적용될 수 있으며, 해당 알고리즘에는 3D 복셀 스켈레톤, 슈퍼노드 그래프 구성 및 게이트 그래프 신 경망(GGNN)이 포함될 수 있다. 전정 포인트 예측부는 3D 이미지 모델로부터 과수의 줄기와 가지에 대한 스켈레톤(skeleton)화 및 그래프 표현, 깊이 정보와 맵핑을 통해 산출되는 전정 위치도 그래프로 표현하여 그래 프 네트워크를 이용한 전정 전 과수 그래프는 입력, 전정 후 과수 그래프는 출력으로 네트워크 학습할 수 있다. 전정 포인트 예측부는 전정 포인트 예측 모델을 사전학습을 통해 구축할 수 있으며, 전정 포인트 예측 모 델을 기초로 전정 대상 과수의 3D 이미지 모델로부터 전정 포인트 좌표를 예측할 수 있다. 전정 포인트 예측부는 별도의 학습 서버와 연동하여 동작할 수 있으며, 이 경우 학습 서버에 의해 구축된 전정 포인트 예측 모델을 이용하여 전정 대상 과수의 3D 이미지 모델에 대한 슈퍼노드 그래프 기반의 시맨틱 분 할을 수행할 수 있다. 또한, 전정 포인트 예측 모델은 전정 전후에 대한 과수의 2D 이미지들을 기반으로 생성 한 각각의 3D 이미지 모델 기반 데이터셋을 학습한 결과로서 구축될 수 있다. 여기에서, 3D 이미지 모델은 사 과, 배 등의 전정 작업이 요구되는 과일나무 별로 해당 과일나무의 전정 전과 후를 촬영하여 획득한 이미지 정 보에 해당할 수 있다. 일 실시예에서, 전정 포인트 예측부는 기 구축된 전정 포인트 예측 모델을 통해 전정 대상 과수의 3D 이미 지 모델로부터 전정 포인트 좌표를 예측할 수 있다. 구체적으로는, 도 5 내지 도 8을 통해 후술하기로 한다. 전정 처리부는 예측된 전정 포인트 좌표를 기초로 전정 작업 정보를 생성하고 전정 로봇에게 전정 작 업 정보를 제공할 수 있다. 여기에서, 전정 작업 정보는 과수원 현장에서 전정 로봇의 전정 작업 포인트 로의 이동을 위한 GPS 또는 SLAM 기반 지도가 포함될 수 있다. 전정 로봇은 전정 작업 정보에 따라 전정 작업 포인트에 접근하여 해당 포인트에 있는 가지의 전정 작업을 시행할 수 있다. 전정 작업 모니터링부는 전정 로봇의 전정 작업 중에 또는 작업 완료 후에 카메라 센서로부터 과수 이미지를 획득하여 전정 작업 결과를 확인할 수 있다. 일 실시예에서, 전정 작업 모니터링부는 획득 된 과수 이미지를 기초로 3D 이미지 모델을 생성하여 전정 작업 결과를 확인하고 결과 상태에 따라 전정 포인트 재예측을 통해 전정 작업을 재시행하도록 할 수 있다. 제어부는 과수 전정 처리장치의 전체적인 동작을 제어하고, 과수 이미지 생성부, 전정 포인트 예측부, 전정 처리부 및 전정 작업 모니터링부 간의 제어 흐름 또는 데이터 흐름을 관리할 수 있다. 도 4는 본 발명에 따른 인공지능 기반의 로봇 과수 전정 처리 과정의 일 실시예를 설명하는 순서도이다. 도 4를 참조하면, 과수 전정 처리장치는 과수 이미지 생성부를 통해 전정 대상 과수를 촬영하여 2D 이미지를 획득하고 2D 이미지를 기초로 전정 대상 과수의 3D 이미지 모델을 생성할 수 있다(단계 S410). 과수 이미지 생성부는 과수원 현장에 설치되거나 전정 로봇에 장착된 카메라 센서에서 전정 대상 과 수를 촬영한 2D 이미지를 획득할 수 있다. 전정 대상 과수의 2D 이미지에는 깊이 정보가 포함될 수 있다. 과 수 이미지 생성부는 2D 이미지를 포토그래머트리(photogrammetry)를 통해 3D로 재구성하여 3D 이미지 모델 을 생성할 수 있다. 과수 전정 처리장치는 전정 포인트 예측부를 통해 전정 대상 과수의 3D 이미지 모델로부터 전정할 가 지의 위치 즉, 전정 포인트를 예측할 수 있다(단계 S430). 전정 포인트 예측부는 슈퍼노드 그래프 기반의 시맨틱 분할 알고리즘이 적용된 전정 포인트 예측 모델을 이용하여 전정 대상 과수의 3D 이미지 모델에서 전정 할 가지 객체를 인식하고 인식된 가지 객체를 깊이 정보와 맵핑하여 가지의 위치 및 자세를 추정할 수 있다. 과수 전정 처리장치는 전정 처리부를 통해 예측된 전정 포인트 좌표를 기초로 전정 작업 정보를 생성 하고 전정 로봇에게 제공하여 전정 로봇을 이용한 자동 전정 작업을 수행할 수 있다(단계 S450). 전 정 로봇은 전정 작업 정보에 따라 전정 대상 과수의 전정 포인트로 접근하여 해당 포인트에 있는 가지를 제거하는 전정 작업을 시행할 수 있다. 과수 전정 처리장치는 전정 작업 모니터링부를 통해 전정 작업 결과를 확인하고 결과에 따라 단계 S410으로 돌아가 전정 작업을 재시행하거나 종료할 수 있다(단계 S470). 전정 작업 모니터링부는 다중 RGB 카메라 또는 다중 RGB-D 카메라를 이용하여 과수 이미지를 획득하여 3D 이미지 모델을 생성하고 과수에 대 한 3D 이미지 모델로부터 전정 작업 상태를 모니터링하여 전정 작업이 제대로 이루어지지 않은 부분에 대해 전 정 포인트를 재예측하여 전정 작업을 재시행할 수 있다. 도 5는 본 발명에 따른 슈퍼노드 그래프 기반의 과수 전정 처리 구조를 설명하는 도면이고, 도 6은 도 5에 있는 슈퍼노드 그래프 구성을 설명하는 도면이고, 도 7 및 도 8은 도 5에 있는 슈퍼노드 그래프 기반 시맨틱 분할을 설명하는 도면이다. 도 5를 참조하면, 과수 전정 처리장치는 새로운 그래프 기반 시맨틱 분할 알고리즘을 적용하여 전정 가지 들을 분리하고 전정 포인트들을 추정하도록 설계된다. 여기에서, 알고리즘은 3D 복셀(voxel) 스켈레톤, 슈퍼노 드(supernode) 그래프 구성 및 게이트 그래프 신경망(gated graph neural network; GGNN)이 포함될 수 있다. 과수 전정 처리장치는 다중 RGB 카메라 또는 다중 RGB-D 카메라 등의 카메라 센서를 이용하여 전정 대상 과수 이미지를 획득할 수 있다. 전정 대상 과수 이미지는 다시점(Multi-view)의 2D 이미지들을 포함할 수 있다. 과수 전정 처리장치는 획득된 전정 대상 과수의 2D 이미지들을 기반으로 각각의 3D 이미지 모델을 생성할 수 있다. 이를 위해, 과수 전정 처리장치는 SFM 도구인 OpenMVG를 사용할 수 있다. 3D 이미지 모 델은 포인트 클라우드(point cloud) 형식으로 표현될 수 있다. 과수 전정 처리장치는 전정 대상 과수의 3D 이미지 모델의 포인트 클라우드를 복셀화(Voxelization)하여 복셀로 변환할 수 있다. 복셀(voxel)은 2D 이미지를 구성하는 최소 단위인 픽셀을 3D로 확장한 것이다. 즉, 이미지 1×1에서 깊이 정보를 포함한 1×1×1로 표현하고 이때의 최소 단위를 복셀이라고 한다. 단위는 고정되 어 있지 않고 사용자가 정의 가능하다. 복셀화는 포인트 클라우드를 복셀로 변환하는 작업을 의미한다. 과수 전정 처리장치는 복셀 세선화 과정을 통해 모델의 골격을 추출하고 이 골격선을 구조 그래프로 변환한다. 과수 전정 처리장치는 전정 대상 과수의 3D 이미지 모델을 복셀화 및 복셀 세선화하는 전처리 과정을 통해 줄기와 가지에 대한 골격(skeleton)을 추출하고 이 골격선을 그래프로 표현한다. 과수 전정 처리장치는 슈퍼노드(supernode) 기반의 그래프를 구성한다. 복셀화 및 복셀 세션화하는 전처리 과정을 구체적으로 설명하면, 3D 포인트 클라우드는 노이즈 제거 후 복셀화 된다. 3D 이진 배열은 복셀의 3D 공간을 대체하는 데 사용된다. 이진 배열에서 1은 트리 포인트로 채워진 각 복셀을 나타낸다. 복셀이 없으면 이진 값이 0으로 설정된다. 기존 복셀 p1 및 p2와 3D 이진 배열의 해당 좌표 가 각각 (x1,y1,z1) 및 (x2,y2,z2) 라고 가정할 때, 복셀 p1 및 p2 사이의 유클리드 거리는 다음 수학식 1로 정의 될 수 있다. [수학식 1] 여기서, 이면 p1 및 p2는 26개 인접하고, 이면 p1 및 p2는 18개 인접하며, d=1이면 p1 및 p2는 6개 인접한다. 분기 말단 복셀은 정확히 하나의 다른 복셀에 26개만 인접한 복셀이다. 복셀은 2개의 다른 복셀에 26개만 인접 해 있는 경우 인접 분기 말단 복셀로 간주될 수 있다. 복셀은 분기 말단 복셀이거나 분기 말단 복셀인 경우에 만 말단 복셀로 간주될 수 있고, 그렇지 않으면 비말단 복셀로 간주된다. 템플릿 기반 접근 방식을 사용하는 3D 복셀 세선화 알고리즘은 복셀이 비말단 복셀에 속하는 지 여부와 주변 복셀이 제거 템플릿 중 하나와 일치하 는 지 여부에 따라 대상 복셀을 제거해야 하는 지 여부를 결정한다. 3D 복셀 세선화 후, 과수의 복셀 모델은 도 6의 (a)와 같이 스켈레톤 유형으로 표현될 수 있다. 3D 복셀 모델 은 전체 과수의 모양 특성을 나타낼 수 있다. 세선화된 복셀 모델에서 각 복셀의 중심은 슈퍼노드(supernode) 로 정의할 수 있다. 슈퍼노드는 과수의 핵심 노드이며, 도 6의 (b)와 같이 KNN(K-Nearest Neighbor)을 사용하 여 인접한 슈퍼노드의 연결 가장자리를 탐색한다. 포인트와 각 슈퍼노드 사이의 최소 유클리드 거리를 기반으 로 원래 3D 포인트 클라우드는 도 6의 (c)와 같이 여러 부분으로 세분화될 수 있다. 각 부분 P={p1,p2,…,pn}은 동일한 시맨틱 정보를 가지며 슈퍼노드에 해당하는 동일한 색상의 3D 포인트 pn을 가진다. 일반적으로 3D 포인트 클라우드의 특징은 다음의 수학식 2로 표현될 수 있다. [수학식 2]"}
{"patent_id": "10-2023-0081994", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "여기서 C는 3D 구조 텐서로, 고유값 분해가 존재하고 로 공식화될 수 있는 양의 정부호 대칭 행렬이며, 는 각각 고유벡터 및 고유값 행렬로 알려진 대각선 및 양의 정부호 행렬이고, R은 회전 행렬이다. 고유값은 양수이며 이 되도록 정렬된다. 이러한 고유값을 기반으로 다음의 수학식 3과 같이 세가지 유형의 형태적 특징(선형성, 평면성 및 산란)을 도출할 수 있다. [수학식 3]"}
{"patent_id": "10-2023-0081994", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "여기서, 는 각각 선형성, 평면성, 산란에 해당하며 1차원, 2D 및 3D 평면에서 3D 포인 트 클라우드의 구조적 특징을 설명한다. 따라서 슈퍼노드 기반 그래프는 도 6의 (d)와 같이, 노드가 슈퍼노드 집합 S이고 슈퍼엣지(superedge) 가 슈 퍼노드 사이의 인접성인 방향성 속성 그래프 로 정의할 수 있다. 슈퍼엣지 특징은 인접한 슈퍼노드 의 형태적 특징을 비교하여 도출할 수 있다. 인접한 슈퍼노드 사이의 선형성, 평면성 및 산란 비율은 슈퍼엣지 의 특징을 나타낸다. 슈퍼노드 M과 N을 연결하는 슈퍼엣지와 관련된 중요한 공간 특징은 오프셋 세트 에 서 얻을 수 있으며, 이는 다음의 수학식 4로 표현될 수 있다.[수학식 4]"}
{"patent_id": "10-2023-0081994", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "슈퍼노드 그래프는 순서가 지정되지 않은 원래의 3D 포인트 클라우드를 효율적이고 의미 있게 설명할 수 있다. 슈퍼노드는 3D 포인트 클라우드의 단순한 부분을 나타내는 반면, 슈퍼엣지는 3D 포인트 클라우드의 각 해당 부 분에서 풍부한 엣지 특징을 특성화하는 슈퍼노드의 인접 관계를 설명한다. 그래프는 도 7와 같이 PointNet에 내장되고 GGNN(gated graph neural network)을 사용하여 훈련된다. 과수 전정 처리장치는 슈퍼노드 그래 프를 기반으로 시맨틱 분할하여 전정할 가지를 인식하여 정전 포인트를 추정할 수 있다. 각 슈퍼노드는 GRU를 경유하여 전정할(Pruned) 가지 및 남길(Remaind) 가지를 시맨틱 분할할 수 있다. 슈퍼노드 그래프 기반 시맨틱 분할 과정은 슈퍼노드 임베딩 단계 및 상황별 세분화 단계로 이루어질 수 있다. 슈퍼노드 임베딩 단계의 주요 목적은 슈퍼노드 의 정보를 각 슈퍼노드에 대한 디스크립터를 계산하는 고정 크 기 의 벡터 에 임베드하는 것이다. 각 슈퍼노드는 별도로 임베딩되며 후속 단계에서는 정확한 분류에 필 요한 컨텍스트 정보를 제공하기 위해 그래프 컨볼루션에 의존한다. 과수 전정 처리장치는 PointNet을 도 8의 (a)와 같이, 단일 STN(Spatial Transformer Network)으로 구성 된 얇고 좁은 설계로 축소하였다. 첫번째 단계는 및 STN으로 회귀된 잔차행렬 을 사용하여 입 력 포인트의 XY 좌표를 변환한다. STN의 구조는 최대 풀링 전후에 각각 3개의 MLP(폭 64, 64, 128)와 3개의 MLP(폭 128, 64, 4)로 구성된 일종의 작은 PointNet이다. 64, 64, 128 및 256의 폭을 갖는 MLP 시퀀스가 STN 의 출력을 처리한다. 그런 다음, 최대 풀링은 출력을 차원이 256인 단일 특징 벡터로 변환한다. 최종적으로, 256, 64 및 32의 폭을 갖는 또 다른 MLP 시퀀스가 처리된다. 배치 정규화 및 ReLU가 전반적으로 사용된다. 상황별 세분화 단계는 슈퍼노드 그래프 내의 임베딩 및 로컬 환경을 기반으로 각 슈퍼노드 를 분류할 수 있 다. 이는 GGCN 및 ECC(Edge-conditioned convolutions)의 개념을 기반으로 한다. 여기서는, 슈퍼포인트가 슈 퍼엣지를 따라 전달되는 정보 조각에 따라 임베딩을 개선할 수 있다. 구체적으로, 분류된 각 슈퍼노드는 GRU(Gated Recurrent Unit)에 은닉 상태를 유지할 수 있다. GRU(게이트 순환 유닛)의 구조는 도 8의 (b)와 같 다. 슈퍼노드 및 연결된 슈퍼노드 의 경우 는 형태학적 특징의 비율, 중심의 공간 관계 및 포인트 카운 트 비율에 기반한 방향 속성을 가진 슈퍼노드 와 사이의 연결된 슈퍼엣지라고 가정한다. 각 슈퍼노드의 전역 컨텍스트 정보는 평균 집계 함수를 사용하여 전역 메시지로 변환될 수 있고, 하기의 수학식 5로 표현될 수 있다. [수학식 5]"}
{"patent_id": "10-2023-0081994", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "여기서, W는 기본적으로 편향이 없는 MLP 계층인 동적 필터 네트워크의 동적으로 생성되는 매개변수를 나타낸다. 이를 기초로, 슈퍼엣지의 특징 차원은 요소별 곱셈 을 사용하여 슈퍼노드의 임베딩 의 특징 차 원과 동일하다. 그런 다음, 연결된 전역 그래프에서 이 슈퍼노드에 대한 다른 슈퍼노드의 기여도는 로 평균 화된다. 그 후, 전역 메시지를 통합하고 연결된 엣지를 따라 전파되는 임베딩 정보를 통해 GRU는 컨텍스트 정보 처리를 위해 순차적 입력을 처리할 수 있으며 은닉 상태를 생성하고 반복적으로 업데이트할 수 있다. 따라서 은닉 상 태 는 임베딩 에 위해 초기화되고 요소별 곱셈은 예측된 와 전역 메시지 간의 전역 집계를 계산하는 데 사용될 수 있다. GRU 모듈의 게이트 메커니즘을 기반으로, 고차원 임베딩 및 은닉 상태 는 현재 입력 와 마지막 은닉 상태 에 의해 반복에서 선형적으로 생성될 수 있으며, 이는 하기 수학식 6으로 정의될 수 있다. [수학식 6]"}
{"patent_id": "10-2023-0081994", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "item": 6, "content": "도 8의 (b)에서와 같이, 및 은 벡터 덧셈에 의해 연결되고 [0,1] 범위의 값으로 변환하기 위해 시그모이 드 함수로 전송된다. 값이 1이면 입력된 특징이 중요하고 그대로 유지됨을 의미한다. 값이 0이면 입력 특징이 상관되지 않았으며 무시해야 함을 의미한다. 따라서, 이 처리는 업데이트 게이트 및 리셋 게이트 를 생성 하고, 하기 수학식 7로 표현될 수 있다. [수학식 7]"}
{"patent_id": "10-2023-0081994", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "여기서 는 쓸모없는 특징을 무시하고 새로운 특징을 융합하며, 는 다음 처리에서 잊어버릴 이전 특징의 수 를 결정한다. 강하게 상관된 차원을 강조하고 약하게 상관된 차원을 무시하기 위해, tanh 함수를 사용하여 , 및 의 연결된 값을 -1과 1 사이에서 조정하여 새로운 은닉 상태 후보 를 만들 수 있다. 현재 반복에 대한 업데이트된 은닉 상태 는 하기 수학식 8과 같이 빌드할 수 있다. [수학식 8]"}
{"patent_id": "10-2023-0081994", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "여기서 은 업데이트 게이트 를 통해 이전 을 결정하고 는 현재 은닉 상태 의 정보 흐름을 결정한다. 은닉 상태 의 긴 시퀀스를 연결함으로써 전역 상황화는 최종적으로 하기 수학식 9와 같은 고차원 특징으로 병합될 수 있다. [수학식 9]"}
{"patent_id": "10-2023-0081994", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "item": 9, "content": "도 9는 기존 대비 본 발명에 따른 시맨틱 분할 결과를 나타내는 도면으로, 사과 나무를 대상으로 전정 가지를 인식한 결과이다. 도 9를 참조하면, 그림 (a) 내지 (c)는 기존 3D 포인트 클라우드 접근 방식이고 그림 (d)는 본 발명의 방식에 따른 시맨틱 분석 결과이다. 여기에서, 사과 전정 전략은 영약 및 생식 성장의 균형, 새싹과 가지의 관계를 기 반으로 전정할 가지를 선별할 수 있다. 그림 (a)는 GT 방식이고, (b)는 민코프스키(Minkowski) 방식이고, (c) 는 포인트 트랜스포머(Point Transformer) 방식이다. 포인트 트랜스포머는 컨볼루션을 사용하지 않고 포인트 트랜스포머 레이어, 포인트와이즈 트랜스포메이션, 풀링으로 네트워크가 구성된다. 이들 시맨틱 분석 결과에 따른 전정 포인트 예측 결과는 하기 표 1과 같다. [표 1]"}
{"patent_id": "10-2023-0081994", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 10, "content": "상기 표 1에 나타낸 바와 같이, 본 발명의 슈퍼노드 그래프 기반 시맨틱 분할에 따른 전정 포인트 예측 결과가 민코프스키 및 포인트 트랜스포머 기반의 시맨틱 분할에 따른 전정 포인트 예측 결과보다 정확도가 높게 나왔다.일 실시예에 따른 인공지능 기반의 로봇 과수 전정 처리장치 및 방법은 슈퍼노드 그래프 기반의 시맨틱 분할 알 고리즘이 적용된 전정 포인트 예측 모델을 통해 전정 대상 과수의 전정 가지를 인식하고 전정 포인트 좌표를 예 측하여 전정 로봇에게 전정 위치를 제공함으로써 자동화된 전정 작업을 수행할 수 있다. 이에 따라, 과수원 전 정 작업에 투입되는 작업 시간과 노동력을 줄일 수 있고 과수 품질 관리와 나무 세력 관리에 도움을 제공할 수 있으며 과수원 농가의 생산력 향상에 이바지할 수 있다. 상기에서는 본 발명의 바람직한 실시예를 참조하여 설명하였지만, 해당 기술 분야의 숙련된 당업자는 하기의 특 허 청구의 범위에 기재된 본 발명의 사상 및 영역으로부터 벗어나지 않는 범위 내에서 본 발명을 다양하게 수정 및 변경시킬 수 있음을 이해할 수 있을 것이다."}
{"patent_id": "10-2023-0081994", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 인공지능 기반의 로봇 과수 전정 처리 시스템을 설명하는 도면이다. 도 2는 도 1의 과수 전정 처리장치의 시스템 구성을 설명하는 도면이다. 도 3은 도 1의 과수 전정 처리장치의 기능적 구성을 설명하는 도면이다. 도 4는 본 발명에 따른 인공지능 기반의 로봇 과수 전정 처리 과정의 일 실시예를 설명하는 순서도이다. 도 5는 본 발명에 따른 슈퍼노드 그래프 기반의 전정 처리 구조를 설명하는 도면이다. 도 6은 도 5에 있는 슈퍼노드 그래프 구성을 설명하는 도면이다. 도 7 및 도 8은 도 5에 있는 슈퍼노드 그래프 기반 시맨틱 분할을 설명하는 도면이다. 도 9는 기존 대비 본 발명에 따른 시맨틱 분할 결과를 나타내는 도면이다."}
