{"patent_id": "10-2023-0131835", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0049022", "출원번호": "10-2023-0131835", "발명의 명칭": "충전 잔량에 따른 충방전 출력 상한 설정 가능한 에너지 저장 장치의 충방전 시스템 및 방법", "출원인": "주식회사 에이치에너지", "발명자": "함일한"}}
{"patent_id": "10-2023-0131835", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "ESS 운용 기록 데이터를 수집하는 데이터 수집부;ESS 운용 기록 데이터에 기초하여 OCV-SoC 테이블을 생성하는 데이터 학습부;OCV-SoC 테이블, ESS 운용 기록 데이터에 기초하여 산출한 충전 중 V-SoC 테이블 및 방전 중 V-SoC 테이블에 기초하여 충방전 전압 상한을 산출하는 전압 상한 산출부;산출된 전압 상한에 따라 충전 및 방전 SoC 범위를 산출하고, 산출된 충전 및 방전 SoC 범위에 따른 출력 상한을 산출하는 출력 상한 산출부; 상기 충전 및 방전 SoC 범위, 산출된 충전 및 방전 SoC 범위에 따른 출력 상한에 기초하여 ESS 충방전 명령을수행하는 ESS 운전부를 포함하는, ESS 충방전 제어 시스템."}
{"patent_id": "10-2023-0131835", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 전압 상한 산출부는 OCV-SoC 테이블에 기초하여 변곡지점, 배터리 안전 상한 및 하한 SoC 값을 산출하는,ESS 충방전 제어 시스템."}
{"patent_id": "10-2023-0131835", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 전압 상한 산출부는 충전 시의 V-SoC 테이블, 변곡 지점, 배터리 안전 상한 SoC에 기초하여 충전시의 전압상한을 산출하는,ESS 충방전 제어 시스템."}
{"patent_id": "10-2023-0131835", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,상기 전압 상한 산출부는 방전 시의 V-SoC 테이블, 변곡 지점의 역지점, 배터리 안전 하한 SoC에 기초하여 방전시의 전압 상한을 산출하는,ESS 충방전 제어 시스템."}
{"patent_id": "10-2023-0131835", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서,상기 출력 상한 산출부는 ESS 운용 기록 데이터에 기초하여 전력-SoC 데이터들을 클러스터링하고, 클러스터링된클러스터 중 적어도 일부의 V-SoC 테이블 및 충전시 전압 상한에 기초하여 충전시 SoC 구간을 도출하고, 충전시SoC 구간별 출력 상한을 도출하는, ESS 충방전 제어 시스템."}
{"patent_id": "10-2023-0131835", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5항에 있어서,상기 출력 상한 산출부는 충전시 SoC 구간의 구간 최대값인 SoC의 역지점에 기초하여 방전시 SoC 구간을 도출하공개특허 10-2025-0049022-3-고, 방전시 SoC 구간별 출력 상한을 도출하는, ESS 충방전 제어 시스템."}
{"patent_id": "10-2023-0131835", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제1항에 있어서,충방전 계획부를 더 포함하되,상기 ESS 운전부는 계획한 충방전량과 충방전 시간에 따라 ESS에 제어 명령을 전달하여 충방전을 수행하는,ESS 충방전 제어 시스템."}
{"patent_id": "10-2023-0131835", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "데이터 수집부가 ESS 운용 기록 데이터를 수집하는 단계;,데이터 학습부가 ESS 운용 기록 데이터에 기초하여 OCV-SoC 테이블을 생성하는 단계;전압 상한 산출부가 OCV-SoC 테이블, ESS 운용 기록 데이터에 기초하여 산출한 충전 중 V-SoC 테이블 및 방전중 V-SoC 테이블에 기초하여 충방전 전압 상한을 산출하는 단계;출력 상한 산출부가 충방전 전압 상한에 따라 충전 및 방전 SoC 범위를 산출하고, 산출된 충전 및 방전 SoC 범위에 따른 출력 상한을 산출하는 단계;ESS 운전부가 상기 충전 및 방전 SoC 범위, 산출된 충전 및 방전 SoC 범위에 따른 출력 상한에 기초하여 ESS 충방전 명령을 생성하는 단계를 포함하는, ESS 충방전 제어 방법."}
{"patent_id": "10-2023-0131835", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명의 ESS 충방전 제어 시스템은, ESS 운용 기록 데이터를 수집하는 데이터 수집부; ESS 운용 기록 데이터에 기초하여 OCV-SoC 테이블을 생성하는 데이터 학습부; OCV-SoC 테이블, ESS 운용 기록 데이터에 기초하여 산출한 충전 중 V-SoC 테이블 및 방전 중 V-SoC 테이블에 기초하여 충방전 전압 상한을 산출하는 전압 상한 산출부; 산 출된 전압 상한에 따라 충전 및 방전 SoC 범위를 산출하고, 산출된 충전 및 방전 SoC 범위에 따른 출력 상한을 산출하는 출력 상한 산출부; 및 상기 충전 및 방전 SoC 범위, 산출된 충전 및 방전 SoC 범위에 따른 출력 상한에 기초하여 ESS 충방전 명령을 수행하는 ESS 운전부를 포함할 수 있다."}
{"patent_id": "10-2023-0131835", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 에너지 저장 장치의 충방전 시스템 및 방법에 관한 것으로, 보다 구체적으로, 화재 등 배터리 안정 성 문제를 유발하지 않는 선에서 ESS를 가장 효율적으로 사용할 수 있도록 SoC에 따른 충방전 출력 상한을 설정 하는 ESS 충방전 시스템 및 방법에 관한 것이다."}
{"patent_id": "10-2023-0131835", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "에너지 저장 장치(Energy Storage System, 이하, 'ESS')란 생산된 전력을 저장한 후, 전력 필요시 저장된 전력 을 다시 사용할 수 있도록 하는 장치를 의미한다. 따라서, ESS의 활용으로 인해 발전, 송전, 변전소, 배전 및 수용의 전 단계에 있어서 에너지를 보다 효율적으로 활용하는 것이 기능하게 되었다. 또한, 태양광이나 풍력 등 신재생에너지 발전은 정확한 출력 예측이 어렵고 출력 변동률이 높은 특성으로 전력계통에 연계할 경우 전력의 품질이 고르지 못하였으나 ESS의 활용으로 인해 더욱 품질이 고른 전력사용이 가능하게 되었다. 이러한 ESS를 보다 안전하고 효율적으로 활용하기 위하여 다양한 배터리 안전 및 효율 관련 기술들의 연구개발 이 진행되고 있는데, 특히, 각 배터리 셀의 충전 상태, 온도, 전압, 전류 등 각종 파라미터의 모니터링, 충전 잔량(State of Charge, 이하 'SoC') 산출, 각 배터리 셀의 충방전 정도를 균형있게 조정하는 셀 밸런싱, 과전압 /과전류/과충전 방지 등의 보호 기능 등 제어 기술들이 활발히 연구 및 개발되고 있다. 특히, 이러한 ESS 제어 기술 중 가장 중요한 ESS 충전 방식으로는 정전류 방식, 정전력 방식 및 정전압 방식이 있으며, 이 중, 순간 필요 전력량에 따른 제어의 용이성을 위해 정전력 방식(Constant Power, 이하 'CP')을 가 장 많이 활용한다. CP 충전은 일정한 전력을 사용하기 때문에 충전 진행에 따른 전지전압이 상승에 의하여 전류가 감소하는 특성 을 나타낸다. 이러한 충전 진행 중의 전압 상승 특성으로 인해 배터리가 충분히 충전되기 전, ESS가 배터리 셀 의 안전 운용 전압에 다다르게 되어 ESS 시스템의 장애가 발생하게 된다. 이러한 ESS 장애는 셀 안전 운용 전압 범위를 벗어나는 것이 원인이 되어 발생하기 때문에 적절한 전압 관리가 필수적이다. 단, 종래에는 배터리의 SoC를 개방 회로 전압(Open Circuit Voltage, 이하 OCV) 값을 통해 추산한 후, 이에 기 초하여 전압을 제어하려 하였으나, OCV를 통해 추산한 SoC는 실제 배터리 충방전 운영 중 전압에 기초하여 구한 SoC 값과 차이가 있었고, 출력과 SoC에 따른 전압 변화 양상이 달랐기 때문에 ESS 운영 중에 SoC를 활용에 문제 점이 있었다. 선행기술문헌 특허문헌 (특허문헌 0001) 대한민국 등록특허공보 제10-2493221호"}
{"patent_id": "10-2023-0131835", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "따라서, 본 발명은 상술한 요구에 부응하기 위하여 안출된 것으로, 본 발명은 충/방전 과정에서 해당 SoC에서 운영 가능한 최대 출력을 미리 산출하여 배터리 안정성 문제를 유발하지 않는 선에서 ESS를 가장 효율적으로 사 용할 수 있는 ESS 충방전 시스템을 제공하고자 한다. 단, 본 발명이 해결하고자 하는 다양한 과제들은 이에 제한되지 않으며, 본 발명의 상세한 설명에 기재된 구체 적인 내용에 포함되어 있다."}
{"patent_id": "10-2023-0131835", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 ESS 충방전 제어 시스템은, ESS 운용 기록 데이터를 수집하는 데이터 수집부; ESS 운용 기록 데이터 에 기초하여 OCV-SoC 테이블을 생성하는 데이터 학습부; OCV-SoC 테이블, ESS 운용 기록 데이터에 기초하여 산 출한 충전 중 V-SoC 테이블 및 방전 중 V-SoC 테이블에 기초하여 충방전 전압 상한을 산출하는 전압 상한 산출 부; 산출된 전압 상한에 따라 충전 및 방전 SoC 범위를 산출하고, 산출된 충전 및 방전 SoC 범위에 따른 출력 상한을 산출하는 출력 상한 산출부; 및 상기 충전 및 방전 SoC 범위, 산출된 충전 및 방전 SoC 범위에 따른 출 력 상한에 기초하여 ESS 충방전 명령을 수행하는 ESS 운전부를 포함할 수 있다. 이 경우, 상기 전압 상한 산출부는 OCV-SoC 테이블에 기초하여 변곡지점, 배터리 안전 상한 및 하한 SoC 값을 산출할 수 있다. 또한, 상기 전압 상한 산출부는 충전 시의 V-SoC 테이블, 변곡 지점, 배터리 안전 상한 SoC에 기초하여 충전시 의 전압 상한을 산출할 수 있다. 또한, 상기 전압 상한 산출부는 방전 시의 V-SoC 테이블, 변곡 지점의 역지점, 배터리 안전 하한 SoC에 기초하 여 방전시의 전압 상한을 산출할 수 있다. 또한, 상기 출력 상한 산출부는 ESS 운용 기록 데이터에 기초하여 전력-SoC 데이터들을 클러스터링하고, 클러스 터링된 클러스터 중 적어도 일부의 V-SoC 테이블 및 충전시 전압 상한에 기초하여 충전시 SoC 구간을 도출하고, 충전시 SoC 구간별 출력 상한을 도출할 수 있다. 또한, 상기 출력 상한 산출부는 충전시 SoC 구간의 구간 최대값인 SoC의 역지점에 기초하여 방전시 SoC 구간을 도출하고, 방전시 SoC 구간별 출력 상한을 도출할 수 있다. 한편, 상기 ESS 충방전 제어 시스템은, 충방전 계획부를 더 포함하되, 상기 ESS 운전부는 계획한 충방전량과 충 방전 시간에 따라 ESS에 제어 명령을 전달하여 충방전을 수행할 수 있다. 또한, 상기 ESS 운전부는 현재 순시 전압값이 ESS 안전 운용 전압 범위를 벗어나면 상기 충방전 계획을 무시하 고 충방전을 중단할 수 있다. 또한, 상기 ESS 운전부는 데이터 수집부를 통해 수집되는 현재 전력량이 최저 기저전력보다 낮아지면 충방전 계 획을 무시하고 최저 기저 전력과 같아지도록 방전 명령을 수행하며 남은 배터리 잔량이 없으면 충방전을 중단할 수 있다. 또한, 상기 ESS 충방전 제어 시스템은 SoC 추정부를 더 포함하고, 상기 ESS 운전부는 상기 충방전 계획부에서 설정한 충방전 계획에 따라 충방전 명령을 ESS에 전송하되, SoC 추정부에서 추정한 SoC에 따라 배터리 잔량이부족하거나 만충되었을 경우 충방전을 중단할 수 있다. 또한, 상기 ESS 운전부는 상기 충방전 계획부에서 설정한 충방전 계획에 따라 충방전 명령을 ESS에 전송하되 상 기 출력 상한 산출부가 산출한 SoC 구간별 출력 상한에 기초하여 ESS의 제어 명령을 생성할 수 있다."}
{"patent_id": "10-2023-0131835", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "따라서, 본 발명에 따르면, 충/방전 과정에서 해당 SoC에서 운영 가능한 최대 출력을 미리 산출하여 배터리 안 정성 문제를 유발하지 않는 선에서 ESS를 가장 효율적으로 사용할 수 있는 ESS 충방전 시스템이 제공될 수 있다. 본 발명에 따른 효과는 이상에서 예시된 내용에 의해 제한되지 않으며, 더욱 다양한 효과들이 본 명세서 내에 포함되어 있다."}
{"patent_id": "10-2023-0131835", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면들을 참조하여 본 발명의 실시예를 상세히 설명하면 다음과 같다. 그러나 본 발명은 이하에서 개시되는 실시예에 한정되는 것이 아니라 서로 다른 다양한 형태로 구현될 수 있는 것으로, 이하의 실시예는 본 발명의 개시가 완전하도록 하며, 통상의 지식을 가진 자에게 발명의 범주를 완전하게 알려주기 위해 제공되는 것이다. 또한, 설명의 편의를 위하여 도면에서는 구성 요소들이 그 크기가 과장 또는 축소될 수 있다."}
{"patent_id": "10-2023-0131835", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "그러나, 이하의 실시예는 이 기술분야에서 통상적인 지식을 가진 자에게 본 발명이 충분히 이해되도록 제공되는 것으로서 여러 가지 다른 형태로 변형될 수 있으며, 본 발명의 범위가 다음에 기술되는 실시예에 한정되는 것은 아니다. 한편, 명세서 전체에서, 어떤 부분이 어떤 구성 요소를 \"포함\"한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다른 구성 요소를 제외하는 것이 아니라 다른 구성 요소를 더 포함할 수 있는 것을 의미한다. 상술한 목적, 특징 및 장점은 첨부된 도면과 관련한 다음의 상세한 설명을 통하여 보다 분명해질 것이며, 그에"}
{"patent_id": "10-2023-0131835", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "따라 발명이 속하는 기술분야에서 통상의 지식을 가진 자가 발명의 기술적 사상을 용이하게 실시할 수 있을 것 이다. 이하에서는 도 1을 참조하여 본 발명의 실시예에 따른 ESS 충방전 제어 시스템에 대하여 상세히 설명한다. 도 1을 참조하면,본 발명의 실시예에 따른 ESS 충방전 제어 시스템은 분석부와 ESS를 포함할 수 있다. 분석부는 SoC별 출력 상한과 뱅크 운전 범위, 셀 전압 운전 범위의 상/하한을 설정하여 운전 계획을 실행 하기 전에 출력 가능 범위 확인 후 가능한 운전 출력 실행할 수 있다. 또한, 분석부는 전압 변화에 민감하 게 반응하기 위해 1분 간격으로 출력을 재산출할 수 있다. 본 실시예에서 분석부는 예컨대, 서버로 구현될 수 있으나, 컴퓨팅 기능을 수행할 수 있으며, 기계 학습을 수행할 수 있는 개인용 컴퓨터, 노트북, 태블릿 PC 등 다양한 디바이스로 구현될 수 있다. 보다 상세하게는, 본 발명의 실시예에 따른 분석부는 분석 제어부, ESS 운용 기록을 수집하는 데이터 수집부, ESS 운용 기록에 기초하여 OCV-SoC 테이블을 도출하는 데이터 학습부, OCV-SoC 테이블을 분 석하여 단계별 충방전 전압 상한을 산출하는 전압 상한 산출부, 산출된 전압 상한에 따라 충방전 SoC 범위 별 출력 상한을 산출하는 출력 상한 산출부 및 정해진 SoC 범위, 출력/전압 범위 및 운용 계획에 따라 ESS 충방전 명령을 수행하는 ESS 운전부를 포함할 수 있다. 분석부의 세부 구성에 대해서는 도 2에 따른 동작 설명 부분에서 보다 상세하게 후술한다. 또한, 분석부는 ESS 충방전 명령을 위한 충방전 계획부 및 SoC 추정부을 더 포함할 수 있다. 충 방전 계획부의 충방전 운용 계획 및 SoC 추정부의 SoC 추정 동작은 인공지능 기반 예측적 ESS 충방전 운용 장치 및 방법(대한민국 등록특허 제10-2232513호), 적응적 SoC 추정을 통한 ESS 최적 운전 시스템 및 방법 (대한민국 등록특허 제10-2493221호)의 충방전 운전 방법을 활용할 수 있다. 상기 대한민국 등록특허 제10- 2232513호 및 대한민국 등록특허 제10-2493221호는 본 발명에 참조로서 포함된다. 한편, ESS는 ESS 제어부, PCS, BMS 및 배터리를 포함할 수 있다. 이 때, ESS 제어부 는 분석부로부터 수신한 운용 계획 데이터 또는 제어 명령에 기초하여 PCS를 제어할 수 있으며, 분석부 또는 기타 데이터 베이스에 ESS 운용에 관련한 전압, 전류, 전력 데이터를 제공할 수 있다. PCS(Power Conditioning System, 220)는 배터리에 DC전력을 AC전력 또는 DC전력으로 변환하여 방전과 충전 하기 위한 구성으로, PCS는 ESS를 구성하는 배터리의 안전 운용 전압 정보를 가지거나, 또는 분 석부 및 ESS 제어부를 통해 제공받을 수 있다, 이 때, 안전 운용 전압 정보는 PCS의 용량(일반 적으로 배터리의 절반) 및 그에 따른 최대 충전 출력일 수 있다. 또한, ESS 제어부는 배터리 안전을 위해 SoC의 상/하한이 10%~90%로 혹은 그에 준하는 범위로 충방전을 설정할 수 있다. 한편, BMS(230, Battery Management System)은 각각의 배터리를 관리하는 구성으로, 배터리 내의 각 배터리 셀의 충방전을 제어하여 복수의 배터리 셀 중 일부 배터리 셀만 과충전되거나 충전이 되지 않는 상황 을 제어할 수 있다. 또한, BMS는 최소 1분 간격의 ESS 운용 기록을 저장할 수 있다. 이 경우, 저장된 ESS 운용 기록은 예컨대, 배터리 순시 전류(A), 순시 전압(V), SoC (%) 및 출력 (kWh)을 포함할 수 있다. 이하에서는 도 2 내지 도 13을 참조하여, SoC 범위 설정, SoC 범위별 출력 전력/전압 상한의 결정을 통해 ESS의 운용 계획을 설정할 수 있는 분석부의 세부 구성 및 동작에 대하여 살펴본다. 이 경우, 분석부 의 세부 구성인 분석 제어부, 데이터 수집부, 데이터 학습부, 전압 상한 산출부, 출 력 상한 산출부 및 ESS 운전부는 소프트웨어, 소프트웨어 모듈, 하드웨어, 하드웨어 모듈 또는 소프 트웨어 및 하드웨어의 결합일 수 있다. 분석 제어부는 예컨대, 프로세서로 구현되거나, 또는 프로세서 상에서 실행되는 소프트웨어로 구현될 수 있다. 이 경우, 분석 제어부는 데이터 수집부, 데이터 학습부, 전압 상한 산출부, 출력 상한 산출부 및 ESS 운전부를 제어하고, 분석부의 전체적인 동작을 관리할 수 있다. 분석부의 전체적인 동작은 도 2에 나타낸 바와 같다. 먼저, 데이터 수집부는 BMS 또는 별도 데이터 베이스에 저장된 ESS 운용 기록을 데이터 학습부 의 요청에 따라 주어진 기간 동안의 과거 운전 내역을 조회하여 수신하고 전달한다.(S100) 이 경우, BMS 또는 데이터베이스로부터 데이터를 수집하는 방식은 데이터베이스 직접 연결 또는 에너지 관 리 시스템(Energy Management System, EMS)의 RestAPI를 통한 수집이 모두 가능하다. 이 경우, 데이터 수집부 는 BMS에서 저장하고 있는 배터리의 순시전류(A), 순시전압(V), SoC(%), 출력(kWh)이 타임스탬 프와 함께 수집된다. 다음으로, 데이터 학습부는 수집된 ESS 운용 기록 데이터를 바탕으로 OCV-SoC 테이블을 생성한다.(S200) 이 경우, OCV-SoC 테이블은 예컨대, 대한민국 등록특허 제10-2493221호에 기재된 바와 같이 도출할 수 있으며, 본 명세서에 대한민국 공개 특허 제10-2493221호를 참조로서 포함한다. 한편, 전압 상한 산출부는 OCV-SoC 테이블 및 최대 출력 충전 시의 V-SoC 커브 및 방전 시의 V-SoC 테이 블을 이용하여 충방전 전압 상한 값을 산출할 수 있다. (S300) 구체적으로, 도 3 및 도 4를 참조하면, 먼저, 전압 상한 산출부는 OCV-SoC 커브에서 기울기가 급격히 증가 하는 변곡 지점(SoC1) 및 배터리 안전 상한 및 하한 SoC에 대응하는 전압을 구할 수 있다.(S310) 예컨대, 배터 리 안전 상한 및 하한 SoC는 각각 90% 및 10% 일 수 있다. 그리고, 전압 상한 산출부는 ESS 운용 기록 데이터에 기초하여 ESS 최대 출력 충전 시의 V-SoC 테이 블(전압-SoC의 관계)을 산출한 후, 최대 출력 충전 시의 V-SoC 테이블, 변곡 지점, 배터리 안전 상한 SoC에 기 초하여 충전시의 전압 상한(V1 내지 V4)를 산출할 수 있다. (S320) 이 때, OCV-SoC 커브는 개방 회로 전압(Open Circuit Voltage) 값을 통해 추산한 값으로, 최대 출력으로 ESS을 충전할 때의 실제 V-SoC 커브와는 다를 수 있다. 보다 구체적으로, 도 5를 참조하면, 전압 상한 산출부는 최대 출력 충전 시 V-SoC 커브에서 상술한 변곡 지점(SoC1)에 대응하는 전압 V1을 도출할 수 있다. 또한, 전압 상한 산출부는 V1과 배터리 안전 상한 SoC에 대응하는 전압(V4)를 산출할 수 있다. V1 및 V4 산출 후, 전압 상한 산출부는 예컨대, V1과 배터리 안전 상한 SoC 전압(예컨대, OCV-SoC 곡선의 SoC 90% 에 대응하는 전압 V)의 중점을 V2, V2와 V4의 중점을 V3로 산출할 수 있다. 이 경우, 전압 상한 산출부는 상술한 것과 같이 산출한 V1 내지 V4를 충전 시의 전압 상한(V1 내지 V4)으로 생성할 수 있다. 한편, 전압 상한 산출부는 최대출력 방전시의 V-SoC 테이블, 변곡 지점(SoC1)의 역지점 및 배터리 안전 하 한 SoC(예컨대, 10%)에 기초하여 방전 시의 전압 상한(Va 내지 Vd)를 산출할 수 있다. (S330) 보다 구체적으로, 도 6를 참조하면, 전압 상한 산출부는 최대출력 방전시의 V-SoC 커브에서 상술한 변곡 지점(SoC1)의 역지점에 대응하는 전압 Va를 도출할 수 있다. 여기서 역지점은 100%와 해당 지점 SoC와의 차이를 의미한다. 예컨대, 상술한 변곡 지점(SoC1)의 역지점은 100-SoC1에 대응하는 SoC를 의미한다. 또한, 전압 상한 산출부는 OCV-SoC에서 배터리 안전 하한 SoC에 대응하는 전압(Vd)을 구하고 (예컨대, OCV-SoC에서 SoC 10%일 때의 전압), 다시, 최대출력 방전시의 V-SoC 커브에서 Va와 Vd에 기초하여 방전 시의 전 압 상한을 산출할 수 있다. 예를 들어, Va와 Vd를 3등분 하여, 삼등분점 중 큰 것을 Vb, 삼등분점 중 작은 것을 Vc로 설정한 후, 방전 전압 상한 Va, Vb, Vc, Vd를 산출할 수 있다. 다시 도 2를 참조하면, 충방전 전압 상한이 산출된 후, 출력 상한 산출부가 충전 전압 상한과 방전 전압 상한에 기초하여 충방전 출력 상한을 산출하여 설정할 수 있다. (S400) 구체적으로, 도 7을 참조하면, 먼저 출력 상한 산출부는 과거의 ESS 운용 기록 데이터에 기초하여 전력- SoC 데이터들을 클러스터링 할 수 있다. (S410) 도 8을 참조하면, 출력 상한 산출부는 과거의 ESS 운용 기록 데이터에 기초하여 충전 시의 전력-SoC 데이터들을 예컨대, 평균 전력값에 기초하여 5개의 클러스터(색으 로 구분됨)로 분리하였다. 이 경우, 클러스터 중 전력값이 가장 높은 클러스터(오렌지색)는 최대 출력 전력으로 충전 시의 전력-SoC 데이 터들로서, 앞서 구한 최대 출력 충전 시 V-SoC 커브에 대응하는 데이터들이며, 최대 출력으로 충전하는 경우인 바, 별도의 출력 상한을 구할 필요는 없다. 한편, 출력 상한 산출부는 각 클러스터의 V-SoC와 충전 시 전압 상한에 기초하여 SoC 구간(SoC1 내지 SoC 4)을 산출할 수 있다. (S420) 구체적으로, 출력 상한 산출부는 클러스터 중 전력값이 2번째로 높은 클러스터(보라색)에 해당하는 데이터 들을 이용하여, 도 9과 같은 V-SoC 테이블을 산출할 수 있다. 이 때, 충전 전력 상한 V2에 대응하는 SoC (SoC 2)를 구할 수 있다. 또한, 출력 상한 산출부는 클러스터 중 전력값이 3번째로 높은 클러스터(빨간색)에 해당하는 데이터들을 이용하여, 도 10과 같은 V-SoC를 산출할 수 있으며, 이 때, 충전 전력 상한 V3에 대응하는SoC(SoC3)을 구할 수 있다. 출력 상한 산출부는 같은 방법으로 4번째로 높은 클러스터(초록색)에 대응하는 데이터들을 이용하여 V-SoC를 산출한 후, V4에 대응하는 SoC(SoC4)를 구할 수 있다. 즉, 최대 전력을 제외한 상 위 3 개의 출력에서의 V-SoC 커브를 기준으로 V2, V3, V4를 넘지 않는 최대 SoC(SoC2 내지 SoC4)를 산출할 수 있 다. 이러한 방법으로, 예컨대, 도 11와 같은 충전 시의 SoC 구간이 도출되게 된다. 그리고, 출력 상한 산출부는 충전 시 각 SoC 구간 별로 출력 상한을 도출하게 된다. (S430) 보다 구체적으로, 충전 시 ESS는 SoC1보다 작은 SoC를 가지는 구간(①)에서 출력 상한이 최대 출력이 된다. SoC1과 SoC2 사이의 구간(②)에서는 전력값이 2번째로 높은 클러스터에 대응하는 전력값(예컨대, 도 6에서 는 80kWh)로 출력 상한이 결정된다. SoC2와 SoC3 사이의 구간에서는 전력값이 2번째로 높은 클러스터에 대응하는 전력값(예컨대, 도 6에서는 60kWh)으로 출력 상한이 결정될 수 있다. 단, SoC가 기준 값 이상일 경우, 예컨대, 80% 이상일 경우에는 배터리 안전을 위하여 정해진 출력값을 출력 상 한으로 결정할 수 있다. 예를 들어, 80% 이상의 SoC에서는 배터리 안전을 위해 80% ~ 85% 구간에서는 (최대 전 력)/5, (85% ~ 90% 구간에서는 최대 전력/10으로 출력 상한을 고정할 수 있다. 한편, 상술한 구간 중 마지막 구간의 기준인 SoC값(SoC4)이 80%에 미치지 못하는 경우, 출력 상한 산출부 는 마지막 구간의 기준인 SoC값(SoC4)부터 정해진 출력값을 출력 상한으로 결정할 수 있다. 예를 들어, 도 11에 서는 80%가 넘는 구간(④)에서 (최대 전력)/5로 제어할 수 있으나, 도 12의 예시에서는 SoC4가 80%를 넘지 못하 므로, SoC4로부터 (최대 전력)/5로 충전할 수 있도록 제어할 수 있다. 따라서, 출력 상한 산출부는 각 구간의 SoC 최대값(SoC1 내지 SoC4)과 각 구간에 대응하는 충전 시 출력 상 한 값을 생성할 수 있다. 그리고, 방전 시에는 상기 충전 시의 각구간의 SoC 최대값의 역지점에 기초하여 각 SoC 구간 별 출력 상한 도 출한다. (S440) 방전 과정에서는 아래와 같은 이유로 인하여 충전 과정과 같은 방법(즉, 전력-SoC 데이터에 의한 클러스터링)을 적용할 수 없다. 1) 충전 과정은 경부하 시간대에 빠르게 진행하여야 하지만, 방전 과정은 일반적으로 전기 요금을 고려한 계산 에 따라 이루어진다. 2) 가격 변수는 임의적으로 변동하는 값으로, 기존 ESS 운용 데이터를 통해 출력 상한을 명확하게 추정 및 적용 하기 어렵다. 따라서, 충전 시 각 구간의 SoC 최대값(SoC1 내지 SoC4)의 역지점에 기초하여 방전 SoC 하한을 도출한 후 가능한 출력 상한을 산출한다. 이 때, 출력 상한 산출부는 전압의 상한(Va 내지 Vd)에 기초하여 출력 상한을 결정 할 수 있다. 먼저, 출력 상한 산출부는 충전과 반대로, SoC1의 역지점(100-SoC1)까지의 구간(⑥)에서는 최대 전력으로 방전 출력 상한을 설정한다. 이 때, 상술한 충전 과정에서 구한 충전 시 각 구간의 SoC 최대값(SoC1 내지 SoC4) 의 역지점(100-SoC4 내지 100-SoC1)을 구하여, 방전 SoC의 구간을 도 13과 같이 설정할 수 있다. 이 경우, 출력 상한 산출부는 각 구간에서 지정된 방전시 전압 범위(Va 내지 Vd)를 넘지 않는 최대 출력을 선정한다. 예를 들어, 방전 시, SoC 구간 (⑦, ⑧, ⑨)은 각각 Vb, Vc, Vd를 넘지 않는 최대 출력을 선정할 수 있다. 보다 구체적으로, SoC 구간(⑦)에 대응하는 방전 시 데이터들 중, Vb를 넘지 않는 데이터들을 선정하여 그 중 최대 출력을 가지는 것을 방전 출력 상한으로 선정할 수 있다. 또는 SoC 구간(⑧)에 대응하는 방전 시 데 이터들 중, Vc를 넘지 않는 데이터들을 선정하여 그 중 최대 출력을 가지는 것을 방전 출력 상한으로 선정할 수 있다. 또는 SoC 구간(⑨)에 대응하는 방전 시 데이터들 중, Vd를 넘지 않는 데이터들을 선정하여 그 중 최대 출 력을 가지는 것을 방전 출력 상한으로 선정할 수 있다. 상술한 방식으로 출력 상한 산출부는 충전 출력 상한 및 방전 출력 상한을 생성할 수 있다. 마지막으로, ESS 운전부는 기본적으로 충방전 계획부에서 계획한 충방전량과 충방전 시간에 따라 ESS 제어부를 통해 PCS에 제어 명령을 전달하여 충방전을 수행할 수 있다.(S500) 단, 본 발명의 실시예에 따른 ESS 운전부는 기본적으로 충방전 계획부의 충방전 운용 계획에 따라 ESS를 운전하도록 제어 명령을 생성하되, ESS 안전 운용 전압과 최저 기저 전력 유지를 고려하기 위해 다음과 같은 우선 순위를 갖고 운전을 수행한다. 우선 순위 1: 현재 순시 전압값이 ESS 안전 운용 전압 범위를 벗어나면 충방전 계획을 무시하고 충방전을 중단 한다. 우선순위 2: 데이터 수집부를 통해 수집되는 현재 전력량이 최저 기저전력보다 낮아지면 충방전 계획을 무 시하고 최저 기저 전력과 같아지도록 방전 명령을 수행하며 남은 배터리 잔량이 없으면 충방전을 중단한다. 우선 순위 3: 충방전 계획부에서 설정한 충방전 계획에 따라 충방전 명령을 수행하되 SoC 추정부에서 추정한 SoC에 의해 배터리 잔량이 부족하거나 만충되었을 경우 충방전을 중단한다. 우선 순위 4: ESS 운전부는 ESS 운전 시 출력 상한 산출부가 산출한 SoC별 출력 상한에 기초한 운전 출력 제어 명령을 생성한다. 본 발명에 따라 SoC별 출력 상한을 설정하여 ESS를 운용하였을 경우, 기존 운영 방식 대비 고장 비율이 감소하 여 가동률이 ESS 20%p 이상 상승하였다. 본발명에 따른 ESS 운용시 동 기간 대비 기존 운영 방식의 가동률은 76.8%, 특허 방식 적용 후 가동률은 98.2%였으며, 최적화 된 스케쥴에 따라 운영하여 ESS를 더 효율적으로 사용 할 수 있었다. 또한, 일사량 예측 값과 실제 일사량의 차이로 인하여 발생한 오차를 제외하면 거의 계획대로 ESS를 매우 효율 적으로 사용할 수 있었다. 도 14를 참조하면, 특허 방식 적용 전, 출력 상한이 잘 설정되어 있지 않아 계획대로 운영하지 못하는 모습을 볼 수 있다. 특히, 구간에서는 운용 계획인 도 14의 보라색 블록과, 실제 운용 데이터인 노란색 선의 차이가 매우 큰 것을 알 수 있는데, 이는 출력 상한이 잘 설정되어 있지 않아 계획대로 운영하지 못하는 것으로 볼 수 있다. 그러나, 도 15를 참조하면 본 발명의 실시예에 따른 방식 적용 후 ESS 운용 계획에 더 유사하게 ESS를 운용하는 모습을 볼 수 있다. 구체적으로, 구간에 대응하는 도 15의 구간에서는 운용 계획인 보라색 블록과, 실제 운용 데이터인 노란색 선의 차이가 매우 적은 것을 볼 수 있으며, 일사량 예측 값과 실제 일사량 의 차이로 인하여 발생한 오차가 발생한 구간에서만 차이가 발생했음을 알 수 있다. 따라서, 본 발명에 따르면, 충/방전 과정에서 해당 SoC에서 운영 가능한 최대 출력을 미리 산출하여 배터리 안 정성 문제를 유발하지 않는 선에서 ESS를 가장 효율적으로 사용할 수 있는 ESS 충방전 시스템이 제공될 수 있다. 이상 첨부된 도면을 참조하여 본 발명의 실시예들을 더욱 상세하게 설명하였으나, 본 발명은 반드시 이러한 실 시예로 국한되는 것은 아니고, 본 발명의 기술사상을 벗어나지 않는 범위 내에서 다양하게 변형 실시될 수 있다. 따라서, 본 발명에 개시된 실시예들은 본 발명의 기술 사상을 한정하기 위한 것이 아니라 설명하기 위한 것이고, 이러한 실시예에 의하여 본 발명의 기술 사상의 범위가 한정되는 것은 아니다. 그러므로, 이상에서 기 술한 실시예들은 모든 면에서 예시적인 것이며 한정적이 아닌 것으로 이해해야만 한다. 본 발명의 보호 범위는 아래의 청구범위에 의하여 해석되어야 하며, 그와 동등한 범위 내에 있는 모든 기술 사상은 본 발명의 권리범위 에 포함되는 것으로 해석되어야 할 것이다."}
{"patent_id": "10-2023-0131835", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 실시예에 따른 ESS 충방전 제어 시스템을 나타낸 블록도이다. 도 2는 본 발명의 실시예에 따른 ESS 충방전 제어 시스템의 충방전 운용을 설명하기 위한 순서도이다. 도 3은 본 발명의 일 실시예에 따른 ESS 충방전 전압 상한 산출 단계를 설명하기 위한 순서도이다. 도 4은 본 발명의 실시예에 따른 OCV-SoC를 나타낸 그래프이다. 도 5는 본 발명의 실시예에 따른 충전 운용시의 V-SoC를 나타낸 그래프이다. 도 6는 본 발명의 실시예에 따른 방전 운용시의 V-SoC를 나타낸 그래프이다. 도 7은 본 발명의 일 실시예에 따른 ESS 충방전 출력 상한 산출 단계를 설명하기 위한 순서도이다. 도 8은 본 발명의 실시예에 따른 ESS 충방전 과거 충전 데이터들에 대한 전력-SoC를 나타낸 그래프이다. 도 9 및 도 10은 본 발명의 실시예에 따른 특정 전력으로 CP 충전 운용시의 V-SoC 그래프이다. 도 11 내지 도 13은 본 발명의 실시예에 따른 SoC 데이터에 기초한 충방전 전력 제어 구간을 나타낸 도면이다. 도 14는 종래 기술로서 ESS 충방전 운용시 충방전 운용 계획과 실제 운용을 나타낸 그래프이다. 도 15는 본 발명의 실시예에 따른 ESS 충방전 운용시 충방전 운용계획과 실제 운용을 나타낸 그래프이다."}
