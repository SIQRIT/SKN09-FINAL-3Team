{"patent_id": "10-2023-0077575", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0176653", "출원번호": "10-2023-0077575", "발명의 명칭": "블록체인 기반 가정용 사물인터넷", "출원인": "전상훈", "발명자": "전상훈"}}
{"patent_id": "10-2023-0077575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "적어도 하나의 사물인터넷(IoT) 장치를 제어하는 제어 장치를 위한 상호 인증 방법에 있어서,상기 IoT 장치의 사용자를 제어 장치가 인증하는 단계;상기 IoT 장치의 사용자를 인증 서버가 인증하는 단계;상기 인증 서버가 상기 사용자 인증의 결과에 따라 사용자 인증 키를 생성하는 단계;상기 사용자 인증 키를 포함하는 정보로부터 머클 트리(merkle tree) 초기값을 생성하는 단계;상기 머클 트리 초기값을 상기 제어 장치에 의하여 제어되는 적어도 하나의 IoT 장치에 할당하여 머클 트리를생성하고, 상기 머클 트리의 루트 키 값을 획득하는 단계; 및상기 루트 키 값 및 상기 머클 트리로부터 유래하는 값 중 적어도 하나를 포함하는 상호 인증 정보를 블록체인에 블록으로서 등록하는 단계;를 포함하는, 방법."}
{"patent_id": "10-2023-0077575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서,상기 IoT 장치의 사용자를 상기 제어 장치가 인증하는 단계는,상기 IoT 장치의 사용자가 상기 제어 장치에 제1 사용자 인증 정보를 제공하는 단계; 상기 제1 사용자 인증 정보를 상기 제어 장치에 저장된 제1 사용자 데이터와 비교, 대조, 연산 중 적어도 하나의 방법을 이용하여 정보처리하는 단계; 및 상기 정보처리의 결과에 따라 상기 제1 사용자 인증 정보의 검증 성공 여부를 판단하는단계;를 포함하는, 방법."}
{"patent_id": "10-2023-0077575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 2 항에 있어서,상기 제1 사용자 인증 정보는,스와이프 패턴(swipe pattern), 숫자로 이루어진 고정 길이 또는 가변 길이의 패스워드(password), 및 숫자를포함하는 다수 유형의 문자의 행렬로 이루어지는 고정 길이 또는 가변 길이의 패스워드를 포함하는 개인식별기호(PIN); 및상기 사용자의 지문, 홍채, 육성, 얼굴 형상, 특정 신체부위의 혈관형태, 및 유전자 정보 중 적어도 하나에 해당하는 생체인증 정보; 중 적어도 하나를 포함하는, 방법."}
{"patent_id": "10-2023-0077575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 2 항에 있어서,상기 제1 사용자 데이터는,상기 사용자가 상기 인증에 앞서, 인증된 관리자의 허가를 받아 상기 제어 장치에 저장한 정보를 포함하는, 방법.공개특허 10-2024-0176653-3-청구항 5 제 1 항에 있어서,상기 IoT 장치의 사용자를 인증 서버가 인증하는 단계는,상기 IoT 장치의 사용자가 상기 인증 서버에 제2 사용자 인증 정보를 제공하는 단계; 상기 제2 사용자 인증 정보를 상기 인증 서버에 저장된 제2 사용자 데이터와 비교, 대조, 연산, 및 암호학적 처리 중 적어도 하나의 방법을 이용하여 정보처리하는 단계; 상기 정보처리의 결과에 따라 상기 제2 사용자 인증 정보의 검증 성공 여부를 판단하는 단계;를 포함하는, 방법."}
{"patent_id": "10-2023-0077575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 5 항에 있어서,상기 제2 사용자 인증 정보는,대칭키, 개인키/공개키, 비대칭키, 해시(hash) 기반, 블록체인 및/또는 분산원장 기반, 영지식증명 기반, 및 양자-내성(quantum-resistant) 암/복호화 기술 기반;중 적어도 하나에 기반하는 전자서명 인증의 실행을 위한 정보를 포함하는, 방법."}
{"patent_id": "10-2023-0077575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제 5 항에 있어서,상기 제2 사용자 데이터는,상기 사용자가 상기 인증에 앞서 상기 인증 서버로부터 상기 제2 사용자 인증 정보를 발급받을 때 상기 인증 서버에 저장된 정보를 포함하는, 방법."}
{"patent_id": "10-2023-0077575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 1 항에 있어서,상기 사용자 인증 키를 생성하는 단계는,상기 인증 서버가, 상기 제1 사용자 인증 정보 및 상기 제2 사용자 인증 정보 중 적어도 하나를 포함하는 정보를 전자서명하여 상기 사용자 인증 키를 생성하고, 상기 사용자 인증 키를 상기 제어 장치에 송신하는 단계;를포함하는, 방법."}
{"patent_id": "10-2023-0077575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 1 항에 있어서,상기 머클 트리를 생성하고 상기 머클 트리의 루트 키 값을 획득하는 단계는,상기 머클 트리 초기값의 정보를 비트 단위에서 n개로 분할하여 적어도 하나의 분할 초기값을 획득하는 단계;상기 각각의 분할 초기값을 상기 적어도 하나의 IoT 장치 각각에 할당하는 단계;상기 각각의 분할 초기값에 해시(hash)함수를 적용하여, 머클 트리의 리프 노드(leaf node) 값을 생성하는단계;상기 리프 노드의 값을 이진 트리(binary tree)에 할당하고, 상기 이진 트리에서의 반복적 해시 연산을 통하여머클 트리를 생성하는 단계; 및상기 반복적 해시 연산이 수렴하는 루트 노드(root node)의 값에 기반하여 상기 머클 트리의 루트 키 값을 획득공개특허 10-2024-0176653-4-하는 단계;를 포함하는, 방법."}
{"patent_id": "10-2023-0077575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제 9 항에 있어서,상기 루트 키 값 및 상기 머클 트리로부터 유래하는 값 중 적어도 하나를 포함하는 상호 인증 정보를 블록체인에 블록으로서 등록하는 단계는,상기 사용자 인증 키 값, 상기 머클 트리 초기값, 상기 분할 초기값, 상기 적어도 하나의 리프 노드 값, 상기루트 키 값 중 적어도 하나를 포함하는 상기 블록체인 블록을 생성하는 단계;를 포함하는, 방법."}
{"patent_id": "10-2023-0077575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제 1 항에 있어서,상기 제어 장치의 관리자를 상기 제어 장치가 인증하는 단계;상기 제어 장치의 관리자를 상기 인증 서버가 인증하는 단계; 및상기 인증 서버가 상기 관리자 인증의 결과에 따라 관리자 인증 키를 생성하는 단계;를 더 포함하고,상기 머클 트리 초기값을 생성하는 단계는, 상기 사용자 인증 키 및 상기 관리자 인증 키를 포함하는 정보로부터 상기 머클 트리(merkle tree) 초기값을 생성하는 단계;를 포함하는, 방법."}
{"patent_id": "10-2023-0077575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제 11 항에 있어서,상기 제어 장치의 관리자를 상기 제어 장치가 인증하는 단계는,상기 제어 장치의 관리자가 상기 제어 장치에 제1 관리자 인증 정보를 제공하는 단계; 상기 제1 관리자 인증 정보를 상기 제어 장치에 저장된 제1 관리자 데이터와 비교, 대조, 연산 중 적어도 하나의 방법을 이용하여 정보처리하는 단계; 및 상기 정보처리의 결과에 따라 상기 제1 관리자 인증 정보의 검증 성공 여부를 판단하는단계;를 포함하는, 방법."}
{"patent_id": "10-2023-0077575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제 12 항에 있어서,상기 제1 관리자 인증 정보는,스와이프 패턴(swipe pattern), 숫자로 이루어진 고정 길이 또는 가변 길이의 패스워드(password), 및 숫자를포함하는 다수 유형의 문자의 행렬로 이루어지는 고정 길이 또는 가변 길이의 패스워드를 포함하는 개인식별기호(PIN); 및상기 관리자의 지문, 홍채, 육성, 얼굴 형상, 특정 신체부위의 혈관형태, 및 유전자 정보 중 적어도 하나에 해당하는 생체인증 정보; 중 적어도 하나를 포함하는, 방법."}
{"patent_id": "10-2023-0077575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제 11 항에 있어서,상기 제어 장치의 관리자를 상기 인증 서버가 인증하는 단계는,상기 제어 장치의 관리자가 상기 인증 서버에 제2 관리자 인증 정보를 제공하는 단계; 상기 제2 관리자 인증 정공개특허 10-2024-0176653-5-보를 상기 인증 서버에 저장된 제2 관리자 데이터와 비교, 대조, 연산, 및 암호학적 처리 중 적어도 하나의 방법을 이용하여 정보처리하는 단계; 상기 정보처리의 결과에 따라 상기 제2 관리자 인증 정보의 검증 성공 여부를 판단하는 단계;를 포함하는, 방법."}
{"patent_id": "10-2023-0077575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제 14 항에 있어서,상기 제2 관리자 인증 정보는,대칭키, 개인키/공개키, 비대칭키, 해시(hash) 기반, 블록체인 및/또는 분산원장 기반, 영지식증명 기반, 및 양자-내성(quantum-resistant) 암/복호화 기술 기반;중 적어도 하나에 기반하는 전자서명 인증의 실행을 위한 정보를 포함하는, 방법."}
{"patent_id": "10-2023-0077575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제 14 항에 있어서,상기 제2 관리자 데이터는,상기 관리자 가 상기 인증에 앞서 상기 인증 서버로부터 상기 제2 관리자 인증 정보를 발급받을 때 상기 인증서버에 저장된 정보를 포함하는, 방법."}
{"patent_id": "10-2023-0077575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제 11 항에 있어서,상기 관리자 인증 키를 생성하는 단계는,상기 인증 서버가, 상기 제1 관리자 인증 정보 및 상기 제2 관리자 인증 정보 중 적어도 하나를 포함하는 정보를 전자서명하여 상기 관리자 인증 키를 생성하고, 상기 관리자 인증 키를 상기 제어 장치에 송신하는 단계;를포함하는, 방법."}
{"patent_id": "10-2023-0077575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "제 1 항에 있어서,상기 블록체인에 블록으로서 등록하는 단계는, 적어도 하나의 상기 IoT 장치 각각에 적어도 하나의 블록을 생성하는 단계; 및 상기 생성된 블록을 상기 블록체인에 업로드하는 단계;를 포함하고,상기 적어도 하나의 블록을 생성하는 단계는,상위 블록에 대한 해시 값을 획득하는 단계; 및상기 상위 블록 해시 값, 상기 루트 키 값, 및 상기 머클 트리의 리프 노드 값 중 적어도 하나를 블록 데이터로기록하는 단계;를 포함하는, 방법."}
{"patent_id": "10-2023-0077575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_19", "content": "적어도 하나의 사물인터넷(IoT) 장치를 제어하는 제어 장치에 있어서,머클 트리 연산을 포함하는 적어도 하나의 컴퓨터 판독 가능한 프로그램 명령을 실행하는 프로세서;상기 프로그램 명령, 상기 제어 장치의 관리자를 인증하기 위한 관리자 데이터, 및 상기 IoT 장치의 사용자를인증하기 위한 사용자 데이터를 저장하는 내장 메모리;공개특허 10-2024-0176653-6-상기 관리자의 인증 정보 및 상기 사용자의 인증 정보 중 적어도 하나를 상기 제어 장치에 제공하도록 구성되는외장 메모리;상기 관리자 및 상기 사용자 중 적어도 하나에 대하여 정보의 입출력을 수행하는 사용자 인터페이스부;적어도 하나의 상기 IoT 장치를 제어하도록 구성되는 제1 통신부;인증 서버와 통신하여 상기 관리자 인증 정보 및 상기 사용자 인증 정보 중 적어도 하나를 인증하는 절차를 수행하도록 구성되는 제2 통신부; 및적어도 하나의 블록체인 네트워크에 연결되어 블록의 업로드가 가능하도록 구성되는 제3 통신부;를 포함하는,장치."}
{"patent_id": "10-2023-0077575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_20", "content": "사물인터넷(IoT) 장치를 제어하기 위한 제어 시스템에 있어서,적어도 하나의 사용자에 의해 사용되는 적어도 하나의 IoT 장치;상기 IoT 장치를 제어하도록 구성되는 제어 장치;상기 제어 장치의 관리자 및 상기 사용자의 신원 및 권한 중 적어도 하나를 인증하도록 구성되는 인증 서버; 및블록체인 네트워크 노드;를 포함하고,상기 제어 장치는, 상기 제어 장치의 관리자를 인증하기 위한 관리자 데이터 및 상기 IoT 장치의 사용자를 인증하기 위한 사용자 데이터를 저장하고, 상기 관리자의 인증 정보 및 상기 사용자의 인증 정보 중 적어도 하나를외장 메모리로부터 읽어들이고, 상기 관리자 및 상기 사용자 중 적어도 하나에 대하여 상기 인증의 요청을 포함하는 입출력을 수행하고, 상기 인증 서버와 통신하여 상기 관리자 인증 정보 및 상기 사용자 인증 정보 중 적어도 하나를 인증하고, 상기 블록체인 네트워크 노드를 통하여 적어도 하나의 블록체인 네트워크에 연결되어 머클트리 연산 값을 포함하는 블록의 업로드가 가능하도록 구성되는, 시스템."}
{"patent_id": "10-2023-0077575", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 가정용 사물인터넷(internet of the things; IoT) 기기에 대한 인가되지 않은 접근과 같은 보안 위협 을 예방하기 위한 보안 인증 방법에 대한 것으로, 보다 구체적으로는, 블록체인 시스템을 활용한 상호 인증 기법 을 활용함에 대한 것이다. 본 발명의 일 실시예에 따른 적어도 하나의 사물인터넷(IoT) 장치를 제어하는 제어 장 (뒷면에 계속)"}
{"patent_id": "10-2023-0077575", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 가정용 사물인터넷(internet of the things; IoT) 기기에 대한 인가되지 않은 접근과 같은 보안 위협 을 예방하기 위한 보안 인증 방법에 대한 것으로, 보다 구체적으로는, 블록체인 시스템을 활용한 상호 인증 기 법을 활용함에 대한 것이다."}
{"patent_id": "10-2023-0077575", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "최근 사물 인터넷과 관련된 기술은 IT기술 발전과 더불어 일상생활에 편리를 제공하기 위한 방향으로 발전을 거 듭하고 있다. 농업, 의료, 자동차, 스마트 홈 등의 다양한 분야에 적용되고 있으며, 인공지능 및 로봇기술 등과 융합되어 새로운 형태의 IoT 서비스로 발전하고 있다. 이러한 IoT 서비스는 가정은 물론 산업 현장에 이르기까 지 다양한 곳에 다양한 목적의 편의기능을 제공하고 있다. 종래에 특정 장소의 편의기능을 제공하기 위해 설치된 기계들(예를 들어, 가전제품)의 경우, 인터넷 연결을 필 수로 요하지 않는 경우가 많았다. 그러나, 인터넷에 접속하여 통신을 통해 동작하는 것을 전제로 하는 IoT 장치 들은 종래의 전자기기들과는 달리 통신망을 통한 다양한 인터넷 보안 위협에 노출되어 있다 관련하여, ITU-T, oneM2M(Machine-to-Machine), IEEE M2M(Machine-to-Machine), IETF IoT(Internet of Things)를 포함하는 다양한 국제 표준화 기구에서 IoT 서비스 플랫폼을 정의하고 있다. 이러한 플랫폼 정의 하 에서 계층별로 IoT 서비스의 구조를 분석할 수 있고, 이에 기반하여 상술한 것과 같은 보안 위험에 대한 방지를 도모하고자 하는 시도가 있어 왔다. 이러한 보안 위험을 가장 직관적으로 해결할 수 있는 기술로서는, 개별 IoT 장치 및 그 사용자를 식별하기 위한 전자서명 또는 인증서 기반의 인증 기술을 적용하는 것이 포함된다. 예를 들어, 패스워드 방식, 생체정보(지문, 안면인식 등), 인증서(X.509), IC 카드 인증 등 다양한 방법에 의하여 사용자 및 장치를 인증하고, 그러한 인증 을 전제로 동작하는 보안성 있는 환경을 제공할 수 있다. 그럼에도 불구하고, IoT 서비스에서는 다수의 소형 IoT 장치가 배포되는 관계로, 개별 IoT 장치 가운데에는 연 산 능력 및/또는 정보 저장 능력이 제한적인 초경량 장치가 포함될 수 있다. 이러한 초경량 장치에 있어서, 상 술한 바와 같은 보안 기술을 일률적으로 적용하는 데에 한계가 있다. 예를 들어, 전자 인증서는 인증 업무를 수 행하는 신뢰성 있는 인증 기관이 요구되는데, 이러한 인증 기관으로 하여금 모든 개별 IoT 장치에 대한 인증을 요구하는 것은 트래픽의 낭비로 이어질 수 있다. 패스워드 기반 인증방법은 상기 인증서 기반 인증방법과 비교 하면 초경량 디바이스에서도 단순하고 구현이 편리한 장점을 갖고 있지만, 보안성 및 안전성 측면에서는 취약한 단점을 갖고 있다. 따라서 이러한 IoT 서비스 환경을 위하여, 경량성과 신뢰성을 모두 제공하는 인증 방법이 요구되고 있다."}
{"patent_id": "10-2023-0077575", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "현행 IoT 플랫폼 내의 시스템은 대부분 웹기반 시스템을 운용하고 있지만, 네트워크 공격 및 웹쉘 공격 등에 의 한 관리자와 사용자의 권한 및 개인정보 탈취 공격에 취약하며, 보안위협에 적절하게 대응하지 못하고 있다. 가 정 내 월 패드에 탑재된 홈 캠에 의한 부정사용 및 영상파일 노출 등의 개인정보 침해사고가 급증하고 있으며, 가전기기들의 인터넷 연결 및 접근에 대한 효율성을 강조하고 있지만, 무분별한 가전 기기의 인터넷 접근에 대 한 보안성, 사용자 인증 및 보안정책이 전무한 상태 등, 홈 IoT를 위한 보안대책이 미흡하다는 문제가 있다. 예를 들어, 장치 계층에 있어서, IoT 서비스에 사용되는 센서 및 장치는 경량 및 저전력을 요하는 저사양 장치 로서 개발된다. 따라서, 높은 정보처리 연산량을 요구하는 고성능 보안 기술을 적용하기 어려울 뿐 아니라, 사 후적인 보안 패치의 적용 등의 관리 운용이 곤란하다는 문제가 있다. 네트워크 계층에 있어서는, 통신 네트워크의 연결에 Wi-Fi, LoRa, LTE, 3/4/5G 등 널리 알려진 통신 프로토콜 및 공용망을 경유하는 경우가 많은 바, 악성코드 및 서비스 거부(DoS) 공격과 같은 일반적 네트워크 위협 및 공 격에 쉽게 노출되는 취약점이 있다. 서비스, 플랫폼 및 응용 계층에 있어서는, 오픈 플랫폼의 취약점이 노출됨으로 인하여 IoT 장치 및 서비스 간에 데이터의 위·변조, 인가되지 않은 접근, 개인정보의 노출·탈취, 오동작의 유발과 같은 결과가 초래될 수 있다. 따라서, 상술한 바와 같이, IoT 서비스 환경에 적합하게 구성되어 경량성과 신뢰성을 모두 제공하는 보안 인증 방법이 제공되어야 한다는 기술적 과제가 발생한다."}
{"patent_id": "10-2023-0077575", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상술한 본 발명의 기술적 과제를 달성하기 위한 본 발명의 일 실시예에 따른 적어도 하나의 사물인터넷(IoT) 장 치를 제어하는 제어 장치를 위한 상호 인증 방법은, 상기 IoT 장치의 사용자를 제어 장치가 인증하는 단계, 상 기 IoT 장치의 사용자를 인증 서버가 인증하는 단계, 상기 인증 서버가 상기 사용자 인증의 결과에 따라 사용자 인증 키를 생성하는 단계, 상기 사용자 인증 키를 포함하는 정보로부터 머클 트리(merkle tree) 초기값을 생성 하는 단계, 상기 머클 트리 초기값을 상기 제어 장치에 의하여 제어되는 적어도 하나의 IoT 장치에 할당하여 머 클 트리를 생성하고, 상기 머클 트리의 루트 키 값을 획득하는 단계, 및 상기 루트 키 값 및 상기 머클 트리로 부터 유래하는 값 중 적어도 하나를 포함하는 상호 인증 정보를 블록체인에 블록으로서 등록하는 단계를 포함할 수 있다. 상기 IoT 장치의 사용자를 상기 제어 장치가 인증하는 단계는, 상기 IoT 장치의 사용자가 상기 제어 장치에 제1 사용자 인증 정보를 제공하는 단계, 상기 제1 사용자 인증 정보를 상기 제어 장치에 저장된 제1 사용자 데이터 와 비교, 대조, 연산 중 적어도 하나의 방법을 이용하여 정보처리하는 단계, 및 상기 정보처리의 결과에 따라 상기 제1 사용자 인증 정보의 검증 성공 여부를 판단하는 단계를 포함할 수 있다. 상기 제1 사용자 인증 정보는, 스와이프 패턴(swipe pattern), 숫자로 이루어진 고정 길이 또는 가변 길이의 패 스워드(password), 및 숫자를 포함하는 다수 유형의 문자의 행렬로 이루어지는 고정 길이 또는 가변 길이의 패스워드를 포함하는 개인식별기호(PIN), 및 상기 사용자의 지문, 홍채, 육성, 얼굴 형상, 특정 신체부위의 혈관 형태, 및 유전자 정보 중 적어도 하나에 해당하는 생체인증 정보 중 적어도 하나를 포함할 수 있다. 상기 제1 사용자 데이터는, 상기 사용자가 상기 인증에 앞서, 인증된 관리자의 허가를 받아 상기 제어 장치에 저장한 정보를 포함할 수 있다. 상기 IoT 장치의 사용자를 인증 서버가 인증하는 단계는, 상기 IoT 장치의 사용자가 상기 인증 서버에 제2 사용 자 인증 정보를 제공하는 단계, 상기 제2 사용자 인증 정보를 상기 인증 서버에 저장된 제2 사용자 데이터와 비 교, 대조, 연산, 및 암호학적 처리 중 적어도 하나의 방법을 이용하여 정보처리하는 단계, 상기 정보처리의 결 과에 따라 상기 제2 사용자 인증 정보의 검증 성공 여부를 판단하는 단계를 포함할 수 있다. 상기 제2 사용자 인증 정보는, 대칭키, 개인키/공개키, 비대칭키, 해시(hash) 기반, 블록체인 및/또는 분산원장 기반, 영지식증명 기반, 및 양자-내성(quantum-resistant) 암/복호화 기술 기반 중 적어도 하나에 기반하는 전 자서명 인증의 실행을 위한 정보를 포함할 수 있다. 상기 제2 사용자 데이터는, 상기 사용자가 상기 인증에 앞서 상기 인증 서버로부터 상기 제2 사용자 인증 정보 를 발급받을 때 상기 인증 서버에 저장된 정보를 포함할 수 있다. 상기 사용자 인증 키를 생성하는 단계는, 상기 인증 서버가, 상기 제1 사용자 인증 정보 및 상기 제2 사용자 인 증 정보 중 적어도 하나를 포함하는 정보를 전자서명하여 상기 사용자 인증 키를 생성하고, 상기 사용자 인증 키를 상기 제어 장치에 송신하는 단계를 포함할 수 있다. 상기 머클 트리를 생성하고 상기 머클 트리의 루트 키 값을 획득하는 단계는, 상기 머클 트리 초기값의 정보를 비트 단위에서 n개로 분할하여 적어도 하나의 분할 초기값을 획득하는 단계, 상기 각각의 분할 초기값을 상기 적어도 하나의 IoT 장치 각각에 할당하는 단계, 상기 각각의 분할 초기값에 해시(hash)함수를 적용하여, 머클 트리의 리프 노드(leaf node) 값을 생성하는 단계, 상기 리프 노드의 값을 이진 트리(binary tree)에 할당하고, 상기 이진 트리에서의 반복적 해시 연산을 통하여 머클 트리를 생성하는 단계, 및 상기 반복적 해시 연산이 수 렴하는 루트 노드(root node)의 값에 기반하여 상기 머클 트리의 루트 키 값을 획득하는 단계를 포함할 수 있다. 상기 루트 키 값 및 상기 머클 트리로부터 유래하는 값 중 적어도 하나를 포함하는 상호 인증 정보를 블록체인 에 블록으로서 등록하는 단계는, 상기 사용자 인증 키 값, 상기 머클 트리 초기값, 상기 분할 초기값, 상기 적 어도 하나의 리프 노드 값, 상기 루트 키 값 중 적어도 하나를 포함하는 상기 블록체인 블록을 생성하는 단계를 포함할 수 있다. 상기 제어 장치의 관리자를 상기 제어 장치가 인증하는 단계, 상기 제어 장치의 관리자를 상기 인증 서버가 인 증하는 단계, 및 상기 인증 서버가 상기 관리자 인증의 결과에 따라 관리자 인증 키를 생성하는 단계를 더 포함 하고, 상기 머클 트리 초기값을 생성하는 단계는, 상기 사용자 인증 키 및 상기 관리자 인증 키를 포함하는 정 보로부터 상기 머클 트리(merkle tree) 초기값을 생성하는 단계를 포함할 수 있다. 상기 제어 장치의 관리자를 상기 제어 장치가 인증하는 단계는, 상기 제어 장치의 관리자가 상기 제어 장치에 제1 관리자 인증 정보를 제공하는 단계, 상기 제1 관리자 인증 정보를 상기 제어 장치에 저장된 제1 관리자 데 이터와 비교, 대조, 연산 중 적어도 하나의 방법을 이용하여 정보처리하는 단계, 및 상기 정보처리의 결과에 따 라 상기 제1 관리자 인증 정보의 검증 성공 여부를 판단하는 단계를 포함할 수 있다. 상기 제1 관리자 인증 정보는, 스와이프 패턴(swipe pattern), 숫자로 이루어진 고정 길이 또는 가변 길이의 패 스워드(password), 및 숫자를 포함하는 다수 유형의 문자의 행렬로 이루어지는 고정 길이 또는 가변 길이의 패 스워드를 포함하는 개인식별기호(PIN), 및 상기 관리자의 지문, 홍채, 육성, 얼굴 형상, 특정 신체부위의 혈관 형태, 및 유전자 정보 중 적어도 하나에 해당하는 생체인증 정보 중 적어도 하나를 포함할 수 있다. 상기 제어 장치의 관리자를 상기 인증 서버가 인증하는 단계는, 상기 제어 장치의 관리자가 상기 인증 서버에 제2 관리자 인증 정보를 제공하는 단계, 상기 제2 관리자 인증 정보를 상기 인증 서버에 저장된 제2 관리자 데 이터와 비교, 대조, 연산, 및 암호학적 처리 중 적어도 하나의 방법을 이용하여 정보처리하는 단계, 상기 정보 처리의 결과에 따라 상기 제2 관리자 인증 정보의 검증 성공 여부를 판단하는 단계를 포함할 수 있다. 상기 제2 관리자 인증 정보는, 대칭키, 개인키/공개키, 비대칭키, 해시(hash) 기반, 블록체인 및/또는 분산원장 기반, 영지식증명 기반, 및 양자-내성(quantum-resistant) 암/복호화 기술 기반 중 적어도 하나에 기반하는 전자서명 인증의 실행을 위한 정보를 포함할 수 있다. 상기 제2 관리자 데이터는, 상기 관리자 가 상기 인증에 앞서 상기 인증 서버로부터 상기 제2 관리자 인증 정보 를 발급받을 때 상기 인증 서버에 저장된 정보를 포함할 수 있다. 상기 관리자 인증 키를 생성하는 단계는, 상기 인증 서버가, 상기 제1 관리자 인증 정보 및 상기 제2 관리자 인 증 정보 중 적어도 하나를 포함하는 정보를 전자서명하여 상기 관리자 인증 키를 생성하고, 상기 관리자 인증 키를 상기 제어 장치에 송신하는 단계를 포함할 수 있다. 상기 블록체인에 블록으로서 등록하는 단계는, 적어도 하나의 상기 IoT 장치 각각에 적어도 하나의 블록을 생성 하는 단계, 및 상기 생성된 블록을 상기 블록체인에 업로드하는 단계를 포함하고, 상기 적어도 하나의 블록을 생성하는 단계는, 상위 블록에 대한 해시 값을 획득하는 단계, 및 상기 상위 블록 해시 값, 상기 루트 키 값, 및 상기 머클 트리의 리프 노드 값 중 적어도 하나를 블록 데이터로 기록하는 단계를 포함할 수 있다. 상술한 본 발명의 기술적 과제를 달성하기 위한 본 발명의 일 실시예에 따른 적어도 하나의 사물인터넷(IoT) 장 치를 제어하는 제어 장치는, 머클 트리 연산을 포함하는 적어도 하나의 컴퓨터 판독 가능한 프로그램 명령을 실 행하는 프로세서, 상기 프로그램 명령, 상기 제어 장치의 관리자를 인증하기 위한 관리자 데이터, 및 상기 IoT 장치의 사용자를 인증하기 위한 사용자 데이터를 저장하는 내장 메모리, 상기 관리자의 인증 정보 및 상기 사용 자의 인증 정보 중 적어도 하나를 상기 제어 장치에 제공하도록 구성되는 외장 메모리, 상기 관리자 및 상기 사 용자 중 적어도 하나에 대하여 정보의 입출력을 수행하는 사용자 인터페이스부, 적어도 하나의 상기 IoT 장치를 제어하도록 구성되는 제1 통신부, 인증 서버와 통신하여 상기 관리자 인증 정보 및 상기 사용자 인증 정보 중 적어도 하나를 인증하는 절차를 수행하도록 구성되는 제2 통신부, 및 적어도 하나의 블록체인 네트워크에 연결 되어 블록의 업로드가 가능하도록 구성되는 제3 통신부를 포함할 수 있다. 상술한 본 발명의 기술적 과제를 달성하기 위한 본 발명의 일 실시예에 따른 사물인터넷(IoT) 장치를 제어하기 위한 제어 시스템은, 적어도 하나의 사용자에 의해 사용되는 적어도 하나의 IoT 장치, 상기 IoT 장치를 제어하 도록 구성되는 제어 장치, 상기 제어 장치의 관리자 및 상기 사용자의 신원 및 권한 중 적어도 하나를 인증하도 록 구성되는 인증 서버, 및 블록체인 네트워크 노드를 포함하고, 상기 제어 장치는, 상기 제어 장치의 관리자를 인증하기 위한 관리자 데이터 및 상기 IoT 장치의 사용자를 인증하기 위한 사용자 데이터를 저장하고, 상기 관 리자의 인증 정보 및 상기 사용자의 인증 정보 중 적어도 하나를 외장 메모리로부터 읽어들이고, 상기 관리자 및 상기 사용자 중 적어도 하나에 대하여 상기 인증의 요청을 포함하는 입출력을 수행하고, 상기 인증 서버와 통신하여 상기 관리자 인증 정보 및 상기 사용자 인증 정보 중 적어도 하나를 인증하고, 상기 블록체인 네트워 크 노드를 통하여 적어도 하나의 블록체인 네트워크에 연결되어 머클 트리 연산 값을 포함하는 블록의 업로드가 가능하도록 구성될 수 있다."}
{"patent_id": "10-2023-0077575", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 일 실시예에 따른 방법, 장치, 및 시스템을 이용하면, 오프라인에서 시스템 운용자인 관리자 그리고 사용자를 각각 구분하여 상호 인증하고, 인증된 시스템 운용자만이 온라인을 통해 관리자와 사용자의 접근권한 및 인증서를 검증하도록 함으로써, 오프라인과 온라인을 혼용하여 시스템 관리자와 사용자를 인증할 수 있다. 이러한 절차에 따라, IoT 장치 단위에서는 경량화된 보안을 제공하면서도, 전체 시스템 단위에서는 보안성, 인 증성, 접근통제성, 재공격 대응성 등이 강화되는 이로운 효과가 있다."}
{"patent_id": "10-2023-0077575", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명은 다양한 변경을 가할 수 있고 여러 가지 실시예를 가질 수 있는 바, 특정 실시예들을 도면에 예시하고 상세하게 설명하고자 한다. 그러나, 이는 본 발명을 특정한 실시 형태에 대해 한정하려는 것이 아니며, 본 발명 의 사상 및 기술 범위에 포함되는 모든 변경, 균등물 내지 대체물을 포함하는 것으로 이해되어야 한다. 제 1, 제 2 등의 용어는 다양한 구성요소들을 설명하는데 사용될 수 있지만, 상기 구성요소들은 상기 용어들에 의해 한정되어서는 안 된다. 상기 용어들은 하나의 구성요소를 다른 구성요소로부터 구별하는 목적으로만 사용 된다. 예를 들어, 본 발명의 권리 범위를 벗어나지 않으면서 제 1 구성요소는 제 2 구성요소로 명명될 수 있고, 유사하게 제 2 구성요소도 제 1 구성요소로 명명될 수 있다. \"및/또는\"이라는 용어는 복수의 관련된 기재된 항 목들의 조합 또는 복수의 관련된 기재된 항목들 중의 어느 항목을 포함하며, 또한, 달리 지시되지 않는 한 비배 타적이다. 본 출원에 항목을 열거하는 경우 그것은 본 출원 발명의 사상과 가능한 실시 방법들을 용이하게 설명 하기 위한 예시적 서술에 그치며, 따라서, 본 발명의 실시예 범위를 한정하는 의도를 가지지 아니한다. 본 명세서에서 \"A 또는 B(A or B)\"는 \"오직 A\", \"오직 B\" 또는 \"A와 B 모두\"를 의미할 수 있다. 달리 표현하면, 본 명세서에서 \"A 또는 B(A or B)\"는 \"A 및/또는 B(A and/or B)\"으로 해석될 수 있다. 예를 들어, 본 명세서에 서 \"A, B 또는 C(A, B or C)\"는 \"오직 A\", \"오직 B\", \"오직 C\", 또는 \"A, B 및 C의 임의의 모든 조합(any combination of A, B and C)\"를 의미할 수 있다. 본 명세서에서 사용되는 슬래쉬(/)나 쉼표(comma)는 \"및/또는(and/or)\"을 의미할 수 있다. 예를 들어, \"A/B\"는 \"A 및/또는 B\"를 의미할 수 있다. 이에 따라 \"A/B\"는 \"오직 A\", \"오직 B\", 또는 \"A와 B 모두\"를 의미할 수 있다. 예를 들어, \"A, B, C\"는 \"A, B 또는 C\"를 의미할 수 있다. 본 명세서에서 \"적어도 하나의 A 및 B(at least one of A and B)\"는, \"오직 A\", \"오직 B\" 또는 \"A와 B 모두\"를 의미할 수 있다. 또한, 본 명세서에서 \"적어도 하나의 A 또는 B(at least one of A or B)\"나 \"적어도 하나의 A 및/또는 B(at least one of A and/or B)\"라는 표현은 \"적어도 하나의 A 및 B(at least one of A and B)\"와 동 일하게 해석될 수 있다. 또한, 본 명세서에서 \"적어도 하나의 A, B 및 C(at least one of A, B and C)\"는, \"오직 A\", \"오직 B\", \"오직 C\", 또는 \"A, B 및 C의 임의의 모든 조합(any combination of A, B and C)\"를 의미할 수 있다. 또한, \"적어도 하나의 A, B 또는 C(at least one of A, B or C)\"나 \"적어도 하나의 A, B 및/또는 C(at least one of A, B and/or C)\"는 \"적어도 하나의 A, B 및 C(at least one of A, B and C)\"를 의미할 수 있다. 어떤 구성요소가 다른 구성요소에 \"연결되어\" 있다거나 \"접속되어\" 있다고 언급된 때에는, 그 다른 구성요소에 직접적으로 연결되어 있거나 또는 접속되어 있을 수도 있지만, 중간에 다른 구성요소가 존재할 수도 있다고 이 해되어야 할 것이다. 반면에, 어떤 구성요소가 다른 구성요소에 \"직접 연결되어\" 있다거나 \"직접 접속되어\" 있 다고 언급된 때에는, 중간에 다른 구성요소가 존재하지 않는 것으로 이해되어야 할 것이다. 본 출원에서 사용한 용어는 단지 특정한 실시예를 설명하기 위해 사용된 것으로, 본 발명을 한정하려는 의도가 아니다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 출원에서, \"포함 하다\" 또는 \"가지다\" 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조 합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성요소, 부 품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 다르게 정의되지 않는 한, 기술적이거나 과학적인 용어를 포함해서 여기서 사용되는 모든 용어들은 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에 의해 일반적으로 이해되는 것과 동일한 의미를 이용하여 있다. 일반적으로 사용되는 사전에 정의되어 있는 것과 같은 용어들은 관련 기술의 문맥상 가지는 의미와 일치하는 의 미를 가진 것으로 해석되어야 하며, 본 출원에서 명백하게 정의하지 않는 한, 이상적이거나 과도하게 형식적인 의미로 해석되지 않는다. 본 출원에서 발명을 설명함에 있어, 실시예들은 설명된 기능 또는 기능들을 수행하는 단위 블록들의 측면에서 설명되거나 예시될 수 있다. 상기 블록들이란 본 출원에서 하나 또는 복수의 장치, 유닛, 모듈, 부 등으로 표현 될 수 있다. 상기 블록들은 하나 또는 복수의 논리 게이트, 집적 회로, 프로세서, 컨트롤러, 메모리, 전자 부품 또는 이에 한정되지 않는 정보처리 하드웨어의 구현 방법에 의하여 하드웨어적으로 실시될 수도 있다. 또는, 상 기 블록들은 응용 소프트웨어, 운영 체제 소프트웨어, 펌웨어, 또는 이에 한정되지 않는 정보처리 소프트웨어의 구현 방법에 의하여 소프트웨어적으로 실시될 수도 있다. 하나의 블록은 동일한 기능을 수행하는 복수의 블록들로 분리되어 실시될 수도 있으며, 반대로 복수의 블록들의 기능을 동시에 수행하기 위한 하나의 블록이 실시될 수도 있다. 상기 블록들은 또한 임의의 기준에 의하여 물리적으로 분리되거나 결합되어 실시될 수 있다. 상기 블록들은 통신 네트워크, 인터넷, 클라우드 서비스, 또는 이에 한정되지 않는 통신 방법에 의해 물리적 위치가 특정되지 않고 서로 이격되어 있는 환경에서 동작하도록 실시될 수도 있다. 상기의 모든 실시 방법은 동일한 기 술적 사상을 구현하기 위하여 정보통신 기술 분야에 익숙한 통상의 기술자가 취할 수 있는 다양한 실시예의 영 역이므로, 여하의 상세한 구현 방법은 모두 본 출원상 발명의 기술적 사상 영역에 포함되는 것으로 해석되어야 한다. 이하, 첨부한 도면들을 참조하여, 본 발명의 바람직한 실시예를 보다 상세하게 설명하고자 한다. 본 발명을 설 명함에 있어 전체적인 이해를 용이하게 하기 위하여 도면상의 동일한 구성요소에 대해서는 동일한 참조부호를 사용하고 동일한 구성요소에 대해서 중복된 설명은 생략한다. 또한 복수의 실시예들은 서로 배타적이 아니며, 일부 실시예들이 새로운 실시예들을 형성하기 위해 하나 이상의 다른 실시예들과 조합될 수 있음을 전제로 한다. 도 1은 본 발명의 일 실시예에 따른 사물인터넷(IoT) 장치를 제어하기 위한 제어 시스템에 대한 개념도이다. 도 1을 참조하면, 본 발명의 일 실시예에 따른 IoT 장치의 제어 시스템은 크게 두 개의 도메인, 즉 상호 인증 체계를 구성하는 도메인 A와 블록체인 체계인 도메인 B에 의하여 정의될 수 있다. 상기 도메인 A는 IoT 환경을 구축하는 메인 시스템을 포함할 수 있다. 상기 메인 시스템은 적어 도 하나의 사용자에 의해 사용되는 적어도 하나의 IoT 장치를 제어하도록 구성되는 IoT 제어 장치와, 상기 제어 장치에 의하여 제어될 수 있도록 구성되는 적어도 하나의 IoT 장치를 포함할 수 있다. 또한, 상기 메 인 시스템은 상호 인증의 달성을 위하여 블록체인 네트워크에 연결되기 위한 블록체인 노드를 포함할 수 있다. 상기 블록체인 노드는, 후술하는 바와 같이, 도메인 A와 도메인 B의 경계에 위치하는 기능부로 이해되어도 무방하다. 상기 메인 시스템은, 본 발명의 실시예에 따라서, 특정 목적을 위하여 조성된 IoT 시스템을 의미할 수 있 다. 예를 들어, 가정 내 가전, 냉난방, 및 조명기기 등을 연결하는 가정용 IoT 시스템이거나, 산업 현장에서의 원활한 인력 및 장비의 운영을 지원하기 위한 산업용 IoT 시스템이거나, 육상, 해상, 또는 공중 교통에 있어 개 별 소형 이동체에 의지하여 구축되는 교통 IoT 시스템이거나, 그 밖의 널리 알려진 또는 새로이 개발되는 어떠 한 종류의 IoT 시스템이더라도 본 발명의 실시에는 지장이 없다. 상기 IoT 제어 장치는 이러한 IoT 시스템 에서 개별 IoT 장치를 제어하기 위해 구성되고 서버, 컴퓨터, 콘트롤러(controller), 스마트 허브(hub)를 포함하는 다양한 명칭으로 지칭되는 정보처리장치를 의미할 수 있다. 상기 메인 시스템에 포함될 수 있는 상기 IoT 장치는, 상술한 예와 같이 가정의 경우 냉방기기, 난방 기기, 공조기기, 조명기기, 주방가전, 세탁기, 건조기, 스타일러, 로봇 청소기와 같은 가전제품을 포함하는 생 활가전이거나, 산업 현장의 경우 수동 작업기계, 자동 작업기계, 각종 액추에이터(actuator), 작업자 위치, 및 작업자 단말기를 포함하는 산업용 IoT 장비와 같이, IoT 시스템 내에서 개별 사용자에 의해 사용되는 하나 또는 복수의 IoT 장치를 의미할 수 있으며, 상술한 예시에 한정되지 아니한다. 본 발명의 바람직한 일 실시예에 있어서, 상기 IoT 장치 각각은 보안을 강구하기 위한 목적에서 저가의 초 경량 IC카드가 연동될 수 있는 장치일 수 있으나, 반드시 이러한 경우에 한정될 필요는 없다. 상기 메인 시스템은, 블록체인 네트워크에 참여하는 블록체인 노드를 포함하도록 구성될 수 있다. 다 양한 실시예에 따라서, 상기 블록체인 노드로서의 기능은 독립된 기능부이거나, 및/또는 상기 IoT 제어 장 치에 연결되어 있거나, 및/또는 상기 IoT 제어 장치의 일부분으로 구현될 수도 있다. 상기 블록체인 노드 는 도메인 A에 속하는 메인 시스템을 도메인 B의 블록체인 네트워크에 상호 인증시키기 위한 단 말지점으로서 기능할 수 있다. 또한 다양한 실시예에 따라서, 상기 블록체인 노드는 상기 도메인 B, 즉 블 록체인 네트워크에 접속하는 오프-체인(off-chain) 저장소를 포함하거나, 또는 온-체인(on-chain) 저장소 의 전부 또는 일부를 유지하는 저장소를 포함할 수 있다. 상기 온-체인 저장소는 적어도 하나의 블록체인 블록 을 저장하도록 구성될 수 있다. 상기 블록체인 블록을 저장하기 위하여 상기 온-체인 저장소를 상기 블록체인 노드가 운영하는 경우를 포함하여, 상기 블록체인 노드는 분산원장(distributed ledger) 및/또는 그 구성요소로서 간주될 수 있다. 본 발명의 바람직한 일 실시예에 따르면, 상기 블록체인 블록은 해시 체인(hash chain)에 의하여 위변조가 곤란 하도록 설계되는 것일 수 있다. 또한, 본 발명의 바람직한 일 실시예에 의하면, 상기 블록체인 블록은 상기 IoT장치 각각에 할당된 인증 값으로부터 도출되는 머클 트리(Merkle tree)의 루트 값을 포함하여, 상기 IoT 장치 각각에 대한 상호 인증이 가능하도록 구성될 수 있다. 상기 메인 시스템은 적합한 인증 기관의 인증 서버에 연결되어 있을 수 있다. 상기 인증 기관이란, 상기 메인 시스템을 관리하는 IoT 시스템의 관리자나, 상기 메인 시스템을 통하여 IoT 제어를 실행함으로써 적어도 하나의 상기 IoT 장치를 사용하고자 하는 IoT 시스템의 사용자를 인증하는 기능 을 수행하는 기관을 의미할 수 있으며, 상기 인증 서버란, 상기 인증 기관이 인증 서비스의 운용을 위하여 운용 하는 서버를 의미할 수 있다. 상기 인증 서버는, 상기 관리자 및 상기 사용자의 신원 및 권한 중 적어도 하나를 인증하도록 구성될 수 있다. 본 발명의 실시예에 따라서, 상기 신원의 인증이란, 공개키 기반 인프라(PKI; public key infrastructure)에 의 한 상기 관리자 및/또는 사용자의 신원 인증을 의미할 수 있으며, 보다 구체적인 예로는, 대칭키, 개인키/공개 키, 비대칭키, 해시(hash) 함수, 블록체인 및/또는 분산원장, 영지식증명, 및 양자-내성(quantum-resistant) 암 /복호화 중 적어도 하나에 기반하는 전자서명 인증에 기반하는 신원 인증 방법을 포함할 수 있으나, 상술한 실 시예에 한정되지는 아니한다. 본 발명의 실시예에 따라서, 상기 권한이란, 상기 관리자가 상기 IoT 메인 시스템에 대하여 가지는 관리자로서의 온전한 및/또는 부분적인 관리 권한의 유무나, 상기 사용자가 상기 적어도 하나의 IoT 장치 중 전부 및/또는 일부에 대하여 가지는 온전한 및/또는 부분적인 사용 권한의 유무나 사용 허가 수준의 정의를 포함할 수 있다. 상기 메인 시스템에 포함되는 상기 IoT 제어 장치는, 적어도 하나의 사물인터넷(IoT) 장치를 제어하 도록 구성될 수 있으며, 또한, 상기 IoT 시스템 및/또는 IoT 제어 장치의 관리자 및/또는 상기 IoT 장치의 사용자에 대한 인증을, 본 발명의 바람직한 일 실시예에 따르면, 상기 인증 서버와 의 연결을 통하여 수행하도록 구성될 수 있다. 상기 IoT 제어 장치의 상세한 구성과 관련하여서는 후술한다. 도 1을 참조하면, 본 발명의 바람직한 일 실시예에 따른 IoT 장치의 제어 시스템은, 상기 도메인 A와 상기 도메인 B의 두 영역이 상호 연동됨으로써 상호 인증이 이루어지도록 구성될 수 있다. 본 발명의 실시 예에 따라서는, 상기 도메인 A에서는 먼저 상기 관리자에 대한 인증 및 검증을 먼저 처리하고, 그 다 음으로 상기 사용자의 인증 및 검증을 처리하도록 구성됨으로서, 상기 IoT 시스템, 상기 IoT 제어 장 치, 및 상기 IoT 장치에 대한 인가되지 않은 접근을 방지할 수 있도록 구성될 수 있다. 본 발명의 바람직한 일 실시예에 따르면, 상기 IoT 제어 장치는 상기 관리자의 신원 및 권한을 인증 하기 위하여 비밀번호 및/또는 지문 등의 생체정보를 포함하는 인증 정보를 요구하고, 상기 정보에 대한 검증을 먼저 오프라인으로 상기 IoT 제어 장치의 내부에서 수행할 수 있다. 상기 검증이 완료되면, 상기 IoT 제어 장치는 상기 인증 서버에 연결되어 상기 관리자의 신원 인증 및 관리 권한에 대한 정보, 예를 들면 접근권한의 상세 정보 및/또는 신원 인증을 위한 인증서 정보를 교환하여 상기 신원 및 권한에 대한 인증 을 수행하도록 구성될 수 있다. 본 발명의 바람직한 일 실시예에 따르면, 상기 IoT 제어 장치는 상기 관리자에 대한 인증을 마친 후, 동일 및/또는 유사한 방식으로 상기 사용자를 인증하도록 구성될 수 있다. 예를 들어, 비밀번호 및/또는 지문 등의 생체 정보를 포함하는 인증 정보를 요구하고, 상기 정보에 대한 검증을 오프라인으로 내부에서 수행 하고, 상기 인증 서버를 통하여 상기 사용자의 신원 및 권한을 인증하도록 구성될 수 있다. 본 발명에 의하면, 상술하는 바와 같이 그 신원 및 권한이 확인된 관리자 및 사용자에 의하여서만 상 기 IoT 시스템이 운용될 수 있게 되고, 또한, 상기 인증 과정에 앞서 상기 IoT 제어 장치에서의 내부 적 검증을 먼저 수행함으로써, 잠재적인 네트워크 보안 위협으로부터 사용자의 정보 노출을 방지할 수 있는 이 로운 효과가 발생할 수 있다. 또한, 본 발명의 바람직한 일 실시예에 따르면, 상기 IoT 시스템은 블록체인 노드를 통하여 블록체인 네트워크에 연결되도록 구성될 수 있다. 상술한 바와 같은 도메인 A에서의 인증이 완료되면, 상기 블 록체인 노드는 상기 도메인 A 내부의 인증 정보를 포함하는 정보를 블록체인의 블록으로서 상기 블록 체인 네트워크의 블록들에 연결하도록 구성될 수 있다. 바람직하게는, 상기한 바와 같이 상기 도메인 A 및 상기 도메인 B를 통하여 상호 인증을 실시함으로써, 상기 도메인 A에 속하는 상기 IoT 시 스템, 상기 IoT 제어 장치, 및 상기 IoT 장치는 상기 블록체인을 구성하는 다른 블록 들에 의하여 무결성이 검증될 수 있다. 또한, 역으로, 상기 블록체인 노드는 상기 도메인 B에속하는 다른 블록들을 검증하는 역할을 수행하도록 구성될 수도 있으며, 따라서 상기 도메인 B를 경 유하여 연결되어 있는 임의의 다른 도메인에 대하여 그 무결성을 검증하는 역할을 수행하도록 구성될 수도 있다. 실시예에 따라서, 상기 무결성의 검증은, 상기 블록체인 네트워크에 참여하는 블록들 간의 분 산 원장 공유 및/또는 각 블록 간의 해시 체인 형성에 의하여 보장되는 것을 의미할 수 있다. 도 2는 본 발명의 일 실시예에 따른 IoT 제어 장치의 구조에 대한 블록도이다. 본 발명의 일 실시예에 따른 IoT 제어 장치는, 머클 트리 연산을 포함하는 적어도 하나의 컴퓨터 판독 가능한 프로그램 명령을 실행하는 프 로세서, 상기 프로그램 명령, 상기 제어 장치의 관리자를 인증하기 위한 관리자 데이터, 및 상 기 IoT 장치의 사용자를 인증하기 위한 사용자 데이터를 저장하는 내장 메모리, 상기 관리자의 인증 정보 및 상기 사용자의 인증 정보 중 적어도 하나를 상기 제어 장치에 제공하도록 구성되는 외장 메 모리, 상기 관리자 및 상기 사용자 중 적어도 하나에 대하여 정보의 입출력을 수행하는 사용자 인터페이스부, 외부 장치와 다양한 수단, 방법, 및 프로토콜을 통하여 유선 및/또는 무선 통신을 수행하도 록 구성되는 통신부를 포함할 수 있다 본 발명의 일 실시예에 따르면, 상기 프로세서는, 프로세서, 콘트롤러, ALU(arithmetic logic unit), 디 지털 신호 프로세서(digital signal processor), 마이크로컴퓨터, FPA(field programmable array), PLU(programmable logic unit), 마이크로프로세서, 또는 명령(instruction)을 실행하고 응답할 수 있는 다른 어떠한 장치와 같이, 하나 이상의 범용 컴퓨터 또는 특수 목적 컴퓨터를 의미할 수 있다. 상기 프로세서는, 운영 체제(OS) 및 상기 운영 체제 상에서 수행되는 하나 이상의 소프트웨어(software)를 수행하도록 구성될 수 있다. 또한, 처리 장치는 소프트웨어의 실행에 응답하여, 데이터를 접근, 저장, 조작, 처 리 및 생성할 수도 있다. 이해의 편의를 위하여, 상기 프로세서가 단수로 표현되는 경우라 할지라도, 해당"}
{"patent_id": "10-2023-0077575", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "기술분야에서 통상의 지식을 가진 자는, 상기 프로세서가 복수 개의 처리요소(processing element) 및/또 는 복수 유형의 처리 요소를 포함할 수 있음을 알 수 있다. 예를 들어, 상기 제어 장치는 복수 개의 프로 세서 또는 하나의 프로세서 및 하나의 콘트롤러를 포함할 수 있다. 또한, 상기 프로세서는 병렬 프로세서 (parallel processor)나 멀티-코어 프로세서(multi-core processor)와 같이, 다양한 처리 구성(processing configuration)에 의하여 구현될 수 있다. 상기 소프트웨어는, 컴퓨터 프로그램(computer program), 코드(code), 명령(instruction), 또는 이들 중 하나 이상의 조합을 포함하 수 있으며, 원하는 대로 동작하도록 처리 장치를 구성하거나 독립적으로 또는 결합적으로 (collectively) 처리 장치를 명령할 수 있다. 상기 소프트웨어는, 상기 프로세서에 의하여 해석되거나 상기 프 로세서에 명령 또는 데이터를 제공하기 위하여, 어떤 유형의 기계, 구성요소(component), 물리적 장치, 가상 장 치(virtual equipment), 컴퓨터 저장 매체 또는 장치, 또는 전송되는 신호 파(signal wave)에 영구적으로, 또 는 일시적으로 구체화(embody)될 수 있다. 상기 소프트웨어는 네트워크로 연결된 컴퓨터 시스템 상에 분산되어 서, 분산된 방법으로 저장되거나 실행될 수도 있다. 상기 소프트웨어는 또한, 다양한 컴퓨터 수단을 통하여 수행될 수 있는 프로그램 명령 형태로 구현되어 상기 내 장 메모리에 기록되거나 저장될 수 있다. 상기 메모리는 컴퓨터 판독 가능 기록 매체일 수 있으며, 상 기 컴퓨터 판독 가능 기록 매체에는 프로그램 명령, 데이터 파일, 데이터 구조 등이 단독으로 또는 조합되어 기 록될 수도 있다. 상기 메모리에 저장되는 프로그램 명령은 본 발명의 실시예를 위하여 특별히 설계되고 구성된 명령 체계에 기반하거나, 또는 컴퓨터 소프트웨어 당업자에게 공지되어 사용 가능한 명령 체계, 예를 들어 어셈 블리어(Assembly), C, C++, Java, Python 언어 등으로 예시되는 명령 체계를 따를 수도 있다. 상기 명령 체계 및 그에 의한 프로그램 명령은 컴파일러에 의해 만들어지는 것과 같은 기계어 코드뿐만 아니라 인터프리터 등을 사용하여 상기 제어 장치 및/또는 상기 프로세서에 의해서 실행될 수 있는 고급 언어 코드를 포함하 는 것으로 이해되어야 한다. 상기 내장 메모리는 상기 프로세서가 실행할 수 있는 컴퓨터 판독 가능한 소프트웨어 및/또는 프로그 램 명령을 저장할 수 있는 컴퓨터 판독 가능 매체(computer readable medium)로서 제공될 수 있다. 상기 컴퓨터 판독 가능 기록 매체는, 프로세서 캐시(Cache), 램(RAM), 플래시 메모리와 같이 상기 프로세서가 동작하는 동안 만 유지되는 일시적 또는 휘발성 기록 매체를 포함할 수 있고, 또는 하드 디스크, 플로피 디스크, 및 자기 테이 프와 같은 자기체(magnetic media), CD-ROM, DVD와 같은 광기록 매체(optical media), 플롭티컬 디스크 (floptical disk)와 같은 자기-광 매체(magneto-optical media), 또는 정적 상태 메모리(solid state memory) 와 같이 상대적으로 비휘발성적이거나 장기 기록이 가능한 기록 매체를 포함할 수 있고, 또는 하드웨어 상에 배 치된 롬(ROM)과 같은 읽기 전용의 기록 매체를 포함할 수 있으며, 나아가 회로배선에 의한 하드-와이어드(hard-wired) 구조에 의하여 일련의 프로그램 명령과 등가의 동작을 수행하도록 구성된 하드웨어 그 자체 또한 본 발 명의 실시예를 구현하는 프로그램 명령이 기록된 기록 매체의 일종으로서 실질적으로 상기 내장 메모리와 등가인 것으로 볼 수 있음은 통상의 기술자에게 자명하다. 상기 프로세서 및 상기 내장 메모리에 대하여 상술한 실시예는 상호 배타적이지 않으며, 필요에 따라 선택되거나 결합되어 실시될 수 있다. 예를 들어, 하나의 하드웨어 장치는 본 발명 실시예의 동작을 수행하기 위해 하나 이상의 소프트웨어 모듈로서 작동하도록 구성될 수 있으며, 그 역도 마찬가지이다. 또한, 상기 내장 메모리의 다양한 실시방법은 유사하게 상기 외장 메모리에도 적용될 수 있다. 본 발 명의 실시예에 따라서는, 상기 외장 메모리의 실시 방법에 있어서는 상기 내장 메모리의 실시예 중 어느 하나에 기반하되, 본 발명의 목적(예를 들어, 관리자 또는 사용자에 의한 자기 인증 수단)에 부합하는 형 태로 사용될 수 있는 실시방법이 채택될 수 있다. 가령, 상기 부합하는 형태를 달성하기 위하여 상기 외장 메모리는 휴대용 기록장치일 수 있으며, 외부로부 터 상기 제어 장치에 입력되거나 투입될 수 있는 것으로서, 상기 외장 메모리는 IC(integrated circuit) 카드 등의 독립적인 정보운반수단을 포함할 수 있다. 상기 정보운반수단은, 보안성 있는 전자기록매체, 예를 들어 전자적 ID 카드, IC 칩이 내장된 신분증, 보안 USIM 카드와 같이 인증의 당사자 외에 의하여 위조 및/또는 변조되기 곤란한 유형의 전자 키(electronic key)의 형태로 제공될 수 있다. 본 발명의 일 실시예에 따르면, 상기 통신부는, 적어도 하나의 상기 IoT 장치를 제어하도록 구성되는 제1 통신부, 인증 서버와 통신하여 상기 관리자 인증 정보 및 상기 사용자 인증 정보 중 적어도 하나 를 인증하는 절차를 수행하도록 구성되는 제2 통신부, 및 적어도 하나의 블록체인 네트워크에 연결되 어 블록의 업로드가 가능하도록 구성되는 제3 통신부 중 적어도 하나를 포함하도록 구성될 수 있다. 본 발명의 바람직한 일 실시예에 있어서, 상기 제1 통신부는 예를 들어, 블루투스, Wi-Fi, 이더넷, Zigbee, NFC를 포함하는 근거리 통신 방법이나, LTE/5G/6G 및 기간 인터넷망과 같은 광역 통신망에 연결됨으로 써 상기 IoT 장치와 통신할 수 있도록 구성되는 특징을 가지는 통신 기능부를 의미할 수 있다. 본 발명의 바람직한 일 실시예에 있어서, 상기 제2 통신부는 예를 들어, 양단간에 신뢰할 수 있는 보안 연 결, 이를테면 SSL에 의한 종단간 암호화와 같은 방법을 활용하여 신뢰할 수 있는 인증 서버와의 보안성 있 는 통신을 수행하도록 구성되는 특징을 가지는 통신 기능부를 의미할 수 있다. 본 발명의 바람직한 일 실시예에 있어서, 상기 제3 통신부는 예를 들어, 블록체인 네트워크에 포함되 는 적어도 하나의 다른 노드(node) 장치와 통신을 수행할 수 있도록 구성되는 통신부일 수 있고, 및/또는 상기 노드로서 동작하여 상기 블록체인 네트워크에 참여하기 위한 통신부일 수 있고, 상기 블록체인 네트워크 의 블록 정보의 적어도 일부분, 및/또는 특정 블록의 적어도 일부분을 저장하는 분산 원장의 일부로 동작 하기 위한 프로토콜을 제공하도록 구성되는 특징을 가지는 통신 기능부를 의미할 수 있다. 상기 제1, 제2, 제3 통신부(291, 292, 293)는 서로의 기능이 교환될 수 있다. 예를 들어, 상기 제1 통신부(29 1)의 통신 방법에 의하여 상기 인증 서버나 상기 블록체인과의 연계가 이루어질 수 있는 가능성은 부 정되지 아니한다. 또한, 상기 각각의 통신부(291, 292, 293)는 서로의 기능이 병합될 수 있다. 예를 들어, 상기 제1 통신부와 상기 제2 통신부가 실질적으로 하나로 구현되어 동일한 방법으로 동작하더라도 무방하 며, 그 밖에도 다양한 조합에 의한 병합 실시의 가능성은 부정되지 아니한다. 또한, 상기 각각의 통신부(291, 292, 293)는 각각 서로 다른 숫자의 복수개로 실시되어도 무방하다. 예를 들어, 상기 제1 통신부는 서로 다른 두 가지 유형의 IoT 장치와 통신하기 위하여 두 개의 분리된 통신 기능부로 중복 구성될 수 있으며, 그 밖에도 유사한 기능을 수행하는 통신 기능부가 상기 통신부의 범주에 포함되거나 포함되지 않는 형태로 상기 제어 장치에 구비될 수 있음은 쉽게 알 수 있을 것이다. 상기한 바와 같은, 본 발명의 일 실시예에 따른 적어도 하나의 사물인터넷(IoT) 장치를 제어하는 제어 장치를 위한 상호 인증 방법에 따르면, 상기 제어 장치는 도 3에 나타나는 절차를 통하여 상술한 바와 같이 IoT 시스템 에서 관리자의 신원 및/또는 권한을 인증하는 방법을 수행할 수 있다. 도 3에 나타나는 흐름도는 상기한 방법을 알기 쉽게 나타내는 하나의 사례에 해당하며, 방법을 구성하는 개별적 단계들은 본 발명의 기술적 사상에 위배 되지 않는 범위 내에서 선후가 변경되거나, 추가적인 단계를 더 가지거나, 일부 단계를 병합 또는 생략하거나, 사용되거나 교환되는 정보 및/또는 데이터의 내용 및 유형을 달리할 수 있다. 도 3은 본 발명의 일 실시예에 따른 IoT 제어 장치에 의한 관리자 상호 인증 방법을 나타내는 흐름도이다. 상기 관리자는 상기 제어 장치를 포함하는 IoT 시스템을 운영·관리하는 자로서, 상기 제어 장치와통신하여, 바람직하게는 공용망을 경유하지 않는 오프라인에서의 직접 통신을 통하여, 제1 인증 정보, 예를 들 어 패스워드나 지문 등의 검증을 통해, 시스템 운영자임을 선행 검증할 수 있다. 다음으로, 바람직하게는 공용 망 등을 경유하는 온라인으로, 인증 서버와 통신하여, IC카드를 포함하는 신뢰할 수 있는 내부 또는 외부 메모리에 저장된 인증서를 통한 신원 인증과 관리자로서의 권한 인증을 수행하고, 상기 인증의 결과에 의하여 상기 제어 장치를 관리·운용하거나, 관련된 IoT 장치의 사용자를 관리·인증할 수 있게 된다. 본 발명의 일 실시예에 따르면, IoT 시스템에 위치하는 IoT 제어 장치의 관리자는 상기 제어 장치 를 제어하기에 앞서 자신의 신원 및/또는 권한을 증명하기 위한 관리자 데이터를 등록할 수 있다. 상기 관 리자 데이터는 상기 제어 장치에 등록되는 제1 관리자 데이터와 인증 서버에 등록되는 제2 관리자 데 이터를 포함할 수 있다. 도 3에 도시되는 실시예에 따라 설명하면, 관리자는 제어 장치에 사전에 제1 관리자 데이터를 등록 (S310)할 수 있다. 상기 제1 관리자 데이터는, 상기 제어 장치에 대한 권한을 확보하기 위한 인증 데이터 로서, 예를 들면 스와이프 패턴(swipe pattern), 숫자로 이루어진 고정 길이 또는 가변 길이의 패스워드 (password), 및 숫자를 포함하는 다수 유형의 문자의 행렬로 이루어지는 고정 길이 또는 가변 길이의 패스워드 를 포함하는 개인식별기호(PIN); 및 상기 관리자의 지문, 홍채, 육성, 얼굴 형상, 특정 신체부위의 혈관형 태, 및 유전자 정보 중 적어도 하나에 해당하는 생체인증 정보 중 적어도 하나를 포함하는 제1 관리자 인증 정 보에 의하여 상기 관리자를 인증하기 위한 데이터를 의미할 수 있다. 상술한 바와 같이, 본 발명의 바람직 한 일 실시예에 따르면, 상기 제1 관리자 데이터는 상기 제어 장치가 오프라인인 상태에서 상기 관리자 와 상기 제어 장치 간의 직접 통신을 통해 등록되도록 구성될 수 있다. 이러한 구성은 상기 제어 장 치의 보안이 확보되지 않은 상태에서 외부 네트워크로부터의 공격에 노출될 가능성을 줄이는 이로운 효과 가 있다. 상기 제1 관리자 데이터 등록의 일 실시예로는, 패스워드의 지정이 있다. 상기 관리자는 상기 제어 장치 에 대한 물리적 권한을 획득하게 되면(가령, 최초로 상기 제어 장치를 구매하거나 인도받는 등), 상 기 제어 장치에 최초로 자신의 패스워드를 등록(S310)할 수 있다. 또는, 상기 제어 장치의 이전 소유 주 또는 제조자로부터 상기 제어 장치에 이미 설정되어 있는 초기 패스워드를 인계(S310a)받을 수도 있다. 이러한 예시를 통해 그 밖의 다양한 방법으로도 상기 관리자가 상기 제어 장치에 상기 제1 관리자 데 이터를 등록(S310)하는 단계가 실현될 수 있음을 알 수 있을 것이다. 또한, 관리자는 상기 인증 서버에 사전에 제2 관리자 데이터를 등록(S315)할 수 있다. 상기 제2 관리 자 데이터는, 상기 관리자의 신원을 인증하는 기능 및 상기 제어 장치에 대한 권한을 인증하는 기능 중 적어도 하나를 포함하는 기능을 가진 데이터일 수 있다. 상기 제2 관리자 데이터는, 대칭키, 개인키/공개키, 비대칭키, 해시(hash) 기반, 블록체인 및/또는 분산원장 기반, 영지식증명 기반, 및 양자-내성(quantum- resistant) 암/복호화 기술 기반중 적어도 하나에 기반하는 전자서명 인증을 실행하는 제2 관리자 인증 정보에 의하여 상기 관리자를 인증하기 위한 데이터를 의미할 수 있다. 상기 제2 관리자 데이터 등록의 일 실시예로는, 공개 키 인프라(PKI; personal key infrastructure) 방식에 의 한 키의 교환이 있다. 상기 관리자는 상기 인증 서버로부터 PKI 방식에 의한 인증용 키를 제2 관리자 인증 정보로서 발급(S315)받을 수 있다. 이 때, 상기 발급된 인증 정보에 대응하여 상기 인증 서버에는 비 밀키가 보존되어, 이후 상기 관리자가 상기 공개키를 사용하면 상기 관리자의 신원 등을 인증하는 데 이터로 활용될 수 있다. 이러한 예시를 통해 그 밖의 다양한 방법으로도 상기 관리자가 상기 인증 서버 에 상기 제2 관리자 데이터를 등록(S315)하는 단계가 실현될 수 있음을 알 수 있을 것이다. 한편, 상기 제2 관리자 데이터의 등록(S315)을 위하여, 상기 관리자는 상기 인증 서버와 직접 통신하 거나, 또는 상기 제어 장치를 경유하여 통신할 수 있으나, 어느 경우라 하여도 본 발명의 목적 달성에 지 장을 주지 아니한다. 본 발명의 일 실시예에 따르면, 상기 관리자는 상기 제어 장치를 제어하고자 하는 경우 자신이 보유 하고 있는 상기 제1 관리자 인증 정보를 상기 제어 장치에 송신(S320)할 수 있다. 이 때 상기 제어 장치 는 상기 제2 관리자 인증 정보를 상기 저장된 제1 관리자 데이터와 비교, 대조, 연산 중 적어도 하나의 방 법을 이용하여 정보처리하고, 및 상기 정보처리의 결과에 따라 상기 제1 관리자 인증 정보의 검증 성공 여부를 판단(S325)하도록 구성될 수 있다. 상기 정보처리의 방법은 상기 제1 관리자 인증 정보 및/또는 상기 제1 관리자 데이터의 유형에 따라 달라질 수 있는 것이다. 일 실시예를 나타내면, 상기 제1 관리자 인증 정보가 패스워드이고, 상기 제1 관리자 데이터가 상 기 패스워드를 상기 제어 장치에 보안성 있게 저장한 해시(hash) 값인 경우, 상기 정보처리는 상기 제1 관 리자 인증 정보인 패스워드에 해시 함수를 적용하여 상기 해시 값인 제1 관리자 정보와 일치하는지를 판단하는 것을 의미할 수 있다. 물론, 앞서 서술한 다양한 실시예에 의하여 지지되는 어떠한 다른 방법도 적용될 수 있으 며, 본 명세서에 기재되지 아니하였더라도 동일한 목적으로 공지된, 또는 장래에 개발되는 어떠한 유효한 방법 을 적용하더라도 무방하다. 상기 검증이 성공한 경우 상기 제어 장치는 상기 관리자로 하여금 신원 인증을 실행하기 위한 제2 관 리자 인증 정보를 송신할 것을 요청(S330)할 수 있다. 본 발명의 일 실시예에 따르면, 상기 관리자는 상기 요청(S330)에 응답하여, 또는 상기 제1 관리자 정보의 송신(S320) 단계와 동시에, 자신이 보유하고 있는 상기 제2 관리자 인증 정보를 상기 인증 서버에 송신 (S340)할 수 있다. 이 때 상기 인증 서버는 상기 제2 관리자 인증 정보를 상기 저장된 제2 관리자 데이터 와 비교, 대조, 연산, 및 암호학적 처리 중 적어도 하나의 방법을 이용하여 정보처리하고, 및 상기 정보처리의 결과에 따라 상기 제2 관리자 인증 정보의 검증 성공 여부를 판단(S345)하도록 구성될 수 있다. 상기 정보처리의 방법은 상기 제2 관리자 인증 정보 및/또는 상기 제2 관리자 데이터의 유형에 따라 달라질 수 있는 것이다. 일 실시예를 나타내면, 상기 제2 관리자 인증 정보가 공개키에 의해 전자서명된 인증 정보이고, 상기 제2 관리자 데이터가 상기 공개키에 대응하는 비밀키인 경우, 상기 정보처리는 상기 제1 관리자 인증 정보 를 상기 비밀키로 복호화하여 전자서명 값을 검증하는 것을 의미할 수 있다. 물론, 앞서 서술한 다양한 실시예 에 의하여 지지되는 어떠한 다른 방법도 적용될 수 있으며, 본 명세서에 기재되지 아니하였더라도 동일한 목적 으로 공지된, 또는 장래에 개발되는 어떠한 유효한 방법을 적용하더라도 무방하다. 한편, 상기 제2 관리자 인증 정보의 송신(S340)을 위하여, 상기 관리자는 상기 인증 서버와 직접 통 신하거나, 또는 상기 제어 장치를 경유하여 통신할 수 있으나, 어느 경우라 하여도 본 발명의 목적 달성에 지장을 주지 아니한다. 만약 제어 장치를 통하는 경우, 상기 제어 장치는 상기 제어 장치가 앞 서 상기 제1 관리자 인증 정보에 대한 검증을 성공했음에 대한 정보를 상기 제2 관리자 인증 정보와 함께 상기 인증 서버에 송신하도록 구성될 수 있다. 본 발명의 일 실시예에 따르면, 상기 인증 서버는 상기 제2 관리자 인증 정보에 의한 검증 결과(더하여, 상기 제1 관리자 인증 정보에 의한 검증 결과를 포함할 수 있다)에 기반하여 관리자 인증 키를 생성(S345)할 수 있다. 상기 인증 키는, 예를 들어, 상기 제1 관리자 인증 정보 및 상기 제2 관리자 인증 정보 중 적어도 하나를 포함하는 정보를 전자서명하여 생성되는 정보일 수 있다. 따라서, 상기 관리자 인증 키는 상기 제어 장치 와 상기 인증 서버이 상호적으로 상기 관리자를 인증하였음을 나타내는 데이터로서 활용될 수 있다. 상기 관리자 인증 키는 상기 제어 장치 및/또는 상기 관리자에게 송신(S350)될 수 있다. 바람직하게 는, 적어도 상기 제어 장치는 상기 인증 키를 수신하도록 구성될 수 있다. 도 4는 본 발명의 일 실시예에 따른 IoT 제어 장치에 의한 사용자 상호 인증 방법을 나타내는 흐름도이다. 상기 사용자는 상기 제어 장치가 속하는 IoT 시스템에 포함된 적어도 하나의 IoT 장치를 사용하고자 하는 자로서, 상기 제어 장치와 통신하여, 바람직하게는 공용망을 경유하지 않는 오프라인에서의 직접 통신을 통하여, 제1 인증 정보, 예를 들어 패스워드나 지문 등의 검증을 통해, 승인된 사용자임을 선행 검증할 수 있다. 다음으로, 바람직하게는 공용망 등을 경유하는 온라인으로, 인증 서버와 통신을 통하여, IC카드를 포함하는 신뢰할 수 있는 내부 또는 외부 메모리에 저장된 인증서를 통한 신원 인증과 IoT 장치에 대한 사용 권 한 인증을 수행하고, 상기 인증의 결과에 의하여 상기 제어 장치를 경유하여 관련된 IoT 장치를 사용할 수 있게 된다. 본 발명의 일 실시예에 따르면, IoT 시스템에 위치하는 IoT 제어 장치의 사용자는 상기 제어 장치 를 사용하기에 앞서 자신의 신원 및/또는 권한을 증명하기 위한 사용자 데이터를 등록할 수 있다. 이 때, 상기 사용자는 상기 제어 장치의 관리자에게 사용자 데이터를 등록하기 위한 승인 요청(S410)을 보낼 수 있다. 상기 관리자는, 앞서 도 3의 실시예를 참조하여 설명한 것과 같이, 상기 제어 장치에 대한 관리 권한을 인증하고, 상기 승인 요청(S410)을 접수할 수 있다. 상기 관리자의 승인에 기반하여 상 기 사용자가 등록하는 상기 사용자 데이터는, 상기 제어 장치에 등록되는 제1 사용자 데이터와 인증 서버에 등록되는 제2 사용자 데이터를 포함할 수 있다. 도 4에 도시되는 실시예에 따라 설명하면, 사용자는 제어 장치에 사전에 제1 사용자 데이터를 등록 (S412)할 수 있다. 상기 제1 사용자 데이터는, 상기 제어 장치를 통하여 적어도 하나의 IoT 장치를 사용하 기 위한 사용자 인증 데이터로서, 예를 들면 스와이프 패턴(swipe pattern), 숫자로 이루어진 고정 길이 또는 가변 길이의 패스워드(password), 및 숫자를 포함하는 다수 유형의 문자의 행렬로 이루어지는 고정 길이 또는 가변 길이의 패스워드를 포함하는 개인식별기호(PIN); 및 상기 사용자의 지문, 홍채, 육성, 얼굴 형상, 특 정 신체부위의 혈관형태, 및 유전자 정보 중 적어도 하나에 해당하는 생체인증 정보 중 적어도 하나를 포함하는 제1 사용자 인증 정보에 의하여 상기 사용자를 인증하기 위한 데이터를 의미할 수 있다. 상술한 바와 같이, 본 발명의 바람직한 일 실시예에 따르면, 상기 제1 사용자 데이터는 상기 제어 장치가 오프라인인 상태에서 상기 사용자와 상기 제어 장치 간의 직접 통신을 통해 등록되도록 구성될 수 있다. 이러한 구성은 상기 제어 장치의 보안이 확보되지 않은 상태에서 외부 네트워크로부터의 공격에 노출될 가능성을 줄이는 이로운 효과가 있다. 상기 제1 사용자 데이터 등록의 일 실시예로는, 패스워드의 지정이 있다. 상기 사용자는 상기 관리자(40 5)의 안내에 따라, 상기 제어 장치에 최초로 자신의 패스워드를 등록(S412)할 수 있다. 또는, 상기 관리자 로부터 상기 제어 장치에 이미 설정되어 있는 초기 패스워드를 인계받을 수도 있다. 이러한 예시를 통해 그 밖의 다양한 방법으로도 상기 사용자가 상기 제어 장치에 상기 제1 사용자 데이터를 등록 (S412)하는 단계가 실현될 수 있음을 알 수 있을 것이다. 본 발명의 실시예에 따라서는, 상기 제1 사용자 데이터를 등록할 때, 상기 사용자는 상기 제1 사용자 데이 터와 함께 상기 관리자로부터 전달받은 승인 정보를 함께 입력하여, 정당한 관리자의 승인을 받은 등록임 을 증명하도록 요구될 수 있다. 실시예에 따라, 상기 승인 정보는 도 3의 단계 S350와 같은 단계에서 상기 관리 자가 제공받은 관리자 인증 키, 또는 그로부터 유래하였거나, 또는 그에 대응하는 정보를 포함할 수 있다. 또한, 사용자는 상기 인증 서버에 사전에 제2 사용자 데이터를 등록(S415)할 수 있다. 상기 제2 사용 자 데이터는, 상기 사용자의 신원을 인증하는 기능 및 적어도 하나의 IoT 장치에 대한 사용 권한을 인증하 는 기능 중 적어도 하나를 포함하는 기능을 가진 데이터일 수 있다. 상기 제2 사용자 데이터는, 대칭키, 개인키 /공개키, 비대칭키, 해시(hash) 기반, 블록체인 및/또는 분산원장 기반, 영지식증명 기반, 및 양자-내성 (quantum-resistant) 암/복호화 기술 기반중 적어도 하나에 기반하는 전자서명 인증을 실행하는 제2 사용자 인 증 정보에 의하여 상기 사용자를 인증하기 위한 데이터를 의미할 수 있다. 상기 제2 사용자 데이터 등록의 일 실시예로는, 공개 키 인프라(PKI; personal key infrastructure) 방식에 의 한 키의 교환이 있다. 상기 사용자는 상기 인증 서버로부터 PKI 방식에 의한 인증용 키를 제2 사용자 인증 정보로서 발급(S415)받을 수 있다. 이 때, 상기 발급된 인증 정보에 대응하여 상기 인증 서버에는 비 밀키가 보존되어, 이후 상기 사용자가 상기 공개키를 사용하면 상기 사용자의 신원 등을 인증하는 데 이터로 활용될 수 있다. 이러한 예시를 통해 그 밖의 다양한 방법으로도 상기 사용자가 상기 인증 서버 에 상기 제2 사용자 데이터를 등록(S415)하는 단계가 실현될 수 있음을 알 수 있을 것이다. 본 발명의 실시예에 따라서는, 상기 제2 사용자 데이터를 등록할 때, 상기 사용자는 상기 제1 사용자 데이 터와 함께 상기 관리자로부터 전달받은 승인 정보를 함께 입력할 수 있으며, 그 실시예의 범주는 상기 제1 사용자 데이터의 등록의 경우와 유사하거나 동일할 수 있다. 한편, 상기 제2 사용자 데이터의 등록(S415)을 위하여, 상기 사용자는 상기 인증 서버와 직접 통신하 거나, 또는 상기 제어 장치를 경유하여 통신할 수 있으나, 어느 경우라 하여도 본 발명의 목적 달성에 지 장을 주지 아니한다. 본 발명의 일 실시예에 따르면, 상기 사용자는 상기 제어 장치를 통해 어떠한 IoT 장치를 제어하고자 하는 경우, 자신이 보유하고 있는 상기 제1 사용자 인증 정보를 상기 제어 장치에 송신(S420)할 수 있다. 이 때 상기 제어 장치는 상기 제2 사용자 인증 정보를 상기 저장된 제1 사용자 데이터와 비교, 대조, 연산 중 적어도 하나의 방법을 이용하여 정보처리하고, 및 상기 정보처리의 결과에 따라 상기 제1 사용자 인증 정보 의 검증 성공 여부를 판단(S425)하도록 구성될 수 있다. 상기 정보처리의 방법은 상기 제1 사용자 인증 정보 및/또는 상기 제1 사용자 데이터의 유형에 따라 달라질 수 있는 것으로서, 그 실시예의 범주는 앞서 도 3을 참조하여 제1 관리자 인증 정보 및 제1 관리자 데이터 간의 정 보처리와 관련해 나타낸 실시예를 준용할 수 있다. 물론, 앞서 서술한 다양한 실시예에 의하여 지지되는 어떠한 다른 방법도 적용될 수 있으며, 본 명세서에 기재되지 아니하였더라도 동일한 목적으로 공지된, 또는 장래에 개 발되는 어떠한 유효한 방법을 적용하더라도 무방하다.상기 검증이 성공한 경우 상기 제어 장치는 상기 사용자로 하여금 신원 인증을 실행하기 위한 제2 사 용자 인증 정보를 송신할 것을 요청(S430)할 수 있다. 본 발명의 일 실시예에 따르면, 상기 사용자는 상기 요청(S430)에 응답하여, 또는 상기 제1 관리자 정보의 송신(S420) 단계와 동시에, 자신이 보유하고 있는 상기 제2 사용자 인증 정보를 상기 인증 서버에 송신 (S440)할 수 있다. 이 때 상기 인증 서버는 상기 제2 사용자 인증 정보를 상기 저장된 제2 사용자 데이터 와 비교, 대조, 연산, 및 암호학적 처리 중 적어도 하나의 방법을 이용하여 정보처리하고, 및 상기 정보처리의 결과에 따라 상기 제2 사용자 인증 정보의 검증 성공 여부를 판단(S445)하도록 구성될 수 있다. 상기 정보처리의 방법은 상기 제2 사용자 인증 정보 및/또는 상기 제2 사용자 데이터의 유형에 따라 달라질 수 있는 것으로서, 그 실시예의 범주는 앞서 도 3을 참조하여 제2 관리자 인증 정보 및 제2 관리자 데이터 간의 정 보처리와 관련해 나타낸 실시예를 준용할 수 있다. 물론, 앞서 서술한 다양한 실시예에 의하여 지지되는 어떠한 다른 방법도 적용될 수 있으며, 본 명세서에 기재되지 아니하였더라도 동일한 목적으로 공지된, 또는 장래에 개 발되는 어떠한 유효한 방법을 적용하더라도 무방하다. 한편, 상기 제2 사용자 인증 정보의 송신(S440)을 위하여, 상기 사용자는 상기 인증 서버와 직접 통 신하거나, 또는 상기 제어 장치를 경유하여 통신할 수 있으나, 어느 경우라 하여도 본 발명의 목적 달성에 지장을 주지 아니한다. 만약 제어 장치를 통하는 경우, 상기 제어 장치는 상기 제어 장치가 앞 서 상기 제1 사용자 인증 정보에 대한 검증을 성공했음에 대한 정보를 상기 제2 사용자 인증 정보와 함께 상기 인증 서버에 송신하도록 구성될 수 있다. 본 발명의 일 실시예에 따르면, 상기 인증 서버는 상기 제2 사용자 인증 정보에 의한 검증 결과(더하여, 상기 제1 사용자 인증 정보에 의한 검증 결과를 포함할 수 있다)에 기반하여 사용자 인증 키를 생성(S445)할 수 있다. 상기 인증 키는, 예를 들어, 상기 제1 사용자 인증 정보 및 상기 제2 사용자 인증 정보 중 적어도 하나를 포함하는 정보를 전자서명하여 생성되는 정보일 수 있다. 따라서, 상기 사용자 인증 키는 상기 제어 장치 와 상기 인증 서버이 상호적으로 상기 사용자를 인증하였음을 나타내는 데이터로서 활용될 수 있다. 본 발명의 다른 일 실시예에 따르면, 상기 사용자 인증 키는, 상기 제1 사용자 인증 정보, 상기 제2 사용자 인 증 정보, 및 상기 관리자 인증 키를 포함하는 정보를 전자서명하여 생성되는 정보일 수 있다. 이러한 경우, 따 라서, 상기 사용자 인증 키는 상기 제어 장치, 상기 인증 서버, 및 상기 관리자가 더욱 상호적 으로 상기 사용자를 인증하였음을 나타내는 데이터로서 활용될 수 있다. 상기 사용자 인증 키는 상기 제어 장치 및/또는 상기 관리자에게 송신(S450)될 수 있다. 바람직하게 는, 적어도 상기 제어 장치는 상기 인증 키를 수신하도록 구성될 수 있다. 상기 제어 장치는, 상기 인증 키에 기반하여 상기 사용자에 의한 IoT 장치의 사용 요청에 대응하도록 구성될 수 있다. 상기 관리자 인증 및 사용자 인증을 통하여, 상기 관리자의 신원과 제어 장치에 대한 권한, 및 상기 사용자의 신원과 특정 IoT 장치에 대한 권한이 모두 상호 인증될 수 있다. 상기 인증은 상술한 바와 같이 제어 장치에 제 공되는 IC 카드 등에 저장된 데이터의 정보처리를 통한 오프라인 검증과, 인증 서버와의 통신을 통해 수행되는 온라인 검증 등을 거쳐 각 관계자 간에 이루어질 수 있다. 이러한 인증은, 도 1을 참조하면, 상호 인증 체계인 도메인 A에서의 인증에 해당하는 것으로 볼 수 있다. 본 발명의 일 실시예에 따르면, 상기와 같은 인증 내 역에 대하여 블록체인 네트워크로 구성된 도메인 B를 통해 중복으로 인증을 처리함으로써, 상기 인증 내역 에 대한 위변조를 차단하는 더욱 강화된 상호 인증 구조를 형성할 수 있다. 도 5는 본 발명의 일 실시예에 따른 블록체인 상호 인증을 위한 머클 트리 초기값의 사용에 대한 개념도이다. 본 발명의 일 실시예에 따르면, 상기 제어 장치는, 관리자 인증 키 및 사용자 인증 키를 포함하는 정 보로부터 상기 머클 트리(merkle tree) 초기값을 생성하도록 구성될 수 있다. 일 실시예에 따르면, 상기 관리자 인증 키와 상기 사용자 인증 키는 상기 제어 장치 내부에서 병합연산을 통해 결합됨으로써 머클 트리 초기값을 형성하도록 구성될 수 있다. 상기 병합연산의 방법은 두 값의 병합을 통해 고유한 계산 결과값을 도출해 내는 연산이라면 어떠한 것이 라도 무방하며, 바람직하게는 두 값을 단순연결(Concatenation)하는 연산이 적용될 수 있다. 그러나 그 외에 가 산, 감산, 비트 단위의 AND 연산, OR 연산, XOR 연산, Shift연산, 또는 상기 나열된 연산 또는 그 외의 논리적 또는 수학적 연산이 하나 이상 결합된 병합용 함수를 적용하는 등의 방법을 취할 수 있으며, 통상의 기술자가 그 밖에도 다양한 방법을 선택할 수 있음은 자명하다.상기 머클 트리 초기값의 정보는 비트 단위에서 n개로 분할되어 n개의 분할 초기값을 획득하기 위하여 사용될 수 있다. 예를 들어서, 상기 머클 트리 초기값이 256비트, 즉 8바이트인 경우, 8개의 분할 초기 값을 획득하기 위하여 각각 8비트, 즉 1바이트의 길이로 분할되는 것과 같이 분할될 수 있다. 이 외에도 하나의 정보 값으로부터 복수의 분할 값을 무결성이 유지되는 방법으로 도출하는 여하의 방법이 적용될 수 있다. 상기 각각의 분할 초기값은 상기 적어도 하나의 IoT 장치 각각에 할당될 수 있다. 상기 절차를 통해, 상기 머클 트리 초기값을 이용하여 상기 IoT 장치 각각을 증명하는 초기값이 생성될 수 있다. 도 6은 본 발명의 일 실시예에 따른 블록체인 상호 인증을 위한 머클 트리의 생성에 대한 개념도이다. 상기 IoT"}
{"patent_id": "10-2023-0077575", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "장치 각각에 대한 정보는, 블록체인에 의하여 상호 인증되기 위하여 머클 트리에 의하여 요약될 수 있다. 본 발명의 일 실시예에 따른 머클 트리의 형성 방법은 다음과 같은 방법을 포함할 수 있다. 먼저, 상기 각각의 분할 초기값에 해시(hash)함수를 적용하여, 머클 트리의 리프 노드(leaf node) 값을 생성할 수 있다. 다음으로, 상기 리프 노드의 값을 이진 트리(binary tree)에 할당하고, 상기 이진 트리에서의 반복적 해시 연산을 통하여 머클 트리를 생성할 수 있다. 이어서, 상기 반복적 해시 연산이 수렴하는 루트 노드(root node)의 값에 기 반하여 상기 머클 트리의 루트 키 값이 획득될 수 있다. 도 7은 본 발명의 일 실시예에 따른 블록체인 상호 인증을 위한 블록 데이터 구조에 대한 개념도이다. 본 발명 의 일 실시예에 따르면, 트랜잭션(transaction)등의 수단을 활용하여 블록체인에 블록으로서 업데이트(update) 및/또는 업로드(upload)되는 정보를 통하여, 상술한 도메인 B에서의 상호 인증 및 무결성 보증이 가능하게 될 수 있다. 이를 위하여, 상기 머클 트리의 루트 키 값은 제어 장치 블록에 포함되어 하나의 블록을 구 성할 수 있다. 상기 루트 키 값은 상술한 바와 같이 상기 머클 트리 초기값으로부터 유래하는 값으로부터 계산된 것일 수 있다. 상기 루트 키 값의 도출이 가능한 본래의 블록 데이터는, 상기 사용자 인증 키 값, 상기 머클 트리 초기값, 상기 분할 초기값, 상기 적어도 하나의 리프 노드 값, 상기 루트 키 값 중 적어도 하나를 포함하거나 그로부터 유래하는 정보일 수 있음을 쉽게 이해할 수 있다. 또한, 상기 블록에는 통상적인 블록체인 블록에 기대되는 무결성 검증을 위한 보조적 데이터, 예를 들어 타임스 탬프(timestamp)나 넌스(nonce)와 같은 정보가 더 포함될 수 있다. 또한, 상기 블록에는 블록체인 블 록 간의 상호 위변조 방지 및 무결성 보장을 위한 방법으로서 선행 해시 값이 포함될 수 있다. 상기 선행 해시 값은 상위의 또는 선행하여 생성된 블록의 전체 데이터(제어 장치 블록을 예로 들면, 해당 블록에 포 함된 일체 데이터(710, 720, 730, 740, 750)를 모두 포함할 수 있다)를 해시 함수에 투입하여 생성된 값을 의미 할 수 있다. 이러한 선행 해시 값은, 도 7에 나타나듯이, 제어 장치 블록에 후행하는 제2블록이 상위 블록인 상기 제어 장치 블록의 해시 값을 포함하고, 다시 후행하는 제3블록이 상위 블록인 상기 제2블록의 해시 값을 포함하는 형태로 구성됨으로써, 선행 블록의 무단 위변조 시 해시 체인이 파괴되도록 함으로써 데이터의 위변조를 방지하는 효과를 제공할 수 있다. 이상 본 발명에 대하여 도면 및 실시예를 참조하여 설명하였으나, 이미 상술한 바와 같이 본 발명의 보호범위가 상기 제시된 도면 또는 실시예에 의해 한정되는 것을 의미하지는 않으며, 해당 기술 분야의 숙련된 당업자는 하 기의 특허 청구의 범위에 기재된 본 발명의 사상 및 영역으로부터 벗어나지 않는 범위 내에서 본 발명을 다양하 게 수정 및 변경시킬 수 있음을 이해할 수 있을 것이다.도면 도면1 도면2 도면3 도면4 도면5 도면6 도면7"}
{"patent_id": "10-2023-0077575", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 사물인터넷(IoT) 장치를 제어하기 위한 제어 시스템에 대한 개념도, 도 2는 본 발명의 일 실시예에 따른 IoT 제어 장치의 구조에 대한 블록도, 도 3은 본 발명의 일 실시예에 따른 IoT 제어 장치에 의한 관리자 상호 인증 방법을 나타내는 흐름도, 도 4는 본 발명의 일 실시예에 따른 IoT 제어 장치에 의한 사용자 상호 인증 방법을 나타내는 흐름도, 도 5는 본 발명의 일 실시예에 따른 블록체인 상호 인증을 위한 머클 트리 초기값의 사용에 대한 개념도, 도 6은 본 발명의 일 실시예에 따른 블록체인 상호 인증을 위한 머클 트리의 생성에 대한 개념도, 도 7은 본 발명의 일 실시예에 따른 블록체인 상호 인증을 위한 블록 데이터 구조에 대한 개념도이다."}
