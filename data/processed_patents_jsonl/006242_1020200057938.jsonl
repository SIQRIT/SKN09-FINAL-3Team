{"patent_id": "10-2020-0057938", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2021-0140985", "출원번호": "10-2020-0057938", "발명의 명칭": "콥 각도 측정 방법 및 시스템, 콥 각도 측정 프로그램", "출원인": "가천대학교 산학협력단", "발명자": "김광기"}}
{"patent_id": "10-2020-0057938", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "프로세서를 포함하는 장치에 의해 수행되는 척추측만증 진단 방법에 있어서,상기 프로세서가 엑스레이 이미지 데이터를 수신하는 단계;상기 프로세서가 상기 이미지를 복수의 패치 이미지들로 분할하는 단계;상기 프로세서가 상기 패치 이미지를 인공지능 알고리즘에 적용하여 척추 영역을 검출하는 단계; 상기 프로세서가 상기 분할된 복수의 패치 이미지들을 결합하는 단계;상기 프로세서가 상기 검출된 척추 영역을 레이블링하는 단계; 및상기 프로세서가 상기 레이블링된 척추 영역을 이용하여 콥(Cobb's) 각도를 측정하는 단계;를 포함하는 콥 각도측정 방법."}
{"patent_id": "10-2020-0057938", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서, 상기 프로세서가 상기 레이블링된 척추 영역 중 위양성으로 판단되는 척추 영역을 제거하는 단계를 더 포함하는콥 각도 측정 방법."}
{"patent_id": "10-2020-0057938", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 프로세서가 상기 레이블링된 척추 영역 중 위양성으로 판단되는 척추 영역을 제거하는 단계는,각 레이블링된 척추 영역들의 넓이가 전체 척추 영역들에 대한 평균 넓이의 0.5 크기 미만인 것은 위양성 척추영역인 것으로 판단하는 것인 콥 각도 측정 방법."}
{"patent_id": "10-2020-0057938", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 프로세서가 콥(Cobb's) 각도를 측정하는 단계는,상기 프로세서가 상기 레이블링된 척추 영역 중 순서가 첫번 째인 제1 척추와 가장 마지막의 제n 척추의 중심점을 기초로 척추 중심축을 구현하는 단계;상기 프로세서가 상기 척추 중심축과 상기 레이블링된 척추 간의 거리 산출하는 단계;상기 프로세서가 상기 척추 중심축과 상기 레이블링된 척추 간의 거리(d)가 가장 큰 척추를 Apex 척추로 설정하는 단계;상기 프로세서가 이웃하는 척추들 사이의 중심점을 연결하는 직선의 각도를 산출하는 단계; 상기 프로세서가 상기 Apex 척추를 기준으로 제1 방향에 위치한 척추 영역 중 가장 휘어 있는 제3 척추와, 상기 제1 방향과 반대 방향인 제2 방향에 위치한 척추 영역 중 가장 휘어 있는 제4 척추를 선택하는 단계; 및상기 프로세서가 상기 제3 척추가 가로 방향로 연장되는 제1라인과 상기 제4 척추가 가로 방향으로 연장되는 제2 라인이 접할 때의 사이각을 콥(Cobb's) 각도로 측정하는 단계;를 포함하는 콥 각도 측정 방법."}
{"patent_id": "10-2020-0057938", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서, 공개특허 10-2021-0140985-3-상기 제3 척추 및 상기 제4 척추는 이웃하는 척추에서 상기 직선의 각도의 차이가 가장 큰 것을 기초로 선택되는 것을 특징으로 하는 콥 각도 측정 방법."}
{"patent_id": "10-2020-0057938", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "엑스레이 촬영부; 상기 엑스레이 촬영부에서 획득한 엑스레이 영상을 처리하는 프로세서를 포함하고, 상기 프로세서는, 상기 엑스레이 촬영부로부터 엑스레이 이미지 데이터를 수신하고,상기 이미지를 복수의 패치 이미지들로 분할하며;상기 패치 이미지를 인공지능 알고리즘에 적용하여 척추 영역을 검출하고; 상기 분할된 복수의 패치 이미지들을 결합하며;상기 검출된 척추 영역을 레이블링하고; 상기 레이블링된 척추 영역을 이용하여 콥(Cobb's) 각도를 측정하는, 콥 각도 측정 시스템."}
{"patent_id": "10-2020-0057938", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서, 상기 프로세서는, 상기 레이블링된 척추 영역 중 위양성으로 판단되는 척추 영역을 제거하는 것을 특징으로 하는 콥 각도 측정 시스템."}
{"patent_id": "10-2020-0057938", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7항에 있어서, 상기 프로세서가 상기 레이블링된 척추 영역 중 위양성으로 판단되는 척추 영역을 제거하는 것은,각 레이블링된 척추 영역들의 넓이가 전체 척추 영역들에 대한 평균 넓이의 0.5 크기 미만인 것은 위양성 척추영역인 것으로 판단하는 것인 콥 각도 측정 시스템."}
{"patent_id": "10-2020-0057938", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제6항에 있어서, 상기 콥(Cobb's) 각도를 측정하는 것은,상기 프로세서가 상기 레이블링된 척추 영역 중 순서가 첫번 째인 제1 척추와 가장 마지막의 제n 척추의 중심점을 기초로 척추 중심축을 구현하여;상기 프로세서가 상기 척추 중심축과 상기 레이블링된 척추 간의 거리 산출하고;상기 프로세서가 상기 척추 중심축과 상기 레이블링된 척추 간의 거리(d)가 가장 큰 척추를 Apex 척추로 설정하며;상기 프로세서가 이웃하는 척추들 사이의 중심점을 연결하는 직선의 각도를 산출하고; 상기 프로세서가 상기 Apex 척추를 기준으로 제1 방향에 위치한 척추 영역 중 가장 휘어 있는 제3 척추와, 상기 제1 방향과 반대 방향인 제2 방향에 위치한 척추 영역 중 가장 휘어 있는 제4 척추를 선택하며; 상기 프로세서가 상기 제3 척추가 가로 방향로 연장되는 제1라인과 상기 제4 척추가 가로 방향으로 연장되는 제2 라인이 접할 때의 사이각을 콥(Cobb's) 각도로 측정하는 것을 특징으로 하는 콥 각도 측정 시스템."}
{"patent_id": "10-2020-0057938", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서, 상기 제3 척추 및 상기 제4 척추는 이웃하는 척추에서 상기 직선의 각도의 차이가 가장 큰 것을 기초로 선택되공개특허 10-2021-0140985-4-는 것을 특징으로 하는 콥 각도 측정 시스템."}
{"patent_id": "10-2020-0057938", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "프로세서와 결합되어, 컴퓨터로 판독가능한 기록 매체에 저장된 콥 각도 자동 측정 프로그램에 있어서,상기 프로세서는 상기 기록 매체에 저장된 오퍼레이션을 수행하며,상기 기록 매체는,엑스레이 이미지 데이터를 수신하는 오퍼레이션;상기 이미지를 복수의 패치 이미지들로 분할하는 오퍼레이션;상기 패치 이미지를 인공지능 알고리즘에 적용하여 척추 영역을 검출하는 오퍼레이션; 상기 분할된 복수의 패치 이미지들을 결합하는 오퍼레이션;상기 검출된 척추 영역을 레이블링하는 오퍼레이션; 및상기 레이블링된 척추 영역을 이용하여 콥(Cobb's) 각도를 측정하는 오퍼레이션;을 포함하는 콥 각도 측정 프로그램."}
{"patent_id": "10-2020-0057938", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제11항에 있어서, 상기 기록 매체는,상기 레이블링된 척추 영역 중 위양성으로 판단되는 척추 영역을 제거하는 오퍼레이션을 더 포함하는 콥 각도측정 프로그램."}
{"patent_id": "10-2020-0057938", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제12항에 있어서, 상기 레이블링된 척추 영역 중 위양성으로 판단되는 척추 영역을 제거하는 오퍼레이션은,각 레이블링된 척추 영역들의 넓이가 전체 척추 영역들에 대한 평균 넓이의 0.5 크기 미만인 것은 위양성 척추영역인 것으로 판단하는 것인 콥 각도 측정 프로그램."}
{"patent_id": "10-2020-0057938", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제11항에 있어서, 상기 콥(Cobb's) 각도를 측정하는 오퍼레이션은,상기 레이블링된 척추 영역 중 순서가 첫번 째인 제1 척추와 가장 마지막의 제n 척추의 중심점을 기초로 척추중심축을 구현하는 오퍼레이션;상기 척추 중심축과 상기 레이블링된 척추 간의 거리 산출하는 오퍼레이션;상기 척추 중심축과 상기 레이블링된 척추 간의 거리(d)가 가장 큰 척추를 Apex 척추로 설정하는 오퍼레이션;이웃하는 척추들 사이의 중심점을 연결하는 직선의 각도를 산출하는 오퍼레이션; 상기 Apex 척추를 기준으로 제1 방향에 위치한 척추 영역 중 가장 휘어 있는 제3 척추와, 상기 제1 방향과 반대 방향인 제2 방향에 위치한 척추 영역 중 가장 휘어 있는 제4 척추를 선택하는 오퍼레이션; 및상기 제3 척추가 가로 방향로 연장되는 제1라인과 상기 제4 척추가 가로 방향으로 연장되는 제2 라인이 접할 때의 사이각을 콥(Cobb's) 각도로 측정하는 오퍼레이션;을 포함하는 콥 각도 측정 프로그램."}
{"patent_id": "10-2020-0057938", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제14항에 있어서, 상기 제3 척추 및 상기 제4 척추는 이웃하는 척추에서 상기 직선의 각도의 차이가 가장 큰 것을 기초로 선택되공개특허 10-2021-0140985-5-는 것을 특징으로 하는 콥 각도 측정 프로그램."}
{"patent_id": "10-2020-0057938", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 엑스레이 영상을 이용하여 척추 측만증의 휘어진 정도를 측정하는 콥 각도를 자동으로 측정할 수 있는 방법 및 그 시스템에 관한 것으로, 본 발명의 일 실시예에 따른 콥 각도 측정 방법은, 프로세서가 엑스레이 이미 지 데이터를 수신하는 단계; 상기 프로세서가 상기 이미지를 복수의 패치 이미지들로 분할하는 단계; 상기 프로 세서가 상기 패치 이미지를 인공지능 알고리즘에 적용하여 척추 영역을 검출하는 단계; 상기 프로세서가 상기 분할된 복수의 패치 이미지들을 결합하는 단계; 상기 프로세서가 상기 검출된 척추 영역을 레이블링하는 단계; 및 상기 프로세서가 상기 레이블링된 척추 영역을 이용하여 콥(Cobb's) 각도를 측정하는 단계;를 포함할 수 있다."}
{"patent_id": "10-2020-0057938", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 콥 각도 측정 방법 및 시스템에 관한 것으로, 더욱 상세하게는 엑스레이 영상을 이용하여 척추 측만 증의 휘어진 정도를 측정하는 콥 각도를 자동으로 측정할 수 있는 방법 및 그 시스템에 관한 것이다."}
{"patent_id": "10-2020-0057938", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "척추 질환 중의 하나인 척추 측만증은 척추가 좌우로 만곡되어 그 형태가 변하는 질환을 말한다. 만곡의 정도에 따라 외관상의 문제점이나 통증의 원인이 되고 병이 심한 경우 수술적 치료까지 요구된다. 척추 측만증의 만곡을 측정하는 방법으로는 콥 각도(Cobb angle)를 측정하는 방법이 많이 이용된다. 이러한 콥 각도는 척추의 휘어진 정도를 측정하는 것이고, 측정된 콥 각도에 따라 의사가 환자에게 어떤 치료가 필요한지 결정하는 중요한 요소로 제공된다. 예컨대 만곡의 각도가 10° 이상이면 척추 측만증으로 진단하고, 40° 이상 일 경우 교정 수술이 필요한 것으로 진단한다. 변형이 심한 경우 주위의 장기를 전위시키거나 압박하여 기능 장 애를 초래하고 수명을 단축시킬 수 있기 때문이다. 콥각도를 측정하는 방법은 만곡이 가장 오목한 부분을 기준으로 기울어짐이 시작되는 상단 척추판 및 하단 척추 판을 각각 결정하고, 상기 상단 척추판 및 하단 척추판의 각 상단의 연장선을 긋고, 각 연장선들의 직각선들 사 이의 각을 콥 각도로 측정하고 있다. 하지만, 상기한 방법으로 콥 각도를 측정하기 위해서는 이를 위한 별도의 장치가 필요하였다. 또한, 콥 각도를 측정하기 위한 상단 척추판 및 하단 척추판과, 상기 상단 척추판 및 하단 척추판과 평행인 선 을 지정해줘야 하는 번거로움이 존재한다. 또한 종래의 수동적인 콥 각도 측정 방법은 환자의 촬영 자세에 따른 해부학적 편차 및 방사선 영상의 낮은 조 직 대조도로 인하여 콥 각도 측정이 어려운 한계가 존재한다. 또한, 현재의 콥 각도 측정 방법의 경우 X-ray 영상에서 의사가 직접 척추 라인을 지정하기 때문에 진단 의사에 따라 콥 각도의 오차가 발생할 수 있는 문제가 있다. 결국 척추 측만증 진단에 정확도가 떨어지는 또 다른 문제 를 초래하는 원인이 된다. 선행기술문헌 특허문헌 (특허문헌 0001) (CN) 공개특허 제 110353629 호 (특허문헌 0002) (KR) 공개특허 제 10-2020-0026494 호"}
{"patent_id": "10-2020-0057938", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 상기 문제점을 해결하기 위해 안출된 것으로서, 전후 방향 엑스레이 이미지 데이터를 활용하여 자동 으로 척추 영역을 추출하고 콥 각도를 측정하는 방법 및 시스템을 제안하고자 한다. 본 발명의 기술적 과제들은 이상에서 언급한 기술적 과제들로 제한되지 않으며, 언급되지 않은 또 다른 기술적 과제들은 아래의 기재로부터 통상의 기술자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2020-0057938", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 일 실시예에 따른 콥 각도 측정 방법은, 프로세서를 포함하는 장치에 의해 수행되는 척추측만증 진단 방법으로, 상기 프로세서가 엑스레이 이미지 데이터를 수신하는 단계; 상기 프로세서가 상기 이미지를 복수의 패치 이미지들로 분할하는 단계; 상기 프로세서가 상기 패치 이미지를 인공지능 알고리즘에 적용하여 척추 영역을 검출하는 단계; 상기 프로세서가 상기 분할된 복수의 패치 이미지들을 결합하는 단계; 상기 프로세서가 상기 검출된 척추 영역을 레이블링하는 단계; 및 상기 프로세서가 상기 레이블링된 척추 영역을 이용하여 콥(Cobb's) 각도를 측정하는 단계;를 포함할 수 있다. 본 발명의 일 실시예에 따른 콥 각도 측정 방법은, 상기 프로세서가 상기 레이블링된 척추 영역 중 위양성으로 판단되는 척추 영역을 제거하는 단계를 더 포함할 수 있다. 본 발명의 일 실시예에 따른 콥 각도 측정 방법에서 상기 프로세서가 상기 레이블링된 척추 영역 중 위양성으로 판단되는 척추 영역을 제거하는 단계는, 각 레이블링된 척추 영역들의 넓이가 전체 척추 영역들에 대한 평균 넓이의 0.5 크기 미만인 것은 위양성 척추 영역인 것으로 판단할 수 있다. 본 발명의 일 실시예에 따른 콥 각도 측정 방법에서, 상기 프로세서가 콥(Cobb's) 각도를 측정하는 단계는, 상기 프로세서가 상기 레이블링된 척추 영역 중 순서가 첫번 째인 제1 척추와 가장 마지막의 제n 척추의 중심점 을 기초로 척추 중심축을 구현하는 단계; 상기 프로세서가 상기 척추 중심축과 상기 레이블링된 척추 간의 거리 산출하는 단계; 상기 프로세서가 상기 척추 중심축과 상기 레이블링된 척추 간의 거리(d)가 가장 큰 척추를 Apex 척추로 설정하 는 단계; 상기 프로세서가 이웃하는 척추들 사이의 중심점을 연결하는 직선의 각도를 산출하는 단계; 상기 프로세서가 상기 Apex 척추를 기준으로 제1 방향에 위치한 척추 영역 중 가장 휘어 있는 제3 척추와, 상기 제1 방향과 반대 방향인 제2 방향에 위치한 척추 영역 중 가장 휘어 있는 제4 척추를 선택하는 단계; 및 상기 프로세서가 상기 제3 척추가 가로 방향로 연장되는 제1라인과 상기 제4 척추가 가로 방향으로 연장되는 제 2 라인이 접할 때의 사이각을 콥(Cobb's) 각도로 측정하는 단계;를 포함할 수 있다. 본 발명의 일 실시예에 따른 콥 각도 측정 방법에서, 상기 제3 척추 및 상기 제4 척추는 이웃하는 척추에서 상기 직선의 각도의 차이가 가장 큰 것을 기초로 선택되 는 것을 특징으로 할 수 있다. 본 발명의 일 실시예에 따른 콥 각도 측정 시스템은, 엑스레이 촬영부; 상기 엑스레이 촬영부에서 획득한 엑스레이 영상을 처리하는 프로세서를 포함하고, 상기 프로세서는, 상기 엑스레이 촬영부로부터 엑스레이 이미지 데이터를 수신하고, 상기 이미지를 복수의 패치 이미지들로 분할하며; 상기 패치 이미지를 인공지능 알고리즘에 적용하여 척추 영역을 검출하고; 상기 분할된 복수의 패치 이미지들을 결합하며; 상기 검출된 척추 영역을 레이블링하고; 상기 레이블링된 척추 영역을 이용하여 콥(Cobb's) 각도를 측정할 수 있다. 본 발명의 일 실시예에 따른 콥 각도 측정 시스템의 상기 프로세서는, 상기 레이블링된 척추 영역 중 위양성으 로 판단되는 척추 영역을 제거할 수 있다.본 발명의 일 실시예에 따른 콥 각도 측정 시스템의 상기 프로세서가 상기 레이블링된 척추 영역 중 위양성으로 판단되는 척추 영역을 제거하는 것은, 각 레이블링된 척추 영역들의 넓이가 전체 척추 영역들에 대한 평균 넓이의 0.5 크기 미만인 것은 위양성 척추 영역인 것으로 판단할 수 있다. 본 발명의 일 실시예에 따른 콥 각도 측정 시스템의 상기 콥(Cobb's) 각도를 측정하는 것은, 상기 프로세서가 상기 레이블링된 척추 영역 중 순서가 첫번 째인 제1 척추와 가장 마지막의 제n 척추의 중심점 을 기초로 척추 중심축을 구현하여; 상기 프로세서가 상기 척추 중심축과 상기 레이블링된 척추 간의 거리 산출하고; 상기 프로세서가 상기 척추 중심축과 상기 레이블링된 척추 간의 거리(d)가 가장 큰 척추를 Apex 척추로 설정하 며; 상기 프로세서가 이웃하는 척추들 사이의 중심점을 연결하는 직선의 각도를 산출하고; 상기 프로세서가 상기 Apex 척추를 기준으로 제1 방향에 위치한 척추 영역 중 가장 휘어 있는 제3 척추와, 상 기 제1 방향과 반대 방향인 제2 방향에 위치한 척추 영역 중 가장 휘어 있는 제4 척추를 선택하며; 상기 프로세서가 상기 제3 척추가 가로 방향로 연장되는 제1라인과 상기 제4 척추가 가로 방향으로 연장되는 제 2 라인이 접할 때의 사이각을 콥(Cobb's) 각도로 측정하는 것을 특징으로 할 수 있다. 본 발명의 일 실시예에 따른 콥 각도 측정 시스템에서 상기 제3 척추 및 상기 제4 척추는 이웃하는 척추에서 상 기 직선의 각도의 차이가 가장 큰 것을 기초로 선택되는 것을 특징으로 할 수 있다. 본 발명의 일 실시예에 따른 콥 각도 측정 프로그램은, 프로세서와 결합되어, 컴퓨터로 판독가능한 기록 매체에 저장된 콥 각도 자동 측정 프로그램으로, 상기 프로세서는 상기 기록 매체에 저장된 오퍼레이션을 수행하며, 상기 기록 매체는, 엑스레이 이미지 데이터를 수신하는 오퍼레이션; 상기 이미지를 복수의 패치 이미지들로 분할하는 오퍼레이션; 상기 패치 이미지를 인공지능 알고리즘에 적용하여 척추 영역을 검출하는 오퍼레이션; 상기 분할된 복수의 패치 이미지들을 결합하는 오퍼레이션; 상기 검출된 척추 영역을 레이블링하는 오퍼레이션; 및 상기 레이블링된 척추 영역을 이용하여 콥(Cobb's) 각도를 측정하는 오퍼레이션;을 포함하는 할 수 있다. 본 발명의 일 실시예에 따른 콥 각도 측정 프로그램의 상기 기록 매체는, 상기 레이블링된 척추 영역 중 위양성으로 판단되는 척추 영역을 제거하는 오퍼레이션을 더 포함할 수 있다. 본 발명의 일 실시예에 따른 콥 각도 측정 프로그램은, 상기 레이블링된 척추 영역 중 위양성으로 판단되는 척추 영역을 제거하는 오퍼레이션을 더 포함할 수 있다. 본 발명의 일 실시예에 따른 콥 각도 측정 프로그램의 상기 레이블링된 척추 영역 중 위양성으로 판단되는 척추 영역을 제거하는 오퍼레이션은, 각 레이블링된 척추 영역들의 넓이가 전체 척추 영역들에 대한 평균 넓이의 0.5 크기 미만인 것은 위양성 척추 영역인 것으로 판단하는 것일 수 있다. 본 발명의 일 실시예에 따른 콥 각도 측정 프로그램의 상기 콥(Cobb's) 각도를 측정하는 오퍼레이션은, 상기 레이블링된 척추 영역 중 순서가 첫번 째인 제1 척추와 가장 마지막의 제n 척추의 중심점을 기초로 척추 중심축을 구현하는 오퍼레이션; 상기 척추 중심축과 상기 레이블링된 척추 간의 거리 산출하는 오퍼레이션; 상기 척추 중심축과 상기 레이블링된 척추 간의 거리(d)가 가장 큰 척추를 Apex 척추로 설정하는 오퍼레이션; 이웃하는 척추들 사이의 중심점을 연결하는 직선의 각도를 산출하는 오퍼레이션; 상기 Apex 척추를 기준으로 제1 방향에 위치한 척추 영역 중 가장 휘어 있는 제3 척추와, 상기 제1 방향과 반 대 방향인 제2 방향에 위치한 척추 영역 중 가장 휘어 있는 제4 척추를 선택하는 오퍼레이션; 및 상기 제3 척추가 가로 방향로 연장되는 제1라인과 상기 제4 척추가 가로 방향으로 연장되는 제2 라인이 접할 때 의 사이각을 콥(Cobb's) 각도로 측정하는 오퍼레이션;을 포함할 수 있다. 본 발명의 일 실시예에 따른 콥 각도 측정 프로그램에서 상기 제3 척추 및 상기 제4 척추는 이웃하는 척추에서 상기 직선의 각도의 차이가 가장 큰 것을 기초로 선택되는 것을 특징으로 할 수 있다."}
{"patent_id": "10-2020-0057938", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 일 실시예에 따른 콥 각도 측정 방법 및 시스템은 전후 방향 엑스레이 이미지 데이터를 활용하여 자 동으로 척추 영역을 추출하고 콥 각도를 측정함으로써, 척추측만증 진단을 용이하게 보조할 수 있다. 본 발명에 따른 콥 각도 측정 방법 및 시스템은 척추측만증 진단을 위한 보조도구로 활용될 수 있어서 임상의사 로 하여금 번거로운 작업과 진단소요 시간을 단축시킬 수 있을 뿐만 아니라, 척추 측만증을 객관적으로 측정하 도록 하여 진단의 정확도를 높일 수 있다."}
{"patent_id": "10-2020-0057938", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 2, "content": "본 발명의 효과들은 이상에서 언급한 효과들로 제한되지 않으며, 언급되지 않은 또 다른 효과들은 아래의 기재 로부터 통상의 기술자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2020-0057938", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명은 다양한 변경을 가할 수 있고 여러 가지 실시예를 가질 수 있는 바, 특정 실시예들을 도면을 참조하여 상세하게 설명하도록 한다. 그러나, 이는 본 발명을 특정한 실시 형태에 대해 한정하려는 것이 아니며, 본 발명 의 사상 및 기술 범위에 포함되는 모든 변경, 균등물 내지 대체물을 포함하는 것으로 이해되어야 한다. 각 도면을 설명하면서 유사한 참조부호를 유사한 구성요소에 대해 사용하였다. 제1, 제2, A, B 등의 용어는 다양한 구성요소들을 설명하는데 사용될 수 있지만, 상기 구성요소들은 상기 용어 들에 의해 한정되어서는 안된다. 상기 용어들은 하나의 구성요소를 다른 구성요소로부터 구별하는 목적으로만 사용된다. 예를 들어, 본 발명의 권리범위를 벗어나지 않으면서 제1 구성요소는 제2 구성요소로 명명될 수 있고, 유사하게 제2 구성요소도 제1 구성요소로 명명될 수 있다. 및/또는 이라는 용어는 복수의 관련된 기재 항 목들의 조합 또는 복수의 관련된 기재 항목들 중의 어느 항목을 포함한다. 어떤 구성요소가 다른 구성요소에 \"연결되어\" 있다거나 \"접속되어\" 있다고 언급될 때에는 그 다른 구성요소에 직접적으로 연결되어 있거나 또는 접속되어 있을 수도 있지만, 중간에 다른 구성요소가 존재할 수도 있다고 이 해되어야 할 것이다. 반면에, 어떤 구성요소가 다른 구성요소에 \"직접 연결되어\" 있다거나 \"직접 접속되어\" 있 다고 언급된 때에는, 중간에 다른 구성요소가 존재하지 않는 것으로 이해되어야 할 것이다. 본 출원에서 사용한 용어는 단지 특정한 실시예를 설명하기 위해 사용된 것으로, 본 발명을 한정하려는 의도가 아니다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 출원에서, \"포함 하다\" 또는 \"가지다\" 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조 합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성요소, 부 품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 또한, \"제 1\"및 \"제 2\"라는 용어는 본 명세서에서 구별 목적으로만 사용되며, 어떠한 방식으로도 서열 또는 우 선 순위를 나타내거나 예상하는 것을 의미하지 않는 것으로 이해되어야 한다. 다르게 정의되지 않는 한, 기술적이거나 과학적인 용어를 포함해서 여기서 사용되는 모든 용어들은 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에 의해 일반적으로 이해되는 것과 동일한 의미를 가지고 있다. 일 반적으로 사용되는 사전에 정의되어 있는 것과 같은 용어들은 관련 기술의 문맥 상 가지는 의미와 일치하는 의 미를 가지는 것으로 해석되어야 하며, 본 출원에서 명백하게 정의하지 않는 한, 이상적이거나 과도하게 형식적 인 의미로 해석되지 않는다. 명세서 및 청구범위 전체에서, 어떤 부분이 어떤 구성 요소를 포함한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다른 구성 요소를 제외하는 것이 아니라 다른 구성 요소를 더 포함할 수 있다는 것을 의미한다. 이하, 본 발명에 따른 바람직한 실시예를 첨부된 도면을 참조하여 상세하게 설명한다. 도 1은 본 발명의 일 실시예에 따른 콥 각도 측정 방법의 순서도이다. 도 1을 참조하여 본 발명의 일 실시예에 따른 콥 각도 측정 방법을 간략하게 설명하면, 엑스레이 이미지 데이터 를 수신하는 단계(S110); 상기 이미지를 복수의 패치 이미지들로 분할하는 단계(S120); 상기 패치 이미지를 인 공지능 알고리즘에 적용하여 척추 영역을 검출하는 단계(S130); 상기 분할된 복수의 패치 이미지들을 결합하는 단계(S140); 상기 검출된 척추 영역을 레이블링하는 단계(S150); 및 상기 레이블링된 척추 영역을 이용하여 콥 (Cobb's) 각도를 측정하는 단계(S160);를 포함할 수 있다. 도 2는 본 발명의 일 실시예에 따른 콥 각도 측정 방법의 상세 순서도이다. 도 2를 참조하여 본 발명의 일 실시예에 따른 콥 각도 측정 방법을 상세하게 설명하면, 대상체에 대한 2가지 방 향인 전/후 방향 엑스레이 이미지 데이터를 각각 수신하는 단계(S201); 상기 엑스레이 이미지를 복수의 패치 이 미지들로 분할하는 단계(S205); 상기 분할된 복수의 패치 이미지들을 8bit 크기로 변환하는 단계(S210); 상기 크기 변환된 데이터에 대해 픽셀 정규화하는 단계(S215); 정규화된 데이터를 척추 검출을 위한 딥러닝 학습을 수행하는 단계(S220); 상기 딥러닝 학습에 의하여 엑스레이 이미지로부터 척추 영역이 검출되는 단계(S225); 척 추 영역이 검출된 척추 영역 마스크의 패치 이미지들을 결합하는 단계(S230); 결합된 척추 영역 마스크 이미지 에서 각각의 척추 영역을 레이블링 하는 단계(S235); 척추가 아닌 위양성 영역을 제거하는 단계(S240); 척추 중 심축을 구현하는 단계(S245); 척추 중심축을 이용하여 Apex 척추를 설정하는 단계(S250); 및 Apex 척추를 이용 하여 콥 각도를 측정하는 단계(S255)를 포함할 수 있다. 도 3은 본 발명의 일 실시예에 따른 콥 각도 측정 방법에서 사용되는 엑스레이 이미지를 나타낸다. 본 발명의 일 실시예에 따른 콥 각도 측정 방법은 환자의 척추를 찍은 엑스레이(X-ray) 영상을 이용할 수 있다. 엑스레이 영상은 대상체에 대한 전방향 엑스레이 이미지 및 상기 대상체에 대한 후방향 엑스레이 이미지일 수 있다. 엑스레이 이미지는 대상체의 전체 바디(body)를 찍은 영상으로, DICOM (Digital imaging andcommunication in Medicine) 파일이 활용될 수 있으나, 필요에 따라 TIFF, JPG, PNG 등과 같은 다른 그림 파일 형식으로 저장된 파일일 수도 있다. 도 4a는 본 발명의 일 실시예에 따라 복수의 패치 이미지들로 분할하기 전 엑스레이 이미지를 나타내고, 도 4b 는 본 발명의 일 실시예에 따라 복수의 패치 이미지들로 분할된 엑스레이 이미지를 나타낸다. 도 4a를 참조하면, 복수의 패치 이미지로 분할하기 전 엑스레이 이미지는 평균 가로 및 세로가 2000 pixel 내지 3000 pixel로 이루어진 전후 방향 엑스레이 영상이다. 본 발명의 일 실시예에 따르면, 도 4a에 도시된 엑스레이 영상은 도 4b에 도시된 바와 같이 가로 224 pixel, 세 로 224 pixel 크기의 복수의 패치 이미지로 나뉠 수 있다(b41, b42, …, bn). 16 bit로 이루어진 엑스레이 이미지는 DICOM 파일에 저장된 디폴트 윈도우 값이 적용되어, 8 bit의 데이터 크기 를 갖는 엑스레이 이미지로 변환될 수 있다. 그리고 데이터의 픽셀 정규화가 진행되어, 0 내지 255 사이에 픽셀 분포를 지니고 있는 8 비트 이미지는 다시 (-1 내지 +1) 사이에 픽셀 분포로 변환될 수 있다. 도 5는 본 발명의 일 실시예에 따라 척추 영역을 검출하기 위한 인공지능 알고리즘의 예시를 나타낸다. 도 5를 참조하면, 본 발명의 일 실시예에 따른 척추 영역 검출 알고리즘은 DenseNet201을 Backbone으로 하는 U- net 구조의 딥러닝 모델(Deep Learning Model)이 사용될 수 있다. 본 발명의 일 실시예에 따른 딥러닝 모델은 1914장의 엑스레이 영상을 학습하여 얻어진 모델로, 엑스레이의 척 추 영역 마스크를 획득할 수 있다. 본 발명의 일 실시예에 따른 모델은 200개의 컨볼루션 레이어(7X7 커널 1개, 1x1 커널 101개, 3x3 커널 98개)와 5개의 폴링 레이어로 이루어진 DenseNet201 구조를 갖고, 이를 통해 추출된 특징(Feature)을 Upsampling하여 엑스레이 영상으로부터 척추 영역 마스크가 검출될 수 있다. 본 발명의 일 실시예에 따른 딥러닝 모델은 상술한 가로 224 pixel, 세로 224 pixel 크기의 분할된 패치 이미지 들에 대해 각각 적용될 수 있다. 도 6a는 본 발명의 일 실시예에 따라 척추 영역이 검출된 마스크 이미지를 나타내고, 도 6b는 본 발명의 일 실 시예에 따라 재결합된 척추 영역 마스크 이미지를 나타낸다. 도 6a를 참조하면, 본 발명의 일 실시예에 따른 이미지 결합 방식은, 가로 224 픽셀, 세로 224 픽셀의 패치 사 이즈로 나뉜 엑스레이 이미지에서 획득한 척추 영역 마스크 이미지(a61, a62, …, an)를 패치 이미지로 분할되 기 전의 처음 이미지 크기인 가로 및 세로가 2000 pixel 내지 3000 pixel인 이미지로 결합할 수 있다. 본 발명의 일 실시예에 따라, 척추 영역 마스크 이미지를 결합하면, 도 6b에 도시된 바와 같은 척추의 전체 마 스크 이미지가 획득될 수 있다. 도 7은 본 발명의 일 실시예에 따라 척추 영역을 레이블링하는 과정을 나타낸다. 본 발명의 일 실시예에 따라 딥러닝 학습으로 추출된 각각의 척추 영역은 첫번 째 척추부터 순서대로 레이블링 된다(c1, c2, c3, …, cn). 본 발명의 일 실시예에 따르면, 각각의 레이블링된 척추 영역은 척추 뼈를 감싸는 사각형의 컨투어를 포함한다. 레이블링은 region growing 기법을 적용하여, 딥러닝 모델로부터 얻은 척추 영역 마스크에서 척추 영역으로 판 단된 부분은 1픽셀로 설정하고, 척추 영역이 아닌 것으로 판단된 부분은 0픽셀로 변환될 수 있다. 그리고 서로 이웃하여 붙어 있는 픽셀들은 하나의 레이블로 설정될 수 있다. 한편, 본 발명의 일 실시예에 따르면, 상술된 바와 같이 레이블링된 척추 영역 중 척추가 아닌것으로 판단되는 영역을 제거하는 위양성 제거 단계를 수행할 수 있다. 위양성 제거 과정은 다음과 같다. 본 발명은 각각의 레이블링된 척추 영역들의 평균 넓이를 산출하여 평균보다 0.5 크기 미만의 척추 영역을 위양성으로 판단하여 제거한다. 도 8 내지 도 11을 참조하여, 본 발명의 일 실시예에 따라 콥(Cobb's) 각도를 측정하는 방법을 설명한다. 도 8은 본 발명의 일 실시예에 따라 척추 중심축을 구현하는 과정을 나타낸다. 전체 척추에서, 첫 번째 척추 뼈(c1)와 마지막 척추 뼈(cn)의 가운데 점을 직선으로 이어 척추 중심축이 구 현될 수 있다.도 9는 본 발명의 일 실시예에 따라 Apex 척추를 설정하는 과정을 나타낸다. 도 9를 참조하면, 본 발명은 구현된 척추 중심축을 기준으로 가장 멀리 떨어진 척추 뼈 하나를 Apex 척추로 설 정할 수 있다. 척추 중심축을 기준으로 가장 멀리 떨어진 Apex척추를 설정하는 방법은, 척추 중심축과 레이블링된 각각의 척추 간(c1, c2, c3, …, cn)의 거리(d2, d3, …, dn-1)를 산출하여, 상기 산출된 거리들 중 가장 큰 거리를 갖는 척추가 Apex 척추로 설정될 수 있다. 도 9를 참조하면, 레이블링된 척추 영역들 중 가장 큰 값인 d7을 갖는 c7 척추가 Apex 척추로 설정될 수 있다."}
{"patent_id": "10-2020-0057938", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "item": 2, "content": "도 10은 본 발명의 일 실시예에 따라 콥(Cobb's) 각도를 측정하기 위하여 Apex 척추를 기준으로 가장 휜 두 개 의 척추를 선정하는 과정을 나타내고, 도 11은 본 발명의 일 실시예에 따라 콥(Cobb's) 각도를 측정하는 과정을 나타낸다. 도 10을 참조하면, 본 발명의 일 실시예에 따른 콥 각도 측정 방법은 Apex 척추 뼈(Apex)를 기준으로 윗방향에 서 가장 각도가 많이 벌어진 척추 뼈를 선정하고, 아래 방향에서 가장 각도가 많이 벌어진 척추 뼈를 선정할 수 있다. 선정된 두 척추 뼈(110, 120)를 직선으로 이어 콥 각도를 측정할 수 있다. 보다 구체적으로 설명하면, Apex 뼈 기준으로, 상단 방향 및 하단 방향에서 휘어진 각도가 가장 큰 척추를 척추 단(End Vertebra, EV)으로 설정할 수 있다. 그리고, 상단 EV의 상부 라인의 양 끝 좌표 (EV_pos1, EV_pos2)와 하단 EV의 하부 라인의 양 끝 좌표 (EV_pos3, EV_pos4)를 산출할 수 있다. 상술한 EV_pos1과 EV_pos2를 잇는 제1 직선과 EV_pos3와 EV_pos4를 잇는 제2 직선 간의 각도를 Cobb's angle로 산출할 수 있다. 도 11을 참조하면, 하단 EV의 하부 라인을 상단 EV의 상부 라인 쪽으로 평행이동 시킨 제3 라인과 상단 EV의 상부 라인의 사이각이 본 발명의 일 실시예에 따른 콥 각도가 될 수 있 다. 한편, 상단 방향 및 하단 방향에서 휘어진 각도가 가장 큰 척추를 척추단(End Vertebra, EV)으로 설정하는 방법은, 도 10에 도시된 바와 같이, 이웃하는 척추들 사이의 중심점을 연결하는 직선의 각도를 x축 기준으로, 산출함으로써, 상기 산출된 각도들의 변화가 가장 큰 척추를 콥 각도 산출을 위한 척추단(110, 120)을 설정할 수 있다. 도 12a는 본 발명의 다른 실시예에 따른 척추 영역 마스크 이미지를 나타내고, 도 12b는 도 12a에 도시된 척추 에 대한 콥(Cobb's) 각도를 측정한 결과를 나타낸다. 도 12a에 도시된 척추 영역에 대하여 본 발명의 일 실시예에 따라 콥 각도를 측정하면, 상단 척추 EV 및 하단 척추 EV는 Apex 척추 바로 위/아래에서 선택되고, 상기 두 척추 EV(1210, 1220)을 이용하여 산출되 는 콥 각도는 10.05°가 될 수 있다. 도 13a는 본 발명의 또다른 실시예에 따른 척추 영역 마스크 이미지를 나타내고, 도 13b는 도 13a에 도시된 척 추에 대한 콥(Cobb's) 각도를 측정한 결과를 나타낸다. 도 13a에 도시된 척추 영역에 대하여 본 발명의 일 실시예에 따라 콥 각도를 측정하면, 상단 척추 EV는 Apex 척추으로부터 윗 방향으로 2번 째 위치하는 척추로 선택되고, 하단 척추 EV는 Apex 척추으로부터 아 랫 방향으로 2번 째 위치되는 척추로 선택될 수 있다. 상기 두 척추 EV(1310, 1320)를 이용하여 산출되는 콥 각 도는 20.50°가 될 수 있다. 이상의 설명은 본 발명의 기술 사상을 예시적으로 설명한 것에 불과한 것으로, 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 사람이라면 본 발명의 본질적인 특성에서 벗어나지 않는 범위에서 다양한 수정 및 변형이 가능할 것이다. 따라서, 본 발명에 개시된 실시예들은 본 발명의 기술 사상을 한정하기 위한 것이 아니라 설명 하기 위한 것이고, 이러한 실시예에 의하여 본 발명의 기술 사상의 범위가 한정되는 것은 아니다. 본 발명의 보 호 범위는 아래의 청구범위에 의하여 해석되어야 하며, 그와 동등한 범위 내에 있는 모든 기술 사상은 본 발명 의 권리범위에 포함되는 것으로 해석되어야 할 것이다.도면 도면1 도면2 도면3 도면4a 도면4b 도면5 도면6a 도면6b 도면7 도면8 도면9 도면10 도면11 도면12a 도면12b 도면13a 도면13b"}
{"patent_id": "10-2020-0057938", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 콥 각도 측정 방법의 순서도이다. 도 2는 본 발명의 일 실시예에 따른 콥 각도 측정 방법의 상세 순서도이다. 도 3은 본 발명의 일 실시예에 따른 콥 각도 측정 방법에서 사용되는 엑스레이 이미지를 나타낸다. 도 4a는 본 발명의 일 실시예에 따라 복수의 패치 이미지들로 분할하기 전 엑스레이 이미지를 나타내고, 도 4b 는 본 발명의 일 실시예에 따라 복수의 패치 이미지들로 분할된 엑스레이 이미지를 나타낸다. 도 5는 본 발명의 일 실시예에 따라 척추 영역을 검출하기 위한 인공지능 알고리즘의 예시를 나타낸다. 도 6a는 본 발명의 일 실시예에 따라 척추 영역이 검출된 마스크 이미지를 나타내고, 도 6b는 본 발명의 일 실 시예에 따라 재결합된 척추 영역 마스크 이미지를 나타낸다. 도 7은 본 발명의 일 실시예에 따라 척추 영역을 레이블링하는 과정을 나타낸다. 도 8은 본 발명의 일 실시예에 따라 척추 중심축을 구현하는 과정을 나타낸다. 도 9는 본 발명의 일 실시예에 따라 Apex 척추를 설정하는 과정을 나타낸다. 도 10은 본 발명의 일 실시예에 따라 콥(Cobb's) 각도를 측정하기 위하여 Apex 척추를 기준으로 가장 휜 두 개 의 척추를 선정하는 과정을 나타낸다. 도 11은 본 발명의 일 실시예에 따라 콥(Cobb's) 각도를 측정하는 과정을 나타낸다. 도 12a는 본 발명의 다른 실시예에 따른 척추 영역 마스크 이미지를 나타내고, 도 12b는 도 12a에 도시된 척추 에 대한 콥(Cobb's) 각도를 측정한 결과를 나타낸다. 도 13a는 본 발명의 또다른 실시예에 따른 척추 영역 마스크 이미지를 나타내고, 도 13b는 도 13a에 도시된 척 추에 대한 콥(Cobb's) 각도를 측정한 결과를 나타낸다."}
