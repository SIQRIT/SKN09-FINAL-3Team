{"patent_id": "10-2023-0075460", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0175471", "출원번호": "10-2023-0075460", "발명의 명칭": "전기차 충전기에 대한 충전 스케쥴링을 수행하기 위한 방법 및 이를 지원하는 장치", "출원인": "주식회사 바이온에버", "발명자": "임용석"}}
{"patent_id": "10-2023-0075460", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "전기차에 충전 서비스를 제공하는 복수의 전기차 충전기들에 대한 충전 스케쥴링을 수행하기 위한 방법에 있어서, 스케쥴링 장치에 의해 수행되는 방법은,상기 스케쥴링 장치에 연결되는 전기차 충전기의 순서대로 전기차 충전기를 나타내는 정보를 상기 스케쥴링 장치의 대기 큐(waiting queue)로 입력하는 단계;상기 대기 큐에 저장된 전기차 충전기에 대한 정보를 각 전기차 충전기에 대한 정보에 대응하는 각각의 전기차충전기와 관련된 충전 서비스 별로 분류하는 단계;상기 분류된 전기차 충전기에 대한 정보를 각 충전 서비스에 대응하는 상기 준비 큐의 세부 큐에 저장하는단계;상기 충전 서비스의 종류 및 충전이 수행되는 충전 시간에 기초하여 상기 복수의 전기차 충전기들에 대한 충전스케쥴링의 필요 여부를 결정하고, 충전 서비스별로 충전 스케줄링을 생성하는 단계; 및상기 생성된 충전 스케줄링에 의한 충전 및 전기차 충전기의 충전 상태에 대한 변화가 감지되는 경우, 상기 복수의 전기차 충전기들에 적용되고 있는 충전 스케쥴링을 새로운 충전 스케쥴링으로 업데이트하는 단계를 포함하는 것을 특징으로 하는 방법."}
{"patent_id": "10-2023-0075460", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1 항에 있어서,상기 새로운 충전 스케쥴링은 피크 쉐이빙 스케쥴링이며,상기 새로운 충전 스케쥴링은 공급전력이 상기 적용되고 있는 충전 스케줄링을 적용하기에 부족할 경우 업데이트되는 것을 특징으로 하는 방법."}
{"patent_id": "10-2023-0075460", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1 항에 있어서,상기 충전이 수행되는 충전 시간은 계시별 요금제에 적용되는 경부하 시간, 중간부하 시간, 최대부하 시간, 전력 공급이 정상적으로 이루어진 시간 및 전력 공급이 부족한 시간을 포함하는 것을 특징으로 하는 방법."}
{"patent_id": "10-2023-0075460", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3 항에 있어서,상기 전기차 충전기와 관련된 충전 서비스는 경부하 시간대 요금제, 중간부하 시간대 요금제 또는 최대부하 시간대 요금제 중 적어도 하나에 기초하여 충전 사업자의 운영정책에 따라 1개부터 n개까지의 충전 서비스 단계로구성되는 것을 특징으로 하는 방법."}
{"patent_id": "10-2023-0075460", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4 항에 있어서,상기 준비 큐의 세부 큐의 개수는 충전 서비스 분류에 기초하여 결정되는 것을 특징으로 하는 방법."}
{"patent_id": "10-2023-0075460", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5 항에 있어서,상기 충전 스케쥴링은 상기 충전 서비스 분류 또는 전력 공급이 부족한 경우에 수행되며,공개특허 10-2024-0175471-3-상기 충전 서비스는 스케줄링이 적용되는 충전과 끊김없이 지속적으로 충전이 수행되는 충전을 포함하는 것을특징으로 하는 방법."}
{"patent_id": "10-2023-0075460", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6 항에 있어서, 상기 충전 스케쥴링은,상기 전력공급이 부족한 경우 상기 전력 공급이 부족한 시간 동안 공급 가능한 전력량, 충전이 요구되는 전기차충전기의 수 및 전기차 충전기의 충전 속도에 기초하여 전기차 충전기에 할당되는 충전 시간을 산출하거나 또는충전 서비스에 의해 일정 시간 동안 일부 시간만 충전 되어야 하는 경우, 공급 가능한 전력량 대신 충전에 필요한 전력량으로 대신하여 전기차 충전기에 할당되는 충전 시간을 산출하는 단계;상기 산출된 충전 시간과 상기 전력 공급이 부족한 시간 또는, 충전 서비스 분류에 의해 스케줄링이 필요한 시간에 기초하여 전기차 충전기를 할당하기 위한 타임 슬롯의 수를 산출하는 단계;상기 충전이 요구되는 전기차 충전기를 동일한 충전 속도를 가지는 적어도 하나의 전기차 충전기를 포함하는 적어도 하나의 충전 그룹으로 그룹핑하는 단계; 및상기 그룹핑된 충전 그룹을 상기 타임 슬롯에 할당하는 단계를 포함하는 것을 특징으로 하는 방법."}
{"patent_id": "10-2023-0075460", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7 항에 있어서,상기 충전 시간을 산출하여 타임슬롯 수를 산출하고 그룹핑하는 하는 단계는 출력이 다른 전기차 충전기들이 공존하는 경우에도 동일한 최대출력을 가지는 전기차 충전기들을 상기 클러스터링을 통해 구분하여 적용하는 것을특징으로 하는 방법."}
{"patent_id": "10-2023-0075460", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8 항에 있어서, 상기 충전 그룹으로 그룹핑하는 단계는,상기 복수의 전기차 충전기들 모두를 하나의 충전 그룹으로 그룹핑하고, 상기 하나의 충전 그룹을 하나의 타임슬롯에 할당하거나,충전 그룹 별로 하나의 전기차 충전기를 포함하는 복수의 충전 그룹들을 생성하여 각 충전 그룹을 타임 슬롯 별로 할당하거나,충전 그룹 별로 서로 다른 전기차 충전기의 수가 포함되도록 랜덤 방식으로 충전 그룹을 그룹핑하거나, 또는출력이 다른 전기차 충전기들이 공존하는 경우 상기 그룹핑들을 출력별로 적용하는 것을 특징으로 하는 방법."}
{"patent_id": "10-2023-0075460", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9 항에 있어서,상기 전기차 충전기의 충전 상태 변화는 타임 슬롯의 정해진 시간 종료 전에 충전이 완료되거나, 새로운 전기차충전기의 전력 요구가 있거나, 전력 부족 지속 시간의 변화가 발생하거나, 전력 공급량의 변화가 발생하거나 또는 또 다른 서비스의 추가가 발생하는 경우에 감지되는 것을 특징으로 하는 방법."}
{"patent_id": "10-2023-0075460", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 명세서는 전기차에 충전 서비스를 제공하는 복수의 전기차 충전기들에 대한 충전 스케쥴링을 수행하기 위한 방법에 있어서, 스케쥴링 장치에 의해 수행되는 방법은, 상기 스케쥴링 장치에 연결되는 전기차 충전기의 순서대 로 전기차 충전기를 나타내는 정보를 상기 스케쥴링 장치의 대기 큐로 입력하는 단계; 상기 대기 큐에 저장된 전 (뒷면에 계속)"}
{"patent_id": "10-2023-0075460", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 명세서는 전기차 충전기 시스템에 관한 것으로, 보다 구체적으로 전기차 충전기에 대한 충전 스케쥴링을 수 행하기 위한 방법 및 이를 지원하는 장치에 관한 것이다."}
{"patent_id": "10-2023-0075460", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "전기차 배터리에 전력을 공급하기 위한 방법에는 유선충전 방식과 무선충전 방식이 존재한다. 유선충전 방식은 일반적으로 충전 인터페이스에 관한 국제 표준은 IEC 62196-x에 따라 교류 혹은 직류 방식으로 전력을 공급한다. 반면, 최근에 이슈가 되고 있는 무선충전의 경우, 유선과는 달리 전력을 전자기파로 변환하여 전달하기 때문에 별도의 충전 인터페이스가 존재하지 않으며, 사용자가 충전을 위한 케이블을 연결할 필요가 없다. 최근, SAE J2954 등에서도 언급하고 있듯이 무선충전 기술은 일반적으로 Ground측(지면)에 무선충전 송신단(GA, Ground Assembly)과 차량측의 수신단(VA, Vehicle Assembly)으로 구성된다. GA측의 무선충전 송신단은 전력을 전자기파 방식을 통해 전력을 송출하게 되며, 차량측의 수신단은 송신단에서 송출된 전자기파를 수신하여 AC에 서 DC로 정류(Rectifier)하여 전력으로 변환 후 배터리에 전력을 저장하게 된다. 무선충전이 가능한 전기차는 무선충전 수신단을 차량 하부에 부착하고 있으며, 일반적으로 무선충전 송신단은 노면이나 전용 무선충전 구역, 주차장 내 주차 구역에 거치 혹은 매립되어 있다. 무선충전 차량이 해당 무선충전 송신단 위로 진입하여 무선충전 차량의 수신단을 무선충전 송신단과 정합을 시 킨 후 무선충전을 수행하게 된다. 이때 무선으로 전력전송 시 송신단 패드(송신 코일부)와 수신단 패드(수신 코 일부)의 정합도가 높을수록 무선충전 효율이 높아지게 된다. 주차구역에 설치된 무선충전 송신단은 형태나 위치가 고정되어 있으며, 무선충전 수신단은 무선충전 차량의 밑 부분에 고정되어 있다. 따라서, 무선충전 송신단과 수신단을 정합하기 위해서는 무선충전 차량을 이동하여, 혹 은 이동시에 무선충전 송신단과 수신단의 정합 과정을 수행한다."}
{"patent_id": "10-2023-0075460", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "충전 시스템에서 전력을 사용하는데 있어 피크 타임(peak time)과 같이 전력 요구량이 전력 공급량을 초과할 경 우 전기차 충전을 위한 전력 공급은 부족할 수 밖에 없는 실정이다. 이러한 경우 과부하 현상이 발생할 수 있어 전기차 충전의 제한적 조치가 필요할 수 밖에 없다. 또한 일정 시간대에 일부 시간만 충전을 원할 경우 특히 과 부하 시간대일 경우, 특정 시간대에 모든 충전을 진행시키는 것보다 전력 그리드의 안정화를 위해 시간을 분할 충전을 하는 것이 효율적일 수 있다 따라서, 본 명세서는 이러한 경우들에 불공평한 전기차 충전 서비스가 발생하는 것을 방지하기 위해 사용자가 선택한 서비스에 대하여 모든 사용자들에게 공평하게 서비스를 제공할 수 있는 전기차 충전 스케줄링 방법을 제 공함에 목적이 있다. 본 발명에서 이루고자 하는 기술적 과제들은 이상에서 언급한 기술적 과제들로 제한되지 않으며, 언급하지 않은"}
{"patent_id": "10-2023-0075460", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 2, "content": "또 다른 기술적 과제들은 아래의 기재로부터 본 발명이 속하는 기술분야에서 통상의 지식을 가진 자에게 명확하 게 이해될 수 있을 것이다."}
{"patent_id": "10-2023-0075460", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 명세서는 전기차에 충전 서비스를 제공하는 복수의 전기차 충전기들에 대한 충전 스케쥴링을 수행하기 위한 방법에 있어서, 스케쥴링 장치에 의해 수행되는 방법은, 상기 스케쥴링 장치에 연결되는 전기차 충전기의 순서 대로 전기차 충전기를 나타내는 정보를 상기 스케쥴링 장치의 대기 큐(waiting queue)로 입력하는 단계; 상기 대기 큐에 저장된 전기차 충전기에 대한 정보를 각 전기차 충전기에 대한 정보에 대응하는 각각의 전기차 충전 기와 관련된 충전 서비스 별로 분류하고, 상기 분류된 전기차 충전기에 대한 정보를 각 충전 서비스에 대응하는 상기 준비 큐의 세부 큐에 저장하는 단계; 상기 충전 서비스의 종류 및 충전이 수행되는 충전 시간에 기초하여 상기 복수의 전기차 충전기들에 대한 충전 스케쥴링이 필요한지 여부를 결정하는 단계; 및 전기차 충전기의 충 전 상태에 대한 변화가 감지되는 경우, 상기 복수의 전기차 충전기들에 적용되고 있는 충전 스케쥴링을 충전기 허용 최대출력의 피크쉐이빙 스케줄링을 포함한 새로운 충전 스케쥴링으로 업데이트하는 단계를 포함하는 것을 특징으로 한다. 또한, 본 명세서에서 상기 충전이 수행되는 충전 시간은 전력 공급이 정상적으로 이루어진 시간 및 전력 공급이 부족한 시간을 포함하는 것을 특징으로 한다. 또한, 본 명세서에서 상기 전기차 충전기와 관련된 충전 서비스는 기본적인 계시별 요금제 서비스 (경부하, 중 간부하, 최대부하 시간대 요금제) 뿐만 아니라 이들 요금제를 조합하여 다양한 여러 단계의 서비스를 포함하는 것을 특징으로 한다 또한, 상기 준비 큐의 세부 큐의 개수는 서비스 분류에 따라 가변이며 이에 따른 동적 서비스 스케줄링을 포함 하는 것을 특징으로 한다.또한, 상기 충전 스케쥴링은 상기 전기차 충전기에 대한 서비스 분류에 의해서 혹은 전력 공급이 부족한 경우, 상기 서비스들은 스케줄링이 적용되는 충전과 지속적 충전이 공존되어 수행되는 것이 가능한 것을 특징으로 한 다. 또한, 본 명세서에서 상기 충전 스케쥴링은, 상기 전력공급이 부족한 경우 전력 공급이 부족한 시간 동안 공급 가능한 전력량, 충전이 요구되는 전기차 충전기의 수 및 전기차 충전기의 충전 속도에 기초하여 전기차 충전기 에 할당할 충전 시간을 산출하는 단계 혹은 선택된 서비스에 의해 일정 시간 동안 그 시간대에 일부 시간만 충 전 되어야 하는 경우, 공급 가능한 전력량 대신 충전에 필요한 전력량으로 대신하여 전기차 충전기에 할당할 충 전 시간을 산출하는 단계; 상기 산출된 충전 시간과 상기 전력 공급이 부족한 시간 혹은 서비스 분류에 의해 스 케줄링이 필요한 시간에 기초하여 전기차 충전기를 할당하기 위한 타임 슬롯의 수를 산출하는 단계; 상기 충전 이 요구되는 전기차 충전기를 동일한 충전 속도를 가지는 적어도 하나의 전기차 충전기를 포함하는 적어도 하나 의 충전 그룹으로 그룹핑하는 단계; 상기 그룹핑된 충전 그룹을 상기 타임 슬롯에 할당하는 단계; 및 충전기 최 대 출력으로 지속적으로 충전이 필요한 서비스가 존재할 경우 만약 이 충전서비스를 제공할 만큼 전력공급이 부 족할 경우 모든 충전기들의 허용 최대 출력을 1단계씩 낮추는 피크쉐이빙 스케줄링을 통해 충전에 필요한 전력 을 공급전력에 맞춘 후 타임 스케줄링을 적용하는 단계를 포함하는 것을 특징으로 한다. 또한, 상기 충전시간을 산출하여 타임슬롯 수를 산출하고 그룹핑하는 하는 단계는 출력이 다른 충전기들이 공존 하는 경우에도 가능한 것을 특징으로 한다. 또한, 본 명세서에서 상기 충전 그룹으로 그룹핑하는 단계는, 상기 복수의 전기차 충전기들 모두를 하나의 충전 그룹으로 그룹핑하고, 상기 하나의 충전 그룹을 하나의 타임 슬롯에 할당하거나, 충전 그룹 별로 하나의 전기차 충전기를 포함하는 복수의 충전 그룹들을 생성하여 각 충전 그룹을 타임 슬롯 별로 할당하거나, 충전 그룹 별로 서로 다른 전기차 충전기의 수가 포함되도록 랜덤 방식으로 충전 그룹을 그룹핑 하거나, 또는 출력이 다른 충전 기들이 공존할 경우 위 그룹핑들을 출력별로 적용 가능한 것을 특징으로 한다. 또한, 본 명세서에서 상기 전기차 충전기의 충전 상태 변화는 타임 슬롯의 정해진 시간 종료 전에 충전이 완료 되거나, 새로운 전기차 충전기의 전력 요구가 있거나, 전력 부족 지속 시간의 변화가 발생하거나, 전력 공급량 의 변화가 발생하거나 또는 다른 서비스의 추가가 발생하는 경우에 감지되는 것을 특징으로 한다."}
{"patent_id": "10-2023-0075460", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 명세서는 충전 서비스 및 충전 시간 등을 고려하여 충전 스케쥴링을 수행함으로써 불공평한 전기차 충전 서 비스가 발생하는 것을 방지하고, 사용자가 선택한 서비스에 대하여 모든 사용자들에게 공평하게 서비스를 제공 할 수 있는 효과가 있다."}
{"patent_id": "10-2023-0075460", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 명세서에서 사용되는 기술적 용어는 단지 특정한 실시 예를 설명하기 위해 사용된 것으로, 본 명세서에 개시 된 기술의 사상을 한정하려는 의도가 아님을 유의해야 한다. 또한, 본 명세서에서 사용되는 기술적 용어는 본 명세서에서 특별히 다른 의미로 정의되지 않는 한, 본 명세서에 개시된 기술이 속하는 분야에서 통상의 지식을 가진 자에 의해 일반적으로 이해되는 의미로 해석되어야 하며, 과도하게 포괄적인 의미로 해석되거나, 과도하게 축소된 의미로 해석되지 않아야 한다. 또한, 본 명세서에서 사용되는 기술적인 용어가 본 명세서에 개시된 기술 의 사상을 정확하게 표현하지 못하는 잘못된 기술적 용어일 때에는, 본 명세서에 개시된 기술이 속하는 분야에 서 통상의 지식을 가진 자가 올바르게 이해할 수 있는 기술적 용어로 대체되어 이해되어야 할 것이다. 또한, 본 명세서에서 사용되는 일반적인 용어는 사전에 정의되어 있는 바에 따라, 또는 전후 문맥 상에 따라 해석되어야 하며, 과도하게 축소된 의미로 해석되지 않아야 한다. 본 명세서에서 사용되는 제1, 제2 등과 같이 서수를 포함하는 용어는 다양한 구성 요소들을 설명하는데 사용될 수 있지만, 상기 구성 요소들은 상기 용어들에 의해 한정되어서는 안 된다. 상기 용어들은 하나의 구성요소를 다른 구성요소로부터 구별하는 목적으로만 사용된다. 예를 들어, 본 발명의 권리 범위를 벗어나지 않으면서 제1 구성 요소는 제2 구성 요소로 명명될 수 있고, 유사하게 제2 구성 요소도 제1 구성 요소로 명명될 수 있다. 이하, 첨부된 도면을 참조하여 본 명세서에 개시된 실시 예들을 상세히 설명하되, 도면 부호에 관계없이 동일하 거나 유사한 구성 요소는 동일한 참조 번호를 부여하고 이에 대한 중복되는 설명은 생략하기로 한다. 또한, 본 명세서에 개시된 기술을 설명함에 있어서 관련된 공지 기술에 대한 구체적인 설명이 본 명세서에 개시 된 기술의 요지를 흐릴 수 있다고 판단되는 경우 그 상세한 설명을 생략한다. 또한, 첨부된 도면은 본 명세서에 개시된 기술의 사상을 쉽게 이해할 수 있도록 하기 위한 것일 뿐, 첨부된 도면에 의해 그 기술의 사상이 제한되 는 것으로 해석되어서는 아니 됨을 유의해야 한다. 도 1은 본 명세서에서 제안하는 방법이 적용될 수 있는 충전 시스템의 일례를 나타낸 개념도이다. 도 1에 도시된 충전 시스템은 스케쥴링 장치, 전기차 충전기 및 전기차를 포함하여 구성될 수 있다. 상기 스케쥴링 장치는 본 명세서에서 제안하는 충전 스케쥴링을 구현하는 장치로서, 공급 전력이 부족한 상황 등에서 복수의 전기차 충전기들 또는 복수의 전기차들에 대한 공평한 충전을 제공하기 위한 충전 스케쥴링을 수 행한다. 상기 스케쥴링 장치는 상기 전기차 충전기와 연결되는 충전 서버 내에 포함되거나 또는 상기 충전 서버와 별도 로 구현될 수 있다. 상기 스케쥴링 장치는 후술할 도 3에 도시된 바와 같이 스케쥴링 모듈 및 충전 제어 스크립트 모듈을 포함할 수 있으며, 상기 스케쥴링 모듈은 큐(queue), 스케쥴러 등을 포함할 수 있다. 상기 전기차 충전기는 전기차에 유선 또는 무선으로 충전을 제공하는 장치로, 충전을 제공하는 방식에 따라 유 선 충전기 또는 무선 충전기를 포함할 수 있으며, 본 명세서에서 제안하는 방법에는 유선 충전기 및/또는 무선 충전기가 모두 적용될 수 있다. 상기 전기차 충전기는 전력 공급부, 전력 스테이션, 충전 스테이션, 충전기, 충전장치 등으로 호칭될 수 있다. 상기 전기차는 전기차 충전기로부터 충전을 제공받는 장치에 해당하는 것으로, 보다 구체적인 사항은 후술할 도 12를 참고하기로 한다. 도 2는 본 명세서에서 제안하는 방법이 적용될 수 있는 충전 시스템의 일례를 나타낸 내부 블록도이다. 도 2를 참고하면, 본 명세서에서 제안하는 충전 스케쥴링을 구현하기 위한 전기차 충전기는 유선 충전기 및 무 선 충전기를 포함할 수 있다. 또한, 유선 충전기를 통해 충전을 제공받는 전기차는 교류/직류 변환기, 직류/직류 변환기 및 배터리를 포함할 수 있으며, 무선 충전기를 통해 충전을 제공받는 전기차는 수신 코일, 정류 회로 및 배터리를 포함할 수 있다. 상기 교류/직류 전환기는 상기 유선 충전기로부터 전달받은 전류가 교류인 경우, 상기 교류 전류를 직류 전류로 변환하기 위해 필요하며, 상기 유선 충전기로부터 전달받은 전류가 직류인 경우, 상기 전류를 교류에서 직류로 변환할 필요가 없어 상기 교류-직류 변환기는 필요가 없다. 상기 교류에서 직류로 변환된 전류는 모터를 거쳐 직류-직류 변환기로 전달되고, 직류-직류 변환기는 전달받은 전류를 배터리에 저장하기 위한 전압으로 변환하여 배터리(로 전달하여 전력을 저장한다. 상기 직류/직류 변환 기가 필요한 이유는 같은 직류라도 유선 충전기로부터 받은 전류와 배터리에 저장되는 전압이 다르기 때문에 변 환이 필요한 것이다. 그리고, 무선 충전기를 통해 충전을 제공받는 전기차는 수신코일, 정류회로 및 배터리를 포함할 수 있다. 상기 수신코일은 수신패드, 충전 수신단 패드, 2차 코일 등으로 호칭될 수 있으며, 무선 충전기가 전송하는 무 선전력을 수신한다. 상기 정류회로는 수신한 무선전력을 정류하며, 상기 배터리는 무선전력 송신장치로부터 수 신한 무선전력을 저장하며, 그 이외에 상기 무선 충전기는 무선 충전기와 자기장 통신 또는 근거리 통신(예: BLE 등)을 통해 데이터를 송수신하기 위한 통신부를 더 포함할 수 있다. 이하, 본 명세서에서 제안하는 충전 서비스를 공평하게 수행하기 위한 충전 스케쥴링 방법에 대해 구체적으로 살펴본다. 본 명세서에서 제안하는 충전 스케쥴링 방법은 전기차에 충전을 공급하는 전기차 충전기에 대한 스케쥴링을 의 미하거나 또는 충전을 공급받는 전기차에 대한 스케쥴링을 의미할 수 있다. 상기 충전 스케쥴링을 수행하는 주체는 전기차 충전기 또는 상기 전기차 충전기가 연결되며 상기 전기차 충전기 를 제어하는 관리 서버(또는 관리 시스템) 등에 의해 수행될 수 있다. 본 명세서에서는 전기차 충전을 위한 사용자의 충전 서비스는 계시별 요금제(경부하, 중간부하, 최대부하)의 선 택이 없는 기본적인 서비스, 혹은 사업자의 요금 정책에 따라 경부하, 중간부하, 최대부하 시간대의 요금제를 조합하여 단계별로 1 부터 n 까지의 충전 서비스 단계로 분류할 수 있다. 상기 충전 서비스 단계 분류의 실시 예로 전력의 계시별 요금제를 고려하지 않고 충전이 진행되며 전력공급 부 족 시 모든 충전서비스에 스케줄링이 적용되는 1단계 서비스, 경부하(옵션 1 서비스)와 중간부하 및 최대부하 (옵션2 서비스)로 나누거나 경부하 및 중간부하(옵션 1 서비스)와 최대부하(옵션 2 서비스)로 나누는 2단계서비 스, 경부하(옵션 1 서비스), 중간부하 (옵션 2 서비스), 및 최대부하(옵션 3 서비스)로 나누는 3단계 서비스, 상기 3단계 서비스의 최대부하 시간대에 절약과 일반 두 가지 서브 옵션을 만들어 절약을 선택할 경우 전력공급 이 허용 최대 출력으로 만족한다 하더라도 충전 스케줄링을 적용하여 요금을 절약하고 일반을 선택할 경우 부하 에 상관없는 스케줄링이 필요없이 지속적인 충전 서비스 최대출력으로 충전서비스를 받을 수 있는 4단계 서비스 등 사업자 요금제 정책에 따라 여러 단계로 충전서비스 분류가 가능하며 상기 스케줄링은 모든 충전서비스 분류 에 동적으로 동작한다. 상기 충전서비스의 옵션은 선택한 옵션의 부하시간대와 그 이하의 부하시간대에 충전서비스가 제공된다. 상기 충전기 피크 쉐이빙 스케줄링은 전력공급의 부족으로 타임슬롯 스케줄링을 기반한 충전 스케줄링 통한 서 비스가 불가능한 상황이 발생할 경우 충전 중인 모든 충전기들의 허용 출력을 1단계씩 낮추는 것을 반복하여 충 전 중인 충전기들의 출력을 부족한 전력공급에 맞추어 진행중인 충전 스케줄링 서비스를 가능토록 해주는 스케 줄링 방식이다. 본 명세서에서는 전기차 충전을 위한 사용자의 충전 서비스를 계시별 요금제를 기반으로 사업자 요금 정책에 따 라 1단계부터 N단계까지 크게 분류한다. 상기 충전 서비스는 전력공급 부족과 계시별 요금제(전력소비가 급증하는 계절과 시간대에는 높은 요금을 적용 하고 상대적으로 전력소비가 적은 계절과 시간대에는 낮은 요금을 적용하는 제도)와 상관없이 허용 최대 출력 (full speed)으로 스케줄링이 필요없이 지속적인 충전을 포함하는 것이 가능하며, 선택한 서비스 혹은 전력부족 시 지속시간 동안 계시별 요금제에 상관없이 본 명세서에서 제안하는 충전 스케줄링 방법을 적용하여 공평한 서 비스를 제공하는 충전 서비스도 가능하다. 또한 계시별 요금제 중 고가의 시간대를 피한 본 명세서에서 제안하는 충전 스케줄링을 적용하여 공평한 서비스를 제공하는 충전 서비스도 가능하다. 즉, 본 명세서에서 제안하는 충전 서비스는 서비스 분류나 혹은 전력이 부족할 경우 충전 스케줄링 방법을 통해 제공되는 공평하게 할당된 시간, 즉 제한된 시간동안 전기차로 공평한 충전 서비스를 제공할 수 있다. 또한, 전기차 충전기의 요구 전력이 공급되는 제한된 공급 전력을 초과하지 않는 범위에서 충전 시간을 제한함 과 동시에 모든 충전기에 공평하게 전력을 공급하도록 적절한 충전시간을 할당하고, 이를 충전 스케줄링을 통해 충전시작과 종료를 제어하는 방법이 필요하다. 이를 위해 요구 전력량, 전력공급 부족시 얼마나 지속되는지 전 력부족 지속시간 (피크타임 시간대 포함) 뿐만 아니라 자동차 배터리 용량, 배터리 잔량, 충전량, 충전기의 충 전 속도, 계시별 요금에 따른 시간 주기, 충전기 상태 등과 관련된 정보가 필요하며, 충전 상태의 변화(계시별 요금 시간대, 피크타임 시간대, 공급량 등의 변화와 스케줄링에 의해 충전 중인 전기차의 완충, 새로운 전기차 가 충전기에 연결 등)가 확인될 필요가 있다. 또한, 본 명세서에서 제안하는 충전 스케쥴링 방법은 상기 계시별 요금을 기반으로 하는 충전서비스 분류에 따 라 충전 스케줄링이 차등 적용될 수 있으며, 충전 상태 변화에 따라 인터럽트(interrupt)를 발생시켜 기존 스케 쥴링을 업데이트하여 새로운 스케줄링을 적용시킬 수 있으며, 공급 전력 부족 시 경우에 따라 충전기들의 허용 최대 출력의 피크 쉐이빙 스케줄링을 적용시켜 지속적인 서비스가 가능하다. 모든 전기차 충전기는 충전 시 허용 최대출력(full speed)으로 충전을 수행한다는 조건에 따라 효율적이고 공평 한 스케줄링을 위해 충전이 필요한 전기차 충전기에 할당된 충전 시간을 같은 허용 최대 출력을 갖는 충전기들 에 대해 모두 동일하게 정의하며, 충전 제어를 위해 타임 슬롯을 정의하여 주어진 시간대 즉, 주어진 타임 슬롯 내에서 충전을 수행할 수 있도록 한다. 타임 슬롯에는 하나의 전기차 충전기가 할당될 수 있고, 다수의 전기차 충전기가 배정될 수도 있지만, 전기차 충전기별 단 하나의 타임슬롯에 할당되도록 하는 것이 바람직할 수 있다. 만일 둘 이상의 타임 슬롯에 전기차 충전기가 배정되는 경우, 전력 공급량을 초과하게 되는 문제가 발생될 수 있다. 이를 위해 본 명세서에서는 전기차 충전기들을 그룹화하고 전기차 충전기들은 하나의 그룹에만 포함될 수 있도 록 정의하여 그룹단위로 타임슬롯이 할당되도록 한다. 그리고, 동일한 그룹에 포함된 전기차 충전기들은 동일한 타임 슬롯이 배정되기 때문에 동시에 충전이 시작되고 종료되도록 한다. 만약 충전 속도가 다른 전기차 충전기들이 혼합되어 있을 경우, 같은 충전 속도를 가진 전기차 충전기들로 클러 스터링(또는 그룹화)를 하여 각 클러스터링에 필요한 총 공급량의 비율에 따라 공급전력을 나누어 각 클러스터 링에 제공하여 클러스터별 스케줄링을 수행하도록 한다. 여기서, 스케줄링을 위한 공급 전력량은 전체 공급총량 에서 부하에 상관없이 지속적인 충전 서비스에 필요한 전력을 뺀 나머지로 정의한다. 또한, 부하에 상관없는 스케줄링이 필요없이 지속적인 충전 서비스를 위한 최대 전력량을 지정하여 그 범위내에 서 서비스를 제공하고, 본 명세서에서 제안하는 충전 스케줄링 서비스를 제공할 수 있도록 한다. 부하에 상관 없이 스케줄링이 적용되지 않는 지속적 서비스를 위한 최대 전력량은 사업자별 관리시스템에 의해 지정되고, 축 적되는 데이터를 통해 이러한 서비스를 위한 최대 전력량을 예측하여 지정하거나, 또는 최대 전력량의 한계 없 이 서비스를 추가할 수도 있다. 이하, 본 명세서에서 제안하는 충전 스케쥴링을 수행하는 스케쥴링 장치 및 스케쥴링 장치에 의해 수행되는 충 전 스케쥴링 방법에 대해 관련 도면을 참고하여 살펴본다. 도 3은 본 명세서에서 제안하는 스케쥴링 장치의 내부 블록도의 일례를 나타낸 도이다. 스케쥴링 장치는 큐(queue), 스케쥴러 모듈(또는 스케쥴러, 120) 및 충전 제어 스크립트 모듈을 포함하여 구성될 수 있다. 상기 큐 및 상기 스케쥴러 모듈은 도면에서와 같이 충전 스케줄러와 피크 쉐이빙 스케줄러 두 개로 혹은 사업자 정책에 따라 하나의 충전 스케쥴러로 구현될 수도 있다. 상기 큐는 충전이 필요한 전기차 충전기를 나타내는(또는 식별하는) 정보가 입력되는 대기 큐(waiting queue) 및 전기차 충전기의 가입된 서비스에 따라 전기차 충전기를 n단계의 서비스 (n ≥ 1)로 분류하는 준비 큐(ready queue)를 포함할 수 있다. 상기 대기 큐 및 상기 준비 큐로 입력되는 것은 전기차 충전기를 나타내는 정보(예: 식별 정도 등)에 해당하나, 이하 설명의 편의를 위해 전기차 충전기가 상기 대기 큐 및 상기 준비 큐로 입력되는 것도 같은 의미로 해석하기로 한다. 상기 대기 큐(waiting queue)는 제1 큐, 상기 준비 큐(ready queue)는 제2 큐로 호칭될 수 있다. 먼저, 상기 대기 큐는 충전이 필요한 전기차 충전기에 대한 정보를 입력 받고, 상기 대기 큐에 저장된 전기차 충전기에 대한 정보를 상기 준비 큐로 전달한다. 이후, 상기 준비 큐는 전기차 충전기의 충전 서비스를 분석하여 1 부터 n 옵션 단계까지의 서비스로 분류한다. 상기 분류된 서비스들은, 각각 제1 세부 큐(112-1), 제2 세부 큐(112-2) 및 제n 세부 큐(112-3)로 분류될 수 있 다. 즉, 상기 분류된 서비스들은 제1 세부 큐부터 제n 세부 큐에 저장될 수 있다. 상기 세부큐에 저장된 서비스들은 서비스 정보와 함께 충전 스케쥴러 모듈로 전달한다. 상기 스케쥴러 모듈은 후술할 충전 스케쥴링 방법을 통해 충전 스케쥴링을 수행한다. 이후, 상기 충전 제어 스크립트 모듈은 상기 준비 큐들로부터 각각 서비스에 해당하는 전기차 충전기에 대한 정 보를 바탕으로 생성된 충전 스케줄링을 기 설정된 충전 정책에 따라 전기차 충전기에 대한 충전 서비스가 수행 되도록 제어한다. 또한, 상기 충전 제어 스크립트 모듈은 전기차 충전기(또는 충전 스테이션)의 충전 상태 변화를 감지하는 경우, 현재 수행되고 있는 충전 스케줄링을 중단하기 위한 인터럽트를 발생시키고, 상기 충전 스케쥴링을 업데이트하 고, 상기 스케쥴링 모듈로 업데이트된 충전 스케쥴링을 적용하도록 하고 공급전력이 타임슬롯에 기반한 충전 스 케줄링을 적용하지 못할 정도로 작을 경우 피크 쉐이빙 스케줄링을 통해 충전서비스가 지속될 수 있도록 제어한 다. 도 4는 본 명세서에서 제안하는 충전 스케쥴링 방법의 일례를 나타낸 순서도이다. 먼저, 전기차 충전기의 전력 공급량이 충분할 경우 전기차 충전기의 모든 충전 서비스들은 허용 최대 출력(full speed)으로 충전이 수행된다(S410). 그리고, 충전 중인 상태에서 전기차 충전기에 대한 정보는 대기 큐(waiting queue)로 입력된다(S420). 상기 대 기 큐에 저장된 상태에서 충전이 완료되는 경우, 스케쥴링 장치는 이를 확인하여 충전이 완료된 전기차 충전기 에 대한 정보가 준비 큐로 전달되지 않도록 한다. 다음으로, 스케쥴링 장치는 충전 서비스의 종류와 충전 시간에 따라 충전 스케쥴링의 적용 여부를 결정한다 (S430). 즉, 서비스 분류가 스케줄링이 필요한 서비스 분류인지 아닌지를 결정하고 서비스 분류가 스케줄링이 필요없을 경우 계시별 스케줄링을 하나의 요금제로 하여 타임슬롯 스케줄링 없이 동시 충전 스케줄링을 생성하여 충전스 크립트 모듈로 전달하고 만약 스케줄링이 필요할 경우 서비스 분류에 따른 타임슬롯 스케줄링을 포함한 충전 스케줄링을 생성하여 충전제어 스크립트로 전달한다. 하지만, 전력공급 매우 부족하여 타임 슬롯에 기반한 충전 스케줄링 생성이 불가능할 경우 이를 피크 쉐이빙 스 케줄링을 통해 충전 스케줄을 생성하여 충전 서비스가 제공된다. 다음으로, 충전 스케줄링 서비스를 수행하는 도중에 전기차 충전기의 충전 상태 변화가 발생된 경우, 스케쥴링 장치는 인터럽트를 발생시켜 기 설정된 정책에 따라 현재 수행 중인 스케줄링 방법을 업데이트 후 업데이트된 스케쥴링을 적용하고, 만약 스케줄링 업데이트가 불가능할 경우 기존 스케줄링을 피크 쉐이빙 스케줄러로 전달 하여 이를 기반으로 공평하게 충전기들의 최대 출력을 피크 쉐이빙하여 충전서비스를 제공한다(S440). 도 5는 본 명세서에서 제안하는 전력 공급량에 따라 충전 서비스를 수행하는 일례 (4단계 서비스 예)를 나타낸 도이다. 도 5를 참고하면, 서비스 옵션 4는 전력공급상황에 관계없이 끊김 없이 충전 서비스를 제공할 수 있으며, 서비 스 옵션 3은 최대 부하와 전력공급 부족시 스케줄링에 의한 서버스를 제공하며, 서비스 옵션 2는 중간부하까지 는 끊김 없는 충전서비스와 중간부하시 전력공급 부족할 경우 스케줄링에 의한 서비스를 제공하고, 서비스 옵션 1은 경부하는 끊김없는 충전서비스, 경부하시 예외상황이 발생하여 공급전력이 부족할 경우 스케줄링에 의한 서비스를 제공한다. 도 6은 본 명세서에서 제안하는 충전 스케쥴링 방법의 또 다른 일례를 나타낸 순서도이다. 먼저, 스케쥴링 장치는 전기차 충전기에 전력을 할당할 충전 시간을 계산한다(S610). 상기 충전 시간을 계산하기 위해 아래와 같이 파라미터를 정의할 수 있다. - 충전이 필요한 모든 전기차 충전기의 수: NC - 전력을 할당할 충전 시간: AT - 충전 속도: SP - 전력 부족 지속시간: TP - 전력 부족 지속시간 동안 공급되는 전력량: PO 여기서, PO는 전체 전력 공급량에서 프리미엄 서비스에 필요한 전력 공급량을 뺀 전력량을 의미한다. 상기 전력을 할당할 충전 시간은 아래 수학식 1 및 수학식 2를 통해 산출될 수 있다. 만약 충전기들의 충전속도 가 다른 것들이 공존할 경우, 아래 수학식은 클러스터링을 방식을 적용하여 같은 충전속도에 해당하는 것들로 따로 계산하여 적용한다. 수학식 1"}
{"patent_id": "10-2023-0075460", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "수학식 2"}
{"patent_id": "10-2023-0075460", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "수학식 2에서 사용되는 시간 단위는 시, 분, 초 모두 가능할 수 있으나, 시간 단위가 초인 경우 floor 함수에서 발생하는 오차가 매우 적기 때문에 시간 단위를 초로 선정하는 것이 바람직할 수 있다. 다음으로, 상기 스케쥴링 장치는 전기차 충전기를 할당할 타임 슬롯을 생성한다(S620). 상기 타임 슬롯의 수(number of time slots)는 NTS로 정의할 수 있으며, 상기 타임 슬롯의 수는 아래 수학식 3 및 수학식 4에 의해 계산될 수 있다. 수학식 3"}
{"patent_id": "10-2023-0075460", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "수학식 4 여기서, 타임 슬롯은 t[1], t[2], ... t[NTS]로 나타낼 수 있으며, 각 타임 슬롯에 배정된 시간은 AT로 나타낼 수 있다. 다음으로, 상기 스케쥴링 장치는 생성된 타임슬롯에 할당할 전기차 충전기를 그룹핑한다(S630). 전기차 충전기의 그룹수는 1개에서 NTS까지 가능하며 다양한 방식으로 그룹핑을 할 수 있으며, 전기차 충전기의 그룹핑 방법에 대해서는 후술하기로 한다. 여기서, 전기차 충전기의 그룹수 (number of groups)를 NG로 정의하는 경우, 1 ≤ NG ≤ NTS를 만족한다. 또한, 전기차 충전기 그룹에 전기차 충전기를 포함시키는 순서는 관리 시스템의 정책에 따라 random selection, FIFO(First Input First Out), 배터리 잔량 순서 등의 방식이 사용될 수 있으며, 정책에 따라 각 그룹은 타임 슬롯에 할당된다. 다음으로, 상기 스케쥴링 장치는 전기차 충전기 그룹별로 타임 슬롯을 할당한다(S640). 다음으로, 상기 스케쥴링 장치는 전기차 충전기의 충전 상태에 대한 변화를 감지한 경우, 충전 스케쥴링을 중단 하기 위한 인터럽트 생성 후, 충전 스케쥴링을 업데이트하고(S650), S610 단계를 수행한다. 다음으로, 본 명세서에서 제안하는 전기차 충전기를 그룹핑하는 다양한 방법에 대해 관련 도면을 참고하여 살펴 보기로 한다. 그룹핑 방법 1: 일괄 동시 충전 방법 그룹핑 방법 1은 모든 전기차 충전기를 하나의 그룹에 속하게 하고 하나의 그룹을 타임 슬롯에 할당하여 모든 전기차 충전기가 동시에 충전을 시작하고 종료하게 하는 방법이다. 즉, 그룹핑 방법 1은 일괄 동시 충전 방법으 로, 공급 전력량 이상은 사용하지 못한다. 또한, 그룹핑 방법 1은 하나의 타임 슬롯 시간대만 충전 서비스를 위한 동작이 수행되고, 나머지 타임 슬롯은 동작되지 않는다. 상기 하나의 그룹에 할당되는 타임 슬롯은 랜덤으로 선택되거나 또는, 관리 시스템의 부하관리 정책에 따라 결 정될 수 있다. 도 7은 본 명세서에서 제안하는 전기차 충전기 그룹핑 방법의 일례를 나타낸 도이다. 도 7을 참고하면, 전기차 충전기의 수는 7개이고 4개의 타임슬롯이 정의되어 있으며, 두 번째 타임 슬롯에 7개 의 전기차 충전기가 하나의 그룹으로 할당된 예를 나타내며, 타임 슬롯 배정 정책은 임의 선택(random selection) 방식이 사용된 경우이다. 그룹핑 방법 2: 타임슬롯 별 개별 충전 방법 그룹핑 방법 2는 그룹 수를 타임 슬롯 수와 동일하게 구성하고, 마지막 그룹을 제외하고 하나의 그룹에 하나의 전기차 충전기만을 포함시켜 타임 슬롯을 할당하는 방법이다. 하지만, NTS 계산 시 floor 함수를 사용하여 발생 하는 오차로 인해 타임 슬롯 수가 전기차 충전기의 수보다 작을 수 있다. 따라서, 마지막 그룹은 그룹에 배정하 고 남은 모든 전기차 충전기를 포함하도록 한다. 도 8은 본 명세서에서 제안하는 전기차 충전기 그룹핑 방법의 또 다른 일례를 나타낸 도이다. 도 8을 참고하면, 그룹 수는 7개이고, 타임 슬롯의 수는 7개이다. 그리고, 충전이 필요한 전기차 충전기의 수는 8개이기 때문에, 마지막 그룹은 2개의 전기차 충전기를 포함하는 것을 볼 수 있다. 도 8에서 타임 슬롯 할당에 사용된 정책은 FIFO로 전기차 충전기에 연결된 순서로 그룹에 포함시킨다. 그룹핑 방법 3: 타임 슬롯 별 k 충전 방법 그룹핑 방법 3은 각 그룹마다 k개의 전기차 충전기를 포함시켜 그룹을 타임 슬롯에 할당하는 방법이다. 여기서, 그룹 수(NG)는 이며, 그룹 1부터 그룹 N-1까지는 k개의 전기차 충전기를 포함하고, 마지막 그 룹은 아직 그룹에 포함되지 않은 모든 전기차 충전기를 포함한다. 마지막 그룹에 포함되는 전기차 충전기 수는 NC를 k로 나눈 나머지 값에 해당한다. 여기서, k 값은 아래 수학식을 이용하여 산출될 수 있다. 수학식 5"}
{"patent_id": "10-2023-0075460", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "여기서, k는 전력 부족 지속 시간 동안 최대 속도(full speed)로 충전 가능한 전기차 충전기의 수를 나타내며, 아래 수학식 6 및 7을 통해 산출될 수 있다. 수학식 6"}
{"patent_id": "10-2023-0075460", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "수학식 7"}
{"patent_id": "10-2023-0075460", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "앞서 살핀 그룹핑 방법 이외에도 관리 시스템의 정책 등에 따라 자유롭게 k 값을 정할 수 있다. 또한, 그룹에 전기차 충전기를 포함시키는 방법과 타임 슬롯 할당 방법은 앞서 살핀 그룹핑 방법 2에서와 마찬 가지로 관리시스템 정책에 의해 수행될 수 있다. 예를 들어, NC=8, k=3이 주어지고, 7개의 타임슬롯이 할당되었다고 가정한다. 이 경우, NG는 에 의해 3이 된다. 여기서, 그룹에 충전기를 포함시키는 정책은 FIFO이고, 타임슬롯을 할 당하는 정책은 FIFO에 의해 순차적으로 할당된다. 즉, Group1 = {c1, c2, c3}, Group2 = {c4, c5, c6}, group3 = {c7, c8}이며, c1 내지 c8은 전기차 충전기를 나타낸다. FIFO 정책에 의해, 첫 번째 타임슬롯(t[1])에 Group 1, 두 번째 타임슬롯(t[2])에 Group 2, 세 번째 타임슬롯 (t[3])에 Group 3이 할당되며, 도 8과 같은 스케줄링 테이블을 얻을 수 있다. 도 9는 본 명세서에서 제안하는 전기차 충전기 그룹핑 방법의 또 다른 일례를 나타낸 도이다. 그룹핑 방법 4: 비정형 그룹 충전 방법 그룹핑 방법 4는 전기차 충전기를 임의 선택(random selection)을 통해 자유롭게 그룹화하고 정책에 따라 각 그 룹에 타임 슬롯을 할당하여 충전하는 방법으로, 각 그룹에 포함된 전기차 충전기의 수는 서로 다를 수 있다. 그룹 1부터 순차적으로 전기차 충전기를 포함시키며, 모든 전기차 충전기들이 그룹에 포함될 때까지 반복된다. 도 10은 본 명세서에서 제안하는 전기차 충전기 그룹핑 방법의 또 다른 일례를 나타낸 도이다. 임의 선택(random selection)을 이용한 비정형 그룹핑 방법에 대해 예를 들어 살펴본다. 먼저, 그룹 순서별로 random 숫자를 생성한다. 생성된 random 숫자는 1부터 NC 사이일 수 있다. Rn을 생성된 random 숫자라고 할 때 그룹에 Rn개의 전기차 충전기를 정책에 따라 포함할 수 있다. 이후, 1부터 NC - Rn 사이 에서의 random 숫자를 발생시켜 동일한 방식으로 그룹에 전기차 충전기를 포함하고, 모든 전기차 충전기가 그룹 에 포함될 때까지 반복한다. 예를 들어, 충전이 필요한 전기차 충전기를 각각 c1, c2, c3, c4, c5, c6, c7, c8라 하고, 타임슬롯은 7개(t[1 - 7])가 할당되며, 그룹에 전기차 충전기를 포함시키는 정책은 FIFO이고, 각 그룹에 포함되는 전기차 충전기의 수는 random selection으로 정해지며, 타임 슬롯 할당은 FIFO라고 가정한다. 이 경우, 그룹에 부여되는 임의 숫자 및 각 그룹에 포함되는 전기차 충전기는 아래와 같다. - Rn = 2, 그룹1 {c1, c2}, 8 - 2 = 6 - Rn = 1, 그룹2 {c3}, 6 - 1 = 5 - Rn = 3, 그룹3 {c4, c5, c6}, 5 - 3 = 2 - Rn = 1, 그룹4 {c7}, 2 - 1 = 1 - Rn = 1, 그룹5 {c8}, 1 - 1 = 0 도 10에 도시된 바와 같이, 각 타임 슬롯에 할당되는 그룹은 t[1]: 그룹 1, t[2]: 그룹 2, t[3]: 그룹 3, t[4]: 그룹 4, t[5]: 그룹 5와 같다. 다음으로, 전기차 충전기에 충전 상태의 변화가 있는 경우 본 명세서에서 제안하는 충전 스케쥴링을 업데이트하 는 방법에 대해 살펴본다. 전기차 충전기에 대해 적용되고 있는 스케줄링은 다양한 이유로 인해 충전 상태의 변화가 발생하였을 경우, 업 데이트될 필요가 있다. 업데이트가 요구되는 충전 상태의 변화는 타임슬롯 종료 이전 완충, 새로운 전 기차 충전기의 전력 요구(새로운 전기차가 충전기에 연결되었을 경우), 전력부족 지속시간의 변화, 전 력 공급량의 변화, 서비스의 추가 등이 있을 수 있다. 이하, 스케쥴링의 업데이트가 요구되는 충전 상태의 변화가 발생하는 사항에 대해 보다 구체적으로 살펴보고, 이하에서 설명하는 '스케줄링 시간'은 하나의 타임 슬롯에 할당된 제한 시간이 아니고 전력 부족 지속 시간을 의미하는 것으로 해석한다. 먼저, 타임 슬롯 종료 이전 완충되어 스케쥴링에 대한 업데이트가 필요한 경우에 대해 살펴본다. 개별 전기차 충전기에 할당된 충전 시간 이전에 충전이 완충되어 할당된 충전량이 남은 경우로, 현재 스케줄링 에 영향을 미칠 정도의 충전량이 남을 경우 인터럽트를 발생시켜 스케쥴링을 업데이트하고, 새로운 스케줄링을 수행한다. 인터럽터가 발생되도록 하는 사용가능한 충전량은 전체 공급량(현재기준)의 m%(예: m=5) 이상이며, 공급 부족 지속시간이 n분(예: 30분) 이상 남았을 경우로 정의한다. 상기 사용가능한 충전량은 타임슬롯 종료 이전 완충되는 모든 전기차 충전기의 잔여량을 합한 값으로 정의하고, m값과 n값은 관리시스템의 정책에 따라 결정되는 것으로 정의한다. 하지만, 상기 사용가능한 충전량이 적고 스 케줄링 종료시간이 얼마 남지 않았을 경우, 인터럽트가 발생되지 않도록 정의할 수 있다. 다음으로, 새로운 전기차 충전기의 전력 요구에 의해 스케쥴링에 대한 업데이트가 필요한 경우에 대해 살펴본다. 이는 충전 스케줄링이 수행되고 있는 상황에서 새로운 전기차 충전기가 전력을 요구하는 경우로서, 스케줄링 종 료가 n분 이상 남았을 경우, 인터럽트를 발생시켜 현재 시점에서 스케줄링을 업데이트하여 새로운 충전 스케쥴 링을 수행한다. 관리 시스템 정책에 따라 n값(예: 20분)을 지정하고, 스케줄링 종료 시점이 현재 기준 충전을 위해 충분한 시간이 아닌 경우 인터럽터가 발생되지 않도록 정의한다.다음으로, 전력 부족 지속시간의 변화로 인해 스케쥴링에 대한 업데이트가 필요한 경우에 대해 살펴본다. 주어진 (혹은 예측되었던) 전력부족 지속시간의 종료시점에 충전 상태의 변화가 감지되었을 경우, 이는 부하관 리에 매우 민감한 상태 변화로 즉시 인터럽트를 발생시키고 스케줄링을 업데이트하고, 새로운 스케쥴링을 수행 한다. 다음으로, 전력 공급량의 변화로 인해 스케쥴링에 대한 업데이트가 필요한 경우에 대해 살펴본다. 스케줄링의 시작과 종료까지의 시점에서 전력 공급 총량에 변화가 감지 되었을 경우로, 만약 전력 공급 총량이 줄어든 경우, 즉시 인터럽트를 발생시켜 스케줄링을 업데이트하여 새로운 스케쥴링을 적용시키고, 만약 전력 공 급 총량이 늘어난 경우, 현재 시점에서 스케줄링 종료까지의 남은 시간을 계산하여 관리시스템의 정책에 따라 m 분(예: 30분) 이상 남았을 경우 스케줄링을 업데이트하며, 충전량에 미치는 영향이 작은 m분 미만이면 업데이트 없이 현재의 스케줄링을 유지시킨다. 이러한 상태는 서비스를 받고 있는 충전기들 중 완충이 되어 서비스에 공 급된 전력이 남을 경우에 발생할 수도 있다. 이때, 새로운 서비스 요청이 없을 경우 정책에 따라 전력 스케줄링을 필요로 하는 서비스에 사용할 수도 있고, 이후 새로운 서비스의 추가를 위해 스케줄링 서비스로 이관 시키지 않을 수도 있다. 마지막으로 부하에 관계없이 끊김 없는 충전 서비스가 추가되어 스케쥴링에 대한 업데이트가 필요한 경우에 대 해 살펴본다. 만약 현재 시점에 상기 서비스를 받고 있는 충전 요구량이 최대치를 넘지 않을 경우, 정책에 따라 잔여량을 스 케줄링 서비스에 사용할 수 있다. 이 경우, 스케줄링 서비스 실행 중 사업자별 관리시스템 정책에 의해 지정되 는 전력량 내에서 서비스를 요구하는 새로운 전기차가 충전기에 연결되었을 경우, 즉시 인터럽트를 발생시키고 스케줄링을 업데이트하여 새로운 스케쥴링을 적용시킨다. 도 11은 본 명세서에서 제안하는 충전 스케쥴링 방법의 또 다른 일례를 나타낸 순서도이다. 즉, 도 11은 전기차에 충전 서비스를 제공하는 복수의 전기차 충전기들에 대한 충전 스케쥴링을 스케쥴링 장치 에서 수행하는 방법을 나타낸다. 먼저, 상기 스케쥴링 장치는 상기 스케쥴링 장치에 연결되는 전기차 충전기의 순서대로 전기차 충전기를 나타내 는 정보를 상기 스케쥴링 장치의 대기 큐(waiting queue)로 입력한다(S1110). 그리고, 상기 스케쥴링 장치는 상기 대기 큐에 저장된 전기차 충전기에 대한 정보를 각 전기차 충전기에 대한 정보에 대응하는 각각의 전기차 충전기와 관련된 충전 서비스 별로 분류하기 위해 상기 스케쥴링 장치의 준비 큐(ready queue)로 전달한다(S1120). 그리고, 상기 스케쥴링 장치는 상기 스케쥴링 장치의 준비 큐에서, 상기 전기차 충전기에 대한 정보를 상기 충 전 서비스 별로 분류하고, 상기 분류된 전기차 충전기에 대한 정보를 각 충전 서비스에 대응하는 상기 준비 큐 의 세부 큐에 저장한다(S1130). 상기 준비 큐의 세부 큐는 서비스 분류에 따라 제1 세부 큐부터 제 n 세부 큐를 포함할 수 있다. 그리고, 상기 스케쥴링 장치는 상기 충전 서비스의 종류 및 충전이 수행되는 충전 시간에 기초하여 상기 복수의 전기차 충전기들에 대한 충전 스케쥴링이 필요한지 여부를 결정한다(S1140). 또한, 상기 충전 스케쥴링은 상기 전력 공급이 부족한 시간 동안 공급 가능한 전력량, 충전이 요구되는 전기차 충전기의 수 및 전기차 충전기의 충전 속도에 기초하여 전기차 충전기에 할당할 충전 시간을 산출하고, 상기 산 출된 충전 시간과 상기 전력 공급이 부족한 시간에 기초하여 전기차 충전기를 할당하기 위한 타임 슬롯의 수를 산출하고, 상기 충전이 요구되는 전기차 충전기를 동일한 충전 속도를 가지는 적어도 하나의 전기차 충전기를 포함하는 적어도 하나의 충전 그룹으로 그룹핑하고, 상기 그룹핑된 충전 그룹을 상기 타임 슬롯에 할당하는 단 계를 포함할 수 있다. 상기 충전이 수행되는 충전 시간은 전력 공급이 정상적으로 이루어진 시간 및 전력 공급이 부족한 시간을 포함 할 수 있다. 그리고, 상기 스케쥴링 장치는 전기차 충전기의 충전 상태에 대한 변화가 감지되는 경우, 상기 복수의 전기차 충전기들에 적용되고 있는 충전 스케쥴링을 새로운 충전 스케쥴링으로 업데이트하고 필요하면 피크 쉐이빙 스케 줄링을 적용한다(S1150). 상기 전기차 충전기의 충전 상태 변화는 타임 슬롯의 정해진 시간 종료 전에 충전이 완료되거나, 새로운 전기차 충전기의 전력 요구가 있거나, 전력 부족 지속 시간의 변화가 발생하거나, 전력 공급량의 변화가 발생하거나 또 는 또 다른 서비스의 추가가 발생하는 경우에 감지될 수 있다. 도 12는 본 명세서에서 제안하는 방법이 적용될 수 있는 차량 장치의 내부 블록도의 일례를 나타낸 도이다. 본 명세서에서 제안하는 방법 또는 기능을 구현하기 위한 차량 장치는 전기 자동차, 전기차 등으로 호칭될 수 있으며, 프로세서, AI 장치, 메모리, 인터페이스부, 전원 공급부, 입력장치, 영상장치, 통신장치, 디스플레이장 치, 무선전력 수신장치 등을 포함할 수 있다. 먼저, 프로세서는, 통신 장치를 통해, 외부로부터 신호, 정보 또는 데이터를 수신할 수 있다. 또한, 상기 프로 세서는 외부로 신호, 정보 또는 데이터를 전송할 수 있다. 프로세서는, 영상 장치에 포함된 내부 카메라 및 외부 카메라 중 적어도 어느 하나에서 수신되는 영상 데이터에 기초하여, 무선전력 송신장치를 특정할 수 있다. 프로세서는, 영상 데이터에 영상 처리 알고리즘을 적용하여 무 선전력 송신장치를 특정할 수 있다. 예를 들면, 프로세서는, 외부로부터 수신되는 정보와 영상 데이터를 비교하 여 무선전력 송신장치를 특정할 수 있다. 예를 들면, 정보는, 차량의 경로 정보, 무선전력 송신장치의 위치 정 보, 및 무선충전 시스템 이용 이력 정보 중 적어도 어느 하나를 포함할 수 있다. AI 장치는 인공지능 에이전트(artificial intelligence agent)를 포함할 수 있다. 인공지능 에이전트는, 입력 장치를 통해 획득된 데이터를 기초로 기계 학습(machine learning)을 수행할 수 있다. 인공지능 에이전트는, 기 계 학습된 결과에 기초하여, 디스플레이장치 중 적어도 어느 하나를 제어할 수 있다. 메모리는, 유닛에 대한 기본데이터, 유닛의 동작제어를 위한 제어데이터, 입출력되는 데이터를 저장할 수 있다. 메모리는, 프로세서에서 처리된 데이터를 저장할 수 있다. 메모리는, 하드웨어적으로, ROM, RAM, EPROM, 플래시 드라이브, 하드 드라이브 중 적어도 어느 하나로 구성될 수 있다. 인터페이스부는, 차량 장치 내에 구비되는 적어도 하나의 전자 장치와 유선 또는 무선으로 신호를 교환할 수 있 다. 인터페이스부는, 통신 모듈, 단자, 핀, 케이블, 포트, 회로, 소자 및 장치 중 적어도 어느 하나로 구성될 수 있다. 전원 공급부는, 차량 장치에 전원을 공급할 수 있다. 전원 공급부는, 프로세스로부터 제공되는 제어 신호에 따 라 동작될 수 있다. 입력 장치는, 사용자 입력을 수신할 수 있다. 입력 장치는, 사용자 입력을 전기적 신호로 전환할 수 있다. 입력 장치에 의해 전환된 전기적 신호는 제어 신호로 전환되어 디스플레이장치에 제공될 수 있다. 입력 장치는, 터치 입력부, 제스쳐 입력부, 기계식 입력부 및 음성 입력부 중 적어도 어느 하나를 포함할 수 있 다. 터치 입력부는, 사용자의 터치 입력을 전기적 신호로 전환할 수 있다. 터치 입력부는, 사용자의 터치 입력 을 감지하기 위해 적어도 하나의 터치 센서를 포함할 수 있다. 실시예에 따라, 터치 입력부는 디스플레이장치에 포함되는 적어도 하나의 디스플레이와 일체형으로 형성됨으로써, 터치 스크린을 구현할 수 있다. 이러한, 터치 스크린은, 차량 장치와 사용자 사이의 입력 인터페이스 및 출력 인터페이스를 함께 제공할 수 있다. 제스쳐 입 력부는, 사용자의 제스쳐 입력을 전기적 신호로 전환할 수 있다. 제스쳐 입력부는, 사용자의 제스쳐 입력을 감 지하기 위한 적외선 센서 및 이미지 센서 중 적어도 어느 하나를 포함할 수 있다. 실시예에 따라, 제스쳐 입력 부는, 사용자의 3차원 제스쳐 입력을 감지할 수 있다. 이를 위해, 제스쳐 입력부는, 복수의 적외선 광을 출력하 는 광출력부 또는 복수의 이미지 센서를 포함할 수 있다. 영상 장치는, 적어도 하나의 카메라를 포함할 수 있다. 영상 장치는, 내부 카메라 및 외부 카메라 중 적어도 어 느 하나를 포함할 수 있다. 내부 카메라는, 차량 내의 영상을 촬영할 수 있다. 외부 카메라는, 차량 외부 영상 을 촬영할 수 있다. 내부 카메라는, 차량 장치 내의 영상을 획득할 수 있다. 영상 장치는, 적어도 하나의 내부 카메라를 포함할 수 있다. 영상 장치는, 내부 카메라에 의해 획득된 영상을 제공할 수 있다. 프로세서는, 내부카메라에 의해 획득된 영상에 기초하여 사용자의 모션을 검출하고, 검출된 모션에 기초하여 신호를 생성하여, 디스플레이장치에 제공할 수 있다. 외부 카메라는, 차량 외부 영상을 획득할 수 있다. 영상 장치는, 적어도 하 나의 외부 카메라를 포함할 수 있다. 영상 장치는, 외부 카메라에 의해 획득된 영상을 제공할 수 있다. 프로세 서는, 외부 카메라에 의해 획득된 영상에 기초하여 사용자 정보를 획득할 수 있다. 통신 장치는, 외부 디바이스와 무선으로 신호를 교환할 수 있다. 통신 장치는, 네트워크 망을 통해 외부 디바이 스와 신호를 교환하거나, 직접 외부 디바이스와 신호를 교환할 수 있다. 외부 디바이스는, 서버, 이동 단말기 및 타 차량 장치 중 적어도 어느 하나를 포함할 수 있다. 통신 장치는, 통신을 수행하기 위해 안테나, 적어도 하나의 통신 프로토콜이 구현 가능한 RF(Radio Frequency) 회로 및 RF 소자 중 적어도 어느 하나를 포함할 수 있다. 실시예에 따라, 통신 장치는, 복수의 통신 프로토콜을 이용할 수도 있다. 예를 들어, 통신 장치는 C-V2X(Cellular V2X) 기술을 기반으로 외부 장치와 신호를 교환할 수 있다. 예를 들어, C-V2X 기술은 LTE 기반의 사이드링크 통신 및/또는 NR 기반의 사이드링크 통신을 포함할 수 있다. 예를 들어, 통신 장치는 IEEE 802.11p PHY/MAC 계층 기술과 IEEE 1609 Network/Transport 계층 기술 기반의 DSRC(Dedicated Short Range Communications) 기술 또는 WAVE(Wireless Access in Vehicular Environment) 표 준을 기반으로 외부 디바이스와 신호를 교환할 수 있다. 통신 장치는 C-V2X 기술 또는 DSRC 기술 중 어느 하나만을 이용하여 외부 장치와 신호를 교환할 수 있다. 또는, 통신 장치는 C-V2X 기술 및 DSRC 기술을 하이브리드하여 외부 장치와 신호를 교환할 수 있다. 디스플레이장치는, 그래픽 객체를 표시할 수 있다. 이상에서 설명된 실시 예들은 본 발명의 구성요소들과 특징들이 소정 형태로 결합된 것들이다. 각 구성요소 또 는 특징은 별도의 명시적 언급이 없는 한 선택적인 것으로 고려되어야 한다. 각 구성요소 또는 특징은 다른 구 성요소나 특징과 결합되지 않은 형태로 실시될 수 있다. 또한, 일부 구성요소들 및/또는 특징들을 결합하여 본 발명의 실시 예를 구성하는 것도 가능하다. 본 발명의 실시 예들에서 설명되는 동작들의 순서는 변경될 수 있다. 어느 실시예의 일부 구성이나 특징은 다른 실시 예에 포함될 수 있고, 또는 다른 실시예의 대응하는 구성 또는 특징과 교체될 수 있다. 특허청구범위에서 명시적인 인용 관계가 있지 않은 청구항들을 결합하여 실시 예 를 구성하거나 출원 후의 보정에 의해 새로운 청구항으로 포함시킬 수 있음은 자명하다. 본 발명에 따른 실시 예는 다양한 수단, 예를 들어, 하드웨어, 펌웨어(firmware), 소프트웨어 또는 그것들의 결 합 등에 의해 구현될 수 있다. 하드웨어에 의한 구현의 경우, 본 발명의 일 실시 예는 하나 또는 그 이상의 ASICs(application specific integrated circuits), DSPs(digital signal processors), DSPDs(digital signal processing devices), PLDs(programmable logic devices), FPGAs(field programmable gate arrays), 프로세서, 콘트롤러, 마이크로 콘트롤러, 마이크로 프로세서 등에 의해 구현될 수 있다. 펌웨어나 소프트웨어에 의한 구현의 경우, 본 발명의 일 실시 예는 이상에서 설명된 기능 또는 동작들을 수행하 는 모듈, 절차, 함수 등의 형태로 구현될 수 있다. 소프트웨어 코드는 메모리에 저장되어 프로세서에 의해 구동 될 수 있다. 상기 메모리는 상기 프로세서 내부 또는 외부에 위치하여, 이미 공지된 다양한 수단에 의해 상기 프로세서와 데이터를 주고 받을 수 있다. 본 발명은 본 발명의 필수적 특징을 벗어나지 않는 범위에서 다른 특정한 형태로 구체화될 수 있음은 통상의 기 술자에게 자명하다. 따라서, 상술한 상세한 설명은 모든 면에서 제한적으로 해석되어서는 아니 되고 예시적인 것으로 고려되어야 한다. 본 발명의 범위는 첨부된 청구항의 합리적 해석에 의해 결정되어야 하고, 본 발명의 등가적 범위 내에서의 모든 변경은 본 발명의 범위에 포함된다. 부호의 설명도면 도면1 도면2 도면3 도면4 도면5 도면6 도면7 도면8 도면9 도면10 도면11 도면12"}
{"patent_id": "10-2023-0075460", "section": "도면", "subsection": "도면설명", "item": 1, "content": "본 발명에 관한 이해를 돕기 위해 상세한 설명의 일부로 포함되는, 첨부 도면은 본 발명에 대한 실시 예를 제공 하고, 상세한 설명과 함께 본 발명의 기술적 특징을 설명한다. 도 1은 본 명세서에서 제안하는 방법이 적용될 수 있는 충전 시스템의 일례를 나타낸 개념도이다. 도 2는 본 명세서에서 제안하는 방법이 적용될 수 있는 충전 시스템의 일례를 나타낸 내부 블록도이다. 도 3은 본 명세서에서 제안하는 스케쥴링 장치의 내부 블록도의 일례를 나타낸 도이다. 도 4는 본 명세서에서 제안하는 충전 스케쥴링 방법의 일례를 나타낸 순서도이다. 도 5는 본 명세서에서 제안하는 전력 공급량에 따라 충전 서비스를 수행하는 일례를 나타낸 도이다. 도 6은 본 명세서에서 제안하는 충전 스케쥴링 방법의 또 다른 일례를 나타낸 순서도이다. 도 7은 본 명세서에서 제안하는 전기차 충전기 그룹핑 방법의 일례를 나타낸 도이다. 도 8은 본 명세서에서 제안하는 전기차 충전기 그룹핑 방법의 또 다른 일례를 나타낸 도이다. 도 9는 본 명세서에서 제안하는 전기차 충전기 그룹핑 방법의 또 다른 일례를 나타낸 도이다. 도 10은 본 명세서에서 제안하는 전기차 충전기 그룹핑 방법의 또 다른 일례를 나타낸 도이다. 도 11은 본 명세서에서 제안하는 충전 스케쥴링 방법의 또 다른 일례를 나타낸 순서도이다.도 12는 본 명세서에서 제안하는 방법이 적용될 수 있는 차량 장치의 내부 블록도의 일례를 나타낸 도이다."}
