{"patent_id": "10-2023-0058956", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0162212", "출원번호": "10-2023-0058956", "발명의 명칭": "사출성형 품질관리를 위한 MLOPs 기반 오토 라벨링이 가능한 이상감지 시스템", "출원인": "성균관대학교산학협력단", "발명자": "이채규"}}
{"patent_id": "10-2023-0058956", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "데이터 가공 및 추가를 통한 제 1 정보가 생성되는 제 1 단계;네이버 클라우드 플랫폼에 상기 제 1 정보가 전달되는 제 2 단계;데이터 코딩을 통해 제 2 정보가 생성되는 제 3 단계;MLOps 플랫폼에 상기 1 정보 및 상기 제 2 정보가 전달되어 학습이 진행되는 제 4 단계;상기 MLOps 플랫폼을 통한 제 3 정보의 배포 여부가 결정되는 제 5 단계;배포하는 것으로 결정되면, 운영 서버를 통해 상기 제 3 정보가 자동으로 배포되는 제 6 단계;상기 운영 서버가 상기 배포되는 제 3 정보와 관련된 테스트를 자동으로 수행하는 제 7 단계; 및상기 테스트를 통과한 제 3 정보와 관련된 코드가 저장되는 제 8 단계;를 포함하는 사출성형 품질관리를 위한MLOPs 기반 오토 라벨링이 가능한 이상감지 시스템."}
{"patent_id": "10-2023-0058956", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 라벨링 자동화를 위한 Sampling 기법, GAN 모델, Clustering 기법 활용을 통한 데이터 품질체계 구축 과 복합 인공지능 모델 구성을 통한 배치작업이 자동으로 가능하고, 여러 머신러닝 및 딥러닝 모델의 결과값을 비교하고 최적 파라미터를 자동으로 찾아주는 프레임워크 구성을 통하여 고도화된 인력과 자본이 부족한 중소 뿌 리기업 대상으로 복합 인공지능 모델 활용 제조 운영 최적화기술개발의 효용이 가능한 사출성형 품질관리를 위한 MLOPs 기반 오토 라벨링이 가능한 이상감지 시스템에 관한 것이다."}
{"patent_id": "10-2023-0058956", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 라벨링 자동화를 위한 Sampling 기법, GAN 모델, Clustering 기법 활용을 통한 데이터 품질체계 구축 과 복합 인공지능 모델 구성을 통한 배치작업이 자동으로 가능하고, 여러 머신러닝 및 딥러닝 모델의 결과값을 비교하고 최적 파라미터를 자동으로 찾아주는 프레임워크 구성을 통하여 고도화된 인력과 자본이 부족한 중소 뿌리기업 대상으로 복합 인공지능 모델 활용 제조 운영 최적화기술개발의 효용이 가능한 사출성형 품질관리를 위한 MLOPs 기반 오토 라벨링이 가능한 이상감지 시스템에 관한 것이다."}
{"patent_id": "10-2023-0058956", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "마트공장 구축은 생산성, 불량, 원가, 납기 등 중소기업에 필요한 성과로 나타나고 있지만 뿌리산업의 일부인 사출 제조는 설비 중심의 제조환경을 가지고 있고 대부분 중소, 중견기업에서 수행하며 만성적인 인력 부족 상 황으로 지속적인 시스템 운영 및 데이터 품질체계를 유지하기 힘든 상황이다. 이로 인하여 데이터를 수년간 수집하여 보유하여 활용하고자 하여도 분석에 적합한 데이터가 없는 경우가 많으 며 제조 데이터에서 특히 잘 발생하는 클래스 불균형(양품/불량 데이터의 양 차이)문제와 고도화된 솔루션 부재 로 인한 라벨이 되어있지 않은 데이터가 많고, 있다고 하여도 그 신뢰성이 떨어진다."}
{"patent_id": "10-2023-0058956", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "이에 본 발명은 라벨링 자동화를 위한 Sampling 기법, GAN 모델, Clustering 기법 활용을 통한 데이터 품질체계 구축과 복합 인공지능 모델 구성을 통한 배치작업이 자동으로 가능하고, 여러 머신러닝 및 딥러닝 모델의 결과 값을 비교하고 최적 파라미터를 자동으로 찾아주는 프레임워크 구성을 통하여 고도화된 인력과 자본이 부족한 중소 뿌리기업 대상으로 복합 인공지능 모델 활용 제조 운영 최적화기술개발의 효용이 가능한 사출성형 품질관 리를 위한 MLOPs 기반 오토 라벨링이 가능한 이상감지 시스템을 제공하고자 한다."}
{"patent_id": "10-2023-0058956", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기의 목적을 달성하기 위해 네이버 클라우드 플랫폼 상에서 쿠버네티스 클러스터를 구축하여 로봇과 관제 시 스템 간 연결, 제어, 관리를 위한 서비스 구현을 목적으로 하며 클라우드 내에 private subnet과 public subnet 을 두어서 private subnet에서는 중요한 정보를 담은 DB를 포함하는 쿠버네티스 클러스터가 구성될 수 있도록하였고, public subnet에서 개발 서버를 만들어 구성된 쿠버네티스 클러스터를 세팅할 수 있도록 인프라 구성을 진행하였다. 외부의 DB에서 데이터를 가져와서 클라우드 내에 저장하고 ETL(extract, transform, load)을 하였고, ETL이 된 데이터는 카프카 큐에 연결되어있게 된다. 이 큐에 쌓인 데이터는 7일에 한번 동작하는 augmentation 모듈에서 좀 더 advanced 전처리를 진행하고, 라벨링, 데이터 증강이 일어난다. 해당 데이터는 모델 학습을 위한 데이터 로 사용되며 학습된 모델은 다시 MongoDB에 저장된다. ETL된 실제 데이터를 가지고 현재 가장 좋은 모델에 추론을 시키고 여러가지 결과를 DB에 저장한다. 이 때, 이 데이터는 로컬 서버로 보내지며, 여기서 streamlit 서버가 이 데이터를 시각화한다."}
{"patent_id": "10-2023-0058956", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명은 라벨링 자동화를 위한 Sampling 기법, GAN 모델, Clustering 기법 활용을 통한 데이터 품질체계 구축 과 복합 인공지능 모델 구성을 통한 배치작업이 자동으로 가능하고, 여러 머신러닝 및 딥러닝 모델의 결과값을 비교하고 최적 파라미터를 자동으로 찾아주는 프레임워크 구성을 통하여 고도화된 인력과 자본이 부족한 중소 뿌리기업 대상으로 복합 인공지능 모델 활용 제조 운영 최적화기술개발의 효용이 가능하게 한다."}
{"patent_id": "10-2023-0058956", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하 본 발명의 실시예를 첨부한 도면을 참조하여 설명하기로 한다. 공장의 raw 데이터들은 사출성형 과정에서 나오는 데이터들이며 사출성형이란 플라스틱 성형법 중의 한 방법으 로 플라스틱을 가열해 유동상태로 만든 후 금형의 cavity에 가압 주입하고 이를 냉각시켜 성형품을 만드는 방법 이다. 사출성형을 사용함으로써 대량생산이 가능하고 정밀도가 높아 복잡한 모양을 성형 가능하다는 장점을 얻을 수 있다. 사출기의 공정 과정은 여러 단계로 세분화되어 있는데 공정 과정 데이터 분류 항목을 크게 나누자면 시간, 위치, 압력 그리고 온도로 나눌 수 있다. 시간 항목에는 사출 시간인 Injection_Time, 제품이 생산되고 난 후 열려 있는 금형이 다시 닫히는 시간인 Clamp_Close_Time과 같은 데이터들이 있다. 위치 항목에는 제품이 생산되어 추출하기 위해 금형이 열린 위치를 의미하는 Clamp_Open_Position과 같은 데이 터들이 있다. 사출 공정 과정에서 가장 중요하다고 할 수 있는 항목은 압력과 온도인데, 압력 항목의 데이터로는 응용 플라스 틱이 금형으로 흘러가는데 가해지는 최대 압력인 Max_Injection_Pressure, 사출압에서 금형의 압력을 유지하기 위한 보압으로 전환되는 Max_Switch_Over_Pressure와 같은 데이터들이 있다. 온도 항목에는 Barrel의 온도를 표현한 Barrel_Temperature과 같은 데이터들이 있고, 사출성형에서는 각종 불 량현상이 발생한다. 사출성형기의 공정 과정에서 보압 공정이 필요한 이유 중 하나는 재료를 사출할 때 작용하는 압력에 의해 원재 료가 역류하여 밖으로 흘러나오지 않게 하기 위해서이며 사출압력이 강하게 작용한다면 그만큼 보압 공정에 필 요한 압력도 커지고, heatmap에서도 강한 양의 상관 관계를 보인다. 사출기에서 제품 생산이 완료된 뒤, 열려 있는 금형을 닫아주는 과정이 진행되며 Clamping 이전에 injection과 Compensating, 스크류의 밀림 방지 등에 가해지는 압력 요소들의 값이 커질수록, 금형을 닫는 속도가 느려지고, clamp close time은 커지게 되어 양적 상관관계가 성립한다. 수지가 유입되는 속도가 빠를 때, 그 압력의 크기는 작아져 Max Injection Pressure는 감소한다. 주입 압력이 낮아짐에 따라 보압으로 변환되는 압력도 줄어들고, 수기가 계량되는 과정에서 스크류가 밀리는 효과도 약해지 기 때문에 Max Back Pressure과 Average Back Pressure의 크기도 연쇄적으로 작아지게 된다. 따라서, Max Injection Speed와 Max Back Pressure 사이에 뚜렷한 음적 상관 관계가 나타난다. 두번째 상관관계 분석에서 언급했듯이 수지가 주입되는 과정의 초기 조건에 따라 사출 공정에서의 압력 요소들 은 연쇄적으로 유사한 경향성을 띄게 되며 사출 공정 사이클에서 작용하는 압력 요소들의 크기가 커질 경우, 가 압에서 보압 단계로 변환되는 위치가 상대적으로 밀리게 되고, 생산이 완료된 제품이 추출되는 위치도 기존보다 밀리는 현상이 발생하고 따라서 Position과 Pressure values 간에는 뚜렷한 양적 상관관계가 확인된다. 이와 같은 탐색적 데이터 분석을 통하여 데이터 성질, 종류, 상관관계를 도출하였으며 도출된 결과물을 바탕으 로 edge AI (Jetson Xavier NX) H/W 환경에서 알고리즘을 시험 / 테스트를 진행하였다. edge AI H/W 환경에서의 라벨링 테스트를 진행할 때 기존 24개의 컬럼을 2차원으로 차원 축소하면서 기존 전체 데이터의 20퍼센트만 잔류했던 결과가 큰 문제가 있었기에, 우리는 배럴과 Max Column의 값을 제거함으로써 보 다 개선된 차원 축소를 진행하였다. 위의 10개의 컬럼으로 차원축소를 진행한다면, 보다 더 효율적이고 유의미한 통계치를 관측가능할 것으로 예측 되며 선행 자료조사에 있어 ‘중요하다’라고 강조한 Column인, Cycle time과 Cushion Position에 대해서 추가 적인 고려가 필요하였음. 이에 대한 방법론으로 임의로 정한 가중치를 표준화가 진행된 각 컬럼에 곱함으로써 중요한 요소에 더 큰 무게를 실어줄 수 있을 것이라 예상했다. 먼저 10개의 컬럼에 주어질 가중치(weight)의 합이 1이라는 제약 조건을 둔 다음, 임의로 각각의 가중치를 부여 하고 규화된 전체 데이터에 관해서 PCA 차원 축소를 실시한 후 군집 분석을 진행하였지만 유의미한 결과를 얻지 못하였으며 기존에 진행했던 불량데이터 라벨링은 당일 불량율을 고려하여 eps 계수와 min_samples 계수같은 변 수를 임의로 조정하였다. 기존에 군집분석을 자동화하기에 어려웠던 점은 구간 데이터마다 차원 축소를 실시하였을 때 Eps변수와 minsample변수를 일일히 최적화를 시켜야 했기 때문이지만 다음과 같은 로직과 조건을 통해 변수 최적화를 실행 하였다. 조건1: DBSCAN 결과 종류가 하나의 군집과 노이즈일 뿐이다.(0과 -1로 종류가 2개이다.) 조건2: 노이즈의 수가 지난 분석결과보다 많을 경우 조건3: 불량율이 10% 아래인 경우 for i in range( 1,10): for j in range(1,10): DBSCAN 진행(i,j) if (조건1): if(조건2)&(조건3): answer= i and j else : answer=none 이런 로직을 통해 구간별로 최적의 변수를 세팅하여 불량 라벨링의 신뢰도를 좀 더 높일 수 있을 것이며 이를 검증하기 위해 구간별 데이터 중 일부를 사용했다. 이와 같은 자동 라벨링 프로세스는 edge AI H/W에서 시험 및 평가가 되었으며 컴퓨팅 리소스와 네트워크 구축 등에 있어 문제가 없음을 확인하였고 실제 공정 환경에서도 문제가 없음을 확인했다. 이후 클라우드 인프라 구 축 및 MLOPs에서 자동 데이터 품질관리체계 및 자동 라벨링 모듈로서 동작하게 되었다."}
{"patent_id": "10-2023-0058956", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도1은 본 발명의 실시예에 따른 사출성형 품질관리를 위한 MLOPs 기반 오토 라벨링이 가능한 이상감지 시스템을 나타낸 구성도이다. 도2는 본 발명의 실시예에 따른 AI 기반 자동 데이터 관리 시스템 모듈 개발 및 테스트를 나타낸 구성도이다. 도3은 사출기의 구조를 대략 그림으로 도시한 도면이다. 도4는 사출기의 공정 과정 데이터 분류 항목을 도시한 도면이다. 도5는 edge AI H/W 환경에서의 라벨링 테스트 진행한 흐름도이다. 도6은 정규화된 전체 데이터에 관해서 PCA 차원 축소를 실시한 후 군집 분석을 진행하는 흐름도이다. 도7은 Eps변수와 minsample변수를 최적화하였을 때의 군집표이다. 도8은 자동 라벨링 프로세스를 edge AI H/W에서 시험 및 평가한 데이터를 나타낸 도면이다."}
