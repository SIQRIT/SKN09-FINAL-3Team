{"patent_id": "10-2023-0117864", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0035684", "출원번호": "10-2023-0117864", "발명의 명칭": "폐음 데이터를 이용한 천명 위험 클래스 예측 시스템 및 방법", "출원인": "주식회사 웨이센", "발명자": "민충기"}}
{"patent_id": "10-2023-0117864", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "웨어러블 폐음 패치를 통해 환자의 폐음을 실시간으로 수집하는 폐음 수집부;상기 폐음 수집부에 의해 수집된 폐음을 특정 시간 간격으로 샘플링한 후, 특징 추출 모델을 통해 폐음 샘플들에서 천명 특징 맵들을 추출하는 특징 맵 추출부;상기 특징 맵 추출부에 의해 추출된 특징 맵들을 특징 분류 모델을 통해 특징에 따라 다수의 분류층(classifylayer)으로 분류하는 특징 맵 분류부;상기 특징 맵 분류부에 의해 분류된 특징 맵들을 수집하고, 수집된 특징 맵들을 클러스터링 모델을 이용하여 군집화(clustering)하며, 군집화된 클러스터 조합들을 시계열 순서에 맞게 배치하는 특징 맵 클러스터부;상기 특징 맵 클러스터부에 의해 군집화된 상기 클러스터 조합들을 시간 순서에 맞게 벡터로 변환하는 클러스터/벡터 변환부; 및상기 변환된 클러스터 조합 벡터와 예측 구간의 천명 클래스(wheezing class)를 하나의 입력 세트로 사용하여천명 클래스 예측 모델을 학습시키고, 학습된 천명 클래스 예측 모델을 이용하여 천명 위험 클래스를 예측하는천명 위험 클래스 예측부를 포함하는 폐음 데이터를 이용한 천명 위험 클래스 예측 시스템."}
{"patent_id": "10-2023-0117864", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 특징 맵 추출부가 상기 수집된 폐음을 특정 시간 간격으로 샘플링함에 있어서, 수집된 폐음을 고정된 시간N초의 간격으로 샘플링하는 것을 특징으로 하는 폐음 데이터를 이용한 천명 위험 클래스 예측 시스템."}
{"patent_id": "10-2023-0117864", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 특징 맵 추출부가 폐음 샘플들에서 천명 특징 맵들을 추출함에 있어서, 폐음 데이터를 N초의 시간 간격으로 샘플링한 후, 각 샘플에 대해 천명(wheezing) 존재 여부에 따라 천명(wheezing) 라벨링을 수행하고, 각 샘플들을 천명(wheezing) 라벨링이 포함된 로그-멜 스펙트로그램(log-mel spectrogram)으로 변환하며, 변환된 샘플들을 특징 추출 모델을 통해 K×N초의 특징 맵으로 추출하는 것을 특징으로 하는 폐음 데이터를 이용한 천명 위험 클래스 예측 시스템."}
{"patent_id": "10-2023-0117864", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 클러스터/벡터 변환부가 상기 클러스터 조합들을 시간 순서에 맞게 벡터로 변환함에 있어서, Word2vec에서사용하는 기법을 기반으로 각 시간대에 속한 특징 클러스터들을 하나의 토큰(token)으로 취급하여 하나의 벡터로 변환하는 것을 특징으로 하는 폐음 데이터를 이용한 천명 위험 클래스 예측 시스템."}
{"patent_id": "10-2023-0117864", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서,상기 천명 위험 클래스 예측부가 상기 천명 클래스 예측 모델을 이용하여 천명 위험 클래스를 예측함에 있어서,공개특허 10-2025-0035684-3-천명 클래스(wheezing class)는 상기 천명 클래스 예측 모델을 통해 T초 이후 예측 구간에 속한 신호 데이터에서 천명(wheezing)의 비율과 빈도수를 기반으로 검출하고, 상기 검출한 천명 클래스(wheezing class)를 기준으로 T초 이후 증상의 클래스를 증상 완화, 증상 가증, 증상 유지 그룹 또는 안전, 중증 위험, 경증 위험 그룹으로 각각 예측하는 것을 특징으로 하는 폐음 데이터를 이용한 천명 위험 클래스 예측 시스템."}
{"patent_id": "10-2023-0117864", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "a) 폐음 수집부가 웨어러블 폐음 패치를 통해 환자의 폐음을 실시간으로 수집하는 단계;b) 특징 맵 추출부가 상기 수집된 폐음을 특정 시간 간격으로 샘플링한 후, 특징 추출 모델을 통해 폐음 샘플들에서 천명 특징 맵들을 추출하는 단계;c) 특징 맵 분류부가 상기 추출된 특징 맵들을 특징 분류 모델을 통해 특징에 따라 다수의 분류층(classifylayer)으로 분류하는 단계;d) 특징 맵 클러스터부가 상기 분류된 특징 맵들을 수집하고, 수집된 특징 맵들을 클러스터링 모델을 이용하여군집화(clustering)하는 단계;e) 특징 맵 클러스터부가 군집화된 클러스터 조합들을 시계열 순서에 맞게 배치하는 단계;f) 클러스터/벡터 변환부가 상기 클러스터 조합들을 시간 순서에 맞게 벡터로 변환하는 단계; 및g) 천명 위험 클래스 예측부가 상기 변환된 클러스터 조합 벡터와 예측 구간의 천명 클래스(wheezing class)를하나의 입력 세트로 사용하여 천명 클래스 예측 모델을 학습시키고, 학습된 천명 클래스 예측 모델을 이용하여천명 위험 클래스를 예측하는 단계를 포함하는 폐음 데이터를 이용한 천명 위험 클래스 예측 방법."}
{"patent_id": "10-2023-0117864", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서,상기 단계 b)에서 상기 수집된 폐음을 특정 시간 간격으로 샘플링함에 있어서, 수집된 폐음을 고정된 시간 N초의 간격으로 샘플링하는 것을 특징으로 하는 폐음 데이터를 이용한 천명 위험 클래스 예측 방법."}
{"patent_id": "10-2023-0117864", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7항에 있어서,상기 단계 b)에서 상기 특징 맵 추출부가 폐음 샘플들에서 천명 특징 맵들을 추출함에 있어서, 폐음 데이터를 N초의 시간 간격으로 샘플링한 후, 각 샘플에 대해 천명(wheezing) 존재 여부에 따라 천명(wheezing) 라벨링을수행하고, 각 샘플들을 천명(wheezing) 라벨링이 포함된 로그-멜 스펙트로그램(log-mel spectrogram)으로 변환하며, 변환된 샘플들을 특징 추출 모델을 통해 K×N초의 특징 맵으로 추출하는 것을 특징으로 하는 폐음 데이터를 이용한 천명 위험 클래스 예측 방법."}
{"patent_id": "10-2023-0117864", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제6항에 있어서,상기 단계 f)에서 상기 클러스터/벡터 변환부가 상기 클러스터 조합들을 시간 순서에 맞게 벡터로 변환함에 있어서, Word2vec에서 사용하는 기법을 기반으로 각 시간대에 속한 특징 클러스터들을 하나의 토큰(token)으로 취급하여 하나의 벡터로 변환하는 것을 특징으로 하는 폐음 데이터를 이용한 천명 위험 클래스 예측 방법."}
{"patent_id": "10-2023-0117864", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "공개특허 10-2025-0035684-4-제6항에 있어서,상기 단계 g)에서 상기 천명 위험 클래스 예측부가 상기 천명 클래스 예측 모델을 이용하여 천명 위험 클래스를예측함에 있어서, 천명 클래스(wheezing class)는 상기 천명 클래스 예측 모델을 통해 T초 이후 예측 구간에 속한 신호 데이터에서 천명(wheezing)의 비율과 빈도수를 기반으로 검출하고, 상기 검출한 천명 클래스(wheezingclass)를 기준으로 T초 이후 증상의 클래스를 증상 완화, 증상 가증, 증상 유지 그룹 또는 안전, 중증 위험, 경증 위험 그룹으로 각각 예측하는 것을 특징으로 하는 폐음 데이터를 이용한 천명 위험 클래스 예측 방법."}
{"patent_id": "10-2023-0117864", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 폐음 데이터를 이용한 천명 위험 클래스 예측 시스템 및 방법에 관한 것이다. 본 발명에 따른 폐음 데이터를 이용한 천명 위험 클래스 예측 방법은, 폐음 수집부가 웨어러블 폐음 패치를 통해 환자의 폐음을 실시간으로 수집하는 단계; 특징 맵 추출부가 수집된 폐음을 특정 시간 간격으로 샘플링한 후, 특 (뒷면에 계속)"}
{"patent_id": "10-2023-0117864", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 천명(wheezing) 위험 클래스 예측 시스템 및 방법에 관한 것으로서, 더 상세하게는 라벨링이 부족한 폐음 데이터를 비지도 학습 모델을 통해 분석함으로써 환자의 천명 위험 클래스를 예측할 수 있는 폐음 데이터 를 이용한 천명 위험 클래스 예측 시스템 및 방법에 관한 것이다."}
{"patent_id": "10-2023-0117864", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "일반적으로, 호흡기 질환은 의사의 흉부 청진, 영상 검사 등을 통해 진단된다. 기침과 천명음은 대부분의 호흡 기 질환에 동반되며, 환자의 폐음에 대해 꾸준한 모니터링과 분석이 필요하다. 하지만, 모든 환자의 폐음을 지속적으로 모니터링하기에는 의료진들의 노동력에 한계가 있다. 따라서, 호흡기 환자들의 숨소리를 모니터링하는 기술에 대한 필요성이 증가하고 있다. 최근 딥러닝 기반의 기계학습 모델이 다양한 음성 분야에서 사용되고 있다. 기침음 및 폐음을 수집하고, 수집된 음향데이터를 이용하여 기침음 및 폐음의 유효 구간을 찾으며, 기침음 및 폐음의 이상 구간을 분류하는 모델에 대한 연구도 많이 진행되고 있다. 그러나 대부분의 연구는 짧은 시간대의 데이터를 사용하여, 짧은 시간 대역을 분석하고 결과를 도출하기 때문에, 긴 시간 동안 환자의 증상을 체크해야 하는 장시간 환자 모니터링과 같은 경 우에는 적합하지 않다. 또한, 환자의 긴 폐음에서 천명(wheezing)에 직접적인 영향을 주는 구간을 찾는 과정에서 다음과 같은 어려움 (문제점)이 있다. 즉, 전체 폐음을 듣고 판단하는 과정에서 수반되는 자원과 노동력이 제한적이다. 또한, 사람 이 직접 특정 폐음을 듣고 천명 전조 증상의 판단 근거로 삼는 것은 개인의 주관적인 판단에 의존하기 때문에 객관성이 떨어지고, 폐음의 주파수까지 고려해야 하는 등의 좀 더 과학적인 정밀성이 요구되기 때문에 판단 근 거가 빈약하다. 한편, 한국 공개특허공보 제10-2023-0055009호(특허문헌 1)에는 \"인공지능 기반 호흡음 판정 시스템 및 방법\"이 개시되어 있는 바, 이에 따른 인공지능 기반 호흡음 판정 방법은, 천명음 존재 여부가 라벨링된 복수의 호흡음 샘플들을 기초로 복수의 학습 데이터들을 생성하는 단계; 상기 복수의 학습 데이터들을 기초로 상기 인공신경망 을 학습시키는 단계; 타깃 호흡음 샘플을 수집하는 단계; 상기 타깃 호흡음 샘플에 천명음이 존재하는지 여부를 판정하는 단계; 및 상기 타깃 호흡음 샘플에 천명음이 존재하는지 여부의 판정 결과를 출력하는 단계;를 포함하 는 것을 특징으로 한다. 이상과 같은 특허문헌 1의 경우, 타깃 호흡음 샘플을 수집하고, 타깃 호흡음 샘플에 천명음이 존재하는지 여부 를 판정하는 것에 그치고 있어, 환자의 천명 위험 클래스를 예측하는데 적용하기는 어려운 문제점을 내포하고 있다. 선행기술문헌 특허문헌 (특허문헌 0001) 한국 공개특허공보 제10-2023-0055009호(2023.04.25. 공개)"}
{"patent_id": "10-2023-0117864", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 2, "content": "발명의 내용"}
{"patent_id": "10-2023-0117864", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 상기와 같은 사항을 종합적으로 감안하여 창출된 것으로서, 웨어러블 폐음 패치를 통해 실시간으로 환자의 폐음을 수집하고 모니터링하여 효율적으로 환자의 관리가 가능하고, 라벨링이 부족한 폐음 데이터를 비 지도 학습 모델을 통해 분석하여 환자의 천명 위험 클래스를 예측하고, 이후 환자의 증상을 예측함으로써, 의료 진에 편의를 제공할 수 있는 폐음 데이터를 이용한 천명 위험 클래스 예측 시스템 및 방법을 제공함에 그 목적 이 있다."}
{"patent_id": "10-2023-0117864", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기의 목적을 달성하기 위하여 본 발명에 따른 폐음 데이터를 이용한 천명 위험 클래스 예측 시스템은, 웨어러블 폐음 패치를 통해 환자의 폐음을 실시간으로 수집하는 폐음 수집부; 상기 폐음 수집부에 의해 수집된 폐음을 특정 시간 간격으로 샘플링한 후, 특징 추출 모델을 통해 폐음 샘플들 에서 천명 특징 맵들을 추출하는 특징 맵 추출부; 상기 특징 맵 추출부에 의해 추출된 특징 맵들을 특징 분류 모델을 통해 특징에 따라 다수의 분류층(classify layer)으로 분류하는 특징 맵 분류부; 상기 특징 맵 분류부에 의해 분류된 특징 맵들을 수집하고, 수집된 특징 맵들을 클러스터링 모델을 이용하여 군 집화(clustering)하며, 군집화된 클러스터 조합들을 시계열 순서에 맞게 배치하는 특징 맵 클러스터부; 상기 특징 맵 클러스터부에 의해 군집화된 상기 클러스터 조합들을 시간 순서에 맞게 벡터로 변환하는 클러스터 /벡터 변환부; 및 상기 변환된 클러스터 조합 벡터와 예측 구간의 천명 클래스(wheezing class)를 하나의 입력 세트로 사용하여 천명 클래스 예측 모델을 학습시키고, 학습된 천명 클래스 예측 모델을 이용하여 천명 위험 클래스를 예측하는 천명 위험 클래스 예측부를 포함하는 점에 그 특징이 있다. 여기서, 상기 특징 맵 추출부가 상기 수집된 폐음을 특정 시간 간격으로 샘플링함에 있어서, 수집된 폐음을 고 정된 시간 N초의 간격으로 샘플링할 수 있다. 또한, 상기 특징 맵 추출부가 폐음 샘플들에서 천명 특징 맵들을 추출함에 있어서, 폐음 데이터를 N초의 시간 간격으로 샘플링한 후, 각 샘플에 대해 천명(wheezing) 존재 여부에 따라 천명(wheezing) 라벨링을 수행하고, 각 샘플들을 천명(wheezing) 라벨링이 포함된 로그-멜 스펙트로그램(log-mel spectrogram)으로 변환하며, 변환 된 샘플들을 특징 추출 모델을 통해 K×N초의 특징 맵으로 추출할 수 있다. 또한, 상기 클러스터/벡터 변환부가 상기 클러스터 조합들을 시간 순서에 맞게 벡터로 변환함에 있어서, Word2vec에서 사용하는 기법을 기반으로 각 시간대에 속한 특징 클러스터들을 하나의 토큰(token)으로 취급하여 하나의 벡터로 변환할 수 있다. 또한, 상기 천명 위험 클래스 예측부가 상기 천명 클래스 예측 모델을 이용하여 천명 위험 클래스를 예측함에 있어서, 천명 클래스(wheezing class)는 상기 천명 클래스 예측 모델을 통해 T초 이후 예측 구간에 속한 신호 데이터에서 천명(wheezing)의 비율과 빈도수를 기반으로 검출할 수 있고, 상기 검출한 천명 클래스(wheezing class)를 기준으로 T초 이후 증상의 클래스를 증상 완화, 증상 가증, 증상 유지 그룹 또는 안전, 중증 위험, 경 증 위험 그룹으로 각각 예측할 수 있다. 또한, 상기의 목적을 달성하기 위하여 본 발명에 따른 폐음 데이터를 이용한 천명 위험 클래스 예측 방법은, a) 폐음 수집부가 웨어러블 폐음 패치를 통해 환자의 폐음을 실시간으로 수집하는 단계; b) 특징 맵 추출부가 상기 수집된 폐음을 특정 시간 간격으로 샘플링한 후, 특징 추출 모델을 통해 폐음 샘플들 에서 천명 특징 맵들을 추출하는 단계; c) 특징 맵 분류부가 상기 추출된 특징 맵들을 특징 분류 모델을 통해 특징에 따라 다수의 분류층(classify layer)으로 분류하는 단계; d) 특징 맵 클러스터부가 상기 분류된 특징 맵들을 수집하고, 수집된 특징 맵들을 클러스터링 모델을 이용하여 군집화(clustering)하는 단계; e) 특징 맵 클러스터부가 군집화된 클러스터 조합들을 시계열 순서에 맞게 배치하는 단계; f) 클러스터/벡터 변환부가 상기 클러스터 조합들을 시간 순서에 맞게 벡터로 변환하는 단계; 및 g) 천명 위험 클래스 예측부가 상기 변환된 클러스터 조합 벡터와 예측 구간의 천명 클래스(wheezing class)를 하나의 입력 세트로 사용하여 천명 클래스 예측 모델을 학습시키고, 학습된 천명 클래스 예측 모델을 이용하여 천명 위험 클래스를 예측하는 단계를 포함하는 점에 그 특징이 있다. 여기서, 상기 단계 b)에서 상기 수집된 폐음을 특정 시간 간격으로 샘플링함에 있어서, 수집된 폐음을 고정된 시간 N초의 간격으로 샘플링할 수 있다. 또한, 상기 단계 b)에서 상기 특징 맵 추출부가 폐음 샘플들에서 천명 특징 맵들을 추출함에 있어서, 폐음 데이 터를 N초의 시간 간격으로 샘플링한 후, 각 샘플에 대해 천명(wheezing) 존재 여부에 따라 천명(wheezing) 라벨 링을 수행하고, 각 샘플들을 천명(wheezing) 라벨링이 포함된 로그-멜 스펙트로그램(log-mel spectrogram)으로 변환하며, 변환된 샘플들을 특징 추출 모델을 통해 K×N초의 특징 맵으로 추출할 수 있다. 또한, 상기 단계 f)에서 상기 클러스터/벡터 변환부가 상기 클러스터 조합들을 시간 순서에 맞게 벡터로 변환함 에 있어서, Word2vec에서 사용하는 기법을 기반으로 각 시간대에 속한 특징 클러스터들을 하나의 토큰(token)으 로 취급하여 하나의 벡터로 변환할 수 있다. 또한, 상기 단계 g)에서 상기 천명 위험 클래스 예측부가 상기 천명 클래스 예측 모델을 이용하여 천명 위험 클 래스를 예측함에 있어서, 천명 클래스(wheezing class)는 상기 천명 클래스 예측 모델을 통해 T초 이후 예측 구 간에 속한 신호 데이터에서 천명(wheezing)의 비율과 빈도수를 기반으로 검출할 수 있고, 상기 검출한 천명 클 래스(wheezing class)를 기준으로 T초 이후 증상의 클래스를 증상 완화, 증상 가증, 증상 유지 그룹 또는 안전, 중증 위험, 경증 위험 그룹으로 각각 예측할 수 있다."}
{"patent_id": "10-2023-0117864", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "이와 같은 본 발명에 의하면, 웨어러블 폐음 패치를 통해 실시간으로 환자의 폐음을 수집하고 모니터링하여 효 율적으로 환자의 관리가 가능하고, 라벨링이 부족한 폐음 데이터를 비지도 학습 모델을 통해 분석하여 환자의 천명 위험 클래스를 예측하고, 이후 환자의 증상을 예측함으로써, 의료진에 편의를 제공할 수 있는 장점이 있다."}
{"patent_id": "10-2023-0117864", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 명세서 및 청구범위에 사용된 용어나 단어는 통상적이거나 사전적인 의미로 한정되어 해석되지 말아야 하며, 발명자는 그 자신의 발명을 가장 최선의 방법으로 설명하기 위해 용어의 개념을 적절하게 정의할 수 있다는 원 칙에 입각하여 본 발명의 기술적 사상에 부합하는 의미와 개념으로 해석되어야 한다. 명세서 전체에서, 어떤 부분이 어떤 구성요소를 \"포함\"한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다 른 구성요소를 제외하는 것이 아니라 다른 구성요소를 더 포함할 수 있다는 것을 의미한다. 또한, 명세서에 기 재된 \"…부\", \"…기\", \"모듈\", \"장치\" 등의 용어는 적어도 하나의 기능이나 동작을 처리하는 단위를 의미하며, 이는 하드웨어나 소프트웨어 또는 하드웨어 및 소프트웨어의 결합으로 구현될 수 있다. 이하 첨부된 도면을 참조하여 본 발명의 실시예를 상세히 설명한다. 도 1은 본 발명의 실시예에 따른 폐음 데이터를 이용한 천명 위험 클래스 예측 시스템의 구성을 개략적으로 나 타낸 도면이다. 도 1을 참조하면, 본 발명에 따른 폐음 데이터를 이용한 천명 위험 클래스 예측 시스템은 폐음 수집부 , 특징 맵 추출부, 특징 맵 분류부, 특징 맵 클러스터부, 클러스터/벡터 변환부, 천 명 위험 클래스 예측부, 제어부를 포함하여 구성된다. 폐음 수집부는, 도 3에 도시된 바와 같이, 웨어러블 폐음 패치를 통해 환자의 폐음을 실시간으로 수 집한다. 여기서, 이와 같은 웨어러블 폐음 패치는 폐음 수집부와 무선 통신(예를 들면, 블루투스 (Bluetooth), 지그비(ZigBee) 등)을 통해 신호를 송/수신하도록 구성될 수 있다. 특징 맵 추출부는 상기 폐음 수집부에 의해 수집된 폐음을, 도 3과 같이, 특정 시간 간격으로 샘플링 한 후, 특징 추출 모델(120a)을 통해 폐음 샘플들에서 천명 특징 맵들을 추출한다. 여기서, 상기 특징 맵 추출 부가 상기 수집된 폐음을 특정 시간 간격으로 샘플링함에 있어서, 수집된 폐음을 고정된 시간 N초의 간격 으로 샘플링할 수 있다. 또한, 상기 특징 맵 추출부가 폐음 샘플들에서 천명 특징 맵들을 추출함에 있어서, 도 4 및 도 5에 도시된 바와 같이, 폐음 데이터를 N초의 시간 간격으로 샘플링한 후, 각 샘플에 대해 천명(wheezing) 존재 여부에 따라 천명(wheezing) 라벨링을 수행하고, 각 샘플들을 천명(wheezing) 라벨링이 포 함된 로그-멜 스펙트로그램(log-mel spectrogram)으로 변환하며, 변환된 샘플들을 특징 추출 모델(120a)을 통해 K×N초의 특징 맵으로 추출할 수 있다. 이때, 상기 특징 추출 모델(120a)은 각 샘플의 천명(wheezing) 여부로 먼저 학습을 진행하게 된다. 그런 후, 후술하는 특징 맵 분류부에 의한 다수의 분류층(classify layer)으 로 분류하기 전에 입력값에 대한 특징 맵을 추출한다. 특징 맵 분류부는 상기 특징 맵 추출부에 의해 추출된 특징 맵들을, 도 5와 같이, 특징 분류 모델 (130a)을 통해 특징에 따라 다수의 분류층(classify layer)으로 분류한다. 특징 맵 클러스터부는 상기 특징 맵 분류부에 의해 분류된 특징 맵들을 수집하고, 도 6과 같이, 수집 된 특징 맵들을 클러스터링 모델(140a)을 이용하여 군집화(clustering)하며, 군집화된 클러스터 조합들을 시계 열 순서에 맞게 배치한다. 이때, 군집화된 클러스터 조합들을 폐음 수집 종료 시점 T에 맞추어 시계열 순서에 맞게 배치한다. 또한, 시계열 순서에 맞게 배치한 클러스터 조합들은 수집시점의 시간 데이터와 해당 시점의 특 징 군집 데이터로 구성된다. 클러스터/벡터 변환부는 상기 특징 맵 클러스터부에 의해 군집화된 상기 클러스터 조합들을 시간 순 서에 맞게 벡터로 변환한다. 여기서, 이와 같은 클러스터/벡터 변환부가 상기 클러스터 조합들을 시간 순 서에 맞게 벡터로 변환함에 있어서, 도 7과 같이, Word2vec에서 사용하는 기법을 기반으로 각 시간대에 속한 특 징 클러스터들을 하나의 토큰(token)으로 취급하여 하나의 벡터로 변환할 수 있다. 여기서, Word2vec은 단어 임 베딩 기법으로, 그 자체로 두 층위(layer)로 구성된 얕은 신경망(shallow neural network, 여러 층위로 구성된 신경망을 일컫는 '깊은(deep) 신경망'에 대응되는 표현임)이다. 모델의 학습은 CBOW(Continuous Bag of Words) 또는 Skip-gram 원리를 활용하여 이루어진다. 학습이 완료된 모델에 단어를 투입하면 특정 벡터로 변환하는 임 베딩을 수행하게 된다. 임베딩의 결과는 다시 의미적 유사성을 구하는 코사인 유사도와 같은 측정 기법을 통해 단어 간 의미 유사도 측정, 특정 단어의 유사어와 반의어 추출과 같은 다운스트림 태스크에 활용할 수 있다. 천명 위험 클래스 예측부는 상기 변환된 클러스터 조합 벡터와 예측 구간의 천명 클래스(wheezing class) 를 하나의 입력 세트로 사용하여 천명 클래스 예측 모델(160a)을 학습시키고, 학습된 천명 클래스 예측 모델 (160a)을 이용하여 천명 위험 클래스를 예측한다. 여기서, 이와 같은 천명 위험 클래스 예측부가 상기 천 명 클래스 예측 모델(160a)을 이용하여 천명 위험 클래스를 예측함에 있어서, 도 7 및 도 9에 도시된 바와 같이, 천명 클래스(wheezing class)는 상기 천명 클래스 예측 모델(160a)을 통해 T초 이후 예측 구간에 속한 신 호 데이터에서 천명(wheezing)의 비율과 빈도수를 기반으로 검출할 수 있고, 상기 검출한 천명 클래스(wheezing class)를 기준으로 T초 이후 증상의 클래스를 증상 완화, 증상 가증, 증상 유지 그룹 또는 안전, 중증 위험, 경 증 위험 그룹으로 각각 예측할 수 있다. 제어부는 상기 폐음 수집부, 특징 맵 추출부, 특징 맵 분류부, 특징 맵 클러스터부, 클러스터/벡터 변환부, 천명 위험 클래스 예측부의 각각의 상태 체크 및 동작을 제어한다. 또한, 제 어부는 상기 폐음 수집부에 의해 수집된 폐음 데이터, 상기 특징 맵 추출부에 의해 추출된 특징 맵 데이터, 상기 특징 맵 분류부에 의해 분류된 특징 분류 데이터, 상기 특징 맵 클러스터부에 의해 군집화된 클러스터 조합 데이터, 상기 클러스터/벡터 변환부에 의해 변환된 클러스터 조합 벡터 데이터, 상기 천명 위험 클래스 예측부에 의해 예측된 천명 위험 클래스 예측 데이터 등을 데이터베이스(DB) 에 저장한다. 또한, 제어부는 상기 특징 맵 추출부, 특징 맵 분류부, 특징 맵 클러스터부, 클러스터/벡터 변환부, 천명 위험 클래스 예측부가 각각의 기능 또는 동작을 수행할 때, 필요한 데이 터나 정보, 파라미터값, 관련 앱(application) 등을 데이터베이스(DB)에서 검색 및 추출하여 상기 특징 맵 추출부, 특징 맵 분류부, 특징 맵 클러스터부, 클러스터/벡터 변환부, 천명 위험 클래스 예측부의 각 해당 파트로 제공한다. 이상과 같은 구성을 가지는 본 발명에 따른 폐음 데이터를 이용한 천명 위험 클래스 예측 시스템은 바람직 하게는 외부 기기(예를 들면, 의료진 단말기 또는 사용자(환자) 단말기 등)와 유/무선 네트워크를 통해 데이터 (정보)를 송/수신하기 위한 통신부를 더 포함할 수 있다. 여기서, 또한 상기 폐음 수집부, 특징 맵 추출부, 특징 맵 분류부, 특징 맵 클러스터부, 클러스터/벡터 변환부, 천명 위험 클래스 예측부, 제어부 및 통신부는 전체적으로 하나의 컴퓨터 시스템으로 통합되어 구축될 수도 있다. 그러면, 이하에서는 이상과 같은 구성을 갖는 본 발명에 따른 폐음 데이터를 이용한 천명 위험 클래스 예측 시 스템을 바탕으로 한 천명 위험 클래스 예측 방법에 대해 설명해 보기로 한다. 도 2는 본 발명의 실시예에 따른 폐음 데이터를 이용한 천명 위험 클래스 예측 방법의 실행 과정을 나타낸 흐름 도이다. 도 2를 참조하면, 본 발명에 따른 폐음 데이터를 이용한 천명 위험 클래스 예측 방법은, 먼저 폐음 수집부(11 0)가 웨어러블 폐음 패치(도 3 참조)를 통해 환자의 폐음을 실시간으로 수집한다(단계 S201). 이상에 의해 폐음이 수집되면, 특징 맵 추출부는 수집된 폐음을 특정 시간 간격으로 샘플링한 후, 특징 추 출 모델(120a)을 통해 폐음 샘플들에서 천명 특징 맵들을 추출한다(단계 S202). 여기서, 특징 맵 추출부가 상기 수집된 폐음을 특정 시간 간격으로 샘플링함에 있어서, 도 3과 같이 수집된 폐음을 고정된 시간 N초의 간 격으로 샘플링할 수 있다. 또한, 상기 특징 맵 추출부가 폐음 샘플들에서 천명 특징 맵들을 추출함에 있어 서, 도 4 및 도 5에 도시된 바와 같이, 폐음 데이터를 N초의 시간 간격으로 샘플링한 후, 각 샘플에 대해 천명 (wheezing) 존재 여부에 따라 천명(wheezing) 라벨링을 수행하고, 각 샘플들을 천명(wheezing) 라벨링이 포함된 로그-멜 스펙트로그램(log-mel spectrogram)으로 변환하며, 변환된 샘플들을 특징 추출 모델(120a)을 통해 K×N 초의 특징 맵으로 추출할 수 있다. 이렇게 하여 특징 맵들이 추출되면, 특징 맵 분류부는 상기 추출된 특징 맵들을, 도 5와 같이, 특징 분류 모델(130a)을 통해 특징에 따라 다수의 분류층(classify layer)으로 분류한다(단계 S203). 그러면, 특징 맵 클러스터부는 상기 분류된 특징 맵들을 수집하고, 도 6과 같이, 수집된 특징 맵들을 클러 스터링 모델(140a)을 이용하여 군집화(clustering)한다(단계 S204). 또한, 특징 맵 클러스터부는 군집화된 클러스터 조합들을 시계열 순서에 맞게 배치한다(단계 S205). 이때, 전술한 바와 같이, 군집화된 클러스터 조합들을 폐음 수집 종료 시점 T에 맞추어 시계열 순서에 맞게 배치한다. 또한, 시계열 순서에 맞게 배치한 클러스터 조합들은 수집시점의 시간 데이터와 해당 시점의 특징 군집 데이터 로 구성된다.이상과 같이, 특징 맵 클러스터부가 특징 맵들을 군집화(clustering)하면, 클러스터/벡터 변환부는 상기 클러스터 조합들을 시간 순서에 맞게 벡터로 변환한다(단계 S206). 여기서, 이와 같은 클러스터/벡터 변환 부가 상기 클러스터 조합들을 시간 순서에 맞게 벡터로 변환함에 있어서, 도 7과 같이, Word2vec에서 사용 하는 기법을 기반으로 각 시간대에 속한 특징 클러스터들을 하나의 토큰(token)으로 취급하여 하나의 벡터로 변 환할 수 있다. 이후, 천명 위험 클래스 예측부는 상기 변환된 클러스터 조합 벡터와 예측 구간의 천명 클래스(wheezing class)를 하나의 입력 세트로 사용하여 천명 클래스 예측 모델(160a)을 학습시키고, 학습된 천명 클래스 예측 모델(160a)을 이용하여 천명 위험 클래스를 예측한다(단계 S207). 여기서, 상기 천명 위험 클래스 예측부 가 상기 천명 클래스 예측 모델(160a)을 이용하여 천명 위험 클래스를 예측함에 있어서, 도 7 및 도 9에 도시된 바와 같이, 천명 클래스(wheezing class)는 상기 천명 클래스 예측 모델(160a)을 통해 T초 이후 예측 구간에 속 한 신호 데이터에서 천명(wheezing)의 비율과 빈도수를 기반으로 검출할 수 있고, 상기 검출한 천명 클래스 (wheezing class)를 기준으로 T초 이후 증상의 클래스를 증상 완화, 증상 가증, 증상 유지 그룹 또는 안전, 중 증 위험, 경증 위험 그룹으로 각각 예측할 수 있다. 이하에서는 이상과 같은 본 발명에 따른 폐음 데이터를 이용한 천명 위험 클래스 예측 방법과 관련하여 조금 더 설명을 부가해 보기로 한다. 도 8은 클러스터 조합을 특징 벡터로 생성하는 과정을 나타낸 도면이다. 도 8을 참조하면, 클러스터 조합을 특징 벡터로 생성하기 위해 본 발명의 방법에서는 Word2vec에서 사용하는 CBOW(Continuous Bag of Words) 방식을 활용한다. 수식에서 W는 가중치 행렬, V는 각 시간대 별로 클러스터의 위치를 나타내는 'one-hot vector'이 며, W와 각 V의 행렬 곱의 합으로 'projection layer M'을 검출한다. 또한, 수식에서 'projection layer'와 가중치의 연산으로 'output layer(feature vector)'를 검출한다. 총 K개의 클러스터 특징을 W행렬을 통해 하나의 특징 벡터로 생성한다. 그리고 추출한 'output layer'와 T초 이 후의 천명(wheezing) 클래스를 쌍으로 천명 클래스 예측 모델(160a)의 학습 데이터로 사용한다. 도 9는 천명(wheezing) 클래스를 검출하는 과정을 나타낸 도면이다. 도 9를 참조하면, 천명(wheezing) 클래스는 T초 이후 예측 구간에 속한 신호 데이터에서 천명(wheezing)의 비율 과 빈도수를 기반으로 검출한다. 본 발명에서는 예측 구간에 포함된 천명(wheezing) 구간의 비율과 빈도 수를 고려하여 천명(wheezing) 클래스를 다음과 같이 정의한다. 천명(wheezing)의 빈도 수와 천명(wheezing)의 비율이 모두 낮은 경우에는 안전군으로 정의하고, 천명 (wheezing)의 빈도 수는 높으나, 예측 구간에서 전체 천명(wheezing)의 비율이 낮은 경우, 빈도수가 낮으나 전 체 비율이 높은 경우에는 경증 위험군으로 정의하며, 천명(wheezing)의 빈도 수와 전체 구간에서 천명 (wheezing)의 비율이 높은 경우에는 중증 위험군으로 정의한다. 수집한 데이터의 천명(wheezing) 빈도 수와 천명(wheezing) 비율을 수집하여, 각 클래스 별로 임계치 (threshold)를 검출하고, 검출한 임계치를 바탕으로 클래스를 구분한다. 천명 클래스 예측 모델(160a)을 통해 검출한 천명 클래스(wheezing class)를 기준으로 T초 이후 환자의 증상의 클래스를 가증, 유지, 완화 or 중증, 경증, 안전으로 예측한다. 이상의 설명과 같이, 본 발명에 따른 폐음 데이터를 이용한 천명 위험 클래스 예측 시스템 및 방법은 웨어러블 폐음 패치를 통해 실시간으로 환자의 폐음을 수집하고 모니터링하여 효율적으로 환자의 관리가 가능하고, 라벨 링이 부족한 폐음 데이터를 비지도 학습 모델을 통해 분석하여 환자의 천명 위험 클래스를 예측하고, 이후 환자 의 증상을 예측함으로써, 의료진에 편의를 제공할 수 있는 장점이 있다. 이상, 바람직한 실시예를 통하여 본 발명에 관하여 상세히 설명하였으나, 본 발명은 이에 한정되는 것은"}
{"patent_id": "10-2023-0117864", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "아니며, 본 발명의 기술적 사상을 벗어나지 않는 범위 내에서 다양하게 변경, 응용될 수 있음은 당해 기술분야 의 통상의 기술자에게 자명하다. 따라서, 본 발명의 진정한 보호 범위는 다음의 청구범위에 의하여 해석되어야하며, 그와 동등한 범위 내에 있는 모든 기술적 사상은 본 발명의 권리 범위에 포함되는 것으로 해석되어야 할 것이다."}
{"patent_id": "10-2023-0117864", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명에 따른 폐음 데이터를 이용한 천명 위험 클래스 예측 시스템의 구성을 개략적으로 나타낸 도면 이다. 도 2는 본 발명에 따른 폐음 데이터를 이용한 천명 위험 클래스 예측 방법의 실행 과정을 나타낸 흐름도이다. 도 3은 폐음 수집부가 웨어러블 폐음 패치를 통해 환자의 폐음을 수집하는 것을 나타낸 도면이다. 도 4는 수집된 폐음을 N초의 간격으로 샘플링하여 천명 존재 여부에 따라 천명 라벨링을 행하고, 각 샘플들을 로그-멜 스펙트로그램으로 변환하는 과정을 나타낸 도면이다. 도 5는 로그-멜 스펙트로그램으로 변환된 샘플들을 특징 추출 모델을 통해 K×N초의 특징 맵으로 추출하는 과정 을 나타낸 도면이다. 도 6은 특징 맵들을 클러스터링 모델을 이용하여 군집화하고, 군집화된 클러스터 조합들을 시계열 순서에 맞게 배치한 것을 나타낸 도면이다. 도 7은 특징 클러스터들을 벡터로 변환 및 변환된 클러스터 조합 벡터와 예측 구간의 천명 클래스를 사용하여 학습된 천명 클래스 예측 모델을 이용하여 천명 위험 클래스를 예측하는 과정을 나타낸 도면이다. 도 8은 클러스터 조합을 특징 벡터로 생성하는 과정을 나타낸 도면이다.도 9는 천명(wheezing) 클래스를 검출하는 과정을 나타낸 도면이다."}
