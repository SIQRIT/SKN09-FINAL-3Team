{"patent_id": "10-2022-0113402", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0034925", "출원번호": "10-2022-0113402", "발명의 명칭": "피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 방법 및 서버", "출원인": "주식회사 케이티", "발명자": "김경만"}}
{"patent_id": "10-2022-0113402", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "피부 시술을 시행하는 병원들의 단말들로부터 시술 영상들 및 상기 시술 영상들과 관련된 시술 정보들을 수집하는 단계;시술 정보 내 시술 식별 정보를 이용하여 상기 시술 영상들을 분류하고, 상기 분류된 시술 영상들을 시술 영상데이터베이스 내 복수의 분류 데이터베이스에 구분하여 저장하는 단계;상기 복수의 분류 데이터베이스의 조정, 추가 및 학습 중 적어도 하나를 포함하는 관리 동작을 수행하는 단계;분류 데이터베이스 내 시술 전 영상 및 시술 후 영상을 이용하여 피부 시술 예측 모델을 트레이닝 하는 단계;상기 피부 시술 예측 모델의 트레이닝에 사용된 분류 데이터베이스 내 영상들을 삭제하는 단계; 및상기 트레이닝된 피부 시술 예측 모델을 상기 병원들의 단말들 중 적어도 하나에 배포하는 단계;를 포함하는피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 방법."}
{"patent_id": "10-2022-0113402", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1항에 있어서,상기 시술 영상들과 관련된 시술 정보들을 수집하는 단계는,피부 시술을 시행하는 병원들의 단말들로부터 로우 데이터를 수집하는 단계; 및상기 로우 데이터로부터 상기 시술 정보를 추출하는 단계;를 포함하는피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 방법."}
{"patent_id": "10-2022-0113402", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 2항에 있어서,상기 로우 데이터로부터 상기 시술 정보를 추출하는 단계는,상기 로우 데이터로부터 시술 날짜를 추출하는 단계;상기 시술 영상의 메타 데이터로부터 촬영 시간 정보를 추출하는 단계; 및상기 시술 날짜 및 상기 촬영 시간 정보를 이용하여, 해당 시술 영상이 시술 전 영상인지 또는 시술 후 영상인지를 판단하는 단계;를 포함하는피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 방법."}
{"patent_id": "10-2022-0113402", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 2항에 있어서,상기 로우 데이터로부터 상기 시술 정보를 추출하는 단계는,상기 시술 영상의 메타 데이터로부터 촬영 시간 정보를 추출하는 단계;시술 날짜 및 상기 촬영 시간 정보를 이용하여 시술 후 경과 시간을 결정하는 단계;를 포함하는피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 방법."}
{"patent_id": "10-2022-0113402", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 4항에 있어서,공개특허 10-2024-0034925-3-상기 피부 시술 예측 모델을 트레이닝 하는 단계는,상기 피부 시술 예측 모델에 상기 시술 전 영상 및 상기 시술 후 영상과 함께 시술 후 경과 시간을 제공하여,상기 피부 시술 예측 모델이 시술 후 경과 시간에 따른 영상을 예측하도록 트레이닝하는 단계;를 포함하는피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 방법."}
{"patent_id": "10-2022-0113402", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 1항에 있어서,상기 시술 정보는, 시술 강도 정보를 포함하고,상기 피부 시술 예측 모델을 트레이닝 하는 단계는,상기 피부 시술 예측 모델에 상기 시술 전 영상 및 상기 시술 후 영상과 함께 상기 시술 강도 정보를 제공하여,상기 피부 시술 예측 모델이 상기 시술 강도에 따른 영상을 예측하도록 트레이닝 하는 단계;를 포함하는피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 방법."}
{"patent_id": "10-2022-0113402", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제 1항에 있어서,상기 시술 영상들이 수집되면, 상기 수집된 시술 영상들을 전처리 하는 단계;를 더 포함하고,상기 전처리 하는 단계는,시술 영상 내 얼굴로부터 특징점을 추출하고, 특징점을 둘러싸는 바운딩 박스를 생성하는 단계;상기 바운딩 박스의 크기에 마진율을 적용하여 마진 바운딩 박스를 생성하는 단계;상기 마진 바운딩 박스를 이용하여 상기 시술 영상을 크롭하는 단계; 및상기 크롭된 시술 영상을 일정 크기로 변환하는 단계;를 포함하는피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 방법."}
{"patent_id": "10-2022-0113402", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 1항에 있어서,상기 복수의 분류 데이터베이스의 조정을 포함하는 관리 동작을 수행하는 단계는,제1 분류 데이터베이스 내 시술 영상의 수가 기준치 이상인 경우, 상기 제1 분류 데이터베이스에 속하는 시술영상의 저장을 중단하는 단계; 및제2 분류 데이터베이스 내 시술 영상의 수가 기준치 이하인 경우, 상기 제2 분류 데이터베이스에 속하는 시술영상의 저장을 계속하는 단계;를 포함하는피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 방법."}
{"patent_id": "10-2022-0113402", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 8항에 있어서,상기 기준치는, 분류 데이터베이스 내 저장 가능한 시술 영상의 수의 최대치인피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 방법."}
{"patent_id": "10-2022-0113402", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제 8항에 있어서,상기 기준치는, 상기 복수의 분류 데이터베이스 내 시술 영상의 분포를 고려하여 결정되는피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 방법.공개특허 10-2024-0034925-4-청구항 11 제 1항에 있어서,상기 관리 동작을 수행하는 단계는,특정 병원의 고유의 피부 시술에 대응하는 분류 데이터베이스를 추가하는 단계;를 포함하고,상기 트레이닝된 피부 시술 예측 모델을 상기 병원들의 단말들 중 적어도 하나에 배포하는 단계는,상기 추가된 분류 데이터베이스 내 시술 영상에 의해 트레이닝된 피부 시술 예측 모델을 상기 특정 병원의 단말에만 배포하는 단계;를 포함하는피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 방법."}
{"patent_id": "10-2022-0113402", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제 1항에 있어서,상기 피부 시술 예측 모델은,StyleGAN을 포함하는피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 방법."}
{"patent_id": "10-2022-0113402", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "피부 시술을 시행하는 병원들의 단말들과 통신하는 통신부;시술 영상 데이터베이스를 저장하는 메모리; 및상기 피부 시술을 시행하는 병원들의 단말들로부터 시술 영상들 및 상기 시술 영상들과 관련된 시술 정보들을수집하고, 시술 정보 내 시술 식별 정보를 이용하여 상기 시술 영상들을 분류하고, 상기 분류된 시술 영상들을상기 시술 영상 데이터베이스 내 복수의 분류 데이터베이스에 구분하여 저장하고, 상기 복수의 분류 데이터베이스의 조정, 추가 및 학습 중 적어도 하나를 포함하는 관리 동작을 수행하고, 분류 데이터베이스 내 시술 전 영상 및 시술 후 영상을 이용하여 피부 시술 예측 모델을 트레이닝 하고, 상기 피부 시술 예측 모델의 트레이닝에사용된 분류 데이터베이스 내 영상들을 삭제하고, 상기 트레이닝된 피부 시술 예측 모델을 상기 통신부를 통하여 상기 병원들의 단말들 중 적어도 하나에 배포하는 제어부;를 포함하는피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 서버."}
{"patent_id": "10-2022-0113402", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제 13항에 있어서,상기 제어부는,피부 시술을 시행하는 병원들의 단말들로부터 로우 데이터를 수집하고,상기 로우 데이터로부터 상기 시술 정보를 추출하는피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 서버."}
{"patent_id": "10-2022-0113402", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제 14항에 있어서,상기 제어부는,상기 로우 데이터로부터 시술 날짜를 추출하고,상기 시술 영상의 메타 데이터로부터 촬영 시간 정보를 추출하고,상기 시술 날짜 및 상기 촬영 시간 정보를 이용하여, 해당 시술 영상이 시술 전 영상인지 또는 시술 후 영상인지를 판단하는공개특허 10-2024-0034925-5-피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 서버."}
{"patent_id": "10-2022-0113402", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제 14항에 있어서,상기 제어부는,상기 시술 영상의 메타 데이터로부터 촬영 시간 정보를 추출하고,시술 날짜 및 상기 촬영 시간 정보를 이용하여 시술 후 경과 시간을 결정하는피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 서버."}
{"patent_id": "10-2022-0113402", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제 16항에 있어서,상기 제어부는,상기 피부 시술 예측 모델에 상기 시술 전 영상 및 상기 시술 후 영상과 함께 시술 후 경과 시간을 제공하여,상기 피부 시술 예측 모델이 시술 후 경과 시간에 따른 영상을 예측하도록 트레이닝하는피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 서버."}
{"patent_id": "10-2022-0113402", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "제 13항에 있어서,상기 시술 정보는, 시술 강도 정보를 포함하고,상기 제어부는,상기 피부 시술 예측 모델에 상기 시술 전 영상 및 상기 시술 후 영상과 함께 상기 시술 강도 정보를 제공하여,상기 피부 시술 예측 모델이 상기 시술 강도에 따른 영상을 예측하도록 트레이닝 하는피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 서버."}
{"patent_id": "10-2022-0113402", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_19", "content": "제 13항에 있어서,상기 제어부는,시술 영상 내 얼굴로부터 특징점을 추출하고, 특징점을 둘러싸는 바운딩 박스를 생성하고,상기 바운딩 박스의 크기에 마진율을 적용하여 마진 바운딩 박스를 생성하고,상기 마진 바운딩 박스를 이용하여 상기 시술 영상을 크롭하고,상기 크롭된 시술 영상을 일정 크기로 변환하는피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 서버."}
{"patent_id": "10-2022-0113402", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_20", "content": "제 13항에 있어서,상기 제어부는,제1 분류 데이터베이스 내 시술 영상의 수가 기준치 이상인 경우, 상기 제1 분류 데이터베이스에 속하는 시술영상의 저장을 중단하고,제2 분류 데이터베이스 내 시술 영상의 수가 기준치 이하인 경우, 상기 제2 분류 데이터베이스에 속하는 시술영상의 저장을 계속하는피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 서버.공개특허 10-2024-0034925-6-"}
{"patent_id": "10-2022-0113402", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 방법이 개시된다. 본 발명에 따른 피부 시술 예측 모델 을 트레이닝 하기 위한 데이터 관리 방법은, 피부 시술을 시행하는 병원들의 단말들로부터 시술 영상들 및 상기 시술 영상들과 관련된 시술 정보들을 수집하는 단계, 시술 정보 내 시술 식별 정보를 이용하여 상기 시술 영상들 을 분류하고, 상기 분류된 시술 영상들을 시술 영상 데이터베이스 내 복수의 분류 데이터베이스에 구분하여 저장 하는 단계, 상기 복수의 분류 데이터베이스의 조정, 추가 및 학습 중 적어도 하나를 포함하는 관리 동작을 수행 하는 단계, 분류 데이터베이스 내 시술 전 영상 및 시술 후 영상을 이용하여 피부 시술 예측 모델을 트레이닝 하 는 단계, 상기 피부 시술 예측 모델의 트레이닝에 사용된 분류 데이터베이스 내 영상들을 삭제하는 단계, 및, 상 기 트레이닝된 피부 시술 예측 모델을 상기 병원들의 단말들 중 적어도 하나에 배포하는 단계를 포함한다."}
{"patent_id": "10-2022-0113402", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은, 피부과 병원과 연동하여 피부 시술 예측 모델을 트레이닝하기 위한 데이터의 순환을 관리하고, 피부 시술 예측 모델을 트레이닝하여 피부과 병원에 배포할 수 있는, 피부 시술 예측 모델을 트레이닝 하기 위한 데 이터 관리 방법 및 서버에 관한 것이다."}
{"patent_id": "10-2022-0113402", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "피부과 병원에서 시행되는 피부 시술은 미용이 목적인 점에서는 성형수술과 동일하지만, 성형수술보다 회복이 빠르기 때문에 즉시 일상복귀가 가능하며, 시술결과가 매우 자연스럽다는 특징이 있다. 반면에, 피부 시술은 시술 전과 시술 후의 차이가 크지 않기 때문에, 환자는 자신의 얼굴이 어떻게 변했는지 객 관적으로 알기가 어렵다는 문제가 있다. 이러한 문제를 해결하기 위해, 타인의 시술 전 사진과 시술 후 사진을 비교함으로써 자신의 얼굴이 어떻게 변하 는지를 간접적으로 유추하는 방안을 고려해볼 수 있다. 다만 환자들은, 피부과 병원으로부터 과장된 홍보성의 사진을 제공받는 것이 대부분이고, 환자 개인의 얼굴 특성을 반영한 시술 결과를 확인할 수 없으며, 다양한 환 경적 요인(조명, 빛 반사, 얼굴각도, 메이크업, 표정 등)으로 인하여 자신의 시술 결과를 쉽게 예측할 수 없다 는 문제가 있다. 또한 다양한 시술 부위 및 다양한 시술법이 존재하는 점, 사람들 얼굴 특성이 제각기 상이한 점을 고려하면, 환 자의 얼굴이 시술 후 어떻게 변할지를 예측하기 위해서는 매우 광범위한 데이터베이스가 필요하다는 문제가 있 다."}
{"patent_id": "10-2022-0113402", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 상술한 문제를 해결하기 위한 것으로, 본 발명의 목적은 피부과 병원과 연동하여 피부 시술 예측 모 델을 트레이닝하기 위한 데이터의 순환을 관리하고, 피부 시술 예측 모델을 트레이닝하여 피부과 병원에 배포할 수 있는, 피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 방법 및 서버를 제공하기 위함이다."}
{"patent_id": "10-2022-0113402", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명에 따른 피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 방법은, 피부 시술을 시행하는 병원들 의 단말들로부터 시술 영상들 및 상기 시술 영상들과 관련된 시술 정보들을 수집하는 단계, 시술 정보 내 시술 식별 정보를 이용하여 상기 시술 영상들을 분류하고, 상기 분류된 시술 영상들을 시술 영상 데이터베이스 내 복 수의 분류 데이터베이스에 구분하여 저장하는 단계, 상기 복수의 분류 데이터베이스의 조정, 추가 및 학습 중 적어도 하나를 포함하는 관리 동작을 수행하는 단계, 분류 데이터베이스 내 시술 전 영상 및 시술 후 영상을 이 용하여 피부 시술 예측 모델을 트레이닝 하는 단계, 상기 피부 시술 예측 모델의 트레이닝에 사용된 분류 데이 터베이스 내 영상들을 삭제하는 단계, 및, 상기 트레이닝된 피부 시술 예측 모델을 상기 병원들의 단말들 중 적 어도 하나에 배포하는 단계를 포함한다. 이 경우 상기 시술 영상들과 관련된 시술 정보들을 수집하는 단계는, 피부 시술을 시행하는 병원들의 단말들로 부터 로우 데이터를 수집하는 단계, 및, 상기 로우 데이터로부터 상기 시술 정보를 추출하는 단계를 포함할 수 있다. 이 경우 상기 로우 데이터로부터 상기 시술 정보를 추출하는 단계는, 상기 로우 데이터로부터 시술 날짜를 추출 하는 단계, 상기 시술 영상의 메타 데이터로부터 촬영 시간 정보를 추출하는 단계, 및, 상기 시술 날짜 및 상기 촬영 시간 정보를 이용하여, 해당 시술 영상이 시술 전 영상인지 또는 시술 후 영상인지를 판단하는 단계를 포 함할 수 있다. 한편 상기 로우 데이터로부터 상기 시술 정보를 추출하는 단계는, 상기 시술 영상의 메타 데이터로부터 촬영 시 간 정보를 추출하는 단계, 시술 날짜 및 상기 촬영 시간 정보를 이용하여 시술 후 경과 시간을 결정하는 단계를포함할 수 있다. 이 경우 상기 피부 시술 예측 모델을 트레이닝 하는 단계는, 상기 피부 시술 예측 모델에 상기 시술 전 영상 및 상기 시술 후 영상과 함께 시술 후 경과 시간을 제공하여, 상기 피부 시술 예측 모델이 시술 후 경과 시간에 따 른 영상을 예측하도록 트레이닝하는 단계를 포함할 수 있다. 한편 상기 시술 정보는, 시술 강도 정보를 포함하고, 상기 피부 시술 예측 모델을 트레이닝 하는 단계는, 상기 피부 시술 예측 모델에 상기 시술 전 영상 및 상기 시술 후 영상과 함께 상기 시술 강도 정보를 제공하여, 상기 피부 시술 예측 모델이 상기 시술 강도에 따른 영상을 예측하도록 트레이닝 하는 단계를 포함할 수 있다. 한편 상기 시술 영상들이 수집되면, 상기 수집된 시술 영상들을 전처리 하는 단계를 더 포함하고, 상기 전처리 하는 단계는, 시술 영상 내 얼굴로부터 특징점을 추출하고, 특징점을 둘러싸는 바운딩 박스를 생성하는 단계, 상기 바운딩 박스의 크기에 마진율을 적용하여 마진 바운딩 박스를 생성하는 단계, 상기 마진 바운딩 박스를 이 용하여 상기 시술 영상을 크롭하는 단계, 및, 상기 크롭된 시술 영상을 일정 크기로 변환하는 단계를 포함할 수 있다. 한편 상기 복수의 분류 데이터베이스의 조정을 포함하는 관리 동작을 수행하는 단계는, 제1 분류 데이터베이스 내 시술 영상의 수가 기준치 이상인 경우, 상기 제1 분류 데이터베이스에 속하는 시술 영상의 저장을 중단하는 단계, 및, 제2 분류 데이터베이스 내 시술 영상의 수가 기준치 이하인 경우, 상기 제2 분류 데이터베이스에 속 하는 시술 영상의 저장을 계속하는 단계를 포함할 수 있다. 이 경우 상기 기준치는, 분류 데이터베이스 내 저장 가능한 시술 영상의 수의 최대치일 수 있다. 한편, 상기 기준치는, 상기 복수의 분류 데이터베이스 내 시술 영상의 분포를 고려하여 결정될 수 있다. 한편 상기 관리 동작을 수행하는 단계는, 특정 병원의 고유의 피부 시술에 대응하는 분류 데이터베이스를 추가 하는 단계를 포함하고, 상기 트레이닝된 피부 시술 예측 모델을 상기 병원들의 단말들 중 적어도 하나에 배포하 는 단계는, 상기 추가된 분류 데이터베이스 내 시술 영상에 의해 트레이닝된 피부 시술 예측 모델을 상기 특정 병원의 단말에만 배포하는 단계를 포함할 수 있다. 한편 상기 피부 시술 예측 모델은, StyleGAN을 포함할 수 있다. 한편 본 발명에 따른 피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 서버는, 피부 시술을 시행하는 병 원들의 단말들과 통신하는 통신부, 시술 영상 데이터베이스를 저장하는 메모리, 및, 상기 피부 시술을 시행하는 병원들의 단말들로부터 시술 영상들 및 상기 시술 영상들과 관련된 시술 정보들을 수집하고, 시술 정보 내 시술 식별 정보를 이용하여 상기 시술 영상들을 분류하고, 상기 분류된 시술 영상들을 상기 시술 영상 데이터베이스 내 복수의 분류 데이터베이스에 구분하여 저장하고, 상기 복수의 분류 데이터베이스의 조정, 추가 및 학습 중 적어도 하나를 포함하는 관리 동작을 수행하고, 분류 데이터베이스 내 시술 전 영상 및 시술 후 영상을 이용하 여 피부 시술 예측 모델을 트레이닝 하고, 상기 피부 시술 예측 모델의 트레이닝에 사용된 분류 데이터베이스 내 영상들을 삭제하고, 상기 트레이닝된 피부 시술 예측 모델을 상기 통신부를 통하여 상기 병원들의 단말들 중 적어도 하나에 배포하는 제어부를 포함한다. 이 경우 상기 제어부는, 피부 시술을 시행하는 병원들의 단말들로부터 로우 데이터를 수집하고, 상기 로우 데이 터로부터 상기 시술 정보를 추출할 수 있다. 이 경우 상기 제어부는, 상기 로우 데이터로부터 시술 날짜를 추출하고, 상기 시술 영상의 메타 데이터로부터 촬영 시간 정보를 추출하고, 상기 시술 날짜 및 상기 촬영 시간 정보를 이용하여, 해당 시술 영상이 시술 전 영 상인지 또는 시술 후 영상인지를 판단할 수 있다. 한편 상기 제어부는, 상기 시술 영상의 메타 데이터로부터 촬영 시간 정보를 추출하고, 시술 날짜 및 상기 촬영 시간 정보를 이용하여 시술 후 경과 시간을 결정할 수 있다. 이 경우 상기 제어부는, 상기 피부 시술 예측 모델에 상기 시술 전 영상 및 상기 시술 후 영상과 함께 시술 후 경과 시간을 제공하여, 상기 피부 시술 예측 모델이 시술 후 경과 시간에 따른 영상을 예측하도록 트레이닝할 수 있다. 한편 상기 시술 정보는, 시술 강도 정보를 포함하고, 상기 제어부는, 상기 피부 시술 예측 모델에 상기 시술 전 영상 및 상기 시술 후 영상과 함께 상기 시술 강도 정보를 제공하여, 상기 피부 시술 예측 모델이 상기 시술 강 도에 따른 영상을 예측하도록 트레이닝 할 수 있다.한편 상기 제어부는, 시술 영상 내 얼굴로부터 특징점을 추출하고, 특징점을 둘러싸는 바운딩 박스를 생성하고, 상기 바운딩 박스의 크기에 마진율을 적용하여 마진 바운딩 박스를 생성하고, 상기 마진 바운딩 박스를 이용하 여 상기 시술 영상을 크롭하고, 상기 크롭된 시술 영상을 일정 크기로 변환할 수 있다. 한편 상기 제어부는, 제1 분류 데이터베이스 내 시술 영상의 수가 기준치 이상인 경우, 상기 제1 분류 데이터베 이스에 속하는 시술 영상의 저장을 중단하고, 제2 분류 데이터베이스 내 시술 영상의 수가 기준치 이하인 경우, 상기 제2 분류 데이터베이스에 속하는 시술 영상의 저장을 계속할 수 있다."}
{"patent_id": "10-2022-0113402", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면을 참조하여 본 명세서에 개시된 실시 예를 상세히 설명하되, 도면 부호에 관계없이 동일하거 나 유사한 구성요소는 동일한 참조 번호를 부여하고 이에 대한 중복되는 설명은 생략하기로 한다. 이하의 설명 에서 사용되는 구성요소에 대한 접미사 \"모듈\" 및 \"부\"는 명세서 작성의 용이함만이 고려되어 부여되거나 혼용 되는 것으로서, 그 자체로 서로 구별되는 의미 또는 역할을 갖는 것은 아니다. 또한, 본 명세서에 개시된 실시 예를 설명함에 있어서 관련된 공지 기술에 대한 구체적인 설명이 본 명세서에 개시된 실시 예의 요지를 흐릴 수 있다고 판단되는 경우 그 상세한 설명을 생략한다. 또한, 첨부된 도면은 본 명세서에 개시된 실시 예를 쉽게 이 해할 수 있도록 하기 위한 것일 뿐, 첨부된 도면에 의해 본 명세서에 개시된 기술적 사상이 제한되지 않으며, 본 발명의 사상 및 기술 범위에 포함되는 모든 변경, 균등물 내지 대체물을 포함하는 것으로 이해되어야 한다. 제1, 제2 등과 같이 서수를 포함하는 용어는 다양한 구성요소들을 설명하는데 사용될 수 있지만, 상기 구성요소 들은 상기 용어들에 의해 한정되지는 않는다. 상기 용어들은 하나의 구성요소를 다른 구성요소로부터 구별하는 목적으로만 사용된다. 어떤 구성요소가 다른 구성요소에 \"연결되어\" 있다거나 \"접속되어\" 있다고 언급된 때에는, 그 다른 구성요소에 직접적으로 연결되어 있거나 또는 접속되어 있을 수도 있지만, 중간에 다른 구성요소가 존재할 수도 있다고 이 해되어야 할 것이다. 반면에, 어떤 구성요소가 다른 구성요소에 \"직접 연결되어\" 있다거나 \"직접 접속되어\" 있 다고 언급된 때에는, 중간에 다른 구성요소가 존재하지 않는 것으로 이해되어야 할 것이다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 출원에서, \"포함한다\" 또 는 \"가지다\" 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성요소, 부품 또는 이 들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 본 발명을 구현함에 있어서 설명의 편의를 위하여 구성요소를 세분화하여 설명할 수 있으나, 이들 구성요소가 하나의 장치 또는 모듈 내에 구현될 수도 있고, 혹은 하나의 구성요소가 다수의 장치 또는 모듈들에 나뉘어져서 구현될 수도 있다. 도 1은 본 발명에 따른, 피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 시스템을 도시한 도면이다. 피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 시스템(이하, 시스템이라 함)은, 피부 시술 예측 모델 을 트레이닝 하기 위한 데이터 관리 서버(이하, 서버라 함) 및 피부 시술을 시행하는 병원들의 단말들을 포함할 수 있다. 단말들은 상담 정보 및 시술 기록 정보를 수집할 수 있다. 여기서 상담 정보는 병원 직원(간호사, 의사, 코디네이터 등)과 환자 간의 상담 내역으로부터 추출될 수 있다. 또한 시술 기록 정보는, 병원 직원이 환자의 시술과 관련하여 기록한 정보(시술 부위, 시술명 등), 시술 영상의 촬영시 생성된 시술 영상의 메타 데이터(촬 영 시간, 이미지 사이즈, 해상도 등), 시술 영상의 저장 또는 편집 시 병원 직원이 기록한 정보 등을 포함할 수 있다. 단말들은 환자의 시술 영상을 획득할 수 있다. 여기서 시술 영상은 동일한 환자의 시술 전 영상 및 시술 후 영상을 포함하며, 병원에서 촬영된 사진일 수 있다. 단말들은 상담 정보 및 시술 기록 정보 중 적어도 하나를 서버에 전송할 수 있다. 또한 단말들은 서버로부터 시술 영상에 의해 트레이닝된 피부 시술 예측 모델을 수신할 수 있다. 이 경우 병원 직원은 피부 시술 예측 모델을 환자와의 상담에 이용할 수 있다 구체적으로 단말들은 환자의 시술 전 영상을 피부 시술 예측 모델에 제공하여 환자의 시술 후 영상을 획득할 수 있다. 이 경우 병원 직원은 시술 후 영상을 환자에게 제공하는 방식으로, 피부 시술 예측 모델을 환자와의 상담에 이용할 수 있다. 서버는 피부 시술을 시행하는 병원들의 단말들과 통신하여, 상담 정보, 시술 기록 정보, 시술 영상 등을 수신할 수 있다. 또한 서버는 수신된 시술 영상에 대한 전처리 및 관리 동작을 수행하고, 시술 영상을 이용하여 피부 시술 예측 모델을 트레이닝할 수 있다. 또한 서버는 트레이닝된 피부 시술 예측 모델을 단말들에 배포할 수 있다. 한편 단말들과 서버는 AIaaS(서비스형인공지능) 클라우드 환경에서 동작할 수 있다. 시술 영상의 데 이터 크기가 크고 서버는 많은 수의 단말들로부터 데이터를 수집하기 때문에, 서버는 5G 특화망 을 사용하여 단말들과 통신할 수 있다. 시술 영상 및 기타 정보의 송/수신에 용이하도록, 단말들은 시술 영상 및 기타 정보를 JSON포멧 형태로 변형하고 RESTful 인터페이스를 이용하여 전송할 수 있다. 도 2는 본 발명에 따른 서버의 구성요소를 설명하기 위한 블록도이다. 서버는 통신부, 제어부 및 메모리를 포함할 수 있다. 서버는, 데이터 마이닝, 데이터 분석, 지능형 의사 결정 및 기계 학습 알고리즘을 위해 이용될 정보를 수 신, 분류, 저장 및 출력하도록 구성될 수 있다. 여기서, 기계 학습 알고리즘은 딥 러닝 알고리즘을 포함할 수 있다. 통신부는 단말들과 통신하여 데이터를 송/수신할 수 있다. 이경우 통신부는 AIaaS(서비스형인공 지능) 클라우드 환경 하에서 단말들과 연동할 수 있다. 제어부는 서버의 전반적인 동작을 제어할 수 있다. 제어부는 하나 이상의 프로세서, 하나 이상 의 마이크로 프로세서 등으로 구현될 수 있다. 메모리는 서버의 동작을 위한 명령어, 프로그램 또는 기타 데이터를 저장할 수 있다. 또한 메모리 는 시술 영상 데이터베이스를 포함할 수 있다. 한편 피부 시술 예측 모델은 하드웨어, 소프트웨어 또는 하드웨어와 소프트웨어의 조합으로 구현될 수 있으며, 피부 시술 예측 모델을 구성하는 하나 이상의 명령어는 메모리에 저장될 수 있다. 도 3은 본 발명에 따른, 피부 시술 예측 모델을 트레이닝하기 위한 데이터 관리 방법을 설명하기 위한 순서도이 다. 도 3에서 도시된 단계들이 모두 필수적 구성요소인 것은 아니어서, 피부 시술 예측 모델을 트레이닝하기 위한 데이터 관리 방법은 더 적은 단계, 또는 더 많은 단계를 포함할 수 있다. 본 발명에 따른 피부 시술 예측 모델을 트레이닝하기 위한 데이터 관리 방법은, 피부 시술을 시행하는 병원들의 단말들로부터 시술 영상들 및 시술 영상들과 관련된 시술 정보들을 수집하는 단계(S310), 수집된 시술 영상을 전처리 하는 단계(S320), 시술 정보 내 시술 식별 정보를 이용하여 시술 영상들을 분류하고, 분류된 시술 영상 들을 시술 영상 데이터베이스 내 복수의 분류 데이터베이스에 구분하여 저장하는 단계(S330), 복수의 분류 데이 터베이스의 조정, 추가 및 학습 중 적어도 하나를 포함하는 관리 동작을 수행하는 단계(S340), 분류 데이터베이스 내 시술 전 영상 및 시술 후 영상을 이용하여 피부 시술 예측 모델을 트레이닝 하는 단계(S350), 피부 시술 예측 모델의 트레이닝에 사용된 분류 데이터베이스 내 영상들을 삭제하는 단계(S360), 및, 트레이닝된 피부 시 술 예측 모델을 상기 병원들의 단말들 중 적어도 하나에 배포하는 단계(S370)를 포함할 수 있다. S310과 관련하여, 서버가 단말들로부터 수집할 수 있는 정보에 대하여 도 4를 참고하여 설명한다. 도 4는 본 발명에 따른 상담 정보 및 시술 기록 정보를 도시한 도면이다. 제어부는 통신부를 통하여 단말들로부터 상담 정보를 수신할 수 있다. 상담 정보는 시술을 원하 는 환자가 병원 직원과 상담하는 내용으로부터 추출되는 정보일 수 있다. 도 4a를 참고하면, 상담 정보는, 환자 방문일(Date_of_visit), 추천인(Recommender), 환자가 원하는 시술 (Request_Surgery), 병원 프로모션 정보(Promotion_flag), 상담 또는 진료 후 결정된 시술(Decision_Surgery), 환자의 특이 사항(Memo) 중 적어도 하나를 포함할 수 있다. 한편 단말들은 상담 정보를 서버에 전송할 수 있으나 이에 한정되지 않으며, 상담 정보는 CSV 형태로 변환하여 단말에만 저장할 수도 있다. 이 경우 상담 정보는 문진, 마케팅 등에 활용될 수 있다. 또한 단말들 은 상담 정보 내 일부 요소만을 전송할 수도 있다. 제어부는 통신부를 통하여 단말들로부터 시술 기록 정보를 수신할 수 있다. 도 4b를 참고하면, 시술 기록 정보는, 시술 영상의 촬영 시간(Capture_date), 영상의 사이즈(Image_size), 시술 명(Surgery_name), 시술 부위(Surgery_area), 시술 전/후 구분 플래그(Surgery_flag) 및 시술 강도(Dosage), 시술 날짜 중 적어도 하나를 포함할 수 있다. 여기서 시술 강도는, 시술 전 시술 부위와 시술 후 시술 부위 간의 변화량이나 변화 속도에 영향을 미칠 수 있 는 요소로써, 예를 들어, 주사 시술 시 투약 양, 의사의 처치의 강도 등을 포함할 수 있다. 시술 기록 정보는, 다양한 방식으로 수집될 수 있다. 예를 들어 시술 부위 및 시술 정보는 병원 직원이 기록할 수 있으며, 촬영 시간(Capture_date) 및 영상의 사이즈(Image_size)는 시술 영상의 촬영 시 생성되는 메타 데이 터에 포함될 수 있다. 제어부는 피부 시술을 시행하는 병원들의 단말들로부터 시술 영상들 및 상기 시술 영상들과 관련된 시술 정보들을 수집할 수 있다(S310). 여기서 시술 정보란 시술 영상의 관리에 필요한 것으로, 시술명, 시술 부위 등 을 포함할 수 있다. 구체적으로 제어부는 단말들로부터 로우 데이터를 수집할 수 있다. 이 경우 로우 데이터는 앞서 설명 한 상담 정보 및 시술 기록 정보 중 적어도 하나를 포함할 수 있다. 또한 상담 정보 및 시술 기록 정보는 도 4 와 같이 테이블화되어 수신될 수 있으나 이에 한정되지 않으며, 병원에서 기록된 형태(예를 들어 간호사가 기재 한 문장 등) 그대로 수집될 수도 있다. 또한 로우 데이터는 병원 직원들에 의해 생성되기 때문에 불필요한 정보 를 다수 포함할 수도 있다. 따라서 제어부는 로우 데이터로부터 시술 정보를 추출할 수 있다. 구체적으로 제어부는 로우 데이터 로부터, 시술 부위, 시술 명, 시술 영상이 시술 전 영상인지 또는 시술 후 영상인지에 대한 정보를 추출할 수 있다. 한편 로우 데이터가 불완전한 정보를 포함할 수도 있다. 예를 들어 병원 직원은, 특정 시술 영상이 시술 전 영 상인지 또는 시술 후 영상인지 기록하지 않을 수 있다. 이 경우 제어부는 로우 데이터에 기초하여 필요한 정보를 획득할 수 있다. 구체적으로 제어부는 로우 데이터로부터 시술 날짜를 추출할 수 있다. 또한 제어부는 시술 기록 정보 (더욱 구체적으로는, 시술 영상의 메타 데이터)로부터 촬영 시간 정보를 추출할 수 있다. 그리고 제어부는 추출된 시술 날짜 및 촬영 시간 정보를 이용하여 해당 시술 영상이 시술 전 영상인지 또는 시술 후 영상인지 판 단할 수 있다. 한편 피부 시술 예측 모델은 시술 후 경과한 시간에 따른 시술 후 영상을 예측하도록 트레이닝될 수도 있다. 이 경우 제어부는 시술 영상의 메타 데이터로부터 촬영 시간 정보를 추출하고, 추출된 촬영 시간 정보 및 시 술 날짜를 이용하여 시술 후 경과 시간을 결정할 수 있다. 예를 들어 메타 데이터에 포함된 촬영 시간이 6월 10 일이고 시술 날짜가 6월 1일인 경우, 제어부는 해당 시술 영상이 시술 후 9일 뒤에 촬영된 영상인 것으로결정할 수 있다. 다음으로, 제어부는 수집된 시술 영상을 전처리 할 수 있다(S320). 이와 관련해서는 도 5를 참고하여 설명 한다. 도 5는 본 발명에 따른 시술 영상의 전처리 방법을 설명하기 위한 도면이다. 도 6은 본 발명에 따른, 얼굴의 특징점을 도시한 도면이다. 서버는 단말들로부터 수신되는 시술 영상들 중 일정 각도의 영상만을 트레이닝에 사용할 수 있다. 예 를 들어 서버는 좌측면(0도)의 시술 영상, 우측면(180도)의 시술 영상 및 정면(90도)의 시술 영상을 트레 이닝에 사용할 수 있다. 한편 병원에서는 정교한 장비가 없기 때문에, 환자의 얼굴을 좌측면(0도), 우측면(180도) 및 정면(90도)에서 정 확히 촬영하기가 어렵다. 따라서 병원은 환자를 다양한 각도에서 촬영하고, 단말들은 다양한 각도에서 촬 영된 복수의 영상을 시술 영상으로써 서버에 전송할 수 있다. 예를 들어 병원에서는 환자의 얼굴을 좌측면 (0도)부터 우측면(180도)까지 10도 간격으로 촬영하여 서버에 전송할 수 있다. 다양한 각도에서 촬영된 복수의 영상이 수신되면, 서버의 제어부는 시술 영상 내 얼굴로부터 특징점 을 추출하고, 추출된 특징점들의 2D 좌표를 산출할 수 있다. 이 경우 특징점은, 눈, 코, 인중, 입, 눈썹, 턱, 이마 등의 시술 부위에 형성될 수 있다. 또한 제어부는 특징점들의 2D 좌표에 상응하는 3D 좌표를 설정하고, 3D 좌표계를 카메라 좌표계로 변환한 후 영상 내 얼굴에 투영함으로써, 영상 내 얼굴이 얼마나 회전되었는지 결정할 수 있다. 또한 제어부는 다 양한 각도에서 촬영된 복수의 영상 중 일정 각도(예를 들어, 0도, 90도, 180도)와 가장 가까운 각도에서 촬영된 영상을 추출할 수 있다. 이와 같은 방식으로, 제어부는 제1 기준 각도(예를 들어 0도)의 시술 전 영상 및 시술 후 영상, 제2 기준 각도(예를 들어 90도)의 시술 전 영상 및 시술 후 영상, 그리고 제3 기준 각도(예를 들어 180도)의 시술 전 영 상 및 시술 후 영상을 획득할 수 있다. 한편 시술 전 영상과 시술 후 영상의 쌍(pair)이 만들어지지 않는 경우, 해당 영상은 트레이닝에 사용할 수 없 으므로, 제어부는 해당 영상을 시술 영상 데이터베이스에 저장하지 않고 삭제할 수 있다. 예를 들어 A 환자의 제1 기준 각도(예를 들어 0도)의 시술 후 영상은 존재하나, A 환자의 제1 기준 각도(예를 들어 0도)의 시술 전 영상이 존재하지 않는 경우, 제어부는 A 환자의 제1 기준 각도(예를 들어 0도)의 시술 전 영상을 시술 영상 데이터베이스에 저장하지 않고 삭제할 수 있다. 다음으로, 제어부는 얼굴의 특징점을 둘러싸는 바운딩 박스를 생성할 수 있다. 여기서 바운딩 박스는 얼굴 에서 추출된 특징점들을 모두 포함하며, 얼굴의 특징점들 중 최 외곽의 특징점들이 바운딩 박스의 경계와 만날 수 있다. 바운딩 박스의 위치 및 크기는 다음과 같이 표현될 수 있다. 수학식 1"}
{"patent_id": "10-2022-0113402", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "(bbox: 바운딩 박스, x: 바운딩 박스의 좌측 경계(또는 우측 경계)의 좌표, y: 바운딩 박스의 상측 경계(또는 하측 경계)의 좌표, w: 바운딩 박스의 폭, h: 바운딩 박스의 높이) 한편 특징점들은, 눈, 코, 인중, 입, 눈썹, 턱, 이마 등 시술 부위에 형성되기 때문에 얼굴 전체를 표현할 수 없다. 따라서 제어부는 바운딩 박스의 크기에 마진율을 적용하여 마진 바운딩 박스를 생성할 수 있다. 마 진율은 다수의 단말들로부터 수신되는 모든 시술 영상들에 동일하게 적용될 수 있다. 먼저 마진율이 적용된 마진 크기는 다음과 같이 정의될 수 있다. 수학식 2"}
{"patent_id": "10-2022-0113402", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "(mratio: 마진율, mx: 폭의 마진 크기, my: 높이의 마진 크기, w: 폭, h: 높이) 다음으로, 마진 크기가 적용된 마진 바운딩 박스는 다음과 같이 정의될 수 있다. 수학식 3"}
{"patent_id": "10-2022-0113402", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "(xmin: 마진 바운딩 박스의 좌측 경계의 x 좌표, x: 바운딩 박스의 좌측 경계의 x 좌표, ymin: 마진 바운딩 박스 의 상측 경계의 y 좌표, y: 바운딩 박스의 상측 경계의 y 좌표, mx: 폭의 마진 크기, my: 높이의 마진 크기) 수학식 4"}
{"patent_id": "10-2022-0113402", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "(xmax: 마진 바운딩 박스의 우측 경계의 x 좌표, x: 바운딩 박스의 좌측 경계의 x 좌표, ymax: 마진 바운딩 박스 의 하측 경계의 y 좌표, y: 바운딩 박스의 상측 경계의 y 좌표, mx: 폭의 마진 크기, my: 높이의 마진 크기) 즉 제어부는 마진 바운딩 박스의 좌측 경계에서 폭의 마진 크기를 뺀 좌표를 마진 바운딩 박스의 좌측 경 계의 x 좌표로 설정할 수 있으며, 바운딩 박스의 좌측 경계의 좌표로부터 폭의 마진 크기를 뺀 값이 0보다 작은 경우에는 0을 마진 바운딩 박스의 좌측 경계의 x 좌표로 설정할 수 있다. 동일한 원리로, 제어부는 마진 바운딩 박스의 상측 경계의 y 좌표를 설정할 수 있다. 또한 제어부는 바운딩 박스의 좌측 경계의 x 좌표에 폭과 폭의 마진 크기를 더하여 마진 바운딩 박스의 우 측 경계의 x 좌표로 설정할 수 있다. 동일한 원리로, 제어부는 마진 바운딩 박스의 하측 경계의 y 좌표를 설정할 수 있다. 다음으로, 제어부는 마진 바운딩 박스를 이용하여 시술 영상을 크롭할 수 있다. 구체적으로 제어부는 마진 바운딩 박스 내 영상을 남기고 나머지 영상을 제거함으로써 크롭된 시술 영상을 생성할 수 있다. 다음으로, 제어부는 크롭된 시술 영상을 일정 크기로 변환할 수 있다. 일정 크기는, 다수의 단말들로 부터 수신되는 모든 시술 영상들에 동일하게 적용될 수 있다. 한편 크롭되고 확대된 시술 영상은 해상도가 낮을 수 있다. 따라서 제어부는 Bicubic interpolation 등의 공지된 업스케일링 기법을 이용하여해상도를 높일 수 있다. 다수의 단말들에서 수집되는 시술 영상들은, 다양한 크기의 얼굴을 가진 사람들을 촬영한 영상이며, 다양 한 거리에서 촬영된 영상들이다. 다만 전처리가 완료된 시술 영상은, 영상 내 얼굴이 동일한 각도(0도, 90도, 180도)로 배치된다. 또한 시술 영상들의 크기도 동일하게 조정된다. 그리고 본 발명에 따르면, 바운딩 박스의크기에 동일한 마진율을 적용하여 마진 바운딩 박스를 생성함으로써, 다양한 시술 영상들 내에서 시술 부위(눈, 코, 입 등)의 위치를 일치시키고 얼굴 전체를 표현할 수 있다. 즉 시술 영상들이, 다수의 병원으로부터 규격화 되지 않은 상태에서 수집되더라도, 피부 시술 예측 모델의 관심 영역인 시술 부위(눈, 코, 입 등)의 위치를 일 치시키는 방식으로 시술 영상들을 규격화 함으로써, 피부 시술 예측 모델의 트레이닝을 용이하게 할 수 있다. 다음으로, 제어부는 시술 정보 내 시술 식별 정보를 이용하여 시술 영상들을 분류하고, 분류된 시술 영상 들을 시술 영상 데이터베이스 내 복수의 분류 데이터베이스에 구분하여 저장할 수 있다(S330). 이와 관련해서는 도 7을 참고하여 설명한다. 도 7은 본 발명에 따른 시술 영상 데이터베이스를 설명하기 위한 도면이다. 시술 영상 데이터베이스는 도 7과 같이 트리 구조로 형성될 수 있다. 구체적으로, 시술 영상 데이터베이스 는 시술 부위(Surgery area), 시술명(Surgery_name) 및 시술 전/후(Surgery check)의 순서로 트리 구조를 형성할 수 있다. 시술 부위는, 눈, 코 등의, 시술이 시행되는 얼굴 부위를 나타내고, 시술 명은 해당 시술 부위 에 시행되는 시술의 종류를 나타낼 수 있다. 또한 시술 전/후는 해당 시술 영상이 시술 전 시술 영상인지, 시술 후 시술 영상인지를 나타낼 수 있다. 또한 마지막 리프 노드에 배치되는 시술 전/후 디렉토리에는, 시술 전 영 상과 시술 후 영상이 구분되어 저장될 수 있다. 이와 같은 트리 구조의 데이터베이스를 이용함으로써, 새로운 시술 부위, 새로운 시술명 등의 추가가 용이하다. 한편 시술 식별 정보는 시술 부위 및 시술명을 포함할 수 있다. 즉 제어부는 동일한 시술 부위 및 동일한 시술명을 가지는 시술 영상을 하나의 분류 데이터베이스에 저장할 수 있다. 더욱 구체적으로 제어부는 동 일한 시술 부위 및 동일한 시술명을 가지는 시술 전 영상 및 시술 후 영상을 하나의 분류 데이터베이스에 저장 할 수 있다. 예를 들어 제어부는, 제1 시술부위(이마) 및 제1 시술명(필러)에 대응하는 시술 영상들을 제1 분류 데이터 베이스에 저장하고, 제1 시술부위(이마) 및 제2 시술명(보톡스)에 대응하는 시술 영상들을 제2 분류 데이터베이 스에 저장하고, 제2 시술부위(턱) 및 제2 시술명(보톡스)에 대응하는 시술 영상들을 제3 분류 데이터베이스에 저장할 수 있다. 다음으로, 제어부는 복수의 분류 데이터베이스의 조정, 추가 및 학습 중 적어도 하나를 포함하는 관리 동 작을 수행할 수 있다(S340). 이와 관련해서는 도 8을 참고하여 설명한다. 도 8은 데이터베이스를 관리하는 방법을 설명하기 위한 도면이다. 시술 영상, 시술 기록 정보 등은 매우 많은 단말들로부터 지속적으로 수신되며, 주기, 속도, 개수 등이 일 정하지가 않다. 또한 시술이 시행되는 빈도수는, 시술 부위마다, 그리고 시술 명마다 상이하다. 따라서 복수의 분류 데이터베이스(910, 920, 930, 940, 950, 960, 970, 980, 990) 마다, 시술 영상의 수, 시술 영상이 추가되 는 속도 등이 상이할 수 있다. 따라서 제어부는 데이터베이스의 관리 정책을 생성하여 복수의 분류 데이터베이스를 관리할 수 있다. 여기 서 데이터베이스의 관리 정책은, 분류 데이터베이스의 조정 정책, 분류 데이터베이스의 추가 정책 및 분류 데이 터베이스의 학습 정책을 포함할 수 있다. 분류 데이터베이스의 조정 정책과 관련하여, 피부 시술 예측 모델은 다양한 시술 부위 및 다양한 시술명을 가지 는 시술 전 영상들을 시술 후 영상으로 변환하여야 한다. 그러나 일부 시술 식별 정보(특정 시술 부위 및 특정 시술명을 포함)가 너무 많거나 너무 적은 등, 분류 데이터베이스 내 시술 영상들의 개수에 불균형이 발생하는 경우, 피부 시술 예측 모델이 특정 시술 식별 정보에 대한 특징을 충분히 학습할 수 없어 피부 시술 예측 모델 의 성능이 하락하며, 심하게는 오버핏(overfit)의 문제가 발생하기도 한다. 따라서, 분류 데이터베이스 내 시술 영상의 수가 기준치 이상인 경우, 제어부는 제1 분류 데이베이스에 속 하는 시술 영상의 저장(또는 수집)을 중단할 수 있다. 또한, 제2 분류 데이터베이스 내 시술 영상의 수가 기준 치 이하인 경우, 제어부는 제2 분류 데이터베이스에 속하는 시술 영상의 저장(또는 수집)을 계속할 수 있 다. 도 8을 참고하면, 일부 분류 데이터베이스(930, 960)에서는 시술 영상의 저장이 중단되었고, 다른 일부 분 류 데이터베이스(910, 920, 940, 950)에서는 시술 영상의 저장이 계속되는 것을 알 수 있다. 제1 분류 데이터베 이스의 시술 영상의 저장이 중단되는 경우, 제어부는 단말들로부터 수신되는 시술 영상(제1 분류 데 이터베이스에 속하는 시술 영상)을 제1 분류 데이터베이스에 저장하지 않고 삭제할 수 있다.일 실시 예로, 기준치는 분류 데이터베이스 내 저장 가능한 시술 영상의 수의 최대치일 수 있다. 구체적으로 분 류 데이터베이스들에는 저장 가능한 시술 영상의 최대치가 설정될 수 있으며, 제어부는 최대치의 시술 영 상이 저장되어 있는 제1 분류 데이터베이스에 대하여 시술 영상의 저장을 중단할 수 있다. 예를 들어 제어부는 10000개의 시술 영상이 저장된 제1 분류 데이터베이스에 대하여 시술 영상의 저장을 중단할 수 있다. 또한 제1 분류 데이터베이스에 대한 시술 영상의 저장이 중단된 상태에서, 제어부는 다른 분류 데이터베이스에 대한 시술 영상의 저장을 계속할 수 있다. 그리고 제2 분류 데이터베이스에 10000개의 시 술 영상이 저장되는 경우, 제어부는 제2 분류 데이터베이스에 대한 시술 영상의 저장을 중단할 수 있다. 다른 실시 예로, 기준치는 복수의 분류 데이터베이스 내 시술 영상의 분포를 고려하여 결정될 수 있다. 즉 앞서 설명한 바와 같이, 분류 데이터베이스의 조정 정책은 분류 데이터베이스 간에 시술 영상의 수를 균일하게 유지 하는 것을 목적으로 한다. 따라서 제어부는 복수의 분류 데이터베이스 내 시술 영상의 수에 기초하여 기준 치를 설정할 수 있다. 예를 들어 제1 분류 데이터베이스 내 시술 영상의 수가 복수의 분류 데이터베이스들 내 시술 영상의 수의 평균값보다 일정값 이상 큰 경우, 제어부는 제1 분류 데이터베이스의 시술 영상의 저장 을 중단할 수 있다. 제1 분류 데이터베이스에 대한 시술 영상의 저장이 중단된 상태에서, 제어부는 다른 분류 데이터베이스에 대한 시술 영상의 저장을 계속할 수 있으며, 다른 분류 데이터베이스들과 제1 분류 데이터 베이스 간의 차이가 감소하는 경우 제1 분류 데이터베이스에 대한 시술 영상의 저장을 재개할 수 있다. 분류 데이터베이스의 추가 정책과 관련하여, 새로운 시술 부위나 새로운 시술법이 개발될 수 있다. 이 경우 제 어부는 새로운 시술 부위 및 새로운 시술명 중 적어도 하나를 포함하는 새로운 시술 식별 정보를 생성하고, 새로운 시술 식별 정보에 대응하는 분류 데이터베이스를 추가할 수 있다. 그리고 새로운 시술 식별 정보를 가지는 시술 영상이 수집되면, 제어부는 해당 시술 영상을 추가된 분류 데이터베이스에 저장할 수 있다. 또 다른 실시 예로, 앞서 시술 식별 정보는 시술 부위 및 시술명을 포함한다고 설명한 바 있다. 그리고 특정 병 원 고유의 시술 식별 정보가 존재할 수 있다. 예를 들어 특정 병원이 눈에 대하여 새로운 시술법을 개발한 경우, 시술 부위(눈) 및 새로운 시술명을 포함하는 시술 식별 정보는 특정 병원의 고유의 것일 수 있다. 따라서 제어부는 특정 병원의 고유의 피부 시술에 대응하는 분류 데이터베이스를 추가할 수 있다. 또한 특 정 병원 고유의 시술 식별 정보를 가지는 시술 영상이 수집되는 경우, 제어부는 해당 시술 영상을 추가된 분류 데이터베이스에 저장할 수 있다. 이 분류 데이터베이스 내 시술 영상을 이용하여 트레이닝되는 피부 시술 예측 모델은, 특정 병원의 단말에만 제공될 수 있다. 분류 데이터베이스의 학습 정책과 관련하여, 제어부는 일정 조건이 충족된 분류 데이터베이스에 대하여, 분류 데이터베이스 내 시술 영상을 이용하여 피부 시술 예측 모델을 트레이닝할 수 있다. 예를 들어, 특정 분류 데이터베이스에 최대치의 시술 영상이 저장된 경우, 제어부는 특정 분류 데이터베이 스 내 시술 영상을 이용하여 피부 시술 예측 모델을 트레이닝할 수 있다. 다른 예를 들어, 제 7 내지 제9 분류 데이터베이스(970 내지 990)를 이용한 트레이닝이 필요한 상황에서, 제 7 내지 제9 분류 데이터베이스(970 내지 990)에 최대치의 시술 영상이 저장되면, 제어부는 제 7 내지 제9 분류 데이터베이스(970 내지 990) 내 시술 영상들을 이용하여 피부 시술 예측 모델을 트레이닝할 수 있다. 한편 서버는 단말들로부터 시술 영상, 상담 정보, 시술 정보 등을 지속적으로 수집할 수 있다. 따라 서 복수의 분류 데이터베이스의 조정, 추가 및 학습을 포함하는 관리 동작은, 지속적으로, 그리고 실시간으로 수행될 수 있다. 다음으로, 제어부는 분류 데이터베이스 내 시술 전 영상 및 시술 후 영상을 이용하여 피부 시술 예측 모델 을 트레이닝 할 수 있다(S350). 다수의 시술 영상을 이용한 트레이닝(또는 학습)에는 많은 시간이 소요되며, 트레이닝의 빈도수가 너무 높은 경 우에는 시술 영상의 양이 적은 상태에서 트레이닝이 수행되어 다수의 분류 데이터베이스의 데이터 분포를 충분 히 반영하지 못하는 문제가 발생한다. 따라서 제어부는 1일, 3일, 5일 등의 일정 주기에 따라 피부 시술 예측 모델을 트레이닝할 수 있다. 또 다른 실시 예로, 제어부는 복수의 분류 데이터베이스 내 시술 영상의 총 개수와, 복수의 분류 데이터베 이스 내 분포를 고려하여 피부 시술 예측 모델의 트레이닝을 시작할 수 있다. 예를 들어, 복수의 분류 데이터베 이스 내 시술 영상의 총 개수가 제1 기준치 이상이고, 복수의 분류 데이터베이스 내 시술 영상들의 개수의 차이가 제2 기준치 이하이면, 제어부는 피부 시술 예측 모델의 트레이닝을 시작할 수 있다. 제어부는, 시술 전 영상을 제공받은 피부 시술 예측 모델이 시술 후 영상을 출력하도록, 피부 시술 예측 모델을 트레이닝할 수 있다. 피부 시술 예측 모델에는 생성적 적대 신경망(Generative adversarial network, GAN), 그 중에서도 StyleGAN 계열의 모델(예를 들어 StyleGAN2-ADA)이 사용될 수 있으나 이에 한정되지 않는다. 피부과 시술은 얼굴 내 국소부위만이 변화한다는 특징을 가지기 때문에 얼굴 속성(attribute)을 잘 구분하는 모 델이 필요하며, 환자는 성형수술과 같은 얼굴의 큰 변화 대신 작은 변화를 원하기 때문에 미세한 강도를 조절할 수 있는 StyleGAN이 사용될 수 있다. 또한 시술 영상이 병원의 비전문가에 의해 촬영됨에 따라 잘 정제된 시술 영상들을 대량으로 확보하기 어려운 문제, 시술 식별 정보의 다양성으로 인해 모델이 학습해야 할 대상이 많은 문제를 고려하여, StyleGAN2-ADA이 사용될 수 있다. 한편, 앞서 시술 후 경과 시간을 추출할 수 있다고 설명한 바 있다. 이 경우 제어부는 피부 시술 예측 모 델에 시술 전 영상 및 상기 시술 후 영상과 함께 시술 후 경과 시간을 제공하여, 피부 시술 예측 모델이 시술 후 경과 시간에 따른 영상을 예측하도록 트레이닝할 수 있다. 예를 들어 생성적 적대 신경망(Generative adversarial network, GAN)이 사용되는 경우, 제어부는 생성자 에게 시술 전 영상 및 시술 후 경과 시간(예를 들어 시술 9일 후의 영상)을 제공할 수 있다. 이 경우 생성자는, 제공된 데이터에 기반하여, 시술 9일 후의 예측 영상을 출력할 수 있다. 또한 제어부는 판별자에게 시술 후 영상(시술 9일 후의 영상)을 제공할 수 있다. 판별자는 생성자가 출력한 예측 영상의 진짜 또는 가짜를 판별 하고, 분류 데이터베이스에 저장되었던 시술 후 영상(시술 9일 후의 영상)의 진짜 또는 가짜를 판별할 수 있다. 제어부는 이 과정에서 산출되는 손실값을 이용하여 생성자 및 판별자를 트레이이닝할 수 있다. 한편, 앞서 시술 강도를 추출할 수 있다고 설명한 바 있다. 이 경우 제어부는 피부 시술 예측 모델에 시술 전 영상 및 상기 시술 후 영상과 함께 시술 강도 정보를 제공하여, 피부 시술 예측 모델이 시술 강도에 따른 영 상을 예측하도록 트레이닝할 수 있다. 예를 들어 제어부는 생성자에게 시술 전 영상 및 시술 강도를 제공 하고, 판별자에게 해당 시술 강도가 적용된 시술 후 영상을 제공할 수 있다. 다음으로, 제어부는 피부 시술 예측 모델의 트레이닝에 사용된 분류 데이터베이스 내 영상들을 삭제할 수 있다(S360). 이 경우 제어부는 분류 데이터베이스 내 영상들과 함께, 로우 데이터, 상담 정보 및 시술 기 록 정보 등 단말들로부터 수집된 데이터들을 삭제할 수 있다. 이는 환자의 개인 정보 유출 방지나 프라이 버시 보호를 위한 것으로, 시술 전 영상 및 시술 후 영상에 대한 정보는 피부 시술 예측 모델의 내부 파라미터 로의 형태로 변환되고, 피부 시술 예측 모델은 가상의 시술 후 영상을 생성할 뿐 실제 시술 후 영상을 재현할 수 없기 때문에, 개인 정보 및 프라이버시의 보호가 가능하다. 한편 삭제된 데이터들을 복구할 수 없도록, 제어부는 단말들로부터 수집된 정보 및 영상을 DoD 5220.22-M 및 Peter Gutmann’s Algorithm 삭제 패턴을 이용하여 완전 삭제 처리할 수 있다. 제어부는 트레이닝된 피부 시술 예측 모델을 병원들의 단말들 중 적어도 하나에 배포하는 단계(S370)를 포 함할 수 있다. 구체적으로 서버와 단말들 간에는 상호 보완적인 생태계가 구축될 수 있다. 즉 단말들은 피부 시술 예측 모델의 트레이닝을 위한 데이터를 제공하고, 서버는 트레이닝된 피부 시술 예측 모델을 병원의 단말에 전송할 수 있다. 그리고 병원은 환자와의 상담에 트레이닝된 피부 시술 예측 모델을 사용할 수 있다. 한편 특정 병원 고유의 시술 식별 정보가 존재할 수 있다고 설명한 바 있다. 이 경우 제어부는 특정 병원 고유의 시술 식별 정보를 가지는 시술 영상을 이용하여 피부 시술 예측 모델을 트레이닝할 수 있다. 즉 제어부 는 특정 병원의 고유의 피부 시술에 대응하는 분류 데이터베이스 내 시술 영상을 이용하여 피부 시술 예측 모델을 트레이닝할 수 있다. 또한 제어부는 추가된 분류 데이터베이스 내 시술 영상에 의해 트레이닝된 피부 시술 예측 모델을 특정 병 원의 단말에만 배포할 수 있다. 이 경우 특정 병원만이 해당 모델을 사용할 수 있으며, 다른 병원들은 해당 모 델을 사용할 수 없다. 한편 서버 및 단말들은 상술한 동작을 반복할 수 있다. 이에 따라 서버 및 단말들간에 상 호 보완적인 생태계가 유지되며, 피부 시술 예측 모델의 성능이 지속적으로 향상될 수 있다. 또한 새로운 시술 부위나 새로운 시술법이 개발되는 경우, 병원 고유의 시술 부위나 시술법이 개발되는 경우, 피부 시술 예측 모델은 이를 반영하여 업데이트될 수 있다. 이와 같이 본 발명에 따르면, 피부 시술과 관련하여 인공지능 모델을 트레이닝하기 위한 선순환 생태계를 구축 하고, 데이터 라이프 사이클을 제어함으로써, 다양한, 그리고 다수의 데이터를 이용하여 피부 시술 예측 모델의 성능을 향상시킬 수 있는 장점이 있다. 또한 본 발명에 따르면, 필터링되거나 학습에 이용된 시술 영상을 즉각 삭제하는 방식으로, 개인 정보 유출 방 지를 최소화하고 프라이버시 보호를 달성할 수 있는 장점이 있다. 전술한 본 발명은, 프로그램이 기록된 매체에 컴퓨터가 읽을 수 있는 코드로서 구현하는 것이 가능하다. 컴퓨터 가 읽을 수 있는 매체는, 컴퓨터 시스템에 의하여 읽혀질 수 있는 데이터가 저장되는 모든 종류의 기록장치를 포함한다. 컴퓨터가 읽을 수 있는 매체의 예로는, HDD(Hard Disk Drive), SSD(Solid State Disk), SDD(Silicon Disk Drive), ROM, RAM, CD-ROM, 자기 테이프, 플로피 디스크, 광 데이터 저장 장치 등이 있다. 또한, 상기 컴 퓨터는 제어부를 포함할 수도 있다. 따라서, 상기의 상세한 설명은 모든 면에서 제한적으로 해석되어서는 아니 되고 예시적인 것으로 고려되어야 한다. 본 발명의 범위는 첨부된 청구항의 합리적 해석에 의해 결정되어야 하 고, 본 발명의 등가적 범위 내에서의 모든 변경은 본 발명의 범위에 포함된다."}
{"patent_id": "10-2022-0113402", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명에 따른, 피부 시술 예측 모델을 트레이닝 하기 위한 데이터 관리 시스템을 도시한 도면이다. 도 2는 본 발명에 따른 서버의 구성요소를 설명하기 위한 블록도이다. 도 3은 본 발명에 따른, 피부 시술 예측 모델을 트레이닝하기 위한 데이터 관리 방법을 설명하기 위한 순서도이 다. 도 4는 본 발명에 따른 상담 정보 및 시술 기록 정보를 도시한 도면이다. 도 5는 본 발명에 따른 시술 영상의 전처리 방법을 설명하기 위한 도면이다. 도 6은 본 발명에 따른, 얼굴의 특징점을 도시한 도면이다. 도 7은 본 발명에 따른 시술 영상 데이터베이스를 설명하기 위한 도면이다. 도 8은 데이터베이스를 관리하는 방법을 설명하기 위한 도면이다."}
