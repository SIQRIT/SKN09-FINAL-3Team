{"patent_id": "10-2022-0045412", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0146405", "출원번호": "10-2022-0045412", "발명의 명칭": "무선 통신 시스템에서 이더넷 헤더 압축 프로토콜을 지원하는 단말의 PDCP 재수립 절차를 위", "출원인": "삼성전자주식회사", "발명자": "김동건"}}
{"patent_id": "10-2022-0045412", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "무선 통신 시스템에서 단말의 동작 방법에 있어서, 상기 방법은,기지국으로부터 RRC(Radio Resource Control) 메시지를 수신하는 단계; 상기 RRC 메시지는 RLC(Radio LinkControl) 장치(entity) 설정 정보, PDCP(Packet Data Convergence Protocol) 장치 설정 정보, 및 베어러 설정정보를 포함하고,상기 RRC 메시지에 기반하여, PDCP 장치에 비순서(rlc-OutOfOrderDelivery) 전달 기능이 설정된 RLC 장치와 연결되었는 지 여부를 식별하는 단계;상기 RLC 장치와 연결되었는 지 여부 식별에 기반하여, 상기 PDCP 장치에 재정렬 기능을 설정하는 단계를 포함하고,상기 RLC 장치는 RLC AM 모드(Acknowledged Mode) RLC 장치 또는 RLC UM 모드(Unacknowledged Mode) RLC 장치중에서 적어도 하나의 장치인 방법."}
{"patent_id": "10-2022-0045412", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 개시는 보다 높은 데이터 전송률을 지원하기 위한 5G 또는 6G 통신 시스템에 관련된 것이다. 본 개시에 따르 면, 무선 통신 시스템에서 단말에 의해 수행되는 방법에 있어서, 상기 방법은, 기지국으로부터 RRC(Radio Resource Control) 메시지를 수신하는 단계; 상기 RRC 메시지는 RLC(Radio Link Control) 장치(entity) 설정 정 보, PDCP(Packet Data Convergence Protocol) 장치 설정 정보, 및 베어러 설정 정보를 포함하고, 상기 RRC 메시 지에 기반하여, PDCP 장치에 비순서(rlc-OutOfOrderDelivery) 전달 기능이 설정된 RLC 장치와 연결되었는 지 여 부를 식별하는 단계; 상기 RLC 장치와 연결되었는 지 여부 식별에 기반하여, 상기 PDCP 장치에 재정렬 기능을 설 정하는 단계를 포함할 수 있고, 상기 RLC 장치는 RLC AM 모드(Acknowledged Mode) RLC 장치 또는 RLC UM 모드 (Unacknowledged Mode) RLC 장치 중에서 적어도 하나의 장치일 수 있다."}
{"patent_id": "10-2022-0045412", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 개시는 무선 통신 시스템의 통신 방법에 관한 것으로, 특히 이더넷 헤더 압축 프로토콜을 지원하는 단말에 관한 방법 및 장치에 관한 것이다."}
{"patent_id": "10-2022-0045412", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "5G 이동통신 기술은 빠른 전송 속도와 새로운 서비스가 가능하도록 넓은 주파수 대역을 정의하고 있으며, 3.5 기가헤르츠(3.5GHz) 등 6GHz 이하 주파수('Sub 6GHz') 대역은 물론 28GHz와 39GHz 등 밀리미터파(㎜Wave)로 불 리는 초고주파 대역('Above 6GHz')에서도 구현이 가능하다. 또한, 5G 통신 이후(Beyond 5G)의 시스템이라 불리 어지는 6G 이동통신 기술의 경우, 5G 이동통신 기술 대비 50배 빨라진 전송 속도와 10분의 1로 줄어든 초저 (Ultra Low) 지연시간을 달성하기 위해 테라헤르츠(Terahertz) 대역(예를 들어, 95GHz에서 3 테라헤르츠(3THz) 대역과 같은)에서의 구현이 고려되고 있다. 5G 이동통신 기술의 초기에는, 초광대역 서비스(enhanced Mobile BroadBand, eMBB), 고신뢰/초저지연 통신 (Ultra-Reliable Low-Latency Communications, URLLC), 대규모 기계식 통신 (massive Machine-Type Communications, mMTC)에 대한 서비스 지원과 성능 요구사항 만족을 목표로, 초고주파 대역에서의 전파의 경로 손실 완화 및 전파의 전달 거리를 증가시키기 위한 빔포밍(Beamforming) 및 거대 배열 다중 입출력(Massive MIMO), 초고주파수 자원의 효율적 활용을 위한 다양한 뉴머롤로지 지원(복수 개의 서브캐리어 간격 운용 등)와 슬롯 포맷에 대한 동적 운영, 다중 빔 전송 및 광대역을 지원하기 위한 초기 접속 기술, BWP(Band-Width Part) 의 정의 및 운영, 대용량 데이터 전송을 위한 LDPC(Low Density Parity Check) 부호와 제어 정보의 신뢰성 높은 전송을 위한 폴라 코드(Polar Code)와 같은 새로운 채널 코딩 방법, L2 선-처리(L2 pre-processing), 특정 서 비스에 특화된 전용 네트워크를 제공하는 네트워크 슬라이싱(Network Slicing) 등에 대한 표준화가 진행되었다. 현재, 5G 이동통신 기술이 지원하고자 했던 서비스들을 고려하여 초기의 5G 이동통신 기술 개선(improvement) 및 성능 향상(enhancement)을 위한 논의가 진행 중에 있으며, 차량이 전송하는 자신의 위치 및 상태 정보에 기 반하여 자율주행 차량의 주행 판단을 돕고 사용자의 편의를 증대하기 위한 V2X(Vehicle-to-Everything), 비면허 대역에서 각종 규제 상 요구사항들에 부합하는 시스템 동작을 목적으로 하는 NR-U(New Radio Unlicensed), NR 단말 저전력 소모 기술(UE Power Saving), 지상 망과의 통신이 불가능한 지역에서 커버리지 확보를 위한 단말- 위성 직접 통신인 비 지상 네트워크(Non-Terrestrial Network, NTN), 위치 측위(Positioning) 등의 기술에 대 한 물리계층 표준화가 진행 중이다. 뿐만 아니라, 타 산업과의 연계 및 융합을 통한 새로운 서비스 지원을 위한 지능형 공장 (Industrial Internet of Things, IIoT), 무선 백홀 링크와 액세스 링크를 통합 지원하여 네트워크 서비스 지역 확장을 위한 노드를 제공하는 IAB(Integrated Access and Backhaul), 조건부 핸드오버(Conditional Handover) 및 DAPS(Dual Active Protocol Stack) 핸드오버를 포함하는 이동성 향상 기술(Mobility Enhancement), 랜덤액세스 절차를 간소화하 는 2 단계 랜덤액세스(2-step RACH for NR) 등의 기술에 대한 무선 인터페이스 아키텍쳐/프로토콜 분야의 표준 화 역시 진행 중에 있으며, 네트워크 기능 가상화(Network Functions Virtualization, NFV) 및 소프트웨어 정 의 네트워킹(Software-Defined Networking, SDN) 기술의 접목을 위한 5G 베이스라인 아키텍쳐(예를 들어, Service based Architecture, Service based Interface), 단말의 위치에 기반하여 서비스를 제공받는 모바일 엣지 컴퓨팅(Mobile Edge Computing, MEC) 등에 대한 시스템 아키텍쳐/서비스 분야의 표준화도 진행 중이다. 이와 같은 5G 이동통신 시스템이 상용화되면, 폭발적인 증가 추세에 있는 커넥티드 기기들이 통신 네트워크에 연결될 것이며, 이에 따라 5G 이동통신 시스템의 기능 및 성능 강화와 커넥티드 기기들의 통합 운용이 필요할 것으로 예상된다. 이를 위해, 증강현실(Augmented Reality, AR), 가상현실(Virtual Reality, VR), 혼합 현실 (Mixed Reality, MR) 등을 효율적으로 지원하기 위한 확장 현실(eXtended Reality, XR), 인공지능(Artificial Intelligence, AI) 및 머신러닝(Machine Learning, ML)을 활용한 5G 성능 개선 및 복잡도 감소, AI 서비스 지 원, 메타버스 서비스 지원, 드론 통신 등에 대한 새로운 연구가 진행될 예정이다. 또한, 이러한 5G 이동통신 시스템의 발전은 6G 이동통신 기술의 테라헤르츠 대역에서의 커버리지 보장을 위한 신규 파형(Waveform), 전차원 다중입출력(Full Dimensional MIMO, FD-MIMO), 어레이 안테나(Array Antenna), 대규모 안테나(Large Scale Antenna)와 같은 다중 안테나 전송 기술, 테라헤르츠 대역 신호의 커버리지를 개선 하기 위해 메타물질(Metamaterial) 기반 렌즈 및 안테나, OAM(Orbital Angular Momentum)을 이용한 고차원 공 간 다중화 기술, RIS(Reconfigurable Intelligent Surface) 기술 뿐만 아니라, 6G 이동통신 기술의 주파수 효 율 향상 및 시스템 네트워크 개선을 위한 전이중화(Full Duplex) 기술, 위성(Satellite), AI(Artificial Intelligence)를 설계 단계에서부터 활용하고 종단간(End-to-End) AI 지원 기능을 내재화하여 시스템 최적화를 실현하는 AI 기반 통신 기술, 단말 연산 능력의 한계를 넘어서는 복잡도의 서비스를 초고성능 통신과 컴퓨팅 자 원을 활용하여 실현하는 차세대 분산 컴퓨팅 기술 등의 개발에 기반이 될 수 있을 것이다. 상술한 것과 같이, 무선 통신 시스템의 발전에 따라 다양한 서비스를 제공할 수 있게 됨으로써, 이러한 서비스 들을 보다 원활하게 제공하기 위한 방안이 요구되고 있으며, 특히 무선 통신 시스템에서 이더넷 헤더 압축 프로 토콜을 지원하는 단말의 PDCP 재수립 절차를 위한 방법이 요구되고 있다."}
{"patent_id": "10-2022-0045412", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "개시된 실시예는 이동 통신 시스템에서 서비스를 효과적으로 제공할 수 있는 장치 및 방법을 제공하고자 한다."}
{"patent_id": "10-2022-0045412", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 개시에 따르면, 무선 통신 시스템에서 단말에 의해 수행되는 방법에 있어서, 상기 방법은, 기지국으로부터 RRC(Radio Resource Control) 메시지를 수신하는 단계; 상기 RRC 메시지는 RLC(Radio Link Control) 장치 (entity) 설정 정보, PDCP(Packet Data Convergence Protocol) 장치 설정 정보, 및 베어러 설정 정보를 포함하 고, 상기 RRC 메시지에 기반하여, PDCP 장치에 비순서(rlc-OutOfOrderDelivery) 전달 기능이 설정된 RLC 장치 와 연결되었는 지 여부를 식별하는 단계; 상기 RLC 장치와 연결되었는 지 여부 식별에 기반하여, 상기 PDCP 장 치에 재정렬 기능을 설정하는 단계를 포함할 수 있고, 상기 RLC 장치는 RLC AM 모드(Acknowledged Mode) RLC 장치 또는 RLC UM 모드(Unacknowledged Mode) RLC 장치 중에서 적어도 하나의 장치일 수 있다."}
{"patent_id": "10-2022-0045412", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "개시된 실시예는 이동통신 시스템에서 서비스를 효과적으로 제공할 수 있는 장치 및 방법을 제공한다."}
{"patent_id": "10-2022-0045412", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하 첨부된 도면을 참조하여 본 개시의 동작 원리를 상세히 설명한다. 하기에서 본 개시를 설명하기에 있어 관 련된 공지 기능 또는 구성에 대한 구체적인 설명이 본 개시의 요지를 불필요하게 흐릴 수 있다고 판단되는 경우 에는 그 상세한 설명을 생략할 것이다. 그리고 후술되는 용어들은 본 개시에서의 기능을 고려하여 정의된 용어 들로서 이는 사용자, 운용자의 의도 또는 관례 등에 따라 달라질 수 있다. 그러므로 그 정의는 본 명세서 전반 에 걸친 내용을 토대로 내려져야 할 것이다. 하기에서 본 개시를 설명함에 있어 관련된 공지 기능 또는 구성에 대한 구체적인 설명이 본 개시의 요지를 불필 요하게 흐릴 수 있다고 판단되는 경우에는 그 상세한 설명을 생략할 것이다. 이하 첨부된 도면을 참조하여 본 개시의 실시 예를 설명하기로 한다. 이하 설명에서 사용되는 접속 노드(node)를 식별하기 위한 용어, 망 객체(network entity)들을 지칭하는 용어, 메시지들을 지칭하는 용어, 망 객체들 간 인터페이스를 지칭하는 용어, 다양한 식별 정보들을 지칭하는 용어 등 은 설명의 편의를 위해 예시된 것이다. 따라서, 본 개시가 후술되는 용어들에 한정되는 것은 아니며, 동등한 기 술적 의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 예를 들어, RLC 계층 장치(entity)는 동일한 기능을 하는 다른 계층 장치로 대체될 수 있다. 다른 예를 들어 PDCP 계층 장치는 동일한 기능을 하는 다른 계층 장치로 대체될 수 있다. 또 다른 예를 들어, 베어러는 동일한 기능을 하는 다른 객체로 대체될 수 있다. 즉, RLC 계층 장치 및 PDCP 계층 장치라는 용어에 한정되는 것이 아 니며, 동등한 기술적 의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 이하 설명의 편의를 위하여, 본 개시는 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에서 정의하고 있는 용어 및 명칭들을 사용한다. 하지만, 본 개시가 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에서 정의하고 있는 용어 및 명칭들에 의해 한정되는 것은 아니며, 다른 규 격에 따르는 시스템에도 동일하게 적용될 수 있다. 예를 들어, 본 개시는 보다 높은 데이터 전송률을 지원하기 위한 5G 또는 6G 통신 시스템에도 동일하게 적용될 수 있다. 또한, 본 개시에서 eNB는 설명의 편의를 위하여 gNB와 혼용되어 사용될 수 있다. 즉 eNB로 설명한 기지국은 gNB를 나타낼 수 있다. 본 개시에서는 무선 통신 시스템에서 전송 지연을 줄이기 위한 방법으로 비순서 전달 기능(rlc- OutOfOrderDelivery)을 프로토콜 계층 장치(예를 들면 RLC(Radio Link Control) 계층 장치)에 설정하고 구동하는 방법을 설명한다. 본 개시에서 설명하는 구체적인 설정 방법 또는 구동 방법들은 E-UTRA(Evolved Universal Mobile Telecommunications System (UMTS) Terrestrial Radio Access) RRC(Radio Resource Control) 계층 장치(또는 LTE RRC 계층 장치) 또는 E-UTRA RLC 계층 장치(또는 LTE RLC 계층 장치) 또는 E-UTRA PDCP(Packet Data Convergence Protocol) 계층 장치(또는 LTE PDCP 계층 장치)에 적용될 수 있다. 또한 본 개시에서 설명하는 구 체적인 설정 방법 또는 구동 방법들은 NR RRC 계층 장치 또는 NR RLC 계층 장치 또는 NR PDCP 계층 장치에 확장 되어 적용될 수 있다. 본 개시에서 설명하는 비순서 전달 기능(rlc-OutOfOrderDelivery)은 다음의 설정 방법으로 프로토콜 계층 장치 (예를 들면 RLC 계층 장치)에 설정될 수 있다. 본 개시에서는 비순서 전달 기능(rlc-OutOfOrderDelivery)을 설 정하고 또는 구동하는 방법을 적용하는 프로토콜 계층 장치를 RLC 계층 장치로 간주하고 설명하며, PDCP 계층 장치 또는 다른 상위 계층 장치로도 쉽게 확장될 수 있다. 또한 본 개시에서는 어떤 베어러(또는 동일한 베어러)에 대한 PDCP 계층 장치 설정 정보에서 이더넷 헤더 압축 기능(Ethernet header compression)을 설정하 고 어떤 베어러(또는 동일한 베어러)에 대해서 RLC 계층 장치 설정 정보에서 비순서 전달 기능을 설정하도록 하 여 전송 자원을 절약하면서 전송 지연을 훨씬 줄일 수 있는 설정 방법 또는 PDCP 계층 장치의 구동 방법 또는 RLC 계층 장치의 구동 방법을 설명한다. 제1의 설정 방법 : 기지국은 RRC 메시지(예를 들면 RRCReconfiguration 메시지(RRC Connection Reconfiguration) 또는 RRCSetup 메시지(RRC Connection Setup) 또는 RRCResume 메시지(RRC Connection Resume))를 단말에게 전송할 수 있다. 기지국은 RRC 메시지에 포함된 전송 자원 설정 정보(예를 들면 Radio Resource Config Dedicated)의 RLC 계층 장치 설정 정보(예를 들면 rlf-config)에서 비순서 전달 기능을 설정 하는 지시자(예를 들면 rlc-OutOfOrderDelivery)를 설정하여 단말의 각 베어러 별 RLC 계층 장치에 비순서 전달 기능을 설정하거나(예를 들면 지시자가 설정되고 값이 TRUE로 설정) 또는 설정하지 않을 수 있다(예를 들면 지 시자가 없거나 또는 지시자가 설정되고 값이 FALSE로 설정). 전송 자원 설정 정보(예를 들면 Radio Resource Config Dedicated)의 RLC 계층 장치 설정 정보(예를 들면 rlf-config)에서 비순서 전달 기능을 설정하는 지시자 (예를 들면 rlc-OutOfOrderDelivery)는 비순서 전달 기능을 설정하는 지시자(예를 들면 rlc- OutOfOrderDelivery)가 설정된 RLC 계층 장치 설정 정보에 해당하는 RLC 계층 장치에서 수신한 데이터를 전달할 때 순서에 상관없이 또는 비순서 전달 방법으로 상위 계층 장치(예를 들면 PDCP 계층 장치)로 데이터를 전달하 라는 것을 지시할 수 있다. 전송 자원 설정 정보(예를 들면 Radio Resource Config Dedicated)의 RLC 계층 장 치 설정 정보(예를 들면 rlf-config)에서 비순서 전달 기능은 RLC 계층 장치의 AM 모드(Acknowledged Mode, AM RLC entity) 또는 UM 모드(Unacknowledged Mode, UM RLC entity)에 대해서 설정될 수 있다. 비순서 전달 기능 을 설정하는 지시자(예를 들면 rlc-OutOfOrderDelivery)가 설정된 RLC 계층 장치 설정 정보에 해당하는 RLC 계 층 장치에 대해 RLC 계층 장치 설정 정보에서 비순서 전달 기능을 설정하는 지시자가 설정되고 값이 TRUE로 설 정되었다면 RLC 계층 장치는 비순서 전달 기능을 구동한다(즉, PDCP 계층 장치가 수신하는 RLC 일련번호와 상관 없이 또는 RLC 일련번호의 순서와 상관없이 완전한 데이터(complete RLC SDU)를 수신한다면(또는 분할된 데이터 (segment)가 아닌 데이터가 수신된다면). 비순서 전달 기능을 구동할 때, RLC 계층 장치는 데이터(RLC SDU)를 바로 상위 계층 장치로 전달할 수 있다(예를 들면 RLC 계층 장치는 RLC 헤더를 제거하고, 데이터(RLC SDU)를 저 장하지 않고, 상위 계층 장치로 전달할 수 있다. 반면 기지국에 분할된 데이터가 수신된 경우, RLC 계층 장치의 재조립 타이머(t-Reassembly)를 시작하고, 완전한 데이터를 구성하기 위한 재조립을 위해 버퍼에 저장하고 나머 지 분할된 데이터들의 수신을 기다릴 수 있다). 비순서 전달 기능이 설정된 RLC 계층 장치와 연결된 PDCP 계층 장치에서는 재정렬 기능을 설정하거나 구동할 수 있다. PDCP 계층 장치의 재정렬 기능은 하위 계층 장치(예를 들면 RLC 계층 장치)로부터 수신한 데이터들을 PDCP 일련번호 순서대로 정렬하여 오름차순으로 PDCP 일련번호 (또는 COUNT 값) 갭 또는 차이가 없이 순서대로 상위 계층 장치로 전달한다. 만약 PDCP 계층 장치에 대해 이더 넷 헤더 압축 기능이 설정되었다면 PDCP 일련번호 순서대로 정렬하여 오름차순으로 상위 계층 장치로 데이터를 전달할 때 데이터(예를 들면 PDCP SDU 또는 PDCP PDU)에 대해 이더넷 헤더 압축 해제 절차를 수행하고 상위 계 층 장치로 이더넷 헤더 압축 해제된 데이터(uncompressed PDCP SDU 또는 PDCP SDU)를 전달할 수 있다. PDCP 일 련번호(또는 COUNT 값) 갭(gap) 또는 차이가 발생한 경우, RLC 계층 장치는 재정렬 타이머를 시작하고, 재정렬 타이머가 만료할 때까지 PDCP 일련번호(또는 COUNT 값) 갭 또는 차이에 해당하는 PDCP 일련번호(또는 COUNT 값) 값을 갖는 데이터들을 기다릴 수 있다. 만약 재정렬 타이머가 만료하기 전에 PDCP 일련번호(또는 COUNT 값) 갭 또는 차이에 해당하는 PDCP 일련번호(또는 COUNT 값) 값을 갖는 데이터들이 RLC 계층 장치에 수신된다면 RLC 계 층 장치는 재정렬 타이머를 중지하며 또는 순서에 맞는 데이터들을 상위 계층 장치로 전달할 수 있다. 만약 PDCP 계층 장치에 대해 이더넷 헤더 압축 기능이 설정되었다면 PDCP 계층 장치는 PDCP 일련번호 순서대로 정렬하여 오름차순으로 상위 계층 장치로 데이터를 전달할 때 데이터(예를 들면 PDCP SDU 또는 PDCP PDU)에 대해 이 더넷 헤더 압축 해제 절차를 수행하고 상위 계층 장치로 이더넷 헤더 압축 해제된 데이터(uncompressed PDCP SDU 또는 PDCP SDU)를 전달할 수 있다. 만약 타이머가 만료할 때까지 데이터(예를 들면 PDCP SDU 또는 PDCP PDU)들이 수신되지 않는다면 재정렬 타이머 만료 시, 저장된 데이터들을 소정의 PDCP 일련번호 (또는 COUNT값) 까지 PDCP 일련번호(또는 COUNT 값)의 오름차순으로 상위 계층 장치로 전달한다. 만약 PDCP 계층 장치에 대해 이더넷 헤더 압축 기능이 설정되었다면 상위 계층 장치로 데이터를 전달할 때 데이터(예를 들면 PDCP SDU 또는 PDCP PDU)에 대해 이더넷 헤더 압축 해제 절차를 수행하고 상위 계층 장치로 이더넷 헤더 압축 해제된 데이터 (uncompressed PDCP SDU 또는 PDCP SDU)를 전달할 수 있다. 만약 단말이 RRC 메시지를 수신하였을 때 PDCP 계 층 장치에 대해 PDCP 재수립 절차를 지시하는 지시자가 설정되었다면 또는 PDCP 계층 장치에서 PDCP 재수립 절 차를 수행한다면 베어러가 RLC UM 모드와 연결(또는 맵핑)되어 있고, 재정렬 기능(reordering function)을 사용 하는 경우, 단말은 이더넷 헤더 압축 기능(EHC, Ethernet header compression)이 설정된 경우(또는 EHC를 사용 하는 헤더 압축 기능(또는 헤더 압축 해제 기능이 설정된 경우) 저장된 데이터들에 대해(만약 저장된 데이터들 이 있다면) 이더넷 헤더 압축 해제 절차를 수행한 후, 각 데이터에 연결된 COUNT 값의 오름차순으로 상위 계층 장치들에 전달할 수 있다. 만약 PDCP 계층 장치와 비순서 전달 기능이 설정된 적어도 하나의 RLC 계층 장치와 연결되었다면 단말은 하향 링크에 대해서 이더넷 헤더 압축 기능을 계속 사용하라는 지시자(drb-ContinueEHC- DL)가 설정되지 않았다면 그리고 이더넷 헤더 압축 기능이 설정되었다면 하향 링크에 대해서 이더넷 헤더 압축 프로토콜(EHC protocol)을 초기화(reset)할 수 있다. 또 다른 방법으로 하향 링크에 대해서 이더넷 헤더 압축 프로토콜(EHC protocol)을 초기화(reset)할 수 있다. 구체적으로, 만약 단말이 RRC 메시지를 수신하였을 때 PDCP 계층 장치에 대해 PDCP 재수립 절차를 지시하는 지시자가 설정되었거나 PDCP 계층 장치에서 PDCP 재수립 절차를 수행하는 경우를 예로 들 수 있다. 예를 들어, 재수립 절차를 수행 시 베어러가 RLC UM 모드와 연결(또 는 맵핑)되어 있고, 재정렬 기능(reordering function)을 사용하는 경우에, 단말은 PDCP 계층 장치와 비순서 전 달 기능이 설정된 적어도 하나의 RLC 계층 장치와 연결된 경우가 있을 수 있다. 적어도 하나의 RLC 계층 장치와 연결된 경우, 단말은 이더넷 헤더 압축 기능(EHC, Ethernet header compression)이 설정되었거나(또는 EHC를 사용하는 헤더 압축 기능(또는 헤더 압축 해제 기능이 설정되었을 때)) 저장된 데이터들에 대해(만약 저장된 데 이터들이 있다면) 이더넷 헤더 압축 해제 절차를 수행할 수 있다. 이더넷 헤더 압축 해제 절차를 수행한 후, 단 말은 각 데이터에 연결된 COUNT 값의 오름차순으로 상위 계층 장치들에 전달할 수 있다. 또는, 이더넷 헤더 압 축 해제 절차를 수행한 후, 단말은 하향 링크에 대해서 이더넷 헤더 압축 기능을 계속 사용하라는 지시자(drb- ContinueEHC-DL)가 설정되지 않았다면 그리고 이더넷 헤더 압축 기능이 설정되었다면 이더넷 헤더 압축 프로토 콜(EHC protocol)을 초기화(reset)할 수 있다. 그렇지 않다면(또는 PDCP 계층 장치와 비순서 전달 기능이 설정 된 적어도 하나의 RLC 계층 장치와 연결되지 않았다면) 단말은 저장된 데이터들에 대해(만약 저장된 데이터들이 있다면) 각 데이터에 연결된 COUNT 값의 오름차순으로 상위 계층 장치들에 전달할 수 있다(PDCP 계층 장치와 비 순서 전달 기능이 설정된 적어도 하나의 RLC 계층 장치와 연결되지 않았다면 이더넷 헤더 압축 기능이 설정될 수 없기 때문에 이더넷 헤더 압축 해제 절차를 저장된 데이터들에 대해 수행할 필요가 없다. 즉, RLC UM 모드와 연결된 PDCP 계층 장치에서 재정럴 기능을 사용하는 경우는 스플릿 베어러(split DRB 또는 패킷 중복 기능이 설 정된 베어러) 또는 LWA 베어러(LWA(LTE-WLAN Aggregation) DRB) 또는 RLC 계층 장치에서 비순서 전달 기능이 설정된 경우인데 이더넷 헤더 압축 기능은 구현 복잡도가 높기 때문에 스플릿 베어러 또는 LWA 베어러에는 설정 될 수 없다. 따라서 RLC UM 모드와 연결된 PDCP 계층 장치에서 재정럴 기능을 사용하는 경우는 RLC 계층 장치에 서 비순서 전달 기능이 설정된 경우에만 이더넷 헤더 압축 기능이 설정될 수 있으며, 이 경우에만 저장된 데이 터를 상위 계층 장치로 올릴 때 PDCP 계층 장치에서 이더넷 헤더 압축 해제 절차를 수행하고 전달할 필요가 있 다. 본 개시에서 설명하는 비순서 전달 기능을 RLC 계층 장치에 설정하였을 때 또는 RLC 계층 장치에 설정하고 구동 하도록 설정되었다면(비순서 전달 기능 설정 지시자가 TRUE 값으로 설정된 경우), 데이터 유실을 방지하고 위해 서 또는 PDCP 계층 장치가 하위 계층 장치들로부터 수신한 데이터들을 상위 계층 장치(예를 들면 SDAP 계층 장 치 또는 응용 계층 장치)로 순서와 상관없이 전달하는 것을 방지하기 위해서 재정렬 기능을 구동하는 PDCP 계층 장치를 다음과 같이 설정 또는 구동하도록 할 수 있다. 본 개시에서 설명하는 PDCP 계층 장치의 구동 방법에서는 다음의 경우들에 대해서 본 개시에서 설명하는 재정렬 기능을 갖는 제1-3의 PDCP 계층 장치(LTE PDCP 계층 장치 또는 E-UTRA PDCP 계층 장치) 또는 제2의 PDCP 계층 장치(NR PDCP 계층 장치)로 PDCP 계층 장치에서 수신하는 데이터들을 처리할 수 있다. 구체적으로 RLC AM 모드 또는 RLC UM 모드와 연결된 DRB(Data Radio Bearer)들에 대해서 또는 LWA 베어러들에 대해서 또는 패킷 중복 기 술이 사용될 때 PDCP 계층 장치는 다음의 경우들에 대해서 재정렬 기능을 사용하고 또는 적용할 수 있으며, 재정렬 기능을 수행하는 제1-3의 PDCP 계층 장치 또는 제2의 PDCP 계층 장치의 절차를 수행할 수 있다. - PDCP 계층 장치가 2개의 RLC 계층 장치와 연결되어 있는 경우, - 또는 PDCP 계층 장치가 LWA 베어러(LTE-Wireless LAN Aggregation bearer)에 대해 설정된 경우, - 또는 PDCP 계층 장치가 2개의 RLC AM 모드 RLC 계층 장치와 연결되어 있었거나, LWA 베어러에 대해서 설정되 어 있었고, 이후에 가장 최근의 재설정으로 인해 PDCP 재수립 절차 없이 PDCP 계층 장치가 하나의 RLC AM 모드 의 RLC 계층 장치가 연결된 경우, - 또는 PDCP 계층 장치가 패킷 중복 기술이 설정된 경우, - 또는 PDCP 계층 장치가 비순서 전달 기능이 설정된(또는 RLC 계층 장치의 비순서 전달 기능 설정 지시자가 TRUE 값으로 설정된) 적어도 하나의 RLC 계층 장치와 연결된 경우, - 또는 PDCP 계층 장치가 비순서 전달 기능이 설정된(또는 RLC 계층 장치의 비순서 전달 기능 설정 지시자가 TRUE 값으로 설정된) 하나의 RLC AM 모드 또는 RLC UM 모드 RLC 계층 장치 또는 두 개(또는 복수 개)의 RLC AM 모드 또는 RLC UM 모드 RLC 계층 장치들과 연결된 경우, - 또는 PDCP 계층 장치가 DAPS 베어러에 대해서 설정된 경우, - 또는 DAPS 베어러에 대해서 PDCP 계층 장치가 설정되었었고, 가장 최근에 재설정(reconfiguration) 이후, PDCP 계층 장치가 DAPS 베어러에 대해서 설정되지 않은 경우, 본 개시에서 설명하는 RLC 계층 장치는 E-UTRA RLC 계층 장치 또는 LTE RLC 계층 장치 또는 NR RLC 계층 장치를 지시할 수 있으며, PDCP 계층 장치는 E-UTRA PDCP 계층 장치 또는 LTE PDCP 계층 장치 또는 NR PDCP 계층 장치 를 지시할 수 있다. 또한, 본 개시에서 설명하는 RLC 계층 장치(entity)는 동일한 기능을 하는 다른 계층 장치로 대체될 수 있다. 다른 예를 들어 PDCP 계층 장치는 동일한 기능을 하는 다른 계층 장치로 대체될 수 있다. 또 다른 예를 들어, 베어러는 동일한 기능을 하는 다른 객체로 대체될 수 있다. 즉, RLC 계층 장치 및 PDCP 계층 장치 등의 용어에 한정되는 것이 아니며, 동등한 기술적 의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 설명의 편의를 위하여, 본 개시는 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에 서 정의하고 있는 용어 및 명칭들을 사용하였다. 하지만, 본 개시가 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에서 정의하고 있는 용어 및 명칭들에 의해 한정되는 것은 아니며, 다른 규 격에 따르는 시스템에도 동일하게 적용될 수 있다. 예를 들어, 본 개시는 보다 높은 데이터 전송률을 지원하기 위한 5G 또는 6G 통신 시스템에도 동일하게 적용될 수 있다. 도 1은 본 개시의 일 실시예에 따른 LTE 시스템의 구조를 도시하는 도면이다. 도 1을 참조하면, 도시한 바와 같이 LTE 시스템의 무선 액세스 네트워크는 차세대 기지국(Evolved Node B, 이하 ENB, Node B 또는 기지국)(105, 110, 115, 120)과 MME (125, Mobility Management Entity) 및 S-GW(130, Serving-Gateway)로 구성된다. 사용자 단말(User Equipment, 이하 UE 또는 단말)은 ENB(105 ~ 120) 및 S- GW를 통해 외부 네트워크에 접속한다. 도 1에서 ENB(105 ~ 120)는 UMTS 시스템의 기존 노드 B에 대응된다. ENB는 UE와 무선 채널로 연결되며 기 존 노드 B 보다 복잡한 역할을 수행한다. LTE 시스템에서는 인터넷 프로토콜을 통한 VoIP(Voice over IP)와 같 은 실시간 서비스를 비롯한 모든 사용자 트래픽이 공용 채널(shared channel)을 통해 서비스 되므로, UE들의 버 퍼 상태, 가용 전송 전력 상태, 채널 상태 등의 상태 정보를 취합해서 스케줄링을 하는 장치가 필요하며, 이를 ENB(105 ~ 120)가 담당한다. 하나의 ENB는 통상 다수의 셀들을 제어한다. 예컨대, 100 Mbps의 전송 속도를 구현 하기 위해서 LTE 시스템은 예컨대, 20 MHz 대역폭에서 직교 주파수 분할 다중 방식(Orthogonal Frequency Division Multiplexing, 이하 OFDM이라 한다)을 무선 접속 기술로 사용한다. 또한 단말의 채널 상태에 맞춰 변 조 방식(modulation scheme)과 채널 코딩률(channel coding rate)을 결정하는 적응 변조 코딩(Adaptive Modulation & Coding, 이하 AMC라 한다) 방식을 적용한다. S-GW는 데이터 베어러를 제공하는 장치이며, MME의 제어에 따라서 데이터 베어러를 생성하거나 제거한다. MME는 단말에 대한 이동성 관리 기능은 물론각종 제어 기능을 담당하는 장치로 다수의 기지국 들과 연결된다. 설명에서 사용된 접속 노드(node)를 식별하기 위한 용어, 망 객체(network entity)들을 지칭하는 용어, 메시지 들을 지칭하는 용어, 망 객체들 간 인터페이스를 지칭하는 용어, 다양한 식별 정보들을 지칭하는 용어 등은 설 명의 편의를 위해 예시된 것이다. 따라서, 본 개시가 후술되는 용어들에 한정되는 것은 아니며, 동등한 기술적 의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 설명의 편의를 위하여, 본 개시는 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에 서 정의하고 있는 용어 및 명칭들을 사용하였다. 하지만, 본 개시가 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에서 정의하고 있는 용어 및 명칭들에 의해 한정되는 것은 아니며, 다른 규 격에 따르는 시스템에도 동일하게 적용될 수 있다. 예를 들어, 본 개시는 보다 높은 데이터 전송률을 지원하기 위한 5G 또는 6G 통신 시스템에도 동일하게 적용될 수 있다. 도 2는 본 개시의 일 실시예에 따른 LTE 시스템에서 무선 프로토콜 구조를 나타낸 도면이다. 도 2를 참조하면, LTE 시스템의 무선 프로토콜은 단말과 ENB에서 각각 PDCP (Packet Data Convergence Protocol 205, 240), RLC (Radio Link Control 210, 235), MAC (Medium Access Control 215, 230)으로 이루어 진다. PDCP (Packet Data Convergence Protocol)(205, 240)는 IP 헤더 압축/복원 등의 동작을 담당한다. PDCP"}
{"patent_id": "10-2022-0045412", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "의 주요 기능은 하기와 같이 요약된다. - 헤더 압축 및 압축 해제 기능(Header compression and decompression: ROHC only) - 사용자 데이터 전송 기능 (Transfer of user data) - 순차적 전달 기능(In-sequence delivery of upper layer PDUs at PDCP re-establishment procedure for RLC AM) - 순서 재정렬 기능(For split bearers in DC (only support for RLC AM): PDCP PDU routing for transmission and PDCP PDU reordering for reception) - 중복 탐지 기능(Duplicate detection of lower layer SDUs at PDCP re-establishment procedure for RLC AM) - 재전송 기능(Retransmission of PDCP SDUs at handover and, for split bearers in DC, of PDCP PDUs at PDCP data-recovery procedure, for RLC AM) - 암호화 및 복호화 기능(Ciphering and deciphering) - 타이머 기반 SDU 삭제 기능(Timer-based SDU discard in uplink.) 무선 링크 제어(Radio Link Control, 이하 RLC라고 한다)(210, 235)는 PDCP PDU(Packet Data Unit)를 적절한"}
{"patent_id": "10-2022-0045412", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "크기로 재구성해서 ARQ 동작 등을 수행한다. RLC의 주요 기능은 하기와 같이 요약된다. - 데이터 전송 기능(Transfer of upper layer PDUs) - ARQ 기능(Error Correction through ARQ (only for AM data transfer)) - 접합, 분할, 재조립 기능(Concatenation, segmentation and reassembly of RLC SDUs (only for UM and AM data transfer)) - 재분할 기능(Re-segmentation of RLC data PDUs (only for AM data transfer)) - 순서 재정렬 기능(Reordering of RLC data PDUs (only for UM and AM data transfer) - 중복 탐지 기능(Duplicate detection (only for UM and AM data transfer)) - 오류 탐지 기능(Protocol error detection (only for AM data transfer)) - RLC SDU 삭제 기능(RLC SDU discard (only for UM and AM data transfer)) - RLC 재수립 기능(RLC re-establishment) MAC(215, 230)은 한 단말에 구성된 여러 RLC 계층 장치들과 연결되며, RLC PDU들을 MAC PDU에 다중화하고 MAC"}
{"patent_id": "10-2022-0045412", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "PDU로부터 RLC PDU들을 역다중화하는 동작을 수행한다. MAC의 주요 기능은 하기와 같이 요약된다. - 맵핑 기능(Mapping between logical channels and transport channels) - 다중화 및 역다중화 기능(Multiplexing/demultiplexing of MAC SDUs belonging to one or different logical channels into/from transport blocks (TB) delivered to/from the physical layer on transport channels) - 스케쥴링 정보 보고 기능(Scheduling information reporting) - HARQ 기능(Error correction through HARQ) - 로지컬 채널 간 우선 순위 조절 기능(Priority handling between logical channels of one UE) - 단말간 우선 순위 조절 기능(Priority handling between UEs by means of dynamic scheduling) - MBMS 서비스 확인 기능(MBMS service identification) - 전송 포맷 선택 기능(Transport format selection) - 패딩 기능(Padding) 물리 계층(220, 225)은 상위 계층 데이터를 채널 코딩 및 변조하고, OFDM 심벌로 만들어서 무선 채널로 전송하 거나, 무선 채널을 통해 수신한 OFDM 심벌을 복조하고 채널 디코딩해서 상위 계층으로 전달하는 동작을 한다. 설명에서 사용된 접속 노드(node)를 식별하기 위한 용어, 망 객체(network entity)들을 지칭하는 용어, 메시지 들을 지칭하는 용어, 망 객체들 간 인터페이스를 지칭하는 용어, 다양한 식별 정보들을 지칭하는 용어 등은 설 명의 편의를 위해 예시된 것이다. 따라서, 본 개시가 후술되는 용어들에 한정되는 것은 아니며, 동등한 기술적 의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 설명의 편의를 위하여, 본 개시는 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에 서 정의하고 있는 용어 및 명칭들을 사용하였다. 하지만, 본 개시가 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에서 정의하고 있는 용어 및 명칭들에 의해 한정되는 것은 아니며, 다른 규 격에 따르는 시스템에도 동일하게 적용될 수 있다. 예를 들어, 본 개시는 보다 높은 데이터 전송률을 지원하기 위한 5G 또는 6G 통신 시스템에도 동일하게 적용될 수 있다. 도 3은 본 개시의 일 실시예에 따른 차세대 이동통신 시스템의 구조를 도시하는 도면이다. 도 3을 참조하면, 도시한 바와 같이 차세대 이동통신 시스템(이하 NR 혹은 5G)의 무선 액세스 네트워크는 차세 대 기지국(New Radio Node B, 이하 NR gNB 혹은 NR 기지국) 과 NR CN (305, New Radio Core Network)로 구성된다. 사용자 단말(New Radio User Equipment, 이하 NR UE 또는 단말)은 NR gNB 및 NR CN (30 5)를 통해 외부 네트워크에 접속한다. 도 3에서 NR gNB는 기존 LTE 시스템의 eNB (Evolved Node B)에 대응된다. NR gNB는 NR UE와 무선 채 널로 연결되며 기존 노드 B 보다 더 월등한 서비스를 제공해줄 수 있다. 차세대 이동통신 시스템에서는 모든 사 용자 트래픽이 공용 채널(shared channel)을 통해 서비스 되므로, UE들의 버퍼 상태, 가용 전송 전력 상태, 채 널 상태 등의 상태 정보를 취합해서 스케줄링을 하는 장치가 필요하며, 이를 NR NB가 담당한다. 하나의 NR gNB는 통상 다수의 셀들을 제어한다. 현재 LTE 대비 초고속 데이터 전송을 구현하기 위해서 기존 최대 대역폭 이상을 가질 수 있고, 직교 주파수 분할 다중 방식(Orthogonal Frequency Division Multiplexing, 이하 OFDM이 라 한다)을 무선 접속 기술로 하여 추가적으로 빔포밍 기술이 접목될 수 있다. 또한 단말의 채널 상태에 맞춰 변조 방식(modulation scheme)과 채널 코딩률(channel coding rate)을 결정하는 적응 변조 코딩(Adaptive Modulation & Coding, 이하 AMC라 한다) 방식을 적용한다. NR CN 는 이동성 지원, 베어러 설정, QoS 설정 등의 기능을 수행한다. NR CN는 단말에 대한 이동성 관리 기능은 물론 각종 제어 기능을 담당하는 장치로 다수 의 기지국 들과 연결된다. 또한 차세대 이동통신 시스템은 기존 LTE 시스템과도 연동될 수 있으며, NR CN이 MME와 네트워크 인터페이스를 통해 연결된다. MME는 기존 기지국인 eNB 와 연결된다. 설명에서 사용된 접속 노드(node)를 식별하기 위한 용어, 망 객체(network entity)들을 지칭하는 용어, 메시지 들을 지칭하는 용어, 망 객체들 간 인터페이스를 지칭하는 용어, 다양한 식별 정보들을 지칭하는 용어 등은 설 명의 편의를 위해 예시된 것이다. 따라서, 본 개시가 후술되는 용어들에 한정되는 것은 아니며, 동등한 기술적 의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 설명의 편의를 위하여, 본 개시는 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에 서 정의하고 있는 용어 및 명칭들을 사용하였다. 하지만, 본 개시가 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에서 정의하고 있는 용어 및 명칭들에 의해 한정되는 것은 아니며, 다른 규 격에 따르는 시스템에도 동일하게 적용될 수 있다. 예를 들어, 본 개시는 보다 높은 데이터 전송률을 지원하기 위한 5G 또는 6G 통신 시스템에도 동일하게 적용될 수 있다. 도 4는 본 개시의 일 실시예에 따른 차세대 이동통신 시스템의 무선 프로토콜 구조를 나타낸 도면이다. . 도 4를 참조하면, 차세대 이동통신 시스템의 무선 프로토콜은 단말과 NR 기지국에서 각각 NR SDAP(401, 445), NR PDCP(405, 440), NR RLC(410, 435), NR MAC(415, 430)으로 이루어진다. NR SDAP(401, 445)의 주요 기능은 다음의 기능들 중 일부를 포함할 수 있다. - 사용자 데이터의 전달 기능(transfer of user plane data) - 상향 링크와 하향 링크에 대해서 QoS flow와 데이터 베어러의 맵핑 기능(mapping between a QoS flow and a DRB for both DL and UL) - 상향 링크와 하향 링크에 대해서 QoS flow ID를 마킹 기능(marking QoS flow ID in both DL and UL packets) - 상향 링크 SDAP PDU들에 대해서 relective QoS flow를 데이터 베어러에 맵핑시키는 기능 (reflective QoS flow to DRB mapping for the UL SDAP PDUs). SDAP 계층 장치에 대해 단말은 RRC 메시지로 각 PDCP 계층 장치 별로 혹은 베어러 별로 혹은 로지컬 채널 별로 SDAP 계층 장치의 헤더를 사용할 지 여부 혹은 SDAP 계층 장치의 기능을 사용할 지 여부를 설정 받을 수 있으며, SDAP 헤더가 설정된 경우, SDAP 헤더의 NAS QoS 반영 설정 1비트 지시자(NAS reflective QoS)와 AS QoS 반영 설정 1비트 지시자(AS reflective QoS)로 단말이 상향 링크와 하향 링크의 QoS flow와 데이터 베어러 에 대한 맵핑 정보를 갱신 혹은 재설정할 수 있도록 지시할 수 있다. SDAP 헤더는 QoS를 나타내는 QoS flow ID 정보를 포함할 수 있다. QoS 정보는 원할한 서비스를 지원하기 위한 데이터 처리 우선 순위, 스케쥴링 정보 등 으로 사용될 수 있다. NR PDCP (405, 440)의 주요 기능은 다음의 기능들 중 일부를 포함할 수 있다. 헤더 압축 및 압축 해제 기능(Header compression and decompression: ROHC only) - 사용자 데이터 전송 기능 (Transfer of user data) - 순차적 전달 기능(In-sequence delivery of upper layer PDUs) - 비순차적 전달 기능 (Out-of-sequence delivery of upper layer PDUs) - 순서 재정렬 기능(PDCP PDU reordering for reception) - 중복 탐지 기능(Duplicate detection of lower layer SDUs) - 재전송 기능(Retransmission of PDCP SDUs) - 암호화 및 복호화 기능(Ciphering and deciphering) - 타이머 기반 SDU 삭제 기능(Timer-based SDU discard in uplink.) NR PDCP 장치의 순서 재정렬 기능(reordering)은 하위 계층에서 수신한 PDCP PDU들을 PDCP SN(sequence number)을 기반으로 순서대로 재정렬하는 기능을 말하며, 재정렬된 순서대로 데이터를 상위 계층에 전달하는 기능을 포함할 수 있으며, 혹은 순서를 고려하지 않고, 바로 전달하는 기능을 포함할 수 있으며, 순서를 재정렬하 여 유실된 PDCP PDU들을 기록하는 기능을 포함할 수 있으며, 유실된 PDCP PDU들에 대한 상태 보고를 송신 측에 하는 기능을 포함할 수 있으며, 유실된 PDCP PDU들에 대한 재전송을 요청하는 기능을 포함할 수 있다. NR RLC(410, 435)의 주요 기능은 다음의 기능들 중 일부를 포함할 수 있다. - 데이터 전송 기능(Transfer of upper layer PDUs) - 순차적 전달 기능(In-sequence delivery of upper layer PDUs) - 비순차적 전달 기능(Out-of-sequence delivery of upper layer PDUs) - ARQ 기능(Error Correction through ARQ) - 접합, 분할, 재조립 기능(Concatenation, segmentation and reassembly of RLC SDUs) - 재분할 기능(Re-segmentation of RLC data PDUs) - 순서 재정렬 기능(Reordering of RLC data PDUs) - 중복 탐지 기능(Duplicate detection) - 오류 탐지 기능(Protocol error detection) - RLC SDU 삭제 기능(RLC SDU discard) - RLC 재수립 기능(RLC re-establishment) NR RLC 장치의 순차적 전달 기능(In-sequence delivery)은 하위 계층으로부터 수신한 RLC SDU들을 순서대로 상 위 계층에 전달하는 기능을 의미한다. NR RLC 장치의 순차적 전달 기능(In-sequence delivery)은 원래 하나의 RLC SDU가 여러 개의 RLC SDU들로 분할되어 수신된 경우, 이를 재조립하여 전달하는 기능을 포함할 수 있으며, 수신한 RLC PDU들을 RLC SN(sequence number) 혹은 PDCP SN(sequence number)를 기준으로 재정렬하는 기능을 포함할 수 있다. NR RLC 장치의 순차적 전달 기능(In-sequence delivery)은 순서를 재정렬하여 유실된 RLC PDU 들을 기록하는 기능을 포함할 수 있더. 또한, 유실된 RLC PDU들에 대한 상태 보고를 송신 측에 하는 기능을 포 함할 수 있으며, 유실된 RLC PDU들에 대한 재전송을 요청하는 기능을 포함할 수 있으며, 유실된 RLC SDU가 있을 경우, 유실된 RLC SDU 이전까지의 RLC SDU들만을 순서대로 상위 계층에 전달하는 기능을 포함할 수 있다. 또한, 유실된 RLC SDU가 있어도 소정의 타이머가 만료되었다면 타이머가 시작되기 전에 수신된 모든 RLC SDU들을 순서 대로 상위 계층에 전달하는 기능을 포함할 수 있으며, 혹은 유실된 RLC SDU가 있어도 소정의 타이머가 만료되었 다면 현재까지 수신된 모든 RLC SDU들을 순서대로 상위 계층에 전달하는 기능을 포함할 수 있다. NR RLC 장치의 순차적 전달 기능(In-sequence delivery)은 RLC PDU들을 수신하는 순서대로 (일련번호, Sequence number의 순 서와 상관없이, 도착하는 순으로) 처리하여 PDCP 장치로 순서와 상관없이(Out-of sequence delivery) 전달할 수 도 있으며, segment 인 경우에는 버퍼에 저장되어 있거나 추후에 수신될 segment들을 수신하여 온전한 하나의 RLC PDU로 재구성한 후, 처리하여 PDCP 장치로 전달할 수 있다. NR RLC 계층은 접합(Concatenation) 기능을 포 함하지 않을 수 있고 기능을 NR MAC 계층에서 수행하거나 NR MAC 계층의 다중화(multiplexing) 기능으로 대체할 수 있다. NR RLC 장치의 비순차적 전달 기능(Out-of-sequence delivery)은 하위 계층으로부터 수신한 RLC SDU들을 순서 와 상관없이 바로 상위 계층으로 전달하는 기능을 말하며, 원래 하나의 RLC SDU가 여러 개의 RLC SDU들로 분할 되어 수신된 경우, 이를 재조립하여 전달하는 기능을 포함할 수 있으며, 수신한 RLC PDU들의 RLC SN 혹은 PDCP SN을 저장하고 순서를 정렬하여 유실된 RLC PDU들을 기록해두는 기능을 포함할 수 있다. NR MAC(415, 430)은 한 단말에 구성된 여러 NR RLC 계층 장치들과 연결될 수 있으며, NR MAC의 주요 기능은 다 음의 기능들 중 일부를 포함할 수 있다. - 맵핑 기능(Mapping between logical channels and transport channels) - 다중화 및 역다중화 기능(Multiplexing/demultiplexing of MAC SDUs) - 스케쥴링 정보 보고 기능(Scheduling information reporting) - HARQ 기능(Error correction through HARQ) - 로지컬 채널 간 우선 순위 조절 기능(Priority handling between logical channels of one UE) - 단말간 우선 순위 조절 기능(Priority handling between UEs by means of dynamic scheduling) - MBMS 서비스 확인 기능(MBMS service identification) - 전송 포맷 선택 기능(Transport format selection) - 패딩 기능(Padding) NR PHY 계층(420, 425)은 상위 계층 데이터를 채널 코딩 및 변조하고, OFDM 심벌로 만들어서 무선 채널로 전송 하거나, 무선 채널을 통해 수신한 OFDM 심벌을 복조하고 채널 디코딩해서 상위 계층으로 전달하는 동작을 수행 할 수 있다. 설명에서 사용된 접속 노드(node)를 식별하기 위한 용어, 망 객체(network entity)들을 지칭하는 용어, 메시지 들을 지칭하는 용어, 망 객체들 간 인터페이스를 지칭하는 용어, 다양한 식별 정보들을 지칭하는 용어 등은 설 명의 편의를 위해 예시된 것이다. 따라서, 본 개시가 후술되는 용어들에 한정되는 것은 아니며, 동등한 기술적 의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 또한, 본 개시에서 설명하는 RLC 계층 장치(entity)는 동일한 기능을 하는 다른 계층 장치로 대체될 수 있다. 다른 예를 들어 PDCP 계층 장치는 동일한 기능을 하는 다른 계층 장치로 대체될 수 있다. 또 다른 예를 들어, 베어러는 동일한 기능을 하는 다른 객체로 대체될 수 있다. 즉, RLC 계층 장치 및 PDCP 계층 장치 등의 용어에 한정되는 것이 아니며, 동등한 기술적 의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 설명의 편의를 위하여, 본 개시는 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에 서 정의하고 있는 용어 및 명칭들을 사용하였다. 하지만, 본 개시가 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에서 정의하고 있는 용어 및 명칭들에 의해 한정되는 것은 아니며, 다른 규 격에 따르는 시스템에도 동일하게 적용될 수 있다. 예를 들어, 본 개시는 보다 높은 데이터 전송률을 지원하기 위한 5G 또는 6G 통신 시스템에도 동일하게 적용될 수 있다. 도 5는 본 개시의 일 실시예에 따른 단말이 RRC 유휴 모드(RRC idle mode)에서 RRC 연결 모드(RRC connected mode)로 전환하여 네트워크와 연결을 설정하는 절차를 설명한 도면이다. 도 5에서 기지국은 RRC 연결 모드에서 데이터를 송수신하는 단말이 소정의 이유로 혹은 일정 시간 동안 데이터 의 송수신이 없으면 RRCConnectionRelease 메시지를 단말에게 보내어 단말을 RRC 유휴모드로 전환하도록 할 수 있다. 추후에 현재 연결이 설정되어 있지 않은 단말 (이하 idle mode UE)은 전송할 데이터가 발생하면 기 지국과 RRC connection establishment과정을 수행한다. 단말은 랜덤 액세스 과정을 통해서 기지국과 역방향 전 송 동기를 수립하고 RRCConnectionRequest 메시지를 기지국으로 전송한다 . 메시지에는 단말의 식별자와 연결을 설정하고자 하는 이유(establishmentCause) 등이 수납된다. 기지국은 단말이 RRC 연결을 설정하도록 RRCConnectionSetup 메시지를 전송한다. 메시지에는 각 서비스/베어러/각 RLC 장치 혹은 로지컬 채널 별로 혹은 베어러 별로 설정 정보를 포함하고 있으 며, 각 베어러/로지컬 채널 별로 ROHC를 사용할지 여부, ROHC 설정 정보(예를 들면 ROHC 버전, 초기정보 등), statusReportRequired 정보(기지국이 단말에게 PDCP Status report를 지시하는 정보), drb-ContinueROHC 정보 (ROHC 설정 정보를 유지하고 그대로 사용하라는 설정 정보로 PDCP 계층 장치 설정 정보(pdcp-config)에 포함되 어 전송될 수 있다). 또한 메시지에는 RRC 연결 구성 정보 등이 수납된다. RRC 연결을 위한 베어러는 SRB (Signaling Radio Bearer)라고도 하며, 단말과 기지국 사이의 제어 메시지인 RRC 메시지 송수신에 사용된다. RRC 연결을 설정한 단말은 RRCConnetionSetupComplete 메시지를 기지국으로 전송한다 . 메시지에는 단말이 소정의 서비스를 위한 베어러 설정을 MME에게 요청하는 SERVICE REQUEST라는 제어 메시지가 포함되어 있다. 기 지국은 RRCConnetionSetupComplete 메시지에 수납된 SERVICE REQUEST 메시지를 MME 또는 AMF로 전송하고 , MME 또는 AMF는 단말이 요청한 서비스를 제공할지 여부를 판단한다. 판단 결과 단말이 요청한 서비스를제공하기로 결정하였다면 MME 또는 AMF는 기지국에게 INITIAL CONTEXT SETUP REQUEST라는 메시지를 전송한다 . 메시지에는 DRB (Data Radio Bearer) 설정 시 적용할 QoS (Quality of Service) 정보, 그리고 DRB에 적 용할 보안 관련 정보 (예를 들어 Security Key, Security Algorithm) 등의 정보가 포함된다. 또한 기지국은 단말의 능력 정보를 MME 또는 AMF로부터 수신하지 못한 경우, 단말의 능력 정보를 확인하기 위해 단말에게 단말 능력 정보 요청 메시지를 전송할 수 있다. 단말은 단말 능력 정보 요청 메시지를 수신하면 단말 능력 정보 메시지를 구성하고 생성하여 기지국에게 보고할 수 있다. 단말 능력 정보 메시지에는 단말 이 기능들을 지원하는 지를 포함할 수 있다. 예를 들면 본 개시에서 설명하는 효율적인 핸드오버 방법(이중 활 성화 프로토콜 스택, Dual Active Protocol Stack, DAPS)을 단말이 지원하는 지 지원하지 않는 지 지시자를 통 해서 기지국에게 단말 능력을 보고할 수 있다또한 단말 능력 정보에서는 단말이 RLC 계층 장치에서 비순서 전달 기능을 지원하는지 여부를 지시할 수 있으며 또는 PDCP 계층 장치에서 이더넷 헤더 압축 기능을 지원하는지 여 부를 지시할 수 있다. 기지국은 단말과 보안을 설정하기 위해서 SecurityModeCommand 메시지와 SecurityModeComplete 메시지 를 교환한다. 보안 설정이 완료되면 기지국은 단말에게 RRCConnectionReconfiguration 메시지를 전송한다 . 메시지에는 각 서비스/베어러/각 RLC 장치 혹은 로지컬 채널 별로 혹은 베어러 별로 설정 정보를 포함하고 있으 며, 각 베어러/로지컬 채널 별로 ROHC를 사용할지 여부, ROHC 설정 정보(예를 들면 ROHC 버전, 초기정보 등), statusReportRequired 정보(기지국이 단말에게 PDCP Status report를 지시하는 정보), drb-ContinueROHC 정보 (ROHC 설정 정보를 유지하고 그대로 사용하라는 설정 정보로 PDCP 계층 장치 설정 정보(pdcp-config)에 포함되 어 전송될 수 있다). 또한 메시지에는 RRC 연결 구성 정보 등이 수납된다. RRC 연결을 위한 베어러는 SRB (Signaling Radio Bearer)라고도 하며, 단말과 기지국 사이의 제어 메시지인 RRC 메시지 송수신에 사용된다. 또한 메시지에는 사용자 데이터가 처리될 DRB의 설정 정보가 포함되며, 단말은 정보를 적용해서 DRB를 설정하고 기지국에게 RRCConnectionReconfigurationComplete 메시지를 전송한다. 단말과 DRB 설정을 완료한 기지국 은 MME 또는 AMF에게 INITIAL CONTEXT SETUP COMPLETE 메시지를 전송하고 , 이를 수신한 MME 또는 AMF는 S-GW와 S1 베어러를 설정하기 위해서 S1 BEARER SETUP 메시지와 S1 BEARER SETUP RESPONSE 메시지를 교환한다 (5055, 560). S1 베어러는 S-GW와 기지국 사이에 설정되는 데이터 전송용 연결이며 DRB와 1대 1로 대응된다. 과 정이 모두 완료되면 단말은 기지국과 S-GW를 통해 데이터를 송수신한다(565, 570). 이처럼 일반적인 데이터 전 송 과정은 크게 RRC 연결 설정, 보안 설정, DRB설정의 3단계로 구성된다. 또한 기지국은 소정의 이유로 단말에 게 설정을 새로 해주거나 추가하거나 변경하기 위해서 RRC Connection Reconfiguration 메시지를 전송할 수 있 다. 도 5의 RRC 메시지에서는 본 개시에서 설명하는 비순서 전달 기능(rlc-OutOfOrderDelivery)은 다음의 설정 방법 으로 프로토콜 계층 장치(예를 들면 RLC 계층 장치)에 설정될 수 있다. 본 개시에서는 비순서 전달 기능을 설정 하고 또는 구동하는 방법을 적용하는 프로토콜 계층 장치를 RLC 계층 장치로 간주하고 설명하며, PDCP 계층 장 치 또는 다른 상위 계층 장치로도 쉽게 확장될 수 있다. 또한 본 개시에서는 어떤 베어러(또는 동일한 베어러) 에 대한 PDCP 계층 장치 설정 정보에서 이더넷 헤더 압축 기능(Ethernet header compression)을 설정하고 베어 러에 대해서 RLC 계층 장치 설정 정보에서 비순서 전달 기능을 설정하도록 하여 전송 자원을 절약하면서 전송 지연을 훨씬 줄일 수 있는 설정 방법 또는 PDCP 계층 장치의 구동 방법 또는 RLC 계층 장치의 구동 방법을 설명 한다. 제1의 설정 방법 : 기지국은 RRC 메시지(예를 들면 RRCReconfiguration 메시지(RRC Connection Reconfiguration) 또는 RRCSetup 메시지(RRC Connection Setup) 또는 RRCResume 메시지(RRC Connection Resume))를 단말에게 전송할 때 RRC 메시지에 포함된 전송 자원 설정 정보(예를 들면 Radio Resource Config Dedicated)의 RLC 계층 장치 설정 정보(예를 들면 rlf-config)에서 비순서 전달 기능을 설정하는 지시자(예를 들면 rlc-OutOfOrderDelivery)를 설정하여 단말의 각 베어러 별 RLC 계층 장치에 비순서 전달 기능을 설정하거 나(예를 들면 지시자가 설정되고 값이 TRUE로 설정) 또는 설정하지 않을 수 있다(예를 들면 지시자가 없거나 또 는 지시자가 설정되고 값이 FALSE로 설정). 비순서 전달 기능을 설정하는 지시자(예를 들면 rlc- OutOfOrderDelivery)는 지시자가 설정된 RLC 계층 장치 설정 정보에 해당하는 RLC 계층 장치에서 수신한 데이터 를 전달할 때 순서에 상관없이 또는 비순서 전달 방법으로 상위 계층 장치(예를 들면 PDCP 계층 장치)로 데이터 를 전달하라는 것을 지시할 수 있다. 비순서 전달 기능은 RLC 계층 장치의 AM 모드(Acknowledged Mode, AM RLCentity) 또는 UM 모드(Unacknowledged Mode, UM RLC entity)에 대해서 설정될 수 있다. RLC 계층 장치에 대해 RLC 계층 장치 설정 정보에서 비순서 전달 기능을 설정하는 지시자가 설정되고 또는 TRUE 값으로 설정되었다면 RLC 계층 장치는 비순서 전달 기능을 구동하고(즉, 수신하는 RLC 일련번호와 상관없이 또는 RLC 일련번호의 순 서와 상관없이 완전한 데이터(complete RLC SDU)를 수신한다면(또는 분할된 데이터(segment)가 아닌 데이터가 수신된다면) 데이터(RLC SDU)를 바로 상위 계층 장치로 전달할 수 있다(예를 들면 RLC 헤더를 제거하고, 데이터 (RLC SDU)를 저장하지 않고, 상위 계층 장치로 전달할 수 있다. 반면 분할된 데이터가 수신된 경우, RLC 계층 장치의 재조립 타이머(t-Reassembly)를 시작하고, 완전한 데이터를 구성하기 위한 재조립을 위해 버퍼에 저장하 고 나머지 분할된 데이터들의 수신을 기다릴 수 있다). 비순서 전달 기능이 설정된 RLC 계층 장치와 연결된 PDCP 계층 장치에서는 재정렬 기능을 설정하거나 구동할 수 있다. PDCP 계층 장치의 재정렬 기능은 하위 계층 장치(예를 들면 RLC 계층 장치)로부터 수신한 데이터들을 PDCP 일련번호 순서대로 정렬하여 오름차순으로 PDCP 일련번호(또는 COUNT 값) 갭 또는 차이가 없이 순서대로 상위 계층 장치로 전달한다. 만약 PDCP 계층 장치에 대 해 이더넷 헤더 압축 기능이 설정되었다면 PDCP 일련번호 순서대로 정렬하여 오름차순으로 상위 계층 장치로 데 이터를 전달할 때 데이터(예를 들면 PDCP SDU 또는 PDCP PDU)에 대해 이더넷 헤더 압축 해제 절차를 수행하고 상위 계층 장치로 이더넷 헤더 압축 해제된 데이터(uncompressed PDCP SDU 또는 PDCP SDU)를 전달할 수 있다. PDCP 일련번호(또는 COUNT 값) 갭(gap) 또는 차이가 발생한 경우, 재정렬 타이머를 시작하고, 재정렬 타이머가 만료할 때까지 PDCP 일련번호(또는 COUNT 값) 갭 또는 차이에 해당하는 PDCP 일련번호(또는 COUNT 값) 값을 갖 는 데이터들을 기다릴 수 있다. 만약 재정렬 타이머가 만료하기 전에 PDCP 일련번호(또는 COUNT 값) 갭 또는 차 이에 해당하는 PDCP 일련번호(또는 COUNT 값) 값을 갖는 데이터들이 수신된다면 재정렬 타이머를 중지하며 또는 순서에 맞는 데이터들을 상위 계층 장치로 전달할 수 있다. 만약 PDCP 계층 장치에 대해 이더넷 헤더 압축 기능 이 설정되었다면 PDCP 일련번호 순서대로 정렬하여 오름차순으로 상위 계층 장치로 데이터를 전달할 때 데이터 (예를 들면 PDCP SDU 또는 PDCP PDU)에 대해 이더넷 헤더 압축 해제 절차를 수행하고 상위 계층 장치로 이더넷 헤더 압축 해제된 데이터(uncompressed PDCP SDU 또는 PDCP SDU)를 전달할 수 있다. 만약 타이머가 만료할 때까 지 데이터(예를 들면 PDCP SDU 또는 PDCP PDU)들이 수신되지 않는다면 재정렬 타이머 만료 시, 저장된 데이터들 을 소정의 PDCP 일련번호 (또는 COUNT값)까지 PDCP 일련번호(또는 COUNT 값)의 오름차순으로 상위 계층 장치로 전달한다. 만약 PDCP 계층 장치에 대해 이더넷 헤더 압축 기능이 설정되었다면 상위 계층 장치로 데이터를 전달 할 때 데이터(예를 들면 PDCP SDU 또는 PDCP PDU)에 대해 이더넷 헤더 압축 해제 절차를 수행하고 상위 계층 장 치로 이더넷 헤더 압축 해제된 데이터(uncompressed PDCP SDU 또는 PDCP SDU)를 전달할 수 있다. 만약 단말이 RRC 메시지를 수신하였을 때 PDCP 계층 장치에 대해 PDCP 재수립 절차를 지시하는 지시자가 설정되었다면 또는 PDCP 계층 장치에서 PDCP 재수립 절차를 수행한다면 베어러가 RLC UM 모드와 연결(또는 맵핑)되어 있고, 재정렬 기능(reordering function)을 사용하는 경우, 단말은 이더넷 헤더 압축 기능(EHC, Ethernet header compression)이 설정된 경우(또는 EHC를 사용하는 헤더 압축 기능(또는 헤더 압축 해제 기능이 설정된 경우) 저 장된 데이터들에 대해(만약 저장된 데이터들이 있다면) 이더넷 헤더 압축 해제 절차를 수행한 후, 각 데이터에 연결된 COUNT 값의 오름차순으로 상위 계층 장치들에 전달할 수 있다. 만약 PDCP 계층 장치와 비순서 전달 기능 이 설정된 적어도 하나의 RLC 계층 장치와 연결되었다면 단말은 하향 링크에 대해서 이더넷 헤더 압축 기능을 계속 사용하라는 지시자(drb-ContinueEHC-DL)가 설정되지 않았다면 그리고 이더넷 헤더 압축 기능이 설정되었다 면 하향 링크에 대해서 이더넷 헤더 압축 프로토콜(EHC protocol)을 초기화(reset)할 수 있다. 또 다른 방법으 로 만약 단말이 RRC 메시지를 수신하였을 때 PDCP 계층 장치에 대해 PDCP 재수립 절차를 지시하는 지시자가 설 정되었다면 또는 PDCP 계층 장치에서 PDCP 재수립 절차를 수행한다면 베어러가 RLC UM 모드와 연결(또는 맵핑) 되어 있고, 재정렬 기능(reordering function)을 사용하는 경우, 단말은 PDCP 계층 장치와 비순서 전달 기능이 설정된 적어도 하나의 RLC 계층 장치와 연결되었다면 단말은 이더넷 헤더 압축 기능(EHC, Ethernet header compression)이 설정된 경우(또는 EHC를 사용하는 헤더 압축 기능(또는 헤더 압축 해제 기능이 설정된 경우)) 저장된 데이터들에 대해(만약 저장된 데이터들이 있다면) 이더넷 헤더 압축 해제 절차를 수행한 후, 각 데이터 에 연결된 COUNT 값의 오름차순으로 상위 계층 장치들에 전달할 수 있다. 또한, 단말은 하향 링크에 대해서 이 더넷 헤더 압축 기능을 계속 사용하라는 지시자(drb-ContinueEHC-DL)가 설정되지 않았다면 그리고 이더넷 헤더 압축 기능이 설정되었다면 하향 링크에 대해서 이더넷 헤더 압축 프로토콜(EHC protocol)을 초기화(reset)할 수 있다. 그렇지 않다면(또는 PDCP 계층 장치와 비순서 전달 기능이 설정된 적어도 하나의 RLC 계층 장치와 연결되 지 않았다면) 단말은 저장된 데이터들에 대해(만약 저장된 데이터들이 있다면) 각 데이터에 연결된 COUNT 값의 오름차순으로 상위 계층 장치들에 전달할 수 있다(PDCP 계층 장치와 비순서 전달 기능이 설정된 적어도 하나의 RLC 계층 장치와 연결되지 않았다면 이더넷 헤더 압축 기능이 설정될 수 없기 때문에 이더넷 헤더 압축 해제 절 차를 저장된 데이터들에 대해 수행할 필요가 없다. 즉, RLC UM 모드와 연결된 PDCP 계층 장치에서 재정럴 기능 을 사용하는 경우는 스플릿 베어러(split DRB 또는 패킷 중복 기능이 설정된 베어러) 또는 LWA 베어러(LWA(LTE-WLAN Aggregation) DRB) 또는 RLC 계층 장치에서 비순서 전달 기능이 설정된 경우인데 이더넷 헤더 압축 기능은 구현 복잡도가 높기 때문에 스플릿 베어러 또는 LWA 베어러에는 설정될 수 없다. 따라서 RLC UM 모드와 연결된 PDCP 계층 장치에서 재정럴 기능을 사용하는 경우는 RLC 계층 장치에서 비순서 전달 기능이 설정된 경우에만 이 더넷 헤더 압축 기능이 설정될 수 있으며, 이 경우에만 저장된 데이터를 상위 계층 장치로 올릴 때 PDCP 계층 장치에서 이더넷 헤더 압축 해제 절차를 수행하고 전달할 필요가 있다. 또한 RRC 메시지에서 베어러 별로 PDCP 계층 장치 설정 정보에서 상향 링크 데이터 압축(Uplink Data Compression, UDC) 압축 방법을 하향 링크 또는 상향 링크에 대해 설정한 경우, 상향 링크 데이터 압축 방법이 설정된 LTE 또는 NR PDCP 계층 장치와 연결된 LTE RLC 계층 장치에는 비순서 전달 기능을 설정할 수 없도록 제 한할 수 있다. 왜냐하면 PDCP 계층 장치가 상향 링크 데이터 압축(Uplink Data Compression, UDC) 압축 방법이 적용된 데이터들에 대해서 압축 해제 절차를 수행할 때 PDCP 일련번호 또는 COUNT 값의 오름차순의 순서대로 압 축 해제 절차를 적용해야 하기 때문에 RLC 계층 장치로부터 비순서로 전달된 데이터를 순서 정렬 기능이 없는 PDCP 계층 장치가 그대로 순서에 맞지 않게 압축 해제 절차를 수행하게 되면 압축 해제 실패가 발생하기 때문이 다. 본 개시의 RRC 메시지(예를 들면 RRCSetup 메시지 또는 RRCResume 메시지 또는 RRCReconfiguration)에서 베어 러 별로 프로토콜 계층 장치(예를 들면 SDAP 계층 장치 또는 PDCP 계층 장치 또는 RLC 계층 장치 또는 MAC 계층 장치 또는 PHY 계층 장치)의 설정 정보를 설정해줄 수 있다. 예를 들면 PDCP 계층 장치의 설정 정보에서 PDCP 계층 장치 재수립 절차를 수행할 때 헤더 압축 프로토콜(ROHC, Robust Header compression)의 컨텍스트를 계속 사용할지 또는 사용하지 않을 지를 지시하는 지시자(drb-ContinueROHC)를 설정해줄 수 있다. 또는, PDCP 계층 장치의 설정 정보에서 PDCP 계층 장치 재수립 절차를 수행할 때 헤더 압축 프로토콜(EHC, Ethernet header compression)의 컨텍스트를 계속 사용할지 또는 사용하지 않을 지를 지시하는 지시자(drb-ContinueEHC-DL 또는 drb-ContinueEHC-UL)를 하향 링크 또는 상향 링크에 대해서 각각 지시자를 설정해줄 수 있다. 또는, PDCP 계층 장치 재수립 절차를 수행할지 또는 수행하지 않을 지 지시자를 포함할 수 있으며, 또는 PDCP 계층 장치에서 재 정렬 타이머(t-Reordering)를 구동할 때 타이머 값을 설정해줄 수도 있다. 재정렬 타이머 값은 스플릿 베어러 또는 LWA 베어러를 수립하거나 또는 재설정할 때 또는 RLC 계층 장치의 비순서 전달 지시자(rlc- OutOfOrderDelivery)가 설정된 적어도 하나의 RLC 계층 장치와 연결된 베어러를 수립하거나 또는 재설정할 때 항상 포함되어 설정될 수 있다. 또한 헤더 압축 프로토콜(예를 들면 EHC)를 설정해줄 때 상향 링크에서 사용할 지 또는 하향 링크에서 사용할지를 각각 지시자로 설정해줄 수 있으며, 헤더 압축 프로토콜(예를 들면 EHC)에서 사용한 컨텍스트 식별자(Context Identity)의 크기를 2가지 중에 하나의 크기로 설정해줄 수 있으며, 컨텍스트 식별자의 크기에 따라 헤더 압축 프로토콜에서 사용하는 EHC 헤더(PDCP 계층 장치의 헤더 압축 프로토콜이 생성 하는 헤더)의 크기가 1바이트 또는 2바이트로 결정될 수 있다. 또한 RRC 메시지에서 RLC 계층 장치의 설정 정보 에서 RLC 계층 장치의 비순서 전달 지시자를 설정하여 RLC 계층 장치에서 비순서 전달 절차를 수행하도록 할 수 있으며, 지시자가 설정되지 않으면 RLC 계층 장치에서 순서 전달 절차를 수행할 수 있다. 본 개시에서 헤더 압축 프로토콜은 ROHC 또는 EHC를 지시할 수 있다. 본 개시에서 베어러는 SRB와 DRB를 포함하는 의미일 수 있으며, SRB는 Signaling Radio Bearer를 의미하며, DRB는 Data Radio Bearer를 의미한다. SRB는 주로 RRC 계층 장치의 RRC 메시지를 전송하고 수신하는 데 사용되 며, DRB는 주로 사용자 계층 데이터들을 전송하고 수신하는 데에 사용된다. 그리고 UM DRB는 UM(Unacknowledged Mode) 모드로 동작하는 RLC 계층 장치를 사용하는 DRB를 의미하며, AM DRB는 AM(Acknowledged Mode) 모드로 동 작하는 RLC 계층 장치를 사용하는 DRB를 의미한다. 본 개시의 다음에서는 본 개시에서 제안하는 효율적인 RLC 계층 장치들의 데이터 처리 방법을 설명한다. 본 개시에서 제안하는 RLC 계층 장치의 수신 데이터 처리 방법의 제1의 실시 예는 RLC AM 모드(예를 들면 E- UTRA 또는 LTE RLC 계층 장치의 RLC AM 모드)에 적용될 수 있는 수신 데이터 처리 방법이며, 다음의 윈도우 변 수들을 정의하고 사용할 수 있다. - 제1-1의 RLC 상태 변수(예를 들면 VR(R)): 이 상태 변수는 순서대로 완전히 수신된 마지막 데이터(예를 들면 AMD PDU)의 RLC 일련번호의 다음 RLC 일련번호를 저장하는 또는 가지는 또는 지시하는 변수이다. 이 상태 변수 는 윈도우 하위 경계 부분으로 역할을 수행하며, 초기값은 0으로 설정되며, 1-1의 RLC 상태 변수가 저장한 값과 동일한 RLC 일련번호를 갖는 데이터를 수신할 때마다 1-1의 RLC 상태 변수 값은 업데이트된다. - 제1-2의 RLC 상태 변수(예를 들면 VR(X)): 이 상태 변수는 재정렬 타이머를 트리거링했던 데이터(예를 들면 AMD PDU 또는 RLC data PDU)의 RLC 일련번호의 다음 RLC 일련번호를 저장하는 또는 가지는 또는 지시하는 변수 이다. - 제1-3의 RLC 상태 변수(예를 들면 VR(H)): 이 상태 변수는 수신된 데이터들(예를 들면 AMD PDU 또는 RLC data PDU) 중에서 가장 높은 RLC 일련번호를 가지는 데이터(예를 들면 UMD PDU)의 RLC 일련번호의 다음 RLC 일 련번호를 저장하는 또는 가지는 또는 지시하는 변수이다. - 제1-4의 RLC 상태 변수(예를 들면 VR(MS)): 이 상태 변수는 RLC 상태 보고(RLC Status PDU)가 구성될 필요가 있을 때 ACK_SN의 값으로 지시될 수 있는 또는 가능한 가장 높은 RLC 일련번호 값을 저장하는 또는 가지는 또는 지시하는 변수이다. - 제1-5의 RLC 상태 변수(예를 들면 VR(MR)): 이 상태 변수는 제1-1의 RLC 상태 변수 값 + 윈도우 크기의 값과 같은 값을 저장 또는 지시하는 변수이며, 또는 윈도우를 넘어서는 윈도우 밖의 첫 번째 데이터의 RLC 일련번호 값을 저장하는 또는 가지는 또는 지시하는 변수이다. 그리고 윈도우의 상위 가장자리로써 역할을 수행한다. 본 개시의 RLC 계층 장치의 수신 데이터 처리 방법의 제1의 실시 예에서 수신 윈도우는 제1-1 RLC 상태 변수 값 보다 크거나 같으면서 제1-5의 RLC 상태 변수 값보다는 작은 RLC 일련번호들로 정의될 수 있으며, 범위에 속하 는 RLC 일련번호를 갖는 데이터들을 수신 윈도우 내의 데이터로 간주하며, 범위에 속하지 않는 RLC 일련번호에 속하는 데이터들은 수신 윈도우 밖의 데이터로 간주한다. 윈도우 크기는 2^(RLC 일련번호의 길이 - 1)로 결정될 수 있다. 본 개시의 RLC 계층 장치(예를 들면 LTE RLC 계층 장치 또는 E-UTRA RLC 계층 장치)의 수신 데이터 처리 방법의 제1의 실시 예의 구체적인 동작은 다음과 같다. 만약 하위 계층 장치로부터 수신한 데이터(예를 들면 RLC data PDU)를 수신하였을 때 수신한 RLC 일련번호 x에 해당하는 데이터(예를 들면 AMD PDU)의 y 바이트부터 z 바이트까지의 데이터에 대해 RLC AM 모드의 수신 RLC 계 층 장치는 다음과 같이 데이터를 처리한다. - 1> 만약 RLC 일련번호 x가 윈도우 밖이라면 - 1> 또는 RLC 일련번호 x를 가지는 데이터의 y 바이트부터 z 바이트까지의 데이터를 이전에 수신한 적이 있다 면 ■. 2> 수신한 데이터(예를 들면 RLC data PDU)를 폐기한다. - 1> 그렇지 않다면 ■. 2> 수신한 데이터(예를 들면 RLC data PDU)를 수신 버퍼에 저장한다. ■. 2> 만약 수신한 데이터의 일부분(일부 바이트에 해당하는 부분 데이터(segment))이 이전에 수신된 적이 있다면 ■. 3> 수신된 데이터의 중복된(중복 수신된) 데이터를 폐기한다. RLC 일련번호 x에 해당하는 데이터를 수신 버퍼에 저장하는 경우, RLC AM 모드의 수신 RLC 계층 장치는 다음과 같이 데이터를 처리한다. - 1> 만약 RLC 계층 장치의 비순서 전달 기능 지시자가 설정되었다면 ■. 2> 만약 RLC 일련번호 x에 해당하는 데이터(예를 들면 AMD PDU)의 모든 바이트 데이터(byte segment)가 수신되었다면 ■. 3> RLC 일련번호 x에 대해 수신된 모든 일부 데이터(byte segment)들을 재조립하여 RLC SDU를 구성하고, RLC 헤더를 제거하고, 재조립된 데이터(RLC SDU)를 상위 계층 장치로 전달한 적이 없다면 상위 계층 장치로 전 달할 수 있다. - 1> 만약 RLC 일련번호 x가 제1-3의 RLC 상태 변수보다 크거나 같다면 ■. 2> 제1-3의 RLC 상태 변수를 x+1의 값으로 업데이트한다. - 1> 만약 제1-4의 RLC 상태 변수 값과 같은 RLC 일련번호에 해당하는 데이터(예를 들면 AMD PDU)의 모든 바이 트 데이터(byte segment)가 수신되었다면 ■. 2> 현재 제1-4의 RLC 상태 변수 값보다 크면서 모든 일부 데이터(byte segment)가 수신되지 않은 첫 번째 데이터(예를 들면 AMD PDU)에 해당하는 RLC 일련번호로 제1-4의 RLC 상태 변수 값을 업데이트한다. - 1> 만약 RLC 일련번호 x의 값이 제1-1 RLC 상태 변수 값과 같다면 ■. 2> 만약 제1-1 RLC 상태 변수 값과 동일한 RLC 일련번호를 가지는 데이터(예를 들면 AMD PDU)의 모든 바 이트 데이터(byte segment)가 수신되었다면 ■. 3> 현재 제1-1의 RLC 상태 변수 값보다 크면서 모든 일부 데이터(byte segment)가 수신되지 않은 첫 번째 데이터(예를 들면 AMD PDU)에 해당하는 RLC 일련번호로 제1-1의 RLC 상태 변수값을 업데이트한다. ■. 3> 현재 제1-5의 RLC 상태 변수 값을 업데이트된 제1-1의 RLC 상태 변수 값 + 윈도우 크기의 값으로 업 데이트한다. ■. 2> 수신 윈도우 밖의 데이터들 또는 제1-1 RLC 상태 변수 값에 해당하는 RLC 일련번호를 갖는 데이터(예 를 들면 AMD PDU)의 순서에 맞는 일부 데이터에 대해 모든 일부 데이터(byte segment)들을 재조립하여 RLC SDU 를 구성하고, RLC 헤더를 제거하고, 재조립된 데이터(RLC SDU)를 상위 계층 장치로 전달한 적이 없다면 상위 계 층 장치로 전달할 수 있다. - 1> 만약 재정렬 타이머가 구동 중이라면 ■. 2> 제1-2의 RLC 상태 변수 값이 제1-1의 RLC 상태 변수 값과 같다면 ■. 2> 또는 제1-2의 RLC 상태 변수 값이 수신 윈도우 밖에 있고, 제1-2의 RLC 상태 변수 값이 제1-5의 RLC 상태 변수 값과 같지 않다면 ■. 3> 재정렬 타이머를 중지하고 초기화한다. - 1>만약 재정렬 타이머가 구동 중이 아니라면(절차에 의해서 타이머가 중지된 경우를 포함하여) ■. 2> 제1-3의 RLC 상태 변수 값이 제1-1의 RLC 상태 변수 값 보다 크다면 ■. 3> 재정렬 타이머를 시작한다. ■. 3> 제1-2의 RLC 상태 변수 값을 제1-3의 RLC 상태 변수 값으로 설정 또는 업데이트한다. 재정렬 타이머가 만료했을 때, RLC AM 모드로 동작하는 수신 RLC 계층 장치는 다음과 같이 동작한다. - 1> 현재 제1-2의 RLC 상태 변수 값보다 크거나 또는 같으면서 모든 일부 데이터(byte segment)가 수신되지 않 은 첫 번째 데이터(예를 들면 AMD PDU)에 해당하는 RLC 일련번호로 제1-4의 RLC 상태 변수 값을 업데이트한다. - 1> 제1-3의 RLC 상태 변수 값이 제1-4의 RLC 상태 변수 값 보다 크다면 ■. 2> 재정렬 타이머를 시작한다. ■. 2> 제1-2의 RLC 상태 변수 값을 제1-3의 RLC 상태 변수 값으로 설정 또는 업데이트한다. 본 개시에서 제안하는 RLC 계층 장치의 수신 데이터 처리 방법의 제2의 실시 예는 RLC UM 모드(예를 들면 E- UTRA 또는 LTE RLC 계층 장치의 RLC UM 모드)에 적용될 수 있는 수신 데이터 처리 방법이며, 다음의 윈도우 변수들을 정의하고 사용할 수 있다. - 제2-1의 RLC 상태 변수(예를 들면 VR(UR)): 이 상태 변수는 재정렬을 위해 여전히 고려되는 가장 이른 데이터 (예를 들면 UMD PDU)의 RLC 일련번호를 저장하는 또는 가지는 또는 지시하는 변수이다. 또는 이 변수는 재정렬 을 위해 여전히 고려되는 가장 낮은 RLC 일련번호의 데이터(UMD PDU)의 RLC 일련번호를 저장하는 또는 가지는 변수이다. - 제2-2의 RLC 상태 변수(예를 들면 VR(UX)): 이 상태 변수는 재정렬 타이머를 트리거링했던 데이터(예를 들면 UMD PDU)의 RLC 일련번호의 다음 RLC 일련번호를 저장하는 또는 가지는 또는 지시하는 변수이다. - 제2-3의 RLC 상태 변수(예를 들면 VR(UH)): 이 상태 변수는 수신된 데이터들(예를 들면 UMD PDU) 중에서 가장 높은 RLC 일련번호를 가지는 데이터(예를 들면 UMD PDU)의 RLC 일련번호의 다음 RLC 일련번호를 저장하는 또는 가지는 또는 지시하는 변수이다. 본 개시의 RLC 계층 장치의 수신 데이터 처리 방법의 제2의 실시 예에서 수신 윈도우는 제2-3 RLC 상태 변수 값 - 수신 윈도우 크기보다 크거나 같으면서 제2-3의 RLC 상태 변수 값보다는 작은 RLC 일련번호들로 정의될 수 있 으며, 범위에 속하는 RLC 일련번호를 갖는 데이터들을 수신 윈도우 내의 데이터로 간주하며, 범위에 속하지 않 는 RLC 일련번호에 속하는 데이터들은 수신 윈도우 밖의 데이터로 간주한다. 윈도우 크기는 2^(RLC 일련번호의 길이 - 1)로 결정될 수 있다. 본 개시의 RLC 계층 장치(예를 들면 LTE RLC 계층 장치 또는 E-UTRA RLC 계층 장치)의 수신 데이터 처리 방법의 제2의 실시 예의 구체적인 동작은 다음과 같다. 만약 하위 계층 장치로부터 RLC 일련번호 x를 가지는 데이터(예를 들면 UMD PDU)를 수신하였을 때 RLC UM 모드 의 수신 RLC 계층 장치는 다음과 같이 데이터를 처리한다. - 1> 만약 RLC 일련번호 x가 제2-1의 RLC 상태 변수 값보다 크면서 제2-3의 RLC 상태 변수 값보다 작고 이전 수 신된 적이 있다면 - 1> 또는 RLC 일련번호 x가 (제2-3의 RLC 상태 변수 값 - 윈도우 사이즈) 값보다 크거나 같으면서 제2-1의 RLC 상태 변수 값보다 작다면 ■. 2> 수신한 데이터(예를 들면 UMD PDU)를 폐기한다. - 1> 그렇지 않다면 ■. 2> 수신한 데이터(예를 들면 RLC data PDU)를 수신 버퍼에 저장한다. RLC 일련번호 x에 해당하는 데이터를 수신 버퍼에 저장하는 경우, RLC UM 모드의 수신 RLC 계층 장치는 다음과 같이 데이터를 처리한다. - 1> 만약 RLC 계층 장치의 비순서 전달 기능 지시자가 설정되었다면 ■. 2> 만약 RLC 일련번호 x에 해당하는 데이터(예를 들면 AMD PDU)의 모든 바이트 데이터(byte segment)가 수신되었다면 ■. 3> RLC 일련번호 x에 대해 수신된 모든 일부 데이터(byte segment)들을 재조립하여 RLC SDU를 구성하고, RLC 헤더를 제거하고, 재조립된 데이터(RLC SDU)를 상위 계층 장치로 전달한 적이 없다면 상위 계층 장치로 전 달할 수 있다. - 1> 만약 RLC 일련번호 x가 윈도우 밖에 있다면 ■. 2> 제2-3의 RLC 상태 변수를 x+1의 값으로 업데이트한다. ■. 2> 수신 윈도우 밖의 데이터들에 대해 모든 일부 데이터(byte segment)들을 재조립하여 RLC SDU를 구성하 고, RLC 헤더를 제거하고, 재조립된 데이터(RLC SDU)를 상위 계층 장치로 전달한 적이 없다면 상위 계층 장치로 RLC 일련번호의 오름차순으로 전달할 수 있다.■. 2> 만약 제2-1의 RLC 상태 변수 값이 윈도우 밖에 있다면 ■. 3> 제2-1의 RLC 상태 변수 값을 (제2-3의 RLC 상태 변수 값 - 윈도우 사이즈) 값으로 설정 또는 업데이트 한다. - 1> 만약 제2-1의 RLC 상태 변수 값에 해당하는 데이터(예를 들면 UMD PDU)가 이미 수신된 적이 있다면 ■. 2> 현재 제2-1의 RLC 상태 변수 값보다 크면서 수신되지 않은 첫 번째 데이터(예를 들면 UMD PDU)에 해당 하는 RLC 일련번호로 제2-1의 RLC 상태 변수 값을 업데이트한다. ■. 2> 업데이트된 제2-1 RLC 상태 변수 값보다 작은 RLC 일련번호를 갖는 데이터(예를 들면 UMD PDU)에 대해 모든 일부 데이터(byte segment)들을 재조립하여 RLC SDU를 구성하고, RLC 헤더를 제거하고, 재조립된 데이터 (RLC SDU)를 상위 계층 장치로 전달한 적이 없다면 상위 계층 장치로 RLC 일련번호의 오름차순으로 전달할 수 있다. - 1> 만약 재정렬 타이머가 구동 중이라면 ■. 2> 제2-2의 RLC 상태 변수 값이 제2-1의 RLC 상태 변수 값보다 작거나 같다면 ■. 2> 또는 제2-2의 RLC 상태 변수 값이 수신 윈도우 밖에 있고, 제2-2의 RLC 상태 변수 값이 제2-3의 RLC 상태 변수 값과 같지 않다면 ■. 3> 재정렬 타이머를 중지하고 초기화한다. - 1>만약 재정렬 타이머가 구동 중이 아니라면(절차에 의해서 타이머가 중지된 경우를 포함하여) ■. 2> 제2-3의 RLC 상태 변수 값이 제2-1의 RLC 상태 변수 값 보다 크다면 ■. 3> 재정렬 타이머를 시작한다. ■. 3> 제2-2의 RLC 상태 변수 값을 제2-3의 RLC 상태 변수 값으로 설정 또는 업데이트한다. 재정렬 타이머가 만료했을 때, RLC UM 모드로 동작하는 수신 RLC 계층 장치는 다음과 같이 동작한다. - 1> 현재 제2-2의 RLC 상태 변수 값보다 크거나 또는 같으면서 수신되지 않은 첫 번째 데이터(예를 들면 UMD PDU)에 해당하는 RLC 일련번호로 제2-1의 RLC 상태 변수 값을 업데이트한다. - 1> 업데이트된 제2-1 RLC 상태 변수 값보다 작은 RLC 일련번호를 갖는 데이터(예를 들면 UMD PDU)에 대해 모 든 일부 데이터(byte segment)들을 재조립하여 RLC SDU를 구성하고, RLC 헤더를 제거하고, 재조립된 데이터(RLC SDU)를 상위 계층 장치로 전달한 적이 없다면 상위 계층 장치로 RLC 일련번호의 오름차순으로 전달할 수 있다. - 1> 제2-3의 RLC 상태 변수 값이 제2-1의 RLC 상태 변수 값보다 크다면 ■. 2> 재정렬 타이머를 시작한다. ■. 2> 제2-2의 RLC 상태 변수 값을 제2-3의 RLC 상태 변수 값으로 설정 또는 업데이트한다. 설명에서 사용된 접속 노드(node)를 식별하기 위한 용어, 망 객체(network entity)들을 지칭하는 용어, 메시지 들을 지칭하는 용어, 망 객체들 간 인터페이스를 지칭하는 용어, 다양한 식별 정보들을 지칭하는 용어 등은 설 명의 편의를 위해 예시된 것이다. 따라서, 본 개시가 후술되는 용어들에 한정되는 것은 아니며, 동등한 기술적 의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 또한, 본 개시에서 설명하는 RLC 계층 장치(entity)는 동일한 기능을 하는 다른 계층 장치로 대체될 수 있다. 다른 예를 들어 PDCP 계층 장치는 동일한 기능을 하는 다른 계층 장치로 대체될 수 있다. 또 다른 예를 들어, 베어러는 동일한 기능을 하는 다른 객체로 대체될 수 있다. 즉, RLC 계층 장치 및 PDCP 계층 장치 등의 용어에 한정되는 것이 아니며, 동등한 기술적 의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 설명의 편의를 위하여, 본 개시는 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에 서 정의하고 있는 용어 및 명칭들을 사용하였다. 하지만, 본 개시가 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에서 정의하고 있는 용어 및 명칭들에 의해 한정되는 것은 아니며, 다른 규 격에 따르는 시스템에도 동일하게 적용될 수 있다. 예를 들어, 본 개시는 보다 높은 데이터 전송률을 지원하기위한 5G 또는 6G 통신 시스템에도 동일하게 적용될 수 있다. 도 6은 본 개시의 일 실시예에 따른 효율적인 PDCP 계층 장치들의 데이터 처리 방법을 나타낸 도면이다. 도 6은 본 개시에서 효율적인 PDCP 계층 장치의 구체적인 구조와 기능들을 제안하며, 서로 다른 PDCP 계층 구조 를 서로 다른 베어러 별로 서로 다른 RLC 계층 장치에 연결하여 적용할 수 있다. 예를 들면 단말은 베어러 별로 본 개시에서 제안한 제1의 PDCP 계층 장치 구조와 기능(예를 들면 RLC UM 또는 RLC AM 과 연결된 재정렬 기능이 없는 LTE(E-UTRA) PDCP 계층 장치의 구조 또는 기능, 611) 또는 제2의 PDCP 계층 장치 구조와 기능(스플릿 베어러 또는 LWA 베어러 또는 패킷 중복이 설정된 베어러(또는 PDCP 계층 장치) 또는 하나의 PDCP 계층 장치에 2개(또는 복수 개)의 RLC 계층 장치가 설정된 경우 또는 RLC 계층 장치에 비순서 전달 기능이 설정된 적어도 하나의 RLC 계층 장치와 연결된 PDCP 계층 장치에 해당하는 순서 정렬 기능이 구동 되는 E-UTRA PDCP 계층 장치 또는 NR PDCP 계층 장치, 612)들을 적용하여 데이터를 처리하여 송신하고 또는 수 신할 수 있다."}
{"patent_id": "10-2022-0045412", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "본 개시에서 제안하는 제1의 PDCP 계층 장치의 구조 또는 제2의 PDCP 계층 장치의 구조에서 수신 PDCP 계층 장 치의 수신 동작은 다음과 같은 윈도우 변수들 또는 상수를 이용하여 구체화될 수 있다. - 제1-1 윈도우 변수 (Next_PDCP_TX_SN): LTE(E-UTRA) PDCP 계층 장치에서 사용되는 윈도우 변수로써, 송신 PDCP 계층 장치에서 다음 데이터(PDCP SDU) 또는 다음에 처리할 데이터(PDCP SDU) 또는 다음에 전송할 데이터 (PDCP SDU)의 PDCP 일련번호 값을 지시한다. PDCP 계층 장치를 수립할 때 윈도우 변수의 초기값을 0으로 설정한 다. - 제1-2 윈도우 변수 (Next_PDCP_RX_SN): LTE PDCP(E-UTRA) 계층 장치에서 사용되는 윈도우 변수로써, 수신 PDCP 계층 장치에서 다음에 수신할 것이라고 예상하는 PDCP 일련번호 값을 지시한다. PDCP 계층 장치를 수립할 때 윈도우 변수의 초기값을 0으로 설정한다. - 제1-3 윈도우 변수 (Last_Submitted_PDCP_RX_SN): LTE PDCP(E-UTRA) 계층 장치에서 사용되는 윈도우 변수로 써, 수신 PDCP 계층 장치에서 상위 계층 장치로 전달한 마지막 데이터(PDCP SDU)에 해당하는 PDCP 일련번호 값 을 지시한다. PDCP 계층 장치를 수립할 때 윈도우 변수를 제1의 상수 값(Maximum_PDCP_SN)으로 설정한다. - 제1-4 윈도우 변수 (Reordering_PDCP_RX_COUNT): LTE PDCP(E-UTRA) 계층 장치에서 사용되는 윈도우 변수로써, 수신 PDCP 계층 장치에서 재정렬 기능을 수행할 때 윈도우 변수를 사용할 수 있으며, 윈도우 변수는 재정렬 타이머를 트리거링한 데이터(PDCP PDU)에 해당하는 COUNT 값의 다음 COUNT 값을 지시 또는 저장 또는 갖 고 있다. - 제1의 상수 값 (Maximum_PDCP_SN): LTE(E-UTRA) PDCP 계층 장치에서 사용되는 상수 값으로 2^(PDCP 일련번호 의 길이) -1의 값을 상수 값으로 저장한다. - 제2의 상수 값 (Reordering_Window 또는 Window_Size): LTE(E-UTRA) PDCP 계층 장치 또는 NR PDCP 계층 장치 에서 사용되는 상수 값으로 2^(PDCP 일련번호의 길이-1)의 값을 상수 값으로 저장한다. - 제2-1 윈도우 변수 (TX_NEXT): NR PDCP 계층 장치에서 사용되는 윈도우 변수로써, 송신 PDCP 계층 장치에서 다음 데이터(PDCP SDU) 또는 다음에 처리할 데이터(PDCP SDU) 또는 다음에 전송할 데이터(PDCP SDU)의 COUNT 값을 지시한다. PDCP 계층 장치를 수립할 때 윈도우 변수의 초기값을 0으로 설정한다. - 제2-2 윈도우 변수 (RX_NEXT): NR PDCP 계층 장치에서 사용되는 윈도우 변수로써, 수신 PDCP 계층 장치에서 다음에 수신할 것이라고 예상하는 COUNT 값을 지시한다. PDCP 계층 장치를 수립할 때 윈도우 변수의 초기값을 0 으로 설정한다. - 제2-3 윈도우 변수 (RX_DELIV): NR PDCP 계층 장치에서 사용되는 윈도우 변수로써, 수신 PDCP 계층 장치에서 상위 계층 장치로 전달하지 않은 첫 번째 데이터(PDCP SDU)에 해당하는 COUNT 값을 지시한다. PDCP 계층 장치를 수립할 때 윈도우 변수의 초기값을 0으로 설정한다. - 제2-4 윈도우 변수 (RX_REORD): NR PDCP 계층 장치에서 사용되는 윈도우 변수로써, 수신 PDCP 계층 장치에서 재정렬 기능을 수행할 때 윈도우 변수를 사용할 수 있으며, 윈도우 변수는 재정렬 타이머를 트리거링한 데이터 (PDCP PDU)에 해당하는 COUNT 값의 다음 COUNT 값을 지시 또는 저장 또는 갖고 있다. 도 6에서 제안한 제1의 PDCP 계층 장치의 구조(611 또는 612)는 본 개시에서 제안하는 다음의 제1-1의 PDCP 계 층 장치 구조(또는 기능) 또는 제1-2의 PDCP 계층 장치 구조(또는 기능) 또는 제1-3의 PDCP 계층 장치 구조(또 는 기능)를 가질 수 있으며, 다음과 같은 특징을 가질 수 있다. - 1> (만약 제1-1의 PDCP 계층 장치의 구조라면) 예를 들면 만약 AM RLC 계층 장치(예를 들면 E-UTRA AM RLC 계층 장치)와 연결된 PDCP 계층 장치(예를 들면 E-UTRA PDCP 계층 장치 또는 LTE PDCP 계층 장치)에 단말이 제1 의 PDCP 계층 장치의 구조 및 기능을 적용한다면 또는 재정렬 기능(reordering function)을 사용하지 않는 다면, 제1-2의 윈도우 변수 또는 제1-3의 윈도우 변수 또는 제2의 상수 값을 기반으로 다음과 같은 절차를 수행 할 수 있다. ■. 2> 수신 PDCP 계층 장치는 수신하는 데이터들에 대해서 제1-2의 윈도우 변수 또는 제1-3의 윈도우 변수 또는 제2의 상수 값을 기반으로 먼저 윈도우 밖의 데이터 탐지 또는 중복된 데이터 탐지를 먼저 수행할 수 있다. (RLC AM은 재전송이 있고, LTE RLC SN와 PDCP SN의 크기가 다를 수 있으므로 중복된 데이터나 윈도우 밖 의 데이터가 수신될 수 있다. 윈도우는 유효한 데이터가 수신되는 PDCP 일련번호 또는 COUNT 값의 영역을 나타 낸다.) ■. 3> 단말은 제1-2의 윈도우 변수 또는 제1-3의 윈도우 변수 또는 제2의 상수 값을 기반으로 윈도우 밖 데 이터 또는 중복 데이터를 폐기하기 전에 복호화 절차와 헤더 압축 해제절차를 수행하고 나서 폐기한다. (왜냐 하면 헤더 압축 해제 절차를 위한 유용한 정보(예를 들면 IR 패킷 또는 헤더 압축 정보)가 포함되어 있을 수 있 기 때문에 확인하고 폐기할 수 있다.) ■. 2> 제1-2의 윈도우 변수 또는 제1-3의 윈도우 변수 또는 제2의 상수 값을 기반으로 PUSH 윈도우를 구동하 며, 폐기되지 않고 수신하는 데이터들을 순서 정렬 없이 바로 복호화하고 헤더 압축 해제 절차를 수행한다. 왜 냐하면 E-UTRA AM RLC 계층 장치는 순서대로 정렬하여 PDCP 계층 장치로 데이터들을 전달하기 때문이다. ■. 2>그리고 상위 계층으로 전달할 때 COUNT 값의 오름차순으로 전달한다. - 1> (만약 제1-2의 PDCP 계층 장치의 구조라면) 예를 들면 만약 UM RLC 계층 장치(예를 들면 E-UTRA UM RLC 계층 장치)와 연결된 PDCP 계층 장치(예를 들면 E-UTRA PDCP 계층 장치 또는 LTE PDCP 계층 장치)에 단말이 제1 의 PDCP 계층 장치의 구조 및 기능을 적용한다면 또는 재정렬 기능(reordering function)을 사용하지 않는 다면, 제1-2의 윈도우 변수 또는 제2의 상수 값을 기반으로 다음과 같은 절차를 수행할 수 있다. ■. 2> 윈도우 밖의 데이터 탐지 또는 중복 데이터 탐지 절차를 수행하지 않는 것을 특징으로 할 수 있다. 왜 냐하면 UM E-UTRA RLC 계층 장치는 재전송 절차가 없기 때문이다. ■. 2> 제1-2의 윈도우 변수 또는 제2의 상수 값을 기반으로 HFN 값 또는 COUNT 값을 결정하고 PULL 윈도우 절차를 구동하며,수신하는 데이터들에 대해 바로 복호화 절차를 수행하고 헤더 압축 해제 절차를 수행할 수 있 다. ■. 2> 그리고 재정렬 절차 없이 바로 상위 계층으로 (예를 들면 오름차순으로) 전달할 수 있다. . 제1-1의 PDCP 계층 장치의 구조 또는 제1-2의 PDCP 계층 장치의 구조에서는 제1-2의 윈도우 변수 또는 제1-3의 윈도우 변수 또는 제2의 상수 값을 기반으로 수신 데이터 처리 동작을 수행하지만 재정렬 기능을 적용하지 않는 다. 제1-3의 PDCP 계층 장치의 구조에서는 제1-2의 윈도우 변수 또는 제1-3의 윈도우 변수 또는 제2의 상수 값 뿐만 아니라 재정렬 기능을 위한 제1-4 윈도우 변수를 기반으로 재정렬 기능을 사용하고 수신 데이터 처리 동작 을 수행할 수 있다. 또한 제2의 PDCP 계층 장치의 구조에서는 제2-1 윈도우 변수 또는 제2-2 윈도우 변수 또는 제2-3 윈도우 변수 또는 제2-4의 윈도우 변수를 기반으로 재정렬 기능을 사용하고 수신 데이터 처리 동작을 수 행할 수 있다. 본 개시에서 제안하는 비순서 전달 기능을 RLC 계층 장치에 설정하였을 때 또는 RLC 계층 장치에 설정하고 구동 하도록 설정되었다면(비순서 전달 기능 설정 지시자가 TRUE 값으로 설정된 경우), 도 7에서 설명하는 데이터 유 실을 방지하고 위해서 또는 PDCP 계층 장치가 상위 계층 장치(예를 들면 SDAP 계층 장치 또는 응용 계층 장치) 로 수신한 데이터들을 순서와 상관없이 전달하는 것을 방지하기 위해서 재정렬 기능을 구동하는 PDCP 계층 장치 를 다음과 같이 설정 또는 구동할 수 있다. 본 개시에서 제안하는 PDCP 계층 장치의 구동 방법에서는 다음의 경우들에 대해서 재정렬 기능을 사용하는 제1- 3의 PDCP 계층 장치의 구조(E-UTRA PDCP 계층 장치 또는 LTE PDCP 계층 장치) 또는 제2의 PDCP 계층 장치의 구 조로 PDCP 계층 장치에서 수신하는 데이터들을 처리할 수 있다. 구체적으로 RLC AM 모드를 사용하는 RLC 계층 장치들 또는 RLC UM 모드를 사용하는 RLC 계층 장치들과 연결된 DRB(Data Radio Bearer)들에 대해서 또는 LWA 베어러들에 대해서 또는 패킷 중복 기술이 사용될 때 PDCP 계층 장치는 다음의 조건들 중에 하나를 만족하는 경 우에 대해서 재정렬 기능을 사용하고 또는 적용할 수 있으며, 재정렬 기능을 사용하는 제1-3의 PDCP 계층 장치 의 구조 또는 제2의 PDCP 계층 장치의 구조에서 수신 데이터 처리 절차를 수행할 수 있다. - PDCP 계층 장치가 2개의 RLC 계층 장치와 연결되어 있는 경우, - 또는 PDCP 계층 장치가 LWA 베어러(LTE-Wireless LAN Aggregation bearer)에 대해 설정된 경우, - 또는 PDCP 계층 장치가 2개의 RLC AM 모드 RLC 계층 장치와 연결되어 있었거나, LWA 베어러에 대해서 설정되 어 있었고, 이후에 가장 최근의 재설정으로 인해 PDCP 재수립 절차 없이 PDCP 계층 장치가 하나의 RLC AM 모드 의 RLC 계층 장치가 연결된 경우, - 또는 PDCP 계층 장치가 패킷 중복 기술이 설정된 경우, - 또는 PDCP 계층 장치가 비순서 전달 기능이 설정된(또는 RLC 계층 장치의 비순서 전달 기능 설정 지시자가 TRUE 값으로 설정된) 적어도 하나의 RLC 계층 장치와 연결된 경우, - 또는 PDCP 계층 장치가 비순서 전달 기능이 설정된(또는 RLC 계층 장치의 비순서 전달 기능 설정 지시자가 TRUE 값으로 설정된) 하나의 RLC AM 모드 또는 RLC UM 모드 RLC 계층 장치 또는 두 개(또는 복수 개)의 RLC AM 모드 또는 RLC UM 모드 RLC 계층 장치들과 연결된 경우, - 또는 PDCP 계층 장치가 DAPS 베어러에 대해서 설정된 경우, - 또는 DAPS 베어러에 대해서 PDCP 계층 장치가 설정되었었고, 가장 최근에 재설정(reconfiguration) 이후, PDCP 계층 장치가 DAPS 베어러에 대해서 설정되지 않은 경우, 본 개시에서는 위 기재된 조건들 중에 하나를 만족하는 경우, 본 개시에서 제안하는 재정렬 기능을 사용하는 제 1-3의 PDCP 계층 장치의 구조(E-UTRA PDCP 또는 LTE PDCP)에서 수신하는 데이터를 처리하는 절차는 다음과 같다. - 1> (만약 제1-3의 PDCP 계층 장치의 구조라면) 순서 재정렬 절차와 재정렬 타이머를 항상 적용하며 제1-2의 윈도우 변수 또는 제1-3의 윈도우 변수 또는 제1-4의 윈도우 변수 또는 제1의 상수 값을 기반으로 다음과 같은 절차를 수행할 수 있다. . ■. 2> 제1-2의 윈도우 변수 또는 제1-3의 윈도우 변수 또는 제1-4의 윈도우 변수 또는 제1의 상수 값을 기반 으로 수신되는 데이터들에 대해 윈도우 밖의 데이터 탐지 또는 중복된 데이터 탐지를 먼저 수행할 수 있다. (RLC AM의 재전송 또는 서로 다른 RLC 계층 장치로부터 서로 다른 시점에 데이터가 수신될 수 있고, LTE RLC SN 와 PDCP SN의 크기가 다를 수 있으므로 윈도우 밖의 데이터 또는 중복 데이터가 수신될 수도 있기 때문이다.) ■. 3> 복호화 절차를 수행한다. ■. 3> 무결성 보호 또는 검증 절차가 수행된 경우, 수행하고 나서 폐기한다. 만약에 무결성 검증 절차에 실 패하면 데이터(예를 들면 PDCP SDU 또는 PDCP PDU)를 폐기하고 상위 계층 장치에게 보고할 수 있다. 데이터(예 를 들면 PDCP SDU 또는 PDCP PDU)들에 대해 헤더 압축 해제절차는 수행하지 않는 것을 특징으로 한다. (왜냐하 면 조건에 맞는 데이터들은 윈도우 밖의 데이터 또는 중복된 데이터로써 유효한 데이터들이 아니기 때문이다) ■. 3> 윈도우 밖 또는 중복된 데이터를 폐기한다. ■. 2> 제1-2의 윈도우 변수 또는 제1-3의 윈도우 변수 또는 제1-4의 윈도우 변수 또는 제1의 상수 값을 기반 으로 PUSH 윈도우 동작을 수행하며, 폐기되지 않은 경우, 수신하는 데이터들에 대해 순서 정렬 없이 바로 복호 화 절차를 수행할 수 있다. 그리고 무결성 보호 또는 검증이 설정된 경우, 무결성 검증을 수행한다. 무결성 보 호 또는 검증 절차가 수행된 경우, 만약에 무결성 검증 절차에 실패하면 데이터(예를 들면 PDCP SDU 또는 PDCP PDU)를 폐기하고 상위 계층 장치에게 보고할 수 있다. ■. 2> 그리고 수신하는 데이터들에 순서 정렬을 수행하고, PDCP 일련번호 또는 COUNT 값의 갭이 없이 순서대 로 연속적으로 오름 차순으로 정렬되었다면 헤더 압축 해제 절차(ROHC(Robust Header Compression) 또는 EHC(Ethernet Header Compression) 또는 header decompression)를 수행하고(헤더 압축 절차 또는 압축 해제 절 차(ROHC 또는 EHC)가 설정된 경우) 오름차순으로 상위 계층으로 데이터를 전달할 수 있다. ■. 2> 만약 재정렬 타이머가 구동중이라면 ■. 3> 만약 재정렬을 위한 변수가 유지하고 있는 값에서 1을 차감한 값과 동일한 값을 갖는 COUNT 값에 해당 하는 데이터가 상위 계층 장치로 전달되었다면 또는 PDCP 일련번호(또는 COUNT 값)에 갭이 없이 상위 계층으로 데이터가 모두 전달되었다면 ■. 4>재정렬 타이머를 중지하고 초기화한다. ■. 2> 만약 재정렬 타이머가 구동중이 아니라면 ■. 3>만약 버퍼에 상위 계층 장치로 전달되지 않고 저장된 데이터가 있다면 또는 PDCP 일련번호(또는 COUNT 값)에 갭이 생겼다면 ■. 4> 재정렬 타이머를 시작한다. ■. 4> 그리고 재정렬을 위한 변수를 다음에 수신할 것이라고 예상되는 PDCP 일련번호 또는 COUNT 값으로 업 데이트한다. ■. 2> 만약 재정렬 타이머가 만료하였다면 ■. 3>저장된 데이터들에 대해서 재정렬 변수값보다 작은 값에 대해서 PDCP 일련번호 또는 COUNT 값의 오름차 순으로 헤더 압축 해제 절차(ROHC(Robust Header Compression) 또는 EHC(Ethernet Header Compression) 또는 header decompression)를 수행하고(헤더 압축 절차 또는 압축 해제 절차(ROHC 또는 EHC)가 설정된 경우) 상위 계층으로 데이터를 전달할 수 있다. ■. 4> 저장된 데이터들(PDCP SDUs)은 제1-4 윈도우 변수(재정렬 변수값)보다 작은 PDCP 일련번호 또는 COUNT 값을 갖는 데이터들이 해당된다. ■. 4> 저장된 데이터들(PDCP SDUs)은 제1-4 윈도우 변수(재정렬 변수값)과 같거나 큰 값에 대해서 PDCP 일련 번호 또는 COUNT 값의 오름차순으로 연속되는(consecutively) 데이터들이 해당된다. ■. 3> 그리고 마지막으로 전달한 데이터의 PDCP 일련번호 또는 COUNT 값으로 마지막으로 상위 계층으로 전달 한 데이터에 대한 변수값을 업데이트한다. ■. 3> 만약 버퍼에 상위 계층 장치로 전달되지 않고 저장된 데이터가 있다면 또는 PDCP 일련번호(또는 COUNT 값)에 갭이 생겼다면 ■. 4> 재정렬 타이머를 시작한다. ■. 4>그리고 재정렬을 위한 변수를 다음에 수신할 것이라고 예상되는 PDCP 일련번호 또는 COUNT 값으로 업데 이트한다. 본 개시에서 제안하는 재정렬 기능을 갖는 제2의 PDCP 계층 장치의 구조(NR PDCP 계층 장치)에서 수신하는 데이 터를 처리하는 절차는 다음과 같다. NR PDCP 계층 장치(또는 제2의 PDCP 계층 장치 구조)와 연결된 NR RLC 계층 장치에서는 비순서 전달 기능이 선택적으로 설정되거나 또는 설정되지 않는 것이 아니라, 항상 기본 기능으로 비순서 전달 기능이 사용되기 때문에 NR RLC 계층 장치와 연결된 제2의 PDCP 계층 장치에서는 다음과 같이 항상 재정렬 기능(PDCP reordering)을 사용한다. 즉, LTE RLC 계층 장치와는 달리 NR RLC 계층 장치에서는 비순서 전 달 기능만 사용할 수 있으며, 순서 전달 기능은 사용되지 않는다. 또 다른 방법으로 LTE RLC 계층 장치가 제2의PDCP 계층 장치와 연결된 경우, LTE RLC 계층 장치에서 비순서 전달 기능이 설정될 수 있다. - 1> (만약 제2의 PDCP 계층 장치의 구조라면) 예를 들면 NR PDCP 계층 장치에 대해 순서 재정렬 절차와 재정렬 타이머를 항상 적용하며, 제2-2의 윈도우 변수 또는 제2-3의 윈도우 변수 또는 제2-4의 윈도우 변수 또는 제1의 상수 값을 기반으로 다음과 같은 절차를 수행할 수 있다. ■. 2> 수신한 데이터들에 대해서 먼저 복호화 절차를 수행할 수 있다. ■. 2> 무결성 보호 또는 검증 절차가 설정된 경우, 무결성 보호 또는 검증 절차를 수신한 데이터에 대해 수 행하고, 만약에 무결성 검증 절차에 실패하면 데이터(예를 들면 PDCP SDU 또는 PDCP PDU)를 폐기하고 상위 계층 장치에게 보고할 수 있다. ■. 2> 제2-2의 윈도우 변수 또는 제2-3의 윈도우 변수 또는 제2-4의 윈도우 변수 또는 제1의 상수 값을 기반 으로 수신한 데이터에 대해 윈도우 밖의 데이터 탐지 또는 중복된 데이터 탐지를 수행한다. (복호화 절차를 수 행하고 나서 윈도우 밖의 데이터 탐지 또는 중복 탐지를 수행할 수 있다. 또 다른 방법으로 무결성 보호 또는 검증 절차가 설정된 경우에만 복호화 절차를 수행하고 나서 윈도우 밖의 데이터 탐지 또는 중복 탐지를 수행하 고 무결성 보호 또는 검증 절차가 설정되지 않은 경우에는 윈도우 밖의 데이터 탐지 또는 중복 탐지를 수행하고 나서 폐기되지 않은 데이터들에 대해서만 복호화 절차를 수행할 수도 있다.) ■. 3> 윈도우 밖 또는 중복된 데이터를 폐기한다. ■. 2> 제2-2의 윈도우 변수 또는 제2-3의 윈도우 변수 또는 제2-4의 윈도우 변수 또는 제1의 상수 값을 기반 으로 PUSH 윈도우를 구동하며, 폐기되지 않은 경우, 수신하는 데이터들에 순서 정렬을 수행하고, PDCP 일련번호 또는 COUNT 값의 갭이 없이 순서대로 연속적으로 오름 차순으로 정렬되었다면 헤더 압축 해제 절차(ROHC(Robust Header Compression) 또는 EHC(Ethernet Header Compression) 또는 header decompression)를 수행하고(헤더 압 축 절차 또는 압축 해제 절차(ROHC 또는 EHC)가 설정된 경우) 상위 계층으로 데이터를 전달할 수 있다. ■. 2> 그리고 상위 계층으로 전달할 때 COUNT 값의 오름차순으로 전달한다. ■. 2> 만약 재정렬 타이머가 구동중이라면 ■. 3> 만약 재정렬을 위한 변수(예를 들면 제2-4 윈도우 변수)가 유지하고 있는 값에서 1을 차감한 값과 동일 한 값을 갖는 COUNT 값에 해당하는 데이터가 상위 계층 장치로 전달되었다면 또는 PDCP 일련번호(또는 COUNT 값)에 갭이 없이 상위 계층으로 데이터가 모두 전달되었다면 또는 상위 계층으로 전달할 데이터의 PDCP 일련번 호 또는 COUNT 값을 저장하는 변수의 값이 재정렬을 위한 변수의 값(예를 들면 제2-4 윈도우 변수)보다 크거나 같다면 ■. 4> 재정렬 타이머를 중지하고 초기화한다. ■. 2> 만약 재정렬 타이머가 구동중이 아니라면 ■. 3> 만약 버퍼에 상위 계층 장치로 전달되지 않고 저장된 데이터가 있다면 또는 PDCP 일련번호(또는 COUNT 값)에 갭이 생겼다면 또는 상위 계층으로 전달하지 않은 첫 번째 데이터의 COUNT 값을 저장하는 변수의 값이 재 정렬을 위한 변수의 값(예를 들면 제2-4 윈도우 변수)보다 작다면 ■. 4> 그리고 재정렬을 위한 변수(예를 들면 제2-4 윈도우 변수)를 다음에 수신할 것이라고 예상되는 PDCP 일 련번호 또는 COUNT 값으로 업데이트한다. ■. 4> 재정렬 타이머를 시작한다. ■. 2> 만약 재정렬 타이머가 만료하였다면 ■. 3> 저장된 데이터들에 대해서 재정렬 변수값(예를 들면 제2-4 윈도우 변수)보다 작은 값에 대해서 PDCP 일 련번호 또는 COUNT 값의 오름차순으로 헤더 압축 해제 절차(ROHC(Robust Header Compression) 또는 EHC(Ethernet Header Compression) 또는 header decompression)를 수행하고(헤더 압축 절차 또는 압축 해제 절 차(ROHC 또는 EHC)가 설정된 경우) 상위 계층으로 데이터를 전달할 수 있다.■. 3> 저장된 데이터들에 대해서 재정렬 변수값(예를 들면 제2-4 윈도우 변수)과 같거나 큰 값에 대해서 연속 되게 PDCP 일련번호 또는 COUNT 값의 오름차순으로 헤더 압축 해제 절차가 설정된 경우, 헤더 압축 해제 절차를 수행하고 상위 계층 장치로 전달한다. ■. 3> 그리고 상위 계층으로 전달하지 않은 첫 번째 데이터의 PDCP 일련번호 또는 COUNT 값으로 상위 계층으 로 전달하지 않은 첫 번째 데이터에 대한 변수 값을 업데이트한다. ■. 3> 만약 버퍼에 상위 계층 장치로 전달되지 않고 저장된 데이터가 있다면 또는 PDCP 일련번호(또는 COUNT 값)에 갭이 생겼다면 또는 상위 계층으로 전달하지 않은 첫 번째 데이터의 COUNT 값을 저장하는 변수의 값이 재 정렬을 위한 변수(예를 들면 제2-4 윈도우 변수)의 값보다 작다면 ■. 4> 그리고 재정렬을 위한 변수(예를 들면 제2-4 윈도우 변수)를 다음에 수신할 것이라고 예상되는 PDCP 일 련번호 또는 COUNT 값으로 업데이트한다. ■. 4> 재정렬 타이머를 시작한다. 설명에서 사용된 접속 노드(node)를 식별하기 위한 용어, 망 객체(network entity)들을 지칭하는 용어, 메시지 들을 지칭하는 용어, 망 객체들 간 인터페이스를 지칭하는 용어, 다양한 식별 정보들을 지칭하는 용어 등은 설 명의 편의를 위해 예시된 것이다. 따라서, 본 개시가 후술되는 용어들에 한정되는 것은 아니며, 동등한 기술적 의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 또한, 본 개시에서 설명하는 RLC 계층 장치(entity)는 동일한 기능을 하는 다른 계층 장치로 대체될 수 있다. 다른 예를 들어 PDCP 계층 장치는 동일한 기능을 하는 다른 계층 장치로 대체될 수 있다. 또 다른 예를 들어, 베어러는 동일한 기능을 하는 다른 객체로 대체될 수 있다. 즉, RLC 계층 장치 및 PDCP 계층 장치 등의 용어에 한정되는 것이 아니며, 동등한 기술적 의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 설명의 편의를 위하여, 본 개시는 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에 서 정의하고 있는 용어 및 명칭들을 사용하였다. 하지만, 본 개시가 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에서 정의하고 있는 용어 및 명칭들에 의해 한정되는 것은 아니며, 다른 규 격에 따르는 시스템에도 동일하게 적용될 수 있다. 예를 들어, 본 개시는 보다 높은 데이터 전송률을 지원하기 위한 5G 또는 6G 통신 시스템에도 동일하게 적용될 수 있다. 도 7은 본 개시의 일 실시예에 따른 RLC 계층 장치에 대해 제1-1의 PDCP 계층 장치의 구조 또는 제1-2의 PDCP 계층 장치의 구조를 연결하고 설정하여 수신 데이터를 처리했을 때의 문제점을 설명하는 도면이다. 도 7의 710에서 도시한 일련번호는 PDCP 일련번호를 기준으로 설명하며, 다음과 같이 PDCP 일련번호는 각 RLC 계층 장치의 RLC 일련번호와 맵핑 관계를 가질 수 있다. 표 1 맵핑 관계 데이터 1데이터 2데이터 3데이터 4데이터 5데이터 6 PDCP 일련번호 1 2 3 4 5 6 RLC 일련번호(1g-1 1)1 2 3 RLC 일련번호(1g-1 2)1 2 3 도 7의 710처럼 하나의 PDCP 계층 장치에 대해서 두 개(또는 복수 개)의 RLC 계층 장치(711, 712)를 연결하고, 스플릿 베어러 또는 LWA 베어러로 설정하거나 또는 패킷 중복 전송 기술을 설정하는 경우, 각 RLC 계층 장치에 서는 서로 다른 데이터 또는 중복된 데이터를 서로 다른 시점에 수신할 수 있다. 또한, 비순서 전달 기능이 설 정되지 않은 경우라고 할지라도 즉, 각 RLC 계층 장치가 RLC 일련번호의 기준으로 데이터를 순서대로 PDCP 계층 장치로 전달하더라도 PDCP 계층 장치에서 제1의 RLC 계층 장치와 제2의 RLC 계층 장치으로부터 수신 하는 데이터들의 시점이 다를 수 있다. 따라서 만약 710에서 PDCP 계층 장치가 순서 재정렬 기능을 수행하지 않는 제1-1의 PDCP 계층 장치의 구조 또는 제1-2의 PDCP 계층 장치의 구조로 설정된다면, 710에서 도시한 바와 같 이 PDCP 계층 장치는 순서 정렬을 수행하지 않고, 하위 계층 장치들(RLC 계층 장치들)로부터 수신한 데이터들을 PDCP 일련번호의 순서의 오름 차순이 아닌 순서에 상관없이 상위 계층 장치로 데이터들을 전달하게 된다. 일반 적으로 PDCP 계층 장치의 상위 계층 장치(예를 들면 응용 계층 장치(TCP/IP 계층 장치))는 하위 계층 장치(PDCP 계층 장치)에서 순서대로 데이터를 수신하는 것을 가정하기 때문에 순서에 맞지 않게 데이터들을 수신하면 유실 이라고 간주하고 재전송을 요청하는 불필요한 재전송 또는 무선 연결에 문제가 있다고 판단하고 데이터 전송율 을 줄이게 되는 전송율 감소의 문제가 발생하게 된다. 또한 제1-1의 PDCP 계층 장치의 구조 또는 제1-2의 PDCP 계층 장치의 구조는 RLC 계층 장치로부터 순서대로 데이터를 수신하는 것을 가정하고 순서 정렬을 수행하지 않 는 것이기 때문에 RLC 계층 장치가 만약 비순서 전달 기능으로 설정된다면 PDCP 수신 윈도우가 너무 빨리 움직 이게 되어 늦게 수신되는 데이터들을 윈도우 밖의 데이터로 간주하고 데이터들을 폐기하여 데이터 유실이 발생 할 가능성이 있다. 도 7의 720에서 하나의 PDCP 계층 장치에 대해서 하나의 RLC 계층 장치가 연결되고 RLC 계층 장치에 비순서 전 달 기능이 설정된 경우에도 만약 PDCP 계층 장치가 순서 재정렬 기능을 수행하지 않는 제1-1의 PDCP 계층 장치 의 구조 또는 제1-2의 PDCP 계층 장치의 구조로 설정된다면, 720에서 도시한 바와 같이 PDCP 계층 장치는 순서 정렬을 수행하지 않고, 하위 계층 장치들(RLC 계층 장치들)로부터 수신한 데이터들을 PDCP 일련번호의 순서의 오름 차순이 아닌 순서에 상관없이 상위 계층 장치로 데이터들을 전달하게 된다. 일반적으로 PDCP 계층 장치의 상위 계층 장치(예를 들면 응용 계층 장치(TCP/IP 계층 장치))는 하위 계층 장치(PDCP 계층 장치)에서 순서대로 데이터를 수신하는 것을 가정하기 때문에 순서에 맞지 않게 데이터들을 수신하면 유실이라고 간주하고 재전송을 요청하는 불필요한 재전송 또는 무선 연결에 문제가 있다고 판단하고 데이터 전송율을 줄이게 되는 전송율 감소 의 문제가 발생하게 된다. 또한 제1-1의 PDCP 계층 장치의 구조 또는 제1-2의 PDCP 계층 장치의 구조는 RLC 계 층 장치로부터 순서대로 데이터를 수신하는 것을 가정하고 순서 정렬을 수행하지 않는 것이기 때문에 RLC 계층 장치가 만약 비순서 전달 기능으로 설정된다면 PDCP 수신 윈도우가 너무 빨리 움직이게 되어 늦게 수신되는 데 이터들을 윈도우 밖의 데이터로 간주하고 데이터들을 폐기하여 데이터 유실이 발생할 가능성이 있다. 따라서 710 또는 720과 같이 하나의 PDCP 계층 장치에 대해서 두 개(또는 복수 개)의 RLC 계층 장치(711, 712) 를 연결하고, 스플릿 베어러 또는 LWA 베어러로 설정하거나 또는 패킷 중복 전송 기술을 설정하는 경우, 또는 RLC 계층 장치에 비순서 전달 기능이 설정된 경우, 또는 하나의 PDCP 계층 장치에 대해서 하나의 RLC 계층 장치 가 연결되고 RLC 계층 장치에 비순서 전달 기능이 설정된 경우, 유실이라고 간주하고 재전송을 요청하는 불필요 한 재전송 또는 무선 연결에 문제가 있다고 판단하고 데이터 전송율을 줄이게 되는 데이터 유실 문제를 방지하 기 위해서 PDCP 계층 장치는 제1-3의 PDCP 계층 장치의 구조(재정렬 기능이 수행되는 E-UTRA PDCP 계층 장치) 또는 제2의 PDCP 계층 장치의 구조(재정렬 기능이 수행되는 NR PDCP 계층 장치 또는 기지국이 응용계층이 순서 정렬을 수행하는 기능을 갖고 있다고 판단하고, 비순서 전달 기능을 설정한 NR PDCP 계층 장치)를 설정하고 적 용해야 한다. 설명에서 사용된 접속 노드(node)를 식별하기 위한 용어, 망 객체(network entity)들을 지칭하는 용어, 메시지 들을 지칭하는 용어, 망 객체들 간 인터페이스를 지칭하는 용어, 다양한 식별 정보들을 지칭하는 용어 등은 설 명의 편의를 위해 예시된 것이다. 따라서, 본 개시가 후술되는 용어들에 한정되는 것은 아니며, 동등한 기술적 의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 또한, 본 개시에서 설명하는 RLC 계층 장치(entity)는 동일한 기능을 하는 다른 계층 장치로 대체될 수 있다. 다른 예를 들어 PDCP 계층 장치는 동일한 기능을 하는 다른 계층 장치로 대체될 수 있다. 또 다른 예를 들어, 베어러는 동일한 기능을 하는 다른 객체로 대체될 수 있다. 즉, RLC 계층 장치 및 PDCP 계층 장치 등의 용어에 한정되는 것이 아니며, 동등한 기술적 의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 설명의 편의를 위하여, 본 개시는 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에 서 정의하고 있는 용어 및 명칭들을 사용하였다. 하지만, 본 개시가 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에서 정의하고 있는 용어 및 명칭들에 의해 한정되는 것은 아니며, 다른 규 격에 따르는 시스템에도 동일하게 적용될 수 있다. 예를 들어, 본 개시는 보다 높은 데이터 전송률을 지원하기 위한 5G 또는 6G 통신 시스템에도 동일하게 적용될 수 있다.도 8은 본 개시의 일 실시예에 따른 단말의 동작을 나타낸 도면이다. 본 개시에서 단말은 기지국으로부터 RRC 메시지를 수신하였을 때 RLC 계층 장치의 설정 정보 또는 PDCP 계층 장치의 설정 정보 또는 베어러의 설정 정보를 확인하고 다음의 조건들 중에 하나의 조건이 만족하는 지 확인할 수 있다. 그리고 다음의 경우들에 대해서 재정렬 기능을 갖는 제1-3의 PDCP 계층 장치의 구조 또는 제2의 PDCP 계층 장치의 구조를 PDCP 계층 장치에 적용하고 수신하는 데이터들을 처리할 수 있다. 구체적 으로 RLC AM 모드를 사용하는 RLC 계층 장치들 또는 RLC UM 모드를 사용하는 RLC 계층 장치들과 연결된 DRB(Data Radio Bearer)들에 대해서 또는 LWA 베어러들에 대해서 또는 패킷 중복 기술이 사용될 때 또는 비순서 전달 기능이 설정된 RLC 계층 장치와 연결될 때 PDCP 계층 장치는 다음의 경우들에 대해서 재정렬 기능을 사용 하고 또는 적용할 수 있으며, 재정렬 기능을 수행하는 제1-3의 PDCP 계층 장치의 구조 또는 제2의 PDCP 계층 장 치의 구조의 절차를 수행할 수 있다. - PDCP 계층 장치가 2개의 RLC 계층 장치와 연결되어 있는 경우, - 또는 PDCP 계층 장치가 LWA 베어러(LTE-Wireless LAN Aggregation bearer)에 대해 설정된 경우, - 또는 PDCP 계층 장치가 2개의 RLC AM 모드 RLC 계층 장치와 연결되어 있었거나, LWA 베어러에 대해서 설정되 어 있었고, 이후에 가장 최근의 재설정으로 인해 PDCP 재수립 절차 없이 PDCP 계층 장치가 하나의 RLC AM 모드 의 RLC 계층 장치가 연결된 경우, - 또는 PDCP 계층 장치가 패킷 중복 기술이 설정된 경우, - 또는 PDCP 계층 장치가 비순서 전달 기능이 설정된(또는 RLC 계층 장치의 비순서 전달 기능 설정 지시자가 TRUE 값으로 설정된) 적어도 하나의 RLC 계층 장치와 연결된 경우, - 또는 PDCP 계층 장치가 비순서 전달 기능이 설정된(또는 RLC 계층 장치의 비순서 전달 기능 설정 지시자가 TRUE 값으로 설정된) 하나의 RLC AM 모드 또는 RLC UM 모드 RLC 계층 장치 또는 두 개(또는 복수 개)의 RLC AM 모드 또는 RLC UM 모드 RLC 계층 장치들과 연결된 경우, - 또는 PDCP 계층 장치가 DAPS 베어러에 대해서 설정된 경우, - 또는 DAPS 베어러에 대해서 PDCP 계층 장치가 설정되었었고, 가장 최근에 재설정(reconfiguration) 이후, PDCP 계층 장치가 DAPS 베어러에 대해서 설정되지 않은 경우, 만약 이러한 경우들에 해당되지 않는 다면 그리고 수신한 RRC 메시지에서 제1의 실시 예를 수행하는 RLC AM 모 드 또는 제2의 실시 예를 수행하는 RLC UM 모드가 설정된다면 본 개시에서 제안한 RLC AM 모드에 해당하는 제1- 1의 PDCP 계층 장치의 구조 또는 RLC UM 모드에 해당하는 제1-2의 PDCP 계층 장치의 구조를 PDCP 계층 장치에 적용하고 수신하는 데이터들을 처리할 수 있다. 설명에서 사용된 접속 노드(node)를 식별하기 위한 용어, 망 객체(network entity)들을 지칭하는 용어, 메시지 들을 지칭하는 용어, 망 객체들 간 인터페이스를 지칭하는 용어, 다양한 식별 정보들을 지칭하는 용어 등은 설 명의 편의를 위해 예시된 것이다. 따라서, 본 개시가 후술되는 용어들에 한정되는 것은 아니며, 동등한 기술적 의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 또한, 본 개시에서 설명하는 RLC 계층 장치(entity)는 동일한 기능을 하는 다른 계층 장치로 대체될 수 있다. 다른 예를 들어 PDCP 계층 장치는 동일한 기능을 하는 다른 계층 장치로 대체될 수 있다. 또 다른 예를 들어, 베어러는 동일한 기능을 하는 다른 객체로 대체될 수 있다. 즉, RLC 계층 장치 및 PDCP 계층 장치 등의 용어에 한정되는 것이 아니며, 동등한 기술적 의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 설명의 편의를 위하여, 본 개시는 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에 서 정의하고 있는 용어 및 명칭들을 사용하였다. 하지만, 본 개시가 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에서 정의하고 있는 용어 및 명칭들에 의해 한정되는 것은 아니며, 다른 규 격에 따르는 시스템에도 동일하게 적용될 수 있다. 예를 들어, 본 개시는 보다 높은 데이터 전송률을 지원하기 위한 5G 또는 6G 통신 시스템에도 동일하게 적용될 수 있다. 도 9는 본 개시의 일 실시예에 따른 기지국의 동작을 나타낸 도면이다. 도 9에서 기지국은 단말에게 베어러를 설정해주기 위해서 RRC 메시지를 구성할 때 다음과 같이 베어 러 설정 정보를 확인 또는 결정하고 RLC 계층 장치 설정 정보 또는 RLC 계층 장치의 비순서 전달 기능 또는 PDCP 계층 장치의 설정 정보를 구성하고 설정해줄 수 있다. 기지국은 RRC 메시지(예를 들면 RRCReconfiguration 메시지 또는 RRCSetup 메시지 또는 RRCResume 메시지)를 단말에게 전송할 때 RRC 메시지에 포함된 전송 자원 설정 정보(예를 들면 Radio Resource Config Dedicated)의 RLC 계층 장치 설정 정보(예를 들면 rlf-config)에서 비순서 전달 기능을 설정하는 지시자(예를 들면 rlc- OutOfOrderDelivery)를 설정하여 단말의 각 베어러 별 RLC 계층 장치에 비순서 전달 기능을 설정하거나(예를 들 면 지시자가 설정되고 값이 TRUE로 설정) 또는 설정하지 않을 수 있다(예를 들면 지시자가 없거나 또는 지시자 가 설정되고 값이 FALSE로 설정). 비순서 전달 기능을 설정하는 지시자(예를 들면 rlc-OutOfOrderDelivery)는 지시자가 설정된 RLC 계층 장치 설정 정보에 해당하는 RLC 계층 장치에서 상위 계층 장치(예를 들면 PDCP 계층 장치)로 수신한 데이터를 전달할 때 순서에 상관없이 또는 비순서 전달 방법으로 데이터를 전달하라는 것을 지 시할 수 있다. 그리고 RLC 계층 장치에 대해 비순서 전달 기능을 설정하는 지시자는 패킷 중복 기술(packet duplication)이 설정된 베어러(또는 PDCP 계층 장치) 또는 스플릿 베어러(split radio bearer(SRB 또는 DRB)) 또는 LWA 베어러 또는 재정렬 기능을 가지는 NR PDCP 계층 장치에 연결된 RLC 계층 장치 또는 하나의 PDCP 계층 장치에 2개(또는 복수 개)의 RLC 계층 장치가 설정된 경우에는 단말 구현 복잡도를 줄이기 위해서 설정될 수 없 도록 제한할 수 있다.. 따라서 기지국은 베어러 별로 패킷 중복 기술(packet duplication)이 설정할 것인 지 또는 스플릿 베어러로 설정할 것인지 또는 LWA 베어러로 설정할 것인지 또는 NR PDCP 계층 장치를 설정할 것 인지 하나의 PDCP 계층 장치에 2개(또는 복수 개)의 RLC 계층 장치를 설정할 것인지를 결정 또는 확인할 수 있 다. 그리고 RLC 계층 장치 설정 정보에서 패킷 중복 기술(packet duplication)이 설정된 베어러(또는 PDCP 계층 장치) 또는 스플릿 베어러(split radio bearer(SRB 또는 DRB)) 또는 LWA 베어러 또는 재정렬 기능을 가지는 NR PDCP 계층 장치에 연결된 RLC 계층 장치 또는 하나의 PDCP 계층 장치에 2개(또는 복수 개)의 RLC 계층 장치가 설정된 경우에 대해서 LTE(E-UTRA) RLC 계층 장치에 비순서 전달 기능을 설정하지 않도록 RRC 메시지를 구성하 고 전송할 수 있다. 만약 구성하는 RRC 메시지에서 RLC 계층 장치의 비순서 전달 기능 지시자를 설정하지 않고 제1의 실시 예를 수행하는 RLC AM 모드 또는 제2의 실시 예를 수행하는 RLC UM 모드를 설정하고 본 개시에 서 제안한 RLC AM 모드에 해당하는 제1-1의 PDCP 계층 장치의 구조 또는 RLC UM 모드에 해당하는 제1-2의 PDCP 계층 장치의 구조를 PDCP 계층 장치에 적용하고 설정하도록 RRC 메시지를 구성하고 전송할 수 있다. 또한 RRC 메시지의 PDCP 계층 장치의 설정 정보에서는 이더넷 헤더 압축 기능을 설정할 수 있으며 또는 RLC 계층 장 치의 설정 정보에서 설정되는 비순서 전달 기능과 함께 설정되어 데이터의 전송 지연을 훨씬 줄일 수 있다. 설명에서 사용된 접속 노드(node)를 식별하기 위한 용어, 망 객체(network entity)들을 지칭하는 용어, 메시지 들을 지칭하는 용어, 망 객체들 간 인터페이스를 지칭하는 용어, 다양한 식별 정보들을 지칭하는 용어 등은 설 명의 편의를 위해 예시된 것이다. 따라서, 본 개시가 후술되는 용어들에 한정되는 것은 아니며, 동등한 기술적 의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 또한, 본 개시에서 설명하는 RLC 계층 장치(entity)는 동일한 기능을 하는 다른 계층 장치로 대체될 수 있다. 다른 예를 들어 PDCP 계층 장치는 동일한 기능을 하는 다른 계층 장치로 대체될 수 있다. 또 다른 예를 들어, 베어러는 동일한 기능을 하는 다른 객체로 대체될 수 있다. 즉, RLC 계층 장치 및 PDCP 계층 장치 등의 용어에 한정되는 것이 아니며, 동등한 기술적 의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 설명의 편의를 위하여, 본 개시는 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에 서 정의하고 있는 용어 및 명칭들을 사용하였다. 하지만, 본 개시가 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에서 정의하고 있는 용어 및 명칭들에 의해 한정되는 것은 아니며, 다른 규 격에 따르는 시스템에도 동일하게 적용될 수 있다. 예를 들어, 본 개시는 보다 높은 데이터 전송률을 지원하기 위한 5G 또는 6G 통신 시스템에도 동일하게 적용될 수 있다. 도 10에 본 개시의 일 실시예에 따른 단말의 구조를 도시한 도면이다. 도면을 참고하면, 단말은 RF(Radio Frequency)처리부, 기저대역(baseband), 처리부, 저장부 , 제어부를 포함한다. RF처리부는 신호의 대역 변환, 증폭 등 무선 채널을 통해 신호를 송수신하기 위한 기능을 수행한다. 즉, RF처리부는 기저대역처리부로부터 제공되는 기저대역 신호를 RF 대역 신호로 상향 변환한 후 안테 나를 통해 송신하고, 안테나를 통해 수신되는 RF 대역 신호를 기저대역 신호로 하향 변환한다. 예를 들어, RF처리부는 송신 필터, 수신 필터, 증폭기, 믹서(mixer), 오실레이터(oscillator), DAC(digital to analog convertor), ADC(analog to digital convertor) 등을 포함할 수 있다. 도면에서, 하나의 안테나만이 도시되었 으나, 단말은 다수의 안테나들을 구비할 수 있다. 또한, RF처리부는 다수의 RF 체인들을 포함할 수 있다. 나아가, RF처리부는 빔포밍(beamforming)을 수행할 수 있다. 빔포밍을 위해, RF처리부는 다수의 안 테나들 또는 안테나 요소(element)들을 통해 송수신되는 신호들 각각의 위상 및 크기를 조절할 수 있다. 또한 RF 처리부는 MIMO를 수행할 수 있으며, MIMO 동작 수행 시 여러 개의 레이어를 수신할 수 있다. RF처리부(101 0)는 제어부의 제어에 따라 다수의 안테나 또는 안테나 요소들을 적절하게 설정하여 수신 빔 스위핑을 수행하거 나, 수신 빔이 송신 빔과 공조되도록 수신 빔의 방향과 빔 너비를 조정할 수 있다. 기저대역처리부은 시스템의 물리 계층 규격에 따라 기저대역 신호 및 비트열 간 변환 기능을 수행한다. 예를 들어, 데이터 송신 시, 기저대역처리부은 송신 비트열을 부호화 및 변조함으로써 복소 심벌들을 생 성한다. 또한, 데이터 수신 시, 기저대역처리부은 RF처리부로부터 제공되는 기저대역 신호를 복조 및 복호화를 통해 수신 비트열을 복원한다. 예를 들어, OFDM(orthogonal frequency division multiplexing) 방 식에 따르는 경우, 데이터 송신 시, 기저대역처리부는 송신 비트열을 부호화 및 변조함으로써 복소 심벌 들을 생성하고, 복소 심벌들을 부반송파들에 매핑한 후, IFFT(inverse fast Fourier transform) 연산 및 CP(cyclic prefix) 삽입을 통해 OFDM 심벌들을 구성한다. 또한, 데이터 수신 시, 기저대역처리부은 RF처 리부로부터 제공되는 기저대역 신호를 OFDM 심벌 단위로 분할하고, FFT(fast Fourier transform) 연산을 통해 부반송파들에 매핑된 신호들을 복원한 후, 복조 및 복호화를 통해 수신 비트열을 복원한다. 기저대역처리부 및 RF처리부는 상술한 바와 같이 신호를 송신 및 수신한다. 이에 따라, 기저대역처 리부 및 RF처리부는 송신부, 수신부, 송수신부 또는 통신부로 지칭될 수 있다. 나아가, 기저대역처 리부 및 RF처리부 중 적어도 하나는 서로 다른 다수의 무선 접속 기술들을 지원하기 위해 다수의 통신 모듈들을 포함할 수 있다. 또한, 기저대역처리부 및 RF처리부 중 적어도 하나는 서로 다른 주 파수 대역의 신호들을 처리하기 위해 서로 다른 통신 모듈들을 포함할 수 있다. 예를 들어, 서로 다른 무선 접 속 기술들은 LTE 망, NR 망 등을 포함할 수 있다. 또한, 서로 다른 주파수 대역들은 극고단파(SHF:super high frequency)(예: 2.5GHz, 5Ghz) 대역, mm파(millimeter wave)(예: 60GHz) 대역을 포함할 수 있다. 저장부는 단말의 동작을 위한 기본 프로그램, 응용 프로그램, 설정 정보 등의 데이터를 저장한다. 저장부 는 제어부의 요청에 따라 저장된 데이터를 제공한다. 제어부는 단말의 전반적인 동작들을 제어한다. 예를 들어, 제어부는 기저대역처리부 및 RF처 리부을 통해 신호를 송수신한다. 또한, 제어부는 저장부에 데이터를 기록하고, 읽는다. 이를 위해, 제어부는 적어도 하나의 프로세서(processor)를 포함할 수 있다. 예를 들어, 제어부는 통신 을 위한 제어를 수행하는 CP(communication processor) 및 응용 프로그램 등 상위 계층을 제어하는 AP(application processor)를 포함할 수 있다. 도 11은 본 개시의 일 실시예에 따른 무선 통신 시스템에서 TRP의 블록 구성을 도시한 도면이다. 도면에 도시된 바와 같이, 기지국은 RF처리부, 기저대역처리부, 백홀통신부, 저장부(11-40), 제어부(11-50)를 포함하여 구성된다. RF처리부는 신호의 대역 변환, 증폭 등 무선 채널을 통해 신호를 송수신하기 위한 기능을 수행한다. 즉, RF처리부는 기저대역처리부로부터 제공되는 기저대역 신호를 RF 대역 신호로 상향변환한 후 안테나 를 통해 송신하고, 안테나를 통해 수신되는 RF 대역 신호를 기저대역 신호로 하향변환한다. 예를 들어, RF처리 부는 송신 필터, 수신 필터, 증폭기, 믹서, 오실레이터, DAC, ADC 등을 포함할 수 있다. 도면에서, 하나 의 안테나만이 도시되었으나, 제1접속 노드는 다수의 안테나들을 구비할 수 있다. 또한, RF처리부는 다수 의 RF 체인들을 포함할 수 있다. 나아가, RF처리부는 빔포밍을 수행할 수 있다. 빔포밍을 위해, RF처리부 는 다수의 안테나들 또는 안테나 요소들을 통해 송수신되는 신호들 각각의 위상 및 크기를 조절할 수 있 다. RF 처리부는 하나 이상의 레이어를 전송함으로써 하향 MIMO 동작을 수행할 수 있다. 기저대역처리부는 제1무선 접속 기술의 물리 계층 규격에 따라 기저대역 신호 및 비트열 간 변환 기능을 수행한다. 예를 들어, 데이터 송신 시, 기저대역처리부은 송신 비트열을 부호화 및 변조함으로써 복소 심 벌들을 생성한다. 또한, 데이터 수신 시, 기저대역처리부은 RF처리부로부터 제공되는 기저대역 신 호를 복조 및 복호화를 통해 수신 비트열을 복원한다. 예를 들어, OFDM 방식에 따르는 경우, 데이터 송신 시,기저대역처리부은 송신 비트열을 부호화 및 변조함으로써 복소 심벌들을 생성하고, 복소 심벌들을 부반송 파들에 매핑한 후, IFFT 연산 및 CP 삽입을 통해 OFDM 심벌들을 구성한다. 또한, 데이터 수신 시, 기저대역처리 부은 RF처리부로부터 제공되는 기저대역 신호를 OFDM 심벌 단위로 분할하고, FFT 연산을 통해 부반 송파들에 매핑된 신호들을 복원한 후, 복조 및 복호화를 통해 수신 비트열을 복원한다. 기저대역처리부 및 RF처리부는 상술한 바와 같이 신호를 송신 및 수신한다. 이에 따라, 기저대역처리부 및 RF처리 부는 송신부, 수신부, 송수신부, 통신부 또는 무선 통신부로 지칭될 수 있다. 통신부는 네트워크 내 다른 노드들과 통신을 수행하기 위한 인터페이스를 제공한다. 저장부는 주기지국의 동작을 위한 기본 프로그램, 응용 프로그램, 설정 정보 등의 데이터를 저장한다. 특 히, 저장부(11-40)는 접속된 단말에 할당된 베어러에 대한 정보, 접속된 단말로부터 보고된 측정 결과 등을 저 장할 수 있다. 또한, 저장부는 단말에게 다중 연결을 제공하거나, 중단할지 여부의 판단 기준이 되는 정 보를 저장할 수 있다. 그리고, 저장부(11-40)는 제어부(11-50)의 요청에 따라 저장된 데이터를 제공한다. 제어부는 주기지국의 전반적인 동작들을 제어한다. 예를 들어, 제어부는 기저대역처리부 및 RF처리부을 통해 또는 백홀통신부을 통해 신호를 송수신한다. 또한, 제어부는 저장부 에 데이터를 기록하고, 읽는다. 이를 위해, 제어부는 적어도 하나의 프로세서를 포함할 수 있다. 도 12는 본 개시의 일 실시예에 따른 이더넷 (EthHC, Ethernet Header Compression) 헤더 압축 방법을 나타낸 도면이다. 도 12에서 상위 계층 데이터는 비디오 전송, 사진 전송, 웹 검색, VoLTE와 같은 서비스들에 해당하는 데 이터로 생성될 수 있다. 응용 계층(application layer) 장치에서 생성된 데이터들은 네트워크 데이터 전송 계층 에 해당하는 TCP/IP 혹은 UDP를 통해 처리될 수 있고, 또는 이더넷 프로토콜을 통해 처리되고 각 헤더(1210, 1215, 1220)를(상위 계층 헤더 또는 이더넷 헤더) 구성하고 PDCP 계층에 전달될 수 있다. PDCP 계층은 상위 계 층으로부터 데이터(PDCP SDU)를 수신하면 다음과 같은 절차를 수행할 수 있다. 만약 도 5에서 510 혹은 540 혹은 575 와 같은 RRC 메시지에 의해서 PDCP 계층에서 헤더 압축(ROHC) 또는 이더 넷 헤더 압축 절차를 사용하도록 설정하였다면 1221과 같이 ROHC로 TCP/IP 헤더를 압축하고 1222와 같이 PDCP 계층 장치에서 이더넷 헤더에 대해서 이더넷 헤더 압축 절차를 수행할 수 있다. 그리고 이더넷 헤더의 압 축 여부를 지시하기 위한 필드 또는 이더넷 헤더의 어떤 필드들이 압축되었는지(생략되었는지) 또는 압축되지 않았는지(생략되지 않았는지)를 지시하기 위한 필드 또는 컨텍스트 식별자를 가지는 별도의 EHC(Ethernet header compression, 1240) 헤더를 구성하고 압축된 헤더 앞에 구성할 수 있다. 만약 무결성 보호 또는 검증 절 차가 설정되었다면 PDCP 헤더, EHC 헤더, 압축된 헤더들과 데이터에 대해 무결성 보호(Integrity protection)를 수행할 수 있다. 또한 EHC 헤더와 압축된 헤더들과 데이터에 암호화(ciphering) 절차를 수행하고, PDCP 헤더 를 구성하여 PDCP PDU를 구성할 수 있다. PDCP 계층 장치는 헤더 압축 또는 압축해제 장치를 포함하고 있 으며, RRC 메시지에서 설정된 대로 각 데이터에 대해서 헤더 압축을 수행할지 수행하지 않을 지 판단하고, 헤더 압축 또는 압축해제 장치를 사용한다. 송신단에서는 송신 PDCP 계층 장치에서 헤더 압축 장치를 이용하여 이더 넷 헤더 또는 상위 계층 헤더(예를 들면 TCP/IP 헤더)를 압축을 수행하고 만약 무결성 검증이 설정되었다면 PDCP 헤더, EHC 헤더, 압축된 헤더들과 데이터에 대해 무결성 보호(Integrity protection)를 수행할 수 있다. 또한 EHC 헤더와 압축된 헤더들과 데이터에 암호화(ciphering) 절차를 수행하고, PDCP 헤더를 구성하여 PDCP PDU를 구성할 수 있다. 수신단에서는 수신 PDCP 계층 장치에서 EHC 헤더와 압축된 헤더들과 데이터에 대해 복호화(deciphering) 절차를 수행할 수 있다. 또한 만약 무결성 보호 또는 검증 절차가 설정되었다면 PDCP 헤더, EHC 헤더, 압축된 헤더들과 데이터에 대해 무결성 검증 (Integrity verification)를 수행할 수 있다. 그 리고 헤더 압축 해제 장치를 사용하여 이더넷 헤더 또는 상위 계층 헤더(예를 들면 TCP/IP 헤더)에 대해 헤더 압축 해제를 수행한다. 설명한 도 12 절차는 단말이 상향 링크 헤더 압축할 때 뿐만 아니라 하향 링크 데이터를 헤더 압축하는 데에도 적용할 수 있다. 또한 상향 링크 데이터에 대한 설명은 하향 링크 데이터에 대해서도 동일하게 적용될 수 있다. 본 개시에서 제안하는 이더넷 헤더에 이더넷 헤더 압축을 수행하는 방법은 고정적인 정보를 지시하는 또는 가지 는 필드들은 생략하고, 변경된 또는 변경되는 정보들만을 지시하여 헤더의 크기를 줄이는 방법이다. 따라서 처 음에는 전체 헤더 정보와 압축을 위한 설정 정보(예를 들면 이더넷 프로토콜을 위한 트래픽(또는 서비스) 별 식별자(타입) 또는 트래픽(또는 서비스) 별 일련번호, 압축율 관련 정보 또는 압축 여부 지시자 등)을 포함하여 전송할 수 있다. 그리고 처음에 전송한 전체 정보 대비 변경되지 않은 정보 또는 고정적인 정보에 해당하는 필 드들(예를 들면 송신 주소 필드 또는 수신 주소 필드(MAC address), 또는 프리앰블 필드 또는 SFD(start of Frame Delimiter) 또는 FCS(Frame CheckSum) 또는 이더넷 타입 필드 등)은 생략하고 또는 전송하지 않고 변경 된 또는 변경될 수 있는 정보에 해당하는 필드들만을 포함하여 헤더를 구성하여 헤더의 크기를 줄일 수 있도록 한다. 또 다른 방법으로 압축이 가능한 필드들과 압축이 가능하지 않은 필드들을 구분하여 압축이 가능한 필드 들 값은 처음에 전송한 완전한 헤더의 필드값들과 동일한 값이 계속 포함된다고 가정할 수 있기 때문에 압축이 가능한 필드들만을 압축(또는 생략)해서 전송하고, 압축이 가능하지 않은 필드들은 압축(또는 생략)하지 않고 항상 전송할 수 있다. 또한 압축이 가능한 필드들 중에 하나의 필드라도 이전에 전송한 완전한 헤더의 필드값과 변경된 값이 있다면 다시 완전한 헤더를 전송할 수 있다. 그리고 수신 PDCP 계층 장치에서는 완전한 헤더를 수 신할 때마다 송신 PDCP 계층 장치에게 완전한 헤더를 잘 받았다는 피드백을 항상 전송해주는 것을 특징으로 할 수 있다. 본 개시에서는 단말의 구현 복잡도를 줄이기 위해서 스플릿 베어러(예를 들면 적어도 두 개 이상의 RLC 계층 장 치와 연결된 PDCP 계층 장치) 또는 LWA 베어러 또는 패킷 중복이 설정된 베어러 또는 적어도 하나의 RLC 계층 장치(예를 들면 AM RLC 또는 UM RLC 계층 장치)와 연결된 베어러에 대해서 RLC 계층 장치에 비순서 전달 기능 (rlc-OutOfOrderDelivery)을 설정이 가능하지 않도록 하는 방법을 제안하였다. 그리고 비순서 전달 기능 (rlc- OutOfOrderDelivery)이 설정된 적어도 하나의 RLC 계층 장치가 PDCP 계층 장치에 연결되었다면 PDCP 계층 장치 에서 재정렬 기능을 항상 구동하는 것을 제안하였다. 즉, 무선 통신 시스템의 경우에는 서로 다른 RLC 계층 장치로부터 수신되는 데이터들로 압축 해제 에러가 발생 할 수 있는 가능성을 줄이기 위해서 헤더 압축 프로토콜(ROHC 또는 EHC) 또는 상향 링크 데이터 압축 프로토콜 (UDC, Uplink data compression)을 split 베어러 또는 LWA 베어러에는 설정할 수 없도록 하거나 또는 헤더 압 축 프로토콜 또는 상향 링크 데이터 압축 프로토콜을 split 베어러 또는 LWA 베어러(DRB)에 대해서는 사용하지 않음으로 설정할 수 있다. 본 개시에서 제안한 것과 같이 만약 비순서 전달 기능 (rlc-OutOfOrderDelivery)이 설정된 적어도 하나의 RLC 계층 장치가 PDCP 계층 장치에 연결되었다면 PDCP 계층 장치에서는 재정렬 기능을 구동할 수 있다. 하지만 PDCP 계층 장치에 헤더 압축 프로토콜(EHC 또는 ROHC)가 설정되었다면 핸드오버 시에 헤더 압축 해제 에러가 발생할 수 있다. 예를 들면 제1-3의 PDCP 계층 장치의 구조 또는 제2의 PDCP 계층 장치의 구조와 같이 재정렬 기능을 사용하고, RLC 계층 장치에서 비순서 전달 기능을 사용할 수 있으며, 헤더 압축 절차(ROHC 또는 EHC)가 설정되어 제1의 헤 더 압축 컨텍스트(ROHC context or EHC context) 또는 프로토콜을 기반으로 수신 PDCP 계층 장치는 헤더 압축 해제 절차를 수행할 수 있다. PDCP 계층 장치는 데이터 1, 데이터 2, 데이터 4, 데이터 5을 하위 RLC 계층 장 치로부터 비순서적으로 수신할 수 있다. 즉, 데이터 3이 아직 하위 계층 장치에서 수신되지 않았다고 하더라도 데이터(예를 들면 PDCP PDU 또는 RLC SDU)들이 PDCP 계층 장치에서 수신될 수 있다. 제1-3의 PDCP 계층 장치의 구조 또는 제2의 PDCP 계층 장치의 구조에서 재정렬 절차를 수행할 때 순서에 맞는 데이터들만 헤더 압축 해제 절차를 적용하고 상위 계층 장치로 전달을 한다. 하지만 순서에 맞지 않는 데이터들은 버퍼에 저장만 하고 헤더 압축 해제 절차를 적용하지 않으며, 순서에 맞게 데이터들이 다 수신되어야만 데이터(예를 들면 PDCP SDU 또는 PDCP PDU)들에 대해서 헤더 압축 해제 절차를 수행하게 된다. 그런데 만약 단말이 핸드오버를 지시하는(예를 들면 mobilityControlInfo 또는 ReconfiguratioWithSync 지시자 로) RRCReconfiguration 메시지(또는 RRC Connection Reconfiguration)를 수신하고 RRC 메시지에서 PDCP 계층 장치 재수립 절차를 트리거링하는 지시자가 포함되어 있거나 또는 RRC 메시지의 수신으로 PDCP 계층 장치 재수 립 절차를 수행하게 될 때 RRC 메시지에서 헤더 압축 프로토콜을 계속 사용하라는 지시자(drb-ContinueROHC 또 는 drb-ContinueEHC-DL 또는 drb-ContinueEHC-UL)가 설정되지 않은 경우, 단말은 PDCP 계층 장치에서 PDCP 계 층 잘치 재수립 절차를 수행하면서 제1의 헤더 압축 프로토콜 또는 컨텍스트(EHC context 또는 ROHC context 또 는 EHC protocol 또는 ROHC protocol)를 초기화할 수 있다. 그리고 핸드오버 절차를 완료할 수 있다. 제1의 헤더 압축 프로토콜(또는 컨텍스트)이 초기화되었기 때문에 새롭게 제2의 헤더 압축 프로토콜(또는 컨텍 스트)이 설정될 수 있으며, 핸드오버를 완료한 후, 타겟 기지국에서 데이터 3을 수신할 수 있다. 그러면 데이터 3, 데이터 4, 데이터 5가 순서에 맞게 되기 때문에 수신 PDCP 계층 장치는 제2의 헤더 압축 프로토콜 또는 컨텍스트로 데이터(예를 들면 PDCP SDU 또는 PDCP PDU)3, 데이터 4, 데이터 5에 대해 헤더 압축 해제 절차를 수행하 게 된다. 그런데 데이터(예를 들면 PDCP SDU 또는 PDCP PDU) 4, 데이터 5는 제1의 헤더 압축 프로토콜로 압축이 수행되었기 때문에 제2의 헤더 압축 프로토콜로 압축 해제를 수행하게 되면 압축 해제 실패 에러가 발생하게 된 다. 따라서 본 개시에서는 제1-3의 PDCP 계층 장치의 구조 또는 제2의 PDCP 계층 장치 구조에서 재정렬 기능(t- reordering)을 사용하는 경우 또는 RLC 계층 장치에 비순서 전달 기능이 설정된 경우 또는 헤더 압축 프로토콜 을 계속 사용하라는 지시자(drb-ContinueROHC 또는 drb-ContinueEHC-DL 또는 drb-ContinueEHC-UL)가 설정되지 않은 경우, 만약 PDCP 계층 장치 재수립 절차가 수행된다면, 먼저 수신 PDCP 계층 장치에서 AM DRB에 대해서 저 장된 데이터들에 대해서 헤더 압축 해제 절차를 수행하도록 할 수 있다. 그리고 나서 헤더 압축 프로토콜을 계 속 사용하라는 지시자가 설정되지 않은 경우, 헤더 압축 프로토콜을 초기화하도록 할 수 있다. 먼저 수신 PDCP 계층 장치에서 AM DRB에 대해서 저장된 데이터들에 대해서 헤더 압축 해제 절차를 수행하게 되면 헤더 압축 프 로토콜(또는 컨텍스트)이 초기화되기 전에 헤더 압축 해제를 수행하기 때문에 추후에 순서에 맞는 데이터가 도 착해도 이미 헤더 압축 해제 절차가 수행되어 있기 때문에 헤더 압축 해제 에러를 방지할 수 있다. 본 개시의 다음에서는 제1-1의 PDCP 계층 장치의 구조 또는 제1-2의 PDCP 계층 장치의 구조(또는 기능)에서 재 정렬 기능을 사용하지 않는 경우 또는 제1-3의 PDCP 계층 장치의 구조 또는 제2의 PDCP 계층 장치 구조에서 재 정렬 기능(t-reordering)을 사용하는 경우 또는 RLC 계층 장치에 비순서 전달 기능이 설정된 경우 또는 헤더 압 축 프로토콜을 계속 사용하라는 지시자(drb-ContinueROHC 또는 drb-ContinueEHC-DL 또는 drb-ContinueEHC- UL)가 설정되지 않은 경우 또는 설정되는 경우, 또는 이더넷 압축 기능이 설정되거나 또는 설정되지 않은 경우 에 대해서 만약 PDCP 계층 장치 재수립 절차가 수행된다면, 수신 PDCP 계층 장치에서 AM DRB 또는 UM DRB에 대 해 재정렬 기능을 사용하는지 또는 사용하지 않는 지에 따라서 또는 RRC 메시지로 설정된 설정 정보(예를 들면 헤더 압축 프로토콜을 계속 사용하라는 지시자 또는 헤더 압축 기능)에 따라서 각각 서로 다른 절차를 수행하는 것을 제안한다. 본 개시의 다음에서는 제안한 절차를 더 구체적으로 수행하는 PDCP 계층 장치재수립 절차의 제1 실시 예를 다음 과 같이 제안한다. - 1> 만약 단말이 RRC 메시지(예를 들면 RRCReconfiguration 메시지) 또는 ReconfigurationWithSync 지시자 또 는 mobilityContorlInfo 지시자를 포함한 RRCReconfiguration 메시지를 수신하였다면 ■ 2> 하향 링크 데이터 전송 절차에서 만약 상위 계층 장치(예를 들면 RRC 계층 장치)가 베어러 또는 PDCP 계 층 장치에 대해서 PDCP 재수립 절차를 지시 또는 요청하였다면 또는 PDCP 계층 장치가 PDCP 재수립 절차를 수행 한다면 또는 PDCP 계층 장치가 제1-1의 PDCP 계층 장치의 구조로 동작한다면 또는 베어러(DRB)가 RLC AM 모드와 맵핑이 되어 있다면(또는 RLC AM 모드(ARQ 동작을 수행하는 Acknowledge Mode)로 동작하는 RLC 계층 장치와 연 결되어 있다면) 또는 재정렬 기능(reordering function)을 사용하지 않는다면 ■ 3> 단말은 하위 계층 장치(예를 들면 RLC 계층 장치)의 재수립 절차 때문에 하위 계층 장치로부터 수신하는 데이터들(예를 들면 PDCP PDU)을 본 개시의 제안한 제1-1의 PDCP 계층 장치의 구조에서 데이터를 수신하는 절차 에 따라서 처리할 수 있다. ■ 3> 상위 계층 장치로부터 저장된 단말 컨텍스트(UE AS context)를 사용하라고 지시되었고 헤더 압축 프로토 콜(ROHC)을 계속 사용하라는 지시자(drb-ContinueROHC)가 설정된 경우(예를 들면 RRC 연결을 재개하는 경우)를 제외하고는, 하향 링크에 대한 헤더 압축 프로토콜(ROHC protocol)을 초기화하고 U 모드(Unidirectional 모드) 의 NC 상태(No context state)에서 시작할 수 있다. ■ 3> 만약 하향 링크에 대해서 헤더 압축 프로토콜(EHC)을 계속 사용하라는 지시자(drb-ContinueEHC-DL)가 설 정되지 않았다면, 하향 링크에 대한 헤더 압축 프로토콜(EHC protocol)을 초기화할 수 있다. ■ 2> 하향 링크 데이터 전송 절차에서 만약 상위 계층 장치(예를 들면 RRC 계층 장치)가 베어러 또는 PDCP 계 층 장치에 대해서 PDCP 재수립 절차를 지시 또는 요청하였다면 또는 PDCP 계층 장치가 PDCP 재수립 절차를 수행 한다면 또는 PDCP 계층 장치가 제1-3의 PDCP 계층 장치(E-UTRA PDCP 또는 LTE PDCP)와 같이 재정렬 기능 (reordering function)을 사용한다면 또는 베어러(DRB)가 RLC AM 모드와 맵핑이 되어 있다면(또는 RLC AM 모드 (ARQ 동작을 수행하는 Acknowledge Mode)로 동작하는 RLC 계층 장치와 연결되어 있다면) ■ 3> 단말은 하위 계층 장치(예를 들면 RLC 계층 장치)의 재수립 절차 때문에 하위 계층 장치로부터 수신하는 데이터들(예를 들면 PDCP PDU)을 본 개시의 제안한 제1-3의 PDCP 계층 장치의 구조에서 데이터를 수신하는 절차 에 따라서 처리할 수 있다. ■ 3> 만약 PDCP 계층 장치가 PDCP 재수립 절차 이후에 하나의 AM RLC 계층 장치와 연결될 것이라면 ■ 4> 재정렬 타이머(t-Reordering)를 중지하고 초기화(reset)할 수 있다. ■ 3> 만약 PDCP 계층 장치가 RLC 계층 장치의 비순서 전달 지시자가 설정된 적어도 하나의 RLC 계층 장치와 연 결되어 있다면 ■ 4> 만약 하향 링크에 대해서 헤더 압축 프로토콜(EHC)을 계속 사용하라는 지시자(drb-ContinueEHC-DL)가 설 정되지 않았다면 헤더 압축 프로토콜(EHC)을 사용하여 저장된 데이터들(예를 들면 PDCP SDU)에 대해 헤더 압축 해제 절차를 수행할 수 있다. 만약 하향 링크에 대해서 헤더 압축 프로토콜(EHC)을 계속 사용하라는 지시자 (drb-ContinueEHC-DL)가 설정되지 않았다면 AM 모드를 사용하는 RLC 계층 장치와 연결되어 있기 때문에 데이터 유실을 방지하기 위해 또는 추후에 수신될 수 있는 데이터를 재정렬 타이머가 만료하기 전까지 기다리기 위해 저장된 데이터들에 이더넷 헤더 압축 해제 절차를 적용한 후, 상위 계층 장치로 전달하지는 않고, 계속 저장해 둘 수 있다. 즉, 추후에 데이터를 수신하여 PDCP 일련번호 또는 COUNT 값의 오름차순으로 값의 공백(또는 차이) 없이 연속적으로 데이터를 수신한 경우에 상위 계층 장치로 데이터를 전달할 수 있다. ■ 4> 만약 하향 링크에 대해서 헤더 압축 프로토콜(EHC)을 계속 사용하라는 지시자(drb-ContinueEHC-DL)가 설 정되지 않았다면, 하향 링크에 대한 헤더 압축 프로토콜(EHC protocol)을 초기화할 수 있다. ■ 3> 재수립 절차를 수행하면서 상위 계층 장치로부터 제공 받은 암호화 알고리즘 또는 보안키를 적용할 수 있 다. ■ 2> 하향 링크 데이터 전송 절차에서 만약 상위 계층 장치(예를 들면 RRC 계층 장치)가 베어러 또는 PDCP 계 층 장치에 대해서 PDCP 재수립 절차를 지시 또는 요청하였다면 또는 PDCP 계층 장치가 PDCP 재수립 절차를 수행 한다면 또는 PDCP 계층 장치가 제1-2의 PDCP 계층 장치의 구조로 동작한다면 또는 베어러(DRB)가 RLC UM 모드와 맵핑이 되어 있다면(또는 RLC UM 모드(ARQ 동작을 수행하지 않는 Unacknowledge Mode)로 동작하는 RLC 계층 장 치와 연결되어 있다면) 또는 재정렬 기능(reordering function)을 사용하지 않는다면 ■ 3> 단말은 하위 계층 장치(예를 들면 RLC 계층 장치)의 재수립 절차 때문에 하위 계층 장치로부터 수신하는 데이터들(예를 들면 PDCP PDU)을 본 개시의 제안한 제1-2의 PDCP 계층 장치의 구조에서 데이터를 수신하는 절차 에 따라서 처리할 수 있다. ■ 3> 만약 베어러(DRB)에 대해서 ROHC 프로토콜이 설정되었고(헤더 압축 기능이 설정되었고) 헤더 압축 프로토 콜(ROHC)을 계속 사용하라는 지시자(drb-ContinueROHC)가 설정되지 않았다면, 하향 링크에 대한 헤더 압축 프로 토콜(ROHC protocol)을 초기화하고 U 모드(Unidirectional 모드)의 NC 상태(No context state)에서 시작할 수 있다. ■ 3> 만약 하향 링크에 대해서 헤더 압축 프로토콜(EHC)을 계속 사용하라는 지시자(drb-ContinueEHC-DL)가 설 정되지 않았다면, 하향 링크에 대한 헤더 압축 프로토콜(EHC protocol)을 초기화할 수 있다. ■ 2> 하향 링크 데이터 전송 절차에서 만약 상위 계층 장치(예를 들면 RRC 계층 장치)가 베어러 또는 PDCP 계 층 장치에 대해서 PDCP 재수립 절차를 지시 또는 요청하였다면 또는 PDCP 계층 장치가 PDCP 재수립 절차를 수행 한다면 또는 PDCP 계층 장치가 제1-3의 PDCP 계층 장치(E-UTRA PDCP 또는 LTE PDCP)와 같이 재정렬 기능(reordering function)을 사용한다면 또는 베어러(DRB)가 RLC UM 모드와 맵핑이 되어 있다면(또는 RLC UM 모드 (ARQ 동작을 수행하지 않는 Unacknowledge Mode)로 동작하는 RLC 계층 장치와 연결되어 있다면) ■ 3> 단말은 하위 계층 장치(예를 들면 RLC 계층 장치)의 재수립 절차 때문에 하위 계층 장치로부터 수신하는 데이터들(예를 들면 PDCP PDU)을 본 개시의 제안한 제1-3의 PDCP 계층 장치의 구조에서 데이터를 수신하는 절차 에 따라서 처리할 수 있다. ■ 3> 재정렬 타이머(t-Reordering)가 구동 중이라면(if running), 재정렬 타이머를 중지(stop)하거나 초기화 (reset)할 수 있다. 재정렬 타이머(t-Reordering)가 구동 중이라면(if running), UM 모드를 사용하는 RLC 계층 장치와 연결되어 있기 때문에 데이터 전송 지연을 줄이기 위해서(또는 재정렬 타이머가 만료할 때까지 기다리지 않기 위해서) 재정렬 타이머를 중지하고, 초기화할 수 있다. ■ 3> 만약 PDCP 계층 장치가 RLC 계층 장치의 비순서 전달 지시자가 설정된 적어도 하나의 RLC 계층 장치와 연 결되어 있다면 ■ 4> 만약 이더넷 헤더 압축 기능(또는 EHC)가 설정되었다면(if configured) 또는 저장된 데이터가 있다면(if any), 저장된 데이터들에 대해서(all stored PDCP SDUs) 이더넷 헤더 압축 해제 절차(header decompression using EHC)를 수행한 후에 데이터(예를 들면 PDCP SDU 또는 PDCP PDU)에 할당된 COUNT 값(associated COUNT values)의 오름차순으로 데이터(예를 들면 PDCP SDU)들을 상위 계층 장치로 전달할 수 있다. UM 모드를 사용하 는 RLC 계층 장치와 연결되어 있기 때문에 데이터 전송 지연을 줄이기 위해서 재정렬 타이머를 중지하고, 초기 화할 수 있으며, 저장된 데이터들에 대해 이더넷 헤더 압축 해제 절차를 적용한 후, 바로 상위 계층 장치로 전 달하는 절차를 수행할 수 있다. 즉, PDCP 일련번호 또는 COUNT 값의 오름차순으로 값의 공백(또는 차이)가 있더 라도 상관없이, 오름차순으로 상위 계층 장치로 데이터를 전달할 수 있다. ■ 4> 만약 하향 링크에 대해서 헤더 압축 프로토콜(EHC)을 계속 사용하라는 지시자(drb-ContinueEHC-DL)가 설 정되지 않았다면, 하향 링크에 대한 헤더 압축 프로토콜(EHC protocol)을 초기화할 수 있다. ■ 3> 그렇지 않다면(else) 또는 만약 PDCP 계층 장치가 RLC 계층 장치의 비순서 전달 지시자가 설정된 (적어도 하나의) RLC 계층 장치와 연결되어 있지 않다면 ■ 4> 만약 저장된 데이터가 있다면(if any), 저장된 데이터들에 대해서(all stored PDCP SDUs) 데이터(예를 들 면 PDCP SDU 또는 PDCP PDU)에 할당된 COUNT 값(associated COUNT values)의 오름차순으로 데이터(예를 들면 PDCP SDU)들을 상위 계층 장치로 전달할 수 있다. PDCP 계층 장치가 RLC 계층 장치의 비순서 전달 지시자가 설 정된 (적어도 하나의) RLC 계층 장치와 연결되어 있지 않다면 본 개시의 제안한 것과 같이 단말 구현 복잡도를 낮추기 위해 이더넷 헤더 압축 기능이 설정될 수 없기 때문에 데이터(예를 들면 PDCP SDU 또는 PDCP PDU)들에 대해서 이더넷 헤더 압축 해제 절차를 수행할 필요가 없다. 즉, 데이터(예를 들면 PDCP SDU 또는 PDCP PDU)들에 대해서 이더넷 헤더 압축 해제 절차를 수행하지 않고 오름차순으로 상위 계층 장치로 전달할 수 있다. ■ 3> 재수립 절차를 수행하면서 상위 계층 장치로부터 제공 받은 암호화 알고리즘 또는 보안키를 적용할 수 있 다. ■ 2> 하향 링크 데이터 전송 절차에서 만약 상위 계층 장치(예를 들면 RRC 계층 장치)가 베어러 또는 PDCP 계 층 장치에 대해서 PDCP 재수립 절차를 지시 또는 요청하였다면 또는 PDCP 계층 장치가 PDCP 재수립 절차를 수행 한다면 또는 PDCP 계층 장치가 제2의 PDCP 계층 장치(NR PDCP)와 같이 항상 재정렬 기능(reordering functio n)을 사용한다면 또는 베어러(DRB)가 RLC AM 모드 또는 RLC UM 모드와 맵핑이 되어 있다면(또는 RLC AM 모드 또 는 RLC UM 모드로 동작하는 RLC 계층 장치와 연결되어 있다면) 또는 RLC 계층 장치에서 항상(또는 기본적으로 (default)) 비순서 전달 기능을 사용한다면 ■ 3> 단말은 하위 계층 장치(예를 들면 RLC 계층 장치)의 재수립 절차 때문에 하위 계층 장치로부터 수신하는 데이터들(예를 들면 PDCP PDU)을 본 개시의 제안한 제2의 PDCP 계층 장치의 구조에서 데이터를 수신하는 절차에 따라서 처리할 수 있다. ■ 3> 만약 베어러가 UM DRB 라면(또는 베어러가 UM RLC 계층 장치와 연결되어 있다면) ■ 4> 만약 재정렬 타이머(t-reordering)가 구동 중이라면 ■ 5> 재정렬 타이머를 중지하고 또는 초기화(reset)할 수 있다. ■ 5> UM DRB에 대해서 저장된 데이터들(all stored PDCP SDUs)에 대해 헤더 압축 해제 절차(예를 들면 EHC 또 는 ROHC 헤더 압축 해제 절차)를 수행한 후, 데이터(예를 들면 PDCP SDU 또는 PDCP PDU)에 할당된 COUNT 값 (associated COUNT values)의 오름차순으로 데이터(예를 들면 PDCP SDU)들을 상위 계층 장치로 전달할 수 있다. ■ 3> 만약 베어러가 AM DRB 라면(또는 베어러가 AM RLC 계층 장치와 연결되어 있다면) 또는 AM DRB에 대해서는 ■ 4> 만약 헤더 압축 프로토콜(ROHC)을 계속 사용하라는 지시자(drb-ContinueROHC)가 설정되지 않았다면 헤더 압축 프로토콜(ROHC)을 사용하여 저장된 데이터들(예를 들면 PDCP SDU)에 대해 헤더 압축 해제 절차를 수행할 수 있다. ■ 4> 만약 하향 링크에 대해서 헤더 압축 프로토콜(EHC)을 계속 사용하라는 지시자(drb-ContinueEHC-DL)가 설 정되지 않았다면 헤더 압축 프로토콜(EHC)을 사용하여 저장된 데이터들(예를 들면 PDCP SDU)에 대해 헤더 압축 해제 절차를 수행할 수 있다. ■ 3> AM DRB 또는 UM DRB에 대해서 만약 헤더 압축 프로토콜(ROHC)을 계속 사용하라는 지시자(drb- ContinueROHC)가 설정되지 않았다면, 하향 링크에 대한 헤더 압축 프로토콜(ROHC protocol)을 초기화하고 U 모 드(Unidirectional 모드)의 NC 상태(No context state)에서 시작할 수 있다. ■ 3> AM DRB 또는 UM DRB에 대해서 만약 하향 링크에 대해서 헤더 압축 프로토콜(EHC)을 계속 사용하라는 지시 자(drb-ContinueEHC-DL)가 설정되지 않았다면 하향 링크에 대한 헤더 압축 프로토콜(EHC protocol)을 초기화할 수 있다. ■ 3> 재수립 절차를 수행하면서 상위 계층 장치로부터 제공 받은 암호화 알고리즘 또는 보안키를 적용할 수 있 다. 본 개시의 다음에서는 제안한 절차를 더 구체적으로 수행하는 PDCP 계층 장치재수립 절차의 제2 실시 예를 다음 과 같이 제안한다. - 1> 만약 단말이 RRC 메시지(예를 들면 RRCReconfiguration 메시지) 또는 ReconfigurationWithSync 지시자 또 는 mobilityContorlInfo 지시자를 포함한 RRCReconfiguration 메시지를 수신하였다면 ■ 2> 하향 링크 데이터 전송 절차에서 만약 상위 계층 장치(예를 들면 RRC 계층 장치)가 베어러 또는 PDCP 계 층 장치에 대해서 PDCP 재수립 절차를 지시 또는 요청하였다면 또는 PDCP 계층 장치가 PDCP 재수립 절차를 수행 한다면 또는 PDCP 계층 장치가 제1-1의 PDCP 계층 장치의 구조로 동작한다면 또는 베어러(DRB)가 RLC AM 모드와 맵핑이 되어 있다면(또는 RLC AM 모드(ARQ 동작을 수행하는 Acknowledge Mode)로 동작하는 RLC 계층 장치와 연 결되어 있다면) 또는 재정렬 기능(reordering function)을 사용하지 않는다면 ■ 3> 단말은 하위 계층 장치(예를 들면 RLC 계층 장치)의 재수립 절차 때문에 하위 계층 장치로부터 수신하는 데이터들(예를 들면 PDCP PDU)을 본 개시의 제안한 제1-1의 PDCP 계층 장치의 구조에서 데이터를 수신하는 절차 에 따라서 처리할 수 있다. ■ 3> 상위 계층 장치로부터 저장된 단말 컨텍스트(UE AS context)를 사용하라고 지시되었고 헤더 압축 프로토 콜(ROHC)을 계속 사용하라는 지시자(drb-ContinueROHC)가 설정된 경우(예를 들면 RRC 연결을 재개하는 경우)를 제외하고는, 하향 링크에 대한 헤더 압축 프로토콜(ROHC protocol)을 초기화하고 U 모드(Unidirectional 모드) 의 NC 상태(No context state)에서 시작할 수 있다. ■ 3> 만약 하향 링크에 대해서 헤더 압축 프로토콜(EHC)을 계속 사용하라는 지시자(drb-ContinueEHC-DL)가 설 정되지 않았다면, 하향 링크에 대한 헤더 압축 프로토콜(EHC protocol)을 초기화할 수 있다. ■ 2> 하향 링크 데이터 전송 절차에서 만약 상위 계층 장치(예를 들면 RRC 계층 장치)가 베어러 또는 PDCP 계 층 장치에 대해서 PDCP 재수립 절차를 지시 또는 요청하였다면 또는 PDCP 계층 장치가 PDCP 재수립 절차를 수행한다면 또는 PDCP 계층 장치가 제1-3의 PDCP 계층 장치(E-UTRA PDCP 또는 LTE PDCP)와 같이 재정렬 기능 (reordering function)을 사용한다면 또는 베어러(DRB)가 RLC AM 모드와 맵핑이 되어 있다면(또는 RLC AM 모드 (ARQ 동작을 수행하는 Acknowledge Mode)로 동작하는 RLC 계층 장치와 연결되어 있다면) ■ 3> 단말은 하위 계층 장치(예를 들면 RLC 계층 장치)의 재수립 절차 때문에 하위 계층 장치로부터 수신하는 데이터들(예를 들면 PDCP PDU)을 본 개시의 제안한 제1-3의 PDCP 계층 장치의 구조에서 데이터를 수신하는 절차 에 따라서 처리할 수 있다. ■ 3> 만약 PDCP 계층 장치가 PDCP 재수립 절차 이후에 하나의 AM RLC 계층 장치와 연결될 것이라면 ■ 4> 재정렬 타이머(t-Reordering)를 중지하고 초기화(reset)할 수 있다. ■ 3> 만약 PDCP 계층 장치가 RLC 계층 장치의 비순서 전달 지시자가 설정된 적어도 하나의 RLC 계층 장치와 연 결되어 있다면 ■ 4> 만약 하향 링크에 대해서 헤더 압축 프로토콜(EHC)을 계속 사용하라는 지시자(drb-ContinueEHC-DL)가 설 정되지 않았다면 헤더 압축 프로토콜(EHC)을 사용하여 저장된 데이터들(예를 들면 PDCP SDU)에 대해 헤더 압축 해제 절차를 수행할 수 있다. 만약 하향 링크에 대해서 헤더 압축 프로토콜(EHC)을 계속 사용하라는 지시자 (drb-ContinueEHC-DL)가 설정되지 않았다면 AM 모드를 사용하는 RLC 계층 장치와 연결되어 있기 때문에 데이터 유실을 방지하기 위해 또는 추후에 수신될 수 있는 데이터를 재정렬 타이머가 만료하기 전까지 기다리기 위해 저장된 데이터들에 이더넷 헤더 압축 해제 절차를 적용한 후, 상위 계층 장치로 전달하지는 않고, 계속 저장해 둘 수 있다. 즉, 추후에 데이터를 수신하여 PDCP 일련번호 또는 COUNT 값의 오름차순으로 값의 공백(또는 차이) 없이 연속적으로 데이터를 수신한 경우에 상위 계층 장치로 데이터를 전달할 수 있다. ■ 4> 만약 하향 링크에 대해서 헤더 압축 프로토콜(EHC)을 계속 사용하라는 지시자(drb-ContinueEHC-DL)가 설 정되지 않았다면, 하향 링크에 대한 헤더 압축 프로토콜(EHC protocol)을 초기화할 수 있다. ■ 3> 재수립 절차를 수행하면서 상위 계층 장치로부터 제공 받은 암호화 알고리즘 또는 보안키를 적용할 수 있 다. ■ 2> 하향 링크 데이터 전송 절차에서 만약 상위 계층 장치(예를 들면 RRC 계층 장치)가 베어러 또는 PDCP 계 층 장치에 대해서 PDCP 재수립 절차를 지시 또는 요청하였다면 또는 PDCP 계층 장치가 PDCP 재수립 절차를 수행 한다면 또는 PDCP 계층 장치가 제1-2의 PDCP 계층 장치의 구조로 동작한다면 또는 베어러(DRB)가 RLC UM 모드와 맵핑이 되어 있다면(또는 RLC UM 모드(ARQ 동작을 수행하지 않는 Unacknowledge Mode)로 동작하는 RLC 계층 장 치와 연결되어 있다면) 또는 재정렬 기능(reordering function)을 사용하지 않는다면 ■ 3> 단말은 하위 계층 장치(예를 들면 RLC 계층 장치)의 재수립 절차 때문에 하위 계층 장치로부터 수신하는 데이터들(예를 들면 PDCP PDU)을 본 개시의 제안한 제1-2의 PDCP 계층 장치의 구조에서 데이터를 수신하는 절차 에 따라서 처리할 수 있다. ■ 3> 만약 베어러(DRB)에 대해서 ROHC 프로토콜이 설정되었고(헤더 압축 기능이 설정되었고) 헤더 압축 프로토 콜(ROHC)을 계속 사용하라는 지시자(drb-ContinueROHC)가 설정되지 않았다면, 하향 링크에 대한 헤더 압축 프로 토콜(ROHC protocol)을 초기화하고 U 모드(Unidirectional 모드)의 NC 상태(No context state)에서 시작할 수 있다. ■ 3> 만약 하향 링크에 대해서 헤더 압축 프로토콜(EHC)을 계속 사용하라는 지시자(drb-ContinueEHC-DL)가 설 정되지 않았다면, 하향 링크에 대한 헤더 압축 프로토콜(EHC protocol)을 초기화할 수 있다. ■ 2> 하향 링크 데이터 전송 절차에서 만약 상위 계층 장치(예를 들면 RRC 계층 장치)가 베어러 또는 PDCP 계 층 장치에 대해서 PDCP 재수립 절차를 지시 또는 요청하였다면 또는 PDCP 계층 장치가 PDCP 재수립 절차를 수행 한다면 또는 PDCP 계층 장치가 제1-3의 PDCP 계층 장치(E-UTRA PDCP 또는 LTE PDCP)와 같이 재정렬 기능 (reordering function)을 사용한다면 또는 베어러(DRB)가 RLC UM 모드와 맵핑이 되어 있다면(또는 RLC UM 모드 (ARQ 동작을 수행하지 않는 Unacknowledge Mode)로 동작하는 RLC 계층 장치와 연결되어 있다면)■ 3> 단말은 하위 계층 장치(예를 들면 RLC 계층 장치)의 재수립 절차 때문에 하위 계층 장치로부터 수신하는 데이터들(예를 들면 PDCP PDU)을 본 개시의 제안한 제1-3의 PDCP 계층 장치의 구조에서 데이터를 수신하는 절차 에 따라서 처리할 수 있다. ■ 3> 재정렬 타이머(t-Reordering)가 구동 중이라면(if running), 재정렬 타이머를 중지(stop)하고 또는 초기 화(reset)할 수 있다. 재정렬 타이머(t-Reordering)가 구동 중이라면(if running), UM 모드를 사용하는 RLC 계 층 장치와 연결되어 있기 때문에 데이터 전송 지연을 줄이기 위해서(또는 재정렬 타이머가 만료할 때까지 기다 리지 않기 위해서) 재정렬 타이머를 중지하고, 초기화할 수 있다. ■ 3> 만약 이더넷 헤더 압축 기능(또는 EHC)가 설정되었다면(if configured) 또는 저장된 데이터가 있다면(if any), 저장된 데이터들에 대해서(all stored PDCP SDUs) 이더넷 헤더 압축 해제 절차(header decompression using EHC)를 수행한 후에 데이터(예를 들면 PDCP SDU 또는 PDCP PDU)에 할당된 COUNT 값(associated COUNT values)의 오름차순으로 데이터(예를 들면 PDCP SDU)들을 상위 계층 장치로 전달할 수 있다. 만약 이더넷 헤더 압축 기능(또는 EHC)가 설정되었다면(if configured) 또는 저장된 데이터가 있다면(if any) UM 모드를 사용하는 RLC 계층 장치와 연결되어 있기 때문에 데이터 전송 지연을 줄이기 위해서 재정렬 타이머를 중지하고, 초기화할 수 있으며, 저장된 데이터들에 대해 이더넷 헤더 압축 해제 절차를 적용한 후, 바로 상위 계층 장치로 전달하는 절차를 수행할 수 있다. 즉, PDCP 일련번호 또는 COUNT 값의 오름차순으로 값의 공백(또는 차이)가 있더라도 상 관없이, 오름차순으로 상위 계층 장치로 데이터를 전달할 수 있다. 하지만 만약 이더넷 헤더 압축 기능이 설정 되지 않은 경우에 만약 저장된 데이터가 있다면(if any), 저장된 데이터들에 대해서(all stored PDCP SDUs) 데 이터(예를 들면 PDCP SDU 또는 PDCP PDU)에 할당된 COUNT 값(associated COUNT values)의 오름차순으로 데이터 (예를 들면 PDCP SDU)들을 상위 계층 장치로 전달할 수 있다. 예를 들면 PDCP 계층 장치가 RLC 계층 장치의 비 순서 전달 지시자가 설정된 (적어도 하나의) RLC 계층 장치와 연결되어 있지 않다면 본 개시의 제안한 것과 같 이 단말 구현 복잡도를 낮추기 위해 이더넷 헤더 압축 기능이 설정될 수 없기 때문에 데이터(예를 들면 PDCP SDU 또는 PDCP PDU)들에 대해서 이더넷 헤더 압축 해제 절차를 수행할 필요가 없다. 즉, 데이터(예를 들면 PDCP SDU 또는 PDCP PDU)들에 대해서 이더넷 헤더 압축 해제 절차를 수행하지 않고 오름차순으로 상위 계층 장치로 전달할 수 있다. ■ 3> 만약 PDCP 계층 장치가 RLC 계층 장치의 비순서 전달 지시자가 설정된 적어도 하나의 RLC 계층 장치와 연 결되어 있다면 ■ 4> 만약 하향 링크에 대해서 헤더 압축 프로토콜(EHC)을 계속 사용하라는 지시자(drb-ContinueEHC-DL)가 설 정되지 않았다면, 하향 링크에 대한 헤더 압축 프로토콜(EHC protocol)을 초기화할 수 있다. ■ 3> 재수립 절차를 수행하면서 상위 계층 장치로부터 제공 받은 암호화 알고리즘 또는 보안키를 적용할 수 있 다. ■ 2> 하향 링크 데이터 전송 절차에서 만약 상위 계층 장치(예를 들면 RRC 계층 장치)가 베어러 또는 PDCP 계 층 장치에 대해서 PDCP 재수립 절차를 지시 또는 요청하였다면 또는 PDCP 계층 장치가 PDCP 재수립 절차를 수행 한다면 또는 PDCP 계층 장치가 제2의 PDCP 계층 장치(NR PDCP)와 같이 항상 재정렬 기능(reordering functio n)을 사용한다면 또는 베어러(DRB)가 RLC AM 모드 또는 RLC UM 모드와 맵핑이 되어 있다면(또는 RLC AM 모드 또 는 RLC UM 모드로 동작하는 RLC 계층 장치와 연결되어 있다면) 또는 RLC 계층 장치에서 항상(또는 기본적으로 (default)) 비순서 전달 기능을 사용한다면 ■ 3> 단말은 하위 계층 장치(예를 들면 RLC 계층 장치)의 재수립 절차 때문에 하위 계층 장치로부터 수신하는 데이터들(예를 들면 PDCP PDU)을 본 개시의 제안한 제2의 PDCP 계층 장치의 구조에서 데이터를 수신하는 절차에 따라서 처리할 수 있다. ■ 3> 만약 베어러가 UM DRB 라면(또는 베어러가 UM RLC 계층 장치와 연결되어 있다면) ■ 4> 만약 재정렬 타이머(t-reordering)가 구동 중이라면 ■ 5> 재정렬 타이머를 중지하고 또는 초기화(reset)할 수 있다. ■ 5> UM DRB에 대해서 저장된 데이터들(all stored PDCP SDUs)에 대해 헤더 압축 해제 절차(예를 들면 EHC 또 는 ROHC 헤더 압축 해제 절차)를 수행한 후, 데이터(예를 들면 PDCP SDU 또는 PDCP PDU)에 할당된 COUNT 값 (associated COUNT values)의 오름차순으로 데이터(예를 들면 PDCP SDU)들을 상위 계층 장치로 전달할 수있다. ■ 3> 만약 베어러가 AM DRB 라면(또는 베어러가 AM RLC 계층 장치와 연결되어 있다면) 또는 AM DRB에 대해서는 ■ 4> 만약 헤더 압축 프로토콜(ROHC)을 계속 사용하라는 지시자(drb-ContinueROHC)가 설정되지 않았다면 헤더 압축 프로토콜(ROHC)을 사용하여 저장된 데이터들(예를 들면 PDCP SDU)에 대해 헤더 압축 해제 절차를 수행할 수 있다. ■ 4> 만약 하향 링크에 대해서 헤더 압축 프로토콜(EHC)을 계속 사용하라는 지시자(drb-ContinueEHC-DL)가 설 정되지 않았다면 헤더 압축 프로토콜(EHC)을 사용하여 저장된 데이터들(예를 들면 PDCP SDU)에 대해 헤더 압축 해제 절차를 수행할 수 있다. ■ 3> AM DRB 또는 UM DRB에 대해서 만약 헤더 압축 프로토콜(ROHC)을 계속 사용하라는 지시자(drb- ContinueROHC)가 설정되지 않았다면, 하향 링크에 대한 헤더 압축 프로토콜(ROHC protocol)을 초기화하고 U 모 드(Unidirectional 모드)의 NC 상태(No context state)에서 시작할 수 있다. ■ 3> AM DRB 또는 UM DRB에 대해서 만약 하향 링크에 대해서 헤더 압축 프로토콜(EHC)을 계속 사용하라는 지시 자(drb-ContinueEHC-DL)가 설정되지 않았다면 하향 링크에 대한 헤더 압축 프로토콜(EHC protocol)을 초기화할 수 있다. ■ 3> 재수립 절차를 수행하면서 상위 계층 장치로부터 제공 받은 암호화 알고리즘 또는 보안키를 적용할 수 있 다. 설명에서 사용된 접속 노드(node)를 식별하기 위한 용어, 망 객체(network entity)들을 지칭하는 용어, 메시지 들을 지칭하는 용어, 망 객체들 간 인터페이스를 지칭하는 용어, 다양한 식별 정보들을 지칭하는 용어 등은 설 명의 편의를 위해 예시된 것이다. 따라서, 본 개시가 후술되는 용어들에 한정되는 것은 아니며, 동등한 기술적 의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 또한, 본 개시에서 설명하는 RLC 계층 장치(entity)는 동일한 기능을 하는 다른 계층 장치로 대체될 수 있다. 다른 예를 들어 PDCP 계층 장치는 동일한 기능을 하는 다른 계층 장치로 대체될 수 있다. 또 다른 예를 들어, 베어러는 동일한 기능을 하는 다른 객체로 대체될 수 있다. 즉, RLC 계층 장치 및 PDCP 계층 장치 등의 용어에 한정되는 것이 아니며, 동등한 기술적 의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 설명의 편의를 위하여, 본 개시는 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에 서 정의하고 있는 용어 및 명칭들을 사용하였다. 하지만, 본 개시가 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에서 정의하고 있는 용어 및 명칭들에 의해 한정되는 것은 아니며, 다른 규 격에 따르는 시스템에도 동일하게 적용될 수 있다. 예를 들어, 본 개시는 보다 높은 데이터 전송률을 지원하기 위한 5G 또는 6G 통신 시스템에도 동일하게 적용될 수 있다. 도 13은 본 개시의 일 실시예에 따른 동작을 설명하기 위한 흐름도이다. 단계 1301에서, 단말은 기지국으로부터 RRC(Radio Resource Control) 메시지를 수신할 수 있다. RLC(Radio Link Control) 장치(entity) 설정 정보, PDCP(Packet Data Convergence Protocol) 장치 설정 정보, 및 베어러 설정 정보를 포함할 수 있다. 이후 단계 1303에서, 단말은 상기 RRC 메시지에 기반하여, PDCP 장치에 비순서(rlc-OutOfOrderDelivery) 전달 기능이 설정된 RLC 장치와 연결되었는 지 여부를 식별할 수 있다. PDCP 장치에 비순서(rlc-OutOfOrderDelivery) 전달 기능이 설정된 RLC 장치는 RLC AM 모드(Acknowledged Mode) RLC 장치 또는 RLC UM 모드(Unacknowledged Mode) RLC 장치 중에서 적어도 하나의 장치일 수 있다. 단계 1305에서, 단말은 PDCP 장치에 재정렬 기능을 설정하는 단계를 포함할 수 있다. 구체적으로, 단말은 PDCP 장치에 비순서(rlc-OutOfOrderDelivery) 전달 기능이 설정된 RLC 장치와 연결되었는 지 여부 식별에 기반하여, PDCP 장치에 재정렬 기능을 설정할 수 있다. 설명에서 사용된 접속 노드(node)를 식별하기 위한 용어, 망 객체(network entity)들을 지칭하는 용어, 메시지 들을 지칭하는 용어, 망 객체들 간 인터페이스를 지칭하는 용어, 다양한 식별 정보들을 지칭하는 용어 등은 설 명의 편의를 위해 예시된 것이다. 따라서, 본 개시가 후술되는 용어들에 한정되는 것은 아니며, 동등한 기술적의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 또한, 본 개시에서 설명하는 RLC 계층 장치(entity)는 동일한 기능을 하는 다른 계층 장치로 대체될 수 있다. 다른 예를 들어 PDCP 계층 장치는 동일한 기능을 하는 다른 계층 장치로 대체될 수 있다. 또 다른 예를 들어, 베어러는 동일한 기능을 하는 다른 객체로 대체될 수 있다. 즉, RLC 계층 장치 및 PDCP 계층 장치 등의 용어에 한정되는 것이 아니며, 동등한 기술적 의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 설명의 편의를 위하여, 본 개시는 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에 서 정의하고 있는 용어 및 명칭들을 사용하였다. 하지만, 본 개시가 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격에서 정의하고 있는 용어 및 명칭들에 의해 한정되는 것은 아니며, 다른 규 격에 따르는 시스템에도 동일하게 적용될 수 있다. 예를 들어, 본 개시는 보다 높은 데이터 전송률을 지원하기 위한 5G 또는 6G 통신 시스템에도 동일하게 적용될 수 있다. 본 개시에 따르면, 무선 통신 시스템에서 단말에 의해 수행되는 방법에 있어서, 상기 방법은, 기지국으로부터 RRC(Radio Resource Control) 메시지를 수신하는 단계; 상기 RRC 메시지는 RLC(Radio Link Control) 장치 (entity) 설정 정보, PDCP(Packet Data Convergence Protocol) 장치 설정 정보, 및 베어러 설정 정보를 포함하 고, 상기 RRC 메시지에 기반하여, PDCP 장치에 비순서(rlc-OutOfOrderDelivery) 전달 기능이 설정된 RLC 장치 와 연결되었는 지 여부를 식별하는 단계; 상기 RLC 장치와 연결되었는 지 여부 식별에 기반하여, 상기 PDCP 장 치에 재정렬 기능을 설정하는 단계를 포함할 수 있고, 상기 RLC 장치는 RLC AM 모드(Acknowledged Mode) RLC 장치 또는 RLC UM 모드(Unacknowledged Mode) RLC 장치 중에서 적어도 하나의 장치일 수 있다. 본 개시의 청구항 또는 명세서에 기재된 실시예들에 따른 방법들은 하드웨어, 소프트웨어, 또는 하드웨어와 소 프트웨어의 조합의 형태로 구현될(implemented) 수 있다. 소프트웨어로 구현하는 경우, 하나 이상의 프로그램(소프트웨어 모듈)을 저장하는 컴퓨터 판독 가능 저장 매체 가 제공될 수 있다. 컴퓨터 판독 가능 저장 매체에 저장되는 하나 이상의 프로그램은, 전자 장치(device) 내의 하나 이상의 프로세서에 의해 실행 가능하도록 구성된다(configured for execution). 하나 이상의 프로그램은, 전자 장치로 하여금 본 개시의 청구항 또는 명세서에 기재된 실시 예들에 따른 방법들을 실행하게 하는 명령어 (instructions)를 포함한다. 이러한 프로그램(소프트웨어 모듈, 소프트웨어)은 랜덤 액세스 메모리 (random access memory), 플래시(flash) 메모리를 포함하는 불휘발성(non-volatile) 메모리, 롬(ROM: Read Only Memory), 전기적 삭제가능 프로그램가 능 롬(EEPROM: Electrically Erasable Programmable Read Only Memory), 자기 디스크 저장 장치(magnetic disc storage device), 컴팩트 디스크 롬(CD-ROM: Compact Disc-ROM), 디지털 다목적 디스크(DVDs: Digital Versatile Discs) 또는 다른 형태의 광학 저장 장치, 마그네틱 카세트(magnetic cassette)에 저장될 수 있다. 또는, 이들의 일부 또는 전부의 조합으로 구성된 메모리에 저장될 수 있다. 또한, 각각의 구성 메모리는 복수 개 포함될 수도 있다. 또한, 프로그램은 인터넷(Internet), 인트라넷(Intranet), LAN(Local Area Network), WLAN(Wide LAN), 또는 SAN(Storage Area Network)과 같은 통신 네트워크, 또는 이들의 조합으로 구성된 통신 네트워크를 통하여 접근 (access)할 수 있는 부착 가능한(attachable) 저장 장치(storage device)에 저장될 수 있다. 이러한 저장 장치 는 외부 포트를 통하여 본 개시의 실시예를 수행하는 장치에 접속할 수 있다. 또한, 통신 네트워크 상의 별도의 저장 장치가 본 개시의 실시예를 수행하는 장치에 접속할 수도 있다. 상술한 본 개시의 구체적인 실시예들에서, 본 개시에 포함되는 구성 요소는 제시된 구체적인 실시예에 따라 단 수 또는 복수로 표현되었다. 그러나, 단수 또는 복수의 표현은 설명의 편의를 위해 제시한 상황에 적합하게 선 택된 것으로서, 본 개시가 단수 또는 복수의 구성 요소에 제한되는 것은 아니며, 복수로 표현된 구성 요소라 하 더라도 단수로 구성되거나, 단수로 표현된 구성 요소라 하더라도 복수로 구성될 수 있다. 한편, 본 명세서와 도면에 개시된 본 개시의 실시예들은 본 개시의 기술 내용을 쉽게 설명하고 본 개시의 이해 를 돕기 위해 특정 예를 제시한 것일 뿐이며, 본 개시의 범위를 한정하고자 하는 것은 아니다. 즉 본 개시의 기 술적 사상에 바탕을 둔 다른 변형예들이 실시 가능하다는 것은 본 개시의 속하는 기술 분야에서 통상의 지식을 가진 자에게 자명한 것이다. 또한 상기 각각의 실시 예는 필요에 따라 서로 조합되어 운용할 수 있다. 예를 들면, 본 개시의 일 실시예와 다른 일 실시예의 일부분들이 서로 조합되어 기지국과 단말이 운용될 수 있다. 또한, 본 개시의 실시예들은 다른 통신 시스템에서도 적용 가능하며, 실시예의 기술적 사상에 바탕을 둔 다른 변형예들 또한 실시 가능할 것이다."}
{"patent_id": "10-2022-0045412", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 개시의 일 실시예에 따른 LTE 시스템의 구조를 도시하는 도면이다. 도 2는 본 개시의 일 실시예에 따른 LTE 시스템에서 무선 프로토콜 구조를 나타낸 도면이다. 도 3은 본 개시의 일 실시예에 따른 차세대 이동통신 시스템의 구조를 도시하는 도면이다. 도 4는 본 개시의 일 실시예에 따른 차세대 이동통신 시스템의 무선 프로토콜 구조를 나타낸 도면이다. 도 5는 본 개시의 일 실시예에 따른 단말이 RRC 유휴 모드(RRC idle mode)에서 RRC 연결 모드(RRC connected mode)로 전환하여 네트워크와 연결을 설정하는 절차를 설명한 도면이다. 도 6은 본 개시의 일 실시예에 따른 효율적인 PDCP 계층 장치들의 데이터 처리 방법을 나타낸 도면이다. 도 7은 본 개시의 일 실시예에 따른 RLC 계층 장치에 대해 제1-1의 PDCP 계층 장치의 구조 또는 제1-2의 PDCP 계층 장치의 구조를 연결하고 설정하여 수신 데이터를 처리했을 때의 문제점을 설명하는 도면이다. 도 8은 본 개시의 일 실시예에 따른 단말의 동작을 나타낸 도면이다. 도 9는 본 개시의 일 실시예에 따른 기지국의 동작을 나타낸 도면이다. 도 10은 본 개시의 일 실시예에 따른 단말의 구조를 도시한 도면이다. 도 11은 본 개시의 일 실시예에 따른 무선 통신 시스템에서 TRP의 블록 구성을 도시한 도면이다. 도 12는 본 개시의 일 실시예에 따른 이더넷 (EthHC, ethernet header compression) 헤더 압축 방법을 나타낸 도면이다. 도 13은 본 개시의 일 실시예에 따른 동작을 설명하기 위한 흐름도이다."}
