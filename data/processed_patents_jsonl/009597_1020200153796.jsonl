{"patent_id": "10-2020-0153796", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2022-0067271", "출원번호": "10-2020-0153796", "발명의 명칭": "영상취득장치 및 영상취득방법", "출원인": "인트플로우 주식회사", "발명자": "전광명"}}
{"patent_id": "10-2020-0153796", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "카메라를 포함하는 구동장치; 및 상기 구동장치와 직접 연결되는 엣지장치를 포함하고,상기 엣지장치에는, 상기 구동장치에서 입력되는 영상을 입력받는 이미지 입력부;상기 이미지 입력부를 통하여 입력된 이미지에 포함되는 객체를 검출하는 객체검출부; 상기 이미지 입력부를 통하여 입력된 이미지에 포함되는 객체를 식별하는 식별자를 관리하는 식별자 관리부;상기 객체와 상기 식별자를 메타데이터로 저장하는 메타데이터취득부;상기 이미지에서 이벤트가 발생하였는지를 판정하는 이벤트 판정부;상기 이벤트 판정부에서 상기 이벤트가 발생하지 않은 것으로 판단하는 경우에 순찰모드에 해당하는 제어명령을전송하는 순찰모드구동부;상기 이벤트 판정부에서 상기 이벤트가 발생한 것으로 판단하는 경우에, 상기 메타데이터를 이용하여 우선 추적해야 하는 객체를 판정하는 우선순위객체판정부;상기 우선순위객체판정부에서 판정된 우선순위에 따라서, 상기 객체를 순차로 추적하는 제어명령을 전송하는 순차추적모드구동부; 및상기 제어명령에 따라서 상기 카메라를 위한 제어 파라미터를 상기 구동장치로 전송하는 카메라 제어부가 포함되는 영상취득장치."}
{"patent_id": "10-2020-0153796", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서, 상기 카메라는 PTZ카메라인 영상취득장치."}
{"patent_id": "10-2020-0153796", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 2 항에 있어서, 상기 순차추적모드구동부는 모든 객체를 상기 우선순위에 따라서 순차추적하는 영상취득장치."}
{"patent_id": "10-2020-0153796", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 1 항에 있어서, 상기 순차추적모드구동부는 추적하도록 선정된 객체가 카메라 화각의 가운데에 오도록 상기 제어명령을 발하는영상취득장치."}
{"patent_id": "10-2020-0153796", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 4 항에 있어서, 상기 순차주적모드는, 공개특허 10-2022-0067271-3-의 범위에서 구동하고, 여기서, P, T는 이산화된 카메라의 좌우 또는 상하의 최대 이동범위이고, X, Y는 카메라의 해상도의 가로 세로화소값이고, x와 y는 객체의 중심점인 영상취득장치."}
{"patent_id": "10-2020-0153796", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 5 항에 있어서, 상기 순차추적모드구동부는 카메라의 pan, tilt, 및 zoom구동에 해당하는 제어명령을 상기 카메라 제어부로 전송하는 영상취득장치."}
{"patent_id": "10-2020-0153796", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제 2 항에 있어서, 상기 카메라 제어부는 상기 순차추적모드와 상기 순찰모드에 대응하는 카메라 제어 파라미터를, ONVIF(OpenNetwork Video Interface Forum) 프로토콜에 따라서, 상기 구동장치로 전송하는 영상취득장치."}
{"patent_id": "10-2020-0153796", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 1 항에 있어서, 상기 엣지장치는 상기 구동장치와 네트워크를 통하지 않고 바로 연결되는 영상취득장치."}
{"patent_id": "10-2020-0153796", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 1 항에 있어서, 상기 이미지 입력부는 RTSP(real-time streaming protocol)를 통하여 프레임 단위로 정보를 입력받는 영상취득장치."}
{"patent_id": "10-2020-0153796", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제 1 항에 있어서, 상기 객체검출부는 상기 객체의 클래스(c)와 객체의 상태(s)를 검출하는 영상취득장치."}
{"patent_id": "10-2020-0153796", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제 1 항에 있어서, 상기 식별자는 각 객체의 좌표(x1, x2, y1, y2)인 영상취득장치."}
{"patent_id": "10-2020-0153796", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제 1 항에 있어서, 상기 객체검출부 및 상기 식별자관리부에는 인공지능에 의해서 학습된 학습모델이 탑재되는 영상취득장치."}
{"patent_id": "10-2020-0153796", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제 12 항에 있어서, 상기 학습모델은 단일개체 식별신경망으로 구성하여 제공된 피쳐 파라미터가 추가처리되고, 공개특허 10-2022-0067271-4-상기 추가처리에는, 피쳐 재적합, 및 양자화 가정 훈련이 포함되는 영상취득장치."}
{"patent_id": "10-2020-0153796", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제 1 항에 있어서, 상기 이벤트 판정부에서 상기 이벤트의 발생은, 특정객체가 이미지 내에 존재하는 지의 여부, 특정객체가 이미지 내에 얼마나 오래 존재하는 지의 여부, 및 다수의 객체들이 특정의 패턴으로 공존하는 지의 여부로 판단하는영상취득장치."}
{"patent_id": "10-2020-0153796", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제 1 항에 있어서, 상기 우선순위는, 위험 또는 이상상태에 있는 신뢰도가 높은 객체를 우선하는 영상취득장치."}
{"patent_id": "10-2020-0153796", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제 15 항에 있어서, 상기 우선순위는, 로 정해지고, 여기서, p는 우선순위, i와 j는 객체의 번호, c는 객체의 종류, ω는 객체의 종류별 가중치, t는 생성지속시간, d는 객체간이 거리인 영상취득장치."}
{"patent_id": "10-2020-0153796", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "순찰모드가 수행하는 중에 이벤트가 발생한 것을 감지하는 것;상기 이벤트가 발생한 경우에, 우선순위를 정하여 그 순이가 높은 객체를 우선하여 추적하는 순차추적모드를 수행하는 것; 어느 하나의 객체에 대한 추적이 종료하면 다음 우선순위를 가지는 객체를 추적하고, 상기 우선순위에 따라서모든 객체에 대하여 추적을 수행하는 것이 수행되는 영상추적방법."}
{"patent_id": "10-2020-0153796", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "제 17 항에 있어서, 모든 객체에 대한 추적이 종료한 후에는, 상기 이벤트가 발생하였는지의 여부를 다시 판단하여, 여전지 같은 이벤트가 계속 중인 때에는 상기 순차추적모드를 계속 수행하고, 상기 이벤트가 종료한 경우에는 상기 순찰모드로복귀하는 것이 포함되는 영상취득방법."}
{"patent_id": "10-2020-0153796", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명의 영상취득장치는, 카메라를 포함하는 구동장치; 및 상기 구동장치와 직접 연결되는 엣지장치를 포함한 다."}
{"patent_id": "10-2020-0153796", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 뱔명은 영상취득장치 및 영상취득방법에 대한 것이다."}
{"patent_id": "10-2020-0153796", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "영상취득장치의 대표적인 예는 폐쇄회로텔레비전(CCTV)이다. 종래 영상취득장치는 대부분 단순한 영상취득, 영 상송출, 및 영상저장의 기능만을 수행한다. 영상취득장치 사용자는 직접 눈으로 보고서 감시활동을 할 수 있을 뿐이다. 상기 영상취득장치를 지능화하는 방법으로는, 클라우드 환경을 이용하여 서버/클라이언트 시스템을 구축할 수 있다. 상기 클라우드 환경은 설비 비용이 많이 드는 문제가 있다. 상기 클라우드환경은 국가단위 또는 광역단위 에서는 적용할 수 있을 뿐이다. 이들 문제를 해소하고 소규모 단위의 영상취득장치에 적합한 방법으로서, 엣지컴퓨팅장치(이하, 줕여서 엣지장 치)를 이용하는 방법이 있다. 이 대표적인 방법으로는 인용문헌 1을 예로 들 수 있다. 상기 인용문헌 1은 실시간으로 영상을 분석하는 방법론을 제시한다. 선행기술문헌 비특허문헌 (비특허문헌 0001) Barthelemy, J., Verstaevel, N., Forehead, H., & Perez, P. . Edge-computing video analytics for real-time traffic monitoring in a smart city. Sensors, 19, 2048"}
{"patent_id": "10-2020-0153796", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "인용문헌 1의 엣지장치를 이용하는 종래 영상취득장치는, 영상 속의 각 객체에 대한 상세한 추적이 불가능한 문 제가 있다."}
{"patent_id": "10-2020-0153796", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 영상취득장치는, 카메라를 포함하는 구동장치; 및 상기 구동장치와 직접 연결되는 엣지장치를 포함한 다. 상기 엣지장치는, 상기 구동장치에서 입력되는 영상을 입력받는 이미지 입력부; 상기 이미지 입력부를 통하여 입력된 이미지에 포함되는 객체를 검출하는 객체검출부; 및 상기 객체와 상기 식별자를 메타데이터로 저장하는 메타데이터취득부를 포함할 수 있다. 상기 이미지 입력부를 통하여 입력된 이미지에 포함되는 객체를 식별하는 식별자를 관리하는 식별자 관리부를 더 포함하여, 한번 인식된 객체를 식별자로 관리할 수 있다. 상기 이미지에서 이벤트가 발생하였는지를 판정하는 이벤트 판정부를 포함할 수 있다. 상기 이벤트 판정부에서 상기 이벤트가 발생하지 않은 것으로 판단하는 경우에 순찰모드에 해당하는 제어명령을 전송하는 순찰모드구동부가 포함할 수 있다. 상기 영상취득장치는 순찰기능을 수행할 수 있다. 상기 이벤트 판정부에서 상기 이벤트가 발생한 것으로 판단하는 경우에, 상기 메타데이터를 이용하여 우선 추적 해야 하는 객체를 판정하는 우선순위객체판정부; 상기 우선순위객체판정부에서 판정된 우선순위에 따라서, 상기 객체를 순차로 추적하는 제어명령을 전송하는 순차추적모드구동부가 포함될 수 있다. 모든 객체에 대한 추적을 수행함으로써, 현재의 이벤트에 대한 정확한 내용을 파악하는데 도움을 줄 수 있다. 상기 제어명령에 따라서 상기 카메라를 위한 제어 파라미터를 상기 구동장치로 전송하는 카메라 제어부가 포함 될 수 있다. 상기 카메라는 PTZ카메라일 수 있다. 상기 PZT카메라를 조작하여 각 객체를 더 정확차게 추적할 수 있다. 상기 순차추적모드구동부는 모든 객체를 상기 우선순위에 따라서 순차추적할 수 있다. 상기 순차추적모드구동부는 추적하도록 선정된 객체가 카메라 화각의 가운데에 오도록 상기 제어명령을 전송할 수 있다. 어느 객체의 영상을 더 정확하게 얻을 수 있다.상기 순차주적모드는, 의 범위에서 구동할 수 있다. 여기서, P, T는 이 산화된 카메라의 좌우 또는 상하의 최대 이동범위이고, X, Y는 카메라의 해상도의 가로 세로 화소값이고, x와 y 는 객체의 중심점일 수 있다. 상기 순차추적모드구동부는 카메라의 pan, tilt, 및 zoom구동에 해당하는 제어명령을 상기 카메라 제어부로 전 송할 수 있다. 상기 카메라 제어부는, ONVIF(Open Network Video Interface Forum) 프로토콜에 따라서 신호를 전송할 수 있다. 상기 엣지장치는 상기 구동장치와 네트워크를 통하지 않고 바로 연결될 수 있다. 상기 이미지 입력부는 RTSP(real-time streaming protocol)를 통하여 프레임 단위로 정보를 입력받을 수 있다. 상기 객체검출부는 상기 객체의 클래스(c)와 객체의 상태(s)를 검출할 수 있다. 상기 식별자는 각 객체의 좌표(x1, x2, y1, y2)일 수 있다. 상기 객체검출부 및 상기 식별자관리부에는 인공지능에 의해서 학습된 학습모델이 탑재될 수 있다. 상기 학습모델은 단일개체 식별신경망으로 구성하여 제공된 피쳐 파라미터가 추가처리될 수 있다. 그리고, 상기 추가처리에는, 피쳐 재적합, 및 양자화 가정 훈련이 포함될 수 있다. 이에 따르면 엣지장치에 적합하도록 용량 이 작고 빠르게 동작하는 학습모델을 구현할 수 있다. 상기 이벤트 판정부에서 상기 이벤트의 발생은, 특정객체가 이미지 내에 존재하는 지의 여부, 특정객체가 이미 지 내에 얼마나 오래 존재하는 지의 여부, 및 다수의 객체들이 특정의 패턴으로 공존하는 지 중의 어느 하나의 판단인자에 따라서 상기 이벤트를 판단할 수 있다. 상기 우선순위는, 위험 또는 이상상태에 있는 신뢰도가 높은 객체를 우선하도록 할 수 있다. 상기 우선순위는, 로 정해질 수 있다. 여기서, p는 우선순위, i와 j는 객체의 번호, c는 객체의 종류, ω는 객체의 종류별 가중치, t는 생성 지속시간, d는 객체간의 거리일 수 있다. 다른 측면에 따른 본 발명의 영상취득방법은, 순찰모드가 수행하는 중에 이벤트가 발생한 것을 감지하는 것; 상 기 이벤트가 발생한 경우에, 우선순위를 정하여 그 순이가 높은 객체를 우선하여 추적하는 순차추적모드를 수행 하는 것; 및 어느 하나의 객체에 대한 추적이 종료하면 다음 우선순위를 가지는 객체를 추적하고, 상기 우선순 위에 따라서 모든 객체에 대하여 추적을 수행하는 것이 수행될 수 있다. 모든 객체에 대한 추적이 종료한 후에는, 상기 이벤트가 발생하였는지의 여부를 다시 판단하여, 여전지 같은 이 벤트가 계속 중인 때에는 상기 순차추적모드를 계속 수행하고, 상기 이벤트가 종료한 경우에는 상기 순찰모드로 복귀할 수 있다."}
{"patent_id": "10-2020-0153796", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따르면, PZT 카메라를 이용하여 영상 속의 각 객체를 상세하게 추적할 수 있다. 본 발명에 따르면, 이상상황의 판별의 정확도가 향상된다. 본 발명에 따르면, 이상상황 시에, 이상상황을 일으킨 객체의 관련영상을 신속하고 정확하게 획득할 수 있다. 본 발명에 따르면, 이상상황 시에 PZT 카메라의 활용성을 높일 수 있다. 본 발명에 따르면, 엣지장치를 이용하여 저렴하게 영상취득장치를 구동할 수 있다."}
{"patent_id": "10-2020-0153796", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하에서는 도면을 참조하여 본 발명의 구체적인 실시예를 설명한다. 본 발명의 사상은 이하에 제시되는 실시예 에 제한되지 않고, 본 발명의 사상을 이해하는 당업자는 동일한 사상의 범위 내에 포함되는 다른 실시예를 구성 요소의 부가, 변경, 삭제, 및 추가 등에 의해서 용이하게 제안할 수 있을 것이나. 이 또한 본 발명 사상의 범위 내에 포함된다고 할 것이다. 도 1은 실시예에 따른 영상취득장치의 구성을 보이는 도면이다. 본 발명의 영상취득장치는, 카메라를 포함하는 구동장치와, 상기 구동장치를 제어하는 엣지장치를 포함할 수 있다. 상기 엣지장치는, 엣지컴퓨팅이 가능하거나, 실시간 데이터 처리가 가능하거나, 지연시간을 제거하거나, 상 기 구동장치와 인접하여 설치되는 특징을 가질 수 있다. 상기 엣지장치는 상기 특징 모두 또는 적어도 일 부를 가질 수 있다. 상기 엣지장치는 원거리 통신이 필요한 서버/클라이언트 시스템과는 반대되는 특징을 가 질 수 있다. 상기 카메라는 PTZ카메라를 이용할 수 있다. 상기 PTZ카메라는, P(Pan: 수평이동), T(Tilt: 수직이동), 및 Z(Zoom:확대) 구동이 가능한 카메라를 지칭할 수 있다. 상기 카메라는 PTZ 외의 다른 동작을 할 수 있다. 상기 구동장치는 상기 카메라의 동작, 통신, 및 전력에 소요되는 다른 구성요소를 포함할 수 있다. 상기 엣지장치는 상기 구동장치와 바로 연결될 수 있다. 상기 엣지장치는 상기 구동장치와 인접하 여 놓일 수 있다. 상기 엣지장치는 상기 구동장치와 네트워크를 통하지 않고 바로 연결될 수 있다. 상기 엣지장치는 상기 구동장치를 제어할 수 있다. 상기 엣지장치는 상기 구동장치에서 입력되는 영상을 처리할 수 있다. 상기 엣지장치의 구성 및 작용을 상세하게 설명한다. 하나 또는 그 이상의 실시예에서, 상기 엣지장치는, 구동장치에서 입력되는 영상을 입력받는 이미지 입력부(1 1)를 포함할 수 있다. 상기 이미지 입력부는 프레임 단위로 이미지를 입력받을 수 있다. 상기 이미지 입력 부는 RTSP(real-time streaming protocol)를 통하여 프레임 단위로 영상정보를 입력받을 수 있다. 이를 통하여 상기 엣지장치는 상기 구동장치의 정보를 실시간으로 처리할 수 있다. 선택적으로, 상기 이미지 입력부를 통하여 입력된 이미지는, 이미지에 포함되는 객체를 검출하는 객체검출부 에 입력될 수 있다. 상기 객체검출부로는, 상기 프레임의 흐름에서 N배수마다 하나의 프레임(Fo)이 규칙적 으로 입력될 수 있다. 상기 이미지 입력부를 통하여 입력된 이미지는, 이미지에 포함되는 객체를 식별하는 식별 자 관리부에 입력될 수 있다. 상기 식별자 관리부로는, 상기 프레임의 흐름에서 객체검출부에서 처리되는 프레임을 제외하는 프레임(Fi)이 입력될 수 있다. 모든 이미지 프레임(F)은, 객체검출부로 입력되는 프레임(F o)과 식별자 관리부로 입력되는 프레임(Fi)으로 이미지 처리가 분리될 수 있다. 선택적으로, 상기 객체는 사람, 차량, 및 이륜차의 세 개의 클래스(c)로 구분할 수 있다. 상기 객체검출부는 이 미지 내의 각 객체를 상기 세 개의 클래스를 구분하여 검출하는 것을 예시할 수 있다. 상기 객체검출부는 해당 객체의 상태(s)를 구분할 수 있다. 예를 들어, 사람이 서있음. 및 사람이 쓰러짐을 구분하여 검출하는 것을 예 시할 수 있다. 상기 객체의 클래스(c)를 사람(서있음), 사람(쓰러짐), 차량, 및 이륜차로 나누고, 상기 객체의 상태(s)를 더 다양하게 구현할 수도 있다. 선택적으로, 상기 식별자는 각 객체의 좌표(x1, x2, y1, y2)를 구분할 수 있다. 상기 식별자관리부는 적어도 두 개의 상기 객체를 좌표로 구분하여 식별자를 달리하여 관리할 수 있다. 하나 또는 그 이상의 실시예에서, 상기 객체검출부 및 상기 식별자관리부에는 학습모델이 탑재될 수 있다. 상기 학습모델은 도로의 이미지와 그에 대한 주석을 이용하여 제공될 수 있다. 상기 학습모델을 제공하기 위하여 컨벌루션 인공지능 신경망을 활용하였다. 상기 학습모델을 제공하기 위하여 ResNet18과 완전 연결 레이 어로 이루어진 단일개체 식별신경망으로 구성할 수 있다. 하나 또는 그 이상의 실시예에서, 상기 신경망으로 제공되는 피쳐 파라미터는 상기 엣지장치에 구동이 가능 하도록 하기 위하여, 추가처리가 수행될 수 있다. 구체적으로, 일반적인 모델 학습의 결과를 표현하는 full- precision floating point의 연산은 엣지컴퓨팅 연산장치에서 매우 느린 속도를 보인다. 그러므로, 엣지장치의 잇점을 살리기 위하여, 훈련된 객체검출 및 식별 신경망 피처 파라미터를 최적화하는 것이 바람직하다. 상기 추 가처리는 다음 두 가지 처리 중의 적어도 하나를 포함할 수 있다. 첫째, 신경망 가지치기를 수행하여 신경망 추론에 영향력이 적은 피처 파라미터들을 누락시킨 뒤, 재 훈련하여 가지치기 된 신경망을 데이터에 재적합시킨다. 이를 피쳐 재적합이라고 이름할 수 있다. 예를 들어, 상기 피터 재적합 방법은, Hu, H., Peng, R., Tai, Y. W., & Tang, C. K. . Network trimming: A data-driven neuron pruning approach towards efficient deep architectures. arXiv preprint arXiv:1607.03250에 제공되 는 방법을 적용할 수 있다. 둘째, 상기 피터 재적합방법으로 일차적으로 경량화된 신경망들은 quantization aware training 기법을 통해 양 자화를 가정하여 한번 더 최적 훈련을 진행할 수 있다. 이를 통하여, 최종적으로 목표하는 장치의 데이터표현형 에 맞게 변환될 수 있다. 이를 양자화 가정 훈련이라고 할 수 있다. 예를 들어, 상기 양자화 가정 훈련은, Park, E., Yoo, S., & Vajda, P. . Value-aware quantization for training and inference of neural networks. In Proceedings of the European Conference on Computer Vision (ECCV) (pp. 580-595)에 개시되는 방법을 적용할 수 있다. 선택적으로, 상기 추가처리가 된 각 학습모델은 상기 객체검출부 및 상기 식별자관리부에 수록될 수 있다. 상기 객체검출부 및 상기 식별자관리부는 각각 입력된 이미지를 상기 학습모델에 적용하여, 객 체검출결과(c), 객체상태결과(s), 및 식별자(x1, x2, y1, y2)를 제공할 수 있다. 상기 객체검출결과(c), 객체상 태결과(s), 및 식별자(x1, x2, y1, y2)는 메타데이터로서 메타데이터취득부에 저장될 수 있다. 상기 메타데 이터는 순찰모드, 및 순차추적모드의 구동을 위한 기본데이터로서 작용할 수 있다. 상기 메타데이터는 상기 카 메라를 구동하는 정보로서 활용할 수 있다. 상기 카메라는 PTZ카메라 일 수 있다. 도 2는 객체검출, 객체상태, 및 식별자가 부여된 예를 보인다. 도 2를 참조하면, 각 객체는 박스로 표시된 것을 확인할 수 있다. 상기 객체로는 사람(객체)이 서있는 경우(객 체상태), 및 차량이 검출된 것을 볼 수 있다. 다시 도 1을 참조하면, 선택적으로, 상기 모든 이미지 프레임(F)은 이벤트 판정부로 입력될 수 있다. 상기 이벤트 판정부는 이벤트가 발생하였는지를 판단할 수 있다. 상기 이벤트는 상기 이상상태를 포함할 수 있다. 상기 이벤트의 발생은, 첫째 특정객체가 이미지 내에 존재하는 지의 여부, 둘째 특정객체가 이미지 내에 얼마나 오래 존재하는 지의 여부, 및 다수의 객체들이 특정의 패턴으로 공존하는 지의 여부로 판단할 수 있다. 예를 들어, 몇 명의 사람, 자동차, 이륜차량이 움직이는 영상에서, 상기 패턴은 다음의 예를 들 수 있다. 첫째, 사람이 쓰러지는 것(감시상황), 둘째, 사람이 차에 치는데 차가 멈추는 것(사고발생), 및 셋째, 사람이 차에 치 는데 차가 멈추는 것(뺑소니)을 예시할 수 있다. 상기 세가지 패턴은 모두 이벤트가 발생한 것으로 판단할 수 있다. 선택적으로, 상기 이벤트 판정부에서 상기 이벤트가 발생하지 않은 것으로 판단하는 경우에는 순찰모드 구 동부에서 순찰모드를 수행할 수 있다. 상기 순찰모드는 상기 카메라가 정기적으로 pan 구동하는 것을 예시할 수 있다. 상기 순찰모드구동부는 카메라의 pan구동에 해당하는 제어명령을 카메라 제어부로 송 신할 수 있다. 상기 제어명령은 상기 순찰모드에 대응하는 카메라 제어 파라미터를 포함할 수 있다. 상기 카메 라 제어부는 상기 순찰모드에 대응하는 카메라 제어 파라미터를 ONVIF(Open Network Video Interface Forum) 프로토콜에 따라서, 구동장치로 전송할 수 있다. 상기 구동장치의 상기 카메라는 PTZ 카메라 일 수 있다. 상기 카메라는 상기 순찰모드에 따라서 pan구동할 수 있다. 상기 이벤트 판정부에서 상기 이벤트가 발생한 판단하는 경우에는 우선순위객체판정부로 상기 메타데이터가 전달될 수 있다. 선택적으로, 상기 우선순위객체판정부는, 상기 메타데이터를 이용하여 우선 추적해야 하는 객체를 정할 수 있다. 우선 추적해야 하는 객체는, 위험 또는 이상상태에 있는 신뢰도가 높은 객체를 우선하여 선정할 수 있다. 예를 들어, 수학식 1을 이용하여 우선 추적해야 하는 객체를 정할 수 있다. 수학식 1"}
{"patent_id": "10-2020-0153796", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "여기서, p는 우선순위, i와 j는 객체의 번호, c는 객체의 종류, ω는 객체의 종류별 가중치, t는 생성 지속시간, d는 객체간이 거리를 의미할 수 있다. 예를 들어, ω는, 사람이 쓰러진 경우는 10, 자동차는 2, 이륜 차는 2, 사람이 서 있는 경우는 1로 설정할 수 있다. 상기 수학식 1에 따라서, p값이 큰 객체의 우선순위가 높도록 할 수 있다. 우선순위가 높은 객체부터 순차적으 로 추적할 수 있다. 선택적으로, 상기 순차추적은 순차추적모드구동부에 의해서 수행할 수 있다. 상기 순차추적모드구동부 는 모든 객체를 상기 우선순위에 따라서 순차추적할 수 있다. 어느 하나의 객체에 대한 추적을 일정시간동안 수 행한 다음에는, 다음 우선순위의 객체를 추적할 수 있다. 객체 간의 순차추적에는 SORT(simple online and realtime tracking)이 적용될 수 있다. 상기 SORT 알고리즘의 구체적인 예는 A Bewley, Z Ge, L Ott, F Ramos & B Upcroft, \"Simple online and realtime tracking,\" 2016 IEEE International Conference on Image Processing(ICIP), IEEE, pp3464-3468, Sept 2016의 기술을 적용할 수 있다. 하나 또는 그 이상의 실시예에서, 상기 순차추적모드구동부는 추적하도록 선정된 객체가 카메라 화각의 가 운데에 오도록 할 수 있다. 예를 들어, 상기 순차주적모드는 수학식 2에 의해서 구동할 수 있다. 수학식 2"}
{"patent_id": "10-2020-0153796", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "여기서, P, T는 이산화된 카메라의 좌우 또는 상하의 최대 이동범위이고, X, Y는 카메라의 해상도의 가로 세로 화소값이고, x와 y는 중심점이다. 선택적으로, 상기 순차추적모드구동부는 카메라의 pan, tilt, 및 zoom 구동에 해당하는 제어명령을 카메라 제어부로 송신할 수 있다. 예를 들어, 상기 수학식 2에 따라서, 추적대상인 객체위치(x, y)로 카메라를 이동시킬 수 있다. 상기 카메라를 상기 수학식 2의 일정 각도범위에서 이동(pan, tilt)할 수 있다. 줌기능은 확대가 필요한 경우에만 동작할 수 있다. 예를 들어, 객체가 사람이 쓰러진 경우에만 줌기능을 수행하도록 할 수 있다. 다른 예를 들어, 객체의 크 기가 작은 경우에만 줌기능을 수행하도록 할 수 있다. 또 다른 예를 들어, 카메라가 아래를 향하는 경우에는 이 미지를 상하기준으로 세 개로 나누고, 가장 윗 부분에 대해서는 2배줌을 실행하고, 가운데 부분에 대해서는 1.5 배 줌을 실행할 수 있다. 선택적으로, 상기 제어명령은 상기 순차주적모드에 대응하는 카메라 제어 파라미터를 포함할 수 있다. 상기 카 메라 제어부는 상기 순차추적모드에 대응하는 카메라 제어 파라미터를 ONVIF(Open Network Video Interface Forum) 프로토콜에 따라서, 구동장치로 전송할 수 있다. 상기 구동장치의 상기 카메라는 PTZ 카메라일 수 있다. 상기 카메라는 상기 순차추적모드에 따라서 pan/tilt/zoom 구동할 수 있다. 선택적으로, 상기 순찰모드구동부에 의한 구동결과 및 상기 순차추적모드구동부에 의한 구동결과에 대응하는 취 득된 영상은 메모리에 저장될 수 있다. 상기 메모리에는 다른 정보가 저장될 수 있음을 물론이다. 선택적으로, 상기 순차추적모드구동부는, 상기 우선순위에 따라서 모든 객체에 대하여 추적을 수행할 수 있 다. 이후에는, 상기 이벤트 판정부에서 상기 이벤트가 발생하였는지의 여부를 다시 판단할 수 있다. 여전지 이벤트가 계속 중인 때에는 상기 순차추적모드를 계속 수행할 수 있다. 상기 이벤트가 종료한 경우에는 상기 순 찰모드로 복귀할 수 있다. 이하에서는 본 발명에 따른 영상취득방법을 설명한다. 본 발명의 영상취득방법은 상기 영상취득장치를 이용하는 것을 바탕으로 할 수 있다. 본 발명의 영상취득방법에서 설명이 없는 것은 상기 영상취득장치의 설명이 적용되 는 것으로 이해할 수 있다. 도 3은 실시예에 따른 영상취득방법을 설명하는 도면이다. 도 3을 참조하면, 본 발명의 영상취득방법은 하나 또는 그 이상의 실시예에서, 상기 순찰모드가 수행하는 중에 상기 이벤트 판정부에서 이벤트가 발생한 것을 감지할 수 있다(S1). 상기 순찰모드의 수행 중에는, 상기 카 메라가 동작하여 상기 객체 및 상기 객체에 의한 식별자에 의한 메타데이터가 계속 저장될 수 있다. 상기 이벤트가 발생하면, 각 객체에 대한 우선순위가 판정될 수 있다(S1). 도 3의 예에서는 다섯개의 객체가 있다. 상기 객체에는 상기 우선순위가 번호로 주어져 있다. 하나 또는 그 이상의 실시예에서, 상기 우선순위가 높은 객체를 가장 먼저 추적할 수 있다(S2). 이에 따르면, 이상상태, 및 위험의 우려가 가장 큰 객체에 대하여 정확한 정보를 획득할 수 있다. 이 단계에서, 사람은 객체 의 크기가 작아서 줌기능이 수행될 수 있다. 선택적으로, 이후에는 이상상태, 및 위험의 우려가 낮아지는 순서로 각 객체에 대한 정확한 정보를 획득할 수 있다(S3). 이 단계에서, 상기 객체는 순차적으로 추적될 수 있다. 다시 말하면, 어느 한 객체에 대한 추적이 종 료하면, 다음 객체에 대한 추적을 실시할 수 있다. 상기 순차추적모드는 다른 말로 집충추적모드라고 정의할 수도 있다. 어느 한 객체에 대하여 집중적으로 이미지 를 획득하기 때문이다. 실시예를 실험한 결과를 표 1에 제시한다. 표 1 평가지표 단위 성능(비교군) 성능(본발명) 객체검출 정확성 mAP 91.2 90.1 이상사건 판별 정확도F1 0.961 0.951 초당 처리속도 FPS 4.33 24.3 PTZ 제어 지연시간 ms 1011 105 여기시 비교군은, J Redmon and A Farhadi, “Yolov3: An incremental improvement,” arXiv preprint arXiv:180402767 Apr 2018와 상기 SORT와 기성 PTZ카메라를 적용한 시스템이다. 여기서, 성능 평가 지표로는 객체 별 검출 정확성의 mean average precision (mAP), 돌발상황에 대한 이상사건 판별 정확성(F1), 초당 처리속도(frame per second, FPS), 및 PTZ 제어 지연시간(ms)을 측정하였다. 실험에 사용하는 HW 시스템은 NVIDIA社의 Jetson Xavier AGX Developer Kit 이 사용되었고 SW로는 Python3 및 관련 의존성 라이브러리들이 활용되었다. 상기 객체는 사람(서있음), 사람(쓰러짐), 차량, 및 이륜차의 네 개의 클래스를 구분하여 검출하도록 개발되었 으며 이를 훈련하기 위해 차량, 사람, 이륜차 등을 포함한 도로 이미지 7,481 건의 이미지 및 주석을 정제하였 다. 이때 훈련데이터의 총 수집 기간은 7일이었으며 여기서 추출된 이미지의 해상도는 720x480 에서 1920x1080 까지 다양한 크기를 지녔다.비교기술은 학습 능력에 힘입어 객체검출 정확성과 이상사건 판별 정확성에 있어 높은 성능을 달성했다. 하지만 초당 처리속도가 4.33FPS 수준으로 실사용이 어려운 수준을 보였다. 또한 단순 PTZ제어 역시 1초대의 지연 시간 을 보였는데, 이는 사용된 HW의 가용 자원의 부족에 따른 현상인 것으로 보인다. 이에 반하여, 제안하는 방법은 화면 내 객체검출 및 이상사건 판별 정확성에 있어 비교군과 대등한 수준의 높은 정확성을 보이면서도 평균 24.3 FPS라는 실시간 활용이 가능한 수준의 수행속도를 보여주었다. 또한 PTZ 제어 delay도 01초 수준으로 현장 상황을 인지하고 대응하는 데 충분한 반응속도를 지니는 것으로 확인되었다. 이에 따르면 본 발명은 엣시장치에 구현이 가능한 영상취득장치 및 영상취득방법의 구현이 가능한 것을 확인할 수 있다. 산업상 이용가능성 본 발명에 따르면 엣지장치에서 구현이 가능한 영상취득장치 및 영상취득방법을 구현할 수 있다."}
{"patent_id": "10-2020-0153796", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 실시예에 따른 영상취득장치의 구성을 보이는 도면. 도 2는 객체검출, 객체상태, 및 식별자가 부여된 예를 보이는 도면. 도 3은 실시예에 따른 영상취득방법을 설명하는 도면."}
