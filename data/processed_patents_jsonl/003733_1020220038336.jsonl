{"patent_id": "10-2022-0038336", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0139683", "출원번호": "10-2022-0038336", "발명의 명칭": "무선 통신 시스템에서 어플리케이션 데이터를 처리하는 장치 및 방법", "출원인": "삼성전자주식회사", "발명자": "백영교"}}
{"patent_id": "10-2022-0038336", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "무선 통신 시스템에서 제 1 전자 장치의 방법에 있어서,어플리케이션 서비스 플로우를 검출하는 과정과,상기 어플리케이션 서비스 플로우의 각 패킷에 상기 어플리케이션 서비스 플로우에 대한 QoS(Quality ofService) 정보를 추가하는 과정과,상기 QoS 정보가 추가된 각 패킷을 제 2 전자 장치로 송신하는 과정을 포함하며,상기 QoS 정보는 상기 어플리케이션 서비스 플로우에 대한 QFI(QoS flow identifier) 정보, 상기 각 패킷에 포함된 어플리케이션 데이터의 중요도 정보, 및 상기 어플리케이션 데이터의 시퀀스 번호(sequence number)를 포함함을 특징으로 하는 방법."}
{"patent_id": "10-2022-0038336", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서,상기 각 패킷의 중요도 정보와 시퀀스 번호를 기반으로 상기 각 패킷의 우선순위가 결정됨을 특징으로 하는 방법."}
{"patent_id": "10-2022-0038336", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 2 항에 있어서,상기 각 패킷의 우선순위는 상기 QFI에 대응하는 QoS 정책에 기반한 처리 우선순위를 나타냄을 특징으로 하는방법."}
{"patent_id": "10-2022-0038336", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 2 항에 있어서,우선순위가 임계값보다 낮은 적어도 하나의 패킷은 패킷 전송의 지연 또는 실패되는 상황이 발생되면 폐기됨을특징으로 하는 방법."}
{"patent_id": "10-2022-0038336", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 1 항에 있어서,상기 시퀀스 번호는 상기 어플리케이션 데이터와 다른 어플리케이션 데이터 간의 상관도를 확인하기 위해 이용됨을 특징으로 하는 방법."}
{"patent_id": "10-2022-0038336", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 5 항에 있어서,상기 어플리케이션 데이터의 시퀀스 번호와 상기 다른 어플리케이션 데이터의 시퀀스 번호 간의 차이가 임계값공개특허 10-2023-0139683-3-미만이면, 상기 어플리케이션 데이터와 다른 어플리케이션 데이터 간의 상관도가 높음으로 식별되고,상기 어플리케이션 데이터의 시퀀스 번호와 상기 다른 어플리케이션 데이터의 시퀀스 번호 간의 차이가 임계값이상 크면, 상기 어플리케이션 데이터와 다른 어플리케이션 데이터 간의 상관도가 낮음으로 식별됨을 특징으로하는 방법."}
{"patent_id": "10-2022-0038336", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "무선 통신 시스템에서 제 1 전자 장치에 있어서,송수신부와,프로세서를 포함하며,상기 프로세서는, 어플리케이션 서비스 플로우를 검출하고,상기 어플리케이션 서비스 플로우의 각 패킷에 상기 어플리케이션 서비스 플로우에 대한 QoS(Quality ofService) 정보를 추가하고,상기 QoS 정보가 추가된 각 패킷을 제 2 전자 장치로 송신하도록 상기 송수신부를 제어하며,상기 QoS 정보는 상기 어플리케이션 서비스 플로우에 대한 QFI(QoS flow identifier) 정보, 상기 각 패킷에 포함된 어플리케이션 데이터의 중요도 정보, 및 상기 어플리케이션 데이터의 시퀀스 번호(sequence number)를 포함함을 특징으로 하는 제 1 전자 장치."}
{"patent_id": "10-2022-0038336", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 7 항에 있어서,상기 각 패킷의 중요도 정보와 시퀀스 번호를 기반으로 상기 각 패킷의 우선순위가 결정됨을 특징으로 하는 제1 전자 장치."}
{"patent_id": "10-2022-0038336", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 8 항에 있어서,상기 각 패킷의 우선순위는 상기 QFI에 대응하는 QoS 정책에 기반한 처리 우선순위를 나타냄을 특징으로 하는제 1 전자 장치."}
{"patent_id": "10-2022-0038336", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제 8 항에 있어서,우선순위가 임계값보다 낮은 적어도 하나의 패킷은 패킷 전송의 지연 또는 실패되는 상황이 발생되면 폐기됨을특징으로 하는 제 1 전자 장치."}
{"patent_id": "10-2022-0038336", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제 7 항에 있어서,상기 시퀀스 번호는 상기 어플리케이션 데이터와 다른 어플리케이션 데이터 간의 상관도를 확인하기 위해 이용됨을 특징으로 하는 제 1 전자 장치.공개특허 10-2023-0139683-4-청구항 12 제 11 항에 있어서,상기 어플리케이션 데이터의 시퀀스 번호와 상기 다른 어플리케이션 데이터의 시퀀스 번호 간의 차이가 임계값미만이면, 상기 어플리케이션 데이터와 다른 어플리케이션 데이터 간의 상관도가 높음으로 식별되고,상기 어플리케이션 데이터의 시퀀스 번호와 상기 다른 어플리케이션 데이터의 시퀀스 번호 간의 차이가 임계값이상 크면, 상기 어플리케이션 데이터와 다른 어플리케이션 데이터 간의 상관도가 낮음으로 식별됨을 특징으로하는 제 1 전자 장치."}
{"patent_id": "10-2022-0038336", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 개시는보다 높은 데이터 전송률을 지원하기 위한 5G 또는 6G 통신 시스템에 관련된 것이다. 본 개시의 다양한 실시 예들은 무선 통신 시스템에서 제 1 전자 장치가 어플리케이션 서비스 플로우를 검출하고, 상기 어플리케이 션 서비스 플로우의 각 패킷에 상기 어플리케이션 서비스 플로우에 대한 QoS(Quality of Service) 정보를 추가하 고, 상기 QoS 정보가 추가된 각 패킷을 제 2 전자 장치로 송신하며, 상기 QoS 정보는 상기 어플리케이션 서비스 플로우에 대한 QFI(QoS flow identifier) 정보, 상기 각 패킷에 포함된 어플리케이션 데이터의 중요도 정보, 및 상기 어플리케이션 데이터의 시퀀스 번호(sequence number)를 포함함을 특징으로 한다."}
{"patent_id": "10-2022-0038336", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 개시의 다양한 실시 예들은 무선 통신 시스템에서 어플리케이션 데이터를 처리하는 방법 및 장치에 관한 것 이다."}
{"patent_id": "10-2022-0038336", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "5G 이동 통신 기술은 빠른 전송 속도와 새로운 서비스가 가능하도록 넓은 주파수 대역을 정의하고 있으며, 3.5 기가 헤르츠(3.5GHz) 등 6GHz 이하 주파수(Sub 6GHz) 대역은 물론 28GHz와 39GHz 등 밀리미터파(㎜Wave)로 불 리는 초고주파 대역(Above 6GHz)에서도 구현이 가능하다. 또한, 5G 통신 이후(Beyond 5G)의 시스템이라 불리어 지는 6G 이동 통신 기술의 경우, 5G 이동 통신 기술 대비 50배 빨라진 전송 속도와 10분의 1로 줄어든 초저 (UltraLow) 지연 시간을 달성하기 위해 테라헤르츠(Terahertz) 대역(예를 들어, 95GHz에서 3 테라헤르츠(3THz) 대역과 같은)에서의 구현이 고려되고 있다. 5G 이동 통신 기술의 초기에는, 초광대역 서비스(enhanced Mobile BroadBand: eMBB), 고신뢰/초저지연 통신 (Ultra-Reliable Low-Latency Communications: URLLC), 대규모 기계식 통신(massive Machine-Type Communications: mMTC)에 대한서비스 지원과 성능 요구 사항 만족을 목표로, 초고주파 대역에서의 전파의 경로 손실 완화 및 전파의 전달 거리를 증가시키기 위한 빔포밍(Beamforming) 및 거대 배열 다중 입출력(Massive MIMO), 초고주파수 자원의 효율적 활용을 위한 다양한 뉴머롤로지 지원(복수 개의 서브캐리어 간격 운용 등)와 슬롯 포맷에 대한 동적 운영, 다중 빔 전송 및 광대역을 지원하기 위한 초기 접속 기술, BWP(Band-Width Part) 의 정의 및 운영, 대용량 데이터 전송을 위한 LDPC(Low Density Parity Check) 부호와 제어 정보의 신뢰성 높은 전송을 위한 폴라 코드(Polar Code)와 같은 새로운 채널 코딩 방법, L2 선-처리(L2 pre-processing), 특정 서 비스에 특화된 전용 네트워크를 제공하는 네트워크 슬라이싱(Network Slicing) 등에 대한 표준화가 진행되었다. 현재, 5G 이동 통신 기술이 지원하고자 했던 서비스들을 고려하여 초기의 5G 이동 통신 기술 개선(improvement) 및 성능 향상(enhancement)을 위한 논의가 진행 중에 있으며, 차량이 전송하는 자신의 위치 및 상태 정보에 기 반하여 자율 주행 차량의 주행 판단을 돕고 사용자의 편의를 증대하기 위한 V2X(Vehicle-to-Everything), 비면 허 대역에서 각종 규제 상 요구사항들에 부합하는 시스템 동작을 목적으로 하는 NR-U(New Radio Unlicensed), NR 단말 저전력 소모 기술(UE Power Saving), 지상망과의 통신이 불가능한 지역에서 커버리지 확보를 위한 단말 -위성 직접 통신인 비 지상 네트워크(Non-Terrestrial Network: NTN), 위치측위(Positioning)등의 기술에 대한 물리 계층 표준화가 진행 중이다. 뿐만 아니라, 타 산업과의 연계 및 융합을 통한 새로운 서비스 지원을 위한 지능형 공장(Industrial Internet of Things: IIoT), 무선 백홀 링크와 액세스 링크를 통합 지원하여 네트워크 서비스 지역 확장을 위한 노드를 제공하는 IAB(Integrated Access and Backhaul), 조건부 핸드오버(Conditional Handover) 및 DAPS(Dual Active Protocol Stack) 핸드오버를 포함하는 이동성 향상 기술(Mobility Enhancement), 랜덤 액세스 절차를 간소화하 는 2 단계 랜덤 액세스(2-step RACH for NR) 등의 기술에 대한 무선 인터페이스 아키텍쳐/프로토콜 분야의 표준 화역시 진행 중에 있으며, 네트워크 기능 가상화(Network Functions Virtualization: NFV) 및 소프트웨어 정의 네트워킹(Software-Defined Networking: SDN) 기술의 접목을 위한 5G 베이스라인 아키텍쳐(예를 들어, Service based Architecture: Service based Interface), 단말의 위치에 기반하여 서비스를 제공받는 모바일 에지 컴퓨 팅(Mobile Edge Computing: MEC) 등에 대한 시스템 아키텍쳐/서비스 분야의 표준화도 진행 중이다.이와 같은 5G 이동 통신 시스템이 상용화되면, 폭발적인 증가 추세에 있는 커넥티드 기기들이 통신 네트워크에 연결될 것이며, 이에 따라 5G 이동 통신 시스템의 기능 및 성능 강화와 커넥티드 기기들의 통합 운용이 필요할 것으로 예상된다. 이를 위해, 증강 현실(Augmented Reality: AR), 가상 현실(Virtual Reality: VR), 혼합 현실 (Mixed Reality: MR) 등을 효율적으로 지원하기 위한 확장 현실(eXtended Reality: XR), 인공지능(Artificial Intelligence: AI) 및 머신 러닝(Machine Learning: ML)을 활용한 5G 성능 개선 및 복잡도 감소, AI 서비스 지 원, 메타버스 서비스 지원, 드론 통신 등에 대한 새로운 연구가 진행될 예정이다. 또한, 이러한 5G 이동 통신 시스템의 발전은 6G 이동 통신 기술의 테라헤르츠 대역에서의 커버리지 보장을 위한 신규 파형(Waveform), 전차원 다중입출력(Full Dimensional MIMO: FD-MIMO), 어레이 안테나(Array Antenna), 대규모 안테나(Large Scale Antenna)와 같은 다중 안테나 전송 기술, 테라헤르츠 대역 신호의 커버리지를 개선 하기 위해 메타물질(Metamaterial) 기반 렌즈 및 안테나, OAM(Orbital Angular Momentum)을 이용한 고차원 공 간 다중화 기술, RIS(Reconfigurable Intelligent Surface)기술 뿐만 아니라, 6G 이동 통신 기술의 주파수 효 율 향상 및 시스템 네트워크 개선을 위한 전이중화(Full Duplex) 기술, 위성(Satellite), AI(Artificial Intelligence)를 설계 단계에서부터 활용하고 종단간(End-to-End) AI 지원 기능을 내재화하여 시스템 최적화를 실현하는 AI 기반 통신 기술,단말 연산 능력의 한계를 넘어서는 복잡도의 서비스를 초고성능 통신과 컴퓨팅 자 원을 활용하여 실현하는 차세대 분산 컴퓨팅 기술 등의 개발에 기반이 될 수 있을 것이다."}
{"patent_id": "10-2022-0038336", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "무선 통신 시스템에서 XR 서비스와 같이 초고속 저지연 통신이 수행되는 경우, 사용자의 체감 성능을 만족시키 기 위한 QoS 정책 및 패킷 처리 방법이 요구되고 있다."}
{"patent_id": "10-2022-0038336", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 개시의 다양한 실시 예들은 무선 통신 시스템에서 어플리케이션 데이터를 처리할 수 있도록 하는 방법 및 장 치를 제공한다. 본 개시의 다양한 실시 예들은 무선 통신 시스템에서 어플리케이션 서비스 플로우 별로 QoS(Quality of Service)를 관리할 수 있도록 하는 방법 및 장치를 제공한다. 본 개시의 다양한 실시 예들은 무선 통신 시스템에서 어플리케이션 데이터의 중요도와 연관성을 기반으로, 어플 리케이션 데이터를 포함하는 각 패킷 별로 QoS 정책을 반영할 수 있도록 하는 방법 및 장치를 제공한다. 본 개시의 일 실시 예에 따른 방법은; 무선 통신 시스템에서 제 1 전자 장치의 방법에 있어서, 어플리케이션 서 비스 플로우를 검출하는 과정과, 상기 어플리케이션 서비스 플로우의 각 패킷에 상기 어플리케이션 서비스 플로 우에 대한 QoS(Quality of Service) 정보를 추가하는 과정과, 상기 QoS 정보가 추가된 각 패킷을 제 2 전자 장 치로 송신하는 과정을 포함하며, 상기 QoS 정보는 상기 어플리케이션 서비스 플로우에 대한 QFI(QoS flow identifier) 정보, 상기 각 패킷에 포함된 어플리케이션 데이터의 중요도 정보, 및 상기 어플리케이션 데이터의 시퀀스 번호(sequence number)를 포함함을 특징으로 한다. 본 개시의 일 실시 예에 따른 장치는; 무선 통신 시스템에서 제 1 전자 장치에 있어서, 송수신부와, 프로세서를 포함하며, 상기 프로세서는, 어플리케이션 서비스 플로우를 검출하고, 상기 어플리케이션 서비스 플로우의 각 패킷에 상기 어플리케이션 서비스 플로우에 대한 QoS(Quality of Service) 정보를 추가하고, 상기 QoS 정보가 추가된 각 패킷을 제 2 전자 장치로 송신하도록 상기 송수신부를 제어하며, 상기 QoS 정보는 상기 어플리케이션 서비스 플로우에 대한 QFI(QoS flow identifier) 정보, 상기 각 패킷에 포함된 어플리케이션 데이터의 중요도 정보, 및 상기 어플리케이션 데이터의 시퀀스 번호(sequence number)를 포함함을 특징으로 한다."}
{"patent_id": "10-2022-0038336", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 개시의 다양한 실시 예들에 따르면, 무선 통신 시스템에서 XR 서비스와 같이 초고속 저지연 통신이 수행되는 경우, 어플리케이션 레벨의 QoS 정책 및 패킷 처리를 수행함으로써 사용자의 체감 성능을 향상시킬 수 있다."}
{"patent_id": "10-2022-0038336", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하 첨부된 도면을 참조하여 본 개시의 동작 원리를 상세히 설명한다. 하기에서 본 개시를 설명하기에 있어 관 련된 공지 기능 또는 구성에 대한 구체적인 설명이 본 개시의 요지를 불필요하게 흐릴 수 있다고 판단되는 경우 에는 그 상세한 설명을 생략할 것이다. 그리고 후술되는 용어들은 본 개시에서의 기능을 고려하여 정의된 용어 들로서 이는 사용자, 운용자의 의도 또는 관례 등에 따라 달라질 수 있다. 그러므로 그 정의는 본 명세서 전반 에 걸친 내용을 토대로 내려져야 할 것이다. 마찬가지 이유로 첨부 도면들에 있어서 일부 구성요소는 생략되거나 개략적으로 도시되었다. 또한, 각 구성요소 의 크기는 실제 크기를 전적으로 반영하는 것이 아니다. 각 도면에서 동일한 또는 대응하는 구성요소에는 동일 한 참조 번호를 부여하였다. 본 개시의 이점 및 특징, 그리고 그것들을 달성하는 방법은 첨부되는 도면과 함께 상세하게 후술되어 있는 실시 예들을 참조하면 명확해질 것이다. 그러나 본 개시는 이하에서 개시되는 실시 예들에 한정되는 것이 아니라 서 로 다른 다양한 형태로 구현될 수 있다. 다양한 실시 예들은 본 개시가 완전하도록 하고, 본 개시가 속하는 기 술분야에서 통상의 지식을 가진 자에게 본 개시의 범주를 완전하게 알려주기 위해 제공되는 것이며, 본 개시는 청구항의 범주에 의해 정의될 뿐이다. 명세서 전체에 걸쳐 동일 참조 부호는 동일 구성 요소를 지칭한다. 이 때, 처리 흐름도 도면들의 각 블록과 흐름도 도면들의 조합들은 컴퓨터 프로그램 인스트럭션들에 의해 수행 될 수 있음을 이해할 수 있을 것이다. 이들 컴퓨터 프로그램 인스트럭션들은 범용 컴퓨터, 특수용 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비의 프로세서에 탑재될 수 있으므로, 컴퓨터 또는 기타 프로그램 가 능한 데이터 프로세싱 장비의 프로세서를 통해 수행되는 그 인스트럭션들이 흐름도 블록(들)에서 설명된 기능들 을 수행하는 수단을 생성하게 된다. 이들 컴퓨터 프로그램 인스트럭션들은 특정 방식으로 기능을 구현하기 위해 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비를 지향할 수 있는 컴퓨터 이용 가능 또는 컴퓨터 판독 가능 메모리에 저장되는 것도 가능하므로, 그 컴퓨터 이용가능 또는 컴퓨터 판독 가능 메모리에 저장된 인스트 럭션들은 흐름도 블록(들)에서 설명된 기능을 수행하는 인스트럭션 수단을 내포하는 제조 품목을 생산하는 것도 가능하다. 컴퓨터 프로그램 인스트럭션들은 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비 상에 탑재 되는 것도 가능하므로, 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비 상에서 일련의 동작 단계들이 수행되어 컴퓨터로 실행되는 프로세스를 생성해서 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비를 수행하는 인스트럭션들은 흐름도 블록(들)에서 설명된 기능들을 실행하기 위한 단계들을 제공하는 것도 가능하 다. 또한, 각 블록은 특정된 논리적 기능(들)을 실행하기 위한 하나 이상의 실행 가능한 인스트럭션들을 포함하는 모듈, 세그먼트 또는 코드의 일부를 나타낼 수 있다. 또, 몇 가지 대체 실행 예들에서는 블록들에서 언급된 기 능들이 순서를 벗어나서 발생하는 것도 가능함을 주목해야 한다. 예컨대, 잇달아 도시되어 있는 두 개의 블록들 은 사실 실질적으로 동시에 수행되는 것도 가능하고 또는 그 블록들이 때때로 해당하는 기능에 따라 역순으로 수행되는 것도 가능하다. 본 개시의 다양한 실시 예들에서 사용되는 '~부'라는 용어는 소프트웨어 또는 하드웨어 구성요소를 의미하며, '~부'는 어떤 역할들을 수행한다. 그렇지만 '~부'는 소프트웨어 또는 하드웨어에 한정되는 의미는 아니다. '~부'는 어드레싱할 수 있는 저장 매체에 있도록 구성될 수도 있고 하나 또는 그 이상의 프로세서들을 재생시키도록 구성될 수도 있다. 따라서, 일 예로서 '~부'는 소프트웨어 구성요소들, 객체지향 소프트웨어 구성요소들, 클래스 구성요소들 및 태스크 구성요소들과 같은 구성요소들과, 프로세스들, 함수들, 속성들, 프로시저들, 서브 루틴들, 프로그램 코드의 세그먼트들, 드라이버들, 펌웨어, 마이크로코드, 회로, 데이터, 데이터베이스, 데이터 구조들, 테이블들, 어레이들, 및 변수들을 포함한다. 구성요소들과 '~부'들 안에서 제공되는 기능은 더 작은 수 의 구성요소들 및 '~부'들로 결합되거나 추가적인 구성요소들과 '~부'들로 더 분리될 수 있다. 뿐만 아니라, 구 성요소들 및 '~부'들은 디바이스 또는 보안 멀티미디어카드 내의 하나 또는 그 이상의 CPU들을 재생시키도록 구 현될 수도 있다. 또한 본 개시의 다양한 실시 예들에서 '~부'는 하나 이상의 프로세서를 포함할 수 있다. 본 개시의 다양한 실시 예들에서 단말은 사용자 단말(user equipment : UE), 터미널(terminal), 이동국(mobile station: MS), 셀룰러폰, 스마트폰, 컴퓨터, 또는 통신 기능을 수행할 수 있는 각종 전자 장치로 칭해질 수 있 다. 또한, 이하에서 설명하는 본 개시의 다양한 실시 예들과 유사한 기술적 배경 또는 채널 형태를 갖는 여타의 통 신 시스템에도 본 개시의 다양한 실시 예들이 적용될 수 있다. 또한, 본 개시의 다양한 실시 예들은 숙련된 기 술적 지식을 가진자의 판단으로써 본 개시의 범위를 크게 벗어나지 아니하는 범위에서 일부 변형을 통해 다른 통신 시스템에도 적용될 수 있다. 본 개시의 다양한 실시 예들을 구체적으로 설명함에 있어서, 통신 시스템은 각종 유선 혹은 무선 통신 시스템을 이용할 수 있으며, 예를 들어 무선 통신 규격 표준화 단체인 3GPP가 5G 통신 규격 상의 무선 접속 네트워크인 NR(New RAN)과 코어 네트워크인 패킷 코어(5G System, 혹은 5G Core Network, 혹은 NG Core(Next Generation Core))를 이용할 수 있다. 그리고 유사한 기술적 배경을 가지는 여타의 통신 시스템에도 본 개시의 범위를 크게 벗어 나지 아니 하는 범위에서 약간의 변형으로 적용 가능하며, 이는 본 개시의 기술 분야에서 숙련된 기술적 지식을 가진 자의 판단으로 가능 할 것이다. 이하 본 개시의 다양한 실시예들에서 사용되는 접속 노드(node)를 식별하기 위한 용어, 네트워크 객체(network entity)들을 지칭하는 용어, 메시지들을 지칭하는 용어, 네트워크 기능(network function: NF)들 간 인터페이스 를 지칭하는 용어, 다양한 식별 정보들을 지칭하는 용어 등은 설명의 편의를 위해 예시된 것이다. 따라서, 본 개시의 다양한 실시예에서 후술되는 용어들에 한정되는 것은 아니며, 동등한 기술적 의미를 가지는 대상을 지칭 하는 다른 용어가 사용될 수 있다. 5G 시스템에서는 네트워크 슬라이스를 지원하며, 서로 다른 네트워크 슬라이스들에 대한 트래픽이 서로 다른 프 로토콜 데이터 유닛(protocol data unit: PDU) 세션들에 의해 처리될 수 있다. PDU 세션은 PDU 연결 서비스를 제공하는 데이터 네트워크와 단말 간의 연관(association)을 의미할 수 있다. 네트워크 슬라이스는 광대역 통신 서비스, massive IoT, V2X 등과 같은 미션 크리티걸(mission critical) 서비스 등과 같은 서로 다른 특성을 갖 는 다양한 서비스들을 지원하기 위한 NF들의 집합으로 네트워크를 논리적으로 구성하고, 서로 다른 네트워크 슬 라이스들을 분리하는 기술로 이해될 수 있다. 따라서 어떤 네트워크 슬라이스에 통신 장애가 발행하더라도 다른 네트워크 슬라이스의 통신은 영향을 받지 않으므로 안정적인 통신 서비스 제공이 가능하다. 본 개시의 다양한 실시 예들에서 “슬라이스”는 “네트워크 슬라이스”를 의미하는 용어로 혼용될 수 있다. 이러한 네트워크 환 경에서 단말은 다양한 서비스를 제공 받을 경우 다수의 네트워크 슬라이스들에 접속할 수 있다. 그리고 상기 NF 는 하드웨어에서 구동되는 소프트웨어 인스턴스로서 네트워크 요소 혹은 적절한 플랫폼에서 인스턴스화된 가상 화된 기능으로 구현될 수 있다. 이동 통신 사업자는 네트워크 슬라이스를 구성하고, 네트워크 슬라이스 별로 또는 네트워크 슬라이스의 셋트 (set) 별로 특정 서비스에 적합한 네트워크 자원을 할당할 수 있다. 네트워크 자원은 NF 또는 NF가 제공하는 논 리적 자원 또는 기지국에 의해 할당된 무선 자원 등을 나타낼 수 있다. 예를 들면, 이동 통신 사업자는 모바일 광대역 서비스 제공을 위해서 네트워크 슬라이스 A를 구성하고, 차량 통 신 서비스 제공을 위해서 네트워크 슬라이스 B를 구성하고, 후술할 확장 현실(eXtended Reality : XR) 서비스 제공을 위해서 네트워크 슬라이스 C를 구성할 수 있다. 즉, 이와 같이 5G 네트워크에서는 각 서비스의 특성에 맞게 특화된 네트워크 슬라이스를 통해 단말에게 효율적으로 해당 서비스를 제공할 수 있다. 5G 시스템에서는 네트워크 슬라이스를 S-NSSAI(Single-Network Slice Selection Assistance Information)로 나타낼 수 있다. 상 기 S-NSSAI는 SST(Slice/Service Type) 값과 SD(Slice Differentiator) 값을 포함할 수 있다. SST는 네트워크 슬라이스가 지원하는 서비스의 특성(예를 들어, eMBB(enhanced mobile broadband), IoT, URLLC(ultra reliability low latency communication), V2X, XR 서비스 등)을 나타낼 수 있다. SD는 SST로 지칭되는 특정 서비스에 대한 추가적인 식별자로 사용되는 값일 수 있다.높은 전송 속도와 낮은 지연 시간(High Data Rate Low Latency: HDRLL)이 필요한 서비스는 예를 들어, XR 서비 스, 증강 현실(Augmented Reality: AR) 서비스, 가상 현실(Virtual Reality: VR) 서비스, 또는 클라우드 게이 밍 서비스일 수 있다. VR 서비스는 VR 헤드셋 등을 이용하여 컴퓨터 장치로 구현된 가상 환경을 제공하는 서비 스이다. AR 서비스는 위치, 지리 정보 등을 이용하여 현실 세계에 가상 환경을 결합할 수 있는 서비스이다. XR 서비스는 현실 환경과 가상 환경을 결합할 수 있음은 물론 사용자에게 촉각, 청각, 후각 등의 정보를 함께 제공 하여 사용자의 체감도를 보다 높일 수 있는 서비스이다. 본 개시의 다양한 실시 예들에서 어플리케이션(application) 기반 QoS(Quality of Service)를 제공하는 통신 서비스를 설명함에 있어서 XR 서비스를 예로 들어 설명한다. 하지만, 본 개시의 다양한 실시 예들은 XR 서비스 뿐만 아니라 다양한 데이터 서비스에도 적용될 수 있다. 따라서 본 개시의 다양한 실시 예들이 XR 서비스에 한 정되는 것은 아님에 유의하여야 할 것이다. 본 개시의 다양한 실시 예들에 의하면, 오디오, 비디오, 햅틱 등 다양한 종류의 XR 서비스 데이터들이 사용자에 게 제공되기 위해, 어플리케이션의 특성에 따라서 어플리케이션의 어플리케이션 데이터 유닛(Application Data Unit: ADU)과 관련된 패킷이 단말에게 전달될 필요가 있다. 여기서, 하나의 ADU와 관련된 패킷의 전송이 제대로 수행되지 않거나 설정된 개수(또는 비율)의 패킷 전송이 실패되는 경우, ADU와 관련된 패킷이 단말에게 전달된 다고 하여도, ADU 정보가 사용자에게 전달되지 못하는 경우가 발생될 수 있다. 이 경우, 단말에게 전달되더라도 사용자에게 ADU 정보를 제공하지 못하는 패킷이 통신망에서 전달되지 않게 되면, 불필요한 패킷의 전송을 위한 자원이 절약되어서 통신망의 성능에 도움이 될 수 있다. 사용자에게 서비스 하기 위한 어플리케이션의 트래픽들은 해당 미디어의 특성에 따라 ADU들로 생성될 수 있고, ADU를 송신하기 위한 패킷들은 통신망을 통해 전송될 수 있다. ADU들 간에는 미디어의 특성에 기반한 상관성을 가질 수 있다. 예를 들어, 하나의 ADU는 사용자에게 반드시 필요한 정보를 포함하는 중요도가 높은 ADU일 수 있 고, 다른 ADU는 다른 ADU와 관련된 패킷이 단말에게 전송되더라도 중요도가 높은 ADU 없이는 사용자에게 제공되 지 못할 수 있다. 이처럼 ADU에 따라서 서로 다른 ADU와의 관계도와 중요도가 결정될 수 있다. 예를 들어, 제 1 ADU의 패킷들이 전송이 되어질 때 제 1 ADU보다 중요도가 낮으면서 관계도가 높은 제 2 ADU의 패킷들은 스케줄 링 및 패킷 처리에 있어서 낮은 우선순위로 처리될 수 있도록 하거나, 필요시 패킷을 버릴 수 있도록 할 수 있 다. 상기와 같이 어플리케이션 레벨(level)의 정보를 이용한 패킷의 처리는 네트워크의 자원을 효과적으로 사 용할 수 있도록 하여 사용자의 서비스 체감을 향상시킬 수 있다. ADU는 미디어 유닛(media unit: MU) 또는 통신망 측면에서 패킷 데이터 유닛(packet data unit: PDU)의 모임으 로 볼 수 있으므로 PDU set으로 칭해질 수 있다. 본 개시의 다양한 실시 예들을 설명함에 있어서, ADU와 MU와 PDU set은 혼용될 수 있으나 기본적으로는 동일한 개념으로 이해할 수 있다. 다만, ADU나 MU는 통신망의 밖에서 전달되는 어플리케이션 데이터들의 단위로서 이용될 수 있고, PDU set은 ADU가 통신망 안에서 서비스 되는 경우 이용될 수 있다. ADU에 해당하는 패킷들은 통신망에서 서비스 될 때에 기존의 패킷 레벨의 QoS 처리를 기본으로 하고, 어플리케 이션 레벨의 QoS 처리는 추가적으로 필요에 따라서 적용할 수 있다. 또한 통신망에서 어플리케이션 레벨의 QoS 처리가 수행될 수 있다. 예를 들어, 다운링크(downlink) 데이터의 경우 통신망의 PSA(PDU session anchor) UPF 에서 ADU 특징에 따라서 패킷의 GPRS(General Packet Radio Service) 터널링 프로토콜(GPRS Tunnelling Protocol: GTP) 헤더에 일부 정보를 포함할 수 있다. GTP 헤더에 포함된 정보는 통신망 내부(예를 들어, UPF 또 는 무선 액세스 네트워크(Radio Access Network RAN))에서 어플리케이션 레벨의 QoS 처리를 위해 이용될 수 있 다. 업링크(uplink) 데이터의 경우 단말에서 ADU 특징에 따라서 패킷에 대한 정보를 RAN에게 보내면 RAN은 GTP 헤더에 일부 정보를 포함할 수 있다. GTP 헤더에 포함된 정보는 통신망 내부(예를 들어, UPF 또는 RAN등)에서 어플리케이션 레벨의 QoS 처리를 위해 이용될 수 있다. 이하 본 개시의 다양한 실시예들을 도면을 참조하여 설명하기로 한다. 도 1은 본 개시의 일 실시 예에 따른 무선 통신 시스템의 구조를 예시한 도면이다. 도 1을 참조하면, 무선 통신 시스템은 어플리케이션 데이터의 전송 경로를 나타내는 네트워크 구조를 가질 수 있다. 예를 들어, 어플리케이션 데이터의 전송 경로는 AF(application function)/AS(application server)(11 6)로부터 NG-RAN(Next Generation-Radio Access Network)을 경유하여 사용자(user 1)가 이용하는 XR 서비 스에 따른 XR 데이터가 전달되는 전송 경로일 수 있다. 본 개시의 다양한 실시 예들에서 이용되는 네트워크 기술은 ITU(international telecommunication union) 또는 3GPP에 의하여 정의되는 표준 규격(예를 들어, TS 23.501, TS 23.502, TS 23.503 등)을 참조할 수 있으며, 도 1의 네트워크 구조에 포함되는 구성 요소들은 각각 물리적인 엔터티(entity)를 의미하거나, 혹은 개별적인 기능 (function)을 수행하는 소프트웨어 혹은 소프트웨어와 결합된 하드웨어를 의미할 수 있다. 이하에서는 도 1의 네트워크 구조에 포함되는 구성 요소들을 NF들이라 칭하기로 한다. NF들 간에는 5G 코어 네트워크(5G Core Network: 5GC)에서 공지된 인터페이스들이 이용될 수 있는데, 관련 설명 은 표준 규격(TS 23.501)을 참조할 수 있으므로 구체적인 설명은 생략하기로 한다. 도 1의 무선 통신 시스템은 NG-RAN과 5GC를 포함할 수 있다. NG-RAN은 5G 시스템에서 무선 접속 기술 을 지원하는 기지국(base station)(예, gNB, IAB(Integrated Access and Backhaul) 등)일 수 있다. NG- RAN은 외부 네트워크의 AF/AS로부터 5GC를 경유하여 전달되는 XR 서비스 관련 정보 및/또는 데이터를 XR 디바이스들을 포함하는 단말들에게 제공할 수 있다. 또한 NG-RAN은 단말들로부터 수신한 XR 서비스 관 련 정보 및/또는 데이터를 AF/AS에게 제공할 수 있다. 이하 본 개시의 실시 예들에서 단말은 도 1의 예와 같이, 복수의 XR 디바이스들과 무선 혹은 유선으로 연 결되거나, 복수의 XR 디바이스들을 포함하여, XR 디바이스와 AS/AF 간의 5G 시스템을 매개한 통신을 수행할 수 있다. 도 1에서 5GC는 AMF(Access and Mobility Management Function), SMF(Session Management Function), UPF(User Plane Function), PCF(Policy Control Function) 및 UDM(Unified Data Management)(미도시) 등과 같은 네트워크 엔터티들을 포함할 수 있다. AMF는 단말의 접근(access)와 이동성(mobility)을 관리하기 위한 엔터티이다. AMF는 단말(10 2)이 NG-RAN을 통해 5GC의 다른 엔터티(들)과 연결하는 단말-코어 네트워크 종점 역할을 수행할 수 있다. 일 예로, AMF는 단말의 등록(registration), 연결(connection), 연결성(reachability), 이동성(mobility) 관리, 접근확인, 인증, 이동성 이벤트 생성 등과 같은 네트워크 기능을 수행할 수 있다. SMF는 단말의 PDU(Protocol Data Unit) 세션에 대한 관리 기능을 수행할 수 있다. 일 예로, SMF는 세션의 수립, 수정, 해제와 이에 필요한 UPF와 NG-RAN간의 터널 유지를 통한 세션 관리 기능, 단말의 인터넷 프로토콜 (Internet Protocol: IP) 주소 할당과 관리 기능, 사용자 평면(User Plane) 선 택 및 제어, UPF에서 트래픽 프로세싱 제어, 과금 데이터 수집 제어 등과 같은 네트워크 기능을 수행할 수 있다. UPF는 단말의 사용자 데이터(예를 들어 XR 데이터)를 처리하는 기능을 수행할 수 있다. UPF는 단말이 생성한 XR 데이터를 AF/AS로 전달하거나 AF/AS에서 유입된 데이터를 단말에게 전달 할 수 있도록 XR 데이터를 처리하는 기능을 수행할 수 있다. 일 예로, UPF는 무선 접속 기술(Radio Access Technology: RAT) 간 앵커(Anchor) 역할 수행, PDU 세션과 AF/AS와의 연결 제공, 패킷 라우팅 및 포워딩, 패킷 검사(inspection), 사용자 평면 정책 적용, 트래픽 사용 보고서 작성, 버퍼링 등과 같은 네트워크 기능을 수행할 수 있다. UDM(미도시)은 3GPP 보안을 위한 인증 정보의 생성, 사용자 식별자(identifier: ID)의 처리, 단말을 지원 하는 NF에 대한 목록 관리, 가입 정보(subscription information) 관리 등의 기능을 수행할 수 있다. UDR(Unified Data Repository)은 UDM이 관리하는 가입 정보, 노출을 위한 구조화된 데이터, NEF(Network Exposure Function) 또는 서비스와 연관된 응용데이터들의 저장 및 제공 기능을 수행할 수 있다. PCF는 5G 시스템에서 서비스를 제공하기 위한 사업자 정책(operator policy) 정보를 관리할 수 있다. UDR 은 단말의 가입 정보를 저장하고, UDM에게 저장된 가입 정보를 제공할 수 있다. 또한 UDR은 사업자 정책 정보를 저장하고, PCF에게 저장된 사업자 정책 정보를 제공할 수 있다. NEF는 5G 시스템에서 발생하는 이벤트 및 지원하는 능력(capability)를 외부로 전달하거나 수신하는 기능 을 수행할 수 있다. 일 예로, NEF는 5GC에 AF/AS의 정보를 안전하게 공급하는 기능, 내부/외부 정보 의 변환, 다른 NF로부터 전달받은 정보를 UDR에 저장한 후 재배포하는 등의 기능을 수행할 수 있다. 단말은 NG-RAN에 접속하여 5G 시스템에 등록할 수 있다. 일 예로, 단말은 NG-RAN에 접속 하여 AMF와 단말 등록 절차(registration procedure)를 수행할 수 있다. 등록 절차 중, AMF는 NG- RAN에 접속한 단말이 이용 가능한 네트워크 슬라이스를 결정하여 단말에게 할당할 수 있다. 단 말은 네트워크 슬라이스를 선택하여 AF/AS와의 통신을 위한 PDU 세션을 설정할 수 있다. 하나의 PDU세션은 하나 혹은 복수의 QoS Flow 들을 포함할 수 있으며, 각 QoS Flow는 서로 다른 QoS 파라미터들을 설정함 으로써 각 어플리케이션 서비스에 필요한 서로 다른 전송 성능을 제공할 수 있다. 도 2는 본 개시의 일 실시 예에 따른 무선 통신 시스템에서 어플리케이션레벨 정보를 포함한 GTP 헤더를 예시한 도면이다. 도 2는 AS로부터 생성된 XR 데이터가 통신망에 전달되면서 GTP 헤더 및 SDAP(Service Data Adaptation Protocol)에 어플리케이션 레벨의 정보를 마킹하는 방법을 설명하기 위한 예시도이다. 도 2를 참조하면, 사용자의 단말이 XR 서비스를 이용하는 경우를 고려한다. XR 서비스를 위한 데이터는 어플리케이션에서 설정된 단위의 패킷들로 구성되어 통신망으로 전달될 수 있 다. 설정된 단위의 패킷들은 ADU 또는 MU 또는 PDU set의 단위로 전송될 수 있고, 각 패킷 헤더에는 어플리케이 션 단위의 정보가 포함될 수 있다. 예를 들어, 각 패킷 헤더에는 제 1 패킷 헤더(201a)와 같이, XR 데이터의 중요도를 나타내는 정보가 포함될 수 있다. 또는, 각 패킷 헤더에는 제 2 패킷 헤더(201b)와 같이, XR 데이터의 연관성을 나타낼 수 있는 프레임 또 는 ADU의 시퀀스 번호(sequence number: SN)를 나타내는 정보가 포함될 수 있다. 또한 각 패킷 헤더에는 제 3 패킷 헤더(201c)와 같이, XR 데이터 타입 정보가 포함될 수 있다. 예를 들어, XR 데이터 타입 정보는 해당 패킷 헤더에 있는 XR 데이터의 중요도와 SN의 정보를 해석할 수 있는 기본적인 정보, 예를 들어 어떤 방식으로 XR 데 이터들이 인코딩되어 있는지, 어떤 프로토콜을 기반으로 인코딩되어있는지에 대한 정보를 포함할 수 있다. 구체적으로, XR 데이터 타입 정보는 실시간 비디오 데이터가 XR 데이터인 경우 전송 프로토콜의 정보(예: RTP 프로토콜 또는 데이터 인코딩 프로토콜 종류) 또는 인코딩 레이트(encoding rate) 관련 정보 예를 들어, GOP(Group of picture) 등을 지원하는 MPEG-1, H.262/MPEG-2, H.263, H.264/MPEG-4 AVC, HEVC에 대한 정보를 포함할 수 있다. 또한, XR 데이터 타입 정보는 XR 데이터가 GOP 형태로 인코딩된다고 가정했을때, 해당 패킷 헤더에 어떤 종류 의 프레임(예: I프레임 또는 P프레임 또는 B프레임)이 사용되었는지에 대한 정보, 몇 번째 프레임인지에 대한 정보, 및 사용된 인코딩 방법과 프로토콜에 대한 정보 중 적어도 하나를 포함할 수 있다. 상기에 언급된 정보들 외에, XR 데이터를 생성하는 어플리케이션의 ID가 각 패킷 헤더에 포함될 수도 있다. XR 데이터는 통신망의 PSA(PDU Session Anchor) UPF에 도착하게 되면, 기존의 패킷 별 QoS 처리 방식에 기반 하여 QoS flow에 매핑이 되고, 통신망에서 NG-RAN까지 GTP 프로토콜을 이용하여 전송될 수 있다. 여기서, GTP 터널로 전달되는 GTP 패킷은 GTP 헤더를 포함할 수 있고, GTP 헤더는 GTP 패킷에 포함된 데이터에 대응하는 QFI(QoS flow identifier)를 포함할 수 있다. UPF 및 NG-RAN에서는 QFI에 대응하는 패킷 별 QoS 정 책을 기반으로 해당 패킷을 처리할 수 있다. 이와는 별도로, XR 데이터에 대해서 어플리케이션 레벨의 QoS 적용을 하기로 한 경우에는 ADU의 패킷 헤더 정보 로부터 획득되는 어플리케이션 정보를 GTP 헤더에 추가하는 마킹(marking) 동작이 수행될 수 있다. 예를 들어, UPF는 GTP 헤더에 XR 데이터에 대한 마킹을 수행할 수 있다(동작 ). UPF는 ADU의 패킷 헤더에 포함된 어플리케이션 ID 또는 소스 IP 주소(source IP address) 등을 기반으로 ADU가 어떤 XR 서비스를 위한 것인지를 인식하고, ADU의 패킷 헤더에 포함된 정보(예: 전송 프로토콜의 종류나 데이터 인코딩 프로토콜 종류나 인코딩 레이트 관련 정보)를 이용하여 제 1 GTP 헤더(202a)와 같이, PDU Set ID 를 GTP 헤더에 추가할 수 있다. PDU Set ID는 망에서 지원하는 XR 서비스의 전송 프로토콜의 종류(예: RTP 프로토콜) 또는 데이터 인코딩 프로 토콜의 종류(예: GOP등을 지원하는 MPEG-1, H.262/MPEG-2, H.263, H.264/MPEG-4 AVC, HEVC에 대한 정보) 또는 인코딩 레이트 관련 정보 등을 기반으로 기존의 통신망 자체적으로 결정된 값 또는 표준에 기반한 미리 정해진 값으로 설정될 수 있다. PDU set ID와 함께 어플리케이션 ID도 GTP 헤더에 추가될 수 있고, PDU set ID에 어플 리케이션 ID의 값이 포함되어 GTP 헤더에 추가될 수도 있다. 또한, 전송 프로토콜이나 데이터 인코딩 프로토콜 종류나 인코딩 레이트 관련 정보에 기반하여, 각 ADU에 대해 주어진 중요도 레벨(importance level)을 통신망에서 알 수 있도록 제 2 GTP 헤더(202b)와 같이, GTP 헤더에 중요도 정보를 추가로 포함할 수 있다. 예를 들어, 중요도 정보는 설정된 레벨들(예: Gold/Silver/Bronze 또는 level 1/2/3/4..등) 중 하나를 지시하는 중요도 레벨 정보를 포함할 수 있다. ADU들 사이의 연관성에 대한 정보는 제 3 GTP 헤더(202c)와 같이, GTP헤더에 추가로 포함될 수 있다. 예를 들어, 전송 프로토콜이나 데이터 인코딩 프로토콜 종류나 인코딩 레이트 관련 정보에 따라서 ADU들 간에 상관성 이 있거나 없을 수도 있다. 따라서, 전송 프로토콜이나 데이터 인코딩 프로토콜 종류나 인코딩 레이트 관련 정 보에 기반하여 각 ADU들의 SN과 중요도 정보에 따른 상관성 정보를 GTP 헤더에 포함할 수 있다. 상관성 정보는 제 2 패킷 헤더(201b)와 같이, ADU의 SN을 GTP 헤더에 그대로 포함되거나, SN의 상위 또는 하위로부터의 설정된 개수의 비트만이 GTP 헤더에 포함되거나, 상관 SN(correlation sequence number)가 GTP 헤더에 포함될 수 있 다. 상관 SN과 관련하여, 중요도가 높아서 이전 ADU와 큰 상관이 없는 ADU에 대해서는 설정된 값(예: 0)으로 리 셋된 상관 SN이 GTP 헤더에 포함될 수 있다. 또한, 이전 SN의 ADU와 연관되어서 전송이 되거나 데이터 인코딩 된 ADU에 대해서는 GTP 헤더에 이전 GTP 패킷의 상관 SN보다 특정값 만큼(예: 1씩) 증가된 상관 SN이 포함될 수 있다. 이에 따라, 연속되는 GTP 패킷들의 연관성 정도는 GTP 헤더에 포함된 상관 SN을 기반으로 확인될 수 있다. 상기와 다르게, GTP 헤더에는 상관 롤링 SN(correlation rolling sequence number)가 포함될 수 있다. 상관 롤 링 SN과 관련하여, 중요도가 높아서 이전 ADU와 큰 상관이 없는 ADU에 대해서는 이전 GTP 패킷의 상관 롤링 SN 보다 제 1 값(예: 2) 또는 제 2 값(예: 3)만큼 큰 값으로 설정된 상관 롤링 SN이 GTP 헤더에 포함될 수 있다. 또한, 이전 SN의 ADU와 연관되어서 전송이 되거나 데이터 인코딩 된 ADU에 대해서는 GTP 헤더에 이전 GTP 패킷 의 상관 롤링 SN과 동일한 값을 갖는 상관 롤링 SN이 포함될 수 있다. 그리고, 이전 SN의 ADU와 연관은 있지만 연관도가 크지 않은 ADU에 대해서는 이전 GTP 패킷의 상관 롤링 SN 보다 특정값 만큼(예: 1씩) 증가된 상관 롤 링 SN이 GTP 헤더에 포함될 수 있다. 이에 따라, 연속되는 GTP 패킷들의 연관성의 정도는 GTP 헤더에 포함된 상 관 롤링 SN을 기반으로 확인될 수 있다. 일 실시예에 따라, 증가된 상관 롤링 SN이 상관 롤링 SN을 나타낼 수 있는 최대값 보다 크면, 상관 롤링 SN은 롤 오버(roll over)되어 이용될 수 있다. 상기와 같이, XR 데이터에 대해서 어플리케이션 레벨의 QoS 적용을 하기로 한 경우에는 동작 202를 통해 GTP 헤 더에 애플리케이션 레벨의 정보가 포함될 수 있다. GTP 헤더에 포함된 애플리케이션 레벨의 정보는 UPF와 NG-RAN에서 어플리케이션 레벨의 QoS 정책을 적용시키기 위해 이용될 수 있다. 한편, NG-RAN은 GTP 오버헤드를 버리고, GTP 헤더에 포함된 애플리케이션 레벨의 정보를 SDAP에 포함시켜 PDCP(Packet Data Convergence Protocol) 패킷을 생성하고, 생성된 PDCP 패킷을 단말에게 전달할 수 있 다(동작 203). SDAP에 포함될 수 있는 어플리케이션 레벨의 정보는 예를 들어, QFI, PDU Set ID, 어플리케이션 ID, 중요도 정보, 상관 SN 또는 상관 롤링 SN 중 적어도 하나를 포함할 수 있다. 도 2에서는 제 1 SDAP(203a), 제 2 SDAP(203b) 및 제 3 SDAP(203c) 각각이 QFI, 중요도 정보 및 상관 롤링 SN를 포함하는 것을 일 예로 도시 하였다. 이와 반대로, 단말이 업링크로 XR 데이터를 어플리케이션 서버에 보내는 경우, 단말은 단말이 결정한 QFI, PDU Set ID, 어플리케이션 ID, 중요도 정보, 상관 SN 또는 상관 롤링 SN 중 적어도 하나를 SDAP에 포함시 켜 PDCP 패킷을 생성하고, 생성된 PDCP 패킷을 NG-RAN에 전달할 수 있다. NG-RAN은 단말로부터 전달된 PDCP 패킷의 오버헤드와 SDAP를 버리고, 단말로부터 전달된 QFI, PDU Set ID, 어플리케이션 ID, 중 요도 정보, 상관 SN 또는 상관 롤링 SN 중 적어도 하나를 GTP 헤더에 포함시켜 GTP 패킷을 생성하고, 생성된 GTP 패킷을 UPF에 전달할 수 있다. XR 데이터에 대해서 어플리케이션 레벨의 QoS적용을 하기로 한 경우에는 GTP 헤더의 애플리케이션 레벨의 정보 를 이용하여, UPF와 NG-RAN에서 어플리케이션 레벨의 QoS 정책을 적용시킬 수 있다. 도 3은 본 개시의 일 실시 예에 따른 무선 통신 시스템에서 단말이 PDU 세션(session)을 생성하면서 어플리케이 션 레벨의 QoS 정보를 망에 적용하는 방법을 나타낸 흐름도이다. 도 3을 참조하면, XR 서비스를 위해 어플리케이션 데이터 트래픽의 특징에 기반하여 통신망에서 어플리케이션 레벨의 QoS 정책을 제공하기 위한 NF들의 동작이 수행될 수 있다. 301a 단계에서, UDM은 어플리케이션 레벨 QoS 지시자(Application-level QoS indication)를 저장할 수 있 다. 어플리케이션 레벨 QoS 지시자는 SM(session management) 구독(subscription) 정보에 어플리케이션 레벨 QoS를 적용할지 여부를 지시할 수 있다. 일 실시 예에 따라, 어플리케이션 레벨 QoS 지시자는 특정 DNN과 S- NSSAI에 대해서 적용하도록 한정을 지을수도 있다. 예를 들어, XR 서비스를 위한 DNN과 S-NSSAI에 대해서 어플 리케이션 레벨 QoS 지시자가 적용될 수 있다. 그리고, UDM은 어플리케이션 레벨 QoS가 적용될 어플리케이 션 ID의 정보도 포함할 수 있고, 해당 어플리케이션에서 적용될 AF(Application Function) specific GPSI(Generic Public Subscription Identifier) 정보도 포함할 수 있다.301b 단계에서, PCF는 어플리케이션 레벨 QoS를 적용하기 위한 정보를 포함하고 있다. 어플리케이션 레벨 QoS를 적용하기 위한 정보는 UDR에 저장되어 있다. PCF는 PDU 세션을 생성하는 중에 어플리케이션 레벨 QoS를 적용하기 위한 정보가 없는 경우, UDR에 요청하여 어플리케이션 레벨 QoS 정보를 획득할 수 있다. 어플리케이션 레벨 QoS 정보는 PDU 세션에 대한 정책 정보로서, 어플리케이션 레벨 QoS를 적용할지 여부를 나타 내는 어플리케이션 레벨 QoS 지시자를 포함할 수 있다. 또한, 어플리케이션 레벨 QoS 정보는 어플리케이션에서 발생하는 데이터 flow를 검출하기 위한 어플리케이션 flow 검출 정보를 포함할 수 있다. 예를 들어, 어플리케이 션 flow 검출 정보는 어플리케이션 서버의 IP 주소와 같은 주소 정보, 어플리케이션 ID, ADU 헤더에 포함된 정 보인 ADU의 데이터 타입 정보(예: 전송 프로토콜의 정보 또는 데이터 인코딩 프로토콜 종류나 인코딩 레이트 관 련 정보)를 포함할 수 있다. 또한, 어플리케이션 flow 검출 정보는 검출된 ADU의 패킷에 대해서 어떠한 PDU Set ID가 할당될 수 있는지를 나 타내는 승인된 PDU Set ID에 대한 정보를 포함할 수도 있다. 또한, 어플리케이션 flow 검출 정보는 어플리케이션 레벨 QoS가 적용되는 경우, ADU들 간의 상관도에 따라 통신 망에서 패킷을 NG-RAN이나 UPF에서 드롭(drop)시킬지 여부를 판단하기 위한 상관 SN의 임계값 (threshold) 또는 상관 롤링 SN의 임계값을 포함할 수 있다. 또는, 어플리케이션 flow 검출 정보는 NG- RAN이나 UPF에서 필요시 패킷을 드롭시키기 위한 정보로 사용할 수 있도록 마킹(marking)을 적용할지 여부를 판단하기 위한 상관 SN의 임계값 또는 상관 롤링 SN의 임계값을 포함할 수도 있다. 또한, 어플리케이션 flow 검출 정보는 어플리케이션에서 발생된 패킷들 중 발견된 패킷들에 대한 XR 서비스를 위하여 어플리케이션에 전용(dedicated)된 큐(queue)를 적용하도록 하는 전용 큐 지시자를 포함하는 패킷 레벨 QoS 정책을 포함할 수 있다. 302 단계에서, 단말은 XR 서비스를 수신하기 위해서 PDU 세션 설정 요청(PDU Session establishment request) 메시지를 SMF로 전송할 수 있다. 일 실시 예에 따라, PDU 세션 설정 요청 메시지는 XR에 dedicated된 DNN(XR dedicated DNN)과 S-NSSAI를 포함할 수 있다. 303 단계에서, SMF는 UDM으로부터 SM 구독 정보를 획득할 수 있다. 일 실시 예에 따라, SM 구독 정보 는 어플리케이션 레벨 QoS 지시자를 포함할 수 있다. 또한, SM 구독 정보는 어플리케이션 레벨 QoS가 적용될 어 플리케이션 ID를 포함할 수 있다. SMF는 SM 구독 정보를 획득하기 위한 메시지와 동일한 메시지 혹은 다른 메시지를 이용하여, 어플리케이션에서 적용될 AF specific GPSI 정보를 UDM으로부터 획득할 수 있다. 304 단계 및 305 단계에서, SMF는 XR dedicated DNN과 S-NSSAI에 기반하여 PCF를 선택하고, PCF와 SM 정책 연관 설정(SM policy association establishment) 과정을 통해 승인된 어플리케이션 레벨 QoS 정보를 획득할 수 있다. 구체적으로, 304 단계에서, SMF는 XR dedicated DNN과 S-NSSAI를 포함하는 SM 정책 설정 요청 메시지를 PCF로 전송함으로써 승인된 어플리케이션 레벨 QoS 정보를 요청할 수 있다. PCF에게 승인된 어플리 케이션 레벨 QoS 정보를 요청하는 과정에서, SMF는 단말의 어플리케이션 ID 또는 어플리케이션에서 사용하는 AFspecific GPSI 정보 또는 SUPI 또는 GPSI 정보를 PCF로 전달할 수 있다. 305 단계에서 PCF는 SM 정책 설정 응답 메시지를 SMF로 전송할 수 있다. PCF는 SMF로부터 요청된 어플리케이션 레벨 QoS 정보를 SMF로 전송할 수 있다. PCF는 SMF로부터 요청된 정보를 가지고 있지 않은 경우에는 UDR로 해당 정보를 요청할 수 있다. PCF는 UDR로부터 단말과 어플리케이션에 해당하는 정책 정보를 수신하고, 수신한 정책 정보로부터 승 인된(authorized) 어플리케이션 레벨 QoS 정보를 획득하여 SMF로 제공할 수 있다. 일 실시 예에 따라, 승인된 어플리케이션 레벨 QoS 정보는 PDU 세션에 대한 정책 정보로서 어플리케이션 레벨 QoS를 적용할지 여부를 나타내는 어플리케이션 레벨 QoS 지시자를 포함할 수 있다. 또한, 승인된 어플리케이션 레벨 QoS 정보는 어플리케이션에서 발생하는 flow를 검출하기 위한 어플리케이션 flow 검출 정보를 포함할 수 있다. 예를 들어, 어플리케이션 flow 검출 정보는 어플리케이션 서버의 IP 주소와 같은 주소 정보, 어플리케이 션 ID, ADU 헤더에 포함된 정보인 ADU의 데이터 타입 정보(예: 전송 프로토콜의 정보 또는 데이터 인코딩 프로 토콜 종류나 인코딩 레이트 관련 정보)를 포함할 수 있다. 또한, 어플리케이션 flow 검출 정보는 검출된 ADU의 패킷에 대해서 어떠한 PDU Set ID가 할당될 수 있는지를 나 타내는 승인된 PDU Set ID에 대한 정보를 포함할 수도 있다. 또한, 어플리케이션 flow 검출 정보는 어플리케이션 레벨 QoS가 적용되는 경우, ADU들 간의 상관도에 따라 통신 망에서 패킷을 NG-RAN이나 UPF에서 드롭시킬지 여부를 판단하기 위한 상관 SN의 임계값 또는 상관 롤 링 SN의 임계값을 포함할 수 있다. 또는, 어플리케이션 flow 검출 정보는 NG-RAN이나 UPF에서 필요시 패킷을 드롭시키기 위한 정보로 사용할 수 있도록 마킹(marking)을 적용할지 여부를 판단하기 위한 상관 SN의 임계값 또는 상관 롤링 SN의 임계값을 포함할 수도 있다. 또한, 어플리케이션 flow 검출 정보는 어플리케이션에서 발생된 패킷들 중 발견된 패킷들에 대한 XR 서비스를 위하여 어플리케이션에 전용(dedicated)된 큐(queue)를 적용하도록 하는 전용 큐 지시자(dedicated queue indication)를 포함하는 패킷 레벨의 QoS 정책 정보를 포함할 수 있다. SMF는 PCF와 연동하지 않는 경우에는 304 단계와 305 단계를 생략할 수 있다. SMF는 상기와 같 이 허용할 수 있는 어플리케이션 레벨 QoS 정보 및 전용 큐 지시자를 포함하는 패킷 레벨의 QoS 정책 정보를 직접 저장하고 있을 수도 있다. 한편, SMF는 어플리케이션 레벨 QoS 정보를 포함하는 어플리케이션 데이터들을 검출하기 위한 규칙(rule, 이하 'rule'이라 칭함)을 포함하는 PDR(packet detection rule)을 생성할 수 있다. 또한, SMF는 어플리케이션 데이터 즉, ADU를 GTP 터널을 통해 전달할 때 GTP 헤더에 어플리케이션 정보에 포함되는 rule을 포함하는 FAR(forwarding action rule)을 생성하고, 해당 어플리케이션 레벨에 대해서 QoS를 적용하기 위한 rule을 포함하는 QER(QoS Enforcement rule)을 생성할 수 있다. 일 실시 예에서, 어플리케이션 레벨 QoS를 적용하기 위한 rule은 PDR 또는 QER 또는 FAR에 포함되거나 별도의 rule일 수 있고, 306 단계에서 UPF에 전달될 수 있다. 그러면, UPF는 해당 rule에 기반하여 어플리케 이션 레벨 QoS를 적용할 수 있다. 이때 306 단계를 통해 SMF는 UPF에 전용 큐 지시자를 제공할 수 있 고, 패킷 레벨 QoS가 적용되며, 패킷 레벨 QoS 외에도 어플리케이션 레벨 QoS가 적용됨을 알릴 수도 있다. SMF는 전용 큐 지시자를 포함하는 패킷 레벨의 QoS 정책 정보를 가지고 있지 않거나 PCF로부터 수신 하지 못하더라도 어플리케이션 레벨 QoS가 적용됨을 인지한 경우에는 전용 큐 지시자를 포함하도록 패킷 레벨 QoS를 UPF에게 알릴 수 있다. 어플리케이션 데이터들을 검출하기 위한 rule은 승인된 어플리케이션 레벨 QoS 정보에 기반한 rule로서, 일 예 로 어플리케이션 flow 검출 정보를 포함할 수 있다. 예를 들어, 어플리케이션 flow 검출 정보는 어플리케이션 서버의 IP 주소와 같은 주소 정보, 어플리케이션 ID, ADU 헤더에 포함된 정보인 ADU의 데이터 타입 정보(예: 전 송 프로토콜의 정보 또는 데이터 인코딩 프로토콜 종류나 인코딩 레이트 관련 정보)를 포함할 수 있다. 따라서, ADU의 데이터 타입 정보 예를 들어, 실시간 비디오 데이터가 XR 데이터인 경우 전송 프로토콜의 정보 (예: RTP 프로토콜 또는 데이터 인코딩 프로토콜 종류) 또는 인코딩 레이트 관련 정보 예를 들어, GOP등을 지원 하는 MPEG-1, H.262/MPEG-2, H.263, H.264/MPEG-4 AVC, HEVC에 대한 정보로부터 ADU의 패킷의 헤더(예: 도 2의 제 1 패킷 헤더(201a) 또는 제 2 패킷 헤더(201b) 또는 제 3 패킷 헤더(201c))의 정보가 획득될 수 있다. 이에 따라, SMF는 검출된 ADU의 패킷이 어떠한 승인된 PDU Set ID에 해당하는지를 ADU의 데이터 타입 정보 에 기반하여 결정할 수 있다. 또한, SMF는 ADU의 데이터 타입 정보에 기반하여 ADU 패킷의 헤더(예: 도 2 의 제 1 GTP 헤더(202a) 또는 제 2 GTP 헤더 (202b) 또는 제 3 GTP 헤더(203c))로부터 미디어의 중요도 정보를 획득함으로써 GTP 헤더에 대한 중요도 정보를 결정할 수 있다. 또한, ADU 패킷의 헤더로부터 ADU의 SN를 획득하 여 GTP의 헤더에 대한 상관 SN을 결정할 수 있다. ADU의 데이터 타입 정보에 기반하여 결정되는 PDU Set ID 와 PDU set의 중요도 정보 및 PDU set의 상관 SN은 SMF와 UPF 및 단말이 동일한 방법에 따라 동일한 값이 나오도록 설정될 수 있다. 상기와 같이 GTP 헤더에 마킹된(포함된) PDU Set 및 어플리케이션 ID를 고려하여 UPF와 NG-RAN에서는 어플리케이션 레벨의 QoS를 제공할 수 있다. 이를 위해, SMF는 306 단계에서 UPF에 전용 큐 지시자를 포함한 패킷 레벨 QoS 정책 정보를 전송할 수 있다. 또한, SMF는 306 단계에서 UPF에 어플리케이션 QoS 지시자를 전송함으로써 패킷 레벨 QoS 외에 추가적으로 어플리케이션 레벨 QoS가 적용됨을 알릴 수 있다. 이와 유사하게, 307 단계에서 SMF는 NG-RAN으로 N2 SM 정보를 포함하는 N2 요청 메시지를 전송할 수 있다. SMF과 NG-RAN 간의 통신은 AMF를 통해 수행될 수 있다. N2 SM 정보는 전용 큐 지시자를포함한 패킷 레벨 QoS 정책 정보와, 패킷 레벨 QoS 외에 추가적으로 어플리케이션 레벨 QoS가 적용됨을 알리기 위한 어플리케이션 레벨 QoS 지시자를 포함할 수 있다. SMF는 전용 큐 지시자를 포함하는 패킷 레벨 QoS 정책 정보를 가지고 있지 않거나 해당 정보를 PCF로부터 수신하지 못하더라도 어플리케이션 QoS가 적용됨 을 인지하는 경우에는 전용 큐 지시자를 포함하는 패킷 레벨 QoS 정보를 NG-RAN에게 전송할 수 있다. 전용 큐 지시자를 포함한 패킷 레벨 QoS 정책이 어플리케이션 QoS와 함께 적용되면 GTP 헤더에 어플리케이션 ID 가 생략되더라도 어플리케이션 별로 어플리케이션 레벨 QoS가 적용될 수 있다. SMF는 306 단계에서 UPF로 전송한 메시지와 307 단계 의 NG-RAN에 대한 N2 SM 정보에 패킷 처 리 기준 정보를 더 포함할 수 있다. 패킷 처리 기준 정보는 패킷에 대해 패킷 레벨 QoS 정책을 적용하고 어플리 케이션 레벨의 QoS 정책을 적용하기위해서 패킷을 처리하기 위한 기준 정보를 나타낼 수 있다. 패킷 처리 기준 정보는 306 단계에서 N4 rule로서 UPF로 전송될 수 있고, 307 단계에서는 QoS rule이나 QoS parameter의 정보에 포함되어 NG-RAN으로 전송될 수 있다. 패킷 처리 기준 정보는 어떤 PDU set이 제대로 전달되지 않았을 때 상대적으로 중요도 레벨이 같거나 낮으면서 상관도가 높은 PDU set에 대해서 드롭을 적용할것인가 또는 마킹을 해서 유사시에 드롭시킬 것인지를 나타내는 정보를 포함할 수 있다. 예를 들어, 패킷 처리 기준 정보는 상관도가 높은 PDU set을 판단하기 위해 이용되는 상관 SN의 차이값에 대한 임계값을 포함하거나, 드롭할지 또는 마킹할지를 지시하는 지시자를 포함할 수 있다. UPF와 NG-RAN은 패킷 처리 기준 정보를 수신하지 못한 경우, 어플리케이션 레벨의 QoS를 적용하는 경 우 설정된 임계값(예: 1)을 사용하고, 중요도 레벨이 같거나 낮으면서 상관도가 높은 PDU set에 대해 설정된 동 작(예: 드롭 처리 동작)을 수행할 수 있다. NG-RAN과 UPF에서 어플리케이션 레벨의 QoS를 적용하는 절차는 이하에서 도 5를 참조하여 설명하기로 한다. 한편, NG-RAN은 307 단계에서 수신한 N2 요청 메시지를 단말에게 전달할 수 있다. 예를 들어, 308 단계에서 NG-RAN은 RRC 메시지에 PDU 세션 설정 수락(PDU session establishment accept) 메시지를 포함 하여 단말에게 전송할 수 있다. SMF는 단말에게 전송할 PDU 세션 설정 수락 메시지를 생성하고, 생성된 메시지를 307 단계에서 AMF에 전달할 수 있다. AMF는 전달된 메시지를 N2 요청 메시지에 포함하여 NG-RAN으로 전송할 수 있다. 이처럼, SMF는 생성된 메시지를 AMF으로 전송할 수 있고, AMF는 SMF로부터 수신한 메시지 를 N2 인터페이스를 통해 N2 요청 메시지에 포함하여 NG-RAN으로 전송할 수 있다. 그러면, NG-RAN은 RRC 메시지에 PDU 세션 설정 수락 메시지를 포함하여 단말로 전달할 수 있다. RRC 과정에서 NG-RAN의 자원이 확정되면 309 단계에서 SMF는 NG-RAN로부터 확정된 자원에 대한 정보가 포함된 N2 응답 메시지를 수신할 수 있다. SMF는 수신된 N2 응답 메시지를 기반으로 310 단계에서 UPF로 N4 업데이트 메시지를 전송한다. N4 업데이트 메시지는 어플리케이션 레벨의 QoS를 위한 N4 rule들 을 포함할 수 있다. 도 4는 본 개시의 일 실시 예에 따른 무선 통신 시스템에서 생성된 PDU 세션에 대해서 어플리케이션 레벨의 QoS 정보가 업데이트 된 경우, 업데이트된 QoS 정보를 망에 적용하는 방법을 나타낸 흐름도이다. 도 4를 참조하면, 400 단계에서 XR 서비스를 위한 DNN 및 S-NSSAI에 대한 PDU 세션이 설정될 수 있다. 401 단계에서, AF/AS는 XR 서비스를 위한 QoS 정책을 업데이트 하는 경우, 업데이트된 QoS 정보를 포함하 는 QoS 요청 메시지를 NEF에게 전송할 수 있다. QoS 요청 메시지는 단말에 대한 정보(예: 단말의 IP 주소 또는 AF specific GPSI 정보) 및 어플리케이션 레벨 QoS를 적용하기 위한 어플리케이션 레벨 QoS 정보가 포함될 수 있다. 어플리케이션 레벨 QoS 정보는 일 예로 어플리케이션 레벨 QoS를 적용할지 여부를 나타내는 어플리케이션 레벨 QoS 지시자를 포함할 수 있다. 또한, 어플리케이션 레벨 QoS 정보는 어플리케이션에서 발생하는 데이터 flow를 검출하기 위한 어플리케이션 flow 검출 정보를 포함할 수 있다. 예를 들어, 어플리케이션 flow 검출 정보는 어 플리케이션 서버의 IP 주소와 같은 주소 정보, 어플리케이션 ID, ADU 헤더에 포함된 정보인 ADU의 데이터 타입 정보(예: 전송 프로토콜의 정보 또는 데이터 인코딩 프로토콜 종류나 인코딩 레이트 관련 정보)를 포함할 수 있다. 또한, 어플리케이션 flow 검출 정보는 검출된 ADU의 패킷에 대해서 어떠한 PDU Set ID가 할당될 수 있는지를 나 타내는 승인된 PDU Set ID에 대한 정보를 포함할 수도 있다. 또한, 어플리케이션 flow 검출 정보는 어플리케이션 레벨 QoS가 적용되는 경우 ADU들 간의 상관도에 따라 통신 망에서 패킷을 NG-RAN이나 UPF에서 드롭시킬지 여부를 판단하기 위한 상관 SN의 임계값 또는 상관 롤 링 SN의 임계값을 포함할 수 있다. 또는, 어플리케이션 flow 검출 정보는 NG-RAN이나 UPF에서 필요시 패킷을 드롭시키기 위한 정보로 사용할 수 있도록 마킹을 적용할지 여부를 판단하기 위한 상관 SN의 임계값 또 는 상관 롤링 SN의 임계값을 포함할 수도 있다. 또한, 어플리케이션 flow 검출 정보는 어플리케이션에서 발생된 패킷들 중 발견된 패킷들에 대한 XR 서비스를 위하여 전용 큐 지시자를 포함하는 패킷 레벨 QoS 정책을 포함할 수 있다. 402 단계에서, NEF는 AF/AS로부터 QoS 요청 메시지가 수신되면, AF/AS의 요청에 대해서 권한 체크를 할 수 있다. 403 단계에서, NEF는 단말의 ID 정보(예: SUPI 정보)를 획득하기 위하여 UDM과의 통신을 통해 서 AF specific GPSI에 해당하는 단말의 ID 정보를 획득할 수 있다. NEF는 단말의 ID를 기반으로 단말로 제공되는 XR 서비스에 대한 DNN 및 S-NSSAI를 서비스하는 PCF를 선택할 수 있다. NEF는 업데이트된 QoS 정보를 선택된 PCF에게 전송할 수 있다. 또는, NEF는 단말의 IP 주소를 기반으로 PCF를 선택하여, 404 단계에서 업데이트된 QoS 정보를 선택된 PCF에게 전송할 수 있다. PCF는 404 단계를 통해서 업데이트된 QoS 정보를 수신하고,406 단계에서 업데이트된 QoS 정보를 포함하는 SM 정책 업데이트 요청 메시지를 SMF에게 전송할 수 있다. 즉, PCF는 해당 PDU 세션에 대해 업데이트 된 QoS 정보를 SMF에게 전송할 수 있다. PCF는 SM 정책 연관 업데이터(SM policy association update) 과정을 통해, 승인된 어플리케이션 레벨 QoS 정보를 획득할 수 있다. 예를 들어, 승인된 어플리케이션 레벨 QoS 정보는 PDU 세션에 대한 정책 정보로서 어플리케이션 레벨 QoS를 적용할지 여부를 나타내는 어플리케이션 레벨 QoS 지시자를 포함할 수 있다. 또한, 승 인된 어플리케이션 레벨 QoS 정보는 어플리케이션에서 발생하는 flow를 검출하기 위한 어플리케이션 flow 검출 정보를 포함할 수 있다. 예를 들어, 어플리케이션 flow 검출 정보는 어플리케이션 서버의 IP 주소와 같은 주소 정보, 어플리케이션 ID, ADU 헤더에 포함된 정보인 ADU의 데이터 타입 정보(예: 전송 프로토콜의 정보 또는 데 이터 인코딩 프로토콜 종류나 인코딩 레이트 관련 정보)를 포함할 수 있다. 또한, 어플리케이션 flow 검출 정보 는 검출된 ADU의 패킷에 대해서 어떠한 PDU Set ID가 할당될 수 있는지를 나타내는 승인된 PDU Set ID에 대한 정보를 포함할 수도 있다. 또한, 어플리케이션 flow 검출 정보는 어플리케이션 레벨 QoS가 적용되는 경우 ADU들 간의 상관도에 따라 통신 망에서 패킷을 NG-RAN이나 UPF에서 드롭시킬지 여부를 판단하기 위한 상관 SN의 임계값 또는 상관 롤 링 SN의 임계값을 포함할 수 있다. 또는, 어플리케이션 flow 검출 정보는 NG-RAN이나 UPF에서 필요시 패킷을 드롭시키기 위한 정보로 사용할 수 있도록 마킹을 적용할지 여부를 판단하기 위한 상관 SN의 임계값 또 는 상관 롤링 SN의 임계값을 포함할 수도 있다. 또한, 어플리케이션 flow 검출 정보는 어플리케이션에서 발생된 패킷들 중 발견된 패킷들에 대한 XR 서비스를 위하여 전용 큐 지시자를 포함하는 패킷 레벨 QoS 정책을 포함할 수 있다. 407 단계 내지 411 단계는 도 3의 306 단계 내지 310 단계에서 SMF가 PDU 세션 설정 수락 메시지를 보내는 대신, PDU 세션을 수정하기 위한 PDU 세션 수정 명령(PDU session modification command) 메시지를 전송한다는 점을 제외하고, 어플리케이션 레벨 QoS를 적용하기 위한 동작과 유사한 동작이 수행될 수 있으므로 상세한 설명 은 생략하기로 한다. 한편, 도 4의 PDU 세션 수정 명령 메시지 역시, 도 3의 PDU 세션 설정 수락 메시지와 유사하게, SMF에서 생성되어 AMF와 NG-RAN을 통해 단말로 전송된 메시지일 수 있다. 도 5는 본 개시의 일 실시 예에 따른 무선 통신 시스템에서 어플리케이션 레벨의 QoS에 따라 패킷을 처리하는 방법을 나타내는 순서도이다.일 실시 예에 따른 패킷 처리 방법은 패킷 처리 장치(예: UPF 및/또는 NG-RAN)에서 어플리케이션 레 벨 QoS를 적용하여 패킷을 처리하는 동작을 포함할 수 있다. 예를 들어, 패킷 처리 장치는 어플리케이션 레벨 QoS를 적용할 것을 지시하는 어플리케이션 레벨 QoS 지시자를 수신하면, 패킷에 대한 어플리케이션 레벨 QoS 처 리를 수행할 수 있다. 도 5를 참조하면, UPF 및/또는 NG-RAN와 같은 패킷 처리 장치는 501 단계에서, 패킷 전송의 지연 또 는 정체 및/또는 전송 실패 상황을 검출할 수 있다. 즉, 패킷 처리 장치는 어떤 PDU set에 해당하는 패킷이 전 송이 실패되는지, 및/또는 패킷 전송 과정에서 정체가 발생했는지 여부를 검출할 수 있다. 예를 들어, 패킷 처 리 장치는 제 1 PDU set의 패킷들이 임계 횟수 이상 또는 임계 비율(%) 이상 전송에 실패되거나 정체를 겪는 경 우에 제 1 PDU set에 대한 전송이 실패한 것으로 인식할 수 있다. 패킷 처리 장치는 502 및 503 단계에서, 제 1 PDU set과 연관성이 있는 PDU set에 해당하는 패킷들을 식별하기 위한 상관도 체크와, 제 1 PDU set과 중요도 레벨이 동일하거나 더 낮은 PDU Set을 식별하기 위한 중요도 체크 를 수행할 수 있다. 예를 들어, 패킷 처리 장치는 502 단계에서, 제 1 PDU set의 패킷과의 상관 SN의 차이가 임계값 보다 작은 패킷 이 식별되면, 503 단계에서 식별된 패킷을 연관성 있는 패킷으로 판단하여 중요도 체크를 수행할 수 있다. 또한, 패킷 처리 장치는 502 단계에서, 제 1 PDU set의 패킷과의 상관 SN의 차이가 임계값 보다 크거나 동일한 패킷이 식별되면, 식별된 패킷을 연관성 있는 패킷으로 판단하지 않고, 505 단계에서 어플리케이션 레벨 QoS 처 리없이 패킷 레벨 QoS 처리만을 수행할 수 있다. 503 단계에서 중요도 체크는 제 1 PDU set의 패킷과 중요도 레벨이 동일한 패킷인지 여부를 기반으로 수행될 수 있다. 패킷 처리 장치는 제 1 PDU set의 패킷과 동일하거나 낮은 중요도 레벨을 갖는 패킷이 식별되면, 504 단 계에서 식별된 패킷을 드롭시키거나 버릴 수 있다. 또는, 패킷 처리 장치는 제 1 PDU set의 패킷과 동일하거나 낮은 중요도 레벨을 갖는 패킷이 식별되면, 필요시에 식별된 패킷을 드롭시키거나 버릴 수 있음을 지시하는 정 보를 식별된 패킷의 헤더에 추가하는 마킹 동작을 수행할 수 있다. 503 단계에서, 패킷 처리 장치는 제 1 PDU set의 패킷보다 높은 중요도 레벨을 갖는 패킷이 식별되면, 505 단계 에서 어플리케이션 레벨 QoS 처리를 하지 않고 패킷 레벨 QoS만을 적용할 수 있다. 일 실시 예에 따라, 502 단계와 503 단계는 순서가 서로 뒤바뀔수도 있다. 즉, 도 5에 도시된 바와 달리, 503 단계가 먼저 수행된 후 502 단계가 수행될 수도 있다. 일 실시 예에 따라, 502 단계와 503 단계의 조건에 해당되지 않은 PDU set의 패킷들에 대해서는 어플리케이션 레벨 QoS 처리를 하지 않고 패킷 레벨 QoS 처리만이 수행될 수 있다. 일 실시 예에 따라, 도 5에 도시된 어플리케이션 레벨 QoS 처리 방법은 UPF와 NG-RAN에서 검출되는 PDU set들의 순서대로 적용될 수 있다. 도 6은 본 개시의 일 실시 예에 따른 전자 장치의 블록 구성도이다. 다양한 실시 예들에 따르면, 도 6에 도시된 전자 장치는 도 1에 도시된 장치들(단말, NG-RAN, UPF, AMF, SMF, PCF, NEF, AF/AS) 중 어느 하나의 장치일 수 있다. 도 6을 참조하면, 전자 장치는 송수신부와 프로세서를 포함할 수 있다. 송수신부는 적어도 하나의 다른 장치와 신호 또는 메시지를 송수신할 수 있다. 프로세서는 송수신부를 제어하고, 상술한 다양한 실시 예들 중 적어도 하나에 기반한 동작을 수행할 수 있다. 프로세서는 어플리케이션 프로세서 및 통신 프로세서를 포함할 수 있다. 송수신부 및 프로세서는 반드시 별도의 모듈들로 구현되어야 하는 것은 아니고, 단일 칩과 같은 하나 의 구성부로 구현될 수도 있다. 송수신부 및 프로세서는 전기적으로 연결될 수 있다. 일 실시 예에서 프로세서는 회로(circuit), 어플리케이션 특정(application-specific) 회로, 또는 적어도 하나의 프로세 서를 나타낼 수 있다. 또한, 전자 장치의 동작들은 해당 프로그램 코드를 저장한 메모리 장치를 전자 장치 내부(예: 프로세서 및/또는 도시되지 않은 다른 구성부)에 구비함으로써 실현될 수 있다. 본 발명의 상세한 설명에서는 구체적인 실시 예에 관해 설명하였으나, 본 발명의 범위에서 벗어나지 않는 한도 내에서 여러 가지 변형이 가능함은 물론이다. 그러므로 본 발명의 범위는 설명된 실시 예에 국한되어 정해져서는 아니 되며 후술하는 특허청구의 범위만 아니라 이 특허청구의 범위와 균등한 것들에 의해 정해져야 한다."}
{"patent_id": "10-2022-0038336", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 개시의 일 실시 예에 따른 무선 통신 시스템의 구조를 예시한 도면, 도 2는 본 개시의 일 실시 예에 따른 무선 통신 시스템에서 어플리케이션 레벨 정보를 포함한 GTP 헤더를 예시 한 도면, 도 3은 본 개시의 일 실시 예에 따른 무선 통신 시스템에서 단말이 PDU 세션을 생성하면서 어플리케이션 레벨의 QoS 정보를 망에 적용하는 방법을 나타낸 흐름도, 도 4는 본 개시의 일 실시 예에 따른 무선 통신 시스템에서 생성된 PDU 세션에 대해서 어플리케이션 레벨의 QoS 정보가 업데이트 된 경우, 업데이트된 QoS 정보를 망에 적용하는 방법을 나타낸 흐름도, 도 5는 본 개시의 일 실시 예에 따른 무선 통신 시스템에서 어플리케이션 레벨의 QoS에 따라 패킷을 처리하는 방법을 나타내는 순서도, 도 6은 본 개시의 일 실시 예에 따른 전자 장치의 블록 구성도."}
