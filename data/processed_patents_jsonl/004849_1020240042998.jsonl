{"patent_id": "10-2024-0042998", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0043221", "출원번호": "10-2024-0042998", "발명의 명칭": "피쳐맵 내 관심 영역 압축을 이용한 인코더 및 디코더", "출원인": "한화비전 주식회사", "발명자": "임정은"}}
{"patent_id": "10-2024-0042998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "VCM(video coding for machines) 인코딩 장치에 있어서,입력 영상에 대하여 하나 이상의 피쳐맵(Feature Map)을 추출하는 피쳐맵 추출부;상기 하나 이상의 피쳐맵에서 하나 이상의 공간적 관심 영역을 도출하는 관심영역 도출부;상기 하나 이상의 피쳐맵을 포함하는 코딩 그룹 단위로 피쳐맵을 변환하는 피쳐맵 변환부; 및상기 하나 이상의 피쳐맵 또는 상기 변환된 피쳐맵을 코딩 그룹 단위로 부호화하여 비트스트림을 출력하는 피쳐맵 부호화부를 포함하는, VCM 인코딩 장치."}
{"patent_id": "10-2024-0042998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 피쳐맵 추출부는, 스케일 파라미터를 이용하여 상기 추출된 하나 이상의 피쳐맵의 공간해상도를 변경하는,VCM 인코딩 장치."}
{"patent_id": "10-2024-0042998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 잇어서,상기 스케일 파라미터는 상기 하나 이상의 피쳐맵 각각에 지정되고, 시퀀스, 프레임 그룹, 또는 프레임 단위로지정되는, VCM 인코딩 장치."}
{"patent_id": "10-2024-0042998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 하나 이상의 공간적 관심 영역은 단위 영역의 연속적인 집합으로 구성되고, 관심 영역 맵 또는 다각형의위치 및 크기 정보로 정의되는, VCM 인코딩 장치."}
{"patent_id": "10-2024-0042998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서,상기 하나 이상의 공간적 관심 영역에 대한 정보는 픽쳐 파라미터 세트에 포함되어 VCM 디코딩 장치에전송되고,상기 하나 이상의 공간적 관심 영역에 대한 정보는 관심 영역을 추출한 피쳐맵의 개수 및 각 인덱스를포함하는, VCM 인코딩 장치."}
{"patent_id": "10-2024-0042998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에 있어서,코딩 그룹 도출부를 더 포함하고,상기 코딩 그룹 도출부는 상기 하나 이상의 피쳐맵을 미리 정해진 그룹핑 기준에 따라 하나 이상의 코딩 그룹으로 그룹핑하고,상기 미리 정해진 그룹핑 기준은 부호화 대상 여부, 관심 영역 추출 여부 및 동일한 관심 영역을 포함하는지 여부 중 적어도 하나에 따라 정의되는, VCM 인코딩 장치."}
{"patent_id": "10-2024-0042998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "공개특허 10-2025-0043221-3-제1항에 있어서,상기 피쳐맵 변환부는 매트릭스 곱셈 기반 또는 다중 합성곱 레이어 수행 기반에 따라 피쳐맵을 변환하는, VCM인코딩 장치."}
{"patent_id": "10-2024-0042998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7항에 있어서,상기 피쳐맵 변환부는 제1 코딩 그룹에 포함된 피쳐맵에 대하여 공간해상도를 스케일링하고, 상기 피쳐맵을 변환 유닛으로 분할하고, 분할된 피쳐맵에 대하여 매트릭스 곱셈 기반 변환을 수행하여 변환 계수를 도출하는,VCM 인코딩 장치."}
{"patent_id": "10-2024-0042998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제7항에 있어서,상기 피쳐맵 변환부는, 코딩 그룹 내 한 개 이상의 피쳐맵의 공간 해상도를 동일하게 조정하고, 상기 하나 이상의 피쳐맵을 채널축으로 결합하고, 결합된 하나의 피쳐맵을 채널축 기준으로 함축하는 다중 합성곱 레이어를 수행하는, VCM 인코딩 장치."}
{"patent_id": "10-2024-0042998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제1항에 있어서,피쳐맵 변환에 관한 정보는 코딩 그룹 헤더에 포함되어 VCM 디코딩 장치에 전송되고,상기 피쳐맵 변환에 관한 정보는, 임의의 피쳐맵에 변환을 수행할 때 해당 피쳐맵 내부 정보만 이용하는지 또는다른 피쳐맵의 정보를 참조하는지 여부를 나타내는 참조 속성, 및 변환을 수행하는 알고리즘 종류를 나타내는변환 종류 중 적어도 하나를 포함하는, VCM 인코딩 장치."}
{"patent_id": "10-2024-0042998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제1항에 있어서,부호화 방법에 관한 정보는 코딩 그룹 헤더에 포함되어 VCM 디코딩 장치에 전송되고,상기 부호화 방법에 관한 정보는 임의의 피쳐맵에 부호화를 수행할 때 해당 피쳐맵 내부 정보만 이용하는지 또는 다른 피쳐맵의 정보를 참조하는지 여부를 나타내는 부호화 참조 속성 및 부호화 알고리즘의 종류 중 적어도하나를 포함하는, VCM 인코딩 장치."}
{"patent_id": "10-2024-0042998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제1항에 있어서,상기 피쳐맵 부호화부는 비디오 기반 비-딥러닝 방법 또는 비디오 기반 딥러닝 방법에 따라 부호화를 수행하고,상기 비디오 기반 비-딥러닝 방법은 예측, 변환, 양자화 및 엔트로피 코딩의 단계에 따라 부호화를 수행하고,상기 비디오 기반 딥러닝 방법은 다중 합성곱 레이어로 구성된 뉴럴 네트워크 구조를 사용하여 부호화를 수행하는, VCM 인코딩 장치."}
{"patent_id": "10-2024-0042998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제12항에 있어서,상기 비디오 기반 비-딥러닝 방법은, 상기 하나 이상의 피쳐맵 또는 변환된 피쳐맵을 2차원 프레임으로 재구성하여 부호화를 수행하는 경우, 관심 영역과 비 관심 영역에 대한 양자화 파라미터를 상이하게 지정하는, VCM 인코딩 장치."}
{"patent_id": "10-2024-0042998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "VCM(video coding for machines) 디코딩 장치에 있어서,공개특허 10-2025-0043221-4-비트스트림을 수신하여 코딩 그룹 단위로 하나 이상의 피쳐맵 또는 피쳐맵 변환 계수를 복원하는 피쳐맵 복호화부;상기 피쳐맵 변환 계수를 복원하는 것에 응답하여 코딩 그룹 단위로 복원된 피쳐맵 변환 계수에 역변환 매트릭스를 곱하여 역변환을 수행하는 피쳐맵 역변환부;상기 복원된 피쳐맵을 기반으로 전송되지 않은 피쳐맵 또는 피쳐맵 일부 영역을 예측하여 전체 피쳐맵을 재구성하는 피쳐맵 재구성부; 및상기 복원된 전체 피쳐맵을 기반으로 미리 요청된 머신 태스크를 수행하는 머신 태스크 분석부를 포함하는, VCM디코딩 장치."}
{"patent_id": "10-2024-0042998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제14항에 있어서,상기 미리 요청된 머신 태스크는 객체 탐지, 영역 세그멘테이션, 객체 추적, 행동 인식, 및 상황 해석 중 하나에 해당하는, VCM 디코딩 장치."}
{"patent_id": "10-2024-0042998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제14항에 있어서,상기 피쳐맵 복호화부는 상기 비트스트림에 대한 코딩 그룹 헤더에 포함된 복호화 참조 속성에 따른 복호화 방법으로 상기 비트스트림을 복호화를 수행하는, VCM 디코딩 장치."}
{"patent_id": "10-2024-0042998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제14항에 있어서,상기 피쳐맵 역변환부는 상기 비트스트림에 대한 코딩 그룹 헤더에 포함된 변환 참조 속성에 따른 역변환 방법으로 상기 피쳐맵 또는 피쳐맵 변환 계수에 대한 역변환을 수행하는, VCM 디코딩 장치."}
{"patent_id": "10-2024-0042998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "제17항에 있어서,상기 피쳐맵 역변환부는, 매트릭스 곱셈 기반 역변환 방법 또는 다중 합성곱 레이어 기반 역변환 방법에 따라피쳐맵 또는 피쳐맵 변환 계수를 역변환하고,상기 매트릭스 곱셈 기반 역변환 방법에 따른 상기 피쳐맵 역변환부는, 역변환 유닛마다의 피쳐맵 변환 계수에역변환 매트릭스를 곱하여 역변환을 수행하고, 상기 비트스트림에 대한 코딩 그룹 헤더에 포함된 피쳐맵 정보에기반하여 역변환된 피쳐맵의 위치를 재배치하고, 상기 코딩 그룹 헤더에 포함된 역스케일링 파라미터를 이용하여 상기 피쳐맵을 역스케일링하고,상기 다중 합성곱 레이어 기반 역변환 방법에 따른 상기 피쳐맵 역변환부는, 합성곱 레이어의 조합으로 구성된뉴럴 네트워크를 이용하여 상기 복원된 피쳐맵에 대한 역변환을 수행하는, VCM 디코딩 장치."}
{"patent_id": "10-2024-0042998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_19", "content": "제14항에 있어서,상기 피쳐맵 재구성부는 시퀀스, 프레임 그룹 또는 프레임 레벨에서 전송받은 상기 비트스트림에 대한 피쳐맵정보에 기반하여, 복원된 관심 영역을 피쳐맵의 원래 위치에 배치하고, 전체 공간해상도가 복원된 하나 이상의피쳐맵을 이용하여 복원되지 않은 비 관심 영역에 대한 피쳐 값을 예측하고, 복원된 관심 영역과 예측된 비 관심 영역을 결합하여 전체 해상도의 피쳐맵을 복원하는, VCM 디코딩 장치."}
{"patent_id": "10-2024-0042998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_20", "content": "명령어들을 기록하고 있는 비휘발성(non-volatile) 컴퓨터 판독가능 저장매체로서,상기 명령어들은, 하나 이상의프로세서들에 의해 실행될 때, 상기 하나 이상의 프로세서들로 하여금:공개특허 10-2025-0043221-5-입력 영상에 대하여 하나 이상의 피쳐맵(Feature Map)을 추출하는 단계;상기 하나 이상의 피쳐맵에서 하나 이상의 공간적 관심 영역을 도출하는 단계;상기 하나 이상의 피쳐맵을 포함하는 코딩 그룹 단위로 피쳐맵을 변환하는 단계; 및상기 하나 이상의 피쳐맵 또는 상기 변환된 피쳐맵을 코딩 그룹 단위로 부호화하여 비트스트림을 출력하는 단계를 수행하도록 하는, 비일시적 컴퓨터 판독가능 저장 매체."}
{"patent_id": "10-2024-0042998", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 개시의 일 예시는 VCM(video coding for machines) 인코딩 장치를 제시한다. 상기 인코딩 장치는, 입력 영상 에 대하여 하나 이상의 피쳐맵(Feature Map)을 추출하는 피쳐맵 추출부; 상기 하나 이상의 피쳐맵에서 하나 이상 의 공간적 관심 영역을 도출하는 관심영역 도출부; 상기 하나 이상의 피쳐맵을 포함하는 코딩 그룹 단위로 피쳐 맵을 변환하는 피쳐맵 변환부; 및 상기 하나 이상의 피쳐맵 또는 상기 변환된 피쳐맵을 코딩 그룹 단위로 부호화 하여 비트스트림을 출력하는 피쳐맵 부호화부를 포함할 수 있다."}
{"patent_id": "10-2024-0042998", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 개시는 피쳐맵 내 관심 영역 압축을 이용한 인코더 및 디코더에 관한 것이다."}
{"patent_id": "10-2024-0042998", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "정보 통신 산업의 지속적인 발달을 통해 HD(High Definition) 해상도를 가지는 방송 서비스가 세계적으로 확산 되었다. 이러한 확산을 통해, 많은 사용자들이 고해상도이며 고화질인 영상(image) 및/또는 비디오(video)에 익숙해지게 되었고, 보다 높은 화질, 즉 4K 또는 8K 이상의 UHD(Ultra High Definition) 영상/비디오와 같은 고해상도, 고 품질의 영상/비디오에 대한 수요가 다양한 분야에서 증가되었다. 이러한 UHD 영상데이터를 코딩하는 기술은 2013년 표준 기술인 HEVC(High Efficiency Video Coding)를 통해 완 성되었다. HEVC는 이전의 H.264/AVC 기술보다 더 높은 압축률과 더 낮은 복잡도를 갖는 차세대 영상 압축 기술이며, HD급, UHD급 영상의 방대한 데이터를 효과적으로 압축하기 위한 핵심 기술이다. HEVC는 이전의 압축 표준들과 같이 블록 단위의 부호화를 수행한다. 다만 H.264/AVC와 달리 하나의 프로파일만 존재하는 차이점이 있다. HEVC의 유일한 프로파일에 포함된 핵심 부 호화 기술은 총 8개 분야로 계층적 부호화 구조 기술, 변환 기술, 양자화 기술, 화면 내 예측 부호화 기술, 화 면 간 움직임 예측 기술, 엔트로피 부호화 기술, 루프 필터 기술 및 기타 기술이 있다. 2013년 HEVC 비디오 코덱 제정 이후, 4K, 8K를 비디오 영상을 이용한 실감 영상 및 가상 현실 서비스 등이 확대 됨에 따라 HEVC 대비 2배 이상 성능 개선을 목표로 하는 차세대 비디오 코덱인, 다용도 비디오 부호화(VVC: Versatile Video Coding) 표준이 개발되었다. VVC는 H.266으로 불린다. H.266(VVC)은 이전 세대 코덱인 H.265(HEVC)보다 2배 이상의 효율을 목표로 개발되었다. VVC는 처음에는 4K 이 상의 해상도를 감안하고 개발되었으나 점점 VR 시장의 확장으로 인한 360도 영상을 대응할 목적으로 무려 16K 수준의 초고해상도 영상처리용으로도 개발되었다. 또한 점차 디스플레이 기술의 발달로 HDR 시장이 확대됨에 따 라 이에 대응하기 위해 10비트 색심도는 물론이고 16비트 색심도를 지원하며 1000니트, 4000니트, 10000니트의 밝기 표현을 지원한다. 또한 VR시장과 360도 영상시장을 염두하여 개발되고 있기에 0~120 FPS 범위의 부분 프레 임 속도를 지원한다. <인공 지능의 발전> 인공지능(artificial intelligence: AI)도 점차 발전하고 있다. AI는 인간의 지능, 즉 인식(Recognition), 분 류(Classification), 추론(Inference), 예측(Predict), 조작/의사결정(Control/Decision making) 등을 할 수 있는 지능을 인공적으로 모방하는 것을 의미한다. 인공 지능 기술의 발전 및 사물인터넷(Internet Of Things; IOT) 기기의 증가로 인해 기계 간 트래픽이 폭증할 것으로 예측되고, 기계(machine)에 의존하는 영상 분석이 널리 사용될 것으로 예측되고 있다. 그러나, 기계에 의해 분석되어야 할 영상이 기하급수적으로 증가될 것으로 예상됨에 따라, 서버의 부하 및 전력 소모 문제가 제기될 것으로 예측된다."}
{"patent_id": "10-2024-0042998", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 2, "content": "발명의 내용"}
{"patent_id": "10-2024-0042998", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "따라서, 본 개시는 기계에 의한 영상 분석을 효과적으로 수행할 수 있도록 하기 위하여, 피쳐맵 내 관심 영역 압축을 이용한 인코더 및 디코더를 제공하는 것을 목적으로 한다."}
{"patent_id": "10-2024-0042998", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "전술한 목적을 달성하기 위하여, 본 명세서의 일 개시에 따르면, VCM 인코딩 장치가 제공된다. 기계를 위한 인코딩 장치는, 입력 영상에 대하여 하나 이상의 피쳐맵(Feature Map)을 추출하는 피쳐맵 추출부; 상기 하나 이상의 피쳐맵에서 하나 이상의 공간적 관심 영역을 도출하는 관심영역 도출부; 상기 하나 이상의 피 쳐맵을 포함하는 코딩 그룹 단위로 피쳐맵을 변환하는 피쳐맵 변환부; 및 상기 하나 이상의 피쳐맵 또는 상기 변환된 피쳐맵을 코딩 그룹 단위로 부호화하여 비트스트림을 출력하는 피쳐맵 부호화부를 포함할 수 있다. 본 명세서의 일 개시에 따른 VCM 디코딩 장치가 제공된다. VCM 디코딩 장치는, 비트스트림을 수신하여 코딩 그 룹 단위로 하나 이상의 피쳐맵 또는 피쳐맵 변환 계수를 복원하는 피쳐맵 복호화부; 상기 피쳐맵 변환 계수를 복원하는 것에 응답하여 코딩 그룹 단위로 복원된 피쳐맵 변환 계수에 역변환 매트릭스를 곱하여 역변환을 수행 하는 피쳐맵 역변환부; 상기 복원된 피쳐맵을 기반으로 전송되지 않은 피쳐맵 또는 피쳐맵 일부 영역을 예측하 여 전체 피쳐맵을 재구성하는 피쳐맵 재구성부; 및 상기 복원된 전체 피쳐맵을 기반으로 미리 요청된 머신 태스 크를 수행하는 머신 태스크 분석부를 포함할 수 있다. 본 명세서의 일 개시에 따르면, 명령어들을 기록하고 있는 비휘발성(non-volatile) 컴퓨터 판독가능 저장매체로 서,상기 명령어들은, 하나 이상의프로세서들에 의해 실행될 때, 상기 하나 이상의 프로세서들로 하여금: 입력 영상에 대하여 하나 이상의 피쳐맵(Feature Map)을 추출하는 단계; 상기 하나 이상의 피쳐맵에서 하나 이상의 공간적 관심 영역을 도출하는 단계; 상기 하나 이상의 피쳐맵을 포함하는 코딩 그룹 단위로 피쳐맵을 변환하는 단계; 및 상기 하나 이상의 피쳐맵 또는 상기 변환된 피쳐맵을 코딩 그룹 단위로 부호화하여 비트스트림을 출력 하는 단계를 수행하도록 할 수 있다."}
{"patent_id": "10-2024-0042998", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 개시에 의하면, 기계에 의한 영상 분석을 효과적으로 수행할 수 있다."}
{"patent_id": "10-2024-0042998", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 명세서 또는 출원에 개시되어 있는 본 개시의 개념에 따른 실시 예들에 대해서 특정한 구조적 내지 단계적 설명들은 단지 본 개시의 개념에 따른 실시 예를 설명하기 위한 목적으로 예시된 것으로, 본 개시의 개념에 따 른 실시 예들은 다양한 형태로 실시될 수 있으며 본 개시의 개념에 따른 실시 예들은 다양한 형태로 실시될 수 있으며 본 명세서 또는 출원에 설명된 실시 예들에 한정되는 것으로 해석되어서는 아니 된다. 본 개시의 개념에 따른 실시 예는 다양한 변경을 가할 수 있고 여러 가지 형태를 가질 수 있으므로 특정 실시 예들을 도면에 예시하고 본 명세서 또는 출원에 상세하게 설명하고자 한다. 그러나, 이는 본 개시의 개념에 따 른 실시 예를 특정한 개시 형태에 대해 한정하려는 것이 아니며, 본 개시의 사상 및 기술 범위에 포함되는 모든 변경, 균등물 내지 대체물을 포함하는 것으로 이해되어야 한다. 제1 및/또는 제2 등의 용어는 다양한 구성 요소들을 설명하는데 사용될 수 있지만, 상기 구성 요소들은 상기 용 어들에 의해 한정되어서는 안 된다. 상기 용어들은 하나의 구성 요소를 다른 구성 요소로부터 구별하는 목적으 로만, 예컨대 본 개시의 개념에 따른 권리 범위로부터 이탈되지 않은 채, 제1 구성요소는 제2 구성요소로 명명 될 수 있고, 유사하게 제2 구성요소는 제1 구성요소로도 명명될 수 있다. 어떤 구성요소가 다른 구성요소에 \"연결되어\" 있다거나 \"접속되어\" 있다고 언급된 때에는, 그 다른 구성요소에 직접적으로 연결되어 있거나 또는 접속되어 있을 수도 있지만, 중간에 다른 구성요소가 존재할 수도 있다고 이 해되어야 할 것이다. 반면에, 어떤 구성요소가 다른 구성요소에 \"직접 연결되어\" 있다거나 \"직접 접속되어\" 있 다고 언급된 때에는, 중간에 다른 구성요소가 존재하지 않는 것으로 이해되어야 할 것이다. 구성요소들 간의 관 계를 설명하는 다른 표현들, 즉 \"~사이에\"와 \"바로 ~사이에\" 또는 \"~에 이웃하는\"과 \"~에 직접 이웃하는\" 등도 마찬가지로 해석되어야 한다. 본 명세서에서 사용한 용어는 단지 특정한 실시 예를 설명하기 위해 사용된 것으로, 본 개시를 한정하려는 의도 가 아니다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 명세서에서, \"포함하다\" 또는 \"가지다\" 등의 용어는 서술된 특징, 숫자, 단계, 동작, 구성요소, 부분품 또는 이들을 조합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성요소, 부분품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 다르게 정의되지 않는 한, 기술적이거나 과학적인 용어를 포함해서 여기서 사용되는 모든 용어들은 본 개시가 속하는 기술 분야에서 통상의 지식을 가진 자에 의해 일반적으로 이해되는 것과 동일한 의미를 가지고 있다. 일반적으로 사용되는 사전에 정의되어 있는 것과 같은 용어들은 관련 기술의 문맥상 가지는 의미와 일치하는 의 미를 가지는 것으로 해석되어야 하며, 본 명세서에서 명백하게 정의하지 않는 한, 이상적이거나 과도하게 형식 적인 의미로 해석되지 않는다. 실시 예를 설명함에 있어서 본 개시가 속하는 기술 분야에 익히 알려져 있고 본 개시와 직접적으로 관련이 없는 기술 내용에 대해서는 설명을 생략한다. 이는 불필요한 설명을 생략함으로써 본 개시의 요지를 흐리지 않고 더욱 명확히 전달하기 위함이다. 이 문서는 비디오/영상 코딩에 관한 것이다. 예를 들어 이 문서에서 개시된 방법/실시예는 VVC (Versatile Video Coding) 표준 (ITU-T Rec. H.266), VVC 이후의 차세대 비디오/이미지 코딩 표준, 또는 그 이외의 비디오 코딩 관련 표준들(예를 들어, HEVC (High Efficiency Video Coding) 표준 (ITU-T Rec. H.265), EVC(essential video coding) 표준, AVS2 표준 등)과 관련될 수 있다. 이 문서에서는 비디오/영상 코딩에 관한 다양한 실시예들을 제시하며, 다른 언급이 없는 한 상기 실시예들은 서 로 조합되어 수행될 수도 있다. 이 문서에서 비디오(video)는 시간의 흐름에 따른 일련의 영상(image)들의 집합을 의미할 수 있다. 픽처 (picture)는 일반적으로 특정 시간대의 하나의 영상을 나타내는 단위를 의미하며, 슬라이스(slice)/타일(tile) 는 코딩에 있어서 픽처의 일부를 구성하는 단위이다. 슬라이스/타일은 하나 이상의 CTU(coding tree unit)을 포함할 수 있다. 하나의 픽처는 하나 이상의 슬라이스/ 타일로 구성될 수 있다. 하나의 픽처는 하나 이상의 타일 그룹으로 구성될 수 있다. 하나의 타일 그룹은 하나 이상의 타일들을 포함할 수 있다. 픽셀(pixel) 또는 펠(pel)은 하나의 픽처(또는 영상)을 구성하는 최소의 단위를 의미할 수 있다. 또한, 픽셀에 대응하는 용어로서 '샘플(sample)'이 사용될 수 있다. 샘플은 일반적으로 픽셀 또는 픽셀의 값을 나타낼 수 있 으며, 루마(luma) 성분의 픽셀/픽셀값만을 나타낼 수도 있고, 크로마(chroma) 성분의 픽셀/픽셀 값만을 나타낼 수도 있다. 또는 샘플은 공간 도메인에서의 픽셀값을 의미할 수도 있고, 이러한 픽셀값이 주파수 도메인으로 변 환되면 주파수 도메인에서의 변환 계수를 의미할 수도 있다. 유닛(unit)은 영상 처리의 기본 단위를 나타낼 수 있다. 유닛은 픽처의 특정 영역 및 해당 영역에 관련된 정보 중 적어도 하나를 포함할 수 있다. 하나의 유닛은 하나의 루마 블록 및 두개의 크로마(ex. cb, cr) 블록을 포함할 수 있다. 유닛은 경우에 따라서 블록(block) 또는 영역(area) 등의 용어와 혼용하여 사용될 수 있다. 일반적인 경우, MxN 블록은 M개의 열과 N 개의 행으로 이루어진 샘플들(또는 샘플 어레이) 또는 변환 계수(transform coefficient)들의 집합(또는 어레이)을 포함할 수 있다. 도 1은 비디오/영상 코딩 시스템의 예를 개략적으로 나타낸다. 도 1을 참조하면, 비디오/영상 코딩 시스템은 소스 디바이스 및 수신 디바이스를 포함할 수 있다. 소스 디바이 스는 인코딩된 비디오(video)/영상(image) 정보 또는 데이터를 파일 또는 스트리밍 형태로 디지털 저장매체 또 는 네트워크를 통하여 수신 디바이스로 전달할 수 있다. 상기 소스 디바이스는 비디오 소스, 인코딩 장치, 전송부를 포함할 수 있다. 상기 수신 디바이스는 수신부, 디 코딩 장치 및 렌더러를 포함할 수 있다. 상기 인코딩 장치는 비디오/영상 인코딩 장치라고 불릴 수 있고, 상기 디코딩 장치는 비디오/영상 디코딩 장치 라고 불릴 수 있다. 송신기는 인코딩 장치에 포함될 수 있다. 수신기는 디코딩 장치에 포함될 수 있다. 렌더러 는 디스플레이부를 포함할 수도 있고, 디스플레이부는 별개의 디바이스 또는 외부 컴포넌트로 구성될 수도 있다. 비디오 소스는 비디오/영상의 캡쳐, 합성 또는 생성 과정 등을 통하여 비디오/영상을 획득할 수 있다. 비디오 소스는 비디오/영상 캡쳐 디바이스 및/또는 비디오/영상 생성 디바이스를 포함할 수 있다. 비디오/영상 캡쳐 디 바이스는 예를 들어, 하나 이상의 카메라, 이전에 캡쳐된 비디오/영상을 포함하는 비디오/영상 아카이브 등을 포함할 수 있다. 비디오/영상 생성 디바이스는 예를 들어 컴퓨터, 타블렛 및 스마트폰 등을 포함할 수 있으며 (전자적으로) 비디오/영상을 생성할 수 있다. 예를 들어, 컴퓨터 등을 통하여 가상의 비디오/영상이 생성될 수 있으며, 이 경우 관련 데이터가 생성되는 과정으로 비디오/영상 캡쳐 과정이 갈음될 수 있다.인코딩 장치는 입력 비디오/영상을 인코딩할 수 있다. 인코딩 장치는 압축 및 코딩 효율을 위하여 예측, 변환, 양자화 등 일련의 절차를 수행할 수 있다. 인코딩된 데이터(인코딩된 비디오/영상 정보)는 비트스트림 (bitstream) 형태로 출력될 수 있다. 전송부는 비트스트림 형태로 출력된 인코딩된 비디오/영상 정보 또는 데이터를 파일 또는 스트리밍 형태로 디지 털 저장매체 또는 네트워크를 통하여 수신 디바이스의 수신부로 전달할 수 있다. 디지털 저장 매체는 USB, SD, CD, DVD, 블루레이, HDD, SSD 등 다양한 저장 매체를 포함할 수 있다. 전송부는 미리 정해진 파일 포맷을 통하 여 미디어 파일을 생성하기 위한 엘리먼트를 포함할 수 있고, 방송/통신 네트워크를 통한 전송을 위한 엘리먼트 를 포함할 수 있다. 수신부는 상기 비트스트림을 수신/추출하여 디코딩 장치로 전달할 수 있다. 디코딩 장치는 인코딩 장치의 동작에 대응하는 역양자화, 역변환, 예측 등 일련의 절차를 수행하여 비디오/영상 을 디코딩할 수 있다. 렌더러는 디코딩된 비디오/영상을 렌더링할 수 있다. 렌더링된 비디오/영상은 디스플레이부를 통하여 디스플레 이될 수 있다. 도 2는 비디오/영상 인코딩 장치의 구성을 개략적으로 설명하는 도면이다. 이하 비디오 인코딩 장치라 함은 영상 인코딩 장치를 포함할 수 있다. 도 2를 참조하면, 인코딩 장치(10a)는 영상 분할부(image partitioner, 10a-10), 예측부(predictor, 10a-20), 레지듀얼 처리부(residual processor, 10a-30), 엔트로피 인코딩부(entropy encoder, 10a-40), 가산부(adder, 10a-50), 필터링부(filter, 10a-60) 및 메모리(memory, 10a-70)를 포함하여 구성될 수 있다. 예측부(10a-20)는 인터 예측부(10a-21) 및 인트라 예측부(10a-22)를 포함할 수 있다. 레지듀얼 처리부(10a-30)는 변환부 (transformer, 10a-32), 양자화부(quantizer 10a-33), 역양자화부(dequantizer 10a-34), 역변환부(inverse transformer, 10a-35)를 포함할 수 있다. 레지듀얼 처리부(10a-30)는 감산부(subtractor, 10a-31)를 더 포함할 수 있다. 가산부(10a-50)는 복원부(reconstructor) 또는 복원 블록 생성부(reconstructed block generator)로 불릴 수 있다. 상술한 영상 분할부(10a-10), 예측부(10a-20), 레지듀얼 처리부(10a-30), 엔트로피 인코딩부 (10a-40), 가산부(10a-50) 및 필터링부(10a-60)는 실시예에 따라 하나 이상의 하드웨어 컴포넌트(예를 들어 인 코더 칩셋 또는 프로세서)에 의하여 구성될 수 있다. 또한 메모리(10a-70)는 DPB(decoded picture buffer)를 포함할 수 있고, 디지털 저장 매체에 의하여 구성될 수도 있다. 상기 하드웨어 컴포넌트는 메모리(10a-70)를 내 /외부 컴포넌트로 더 포함할 수도 있다. 영상 분할부(10a-10)는 인코딩 장치(10a)에 입력된 입력 영상(또는, 픽처, 프레임)를 하나 이상의 처리 유닛 (processing unit)으로 분할할 수 있다. 일 예로, 상기 처리 유닛은 코딩 유닛(coding unit, CU)이라고 불릴 수 있다. 이 경우 코딩 유닛은 코딩 트리 유닛(coding tree unit, CTU) 또는 최대 코딩 유닛(largest coding unit, LCU)으로부터 QTBTTT (Quad-tree binary-tree ternary-tree) 구조에 따라 재귀적으로(recursively) 분할될 수 있다. 예를 들어, 하나의 코딩 유 닛은 쿼드 트리 구조, 바이너리 트리 구조, 및/또는 터너리 구조를 기반으로 하위(deeper) 뎁스의 복수의 코딩 유닛들로 분할될 수 있다. 이 경우 예를 들어 쿼드 트리 구조가 먼저 적용되고 바이너리 트리 구조 및/또는 터 너리 구조가 나중에 적용될 수 있다. 또는 바이너리 트리 구조가 먼저 적용될 수도 있다. 더 이상 분할되지 않 는 최종 코딩 유닛을 기반으로 본 문서에 따른 코딩 절차가 수행될 수 있다. 이 경우 영상 특성에 따른 코딩 효 율 등을 기반으로, 최대 코딩 유닛이 바로 최종 코딩 유닛으로 사용될 수 있고, 또는 필요에 따라 코딩 유닛은 재귀적으로(recursively) 보다 하위 뎁스의 코딩 유닛들로 분할되어 최적의 사이즈의 코딩 유닛이 최종 코딩 유 닛으로 사용될 수 있다. 여기서 코딩 절차라 함은 후술하는 예측, 변환, 및 복원 등의 절차를 포함할 수 있다. 다른 예로, 상기 처리 유닛은 예측 유닛(PU: Prediction Unit) 또는 변환 유닛(TU: Transform Unit)을 더 포함 할 수 있다. 이 경우 상기 예측 유닛 및 상기 변환 유닛은 각각 상술한 최종 코딩 유닛으로부터 분할 또는 파티 셔닝될 수 있다. 상기 예측 유닛은 샘플 예측의 단위일 수 있고, 상기 변환 유닛은 변환 계수를 유도하는 단위 및/또는 변환 계수로부터 레지듀얼 신호(residual signal)를 유도하는 단위일 수 있다. 유닛은 경우에 따라서 블록(block) 또는 영역(area) 등의 용어와 혼용하여 사용될 수 있다. 일반적인 경우, MxN 블록은 M개의 열과 N개의 행으로 이루어진 샘플들 또는 변환 계수(transform coefficient)들의 집합을 나타낼 수 있다. 샘플은 일반적으로 픽셀 또는 픽셀의 값을 나타낼 수 있으며, 휘도(luma) 성분의 픽셀/픽셀값만을 나타낼 수도 있고, 채도(chroma) 성분의 픽셀/픽셀 값만을 나타낼 수도 있다. 샘플은 하나의 픽처(또는 영상)을 픽셀(pixel) 또는 펠(pel)에 대응하는 용어로서 사용될 수 있다. 감산부(10a-31)는 입력 영상 신호(원본 블록, 원본 샘플들 또는 원본 샘플 어레이)에서 예측부(10a-20)로부터 출력된 예측 신호(예측된 블록, 예측 샘플들 또는 예측 샘플 어레이)를 감산하여 레지듀얼 신호(레지듀얼 블록, 레지듀얼 샘플들 또는 레지듀얼 샘플 어레이)를 생성할 수 있고, 생성된 레지듀얼 신호는 변환부(10a-32)로 전 송된다. 예측부(10a-20)는 처리 대상 블록(이하, 현재 블록이라 함)에 대한 예측을 수행하고, 상기 현재 블록에 대한 예측 샘플들을 포함하는 예측된 블록(predicted block)을 생성할 수 있다. 예측부(10a-20)는 현재 블록 또는 CU 단위로 인트라 예측이 적용되는지 또는 인터 예측이 적용되는지 결정할 수 있다. 예측부는 각 예측모드에 대한 설명에서 후술하는 바와 같이 예측 모드 정보 등 예측에 관한 다양한 정보 를 생성하여 엔트로피 인코딩부(10a-40)로 전달할 수 있다. 예측에 관한 정보는 엔트로피 인코딩부(10a-40)에서 인코딩되어 비트스트림 형태로 출력될 수 있다. 인트라 예측부(10a-22)는 현재 픽처 내의 샘플들을 참조하여 현재 블록을 예측할 수 있다. 상기 참조되는 샘플 들은 예측 모드에 따라 상기 현재 블록의 주변(neighbor)에 위치할 수 있고, 또는 떨어져서 위치할 수도 있다. 인트라 예측에서 예측 모드들은 복수의 비방향성 모드와 복수의 방향성 모드를 포함할 수 있다. 비방향성 모드 는 예를 들어 DC 모드 및 플래너 모드(Planar 모드)를 포함할 수 있다. 방향성 모드는 예측 방향의 세밀한 정도 에 따라 예를 들어 33개의 방향성 예측 모드 또는 65개의 방향성 예측 모드를 포함할 수 있다. 다만, 이는 예시로서 설정에 따라 그 이상 또는 그 이하의 개수의 방향성 예측 모드들이 사용될 수 있다. 인트 라 예측부(10a-22)는 주변 블록에 적용된 예측 모드를 이용하여, 현재 블록에 적용되는 예측 모드를 결정할 수 도 있다. 인터 예측부(10a-21)는 참조 픽처 상에서 움직임 벡터에 의해 특정되는 참조 블록(참조 샘플 어레이)을 기반으 로, 현재 블록에 대한 예측된 블록을 유도할 수 있다. 이때, 인터 예측 모드에서 전송되는 움직임 정보의 양을 줄이기 위해 주변 블록과 현재 블록 간의 움직임 정보의 상관성에 기초하여 움직임 정보를 블록, 서브블록 또는 샘플 단위로 예측할 수 있다. 상기 움직임 정보는 움직임 벡터 및 참조 픽처 인덱스를 포함할 수 있다. 상기 움 직임 정보는 인터 예측 방향(L0 예측, L1 예측, Bi 예측 등) 정보를 더 포함할 수 있다. 인터 예측의 경우에, 주변 블록은 현재 픽처 내에 존재하는 공간적 주변 블록(spatial neighboring block)과 참조 픽처에 존재하는 시간적 주변 블록(temporal neighboring block)을 포함할 수 있다. 상기 참조 블록을 포함하는 참조 픽처와 상 기 시간적 주변 블록을 포함하는 참조 픽처는 동일할 수도 있고, 다를 수도 있다. 상기 시간적 주변 블록은 동 일 위치 참조 블록(collocated reference block), 동일 위치 CU(colCU) 등의 이름으로 불릴 수 있으며, 상기 시간적 주변 블록을 포함하는 참조 픽처는 동일 위치 픽처(collocated picture, colPic)라고 불릴 수도 있다. 예를 들어, 인터 예측부(10a-21)는 주변 블록들을 기반으로 움직임 정보 후보 리스트를 구성하고, 상기 현재 블 록의 움직임 벡터 및/또는 참조 픽처 인덱스를 도출하기 위하여 어떤 후보가 사용되는지를 지시하는 정보를 생 성할 수 있다. 다양한 예측 모드를 기반으로 인터 예측이 수행될 수 있으며, 예를 들어 스킵 모드와 머지 모드 의 경우에, 인터 예측부(10a-21)는 주변 블록의 움직임 정보를 현재 블록의 움직임 정보로 이용할 수 있다. 스 킵 모드의 경우, 머지 모드와 달리 레지듀얼 신호가 전송되지 않을 수 있다. 움직임 정보 예측(motion vector prediction, MVP) 모드의 경우, 주변 블록의 움직임 벡터를 움직임 벡터 예측자(motion vector predictor)로 이용하고, 움직임 벡터 차분(motion vector difference)을 시그널링함으로써 현재 블록의 움직임 벡터를 지시할 수 있다. 예측부(10a-20)는 후술하는 다양한 예측 방법을 기반으로 예측 신호를 생성할 수 있다. 예를 들어, 예측부는 하 나의 블록에 대한 예측을 위하여 인트라 예측 또는 인터 예측을 적용할 수 있을 뿐 아니라, 인트라 예측과 인터 예측을 동시에 적용할 수 있다. 이는 combined inter and intra prediction (CIIP)라고 불릴 수 있다. 또한, 예측부는 블록에 대한 예측을 위하여 인트라 블록 카피(intra block copy, IBC)를 수행할 수도 있다. 상기 인트 라 블록 카피는 예를 들어 SCC(screen content coding) 등과 같이 게임 등의 컨텐츠 영상/동영상 코딩을 위하여 사용될 수 있다. IBC는 기본적으로 현재 픽처 내에서 예측을 수행하나 현재 픽처 내에서 참조 블록을 도출하는 점에서 인터 예측과 유사하게 수행될 수 있다. 즉, IBC는 본 문서에서 설명되는 인터 예측 기법들 중 적어도 하 나를 이용할 수 있다. 인터 예측부(10a-21) 및/또는 인트라 예측부(10a-22)를 통해 생성된 예측 신호는 복원 신호를 생성하기 위해 이 용되거나 레지듀얼 신호를 생성하기 위해 이용될 수 있다. 변환부(10a-32)는 레지듀얼 신호에 변환 기법을 적용하여 변환 계수들(transform coefficients)를 생성할 수 있다. 예를 들어, 변환 기법은 DCT(Discrete Cosine Transform), DST(Discrete Sine Transform), GBT(Graph-Based Transform), 또는 CNT(Conditionally Non- linear Transform) 등을 포함할 수 있다. 여기서, GBT는 픽셀 간의 관계 정보를 그래프로 표현한다고 할 때 이 그래프로부터 얻어진 변환을 의미한다. CNT는 이전에 복원된 모든 픽셀(all previously reconstructed pixel) 를 이용하여 예측 신호를 생성하고 그에 기초하여 획득되는 변환을 의미한다. 또한, 변환 과정은 정사각형의 동 일한 크기를 갖는 픽셀 블록에 적용될 수도 있고, 정사각형이 아닌 가변 크기의 블록에도 적용될 수 있다. 양자화부(10a-33)는 변환 계수들을 양자화하여 엔트로피 인코딩부(10a-40)로 전송되고, 엔트로피 인코딩부(10a- 40)는 양자화된 신호(양자화된 변환 계수들에 관한 정보)를 인코딩하여 비트스트림으로 출력할 수 있다. 상기 양자화된 변환 계수들에 관한 정보는 레지듀얼 정보라고 불릴 수 있다. 양자화부(10a-33)는 계수 스캔 순서(scan order)를 기반으로 블록 형태의 양자화된 변환 계수들을 1차원 벡터 형태로 재정렬할 수 있고, 상기 1차원 벡터 형태의 양자화된 변환 계수들을 기반으로 상기 양자화된 변환 계수 들에 관한 정보를 생성할 수도 있다. 엔트로피 인코딩부(10a-40)는 예를 들어 지수 골롬(exponential Golomb), CAVLC(context-adaptive variable length coding), CABAC(context-adaptive binary arithmetic coding) 등과 같은 다양한 인코딩 방법을 수행할 수 있다. 엔트로피 인코딩부(10a-40)는 양자화된 변환 계수들 외 비디오/이미지 복원에 필요한 정보들(예컨대 신택스 요 소들(syntax elements)의 값 등)을 함께 또는 별도로 인코딩할 수도 있다. 인코딩된 정보(ex. 인코딩된 비디오/ 영상 정보)는 비트스트림 형태로 NAL(network abstraction layer) 유닛 단위로 전송 또는 저장될 수 있다. 상기 비디오/영상 정보는 어댑테이션 파라미터 세트(APS), 픽처 파라미터 세트(PPS), 시퀀스 파라미터 세트(SPS) 또 는 비디오 파라미터 세트(VPS) 등 다양한 파라미터 세트에 관한 정보를 더 포함할 수 있다. 또한 상기 비디오/ 영상 정보는 일반 제한 정보(general constraint information)을 더 포함할 수 있다. 본 문서에서 후술되는 시 그널링/전송되는 정보 및/또는 신택스 요소들은 상술한 인코딩 절차를 통하여 인코딩되어 상기 비트스트림에 포 함될 수 있다. 상기 비트스트림은 네트워크를 통하여 전송될 수 있고, 또는 디지털 저장매체에 저장될 수 있다. 여기서 네트워크는 방송망 및/또는 통신망 등을 포함할 수 있고, 디지털 저장매체는 USB, SD, CD, DVD, 블루레 이, HDD, SSD 등 다양한 저장매체를 포함할 수 있다. 엔트로피 인코딩부(10a-40)로부터 출력된 신호는 전송하는 전송부(미도시) 및/또는 저장하는 저장부(미도시)가 인코딩 장치(10a)의 내/외부 엘리먼트로서 구성될 수 있고, 또는 전송부는 엔트로피 인코딩부(10a-40)에 포함될 수도 있다. 양자화부(10a-33)로부터 출력된 양자화된 변환 계수들은 예측 신호를 생성하기 위해 이용될 수 있다. 예를 들어, 양자화된 변환 계수들에 역양자화부(10a-34) 및 역변환부(10a-35)를 통해 역양자화 및 역변환을 적용함으 로써 레지듀얼 신호(레지듀얼 블록 or 레지듀얼 샘플들)를 복원할 수 있다. 가산부(10a-50)는 복원된 레지듀얼 신호를 예측부(10a-20)로부터 출력된 예측 신호에 더함으로써 복원(reconstructed) 신호(복원 픽처, 복원 블록, 복원 샘플들 또는 복원 샘플 어레이)가 생성될 수 있다. 스킵 모드가 적용된 경우와 같이 처리 대상 블록에 대 한 레지듀얼이 없는 경우, 예측된 블록이 복원 블록으로 사용될 수 있다. 생성된 복원 신호는 현재 픽처 내 다 음 처리 대상 블록의 인트라 예측을 위하여 사용될 수 있고, 후술하는 바와 같이 필터링을 거쳐서 다음 픽처의 인터 예측을 위하여 사용될 수도 있다. 한편 픽처 인코딩 및/또는 복원 과정에서 LMCS (luma mapping with chroma scaling)가 적용될 수도 있다. 필터링부(10a-60)는 복원 신호에 필터링을 적용하여 주관적/객관적 화질을 향상시킬 수 있다. 예를 들어 필터링 부(10a-60)는 복원 픽처에 다양한 필터링 방법을 적용하여 수정된(modified) 복원 픽처를 생성할 수 있고, 상기 수정된 복원 픽처를 메모리(10a-70), 구체적으로 메모리(10a-70)의 DPB에 저장할 수 있다. 상기 다양한 필터링 방법은 예를 들어, 디블록킹 필터링, 샘플 적응적 오프셋(sample adaptive offset, SAO), 적응적 루프 필터 (adaptive loop filter), 양방향 필터(bilateral filter) 등을 포함할 수 있다. 필터링부(10a-60)는 각 필터링 방법에 대한 설명에서 후술하는 바와 같이 필터링에 관한 다양한 정보를 생성하여 엔트로피 인코딩부(10a-90)로 전달할 수 있다. 필터링 관한 정보는 엔트로피 인코딩부(10a-90)에서 인코딩되어 비트스트림 형태로 출력될 수 있다. 메모리(10a-70)에 전송된 수정된 복원 픽처는 인터 예측부(10a-80)에서 참조 픽처로 사용될 수 있다. 인코딩 장 치는 이를 통하여 인터 예측이 적용되는 경우, 인코딩 장치(10a)와 디코딩 장치에서의 예측 미스매치를 피할 수 있고, 부호화 효율도 향상시킬 수 있다. 메모리(10a-70)의 DPB는 수정된 복원 픽처를 인터 예측부(10a-21)에서의 참조 픽처로 사용하기 위해 저장할 수 있다. 메모리(10a-70)는 현재 픽처 내 움직임 정보가 도출된(또는 인코딩된) 블록의 움직임 정보 및/또는 이미 복원된 픽처 내 블록들의 움직임 정보를 저장할 수 있다. 상기 저장된 움직임 정보는 공간적 주변 블록의 움직 임 정보 또는 시간적 주변 블록의 움직임 정보로 활용하기 위하여 인터 예측부(10a-21)에 전달할 수 있다. 메모 리(10a-70)는 현재 픽처 내 복원된 블록들의 복원 샘플들을 저장할 수 있고, 인트라 예측부(10a-22)에 전달할 수 있다. 도 3은 비디오/영상 디코딩 장치의 구성을 개략적으로 설명하는 도면이다. 도 3을 참조하면, 디코딩 장치(10b)는 엔트로피 디코딩부(entropy decoder, 10b-10), 레지듀얼 처리부 (residual processor, 10b-20), 예측부(predictor, 10b-30), 가산부(adder, 10b-40), 필터링부(filter, 10b- 50) 및 메모리(memory, 10b-60)를 포함하여 구성될 수 있다. 예측부(10b-30)는 인터 예측부(10b-31) 및 인트라 예측부(10b-32)를 포함할 수 있다. 레지듀얼 처리부(10b-20)는 역양자화부(dequantizer, 10b-21) 및 역변환부 (inverse transformer, 10b-21)를 포함할 수 있다. 상술한 엔트로피 디코딩부(10b-10), 레지듀얼 처리부(10b- 20), 예측부(10b-30), 가산부(10b-40) 및 필터링부(10b-50)는 실시예에 따라 하나의 하드웨어 컴포넌트(예를 들 어 디코더 칩셋 또는 프로세서)에 의하여 구성될 수 있다. 또한 메모리(10b-60)는 DPB(decoded picture buffer)를 포함할 수 있고, 디지털 저장 매체에 의하여 구성될 수도 있다. 상기 하드웨어 컴포넌트는 메모리 (10b-60)을 내/외부 컴포넌트로 더 포함할 수도 있다. 비디오/영상 정보를 포함하는 비트스트림이 입력되면, 디코딩 장치(10b)는 도 2의 인코딩 장치에서 비디오/영상 정보가 처리된 프로세스에 대응하여 영상을 복원할 수 있다. 예를 들어, 디코딩 장치(10b)는 상기 비트스트림으 로부터 획득한 블록 분할 관련 정보를 기반으로 유닛들/블록들을 도출할 수 있다. 디코딩 장치(10b)는 인코딩 장치에서 적용된 처리 유닛을 이용하여 디코딩을 수행할 수 있다. 따라서 디코딩의 처리 유닛은 예를 들어 코딩 유닛일 수 있고, 코딩 유닛은 코딩 트리 유닛 또는 최대 코딩 유닛으로부터 쿼드 트리 구조, 바이너리 트리 구 조 및/또는 터너리 트리 구조를 따라서 분할될 수 있다. 코딩 유닛으로부터 하나 이상의 변환 유닛이 도출될 수 있다. 그리고, 디코딩 장치(10b)를 통해 디코딩 및 출력된 복원 영상 신호는 재생 장치를 통해 재생될 수 있다. 디코딩 장치(10b)는 도 2의 인코딩 장치로부터 출력된 신호를 비트스트림 형태로 수신할 수 있고, 수신된 신호 는 엔트로피 디코딩부(10b-10)를 통해 디코딩될 수 있다. 예를 들어, 엔트로피 디코딩부(10b-10)는 상기 비트스 트림을 파싱하여 영상 복원(또는 픽처 복원)에 필요한 정보(ex. 비디오/영상 정보)를 도출할 수 있다. 상기 비 디오/영상 정보는 어댑테이션 파라미터 세트(APS), 픽처 파라미터 세트(PPS), 시퀀스 파라미터 세트(SPS) 또는 비디오 파라미터 세트(VPS) 등 다양한 파라미터 세트에 관한 정보를 더 포함할 수 있다. 또한 상기 비디오/영상 정보는 일반 제한 정보(general constraint information)을 더 포함할 수 있다. 디코딩 장치는 상기 파라미터 세트에 관한 정보 및/또는 상기 일반 제한 정보를 더 기반으로 픽처를 디코딩할 수 있다. 본 문서에서 후술되는 시그널링/수신되는 정보 및/또는 신택스 요소들은 상기 디코딩 절차를 통하여 디코딩되어 상기 비트스트림으로부터 획득될 수 있다. 예컨대, 엔트로피 디코딩부(10b-10)는 지수 골롬 부호화, CAVLC 또는 CABAC 등의 코딩 방법을 기초로 비트스트림 내 정보를 디코딩하고, 영상 복원에 필요한 신택스 엘리 먼트의 값, 레지듀얼에 관한 변환 계수의 양자화된 값 들을 출력할 수 있다. 보다 상세하게, CABAC 엔트로피 디코딩 방법은, 비트스트림에서 각 구문 요소에 해당하는 빈을 수신하고, 디코 딩 대상 구문 요소 정보와 주변 및 디코딩 대상 블록의 디코딩 정보 혹은 이전 단계에서 디코딩된 심볼/빈의 정 보를 이용하여 문맥(context) 모델을 결정하고, 결정된 문맥 모델에 따라 빈(bin)의 발생 확률을 예측하여 빈의 산술 디코딩(arithmetic decoding)를 수행하여 각 구문 요소의 값에 해당하는 심볼을 생성할 수 있다. 이때, CABAC 엔트로피 디코딩 방법은 문맥 모델 결정 후 다음 심볼/빈의 문맥 모델을 위해 디코딩된 심볼/빈의 정보를 이용하여 문맥 모델을 업데이트할 수 있다. 엔트로피 디코딩부(10b-10)에서 디코딩된 정보 중 예측에 관한 정보 는 예측부(10b-30)로 제공되고, 엔트로피 디코딩부(10b-10)에서 엔트로피 디코딩이 수행된 레지듀얼에 대한 정 보, 즉 양자화된 변환 계수들 및 관련 파라미터 정보는 역양자화부(10b-21)로 입력될 수 있다. 또한, 엔트로피 디코딩부(10b-10)에서 디코딩된 정보 중 필터링에 관한 정보는 필터링부(10b-50)으로 제공될 수 있다. 한편, 인코딩 장치로부터 출력된 신호를 수신하는 수신부(미도시)가 디코딩 장치(10b)의 내/외부 엘리먼 트로서 더 구성될 수 있고, 또는 수신부는 엔트로피 디코딩부(10b-10)의 구성요소일 수도 있다. 한편, 본 문서 에 따른 디코딩 장치는 비디오/영상/픽처 디코딩 장치라고 불릴 수 있고, 상기 디코딩 장치는 정보 디코더(비디 오/영상/픽처 정보 디코더) 및 샘플 디코더(비디오/영상/픽처 샘플 디코더)로 구분할 수도 있다. 상기 정보 디 코더는 상기 엔트로피 디코딩부(10b-10)를 포함할 수 있고, 상기 샘플 디코더는 상기 역양자화부(10b-21), 역변 환부(10b-22), 예측부(10b-30), 가산부(10b-40), 필터링부(10b-50) 및 메모리(10b-60) 중 적어도 하나를 포함할 수 있다. 역양자화부(10b-21)에서는 양자화된 변환 계수들을 역양자화하여 변환 계수들을 출력할 수 있다. 역양자화부 (10b-21)는 양자화된 변환 계수들을 2차원의 블록 형태로 재정렬할 수 있다. 이 경우 상기 재정렬은 인코딩 장 치에서 수행된 계수 스캔 순서를 기반하여 재정렬을 수행할 수 있다. 역양자화부(10b-21)는 양자화 파라미터(예 를 들어 양자화 스텝 사이즈 정보)를 이용하여 양자화된 변환 계수들에 대한 역양자화를 수행하고, 변환 계수들 (transform coefficient)를 획득할 수 있다. 역변환부(10b-22)에서는 변환 계수들를 역변환하여 레지듀얼 신호(레지듀얼 블록, 레지듀얼 샘플 어레이)를 획 득하게 된다. 예측부는 현재 블록에 대한 예측을 수행하고, 상기 현재 블록에 대한 예측 샘플들을 포함하는 예측된 블록 (predicted block)을 생성할 수 있다. 예측부는 엔트로피 디코딩부(10b-10)로부터 출력된 상기 예측에 관한 정보를 기반으로 상기 현재 블록에 인트라 예측이 적용되는지 또는 인터 예측이 적용되는지 결정할 수 있고, 구체적인 인트라/인터 예측 모드를 결정할 수 있다. 예측부는 후술하는 다양한 예측 방법을 기반으로 예측 신호를 생성할 수 있다. 예를 들어, 예측부는 하나의 블 록에 대한 예측을 위하여 인트라 예측 또는 인터 예측을 적용할 수 있을 뿐 아니라, 인트라 예측과 인터 예측을 동시에 적용할 수 있다. 이는 combined inter and intra prediction (CIIP)라고 불릴 수 있다. 또한, 예측부는 블록에 대한 예측을 위하여 인트라 블록 카피(intra block copy, IBC)를 수행할 수도 있다. 상기 인트라 블록 카피는 예를 들어 SCC(screen content coding) 등과 같이 게임 등의 컨텐츠 영상/동영상 코딩을 위하여 사용될 수 있다. IBC는 기본적으로 현재 픽처 내에서 예측을 수행하나 현재 픽처 내에서 참조 블록을 도출하는 점에서 인터 예측과 유사하게 수행될 수 있다. 즉, IBC는 본 문서에서 설명되는 인터 예측 기법들 중 적어도 하나를 이 용할 수 있다. 인트라 예측부(10b-32)는 현재 픽처 내의 샘플들을 참조하여 현재 블록을 예측할 수 있다. 상기 참조되는 샘플 들은 예측 모드에 따라 상기 현재 블록의 주변(neighbor)에 위치할 수 있고, 또는 떨어져서 위치할 수도 있다. 인트라 예측에서 예측 모드들은 복수의 비방향성 모드와 복수의 방향성 모드를 포함할 수 있다. 인트라 예측부 (10b-32)는 주변 블록에 적용된 예측 모드를 이용하여, 현재 블록에 적용되는 예측 모드를 결정할 수도 있다. 인터 예측부(10b-31)는 참조 픽처 상에서 움직임 벡터에 의해 특정되는 참조 블록(참조 샘플 어레이)을 기반으 로, 현재 블록에 대한 예측된 블록을 유도할 수 있다. 이때, 인터 예측 모드에서 전송되는 움직임 정보의 양을 줄이기 위해 주변 블록과 현재 블록 간의 움직임 정보의 상관성에 기초하여 움직임 정보를 블록, 서브블록 또는 샘플 단위로 예측할 수 있다. 상기 움직임 정보는 움직임 벡터 및 참조 픽처 인덱스를 포함할 수 있다. 상기 움 직임 정보는 인터 예측 방향(L0 예측, L1 예측, Bi 예측 등) 정보를 더 포함할 수 있다. 인터 예측의 경우에, 주변 블록은 현재 픽처 내에 존재하는 공간적 주변 블록(spatial neighboring block)과 참 조 픽처에 존재하는 시간적 주변 블록(temporal neighboring block)을 포함할 수 있다. 예를 들어, 인터 예측부 (10b-31)는 주변 블록들을 기반으로 움직임 정보 후보 리스트를 구성하고, 수신한 후보 선택 정보를 기반으로 상기 현재 블록의 움직임 벡터 및/또는 참조 픽처 인덱스를 도출할 수 있다. 다양한 예측 모드를 기반으로 인터 예측이 수행될 수 있으며, 상기 예측에 관한 정보는 상기 현재 블록에 대한 인터 예측의 모드를 지시하는 정보 를 포함할 수 있다. 가산부(10b-40)는 획득된 레지듀얼 신호를 예측부(10b-30)로부터 출력된 예측 신호(예측된 블록, 예측 샘플 어 레이)에 더함으로써 복원 신호(복원 픽처, 복원 블록, 복원 샘플 어레이)를 생성할 수 있다. 스킵 모드가 적용 된 경우와 같이 처리 대상 블록에 대한 레지듀얼이 없는 경우, 예측된 블록이 복원 블록으로 사용될 수 있다. 가산부(10b-40)는 복원부 또는 복원 블록 생성부라고 불릴 수 있다. 생성된 복원 신호는 현재 픽처 내 다음 처리 대상 블록의 인트라 예측을 위하여 사용될 수 있고, 후술하는 바와 같이 필터링을 거쳐서 출력될 수도 있고 또는 다음 픽처의 인터 예측을 위하여 사용될 수도 있다. 한편, 픽처 디코딩 과정에서 LMCS (luma mapping with chroma scaling)가 적용될 수도 있다. 필터링부(10b-50)는 복원 신호에 필터링을 적용하여 주관적/객관적 화질을 향상시킬 수 있다. 예를 들어 필터링 부(10b-50)는 복원 픽처에 다양한 필터링 방법을 적용하여 수정된(modified) 복원 픽처를 생성할 수 있고, 상기수정된 복원 픽처를 메모리, 구체적으로 메모리(10b-60)의 DPB에 전송할 수 있다. 상기 다양한 필터링 방법 은 예를 들어, 디블록킹 필터링, 샘플 적응적 오프셋(sample adaptive offset), 적응적 루프 필터(adaptive loop filter), 양방향 필터(bilateral filter) 등을 포함할 수 있다. 메모리(10b-60)의 DPB에 저장된 (수정된) 복원 픽처는 인터 예측부(10b-31)에서 참조 픽쳐로 사용될 수 있다. 메모리(10b-60)는 현재 픽처 내 움직임 정보가 도출된(또는 디코딩된) 블록의 움직임 정보 및/또는 이미 복원된 픽처 내 블록들의 움직임 정보를 저장할 수 있다. 상기 저장된 움직임 정보는 공간적 주변 블록의 움직임 정보 또는 시간적 주변 블록의 움직임 정보로 활용하기 위하여 인터 예측부(10b-31)에 전달할 수 있다. 메모리(10b- 60)는 현재 픽처 내 복원된 블록들의 복원 샘플들을 저장할 수 있고, 인트라 예측부(10b-32)에 전달할 수 있다. 본 명세서에서, 디코딩 장치(10b)의 예측부(10b-30), 역양자화부(10b-21), 역변환부(10b-22) 및 필터링부(10b- 50) 등에서 설명된 실시예들은 각각 인코딩 장치(10a)의 예측부(10a-20), 역양자화부(10a-34), 역변환부(10a- 35) 및 필터링부(10a-60) 등에도 동일 또는 대응되도록 적용될 수 있다. 상술한 바와 같이 비디오 코딩을 수행함에 있어 압축 효율을 높이기 위하여 예측을 수행한다. 이를 통하여 코딩 대상 블록인 현재 블록에 대한 예측 샘플들을 포함하는 예측된 블록을 생성할 수 있다. 여기서 상기 예측된 블 록은 공간 도메인(또는 픽셀 도메인)에서의 예측 샘플들을 포함한다. 상기 예측된 블록은 인코딩 장치 및 디코 딩 장치에서 동일하게 도출되며, 상기 인코딩 장치는 원본 블록의 원본 샘플 값 자체가 아닌 상기 원본 블록과 상기 예측된 블록 간의 레지듀얼에 대한 정보(레지듀얼 정보)를 디코딩 장치로 시그널링함으로써 영상 코딩 효 율을 높일 수 있다. 디코딩 장치는 상기 레지듀얼 정보를 기반으로 레지듀얼 샘플들을 포함하는 레지듀얼 블록 을 도출하고, 상기 레지듀얼 블록과 상기 예측된 블록을 합하여 복원 샘플들을 포함하는 복원 블록을 생성할 수 있고, 복원 블록들을 포함하는 복원 픽처를 생성할 수 있다. 상기 레지듀얼 정보는 변환 및 양자화 절차를 통하여 생성될 수 있다. 예를 들어, 인코딩 장치는 상기 원본 블록과 상기 예측된 블록 간의 레지듀얼 블록을 도출하고, 상기 레지듀얼 블록에 포함된 레지듀얼 샘플들(레지듀얼 샘플 어레이)에 변환 절차를 수행하여 변환 계수들을 도출하고, 상기 변환 계수들에 양자화 절차를 수행하여 양자화된 변환 계수들을 도출하여 관련된 레지듀얼 정보를 (비트스트림 을 통하여) 디코딩 장치로 시그널링할 수 있다. 여기서 상기 레지듀얼 정보는 상기 양자화된 변환 계수들의 값 정보, 위치 정보, 변환 기법, 변환 커널, 양자화 파라미터 등의 정보를 포함할 수 있다. 디코딩 장치는 상기 레 지듀얼 정보를 기반으로 역양자화/역변환 절차를 수행하고 레지듀얼 샘플들(또는 레지듀얼 블록)을 도출할 수 있다. 디코딩 장치는 예측된 블록과 상기 레지듀얼 블록을 기반으로 복원 픽처를 생성할 수 있다. 인코딩 장치 는 또한 이후 픽처의 인터 예측을 위한 참조를 위하여 양자화된 변환 계수들을 역양자화/역변환하여 레지듀얼 블록을 도출하고, 이를 기반으로 복원 픽처를 생성할 수 있다. <VCM(Video coding for Machines)> 최근에 Surveillance, Intelligent Transportation, Smart City, Intelligent Industry, Intelligent Content 와 같은 다양한 산업 분야가 발전함에 따라 기계에 의해 소비되는 영상 또는 특징맵(Feature Map) 데이터양이 증가하고 있다. 이에 반해, 현재 사용 중인 전통적인 영상 압축방식은 시청자가 인지하는 시각(Human Vision)의 특성을 고려해 개발된 기술이기에 불필요한 정보들을 포함하고 있어 기계 임무 수행에 비효율적이다. 예를 들어, 시청자 시각 기준의 영상은 기계의 데이터 소비시각의 영상(예, 특징맵)보다 해상도가 높을 수 있다. 따 라서, 기계 임무 수행에 대해 효율적으로 특징맵을 압축하기 위한 비디오 코덱 기술에 관한 연구가 요구되고 있 다. 멀티미디어 부호화 국제표준화 그룹인 MPEG(Moving Picture Experts Group)에서 VCM(Video Coding for Machine) 기술이 논의되고 있다. VCM은 사람이 보는 시청자 시각 기준이 아닌 기계의 데이터 소비시각(Machine Vision)에 대한 기준의 영상 또는 특징맵 부호화 기술이다. 이 문서에서는 특징맵을 피처맵이라 지칭할 수 있고, 특징은 피처라 지칭할 수 있다. 도 4a 내지 도 4d는 VCM 인코더와 VCM 디코더를 나타낸 예시도들이다. 도 4a을 참조하면, VCM 인코더(100a)와 VCM 디코더(100b)가 나타나 있다. VCM 인코더(100a)가 비디오 및/또는 특징맵을 인코딩하여 비트스트림으로 전송하면, VCM 디코더(100b)는 상기 비트스트림을 디코딩하여 출력할 수 있다. 이때, VCM 디코더(100b)는 하나 이상의 비디오 및/또는 특징맵을 출 력할 수 있다. 예를 들어, VCM 디코더(100b)는 머신을 이용한 분석을 위한 제1 특징맵을 출력할 수 있고, 사용자에 의한 시청을 위한 제1 영상을 출력할 수 있다. 상기 제1 영상은 상기 제1 특징맵에 비하여 보다 고해상도 일 수 있다. 도 4b를 참조하면, VCM 인코더(100a)의 전단에는 특징맵을 추출하는 특징 추출기(Feature Extractor)가 연결될 수 있다. VCM 인코더(100a)는 피처 인코더(Feature Encoder)를 포함할 수 있다. VCM 디코더(100b)는 피처 디코더(Feature Decoder)와 비디오 재생성기(Video reconstructor)를 포함할 수 있다. 상기 피처 디코더는 비트스트림으로부터 피처맵(Feature Map)을 디코딩하여, 머신을 이용한 분석을 위한 제1 특징맵을 출력할 수 있다. 상기 비디오 재생성기는 비트스트림으로부터 사용자에 의한 시청을 위한 제1 영 상을 재생성하여 출력할 수 있다. 도 4c 참조하면, VCM 인코더의 전단에는 특징맵을 추출하는 특징 추출기(Feature Extractor)가 연결되어 있다. VCM 인코더(100a)는 피처 인코더를 포함할 수 있다. VCM 디코더(100b)는 피처 디코더를 포함할 수 있다. 상기 피처 디코더는 비트스트림으로부터 피처맵을 디코딩하 여, 머신을 이용한 분석을 위한 제1 피처맵을 출력할 수 있다. 즉, 비트스트림은 영상이 아닌 피처맵으로만 인 코딩될 수 있다. 부연 설명하면, 피처맵은 영상을 기초로 머신의 특정 타스크를 처리하기 위한 특징에 대한 정 보를 포함한 데이터 일 수 있다. 도 4d를 참조하면, VCM 인코더(100a)의 전단에는 특징 추출기(Feature Extractor)가 연결되어 있을 수 있다. VCM 인코더(100a)는 피처 컨버터와 비디오 인코더를 포함할 수 있다. 상기 비디오 인코더는 도 2에 도시된 인코 딩 장치(10a)일 수 있다. 도 4d를 도시된 VCM 디코더(100b)는 비디오 디코더와 인버스 컨버터를 포함할 수 있다. 상기 비디오 디코더는 도 3에 도시된 디코딩 장치(10b)일 수 있다. 도 5은 특징맵을 압축한 후 비트스트림으로 전송하는 VCM 인코더와 그리고 수신된 비트스트림을 복원하는 VCM 디코더를 일 예시에 따라 나타낸 예시도이고, 도 6은 5에 도시된 특징맵 P2 내지 특징맵 P5를 생성하는 예를 나 타낸 예시도이고, 도 7은 도 5에 도시된 MSFF 수행부를 자세하게 나타낸 예시도이다. 도 5를 참고하여 알 수 있는 바와 같이, VCM 인코더(100a)(혹은 송신단)은 MSFF(Multi-scale feature fusion) 수행부(100a-1)와, SSFC(Singlestream feature codec) 인코더(100a-2)를 포함할 수 있다. VCM 디코더(100b)(혹 은 수신단)은 SSFC 디코더(100b-1)와 MSFR(Multi-Scale Feature Reconstruction) 수행부(100b-2)을 포함할 수 있다. 상기 MSFF 수행부(100a-1)는 P 레이어의 특징맵 P2 내지 특징맵 P5를 정렬(Align)시킨 후, 연접(Concatenate) 시킨다. 상기 P 레이어의 특징맵 P2 내지 특징맵 P5는 도 6에서 도시된 바와 같이 생성될 수 있다. 도 6를 참조하여 설명하면, 제1 인공신경망 모델, 예컨대 ResNet과 제2 인공신경망 모델, 예컨대 FPN(Feature Pyramid Network)의 조합을 이용하여 특징맵 P2 내지 특징맵 P5가 생성될 수 있다. 상기 제1 인공신경망 모델은 백본(Back-bone)으로 불릴 수 있고, 상기 제2 인공신경망 모델은 넥(Neck) 혹은 헤드(Head)로 불릴 수 있다. 도 6에 도시된 바와 같이 이미지가 입력되면 제1 인공신경망 모델(예컨대 ResNet)은 Bottom-up 방식으로 여러 단계 들(예컨대, Stage 1에서 Stage 5)까지를 수행할 수 있다. 각 단계는 예를 들어, 컨볼류션, 배치 정규화(Batch Normalization), ReLu(Rectified Linear Unit) 등을 포함할 수 있다. 상기 제1 인공신경망 모델(예컨대 ResNet)의 각 단계로부터의 출력에 대해서는 컨볼류션이 수행되어, C 레이어의 특징맵 C2 내지 특징맵 C5가 생 성될 수 있다. 상기 제2 인공신경망 모델(예컨대, FPN)은 상기 C 레이어의 특징맵 C2 내지 특징맵 C5을 입력받 아, Top-Down 방식으로 누적하여 M 레이어의 특징맵 M2 내지 특징맵 M5를 생성할 수 있다. 상기 M 레이어의 특 징맵 M2 내지 특징맵 M5에 대해서 각기 컨볼류션이 수행됨으로써, P 레이어의 특징맵 P2 내지 특징맵 P5가 생성 될 수 있다. 다시 도 5를 참조하면, 상기 MSFF 수행부(100a-1)는 P 레이어의 특징맵 P2 내지 특징맵 P5를 정렬(Align)시킨 후, 연접(Concatenate)시킨다. 구체적으로, 상기 MSFF 수행부(100a-1)는 상기 특징맵 P5의 사이즈에 맞추어 특 징맵 P2 내지 특징맵 P4의 사이즈를 다운샘플링한 후, 연접시킨다.도 7를 참조하여 자세히 설명하면, 상기 MSFF 수행부(100a-1)는 특징맵 P2 내지 특징맵 P5 각각에 대하여 풀링 (pooling)을 수행한다. 상기 풀링에 의하여, 특징맵 P2 내지 특징맵 P5 각각은 특정 크기, 예컨대 64 x 64 크기 혹은 32 x 32 크기로 줄어들 수 있다. 또는, 특징맵 P2 내지 특징맵 P5 중에서 가장 작은 크기를 갖는 특징맵 P5을 기준으로 나머지 특징맵들(즉, 특징맵 P2, 특징맵 P3 및 P4)이 동일 크기를 갖도록 할 수 있다. 즉, 나머 지 특징맵들(즉, 특징맵 P2, 특징맵 P3 및 P4) 각각에 대해서 풀링(pooling)을 수행하여, 특징맵 P5 크기와 동 일하게 만들 수 있다. 그런 다음, 상기 MSFF 수행부(100a-1)는 특징맵 P2 내지 특징맵 P5를 연접시킬 수 있다. 예를 들어 특징맵 P2 내지 특징맵 P5 각각이 64 x 64 크기이면서 256 채널인 큐브(cube) 형태인 경우, 연접후에는 64 x 64 크기이면 서 1024 채널인 큐브 형태로 될 수 있다. 상기 연접된 특징맵들은 SEblock을 통과할 수 있다. 다시 도 5를 참조하면, 상기 SEBlock은 SE(Squeeze-and-Excitation)에 의한 처리 동작으로서, 피쳐맵의 채널별 가중치를 계산하고, 이 가중치를 residual unit의 출력 피쳐맵에 곱해줍니다. 또한, 상기 MSFF 수행부는 상기 SEBlock의 출력에 대하여 컨볼류션을 이용하여 채널 방향의 축소(channel-wise reduction)를 수행할 수 있다. 상기 MSFF 수행부는 최종적으로 출력 F를 상기 SSFC 인코더(100a-2)로 전달할 수 있다. 상기 SSFC 인코더(100a-2)는 상기 MSFF 수행부(100a-1)로부터의 출력 F를 입력받으면, 채널의 개수를 축소시킨 후, 비트스트림을 전송할 수 있다. 이를 위하여, 상기 SSFC 인코더(100a-2)는 컨볼류션과, 배치 정규화 그리고 Tanh 함수를 포함할 수 있다. 상기 VCM 디코더(100b)(즉, 수신단)은 MSFR 수행부(100b-1)와 SSFC 디코더(100b-2)를 포함할 수 있다. 상기 SSFC 디코더(100b-2)는 상기 비트스트림을 수신하면, 출력 F'*를 생성할 수 있다. 이를 위하여, 상기 SSFC 디코 더(100b-2)는 컨볼류션과, 배치 정규화 그리고 PReLu 등을 포함할 수 있다. 상기 VCM 디코더(100b)의 MSFR 수행부(100b-1)는 상기 SSFC 디코더(100b-2)로부터의 출력 F'*로부터 P'레이어 의 특징맵 P2'내지 특징맵 P5'을 복원해낼 수 있다. 이를 위하여, 상기 MSFR 수행부(100b-1)는 업 샘플링/다운 샘플링과 누적 등을 수행할 수 있다. 도 8은 본 개시의 일 실시예에 따른 VCM 인코딩 장치의 구성요소를 포함하는 블록도이다. 본 개시에서 설명의 편의를 위해 인코딩 장치는 인코더 또는 부호화기라 지칭할 수 있고, 디코딩 장치는 디코더 또는 복호화기라 지 칭할 수 있다. 본 개시의 일 실시예에 따른 VCM 인코딩 장치(100a)는 입력 받은 영상에서 피쳐맵(Feature Map)을 추출하고, 피 쳐맵을 부호화하여 비트스트림을 출력할 수 있다. VCM 인코딩 장치(100a)는 피쳐맵 추출 및 선택부, 관심 영역 도출부, 관심영역 추출부 코딩그룹 도출부, 피쳐맵 변환부, 및 피쳐맵 부호화부(86 0)를 포함할 수 있다. 피쳐맵 추출 및 선택부는 영상 또는 이미지에서 한 개 이상의 피쳐맵을 추출하고, 한 개 이상의 피쳐맵 중 에서 부호화할 피쳐맵을 선택하고, 나아가 선택된 피쳐맵을 스케일링 할 수 있다. 관심영역 도출부는 피쳐맵에서 공간축 또는 채널축에서의 관심 영역을 도출할 수 있다. 관심영역 추출부는 피쳐맵에서 공간축 또는 채널축에서 관심 영역만 추출할 수 있다. 관심영역 추출부 는 관심 영역 도출부에 포함될 수 있다. 일 실시 예에서 관심 영역 도출부는 피쳐맵에서 공간축 또는 채널축에서 관심 영역을 도출하고, 관심 영역만 추출하여 이후 단계를 진행할 수 있다 코딩그룹 도출부는 부호화 대상 피쳐맵들을 코딩 그룹으로 그룹핑할 수 있다. 코딩 그룹 단위로 독립적으 로 피쳐맵 변환부 및 피쳐맵 부호화부가 수행될 수 있다. 코딩 그룹은 피쳐맵 변환 및 부호화를 위한 단계로, ⅰ)부호화 대상을 모두 하나의 그룹으로 지정하거나, ⅱ)관심 영역이 추출되지 않은 전체 해상도를 가 지는 피쳐맵과 관심 영역만 추출한 피쳐맵을 서로 다른 그룹으로 지정하거나, ⅲ)관심 영역이 추출되지 않은 전 체 해상도의 피쳐맵을 모두 하나의 그룹으로 지정하거나, ⅳ)동일한 관심 영역 인덱스를 갖는 관심 영역을 하나 의 코딩 그룹으로 지정하는 기준을 정의하고, 해당 기준에 따라 입력 영상에서 추출된 하나 이상의 피쳐맵들을 하나 이상의 그룹으로 분류할 수 있다.피쳐맵 변환부는 코딩 그룹 내 피쳐맵에 변환을 수행할 수 있다. 변환 방법은 매트릭스 곱셈 기반 방법 또 는 다중 합성곱 레이어 수행 방법 등일 수 있다. 일 실시 예에서, 매트릭스 곱셈 기반 변환인 경우 피쳐맵 변환 부는 코딩 그룹 단위로 피쳐맵 공간 해상도를 스케일링하고, 변환 유닛으로 분할한 후, 매트릭스 곱셈 기 반 변환을 수행하여, 변환 계수를 도출할 수 있다. 다른 일 실시 예에서, 다중 합성곱 레이어 기반 변환인 경우, 코딩그룹 단위로 피쳐맵의 공간 해상도를 동일하게 조정하고, 채널축으로 결합한 뒤, 채널축으로 함축하 여 다중 합성곱 레이어를 수행하여 변환 피쳐맵을 도출할 수 있다. 피쳐맵 변환부는 입력 영상 또는 프레 임 레벨에서 선택적으로 수행될 수 있다. 피쳐맵 부호화부는 코딩 그룹 단위로 피쳐맵 변환부에 따라 변환된 피쳐맵 또는 피쳐맵 변환이 수행 되지 않은 피쳐맵(관심영역 도출부로부터 전송된 피쳐맵)을 부호화하여 비트스트림을 출력할 수 있다. 피 쳐맵 부호화부는 피쳐맵 또는 변환된 피쳐맵을 예측, 변환, 양자화, 엔트로피 코딩 등의 방법을 기반으로 부호화하여 비트스트림을 출력할 수 있다. 도 9a는 본 개시의 일 실시 예에 따른 단일 피쳐맵 추출 구조의 예시이고, 도 9b는 본 개시의 일 실시 예에 따 른 복수 개의 피쳐맵 추출 구조의 예시이다. VCM 인코딩 장치(100a)의 피쳐맵 추출 및 선택부는 피쳐맵 부호화기로 입력된 프레임에서 한 개 이상의 피 쳐맵을 추출하고 부호화할 피쳐맵을 한 개 이상 선택 및 스케일링 할 수 있다. 피쳐맵 추출 단계에서, 단일 피쳐맵 추출 구조는 한 개 이상의 합성곱 레이어로 구성될 수 있고, 예를 들어 도 9a와 같은 구조를 가질 수 있다. 도 9a를 참조하면, 피쳐맵 추출 및 선택부는 입력 영상(한 프레임 또는 다수프레임)에 한 개 이상의 합성곱 레이어를 순차적으로 수행하여 한 개의 피쳐맵을 도출할 수 있다. 또는 복수 개의 피쳐맵 추출 구조는 한 개 이상의 합성곱 레이어로 구성될 수 있고, 예를 들어 도 9b와 같은 구 조를 가질 수 있다. 도 9b를 참조하면, 피쳐맵 추출 및 선택부는 입력 영상에 한 개 이상의 합성곱 레이어 를 직렬 또는 병렬로 조합한 형태로 수행하여 복수 개의 피쳐맵을 도출할 수 있다. 추출된 복수 개의 피쳐맵들 은 공간해상도 및 채널 길이가 각기 다를 수 있다. 예를 들어 추출된 복수 개의 피쳐맵들은 채널 길이는 모두 같고 공간해상도는 선형적으로 증가할 수 있다. 도 9b에서는 입력 영상으로부터 추출된 4개의 피쳐맵(피쳐맵 0 내지 3)은 채널 길이 c는 동일하고, 높이 h 및 너비 w가 피쳐맵 3부터 피쳐맵 0까지 선형 증가한다. 구체적으로 피쳐맵 3은 c, h, w이고, 피쳐맵 2는 c, 2h, 2w, 피쳐맵 1은 c, 4h, 4w, 피쳐맵 0은 c, 8h, 8w로 구성된다. 피쳐맵 선택 단계에서, 피쳐맵 추출 및 선택부는 추출된 한 개 이상의 피쳐맵들 중 부호화할 피쳐맵을 선 택할 수 있다. 선택되지 않은 피쳐맵은 VCM 인코딩 장치(100a)에서 부호화되지 않으며, VCM 디코딩 장치(100b) 에 전송되지 않는다. 다만 필요한 경우, VCM 디코딩 장치(100b)는 수신하여 복원한 피쳐맵(VCM 인코딩 장치 (100a)에서 선택된 피쳐맵)을 기반으로 복원되지 않은 피쳐맵(VCM 인코딩 장치(100a)에서 선택되지 않은 피쳐맵)을 생성할 수 있다. VCM 인코딩 장치(100a)는 피쳐맵 추출과 관련된 정보를 VCM 디코딩 장치(100b)에 전송할 수 있다. 피쳐맵 추출 과 관련된 정보는, 피쳐맵이 추출된 레이어의 인덱스, 추출된 피쳐맵의 전체 개수, 선택된 피쳐맵의 개수, 선택 된 각 피쳐맵의 인덱스/너비/높이/채널길이 등을 포함하고, 해당 정보는 시퀀스 또는 프레임 그룹 또는 프레임 레벨의 상위레벨에서 VCM 디코딩 장치(100b)에 전송될 수 있다. 피쳐맵 스케일링 단계에서, 피쳐맵 추출 및 선택부는 피쳐맵 선택 단계에서 선택된 피쳐맵에 대해서 공간 해상도 스케일링을 수행할 수 있다. 공간해상도 스케일링 수행 유무를 나타내는 신택스가 시퀀스 레벨 또는 프 레임 그룹 레벨 또는 프레임 레벨에서 전송될 수 있다. 공간해상도 변경을 위한 스케일 정도를 의미하는 파라미 터가 시퀀스 레벨 또는 프레임 그룹 레벨 또는 프레임 레벨에서 전송될 수 있다. 상기 스케일 정도를 의미하는 파라미터의 도출 방법 및 표현 방법은 예를 들어 다음과 같을 수 있다. 파라미터의 도출 방법 1 : 각 피쳐맵 마다의 스케일링 값은 특정 고정된 값, 또는 사용자가 지정한 값, 또는 시 퀀스/프레임그룹/프레임 단위로 특정 알고리즘을 통해서 도출될 수 있다. 상기 특정 알고리즘은 예를 들면, 모 든 피쳐맵이 가장 작은 피쳐맵과 동일한 공간해상도를 갖도록 다운샘플링하기 위한 스케일 파라미터를 도출하는 알고리즘, 또는 현재 프레임 또는 프레임 그룹에 존재하는 객체들의 크기에 기반한 스케일링 파라미터를 도출하 는 알고리즘 등일 수 있다. 피쳐맵의 너비와 높이는 한 개의 스케일 파라미터를 공유하여 사용할 수 있고 또는 너비와 높이 각각의 스케일 파라미터를 사용하고 전송할 수 있다. 전송되는 스케일 파라미터의 의미에 따라서 피쳐맵의 스케일링 후 공간해 상도 너비와 높이 (FM_scaled_width, FM_scaled_height)를 계산하는 수식은 수학식1~6과 같을 수 있다. 수학식 1과 수학식 2는 스케일 파라미터의 원본 값이 전송되는 경우일 수 있고, 수학식 3과 수학식 4는 스케일 파라미 터에 log2 연산을 수행한 값이 전송되는 경우일 수 있고, 수학식 5와 수학식 6은 스케일 파라미터 테이블에서 사용할 스케일 파라미터의 인덱스가 전송되는 경우일 수 있다. 상기 스케일 파라미터 테이블은 다수개의 스케일 파라미터가 나열된 벡터 형태일 수 있다. 수학식 1"}
{"patent_id": "10-2024-0042998", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "수학식 2"}
{"patent_id": "10-2024-0042998", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "수학식 3"}
{"patent_id": "10-2024-0042998", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "수학식 4"}
{"patent_id": "10-2024-0042998", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "수학식 5"}
{"patent_id": "10-2024-0042998", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "수학식 6"}
{"patent_id": "10-2024-0042998", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "파라미터의 도출 방법 2 : 복수 개의 피쳐맵에 공통적으로 적용되는 한 개의 스케일링 값이 특정 고정된 값, 또 는 사용자가 지정한 값, 또는 시퀀스/프레임그룹/프레임 단위로 특정 알고리즘을 통해서 도출된 값으로 전송될 수 있다. 스케일링 파라미터를 이용하여 스케일링된 공간해상도 너비와 높이를 도출하는 과정은 방법 1과 동일 할 수 있다. 도 10은 본 개시의 일 실시 예에 따른 공간적 관심 영역의 예시들이다. 본 개시의 일 실시 예에 따른 VCM 인코딩 장치(100a)의 관심영역 도출부는 피쳐맵에서 한 개 이상의 공간 적 관심 영역을 도출할 수 있다. 상기 관심 영역은 단위 영역(NxM)의 연속적인 집합으로 구성된 임의 모양의 영역일 수 있다. 관심 영역은 관심 영역 맵 또는 다각형의 위치 및 크기 정보로 정의될 수 있다. 관심 영역이 관심 영역 맵으로 정의되는 경우, 관심 영역 맵은 피쳐맵의 공간해상도 크기의 2차원 맵일 수 있고 도 10의 (a)와 같을 수 있다. 관심 영역 맵에서 관심 영역에 포함되는 픽셀의 값과 비 관심 영역에 포함되는 픽 셀값을 서로 다른 값일 수 있다. 예를 들어, 관심 영역 맵에서 관심 영역에 포함되는 픽셀 값은 1로 설정하고, 관심 영역에 포함되지 않는 픽셀 값은 0으로 설정할 수 있다. 관심 영역이 다각형의 위치 및 크기 정보로 정의될 수 있고 도 10의 (b)와 같을 수 있다. 다각형이 예를 들어 직사각형일 경우, 관심 영역은 직사각형의 좌상단 좌표, 너비, 높이로 정의될 수 있다. VCM 인코딩 장치(100a)는 관심 영역에 관한 정보 신택스를 VCM 디코딩 장치(100b)에 전송할 수 있다. 관심 영역 정보 신택스는 picture_parameter_set 에 포함되어 VCM 디코딩 장치(100b)에 전송될 수 있다. picture_parameter_set 신택스는 도 24와 같이 정의될 수 있다. 상기 관심 영역 정보 신택스는 관심 영역의 단 위 영역의 너비 (N), 높이 (M)를 포함할 수 있다. 관심 영역이 관심 영역 맵으로 정의되는 경우, 관심 영역 맵 을 각각 단위 영역의 너비와 높이로 다운샘플링 하여 전송될 수 있다. 관심 영역이 직사각형으로 정의되는 경우, 직사각형의 좌상단 좌표, 직사각형의 너비 및 높이 값이 각각 단위 영역의 너비 및 높이로 다운스케일링 된 값, 스케일 파라미터가 전송될 수 있다. 관심 영역은 뉴럴 네트워크 기반의 또는 비 뉴럴 네트워크 기반의 방법으로 한 개 이상 도출될 수 있다. 또는 시퀀스 또는 프레임 단위로 사용자가 관심 영역을 지정할 수 있다. 도 11은 본 개시의 일 실시 예에 따른 관심 영역 추출 과정을 나타내는 순서도이다. 도 12는 관심 영역 추출부 의 입력 값(a) 및 관심 영역 추출부의 출력 값(b)의 예시를 나타낸다. 본 개시의 일 실시 예에 따른 VCM 인코딩 장치(100a)의 관심 영역 추출부는 관심 영역 도출부에서 도 출된 관심 영역에 따라 피쳐맵에서 일부 영역을 추출할 수 있고 도 11의 순서로 수행될 수 있다. 도 11의 각 단 계는 선택적으로 수행될 수 있다. S1101 단계에서, 관심 영역 추출부는 부호화 대상 피쳐맵을 입력받아, 추출 대상 피쳐맵을 선택할 수 있다. 관심 영역 추출부는 피쳐맵이 복수 개일때 관심 영역 추출을 수행할 피쳐맵을 하나 이상 선택할 수 있다. 관심 영역 추출 대상으로 선택된 각 피쳐맵에 대하여 다음 S1102, 및 S1103 단계를 수행할 수 있다. 관심 영역을 추출한 피쳐맵의 개수 및 각 인덱스는 picture_parameter_set에 포함되어 VCM 디코딩 장치(100b)에 전송 될 수 있다. S1102 단계에서, 관심 영역 추출부는 관심 영역의 공간해상도 스케일을 관심 영역을 추출하고자 하는 피쳐 맵의 공간해상도 스케일과 동일하게 스케일링 할 수 있다. 예를 들어 관심 영역의 스케일이 부호화 대상 피쳐맵 들 중 가장 작은 공간해상도를 갖는 피쳐맵의 스케일이고, 현재 추출 대상 피쳐맵이 가장 작은 피쳐맵보다 너비 및 높이가 각각 a, b 배 만큼 공간해상도가 클 때, 관심 영역의 너비와 높이에 각각 a, b를 곱하여 스케일링할 수 있다. 스케일링은 정해진 수식을 계산하여 수행될 수 있고, 또는 뉴럴 네트워크 기반의 다운샘플링 또는 업 샘플링이 수행될 수 있다. S1103 단계에서, 관심 영역 추출부는 피쳐맵 내 원소들 중에서 공간축 좌표가 관심 영역에 포함되는 원소 들의 집합을 추출할 수 있다. 도 12의 (a)는 관심 영역 추출부의 입력을 나타내고, 도 12의 (b)는 관심 영 역 추출부의 출력을 나타낼 수 있다. 예를 들어, 4개의 피쳐맵 (피쳐맵 0~3)이 입력되었을 때 피쳐맵 1~3 은 관심 영역을 추출하지 않고, 피쳐맵 0은 두 개의 관심영역을 추출한 예시를 나타낼 수 있다. 다시 도 8을 참조하면, 코딩그룹 도출부는 부호화 대상인 한 개 이상의 피쳐맵들을 한 개 이상의 코딩 그 룹으로 그룹핑할 수 있다. 코딩 그룹은 도 8의 피쳐맵 변환부 또는 피쳐맵 부호화부의 수행 단위, 또 는 전송 단위가 될 수 있다. 코딩그룹 도출부는 다음 기준에 따라 피쳐맵을 코딩 그룹으로 그룹핑할 수 있다. 기준 1 : 부호화 대상인 모든 피쳐맵을 한 개의 코딩 그룹으로 그룹핑할 수 있다. 기준 2 : 관심 영역이 추출되지 않은 전체 해상도의 피쳐맵과 관심 영역만 추출한 피쳐맵은 서로 다른 코딩 그 룹으로 그룹핑될 수 있다. 기준 3 : 관심 영역이 추출되지 않은 전체 해상도의 피쳐맵은 한 개의 코딩 그룹으로 그룹핑될 수 있다. 기준 4 : 동일한 관심 영역 인덱스를 갖는 관심 영역은 한 개의 코딩 그룹으로 그룹핑될 수 있다. 도 13은 본 개시의 일 실시 예에 따른 코딩 그룹 도출부의 입력 값(a)과 출력 값(b1, b2)의 예시이다. 예 를 들어, 코딩 그룹 도출부의 입력 값(a)은 부호화 대상 피쳐맵이다. 코딩 그룹 도출부의 출력 값 (b1)은 상기 그룹핑 기준 1에 따라 그룹핑된 결과를 예시한다. 코딩 그룹 도출부의 출력 값(b2)은 상기 그 룹핑 기준 2, 3, 4에 따라서 그룹핑된 결과를 예시한다. 코딩 그룹 정보는 각 코딩 그룹의 헤더인(coding_group_header)에 포함되어 VCM 디코딩 장치(100b)에 전송될 수 있다. coding_group_header 신택스는 도 25a와 같이 정의될 수 있다. 코딩 그룹 정보는 코딩 그룹 인덱스, 코딩 그룹 내 포함된 피쳐 맵의 개수, 각 피쳐 맵의 인덱스, 피쳐 맵이 ROI 추출된 경우라면 ROI 인덱스를 포함할 수 있다. 다시 도 8을 참조하면, 피쳐맵 변환부는 코딩 그룹 단위로 코딩 그룹 내 피쳐맵에 대하여 변환을 수행할 수 있다. 변환의 종류는 예를 들면 매트릭스 곱셈 기반의 변환, 다중 합성곱 레이어 수행 기반의 변환 등일 수 있다. 도 15는 본 개시의 일 실시 예에 따른 매트릭스 곱셈 기반 피쳐맵 변환 예시이고, 도 16은 본 개시의 일 실시 예에 따른 다중 합성곱 레이어 기반 피쳐맵 변환 예시를 나타낸다. 변환의 참조 속성 또는 종류는 coding_group_header에 포함되어 VCM 디코딩 장치(100b)에 전송될 수 있다. 변환의 참조 속성은 임의의 피쳐맵 에 변환을 수행할 때 해당 피쳐맵 내부의 정보만을 이용하는지 또는 다른 피쳐맵의 정보도 이용하는지를 의미할 수 있다. 변환의 종류는 변환을 수행하는 알고리즘 종류를 의미할 수 있다. 도 14는 본 개시의 일 실시 예에 따른 매트릭스 곱셈 기반 피쳐맵 변환 과정을 포함하는 순서도이다. 피쳐맵 변 환부는 변환의 종류가 매트릭스 곱셈 기반 변환일 경우 도 14의 과정이 수행될 수 있고 도 14의 각 단계는 선택적으로 수행될 수 있다. 도 15는 본 개시의 일 실시 예에 따른 매트릭스 곱셈 기반 피쳐맵 변환 예시로써, (a)는 입력 피쳐맵, (b)는 스케일 변환된 피쳐맵, (c)는 변환 유닛의 각 예시를 나타낸다. S1401 단계에서, 피쳐맵 변환부는 코딩 그룹 내 각 피쳐맵에 대하여 공간해상도 스케일링을 수행할 수 있 다. 피쳐맵 변환부는 각 피쳐맵마다 공간해상도 스케일링 정도를 지정할 수 있고, 스케일링 파라미터는 coding_group_header에 포함되어 VCM 디코딩 장치(100b)에 전송될 수 있다. 또는 피쳐맵 변환부는 변환 그룹 내 가장 작은 공간해상도를 갖는 피쳐맵의 공간해상도로 각 피쳐맵을 다운스케일링하는 방법을 고정적으로 사용할 수 있다. 도 15의 (a)는 피쳐맵 변환부의 입력 값으로써, 복수 개의 피쳐맵(피쳐맵 1~3)을 포함하 는 코딩 그룹을 나타낸다. 도 15의 (b)는 공간해상도가 가장 작은 피쳐맵 3의 공간해상도로 각 피쳐맵(피쳐맵1, 피쳐맵2)에 다운샘플링을 수행한 예시를 나타낼 수 있다. S1402 단계에서, 피쳐맵 변환부는 각 피쳐맵을 변환 유닛(변환 단위)으로 분할하여 나열할 수 있다. 변환 유닛은 피쳐맵을 오버랩하지 않는 w_tu x h_tu x c_tu의 크기로 분할한 데이터일 수 있다. w_tu, h_tu, c_tu 각각은 스케일링된 피쳐맵들 중 최소 너비, 최소 높이, 최소 채널 길이 각각의 약수의 값을 가질 수 있다. 도 15의 (c)는 스케일링된 피쳐맵들이 동일한 너비, 높이, 채널 길이를 갖는 경우에, 각각 피쳐맵 너비/2, 피쳐맵 높이/2, 1의 크기를 갖는 변환 유닛으로 분할한 예시이다. 변환 유닛의 w_tu, h_tu, c_tu는 각각 피쳐맵의 너비 /2, 피쳐맵 높이/2, 1인 경우를 나타낼 수 있다. 이 경우, 각 피쳐맵의 너비와 높이를 1/2로 줄였으므로, 피쳐 맵 당 채널길이 * 4개의 변환 유닛이 도출될 수 있다. S1403 단계에서, 피쳐맵 변환부는 도출된 각 변환 유닛에 대하여 매트릭스 곱셈 기반 변환을 수행할 수 있 다. 각 변환 유닛에 대하여 matrix_num 개의 매트릭스와 곱셈연산을 수행하여 matrix_num개의 변환 계수를 도출 할 수 있다. 도 16은 본 개시의 일 실시 예에 따른 다중 합성곱 레이어 기반 피쳐맵 변환 예시를 나타낸다. 변환의 종류가 다중 합성곱 레이어 기반 변환일 경우, 피쳐맵 변환부는 코딩 그룹 내 한 개 이상의 피쳐맵의 공간해상도 를 동일하게 조정하고 채널축으로 결합한 뒤 채널축으로 함축하는 다중 합성곱 레이어를 수행할 수 있다. 도 16 을 참조하면, 피쳐맵 변환부는 피쳐맵 1 내지 3을 포함하는 코딩 그룹을 입력받아, 공간해상도가 제일 작 은 피쳐맵3을 기준으로 공간해상도를 동일하게 조정할 수 있다. 피쳐맵 변환부는 피쳐맵 1 및 2의 공간 해상도를 피쳐맵 3의 공간해상도와 동일하도록 다운스케일링할 수 있다. 피쳐맵 변환부는 공간해상도가 동일 해진 피쳐맵 1 내지 3을 채널축으로 결합한 뒤, 채널축으로 함축하는 다중 합성곱 레이어를 수행하여, 피쳐맵 1 내지 3이 결합되어 변환된 피쳐맵을 출력할 수 있다. 다시 도 8을 참조하면, VCM 인코딩 장치(100a)의 피쳐맵 부호화부는 그룹 단위로 피쳐맵 변환부에서 출력된 변환된 피쳐맵 또는 변환이 수행되지 않은 피쳐맵(관심영역 도출부에서 출력된 피쳐맵)을 부호화하 여 비트스트림을 출력할 수 있다. 피쳐맵 부호화부는 다양한 부호화 방법 중 피쳐맵 부호화에 사용할 부호화 방법을 결정하고, 결정된 부호 화 방법을 의미하는 신택스가 coding_group_header 에 포함되어 VCM 디코딩 장치(100b)에 전송될 수 있다. 피쳐맵 부호화부에서 사용할 수 있는 부호화 방법은 부호화 참조 속성에 의존적일 수 있다. 부호화 참조 속성은 임의의 피쳐맵에 부호화를 수행할 때 해당 피쳐맵 내부의 정보만을 이용하는지 또는 다른 피쳐맵의 정보 도 이용하는지를 의미할 수 있다. 부호화 참조 속성 신택스는 coding_group_header에 포함되어 VCM 디코딩 장치 (100b)에 전송될 수 있고, 또는 전송되지 않고 변환 참조 속성과 동일한 값이 사용될 수 있다. 피쳐맵 부호화부 는 부호화 참조 속성 정보가 존재하는 경우, 현재 프레임의 부호화 참조 속성에서 수행할 수 있는 부호화 알고리즘들 중 사용할 부호화 알고리즘의 인덱스를 전송할 수 있다. 예를 들어 부호화 참조 속성이 인트라일 경 우, 부호화 방법은 엔트로피코딩 기반의 방법을 수 있다. 예를 들어 부호화 참조 속성이 인터일 경우 부호화 방 법은 비디오 기반의 비-딥러닝 방법, 비디오 기반의 딥러닝 방법, 등일 수 있다. 부호화 참조 속성 정보가 전송 되지 않을 경우에는 변환 참조 속성 정보의 값과 동일한 값이 사용될 수 있다. 1)부호화 방법이 비디오 기반의 비-딥러닝 방법일 경우, 부호화 과정은 예측, 변환, 양자화, 엔트로피 코딩 등 의 단계로 구성될 수 있고 각 단계는 생략될 수 있다. 예를 들어 예측, 변환, 양자화 단계가 생략되고 엔트로피 코딩 단계만 수행될 수 있다. 피쳐맵 부호화부는 피쳐맵 부호화를 수행하기 이전에, 코딩 그룹 내 피쳐맵 또는 변환된 피쳐맵을 1차원 배열 또는 2차원 프레임 또는 3차원 매트릭스의 형태로 재구성한 뒤 부호화를 수행 할 수 있다. 피쳐맵 또는 변환된 피쳐맵이 2차원 프레임으로 재구성되고 예측, 변환, 양자화, 엔트로피 코딩 단 계로 구성된 비디오 기반의 압축을 수행하는 경우에, 피쳐맵 부호화부는 관심 영역 도출부로부터 입 력받은 관심 영역을 기반으로 프레임 내에서 지역적인 양자화 파라미터를 지정할 수 있다. 피쳐맵 부호화부 는 관심 영역과 비 관심 영역의 양자화 파라미터를 다르게 지정할 수 있다. 예를 들면 피쳐맵 부호화부 는 관심 영역은 양자화 파라미터를 낮게 지정하고 비 관심 영역은 양자화 파라미터를 높게 지정할 수 있다. 2)부호화 방법이 비디오 기반의 딥러닝 방법일 경우, 피쳐맵 부호화부는 다중 합성곱 레이어로 구성된 뉴 럴 네트워크 구조를 사용하여 부호화를 수행할 수 있다. 도 17은 본 개시의 일 실시 예에 따른 VCM 디코딩 장치의 구성요소를 포함하는 블록도이다. 본 개시의 일 실시 예에 따른 VCM 디코딩 장치(100b)는 피쳐맵이 압축된 비트스트림을 입력받아 피쳐맵을 복원 하고, 머신 태스크 분석을 수행하여 분석 결과를 출력할 수 있다. VCM 디코딩 장치(100b)는 피쳐맵 복호화부 , 피쳐맵 역변환부, 피쳐맵 재구성부 및 머신 태스크 분석부를 포함할 수 있다. 각 구 성요소는 시퀀스 또는 프레임 레벨에서 선택적으로 수행될 수 있다. 피쳐맵 복호화부는 전송받은 비트스트림으로부터 코딩 그룹 단위로 피쳐맵 또는 피쳐맵 변환 계수를 복원 할 수 있다. 피쳐맵 역변환부는 코딩 그룹 단위로 복원된 피쳐맵 변환 계수에 역변환을 수행할 수 있다. 피쳐맵 재구성부는 복원된 피쳐맵을 기반으로 전송 및 복원되지 않은 피쳐맵 또는 피쳐맵의 일부 영역을 생성하여 VCM 인코딩 장치(100a)의 피쳐맵 추출 및 선택부에서 최초 추출된 피쳐맵의 개수 및 크기를 복원 할 수 있다. 머신 태스크 분석부는 복원된 피쳐맵을 사용하여 객체 탐지, 영역 세그멘테이션, 객체 추적, 행동 인식, 상황 해석 등의 머신 태스크를 수행할 수 있다. 머신 태스크 분석부의 구조는 다중 컨볼루션 레이어로 구 성될 수 있고 VCM 인코딩 장치(100a)의 피쳐맵 추출 및 선택부에서 피쳐맵을 추출하는 다중 컨볼루션 레이어를 앞단에 포함할 수 있다. 머신 태스크 분석부는 픽쳐 레벨 파라미터 셋 (picture_parameter_set)에서 전송받는 피쳐맵 추출 레이어 위치(FM_extract_layer_idx)를 기반으로, 머신 태스크 분석부의 다중 컨볼 루션 레이어들 중 어느 레이어에 복원된 피쳐맵을 입력하여 머신 분석을 수행할지 유도할 수 있다. 피쳐맵 복호화부는 전송받은 비트스트림으로부터 코딩 그룹 단위로 피쳐맵 또는 피쳐맵 변환 계수를 복원 할 수 있다. 복호화 참조 속성이 존재할 경우 코딩 그룹 헤더(coding_group_header)에서 전송받은 값을 파싱 (is_intra_coded) 하거나 또는 변환 참조 속성 값과 같은 값으로 유도할 수 있다. is_intra_coded 신택스는 도 25b와 같이 정의될 수 있다. 파싱 또는 유도된 복호화 참조 속성 값에 따라서 수행 가능한 복호화 방법들 중 사 용할 복호화 방법을 의미하는 인덱스 (intra_coding_method_idx, inter_coding_method_idx)를 코딩 그룹 헤더 (coding_group_header)에서 파싱할 수 있다. 복호화 참조 속성이 존재하지 않을 경우 복호화 방법을 의미하는 인덱스 (coding_method_idx)는 독립적으로 파싱될 수 있다. 피쳐맵 복호화부는 뉴럴 네트워크 기반이거나 비 뉴럴 네트워크 기반의 방법으로 수행될 수 있다. 비 뉴 럴 네트워크 기반으로 수행될 경우 복호화 과정은 예측, 변환, 양자화, 엔트로피 코딩 등의 단계로 구성될 수 있고 각 단계는 생략될 수 있다. 피쳐맵 복호화부에서 복원된 피쳐맵 또는 변환된 피쳐맵은 재구성된 형태일 수 있으며 피쳐맵의 본래 형 태로 복원된 데이터를 역 재구성을 수행할 수 있다. 재구성된 형태는 예를 들어, 1차원 배열 또는 2차원 프레임 또는 3차원 매트릭스의 형태일 수 있다. 피쳐맵 역변환부는 코딩 그룹 단위로 코딩 그룹 내 피쳐맵 변환 계수에 대하여 역변환을 수행할 수 있다. 역변환의 종류는 예를들면 매트릭스 곱셈 기반의 역변환, 다중 합성곱 레이어 수행 기반의 역변환 등일 수 있다. 피쳐맵 역변환부는 코딩 그룹 헤더(coding_group_header)에 포함된 역변환 방법 인덱스 (transform_method_idx)에 해당하는 역변환을 수행할 수 있다. 피쳐맵 역변환부는 코딩 그룹 헤더 (coding_group_header)에서 변환 참조 속성(is_intra_transformed)을 먼저 파싱하고, 파싱된 참조 속성일 때 가능한 역변환 방법들 중 사용할 역변환 종류 인덱스(intra_transform_method_idx, inter_transform_method_idx)를 파싱할 수 있다. 피쳐맵 역변환부는 변환 참조 속성 (is_intra_transformed)이 참일 경우, 역변환 종류 인덱스로서 intra_transform_method_idx 신택스를 파싱할 수 있고, 변환 참조 속성(is_intra_transformed)이 거짓일 경우, 역변환 종류 인덱스로서 inter_transform_method_idx 신택스를 파싱할 수 있다. intra_transform_method_idx 또는 inter_transform_method_idx의 값에 매핑된 사전에 정의된 역변환 방법으로 역변환이 수행될 수 있다. 피쳐맵 역변환부는 변환 참조 속성(is_intra_transformed) 신택스가 존재하지 않을 경우 역변환 종류 인덱스 (transform_method_idx)만 파싱할 수 있다. 피쳐맵 역변환부의 역변환 종류가 매트릭스 곱셈 기반 방법일 경우 도 18의 과정으로 수행될 수 있다. 도 18은 본 개시의 일 실시 예에 따른 매트릭스 곱셈 기반 피쳐맵의 역변환 과정을 포함하는 순서도이다. 도 19 는 본 개시의 일 실시 예에 따른 매트릭스 곱셈 기반 피쳐맵의 역변환 예시를 나타낸다. S1801 단계에서, 피쳐맵 역변환부는 역변환 유닛마다의 피쳐맵 변환 계수에 역변환 매트릭스를 곱하여 역 변환을 수행할 수 있다. 코딩 그룹 헤더(coding_group_header)에서 전송된 역변환 유닛의 너비, 높이(TU_width, TU_height)에 맞는 역변환 매트릭스를 선택하고 역변환을 수행하여 역변환 단위 크기의 피쳐 값이 도출될 수 있 다. 도 19의 (a)는 임의의 코딩 그룹에 대하여 역변환 유닛 단위로 역변환이 수행된 결과 데이터를 나타낼 수 있다. S1802 단계에서, 피쳐맵 역변환부는 역변환된 데이터를 본래의 피쳐맵 형태로 결합할 수 있다. 도 19의 (b)는 역변환된 데이터를 본래 피쳐맵에서의 역변환 유닛 위치로 재배치한 결과를 나타낼 수 있다. S1803 단계에서, 피쳐맵 역변환부는 역변환된 피쳐맵에 역스케일링을 수행할 수 있다. 각 피쳐맵의 역스 케일링 파라미터(scale_param)는 코딩 그룹 헤더(coding_group_header)에 포함되어 전송되거나 고정된 방법으로 유도될 수 있다. 상기 고정된 방법은 예를 들면, 역변환된 피쳐맵의 크기와 pps에 포함된 피쳐맵의 본래 크기를 기반으로 역스케일링 파라미터를 계산할 수 있다. 역스케일링은 고정된 수식에 기반하여 수행될 수 있고 또는 뉴럴 네트워크 기반의 방법으로 수행될 수 있다. 도 19의 (c)는 역스케일링된 피쳐맵을 나타낼 수 있다. 도 19 의 (a), (b), (c)는 각각 도 15의 (c), (b), (a)에 각각 대응된다.도 20은 본 개시의 일 실시 예에 따른 다중 합성곱 레이어 기반 피쳐맵의 역변환 예시를 나타낸다. 피쳐맵 역변환부는 역변환의 종류가 다중 합성곱 레이어 기반 역변환일 경우, 변환된 데이터를 합성곱 레 이어의 조합으로 구성된 뉴럴 네트워크에 입력하여 역변환된 피쳐맵을 출력할 수 있다. 상기 역변환을 수행하는 뉴럴 네트워크의 구조 및 입출력 데이터는 도 20과 같을 수 있다. 도 20의 각 단계는 도 16의 각 단계의 역순으 로 대응된다. 도 17을 다시 참조하면, 피쳐맵 재구성부는 피쳐맵 복호화부 또는 피쳐맵 역변환부에서 복원 된 피쳐맵을 기반으로 전송 및 복원되지 않은 피쳐맵 또는 피쳐맵의 일부 영역을 예측하여 VCM 인코딩 장치 (100a)의 피쳐맵 추출 및 선택부에서 최초 추출된 피쳐맵의 개수 및 크기를 복원할 수 있다. 피쳐맵 추출 및 선택부에서 최초 추출된 피쳐맵들 중 VCM 디코딩 장치(100b)에서 복원된 피쳐맵 및 피쳐맵 내 영역 정 보는 시퀀스 또는 프레임 그룹 또는 프레임 레벨에서 전송받은 피쳐맵 개수, 인덱스, 너비, 높이, 채널 길이 등 의 정보를 조합하여 유도할 수 있다. 피쳐맵 재구성부는 도 21의 각 단계에 따라 피쳐맵을 재구성할 수 있다. 도 21은 본 개시의 일 실시 예에 따른 피쳐맵 재구성 과정을 나타내는 순서도이다. VCM 인코딩 장치(100a)는 부 호화 대상 피쳐맵에 대하여 관심 영역을 추출할 수 있고, 관심 영역이 추출된 피쳐맵의 경우 관심 영역에 포함 되지 않은 영역은 부호화되지 않기 때문에 VCM 디코딩 장치(100b)에서 복원된 부분을 기준으로 VCM 인코딩 장치 (100a)로부터 전송받지 못한 부분(관심 영역에 포함되지 않은 영역)을 예측하여 관심 영역을 추출하기 전 피쳐 맵을 복원할 수 있다. VCM 인코딩 장치(100a)에서 관심 영역을 추출하는 예시는 도 12a 및 12b와 같고, 도 21에 따라 피쳐맵을 재구성하는 경우, 도 12a가 복원되는 것을 도 22에서 나타낼 수 있다. S2101 단계에서, 피쳐맵 재구성부는 임의의 피쳐맵에서 관심 영역이 복원된 경우 관심 영역을 피쳐맵에서 의 본래 위치에 배치하고, 복원되지 않은 비 관심 영역의 피쳐 값을 예측하여, 관심 영역과 예측된 비 관심 영 역을 결합할 수 있다. 도 22는 본 개시의 일 실시 예에 따른 관심 영역과 비 관심 영역을 결합하는 예시이다. 도 22를 참조하면, 피쳐맵 재구성부는 복원된 피쳐맵 1 내지 3을 기반으로, 피쳐맵 0의 복원되지 않은 비 관심 영역의 피쳐 값을 예측하고, 예측된 비 관심 영역과 복원된 관심 영역을 결합하여 복원된 피쳐맵 0을 생성 할 수 있다. 피쳐맵 재구성부는 전체 공간해상도가 복원된 한 개 이상의 피쳐맵을 이용하여 관심 영역만 복원된 피쳐 맵의 비 관심 영역의 공간해상도를 예측할 수 있다. 비 관심 영역 예측 방법으로 뉴럴 네트워크 기반의 방법이 수행될 수 있다. 피쳐맵의 본래 해상도 전체를 예측할 수 있고 또는 전체 해상도에서 관심 영역에 포함되는 피 쳐는 제외하고 예측을 수행할 수 있다. 또는 복원된 관심영역의 바운더리 피쳐 값(경계값)에 기반하여 비 관심 영역의 피쳐 값을 예측할 수 있다. 또는 특정 정해진 값으로 비 관심 영역의 피쳐값을 지정할 수 있다. 피쳐맵 재구성부는 복원된 관심 영역과 예측된 비 관심 영역을 결합하여 전체 해상도의 피쳐맵을 복원할 수 있다. 도 22의 비 관심 영역 예측 단계에서 관심 영역 내 피쳐 값도 예측된 경우, 해당 예측 값을 복원된 관 심 영역 값으로 대체할 수 있다. S2102 단계에서, 피쳐맵 재구성부는 복원된 피쳐맵의 공간해상도를 역스케일링 할 수 있다. 현재 프레임 의 복원된 피쳐맵의 공간해상도 역스케일링을 수행할지 여부는 시퀀스 또는 프레임 그룹 또는 프레임 단위로 전 송받은 공간해상도 역스케일링 수행 여부를 의미하는 신택스에 기반하여 도출될 수 있다. 시퀀스->프레임 그룹- >프레임 순서로 전송 레벨 내림차순일 수 있고, 임의의 전송 레벨에서 전송된 공간해상도 역스케일링 수행 여부 가 역스케일링을 수행하지 않음을 의미할 경우, 모든 하위 레벨의 공간해상도 역스케일링 수행 여부 신택스를 파싱하지 않을 수 있고 현재 프레임의 피쳐맵에 공간해상도 역스케일링을 수행하지 않을 수 있다. 피쳐맵 재구성부는 현재 프레임에 공간해상도 역스케일링을 수행하는 경우, 피쳐맵 마다 스케일 파라미터 를 파싱하거나 피쳐맵 공통의 스케일 파라미터를 파싱할 수 있다. 스케일 파라미터는 파라미터 원본 값, log2연 산된 값, 인덱스 값 등의 형태로 전송될 수 있다. 스케일 파라미터가 원본 값일 경우 원본 해상도와 스케일링된 해상도의 관계는 수학식 7, 8과 같을 수 있고, 스케일 파라미터가 log2연산된 값일 경우 원본 해상도와 스케일 링된 해상도의 관계는 수학식 9,10과 같을 수 있고, 스케일 파라미터가 스케일 테이블의 인덱스 값 형태일 경우 원본 해상도와 스케일링된 해상도의 관계는 수학식 11, 12와 같을 수 있다.수학식 7"}
{"patent_id": "10-2024-0042998", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "수학식 8"}
{"patent_id": "10-2024-0042998", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 9, "content": "수학식 9"}
{"patent_id": "10-2024-0042998", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 10, "content": "수학식 10"}
{"patent_id": "10-2024-0042998", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 11, "content": "수학식 11"}
{"patent_id": "10-2024-0042998", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 12, "content": "수학식 12"}
{"patent_id": "10-2024-0042998", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 13, "content": "피쳐맵 재구성부는 복원된 피쳐맵이 원본 공간해상도를 갖도록 딥러닝 기반의 또는 비-딥러닝 기반의 공 간해상도 변환 알고리즘을 사용하여 역스케일링을 수행할 수 있다. S2103 단계에서, 피쳐맵 재구성부는 피쳐맵을 생성하기 위해 VCM 인코딩 장치(100a)의 피쳐맵 추출 및 선 택부에서 선택되지 않아서 부호화 및 복호화가 수행되지 않은 피쳐맵을 복호화된 피쳐맵을 이용하여 예측 할 수 있다. 피쳐맵 생성은 다중 합성곱 레이어 기반의 방법을 통해서 생성할 수 있다. 도 23은 본 개시의 일 실시 예에 따른 다중 합성곱 레이어 기반 피쳐맵 역변환 예시를 나타낸다. 예를 들어, VCM 인코딩 장치(100a)에 서 최초 추출된 피쳐맵이 4개(피쳐맵 1, 2, 3,4)이고 피쳐맵 3과 피쳐맵 2만 부호화 및 복호화 된 경우에, 복원 된 피쳐맵 2 및 피쳐맵 3을 이용하여 복원되지 않은 피쳐맵 1 및 피쳐맵 0의 피쳐 값을 예측할 수 있다. 도 24, 도 25a 및 25b는 본 개시의 일 실시 예에 따른 신택스들을 나타낸다. 도 24는 관심 영역에 대한 정보를 포함하는 picture_parameter_set 신택스를 나타낸다. 도 25a는 코딩 그룹 헤더(coding_group_header) 신택스를 나타낸다. 도 25b는 코딩 그룹 헤더에 포함된 복호화 참조 속성(is_intra_coded) 신택스를 나타낸다. 본 명세서와 도면에 나타난 본 개시의 예시들은 본 개시의 기술 내용을 쉽게 설명하고 본 개시의 이해를 돕기 위해 특정 예를 제시한 것뿐이며, 본 명의 범위를 한정하고자 하는 것은 아니다. 지금까지 설명한 예시들 이외 에도 다른 변형 예들이 실시 가능하다는 것은 본 개시가 속하는 기술 분야에서 통상의 지식을 가진 자에게 자명 한 것이다.본 명세서에 기재된 청구항들은 다양한 방식으로 조합될 수 있다. 예를 들어, 본 명세서의 방법 청구항의 기술 적 특징이 조합되어 장치로 구현될 수 있고, 본 명세서의 장치 청구항의 기술적 특징이 조합되어 방법으로 구현 될 수 있다. 또한, 본 명세서의 방법 청구항의 기술적 특징과 장치 청구항의 기술적 특징이 조합되어 장치로 구 현될 수 있고, 본 명세서의 방법 청구항의 기술적 특징과 장치 청구항의 기술적 특징이 조합되어 방법으로 구현 될 수 있다."}
{"patent_id": "10-2024-0042998", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 비디오/영상 코딩 시스템의 예를 개략적으로 나타낸다. 도 2는 비디오/영상 인코딩 장치의 구성을 개략적으로 설명하는 도면이다. 도 3은 비디오/영상 디코딩 장치의 구성을 개략적으로 설명하는 도면이다. 도 4a 내지 도 4d는 VCM 인코더와 VCM 디코더를 나타낸 예시도들이다. 도 5은 특징맵을 압축한 후 비트스트림으로 전송하는 VCM 인코더와 그리고 수신된 비트스트림을 복원하는 VCM 디코더를 일 예시에 따라 나타낸 예시도이다. 도 6은 5에 도시된 특징맵 P2 내지 특징맵 P5를 생성하는 예를 나타낸 예시도이다. 도 7은 도 5에 도시된 MSFF 수행부를 자세하게 나타낸 예시도이다. 도 8은 본 개시의 일 실시예에 따른 VCM 인코딩 장치의 구성요소를 포함하는 블록도이다. 도 9a는 본 개시의 일 실시 예에 따른 단일 피쳐맵 추출 구조의 예시이고, 도 9b는 본 개시의 일 실시 예에 따 른 복수 개의 피쳐맵 추출 구조의 예시이다. 도 10은 본 개시의 일 실시 예에 따른 공간적 관심 영역의 예시들이다. 도 11은 본 개시의 일 실시 예에 따른 관심 영역 추출 과정을 나타내는 순서도이다. 도 12는 관심 영역 추출부의 입력 값(a) 및 관심 영역 추출부의 출력 값(b)의 예시를 나타낸다. 도 13은 본 개시의 일 실시 예에 따른 코딩 그룹 도출부의 입력 값(a)과 출력 값(b1, b2)의 예시이다. 도 14는 본 개시의 일 실시 예에 따른 매트릭스 곱셈 기반 피쳐맵 변환 과정을 포함하는 순서도이다. 도 15는 본 개시의 일 실시 예에 따른 매트릭스 곱셈 기반 피쳐맵 변환 예시를 나타낸다. 도 16은 본 개시의 일 실시 예에 따른 다중 합성곱 레이어 기반 피쳐맵 변환 예시를 나타낸다. 도 17은 본 개시의 일 실시 예에 따른 VCM 디코딩 장치의 구성요소를 포함하는 블록도이다. 도 18은 본 개시의 일 실시 예에 따른 매트릭스 곱셈 기반 피쳐맵의 역변환 과정을 포함하는 순서도이다. 도 19는 본 개시의 일 실시 예에 따른 매트릭스 곱셈 기반 피쳐맵의 역변환 예시를 나타낸다. 도 20은 본 개시의 일 실시 예에 따른 다중 합성곱 레이어 기반 피쳐맵의 역변환 예시를 나타낸다. 도 21은 본 개시의 일 실시 예에 따른 피쳐맵 재구성 과정을 나타내는 순서도이다. 도 22는 본 개시의 일 실시 예에 따른 관심 영역과 비 관심 영역을 결합하는 예시이다. 도 23은 본 개시의 일 실시 예에 따른 다중 합성곱 레이어 기반 피쳐맵 역변환 예시를 나타낸다. 도 24는 본 개시의 일 실시 예에 따른 관심 영역에 대한 정보를 포함하는 picture_parameter_set 신택스를 나타 낸다. 도 25a는 본 개시의 일 실시 예에 따른 코딩 그룹 헤더(coding_group_header) 신택스를 나타낸다. 도 25b는 본 개시의 일 실시 예에 따른 코딩 그룹 헤더에 포함된 복호화 참조 속성(is_intra_coded) 신택스를 나타낸다."}
