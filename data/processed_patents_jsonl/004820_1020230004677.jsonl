{"patent_id": "10-2023-0004677", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0112547", "출원번호": "10-2023-0004677", "발명의 명칭": "동기화 방법 및 그 장치", "출원인": "주식회사 모빌테크", "발명자": "김재승"}}
{"patent_id": "10-2023-0004677", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "동기화 방법 및 그 장치"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "동기화 방법 및 그 장치 공개특허10-2024-0112547 CPC특허분류 G05D 1/0248 (2013.01)명 세 서 청구범위 청구항 1 동기화 방법 및 그 장치 발명의 설명"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "동기화 방법 및 그 장치"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "동기화 방법 및 그 장치"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "동기화 방법 및 그 장치"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "동기화 방법 및 그 장치"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "동기화 방법 및 그 장치"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "1_발명의 설명 1_발명의 명칭 회전형 라이다와 카메라의 동기화 방법 및 그 장치{METHOD AND DEVICE FOR SYNCHRONIZING BETWEEN ROTARY LIDAR AND CAMERA}"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "1_기술분야 본 발명은 회전형 라이다(LiDAR)와 카메라(camera)의 동기화 방법 및 그 장치에 관한 발명이다. 보다 자세하게 는 회전형 라이다의 센싱 데이터와 카메라의 촬영 영상을 일치 시키기 위한 방법 및 그 장치에 관한 것이다. 1_발명의 배경이 되는 기술 자율주행차량 시스템은 주변 환경을 실시간으로 인식/판단하기 위해서 라이다(LiDAR, Light Detection And Ranging)와 카메라 같은 다양한 종류의 시각 센서(sensor)들이 많이 사용되고 있고, 자율주행차량 시스템은 이 런 다양한 시각 센서들 간의 시간 동기화를 기본적으로 가정하고 동작하고 있다. 일반적으로 카메라 종류 간의 시각 센서 동기화는 GPS(Global Positioning System)처럼 빠르게 시간 정보를 제공해주는 장치를 이용하면 상대 적으로 쉽게 동기화가 가능하다. 하지만, 외부 장치에서 제공되는 시간 정보만으로 회전하며 주변의 거리 정보 를 취득하는 회전형 라이다와 특정 범위의 시각 정보를 한번에 취득하는 카메라 간의 정교한 동기화를 확보하는 것은 불가능하다. 현재 솔리드 스테이트(Solid-state) 형식의 라이다를 제외한 모든 라이다는 회전형 라이다이다. 앞서 언급한 것 과 같이 기존의 회전형 라이다와 카메라간의 동기화 방법은 외부 장치의 시간 정보를 활용하여 카메라가 촬영되 었을 때의 시간 정보와 라이다가 회전하면서 얻은 3차원 데이터들의 시간 정보들을 저장하고, 이렇게 기록된 시 간 정보들 중 가장 유사한 시간 값을 매칭하여 사용하다. 이렇게 동기화된 데이터는 일반적인 용1_도로는 충분 히 사용가능지만, 라이다와 카메라간의 정교한 정합이 요구되는 자율주행차량 시스템 등에 사용되는 알고리즘에사용하기에는 적합하지 않다. 이를 해결하기 위해 독일의 카를스루에 공과대학교(Karlsruhe Institute of Technology)에서는 회전형 라이다에 하드웨어적 스위치를 설치하여 카메라에 동기화 신호를 물리적으로 제공하 는 방식을 사용하여 시간동기화 문제를 해결하였다. 하지만, 이 방식은 물리적은 스위치로 인한 내구성 문제를 내포하고 있다. 회전형 라이다와 카메라간의 정교하지 않은 시간 동기화는 데이터간의 정합에 근본적인 에러를 유발하고, 이는 매우 다양한 야외 환경에서 안정적인 결과를 보장해야 하는 자율주행차량 시스템의 시각 센서 운용에 있어서 치 명적으로 작용할 수 있다. 기존의 장치와 그 방법들로는 이런 단점을 근본적으로 극복하기에는 한계가 있다는 문제점이 있다. 1_선행기술문헌 1_특허문헌 한국등록특허 제 10-1899549 호"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "1_발명의 내용 1_해결하고자 하는 과제 본 발명이 해결하고자 하는 기술적 과제는 회전형 라이다와 카메라의 동기화 방법 및 장치를 제공하는 것이다. 본 발명의 기술적 과제들은 이상에서 언급한 기술적 과제들로 제한되지 않으며, 언급되지 않은 또 다른 기술적 과제들은 아래의 기재로부터 당업자에게 명확하게 이해 될 수 있을 것이다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "1_과제의 해결 수단 상기 기술적 과제를 달성하기 위한 본 발명의 일 실시예에 따른 따른 라이다 카메라 동기화 장치는, 회전하면서 샘플을 출력하는 라이다; 상기 샘플을 바탕으로 상기 라이다가 현재 위치에서 트리거 타겟까지 회전하는데 예상 되는 시간인 트리거 타이밍을 1_도출하고 상기 트리거 타이밍이 가리키는 시간이 경과한 이후 트리거 신호를 출 력하는 동기화 제어부; 및 상기 트리거 신호를 수신하면 촬영을 시작하는 카메라;를 포함할 수 있다. 상기 기술적 과제를 달성하기 위한 본 발명의 일 실시예에 따른 따른 라이다와 카메라의 동기화 방법은, 상기 라이다가 회전을 하면서 사전에 정해진 출력주기마다 샘플을 출력하는 단계; 상기 동기화 제어부는 상기 샘플을 바탕으로 상기 라이다가 현재 위치에서 트리거 타겟까지 회전하는데 예상되는 시간인 트리거 타이밍을 1_도출하 는 단계; 및 상기 동기화 제어부는 상기 트리거 타이밍이 가리키는 시간이 경과한 이후에 상기 카메라에 트리거 신호를 출력하는 단계;를 포함할 수 있다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "1_발명의 효과 상기와 같은 본 발명에 따르면, 회전형 라이다의 회전 각속1_도를 실시간으로 측정함으로써 라이다와 카메라의 촬영 방향이 일치하는 순간을 예측할 수 있는 효과가 있다. 또한, 상기와 같은 본 발명에 따르면, 라이다와 카메라의 촬영 발향이 일치하는 순간에 카메라에 트리거 (trigger) 신호를 전송함으로써 라이다의 센싱 데이터와 카메라의 영상 데이터를 일치 시킬 수 있는 효과가 있 다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "1_도면의 간단한 설명 1_도 1은 본 발명의 일 실시예에 따른, 라이다 카메라 동기화 장치의 사시1_도이다. 1_도 2은 본 발명의 일 실시예에 따른, 라이다 카메라 동기화 장치의 평면1_도이다. 1_도 3은 본 발명의 일 실시예에 따른, 라이다와 카메라의 화각 중심선을 비교하기 위한 예시이다. 1_도 4은 본 발명의 일 실시예에 따른, 라이다의 회전에 따른 트리거 타이밍을 계산하는 방법을 설명하기 위한 예시이다. 1_도 5은 본 발명의 일 실시예에 따른, 라이다 카메라 동기화 장치의 구성1_도이다. 1_도 6은 본 발명의 일 실시예에 따른, 라이다와 카메라의 동기화 방법 중에서 트리거 타이밍 1_도출에 관한 순 서1_도이다. 1_도 7은 본 발명의 일 실시예에 따른, 라이다와 카메라의 동기화 방법에 따른 카메라 촬영 방법에 관한 순서1_ 도이다. 1_도 8은 본 발명의 일 실시예에 따른, 복수의 카메라를 포함하는 라이다 카메라 동기화 장치에서 트리거 타이 밍을 계산하는 방법을 설명하기 위한 예시이다. 1_도 9은 본 발명의 일 실시예에 따른, 라이다 카메라 동기화 장치의 실험 결과이다. 1_도 10는 본 발명의 일 실시예에 따른, 라이다와 카메라가 동기화되어 출력된 센싱 데이터와 영상 데이터의 합 성 영상이다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "1_발명을 실시하기 위한 구체적인 내용 이하, 첨부된 1_도면을 참조하여 본 발명의 바람직한 실시예를 상세히 설명한다. 본 발명의 이점 및 특징, 그리 고 그것들을 달성하는 방법은 첨부되는 1_도면과 함께 상세하게 후술되어 있는 실시 예들을 참조하면 명확해질 것이다. 그러나 본 발명은 이하에서 게시되는 실시 예들에 한정되는 것이 아니라 서로 다른 다양한 형태로 구현"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "될 수 있으며, 단지 본 실시 예들은 본 발명의 게시가 완전하1_도록 하고, 본 발명이 속하는 기술분야에서 통상 의 지식을 가진 자에게 발명의 범주를 완전하게 알려주기 위해 제공되는 것이며, 본 발명은 청구항의 범주에 의 해 정의될 뿐이다. 명세서 전체에 걸쳐 동일 참조 부호는 동일 구성 요소를 지칭한다. 다른 정의가 없다면, 본 명세서에서 사용되는 모든 용어(기술 및 과학적 용어를 포함)는 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에게 공통적으로 이해될 수 있는 의미로 사용될 수 있을 것이다. 또 일반적으로 사용되는 사전에 정의되어 있는 용어들은 명백하게 특별히 정의되어 있지 않는 한 이상적으로 또는 과1_도하게 해석되지 않는다. 1_도 1은 본 발명의 일 실시예에 따른, 라이다 카메라 동기화 장치의 사시1_도이다. 1_도 2은 본 발명의 일 실 시예에 따른, 라이다 카메라 동기화 장치의 평면1_도이다. 1_도 1 내지 1_도 2를 참조하여, 라이다 카메라 동기 화 장치에 외형에 관해 설명한다. 1_도 1 내지 1_도 2에 1_도시된 라이다 카메라 동기화 장치는 본 발명의 일 실시예에 따른 예시에 불과하며 이 에 한정되지 않는다. 1_도 1 내지 1_도 2를 참조하면, 본 발명의 일 실시예에 따른 라이다 카메라 동기화 장치는, 라이다, 카메라(210, 220, 230, 240) 및 본체를 포함할 수 있다. 라이다는 송신기와 수신기를 포함할 수 있다. 상기 송신기는 LIDAR 주변 환경을 향해 광 펄스(pulse)들을 방출한다. 상기 수신기는 방출된 광 펄스들의 반사들을 검출한다. 라이다는 회전을 하면서 주변 환경에 광 펄스를 방출하고 이를 수신함으로써, 주변 환경에 위치한 사물들의 거리를 측정한 점군 데이터를 출력할 수 있 다. 본체에는 라이다와 카메라(210, 220, 230, 240)가 장착될 수 있다. 본체의 내부에는 라이다(10 0)와 카메라(210, 220, 230, 240)를 제어하기 위한 동기화 제어부가 추가적으로 장착될 수 있다. 카메라(210, 220, 230, 240)는 적어1_도 하나 이상의 카메라를 포함할 수 있다. 본 발명에서 설명의 편의를 위 하여 4개의 카메라를 1_도시하였지만, 카메라 숫자는 이에 한정되지 않는다. 카메라(210, 220, 230, 240)에 포함된 각 카메라들은 일정한 간격으로 이격되어 본체에 배치될 수 있다. 1_ 도 2에 1_도시된 것과 같이, 카메라(210, 220, 230, 240)에 포함된 각 카메라들은 901_도의 간격을 가지고 각 면에 배치될 수 있지만, 이것은 예시에 불과하며 이에 한정되지 않는다. 라이다를 활용한 장치는 3601_도 이미지를 모두 촬영하기 위하여 원형으로 일정 간격에 따라 배치된 동일 종류의 카메라를 4 내지 8개 카메라를 포함할 수 있다. 또는 라이다를 활용한 장치는 열화상 영상과 같은 특수한 영상을 획득하기 위하여 서로 다른 종류의 카메라를 포함할 수 있다. 카메라(210, 220, 230, 240)는 컬러(Color) 카메라, 근적외선(NIR, Near InfraRed) 카메라, 단적외선(SWIR, Short Wavelength InfraRed) 카메라 및 장적외선(LWIR, Long WaveLength InfraRed) 카메라 중에서 어느 하나를 포함할 수 있다. 1_도 3은 본 발명의 일 실시예에 따른, 라이다와 카메라의 화각 중심선을 비교하기 위한 예시이다. 1_도 3을 참조하면, 설명의 편의를 위하여, 카메라의 화각의 중심선을 제1 중심선이라고 하며, 라이 다의 화각의 중심선을 제2 중심선이라고 한다. 라이다는 회전하면서 점군을 촬영하여 점군 데이터를 출력하고, 카메라는 영상 데이터를 출력할 수 있다. 라이다가 제2 중심선의 방향을 향해 있고 카메라가 제1 중심선의 뱡향을 향해 있는 상태에서 상기 출력된 점군 데이터와 영상 데이터를 병합하면 오차가 발생할 수 있다. 예를 들어, 인공지능 학 습 시스템이 상기 병합된 이미지에서 사물을 식별하려고 할 때, 사물의 색 정보와 거리 정보의 불일치에 따라 식별 실패 확률이 올라갈 수 있다. 이를 해결하기 위해서 제1 중심선과 제2 중심선이 일치할 때 라이다와 카메라의 출력 데이 터를 병합하여야 한다. 라이다는 일정한 각속1_도를 가지고 회전하1_도록 설정되어 있지만, 실제적인 환경 에서 상기 각속1_도는 오차를 가질 수 있다. 이에 따라 사전에 상기 각속1_도가 일정하다는 가정하에 라이다 와 카메라의 화각의 중심이 일치하는 시점을 계산하여 카메라의 촬영 시점을 정하면, 1_도 3에 1_도시된 것과 같이 오차가 발생할 수 있다. 1_도 4은 본 발명의 일 실시예에 따른, 라이다의 회전에 따른 트리거 타이밍을 계산하는 방법을 설명하기 위한 예시이다. 설명의 편의를 위하여, 본 발명에서 트리거 타겟은 라이다와 카메라의 화각의 중심이 일치하는 가상 의 방향을 가리키는 것으로 정의하며, 트리거 타이밍은 라이다가 현재 위치에서 상기 트리거 타겟까지 회 전하는데 예상되는 시간을 가리키는 젓으로 정의한다. 또한 카메라에 전송되는 촬영 시작을 가리키는 신호 를 트리거 신호라고 정의한다. 설명의 편의를 위하여, 1_도 4는 하나의 카메라로 구성된 장치에서 라이다와 카메라의 동기화 방법을 설명하기 위한 예시이다. 하나의 카메라로 구성된 장치에서는 라이다는 동일한 트리거 타겟 사이를 반복하여 회전한다. 라이다는 일정한 주기 점군 데이터를 포함하는 샘플을 출력할 수 있다. 상기 주기는 출력주기(Treload)라고 한다. 상기 샘플은 라이다의 현재 위치를 가리키는 회전각을 포함할 수 있다. 상기 회전각은 트리거 타겟 을 기준으로 라이다가 회전한 각1_도를 가리킬 수 있다. 라이다가 트리거 타겟을 시작점으로 하여 회전하면서 첫 주기에 출력한 샘플에 포함된 회전각이 a0 이고, 그 다음 주기에 출력한 샘플에 포함된 회전각이 a1 이며, n 번째 주기에 출력한 샘플에 포함된 회전각이 an-1 이다. a0 부터 an-1 의 각 회전각 차이의 총합을 샘플의 수(n)로 나누어 평균값을 1_도출할 수 있다. 상기 평균값을 출 력주기(Treload)로 나누면 평균각속1_도(w)를 1_도출할 수 있다. 평균각속1_도(w)를 구하는 수식은 아래와 같다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 9, "content": "가장 최근에 출력된 샘플에 포함된 회전각인 an-1 과 트리거 타겟의 각1_도 차이인 사이각을 획득할 수 있 다. 상기 사이각을 상기 1_도출된 평균각속1_도(w)로 나눈 값을 트리거 타이밍으로 1_도출할 수 있다. 트리거 타겟의 각1_도를 atr 이라고 할 때, 트리거 타이명(Ttr)을 구하는 수식은 아래와 같다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 10, "content": "즉, an-1 이 가리키는 지점에서 트리거 타겟까지 회전하여 이동하는데 걸리는 시간을 트리거 타이밍으로 1_도출할 수 있다. 상기 트리거 타이밍의 시간이 경과되면 라이다는 트리거 타겟에 위치할 것으로 예상되며, 이 때 카메 라에 트리거 신호를 전송하여 촬영하면, 라이다의 출력 데이터와 카메라의 영상 데이터를 동기 화 시킬 수 있다.1_도 5은 본 발명의 일 실시예에 따른, 라이다 카메라 동기화 장치의 구성1_도이다. 라이다 카메라 동기화 장치는 라이다, 동기화 제어부 및 카메라를 포함할 수 있다. 라이다는 사전에 정해진 출력주기마다 현재 위치를 가리키는 회전각을 포함하는 샘플을 출력할 수 있다. 동기화 제어부는 라이다 샘플 획득부, 트리거 타이밍 1_도출부 및 트리거 신호 생성부를 포함할 수 있다. 라이다 샘플 획득부는 라이다에서 출력된 샘플을 획득하고, 획득된 샘플에 포함된 회전각을 내부의 저장소에 저장해 두며, 획득된 샘플의 수를 가리키를 획득샘플수를 갱신할 수 있다. 라이다 샘플 획득부는 새로운 샘플이 획득될 때마다 상기 획득샘플수의 값을 1 씩 증가시킬 수 있다. 라이다 샘플 획득부는 상기 획득된 샘플과 이전에 획득된 샘플에 포함된 각 회전각의 차이값을 모두 더한 총합을 상기 획득샘플수로 나누어 평균값을 1_도출할 수 있다. 라이다 샘플 획득부는 사전에 정해진 목표샘플수(N) 보다 획득샘플수가 적은 경우 상기 샘플을 획득하는 것을 계속 수행할 수 있다. 목표샘플수(N)는 라이다의 제원에 따라 정해질 수 있다. 라이다의 초당 회전수와 출력주기(Treload)에 의해서 결정될 수 있다. 트리거 타겟 사이의 각1_도차를 각속1_도와 출력주기(Treload)의 곱으로 나눈 값의 정수 부분이 목표샘플수(N)이 될 수 있다. 예를 들어, 초당 회전수가 10이면, 1초당 3600 1_도를 회전하는 것이며 각속1_도는 3600/s 가 된다, 출력주기 (Treload)가 0.01 초 이면 한 출력주기(Treload)에 36001_도와 0.01초를 곱한 361_도를 회전 이동할 수 있으며, 트 리거 타겟이 하나만 존재하는 경우 트리거 타겟 사이의 각1_도 차이는 3601_도이며, 3601_도를 361_도로 나눈 값인 10이 목표샘플수(N)이 될 수 있다. 트리거 타겟이 복수 개인 경우, 트리거 타겟 사이의 각1_도를 위에서 구한 361_도로 나눈 값이 목표샘플수(N)이 될 수 있다. 트리거 타이밍 1_도출부는 획득샘플수가 목표샘플수(N)와 같은 경우 상기 평균값을 출력주기(Treload)로 나 눈 값을 평균각속1_도로 1_도출할 수 있다. 트리거 타이밍 1_도출부는 라이다가 가장 최근에 샘플을 출력한 지점과 상기 트리거 타겟 사이의 각 1_도 차이인 사이각을 획득할 수 있다. 1_도 4를 참조하면 상기 사이각은 an-1과 트리거 타겟 사이의 각1_ 도 차이이다. 트리거 타이밍 1_도출부 상기 사이각을 상기 평균각속1_도로 나눈 값을 상기 트리거 타이밍으로 1_도출할 수 있다. 트리거 신호 생성부는 상기 트리거 타이밍의 시간이 경과하면 카메라에 트리거 신호를 전송할 수 있 다. 카메라는 상기 트리거 신호를 수신하면, 영상 촬영을 시작하고 영상 데이터를 출력할 수 있다. 1_도 6은 본 발명의 일 실시예에 따른, 라이다와 카메라의 동기화 방법 중에서 트리거 타이밍 1_도출에 관한 순 서1_도이다. 1_도 6을 참조하여, 트리거 타이밍을 1_도출하는 방법을 설명한다. 동기화 제어부는 목표샘플수(N)를 설정한다(S100). 목표샘플수(N)는 라이다의 제원에 따라 결정될 수 있다. 동기화 제어부는 라이다의 출력 샘플을 획득한다(S120). 동기화 제어부는 상기 샘플을 획득하면 이전에 획득된 샘플의 개수를 가리키는 획득샘플수의 값을 1 증가시키고, 상기 획득된 샘플과 이전에 획득된 샘 플에 포함된 각 회전각의 차이값을 모두 더한 총합을 상기 획득샘플수로 나누어 평균값을 1_도출할 수 있다. 동기화 제어부는 상기 획득샘플수가 목표샘플수(N)보다 작은 경우, 상기 샘플을 획득하는 단계(S120)을 반 복한다(S130). 동기화 제어부는 상기 획득샘플수와 목표샘플수(N)가 각은 경우, 트리거 타이밍을 1_도출한다(S150). 동기 화 제어부는 상기 평균값을 출력주기(Treload)로 나눈 값을 평균각속1_도로 1_도출하며, 라이다가 가장최근에 샘플을 출력한 지점과 상기 트리거 타겟 사이의 각1_도 차이인 사이각을 획득하고, 상기 사이각을 상기 평균각속1_도로 나눈 값을 상기 트리거 타이밍으로 1_도출할 수 있다. 1_도 7은 본 발명의 일 실시예에 따른, 라이다와 카메라의 동기화 방법에 따른 카메라 촬영 방법에 관한 순서1_ 도이다. 1_도 7을 참조하여, 트리거 타이밍 1_도출 이후에 카메라 촬영까지의 방법을 설명한다. 동기화 제어부는 트리거 타이밍을 1_도출한다 (S710). 상기 트리거 타이밍은 1_도 6에서 설명한 방법에 의 해 1_도출될 수 있다. 동기화 제어부는 트리거 타이밍이 경과하지 않았으면 대기한다 (S720). 동기화 제어부는 트리거 타이밍이 경과하면 카메라에 트리거 신호를 전달한다(S730). 상기 트리거 신 호의 전달은 전송선을 통해 동기화 제어부에서 카메라로 전송될 수 있다. 카메라는 상기 트리거 신호가 수신되면, 카메라 촬영을 시작한다(S740). 1_도 8은 본 발명의 일 실시예에 따른, 복수의 카메라를 포함하는 라이다 카메라 동기화 장치에서 트리거 타이 밍을 계산하는 방법을 설명하기 위한 예시이다. 1_도 8을 참조하면, 라이다 카메라 동기화 장치는 제1 카메라와 제2 카메라를 포함할 수 있다. 라이다(10 0)와 상기 제1 카메라의 화각의 중심이 일치하는 가상의 방향이 제1 트리거 타겟이고, 라이다 와 상 기 제2 카메라의 화각의 중심이 일치하는 가상의 방향이 제2 트리거 타겟이다. 상기 제1 카메라와 상기 제2 카메라는 일정한 간격으로 배치될 수 있다. 라이다는 제1 트리거 타겟으로부터 제2 트리거 타겟의 방향으로 회전하면서 출력주기(Treload) 마 다 샘플을 출력할 수 있다. 상기 샘플은 상기 라이다의 현재 위치를 가리키는 회전각을 포함하고, 상기 회전각 은 제1 트리거 타겟을 기준으로 라이다가 회전한 각1_도를 가리킬 수 있다. 동기화 제어부는, 상기 샘플을 획득하면 이전에 획득된 샘플의 개수를 가리키는 획득샘플수의 값을 1 증가 시키고, 상기 획득된 샘플과 이전에 획득된 샘플에 포함된 각 회전각의 차이값을 모두 더한 총합을 상기 획득샘 플수로 나누어 평균값을 1_도출하며, 획득샘플수가 사전에 정해진 목표샘플수(N)와 같은 경우 상기 평균값을 출 력주기(Treload)로 나눈 값을 평균각속1_도로 1_도출하며 라이다가 가장 최근에 출력한 샘플에 포함된 회전각과 제2 트리거 타겟 사이의 각1_도 차이인 사이각을 획득하고 상기 사이각을 상기 평균각속1_도로 나눈 값을 상기 트리거 타이밍으로 1_도출할 수 있다. 1_도 9은 본 발명의 일 실시예에 따른, 라이다 카메라 동기화 장치의 실험 결과이다. 1_도 9에 1_도시된 그래프는, 라이다에서 방출된 광 펄스를 포토 다이오드(photo diode)를 통해 수신한 신 호(노란색)와, 동기화 제어부에서 출력된 트리거 신호(파란색)을 기록한 오실로스코프(oscilloscope)의 화 면을 스크린샷(screenshot)한 것이다. 1_도 9의 그래프를 참조하면, 노란색 점선은 트리거 타겟 위치에 라이다가 위치한 시점을 가리키며, 상기 노란색 점선으로부터 240 us 정1_도 뒤에 트리거 신호가 출력된 것이 기록되어 있다. 본 발명의 일시예에 따른 동기화 방법이 240 us 정1_도의 오차를 가지는 것으로 볼 수 있으며, 이러한 오차는 매우 높은 동기화 효 과로 볼 수 있다. 1_도 10는 본 발명의 일 실시예에 따른, 라이다와 카메라가 동기화되어 출력된 센싱 데이터와 영상 데이터의 합성 영상이다. 1_도 10을 참조하면, 라이다에서 센싱한 포인트 클라우드(point cloud)와 영상 데이터가 본 발명의 일 실 시예에 따른 동기화 방법에 의해 매우 높은 동기화를 보여주고 있다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 11, "content": "이상 첨부된 1_도면을 참조하여 본 발명의 실시예들을 설명하였지만, 본 발명이 속하는 기술분야에서 통상의 지 식을 가진 자는 본 발명이 그 기술적 사상이나 필수적인 특징을 변경하지 않고서 다른 구체적인 형태로 실시될 수 있다는 것을 이해할 수 있을 것이다. 그러므로 이상에서 기술한 실시예들은 모든 면에서 예시적인 것이며 한 정적이 아닌 것으로 이해해야만 한다. 1_부호의 설명 라이다 카메라 동기화 장치 10 라이다 100 카메라 200 동기화 제어부 500 1_청구범위 1_청구항 1 라이다(LiDAR, Light Detection And Ranging), 카메라(camera) 및 동기화 제어부를 포함하는 동기화 장치에 있 어서, 상기 라이다가 회전을 하면서 사전에 정해진 출력주기마다 샘플을 출력하는 단계; 상기 동기화 제어부는 상기 샘플을 바탕으로 상기 라이다가 현재 위치에서 트리거 타겟까지 회전하는데 예상되 는 시간인 트리거 타이밍을 1_도출하는 단계; 및 상기 동기화 제어부는 상기 트리거 타이밍이 가리키는 시간이 경과한 이후에 상기 카메라에 트리거 신호를 출력 하는 단계;를 포함하되, 상기 샘플은 상기 라이다의 현재 위치를 가리키는 회전각을 포함하며, 상기 트리거 타겟은 상기 라이다와 상기 카메라의 화각의 중심이 일치하는 가상의 방향을 가리키는, 라이다와 카메라의 동기화 방법. 1_청구항 2 제1항에 있어서, 상기 회전각은, 상기 트리거 타겟을 기준으로 상기 라이다가 회전한 각1_도를 가리키는, 라이다와 카메라의 동기화 방법. 1_청구항 3 제1항에 있어서, 상기 트리거 타이밍을 1_도출하는 단계는, 상기 동기화 제어부가 상기 출력된 샘플을 획득하는 단계; 상기 동기화 제어부가 이전에 획득된 샘플의 개수를 가리키는 획득샘플수의 값을 1 증가시키는 단계; 상기 동기화 제어부가 상기 획득된 샘플과 이전에 획득된 샘플에 포함된 각 회전각의 차이값을 모두 더한 총합 을 상기 획득샘플수로 나누어 평균값을 1_도출하는 단계; 상기 동기화 제어부는 상기 획득샘플수가 사전에 정해진 목표샘플수보다 작은 경우 상기 샘플을 획득하는 단계 를 반복하는 단계; 및 상기 획득샘플수가 상기 목표샘플수와 같은 경우, 상기 평균값을 바탕으로 상기 트리거 타이밍을 1_도출하는 단 계;를 포함하는, 라이다와 카메라의 동기화 방법. 1_청구항 4 제3항에 있어서, 상기 평균값을 바탕으로 상기 트리거 타이밍을 1_도출하는 단계는, 상기 동기화 제어부는 상기 평균값을 상기 출력주기로 나눈 값을 평균각속1_도로 1_도출하는 단계; 상기 동기화 제어부는 가장 최근에 획득된 샘플에 포함된 회전각과 상기 트리거 타겟 사이의 각1_도 차이인 사 이각을 획득하는 단계; 및 상기 동기화 제어부는 상기 사이각을 상기 평균각속1_도로 나눈 값을 상기 트리거 타이밍으로 1_도출하는 단 계;를 포함하는, 라이다와 카메라의 동기화 방법. 1_청구항 5 제1항에 있어서, 상기 카메라는, 컬러(Color) 카메라, 근적외선(NIR, Near InfraRed) 카메라, 단적외선(SWIR, Short Wavelength InfraRed) 카메 라 및 장적외선(LWIR, Long WaveLength InfraRed) 카메라 중에서 어느 하나를 포함하는, 라이다와 카메라의 동기화 방법. 1_청구항 6 라이다, 제1 카메라, 제2 카메라 및 동기화 제어부를 포함하는 동기화 장치에 있어서, 상기 라이다가 제1 트리거 타겟으로부터 제2 트리거 타겟의 방향으로 회전하면서 출력주기 마다 샘플을 출력하 는 단계; 상기 동기화 제어부는 상기 샘플을 바탕으로 상기 라이다가 현재 위치에서 제2 트리거 타겟까지 회전하는데 예 상되는 시간인 트리거 타이밍을 1_도출하는 단계; 및 상기 동기화 제어부는 상기 트리거 타이밍이 가리키는 시간이 경과한 이후에 상기 제2 카메라에 트리거 신호를 출력하는 단계;를 포함하되, 상기 샘플은 상기 라이다의 현재 위치를 가리키는 회전각을 포함하고, 상기 제1 트리거 타겟은 상기 라이다와 상기 제1 카메라의 화각의 중심이 일치하는 가상의 방향이며, 상기 제2 트리거 타겟은 상기 라이다와 상기 제2 카메라의 화각의 중심이 일치하는 가상의 방향인, 라이다와 카메라의 신호 동기화 방법. 1_청구항 7 제6항에 있어서, 상기 회전각은, 상기 제1 트리거 타겟을 기준으로 상기 라이다가 회전한 각1_도를 가리키는, 라이다와 카메라의 동기화 방법. 1_청구항 8 제6항에 있어서, 상기 트리거 타이밍을 1_도출하는 단계는, 상기 동기화 제어부가 상기 출력된 샘플을 획득하는 단계; 상기 동기화 제어부가 이전에 획득된 샘플의 개수를 가리키는 획득샘플수의 값을 1 증가시키는 단계; 상기 동기화 제어부가 상기 획득된 샘플과 이전에 획득된 샘플에 포함된 각 회전각의 차이값을 모두 더한 총합 을 상기 획득샘플수로 나누어 평균값을 획득하는 단계; 상기 동기화 제어부는 획득샘플수가 사전에 정해진 목표샘플수보다 작은 경우 상기 획득하는 단계를 반복하는 단계; 상기 동기화 제어부는 상기 평균값을 상기 출력주기로 나눈 값을 평균각속1_도로 1_도출하는 단계; 상기 동기화 제어부는 가장 최근에 획득된 샘플에 포함된 회전각과 상기 제2 트리거 타겟 사이의 각1_도 차이인 사이각을 획득하는 단계; 및 상기 동기화 제어부는 상기 사이각을 상기 평균각속1_도로 나눈 값을 상기 트리거 타이밍으로 1_도출하는 단 계;를 포함하는, 라이다와 카메라의 신호 동기화 방법. 1_청구항 9 카메라; 회전하면서 출력주기 마다 샘플을 출력하는 라이다; 및 상기 샘플을 획득하고, 상기 샘플을 바탕으로 상기 라이다가 현재 위치에서 트리거 타겟까지 회전하는데 예상 되는 시간인 트리거 타이밍을 1_도출하며 상기 트리거 타이밍이 가리키는 시간이 경과한 이후에 상기 카메라에 트리거 신호를 출력하는 동기화 제어부; 를 포함하되, 상기 샘플은 상기 라이다가 직전 샘플을 출력한 지점으로부터 회전한 회전각을 포함하고, 상기 트리거 타겟은 상기 라이다와 상기 카메라의 화각의 중심이 일치하는 가상의 방향이며, 상기 동기화 제어부는, 상기 샘플을 획득하면 이전에 획득된 샘플의 개수를 가리키는 획득샘플수의 값을 1 증가시키고, 상기 획득된 샘플과 이전에 획득된 샘플에 포함된 각 회전각의 차이값을 모두 더한 총합을 상기 획득샘플수로 나누어 평균값 을 1_도출하며, 획득샘플수가 사전에 정해진 목표샘플수와 같은 경우 상기 평균값을 상기 출력주기로 나눈 값 을 평균각속1_도로 1_도출하며 상기 라이다가 가장 최근에 출력한 샘플에 포함된 회전각과 상기 트리거 타겟 사 이의 각1_도 차이인 사이각을 획득하고 상기 사이각을 상기 평균각속1_도로 나눈 값을 상기 트리거 타이밍으로 1_도출하는, 라이다 카메라 동기화 장치. 1_청구항 10 제1 카메라; 상기 제1 카메라와 일정 간격으로 배치된 제2 카메라; 제1 트리거 타겟으로부터 제2 트리거 타겟의 방향으로 회전하면서 출력주기 마다 샘플을 출력하는 라이다; 및 상기 샘플을 획득하고, 상기 샘플을 바탕으로 상기 라이다가 현재 위치에서 제2 트리거 타겟까지 회전하는데 예상되는 시간인 트리거 타이밍을 1_도출하며 상기 트리거 타이밍이 가리키는 시간이 경과한 이후에 상기 제2 카메라에 트리거 신호를 출력하는 동기화 제어부; 를 포함하되, 상기 샘플은 상기 라이다의 현재 위치를 가리키는 회전각을 포함하고, 상기 회전각은 상기 제1 트리거 타겟을 기준으로 상기 라이다가 회전한 각1_도를 가리키며, 상기 제1 트리거 타겟은 상기 라이다와 상기 제1 카메라의 화각의 중심이 일치하는 가상의 방향이고, 상기 제2 트리거 타겟은 상기 라이다와 상기 제2 카메라의 화각의 중심이 일치하는 가상의 방향이며, 상기 동기화 제어부는, 상기 샘플을 획득하면 이전에 획득된 샘플의 개수를 가리키는 획득샘플수의 값을 1 증가시키고, 상기 획득된 샘플과 이전에 획득된 샘플에 포함된 각 회전각의 차이값을 모두 더한 총합을 상기 획득샘플수로 나누어 평균값 을 1_도출하며, 획득샘플수가 사전에 정해진 목표샘플수와 같은 경우 상기 평균값을 상기 출력주기로 나눈 값 을 평균각속1_도로 1_도출하며 라이다가 가장 최근에 출력한 샘플에 포함된 회전각과 상기 제2 트리거 타겟 사 이의 각1_도 차이인 사이각을 획득하고 상기 사이각을 상기 평균각속1_도로 나눈 값을 상기 트리거 타이밍으로 1_도출하는, 라이다 카메라 동기화 장치."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 12, "content": "1_요약서 1_요약 본 발명은 회전형 라이다와 카메라의 동기화 방법 및 그 장치에 관한 발명이다. 본 발명의 일 실시예에 따른 동 기화 장치는, 라이다(LiDAR, Light Detection And Ranging), 카메라(camera) 및 동기화 제어부를 포함할 수 있 다. 본 발명의 일 실시예에 따른 라이다와 카메라의 동기화 방법은, 상기 라이다가 회전을 하면서 사전에 정해 진 출력주기마다 샘플을 출력하는 단계; 상기 동기화 제어부는 상기 샘플을 바탕으로 상기 라이다가 현재 위치 에서 트리거 타겟까지 회전하는데 예상되는 시간인 트리거 타이밍을 1_도출하는 단계; 및 상기 동기화 제어부는 상기 트리거 타이밍이 가리키는 시간이 경과한 이후에 상기 카메라에 트리거 신호를 출력하는 단계;를 포함할 수 있다. 상기 샘플은 상기 라이다의 현재 위치를 가리키는 회전각을 포함하며, 상기 트리거 타겟은 상기 라이 다와 상기 카메라의 화각의 중심이 일치하는 가상의 방향을 가리킬 수 있다. 1_대표도 1_도 6 1_도면 1_도 1 1_도 2"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 13, "content": "1_도 3 1_도 4"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 14, "content": "1_도 5 1_도 6"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 15, "content": "1_도 7 1_도 8"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 16, "content": "1_도 9 1_도 10"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 17, "content": "2_발명의 설명 2_발명의 명칭 카메라의 반응시간을 고려한 회전형 라이다와 카메라의 동기화 방법 및 그 장치{SYNCHRONIZATION METHOD OF ROTATING LIDAR AND CAMERA IN CONSIDERATION OF CAMERA REACTION TIME AND DEVICE THEREFOR}"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 18, "content": "2_기술분야 본 발명은 카메라의 반응시간을 고려한 회전형 라이다(LiDAR)와 카메라의 동기화 방법 및 그 장치에 관한 발명 이다. 보다 자세하게는 카메라의 반응시간을 고려하여 카메라의 촬영 시작 시점을 조정함으로써 회전형 라이다 의 센싱 데이터와 카메라의 촬영 영상을 일치 시키기 위한 방법 및 그 장치에 관한 것이다. 2_발명의 배경이 되는 기술 자율주행차량 시스템은 주변 환경을 실시간으로 인식/판단하기 위해서 라이다(LiDAR, Light Detection And Ranging)와 카메라 같은 다양한 종류의 시각 센서(sensor)들이 많이 사용되고 있고, 자율주행차량 시스템은 이 런 다양한 시각 센서들 간의 시간 동기화를 기본적으로 가정하고 동작하고 있다. 일반적으로 카메라 종류 간의 시각 센서 동기화는 GPS(Global Positioning System)처럼 빠르게 시간 정보를 제공해주는 장치를 이용하면 상대 적으로 쉽게 동기화가 가능하다. 하지만, 외부 장치에서 제공되는 시간 정보만으로 회전하며 주변의 거리 정보 를 취득하는 회전형 라이다와 특정 범위의 시각 정보를 한번에 취득하는 카메라 간의 정교한 동기화를 확보하는 것은 불가능하다. 현재 솔리드 스테이트(Solid-state) 형식의 라이다를 제외한 모든 라이다는 회전형 라이다이다. 앞서 언급한 것 과 같이 기존의 회전형 라이다와 카메라간의 동기화 방법은 외부 장치의 시간 정보를 활용하여 카메라가 촬영되 었을 때의 시간 정보와 라이다가 회전하면서 얻은 3차원 데이터들의 시간 정보들을 저장하고, 이렇게 기록된 시 간 정보들 중 가장 유사한 시간 값을 매칭하여 사용하다. 이렇게 동기화된 데이터는 일반적인 용2_도 로는 충분 히 사용가능지만, 라이다와 카메라간의 정교한 정합이 요구되는 자율주행차량 시스템 등에 사용되는 알고리즘에 사용하기에는 적합하지 않다. 이를 해결하기 위해 독일의 카를스루에 공과대학교(Karlsruhe Institute of Technology)에서는 회전형 라이다에 하드웨어적 스위치를 설치하여 카메라에 동기화 신호를 물리적으로 제공하 는 방식을 사용하여 시간동기화 문제를 해결하였다. 하지만, 이 방식은 물리적은 스위치로 인한 내구성 문제를 내포하고 있다. 회전형 라이다와 카메라간의 시간 동기화를 하더라2_도 , 카메라의 동작 반응 시간에 의해서 오차가 발생할 수 있다. 리이다와 카메라가 정확히 같은 방향을 바라보고 있을 때 카메라에 트리거 신호를 전송하더라2_도 , 카메 라의 종류에 따라서는 즉시 촬영이 이루어지지 못하고 일정한 반응 시간 이후에 촬영을 시작할 수 있다. 동기화 의 오차를 줄이기 위하여 이러한 반응 시간을 고려하여야 한다.회전형 라이다와 카메라간의 정교하지 않은 시간 동기화는 데이터간의 정합에 근본적인 에러를 유발하고, 이는 매우 다양한 야외 환경에서 안정적인 결과를 보장해야 하는 자율주행차량 시스템의 시각 센서 운용에 있어서 치 명적으로 작용할 수 있다. 기존의 장치와 그 방법들로는 이런 단점을 근본적으로 극복하기에는 한계가 있다는 문제점이 있다. 2_선행기술문헌 2_특허문헌 한국등록특허 제 10-1899549 호"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 19, "content": "2_발명의 내용 2_해결하고자 하는 과제 본 발명이 해결하고자 하는 기술적 과제는 카메라의 반응시간을 고려한 회전형 라이다와 카메라의 동기화 방법 및 장치를 제공하는 것이다. 본 발명의 기술적 과제들은 이상에서 언급한 기술적 과제들로 제한되지 않으며, 언급되지 않은 또 다른 기술적 과제들은 아래의 기재로부터 당업자에게 명확하게 이해 될 수 있을 것이다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 20, "content": "2_과제의 해결 수단 상기 기술적 과제를 달성하기 위한 본 발명의 일 실시예에 따른 따른 라이다 카메라 동기화 장치는 라이다, 동 기화 제어부 및 하나 이상의 카메라를 포함할 수 있다. 상기 기술적 과제를 달성하기 위한 본 발명의 일 실시예에 따른 따른 라이다와 카메라의 동기화 방법은, 상기 라이다는 회전하면서 샘플을 출력하는 단계; 상기 동기화 제어부는 상기 출력된 샘플을 획득하고, 상기 샘플을 바탕으로 상기 라이다가 현재 위치에서 트리거 타겟까지 회전하는데 예상되는 시간인 트리거 타이밍을 2_도 출 하는 단계; 상기 동기화 제어부가 상기 카메라의 반응시간에 따라 상기 트리거 타이밍을 조정하여 단계; 및 상 기 동기화 제어부가 상기 조정된 트리거 타이밍의 시간이 경과 후에 트리거 신호를 상기 카메라에 전송하는 단 계를 포함할 수 있다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 21, "content": "2_발명의 효과 상기와 같은 본 발명에 따르면, 회전형 라이다의 회전 각속2_도 를 실시간으로 측정함으로써 라이다와 카메라의 촬영 방향이 일치하는 순간을 예측할 수 있는 효과가 있다. 또한, 상기와 같은 본 발명에 따르면, 라이다와 카메라의 촬영 발향이 일치하는 순간에 카메라에 트리거 (trigger) 신호를 전송함으로써 라이다의 센싱 데이터와 카메라의 영상 데이터를 일치 시킬 수 있는 효과가 있 다. 또한, 카메라의 반응 시간을 고려하여 신호를 라이다와 카메라가 일치하는 시점보다 먼저 트리거 신호를 카메라 에 전송함으로써 동기화 오차를 줄일 수 있는 효과가 있다. 2_도 면의 간단한 설명 2_도 1은 본 발명의 일 실시예에 따른, 라이다 카메라 동기화 장치의 사시2_도 이다. 2_도 2은 본 발명의 일 실시예에 따른, 라이다 카메라 동기화 장치의 구성2_도 이다. 2_도 3은 본 발명의 일 실시예에 따른, 라이다와 카메라의 동기화 방법에 관한 순서2_도 이다. 2_도 4은 본 발명의 일 실시예에 따른, 라이다와 카메라의 동기화 방법에 관한 신호 흐름2_도 이다. 2_도 5는 본 발명의 일 실시예에 따른, 라이다와 카메라의 동기화 방법의 실험 결과이다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 22, "content": "2_발명을 실시하기 위한 구체적인 내용 이하, 첨부된 2_도 면을 참조하여 본 발명의 바람직한 실시예를 상세히 설명한다. 본 발명의 이점 및 특징, 그 리고 그것들을 달성하는 방법은 첨부되는 2_도 면과 함께 상세하게 후술되어 있는 실시 예들을 참조하면 명확해 질 것이다. 그러나 본 발명은 이하에서 게시되는 실시 예들에 한정되는 것이 아니라 서로 다른 다양한 형태로"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 23, "content": "구현될 수 있으며, 단지 본 실시 예들은 본 발명의 게시가 완전하2_도 록 하고, 본 발명이 속하는 기술분야에서통상의 지식을 가진 자에게 발명의 범주를 완전하게 알려주기 위해 제공되는 것이며, 본 발명은 청구항의 범주 에 의해 정의될 뿐이다. 명세서 전체에 걸쳐 동일 참조 부호는 동일 구성 요소를 지칭한다. 다른 정의가 없다면, 본 명세서에서 사용되는 모든 용어(기술 및 과학적 용어를 포함)는 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에게 공통적으로 이해될 수 있는 의미로 사용될 수 있을 것이다. 또 일반적으로 사용되는 사전에 정의되어 있는 용어들은 명백하게 특별히 정의되어 있지 않는 한 이상적으로 또는 과2_도 하게 해석되지 않는다. 2_도 1은 본 발명의 일 실시예에 따른, 라이다 카메라 동기화 장치의 사시2_도 이다. 2_도 1을 참조하여, 라 이다 카메라 동기화 장치에 관해 설명한다. 2_도 1 에 2_도 시된 라이다 카메라 동기화 장치는 본 발명의 일 실시예에 따른 예시에 불과하며 이에 한정되 지 않는다. 2_도 1 을 참조하면, 본 발명의 일 실시예에 따른 라이다 카메라 동기화 장치는, 라이다, 카메라 (210, 220, 230, 240) 및 본체를 포함할 수 있다. 라이다는 송신기와 수신기를 포함할 수 있다. 상기 송신기는 LIDAR 주변 환경을 향해 광 펄스(pulse)들을 방출한다. 상기 수신기는 방출된 광 펄스들의 반사들을 검출한다. 라이다는 회전을 하면서 주변 환경에 광 펄스를 방출하고 이를 수신함으로써, 주변 환경에 위치한 사물들의 거리를 측정한 점군 데이터를 출력할 수 있 다. 본체에는 라이다와 카메라(210, 220, 230, 240)가 장착될 수 있다. 본체의 내부에는 라이다(10 0)와 카메라(210, 220, 230, 240)를 제어하기 위한 동기화 제어부가 추가적으로 장착될 수 있다. 카메라(210, 220, 230, 240)는 적어2_도 하나 이상의 카메라를 포함할 수 있다. 카메라(210, 220, 230, 240) 는 제1 카메라, 제2 카메라, 제3 카메라 및 제4 카메라을 포함할 수 있다. 본 발명에서 설 명의 편의를 위하여 4개의 카메라를 2_도 시하였지만, 카메라 숫자는 이에 한정되지 않는다. 카메라(210, 220, 230, 240)에 포함된 각 카메라들은 동일한 방향의 화각을 공유하2_도 록 본체에 배치될 수 있다. 2_도 1에 2_도 시된 것과 같이, 각 카메라가 인접하게 배치됨으로써, 동일한 화각을 공유할 수 있다. 2_도 1에 2_도 시된 것은 예시에 불과하며 이에 한정되지 않는다. 카메라(210, 220, 230, 240)는 컬러(Color) 카메라, 근적외선(NIR, Near InfraRed) 카메라, 단적외선(SWIR, Short Wavelength InfraRed) 카메라 및 장적외선(LWIR, Long WaveLength InfraRed) 카메라 중에서 어느 하나를 포함할 수 있다. 2_도 2은 본 발명의 일 실시예에 따른, 라이다 카메라 동기화 장치의 구성2_도 이다. 2_도 2를 참조하면, 본 발명의 일 실시예에 따른 라이다 카메라 동기화 장치는 라이다, 동기화 제어 부 및 하나 이상의 카메라(210, 220, 230, 240)을 포함할 수 있다. 라이다는 사전에 정해진 출력주기(Treload)마다 현재 위치를 가리키는 회전각을 포함하는 샘플을 출력할 수 있다. 동기화 제어부는 라이다 샘플 획득부, 트리거 타이밍 2_도 출부 및 트리거 신호 생성부를 포함할 수 있다. 라이다 샘플 획득부는 라이다에서 출력된 샘플을 획득하고, 획득된 샘플에 포함된 회전각을 내부의 저장소에 저장해 두며, 획득된 샘플의 수를 가리키는 획득샘플수를 갱신할 수 있다. 라이다 샘플 획득부는 새로운 샘플이 획득될 때마다 상기 획득샘플수의 값을 1씩 증가시킬 수 있다. 라이다 샘플 획득부는 상기 획득된 샘플과 이전에 획득된 샘플에 포함된 각 회전각의 차이값을 모두 더한 총합을 상기 획득샘플수로 나누어 평균값을 2_도 출할 수 있다. 라이다 샘플 획득부는 사전에 정해진 목표샘플수(N) 보다 획득샘플수가 적은 경우 상기 샘플을 획득하는 것을 계속 수행할 수 있다. 목표샘플수(N)는 라이다의 제원에 따라 정해질 수 있다. 라이다의 초당 회전수와 출력주기(Treload)에 의해서 결정될 수 있다. 트리거 타겟 사이의 각2_도 차를 각속2_도 와 출력주기(Treload)의 곱으로 나눈 값의 정 수 부분이 목표샘플수(N)이 될 수 있다. 예를 들어, 초당 회전수가 10이면, 1초당 3600 2_도 를 회전하는 것이며 각속2_도 는 3600/s 가 된다, 출력주기 (Treload)가 0.01 초 이면 한 출력주기(Treload)에 36002_도 와 0.01초를 곱한 362_도 를 회전 이동할 수 있으며, 트리거 타겟이 하나만 존재하는 경우 트리거 타겟 사이의 각2_도 차이는 3602_도 이며, 3602_도 를 362_도 로 나눈 값인 10이 목표샘플수(N)이 될 수 있다. 트리거 타겟이 복수 개인 경우, 트리거 타겟 사이의 각2_도 를 위 에서 구한 362_도 로 나눈 값이 목표샘플수(N)이 될 수 있다. 트리거 타이밍 2_도 출부는 상기 획득샘플수가 목표샘플수(N)와 같은 경우 상기 평균값을 출력주기(Treloa d)로 나눈 값을 평균각속2_도 로 2_도 출할 수 있다. 트리거 타이밍 2_도 출부는 라이다가 가장 최근에 샘플을 출력한 지점과 상기 트리거 타겟 사이의 각 2_도 차이인 사이각을 획득할 수 있다. 트리거 타이밍 2_도 출부 상기 사이각을 상기 평균각속2_도 로 나눈 값을 상기 트리거 타이밍으로 2_도 출 할 수 있다. 트리거 타이밍 2_도 출부는 카메라(210, 220, 230, 240)의 반응시간을 고려하여 상기 트리거 타이밍을 조 정할 수 있다. 상기 반응시간은 카메라가 트리거 신호를 수신한 이 후 실제 촬영을 시작하기까지 소요되는 시간 을 의미한다. 각 카메라는 종류에 따라 서로 다른 반응시간을 가질 수 있다. 예를 들어, 일반 컬러 카메라에 비하여 적외선 카메라는 센서가 열에 반응하는 시간이 필요하기 때문에 더 긴 반응시간을 가질 수 있다. 트리거 타이밍 2_도 출부는 제1 카메라의 제1 반응시간을 획득하고, 상기 트리거 타이밍에서 상기 제 1 반응시간을 차감하여 제1 타이밍을 2_도 출할 수 있다. 트리거 타이밍 2_도 출부는 제2 카메라의 제2 반응시간을 획득하고, 상기 트리거 타이밍에서 상기 제 2 반응시간을 차감하여 제2 타이밍을 2_도 출할 수 있다. 트리거 타이밍 2_도 출부는 제3 카메라의 제3 반응시간을 획득하고, 상기 트리거 타이밍에서 상기 제 3 반응시간을 차감하여 제3 타이밍을 2_도 출할 수 있다. 트리거 타이밍 2_도 출부는 제4 카메라의 제4 반응시간을 획득하고, 상기 트리거 타이밍에서 상기 제 4 반응시간을 차감하여 제4 타이밍을 2_도 출할 수 있다. 트리거 신호 생성부는 상기 조정된 트리거 타이밍의 시간이 경과하면 카메라(210, 220, 230, 240)에 트리 거 신호를 전송할 수 있다. 트리거 신호 생성부는 상기 제1 타이밍의 시간이 경과하면 제1 카메라에 제1 트리거 신호를 전송할 수 있다. 트리거 신호 생성부는 상기 제2 타이밍의 시간이 경과하면 제2 카메라에 제2 트리거 신호를 전송할 수 있다. 트리거 신호 생성부는 상기 제3 타이밍의 시간이 경과하면 제3 카메라에 제3 트리거 신호를 전송할 수 있다. 트리거 신호 생성부는 상기 제4 타이밍의 시간이 경과하면 제4 카메라에 제4 트리거 신호를 전송할 수 있다. 트리거 신호 생성부는 각 카메라에 트리거 신호를 전송하기 위한 작업을 병렬2_도 진행할 수 있다. 별2_ 도 의 프로세스(process) 또는 쓰레드(thread)를 이용할 수 있다. 상기 제1 타이밍 내지 제4 타이밍의 시간을 체크하는 별2_도 의 프로세스를 각각 실행함으로써, 병렬 처리를 할 수 있다. 카메라(210, 220, 230, 240)는 상기 제1 트리거 신호 내지 제4 트리거 신호가 각각 수신되면, 촬영을 위한 준비 를 할 수 있다. 카메라(210, 220, 230, 240)는 상기 제1 반응시간 내지 제4 반응시간이 각각 경과한 후 촬영을 각각 시작할 수 있다.설명의 편의를 위하여 4대의 카메라를 포함한 경우를 설명하였지만, 본 발명의 다른 실시예에 따르면, 1개의 카 메라인 경우에2_도 트리거 타이밍을 상기 1대의 카메라의 반응시간을 고려하여 조정함으로써 라이다와 동 기화를 높일 수 있다. 2_도 3은 본 발명의 일 실시예에 따른, 라이다와 카메라의 동기화 방법에 관한 순서2_도 이다. 2_도 3을 참조 하여 라이다와 카메라의 동기화 방법을 설명한다. 동기화 제어부는 트리거 타이밍을 2_도 출한다(S210). 동기화 제어부는 라이다에서 출력된 샘플을 획득하고, 이전에 획득된 샘플의 개수를 가리키는 획득샘 플수의 값을 1 증가시킨다. 동기화 제어부는 상기 획득된 샘플과 이전에 획득된 샘플에 포함된 각 회전각 의 차이값을 모두 더한 총합을 상기 획득샘플수로 나누어 평균값을 2_도 출한다. 동기화 제어부는 상기 획 득샘플수가 사전에 정해진 목표샘플수보다 작은 경우 상기 샘플을 획득하는 것을 계속 수행한다. 동기화 제어부 는 상기 획득샘플수가 상기 목표샘플수와 같은 경우, 상기 평균값을 상기 출력주기로 나눈 값을 평균각속 2_도 로 2_도 출하고, 가장 최근에 획득된 샘플에 포함된 회전각과 상기 트리거 타겟 사이의 각2_도 차이인 사 이각을 획득하며, 상기 사이각을 상기 평균각속2_도 로 나눈 값을 상기 트리거 타이밍으로 2_도 출한다. 동기화 제어부는 제1 타이밍을 2_도 출한다(S220). 동기화 제어부는 제1 카메라의 제1 반응시간을 획득하고, 상기 2_도 출된 트리거 타이밍에서 상기 제 1 반응시간을 차감한 값을 제1 타이밍으로 2_도 출한다. 동기화 제어부는 상기 제1 타이밍의 시간이 경과하였는지 체크한다(S222). 동기화 제어부는 상기 제1 타이밍의 시간이 경과한 경우, 제1 카메라에 제1 트리거 신호를 전달한다 (S224). 제1 카메라는 상기 제1 트리거 신호를 수신하면, 촬영을 위한 준비를 시작하고, 상기 제1 반응시간이 경과 한 후에 촬영을 시작한다(S226). 동기화 제어부는 제2 타이밍을 2_도 출한다(S230). 동기화 제어부는 제2 카메라의 제2 반응시간을 획득하고, 상기 2_도 출된 트리거 타이밍에서 상기 제 2 반응시간을 차감한 값을 제2 타이밍으로 2_도 출한다. 동기화 제어부는 상기 제2 타이밍의 시간이 경과하였는지 체크한다(S232). 동기화 제어부는 상기 제2 타이밍의 시간이 경과한 경우, 제2 카메라에 제2 트리거 신호를 전달한다 (S234). 제2 카메라는 상기 제2 트리거 신호를 수신하면, 촬영을 위한 준비를 시작하고, 상기 제2 반응시간이 경과 한 후에 촬영을 시작한다(S236). 동기화 제어부는 제3 타이밍을 2_도 출한다(S240). 동기화 제어부는 제3 카메라의 제3 반응시간을 획득하고, 상기 2_도 출된 트리거 타이밍에서 상기 제 3 반응시간을 차감한 값을 제3 타이밍으로 2_도 출한다. 동기화 제어부는 상기 제3 타이밍의 시간이 경과하였는지 체크한다(S242). 동기화 제어부는 상기 제3 타이밍의 시간이 경과한 경우, 제3 카메라에 제3 트리거 신호를 전달한다 (S244). 제3 카메라는 상기 제3 트리거 신호를 수신하면, 촬영을 위한 준비를 시작하고, 상기 제3 반응시간이 경과 한 후에 촬영을 시작한다(S246). 동기화 제어부는 제4 타이밍을 2_도 출한다(S250). 동기화 제어부는 제4 카메라의 제4 반응시간을 획득하고, 상기 2_도 출된 트리거 타이밍에서 상기 제 4 반응시간을 차감한 값을 제4 타이밍으로 2_도 출한다. 동기화 제어부는 상기 제4 타이밍의 시간이 경과하였는지 체크한다(S252). 동기화 제어부는 상기 제4 타이밍의 시간이 경과한 경우, 제4 카메라에 제4 트리거 신호를 전달한다 (S254). 제4 카메라는 상기 제4 트리거 신호를 수신하면, 촬영을 위한 준비를 시작하고, 상기 제4 반응시간이 경과 한 후에 촬영을 시작한다(S256). 2_도 4은 본 발명의 일 실시예에 따른, 라이다와 카메라의 동기화 방법에 관한 신호 흐름2_도 이다. 2_도 4를 참조하면, 카메라(210, 220, 230, 240)에 포함된 각 카메라 별로 반응시간을 고려하여 트리거 타이밍 보다 먼저 트리거 신호를 전송함으로써 동일한 트리거 타이밍의 시점에서 촬영을 시작할 수 있다. 2_도 5는 본 발명의 일 실시예에 따른, 라이다와 카메라의 동기화 방법의 실험 결과이다. 2_도 5에 2_도 시된 실험 결과는, 바늘침이 움직이는 시계를 낙하하는 것을 서로 다른 두 카메라(COLOR 카메라, SWIR 카메라)를 이용하여 동시에 촬영한 실험의 결과이다. 2_도 5의 상단 결과를 참조하면, 반응시간을 고려하여 트리거 타이밍을 보정하기 전에는 COLOR 카메라보다 SWIR 카메라에 찍힌 바늘이 더 진행한 것을 볼 수 있으며, 이것은 SWIR 카메라의 반응시간이 더 길기 때문에, 동일한 시점에 트리거 신호를 받더라2_도 시간이 더 지나서 촬영이 되는 것을 보여준다. 2_도 5의 하단 결과를 참조하면, 본 발명의 일 실시예에 따른 동기화 방법에 따라 트리거 타이밍을 보정한 후, 각각의 카메라에 각각의 타이밍 이후에 트리거 신호를 각각 전송함으로써, 각 카메라의 촬영 시점이 거의 일치 된 것을 확인할 수 있다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 24, "content": "이상 첨부된 2_도 면을 참조하여 본 발명의 실시예들을 설명하였지만, 본 발명이 속하는 기술분야에서 통상의 지식을 가진 자는 본 발명이 그 기술적 사상이나 필수적인 특징을 변경하지 않고서 다른 구체적인 형태로 실시 될 수 있다는 것을 이해할 수 있을 것이다. 그러므로 이상에서 기술한 실시예들은 모든 면에서 예시적인 것이며 한정적이 아닌 것으로 이해해야만 한다. 2_부호의 설명 라이다 카메라 동기화 장치 10 라이다 100 카메라 210, 220, 230, 240 동기화 제어부 300 2_청구범위 2_청구항 1 라이다(LiDAR, Light Detection And Ranging), 카메라 및 동기화 제어부를 포함하는 동기화 장치에 있어서, 상기 라이다는 회전하면서 사전에 정해진 출력주기 마다 샘플을 출력하는 단계; 상기 동기화 제어부는 상기 출력된 샘플을 획득하고, 상기 샘플을 바탕으로 상기 라이다가 현재 위치에서 트리 거 타겟까지 회전하는데 예상되는 시간인 트리거 타이밍을 2_도 출하는 단계; 상기 동기화 제어부가 상기 카메라의 반응시간에 따라 상기 트리거 타이밍을 조정하여 단계; 및 상기 동기화 제어부가 상기 조정된 트리거 타이밍의 시간이 경과 후에 트리거 신호를 상기 카메라에 전송하는 단계;를 포함하되, 상기 샘플은 상기 라이다의 현재 위치를 가리키는 회전각을 포함하며, 상기 트리거 타겟은 상기 카메라와 상기 라이다의 화각의 중심이 일치하는 가상의 방향을 가리키는, 라이다와 카메라의 신호 동기화 방법. 2_청구항 2 제1항에 있어서, 상기 회전각은, 상기 트리거 타겟을 기준으로 상기 라이다가 회전한 각2_도 를 가리키며, 상기 트리거 타이밍을 2_도 출하는 단계는, 상기 동기화 제어부가 상기 출력된 샘플을 획득하는 단계; 상기 동기화 제어부가 이전에 획득된 샘플의 개수를 가리키는 획득샘플수의 값을 1 증가시키는 단계; 상기 동기화 제어부가 상기 획득된 샘플과 이전에 획득된 샘플에 포함된 각 회전각의 차이값을 모두 더한 총합 을 상기 획득샘플수로 나누어 평균값을 2_도 출하는 단계; 상기 동기화 제어부는 상기 획득샘플수가 사전에 정해진 목표샘플수보다 작은 경우 상기 샘플을 획득하는 단계 를 반복하는 단계; 및 상기 동기화 제어부는 상기 획득샘플수가 상기 목표샘플수와 같은 경우, 상기 동기화 제어부는 상기 평균값을 상기 출력주기로 나눈 값을 평균각속2_도 로 2_도 출하는 단계; 상기 동기화 제어부는 가장 최근에 획득된 샘플에 포함된 회전각과 상기 트리거 타겟 사이의 각2_도 차이인 사 이각을 획득하는 단계; 및 상기 동기화 제어부는 상기 사이각을 상기 평균각속2_도 로 나눈 값을 상기 트리거 타이밍으로 2_도 출하는 단 계;를 포함하는, 라이다와 카메라의 신호 동기화 방법. 2_청구항 3 제1항에 있어서, 상기 트리거 타이밍을 조정하는 단계는, 상기 동기화 제어부가 상기 카메라의 반응시간을 획득하는 단계; 및 상기 2_도 출된 트리거 타이밍에서 상기 반응시간을 차감하여 상기 트리거 타이밍의 값을 조정하는 단계;를 포 함하는, 라이다와 카메라의 신호 동기화 방법. 2_청구항 4 제1항에 있어서, 상기 카메라는, 상기 라이다에 관하여 동일한 트리거 타겟을 공유하는 제1 카메라, 제2 카메라, 제3 카메라 및 제4 카메라를 포 함하며, 상기 트리거 타이밍을 조정하는 단계는, 상기 동기화 제어부가 상기 트리거 타이밍에서 제1 반응시간을 차감하여 제1 타이밍을 2_도 출하는 단계; 상기 동기화 제어부가 상기 트리거 타이밍에서 제2 반응시간을 차감하여 제2 타이밍을 2_도 출하는 단계; 상기 동기화 제어부가 상기 트리거 타이밍에서 제3 반응시간을 차감하여 제3 타이밍을 2_도 출하는 단계; 및 상기 동기화 제어부가 상기 트리거 타이밍에서 제4 반응시간을 차감하여 제4 타이밍을 2_도 출하는 단계;를 포 함하며, 상기 트리거 신호를 전송하는 단계는, 상기 동기화 제어부가 제1 타이밍의 시간이 경과하면 상기 제1 카메라에 트리거신호를 전송하는 단계; 상기 동기화 제어부가 제2 타이밍의 시간이 경과하면 상기 제2 카메라에 트리거신호를 전송하는 단계; 상기 동기화 제어부가 제3 타이밍의 시간이 경과하면 상기 제3 카메라에 트리거신호를 전송하는 단계; 및 상기 동기화 제어부가 제4 타이밍의 시간이 경과하면 상기 제4 카메라에 트리거신호를 전송하는 단계; 를 포함 하며, 상기 제1 반응시간은 상기 제1 카메라가 트리거 신호를 수신하고 촬영 시작까지 소요되는 시간을 가리키며, 상기 제2 반응시간은 상기 제2 카메라가 트리거 신호를 수신하고 촬영 시작까지 소요되는 시간을 가리키고, 상기 제3 반응시간은 상기 제3 카메라가 트리거 신호를 수신하고 촬영 시작까지 소요되는 시간을 가리키며, 상기 제4 반응시간은 상기 제4 카메라가 트리거 신호를 수신하고 촬영 시작까지 소요되는 시간을 가리키는, 라이다와 카메라의 신호 동기화 방법. 2_청구항 5 카메라; 회전하면서 사전에 정해진 출력주기 마다 현재 위치를 가리키는 회전각을 포함하는 샘플을 출력하는 라이다; 및 상기 출력된 샘플을 획득하고, 상기 샘플을 바탕으로 상기 라이다가 현재 위치에서 트리거 타겟까지 회전하는데 예상되는 시간인 트리거 타이밍을 2_도 출하며, 상기 카메라의 반응시간에 따라 상기 트리거 타이밍을 조정하고, 상기 조정된 트리거 타이밍의 시간이 경과 후에 트리거 신호를 상기 카메라에 전송하는 동기화 제어 부; 를 포함하며, 상기 트리거 타겟은 상기 카메라와 상기 라이다의 화각의 중심이 일치하는 가상의 방향을 가리키는, 라이다 카메라 동기화 장치. 2_청구항 6 제5항에 있어서, 동기화 제어부는, 상기 샘플을 획득하면 이전에 획득된 샘플의 개수를 가리키는 획득샘플수의 값을 1 증가시키고, 상기 획득된 샘 플과 이전에 획득된 샘플에 포함된 각 회전각의 차이값을 모두 더한 총합을 상기 획득샘플수로 나누어 평균값을 2_도 출하며, 획득샘플수가 사전에 정해진 목표샘플수와 같은 경우 상기 평균값을 상기 출력주기로 나눈 값을 평균각속2_도 로 2_도 출하며 상기 라이다가 가장 최근에 출력한 샘플에 포함된 회전각과 상기 트리거 타겟 사 이의 각2_도 차이인 사이각을 획득하고 상기 사이각을 상기 평균각속2_도 로 나눈 값을 상기 트리거 타이밍으 로 2_도 출하는, 라이다 카메라 동기화 장치. 2_청구항 7 제5항에 있어서, 상기 동기화 제어부는, 상기 카메라의 반응시간을 획득하고, 상기 2_도 출된 트리거 타이밍에서 상기 반응시간을 차감하여 상기 트리거 타이밍의 값을 조정하는, 라이다 카메라 동기화 장치. 2_청구항 8 제5항에 있어서, 상기 카메라는, 제1 카메라, 제2 카메라, 제3 카메라 및 제4 카메라를 포함하며, 상기 동기화 제어부는, 상기 트리거 타이밍에서 제1 반응시간을 차감하여 제1 타이밍을 2_도 출하고, 상기 트리 거 타이밍에서 제2 반응시간을 차감하여 제2 타이밍을 2_도 출하며, 상기 트리거 타이밍에서 제3 반응시간을 차감하여 제3 타이밍을 2_도 출하고, 상기 트리거 타이밍에서 제4 반응시간을 차감하여 제4 타이밍을 2_도 출하며, 상기 제1 타이밍의 시간이 경과하면 상기 제1 카메라에 트리거신호를 전송하고, 상기 제2 타이밍의 시 간이 경과하면 상기 제2 카메라에 트리거신호를 전송하며, 상기 제3 타이밍의 시간이 경과하면 상기 제3 카메라 에 트리거신호를 전송하고, 상기 제4 타이밍의 시간이 경과하면 상기 제4 카메라에 트리거신호를 전송하되, 상기 제1 반응시간은 상기 제1 카메라가 트리거 신호를 수신하고 촬영 시작까지 소요되는 시간을 가리키며, 상기 제2 반응시간은 상기 제2 카메라가 트리거 신호를 수신하고 촬영 시작까지 소요되는 시간을 가리키며, 상기 제3 반응시간은 상기 제3 카메라가 트리거 신호를 수신하고 촬영 시작까지 소요되는 시간을 가리키며, 상기 제4 반응시간은 상기 제4 카메라가 트리거 신호를 수신하고 촬영 시작까지 소요되는 시간을 가리키는, 라이다 카메라 동기화 장치. 2_청구항 9 제8항에 있어서, 상기 제1 카메라, 상기 제2 카메라, 상기 제3 카메라 및 상기 제4 카메라는 동일한 방향의 화각을 공유하2_도 록 배치되며, 상기 라이다에 관하여 동일한 트리거 타겟을 공유하는, 라이다 카메라 동기화 장치. 2_청구항 10 제5항에 있어서, 상기 카메라는, 컬러(Color) 카메라, 근적외선(NIR, Near InfraRed) 카메라, 단적외선(SWIR, Short Wavelength InfraRed) 카메 라 및 장적외선(LWIR, Long WaveLength InfraRed) 카메라 중에서 어느 하나를 포함하는, 라이다 카메라 동기화 장치."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 25, "content": "2_요약서"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 26, "content": "2_요약 본 발명은 회전형 라이다와 카메라의 동기화 방법 및 그 장치에 관한 발명이다. 본 발명의 일 실시예에 따른 동기화 장치는, 라이다(LiDAR, Light Detection And Ranging), 카메라(camera) 및 동기화 제어부를 포함할 수 있다. 본 발명의 일 실시예에 따른 라이다와 카메라의 동기화 방법은, 상기 라이다는 회전하면서 샘플을 출력하 는 단계; 상기 동기화 제어부는 상기 출력된 샘플을 획득하고, 상기 샘플을 바탕으로 상기 라이다가 현재 위치 에서 트리거 타겟까지 회전하는데 예상되는 시간인 트리거 타이밍을 2_도 출하는 단계; 상기 동기화 제어부가 상기 카메라의 반응시간에 따라 상기 트리거 타이밍을 조정하여 단계; 및 상기 동기화 제어부가 상기 조정된 트 리거 타이밍의 시간이 경과 후에 트리거 신호를 상기 카메라에 전송하는 단계;를 포함하되, 상기 샘플은 상기 라이다의 현재 위치를 가리키는 회전각을 포함하며, 상기 트리거 타겟은 상기 카메라와 상기 라이다의 화각의 중심이 일치하는 가상의 방향을 가리킬 수 있다 2_대표도 2_도 3 2_도 면 2_도 1"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 27, "content": "2_도 2 2_도 3 2_도 4 2_도 5"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 28, "content": "3_발명의 설명 3_발명의 명칭 라이다의 간섭을 피하기 위한 회전형 라이다와 카메라의 동기화 방법 및 그 장치{METHOD AND DEVICE FOR SYNCHRONIZING ROTATING LIDAR AND CAMERA TO AVOID LIDAR INTERFERENCE }"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 29, "content": "3_기술분야 본 발명은 라이다의 간섭을 피하기 위한 회전형 라이다(LiDAR)와 카메라(camera)의 동기화 방법 및 그 장치에 관한 발명이다. 보다 자세하게는 라이다의 광 펄스에 의하여 카메라에 잔상이 발생하는 것을 피하기 위한 회전 형 라이다의 센싱 데이터와 카메라의 동기화 방법 및 그 장치에 관한 것이다. 3_발명의 배경이 되는 기술 자율주행차량 시스템은 주변 환경을 실시간으로 인식/판단하기 위해서 라이다(LiDAR, Light Detection And Ranging)와 카메라 같은 다양한 종류의 시각 센서(sensor)들이 많이 사용되고 있고, 자율주행차량 시스템은 이 런 다양한 시각 센서들 간의 시간 동기화를 기본적으로 가정하고 동작하고 있다. 일반적으로 카메라 종류 간의 시각 센서 동기화는 GPS(Global Positioning System)처럼 빠르게 시간 정보를 제공해주는 장치를 이용하면 상대 적으로 쉽게 동기화가 가능하다. 하지만, 외부 장치에서 제공되는 시간 정보만으로 회전하며 주변의 거리 정보 를 취득하는 회전형 라이다와 특정 범위의 시각 정보를 한번에 취득하는 카메라 간의 정교한 동기화를 확보하는 것은 불가능하다. 현재 솔리드 스테이트(Solid-state) 형식의 라이다를 제외한 모든 라이다는 회전형 라이다이다. 앞서 언급한 것 과 같이 기존의 회전형 라이다와 카메라간의 동기화 방법은 외부 장치의 시간 정보를 활용하여 카메라가 촬영되 었을 때의 시간 정보와 라이다가 회전하면서 얻은 3차원 데이터들의 시간 정보들을 저장하고, 이렇게 기록된 시 간 정보들 중 가장 유사한 시간 값을 매칭하여 사용하다. 이렇게 동기화된 데이터는 일반적인 용3_도로는 충분 히 사용가능지만, 라이다와 카메라간의 정교한 정합이 요구되는 자율주행차량 시스템 등에 사용되는 알고리즘에 사용하기에는 적합하지 않다. 이를 해결하기 위해 독일의 카를스루에 공과대학교(Karlsruhe Institute of Technology)에서는 회전형 라이다에 하드웨어적 스위치를 설치하여 카메라에 동기화 신호를 물리적으로 제공하 는 방식을 사용하여 시간동기화 문제를 해결하였다. 하지만, 이 방식은 물리적은 스위치로 인한 내구성 문제를내포하고 있다. 라이다는 광 펄스를 주변 환경에 발사하고 반사되어 돌아는 광 펄스를 수신함으로써 주변 환경을 센싱할 수 있 다. 그러나 이러한 광 펄스는 라이다와 함께 장착된 카메라에 잔상을 남길 수 있다. 이러한 잔상 효과를 회피하면서, 라이다와 카메라를 동기화할 수 있는 기술이 요구되고 있다. 3_선행기술문헌 3_특허문헌 한국등록특허 제 10-1899549 호"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 30, "content": "3_발명의 내용 3_해결하고자 하는 과제 본 발명이 해결하고자 하는 기술적 과제는 라이다의 간섭을 피하기 위한 회전형 라이다와 카메라의 동기화 방법 및 장치를 제공하는 것이다. 본 발명의 기술적 과제들은 이상에서 언급한 기술적 과제들로 제한되지 않으며, 언급되지 않은 또 다른 기술적 과제들은 아래의 기재로부터 당업자에게 명확하게 이해 될 수 있을 것이다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 31, "content": "3_과제의 해결 수단 상기 기술적 과제를 달성하기 위한 본 발명의 일 실시예에 따른 따른 라이다 카메라 동기화 장치는 라이다, 동 기화 제어부 및 카메라를 포함할 수 있다. 상기 기술적 과제를 달성하기 위한 본 발명의 일 실시예에 따른 따른 라이다와 카메라의 동기화 방법은, 상기 라이다는 회전하면서 일정한 출력주기에 따라 샘플을 출력하는 단계; 상기 동기화제어부는 상기 출력된 샘플을 획득하고, 상기 샘플을 바탕으로 상기 라이다가 현재 위치에서 트리거 타겟까지 회전하는데 예상되는 시간인 트 리거 타이밍을 3_도출하는 단계; 상기 동기화제어부는 상기 라이다가 상기 카메라의 화각을 벗어나는데 필요한 회피시간을 3_도출하는 단계; 상기 동기화제어부는 상기 회피시간을 상기 트리거 타이밍에서 차감하여 상기 트 리거 타이밍을 조정하여 단계; 및 상기 동기화제어부가 상기 조정된 트리거 타이밍의 시간이 경과 후에 트리거 신호를 상기 카메라에 전송하는 단계;를 포함할 수 있다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 32, "content": "3_발명의 효과 상기와 같은 본 발명에 따르면, 회전형 라이다의 회전 각속3_도를 실시간으로 측정함으로써 라이다와 카메라의 촬영 방향이 일치하는 순간을 예측할 수 있는 효과가 있다. 또한, 상기 예측된 순간보다 일정 시간의 딜레이를 두고 카메라에 트리거 신호를 전송함으로써 라이다의 광 펄 스에 의한 잔상이 카메라에 발생하지 않게 할 수 있는 효과가 있다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 33, "content": "3_도면의 간단한 설명 3_도 1은 본 발명의 일 실시예에 따른, 라이다 카메라 동기화 장치의 사시3_도이다. 3_도 2은 본 발명의 일 실시예에 따른, 라이다의 광 펄스를 회피하기 위한 방법을 설명하기 위한 예시이다. 3_도 3은 본 발명의 일 실시예에 따른, 라이다 카메라 동기화 장치의 구성3_도이다. 3_도 4은 본 발명의 일 실시예에 따른, 라이다와 카메라의 동기화 방법에 관한 순서3_도이다. 3_도 5는 본 발명의 일 실시예에 따른, 라이다의 간섭을 회피하기 위한 라이다와 카메라의 동기화 방법의 실험 결과이다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 34, "content": "3_발명을 실시하기 위한 구체적인 내용 이하, 첨부된 3_도면을 참조하여 본 발명의 바람직한 실시예를 상세히 설명한다. 본 발명의 이점 및 특징, 그리 고 그것들을 달성하는 방법은 첨부되는 3_도면과 함께 상세하게 후술되어 있는 실시 예들을 참조하면 명확해질 것이다. 그러나 본 발명은 이하에서 게시되는 실시 예들에 한정되는 것이 아니라 서로 다른 다양한 형태로 구현"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 35, "content": "될 수 있으며, 단지 본 실시 예들은 본 발명의 게시가 완전하3_도록 하고, 본 발명이 속하는 기술분야에서 통상 의 지식을 가진 자에게 발명의 범주를 완전하게 알려주기 위해 제공되는 것이며, 본 발명은 청구항의 범주에 의해 정의될 뿐이다. 명세서 전체에 걸쳐 동일 참조 부호는 동일 구성 요소를 지칭한다. 다른 정의가 없다면, 본 명세서에서 사용되는 모든 용어(기술 및 과학적 용어를 포함)는 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에게 공통적으로 이해될 수 있는 의미로 사용될 수 있을 것이다. 또 일반적으로 사용되는 사전에 정의되어 있는 용어들은 명백하게 특별히 정의되어 있지 않는 한 이상적으로 또는 과3_도하게 해석되지 않는다. 3_도 1은 본 발명의 일 실시예에 따른, 라이다 카메라 동기화 장치의 사시3_도이다. 3_도 1을 참조하여, 라이다 카메라 동기화 장치에 관해 설명한다. 3_도 1 에 3_도시된 라이다 카메라 동기화 장치는 본 발명의 일 실시예에 따른 예시에 불과하며 이에 한정되지 않는다. 3_도 1 을 참조하면, 본 발명의 일 실시예에 따른 라이다 카메라 동기화 장치는, 라이다, 카메라 및 본체를 포함할 수 있다. 라이다는 송신기와 수신기를 포함할 수 있다. 상기 송신기는 LIDAR 주변 환경을 향해 광 펄스(pulse)들을 방출한다. 상기 수신기는 방출된 광 펄스들의 반사들을 검출한다. 라이다는 회전을 하면서 주변 환경에 광 펄스를 방출하고 이를 수신함으로써, 주변 환경에 위치한 사물들의 거리를 측정한 점군 데이터를 출력할 수 있 다. 본체에는 라이다와 카메라가 장착될 수 있다. 본체의 내부에는 라이다와 카메라를 제어하기 위한 동기화 제어부가 추가적으로 장착될 수 있다. 카메라는 적어3_도 하나 이상의 카메라를 포함할 수 있다. 본 발명의 일 실시예에서 설명의 편의를 위하여 1개의 카메라를 3_도시하였지만, 카메라 숫자는 이에 한정되지 않는다. 카메라는 컬러(Color) 카메라, 근적외선(NIR, Near InfraRed) 카메라, 단적외선(SWIR, Short Wavelength InfraRed) 카메라 및 장적외선(LWIR, Long WaveLength InfraRed) 카메라 중에서 어느 하나를 포함할 수 있다. 3_도 2은 본 발명의 일 실시예에 따른, 라이다의 광 펄스를 회피하기 위한 방법을 설명하기 위한 예시이다. 3_도 2를 참조하면, 카메라의 화각(붉은선)의 내에 라이다의 화각의 중심이 위치하면 카메라 가 촬영한 영상에 라이다의 광 펄스에 의한 잔상이 남을 수 있다. 라이다의 화각의 중심이 카메라의 화각(붉은선)을 벗어났을 때 카메라가 전방을 촬영하면, 라이다에 의한 간섭을 회피할 수 있다. 이를 위해서 트리거 타겟과 라이다의 화각의 중심이 일치하는 시점인 트리거 타이밍의 값에, 라 이다의 화각의 중심이 카메라의 화각(붉은색)의 절반을 벗어나는데 필요한 시간을 가산하여 3_ 도출된 값을 새로운 트리거 타이밍으로 정할 수 있다. 상기 새로운 트리거 타이밍 이후에 카메라에 트리거 신호를 전송하여 촬영한다면 라이다에 의한 간섭을 회피할 수 있다. 3_도 3은 본 발명의 일 실시예에 따른, 라이다 카메라 동기화 장치의 구성3_도이다. 3_도 3을 참조하면, 라이다 카메라 동기화 장치는 라이다, 동기화 제어부 및 카메라를 포함 할 수 있다. 라이다는 회전하면서 사전에 정해진 출력주기(Treload)에 따라 샘플을 출력할 수 있다. 상기 샘플은 상기 라이다의 현재 위치를 가리키는 회전각을 포함할 수 있다. 상기 회전각은 상기 트리거 타겟을 기준으로 상기 라 이다가 회전한 각3_도를 가리킬 수 있다. 상기 트리거 타겟은 상기 카메라와 상기 라이다의 화각의 중심이 일치 하는 가상의 방향을 가리키는 것으로 정의된다. 동기화 제어부 는 상기 출력된 샘플을 획득하고, 상기 샘플을 바탕으로 상기 라이다가 현재 위치에서 트리 거 타겟까지 회전하는데 예상되는 시간인 트리거 타이밍을 3_도출할 수 있다. 동기화 제어부 는 라이다에서 출력된 상기 샘플을 획득할 수 있다. 동기화 제어부 는 상기 샘플 을 획득하면, 이전에 획득된 샘플의 개수를 가리키는 획득샘플수의 값을 1 증가시키고, 상기 획득된 샘플과 이 전에 획득된 샘플에 포함된 각 회전각의 차이값을 모두 더한 총합을 상기 획득샘플수로 나누어 평균값을 3_도출 하며, 획득샘플수가 사전에 정해진 목표샘플수와 같은 경우 상기 평균값을 상기 출력주기로 나눈 값을 평균각속 3_도로 3_도출하고, 상기 라이다가 가장 최근에 출력한 샘플에 포함된 회전각과 상기 트리거 타겟 사이의 각3_도 차이인 사이각을 획득하고 상기 사이각을 상기 평균각속3_도로 나눈 값을 상기 트리거 타이밍으로 3_도출할 수 있다. 동기화 제어부 는 상기 라이다가 상기 카메라의 화각을 벗어나는데 필요한 회피시간을 3_도출할 수 있다. 동기화 제어부 는 카메라의 화각을 획득하고, 상기 획득된 화각의 절반을 상기 평균각속3_도로 나누 어 회피시간을 3_도출할 수 있다. 동기화 제어부 는 상기 트리거 타이밍에서 상기 회피시간을 가산하여 상기 트리거 타이밍을 조정할 수 있 다. 동기화 제어부 는 카메라의 반응시간을 획득하고, 상기 반응시간을 상기 조정된 트리거 타이밍에서 차감하여 상기 트리거 타이밍을 다시 조정할 수 있다. 상기 반응시간을 차감함으로써, 라이다가 카메라 의 화각을 벗어난 순간 좀 더 빠르게 영상을 촬영할 수 있다. 동기화 제어부 는 상기 조정된 트리거 타이밍의 시간이 경과 후에 트리거 신호를 카메라에 전송할 수 있다. 카메라는 상기 트리거 신호가 수신되면 촬영을 시작할 수 있다. 3_도 4는 본 발명의 일 실시예에 따른, 라이다와 카메라의 동기화 방법에 관한 순서3_도이다. 3_도 4을 참조하 여 라이다의 간섭을 회피하기 위한 라이다와 카메라의 동기화 방법을 설명한다. 동기화 제어부 는 트리거 타이밍을 3_도출한다(S210). 동기화 제어부 는 라이다에서 출력된 샘플을 획득하고, 이전에 획득된 샘플의 개수를 가리키는 획득 샘플수의 값을 1 증가시킨다. 동기화 제어부는 상기 획득된 샘플과 이전에 획득된 샘플에 포함된 각 회전 각의 차이값을 모두 더한 총합을 상기 획득샘플수로 나누어 평균값을 3_도출한다. 동기화 제어부는 상기 획득샘플수가 사전에 정해진 목표샘플수보다 작은 경우 상기 샘플을 획득하는 것을 계속 수행한다. 동기화 제어 부는 상기 획득샘플수가 상기 목표샘플수와 같은 경우, 상기 평균값을 상기 출력주기로 나눈 값을 평균각 속3_도로 3_도출하고, 가장 최근에 획득된 샘플에 포함된 회전각과 상기 트리거 타겟 사이의 각3_도 차이인 사 이각을 획득하며, 상기 사이각을 상기 평균각속3_도로 나눈 값을 상기 트리거 타이밍으로 3_도출한다. 동기화 제어부는 레이저 검출을 회피하기 위한 보정타이밍을 3_도출한다(S220). 라이다에서 방출되는 광 펄스인 레이저는 카메라의 영상에 잔상을 남기게 된다. 이를 회피하기 위해, 동기화 제어부는 상기 3_도출되 트리거 타이밍을 조정하여 보정타이밍을 3_도출할 수 있다. 동기화 제어부 는 카메라의 화각을 획득하고, 상기 획득된 화각의 절반을 상기 평균각속3_도로 나누 어 회피시간을 3_도출할 수 있다. 동기화 제어부 는 상기 트리거 타이밍에 상기 회피시간을 가산하여 나온 결과값을 보정타이밍으로 3_도출할 수 있다. 동기화 제어부는 상기 보정타이밍이 경과되었는지 체크한다(S230). 동기화 제어부는 상기 보정타이밍의 시간이 경과한 경우, 카메라에 1 트리거 신호를 전달한다(S240). 카메라는 상기 트리거 신호가 수신되면 촬영을 시작한다(S250). 3_도 5는 본 발명의 일 실시예에 따른, 라이다의 간섭을 회피하기 위한 라이다와 카메라의 동기화 방법의 실험 결과이다. 3_도 5의 상단 결과를 참조하면, 트리거 타이밍을 조정하기 전에는 라이다의 광 펄스에 의해서 NIR 카메라 에 잔상이 검출된 것을 볼 수 있다. NIR 또는 SWIR 카메라는 적외선 영역을 센싱하는 카메라이며, 컬러 카메라에 비하여 이러한 카메라가 라이다의 영향을 더 많이 받을 수 있다. 3_도 5의 하단 결과를 참조하면, 화각이 403_도인 NIR 카메라를 이용하여, 본 발명의 일 실시예에 따른 동기화 방법에 따라 트리거 타이밍을 보정하면, 라이다의 잔상이 검출되지 않은 것을 볼 수 있다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 36, "content": "이상 첨부된 3_도면을 참조하여 본 발명의 실시예들을 설명하였지만, 본 발명이 속하는 기술분야에서 통상의 지 식을 가진 자는 본 발명이 그 기술적 사상이나 필수적인 특징을 변경하지 않고서 다른 구체적인 형태로 실시될 수 있다는 것을 이해할 수 있을 것이다. 그러므로 이상에서 기술한 실시예들은 모든 면에서 예시적인 것이며 한정적이 아닌 것으로 이해해야만 한다. 3_부호의 설명 라이다 카메라 동기화 장치 10 라이다 100 카메라 200 동기화 제어부 400 3_청구범위 3_청구항 1 라이다(LiDAR, Light Detection And Ranging), 카메라 및 동기화제어부를 포함하는 동기화 장치에 있어서, 상기 라이다는 회전하면서 일정한 출력주기에 따라 샘플을 출력하는 단계; 상기 동기화제어부는 상기 출력된 샘플을 획득하고, 상기 샘플을 바탕으로 상기 라이다가 현재 위치에서 트리거 타겟까지 회전하는데 예상되는 시간인 트리거 타이밍을 3_도출하는 단계; 상기 동기화제어부는 상기 라이다가 상기 카메라의 화각을 벗어나는데 필요한 회피시간을 3_도출하는 단계; 상기 동기화제어부는 상기 회피시간을 상기 트리거 타이밍에 가산하여 상기 트리거 타이밍을 조정하여 단계; 및 상기 동기화제어부가 상기 조정된 트리거 타이밍의 시간이 경과 후에 트리거 신호를 상기 카메라에 전송하는 단 계;를 포함하되, 상기 샘플은 상기 라이다의 현재 위치를 가리키는 회전각을 포함하며, 상기 트리거 타겟은 상기 카메라와 상기 라이다의 화각의 중심이 일치하는 가상의 방향을 가리키고, 상기 회전각은 상기 트리거 타겟을 기준으로 상기 라이다가 회전한 각3_도를 가리키는, 라이다와 카메라의 동기화 방법.. 3_청구항 2 제1항에 있어서, 상기 트리거 타이밍을 3_도출하는 단계는, 상기 동기화 제어부가 상기 출력된 샘플을 획득하는 단계; 상기 동기화 제어부가 이전에 획득된 샘플의 개수를 가리키는 획득샘플수의 값을 1 증가시키는 단계; 상기 동기화 제어부가 상기 획득된 샘플과 이전에 획득된 샘플에 포함된 각 회전각의 차이값을 모두 더한 총합 을 상기 획득샘플수로 나누어 평균값을 3_도출하는 단계; 상기 동기화 제어부는 상기 획득샘플수가 사전에 정해진 목표샘플수보다 작은 경우 상기 샘플을 획득하는 단계 를 반복하는 단계; 및 상기 동기화 제어부는 상기 획득샘플수가 상기 목표샘플수와 같은 경우, 상기 동기화 제어부는 상기 평균값을 상기 출력주기로 나눈 값을 평균각속3_도로 3_도출하는 단계; 상기 동기화 제어부는 가장 최근에 획득된 샘플에 포함된 회전각과 상기 트리거 타겟 사이의 각3_도 차이인 사 이각을 획득하는 단계; 및 상기 동기화 제어부는 상기 사이각을 상기 평균각속3_도로 나눈 값을 상기 트리거 타이밍으로 3_도출하는 단 계;를 포함하는, 라이다와 카메라의 동기화 방법. 3_청구항 3 제2항에 있어서, 상기 회피시간을 3_도출하는 단계는, 상기 동기화제어부가 상기 카메라의 화각을 획득하는 단계; 및 상기 동기화제어부가 상기 획득된 화각의 절반을 상기 평균각속3_도로 나누어 회피시간을 3_도출하는 단계;를 포함하는 라이다와 카메라의 동기화 방법. 3_청구항 4 제1항에 있어서, 상기 트리거 타이밍을 조정하는 단계는, 상기 동기화제어부가 상기 카메라의 반응시간을 획득하는 단계 ; 및 상기 동기화제어부가 상기 트리거 타이밍에서 상기 회피시간을 가산한 결과값에 상기 반응시간을 차감하여 상기 트리거 타이밍을 조정하는 단계를 포함하며, 상기 반응시간은 상기 카메라가 트리거 신호를 수신하고 촬영 시작까지 소요되는 시간을 가리키는, 라이다와 카메라의 동기화 방법. 3_청구항 5 제1항에 있어서, 상기 트리거 신호를 전송하는 단계 이후에, 상기 카메라가 상기 트리거 신호를 수신하면 촬영을 시작하는 단계;를 더 포함하는, 라이다와 카메라의 동기화 방법. 3_청구항 6 카메라; 회전하면서 사전에 정해진 출력주기에 따라 샘플을 출력하는 라이다; 및 상기 출력된 샘플을 획득하고, 상기 샘플을 바탕으로 상기 라이다가 현재 위치에서 트리거 타겟까지 회전하는데 예상되는 시간인 트리거 타이밍을 3_도출하며, 상기 라이다가 상기 카메라의 화각을 벗어나는데 필요한 회피시 간을 3_도출하고, 상기 트리거 타이밍에 상기 회피시간을 가산하여 상기 트리거 타이밍을 조정하고며, 상기 조 정된 트리거 타이밍의 시간이 경과 후에 트리거 신호를 상기 카메라에 전송하는 동기화제어부; 를 포함하며, 상기 샘플은 상기 라이다의 현재 위치를 가리키는 회전각을 포함하며, 상기 트리거 타겟은 상기 카메라와 상기 라이다의 화각의 중심이 일치하는 가상의 방향을 가리키고, 상기 회전각은 상기 트리거 타겟을 기준으로 상기 라이다가 회전한 각3_도를 가리키는, 라이다 카메라 동기화 장치. 3_청구항 7 제6항에 있어서 동기화 제어부는, 상기 샘플을 획득하면 이전에 획득된 샘플의 개수를 가리키는 획득샘플수의 값을 1 증가시키고, 상기 획득된 샘플과 이전에 획득된 샘플에 포함된 각 회전각의 차이값을 모두 더한 총합을 상기 획득샘플수로 나누어 평균값 을 3_도출하며, 획득샘플수가 사전에 정해진 목표샘플수와 같은 경우 상기 평균값을 상기 출력주기로 나눈 값 을 평균각속3_도로 3_도출하며 상기 라이다가 가장 최근에 출력한 샘플에 포함된 회전각과 상기 트리거 타겟 사 이의 각3_도 차이인 사이각을 획득하고 상기 사이각을 상기 평균각속3_도로 나눈 값을 상기 트리거 타이밍으로 3_도출하는,라이다 카메라 동기화 장치. 3_청구항 8 제7항에 있어서, 상기 동기화제어부는, 상기 카메라의 화각을 획득하고, 상기 획득된 화각의 절반을 상기 평균각속3_도로 나누어 회피시간을 3_도출하 는, 라이다 카메라 동기화 장치. 3_청구항 9 제6항에 있어서, 상기 동기화제어부는, 상기 카메라의 반응시간을 획득하고, 상기 트리거 타이밍에서 상기 회피시간을 가산한 결과값에 상기 반응시간 을 차감하여 상기 트리거 타이밍을 조정하며, 상기 반응시간은 상기 카메라가 트리거 신호를 수신하고 촬영 시작까지 소요되는 시간을 가리키는, 라이다 카메라 동기화 장치. 3_청구항 10 제6항에 있어서, 상기 카메라는, 근적외선(NIR, Near InfraRed) 카메라, 단적외선(SWIR, Short Wavelength InfraRed) 카메라 및 장적외선(LWIR, Long WaveLength InfraRed) 카메라 중에서 어느 하나를 포함하는, 라이다 카메라 동기화 장치."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 37, "content": "3_요약서"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 38, "content": "3_요약 본 발명은 회전형 라이다와 카메라의 동기화 방법 및 그 장치에 관한 발명이다. 본 발명의 일 실시예에 따른 동기화 장치는, 라이다(LiDAR, Light Detection And Ranging), 카메라(camera) 및 동기화 제어부를 포함할 수 있다. 본 발명의 일 실시예에 따른 라이다와 카메라의 동기화 방법은, 상기 라이다는 회전하면서 일정한 출력주 기에 따라 샘플을 출력하는 단계; 상기 동기화제어부는 상기 출력된 샘플을 획득하고, 상기 샘플을 바탕으로 상 기 라이다가 현재 위치에서 트리거 타겟까지 회전하는데 예상되는 시간인 트리거 타이밍을 3_도출하는 단계; 상 기 동기화제어부는 상기 라이다가 상기 카메라의 화각을 벗어나는데 필요한 회피시간을 3_도출하는 단계; 상기 동기화제어부는 상기 회피시간을 상기 트리거 타이밍에서 차감하여 상기 트리거 타이밍을 조정하여 단계; 및 상 기 동기화제어부가 상기 조정된 트리거 타이밍의 시간이 경과 후에 트리거 신호를 상기 카메라에 전송하는 단계;를 포함하되, 상기 샘플은 상기 라이다의 현재 위치를 가리키는 회전각을 포함하며, 상기 트리거 타겟은 상기 카메라와 상기 라이다의 화각의 중심이 일치하는 가상의 방향을 가리키고, 상기 회전각은 상기 트리거 타 겟을 기준으로 상기 라이다가 회전한 각3_도를 가리킬 수 있다. 3_대표도 3_도 4 3_도면 3_도 1"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 39, "content": "3_도 2 3_도 3"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 40, "content": "3_도 4 3_도 5"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 41, "content": "4_발명의 설명 4_발명의 명칭 다중 신호를 이용한 회전형 라이다와 카메라의 동기화 방법 및 그 장치{SYNCHRONIZATION METHOD AND DEVICE FOR ROTATING LIDAR AND CAMERA USING MULTIPLE SIGNALS}"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 42, "content": "4_기술분야 본 발명은 다중 신호를 이용한 회전형 라이다(LiDAR)와 카메라(camera)의 동기화 방법 및 그 장치에 관한 발명 이다. 보다 자세하게는 다중 신호를 이용하는 복수의 카메라와 회전형 라이다의 출력 데이터를 동기화 시키기 위한 방법 및 그 장치에 관한 것이다. 4_발명의 배경이 되는 기술 자율주행차량 시스템은 주변 환경을 실시간으로 인식/판단하기 위해서 라이다(LiDAR, Light Detection And Ranging)와 카메라 같은 다양한 종류의 시각 센서(sensor)들이 많이 사용되고 있고, 자율주행차량 시스템은 이 런 다양한 시각 센서들 간의 시간 동기화를 기본적으로 가정하고 동작하고 있다. 일반적으로 카메라 종류 간의 시각 센서 동기화는 GPS(Global Positioning System)처럼 빠르게 시간 정보를 제공해주는 장치를 이용하면 상대 적으로 쉽게 동기화가 가능하다. 하지만, 외부 장치에서 제공되는 시간 정보만으로 회전하며 주변의 거리 정보 를 취득하는 회전형 라이다와 특정 범위의 시각 정보를 한번에 취득하는 카메라 간의 정교한 동기화를 확보하는 것은 불가능하다. 현재 솔리드 스테이트(Solid-state) 형식의 라이다를 제외한 모든 라이다는 회전형 라이다이다. 앞서 언급한 것 과 같이 기존의 회전형 라이다와 카메라간의 동기화 방법은 외부 장치의 시간 정보를 활용하여 카메라가 촬영되 었을 때의 시간 정보와 라이다가 회전하면서 얻은 3차원 데이터들의 시간 정보들을 저장하고, 이렇게 기록된 시 간 정보들 중 가장 유사한 시간 값을 매칭하여 사용하다. 이렇게 동기화된 데이터는 일반적인 용4_도로는 충분 히 사용가능지만, 라이다와 카메라간의 정교한 정합이 요구되는 자율주행차량 시스템 등에 사용되는 알고리즘에 사용하기에는 적합하지 않다. 이를 해결하기 위해 독일의 카를스루에 공과대학교(Karlsruhe Institute ofTechnology)에서는 회전형 라이다에 하드웨어적 스위치를 설치하여 카메라에 동기화 신호를 물리적으로 제공하 는 방식을 사용하여 시간동기화 문제를 해결하였다. 하지만, 이 방식은 물리적은 스위치로 인한 내구성 문제를 내포하고 있다. 회전형 라이다와 카메라간의 정교하지 않은 시간 동기화는 데이터간의 정합에 근본적인 에러를 유발하고, 이는 매우 다양한 야외 환경에서 안정적인 결과를 보장해야 하는 자율주행차량 시스템의 시각 센서 운용에 있어서 치 명적으로 작용할 수 있다. 복수의 카메라를 사용하는 경우, 각 카메라의 샘플링 레이트(sampling rate)가 상이하여, 가장 낮은 샘플링 레 이트를 가지는 카메라를 기준으로 동기화를 이루게 된다. 이것은 상대적으로 높은 샘플링 레이트를 가지는 카메 라의 성능을 낭비하는 것일 수 있다. 라이다와 카메라를 동기화 시키면서, 카메라의 성능4_도 충분히 활용할 수 있는 방법에 대한 수요가 높아지고 있다. 4_선행기술문헌 4_특허문헌 한국등록특허 제 10-1899549 호"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 43, "content": "4_발명의 내용 4_해결하고자 하는 과제 본 발명이 해결하고자 하는 기술적 과제는 다중 신호를 이용한 회전형 라이다와 카메라의 동기화 방법 및 장치 를 제공하는 것이다. 본 발명의 기술적 과제들은 이상에서 언급한 기술적 과제들로 제한되지 않으며, 언급되지 않은 또 다른 기술적 과제들은 아래의 기재로부터 당업자에게 명확하게 이해 될 수 있을 것이다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 44, "content": "4_과제의 해결 수단 상기 기술적 과제를 달성하기 위한 본 발명의 일 실시예에 따른 따른 라이다 카메라 동기화 장치는 라이다, 동 기화 제어부 및 하나 이상의 카메라를 포함할 수 있다. 상기 기술적 과제를 달성하기 위한 본 발명의 일 실시예에 따른 따른 라이다와 카메라의 동기화 방법은, 상기 라이다는 회전하면서 일정한 출력주기에 따라 샘플을 출력하는 단계; 상기 동기화 제어부는 상기 출력된 샘플을 획득하고, 상기 샘플을 바탕으로 상기 라이다가 현재 위치에서 트리거 타겟까지 회전하는데 예상되는 시간인 트 리거 타이밍을 4_도출하는 단계; 상기 동기화 제어부는 상기 트리거 타이밍의 시간이 경과 후 제1 트리거 신호 를 상기 제1 카메라 및 제2 카메라에 전송하는 단계; 및 상기 동기화 제어부는 상기 제1 트리거 신호를 전송한 이후 제2 트리거 신호를 추가적으로 상기 제2 카메라에만 전송하는 단계;를 포함할 수 있다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 45, "content": "4_발명의 효과 상기와 같은 본 발명에 따르면, 회전형 라이다의 회전 각속4_도를 실시간으로 측정함으로써 라이다와 카메라의 촬영 방향이 일치하는 순간을 예측할 수 있는 효과가 있다. 또한, 상기와 같은 본 발명에 따르면, 라이다와 카메라의 촬영 발향이 일치하는 순간에 카메라에 트리거 (trigger) 신호를 전송함으로써 라이다의 센싱 데이터와 카메라의 영상 데이터를 일치 시킬 수 있는 효과가 있 다. 또한, 서로 다른 동작 신호를 가지는 카메라들을 이용하여 라이다와 동기화하면서 높은 동작 신호를 가지는 카 메라의 성능을 최대한 활용할수 있는 효과가 있다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 46, "content": "4_4_도면의 간단한 설명 4_도 1은 본 발명의 일 실시예에 따른, 라이다 카메라 동기화 장치의 사시4_도가다. 4_도 2은 본 발명의 일 실시예에 따른, 라이다 카메라 동기화 장치의 구성4_도가다. 4_도 3은 본 발명의 일 실시예에 따른, 동기화 제어부의 구성4_도가다. 4_도 4는 본 발명의 일 실시예에 따른, 트리거 신호의 신호 그래프이다. 4_도 5는 본 발명의 일 실시예에 따른, 라이다와 카메라의 동기화 방법에 관한 순서4_도가다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 47, "content": "4_발명을 실시하기 위한 구체적인 내용 이하, 첨부된 4_도면을 참조하여 본 발명의 바람직한 실시예를 상세히 설명한다. 본 발명의 이점 및 특징, 그리 고 그것들을 달성하는 방법은 첨부되는 4_도면과 함께 상세하게 후술되어 있는 실시 예들을 참조하면 명확해질 것이다. 그러나 본 발명은 이하에서 게시되는 실시 예들에 한정되는 것이 아니라 서로 다른 다양한 형태로 구현"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 48, "content": "될 수 있으며, 단지 본 실시 예들은 본 발명의 게시가 완전하4_도록 하고, 본 발명이 속하는 기술분야에서 통상 의 지식을 가진 자에게 발명의 범주를 완전하게 알려주기 위해 제공되는 것이며, 본 발명은 청구항의 범주에 의 해 정의될 뿐이다. 명세서 전체에 걸쳐 동일 참조 부호는 동일 구성 요소를 지칭한다. 다른 정의가 없다면, 본 명세서에서 사용되는 모든 용어(기술 및 과학적 용어를 포함)는 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에게 공통적으로 이해될 수 있는 의미로 사용될 수 있을 것이다. 또 일반적으로 사용되는 사전에 정의되어 있는 용어들은 명백하게 특별히 정의되어 있지 않는 한 이상적으로 또는 과4_도하게 해석되지 않는다. 4_도 1은 본 발명의 일 실시예에 따른, 라이다 카메라 동기화 장치의 사시4_도가다. 4_도 1을 참조하여, 라이다 카메라 동기화 장치에 관해 설명한다. 4_도 1 에 4_도시된 라이다 카메라 동기화 장치는 본 발명의 일 실시예에 따른 예시에 불과하며 이에 한정되지 않는다. 4_도 1을 참조하면, 본 발명의 일 실시예에 따른 라이다 카메라 동기화 장치는, 라이다, 복수의 카메 라(210, 220, 230, 240) 및 본체를 포함할 수 있다. 라이다는 송신기와 수신기를 포함할 수 있다. 상기 송신기는 LIDAR 주변 환경을 향해 광 펄스(pulse)들을 방출한다. 상기 수신기는 방출된 광 펄스들의 반사들을 검출한다. 라이다는 회전을 하면서 주변 환경에 광 펄스를 방출하고 이를 수신함으로써, 주변 환경에 위치한 사물들의 거리를 측정한 점군 데이터를 출력할 수 있 다. 본체에는 라이다와 카메라(210, 220, 230, 240)가 장착될 수 있다. 본체의 내부에는 라이다(10 0)와 카메라(210, 220, 230, 240)를 제어하기 위한 동기화 제어부가 추가적으로 장착될 수 있다. 카메라(210, 220, 230, 240)는 적어4_도 하나 이상의 카메라를 포함할 수 있다. 카메라(210, 220, 230, 240)는 제1 카메라, 제2 카메라, 제3 카메라 및 제4 카메라을 포함할 수 있다. 본 발명에서 설명 의 편의를 위하여 4개의 카메라를 4_도시하였지만, 카메라 숫자는 이에 한정되지 않는다. 카메라(210, 220, 230, 240)에 포함된 각 카메라들은 동일한 방향의 화각을 공유하4_도록 본체에 배치될 수 있다. 4_도1에 4_도시된 것과 같이, 각 카메라가 인접하게 배치됨으로써, 동일한 화각을 공유할 수 있다. 이에 따라 카메라(210, 220, 230, 240)은 라이다에 대하여 동일한 트리거 타겟을 공유할 수 있다. 4_도1에 4_도 시된 것은 예시에 불과하며 이에 한정되지 않는다. 카메라(210, 220, 230, 240)는 컬러(Color) 카메라, 근적외선(NIR, Near InfraRed) 카메라, 단적외선(SWIR, Short Wavelength InfraRed) 카메라 및 장적외선(LWIR, Long WaveLength InfraRed) 카메라 중에서 어느 하나를 포함할 수 있다. 4_도 2은 본 발명의 일 실시예에 따른, 라이다 카메라 동기화 장치의 구성4_도가다. 4_도 2를 참조하면, 본 발명의 일 실시예에 따른 라이다 카메라 동기화 장치는 라이다, 동기화 제어부 및 하나 이상의 카메라(210, 220, 230, 240)을 포함할 수 있다. 이하에서 설명의 편의를 위하여 제1 카메라과 제2 카메라을 예를 들어 설명한다. 제3 카메라 및 제4 카메라는 제1 카메라와 동일한 제1 신호선에 연결되어 있기 때문에 동일하게 동작하며, 제2 카메라만 제1 신호선과 다른 제2 신호선에4_도 연결되어 있기 때문이다. 제1 카메라 내지 제4 카메라는 연결된 신호선에 따라 임의로 구분한 것이며, 이에 한정되지는 않는다. 라이다는 사전에 정해진 출력주기(Treload)마다 현재 위치를 가리키는 회전각을 포함하는 샘플을 출력할 수 있다. 동기화 제어부는 상기 출력된 샘플을 획득하고, 상기 샘플을 바탕으로 라이다가 현재 위치에서 트리거 타 겟까지 회전하는데 예상되는 시간인 트리거 타이밍을 4_도출하며, 상기 트리거 타이밍의 시간이 경과 후에 제1 트리거 신호를 제1 카메라 및 제2 카메라에 각각 전송하고, 상기 제1 트리거 신호를 전송한 이후 제2 트리거 신호를 제2 카메라에만 추가적으로 전송할 수 있다. 동기화 제어부는 제2 카메라의 동작 주파수를 바탕으로 최소 동작 주기를 획득할 수 있다. 동기화 제 어부는 상기 제1 트리거 신호를 전송한 이후 상기 최소 동작 주기의 시간이 경과한 이후에 상기 제2 트리 거 신호를 제2 카메라에만 전송할 수 있다. 동기화 제어부는 상기 제2 트리거 신호를 전송한 이후, 다시 상기 최소 동작 주기의 시간이 경과한 이후에 상기 제2 트리거 신호를 추가로 제2 카메라에만 전송할 수4_도 있다. 4_도 3은 본 발명의 일 실시예에 따른 동기화 제어부의 구성4_도가다. 4_도 3을 참조하여 동기화 제어부의 구성을 설명한다. 동기화 제어부는 라이다 샘플 획득부, 트리거 타이밍 4_도출부, 트리거 신호 생성부, 가상 신호 발생부, 제1 신호선 및 제2 신호선을 포함할 수 있다. 라이다 샘플 획득부는 라이다에서 출력된 샘플을 획득하고, 획득된 샘플에 포함된 회전각을 내부의 저장소에 저장해 두며, 획득된 샘플의 수를 가리키는 획득샘플수를 갱신할 수 있다. 라이다 샘플 획득부는 새로운 샘플이 획득될 때마다 상기 획득샘플수의 값을 1씩 증가시킬 수 있다. 라이다 샘플 획득부는 상기 획득된 샘플과 이전에 획득된 샘플에 포함된 각 회전각의 차이값을 모두 더한 총합을 상기 획득샘플수로 나누어 평균값을 4_도출할 수 있다. 라이다 샘플 획득부는 사전에 정해진 목표샘플수(N) 보다 획득샘플수가 적은 경우 상기 샘플을 획득하는 것을 계속 수행할 수 있다. 목표샘플수(N)는 라이다의 제원에 따라 정해질 수 있다. 라이다의 초당 회전수와 출력주기(Treload) 에 의해서 결정될 수 있다. 트리거 타겟 사이의 각4_도차를 각속4_도와 출력주기(Treload)의 곱으로 나눈 값의 정수 부분이 목표샘플수(N)이 될 수 있다. 예를 들어, 초당 회전수가 10이면, 1초당 3600 4_도를 회전하는 것이며 각속4_도는 3600/s 가 된다, 출력주기 (Treload)가 0.01 초 이면 한 출력주기(Treload)에 36004_도와 0.01초를 곱한 364_도를 회전 이동할 수 있으며, 트리거 타겟이 하나만 존재하는 경우 트리거 타겟 사이의 각4_도 차이는 3604_도가며, 3604_도를 364_ 도로 나눈 값인 10이 목표샘플수(N)이 될 수 있다. 트리거 타겟이 복수 개인 경우, 트리거 타겟 사이의 각4_도 를 위에서 구한 364_도로 나눈 값이 목표샘플수(N)이 될 수 있다. 트리거 타이밍 4_도출부는 상기 획득샘플수가 목표샘플수(N)와 같은 경우 상기 평균값을 출력주기 (Treload)로 나눈 값을 평균각속4_도로 4_도출할 수 있다. 트리거 타이밍 4_도출부는 라이다가 가장 최근에 샘플을 출력한 지점과 상기 트리거 타겟 사이의 각 4_도 차이인 사이각을 획득할 수 있다. 트리거 타이밍 4_도출부 상기 사이각을 상기 평균각속4_도로 나눈 값을 상기 트리거 타이밍으로 4_도출할 수 있다. 트리거 신호 발생부는 상기 트리거 타이밍의 시간이 경과하면 제1 트리거 신호를 복수의 카메라(210, 220, 230, 240)에 제1 신호선을 통하여 전송할 수 있다. 가상신호 발생부는 제2 트리거 신호를 제2 신호선을 통하여 제2 카메라에만 전송할 수 있다. 가 상신호 발생부는 제2 카메라의 동작 주파수를 바탕으로 최소 동작 주기를 획득할 수 있다. 가상신호 발생부는 상기 제1 트리거 신호가 전송된 이후 상기 최소 동작 주기의 시간이 경과하면 제2 신호선을 통하여 상기 제2 트리거 신호를 제2 카메라에만 전송할 수 있다. 본 발명의 다른 실시예에 따르면 트리거 타이밍 4_도출부는 카메라(210, 220, 230, 240)의 반응시간을 고 려하여 상기 트리거 타이밍을 조정할 수 있다. 상기 반응시간은 카메라가 트리거 신호를 수신한 이 후 실제 촬 영을 시작하기까지 소요되는 시간을 의미한다. 각 카메라는 종류에 따라 서로 다른 반응시간을 가질 수 있다. 예를 들어, 일반 컬러 카메라에 비하여 적외선 카메라는 센서가 열에 반응하는 시간이 필요하기 때문에 더 긴 반응시간을 가질 수 있다. 본 발명의 다른 실시예에 따른 트리거 타이밍 4_도출부는 제1 카메라의 제1 반응시간을 획득하고, 상 기 트리거 타이밍에서 상기 제1 반응시간을 차감하여 제1 타이밍을 4_도출할 수 있다. 본 발명의 다른 실시예에 따른 트리거 타이밍 4_도출부는 제2 카메라의 제2 반응시간을 획득하고, 상 기 트리거 타이밍에서 상기 제2 반응시간을 차감하여 제2 타이밍을 4_도출할 수 있다. 본 발명의 다른 실시예에 따른 트리거 타이밍 4_도출부는 제3 카메라의 제3 반응시간을 획득하고, 상 기 트리거 타이밍에서 상기 제3 반응시간을 차감하여 제3 타이밍을 4_도출할 수 있다. 본 발명의 다른 실시예에 따른 트리거 타이밍 4_도출부는 제4 카메라의 제4 반응시간을 획득하고, 상 기 트리거 타이밍에서 상기 제4 반응시간을 차감하여 제4 타이밍을 4_도출할 수 있다. 본 발명의 다른 실시예에 따른 본 발명의 다른 실시예에 따른 트리거 신호 생성부는 상기 조정된 트리거 타이밍의 시간이 경과하면 카메라(210, 220, 230, 240)에 제1 트리거 신호를 전송할 수 있다. 본 발명의 다른 실시예에 따른 트리거 신호 생성부는 상기 제1 타이밍의 시간이 경과하면 제1 카메라(21 0)에 상기 제1 트리거 신호를 전송할 수 있다. 본 발명의 다른 실시예에 따른 트리거 신호 생성부는 상기 제2 타이밍의 시간이 경과하면 제2 카메라(22 0)에 상기 제1 트리거 신호를 전송할 수 있다. 본 발명의 다른 실시예에 따른 트리거 신호 생성부는 상기 제3 타이밍의 시간이 경과하면 제3 카메라(23 0)에 제3 트리거 신호를 전송할 수 있다. 본 발명의 다른 실시예에 따른 트리거 신호 생성부는 상기 제4 타이밍의 시간이 경과하면 제4 카메라(24 0)에 상기 제1 트리거 신호를 전송할 수 있다. 본 발명의 다른 실시예에 따른 트리거 신호 생성부는 각 카메라에 트리거 신호를 전송하기 위한 작업을 병 렬4_도 진행할 수 있다. 별4_도의 프로세스(process) 또는 쓰레드(thread)를 이용할 수 있다. 상기 제1 타이밍 내지 제4 타이밍의 시간을 체크하는 별4_도의 프로세스를 각각 실행함으로써, 병렬 처리를 할 수 있다. 본 발명의 다른 실시예에 따른 카메라(210, 220, 230, 240)는 상기 제1 트리거 신호를 각각 수신하면, 촬영을 위한 준비를 할 수 있다. 카메라(210, 220, 230, 240)는 상기 제1 반응시간 내지 제4 반응시간이 각각 경과한 후 촬영을 각각 시작할 수 있다. 본 발명의 다른 실시예에 따른 가상신호 발생부는 상기 제1 트리거 신호가 전송된 이후, 제2 카메라 의 최소 동작 주기의 시간이 경과하면 제2 신호선을 통하여 제2 트리거 신호를 전송할 수 있다. 4_도 4는 본 발명의 일 실시예에 따른, 트리거 신호의 신호 그래프이다. 4_도 4를 참조하면 제1 신호선을 통해서 제1 트리거 신호(412, 414)가 전송되고, 제2 신호선을 통하 여 제2 트리거 신호(422, 424)가 전송될 수 있다. 제2 트리거 신호(422, 424)는 제1 트리거 신호(412, 414)가 전송돠는 사이 시간에 복수 개가 일정한 간격으로 전송될 수 있다. 예를 들어서, 제1 카메라가 10Hz로 동작하고, 제2 카메라가 30Hz로 동작할 수 있는 카메라일 수 있다. 이 경우 제1 트리거 신호(412, 414)는 10Hz 에 해당하는 시간 간격으로 전송될 수 있다. 제2 트리거 신호 (422, 424)는 제1 트리거 신호(412, 414)의 사이에서 20Hz의 시간 간격으로 전송될 수 있다. 이에 따라 제1 신 호선의 트리거 신호만 받는 제1 카메라는 10Hz로 동작할 수 있고, 제1 신호선 및 제2 신호선 으로부터 트리거 신호를 모두 받는 제2 카메라는 30Hz로 동작할 수 있다. 예를 들어서, COLOR 카메라, NIR 카메라, SWIR 카메라는 10Hz로 동작할 수 있고, LWIR 카메라는 30Hz로 동작할 수 있다. 4_도 5은 본 발명의 일 실시예에 따른, 라이다와 카메라의 동기화 방법에 관한 순서4_도가다. 4_도 5을 참조하 여 라이다와 카메라의 동기화 방법을 설명한다. 동기화 제어부는 트리거 타이밍을 4_도출한다(S210). 동기화 제어부는 라이다에서 출력된 샘플을 획득하고, 이전에 획득된 샘플의 개수를 가리키는 획득샘 플수의 값을 1 증가시킨다. 동기화 제어부는 상기 획득된 샘플과 이전에 획득된 샘플에 포함된 각 회전각 의 차이값을 모두 더한 총합을 상기 획득샘플수로 나누어 평균값을 4_도출한다. 동기화 제어부는 상기 획 득샘플수가 사전에 정해진 목표샘플수보다 작은 경우 상기 샘플을 획득하는 것을 계속 수행한다. 동기화 제어부 는 상기 획득샘플수가 상기 목표샘플수와 같은 경우, 상기 평균값을 상기 출력주기로 나눈 값을 평균각속 4_도로 4_도출하고, 가장 최근에 획득된 샘플에 포함된 회전각과 상기 트리거 타겟 사이의 각4_도 차이인 사이 각을 획득하며, 상기 사이각을 상기 평균각속4_도로 나눈 값을 상기 트리거 타이밍으로 4_도출한다. 동기화 제어부는 제1 트리거 신호를 제1 카메라 및 제2 카메라에 각각 전송한다(S220). 동기화 제어부는 제2 카메라의 동작 주파수가 제1 카메라보다 높으면 추가 트리거 신호가 필요 한 것으로 판단한다(S230). 동기화 제어부는 제2 카메라의 최소 동작 주기를 획득하고, 제2 트리거 신호를 생성하며, 상기 최소 동작 주기의 시간이 경과할 때까지 대기한다(S240). 동기화 제어부는 제2 트리거 신호를 제2 카메라에만 전송한다(S250)."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 49, "content": "이상 첨부된 4_도면을 참조하여 본 발명의 실시예들을 설명하였지만, 본 발명이 속하는 기술분야에서 통상의 지 식을 가진 자는 본 발명이 그 기술적 사상이나 필수적인 특징을 변경하지 않고서 다른 구체적인 형태로 실시될 수 있다는 것을 이해할 수 있을 것이다. 그러므로 이상에서 기술한 실시예들은 모든 면에서 예시적인 것이며 한 정적이 아닌 것으로 이해해야만 한다. 4_부호의 설명 라이다 카메라 동기화 장치 10 라이다 100 카메라 210, 220, 230, 240 동기화 제어부 300 4_청구범위 4_청구항 1 라이다(LiDAR, Light Detection And Ranging), 제1 카메라, 제2 카메라 및 동기화 제어부를 포함하는 동기화 장치에 있어서, 상기 라이다는 회전하면서 일정한 출력주기에 따라 샘플을 출력하는 단계; 상기 동기화 제어부는 상기 출력된 샘플을 획득하고, 상기 샘플을 바탕으로 상기 라이다가 현재 위치에서 트리 거 타겟까지 회전하는데 예상되는 시간인 트리거 타이밍을 4_도출하는 단계; 상기 동기화 제어부는 상기 트리거 타이밍의 시간이 경과 후 제1 트리거 신호를 상기 제1 카메라 및 제2 카메라 에 전송하는 단계; 및 상기 동기화 제어부는 상기 제1 트리거 신호를 전송한 이후 제2 트리거 신호를 추가적으로 상기 제2 카메라에만 전송하는 단계;를 포함하되, 상기 제1 카메라와 상기 제2 카메라는 동일한 화각을 공유하며, 상기 샘플은 상기 라이다의 현재 위치를 가리키는 회전각을 포함하며, 상기 트리거 타겟은 상기 제1 카메라, 상기 제2 카메라 및 상기 라이다의 화각의 중심이 일치하는 가상의 방향 을 가리키고, 상기 회전각은 상기 트리거 타겟을 기준으로 상기 라이다가 회전한 각4_도를 가리키는, 라이다와 카메라의 동기화 방법. 4_청구항 2 제1항에 있어서, 상기 트리거 타이밍을 4_도출하는 단계는, 상기 동기화 제어부가 상기 출력된 샘플을 획득하는 단계; 상기 동기화 제어부가 이전에 획득된 샘플의 개수를 가리키는 획득샘플수의 값을 1 증가시키는 단계; 상기 동기화 제어부가 상기 획득된 샘플 및 이전에 획득된 샘플에 포함된 회전각의 총합을 상기 획득샘플수로 나눈 값을 평균값으로 획득하는 단계; 상기 획득샘플수가 사전에 정해진 목표샘플수보다 작은 경우 상기 샘플을 획득하는 단계를 반복하는 단계; 상기 동기화 제어부는 상기 획득샘플수가 상기 목표샘플수와 같은 경우 상기 평균값을 상기 출력주기로 나눈 값 을 평균각속4_도로 4_도출하는 단계; 상기 동기화 제어부는 상기 라이다가 가장 최근에 출력한 샘플에 포함된 회전각과 상기 트리거 타겟 사이의 각 4_도 차이인 사이각을 획득하는 단계; 및 상기 동기화 제어부는 상기 사이각을 상기 평균각속4_도로 나눈 값을 상기 트리거 타이밍으로 4_도출하는 단계; 를 포함하는, 라이다와 카메라의 동기화 방법. 4_청구항 3 제1항에 있어서, 상기 제2 트리거 신호를 추가적으로 전송하는 단계는, 상기 동기화 제어부가 상기 제2 카메라의 최소 작동주기를 획득하는 단계; 및 상기 동기화 제어부는 상기 제1 트리거 신호를 전송한 이 후 상기 최소 작동주기의 시간이 경과되면 상기 제2 트리거 신호를 상기 제2 카메라에 전송하는 단계;를 포함하는, 라이다와 카메라의 동기화 방법. 4_청구항 4 제1 카메라; 제2 카메라; 회전하면서 사전에 정해진 출력주기에 따라 샘플을 출력하는 라이다; 및 상기 출력된 샘플을 획득하고, 상기 샘플을 바탕으로 상기 라이다가 현재 위치에서 트리거 타겟까지 회전하는데 예상되는 시간인 트리거 타이밍을 4_도출하며, 상기 트리거 타이밍의 시간이 경과 후에 제1 트리거 신호를 상기 제1 카메라 및 상기 제2 카메라에 각각 전송하고, 상기 제1 트리거 신호를 전송한 이후 제2 트리거 신호를 상 기 제2 카메라에만 추가적으로 전송하는 동기화 제어부; 를 포함하며, 상기 샘플은 상기 라이다의 현재 위치를 가리키는 회전각을 포함하며, 상기 트리거 타겟은 상기 제1 카메라, 상기 제2 카메라 및 상기 라이다의 화각의 중심이 일치하는 가상의 방향 을 가리키고, 상기 회전각은 상기 트리거 타겟을 기준으로 상기 라이다가 회전한 각4_도를 가리키는, 라이다 카메라 동기화 장치. 4_청구항 5 제4항에 있어서, 상기 제2 카메라는, 상기 제1 카메라와 다른 동작 주파수에서 동작할 수 있는 카메라인, 라이다 카메라 동기화 장치. 4_청구항 6 제4항에 있어서, 동기화 제어부는, 상기 출력된 샘플을 획득고, 이전에 획득된 샘플의 개수를 가리키는 획득샘플수의 값을 1 증가시키며, 상기 획 득된 샘플 및 이전에 획득된 샘플에 포함된 회전각의 총합을 상기 획득샘플수로 나눈 값을 평균값으로 획득하고, 상기 획득샘플수가 사전에 정해진 목표샘플수보다 작은 경우 상기 샘플을 획득하는 단계를 반복하며, 상기 획득샘플수가 상기 목표샘플수와 같은 경우 상기 평균값을 상기 출력주기로 나눈 값을 평균각속4_도로 4_ 도출하고, 상기 라이다가 가장 최근에 출력한 샘플에 포함된 회전각과 상기 트리거 타겟 사이의 각4_도 차이인 사이각을 획득하며, 상기 사이각을 상기 평균각속4_도로 나눈 값을 상기 트리거 타이밍으로 4_도출하는, 라이다 카메라 동기화 장치. 4_청구항 7 제4항에 있어서, 상기 동기화 제어부는, 상기 제2 카메라의 최소 작동주기를 획득하고, 상기 제1 트리거 신호를 전송한 이 후 상기 최소 작동주기의 시 간이 경과되면 상기 제2 트리거 신호를 상기 제2 카메라에 전송하는, 라이다 카메라 동기화 장치. 4_청구항 8 제4항에 있어서, 상기 동기화 제어부는, 제1 신호선 및 제2 신호선을 포함하며, 상기 제1 신호선은 상기 제1 카메라 및 상기 제2 카메라에 연결되고, 상기 제2 신호선은 상기 제2 카메라에만 연결되는, 라이다 카메라 동기화 장치. 4_청구항 9 제8항에 있어서, 상기 동기화 제어부는, 상기 트리거 타이밍이 경과한 후 상기 제1 트리거 신호를 상기 제1 신호선을 이용하여 상기 제1 카메라 및 상기 제2 카메라에 각각 전송하고, 상기 전송 이후 상기 제2 카메라의 최소 작동 주기의 시간이 경과되면 상기 제2 신호선을 이용하여 상기 제2 트리거 신호를 상기 제2 카메라에만 전송하는, 라이다 카메라 동기화 장치. 4_청구항 10 제4항에 있어서, 상기 제1 카메라 및 상기 제2 카메라는, 컬러(Color) 카메라, 근적외선(NIR, Near InfraRed) 카메라, 단적외선(SWIR, Short Wavelength InfraRed) 카메 라 및 장적외선(LWIR, Long WaveLength InfraRed) 카메라 중에서 어느 하나를 포함하는,"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 50, "content": "라이다 카메라 동기화 장치. 4_요약서"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 51, "content": "4_요약 본 발명은 다중 신호를 이용한 회전형 라이다와 카메라의 동기화 방법 및 그 장치에 관한 발명이다. 본 발명의 일 실시예에 따른 동기화 장치는, 라이다(LiDAR, Light Detection And Ranging), 복수의 카메라(camera) 및 동 기화 제어부를 포함할 수 있다. 본 발명의 일 실시예에 따른 라이다와 카메라의 동기화 방법은, 상기 라이다는 회전하면서 일정한 출력주기에 따라 샘플을 출력하는 단계; 상기 동기화 제어부는 상기 출력된 샘플을 획득하고, 상기 샘플을 바탕으로 상기 라이다가 현재 위치에서 트리거 타겟까지 회전하는데 예상되는 시간인 트 리거 타이밍을 4_도출하는 단계; 상기 동기화 제어부는 상기 트리거 타이밍의 시간이 경과 후 제1 트리거 신호 를 상기 제1 카메라 및 제2 카메라에 전송하는 단계; 및 상기 동기화 제어부는 상기 제1 트리거 신호를 전송한 이후 제2 트리거 신호를 추가적으로 상기 제2 카메라에만 전송하는 단계;를 포함하되, 상기 제1 카메라와 상기 제2 카메라는 동일한 화각을 공유하며, 상기 샘플은 상기 라이다의 현재 위치를 가리키는 회전각을 포함하며, 상기 트리거 타겟은 상기 제1 카메라, 상기 제2 카메라 및 상기 라이다의 화각의 중심이 일치하는 가상의 방향 을 가리키고, 상기 회전각은 상기 트리거 타겟을 기준으로 상기 라이다가 회전한 각4_도를 가리킬 수 있다. 4_대표도 4_도 5 4_4_도면 4_도 1 4_도 2"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 52, "content": "4_도 3 4_도 4"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 53, "content": "4_도 5"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 54, "content": "5_발명의 설명 5_발명의 명칭 라이다 좌표계와 카메라 좌표계의 벡터 정합을 통한 자동 캘리브레이션 방법{Automatic calibration through vector matching of the LiDAR coordinate system and the camera coordinate system}"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 55, "content": "5_기술분야 본 발명은 라이다 좌표계와 카메라 좌표계의 벡터 정합을 통한 자동 캘리브레이션 방법에 관한 것으로서, 보다 상세하게는 서로 다른 방식의 자율주행용 센서에 의해 획득된 데이터 간의 좌표계 변환 관계를 찾아주는 자동 캘리브레이션(Calibration)에 관한 것이다. 구체적으로, 본 발명은 레이저 펄스를 이용하는 라이다(LiDAR)와 가시광선영역의 이미지를 촬영하는 카메라의 각 좌표계에서의 벡터 매칭을 통해, 자율주행에서 가장 기본이 되는 인지영역에서의 정확한 객체 인식이 가능하 5_도록 하는 라이다 좌표계와 카메라 좌표계의 벡터 정합을 통한 자동 캘리브레이션 방법에 관한 것이다. 5_발명의 배경이 되는 기술 차량의 무인자율화(자율주행차량)는 크게 주위 환경을 인식하는 단계(인지영역)와, 인식된 환경으로부터 주행경 로를 계획하는 단계(판단영역), 그리고 계획된 경로를 따라 주행하는 단계(제어영역)로 구성될 수 있다. 특히, 인지영역의 경우 자율주행을 위해 가장 처음 수행되는 기반 기술이며, 이러한 인지영역에서의 기술이 정 확히 이루어져야만 다음 단계인 판단영역 및 제어영역에서5_도 정확한 수행이 가능하게 된다. 인지영역의 기술로는, GPS를 이용하여 차량의 정확한 위치를 파악하는 기술과, 라이다(LiDAR) 및 카메라를 통해 획득된 영상정보를 통해 주위환경에 대한 정보를 획득하는 기술 등이 있다. 이외에5_도 레이다(RADAR)나 IMU(Inertial Measurement Unit) 등의 여러 센서들을 통해 들어오는 정보들을 사 용하여 주변 환경을 인식하는 기술들이 사용될 수 있다. 이때, 각각의 센서들을 통해 들어오는 정보들은, 각 센서의 위치 및 좌표계가 서로 다르기 때문에, 이들을 하나 의 좌표계로 통일시켜주는 캘리브레이션 과정이 필요하며, 이러한 캘리브레이션 과정을 거처야만 각 센서들로부 터 들어온 정보를 통합하여 주변 환경을 인식하고 판단 및 제어하는 단계로 이어지는 자율주행 프로세스를 수행 할 수 있게 된다. 5_선행기술문헌 5_특허문헌 대한민국 등록특허공보 제10-2249769호 '2차원 영상의 픽셀별 3차원 좌표값 추정 방법 및 이를 이용한 자율주행 정보 추정 방법'"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 56, "content": "5_발명의 내용 5_해결하고자 하는 과제 이에, 본 발명은 서로 다른 방식의 자율주행용 센서에 의해 획득된 데이터 간의 좌표계 변환 관계를 자동으로 찾아줄 수 있는 라이다 좌표계와 카메라 좌표계의 벡터 정합을 통한 자동 캘리브레이션 방법을 제공하는데 목적 이 있다. 구체적으로, 본 발명은 레이저 펄스를 이용하는 라이다(LiDAR)와 가시광선영역의 이미지를 촬영하는 카메라의 각 좌표계에서의 벡터 매칭을 통해, 자율주행에서 가장 기본이 되는 인지영역에서의 정확한 객체 인식이 가능하 5_도록 할 수 있는 라이다 좌표계와 카메라 좌표계의 벡터 정합을 통한 자동 캘리브레이션 방법을 제공하는데 목적이 있다. 특히, 본 발명은 라이다좌표계와 카메라좌표계의 벡터 매칭을 통해, 라이다좌표계에서 카메라좌표계로 변환하는 회전행렬과 이동행렬을 산출하고, 이러한 행렬들을 이용하여 두 좌표계간의 캘리브레이션이 정확하게 수행될 수 있는 라이다 좌표계와 카메라 좌표계의 벡터 정합을 통한 자동 캘리브레이션 방법을 제공하는데 목적이 있다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 57, "content": "5_과제의 해결 수단 상기와 같은 목적을 달성하기 위해서, 본 발명에 따른 라이다 좌표계와 카메라 좌표계의 벡터 정합을 통한 자동 캘리브레이션 방법은, 라이다(LiDAR)와 카메라를 포함하는 자율주행센서를 이용하여 동일 시간에 대상객체에 대한 센서별 데이터를 획득하는 센서데이터 획득단계; 상기 라이다를 통해 획득된 점군데이터에 기초하여 라이다 좌표계를 기준으로 대상객체의 특징요소를 산출하는 라이다좌표계 특징요소 산출단계; 상기 카메라를 통해 획득 된 영상데이터에 기초하여 카메라좌표계를 기준으로 대상객체의 특징요소를 산출하는 카메라좌표계 특징요소 산 출단계; 및 상기 라이다좌표계의 특징요소와 카메라좌표계의 특징요소에 기초하여 라이다좌표계에서 카메라좌표 계로 변환시키는 회전행렬 및 이동행렬을 산출하는 변환행렬 산출단계;를 포함한다. 또한, 상기 라이다좌표계 특징요소 산출단계는, 상기 라이다를 통해 획득된 점군데이터 중 대상객체에 대한 포 인트를 추출하는 객체점군데이터 추출과정; 및 상기 객체점군데이터에 기초하여, 라이다좌표계에서의 대상객체 에 대한 특징요소를 산출하는 특징요소 산출과정;을 포함할 수 있다. 또한, 상기 대상객체는 사각평면으로 형성되고, 상기 특징요소는 상기 대상객체에 대한 평면방정식 및 모서리의 직선벡터를 포함하며, 상기 특징요소 산출과정은, 상기 객체점군데이터에 기초하여 대상객체에 대한 평면의 법 선벡터를 산출하는 법선벡터 산출과정; 및 상기 객체점군데이터에 기초하여 대상각체에 대한 직선벡터를 산출하 는 직선벡터 산출과정;을 포함할 수 있다. 또한, 상기 직선벡터 산출과정은, 무작위로 샘플링된 포인트들로부터, 해당 포인트들의 경향성을 기준으로 선택 된 주포인트들에 기초하여 상기 직선벡터를 산출할 수 있다. 또한, 상기 법선벡터 산출과정은, 상기 객체점군데이터에 기초하여 대상객체에 대한 평면방정식을 산출한 후, 해당 평면방정식으로부터 법선벡터를 산출하며, 상기 직선벡터 산출과정은, 상기 대상객체의 평면상으로 사영 (Projection)시킨 직선벡터를 산출할 수 있다. 또한, 상기 카메라좌표계 특징요소 산출단계는, 상기 카메라를 통해 획득된 영상데이터에서 대상객체의 특징점 과, 월드좌표계를 기준으로 대상객체의 특징점을 추출하는 특징점 추출과정; 및 각 좌표계의 특징점에 기초하여, 카메라좌표계에서의 대상객체에 대한 특징요소를 산출하는 특징요소 산출과정;을 포함할 수 있다. 또한, 상기 특징요소 산출과정은, 상기 월드좌표계의 특징점에서 카메라좌표계의 특징점으로 변환하는 회전행렬 및 이동행렬 중 적어5_도 하나를 산출하는 행렬산출과정;을 포함하고, 상기 회전행렬 및 이동행렬 중 적어5_도 하나를 이용하여, 월드좌표계에서의 대상객체에 대한 특징요소로부터 카메라좌표계에서의 대상객체에 대한 특징 요소를 산출할 수 있다. 또한, 상기 행렬산출과정은, 각 좌표계별로 대응되는 특징점에 대하여, 카메라의 자세정보를 반영하여 해당 회 전행렬 및 이동행렬 중 적어5_도 하나를 산출할 수 있다. 또한, 상기 대상객체는 사각평면으로 형성되고, 상기 특징요소는, 각 좌표계별 대상객체에 대한 법선벡터, 직선 벡터 및 특징점 중 적어5_도 하나를 포함하고, 상기 변환행렬 산출단계는, 상기 라이다좌표계와 카메라좌표계에 서 각각 산출된 법선벡터 및 직선벡터 중 적어5_도 하나를 이용하여, 라이다좌표계에서 카메라좌표계로 변환시 키는 회전행렬을 산출하는 회전행렬 산출과정; 및 상기 라이다좌표계와 카메라좌표계에서 각각 산출된 특징점을 이용하여, 라이다좌표계에서 카메라좌표계로 변환시키는 이동행렬을 산출하는 이동행렬 산출과정;을 포함할 수 있다. 또한, 상기 회전행렬 산출과정은, 상기 라이다좌표계에서 카메라좌표계로 변환했을 때, 오차가 가장 작은 회전 행렬을 최적화 회전행렬로 선택할 수 있다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 58, "content": "5_발명의 효과 상기와 같은 해결수단에 의해, 본 발명은 서로 다른 방식의 자율주행용 센서에 의해 획득된 데이터 간의 좌표계 변환 관계를 자동으로 찾아줄 수 있는 장점이 있다. 구체적으로, 본 발명은 레이저 펄스를 이용하는 라이다(LiDAR)와 가시광선영역의 이미지를 촬영하는 카메라의 각 좌표계에서의 벡터 매칭을 통해, 자율주행에서 가장 기본이 되는 인지영역에서의 정확한 객체 인식이 가능하 5_도록 할 수 있는 장점이 있다. 이를 통해, 본 발명은 라이다와 카메라 사이의 좌표계와 위치 관계를 통일하는 방법을 제공하고, 이를 적용한 시스템을 제공할 수 있5_도록 함으로써, 자율주행 분야에서의 신뢰5_도를 크게 향상시킬 수 있다. 특히, 본 발명은 라이다좌표계와 카메라좌표계의 벡터 매칭을 통해, 라이다좌표계에서 카메라좌표계로 변환하는 회전행렬과 이동행렬을 산출하고, 이러한 행렬들을 이용하여 두 좌표계간의 캘리브레이션이 정확하게 수행될 수 있는 장점이 있다. 이에 본 발명은 두 좌표계간의 캘리브레이션에 요구되는 시간을 월등히 단축시킬 수 있고, 정합의 오차 또한 최 소화할 수 있는 장점이 있다. 이를 통해, 본 발명은 라이다의 점군데이터와 카메라의 영상이미지를 동시에 사용해야 하는 자율주행에서, 인지 영역에서의 가장 중요한 전처리과정을 신속하고 정확하게 수행할 수 있는 장점이 있다. 또한, 본 발명은 백터를 이용한 캘리브레이션을 통해, 라이다의 점군데이터와 카메라의 영상이미지를 융합할 수 있5_도록 함으로써, 자율주행의 인지영역에서 객체의 인식을 정밀하게 수행하고, 이를 기반으로 3차원 고정밀 지5_도(HD map)의 정밀5_도를 크게 향상시킬 수 있는 장점이 있다. 또한, 본 발명은 대상객체의 특징점 및 벡터성분을 이용하여 캘리브레이션에 필요한 연산을 수행하므로, 연산과 정이 매우 효율적일 뿐만 아니라 센서의 종류에 무관하게 동일 내지 유사한 방법으로 캘리브레이션을 수행할 수 있다는 장점이 있다. 결과적으로, 본 발명은 다양한 자율주행센서에 대한 각 좌표계의 변환을 쉽고 빠르며 정확하게 수행할 수 있는 장점이 있다. 따라서 자율주행 분야, 자율주행용 객체 인식 분야, 자율주행용 센서 캘리브레이션 분야는 물론 이와 유사 내지 연관된 분야에서 신뢰성 및 경쟁력을 향상시킬 수 있다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 59, "content": "5_도면의 간단한 설명 5_도 1은 본 발명에 의한 라이다 좌표계와 카메라 좌표계의 벡터 정합을 통한 자동 캘리브레이션 방법의 일 실 시예를 나타내는 흐름5_도이다. 5_도 2는 5_도 1의 단계 'S200'을 보다 구체적으로 설명하는 흐름5_도이다. 5_도 3은 5_도 1의 단계 'S300'을 보다 구체적으로 설명하는 흐름5_도이다. 5_도 4는 5_도 1의 단계 'S400'을 보다 구체적으로 설명하는 흐름5_도이다. 5_도 5 내지5_도 7은 5_도 1을 설명하기 위한 5_도면이다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 60, "content": "5_발명을 실시하기 위한 구체적인 내용 본 발명에 따른 라이다 좌표계와 카메라 좌표계의 벡터 정합을 통한 자동 캘리브레이션 방법에 대한 예는 다양 하게 적용할 수 있으며, 이하에서는 첨부된 5_도면을 참조하여 가장 바람직한 실시 예에 대해 설명하기로 한다. 5_도 1은 본 발명에 의한 라이다 좌표계와 카메라 좌표계의 벡터 정합을 통한 자동 캘리브레이션 방법의 일 실 시예를 나타내는 흐름5_도이다. 5_도 1을 참조하면, 본 발명의 캘리브레이션 방법은 센서데이터 획득단계(S100), 라이다좌표계 특징요소 산출단 계(S200), 카메라좌표계 특징요소 산출단계(S300) 및 변환행렬 산출단계(S400)를 포함한다. 센서데이터 획득단계(S100)는 라이다(LiDAR)와 카메라를 포함하는 자율주행센서를 이용하여 동일 시간에 대상객 체에 대한 센서별 데이터를 획득하는 과정으로, 라이다와 카메라 이외에5_도 다양한 자율주행용 센서들이 선택 될 수 있으며, 대상객체는 캘리브레이션을 위해 별5_도로 제작되어 사용될 수 있다. 라이다좌표계 특징요소 산출단계(S200)는 라이다를 통해 획득된 점군데이터에 기초하여 라이다좌표계를 기준으 로 대상객체의 특징요소를 산출하는 과정으로, 특징요소는 대상객체의 형상 등에 따라 다양하게 선택될 수 있다. 예를 들어, 대상객체가 5_도 5의 (b)에 나타난 바와 같이 격자무늬가 형성된 4각형 형태의 플레이트인 경우, 특 징요소는 대상객체의 평면방정식, 평면에 대한 법선벡터, 모서리의 직선벡터 등을 포함할 수 있다. 카메라좌표계 특징요소 산출단계(S300)는 카메라를 통해 획득된 영상데이터에 기초하여 카메라좌표계를 기준으 로 대상객체의 특징요소를 산출하는 과정이다. 예를 들어, 카메라좌표계의 특징요소는 라이다좌표계와의 캘리브레이션을 위해 앞서 라이다좌표계에서 선택된 특징요소와 동일 내지 유사한 것을 선택할 수 있다. 변환행렬 산출단계(S400)는 라이다좌표계의 특징요소와 카메라좌표계의 특징요소에 기초하여 라이다좌표계에서 카메라좌표계로 변환시키는 회전행렬 및 이동행렬을 산출하는 과정으로, 필요시 월드좌표계를 이용할 수 있다. 이하에서는, 구체적인 예를 참조하여 5_도 1에 나타난 단계들을 보다 구체적으로 살펴보기로 한다. 5_도 2는 5_도 1의 단계 'S200'을 보다 구체적으로 설명하는 흐름5_도이다. 5_도 2를 참조하면, 라이다좌표계 특징요소 산출단계(S200)는 객체점군데이터 추출과정(S210) 및 특징요소 산출 과정(S220)을 포함할 수 있다. 먼저, 객체점군데이터 추출과정(S210)에서는 라이다를 통해 획득된 점군데이터 중 대상객체에 대한 포인트를 추 출할 수 있다. 예를 들어, 5_도 5의 (b)에 나타난 바와 같은 4각형의 평면인 대상객체를 포함하는 주변의 점군데이터는 5_도 5 의 (a)와 같이 수집될 수 있다. 이에, 5_도 6의 (a)에서 왼쪽에 나타난 바와 같이 수집된 주변의 점군데이터 중 대상객체에 대한 포인트(분홍색 박스)만을 추출할 수 있다(S210). 이후, 추출된 대상객체의 점군으로부터 대상객체의 평면방적식을 구할 수 있다. 이때, 대상객체의 평면방적식은 RANSAC(Random Sample Consessus; 무작위 샘플 일치 방법)을 이용하여 구할 수 있다. 한편, 점군데이터로부터 유효한 데이터를 획득하는 과정에는 최소자승법5_도 있으나, 이 경우 전체 점군(포인트)의 평균값을 이용하게 되므로 오류로 인해 포함된 점군들로 인해 정확한 형상을 얻기에는 부족함이 있다. 이에 반해, RANSAC을 이용하게 되면 오차가 발생한 점군을 정상범위로 보정하여 추정하는 방식으로 계산하게 되 므로, 대상객체의 외형에 대한 데이터를 정확하게 획득할 수 있다. 이에, 본 발명에서는 객체의 점군데이터 중 모서리부분에 해당하는 점군(포인트)만을 선택한 후, RANSAC을 이용 하여 대상객체의 모서리에 대한 직선벡터를 산출할 수 있다(S220). 다시 말해, 대상객체는 사각평면으로 형성될 수 있고, 특징요소는 대상객체에 대한 평면방정식 및 모서리의 직 선벡터를 포함할 수 있다. 그리고, 특징요소 산출과정(S220)은 객체점군데이터에 기초하여 대상객체에 대한 평면방적식을 산출 한 후, 이 를 이용하여 평면의 법선벡터를 산출하는 법선벡터 산출과정(S221)과, 객체점군데이터에 기초하여 대상각체에 대한 직선벡터를 산출하는 직선벡터 산출과정(S222)을 포함할 수 있다. 그리고, 직선벡터 산출과정(S222)은 앞서 설명한 바와 같이 RANSAC에 의해, 무작위로 샘플링된 포인트들로부터, 해당 포인트들의 경향성을 기준으로 선택된 주포인트들에 기초하여 해당 직선벡터를 산출할 수 있다. 한편, 직선벡터를 산출하는 과정에서 앞서 선택된 대상객체의 모서리 부분에 해당하는 점군들을 사용한다 하더 라5_도, 해당 직선벡터들이 대상객체의 평면 위에 있는 것은 아니며, 일부의 직선벡터들은 대상객체의 가장자리 측면에 있을 수 있다. 이에, 본 발명에서는 앞서 산출된 4개(대상객체가 4각형인 경우)의 직선벡터들을 사영(Projection, 투영)시킨 후, 5_도 6의 (a)에 나타난 바와 같이 평면위로 사영된 직선벡터를 산출할 수 있다. 5_도 6의 (a)에서 오른쪽 이미지에 포함된 변수는, 각 벡터들의 교점(P1L, P2L, P3L, P4L)과 평면의 법선벡터(nL) 및 모서리에 해당하는 4개의 직선벡터(d1L, d2L, d3L, d4L)를 포함할 수 있다. 5_도 3은 5_도 1의 단계 'S300'을 보다 구체적으로 설명하는 흐름5_도이다. 5_도 3을 참조하면, 카메라좌표계 특징요소 산출단계(S300)는 특징점 추출과정(S310) 및 특징요소 산출과정 (S320)을 포함할 수 있다.먼저, OpenCV(Open Source Computer Vision)의 코너검출을 이용하여, 5_도 6의 (b)에 나타난 바와 같이 카메라 를 통해 획득된 영상데이터에서 대상객체의 특징점(4개의 꼭짓점)에 대한 좌표를 구할 수 있다(S310). 한편, 대상객체는 본 발명의 캘리브레이션을 위해 제작된 것으로, 대상객체의 실제크기를 알 수 있으므로, 대상 객체는 5_도 7의 (a)에 나타난 바와 같이 월드좌표계의 원점과 두 축에 접한 상태로 생각할 수 있다. 이에, 월드좌표계에서의 네 꼭짓점은 원점과 사각판의 가로 및 세로 길이에 정해지므로(S310), 대상객체의 법선 벡터(nW)를 구할 수 있다. 그리고, 월드좌표계에서의 네 꼭짓점과 카메라좌표계이서의 네 꼭짓점이 서로 대응될 수 있으므로, SolvePnP를 사용하여 변환관계식을 계산할 수 있다. 다시 말해, 5_도 7의 (a)에 나타난 바와 같이 월드좌표계에서 카메라좌표계로 변환하는 회전행렬(RWC)과 이동행 렬(TWC)을 계산할 수 있으며, 이를 이용하여 카메라좌표계에서의 대상객체에 대한 특징요소(법선벡터 및 직선벡 터)를 산출할 수 있다(S320). 다시 말해, 특징요소 산출과정(S320)은 월드좌표계의 특징점에서 카메라좌표계의 특징점으로 변환하는 회전행렬 및 이동행렬 중 적어5_도 하나를 산출할 수 있다(S321). 이때, 행렬산출과정(S321)은 각 좌표계별로 대응되는 특징점에 대하여, 카메라의 자세정보를 반영하여 해당 회 전행렬 및 이동행렬 중 적어5_도 하나를 산출할 수 있다. 그리고, 회전행렬 및 이동행렬 중 적어5_도 하나를 이용하여, 월드좌표계에서의 대상객체에 대한 특징요소로부 터 카메라좌표계에서의 대상객체에 대한 특징요소를 산출할 수 있다(S322). 5_도 4는 5_도 1의 단계 'S400'을 보다 구체적으로 설명하는 흐름5_도이다. 5_도 4를 참조하면, 변환행렬 산출단계(S400)는 회전행렬 산출과정(S410) 및 이동행렬 산출과정(S420)을 포함할 수 있다. 먼저, 회전행렬 산출과정(S410)을 살펴보면, 라이다좌표계와 카메라좌표계에서 각각 산출된 법선벡터 및 직선벡 터 중 적어5_도 하나를 이용하여, 라이다좌표계에서 카메라좌표계로 변환시키는 회전행렬을 산출할 수 있다. 보다 구체적으로, 5_도 7의 (b)에 나타난 바와 같이 라이다좌표계와 카메라좌표계에서 각각 구한 평면의 법선벡 터와 모서리에 대한 4개의 직선벡터를 이용하여, 라이다좌표계에서 카메라좌표계로 변환시키는 회전행렬(RLC)의 최적화된 값( )을 수학식1을 이용하여 계산할 수 있다. [수학식 1]"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 61, "content": "여기서, i는 취즉된 라이다와 카메라의 데이터 셋의 수이고, j는 대상객체의 모서리 번호이다. 이러한 수학식 1을 이용하면 라이다좌표계에서 카메라좌표계로 변환됐을 때, 평면의 법선벡터와 4개의 직선벡터 의 오차가 가장 작은 회전행렬(RLC)을 찾을 수 있다. 다시 말해, 회전행렬 산출과정(S410)은 라이다좌표계에서 카메라좌표계로 변환했을 때, 오차가 가장 작은 회전 행렬을 최적화 회전행렬로 할 수 있다. 이를 위하여, 수학식 1을 RMSE(Root Mean Square Error; 평균 제곱근 편차)형태로 표현한 수학식 2를 이용하여 오차를 확인할 수 있다.[수학식 2]"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 62, "content": "이후, 라이다좌표계에서의 첫 번째 꼭짓점(P1L)과 카메라좌표계에서의 첫 번째 꼭짓점(P1C), 그리고 수학식 1에서 계산된 최적화 회전행렬( )을 이용하여 수학식 3과 같이 이동행렬(TLC)을 계산할 수 있다. [수학식 3]"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 63, "content": "다시 말해, 라이다좌표계와 카메라좌표계에서 각각 산출된 특징점을 이용하여, 라이다좌표계에서 카메라좌표계 로 변환시키는 이동행렬을 산출할 수 있다(S420). 이상에서 본 발명에 의한 라이다 좌표계와 카메라 좌표계의 벡터 정합을 통한 자동 캘리브레이션 방법에 대하여"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 64, "content": "설명하였다. 이러한 본 발명의 기술적 구성은 본 발명이 속하는 기술분야의 당업자가 본 발명의 그 기술적 사상 이나 필수적 특징을 변경하지 않고서 다른 구체적인 형태로 실시될 수 있다는 것을 이해할 수 있을 것이다. 그러므로 이상에서 기술한 실시예들은 모든 면에서 예시적인 것이며, 한정적인 것이 아닌 것으로서 이해되어야 한다. 5_청구범위 5_청구항 1 라이다(LiDAR)와 카메라를 포함하는 자율주행센서를 이용하여 동일 시간에 대상객체에 대한 센서별 데이터를 획 득하는 센서데이터 획득단계; 상기 라이다를 통해 획득된 점군데이터에 기초하여 라이다좌표계를 기준으로 대상객체의 특징요소를 산출하는 라이다좌표계 특징요소 산출단계; 상기 카메라를 통해 획득된 영상데이터에 기초하여 카메라좌표계를 기준으로 대상객체의 특징요소를 산출하는 카메라좌표계 특징요소 산출단계; 및 상기 라이다좌표계의 특징요소와 카메라좌표계의 특징요소에 기초하여 라이다좌표계에서 카메라좌표계로 변환시 키는 회전행렬 및 이동행렬을 산출하는 변환행렬 산출단계;를 포함하는 라이다 좌표계와 카메라 좌표계의 벡터 정합을 통한 자동 캘리브레이션 방법. 5_청구항 2 제 1항에 있어서, 상기 라이다좌표계 특징요소 산출단계는, 상기 라이다를 통해 획득된 점군데이터 중 대상객체에 대한 포인트를 추출하는 객체점군데이터 추출과정; 및 상기 객체점군데이터에 기초하여, 라이다좌표계에서의 대상객체에 대한 특징요소를 산출하는 특징요소 산출과정;을 포함하는 것을 특징으로 하는 라이다 좌표계와 카메라 좌표계의 벡터 정합을 통한 자동 캘리브레이 션 방법. 5_청구항 3 제 2항에 있어서, 상기 대상객체는 사각평면으로 형성되고, 상기 특징요소는 상기 대상객체에 대한 평면방정식 및 모서리의 직선벡터를 포함하며, 상기 특징요소 산출과정은, 상기 객체점군데이터에 기초하여 대상객체에 대한 평면의 법선벡터를 산출하는 법선벡터 산출과정; 및 상기 객체점군데이터에 기초하여 대상각체에 대한 직선벡터를 산출하는 직선벡터 산출과정;을 포함하는 것을 특 징으로 하는 라이다 좌표계와 카메라 좌표계의 벡터 정합을 통한 자동 캘리브레이션 방법. 5_청구항 4 제 3항에 있어서, 상기 직선벡터 산출과정은, 무작위로 샘플링된 포인트들로부터, 해당 포인트들의 경향성을 기준으로 선택된 주포인트들에 기초하여 상기 직 선벡터를 산출하는 것을 특징으로 하는 라이다 좌표계와 카메라 좌표계의 벡터 정합을 통한 자동 캘리브레이션 방법. 5_청구항 5 제 3항에 있어서, 상기 법선벡터 산출과정은, 상기 객체점군데이터에 기초하여 대상객체에 대한 평면방정식을 산출한 후, 해당 평면방정식으로부터 법선벡터 를 산출하며, 상기 직선벡터 산출과정은, 상기 대상객체의 평면상으로 사영(Projection)시킨 직선벡터를 산출하는 것을 특징으로 하는 라이다 좌표계와 카메라 좌표계의 벡터 정합을 통한 자동 캘리브레이션 방법. 5_청구항 6 제 1항에 있어서, 상기 카메라좌표계 특징요소 산출단계는, 상기 카메라를 통해 획득된 영상데이터에서 대상객체의 특징점과, 월드좌표계를 기준으로 대상객체의 특징점을 추출하는 특징점 추출과정; 및 각 좌표계의 특징점에 기초하여, 카메라좌표계에서의 대상객체에 대한 특징요소를 산출하는 특징요소 산출과 정;을 포함하는 것을 특징으로 하는 라이다 좌표계와 카메라 좌표계의 벡터 정합을 통한 자동 캘리브레이션 방 법. 5_청구항 7 제 6항에 있어서, 상기 특징요소 산출과정은, 상기 월드좌표계의 특징점에서 카메라좌표계의 특징점으로 변환하는 회전행렬 및 이동행렬 중 적어5_도 하나를 산출하는 행렬산출과정;을 포함하고, 상기 회전행렬 및 이동행렬 중 적어5_도 하나를 이용하여, 월드좌표계에서의 대상객체에 대한 특징요소로부터 카메라좌표계에서의 대상객체에 대한 특징요소를 산출하는 것을 특징으로 하는 라이다 좌표계와 카메라 좌표계 의 벡터 정합을 통한 자동 캘리브레이션 방법. 5_청구항 8 제 7항에 있어서, 상기 행렬산출과정은, 각 좌표계별로 대응되는 특징점에 대하여, 카메라의 자세정보를 반영하여 해당 회전행렬 및 이동행렬 중 적어5_ 도 하나를 산출하는 것을 특징으로 하는 라이다 좌표계와 카메라 좌표계의 벡터 정합을 통한 자동 캘리브레이션 방법. 5_청구항 9 제 1항에 있어서, 상기 대상객체는 사각평면으로 형성되고, 상기 특징요소는, 각 좌표계별 대상객체에 대한 법선벡터, 직선벡터 및 특징점 중 적어5_도 하나를 포함하고, 상기 변환행렬 산출단계는, 상기 라이다좌표계와 카메라좌표계에서 각각 산출된 법선벡터 및 직선벡터 중 적어5_도 하나를 이용하여, 라이 다좌표계에서 카메라좌표계로 변환시키는 회전행렬을 산출하는 회전행렬 산출과정; 및 상기 라이다좌표계와 카메라좌표계에서 각각 산출된 특징점을 이용하여, 라이다좌표계에서 카메라좌표계로 변환 시키는 이동행렬을 산출하는 이동행렬 산출과정;을 포함하는 것을 특징으로 하는 라이다 좌표계와 카메라 좌표 계의 벡터 정합을 통한 자동 캘리브레이션 방법. 5_청구항 10 제 9항에 있어서, 상기 회전행렬 산출과정은, 상기 라이다좌표계에서 카메라좌표계로 변환했을 때, 오차가 가장 작은 회전행렬을 최적화 회전행렬로 선택하는 것을 특징으로 하는 라이다 좌표계와 카메라 좌표계의 벡터 정합을 통한 자동 캘리브레이션 방법."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 65, "content": "5_요약서"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 66, "content": "5_요약 본 발명은 라이다 좌표계와 카메라 좌표계의 벡터 정합을 통한 자동 캘리브레이션 방법에 관한 것으로, 보다 상 세하게는 레이저 펄스를 이용하는 라이다(LiDAR)와 가시광선영역의 이미지를 촬영하는 카메라의 각 좌표계에서 의 벡터 매칭을 통해 두 센서 간의 좌표계 변환 관계를 찾아주는 자동 캘리브레이션(Calibration)에 관한 것이다. 특히, 본 발명은 라이다좌표계와 카메라좌표계의 벡터 매칭을 통해, 라이다좌표계에서 카메라좌표계로 변환하는 회전행렬과 이동행렬을 산출하고, 이러한 캘리브레이션을 통해, 자율주행에서 가장 기본이 되는 인지영역에서의정확한 객체 인식이 가능하5_도록 한다. 또한, 본 발명은 백터를 이용한 캘리브레이션을 통해, 라이다의 점군데이터와 카메라의 영상이미지를 융합할 수 있5_도록 함으로써, 자율주행의 인지영역에서 객체의 인식을 정밀하게 수행하고, 이를 기반으로 3차원 고정밀 지5_도(HD map)의 정밀5_도를 크게 향상시킬 수 있다. 따라서 자율주행 분야, 자율주행용 객체 인식 분야, 자율주행용 센서 캘리브레이션 분야는 물론 이와 유사 내지 연관된 분야에서 신뢰성 및 경쟁력을 향상시킬 수 있다. 5_대표도 5_도 1 5_도면 5_도 1 5_도 2"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 67, "content": "5_도 3 5_도 4"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 68, "content": "5_도 5 5_도 6"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 69, "content": "5_도 7"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 70, "content": "6_발명의 설명 6_발명의 명칭 GPS정보 및 라이다 신호를 기초로 형성되는 컬러 맵 생성 장치 및 그 제어방법{APPARATUS FOR BUILDING MAP USING GPS INFORMATION AND LIDAR SIGNAL AND CONTROLLING METHOD THEREOF}"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 71, "content": "6_기술분야 본 발명은 MMS(Mobile Mapping System)에서 수집한 데이터를 이용하여 컬러 맵을 생성하는 기술에 관련된 것이다. 6_발명의 배경이 되는 기술 MMS란 카메라, 라이다 등 다양한 원격 감지 시스템과 GPS(Global Positioning System), INS(Inertial Navigation System) 등의 항법 센서를 갖춰 지리 공간 데이터를 수집하는 장치를 의미한다. 라이다를 포함한 MMS에서 수집한 데이터를 이용해 정밀 점군 지6_도를 구축할 수 있다. 카메라에서 수집한 RGB 이미지 데이터를 이용해 3차원 점군 지6_도에 색 정보를 추가하는 것이 가능하다. GPS 신호 및 라이다가 획득한 데이터와 카메라가 획득한 이미지 데이터를 기초로 색 정보가 포함된 맵 정보를 형성할 수 있다. KR 10-2004-0045050 A에 일부 객체 정보를 제공하는 동작이 개시되어 있으나 맵 정보와 색을 대응시켜 제공하는 동작은 명확하게 개시되지 않았다. 다만 모든 지점에 대하여 상술한 데이터를 이용하여 색 정보가 포함된 맵 정보를 형성하면 장애물이 존재하는 지점에 대응하는 지점에 잘못된 색이 적용되여 정확6_도가 낮은 맵 정보가 형성될 수 있다. 따라서 장애물과 대 응되는 정확한 맵 정보를 형성하는 방법에 대한 연구가 필요한 실정이다. 6_선행기술문헌 6_특허문헌 KR 10-2004-0045050 A"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 72, "content": "6_발명의 내용 6_해결하고자 하는 과제 본 발명은 각 픽셀마다 컬러 정보 및 장애물 정보를 매칭 시켜 정확한 컬러 맵 정보를 형성하는 컬러 맵 생성 방법을 제공한다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 73, "content": "6_과제의 해결 수단 일 실시예에 따른 컬러 맵 생성 방법은 GPS신호를 수신하여 GPS데이터를 형성하는 단계; 상기 GPS데이터에 포함 된 상기 복수의 GPS좌표를 이미지 픽셀 좌표로 변환하는 단계; 상기 이미지 픽셀 좌표와 상기 복수의 GPS좌표와 대응되는 상기 GPS 데이터 및 컬러 정보와 매칭 시키는 단계; 상기 복수의 GPS좌표 각각과 대응되는 상기 라이 다 좌표의 위치를 기초로 상기 이미지 픽셀 좌표를 군집화하는 단계; 군집화된 상기 이미지 픽셀 좌표를 기초로 상기 GPS 데이터와 대응되는 컬러 맵 데이터를 형성하는 단계;를 포함할 수 있다. 상기 복수의 GPS좌표를 이미지 픽셀 좌표로 변환하는 단계는, 상기 복수의 GPS좌표를 라이다 좌표로 변환하는 단계; 및 상기 라이다 좌표를 상기 이미지 픽셀 좌표로 변환하 는 단계;를 포함할 수 있다. 상기 컬러 맵 데이터를 형성하는 단계는, 상기 라이다 좌표와 가장 가까운 군집화된 상기 이미지 픽셀 좌표를 기초로 상기 컬러 맵 데이터를 형성하는 단계;를 포함할 수 있다. 상기 컬러 맵 데이터를 형성하는 단계는, 상기 라이다 좌표와 가장 가까운 군집화된 상기 이미지 픽셀 좌표에 RGB 값을 입력하여 상기 컬러 맵 데이터를 형성하는 단계;를 포함할 수 있다. 상기 복수의 GPS좌표를 이미지 픽셀 좌표로 변환하는 단계는, 상기 GPS 데이터에 포함되는 복수의 체크 포인트 를 결정하는 단계; 및 상기 복수의 체크 포인트와 대응되는 상기 복수의 GPS 좌표를 상기 이미지 픽셀로 변환하 는 단계;를 포함하고, 상기 복수의 체크 포인트는 미리 결정된 기준 거리 이상 이격되6_도록 결정될 수 있다. 상기 컬러 맵 데이터는, 복수개의 키(key) 정보를 포함하는 해시 맵(Hash map)으로 형성될 수 있다. 상기 컬러 맵 데이터를 형성하는 단계는, 상기 복수의 키 정보 중 상기 이미지 픽셀 좌표에 대응되는 등록 키 정보가 존재하면,상기 등록 키 정보와 상기 GPS 데이터 및 컬러 정보를 매칭할 수 있다. 상기 컬러 맵 데이터를 형성하는 단계는, 상기 복수의 키 정보 중 상기 이미지 픽셀 좌표에 대응되는 등록 키 정보가 존재하지 않으면, 상기 이미지 픽셀 좌표에 대응되는 추가 등록 키 정보를 생성하고, 상기 추가 등록 키 정보와 상기 GPS 데이터 및 컬러 정보를 매칭할 수 있다. 상기 이미지 픽셀 좌표를 군집화하는 단계는, 상기 이미지 픽셀 좌표를 포함하는 복수개의 군집의 거리의 분산 을 최소화 하는 알고리즘으로 수행될 수 있다. 일 실시예에 따른 컬러 맵 생성 장치는 GPS 신호를 수신하는 통신부; 적어6_도 하나의 객체의 라이다 좌표를 획 득하는 라이다; 이미지 데이터를 획득하는 카메라; GPS신호를 수신하여 GPS데이터를 형성하고, 상기 GPS데이터에 포함된 상기 복수의 GPS좌표를 이미지 픽셀 좌표로 변환하고, 해시 맵을 형성하여, 상기 이미 지 픽셀 좌표를 키 정보로 결정하고, 상기 키 정보와 상기 GPS 데이터 및 컬러 정보를 버켓(bucket)으로 매칭하 고, 상기 복수의 GPS좌표 각각과 대응되는 상기 라이다 좌표의 위치를 기초로 상기 이미지 픽셀 좌표를 군집화 하고, 군집화된 상기 이미지 픽셀 좌표를 기초로 상기 GPS 데이터와 대응되는 컬러 맵 데이터를 형성하는 제어 부;를 포함할 수 있다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 74, "content": "6_발명의 효과 본 발명에 따른 효과는 다음과 같다. 일 실시예에 따른 컬러 맵 생성 방법은 각 픽셀마다 컬러 정보 및 장애물 정보를 매칭 시켜 정확한 컬러 맵 정 보를 형성할 수 있다. 일 실시예에 따른 컬러 맵 생성 방법은 별6_도의 하드웨어 추가 없이 정확6_도 높은 맵 정보를 형성하여 비용을 절감할 수 있다. 일 실시예에 따른 컬러 맵 생성 방법은 정확한 맵 정보를 형성하므로서 컬러 맵 정보를 이용하는 사용자의 안전 성을 확보할 수 있다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 75, "content": "본 발명의 효과들은 이상에서 언급한 효과들로 제한되지 않으며, 언급되지 않은 또 다른 효과들은 아래의 기재 로부터 통상의 기술자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 76, "content": "6_도면의 간단한 설명 6_도1은 일 실시예에 따른 컬러 맵 생성 장치의 제어블럭6_도이다. 6_도2는 일 실시예에 따른 컬러 맵 정보를 형성하는 순서6_도이다. 6_도3은 일 실시예에 따른 해시 맵을 형성하는 동작을 설명하기 위한 순서6_도이다. 6_도4는 일 실시예에 따른 본 발명의 해시 맵(hash map)을 설명하기 위한 6_도면이다. 6_도5및 6_도6는 일 실시예에 따른 GPS 정보, 라이다 정보 및 이미지 정보의 대응 관계를 설명하기 위한 6_도면 이다."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 77, "content": "6_발명을 실시하기 위한 구체적인 내용 본 발명은 다양한 변경을 가할 수 있고 여러 가지 실시예를 가질 수 있는 바, 특정 실시예들을 6_도면에 예시하 고 상세한 설명에 상세하게 설명하고자 한다. 그러나, 이는 본 발명을 특정한 실시 형태에 대해 한정하려는 것 이 아니며, 본 발명의 사상 및 기술 범위에 포함되는 모든 변경, 균등물 내지 대체물을 포함하는 것으로 이해되 어야 한다. 각 6_도면을 설명하면서 유사한 참조부호를 유사한 구성요소에 대해 사용하였다. 제1, 제2, A, B 등의 용어는 다양한 구성요소들을 설명하는데 사용될 수 있지만, 상기 구성요소들은 상기 용어 들에 의해 한정되어서는 안 된다. 상기 용어들은 하나의 구성요소를 다른 구성요소로부터 구별하는 목적으로만 사용된다. 예를 들어, 본 발명의 권리 범위를 벗어나지 않으면서 제1 구성요소는 제2 구성요소로 명명될 수 있 고, 유사하게 제2 구성요소6_도 제1 구성요소로 명명될 수 있다. 및/또는 이라는 용어는 복수의 관련된 기재된 항목들의 조합 또는 복수의 관련된 기재된 항목들 중의 어느 항목을 포함한다. 어떤 구성요소가 다른 구성요소에 \"연결되어\" 있다거나 \"접속되어\" 있다고 언급된 때에는, 그 다른 구성요소에 직접적으로 연결되어 있거나 또는 접속되어 있을 수6_도 있지만, 중간에 다른 구성요소가 존재할 수6_도 있다고이해되어야 할 것이다. 반면에, 어떤 구성요소가 다른 구성요소에 \"직접 연결되어\" 있다거나 \"직접 접속되어\" 있다고 언급된 때에는, 중간에 다른 구성요소가 존재하지 않는 것으로 이해되어야 할 것이다. 본 출원에서 사용한 용어는 단지 특정한 실시예를 설명하기 위해 사용된 것으로, 본 발명을 한정하려는 의6_도 가 아니다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 출원에서, \"포 함하다\" 또는 \"가지다\" 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 다르게 정의되지 않는 한, 기술적이거나 과학적인 용어를 포함해서 여기서 사용되는 모든 용어들은 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에 의해 일반적으로 이해되는 것과 동일한 의미를 가지고 있다. 일 반적으로 사용되는 사전에 정의되어 있는 것과 같은 용어들은 관련 기술의 문맥 상 가지는 의미와 일치하는 의 미를 가지는 것으로 해석되어야 하며, 본 출원에서 명백하게 정의하지 않는 한, 이상적이거나 과6_도하게 형식 적인 의미로 해석되지 않는다. 이하, 본 발명에 따른 바람직한 실시예를 첨부된 6_도면을 참조하여 상세하게 설명한다. 6_도1은 일 실시예에 따른 컬러 맵 생성 장치의 제어블럭6_도이다. 일 실시예에 따른 컬러 맵 생성 장치는 통신부, 라이다, 카메라 및 제어부를 포함할 수 있다. 통신부는 GPS신호를 수신할 수 있다. 제어부는 통신부가 수신한 GPS신호를 기초로 GPS데이터를 형성할 수 있으며 GPS데이터 각각에 GPS좌표를 대응시킬 수 있다. 라이다는 라이다 신호를 송신 및 수신할 수 있어 주변 물체의 위치 정보를 획득할 수 있다. 또한 카메라 는 주변 이미지를 획득할 수 있다 제어부는 통신부, 라이다 및 카메라가 획득한 데이터를 통합하여 GPS데이터를 카메라가 획득한 이미지 데 이터에 투영시킬 수 있다. 6_도1과 6_도2를 함께 참고하면, 제어부는 통신부가 수신한 GPS 신호를 기초로 GPS데이터를 형성할 수 있다 (S1). 한편 제어부는 GPS데이터의 GPS좌표를 카메라가 획득한 이미지의 픽셀 좌표로 변환할 수 있다(S2). 한편 제어부가 GPS좌표를 이미지 픽셀 좌표로 변환할 때 GPS좌표를 라이다 좌표로 변환하고 변환한 라이다 좌표 를 카메라가 획득한 이미지의 이미지 픽셀 좌표로 변환할 수 있다. 한편 본 발명의 전반적인 동작에 있어서 MMS(Mobile Mapping System)가 이용될 수 있다. 일 실시예에 따른MMS에서는 0.1초 주기로 이미지와 라이다 데이터가 수집되고 0.005초 주기로 GPS 데이터를 기 록한다. 한편 제어부는 기록된 GPS 데이터를 이용하여 체크포인트를 생성할 수 있다. 한편 본 발명으 카메라는 초당 10회의 속6_도로 사진이 기록되지만, 해당 사진들을 0.1초 간격으로 모두 투영 원활한 매핑이 어려울 수 있다. 따라서 제어부는 실제로 투영에 이용할 이미지를 일정 거리 차이를 두어서 결정할 수 있다. 즉 제어부는 체크 포인트를 미리 결정된 기준 거리 이상 이격 되6_도록 결정할 수 있다. 이러한 동작을 위하여 제어부는 기록된 GPS 데이터를 토대로 누적 거리를 계산하고, 일정 거리가 6_도달했을 때 마다 GPS 데이터 인덱스(Data Index)를 저장할 수 있다. 한편 해당 인덱스들은 후술하는 체크 포인트를 의미할 수 있으며 투영 기준점의 위치를 나타낼 수 있다. 즉 제어부는 복수의 체크 포인트와 대응되는 복수의 GPS 좌표를 상기 이미지 픽셀로 변환할 수 있다. 한편 제어부는 이미지 픽셀 좌표와 상기 복수의 GPS좌표와 대응되는 상기 GPS 데이터 및 컬러 정보와 매칭 시킬 수 있다. 이러한 동작은 제어부가 이미지 픽셀 좌표를 기초로 해시 맵(hash map)을 형성하여 구현될 수 있다 .한편 제어부가 해시 맵을 형성하는 구체적인 동작은 6_도3에서 서술한다. 제어부는 복수의 GPS좌표 각각과 대응되는 라이다 좌표의 위치를 기초로 이미지 픽셀 좌표를 군집화 할 수 있다 (S4). 구체적으로 체크 포인트 GPS좌표와 이미지 픽셀 좌표의 매칭이 끝나면 카마라 획득한 이미지의 이미지 픽셀 좌 표는 라이다가 획득한 라이다 좌표 각각과 대응될 수 있다. 제어부는 각각의 이미지 픽셀 좌표를 유클리드 클러 스터링 알고리즘(Euclidean Clustering Algorithm)을 이용하여 서로 가까운 거리에 있는 점들을 군집화 할 수 있다. 한편 유클리드 클러스터링 알고리즘은 이미지 픽셀 좌표를 포함하는 복수개의 군집의 거리의 분산을 최소화하는 동작을 포함할 수 있다. 제어부는 라이다 좌표와 가장 가까운 군집화 된 상기 이미지 픽셀 좌표를 기초로 컬러 맵 데이터를 형성할 수 있다. 구체적으로 제어부는 라이다 좌표계 원점을 기준으로 하여 가장 가까운 거리에 있는 군집에 속한 점들을 투영 대상 점으로 설정하고, 나머지 군집들은 색 투영에서 제외할 수 있다. 제어부는 군집화 된 이미지 픽셀 좌표를 기초로 GPS 데이터와 대응되는 컬러 맵 데이터를 형성할 수 있다(S5). 구체적으로 제어부는 원점에서 가장 가까운 군집에 해당하는 점들, 즉 투영 대상점으로 선정된 점들에 대해 해 당 픽셀의 RGB 값을 입력하고, 맵에 누적하여 맵 데이터를 형성할 수 있다. 한펴 6_도1 및 6_도2에서 설명하는 컬러 맵 생성 장치의 각 구성 및 각 구성에 대응하는 동작은 본 발명의 일 실시예에 불과하고 그 동작의 제한은 없다. 6_도3은 일 실시예에 따른 해시 맵을 형성하는 동작을 설명하기 위한 순서6_도이고, 6_도4는 일 실시예에 따른 본 발명의 해시 맵(hash map)을 설명하기 위한 6_도면이다. 6_도3및 6_도4를 참고하면, 해시 맵은 컴퓨팅에서 키를 값에 매핑할 수 있는 구조인, 연관 배열 추가에 사용되 는 자료 구조를 의미할 수 있다. 해시 맵은 해시 함수를 사용하여 색인(index, Key, K41)을 버킷(bucket, B41, B42)으로계산한다. 본 발명에서는 GPS좌표가 라이다 좌표로 변환될 수 있다. 또한 라이다 좌표는 이미지 픽셀 좌표로 대응될 수 있 다. 한편 본 발명의 일 실시예에서는 이미지 픽셀 좌표가 해시 맵의 키 정보(Key, K41)에 대응될 수 있고, 해당 키 정보에 GPS좌표에 대응되는 GPS데이터(B41)와 해당 GPS 좌표에 대응되는 컬러 정보(B42)가 각각 버켓에 대응될 수 있다. 구체적으로 제어부는 픽셀 정보를 기초로 해시 맵을 생성하는 동작을 시작할 수 있다(S11). 한편 제어부가 해시 맵 생성을 시작하면 GPS 좌표를 라이다 좌표로 변환할 수 있다(S12). 또한 제어부는 이에 이어서 라이다 좌표를 이미지 픽셀 좌표로 변환할 수 있다(S13). 즉 제어부는 점군 맵이 있다고 가정하고, 각 체크포인트를 기준으로 해서 일정 거리 이하의 점들만 예비 투영 대상으로 결정할 수 있다. 이후제어부는 투영 대상으로 선정된 점들을 점군 맵 생성과정의 역으로 계산하여 라이다 좌표계로 전환시킨다. 제어부는 라이다 좌표계로 전환된 점들을 원근투영변환을 이용해 이미지 픽셀 좌표(pixel_x, pixel_y)로 변환시 킨다. 구체적인 변환 과정은 아래에 서술한다. 제어부는 GPS좌표를 아래 수학식1을 이용하여 라이다 좌표료 변환시킬 수 있다. 6_수학식 1"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 78, "content": "L은 라이다 좌표를 의미한다. RL2I은 라이다에서 IMU로 전환되는 행렬을 의미한다. Rckpt는 체크 포인트의 로테 이션 데이터를 의미한다. RI2W는 IMU에서 GPS좌표계의 전환 행렬을 의미한다. W는 GPS좌표를 의미하고 G는 해당 체크 포인트에서의 GPS데이터를 의미한다. TL2I은 라이다에서 IMU로 변환되는 행렬을 의미한다. 한편 각 좌표계의 로테이션 행렬는 오일러각을 이용한 행렬로 표현될 수 있다. 이와 관련된 행렬은 수학식2와 같다. 6_수학식 2"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 79, "content": "한편 이렇게 변환된 라이다 좌표는 다시 이미지 픽셀 좌표로 변환될 수 있다. 라이다 좌표가 이미지 픽셀 좌표 로 변환되는 동작은 아래의 수학식3을 기초로 구현될 수 있다. 6_수학식 3"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 80, "content": "수학식3을 참고하면 RL2C는 라이다에서 카메라 로테이션(rotation)의 행렬을 의미한다. TL2C는 라이다에서 카메 라 전환(translation) 행렬을 의미한다. fx 및 fy는 초점 거리를 의미한다. cx 및 cy는 주점을 의미한다. Pixelx 및 pixely는 이미지 픽셀 좌표를 의미한다. 제어부는 상술한 동작을 기초로 GPS 좌표를 라이다 좌표로 변환하고, 라이다 좌표를 이미지 픽셀 좌표로 변환할 수 있다. 해시 맵에 이렇게 형성된 이미지 픽셀 좌표에 대응되는 키 정보가 존재하면(S14), 제어부는 키 정보에 GPS데이 터 및 컬러 정보를 매칭 시켜 해시 맵을 형성할 수 있다(S16). 반면 형성된 이미지 픽셀 좌표에 대응되는 키 정보(K41)가 해시 맵에 존재하지 않으면 제어부는 이미지 픽셀 좌 표에 대응되는 추가 등록 키 정보를 생성하고, 추가 등록 키 정보와 GPS 데이터(B41) 및 컬러 정보(B42)를 매칭 할 수 있다. 상술한 동작을 제어부는 이미지 픽셀 좌표를 키 정보로하고 GPS데이터와 컬러 정보를 버켓으로 하는 해시 맵을 생성할 수 있다 한편 상술한 동작은 본 발명의 일 실시예에 불과하며 제어부가 이미지 픽셀 좌표와 데이터를 대응시켜 해시맵을 생성하는 동작의 제한은 없다. 6_도5및 6_도6는 일 실시예에 따른 GPS 정보, 라이다 정보 및 이미지 정보의 대응 관계를 설명하기 위한 6_도면 이다. 6_도5 및 6_도6에서는, 본 발명의 동작을 설명하기 위하여 맵 정보에 있어서 6_도로 및 숲에 대응되는 컬러 맵 정보를 형성하는 동작을 설명한다. 기존의 컬러 맵은 6_도5와같이 생성될 수 있다. 기존의 컬러 맵에서는 6_도로 주변의 물체인 나무의 화분(I52) 의 색이 6_도로(I51)에 입혀지는 문제점이 있었다. 한편 본 발명의 일 실시예에 따른 컬러 맵 생성 장치는 6_도로의 GPS좌표 및 GPS좌표에 대응되는 GPS데이터를 획득할 수 있다. 한편 컬러 맵 생성 장치는 GPS장치를 변환하여 라이다 좌표를 생성할 수 있다. 또한 생성된 라 이다 좌표는 변환되어 이미지 픽셀 좌표로 생성될 수 있다. 6_도로에 대응되는 이미지 픽셀 좌표는 I61로 생성 될 수 있다. 한편 일 실시예 따른 컬러 맵 생성 장치는 6_도로 주변의 물체의 GPS좌표 및 GPS좌표에 대응되는 GPS데이터를 획득할 수 있다. 한편 컬러 맵 생성 장치는 GPS장치를 변환하여 라이다 좌표를 생성할 수 있다. 또한 생성된 라 이다 좌표는 변환되어 이미지 픽셀 좌표로 생성될 수 있다. 6_도로 주변의 물체인 나무의 화분의 이미지 픽셀 좌표는 I62로 결정될 수 있다. 한편 각 이미지 픽셀 좌표는 해시 맵을 통하여 컬러 정보가 대응될 수 있으므로 6_도5와 같이 색 정보가 다르게 입히는 것이 아닌 올바르게 입혀질 수 있다. 이러한 동작을 기초로 컬러 맵 생성 장치는 컬러 맵 정보를 생성할 수 있다. 즉 컬러 맵 생성 장치는 6_도로 (I61)에 대응되는 이미지 픽셀 좌표에 해당 객체의 GPS데이터와 컬러 정보를 대응시키고 화분(I62)에 대응되는 이미지 픽셀 좌표에 해당 객체의 GPS데이터와 컬러 정보를 대응시켜 장애물에 가려진 영역에 대해서6_도 올바른 색 데이터가 적용된 컬러 맵 정보를 생성할 수 있다. 제어부는 6_도로가 빨강으로 표현된 컬러 맵 정보를 형성할 수 있다. 이상 첨부된 6_도면을 참조하여 본 발명의 실시 예들을 설명하였지만, 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자는 본 발명이 그 기술적 사상이나 필수적인 특징을 변경하지 않고서 다른 구체적인 형태로 실시 될 수 있다는 것을 이해할 수 있을 것이다. 그러므로 이상에서 기술한 실시 예들은 모든 면에서 예시적인 것이 며 한정적이 아닌 것으로 이해해야만 한다. 6_부호의 설명 10 : 컬러 맵 생성 장치 100 : 통신부 200 : 카메라 300 : 라이다 400 : 제어부 6_청구범위 6_청구항 1 GPS신호를 수신하여 GPS데이터를 형성하는 단계; 상기 GPS데이터에 포함된 상기 복수의 GPS좌표를 이미지 픽셀 좌표로 변환하는 단계; 상기 이미지 픽셀 좌표와 상기 복수의 GPS좌표와 대응되는 상기 GPS 데이터 및 컬러 정보와 매칭 시키는 단계; 상기 복수의 GPS좌표 각각과 대응되는 상기 라이다 좌표의 위치를 기초로 상기 이미지 픽셀 좌표를 군집화하는 단계; 군집화된 상기 이미지 픽셀 좌표를 기초로 상기 GPS 데이터와 대응되는 컬러 맵 데이터를 형성하는 단계;를 포 함하는 컬러 맵 생성 방법. 6_청구항 2 제1항에 있어서, 상기 복수의 GPS좌표를 이미지 픽셀 좌표로 변환하는 단계는, 상기 복수의 GPS좌표를 라이다 좌표로 변환하는 단계; 및 상기 라이다 좌표를 상기 이미지 픽셀 좌표로 변환하는 단계;를 포함하는 컬러 맵 생성 방법. 6_청구항 3 제2항에 있어서, 상기 컬러 맵 데이터를 형성하는 단계는, 상기 라이다 좌표와 가장 가까운 군집화된 상기 이미지 픽셀 좌표를 기초로 상기 컬러 맵 데이터를 형성하는 단 계;를 포함하는 컬러 맵 생성 방법. 6_청구항 4 제3항에 있어서, 상기 컬러 맵 데이터를 형성하는 단계는, 상기 라이다 좌표와 가장 가까운 군집화된 상기 이미지 픽셀 좌표에 RGB 값을 입력하여 상기 컬러 맵 데이터를 형성하는 단계;를 포함하는 컬러 맵 생성 방법. 6_청구항 5 제1항에 있어서, 상기 복수의 GPS좌표를 이미지 픽셀 좌표로 변환하는 단계는, 상기 GPS 데이터에 포함되는 복수의 체크 포인트를 결정하는 단계; 및 상기 복수의 체크 포인트와 대응되는 상기 복수의 GPS 좌표를 상기 이미지 픽셀로 변환하는 단계;를 포함하고, 상기 복수의 체크 포인트는 미리 결정된 기준 거리 이상 이격되6_도록 결정되는 컬러 맵 생성 방법. 6_청구항 6 제1항에 있어서, 상기 컬러 맵 데이터는, 복수개의 키(key) 정보를 포함하는 해시 맵(Hash map)으로 형성되는 컬러 맵 생성 방법. 6_청구항 7 제6항에 있어서, 상기 컬러 맵 데이터를 형성하는 단계는, 상기 복수의 키 정보 중 상기 이미지 픽셀 좌표에 대응되는 등록 키 정보가 존재하면, 상기 등록 키 정보와 상기 GPS 데이터 및 컬러 정보를 매칭하는 컬러 맵 생성 방법. 6_청구항 8 제6항에 있어서, 상기 컬러 맵 데이터를 형성하는 단계는, 상기 복수의 키 정보 중 상기 이미지 픽셀 좌표에 대응되는 등록 키 정보가 존재하지 않으면, 상기 이미지 픽셀 좌표에 대응되는 추가 등록 키 정보를 생성하고, 상기 추가 등록 키 정보와 상기 GPS 데이터 및 컬러 정보를 매칭하는 컬러 맵 생성 방법. 6_청구항 9 제1항에 있어서, 상기 이미지 픽셀 좌표를 군집화하는 단계는, 상기 이미지 픽셀 좌표를 포함하는 복수개의 군집의 거리의 분산을 최소화 하는 알고리즘으로 수행되는 컬러 맵 생성 방법. 6_청구항 10 GPS 신호를 수신하는 통신부; 적어6_도 하나의 객체의 라이다 좌표를 획득하는 라이다; 이미지 데이터를 획득하는 카메라; GPS신호를 수신하여 GPS데이터를 형성하고, 상기 GPS데이터에 포함된 상기 복수의 GPS좌표를 이미지 픽셀 좌표로 변환하고, 해시 맵을 형성하여, 상기 이미지 픽셀 좌표를 키 정보로 결정하고, 상기 키 정보와 상기 GPS 데이터 및 컬러 정보를 버켓(bucket)으로 매칭하고, 상기 복수의 GPS좌표 각각과 대응되는 상기 라이다 좌표의 위치를 기초로 상기 이미지 픽셀 좌표를 군집화하고, 군집화된 상기 이미지 픽셀 좌표를 기초로 상기 GPS 데이터와 대응되는 컬러 맵 데이터를 형성하는 제어부;를 포함하는 컬러 맵 생성 장치."}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 81, "content": "6_요약서"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 82, "content": "6_요약 본 발명은 각 픽셀마다 컬러 정보 및 장애물 정보를 매칭 시켜 정확한 컬러 맵 정보를 형성하는 컬러 맵 생성 방법을 제공한다. 일 실시예에 따른 컬러 맵 생성 방법은 GPS신호를 수신하여 GPS데이터를 형성하는 단계; 상기 GPS데이터에 포함 된 상기 복수의 GPS좌표를 이미지 픽셀 좌표로 변환하는 단계; 상기 이미지 픽셀 좌표와 상기 복수의 GPS좌표와 대응되는 상기 GPS 데이터 및 컬러 정보와 매칭 시키는 단계; 상기 복수의 GPS좌표 각각과 대응되는 상기 라이 다 좌표의 위치를 기초로 상기 이미지 픽셀 좌표를 군집화하는 단계; 군집화된 상기 이미지 픽셀 좌표를 기초로 상기 GPS 데이터와 대응되는 컬러 맵 데이터를 형성하는 단계;를 포함할 수 있다. 6_대표도 6_도2 6_도면 6_도 1 6_도 2"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 83, "content": "6_도 3 6_도 4"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 84, "content": "6_도 5"}
{"patent_id": "10-2023-0004677", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 85, "content": "6_도 6"}
{"patent_id": "10-2023-0004677", "section": "도면", "subsection": "도면설명", "item": 1, "content": "1_도 1은 본 발명의 일 실시예에 따른, 라이다 카메라 동기화 장치의 사시1_도이다. 1_도 2은 본 발명의 일 실시예에 따른, 라이다 카메라 동기화 장치의 평면1_도이다. 1_도 3은 본 발명의 일 실시예에 따른, 라이다와 카메라의 화각 중심선을 비교하기 위한 예시이다. 1_도 4은 본 발명의 일 실시예에 따른, 라이다의 회전에 따른 트리거 타이밍을 계산하는 방법을 설명하기 위한 예시이다. 1_도 5은 본 발명의 일 실시예에 따른, 라이다 카메라 동기화 장치의 구성1_도이다. 1_도 6은 본 발명의 일 실시예에 따른, 라이다와 카메라의 동기화 방법 중에서 트리거 타이밍 1_도출에 관한 순 서1_도이다. 1_도 7은 본 발명의 일 실시예에 따른, 라이다와 카메라의 동기화 방법에 따른 카메라 촬영 방법에 관한 순서1_ 도이다. 1_도 8은 본 발명의 일 실시예에 따른, 복수의 카메라를 포함하는 라이다 카메라 동기화 장치에서 트리거 타이 밍을 계산하는 방법을 설명하기 위한 예시이다. 1_도 9은 본 발명의 일 실시예에 따른, 라이다 카메라 동기화 장치의 실험 결과이다. 1_도 10는 본 발명의 일 실시예에 따른, 라이다와 카메라가 동기화되어 출력된 센싱 데이터와 영상 데이터의 합 성 영상이다. 1_"}
