{"patent_id": "10-2023-0051217", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0154816", "출원번호": "10-2023-0051217", "발명의 명칭": "인공지능 기반 질병 진단 및 치료계획 생성 방법, 장치 및 컴퓨터 프로그램", "출원인": "탈로스 메디컬 테크널러지 컴퍼니 리미티드", "발명자": "유승훈"}}
{"patent_id": "10-2023-0051217", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "인공지능 기반 질병 진단 및 치료 계획 생성 방법으로서:환자의 자기공명 (magnetic resonance; MR) 영상을 획득하는 단계;다른 환자들의 MR 영상들 및 컴퓨터 단층촬영 (computed tomography; CT) 영상들을 이용하여 훈련된 제1 머신러닝 모델에 기반하여, 상기 환자의 MR 영상으로부터 합성 CT (synthetic CT; sCT) 영상을 생성하는 단계;제2 머신러닝 모델에 기반하여, 상기 환자의 MR 영상에 포함된 복수의 영역들의 산소농도 분포를 출력하는단계; 및상기 생성된 sCT 영상 및 상기 계산된 산소농도 분포에 기반하여 상기 환자의 치료 계획을 생성하는 단계를 포함하는, 인공지능 기반 질병 진단 및 치료 계획 생성 방법."}
{"patent_id": "10-2023-0051217", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "상기 환자의 MR 영상을 획득하는 단계는:상기 환자의 저자장 MR 영상을 획득하는 단계; 및제3 머신러닝 모델에 기반하여, 상기 저자장 MR 영상으로부터 상기 저자장 MR 영상보다 고자장 MR 영상인 상기MR 영상을 획득하는 단계를 포함하는, 인공지능 기반 질병 진단 및 치료 계획 생성 방법."}
{"patent_id": "10-2023-0051217", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1 항에 있어서,상기 MR 영상은, T1 강조 (weighted) MR 영상, T2 강조 MR 영상, 및 확산강조 (diffusion weighted; DW) MR 영상을 포함하는, 인공지능 기반 질병 진단 및 치료 계획 생성 방법."}
{"patent_id": "10-2023-0051217", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 3 항에 있어서,상기 T1 강조 MR 영상 및 상기 T2 강조 MR 영상을 이용하여, 상기 환자의 MR 영상에서 암 조직을 식별하는 단계를 더 포함하는, 인공지능 기반 질병 진단 및 치료 계획 생성 방법."}
{"patent_id": "10-2023-0051217", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 3 항에 있어서,상기 환자의 MR 영상에 포함된 복수의 영역들의 산소농도 분포를 출력하는 단계는:상기 제2 머신러닝 모델에 기반하여, 상기 DW MR 영상의 신호 분포로부터 상기 산소농도 분포를 출력하는 단계를 포함하는, 인공지능 기반 질병 진단 및 치료 계획 생성 방법."}
{"patent_id": "10-2023-0051217", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 1 항에 있어서,상기 환자의 MR 영상은 상기 환자의 제1 신체 영역을 커버하고,상기 생성된 sCT 영상은 상기 제1 신체 영역보다 더 넓은 제2 신체 영역을 커버하는, 인공지능 기반 질병 진단및 치료 계획 생성 방법.공개특허 10-2024-0154816-3-청구항 7 제 1 항에 있어서,제4 머신러닝 모델에 기반하여, 상기 환자의 MR 영상에서 정상 조직, 양성 종양, 및 악성 종양을 분류하여 암을진단하는 단계; 및제5 머신러닝 모델에 기반하여, 진단된 암의 병기 및 진행속도에 따른 치료 전략을 수립하는 단계를 더 포함하는, 인공지능 기반 질병 진단 및 치료 계획 생성 방법."}
{"patent_id": "10-2023-0051217", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 1 항에 있어서,제6 머신러닝 모델에 기반하여, 상기 환자의 MR 영상에서 암 조직 구조를 그리는(drawing) 단계; 및 상기 환자의 MR 영상의 상기 암 조직 구조를 상기 생성된 sCT 영상에 정합하는 단계를 더 포함하는, 인공지능기반 질병 진단 및 치료 계획 생성 방법."}
{"patent_id": "10-2023-0051217", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 8 항에 있어서,상기 치료 계획을 생성하는 단계는:상기 암 조직 구조 및 상기 계산된 산소농도 분포에 기반하여 방사선 치료 선량을 계산하는 단계를 포함하는,인공지능 기반 질병 진단 및 치료 계획 생성 방법."}
{"patent_id": "10-2023-0051217", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제 9 항에 있어서,상기 방사선 치료 선량은, 상기 암 조직 구조 중 산소 농도가 더 적은 부위에서 더 증가하는, 인공지능 기반 질병 진단 및 치료 계획 생성 방법."}
{"patent_id": "10-2023-0051217", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제 10 항에 있어서,상기 방사선 치료 선량의 증가 효과를 정상 조직의 부작용 비율로 환산하는 단계를 더 포함하는, 인공지능 기반질병 진단 및 치료 계획 생성 방법."}
{"patent_id": "10-2023-0051217", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "상기 방사선 치료 선량은, 상기 sCT 영상에서 상기 암 조직 구조에 대응하는 각각의 복셀에 대해 계산되는, 인공지능 기반 질병 진단 및 치료 계획 생성 방법."}
{"patent_id": "10-2023-0051217", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제 1 항 내지 제 12 항 중 어느 한 항의인공지능 기반 질병 진단 및 치료 계획 생성 방법을, 하드웨어와 결합되어 실행시키기 위하여 매체에 저장되는 컴퓨터 프로그램."}
{"patent_id": "10-2023-0051217", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "인스트럭션들을 저장하도록 구성된 메모리; 및프로세서를 포함하는 전자 디바이스로서, 상기 프로세서는, 상기 인스트럭션들을 실행함으로써:환자의 자기공명 (magnetic resonance; MR) 영상을 획득하고,다른 환자들의 MR 영상들 및 컴퓨터 단층촬영 (computed tomography; CT) 영상들을 이용하여 훈련된 제1 머신러닝 모델에 기반하여, 상기 환자의 MR 영상으로부터 합성 CT (synthetic CT; sCT) 영상을 생성하고,제2 머신러닝 모델에 기반하여, 상기 환자의 MR 영상에 포함된 복수의 영역들의 산소농도 분포를 출력하고,공개특허 10-2024-0154816-4-상기 생성된 sCT 영상 및 상기 계산된 산소농도 분포에 기반하여 상기 환자의 치료 계획을 생성하도록구성되는, 전자 디바이스."}
{"patent_id": "10-2023-0051217", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 개시에 따르면, 인공지능 기반 질병 진단 및 치료 계획 생성 방법으로서: 환자의 자기공명 (magnetic resonance; MR) 영상을 획득하는 단계; 다른 환자들의 MR 영상들 및 컴퓨터 단층촬영 (computed tomography; CT) 영상들을 이용하여 훈련된 제1 머신러닝 모델에 기반하여, 환자의 MR 영상으로부터 합성 CT (synthetic CT; sCT) 영상을 생성하는 단계; 제2 머신러닝 모델에 기반하여, 환자의 MR 영상에 포함된 복수의 영역들의 산소농도 분포를 출력하는 단계; 및 생성된 sCT 영상 및 계산된 산소농도 분포에 기반하여 환자의 치료 계획을 생성하는 단계를 포함하는, 인공지능 기반 질병 진단 및 치료 계획 생성 방법이 개시된다."}
{"patent_id": "10-2023-0051217", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "개시된 실시예는 인공지능 (artificial intelligence; AI) 기반 질병 진단 및 치료계획 생성 방법, 장치 및 컴 퓨터 프로그램에 관하며, 구체적으로는, 자기공명 (magnetic resonance; MR) 영상으로부터 인공지능 기반 컴퓨 터 단층촬영 (computed tomography; CT) 영상을 생성하여 질병을 진단하고 치료계획을 생성하는 것에 관한다."}
{"patent_id": "10-2023-0051217", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "특정 암, 예를 들어, 전립선 암은 연조직 (soft tissue) 특성상 CT 영상에서 보다 MR 영상에서 더 효과적으로 식별되므로, 해당 암의 진단을 위해 MR 영상이 이용된다. 암의 방사선 요법 치료를 진행하기 위해서는, 광자 (photon) 를 이용하는 선형가속기 (linear accelerator; LINAC) 치료 장비 및 양성자 (proton) 를 이용하는 양성자 치료 장비가 이용될 수 있다. 이때, 암의 치료 계획 을 세우기 위해서는, 방사선의 치료선량을 계산하기 위해 추가적으로 CT 영상의 획득이 필요하다. MR 영상에는 HU (Hounsfield Unit) 에 관한 정보가 포함되어 있지 않아 치료선량을 계산할 수 없는 반면, CT 영상에는 HU에 관한 정보가 포함되어 있기 때문이다. 특정 암, 예를 들어, 전립선 암은 연조직 특성상 MR 영상에서 더 효과적으로 식별되므로, 추가적으로 획득된 CT 영상에서 MR 영상을 이용한 영상 정합 (image registration) 을 통해 암 조직의 구조를 그릴 수 있다. 하지만, MR 영상과 CT 영상 촬영 시 환자의 내부 장기 상황이 상이하여, 영상 정합의 정확성이 하락하는 문제가 있다. 영상 정합의 정확성이 하락할 경우, 방사선 수술 부위의 설정에 있어 정확도가 하락할 수 있다. MR 영상으로부터 합성 CT (synthetic CT; sCT) 영상을 직접 생성함으로써 추가적인 CT 영상 촬영 없이도 MR 영 상과 같은 구조의 CT 영상을 생성하려는 연구가 계속되고 있다."}
{"patent_id": "10-2023-0051217", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 개시는 MR 영상으로부터 합성 CT (sCT) 영상을 생성하는 방법을 제공하고자 한다. 본 개시는 MR 영상을 이용하여 합성 CT (sCT) 영상에서 암 조직을 자동으로 그리는 방법을 제공하고자 한다. 본 개시는 MR 영상으로부터 획득된 산소농도 분포를 이용하여 최적의 치료선량을 계산하는 방법을 제공하고자 한다."}
{"patent_id": "10-2023-0051217", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 개시에 따르면, 인공지능 기반 질병 진단 및 치료 계획 생성 방법으로서: 환자의 자기공명 (magnetic resonance; MR) 영상을 획득하는 단계; 다른 환자들의 MR 영상들 및 컴퓨터 단층촬영 (computed tomography; CT) 영상들을 이용하여 훈련된 제1 머신러닝 모델에 기반하여, 환자의 MR 영상으로부터 합성 CT (synthetic CT; sCT) 영상을 생성하는 단계; 제2 머신러닝 모델에 기반하여, 환자의 MR 영상에 포함된 복수의 영역들의 산소농 도 분포를 출력하는 단계; 및 생성된 sCT 영상 및 계산된 산소농도 분포에 기반하여 환자의 치료 계획을 생성하 는 단계를 포함하는, 인공지능 기반 질병 진단 및 치료 계획 생성 방법이 개시된다."}
{"patent_id": "10-2023-0051217", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 개시에 따르면, MR 영상으로부터 합성 CT (sCT) 영상을 생성함으로써, CT 영상 촬영 과정에서 발생하는 피폭 을 최소화하고 방사선 치료 과정을 단축할 수 있다. 본 개시에 따르면, MR 영상을 이용하여 합성 CT (sCT) 영상에서 암 조직을 자동으로 그림으로써, 기관 및 의사 간 오차를 줄이고 치료 계획 수립 과정을 단축할 수 있다. 본 개시에 따르면, MR 영상으로부터 획득된 산소농도 분포를 이용하여 최적의 치료선량을 계산함으로써, 방사선 의 저항성이 큰 부위에 대한 치료선량의 증가를 효과적으로 계산할 수 있고, 이를 통해 치료효과를 증대할 수 있다. 본 개시에 따르면, MR 영상으로부터 직접 암 조직을 자동으로 설정해 방사선 요법 치료에 이용함으로써, 영상 정합 과정에서 발생하는 정확성 저해요인이 제거될 수 있다."}
{"patent_id": "10-2023-0051217", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면들에 기재된 내용들을 참조하여 본 개시에 따른 예시적 실시예를 상세하게 설명한다. 또한, 첨부된 도면들에 기재된 내용들을 참조하여 본 개시의 실시예에 따른 전자 장치를 구성하고 사용하는 방법을 상 세히 설명한다. 각 도면에서 제시된 동일한 참조번호 또는 부호는 실질적으로 동일한 기능을 수행하는 부품 또 는 구성요소를 나타낸다. 제1, 제2 등과 같이 서수를 포함하는 용어는 다양한 구성 요소들을 설명하는데 사용될 수 있지만, 구성 요소들 은 용어들에 의해 한정되지는 않는다. 용어들은 하나의 구성요소를 다른 구성요소로부터 구별하는 목적으로만 사용된다. 예를 들어, 본 개시의 권리 범위를 벗어나지 않으면서 제1 구성요소는 제2 구성요소로 명명될 수 있 고, 유사하게 제2 구성요소도 제1 구성요소로 명명될 수 있다. 및/또는 이라는 용어는 복수의 관련된 항목들의 조합 또는 복수의 관련된 항목들 중의 어느 하나의 항목을 포함한다. 본 개시에서 사용한 용어는 실시예를 설명하기 위해 사용된 것으로, 본 개시를 제한 및/또는 한정하려는 의도가 아니다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 개시에서, \"포함 하다\" 또는 \"가지다\" 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조 합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성요소, 부 품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 본 개시에서 어떤 부분이 다른 부분과 연결되어 있다고 할 때, 이는 직접적으로 연결되어 있는 경우뿐 아니라, 그 중간에 다른 요소를 사이에 두고 전기적으로 연결되어 있는 경우도 포함한다. 또한 어떤 부분이 어떤 구성요 소를 포함한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다른 구성요소를 제외하는 것이 아니라 다른 구 성요소를 더 포함할 수 있는 것을 의미한다. 또한, 명세서에 기재된 \"...부\", \"모듈\", \"...기\" 등의 용어는 적어도 하나의 기능이나 동작을 처리하는 단위를 의미하며, 이는 하드웨어 또는 소프트웨어로 구현되거나 하드웨 어와 소프트웨어의 결합으로 구현될 수 있다. 도 1은 일 실시예에 따른 인공지능 기반 질병 진단 및 치료 계획 생성 방법의 흐름도이다. 도 1을 참조하면, 120에서 환자의 MR 영상이 획득될 수 있다. MR 영상은 MRI 장치에 의해 획득될 수 있으나, 이 에 제한되지 않는다. MR 영상은, T1 강조 (weighted) MR 영상, T2 강조 MR 영상, 및 확산강조 (diffusion weighted; DW) MR 영상을 포함할 수 있으나, 이에 제한되지 않는다. MR 영상은 역동적 조영증강 (dynamic contrast enhanced; DCE) MR 영상을 더 포함할 수 있다. 120에서 획득된 MR 영상은 강화될(enhanced) 수 있으며, 이는 도 3을 참조하여 후술할 것이다. T1 강조 MR 영상 및 T2 강조 MR 영상은, 환자의 MR 영상에서 암 조직을 식별하여 나타내기 위해 이용될 수 있으 며, 이는 도 9 및 도 10을 참조하여 후술할 것이다. DW MR 영상은 환자의 MR 영상에 포함된 영역들의 산소농도 분포를 출력하기 위해 이용될 수 있으며, 이는 도 11 을 참조하여 후술할 것이다. 140에서, 획득된 MR 영상으로부터 제1 머신러닝 모델에 기반하여 합성 CT 영상이 생성될 수 있다. 제1 머신러닝 모델은 적대적 생성 신경망 (generative adversarial networks; GAN)으로 구현될 수 있고, 이는 도 7 및 도 8 을 참조하여 후술할 것이다. 160에서, 제2 머신러닝 모델에 기반하여 MR 영상으로부터 산소농도 분포가 출력될 수 있다. 제2 머신러닝 모델 은 합성곱 신경망 (convolutional neural network; CNN) 으로 구현될 수 있고, MR 영상으로부터 산소농도 분포 를 출력하는 방법은 도 11 을 참조하여 후술할 것이다. 암 조직의 산소농도는 환자들마다 상이하며, 동일한 암종이더라도 개인의 특성이나 상황에 따라 변할 수 있다. 암 조직의 산소농도가 낮을 경우 방사선에 대한 저항성을 갖기 때문에, 방사선 치료의 효과가 저하될 수 있고 이는 암의 재발을 야기할 수 있다. 특히 암 줄기 세포 (cancer stem cell) 의 강한 방사선 저항성은 산소농도와 관계가 있다. 따라서, 암 조직의 산소농도를 파악하여, 산소농도가 낮은 부위에는 치료선량을 증가시키는 방식 의 치료계획이 수립될 필요가 있다. 나아가, 실시간으로 암 조직의 산소농도를 파악하여, 산소농도가 낮은 부위 에는 치료선량을 적응적으로 증가시키는 방식의 치료계획이 수립될 필요가 있다. DW MR 영상에 기초하여 획득된 산소농도 분포를 이용하여 산소 농도가 적은 부위의 OER 을 계산하고, 이로부터 치료선량 증가량이 계산될 수 있다. 180에서, 합성 CT 영상 및 산소농도 분포에 기초하여 환자의 치료 계획이 생성될 수 있다. 환자의 치료 계획은 방사선 요법 치료 선량의 증가에 의한 부작용의 발생 효과를 예측하여 세워질 수 있으며, 이는 도 13을 참조하 여 후술할 것이다. 도 2는 일 실시예에 따라 합성 CT 영상을 생성하여 치료 계획을 생성하는 방법을 설명하기 위한 도면이다. 도 2를 참조하면, 220에서 MRI 검사를 통해 환자의 MR 영상 이 획득될 수 있다. MR 영상은 후술하는 도 3 의 강화 MR 영상일 수 있다. 240에서, 환자의 MR 영상 은 제1 머신 러닝 모델에 기반하여 합성 CT (synthetic CT; sCT) 영상 으로 변환되고, MR 영상 과 sCT 영상 은 서로 정합될 수 있다. 제1 머신러닝 모델 은 적대적 생성 신경망 (generative adversarial networks; GAN)으로 구현될 수 있고, 이는 도 7 및 도 8을 참조하여 후 술할 것이다. 260에서, 제2 머신 러닝 모델에 기반하여 환자의 MR 영상 으로부터 산소농도 분포 가 출력될 수 있 다. 제2 머신러닝 모델 은 합성곱 신경망 (convolutional neural network; CNN) 으로 구현될 수 있고, MR 영상 으로부터 산소농도 분포 를 출력하는 방법은 도 11 을 참조하여 후술할 것이다. 280에서, sCT 영상 및 산소농도 분포 에 기초하여 환자의 치료 계획이 생성될 수 있다. 도 3은 일 실시예에 따른 강화 MR 영상을 생성하는 방법을 설명하기 위한 도면이다. 고자장에서 촬영된 MR 영상은 저자장에서 촬영된 MR 영상보다 해상도가 높아 암을 진단하는 데 있어 더 유리하 다. 따라서, 자장의 강도를 더 높여서 MR 영상을 획득하는 것과 같은 효과를 달성하기 위해, 인공지능에 기반하 여 MR 영상의 신호를 강화할 수 있다. MR 영상의 신호를 강화하기 위해, 사전에 준비된 저자장 MR 영상- 고자장 MR 영상 세트를 이용하는 것이 바람직 할 수 있으나, 동일 환자의 저자장 MR 영상 및 고자장 MR 영상이 함께 존재하는 경우가 많지 않다. 따라서, 동 일 환자의 MR 영상이 아닌, 서로 다른 환자들의 MR 영상을 이용하여 머신러닝 모델을 훈련시키는 방식, 즉, 언 매치드 이미지 세트 훈련 (unmatched image set training) 이 이용될 수 있다. 서로 다른 환자들의 MR 영상들, 즉, 어느 환자의 저자장 MR 영상 및 다른 환자의 고자장 MR 영상은 서로 형태와 구조가 상이하므로, 이들의 형 태와 구조를 변형하여 훈련에 사용할 수 있다. 도 3을 참조하면, 변형 정합 (deformable registration) 을 통해, 어느 환자의 원본 1.5T MR 영상 (고자 장 MR 영상) 이 원본 다른 환자의 0.06T MR 영상(저자장 MR 영상)에 맞게 정합 (또는 변형) 될 수 있다. 도 3은 고자장 MR 영상이 변형되는 것을 도시하고 있으나, 이에 제한되지 않고, 저자장 MR 영상이 변형될 수도 있다. 326에서, 페어로 구성된 변형된 고자장 MR 영상 및 원본 저자장 MR 영상에 기초하여, 합성 MR 영상이 생성될 수 있다. 합성 MR 영상은 제3 머신 러닝 모델에 기반하여 생성될 수 있다. 제3 머신 러닝 모델은 순환 (cyclic) GAN 으로 구현될 수 있다. Cyclic GAN을 통해, 변형된 고자장 MR 영상과 원본 저자장 MR 영상은 서로 점점 유사 해질 수 있고, 이후에는 저자장 MR 영상 대신 고자장 형태의 이미지로 훈련이 가능해질 수 있다. 일 실시예에 따르면, 변형된 고자장 MR 영상 및 원본 저자장 MR 영상이 페어로 구성될 수 있다. Cyclic GAN을 통해, 고자장 MR 영상 및 저자장 MR 영상이 유사해졌기 때문이다. 도 3은, 변형된 고자장 MR 영상 및 원본 저자 장 MR 영상이 페어로 구성된 것을 도시하나, 변형된 저자장 MR 영상 및 원본 고자장 MR 영상이 페어로 구성될 수도 있다. 328에서, 훈련된 GAN에 원본 저자장 MR 영상이 입력될 경우, 강화 MR 영상이 출력될 수 있다. 일 실시예에 따르 면, 저자장 MR 영상-고자장 MR 영상 세트 없이도 신경망 훈련을 위한 영상 세트가 확보될 수 있다. 도 4는 일 실시예에 따라 암을 진단하고 암 치료 전략을 수립하는 방법을 설명하기 위한 도면이다. 일 실시예에 따르면, MR 영상으로부터 진단되는 암은 뇌암, 전립선암, 유방암, 폐암, 및 두경부 암 등일 수 있 으나, 이에 제한되지 않으며, 모든 암종이 진단될 수 있다. 도 4를 참조하면, 제4 머신 러닝 모델 에 기반하여, MR 영상 에서 정상조직, 악성 종양, 및 양성 종양이 분류될 수 있다. 제4 머신 러닝 모델 은, CNN과 최적화된 서포팅 벡터 머신 (optimized supporting vector machine; optimized SVM) 으로 구현될 수 있으나, 이에 제한되지 않는다. MR 영상 는 전술된 도 3의 강화 MR 영상일 수 있다. CNN을 통해 MR 영상 으로부터 피처 (feature) 가 추출되고, 추출된 피처를 optimized SVM 에 입력하여 정상, 악성 종양, 및 양성 종양이 분류될 수 있다. 430의 진단 결과 암으로 분류되는 경우, 432에서 제5 머신 러닝 모델 에 기반하여 암 치료 전략이 수립될 수 있다. 제5 머신 러닝 모델은 DFCNN (Deep Fully Convolutional Neural Network) 으로 구현될 수 있으나, 이 에 제한되지 않는다. 제5 머신 러닝 모델, 예를 들어, DFCNN은, 환자들의 MR 영상들과 함께 환자 특징, 병리학 적 데이터, 조직학적 데이터, 생리학적 데이터, 돌연변이 데이터, 전자의무기록 기반 데이터 등에 의해 훈련될 수 있다. 제5 머신 러닝 모델, 예를 들어, DFCNN에 MR 영상이 입력될 경우, 암종별 병기, 병기에 따른 예후 및 치료 전략이 출력될 수 있다. 암 치료 전략의 수립을 위해, 국립암센터의 임상데이터 자료가 활용될 수 있다. 치료 전략은 외과 수술 (surgical operation; OP), 방사선 요법 (radiation therapy; RT), 및 항암화학 요법 (chemo therapy; Chemo) 을 포함할 수 있으나, 이에 제한되지 않는다. 치료 전략으로서, 방사선 요법 (RT) 이 포함되는 경우, 방사선 종양학과의 전문의의 처방을 위해 MR 영상에서 자동으로 암 조직의 구조가 그려질 수 있 고, 이는 도 5를 참조하여 설명한다. 도 5는 일 실시예에 따른 자동 컨투어링 (auto contouring) 방법을 설명하기 위한 도면이다. 도 5를 참조하면, 제6 머신 러닝 모델 에 기반하여 MR 영상 에 대해 자동 컨투어링 (auto contouring) 이 수행될 수 있다. 자동 컨투어링은 MR 영상에서 암 조직 및 정상 조직을 자동으로 구분(segmentation) 하는 것으로서, 자동 컨투어링에 사용되는 제6 머신 러닝 모델 은, 아틀라스-기반 (atlas-based) 머신 러닝 모델일 수 있으나, 이에 제한되지 않는다. 아틀라스-기반 머신 러닝 모델은, 복수의 아틀라스 (훈련용 MR 영상 + 레이블) 의 훈련용 MR 영상과 진단용 MR 영상과의 정합 함수를 구한 후, 해당 정합 함수를 레이블, 즉, 암 영역 마스크에 적용함으로써 MR 영상의 암 영역을 식별할 수 있다. 제6 머신 러닝 모델은, 방사선 종양학적 데이터, 치료 이력, 다양한 이미지들, 임상적 표적 부피 (clinical target volume; CTV) 및 위험 장기 (organs at risk; OAR) 에 대한 컨투어링 데이터, 팔로우업(follow-up) CT 영상, 생존 데이터 등을 이용하여 학습될 수 있다. 자동 컨투어링 과정에서 암 치료 방법 (치료 전략과 치료선량) 에 따른 치료 이후 암의 부피 감소 예측 및 치료 이후 생존율 등 예후에 대한 예측 지표가 계산될 수 있으며, 이때, 임상적, 의학적, 또는 수학적 모델이 사용될 수 있다. 계산된 예측 지표는 이후 치료 계획 생성에 사용될 수 있고, 이는 일 실시예에 따르면, 자동 컨투어링 을 통해, 암 조직 식별 가능한 MR 영상 이 획득될 수 있다. 도 6은 도 2 내지 도 5에 따라 합성 CT 영상을 생성하여 치료 계획을 생성하는 방법을 설명하기 위한 도면이다. 도 2 내지 도 5에서 전술한 바, 중복 설명은 생략한다. 방사선 요법 치료를 위해서는 방사선이 인체 내 조직에 조사되면서 얼마나 흡수되는지를 선량학적으로 계산할 필요가 있고, 계산 과정에서 CT 영상의 HU (Hounsfield Unit) 와 인체 조직의 밀도에 대한 상관관계 정보가 이 용될 수 있다. MR 영상에는 HU에 관한 정보가 포함되어 있지 않아 치료선량을 계산할 수 없지만, MR 영상 으로부터 sCT 영상을 생성한 후 sCT 영상 으로부터 HU에 관한 정보를 획득하여 치료 계획 생성 에 이용할 수 있다. 일 실시예에 따르면, MR 영상에서 그려진 암 조직의 구조가 그대로 sCT 영상 에 정합됨으로써, 기존의 영항 정합 과정에서 발생하던 오차가 저감될 수 있다. 도 6을 참조하면, 제1 MR 영상 은 암 조직 및 주변 정상 조직의 구조를 식별하여 sCT 영상 생성에 사용되고, 제2 MR 영상 은 산소농도와의 상관관계를 예측하는 데 사용될 수 있다. 여기서, 제1 MR 영상 은, T1 강조 MR 영상 및 T2 강조 MR 영상을 포함할 수 있고, 제2 MR 영상은 DW MR 영상을 포함할 수 있다. 제1 MR 영상 을 이용하여, 기존의 다양한 환자들의 MR 및 CT 세트 데이터를 통해 sCT 영상을 생성하는 제 1 머신 러닝 모델에 대해 도 7 및 도 8을 참조하여 설명한다. 도 7 및 도 8은 일 실시예에 따라 합성 CT 영상을 생성하는 머신 러닝 모델을 설명하기 위한 도면이다. MR 영상으로부터 sCT 영상을 생성하는 제1 머신 러닝 모델은, conditional GAN 으로 구현될 수 있다. 저자장 MR 영상 및 고자장 MR 영상과 달리, 동일한 환자의 MR 영상과 CT 영상은 용이하게 구할 수 있으므로, 매치드 이미 지 셋 훈련 (matched image set training) 을 통해 conditional GAN 을 훈련시킬 수 있다. MR 영상 은, conditional GAN 에 입력되기 전에, 훈련에 적합하도록 이미지 전처리 과정을 거칠 수 있다. Condional GAN은 생성자 (generator, 700) 와 판별자 (discriminator, 710) 로 구분될 수 있다. 생성자 는, 입력된 MR 영상 에 기초하여, sCT 영상 을 생성할 수 있다. 구체적으로, 생성자 는 입력 된 MR 영상 을 인코딩하는 인코더와, 인코딩 데이터를 디코딩하여 sCT 영상 을 출력하는 디코더로 구성될 수 있다. 인코더는 입력된 MR 영상 으로부터 서로 다른 추상화 레벨의 특징 데이터 (702 및 703), 즉, 특징맵을 추출하는 복수의 인코딩 블록들로 구성될 수 있다. 각 인코딩 블록은, 컨볼루셔널 레이어 (convolutional layer), 풀링 레이어 (pooling layer), 등을 포함할 수 있다. 각 디코딩 블록은, 디컨볼루셔널 레이어 (deconvolutional layer), 언풀링 레이어 (unpooling layer), 등을 포 함할 수 있다. 인코딩 블록과 디코딩 블록 간에는 특징 데이터 (702 및 703) 을 전달하는 스킵-커넥션 (704 및 705) 이 형성될 수 있다. 생성자 는 U자형 구조인 것으로 도시되었으나, 이에 제한되지 않으며, 다양한 구조로 구현될 수 있다. 일 실시예에 따르면, MR 영상 을 다운 스케일링하여 훈련 및 테스트를 진행함으로써, 처리 속도와 효율을 향상시킬 수 있다. 판별자 는, 입력된 MR 영상 과 한 세트를 구성하는 실제 CT 영상 을 생성된 sCT 영상 과 비교하여, 생성된 sCT 영상 이 확률적으로 가짜 CT 영상에 해당하는지 진짜 CT 영상에 해당하는지를 판별한다. 판별자 와 생성자 가 서로 경쟁하듯 학습하여 생성 능력 및 판별 능력이 향상될 수있고, 학습이 계속될수록 입력된 MR 영상 로부터 실제 (ground truth) 에 가까운 sCT 영상 이 생 성될 수 있다. 진단용 MR 영상 에서는 환자의 좌우측 조직이 촬영되지 않으므로, 일 실시예에 따르면, 환자의 일부, 예 를 들어, 환자의 암 부위를 중심으로 촬영한 MR 영상 으로부터 sCT 영상 을 생성하고, 다른 환자들 의 실제 CT 데이터를 통해서 정형화된 평균 CT 영상을 생성하여, 환자의 암 부위을 포함하는 일부 sCT 영상 과 평균 CT 영상을 기반으로, 환자의 하복부 전체 부분을 포함하는 전체 sCT 영상을 생성하도록 구현될 수 있다. 환자의 하복부 전체 부푼을 포함하는 sCT 영상은 방사선 요법 치료 계획을 생성하는데 사용될 수 있다. 또한, 생성된 sCT 영상은 치료선량을 계산하여 그 정확성이 평가될 수 있고, 이는 도 9 및 도 10을 참조 하여 설명한다. 도 9 및 도 10은 일 실시예에 따른 합성 CT 영상의 정확성을 평가하고 치료선량을 계산하는 방법을 설명하기 위 한 도면이다. 다른 환자들의 실제 CT 데이터를 통해서 생성된 평균 sCT 영상의 정확성을 평가하기 위해, 생성된 sCT 영상은 원본 CT 영상을 이용한 치료선량의 분포와 비교될 수 있다. 도 9의 실시예를 참조하면, T1 강조 MR 영상으로부터 생성된 sCT 영상과 원본 CT 영상 (oCT) 간 평균절대오차 (mean absolute error; MAE) 는 89.88±4.37이고, T2 강조 MR 영상으로부터 생성된 sCT 영상과 원본 CT 영상 (oCT) 간 MAE 는 91.77±5.16으로서, 오차가 크지 않음을 알 수 있다. 또한, 도 10을 참조하면, 원본 CT 영상 (oCT) 에 대한 치료선량에 관한 값들은, T1 강조 MR 영상으로부터 생성 된 sCT 영상 및 T2 강조 MR 영상으로부터 생성된 sCT 영상에 대한 치료선량에 관한 값들과 1% 미만의 차이를 보 이는 바, 생성된 sCT 영상의 정확도가 높은 것으로 평가될 수 있다. 일 실시예에서, 광자 (photon) 를 이용하는 선형가속기 (linear accelerator; LINAC) 치료 장비를 이용한 치료 선량을 계산하기 위해 전자 밀도와 HU 간 관계가 고려될 수 있으며, 전자 밀도와 HU 간 관계로부터 치료선량을 계산하는 것은 공지된 기술인 바, 불필요한 설명은 생략한다. 일 실시예에서, 양성자 (proton) 를 이용하는 양성자 치료 장비를 이용한 치료선량을 계산하기 위해 상대적 정 지 비율 (relative stopping ratio) 과 HU 간 관계가 고려될 수 있고, 상대적 정지 비율과 HU 간 관계로부터 치료선량을 계산하는 것은 공지된 기술인 바, 불필요한 설명은 생략한다. 도 11 은 일 실시예에 따라 확산 강조 (diffusion weighted; DW) MR 영상으로부터 산소 농도를 출력하는 방법을 설명하기 위한 도면이다. 일 실시예에 따르면, DW MR 영상을 이용하여, 영상의 신호 세기가 나타내는 혈류량의 증감 정도를 산소농도의 분포와의 상관성으로 변환할 수 있다. 예를 들어, 실제 세포실험 수준에서의 산소농도 측정 데이터를 이용하여, 혈류량의 증감 정도와 산소농도의 분포 간 상관관계를 머신 러닝 모델에게 학습시킬 수 있다. 산소농도 분포를 출력하는 데 이용되는 제2 머신 러닝 모델은 CNN일 수 있으나, 이에 제한되지 않는다. CNN은, 다양한 암종에 대한 실제 산소농도의 분포에 대한 3차원 데이터와 DW MR 영상을 이용하여 학습되고, 학 습된 CNN은 입력된 DW MR 영상의 신호 세기, 즉, 혈류량의 증감 정도에 기초하여, 다양한 암종에 대한 산소농도 분포에 대한 3차원 데이터를 출력할 수 있다. 일 실시예에 따르면, DW MR 영상을 이용하여 저산소 분획 (hypoxic fraction) 데이터를 획득하기 위해, 1.5T에 서 종양 부위가 모두 포함된 T1 및 T2 강조 영상, DW 강조 영상 (b값은 1500), DCE 영상이 촬영될 수 있다. 일 실시예에서, T1 및 T2 강조 영상은 인체의 해부학적 특징을 강조하기 위해 형태학적 시퀀스 (morphologic sequence) 로 촬영될 수 있다. DCE 영상은 조직 관류 (tissue perfusion) 에 관한 정보, 혈관 투과성 등 기능 적 파라미터를 제공하기 위해 기능적 시퀀스 (functional sequence) 로 촬영될 수 있다. 일 실시예에서, 종양 부위가 모두 포함되도록, 2D spin echo echo-planar imaging (SE-EP) 시퀀스 MR 영상이 획득될 수 있다. 이때, Filed of view(FOV), repetition time (TR), echo time (TE), echo train length, bandwidth, number of average (NEX), diffusion direction, slice thickness, slice gap, matrix resolution 등은 적절한 값으로 설정될 수 있다. b값이 0, 100, 200, 300, 400, 500, 600, 700, 800, 900, 1000s/mm2의 경 우에 대해서 각각 MR 영상을 획득하였다. 예를 들어, 도 11의 1101에서와 같이, 0, 150, 및 500 s/mm2 의 b값을 갖는 DW MR 영상이 획득될 수 있다.b값은 높을수록 더 큰 확산 강조를 나타내고, 이는 상이한 확산 특징을 갖는 조직들, 예를 들어, 뇌의 백질과 회색질을 구분하는 데 용이하다. MR 영상의 이미지 분석을 통해, 조직을 관심 영역 (region of interest; ROI) 으로 세그먼트하고, 각 ROI 내에 서 신호 세기를 측정함으로써, 저산소 분획 맵이 그려질 수 있다. 저산소 분획 (hypoxic fraction) 은, ROI에서 저산소에 해당하는 조직의 비율을 나타낸다. 저산소(hypoxic) 정도를 정량적으로 분석하기 위해, 예를 들어, 도 11의 1102와 같이, DW MR 영상의 이미지 분석을 통해, b 값에 따른 신호의 세기 (S) 를 구하고, 이로부터 조직 에서 물 분자의 확산성을 통해 산소 소비를 나타내는 ADC (Apparent Diffusion Coefficient) 맵, 조직 내 혈량 을 통해 산소 공급을 나타내는 fBV (fractional Blood Volume) 맵, 나아가 저산소 분획 (hypoxic fraction) 맵 이 생성될 수 있다. 저산소 분획 맵은 산소 소비와 생성이 MR 영상 신호로부터 분리될 수 있는지를 평가하기 위한 데이터 맵이며, 이로부터 분류기준에 따라 저산소 스코어 맵 (hypoxic score map) 으로 2차원적 산소농도 분포도 (또는 산소농 도 부족의 분포도) 가 생성될 수 있다. 저산소 분획 데이터는 실제 산소농도 분포, 예를 들어, 도 11의 1103의 저산소 스코어 (hypoxic score) 맵 및 pO2 맵 등과 매칭되어 제2 머신 러닝 모델, 예를 들어, CNN의 훈련 데이 터로서 사용될 수 있다. 저산소 스코어 데이터는 Pomodidazole 검사를 통해 획득될 수 있으나, 이에 제한되지 않는다. 일 실시예에서, 암 절제술이 시행되기 13-24 시간 전에 Pimonidazole hydrochloride (Hypoxyprobe, Inc.) 를 체표면 500mg/m2 기준으로 환자에게 주사 또는 경구 투약을 통해 주입하여, Pimonidazole immunohistochemistry 를 전임상에서와 동일한 방법으로 진행하였으며, 저산소 스코어는 0:0%, 1:1-10%, 2:11-50%, 3:51-90%, 4:91-100%, 및 5:100%의 단계로 구분하였다. 이후, Pearson Correlation 방법으로 각 물리량들 사이의 상관관계를 분석하고 SPSS 통계를 분석하였으며, 분석된 데이터를 DW MR 영상의 신호 분포 데이터와 함께 CNN에 입력하여 다양한 매칭 조건들을 학습시켰다. 이로써, DW MR 영상으로부터 산소농도 분포가 출력될 수 있다. 특정 변수에 의해 획득된 DW MR 영 상의 신호 세기는, 동물실험 등을 통해 구축된 산소 농도의 분포 데이터와 비교되어, 그 상관관계를 CNN이 학습 할 수 있다. DW MR 영상과 그에 매칭되는 산소 농도 분포 데이터를 학습한 머신 러닝 모델을 이용함으로써, 환 자의 추가적인 피폭을 필요로 하는 PET 영상에 비해, 더 효과적이고 안전하게 산소농도 분포를 획득할 수 있다. 도 11의 1104는 암 주변의 영상을 확대하여 도시한 것이다. 도 12 는 일 실시예에 따라 MR 영상으로부터 산소증강률 (oxygen enhancement ratio; OER) 을 계산하는 방법을 설명하기 위한 도면이다. 1261에서, MR 영상으로부터 종양에서 산소(O2) 분포가 계산될 수 있다. MR 영상으로부터 산소 분포를 계산하는 것은 도 11에서 전술된 바, 중복 설명은 생략한다. 1263에서, 산소 분포로부터 OER이 계산될 수 있다. 산소 분포로부터 OER을 계산하기 위해, 다양한 모델들을 이용하여 계산된 방사선에 대한 세포의 반응성이 고려 될 수 있다. 예를 들어, 선형-이차 (linear-quadratic; LQ) 모델을 이용하여, 산소가 충분한 상태에서 선량 d 의 방사선 조사에 따른 세포 생존율 (surviving fraction; SF) 은 식 1과 같이 표현될 수 있다. 수학식 1"}
{"patent_id": "10-2023-0051217", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "α는 선형 비활성화 계수 (linear inactivation coefficient; Gy-1) 를 나타내고, β 는 이차의 비활성화 상수 (quadratic inactivation coefficient; Gy-2) 를 나타낸다. 나아가, 산소농도에 따른 세포의 방사선에 대한 반응 모델은 산소 조정 팩터 (oxygen modifying factor; OMF) 를 포함할 수 있다.수학식 2"}
{"patent_id": "10-2023-0051217", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "OMFmax 는 OER에 대응하는 산소의 부재 시 달성되는 최대 저항성을 나타내고, k는 반응 상수를 나타내고, pO2 는 산소 압력을 나타낸다. 산소 압력 pO2 의 상태에서 선량 d 의 방사선 조사에 따른 세포 생존율은 수학식 3과 같 이 표현될 수 있다. 수학식 3"}
{"patent_id": "10-2023-0051217", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "OER은, 세포의 생존곡선을 이용해서 계산된 TCP (Tumor Control Probability) 에 기초하여 (수학식 4 참조), 산소농도에 따른 TCP 차이를 통해 계산될 수 있다. 수학식 4"}
{"patent_id": "10-2023-0051217", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "Nvox 는 복셀의 총 개수를 나타낸다. Ni, di, 및 Li 는 각각 i번째 복셀에서 클로노제닉 (clonogenic) 세포의 개수, 프랙션 당 선량 (dose per fraction), 및 선형에너지전달(linear energy transfer; LET)을 나타낸다. 프랙션은 방사선 요법 치료 시 치료 용량을 분획하여 치료 시 분획된 수를 가리킨다. f는 총 프랙션의 수를 나타내고, Sij 및 pO2ij는 각각 j번째 프랙션에서 i번째 복셀의 생존율 (survival fraction; SF) 및 산소 압력을 나타낸다. 정적인 산소화 (static oxygenation) 상태에서, 각 셀에서 생존율은 일정하게 유지될 수 있고, 수학식 4 는 수 학식 5와 같이 표현될 수 있다. 수학식 5"}
{"patent_id": "10-2023-0051217", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "수학식 6을 참조하면, OER은 산소가 충분한 상태에서 종양의 D90 or 50,ox과 저산소인 종양의 D90 or 50,hypox의 비로 정의될 수 있다. D90 은 90%의 TCP를 달성하기 위해 필요한 선량을 나타내고, D50은 50%의 TCP를 달성하기 위해 필요한 선량을 나타낸다.수학식 6"}
{"patent_id": "10-2023-0051217", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "계산된 OER을 통해, 방사선의 종류 및 암종에 따른 데이터베이스가 구축될 수 있다. 1265에서, OER에 기초하여 최적화 계획이 도출될 수 있다. OER 모델을 이용하여 암 세포 부피에 대한 치료선량을 계산하는 것은 실제 방사선 요법 치료를 행함에 있어 중 요하다. 방사선 요법에서 중요한 점은 치료 횟수가 증가하면서 방사선에 노출된 암세포가 줄어들어 부피가 변하 게 되는데, 부피가 변하는 암세포에 맞추어 적응적 방사선 요법 (adaptive radiation therapy) 이 필요하기 때 문이다. 수학식 7"}
{"patent_id": "10-2023-0051217", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "수학식 8"}
{"patent_id": "10-2023-0051217", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 9, "content": "수학식 9"}
{"patent_id": "10-2023-0051217", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 10, "content": "n0(r)은 초기 세포 밀도 분포를 나타내고, n(r) 및 s(r)은, 각각 선량 분포 D(r) 후 세포 밀도 분포 및 생존율 을 나타낸다. 생존율 s(r) 은 다양한 생물학적 모델들, 예를 들어, 전술된 LQ 모델에 의해 계산될 수 있다. P는 세포 생존과 종양 반응의 상관관계로 표현되는 TCP (tumor control probability) 로서 포아송 표현 (Poisson expression) 으로 표현되며, 수학식 7을 종양 부피 전체에 걸쳐 생존 세포의 밀도를 총합한 결과가 수 학식 8로 표현될 수 있다. P를 달성하기 위한 선량 분포 D(r)은, 세포의 방사선민감성 (radiosensitivity) 을 나타내는 값인 α 및 β 로 계산될 수 있다. 일 실시예에 따른 OER 모델은 암 부피의 전반적인 TCP 계산에 따른 OER을 고려한 것으로서, 암 부피에 대한 평 균적인 효과를 고려하므로 계산속도가 빠른 장점이 있다. 다른 실시예에 따른 OER 모델은, 암 부피를 복셀 단위로 나누어 복셀 별로 선량을 계산할 수 있다. 즉, 해당 모 델은 복셀 당 OER 을 고려하여, 치료 계획 시 부피 변화에 대한 OER이 고려된 치료선량을 실시간으로 계산하여 세기조절 방사선 요법(intensity modulated radiation therapy)을 가능케 할 수 있다. 일 실시예에 따르면, 복수의 OER 모델들을 사용자에게 제시하여, 사용자는 적절한 모델을 선택하여 방사선 요법 에 이용할 수 있다. 1267에서, 방사선 요법 치료 후 종양 부피가 예측될 수 있다. CT 영상에서 그려진 암 조직 및 정상 조직에 기초하여 방사선 요법에 필요한 구조 (structure) 가 생성된다. 구 조는, 전체 종양 부피 (gross tumor volume; GTV), 임상적 표적 부피 (clinical target volume; CTV), 계획 표적 부피 (planning target volume; PTV), 위험 장기 (organs at risk; OAR) 등을 포함할 수 있다. 생성된 구조 를 기반으로 각 부피 내의 각 복셀 당 계산된 선량을 이용하여 선량-부피 히스토그램 곡선 (dose-volume histogram curve) 이 도출될 수 있다. 방사선 요법 치료 후 감소하는 종양의 부피는, 전술된 선량-부피 히스토그램 곡선에 기초하여 계산될 수 있다. 암 조직의 산소농도는 환자들마다 상이하며, 동일한 암종이더라도 개인의 특성이나 상황에 따라 변할 수 있다. 암 조직의 산소농도가 낮을 경우 방사선에 대한 저항성을 갖기 때문에, 방사선 치료의 효과가 저하될 수 있고 이는 암의 재발을 야기할 수 있다. 특히 암 줄기 세포 (cancer stem cell) 의 강한 방사선 저항성은 산소농도와 관계가 있다. 따라서, 암 조직의 산소농도를 파악하여, 산소농도가 낮은 부위에는 치료선량을 증가시키는 방식 의 치료계획이 수립될 필요가 있다. 나아가, 실시간으로 암 조직의 산소농도를 파악하여, 산소농도가 낮은 부위 에는 치료선량을 적응적으로 증가시키는 방식의 치료계획이 수립될 필요가 있다. 일 실시예에 따르면, DW MR 영상에 기초하여 획득된 산소농도 분포를 이용하여 산소 농도가 적은 부위의 OER 을 계산하고, 이로부터 치료선량 증가량이 계산될 수 있다. OER 을 고려하는 경우, 저산소 부위에 치료선량을 더 조사하기 위한 선량 증가 (dose escalation) 에는, 정상 조직 손상 확률 (normal tissue complication probability; NTCP) 모델이 이용될 수 있고, 이는 도 13을 참고 하여 설명한다 도 13은 일 실시예에 따라 방사선 치료선량 증가에 의한 정상 조직의 부작용을 평가하는 방법을 설명하기 위한 도면이다. 치료선량을 증가시킬 경우, 주변의 정상 조직에게 부작용이 발생할 수 있다. 따라서, 무작정 치료선량을 증가시 키는 것은 환자에게 위험하며 주변의 정상 조직에 미치는 피해를 최소화하면서 치료선량을 증가시킬 필요가 있 다. 이를 위해, 정상 조직 손상 확률 (normal tissue complication probability; NTCP) 모델을 이용하여 치료 선량의 증가가 고려될 수 있다. 일 실시예에 따라 방사선 치료선량을 수동 확장 (manual expansion) 한 결과는, 실제 빔 모델을 이용한 최적화 결과와 비교될 수 있다 (도 13의 1301 참조). 비교 결과 그 차이가 적을 경우, 해당 방사선 치료선량의 증가는 임상적으로 적용이 가능한 범위에 속하는 것으로 판단될 수 있다. 따라서, 일 실시예에 따른 방사선 요법 치료 계획이 임상적으로도 안전한 것임이 보장될 수 있다. 1303에서, 주변의 정상 조직에 미치는 피해를 최소화하면서 증가시킬 수 있는 치료선량을 계산하기 위해, 정상 조직 손상 확률 (normal tissue complication probability; NTCP) 모델이 모델링될 수 있다. NTCP 모델을 모델 링하는 방법은 공지된 기술인 바, 불필요한 설명은 생략한다. 1305에서, 모델링된 NTCP 모델은 다양한 임상 데이터와 비교될 수 있다. 비교 결과 그 차이가 적을 경우, 해당 NTCP 모델을 이용한 치료선량의 증가는 임상적으로 적용이 가능한 범위에 속하는 것으로 판단될 수 있다. 1307에서, NTCP를 이용한 방사선 요법 치료 모드들이 비교될 수 있다. 예를 들어, 광자를 이용한 방사선 요법과 양성자를 이용한 방사선 요법이 서로 비교될 수 있다. 비교 결과, 방사선 요법에 더 적절한 모드가 이용될 수 있다. 도 14는 일 실시예에 따른 전자 디바이스의 블록도이다. 전자 디바이스 는 방사선 요법 치료 계획 시스템 (treatment planning system; TPS)일 수 있으나, 이에 제한되지 않는다. 도 14를 참조하면, 일 실시예에 따른 전자 디바이스는 메모리, 프로세서, 및 통신 인터페이 스를 포함할 수 있다. 도 14에 도시된 구성요소 모두가 필수구성요소인 것은 아니며, 도시된 구성요소보 다 많거나 적은 구성요소에 의해 전자 디바이스가 구현될 수도 있다. 메모리 는 프로세서 의 처리 및 제어를 위한 프로그램을 저장할 수도 있고, 입/출력되는 정보를 저장할 수도 있다. 프로세서 는 통상적으로 전자 디바이스의 전반적인 동작을 제어함으로써, 전술된 실시예에 따른 동작을 수행할 수 있다. 통신 인터페이스 는, 전자 디바이스와 다른 디바이스들, 예를 들어, 도 2 내지 도 4의 탐방객 모 바일 디바이스, 또는 응급 기관 서버 간의 통신을 수행하게 하는 하나 이상의 구성요소를 포함할 수 있다. 소프트웨어 모듈 또는 알고리즘으로 구현되는 방법들은 상기 프로세서상에서 실행 가능한 컴퓨터가 읽을 수 있 는 코드들 또는 프로그램 명령들로서 컴퓨터가 읽을 수 있는 기록 매체 상에 저장될 수 있다. 여기서 컴퓨터가 읽을 수 있는 기록 매체로 마그네틱 저장 매체(예컨대, ROM(read-only memory), RAM(random-access memory), 플로피 디스크, 하드 디스크 등) 및 광학적 판독 매체(예컨대, 시디롬(CD-ROM), 디브이디(DVD: Digital Versatile Disc)) 등이 있다. 컴퓨터가 읽을 수 있는 기록 매체는 네트워크로 연결된 컴퓨터 시스템들에 분산되 어, 분산 방식으로 컴퓨터가 판독 가능한 코드가 저장되고 실행될 수 있다. 매체는 컴퓨터에 의해 판독가능하며, 메모리에 저장되고, 프로세서에서 실행될 수 있다. 본 개시에서 인용하는 공개 문헌, 특허 출원, 특허 등을 포함하는 모든 문헌들은 각 인용 문헌이 개별적으로 및 구체적으로 병합하여 나타내는 것 또는 본 개시에서 전체적으로 병합하여 나타낸 것과 동일하게 본 개시에 병합 될 수 있다. 본 개시의 이해를 위하여, 도면에 도시된 바람직한 실시 예들에서 참조 부호를 기재하였으며, 본 개시의 실시 예들을 설명하기 위하여 특정 용어들을 사용하였으나, 특정 용어에 의해 본 개시가 한정되는 것은 아니며, 본 개시는 당업자에 있어서 통상적으로 생각할 수 있는 모든 구성 요소들을 포함할 수 있다. 본 개시는 기능적인 블록 구성들 및 다양한 처리 단계들로 나타내어질 수 있다. 이러한 기능 블록들은 특정 기 능들을 실행하는 다양한 개수의 하드웨어 또는/및 소프트웨어 구성들로 구현될 수 있다. 예를 들어, 본 개시는 하나 이상의 마이크로프로세서들의 제어 또는 다른 제어 장치들에 의해서 다양한 기능들을 실행할 수 있는, 메 모리, 프로세싱, 로직(logic), 룩업 테이블(look-up table) 등과 같은 직접 회로 구성들을 채용할 수 있다. 본 개시에의 구성 요소들이 소프트웨어 프로그래밍 또는 소프트웨어 요소들로 실행될 수 있는 것과 유사하게, 본 개시는 데이터 구조, 프로세스들, 루틴들 또는 다른 프로그래밍 구성들의 조합으로 구현되는 다양한 알고리 즘을 포함하여, C, C++, 자바(Java), 어셈블러(assembler) 등과 같은 프로그래밍 또는 스크립팅 언어로 구현될 수 있다. 기능적인 측면들은 하나 이상의 프로세서들에서 실행되는 알고리즘으로 구현될 수 있다. 또한, 본 개 시는 전자적인 환경 설정, 신호 처리, 및/또는 데이터 처리 등을 위하여 종래 기술을 채용할 수 있다. \"매커니 즘\", \"요소\", \"수단\", \"구성\"과 같은 용어는 넓게 사용될 수 있으며, 기계적이고 물리적인 구성들로서 한정되는 것은 아니다. 상기 용어는 프로세서 등과 연계하여 소프트웨어의 일련의 처리들(routines)의 의미를 포함할 수 있다. 본 개시에서 설명하는 특정 실행들은 일 실시 예들로서, 어떠한 방법으로도 본 개시의 범위를 한정하는 것은 아 니다. 명세서의 간결함을 위하여, 종래 전자적인 구성들, 제어 시스템들, 소프트웨어, 상기 시스템들의 다른 기 능적인 측면들의 기재는 생략될 수 있다. 또한, 도면에 도시된 구성 요소들 간의 선들의 연결 또는 연결 부재들 은 기능적인 연결 및/또는 물리적 또는 회로적 연결들을 예시적으로 나타낸 것으로서, 실제 장치에서는 대체 가 능하거나 추가의 다양한 기능적인 연결, 물리적인 연결, 또는 회로 연결들로서 나타내어질 수 있다. 또한, \"필 수적인\", \"중요하게\" 등과 같이 구체적인 언급이 없다면 본 개시의 적용을 위하여 반드시 필요한 구성 요소가 아닐 수 있다. 본 개시의 명세서(특히 특허청구범위에서)에서 \"상기\"의 용어 및 이와 유사한 지시 용어의 사용은 단수 및 복수 모두에 해당하는 것일 수 있다. 또한, 본 개시에서 범위(range)를 기재한 경우 상기 범위에 속하는 개별적인 값 을 적용한 발명을 포함하는 것으로서(이에 반하는 기재가 없다면), 발명의 상세한 설명에 상기 범위를 구성하는 각 개별적인 값을 기재한 것과 같다. 마지막으로, 본 개시에 따른 방법을 구성하는 단계들에 대하여 명백하게 순서를 기재하거나 반하는 기재가 없다면, 상기 단계들은 적당한 순서로 행해질 수 있다. 반드시 상기 단계들의 기재 순서에 따라 본 개시가 한정되는 것은 아니다. 본 개시에서 모든 예들 또는 예시적인 용어(예들 들어, 등 등)의 사용은 단순히 본 개시를 상세히 설명하기 위한 것으로서 특허청구범위에 의해 한정되지 않는 이상 상기 예들 또는 예시적인 용어로 인해 본 개시의 범위가 한정되는 것은 아니다. 또한, 당업자는 다양한 수정, 조합 및 변경이 부가된 특허청구범위 또는 그 균등물의 범주 내에서 설계 조건 및 팩터에 따라 구성될 수 있음을 알 수 있다. 이상에서 설명된 장치는 하드웨어 구성요소, 소프트웨어 구성요소, 및/또는 하드웨어 구성요소 및 소프트웨어 구성요소의 조합으로 구현될 수 있다. 예를 들어, 실시예들에서 설명된 장치 및 구성요소는, 예를 들어, 프로세 서, 콘트롤러, ALU(arithmetic logic unit), 디지털 신호 프로세서(digital signal processor), 마이크로컴퓨 터, FPGA(field programmable gate array), PLU(programmable logic unit), 마이크로프로세서, 또는 명령 (instruction)을 실행하고 응답할 수 있는 다른 어떠한 장치와 같이, 하나 이상의 범용 컴퓨터 또는 특수 목적 컴퓨터를 이용하여 구현될 수 있다. 처리 장치는 운영 체제(operating system: OS) 및 운영 체제 상에서 수행되 는 하나 이상의 소프트웨어 어플리케이션을 수행할 수 있다. 또한, 처리 장치는 소프트웨어의 실행에 응답하여, 데이터를 접근, 저장, 조작, 처리 및 생성할 수도 있다. 이해의 편의를 위하여, 처리 장치는 하나가 사용되는"}
{"patent_id": "10-2023-0051217", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 11, "content": "것으로 설명된 경우도 있지만, 해당 기술분야에서 통상의 지식을 가진 자는, 처리 장치가 복수 개의 처리 요소 (processing element) 및/또는 복수 유형의 처리 요소를 포함할 수 있음을 알 수 있다. 예를 들어, 처리 장치는 복수 개의 프로세서 또는 하나의 프로세서 및 하나의 콘트롤러를 포함할 수 있다. 또한, 병렬 프로세서 (parallel processor)와 같은, 다른 처리 구성(processing configuration)도 가능하다."}
{"patent_id": "10-2023-0051217", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 일 실시예에 따른 인공지능 기반 질병 진단 및 치료 계획 생성 방법의 흐름도이다. 도 2는 일 실시예에 따라 합성 CT 영상을 생성하여 치료 계획을 생성하는 방법을 설명하기 위한 도면이다. 도 3은 일 실시예에 따른 강화 MR 영상을 생성하는 방법을 설명하기 위한 도면이다. 도 4는 일 실시예에 따라 암을 진단하고 암 치료 전략을 수립하는 방법을 설명하기 위한 도면이다. 도 5는 일 실시예에 따른 자동 컨투어링 (auto contouring) 방법을 설명하기 위한 도면이다. 도 6은 도 2 내지 도 5에 따라 합성 CT 영상을 생성하여 치료 계획을 생성하는 방법을 설명하기 위한 도면이다. 도 7 및 도 8은 일 실시예에 따라 합성 CT 영상을 생성하는 머신 러닝 모델을 설명하기 위한 도면이다. 도 9 및 도 10은 일 실시예에 따른 합성 CT 영상의 정확성을 평가하고 치료선량을 계산하는 방법을 설명하기 위 한 도면이다. 도 11 은 일 실시예에 따라 확산 강조 (diffusion weighted; DW) MR 영상으로부터 산소 농도를 출력하는 방법을 설명하기 위한 도면이다. 도 12 는 일 실시예에 따라 MR 영상으로부터 OER (oxygen enhancement ratio) 을 계산하는 방법을 설명하기 위 한 도면이다. 도 13은 일 실시예에 따라 방사선 요법 치료의 치료선량 증가에 의한 정상 조직의 부작용을 평가하는 방법을 설 명하기 위한 도면이다. 도 14는 일 실시예에 따른 전자 디바이스의 블록도이다."}
