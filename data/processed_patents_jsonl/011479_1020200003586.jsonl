{"patent_id": "10-2020-0003586", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2021-0090394", "출원번호": "10-2020-0003586", "발명의 명칭": "머신러닝을 이용한 지능형 스마트팜 운영 시스템", "출원인": "(주)알파랩에이아이", "발명자": "조태호"}}
{"patent_id": "10-2020-0003586", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "스마트팜의 농작물을 관리하기 위한 지능형 스마트팜 운영 시스템에 있어서:상기 스마트팜에 설치되어 농작물의 재배환경에 필요한 대상을 측정하거나 또는 농작물에 필요한 공급물질의 공급상태를 측정하는 IoT센서들;상기 스마트팜에 설치되어 농작물의 재배환경을 제어하거나 또는 농작물에 필요한 물질을 공급하는 제어유닛들;상기 스마트팜에 설치되어 상기 IoT센서들로부터 측정데이터들을 수신 받으며, 수신 받은 측정데이터들을 매칭시킨 수집데이터를 외부로 송출하는 컨트롤러;상기 컨트롤러로부터 전송받은 수집데이터를 분석하여 현재 상태에 대응되는 최적의 환경 및 조건을 유지하기위한 상기 제어유닛들의 구동제어신호인 제어데이터를 생성하는 스마트팜 관리서버를 포함하고,상기 컨트롤러를 상기 스마트팜 관리서버로부터 제어데이터를 전송받으면, 전송받은 제어데이터에 따라 상기 제어유닛들이 동작하도록 상기 제어유닛들을 제어하는 것을 특징으로 하는 지능형 스마트팜 운영 시스템."}
{"patent_id": "10-2020-0003586", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "청구항 제1항에 있어서, 상기 컨트롤러에는 상기 IoT센서들 각각에 대응되는 카테고리 정보 및 상기 제어유닛들각각에 대응되는 카테고리 정보가 저장되고,상기 컨트롤러는 상기 IoT센서들로부터 상기 주기(T) 마다 수신 받은 측정데이터들 각각을 대응되는 카테고리정보와 매칭시켜 합친 수집데이터를 생성한 후, 생성된 수집데이터를 상기 스마트팜 관리서버로 전송하고,상기 스마트팜 관리서버는상기 컨트롤러와 데이터를 송수신하는 데이터 송수신부;상기 IoT센서들 각각에 카테고리 정보가 매칭된 제1 기준테이블과, 상기 제어유닛들 각각에 카테고리 정보가 매칭된 제2 기준테이블이 저장되는 데이터베이스부;상기 카테고리들 각각의 특성에 대응하는 머신러닝 알고리즘들을 각각 이용하여 해당 카테고리의 수집데이터를분석하여 카테고리별로 제어데이터를 출력하는 머신러닝 기반 수집데이터 분석부;상기 머신러닝 기반 수집데이터 분석부에 의해 출력된 제어데이터들을 매칭시켜 제어데이터를 생성하는 제어데이터 생성부;상기 제어데이터 생성부에 의해 생성된 제어데이터가 상기 컨트롤러로 전송되도록 상기 데이터 송수신부를 제어하는 제어부를 포함하는 것을 특징으로 하는 지능형 스마트팜 운영 시스템."}
{"patent_id": "10-2020-0003586", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "청구항 제2항에 있어서, 상기 머신러닝 기반 수집데이터 분석부는수집데이터들을 카테고리별로 정렬 및 분류시키는 카테고리별 데이터 추출모듈;각 카테고리의 수집데이터를 해당 카테고리의 머신러닝 알고리즘에 활용 가능한 수치벡터로 변환시키는 인코더들;상기 인코더들에 의해 변환된 각 카테고리의 수치벡터를 해당 카테고리에 대응되는 머신러닝 알고리즘의 입력값으로 하여 해당 카테고리의 제어데이터를 출력하는 머신러닝 기반 수집데이터 분석모듈들을 포함하는 것을 특징으로 하는 지능형 스마트팜 운영 시스템."}
{"patent_id": "10-2020-0003586", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "공개특허 10-2021-0090394-3-청구항 제3항에 있어서, 상기 스마트팜 관리서버는 데이터 손실/누락 판별 및 복원부를 더 포함하고,상기 데이터 손실/누락 판별 및 복원부는상기 컨트롤러로부터 전송받은 수집데이터를 카테고리별로 분류 및 추출하는 카테고리별 데이터 추출부;상기 제1 기준테이블을 활용하여 상기 카테고리별 데이터 추출부에 의해 추출된 각 카테고리의 수집데이터들중, 1)노이즈가 임계치 이상이거나 또는 2)측정데이터를 전송하지 않은 IoT센서가 존재할 때, 데이터 손실/누락이 발생하였다고 판단하는 탐색 및 판단부;상기 탐색 및 판단부에 의해 데이터 손실/누락이 발생하였다고 판단될 때 실행되어 데이터 손실/누락된 데이터를 복원시키는 복원부를 포함하고,상기 제어부는 상기 탐색 및 판단부에 의해 데이터 손실/누락이 발생하지 않았다고 판단될 때, 수집데이터를 그대로 상기 머신러닝 기반 수집데이터 분석부로 입력하되, 상기 탐색 및 판단부에 의해 데이터/손실 누락이 발생하였다고 판단될 때, 상기 복원부에 의해 복원된 수집데이터를 상기 머신러닝 기반 수집데이터 분석부로 입력하는 것을 특징으로 하는 지능형 스마트팜 운영 시스템."}
{"patent_id": "10-2020-0003586", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "청구항 제4항에 있어서, 상기 복원부는상기 데이터베이스부를 탐색하여 현재 시점으로부터 기 설정된 이전시점까지에 저장된 수집데이터들인 비교대상데이터들을 추출하는 비교대상 데이터 추출모듈;기 설정된 유사도 검출 알고리즘을 이용하여 입력된 수집데이터와 추출된 각 비교대상 데이터의 유사도(a)를 산출하는 유사도 산출모듈;상기 유사도 산출모듈에 의해 산출된 유사도(a)들 중 가장 높은 유사도를 갖는 비교대상 데이터를 복원대상으로결정하고, 결정된 복원대상의 수집데이터에서, 데이터 손실/누락된 카테고리와 동일한 카테고리의 데이터를 수집데이터의 복원값으로 결정하는 비교 및 복원값 검출모듈;입력된 수집데이터에서, 손실/누락된 데이터를 상기 비교 및 복원값 검출모듈에 의해 검출된 복원값으로 대체시킴으로써 수집데이터를 복원하는 복원모듈을 포함하는 것을 특징으로 하는 지능형 스마트팜 운영 시스템."}
{"patent_id": "10-2020-0003586", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "청구항 제3항에 있어서, 상기 컨트롤러에는 해당 카테고리의 측정데이터가 유효한 데이터인지 또는 유효하지 않은 데이터인지를 판별하기 위한 기준데이터인 각 카테고리별 설정값(TH, Threshold) 및 임계범위가 기 설정되어저장되고,상기 컨트롤러는상기 IoT센서들로부터 전송받은 측정데이터들을 입력받는 측정데이터 입력모듈;기 설정된 각 카테고리별 설정값(TH) 및 임계범위를 활용하여, 상기 측정데이터 입력모듈에 의해 입력된 각 카테고리의 측정데이터가 해당 설정값(TH)을 기준으로 한 임계범위 이내에 포함되는지를 비교하며, 만약 동일 카테고리의 측정데이터가 해당 카테고리의 설정값(TH)의 임계범위를 벗어나면, 해당 측정데이터를 유효한 데이터인 유효데이터로 판별하고, 만약 동일 카테고리의 측정데이터가 해당 카테고리의 설정값(TH)의 임계범위에 포함되면, 해당 측정데이터를 유효하지 않은 데이터인 무효데이터로 판별하는 설정값 비교 및 판별모듈;상기 측정데이터 입력모듈을 통해 입력된 측정데이터들 중, 상기 설정값 비교 및 판별모듈에 의해 무효데이터로판별된 측정데이터들을 필터링 하여 유효데이터로 판별된 측정데이터들만 선별하는 필터링 및 유효값 선별모듈을 포함하고,상기 컨트롤러는 상기 필터링 및 유효값 선별모듈에 의해 선별된 유효데이터들 각각에 카테고리 정보를 매칭시켜 수집데이터를 생성하고,상기 스마트판 관리서버는 수집데이터 가공부를 더 포함하고,상기 수집데이터 가공부는공개특허 10-2021-0090394-4-상기 데이터 송수신부를 통해 상기 컨트롤러부터 전송받은 수집데이터를 입력받는 입력모듈;상기 제1 기준테이블을 활용하여 상기 입력모듈을 통해 입력된 수집데이터에서, 상기 스마트팜의 IoT센서들 중데이터를 전송하지 않은 IoT센서인 누락대상이 존재하는지를 검출하는 탐색 및 누락대상 검출모듈;상기 탐색 및 누락대상 검출모듈에 의해 누락대상이 검출될 때 실행되며, 상기 데이터베이스부를 탐색하여 누락대상의 카테고리에 대응되는 설정값(TH)을 추출한 후, 추출된 설정값(TH)을 해당 카테고리의 수집데이터로 대체시키는 방식으로 수집데이터를 가공하는 수집데이터 가공모듈을 포함하고,상기 스마트팜 관리서버의 상기 제어부는 1)상기 탐색 및 누락대상 검출모듈에 의해 누락대상이 검출되지 않을때, 전송받은 수집데이터를 상기 데이터베이스부에 저장함과 동시에 상기 머신러닝 기반 수집데이터 분석부로입력하며, 2)상기 탐색 및 누락대상 검출모듈에 의해 누락대상이 검출도리 때, 상기 수집데이터 가공모듈에 의해 가공된 수집데이터를 상기 데이터베이스부에 저장함과 동시에 상기 머신러닝 기반 수집데이터 분석부로 입력하고,상기 컨트롤러는 기 설정된 기간 동안 수집된 각 카테고리의 측정데이터들 전체가 해당 카테고리의 설정값(TH)의 임계범위에 포함되는지 아닌지를 판별하며, 만약 카테고리별로 추출된 측정데이터들 전체가 해당 카테고리의 설정값(TH)의임계범위에 포함되지 않을 때, 해당 카테고리의 설정값(TH)을 재설정할 필요가 있다고 판단하고, 만약 카테고리별로 추출된 측정데이터들 중 하나 이상이 해당 카테고리의 설정값(TH)의 임계범위에 포함될 때, 해당 카테고리의 설정값(TH)을 재설정할 필요가 없다고 판단하고, 설정값(TH)을 재설정할 필요가 있다고 판단될 때, 해당 카테고리의 추출된 측정데이터들의 평균값을 설정값(TH)으로 재설정하는 설정값 재설정모듈을 더 포함하고,상기 컨트롤러는 상기 설정값 재설정모듈에 의해 설정값(TH)이 재설정되면, 재설정된 설정값(TH)을 저장함과 동시에 해당 카테고리와 매칭시켜 상기 스마트팜 관리서버로 전송하는 것을 특징으로 하는 지능형 스마트팜 운영시스템."}
{"patent_id": "10-2020-0003586", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 스마트팜 관리서버가 재배공간인 스마트팜에 설치된 IoT센서들로부터 측정된 수집데이터들을 분석하여 현재 상태에 대응하는 최적의 환경 및 조건을 유지하기 위한 제어데이터를 생성함과 동시에 스마트팜의 제어유닛 들이 스마트팜 관리서버에 의해 생성된 제어데이터에 따라 환경 및 물질의 공급이 이루어지도록 구성됨으로써 농 (뒷면에 계속)"}
{"patent_id": "10-2020-0003586", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 머신러닝을 이용한 지능형 스마트팜 운영 시스템에 관한 것으로서, 상세하게로는 스마트팜의 IoT센서 들에 의해 수집된 데이터를 활용하여 머신러닝을 이용하여 스마트팜을 지능적으로 관리 및 운용하기 위한 지능 형 스마트팜 운영 시스템에 관한 것이다."}
{"patent_id": "10-2020-0003586", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "최근 들어 통신 인프라가 확장되고 센싱기술이 고도화됨에 따라 각종 현장의 시설물들을 모니터링 및 장애예방 을 위한 목적으로 유비쿼터스 센서 네트워크(USN, Ubiquitous Sensor Network) 또는 센서 네트워크 시스템 기반 의 시설물 관리 기술들이 보급화 되고 있는 추세이다. 특히 농업은 먹거리를 생산하는 인류 생존에 필수적인 산업이지만, 전통적인 농업기술이 유지되고 있어 가장 현 신이 느린 산업임과 더불어 현재 농업 생산인구의 감소와 고령화로 인해 미래 먹거리 생산에 대한 불안이 증대 되고 있다. 이에 따라 ICT(Information and Communication Technology)를 농업에 접목시켜 농작물의 생육환경을 관리하며, 생산효율성을 높이기 위한 스마트 팜(Smart farm)에 대한 다양한 연구가 이루어지고 있다. 도 1은 국내공개특허 제10-2019-0140507호(발명의 명칭 : 사물인터넷과 빅데이터플랫폼을 이용한 스마트팜 관리 시스템)에 개시된 스마트팜 관리시스템을 나타내는 개략적으로 나타내는 도면이다. 도 1의 스마트팜 관리시스템(이하 종래기술이라고 함)은 IoT 디바이스와, 빅데이터 플랫폼, 사 용자 단말기, 재배환경 제어장치로 이루어진다. IoT 디바이스는 작물 재배환경 및 생육상태를 측정하는 센서들로 이루어지고, 상세하게로는 작물 재배환경 의 온도, 습도, 일사량, 토양수분, pH 및 CO2농도를 포함한 재배환경을 측정하는 재배환경측정 IoT 디바이스 와, 작물의 생장상태를 측정하는 작물상태측정 IoT 디바이스로 이루어진다.또한 IoT 디바이스는 IoT 게이트웨이를 경유하여 측정된 재배환경 및 작물상태에 대한 측정 IoT 데이터를 빅데이터 플랫폼으로 전송한다. 빅데이터 플랫폼은 복수의 IoT 디바이스와 통신하여, 복수의 IoT 디바이스로부터 작물 재배환경 및 생육상태에 대한 측정 IoT 데이터를 수신한 후, 수집된 IoT 데이터에 기초한 빅데이터를 분석 및 가공하여 작물의 생장환경을 분석하며, 분석된 작물의 생장환경 분석데이터를 기초로 재배 작물에 대한 재배환경 제어데 이터를 생성한다. 또한 빅데이터 플랫폼은 수집된 IoT 데이터를 시각화하는 시각화 정보를 생성한 후, 생성된 시각화 정보를 사용자 단말기로 전송한다. 사용자 단말기는 빅데이터 플랫폼과 네트워크를 통하여 연결되어 빅데이터 플랫폼으로부터 공급 받은 시각화된 IoT 데이터정보를 디스플레이 한다. 재배환경 제어장치는 빅데이터 플랫폼으로부터 전송ㅈ받은 재배환경 제어데이터에 따라 작물의 재배 환경을 제어한다. 이와 같이 구성되는 종래기술은 원격지에서 사용자 단말기를 통해 재배 작물의 생장환경 분석데이터 를 확인할 수 있을 뿐만 아니라, 빅데이터를 기반으로 작물의 재배환경을 최적의 상태로 제어할 수 있는 장점을 갖는다. 일반적으로 종래기술의 재배환경측정 IoT 디바이스들은 온도, 습도, 일사량, 토양수분, pH 및 CO2농 도 등을 측정하도록 분류되고, 이에 따라 빅데이터 플랫폼은 측정 IoT 데이터를 분석할 때, 해당 카테고리 의 특성에 적합한 머신러닝 알고리즘을 사용하는 것이 유용하나, 종래기술의 빅데이터 플랫폼은 측정 IoT 데이터들의 카테고리에 따라 최적의 머신러닝 알고리즘이 적용되도록 하는 구성이 기재되어 있지 않기 때문 에 작물의 재배환경을 최적으로 제어하지 못하는 구조적 한계를 갖는다. 또한 종래기술은 IoT 디바이스가 측정 IoT 데이터를 빅데이터 플랫폼으로 전송 시, 일시적인 통 신장애 또는 부하로 인해 데이터누락, 손실이 발생하더라도, 이를 대처하지 못하는 단점을 갖는다. 또한 종래기술은 복수개의 IoT 게이트웨이들이 적용될 때, 빅데이터 플랫폼이 복수개의 IoT 게이트웨 이들로부터 실시간으로 측정 IoT 데이터들을 전송받기 때문에 방대한 데이터 송수신으로 인한 네트워크 부하가 과도하게 증가하는 문제점이 발생한다."}
{"patent_id": "10-2020-0003586", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 이러한 문제를 해결하기 위한 것으로, 본 발명의 해결과제는 스마트팜 관리서버가 재배공간인 스마트 팜에 설치된 IoT센서들로부터 측정된 수집데이터들을 분석하여 현재 상태에 대응하는 최적의 환경 및 조건을 유 지하기 위한 제어데이터를 생성함과 동시에 스마트팜의 제어유닛들이 스마트팜 관리서버에 의해 생성된 제어데 이터에 따라 환경 및 물질의 공급이 이루어지도록 구성됨으로써 농작물의 생산량 및 품질을 극대화시킬 수 있을 뿐만 아니라 작업인력 및 시간을 절감시킬 수 있는 머신러닝을 이용한 지능형 스마트팜 운영 시스템을 제공하기 위한 것이다. 또한 본 발명의 다른 해결과제는 스마트팜 관리서버가 기 설정된 카테고리별로 특화된 머신러닝 알고리즘들을 각각 이용하여 카테고리별로 수집데이터를 분석하도록 구성됨으로써 현재 상태에 따라 출력되는 제어데이터의 정확성 및 신뢰도를 높일 수 있고, 이에 따라 농작물 생산량 및 품질을 더욱 개선시킬 수 있는 머신러닝을 이용 한 지능형 스마트팜 운영 시스템을 제공하기 위한 것이다. 또한 본 발명의 또 다른 해결과제는 스마트팜 관리서버가 컨트롤러로부터 전송받은 수집데이터에서 데이터 손실 /누락이 발생하였는지를 판단하되, 데이터 손실/누락이 발생할 때, 기 저장된 수집데이터들 중 유사도가 가장 높은 수집데이터를 손실/누락된 데이터로 대체시킴으로써 일시적인 부하 및 충돌로 인해 데이터 손실/누락이 발 생하더라도, 안정적인 서비스를 지속적으로 제공할 수 있는 머신러닝을 이용한 지능형 스마트팜 운영시스템을 제공하기 위한 것이다. 또한 본 발명의 또 다른 해결과제는 컨트롤러가 수집된 측정데이터가 기 설정된 설정값(TH)의 임계범위 이내일 때, 해당 측정데이터를 유효하지 않은 데이터로 판별하여 스마트팜 관리서버로 전송하지 않되, 스마트팜 관리서버가 컨트롤러로부터 전송받은 수집데이터에서 누락된 데이터가 존재할 때, 해당 카테고리의 설정값(TH)을 누락 된 데이터로 대체시킨 후, 이를 활용하도록 구성됨으로써 데이터 송수신의 효율성을 극대화시킴과 동시에 방대 한 데이터 전송으로 인한 네트워크 부하를 효과적으로 절감시킬 수 있는 머신러닝을 이용한 지능형 스마트팜 운 영 시스템을 제공하기 위한 것이다."}
{"patent_id": "10-2020-0003586", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 과제를 해결하기 위한 본 발명의 해결수단은 스마트팜의 농작물을 관리하기 위한 지능형 스마트팜 운영 시 스템에 있어서: 상기 스마트팜에 설치되어 농작물의 재배환경에 필요한 대상을 측정하거나 또는 농작물에 필요 한 공급물질의 공급상태를 측정하는 IoT센서들; 상기 스마트팜에 설치되어 농작물의 재배환경을 제어하거나 또 는 농작물에 필요한 물질을 공급하는 제어유닛들; 상기 스마트팜에 설치되어 상기 IoT센서들로부터 측정데이터 들을 수신 받으며, 수신 받은 측정데이터들을 매칭시킨 수집데이터를 외부로 송출하는 컨트롤러; 상기 컨트롤러 로부터 전송받은 수집데이터를 분석하여 현재 상태에 대응되는 최적의 환경 및 조건을 유지하기 위한 상기 제어 유닛들의 구동제어신호인 제어데이터를 생성하는 스마트팜 관리서버를 포함하고, 상기 컨트롤러를 상기 스마트 팜 관리서버로부터 제어데이터를 전송받으면, 전송받은 제어데이터에 따라 상기 제어유닛들이 동작하도록 상기 제어유닛들을 제어하는 것이다. 또한 본 발명에서 상기 컨트롤러에는 상기 IoT센서들 각각에 대응되는 카테고리 정보 및 상기 제어유닛들 각각 에 대응되는 카테고리 정보가 저장되고, 상기 컨트롤러는 상기 IoT센서들로부터 상기 주기(T) 마다 수신 받은 측정데이터들 각각을 대응되는 카테고리 정보와 매칭시켜 합친 수집데이터를 생성한 후, 생성된 수집데이터를 상기 스마트팜 관리서버로 전송하고, 상기 스마트팜 관리서버는 상기 컨트롤러와 데이터를 송수신하는 데이터 송수신부; 상기 IoT센서들 각각에 카테고리 정보가 매칭된 제1 기준테이블과, 상기 제어유닛들 각각에 카테고리 정보가 매칭된 제2 기준테이블이 저장되는 데이터베이스부; 상기 카테고리들 각각의 특성에 대응하는 머신러닝 알고리즘들을 각각 이용하여 해당 카테고리의 수집데이터를 분석하여 카테고리별로 제어데이터를 출력하는 머신 러닝 기반 수집데이터 분석부; 상기 머신러닝 기반 수집데이터 분석부에 의해 출력된 제어데이터들을 매칭시켜 제어데이터를 생성하는 제어데이터 생성부; 상기 제어데이터 생성부에 의해 생성된 제어데이터가 상기 컨트롤러 로 전송되도록 상기 데이터 송수신부를 제어하는 제어부를 포함하는 것이 바람직하다. 또한 본 발명에서 상기 머신러닝 기반 수집데이터 분석부는 수집데이터들을 카테고리별로 정렬 및 분류시키는 카테고리별 데이터 추출모듈; 각 카테고리의 수집데이터를 해당 카테고리의 머신러닝 알고리즘에 활용 가능한 수치벡터로 변환시키는 인코더들; 상기 인코더들에 의해 변환된 각 카테고리의 수치벡터를 해당 카테고리에 대 응되는 머신러닝 알고리즘의 입력값으로 하여 해당 카테고리의 제어데이터를 출력하는 머신러닝 기반 수집데이 터 분석모듈들을 포함하는 것이 바람직하다. 또한 본 발명에서 상기 스마트팜 관리서버는 데이터 손실/누락 판별 및 복원부를 더 포함하고, 상기 데이터 손 실/누락 판별 및 복원부는 상기 컨트롤러로부터 전송받은 수집데이터를 카테고리별로 분류 및 추출하는 카테고 리별 데이터 추출부; 상기 제1 기준테이블을 활용하여 상기 카테고리별 데이터 추출부에 의해 추출된 각 카테고 리의 수집데이터들 중, 1)노이즈가 임계치 이상이거나 또는 2)측정데이터를 전송하지 않은 IoT센서가 존재할 때, 데이터 손실/누락이 발생하였다고 판단하는 탐색 및 판단부; 상기 탐색 및 판단부에 의해 데이터 손실/누락 이 발생하였다고 판단될 때 실행되어 데이터 손실/누락된 데이터를 복원시키는 복원부를 포함하고, 상기 제어부 는 상기 탐색 및 판단부에 의해 데이터 손실/누락이 발생하지 않았다고 판단될 때, 수집데이터를 그대로 상기 머신러닝 기반 수집데이터 분석부로 입력하되, 상기 탐색 및 판단부에 의해 데이터/손실 누락이 발생하였다고 판단될 때, 상기 복원부에 의해 복원된 수집데이터를 상기 머신러닝 기반 수집데이터 분석부로 입력하는 것이 바람직하다. 또한 본 발명에서 상기 복원부는 상기 데이터베이스부를 탐색하여 현재 시점으로부터 기 설정된 이전시점까지에 저장된 수집데이터들인 비교대상 데이터들을 추출하는 비교대상 데이터 추출모듈; 기 설정된 유사도 검출 알고 리즘을 이용하여 입력된 수집데이터와 추출된 각 비교대상 데이터의 유사도(a)를 산출하는 유사도 산출모듈; 상 기 유사도 산출모듈에 의해 산출된 유사도(a)들 중 가장 높은 유사도를 갖는 비교대상 데이터를 복원대상으로 결정하고, 결정된 복원대상의 수집데이터에서, 데이터 손실/누락된 카테고리와 동일한 카테고리의 데이터를 수 집데이터의 복원값으로 결정하는 비교 및 복원값 검출모듈; 입력된 수집데이터에서, 손실/누락된 데이터를 상기 비교 및 복원값 검출모듈에 의해 검출된 복원값으로 대체시킴으로써 수집데이터를 복원하는 복원모듈을 포함하 는 것이 바람직하다. 또한 본 발명에서 상기 컨트롤러에는 해당 카테고리의 측정데이터가 유효한 데이터인지 또는 유효하지 않은 데 이터인지를 판별하기 위한 기준데이터인 각 카테고리별 설정값(TH, Threshold) 및 임계범위가 기 설정되어 저장 되고, 상기 컨트롤러는 상기 IoT센서들로부터 전송받은 측정데이터들을 입력받는 측정데이터 입력모듈; 기 설정 된 각 카테고리별 설정값(TH) 및 임계범위를 활용하여, 상기 측정데이터 입력모듈에 의해 입력된 각 카테고리의 측정데이터가 해당 설정값(TH)을 기준으로 한 임계범위 이내에 포함되는지를 비교하며, 만약 동일 카테고리의 측정데이터가 해당 카테고리의 설정값(TH)의 임계범위를 벗어나면, 해당 측정데이터를 유효한 데이터인 유효데 이터로 판별하고, 만약 동일 카테고리의 측정데이터가 해당 카테고리의 설정값(TH)의 임계범위에 포함되면, 해 당 측정데이터를 유효하지 않은 데이터인 무효데이터로 판별하는 설정값 비교 및 판별모듈; 상기 측정데이터 입 력모듈을 통해 입력된 측정데이터들 중, 상기 설정값 비교 및 판별모듈에 의해 무효데이터로 판별된 측정데이터 들을 필터링 하여 유효데이터로 판별된 측정데이터들만 선별하는 필터링 및 유효값 선별모듈을 포함하고, 상기 컨트롤러는 상기 필터링 및 유효값 선별모듈에 의해 선별된 유효데이터들 각각에 카테고리 정보를 매칭시켜 수 집데이터를 생성하고, 상기 스마트판 관리서버는 수집데이터 가공부를 더 포함하고, 상기 수집데이터 가공부는 상기 데이터 송수신부를 통해 상기 컨트롤러부터 전송받은 수집데이터를 입력받는 입력모듈; 상기 제1 기준테이 블을 활용하여 상기 입력모듈을 통해 입력된 수집데이터에서, 상기 스마트팜의 IoT센서들 중 데이터를 전송하지 않은 IoT센서인 누락대상이 존재하는지를 검출하는 탐색 및 누락대상 검출모듈; 상기 탐색 및 누락대상 검출모 듈에 의해 누락대상이 검출될 때 실행되며, 상기 데이터베이스부를 탐색하여 누락대상의 카테고리에 대응되는 설정값(TH)을 추출한 후, 추출된 설정값(TH)을 해당 카테고리의 수집데이터로 대체시키는 방식으로 수집데이터 를 가공하는 수집데이터 가공모듈을 포함하고, 상기 스마트팜 관리서버의 상기 제어부는 1)상기 탐색 및 누락대 상 검출모듈에 의해 누락대상이 검출되지 않을 때, 전송받은 수집데이터를 상기 데이터베이스부에 저장함과 동 시에 상기 머신러닝 기반 수집데이터 분석부로 입력하며, 2)상기 탐색 및 누락대상 검출모듈에 의해 누락대상이 검출도리 때, 상기 수집데이터 가공모듈에 의해 가공된 수집데이터를 상기 데이터베이스부에 저장함과 동시에 상기 머신러닝 기반 수집데이터 분석부로 입력하고, 상기 컨트롤러는 기 설정된 기간 동안 수집된 각 카테고리 의 측정데이터들 전체가 해당 카테고리의 설정값(TH)의 임계범위에 포함되는지 아닌지를 판별하며, 만약 카테고 리별로 추출된 측정데이터들 전체가 해당 카테고리의 설정값(TH)의 임계범위에 포함되지 않을 때, 해당 카테고 리의 설정값(TH)을 재설정할 필요가 있다고 판단하고, 만약 카테고리별로 추출된 측정데이터들 중 하나 이상이 해당 카테고리의 설정값(TH)의 임계범위에 포함될 때, 해당 카테고리의 설정값(TH)을 재설정할 필요가 없다고 판단하고, 설정값(TH)을 재설정할 필요가 있다고 판단될 때, 해당 카테고리의 추출된 측정데이터들의 평균값을 설정값(TH)으로 재설정하는 설정값 재설정모듈을 더 포함하고, 상기 컨트롤러는 상기 설정값 재설정모듈에 의해 설정값(TH)이 재설정되면, 재설정된 설정값(TH)을 저장함과 동시에 해당 카테고리와 매칭시켜 상기 스마트팜 관 리서버로 전송하는 것이 바람직하다."}
{"patent_id": "10-2020-0003586", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "상기 과제와 해결수단을 갖는 본 발명에 따르면 스마트팜 관리서버가 재배공간인 스마트팜에 설치된 IoT센서들 로부터 측정된 수집데이터들을 분석하여 현재 상태에 대응하는 최적의 환경 및 조건을 유지하기 위한 제어데이 터를 생성함과 동시에 스마트팜의 제어유닛들이 스마트팜 관리서버에 의해 생성된 제어데이터에 따라 환경 및 물질의 공급이 이루어지도록 구성됨으로써 농작물의 생산량 및 품질을 극대화시킬 수 있을 뿐만 아니라 작업인 력 및 시간을 절감시킬 수 있게 된다. 또한 본 발명에 의하면 스마트팜 관리서버가 기 설정된 카테고리별로 특화된 머신러닝 알고리즘들을 각각 이용 하여 카테고리별로 수집데이터를 분석하도록 구성됨으로써 현재 상태에 따라 출력되는 제어데이터의 정확성 및 신뢰도를 높일 수 있고, 이에 따라 농작물 생산량 및 품질을 더욱 개선시킬 수 있다. 또한 본 발명에 의하면 스마트팜 관리서버가 컨트롤러로부터 전송받은 수집데이터에서 데이터 손실/누락이 발생 하였는지를 판단하되, 데이터 손실/누락이 발생할 때, 기 저장된 수집데이터들 중 유사도가 가장 높은 수집데이 터를 손실/누락된 데이터로 대체시킴으로써 일시적인 부하 및 충돌로 인해 데이터 손실/누락이 발생하더라도, 안정적인 서비스를 지속적으로 제공할 수 있게 된다. 또한 본 발명에 의하면 컨트롤러가 수집된 측정데이터가 기 설정된 설정값(TH)의 임계범위 이내일 때, 해당 측 정데이터를 유효하지 않은 데이터로 판별하여 스마트팜 관리서버로 전송하지 않되, 스마트팜 관리서버가 컨트롤 러로부터 전송받은 수집데이터에서 누락된 데이터가 존재할 때, 해당 카테고리의 설정값(TH)을 누락된 데이터로 대체시킨 후, 이를 활용하도록 구성됨으로써 데이터 송수신의 효율성을 극대화시킴과 동시에 방대한 데이터 전 송으로 인한 네트워크 부하를 효과적으로 절감시킬 수 있게 된다."}
{"patent_id": "10-2020-0003586", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면을 참조하여 본 발명의 일실시예를 설명한다. 도 2는 본 발명의 일실시예인 지능형 스마트팜 운영 시스템을 나타내는 구성도이다. 본 발명의 일실시예인 지능형 스마트팜 운영 시스템은 도 2에 도시된 바와 같이, 농작물 재배공간인 스마트 팜(2-1), ..., (2-N)들 각각에 설치되어 재배환경, 작황상태, 공급물질 공급상태 등을 측정하는 IoT센서(5-1), ..., (5-N)들과, 각 스마트팜에 설치되어 환경 및 공급물질의 공급량을 제어하는 제어유닛(6-1), ..., (6- N)들과, 각 스마트팜에 설치되어 농작물을 촬영하여 영상을 획득하는 카메라들과, IoT센서(5-1), ..., (5-N)들에 의해 측정된 측정데이터를 수집하며 기 설정된 주기(T) 마다 수집된 데이터를 후술되는 스마트팜 관 리서버로 전송하는 컨트롤러(3-1), ..., (3-N)들과, 컨트롤러(3-1), ..., (3-N)들로부터 전송받은 수집데이 터를 저장함과 동시에 이를 기 설정된 머신러닝 알고리즘들을 통해 분석하여 현재 상태에 대응되는 제어데이터 를 생성한 후, 생성된 제어데이터를 해당 컨트롤러로 전송하는 스마트팜 관리서버와, 스마트팜 관리서버 에서 제공하는 스마트팜 플랫폼에 연동하여 스마트팜 운영서비스를 제공받는 사용자단말기와, 스마트 팜 관리서버 및 컨트롤러(3-1), ..., (3-N)들 사이의 데이터 이동경로를 제공하는 통신망으로 이루어진 다. 이때 도면에는 도시되지 않았으나, 동일 재배공간에 설치된 컨트롤러, IoT센서(5-1), (5-N)들, 카메라 및 제어유닛(6-1), ..., (6-N)들은 유무선 근거리통신망(미도시)으로 연결되어 데이터를 송수신하도록 구성된다. 또한 도 2에서는 설명의 편의를 위해 각 스마트팜에 단일 카메라가 설치되는 것으로 예를 들어 설명하였 으나, 각 스마트팜에는 2개 이상의 카메라들이 설치될 수 있음은 당연하다. 통신망은 스마트팜 관리서버 및 컨트롤러(3-1), ..., (3-N)들 사이의 데이터통신을 지원하며, 상세하게 로는 광역통신망(WAN), 이동통신망, 유선통신망, LTE, 3G, 4G, 5G 등으로 구성될 수 있다. 카메라는 농작물을 촬영하여 영상을 획득하며, 획득된 영상을 해당 스마트팜의 컨트롤러로 전송한다. 이때 카메라의 촬영에 의해 획득된 영상은 컨트롤러를 통해 스마트팜 관리서버로 전송되고, 스마트팜 관리서버가 전송받은 영상을 분석하여 농작물의 재배상태를 인지함과 동시에 수확예측 및 등급검출 등의 기 능을 수행할 수 있게 된다.도 3은 도 2의 IoT센서를 설명하기 위한 개념도이다. IoT센서(5-1), ..., (5-N)들은 재배공간인 스마트팜에 설치되어 해당 스마트팜의 운영에 필요한 데이터를 측정하기 위한 수단이며, 상세하게로는 기 설정된 감지대상을 측정하는 통상의 센서와, 센서에 의해 측정된 데 이터를 컨트롤러로 송출하는 액츄에이터(Actuator)로 구성된다. 또한 IoT센서는 도 3에 도시된 바와 같이, 해당 재배공간의 환경정보를 측정하기 위한 환경상태 측정용 IoT 센서(S1) 및 해당 농작물의 작황에 필요한 공급물질의 공급상태를 측정하기 위한 공급상태 측정용 IoT센서(S2) 중 어느 하나로 구성될 수 있다. 이때 1)환경상태 측정용 IoT센서(S1)는 온도센서, 습도센서, 조도센서 등과 같이 해당 재배공간의 온도, 습도, 조도, CO, 풍향 등의 환경정보를 측정하기 위한 센서이고, 2)공급상태 측정용 IoT센서(S2)는 배양액, 용수, 기 능성첨가제 등과 같이 해당 농작물의 작황에 필요한 물질인 공급물질의 공급상태를 측정하기 위한 센서이다. 이러한 IoT센서(5-1), ..., (5-N)들에 의해 측정된 측정데이터들은 기 설정된 주기(T) 마다 컨트롤러로 전송 된다. 제어유닛(6-1), ..., (6-N)들은 해당 스마트팜의 환경 및 공급물질의 공급량을 제어하는 수단이며, 상세하게로 는 히터, 냉각기, 조명장치, 송풍기, 환풍기, 배양액 공급밸브, 용수 공급밸브, 기능성첨가제 공급밸브 등의 동 작을 제어하도록 구성된다. 또한 제어유닛(6-1), ..., (6-N)들은 컨트롤러로부터 전송받은 제어데이터에 따라 동작한다. 이때 제어데이 터는 스마트팜 관리서버가 IoT센서(5-1), ..., (5-N)들에 의해 수집된 데이터를 분석하여 현재 상태에 대응 되는 최적의 환경 및 조건을 유지하기 위해 검출한 각 제어유닛의 동작제어신호를 의미한다. 컨트롤러는 해당 스마트팜의 카메라로부터 영상을 수신 받으며, 수신 받은 영상을 스마트팜 관리서버 로 전송한다. 또한 컨트롤러는 해당 스마트팜의 IoT센서(5-1), ..., (5-N)들로부터 주기적으로 측정된 데이터들을 수신 받아 이를 수집한다. 또한 컨트롤러는 수집된 측정데이터들을 매칭시킨 수집데이터들을 기 설정된 주기(T) 마다 스마트팜 관리서 버로 전송한다. 이때 스마트팜 관리서버는 컨트롤러로부터 수집데이터를 전송받으면, 머신러닝 알고리 즘을 이용하여 전송받은 수집데이터를 분석하여 해당 스마트팜의 현재 상태에 대응되는 최적의 환경 및 조건 을 유지하기 위한 제어데이터를 생성한 후, 생성된 제어데이터를 컨트롤러로 전송한다. 또한 컨트롤러는 스마트팜 관리서버로부터 전송받은 제어데이터에 따라 제어유닛(6-1), ..., (6-N)들의 동작을 제어함으로써 스마트팜의 농작물이 최적의 환경 및 조건을 유지할 수 있게 되고, 이에 따라 동일 조 건 대비 생산량 및 품질을 극대화시킬 수 있게 된다. 스마트팜 관리서버는 각 스마트팜의 컨트롤러(3-1), ..., (3-N)들 및 스마트팜 플랫폼의 운영을 관리 및 제어하는 서버이다. 또한 스마트팜 관리서버에는 각 스마트팜의 카메라, IoT센서들 및 제어유닛들 각각의 식별정보 가 저장된다. 또한 스마트팜 관리서버에는 각 스마트팜별로 IoT센서(5-1), ..., (5-N)들 각각에 카테고리 정보가 매칭 된 제1 기준테이블과, 각 스마트팜의 제어유닛(6-1), ..., (6-N)들 각각에 카테고리 정보가 매칭된 제2 기준 테이블이 저장된다. 이때 카테고리는 측정 또는 제어 대상을 식별하기 위한 정보를 의미하고, ‘온도’, ‘습도’, ‘조도’, ‘용 수 공급상태’, ‘영상’ 등으로 이루어질 수 있다. 예를 들어, 제1 기준테이블의 ‘온도’ 카테고리에는 IoT센서로 ‘온도센서’가 매칭될 수 있고, 제2 기준테 이블의 ‘온도’ 카테고리에는 제어유닛으로 ‘히터’, ‘냉각기’가 매칭될 수 있다. 또한 스마트팜 관리서버는 컨트롤러(3-1), ..., (3-N)들로부터 전송받은 수집데이터를 데이터베이스 서버에 저장함과 동시에 각 카테고리별로 기 설정된 머신러닝 알고리즘들을 이용하여 대응되는 수집데이터의 측정데이 터들을 각각 분석하여 해당 카테고리의 측정데이터에 대응되는 제어데이터를 출력한다.이때 머신러닝 알고리즘들에 의해 출력되는 출력값인 제어데이터는 ‘증가’, ‘감소’ 및 ‘유지’로 분류된다. 예를 들어, ‘온도’ 카테고리의 현재 온도가 35℃이고, 최적 조건이 25℃라고 가정할 때, 온도 카테 고리에 대응되는 머신러닝 알고리즘은 출력값인 제어데이터를 ‘감소’로 출력할 수 있다. 또한 스마트팜 관리서버는 각 카테고리별로 검출된 제어데이터들을 매칭시킨 제어데이터를 생성한 후, 생성 된 제어데이터를 해당 컨트롤러로 전송한다. 이때 컨트롤러는 스마트팜 관리서버로부터 전송받은 제어 데이터에 따라 구동되도록 제어유닛(6-1), ..., (6-N)들의 동작을 제어함으로써 스마트팜이 현재 상태에 대 응되는 최적의 환경 및 조건에서 무인 자동화 운영될 수 있고, 이에 따라 생산량 및 품질을 을 극대화시킬 수 있을 뿐만 아니라 운영의 효율성 및 편의성을 높일 수 있게 된다. 사용자단말기는 사용자(User)가 소지한 단말기이며, 상세하게로는 데스크탑 PC(Desk-top PC), 노트북(Note- book), 스마트폰(Smart-phone), 태블릿PC(Tablet PC) 등으로 구성될 수 있다. 또한 사용자단말기는 사용자의 요청에 따라 스마트팜 플랫폼에 연동하여 스마트팜 관리서버로 데이터 를 요청하며, 요청데이터에 대응되는 응답데이터를 디스플레이 할 수 있다. 이때 도면에는 도시되지 않았으나, 사용자단말기에는 스마트팜 플랫폼과 연동하여 사용자에게 스마트팜 관리서비스를 제공하기 위한 소프트웨어, 어플리케이션 및 응용프로그램이 설치될 수 있다. 예를 들어, 작업자는 사용자단말기를 통해 자신의 스마트팜의 모니터링 정보를 원격에서 열람하거나 또는 제 어유닛(6-1), ..., (6-N)들을 제어할 수 있다. 도 4는 도 2의 컨트롤러를 나타내는 블록도이다. 컨트롤러는 도 4에 도시된 바와 같이, 제어모듈과, 메모리, 통신 인터페이스모듈, 데이터 수집 모듈, 수집데이터 생성모듈, 제어유닛 제어모듈로 이루어진다. 제어모듈은 컨트롤러의 O.S(Operating System)이며, 제어대상, , , , 들을 관리 및 제어한다. 또한 제어모듈은 통신 인터페이스모듈을 통해 주기적으로 IoT센서(5-1), ..., (5-N)들로부터 측정데이 터들을 전송받으면, 전송받은 측정데이터들을 데이터 수집모듈로 입력한다. 또한 제어모듈은 카메라로부터 영상을 전송받으면, 전송받은 영상이 스마트팜 관리서버로 전송되도록 통신 인터페이스모듈을 제어한다. 또한 제어모듈은 수집데이터 생성모듈에 의해 수집데이터가 생성되면, 생성된 수집데이터를 메모리(3 1)에 저장함과 동시에 수집데이터가 스마트팜 관리서버로 전송되도록 통신 인터페이스모듈을 제어한다. 또한 제어모듈은 통신 인터페이스모듈을 통해 스마트팜 관리서버로부터 제어데이터를 전송받으면, 전송받은 제어데이터를 제어유닛 제어모듈로 입력한다. 메모리에는 각 IOT센서의 식별정보 및 카테고리 정보와, 각 제어유닛의 식별정보 및 카테고리 정보가 기 설정되어 저장된다. 또한 메모리에는 데이터 수집모듈에 의해 수집된 측정값들과, 수집데이터 생성모듈에 의해 생성된 수집데이터가 임시 저장된다. 또한 메모리에는 스마트팜 관리서버로부터 전송받은 제어데이터가 임시 저장된다. 통신 인터페이스모듈은 스마트팜 관리서버, 카메라, IoT센서(5-1), ..., (5-N)들 및 제어유닛(6-1), ..., (6-N)들과 데이터를 송수신한다. 데이터 수집모듈은 IoT센서(5-1), ..., (5-N)들로부터 전송받은 측정데이터들을 수집한다. 수집데이터 생성모듈은 기 설정된 주기(T) 마다 데이터 수집모듈에 의해 수집된 측정데이터들 각각을 카테고리 정보와 매칭시켜 수집데이터를 생성한다. 이때 수집데이터 생성모듈에 의해 생성된 수집데이터는 제어모듈의 제어에 따라 통신 인터페이스모듈 을 통해 스마트팜 관리서버로 전송된다. 제어유닛 제어모듈은 스마트팜 관리서버로부터 전송받은 제어데이터에 따라 각 제어유닛(6-1), ..., (6- N)들이 동작하도록 제어유닛(6-1), ..., (6-N)들을 제어한다. 도 5는 도 2의 스마트팜 관리서버를 나타내는 블록도이다. 스마트팜 관리서버는 도 5에 도시된 바와 같이, 제어부와, 데이터베이스부, 데이터 송수신부, 스마트팜 플랫폼 관리부, 입력부, 데이터 손실/누락 판별 및 복원부, 머신러닝 기반 수집데이터 분 석부, 제어데이터 생성부, 수확여부 판별부, 등급 검출부, 학습부로 이루어진다. 이때 본 발명에서는 설명의 편의를 위해 스마트팜 관리서버가 특정 연산처리 및 기능을 수행하는 다수의 프 로세서들을 구비한 것으로 예를 들어 설명하였으나, 프로세서들의 기능은 별도의 서버에서 처리되는 것으로 구 성될 수 있음은 당연하다. 제어부는 스마트팜 관리서버의 O.S(Operating system)이며, 제어대상, , , , , , , , , 들을 관리 및 제어한다. 또한 제어부는 데이터 송수신부를 통해 컨트롤러(3-1), ..., (3-N)들로부터 수집데이터 및 영상을 전송 받으면, 전송받은 수집데이터 및 영상을 데이터베이스부에 저장함과 동시에 입력부로 입력한다. 또한 제어부는 제어데이터 생성부에 의해 제어데이터가 생성되면, 생성된 제어데이터가 해당 컨트롤러 로 전송되도록 데이터 송수신부를 제어한다. 또한 제어부는 스마트팜 플랫폼을 통해 사용자단말기로부터 수확여부 및 등급을 요청받을 때, 입력부 를 통해 입력된 영상을 머신러닝 기반 수집데이터 분석부로 입력한다. 즉 스마트팜 관리서버의 수확 여부 판별부 및 등급 검출부는 평시에는 실행되지 않되, 사용자단말기를 통해 수확여부 및 등급을 요청받을 때 실행되어 수확관련데이터 및 등급데이터를 검출한다. 데이터베이스부에는 각 스마트팜에 관련된 기본정보들과, 각 스마트팜의 IoT센서들 각각의 식별정 보 및 제어유닛들 각각의 식별정보가 기 설정되어 저장된다. 또한 데이터베이스부에는 각 스마트팜별로 IoT센서(5-1), ..., (5-N)들 각각에 카테고리 정보가 매칭된 제1 기준테이블과, 각 스마트팜의 제어유닛(6-1), ..., (6-N)들 각각에 카테고리 정보가 매칭된 제2 기준테 이블이 저장된다. 이때 카테고리는 측정 또는 제어 대상을 식별하기 위한 정보를 의미하고, ‘온도’, ‘습도’, ‘조도’, ‘용 수 공급상태’, ‘영상’ 등으로 이루어질 수 있다. 예를 들어, 제1 기준테이블의 ‘CO’ 카테고리에는 IoT센서로 ‘CO센서’가 매칭될 수 있고, 제2 기준테이블 의 ‘CO’ 카테고리에는 제어유닛으로 ‘통풍기’, ‘공기청정기’ 등이 매칭될 수 있다. 또한 데이터베이스부에는 학습부에 의해 학습된 복수개의 머신러닝 알고리즘들이 저장된다. 이때 머신러닝 알고리즘들은 기 설정된 카테고리별로 해당 카테고리의 특성에 가장 적합한 종류로 분류된다. 즉 카테고리 수량이 N개일 때, 데이터베이스부에는 N개 또는 N개 미만의 머신러닝 알고리즘들이 저장된다. 또한 데이터베이스부에는 컨트롤러(3-1), ..., (3-N)들로부터 전송받은 수집데이터들 및 영상이 저장된다. 또한 데이터베이스부에는 제어데이터 생성부에 의해 생성된 제어데이터와, 수확여부 판별부에 의해 검출되는 수확관련데이터, 등급검출부에 의해 검출되는 등급데이터가 저장된다. 데이터 송수신부는 컨트롤러(3-1), ..., (3-N)들과 데이터를 송수신한다. 스마트팜 플랫폼 관리부는 스마트팜 플랫폼을 운영 및 관리한다. 입력부는 컨트롤러(3-1), ..., (3-N)들로부터 전송받은 수집데이터들을 입력받는다. 또한 입력부는 스마트팜 플랫폼을 통해 사용자단말기로부터 수확여부 및 등급을 요청받을 때, 해당 스마트팜의 컨트롤러로부터 전송받은 영상을 입력받는다. 도 6은 도 5의 데이터 손실/누락 판별 및 복원부를 나타내는 블록도이고, 도 7은 도 6을 설명하기 위한 개념도 이다. 데이터 손실/누락 판별 및 복원부는 도 6과 7에 도시된 바와 같이, 카테고리별 정렬부와, 탐색 및 판 단부, 복원부로 이루어진다.카테고리별 데이터 추출부는 입력부를 통해 입력된 수집데이터들을 기 설정된 카테고리별로 분류 및 추출한다. 탐색 및 판단부는 카테고리별 데이터 추출부에 의해 카테고리별로 추출된 수집데이터들을 탐색하여, 각 카테고리별로 1)노이즈가 임계치 이상이거나 또는 2)수신 받지 않은 수집데이터들이 존재(누락)할 때, 데이 터 손실/누락이 발생하였다고 판단한다. 또한 탐색 및 판단부는 1)데이터 손실/누락이 발생하지 않았다고 판단되면, 입력된 카테고리별 데이터 추 출부에 의해 추출된 카테고리별 수집데이터들을 머신러닝 기반 수집데이터 분석부로 입력하며, 2)데이 터 손실/누락이 발생하였다고 판단되면, 복원부를 실행시킨다. 도 8은 도 6의 복원부를 나타내는 블록도이다. 복원부는 탐색 및 판단부에 의해 데이터 손실/누락이 발생하였다고 판단될 때 실행된다. 또한 복원부는 도 8에 도시된 바와 같이, 비교대상 데이터 추출모듈과, 유사도 산출모듈, 비 교 및 복원값 검출모듈, 복원모듈로 이루어진다. 비교대상 데이터 추출모듈은 데이터베이스부를 탐색하여 현재 시점으로부터 기 설정된 이전시점까지 에 저장된 수집데이터들인 비교대상 데이터들을 데이터베이스부로부터 추출한다. 유사도 산출모듈은 기 설정된 유사도 검출 알고리즘을 이용하여 입력된 수집데이터와 추출된 각 비교대상 데이터의 유사도(a)를 산출한다. 비교 및 복원값 검출모듈은 유사도 산출모듈에 의해 산출된 유사도(a)들 중 가장 높은 유사도를 갖 는 비교대상 데이터를 복원대상으로 결정하고, 결정된 복원대상의 비교대상 데이터에서, 데이터 손실/누락된 카 테고리와 동일한 카테고리의 데이터를 수집데이터의 복원값으로 결정한다. 복원모듈은 입력된 수집데이터에서, 손실/누락된 데이터를 복원값으로 대체시킴으로써 수집데이터를 복원 하며, 복원된 수집데이터를 머신러닝 기반 수집데이터 분석부로 입력한다. 도 9는 도 5의 머신러닝 기반 수집데이터 분석부를 나타내는 블록도이고, 도 10은 도 9를 설명하기 위한 개념도 이다. 머신러닝 기반 수집데이터 분석부는 카테고리별 데이터 추출모듈과, 인코더(762-1), ..., (762-N)들, 머신러닝 기반 분석모듈(763-1), ..., (763-N)들, 디코더(764-1), ..., (764-N)들로 이루어진다. 카테고리별 데이터 추출모듈은 입력된 수집데이터들을 기 설정된 카테고리별로 정렬 및 추출한다. 인코더(762-1), ..., (762-N)들은 각 카테고리의 수집데이터를 해당 카테고리의 머신러닝 알고리즘에 활용 가능 한 수치벡터로 변환시킨다. 이때 수집데이터들은 카테고리에 따라 관계형 데이터, 영상, 텍스트, 바이오, 수치 등의 다양한 타입 및 형태로 이루어지기 때문에 카테고리별로 인코딩 과정이 상이하기 때문에 본 발명에서는 각 카테코리별로 해당 카테고리의 데이터 타입 및 형태에 대응되는 인코더(762-1), ..., (762-N)들을 이용하여 각 카테고리의 수집데이터를 신속하고 정확하게 수치벡터로 변환시킬 수 있게 된다. 머신러닝 기반 분석모듈(763-1), ..., (763-N)들은 서로 다른 머신러닝 알고리즘들이 적용, 상세하게로는 각 카 테고리별로 분류된 머신러닝 알고리즘들이 각각 적용된다. 또한 머신러닝 기반 분석모듈(763-1), ..., (763-N)들은 해당 카테고리의 머신러닝 알고리즘을 이용하여 해당 카테고리의 수집데이터를 분석하여 수집데이터에 대응되는 제어데이터를 출력한다. 이때 머신러닝 기반 분석모듈(763-1), ..., (763-N)들은 인코더(762-1), ..., (762-N)들과 같이 각 카테고리에 대응되는 머신러닝 알고리즘을 활용함으로써 분석의 정확성 및 신뢰도를 높일 수 있다. 또한 머신러닝 기반 분석모듈(763-1), ..., (763-N)들에 의해 검출된 제어데이터는 ‘증가’, ‘감소’ 및 ‘유 지’로 분류된다. 디코더(764-1), ..., (764-N)들은 머신러닝 기반 분석모듈(763-1), ..., (763-N)들로부터 출력된 제어데이터들 각각을 디코딩한다. 또한 디코더(764-1), ..., (764-N)들에 의해 디코딩된 제어데이터들은 제어부의 제어에 따라 제어데이터 생 성부로 입력된다. 제어데이터 생성부는 머신러닝 기반 수집데이터 분석부를 통해 검출된 각 카테고리의 제어데이터들을 매칭시켜 제어데이터를 생성한다. 이때 제어데이터 생성부에 의해 생성된 제어데이터는 제어부의 제어에 따라 데이터 송수신부를 통 해 해당 컨트롤러로 전송되고, 컨트롤러는 스마트팜 관리서버로부터 전송받은 제어데이터에 따라 제어 유닛(6-1), ..., (6-N)들을 제어함으로써 농작물이 최적의 환경 및 조건에서 생장할 수 있게 되고, 이에 따라 동일 조건 배디 농작물의 생산량 및 품질을 극대화시킬 수 있게 된다. 수확여부 판별부는 스마트팜 플랫폼을 통해 사용자단말기로부터 수확관련정보를 요청받을 때 제어부 의 제어에 따라 실행되며, 머신러닝 기반 수집데이터 분석부를 통해 검출된 분석결과를 참고하여 수확 여부, 수확시기 등을 포함하는 수확관련데이터를 검출한다. 등급검출부는 스마트팜 플랫폼을 통해 사용자단말기로부터 수확관련정보를 요청받을 때 제어부의 제어에 따라 실행되며, 머신러닝 기반 수집데이터 분석부를 통해 검출된 분석결과를 참고하여 농작물의 현 재 등급을 검출한다. 이때 영상객체를 분석하여 수확시기 및 등급을 검출하는 방법 및 기술은 공지된 방법 및 기술이기 때문에 상세 한 설명은 생략하기로 한다. 학습부는 머신러닝 기반 수집데이터 분석부의 머신러닝 기반 분석모듈(763-1), ..., (763-N)들 각각에 적용되는 머신러닝 알고리즘들 각각의 학습을 수행한다. 이때 머신러닝 알고리즘을 학습시키는 기술 및 방법은 인공지능 시스템에서 통상적으로 사용되는 기술이기 때문 에 상세한 설명은 생략하기로 한다. 이하, 도 11 내지 14를 참조하여 본 발명의 컨트롤러 및 스마트팜 관리서버의 제2 실시예에 대해 설명하기로 한 다. 도 11은 도 4의 컨트롤러의 제2 실시예인 컨트롤러를 나타내는 블록도이다. 도 11의 컨트롤러는 본 발명의 컨트롤러의 제2 실시예이다. 또한 컨트롤러는 도 11에 도시된 바와 같이, 도 4에서 전술하였던 바와 같이 동일한 구조 및 기능을 갖는 통신 인터페이스모듈, 데이터 수집모듈, 수집데이터 생성모듈, 제어유닛 제어모듈을 포함한다. 또한 컨트롤러는 제어모듈과, 메모리, 측정데이터 선별모듈을 더 포함한다. 제어모듈은 전술하였던 도 4의 제어모듈과 동일한 동작을 수행하되, 도 4의 제어모듈과 같이 데이 터 수집모듈에 의해 수집된 측정데이터들을 곧바로 수집데이터 생성모듈로 입력하는 것이 아니라, 데이 터 수집모듈에 의해 수집된 데이터를 측정데이터 선별모듈로 입력한다. 또한 제어모듈은 측정데이터 선별모듈에 의해 측정데이터 선별이 완료되면, 선별된 측정데이터를 수 집데이터 생성모듈로 입력한다. 메모리에는 전술하였던 도 4의 메모리와 동일한 데이터들이 저장되되, 각 카테고리별로 설정값(TH, Threshold) 및 임계범위가 기 설정되어 저장된다. 이때 설정값(TH)은 해당 카테고리의 수집데이터가 유효한 데이터인지 또는 유효하지 않은 데이터인지를 판단하 기 위한 기준데이터를 의미한다. 도 12는 도 11의 측정데이터 선별모듈을 나타내는 블록도이다. 측정데이터 선별모듈은 도 12에 도시된 바와 같이, 측정데이터 입력모듈과, 설정값 비교 및 판별모 듈, 필터링 및 유효값 선별모듈, 설정값 재설정모듈로 이루어진다. 측정데이터 입력모듈은 데이터 수집모듈에 의해 수집된 측정데이터들을 입력받는다. 설정값 비교 및 판별모듈은 각 카테고리별로 기 설정된 설정값(TH, Threshold) 및 임계범위를 활용하여, 측정데이터 입력모듈에 의해 입력된 각 카테고리의 측정데이터가 해당 설정값(TH)을 기준으로 한 임계범 위 이내에 포함되는지를 비교한다. 이때 설정값(TH) 및 임계범위는 전술하였던 바와 같이 카테고리별로 기 설정된다. 또한 설정값 비교 및 판별모듈은 입력된 측정데이터가 설정값(TH)의 임계범위에 포함되지 않으면, 해당 측정데이터를 유효한 데이터인 유효데이터라고 판별한다. 또한 설정값 비교 및 판별모듈은 추출된 측정값이 설정값(TH)의 임계범위에 포함되면, 해당 측정값을 유 효하지 않은 데이터인 무효데이터라고 판별한다. 예를 들어, IoT센서 습도센서이고, 해당 ‘습도’ 카테고리의 설정값(TH)이 3.0%로 설정되고, 임계범위가 ’± 0.15%‘로 설정될 경우, 설정값 비교 및 판별모듈은 1)해당 IoT센서의 측정데이터가 ‘3.11%’인 경우, 측정데이터(3.21%)가 설정값의 임계범위인 2.85 ~ 3.15%에 포함되기 때문에 해당 측정데이터를 무효데이터로 판 별하되, 2)해당 IoT센서의 측정데이터가 ‘3.28%’인 경우, 측정데이터(3.28%)가 설정값의 임계범위인 2.85 ~ 3.15%를 벗어나기 때문에 해당 측정데이터를 유효데이터로 판별하게 된다. 필터링 및 유효값 선별모듈은 측정데이터 입력모듈을 통해 입력된 측정데이터들 중, 설정값 비교 및 판별모듈에 의해 무효데이터로 판별된 측정데이터들을 필터링 하여 유효데이터로 판별된 측정데이터들 만 선별한다. 이때 필터링 및 유효값 선별모듈에 의해 선별된 측정데이터들은 제어모듈의 제어에 따라 수집데이터 생성모듈로 입력되고, 수집데이터 생성모듈은 입력된 측정데이터들 각각을 카테고리 정보와 매칭시켜 수집데이터를 생성한다. 설정값 재설정모듈은 기 설정된 기간 동안 데이터 수집모듈에 의해 수집된 각 카테고리의 측정데이터 들을 추출한다. 또한 설정값 재설정모듈은 기 설정된 기간 동안 수집된 각 카테고리의 측정데이터들 전체가 설정값(TH)의 임계범위에 포함되는지 아닌지를 판별하며, 만약 추출된 측정데이터들이 모두 설정값(TH)의 임계범위에 포함되 지 않을 때, 해당 카테고리의 설정값(TH)을 재설정할 필요가 있다고 판단하며, 만약 추출된 측정데이터들 중 적 어도 하나 이상이 설정값(TH)의 임계범위에 포함될 때, 설정값(TH)의 재설정이 필요하지 않다고 판단한다. 예를 들어, A카테고리의 설정값(TH)의 임계범위가 6.0 ~ 10.0이고, 기 설정된 기간 동안에 수집된 A카테고리의 측정 데이터가 ‘11’, ‘13’, ‘14’, ‘15’, ‘17’라고 가정할 때, 설정값 재설정모듈은 추출된 A카테고 리의 측정데이터들이 모두 설정값(TH)의 임계범위에 포함되지 않기 때문에 설정값(TH)을 재설정할 필요가 있다 고 판단하게 된다. 또한 설정값 재설정모듈은 추출된 특정 카테고리의 측정데이터들이 모두 설정값(TH)의 임계범위에 포함되 지 않아, 설정값(TH)을 재설정해야 한다고 판단될 때, 해당 기간 동안 추출된 측정데이터들의 평균값을 설정값 (TH)으로 재설정하며, 재설정된 설정값(TH)을 메모리에 저장한다. 이때 제어모듈은 만약 설정값 재설정모듈에 의해 설정값(TH)이 재설정되면, 재설정된 설정값(TH) 정 보를 스마트팜 관리서버로 전송한다. 도 13은 도 5의 스마트팜 관리서버의 제2 실시예이다. 도 13의 스마트팜 관리서버는 본 발명의 스마트팜 관리서버의 제2 실시예이다. 또한 스마트팜 관리서버는 전술하였던 도 5와 동일한 연산처리를 수행하는 데이터 송수신부, 스마트팜 플랫폼 관리부, 입력부, 머신러닝 기반 수집데이터 분석부, 제어데이터 생성부, 수확여부 판별 부, 등급검출부 및 학습부를 포함한다. 또한 스마트팜 관리서버는 제어부와, 데이터베이스부, 수집데이터 가공부를 더 포함한다. 제어부는 전술하였던 도 5의 제어부와 동일한 동작 및 연산처리를 수행하되, 데이터 송수신부를 통해 컨트롤러(3-1), ..., (3-N)들로부터 재설정된 설정값(TH) 정보를 전송받으면, 데이터베이스부에 기 저 장된 해당 카테고리의 설정값 정보를 전송받은 내용으로 갱신한다. 또한 제어부는 데이터 송수신부를 통해 컨트롤러(3-1), ..., (3-N)들로부터 수집데이터를 전송받으면, 도 5의 제어부와 같이 전송받은 수집데이터를 곧바로 데이터베이스부에 저장함과 동시에 입력부로 입력하는 것이 아니라, 전송받은 수집데이터를 수집데이터 가공부로 입력하고, 수집데이터 가공부에 의해 가공된 수집데이터를 데이터베이스부에 저장함과 동시에 입력부로 입력한다.데이터베이스부에는 전술하였던 도 5의 데이터베이스부와 동일한 데이터들이 저장되되, 각 스마트팜 의 각 카테고리별 설정값(TH) 및 임계범위가 저장된다. 도 14는 도 13의 수집데이터 가공부를 나타내는 블록도이다. 수집데이터 가공부는 데이터 송수신부를 통해 컨트롤러(3-1), ..., (3-N)들로부터 수집데이터를 전송 받을 때 실행된다. 또한 수집데이터 가공부는 도 14에 도시된 바와 같이, 입력모듈과, 탐색 및 누락대상 검출모듈 , 수집데이터 가공모듈로 이루어진다. 입력모듈은 데이터 송수신부를 통해 컨트롤러(3-1), ..., (3-N)들로부터 전송받은 수집데이터를 입력 받는다. 탐색 및 누락대상 검출모듈은 입력모듈을 통해 입력된 수집데이터들을 탐색하여, 해당 스마트팜 의 IoT센서들 중 데이터를 전송하지 않은 IoT센서인 누락대상이 존재하는지를 검출한다. 이때 제어부는 1)탐색 및 누락대상 검출모듈에 의해 누락대상이 검출되면, 수집데이터 가공모듈 을 실행시키고, 2)탐색 및 누락대상 검출모듈에 의해 누락대상이 검출되지 않으면, 수집데이터 가 공모듈을 실행시키지 않고 입력모듈을 통해 입력된 수집데이터를 데이터베이스부에 저장함과 동시에 입력부로 입력한다. 수집데이터 가공모듈은 탐색 및 누락대상 검출모듈에 의해 누락대상이 검출될 때 실행된다. 또한 수집데이터 가공모듈은 데이터베이스부를 탐색하여 누락대상의 카테고리에 대응되는 초기값 (TH)을 추출한 후, 추출된 설정값(TH)을 해당 카테고리의 수집데이터로 대체시키는 방식으로 수집데이터들을 가 공한다. 예를 들어, 전송받은 수집데이터에서, 카테고리 A의 IoT센서에 의해 측정된 데이터가 존재하지 않을 때, 수집데 이터 가공모듈은 카테고리 A의 설정값(TH)을 해당 카테고리의 데이터로 대체시킨다. 이와 같이 본 발명의 일실시예인 지능형 스마트팜 운영 시스템은 스마트팜 관리서버가 재배공간인 스마트 팜에 설치된 IoT센서(5-1), ..., (5-N)들로부터 측정된 수집데이터들을 분석하여 현재 상태에 대응하는 최적 의 환경 및 조건을 유지하기 위한 제어데이터를 생성함과 동시에 스마트팜의 제어유닛들이 스마트팜 관리서버에 의해 생성된 제어데이터에 따라 환경 및 물질의 공급이 이루어지도록 구성됨으로써 농작물의 생산량 및 품질을 극대화시킬 수 있을 뿐만 아니라 작업인력 및 시간을 절감시킬 수 있게 된다. 또한 본 발명의 지능형 스마트팜 운영 시스템은 스마트팜 관리서버가 기 설정된 카테고리별로 특화된 머 신러닝 알고리즘들을 각각 이용하여 카테고리별로 수집데이터를 분석하도록 구성됨으로써 현재 상태에 따라 출 력되는 제어데이터의 정확성 및 신뢰도를 높일 수 있고, 이에 따라 농작물 생산량 및 품질을 더욱 개선시킬 수 있는 장점을 갖는다. 또한 본 발명의 지능형 스마트팜 운영 시스템은 스마트팜 관리서버가 컨트롤러로부터 전송받은 수집데 이터에서 데이터 손실/누락이 발생하였는지를 판단하되, 데이터 손실/누락이 발생할 때, 기 저장된 수집데이터 들 중 유사도가 가장 높은 수집데이터를 손실/누락된 데이터로 대체시킴으로써 일시적인 부하 및 충돌로 인해 데이터 손실/누락이 발생하더라도, 안정적인 서비스를 지속적으로 제공할 수 있게 된다. 또한 본 발명의 지능형 스마트팜 운영 시스템은 컨트롤러가 수집된 측정데이터가 기 설정된 설정값(TH) 의 임계범위 이내일 때, 해당 측정데이터를 유효하지 않은 데이터로 판별하여 스마트팜 관리서버로 전송하지 않되, 스마트팜 관리서버가 컨트롤러로부터 전송받은 수집데이터에서 누락된 데이터가 존재할 때, 해당 카테고리의 설정값(TH)을 누락된 데이터로 대체시킨 후, 이를 활용하도록 구성됨으로써 데이터 송수신의 효율성 을 극대화시킴과 동시에 방대한 데이터 전송으로 인한 네트워크 부하를 효과적으로 절감시킬 수 있게 된다."}
{"patent_id": "10-2020-0003586", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 국내공개특허 제10-2019-0140507호(발명의 명칭 : 사물인터넷과 빅데이터플랫폼을 이용한 스마트팜 관리 시스템)에 개시된 스마트팜 관리시스템을 나타내는 개략적으로 나타내는 도면이다. 도 2는 본 발명의 일실시예인 지능형 스마트팜 운영 시스템을 나타내는 구성도이다. 도 3은 도 2의 IoT센서를 설명하기 위한 개념도이다. 도 4는 도 2의 컨트롤러를 나타내는 블록도이다. 도 5는 도 2의 스마트팜 관리서버를 나타내는 블록도이다. 도 6은 도 5의 데이터 손실/누락 판별 및 복원부를 나타내는 블록도이다. 도 7은 도 6을 설명하기 위한 개념도이다. 도 8은 도 6의 복원부를 나타내는 블록도이다. 도 9는 도 5의 머신러닝 기반 수집데이터 분석부를 나타내는 블록도이다. 도 10은 도 9를 설명하기 위한 개념도이다. 도 11은 도 4의 컨트롤러의 제2 실시예인 제2 컨트롤러를 나타내는 블록도이다. 도 12는 도 11의 측정데이터 선별모듈을 나타내는 블록도이다. 도 13은 도 5의 스마트팜 관리서버의 제2 실시예이다. 도 14는 도 13의 수집데이터 가공부를 나타내는 블록도이다."}
