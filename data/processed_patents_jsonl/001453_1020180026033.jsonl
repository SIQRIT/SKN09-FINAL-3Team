{"patent_id": "10-2018-0026033", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2019-0105460", "출원번호": "10-2018-0026033", "발명의 명칭": "의료 진단 리포트 생성 장치 및 방법", "출원인": "주식회사 인공지능연구원", "발명자": "이광희"}}
{"patent_id": "10-2018-0026033", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "대상체 병변의 진행 정도 또는 위치를 판단한 진단 결과를 출력하는 컴퓨터 보조 진단(Computer AidedDiagnosis: 이하 'CAD'로 기재함) 시스템이 진단한 동일 의료 영상을 입력받아 진단 결과의 의사 결정 근거가되는 병변 형상 속성별 평가 치를 예측하는 인공 지능 학습 모델 기반의 진단 근거 정보 추출부; 병변 형상 속성별 평가치에 상응하는 의료 진단 설명문을 생성하는 문장 생성부;를 포함하는 의료 진단 리포트 생성 장치."}
{"patent_id": "10-2018-0026033", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1항에 있어서, 진단 근거 정보 추출부는,병변 형상 속성별 평가치가 라벨링된 의료 영상들을 데이터 셋으로 하여 딥러닝 또는 머신 러닝 기반으로 학습된 형상 속성별 예측 모델들을 포함하고, 예측 모델들 각각이 CAD 시스템에 입력되는 의료 영상을 입력받아 상응하는 병변 형상 속성에 대해 예측한 평가치를 출력하는 의료 진단 리포트 생성 장치."}
{"patent_id": "10-2018-0026033", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 2항에 있어서, 예측 모델들은병변 형상 속성에 대해 예측한 평가치로 소정 범위의 연속된(indiscrete) 실수값 중 하나로 출력하는 리그레서(Regressor); 또는병변 형상 속성에 대해 예측한 평가치로 특정 스코어 중 하나의 값으로 출력하는 분류기(Classifier) 중 하나인의료 진단 리포트 생성 장치."}
{"patent_id": "10-2018-0026033", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 1항에 있어서, 문장 생성부는,형상 속성별로 소정 포맷을 가지는 개별 설명문이 매핑되어 있는 설명문 데이터베이스; 다수의 단문을 결합시켜 복문을 구성하기 위해 사용되는 연결구 정보를 포함하는 연결구 저장부;설명문 데이터 베이스로부터 추출된 병변 형상 속성별 평가치에 상응하는 적어도 하나의 개별 설명문을 연결구저장부로부터 추출된 연결구로 조립하여 의료 진단 설명문을 생성하는 문장 조립부;를 포함하는 의료 진단 리포트 생성 장치."}
{"patent_id": "10-2018-0026033", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 4항에 있어서, 문장 생성부는,진단 근거 정보 추출부로부터 출력된 병변 형상 속성들 중 CAD 시스템이 출력한 진단 결과와 연관성이 큰 병변형상 속성들을 선별하는 선별부; 진단 근거 정보 추출부로부터 출력된 병변 형상 속성들 중 CAD 시스템이 출력한 진단 결과와 연관성이 큰 병변공개특허 10-2019-0105460-3-형상 속성들 순으로 정렬하는 정렬부; 중 적어도 하나를 더 포함하고, 문장 조립부는, 선별부에 의해 선별된 형상 속성들에 상응하는 개별 문장들 또는 정렬부에 의해 정렬된 형상 속성 순의 개별 설명문들을 조립하는 의료 진단 리포트 생성 장치."}
{"patent_id": "10-2018-0026033", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 의료 진단 리포트 생성 장치로, 대상체 병변의 진행 정도 또는 위치를 판단한 진단 결과를 출력하는 컴퓨터 보조 진단(Computer Aided Diagnosis: 이하 'CAD'로 기재함) 시스템이 진단한 동일 의료 영상을 입력받 아 진단 결과의 의사 결정 근거가 되는 병변 형상 속성별 평가치를 예측하는 인공 지능 학습 모델 기반의 진단 근거 정보 추출부와, 병변 형상 속성별 평가치에 상응하는 의료 진단 설명문을 생성하는 문장 생성부를 포함한다."}
{"patent_id": "10-2018-0026033", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 의료 진단 기술에 관한 것으로, 특히 의료 영상 분석을 통해 질병을 진단하는 장치 및 방법에 관한 것이다."}
{"patent_id": "10-2018-0026033", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "의료현장에서 의료영상을 이용하여 질병의 진단 및 치료 등을 수행할 때, 병변의 크기나 범위, 기능 등을 정량 적으로 측정해야 하는 경우가 발생한다. 의료영상은 사용자의 눈에 따라 다른 의미를 부여할 수 있으므로, 사용 자의 실수로 영상 내에 존재하는 병변을 인지하지 못할 수 있다. 또한, 의료영상을 이용하여 병변을 검출하는 경우 대용량의 의료영상으로부터 사용자의 숙련도나 피로도에 따라 병변을 인지하지 못할 수도 있다. 이러한 점을 보완하여 의사들에게 도움을 주기 위해, 어려운 사례를 진단하고 실수로 인한 오진율을 줄일 수 있 도록 컴퓨터 보조 진단(Computer aided diagnosis, 이하 'CAD'라 기재함) 기술을 이용하여 분석의 정확도를 향 상시키고 있다. CAD 기술은 지능적인 고성능 영상분석 시스템 컴퓨터에 의해 의료 영상을 분석하여 병변 유무와 위치 등을 판단 하고 진단 결과를 제공한다. 즉, 병변이 악성 종양인지, 양성 종양인지 여부에 대한 진단 결과 및 진단 결과에 대한 확률 정보 등을 제공할 수 있다. CAD 기술의 대표적인 예로, 의료 분야에서 IBM의 인공지능 왓슨이 암과 같은 질병을 진단하고 있다. IBM이 ‘12년에 선보인 왓슨(Watson for Oncology)은 대장암 등 암 분야 스마트 데 이터를 바탕으로 ’15년에는 특히 유방암 진단 정확도를 91~100%까지 끌어올렸다. 한편, 의료 영상을 통한 진단 결과는 의료 영상에 나타나는 병변의 다양한 형상 속성들을 종합적으로 판단하여 내린 결과 정보일 수 있다. 그런데, CAD 시스템은 병변의 위치 정보와 악성도 등의 진행 정도의 진단 결과만을 제공할 뿐, 어떤 이유로 CAD 시스템이 그러한 진단 결과를 도출하게 되었는지에 대한 근거 정보는 제공하지 않 는다. 따라서, 그 진단 결과 근거를 듣기 위해서는 의사와 같은 전문가의 별도의 소견이 필요하다. 또한, CAD 시스템이 발전하여 정확도가 향상되긴 하였으나, 오진의 위험을 피할 수 없다. 따라서, CAD 시스템의 진단 결과에 대한 신뢰도를 검증하는 방안으로 합리적인 판단 근거 정보 제공이 요구된다."}
{"patent_id": "10-2018-0026033", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "따라서 본 발명의 목적은 전술한 문제점을 해소하기 위해 안출된 것으로, CAD 시스템에 의한 병변의 진행 정도 또는 위치를 판단한 진단 결과의 의사 결정 근거 정보를 함께 제공하여 의사가 진단하는 것과 같이 병변의 상태 정보를 좀 더 명확히 알려주는 데 있다. 또한, 본 발명의 목적은 CAD 시스템은 진단 결과를 검증할 수 있는 판단 근거 정보를 제공하여 신뢰도를 향상시 키는 데 있다."}
{"patent_id": "10-2018-0026033", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명에 따른 의료 진단 리포트 생성 장치는 대상체 병변의 진행 정도 또는 위치를 판단한 진단 결과를 출력 하는 CAD 시스템이 진단한 동일 의료 영상을 입력받아 진단 결과의 의사 결정 근거가 되는 병변 형상 속성별 평가치를 예측하는 인공 지능 학습 모델 기반의 진단 근거 정보 추출부 및 병변 형상 속성별 평가치에 상응하는 의료 진단 설명문을 생성하는 문장 생성부를 포함한다. 진단 근거 정보 추출부는 병변 형상 속성별 평가치가 라벨링된 의료 영상들을 데이터 셋으로 하여 딥러닝 또는 머신 러닝 기반으로 학습된 형상 속성별 예측 모델들을 포함하고, 예측 모델들 각각이 CAD 시스템에 입력되는 의료 영상을 입력받아 상응하는 병변 형상 속성에 대해 예측한 평가치를 출력한다. 예측 모델들은 병변 형상 속성에 대해 예측한 평가치로 소정 범위의 연속된(indiscrete) 실수값 중 하나로 출력 하는 리그레서(Regressor)일 수 있다. 문장 생성부는 형상 속성별 개별 설명문이 매핑되어 있는 설명문 데이터베이스와, 다수의 단문을 결합시켜 복문 을 구성하기 위해 사용되는 연결구 정보를 포함하는 연결구 저장부와, 설명문 데이터 베이스로부터 추출된 병변 형상 속성별 평가치에 상응하는 적어도 하나의 개별 설명문을 연결구 저장부로부터 추출된 연결구로 조립하여 의료 진단 설명문을 생성하는 문장 조립부를 포함할 수 있다. 문장 생성부는 진단 근거 정보 추출부로부터 출력된 병변 형상 속성들 중 CAD 시스템이 출력한 진단 결과와 연 관성이 큰 병변 형상 속성들을 선별하는 선별부와, 진단 근거 정보 추출부로부터 출력된 병변 형상 속성들 중 CAD 시스템이 출력한 진단 결과와 연관성이 큰 병변 형상 속성들 순으로 정렬하는 정렬부 중 적어도 하나를 더 포함할 수 있고, 문장 조립부는 선별부에 의해 선별된 형상 속성들에 상응하는 개별 문장들 또는 정렬부에 의해 정렬된 형상 속성 순의 개별 설명문들을 조립할 수 있다."}
{"patent_id": "10-2018-0026033", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "따라서 본 발명의 목적은 전술한 문제점을 해소하기 위해 안출된 것으로, CAD 시스템에 의한 병변의 진행 정도 또는 위치를 판단한 진단 결과의 의사 결정 근거 정보를 함께 제공하여 의가가 진단하는 것과 같이 병변의 상태 정보를 좀 더 명확히 알려주는 데 있다. 또한, 본 발명의 목적은 CAD 시스템은 진단 결과를 검증할 수 있는 판단 근거 정보를 제공하여 신뢰도를 향상시 키는 데 있다."}
{"patent_id": "10-2018-0026033", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하 첨부된 도면을 참조하여, 바람직한 실시예에 따른 의료 진단 리포트 장치 대해 상세히 설명하면 다음과 같 다. 여기서, 동일한 구성에 대해서는 동일부호를 사용하며, 반복되는 설명, 발명의 요지를 불필요하게 흐릴 수 있는 공지 기능 및 구성에 대한 상세한 설명은 생략한다. 발명의 실시형태는 당업계에서 평균적인 지식을 가진 자에게 본 발명을 보다 완전하게 설명하기 위해서 제공되는 것이다. 따라서, 도면에서의 요소들의 형상 및 크기 등은 보다 명확한 설명을 위해 과장될 수 있다. 첨부된 블록도의 각 블록과 흐름도의 각 단계의 조합들은 컴퓨터 프로그램인스트럭션들(실행 엔진)에 의해 수행 될 수도 있으며, 이들 컴퓨터 프로그램 인스트럭션들은 범용 컴퓨터, 특수용 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비의 프로세서에 탑재될 수 있으므로, 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비의 프로세서를 통해 수행되는 그 인스트럭션들이 블록도의 각 블록 또는 흐름도의 각 단계에서 설명된 기능 들을 수행하는 수단을 생성하게 된다. 이들 컴퓨터 프로그램 인스트럭션들은 특정 방식으로 기능을 구현하기 위해 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비를 지향할 수 있는 컴퓨터 이용가능 또는 컴퓨터 판독 가능 메모리에 저장되는 것도 가능 하므로, 그 컴퓨터 이용가능 또는 컴퓨터 판독 가능 메모리에 저장된 인스트럭션들은 블록도의 각 블록 또는 흐 름도의 각 단계에서 설명된 기능을 수행하는 인스트럭션 수단을 내포하는 제조 품목을 생산하는 것도 가능하다. 그리고 컴퓨터 프로그램 인스트럭션들은 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비 상에 탑재되 는 것도 가능하므로, 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비 상에서 일련의 동작 단계들이 수 행되어 컴퓨터로 실행되는 프로세스를 생성해서 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비를 수 행하는 인스트럭션들은 블록도의 각 블록 및 흐름도의 각 단계에서 설명되는 기능들을 실행하기 위한 단계들을 제공하는 것도 가능하다. 또한, 각 블록 또는 각 단계는 특정된 논리적 기능들을 실행하기 위한 하나 이상의 실행 가능한 인스트럭션들을 포함하는 모듈, 세그먼트 또는 코드의 일부를 나타낼 수 있으며, 몇 가지 대체 실시 예들에서는 블록들 또는 단 계들에서 언급된 기능들이 순서를 벗어나서 발생하는 것도 가능함을 주목해야 한다. 예컨대, 잇달아 도시되어 있는 두 개의 블록들 또는 단계들은 사실 실질적으로 동시에 수행되는 것도 가능하며, 또한 그 블록들 또는 단 계들이 필요에 따라 해당하는 기능의 역순으로 수행되는 것도 가능하다. 이하, 첨부 도면을 참조하여 본 발명의 실시 예를 상세하게 설명한다. 그러나 다음에 예시하는 본 발명의 실시 예는 여러 가지 다른 형태로 변형될 수 있으며, 본 발명의 범위가 다음에 상술하는 실시 예에 한정되는 것은 아 니다. 본 발명의 실시 예는 당업계에서 통상의 지식을 가진 자에게 본 발명을 보다 완전하게 설명하기 위하여 제공된다. 지금까지 인공지능은 의사결정을 지원할 때 결과만 알려주고 어떤 근거로 이 판단에 이르렀는지 스스로 논리적 으로 설명할 수 없는 점이 한계로 지적됐다. 대표적인 인공지능 분야인 딥러닝은 반복되는 대용량 데이터로부터 명시적 지식이 아니라 암시적 지식을 추출해 판단할 수 있도록 한다. 이런 방식을 범죄 위험성 판단이나 인사 평가, 군사작전과 의료 분야 등에 적용할 경우 효율성은 높일 수 있겠 지만 공정성과 정확성을 확보했다고 하긴 어렵다. ‘블랙박스’와 같은 알고리즘 안에서 어떤 근거로 결론이 도 출되는지 알아야 시스템을 신뢰할 수 있게 된다. 최근 부상한 ‘설명가능 인공지능’(XAI·Explainable AI)은 이런 인공지능의 한계를 보완할 수 있는 방법으로 주목받는다. 설명가능 인공지능은 의료, 법률, 금융 및 국방 등 투명성과 사용자의 신뢰가 요구되는 분야에 인공지능이 활용 될 수 있도록 의사결정에 대한 이유를 사람이 이해할 수 있는 방식으로 제시하는 인공지능을 말한다. 현재 이 분야 연구에 가장 적극적인 미국 방위고등연구계획국(DARPA)은 약 800억원의 예산을 투입, 연구 중이고, MIT와 구글 등 민간에서의 연구도 활발해지고 있다. 이들은 주로 딥러닝에 의한 시각화 과정을 연구하고 있다. 예를 들어 딥러닝이 어떤 사물을 고양이로 인식했을 때 또 다른 인공지능 툴로 무엇을 언제 고양이라고 했고 언제 아 니라고 했는지 모니터링하고 분석하는 것이다. 이를 응용하면 암세포나 질병 진단, 전장에서 적군을 판단하는 데도 적용할 수 있다. 설명가능 인공지능은 딥러닝이 어떤 사물을 고양이로 인식했을 때 또 다른 인공지능 툴로 무엇을 언제 고양이라 고 했고 언제 아니라고 했는지 모니터링하고 분석하는 것이다. 기존 딥러닝 과정에 설명가능 툴을 붙여 사진에 서 어떤 속성들을 고양이로 판단하는데 활용했는지 밝히는 것이다. 이를 응용하면 암세포나 질병 진단, 전장에 서 적군을 판단하는 데도 적용할 수 있다. 본 발명은 전술한 바와 같은 ‘설명가능 인공지능’(XAI·Explainable AI)의 개념을 적용하여 CAD 시스템에 의 료 진단 리포트 생성 장치라는 별도의 툴을 붙여 CAD 시스템의 진단 결과에 대한 근거 설명 정보를 제공한다. 도 1은 본 발명의 일 실시 예에 따른 의료 진단 리포트 생성 장치의 블록 구성도이다. 도 1을 참조하면, CAD 시스템은 대상체 병변의 진행 정도 또는 위치를 판단한 진단 결과를 출력한다. 여기서, 진단 결과는 병변의 양성 또는 악성 여부의 판단과 함께 그 판단의 정확도 또는 신뢰도를 포함할 수도 있다. CAD 시스템은 일반적으로 의료 영상으로부터 추출된 속성을 미리 저장된 진단 모델과 비교하여 병변의 양성 또는 악성 여부를 판단할 수 있다. 여기서, 진단 모델은 미리 수집된 다수의 진단 영상으로부터 추출된 병변 형 상 속성을 이용하여 기계 학습을 통해 생성될 수 있고, 진단 모델은 병변 형상 속성의 조합 및 각 조합에 따른 진단 결과로 구성될 수 있다. 이러한 CAD 시스템은 주지된 기술이므로, 상세한 내부 구성 블록은 생략하기로한다. 여기서, 의료 영상은 컴퓨터 방사선(CR:Computed Radiography) 영상, 컴퓨터 단층 촬영(CT: Computed Tomography) 영상, 초음파 영상 및 자기공명영상(MRI: Magnetic Resonance Image) 등을 포함하는 다양한 의료 영상 중 하나일 수 있다. 또한, 의료 영상은 연속 촬영된 영상 시퀀스를 구성하는 하나의 프레임 영상일 수 있 다. 또한, 도시된 의료 영상에는 대상체(object)가 폐로 도시되어 있지만, 이는 일 예일 뿐 본 발명은 이에 한정되 지 않는다. 즉, 대상체(object)는 신체 또는 동물의 일부로, 예를 들어, 대상체는 간, 심장, 자궁, 뇌, 유방, 복부 등의 장기, 또는 혈액을 포함될 수 있다. 또한, 일 실시 예에 따라, 환자의 의료 영상을 입력 받을 수 있는 의료 영상 입력부(미도시)를 더 포함할 수 있 는데, 의료 영상 입력부는 인터페이스 또는 유무선 네트워크를 통해 상기 의료영상 촬영기기와 연결된다. 또한, 의료 영상 입력부는 메모리로부터 조직 영상을 액세스하여 전처리를 수행할 수도 있다. 여기서, 메모리는 휴대 가능한 이동식 메모리 또는 시스템 내에 구비된 메모리일 수 있다. 여기서, 전처리 과정은 의료 영상으로부터 병변 형상 속성을 용이하게 추출할 수 있도록 하기 위한 것으로, 예컨대, 의료 영상에 대하여 정규화 (normalization), 채널 분리, 스케일링 등을 수행할 수 있다. 의료 진단 리포트 생성 장치는 CAD 시스템이 진단한 동일한 의료 영상을 분석하여 관심 영역에 포함된 대 상체(object) 진단 결과에 대한 의사 결정 근거를 설명하는 리포트를 생성하여 출력한다. 이러한 의료 진단 리 포트 생성 장치는 CAD 시스템의 내장된 형태로 구현될 수도 있고, 별도로 외장된 형태로 구현될 수도 있 다. 의료 진단 리포트 생성 장치는 진단 근거 정보 추출부 및 문장 생성부를 포함한다. 진단 근거 정보 추출부는 입력된 의료 영상으로부터 진단 결과의 의사 결정 근거가 되는 병변 형상 속성별 평가치를 인공 지능 학습 모델 기반으로 예측한다. 진단 근거 정보 추출부는의 상세한 설명은 도 2를 참조 하여 후술하기로 한다. 문장 생성부는 진단 근거 정보 추출부로부터 출력된 병변 형상 속성별 평가치에 상응하는 의료 진단 설명문을 생성한다. 즉, CAD 시스템의 진단 결과에 상응하는 설명 내용이 포함된 진단 리포트를 생성하여 출 력한다. 문장 생성부에 대한 상세 설명은 도 3을 참조하여 후술하기로 한다. 상기한 구성요소들 외에도 시스템은 사용자(병리학자 또는 의사)의 조작에 따라 시스템의 동작 제어를 위한 입 력 데이터를 발생시키는 사용자 입력부(미도시)와 시스템 동작에 따라 발생되는 각종 데이터를 표시하기 위한 디스플레이를 더 포함할 수 있다. 도 2는 본 발명의 일 실시 예에 따른 진단 근거 정보 추출부의 상세 블록 구성도이다. 진단 근거 정보 추출부는 의료 영상으로부터 병변 진단 근거로 사용될 수 있는 병변 형상 속성들 각각에 대한 평가치를 예측하여 출력한다. 여기서, 병변 형상 속성은 의료적인 맥락에서 의미를 가지는 대상체 병변의 형상 속성으로서, 병변의 양성 또는 악성 여부를 판단하는데 도움이 되는 시각적인 패턴 정보를 의미하는 것으로, 각 병변 형상 속성은 미리 설정된 분류 항목에 따라 분류될 수 있다. 여기서, 평가치(스코어)는 해당 병변 형상 속성을 육안으로 확인한 의사들의 소견에 따른 점수를 예측한 정보일 수 있다. 이해를 돕기 위해, 다음의 <표 1>을 참조하여 폐 종양의 양성 또는 악성을 판단하는 병변 형상 속성들의 일 예 를 들어 설명하기로 한다.표 1 결절 속성 (Nodule characteristic)정의(Description) 평가(Ratings) 기준 Calcification Calcification appearance in the nodule 1. Popcorn 2. Laminated 3. Solid 4. Non-central 5. Central 6. Absent Internal structure Expected internal composition of the nodule1. Soft tissue 2. Fluid 3. Fat 4. Air Lobulation Whether lobular shape is apparent from margin or not 1. Marked 2. 3. 4. 5. None Margin How well defined the margins are1. Poorly defined 2. 3. 4. 5. Sharp Sphericity Dimensional shape in terms of roundness 1. Linear 2. 3. Ovoid 4. 5. Round Spiculation Degree of exhibition of spicules 1. Marked 2. 3. 4. 5. None Subtlety Contrast between nodule and surroundings1. Extremely subtle 2. Moderately subtle 3. Fairly subtle 4. Moderately obvious 5. Obvious Texture Internal density of nodule 1. Non-solid 2. 3. Part Solid 4. 5. Solid <표 1>은 폐 종양의 악성 또는 양성을 판단하는 결절 속성(Nodule characteristic) 항목, 결절 속성(Nodule characteristic) 항목별 정의(Description) 및 평가(Rating) 기준에 대해 기재되어 있다. 결절 속성(Nodule characteristic)은 결절의 석회화 진행 정도에 따라 외형을 평가하기 위한 석회화 (Calcification), 결절의 예상되는 내부 구성 물질이 유동적(Fluid)인지 또는 지방(Fat) 인지 등을 평가하는 내 부 구조(Internal structure), 분엽 모양이 모서리로부터 선명한지의 여부를 평가하는 분엽화(Lobulation), 결 절의 모서리의 경계가 명확하지를 평가하는 모서리(Margin), 결절의 모양의 둥근 정도를 평가하는 구형도 (Sphericity), 결절에서 골편의 드러나는 정도를 평가하는 골편화(Spiculation), 결절과 주변을 대비 평가하는 민감도(Subtlety) 및 결절의 내부 밀도를 평가하는 질감(Texture) 중 적어도 하나 이상을 포함할 수 있다. 진단 근거 정보 추출부는 <표 1>에 기재된 바와 같은 병변 형상 속성들 각각에 대한 평가치를 예측하여 다 음과 같은 <표 2>에 기재된 결과를 출력해낼 수 있다. 표 2 subtlety Internal StructureCalcificationSphericityMarginLobulationSpiculationTexture 4.6 1.2 5.2 1.4 2.3 4.4 2.2 1.2 <표 1> 및 <표 2>을 참조하면, <표 2>에 기재된 병변 형상의 평가치(또는 rating 값, 스코어)는 민감도 (Subtlety)가 4.6이므로 주변과 결절의 경계가 명확한 편이고, 내부 구조(Internal structure)가 1.2이므로 연 조직(soft tissue)으로 구성되고, 석회화(Calcification)가 5.2이므로 석회화가 Central인 상태이고, 구형도 (Sphericity)가 1.4이므로 선형(linear)에 가까운 형태를 보이고 있으며, 모서리(Margin)가 2.3이므로 그 경계 가 명확하지 않은 편에 속하고, 분엽화(Lobulation)가 2.2이므로 소엽 모양이 분명한 편이고, 골편화 (Spiculation)가 2.2 이므로 골편 모양이 분명하게 드러나는 편이고, 질감(Texture)이 1.2이므로 고형이 아닌 (non-solid) 것으로 예측된 것이다. 전술한 바와 같은 병변 형상 속성들, 속성들 각각을 평가하기 위한 평가 기준은 본 발명을 설명하기 위한 일 예 일 뿐, 본 발명은 이에 한정되지 않는다. 즉, 병변 형상 속성들, 병변 형상 속성별 평가 기준은 의료 영상의 종 류(MRI, 초음파 영상 등), 촬영 부위(가슴, 폐, 갑상선 등) 등에 따른 특성을 고려하여 사용자에 의해 설정될 수 있다. 도 2를 참조하면, 진단 근거 정보 추출부는 병변 형상 속성별 평가치가 라벨링된 의료 영상들을 데이터 셋 으로 하여 딥러닝 또는 머신 러닝 기반으로 학습된 다수의 형상 속성별 예측 모델들(111, 112, 113, ..., 11n) 을 포함한다. 여기서, 데이터 셋으로 사용되는 의료 영상들은 진단이 완료된 것으로, 의사들에 의해 진단이 완료된 평가치가 라벨링된 다수의 의료 영상들일 수 있다. 또한, 동일한 의료 영상이라도 의사들마다 평가치가 상이할 수 있으므 로, 동일한 의료 영상에 대해 상이한 평가치들 각각이 라벨링된 복수의 의료 영상 데이터들이 사용될 수도 있다. 또한, 예측 모델 생성에 사용되는 학습 알고리즘은 deep learning 기반 알고리즘, 예컨대, DNN(Deep Neural Network), CNN(Convolutional neural network), RNN(RecurrentNeural Network), sparse autoencoder, DPM(Deformable Part Model), SVM(Support Vector Machine) 및 HOG(Histogram of Oriented Gradients) 등을 포함할 수 있다. 속성 예측 모델들(111, 112, 113, ..., 11n) 각각은 CAD 시스템에 입력되는 의료 영상을 입력받아 상응하는 병 변 형상 속성에 대해 예측한 평가치를 출력한다. 즉, 형상 속성들 중 하나에 매핑되어, 예컨대 제1 형상 속성 예측 모델은 민감도(Subtlety) 평가치를 예측하고, 제2 형상 속성 예측 모델은 내부 구조(Internal structure) 평가치를 예측하고, 제3 형상 속성 예측 모델은 구형도(Sphericity) 평가치를 예측하고, 제n 형상 속성 예측 모델(11n) 골편화(Spiculation) 평가치를 예측하여 출력할 수 있다. 일 양상에 따라, 예측 모델들(111, 112, 113, ..., 11n)은 병변 형상 속성에 대해 예측한 평가치로 소정 범위의 연속된(indiscrete) 실수값 중 하나로 출력하는 리그레서(Regressor)일 수 있다. 예컨대, <표 1>에 기재된 바와 같이 평가치는 1 내지 6 범위에서, <표 2>에 기재된 바와 같이 4.6 또는 1.2와 같은 실수값일 수 있다. 다른 양상에 따라, 예측 모델들(111, 112, 113, ..., 11n)은 병변 형상 속성에 대해 예측한 평가치로 '0'과 ' 1'의 값 중 하나로 출력하는 분류기(Classifier)일 수 있다. 예컨대, <표 1>에 기재된 바와 같이 평가 기준이 설정될 경우, <표 2>에 기재된 바와 같이 4.6의 실수값은 '1'로, 1.2의 실수값은 '0'으로 한번 더 분류된 정보 가 평가치로 출력될 수 있다. 또는, 예측 모델들(111, 112, 113, ..., 11n)은 분류기(Classifier)일 경우, 병변 형상 속성에 대해 예측한 평 가치로 전술한 <표 1> 또는 <표 2>에 개시된 rating 값(스코어)들에서 특정 스코어 중 하나의 값으로 출력할 수 있다. 벡터 생성부는 병변 형상 속성들 각각에 대한 평가치들로 벡터(vector)로 변환하여 출력한다. 예컨대, <표 2>를 참조하면, X1이 Subtlety이고, X2가 Internal Structure이고, ....., X8이 Texture일 때, (4.6, 1.2,..., 1.2)의 벡터가 생성될 수 있다. 이때, 병변 형상 속성들별로 평가치의 범위가 상이할 수 있으므로, 병변 형상 속성들별로 평가치는 정규화(Normalizing)될 수도 있다. 도 3a 및 도 3b는 본 발명의 일 실시 예에 따른 진단 리포트 생성부의 상세 블록 구성도이다. 도 3a를 참조하면, 일 양상에 따라, 문장 생성부는 설명문 데이터베이스, 연결구 저장부 및 문 장 조립부을 포함한다. 다른 양상에 따라, 문장 생성부는 선별부 및 정렬부 중 적어도 하 나를 더 포함할 수 있다. 설명문 데이터베이스는 형상 속성별로 매핑된 개별 설명문을 저장한다. 예컨대, 개별 설명문들은 병변 형 상 속성이 모서리(Margin)이고, 평가 점수가 '1'인 경우 매핑되는 '모서리의 경계가 불명확합니다'라는 개별 설 명문이 저장되어 있을 수 있고, 병변 형상 속성이 구형도(Sphericity)이고, 평가 점수가 '5'인 경우 매핑되는 '결절이 둥근 형태를 나타냅니다'라는 개별 설명문이 저장되어 있을 수 있다. 연결구 저장부는 다수의 단문을 결합시켜 복문을 구성하기 위해 사용되는 연결구 정보를 저장한다. 예컨대, '~이고,', '~때문에' 등이 포함될 수 있다. 문장 조립부는 설명문 데이터 베이스로부터 추출된 병변 형상 속성별 평가치에 상응하는 적어도 하나 의 개별 설명문을 연결구 저장부로부터 추출된 연결구로 조립하여 의료 진단 설명문을 생성한다. 예컨대, 도 3에 도시된 바와 같이, '종양은 경계가 불규칙하다', '크기가 30mm 정도이다' 및 '석회화가 거의 진행되지 않았다' 등을 연결구 '~하고', '~이며' 및 '~때문에' 등으로 연결되도록 조립하여 의료 진단 설명문을 생성한다. 도 3에 도시된 바와 같이, 이전의 병변 형상 속성별 평가치에 상응하는 적어도 하나의 개별 설명문들 을 연결하고, 최종 문장으로 배치되는 진단 결과는 '~때문에'로 연결하여 그 진단 결과의 판단 근거가 무엇인지 를 명확히 하도록 문장을 구성할 수 있다. 도 3b를 참조하면, 다른 양상에 따라, 선별부는 진단 근거 정보 추출부로부터 출력된 병변 형상 속성 들 중 CAD 시스템이 출력한 진단 결과와 연관성이 큰 병변 형상 속성들을 선별한다. 즉, <표 2>에 기재된 병 변 형상 속성별 평가치들이 모두 진단 결과에 의사 결정 근거로 크게 기여한 것은 아닐 수도 있다. 따라서, 병 변 형상 속성별 평가치들에 대해 모두 의료 진단 설명문으로 기재하는 것은 불필요하므로, 진단 결과에 결정적 으로 기여한 병변 형상 속성들만을 선별하여 문장 조립부에 의해 의료 진단 설명문이 생성되도록 할 수 있 다. 정렬부는 진단 근거 정보 추출부로부터 출력된 병변 형상 속성들 중 CAD 시스템이 출력한 진단 결 과와 연관성이 큰 병변 형상 속성들 순으로 정렬한다. 즉, <표 2>에 기재된 병변 형상 속성별 평가치들은 진단 결과에 의사 결정 근거로 기여한 순서가 있을 것이다. 따라서, 병변 형상 속성별 평가치들에 대해 기여한 순서 대로 문장 조립부에 의해 의료 진단 설명문이 생성되도록 할 수 있다. 이를 위해, 선별부 및 정렬부는 악성 종양 또는 양성 종양의 판단 근거 정보로 사용되는 형상 속성들 을 분류할 수 있는 학습 모델로 구현되거나, 미리 분류된 정보를 가진 데이터베이스 등을 참조할 수 있다. 일반 적으로 악성 종양(malignant tumor)의 경우, 모서리(Margin)가 불명료(Poorly defined)한 반면, 양성 종양 (benign tumor)의 경우 결절의 모양(Sphericity)이 둥글고(round) 모서리가 날카로울(sharp) 수 있다. 이때, 결절의 모양, 모서리 등은 종양의 양성 또는 악성을 판단하는 기준이 될 수 있다. 따라서, 결절의 모양(Shape), 모서리(Margin) 등과 같이 양성 종양과 악성 종양을 판단할 수 있는 속성을 분류 항목으로 설정하여 각 병변 형 상 속성을 분류할 수 있다. 그러면, 문장 조립부는 선별부에 의해 선별된 형상 속성들에 상응하는 개별 문장들 또는 정렬부에 의 해 정렬된 형상 속성 순의 개별 설명문들을 조립한다. 예컨대, 도 3에 도시된 바와 같이, 종양의 경계, 크기, 석회화가 CAD 시스템의 진단 결과인 40%의 악성 종양에 연관되는 근거로 선별되어 문장이 생성될 수 있다. 여기서, 도 3b에는 선별부 및 정렬부의 순으로 배치되어 있지만, 이는 일 예일 뿐 본 발명은 이에 한 정되지 않는다. 즉, 선별부 및 정렬부 중 하나만이 사용될 수도 있고, 두 구성 요소들 간의 배치 순 서가 바뀌어 구성될 수도 있다. 여기서, 의료 진단 설명문은 도 3에 도시된 바와 같이, 대상체 병변의 진행 정도 또는 확률을 포함하는 CAD 시 스템의 진단 결과, 의료 영상의 관심 영역 및 진단 결과의 의사 결정 근거가 되는 병변 형상 속성별 평가치 를 의미하는 설명문을 포함할 수 있다. 다른 실시 예에 따라, 진단 리포트 생성부는 RNN(Recurrent Neural Network) 또는 LSTM(Long-Short Term Memory)의 학습 알고리즘을 사용하여 생성된 문장 생성 학습 모델의 형태로 구현될 수도 있다. 즉, 병변 형상 속성별 평가치가 그에 상응하는 의사들의 진단 레포트로 라벨링된 데이터 셋을 RNN(Recurrent Neural Network) 또는 LSTM(Long-Short Term Memory)의 학습 알고리즘을 사용하여 훈련될 수 있다. RNN(Recurrent Neural Network) 또는 LSTM(Long-Short Term Memory)은 시간의 흐름에 따라 변하는 시계열 데이 터를 학습하고 인공지능을 예측하는 학습 알고리즘이다. RNN은 매순간의 데이터를 인공신경망 구조에 쌓아올린 것으로 딥 러닝 중 가장 깊은 네트워크 구조이다. 시계열 데이터의 예로는 주가, 사람의 움직임, 기후, 인터넷 접속자수, 검색어 등을 생각해 볼 수 있다. LSTM은 Long-Short term Memory란 게이트 유닛을 노드마다 배치하여 인공신경망이 너무 깊어서 오랜 시간 전의 데이터들을 까먹는 현상(vanishing gradient problem)을 해결한 알고 리즘이다. 본 발명에 따른 진단 리포트 생성부가 RNN(Recurrent Neural Network) 또는 LSTM(Long-Short Term Memory)의 학습 알고리즘으로 학습된 모델일 경우, 병변 형상 속성들 간의 연관성에 따라 이웃 배열될 수 있도 록 입력 시퀀스를 조절할 수도 있다. 또는, 입력되는 의료 영상이 시간의 흐름에 따라 순차적으로 배열되는 영 상 프레임일 경우에도 효과적으로 이용될 수 있다. 도 4는 본 발명의 일 실시 예에 따른 의료 진단 리포트 생성 방법을 설명하기 위한 순서도이다. 후술되는 의료 진단 리포트 생성 방법은 전술한 도 1 내지 도 3b에 도시된 의료 진단 리포트 생성 장치 및 그 구성 요소들 을 수행 주체로 하는 것으로 이해될 수 있다. 도 4를 참조하면, 의료 진단 리포트 생성 장치는 대상체 병변의 진행 정도 또는 위치를 판단한 진단 결과를 출력하는 CAD 시스템이 진단한 동일 의료 영상을 입력받아 진단 결과의 의사 결정 근거가 되는 병변 형상 속 성별 평가치를 인공 지능 학습 모델 기반으로 예측한다(S410). S410의 상세한 설명은 도 5를 참조하여 후술하기 로 한다. 의료 진단 리포트 생성 장치는 병변 형상 속성별 평가치에 상응하는 의료 진단 설명문을 생성한다(S420). 즉, CAD 시스템의 진단 결과에 상응하는 설명 내용이 포함된 진단 리포트를 생성하여 출력한다. S420의 상세 설명은 도 6a 및 도 6b를 참조하여 후술하기로 한다. 도 5은 본 발명의 일 실시 예에 따른 진단 근거 정보 추출 단계를 설명하기 위한 순서도이다. 도 5를 참조하면, 진단 근거 정보 추출부는 CAD 시스템에 입력된 동일 영상이 입력됨(S510)에 따라, 병 변 진단 근거로 사용될 수 있는 병변 형상 속성들 각각에 대한 평가치이다(S520). 여기서, 병변 형상 속성은 의료적인 맥락에서 의미를 가지는 대상체 병변의 형상 속성으로서, 병변의 양성 또는 악성 여부를 판단하는데 도움이 되는 시각적인 패턴 정보를 의미하는 것으로, 각 병변 형상 속성은 미리 설정된 분류 항목에 따라 분류될 수 있다. 여기서, 평가치(Rating Value)는 해당 병변 형상 속성을 육안으로 확인한 의 사들의 소견에 따른 점수를 예측한 정보일 수 있다. S520은 병변 형상 속성별 평가치가 라벨링된 의료 영상들을 데이터 셋으로 하여 딥러닝 또는 머신 러닝 기반으 로 학습된 다수의 형상 속성별 예측 모델들(111, 112, 113, ..., 11n) 각각에 의해 수행된다. 일 양상에 따라, 병변 형상 속성에 대해 예측한 평가치로 소정 범위의 연속된(indiscrete) 실수값 중 하나로 출 력될 수 있다. 예컨대, <표 1>에 기재된 바와 같이 평가치는 1 내지 6 범위에서, <표 2>에 기재된 바와 같이 4.6 또는 1.2와 같은 실수값일 수 있다. 다른 양상에 따라, 병변 형상 속성에 대해 예측한 평가치로 '0'과 '1'의 값 중 하나로 출력될 수 있다. 예컨대, <표 1>에 기재된 바와 같이 평가 기준이 설정될 경우, <표 2>에 기재된 바와 같이 4.6의 실수값은 '1'로, 1.2의 실수값은 '0'으로 한번 더 분류된 정보가 평가치로 출력될 수 있다. 또는, 병변 형상 속성에 대해 예측한 평가치로 전술한 <표 1> 또는 <표 2>에 개시된 rating 값(스코어)들에서 특정 스코어 중 하나의 값으로 출력할 수 있다. 진단 근거 정보 추출부는 병변 형상 속성들 각각에 대한 평가치들로 이루어진 벡터로 변환하여 출력한다 (S530). 예컨대, <표 2>를 참조하면, X1이 Subtlety이고, X2가 Internal Structure이고, ....., X8이 Texture일 때, (4.6, 1.2,..., 1.2)의 벡터가 생성될 수 있다. 이때, 병변 형상 속성들별로 평가치의 범위가 상이할 수 있 으므로, 병변 형상 속성들별로 평가치는 정규화(Normalizing)될 수도 있다.도 6a 및 도 6b는 본 발명의 일 실시 예에 따른 의료 진단 설명문 생성 단계를 설명하기 위한 순서도이다. 도 6a를 참조하면, 일 양상에 따라, 문장 생성부는 병변 형상 속성별 평가치로 구성된 벡터가 입력(S610) 됨에 따라, 병변 형상 속성별 평가치들 각각에 상응하는 적어도 하나의 개별 설명문을 추출한다(S620). 그런 후, 문장 생성부는는 추출된 개별 설명문에 상응하는 연결구로 조립하여 의료 진단 설명문을 생성한다 (S630). 예컨대, 도 3에 도시된 바와 같이, '종양은 경계가 불규칙하다', '크기가 30mm 정도이다' 및 '석회화가 거의 진행되지 않았다' 등을 연결구 '~하고', '~이며' 및 '~때문에' 등으로 연결되도록 조립하여 의료 진단 설 명문을 생성한다. 도 3에 도시된 바와 같이, 이전의 병변 형상 속성별 평가치에 상응하는 적어도 하나의 개별 설명문들을 연결하고, 최종 문장으로 배치되는 진단 결과는 '~때문에'로 연결하여 그 진단 결과의 판단 근거가 무엇인지를 명확히 하도록 문장을 구성할 수 있다. 도 6b를 참조하면, 다른 양상에 따라 도 6a에 비해 S613 및 S616의 단계를 더 포함한다. 문장 생성부는 병 변 형상 속성별 평가치로 구성된 벡터가 입력(S610)됨에 따라, 병변 형상 속성들 중 CAD 시스템이 출력한 진 단 결과와 연관성이 큰 병변 형상 속성들을 선별한다(S613). 즉, <표 2>에 기재된 병변 형상 속성별 평가치들이 모두 진단 결과에 의사 결정 근거로 크게 기여한 것은 아닐 수도 있다. 따라서, 병변 형상 속성별 평가치들에 대해 모두 의료 진단 설명문으로 기재하는 것은 불필요하므로, 진단 결과에 결정적으로 기여한 병변 형상 속성 들만을 선별하여 의료 진단 설명문이 생성되도록 할 수 있다. 또한, 문장 생성부는 병변 형상 속성들 중 CAD 시스템이 출력한 진단 결과와 연관성이 큰 병변 형상 속 성들 순으로 정렬한다(S616). 즉, <표 2>에 기재된 병변 형상 속성별 평가치들은 진단 결과에 의사 결정 근거로 기여한 순서가 있을 것이다. 따라서, 병변 형상 속성별 평가치들에 대해 기여한 순서대로 문장 조립부에 의해 의료 진단 설명문이 생성되도록 할 수 있다. 여기서, 도 6b에는 S613 및 S616의 순으로 수행되는 것으로 되어 있지만, 이는 일 예일 뿐 본 발명은 이에 한정 되지 않는다. 즉, S613 및 S616 중 하나만이 사용될 수도 있고, S613 및 S616 간의 순서가 바뀌어 수행될 수도 있다. 그러면, 문장 생성부는 선별된 형상 속성들에 상응하는 개별 문장들 또는 정렬된 형상 속성 순의 개별 설 명문들을 추출하고(S620), 개별 설명문을 추출된 연결구로 조립하여 의료 진단 설명문을 생성한다(S630). 예컨 대, 도 3에 도시된 바와 같이, 종양의 경계, 크기, 석회화가 CAD 시스템의 진단 결과인 40%의 악성 종양에 연관되는 근거로 선별되어 문장이 생성될 수 있다. 여기서, 의료 진단 설명문은 도 3에 도시된 바와 같이, 대상체 병변의 진행 정도 또는 확률을 포함하는 CAD 시 스템의 진단 결과, 의료 영상의 관심 영역 및 진단 결과의 의사 결정 근거가 되는 병변 형상 속성별 평가치 를 의미하는 설명문을 포함할 수 있다. 산업상 이용가능성 본 발명은 의료 진단 기술 분야에서 산업상으로 이용 가능하다."}
{"patent_id": "10-2018-0026033", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시 예에 따른 의료 진단 리포트 생성 장치의 블록 구성도이다. 도 2는 본 발명의 일 실시 예에 따른 진단 근거 정보 추출부의 상세 블록 구성도이다. 도 3a 및 도 3b는 본 발명의 일 실시 예에 따른 진단 리포트 생성부의 상세 블록 구성도이다. 도 4는 본 발명의 일 실시 예에 따른 의료 진단 리포트 생성 방법을 설명하기 위한 순서도이다. 도 5은 본 발명의 일 실시 예에 따른 진단 근거 정보 추출 단계를 설명하기 위한 순서도이다. 도 6a 및 도 6b는 본 발명의 일 실시 예에 따른 의료 진단 설명문 생성 단계를 설명하기 위한 순서도이다."}
