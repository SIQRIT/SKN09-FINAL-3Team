{"patent_id": "10-2023-0176294", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0020277", "출원번호": "10-2023-0176294", "발명의 명칭": "적응적 내시경 영상 분석 및 시각화 시스템과 그 방법", "출원인": "주식회사 웨이센", "발명자": "김경남"}}
{"patent_id": "10-2023-0176294", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "복수개의 분석 모델을 로딩하고, 분석 모델의 분석 조건을 설정하며, 분석 조건 변경 여부를 판별하여 분석 조건 변경 상황이면 분석 조건을 재설정하는 모델 로딩/조건 설정부;영상 분석이 요구되는 상황인지 판별하여, 영상 분석이 요구되는 상황이면 영상 프레임을 읽어와서 상기 복수개의 분석 모델로 영상을 분석하는 영상 분석부;상기 영상 분석부에 의한 영상 분석 결과가 상기 모델 로딩/조건 설정부에 의해 설정된 분석 조건을 만족하는지판별하고, 분석 조건을 만족하면, 상기 복수개의 분석 모델의 활성화 영역(activation map, AM)을 추출하며, 추출된 활성화 영역을 바탕으로 공통 활성화 영역(common activation map, CAM)을 생성하고, 이전의 영상 프레임에서 분석 대상이 검출되었는지를 판별하여, 검출되었으면, 이전 영상 프레임과 현재 영상 프레임에서 추출된공통 활성화 영역(CAM)에 가중치를 적용하여 인접 프레임 공통 활성화 영역(adjacent common activation map,ACAM)을 생성하는 활성화 영역 추출/생성부;상기 활성화 영역 추출/생성부에 의해 생성된 인접 프레임 공통 활성화 영역(ACAM)에서 최대 활성화값을 추출하는 활성화값 추출부;상기 추출된 최대 활성화값이 검출 확정 임계값 이상인지를 판별하고, 임계값 이상이면 활성화 영역의 폐곡선을추출하여 해당 분석 영상에 폐곡선을 그리는 폐곡선 추출부;대표 영상 선별 여부를 판별하여, 대표 영상 선별이면 상기 ACAM과 이전/현재 프레임의 유사도를 계산하여 후보로 저장하며, 대표 영상 화면 표시이면 화면에 나타낼 대표 영상을 선별하여 화면에 대표 영상을 표시하고, 분석 결과를 그래프로 그리는 대표 영상 선별부; 및상기 모델 로딩/조건 설정부, 영상 분석부, 활성화 영역 추출/생성부, 활성화값 추출부, 폐곡선 추출부 및 대표영상 선별부의 상태 체크 및 동작을 제어하고, 상기 모델 로딩/조건 설정부, 영상 분석부, 활성화 영역 추출/생성부, 활성화값 추출부, 폐곡선 추출부 및 대표 영상 선별부가 각각의 기능을 수행하도록 하는 제어 명령을 송출 및 각각의 기능을 수행하는데 필요한 데이터나 정보, 앱(application)을 데이터베이스(DB)에서 읽어와 제공하거나 데이터베이스(DB)에 저장하는 제어부를 포함하는 적응적 내시경 영상 분석 및 시각화 시스템."}
{"patent_id": "10-2023-0176294", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 모델 로딩/조건 설정부가 분석 조건 변경 여부를 판별하여 분석 조건 변경 상황이면 분석 조건을 재설정함에 있어서, 분석 안정성, 속도, 영상 품질을 측정하고 그것을 바탕으로 분석 조건을 재설정하는 것을 특징으로하는 적응적 내시경 영상 분석 및 시각화 시스템."}
{"patent_id": "10-2023-0176294", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 활성화 영역 추출/생성부가 상기 인접 프레임 공통 활성화 영역(ACAM)을 생성함에 있어서, 전체 동의 모델을 이용한 방식 또는 보팅(voting) 모델을 이용한 방식으로 인접 프레임 공통 활성화 영역(ACAM)을 생성하는 것을 특징으로 하는 적응적 내시경 영상 분석 및 시각화 시스템."}
{"patent_id": "10-2023-0176294", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "공개특허 10-2025-0020277-3-제3항에 있어서,상기 전체 동의 모델을 이용한 방식은 복수개의 분석 모델의 분석 조건을 특정 예측 확률값으로 설정하는 것을특징으로 하는 적응적 내시경 영상 분석 및 시각화 시스템."}
{"patent_id": "10-2023-0176294", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서,상기 보팅(voting) 모델을 이용한 방식은 복수개의 분석 모델의 분석 조건을 상기 전체 동의 모델을 이용한 방식에서의 특정 예측 확률값과는 다른 특정 예측 확률값으로 설정하는 것을 특징으로 하는 적응적 내시경 영상분석 및 시각화 시스템."}
{"patent_id": "10-2023-0176294", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에 있어서,상기 대표 영상 선별부가 대표 영상을 선별함에 있어서, 유사도가 가장 가까운 프레임의 출력 확률을 대표 영상의 확률로 사용하거나, 임계값 이상인 대표 영상 후보들의 출력 확률 평균값을 대표 영상의 확률로 사용하는 것을 특징으로 하는 적응적 내시경 영상 분석 및 시각화 시스템."}
{"patent_id": "10-2023-0176294", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "a) 모델 로딩/조건 설정부가 복수개의 분석 모델을 로딩하고, 분석 모델의 분석 조건을 설정하는 단계;b) 영상 분석부가 영상 분석이 요구되는 상황인지 판별하여, 영상 분석이 요구되는 상황이면 영상 프레임을 읽어와서 상기 복수개의 분석 모델로 영상을 분석하는 단계;c) 활성화 영역 추출/생성부가 상기 영상 분석부에 의한 영상 분석 결과가 상기 모델 로딩/조건 설정부에 의해설정된 분석 조건을 만족하는지 판별하는 단계;d) 상기 단계 c)의 판별에서 분석 조건을 만족하면, 상기 활성화 영역 추출/생성부가 상기 복수개의 분석 모델의 활성화 영역(activation map, AM)을 추출하고, 추출된 활성화 영역을 바탕으로 공통 활성화 영역(commonactivation map, CAM)을 생성하는 단계;e) 상기 활성화 영역 추출/생성부가 이전의 영상 프레임에서 분석 대상이 검출되었는지를 판별하여, 검출되었으면, 이전 영상 프레임과 현재 영상 프레임에서 추출된 공통 활성화 영역(CAM)에 가중치를 적용하여 인접 프레임공통 활성화 영역(adjacent common activation map, ACAM)을 생성하는 단계;f) 활성화값 추출부가 상기 활성화 영역 추출/생성부에 의해 생성된 인접 프레임 공통 활성화 영역(ACAM)에서최대 활성화값을 추출하는 단계;g) 폐곡선 추출부가 상기 추출된 최대 활성화값이 검출 확정 임계값 이상인지를 판별하고, 임계값 이상이면 활성화 영역의 폐곡선을 추출하여 해당 분석 영상에 폐곡선을 그리는 단계;h) 대표 영상 선별부가 대표 영상 선별 여부를 판별하여, 대표 영상 선별이면 저장된 ACAM과 이전/현재 프레임의 유사도를 계산하여 후보로 저장하는 단계;i) 상기 대표 영상 선별부가 대표 영상의 화면 표시 여부를 판별하여, 대표 영상 화면 표시이면 화면에 나타낼대표 영상을 선별하여 화면에 대표 영상을 표시하고, 분석 결과를 그래프로 그리는 단계; 및j) 상기 모델 로딩/조건 설정부가 분석 조건 변경 여부를 판별하여 분석 조건 변경 상황이면 분석 조건을 재설정하는 단계를 포함하는 적응적 내시경 영상 분석 및 시각화 방법."}
{"patent_id": "10-2023-0176294", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "공개특허 10-2025-0020277-4-제7항에 있어서,상기 단계 e)에서 상기 활성화 영역 추출/생성부가 상기 인접 프레임 공통 활성화 영역(ACAM)을 생성함에 있어서, 전체 동의 모델을 이용한 방식 또는 보팅(voting) 모델을 이용한 방식으로 인접 프레임 공통 활성화 영역(ACAM)을 생성하는 것을 특징으로 하는 적응적 내시경 영상 분석 및 시각화 방법."}
{"patent_id": "10-2023-0176294", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에 있어서,상기 전체 동의 모델을 이용한 방식은 복수개의 분석 모델의 분석 조건을 특정 예측 확률값으로 설정하는 것을특징으로 하는 적응적 내시경 영상 분석 및 시각화 방법."}
{"patent_id": "10-2023-0176294", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서,상기 보팅(voting) 모델을 이용한 방식은 복수개의 분석 모델의 분석 조건을 상기 전체 동의 모델을 이용한 방식에서의 특정 예측 확률값과는 다른 특정 예측 확률값으로 설정하는 것을 특징으로 하는 적응적 내시경 영상분석 및 시각화 방법."}
{"patent_id": "10-2023-0176294", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제7항에 있어서,상기 단계 i)에서 상기 대표 영상 선별부가 대표 영상을 선별함에 있어서, 유사도가 가장 가까운 프레임의 출력확률을 대표 영상의 확률로 사용하거나, 임계값 이상인 대표 영상 후보들의 출력 확률 평균값을 대표 영상의 확률로 사용하는 것을 특징으로 하는 적응적 내시경 영상 분석 및 시각화 방법."}
{"patent_id": "10-2023-0176294", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제7항에 있어서,상기 단계 j)에서 상기 모델 로딩/조건 설정부가 분석 조건 변경 여부를 판별하여 분석 조건 변경 상황이면 분석 조건을 재설정함에 있어서, 분석 안정성, 속도, 영상 품질을 측정하고 그것을 바탕으로 분석 조건을 재설정하는 것을 특징으로 하는 적응적 내시경 영상 분석 및 시각화 방법."}
{"patent_id": "10-2023-0176294", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "m) 모델 로딩/조건 설정부가 복수개의 분석 모델을 로딩하고, 분석 모델의 분석 조건을 설정하는 단계;n) 영상 분석부가 영상 분석이 요구되는 상황인지 판별하여, 영상 분석이 요구되는 상황이면 영상 프레임을 읽어오는 단계;o) 상기 영상 분석부가 검출 모드 또는 분류 모드인지를 판별하여, 검출 모드이면 검출 모델로 영상을분석하고, 분류 모드이면 분류 모델로 영상을 분석하는 단계;p) 활성화 영역 추출/생성부가 상기 영상 분석부에 의한 영상 분석 결과가 상기 모델 로딩/조건 설정부에 의해설정된 분석 조건을 만족하는지 판별하는 단계;q) 상기 단계 p)의 판별에서 분석 조건을 만족하면, 상기 활성화 영역 추출/생성부가 상기 복수개의 분석 모델의 활성화 영역(activation map, AM)을 추출하고, 추출된 활성화 영역을 바탕으로 공통 활성화 영역(commonactivation map, CAM)을 생성하는 단계;공개특허 10-2025-0020277-5-r) 상기 활성화 영역 추출/생성부가 이전의 영상 프레임에서 분석 대상이 검출되었는지를 판별하여, 검출되었으면, 이전 영상 프레임과 현재 영상 프레임에서 추출된 공통 활성화 영역(CAM)에 가중치를 적용하여 인접 프레임공통 활성화 영역(adjacent common activation map, ACAM)을 생성하는 단계;s) 활성화값 추출부가 상기 활성화 영역 추출/생성부에 의해 생성된 인접 프레임 공통 활성화 영역(ACAM)에서최대 활성화값을 추출하는 단계;t) 폐곡선 추출부가 상기 추출된 최대 활성화값이 검출 확정 임계값 이상인지를 판별하고, 임계값 이상이면 활성화 영역의 폐곡선을 추출하여 해당 분석 영상에 폐곡선을 그리는 단계;u) 상기 영상 분석부가 분석 모드 변경 여부를 판별하여, 분석 모드 변경이면 현재의 분석 모드가 검출 모드이면 분류 모드로, 분류 모드이면 검출 모드로 변경하는 단계;v) 대표 영상 선별부가 대표 영상 선별 여부를 판별하여, 대표 영상 선별이면 저장된 ACAM과 이전/현재 프레임의 유사도를 계산하여 후보로 저장하는 단계;w) 상기 대표 영상 선별부가 대표 영상의 화면 표시 여부를 판별하여, 대표 영상 화면 표시이면 화면에 나타낼대표 영상을 선별하여 화면에 대표 영상을 표시하고, 분석 결과를 그래프로 그리는 단계; 및x) 상기 모델 로딩/조건 설정부가 분석 조건 변경 여부를 판별하여 분석 조건 변경 상황이면 분석 조건을 재설정하는 단계를 포함하는 적응적 내시경 영상 분석 및 시각화 방법."}
{"patent_id": "10-2023-0176294", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제13항에 있어서,상기 단계 r)에서 상기 활성화 영역 추출/생성부가 상기 인접 프레임 공통 활성화 영역(ACAM)을 생성함에 있어서, 전체 동의 모델을 이용한 방식 또는 보팅(voting) 모델을 이용한 방식으로 인접 프레임 공통 활성화 영역(ACAM)을 생성하는 것을 특징으로 하는 적응적 내시경 영상 분석 및 시각화 방법."}
{"patent_id": "10-2023-0176294", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제14항에 있어서,상기 전체 동의 모델을 이용한 방식은 복수개의 분석 모델의 분석 조건을 특정 예측 확률값으로 설정하는 것을특징으로 하는 적응적 내시경 영상 분석 및 시각화 방법."}
{"patent_id": "10-2023-0176294", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제15항에 있어서,상기 보팅(voting) 모델을 이용한 방식은 복수개의 분석 모델의 분석 조건을 상기 전체 동의 모델을 이용한 방식에서의 특정 예측 확률값과는 다른 특정 예측 확률값으로 설정하는 것을 특징으로 하는 적응적 내시경 영상분석 및 시각화 방법."}
{"patent_id": "10-2023-0176294", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제13항에 있어서,상기 단계 w)에서 상기 대표 영상 선별부가 대표 영상을 선별함에 있어서, 유사도가 가장 가까운 프레임의 출력확률을 대표 영상의 확률로 사용하거나, 임계값 이상인 대표 영상 후보들의 출력 확률 평균값을 대표 영상의 확률로 사용하는 것을 특징으로 하는 적응적 내시경 영상 분석 및 시각화 방법.공개특허 10-2025-0020277-6-청구항 18 제13항에 있어서,상기 단계 x)에서 상기 모델 로딩/조건 설정부가 분석 조건 변경 여부를 판별하여 분석 조건 변경 상황이면 분석 조건을 재설정함에 있어서, 분석 안정성, 속도, 영상 품질을 측정하고 그것을 바탕으로 분석 조건을 재설정하는 것을 특징으로 하는 적응적 내시경 영상 분석 및 시각화 방법."}
{"patent_id": "10-2023-0176294", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명에 따른 적응적 내시경 영상 분석 및 시각화 방법은, 복수개의 분석 모델을 로딩하고, 분석 모델의 분석 조건을 설정하는 단계; 영상 분석이 요구되는 상황이면 영상 프레임을 읽어와서 복수개의 분석 모델로 영상을 분 석하는 단계; 영상 분석 결과가 설정된 분석 조건을 만족하는지 판별하는 단계; 분석 조건을 만족하면, 복수개의 (뒷면에 계속)"}
{"patent_id": "10-2023-0176294", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 적응적 내시경 영상 분석 및 시각화 시스템과 그 방법에 관한 것으로서, 더 상세하게는 복수개의 인 공지능 모델로 내시경 영상 분석 결과를 선별하여 최종 결과를 시각화하고, 복수개의 모델의 전체 동의 또는 보 팅 조건을 적응적으로 적용하는 적응적 내시경 영상 분석 및 시각화 시스템과 그 방법에 관한 것이다."}
{"patent_id": "10-2023-0176294", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "내시경 영상 분석 AI(Artificial Intelligence) 모델로 내시경 영상을 분석하여 대상을 검출할 때, 단일 프레임 (frame) 분석 결과를 바탕으로 분석 대상이 검출되면 대상이 검출된 것으로 판단할 수 있다. 이때, 내시경의 이 동이나 잘못된 검출(FP, false positive) 등으로 단일 프레임 결과만 사용하기에는 검출의 정확도가 떨어질 수 있다. 이상과 같은 문제점에 대한 대안으로, 고정된 프레임 수 N개에서 연속하여 분석 대상이 검출될 때 분석 대상이 검출된 것으로 확정하는 방안이 제시되었다. 그러나 내시경 영상 분석장치의 처리속도가 제조사마다 다를 수 있 고, 내시경을 조작하는 검사자의 움직임 속도에 따라 고정된 프레임 수 N의 설정은 검출 정확도에 영향을 미칠 수 있다. 객체 검출(object detection) 기반의 모델로 구성된 내시경 분석 소프트웨어는 좌표를 결과로 출력하여 사각형 형태로 나타낼 수 있다. 이때, 오검출(false detection)을 줄이기 위한 후처리 방법으로 N개의 프레임에서 연속 하여 분석 대상이 검출되었을 때 화면에 나타낸다. 내시경 분석 소프트웨어를 복수개의 객체 검출 모델로 구성 하여도 사각형 좌표 형태의 출력으로 자세한 대상의 영역을 지시하는데 한계가 있다. 선행기술문헌 특허문헌 (특허문헌 0001) 한국 공개특허공보 제10-2023-0131777호(2023.09.14. 공개)"}
{"patent_id": "10-2023-0176294", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 상기와 같은 사항을 감안하여 창출된 것으로서, 복수개의 모델로 예측한 확률 값을 전체 동의(agree all) 또는 보팅(voting) 방식으로 분석 대상의 검출 여부를 판단하여 각 모델에서 예측한 오검출(false detection)의 발생 가능성을 1차적으로 줄이고, 현재 프레임(frame)에 대한 전체 동의 또는 보팅 모델의 공통 활성화 영역(common activation map)을 추출함으로써 오검출 가능성을 2차적으로 줄일 수 있는 적응적 내시경 영상 분석 및 시각화 시스템과 그 방법을 제공함에 그 목적이 있다. 본 발명의 다른 목적은 이전(previous) 프레임과 현재 프레임에서 추출된 공통 활성화 영역에 가중치(weight)를 적용하여 인접(adjacent) 프레임 공통 활성화 영역을 추출함으로써 오검출 가능성을 3차적으로 줄이고, 인접 프 레임 공통 활성화 영역의 최대 활성화 값(peak activation value)이 검출 확정 임계값 이상인지 판단함으로써 오검출 가능성을 4차적으로 줄일 수 있는 적응적 내시경 영상 분석 및 시각화 시스템과 그 방법을 제공함에 있 다.본 발명의 또 다른 목적은 복수개의 모델로 오검출을 최소화하고, 예측한 분석 대상은 폐곡선(closed curve) 형 태로 자세하게 지시할 수 있으며, 인접 프레임 공통 활성화 영역을 대표 영상 선별 과정에 사용하여 분석 결과 로부터 대표 영상 선별이 가능하고, 복수개의 모델의 전체 동의 또는 보팅 조건을 적응적으로 적용할 수 있는 적응적 내시경 영상 분석 및 시각화 시스템과 그 방법을 제공함에 있다."}
{"patent_id": "10-2023-0176294", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기의 목적을 달성하기 위하여 본 발명에 따른 적응적 내시경 영상 분석 및 시각화 시스템은, 복수개의 분석 모델을 로딩하고, 분석 모델의 분석 조건을 설정하며, 분석 조건 변경 여부를 판별하여 분석 조 건 변경 상황이면 분석 조건을 재설정하는 모델 로딩/조건 설정부; 영상 분석이 요구되는 상황인지 판별하여, 영상 분석이 요구되는 상황이면 영상 프레임을 읽어와서 상기 복수개 의 분석 모델로 영상을 분석하는 영상 분석부; 상기 영상 분석부에 의한 영상 분석 결과가 상기 모델 로딩/조건 설정부에 의해 설정된 분석 조건을 만족하는지 판별하고, 분석 조건을 만족하면, 상기 복수개의 분석 모델의 활성화 영역(activation map, AM)을 추출하며, 추 출된 활성화 영역을 바탕으로 공통 활성화 영역(common activation map, CAM)을 생성하고, 이전의 영상 프레임 에서 분석 대상이 검출되었는지를 판별하여, 검출되었으면, 이전 영상 프레임과 현재 영상 프레임에서 추출된 공통 활성화 영역(CAM)에 가중치를 적용하여 인접 프레임 공통 활성화 영역(adjacent common activation map, ACAM)을 생성하는 활성화 영역 추출/생성부; 상기 활성화 영역 추출/생성부에 의해 생성된 인접 프레임 공통 활성화 영역(ACAM)에서 최대 활성화값을 추출하 는 활성화값 추출부; 상기 추출된 최대 활성화값이 검출 확정 임계값 이상인지를 판별하고, 임계값 이상이면 활성화 영역의 폐곡선을 추출하여 해당 분석 영상에 폐곡선을 그리는폐곡선 추출부; 대표 영상 선별 여부를 판별하여, 대표 영상 선별이면 상기 ACAM과 이전/현재 프레임의 유사도를 계산하여 후보 로 저장하며, 대표 영상 화면 표시이면 화면에 나타낼 대표 영상을 선별하여 화면에 대표 영상을 표시하고, 분 석 결과를 그래프로 그리는 대표 영상 선별부; 및 상기 모델 로딩/조건 설정부, 영상 분석부, 활성화 영역 추출/생성부, 활성화값 추출부, 폐곡선 추출부 및 대표 영상 선별부의 상태 체크 및 동작을 제어하고, 상기 모델 로딩/조건 설정부, 영상 분석부, 활성화 영역 추출/생 성부, 활성화값 추출부, 폐곡선 추출부 및 대표 영상 선별부가 각각의 기능을 수행하도록 하는 제어 명령을 송 출 및 각각의 기능을 수행하는데 필요한 데이터나 정보, 앱(application)을 데이터베이스(DB)에서 읽어와 제공 하거나 데이터베이스(DB)에 저장하는 제어부를 포함하는 점에 그 특징이 있다. 여기서, 상기 모델 로딩/조건 설정부가 분석 조건 변경 여부를 판별하여 분석 조건 변경 상황이면 분석 조건을 재설정함에 있어서, 분석 안정성, 속도, 영상 품질을 측정하고 그것을 바탕으로 분석 조건을 재설정할 수 있다. 또한, 상기 활성화 영역 추출/생성부가 상기 인접 프레임 공통 활성화 영역(ACAM)을 생성함에 있어서, 전체 동 의 모델을 이용한 방식 또는 보팅(voting) 모델을 이용한 방식으로 인접 프레임 공통 활성화 영역(ACAM)을 생성 할 수 있다. 이때, 상기 전체 동의 모델을 이용한 방식은 복수개의 분석 모델의 분석 조건을 특정 예측 확률값으로 설정할 수 있다. 이때, 또한 상기 보팅(voting) 모델을 이용한 방식은 복수개의 분석 모델의 분석 조건을 상기 전체 동의 모델을 이용한 방식에서의 특정 예측 확률값과는 다른 특정 예측 확률값으로 설정할 수 있다. 또한, 상기 대표 영상 선별부가 대표 영상을 선별함에 있어서, 유사도가 가장 가까운 프레임의 출력 확률을 대 표 영상의 확률로 사용하거나, 임계값 이상인 대표 영상 후보들의 출력 확률 평균값을 대표 영상의 확률로 사용 할 수 있다. 또한, 상기의 목적을 달성하기 위하여 본 발명의 제1 실시예에 따른 적응적 내시경 영상 분석 및 시각화 방법은,a) 모델 로딩/조건 설정부가 복수개의 분석 모델을 로딩하고, 분석 모델의 분석 조건을 설정하는 단계; b) 영상 분석부가 영상 분석이 요구되는 상황인지 판별하여, 영상 분석이 요구되는 상황이면 영상 프레임을 읽 어와서 상기 복수개의 분석 모델로 영상을 분석하는 단계; c) 활성화 영역 추출/생성부가 상기 영상 분석부에 의한 영상 분석 결과가 상기 모델 로딩/조건 설정부에 의해 설정된 분석 조건을 만족하는지 판별하는 단계; d) 상기 단계 c)의 판별에서 분석 조건을 만족하면, 상기 활성화 영역 추출/생성부가 상기 복수개의 분석 모델 의 활성화 영역(activation map, AM)을 추출하고, 추출된 활성화 영역을 바탕으로 공통 활성화 영역(common activation map, CAM)을 생성하는 단계; e) 상기 활성화 영역 추출/생성부가 이전의 영상 프레임에서 분석 대상이 검출되었는지를 판별하여, 검출되었으 면, 이전 영상 프레임과 현재 영상 프레임에서 추출된 공통 활성화 영역(CAM)에 가중치를 적용하여 인접 프레임 공통 활성화 영역(adjacent common activation map, ACAM)을 생성하는 단계; f) 활성화값 추출부가 상기 활성화 영역 추출/생성부에 의해 생성된 인접 프레임 공통 활성화 영역(ACAM)에서 최대 활성화값을 추출하는 단계; g) 폐곡선 추출부가 상기 추출된 최대 활성화값이 검출 확정 임계값 이상인지를 판별하고, 임계값 이상이면 활 성화 영역의 폐곡선을 추출하여 해당 분석 영상에 폐곡선을 그리는 단계; h) 대표 영상 선별부가 대표 영상 선별 여부를 판별하여, 대표 영상 선별이면 저장된 ACAM과 이전/현재 프레임 의 유사도를 계산하여 후보로 저장하는 단계; i) 상기 대표 영상 선별부가 대표 영상의 화면 표시 여부를 판별하여, 대표 영상 화면 표시이면 화면에 나타낼 대표 영상을 선별하여 화면에 대표 영상을 표시하고, 분석 결과를 그래프로 그리는 단계; 및 j) 상기 모델 로딩/조건 설정부가 분석 조건 변경 여부를 판별하여 분석 조건 변경 상황이면 분석 조건을 재설 정하는 단계를 포함하는 점에 그 특징이 있다. 여기서, 상기 단계 e)에서 상기 활성화 영역 추출/생성부가 상기 인접 프레임 공통 활성화 영역(ACAM)을 생성함 에 있어서, 전체 동의 모델을 이용한 방식 또는 보팅(voting) 모델을 이용한 방식으로 인접 프레임 공통 활성화 영역(ACAM)을 생성할 수 있다. 이때, 상기 전체 동의 모델을 이용한 방식은 복수개의 분석 모델의 분석 조건을 특정 예측 확률값으로 설정할 수 있다. 이때, 또한 상기 보팅(voting) 모델을 이용한 방식은 복수개의 분석 모델의 분석 조건을 상기 전체 동의 모델을 이용한 방식에서의 특정 예측 확률값과는 다른 특정 예측 확률값으로 설정할 수 있다. 또한, 상기 단계 i)에서 상기 대표 영상 선별부가 대표 영상을 선별함에 있어서, 유사도가 가장 가까운 프레임 의 출력 확률을 대표 영상의 확률로 사용하거나, 임계값 이상인 대표 영상 후보들의 출력 확률 평균값을 대표 영상의 확률로 사용할 수 있다. 또한, 상기 단계 j)에서 상기 모델 로딩/조건 설정부가 분석 조건 변경 여부를 판별하여 분석 조건 변경 상황이 면 분석 조건을 재설정함에 있어서, 분석 안정성, 속도, 영상 품질을 측정하고 그것을 바탕으로 분석 조건을 재 설정할 수 있다. 또한, 상기의 목적을 달성하기 위하여 본 발명의 제2 실시예에 따른 적응적 내시경 영상 분석 및 시각화 방법은, m) 모델 로딩/조건 설정부가 복수개의 분석 모델을 로딩하고, 분석 모델의 분석 조건을 설정하는 단계; n) 영상 분석부가 영상 분석이 요구되는 상황인지 판별하여, 영상 분석이 요구되는 상황이면 영상 프레임을 읽 어오는 단계; o) 상기 영상 분석부가 검출 모드 또는 분류 모드인지를 판별하여, 검출 모드이면 검출 모델로 영상을 분석하고, 분류 모드이면 분류 모델로 영상을 분석하는 단계; p) 활성화 영역 추출/생성부가 상기 영상 분석부에 의한 영상 분석 결과가 상기 모델 로딩/조건 설정부에 의해 설정된 분석 조건을 만족하는지 판별하는 단계; q) 상기 단계 p)의 판별에서 분석 조건을 만족하면, 상기 활성화 영역 추출/생성부가 상기 복수개의 분석 모델 의 활성화 영역(activation map, AM)을 추출하고, 추출된 활성화 영역을 바탕으로 공통 활성화 영역(common activation map, CAM)을 생성하는 단계; r) 상기 활성화 영역 추출/생성부가 이전의 영상 프레임에서 분석 대상이 검출되었는지를 판별하여, 검출되었으 면, 이전 영상 프레임과 현재 영상 프레임에서 추출된 공통 활성화 영역(CAM)에 가중치를 적용하여 인접 프레임 공통 활성화 영역(adjacent common activation map, ACAM)을 생성하는 단계; s) 활성화값 추출부가 상기 활성화 영역 추출/생성부에 의해 생성된 인접 프레임 공통 활성화 영역(ACAM)에서 최대 활성화값을 추출하는 단계; t) 폐곡선 추출부가 상기 추출된 최대 활성화값이 검출 확정 임계값 이상인지를 판별하고, 임계값 이상이면 활 성화 영역의 폐곡선을 추출하여 해당 분석 영상에 폐곡선을 그리는 단계; u) 상기 영상 분석부가 분석 모드 변경 여부를 판별하여, 분석 모드 변경이면 현재의 분석 모드가 검출 모드이 면 분류 모드로, 분류 모드이면 검출 모드로 변경하는 단계; v) 대표 영상 선별부가 대표 영상 선별 여부를 판별하여, 대표 영상 선별이면 저장된 ACAM과 이전/현재 프레임 의 유사도를 계산하여 후보로 저장하는 단계; w) 상기 대표 영상 선별부가 대표 영상의 화면 표시 여부를 판별하여, 대표 영상 화면 표시이면 화면에 나타낼 대표 영상을 선별하여 화면에 대표 영상을 표시하고, 분석 결과를 그래프로 그리는 단계; 및 x) 상기 모델 로딩/조건 설정부가 분석 조건 변경 여부를 판별하여 분석 조건 변경 상황이면 분석 조건을 재설 정하는 단계를 포함하는 점에 그 특징이 있다. 여기서, 상기 단계 r)에서 상기 활성화 영역 추출/생성부가 상기 인접 프레임 공통 활성화 영역(ACAM)을 생성함 에 있어서, 전체 동의 모델을 이용한 방식 또는 보팅(voting) 모델을 이용한 방식으로 인접 프레임 공통 활성화 영역(ACAM)을 생성할 수 있다. 이때, 상기 전체 동의 모델을 이용한 방식은 복수개의 분석 모델의 분석 조건을 특정 예측 확률값으로 설정할 수 있다. 이때, 또한 상기 보팅(voting) 모델을 이용한 방식은 복수개의 분석 모델의 분석 조건을 상기 전체 동의 모델을 이용한 방식에서의 특정 예측 확률값과는 다른 특정 예측 확률값으로 설정할 수 있다. 또한, 상기 단계 w)에서 상기 대표 영상 선별부가 대표 영상을 선별함에 있어서, 유사도가 가장 가까운 프레임 의 출력 확률을 대표 영상의 확률로 사용하거나, 임계값 이상인 대표 영상 후보들의 출력 확률 평균값을 대표 영상의 확률로 사용할 수 있다. 또한, 상기 단계 x)에서 상기 모델 로딩/조건 설정부가 분석 조건 변경 여부를 판별하여 분석 조건 변경 상황이 면 분석 조건을 재설정함에 있어서, 분석 안정성, 속도, 영상 품질을 측정하고 그것을 바탕으로 분석 조건을 재 설정할 수 있다."}
{"patent_id": "10-2023-0176294", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "이와 같은 본 발명에 의하면, 복수개의 분석 모델을 이용하여 분석 대상의 검출 여부를 판단하고, 현재 프레임 (frame)에 대한 전체 동의 또는 보팅 모델의 공통 활성화 영역(CAM)을 추출하며, 이전 프레임 및 현재 프레임에 서 추출된 공통 활성화 영역(CAM)에 가중치(weight)를 적용하여 인접 프레임 공통 활성화 영역(ACAM)을 추출하 고, 인접 프레임 공통 활성화 영역(ACAM)의 최대 활성화 값이 검출 확정 임계값 이상인지 판단함으로써 오검출 가능성을 4차에 걸쳐 줄일 수 있는 장점이 있다. 또한, 복수개의 분석 모델을 이용하여 예측한 분석 대상은 폐곡선(closed curve) 형태로 자세하게 지시할 수 있 으며, 인접 프레임 공통 활성화 영역을 대표 영상 선별 과정에 이용함으로써 분석 결과로부터 대표 영상 선별이 가능하고, 복수개의 모델의 전체 동의 또는 보팅 조건을 적응적으로 적용할 수 있는 장점이 있다."}
{"patent_id": "10-2023-0176294", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 명세서 및 청구범위에 사용된 용어나 단어는 통상적이거나 사전적인 의미로 한정되어 해석되지 말아야 하며, 발명자는 그 자신의 발명을 가장 최선의 방법으로 설명하기 위해 용어의 개념을 적절하게 정의할 수 있다는 원 칙에 입각하여 본 발명의 기술적 사상에 부합하는 의미와 개념으로 해석되어야 한다. 명세서 전체에서, 어떤 부분이 어떤 구성요소를 \"포함\"한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다 른 구성요소를 제외하는 것이 아니라 다른 구성요소를 더 포함할 수 있다는 것을 의미한다. 또한, 명세서에 기 재된 \"…부\", \"…기\", \"모듈\", \"장치\" 등의 용어는 적어도 하나의 기능이나 동작을 처리하는 단위를 의미하며, 이는 하드웨어나 소프트웨어 또는 하드웨어 및 소프트웨어의 결합으로 구현될 수 있다. 이하 첨부된 도면을 참조하여 본 발명의 실시예를 상세히 설명한다. 도 1은 본 발명의 실시예에 따른 적응적 내시경 영상 분석 및 시각화 시스템의 구성을 개략적으로 나타낸 도면 이다. 도 1을 참조하면, 본 발명에 따른 적응적 내시경 영상 분석 및 시각화 시스템은 모델 로딩/조건 설정부 , 영상 분석부, 활성화 영역 추출/생성부, 활성화값 추출부, 폐곡선 추출부, 대표 영 상 선별부, 제어부를 포함하여 구성될 수 있다. 모델 로딩/조건 설정부는 복수개(예를 들면, 4개)(도 3 및 도 4 참조)의 분석 모델을 로딩하고, 분석 모델 의 분석 조건(예컨대, 예측 확률값 0.8 이상 또는 3개의 모델이 예측 확률값 0.85 이상)을 설정한다. 또한, 모 델 로딩/조건 설정부는 분석 조건 변경 여부를 판별하여 분석 조건 변경 상황이면 분석 조건을 재설정한다. 여기서, 상기 모델 로딩/조건 설정부가 분석 조건 변경 여부를 판별하여 분석 조건 변경 상황 이면 분석 조건을 재설정함에 있어서, 분석 안정성, 속도, 영상 품질을 측정하고 그것을 바탕으로 분석 조건을 재설정할 수 있다. 영상 분석부는 영상 분석이 요구되는 상황인지 판별하여, 영상 분석이 요구되는 상황이면 영상 프레임을 읽어와서 상기 복수개의 분석 모델로 영상을 분석한다. 활성화 영역 추출/생성부는 상기 영상 분석부에 의한 영상 분석 결과가 상기 모델 로딩/조건 설정부 에 의해 설정된 분석 조건을 만족하는지 판별하고, 분석 조건을 만족하면, 상기 복수개의 분석 모델의 활 성화 영역(activation map, AM)(도 3 및 도 4 참조)을 추출하며, 추출된 활성화 영역(AM)을 바탕으로 공통 활성 화 영역(common activation map, CAM)을 생성하고, 이전의 영상 프레임에서 분석 대상이 검출되었는지를 판별하 여, 검출되었으면, 이전 영상 프레임과 현재 영상 프레임에서 추출된 공통 활성화 영역(CAM)에 가중치를 적용하 여 인접 프레임 공통 활성화 영역(adjacent common activation map, ACAM)을 생성한다. 여기서, 이와 같은 활 성화 영역 추출/생성부가 상기 인접 프레임 공통 활성화 영역(ACAM)을 생성함에 있어서, 전체 동의(agree all) 모델을 이용한 방식 또는 보팅(voting) 모델을 이용한 방식으로 인접 프레임 공통 활성화 영역(ACAM)을 생 성할 수 있다. 이때, 상기 전체 동의 모델을 이용한 방식은 복수개의 분석 모델의 분석 조건을 특정 예측 확률 값(예를 들면, 복수개의 분석 모델 모두 예측 확률값 0.8 이상)으로 설정할 수 있다. 이때, 또한 상기 보팅(voting) 모델을 이용한 방식은 복수개의 분석 모델의 분석 조건을 상기 전체 동의 모델을 이용한 방식에서의 특정 예측 확률값과는 다른 특정 예측 확률값(예를 들면, 3개의 분석 모델의 예측 확률값 0.85 이상)으로 설정 할 수 있다. 여기서, 이상과 같은 전체 동의 모델을 이용한 방식과 보팅(voting) 모델을 이용한 방식에서의 각 분석 조건으로서의 특정 예측 확률값은 어떤 하나의 값으로 고정되는 것으로 한정되는 것은 아니며, 분석 조건 이 적용되는 대상이나 상황에 따라 다양한 값으로 설정될 수 있다. 활성화값 추출부는 상기 활성화 영역 추출/생성부에 의해 생성된 인접 프레임 공통 활성화 영역 (ACAM)에서 최대 활성화값을 추출한다. 폐곡선 추출부는 상기 추출된 최대 활성화값이 검출 확정 임계값 이상인지를 판별하고, 임계값 이상이면 활성화 영역의 폐곡선을 추출하여 해당 분석 영상에 폐곡선을 그린다. 대표 영상 선별부는 대표 영상 선별 여부를 판별하여, 대표 영상 선별이면 상기 ACAM과 이전/현재 프레임 의 유사도를 계산하여 후보로 저장하며, 대표 영상 화면 표시 여부를 판별하여, 대표 영상 화면 표시이면 화면 에 나타낼 대표 영상을 선별하여 화면에 대표 영상을 표시하고, 분석 결과를 그래프로 그린다. 여기서, 이와 같 은 대표 영상 선별부가 대표 영상을 선별함에 있어서, 유사도가 가장 가까운 프레임의 출력 확률을 대표 영상의 확률로 사용하거나, 임계값 이상인 대표 영상 후보들의 출력 확률 평균값을 대표 영상의 확률로 사용할 수 있다. 이와 관련해서는 뒤에서 다시 설명하기로 한다. 제어부는 상기 모델 로딩/조건 설정부, 영상 분석부, 활성화 영역 추출/생성부, 활성화값 추출부, 폐곡선 추출부 및 대표 영상 선별부의 상태 체크 및 동작을 제어하고, 상기 모델 로딩/ 조건 설정부, 영상 분석부, 활성화 영역 추출/생성부, 활성화값 추출부, 폐곡선 추출부 및 대표 영상 선별부가 각각의 기능을 수행하도록 하는 제어 명령을 송출 및 각각의 기능을 수행하 는데 필요한 데이터나 정보, 앱(application)을 데이터베이스(DB)에서 읽어와 제공하거나 데이터베이스 (DB)에 저장한다. 여기서, 이와 같은 데이터베이스(DB)는 시스템 운용을 위한 각종 소프트웨어 프로 그램이나, 상기 모델 로딩/조건 설정부, 영상 분석부, 활성화 영역 추출/생성부, 활성화값 추출 부, 폐곡선 추출부 및 대표 영상 선별부가 모델 로딩 및 조건 설정, 영상 분석, 활성화 영역 추 출 및 생성, 활성화값 추출, 폐곡선 추출, 대표 영상 선별과 관련된 기능을 수행하거나 작업을 처리할 시 필요 한 데이터나 정보를 저장 및 관리한다. 여기서, 이상과 같은 모델 로딩/조건 설정부, 영상 분석부, 활성화 영역 추출/생성부, 활성화값 추출부, 폐곡선 추출부, 대표 영상 선별부, 제어부 및 데이터베이스(DB)는 전체적으 로 통합되어 하나의 컴퓨터 시스템으로 구성될 수도 있다. 그러면, 이하에서는 이상과 같은 구성을 갖는 본 발명에 따른 적응적 내시경 영상 분석 및 시각화 시스템을 기 반으로 한 적응적 내시경 영상 분석 및 시각화 방법에 대해 설명해 보기로 한다. 도 2는 본 발명의 제1 실시예에 따른 적응적 내시경 영상 분석 및 시각화 방법의 실행 과정을 나타낸 흐름도이 다. 도 2를 참조하면, 본 발명의 제1 실시예에 따른 적응적 내시경 영상 분석 및 시각화 방법은, 먼저 모델 로딩/조 건 설정부가 복수개(예를 들면, 4개)(도 3 및 도 4 참조)의 분석 모델을 로딩하고, 분석 모델의 분석 조건 을 설정한다(단계 S201). 예를 들면, 분석 조건을 예측 확률값 0.8 이상 또는 3개의 모델이 예측 확률값 0.85 이상과 같이 설정할 수 있다. 이렇게 하여 분석 모델의 로딩 및 분석 조건의 설정이 완료되면, 영상 분석부는 영상 분석이 요구되는 상 황인지 판별하여(단계 S202), 영상 분석이 요구되는 상황이면 영상 프레임을 읽어와서 상기 복수개의 분석 모델 로 영상을 분석한다(단계 S203, S204). 그러면, 활성화 영역 추출/생성부는 상기 영상 분석부에 의한 영상 분석 결과가 상기 모델 로딩/조건 설정부에 의해 설정된 분석 조건을 만족하는지 판별한다(단계 S205). 상기 단계 S205의 판별에서 분석 조건을 만족하면, 활성화 영역 추출/생성부는 상기 복수개의 분석 모델의 활성화 영역(activation map, AM)(도 3 및 도 4 참조)을 추출하고(단계 S206), 추출된 활성화 영역(AM)을 바탕 으로 공통 활성화 영역(common activation map, CAM)을 생성한다(단계 S207). 또한, 상기 활성화 영역 추출/생성부는 이전의 영상 프레임(frame N-1)(도 3 및 도 4 참조)에서 분석 대상 (예를 들면, 위암과 같은 어떤 특정 병변)이 검출되었는지를 판별하여(단계 S208), 검출되었으면, 이전 영상 프레임과 현재 영상 프레임에서 추출된 공통 활성화 영역(CAM)에 가중치(weight)를 적용하여 인접 프레임 공통 활 성화 영역(adjacent common activation map, ACAM)을 생성한다(단계 S209). 여기서, 이상과 같은 활성화 영역 추출/생성부가 상기 인접 프레임 공통 활성화 영역(ACAM)을 생성함에 있어서, 전체 동의 모델을 이용한 방 식(도 3 참조) 또는 보팅(voting) 모델을 이용한 방식(도 4 참조)으로 인접 프레임 공통 활성화 영역(ACAM)을 생성할 수 있다. 이때, 상기 전체 동의 모델을 이용한 방식은 복수개의 분석 모델의 분석 조건을 특정 예측 확 률값(예를 들면, 복수개의 분석 모델 모두 예측 확률값 0.8 이상)으로 설정할 수 있다. 이때, 또한 상기 보팅 (voting) 모델을 이용한 방식은 복수개의 분석 모델의 분석 조건을 상기 전체 동의 모델을 이용한 방식에서의 특정 예측 확률값과는 다른 특정 예측 확률값(예를 들면, 3개의 분석 모델의 예측 확률값 0.85 이상)으로 설정 할 수 있다. 여기서, 이상과 같은 전체 동의 모델을 이용한 방식과 보팅(voting) 모델을 이용한 방식에서의 각 분석 조건으로서의 특정 예측 확률값은 전술한 바와 같이, 어떤 하나의 값으로 고정되는 것으로 한정되는 것은 아니며, 분석 조건이 적용되는 대상이나 상황에 따라 다양한 값으로 설정될 수 있다. 여기서, 이상과 같은 전체 동의 모델 및 보팅(voting) 모델을 이용한 인접 프레임 공통 활성화 영역(ACAM)의 생성과 관련해서는 뒤에서 다 시 설명하기로 한다. 이렇게 하여 인접 프레임 공통 활성화 영역(ACAM)이 생성되면, 활성화값 추출부는 상기 활성화 영역 추출/ 생성부에 의해 생성된 인접 프레임 공통 활성화 영역(ACAM)에서 최대 활성화값을 추출한다(단계 S210). 이후, 폐곡선 추출부는 상기 추출된 최대 활성화값이 검출 확정 임계값 이상인지를 판별하고(단계 S211), 임계값 이상이면 활성화 영역의 폐곡선을 추출하여 해당 분석 영상에 폐곡선을 그린다(단계 S212, S213). 이렇 게 함으로써 내시경 영상 분석 결과를 시각화하게 되며, 이를 통해 복수개의 분석 모델을 이용하여 예측한 분석 대상은 폐곡선(closed curve) 형태로 자세하게 지시할 수 있게 된다. 이후, 대표 영상 선별부는 대표 영상 선별 여부를 판별하여(단계 S214), 대표 영상 선별이 아니면 이전 및 현재 프레임의 ACAM을 저장하고(단계 S215), 대표 영상 선별이면 저장된 ACAM과 이전/현재 프레임의 유사도를 계산하여 후보로 저장한다(단계 S216). 그런 후, 대표 영상 선별부는 대표 영상의 화면 표시 여부를 판별하여(단계 S217), 대표 영상 화면 표시이 면 화면에 나타낼 대표 영상을 선별하여 화면에 대표 영상을 표시하고, 분석 결과를 그래프로 그린다(단계 S218 ∼S220). 여기서, 상기 대표 영상 선별부가 대표 영상을 선별함에 있어서, 유사도가 가장 가까운 프레임의 출력 확률을 대표 영상의 확률로 사용하거나, 임계값 이상인 대표 영상 후보들의 출력 확률 평균값을 대표 영상 의 확률로 사용할 수 있다. 이와 관련해서는 뒤에서 다시 설명하기로 한다. 이후, 상기 모델 로딩/조건 설정부는 분석 조건 변경 여부를 판별하여 분석 조건 변경 상황이면 분석 조건 (예를 들면, 보팅 수)을 재설정한다(단계 S221∼S223). 여기서, 상기 모델 로딩/조건 설정부가 분석 조건 변경 여부를 판별하여 분석 조건 변경 상황이면 분석 조건을 재설정함에 있어서, 분석 안정성, 속도, 영상 품질 을 측정하고 그것을 바탕으로 분석 조건을 재설정할 수 있다. 도 3은 본 발명에 따른 적응적 내시경 영상 분석 및 시각화 방법에 있어서, 전체 동의 방식에 의해 인접 프레임 의 공통 활성화 영역을 생성하는 개요를 나타낸 도면이다. 도 3을 참조하면, 활성화 영역 추출/생성부는 이전 영상 프레임(Frame N-1)과 현재 영상 프레임(Frame N) 의 내시경 영상을 먼저 전처리한 후, 복수개(예컨대, 모델 1∼모델 4의 4개)의 분석 모델의 활성화 영역(AM)을 추출한다. 이때, 각 분석 모델의 분석 조건을 예측 확률값 0.8 이상으로 설정할 수 있다. 도 3에서는 이전 영상 프레임(Frame N-1)의 경우, 모델 1은 0.83, 모델 2는 0.89, 모델 3은 0.92, 모델 4는 0.87의 예측 확률값을 각 각 나타낸 것을 예시하고 있고, 현재 영상 프레임(Frame N)의 경우, 모델 1은 0.86, 모델 2는 0.88, 모델 3은 0.91, 모델 4는 0.87의 예측 확률값을 각각 나타낸 것을 예시하고 있다. 이렇게 하여 활성화 영역(AM)이 추출되면, 활성화 영역 추출/생성부는이전 영상 프레임(Frame N-1)과 현재 영상 프레임(Frame N)의 복수개(4개)의 각 활성화 영역(AM)의 각각의 예측 확률값의 평균값을 구하고, 그 평균 값을 각각 갖는 이전 영상 프레임(Frame N-1)과 현재 영상 프레임(Frame N)의 각 활성화 영역(AM)을 바탕으로 공통 활성화 영역(CAM)을 각각 생성한다. 그런 후, 이전 영상 프레임(Frame N-1)과 현재 영상 프레임(Frame N)에서 각각 추출된 각 공통 활성화 영역 (CAM)에 가중치(weight)를 각각 적용하여 인접 프레임 공통 활성화 영역(ACAM)을 생성하게 된다. 도 4는 본 발명에 따른 적응적 내시경 영상 분석 및 시각화 방법에 있어서, 보팅 방식에 의해 인접 프레임의 공 통 활성화 영역을 생성하는 개요를 나타낸 도면이다. 도 4를 참조하면, 이는 위의 도 3을 참조하여 설명한 전체 동의 방식에 의해 인접 프레임의 공통 활성화 영역을 생성하는 과정과 그 과정은 사실상 동일하다. 따라서, 인접 프레임의 공통 활성화 영역을 생성하는 과정에 대한 설명은 위의 도 3에서의 설명으로 갈음하기로 하고, 위에서 설명한 전체 동의 방식과의 차이점에 대해서만 설명 하기로 한다. 이 보팅 방식에서는 각 분석 모델의 분석 조건을 위에서 설명한 전체 동의 방식의 분석 조건과 다르게 설정한다 는 것이다. 즉, 이 보팅 방식(보팅 모델을 이용한 방식)은 복수개의 분석 모델의 분석 조건을 위에서 설명한 전 체 동의 방식(전체 동의 모델을 이용한 방식)에서의 특정 예측 확률값(예측 확률값 0.8 이상)과는 다른 특정 예 측 확률값(예컨대, 3개의 분석 모델의 예측 확률값 0.85 이상)으로 설정하는 점에서 차이가 있다. 도 4에서 이 전 영상 프레임(Frame N-1)의 경우, 모델 1은 0.83, 모델 2는 0.89, 모델 3은 0.92, 모델 4는 0.87의 예측 확 률값을 각각 나타낸 것을 예시하고 있는데, 분석 조건(3개의 분석 모델의 예측 확률값 0.85 이상)에 따라 예측 확률값이 0.83인 모델 1의 활성화 영역(AM)은 버리고, 예측 확률값 이 0.85 이상인 나머지 3개의 분석 모델(모 델 2∼4)의 활성화 영역(AM)만을 취하는 것을 보여주고 있다. 도 5는 본 발명의 제2 실시예에 따른 적응적 내시경 영상 분석 및 시각화 방법의 실행 과정을 나타낸 흐름도이 다. 도 5를 참조하면, 본 발명의 제2 실시예에 따른 적응적 내시경 영상 분석 및 시각화 방법은, 먼저 모델 로딩/조 건 설정부가 복수개(예를 들면, 4개)(도 3 및 도 4 참조)의 분석 모델을 로딩하고, 분석 모델의 분석 조건 을 설정한다(단계 S501). 예를 들면, 분석 조건을 예측 확률값 0.8 이상 또는 3개의 모델이 예측 확률값 0.85 이상과 같이 설정할 수 있다. 이렇게 하여 분석 모델의 로딩 및 분석 조건의 설정이 완료되면, 영상 분석부는 영상 분석이 요구되는 상 황인지 판별하여(단계 S502), 영상 분석이 요구되는 상황이면 영상 프레임을 읽어온다(단계 S503). 그리고 상기 영상 분석부는 검출 모드 또는 분류 모드인지를 판별하여(단계 S504), 검출 모드이면 검출 모 델로 영상을 분석하고(단계 S505), 분류 모드이면 분류 모델로 영상을 분석한다(단계 S506). 그러면, 활성화 영역 추출/생성부는 상기 영상 분석부에 의한 영상 분석 결과가 상기 모델 로딩/조건 설정부에 의해 설정된 분석 조건을 만족하는지 판별한다(단계 S507). 상기 단계 S507의 판별에서 분석 조건을 만족하면, 활성화 영역 추출/생성부는 상기 복수개의 분석 모델의 활성화 영역(AM)(도 3 및 도 4 참조)을 추출하고(단계 S508), 추출된 활성화 영역(AM)을 바탕으로 공통 활성화 영역(CAM)을 생성한다(단계 S509). 또한, 상기 활성화 영역 추출/생성부는 이전의 영상 프레임(frame N-1)(도 3 및 도 4 참조)에서 분석 대상 (예를 들면, 위암과 같은 어떤 특정 병변)이 검출되었는지를 판별하여(단계 S510), 검출되었으면, 이전 영상 프 레임과 현재 영상 프레임에서 추출된 공통 활성화 영역(CAM)에 가중치(weight)를 적용하여 인접 프레임 공통 활 성화 영역(ACAM)을 생성한다(단계 S511). 여기서, 이상과 같은 활성화 영역 추출/생성부가 상기 인접 프레 임 공통 활성화 영역(ACAM)을 생성함에 있어서, 전체 동의 모델을 이용한 방식(도 3 참조) 또는 보팅(voting) 모델을 이용한 방식(도 4 참조)으로 인접 프레임 공통 활성화 영역(ACAM)을 생성할 수 있다. 이때, 상기 전체 동의 모델을 이용한 방식은 복수개의 분석 모델의 분석 조건을 특정 예측 확률값(예를 들면, 복수개의 분석 모 델 모두 예측 확률값 0.8 이상)으로 설정할 수 있다. 이때, 또한 상기 보팅(voting) 모델을 이용한 방식은 복수 개의 분석 모델의 분석 조건을 상기 전체 동의 모델을 이용한 방식에서의 특정 예측 확률값과는 다른 특정 예측 확률값(예를 들면, 3개의 분석 모델의 예측 확률값 0.85 이상)으로 설정할 수 있다. 여기서, 이상과 같은 전체 동의 모델을 이용한 방식과 보팅(voting) 모델을 이용한 방식에서의 각 분석 조건으로서의 특정 예측 확률값은 전술한 바와 같이, 어떤 하나의 값으로 고정되는 것으로 한정되는 것은 아니며, 분석 조건이 적용되는 대상이나 상황에 따라 다양한 값으로 설정될 수 있다. 이렇게 하여 인접 프레임 공통 활성화 영역(ACAM)이 생성되면, 활성화값 추출부는 상기 활성화 영역 추출/ 생성부에 의해 생성된 인접 프레임 공통 활성화 영역(ACAM)에서 최대 활성화값을 추출한다(단계 S512). 폐곡선 추출부는 상기 추출된 최대 활성화값이 검출 확정 임계값 이상인지를 판별하고(단계 S513), 임계값 이상이면 활성화 영역의 폐곡선을 추출하여 해당 분석 영상에 폐곡선을 그린다(단계 S514, S515). 그런 다음, 상기 영상 분석부는 분석 모드 변경 여부를 판별하여(단계 S516), 분석 모드 변경이면 현재의 분석 모드가 검출 모드이면 분류 모드로, 분류 모드이면 검출 모드로 변경한다(단계 S517). 이후, 대표 영상 선별부는 대표 영상 선별 여부를 판별하여(단계 S518), 대표 영상 선별이 아니면 이전 및 현재 프레임의 ACAM을 저장하고(단계 S519), 대표 영상 선별이면 저장된 ACAM과 이전/현재 프레임의 유사도를 계산하여 후보로 저장한다(단계 S520). 그런 후, 대표 영상 선별부는 대표 영상의 화면 표시 여부를 판별하여(단계 S521), 대표 영상 화면 표시이 면 화면에 나타낼 대표 영상을 선별하여 화면에 대표 영상을 표시하고, 분석 결과를 그래프로 그린다(단계 S522 ∼S524). 여기서, 상기 대표 영상 선별부가 대표 영상을 선별함에 있어서, 유사도가 가장 가까운 프레임의 출력 확률을 대표 영상의 확률로 사용하거나, 임계값 이상인 대표 영상 후보들의 출력 확률 평균값을 대표 영상 의 확률로 사용할 수 있다. 이후, 상기 모델 로딩/조건 설정부는 분석 조건 변경 여부를 판별하여 분석 조건 변경 상황이면 분석 조건 (예를 들면, 보팅 수)을 재설정한다(단계 S525∼S527). 여기서, 상기 모델 로딩/조건 설정부가 분석 조건 변경 여부를 판별하여 분석 조건 변경 상황이면 분석 조건을 재설정함에 있어서, 분석 안정성, 속도, 영상 품질 을 측정하고 그것을 바탕으로 분석 조건을 재설정할 수 있다. 한편, 도 6은 본 발명에 따른 적응적 내시경 영상 분석 및 시각화 방법에 있어서, 인접 프레임의 공통 활성화 영역과 유사도 측정을 통한 대표 영상 선별 과정을 나타낸 도면이다. 도 6을 참조하면, 현재 프레임(frame N)으로서의 최종 인접 프레임의 공통 활성화 영역(ACAM) 프레임 또는 최대 확률의 ACAM 프레임에 대해 유사한 ACAM 프레임으로 제 M번째 프레임(frame M)으로부터 시작하여 제 M+1번째 프 레임(frame M+1),..., 제 M+8번째 프레임(frame M+8)까지의 9개의 ACAM 프레임이 있을 경우, 각 프레임의 ACAM 유사도가 각각 0.89, 0.93, 0.86, 0.88, 0.87, 0.87, 0.84, 0.79, 0.78이고, 확률이 각각 0.92, 0.94, 0.87, 0.90, 0.91, 0.90, 0.89, 0.86, 0.87이라고 가정한다. 이때, 대표 영상 선별부가 대표 영상을 선별함에 있어서, 대표 영상 후보 중에서 유사도가 가장 가까운(유 사도 0.93) 프레임(frame M+1)의 출력 확률(0.94)을 대표 영상의 확률로 사용하거나, 임계값 이상인 대표 영상 후보들의 출력 확률 평균값(0.90)을 대표 영상의 확률로 사용할 수 있다. 이상의 설명과 같이, 본 발명에 따른 적응적 내시경 영상 분석 및 시각화 시스템과 그 방법은 복수개의 분석 모 델을 이용하여 분석 대상의 검출 여부를 판단하고, 현재 프레임(frame)에 대한 전체 동의 또는 보팅 모델의 공 통 활성화 영역(CAM)을 추출하며, 이전 프레임 및 현재 프레임에서 추출된 공통 활성화 영역(CAM)에 가중치 (weight)를 적용하여 인접 프레임 공통 활성화 영역(ACAM)을 추출하고, 인접 프레임 공통 활성화 영역(ACAM)의 최대 활성화 값이 검출 확정 임계값 이상인지 판단함으로써 오검출 가능성을 4차에 걸쳐 줄일 수 있는 장점이 있다. 또한, 복수개의 분석 모델을 이용하여 예측한 분석 대상은 폐곡선(closed curve) 형태로 자세하게 지시할 수 있 으며, 인접 프레임 공통 활성화 영역을 대표 영상 선별 과정에 이용함으로써 분석 결과로부터 대표 영상 선별이 가능하고, 복수개의 모델의 전체 동의 또는 보팅 조건을 적응적으로 적용할 수 있는 장점이 있다. 이상, 바람직한 실시예를 통하여 본 발명에 관하여 상세히 설명하였으나, 본 발명은 이에 한정되는 것은"}
{"patent_id": "10-2023-0176294", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "아니며, 본 발명의 기술적 사상을 벗어나지 않는 범위 내에서 다양하게 변경, 응용될 수 있음은 당해 기술분야 의 통상의 기술자에게 자명하다. 따라서, 본 발명의 진정한 보호 범위는 다음의 청구범위에 의하여 해석되어야 하며, 그와 동등한 범위 내에 있는 모든 기술적 사상은 본 발명의 권리 범위에 포함되는 것으로 해석되어야 할 것이다."}
{"patent_id": "10-2023-0176294", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명에 따른 적응적 내시경 영상 분석 및 시각화 시스템의 구성을 개략적으로 나타낸 도면이다. 도 2는 본 발명의 제1 실시예에 따른 적응적 내시경 영상 분석 및 시각화 방법의 실행 과정을 나타낸 흐름도이 다. 도 3은 본 발명에 따른 적응적 내시경 영상 분석 및 시각화 방법에 있어서, 전체 동의 방식에 의해 인접 프레임 의 공통 활성화 영역을 생성하는 개요를 나타낸 도면이다. 도 4는 본 발명에 따른 적응적 내시경 영상 분석 및 시각화 방법에 있어서, 보팅 방식에 의해 인접 프레임의 공 통 활성화 영역을 생성하는 개요를 나타낸 도면이다. 도 5는 본 발명의 제2 실시예에 따른 적응적 내시경 영상 분석 및 시각화 방법의 실행 과정을 나타낸 흐름도이 다. 도 6은 본 발명에 따른 적응적 내시경 영상 분석 및 시각화 방법에 있어서, 인접 프레임의 공통 활성화 영역과 유사도 측정을 통한 대표 영상 선별 과정을 나타낸 도면이다."}
