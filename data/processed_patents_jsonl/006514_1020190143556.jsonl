{"patent_id": "10-2019-0143556", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2021-0056745", "출원번호": "10-2019-0143556", "발명의 명칭": "지능형 스마트 컨트랙트 제공방법", "출원인": "한국전자기술연구원", "발명자": "임호정"}}
{"patent_id": "10-2019-0143556", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "공유자원을 이용한 서비스를 블록체인 네트워크를 통해 제공하기 위하여 필요한 하나 이상의 스마트 컨트랙트를포함하는 시나리오에 기초하여 상기 서비스를 제공하는 서비스 제공단계;사용자 단말 또는 관리자 단말이 상기 시나리오를 편집하는 피드백을 제공하는 피드백단계; 상기 피드백에 기초하여 상기 시나리오에 포함된 하나 이상의 스마트 컨트랙트의 내용을 변경하는 인공지능 학습모델을 학습시키는 학습단계; 및 상기 인공지능 학습모델이 상기 시나리오에 포함된 하나 이상의 스마트 컨트랙트의 내용을 변경하는 시나리오수정단계를 포함하는, 지능형 스마트 컨트랙트 제공방법."}
{"patent_id": "10-2019-0143556", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "청구항 1에 있어서, 상기 시나리오는 상기 블록체인 네트워크를 통해 상기 서비스를 제공하기 위하여 필요한 하나 이상의 스마트 컨트랙트, 및 상기스마트 컨트랙트의 동작순서를 포함하고,상기 스마트 컨트랙트는 상기 공유자원을 이용한 서비스를 제공하여 위해 필요한 적어도 일부의 기능을 구현하는, 하나 이상의 조건 및상기 조건을 만족하면 수행하는 동작을 포함하는, 지능형 스마트 컨트랙트 제공방법."}
{"patent_id": "10-2019-0143556", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "청구항 2에 있어서, 상기 피드백단계는 상기 사용자 단말 또는 관리자 단말이 상기 시나리오의 적어도 일부를 편집하여 피드백으로 제공하는 것인, 지능형 스마트 컨트랙트 제공방법."}
{"patent_id": "10-2019-0143556", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "청구항 3에 있어서, 상기 학습단계는 입력데이터가 상기 시나리오이고 정답데이터가 상기 사용자 단말 또는 관리자 단말로부터 수신한 편집된 시나리오인 학습데이터를 이용하여, 상기 인공지능 학습모델을 훈련하는, 지능형 스마트 컨트랙트 제공방법."}
{"patent_id": "10-2019-0143556", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "청구항 4에 있어서, 상기 수정단계는 정해진 기간동안 수집된 피드백에 기초하여 훈련된 상기 인공지능 학습모델에 상기 시나리오를 입력하여 출력되는 수정된 시나리오를 획득하고, 상기 수정된 시나리오를 상기 공유자원을 이용한 서비스에 적용하는 것인, 지능형 스마트 컨트랙트 제공방법."}
{"patent_id": "10-2019-0143556", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "청구항 3에 있어서, 공개특허 10-2021-0056745-3-상기 피드백은 상기 사용자 단말로부터 수집되는 위치정보, 상기 위치정보에 따라 제공되는 팝업질문에 대하여 입력되는 답변,챗봇과 사용자가 대화한 내역을 더 포함하는, 지능형 스마트 컨트랙트 제공방법."}
{"patent_id": "10-2019-0143556", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "청구항 3에 있어서, 상기 피드백단계는 사용자 또는 관리자가 사용자 단말 또는 관리자 단말을 통해 상기 시나리오에서 사용자 또는 관리자가 입력하여야 동작하는 기능들을 수정하면, 그에 따라 상기 시나리오의 기능들을 제공하기 위하여 포함된 복수의 스마트컨트랙트의 동작순서, 스마트 컨트랙트의 조건 또는 동작을 자동으로 수정하는, 지능형 스마트 컨트랙트 제공방법."}
{"patent_id": "10-2019-0143556", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "청구항 1에 있어서, 상기 서비스 제공단계 이전에, 관리자 단말이 상기 공유자원을 이용한 서비스를 제공하기 위하여 상기 공유자원을 블록체인 네트워크에 등록하고 상기 공유자원을 이용할 서비스에 적용될 시나리오를 결정하는 공유자원 등록단계를 더 포함하며, 상기 서비스 제공단계는 상기 공유자원 등록단계에서 결정된 시나리오에 의해 상기 서비스가 제공되는 것인, 지능형 스마트 컨트랙트 제공방법."}
{"patent_id": "10-2019-0143556", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "청구항 8에 있어서, 상기 공유자원 등록단계는 상기 관리자 단말이 상기 공유자원에 관한 정보, 상기 공유자원에 결합된 복합 IoT 디바이스에 관한 정보를 상기 블록체인 네트워크에 제공하는 정보전송단계;상기 공유자원과 기존에 등록된 다른 공유자원을 비교하여 유사한 경우 기존에 등록된 다른 공유자원을 이용한서비스에 이용되는 시나리오를 관리자 단말에 제공하고, 상기 공유자원이 기존에 등록된 다른 공유자원과 다른새로운 것인 경우 예시적인 시나리오들을 관리자 단말에 제공하는 예시제공단계;상기 관리자 단말이 상기 다른 공유자원을 이용한 서비스에 이용되는 시나리오에 대한 사용자의 편집을 수신하여 제공하거나, 예시적인 시나리오들 중에서 사용자가 선택한 하나의 시나리오와 사용자의 편집을 수신하여 제공하는 시나리오 선택단계를 포함하는, 지능형 스마트 컨트랙트 제공방법."}
{"patent_id": "10-2019-0143556", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명의 일실시예는, 공유자원을 이용한 서비스를 블록체인 네트워크를 통해 제공하기 위하여 필요한 하나 이 상의 스마트 컨트랙트를 포함하는 시나리오에 기초하여 상기 서비스를 제공하는 서비스 제공단계, 사용자 단말 또는 관리자 단말이 상기 시나리오를 편집하는 피드백을 제공하는 피드백단계, 상기 피드백에 기초하여 상기 시 나리오에 포함된 하나 이상의 스마트 컨트랙트의 내용을 변경하는 인공지능 학습모델을 학습시키는 학습단계, 및 상기 인공지능 학습모델이 상기 시나리오에 포함된 하나 이상의 스마트 컨트랙트의 내용을 변경하는 시나리오 수 정단계를 포함하는, 지능형 스마트 컨트랙트 제공방법을 제공함에 따라 스마트 컨트랙트의 조건과 동작을 변경할 수 있어서 다양한 종류의 공유자원을 공유서비스에 제공하기 위하여 필요한 다양한 조건의 스마트 컨트랙트를 생 성하고 이용할 수 있다."}
{"patent_id": "10-2019-0143556", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 지능형 스마트 컨트랙트 제공방법에 관한 것이다."}
{"patent_id": "10-2019-0143556", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "현재의 공유서비스는 기업이 개인과 개인을 중개하고 수수료를 받는 형태로 이루어지고 있으며, 기업이 운영하 는 중앙집중화된 공유서비스 제공 시스템에 기초하여 서비스가 제공되고 있다. 현재의 공유서비스는 하나의 품 목을 공유하기 위한 서비스 제공형태를 갖고 있다. 예를 들어, 우버(Uber)는 차량공유 서비스를 제공하고, 에어 비엔비(Airbnb)는 숙박공유 서비스를 제공한다. 이러한 기존 공유서비스는 다양한 종류의 제품이나 서비스를 제 공하지 못하는 한계가 있다. 또한, 현재의 공유서비스는 공유서비스를 제공하기 위한 중앙집중화된 시스템을 이용하므로, 해킹이나 서버에 대한 공격을 받는 경우 서비스의 제공이 어려워지는 단일실패지점이 존재하는 문제가 있다. 블록체인 네트워크는 조건이 만족되면 자동으로 정해진 동작이 실행되도록 계약을 프로그램화한 스마트 컨트랙 트를 제공할 수 있다. 스마트 컨트랙트는 정해진 계약을 수행하기 위하여 프로그램화되어 블록체인 네트워크에 서 동작할 수 있으나, 이미 동작하고 있는 스마트 컨트랙트는 조건을 변경하기 어려운 문제가 있다. 선행기술문헌 특허문헌 (특허문헌 0001) KR 10-2013-0047915 A"}
{"patent_id": "10-2019-0143556", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 일실시예에 따른 목적은, 사용자 피드백에 기초하여 스마트 컨트랙트의 조건과 동작을 변경할 수 있 는 지능형 스마트 컨트랙트를 제공하기 위한 것이다. 본 발명의 일실시예에 따른 목적은, 다양한 종류의 공유자원을 이용하여 공유서비스를 제공하기 위하여 필요한 조건과 동작을 갖도록 지능형 스마트 컨트랙트를 생성할 수 있는 방법을 제공하기 위한 것이다."}
{"patent_id": "10-2019-0143556", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 일실시예에 따른 지능형 스마트 컨트랙트 제공방법은, 공유자원을 이용한 서비스를 블록체인 네트워 크를 통해 제공하기 위하여 필요한 하나 이상의 스마트 컨트랙트를 포함하는 시나리오에 기초하여 상기 서비스 를 제공하는 서비스 제공단계, 사용자 단말 또는 관리자 단말이 상기 시나리오를 편집하는 피드백을 제공하는 피드백단계, 상기 피드백에 기초하여 상기 시나리오에 포함된 하나 이상의 스마트 컨트랙트의 내용을 변경하는 인공지능 학습모델을 학습시키는 학습단계, 및 상기 인공지능 학습모델이 상기 시나리오에 포함된 하나 이상의 스마트 컨트랙트의 내용을 변경하는 시나리오 수정단계를 포함할 수 있다. 또한, 상기 시나리오는 상기 블록체인 네트워크를 통해 상기 서비스를 제공하기 위하여 필요한 하나 이상의 스 마트 컨트랙트, 및 상기 스마트 컨트랙트의 동작순서를 포함할 수 있고, 상기 스마트 컨트랙트는 상기 공유자원 을 이용한 서비스를 제공하여 위해 필요한 적어도 일부의 기능을 구현하는, 하나 이상의 조건 및 상기 조건을 만족하면 수행하는 동작을 포함할 수 있다. 또한, 상기 피드백단계는 상기 사용자 단말 또는 관리자 단말이 상기 시나리오의 적어도 일부를 편집하여 피드 백으로 제공할 수 있다. 또한, 상기 학습단계는 입력데이터가 상기 시나리오이고 정답데이터가 상기 사용자 단말 또는 관리자 단말로부 터 수신한 편집된 시나리오인 학습데이터를 이용하여, 상기 인공지능 학습모델을 훈련시킬 수 있다. 또한, 상기 수정단계는 정해진 기간동안 수집된 피드백에 기초하여 훈련된 상기 인공지능 학습모델에 상기 시나 리오를 입력하여 출력되는 수정된 시나리오를 획득하고, 상기 수정된 시나리오를 상기 공유자원을 이용한 서비 스에 적용할 수 있다. 또한, 상기 피드백은 상기 사용자 단말로부터 수집되는 위치정보, 상기 위치정보에 따라 제공되는 팝업질문에 대하여 입력되는 답변, 챗봇과 사용자가 대화한 내역을 더 포함할 수 있다. 또한, 상기 피드백단계는 사용자 또는 관리자가 사용자 단말 또는 관리자 단말을 통해 상기 시나리오에서 사용 자 또는 관리자가 입력하여야 동작하는 기능들을 수정하면, 그에 따라 상기 시나리오의 기능들을 제공하기 위하 여 포함된 복수의 스마트 컨트랙트의 동작순서, 스마트 컨트랙트의 조건 또는 동작을 자동으로 수정할 수 있다. 또한, 상기 서비스 제공단계 이전에, 관리자 단말이 상기 공유자원을 이용한 서비스를 제공하기 위하여 상기 공 유자원을 블록체인 네트워크에 등록하고 상기 공유자원을 이용할 서비스에 적용될 시나리오를 결정하는 공유자 원 등록단계를 더 포함할 수 있고, 상기 서비스 제공단계는 상기 공유자원 등록단계에서 결정된 시나리오에 의 해 상기 서비스가 제공되는 것일 수 있다. 또한, 상기 공유자원 등록단계는 상기 관리자 단말이 상기 공유자원에 관한 정보, 상기 공유자원에 결합된 복합 IoT 디바이스에 관한 정보를 상기 블록체인 네트워크에 제공하는 정보전송단계, 상기 공유자원과 기존에 등록된 다른 공유자원을 비교하여 유사한 경우 기존에 등록된 다른 공유자원을 이용한 서비스에 이용되는 시나리오를 관리자 단말에 제공하고, 상기 공유자원이 기존에 등록된 다른 공유자원과 다른 새로운 것인 경우 예시적인 시 나리오들을 관리자 단말에 제공하는 예시제공단계, 및 상기 관리자 단말이 상기 다른 공유자원을 이용한 서비스 에 이용되는 시나리오에 대한 사용자의 편집을 수신하여 제공하거나, 예시적인 시나리오들 중에서 사용자가 선 택한 하나의 시나리오와 사용자의 편집을 수신하여 제공하는 시나리오 선택단계를 포함할 수 있다. 본 발명의 특징 및 이점들은 첨부도면에 의거한 다음의 상세한 설명으로 더욱 명백해질 것이다. 이에 앞서 본 명세서 및 청구범위에 사용된 용어나 단어는 통상적이고 사전적인 의미로 해석되어서는 아니 되며, 발명자가 그 자신의 발명을 가장 최선의 방법으로 설명하기 위해 용어의 개념을 적절하게 정의할 수 있다 는 원칙에 입각하여 본 발명의 기술적 사상에 부합되는 의미와 개념으로 해석되어야만 한다."}
{"patent_id": "10-2019-0143556", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 일실시예에 따르면, 스마트 컨트랙트의 조건과 동작을 변경할 수 있어서 다양한 종류의 공유자원을 공유서비스에 제공하기 위하여 필요한 다양한 조건의 스마트 컨트랙트를 생성하고 이용할 수 있다. 또한, 본 발명의 일실시예에 따르면, 사용자 피드백에 기초하여 스마트 컨트랙트의 조건과 동작을 변경할 수 있 으므로, 공유서비스를 제공하기 위하여 필요한 스마트 컨트랙트의 지속적인 업데이트가 가능하다."}
{"patent_id": "10-2019-0143556", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명의 일실시예의 목적, 특정한 장점들 및 신규한 특징들은 첨부된 도면들과 연관되어지는 이하의 상세한 설명과 바람직한 실시예들로부터 더욱 명백해질 것이다. 본 명세서에서 각 도면의 구성요소들에 참조번호를 부 가함에 있어서, 동일한 구성 요소들에 한해서는 비록 다른 도면상에 표시되더라도 가능한 한 동일한 번호를 가 지도록 하고 있음에 유의하여야 한다. 또한, \"일면\", \"타면\", \"제1\", \"제2\" 등의 용어는 하나의 구성요소를 다 른 구성요소로부터 구별하기 위해 사용되는 것으로, 구성요소가 상기 용어들에 의해 제한되는 것은 아니다. 이 하, 본 발명의 일실시예를 설명함에 있어서, 본 발명의 일실시예의 요지를 불필요하게 흐릴 수 있는 관련된 공 지 기술에 대한 상세한 설명은 생략한다. 이하, 첨부된 도면을 참조하여, 본 발명의 일실시예를 상세히 설명한다. 도 1은 본 발명의 일실시예에 따른 지능형 스마트 컨트랙트 제공방법이 수행되는 환경을 나타내는 도면이다. 본 발명의 일실시예에 따른 지능형 스마트 컨트랙트 제공방법은, 다양한 공유자원을 누구나 공유대상으로 제공하고 이용할 수 있도록 블록체인 네트워크에 기반하여 제공되는 '복합 IoT 디바이스를 이용한 공유서비 스 제공방법'과 연계되어 수행될 수 있다. 관리자가 복합 IoT 디바이스를 다양한 종류의 공유자원에 결합하고 공유자원에 관한 정보와 복합 IoT 디바이스에 관한 정보를 블록체인 네트워크에 등록함으로써 공유자원을 공유서비스에 제공하면, 사용자는 블록체인 네트워크를 통해 공유자원의 이용권한을 획득하고 이용권한에 기초하여복합 IoT 디바이스의 잠금을 개방하여 공유자원을 이용할 수 있다. 본 발명의 일실시예에서 공유서비스 또는 서비스는, 공유자원을 공유하는 서비스 뿐만 아니라, 공유자원을 이용하여 물건을 판매하거나 다 양한 종류의 서비스를 제공하거나 공유자원 자체를 매매하는 서비스도 포함할 수 있다. 다양한 종류의 공유자원을 이용하여 서비스를 제공하는 과정에서, 공유자원의 특성이나 서비스의 특성 에 따라 서비스를 제공하는 세부 단계의 변경이 필요할 수 있다. 본 발명의 일실시예에 따른 지능형 스마트 컨 트랙트 제공방법은 서비스를 제공하는 과정을 블록체인 네트워크에서 구현하는 스마트 컨트랙트를 사용자 피드백에 기초하여 수정할 수 있기 때문에, 새로운 종류의 공유자원을 이용해야 하거나 새로운 종류의 서비 스를 제공하기 알맞은 스마트 컨트랙트를 제공할 수 있다. 이하에서 본 발명의 일실시예에 따른 지능형 스마트 컨트랙트 제공방법을 제공하는 환경에 대하여 설명한다. 도 1에 도시된 바와 같이, 본 발명의 일실시예에 따른 지능형 스마트 컨트랙트 제공방법은 복합 IoT 디바이스 , 관리자 단말, 사용자 단말, 블록체인 네트워크, 분산형 데이터베이스, 시나리오 관리서 버를 이용하여 수행될 수 있다. 블록체인 네트워크는 복수의 노드가 피어 투 피어(P2P, Peer to Peer) 방식으로 연결된 네트워크이다. 블록체인 네트워크는 복수의 노드들 사이의 정보처리와 각 노드의 정보처리에 기초하여 지능형 스 마트 컨트랙트 제공방법을 수행할 수 있다. 블록체인 네트워크는 공유자원을 이용하는 서비스를 제공하 고, 지능형 스마트 컨트랙트 제공방법을 수행하기 위한 기능의 적어도 일부를 수행하는 복수의 노드로 구성 될 수 있다. 노드는 통신부(51a), 제어부(51b), 저장부(51c)를 포함할 수 있다. 노드는 서버 컴퓨터, PC, 노트북 PC, 태블릿 PC, 스마트폰 등의 정보처리장치를 포함한다. 통신부(51a)는 다른 노드, 관리자 단말, 사용 자 단말, 복합 IoT 디바이스, 분산형 데이터베이스, 시나리오 관리서버와 데이터를 송수신할 수 있다. 통신부(51a)는 노드와 다른 노드를 연결하여 블록체인 네트워크를 구성할 수 있다. 저장 부(51c)는 블록체인의 전부 또는 일부를 저장할 수 있다. 저장부(51c)는 본 발명의 일실시예에 따른 지능형 스마트 컨트랙트 제공방법의 일부 기능을 수행하는 프로그램 코드를 저장할 수 있다. 제어부(51b)는 본 발명의 일실시예에 따른 지능형 스마트 컨트랙트 제공방법의 일부 기능을 수행하는 프로그램 코드를 실시할 수 있는 프 로세서(processor)를 포함할 수 있다. 블록체인은 이전 블록의 해시값을 자기 블록의 구성으로 포함하는 블록들의 연속적인 연결로 구성될 수 있다. 블록은 이전 블록의 해시값 및 저장공간을 포함한다. 블록체인은 블록체인 네트워 크를 구성하는 복수의 노드에 각각 저장되고, 복수의 노드에 저장된 블록체인들은 서로 동일한 데이터를 갖는다. 블록의 저장공간에는 공유자원에 관한 정보, 복합 IoT 디바이스에 관한 정보, 관 리자에 관한 정보, 사용자에 관한 정보, 공유자원을 이용한 서비스 이용기록, 편집된 시나리오(SN) 등이 저 장될 수 있거나, 이러한 정보들은 분산형 데이터베이스에 저장하고 저장내역을 블록의 저장공간에 저장 할 수 있다. 관리자 단말 및 사용자 단말은 블록체인 네트워크에 접속하여 데이터를 송수신할 수 있는 정보처리 장치이다. 관리자 단말 및 사용자 단말은 스마트폰, 노트북 PC, 태블릿 PC, 웨어러블 컴퓨터 등의 휴대 용 전자기기를 포함할 수 있다. 관리자 단말 및 사용자 단말은 dApp을 통하여 블록체인 네트워크와 데이터를 송수신할 수 있다. dApp(distributed Application, 분산형 어플리케이션)은 지능형 스마트 컨트랙트 제공방법을 사용자 및 관리자 가 이용하기 위하여 접속하는 프론트엔드 인터페이스(Frontend Interface)이다. dApp은 관리자 단말 및 사 용자 단말에 설치되어 실행될 수도 있고, 블록체인 네트워크와 별도의 서버에서 운영되는 웹페이지 형 태로 관리자 단말 및 사용자 단말에 제공될 수 있으며, 블록체인 네트워크의 노드에서 실행될 수도 있다. dApp은 관리자용 dApp 및 사용자용 dApp을 포함할 수 있다. 관리자용 dApp은 공유자원 에 관한 정보, 및 복합 IoT 디바이스에 관한 정보의 등록기능, 공유자원의 모니터링 기능, 시나리 오(SN) 편집기능, 각종 관리 허가 기능들을 관리자 단말에 제공할 수 있다. 사용자용 dApp은 공유자원 검색기능, 이용권한 신청, 복합 IoT 디바이스의 잠금해제 요청, 토탈서비스 추천, 시나리오(SN) 편집 기능 등의 기능들을 관리자 단말에 제공할 수 있다. dApp은 관리자 단말 및 사용자 단말로부터 수신한 데이터나 명령을 블록체인 네트워크에 존재하는 스마트 컨트랙트에 전달한다. 블록체인 네트워크에서 구동되는 스마트 컨트랙트는 관리자용 스마트 컨트랙트 및 사용자용 스마트 컨트랙트를 포함한다. 관리자용 스마트 컨트랙트는 관리자용 dApp으로부터 수신하는 데이터 및 명령에 기초하여 동작할 수 있다. 사용자용 스마트 컨트랙트는 사용자용 dApp으로부터 수신하는 데이터 및 명령에 기초하여 동작할 수 있다. 도 2는 본 발명의 일실시에에 따른 복합 IoT 디바이스를 나타내는 도면이다. 도 2에 도시된 바와 같이, 복합 IoT 디바이스는 다양한 종류의 공유자원에 결합되어 물리적 또는 전기 적으로 공유자원을 개폐하는 잠금모듈, 사용자 단말 또는 블록체인 네트워크와 데이터를 송수 신하는 통신모듈, 및 사용자 단말이 공유자원의 이용권한을 갖는지 여부를 상기 블록체인 네트워크 로부터 수신하는 키에 기초하여 판단하고, 잠금모듈을 개폐하도록 제어하는 컨트롤러모듈을 포함할 수 있다. 또한, 복합 IoT 디바이스는 사용자 또는 관리자에게 정보를 시각적 또는 청각적으로 제공할 수 있는 표시모 듈, 사용자 또는 관리자의 터치 등을 입력받을 수 있는 입력모듈, 복합 IoT 디바이스의 구성들에게 전원을 공급하는 배터리 등의 전원모듈을 포함할 수 있다. 잠금모듈은 컨트롤러모듈의 제어에 따라 개폐될 수 있다. 잠금모듈은 공유대상에 물리적으로 결합 되어 공유대상을 이용할 때 필요한 공유대상의 일부 구성에 사용자가 접근하는 것을 물리적으로 또는 전기적으 로 차단할 수 있다. 예를 들어, 공유대상이 회의실이나 숙박시설인 경우 잠금모듈은 문의 도어락이나 자물 쇠에 물리적으로 결합되어 사용자가 문을 임의로 개방할 수 없도록 차단할 수 있다. 또는, 공유대상이 전자기기 일 때 잠금모듈은 전자기기의 입력장치나 출력장치에 결합되어 사용자가 전자기기의 전부 또는 일부를 사용 할 수 없도록 물리적 또는 전기적인 제한을 수행할 수 있다. 또는, 잠금모듈은 거래시의 결제서비스를 제공 하는 카드리더기 또는 POS 시스템에 결합되어 사용자가 이용권한에 기초하여 결제서비스를 수행하도록 제한할 수 있다. 또는, 잠금모듈은 도어락이나 자물쇠 등에 일체로 형성될 수 있다. 잠금모듈은 다양한 공유대 상에 결합될 수 있다. 통신모듈은 관리자 단말, 사용자 단말, 블록체인 네트워크와 데이터를 송수신할 수 있다. 통신 모듈은 Wi-Fi, Bluetooth, NFC 등의 근거리 통신방식을 이용할 수 있다. 통신모듈은 GPS 정보를 이용하 여 자신의 위치를 인식할 수도 있다. 컨트롤러모듈은 잠금모듈의 개폐를 제어할 수 있다. 컨트롤러모듈은 공유자원의 이용을 요청한 사용자 단말의 이용권한을 확인할 수 있다. 컨트롤러모듈은 일회용 인증 프로토콜에 따라 블록체인 네 트워크로부터 수신되는 키와 사용자 단말이 통신모듈을 통해 전송하는 키를 비교하여 사용자 단말 의 이용권한을 확인할 수 있다. 블록체인 네트워크로부터 수신되는 키와 사용자 단말이 통신모듈 을 통해 전송하는 키가 일치하는 경우 컨트롤러모듈은 사용자 단말에 이용권한이 존재하는 것으로 판단할 수 있다. 컨트롤러모듈은 사용자 단말의 이용권한의 존재가 확인되면 잠금모듈을 개방하도 록 제어한다. 컨트롤러모듈은 정해진 사용기간이 경과하거나, 필요한 조건이 만족되는 경우 잠금모듈을 잠그도록 제어할 수 있다. 컨트롤러모듈은 통신모듈과 사용자 단말 사이의 근거리 통신 또는 GPS 정보를 이용하여 사용자 단 말이 정해진 거리만큼 접근하여야 이용권한을 갖는지 여부를 판단하는 절차를 시작할 수도 있다. 사용자 단 말과 통신모듈이 정해진 거리만큼 접근한 상태에서 잠금이 개방되어야 이용권한이 없는 사람의 이용을 방지할 수 있는 점에서 근접여부 판단은 추가적인 안전장치가 된다. 통신모듈은 Wi-Fi, Bluetooth, NFC 등 의 전파 강도에 기초한 거리판단을 수행하거나, 자신의 GPS 좌표와 사용자 단말로부터 수신하는 사용자 단 말의 GPS 정보를 비교하여 근접 여부를 판단할 수 있다. 컨트롤러모듈은 사용자 단말이 통신모듈 과 정해진 거리만큼 접근한 것으로 판단되면, 블록체인 네트워크에 일회용 인증 프로토콜에 기초한 이 용권한 확인을 요청할 수 있다. 복합 IoT 디바이스의 잠금모듈은 사용자가 공유자원의 이용권한에 기초하여 잠금모듈을 개방하 여야 공유자원에 미리 설치되어 있는 다른 잠금장치(예를 들어, 도어락)에 접근가능하도록, 잠금장치에 애 드온 방식으로 설치될 수 있다. 애드온(add on) 방식이란 공유자원에 설치되어 있는 잠금장치는 그대로 유 지하고, 잠금장치에 복합 IoT 디바이스를 추가로 결합하는 것이다. 복합 IoT 디바이스의 잠금모듈 은 잠금장치를 개방하기 위해 필요한 키패드, 열쇠구멍, 다이얼 등을 커버하도록 결합되고, 잠금모듈이 개 방되면 사용자가 키패드, 열쇠구멍, 다이얼 등에 접근할 수 있는 공간을 오픈하는 방식으로 형성될 수 있다. 컨트롤러모듈은 사용자 또는 관리자가 입력모듈로 입력하는 정보에 기초하여 공유자원의 이용에 필 요한 절차를 더 수행할 수 있다. 컨트롤러모듈은 공유자원의 이용권한에 기초하여 잠금모듈을 개방 하는 경우, 잠금장치를 개방할 수 있는 키를 상기 사용자 단말로 제공할 수 있다. 컨트롤러모듈은 사용 자 단말에 이용권한이 존재하는 것으로 판단되면, 공유자원을 이용하는데 필요한 비밀번호 등의 정보를 사용자 단말로 제공하거나 표시모듈을 통해 사용자에게 제공할 수 있다. 예를 들어, 잠금모듈이 도 어락에 물리적으로 연결되어 있는 경우, 사용자 단말의 이용권한이 확인되면 컨트롤러모듈은 잠금모듈 을 개방하도록 제어하면서, 도어락을 개방하는데 필요한 도어락 비밀번호를 사용자 단말로 제공하거나 표시모듈을 통해 사용자에게 제공할 수 있다. 게이트웨이모듈은 모션센서, 인체감지센서, 적외선센서, 초음파센서, 터치센서 중에서 적어도 하나를 이용 하여 공유자원의 이용상태를 감시하여 이용상태정보를 생성하고 상기 컨트롤러모듈에 제공할 수 있다. 게이트웨이모듈은 공유자원을 이용하는 사람이 존재하는지 여부를 감시한다. 게이트웨이모듈은 물 리적으로 별도의 디바이스로 형성되고, 공유자원의 이용상태를 감시하기 적합한 위치의 공유자원에 결 합될 수 있다. 예를 들어, 공유자원이 회의실이나 숙박시설 등의 공간인 경우, 게이트웨이모듈은 공간에 사람이 존재 하는지 여부를 확인할 수 있는 위치에 설치될 수 있다. 이때 게이트웨이모듈은 잠금모듈과 물리적으로 별도의 디바이스로 형성되어, 게이트웨이모듈이 감지한 공유자원의 이용상태는 통신모듈을 통해 컨 트롤러모듈에 전달될 수 있다. 컨트롤러모듈은 이용권한에 기초하여 공유자원을 이용하는 사람이 침입자인지 정당한 사용자인지 판단할 수 있다. 컨트롤러모듈은 침입자로 판단되는 경우 관리자 단말에 경보를 제공할 수 있다. 컨트롤러모듈은 이용권한에 기초한 사용시간이 만료되면 게이트웨이모듈로부터 수신한 이용상태에 기초하여 공유자원을 이용하는 사람이 없는지 확인하고, 공유자원을 이용하는 사람 이 없는 경우 잠금모듈이 잠궈지도록 제어할 수 있다. 상품을 구매하는 거래 서비스의 경우 공유자원을 일회적으로 이용하는 것이므로 게이트웨이모듈이 불필요할 수 있다. 상술한 바와 같은 본 발명의 일실시예에 따른 복합 IoT 디바이스는 다양한 공유자원에 결합될 수 있고, 공유자원의 이용권한이 존재하는 사용자에게만 잠금모듈을 개방하여 공유자원의 이용을 제공할 수 있다. 도 3은 본 발명의 일실시예에 따른 지능형 스마트 컨트랙트 제공방법의 각 단계를 나타내는 도면이다. 도 3에 도시된 바와 같이, 본 발명의 일실시예에 따른 지능형 스마트 컨트랙트 제공방법은, 관리자 단말이 공유자원을 이용한 서비스를 제공하기 위하여 공유자원을 블록체인 네트워크에 등록하고 공유자원 을 이용할 서비스에 적용될 시나리오(SN)를 결정하는 공유자원 등록단계(S110), 공유자원을 이용한 서 비스를 블록체인 네트워크를 통해 제공하기 위하여 필요한 하나 이상의 스마트 컨트랙트를 포함하는 시나리 오(SN)에 기초하여 서비스를 제공하는 서비스 제공단계(S120), 사용자 단말 또는 관리자 단말이 시나리 오(SN)를 편집하는 피드백을 제공하는 피드백단계(S130), 피드백에 기초하여 시나리오(SN)에 포함된 하나 이상 의 스마트 컨트랙트의 내용을 변경하는 인공지능 학습모델을 학습시키는 학습단계(S140), 및 인공지능 학습모델 이 시나리오(SN)에 포함된 하나 이상의 스마트 컨트랙트의 내용을 변경하는 시나리오 수정단계(S150)를 포함할 수 있다. 공유자원 등록단계(S110)는 서비스 제공단계(S120) 이전에 수행될 수 있다. 공유자원 등록단계(S110)는 관리자 단말이 공유자원에 관한 정보와 공유자원에 결합된 복합 IoT 디바이스에 관한 정보를 블록체인 네트워크에 제공하고, 서비스를 제공하기 위해 필요한 시나리오(SN)를 결정하는 과정이다. 공유자원을 이용하여 서비스를 제공하기 위해서는 해당 공유자원을 블록체인 네트워크에 등록하는 공유자원 등록단 계(S110)를 수행할 필요가 있다. 공유자원 등록단계(S110)는 관리자 단말이 공유자원에 관한 정보, 공유자원에 결합된 복합 IoT 디 바이스에 관한 정보를 블록체인 네트워크에 제공하는 정보전송단계(S111), 공유자원과 기존에 등록 된 다른 공유자원을 비교하여 유사한 경우 기존에 등록된 다른 공유자원을 이용한 서비스에 이용되는 시나리오(SN)를 관리자 단말에 제공하고, 공유자원이 기존에 등록된 다른 공유자원과 다른 새로운 것인 경우 예시적인 시나리오(SN)들을 관리자 단말에 제공하는 예시제공단계(S112), 관리자 단말이 다 른 공유자원을 이용한 서비스에 이용되는 시나리오(SN)에 대한 사용자의 편집을 수신하여 제공하거나, 예시 적인 시나리오(SN)들 중에서 사용자가 선택한 하나의 시나리오(SN)와 사용자의 편집을 수신하여 제공하는 시나 리오 선택단계(S113)를 포함할 수 있다. 정보전송단계(S111)는 관리자 단말이 공유자원에 관한 정보와 공유자원에 결합된 복합 IoT 디바이 스에 관한 정보를 블록체인 네트워크로 제공하는 과정이다. 블록체인 네트워크는 관리자 단말 로부터 수신한 공유자원에 관한 정보와 공유자원에 결합된 복합 IoT 디바이스에 관한 정보를 블록 에 저장할 수 있다. 예시제공단계(S112)는 공유자원을 이용하는 서비스를 제공하기 위하여 필요한 시나리오(SN)를 관리자 단말 에게 제공하는 과정이다. 공유자원을 이용하여 서비스를 제공하기 위해서는 정해진 절차에 따라 관리자 단말, 사용자 단말, 복합 IoT 디바이스, 블록체인 네트워크의 협업이 요구된다. 예를 들어, 공 유자원이 집인 경우 집을 이용하여 숙박 공유 서비스를 제공할 수 있고, 숙박 공유 서비스를 제공하기 위해 서는 예약을 하고, 비용을 지불하며, 사용자를 확인하고, 잠금을 해제하며, 출입을 확인하고, 정해진 기간이 만 료되면 잠금을 수행하는 일련의 절차가 필요하다. 이러한 절차 또는 기능을 블록체인 네트워크를 이용하여 제공하기 위하여 스마트 컨트랙트를 이용할 수 있고, 이러한 절차를 수행하기 위하여 복합적으로 조합된 복수의 스마트 컨트랙트와 그 동작순서를 시나리오(SN)라고 할 수 있다. 시나리오(SN)는 블록체인 네트워크를 통해 서비스를 제공하기 위하여 필요한 하나 이상의 스마트 컨트랙트, 및 스마트 컨트랙트의 동작순서를 포함할 수 있고, 스마트 컨트랙트는 공유자원을 이용한 서비스를 제공하 여 위해 필요한 적어도 일부의 기능을 구현하는, 하나 이상의 조건 및 조건을 만족하면 수행하는 동작을 포함할 수 있다. 도 4는 본 발명의 일실시예에 따른 지능형 스마트 컨트랙트 제공방법의 시나리오(SN)를 스마트 컨트랙트와 기능 으로 나타내는 도면이다. 도 4에 도시된 바와 같이, 시나리오(SN)를 스마트 컨트랙트의 집합인 계약으로 도시하면, 시나리오(계약)(SN)은 복수의 스마트 컨트랙트를 포함할 수 있고, 복수의 스마트 컨트랙트의 동작순서를 포함할 수 있다. 또한, 시나 리오(SN)를 서비스를 제공하기 위해 필요한 기능으로 도시하면, 시나리오(기능)(SN)은 복수의 스마트 컨트랙트 가 수행하는 기능들을 포함할 수 있고, 복수의 기능의 동작순서를 포함할 수 있다. 예를 들어, 공유자원을 대여해주는 공유서비스를 제공하는 경우, 시나리오(SN)는 스마트 컨트랙트 1, 2, 3, ... No. (SC-1, SC-2, SC-3, ... SC-No.)가 순서대로 동작하도록 조합될 수 있다. 이때 시나리오(SN)를 따라 복수의 스마트 컨트랙트가 동작하면 공유자원 현재상태 확인기능(SC-1), 이용권한 부여기능(SC-2), 이용 시작 기능(SC-3), ... 이용 종료 기능(SC-No.)이 동작할 수 있다. 공유자원이나 서비스의 특성에 따라 서비스의 제공에 필요한 하나의 기능을 수행하기 위하여 두개 이상의 스마트 컨트랙트가 복합적으로 동작할 수 있다. 다시 도 3을 참조하면, 예시제공단계(S112)에서 블록체인 네트워크는 정보전송단계(S111)에서 수신한 공유 자원에 관한 정보 및 복합 IoT 디바이스에 관한 정보 및 서비스의 종류에 따라 알맞은 시나리오(SN)를 관리자 단말에 제공할 수 있다. 등록하려는 공유자원과 기존에 등록된 다른 공유자원을 비교하여 유사하다면 다른 공유자원을 이용하여 제공하는 서비스와 유사한 시나리오(SN)를 따라 서비스가 제공될 것 임을 예상할 수 있다. 따라서 블록체인 네트워크는 공유자원이 유사한지 여부를 비교하여 기존에 등록 된 다른 공유자원을 이용하여 제공되는 서비스에 이용되는 시나리오(SN)를 하나 이상 선택하여 관리자 단말 에 제공할 수 있다. 또는, 예시제공단계(S112)에서 블록체인 네트워크는 등록하려는 공유자원과 기존에 등록된 공유자원 을 비교한 결과 유사하지 않고 등록하려는 공유자원이 새로운 종류인 경우 다양한 종류의 서비스에 사 용되는 예시적인 시나리오(SN)들을 관리자 단말에 제공할 수 있다. 새로운 종류의 공유자원과 새로운 종류의 서비스를 제공하기 위해서는 새로운 시나리오(SN)가 필요하지만, 완전히 새로운 시나리오(SN)를 처음부 터 관리자가 작성하는 것은 어려우므로, 다른 서비스에서 사용되는 시나리오(SN)들 중에서 적당한 시나리오(S N)를 선택하여 편집하여 사용할 수 있도록 예시적인 시나리오(SN)들을 제공하는 것이다. 다음으로, 시나리오 선택단계(S113)에서 관리자 단말은 시나리오(SN)를 수신하면 관리자에게 시나리오(SN) 를 표시하고, 관리자가 시나리오(SN)를 선택하고 편집하는 입력을 수신하며, 선택되거나 편집된 시나리오(SN)를 블록체인 네트워크에 제공할 수 있다. 시나리오 선택단계(S113)에서 관리자 단말은 공유자원의 종류가 유사한 다른 공유자원을 이용하는 서비스에 이용되는 시나리오(SN)들을 수신한 경우, 표시된 시나리오(SN)들 중에서 관리자가 임의의 시나리오 (SN)를 선택하는 입력을 수신하고, 선택돤 시나리오(SN)를 블록체인에 제공할 수 있다. 또는, 시나리오 선 택단계(S113)에서 공유자원이 새로운 종류이거나 서비스가 새로운 종류여서 예시적인 시나리오(SN)들을 수신한 경우, 표시된 예시적인 시나리오(SN)들 중에서 관리자가 선택한 하나의 시나리오(SN)와 관리자의 편집을 수신하여 블록체인 네트워크에 제공할 수 있다. 관리자가 시나리오(SN)를 편집하는 과정에 대한 자세한 내 용은 후술한다. 블록체인 네트워크를 기반으로 동작하는 스마트 컨트랙트를 관리자가 직접 프로그램 코드를 작성하여 실행 하는 것은 어려우므로, 블록체인 네트워크를 이용하는 서비스가 널리 보급되기 어려운 문제가 있다. 또한, 기술이 발전하고 사회가 변화하면서 새로운 종류의 공유자원과 새로운 종류의 서비스는 항상 발생하므로, 새로운 종류의 공유자원과 이를 이용한 서비스를 제공하기 위한 시나리오(SN)를 매번 새로 만드는 것은 블 록체인 네트워크를 이용하는 서비스의 보급에 장애가 된다. 이러한 문제를 해결하기 위하여, 본 발명의 일 실시예에 따른 지능형 스마트 컨트랙트 제공방법은 관리자 또는 사용자가 시나리오(SN)를 직접 편집하거나 인공 지능 학습모델이 시나리오(SN)를 자동으로 수정하는 단계를 포함하여, 새로운 종류의 공유자원과 새로운 종 류의 서비스를 제공할 수 있다. 공유자원을 블록체인 네트워크에 등록하는 과정의 시나리오 선택단계 (S113)에서 관리자가 관리자 단말을 통해 시나리오(SN)를 편집할 수 있으므로 관리자가 새로운 공유자원 을 이용하여 새로운 서비스를 용이하게 제공할 수 있다. 공유자원 등록단계(S110)가 수행되면, 사용자가 사용자 단말을 통해 공유자원을 검색하고 이용권한을 획득하여 이용하도록 하는 서비스 제공단계(S120)가 수행될 수 있다. 본 발명의 일실시예에 따른 지능형 스마트 컨트랙트 제공방법은, 관리자나 사용자가 '복합 IoT 디바이스를 이용한 공유서비스'를 제공하고 이용하는 과정을 더 쉽게하기 위한 것이다. 이하에서 복합 IoT 디바이스를 이용한 공유서비스를 제공하는 서비스 제 공단계(S120)를 먼저 설명한다. 복합 IoT 디바이스를 이용한 공유서비스는, 관리자 단말이 관리자 dApp을 통하여 공유자원의 정보 및 공유자원에 결합된 복합 IoT 디바이스의 정보를 블록체인 네트워크에 제공하여 공유자원을 공유가능하도록 제공하는 공유자원 등록단계(S110), 사용자 단말이 사용자 dApp을 통하여 블록체인 네트워 크에 등록된 공유자원의 이용권한을 요청하고 관리자 단말이 사전에 지정해놓은 스마트 컨트랙트에 기초하여 이용권한이 부여되는 이용권한 획득단계(S121), 및 복합 IoT 디바이스가 사용자 단말에 이용 권한이 존재하는지 판단하여 공유자원에 접근가능하도록 잠금을 개방하는 이용 시작단계(S122)를 포함할 수 있고, 이용권한에 기초하여 정해진 사용시간이 만료되는 경우, 공유자원의 이용상태를 점검하여 이용이 종 료된 것으로 판단되면 잠금모듈이 잠궈지도록 제어하는 이용 종료단계(S123)를 더 포함할 수 있다. 공유자 원 등록단계(S110)에서 정보전송단계(S111), 예시제공단계(S112), 시나리오 선택단계(S113)에 관련된 기술내용 은 상술하였으므로 이하에서는 생략한다. 복합 IoT 디바이스를 이용한 공유서비스 제공방법은, 복합 IoT 디바이스, 관리자 단말, 사용자 단 말, 블록체인 네트워크를 포함하는 시스템에서 수행될 수 있다. 관리자와 사용자는 본 발명의 일실시예 에 따른 복합 IoT 디바이스를 이용한 공유서비스를 이용하기 위하여 회원가입을 하고 정해진 정보를 등록할 수 있다. 정보전송단계(S111)는 관리자 단말이 관리자용 dApp을 통하여 공유자원의 정보 및 복합 IoT 디바이 스의 정보를 블록체인 네트워크에 제공하는 단계, 및 블록체인 네트워크의 관리자용 스마트 컨트랙 트에 기초하여 공유자원의 정보 및 복합 IoT 디바이스의 정보가 블록체인 네트워크가 생성하는 블 록에 기록되고 블록이 공유되는 단계를 포함할 수 있다. 먼저 관리자는 복합 IoT 디바이스를 공유자원에 설치한다. 관리자는 관리자 단말을 이용하여 관리 자 dApp을 실행하거나 관리자 dApp에 접속하여 공유자원에 관한 정보 및 복합 IoT 디바이스에 관한 정 보를 입력한다. 공유자원에 관한 정보는 공유자원의 종류, 특징, 대여비용, 대여가능 시간대, 최소대여 가능시간 등 사용자가 공유자원을 이용하는데 필요한 정보를 포함한다. 복합 IoT 디바이스에 관한 정보 는 기기 ID, Mac Address, 게이트웨이모듈의 센서 타입, 센서 추가 시간 등 사용자 단말과 블록체인 네 트워크가 복합 IoT 디바이스를 인식하고 데이터를 송수신할 수 있도록 하는 정보를 포함한다. 관리자 단말에 입력된 공유자원에 관한 정보 및 복합 IoT 디바이스에 관한 정보는 dApp을 통해 블록체인 네트워크의 관리자용 스마트 컨트랙트에 전달된다. 관리자용 dApp은 네트워크의 관리자용 스마트 컨트랙트를 호출하여 입력받은 공유자원에 관한 정보 및 복합 IoT 디바이스에 관한 정보를 제공한다. 관리자용 dApp은 Restful API를 이용하여 블록체인 네트워 크와 데이터를 송수신할 수 있다. 관리자용 스마트 컨트랙트는 공유자원 정보관리 기능을 수행하여 공유자원을 사용자가 이용가능하도록 블록체인 네트워크 상에 등록한다. 관리자용 스마트 컨트랙트는 공유자원에 관한 정보 및 복합 IoT 디 바이스에 관한 정보를 블록의 저장공간에 테이블 형식으로 저장하도록 블록체인 네트워크를 구성하 는 노드들에 공유할 수 있다. 공유자원에 관한 정보 및 복합 IoT 디바이스에 관한 정보는 검증 및 합의과정을 통해 블록에 저장된다. 서비스 제공단계(S120)는, 이용권한 획득단계(S121), 이용 시작단계, 이용 종료단계(S123)를 포함할 수 있다. 이용권한 획득단계(S121)는, 사용자 단말이 사용자용 dApp을 통해 블록체인 네트워크에 분산 저장 된 블록체인에 기록된 공유자원의 검색을 요청하면, 사용자용 dApp이 블록체인에 기록된 공유 자원을 검색하여 제공가능한 공유자원의 목록을 사용자 단말로 제공하는 단계, 사용자 단말이 제공가능한 공유자원의 목록 중에서 공유자원을 선택하여 이용권한 획득을 요청하는 단계, 및 블록체인 네트워크의 관리자용 스마트 컨트랙트는 요청된 공유자원의 이용가능여부를 판단하고 이용가능한 경우 사용자 단말에 이용권한을 부여하였음을 블록체인에 기록하는 단계를 포함할 수 있다. 사용자는 공유자원을 이용하기 위하여 먼저 이용권한을 획득하여야 한다. 이용권한 획득단계(S121)에서, 사 용자는 사용자 단말에서 사용자용 dApp을 실행하거나 사용자용 dApp에 접속하여 블록체인 네트워크 에 등록된 공유자원의 검색을 요청할 수 있다. dApp은 공유자원의 종류, 위치, 사용기간, 대여비용 등의 조건을 선택하여 공유자원을 검색할 수 있는 인터페이스를 제공할 수 있다. dApp은 사용자 단말로 부터 수신한 검색조건에 기초하여 블록체인 네트워크를 구성하는 임의의 노드에 검색을 요청할 수 있다. 복수의 노드들 각각은 동일한 블록체인을 저장하고 있으므로, 사용자용 dApp에 의해 요청된 검색을 수행하고 결과를 회신할 수 있다. 사용자 단말은 임의의 노드에서 검색을 수행한 결과를 사용자 용 dApp을 통해 전달받을 수 있다. 사용자 단말은 수신한 검색결과를 사용자에게 표시한다. 이용권한 획득단계(S121)에서, 사용자는 검색결과로 제공된 공유자원 목록에서 공유자원을 선택하고 공 유자원의 이용권한 획득을 요청할 수 있다. 사용자 단말은 사용자용 dApp을 통해 사용자가 선택한 공유자원의 이용권한 획득을 블록체인 네트워크의 관리자용 스마트 컨트랙트에 요청할 수 있다. 이용권한 획득단계(S121)에서, 관리자용 스마트 컨트랙트는 사용자용 dApp으로부터 수신한 공유자원의 이용권한 획득요청을 수신하면, 공유자원의 이용가능 여부를 판단한다. 공유자원의 이용가능 여부는 공 유자원의 이용권한 획득요청에 포함된 조건들에 기초하여 판단될 수 있다. 사용자가 요청한 시간에 이미 예 약되어 있는 다른 사용자가 존재하는지 여부를 판단하고, 사용자가 블랙리스트에 등록되어 있어서 이용권한을 획득할 자격이 없는 사람인지 판단할 수 있다. 관리자용 스마트 컨트랙트는 요청된 공유자원이 이용가능한 경우 이용권한을 요청한 사용자 단말에 이용권한을 부여함을 블록체인에 기록한다. 관리자용 스마트 컨 트랙트는 요청된 시간에 해당 사용자 단말에 이용권한이 존재한다는 내용을 블록체인 네트워크에 공유 하고, 블록체인 네트워크는 검증 및 합의를 통해 블록에 이용권한이 부여되었음을 저장한다. 관리자용 스마트 컨트랙트는 이용권한이 부여되었음을 사용자 dApp을 통해 사용자 단말에 제공할 수 있다. 사용자 단말이 이용권한을 획득하면, 사용자는 사용자 단말을 통해 복합 IoT 모듈의 잠금을 개방하고 공유자원의 이용을 시작할 수 있다. 이용 시작단계(S122)는 사용자 단말이 사용자용 dApp을 통하여 블록체인 네트워크에 이용권한에 기초한 상기 복합 IoT 디바이스의 잠금 개방을 요청하는 단계, 복합 IoT 디바이스가 사용자 단말이 정해진 거리 이내에 위치하는지 판단하는 단계, 복합 IoT 디바이스 와 사용자 단말이 정해진 거리 이내에 위치하는 경우, 복합 IoT 디바이스와 상기 사용자 단말이 각 각 상기 블록체인 네트워크에 일회용 인증 프로토콜의 실행을 요청하는 단계, 블록체인 네트워크는 일 회용 인증 프로토콜에 따라, 일회용 키를 생성하여 상기 복합 IoT 디바이스와 상기 사용자 단말에 각각 전달하는 단계, 및 상기 복합 IoT 디바이스가 수신한 상기 일회용 키와 상기 사용자 단말로부터 수신한 상기 일회용 키가 일치하는 경우 상기 사용자 단말에 이용권한이 있는 것으로 판단하여 잠금을 개방하는 단 계를 포함할 수 있다. 사용자는 사용자 단말을 통해 이용권한을 획득한 공유자원에 결합된 복합 IoT 디바이스에 잠금 개 방을 요청할 수 있다. 사용자 단말은 복합 IoT 디바이스에 직접 또는 dApp이나 블록체인 네트워크 를 통해 잠금 개방을 요청할 수 있다. 복합 IoT 디바이스는 잠금 개방 요청을 받으면 사용자 단말이 정해진 거리 이내에 위치하는지 판단하는 근접 여부 판단을 수행할 수 있다. 사용자 단말이 공유자원 근처에 없는 상태에서 이용권한에 기초하여잠금모듈을 개방하게 되면, 이용권한이 없는 타인이 공유자원을 이용할 위험이 존재하기 때문에, 사용 자가 공유자원에 정해진 거리 이내에 위치하는지 판단하는 과정이다. 근접 여부 판단은 복합 IoT 디바이스 의 컨트롤러모듈을 설명하는 과정에서 설명하였으므로 중복되는 내용은 생략한다. 사용자 단말은 Wi-Fi, bluetooth, NFC 등의 근거리 통신을 이용하여 복합 IoT 디바이스에 신호를 송수신할 수 있다. 사용 자 단말은 자신의 GPS 좌표를 복합 IoT 디바이스에 전송하여 복합 IoT 디바이스가 근접 여부 판단 을 수행할 수 있게 한다. 사용자 단말이 복합 IoT 디바이스에 정해진 거리 이내에 위치하는 것으로 판단되는 경우, 복합 IoT 디 바이스는 사용자 단말에 근접 여부 판단을 통과하였다는 신호를 제공할 수 있다. 근접 여부 판단을 통 과한 경우, 복합 IoT 디바이스와 사용자 단말은 블록체인 네트워크에 일회용 인증 프로토콜의 실행 을 요청할 수 있다. 복합 IoT 디바이스와 사용자 단말로부터 수신되는 일회용 인증 프로토콜의 실행 요 청이 일치하는 경우 블록체인 네트워크는 일회용 인증 프로토콜을 실행한다. 일회용 인증 프로토콜은 블록체인에 저장된 이용권한 기록을 검색하여, 사용자 단말이 정해진 시간에 해당 공유자원의 이용권한을 갖는지 판단하고, 이용권한이 존재하는 경우 일회용 인증 프로토콜은 복합 IoT 디바이스와 사용자 단말에 일회용 키를 생성하여 제공한다. 일회용 키는 임의로 생성되는 값일 수 있고, 복합 IoT 디바이스와 사용자 단말 각각의 공개키로 암호화되어 전달될 수 있다. 복합 IoT 디바이 스가 수신한 일회용 키와 사용자 단말이 수신한 일회용 키를 비교하여 일치하는 경우 복합 IoT 디바이 스는 사용자 단말이 이용권한을 갖는 것으로 판단하여 잠금모듈의 잠금을 개방할 수 있다. 사용자 는 잠금모듈이 개방되면 공유자원을 이용할 수 있다. 잠금모듈이 공유자원의 기존 잠금장치에 애드온 방식으로 결합된 경우 복합 IoT 디바이스는 사용자 단말에 기존 잠금장치의 비밀번호를 제공하 고, 사용자는 사용자 단말에 표시된 비밀번호를 기존 잠금장치에 입력하여 공유자원을 이용할 수 있다. 게이트웨이모듈은 사용자가 공유자원을 이용하는 과정에서 공유자원의 상태를 모니터링할 수 있다. 공유자원이 회의실이나 숙박시설 등의 공간인 경우, 잠금모듈이 개방되면 게이트웨이모듈은 공유자 원인 공간에 사람이 들어오고 나가는지 여부를 센싱할 수 있다. 게이트웨이모듈은 정해진 주기마다 또 는 잠금모듈이 개방되면 지속적으로 공유자원의 이용상태를 센싱할 수 있다. 게이트웨이모듈은 공 유자원의 이용상태를 복합 IoT 디바이스에 전송할 수 있다. 관리자 단말은 관리자용 dApp을 통해 공유자원 접근관리기능을 수행할 수 있다. 관리자 단말은 공유자원에 이용을 신청한 사용자들에 관한 정보, 공유자원의 이용상태에 관한 정보, 공유자원의 이용기록 및 예약 기록 등을 모니터링할 수 있다. 관리자용 dApp은 관리자용 스마트 컨트랙트에 공유자원 의 현재 상태 모니터링을 요청할 수 있으며 관리자용 스마트 컨트랙트는 복합 IoT 디바이스로부터 게이 트웨이모듈이 제공한 공유자원의 이용상태를 수신하여 관리자용 dApp을 통해 관리자 단말에 제 공할 수 있다. 사용자는 이용권한에 기초한 사용시간이 종료되는 경우 공유자원의 이용을 중지한다. 복합 IoT 디바이스 는 이용권한에 기초한 사용시간이 종료되는 경우 게이트웨이모듈로부터 공유자원의 이용상태에 관 한 정보를 수신하여 잠금모듈을 동작시켜 사용자와 공유자원을 차단해도 되는지 판단한다. 예를 들어, 공유자원이 회의실이나 숙박시설과 같은 공간인 경우, 게이트웨이모듈은 공유자원인 공간 안에 사 용자가 존재하는지 센싱할 수 있고, 공유자원인 공간 안에 사용자가 존재하지 않게 되었을 때 복합 IoT 디 바이스는 잠금모듈이 잠궈지도록 제어할 수 있다. 복합 IoT 디바이스가 잠금모듈을 잠그도록 제어하여 사용자의 이용이 종료되면, 복합 IoT 디바이스(2 0)는 블록체인 네트워크에 사용종료 사실을 전송한다. 공유서비스 사용이 종료되면 서비스 이용내역이 블록 체인 네트워크에 전달된다. 이러한 서비스 제공단계(S120)를 통해 공유자원을 이용하는 서비스가 제공될 수 있다. 사용자는 서비스를 이용하는 과정에서 불편하거나 오류가 존재하거나 수정이 필요한 내용을 피드백할 수 있다. 피드백단계(S130)는 사용자 단말 또는 관리자 단말이 시나리오(SN)의 적어도 일부를 편집하여 피드백으 로 제공하는 것이다. 관리자 단말은 공유자원을 등록하는 과정의 시나리오 선택단계(S113)에서 일차적 으로 시나리오(SN)를 편집할 수 있고, 공유자원을 이용하여 서비스가 제공되는 상태에서도 시나리오(SN)를 편집하여 제공하는 피드백을 제공할 수 있다. 도 5는 본 발명의 일실시예에 따른 시나리오(SN) 편집을 나타내는 도면이다. 도 5에 도시된 바와 같이, 피드백단계(S130)는 사용자 또는 관리자가 사용자 단말 또는 관리자 단말을 통해 시나리오(SN)에서 사용자 또는 관리자가 입력하여야 동작하는 기능들을 수정하면, 그에 따라 시나리오(S N)의 기능들을 제공하기 위하여 포함된 복수의 스마트 컨트랙트의 동작순서, 스마트 컨트랙트의 조건 또는 동작 을 자동으로 수정할 수 있다. 예를 들어, 시나리오(SN-0)가 공유자원 현재상태 확인기능(SC-1), 이용권한 부여기능(SC-2), 이용 시작기능(SC-3), 이용 종료기능(SC-4)을 수행하는 스마트 컨트랙트 1, 2, 3, 4 (SC-1, SC-2, SC-3, SC-4)를 포함하는 경우, 관리자 또는 사용자가 일시정지 기능(SC-3a)이 더 필요하다고 판단하여 일 시정지 기능(SC-3a)을 이용 시작기능(SC-3)과 이용 종료기능(SC-4) 사이에 삽입라는 편집을 수행할 수 있다. 이 러한 경우 관리자 단말 또는 사용자 단말은 기능을 나타내는 시나리오(SN-0)를 표시하고, 관리자 또는 사용자가 선택하는 위치에 일시정지 기능(SC-3a)을 삽입하는 입력을 수신한다. 그러면 관리자 단말 또는 사 용자 단말은 일시정지 기능(SC-3a)을 수행할 수 있는 스마트 컨트랙트 3a (SC-3a)를 스마트 컨트랙트 3(SC- 3)과 스마트 컨트랙트 4(SC-4) 사이에서 동작하도록 시나리오(SN-0)의 스마트 컨트랙트를 수정하여, 편집된 시 나리오(SN-1)를 생성할 수 있다. 시나리오(SN)에 추가할 수 있는 기능들은 다른 시나리오(SN)에 포함된 스마트 컨트랙트로부터 가져올 수 있다. 시나리오(SN)에 포함된 기능들은 세부 기능들로 나뉘어질 수 있으며, 세부 기능을 수행하는 스마트 컨트랙트를 블록과 같이 조합하여 임의의 기능을 생성할 수 있다. 예를 들어, 일시정지 기능(SC-3a)을 시나리오(SN- 0)에 추가하려는 경우, 관리자 단말 또는 사용자 단말은 다른 시나리오(SN)에 포함되어 있는 일시정지 기능(SC-3a)을 가져올 수도 있고, 다른 시나리오(SN)에 포함되어 있는 공유자원 현재상태 확인기능, 공유자원의 다음 예약 존재 확인 기능, 비용 추가결제 기능, 이용시간 변경기능 등을 조합하여, 현재 공유자원을 자신 이 이용하고 있고, 다음 예약이 존재하지 않는 경우 정해진 비용을 추가로 결제하고 이용시간을 일시정지 하였 다가 다시 시작하도록 변경하도록 조합하여 일시정지 기능(SC-3a)을 생성할 수 있다. 시나리오(SN)에서 임의의 기능을 삭제하려는 경우 관리자 단말 또는 사용자 단말은 삭제하려는 기능을 선택하고 삭제하는 입력을 수신할 수 있다. 시나리오(SN)에서 임의의 기능의 동작순서를 변경하려는 경우 관리 자 단말 또는 사용자 단말은 동작순서를 변경하려는 기능을 선택하고 위치를 변경하여 동작순서를 변경 하는 입력을 수신할 수 있다. 관리자 단말 또는 사용자 단말은 시나리오(SN)에서 스마트 컨트랙트의 조건 및 동작을 변경할 수 있다. 스마트 컨트랙트의 조건 및 동작은 단말에서 프로그램 코드를 수정하는 방법으로 편집될 수 있다. 또는, 스마트 컨트랙트의 조건 및 동작이 기능의 세부사항으로 표시되고, 사용자 또는 관리자가 기능의 세부사항을 수정하면 스마트 컨트랙트의 조건 및 동작이 수정되는 방법으로 편집될 수 있다. 시나리오 선택단계(S113) 또는 피드백단 계(S130)는 상술한 바와 같이 시나리오(SN)를 편집하는 과정을 수행할 수 있다. 그리고, 피드백은 사용자 단말로부터 수집되는 위치정보, 위치정보에 따라 제공되는 팝업질문에 대하여 입 력되는 답변, 챗봇과 사용자가 대화한 내역을 더 포함할 수 있다. 사용자 단말은 사용자와 복합 IoT 디바이 스가 인접한 경우 자동으로 팝업질문을 표시할 수 있다. 팝업질문은 인접한 위치에 존재하는 서비스 추천, 이용하고 있는 서비스에 관한 선호도 질문, 이용하고 있는 서비스에 관한 수정할 점 또는 불편한 점에 관한 질 문 등을 포함할 수 있다. 사용자 단말은 팝업질문에 대한 사용자의 답변을 입력받으면, 블록체인 네트워크 에 답변을 피드백으로서 제공할 수 있다. 또한, 사용자는 사용자 단말을 통하여 챗봇과 대화할 수 있다. 챗봇은 공유자원을 이용하는 서비스에 대한 질문에 답변을 제공하는 서비스를 포함한다. 챗봇과 사용 자의 대화내역(TD-C)은 피드백으로서 블록체인 네트워크에 제공될 수 있다. 챗봇과 사용자의 대화내역(TD- C)을 구문분석하면 사용자가 불편을 느낀 사항이나 수정을 요구하는 사항을 인식할 수 있다. 이러한 방법을 이 용하여 인식한 사용자의 의견은 피드백으로 포함될 수 있다. 피드백이 수집되면, 피드백을 이용하여 인공지능 학습모델을 학습시키는 학습단계(S140)를 수행할 수 있다. 학 습단계(S140)에서 먼저 피드백을 종합하여 인공지능 학습모델을 훈련시키기 위한 학습데이터(TD)를 생성한다. 도 6은 본 발명의 일실시예에 따른 인공지능 학습모델을 위한 학습데이터(TD)를 나타내는 도면이다. 학습단계(S140)는 입력데이터가 시나리오(SN)이고 정답데이터가 사용자 단말 또는 관리자 단말로부터 수신한 편집된 시나리오(SNe)인 학습데이터(TD)를 이용할 수 있다. 학습데이터(TD)는 관리자 단말 또는 사 용자 단말로부터 수신한 편집된 시나리오(SNe-1)를 이용하여 생성되는 시나리오 학습데이터(TD-S), 사용자 단말로부터 수신되는 사용자 단말의 위치정보(TD-L), 챗봇과 사용자의 대화내역(TD-C), 팝업질문의 답 변(TD-A)을 포함할 수 있다. 도 7은 본 발명의 일실시예에 따른 인공지능 학습모델의 신경망 네트워크 구조를 예시적으로 나타내는 도면이다. 도 7에 도시된 바와 같이, 본 발명의 일실시예에 따른 인공지능 학습모델은 입력층과 복수의 은닉층과 출력층을 포함하는 신경망 네트워크 구조를 이용할 수 있다. 학습단계(S140)에서 학습되는 인공지능 학습모델은 시나리오 학습데이터(TD-S)를 이용하여 학습될 수 있다. 인공지능 학습모델의 노드(N)들을 연결하는 방식은 다양하게 존 재할 수 있다. 시나리오(SN)는 복수의 스마트 컨트랙트가 순서적으로 조합되어 있는 구조이므로, 각 스마트 컨 트랙트의 조건과 동작을 특성벡터화 하고, 스마트 컨트랙트의 순서를 특성벡터화하여 복합벡터를 형성하여 입력 층으로 입력한다. 입력층으로 입력된 정보는 인코더를 거치면서 인코딩 정보가 되고, 디코더를 거치면서 복원되 어 출력층으로 출력된다. 출력층이 출력하는 특성벡터를 정답데이터인 편집된 시나리오(SNe)와 비교하여 오차를 감소시키는 방향으로 역전파하여 인공지능 학습모델을 학습시킬 수 있다. 인공지능 학습모델은 블록체인 네트워크 상에서 동작하지 않고, 시나리오 관리서버에 존재할 수 있다. 인공지능 학습모델은 새로운 종류의 공유자원이 등록된 경우 해당 종류의 공유자원을 이용하는 서비스 의 시나리오(SN) 수정을 담당하는 새로운 인공지능 학습모델이 생성된다. 블록체인 네트워크를 이용하여 제 공되는 공유자원을 이용하는 서비스의 종류마다 시나리오(SN)를 수정하는 인공지능 학습모델이 배정되어, 시나리오 관리서버는 복수의 인공지능 학습모델을 운영할 수 있다. 인공지능 학습모델은 시나리오 학습데이터(TD-S)를 이용하여 학습될 수 있다. 이때, 피드백에 포함되는 팝업질 문의 답변(TD-A)이나 챗봇과 사용자의 대화내역(TD-C)을 분석하여 획득된 수정이 필요한 항목이 존재하는 경우, 수정이 필요한 항목에 가중치를 더 부여할 수 있다. 예를 들어, 팝업질문의 답변(TD-A)이나 챗봇과 사용자의 대 화내역(TD-C)을 분석한 결과, 일시정지가 불가능한 점이 수정이 필요하다고 인식된 경우, 시나리오 학습데이터 (TD-S)가 보유하고 있는 시나리오(SN)-편집된 시나리오(SNe)로 구성된 복수의 데이터쌍들 중에서 일시정지 기능 을 추가하는 편집이 수행된 데이터쌍을 정해진 횟수만큼 반복학습 시키거나, 학습된 인공지능 학습모델에서 일 시정지 기능이 학습된 부분에 가중치를 더 부여하는 방식을 이용하여, 학습을 강화할 수 있다. 인공지능 학습모델을 학습시키는 학습단계(S140)는 서비스가 제공되는 상태에서 피드백이 수신되면 반복적으로 수행되어 피드백을 즉시 반영시킬 수 있다. 학습단계(S140) 이후에, 시나리오 수정단계(S150)를 수행할 수 있다. 시나리오 수정단계(S150)는 인공지능 학습 모델이 시나리오(SN)에 포함된 하나 이상의 스마트 컨트랙트의 내용 및 동작순서를 변경하고, 수정된 시나리오 (SN)를 블록체인 네트워크에 제공하여 공유자원을 이용하는 서비스의 시나리오(SN)로 사용하는 것이다. 수정단계(S150)는 정해진 기간동안 수집된 피드백에 기초하여 훈련된 인공지능 학습모델에 시나리오(SN)를 입력 하여 출력되는 수정된 시나리오(SN)를 획득하고, 수정된 시나리오(SN)를 상기 공유자원을 이용한 서비스에 적용할 수 있다. 수정단계(S150)는 다양한 기준에 따라 수행될 수 있다. 수정단계(S150)는 기간을 정하고 그 기 간동안 피드백을 수집한 다음 인공지능 학습모델의 훈련이 완료되면 수정단계(S150)를 수행할 수도 있다. 이러 한 경우 다음 기간이 경과하는 동안은 피드백을 계속 수집하는 것이고, 피드백의 수집이 완료되면 학습단계 (S140)와 수정단계(S150)를 수행할 수 있다. 이때, 시나리오(SN)를 수정하여 이전 시나리오(SN)와 달라졌다면, 기존에 수집한 피드백을 학습데이터(TD)에서 제거할 수 있다. 새로운 피드백 수집기간이 시작되면 처음부터 피 드백을 수집하여 새로운 학습데이터(TD)를 작성한다. 또는, 학습단계(S140)가 정해진 수준 이상으로 학습된 경우 수정단계(S150)를 수행할 수 있다. 예를 들어, 인공 지능 학습모델이 특정한 편집된 시나리오(SN)를 출력할 확률이 정해진 값을 초과하는 경우 학습이 충분히 된 것으로 인정하고 수정단계(S150)를 수행할 수 있다. 이러한 경우 통계적으로 가장 많이 출력되는 특정한 편집된 시나리오(SN)를 블록체인 네트워크에서 서비스에 이용되는 시나리오(SN)로 반영하는 수정단계(S150)를 수행 할 수 있다. 이러한 피드백단계(S130), 학습단계(S140), 수정단계(S150)를 수행함에 따라, 공유자원을 이용한 서비스가 제공되는 상태에서 사용자들의 피드백에 기초하여 서비스를 제공하기 위한 시나리오(SN)를 더 편리하게 변경할 수 있다. 또한, 관리자가 사용자의 피드백을 일일이 분석하여 시나리오(SN)를 업데이트하지 않더라도, 사용자 단말을 통해 수집되는 피드백에 기초하여 시나리오(SN)를 지속적으로 업데이트할 수 있다. 상술한 본 발명의 일실시예에 따르면, 스마트 컨트랙트의 조건과 동작을 변경할 수 있어서 다양한 종류의 공유 자원을 공유서비스에 제공하기 위하여 필요한 다양한 조건의 스마트 컨트랙트를 생성하고 이용할 수 있다.또한, 사용자 피드백에 기초하여 스마트 컨트랙트의 조건과 동작을 변경할 수 있으므로, 공유서비스를 제공하기 위하여 필요한 스마트 컨트랙트의 지속적인 업데이트가 가능하다. 이상 본 발명을 구체적인 실시예를 통하여 상세히 설명하였으나, 이는 본 발명을 구체적으로 설명하기 위한 것으로, 본 발명은 이에 한정되지 않으며, 본 발명의 기술적 사상 내에서 당해 분야의 통상의 지식을 가진 자에 의해 그 변형이나 개량이 가능함은 명백하다고 할 것이다. 본 발명의 단순한 변형 내지 변경은 모두 본 발명의 영역에 속하는 것으로 본 발명의 구체적인 보호 범위는 첨 부된 특허청구범위에 의하여 명확해질 것이다."}
{"patent_id": "10-2019-0143556", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일실시예에 따른 지능형 스마트 컨트랙트 제공방법이 수행되는 환경을 나타내는 도면이다. 도 2는 본 발명의 일실시에에 따른 복합 IoT 디바이스를 나타내는 도면이다. 도 3은 본 발명의 일실시예에 따른 지능형 스마트 컨트랙트 제공방법의 각 단계를 나타내는 도면이다. 도 4는 본 발명의 일실시예에 따른 지능형 스마트 컨트랙트 제공방법의 시나리오를 스마트 컨트랙트와 기능으로 나타내는 도면이다. 도 5는 본 발명의 일실시예에 따른 시나리오 편집을 나타내는 도면이다. 도 6은 본 발명의 일실시예에 따른 인공지능 학습모델을 위한 학습데이터를 나타내는 도면이다. 도 7은 본 발명의 일실시예에 따른 인공지능 학습모델의 신경망 네트워크 구조를 예시적으로 나타내는 도면이다."}
