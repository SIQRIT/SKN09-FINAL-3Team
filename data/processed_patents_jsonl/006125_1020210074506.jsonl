{"patent_id": "10-2021-0074506", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2022-0145234", "출원번호": "10-2021-0074506", "발명의 명칭": "인공지능 기반의 3분 미만 측정구간의 심박변이도 데이터로부터 5분 또는 3분의 심박변이도", "출원인": "주식회사 메디코아", "발명자": "이병채"}}
{"patent_id": "10-2021-0074506", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "3분 미만 측정구간 동안에, 피검자로부터 심박 데이터를, 3분 미만 측정구간 심박 데이터로서, 검출하는, 심박측정장치;심박 측정장치로부터 수신된 3분 미만 측정구간 심박데이터를, 기 훈련된, 딥러닝을 이용하는 인공신경망의HRV(심박변이도) 지표 예측 모델에 적용하고, HRV 지표 예측 모델로부터 출력된 HRV 지표를, 3분 또는 5분의HRV 지표로서 출력하는, 연산처리부;를 포함하는 것을 특징으로 하는, 3분 미만 측정구간 심박 데이터로부터 5분 또는 3분의 심박변이도 지표를 예측하는 시스템."}
{"patent_id": "10-2021-0074506", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,연산처리부는, 3분 미만 측정구간 심박데이터를 이용하여, HRV 지표 예측 모델 제1 입력 데이터 및 HRV 지표 예측 모델 제2 입력 데이터를 생성하되,HRV 지표 예측 모델 제1 입력 데이터는 기 설정된 데이터 크기를 가지며,연산처리부가, 상기 데이터 크기 내에서, 심박 측정장치로부터 수신된 3분 미만 측정구간 심박 데이터를 중앙에배치시키고, 중앙에 배치된 3분 미만 측정구간 심박 데이터의 앞과 뒤를, 3분 미만 측정구간 심박 데이터의 평균치로 채운 데이터를, HRV 지표 예측 모델 제1 입력 데이터로 하는 것을 특징으로 하는, 3분 미만 측정구간 심박 데이터로부터 5분 또는 3분의 심박변이도 지표를 예측하는 시스템."}
{"patent_id": "10-2021-0074506", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,연산처리부가, 심박 측정장치로부터 수신된 3분 미만 측정구간 심박 데이터로부터 선형회귀식을 구하고, 상기선형회귀식을 이용하여, 3분 심박 데이터 또는 5분 심박 데이터를, 예측 3분 심박 데이터 또는 예측 5분 심박데이터로서, 검출하고, 예측 3분 심박 데이터 또는 예측 5분 심박 데이터를 FFT(고속푸리에변환)를 행하여 구하여진, 예측된 3분 심박 FFT 데이터 또는 예측 5분 심박 FFT 데이터를, HRV 지표 예측 모델 제2 입력 데이터로하는 것을 특징으로 하는, 3분 미만 측정구간 심박 데이터로부터 5분 또는 3분의 심박변이도 지표를 예측하는시스템."}
{"patent_id": "10-2021-0074506", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,HRV 지표는, 평균 RR간격(mRR), 평균심박수(mean heart rate, mHR), SDNN(standard deviation of normal-to-normal interval), RMSSD(root mean square differences of successive R-R intervals), 5분간 전체 강도(5-minute total power, TP), VLF(very low frequency, 초 저주파수대역 강도), LF(power in low frequency, 저주파수대역 강도), HF(power in high frequency, 고주파수대역 강도), 저주파수대역의 정규화된 강도(normalizedLF, nLF), 고 주파수대역의 정규화된 강도(normalized HF, nHF), LF/HF (LF/HF ratio, 저주파수대 고주파수의대역 강도비) 중 하나 이상을 포함하는 것을 특징으로 하는, 3분 미만 측정구간 심박 데이터로부터 5분 또는 3분의 심박변이도 지표를 예측하는 시스템."}
{"patent_id": "10-2021-0074506", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제2항에 있어서,연산처리부는, HRV 지표 예측 모델 제1 입력 데이터를 플롯 타잎(float type)의 (0, 1) 값으로 정규화하여, HRV공개특허 10-2022-0145234-3-지표 예측 모델에 입력하는 것을 특징으로 하는, 3분 미만 측정구간 심박 데이터로부터 5분 또는 3분의 심박변이도 지표를 예측하는 시스템."}
{"patent_id": "10-2021-0074506", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제3항에 있어서,연산처리부는, HRV 지표 예측 모델 제2 입력 데이터를, 플롯 타잎(float type)의 (0, 1) 값으로 정규화하여,HRV 지표 예측 모델에 입력하는 것을 특징으로 하는, 3분 미만 측정구간 심박 데이터로부터 5분 또는 3분의 심박변이도 지표를 예측하는 시스템."}
{"patent_id": "10-2021-0074506", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "심박 측정장치로부터, 3분 미만 측정구간 동안에, 피검자로부터 심박 데이터를, 3분 미만 측정구간 심박 데이터로서, 검출하는, 심박 측정단계;연산처리부는, 심박 측정장치로부터 3분 미만 측정구간 심박데이터를 수신하고, 수신된 3분 미만 측정구간 심박데이터를, 기 훈련된, 딥러닝을 이용하는 HRV(심박변이도) 지표 예측 모델에 적용하고, HRV 지표 예측 모델로부터 출력된 HRV 지표를, 3분 또는 5분의 HRV 지표로서 출력하는, HRV 지표 예측단계;를 포함하는 것을 특징으로 하는, 3분 미만 측정구간 심박 데이터로부터 5분 또는 3분의 심박변이도 지표를 예측하는 시스템의 구동방법."}
{"patent_id": "10-2021-0074506", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7항에 있어서, HRV 지표 예측단계는, 연산처리부가, 3분 미만 측정구간 심박데이터를 이용하여, HRV 지표 예측 모델 제1 입력 데이터 및 HRV 지표 예측 모델 제2 입력 데이터를 생성하도록 이루어지되,HRV 지표 예측 모델 제1 입력 데이터는 기 설정된 데이터 크기를 가지며,HRV 지표 예측 모델 제1 입력 데이터는, 연산처리부가, 상기 데이터 크기 내에서, 심박 측정장치로부터 수신된3분 미만 측정구간 심박 데이터를 중앙에 배치시키고, 중앙에 배치된 3분 미만 측정구간 심박 데이터의 앞과 뒤를, 3분 미만 측정구간 심박 데이터의 평균치로 채운 데이터인 것을 특징으로 하는, 3분 미만 측정구간 심박 데이터로부터 5분 또는 3분의 심박변이도 지표를 예측하는 시스템의 구동방법."}
{"patent_id": "10-2021-0074506", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제7항에 있어서,HRV 지표는, 평균 RR간격(mRR), 평균심박수(mean heart rate, mHR), SDNN(standard deviation of normal-to-normal interval), RMSSD(root mean square differences of successive R-R intervals), 5분간 전체 강도(5-minute total power, TP), VLF(very low frequency, 초 저주파수대역 강도), LF(power in low frequency, 저주파수대역 강도), HF(power in high frequency, 고주파수대역 강도), 저주파수대역의 정규화된 강도(normalizedLF, nLF), 고 주파수대역의 정규화된 강도(normalized HF, nHF), LF/HF (LF/HF ratio, 저주파수대 고주파수의대역 강도비) 중 하나 이상을 포함하는 것을 특징으로 하는, 3분 미만 측정구간 심박 데이터로부터 5분 또는 3분의 심박변이도 지표를 예측하는 시스템의 구동방법."}
{"patent_id": "10-2021-0074506", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제8항에 있어서, HRV 지표 예측 모델 제2 입력 데이터는, 연산처리부가, 심박 측정장치로부터 수신된 3분 미만 측정구간 심박 데이터로부터 선형회귀식을 구하고, 상기선형회귀식을 이용하여, 3분 심박 데이터 또는 5분 심박 데이터를, 예측 3분 심박 데이터 또는 예측 5분 심박데이터로서, 검출하고, 예측 3분 심박 데이터 또는 예측 5분 심박 데이터를 FFT(고속푸리에변환)를 행하여 구하여진 데이터인 것을 특징으로 하는, 3분 미만 측정구간 심박 데이터로부터 5분 또는 3분의 심박변이도 지표를예측하는 시스템의 구동방법.공개특허 10-2022-0145234-4-청구항 11 제8항에 있어서,연산처리부는, HRV 지표 예측 모델 제1 입력 데이터를 플롯 타잎(float type)의 (0, 1) 값으로 정규화하여, HRV지표 예측 모델에 입력하는 것을 특징으로 하는, 3분 미만 측정구간 심박 데이터로부터 5분 또는 3분의 심박변이도 지표를 예측하는 시스템의 구동방법."}
{"patent_id": "10-2021-0074506", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제8항에 있어서,연산처리부는, HRV 지표 예측 모델 제2 입력 데이터를, 플롯 타잎(float type)의 (0, 1) 값으로 정규화하여,HRV 지표 예측 모델에 입력하는 것을 특징으로 하는, 3분 미만 측정구간 심박 데이터로부터 5분 또는 3분의 심박변이도 지표를 예측하는 시스템의 구동방법."}
{"patent_id": "10-2021-0074506", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제7항에 있어서, HRV 지표 예측단계는, 예측모델 입력데이터 생성단계를 포함하되,예측모델 입력데이터 생성단계는, 연산처리부(200)는, 심박 측정단계에서 측정된 3분 미만 측정구간 심박 데이터를 수신하고, 수신된 3분 미만 측정구간 심박 데이터에서 잡음을 제거하고, 잡음이 제거된 3분 미만 측정구간 심박 데이터를, 3분 미만 측정구간실제 심박 데이터로서, 메모리부에 저장하는, 잡음제거 단계; 연산처리부는, 잡음제거 단계에서 잡음이 제거된 3분 미만 측정구간 심박 데이터에서, 잡음이 제거된 부분의 데이터를 보간(interpolation)하는, 보간단계; 연산처리부는, 보간단계에서 보간된 3분 미만 측정구간 심박 데이터를, 기 설정된 샘플링 레이트로, 다시 생플링하는, 리샘플링단계; 연산처리부는, 리샘플링단계에서 리샘플링된 3분 미만 측정구간 심박 데이터에서 선형 회귀(linear regression)식을 구하는, 선형회귀식 추출단계;연산처리부는, 선형회귀식 추출단계에서 구하여진 선형회귀식을 이용하여, 예측된 3분 데이터 또는 예측된 5분데이터를, 예측 심박 데이터로서, 생성하는, 예측 심박 데이터 생성단계;연산처리부는, 예측 심박 데이터 생성단계에서 생성된 예측 심박 데이터를 FFT(고속푸리에변환)을 행하여, FFT된 예측 심박 데이터를, 메모리부에 저장하는, FFT 단계;를 포함하는 것을 특징으로 하는, 3분 미만 측정구간 심박 데이터로부터 5분 또는 3분의 심박변이도 지표를 예측하는 시스템의 구동방법."}
{"patent_id": "10-2021-0074506", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제13항에 있어서,HRV 지표 예측단계는, 전처리 단계를 더 포함하되, 전처리 단계는, 연산처리부는, 잡음제거 단계에서 잡음이 제거된 3분 미만 측정구간 실제 심박 데이터를, 기설정된 데이터 크기로, 변환하되, 상기 데이터 크기 내에서, 3분 미만 측정구간 실제 심박 데이터는 중앙에 배치하고, 배치된 3분 미만 측정구간실제 심박 데이터의 앞뒤를, 3분 미만 측정구간 실제 심박 데이터의 평균값으로 채운 데이터를, HRV 지표 예측모델 제1 입력 데이터로 하고, HRV 지표 예측 모델 제1 입력 데이터를 플롯 타잎(float type)의 (0, 1) 값으로 정규화하는, 3분 미만 측정구간심박 데이터의 크기조정 및 정규화단계;공개특허 10-2022-0145234-5-연산처리부는, 상기 FFT 단계에서 FFT된 예측 심박 데이터를, HRV 지표 예측 모델 제1 입력 데이터로서, floattype의 (0, 1) 값으로 정규화하는, 정규화된 예측용 데이터 생성단계;를 포함하는 것을 특징으로 하는, 3분 미만 측정구간 심박 데이터로부터 5분 또는 3분의 심박변이도 지표를 예측하는 시스템의 구동방법."}
{"patent_id": "10-2021-0074506", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제14항에 있어서, HRV 지표 예측단계는, 연산처리부는, 정규화된 HRV 지표 예측 모델 제1 입력 데이터, 정규화된 HRV 지표 예측 모델 제2 입력데이터를, 인공신경망의 HRV 지표 예측 모델에 입력하여 HRV 지표 예측 모델을 실행하는, HRV 지표 예측 모델구동단계를 더 포함하는 것을 특징으로 하는, 3분 미만 측정구간 심박 데이터로부터 5분 또는 3분의 심박변이도지표를 예측하는 시스템의 구동방법."}
{"patent_id": "10-2021-0074506", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제7항 내지 제15항에 있어서, 연산처리부는, 인공신경망의 HRV 지표 예측 모델의 훈련을 위해, 심박측정장치로 측정된, 3분 심박 데이터인 또는 5분 심박 데이터를, HRV 원시 데이터로서 수신하고, 수신된 HRV 원시 데이터로부터, 3분 미만의 기 설정된시간단위로, 3분 미만 심박 데이터를, 3분 미만 학습용 심박 데이터로서 추출하고, 추출된 3분 미만 학습용 심박 데이터를, 기설정된 데이터 크기로, 변환하되, 상기 데이터 크기 내에서,3분 미만 학습용 심박 데이터는 중앙에 배치하고, 배치된 3분 미만 학습용 심박 데이터의 앞뒤를, 3분 미만 측정구간 실제 심박 데이터의 평균값으로 채운 데이터를, 학습용 제1 데이터로 하고,3분 미만 학습용 심박 데이터를 이용하여 선형회귀식을 구하고, 상기 선형회귀식을 이용하여, 3분 심박 데이터또는 5분 심박 데이터를, 예측 심박 데이터로서, 검출하고, 상기 예측 심박 데이터를 FFT(고속푸리에변환)를 행하진 데이터를, 학습용 제2 데이터로 하고, HRV 원시 데이터로부터 HRV 지표를 검출하여 학습용 정답 데이터로 하고,학습용 제1 데이터, 학습용 제2 데이터 및 학습용 정답 데이터를 이용하여, 인공신경망의 HRV 지표 예측 모델을훈련시키는 것을 특징으로 하는, 3분 미만 측정구간 심박 데이터로부터 5분 또는 3분의 심박변이도 지표를 예측하는 시스템의 구동방법."}
{"patent_id": "10-2021-0074506", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제1항 내지 제6항에 있어서, 연산처리부는, 연산처리부는, 인공신경망의 HRV 지표 예측 모델의 훈련을 위해, 심박측정장치로 측정된, 3분 심박 데이터인 또는 5분 심박 데이터를, HRV 원시 데이터로서 수신하고, 수신된 HRV 원시 데이터로부터, 3분 미만의 기 설정된시간단위로, 3분 미만 심박 데이터를, 3분 미만 학습용 심박 데이터로서 추출하고, 추출된 3분 미만 학습용 심박 데이터를, 기설정된 데이터 크기로, 변환하되, 상기 데이터 크기 내에서,3분 미만 학습용 심박 데이터는 중앙에 배치하고, 배치된 3분 미만 학습용 심박 데이터의 앞뒤를, 3분 미만 측정구간 실제 심박 데이터의 평균값으로 채운 데이터를, 학습용 제1 데이터로 하고,3분 미만 학습용 심박 데이터를 이용하여 선형회귀식을 구하고, 상기 선형회귀식을 이용하여, 3분 심박 데이터또는 5분 심박 데이터를, 예측 심박 데이터로서, 검출하고, 상기 예측 심박 데이터를 FFT(고속푸리에변환)를 행하진 데이터를, 학습용 제2 데이터로 하고, HRV 원시 데이터로부터 HRV 지표를 검출하여 학습용 정답 데이터로 하고,학습용 제1 데이터, 학습용 제2 데이터 및 학습용 정답 데이터를 이용하여, 인공신경망의 HRV 지표 예측 모델을훈련시키는 것을 특징으로 하는, 3분 미만 측정구간 심박 데이터로부터 5분 또는 3분의 심박변이도 지표를 예측하는 시스템.공개특허 10-2022-0145234-6-청구항 18 제7항 내지 제15항 중 어느 한 항에 기재된, 3분 미만 측정구간 심박 데이터로부터 5분 또는 3분의 심박변이도지표를 예측하는 시스템의 구동방법을 컴퓨터로 구현하기 위한 프로그램이 기록된, 컴퓨터로 판독가능한 기록매체."}
{"patent_id": "10-2021-0074506", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은, 짧은 측정구간, 즉, 3 분미만의 짧은 시간동안에 측정된 심박변이도(HRV)를 이용하여, 표준 권고안의 5분 (또는 3분) 측정시와 같은 심박변이도 지표를 출력하도록 기 학습된 인공신경망에, 3분 미만의 짧은 시간 동 안 측정된 심박변이도를 입력하고, 인공신경망에서 출력된 심박변이도 지표를, 5분(또는 3 분)의 심박변이도 (뒷면에 계속)"}
{"patent_id": "10-2021-0074506", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은, 짧은 측정구간, 즉, 3 분미만의 짧은 시간동안에 측정된 심박변이도(HRV)를 이용하여, 표준 권고안 의 5분 (또는 3분) 측정시와 같은 심박변이도 지표를 출력하도록 기 학습된 인공신경망에, 3분 미만의 짧은 시 간 동안 측정된 심박변이도를 입력하고, 인공신경망에서 출력된 심박변이도 지표를, 5분(또는 3 분)의 심박변이 도(HRV) 지표로서 출력하는, 짧은 측정구간의 심박변이도 데이터로부터 5분(또는 3분)의 심박변이도 지표를 예 측하는 방법 및 그 시스템에 관한 것이다."}
{"patent_id": "10-2021-0074506", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "심박변이도(Heart Rate Variability : 이하 HRV) 검사는 자율신경계 조절 기능을 평가할 수 있는 유용하고 간단 한 비침습적인 방법이다. HRV는 연속적인 심장 박동과 박동 사이의 시간간격을 시계열 데이터로 표현한 것이다. HRV를 분석한 결과인, HRV 지표는 HRV 신호를 시간영역에서 분석한 결과의 지표인, HRV 시간영역 지표와, HRV 신호를 주파수영역에서 분석한 결과의 지표인, HRV 주파수영역 지표를 포함한다. HRV 시간영역 지표로는 평균심 박수 (mean heart rate :mHR), SDNN(standard deviation of normal-to-normal interval), RMSSD(root mean square differences of successive R-R intervals) 등이 있으며, HRV 주파수영역 지표로는 VLF(very low frequency, range < = 0.04Hz), LF(power in low frequency, range 0.04~0.15Hz), HF(power in high frequency, range 0.15~0.4Hz) 그리고 LF/HF 등이 있다. HRV 지표들에 대해서는 특허등록 제10-0493714호에 상 세히 기재되어 있어, 이에대한 보다 상세한 설명은 생략한다. 이러한 지표를 얻기 위해서는 시계열 데이터의 측정시간이 중요한 문제가 될 수 있다. 시간영역 지표들은 시간 에 의존적 일 수밖에 없다. SDNN 이나 RMSSD 같은 경우는 특히 측정시간이 길어질수록 크기가 증가된다. 따라서 반드시 HRV 시간 영역 지표들은 측정시간이 같은 것끼리 비교해야 한다. 주파수 영역 지표 중 가장 긴 주기를 갖는 VLF 의 주파수 대역이 0.04Hz 이하 인데, 시간으로 표현하면 25초 이상의 주기를 갖는다. 보통 10 번 정도 반복된 주기를 살펴본다는 의미에서 25초의 10 배인 250 초, 대략 5 분 측정시간을 권고하고 있다. 또한 고속퓨 리에변환(Fast Fourier Transformation : FFT)에서 VLF, LF, HF 영역을 구분할 수 있는 주파수 영역 해상도를 확보하기 위해서도 5 분 측정시간이 적절하다. 따라서 24 시간 HRV 와 같은 장시간 분석에서는 5 분 세그먼트로 나누어 시간, 주파수 영역 지표를 계산한다. 가이드라인의 5 분 측정 권고에도 불구하고 오늘날 발표되는 많은 연구논문이나 임상응용에서 연구목적 및 상황 에 따라 2 분, 3 분, 5 분, 10 분 그리고 15 분 측정 데이터 등 서로 다른 측정시간을 이용하고 있다. 가이드라 인의 5 분 측정 권고는 유럽 심장 학회, 북미 페이싱 학회 및 전기 생리학회의 태스크 포스 (Task Force of the European Society of Cardiology, the North American Society of Pacing, and Electrophysiology)에 의한 1996년에 빌표된 \"심박변이 : 측정 기준, 생리학적 해석 및 임상 사용 (Heart rate variability: standards of measurement, physiological interpretation, and clinical use)\" 에 기재되어 있다. 또한 최근 모바일, 웨어러블 기술의 발달로 손쉽게 HRV 신호를 획득할 수 있게 되었고, 대다수 장비들이 보다 짧은 측정시간을 요구하고 있다. 2015년 이병채 등은 대한가정의학회의 학술지(Korean J Fam Pract.)에 발표된 “ 3 분과 5 분 동안 시행한 심박 변이도(Heart Rate Variability: HRV)의 비교를 통한 임상적 유용성”을 통해 가이드라인에서 권고하는 5 분 동 안의 심박변이도와 3 분 동안의 심박변이도 결과에 유의한 차이가 없었으며, 검사 전에 충분한 휴식을 취한다면 3 분 동안의 결과 값을 5분 측정 데이터로 간주할 수 있을 것이라 하였다. 즉, 5분 측정 데이터 대신에, 3 분 측정 데이터를 사용할 수 있음을 알 수 있다. 2017년 이병채 등은 대한임상건강증진학회의 학술지(Korean J Health Promot)에 발표된 “심박동수 변이검사의 신뢰성에 영향을 미치는 최소 측정시간” 에서는 5 분 동안 측정한 데이터를 30 초간격의 세그먼트로 나누어, 5 분 데이터의 지표들과 5 분이하의 짧은 구간에서 측정한 지표들을 비교하였다. 이 연구에서는 지표별로 5 분 데 이터와 통계적으로 유의한 차이가 없는 신뢰할 수 있는 최소 측정시간을 제공하였다. 표준 권고안인 5분 심박동 수 변이검사 결과와 비교 하였을 때, 통계적으로 유의한 차이가 없는 최소 측정시간은 변수별로 각각 SDNN 180 초, NN50 270 초, TP, LFn 및 HFn 은 180 초였다. 심박동수 변이검사의 최소 측정시간은 180 초(3 분) 이상이 되어야 한다고 하였다. 시간영역 지표 중 평균심박수나 RMSSD 같은 지표는 30초 측정으로도 신뢰성 있는 값을 얻을 수 있기 때문에 대부분의 비의료용 웨어러블 장비에서는 RMSSD 를 주된 지표로 이용한다. 그러나, 자율신 경계 조절 능력을 평가하기 위해서는 시간영역 지표와 더불어 최소 180 초 이상의 측정시간이 요구되는 주파수 영역의 지표가 확보되어야 한다. 5 분(또는 3분) 데이터를 참(Truth) 값으로 보았을 때 3 분미만의 측정시간을 통해 얻어진 주파수 영역 데이터는 참값과 비교하여 유의한 차이가 있어서 임상적으로 사용할 수가 없었다. 따라서 통계적인 유의성에 따라 측정시간을 더 이상 단축시킬 수 없기 때문에, 본 발명은, 짧은 측정구간의 데 이터로 5 분 또는 3 분데이터의 지표를 예측하는 방법을 제안한다. 본 발명에서는 지표예측을 위해 최근 활발히 연구되고 활용되고 있는 인공지능 기법인 딥러닝을 적용한다. 또한, 본 발명에서는 1 분동안 측정한 데이터를 학습모델의 입력 데이터로 하고, 3 분 동안 측정한 데이터의 HRV 지표 값을 예측하도록 학습하여 사용된다. 국내 등록특허 제10-1273652호와 같이, 심박변이도를 인공신경망에 적용하여, 심근허혈 등을 예측하는 방법은 다수 있지만, 본 발명과 같이, 짧은 시간동안 심박변이도(HRV)를 기 학습된 인공신경망에 입력하고, 인공신경망 에서 출력된 5분(또는 3분)의 심박변이도(HRV)를 이용하여, 심박변이도(HRV) 지표를 검출하도록 이루어진 기술 과 관련된 선행기술은 찾을 수 없었다."}
{"patent_id": "10-2021-0074506", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명이 이루고자 하는 과제는, 짧은 측정구간, 즉, 3 분미만의 짧은 시간동안에 측정된 심박변이도(HRV)를 이용하여, 표준 권고안의 5분 또는 3분 측정시와 같은 심박변이도 지표를 출력하도록 기 학습된 인공신경망에, 3분 미만의 짧은 시간 동안 측정된 심박변이도를 입력하고, 인공신경망에서 출력된 심박변이도 지표를, 5분(또 는 3 분)의 심박변이도(HRV) 지표로서 출력하는, 짧은 측정구간의 심박변이도 데이터로부터 5분 또는 3분의 심 박변이도 지표를 예측하는 방법 및 그 시스템을 제공하는 것이다."}
{"patent_id": "10-2021-0074506", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 과제를 해결하기 위해, 본 발명의 분 미만 측정구간 심박 데이터로부터 5분 또는 3분의 심박변이도 지표를 예측하는 시스템은, 3분 미만 측정구간 동안에, 피검자로부터 심박 데이터를, 3분 미만 측정구간 심박 데이터로 서, 검출하는, 심박 측정장치; 심박 측정장치로부터 수신된 3분 미만 측정구간 심박데이터를, 기 훈련된, 딥러 닝을 이용하는 인공신경망의 HRV(심박변이도) 지표 예측 모델에 적용하고, HRV 지표 예측 모델로부터 출력된 HRV 지표를, 3분 또는 5분의 HRV 지표로서 출력하는, 연산처리부;를 포함하여 이루어진다. 연산처리부는, 3분 미만 측정구간 심박데이터를 이용하여, HRV 지표 예측 모델 제1 입력 데이터 및 HRV 지표 예 측 모델 제2 입력 데이터를 생성하되, HRV 지표 예측 모델 제1 입력 데이터는 기 설정된 데이터 크기를 가지며, 연산처리부가, 상기 데이터 크기 내에서, 심박 측정장치로부터 수신된 3분 미만 측정구간 심박 데이터를 중앙에 배치시키고, 중앙에 배치된 3분 미만 측정구간 심박 데이터의 앞과 뒤를, 3분 미만 측정구간 심박 데이터의 평 균치로 채운 데이터를, HRV 지표 예측 모델 제1 입력 데이터로 한다. 연산처리부가, 심박 측정장치로부터 수신된 3분 미만 측정구간 심박 데이터로부터 선형회귀식을 구하고, 상기 선형회귀식을 이용하여, 3분 심박 데이터 또는 5분 심박 데이터를, 예측 3분 심박 데이터 또는 예측 5분 심박 데이터로서, 검출하고, 예측 3분 심박 데이터 또는 예측 5분 심박 데이터를 FFT(고속푸리에변환)를 행하여 구하 여진, 예측된 3분 심박 FFT 데이터 또는 예측 5분 심박 FFT 데이터를, HRV 지표 예측 모델 제2 입력 데이터로 한다. HRV 지표는, 평균 RR간격(mRR), 평균심박수(mean heart rate, mHR), SDNN(standard deviation of normal-to- normal interval), RMSSD(root mean square differences of successive R-R intervals), 5분간 전체 강도(5- minute total power, TP), VLF(very low frequency, 초 저주파수대역 강도), LF(power in low frequency, 저주파수대역 강도), HF(power in high frequency, 고주파수대역 강도), 저주파수대역의 정규화된 강도(normalized LF, nLF), 고 주파수대역의 정규화된 강도(normalized HF, nHF), LF/HF (LF/HF ratio, 저주파수대 고주파수의 대역 강도비) 중 하나 이상을 포함한다. 연산처리부는, HRV 지표 예측 모델 제1 입력 데이터를 플롯 타잎(float type)의 (0, 1) 값으로 정규화하여, HRV 지표 예측 모델에 입력한다. 연산처리부는, HRV 지표 예측 모델 제2 입력 데이터를, 플롯 타잎(float type)의 (0, 1) 값으로 정규화하여, HRV 지표 예측 모델에 입력한다. 3분 미만 측정구간 심박 데이터로부터 5분 또는 3분의 심박변이도 지표를 예측하는 시스템의 구동방법은, 심박 측정장치로부터, 3분 미만 측정구간 동안에, 피검자로부터 심박 데이터를, 3분 미만 측정구간 심박 데이터로서, 검출하는, 심박 측정단계; 연산처리부는, 심박 측정장치로부터 3분 미만 측정구간 심박데이터를 수신하고, 수신 된 3분 미만 측정구간 심박데이터를, 기 훈련된, 딥러닝을 이용하는 HRV(심박변이도) 지표 예측 모델에 적용하 고, HRV 지표 예측 모델로부터 출력된 HRV 지표를, 3분 또는 5분의 HRV 지표로서 출력하는, HRV 지표 예측단 계;를 포함한다. HRV 지표 예측단계는, 예측모델 입력데이터 생성단계를 포함하되, 예측모델 입력데이터 생성단계는, 연산처리부 는, 심박 측정단계에서 측정된 3분 미만 측정구간 심박 데이터를 수신하고, 수신된 3분 미만 측정구간 심 박 데이터에서 잡음을 제거하고, 잡음이 제거된 3분 미만 측정구간 심박 데이터를, 3분 미만 측정구간 실제 심 박 데이터로서, 메모리부에 저장하는, 잡음제거 단계; 연산처리부는, 잡음제거 단계에서 잡음이 제거된 3분 미 만 측정구간 심박 데이터에서, 잡음이 제거된 부분의 데이터를 보간(interpolation)하는, 보간단계; 연산처리부 는, 보간단계에서 보간된 3분 미만 측정구간 심박 데이터를, 기 설정된 샘플링 레이트로, 다시 생플링하는, 리 샘플링단계; 연산처리부는, 리샘플링단계에서 리샘플링된 3분 미만 측정구간 심박 데이터에서 선형 회귀(linear regression)식을 구하는, 선형회귀식 추출단계; 연산처리부는, 선형회귀식 추출단계에서 구하여진 선형회귀식을 이용하여, 예측된 3분 데이터 또는 예측된 5분 데이터를, 예측 심박 데이터로서, 생성하는, 예측 심박 데이터 생성단계; 연산처리부는, 예측 심박 데이터 생성단계에서 생성된 예측 심박 데이터를 FFT(고속푸리에변환)을 행 하여, FFT된 예측 심박 데이터를, 메모리부에 저장하는, FFT 단계;를 포함한다. HRV 지표 예측단계는, 전처리 단계를 더 포함하되, 전처리 단계는, 연산처리부는, 잡음제거 단계에서 잡음이 제 거된 3분 미만 측정구간 실제 심박 데이터를, 기설정된 데이터 크기로, 변환하되, 상기 데이터 크기 내에서, 3 분 미만 측정구간 실제 심박 데이터는 중앙에 배치하고, 배치된 3분 미만 측정구간 실제 심박 데이터의 앞뒤를, 3분 미만 측정구간 실제 심박 데이터의 평균값으로 채운 데이터를, HRV 지표 예측 모델 제1 입력 데이터로 하고, HRV 지표 예측 모델 제1 입력 데이터를 플롯 타잎(float type)의 (0, 1) 값으로 정규화하는, 3분 미만 측 정구간 심박 데이터의 크기조정 및 정규화단계; 연산처리부는, 상기 FFT 단계에서 FFT된 예측 심박 데이터를, HRV 지표 예측 모델 제1 입력 데이터로서, float type의 (0, 1) 값으로 정규화하는, 정규화된 예측용 데이터 생 성단계;를 포함한다. HRV 지표 예측단계는, 연산처리부는, 정규화된 HRV 지표 예측 모델 제1 입력 데이터, 정규화된 HRV 지표 예측 모델 제2 입력 데이터를, 인공신경망의 HRV 지표 예측 모델에 입력하여 HRV 지표 예측 모델을 실행하는, HRV 지 표 예측 모델 구동단계를 더 포함한다. 연산처리부는, 인공신경망의 HRV 지표 예측 모델의 훈련을 위해, 심박측정장치로 측정된, 3분 심박 데이터인 또 는 5분 심박 데이터를, HRV 원시 데이터로서 수신하고, 수신된 HRV 원시 데이터로부터, 3분 미만의 기 설정된 시간단위로, 3분 미만 심박 데이터를, 3분 미만 학습용 심박 데이터로서 추출하고, 추출된 3분 미만 학습용 심 박 데이터를, 기설정된 데이터 크기로, 변환하되, 상기 데이터 크기 내에서,3분 미만 학습용 심박 데이터는 중 앙에 배치하고, 배치된 3분 미만 학습용 심박 데이터의 앞뒤를, 3분 미만 측정구간 실제 심박 데이터의 평균값 으로 채운 데이터를, 학습용 제1 데이터로 하고, 3분 미만 학습용 심박 데이터를 이용하여 선형회귀식을 구하고, 상기 선형회귀식을 이용하여, 3분 심박 데이터 또는 5분 심박 데이터를, 예측 심박 데이터로서, 검출하 고, 상기 예측 심박 데이터를 FFT(고속푸리에변환)를 행하진 데이터를, 학습용 제2 데이터로 하고, HRV 원시 데 이터로부터 HRV 지표를 검출하여 학습용 정답 데이터로 하고, 학습용 제1 데이터, 학습용 제2 데이터 및 학습용 정답 데이터를 이용하여, 인공신경망의 HRV 지표 예측 모델을 훈련시킨다."}
{"patent_id": "10-2021-0074506", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명은, 짧은 측정구간, 즉, 3 분미만의 짧은 시간동안에 측정된 심박변이도(HRV)를 이용하여, 표준 권고안 의 5분 (또는 3분) 측정시와 같은 심박변이도 지표를 출력하도록 기 학습된 인공신경망에, 3분 미만의 짧은 시 간 동안 측정된 심박변이도를 입력하고, 인공신경망에서 출력된 심박변이도 지표를, 5분(또는 3 분)의 심박변이 도(HRV) 지표로서 출력하는, 짧은 측정구간의 심박변이도 데이터로부터 5분(또는 3분)의 심박변이도 지표를 예 측하는 방법 및 그 시스템을 제공한다. 본 발명의 방법이 신뢰성을 검증하기 위해, 인공지능 기법인 딥러닝을 적용하여, 1 분동안 측정한 데이터를 학 습모델의 입력 데이터로 하고, 3 분 동안 측정한 데이터의 HRV 지표 값을 예측하도록 학습시켰으며, 이러게 학 습된 인공신경망의 적용결과(즉, 예측값)과, 실제값이 통계적으로 유의한 차이가 발생하는 지 여부를 검증한 결 과, 유의한 차이가 없으므로 임상적으로 사용할 수가 있음을 확인했다. 즉, 이전 연구 결과에 따르면 임상적으 로 신뢰성 있는 HRV 지표를 얻기 위해서는 최소 3 분이상의 측정시간이 필요하였던 것을, 본 발명에서는, 딥러 닝 학습을 통해 1 분 동안의 측정시간을 통해서도 이를 가능하게 하였다. 이렇게 함으로써, 빠른 시간에 측정한 HRV 데이터로도, HRV 데이터를 이용하는, 다양한 의료장치 및 생활기기에 서, 정확도 높은 데이터로서 사용할 수 있다. 즉, HRV 측정시간이 장시간 요구되지 않는 의료장치 및 생활기기 의 개발이 가능하다."}
{"patent_id": "10-2021-0074506", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 본 발명의 짧은 측정구간의 심박변이도 데이터로, 5분 또는 3분의 심박변이도 데이터의 지표를 예측하는 방법 및 그 시스템에 관하여 첨부된 도면을 참조하여 설명한다. 도 1은 본 발명의 짧은 측정구간의 심박변이도 데이터로, 5분 또는 3분의 심박변이도 데이터의 지표를 예측하는 시스템의 구성을 대하여 개략적으로 설명하는 설명도이다. 심박 측정장치에서 짧은 측정구간(3분 미만)동안 심박변이도를 측정하여 연산처리부로 전송한다. 심 박 측정장치는 심전도(ECG) 또는 광용적맥파(PPG))로부터 심박을 검출하는 장치로서, 시판되는 심박변이도 검사기기 또는 심박 측정장치를 이용할 수 있다. 여기서 연산처리부는 컴퓨터, 마이크로프세서 등으로 이 루어질 수 있다. 짧은 측정구간은 3분 미만의 측정구간으로, 예로 1분의 측정구간일 수 있다. 연산처리부는, 심박 측정장치로부터 수신된 심박변이도 데이터를 기 학습된 인공신경망에 입력하고, 상기 인공신경망에서 출력된 HRV 지표를, 5분(또는 3분)의 HRV 지표로서 메모리부에 저장하거나, 출력부 를 통해 출력한다. 인공신경망은 딥러닝을 이용하는 HRV 지표 예측 모델을 사용한다. 여기서, 메모리부 는 데이터베이스 일 수 있다. HRV 지표로서, HRV 시간영역 지표 및 HRV 주파수영역 지표가 있으며, HRV 시간영역 지표로는 평균 RR간격(mRR), 평균심박수(mean heart rate, mHR), SDNN(standard deviation of normal-to-normal interval), RMSSD(root mean square differences of successive R-R intervals) 등이 있으며, HRV 주파수영역 지표로는 5분간 전체 강도(5-minute total power, TP), VLF(very low frequency, 초 저주파수대역 강도), LF(power in low frequency, 저주파수대역 강도), HF(power in high frequency, 고주파수대역 강도), 저주파수대역의 정규화된 강도(normalized LF, nLF), 고 주파수대역의 정규화된 강도(normalized HF, nHF), LF/HF (LF/HF ratio, 저주파 수대 고주파수의 대역 강도비) 등이 있다. 이에 대해서는 국내 등록특허 10-0493714호에 상세히 기재되어 있으 므로, 이에 대한, 상세한 설명은 생략한다. 3분 동안 측정한 데이터의 지표들(실제값)과 본 발명의 딥러닝에 의한 예측값 사이에 차이가 있는지를 알아보기 위한 실험에서, 연령대와 성별이 골고루 분포된 대상군을 통해 데이터를 수집하고, 가이드라인에서 제시하는 표 준적인 분석방법을 이용하여 분석하였다. 이때 심박변이도검사기기(SA3000P, 메디코아; Medicore, Seoul, Korea)로 수집된 43,504 건의 3분 동안 측정된 HRV 데이터를 사용하였다. 이중에서 이상심박수가 존재하는 데이 터, 평균심박수 60 미만 100인 데이터, 그리고 3분 측정 시간 동안 상태가 현저하게 변화된 데이터등 8,619 건 을 제외하고 실제 학습에는 총 34,885건의 3분 동안 측정된 데이터가 사용되었다. 이 실험에서는, 심박변이도검 사기기에서 추출된 1분 데이터를 이용하여 3 분 HRV 의 지표를 예측하였다. 표 1은 본 발명에서 사용한 HRV 지표를 나타낸다. 표 1"}
{"patent_id": "10-2021-0074506", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "여기에서 mRR 은 mHR 예측을 통해 계산할 수 있고, 또한 주파수영역의 LFn 과 HFn 도 예측된 LF, HF 값에서 바 로 계산되기 때문에 학습에서는 제외하였다. 이 실험에서는, 3 분 동안 측정한 ECG(or PPG) 원 신호에서 피이크 검출을 통해 HRV 시계열 데이터를 생성한 후 1분30 초 이후의 1분 데이터를 학습용 데이터로 사용하였다. 인공신경망의 HRV 지표 예측 모델의 입력 데이터의 가공을 위해, 연산처리부는, 심박 측정장치로부터 수신된 3분 미만의 짧은 측정구간의 심박 데이터를, 메모리부에 구비된 입력 데이터 임시저장부의 중앙부 분에 위치시키고, 입력 데이터 임시저장부(미도시)에서, 3분 미만의 짧은 측정구간의 심박 데이터를 기준으로, 앞뒤부분에, 즉, 3분 미만의 짧은 측정구간의 심박 데이터를 제외한 부분에, 3분 미만의 짧은 측정구간의 심박 데이터의 평균값으로 채운다. 이때 HRV 지표 예측 모델의 입력 데이터의 크기(갯수)는, 5분(또는 3분)의 데이터 크기(갯수)로, 공장출하시 또는 사용자에 의해 사용초기에 정해져 있다. 이렇게 채워진 입력 데이터 임시저장부 의 데이터를, HRV 지표 예측 모델의 입력 데이터로서, 인공신경망의 HRV 지표 예측 모델에 입력한다. 도 2는 본 발명의 HRV 지표 예측 모델의 입력데이터 형태 및 학습 레이블을 설명하기 위한 설명도이다. 도 2는, 입력데이터로서 1분간의 심박(beat) 데이터를 사용할 경우로, 1분 데이터의 비트 개수는 심박수에 따라 다르기 때문에, 입력데이터의 크기는 300개로 설정하였고, 1분 실제 심박(real beat) 데이터는 중앙에 배치하고, 나머지 앞과 뒤 부분은 1분 데이터의 평균값으로 채워서, 300개의 입력데이터를 생성한다. 이는 연산 처리부에서 자동으로 처리될 수 있다. 주파수 영역 지표 데이터는 추출된 1 분 데이터를 FFT 변환한 256 개의 데이터를 이용하였고, 3 분 동안 측정한 데이터의 지표 값을 레이블로 지정하여 학습하였다. 본 발명에서, 딥러닝을 이용한 5분 또는 3분 데이터 HRV 지표를 예측하는 데 있어서, 데이터는, 측정시간 단축 이 목적이므로 연령과 성별을 고려하지 않아도 된다. 본 발명의 학습모델로는 일반적인 DNN(Deep Neural Network), CNN(Convolutional Neural Network), CNN1D, CNN2D, RNN 과 dropout 을 포함 또는 배제한 다양한 모델을 각각의 지표에 적용하여 평균절대오차 (mean_absolute_error:MAE)가 가장 작은 모델을 해당 지표의 학습 모델로 선택할 수 있다. 도 3은 본 발명의 인공신경망에서 학습 데이터 생성과정을 설명하는 개략적인 흐름도이고, 도 4는 도 3의 학습 용 데이터를 생성하는 단계(S200)에서 1분 데이터 생성방법의 일예를 설명하기 위한 설명도이고, 도 5는 도 3의 학습용 데이터를 생성하는 단계(S200)를 설명하는 흐름도이다. 도 3에서와 같이, 연산처리부는, 메모리부에 저장되어 있는 데이터, 또는 심박 측정장치로부터 측정된 데이터로서, 3분 HRV 원시 데이터(또는 5분 HRV 원시 데이터)를, 메모리부 또는 심박 측정장치 로부터 수신하고(S100), 수신된 3분 HRV 원시 데이터(또는 5분 HRV 원시 데이터)로부터, 인공신경망의 인 공지능 학습을 위한 학습용 데이터를 생성하고(S200), 동시에 인공신경망의 인공지능 학습을 위한 학습용 정답 데이터를 생성한다(S300). 이렇게 생성된, 학습용 데이터 및 학습용 정답 데이터를 인공지능 학습을 위한 데이 터로서 메모리부에 저장한다(S350). 학습용 데이터로서, 학습용 제1 데이터와 학습용 제2 데이터를 구비한다. 학습용 제1 데이터를 위해, 심박측정장치로 측정되거나 메모리부로부터 읽어들인, 3분 심박 데이터인 또는 5분 심박 데이터를, 연산처리부가 HRV 원시 데이터로서 수신하고, 수신된 HRV 원시 데이터로부터, 3분 미만의 기 설 정된 시간단위로, 3분 미만 심박 데이터를, 3분 미만 학습용 심박 데이터로서, 추출한다. 추출된 3분 미만 학습 용 심박 데이터를, 기설정된 데이터 크기로, 변환하되, 상기 데이터 크기 내에서, 3분 미만 학습용 심박 데이터 는 중앙에 배치하고, 배치된 3분 미만 학습용 심박 데이터의 앞뒤를, 3분 미만 측정구간 실제 심박 데이터의 평 균값으로 채운 데이터를, 학습용 제1 데이터로 한다. 학습용 제2 데이터는, 연산처리부가 3분 미만 학습용 심박 데이터를 이용하여 선형회귀식을 구하고, 상기 선형 회귀식을 이용하여, 3분 심박 데이터 또는 5분 심박 데이터를, 예측 심박 데이터로서, 검출하고, 상기 예측 심 박 데이터를 FFT(고속푸리에변환)를 행하진 데이터를, 학습용 제2 데이터로 한다. 학습용 정답 데이터는, 연산처리부가 상기 HRV 원시 데이터로부터 HRV 지표를 검출하여 학습용 정답 데이터로 한다. 학습용 제1 데이터, 학습용 제2 데이터 및 학습용 정답 데이터를 인공신경망에 입력하기 위해서, 이들 데이터를 플롯 타잎(float type)의 (0, 1) 값으로 정규화하여 인공신경망에 입력한다. 이하 학습용 데이터 생성과정을 상세히 설명한다. 3분 HRV 원시 데이터(또는 5분 HRV 원시 데이터)는 심전도에서 심박, 즉, 피크를 검출(post peak detection)을 행한 데이터이다. 학습용 정답 데이터는 연산처리부가 3분 HRV 원시 데이터(또는 5분 HRV 원시 데이터)로부터 HRV 지표를 검 출한 데이터이다. 도 5에서와 같이, 학습용 데이터를 생성하는 단계(S200)는 다음과 같이 이루어진다. 학습용 데이터를 위한 1분 데이터 추출단계로, 연산처리부는, 수신된 3분 HRV 원시 데이터(post peak detection data)(또는 5분 HRV 원시 데이터)로부터, 1분 데이터를 추출한다(S210). 예를들어, 도 4에서와 같이, 연산처리부는 3분 HRV 원시 데이터(예로 9만개)를 30초 데이터(예로, 1만 오천개) 단위로 자른 후, 이들을 조합하는 방식으로, 1분 데이터를 추출할 수 있다. 잡음제거 단계로, 연산처리부는, 학습용 데이터를 위한 1분 데이터 추출단계에서 추출된 1분 데이터에서 잡음(artifact)을 제거하고(S220), 잡음이 제거된 1분 데이터를 1분 실제 심박 데이터로서 메모리부에 저 장한다(S230). 보간단계로, 연산처리부는, 잡음제거 단계에서 잡음이 제거된 부분의 데이터를 보간(interpolation)한다 (S230). 여기서, 데이터 보간은, 3분 HRV 원시 데이터(또는 5분 HRV 원시 데이터)의 평균값으로 하거나, 아니면 제거된 부분의 직전 값, 아니면 제거된 부분의 직후 값으로 보간할 수 있다. 리샘플링단계로, 연산처리부는, 보간단계에서 보간된 1분 데이터를, 기 설정된 샘플링 레이트로, 다시 생 플링한다(S240). 선형회귀식 추출단계로, 연산처리부는, 리샘플링단계에서 리샘플링된 1분 데이터에서 선형 회귀(linear regression)식을 구한다(S250). 3분 데이터 생성단계로, 연산처리부는, 선형회귀식 추출단계에서 구하여진 선형회귀식을 이용하여, 선형회 귀식과 연관된(concatenate) 3분 데이터(또는 5분 데이터), 즉, 예측된 3분 데이터(또는 예측된 5분 데이터)를 생성한다(S260). FFT 단계로, 연산처리부는, 예측된 3분 데이터 생성단계에서 예측된 3분 데이터(또는 5분 데이터)를 FFT (고속푸리에변환)을 행하고(S270), FFT된 3분 데이터(또는 5분 데이터)를 학습용 데이터로서 메모리부에 저장한다(S280). 도 6은 본 발명의 인공지능 학습을 위한 데이터의 구성을 설명하는 설명도이다. 인공지능 학습을 위한 데이터는 1분 실제 데이터(학습용 제1 데이터, 3분 FFT 데이터(학습용 제2 데이터), 학습 용 정답 데이터로 이루어진다. 도 7은 본 발명의 인공지능 학습과정을 개략적으로 설명하는 흐름도이고, 도 8은 도 7의 학습관련 데이터 전처 리 단계을 설명하는 흐름도이다. 도 7에서와 같이, 인공지능 학습과정에서는, 인공지능 학습 데이터의 입력단계(S505), 전처리 단계(S510), 인공 지능 학습단계(S550), 학습결과 모델 저장단계(S600)를 포함한다. 인공지능 학습 데이터의 입력단계(S505)에서 연산처리부는 인공지능 학습을 위한 데이터를 인공신경망에 입력한다. 도 8에서와 같이, 전처리 단계(S510)는 다음과 같다. 크기조정 및 정규화된 1분 실제 데이터 생성단계로, 연산처리부는, 인공지능 학습 데이터의 입력단계 (S505)에서 입력된, 3분 미만의 짧은 데이터 구간의 실제 심박 데이터(예로 1분 실제 데이터)를, 기설정된 데이 터 크기(예로 300개)로, 변환하되, 실제 심박 데이터(예로 1분 실제 데이터)는 중앙에 배치하고, 배치된 실제 심박 데이터의 앞뒤를, 1분 실제 데이터의 평균값으로 채우고(S520), 이렇게 일정한 크기가 되도록 변경된 1분 데이터를 플롯 타잎(float type)의 (0, 1) 값으로 정규화한다(S525). 정규화된 학습용 데이터 생성단계로, 크기조정 및 정규화된 1분 실제 데이터 생성단계와 동시에 진행되되, 연산 처리부는 학습용 데이터(즉, 3분 FFT 데이터)를 float type의 (0, 1) 값으로 정규화한다(S530). 정규화된 학습용 정답 데이터 생성단계로, 크기조정 및 정규화된 1분 실제 데이터 생성단계 및 정규화된 학습용 데이터 생성단계와 동시에 진행되되, 연산처리부는 학습용 정답 데이터를 float type의 (0, 1) 값으로 정 규화한다(S540). 크기조정 및 정규화된 1분 실제 데이터, 정규화된 학습용 데이터, 정규화된 학습용 정답 데이터를 인공신경망에 입력하여 인공지능 학습을 실행하여, 학습결과모델인, HRV 지표 예측 모델을 만들고, 이렇게 생성된 HRV 지표 예측 모델을 메모리부에 저장한다. 본 발명의 HRV 지표 예측과정에서, HRV 지표 예측 모델에의 입력데이터를 위해, 연산처리부가, 3분 미만 측정구 간 심박데이터를 이용하여, HRV 지표 예측 모델 제1 입력 데이터 및 HRV 지표 예측 모델 제2 입력 데이터를 생 성한다. HRV 지표 예측 모델 제1 입력 데이터는, 기 설정된 데이터 크기를 가지며, 연산처리부가, 상기 데이터 크기 내 에서, 심박 측정장치로부터 수신된 3분 미만 측정구간 심박 데이터를 중앙에 배치시키고, 중앙에 배치된 3분 미 만 측정구간 심박 데이터의 앞과 뒤를, 3분 미만 측정구간 심박 데이터의 평균치로 채운 데이터이다. HRV 지표 예측 모델 제2 입력 데이터는, 연산처리부가, 심박 측정장치로부터 수신된 3분 미만 측정구간 심박 데 이터로부터 선형회귀식을 구하고, 상기 선형회귀식을 이용하여, 3분 심박 데이터 또는 5분 심박 데이터를, 예측 3분 심박 데이터 또는 예측 5분 심박 데이터로서, 검출하고, 예측 3분 심박 데이터 또는 예측 5분 심박 데이터 를 FFT(고속푸리에변환)를 행하여 구하여진 데이터이다. HRV 지표 예측 모델 제1 입력 데이터 및 HRV 지표 예측 모델 제2 입력 데이터는 float type의 (0, 1) 값으로 정 규화되어 인공신경망에 적용된다. 이하 본 발명의 HRV 지표 예측과정에 대해 상세히 설명한다. 도 9는 본 발명의 인공지능에서 짧은 측정구간(3분 미만)의 심박변이도 데이터로, 5분 또는 3분의 심박변이도 데이터의 지표를 예측하는 예측과정을 개략적으로 설명하는 흐름도이고, 도 10은 도 9의 예측용 입력데이터인, 짧은 측정구간(1분 데이터) 생성을 설명하기 위한설명도이고, 도 11은 도 9의 예측용 입력데이터 전처리 단계를 설명하는 흐름도이다. 도 9에서와 같이, HRV 지표 예측 모델을 이용한 예측과정에서는, 예측모델 입력데이터 생성단계(S705), 예측모 델 입력데이터의 전처리 단계(S765), HRV 지표 예측 모델 구동단계(S780), 예측결과출력단계(S800)를 포함한다. 예측모델 입력데이터 생성단계(S705)에서, 연산처리부는, 심박 측정장치로부터 3분 미만의 짧은 측정 구간동안의 심박 데이터로부터, 예측된 3분 FFT 데이터를 생성한다. 도 10에서와 같이, 예측모델 입력데이터 생성단계(S705)는 다음과 같은 과정을 통해 얻어진다. 3분 미만 측정구간 심박 데이터 수신단계로서, 3분 미만의 짧은 측정구간동안, 심박 측정장치는 심박을 측 정하고(S710), 연산처리부는 심박 측정장치로부터 측정된 심박(post peak detection data)을, 3분미만 측정구간 심박 데이터(예로 1분 데이터)로서, 수신하여, 메모리부에 임시저장한다(S720). 잡음제거 단계로, 연산처리부는, 3분 미만 측정구간 심박 데이터 수신단계에서 수신된 3분 미만 측정구간 심박 데이터(예로 1분 데이터)에서 잡음(artifact)을 제거하고(S725), 잡음이 제거된 3분 미만 측정구간 심박 데이터(예로 1분 데이터)를, 3분 미만 측정구간 실제 심박 데이터, 즉, HRV 지표 예측 모델 제1 입력 데이터(예 로, 1분 실제 심박 데이터)로서 메모리부에 저장한다(S730). 여기서 잡음이 제거된 3분 미만 측정구간 심 박 데이터에서, 잡음이 제거된 부분에는 \"0\"이 입력되게 된다. 보간단계로, 연산처리부는, 잡음제거 단계에서 잡음이 제거된 부분의 데이터를 보간(interpolation)한다 (S735). 여기서, 데이터 보간은, 선형보간을 적용하거나, 아니면, 3분 미만 측정구간 실제 심박 데이터의 평균 값으로 하거나, 아니면 제거된 부분의 직전 값, 아니면 제거된 부분의 직후 값으로 보간할 수 있다. 바람직하게는, 선형보간을 적용하며, 일반적으로, 선형보간의 경우, 두 좌표점 (a, f(a)), (b, f(b))사이에 위 치한 임의의 지점 (x,y)를 추정하기 위해, 다음 수식을 적용한다."}
{"patent_id": "10-2021-0074506", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "리샘플링단계로, 연산처리부는, 보간단계에서 보간된 3분 미만 측정구간 심박 데이터를, 기 설정된 샘플링 레이트로, 다시 생플링(리 샘플링)하여 메모리부에 저장한다(S740). 여기서 기 설정된 샘플링 레이트는 2Hz일 수 있다. 이 경우, 심박 데이터를 500Hz로 샘플링하면, 보간된 3분 미만 측정구간 심박 데이터를 500Hz로 샘플링된 데이터이고, 이를 2Hz로 리샘플링한 것이며 된다. 즉, 1초당 500개의 데이터에서, 1초당 2개로 리샘플 링하는 것이된다. 선형회귀식 추출단계로, 연산처리부는, 리샘플링단계에서 리샘플링된 3분 미만 측정구간 심박 데이터에서 선형 회귀(linear regression)식을 구한다(S745). 3분 데이터 생성단계로, 연산처리부는, 선형회귀식 추출단계에서 구하여진 선형회귀식을 이용하여, 선형회 귀식과 연관된(concatenate) 3분 데이터(또는 5분 데이터), 즉, 예측된 3분 데이터(또는 예측된 5분 데이터)를 생성한다(S750). FFT 단계로, 연산처리부는, 예측된 3분 데이터 생성단계에서 예측된 3분 데이터(또는 5분 데이터)를 FFT (고속푸리에변환)을 행하고(S755), FFT된 3분 데이터(또는 5분 데이터)를 예측된 3분 FFT 데이터, 즉, HRV 지표 예측 모델 제2 입력 데이터로서 메모리부에 저장한다(S760). 도 11에서와 같이, 전처리 단계(S710)는 다음과 같다. 3분 미만 측정구간 심박 데이터의 크기조정 및 정규화단계로, 연산처리부는, 예측모델 입력데이터 생성단 계(S705)에서 생성된 (즉, 잡음제거 단계에서 검출된), 3분 미만의 측정구간의 실제 심박 데이터(예로 1분 실제 데이터)를, 기설정된 데이터 크기(예로 300개)로, 변환하되, 3분 미만 측정구간 실제 심박 데이터(예로 1분 실 제 데이터)는 중앙에 배치하고, 배치된 실제 심박 데이터의 앞뒤를, 3분 미만 측정구간 실제 심박 데이터의 평 균값으로 채우고(S770), 이렇게 일정한 크기가 되도록 변경된 3분 미만 측정구간 실제 심박 데이터(즉, HRV 지 표 예측 모델 제1 입력 데이터)를 최소 최대 정규화(Min-Max Normalization) 기법을 적용하여 정규화하여, 결과 적으로 플롯 타잎(float type)의 (0, 1) 값으로 정규화한다(S775). 최소 최대 정규화(Min-Max Normalization) 기법은, 널리 공지된 것으로, 다음 수식에 의해 구해진다. 정규화 한 값 = (정규화 할 값 - 범위의 최소값 ) / (범위의 최대 값 - 범위의 MIN 값) 원래값으로 복원 값 = (정규화된 값 × (범위의 최대 값 - 범위의 최소 값)) + 범위의 최소 값 즉, 일정한 크기가 되도록 변경된 3분 미만 측정구간 실제 심박 데이터 범위의 최소값, 일정한 크기가 되도록 변경된 3분 미만 측정구간 실제 심박 데이터 범위의 최대값를 이용하여, 일정한 크기가 되도록 변경된 3분 미만 측정구간 실제 심박 데이터를 상기 수식에 의해 정규화한다. 정규화된 예측용 데이터 생성단계로, 3분 미만 측정구간 심박 데이터의 크기조정 및 정규화단계와 동시에 진행 되되, 연산처리부는, 상기 FFT 단계에서 예측된 3분 FFT 데이터(즉, HRV 지표 예측 모델 제2 입력 데이 터)를 최소 최대 정규화(Min-Max Normalization) 기법을 적용하여 정규화하여, 결과적으로 float type의 (0,1) 값으로 정규화한다(S777). HRV 지표 예측 모델 실행단계로, 크기조정 및 정규화된 3분 미만 측정구간 실제 데이터(HRV 지표 예측 모델 제1 입력 데이터), 정규화된, 예측된 3분 FFT 데이터(HRV 지표 예측 모델 제2 입력 데이터)를 인공신경망의 HRV 지 표 예측 모델에 입력하여 HRV 지표 예측 모델을 실행한다(S780). HRV 지표 예측 모델은 연산처리부의 LF/HF 예측부(미도시), 평균심박수(mHR) 예측부(미도시), RMSSD 예측 부(미도시), SDNN 예측부(미도시), TP 예측부(미도시), LF 예측부(미도시), HF 예측부(미도시), VLF 예측부(미 도시), 정규화된 LF(LFnorm) 예측부(미도시), 정규화된 HF(HFnorm) 예측부(미도시)를 포함하여, 예측된 3분 FFT 데이터(HRV 지표 예측 모델 제2 입력 데이터)로부터, 5분 또는 3분의 심박변이도 지표인 LF/HF, 평균심박수 (mHR), RMSSD, SDNN, TP, LF, HF, VLF, 정규화된 LF(LFnorm), 정규화된 HF(HFnorm)를 구한다. 이때, 사용자의 설정에 따라 LF/HF, 평균심박수(mHR), RMSSD, SDNN, TP, LF, HF, VLF, 정규화된 LF(LFnorm), 정규화된 HF(HFnorm) 중 하나 이상을 구한다. 인공신경망의 HRV 지표 예측 모델에서 출력된 HRV 지표를 출력부로 출력하거나 메모리부에 저장한다. 도 12는 본 발명의 LF/HF 예측부의 LF/HF 예측 모델의 인공 신경망(neural network) 구성의 일예에 대한 설명도 이다. LF/HF를 위한 합성곱처리 단계로, 연산처리부는, 연산처리부의 LF/HF 예측부(LF/HF 예측 모델)로, 정 규화된 예측용 데이터 생성단계(S777)에서 정규화된, 예측된 3분 FFT 데이터(HRV 지표 예측 모델 제2 입력 데이 터)를, 16x16x1 형태의 입력 데이터로써, 입력하면 (S1110), LF/HF 예측부는 상기 입력 데이터를 사이즈 32 커 널로 합성곱처리 후 relu (Rectified Linear Unit, 정류된 선형유닛) 활성화 함수로 처리한다(S1120). LF/HF를 위한 256 커널로의 완전연결계층 처리단계로, LF/HF 예측부는, 합성곱처리 단계(S1120)의 출력데이터 (즉, 32 커널로 합성곱처리 후 relu 활성화 함수로 처리된 입력데이터)를, 256 커널로 완전연결계층(Fully conndeted layer, dense layer)으로 처리 후, relu 활성화 함수 처리한다(S1130). 도 12의 256 커널로의 완전연결계층 처리단계(S1130)에서 레이어 함수로써, DepthwiseConv2D 를 사용하고 있지 만 이로써 본 발명을 한정하기위한 것이 아님을 밝혀둔다, DepthwiseConv2D는 깊이별 콘볼루션(depthwise convolution) 처리를 위하여, 머신러닝을 위한 엔드 투 엔드 오픈소스 플랫폼인 Tensorflow 2.x 에서 제공되는 레이어 함수로, 일반적인 컨볼루션 필터는 입력의 모든 채널에 영향을 받게 되므로 완벽히 특정 채널만의 공간 적 특징을 추출하는 것이 불가능하다. 즉, 다른 채널의 정보가 관여하는 것이 불가피 하기 때문이다. 하지만 Depthwise Convolution는 각 단일 채널에 대해서만 수행되는 필터들을 사용하였다. LF/HF를 위한 1 커널로의 완전연결계층 처리단계로, LF/HF 예측부는, LF/HF를 위한 256 커널로의 완전연결계층 처리단계(S1130)의 출력데이터(즉, 256 커널로 Fully conndeted layer 처리 후, relu 활성화 함수 처리된 입력 데이터)를 1 커널로 완전연결계층(Fully conndeted layer) 처리하여 1개의 LF/HF 예측 값을 출력시킨다 (S1140). 도 13은 본 발명의 평균심박수(mHR) 예측부의 평균심박수(mHR) 예측 모델의 인공 신경망 구성의 일예에 대한 설 명도이다. 평균심박수를 위한 256 커널로의 완전연결계층 처리단계로, 연산처리부는, 연산처리부의 평균심박수 (mHR) 예측부(평균심박수(mHR) 예측 모델)로, 잡음제거 단계(S725, S730)에서 출력된, 크기조정 및 정규화된 3 분 미만 측정구간 실제 데이터(HRV 지표 예측 모델 제1 입력 데이터)를, 300 사이즈의 입력 데이터로써, 입력하 며 (S1150), 평균심박수(mHR) 예측부는 이 입력 데이터를, 256 커널로 완전연결계층(Fully conndeted layer, dense layer)으로 처리 후, relu 활성화 함수 처리한다(S1160). 평균심박수를 위한 1 커널로의 완전연결계층 처리단계로, 평균심박수(mHR) 예측부는, 평균심박수를 위한 256 커 널로의 완전연결계층 처리단계(S1150)의 출력데이터(즉, 256 커널로 Fully conndeted layer 처리 후, relu 활 성화 함수 처리된 입력 데이터)를 1 커널로 완전연결계층(Fully conndeted layer) 처리하여 1개의 평균심박수 예측 값을 출력시킨다(S1170). 도 14는 본 발명의 RMSSD 예측부의 RMSSD 예측 모델의 인공 신경망 구성의 일예에 대한 설명도이다. 4차원 데이터 구성단계로, 연산처리부는, 연산처리부의 RMSSD 예측부(RMSSD 예측 모델)로, 잡음제거 단계(S725, S730)에서 출력된, 크기조정 및 정규화된 3분 미만 측정구간 실제 데이터(HRV 지표 예측 모델 제1입력 데이터)를, 300 사이즈의 입력 데이터로써, 입력하며(S1210), 합성곱 처리가 용이하게 하기 위해, reshape 함수 (배열의 차원을 변경하기 위한 함수)를 이용하여 상기 입력 데이터의 형태를 4차원으로 구성한다 (S1220). RMSSD를 위한 합성곱처리 단계로, RMSSD 예측부는, 4차원 데이터 구성단계에서 출력된 데이터(즉, 4차원으로 구 성된 입력 데이터)를 3 사이즈의 32 커널로 합성곱처리 후 relu 활성화 함수로 처리한다(S1230). 평균 풀링(Pooling) 단계로, RMSSD 예측부는, RMSSD를 위한 합성곱처리 단계(S1230)에서 출력 데이터 (즉, 3 사 이즈의 32 커널로 합성곱처리 후 relu 활성화 함수로 처리된 데이터)를, reshape 함수를 이용하여 재 구성한 후 (S1240), 평균 Pooling 처리를 행한다(S1250). 즉, Tensorflow에서 제공하는 GlobalAveragePooling1D 함수를 통하여 1차원에 대한 평균 Pooling 처리를 진행한다. RMSSD를 위한 32 커널로의 완전연결계층 처리단계로, RMSSD 예측부는, 평균 풀링(Pooling) 단계(S1240, S125 0)의 출력데이터(즉, 1차원에 대한 평균 Pooling 처리된 데이터)를 32 커널로 완전연결계층(Fully conndeted layer) 처리한다(S1260). RMSSD를 위한 1 커널로의 완전연결계층 처리단계로, RMSSD 예측부는, RMSSD를 위한 32 커널로의 완전연결계층 처리단계(S1260)의 출력데이터(즉, 32 커널로 완전연결계층 처리한 데이터)를 1 커널로 완전연결계층(Fully conndeted layer) 처리하여 1개의 RMSSD 예측값을 출력한다(S1270). 도 15는 본 발명의 SDNN 예측부의 SDNN 예측 모델의 인공 신경망 구성의 일예에 대한 설명도이다. SDNN을 위한 합성곱처리 단계로, 연산처리부는, 연산처리부의 SDNN 예측부(SDNN 예측 모델)로, 잡음 제거 단계(S725, S730)에서 출력된, 크기조정 및 정규화된 3분 미만 측정구간 실제 데이터(HRV 지표 예측 모델 제1 입력 데이터)를, 15x20x1 형태의 입력 데이터로써, 입력하면 (S1310), SDNN 예측부는 상기 입력 데이터를 3x3 사이즈 32 커널로 합성곱처리 후 relu 활성화 함수로 처리한다(S1320). SDNN을 위한 256 커널로의 완전연결계층 처리단계로, SDNN 예측부는, SDNN을 위한 합성곱처리 단계(S1320)의 출 력데이터(즉, 32 커널로 합성곱처리 후 relu 활성화 함수로 처리된 입력데이터)를, 256 커널로 완전연결계층 (Fully conndeted layer, dense layer)으로 처리 후, relu 활성화 함수 처리한다(S1330). SDNN을 위한 1 커널로의 완전연결계층 처리단계로, SDNN 예측부는, SDNN을 위한 256 커널로의 완전연결계층 처 리단계(S1330)의 출력데이터(즉, 256 커널로 Fully conndeted layer 처리 후, relu 활성화 함수 처리된 입력 데이터)를 1 커널로 완전연결계층(Fully conndeted layer) 처리하여 1개의 SDNN 예측 값을 출력시킨다(S1340). 도 16은 본 발명의 기타 변수의 예측 모델의 인공 신경망 구성의 일예에 대한 설명도이다, 즉, 도 16은 본 발명의 기타 변수 예측부 (즉, TP 예측부, LF 예측부, HF 예측부, VLF 예측부, 정규화된 LF(LFnorm) 예측부, 정규화된 HF(HFnorm) 예측부)의, 기타 변수 예측 모델(즉, TP 예측 모델, LF 예측 모델, HF 예측 모델, VLF 예측 모델, 정규화된 LF(LFnorm) 예측 모델, 정규화된 HF(HFnorm) 예측 모델)에 적용된 인공 신경망 구성에 대한 설명도이다, 기타 변수 예측모델을 위한 256 커널로의 완전연결계층 처리단계로, 연산처리부는, 연산처리부의 기 타 변수 예측부의 기타 변수 예측모델로, 정규화된 예측용 데이터 생성단계(S777)에서 정규화된, 예측된 3분 FFT 데이터(HRV 지표 예측 모델 제2 입력 데이터)를, 256 사이즈의 입력 데이터로써, 입력하며(S1510), 기타 예 측부는 이 입력 데이터를, 256 커널로 완전연결계층(Fully conndeted layer, dense layer)으로 처리 후, relu 활성화 함수 처리한다(S1520). 기타 변수 예측모델을 위한 1 커널로의 완전연결계층 처리단계로, 기타 예측부는, 기타 변수 예측모델을 위한 256 커널로의 완전연결계층 처리단계(S1520)의 출력데이터(즉, 256 커널로 Fully conndeted layer 처리 후, relu 활성화 함수 처리된 입력 데이터)를 1 커널로 완전연결계층(Fully conndeted layer) 처리하여 1개의 예측 값을 출력시킨다(S1530). 여기서, 기타 변수는 TP, LF, HF, VLF, 정규화된 LF(LFnorm), 정규화된 HF(HFnorm) 중 하나이고, 기타 예측부 는 기타 변수를 예측하는 예측부로, TP 예측부, LF 예측부, HF 예측부, VLF 예측부, 정규화된 LF(LFnorm) 예측 부, 정규화된 HF(HFnorm) 예측부 중의 하나이고, 기타 예측모델은, 기타 변수를 예측하는 모델로, TP 예측 모델, LF 예측 모델, HF 예측 모델, VLF 예측 모델, 정규화된 LF(LFnorm) 예측 모델, 정규화된 HF(HFnorm) 예 측 모델 중의 하나이다. 예를들어, 예측하고자 하는 기타변수가 TP이면, 기타 예측부는 TP 예측부이고, 기타 예측모델은 TP 예측모델이 되어, 다음과 같이 된다. 기타 변수 예측모델(즉, TP 예측모델)을 위한 256 커널로의 완전연결계층 처리단계에서, 연산처리부는, 연 산처리부의 TP 예측부로, HRV 지표 예측 모델 제2 입력 데이터를, 256 사이즈의 입력 데이터로써, 입력하 며, TP 예측부는 이 입력 데이터를, 256 커널로 완전연결계층(Fully conndeted layer, dense layer)으로 처리 후, relu 활성화 함수 처리한다(S1520). 기타 변수 예측모델(즉, TP 예측모델)을 위한 1 커널로의 완전연결계층 처리단계로, TP 예측부는, 기타 예측모 델을 위한 256 커널로의 완전연결계층 처리단계(S1520)의 출력데이터(즉, 256 커널로 Fully conndeted layer 처리 후, relu 활성화 함수 처리된 입력 데이터)를 1 커널로 완전연결계층(Fully conndeted layer) 처리하여 1 개의 TP 예측 값을 출력시킨다(S1530). 물론, 변수가 LF, HF, VLF, 정규화된 LF(LFnorm), 정규화된 HF(HFnorm)일 경우에도 같은 방식으로 적용될 것이다. 본 발명에서, 3분 동안 측정한 데이터의 지표들(실제값)과 본 발명의 딥러닝에 의한 예측값 사이에 차이가 있는 지를 알아보기 위한 실험에서, 학습셋(training set)은 전체 데이터의 60%인 20,931 개, 검증셋(validation set)은 30%인 10,465 개 그리고 시험셋(test set)은 10%인 3,489 개의 데이터를 임의로 선택하였다. SDNN 의 경우 학습모델로 CNN2D, 손실함수(loss function)으로 휴버 손실(huber_loss), 최적화함수(optimizer)로 Adam(adaptive moment assesment, 아담)을, 학습률(learning Rate)은 1e-05, 배치사이즈는 5000, 에포크 (epoch)는 14,150 번으로 하여 학습된다. 또한 이때 SDNN 학습 epoch에 대한 손실값의 추이는 도 17과 같다. 표 2는 주파수영역 예측지표별 학습모델 및 하이퍼 파라미터의 일예를 나타낸다. 즉, 상기 실험에서의 주파수영 역 예측지표별 학습모델 및 하이퍼 파라미터를 나타낸다. 표 2"}
{"patent_id": "10-2021-0074506", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "표 3은 시간영역 예측지표별 학습모델 및 하이퍼 파라미터의 일예을 나타낸다. 즉, 상기 실험에서의 시간영역 예측지표별 학습모델 및 하이퍼 파라미터를 나타낸다.표 3"}
{"patent_id": "10-2021-0074506", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "이 실험에서, 각 지표별로 최적화된 학습모델과 파라미터를 선정하기 위해 다양한 모델과 파라미터를 적용하여 평균절대오차(mean absolute error:MAE)가 가장 작은 모델을 선정하였다. 표 4는 각 지표별 예측 결과의 일예이다. 즉, 상기 실험 결과에서의 각 지표의 최소 MAE 값을 나타낸다. 표 4"}
{"patent_id": "10-2021-0074506", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "item": 6, "content": "도 18은 TP 지표의 실제값(파란선)과 예측값(주황선)의 차이의 일예를 나타낸다. 상기 실험 결과에서의 TP 지표 의 실제값(파란선)과 예측값(주황선)의 차이를 나타낸다. 상기 실험결과의 통계처리에 있어서, 3 분 동안 측정한 데이터 지표들을 실제값(기준치)로 하고 기계학습을 통 해 1 분 동안 측정한 데이터에서 3 분 데이터의 지표들을 예측한 값과의 비교는 독립표본 t 검정 (independent- sample t-test)과 Pearson 상관계수를 이용하였다. 또한 실제값을 기준으로 Bland-Altman plots 을 이용하여 실제값과 예측값의 일치 정도를 검증하였는데, 이때 두 측정치 사이 오차의 허용한계는 평균±2×표준편차로 정 의하였다. 모든 통계에서 유의수준은 5%이하를 통계적으로 유의한 차이가 있는 것으로 하였다. 독립표본 t 검정 에서는 유의수준 5% 이상을 실제값과 예측값에 유의한 차이가 없는 것으로서, 결국 같은 결과 값을 보인 것으로 보았다. 모든 통계는 SPSS19 와 엑셀 기술통계 패키지를 이용하였다. 첫번째로, 독립표본 t 검정 결과에 있어서, 3 분 동안 측정한 데이터의 지표들(실제값)과 딥러닝에 의한 예측값 사이에 차이가 있는지를 알아보기 위해 독립표본 t 검정 (independent-sample t-test) 실시한 결과는 표 5 와 같다. 표 5는 실제값과 예측값에 대한 독립표본 t 검정 결과의 일예를 나타낸다. 즉 상기 실험에서 실제값과 예측값에 대한 독립표본 t 검정 결과를 나타낸다. 표 5"}
{"patent_id": "10-2021-0074506", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "1 분 동안 측정한 데이터의 지표들과 실제값을 비교한 결과, mHR 과 RMSSD 가 유의한 차이가 없었고, 모든 지표 에서 실제 데이터와는 통계적으로 유의한 차이가 있었다(P<0.05). 이 결과는 이전의 연구결과와도 일치함을 확 인할 수 있었다. 딥러닝에 의한 예측값은 실제값과 본 연구에서 사용된 모든 지표에서 통계적으로 유의한 차이를 보이지 않았다 (P > 0.05). 따라서, 본 발명에서 1 분 동안 측정한 데이터를 이용하여 딥러닝으로 예측한 예측값이, 실제 3 분 동안 측정한 데이터 지표로 사용될 수 있음을 나타낸다. 두번째로, 피어슨 상관관계 분석 결과에 있어서, 도 19 내지 도 23에서와 같이, TP, VLF, LF, HF, LFn, HFn, LF/HF, mHR, RMSSD 및 SDNN에 대해, 3 분 동안 측정한 데이터의 지표(실제값)과 딥러닝에 의한 예측값, 그리고 실제값과 1 분 측정데이터 사이의 상관관계를 나타냈다. 즉, 모든 지표에서 딥러닝에 의한 예측값이 실제값과 매우 유사함을 확인하였다 (모든 지표 P-value < .0000). 도 19 내지 도 23과 같이, 실제값과 예측값이 아닌 1 분동안 측정한 데이터의 지표값과의 상관계수보다는 예측값과의 상관계수가 월등히 높았다. TP 는 0.4727에서 0.9307, LF 는 0.4421 에서 0.9773, HF 0.8147 에서 0.9929 , VLF 는 0.2433 에서 0.6979, LFn 은 0.5177 에서 0.9553, HFn 은 0.5167 에서 0.9579, LF/HF 는 0.4345 에서 0.9099 로 딥러닝 예측을 통해 실제값과 상관관계 가 높아졌다. 상기 실험결과는, 독립표본 t 검정 결과와 피어슨 상관분석 결과를 통해 딥러닝에 의한 예측값이 실제 3 분데이 터와 통계적으로 유의한 차이가 없고 매우 상관관계가 높음을 알 수 있었다. 상기 실험에서 실제값과 딥러닝에 의한 예측값의 일치도를 살펴보면, 블란드 앨트먼 플롯(Bland-Altman plot)으 로 실제값과 예측값의 일치도는 도 24 내지 도 26과 같다. 도 24 내지 도 26에서는 TP, VLF, LF, HF, LFn, HFn, LF/HF, mHR, RMSSD 및 SDNN에 대해, 실제값과 예측값에 대한 블란드 앨트먼 플롯의 허용오차와, 허용오차 (limit of agreement : LOA) 이내의 데이터 비율을 함께 나타내며, LOA를 나타내는 상하한값은 편향(bias) ± (2×표준편차)로 표현하였으며, 상하한값의 옆에 있는 괄호안의 비율은 전체 데이터중 LOA 이내의 비율이다. 이상과 같이 본 발명은 비록 한정된 실시예와 도면에 의해 설명되었으나, 본 발명은 상기의 실시예에 한정되는 것은 아니며, 이는 본 발명이 속하는 분야에서 통상의 지식을 가진 자라면 이러한 기재로부터 다양한 수정 및 변형이 가능하다. 따라서, 본 발명의 사상은 아래에 기재된 특허청구범위에 의해서만 파악되어야 하고, 이의 균 등 또는 등가적 변형 모두는 본 발명 사상의 범주에 속한다고 할 것이다. 부호의 설명100: 심박 측정장치 200: 연산처리부 300: 메모리부"}
{"patent_id": "10-2021-0074506", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 짧은 측정구간의 심박변이도 데이터로, 5분 또는 3분의 심박변이도 데이터의 지표를 예측하는 시스템의 구성을 대하여 개략적으로 설명하는 설명도이다. 도 2는 본 발명의 HRV 지표 예측 모델의 입력데이터 형태 및 학습 레이블을 설명하기 위한 설명도이다. 도 3은 본 발명의 인공신경망에서 학습 데이터 생성과정을 설명하는 개략적인 흐름도이다. 도 4는 도 3의 학습용 데이터를 생성하는 단계(S200)에서 1분 데이터 생성방법의 일예를 설명하기 위한 설명도 이다. 도 5는 도 3의 학습용 데이터를 생성하는 단계(S200)를 설명하는 흐름도이다. 도 6은 본 발명의 인공지능 학습을 위한 데이터의 구성을 설명하는 설명도이다. 도 7은 본 발명의 인공지능 학습과정을 개략적으로 설명하는 흐름도이다. 도 8은 도 7의 학습관련 데이터 전처리 단계을 설명하는 흐름도이다. 도 9는 본 발명의 인공지능에서 짧은 측정구간(3분 미만)의 심박변이도 데이터로, 5분 또는 3분의 심박변이도 데이터의 지표를 예측하는 예측과정을 개략적으로 설명하는 흐름도이다. 도 10은 도 9의 예측용 입력데이터인, 짧은 측정구간(1분 데이터) 생성을 설명하기 위한설명도이다. 도 11은 도 9의 예측용 입력데이터 전처리 단계를 설명하는 흐름도이다. 도 12는 본 발명의 LF/HF 예측부의 LF/HF 예측 모델의 인공 신경망(neural network) 구성의 일예에 대한 설명도 이다. 도 13은 본 발명의 평균심박수(mHR) 예측부의 평균심박수(mHR) 예측 모델의 인공 신경망 구성의 일예에 대한 설 명도이다. 도 14는 본 발명의 RMSSD 예측부의 RMSSD 예측 모델의 인공 신경망 구성의 일예에 대한 설명도이다. 도 15는 본 발명의 SDNN 예측부의 SDNN 예측 모델의 인공 신경망 구성의 일예에 대한 설명도이다. 도 16은 본 발명의 기타 변수의 예측 모델의 인공 신경망 구성의 일예에 대한 설명도이다, 도 17은 SDNN 학습 epoch에 대한 손실값의 추이의 일예이다. 도 18은 TP 지표의 실제값과 예측값의 차이의 일예를 나타낸다. 도 19는 TP 및 VLF에 대해, 3분 동안 측정한 데이터의 지표의 실제값과 딥러닝에 의한 예측값의 상관관계, 그리 고 실제값과 1분 측정데이터 사이의 상관관계의 일예를 나타낸다. 도 20은 LF 및 HF에 대해, 3분 동안 측정한 데이터의 지표의 실제값과 딥러닝에 의한 예측값의 상관관계, 그리고 실제값과 1분 측정데이터 사이의 상관관계의 일예를 나타낸다. 도 21은 LFn 및 HFn에 대해, 3분 동안 측정한 데이터의 지표의 실제값과 딥러닝에 의한 예측값의 상관관계, 그 리고 실제값과 1분 측정데이터 사이의 상관관계의 일예를 나타낸다. 도 22는 LF/HF 및 mHR에 대해, 3분 동안 측정한 데이터의 지표의 실제값과 딥러닝에 의한 예측값의 상관관계, 그리고 실제값과 1분 측정데이터 사이의 상관관계의 일예를 나타낸다. 도 23은 RMSSD 및 SDNN에 대해, 3분 동안 측정한 데이터의 지표의 실제값과 딥러닝에 의한 예측값의 상관관계, 그리고 실제값과 1분 측정데이터 사이의 상관관계의 일예를 나타낸다. 도 24는 TP, LF, HF, VLF에 대해서, 블란드 앨트먼 플롯(Bland-Altman plot)으로 실제값과 예측값의 일치도를 나타낸다. 도 25은 LFn, HFn, LF/HF, mHR에 대해서, 블란드 앨트먼 플롯(Bland-Altman plot)으로 실제값과 예측값의 일치 도를 나타낸다. 도 26은 RMSSD, SDNN에 대해서, 블란드 앨트먼 플롯(Bland-Altman plot)으로 실제값과 예측값의 일치도를 나타 낸다."}
