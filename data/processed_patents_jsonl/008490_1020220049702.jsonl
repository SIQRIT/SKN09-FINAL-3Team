{"patent_id": "10-2022-0049702", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0150133", "출원번호": "10-2022-0049702", "발명의 명칭": "다중 주파수 대역의 정규화를 통한 엑스레이 영상의 처리 방법 및 시스템", "출원인": "주식회사 래디센", "발명자": "최민성"}}
{"patent_id": "10-2022-0049702", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "시스템이, 입력되는 레퍼런스 이미지의 엣지(Edge) 영역을 추출하는 단계;시스템이, 추출된 레퍼런스 이미지의 엣지 영역에 포함되는 제1 픽셀들의 가중평균(Bias) 및 가중표준편차(Energy)를 산출하는 단계; 시스템이, 판독하고자 하는 타겟 이미지의 엣지 영역을 추출하는 단계; 및 시스템이, 산출된 제1 픽셀들의 가중평균 및 가중표준편차를 기준으로 타겟 이미지의 엣지 영역에 포함되는 제2픽셀들의 가중평균 및 가중표준편차를 보정하는 단계;를 포함하는 다중 주파수 대역의 정규화를 통한 엑스레이영상의 처리 방법."}
{"patent_id": "10-2022-0049702", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "청구항 1에 있어서,레퍼런스 이미지의 엣지 영역을 추출하는 단계는, 레퍼런스 이미지에 LoG(Laplacian of Gaussian) 알고리즘을 적용하여 엣지 영역을 추출하는 것을 특징으로 하는다중 주파수 대역의 정규화를 통한 엑스레이 영상의 처리 방법."}
{"patent_id": "10-2022-0049702", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "청구항 2에 있어서,레퍼런스 이미지의 엣지 영역을 추출하는 단계는, 레퍼런스 이미지를 가우시안 필터(Gaussian filter) 처리하는 단계; 및가우시안 필터 처리된 이미지에 라플라시안 필터(Laplacian filter)를 컨벌루션(convolution)하여 엣지 영역을추출하는 단계;를 포함하는 것을 특징으로 하는 다중 주파수 대역의 정규화를 통한 엑스레이 영상의 처리 방법."}
{"patent_id": "10-2022-0049702", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "청구항 3에 있어서,가우시안 필터 처리하는 단계는, 레퍼런스 이미지에 가우시안 필터를 이용한 피라미드 다운(Pyramid Down) 작업을 수행하며, 레퍼런스 이미지에서 기설정된 임계값 이상의 고주파(High Frequency) 영역을 필터링하여 기설정된 임계값 미만의 저주파(LowFrequency) 영역만 남도록 하는 것을 특징으로 하는 다중 주파수 대역의 정규화를 통한 엑스레이 영상의 처리방법."}
{"patent_id": "10-2022-0049702", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "청구항 3에 있어서,가우시안 필터 처리된 이미지에 라플라시안 필터를 컨벌루션하여 엣지 영역을 추출하는 단계는, 가우시안 필터 처리된 이미지에 라플라시안 필터(Laplacian filter)를 이용한 피라미드 업(Pyramid Up) 작업을공개특허 10-2023-0150133-3-수행하는 단계; 및 고주파 영역만 남도록, 레퍼런스 이미지에서 라플라시안 필터 처리되어 저주파 영역만 남은 이미지를 뺄셈 연산하는 단계;를 포함하는 것을 특징으로 하는 다중 주파수 대역의 정규화를 통한 엑스레이 영상의 처리 방법."}
{"patent_id": "10-2022-0049702", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "청구항 3에 있어서,제1 픽셀들의 가중평균 및 가중표준편차를 산출하는 단계는, 추출된 레퍼런스 이미지의 엣지 영역에 RoI(Region of Interest)를 추출하기 위한 RoI 마스크를 적용하여 RoI가아닌 영역을 필터링하는 단계; 및 RoI 마스크로 필터링하고 남은 RoI 영역에 포함된 제1 픽셀들을 대상으로 레퍼런스 이미지의 가중평균 및 가중표준편차를 산출하는 단계;를 포함하는 것을 특징으로 하는 다중 주파수 대역의 정규화를 통한 엑스레이 영상의처리 방법."}
{"patent_id": "10-2022-0049702", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "청구항 6에 있어서,RoI가 아닌 영역을 필터링하는 단계는, 레퍼런스 이미지 또는 타겟 이미지가 Window Center와 Window Width에 대한 정보를 포함하는 다이콤(Dicom) 파일 형태로 구현되는 경우, Window Center와 Window Width에 대한 정보를 이용하여 하위값 및 상위값을 설정하는단계; 및 설정된 하위값 이하의 픽셀들을 RoI가 아닌 영역으로 판단하여 필터링하는 단계;를 포함하는 것을 특징으로 하는 다중 주파수 대역의 정규화를 통한 엑스레이 영상의 처리 방법."}
{"patent_id": "10-2022-0049702", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "청구항 6에 있어서,RoI가 아닌 영역을 필터링하는 단계는, 레퍼런스 이미지 또는 타겟 이미지가 Window Center와 Window Width에 대한 정보를 포함하지 않는 다이콤 파일또는 다이콤 파일이 아닌 일반 이미지 파일 형태로 구현되는 경우, 픽셀값의 하위 2퍼센트와 상위 2퍼센트를 각각 하위값 및 상위값으로 설정하는 단계; 하위값 및 상위값 사이의 1/4 지점과 하위값 사이의 픽셀 중 최소값에 해당하는 픽셀을 기준점으로 설정하는 단계; 및 기준점 이하의 픽셀들을 RoI가 아닌 영역으로 판단하여 필터링하는 단계;를 포함하는 것을 특징으로 하는 다중주파수 대역의 정규화를 통한 엑스레이 영상의 처리 방법."}
{"patent_id": "10-2022-0049702", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "청구항 6에 있어서,제2 픽셀들의 가중평균 및 가중표준편차를 보정하는 단계는, 산출된 제1 픽셀들의 가중표준편차에 제2 픽셀들의 가중표준편차를 나누어 보정 비율을 산출하는 제1 단계;제1 픽셀들의 평균 및 편차를 산출하고, 제2 픽셀들의 평균 및 편차를 산출하는 제2 단계;공개특허 10-2023-0150133-4-제2 픽셀들의 편차에 보정 비율을 곱한 뒤, 제1 픽셀들의 가중평균을 더하는 연산을 수행하여, 제2 픽셀들의 가중평균 및 가중표준편차를 보정하는 제3 단계;를 포함하는 것을 다중 주파수 대역의 정규화를 통한 엑스레이 영상의 처리 방법."}
{"patent_id": "10-2022-0049702", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "청구항 9에 있어서,제2 픽셀들의 가중평균 및 가중표준편차를 보정하는 단계는, 산출되는 보정 비율이 1에 수렴할 때까지, 상기 제1 단계 내지 제3 단계를 반복적으로 수행하는 것을 특징으로하는 다중 주파수 대역의 정규화를 통한 엑스레이 영상의 처리 방법."}
{"patent_id": "10-2022-0049702", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "청구항 1에 있어서,제2 픽셀들의 가중평균 및 가중표준편차가 보정된 이후, 시스템이, 타겟 이미지의 엣지 영역을 대상으로 히스토그램 스트레칭(Histogram Stretching) 작업을 수행하는 단계;를 더 포함하는 것을 특징으로 하는 다중 주파수대역의 정규화를 통한 엑스레이 영상의 처리 방법."}
{"patent_id": "10-2022-0049702", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "청구항 11에 있어서,히스토그램 스트레칭 작업을 수행하는 단계는, 히스토그램의 주파수 평균값을 산출하여, 히스토그램의 주파수 중 산출된 주파수의 평균값 이하에 해당하는 픽셀값들을 필터링하는 단계; 및산출된 주파수 평균값을 초과하는 주파수에 해당하는 픽셀값들 중 최소값과 최대값을 산출하여, 산출된 최소값내지 최대값의 범위를 스트레칭 범위로 설정하는 단계;를 포함하는 것을 특징으로 하는 다중 주파수 대역의 정규화를 통한 엑스레이 영상의 처리 방법."}
{"patent_id": "10-2022-0049702", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "레퍼런스 이미지가 입력되는 통신부; 및 입력되는 레퍼런스 이미지의 엣지(Edge) 영역을 추출하고, 추출된 레퍼런스 이미지의 엣지 영역에 포함되는 제1픽셀들의 가중평균(Bias) 및 가중표준편차(Energy)를 산출하며, 판독하고자 하는 타겟 이미지의 엣지 영역을 추출하고, 산출된 제1 픽셀들의 가중평균 및 가중표준편차를 기준으로 타겟 이미지의 엣지 영역에 포함되는 제2픽셀들의 가중평균 및 가중표준편차를 보정하는 프로세서;를 포함하는 다중 주파수 대역의 정규화를 통한 엑스레이 영상의 처리 시스템."}
{"patent_id": "10-2022-0049702", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "주파수 대역을 정규화할 수 있는 엑스레이 영상의 처리 방법 및 시스템이 제공된다. 본 발명의 실시예에 따른 다 중 주파수 대역의 정규화를 통한 엑스레이 영상의 처리 방법은, 시스템이, 입력되는 레퍼런스 이미지의 엣지 (Edge) 영역을 추출하는 단계; 시스템이, 추출된 레퍼런스 이미지의 엣지 영역에 포함되는 제1 픽셀들의 가중평 (뒷면에 계속)"}
{"patent_id": "10-2022-0049702", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 엑스레이 영상의 처리 방법 및 시스템에 관한 것으로, 더욱 상세하게는 서로 다른 이미지 특성을 갖 는 이미지들을 대상으로 동일한 이미지 특성을 갖는 이미지로 변환시키기 위해, 주파수 대역을 정규화할 수 있 는 엑스레이 영상의 처리 방법 및 시스템에 관한 것이다."}
{"patent_id": "10-2022-0049702", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "엑스레이 영상과 같은 의료 영상 데이터들은, 의료 영상 데이터들은 지역적 차이, 장비 차이, 촬영자 차이 또는 국가적 차이 등으로 인하여 서로 다른 이미지 특성을 갖게 될 수 있다. 이와 같이 의료 영상 데이터가 서로 다른 이미지 특성을 갖는 경우, 의료 영상 데이터들을 인공지능 모델을 통 하여 판독하기 위한 학습 시, 인공지능의 성능을 보장하기 어려움이 존재한다. 즉, 특정 이미지 특성을 갖는 의료 영상 데이터들을 학습 데이터로 활용하여 학습된 인공지능 모델의 경우, 다 른 이미지 특성을 갖는 의료 영상 데이터가 입력되면, 인공지능의 성능(판독 정확도)이 저하되는 문제점이 존재 한다. 따라서, 인공지능 모델을 이용하는 의료 영상 데이터의 판독 시스템을 효과적으로 운영하기 위해, 의료 영상 데 이터들이 갖는 이미지 특성을 동일한 이미지 특성으로 변환하기 위한 방안의 모색이 요구된다."}
{"patent_id": "10-2022-0049702", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 상기와 같은 문제점을 해결하기 위하여 안출된 것으로서, 본 발명의 목적은, 서로 다른 이미지 특성 을 갖는 이미지들을 대상으로 동일한 이미지 특성에 맞게 Domain adaptation를 하기 위해, 레퍼런스 이미지의 특징(Edge)을 추출하여, 다른 타겟 영상의 특징에 적용할 수 있는 엑스레이 영상의 처리 방법 및 시스템을 제공 함에 있다."}
{"patent_id": "10-2022-0049702", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 목적을 달성하기 위한 본 발명의 일 실시예에 따른, 다중 주파수 대역의 정규화를 통한 엑스레이 영상의 처리 방법은, 시스템이, 입력되는 레퍼런스 이미지의 엣지(Edge) 영역을 추출하는 단계; 시스템이, 추출된 레퍼 런스 이미지의 엣지 영역에 포함되는 제1 픽셀들의 가중평균(Bias) 및 가중표준편차(Energy)를 산출하는 단계; 시스템이, 판독하고자 하는 타겟 이미지의 엣지 영역을 추출하는 단계; 및 시스템이, 산출된 제1 픽셀들의 가중 평균 및 가중표준편차를 기준으로 타겟 이미지의 엣지 영역에 포함되는 제2 픽셀들의 가중평균 및 가중표준편차 를 보정하는 단계;를 포함한다. 또한, 레퍼런스 이미지의 엣지 영역을 추출하는 단계는, 레퍼런스 이미지에 LoG(Laplacian of Gaussian) 알고리 즘을 적용하여 엣지 영역을 추출할 수 있다. 그리고 레퍼런스 이미지의 엣지 영역을 추출하는 단계는, 레퍼런스 이미지를 가우시안 필터(Gaussian filter) 처리하는 단계; 및 가우시안 필터 처리된 이미지에 라플라시안 필터(Laplacian filter)를 컨벌루션 (convolution)하여 엣지 영역을 추출하는 단계;를 포함할 수 있다. 또한, 가우시안 필터 처리하는 단계는, 레퍼런스 이미지에 가우시안 필터를 이용한 피라미드 다운(Pyramid Down) 작업을 수행하며, 레퍼런스 이미지에서 기설정된 임계값 이상의 고주파(High Frequency) 영역을 필터링하 여 기설정된 임계값 미만의 저주파(Low Frequency) 영역만 남도록 할 수 있다. 그리고 가우시안 필터 처리된 이미지에 라플라시안 필터를 컨벌루션하여 엣지 영역을 추출하는 단계는, 가우시 안 필터 처리된 이미지에 라플라시안 필터(Laplacian filter)를 이용한 피라미드 업(Pyramid Up) 작업을 수행하 는 단계; 및 고주파 영역만 남도록, 레퍼런스 이미지에서 라플라시안 필터 처리되어 저주파 영역만 남은 이미지 를 뺄셈 연산하는 단계;를 포함할 수 있다. 또한, 제1 픽셀들의 가중평균 및 가중표준편차를 산출하는 단계는, 추출된 레퍼런스 이미지의 엣지 영역에 RoI(Region of Interest)를 추출하기 위한 RoI 마스크를 적용하여 RoI가 아닌 영역을 필터링하는 단계; 및 RoI 마스크로 필터링하고 남은 RoI 영역에 포함된 제1 픽셀들을 대상으로 레퍼런스 이미지의 가중평균 및 가중표준 편차를 산출하는 단계;를 포함할 수 있다. 그리고 RoI가 아닌 영역을 필터링하는 단계는, 레퍼런스 이미지 또는 타겟 이미지가 Window Center와 Window Width에 대한 정보를 포함하는 다이콤(Dicom) 파일 형태로 구현되는 경우, Window Center와 Window Width에 대 한 정보를 이용하여 하위값 및 상위값을 설정하는 단계; 및 설정된 하위값 이하의 픽셀들을 RoI가 아닌 영역으 로 판단하여 필터링하는 단계;를 포함할 수 있다. 또한, RoI가 아닌 영역을 필터링하는 단계는, 레퍼런스 이미지 또는 타겟 이미지가 Window Center와 Window Width에 대한 정보를 포함하지 않는 다이콤 파일 또는 다이콤 파일이 아닌 일반 이미지 파일 형태로 구현되는 경우, 픽셀값의 하위 2퍼센트와 상위 2퍼센트를 각각 하위값 및 상위값으로 설정하는 단계; 하위값 및 상위값 사이의 1/4 지점과 하위값 사이의 픽셀 중 최소값에 해당하는 픽셀을 기준점으로 설정하는 단계; 및 기준점 이 하의 픽셀들을 RoI가 아닌 영역으로 판단하여 필터링하는 단계;를 포함할 수 있다. 그리고 제2 픽셀들의 가중평균 및 가중표준편차를 보정하는 단계는, 산출된 제1 픽셀들의 가중표준편차에 제2 픽셀들의 가중표준편차를 나누어 보정 비율을 산출하는 제1 단계; 제1 픽셀들의 평균 및 편차를 산출하고, 제2 픽셀들의 평균 및 편차를 산출하는 제2 단계; 제2 픽셀들의 편차에 보정 비율을 곱한 뒤, 제1 픽셀들의 가중평 균을 더하는 연산을 수행하여, 제2 픽셀들의 가중평균 및 가중표준편차를 보정하는 제3 단계;를 포함할 수 있다. 또한, 제2 픽셀들의 가중평균 및 가중표준편차를 보정하는 단계는, 산출되는 보정 비율이 1에 수렴할 때까지, 상기 제1 단계 내지 제3 단계를 반복적으로 수행할 수 있다. 그리고 본 발명의 일 실시예에 따른, 다중 주파수 대역의 정규화를 통한 엑스레이 영상의 처리 방법은, 제2 픽 셀들의 가중평균 및 가중표준편차가 보정된 이후, 시스템이 타겟 이미지의 엣지 영역을 대상으로 히스토그램 스 트레칭(Histogram Stretching) 작업을 수행하는 단계;를 더 포함할 수 있다. 또한, 히스토그램 스트레칭 작업을 수행하는 단계는, 히스토그램의 주파수 평균값을 산출하여, 히스토그램의 주 파수 중 산출된 주파수의 평균값 이하에 해당하는 픽셀값들을 필터링하는 단계; 및 산출된 주파수 평균값을 초 과하는 주파수에 해당하는 픽셀값들 중 최소값과 최대값을 산출하여, 산출된 최소값 내지 최대값의 범위를 스트 레칭 범위로 설정하는 단계;를 포함할 수 있다. 한편, 본 발명의 다른 실시예에 따른, 다중 주파수 대역의 정규화를 통한 엑스레이 영상의 처리 시스템은, 레퍼 런스 이미지가 입력되는 통신부; 및 입력되는 레퍼런스 이미지의 엣지(Edge) 영역을 추출하고, 추출된 레퍼런스 이미지의 엣지 영역에 포함되는 제1 픽셀들의 가중평균(Bias) 및 가중표준편차(Energy)를 산출하며, 판독하고자 하는 타겟 이미지의 엣지 영역을 추출하고, 산출된 제1 픽셀들의 가중평균 및 가중표준편차를 기준으로 타겟 이 미지의 엣지 영역에 포함되는 제2 픽셀들의 가중평균 및 가중표준편차를 보정하는 프로세서;를 포함한다."}
{"patent_id": "10-2022-0049702", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "이상 설명한 바와 같이, 본 발명의 실시예들에 따르면, 레퍼런스 이미지의 특징(Edge)을 추출하여, 다른 타겟 영상의 특징에 적용함으로써, 서로 다른 이미지 특성을 갖는 이미지들을 대상으로 동일한 이미지 특성에 맞게 Domain adaptation를 할 수 있으며, 이를 통해, 서로 다른 이미지 특성으로 인하여 인공지능 모델의 의료 영상 판독 성능이 저하되는 것을 방지할 수 있다."}
{"patent_id": "10-2022-0049702", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하에서는 도면을 참조하여 본 발명을 보다 상세하게 설명한다. 도 1은, 본 발명의 일 실시예에 따른 엑스레이 영상의 처리 시스템의 설명에 제공된 도면이다. 본 실시예에 따른 엑스레이 영상의 처리 시스템은, 서로 다른 이미지 특성을 갖는 이미지들을 대상으로 동일한 이미지 특성을 갖는 이미지로 변환시키기 위해, 레퍼런스 이미지의 특징(Edge)을 추출하여, 다른 타겟 영상의 특징에 적용할 수 있다. 이를 위해, 엑스레이 영상의 처리 시스템은, 통신부, 프로세서 및 저장부를 포함할 수 있다. 통신부는, 외부와 유선 또는 무선 네트워크를 통해 데이터를 수집할 수 있다. 예를 들면, 통신부는, 외부 로부터 레퍼런스 이미지 또는 타겟 이미지가 입력될 수 있다. 저장부는, 프로세서가 동작함에 있어 필요한 프로그램 및 데이터를 저장하는 저장매체이다. 프로세서는, 레퍼런스 이미지의 특징(Edge)을 추출하여, 타겟 영상의 특징에 적용할 수 있다. 구체적으로, 프로세서는, 입력되는 레퍼런스 이미지의 엣지(Edge) 영역을 추출하고, 추출된 레퍼런스 이미 지의 엣지 영역에 포함되는 제1 픽셀들의 가중평균(Bias) 및 가중표준편차(Energy)를 산출할 수 있다. 이후, 프로세서는, 판독하고자 하는 타겟 이미지의 엣지 영역을 추출하고, 산출된 제1 픽셀들의 가중평균 및 가중표준편차를 기준으로 타겟 이미지의 엣지 영역에 포함되는 제2 픽셀들의 가중평균 및 가중표준편차를 보 정할 수 있다. 또한, 프로세서는, 레퍼런스 이미지와 타겟 이미지 간의 보정 비율 차이로 인하여 Contrast(명암비) 품질 이 떨어지는 문제를 방지하기 위하여, 제2 픽셀들의 가중평균 및 가중표준편차가 보정된 이후, 시스템이 타겟 이미지의 엣지 영역을 대상으로 히스토그램 스트레칭(Histogram Stretching) 작업을 수행할 수 있다. 도 2는, 본 발명의 일 실시예에 따른 엑스레이 영상의 처리 방법의 설명에 제공된 흐름도이고, 도 3은, 레퍼런 스 이미지, 정규화 전 타겟 이미지와 정규화 후 가중평균 및 가중표준편차가 보정된 타겟 이미지가 예시된 도면 이다. 본 실시예에 따른 엑스레이 영상의 처리 방법은, 도 1을 참조하여 전술한 엑스레이 영상의 처리 시스템에 의해 실행될 수 있다. 본 엑스레이 영상의 처리 방법은, 엑스레이 영상의 처리 시스템을 통해, 입력되는 레퍼런스 이미지의 엣지 (Edge) 영역을 추출하고(S210), 추출된 레퍼런스 이미지의 엣지 영역에 포함되는 제1 픽셀들의 가중평균(Bias) 및 가중표준편차(Energy)를 산출할 수 있다(S220). 가중(산술)평균 값은, 수식 1을 참조하여 산출할 수 있다. (수식 1)"}
{"patent_id": "10-2022-0049702", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": ": i번째 라플라시안 필터 처리된 이미지(도 7의 A-2 내지 E-2에 해당됨) : i번째 RoI 마스크(도 7의 A-3 내지 E-3에 해당됨) : 이미지 개수 i : 1번부터 시작하며, 도 7을 참조하면, 도 7의 A-2는 첫번째 라플라시안 필터 처리된 이미지이고, E-2는 5번 째 첫번째 라플라시안 필터 처리된 이미지에 해당되어, 1~5번까지 이미지에 적용될 수 있다. 이는 한 실시예를 나타낸 것에 불과하며, i 값은, 1 내지 5로 한정되지 아니하고, 프로세싱에 따라 경우에 따라 더 늘어나거나 더 줄어들 수 있다. 가중표준편차 값은, 수식 2를 참조하여 산출할 수 있다. (수식 2)"}
{"patent_id": "10-2022-0049702", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "여기서, 는, 가중평균 값( )과 동일하다. 한편, 엑스레이 영상의 처리 방법은, 시스템이, 판독하고자 하는 타겟 이미지의 엣지 영역을 추출하고(S230), 추출된 제1 픽셀들의 가중평균 및 가중표준편차를 기준으로 타겟 이미지의 엣지 영역에 포함되는 제2 픽셀들의 가중평균 및 가중표준편차를 보정하여 정규화(Normalization)를 수행하고(S240), 이후에, 제2 픽셀들의 가중평 균 및 가중표준편차가 보정된 이후, 시스템이 타겟 이미지의 엣지 영역을 대상으로 히스토그램 스트레칭 (Histogram Stretching) 작업을 수행할 수 있다(S250). 도 4는, 본 발명의 일 실시예에 따른 레퍼런스 이미지의 엣지 영역 추출 과정 및 레퍼런스 이미지의 가중평균 및 가중표준편차 산출 과정의 설명에 제공된 흐름도이고, 도 5 내지 도 7은, 본 발명의 일 실시예에 따른 레퍼 런스 이미지의 엣지 영역 추출 과정의 설명에 제공된 도면이다. 본 엑스레이 영상의 처리 방법은, 레퍼런스 이미지의 엣지 영역을 추출하는 과정에서 레퍼런스 이미지에 LoG(Laplacian of Gaussian) 알고리즘을 적용하여 엣지 영역을 추출할 수 있다. 구체적으로, 엑스레이 영상의 처리 방법은, 레퍼런스 이미지의 엣지 영역 추출 시, 레퍼런스 이미지를 가우시안 필터(Gaussian filter) 처리하고(S410), 이후, 가우시안 필터 처리된 이미지에 라플라시안 필터(Laplacian filter)를 컨벌루션(convolution)하여 엣지 영역을 추출할 수 있다(S420). 그리고, 엑스레이 영상의 처리 방법은, 제1 픽셀들의 가중평균 및 가중표준편차를 산출하는 경우, 추출된 레퍼 런스 이미지의 엣지 영역에 RoI(Region of Interest)를 추출하기 위한 RoI 마스크를 적용하여 RoI가 아닌 영역 을 필터링하고(S430), RoI 마스크로 필터링하고 남은 RoI 영역에 포함된 제1 픽셀들을 대상으로 레퍼런스 이미 지의 가중평균 및 가중표준편차를 산출할 수 있다(S440). 예를 들면, 엑스레이 영상의 처리 방법은, 도 5에 예시된 바와 같이 가우시안 필터 처리하는 경우, 레퍼런스 이 미지에 가우시안 필터를 이용한 피라미드 다운(Pyramid Down) 작업을 수행하며, 레퍼런스 이미지에서 기설정된 임계값 이상의 고주파(High Frequency) 영역을 필터링하여 기설정된 임계값 미만의 저주파(Low Frequency) 영역 만 남도록 할 수 있다. 이때, 가우시안 필터 처리된 이미지는 흐리게(blur) 처리된 이미지를 의미한다. 그리고 엑스레이 영상의 처리 방법은, 가우시안 필터 처리된 이미지에 라플라시안 필터를 컨벌루션하여 엣지 영 역을 추출하는 경우, 가우시안 필터 처리된 이미지에 라플라시안 필터(Laplacian filter)를 이용한 피라미드 업 (Pyramid Up) 작업을 수행할 수 있다. 이후, 엑스레이 영상의 처리 방법은, 도 6에 예시된 바와 같이 레퍼런스 이미지에서 가우시안 필터 처리된 이미 지에 라플라시안 필터(Laplacian filter)를 이용한 피라미드 업(Pyramid Up) 작업을 수행한 이미지(저주파 영역 만 남은 이미지)를 뺄셈 연산하여 고주파 영역만 남도록 할 수 있다. 이를 통해, 엑스레이 영상의 처리 방법은, 제1 픽셀들의 가중평균 및 가중표준편차를 산출하는 경우, 추출된 레 퍼런스 이미지의 엣지 영역을 대상으로 RoI 마스크로 필터링하고, 남은 RoI 영역에 포함된 제1 픽셀들을 대상으 로 레퍼런스 이미지의 가중평균 및 가중표준편차를 산출할 수 있다. 도 7에 도시된 A-1부터 F-1는 서로 다른 배율의 레퍼런스 이미지이다. B-1은 A-1이 가우시안 필터 처리된 이미지이고, C-1은 B-1이 가우시안 필터 처리된 이미지이고, A-2 내지 E-2는 A-1 내지 E-1에서 각각 기설정된 임계값 이상의 고주파(High Frequency) 영역만 남은 이미지이다. 이때, F-1과F-2는 동일한 이미지이다. A-3부터 E-3은, A-1부터 E-1에 각각 적용될 RoI 마스크이다. 이때, 각 RoI 마스크는, RoI가 아닌 영역을 영상 판독에 필요하지 않은 영역으로 판단하여, 필터링되도록 할 수 있다. 도 8은, RoI 마스크를 적용하여 RoI가 아닌 영역을 필터링하는 과정의 설명에 제공된 도면이다. 본 엑스레이 영상의 처리 방법은, 영상의 이진화 알고리즘(Binarization Algorithm)을 이용하여 적절한 Threshold 값을 산출하는데 소요되는 리소스를 절감시키기 위해, RoI 마스크를 적용하여 RoI가 아닌 영역을 필 터링하는 과정이 수행될 수 있다. 예를 들면, 엑스레이 영상의 처리 방법은, 레퍼런스 이미지 또는 타겟 이미지가 Window Center와 Window Width 에 대한 정보를 포함하는 다이콤(Dicom) 파일 형태로 구현되는 경우, Window Center와 Window Width에 대한 정 보를 이용하여 하위값 및 상위값을 설정하고, 설정된 하위값 이하의 픽셀들을 RoI가 아닌 영역(②)으로 판단하 여 필터링할 수 있다. 여기서, 엑스레이 영상의 처리 방법은, RoI가 아닌 영역(②)을 필터링 하는 경우, 레퍼런스 이미지 또는 타겟 이미지(샘플 이미지)에 포함된 문자(①) 역시 필터링하여 제거할 수 있다. 다른 예를 들면, 엑스레이 영상의 처리 방법은, 레퍼런스 이미지 및 타겟 이미지가 Window Center와 Window Width에 대한 정보를 포함하지 않는 다이콤 파일 또는 다이콤 파일이 아닌 일반 이미지 파일 형태로 구현되는 경우, 픽셀값의 하위 2퍼센트와 상위 2퍼센트를 각각 하위값 및 상위값으로 설정하고, 하위값 및 상위값 사이의 1/4 지점과 하위값 사이의 픽셀 중 최소값에 해당하는 픽셀을 기준점으로 설정하며, 기준점 이하의 픽셀들을 RoI가 아닌 영역으로 판단하여 필터링할 수 있다. 여기서, 도 8의 sample은 레퍼런스 이미지 또는 타겟 이미지이며, 도 8의histogram은 sample을 구성하는 각 픽 셀값을 히스토그램으로 나타낸 것이며, 도 8의 histogram_pick은 histogram의 하위값에서 1/4지점까지의 구간을 확대한 모습이 예시된 것이다. 그리고 도 8의 histogram_smooth는 histogram_pick에 나타난 값들을 컨벌루션한 결과가 예시된 것이다. histogram_pick은 최소값을 설정하기 어려움이 있어, 픽셀 영역에서 커널을 컨볼루션하여 histogram_smooth와 같은 결과를 도출할 수 있다. 이때, 커널 길이는 50 내외로 조정될 수 있으며, 커널 길이가 50이면, 1/50 커널을 생성하여 컨볼루션 작업을 수행할 수 있다. 그리고 엑스레이 영상의 처리 방법은, histogram_smooth가 도출되면, 하위값 및 상위값 사이의 1/4 지점과 하위 값 사이의 픽셀 중 최소값에 해당하는 픽셀을 기준점으로 하여 RoI가 아닌 영역으로 판단하여 필터링할 수 있다. 즉, 엑스레이 영상의 처리 방법은, 레퍼런스 이미지 또는 타겟 이미지를 구성하는 각 픽셀들을 히스토그램을 컨 벌루션하고, 컨벌루션 결과를 기반으로 RoI가 아닌 영역으로 판단하여 필터링할 수 있다. 더불어, 엑스레이 영상의 처리 방법은, 레퍼런스 이미지 또는 타겟 이미지(샘플 이미지)에 포함된 문자(①)를 필터링하는 경우, 이미지 전체 픽셀 중 픽셀값이 가장 큰 값(최대값)을 문자 영역(①)으로 판단하여, 필터링할 수 있다. 도 9는, 본 발명의 일 실시예에 따른 가중평균 및 가중표준편차 보정 과정의 설명에 제공된 흐름도이다. 엑스레이 영상의 처리 방법은, 제2 픽셀들의 가중평균 및 가중표준편차를 보정하는 경우에, 산출된 제1 픽셀들 의 가중표준편차에 제2 픽셀들의 가중표준편차를 나누어 보정 비율을 산출하는 제1 단계(S910), 제1 픽셀들의 평균 및 편차를 산출하고, 제2 픽셀들의 평균 및 편차를 산출하는 제2 단계(S920), 제2 픽셀들의 편차에 보정 비율을 곱한 뒤, 제1 픽셀들의 가중평균을 더하는 연산을 수행하여, 제2 픽셀들의 가중평균 및 가중표준편차를 보정하는 제3 단계를 순차적으로 수행할 수 있다(S930). 예를 들면, 제1 픽셀들의 값이 [1, 3, 5, 7, 9]라고 가정하면, 제1 픽셀값의 평균값은 5이고, 제1 픽셀값의 표 준편차는, 2.828이며, 제1 픽셀값의 평균값에서 제1 픽셀값을 뺀 편차값은 [-4, -2, 0, 2, 4]이다. 그리고 제2 픽셀들의 값이 [1, 5, 9, 13, 17]이라고 가정하면, 제2 픽셀값의 평균값은 9이고, 제2 픽셀값의 표 준편차는, 5.656이고, 제2 픽셀값의 평균값에서 제2 픽셀값을 뺀 편차값은 [-8, -4, 0, 4, 8]이다. 따라서, 제1 픽셀들의 가중표준편차에 제2 픽셀들의 가중표준편차를 나누어 계산되는 보정 비율은, 2.828/5.656 이므로 계산하면 0.5이다. ex. 제3 단계 수행 시, [-8, -4, 0, 4, 8] X 0.5 + 5 = [ 1, 3, 5, 7, 9] 이를 통해, 제3 단계 수행 시, 제2 픽셀값을 제1 픽셀값과 동일하도록 보정할 수 있다. 그리고 엑스레이 영상의 처리 방법은, 제2 픽셀들의 가중평균 및 가중표준편차를 보정하는 경우에, 산출되는 보 정 비율이 1이 아닌 경우(S940-NO), 제1 단계 내지 제3 단계를 재차 수행하는 방식으로, 산출되는 보정 비율이 1에 수렴할 때까지, 상기 제1 단계 내지 제3 단계를 반복적으로 수행할 수 있다. 도 10은, 본 발명의 일 실시예에 따른 히스토그램 스트레칭 과정의 설명에 제공된 흐름도이고, 도 11은, 레퍼런 스 이미지와 타겟 이미지 간의 보정 비율 차이로 인하여 Contrast 품질이 떨어지는 문제가 예시된 도면이며, 도 12는, 본 발명의 일 실시예에 따른 히스토그램 스트레칭 과정의 설명에 제공된 도면이다. 엑스레이 영상의 처리 방법은, 레퍼런스 이미지와 타겟 이미지 간의 보정 비율 차이로 인하여 도 11에 예시된 바와 같이 Contrast(명암비) 품질이 떨어지는 문제가 발생할 수 있다. 이를 방지하기 위해, 엑스레이 영상의 처리 방법은, 제2 픽셀들의 가중평균 및 가중표준편차가 보정된 이후, 시 스템이 타겟 이미지의 엣지 영역을 대상으로 히스토그램 스트레칭 작업을 수행할 수 있다. 구체적으로, 엑스레이 영상의 처리 방법은, 히스토그램의 주파수 평균값을 산출하고(S1010), 히스토그램의 주파 수 중 산출된 주파수의 평균값 이하에 해당하는 픽셀값들을 필터링할 수 있다(S1020). 그리고 엑스레이 영상의 처리 방법은, 산출된 주파수 평균값을 초과하는 주파수에 해당하는 픽셀값들 중 최소값 과 최대값을 산출하고(S1030), 산출된 최소값 내지 최대값의 범위를 스트레칭 범위로 설정함으로써, 히스토그램 스트레칭 작업을 수행할 수 있다(S1040). 도 12를 참조하면, 엑스레이 영상의 처리 방법은, 스트레칭 범위를 설정하는 경우, 히스토그램의 주파수 값을 효율적으로 처리하기 위해, 히스토그램의 주파수 중 산출된 주파수의 평균값 이하에 해당하는 픽셀값들을 필터 링하는 것이다. 예를 들면, 엑스레이 영상의 처리 방법은, 히스토그램의 주파수 평균 값이 4이고, 주파수의 픽셀값들이 [2, 3, 1, 5, 6, 7, 8, 9, 4, 3, 2, 2]라고 가정하면, 4 이하인 픽셀값들을 필터링하고, [5, 6, 7, 8, 9]만 남길수 있 다. 이때, 엑스레이 영상의 처리 방법은, 최소값으로 5, 최대값으로 9가 산출되며, 5 내지 9에 해당하는 스트레칭 범위를 설정하여, 히스토그램 스트레칭 작업을 수행할 수 있다. 한편, 본 실시예에 따른 장치와 방법의 기능을 수행하게 하는 컴퓨터 프로그램을 수록한 컴퓨터로 읽을 수 있는 기록매체에도 본 발명의 기술적 사상이 적용될 수 있음은 물론이다. 또한, 본 발명의 다양한 실시예에 따른 기 술적 사상은 컴퓨터로 읽을 수 있는 기록매체에 기록된 컴퓨터로 읽을 수 있는 코드 형태로 구현될 수도 있다. 컴퓨터로 읽을 수 있는 기록매체는 컴퓨터에 의해 읽을 수 있고 데이터를 저장할 수 있는 어떤 데이터 저장 장 치이더라도 가능하다. 예를 들어, 컴퓨터로 읽을 수 있는 기록매체는 ROM, RAM, CD-ROM, 자기 테이프, 플로피 디스크, 광디스크, 하드 디스크 드라이브, 등이 될 수 있음은 물론이다. 또한, 컴퓨터로 읽을 수 있는 기록매체 에 저장된 컴퓨터로 읽을 수 있는 코드 또는 프로그램은 컴퓨터간에 연결된 네트워크를 통해 전송될 수도 있다. 또한, 이상에서는 본 발명의 바람직한 실시예에 대하여 도시하고 설명하였지만, 본 발명은 상술한 특정의 실시"}
{"patent_id": "10-2022-0049702", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "예에 한정되지 아니하며, 청구범위에서 청구하는 본 발명의 요지를 벗어남이 없이 당해 발명이 속하는 기술분야 에서 통상의 지식을 가진자에 의해 다양한 변형실시가 가능한 것은 물론이고, 이러한 변형실시들은 본 발명의 기술적 사상이나 전망으로부터 개별적으로 이해되어져서는 안될 것이다."}
{"patent_id": "10-2022-0049702", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은, 본 발명의 일 실시예에 따른 엑스레이 영상의 처리 시스템의 설명에 제공된 도면, 도 2는, 본 발명의 일 실시예에 따른 엑스레이 영상의 처리 방법의 설명에 제공된 흐름도, 도 3은, 레퍼런스 이미지 및 타겟 이미지가 예시된 도면, 도 4는, 본 발명의 일 실시예에 따른 레퍼런스 이미지의 엣지 영역 추출 과정 및 레퍼런스 이미지의 가중평균 및 가중표준편차 산출 과정의 설명에 제공된 흐름도, 도 5 내지 도 7은, 본 발명의 일 실시예에 따른 레퍼런스 이미지의 엣지 영역 추출 과정의 설명에 제공된 도면, 도 8은, 본 발명의 일 실시예에 따른 RoI 마스크를 적용하여 RoI가 아닌 영역을 필터링하는 과정의 설명에 제공 된 도면, 도 9는, 본 발명의 일 실시예에 따른 가중평균 및 가중표준편차 보정 과정의 설명에 제공된 흐름도, 도 10은, 본 발명의 일 실시예에 따른 히스토그램 스트레칭 과정의 설명에 제공된 흐름도, 도 11은, 레퍼런스 이미지와 타겟 이미지 간의 보정 비율 차이로 인하여 Contrast 품질이 떨어지는 문제가 예시 된 도면, 그리고 도 12는, 본 발명의 일 실시예에 따른 히스토그램 스트레칭 과정의 설명에 제공된 도면이다."}
