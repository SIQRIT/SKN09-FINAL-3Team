{"patent_id": "10-2023-0148502", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0079148", "출원번호": "10-2023-0148502", "발명의 명칭": "3차원 메쉬모델 압축시스템 및 방법", "출원인": "한국전자기술연구원", "발명자": "김성제"}}
{"patent_id": "10-2023-0148502", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "3차원 메쉬모델에 대한 기하정보 및 텍스처정보를 입력받는 입력부;상기 3차원 메쉬모델을 복수개의 세그먼트으로 분할하는 모델분할부;상기 각각의 세그먼트에 대해 기하정보를 압축하여 부분압축스트림을 생성하는 세그먼트압축부;상기 부분압축스트림을 병합하여 분할압축포맷을 생성하는 스트림병합부를 포함하여 구성되는 3차원 메쉬모델압축시스템."}
{"patent_id": "10-2023-0148502", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 모델분할부는 모델의 특징점을 이용하여 기하정보를 복수개의 세그먼트으로 분할하고, 세그먼트의 크기를비교하여 각 세그먼트의 크기가 일정 범위에 들어오도록 복수의 세그먼트를 병합하거나 분리하는 것을 특징으로하는 3차원 메쉬모델 압축시스템."}
{"patent_id": "10-2023-0148502", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 분할압축포맷은 프레임헤더, 복수의 부분압축스트림 및 텍스처압축맵을 포함하는 것을 특징으로 하는 3차원 메쉬모델 압축시스템."}
{"patent_id": "10-2023-0148502", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,상기 프레임헤더는 상기 부분압축스트림 및 텍스처압축맵의 유무에 따라 변경되는 프레임타입, 부분압축스트림의 개수를 나타내는 세그먼트넘버, 분할영역간의 상대적인 거리를 나타내는 세그먼트엔트리포인트 및 텍스처압축맵의 시작지점을 나타내는 텍스처엔트리포인트를 포함하는 것을 특징으로 하는 3차원 메쉬모델 압축시스템."}
{"patent_id": "10-2023-0148502", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서,상기 세그먼트압축부는 각 세그먼트에 대해 개별적으로 스레드를 생성하여 병렬적으로 압축을 수행하는 것을 특징으로 하는 3차원 메쉬모델 압축시스템."}
{"patent_id": "10-2023-0148502", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 단일 파일포맷으로 3차원 메쉬모델을 관리할 수 있는 3차원 메쉬모델 압축시스템 및 방법에 관한 것이다. 이를 위하여, 본 발명은, 3차원 메쉬모델에 대한 기하정보 및 텍스처정보를 입력받는 입력부; 상기 3차원 메 쉬모델을 복수개의 세그먼트으로 분할하는 모델분할부; 상기 각각의 세그먼트에 대해 기하정보를 압축하여 부분 압축스트림을 생성하는 세그먼트압축부; 상기 부분압축스트림을 병합하여 분할압축포맷을 생성하는 스트림병합부 를 포함하여 구성되는 3차원 메쉬모델 압축시스템을 제공한다. 따라서, 본 발명에 의하면, 다중 파일로 구성되는 3차원 메쉬 모델을 각 속성에 맞는 최적 기술로 압축하고, 하 나의 파일로 병합하여 하나의 파일 포맷으로 관리할 수 있으며, 빠른 속도로 압축을 수행하고 대역폭을 절감하며 저장공간을 확보할 수 있는 이점이 있다."}
{"patent_id": "10-2023-0148502", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 3차원 메쉬모델 압축시스템 및 방법에 관한 것이며, 구체적으로 단일 파일포맷으로 3차원 메쉬모델을 관리할 수 있는 3차원 메쉬모델 압축시스템 및 방법에 관한 것이다."}
{"patent_id": "10-2023-0148502", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "3차원 메쉬 모델을 위한 파일 포맷은 ply, obj, stl 등을 학계 또는 산업계에서 많이 사용하고 있다. 3차원 메 쉬 모델의 기하학적 정보와 컬러 정보를 단일 파일에 담기도 하나, 사람의 눈에 민감한 컬러 정보를 더욱 정교 하게 표현하기 위해, 컬러 정보만을 따로 분리해서 여러 개의 파일로 나눠 구성하게 하기도 한다. 여기서 컬러 정보만을 따로 분리한 파일을 텍스쳐 맵(texture map)이라고 하며, 텍스쳐 맵이 별도의 파일로 관 리되기 때문에 텍스쳐 맵의 위치한 경로를 기하학적 정보만을 따로 표기한 파일에 따로 담게 된다. 이러한 이유로 3차원 메쉬 모델을 두 개 이상의 파일로 구성하게 되는 경우가 있고, 3차원 메쉬 모델이 늘어나 게 되면 관리가 어렵다는 한계점을 가진다. 종래기술인 공개특허 제10-2021-0096285호에 의하면, 3차원 오브젝트를 나타내는 메쉬 컨텐트를 압축하는 방법 은, 메쉬 컨텐트는 3차원 오브젝트의 꼭짓점(vertex) 정보, 꼭짓점을 연결하여 형성되는 면(face) 정보, 및 면 의 색상에 대한 텍스처 정보를 포함하고, 방법은, 꼭짓점 사이의 간격을 변경하여 스케일 팩터(scale factor)를 획득하고, 변환 꼭짓점(scaled vertex) 을 생성하는 단계; 변환 꼭짓점 사이를 포인트로 채워 메쉬 포인트 클라 우드를 생성하는 단계; 메쉬 포인트 클라우드로부터 지오메트리 영상을 획득하는 단계; 텍스처 정보에 기초하여 텍스처 영상을 획득하는 단계; 변환 꼭짓점을 점유 맵(occupancy map)에 표시하는 단계; 면 정보를 스케일 팩터 또는 점유 맵 중 적어도 하나에 기초하여 변환하는 단계; 및 지오메트리 영상, 텍스처 영상, 점유 맵 및 변환된 면 정보를 V-PCC(video based point cloud compression) 인코더로 압축하여 비트스트림을 생성하는 단계;를 포 함한다. 하지만, 종래기술은 3차원 모델정보를 빠르게 압축하거나 압축해제하는데 한계가 있고, 3차원 메쉬 모델의 품질 에 따라서 기하학적 정보와 텍스쳐 맵의 데이터 량이 커지기 때문에 이를 해결하기 위한 압축 기술과 상기 언급 한 연계한 포맷 기술이 필요하다."}
{"patent_id": "10-2023-0148502", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 상기한 문제점을 해결하기 위한 것이며, 다중 파일로 구성되는 3차원 메쉬 모델을 각 속성에 맞는 최 적 기술로 압축하고, 하나의 파일로 병합하는 포맷 기술을 제공하기 위한 것이다. 또한, 빠른 속도로 압축을 수행하고 대역폭을 절감하며 저장공간을 확보하기 위한 것이다."}
{"patent_id": "10-2023-0148502", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기한 목적을 달성하기 위항 본 발명은, 3차원 메쉬모델에 대한 기하정보 및 텍스처정보를 입력받는 입력부; 상기 3차원 메쉬모델을 복수개의 세그먼트으로 분할하는 모델분할부; 상기 각각의 세그먼트에 대해 기하정보를 압축하여 부분압축스트림을 생성하는 세그먼트압축부; 상기 부분압축스트림을 병합하여 분할압축포맷을 생성하 는 스트림병합부를 포함하여 구성되는 3차원 메쉬모델 압축시스템을 제공한다. 상기 모델분할부는 모델의 특징점을 이용하여 기하정보를 복수개의 세그먼트으로 분할하고, 세그먼트의 크기를 비교하여 각 세그먼트의 크기가 일정 범위에 들어오도록 복수의 세그먼트를 병합하거나 분리하는 것이 바람직하 다. 상기 분할압축포맷은 프레임헤더, 복수의 부분압축스트림 및 텍스처압축맵을 포함할 수 있다. 여기서, 상기 프레임헤더는 상기 부분압축스트림 및 텍스처압축맵의 유무에 따라 변경되는 프레임타입, 부분압 축스트림의 개수를 나타내는 세그먼트넘버, 분할영역간의 상대적인 거리를 나타내는 세그먼트엔트리포인트 및 텍스처압축맵의 시작지점을 나타내는 텍스처엔트리포인트를 포함하는 것이 바람직하다. 또한, 상기 세그먼트압축부는 각 세그먼트에 대해 개별적으로 스레드를 생성하여 병렬적으로 압축을 수행하는 것이 바람직하다."}
{"patent_id": "10-2023-0148502", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 의하면, 다중 파일로 구성되는 3차원 메쉬 모델을 각 속성에 맞는 최적 기술로 압축하고, 하나의 파 일로 병합하여 하나의 파일 포맷으로 관리할 수 있으며, 빠른 속도로 압축을 수행하고 대역폭을 절감하며 저장공간을 확보할 수 있는 이점이 있다."}
{"patent_id": "10-2023-0148502", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명에 의한 구체적인 실시예의 구성 및 작용에 대하여 도면을 참조하여 상세하게 설명한다. 도 1을 참조하면, 본 발명에 의한 3차원 메쉬모델 압축시스템은 입력부, 모델분할부, 세그먼트 압축부, 스트림병합부를 포함하여 구성된다. 상기 입력부는 3차원 메쉬모델에 대한 기하정보 및 텍스처정보를 외부단말 또는 데이터베이스를 통해 입력 받는다. 도 2를 참조하면, 상기 기하정보는 정점의 좌표정보, 노말정보, 텍스처좌표 및 세 개의 정점간의 연결정보를 포 함한다. 또한, 텍스처정보는 상기 텍스처좌표에 대응하는 색상정보를 포함한다. 3차원 메쉬모델은 다면체인 3차원모델의 표면 형상을 구성하는 메시(mesh) 및 색상정보를 포함할 수 있고 메시 는 정점의 위치 및 연결정보를 포함하는 기하정보(Geometry information)에 의해 표현될 수 있다. 예를 들어, 도 2에서 정점 V1은 3차원 공간 상의 위치를 나타내는 좌표정보 (x1,y1,z1)과 노말정보 (n1,n1,n1), 텍스쳐 맵 상에 대응되는 좌표 위치인 (u1,v1)를 가지고 있으며, 3차원 메쉬 모델의 연결정보는 세 개의 정점이 연결된 삼각형 모양을 가지며 연결정보 F1은 (V1, V3, V7)로 구성된다. 그리고 이 삼각형은 도 2에서 텍스쳐 맵 의 파란색으로 표기한 부분에 대응된다. 입력부에 의해 입력된 3차원 메쉬모델은 모델분할부에 의해 복수의 세그먼트으로 분할된다. 이때, 상기 모델분할부에서는 별도로 설정된 분할지점에 의해 3차원 메쉬모델을 분할하거나, 특징점을 이 용하여 3차원 메쉬모델을 분할할 수 있다. 또한, 모델분할부는 인공지능 모델에 의해 객체를 분류하는 객체인식부를 통해 3차원 메쉬모델을 분 할할 수 있다. 상기 객체인식부에 구비되는 인공지능 모델은 학습을 통해 사람, 개, 고양이 등의 객체의 종류를 분류할 뿐만 아니라, 각 객체의 부위를 구분하는 기능이 포함될 수 있으며, 예를 들어, 도 3을 참조하면, 인공지능 모델은 객체가 사람으로 인식된 경우 머리, 팔, 몸통, 다리 등으로 구분할 수 있다. 모델분할부에 의해 분할된 각 세그먼트에는 대응하는 기하정보가 분할되어 저장되며, 모델분할부에서는 각 세그 먼트의 크기를 검출한다. 상기 세그먼트의 크기는 대응하는 기하정보의 크기가 될 수 있다. 모델분할부에서는 검출된 각 세그먼트의 크기에 대해 평균값을 산출하여 평균값보다 설정범위 이상으로 작거나 큰 세그먼트에 대해 서로 병합하거나 분리하여 새로운 2차세그먼트를 생성함으로써 각 세그먼트의 크기가 일정 범위에 들어오도록 할 수 있다. 예를 들어, 도 3에서 머리와 팔에 해당하는 세그먼트는 평균값보다 설정범위 이상으로 작으므로 모델분할부에서 는 머리와 팔에 해당하는 세그먼트를 병합하여 새로운 2차세그먼트으로 생성한다. 한편, 상기 모델분할부에서는 각 세그먼트에 순차적으로 일련번호를 생성하여 세그먼트넘버로 저장하고, 분할된 부분의 위치정보를 분할위치정보로 저장할 수 있다. 상기 위치정보는 정점의 좌표 또는 연결정보가 될 수 있다. 또한, 각 세그먼트에서 정점의 좌표는 분할된 부분 중 임의의 정점의 좌표를 기준으로 하여 상대적인 좌표로 변 환된다. 예를 들어, 세그먼트넘버 1과 세그먼트 2의 분할된 부분 중 하나의 정점의 좌표가 (30, 50, 10)이라면세그먼트 2에 속하는 정점 (55, 20, 60)은 상대좌표 (55-30, 20-50, 60-10), 즉 (25, -30, 50)으로 변환된다. 상기 세그먼트압축부에서는 각각의 세그먼트에 대해 대응하는 기하정보를 압축하여 부분압축스트림을 생성 한다. 상기 기하정보는 3차원 메쉬모델의 정점에 대한 좌표정보, 노말정보, 연결정보를 포함할 수 있다. 구체적으로, 도 4를 참조하면, 상기 세그먼트압축부는 복셀화부, 좌표정보분할부, 좌표정보인코 딩부, 연결정보재매핑부 및 연결정보인코딩부를 포함할 수 있다. 상기 복셀화부에서는 정점의 좌표가 일정범위의 정수값을 가지도록 양자화한다. 이 때, 3차원 메쉬모델의 기하정보에 포함된 정점의 개수가 감소할 수 있는데 정점의 개수가 감소하면 정점을 연결한 연결정보도 변경될 수 있다. 변경된 연결정보는 연결정보 재맵핑부에서 갱신된다. 도 5를 참조하면, 좌표정보분할부에서는 기하정보를 효율적으로 표현하기 위해 3차원 공간을 반복적으로 8 분할(Octree decomposition)하고 분할된 공간 안에 정점이 있는 지 없는지를 0과 1로 표현한다. 일 실시예에 따른 옥트리 분할은 처음에 L0 레벨에서 수행되고 L0 레벨에서는 3개의 정점이 함께 존재하는 6번 공간만 1 값을 가지고 나머지 공간은 0 값을 가지도록 표현된다. L1 레벨에서는 L0 레벨의 6번 공간에 대해서만 옥트리 분할이 수행되고 L1 레벨에서 2개의 정점이 함께 존재하는 1번 공간 및 1개의 정점이 존재하는 7번 공간 만 1 값을 가지고 나머지 공간은 0 값을 가지도록 표현된다. L1 레벨까지 표현하기 위한 데이터 비트는 00000100 01000001과 같다. L2 레벨에서도 공간 분할을 하여 정점이 포함된 공간을 세분화할 수 있지만 LoD(Level of Details) 값이 1로 설 정되어 있으므로 L1 레벨까지만 표현될 수 있다. 따라서, L2 레벨에 대한 정밀도는 포기하게 되므로 정점의 좌 표가 양자화(Quantization)될 수 있다. 구체적으로, 3개의 정점 중 두 개의 정점의 좌표는 L1 레벨의 1번 공간의 중점의 좌표로 설정될 수 있고 나머지 한 개의 정점의 좌표는 L1 레벨의 7번 공간의 중점의 좌표로 설정될 수 있다. 상기 좌표정보인코딩부에서는 기하정보를 산술부호화(arithmetic coding)나 huffman,asymmetric numeral systems 등의 엔트로피 코딩 기법을 이용하여 기하정보 압축을 수행할 수 있다. 상기 연결정보재매핑부에서는 복셀화부 또는 좌표정보분할부에서 수행된 양자화에 의해 다른 정 점으로 변경되거나 다른 정점과 병합되거나 소멸된 정점과 연관된 연결정보를 갱신한다. 즉, 기하정보의 압축과 정에서 정점이 다른 정점으로 변경되면 해당하는 정점을 연결정보에서 갱신하고 중복하여 존재하거나 불성립하 게 된 면을 연결정보에서 삭제하여 연결정보를 갱신할 수 있다. 상기 연결정보인코딩부는 MPEG의 표준기술인 엣지브레이커(Edgebreaker) 방식 등을 이용하여 재매핑된 연 결정보를 인코딩할 수 있다. 한편, 상기 세그먼트압축부에서는 각 세그먼트에 대해 개별적으로 프로세스 또는 스레드(thread)를 추가적 으로 생성하여 병렬적으로 압축을 수행할 수 있다. 예를 들어, 세그먼트압축부에서는 세그먼트넘버 순서대 로 스레드를 위한 스택을 생성하며, 각 스레드들은 메모리를 공유하게 된다. 또한, 각 스레드에서 부분압축스트 림이 생성된 후에는 해당 스레드는 종료된다. 상기 스트림병합부에서는 복수의 부분압축스트림을 병합하여 분할압축포맷을 생성한다. 도 6을 참조하면, 상기 분할압축포맷은 프레임헤더, 복수의 부분압축스트림 및 텍스처압축맵을 포함한다. 상기 프레임헤더는 부분압축스트림 및 텍스처압축맵의 유무에 따라 변경되는 프레임타입, 부분압축스트림의 개 수를 나타내는 세그먼트넘버, 분할영역간의 상대적인 거리를 나타내는 세그먼트엔트리포인트, 텍스처압축맵의 시작지점을 나타내는 텍스처엔트리포인트 및 텍스처압축타입을 포함한다. 예를 들어, 상기 프레임타입은 1바이트로 구성될 수 있으며, 부분압축스트림만 있는 경우 0x00, 텍스처압축맵만 있는 경우 0x01, 부분압축스트림 및 텍스처압축맵 둘 다 있는 경우 0x02로 구성될 수 있다. 또한, 상기 세그먼트엔트리포인트는 각 부분압축스트림의 크기를 바이트로 나타낸 것이며, 상기 텍스처엔트리포 인트는 모든 부분압축스트림을 합친 크기를 바이트로 나타낸 것일 수 있다. 상기 텍스처압축타입은 JPEG, PNG, AVIC, HEIC 등 텍스처맵의 압축방법을 바이트로 나타낸 것이다. 예를 들어, JPEG는 0x00, PNG는 0x01, AVIC은 0x02 등으로 나타낼 수 있다.상기에서는 본 발명의 실시예들을 참조하여 설명하였지만, 해당 기술 분야에서 통상의 지식을 가진 자라면 하기 의 특허 청구범위에 기재된 본 발명의 사상 및 영역으로부터 벗어나지 않는 범위 내에서 본 발명을 다양하게 수 정 및 변경시킬 수 있음을 이해할 수 있을 것이다."}
{"patent_id": "10-2023-0148502", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명에 의한 3차원 메쉬모델 압축시스템의 구성을 나타내기 위한 구성도; 도 2는 3차원 메쉬모델의 구조를 설명하기 위한 설명도; 도 3은 본 발명에 의한 3차원 메쉬모델의 분할압축구조를 나타내는 예시도; 도 4는 도 1에서 세그먼트압축부의 구성을 나타내기 위한 구성도; 도 5는 좌표정보분할부에 의한 공간분할방법을 설명하기 위한 설명도; 도 6은 본 발명에 의한 분할압축포맷 구조를 나타내는 예시도."}
