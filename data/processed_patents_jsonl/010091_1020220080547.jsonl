{"patent_id": "10-2022-0080547", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0003389", "출원번호": "10-2022-0080547", "발명의 명칭": "챗봇 시스템의 키워드 기반 랭킹 알고리즘을 이용한 의도 분류 방법", "출원인": "주식회사 클라이온", "발명자": "박윤지"}}
{"patent_id": "10-2022-0080547", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "챗봇 시스템에서 입력 발화문에 대한 응답 생성을 위한 문자열의 의도 분류 방법에 있어서,(a) 사용자 단말에서 수신받은 입력된 발화문 데이터를 전처리하는 단계;(b) 전처리된 상기 발화문 데이터를 TF-IDF 기반 알고리즘을 이용하여 수치정보로 벡터화하는 단계;(c) 상기 벡터화된 발화문 데이터를 상기 챗봇 서버 DB에 미리 등록하여 저장된 의도별 예상 발화문 및 답변 쌍데이터와 유사도를 산출하여 최대값을 생성하는 단계; 및(d) 생성된 최대값 유사도의 예상 발화문에 대응되는 미리 저장된 답변 데이터를 추출하는 단계를 포함하는 것을 특징으로 하는 키워드 기반 랭킹 알고리즘을 이용한 의도 분류 방법."}
{"patent_id": "10-2022-0080547", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 (a) 단계는,(a1) 사용자 단말에서 수신 받은 입력된 발화문 데이터를 형태소 분석 방법으로 토큰화하는 단계; 및(a2) 상기 토크화된 발화문 데이터 중 미리 설정된 유의미한 토큰만을 선별하는 불용어 처리 단계를 포함하는것을 특징으로 하는 키워드 기반 랭킹 알고리즘을 이용한 의도 분류 방법."}
{"patent_id": "10-2022-0080547", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 (b) 단계에서,상기 TF-IDF 기반 알고리즘은 BM25 알고리즘인 것을 특징으로 하는 키워드 기반 랭킹 알고리즘을 이용한 의도분류 방법."}
{"patent_id": "10-2022-0080547", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 (c) 단계는,(c1) 상기 챗봇 서버가 질의하는 의도, 상기 의도에 알맞는 예상 발화문 및 상기 예상 발화문에 대응되는 답변을 포함하는 다수개의 예상 발화문 데이터를 벡터화한 의도별 예상 발화문 및 답변 쌍 데이터를 상기 챗봇 DB에미리 저장하는 단계; 및(c2) 상기 (b) 단계에서 벡터화된 발화문 데이터와 상기 미리 저장된 의도별 예상 발화문 및 답변 쌍 데이터의유사도를 산출하여 최대값을 생성하는 단계를 포함하는 것을 특징으로 하는 키워드 기반 랭킹 알고리즘을 이용한 의도 분류 방법."}
{"patent_id": "10-2022-0080547", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서,상기 (c1) 단계는,상기 챗봇 서버에 의도, 예상 발화문 및 답변 정보를 입력하는 단계;상기 입력된 예상 발화문 데이터를 형태소 분석 및 불용어 처리를 포함하여 전처리하는 단계;전처리된 예상 발화문 데이터를 의도별 예상 발화문 묶음으로 그룹화하여 의도별 예상 발화문 및 답변 쌍 데이공개특허 10-2024-0003389-3-터를 형성하는 단계;상기 의도별 예상 발화문 및 답변 쌍 데이터를 BM25 알고리즘을 이용하여 벡터화하는 단계; 및상기 벡터화된 의도별 예상 발화문 및 답변 쌍 데이터를 상기 챗봇 DB에 미리 저장하는 단계를 포함하는 것을특징으로 하는 키워드 기반 랭킹 알고리즘을 이용한 의도 분류 방법."}
{"patent_id": "10-2022-0080547", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에 있어서,상기 유사도를 산출하는 식은,여기서, score(D,Q)는 벡터화된 예상 발화문(D)과 사용자의 질의문 또는 발화문(Q)의 유사도를 의미하고,f(qi,D): 문서 내 단어 빈도수, k1:단어 포화도, b: 문서 길이에 따른 영향도, |D|: 문서의 길이, avgdl: 문서들의 평균 길이)와 같은 식을 만족하는 것을 특징으로 하는 키워드 기반 랭킹 알고리즘을 이용한 의도 분류 방법."}
{"patent_id": "10-2022-0080547", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제1항에 있어서,상기 (d) 단계에서 추출된 답변 데이터와, 추출된 답변 데이터에 대한 사용자의 응답 정보를 평가하여 의도별예상 발화문 묶음 정보에 추가할 것인지를 판단하고, 상기 챗봇 DB에 저장하여 업데이트 하는 단계를 더 포함하는 것을 특징으로 하는 키워드 기반 랭킹 알고리즘을 이용한 의도 분류 방법."}
{"patent_id": "10-2022-0080547", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "하드웨어와 결합되어 청구항 1 내지 청구항 7의 키워드 기반 랭킹 알고리즘을 이용한 의도 분류 방법을 실행시키기 위한 컴퓨터가 판독 가능한 매체에 저장된 컴퓨터프로그램."}
{"patent_id": "10-2022-0080547", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "챗봇 시스템의 키워드 기반 랭킹 알고리즘을 이용한 의도 분류 방법이 개시된다. 챗봇 시스템에서 입력 발화문에 대한 응답 생성을 위한 문자열의 의도 분류 방법은 (a) 사용자 단말에서 수신받은 입력된 발화문 데이터를 전처 리하는 단계; (b) 전처리된 상기 발화문 데이터를 TF-IDF 기반 알고리즘을 이용하여 수치정보로 벡터화하는 (뒷면에 계속)"}
{"patent_id": "10-2022-0080547", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 챗봇 시스템의 의도 분류 방법에 관한 것으로, 보다 상세하게는 사용자 입력 문장의 의도를 파악하는 단계의 성능을 향상시킬 수 있는 키워드 기반 랭킹 알고리즘을 이용한 의도 분류 방법에 관한 것이다."}
{"patent_id": "10-2022-0080547", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "최근 인공지능 기술의 발달과 보급으로, 인간의 개입 없이 사용자와 컴퓨터 시스템 간의 대화를 수행할 수 있는 대화 시스템 또는 챗봇이 널리 보급되고 있는 추세이다. 특히 챗봇은 사용자가 별도의 웹사이트나 애플리케이션을 통하지 않고, 메신저 등을 이용하여 간편하게 질의하 고 그에 대한 답변을 받을 수 있다는 점에서 널리 사용되고 있다. 이와 같은 챗봇은 전화나 웹사이트를 통해 고객의 상담에 대응하는 작업을 자동화하는데 주로 활용되고 있고, 이 경우 사용자의 질문 의도를 정확하게 이해하고 그에 맞는 답변을 제공하는 것이 주요한 목표가 된다. 즉, 고객 상담을 위한 챗봇은 불특정 다수를 대상으로 한 상담에 주로 활용되고 있으며, 개인별 특성에 따른 답 변을 고려하지 않고 예상되는 질문/응답의 쌍들을 미리 저장해 두고 기계학습이나 패턴 매칭을 통해 사용자의 질문에 가장 가까운 질문/응답 쌍을 추출하여 답변을 제공하는 방법을 이용하고 있다. 종래의 챗봇은 사용자의 특성이나 주변상황을 이해하고 그에 맞는 답변이나 서비스를 제공하는데 어려움을 겪고 있다. 그 이유는, 의도 분류 모델이 간단하게 구성되어 있기 때문이다.즉 종래기술은 단일 의도 분류 모델을 사용하여, 해당 모델에서만 질의사항에 대한 답변을 처리하도록 구현되어 있기에, 모든 사용자의 모든 질문에 대해 답변을 제공하기 어려운 측면이 있었다. 실제로 종래기술에 따르면 사용자의 질의에 대해서 단일 의도 분류 모델 내에서 답변을 찾고 적절한 답변을 찾 지 못한 경우 유사한 답변을 제공하거나(그렇지만 이러한 답변은 정답이 아닐 확률이 매우 높다), 사람이 해당 답변을 처리하도록 하여 챗봇이 제대로 활용되지 못하는 문제점이 있었다. 대한민국 공개특허공보 10-2019-0005586 에서는 챗봇을 이용한 고객 의도 분류 방법에 관한 발명을 개시하고 있 는데, 사용자가 단어를 포함하는 입력 문장을 수신하는 단계; 보험 상품 추천 의도 그룹의 대표 문장과의 의미 유사도에 기초하여 분석값을 연산하는 단계; 유사도가 미리 설정된 기준값 이상인 경우 보험 상품 추천 의도 그 룹으로 분류하는 단계; 분류된 보험 상품 의도 그룹에서 입력된 문장의 의도와 매칭하여 추천 보험 상품을 선정 하는 단계; 선정된 추천 보험 상품의 선택 사항을 생성하고 사용자 단말로 전송하는 단계를 포함한다. 이와 같은 종래의 공개특허 발명은 사용자가 입력한 문장과 의도 그룹 대표 문장과의 유사도를 판단하여 추천 보험 상품을 제공하는 방법을 제공하고 있지만, 의미 유사도에 기초하기 때문에 유사도 판단의 정확성을 담보할 수 없고, 판단 대상이 되는 의도 그룹 대표 문장 수집하기가 어렵다는 점에서 챗봇의 신뢰성 및 효용성의 떨어 진다는 문제점이 있다."}
{"patent_id": "10-2022-0080547", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "상술한 문제를 해결하고자 하는 본 발명의 과제는, 인공지능 챗봇의 구성 중 사용자 입력 문장의 의도를 파악하 는 단계의 성능을 향상시킬 수 있는 챗봇 시스템의 의도 분류 방법을 제공하고, 사용자 의도에 알맞은 챗봇 시 스템의 답변 정확도를 크게 향상시킬 수 있는 방법을 제공하고자 함이다. 본 발명의 다른 목적들은 이하에 서술되는 바람직한 실시예를 통하여 보다 명확해질 것이다."}
{"patent_id": "10-2022-0080547", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 일 측면에 따르면, 챗봇 시스템에서 입력 발화문에 대한 응답 생성을 위한 문자열의 의도 분류 방법 은 (a) 사용자 단말에서 수신받은 입력된 발화문 데이터를 전처리하는 단계; (b) 전처리된 상기 발화문 데이터 를 TF-IDF 기반 알고리즘을 이용하여 수치정보로 벡터화하는 단계; (c) 상기 벡터화된 발화문 데이터를 상기 챗 봇 서버 DB에 미리 등록하여 저장된 의도별 예상 발화문 및 답변 쌍 데이터와 유사도를 산출하여 최대값을 생성 하는 단계; 및 (d) 생성된 최대값 유사도의 예상 발화문에 대응되는 미리 저장된 답변 데이터를 추출하는 단계 를 포함한다. 여기서, 상기 (a) 단계는, (a1) 사용자 단말에서 수신받은 입력된 발화문 데이터를 형태소 분석 방법으로 토큰 화하는 단계; 및 (a2) 상기 토크화된 발화문 데이터 중 미리 설정된 유의미한 토큰만을 선별하는 불용어 처리 단계를 포함할 수 있고, 상기 (b) 단계에서, 상기 TF-IDF 기반 알고리즘은 BM25 알고리즘인 것일 수 있다. 또한, 상기 (c) 단계는, (c1) 상기 챗봇 서버가 질의하는 의도, 상기 의도에 알맞는 예상 발화문 및 상기 예상 발화문에 대응되는 답변을 포함하는 다수개의 예상 발화문 데이터를 벡터화한 의도별 예상 발화문 및 답변 쌍 데이터를 상기 챗봇 DB에 미리 저장하는 단계; 및 (c2) 상기 (b) 단계에서 벡터화된 발화문 데이터와 상기 미리 저장된 의도별 예상 발화문 및 답변 쌍 데이터의 유사도를 산출하여 최대값을 생성하는 단계를 포함할 수 있다. 또한, 상기 (c1) 단계는, 상기 챗봇 서버에 의도, 예상 발화문 및 답변 정보를 입력하는 단계; 상기 입력된 예 상 발화문 데이터를 형태소 분석 및 불용어 처리를 포함하여 전처리하는 단계; 전처리된 예상 발화문 데이터를 의도별 예상 발화문 묶음으로 그룹화하여 의도별 예상 발화문 및 답변 쌍 데이터를 형성하는 단계; 상기 의도별 예상 발화문 및 답변 쌍 데이터를 BM25 알고리즘을 이용하여 벡터화하는 단계; 및 상기 벡터화된 의도별 예상 발화문 및 답변 쌍 데이터를 상기 챗봇 DB에 미리 저장하는 단계를 포함할 수 있다. 여기서, 상기 유사도를 산출하는 식은,"}
{"patent_id": "10-2022-0080547", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 2, "content": "(여기서, score(D,Q)는 벡터화된 예상 발화문(D)과 사용자의 질의문 또는 발화문(Q)의 유사도를 의미하고, f(qi,D): 문서 내 단어 빈도수, k1:단어 포화도, b: 문서 길이에 따른 영향도, |D|: 문서의 길이, avgdl: 문서 들의 평균 길이)와 같은 식을 만족하는 것일 수 있다. 또한, 상기 (d) 단계에서 추출된 답변 데이터와, 추출된 답변 데이터에 대한 사용자의 응답 정보를 평가하여 의 도별 예상 발화문 묶음 정보에 추가할 것인지를 판단하고, 상기 챗봇 DB에 저장하여 업데이트 하는 단계를 더 포함하는 것일 수 있다. 또한, 본 발명의 다른 측면에 따르면, 하드웨어와 결합되어 상술한 키워드 기반 랭킹 알고리즘을 이용한 의도 분류 방법을 실행시키기 위한 컴퓨터가 판독 가능한 매체에 저장된 컴퓨터프로그램이 제공될 수 있다."}
{"patent_id": "10-2022-0080547", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명은 사용자가 입력한 발화문을 형태소 분석 및 불용어 처리 등의 전처리 후, TF-IDF 기반 알고리즘을 이 용한 벡터화 하여 챗봇 운영자에 의해 미리 저장된 의도별로 예상 발화문과 답변이 분류된 데이터와 유사도 판 단하여 유사도 값이 최대값이 되는 답변을 도출함으로써, 키워드기반 랭킹 알고리즘(BM25)를 챗봇 의도 분류 시 스템에 접목하여, 인공지능 챗봇의 구성 중 사용자 입력 문장의 의도를 파악하는 단계의 성능을 향상시킬 수 있 는 챗봇 시스템의 의도 분류 방법을 제공할 수 있다. 또한, 본 발명은 수많은 사용자의 질의 및 응답 과정의 챗봇 데이터가 다시 예상 발화문 데이터로 평가하여 저 장함으로써, 유사도 판단의 기초가 되는 데이터를 업데이트하여 사용자 의도에 알맞는 챗봇 시스템의 답변 정확 도를 크게 향상시킬 수 있다."}
{"patent_id": "10-2022-0080547", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하에서 본 발명의 바람직한 실시예를 도면을 참조하여 상세히 설명하기로 한다. 본 발명의 실시예의 설명에 사용되는 용어에 관해 정의하기로 한다. 본 발명에서 사용되는 용어 중 사용자 단말, 챗봇 서버 등은 각각 컴퓨터 또는 서버 컴퓨터로 구성될 수 있다. 또한, 본 발명의 실시예에 따른 키워드 기반 랭킹 알고리즘을 이용한 의도 분류 방법에 사용하는 각종 컴퓨팅 장치, 컴퓨터 및 단말, 또는 \"~부\", '~ 모듈\" 은 하드웨어 자체 구성일 수 있고, 그 하드웨어 자원을 활용하는 컴퓨터 프로그램, 웹프로그램 또는 클라우드 컴퓨팅 프로그램의 구성일 수 있다. 예를 들면 본 발명의 키워드 기반 랭킹 알고리즘을 이용한 의도 분류 방법에 적용되는 챗봇 시스템의 구성은 각 컴퓨터에 포함된 하드웨어의 구성으로 이루어질 수 있고, 각 컴퓨터의 하드웨어 자원을 활용하여 실행되는 컴퓨터 프로그램, 웹프로그램 또 는 클라우드 컴퓨팅 프로그램으로 이루어질 수 있다. 또한, 본 발명의 실시예에서 \"실시간~\"의 용어는 동시에 또는 데이터 처리 및 송수신 시간 동안 지체된 시간이 포함된 의미로 사용될 수 있다. 또한, 본 발명의 실시예에서 사용되는 용어 중 소프트웨어, 애플리케이션, 프로 젝트는 동일한 의미로 사용할 수 있고, 각각 독립된 의미로 사용될 수도 있다. 또한, 본 발명의 실시예에서 각 컴퓨터, 각 시스템 또는 단말 등의 각 구성요소들을 분리하여 도시하고 설명한 것은 본 발명의 실시예의 설명의 편의를 위한 것으로서, 그에 한정되는 것이 아니고 일부 구성이 타 구성에 포 함되어 있을 수 있고, 또한 하나의 구성이 더 분리되어 있을 수 있다."}
{"patent_id": "10-2022-0080547", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "이상에서 설명한 용어 및 용어들의 열거 등은 하나의 예시에 불과하고, 이 기술분야의 통상의 기술자가 예측 가 능한 다양한 용어 및 열거되지 않은 요소 등을 당연히 포함할 수 있다.도 1은 본 발명의 실시예에 따른 키워드 챗봇 시스템의 키워드 기반 랭킹 알고리즘을 이용한 의도 분류 방법의 상세 흐름을 나타낸 도면이고, 도 2는 본 발명의 실시예에 따른 키워드 기반 랭킹 알고리즘을 이용한 의도 분류 방법을 적용하는 챗봇 시스템의 블록 구성을 도시한 도면이다. 도 1에 도시된 바와 같이, 본 발명의 실시예에 따른 키워드 기반 랭킹 알고리즘을 이용한 의도 분류 방법은, 챗 봇 시스템에서 입력 발화문에 대한 응답 생성을 위한 문자열의 의도 분류 방법에 있어서, (a) 사용자 단말(10 0)에서 수신받은 입력된 발화문 데이터를 전처리하는 단계(S100); (b) 전처리된 상기 발화문 데이터를 TF-IDF 기반 알고리즘을 이용하여 수치정보로 벡터화하는 단계(S200); (c) 상기 벡터화된 발화문 데이터를 상기 챗봇 서버 DB에 미리 등록하여 저장된 의도별 예상 발화문 및 답변 쌍 데이터와 유사도를 산출하여 최대값을 생 성하는 단계(S300); 및 (d) 생성된 최대값 유사도의 예상 발화문에 대응되는 미리 저장된 답변 데이터를 추출하 는 단계(S400)를 포함한다. 이와 같이, 본 발명의 실시예에 따른 챗봇 시스템의 키워드 기반 랭킹 알고리즘을 이용한 의도 분류 방법은, 사 용자가 입력한 발화문을 형태소 분석 및 불용어 처리 등의 전처리 후, TF-IDF 기반 알고리즘을 이용해 벡터화하 여 챗봇 운영자에 의해 미리 저장된 의도별 예상 발화문 및 답변 쌍 데이터와 전처리된 사용자의 입력 데이터와 유사도를 판단하여 그 값이 최대값이 되는 답변을 도출함으로써, 키워드기반 랭킹 알고리즘(BM25)를 챗봇 의도 분류 시스템에 접목하여, 인공지능 챗봇의 구성 중 사용자 입력 문장의 의도를 파악하는 단계의 성능을 향상시 킬 수 있는 챗봇 시스템의 의도 분류 방법을 제공한다. 먼저 도 2를 참조하여 본 발명의 실시예에 따른 키워드 챗봇 시스템의 키워드 기반 랭킹 알고리즘을 이용한 의 도 분류 방법이 적용되는 챗봇 시스템의 구성을 살펴보면, 사용자 단말과 챗봇 서비스를 실행하는 챗봇 서 버가 인터넷으로 연결되는 구성으로, 챗봇 사용자가 사용자 단말을 통해 해당 서비스와 관련된 질의 문을 입력하면, 챗봇 서버에서 이에 대한 답변을 도출하여 사용자 단말로 전송하여 표시하는 서비스 를 실행한다. 사용자 단말은 미리 설치된 챗봇 애플리케이션 프로그램의 UI를 통해 사용자의 질의문 또는 발화문을 입력 하는 질의 입력부와 챗봇 서버로부터 도출된 발화문에 대한 답변을 출력하여 발화문과 답변을 출력하 는 챗봇 출력부를 포하하여 구성될 수 있다. 그리고, 챗봇 서버는, 사용자 단말에서 입력된 사 용자 발화문을 수신받아 인공지능 자연어 처리(NLP)를 위한 전처리 수행하는 발화문 전처리부와, 전처리된 발화문 데이터를 수치화하는 벡터화부, 벡터화된 데이터를 미리 저장된 의도별 예상 발화문 및 답변 쌍 데 이터와 유사도 산출식을 통해 유사도를 산출하고 해당 유사도들 중에서 가장 큰 값인 최대값을 산출하는 유사도 판단부와, 유사도 판단부에서 산출된 유사도 최대값에 해당하는 예상 발화문의 답변을 도출하는 답변 도출부를 포함하여 구성될 수 있다. 답변 도출부에서 도출된 답변은 사용자 단말로 전송되어 사 용자 질의에 대한 응답 또는 답변으로 표시할 수 있다. 여기서 사용자 단말은, 본 발명의 실시예에 따른 키워드 기반 랭킹 알고리즘을 이용한 의도 분류 방법을 적용하는 챗봇 앱 또는 웹 애플리케이션 프로그램이 설치 및 실행 가능하고, 인터넷 등의 네트워크로 유선 또는 무선 통신이 가능한 컴퓨팅 장치로, PC, 노트북 등의 데스크 탑 장치일 수 있고, 스마트폰, 테블릿 PC 등의 모 바일 기기일 수 있다. 또한, 챗봇 서버는 인터넷 등의 네트워크를 통해 유선 또는 무선 통신이 가능하고, 대용량 데이터를 저장할 수 있는 데이터베이스(DB)를 구비하며, 대용량 데이터 연산 또는 병렬 연산 처리가 가 능한 컴퓨팅 장치일 수 있다. 이하에서, 본 발명의 실시예에 따른 키워드 기반 랭킹 알고리즘을 이용한 의도 분류 방법을 단계별로 도면을 참 조하여 상세히 설명한다. 도 1에 도시된 바와 같이, (a) 단계(S100)는 사용자 단말에서 수신받은 입력된 발화문 데이터를 전처리하 는 단계로서, 챗봇 사용자가 사용자 단말을 통해 입력한 발화문을 챗봇 서버가 수신 받아 전처리부에 서 형태소 분석 및 불용어 처리하는 NLP 기반의 데이터 전처리 단계이다. 챗봇 의도 분류 방법은 사전에 정의한 의도와, 해당 의도로 분류될 수 있는 사용자 예상 발화문 및 그 의도에 대한 답변을 사전에 구성하게 되며 이는 아래의 [표 1] 및 [표 2]와 같다.표 1 의도 사용자 예상 발화문 1 상담사 연결 상담원 연결은 어떻게 하나요? 2 상담사 연결 상담원과 통화 하고싶어요 3 가격정책 가격 정책을 알려주세요 4 가격정책 가격 정책이 어떻게 되나요? 표 2 의도 답변 1 상담사 연결 A' 2 가격정책 B' 즉, (a) 단계(S100)에서 사용자 단말을 통해 사용자가 입력한 질의 또는 발화 문장의 의도를 파악하기에 앞서 자연어 전처리 과정을 거치는데, (a) 단계는 (a1) 사용자 단말에서 수신 받은 입력된 발화문 데이터 를 형태소 분석 방법으로 토큰화하는 단계; 및 (a2) 상기 토크화된 발화문 데이터 중 미리 설정된 유의미한 토 큰만을 선별하는 불용어 처리 단계를 포함할 수 있다. 즉, (a1) 단계는 형태소 분석 단계로서, 예를 들어 “상담원 연결은 어떻게 하죠?” 라는 문장을 형태소 분석기 를 통해 형태소 분석을 진행할 경우, [(상담원/NNG), (연결/NNG), (은/JX), (어떻게/MAG), (하/VV), (죠/EF), (?/SF)]와 같은 문장의 각 형태소 별로 분류되는 결과가 나올 수 있다. 이와 같은 형태소 분석을 통해 토큰화 (tokenization) 과정을 완료한다. 여기서, 단어 토큰화(word tokenization)란 토큰의 기준을 단어로 하는 경우를 말하며, 단어(word)는 단어 단위 외에도 단어구 및 의미를 갖는 문자열로도 간주되기도 한다. 이와 같은 토큰화 과정은 구두점이나 특수문자를 제거하여 형태소별 단어로 구분하여 나타내는 작업을 말한다. 형태소 분석을 통한 토큰화가 완료되면, 전처리 과정의 두번째로는 불용어 처리 단계를 거친다. 불용어 처리란 불필요한 토큰은 제거해 유의미한 토큰만을 선별하는 과정이다. 한글의 경우 형태소의 특성상 토큰화를 진행한 후 조사, 접속사 그리고 필요에 따라 명사나 형용사 중에서 불필요한 단어를 제거하기도 한다. 형태소란 의미의 기능을 부여하는 언어의 형태론적 수준에서의 최소단위를 의미하는 것으로, 형태소 분석기 알 고리즘을 이용하여 입력된 발화문을 각 형태소별로 분류하여 나타낼 수 있다. 다음의 [표 3]은 형태소별 약자와 그 의미를 나타내는 표이다. 표 3 NNG 일반 명사 IC 감탄사 ETM 관형형 전성 어미 NNP 고유 명사 JKS 주격 조사 XPN 체언 접두사 NNB 의존 명사 JKC 보격 조사 XSN 명사 파생 접미사 NNBC단위를 나타내는 명사JKG 관형격 조사 XSV 동사 파생 접미사 NR 수사 JKO 목적격 조사 XSA형용사 파생 접미사 NP 대명사 JKB 부사격 조사 XR 어근 VV 동사 JKV 호격 조사 SF마침표, 물음표, 느낌표 VA 형용사 JKQ 인용격 조사 SE 줄임표 VX 보조 용언 JX 보조사 SSO 여는 괄호 VCP 긍정 지정사 JC 접속 조사 SSC 닫는 괄호 VCN 부정 지정사 EP 선어말 어미 SC 구분자 MM 관형사 EF 종결 어미 SL 외국어 MAG 일반 부사 EC 연결 어미 SH 한자 MAJ 접속 부사 ETN 명사형 전성 어미 SN 숫자(a2) 단계는 토크화된 발화문 데이터 중 미리 설정된 유의미한 토큰만을 선별하는 불용어(stopword) 처리 단계 로서, 큰 의미가 없는 단어 토큰을 제거하는 작업을 의미한다. 예를들어 불용어 처리 이전 이/VCP, 있/VA, 하/VV, 것/NNB, 은/JX 과 같은 불용어 사전을 만들고, 형태소 분석 기를 통해 토큰화된 시퀀스에서 대응되는 불용어를 제거한다. 즉, 불용어 처리 전, [(상담원/NNG), (연결/NNG), (은/JX), (어떻게/MAG), (하/VV), (죠/EF), (?/SF)]라는 예 시에서, 불용어 처리 후, [(상담원/NNG), (연결/NNG), (어떻게/MAG), (죠/EF), (?/SF)]라고 결과를 나타낼 수 있다. 이처럼 한국어의 경우, 토큰회된 발화문 데이터에서 조사, 접속사 등을 제거하는 처리 과정을 거치게 되 는데, 단순히 조사 및 접속사를 제거하는 경우 이외에 명사, 형용사 등의 단어 중에서도 불용어로 제거하고 싶 은 경우에는 필요에 따라 사용자가 직접 불용어 사전을 정의하여, 불용어를 제거할 수 있다. (b) 단계(S200)는, 전처리된 상기 발화문 데이터를 TF-IDF 기반 알고리즘을 이용하여 수치정보로 벡터화하는 단 계로서, TF-IDF 기반 알고리즘은 BM25 알고리즘을 사용하는 것이 바람직하다. 즉, (b) 단계에서는, 전처리가 완료된 후 사용자 의도 파악을 위해 질문에 대한 벡터화를 진행하며, 벡터화 진 행시에는 띄어쓰기를 구분자로 하여 예상 발화문들을 의도별로 하나의 문장으로 묶고, BM25 알고리즘을 사용해 벡터화한다. 여기서 벡터화는 단어를 수치화하는 프로세스로, 문장의 토큰 하나의 값만 1이고 나머지는 0으로 표현하는 벡터 화(One-Hot Encoding) 방식일 수 있고, 벡터의 차원이 단어 집합의 크기가 아닌 모든 단어의 벡터표현을 사용자 가 설정한 벡터의 차원으로 맞추는 방식으로 실수값으로 나타내는 방식일 수 있다. 본 발명의 실시예에서는 벡터화 과정에서 밀집 표현(Dense Representation) 방법의 하나로 TF-IDF(Term Frequency- inverse Document Frequency) 방법을 사용하는데, 특정 단어가 문서 내에서 얼마나 자주 등장하는 지(TF: 단어빈도) 여부로 표현하는 방법이다. 본 발명의 실시예에 적용되는 BM25 알고리즘은 TF-IDF에 기반한 알고리즘으로, 역문서 빈도 값(IDF)과 가중치를 조절한 단어 빈도값(TF)의 계산으로 점수를 산출한다. 즉, IDF 값은 여러 문서에 자주 등장하는 단어의 경우 중요하지 않은 단어로 계산되도록하는 알고리즘이다. 챗 봇 운영자가 예상 발화문으로 등록하는 문장들에는 의도 분류에 상관 관계가 높은 단어가 반복적으로 작성되는 게 일반적이며, 이는 여러 문서에 자주 등장하는 형태로 구성되어 IDF 값이 낮아지는 결과를 초래한다. 해당 문 제를 해결하기 위해 하나의 문서에서 주요 단어가 여러 번 등장하는 형태로 같은 의도의 예상 발화문을 묶어준 다. 다음의 [수학식 1]은 IDF 수식을 나타내고 [표 4] 내지 [표 8] 상술한 본 발명의 실시예에 적용되는 벡터화 과 정을 나타내는 단계적인 행렬의 예시이다. 수학식 1"}
{"patent_id": "10-2022-0080547", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "(여기서, D: 전체 문서 수, df(t): 해당 단어가 등장하는 문서 수) 다음의 [표 4]는 사용자 예상 발화문의 묶음 전 후를 예시한 표이고, [표 5]는 사용자 발화를 묶기 전 단어 문 서 행렬을 나타낸 표이고, [표 6]는 사용자 발화를 묶기 전 IDF 값을 나타내고, [표 7]은 사용자 발화를 하나의 문장으로 묶은 후 단어 문서 행렬을 나타내며, [표 8]은 사용자 발화를 하나의 문장으로 묶은 후 IDF 값을 나타 낸다.표 4 의도 사용자 예상 발화 묶음 전 사용자 예상 발화 묶음 후 상담사 연결 [예상 발화 2문장] 1. “상담원 연결은 어떻게 하나요?” 2. “상담원과 통화 하고싶어요.” 3. “상담원 연결 해주세요.”[예상 발화 1문장] 1. “상담원 연결은 어떻게 하나요? 상담원과 통화 하고싶어요. 상담원 연결 해주세요.” 표 5 상담원 연결 어떻게 하나요 통화 하고싶어요해주세요 문장11 1 1 1 0 0 0 문장21 0 0 0 1 1 0 문장31 1 0 0 0 0 1 표 6 상담원 연결 어떻게 하나요 통화 하고싶어요해주세요 문장10.134 0.470 0.981 0.981 0 0 0 문장20.134 0 0 0 0.981 0.981 0 문장30.134 0.470 0 0 0 0 0.981 표 7 상담원 연결 어떻게 하나요 통화 하고싶어요해주세요 문장13 2 1 1 1 1 1 표 8 상담원 연결 어떻게 하나요 통화 하고싶어요해주세요 문장10.288 0.288 0.288 0.288 0.288 0.288 0.288 BM25(a.k.a Okapi BM25)는 키워드 기반의 랭킹 알고리즘으로, 주어진 쿼리에 대해 문서와의 연관성을 평가하는 랭킹 함수로 사용되는 알고리즘이다. BM25에서 단어 빈도수(TF)에 따른 수식은 다음의 [수학식 2]에 나타낸다. 수학식 2"}
{"patent_id": "10-2022-0080547", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "(여기서, f(t): 문서 내 단어 빈도 수, k1: 단어 포화도(기본값 1, 2), b: 문서 길이에 따른 영향도(기본값 0.75), |D|: 문서의 길이, avgdl: 문서들의 평균길이) [수학식 2]로 알 수 있듯이, 한 문장 내에서 반복되는 단어가 많을수록 영향도가 큰 것으로 하며, 포화도를 통 해 반복되는 정도가 일정 이상일 경우 더 이상 해당하는 영향력이 커지지 않도록 조절할 수 있다. 계산 예시는 다음의 [표 9] 및 [표 10]에 나타낸다. [표 9]는 사용자 발화를 묶기 전 TF 값을 나타내고, [표 10]은 사용자 발화를 하나의 문장으로 묶은 후 TF 값을 나타낸다. TF 값은 전술한 [수학식 2]에 의해 계산된다. 표 9 상담원 연결 어떻게 하나요 통화 하고싶어요해주세요 문장10.924 0.924 0.924 0.924 0 0 0 문장21.034 0 0 0 1.034 1.034 0 문장31.034 1.034 0 0 0 0 1.034 표 10 상담원 연결 어떻게 하나요 통화 하고싶어요해주세요 문장11.571 1.375 1 1 1 1 1 그리고 나서, 최종적으로 사용자 예상 발화를 하나의 문장으로 묶고 BM25 알고리즘을 통해 벡터화를 한 경우, 반복되는 주요 키워드에 대해 높은 값을 갖도록 벡터화 할 수 있으며, 이에 대한 예시는 다음의 [표 11] 나타낸 바와 같다. [표 11]은 하나의 문장으로 묶은 BM25 알고리즘을 이용한 벡터화 결과를 나타낸다. 표 11 문장 상담원 연결 어떻게 하나요 통화 하고싶어요해주세요 TF 1.571 1.375 1 1 1 1 1 IDF 0.288 0.288 0.288 0.288 0.288 0.288 0.288 TF*IDF0.452 0.396 0.288 0.288 0.288 0.288 0.288 그리고, (c) 단계(S300)는, 벡터화된 발화문 데이터를 상기 챗봇 서버 DB에 미리 등록하여 저장된 의도별 예상 발화문 및 답변 쌍 데이터와 유사도를 산출하여 최대값을 생성하는 단계로서, (c1) 상기 챗봇 서버가 질의하는 의도, 상기 의도에 알맞은 예상 발화문 및 상기 예상 발화문에 대응되는 답변을 포함하는 다수개의 예 상 발화문 데이터를 벡터화하여 상기 챗봇 DB에 미리 저장하는 단계; 및 (c2) 상기 (b) 단계에서 벡터화된 발화문 데이터와 상기 미리 저장된 의도별 예상 발화문 및 답변 쌍 데이터의 유사도를 산출하여 최대값을 생성 하는 단계를 포함할 수 있다.여기서, (c1) 단계는, 도 1에 도시된 바와 같이, 상기 챗봇 서버에 의도, 예상 발화문 및 답변 정보를 입 력하는 단계(S31); 상기 입력된 예상 발화문 데이터를 형태소 분석 및 불용어 처리를 포함하여 전처리하는 단계 (S32); 전처리된 예상 발화문 데이터를 의도별 예상 발화문 묶음으로 그룹화하는 단계(S33); 상기 의도별 발화 문 묶음 정보를 BM25 알고리즘을 이용하여 벡터화하는 단계(S34); 및 상기 벡터화된 예상 발화문 묶음 데이터를 상기 챗봇 DB에 미리 저장하는 단계(S35)를 포함할 수 있다. 여기서 예상 발화문 묶음 데이터는 의도별 예 상 발화문 및 답변 쌍 데이터이다. 이와 같이 (c) 단계(S300)는 챗봇 운영자가 미리 예상할 수 있는 예상 발화문, 의도, 및 답변 정보를 포함하는 다수개 예상 발화문 정보를 입력하고, 입력된 다수개의 발화문 정보를 형태소 분석 및 불용어 처리 등의 전처리 후, 예상 발화문 데이터를 의도별 예상 발화문 묶음으로 그룹화하고, 의도별 묶음 정보를 전술한 BM25 알고리즘 을 이용하여 벡터화하여 챗봇 DB에 미리 저장하고, 저장된 의도별 예상 발화문 및 답변 쌍 데이터를 사용 자가 입력한 발화문 벡터 데이터와 BM25 알고리즘을 이용하여 유사도를 산출하고 산출된 유사도 값 중에서 최대 값을 생성하는 단계이다. 즉, 실제 사용자가 쿼리문을 보냈을 때 이를 동일한 방식으로 토큰화 및 불용어처리를 진행한다 이후 BM25 알고 리즘으로 사용자가 입력한 문장과 챗봇 DB에 저장된 발화문 문장들 간의 유사도를 다음의 [수학식 3]으로 계산하여 계산된 유사도 수치가 높은 순으로 정렬하여 가장 높은 유사도 값(Max: 최대값)을 가진 예상 질의문 또는 발화문의 의도로 사용자의 입력 문장의 의도를 판별한다. 수학식 3"}
{"patent_id": "10-2022-0080547", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "(여기서(D,Q)는 미리 저장된 예상 발화문(D)과 사용자가 입력한 질의문(Q)와의 유사도를 나타내고, IDF(qi)는 쿼리 i번째 토큰에 대한 역문서 빈도(inverse document frequency)를 나타내고, f(qi,D): 문서 내 단어 빈도 수, k1: 단어 포화도(기본값 1, 2), b:문서 길이에 따른 영향도(기본값 0.75), |D|: 문서의 길이, avgdl:문서들 의 평균길이) 그리고, 도 1에 도시된 바와 같이, (d) 단계(S400)는, 생성된 유사도 최대값의 발화문에 대응되는 미리 저장된 답변 데이터를 추출하는 단계로서, 추출된 데이터를 사용자 단말로 전송하여 챗봇 서비스를 실행할 수 있 다. 그리고, (d) 단계(S400)에서 추출된 답변 데이터와, 추출된 답변 데이터에 대한 사용자의 응답 정보를 평가하여 새로운 예상 발화문 벡터 데이터를 생성하고, 생성된 예상 발화문 벡터 데이터를 상기 챗봇 DB에 저장하여 업데이트 하는 단계를 더 포함할 수 있다. 이와 같은 과정은 수많은 사용자의 질의 및 응답 과정의 챗봇 데이터 가 다시 예상 발화문 데이터로 평가하여 저장함으로써, 유사도 판단의 기초가 되는 데이터를 업데이트하여 사용 자 의도에 알맞은 챗봇 시스템의 답변의 정확도를 크게 향상시킬 수 있다. 여기서 챗봇 시스템에 의해 도출된 답변이 사용자가 거부하거나 답변의 적확성 여부를 평가하여 예상 발화문 데이터로 업데이트하는 것이 바람직하 다. 도 3은 본 발명의 실시예에 키워드 챗봇 시스템의 키워드 기반 랭킹 알고리즘을 이용한 의도 분류 방법의 시스 템 구성요소별 상세 흐름을 나타낸 도면이다. 도 3에 도시된 바와 같이, 먼저 사용자 단말을 통해 사용자가 챗봇 서비스에 해당하는 질문인 발화문을 입 력하고, 입력된 발화문은 챗봇 서버의 챗봇 DB로 전송되어 저장되고, 전처리부에서 형태소 분석 및 불용어 처리 등의 전처리 작업을 진행하고, 전처리된 발화문을 벡터화부에서 BM25 알고리즘을 이용해 벡터화한다. 벡터화된 사용자 발화문은 유사도 판단부로 이동하여 BM25 알고리즘을 이용하여 미리 챗봇 DB에 저장 된 의도별 묶음 발화문 정보 또는 의도별 예상 발화문 및 답변 쌍 데이터와 사용자가 입력한 발화문 데이터를 [수학식 3]을 이용하여 유사도를 산출하고, 산출된 유사도 중 가장 최대값(Max)을 생성하여, 답변 도출부 에서 생성된 유사도 최대값에 해당하는 예상 발화문 데이터로부터 사용자의 입력 질의문의 의도를 판별하고, 해 당 답변을 도출할 수 있다. 그리고, 도출된 답변은 사용자가 챗봇 서비스 과정에서 답변을 거부하거나, 재질문 등이 자주 발생하여 답변의 적확성이 떨어진다고 판단되는 경우를 제외하고, 사용자가 입력한 발화문과 함께 의도 및 도출된 답변을 예상 발화문 정보로 챗봇 DB에 저장하여 업데이트할 수 있다. 전술한 본 발명의 실시예에 따른 키워드 기반 랭킹 알고리즘을 이용한 의도 분류 방법은, 단말기에 기본적으로 설치된 애플리케이션(이는 단말기에 기본적으로 탑재된 플랫폼이나 운영체제 등에 포함된 프로그램을 포함할 수 있음)에 의해 실행될 수 있고, 애플리케이션 또는 해당 서비스와 관련된 웹 서버 등의 애플리케이션 제공 서버 를 통해 마스터 단말기에 직접 설치한 애플리케이션(즉, 프로그램)에 의해 실행될 수도 있다. 이러한 의미에서, 전술한 본 발명의 일 실시예에 따른 인증 전자명함 서비스 방법은 단말기에 기본적으로 설치되거나 사용자에 의 해 직접 설치된 애플리케이션(즉, 프로그램)으로 구현되고 단말기에 등의 컴퓨터로 읽을 수 있는 기록매체에 기 록될 수 있다."}
{"patent_id": "10-2022-0080547", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "전술한 본 발명의 설명은 예시를 위한 것이며, 본 발명이 속하는 기술분야의 통상의 지식을 가진 자는 본 발명 의 기술적 사상이나 필수적인 특징을 변경하지 않고서 다른 구체적인 형태로 쉽게 변형이 가능하다는 것을 이해 할 수 있을 것이다. 그러므로 이상에서 기술한 실시예들은 모든 면에서 예시적인 것이며 한정적이 아닌 것으로 이해해야만 한다. 예를 들어, 단일형으로 설명되어 있는 각 구성 요소는 분산되어 실시될 수도 있으며, 마찬가 지로 분산된 것으로 설명되어 있는 구성 요소들도 결합된 형태로 실시될 수 있다. 본 발명의 범위는 상기 상세한 설명보다는 후술하는 특허청구범위에 의하여 나타내어지며, 특허청구범위의 의미 및 범위 그리고 그 균등 개념으로부터 도출되는 모든 변경 또는 변형된 형태가 본 발명의 범위에 포함되는 것으 로 해석되어야 한다."}
{"patent_id": "10-2022-0080547", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 실시예에 따른 키워드 챗봇 시스템의 키워드 기반 랭킹 알고리즘을 이용한 의도 분류 방법의 상세 흐름을 나타낸 도면 도 2는 본 발명의 실시예에 따른 키워드 기반 랭킹 알고리즘을 이용한 의도 분류 방법을 적용하는 챗봇 시스템 의 블록 구성을 도시한 도면 도 3은 본 발명의 실시예에 키워드 챗봇 시스템의 키워드 기반 랭킹 알고리즘을 이용한 의도 분류 방법의 시스 템 구성요소별 상세 흐름을 나타낸 도면"}
