{"patent_id": "10-2020-0054575", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2021-0137280", "출원번호": "10-2020-0054575", "발명의 명칭": "오브젝트 검출 방법 및 장치", "출원인": "고려대학교 산학협력단", "발명자": "김은선"}}
{"patent_id": "10-2020-0054575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "이동 중인 내시경 장치에 의해 제1 및 제2 영상 데이터를 획득하는 단계;상기 내시경 장치의 위치 변화에 따라 발생한 옵티컬 플로우(optical flow)를 추출하는 단계;상기 옵티컬 플로우를 기초로 탐색대상영역을 트래킹하는 단계; 및 트래킹 결과를 기초로 상기 제2 영상 데이터에서 상기 오브젝트를 검출하는 단계를 포함하는 것을 특징으로 하는 오브젝트 검출 방법."}
{"patent_id": "10-2020-0054575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서,상기 제1 및 제2 영상 데이터를 획득하는 단계는,상기 내시경 장치가 상기 오브젝트로부터 기 설정된 기준거리만큼 이격되어 위치한 상태에서 상기 제1 영상 데이터를 획득하는 것을 특징으로 하는 오브젝트 검출 방법."}
{"patent_id": "10-2020-0054575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1 항에 있어서,상기 제1 및 제2 영상 데이터를 획득하는 단계는,상기 내시경 장치가 자동 초점 알고리즘에 따라 상기 제1 영상 데이터를 획득하는 것을 특징으로 하는 오브젝트검출 방법."}
{"patent_id": "10-2020-0054575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 1 항에 있어서,상기 옵티컬 플로우는 상기 복수의 특징점의 벡터로 표시되며,상기 복수의 특징점은 상기 제1 영상 데이터에서 기 설정된 영역 내에 기 설정된 간격으로 설정되는 것을 특징으로 하는 오브젝트 검출 방법."}
{"patent_id": "10-2020-0054575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 1 항에 있어서,상기 트래킹 결과를 기초로 오브젝트를 검출하는 단계는, 트래킹한 탐색대상영역의 위치에 기초하여 상기 제2 영상 데이터 내에서 탐색대상영역의 위치를 조절하고 조절된 탐색대상영역 내에 존재하는 오브젝트를 검출하는 것을 특징으로 하는 오브젝트 검출 방법."}
{"patent_id": "10-2020-0054575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "공개특허 10-2021-0137280-3-제 5 항에 있어서,상기 트래킹 결과를 기초로 오브젝트를 검출하는 단계는,기 학습된 학습모델을 통해 상기 제2 영상 데이터의 탐색대상영역을 입력 받고 상기 탐색대상영역에서 오브젝트의 유무를 자동으로 검출하는 것을 특징으로 하는 오브젝트 검출 방법."}
{"patent_id": "10-2020-0054575", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "내시경 장치가 오브젝트와 기 설정된 기준 거리 또는 임의의 거리만큼 이격되어 위치한 상태에서 획득한 제1 영상 데이터와, 상기 내시경 장치가 타 위치로 이동한 후 획득한 제2 영상 데이터를 입력받는 영상 입력부;상기 제1 및 제2 영상 데이터로부터 상기 내시경 장치의 위치 변화에 따라 발생한 옵티컬 플로우를 추출하는 옵티컬 플로우 추출부; 및추출된 옵티컬 플로우를 이용하여 상기 제2 영상 데이터 내에서 탐색대상영역의 위치를 트래킹하고, 트래킹한탐색대상영역의 위치에 기초하여 제2 영상 데이터 내에서 탐색대상영역의 위치를 조절하며, 상기 탐색대상영역내에 존재하는 오브젝트를 검출하는 오브젝트 검출부를 포함하는 것을 특징으로 하는 오브젝트 검출 장치."}
{"patent_id": "10-2020-0054575", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명의 일 실시예에 따른 오브젝트 검출 방법은, 이동 중인 내시경 장치에 의해 제1 및 제2 영상 데이터를 획 득하는 단계; 상기 내시경 장치의 위치 변화에 따라 발생한 옵티컬 플로우(optical flow)를 추출하는 단계; 상기 옵티컬 플로우를 기초로 탐색대상영역을 트래킹하는 단계; 및 트래킹 결과를 기초로 상기 제2 영상 데이터에서 상기 오브젝트를 검출하는 단계를 포함할 수 있다."}
{"patent_id": "10-2020-0054575", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 출원은 오브젝트 검출 방법 및 장치에 관한 것이다."}
{"patent_id": "10-2020-0054575", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "내시경 장치는 신체 내부를 직접 관찰할 수 있는 의료기구로서, 신체 내부 영상을 촬영하여 신체 내부의 병변 유무를 판별하기 위해 사용한다. 통상적으로 내시경 검사 시에 내시경 장치를 이동시키면서 신체 내부 영상을 실시간으로 촬영하고, 실시간으로 촬영한 영상을 육안으로 관찰하여 병변 유무를 판별한다. 그러나, 이 경우 영상 내에 존재하는 병변 검출의 정확도가 떨어질 수 있으며, 임의의 위치에서 촬영한 영상 내 에 병변이 존재하지 않는 경우 병변을 찾기 위해 내시경 장치의 이동을 반복하면서 내시경 검사 시간이 길어질 수 있다는 한계가 있다."}
{"patent_id": "10-2020-0054575", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "따라서, 당해 기술분야에서는 내시경 검사를 통해 획득한 영상에서 병변 등의 오브젝트를 빠르고 정확하게 검출 하기 위한 방안이 요구되고 있다."}
{"patent_id": "10-2020-0054575", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 과제를 해결하기 위해서, 본 발명의 일 실시예는 오브젝트 검출 방법을 제공한다. 상기 오브젝트 검출 방법은, 이동 중인 내시경 장치에 의해 제1 및 제2 영상 데이터를 획득하는 단계; 상기 내 시경 장치의 위치 변화에 따라 발생한 옵티컬 플로우(optical flow)를 추출하는 단계; 상기 옵티컬 플로우를 기 초로 탐색대상영역을 트래킹하는 단계; 및 트래킹 결과를 기초로 상기 제2 영상 데이터에서 상기 오브젝트를 검 출하는 단계를 포함할 수 있다. 또한, 본 발명의 다른 실시예는 오브젝트 검출 장치를 제공한다. 상기 오브젝트 검출 장치는, 내시경 장치가 오브젝트와 기 설정된 기준 거리 또는 임의의 거리만큼 이격되어 위 치한 상태에서 획득한 제1 영상 데이터와, 상기 내시경 장치가 타 위치로 이동한 후 획득한 제2 영상 데이터를입력받는 영상 입력부; 상기 제1 및 제2 영상 데이터로부터 상기 내시경 장치의 위치 변화에 따라 발생한 옵티 컬 플로우를 추출하는 옵티컬 플로우 추출부; 및 추출된 옵티컬 플로우를 이용하여 상기 제2 영상 데이터 내에 서 탐색대상영역의 위치를 트래킹하고, 트래킹한 탐색대상영역의 위치에 기초하여 제2 영상 데이터 내에서 탐색 대상영역의 위치를 조절하며, 상기 탐색대상영역 내에 존재하는 오브젝트를 검출하는 오브젝트 검출부를 포함할 수 있다. 덧붙여 상기한 과제의 해결수단은, 본 발명의 특징을 모두 열거한 것이 아니다. 본 발명의 다양한 특징과 그에 따른 장점과 효과는 아래의 구체적인 실시형태를 참조하여 보다 상세하게 이해될 수 있을 것이다."}
{"patent_id": "10-2020-0054575", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 일 실시예에 따르면, 내시경 검사를 통해 획득한 영상에서 병변 등의 오브젝트를 빠르고 정확하게 검 출할 수 있다."}
{"patent_id": "10-2020-0054575", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면을 참조하여 본 발명이 속하는 기술분야에서 통상의 지식을 가진 자가 본 발명을 용이하게 실 시할 수 있도록 바람직한 실시예를 상세히 설명한다. 다만, 본 발명의 바람직한 실시예를 상세하게 설명함에 있 어, 관련된 공지 기능 또는 구성에 대한 구체적인 설명이 본 발명의 요지를 불필요하게 흐릴 수 있다고 판단되 는 경우에는 그 상세한 설명을 생략한다. 또한, 유사한 기능 및 작용을 하는 부분에 대해서는 도면 전체에 걸쳐 동일한 부호를 사용한다. 덧붙여, 명세서 전체에서, 어떤 부분이 다른 부분과 '연결'되어 있다고 할 때, 이는 '직접적으로 연결'되어 있 는 경우뿐만 아니라, 그 중간에 다른 소자를 사이에 두고 '간접적으로 연결'되어 있는 경우도 포함한다. 또한, 어떤 구성요소를 '포함'한다는 것은, 특별히 반대되는 기재가 없는 한 다른 구성요소를 제외하는 것이 아니라 다른 구성요소를 더 포함할 수 있다는 것을 의미한다. 도 1은 본 발명의 일 실시예에 따른 오브젝트 검출 방법의 흐름도이다. 도 1을 참조하면, 본 발명의 일 실시예에 따른 오브젝트 검출 방법은, 이동 중인 내시경 장치에 의해 제1 및 제 2 영상 데이터를 획득하는 단계(S110), 내시경 장치의 위치 변화에 따라 발생한 옵티컬 플로우(optical flow)를 추출하는 단계(S120), 옵티컬 플로우를 기초로 탐색대상영역을 트래킹하는 단계(S130) 및 트래킹 결과를 기초로 오브젝트를 검출하는 단계(S140)를 포함할 수 있다. 우선, 이동 중인 내시경 장치에 의해 제1 및 제2 영상 데이터를 획득하는 단계(S110)에서는, 내시경 장치가 대 상 오브젝트와 임의의 거리만큼 이격되어 위치한 상태에서 대상 오브젝트를 포함하는 제1 영상 데이터를 획득하 고, 내시경 장치가 해당 위치에서 타 위치로 이동한 후 대상 오브젝트를 포함하는 제2 영상 데이터를 획득할 수 있다. 일 실시예에 따르면, 내시경 장치는 대상 오브젝트로부터 기 설정된 기준 거리만큼 이격되어 위치한 상태에서 대상 오브젝트를 포함하는 제1 영상 데이터를 획득할 수 있다. 예를 들어, 내시경 카메라의 사양에서 near- focus가 동작하는 거리가 5mm라 가정하면, 내시경 카메라와 대상 오브젝트 사이의 거리에 따라 대상 오브젝트가 흐릿하거나 선명하게 보일 수 있다. 따라서, 이를 이용하여 내시경 카메라가 기 설정된 기준 거리에 위치한 것 을 확인할 수 있으며, 해당 위치에서 대상 오브젝트를 포함하는 제1 영상 데이터를 획득할 수 있다.다른 실시예에 따르면, 내시경 장치는 대상 오브젝트로부터 임의의 거리만큼 이격되어 위치한 상태에서 대상 오 브젝트를 포함하는 제1 영상 데이터를 획득할 수 있다. 이 경우, 내시경 장치는 자동 초점(autofocus) 알고리즘 에 따라 대상 오브젝트를 포함하는 제1 영상 데이터를 획득할 수 있으며, 내시경 장치와 대상 오브젝트 사이의 거리를 거리를 알 수 있다. 이후, 내시경 장치의 위치 변화에 따라 발생한 옵티컬 플로우를 추출하는 단계(S120)에서는, 제1 영상 데이터와 제2 영상 데이터로부터 내시경 장치의 위치 변화에 따라 발생한 옵티컬 플로우를 추출할 수 있다. 여기서, 옵티 컬 플로우란 두 개의 연속된 영상 프레임 사이에서 오브젝트의 가시적인 동작 패턴을 말하는 것으로, 특징점의 벡터로 표시할 수 있다. 도 3a 내지 도 3j는 내시경 장치가 이동하면서 획득한 영상으로부터 옵티컬 플로우를 추출한 예를 도시하는 도 면이다. 구체적으로, 도 3a는 제1 영상 데이터에서 복수의 특징점을 표시한 것으로, 복수의 특징점은 영상 데이터 내에 서 임의의 위치로 결정될 수 있으며, 해당 특징점을 기준으로 탐색대상영역이 결정될 수 있다. 일 예로, 도 3a에 도시된 바와 같이, 영상의 x축 및 y축 상의 1/4 지점 및 3/4 지점을 꼭지점으로 하는 직사각 형 영역 내에서 기 설정된 간격으로 복수의 특징점을 설정할 수 있으며, 이에 따라 복수의 특징점을 포함하는 영역을 탐색대상영역으로 결정할 수 있다. 또한, 도 3a에서는 탐색대상영역 내부에 대상 오브젝트가 포함된 경 우를 도시하였으나, 반드시 이로 제한되는 것은 아니며 영상 내에서 대상 오브젝트의 위치에 무관하게 복수의 특징점 및 이에 따른 탐색대상영역이 결정될 수 있다. 또한, 도 3b 내지 도 3j는 내시경 장치가 임의의 거리에서 오브젝트와 멀어지는 방향으로 이동하면서 연속적으 로 획득한 복수의 영상 데이터에서 옵티컬 플로우를 추출하고 이를 영상 프레임 상에 특징점의 벡터로 표시한 예를 도시하는 것이다. 이후, 옵티컬 플로우를 기초로 탐색대상영역을 트래킹하는 단계(S130)에서는, 특징점의 벡터로 표시되는 옵티컬 플로우를 이용하여 내시경 장치가 이동하면서 획득한 2 이상의 영상 데이터 내에서 탐색대상영역의 위치를 트래 킹할 수 있다. 이후, 트래킹 결과를 기초로 오브젝트를 검출하는 단계(S140)에서는, 트래킹한 탐색대상영역의 위치에 기초하여 제2 영상 데이터 내에서 탐색대상영역의 위치를 조절하고 해당 탐색대상영역 내에 존재하는 오브젝트를 검출할 수 있다. 일 실시예에 따르면, 기 학습된 학습모델을 통해 제2 영상 데이터의 탐색대상영역을 입력 받고 해당 영역에서 오브젝트의 유무를 자동으로 검출할 수 있다. 여기서, 학습모델은 다양한 병변이 존재하는 영상과 이에 대한 병 변 검출 결과를 포함하는 학습 데이터를 이용하여 사전에 학습된 것일 수 있다. 이에 따라, 학습모델은 제2 영 상 데이터의 탐색대상영역을 입력 받아서 해당 영역에 존재하는 병변 등의 오브젝트를 자동으로 인식할 수 있다. 상술한 학습모델은 예를 들어 CNN(Convolutional Neural Network)과 같이 영상 분석에 적합한 딥러닝 모델로 구 현될 수 있다. 딥러닝 모델은 심층 신경망을 이용한 기계학습 방법으로서, 데이터를 입력받는 입력층(input layer)과, 최종 결과값을 출력하는 출력층(output layer), 그리고 입력층과 출력층 사이에 존재하는 복수의 은 닉층(hidden layer)으로 구성되는 심층 신경망을 사용하여 다량의 학습 데이터를 학습할 수 있다. 그러나, 본 발명에서 사용되는 학습모델이 반드시 딥러닝 모델로 제한되는 것은 아니며, 의료 영상 분석에 적합한 인공지능 모델이면 제한 없이 적용 가능하다. 또한, 오브젝트 검출 결과는 검출된 오브젝트에 대해 기 설정된 색상 및/또는 도형(예를 들어, 검출된 오브젝트 를 포함하는 박스 또는 오브젝트의 윤곽선 등)으로 표시하여 검출 결과를 포함하는 영상이 디스플레이 될 수 있 다.도 2는 본 발명의 다른 실시예에 따른 오브젝트 검출 장치의 구성도이다. 도 2를 참조하면, 오브젝트 검출 장치는 영상 입력부, 옵티컬 플로우 추출부 및 오브젝트 검출 부를 포함하여 구성될 수 있으며, 내시경 영상 처리 및 연산이 가능한 프로세싱 장치에 의해 구현될 수 있 다. 영상 입력부는 내시경 장치에 의해 획득한 영상 데이터를 입력받기 위한 것이다. 일 실시예에 따르면, 영상 입력부는 내시경 장치가 대상 오브젝트와 기 설정된 기준 거리 또는 임의의 거 리만큼 이격되어 위치한 상태에서 획득한 제1 영상 데이터와, 내시경 장치가 해당 위치에서 타 위치로 이동한 후 획득한 제2 영상 데이터를 입력받을 수 있다. 옵티컬 플로우 추출부는 영상 입력부를 통해 입력된 영상 데이터로부터 내시경 장치의 위치 변화에 따라 발생한 옵티컬 플로우를 추출하기 위한 것이다. 이를 위해, 옵티컬 플로우 추출부는 제1 영상 데이터에서 임의의 위치로 설정된 복수의 특징점을 기준으로 제1 영상 데이터 및 제2 영상 데이터로부터 특징점의 벡터로 표시된 옵티컬 플로우를 추출할 수 있다. 오브젝트 검출부는 옵티컬 플로우 추출부에 의해 추출된 옵티컬 플로우를 이용하여 제2 영상 데이터 내에서 탐색대상영역의 위치를 트래킹하고, 트래킹한 탐색대상영역의 위치에 기초하여 제2 영상 데이터 내에서 탐색대상영역의 위치를 조절하고 해당 탐색대상영역 내에 존재하는 오브젝트를 검출할 수 있다. 일 실시예에 따르면, 오브젝트 검출부는 기 학습된 학습모델을 통해 제2 영상 데이터의 탐색대상영역을 입 력 받고 해당 영역에서 오브젝트의 유무를 자동으로 검출할 수 있다. 도 2에 도시된 오브젝트 검출 장치의 각 구성요소에 의해 수행되는 상세 기능은 도 1을 참조하여 상술한 바와 동일하므로, 이에 대한 중복적인 설명은 생략한다."}
{"patent_id": "10-2020-0054575", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "본 발명은 전술한 실시예 및 첨부된 도면에 의해 한정되는 것이 아니다. 본 발명이 속하는 기술분야에서 통상의 지식을 가진 자에게 있어, 본 발명의 기술적 사상을 벗어나지 않는 범위 내에서 본 발명에 따른 구성요소를 치 환, 변형 및 변경할 수 있다는 것이 명백할 것이다."}
{"patent_id": "10-2020-0054575", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 오브젝트 검출 방법의 흐름도이다. 도 2는 본 발명의 다른 실시예에 따른 오브젝트 검출 장치의 구성도이다. 도 3a 내지 도 3j는 내시경 장치가 이동하면서 획득한 영상으로부터 옵티컬 플로우를 추출한 예를 도시하는 도 면이다."}
