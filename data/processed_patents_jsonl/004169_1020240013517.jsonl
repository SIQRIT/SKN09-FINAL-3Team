{"patent_id": "10-2024-0013517", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0019187", "출원번호": "10-2024-0013517", "발명의 명칭": "배터리 셀 진단 장치 및 방법", "출원인": "주식회사 엘지에너지솔루션", "발명자": "이순종"}}
{"patent_id": "10-2024-0013517", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "적어도 하나의 센서; 및상기 적어도 하나의 센서로부터 배터리 셀의 전압, 전류 또는 온도 중 적어도 하나를 포함하는 데이터를 획득하고, 상기 획득한 데이터에 기반하여 제1 진단 정보를 획득하고, 상기 데이터를 외부 장치로 송신하고, 상기 데이터에 기반한 상기 배터리 셀의 제2 진단 정보를 상기 외부 장치로부터 수신하고, 상기 제1 진단 정보 또는 상기 제2 진단 정보 중 적어도 하나에 기반하여 상기 배터리 셀의 이상 상태를 진단하도록 구성된 제1 제어부를포함하고,상기 제1 진단 정보 및 상기 제2 진단 정보는 상이한 진단 항목에 대한 정보를 포함하는 배터리 셀 진단 장치."}
{"patent_id": "10-2024-0013517", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 배터리 셀의 진단 정보는,상기 배터리 셀의 리튬 석출 진단, 상기 배터리 셀의 병렬 접속체의 이상 진단, 상기 배터리 셀의 탭 단선 진단또는 상기 배터리 셀의 내부 단락 진단 중 적어도 하나에 대한 정보를 포함하는 배터리 셀 진단 장치."}
{"patent_id": "10-2024-0013517", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 제1 제어부는,상기 배터리 셀의 진단 정보에 기반한 상기 배터리 셀의 이상 상태에 관한 정보를 디스플레이부에 표시하도록구성된 배터리 셀 진단 장치."}
{"patent_id": "10-2024-0013517", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,상기 디스플레이부에 표시되는 상기 배터리 셀의 이상 상태에 관한 정보는, 상기 제1 진단 정보와 관련된 진단결과 또는 상기 제2 진단 정보와 관련된 진단 결과 중 적어도 하나를 포함하는 배터리 셀 진단 장치."}
{"patent_id": "10-2024-0013517", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서, 상기 제1 제어부는, 상기 데이터에 기반하여 상기 배터리 셀의 전압 이상 또는 상기 배터리 셀의 거동 이상 중 적어도 하나를 검출하고, 상기 전압 이상, 상기 거동 이상 또는 상기 제2 진단 정보 중 적어도 하나에 기반하여 상기 배터리 셀의 이상상태를 진단하도록 구성된 배터리 셀 진단 장치.공개특허 10-2024-0019187-3-청구항 6 제5항에 있어서,상기 제1 제어부는,상기 전압 이상, 상기 거동 이상 또는 상기 제2 진단 정보 중 적어도 하나에 기반하여, 상기 배터리 셀의 상기이상 상태의 여부를 나타내는 제3 진단 정보를 생성하도록 구성된 배터리 셀 진단 장치."}
{"patent_id": "10-2024-0013517", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서,상기 제1 제어부는,상기 제3 진단 정보를 디스플레이부에 표시하도록 구성된 배터리 셀 진단 장치."}
{"patent_id": "10-2024-0013517", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제6항에 있어서,상기 제1 제어부는,상기 제3 진단 정보를 상기 배터리 셀이 구비된 장치의 제2 제어부로 송신하도록 구성된 배터리 셀 진단 장치."}
{"patent_id": "10-2024-0013517", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제1항 내지 제8항 중 어느 한 항에 따른 배터리 셀 진단 장치 및 상기 외부 장치를 포함하고,상기 외부 장치는, 상기 데이터의 적어도 일부에 기반하여 상기 제2 진단 정보를 도출하도록 구성된 배터리 셀진단 시스템."}
{"patent_id": "10-2024-0013517", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "배터리 셀의 전압, 전류 또는 온도 중 적어도 하나와 상기 배터리 셀의 셀 전압을 포함하는 데이터에 기반하여제1 진단 정보를 획득하는 단계;상기 데이터를 외부 장치로 송신하고, 상기 데이터에 기반한 상기 배터리 셀의 제2 진단 정보를 상기 외부 장치로부터 수신하는 단계; 및상기 제1 진단 정보 또는 상기 제2 진단 정보 중 적어도 하나에 기반하여 상기 배터리 셀의 이상 상태를 진단하는 단계를 포함하고,상기 제1 진단 정보 및 상기 제2 진단 정보는 상이한 진단 항목에 대한 정보를 포함하는 배터리 셀 진단 방법."}
{"patent_id": "10-2024-0013517", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제10항에 있어서,상기 배터리 셀의 진단 정보는,상기 배터리 셀의 리튬 석출 진단, 상기 배터리 셀의 병렬 접속체의 이상 진단, 상기 배터리 셀의 탭 단선 진단또는 상기 배터리 셀의 내부 단락 진단 중 적어도 하나에 대한 정보를 포함하는 배터리 셀 진단 방법.공개특허 10-2024-0019187-4-청구항 12 제10항에 있어서,상기 배터리 셀의 진단 정보에 기반한 상기 배터리 셀의 이상 상태에 관한 정보를 표시하는 단계를 더 포함하는배터리 셀 진단 방법."}
{"patent_id": "10-2024-0013517", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제12항에 있어서,표시되는 상기 배터리 셀의 이상 상태에 관한 정보는, 상기 제1 진단 정보와 관련된 진단 결과 또는 상기 제2진단 정보와 관련된 진단 결과 중 적어도 하나를 포함하는 배터리 셀 진단 방법."}
{"patent_id": "10-2024-0013517", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제10항에 있어서, 상기 진단하는 단계는,상기 데이터에 기반하여 상기 배터리 셀의 전압 이상 또는 상기 배터리 셀의 거동 이상 중 적어도 하나를 검출하는 단계; 및상기 전압 이상, 상기 거동 이상 또는 상기 제2 진단 정보 중 적어도 하나에 기반하여 상기 배터리 셀의 이상상태를 진단하는 단계를 포함하는 배터리 셀 진단 방법."}
{"patent_id": "10-2024-0013517", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제14항에 있어서,상기 전압 이상, 상기 거동 이상 또는 상기 제2 진단 정보 중 적어도 하나에 기반하여, 상기 배터리 셀의 상기이상 상태의 여부를 나타내는 제3 진단 정보를 생성하는 단계를 더 포함하는 배터리 셀 진단 방법."}
{"patent_id": "10-2024-0013517", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제15항에 있어서,상기 제3 진단 정보를 표시하는 단계를 더 포함하는 배터리 셀 진단 방법."}
{"patent_id": "10-2024-0013517", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제15항에 있어서,상기 배터리 셀의 진단 정보에 기반한 상기 배터리 셀의 이상 상태에 관한 정보를 상기 배터리 셀이 구비된 장치의 제어부로 송신하는 단계를 더 포함하는 배터리 셀 진단 방법."}
{"patent_id": "10-2024-0013517", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명의 일 실시예에 따른 배터리 셀 진단 장치는 적어도 하나의 센서; 및 상기 적어도 하나의 센서로부터 배 터리 셀의 전압, 전류 또는 온도 중 적어도 하나를 포함하는 데이터를 획득하고, 상기 획득한 데이터에 기반하여 제1 진단 정보를 획득하고, 상기 데이터를 외부 장치로 송신하고, 상기 데이터에 기반한 상기 배터리 셀의 제2 진단 정보를 상기 외부 장치로부터 수신하고, 상기 제1 진단 정보 또는 상기 제2 진단 정보 중 적어도 하나에 기 반하여 상기 배터리 셀의 이상 상태를 진단하도록 구성된 제1 제어부를 포함한다."}
{"patent_id": "10-2024-0013517", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 출원은 2022년 05월 26일 자로 출원된 한국 특허 출원번호 제10-2022-0065020, 제10-2022-0065021 및 제10- 2022-0065022에 대한 우선권주장출원으로서, 해당 출원의 명세서 및 도면에 개시된 모든 내용은 인용에 의해 본 출원에 원용된다.본 발명은 배터리 셀 진단 장치 및 방법에 것으로서, 보다 상세하게는 배터리 셀의 상태를 진단할 수 있는 배터 리 셀 진단 장치 및 방법에 관한 것이다."}
{"patent_id": "10-2024-0013517", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "최근, 노트북, 비디오 카메라, 휴대용 전화기 등과 같은 휴대용 전자 제품의 수요가 급격하게 증대되고, 전기 차량, 에너지 저장용 축전지, 로봇, 위성 등의 개발이 본격화됨에 따라, 반복적인 충방전이 가능한 고성능 배터 리에 대한 연구가 활발히 진행되고 있다. 현재 상용화된 배터리로는 니켈 카드뮴 전지, 니켈 수소 전지, 니켈 아연 전지, 리튬 배터리 등이 있는데, 이 중에서 리튬 배터리는 니켈 계열의 배터리에 비해 메모리 효과가 거의 일어나지 않아 충방전이 자유롭고, 자가 방전율이 매우 낮으며 에너지 밀도가 높은 장점으로 각광을 받고 있다. 최근, 고전압이 요구되는 애플리케이션(예, 전기 차량, 에너지 저장 시스템)이 널리 보급됨에 따라, 전기 자동 차나 전력저장시스템(Energy Storage System: ESS)에 사용되는 배터리는 사용 중에 발화하는 경우가 발생하고 있다. 따라서, 배터리 팩 내에 연결된 복수의 배터리 셀의 이상을 정확하게 검출해내는 진단 기술의 필요성이 증대되 고 있다."}
{"patent_id": "10-2024-0013517", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 상기와 같은 문제점을 해결하기 위해 창안된 것으로, 온 보드 진단 장치와 오프 보드 진단 장치를 연 동하여 배터리 셀의 이상 상태를 효율적으로 진단할 수 있는 장치 및 방법 등을 제공하는 것을 목적으로 한다. 본 발명의 다른 목적 및 장점들은 하기의 설명에 의해서 이해될 수 있으며, 본 발명의 실시예에 의해 보다 분명 하게 알게 될 것이다. 또한, 본 발명의 목적 및 장점들은 특허 청구 범위에 나타낸 수단 및 그 조합에 의해 실 현될 수 있음을 쉽게 알 수 있을 것이다."}
{"patent_id": "10-2024-0013517", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 일 측면에 따른 배터리 셀 진단 장치는 적어도 하나의 센서; 및 상기 적어도 하나의 센서로부터 배터 리 셀의 전압, 전류 또는 온도 중 적어도 하나를 포함하는 데이터를 획득하고, 상기 획득한 데이터에 기반하여 제1 진단 정보를 획득하고, 상기 데이터를 외부 장치로 송신하고, 상기 데이터에 기반한 상기 배터리 셀의 제2 진단 정보를 상기 외부 장치로부터 수신하고, 상기 제1 진단 정보 또는 상기 제2 진단 정보 중 적어도 하나에 기반하여 상기 배터리 셀의 이상 상태를 진단하도록 구성된 제1 제어부를 포함할 수 있다. 상기 제1 진단 정보 및 상기 제2 진단 정보는 상이한 진단 항목에 대한 정보를 포함할 수 있다. 상기 배터리 셀의 진단 정보는, 상기 배터리 셀의 리튬 석출 진단, 상기 배터리 셀의 병렬 접속체의 이상 진단, 상기 배터리 셀의 탭 단선 진단 또는 상기 배터리 셀의 내부 단락 진단 중 적어도 하나에 대한 정보를 포함할 수 있다. 상기 제1 제어부는, 상기 배터리 셀의 진단 정보에 기반한 상기 배터리 셀의 이상 상태에 관한 정보를 디스플레 이부에 표시하도록 구성될 수 있다. 상기 디스플레이부에 표시되는 상기 배터리 셀의 이상 상태에 관한 정보는, 상기 제1 진단 정보와 관련된 진단 결과 또는 상기 제2 진단 정보와 관련된 진단 결과 중 적어도 하나를 포함할 수 있다. 상기 제1 제어부는, 상기 데이터에 기반하여 상기 배터리 셀의 전압 이상 또는 상기 배터리 셀의 거동 이상 중 적어도 하나를 검출하고, 상기 전압 이상, 상기 거동 이상 또는 상기 제2 진단 정보 중 적어도 하나에 기반하여 상기 배터리 셀의 이상 상태를 진단하도록 구성될 수 있다. 상기 제1 제어부는, 상기 전압 이상, 상기 거동 이상 또는 상기 제2 진단 정보 중 적어도 하나에 기반하여, 상 기 배터리 셀의 상기 이상 상태의 여부를 나타내는 제3 진단 정보를 생성하도록 구성될 수 있다. 상기 제1 제어부는, 상기 제3 진단 정보를 디스플레이부에 표시하도록 구성될 수 있다. 상기 제1 제어부는, 상기 제3 진단 정보를 상기 배터리 셀이 구비된 장치의 제2 제어부로 송신하도록 구성될 수 있다. 본 발명의 다른 측면에 따른 배터리 셀 진단 시스템은 배터리 셀 진단 장치 및 상기 외부 장치를 포함할 수 있 다. 상기 외부 장치는, 상기 데이터의 적어도 일부에 기반하여 상기 제2 진단 정보를 도출하도록 구성될 수 있다. 본 발명의 또 다른 측면에 따른 배터리 셀 진단 방법은 배터리 셀의 전압, 전류 또는 온도 중 적어도 하나와 상 기 배터리 셀의 셀 전압을 포함하는 데이터에 기반하여 제1 진단 정보를 획득하는 단계; 상기 데이터를 외부 장 치로 송신하고, 상기 데이터에 기반한 상기 배터리 셀의 제2 진단 정보를 상기 외부 장치로부터 수신하는 단계; 및 상기 제1 진단 정보 또는 상기 제2 진단 정보 중 적어도 하나에 기반하여 상기 배터리 셀의 이상 상태를 진 단하는 단계를 포함할 수 있다. 상기 제1 진단 정보 및 상기 제2 진단 정보는 상이한 진단 항목에 대한 정보를 포함할 수 있다. 상기 배터리 셀의 진단 정보는, 상기 배터리 셀의 리튬 석출 진단, 상기 배터리 셀의 병렬 접속체의 이상 진단, 상기 배터리 셀의 탭 단선 진단 또는 상기 배터리 셀의 내부 단락 진단 중 적어도 하나에 대한 정보를 포함할 수 있다. 본 발명의 또 다른 측면에 따른 배터리 셀 진단 방법은 상기 배터리 셀의 진단 정보에 기반한 상기 배터리 셀의 이상 상태에 관한 정보를 표시하는 단계를 더 포함할 수 있다. 표시되는 상기 배터리 셀의 이상 상태에 관한 정보는, 상기 제1 진단 정보와 관련된 진단 결과 또는 상기 제2 진단 정보와 관련된 진단 결과 중 적어도 하나를 포함할 수 있다. 상기 진단하는 단계는, 상기 데이터에 기반하여 상기 배터리 셀의 전압 이상 또는 상기 배터리 셀의 거동 이상 중 적어도 하나를 검출하는 단계; 및 상기 전압 이상, 상기 거동 이상 또는 상기 제2 진단 정보 중 적어도 하나 에 기반하여 상기 배터리 셀의 이상 상태를 진단하는 단계를 포함할 수 있다. 본 발명의 또 다른 측면에 따른 배터리 셀 진단 방법은 상기 전압 이상, 상기 거동 이상 또는 상기 제2 진단 정 보 중 적어도 하나에 기반하여, 상기 배터리 셀의 상기 이상 상태의 여부를 나타내는 제3 진단 정보를 생성하는 단계를 더 포함할 수 있다. 본 발명의 또 다른 측면에 따른 배터리 셀 진단 방법은 상기 제3 진단 정보를 표시하는 단계를 더 포함할 수 있 다. 본 발명의 또 다른 측면에 따른 배터리 셀 진단 방법은 상기 배터리 셀의 진단 정보에 기반한 상기 배터리 셀의 이상 상태에 관한 정보를 상기 배터리 셀이 구비된 장치의 제어부로 송신하는 단계를 더 포함할 수 있다."}
{"patent_id": "10-2024-0013517", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 실시예들 중 적어도 하나에 의하면, 온 보드 장치와 오프 보드 장치를 연동하여 효율적으로 배터리 셀의 이상 상태를 진단할 수 있다. 본 발명의 실시예들 중 적어도 하나에 의하면, 온 보드 장치와 오프 보드 장치를 연동하여 각 배터리 셀의 이상 을 진단하는데 필요한 소프트웨어적 자원과 시간을 절약할 수 있음과 아울러, 복수의 배터리 셀 중 이상 배터리 셀의 개수가 증가함에 따른 오진단의 가능성이 저하될 수 있다. 본 발명의 실시예들 중 적어도 하나에 의하면, 각 배터리 셀의 셀 전압의 장기적 추세와 단기적 추세를 모두 고 려할 수 있어, 해당 배터리 셀의 이상 변화를 정밀하게 검출해낼 수 있다."}
{"patent_id": "10-2024-0013517", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면을 참조하여 본 발명의 바람직한 실시예를 상세히 설명하기로 한다. 이에 앞서, 본 명세서 및 청구범위에 사용된 용어나 단어는 통상적이거나 사전적인 의미로 한정해서 해석되어서는 아니되며, 발명자는 그 자신의 발명을 가장 최선의 방법으로 설명하기 위해 용어의 개념을 적절하게 정의할 수 있다는 원칙에 입각하여 본 발명의 기술적 사상에 부합하는 의미와 개념으로 해석되어야만 한다. 따라서, 본 명세서에 기재된 실시예와 도면에 도시된 구성은 본 발명의 가장 바람직한 일 실시예에 불과할 뿐이 고 본 발명의 기술적 사상에 모두 대변하는 것은 아니므로, 본 출원시점에 있어서 이들을 대체할 수 있는 다양 한 균등물과 변형예들이 있을 수 있음을 이해하여야 한다. 도 1은 배터리 셀 진단 장치를 포함하는 배터리 셀 진단 시스템을 나타내는 예시도이다. 도 1을 참조하면, 배터리 셀 진단 시스템은 배터리 셀 진단 장치 및 외부 장치를 포함하도록 구 성될 수 있다. 다만, 이는 본 발명을 달성하기 위한 바람직한 실시예일 뿐이며, 필요에 따라 일부 구성 요소가 추가되거나 삭제될 수 있음은 물론이다. 도 1에 도시된 배터리 셀 진단 시스템의 각각의 구성 요소들은 기능 적으로 구분되는 기능 요소들을 나타낸 것으로, 복수의 구성 요소가 실제 물리적 환경에서는 서로 통합되는 형 태로 구현될 수도 있음을 유의한다. 배터리 셀 진단 시스템에서, 배터리 셀 진단 장치는 배터리 셀의 이상 상태를 진단하고 진단된 결과를 사용자에게 제공하는 컴퓨팅 장치이다. 배터리 셀 진단 장치는 BMS(Battery management system)에 포함 된 온 보드(On-board) 컴퓨팅 장치를 의미할 수 있다. 예를 들어, 배터리 셀 진단 장치는 사용자의 전기 차에 구비된 BMS에 포함된 컴퓨팅 장치일 수 있다. 이는 예시적인 것으로, 이에 국한되는 것은 아니며 컴퓨팅 기능 및 통신 기능이 구비된 모든 종류의 장치를 포함할 수 있다. 배터리 셀 진단 장치는 배터리 셀의 충전 전류 또는 방전 전류 중 적어도 하나와 배터리 셀의 양단에 걸 친 전압인 셀 전압을 포함하는 데이터를 획득할 수 있다. 예를 들어, 배터리 셀 진단 장치는 배터리 셀 진단 장치가 전기차에 구비된 배터리 셀의 충전 전류, 방전 전류 및 배터리 셀의 양단에 걸친 전압인 셀 전압 중 적어도 하나에 대한 데이터를 획득할 수 있다. 본 발명의 실시예에 따르면, 배터리 셀 진단 장치는 배터리 셀의 데이터를 생성할 수 있다. 데이터는 배 터리 셀의 충전 전류 또는 방전 전류 중 적어도 하나와 배터리 셀의 양단에 걸친 전압인 셀 전압에 관련된 데이터를 포함할 수 있다. 또한, 데이터는 배터리 셀의 온도에 관련된 데이터를 포함할 수 있다. 배터리 셀 진단 장치는 데이터를 외부 장치로 송신할 수 있다. 외부 장치는 데이터를 수신하 고, 수신된 데이터의 적어도 일부에 기반하여 배터리 셀에 대한 제2 진단 정보를 도출할 수 있다. 외부 장치 는 제2 진단 정보를 배터리 셀 진단 장치로 송신할 수 있다. 배터리 셀 진단 장치는 데이터 및 제2 진단 정보에 기반하여 배터리 셀의 이상 상태를 진단할 수 있다. 배터리 셀 진단 시스템에서, 외부 장치는 데이터를 이용하여 생성된 제2 진단 정보를 배터리 셀 진단 장치에 제공하는 오프 보드(Off-board) 컴퓨팅 장치를 의미할 수 있다. 이를 위해, 외부 장치는 다 양한 전기차로부터 배터리 셀의 전압, 전류 또는 온도 등에 대한 정보를 수신하고, 수신된 정보에 기초하여 배 터리 셀을 진단할 수 있는 적어도 하나 이상의 알고리즘을 저장할 수 있다. 또한, 외부 장치는 다양한 전 기차로부터 수신된 배터리 셀의 전압, 전류 또는 온도 등에 대한 정보를 빅 데이터로 저장하고, 빅 데이터에 기 반하여 배터리 셀을 진단할 수 있는 적어도 하나 이상의 인공지능 모델을 저장할 수도 있다. 컴퓨팅 장치는, 노 트북, 데스크톱(desktop), 랩탑(laptop) 등이 될 수 있으나, 이에 국한되는 것은 아니며 컴퓨팅 기능 및 통신 기능이 구비된 모든 종류의 장치를 포함할 수 있다. 다만, 다수의 배터리 셀 진단 장치에게 제2 진단 정 보를 제공하는 경우라면, 외부 장치는 서버 컴퓨팅 장치로 구현되는 것이 바람직할 수 있다. 상기 배터리 셀 진단 시스템의 구성 요소들은 네트워크를 통해 통신할 수 있다. 여기서, 상기 네트워크는 근 거리 통신망(Local Area Network; LAN), 광역 통신망(Wide Area Network; WAN), 이동 통신망(mobile radio communication network), Wibro(Wireless Broadband Internet) 등과 같은 모든 종류의 유/무선 네트워크로 구 현될 수 있다. 지금까지 도 1을 참조하여 본 발명의 일 실시예에 따른 배터리 셀 진단 시스템에 대하여 설명하였다. 이하에 서는 도 2를 참조하여 본 발명의 일 실시예에 따른 배터리 셀 진단 장치에 대해 구체적으로 설명한다. 도 2는 배터리 셀 진단 장치의 기능적 구성을 개략적으로 나타내는 블록도이다. 도 2를 참조하면, 배터리 셀 진단 장치는 전류 측정부, 전압 센싱부, 데이터 획득부, 제1 제어부 및 디스플레 이부를 포함할 수 있다. 배터리 셀 진단 장치는 배터리 셀의 전압, 전류 또는 온도 중 적어도 하나를 포함하는 데이터를 측정하는 적어도 하나의 센서를 포함할 수 있다. 전류 측정부는 배터리 셀의 전류를 측정할 수 있다. 여기에서, 전류는 배터리 셀의 충전 전류 또는 방전 전류 중 적어도 하나가 될 수 있다. 바람직하게, 전류 측정부는 배터리 셀이 충전되는 과정에서 충전 전류를 측정할 수 있다. 그리고, 전류 측 정부는 배터리 셀이 방전되는 과정에서 방전 전류를 측정할 수 있다. 전압 센싱부는 배터리 셀의 셀 전압을 센싱하도록 구성될 수 있다. 예컨대, 전압 센싱부는 배터리 셀 의 양단에 걸친 전압인 셀 전압을 나타내는 전압 신호를 센싱할 수 있다. 이에 대하여는 도 3을 참조하여 자세 히 후술하도록 한다. 데이터 획득부는 전류 측정부 및 전압 센싱부로부터 데이터를 취득할 수 있다. 일 실시예에서, 제1 제어부는 데이터 획득부가 취득한 데이터를 기초로, 배터리 셀의 데이터를 획득 할 수 있다. 예컨대, 데이터는 배터리 셀의 충전 전류 또는 방전 전류 중 적어도 하나에 대한 전류 정보, 배터 리 셀의 셀 전압에 대한 전압 정보 또는 배터리 셀의 온도에 대한 온도 정보 중 적어도 하나를 포함할 수 있다. 다른 실시예에서, 제1 제어부는 전류 측정부로부터 배터리 셀에 대한 전류 정보를 직접 획득하고, 전 압 센싱부로부터 배터리 셀에 대한 전압 정보를 직접 획득할 수도 있다. 제1 제어부는 획득한 데이터에 기반하여 제1 진단 정보를 획득할 수 있다. 제1 제어부는 획득한 데이터를 외부 장치에 송신하도록 구성될 수 있다. 그리고, 제1 제어부는 데이터에 기반하여 획득된 배터리 셀의 진단 정보를 포함하는 제2 진단 정보를 외부 장치로부터 수신할 수 있다. 구체적으로, 제2 진단 정보는 외부 장치가 데이터에 기반하여 생성하는 배터리 셀의 진단 정보이다. 예컨 대, 배터리 셀의 진단 정보는 배터리 셀의 리튬 석출 진단, 배터리 셀의 병렬 접속체의 이상 진단, 배터리 셀의탭 단선 진단 또는 배터리 셀의 내부 단락 진단 중 적어도 하나에 대한 정보를 포함할 수 있다. 제1 제어부는 제1 진단 정보 또는 제2 진단 정보 중 적어도 하나에 기반하여 배터리 셀의 이상 상태를 진 단하도록 구성될 수 있다. 구체적으로, 제1 제어부는 데이터에 기반하여 배터리 셀의 전압 이상 또는 배터리 셀의 거동 이상 중 적어 도 하나를 검출할 수 있다. 즉, 제1 제어부는 데이터에 기반하여 제1 진단 정보(전압 이상 또는 거동 이상 중 적어도 하나에 관한 정보)를 획득할 수 있다. 그리고, 제1 제어부는 전압 이상, 거동 이상 또는 제2 진 단 정보 중 적어도 하나에 기반하여 배터리 셀의 이상 상태를 진단하도록 구성될 수 있다. 이와 같이, 본 개시 는 배터리 셀 진단 장치와 외부 장치가 동일한 진단 항목을 진단하는 것이 아니라, 상이한 진단 항 목을 진단하는 것을 특징으로 한다. 일 예로, 배터리 셀 진단 장치는 배터리 셀의 전압 이상 또는 배터리 셀의 거동 이상 중 적어도 하나를 진단하고, 외부 장치는 배터리 셀의 리튬 석출 진단, 배터리 셀의 병렬 접속체의 이상 또는 배터리 셀의 내부 단락 중 적어도 하나를 진단할 수 있다. 제1 제어부가 데이터에 기반하여 배터리 셀의 전압 이상 또는 거동 이상을 검출하는 구체적인 내용은 후 술한다. 디스플레이부는 적어도 한 개의 디스플레이를 포함할 수 있다. 디스플레이부는 포함된 디스플레이에 배터리 셀의 이상 상태에 관한 정보를 표시할 수 있다. 여기서, 디스플레이부는 제1 제어부와 전기적으로 연결되고, 셀 그룹(CG)으로부터 전력을 공급받는 부하장치에 포함될 수 있다. 부하장치가 전기 자동차, 하이브리드 자동차, 플러그인 하이브리드 자동차 등인 경 우, 진단 결과 정보는 자동차의 통합정보 디스플레이를 통해 출력될 수 있다. 예컨대, 제1 제어부는 배터리 셀의 진단 정보에 기반한 배터리 셀의 이상 상태에 관한 정보를 디스플레이 부에 표시하도록 구성될 수 있다. 디스플레이부에 표시되는 배터리 셀의 이상 상태에 관한 정보는, 제1 진단 정보와 관련된 진단 결과 또는 제2 진단 정보와 관련된 진단 결과 중 적어도 하나를 포함할 수 있다. 다른 예로, 제1 제어부는 전압 이상, 거동 이상 또는 제2 진단 정보 중 적어도 하나에 기반하여, 배터리 셀의 이상 상태의 여부를 나타내는 제3 진단 정보를 생성할 수 있다. 그리고, 제1 제어부는 제3 진단 정보 를 디스플레이부에 포함된 디스플레이를 이용하여 표시할 수 있다. 제1 제어부가 디스플레이부 에 포함된 디스플레이를 이용하여 제3 진단 정보를 표시함으로써, 사용자에게 배터리 셀의 이상 여부를 구체적 으로 제공할 수 있다. 그리고, 제1 제어부는 제3 진단 정보를 상기 배터리 셀이 구비된 장치의 제2 제어부에 송신할 수 있다. 여기서, 제2 제어부는 배터리 셀이 구비된 장치를 제어하는 기능을 수행하도록 구성될 수 있다. 예를 들어, 배 터리 셀이 구비된 장치는 전기차일 수 있다. 이 경우, 제2 제어부는 전기차를 제어하도록 구성된 ECU(Electronic control unit)일 수 있다. 제1 제어부는 제3 진단 정보를 배터리 셀이 구비된 전기차의 제2 제어부에 송신할 수 있다. 도 3은 본 발명의 일 실시예에 따른 전기차의 구성을 개념적으로 나타낸 예시도이다. 도 3을 참조하면, 전기차 는, 배터리 팩, 인버터(INV), 전기 모터(M) 및 제2 제어부를 포함한다. 배터리 팩은, 셀 그룹(CG), 스위치(S) 및 배터리 셀 진단 장치을 포함할 수 있다. 셀 그룹(CG)은, 배터리 팩에 마련된 한 쌍의 전원 단자를 통해 인버터(INV)에 결합될 수 있다. 셀 그룹(C G)은, 직렬 연결된 복수의 배터리 셀(BC1~BCN, N은 2 이상의 자연수)을 포함한다. 각 배터리 셀(BCi)은, 리튬 이온 배터리 셀과 같이 재충전이 가능한 것이라면, 그 종류는 특별히 제한되지 않는다. i는 셀 식별을 위한 인 덱스이다. i는 자연수로서 1 내지 N이다. 스위치(S)는, 셀 그룹(CG)에 직렬로 연결된다. 스위치(S)는, 셀 그룹(CG)의 충방전을 위한 전류 경로에 설치된 다. 스위치(S)는, 배터리 셀 진단 장치으로부터의 스위칭 신호에 응답하여, 온오프 제어된다. 바람직하게, 스위치(S)의 동작 상태는 제1 제어부에 의해 턴 온 상태 또는 턴 오프 상태로 제어될 수 있다. 예컨대, 스위치(S)는 코일의 자기력에 의해 온오프되는 기계식 릴레이일 수 있다. 다른 예로, 스위치(S)는 FET(Field Effect Transistor) 또는 MOSFET(Metal Oxide Semiconductor Field Effect Transistor)과 같은 반 도체 스위치일 수 있다.인버터(INV)는, 배터리 셀 진단 장치로부터의 명령에 응답하여, 셀 그룹(CG)로부터의 직류 전류를 교류 전류로 변환하도록 제공된다. 전기 모터(M)는, 예컨대 3상 교류 모터일 수 있다. 전기 모터(M)는, 인버터(INV)로부터의 교류 전력을 이용하여 구동될 수 있다. 배터리 셀 진단 장치는, 셀 그룹(CG)의 충방전과 관련된 전반적인 제어를 담당하도록 제공된다. 배터리 셀 진단 장치는 온도 센서(T) 및 인터페이스부(I/F) 중 적어도 하나를 더 포함할 수 있다. 전압 센싱부는, 복수의 전압 센싱 라인을 통해, 복수의 배터리 셀(BC1~BCN) 각각의 양극 및 음극에 연결된 다. 전압 센싱부는, 각 배터리 셀(BCi)의 양단에 걸친 셀 전압을 측정하고, 측정된 셀 전압을 나타내는 전 압 신호를 생성하도록 구성된다. 전류 측정부는, 전류 경로를 통해 셀 그룹(CG)에 직렬로 연결된다. 전류 측정부는, 셀 그룹(CG)를 통 해 흐르는 배터리 전류를 검출하고, 검출된 배터리 전류('충방전 전류'라고 칭할 수도 있음)를 나타내는 전류 신호를 생성하도록 구성된다. 복수의 배터리 셀(BC1~BCN)은 직렬 연결되어 있으므로, 복수의 배터리 셀 (BC1~BCN) 중 어느 하나에 흐르는 배터리 전류는 나머지 배터리 셀들에 흐르는 배터리 전류와 동일할 수 있다. 전류 측정부는, 션트 저항, 홀 효과 소자 등과 같은 공지의 전류 검출 소자들 중 하나 또는 둘 이상의 조 합으로 구현될 수 있다. 온도 센서(T)는, 셀 그룹(CG)의 온도를 검출하고, 검출된 온도를 나타내는 온도 신호를 생성하도록 구성된다. 예컨대, 온도 센서(T)는 셀 그룹(CG)의 온도를 측정할 수도 있고, 셀 그룹(CG)에 포함된 각각의 배터리 셀(BC i)의 온도를 개별적으로 측정할 수도 있다. 제1 제어부는 전압 센싱부, 온도 센서(T), 전류 측정부, 인터페이스부(I/F) 및/또는 스위치(S) 에 동작 가능하게 결합될 수 있다. 제1 제어부는 센싱 신호를 전압 센싱부, 전류 측정부 및 온 도 센서(T)로부터 수집할 수 있다. 센싱 신호는, 동기 검출된 전압 신호, 전류 신호 및/또는 온도 신호를 지칭 한다. 인터페이스부(I/F)는, 제1 제어부와 제2 제어부 간의 유선 통신 또는 무선 통신을 지원하도록 구성되 는 통신 회로를 포함할 수 있다. 예컨대, 유선 통신은 CAN(Contoller area network) 및/또는 CAN- FD(Controller area network with flexible data rate) 통신일 수 있고, 무선 통신은 지그비나 블루투스 통신 일 수 있다. 물론, 제1 제어부와 제2 제어부 간의 유무선 통신을 지원하는 것이라면, 통신 프토토콜 의 종류는 특별히 한정되는 것은 아니다. 인터페이스부(I/F)는, 제2 제어부 및/또는 제1 제어부로부터 수신된 정보를 사용자가 인식 가능한 형 태로 제공하는 출력 디바이스(예, 디스플레이, 스피커)와 결합될 수 있다. 제2 제어부는, 배터리 셀 진단 장치와의 통신을 통해 수집되는 배터리 정보(예, 전압, 전류, 온도, SOC)를 기초로, 인버터(INV)를 제어할 수 있다. 전기 부하 및/또는 충전기의 동작 중 스위치(S)가 턴 온되는 경우, 배터리 팩에 구비된 배터리 셀(BC1~BC N)은 충전 또는 방전될 수 있다. 배터리 셀(BC1~BCN)이 충전 또는 방전되는 중에 스위치(S)가 턴 오프되는 경우, 배터리 셀(BC1~BCN)은 휴지 상태로 전환될 수 있다. 제1 제어부는 키-온 신호에 응답하여, 스위치(S)를 턴 온시킬 수 있다. 제1 제어부는 키-오프 신호에 응답하여, 스위치(S)를 턴 오프시킬 수 있다. 키-온 신호는, 휴지 상태에서 충전 상태 또는 방전 상태로의 전환 을 요청하는 신호이다. 키-오프 신호는, 충전 상태 또는 방전 상태로부터 휴지 상태로의 전환을 요청하는 신호 이다. 대안적으로, 스위치(S)의 온오프 제어는, 제1 제어부 대신 제2 제어부가 담당할 수도 있다. 도 3에서는, 배터리 셀 진단 장치가 전기차를 위한 배터리 팩에 포함되는 것으로 도시하였으나, 이는 일예로서 이해되어야 한다. 예컨대, 배터리 셀 진단 장치는, 배터리 셀(BC1~BCN)의 제조 공정에서 거동 이상 배터리 셀을 선별하는 데에 이용되는 테스트 시스템에 포함될 수도 있다. 다른 예로, 배터리 셀 진단 장치 는, 배터리 셀(BC1~BCN)이 포함된 에너지 저장 장치(ESS, Energy storage system)에도 포함될 수도 있다. 제1 제어부는 터데이를 이용하여 배터리 셀의 전압 이상 여부 및 거동 이상 여부를 검출할 수 있다. 먼저, 제1 제어부가 터데이를 이용하여 배터리 셀의 전압 이상 여부를 검출하는 방법에 대해 도 4를 이용하여 자세히 설명하도록 한다. 도 4a 내지 도 4h는 도 3에 도시된 복수의 배터리 셀(BC1~BCN) 각각의 셀 전압의 시간에 따른 변화를 나타내는 시계열 데이터로부터 각 배터리 셀의 전압 이상을 검출하는 과정을 예시적으로 보여주는 그래프들이다. 도 4a는, 복수의 배터리 셀(BC1~BCN) 각각의 전압 커브를 보여준다. 도 4a에 도시된 배터리 셀의 수량은 14개이 다. 제1 제어부는 단위 시간마다, 전압 센싱부로부터의 전압 신호를 수집하여, 각 배터리 셀(BCi)의 셀 전압의 전압값을 터데이에 기록한다. 단위 시간은, 전압 센싱부의 전압 측정 주기의 정수배일 수 있다. 제1 제어부는 터데이에 포함된 셀 전압의 시간에 따른 이력을 나타내는 시계열 데이터를 생성하도록 구성 될 수 있다. 구체적으로, 제1 제어부는 터데이에 포함된 각 배터리 셀(BCi)의 셀 전압의 전압값을 기초로, 각 배터리 셀의 셀 전압의 시간에 따른 이력을 나타내는 셀 전압 시계열 데이터를 생성할 수 있다. 셀 전압이 측정될 때마 다 셀 전압 시계열 데이터의 수는 1씩 증가한다. 도 4a에 도시된 복수의 전압 커브는 복수의 배터리 셀(BC1~BCN)에 일대일로 연관된 것이다. 따라서, 각 전압 커 브는 그에 연관된 어느 한 배터리 셀(BC)의 셀 전압의 변화 이력을 나타낸다. 제1 제어부는 시계열 데이터를 기초로 각 배터리 셀의 제1 평균 셀 전압과 제2 평균 셀 전압을 결정하도록 구성될 수 있다. 여기서, 제1 평균 셀 전압은 단기 이동 평균이고, 제2 평균 셀 전압은 장기 이동 평균일 수 있 다. 구체적으로, 제1 제어부는 1개의 무빙 윈도우 또는 2개의 무빙 윈도우를 이용하여, 복수의 배터리 셀 (BC1~BCN) 각각의 이동 평균을 단위 시간마다 결정할 수 있다. 2개의 무빙 윈도우를 이용하는 경우, 어느 한 무 빙 윈도우에 대한 시간 길이는 다른 무빙 윈도우에 대한 시간 길이와 상이하다. 여기서, 각 무빙 윈도우의 시간 길이는 단위 시간의 정수배이고, 각 무빙 윈도우의 종료점은 현 시점이고, 각 무빙 윈도우의 시작점은 현 시점으로부터 미리 주어진 시간 길이만큼 앞선 시점이다. 이하에서는, 설명의 편의를 위해, 2개의 무빙 윈도우 중 더 짧은 시간 길이에 연관된 것을 제1 무빙 윈도우라고 칭하고, 더 긴 시간 길이에 연관된 것을 제2 무빙 윈도우라고 칭하기로 한다. 제1 제어부는 제1 무빙 윈도우만을 이용하거나, 제1 무빙 윈도우 및 제2 무빙 윈도우를 둘 다 이용하여, 각 배터리 셀(BCi)의 전압 이상을 진단할 수 있다. 제1 제어부는 단위 시간마다 수집되는 제i 배터리 셀(BCi)의 셀 전압을 기초로, 제i 배터리 셀(BCi)의 셀 전압의 단기적 변화 경향 및 장기적 변화 경향을 단위 시간마다 비교할 수 있다. 제1 제어부는 다음의 수식 1 또는 수식 2를 이용하여, 제1 무빙 윈도우에 의한 제i 배터리 셀(BCi)의 이동 평균인 제1 평균 셀 전압을 단위 시간마다 결정할 수 있다. 즉, 제1 제어부는 제1 무빙 윈도우를 이용하여 각 배터리 셀의 제1 평균 셀 전압을 결정할 수 있다. 수식 1은 산술 평균 방식에 의한 이동 평균 계산식이고, 수식 2는 가중 평균 방식에 의한 이동 평균 계산식이다. <수식 1>"}
{"patent_id": "10-2024-0013517", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "<수식 2>"}
{"patent_id": "10-2024-0013517", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "수식 1 및 수식 2에 있어서, k는 현 시점을 나타내는 시간 인덱스, SMAi[k]는 현 시점의 제i 배터리 셀(BCi)의 제1 평균 셀 전압, S는 제1 무빙 윈도우의 시간 길이를 단위 시간으로 나눈 값, Vi[k]는 현 시점의 제i 배터리 셀(BCi)의 셀 전압이다. 일 예로, 단위 시간이 1초이고, 제1 무빙 윈도우의 시간 길이가 10초이면, S는 10이다. x가 k 이하의 자연수라고 할 때, Vi[k-x]와 SMAi[k-x]는 각각 시간 인덱스가 k-x였을 때의 제i 배터리 셀(BCi) 의 셀 전압과 제1 평균 셀 전압을 나타낸다. 참고로, 제1 제어부는 단위 시간마다, 시간 인덱스를 1씩 증가시키도록 설정되어 있을 수 있다. 제1 제어부는 다음의 수식 3 또는 수식 4를 이용하여, 제2 무빙 윈도우에 의한 제i 배터리 셀(BCi)의 이동 평균인 제2 평균 셀 전압을 단위 시간마다 결정할 수 있다. 즉, 제2 제어부는 제2 무빙 윈도우를 이용하여 제2 평균 셀 전압을 결정할 수 있다. 수식 3은 산술 평균 방식에 의한 이동 평균 계산식이고, 수식 4는 가중 평균 방식에 의한 이동 평균 계산식이다. <수식 3>"}
{"patent_id": "10-2024-0013517", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "<수식 4>"}
{"patent_id": "10-2024-0013517", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "수식 3 및 수식 4에 있어서, k는 현 시점을 나타내는 시간 인덱스, LMAi[k]는 현 시점의 제i 배터리 셀(BCi)의 제2 평균 셀 전압, L는 제2 무빙 윈도우의 시간 길이를 단위 시간으로 나눈 값, Vi[k]는 현 시점의 제i 배터리 셀(BCi)의 셀 전압이다. 일 예로, 단위 시간이 1초이고, 제2 무빙 윈도우의 시간 길이가 100초이면, L는 100이 다. x가 k 이하의 자연수라고 할 때, LMAi[k-x]는 시간 인덱스가 k-x였을 때의 제2 평균 셀 전압을 나타낸다. 일 실시예에서, 제1 제어부는 수식 1 내지 4의 Vi[k]로서, 현 시점에서의 각 배터리 셀(BCi)의 셀 전압 대 신, 현 시점에서의 셀 그룹(CG)의 기준 셀 전압과 배터리 셀(BCi)의 셀 전압 간의 차이를 입력할 수 있다. 현 시점에서의 셀 그룹(CG)의 기준 셀 전압은, 복수의 배터리 셀(BC1~BCN)로부터 결정된 현 시점의 복수의 셀 전압의 평균값이다. 변형예에서, 복수의 셀 전압의 평균값은 중앙값으로 대체 가능하다. 구체적으로, 제1 제어부는 다음의 수식 5의 VDi[k]를 수식 1 내지 4의 Vi[k]로 설정할 수 있다. <수식 5>"}
{"patent_id": "10-2024-0013517", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "수식 5에서, Vav[k]는, 현 시점에서의 셀 그룹(CG)의 기준 셀 전압으로서 복수의 셀 전압의 평균값이다. 제1 무빙 윈도우의 시간 길이가 제2 무빙 윈도우의 시간 길이보다 짧은 경우, 제1 평균 셀 전압을 셀 전압의 ' 단기 이동 평균'이라고 칭하고, 제2 평균 셀 전압을 셀 전압의 '장기 이동 평균'이라고 칭할 수 있다. 제1 제어부는 제1 평균 셀 전압과 제2 평균 셀 전압의 차이를 기초로 배터리 셀의 전압 이상 여부를 검출할 수 있다. 도 4b를 참조하여 자세히 설명하도록 한다. 제1 제어부는, 복수의 배터리 셀 각각에 대해서, 배터리 셀의 제1 평균 셀 전압과 제2 평균 셀 전압의 차이에 해당하는 장단기 평균 차이를 결정할 수 있다. 도 4b는, 도 4a에 도시된 복수의 전압 커브로부터 결정되는 제i 배터리 셀(BCi)의 셀 전압에 대한 단기 이동 평 균선과 장기 이동 평균선을 보여준다. 도 4b에 있어서, 가로축은 시간을 나타내고, 세로축은 셀 전압의 이동 평 균값을 나타낸다. 도 4b를 참조하면, 점선으로 도시된 복수의 이동 평균선(Si)은 복수의 배터리 셀(BC1~BCN)에 일대일로 연관된 것으로서, 각 배터리 셀(BC)의 제1 평균 셀 전압(SMAi[k])의 시간에 따른 변화 이력을 나타낸다. 또한, 실선으 로 도시된 복수의 이동 평균선(Li)은 복수의 배터리 셀(BC1~BCN)에 일대일로 연관된 것으로서, 각 배터리 셀 (BC)의 제2 평균 셀 전압(LMAi[k])의 시간에 따른 변화 이력을 나타낸다. 점선 그래프와 실선 그래프는 각각 수식 2 및 수식 4를 이용하여 얻은 것이다. 또한, 수식 2 및 수식 4의 Vi [k]로서 수식 5의 VDi[k]를 사용하였고, Vav[k]는 복수의 셀 전압의 평균으로 설정하였다. 제1 무빙 윈도우의 시간 길이는 10초이고, 제2 무빙 윈도우의 시간 길이는 100초이다. 제1 제어부는 복수의 배터리 셀의 결정된 장단기 평균 차이의 평균값을 결정할 수 있다. 그리고, 제1 제어부는 복수의 배터리 셀 각각에 대해서, 장단기 평균 차이의 평균값과 배터리 셀의 장단기 평균 차이의 편차에 해당하는 셀 진단 편차를 결정할 수 있다. 예컨대, 제1 제어부는 장단기 평균 차이의 평균값과 각각의 배터리 셀의 장단기 평균 차이의 편차를 산출함으로써, 각각의 배터리 셀에 대한 셀 진단 편차 를 결정할 수 있다. 도 4c는 도 4b에 도시된 각 배터리 셀의 제1 평균 셀 전압(SMAi[k])과 제2 평균 셀 전압(LMAi[k])의 차이에 해 당하는 장단기 평균 차이(절대값)의 시간에 따른 변화를 나타낸다. 도 4c에 있어서, 가로축은 시간을 나타내고, 세로축은 각 배터리 셀(BCi)의 장단기 평균 차이를 나타낸다. 각 배터리 셀(BCi)의 장단기 평균 차이는, 단위 시간마다의, 각 배터리 셀(BCi)의 제1 평균 셀 전압(SMAi)과 제 2 평균 셀 전압(LMAi) 간의 차이이다. 일 예로, 제i 배터리 셀(BCi)의 장단기 평균 차이는, SMAi[k]과 LMAi[k] 중 하나(예, 더 큰 것)로부터 다른 하나(예, 더 작은 것)를 차감한 값과 동일할 수 있다. 제i 배터리 셀(BCi)의 장단기 평균 차이는, 제i 배터리 셀(BCi)의 셀 전압의 단기적인 변화 이력 및 장기적인 변화 이력에 의존한다. 제i 배터리 셀(BCi)의 온도나 SOH는, 단기적으로는 물론 장기적으로 꾸준히 제i 배터리 셀(BCi)의 셀 전압에 영 향을 준다. 따라서, 제i 배터리 셀(BCi)의 전압 이상이 없다면, 제i 배터리 셀(BCi)의 장단기 평균 차이는, 나 머지 배터리 셀들의 장단기 평균 차이와는 유의미한 차이를 띄지 않는다. 반면, 제i 배터리 셀(BCi)에 내부 단락 및/또는 외부 단락 등으로 인해 갑자기 발생된 전압 이상은, 제2 평균 셀 전압(LMAi[k])보다 제1 평균 셀 전압(SMAi[k])에 많은 영향을 준다. 그 결과, 제i 배터리 셀(BCi)의 장단기 평균 차이는 전압 이상이 없는 나머지 배터리 셀들의 장단기 평균 차이와는 큰 편차를 가진다. 제1 제어부는 단위 시간마다, 각 배터리 셀(BCi)의 장단기 평균 차이(|SMAi[k]-LMAi[k]|)를 결정할 수 있 다. 또한, 제1 제어부는 장단기 평균 차이(|SMAi[k]-LMAi[k]|)의 평균값을 결정할 수 있다. 이하, 평균값 은 |SMAi[k]-LMAi[k]|av로 나타낸다. 제1 제어부는 또한 장단기 평균 차이의 평균값(|SMAi[k]- LMAi[k]|av) 대비 장단기 평균 차이(|SMAi[k]-LMAi[k]|)에 대한 편차를 셀 진단 편차(Ddiag,i[k])로 결정할 수 있다. 또한, 제1 제어부는 셀 진단 편차(Ddiag,i[k])를 기초로 각 배터리 셀(BCi)의 전압 이상을 검출할 수 있다. 일 실시예에서, 제1 제어부는 복수의 배터리 셀의 적어도 하나의 배터리 셀에 대하여 셀 진단 편차가 진단 임계치를 초과하는 조건을 충족하는 배터리 셀을 전압 이상 셀로 검출할 수 있다. 예를 들어, 제1 제어부 는 제i 배터리 셀(BCi)에 대한 셀 진단 편차(Ddiag,i[k])가 미리 설정된 진단 임계치(예컨대, 0.015)를 넘으면, 해당 제i 배터리 셀(BCi)에 전압 이상이 생긴 것으로 판단하고, 배터리 셀의 전압 이상을 검출할 수 있다. 다른 실시에에서, 제1 제어부는 복수의 배터리 셀의 셀 진단 편차에 대한 표준편차에 의존하는 통계적 가 변 임계치를 결정할 수 있다. 그리고, 제1 제어부는 필터링된 시계열 데이터를 생성하기 위해 통계적 가변 임계치에 기반하여 시계열 데이터를 필터링할 수 있다. 마지막으로, 제1 제어부는 복수의 배터리 셀의 적 어도 하나의 배터리 셀에 대하여 진단 임계치를 초과하는 필터링된 시계열 데잍의 시간 또는 데이터 수에 기반 하여 배터리 셀의 전압 이상을 검출하도록 구성될 수도 있다. 여기서, 통계적 가변 임계치를 이용하여 배터리 셀의 전압 이상을 검출하는 구체적인 내용은, 설명의 편의를 위해, 정규화된 셀 진단 편차를 고려하는 하기의 실시예를 통해 설명한다. 한편, 제1 제어부는 복수의 배터리 셀의 결정된 장단기 평균 차이의 평균값에 대응되는 정규화값을 결정할 수 있다. 그리고, 제1 제어부는 복수의 배터리 셀 각각에 대해서, 정규화값에 따라 장단기 평균 차이를 정 규화할 수 있다. 예를 들어, 제1 제어부는 전압 이상 검출을 위해 각 배터리 셀(BCi)의 장단기 평균 차이(|SMAi[k]- LMAi[k]|)를 정규화 기준값을 이용하여 정규화할 수 있다. 바람직하게, 정규화 기준값은 장단기 평균 차이의 평 균값(|SMAi[k]-LMAi[k]|av)이다. 구체적으로, 제1 제어부는 제1 내지 제N 배터리 셀(BCi-BCN)의 장단기 평균 차이의 평균값(|SMAi[k]- LMAi[k]|av)을 정규화 기준값으로 설정할 수 있다. 제1 제어부는 또한 각 배터리 셀(BCi)의 장단기 평균 차이(|SMAi[k]-LMAi[k]|)를 정규화 기준값으로 나눗셈 연산하여 장단기 평균 차이(|SMAi[k]-LMAi[k]|)를 정규화할 수 있다. 하기 수식 6은 각 배터리 셀(BCi)의 장단기 평균 차이(|SMAi[k]-LMAi[k]|)를 정규화하는 수식을 나타낸다. 실시 예에서, 수식 6에 의해 산출되는 값은 정규화된 셀 진단 편차(D*diag,i[k])라고 명명할 수 있다. <수식 6>"}
{"patent_id": "10-2024-0013517", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "수식 6에서, |SMAi[k]-LMAi[k]|는 현 시점의 제i 배터리 셀(BCi)의 장단기 평균 차이, |SMAi[k]-LMAi[k]|av는 전체 배터리 셀의 장단기 평균 차이의 평균값(정규화 기준값), D*diag,i[k]는 현 시점의 제i 배터리 셀(BCi)의 정규화된 셀 진단 편차다. 기호 '*'는 파라미터가 정규화되었음을 나타낸다. 각 배터리 셀(BCi)의 장단기 평균 차이(|SMAi[k]-LMAi[k]|)는 하기 수식 7의 로그 연산을 통해 정규화하는 것도 가능하다. 실시예에서, 수식 7에 의해 산출되는 값 또한 정규화된 셀 진단 편차(D*diag,i[k])라고 명명할 수 있 다. <수식 7>"}
{"patent_id": "10-2024-0013517", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "item": 8, "content": "도 4d는 각 배터리 셀(BCi)의 정규화된 셀 진단 편차(D*diag,i[k])의 시간에 따른 변화를 보여준다. 셀 진단 편 차(D*diag,i[k])는 수식 6을 이용하여 산출하였다. 도 4d에 있어서, 가로축은 시간을 나타내고, 세로축은 각 배 터리 셀(BCi)의 셀 진단 편차(D*diag,i[k])를 나타낸다. 도 4d를 참조하면, 각 배터리 셀(BCi)의 장단기 평균 차이(|SMAi[k]-LMAi[k]|)가 정규화됨으로써 각 배터리 셀 (BCi)의 장단기 평균 차이의 변화가 평균값을 기준으로 증폭되었음을 알 수 있다. 이로써, 배터리 셀의 전압 이 상 검출이 보다 정확하게 이루어질 수 있다. 제1 제어부는 복수의 배터리 셀의 정규화된 셀 진단 편차에 대한 표준편차에 의존하는 통계적 가변 임계치 를 결정할 수 있다. 예를 들어, 제1 제어부는 각 배터리 셀(BCi)의 정규화된 셀 진단 편차(D*diag,i[k])와 통계적 가변 임계치 (Dthreshold[k])를 비교하여 각 배터리 셀(BCi)의 전압 이상을 검출할 수 있다. 예를 들어, 제1 제어부는 하기 수식 8을 이용하여 단위 시간 마다 통계적 가변 임계치(Dthreshold[k])를 결정할 수 있다. <수식 8>"}
{"patent_id": "10-2024-0013517", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 9, "content": "수식 8에서, Sigma는 시간 인덱스 k에서 전체 배터리 셀(BC)의 정규화된 셀 진단 편차(D*diag,i[k])에 대한 표 준 편차를 연산하는 함수이다. 그리고, β는 실험적으로 결정되는 상수이다. β는 진단 감도를 결정하는 팩터이 다. β는 실제 전압 이상이 생긴 배터리 셀을 포함하고 있는 셀 그룹을 대상으로 본 발명을 실시했을 때, 해당 배터리 셀이 전압 이상 셀로서 검출될 수 있도록 시행착오에 의해 적절하게 결정될 수 있다. 일 예에서, β는 적어도 5 이상, 또는 적어도 6 이상, 또는 적어도 7 이상, 또는 적어도 8 이상, 또는 적어도 9 이상으로 설정될 수 있다. 수식 8에 의해 생성되는 Dthreshold[k]는 복수이므로 시계열 데이터를 구성한다. 한편, 전압 이상이 있는 배터리 셀은 정규화된 셀 진단 편차(D*diag,i[k])가 정상 배터리 셀보다 상대적으로 크 다. 따라서, 검출의 정확도와 신뢰성을 향상시키기 위해 시간 인덱스 k에서 Sigma(D*diag,i[k])를 연산함에 있 어서 최대값에 해당하는 max(D*diag,i[k])는 제외시키는 것이 바람직하다. 여기서, max는 복수의 입력 변수에 대한 최대값을 반환하는 함수로서, 입력 변수는 전체 배터리 셀들의 정규화된 셀 진단 편차(D*diag,i[k])들이다. 도 4d에 있어서, 통계적 가변 임계치(Dthreshold[k])의 시간 변화를 나타내는 시계열 데이터는 전체 프로파일들 중에서 가장 짙은 색으로 표시한 프로파일에 해당한다. 제1 제어부는 복수의 배터리 셀 각각에 대하여 필터링된 시계열 데이터를 생성하기 위하여 통계적 가변 임 계치에 기반하여 각 배터리 셀의 정규화된 장단기 평균 차이를 필터링하도록 구성될 수 있다.구체적으로, 제1 제어부는 각 배터리 셀의 셀 진단 편차에 관한 시계열 데이터를 통계적 가변 임계치를 기 준으로 필터링하여 필터 진단 값의 시계열 데이터를 생성할 수 있다. 예를 들어, 제1 제어부는 시간 인덱스 k에서 통계적 가변 임계치(Dthreshold[k])를 결정한 후 하기 수식 9 를 이용하여 각 배터리 셀(BCi)의 정규화된 셀 진단 편차(D*diag,i[k])를 필터링함으로써 필터 진단 값 (Dfilter,i[k])을 결정할 수 있다. <수식 9>"}
{"patent_id": "10-2024-0013517", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 10, "content": "각 배터리 셀(BCi)에 대한 필터 진단 값(Dfilter,i[k])에는 2가지 값이 할당될 수 있다. 즉, 셀 진단 편차 (D*diag,i[k])가 통계적 가변 임계치(Dthreshold[k])보다 크면, 셀 진단 편차(D*diag,i[k])와 통계적 가변 임 계치(DThreshold[k])의 차이 값이 필터 진단 값(Dfilter,i[k])에 할당된다. 반면, 셀 진단 편차(D*diag,i[k]) 가 통계적 가변 임계치(Dthreshold[k])보다 같거나 작으면, 0이 필터 진단 값(Dfilter,i[k])에 할당된다. 제1 제어부는 복수의 배터리 셀의 적어도 하나의 배터리 셀에 대하여 진단 임계치를 초과하는 필터링된 시 계열 데이터의 시간 또는 데이터 수에 기반하여 배터리 셀의 전압 이상을 검출하도록 구성될 수 있다. 구체적으로, 제1 제어부는 필터 진단 값이 진단 임계치를 초과하는 시간 또는 진단 임계치를 초과하는 필 터 진단 값의 데이터 수로부터 배터리 셀의 전압 이상을 검출할 수 있다. 도 4e는 시간 인덱스 k에서 셀 진단 편차(D*diag,i[k])의 필터링을 통해 얻은 필터 진단 값(Dfilter,i[k])의 시 계열 데이터를 나타낸 도면이다. 도 4e를 참조하면, 특정 배터리 셀의 필터 진단 값(Dfilter,i[k])이 3000초를 전후로 하여 양수 값을 가지는 불 규칙한 패턴이 확인된다. 참고로, 불규칙한 패턴을 가지는 특정 배터리 셀은 도 4d에서 A로 지시된 시계열 데이 터를 가지는 배터리 셀이다. 일 예에서, 제1 제어부는 각 배터리 셀(BC-i)에 대한 필터 진단 값(Dfilter,i[k])의 시계열 데이터에서 필 터 진단 값(Dfilter,i[k])이 진단 임계치(예컨대, 0)보다 큰 시간 구간을 적산하고, 적산 시간이 미리 설정된 기준 시간보다 큰 조건이 성립되는 배터리 셀을 전압 이상 셀로 검출할 수 있다. 바람직하게, 제1 제어부는 필터 진단 값(Dfilter,i[k])이 진단 임계치보다 큰 조건이 연속적으로 충족되는 시간 구간을 적산할 수 있다. 해당 시간 구간이 복수이면, 제1 제어부는 각 시간 구간마다 적산 시간을 독 립적으로 산출할 수 있다. 제1 제어부는 필터 진단 값이 진단 임계치를 초과하는 시간 또는 진단 임계치를 초과하는 필터 진단 값의 데이터 수로부터 배터리 셀의 전압 이상을 검출할 수 있다. 예를 들어, 제1 제어부는 각 배터리 셀(BC-i)에 대한 필터 진단 값(Dfilter,i[k])의 시계열 데이터에서 필 터 진단 값(Dfilter,i[k])이 진단 임계치(예컨대, 0)보다 큰 시간 구간에 포함된 데이터 수를 적산하고, 데이터 적산치가 미리 설정된 기준 카운트보다 큰 조건이 성립되는 배터리 셀을 전압 이상 셀로 검출할 수 있다. 바람직하게, 제1 제어부는 필터 진단 값(Dfilter,i[k])이 진단 임계치보다 큰 조건이 연속적으로 충족되는 시간 구간에 포함된 데이터 수만을 적산할 수 있다. 해당 시간 구간이 복수이면, 제1 제어부는 각 시간 구 간의 데이터 수를 독립적으로 적산할 수 있다. 한편, 제1 제어부는 수식 1 내지 5의 Vi[k]를 도 4d에 나타낸 각 배터리 셀(BC-i)의 정규화된 셀 진단 편 차(D*diag,i[k])로 대체할 수 있다. 또한, 제1 제어부는 시간 인덱스 k에서, 셀 진단 편차(D*diag,i[k]) 의 장단기 평균 차이(|SMAi[k]-LMAi[k]|) 계산, 셀 진단 편차(D*diag,i[k])의 장단기 평균 차이(|SMAi[k]- LMAi[k]|)의 평균값 계산, 장단기 평균 차이(|SMAi[k]-LMAi[k]|)의 평균값 대비 차이에 해당하는 셀 진단 편차 (Ddiag,i[k]) 계산, 수식 6을 이용한 장단기 평균 차이(|SMAi[k]-LMAi[k]|)에 대한 정규화된 셀 진단 편차 (D*diag,i[k]) 계산, 수식 8을 이용하여 정규화된 셀 진단 편차(D*diag,i[k])에 대한 통계적 가변 임계치(Dthreshold[k]) 결정, 수식 9를 이용하여 셀 진단 편차(D*diag,i[k])의 필터링을 통한 필터 진단 값 Dfilter,i[k] 결정, 및 필터 진단 값 Dfilter,i[k]의 시계열 데이터를 이용한 배터리 셀의 전압 이상 검출을 재 귀적으로 실행할 수 있다. 도 4f는 정규화된 셀 진단 편차(D*diag,i[k])의 시계열 데이터(도 4d)에 대한 장단기 평균 차이(|SMAi[k]- LMAi[k]|)의 시간 변화를 나타낸 그래프이다. 장단기 평균 차이(|SMAi[k]-LMAi[k]|)의 계산에 사용되는 수식2, 수식4 및 수식5에 있어서, Vi[k]는 D*diag,i[k]로 대체될 수 있고, Vav[k]는 D*diag,i[k]의 평균값으로 대체될 수 있다. 도 4g는 수식 6을 이용하여 계산된 정규화된 셀 진단 편차(D*diag,i[k])의 시계열 데이터를 나타낸 그래프이다. 도 4g에 있어서, 통계적 가변 임계치(Dthreshold[k])의 시계열 데이터는 가장 짙은 색으로 표시한 프로파일에 해당한다. 도 4h는 수식 9를 이용하여 셀 진단 편차(D*diag,i[k])의 시계열 데이터를 필터링함으로써 얻은 필터 진단 값 (Dfilter,i[k])의 시계열 데이터를 나타낸 프로파일이다. 일 예에서, 제1 제어부는 각 배터리 셀(BC-i)에 대한 필터 진단 값(Dfilter,i[k])의 시계열 데이터에서 필 터 진단 값(Dfilter,i[k])이 진단 임계치(예컨대, 0)보다 큰 시간 구간을 적산하고, 적산 시간이 미리 설정된 기준 시간보다 큰 조건이 성립되는 배터리 셀을 전압 이상 셀로 검출할 수 있다. 바람직하게, 제1 제어부는 필터 진단 값(Dfilter,i[k])이 진단 임계치보다 큰 조건이 연속적으로 충족되는 시간 구간을 적산할 수 있다. 해당 시간 구간이 복수이면, 제1 제어부는 각 시간 구간마다 적산 시간을 독 립적으로 산출할 수 있다. 다른 예에서, 제1 제어부는 각 배터리 셀(BC-i)에 대한 필터 진단 값(Dfilter,i[k])의 시계열 데이터에서 필터 진단 값(Dfilter,i[k])이 진단 임계치(예컨대, 0)보다 큰 시간 구간에 포함된 데이터 수를 적산하고, 데이 터 적산치가 미리 설정된 기준 카운트보다 큰 조건이 성립되는 배터리 셀을 전압 이상 셀로 검출할 수 있다. 바람직하게, 제1 제어부는 필터 진단 값(Dfilter,i[k])이 진단 임계치보다 큰 조건이 연속적으로 충족되는 시간 구간에 포함된 데이터 수만을 적산할 수 있다. 해당 시간 구간이 복수이면, 제1 제어부는 각 시간 구 간의 데이터 수를 독립적으로 적산할 수 있다. 제1 제어부는 전술한 재귀적 연산 과정을 기준 횟수만큼 추가로 반복할 수 있다. 즉, 제1 제어부는 도 4a에 나타낸 전압 시계열 데이터를 정규화된 셀 진단 편차(D*diag,i[k])의 시계열 데이터(예를 들어 도 4g의 데이터)로 대체할 수 있다. 또한, 제1 제어부는 시간 인덱스 k에서, 장단기 평균 차이(|SMAi[k]-LMAi[k]|) 계산, 장단기 평균 차이(|SMAi[k]-LMAi[k]|)의 평균값 계산, 장단기 평균 차이(|SMAi[k]-LMAi[k]|)의 평균값 대비 차이에 해당하는 셀 진단 편차(Ddiag,i[k]) 계산, 수식 6을 이용한 장단기 평균 차이(|SMAi[k]- LMAi[k]|)에 대한 정규화된 셀 진단 편차(D*diag,i[k]) 계산, 수식 8을 이용하여 셀 진단 편차(D*diag,i[k])에 대한 통계적 가변 임계치(Dthreshold[k]) 결정, 수식 9를 이용한 셀 진단 편차(D*diag,i[k])에 대한 필터링을 통한 필터 진단 값 Dfilter,i[k] 결정, 및 필터 진단 값 Dfilter,i[k]의 시계열 데이터를 이용한 배터리 셀의 전압 이상 검출을 재귀적으로 실행할 수 있다. 상기와 같은 재귀적 연산 과정이 반복되면, 배터리 셀의 전압 이상 진단이 보다 정밀하게 이루어질 수 있다. 즉, 도 4e를 참조하면, 전압 이상이 생긴 배터리 셀의 필터 진단 값(Dfilter,i[k])의 시계열 데이터에서 2개의 시간 구간에서만 양의 프로파일 패턴이 관찰된다. 하지만, 도 4h를 참조하면, 전압 이상이 생긴 배터리 셀의 필 터 진단 값(Dfilter,i[k])의 시계열 데이터에서 도 4e에서보다 많은 시간 구간에서 양의 프로파일 패턴이 관찰 된다. 따라서 재귀적 연산 과정이 반복되면, 배터리 셀의 전압 이상이 발생된 시점을 보다 정확하게 검출할 수 있다. 이상으로, 제1 제어부가 터데이를 이용하여 전압 이상을 검출하는 구체적인 방법에 대해 살펴보았다. 이하 에서는 도 5 내지 도 9를 참조하여, 제1 제어부가 터데이를 이용하여 거동 이상을 검출하는 방법에 대해 자세히 설명하도록 한다. 도 5는 본 발명의 다양한 실시예에서 참조되는 배터리 셀의 셀 전압의 실제 전압값들의 원시 시계열(raw time series)에 대응하는 전압 커브(C1)를 예시적으로 보여주는 그래프이고, 도 6은 도 5의 전압 커브(C1)에 대응하 는 원시 시계열에 측정 노이즈를 합성하여 취득된 측정 전압 커브(C2)를 예시적으로 보여주는 그래프이다. 도 7 은 도 6의 전압 커브(C2)에 제1 평균 필터를 적용하여 취득되는 제1 이동 평균 커브(AC1)를 예시적으로 보여주는 그래프이고, 도 8은 도 6의 전압 커브(C2)에 제2 평균 필터를 적용하여 취득되는 제2 이동 평균 커브(AC2)를 예시적으로 보여주는 그래프이다. 도 9는 도 7의 제1 이동 평균 커브(AC1)와 도 8의 제2 이동 평균 커브(AC2) 간의 차이인 전압 편차 커브(VC)를 예시적으로 보여주는 그래프이다. 먼저, 도 5를 참조하면, 전압 커브(C1)는, 소정 기간(t1~tM)에 걸쳐 충전 시에 배터리 셀(BC)의 셀 전압의 실제 전압값들을 포함하는 원시 시계열의 일 예이다. 이해를 돕기 위해, 셀 전압은 선형적으로 증가하고, t1 이전 기 간과 tM 이후 기간에 대한 실제 전압값들의 도시는 생략하였다. 배터리 셀(BC)이 정상인 경우, 충전 중에는 셀 전압이 지속적으로 완만하게 상승해나간다. 반면, 배터리 셀(B C)이 그 내부에 어떠한 고장 상태(예, 미세 단락, 전극 탭의 일부분이 찢어짐)를 가지는 거동 이상인 경우, 충 전 중임에도 셀 전압이 일시적으로 급하강하거나 급상승하는 이상 거동이 불규칙하게 관측될 수 있다. 도 5의 전압 커브(C1)는 배터리 셀(BC)이 거동 이상인 실시예에 연관된 것으로서, 영역(X)는 셀 전압이 거동 이 상적으로 급하강하는 시간 범위를 나타내고, 영역(Y)는 셀 전압이 거동 이상적으로 급상승하는 시간 범위를 나 타내고 있다. 도 5는 충전 중의 셀 전압을 예시하고 있으나, 거동 이상 배터리 셀은 방전 중 또는 휴지 중에도 셀 전압이 거동 이상적으로 변화할 수 있다. 예컨대, 방전 중에 있어서, 정상 배터리 셀의 셀 전압은 지속적으 로 완만하게 하강해나가는 반면, 거동 이상 배터리 셀의 셀 전압은 일시적으로 급상승하거나 급하강할 수 있다. 다음으로, 도 6을 참조하면, 전압 커브(C2)는 도 5의 전압 커브(C1)의 실제 셀 전압에 측정 노이즈가 합성된 결 과를 나타낸다. 즉, 도 6의 전압 커브(C2)는 측정된 셀 전압을 나타내는 전압값들을 시간순으로 정렬한 시계열 을 나타낸다. M은 소정의 총 샘플링 횟수(예, 300)를 나타내는 자연수이고, K는 M 이하의 자연수라고 할 때, tK는 전압 커브 (C2)에 포함된 총 M개의 전압값들 중 시간순으로 K번째 전압값(Vm[K])의 측정 타이밍(제K 측정 타이밍 tK)이며, 인접한 두 측정 타이밍 간의 시간 간격은 소정의 샘플링 시간(예, 0.1초)만큼 이격되어 있다. 전압값(Vm[K])는, 전압 커브(C2)에 포함된 총 M개의 전압값들 중, 측정 타이밍(tK)에 인덱스된 데이터 포인트이다. 측정 노이즈는, 전압 센싱부의 내외부적 요인들(예, 전압 측정기의 온도, 샘플링 레이트, 전자기파 등)로 인해 시간에 따라 불규칙적으로 발생될 수 있다. 전류 커브(C3)는, 소정 기간(t1~tM)에 걸쳐 측정된 배터리 전 류의 전류값들을 포함하는 시계열이다. 설명의 편의를 위해, 배터리 전류는 소정 기간(t1~tM) 동안 일정한 것으 로 예시하였다. 도 6의 전압 커브(C2)를 도 5의 전압 커브(C1)와 비교해보면, 도 5의 측정 노이즈가 없는 전압 커브(C1)로부터 는 이상 거동(X, Y)를 쉽게 식별 가능한 반면, 도 6의 소정 기간(t1~tM) 전체에 걸쳐 측정 노이즈가 혼재된 전 압 커브(C2)로부터는 이상 거동(X, Y)을 식별하기 어렵다는 과제가 있다. 본 발명의 발명자는, 셀 전압의 측정 타이밍에서 발생된 측정 노이즈가 포함된 전압값들(측정값들)의 시계열에 제1 평균 필터 및 제2 평균 필터를 적용함으로써, 전술된 과제가 해결될 수 있음을 확인하였다. 검출 대상인 배 터리 셀(BC)에 대해 과거 소정 기간에 걸쳐 취득된 전압값들의 시계열을 '기준 전압 커브'라고 칭하고, 전류값 들의 시계열을 '기준 전류 커브'라고 칭할 수 있다. 이하에서는, 도 6의 전압 커브(C2) 및 전류 커브(C3)를 각 각 기준 전압 커브(C2)와 기준 전류 커브(C3)로 가정하여 설명하겠다. 제1 제어부는 터데이에 포함된 셀 전압의 시계열에 제1 시간 길이의 무빙 윈도우를 적용하여, 복수의 서브 전압 커브를 결정하도록 구성될 수 있다. 구체적으로, 제1 제어부는 기준 전압 커브(C2)에 대해 제1 시간 길이의 무빙 윈도우를 적용하여, 복수의 서브 전압 커브를 결정할 수 있다. 아울러, 제1 제어부는 기준 전류 커브(C3)에 대해 제1 시간 길이의 무 빙 윈도우를 적용하여, 복수의 서브 전압 커브에 일대일 연관된 복수의 서브 전류 커브를 결정할 수 있다. K는 M 이하의 자연수라고 할때, 기준 전압 커브(C2)로부터 총 M개의 서브 전압 커브(즉, 제1 내지 제M 서브 전 압 커브)가 결정될 수 있다. 기준 전압 커브(C2)는, 샘플링 시간(W)마다 순차적으로 측정된 총 M개의 전압값들 (즉, 제1 내지 제M 전압값)을 포함한다. 서브 전압 커브(SK)는 기준 전압 커브(C2)의 부분집합으로서 시간순으로 연속된 (A/W+1)개의 전압값들을 포함한 다. 일 예로, 샘플링 시간 W = 0.1초, 제1 시간 길이 A = 10초인 경우, 서브 전압 커브(SK)는 총 101개의 전압 값 즉, 제(K-P) 전압값부터 제(K+P) 전압값까지의 시계열이다. P=A/2W=50. 도 6에서, RK는 서브 전압 커브(SK)에 연관된 서브 전류 커브이다. 따라서, 서브 전류 커브(RK) 역시 시간순으 로 연속된 (A/W+1)개의 데이터 포인트들(전류값들)을 포함할 수 있다. 배터리 전류가 크게 변동할수록, 셀 전압 역시 크게 변동한다. 배터리 전류로 인한 셀 전압의 급격한 변동은, 기준 전압 커브(C2)로부터 셀 전압의 거동 이상적인 거동을 식별하는 데에 방해 요소가 될 수 있다. 제1 제어부는 서브 전류 커브(RK)의 최대 전류값과 최소 전류값 간의 차이인 서브 전류 커브(RK)의 전류 변화량을 결정할 수 있다. 제1 제어부는 서브 전류 커브(RK)를 이용하여 정전류 충전 또는 휴지와 같이 배 터리 전류의 변동이 작은 동안에 측정된 셀 전압의 시계열로부터 배터리 셀의 거동 이상을 검출할 수 있다. 제1 제어부는 전류 변화량이 임계 변화량 미만인 것을 조건으로, 서브 전류 커브(RK)에 연관된 서브 전압 커브(SK)의 장기 평균 전압값 및 단기 평균 전압값을 결정할 수 있다. 제1 제어부는 서브 전류 커브(RK)의 전류 변화량이 임계 변화량 이하인 것을 조건으로, 서브 전압 커브 (SK)에 대한 후술된 연산 과정들을 실행할 수 있다. 제1 제어부는 제1 시간 길이의 제1 평균 필터를 이용하여, 각 서브 전압 커브(SK)의 장기 평균 전압값을 결정할 수 있다. 도 7을 참조하면, 제1 평균 전압 커브(AC1)는, 기준 전압 커브(C2)에 제1 시간 길이(A)의 제1 평균 필터를 적용 하여 취득될 수 있다. 제1 평균 필터는, 로우 패스 필터의 일종으로서, 제1 시간 길이(A)에 대응하는 부분집합 크기(subset size, A/W+1)를 가지는 중심 이동 평균(centered moving average)일 수 있다. 일 예로, 제1 제어 부는 서브 전압 커브(SK)에 포함된 (A/W+1)개의 전압값들 즉, 제(K-P) 전압값 내지 제(K-1) 전압값, 제K 전압값 및 제(K+1) 전압값 내지 제(K+P) 전압값을 평균하여, 측정 타이밍(tK)에 인덱스되는 장기 평균 전압값 (Vav1[K])을 결정한다. 아래의 수식 10은 제1 평균 필터를 나타낸다. <수식 10>"}
{"patent_id": "10-2024-0013517", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 11, "content": "수식 10에서, Vm[i]는 기준 전압 커브(C2)에 포함된 제i 전압값, A는 제1 시간 길이, W는 샘플링 시간, P=A/2W, Vav1[K]는 측정 타이밍(tK)에서의 장기 평균 전압값이다. 제1 제어부는 수식 10의 K에 1부터 M을 대입함으 로써, 도 7의 제1 평균 전압 커브(AC1)를 결정할 수 있다. 제1 시간 길이 A는 샘플링 시간 W의 정수배로서 미리 정해져 있다. 따라서, 제1 시간 길이 A는 장기 평균 전압값(Vav1[K])을 구하는 데에 이용되는 부분집합의 크기 (A/W+1)를 나타낸다. 그리고, 제1 제어부는 제1 시간 길이보다 짧은 제2 시간 길이의 제2 평균 필터를 이용하여, 서브 전압 커 브의 단기 평균 전압값을 결정할 수 있다. 도 8을 참조하면, 제2 평균 전압 커브(AC2)는, 기준 전압 커브(C2)에 제1 시간 길이(A)보다 짧은 제2 시간 길이 (B)의 제2 평균 필터를 적용하여 취득된다. 제2 평균 필터는, 로우 패스 필터의 일종으로서, 제2 시간 길이(B) 에 대응하는 부분집합 크기(B/W+1)를 가지는 중심 이동 평균일 수 있다. 일 예로, 제1 제어부는 서브 전압 커브(SK)에 포함된 (B/W+1)개의 전압값들 즉, 제(K-Q) 전압값 내지 제 (K-1) 전압값, 제K 전압값 및 제(K+1) 전압값 내지 제(K+Q) 전압값을 평균하여, 측정 타이밍(tK)에 인덱스되는 단기 평균 전압값(Vav2[K])을 결정한다. Q=B/2W. 단기 평균 전압값(Vav2[K])은, 서브 전압 커브(SK)의 부분집합 (UK)의 평균이다. 부분집합(UK)은, 서브 전압 커브(SK)의 시간 범위(tK-P ~ tK+P) 내에 위치하면서 시간 범위 (tK-P ~ tK+P)와 측정 타이밍(tK)이 동일한 시간 범위(tK-Q ~ tK+Q)의 전압 커브이다. 아래의 수식 11는 제2 평균 필터를 나타낸다. <수식 11>"}
{"patent_id": "10-2024-0013517", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 12, "content": "수식 11에서, Vm[i]는 기준 전압 커브(C2)에 포함된 제i 전압값, B는 제2 시간 길이, W는 샘플링 시간, Q=B/2W, Vav2[K]는 측정 타이밍(tK)에서의 단기 평균 전압값이다. 제1 제어부는 수식 11의 K에 1부터 M을 한번씩 대입함으로써, 도 8의 제2 평균 전압 커브(AC2)를 결정할 수 있다. 제2 시간 길이 B는 샘플링 시간 W의 정수배로서 미리 정해져 있다. 따라서, 제2 시간 길이 B는 단기 평균 전압값(Vav2[K])을 구하는 데에 이용되는 부분집 합의 크기(B/W+1)를 나타낸다. 제1 시간 길이 A > 제2 시간 길이 B, 제1 평균 전압 커브(AC1)의 각 데이터 포인트(즉, 장기 평균 전압값)을 ' 장기 평균값'이라고 칭하고, 제2 평균 전압 커브(AC2)의 각 데이터 포인트(즉, 단기 평균 전압값)을 '단기 평균 값'이라고 칭할 수 있다. 일 예로, A는 B의 10배일 수 있다. 제1 제어부는 서브 전압 커브의 장기 평균 전압값 및 단기 평균 전압값 간의 차이에 대응되는 전압 편차를 결정할 수 있다. 예컨대, 제1 제어부는 각 서브 전압 커브의 상기 장기 평균 전압값 및 상기 단기 평균 전압값 중 하나에서 다른 하나를 차감하여, 상기 서브 전압 커브에 연관된 전압 편차를 결정할 수 있다. 도 9를 참조하면, 전압 편차 커브(VC)는, 제1 평균 전압 커브(AC1) 및 제2 평균 전압 커브(AC2) 중 하나에서 다 른 하나를 차감함 결과이다. 즉, 전압 편차 커브(VC)는, 소정 기간(t1~tM)에 대한 총 M개의 전압 편차들의 시계 열이다. 서브 전압 커브(SK)에 연관된 전압 편차(ΔV[K])는, 장기 평균 전압값(Vav1[K]) 및 단기 평균 전압값 (Vav2[K]) 중 하나에서 다른 하나를 차감한 값이다. 일 예로, ΔV[K] = Vav2[K] - Vav1[K]. 전술된 바와 같이, 장기 평균 전압값(Vav1[K])은 측정 타이밍(tK)을 중심으로 하는 제1 시간 길이 A의 장기간에 대한 평균 셀 전압이고, 단기 평균 전압값(Vav2[K])은 측정 타이밍(tK)을 중심으로 하는 제2 시간 길이 B의 단 기간에 대한 평균 셀 전압이다. 따라서, 장기 평균 전압값(Vav1[K]) 및 단기 평균 전압값(Vav2[K]) 중 하나에서 다른 하나를 차감하여 전압 편차(ΔV[K])를 구함으로써, 측정 타이밍(tK) 전후의 일정 기간에 걸쳐 발생된 측정 노이즈가 효과적으로 제거되는 효과가 있다. 장기 평균 전압값(Vav1[K]) 및 단기 평균 전압값(Vav2[K]) 중 하나에서 다른 하나를 차감하는 과정을 통해, 측 정 타이밍(tK) 전후의 일정 기간에 걸쳐 발생된 측정 노이즈가 상당 수준 상쇄되는 장점이 있다. 제1 제어부는 배터리 셀의 거동 이상을 검출하기 위하여, 복수의 서브 전압 커브에 대해 결정된 복수의 전 압 편차(ΔV[K]) 각각을 제1 임계 편차(TH1) 및 제2 임계 편차(TH2) 중 적어도 하나와 비교하도록 구성될 수 있 다. 예를 들어, 제1 제어부는 전압 편차(ΔV[K])를 제1 임계 편차(TH1) 및 제2 임계 편차(TH2)와 비교할 수 있 다. 제1 임계 편차(TH1)는 소정의 양수(예, +0.001 V)이고, 제2 임계 편차(TH2)는 제1 임계 편차(TH1)와 절대값 이 동일한 소정의 음수(예, -0.001 V)일 수 있다. 제1 제어부는 전압 편차 커브(VC)에 포함된 모든 전압 편차들 중 소정 개수(예, 10) 이상의 전압 편차들이, 제1 임계 편차(TH1) 이상이거나 제2 임계 편차(TH2) 이하인 경우, 배터리 셀(BC)이 거동 이상인 것으 로 검출할 수 있다. 제1 제어부는 복수의 전압 편차 중에서 제1 조건, 제2 조건 및 제3 조건을 각각 만족하는 어느 두 전압 편 차에 대응하여 거동 이상을 검출하도록 구성될 수 있다. 구체적으로, 제1 제어부는 복수의 서브 전압 커브에 대해 결정된 상기 복수의 전압 편차 중 어느 두 전압 편차가 제1 조건, 제2 조건 및 제3 조건을 만족하는 경우, 배터리 셀이 거동 이상인 것으로 판정하도록 구성할 수 있다. 예를 들어, 제1 제어부는 전압 편차 커브(VC)에 포함된 총 M개의 전압 편차들 중, 어느 두 전압 편차가 제 1 조건, 제2 조건 및 제3 조건을 만족하는 경우, 배터리 셀(BC)이 거동 이상인 것으로 판정할 수 있다. 제1 조 건은, 두 전압 편차 중 하나가 제1 임계 편차(TH1) 이상인 경우에 만족된다. 제2 조건은, 두 전압 편차 중 다른 하나가 제2 임계 편차(TH2) 이하인 경우에 만족된다. 제3 조건은, 두 전압 편차 간의 시간 간격이 임계 시간 이 하인 경우에 만족된다. 임계 시간은, 제1 시간 길이(A) 미만으로 미리 정해질 수 있다. 도 9를 참조하면, 전압 편차(ΔV[a])는 제2 임계 편차(TH2) 이하이고(제2 조건 만족), 전압 편차(ΔV[b])는 제1 임계 편차(TH1) 이상이 다(제1 조건 만족). 따라서, 두 전압 편차(ΔV[a], ΔV[b]) 간의 시간 간격(Δt = tb - ta)가 임계 시간 이하인 경우, 배터리 셀(BC)은 거동 이상인 것으로 검출할 수 있다. 지금까지 도 3 내지 도 9를 참조하여 본 발명의 다양한 실시예에 따른 제1 제어부가 터데이를 이용하여 전 압 이상 여부 및 거동 이상 여부 중 적어도 하나의 이상을 검출하는 방법에 대하여 설명하였다. 이하에서는 도 10을 참조하여 본 발명의 일 실시예에 따른 외부 장치에 대해 자세히 설명하도록 한다. 도 10은 본 발명의 일 실시예에 따른 외부 장치의 개략적인 구성을 나타낸 블록도이다. 외부 장치 는 배터리 셀을 진단하는 전용 디바이스일 수 있다. 외부 장치는 저장부 및 제3 제어부를 포 함할 수 있다. 저장부는 터데이에 포함된 충방전 데이터를 수집하고 수집된 충방전 데이터를 저장할 수 있다. 저장부는 데이터 및/또는 정보를 기록하고 소거할 수 있는 것이라면 그 종류에 특별한 제한이 없다. 일 예시로서, 저장부은 RAM, ROM, 레지스터, 플래쉬 메모리, 하드디스크, 또는 자기기록 매체일 수 있다. 저장부은 제3 제어부에 의해 접근이 가능하도록 데이터 버스 등을 통해 제3 제어부과 전기적 으로 연결될 수 있다. 저장부은 제3 제어부이 수행하는 각종 제어 로직을 포함하는 프로그램, 및/또는 제어 로직이 실행 될 때 발생되는 데이터, 및/또는 미리 설정된 데이터, 파라미터, 룩업 정보/테이블 등을 저장 및/또는 갱신 및/ 또는 소거 및/또는 전송한다. 먼저, 제2 진단 정보에 포함된 배터리 셀의 진단 정보가 배터리 셀의 리튬 석출 진단에 관한 정보인 실시예를 설명한다. 일 실시예에서, 제2 진단 정보는 누적 용량 차이 변화량이 임계치 이상인지 여부를 나타낼 수 있다. 여기서, 누 적 용량 차이 변화량은 용량 차이 변화량의 합일 수 있다. 즉, 복수의 용량 차이 변화량의 총합이 누적 용량 차 이 변화량으로 산출될 수 있다. 여기서, 용량 차이 변화량 각각은, 배터리 셀의 k(k는 2이상의 자연수) 번째 충 방전 사이클의 용량 차이와 배터리 셀의 k-1번째 충방전 사이클의 용량 차이 간의 차이이다. 여기서, 각각의 충 방전 사이클의 용량 차이는, 충방전 사이클의 충전 과정 동안의 배터리 셀의 충전용량과 충방전 사이클의 방전 과정 동안의 배터리 셀의 방전용량 간의 차이에 대응된다. 여기서, 충전용량 및 방전용량 각각은, 전류 측정부 로부터 획득되어 터데이에 포함된 데이터로부터 도출 가능하다. 제3 제어부는 터데이를 이용하여, 리튬 석출 진단과 관련된 배터리 셀의 진단 정보를 포함하는 제2 진단 정보를 생성할 수 있다. 제2 진단 정보를 생성하기 위해 필요한 충방전 사이클의 횟수는 미리 설정될 수 있다. 일 예에서, 제2 진단 정보를 생성하기 위해 필요한 충방전 사이클의 횟수는 20회일 수 있다. 예컨대, 충방전 사이클은 충전 사이클과 방전 사이클을 포함할 수 있다. 충전 사이클은 배터리 셀의 온도를 일 정하게 유지하면서 미리 설정된 충전 전압 구간의 하한부터 상한까지 배터리를 충전시키고 충전을 중단하는 것 을 의미할 수 있다. 방전 사이클은 충전 사이클이 완료된 후 소정 시간 동안 배터리를 안정화시켰다가 배터리 셀의 온도를 충전 사이클과 동일하게 유지하면서 미리 설정된 방전 전압 구간의 상한부터 하한까지 배터리를 방 전시키고 방전을 중단하는 것을 의미할 수 있다. 충전 전압 구간과 방전 전압 구간은 동일할 수도 있고 다를 수 도 있다. 하지만, 복수의 충방전 사이클을 진행함에 있어서, 충전 사이클 상호 간의 충전 전압 구간은 서로 동 일하고 방전 사이클 상호 간의 방전 전압 구간 또한 동일한 것이 바람직하다. 다른 예에서, 충전 사이클은 배터리 셀의 온도를 일정하게 유지하면서 미리 설정된 충전 전압 구간의 하한부터 상한까지 배터리를 충전시키고 충전을 중단하는 것을 의미한다. 방전 사이클은 미리 설정된 방전 전압 구간의 상한부터 방전을 시작하고 방전 전류를 적산하여 전류 적산값이 미리 설정된 방전용량에 도달되었을 때 방전을 중단하는 것을 의미한다. 복수의 충방전 사이클을 진행함에 있어서, 충전 사이클 상호 간의 충전 전압 구간은 서로 동일하고 방전 사이클 상호 간의 방전용량이 서로 동일한 것이 바람직하다. 제3 제어부는 터데이에 포함된 데이터로부터 배터리 셀의 충전용량 및 방전용량을 도출할 수 있다. 구체 적으로, 제3 제어부는 터데이에 포함된 충전 전류 또는 방전 전류에 관한 정보를 이용하여 k번째(k는 2 이상의 자연수) 충방전 사이클에서 상기 터데이에 포함된 전류 측정값을 입력 받아 충전용량(ChgAh[k])과 방전 용량(DchgAh[k])을 산출할 수 있다. 예를 들어, 제3 제어부는 충방전 사이클 인덱스 k를 1로 초기화하고, 첫 번째 용량 차이 변화량 △dAh[1] 및 첫 번째 누적 용량 차이 변화량( )을 각각 0으로 초기화할 수 있다. 제3 제어부는 배터리에 대한 첫 번째 충방전 사이클을 시작할 수 있다. 본 명세서에서 외부 장치가 충방전 사이클을 시작한다는 것은, 터데이를 이용하여 충방전 사이클에 해당하는 데이터를 획득한다는 의미일 수 있다. 제3 제어부는 첫 번째 충방전 사이클을 진행하는 동안 터데이에 포함된 전류 측정값을 이용하여 충전용량 (ChgAh[1])과 방전용량(DchgAh[1])을 산출할 수 있다. 터데이는 미리 설정된 충전 전압 구간에서 진행된 충전 사이클 및 미리 설정된 방전 전압 구간에서 진행된 방전 사이클에 대한 정보를 포함할 수 있다. 충전 전압 구간과 방전 전압 구간은 동일할 수도 있고 다를 수 있다. 바람직하게, 방전 사이클은 충전 사이클이 종료된 이후 배터리 셀의 전압이 안정화된 이후에 개시된다. 또한, 방전 사이클은 배터리 셀의 전압이 미리 설 정된 방전 종료 전압에 도달되었을 때 또는 방전전류의 적산값이 미리 설정된 방전용량에 도달되었을 때 종료될 수 있다. 충전 사이클 및 방전 사이클의 시작과 종료가 전압 값을 기준으로 제어된 경우, 외부 장치은 터 데이에 포함된 전압 측정값을 참조할 수 있다. 터데이에 포함된 전압 측정 값은 전압 센싱부를 통해 측정 된 값일 수 있다. 제3 제어부는 충방전 사이클에 대한 인덱스 k가 n과 동일할 때까지 충반전 사이클을 계속 진행할 수 있다. n은 리튬 석출 이상을 검출하기 위해 진행할 수 있는 충방전 사이클의 총 횟수로서 미리 설정되는 자연수 이다. 일 예에서, n은 20일 수 있다. 제3 제어부는 충전용량(ChgAh[k])과 방전용량(DchgAh[k]) 사이의 차이에 해당하는 용량 차이(dAh[k])를 결정할 수 있다. 즉, 용량 차이(dAh[k])는 충전용량(ChgAh[k])과 방전용량(DchgAh[k])의 차이로 산출될 수 있다. 예컨대, 첫 번째 충방전 사이클(예컨대, k=1)에 대해 설명한다. 제3 제어부는 결정된 용량 차이(dAh[1]) 를 타임 스탬프와 함께 저장부에 기록할 수 있다. 일 예에서, 용량 차이(dAh[1])는 충전용량(ChgAh[1])으 로부터 방전용량(DchgAh[1])을 차감하여 결정할 수 있다. 제3 제어부는 충전용량(ChgAh[1])과 방전용량 (DchgAh[1]) 사이의 차분에 해당하는 용량 차이(dAh[1])를 결정하고, 결정된 용량 차이(dAh[1])를 타임 스탬프 와 함께 저장부에 기록할 수 있다. 일 예에서, 용량 차이(dAh[1])는 충전용량(ChgAh[1])으로부터 방전용 량(DchgAh[1])을 차감하여 결정할 수 있다. 제3 제어부는 k-1번째 충방전 사이클의 용량 차이(dAh[k-1])로부터 k번째 충방전 사이클의 용량 차이 (dAh[k])를 차감하여 k번째 용량 차이 변화량(△dAh[k])을 결정할 수 있다. 즉, 용량 차이 변화량(△dAh[k])은 배터리 셀의 k번째 충방전 사이클의 용량 차이(dAh[k])와 k-1번째 충방전 사이클의 용량 차이(dAh[k-1]) 간의 차이로 산출될 수 있다. 예를 들어, 제3 제어부는 첫 번째 충방전 사이클의 용량 차이(dAh[1])로부터 두 번째 충방전 사이클의 용 량 차이(dAh[2])를 차감하여 두 번째 용량 차이 변화량(△dAh[2])을 결정할 수 있다. 제3 제어부는 k번째 용량 차이 변화량(△dAh[k])이 기준치보다 크면 누적 용량 차이 변화량에 k번째 용량 차이 변화량(△dAh[k])을 가산하여 상기 누적 용량 차이 변화량을 갱신할 수 있다. 여기서, 누적 용량 차이 변 화량은 산출된 복수의 용량 차이 변화량의 합일 수 있다. 예를 들어, 제3 제어부는 첫 번째 누적 용량 차이 변화량( )에 두 번째 용량 차이 변화량(△ dAh[2])을 가산하여 누적 용량 차이 변화량을 갱신하고 갱신된 값을 두 번째 누적 용량 차이 변화량 ( )으로 결정한다. 참고로, 첫 번째 누적 용량 차이 변화량( )은 초기화 값인 0이다. 제3 제어부는 갱신된 누적 용량 차이 변화량이 임계치 이상이면, 리튬 석출 이상인 것으로 검출하고 제2 진단 정보를 생성할 수 있다. 임계치는 리튬 석출 이상을 검출하는데 적합한 값을 의미할 수 있다. 예를 들어, 임계치는 배터리 용량의 0.1% 일 수 있다. 임계치는 외부 장치에 기 설정된 값일 수도 있고, 터데이에 포함된 값일 수 있다. 제3 제어부는 갱신된 누적 용량 차이 변화량이 임계치 이상이면, 배터리 내부에서 리튬 석출 이상이 발생 된 것으로 판단하고, 제2 진단 정보를 생성할 수 있다. 즉, 제2 진단 정보는 누적 용량 차이 변화량이 임계치 이상인지 여부를 나타낼 수 있다. 다른 실시예에서, 제2 진단 정보는 배터리 셀의 연속된 충방전 사이클 간의 용량 차이 변화량을 나타낼 수도 있 다. 여기서, 배터리 셀의 충방전 사이클 각각에 대한 용량 차이는 (i) 배터리 셀의 충방전 사이클의 충전 과정 동안의 배터리 셀의 충전용량과 (ii) 배터리 셀의 충방전 사이클의 방전 과정 동안의 배터리 셀의 방전용량 간 의 차이일 수 있다. 이 경우, 제1 제어부는 제2 진단 정보로부터 용량 차이 변화량의 합을 계산하여 누적용량 차이 변화량을 산출할 수 있다. 그리고, 제1 제어부는 누적 용량 차이 변화량이 임계치 이상인지 여 부를 판단할 수 있다. 다음으로, 제2 진단 정보에 포함된 배터리 셀의 진단 정보가 배터리 셀의 병렬 접속체의 이상에 관한 정보인 실 시예를 설명한다. 제2 진단 정보는 외부 장치가 추정 용량값의 경시적 변화를 모니터링한 결과에 기반한 배터리 셀에 포함 된 복수의 단위 셀의 병렬 접속체의 이상 여부를 나타낼 수 있다. 여기서, 추정 용량값은 충방전 데이터에 기반 한 배터리 셀의 만충전 용량을 나타낼 수 있다. 여기서, 충방전 데이터는 배터리 셀의 전압의 경시적 변화를 나 타내는 전압 시게열 및 배터리 셀의 충방전 전류의 경시적 변화를 나타내는 전류 시계열을 포함할 수 있다. 저장부는 터데이에 포함된 충전 전류 또는 방전 전류에 관한 정보를 이용하여 배터리 셀의 양단에 걸친 전압의 경시적 변화를 나타내는 전압 시계열 및 상기 배터리 셀을 통해 흐르는 충방전 전류의 경시적 변화를 나 타내는 전류 시계열을 포함하는 충방전 데이터를 수집하고, 수집된 충방전 데이터를 저장할 수 있다. 제3 제어부는 충방전 데이터에 기초하여, 배터리 셀의 만충전 용량을 나타내는 추정 용량값을 결정할 수 있다. 그리고, 제3 제어부는 결정된 추정 용량값의 경시적 변화를 모니터링하여, 병렬 접속체의 이상을 검출할 수 있다. 병렬 접속체의 이상 여부에 대응되는 배터리 셀의 진단 정보는 제2 진단 정보에 포함될 수 있 다. 도 11 내지 도 14를 참조하여 외부 장치가 병렬 접속체 이상을 검출하는 방법에 대해 자세히 살펴보도록 한다. 도 11은 도 3에 도시된 배터리 셀의 개략적인 구성을 예시적으로 보여주는 도면이고, 도 12는 배터리 셀의 제1 용량 이상(불완전 단선 고장)을 설명하는 데에 참조되면 도면이고, 도 13은 배터리 셀의 제2 용량 이상(완전 단 선 고장)을 설명하는 데에 참조되면 도면이다. 도 11을 참조하면, 배터리(B)는, 전극 조립체(B200), 양극 리드(B210), 음극 리드(B220) 및 외장재(B230)를 포 함한다. 전극 조립체(B200)는, 복수의 단위 셀(BUC1~UCM, M은 2 이상의 자연수)의 병렬 접속체의 일 예이다. 단위 셀 (BUC)은, 세퍼레이터(B203), 양극판(B201) 및 세퍼레이터(B203)에 의해 양극판(B201)과 절연되는 음극판(B20 2)을 포함한다. 양극판(B201)은 양극 리드(B210)의 일 단부측에 접속되는 부분인 양극탭(B205)을 가지고, 음극판(B202)은 음극 리드(B220)의 일 단부측에 접속되는 부분인 음극탭(B206)을 가진다. 복수의 단위 셀(UC1~UCM)의 양극탭들(B205)과 음극탭들(B206)이 양극 리드(B210) 및 음극 리드(B220) 각각의 일 단부측에 결합된 상태에서, 전극 조립체(B200)가 전해질과 함께 외장재(B230) 내에 수용된다. 외장재(B230)의 외부로 노출된 양극 리드(B210) 및 음극 리드(B220) 각각의 타 단부측이 배터리(BB)의 양극 단자와 음극 단자로 서 제공된다. 도 12를 참조하면, 전극 조립체(B200)의 제1 용량 이상은, 복수의 단위 셀(UC1~UCM) 중 몇몇 단위 셀(UC1, UC 2)의 전극탭(B205, B206)에 미소 손상 및/또는 불완전 단선 고장이 발생되어, 단위 셀(UC1, UC2)과 전극 리드 (B210, B220) 간의 접촉 저항(R1, R2)이 큰 폭으로 불규칙하게 가변되는 상태를 의미할 수 있다. 불완전 단선 고장은, 전극탭(B205, B206)의 절단된 부위들이 서로 이격된 상태를 유지되지 못하고, 배터리(B)의 수축-팽창에 따라 절단된 부위들 간의 접속과 이격이 유동적으로 발생하며, 접속 시의 접촉 면적 또한 가변적인 상태를 의미할 수 있다. 단위 셀(UC1, UC2)에서의 접촉 저항이 작게 유지되는 동안에는 모든 단위 셀(UC1~UCM)이 거의 균등하게 충방전 되다가, 접촉 저항 접촉 저항(R1, R2)이 증가할수록 단위 셀(UC1, UC2)이 나머지 단위 셀(UC3~UCM)로부터 탈락 (단선)된 상태에 가까워지고, 그로 인해 배터리(B)의 용량은 단위 셀(UC1, UC2)의 접촉 저항 접촉 저항(R1, R 2)에 크게 의존하면서 급격히 증가하거나 감소하는 거동을 불규칙하게 보이게 된다. 예컨대, 배터리(B)의 스웰 링으로 인해 단위 셀(UC1, UC2)의 전극탭(B205, B206)과 전극 리드(B210, B220) 간에 큰 인장력이 작용하는 동 안 단위 셀(UC1, UC2)의 접촉 저항 접촉 저항(R1, R2)이 증가하고, 반대로 인장력이 점차 줄어들수록 단위 셀 (UC1, UC2)의 접촉 저항 접촉 저항(R1, R2)이 감소한다.도 13을 참조하면, 전극 조립체(B200)의 제2 용량 이상은, 복수의 단위 셀(UC1~UCM) 중 몇몇 단위 셀(UC1, UC 2)이 회복 블가하게 파단된 상태 즉, 단위 셀(UC1, UC2)의 완전 단선 고장으로 인해 단위 셀(UC1, UC2)과 전극 리드(B210, B220) 간의 충방전 전류 경로가 비가역적으로 상실된 상태로 등가화된다. 완전 단선 고장은, 단위 셀(UC1, UC2)의 전극탭(B205, B206)이나 전극판(B201, B202)이 서로 재접속 불가한 정 도로 이격된 다수의 부위들로 절단된 상태라는 점에서, 전술된 불완전 단선 고장과는 구별된다. 배터리(B)의 제조 또는 사용 중의 어떤 시각에 단위 셀(UC1, UC2)에 의한 제2 용량 이상이 발생된 것은, 단위 셀(UC1, UC2)이 전극 리드(B210, B220)로부터 복구 불가능하게 탈락된 것을 의미할 수 있다. 따라서. 제2 용량 이상이 발생된 특정 시각부터는, 단위 셀(UC1, UC2)은 배터리(B)의 충방전에 어떠한 기여도 하지 못하므로, 배 터리(B)의 용량은 단위 셀(UC1, UC2)이 제외된 나머지 단위 셀(UC3~UCM)의 용량에만 의존한다. 외부 장치는, 충방전 데이터에 용량 추정 모델을 적용하여, 배터리 셀의 만충전 용량(FCC: Full Charge Capacity, 완전 충전 용량, 풀충전 용량)을 나타내는 추정 용량값을 결정하는 절차를 주기적 또는 비주기적으로 반복할 수 있다. 외부 장치는, 추정 용량값의 경시적인 변화를 모니터링할 수 있다. 용량 추정 모델은, 충방전 데이터를 입력 받아, 그에 대응하는 출력으로서 추정 용량값을 제공하는 일종의 알고리즘으로서, 여러 함수들의 조합이다. 구체적으로, 용량 추정 모델은, (i) 배터리(B)의 전류 시계열로부터, 과거의 일정 기간 또는 가변 기간에 걸친, 배터리(B)의 충방전 전류의 전류 적산값을 연산하는 제1 함수, (ii) 배터리(B)의 전압 시계열 및/또는 전류 시 계열로부터, 과거의 일정 기간 또는 가변 기간에 걸친, 배터리(B)의 OCV(Open Circuit Voltage, 개로 전압)를 연산하는 제2 함수, (iii) 미리 주어진 OCV-SOC(State Of Charge) 관계 테이블을 이용하여, 배터리(B)의 OCV로 부터 배터리(B)의 SOC를 연산하는 제3 함수, 및 (iv) 공통된 기간에 대해 각각 연산된, 전류 적산값과 SOC 변화 값 간의 비율로부터 배터리(B)의 만충전 용량의 추정 결과 즉, 추정 용량값을 연산하는 제4 함수를 포함할 수 있다. 아래의 수식 12는 제4 함수의 일 예이다. <수식 12>"}
{"patent_id": "10-2024-0013517", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 13, "content": "위 수식에서, ΔAht1-t2는, 두 시각 t1, t2 간의 시간 범위에 걸쳐 반복 측정된 충방전 전류의 전류 적산값, Δ SOCt1-t2는, 두 시각 t1, t2 간의 시간 범위에 걸친 SOC 변화값, FCCt2는 시각 t2에서의 만충전 용량을 나타내 는 추정 용량값이다. 시각 t1는, 시각 t2에 앞서고, ΔAht1-t2의 절대값이 기준 적산값 이상인 것 및/또는 Δ SOCt1-t2의 절대값이 기준 변화값 이상인 것이 만족되는 최근의 시각일 수 있다. 기준 적산값과 기준 변화값은, ΔAht1-t2 및/또는 ΔSOCt1-t2의 절대값이 매우 작음으로 인한 FCCt2의 정확도 저하를 방지하기 위해 미리 정해 질 수 있다. 전류 적산값을 연산함에 있어서, 충전 전류는 양수로 방전 전류는 음수로 설정될 수 있다. 시각 t2는, 만충전 용량의 연산 타이밍이다. 만충전 용량을 제1 시간 간격마다 반복 연산하는 경우, 시각 t2는 제1 시간 간격으로 쉬프트됨은 당업자라면 쉽게 이해할 수 있을 것이다. 일 예로, 과거의 공통 기간에 걸친 전류 적산값과 SOC 변화값이 각각 +100 Ah[ampere-hour] 및 +80 %인 경우, 만충전 용량의 추정 용량값은 125 Ah이다. 다른 예로, 과거의 공통 기간에 걸친 전류 적산값과 SOC 변화값이 각 각 -75 Ah[ampere-hour] 및 -60 %인 경우, 만충전 용량의 추정 용량값 또한 125 Ah이다. 만충전 용량은, 배터리(B)에 최대로 저장 가능한 용량 즉, SOC 100%에서의 배터리(B)의 잔존 용량을 나타낸다. 만충전 용량은, 배터리(B)가 퇴화됨에 따라 완만하게 감소하는 것이 정상이다. 따라서, 짧은 시간 간격 동안의 만충전 용량의 감소량이 일정 수준을 웃도는 것은, 제1 용량 이상 또는 제2 용량 이상의 발생을 나타낸다. 도 14는 배터리 셀의 용량 이상과 만충전 용량 간의 관계를 설명하는 데에 참조되는 예시적인 그래프이다. 도 14를 참조하면, 커브(C21)는 정상 배터리 셀의 만충전 용량의 경시적 변화를 예시한다. 이해를 돕기 위해 정 상 배터리 셀의 만충전 용량이 시간 경과에 따라 선형적으로 감소하는 것으로 커브(C21)를 단순화하였다. 커브(C22)는 제1 용량 이상과 제2 용량 이상이 순차 발생될 경우의 배터리(B)의 만충전 용량의 경시적 변화를 예시한다. 커브(C22)를 살펴보면, 도 12에서와 같이 단위 셀(UC1, UC2)의 미소 손상 및/또는 불완전 단선 고장 으로 인한 제1 용량 이상이 발생된 배터리(B)의 만충전 용량을 나타낸다. 커브(C22)에 있어서, 만충전 용량은,시각 ta(예, 배터리 셀의 출고 시각)에서 시각 tb에 걸쳐 완만하게 감소하다가, 시각 tb에서 시각 tc 사이에 걸 쳐 급감소 후, 시각 tc에서 시각 td 사이에 걸쳐 급증가하고 있다. 즉, 시각 tb에서 시각 tc 사이에서의 만충전 용량의 감소분이 시각 tc에서 시각 td 사이에 걸쳐 대부분 회복되었다. 이는, 도 12를 참조하여 앞서 설명한 바 와 같이, 단위 셀(UC1, UC2)의 접촉 저항 접촉 저항(R1, R2)이 시각 tb에서 시각 tc 사이에서 급증했다가 시각 tc에서 시각 td 사이에 걸쳐 정상 수준으로 복귀한 결과이다. 제1 용량 이상이 장기 지속될 경우 제2 용량 이상으로 발전(심화)될 수 있다는 것이다. 커브(C22)를 살펴보면, 시각 td 후, 시각 te에서 시각 tf에 걸쳐, 이전의 시각 tb에서 시각 tc에서와 유사하게, 만충전 용량의 급감소 가 나타나고 있다. 다만, 시각 tc~td에서의 거동과는 대조적으로, 만충전 용량의 급감소가 멈춘 시각 tf 후에도 만충전 용량이 정상 수준으로 회복되지 못한 채로, 커브(C21)와 유사한 기울기를 가진다. 이는, 도 13을 참조하 여 앞서 설명한 바와 같이, 시각 te 부근에서 단위 셀(UC1, UC2)의 완전 단선 고장 즉, 제2 용량 이상이 발생된 결과이다. 외부 장치는, 커브(C22)에 따른 만충전 용량 즉, 추정 용량값의 경시적 변화(시계열)를 모니터링하여, 병 렬 접속체(B200)의 제1 용량 이상 및/또는 제2 용량 이상의 발생 여부를 판정한다. 구체적으로, 외부 장치는, 제1 시간 간격 이상인 제2 시간 간격을 두고 제1 시간 간격으로 쉬프트되는, 제1 시각과 제2 시각에서의 두 추정 용량값에 진단 로직을 적용하여, 병렬 접속체 (B200)의 제1 용량 이상 및/ 또는 제2 용량 이상의 발생 여부를 판정할 수 있다. 제2 시각은 제1 시각보다 제2 시간 간격만큼 뒷선 시각이며, 제1 시각과 제2 시각은 각각 제1 시간 간격마다 제1 시간 간격만큼씩 증가되도록 외부 장치에 의해 설정될 수 있다. 제1 시간 간격은 충방전 데이터의 수집 주기(또는, 추정 용량값의 연산 주기)와 동일할 수 있고, 제2 시간 간격은 제1 시간 간격의 정수배(예, 10배)일 수 있다. 진단 로직은, (i) 제1 시각에서의 추정 용량값보다 작게, 제2 시각에 대한 임계 용량값을 결정하는 제1 루틴 및 (ii) 제2 시각에서의 추정 용량값을 제2 시각에 대한 임계 용량값과 비교하는 제2 루틴을 포함할 수 있다. 제1 루틴에 있어서, 제2 시각에 대한 임계 용량값은, 제1 시각에서의 추정 용량값에서 기준 용량값을 차감한 결 과 또는 제1 시각에서의 추정 용량값에 1 미만의 기준 팩터를 곱한 결과와 동일할 수 있다. 기준 용량값은, 배 터리(B)에 포함된 복수의 단위 셀(UC1~UCM)의 총 개수(M)와 배터리(B)의 설계 용량(신품 상태에서의 만충전 용 량)을 고려하여 미리 정해진 값으로 메모리에 기록되어 있을 수 있다. 기준 팩터는, 배터리(B)에 포함된 복수의 단위 셀(UC1~UCM)의 총 개수(M)를 고려하여 미리 정해진 값(예, (M-1)/M, (M-2)/M)으로 메모리에 기록되어 있을 수 있다. 도 14의 커브(C23)는, 커브(C22)에 제1 루틴을 적용하여 연산되는 임계 용량값의 경시 적 변화를 예시하고 있다. 외부 장치는, 제2 시각에서의 추정 용량값이 제2 시각에 대한 임계 용량값 미만인 경우, 병렬 접속체 (B200)에 제1 용량 이상과 제2 용량 이상 중 적어도 하나가 발생된 것으로 판정할 수 있다. 그리고, 외부 장치 는 병렬 접속체의 이상 여부를 나타내는 제2 진단 정보를 생성할 수 있다. 구체적으로, 외부 장치는, 제2 시각에서의 추정 용량값이 제2 시각에 대한 임계 용량값 미만일 때마다 진 단 카운트를 1 증가시킬 수 있다. 연산 회로는, 제2 시각에서의 추정 용량값이 제2 시각에 대한 임계 용량 값 이상일 때마다, 진단 카운트를 초기값(예, 0)으로 리셋하거나 진단 카운트를 1 감소시킬 수 있다. 진단 카운 트가 임계 카운트에 도달하기 전의 제2 시각에서의 추정 용량값이 제2 시각에 대한 임계 용량값 이상으로 회복 되는 것에 응답하여, 외부 장치는 병렬 접속체(B200)의 이상 유형이 제1 용량 이상인 것으로 판정할 수 있다. 외부 장치는, 진단 카운트가 임계 카운트(예, 5)에 도달한 것에 응답하여, 병렬 접속체(B200)의 제 2 용량 이상이 발생한 것으로 판정할 수 있다. 도 14에서, 시각 ta+, tb+, tc+, td+, te+ 및 tf+는 각각 시각 ta, tb, tc, td, te 및 tf로부터 제2 시간 간격 만큼 양의 방향으로 쉬프트된 시각이다. 시각 tx과 시각 ty 사이의 시간 범위에 걸쳐 커브(C22)가 커브(C22)의 아래에 위치하고 있다. 따라서, 시각 tx 이후부터 시각 ty까지, 진단 카운트는 제1 시간 간격마다 1씩 증가해간 다. 외부 장치는, 시각 ty 이전에 진단 카운트가 임계 카운트에 도달한 것에 응답하여, 배터리(B)가 제2 용량 이상에 연관된 소정의 보호 기능을 활성화할 수 있다. 마지막으로, 제2 진단 정보에 포함된 배터리 셀의 진단 정보가 배터리 셀의 내부 단락에 관한 정보인 실시예를 설명한다.제2 진단 정보는 배터리 셀의 제1 SOC 변화 및 기준 팩터에 기반한 배터리 셀의 내부 단락 여부를 나타낼 수 있 다. 여기서, 기준 팩터는 복수의 배터리 셀 중 적어도 두 배터리 셀의 제1 SOC 변화에 통계 알고리즘이 적용되 어 결정될 수 있다. 여기서, 제1 SOC 변화는 각각의 배터리 셀의 제1 충전 시점에서의 제1 SOC 및 제2 충전 시 점에서의 제2 SOC 간의 차이일 수 있다. 여기서, 제1 SOC는 제1 충전 시점에서의 배터리 셀의 상태 파라미터에 SOC 추정 알고리즘이 적용되어 추정될 수 있다. 여기서, 제2 SOC는 제2 충전 시점에서의 배터리 셀의 상태 파라 미터에 SOC 추정 알고리즘이 적용되어 추정될 수 있다. 여기서, 상태 파라미터는 터데이에 기반하여 획득될 수 있다. 저장부는 터데이에 포함된 정보를 이용하여 복수의 배터리 셀 각각의 상태 파라미터를 취득할 수 있다. 상태 파라미터는, 배터리 셀(BC)의 전압, 전류 및/또는 온도를 포함할 수 있다. 제3 제어부는 배터리 셀(BC)의 상태 파라미터에 SOC 추정 알고리즘을 적용하여, 배터리 팩의 충전 기 간, 방전 기간 및/또는 휴지 기간에서의 배터리 셀(BC)의 SOC 변화를 모니터링할 수 있다. 일 예로, SOC 추정 알고리즘으로서는, OCV-SOC 관계 맵 또는 칼만 필터가 활용될 수 있다. OCV-SOC 관계 맵 및 칼만 필터는 SOC 추 정에 널리 활용되는 기법이므로, 구체적인 설명은 생략하기로 한다. 제3 제어부는 충전 동안에 취득된 복수의 배터리 셀(BC1~BCN) 각각의 상태 파라미터에 SOC 추정 알고리즘 을 적용하여, 각 배터리 셀(BC)에 대해, 제1 충전 시점에서의 제1 SOC 및 제2 충전 시점에서의 제2 SOC 간의 차 이인 제1 SOC 변화를 결정할 수 있다. 제1 충전 시점 및 제2 충전 시점은, 최근 충전 기간 내의 서로 다른 두 시점이라면 특별히 제한되지 않는다. 제3 제어부는 복수의 배터리 셀 중 적어도 두 배터리 셀의 제1 SOC 변화들에 통계 알고리즘을 적용하여, 기준 팩터를 결정할 수 있다. 기준 팩터는, 복수의 배터리 셀(BC1~BCN) 중 적어도 두 배터리 셀의 제1 SOC 변화 들에 대한 대표값일 수 있다. 예컨대, 기준 팩터는 복수의 배터리 셀 중 적어도 두 배터리 셀의 제1 SOC 변화들 의 평균값 또는 중앙값일 수 있다. 제3 제어부는 각 배터리 셀의 제1 SOC 변화 및 기준 팩터를 기초로, 각 배터리 셀의 내부 단락 이상을 검 출할 수 있다. 그리고, 배터리 셀의 내부 단락 여부에 대응되는 배터리 셀의 진단 정보는 제2 진단 정보에 포함 될 수 있다. 이하에서는 도 15 내지 도 18을 참조하여, 외부 장치가 내부 단락 이상을 검출하는 방법에 대해 자세히 살펴보도록 한다. 도 15는 배터리 셀의 예시적인 등가 회로를 설명하는 데에 참조되는 도면이다. 본 명세서에 있어서, 정상 배터 리 셀은 복수의 배터리 셀(BC1~BCN) 중에서 내부 단락 이상이 없는 것을 칭하고, 이상 배터리 셀은 복수의 배터 리 셀(BC1~BCN) 중에서 내부 단락 이상을 가지는 것을 칭한다. 도 15를 참조하면, 정상 배터리 셀은, 직류 전압원(VDC), 내부 저항 성분(R0) 및 RC 페어(R1, C)의 직렬 회로로 서 등가화될 수 있다. 이와 비교할 때, 이상 배터리 셀은, 정상 배터리 셀에 대응하는 직렬 회로의 양단 사이에 추가적 저항 성분(RISC)이 연결된 것으로 등가화될 수 있다. 추가적 저항 성분(RISC)은 누설 전류(IISC)의 경로 로서 작용한다. 이상 배터리 셀의 충전 시, 충전 전력의 일부는 이상 배터리 셀에 저장되지 못한 채로 누설 전류(IISC)로서 소 모되어 버린다. 또한, 이상 배터리 셀의 방전 시, 방전 전력 중 일부는 전기 부하에 공급되지 못한 채로 누설 전류(IISC)로서 소모되어 버린다. 참고로, 이상 배터리 셀의 휴지 시에는 방전 시와 유사하게, 이상 배터리 셀 에 저장된 에너지가 누설 전류(IISC)로서 소모되어 버린다. 저항(RISC)의 저항값 감소는 내부 단락 이상의 심화 를 의미하며, 내부 단락 이상이 심화될수록 누설 전류(IISC)로 소모되는 전력량이 증가할 수 있다. 결과적으로, 충전에 있어서, 이상 배터리 셀의 전압 변화(즉, SOC의 상승량)는 정상 배터리보다 작다. 반면, 방 전에 있어서, 이상 배터리 셀의 전압 변화(즉, SOC의 저하량)는 정상 배터리 셀보다 크다. 도 16 내지 도 18은 내부 단락 이상의 유무에 따른 배터리 셀의 SOC 변화를 비교하는 데에 참조되는 예시적인 그래프들이다. 도 16 내지 도 18은 동일 기간에 있어서의 충방전 전류, 배터리 셀(BC)의 전압 및 배터리 셀(B C)의 SOC 변화를 각각 예시하고 있다. 도 16을 참조하면, 시점 t0 및 시점 t4는 휴지 상태로부터 충전 상태로 전환되는 시점을 나타내고, 시점 t1 및 시점 t5는 충전 상태로부터 휴지 상태로 전환되는 시점을 나타내고, 시점 t2는 휴지 상태로부터 방전 상태로 전 환되는 시점을 나타내고, 시점 t3는 방전 상태로부터 휴지 상태로 전환되는 시점을 나타낸다. 즉, 도 16에 있어서, 시점 t0부터 시점 t1까지의 기간과 시점 t4부터 시점 t5까지의 기간이 충전 기간이고, 시점 t2부터 시점 t3 까지의 기간이 방전 기간이고, 그 외의 나머지는 휴지 기간이다. 설명의 편의를 위해, 도 16에서는 각 충전 기 간의 충전 전류에 양의 값을 부여하고, 방전 기간의 방전 전류에 음의 값을 부여하였으며, 각 기간에서의 전류 는 일정한 것으로 예시하였다. 도 17에 있어서, 커브(VC2)는 도 16에 도시된 전류 커브에 대응하는 정상 배터리 셀의 전압 곡선을 나타내고, 커브(VC3)는 도 16에 도시된 전류 커브에 대응하는 이상 배터리 셀의 전압 곡선을 나타낸다. 커브(VC2)를, 복수 의 배터리 셀(BC1~BCN)의 평균 전압의 시계열로 취급해도 좋다. 외부 장치는, 복수의 배터리 셀(BC1~BCN) 각각의 상태 파라미터를 주기적 또는 비주기적으로 취득하여, 상태 파라미터의 시계열을 저장부에 기록할 수 있다. 도 17을 참조하면, 충전 기간에서, 정상 배터리 셀과 이상 배터리 셀은 둘 다 전압이 점진적으로 상승해간다. 다만, 이상 배터리 셀은 정상 배터리 셀보다 충전 전력의 수용 능력이 낮으므로, 이상 배터리 셀의 전압 상승량 은 정상 배터리 셀의 전압 상승량보다 작다. 방전 기간에서, 정상 배터리 셀과 이상 배터리 셀은 둘 다 전압이 점진적으로 하강해간다. 다만, 이상 배터리 셀 내에서는 정상 배터리 셀의 방전 전력에 더하여 누설 전류(IISC)에 따른 추가적인 전력 소모가 발생하므로, 이상 배터리 셀의 전압 하강량은 정상 배터리 셀의 전압 하강량보다 크다. 도 18에 있어서, 커브(VC4)는 도 17에 도시된 전압 커브(VC2)에 대응하는 정상 배터리 셀의 SOC 곡선을 나타내 고, 커브(VC5)는 도 17에 도시된 전압 커브(VC3)에 대응하는 이상 배터리 셀의 SOC 곡선을 나타낸다. 커브(VC 4)를, 복수의 배터리 셀(BC1~BCN)의 평균 SOC의 시계열로 취급해도 좋다. 외부 장치는, 배터리 셀(BC)의 상태 파라미터에 SOC 추정 알고리즘을 적용하여, 배터리 팩의 충전 기 간, 방전 기간 및/또는 휴지 기간에서의 배터리 셀(BC)의 SOC 변화를 모니터링할 수 있다. 일 예로, SOC 추정 알고리즘으로서는, OCV-SOC 관계 맵 또는 칼만 필터가 활용될 수 있다. OCV-SOC 관계 맵 및 칼만 필터는 SOC 추 정에 널리 활용되는 기법인바, 구체적인 설명은 생략하기로 한다. 도 18을 참조하면, 충전 기간에서, 이상 배터리 셀은 정상 배터리 셀보다 SOC의 상승 속도 및 상승량이 작다. 방전 기간에서, 이상 배터리 셀은 정상 배터리 셀보다 SOC의 하강 속도 및 하강량이 크다. 아울러, 휴지 기간에 서, 정상 배터리 셀의 SOC는 대체로 일정한 반면, 이상 배터리 셀의 SOC는 충방전 전류가 흐르지 않고 있음에도 서서히 저하하고 있다. 외부 장치는, 배터리 팩의 충전 시마다, 최근 충전 기간에서의 복수의 배터리 셀(BC1~BCN) 모두의 SOC 변화들을 기초로, 배터리 셀(BC)의 내부 단락 이상을 검출하기 위한 진단 프로세스를 실행할 수 있다. 일 예로, 외부 장치는, 시점 t1에서 충전으로부터 휴지로 전환 시, 충전 기간(t0~t1)에서 취득해놓은 복수의 배터리 셀(BC1~BCN) 모두의 SOC 변화들을 기초로, 배터리 셀(BC)의 내부 단락 이상을 검출할 수 있다. 다른 예로, 외부 장치는, 시점 t5에서 충전으로부터 휴지로 전환 시, 최근 충전 기간(t4~t5)에서 취득해 놓은 복수의 배터리 셀(BC1~BCN) 모두의 SOC 변화들을 기초로, 배터리 셀(BC)의 내부 단락 이상을 검출할 수 있 다. 대안적으로, 외부 장치는, 배터리 팩의 충전 또는 방전 시마다, 최근 충전 기간에서의 복수의 배터리 셀(BC1~BCN) 모두의 SOC 변화들 및 최근 방전 기간에서의 복수의 배터리 셀(BC1~BCN) 모두의 SOC 변화들을 기초 로, 배터리 셀(BC)의 내부 단락 이상을 검출하기 위한 진단 프로세스를 실행할 수 있다. 일 예로, 외부 장치는, 시점 t3에서 방전 상태로부터 휴지 상태로 전환 시, 최근 충전 기간(t0~t1)에서 취득해놓은 복수의 배터리 셀(BC1~BCN) 모두의 SOC 변화들 및 최근 방전 기간(t2~t3)에서 취득해놓은 복수의 배 터리 셀(BC1~BCN) 모두의 SOC 변화들을 기초로, 배터리 셀(BC)의 내부 단락 이상을 검출할 수 있다. 다른 예로, 외부 장치는, 시점 t5에서 충전 상태로부터 휴지 상태로 전환 시, 최근 방전 기간(t2~t3)에서 취득해놓은 복수의 배터리 셀(BC1~BCN) 모두의 SOC 변화들 및 최근 충전 기간(t4~t5)에서 취득해놓은 복수의 배 터리 셀(BC1~BCN) 모두의 SOC 변화들을 기초로, 배터리 셀(BC)의 내부 단락 이상을 검출할 수 있다. 도 16 내지 도 18에서는 충전 기간와 방전 기간 사이에 휴지 모드가 위치하고 있으나, 이는 하나의 예시에 불과 하다. 예컨대, 충전 상태로부터 휴지 상태 없이 방전 상태로 전환되거나, 방전 상태로부터 휴지 상태 없이 충전 상태로 전환될 수 있다. 이하에서는, 상술한 본 발명의 배터리 셀 진단 장치 및 외부 장치를 이용한 배터리 셀 이상 상태 진단 방법을 상세히 설명한다. 제어 회로의 동작은 배터리 진단 방법의 다양한 실시예(들)에서 보다 구체 적으로 설명될 것이다. 본 명세서에서, 외부 장치가 수행한다는 것은 제3 제어부가 수행하는 것을 포함할 수 있다. 이하에서는, 상술한 본 발명의 배터리 셀 진단 장치 및 외부 장치를 이용한 배터리 셀 이상 상태 진단 방법을 상세히 설명한다. 제어 회로의 동작은 배터리 진단 방법의 다양한 실시예(들)에서 보다 구체 적으로 설명될 것이다. 도 19는 본 발명의 일 실시예에 따른 배터리 셀 진단 장치가 외부 장치를 이용하여 배터리 셀의 이 상 상태를 진단하는 흐름도이다. 전술한 부분과 동일한 부분은 간략하게 설명하거나 생략될 수 있다. 단계 S1000에서, 배터리 셀 진단 장치는 데이터를 획득할 수 있다. 예를 들어, 배터리 셀 진단 장치 는 데이터 획득부를 이용하여 전류 측정부 또는 전압 센싱부에서 측정된 데이터를 획득할 수 있다. 구체적으로, 배터리 셀 진단 장치는 데이터 획득부를 이용하여 전류 측정부 또는 전 압 센싱부에서 측정된 충전전류, 방전전류 및 전압 신호 증 적어도 하나에 대한 데이터를 획득할 수 있다. 또한, 배터리 셀 진단 장치는 데이터 획득부를 이용하여 온도 센서(T)에서 검출한 온도 신호에 대한 데이터를 획득할 수도 있다. 단계 S2000에서, 배터리 셀 진단 장치는 터데이를 생성할 수 있다. 예를 들어, 배터리 셀 진단 장치 는 단계 S1000에서 획득한 데이터를 기초로 배터리 셀의 터데이를 생성할 수 있다. 터데이는 이상 여부 판단의 대상이 되는 배터리 셀의 충전전류, 방전전류 및 전압 신호 중 적어도 하나에 관한 데이터를 포함할 수 있다. 단계 S3000에서, 배터리 셀 진단 장치는 생성된 터데이를 외부 장치로 송신할 수 있다. 단계 S4000에서, 배터리 셀 진단 장치는 전압 이상 여부를 검출할 수 있다. 이에 대하여는 도 20 내지 도 24를 참조하여 자세히 설명하도록 한다. 단계 S5000에서, 배터리 셀 진단 장치는 거동 이상 여부를 검출할 수 있다. 이에 대하여는 도 25 및 도 26을 참조하여 자세히 설명하도록 한다. 단계 S7000에서 외부 장치는 리튬 석출 이상 여부를 검출할 수 있다. 이에 대하여는 도 27 내지 도 32를 참조하여 자세히 설명하도록 한다. 단계 S8000에서 외부 장치는 제2 진단 정보를 생성할 수 있다. 제2 진단 정보는 리튬 석출 이상 검출 여 부를 포함할 수 있다. S9000에서 외부 장치는 제2 진단 정보를 배터리 셀 진단 장치로 송신할 수 있다. S6000에서, 배터리 셀 진단 장치는 배터리 셀 이상 상태를 진단할 수 있다. 배터리 셀 진단 장치는 전압 이상 여부, 거동 이상 여부 및 상기 제2 진단 정보를 기초로 상기 배터리 셀의 이상 상태를 진단할 수 있 다. 도 20 내지 도 24는 본 발명의 실시예에 따라 배터리 셀 진단 장치가 전압 이상 여부를 검출하는 과정을 상세하게 나타낸 순서도이다. 도 20은 본 발명의 일 실시예에 따른 전압 이상 여부를 검출하는 방법을 예시적으로 보여주는 순서도이다. 도 20의 방법은, 제1 제어부에 의해 단위 시간마다 주기적으로 실행될 수 있다. 단계 S4310에서, 제1 제어부는 터데이에 포함된 복수의 배터리 셀(BC1~BCN) 각각의 셀 전압을 나타내는 전 압 신호를 수집하여, 각 배터리 셀(BC)의 셀 전압의 시계열 데이터를 생성할 수 있다(도 4a 참조). 셀 전압의 시계열 데이터는 단위 시간이 경과될 때마다 데이터의 수가 1씩 증가할 수 있다. 예를 들어, 셀 전압으로서 Vi[k] 또는 수식 5의 VDi[k]가 사용될 수 있다. 단계 S4320에서, 제1 제어부는 각 배터리 셀(BCi)의 셀 전압의 시계열 데이터를 기초로, 각 배터리 셀(BC- i)의 제1 평균 셀 전압(S4MAi[k], 수식 1 및 수식 11 참조) 및 제2 평균 셀 전압(LMAi[k], 수식 3 및 수식 4참조)을 결정할 수 있다(도 4b 참조). 제1 평균 셀 전압(S4MAi[k])은, 제1 시간 길이를 가지는 제1 무빙 윈도우에 걸친 각 배터리 셀(BCi)의 셀 전압 의 단기 이동 평균을 의미할 수 있다. 제2 평균 셀 전압(LMAi[k])은, 제2 시간 길이를 가지는 제2 무빙 윈도우 에 걸친 각 배터리 셀(BCi)의 셀 전압의 장기 이동 평균을 의미할 수 있다. 제1 평균 셀 전압(S4MAi[k]) 및 제2 평균 셀 전압(LMAi[k])의 산출 시 Vi[k] 또는 VDi[k]가 사용될 수 있다. 단계 S4330에서, 제1 제어부는 각 배터리 셀(BCi)의 장단기 평균 차이(|S4MAi[k]- LMAi[k]|)를 결정할 수 있다(도 4c 참조). 단계 S4340에서, 제1 제어부는 각 배터리 셀(BCi)의 셀 진단 편차(Ddiag,i[k])를 결정할 수 있다. 셀 진단 편차(Ddiag,i[k])는 전체 배터리 셀에 대한 장단기 평균 차이의 평균값(|S4MAi[k]- LMAi[k]|av)과 제i 배터리 셀(BCi)의 장단기 평균 차이(|S4MAi[k]- LMAi[k]|)의 편차를 의미할 수 있다. 단계 S4350에서, 제1 제어부는 진단 시간이 경과되었는지 판단할 수 있다. 진단 시간은 미리 설정될 수 있 다. 단계 S4350의 판단이 YES4이면 단계 S4360이 진행되고, 단계 S4350의 판단이 NO이면, 단계 S4310 내지 단계 S4340이 다시 반복된다. 단계 S4360에서, 제1 제어부는 진단 시간 동안 수집된 각 배터리 셀(BCi)의 셀 진단 편차(Ddiag,i[k])에 대한 시계열 데이터를 생성할 수 있다. 단계 S4370에서, 제1 제어부는 셀 진단 편차(Ddiag,i[k])에 대한 시계열 데이터를 분석하여 각 배터리 셀 (BCi)의 전압 이상을 검출할 수 있다. 일 예에서, 제1 제어부는 각 배터리 셀(BCi)의 셀 진단 편차(Ddiag,i[k])에 대한 시계열 데이터에서 셀 진 단 편차(Ddiag,i[k])가 진단 임계치(예컨대, 0.015)보다 큰 시간 구간을 적산하고, 적산 시간이 미리 설정된 기 준 시간보다 큰 조건이 성립되는 배터리 셀을 전압 이상 셀로 검출할 수 있다. 예를 들어, 제1 제어부는 셀 진단 편차(Ddiag,i[k])가 진단 임계치보다 큰 조건이 연속적으로 충족되는 시 간 구간만을 적산할 수 있다. 해당 시간 구간이 복수이면, 제1 제어부는 각 시간 구간마다 적산 시간을 독 립적으로 산출할 수 있다. 다른 예에서, 제1 제어부는 각 배터리 셀(BCi)의 셀 진단 편차(Ddiag,i[k])에 대한 시계열 데이터에서 셀 진단 편차(Ddiag,i[k])가 진단 임계치(예컨대,0.015)보다 큰 데이터 수를 적산하고, 데이터 적산치가 미리 설정 된 기준 카운트보다 큰 조건이 성립되는 배터리 셀을 전압 이상 셀로 검출할 수 있다. 제1 제어부는 셀 진단 편차(Ddiag,i[k])가 진단 임계치보다 큰 조건이 연속적으로 충족되는 시간 구간에 포함된 데이터 수만을 적산할 수 있다. 해당 시간 구간이 복수이면, 제1 제어부는 각 시간 구간의 데이터 수를 독립적으로 적산할 수 있다. 도 21은 본 발명의 일 실시예에 따른 전압 이상 여부를 검출하는 방법을 예시적으로 보여주는 다른 순서도이다. 도 21의 방법은, 제1 제어부에 의해 단위 시간마다 주기적으로 실행될 수 있다. 도 21의 전압 이상 여부를 검출하는 방법에 있어서, 단계 S4310 내지 단계 S4360은 도 20의 실시예와 실질적으 로 동일하므로 이에 대한 설명은 생략한다. 단계 S4360 이후에, 단계 S4380이 진행된다. 단계 S4380에서, 제1 제어부는 수식 8을 이용하여 통계적 가변 임계치(DthreS4hold[k])의 시계열 데이터를 생성할 수 있다. 수식 8의 Sigma 함수의 입력은 단계 S4360에서 생성된 전체 배터리 셀의 셀 진단 편차 (Ddiag,i[k])에 대한 시계열 데이터들이다. 바람직하게, 셀 진단 편차(Ddiag,i[k])의 최대값은 Sigma 함수의 입 력 값에서 제외될 수 있다. 셀 진단 편차(Ddiag,i[k])는 장단기 평균 차이(|SMAi[k]-LMAi[k]|)에 대한 평균값 대비 편차이다. 단계 S4390에서, 제1 제어부는 수식 9를 이용하여 각 배터리 셀(BCi)의 셀 진단 편차(Ddiag,i[k])를 필터 링함으로써 필터 진단 값(Dfilter,i[k])의 시계열 데이터를 생성할 수 있다. 수식 9를 이용함에 있어서, D*diag,i[k]는 Ddiag,i[k]로 대체될 수 있다. 단계 S4400에서, 제1 제어부는 필터 진단 값(Dfilter,i[k])의 시계열 데이터를 분석하여 각 배터리 셀 (BCi)의 전압 이상을 판단할 수 있다. 일 예에서, 제1 제어부는 각 배터리 셀(BC-i)에 대한 필터 진단 값(Dfilter,i[k])의 시계열 데이터에서 필 터 진단 값(Dfilter,i[k])이 진단 임계치(예컨대, 0)보다 큰 시간 구간을 적산하고, 적산 시간이 미리 설정된 기준 시간보다 큰 조건이 성립되는 배터리 셀을 전압 이상 셀로 판단할 수 있다. 바람직하게, 제1 제어부는 필터 진단 값(Dfilter,i[k])이 진단 임계치보다 큰 조건이 연속적으로 충족되는 시간 구간만을 적산할 수 있다. 해당 시간 구간이 복수이면, 제1 제어부는 각 시간 구간마다 적산 시간을 독립적으로 산출할 수 있다. 다른 예에서, 제1 제어부는 각 배터리 셀(BC-i)에 대한 필터 진단 값(Dfilter,i[k])의 시계열 데이터에서 필터 진단 값(Dfilter,i[k])이 진단 임계치(예컨대, 0)보다 큰 시간 구간에 포함된 데이터 수를 적산하고, 데이 터 적산치가 미리 설정된 기준 카운트보다 큰 조건이 성립되는 배터리 셀을 전압 이상 셀로 검출할 수 있다. 바람직하게, 제1 제어부는 필터 진단 값(Dfilter,i[k])이 진단 임계치보다 큰 조건이 연속적으로 충족되는 시간 구간에 포함된 데이터 수만을 적산할 수 있다. 해당 시간 구간이 복수이면, 제1 제어부는 각 시간 구 간의 데이터 수를 독립적으로 적산할 수 있다. 도 22는 본 발명의 일 실시예에 따른 전압 이상 여부를 검출하는 방법을 예시적으로 보여주는 또 다른 순서도이 다. 도 22의 방법은, 제1 제어부에 의해 단위 시간마다 주기적으로 실행될 수 있다. 제3 실시예에 따른 배터리 진단 방법은 제 1실시예와 비교하여 단계 S4340, S4360 및 S4370이 각각 단계 S4341, S4361 및 단계 S4371으로 변경된 점만 제외하고 나머지 구성은 실질적으로 동일하다. 따라서, 차이가 있는 구성 에 대해서만 설명한다. 단계 S4341에서, 제1 제어부는 수식 6을 이용하여 각 배터리 셀(BCi)의 장단기 평균 차이(|SMAi[k]- LMAi[k]|)에 대한 정규화된 셀 진단 편차(D*diag,i[k])를 결정할 수 있다. 정규화 기준값은 장단기 평균 차이 (|SMAi[k]- LMAi[k]|)의 평균값이다. 수식 6은 수식 7로 대체 가능하다. 단계 S4361에서, 제1 제어부는 진단 시간 동안 수집된 각 배터리 셀(BCi)의 정규화된 셀 진단 편차 (D*diag,i[k])에 대한 시계열 데이터를 생성할 수 있다(도 4d 참조). 단계 S4371에서, 제1 제어부는 정규화된 셀 진단 편차(D*diag,i[k])에 대한 시계열 데이터를 분석하여 각 배터리 셀(BCi)의 전압 이상을 검출할 수 있다. 일 예에서, 제1 제어부는 각 배터리 셀(BCi)의 정규화된 셀 진단 편차(D*diag,i[k])에 대한 시계열 데이터 에서 셀 진단 편차(D*diag,i[k])가 진단 임계치(예컨대, 4)보다 큰 시간 구간을 적산하고, 적산 시간이 미리 설 정된 기준 시간보다 큰 조건이 성립되는 배터리 셀을 전압 이상 셀로 검출할 수 있다. 제1 제어부는 정규화된 셀 진단 편차(D*diag,i[k])가 진단 임계치보다 큰 조건이 연속적으로 충족되는 시 간 구간만을 적산할 수 있다. 해당 시간 구간이 복수이면, 제1 제어부는 각 시간 구간마다 적산 시간을 독 립적으로 산출할 수 있다. 다른 예에서, 제1 제어부는 각 배터리 셀(BCi)의 정규화된 셀 진단 편차(D*diag,i[k])에 대한 시계열 데이 터에서 셀 진단 편차가 진단 임계치(예컨대, 4)보다 큰 데이터 수를 적산하고, 데이터 적산치가 미리 설정된 기 준 카운트보다 큰 조건이 성립되는 배터리 셀을 전압 이상 셀로 검출할 수 있다. 제1 제어부는 정규화된 셀 진단 편차(D*diag,i[k])가 진단 임계치보다 큰 조건이 연속적으로 충족되는 시 간 구간에 포함된 데이터 수만을 적산할 수 있다. 해당 시간 구간이 복수이면, 제1 제어부는 각 시간 구간 의 데이터 수를 독립적으로 적산할 수 있다. 도 23은 본 발명의 일 실시예에 따른 전압 이상 여부를 검출하는 방법을 예시적으로 보여주는 또 다른 순서도이 다. 도 23의 방법은, 제1 제어부에 의해 단위 시간마다 주기적으로 실행될 수 있다. 도 23에 따른 배터리 진단 방법은 도 21과 비교하여 S4340, S4360, S4380, S4390 및 S4400이 각각 단계 S4341, S4361, S4381, S4391 및 S4401로 변경된 점만 제외하고 나머지 구성은 실질적으로 동일하다. 따라서, 도 23의 실시예에 대해서는 도 21과 차이가 있는 구성에 대해서만 설명한다. 단계 S4341에서, 제1 제어부는 수식 6을 이용하여 각 배터리 셀(BCi)의 장단기 평균 차이(|SMAi[k]- LMAi[k]|)에 대한 정규화된 셀 진단 편차(D*diag,i[k])를 결정할 수 있다. 정규화 기준값은 장단기 평균 차이 (|SMAi[k]- LMAi[k]|)의 평균값을 의미할 수 있다. 수식 6은 수식 7로 대체 가능하다. 단계 S4361에서, 제1 제어부는 진단 시간 동안 수집된 각 배터리 셀(BCi)의 정규화된 셀 진단 편차 (D*diag,i[k])에 대한 시계열 데이터를 생성할 수 있다(도 4d 참조). 단계 S4381에서, 제1 제어부는 수식 8을 이용하여 통계적 가변 임계치(DthreShold[k])의 시계열 데이터를 생성할 수 있다. 수식 8의 Sigma 함수의 입력은 단계 S4361에서 생성된 전체 배터리 셀의 정규화된 셀 진단 편 차(D*diag,i[k])에 대한 시계열 데이터들이다. 실시예에 따라, 각 시간 인덱스에서, 셀 진단 편차(D*diag,i [k])의 최대값은 Sigma 함수의 입력 값에서 제외될 수 있다. 단계 S4391에서, 제1 제어부는 수식 9를 이용하여 통계적 가변 임계치(DthreS4hold[k])를 기준으로 각 배 터리 셀(BCi)의 셀 진단 편차(D*diag,i[k])를 필터링함으로써 필터 진단 값(Dfilter,i[k])의 시계열 데이터를 생성할 수 있다. 단계 S4401에서, 제1 제어부는 필터 진단 값(Dfilter,i[k])의 시계열 데이터를 분석하여 각 배터리 셀 (BCi)의 전압 이상을 검출할 수 있다. 일 예에서, 제1 제어부는 각 배터리 셀(BC-i)에 대한 필터 진단 값(Dfilter,i[k])의 시계열 데이터에서 필 터 진단 값(Dfilter,i[k])이 진단 임계치(예컨대, 0)보다 큰 시간 구간을 적산하고, 적산 시간이 미리 설정된 기준 시간보다 큰 조건이 성립되는 배터리 셀을 전압 이상 셀로 검출할 수 있다. 예를 들어, 제1 제어부는 필터 진단 값(Dfilter,i[k])이 진단 임계치보다 큰 조건이 연속적으로 충족되는 시간 구간을 적산할 수 있다. 해당 시간 구간이 복수이면, 제1 제어부는 각 시간 구간마다 적산 시간을 독 립적으로 산출할 수 있다. 다른 예에서, 제1 제어부는 각 배터리 셀(BC-i)에 대한 필터 진단 값(Dfilter,i[k])의 시계열 데이터에서 필터 진단 값(Dfilter,i[k])이 진단 임계치(예컨대, 0)보다 큰 시간 구간에 포함된 데이터 수를 적산하고, 데이 터 적산치가 미리 설정된 기준 카운트보다 큰 조건이 성립되는 배터리 셀을 전압 이상 셀로 검출할 수 있다. 제1 제어부는 필터 진단 값(Dfilter,i[k])이 진단 임계치보다 큰 조건이 연속적으로 충족되는 시간 구간에 포함된 데이터 수만을 적산할 수 있다. 해당 시간 구간이 복수이면, 제1 제어부는 각 시간 구간의 데이터 수를 독립적으로 적산할 수 있다. 도 24는 본 발명의 일 실시예에 따른 전압 이상 여부를 검출하는 방법을 예시적으로 보여주는 또 다른 순서도이 다. 도 24에 있어서, 단계 S4310 내지 단계 S4361까지는 도 23과 실질적으로 동일하다. 따라서, 도 23과 차이가 있 는 구성에 대해서만 설명한다. 단계 S4410에서, 제1 제어부는 각 배터리 셀(BCi)의 정규화된 셀 진단 편차(D*diag,i[k]) 시계열 데이터를 이용하여 셀 진단 편차(D*diag,i[k])에 대한 제1 이동 평균(SMAi[k]) 시계열 데이터 및 제2 이동 평균 (LMAi[k]) 시계열 데이터를 생성할 수 있다.(도 4f 참조). 단계 S4420에서, 제1 제어부는 수식 6을 이용하여 각 배터리 셀(BCi)의 제1 이동 평균(SMAi[k]) 시계열 데 이터 및 제2 이동 평균(LMAi[k]) 시계열 데이터를 이용하여 정규화된 셀 진단 편차(D*diag,i[k]) 시계열 데이터 를 생성할 수 있다(도 4g 참조). 단계 S4430에서, 제1 제어부는 수식 8을 이용하여 통계적 가변 임계치(DthreS52hold[k])의 시계열 데이터 를 생성할 수 있다(도 4g 참조). 단계 S4440에서, 제1 제어부는 수식 9를 이용하여 통계적 가변 임계치(DthreShold[k])를 기준으로 각 배터 리 셀(BCi)의 필터 진단 값(Dfilter,i[k])에 대한 시계열 데이터 생성할 수 있다(도 4h 참조). 단계 S4450에서, 제1 제어부는 각 배터리 셀(BCi)의 필터 진단 값(Dfilter,i[k])의 시계열 데이터를 분석 하여 각 배터리 셀(BCi)의 전압 이상을 검출할 수 있다. 일 예에서, 제1 제어부는 각 배터리 셀(BC-i)에 대한 필터 진단 값(Dfilter,i[k])의 시계열 데이터에서 필 터 진단 값(Dfilter,i[k])이 진단 임계치(예컨대, 0)보다 큰 시간 구간을 적산하고, 적산 시간이 미리 설정된 기준 시간보다 큰 조건이 성립되는 배터리 셀을 전압 이상 셀로 검출할 수 있다. 제1 제어부는 필터 진단 값(Dfilter,i[k])이 진단 임계치보다 큰 조건이 연속적으로 충족되는 시간 구간을 적산할 수 있다. 해당 시간 구간이 복수이면, 제1 제어부는 각 시간 구간마다 적산 시간을 독립적으로 산 출할 수 있다.제1 제어부는 각 배터리 셀(BC-i)에 대한 필터 진단 값(Dfilter,i[k])의 시계열 데이터에서 필터 진단 값 (Dfilter,i[k])이 진단 임계치(예컨대, 0)보다 큰 시간 구간에 포함된 데이터 수를 적산하고, 데이터 적산치가 미리 설정된 기준 카운트보다 큰 조건이 성립되는 배터리 셀을 전압 이상 셀로 검출할 수 있다. 제1 제어부는 필터 진단 값(Dfilter,i[k])이 진단 임계치보다 큰 조건이 연속적으로 충족되는 시간 구간에 포함된 데이터 수만을 적산할 수 있다. 해당 시간 구간이 복수이면, 제1 제어부는 각 시간 구간의 데이터 수를 독립적으로 적산할 수 있다. 도 24에서, 제1 제어부는 단계 S4410 및 단계 S4420을 2회 이상 재귀적으로 실시할 수 있다. 제1 제어부 는 단계 S4420에서 생성된 정규화된 셀 진단 편차(D*diag,i[k]) 시계열 데이터를 이용하여 또 다시 단계 S4410에서 셀 진단 편차(D*diag,i[k])에 대한 제1 이동 평균(SMAi[k]) 시계열 데이터 및 제2 이동 평균 (LMAi[k]) 시계열 데이터를 생성할 수 있다. 제1 제어부는 단계 S4420에서 또 다시 각 배터리 셀(BCi)의 제1 이동 평균(SMAi[k]) 시계열 데이터 및 제2 이동 평균(LMAi[k]) 시계열 데이터를 이용하여 수식 6을 기초로 정규화된 셀 진단 편차(D*diag,i[k]) 시계열 데 이터 생성할 수 있다. 이러한 재귀적 알고리즘은 정해진 횟수만큼 반복될 수 있다. 재귀적 알고리즘에 따라 단계 S4410 및 단계 S4420이 실시될 때, 단계 S4430 내지 단계 S4450은 재귀적 알고리 즘을 통해 최종 산출된 셀 진단 편차(D*diag,i[k]) 시계열 데이터를 이용하여 실시될 수 있다. 본 발명의 실시예에 있어서, 제1 제어부는 전체 배터리 셀들에 대한 전압 이상 검출을 실시한 후, 특정 배 터리 셀(들)에서 전압 이상이 검출되면, 검출 결과 정보를 포함한 제3 진단 정보를 생성할 수 있다. 또한, 제1 제어부는 전압 이상이 진단된 배터리 셀의 식별정보(ID), 전압 이상이 검출된 시점 및 검출 flag를 메모리 부(미도시)에 기록할 수 있다. 제3 진단 정보는 셀 그룹(CG)에서 전압 이상이 생긴 셀이 있음을 나타내는 메시지를 포함할 수 있다. 선택적으 로, 제3 진단 정보는 배터리 셀들(BC1~BCN)의 정밀 점검이 필요하다는 내용의 경고 메시지를 포함할 수 있다. 상술한 실시예들에 따르면, 단위 시간마다, 서로 다른 두 시간 길이에 대한 각 배터리 셀의 셀 전압의 두 이동 평균을 결정하고, 복수의 배터리 셀 각각의 두 이동 평균 간의 차이를 기초로, 각 배터리 셀의 전압 이상을 효 율적이면서 정확하게 검출할 수 있다. 다른 측면에 따르면, 각 배터리 셀의 두 이동 평균의 변화 경향 차이를 분석함에 있어서 정규화 및/또는 통계적 가변 임계치 등의 고도화된 기법을 적용함으로써 각 배터리 셀의 전압 이상을 정확하게 검출할 수 있다. 또 다른 측면에 따르면, 통계적 가변 임계치를 기준으로 결정된 필터 진단 값의 시계열 데이터를 분석하여 각 배터리 셀의 전압 이상이 발생된 시간 구간 및/또는 전압 이상 검출 카운트 등을 정밀하게 검출하는 것이 가능 하다. 이상으로 배터리 셀 진단 장치에 포함된 제1 제어부가 전압 이상 여부를 검출하는 방법에 대해 검토 하였다. 이하에서는 배터리 셀 진단 장치에 포함된 제1 제어부가 거동 이상을 검출하는 방법에 대해 검토하도록 한다. 도 25 및 도 26은 본 발명의 실시예에 따라 배터리 셀 진단 장치가 거동 이상을 검출하는 과정을 상세하 게 나타낸 순서도이다. 도 25는 본 발명의 일 실시예에 따른 거동 이상을 검출하는 방법을 예시적으로 보여주는 순서도이다. 단계 S5710에서, 제1 제어부는 기준 전압 커브(C2)에 제1 시간 길이(A)의 무빙 윈도우를 적용하여, 복수의 서브 전압 커브를 결정한다. 기준 전압 커브(C2)는, 소정 기간(t1~tM) 동안 샘플링 시간마다 측정된 배터리 셀 (BC)의 셀 전압을 나타내는 복수의 전압값의 시계열이다. 단계 S5720에서, 제1 제어부는 복수의 서브 전압 커브의 각 서브 전압 커브(SK)에 연관된 전압 편차(Δ V[K])를 결정한다. 단계 S5720는, 하위 단계들로서 단계 S5722, S5724 및 S5726을 포함할 수 있다. 단계 S5722에서, 제1 제어부는 제1 시간 길이(A)의 제1 평균 필터를 이용하여, 서브 전압 커브(SK)의 장기 평균 전압값(Vav1[K])을 결정할 수 있다(수식 10 참조). 단계 S5724에서, 제1 제어부는 제2 시간 길이(B)의 제2 평균 필터를 이용하여, 서브 전압 커브(SK)의 단기 평균 전압값(Vav2[K])을 결정할 수 있다(수식 11 참조).단계 S5726에서, 제1 제어부는 장기 평균 전압값(Vav1[K])과 단기 평균 전압값(Vav2[K]) 중 하나에서 다른 하나를 차감하여, 전압 편차(ΔV[K])를 결정할 수 있다. 단계 S5730에서, 제1 제어부는 복수의 서브 전압 커브에 대해 결정된 복수의 전압 편차 각각을 제1 임계 편차 및 제2 임계 편차 중 적어도 하나와 비교하여, 배터리 셀(BC)이 거동 이상인지 여부를 판정할 수 있다. 단 계 S5730의 값이 \"예\"인 경우, 단계 S5740로 진행될 수 있다. 단계 S5740에서, 제1 제어부는 배터리 셀(BC) 거동 이상을 검출할 수 있다. 도 26은 본 발명의 일 실시예에 따른 배터리 진단 방법을 예시적으로 보여주는 다른 순서도이다. 단계 S5800에서, 제1 제어부는 기준 전류 커브(C3)에 제1 시간 길이(A)의 무빙 윈도우를 적용하여, 복수의 서브 전류 커브를 결정할 수 있다. 기준 전류 커브(C3)는, 소정 기간(t1~tM) 동안 샘플링 시간마다 측정된 배터 리 셀(BC)의 배터리 전류를 나타내는 복수의 전류값의 시계열이다. 단계 S5810에서, 제1 제어부는 기준 전압 커브(C2)에 제1 시간 길이(A)의 무빙 윈도우를 적용하여, 복수의 서브 전압 커브를 결정할 수 있다. 단계 S5810은 단계 S5710과 동일하다. 단계 S5812에서, 제1 제어부는 복수의 서브 전류 커브의 각 서브 전류 커브(RK)의 전류 변화량을 결정할 수 있다. 단계 S5820에서, 제1 제어부는 복수의 서브 전압 커브 중, 전류 변화량이 임계 변화량 이하인 각 서브 전 류 커브(RK)에 연관된 각 서브 전압 커브(SK)의 전압 편차(ΔV[K])를 결정할 수 있다. 단계 S5820는, 도 25의 단계 S5722, S5724, S5726을 포함할 수 있다. 단계 S5830에서, 제1 제어부는 단계 S5820에서 결정된 각 전압 편차를 제1 임계 편차 및 제2 임계 편차 중 적어도 하나와 비교하여, 배터리 셀(BC)이 거동 이상인지 여부를 판정할 수 있다. 단계 S5830의 값이 \"예\"인 경 우, 단계 S5840로 진행된다. 단계 S5840에서, 제1 제어부는 배터리 셀(BC) 거동 이상을 검출할 수 있다. 도 27 내지 도 30은 본 발명의 실시예에 따라 외부 장치가 터데이를 이용하여 충방전 사이클을 반복적으 로 진행하면서 리튬 석출 이상을 검출하는 과정을 상세하게 나타낸 순서도이다. 외부 장치는 도 27 내지 도 30에 도시된 순서도에 따라 본 발명의 실시예에 따른 리튬 석출 이상을 검출 하고, 검출된 결과를 포함한 제2 진단 정보를 생성할 수 있다. 도 27은 본 발명의 실시예에 따라 리튬 석출 이상을 검출하는 방법을 예시적으로 보여주는 순서도이다. 먼저, 외부 장치은 단계 S7010에서 충방전 사이클 인덱스 k를 1로 초기화하고, 단계 S20에서 첫 번째 용 량 차이 변화량 △dAh[1] 및 첫 번째 누적 용량 차이 변화량( )을 각각 0으로 초기화한다. 이어서, 외부 장치은 단계 S7030에서 배터리에 대한 첫 번째 충방전 사이클을 시작할 수 있다. 본 명세서 에서 외부 장치가 충방전 사이클을 시작한다는 것은, 터데이를 이용하여 충반전 사이클에 해당하는 데이 터를 획득한다는 의미일 수 있다. 이어서, 외부 장치은 단계 S7040에서 첫 번째 충방전 사이클을 진행하는 동안 터데이에 포함된 전류 측정 값을 이용하여 충전용량(ChgAh[1])과 방전용량(DchgAh[1])을 산출할 수 있다. 터데이는 미리 설정된 충전 전압 구간에서 진행된 충전 사이클 및 미치 설정된 방전 전압 구간에서 진행된 방전 사이클에 대한 정보를 포함할 수 있다. 충전 전압 구간과 방전 전압 구간은 동일할 수도 있고 다를 수 있다. 바람직하게, 방전 사이클은 충전 사이클이 종료된 이후 배터리 셀의 전압이 안정화된 이후에 개시된다. 또한, 방전 사이클은 배터리 셀의 전압이 미리 설 정된 방전 종료 전압에 도달되었을 때 또는 방전전류의 적산값이 미리 설정된 방전용량에 도달되었을 때 종료될 수 있다. 충전 사이클 및 방전 사이클의 시작과 종료가 전압 값을 기준으로 제어된 경우, 외부 장치은 터 데이에 포함된 전압 측정값을 참조할 수 있다. 터데이에 포함된 전압 측정 값은 전압 센싱부를 통해 측정 된 값일 수 있다. 단계 S7050에서, 외부 장치는 충전용량(ChgAh[1])과 방전용량(DchgAh[1]) 사이의 차분에 해당하는 용량 차이(dAh[1])를 결정할 수 있다. 외부 장치는 결정된 용량 차이(dAh[1])를 타임 스탬프와 함께 저장부에 기록할 수 있다. 일 예에서, 용량 차이(dAh[1])는 충전용량(ChgAh[1])으로부터 방전용량(DchgAh[1])을 차감하여 결정할 수 있다. 단계 S7060에서, 외부 장치는 충방전 사이클에 대한 인덱스 k가 n과 동일한지 판단할 수 있다. n은 리튬 석출 이상을 검출하기 위해 진행할 수 있는 충방전 사이클의 총 횟수로서 미리 설정되는 자연수이다. 일 예에서, n은 20일 수 있다. 단계 S7060의 판단이 YES이면, 외부 장치는 리튬 석출 이상을 검출하기 위한 프로세스를 종료할 수 있다. 반면, 단계 S7060의 판단이 NO이면, 외부 장치는 프로세스를 S7070으로 이행할 수 있다. 단계 S7070에서, 외부 장치는 두 번째 충방전 사이클을 시작할 수 있다. 두 번째 충방전 사이클의 조건은 첫 번째 충방전 사이클과 실질적으로 동일할 수 있다. 이어서, 외부 장치는 단계 S7080에서 배터리에 대한 두 번째 충방전 사이클의 충전용량(ChgAh[2])과 방전 용량(DchgAh[2])을 결정하고, 단계 S7090에서 충전용량(ChgAh[2])과 방전용량(DchgAh[2]) 사이의 차분에 해당 하는 용량 차이(dAh[2])를 결정할 수 있다. 이어서, 외부 장치은 단계 S7100에서 첫 번째 충방전 사이클의 용량 차이(dAh[1])로부터 두 번째 충방전 사이클의 용량 차이(dAh[2])를 차감하여 두 번째 용량 차이 변화량(△dAh[2])을 결정할 수 있다. 단계 S100 이 후에 도 28의 단계 S7110이 진행될 수 있다. 도 28은 본 발명의 실시예에 따라 리튬 석출 이상을 검출하는 방법을 예시적으로 보여주는 다른 순서도이다. 외부 장치는 단계 S7110에서 두 번째 용량 차이 변화량(△dAh[2])이 기준치보다 큰지 판단할 수 있다. 기 준치는 0일 수 있다. 만약, 단계 S7110의 판단이 YES이면, 외부 장치은 단계 S7120에서 첫 번째 누적 용량 차이 변화량 ( )에 두 번째 용량 차이 변화량(△dAh[2])을 가산하여 누적 용량 차이 변화량을 갱신하고 갱신된 값 을 두 번째 누적 용량 차이 변화량( )으로 결정할 수 있다. 첫 번째 누적 용량 차이 변화량 ( )은 초기화 값인 0일 수 있다. 반면, 단계 S7110의 판단이 NO이면, 첫 번째 누적 용량 차이 변화량( )에 두 번째 용량 차이 변화량 (△dAh[2])을 가산하지 않고 초기값 0을 두 번째 누적 용량 차이 변화량( )에 할당할 수 있다. 외부 장치는 단계 S7140에서 두 번째 누적 용량 차이 변화량( )이 임계치 이상인지 판단할 수 있다. 임계치는 리튬 석출 이상을 검출하는데 적합한 값을 의미할 수 있다. 예를 들어, 임계치는 배터리 용량의 0.1%일 수 있다. 임계치는 외부 장치에 기설정된 값일 수도 있고, 터데이에 포함된 값일 수 있다. 단계 S7140의 판단이 YES이면, 외부 장치는 단계 S7150에서 리튬 석출 이상을 검출할 수 있다. 만약, 단계 S7140의 판단이 NO이면, 즉, 두 번째 누적 용량 차이 변화량( )이 임계치보다 작으면(또는 0이면), 외부 장치는 단계 S7160에서 충방전 사이클에 대한 인덱스 k가 n과 동일한지 여부를 판단할 수 있다. 여기서, n은 리튬 석출 이상을 검출하기 위해 진행할 수 있는 충방전 사이클의 총 횟수이다. 단계 S7160의 판단이 YES이면, 외부 장치는 리튬 석출을 검출하기 위한 충방전 사이클이 모두 진행되었으 므로 배터리 내부에 리튬 석출 이상이 발생하지 않은 것으로 최종 판단하고 프로세스를 종료할 수 있다. 외부 장치는 제2 진단 정보를 통해 리튬 석출 이상이 검출되지 않았음을 출력할 수 있다. 예를 들어, 제2 진단 정보는 리튬 석출 이상이 발생하지 않았음을 나타내는 메시지를 포함할 수 있다. 반면, 단계 S7160의 판단이 NO이면, 외부 장치은 리튬 석출 이상을 검출하기 위해 충방전 사이클을 추가 로 더 진행할 수 있다. 단계 S7160 이후에 도 29의 단계 S7180이 진행된다. 도 29는 본 발명의 실시예에 따라 리튬 석출 이상을 검출하는 방법을 예시적으로 보여주는 또 다른 순서도이다. 단계 S7180에서, 외부 장치는 세 번째 충방전 사이클을 시작한다. 세 번째 충방전 사이클의 조건은 첫 번 째 충방전 사이클과 실질적으로 동일할 수 있다. 외부 장치는 단계 S7190에서 배터리에 대한 세 번째 충방전 사이클을 진행하는 동안 충전용량(ChgAh[3]) 과 방전용량(DchgAh[3])을 결정하고, 단계 S7200에서 충전용량(ChgAh[3])과 방전용량(DchgAh[3]) 사이의 차분 에 해당하는 용량 차이(dAh[3])를 결정할 수 있다. 외부 장치는 단계 S7210에서 두 번째 충방전 사이클의 용량 차이(dAh[2])로부터 세 번째 충방전 사이클의 용량 차이(dAh[3])를 차감하여 세 번째 용량 차이 변화량(△dAh[3])을 결정할 수 있다. 외부 장치은 단계 S7220에서 세 번째 용량 차이 변화량(△dAh[3])이 기준치보다 큰지 판단할 수 있다. 예 를 들어, 기준치는 0일 수 있다. 단계 S7220의 판단이 YES이면, 외부 장치는 단계 S7230에서 두 번째 누적 용량 차이 변화량 ( )에 세 번째 용량 차이 변화량(△dAh[3])을 가산하여 누적 용량 차이 변화량을 갱신하고 갱신된 값 을 세 번째 누적 용량 차이 변화량( )으로 결정할 수 있다. 반면, 단계 S7220의 판단이 NO이면, 외부 장치은 단계 S7240에서 두 번째 누적 용량 차이 변화량 ( )에 세 번째 용량 차이 변화량(△dAh[3])을 가산하지 않고 초기값 0을 세 번째 누적 용량 차이 변화 량( )에 할당할 수 있다. 단계 S7230 및 단계 S7240 이후에 단계 S7250이 진행될 수 있다. 단계 S7250에서, 외부 장치는 세 번째 누적 용량 차이 변화량( )이 임계치 이상인지 판단할 수 있다. 만약, 단계 S7250의 판단이 YES이면, 외부 장치는 단계 S7260에서 배터리 내부에 리튬 석출 이상을 검출 할 수 있다. 외부 장치는 단계 S7260에서 리튬 석출 이상을 검출한 후 프로세스를 종료할 수 있다. 만약, 단계 S7250의 판단이 NO이면, 즉, 세 번째 누적 용량 차이 변화량( )이 임계치보다 작으면(또는 0이면), 외부 장치은 단계 S7270에서 충방전 사이클에 대한 인덱스 k가 n과 동일한지 여부를 판단할 수 있다. 여기서, n은 배터리 내부에서 리튬 석출이 발생했는지 여부를 검출하기 위해 진행할 수 있는 충방전 사이 클의 총 횟수이다. 단계 S7270의 판단이 YES이면, 리튬 석출 이상을 검출하기 위한 충방전 사이클이 모두 진행되었으므로 배터리 내부에 리튬 석출 이상이 발생하지 않은 것으로 판단하고 프로세스를 종료할 수 있다. 외부 장치는 프로세스가 종료된 후, 제2 진단 정보를 생성할 수 있다. 외부 장치는 제2 진단 정보 에 리튬 석출이 검출되었음을 나타내는 경고 메시지를 포함하도록 생성할 수 있다. 또는 제2 진단 정보는 리튬 석출 이상이 검출되지 않았음을 나타내는 메시지를 포함할 수 있다. 반면, 단계 S7270의 판단이 NO이면, 외부 장치는 리튬 석출 이상을 검출하기 위해 충방전 사이클을 추가 로 더 진행할 수 있다. 외부 장치이 네 번째 충방전 사이클 및 그 이후의 충방전 사이클에서 진행하는 리튬 석출 이상에 대한 검 출 로직은 상술한 바와 실질적으로 동일하다. 도 30은 본 발명의 실시예에 따라 리튬 석출 이상을 검출하는 방법을 예시적으로 보여주는 또 다른 순서도이다. 이하, 도 30을 참조하여 외부 장치이 네 번째 내지 n번째 충방전 사이클에서 진행하는 프로세스를 일반화 시켜 설명한다. 단계 S7280에서, 외부 장치은 k(k는 자연수로서 4 내지 n임)번째 충방전 사이클을 시작한다. k번째 충방 전 사이클의 조건은 첫 번째 충방전 사이클과 실질적으로 동일하다. 이어서, 외부 장치은 단계 S290에서 배터리에 대한 k번째 충방전 사이클을 진행하는 동안 충전용량 (ChgAh[k])과 방전용량(DchgAh[k])을 결정하고, 단계 S7300에서 충전용량(ChgAh[k])과 방전용량(DchgAh[k]) 사 이의 차분에 해당하는 용량 차이(dAh[k])를 결정한다. 이어서, 외부 장치은 단계 S310에서 k-1번째 충방전 사이클의 용량 차이(dAh[k-1])로부터 k번째 충방전 사이클의 용량 차이(dAh[k])를 차감하여 k번째 용량 차이 변화량(△dAh[k])을 결정한다. 이어서, 외부 장치은 단계 S320에서 k번째 용량 차이 변화량(△dAh[k])이 기준치보다 큰지 판단한다. 바 람직하게, 기준치는 0일 수 있다. 만약, 단계 S7320의 판단이 YES이면, 외부 장치은 단계 S7330에서 k-1번째 누적 용량 차이 변화량 ( )에 k번째 용량 차이 변화량(△dAh[k])을 가산하여 누적 용량 차이 변화량을 갱신하고 갱신된 값을 k번째 누적 용량 차이 변화량( )으로 결정할 수 있다. 반면, 단계 S7320의 판단이 NO이면, 외부 장치은 단계 S340에서 k-1번째 누적 용량 차이 변화량 ( )에 k번째 용량 차이 변화량(△dAh[k])을 가산하지 않고 초기값 0을 k번째 누적 용량 차이 변화량 ( )에 할당할 수 있다. 단계 S7330 및 단계 S7340 이후에 단계 S7350이 진행된다. 단계 S7350에서, 외부 장치은 k번째 누적 용량 차이 변화량( )이 임계치 이상인지 판단한다. 만약, 단계 S7350의 판단이 YES이면, 외부 장치은 단계 S7360에서 배터리 내부에서 리튬 석출 이상이 검 출된 것으로 판단한 후 프로세스를 종료할 수 있다. 만약, 단계 S7350의 판단이 NO이면, 즉, k번째 누적 용량 차이 변화량( )이 임계치보다 작으면(또는 0 이면), 외부 장치는 단계 S7370에서 충방전 사이클에 대한 인덱스 k가 n과 동일한지 여부를 판단할 수 있 다. 여기서, n은 배터리 내부에서 리튬 석출이 발생했는지 여부를 검출하기 위해 진행할 수 있는 충방전 사이클 의 총 횟수이다. 단계 S7370의 판단이 YES이면, 리튬 석출을 검출하기 위한 충방전 사이클이 모두 진행되었으므로 배터리 내부에 리튬 석출 이상이 발생하지 않은 것으로 최종 판단하고 프로세스를 종료할 수 있다. 반면, 단계 S7370의 판단이 NO이면, 외부 장치은 리튬 석출 이상을 검출하기 위해 충방전 사이클을 추가 로 더 진행하기 위해 프로세스를 S7280으로 되돌린다. 이로써, 충방전 사이클의 인덱스 k가 n이 될 때까지 S7280 내지 S7370 단계들이 주기적으로 반복될 수 있다. 본 발명의 실시예에 따르면, 현회의 충방전 사이클에서 산출된 용량 차이 변화량이 기준치 이하이면, 전회까지 산출되었던 누적 용량 차이 변화량이 0으로 초기화될 수 있다. 또한, 현회의 충방전 사이클에서 산출된 용량 차 이 변화량이 기준치보다 크면 현회의 용량 차이 변화량을 전회의 누적 용량 차이 변화량에 가산할 수 있다. 그 결과, 누적 용량 차이 변화량이 증가한다. 전회의 누적 용량 차이 변화량은 0 또는 양의 값을 가지는데, 양의 값을 가지는 경우 연속하는 충방전 사이클에서 계산된 기준치를 초과하는 용량 차이 변화량이 적산될 수 있다. 또한, 용량 차이 변화량이 적산되다가 특정 충방전 사이클에서 용량 차이 변화량이 기준치 이하로 감소하면 누 적 용량 차이 변화량이 0으로 초기화될 수 있다. 이러한 로직이 적용됨으로써 누적 용량 차이 변화량은 일종의 리튬 석출 이상을 가늠하는 정량 지표에 해당한다. 즉, 용량 차이 변화량이 기준치보다 크면 리튬 석출 가능성 이 있음을 의미할 수 있다. 또한, 시계열적으로 연속되는 복수의 충방전 사이클에서 용량 차이 변화량이 기준치를 초과하는 조건이 연속해 서 충족되면서 누적 용량 차이 변화량이 임계치 이상으로 증가하였다는 것은, 리튬 석출 가능성이 그 만큼 높다 는 것을 의미할 수 있다. 본 발명은 누적 용량 차이 변화량이라는 팩터를 이용하여 리튬 석출 가능성을 정량화 하였다는 점에서 기술적 의의가 있다. 도 31은 본 발명에 따른 외부 장치가 리튬 석출 여부를 검출하는 방법을 적용한 실험예에서 측정된 데이 터들의 변화를 나타낸 그래프이다. 본 실험예에서는 파우치 타입의 리튬 폴리머 전지가 사용되었다. 실험을 위해 선택한 리튬 폴리머 전지는 퇴화 되어 음극에 리튬이 석출되기 시작한 상태에 있다. 퇴화도가 반영된 리튬 폴리머 전지의 현재 용량은 대략 50Ah 이다. 충전 사이클의 충전 조건은 CC-CV 충전이며, CC 충전 목표전압 도달 시 CC 충전을 종료하고 CV 충전으로 전환되며, CV 충전 전류가 목표 전류에 도달 시 충전이 종료된다. 방전 사이클의 방전 조건은 CC 방전이며 정해 진 방전용량만큼 방전이 이루어지면 방전을 종료한다. 충전 사이클과 방전 사이클의 온도 조건은 45도이다. 용 량 차이 변화량의 적산 여부를 결정하는 기준이 되는 기준치는 0이며, 리튬 석출 이상의 진단 기준이 되는 임계 치는 0.06Ah로 설정하였다. 그래프 ①은 충방전 사이클 별로 충전용량(ChgAh[k]) 및 방전용량(DChgAh[k])의 측정 결과를 나타낸 그래프이다. 충전용량(ChgAh[k]) 및 방전용량(DChgAh[k])은 센스 저항을 통해 측정된 전류 값을 적산하여 산출 한 것이다. 방전 전류 측정값의 오차로 인해 네 번째 방전 사이클부터 방전용량이 충전용량보다 크다. 그래프 ②는 충방전 사이클 별로 용량차이(dAh[k])를 나타낸 그래프이다. 그래프 ①을 참조하면, 네 번째 충방 전 사이클부터 방전용량이 충전용량보다 크므로 네 번째 사이클부터 용량차이(dAh[k])는 음수가 된다. 그래프 ③은 충방전 사이클 별로 용량 차이 변화량(△dAh[k])을 나타낸 그래프이다. 용량 차이 변화량(△ dAh[k])이 양수인 충방전 사이클의 인덱스는 2 내지 13, 17, 18 및 20이다. 용량 차이 변화량(△dAh[k])이 음수 인 충방전 사이클의 인덱스는 14 내지 16과 19이다. 그래프 ④는 충방전 사이클 별로 누적 용량 차이 변화량( )을 나타낸 그래프이다. 용량 차이 변화량 (△dAh[k])이 양수인 충방전 사이클의 인덱스는 2 내지 13이다. 따라서, 두 번째 내지 1세 번째 충방전 사이클 의 용량 차이 변화량(△dAh[k])이 적산되면서 누적 용량 차이 변화량( )이 증가한다. 또한, 1세 번째 충방전 사이클의 용량 차이 변화량까지 누적되면 누적 용량 차이 변화량( )이 임계치인 0.06Ah를 초과 한다. 따라서, 외부 장치은 1세 번째 충방전 사이클까지 진행한 다음 배터리 내부에서 리튬 석출 이상이 발생한 것으로 판단하고 리튬 석출 이상 검출 결과를 제2 진단 정보를 통해 출력하고 검출 프로세스를 종료한다. 본 실험에서 사용된 리튬 폴리머 전지의 음극에는 리튬이 석출되어 있으므로 본 발명의 검출 정확도 가 높음을 알 수 있다. 도 32는 본 발명에 따른 리튬 석출 이상 여부를 검출하는 방법을 적용한 다른 실험예에서 측정된 데이터들의 변 화를 나타낸 그래프이다. 도 32에 있어서, 그래프 ①은 전술한 실험예의 그래프 ①과 동일하다. 그래프 ①'은 전류 측정값 오차가 전술한 실험예와 다른 전류측정수단을 사용하였을 때 충전용량(ChgAh[k])과 방전용량(DchgAh[k])의 측정 결과를 나타낸 그래프이다. 본 실험예에서, 방전 전류 측정값의 오차는 전술한 실험예보다 더 크다. 따라서, 방전용량 (DchgAh[k]) 그래프는 전술한 실험예와 비교하여 상부로 쉬프트되어 있다. 그래프 ② 및 ②'은 충방전 사이클 별로 용량차이(dAh[k])를 나타낸 그래프이고, 그래프 ③ 및 ③'은 충방전 사 이클 별로 용량 차이 변화량(△dAh[k])을 나타낸 그래프이고, 그래프 ④ 및 ④'은 충방전 사이클 별로 누적 용 량 차이 변화량( )을 나타낸 그래프이다. 그래프 ②, ③ 및 ④는 그래프 ①의 데이터를 이용하여 산출된 것이고, 그래프 ②', ③' 및 ④'는 그래프 ①'의 데이터를 이용하여 산출된 것이다. 도 32에 나타나 있듯이, 그래프 ②, ③ 및 ④와 그래프 ②', ③' 및 ④'는 실질적으로 동일하다. 따라서, 외부 장치은 방전 전류값에 측정오차가 포함되어 있더라도 오차의 크기에 상관 없이 1세 번째 충방전 사이클까 지 진행한 다음 배터리 내부에 리튬 석출 이상이 발생했음을 판단하고 리튬 석출 이상 검출 결과를 제2 진단 정 보를 통해 출력하고 검출 프로세스를 종료한다. 이러한 실험 결과로부터 본 발명은 전류 측정값의 오차와 상관 없이 리튬 석출 이상을 신뢰성 있게 검출할 수 있음을 알 수 있다. 도 33은 본 발명의 일 실시예에 따른 배터리 셀 진단 장치가 외부 장치를 이용하여 배터리 셀의 이 상 상태를 진단하는 흐름도이다. 전술한 부분과 동일한 부분은 간략하게 설명하거나 생략될 수 있다. 도 33의 단계 S7000에서 외부 장치는 병렬 접속체 이상 여부를 검출할 수 있다. 이에 대하여는 도 34를 참조하여 자세히 설명하도록 한다. 도 34는 본 발명의 일 실시예에 따른 배터리 진단 방법을 예시적으로 보여주는 순서도이다. 도 34의 방법은 제1 시간 간격으로 반복 실행될 수 있다. 도 34를 참조하면, 단계 S7610에서, 외부 장치는, 터데이에 포함된 배터리(B)의 충방전 데이터를 수집할 수 있다. 단계 S7620에서, 외부 장치는, 배터리(B)의 만충전 용량을 나타내는 추정 용량값을 결정할 수 있다. 단계 S7620은, 단계 S7622 및 단계 S7624를 포함할 수 있다. 단계 S7622에서, 외부 장치는, 충방전 데이터를 용량 추정 모델에 입력하여, 배터리(B)의 전류 적산값 및 SOC 변화값을 결정할 수 있다. 단계 S7624에서, 외부 장치는, 배터리(B)의 전류 적산값과 SOC 변화값 간의 비율로부터 배터리(B)의 만충전 용량을 나타내는 추 정 용량값을 결정할 수 있다. 외부 장치는 추정 용량값의 시계열을 저장할 수 있다. 단계 S7630에서, 외부 장치는, 추정 용량값의 경시적 변화를 모니터링하여, 병렬 접속체(B200)의 이상을 검출할 수 있다. 단계 S7630는, 단계 S7632, S7634, S7636, S7638, 및 단계 S7639를 포함할 수 있다. 단계 S7632에서, 외부 장치는, 제1 시각에서의 추정 용량값보다 작게, 제2 시각에 대한 임계 용량값을 결정할 수 있다. 일 예로, 제2 시각은 현회의 추정 용량값이 연산된 타이밍이고, 제1 시각은 10회 전의 추정 용량값이 연산된 타이밍일 수 있다. 단계 S7634에서, 외부 장치는, 제2 시각에서의 추정 용량값을 제2 시각에 대한 임계 용량값과 비교할 수 있다. 제2 시각에서의 추정 용량값이 제2 시각에 대한 임계 용량값 미만인 것은, 병렬 접속체(B200)에 제1 용량 이상 및 제2 용량 이상 중 적어도 하나가 발생하였음을 나타낸다. 단계 S7634의 값이 \"예\"인 경우, 단계 S7636으로 진행된다. 그 외에는, 단계 S7638로 진행될 수 있다. 단계 S7636에서, 외부 장치 는, 진단 카운트를 1 증가시킬 수 있다. 단계 S7638에서, 외부 장치는, 진단 카운트를 리셋 시킬 수 있다. 단계 S7639에서, 외부 장치는, 진단 카운트가 임계 카운트에 도달했는지 여부를 판정할 수있다. 단계 S7639의 값이 \"예\"인 것은, 병렬 접속체(B200)의 적어도 하나의 단위 셀(UC)이 완전 단선 고장인 제2 용량 이상이 발생된 것으로 검출되었음을 나타낸다. 단계 S7640에서, 외부 장치는, 병렬 접속체 이상을 검출할 수 있다. 외부 장치는, 병렬 접속체 이 상이 검출된 단위 셀의 개수를 결정할 수 있다. 외부 장치는, 추정 용량값의 최대 감소가 나타나는, 제2 시간 간격 이하의 시간 간격을 둔 과거의 두 시각(예, te, tf)에서의 두 추정 용량값으로부터, 복수의 단위 셀 (UC1~UCM) 중 이상(완전 단선 고장)인 단위 셀의 개수를 결정할 수 있다. 외부 장치는, 복수의 단위 셀(UC1~UCM) 중 이상(완전 단선 고장)인 단위 셀의 개수를 결정할 수 있다. 이 상 단위 셀의 개수는, ΔAhmax/(Ahp/M)보다 크지 않은 최대 정수와 동일하게 결정될 수 있다. Ahp는 두 시각(예, te, tf) 중 앞선 시각(te)에서의 추정 용량값이다. ΔAhmax는 병렬 접속체의 이상이 검출된 타이 밍 이전의 두 시각(예, te, tf)에 걸친 만충전 용량의 최대 감소량으로서, 앞선 시각(te)에서의 추정 용량값에 서 뒷선 시각(tf)에서의 추정 용량값을 차감한 결과이다. 예를 들어, Ahp = 122 Ah, ΔAhmax = 27 Ah, M = 10 인 경우, 2 ≤ 27 Ah/(122 Ah/10) < 3이므로, 이상 단위 셀의 개수는 2로 결정될 수 있다. 도 35는 본 발명의 일 실시예에 따른 배터리 셀 진단 장치가 외부 장치를 이용하여 배터리 셀의 이 상 상태를 진단하는 흐름도이다. 전술한 부분과 동일한 부분은 간략하게 설명하거나 생략될 수 있다. 도 35의 단계 S7000에서 외부 장치는 내부 단락 이상 여부를 검출할 수 있다. 이에 대하여는 도 36 및 도 37을 참조하여 자세히 설명하도록 한다. 도 36 및 도 37은 본 발명의 실시예에 따라 외부 장치가 터데이를 이용하여 충방전 사이클을 반복적으로 진행하면서 내부 단락 이상을 검출하는 과정을 상세하게 나타낸 순서도이다. 외부 장치는 도 36 및 도 37에 도시된 순서도에 따라 본 발명의 실시예에 따른 내부 단락 이상을 검출하 고, 검출된 결과를 포함한 제2 진단 정보를 생성할 수 있다. 도 36은 본 발명의 실시예에 따른 배터리 관리 방법을 예시적으로 보여주는 순서도이다. 도 36의 방법은, 최근 충전 기간에서 모니터링된 복수의 배터리 셀(BC1~BCN) 모두의 SOC 추이에 기초하여 배터리 셀(BC)의 내부 단락 이상을 검출하기 위한 것이다. 설명의 편의를 위해, 최근 충전 기간은 시점 t4부터 시점 t5인 것으로 가정한다. 도 36을 참조하면, 단계 S7610에서, 외부 장치는, 터데이를 이용하여 취득된 배터리 팩의 충전 동안 의 복수의 배터리 셀(BC1~BCN) 각각의 상태 파라미터에 SOC 추정 알고리즘을 적용하여, 각 배터리 셀(BC)에 대 해, 제1 충전 시점에서의 제1 SOC 및 제2 충전 시점에서의 제2 SOC 간의 차이인 제1 SOC 변화를 결정할 수있다. 제1 충전 시점 및 제2 충전 시점은, 최근 충전 기간 내의 서로 다른 두 시점이라면 특별히 제한되지 않는 다. 일 예로, 제1 충전 시점은 최근 충전 기간의 시작 시점 t4일 수 있고, 제2 충전 시점은 최근 충전 기간의 종료 시점 t5일 수 있다. 도 36의 방법은 충전에 관한 것이므로, 제1 SOC 변화는 제1 충전 시점부터 제2 충전 시점까 의 SOC의 상승량을 나타낸다. 일 예로, 도 18을 참조하면, 이상 배터리 셀의 제1 SOC 변화는, 제1 SOC(VC54)와 제2 SOC(VC55) 간의 차이이다. 단계 S7620에서, 외부 장치는, 복수의 배터리 셀(BC1~BCN) 중 적어도 두 배터리 셀의 제1 SOC 변화들에 통계 알고리즘을 적용하여, 기준 팩터를 결정한다. 기준 팩터는, 복수의 배터리 셀(BC1~BCN) 중 적어도 두 배터 리 셀의 제1 SOC 변화들의 평균 또는 중앙값과 동일할 수 있다. 일 예로, 도 18을 참조하면, 커브(VC4)가 제1 SOC 변화들의 평균인 경우, 기준 팩터는 SOC(VC44)와 SOC(VC45) 간의 차이이다. 단계 S7630에서, 외부 장치는, 각 배터리 셀(BC)에 대해, 제1 SOC 변화를 기준 팩터와 비교하여, 내부 단 락 이상을 검출한다. 내부 단락 이상을 검출함에 있어서, 아래의 검출 조건들 중 하나 또는 둘 이상의 조합이 활용될 수 있다. [조건#1 : 제1 SOC 변화가 기준 팩터보다 임계값(TH1) 이상 작을 것] [조건#2 : 기준 팩터에 대한 제1 SOC 변화의 비율이 임계값(TH2) 이하일 것, 여기서 TH2는 0~1] [조건#3 : 기준 팩터에 대한 제1 SOC 변화의 비율이 이전 비율보다 임계값(TH3) 이상 작을 것] 조건#3에 있어서, 이전 비율은 최근 충전 기간에 선행하는 충전 기간(도 17에서는 t0~t1)에서의 기준 팩터에 대 한 제1 SOC 변화의 비율이다. 임계값들(TH1, TH2, TH3)은, 미리 정해진 고정값일 수 있다. 대안적으로, 외부 장치는, 제1 충전 시점부 터 제2 충전 시점까지의 기간에 걸쳐 측정된 충전 전류의 적산값을 기초로, 임계값들(TH1, TH2, TH3) 중 적어도 하나를 결정할 수 있다. 배터리 팩의 충전 모드가 재개될 때마다 임계값들(TH1, TH2, TH3) 중 적어도 하나가 새로이 갱신될 수 있다. 일 예로, 외부 장치는, 충전 전류의 적산값(예, 3 Ah[ampere-hour])을 배터리 셀(BC)의 설계 용량 (예, 5 Ah)으로 나누어 SOC 변화의 목표값(예, 60%)을 구하고, 목표값에 대한 기준 팩터의 비율에 소정의 스케 일링 상수(양의 값임)를 곱하여, 임계값들(TH1, TH2, TH3) 중 적어도 하나를 결정할 수 있다. 임계값들(TH1, TH2, TH3) 중 어느 하나의 결정에 이용되는 스케일링 상수는 임계값들(TH1, TH2, TH3) 중 다른 하나의 결정에 이용되는 스케일링 상수와는 상이할 수 있다. 목표값은, 단계 S7610, S7620 및 S7630 중 적어도 하나의 진행 중 에 결정될 수 있다. 임계값들(TH1, TH2, TH3) 중 적어도 하나는, S7620 및 S7630 중 적어도 하나의 진행 중에 결정될 수 있다. 복수의 배터리 셀(BC1~BCN)이 모두 정상일 경우, 목표값과 기준 팩터는 서로 거의 동일할 수 있다. 반면, 복수 의 배터리 셀(BC1~BCN) 중에서 내부 단락 이상인 배터리 셀의 개수가 증가할수록, 기준 팩터는 목표값으로부터 많이 감소한다. 따라서, 임계값들(TH1, TH2, TH3) 중 적어도 하나를 전술된 방식에 따라 결정함으로써, 내부 단 락 이상의 검출의 정확성을 향상시킬 수 있다. 한편, 목표값은 단계 S7620 전에 결정된 다음, 단계 S7620에서는 복수의 배터리 셀(BC1~BCN)의 모든 제1 SOC 변 화들 중에서 목표값 이하인 제1 SOC 변화들만을 기준 팩터의 결정에 이용할 수 있다. 이 경우, 기준 팩터의 결 정에 있어서, 복수의 배터리 셀(BC1~BCN)의 모든 제1 SOC 변화들 중에서 목표값 초과인 것들이 제외되므로, 상 대적으로 심각한 내부 단락 이상을 가지는 배터리 셀(BC)을 복수의 배터리 셀(BC1~BCN)로부터 우선적으로 검출 해낼 수 있다. 도 37은 본 발명의 실시예에 따른 배터리 관리 방법을 예시적으로 보여주는 다른 순서도이다. 도 37의 방법은, 최근 방전 기간 및 최근 충전 기간 각각에서 모니터링된 복수의 배터리 셀(BC1~BCN) 모두의 SOC 추이에 기초하 여 배터리 셀(BC)의 내부 단락 이상을 검출하기 위한 것이다. 설명의 편의를 위해, 최근 충전 기간은 시점 t4부 터 시점 t5이고, 최근 방전 기간은 시점 t6부터 시점 t7인 것으로 가정한다. 도 37을 참조하면, 단계 S7710에서, 외부 장치는, 터데이를 이용하여 배터리 팩의 충전 동안에 취득 된 복수의 배터리 셀(BC1~BCN) 각각의 상태 파라미터에 SOC 추정 알고리즘을 적용하여, 각 배터리 셀(BC)에 대 해, 제1 충전 시점에서의 제1 SOC 및 제2 충전 시점에서의 제2 SOC 간의 차이인 제1 SOC 변화를 결정할 수있다. 제1 충전 시점 및 제2 충전 시점은, 최근 충전 기간 내의 서로 다른 두 시점이라면 특별히 제한되지 않는 다. 일 예로, 제1 충전 시점은 최근 충전 기간의 시작 시점 t4일 수 있고, 제2 충전 시점은 최근 충전 기간의 종료 시점 t5일 수 있다. 단계 S7720에서, 외부 장치는, 배터리 팩의 방전 동안에 취득된 복수의 배터리 셀(BC1~BCN) 각각의 상태 파라미터에 SOC 추정 알고리즘을 적용하여, 각 배터리 셀(BC)에 대해, 제1 방전 시점에서의 제3 SOC 및 제 2 방전 시점에서의 제4 SOC 간의 차이인 제2 SOC 변화를 결정할 수 있다. 제1 방전 시점 및 제2 방전 시점은, 최근 방전 기간 내의 서로 다른 두 시점이라면 특별히 제한되지 않는다. 일 예로, 제1 방전 시점은 최근 충전 기간의 시작 시점 t6일 수 있고, 제2 방전 시점은 최근 충전 기간의 종료 시점 t7일 수 있다. 도 18을 참조하면, 이상 배터리 셀에 있어서, 제1 SOC 변화는 제1 SOC(VC54)와 제2 SOC(VC55) 간의 차이이고, 제2 SOC 변화는 제3 SOC(VC56)와 제4 SOC(VC57) 간의 차이이다. 도 37에서는, 단계 S7710이 단계 S7720에 선행하나, 이는 하나의 예시로서 이해되어야 한다. 예컨대, 최근 충전 기간이 최근 방전 기간에 선행한다면, 단계 S7720이 단계 S7710에 선행할 수 있다. 다른 예로, 최근 충전 기간 과 최근 방전 기간 둘 다 종료된 이후에, 단계 S7710와 단계 S7720이 동시에 수행될 수도 있다. 단계 S7730에서, 외부 장치는, 각 배터리 셀(BC)에 대해, 제1 SOC 변화를 제2 SOC 변화로 나누어, 이상 팩터를 결정할 수 있다. 즉, \"이상 팩터 = (제1 SOC 변화) ÷ (제2 SOC 변화)\"의 수식에 따라 이상 팩터가 결정 될 수 있다. 일 예로, 도 18을 참조하면, 이상 배터리 셀의 이상 팩터는 \"{SOC(VC55) - SOC(VC54)} ÷ {SOC(VC56) - SOC(VC57)}\"의 수식에 따라 결정될 수 있다. 이상 팩터는 쿨롱 효율이라고 칭할 수도 있다. 단계 S7740에서, 외부 장치는, 복수의 배터리 셀(BC1~BCN) 중 적어도 두 배터리 셀의 이상 팩터들에 통계 알고리즘을 적용하여, 기준 팩터를 결정할 수 있다. 기준 팩터는, 복수의 배터리 셀(BC1~BCN) 중 적어도 두 배터리 셀의 이상 팩터들의 평균 또는 중앙값과 동일할 수 있다. 일 예로, 도 18을 참조하면, 커브(VC4)가 복수의 배터리 셀(BC1~BCN)의 평균 SOC인 경우, 기준 팩터는 \"{SOC(VC45) - SOC(VC44)} ÷ {SOC(VC46) - SOC(VC47)}\"의 수식에 따라 결정될 수 있다. 단계 S7750에서, 외부 장치는, 각 배터리 셀(BC)에 대해, 이상 팩터를 기준 팩터와 비교하여, 배터리 셀 (BC)의 내부 단락 이상을 검출할 수 있다. 내부 단락 이상을 검출함에 있어서, 아래의 검출 조건들 중 하나 또 는 둘 이상의 조합이 활용될 수 있다. [조건#1 : 이상 팩터가 기준 팩터보다 임계값(TH11) 이상 작을 것] [조건#2 : 상대 쿨롱 효율(relative coulombic efficiency)이 임계값(TH12) 이하일 것, 여기서 TH12는 0~1] [조건#3 : 기준 팩터에 대한 이상 팩터의 비율이 이전 비율보다 임계값(TH13) 이상 작을 것] 조건#2에 있어서, 상대 쿨롱 효율은, 기준 팩터에 대한 이상 팩터의 비율 즉, \"이상 팩터÷기준 팩터\"일 수 있 다. 조건#3에 있어서, 이전 비율은 최근 방전 기간(t6~t7)에 선행하는 충전 기간(도 17에서는 t4~t5)에서의 제1 SOC 들과 방전 기간(도 17에서는 t2~t3)에서의 제2 SOC들에 기초한 기준 팩터에 대한 이상 팩터의 비율이다. 임계값들(TH11, TH12, TH13)은, 미리 정해진 값일 수 있다. 일 예로, 임계값들(TH11, TH12, TH13)은 각각 도 36을 설명하면서. 전술된 미리 정해진 임계값들(TH1, TH2, TH3)과 동일할 수 있다. 외부 장치는, 제1 충전 시점부터 제2 충전 시점까지의 기간에 걸쳐 측정된 충전 전류의 적산값 및 제1 방 전 시점부터 제2 방전 시점까지의 기간에 걸쳐 측정된 방전 전류의 적산값을 기초로, 임계값들(TH11, TH12, TH13) 중 적어도 하나를 결정할 수 있다. 배터리 팩의 충전 모드 또는 방전 모드가 재개될 때마다 임계값들(TH11, TH12, TH13) 중 적어도 하나가 새 로이 갱신될 수 있다. 일 예로, 외부 장치는, 충전 전류의 적산값을 방전 전류의 적산값으로 나누어 목표 값을 구할 수 있다. 외부 장치는, 목표값에 대한 기준 팩터의 비율에 소정의 스케일링 상수(양의 값임)를 곱하여, 임계값들(TH11, TH12, TH13) 중 적어도 하나를 결정할 수 있다. 임계값들(TH11, TH12, TH13) 중 어느 하나의 결정에 이용되는 스케일링 상수는 임계값들(TH11, TH12, TH13) 중 다른 하나의 결정에 이용되는 스케일 링 상수와는 상이할 수 있다. 목표값은, 단계 S7710, S7720, S7730 및 S7740 중 적어도 하나의 진행 중에 결정될 수 있다. 임계값들(TH1, TH2, TH3) 중 적어도 하나는, S7730 및 S7740 중 적어도 하나의 진행 중에 결정될 수 있다. 복수의 배터리 셀(BC1~BCN)이 모두 정상일 경우, 목표값과 기준 팩터는 서로 거의 동일할 수 있다. 반면, 복수 의 배터리 셀(BC1~BCN) 중에서 내부 단락 이상인 배터리 셀의 개수가 증가할수록, 기준 팩터는 목표값으로부터 많이 감소한다. 따라서, 임계값들(TH11, TH12, TH13) 중 적어도 하나를 전술된 방식에 따라 결정함으로써, 내부 단락 이상의 검출의 정확성을 향상시킬 수 있다. 한편, 목표값은 단계 S7740 전에 결정된 다음, 단계 S7740에서는 복수의 배터리 셀(BC1~BCN)의 모든 이상 팩터 들 중에서 목표값 이하인 이상 팩터들만을 기준 팩터의 결정에 이용할 수 있다. 이 경우, 기준 팩터의 결정에 있어서, 복수의 배터리 셀(BC1~BCN)의 모든 이상 팩터들 중에서 (목표값 초과인 것들이 제외되므로, 복수의 상 대적으로 심각한 내부 단락 이상을 가지는 배터리 셀(BC)을 복수의 배터리 셀(BC1~BCN)로부터 우선적으로 검출 해낼 수 있다. 각 실시예에 있어서, 외부 장치는, 복수의 배터리 셀(BC1~BCN) 중 소정 개수 이상의 배터리 셀에서 내부 단락 이상이 검출되는 경우, 대부 단락 이상이 검출됐음을 포함하는 제2 진단 정보를 생성할 수 있다. 각 실시예에 있어서, 외부 장치는, 복수의 배터리 셀(BC1~BCN) 중 소정 개수 이상의 배터리 셀에서 내부 단락 이상이 검출되는 경우, 충방전 전류의 허용 범위를 축소시킬 수 있다. 일 예로, 이상 배터리 셀(들)의 개 수에 비례하여, 허용 범위의 상한(양의 값임)이 감소되거나 허용 범위의 하한(음의 값임)이 증가될 수 있다. 예를 들어, 본 발명의 실시예에 따른 외부 장치는 배터리 셀의 이상 여부를 진단하기 위한 진단 시스템에 포함될 수 있다. 진단 시스템은 전기 자동차 정비소, 배터리 제조사 또는 배터리 유지보수 회사에서 운용할 수 있다. 예를 들어, 진단 시스템은 전기 자동차나 전력저장시스템에 탑재된 배터리 셀의 이상 진단을 하는데 사용 되거나, 배터리 제조사에서 생산된 신규 개발 모델의 배터리에 대한 이상 진단을 하는데 사용될 수 있다. 특히, 후자의 경우, 신규 개발 모델의 배터리를 상용화하기 전에 외부 장치를 이용하여 배터리의 상태를 진단할 수 있다. 또 다른 예를 들면, 외부 장치는 배터리가 장착된 시스템의 제어 요소에 포함될 수 있다. 일 예에서, 외부 장치는 전기 자동차의 제어 시스템에 포함될 수 있다. 이 경우, 외부 장치는 전기 자동차에 탑재된 배터리가 충전 및 방전되는 과정에서 배터리 셀의 충전용량과 방전용량에 관한 데이터를 수집 할 수 있고, 수집된 데이터들을 이용하여 배터리 셀의 상태를 진단하고, 진단 결과를 전기 자동차의 통합 제어 디스플레이에 출력할 수 있다. 다른 예에서, 외부 장치는 전력저장시스템의 제어 시스템에 포함될 수 있다. 이 경우, 외부 장치는 전력저장시스템이 충전 및 방전되는 과정에서 배터리 셀의 충전용량과 방전용량에 관한 데이터를 수집할 수 있 고, 수집된 데이터들을 이용하여 배터리 셀의 상태를 진단하고, 진단 결과를 오퍼레이터가 접근 가능한 통합 관 리 컴퓨터의 디스플레이를 통해 출력할 수 있다. 전기 자동차의 사용자 또는 전력저장시스템의 오퍼레이터는 리튬 석출 이상에 관한 진단 결과가 디스플레이를 통해 출력되면 적절한 안전 조치를 취할 수 있다. 일 예에서, 전기 자동차의 사용자는 정비소에 방문하여 점검 을 받을 수 있다. 다른 예에서, 전력저장시스템의 오퍼레이터는 해당 배터리를 신규 배터리로 교체할 수 있다. 본 발명에 있어서, 외부 장치은 상술한 다양한 제어 로직들을 실행하기 위해 당업계에 알려진 프로세서, ASIC(application-specific integrated circuit), 다른 칩셋, 논리 회로, 레지스터, 통신 모뎀, 데이터 처리 장치 등을 선택적으로 포함할 수 있다. 또한, 상기 제어 로직이 소프트웨어로 구현될 때, 외부 장치은 프 로그램 모듈의 집합으로 구현될 수 있다. 이 때, 프로그램 모듈은 메모리에 저장되고, 프로세서에 의해 실행될 수 있다. 상기 메모리는 프로세서 내부 또는 외부에 있을 수 있고, 잘 알려진 다양한 컴퓨터 부품으로 프로세서 와 연결될 수 있다. 또한, 상기 메모리는 본 발명의 저장부에 포함될 수 있다. 또한, 상기 메모리는 디바 이스의 종류에 상관 없이 정보가 저장되는 디바이스를 총칭하는 것으로서 특정 메모리 디바이스를 지칭하는 것 은 아니다. 외부 장치의 다양한 제어 로직들은 적어도 하나 이상이 조합되고, 조합된 제어 로직들은 컴퓨터가 읽을 수 있는 코드 체계로 작성되어 컴퓨터가 읽을 수 있는 기록매체에 수록될 수 있다. 상기 기록매체는 컴퓨터에 포함된 프로세서에 의해 접근이 가능한 것이라면 그 종류에 특별한 제한이 없다. 일 예시로서, 상기 기록매체는ROM, RAM, 레지스터, CD-ROM, 자기 테이프, 하드 디스크, 플로피디스크 및 광 데이터 기록장치를 포함하는 군에 서 선택된 적어도 하나 이상을 포함한다. 또한, 상기 코드 체계는 네트워크로 연결된 컴퓨터에 분산되어 저장되 고 실행될 수 있다. 또한, 상기 조합된 제어 로직들을 구현하기 위한 기능적인 프로그램, 코드 및 코드 세그먼"}
{"patent_id": "10-2024-0013517", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 14, "content": "트들은 본 발명이 속하는 기술분야의 프로그래머들에 의해 용이하게 추론될 수 있다. 이상과 같이, 본 발명은 비록 한정된 실시예와 도면에 의해 설명되었으나, 본 발명은 이것에 의해 한정되지 않"}
{"patent_id": "10-2024-0013517", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 15, "content": "으며 본 발명이 속하는 기술분야에서 통상의 지식을 가진 자에 의해 본 발명의 기술사상과 아래에 기재될 특허 청구범위의 균등범위 내에서 다양한 수정 및 변형이 가능함은 물론이다."}
{"patent_id": "10-2024-0013517", "section": "도면", "subsection": "도면설명", "item": 1, "content": "본 명세서에 첨부되는 다음의 도면들은 본 발명의 바람직한 실시예를 예시하는 것이며, 전술된 발명의 상세한 설명과 함께 본 발명의 기술사상을 더욱 이해시키는 역할을 하는 것이므로, 본 발명은 그러한 도면에 기재된 사 항에만 한정되어 해석되어서는 아니 된다. 도 1은 본 발명의 일 실시예에 따른 배터리 셀 진단 장치를 포함하는 시스템을 나타내는 예시도이다. 도 2는 본 발명의 일 실시예에 따른 배터리 셀 진단 장치의 기능적 구성을 개략적으로 나타내는 블록도이다.도 3은 본 발명의 일 실시예에 따른 전기 차의 구성을 개념적으로 나타낸 예시도이다. 도 4a 내지 도 4h는 도 3에 도시된 복수의 배터리 셀 각각의 셀 전압의 시간에 따른 변화를 나타내는 시계열 데 이터로부터 각 배터리 셀의 전압 이상을 검출하는 과정을 예시적으로 보여주는 그래프들이다. 도 5는 본 발명의 다양한 실시예에서 참조되는 배터리 셀의 셀 전압의 실제 전압값들의 원시 시계열(raw time series)에 대응하는 전압 커브를 예시적으로 보여주는 그래프이다. 도 6은 도 5의 전압 커브에 대응하는 원시 시계열에 측정 노이즈를 합성하여 취득된 측정 전압 커브를 예시적으 로 보여주는 그래프이다. 도 7은 도 6의 전압 커브에 제1 평균 필터를 적용하여 취득되는 제1 이동 평균 커브를 예시적으로 보여주는 그 래프이다. 도 8은 도 6의 전압 커브에 제2 평균 필터를 적용하여 취득되는 제2 이동 평균 커브를 예시적으로 보여주는 그 래프이다. 도 9는 도 7의 제1 이동 평균 커브와 도 8의 제2 이동 평균 커브 간의 차이인 전압 편차 커브를 예시적으로 보 여주는 그래프이다. 도 10은 본 발명의 일 실시예에 따른 외부 장치의 개략적인 구성을 나타낸 블록도이다. 도 11은 본 발명의 다양한 실시예에서 참조되는 배터리 셀의 개략적인 구성을 예시적으로 보여주는 도면이다. 도 12는 본 발명의 다양한 실시예에서 참조되는 배터리 셀의 제1 용량 이상(불완전 단선 고장)을 설명하는 도면 이다. 도 13은 본 발명의 다양한 실시예에서 참조되는 배터리 셀의 제2 용량 이상(완전 단선 고장)을 설명하는 도면이 다. 도 14는 본 발명의 다양한 실시예에서 참조되는 배터리 셀의 용량 이상과 만충전 용량 간의 관계를 설명하는 예 시적인 도면이다. 도 15는 본 발명의 다양한 실시예에서 참조되는 배터리 셀의 예시적인 등가 회로를 설명하는 데에 참조되는 도 면이다. 도 16은 본 발명의 다양한 실시예에서 참조되는 내부 단락 이상의 유무에 따른 배터리 셀의 SOC 변화를 비교하 는 예시적인 그래프이다. 도 17은 본 발명의 다양한 실시예에서 참조되는 내부 단락 이상의 유무에 따른 배터리 셀의 SOC 변화를 비교하 는 예시적인 다른 그래프이다. 도 18은 본 발명의 다양한 실시예에서 참조되는 내부 단락 이상의 유무에 따른 배터리 셀의 SOC 변화를 비교하 는 예시적인 또 다른 그래프이다. 도 19는 본 발명의 일 실시예에 따른 배터리 셀 진단 장치가 외부 장치를 이용하여 배터리 셀의 이상 상태를 진 단하는 흐름도이다. 도 20은 본 발명의 일 실시예에 따른 전압 이상 여부를 검출하는 방법을 예시적으로 보여주는 순서도이다. 도 21은 본 발명의 일 실시예에 따른 전압 이상 여부를 검출하는 방법을 예시적으로 보여주는 다른 순서도이다. 도 22는 본 발명의 일 실시예에 따른 전압 이상 여부를 검출하는 방법을 예시적으로 보여주는 다른 순서도이다. 도 23은 본 발명의 일 실시예에 따른 전압 이상 여부를 검출하는 방법을 예시적으로 보여주는 또 다른 순서도이 다. 도 24는 본 발명의 일 실시예에 따른 전압 이상 여부를 검출하는 방법을 예시적으로 보여주는 또 다른 순서도이 다. 도 25는 본 발명의 일 실시예에 따른 거동 이상을 검출하는 방법을 예시적으로 보여주는 순서도이다. 도 26은 본 발명의 일 실시예에 따른 거동 이상을 검출하는 방법을 예시적으로 보여주는 다른 순서도이다.도 27은 본 발명의 일 실시예에 따른 리튬 석출 이상을 검출하는 방법을 예시적으로 보여주는 순서도이다. 도 28은 본 발명의 일 실시예에 따른 리튬 석출 이상을 검출하는 방법을 예시적으로 보여주는 다른 순서도이다. 도 29는 본 발명의 일 실시예에 따른 리튬 석출 이상을 검출하는 방법을 예시적으로 보여주는 또 다른 순서도이 다. 도 30은 본 발명의 일 실시예에 따른 리튬 석출 이상을 검출하는 방법을 예시적으로 보여주는 또 다른 순서도이 다. 도 31은 본 발명의 일 실시예에 따른 외부 장치가 리튬 석출 여부를 검출하는 방법을 적용한 실험예에서 측정된 데이터들의 변화를 나타낸 그래프이다. 도 32는 본 발명에 일 실시예에 따른 리튬 석출 이상 여부를 검출하는 방법을 적용한 다른 실험예에서 측정된 데이터들의 변화를 나타낸 그래프이다. 도 33은 본 발명의 일 실시예에 따른 배터리 셀 진단 장치가 외부 장치를 이용하여 배터리 셀의 이상 상태를 진 단하는 흐름도이다. 도 34는 본 발명의 일 실시예에 따른 배터리 진단 방법을 예시적으로 보여주는 순서도이다. 도 35는 본 발명의 일 실시예에 따른 배터리 셀 진단 장치가 외부 장치를 이용하여 배터리 셀의 이상 상태를 진 단하는 흐름도이다. 도 36은 본 발명의 실시예에 따른 배터리 관리 방법을 예시적으로 보여주는 순서도이다. 도 37은 본 발명의 실시예에 따른 배터리 관리 방법을 예시적으로 보여주는 다른 순서도이다."}
