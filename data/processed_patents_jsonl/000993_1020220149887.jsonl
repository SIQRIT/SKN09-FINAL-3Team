{"patent_id": "10-2022-0149887", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0068440", "출원번호": "10-2022-0149887", "발명의 명칭": "인공신경망 및 선형 회귀를 이용한 작물 생산량 예측방법", "출원인": "강원특별자치도", "발명자": "노희선"}}
{"patent_id": "10-2022-0149887", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "작물의 재배 환경과 관련이 있는 복수의 환경인자를 포함하는 환경데이터를 이용하여 작물의 생산량을 예측하는생산량 예측장치로,인공신경망을 이용한 학습에 의해 인공신경망 예측모델을 구축하는 예측모델 구축부와,상기 예측모델 구축부에 의해 구축된 인공신경망 예측모델로부터 생성된 값을 입력변수로 하는 다중 선형 회귀분석에 의해 회귀 파라미터를 산출하는 다중 선형 회귀모델 분석부와,상기 예측모델 구축부에 의해 구축된 인공신경망 예측모델과 상기 다중 선형 회귀모델 분석부에 의해 분석된 회귀 파라미터를 이용하여 미리 정해진 주기 단위로 작물의 생산량을 예측하는 생산량 예측부를 포함하는 생산량예측장치."}
{"patent_id": "10-2022-0149887", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "청구항 1에 있어서,상기 예측모델 구축부는,상기 환경데이터로부터 특징벡터를 추출하는 특징벡터 추출부와,상기 특징벡터와 각 농가의 단위면적당 실제 생산량 데이터를 이용한 학습을 통해서 인공신경망 예측모델을 구축하는 인공신경망 예측모델 구축부와,상기 각 농가의 단위면적당 실제 생산량 데이터를 상기 다중 선형 회귀모델 분석부에 의한 다중 선형 회귀분석에서 지시변수로 사용하기 위한 레이블 인코딩을 하는 레이블 인코딩부를 포함하는 생산량 예측장치."}
{"patent_id": "10-2022-0149887", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "청구항 2에 있어서,상기 특징벡터 추출부는 다음 수학식에 의해 상기 특징벡터를 추출하는 생산량 예측장치.여기서, XF는 특징벡터를, ENV는 상기 각 농가 중 작물의 단위면적당 실제 생산량이 가장 많은 농가인 우수 농가의 환경데이터를, △ENV는 상기 우수 농가를 제외한 농가인 타 농가의 환경데이터를 각각 나타낸다. 또, ei는i 번째의 환경인자 값이며, i={0, 1, …, M-1}이고, M은 환경데이터에 포함된 환경인자의 개수이다."}
{"patent_id": "10-2022-0149887", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "청구항 1 내지 3 중 어느 한 항에 있어서,상기 다중 선형 회귀모델 분석부는,상기 인공신경망 예측모델을 이용하여 상기 다중 선형 회귀모델의 입력변수를 생성하는 입력변수 생성부와,생성된 상기 입력변수와 상기 단위면적당 실제 생산량을 이용하여 회귀 파라미터를 구하는 회귀파라미터 산출부를 포함하는 생산량 예측장치."}
{"patent_id": "10-2022-0149887", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "청구항 4에 있어서,공개특허 10-2024-0068440-3-상기 입력변수 생성부는 다음 수학식에 의해 상기 입력변수를 생성하는 생산량 예측장치.여기서, XW1은 미리 정해진 주기 중 상기 생산량 예측을 하는 주기에 대응하는 환경 주기의 입력변수이고, eiW1은상기 생산량 예측을 하는 주기에 대응하는 환경 주기에서의 i 번째 환경인자이며, LW1은 상기 레이블 인코딩부에의해 구해진 상기 생산량 예측을 하는 주기에서의 레이블 인코딩 값이고, M은 환경인자의 개수이다."}
{"patent_id": "10-2022-0149887", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "작물의 재배 환경과 관련이 있는 복수의 환경인자를 포함하는 환경데이터를 이용하여 작물의 생산량을 예측하는생산량 예측장치에 의한 생산량 예측방법으로,상기 환경데이터로부터 특징벡터를 추출하는 특징벡터 추출단계와,이전에 구축되어 상기 생산량 예측장치에 기억하고 있는 인공신경망 예측모델을 이용하여 미리 정해진 주기에서의 단위면적당 예측 생산량을 계산하는 단위면적당 예측 생산량 계산단계와,상기 단위면적당 예측 생산량 계산단계에서 계산된 단위면적당 예측 생산량과 이전에 구축되어 상기 생산량 예측장치에 기억하고 있는 각 농가의 레이블 인코딩 값을 비교하여 가장 차이가 작은 농가의 레이블 인코딩 값을선택하는 레이블 인코딩 선택단계와,상기 인공신경망 예측모델을 이용하여 다중 선형 회귀모델의 입력변수를 생성하는 입력변수 생성단계와,이전에 구축되어 상기 생산량 예측장치에 기억하고 있는 회귀 파라미터와 상기 입력변수를 이용하여 미리 정해진 주기 단위로 생산량을 예측하는 생산량 예측방법."}
{"patent_id": "10-2022-0149887", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "청구항 6에 있어서,상기 특징벡터 추출단계에서는 다음 수학식에 의해 상기 특징벡터를 추출하는 생산량 예측방법.여기서, XF는 특징벡터를, ENV는 상기 각 농가 중 작물의 단위면적당 실제 생산량이 가장 많은 농가인 우수 농가의 환경데이터를, △ENV는 상기 우수 농가를 제외한 농가인 타 농가의 환경데이터를 각각 나타낸다. 또, ei는i 번째의 환경인자 값이며, i={0, 1, …, M-1}이고, M은 환경데이터에 포함된 환경인자의 개수이다."}
{"patent_id": "10-2022-0149887", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "청구항 6 또는 7에 있어서,상기 입력변수 생성단계에서는 다음 수학식에 의해 상기 입력변수를 생성하는 생산량 예측장치.여기서, XW1은 미리 정해진 주기 중 상기 생산량 예측을 하는 주기에 대응하는 환경 주기의 입력변수이고, eiW1은상기 생산량 예측을 하는 주기에 대응하는 환경 주기에서의 i 번째 환경인자이며, LW1은 상기 레이블 인코딩부에의해 구해진 상기 생산량 예측을 하는 주기에서의 레이블 인코딩 값이고, M은 환경인자의 개수이다."}
{"patent_id": "10-2022-0149887", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "청구항 6에 있어서,상기 미리 정해진 주기 단위의 예측 생산량을 합산한 총 생산량을 예측하는 총 생산량 예측단계를 더 포함하는생산량 예측방법.공개특허 10-2024-0068440-4-"}
{"patent_id": "10-2022-0149887", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 작물의 재배 환경과 관련이 있는 복수의 환경인자를 포함하는 환경데이터를 이용하여 작물의 생산량을 예측하는 생산량 예측장치에 관한 것으로, 인공신경망을 이용한 학습에 의해 인공신경망 예측모델을 구축하 는 예측모델 구축부와, 예측모델 구축부에 의해 구축된 예측모델로부터 생성된 값을 입력변수로 하는 다중 선형 회귀분석에 의해 회귀 파라미터를 산출하는 다중 선형 회귀모델 분석부와, 예측모델 구축부에 의해 구 축된 예측모델과 다중 선형 회귀모델 분석부에 의해 분석된 회귀 파라미터를 이용하여 미리 정해진 주기 단위로 작물의 생산량을 예측하는 생산량 예측부로 구성된다."}
{"patent_id": "10-2022-0149887", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 인공신경망 및 선형 회귀를 이용한 작물의 생산량 예측장치 및 예측방법에 관한 것이다."}
{"patent_id": "10-2022-0149887", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "사물인터넷, 빅데이터 등을 활용하여 최적의 생육환경을 자동으로 제어하는 농업시스템인 스마트 팜이 확산하고 있고, 스마트 팜에서는 예를 들어 사물인터넷(Internet of Things : IoT) 기기 등으로부터 측정되는 예를 들어 온도, 습도, 누적 일사량, 전기전도도(EC), 광량 및 CO2와 같은 스마트 팜 내외부의 다양한 환경인자로 이루어 지는 환경데이터를 이용하여 작물의 미래 생산량을 예측하는 기술이 최근 많은 관심을 받고 있다. 인공지능을 이용한 작물의 생산량 예측기술로는 예를 들어 선형 회귀, SVM(Support Vector Machine), 결정 트리 (decision tree)와 같은 기계학습 기반의 방식 또는 완전연결층 뉴럴네트, 순환신경망(recurrent neural network : RNN), 장단기 기억 신경망(Long Shot Term Memory network : LSTM) 등의 다양한 딥 러닝(deep learning) 방식의 인공신경망(artificial neural network : ANN) 기반의 방식이 이용되고 있다(예를 들어 특허 문헌 1, 2 등). 그러나 상기 종래의 인공신경망 또는 기계학습 기반의 방식은 통상 1~2주, 길어야 3주 정도의 단기 예측밖에 할 수 없으며, 그 이상의 장기 예측을 하더라도 그 정확도가 크게 낮아진다는 문제가 있다. 선행기술문헌 특허문헌 (특허문헌 0001) 공개특허 10-2022-0065557호 공보(2022. 5. 22 공개) (특허문헌 0002) 등록특허 10-1860757호 공보(2018. 5. 24. 공고)"}
{"patent_id": "10-2022-0149887", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 종래기술의 상기 문제를 감안하여 이루어진 것으로, 인공신경망 기반의 기술과 다중 회귀분석 기반의 기술을 함께 이용함으로써 적어도 종래에 비해 더 긴 기간의 장기 예측을 가능하게 하는 동시에 예측의 정확도 도 향상시킬 수 있는 작물의 생산량 예측장치 및 예측방법을 제공하는 것을 목적으로 한다. 또, 본 발명은 예를 들어 주차(week) 단위와 같이 일정한 기간 단위의 회귀 분석에 의해 각 생산기간 단위별 생 산량 예측이 가능한 작물의 생산량 예측장치 및 예측방법을 제공한다."}
{"patent_id": "10-2022-0149887", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 과제를 해결하기 위한 본 발명의 생산량 예측장치는 작물의 재배 환경과 관련이 있는 복수의 환경인자를 포함하는 환경데이터를 이용하여 작물의 생산량을 예측하는 생산량 예측장치로, 인공신경망을 이용한 학습에 의 해 인공신경망 예측모델을 구축하는 예측모델 구축부와, 상기 예측모델 구축부에 의해 구축된 인공신경망 예측 모델로부터 생성된 값을 입력변수로 하는 다중 선형 회귀분석에 의해 회귀 파라미터를 산출하는 다중 선형 회귀 모델 분석부와, 상기 예측모델 구축부에 의해 구축된 인공신경망 예측모델과 상기 다중 선형 회귀모델 분석부에 의해 분석된 회귀 파라미터를 이용하여 미리 정해진 주기 단위로 작물의 생산량을 예측하는 생산량 예측부를 포 함한다. 또, 상기 과제를 해결하기 위한 본 발명의 생산량 예측방법은 작물의 재배 환경과 관련이 있는 복수의 환경인자 를 포함하는 환경데이터를 이용하여 작물의 생산량을 예측하는 생산량 예측장치에 의한 생산량 예측방법으로, 상기 환경데이터로부터 특징벡터를 추출하는 특징벡터 추출단계와, 이전에 구축되어 상기 생산량 예측장치에 기 억하고 있는 인공신경망 예측모델을 이용하여 미리 정해진 주기에서의 단위면적당 예측 생산량을 계산하는 단위 면적당 예측 생산량 계산단계와, 상기 단위면적당 예측 생산량 계산단계에서 계산된 단위면적당 예측 생산량과이전에 구축되어 상기 생산량 예측장치에 기억하고 있는 각 농가의 레이블 인코딩 값을 비교하여 가장 오차가 작은 농가의 레이블 인코딩 값을 선택하는 레이블 인코딩 선택단계와, 상기 인공신경망 예측모델을 이용하여 상 기 다중 선형 회귀모델의 입력변수를 생성하는 입력변수 생성단계와, 이전에 구축되어 상기 생산량 예측장치에 기억하고 있는 회귀 파라미터와 상기 입력변수를 이용하여 미리 정해진 주기 단위로 생산량을 예측한다."}
{"patent_id": "10-2022-0149887", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 의하면 적어도 종래에 비해 더 긴 기간에 걸친 예측을 가능하게 하는 동시에 예측의 정확도도 향상시 킬 수 있는 작물의 생산량 예측장치 및 예측방법을 얻을 수 있다. 또, 본 발명은 예를 들어 주차(week) 단위와 같이 일정한 기간 단위의 회귀 분석에 의해 각 생산기간 단위별 생 산량 예측과 함께, 이들을 일정 기간 단위의 예측 생산량을 합산한 총 예측 생산량 예측도 가능한 작물의 생산 량 예측장치 및 예측방법을 얻을 수 있다."}
{"patent_id": "10-2022-0149887", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부 도면을 참조하면서 본 발명의 바람직한 실시형태의 생산량 예측장치 및 이 장치를 이용한 예측 방법에 대해서 상세하게 설명한다. 1. 생산량 예측장치 도 1은 본 발명의 바람직한 실시형태의 생산량 예측장치의 전체적인 구성을 나타내는 블록도, 도 2는 도 1의 예 측모델 구축부의 세부 구성을 나타내는 블록도, 도 3은 환경과 생산과의 대응관계의 예를 나타내는 도면, 도 4 는 도 1의 다중 선형 회귀모델 분석부의 세부 구성을 나타내는 블록도이다. 이와 같은 작물의 생산량 예측을 위해, 도 1에 나타내는 것과 같이, 본 발명의 바람직한 실시형태의 생산량 예 측장치는 예측모델 구축부와 다중 선형 회귀모델 분석부와 생산량 예측부 및 데이터베이스 를 포함한다. 예측모델 구축부는 인공신경망을 이용하여 예측모델을 구축한다. 구체적으로는, 예측모델 구축부는 작물의 재배 환경에 관한 데이터인 환경데이터를 입력으로 하여 단위면적당 예측 생산량(Y)을 구하고, 이를 레 이블 인코딩(Label Encoding) 값으로 변환하여 다음 단계인 다중 선형 회귀모델 분석단계에서의 입력으로 사용 할 수 있도록 한다. 이때 이용되는 인공신경망으로는 예를 들어 DNN(Deep Neural Network), RNN(Recurrent Neural Network), LSTM(Long Shot Term Memory network) 등의 딥 러닝 기술을 이용할 수 있다. 도 2도 함께 참조하면서 예측모델 구축부에 대해서 상세하게 설명한다. 예측모델 구축부는 특징벡터 추출부와 인공신경망 예측모델 구축부 및 레이블 인코딩부를 포함한다. 인공신경망의 성능에 큰 영향을 미치는 요소는 입력으로 사용되는 특징(feature)이며, 본 실시형태에서는 이와 같은 특징 추출을 위한 입력으로 1차원 데이터인 환경데이터를 사용한다. 이때 사용되는 환경데이터에는 다양한 환경인자가 포함될 수 있으며, 이들 환경인자는 작물의 재배 환경과 관련이 있는 복수의 인자로서, 예를 들어 스마트 팜 내부 및 외부의 온도, 습도, 누적 일사량, EC, 광량 및 CO2 등을 포함한다. 그러나 환경데이터로 사 용되는 환경인자는 상기 예에 한정되는 것은 아니며, 그 이외의 다른 환경인자도 사용할 수 있다.환경데이터는 예를 들어 환경 IoT 기기와 같은, 공지의 다양한 측정 또는 수집수단들을 이용하여 예를 들어 매 시간 또는 수 시간 등과 같은 일정 시간 단위로 수집되나, 일반적으로 농작물은 일주일 정도의 기간의 환경상태 에 영향을 받아서 반응하는 것으로 알려지고 있으므로, 이를 감안하여 본 실시형태에서는 매시간 단위로 측정되 는 환경데이터 값을 1주일 단위로 변환(예를 들어 1주일의 평균값)한 주차 단위의 데이터를 이용한다. 또, 이들 환경데이터는 후술하는 데이터베이스에 저장되어 있을 수 있다. 특징벡터 추출부는 생산량 예측을 하고자 하는 대상 농가의 환경데이터로부터 특징벡터를 추출한다. 입력 하는 환경데이터로는 우수 농가의 환경데이터와 상기 우수 농가를 제외한 타 농가의 환경데이터로 구분할 수 있 다. 우수 농가 환경데이터는 복수의 농가 중에서 어느 시기에서의 단위면적당 실제 생산량이 가장 많은 농가의 환경데이터이다. 본 실시형태에서는 생산량 예측에 이용되는 대상 농가를 7개 농가로 하고 있고, 표 1은 대상 농가의 농가번호와 이들 각 농가에 대응하는 단위면적당 실제 생산량(Ysq)을 각각 나타내는 표이다. 표 1 농가번호 단위면적당 실제 생산량(Ysq) (㎏) 0 2.7 1 3.0 2 4.0 3 5.2 4 6.0 5 8.3 6 10.1 표 1의 예에서는 단위면적당 실제 생산량이 가장 많은 농가인 농가번호 6의 환경데이터가 우수 농가 환경데이터 가 되며, 이때 입력되는 우수 농가 환경데이터(ENVS)는 다음 수학식 1로 표시할 수 있다. 수학식 1"}
{"patent_id": "10-2022-0149887", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "여기서, ei는 i 번째의 환경인자 값이며, i={0, 1, …, M-1} 이고, M은 환경데이터에 포함된 환경인자의 개수를 나타낸다. 또, 특징벡터 추출부는 타 농가 환경데이터(ENV)도 입력으로 사용한다. 본 실시형태에서는 표 1의 농가번 호 0 내지 5의 농가 중 어느 한 농가의 환경데이터가 타 농가 환경데이터(ENV)가 되며, 이때 입력되는 타 농가 환경데이터(ENV)는 다음 수학식 2로 나타낼 수 있다. 수학식 2"}
{"patent_id": "10-2022-0149887", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "다음에, 특징벡터 추출부는 입력된 우수 농가 환경데이터(ENVS)와 타 농가 환경데이터(ENV)의 차이 값(△ ENV)을 구한다. 이때 구해지는 차이 값(△ENV)은 수학식 3으로 표시할 수 있다. 수학식 3 다음에, 회귀 성능을 높이기 위해, 특징벡터 추출부는 우수 농가 환경데이터(ENVS)와 타 농가 환경데이터 (ENV)의 차이 값(△ENV)과 타 농가 환경데이터(ENV)를 병합하여 특징벡터(feature vector, XF)를 추출한다. 특 징벡터(XF)는 수학식 4로 표시할 수 있다. 수학식 4"}
{"patent_id": "10-2022-0149887", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "여기서, 특징벡터(XF)는 (M+M)=2M 차원의 데이터이다. 특징벡터 추출부에 의해 특징벡터가 얻어지면, 인공신경망 예측모델 구축부는 특징벡터 추출부 에서 추출된 특징벡터(XF)와 예를 들어 표 1과 같은 농가별 단위면적당 실제 생산량(Ysq) 데이터를 이용한 학습 을 통해서 인공신경망 예측모델을 구축한다. 이때 이용되는 인공신경망으로는 예를 들어 DNN(Deep Neural Network), RNN(Recurrent Neural Network), LSTM(Long Shot Term Memory network) 등의 다양한 딥 러닝 기술을 이용할 수 있다. 생산량 예측장치는 예를 들어 표 1과 같은, 각 농가의 과거의 단위면적당 실제 생산량(Ysq) 데이터를 데이 터베이스에 가지고 있고, 단위면적당 실제 생산량(Ysq) 데이터는 수학식 5와 같이 나타낼 수 있다. 수학식 5"}
{"patent_id": "10-2022-0149887", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "여기서, Yi는 i번째 농가의 단위면적당 실제 생산량(Ysq)이고, i={0, 1, …, K-1}이며, K는 농가의 수를 나타낸 다. 인공신경망 예측모델 구축부는 특징벡터(XF)와 농가별 단위면적당 실제 생산량(Ysq) 데이터를 이용한 학습 을 통해서 농가별 단위면적당 생산량(Y) 예측을 위한 인공신경망 예측모델을 구축하고, 구축된 인공신경망 예측 모델을 데이터베이스에 기억한다. 이어서, 레이블 인코딩부는 예를 들어 표 1과 같은 단위면적당 실제 생산량 데이터(Ysq) 값을 다음 단계의 다중 선형 회귀모델 분석부에 의한 다중 선형 회귀분석에서 지시변수(dummy variable)로 사용하기 위해 레 이블 인코딩을 실행한다. 레이블 인코딩은 범주형 변수인 인공신경망 예측모델 구축부의 출력, 즉, 단위면 적당 실제 생산량(Ysq)을 연속형 변수인 정수로 변환하여 선형회귀 식에 포함하도록 함으로써 회귀모델의 성능 을 향상시키기 위한 과정이다. 레이블 인코딩 값의 범위는 〔0, K-1〕이며, 농가별 단위면적당 실제 생산량(Ysq)에 비례하여, 예를 들어 단위 면적당 실제 생산량(Ysq)이 가장 적은 농가에는 0을 할당하고, 단위면적당 실제 생산량(Ysq)이 그 다음으로 많 은 농가에는 1을 할당하며, …, 단위면적당 실제 생산량(Ysq)이 가장 많은 농가에는 (K-1)을 할당하는 방식으로 이루어진다. 따라서 단위면적당 실제 생산량(Ysq)이 Y0 < Y1 < … < YK-1이면 각 농가에 할당되는 레이블 인코딩 값(L)은 각각 0, 1, …, K-1이 된다. 다시 말해, 레이블 인코딩부에 의해 인코딩되는 레이블 인코딩 값은 단위면적당 실제 생산량(Ysq)이 가장 작은 값(Y0)을 갖는 농가는 레이블 인코딩 값 L=0이 되고, 단위면적당 실제 생산량(Ysq)이 두 번째로 작은 값(Y1)을 갖는 농가는 레이블 인코딩 값 L=1이 되며, …, 단위면적당 실 제 생산량(Ysq)이 가장 큰 값(YK-1)을 갖는 농가는 레이블 인코딩 값 L(K-1)=K-1이 된다. 레이블 인코딩부에 의한 레이블 인코딩이 완료되면 생산량 예측장치는 예측모델 구축부에 의해 구축된 인공신경망 예측모델 및 레이블 인코딩 값을 데이터베이스에 저장한다. 레이블 인코딩은 수학식 6으로 나타낼 수 있고, 표 2는 표 1의 농가별 단위면적당 실제 생산량(Ysq)에 대한 레 이블 인코딩 결과를 나타낸다. 수학식 6"}
{"patent_id": "10-2022-0149887", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "여기서, K는 농가의 수이다. 표 2 농가번호 단위면적당 실제 생산량 (㎏)레이블 인코딩 (L) 0 2.7 0 1 3.0 1 2 4.0 2 3 5.2 3 4 6.0 4 5 8.3 5 6 10.1 6 다음에, 도 4도 참조하면서 다중 선형 회귀모델 분석부에 의한 작물의 생산량 예측에 대해서 설명한다. 먼저, 본 발명에서 작물의 생산량 예측을 위해 이용하는 다중 선형 회귀분석에 대해서 간단하게 설명한다. 통계학에서 선형회귀는 종속변수 Y와 하나 이상의 독립변수(입력변수) X와의 선형 관계를 모델링하는 분석법이 며, 다중 회귀분석은 종속변수인 Y의 설명에 M 개의 종속변수 x1, x2, …, xM을 도입한다. 본 발명에서는 Y를 작 물의 생산량으로, X를 환경데이터로 정의하여 수학식 7에 의해 작물의 생산량을 예측하며, 환경데이터 및 실제 생산량 데이터를 바탕으로 예측모델을 생성하여 데이터베이스에 기억해 두고, 이전에 생성되어 데이터베이 스에 기억하고 있는 예측모델을 이용해서, 예측하고자 하는 때의 환경데이터 값을 입력으로 하여 그 출력 으로 생산량 예측 값을 얻는다. 수학식 7"}
{"patent_id": "10-2022-0149887", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "여기서, Y는 예측 생산량을, X는 입력변수를, β는 회귀 파라미터를 각각 나타낸다. 다음에, 도 3을 참조하면서 예를 들어 스마트 팜 내외부의 여러 환경 조건과 이 환경에서 생산되는 작물의 생산 량과의 관계에 대해서 설명한다. 당연한 사실이나, 농작물에는 예를 들어 벼나 감자 또는 고구마와 같이 파종 또는 정식 후 1회만 수확을 하는 작물도 있고, 또는 예를 들어 고추, 파프리카, 토마토 등과 같이 파종 또는 정식 후 2회 이상 여러 번 수확을 하는 작물도 있다. 또, 2회 이상 수확을 하는 작물에도 수확과 수확 사이의 기간이 1일, 격일과 같이 짧은 작물 이 있는 반면에 1주, 격주 또는 그 이상의 간격을 두고 수확이 이루어지는 작물도 있다. 따라서 본 발명에 의한 작물의 생산량 예측은 작물의 종류에 따라서는 1회만 실시해도 좋은 경우도 있고, 수회에 걸쳐서 이루어지는 것 이 바람직한 경우도 있을 것이며, 그 간격도 예를 들어 1일 단위, 격일 단위, 또는 1주 단위, 격주 단위와 같이, 작물의 종류별 수확 특성에 맞춰서 적절하게 설정할 수 있다. 본 실시형태에서는 1주일 단위로 복수 회에 걸쳐서 생산량 예측을 실행하는 경우를 예로 들어서 설명한다. 도 3은 환경과 생산과의 대응관계의 예를 나타내는 도면이며, 도 3에서 도면의 상단은 작물의 생산량 예측에 직 접적인 영향을 주는 환경데이터가 수집되는 주차(이하, 「환경 주차」라 하고, 이를 간략하게 「W1」으로 표기하기도 함)를 나타내고, 하단은 작물의 수확이 이루어지는, 즉 생산이 이루어지는 주차(이하, 「생산 주차」라 하고, 이를 간략하게 「W2」로 표기하기도 함)를 나타낸다. 생산 주차 W2에서는 작물의 파종 또는 정식 후 처음 으로 수확이 시작되는 첫 번째 주차를 「WS」, 수확이 끝나는 마지막 주차를 「WE」로 표시하며, 작물의 수확은 「WS」 주차에 시작되어 「WE」 주차에 종료된다. 당연하나, WS 및 WE는 작물의 종류 및 재배농가의 유형에 따라 서 다르다. 또, 본 실시형태에서 작물의 생산량 예측을 위해 사용되는 환경데이터는 1주일 단위의 데이터이고 작물의 수확 은 통상 파종 또는 정식 후 일정한 기간이 지난 후에 이루어지므로 작물 수확 시의 생산량(수확량)은 그 수확일 이전의 일정 기간의 환경데이터의 영향을 받는다. 도 3에서는 환경 주차 W1 중 작물의 생산에 영향을 미치는 기간은 〔1, WE〕이고, 생산 주차 W2는 W2 =〔WS, WE 〕로 나타낼 수 있다. 또, 생산 주차 WS에서의 단위면적당 생산량 YWS는 1주차 환경과 연관성이 있고, 생산 주차 (WS+1)의 단위면적당 생산량 YWS+1은 2주차 환경과 연관성을 가지며, 이 관계를 일반화하면 생산 주차 W2의 생산 량 YW2는 WS 만큼 이전의 환경 XW2-WS+1과 매칭될 수 있다. 또, 본 실시형태에서는 작물의 생산량 예측은 실제로 작물의 수확이 이루어지는 기간인 WS 주차에서 WE 주차까지 의 기간에 대해서 각 주차 단위로 복수 회 이루어지며, 이를 위해 본 실시형태에서는 각 생산 주차 단위로 다중 선형 회귀식을 만들어서 각 생산 주차 단위별 생산량 예측을 하는 동시에, 필요에 따라서는 이들 각 생산 주차 단위별 예측 생산량을 합산한 총 생산량 예측도 함께하도록 한다. 따라서 본 실시형태에서는 각 생산 주차 단위 로 (WE-WS+1) 개의 회귀 파라미터를 생성하고, 이를 이용하여 생산 주차 단위로 작물의 생산량 예측을 한다. 이와 같이 함으로써 1개의 회귀식에 의해 1회만 생산량 예측을 하는 방식에 비해 본 발명은 각 주차 단위의 생 산량 예측이 가능하므로, 그 결과를 예를 들어 주차별 출하계획 수립에 이용하는 등의 다양한 용도로 다양하게 활용할 수 있다. 다중 선형 회귀모델 분석부는 예측하고자 하는 생산 주차에 대응하는 환경 주차의 환경데이터와 예측모델 구축부에서 생성되어 데이터베이스에 기억하고 있는 레이블 인코딩 값(L)을 입력으로 하여 입력변수 를 생성하고, 생성한 입력변수와 데이터베이스에 기억하고 있는 주차 단위의 단위면적당 실제 생산량(Ys q)을 이용하여 다중 선형 회귀식을 생성하며, 이로부터 회귀 파라미터를 구한다. 도 4에 나타내는 것과 같이, 다중 선형 회귀모델 분석부는 입력변수 생성부와 회귀 파라미터 산출부 를 포함한다. 선형 회귀식의 입력변수(X)는 복수의 환경인자로 구성되는 환경데이터이고, 그 마지막 열에는 예측모델 구축부 의 레이블 인코딩부에 의해 구한 레이블 인코딩 값 L=〔0, K-1〕이 포함된다. 또, 생산 주차 W2에서 의 생산량은 WS 만큼 앞선 환경 주차의 환경데이터와 연관성을 갖는다. W1=W2-WS+1이고, W1=〔1, WE〕이다. 따라 서 W1 주차에서의 입력변수(XW1)는 다음 수학식 8로 나타낼 수 있다. 수학식 8"}
{"patent_id": "10-2022-0149887", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "여기서, eiW1은 환경 주차 W1 주차에서의 i 번째 환경인자이고, LW1은 예측모델 구축부의 레이블 인코딩부 에 의해 구해진 환경 주차 W1 주차에서의 레이블 인코딩 값이며, M은 환경인자의 개수이다. 이어서, 회귀 파라미터 산출부는 입력변수 생성부에서 생성된 입력변수(XW1)와 데이터베이스에 기억하고 있는, 과거의 경험치에 의해 얻은 생산 주차 W2에서의 각 주차 단위의 단위면적당 실제 생산량(YW2)을 이용하여 회귀 파라미터(β)를 구한다. 입력변수 생성부에서 구한 입력변수(XW1)와 데이터베이스에 기억하고 있는, 과거의 경험치에 의해 얻 은 생산 주차 W2에서의 각 주차 단위의 단위면적당 실제 생산량(YW2) 및 회귀 파라미터(β)와의 관계는 수학식 9 로 표시할 수 있다. 수학식 9"}
{"patent_id": "10-2022-0149887", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 9, "content": "또, 수학식 9에서 생산 주차 W2에서의 (M+2) 차원의 회귀 파라미터(βW2)는 수학식 10으로 나타낼 수 있다. 수학식 10"}
{"patent_id": "10-2022-0149887", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 10, "content": "여기서, T는 전치행렬을 나타낸다. 이어서, 생산 주차 W2에서의 회귀 파라미터(βW2)를 구하기 위해 다음 수학식 11과 같이 변환한다. 수학식 11"}
{"patent_id": "10-2022-0149887", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 11, "content": "이어서, 회귀 파라미터 산출부는 수학식 12에 의해 최종적으로 회귀 파라미터를 얻으며, 이때 구해지는 회 귀 파라미터는 도 3에서 수확이 최초로 시작되는 생산 주차 WS에서 수확이 종료하는 생산 주차 WE까지 전체 (WE- WS+1) 개의 각 생산 주차 단위의 복수의 회귀 파라미터이다. 수학식 12"}
{"patent_id": "10-2022-0149887", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 12, "content": "이어서, 회귀 파라미터 산출부는 구해진 각 생산 주차 단위의 복수의 회귀 파라미터를 데이터베이스 에 저장한다. 생산량 예측부는 작물의 생산량 예측을 하고자 하는 주차의 환경데이터와, 이 환경데이터에 의해 구한 특 징벡터(XF)와, 이전에 구축되어서 데이터베이스에 기억하고 있는 레이블 인코딩 값 및 회귀 파라미터를 이 용하여 각 주차별 작물의 생산량 예측을 하는 동시에, 필요한 경우에는 작물의 총 생산량 예측을 한다. 생산량 예측부에 의한 생산량 예측방법의 상세에 대해서는 후술한다. 데이터베이스는 본 발명에서 작물의 생산량 예측을 위해 필요한 데이터를 기억하며, 예를 들어 표 1 및 표 2와 같은 생산량 데이터, 예측모델 구축부에 의해 얻은 인공신경망 예측모델 및 레이블 인코딩 값, 다중 선형 회귀모델 분석부에 의해 산출된 각 생산 주차 단위의 회귀 파라미터 등을 기억한다. 2. 생산량 예측방법 다음에, 도 5를 참조하면서 작물의 생산량을 예측하는 방법에 대해서 설명한다. 본 실시형태의 생산량 예측방법 은 도 1 내지 4를 이용하여 설명한 방법에 의해 이전에 구축되어 생산량 예측장치의 데이터베이스에 기억하고 있는 복수의 농가의 인공신경망 예측모델, 레이블 인코딩 값 및 회귀 파라미터 등도 이용하여 이루어 진다. 먼저, 도 5의 단계 S11에서 예측모델 구축부는 작물의 생산량을 예측하고자 하는 농가의 환경데이터로부터 특징벡터(XF)를 추출한다. 앞에서 설명한 도 3의 예에서는 생산 주차 WS에서의 단위면적당 생산량 YWS는 1주차 환경과 연관성이 있고, 생산 주차 (WS+1)의 단위면적당 생산량 YWS+1은 2주차 환경과 연관성을 가지며, 이 관계를 일반화하면 생산 주차 W2의 생산량 YW2는 WS 만큼 이전의 환경 XW2-WS+1과 연관성을 가지므로, 예를 들어 생산 주차 WS 주차에서의 단위면적당 생산량 YWS를 예측하려고 하는 때에는 환경 주차 1주차의 환경데이터를 이용하여 특징벡터(XF)를 구하고, 또, 예 를 들어 생산 주차 (WS+2) 주차의 단위면적당 생산량 YWS+2를 예측하려고 하는 때에는 환경 주차 3주차의 환경데 이터를 이용하여 특징벡터(XF)를 구하면 된다. 특징벡터(XF)는 수학식 1에 의해 표시되는 우수 농가의 환경데이터(ENVS)와 수학식 2에 의해 표시되는 작물의 생 산량 예측을 하고자 하는 실험대상 농가의 환경데이터(ENV) 간의 차이 값으로서 수학식 3으로 표시되는 차이 값 (△ENV)을 구하고, 구해진 차이 값(△ENV)과 실험대상 농가의 환경데이터(ENV)를 병합하여 수학식 4와 같이 표 시되는 특징벡터(XF)를 얻는다. 이어서 단계 S12에서, 학습에 의해 미리 구해서 데이터베이스에 저장되어 있는 인공신경망 예측모델에 단 계 S11에서 얻은 특징벡터(XF)가 입력되면 인공신경망 예측모델 구축부는 이전에 구축되어 데이터베이스 에 기억하고 있는 인공신경망 예측모델을 이용하여 생산 주차 W2 주차에서의 단위면적당 예측 생산량 를 얻는다. 이어서, 단계 S13에서는 단계 S12에서 얻은 생산 주차 W2 주차에서의 단위면적당 예측 생산량 를 생산량 예측 장치의 데이터베이스가 기억하고 있는 예를 들어 표 2와 같은 단위면적당 실제 생산량(Ysq)과 비교하 여 양자의 차이가 가장 작은 농가의 레이블 인코딩 값(L*)을 얻는다. 수학식 13"}
{"patent_id": "10-2022-0149887", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 13, "content": "예를 들어 단계 S12에서 얻어진 단위면적당 생산량이 5.3㎏인 경우, 표 2에서는 실제 생산량이 5.2㎏인 농가번 호 3의 농가와 오차가 가장 작다. 따라서 선택된 레이블 인코딩 값(L*)은 3이 된다. 이어서, 단계 S14로 진행하여 입력변수(XW1)를 생성한다. 입력변수 생성에 사용되는 선형 회귀모델의 입력데이터 는 단계 S11에서 환경데이터로부터 얻은 특징벡터(XF)와 단계 S13에서 얻은 레이블 인코딩 값(L*)이다. 수학식 14"}
{"patent_id": "10-2022-0149887", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 14, "content": "이어서, 단계 S15로 진행하여, 생산량 예측부는 이전에 생성되어 데이터베이스에 기억되어 있는 생산 주차 W2 주차의 회귀 파라미터( )를 추출하여, 수학식 15에 의해 생산 주차 W2에서의 생산량 를 예측한다.수학식 15"}
{"patent_id": "10-2022-0149887", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 15, "content": "여기서, W2=〔WS, WE〕 사이의 어느 한 주차이고, W1은 생산 주차 WS와 WE 사이의 어느 한 주간에 대응하는 환경 주차를 나타낸다. 이와 같은 방법으로 생산량 예측부는 각 생산 주차 WS에서 WE 사이의 각 주차 단위 생산량을 예측할 수 있 다. 이어서, 필요에 따라서, 단계 S16에서 생산량 예측부는 수학식 15에 의해 전체 생산 주차 WS에서 WE 사이의 각 주차 단위 생산량을 합산함으로써 총 예측 생산량을 구할 수 있다. 수학식 16"}
{"patent_id": "10-2022-0149887", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 16, "content": "3. 효과의 검증"}
{"patent_id": "10-2022-0149887", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 17, "content": "본 발명자들은 발명의 효과 검증을 위해 13개 농가를 대상으로 하여, 각 농가에 대한 각 생산 주차 단위 생산량 예측 및 총 생산량 예측을 하고, 그 결과를 실제 생산량과 비교하여 효과 검증을 하였다. 상기 예측에서 대상 작물로는 파프리카를 대상으로 하였고, 환경데이터에 포함되는 환경인자로는 스마트 팜 내부 온도 및 외부 온도, 습도, 누적 일사량, EC, 광량 및 CO2를 이용하였다. 또, 환경 주차는 1주차 내지 53주차까지, 생산 주차 는 9주차 내지 45주차까지로 하였다. 도 6a 내지 6m은 각각 검증대상인 13개 농가 각각에 대한 각 주차 단위 생산량을 나타내고, 도 6a 내지 6m의 가 로축은 주차(주)를, 세로축은 생산량(㎏)을 나타내며, 적색 그래프는 본 발명의 방법에 의해 예측된 예측 생산 량을 나타내고, 흑색 그래프는 각 농가의 실제 생산량을 나타낸다. 또, 도 7은 검증대상 농가 각각에 대한 예측 총 생산량과 실제 총 생산량을 나타내며, 도 7의 가로축은 농가번호를 나타내고, 세로축은 총 생산량(㎏)을 나 타낸다. 검증 결과, 대상 농가별로, 또 각 주차 별로 다소 차이는 있으나 예측 생산량과 실제 생산량 사이에 큰 오차는 없었으며, 비교적 실제 생산량에 근접한 예측 결과를 얻을 수 있었다. 4. 변형 예 이상, 상기 실시형태를 이용하여 본 발명을 설명하였으나, 본 발명은 상기 실시형태에 한정되는 것은 아니다. 청구범위에 기재된 발명의 범위를 벗어나지 않는 한도 내에서 다양한 변형 또는 변경 실시가 가능하다. 상기 실시형태에서는 생산 주차 1주차인 WS 주차의 생산량은 작물을 파종 또는 정식한 후 1주째인 환경 주차 1주 차의 환경데이터만을, 또, 생산 주차 WS+1 주차의 생산량은 작물의 파종 또는 정식 후 2주째인 환경 주차 2주차 의 환경데이터만을 이용하여 생산량 예측을 하는 것으로 하였다. 그러나 실제 작물의 재배에서는 생산 주차 WS 주차의 생산량은 작물을 파종 또는 정식한 후 1주째인 환경 주차 1 주차의 환경데이터에만 영향을 받지 않을 수도 있고, 또, 생산 주차 WS+1주차의 생산량도 작물을 파종 또는 정식 한 후 2주째인 환경 주차 2주차의 환경데이터에만 영향을 받지 않을 수도 있으며, 이는 그 이후에도 동일하다. 예를 들어 생산 주차 (WS+10) 주차의 생산량은 작물 파종 또는 정식 후 11주차 환경만이 아니라 그 이전인 예를 들어 환경 주차 5주차 내지 10주차의 환경에도 영향을 받을 수 있고, 또는 5주차보다 더 이전이나 이후까지의 환경에도 영향을 받을 수 있다. 따라서 본 발명에서 환경 주차와 생산 주차의 대응관계는 상기 실시형태에 한정되는 것은 아니며, 생산량 예측 대상 작물별로 또는 그 외의 다양한 요인들도 함께 고려하여, 예를 들어 생산 주차 WS+1주차의 생산량 예측을 하 는 경우에 환경 주차 2주차의 환경데이터만이 아니라, 예를 들어 환경 주차 1주차의 환경데이터와 환경 주차 2 주차의 환경데이터를 함께 포함하여 생산량 예측을 하도록 해도 좋다. 또는 예를 들어 환경 주차 1주차의 환경 데이터와 환경 주차 2주차의 환경데이터 및 환경 주차 3주차의 환경데이터의 3주간의 환경데이터를 모두 포함하 여 생산량 예측을 하도록 해도 좋다. 복수 주차의 환경데이터를 모두 포함하는 경우에는 포함되는 복수 주차의 환경데이터의 평균을 구해서 이용하는 등의 방법이 있을 수 있다. 또, 상기 실시형태에서는 1주차 단위로 생산량 예측을 하고, 필요한 때에는 이들 주차 단위 예측 생산량을 합산 한 총 생산량 예측도 하는 것으로 하였으나, 본 발명은 이에 한정되는 것은 아니다. 생산량 예측은 작물별 특성이나 예측된 생산량의 활용 용도 등 여러 사정을 고려하여, 예를 들어, 1일 단위나 격일 단위, 또는 1주 단위나 격주 단위 등 다양한 주기로 예측을 하는 것으로 해도 좋다. 또, 상기 실시형태 및 변형 예는 각각 실시해도 좋고, 서로 조합해서 실시해도 좋다."}
{"patent_id": "10-2022-0149887", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 바람직한 실시형태의 생산량 예측장치의 전체적인 구성을 나타내는 블록도, 도 2는 도 1의 예측모델 구축부의 세부 구성을 나타내는 블록도, 도 3은 환경과 생산과의 대응관계의 예를 나타내는 도면, 도 4는 도 1의 다중 선형 회귀모델 분석부의 세부 구성을 나타내는 블록도, 도 5는 본 발명의 바람직한 실시형태의 생산량 예측방법의 흐름을 나타내는 도면, 도 6a 내지 6m은 농가별 주차 단위 예측 생산량과 실제 생산량을 나타내는 도면, 도 7은 농가별 총 예측 생산량과 실제 생산량을 나타내는 도면이다."}
