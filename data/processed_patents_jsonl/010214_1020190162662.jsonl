{"patent_id": "10-2019-0162662", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2021-0072391", "출원번호": "10-2019-0162662", "발명의 명칭": "씨모스에 기반하는 크로스바 어레이 딥러닝 가속기", "출원인": "광주과학기술원", "발명자": "여인준"}}
{"patent_id": "10-2019-0162662", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "가로 및 세로방향으로 서로 교차하는 복수의 도선을 포함하는 크로스바 어레이;상기 가로방향 도선(로우) 및 세로방향 도선(칼럼)을 교차하여 연결하는 저항소자;상기 크로스바 어레이에 의해서 제공되는 신경망을 업데이트 및 훈련을 위한 업데이트 엔진; 및 상기 크로스바 어레이에 의해서 제공되는 신경망의 입출력 동작을 수행하는 프로세싱 엔진이 포함되고, 상기 저항소자에는, 흐르는 전류를 조절하기 위하여 직렬로 연결되는 제 1 피모스 및 제 2 피모스; 드레인에 구동전압이 연결되고 게이트에 입력전압이 연결되고 소스가 제 2 피모스의 게이트에 연결되는 제 2 엔모스; 및 상기 제 2 엔모스와 제 1 소스 팔로워 회로를 이루는 제 1 엔모스가 포함되는 씨모스에 기반하는 크로스바 어레이 딥러닝 가속기."}
{"patent_id": "10-2019-0162662", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서, 상기 제 1 피모스 및 상기 제 2 피모스는 소스가 서로 연결되는 씨모스에 기반하는 크로스바 어레이 딥러닝 가속기."}
{"patent_id": "10-2019-0162662", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1 항에 있어서, 상기 제 1 엔모스의 게이트는, 상기 업데이트 엔진에서 프로그래밍된 정보를 포함하는 기준전압이 인가되는 씨모스에 기반하는 크로스바 어레이 딥러닝 가속기."}
{"patent_id": "10-2019-0162662", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 1 항에 있어서, 드레인에 구동전압이 연결되고 게이트에 출력전압이 연결되고 소스가 제 1 피모스의 게이트에 연결되는 제 4 엔모스; 및 상기 제 4 엔모스와 제 2 소스 팔로워 회로를 이루는 제 3 엔모스가 포함되는 씨모스에 기반하는 크로스바 어레이 딥러닝 가속기."}
{"patent_id": "10-2019-0162662", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 4 항에 있어서, 상기 제 3 엔모스의 게이트는, 상기 업데이트 엔진에서 프로그래밍된 정보를 포함하는 기준전압이 인가되는 씨모스에 기반하는 크로스바 어레이 딥러닝 가속기."}
{"patent_id": "10-2019-0162662", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명에 따른 씨모스에 기반하는 크로스바 어레이 딥러닝 가속기에는, 가로 및 세로방향으로 서로 교차하는 복 수의 도선을 포함하는 크로스바 어레이; 상기 가로방향 도선(로우) 및 세로방향 도선(칼럼)을 교차하여 연결하는 저항소자; 상기 크로스바 어레이에 의해서 제공되는 신경망을 업데이트 및 훈련을 위한 업데이트 엔진; 및 상기 크로스바 어레이에 의해서 제공되는 신경망의 입출력 동작을 수행하는 프로세싱 엔진이 포함되어, 하드웨어 인공 지능 장치를 제공할 수 있다."}
{"patent_id": "10-2019-0162662", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 씨모스에 기반하는 크로스바 어레이 딥러닝 가속기에 관한 것이다."}
{"patent_id": "10-2019-0162662", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "소프트웨어에 기반하는 인공지능장치는 상당한 수준에 도달하여 어디서나 쉽게 적용할 수 있다. 그러나, 컴퓨터 자원을 활용하기 때문에, 파워 효율이 떨어지고, 연산 시간이 길고, 네트워크에 연결하여 서버를 사용하지 않으 면 고차원의 활용이 불가한 문제점이 있다. 이러한 단점을 개선하는 것으로서, 하드웨어 그 자체를 인공 신경망의 연산에 적합하게 제작함으로써, 소프트웨 어와 비교하여 빠른 인식속도 및 높은 파워효율의 구현이 가능할 수 있다. 상기 하드웨어 인공 신경망으로는, 소자를 크로스바 어레이(crossbar array)에 적용하는 방식을 예로 들 수 있다. 이 방식은 메모리 소자 자체가 크로스바 어레이가 될 수 있기 때문에, 연산효율을 향상시킬 수 있다. 상기 소자로는 멤리스터(memristor) 또는 RRAM(Resistive RAM)을 예로 들 수 있다. 그러나, 상기 소자는 씨모스 (CMOS)에 기반하는 회로에 함께 설계하기가 어렵고, 컨덕턴스 응답(conductance response)의 신뢰도가 떨어지는 문제점이 있다. 이에, 씨모스 소자를 사용하여 저항소자를 제작할 수 있으면, 집적이 쉽고 멤리스터보다 넓은 동작범위를 가질 수 있을 것으로 기대된다. 2018 Symposium on VLSI Technology Digest of Technical Papers에서 공개된 'Capacitor-based Cross-point Array for Analog Neural Network with Record Symmetry and Linearity'에는, 인공지능의 구현을 위하여, 미세 공정으로 제작되는 캐패시터에 기반하는 크로스 어레이가 소개되어 있다. 본 문헌에는 DRAM 공정의 트랜지스터 기반 크로스바 어레이를 활용한 가속기를 제시하고 있다. 상기 문헌에는 저항소자를 구성하는 것에 대하여 구체적으로 제시하지 못하는 문제점이 있다. 선행기술문헌 비특허문헌 (비특허문헌 0001) 2018 Symposium on VLSI Technology Digest of Technical Papers에서 공개된 'Capacitor- based Cross-point Array for Analog Neural Network with Record Symmetry and Linearity'"}
{"patent_id": "10-2019-0162662", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 상기되는 배경하에서 제안되는 것으로서, 제어되는 컨덕컨스 값으로 저항소자를 조절할 수 있는 씨모 스에 기반하는 크로스바 어레이 딥러닝 가속기를 제안한다."}
{"patent_id": "10-2019-0162662", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명에 따른 씨모스에 기반하는 크로스바 어레이 딥러닝 가속기에는, 가로 및 세로방향으로 서로 교차하는 복수의 도선을 포함하는 크로스바 어레이; 상기 가로방향 도선(로우) 및 세로방향 도선(칼럼)을 교차하여 연결 하는 저항소자; 상기 크로스바 어레이에 의해서 제공되는 신경망을 업데이트 및 훈련을 위한 업데이트 엔진; 및 상기 크로스바 어레이에 의해서 제공되는 신경망의 입출력 동작을 수행하는 프로세싱 엔진이 포함되어, 하드웨 어 인공지능 장치를 제공할 수 있다. 상기 저항소자에는, 흐르는 전류를 조절하기 위하여 직렬로 연결되는 제 1 피모스 및 제 2 피모스; 드레인에 구 동전압이 연결되고 게이트에 입력전압이 연결되고 소스가 제 2 피모스의 게이트에 연결되는 제 2 엔모스; 및 상 기 제 2 엔모스와 제 1 소스 팔로워 회로를 이루는 제 1 엔모스가 포함된다. 이에 따르면, 제 2 피모스가 포화 영역에 진입하지 않도록 함으로써, 사전에 프로그래밍되어 있는 학습을 충실히 수행할 수 있다. 물론, 이에 따 라서, 학습이 수행되는 범위를 더 크게 할 수 있다."}
{"patent_id": "10-2019-0162662", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따르면, 넓은 조절범위의 구현이 가능하다. 본 발명에 따르면, 저항소자의 컨덕턴스를 제어상태에 맞추어서 조절할 수 있다. 더 구체적으로는, 멤리스터의 경우 현재 stuck-at-fault 라는 문제, 즉 원하는 범위의 컨덕턴스 범위 내에 값이 존재하지 않고 양 극단으로 머무르는 문제(가령 회로 상으로 Open이나 Short 상태가 되는 컨덕턴스 값)가 있다. 이것은 멤리스터 소자 자체의 문제로, 멤리스터 소자 사이에 너무 큰 전압이 걸리는 경우 멤리스터 소자 내의 절연체가 그 특성을 유지하지 못하고 다른 상태(완전히 끊기거나 연결되는 상태)로 들어가버리는 현상이 발생한 다. 그러나 본 발명의 경우 CMOS를 기반으로 구현하였기 때문에 안정적인 성능을 보장할 수 있다. 또한, 멤리스터를 사용할 경우 CMOS 공정과 함께 제작될 수 없기 때문에 멤리스터 기반 crossbar array 따로, 신호 송/수신 주변회로가 따로 제작되어야 한다. 그러나, 본 발명은 멤리스터가 아닌 일반 CMOS 공정을 사용하 기 때문에 한 칩 안에 주변회로들이 함께 집적될 수 있어 제조가 간단하다. 즉, crossbar array 구조의 deep learning accelerator를 single chip으로 쉽게 구현 가능하다. 또한, 본 발명은 CMOS 기반이기 때문에 CMOS 기반 다른 가속기와 비교하면, off-chip memory인 SRAM 기반 가속 기에 비하여, Crossbar array 형태의 in-memory device이기 때문에 더 집적도가 높다. 즉, 일반적인 CMOS 기반 가속기 보다 더 많은 메모리 용량을 가질 수 있다."}
{"patent_id": "10-2019-0162662", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하에서는 도면을 참조하여 본 발명의 구체적인 실시예를 상세하게 설명한다. 다만, 본 발명의 사상은 이하에 제시되는 실시예에 제한되지 아니하고, 본 발명의 사상을 이해하는 당업자는 동일한 사상의 범위내에 포함되는 다른 실시예를 구성요소의 부가, 변경, 삭제, 및 추가 등에 의해서 용이하게 제안할 수 있을 것이나, 이 또한 본 발명 사상의 범위 내에 포함된다고 할 것이다. 도 1은 실시예에 따른 씨모스에 기반하는 크로스바 어레이 딥러닝 가속기의 구성도이다. 도 1을 참조하면, 가로 및 세로방향으로 서로 교차하는 복수의 도선을 포함하는 크로스바 어레이가 포함된다. 상기 크로스바 어레이에는, 가로방향 도선(로우: Row) 및 세로방향 도선(칼럼: Column)을 교차하여 연결하는 저항소자가 더 포함된다. 상기 저항소자는 각 칼럼과 각 로우를 서로 연결하여 제공될 수 있다. 상기 저항소자는, 상기 칼럼의 제어신호가 상기 로우의 각 스캐닝신호에 의해서 공급되는 기준신호에 의해서 동 작될 수 있다. 상기 저항소자는 일반적인 의미에서 저항이 아니라 결과론적으로 저항소자로서 동작하는 저항연산소자를 약칭할 수 있다. 상기 저항연산소자는 트랜지스터 및 모스에 의해서 구현될 수 있다. 상기 저항소자는 상세한 내용은 뒤에 설명한다. 상기 저항소자를 포함하는 크로스바 어레이에 의해서 제공되는 신경망을 업데이트 및 훈련을 위한 업데 이트 엔진, 및 상기 저항소자를 포함하는 크로스바 어레이에 의해서 제공되는 신경망의 입출력 동작 을 수행하는 프로세싱 엔진가 더 포함된다. 실시예에 따른 딥러닝 가속기의 대략적인 동작은 다음과 같다. 먼저, 상기 프로세싱 엔진의 로우 펄스 드라이버의 입력이 상기 크로스바 어레이에 맞도록 전류로 변 형되어 인가된다. 이후에 상기 크로스바 어레이의 각 저항소자를 통과하며 연산된 값들은 증폭기에 의해서 적분된다. 상기 증폭기는 용량형 트랜스 임피던스 증폭기(capacitive trans-impedance amplifier)가 적용될 수 있다. 상기 증폭기의 출력값은, 동적 비교기에 의해서 결과값으로 연산될 수 있다. 이후에 상기 결과값을 통하여 신경망 학습을 수행한 후에, 상기 업데이트 엔진을 이용하여 상기 크로스바 어레이의 저항소자의 저항값을 변경한다. 상기 저항값의 변화는, 마스터 바이어스에서 참조전류(reference current)(Im)를 출력하는 것, 바이어스 생 성기(programmble Bias generator)에서 프로그래밍된 값에 따라서 상기 참조전류를 제어하여 제어전류(Ib)를 출력하는 것, 및 차지펌프(column parallel charge pump)에서 상기 제어전류에 따라서 차지값을 조절하는 것 에서 수행될 수 있다. 상기 차지값(CPout)은 상기 저항소자의 기준전압(Vcon)으로 입력될 수 있다. 결국, 상기 바이어스 생성기에 미리 프로그래밍 된 값에 따라서 저항소자를 제어하는 기준전압(Vcon)이 조절 될 수 있다. 이하에서는 실시예에 따른 딥러닝 가속기의 각 구성요소의 구조 및 동작을 설명한다. 도 2는 상기 바이어스 생성기와 차지펌프의 구성을 보이는 도면이다. 도 2를 참조하면, 상기 바이서스 생성기에는, R-2R 저항사다리(R-2R resistor ladder)포함되어, 상기 참조전 류(Im)을 이진화 한다. 각각의 플립플람(FF)이 서로 연결되어, 출력측을 향하여 왼쪽에서 부터 순차적으로 1/2Im, 1/4Im, 및 1/8Im 등 의 전류가 흐른다. 상기 플립플랍에 1 또는 0을 프로그래밍함으로써 회로를 스위칭하여, 상기 차지펌프를 위 한 제어전류(Ib) 측으로 또는 그라운드로 흐를 수 있다. 예를 들어, 1 값이 프로그래밍된 출력측의 모든 전류들 은 상기 제어전류(Ib)로 합쳐져서 흐를 수 있다. 이에 따르면, 상기 바이어스 생성기에 미리 프로그래밍된 값에 따라서, 상기 차지펌프의 바이어스 값으로 작용하는 제어전류(Ib)를 변화시킬 수 있다. 상기 차지펌프는 매 동작클럭마다 업 또는 다운에 전압을 인가하여, 출력노드의 차지를 증가시키거나 감소시 킬 수 있다. 이때 제어전류(Ib)에 따라 한 클럭 당 차지를 변화시킬 수 있는 값이 변한다. 상기 과정을 통하여 미리 프로그래밍된 값에 따라서 한 번에 기준전압(Vcon)을 많이 변화시키거나 조금 변화시킬 수 있어 다양한 값 으로 조절이 가능하다. 한편, 어느 한 칼럼의 차지펌프가 동작할 때, 상기 로우 스캐너가 순차적으로 동작하여 상기 기준전압이 인가되는 위치를 조절할 수 있다. 도 3은 상기 증폭기와 상기 동적 비교기의 구성을 보이는 도면이다. 도 3을 참조하면, 상기 크로스바 어레이에는, 신경망에 대하여 양의 가중치 및 음의 가중치를 구현하기 위하 여 두 줄의 저항소자 칼럼이 연결될 수 있다. 상기 두 칼럼을 통과하는 전체 전류의 양은, 상기 증폭기에 의해서 적분된다. 적분된 출력값은 동적 비교기 에 의해서 신경망의 출력을 제공할 수 있다. 상기 동적 비교기는, 매 클럭마다 랜덤 신호와 상기 적분된 출력값을 비교하여 0 또는 1의 출력값을 결정할 수 있다. 상기 출력값이 임의의 주기 안에 몇개가 발생하는 지에 따라서 신경망의 출력을 결정할 수 있다. 상기 동적 비교기 및 상기 동적 비교기와 연관되는 동작의 설명은, 본 발명자가 이미 출원한 바가 있는 등록번 호 10-1965850호, '인공 신경망에 사용되는 활성함수의 확률적 구현 방법 및 그를 포함하는 시스템'에 설명되므 로, 이를 참조할 수 있다. 필요한 범위 내에서 발명자의 상기 등록특허의 기술은 본 발명의 실시에 필요한 범위 내에서 본 발명의 설명에 포함되는 것으로 한다. 도 4는 상기 저항소자의 구성을 보이는 도면이고, 도 5와 도 6은 저항소자에 제공되는 소스팔로워의 작용을 설 명하는 도면이다. 도 4를 참조하면, 실시예에 따른 저항소자에는, 흐르는 전류를 조절하기 위하여 직렬로 연결되는 제 1 피모 스(P1), 및 제 2 피모스(P2)가 포함된다. 상기 제 1, 2 피모스은 소스가 서로 연결되고, 제 1 피모스의 드레인에는 입력측이 연결되고, 제 2 피모스의 드레인에는 출력측이 연결된다. 한편, 실시예에서 모스로 언급되는 소자는, 트랜지스터로서의 구동이 가능한 모든 소자를 지칭하는 것으로 해석 되어야 할 것이다. 실시예에 따른 저항소자에는, 드레인에 구동전압(Vdd)이 연결되고 게이트에 입력전압(Va)이 연결되고, 소스 가 제 2 피모스의 게이트에 연결되는 제 2 엔모스, 및 제 2 엔모스와 제 1 소스 팔로워(source follower)회로를 이루는 제 1 엔모스가 포함된다. 상기 제 1 소스 팔로워의 입력인 제 2 엔모스의 게이트전압은, 소스 팔로워의 출력인 제 2 엔모스의 소 스 및 제 1 엔모스의 드레인전압에 그대로 반영될 수 있다. 이상적인 경우에는, 일대일의 변화를 가질 수 있다. 실시예에 따른 저항소자에는, 드레인에 구동전압(Vdd)이 연결되고 게이트에 출력전압(Vb)이 연결되고, 소스 가 제 1 피모스의 게이트에 연결되는 제 4 엔모스, 및 제 4 엔모스와 제 2 소스 팔로워(source follower)회로를 이루는 제 3 엔모스가 포함된다. 상기 제 2 소스 팔로워의 입력인 제 4 엔모스의 게이트전압은, 소스 팔로워의 출력인 제 3 엔모스의 소 스 및 제 4 엔모스의 드레인전압에 그대로 반영될 수 있다. 이상적인 경우에는, 일대일의 변화를 가질 수 있다. 상기 제 1 엔모스, 및 상기 제 2 엔모스의 게이트는 상기 기준전압(Vcon)이 연결된다. 상기 제 1 엔모 스의 드레인은 상기 제 2 엔모스의 소스와 연결되고, 상기 제 3 엔모스의 소스는 상기 제 4 엔모스 의 소스와 연결된다. 실시예에 따른 저항소자의 주요 동작을 설명한다. 상기 입력전압(Va)이 변하면, 상기 제 1 소스 팔로워가 이를 감지한다(도 5참조). 상기 제 1 소스 팔로워의 출 력전압은 상기 제 2 피모스의 게이트로 인가되어 출력전압(Vb)에 반영된다(도 6참조). 이에 따라서, 상기 제 2 피모스가 포화영역에 진입하는 것을 방지할 수 있다. 결국, 상기 제 1, 2 피모스에 의해서 구현하도록 프로그래밍된 전류의 양을 구현할 수 있다. 이에 따라 서, 프로그래밍 된 컨덕컨스 값을 유지할 수 있다. 나아가서, 프로그래밍 가능한 전류의 범위를 크게 할 수도 있다. 상기 입력전압(Va)의 변화에 따른 대응은, 상기 출력전압(Vb)의 변화에 대한 대응에 있어서도 마찬가지이다. 예 를 들어, 제 2 소스 팔로워의 동작에 의해서 제 1 피모스가 포화영역에 진입하는 것을 방지할 수 있다. 본 발명의 일 주된 사상을 이루는 저항소자의 개념은 비교예를 제시하는 것에 의해서 더 쉽게 이해할 수 있을 것이다. 상기 비교예로는, 제 1, 2, 3, 및 4 엔모스가 사용되지 않고, 상기 제 1, 2 피모스의 게이트에 기준전압(Vcon)이 직접연결되는 구성이다. 실시예를 비교예와 비교한다. 상기 비교예의 경우에도, 상기 기준전압에 따라서 흐르는 전류를 조절할 수 있다. 그런데, 상기 기준전압이 고 정되어 있을 때, 소스, 및 드레인의 전압에 따라서 상기 제 1, 2 피모스의 동작영역이 포화영역 (saturation region)에 이를 수 있다. 예를 들어, 입력전압(Va) 및 소스의 전압이 상승함에도 불구하고 상기 기 준전압(Vcon)의 변화가 없으므로, 제 2 피모스에서 소스와 드레인의 전압차가 증가한다. 이 때에는 상기 제 2 피모스는 포화영역에 진입할 수 있다. 이에 따라서, 프로그래밍된 전류를 흐를 수 없다. 이에 따르면, 프로그래밍 할 수 있는 전류영역이 줄어들게 된 다. 이에 반하여, 실시예의 저항소자는, 상기 입력전압(Va)이 상승하면, 그에 따라서 제 2 피모스의 게이트 전압이 상승한다. 이에 따라서, 상기 제 2 피모스는 상기 포화영역(saturation region)에 이르지 않고 선형 영역(triods region)을 유지할 수 있다. 이에 따라서, 상기 바이서스 생성기에서 미리 프로그래밍된 모든 영역의 전류에 대응하여 저항소자를 제어할 수 있다. 산업상 이용가능성 본 발명에 따르면, 씨모스에 기반하는 크로스바 어레이 딥러닝 가속기를 더 넓은 범위에서 안정적으로 사용할 수 있다."}
{"patent_id": "10-2019-0162662", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 실시예에 따른 씨모스에 기반하는 크로스바 어레이 딥러닝 가속기의 구성도. 도 2는 바이어스 생성기와 차지펌프의 구성을 보이는 도면. 도 3은 증폭기와 동적 비교기의 구성을 보이는 도면이 도 4는 저항소자의 구성을 보이는 도면. 도 5와 도 6은 저항소자에 제공되는 소스팔로워의 작용을 설명하는 도면."}
