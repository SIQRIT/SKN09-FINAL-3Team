{"patent_id": "10-2018-0173524", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2020-0082689", "출원번호": "10-2018-0173524", "발명의 명칭": "딥러닝 기반의 재실자 포즈 분류를 이용한 재실자 활동량 산출 방법 및 시스템", "출원인": "중앙대학교 산학협력단", "발명자": "문진우"}}
{"patent_id": "10-2018-0173524", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "카메라 센서에 의해 수집된 실내 이미지에서 재실자를 검출하고 재실자 이미지의 특징을 학습하여 재실자의 관절 좌표값을 산출하는 단계:상기 획득된 인체관절의 위치 좌표를 입력으로 하여 딥러닝(deep learning)을 통해 재실자의 실내활동 포즈를분류하고 활동량(MET)을 획득하는 단계; 및소정시간 단위로 분류되는 재실자의 실내활동 포즈들과 획득되는 활동량을 이용하여 실내 열 환경 제어에 필요한 재실자의 활동량을 산출하는 단계를 포함하는 것을 특징으로 하는, 딥러닝 기반의 재실자 포즈 분류를 이용한 재실자 활동량 산출 방법."}
{"patent_id": "10-2018-0173524", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서, 상기 재실자의 관절 좌표 값은좌우 발목, 좌우 무릎, 좌우 골반, 좌우 손목, 좌우 팔꿈치, 좌우 어깨, 목, 얼굴로 이루어지는 14개의 관절에대한 좌표 값인 것을 특징으로 하는, 딥러닝 기반의 재실자 포즈 분류를 이용한 재실자 활동량 산출 방법."}
{"patent_id": "10-2018-0173524", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서, 상기 딥러닝은완전 연결 신경망(fully-connected neural network)인 것을 특징으로 하는, 딥러닝 기반의 재실자 포즈 분류를이용한 재실자 활동량 산출 방법."}
{"patent_id": "10-2018-0173524", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서, 상기 딥러닝 은닉층은활성화 함수로 ReLU 함수가 사용되며, 드롭아웃(dropout) 파라미터가 적용되고, 비용함수로 교차 엔트로피(Cross-Entropy) 비용함수가 사용되며, 최적화 알고리즘으로 Adam Optimizer가 사용되는 것을 특징으로 하는,딥러닝 기반의 재실자 포즈 분류를 이용한 재실자 활동량 산출 방법."}
{"patent_id": "10-2018-0173524", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서, 상기 실내 열 환경 제어에 필요한 재실자의 활동량 산출 단계는일정 기간 동안 상기 딥러닝을 통해 출력되는 재실자의 실내 활동 포즈 및 활동량을 지속적으로 수집하는 단계;및상기 일정 기간 동안 상기 지속적으로 수집된 활동량들 중에서 빈도가 가장 높은 것을 대표값으로 설정하거나수집된 활동량을 평균한 값을 대표값으로 설정하여 실내 열 환경 제어에 이용되게 하는 단계를 포함하는 것을특징으로 하는, 딥러닝 기반의 재실자 포즈 분류를 이용한 재실자 활동량 산출 방법."}
{"patent_id": "10-2018-0173524", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "카메라 센서에 의해 수집된 실내 이미지에서 재실자를 검출하고 재실자 이미지의 특징을 학습하여 재실자의 관절 좌표값을 산출하는 관절좌표인식부:상기 획득된 인체관절의 위치 좌표를 입력으로 하여 딥러닝(deep learning)을 통해 재실자의 실내활동 포즈를분류하고 활동량(MET)을 획득하는 포즈분류 딥러닝부; 및소정 시간 단위로 분류되는 재실자의 실내활동 포즈들과 획득되는 활동량을 이용하여 실내 열 환경 제어에 필요한 재실자의 활동량을 산출하는 MET 산출부를 포함하는 것을 특징으로 하는, 딥러닝 기반의 재실자 포즈 분류를공개특허 10-2020-0082689-3-이용한 재실자 활동량 산출 시스템."}
{"patent_id": "10-2018-0173524", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서, 상기 관절좌표인식부는재실자의 좌우 발목, 좌우 무릎, 좌우 골반, 좌우 손목, 좌우 팔꿈치, 좌우 어깨, 목, 얼굴로 이루어지는 14개의 관절에 대해 좌표값을 산출하는 것을 특징으로 하는, 딥러닝 기반의 재실자 포즈 분류를 이용한 재실자 활동량 산출 시스템."}
{"patent_id": "10-2018-0173524", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제6항에 있어서, 상기 포즈분류 딥러닝부는입력층, 복수의 은닉층 및 출력층으로 이루어지는 완전 연결 신경망(fully-connected neural network)인 것을특징으로 하는, 딥러닝 기반의 재실자 포즈 분류를 이용한 재실자 활동량 산출 시스템."}
{"patent_id": "10-2018-0173524", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에 있어서, 상기 완전 연결 신경망은활성화 함수로 ReLU 함수가 사용하며, 드롭아웃(dropout) 파라미터가 적용되며, 비용함수로 교차 엔트로피(Cross-Entropy) 비용함수가 사용되며, 최적화 알고리즘으로 Adam Optimizer가 사용되는 것을 특징으로 하는,딥러닝 기반의 재실자 포즈 분류를 이용한 재실자 활동량 산출 시스템."}
{"patent_id": "10-2018-0173524", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제6항에 있어서, MET 획득부는상기 딥러닝을 통해 출력되는 재실자의 실내 활동 포즈 및 활동량 데이터를 일정 기간 동안 지속적으로 입력 받고, 상기 지속적으로 입력 받은 활동량들 중에서 빈도가 가장 높은 것을 대표값으로 설정하거나 수집된 활동량을 평균한 값을 대표값으로 설정하여 실내 열 환경 제어에 이용되게 하는 것을 특징으로 하는, 딥러닝 기반의재실자 포즈 분류를 이용한 재실자 활동량 산출 시스템."}
{"patent_id": "10-2018-0173524", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 딥러닝 기반의 재실자 포즈 분류를 이용한 재실자 활동량 산출 방법 및 시스템에 관한 것으로서, 그 딥러닝 기반의 재실자 포즈 분류를 이용한 재실자 활동량 산출 방법은 카메라 센서에 의해 수집된 실내 이미지에 서 재실자를 검출하고 재실자 이미지의 특징을 학습하여 재실자의 관절 좌표값을 산출하는 단계: 그 획득된 인체 (뒷면에 계속)"}
{"patent_id": "10-2018-0173524", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 실내 열 환경의 쾌적 제어에 관한 것으로서, 특히 실내 열 환경의 쾌적 제어에 필요한 재실자의 활동 량을 산출하기 위한 재실자 포즈를 검출하는, 실내 열 환경 제어를 위한 딥러닝 기반 재실자 포즈 검출 및 이를 이용한 재실자 활동량 산출 방법 및 시스템에 관한 것이다."}
{"patent_id": "10-2018-0173524", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "건물 실내환경을 결정하는 요소는 온도, 습도, 기류 등을 고려하는 열 환경(Thermal Quality)을 비롯하여 실내 공기 오염 정도를 나타내는 실내 공기질(Indoor Air Quality, IAQ), 빛 환경(Light Quality), 음 환경 (Acoustic Quality)으로 구성된다. 이 중 실내 열 환경은 실내환경을 결정하는 중요한 요소로서 재실자가 실내 환경으로부터 느끼는 열쾌적(Thermal Comfort)에 대한 만족도를 의미한다. 이러한 재실자의 열쾌적 만족도를 평 가하기 위해 재실자의 열쾌적 상태를 통계적으로 처리한 지표를 열쾌적지표(Thermal Comfort Index)라 한다. 열 쾌적지표에는 불쾌지수(DI ; Discomfort Index), 유효온도(ET; Effective Temperature), 작용온도(OT ; Operative Temperature), 신유효온도(ET*; New Effective Temperature), 평균온열감(Predictive Mean Vote, PMV) 등이 있다. 이 중 PMV는 1970년 P.O. Fanger에 의해 제안된 열쾌적지표로 다른 평가 지표와 달리 열환경에 영향을 미치는 6 가지 온열 요소를 모두 고려하여 열쾌적을 평가한다. 6가지 온열 요소는 사람 주변의 환경적 변수인 온도, 습도, 기류속도 및 평균복사온도(MRT)와 개인적 변수인 활동량(Metabolic Rate, MET)과 착의량(Clothing Insulation, CLO)으로 구성된다. 이러한 통합 열쾌적지표인 PMV는 국제 표준 ISO 77303)으로 채택되어 사용되고 있다. PMV 값은 열적으로 중립인 상태를 0으로 하고 -3(cold) ~ 3(hot)의 7단계의 수치 척도로 재실자의 쾌적 감을 정량적으로 제시하고 있으며 ISO에 제시된 국제 쾌적 만족 기준은 -0.5<PMV<0.5의 범위이다.기존에 실내 열환경을 제어하기 위한 일반적으로 사용하던 방법은 실내공기 온도 및 습도 조절을 통한 제어로 개인적 요소를 고려하지 않는다. 이 때, PMV의 개인적 요소는 0.8~4.0 MET, 0~2 CLO의 적용 범위를 가지므로 온 습도만으로 제어할 경우 개인적 요소의 차이가 발생할 가능성이 커서 통합적인 PMV 측면에서 쾌적하지 않을 수 있다. 예를 들어 여름철 사무실 건물에 대해 실내 온도 26도, 습도 40%로 실내 적정 온습도 범위를 만족하더라 도 사무실에서 발생할 수 있는 MET 1.4(서서 서류작업), CLO 0.96(셔츠 및 자켓)일 때 PMV는 1.04로 PMV의 쾌적 범위(-0.5~0.5)를 벗어난다. 즉, 기존의 온도 및 습도 제어와 같이 개인적 요소를 고려하지 않는다면 PMV 쾌적 기준 범위를 벗어날 수 있다는 한계가 있다. 이에 반해 PMV 기반 제어법은 온도 습도뿐만 아니라 기류속도, MRT, MET, CLO와 같은 열적 요소를 모두 고려하 기 때문에 기존의 온습도 기반 제어보다 세밀하고 개인화된 열환경 조성이 가능하며 실내환경의 쾌적 만족도가 높게 측정될 수 있다. 하지만 PMV 제어는 개인적 요소의 정확한 측정이 수반되어야 한다. 실내 온열 쾌적을 위 한 연구를 통해 하절기와 동절기 PMV 변화에 가장 큰 영향을 미치는 요소가 재실자의 MET임이 알려져 있다. 이 에 따라 실제 PMV를 정확하게 산출하기 위해 개인적 요소 중 영향력이 큰 MET 측정이 필요하다. 재실자의 MET 측정에 있어 기존의 보편적인 적용방법은 재실자의 행동을 일반화한 후 가정하여 고정된 MET 값을 사용하는 것 이다. 예를 들어 사무실 건물의 경우 실내에서 발생 가능한 1.2 MET(앉아서 작업)를 고정 값으로 가정할 수 있 다. 하지만, 실제 MET는 이러한 고정된 값과 달리 다양한 값을 가질 수 있고 그 결과 실제 재실자 PMV는 고정 MET 값을 사용하여 산출된 PMV와 일치하지 않다는 문제점이 있다. 고정된 MET 값 적용의 한계 해결을 위해 MET를 측정하는 방법이 개발되었다. 기존에는 MET의 측정을 심박동기를 직접적으로 부착하거나 스마트폰을 사용하는 등 기기를 사용하여 재실자의 부가적인 정보를 간접적으로 측정하 는 방법을 적용했다. 종래 기술로는 ‘3축 가속도 센서를 이용한 칼로리 소모량 산출 장치 및 그 방법’, ‘워치 타입의 이동 단말기 및 그 제어 방법’, ‘생체 데이터 측정 장치’, ‘생체 정보에 기반하여 장비를 제어하는 기법’, ‘Body motion detector’, ‘일상 건강 정보 제공 시스템 및 일상 건강 정보 제공 방법’ 등이 있다. 하지만 종래 기 술은 활동량 측정을 위해 부수적인 측정기기 및 정보를 사용하며 측정된 데이터를 기반으로 행동의 패턴을 파악 하는 것에 국한된다. 즉, 실제 재실자의 행동을 보고 직접 판단하거나 구별하지 못한다. 기존에 활동량을 측정하는 방법은 이동식 단말기를 사용하거나 가속도 센서 등 기기를 사용하는 방법으로 제한 된다. 이와 같은 경우 사람의 활동에 따른 부가적인 소음, 가속도 등의 정보를 기반으로 하기 때문에 정보가 정 확하지 않거나 측정된 활동량과 실제 활동량 사이의 오차가 발생할 수 있다. 또한, 사람이 측정 단말기를 휴대 하는 등의 개입이 요구되기 때문에 실제 환경의 적용성 및 정확도가 낮다. 간접적인 MET 측정은 오차가 발생할 가능성이 높고 정확도 향상에 한계가 있다. 또한 측정된 MET를 사용하는 PMV 역시 오차가 발생하게 된다. 따라서 실내 환경 제어 시 PMV를 직접적으로 적용하지 못하고 실내 쾌적을 평 가하는 수단으로만 제한적으로 사용되었다. 그러므로 PMV를 제어의 수단으로 사용하기 위해서 재실자의 정확한 MET를 산출할 필요가 있다. 정확한 MET 산출 을 위해서 기존의 가정된 MET 값을 적용하는 방법이 아닌 재실자의 실제 행동인식을 바탕으로 MET를 도출하는 근본적이고 건물 내재적인 방법 개발이 필요하다. 근본적인 MET 측정은 인간이 판단하는 것처럼 재실자의 행동 을 인식해서 실내 활동을 구분할 수 있는 방법을 의미한다. 선행기술문헌 특허문헌 (특허문헌 0001) 한국공개특허 공개번호 제2018-0130621호 (특허문헌 0002) 한국등록특허 등록번호 제10-1842488호"}
{"patent_id": "10-2018-0173524", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명이 해결하고자 하는 과제는 종래 기술의 한계를 해결하기 위해 창출된 것으로서, 실내 환경의 쾌적 제어 를 위해 측정이 필요한 재실자의 활동량(Metabolic rate, MET)을 산출하기 위한 모델로 딥러닝 알고리즘을 적용 하여 실내에서의 재실자의 포즈를 분류하여 재실자의 활동량을 산출하는, 실내 열 환경 제어를 위한 딥러닝 기 반의 재실자 포즈 분류를 이용한 재실자 활동량 산출 방법 및 시스템을 제공하는 것이다."}
{"patent_id": "10-2018-0173524", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 기술적 과제를 이루기 위한 본 발명에 의한 딥러닝 기반의 재실자 포즈 분류를 이용한 재실자 활동량 산출 방법은, 카메라 센서에 의해 수집된 실내 이미지에서 재실자를 검출하고 재실자 이미지의 특징을 학습하여 재실 자의 관절 좌표값을 산출하는 단계: 상기 획득된 인체관절의 위치 좌표를 입력으로 하여 딥러닝(deep learnin g)을 통해 재실자의 실내활동 포즈를 분류하고 활동량(MET)을 획득하는 단계; 및 소정시간 단위로 분류되는 재 실자의 실내활동 포즈들과 획득되는 활동량을 이용하여 실내 열 환경 제어에 필요한 재실자의 활동량을 산출하 는 단계를 포함하는 것을 특징으로 한다. 상기 재실자의 관절 좌표 값은 좌우 발목, 좌우 무릎, 좌우 골반, 좌우 손목, 좌우 팔꿈치, 좌우 어깨, 목, 얼 굴로 이루어지는 14개의 관절에 대한 좌표 값인 것을 특징으로 한다. 상기 딥러닝은 완전 연결 신경망(fully- connected neural network)이고, 상기 딥러닝 은닉층은 활성화 함수로 ReLU 함수가 사용되며, 드롭아웃 (dropout) 파라미터가 적용되고, 비용함수로 교차 엔트로피(Cross-Entropy) 비용함수가 사용되며, 최적화 알고 리즘으로 Adam Optimizer가 사용되는 것을 특징으로 한다. 상기 실내 열 환경 제어에 필요한 재실자의 활동량 산출 단계는 일정 기간 동안 상기 딥러닝을 통해 출력되는 재실자의 실내 활동 포즈 및 활동량을 지속적으로 수 집하는 단계; 및 상기 일정 기간 동안 상기 지속적으로 수집된 활동량들 중에서 빈도가 가장 높은 것을 대표값 으로 설정하거나 수집된 활동량을 평균한 값을 대표값으로 설정하여 실내 열 환경 제어에 이용되게 하는 단계를 포함하는 것을 특징으로 한다. 상기 기술적 과제를 이루기 위한 본 발명에 의한 딥러닝 기반의 재실자 포즈 분류를 이용한 재실자 활동량 산출 시스템은, 카메라 센서에 의해 수집된 실내 이미지에서 재실자를 검출하고 재실자 이미지의 특징을 학습하여 재 실자의 관절 좌표값을 산출하는 관절좌표인식부: 상기 획득된 인체관절의 위치 좌표를 입력으로 하여 딥러닝 (deep learning)을 통해 재실자의 실내활동 포즈를 분류하고 활동량(MET)을 획득하는 포즈분류 딥러닝부; 및 소 정시간 단위로 분류되는 재실자의 실내활동 포즈들과 획득되는 활동량을 이용하여 실내 열 환경 제어에 필요한 재실자의 활동량을 산출하는 MET 산출부를 포함하는 것을 특징으로 한다. 상기 관절좌표인식부는 재실자의 좌우 발목, 좌우 무릎, 좌우 골반, 좌우 손목, 좌우 팔꿈치, 좌우 어깨, 목, 얼굴로 이루어지는 14개의 관절에 대해 좌표값을 산출하며, 상기 딥러닝부는 입력층, 복수의 은닉층 및 출력층 으로 이루어지는 완전 연결 신경망(fully-connected neural network)인 것을 특징으로 한다. 상기 완전 연결 신 경망은 활성화 함수로 ReLU 함수가 사용하며, 드롭아웃(dropout) 파라미터가 적용되며, 비용함수로 교차 엔트로 피(Cross-Entropy) 비용함수가 사용된다. MET 획득부는 상기 딥러닝을 통해 출력되는 재실자의 실내 활동 포즈 및 활동량 데이터를 일정 기간 동안 지속적으로 입력 받고, 상기 지속적으로 입력 받은 활동량들 중에서 빈도가 가장 높은 것을 대표값으로 설정하거나 수집된 활동량을 평균한 값을 대표값으로 설정하여 실내 열 환경 제어에 이용되게 하는 것을 특징으로 한다."}
{"patent_id": "10-2018-0173524", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따른 딥러닝 기반의 재실자 포즈 분류를 이용한 재실자 활동량 산출 방법 및 시스템 에 의하면, 실내 의 쾌적 제어를 위한 PMV 제어법 도입 시 요구되는 재실자의 MET를 측정하기 위한 모델로 재실자 활동량 산출 모델을 사용하여 다른 환경변수와 함께 실내를 제어하고 쾌적 범위 만족도를 향상을 기대할 수 있다. 카메라 센 서만 사용하고 재실자의 이미지를 분석하여 포즈와 활동량을 측정하기 때문에 재실자가 직접 기기를 조작하거나 부착해야 할 필요가 없어 적용성이 좋다. 또한 재실자의 활동에 따른 부수적 정보를 간접 측정하는 것이 아닌 실제 취하고 있는 행동을 판단하는 방법으로 오차를 감소시킬 수 있다."}
{"patent_id": "10-2018-0173524", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면을 참조로 본 발명의 바람직한 실시예를 상세히 설명하기로 한다. 본 명세서에 기재된 실시예 와 도면에 도시된 구성은 본 발명의 바람직한 일 실시예에 불과할 뿐이고, 본 발명의 기술적 사상을 모두 대변 하는 것은 아니므로, 본 출원 시점에 있어서 이들을 대체할 수 있는 다양한 균등물과 변형예들이 있을 수 있음 을 이해하여야 한다. 도 1는 본 발명에 따른 딥러닝 기반의 재실자 포즈 분류를 이용한 재실자 활동량 산출 시스템의 일실시예를 블 록도로 나타낸 것으로서, 상기 딥러닝 기반의 재실자 포즈 분류를 이용한 재실자 활동량 산출 시스템의 일실시 예는 실내 이미지 수집부, 관절좌표 인식부, 포즈분류 딥러닝부 및 MET 산출부를 포함하여 이루어진다. 실내 이미지 수집부는 카메라 센서(미도시)를 이용하여 실내 이미지를 수집하며, 카메라 센서는 IoT기반의 SBC(Single Board Computer) 또는 아두이노 등을 이용할 수 있다. 관절좌표 인식부에서 실내 이미지 수집부을 이용하여 수집된 실내 이미지로부터 재실자를 검출하고, 재실자 이미지의 특징을 학습하여 재실자의 관절 좌표값을 산출하며, 일 예로 재실자의 좌우 발목, 좌우 무릎, 좌우 골반, 좌우 손목, 좌우 팔꿈치, 좌우 어깨, 목, 얼굴로 이루어지는 14개의 관절에 대해 좌표값을 산출할 수 있다. 센서를 통해 수집한 재실자의 이미지 특징을 학습하기 전 Mask R - CNN 함수를 적용하여 재실자의 이 미지를 검출할 수 있다. 관절좌표 인식부를 보다 구체적으로 설명하기로 하면, 관절좌표 인식부는 실내활동 데이터의 원본 이 미지를 입력받고 이미지 상의 재실자 관절 좌표를 추출한다. 관절좌표 인식부는 학습 시에 각 이미지에 해 당하는 정답좌표를 포함하는 지도학습을 수행한다. 이때, 모델에 이미지가 입력되기 전 이미지 상의 사람의 위 치를 감지하는 전처리 과정을 먼저 수행할 수 있다. 사람을 감지할 때 사용한 함수는 Mask R-CNN으로 사물 인식 및 추출 함수이다. Mask R-CNN을 사용해 사람의 위치를 찾아 불필요한 정보를 담고 있는 주위 배경을 제거한다. 이 함수는 MET 산출을 위한 학습 시에 적용한 Boxing 과정을 처리해주는 역할로 좌표가 없는 이미지에서도 사람 을 찾아 Boxing을 할 수 있다. 도 6은 Mask R-CNN을 통해 재실자를 감지하는 이미지 예시로 재실자만 포함된 새 로운 이미지를 내보고 내보낸 이미지는 관절좌표 인식부에 입력된다. 관절좌표 인식부는 는 감지된 이미지를 128×128 크기로 변환하여 일정하게 입력받는다. 이때 모델의 학습 시 오차 측정 방법으로 수학식 1에 의해 Euclidean Distance를 계산한다. Euclidean Distance는 측정해야하는 14개의 좌표에 대하여 정답으로 주 어진 재실자의 실제 좌표값과 모델의 학습 결과로 추출된 좌표값 사이의 거리를 계산한다. 거리의 계산은 수학 식 1와 같이 두 점 p와 q 사이의 길이를 계산한다. [수학식 1]"}
{"patent_id": "10-2018-0173524", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "이때 i는 공간의 차원 수를 의미하며 관절좌표 인식부는 2차원의 이미지를 다루므로 i = 2 이다. 관절좌표 인식부의 파라미터 및 최적화 알고리즘은 조절하며 성능을 향상시킨다. 또한 관절좌표 인식부는 이미 지 데이터 학습을 위해 CNN (Convolutional Neural Network) 구조를 포함하는 ResNet을 활용할 수 있다. ResNet은 Microsoft Research 연구팀이 개발한 모델로 매년 개최되는 이미지 인식 및 관절인식 경진대회인 ImageNet and COCO 201543)의 주요 분야에서 우승한 모델이다. ResNet은 이미지뿐만 아니라 회귀 및 분류 문제를 해결하는데 우수한 성능을 보인다. ResNet의 핵심이 되는 구조는 도 7의 Residual Block이다. 관절 인식 모델의 Residual Block은 3개의 Convolution Layer와 1개의 Batch Normalization, 1개의 ReLU로 구성된다. 이때 Residual Block은 입력층에 서 마지막 Convolution Layer까지 Short-cut이라는 선으로 연결되어 역전파 학습 시 오차 값이 중간에 소실되는 것 을 방지하는 기능을 수행하고 성능을 향상시키는 역할을 한다. 포즈분류 딥러닝부는 관절좌표 인식부을 통해 획득된 인체관절의 위치 좌표를 입력으로 하여 딥러닝 (deep learning)을 통해 재실자의 실내활동 포즈를 분류하고, 분류된 포즈에 해당하는 활동량(MET)을 획득한다. 도 2은 본 발명에 따른 딥러닝 기반의 재실자 포즈 분류를 이용한 재실자 활동량 산출 시스템의 포즈분류 딥러 닝부의 일실시예로 완전연결(Fully Connected) 신경망을 나타낸 것이다. 포즈분류 딥러닝부는 이미지 의 인체 관절 좌표와 포즈 레이블 정보를 가지는 데이터를 학습하여 관절 좌표가 나타내는 포즈와 MET를 출력한 다. 본 발명의 실시예에서는 재실자의 실내 활동을 구분하기 위해 분류(Classification) 모델을 사용하여 재실자의 포즈를 분류한다. 분류모델의 학습은 지도학습으로 각 실내 활동에 레이블 번호를 부여하여 정답을 정해줄 수 있다. 즉 포즈분류 딥러닝부는 인체 관절 14쌍의 (x,y) 좌표인 28개가 입력되고 실내활동 레이블을 결과로 내보낸다. 따라서 포즈분류 딥러닝부는 도 2과 같이 딥러닝의 기본 구조인 입력층, 은닉층, 출 력층 구조를 가지며 입력 노드 28개, 출력 노드 1개로 구성된다. 즉, 본 발명의 일실시예로 포즈분류 딥러 닝부는 입력층, 은닉층 및 출력층으로 이루어지는 완전 연결 신경망(fully-connected neural network)으로 이루어질 수 있고, 입력층은 관절 좌표 값 14쌍(28개)를 입력값으로 사용된다. 결과 적으로 포즈분류 딥러닝부를 통해 출력되는 재실자 포즈 정보로 MET 값 예측이 가능하다. 은닉층의 구조는 최적 모델을 찾기 위해 모델의 학습 시에 은닉층과 은닉 뉴런의 개수를 변경하며 진행하였기 때문에 모델 최적 화 진행 후에 결정될 수 있다. 도 3는 포즈분류 딥러닝부의 일실시예로 전 계층이 연결되어 있는 완전연결(Fully Connected) 신경망의 은 닉층(Hidden Layers)의 일실시예를 나타낸 것이다. 도 3을 참조하면, 본 발명의 실시예에서는 은닉층이 4 개의 층, 은닉뉴런(Hidden Neuron)이 140뉴런 - 112뉴런 - 84뉴런 - 56 뉴런을 가진다. 일반적으로 신경망 모델은 데이터에 따라 유연하게 동작하기 때문에 조절해야하는 파라미터가 많다. 따라서 딥 러닝 학습 시에 발생되는 느린 학습 속도, 학습 데이터의 과적합 및 그래디언트 소실 및 폭주(Gradient Vanishing or Exploding) 등의 문제를 해결하기 위한 모델 파라미터를 설정할 필요가 있다. 그 중 그래디언트 소실 및 폭주(Gradient Vanishing or Exploding) 문제는 모델 은닉층이 깊어질수록 발생하는 문제로 역전파 알 고리즘에서 사용하는 미분 값이 사라지거나 폭주하는 현상을 말한다. 예를 들어 기존 활성화 함수인 계단함수를 사용할 경우 미분 값은 어떤 값이 들어오더라도 0이 되므로 그래디언트 값이 소실되어 학습이 수렴하지 않게 된 다. 이러한 그래디언트 소실 및 폭주 문제 해결을 위한 설정은 설정 파라미터 중 활성화 함수, 가중치 초기화, 배치 정규화를 통하여 보완할 수 있다. 먼저 포즈분류 딥러닝부의 활성화 함수는 ReLU (Rectified Linear Unit) 함수로 설정한다. ReLU는 2장의 음수 값을 받는 경우 0을 내보내고 양수 값을 받을 경우 양수 값 그대로 를 내보내기 때문에 미분할 경우 값이 살아있기 때문에 그래디언트 소실 문제를 해결할 수 있다. 배치 정규화 기법은 활성화 함수의 출력값을 다시 정규화 해주는 작업으로 데이터의 분포를 치우치지 않게 하여 그래디언트 소실 및 폭발 문제를 해결할 수 있다. 이에 따라 MET 산출모델에도 배치 정규화를 적용할 수 있다. 그 외에도 딥러닝 모델은 종종 학습데이터에 대해 과적합(Overfitting)이 발생한다. 이 문제는 모델이 학습데이 터에 대한 학습에 최적화되어 다른 데이터에 대한 일반성이 낮은 것을 의미한다. 과적합 문제 해결은 계층 간 뉴런의 연결을 무작위로 끊어주는 드롭아웃(Dropout) 파라미터를 설정하여 방지할 수 있다. 본 발명에 따른 실 시예의 포즈분류 딥러닝부에서는 각 층에서 30%의 뉴런의 연결을 끊어주며 연결을 하도록 설정한다. 모델의 최적화 알고리즘으로 Adam Optimizer를 사용할 수 있다. 초기의 최적화 알고리즘인 경사하강법은 일정한 간격으로 이동하며 학습하는 학습률(Learning Rate, LR)을 이용하기 때문에 학습 속도가 오래 걸릴 수 있다. 따 라서 학습률은 고정값, 일정 스텝마다 학습률 크기를 줄이는 지수 기반등 학습 속도와 최적점을 고려해 적용하 게 된다. 이때, Adam Optimizer는 적응형 모멘트 추정이라고도 부르며 경사하강법에 모멘텀(Momentum) 개념을 추가하여 이전에 계산한 그래디언트 값을 고려하는 가속도의 개념을 적용한 방법이다. Adam Optimizer는 최적화 하는 동안 자동으로 학습률을 감소시켜 주는 알고리즘이기 때문에 초기 학습률을 지정해주면 스스로 학습률을 변경하며 학습을 수행한다이상에서, 본 발명에 따른 완전 연결 신경망은 활성화 함수로 ReLU 함수가 사용하며, 드롭아웃(dropout) 파라미터가 적용되며, 비용함수로 교차 엔트로피(Cross-Entropy) 비용함수가 사용되며, 최적화 알고리즘으로 Adam Optimizer가 사용된다. 본 발명의 실시예에서는 10가지의 실내활동 포즈를 구분할 수 있으며 각 포즈의 활동량 값을 함께 산출한다. 10 가지의 각 활동량(MET) 값은 표 1과 같다. 표 1 실내활동 MET Units Resting sleeping 0.7 reclining 0.8 seated.quiet 1.0 standing.relaxed 1.2 office activities reading.seated 1.0 writing 1.0 typing 1.1 filing.seated 1.2 filing.standing 1.4 walking about 1.7 MET 산출부는 소정시간 단위로 분류되는 재실자의 실내활동 포즈들과 획득되는 활동량을 이용하여 실내 열 환경 제어에 필요한 재실자의 활동량을 산출한다. 도 4는 본 발명에 따른 딥러닝 기반의 재실자 포즈 분류를 이 용한 재실자 활동량 산출 시스템의 MET 산출부의 일실시예를 나타낸 것이다. 도 4를 참조하면, MET 획득부는 상기 딥러닝을 통해 출력되는 재실자의 실내 활동 포즈 및 활동량 데이터 를 일정 기간 동안 지속적으로 입력 받는다. 예를 들어 MET 산출시간을 10초로 설정하여 10초 단위로 포즈분류 딥러닝부을 통해 분류되는 포즈와 해당하는 MET 값을 15분 동안 즉 90번 산출할 수 있다. 상기 지속적으로 입력 받은 활동량들 중에서 빈도가 가장 높은 것을 대표값으로 설정하거나 수집된 활동량을 평 균한 값을 대표값으로 설정하여 PMV 기반의 실내 열 환경 제어에 이용되게 할 수 있다. 도 5는 본 발명에 따른 딥러닝 기반의 재실자 포즈 분류를 이용한 재실자 활동량 산출 방법에 대한 일실시예를 흐름도로 나타낸 것이다. 도 1 내지 도 5를 참조하여 본 발명에 따른 딥러닝 기반의 재실자 포즈 분류를 이용한 재실자 활동량 산출 방법에 대한 일실시예를 설명하기로 한다. 먼저, 실내 이미지 수집부를 통해 카메라 센서(미도시)를 이용하여 실내 이미지가 수집된다.(S510단계) 카 메라 센서로는 IoT기반의 SBC(Single Board Computer) 또는 아두니노 등이 이용될 수 있다. 실내 이미지가 수집되면, 관절좌표 인식부는 카메라 센서에 의해 수집된 실내 이미지에서 재실자를 검출하 고 재실자 이미지의 특징을 학습하여 재실자의 관절 좌표값을 산출한다.(S520단계) 상기 재실자의 관절 좌표 값은 좌우 발목, 좌우 무릎, 좌우 골반, 좌우 손목, 좌우 팔꿈치, 좌우 어깨, 목, 얼굴로 이루어지는 14개의 관 절에 대한 좌표 값으로 이루어질 수 있다. 재실자의 관절 좌표값이 산출되면, 포즈분류 딥러닝부를 통해 상기 획득된 인체관절의 위치 좌표를 입력으 로 하여 딥러닝(deep learning)을 통해 재실자의 실내활동 포즈를 분류하고 활동량(MET)을 획득한다.(S530단계) 상기 딥러닝은 완전 연결 신경망(fully-connected neural network)이고, 입력층, 은닉층, 출력층 을 포함하여 이루어지고, 은닉층은 활성화 함수로 ReLU 함수가 사용되며, 드롭아웃(dropout) 파라미 터가 적용되고, 비용함수로 교차 엔트로피(Cross-Entropy) 비용함수가 사용되며, 최적화 알고리즘으로 Adam Optimizer가 사용된다. 실내활동 포즈가 분류되고 상응하는 활동량이 획득되면 MET 산출부는 소정시간 단위로 분류되는 재실자의 실내활동 포즈들과 획득되는 활동량을 이용하여 실내 열 환경 제어에 필요한 재실자의 활동량을 산출한다.(S540 단계) 상기 S540단계는 일정 기간 동안 상기 딥러닝을 통해 출력되는 재실자의 실내 활동 포즈 및 활동량을 지 속적으로 수집하는 단계와 상기 일정 기간 동안 상기 지속적으로 수집된 활동량들 중에서 빈도가 가장 높은 것을 대표값으로 설정하거나 수집된 활동량을 평균한 값을 대표값으로 설정하여 실내 열 환경 제어에 이용되게 하 는 단계를 포함하여 이루어진다. 본 발명의 실시예는 지능형 모델을 사용하고 카메라 센서를 통해 수집된 재실자의 실내 이미지를 학습하여 실내 활동 포즈를 분류하고 활동량을 산출한다. 이는 부가적인 정보 활용이 아닌 직접적인 이미지를 통해 실제 재실 자의 활동을 판단하는 방법으로 지능형 판단 및 측정이 가능하다는 차별성을 지닌다. 본 발명은 컴퓨터로 읽을 수 있는 기록 매체에 컴퓨터(정보 처리 기능을 갖는 장치를 모두 포함한다)가 읽을 수 있는 코드로서 구현될 수 있다. 컴퓨터가 읽을 수 있는 기록 매체는 컴퓨터 시스템에 의하여 읽혀질 수 있는 데 이터가 저장되는 모든 종류의 기록 장치를 포함한다. 컴퓨터가 읽을 수 있는 기록 장치의 예로는 ROM, RAM, CD- ROM, 자기 테이프, 플로피 디스크, 광데이터 저장장치 등이 있다. 또한, 본 명세서에서, “부”는 프로세서 또 는 회로와 같은 하드웨어 구성(hardware component), 및/또는 프로세서와 같은 하드웨어 구성에 의해 실행되는 소프트웨어 구성(software component)일 수 있다. 본 발명은 도면에 도시된 실시예를 참고로 설명되었으나 이는 예시적인 것에 불과하며, 본 기술 분야의 통상의 지식을 가진 자라면 이로부터 다양한 변형 및 균등한 타 실시예가 가능하다는 점을 이해할 것이다. 따라서, 본 발명의 진정한 기술적 보호 범위는 첨부된 등록청구범위의 기술적 사상에 의해 정해져야 할 것이다."}
{"patent_id": "10-2018-0173524", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1는 본 발명에 따른 딥러닝 기반의 재실자 포즈 분류를 이용한 재실자 활동량 산출 시스템의 일실시예를 블 록도로 나타낸 것이다. 도 2은 본 발명에 따른 딥러닝 기반의 재실자 포즈 분류를 이용한 재실자 활동량 산출 시스템의 포즈분류 딥러 닝부의 일실시예로 완전연결(Fully Connected) 신경망을 나타낸 것이다.도 3는 상기 포즈분류 딥러닝부의 일실시예로 완전연결(Fully Connected) 신경망의 은닉층(Hidden Layers)의 일 실시예를 나타낸 것이다. 도 4는 본 발명에 따른 딥러닝 기반의 재실자 포즈 분류를 이용한 재실자 활동량 산출 시스템의 MET 산출부의 일실시예를 나타낸 것이다. 도 5는 본 발명에 따른 딥러닝 기반의 재실자 포즈 분류를 이용한 재실자 활동량 산출 방법에 대한 일실시예를 흐름도로 나타낸 것이다. 도 6은 Mask R-CNN의 재실자 감지의 예를 나타낸 것이다. 도 7은 Residual 블록의 구조에 대한 일 예를 나타낸 것이다."}
