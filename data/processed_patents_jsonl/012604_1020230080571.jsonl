{"patent_id": "10-2023-0080571", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0000031", "출원번호": "10-2023-0080571", "발명의 명칭": "빌딩 내부의 무선 통신 품질 자동 측정 시스템 및 방법", "출원인": "주식회사 이노와이어리스", "발명자": "성창윤"}}
{"patent_id": "10-2023-0080571", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "이동통신이 가능한 휴대 단말에 구비되고,빌딩 내부 도면 정보를 저장하는 도면 DB;360도 카메라를 통해 실시간으로 촬영되어 파노라마 영상으로 입력되는 전방 영상 및 후방 영상을 분석하는 영상 분석부;빌딩 내부 도면 정보와 영상 분석부를 통해 분석된 빌딩 내부의 전방 영상 및 후방 영상 분석 정보를 함께 이용하여 휴대 단말의 현재 위치를 추정하는 현재 위치 추정부;빌딩 내부의 복수 지점에서의 이동통신 품질 데이터를 수집하는 품질 데이터 수집부 및현재 위치 정보와 품질 데이터 정보를 매칭시켜 저장하는 위치별 품질 데이터 저장부를 포함하여 이루어진 빌딩내부의 무선 통신 품질 자동 측정 시스템."}
{"patent_id": "10-2023-0080571", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "청구항 1에 있어서,빌딩 내부 도면 정보에는 빌딩 내부에 존재하는 상점 이름, 각 상점 구역의 좌표 정보 및 빌딩 내부의 부가시설의 이름과 중심 좌표 정보가 포함되는 것을 특징으로 하는 빌딩 내부의 무선 통신 품질 자동 측정 시스템."}
{"patent_id": "10-2023-0080571", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "청구항 2에 있어서,빌딩 내부 도면 정보에는 각 상점 구역의 통로 측 구역선의 중간 지점 좌표값인 상점 구역 기준 좌표값이 포함된 것을 특징으로 하는 빌딩 내부의 무선 통신 품질 자동 측정 시스템."}
{"patent_id": "10-2023-0080571", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "청구항 3에 있어서,현재 위치 정보와 품질 데이터 정보의 매칭은 파노라마 영상 입수 시점과 이동통신 품질 데이터 수집 시점의 타임 스탬프를 동기화시켜서 수행되는 것을 특징으로 하는 빌딩 내부의 무선 통신 품질 자동 측정 시스템."}
{"patent_id": "10-2023-0080571", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "청구항 1 내지 4 중 어느 하나에 있어서,빌딩 내부 도면 이미지에 대해 객체 인식을 수행하여 빌딩 내부 도면 정보를 추출하는 도면 분석부를 더 구비한것을 특징으로 하는 빌딩 내부의 무선 통신 품질 자동 측정 시스템."}
{"patent_id": "10-2023-0080571", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "이동통신이 가능한 휴대 단말에 탑재된 품질 측정앱에 의해 수행되고,360도 카메라에 의해 촬영되고 빌딩 내부의 전방 영상 및 후방 영상이 포함된 파노라마 영상을 수신하는 (a) 단계;객체 인식 기술을 통해 파노라마 영상을 분석하여 객체인 간판 이름 또는 부가시설 이미지를 인식한 후 간판 이름 또는 부가시설의 이름과 각각의 중심 좌표값을 추출하는 (b) 단계;상점 이름, 각 상점 구역의 좌표값 및 빌딩 내부의 부가시설의 이름과 중심 좌표값이 포함된 빌딩 내부 도면 정보와 (b) 단계에서 인식된 간판 이름 또는 부가시설의 이름을 이용하여 휴대 단말의 빌딩 내부 도면 상의 현재공개특허 10-2025-0000031-3-위치를 추정하는 (c) 단계;이동통신 품질 데이터를 수집하는 (d) 단계 및빌딩 내부 도면 상의 현재 위치를 이동통신 품질 데이터에 매칭시켜 저장하는 (e) 단계를 포함하여 이루어진 빌딩 내부의 무선 통신 품질 자동 측정 방법."}
{"patent_id": "10-2023-0080571", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "청구항 6에 있어서,한 프레임의 파노라마 영상에는 화면 중심선을 중심으로 한 좌측 중앙 및 우측 중앙에 각각 좌측 전방 영상 및우측 전방 영상이 단절 없이 배치되고, 좌측 전방 영상의 좌단 및 우측 전방 영상의 우단에는 각각 좌측 후방영상 및 우측 후방 영상이 배치되며,좌측 전방 영상이 배치된 좌측 전방 영역, 우측 전방 영상이 배치된 우측 전방 영역, 좌측 후방 영상이 배치된좌측 후방 영역 및 우측 후방 영상이 배치된 우측 후방 영역이 객체의 중심 좌표값에 대한 로케이션 정보로 이용되는 것을 특징으로 하는 빌딩 내부의 무선 통신 품질 자동 측정 방법."}
{"patent_id": "10-2023-0080571", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "청구항 7에 있어서,(b) 단계에서 객체인 간판 로고를 인식한 후 이에 상응하는 간판 이름 및 중심 좌표값을 추출하는 것을 특징으로 하는 빌딩 내부의 무선 통신 품질 자동 측정 방법."}
{"patent_id": "10-2023-0080571", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "청구항 8에 있어서,파노라마 영상의 중심선에서 각 객체의 중심 좌표값까지의 세로 길이 및 가로 길이를 삼각함수에 대입하여 계산된 각 객체와 중심선이 이루는 각도를 현재 위치 추정에 이용하는 것을 특징으로 하는 빌딩 내부의 무선 통신품질 자동 측정 방법."}
{"patent_id": "10-2023-0080571", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "청구항 9에 있어서,중심선은 화면 중심선, 좌측 전방 영상과 좌측 후방 영상을 구획하는 좌측 전/후방 구획선 또는 우측 전방 영상과 우측 후방 영상을 구획하는 우측 전/후방 구획선인 것을 특징으로 하는 빌딩 내부의 무선 통신 품질 자동 측정 방법."}
{"patent_id": "10-2023-0080571", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "청구항 10에 있어서,(c) 단계는 간판 이름 또는 부가시설 이름을 빌딩 내부 도면 정보와 비교하여 빌딩 내부 도면 정보에서 해당하는 상점 구역 또는 부가시설을 추출하는 (c1) 단계, 빌딩 내부 도면 정보에서 휴대 단말의 진행 방향을 확인하는 (c2) 단계 및 (c1) 단계에서 추출된 상점 구역 또는 부가시설에 각각의 상기 각도 값만큼의 라인을 생성한후 두 라인의 교차점에 의거하여 빌딩 내부 도면 상의 휴대 단말의 현재 위치를 추정하는 (c3) 단계를 포함하여이루어진 것을 특징으로 하는 빌딩 내부의 무선 통신 품질 자동 측정 방법."}
{"patent_id": "10-2023-0080571", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "청구항 11에 있어서,(c2) 단계는 객체의 로케이션이 좌측 전방 영역에서 좌측 후방 영역으로 이동하거나 우측 전방 영역에서 우측후방 영역으로 이동한 경우에는 휴대 단말이 해당 객체와 직진 방향으로 멀어지는 것으로 판단하는 반면에 반대인 경우에는 해당 객체와 직진 방향으로 가까워지는 것으로 판단하며,객체의 로케이션이 좌측 전방 영역에서 우측 전방 영역으로 이동한 경우에는 휴대 단말이 좌측으로 방향을 전환한 것으로 판단하는 반면에 반대인 경우에는 휴대 단말이 우측으로 방향을 전환한 것으로 판단하여 이루어진 것공개특허 10-2025-0000031-4-을 특징으로 하는 빌딩 내부의 무선 통신 품질 자동 측정 방법."}
{"patent_id": "10-2023-0080571", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "청구항 12에 있어서,(c3) 단계에서의 라인의 생성은 빌딩 실내 도면 정보의 각 상점 구역의 통로 측 구역선의 중간 지점을 기준점으로 하여 생성되는 것을 특징으로 하는 빌딩 내부의 무선 통신 품질 자동 측정 방법."}
{"patent_id": "10-2023-0080571", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "청구항 13에 있어서,각 교차점에서 다른 교차점을 연결한 직선 중에서 최단 거리를 취하고, 이렇게 얻어진 각 교차점에서의 최단 거리를 긴 순서로 나열한 후에 최장 직선 거리가 차장 직선 거리보다 이상치 판단 배수보다 크면 해당 직선 거리의 교차점을 이상치로 판단하여 위치 추정 과정에서 배제하는 것을 특징으로 하는 빌딩 내부의 무선 통신 품질자동 측정 방법."}
{"patent_id": "10-2023-0080571", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "청구항 14에 있어서,이상치 여부의 판단은 교차점이 4개 이상인 경우에 한하여 수행되는 것을 특징으로 하는 빌딩 내부의 무선 통신품질 자동 측정 방법."}
{"patent_id": "10-2023-0080571", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "청구항 15에 있어서,(e) 단계는 파노라마 영상 수신 시점과 품질 데이터 수집 시점의 타임 스탬프를 동기화시켜서 수행되는 것을 특징으로 하는 빌딩 내부의 무선 통신 품질 자동 측정 방법."}
{"patent_id": "10-2023-0080571", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "청구항 16에 있어서,빌딩 내부 도면 정보는 이동통신 품질을 측정하고자 하는 빌딩 내부 도면 이미지를 입력받는 (h1) 단계, 객체인식 기술을 이용하여 빌딩 내부 도면 이미지에 존재하는 텍스트 객체인 상점 이름을 인식한 후에 각 상점 이름을 포함하는 텍스트 박스의 좌표값인 텍스트 좌표값을 추출하는 (h2) 단계, 빌딩 내부 도면 이미지에 존재하는부가시설 아이콘을 상응하는 이름으로 변환하고 부가시설 아이콘 박스의 중심 좌표값을 추출하는 (h3) 단계, 상점 이름이 포함된 도형의 꼭지점 좌표값인 상점 구역 좌표값을 추출하는 (h4) 단계 및 텍스트 좌표값과 상점 구역 좌표값을 비교하여 상점 이름과 상점 구역을 매핑시키는 (h5) 단계를 포함하여 구축되는 것을 특징으로 하는빌딩 내부의 무선 통신 품질 자동 측정 방법."}
{"patent_id": "10-2023-0080571", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "청구항 17에 있어서,(h2) 단계에서 인식된 상점 이름이 로컬 상점 이름이고 영어 브랜드를 갖는 글로벌 브랜드인 경우에 로컬 상점이름을 영어 상점 이름으로 변환하는 것을 특징특징으로 하는 빌딩 내부의 무선 통신 품질 자동 측정 방법."}
{"patent_id": "10-2023-0080571", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 360도 카메라를 통해 얻어진 빌딩 내부의 전방 영상과 후방 영상 및 빌딩 내부 도면을 인공지능을 이 용한 객체 인식 기술을 통해 분석하여 빌딩 내부의 복수 지점의 위치 정보와 해당 지점에서의 무선 통신 품질 정 보를 자동으로 매칭시킬 수 있도록 한 빌딩 내부의 무선 통신 품질 자동 측정 시스템 및 방법에 관한 것이다. (뒷면에 계속)"}
{"patent_id": "10-2023-0080571", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 빌딩 내부의 무선 통신 품질 자동 측정 시스템 및 방법에 관한 것으로, 특히 360도 카메라를 통해 얻 어진 빌딩 내부의 전방 영상과 후방 영상 및 빌딩 내부 도면을 인공지능을 이용한 객체 인식 기술을 통해 분석 하여 빌딩 내부의 복수 지점의 위치 정보와 해당 지점에서의 무선 통신 품질 정보를 자동으로 매칭시킬 수 있도 록 한 빌딩 내부의 무선 통신 품질 자동 측정 시스템 및 방법에 관한 것이다."}
{"patent_id": "10-2023-0080571", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "잘 알려진 바와 같이, 5G 이동통신 시스템은 4G LTE 시스템보다 높은 주파 대역을 사용하기 때문에 직진성이 강 하고 통신 속도가 빠른 반면 장애물을 피해가는 회절성이 약하여 실외 기지국을 통한 통신 품질이 4G LTE 시스 템보다 상대적으로 저하되고 있다. 반면에 5G 이동통신 트래픽의 80% 정도가 빌딩 내부에서 발생하기 때문에 통 신 사업자의 입장에서는 빌딩 내부의 통신 품질 관리가 매우 중요하며, 이를 위한 실내 품질 측정의 수요도 증 가하고 있다. 하지만 GPS 신호가 도달하지 않는 빌딩 내부에서는 무선 통신 품질 측정자의 위치를 정확하게 확인할 수 있는 방법이 없기 때문에 빌딩 내부 도면 상에서의 측정자의 위치와 해당 지점에서 측정한 무선 통신 품질 데이터를 측정자가 일일이 수동으로 매칭시켜 저장해야 했는데, 이에 따라 측정 인원 및 시간이 증가되는 문제점이 있었 다. 이를 감안하여 스마트폰의 카메라 및 센서 데이터와 증강 현실(AR; Augmented Reality) 기술, 예를 들어 구글 AR 기술을 결합하여 무선 통신 품질 측정 과정에서 빌딩 내부의 측정 위치를 품질 데이터에 자동으로 매칭시키 는 기술이 제안되어 있다. 그러나 전술한 자동화 기술의 경우에도 품질 측정 전에 빌딩 내부 도면에 측정자의 현재 위치를 수동으로 설정 해야 하는 번거로움이 있으며, 전방 촬영만이 가능한 스마트폰의 카메라를 통해 촬영한 영상만을 이용하여 측정 자의 위치를 추정하기 때문에 정확도가 떨어질 뿐 아니라 카메라 렌즈 방향이 전방을 정확히 향하지 않는 경우 등에는 위치 추정 자체가 불가능하다는 문제점이 있었다. 선행기술문헌 선행기술 1: 10-2014-137254호 공개특허공보(발명의 명칭: 문자 인식을 이용한 위치 정보 제공 단말, 서버, 시 스템 및 방법) 선행기술 2: 10-2017-123846호 공개특허공보(발명의 명칭: 영상 기반 실내 측위 장치 및 방법) 선행기술 3: 10-2090799호 등록특허공보(발명의 명칭: 이미지 기반 실내위치 검출장치 및 검출방법) 선행기술 4: 10-2449855호 등록특허공보(발명의 명칭: VL 알고리즘을 이용한 실내 측위 장치 및 방법)"}
{"patent_id": "10-2023-0080571", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 전술한 문제점을 해결하기 위해 창출된 것으로서, 360도 카메라를 통해 얻어진 빌딩 내부의 전방 영 상과 후방 영상 및 빌딩 내부 도면을 인공지능을 이용한 객체 인식 기술을 통해 분석하여 빌딩 내부의 복수 지 점의 위치 정보와 해당 지점에서의 무선 통신 품질 정보를 자동으로 매칭시킬 수 있도록 한 빌딩 내부의 무선 통신 품질 자동 측정 시스템 및 방법을 제공함을 목적으로 한다."}
{"patent_id": "10-2023-0080571", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "전술한 목적을 달성하기 위한 본 발명의 일 특징에 따르면, 이동통신이 가능한 휴대 단말에 구비되고, 빌딩 내 부 도면 정보를 저장하는 도면 DB; 360도 카메라를 통해 실시간으로 촬영되어 파노라마 영상으로 입력되는 전방 영상 및 후방 영상을 분석하는 영상 분석부; 빌딩 내부 도면 정보와 영상 분석부를 통해 분석된 빌딩 내부의 전 방 영상 및 후방 영상 분석 정보를 함께 이용하여 휴대 단말의 현재 위치를 추정하는 현재 위치 추정부; 빌딩 내부의 복수 지점에서의 이동통신 품질 데이터를 수집하는 품질 데이터 수집부 및 현재 위치 정보와 품질 데이 터 정보를 매칭시켜 저장하는 위치별 품질 데이터 저장부를 포함하여 이루어진 빌딩 내부의 무선 통신 품질 자 동 측정 시스템이 제공된다. 전술한 구성에서, 빌딩 내부 도면 정보에는 빌딩 내부에 존재하는 상점 이름, 각 상점 구역의 좌표 정보 및 빌 딩 내부의 부가시설의 이름과 중심 좌표 정보가 포함된다. 빌딩 내부 도면 정보에는 각 상점 구역의 통로 측 구역선의 중간 지점 좌표값인 상점 구역 기준 좌표값이 포함 된다. 현재 위치 정보와 품질 데이터 정보의 매칭은 파노라마 영상 입수 시점과 이동통신 품질 데이터 수집 시점의 타 임 스탬프를 동기화시켜서 수행된다. 빌딩 내부 도면 이미지에 대해 객체 인식을 수행하여 빌딩 내부 도면 정보를 추출하는 도면 분석부를 더 구비한 다. 본 발명의 다른 특징에 따르면, 이동통신이 가능한 휴대 단말에 탑재된 품질 측정앱에 의해 수행되고, 360도 카 메라에 의해 촬영되고 빌딩 내부의 전방 영상 및 후방 영상이 포함된 파노라마 영상을 수신하는 (a) 단계; 객체 인식 기술을 통해 파노라마 영상을 분석하여 객체인 간판 이름 또는 부가시설 이미지를 인식한 후 간판 이름 또 는 부가시설의 이름과 각각의 중심 좌표값을 추출하는 (b) 단계; 상점 이름, 각 상점 구역의 좌표값 및 빌딩 내 부의 부가시설의 이름과 중심 좌표값이 포함된 빌딩 내부 도면 정보와 (b) 단계에서 인식된 간판 이름 또는 부 가시설의 이름을 이용하여 휴대 단말의 빌딩 내부 도면 상의 현재 위치를 추정하는 (c) 단계; 이동통신 품질 데 이터를 수집하는 (d) 단계 및 빌딩 내부 도면 상의 현재 위치를 이동통신 품질 데이터에 매칭시켜 저장하는 (e) 단계를 포함하여 이루어진 빌딩 내부의 무선 통신 품질 자동 측정 방법이 제공된다. 전술한 구성에서, 한 프레임의 파노라마 영상에는 화면 중심선을 중심으로 한 좌측 중앙 및 우측 중앙에 각각 좌측 전방 영상 및 우측 전방 영상이 단절 없이 배치되고, 좌측 전방 영상의 좌단 및 우측 전방 영상의 우단에 는 각각 좌측 후방 영상 및 우측 후방 영상이 배치되며, 좌측 전방 영상이 배치된 좌측 전방 영역, 우측 전방 영상이 배치된 우측 전방 영역, 좌측 후방 영상이 배치된 좌측 후방 영역 및 우측 후방 영상이 배치된 우측 후 방 영역이 객체의 중심 좌표값에 대한 로케이션 정보로 이용된다. (b) 단계에서 객체인 간판 로고를 인식한 후 이에 상응하는 간판 이름 및 중심 좌표값을 추출한다. 파노라마 영상의 중심선에서 각 객체의 중심 좌표값까지의 세로 길이 및 가로 길이를 삼각함수에 대입하여 계산 된 각 객체와 중심선이 이루는 각도를 현재 위치 추정에 이용한다. 중심선은 화면 중심선, 좌측 전방 영상과 좌측 후방 영상을 구획하는 좌측 전/후방 구획선 또는 우측 전방 영상 과 우측 후방 영상을 구획하는 우측 전/후방 구획선이다. (c) 단계는 간판 이름 또는 부가시설 이름을 빌딩 내부 도면 정보와 비교하여 빌딩 내부 도면 정보에서 해당하 는 상점 구역 또는 부가시설을 추출하는 (c1) 단계, 빌딩 내부 도면 정보에서 휴대 단말의 진행 방향을 확인하 는 (c2) 단계 및 (c1) 단계에서 추출된 상점 구역 또는 부가시설에 각각의 상기 각도 값만큼의 라인을 생성한 후 두 라인의 교차점에 의거하여 빌딩 내부 도면 상의 휴대 단말의 현재 위치를 추정하는 (c3) 단계를 포함하여 이루어진다. (c2) 단계는 객체의 로케이션이 좌측 전방 영역에서 좌측 후방 영역으로 이동하거나 우측 전방 영역에서 우측 후방 영역으로 이동한 경우에는 휴대 단말이 해당 객체와 직진 방향으로 멀어지는 것으로 판단하는 반면에 반대 인 경우에는 해당 객체와 직진 방향으로 가까워지는 것으로 판단하며, 객체의 로케이션이 좌측 전방 영역에서 우측 전방 영역으로 이동한 경우에는 휴대 단말이 좌측으로 방향을 전환한 것으로 판단하는 반면에 반대인 경우 에는 휴대 단말이 우측으로 방향을 전환한 것으로 판단하여 이루어진다. (c3) 단계에서의 라인의 생성은 빌딩 실내 도면 정보의 각 상점 구역의 통로 측 구역선의 중간 지점을 기준점으 로 하여 생성된다. 각 교차점에서 다른 교차점을 연결한 직선 중에서 최단 거리를 취하고, 이렇게 얻어진 각 교차점에서의 최단 거 리를 긴 순서로 나열한 후에 최장 직선 거리가 차장 직선 거리보다 이상치 판단 배수보다 크면 해당 직선 거리 의 교차점을 이상치로 판단하여 위치 추정 과정에서 배제한다. 이상치 여부의 판단은 교차점이 4개 이상인 경우에 한하여 수행된다. (e) 단계는 파노라마 영상 수신 시점과 품질 데이터 수집 시점의 타임 스탬프를 동기화시켜서 수행된다. 빌딩 내부 도면 정보는 이동통신 품질을 측정하고자 하는 빌딩 내부 도면 이미지를 입력받는 (h1) 단계, 객체 인식 기술을 이용하여 빌딩 내부 도면 이미지에 존재하는 텍스트 객체인 상점 이름을 인식한 후에 각 상점 이름 을 포함하는 텍스트 박스의 좌표값인 텍스트 좌표값을 추출하는 (h2) 단계, 빌딩 내부 도면 이미지에 존재하는 부가시설 아이콘을 상응하는 이름으로 변환하고 부가시설 아이콘 박스의 중심 좌표값을 추출하는 (h3) 단계, 상 점 이름이 포함된 도형의 꼭지점 좌표값인 상점 구역 좌표값을 추출하는 (h4) 단계 및 텍스트 좌표값과 상점 구 역 좌표값을 비교하여 상점 이름과 상점 구역을 매핑시키는 (h5) 단계를 포함하여 구축된다. (h2) 단계에서 인식된 상점 이름이 로컬 상점 이름이고 영어 브랜드를 갖는 글로벌 브랜드인 경우에 로컬 상점 이름을 영어 상점 이름으로 변환한다."}
{"patent_id": "10-2023-0080571", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 시스템 및 방법에 따르면, 360도 카메라를 통해 얻어진 빌딩 내부의 전방 영상과 후방 영상 및 빌딩 내부 도면을 인공지능을 이용한 객체 인식 기술을 통해 분석하여 빌딩 내부의 복수 지점의 위치 정보와 해당 지점에서의 무선 통신 품질 정보를 자동으로 매칭시킴으로써 위치 추정 오차를 감소시킴과 함께 품질 측정에 소요되는 시간과 노력을 크게 절감할 수가 있다."}
{"patent_id": "10-2023-0080571", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하에는 첨부한 도면을 참조하여 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 시스템 및 방법의 바람직한 실시예에 대해 상세하게 설명한다. 도 1은 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 시스템의 개략적인 기능 블록도이고, 도 2는 본 발명 의 빌딩 내부의 무선 통신 품질 자동 측정 시스템의 개요를 설명하기 위한 흐름도이다. 도 1 및 도 2에 도시한 바와 같이, 본 발명의 시스템은 크게 전방 촬영 및 후방 촬영이 모두 가능한 360도 카메라 및 스마트폰 등 의 이동통신이 가능한 휴대 단말을 포함하여 이루어질 수 있다. 전술한 구성에서, 휴대 단말에는 빌딩 내부 도면 이미지를 분석하여 빌딩 내부의 각종 정보, 예를 들어 빌 딩 내부에 존재하는 상점 이름, 건물의 입구 등과 같은 임의의 지점을 기준으로 한 각 상점 구역의 좌표 정보 및 빌딩 내부의 부가시설, 예를 들어 화장실, 엘리베이터, 에스컬레이터 및 계단 등의 이름과 중심 좌표 정보 (이하 이들을 총칭하여 '빌딩 내부 도면 정보'라 한다)를 추출하는 도면 분석부 및 도면 분석부를 통 해 분석된 빌딩 내부 도면 정보를 저장하는 도면 DB, 360도 카메라를 통해 실시간으로 촬영되어 입력되는 전방 영상 및 후방 영상을 분석하는 영상 분석부, 도면 DB에 저장된 빌딩 내부 도면 정보와 영상 분 석부를 통해 분석된 빌딩 내부의 전방 영상 및 후방 영상 분석 정보를 함께 이용하여 측정자, 즉 휴대 단 말의 현재 위치를 추정하는 현재 위치 추정부, 빌딩 내부의 복수 지점에서의 이동통신 품질 데이터를 수집하는 품질 데이터 수집부 및 현재 위치 정보와 품질 데이터 정보를 매칭시켜 저장하는 위치별 품질 데 이터 저장부(이하 이들을 총칭하여 '품질 측정앱'이라 한다)를 포함하여 이루어질 수 있다. 전술한 구성에서, 빌딩 내부 도면 이미지는 인터넷 등을 통해 공개된 빌딩 내부 도면 이미지일 수 있는데, 그 입수 방법 등은 본 발명의 기술 사상과 관련이 크게 없기에 상세한 설명을 생략한다. 360도 카메라는 전방 영상 및 후방 영상을 각각 동시에 촬영할 수 있는 2개 이상의 렌즈를 갖는 카메라이 면 충분한데, 그 종류 등은 본 발명의 기술 사상과 크게 관련이 없기에 상세한 설명을 생략한다. 360도 카메라로부터 촬영된 영상 및 및 품질 데이터 수집은 측정자의 이동 속도와 요구되는 위치 추정 정 확도 등을 종합적으로 고려하여, 예를 들어 1초 또는 그 이하의 시간 주기로 수행될 수 있다. 한편, 빌딩 내부 도면의 분석과 360도 카메라로부터 수집된 영상의 분석에는, 예를 들어 구글 AR 기술과 같은 인공지능 기반의 객체 인식 기술이 적용될 수 있는데, 그 구체적인 방법 등은 본 발명의 기술 사상과 크게 관련이 없기에 상세한 설명을 생략한다. 품질 데이터에는 휴대 단말에 의해 수집 가능한 각종 이동통신 품질 관련 정보, 예를 들어 RSSI(Reference Signal Received Indicator), RSRP(Reference Signal Received Power), SINR(Signal to Interference plus Noise Ratio) 또는 RSRQ(Reference Signal Received Quality) 등이 포함될 수 있다. 도 3은 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에서 빌딩 내부 도면 분석 과정을 설명하기 위한 흐름도이다. 도 3에 도시한 바와 같이, 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에 따르면, 단계 S110에서는 품질을 측정하고자 하는 빌딩 내부 도면 이미지를 입력받고, 다시 단계 S120에서는 인공지능 기반의 객체 인식 기술을 이용하여 빌딩 내부 도면 이미지에 존재하는 텍스트 객체인 상점 이름을 인식한 후에 각 상점 이름을 포함하는 텍스트 박스의 좌표값(이하 간단히 '텍스트 좌표값'이라 한다)을 추출한다. 다음으로, 단계 S130에서는 인식된 로컬 상점 이름이 글로벌 브랜드인지, 예를 들어 영어 브랜드를 갖는지를 판 단하는데, 글로벌 브랜드인 경우에는 단계 S140으로 진행하여 이를 영어 상점 이름으로 변환한 후에 단계 S150 으로 진행한다. 단계 S140은 빌딩 내부 도면에는 해당 상점이 로컬 상점 이름으로 표시되어 있는 반면에 360도 카메라로 촬영된 영상에는 영어 간판 또는 로고(도형) 간판으로만 표시된 경우에 이 둘을 매칭시키기 위함이다. 단계 S130에서 인식된 상점 이름이 글로벌 브랜드가 아닌 경우에는 단계 S150으로 직행하여 상점 이름이 포함된 도형의 꼭지점 좌표값(이하 이를 '상점 구역 좌표값'이라 한다)을 추출한다. 한편, 인공지능 기반의 객체 인식 과정에서 빌딩 내부 도면 이미지에 각종 부가시설 아이콘, 예를 들어 화장실, 엘리베이터, 에스컬레이터 및 계단 등의 아이콘이 존재하는 경우에는 단계 S160으로 진행하여 부가시설 아이콘 의 중심 좌표값을 추출하고, 다시 단계 S170에서는 해당 아이콘을 상응하는 이름으로 변환한다. 도 4는 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에서 상점 이름, 상점 구역 좌표값, 부가시설 이 름 및 그 중심 좌표값 추출 과정을 설명하기 위한 도이다. 도 4에 도시한 바와 같이, 객체 인식 기술을 이용하 여 분석한 빌딩 내부 도면 이미지의 각 상점 구역은 꼭지점을 갖는 다각형, 대표적으로 사각형으로 이루어질 수 있기 때문에 빌딩 내부 도면 이미지의 임의의 기준점을 중심으로 하는 xy 좌표값으로 각 상점 구역을 표현할 수 가 있다. 한편, 객체 인식 기술을 이용하여 분석한 빌딩 내부 도면 이미지에 부가시설 아이콘, 예를 들어 화장실, 엘리베 이터, 에스컬레이터 및 계단 등의 아이콘이 존재하는 경우에는 이에 상응하는 부가시설 이름 및 그 중심 좌표값을 추출한다. 도 5는 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에서 빌딩 내부 도면 이미지 분석을 통해 얻어진 빌딩 내부의 실제 상점 이름, 상점 구역 좌표값, 부가시설 이름 및 그 중심 좌표값을 예시적으로 보인 도이다. 먼저 도 5의 좌측에 나타낸 바와 같이, 임의의 기준점을 중심으로 상점 이름이 포함된 텍스트 박스의 텍스트 좌 표값이나 부가시설 아이콘 이미지 박스의 중심 좌표값을 추출한다. 다음으로, 도 5의 중간에 나타낸 바와 같이 각 상점 구역(다각형)의 꼭지점의 좌표값을 추출하며, 마지막으로 도 5의 우측에 나타낸 바와 같이 상기 상점 이름의 텍스트 좌표값과 상기 상점 구역 좌표값을 비교하여 각 상점 이름을 해당하는 상점 구역에 매핑시킨다. 도 5의 예에서, \"세븐일레븐\"이라는 텍스트 박스의 xy 텍스트 좌표값이 (112,157),(170,157),(170,168),(112,168)이고, 해당 상점 구역의 xy 좌표값이 (95,131),(95,195),(183,195),(183,131)인 경우에 텍스트 좌표값이 해당 상점 구역 좌표값 내부에 포함되기 때 문에 해당 상점 구역에 \"세븐일레븐\"이라는 상점 이름을 매핑시켜서 도면 DB에 저장한다. 한편, 각 부가시설 아이콘의 경우 아이콘 박스의 중심 좌표값을 추출하고, 다시 해당 아이콘을 상응하는 부가시 설 이름으로 변환한 후 아이콘 박스의 중심 좌표값을 부가시설 이름에 매핑시켜서 도면 DB에 저장한다. 이 과정은 실시간으로 이루어지거나 이동통신 품질 측정 이전에 별개로 수행될 수 있다. 도 6은 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에서 360도 카메라로 촬영한 파노라마 영상 및 내 부 도면 정보를 이용한 위치 추정 및 품질 데이터 매칭 과정을 설명하기 위한 흐름도인바, 별 다른 설명이 없는 한 휴대 단말에 설치된 품질 측정앱에 의해 수행될 수 있다. 도 6에 도시한 바와 같이, 본 발명의 방법에서 빌딩 내부의 현재 위치를 추정하기 위해 단계 S210에서는 측정자 가 빌딩 내부를 이동하면서 360도 카메라로 촬영한 영상, 즉 전방 영상 및 후방 영상(이하 이를 총칭하여 '파노라마 영상'이라 한다)을 수신하고, 단계 S220에서는 인공지능 기반의 객체 인식 기술을 통해 수신 파노라 마 영상을 분석하여 간판 이름이 인식된 경우에는 해당 간판 이름을 그 중심 좌표값과 함께 추출한다. 마찬가지 방법으로 수신 파노라마 영상에 간판 로고가 존재하는 경우에는 단계 S230에서 인공지능 기반의 객체 인식 기술을 통해 이를 인식한 후 그 중심 좌표값을 추출하고, 다시 단계 S240에서는 간판 로고(도형 등)를 해 당 브랜드의 간판 이름으로 변환한 후 그 중심 좌표값을 추출하는데, 이를 위해 휴대 단말에는 공지의 간 판 로고 및 이에 상응하는 간판 이름이 매칭되어 저장될 수 있다. 마찬가지 방법으로, 수신 영상에 부가시설 이미지가 존재하는 경우에는 단계 S250에서 인공지능 기반의 객체 인 식 기술을 통해 이를 인식한 후 그 중심 좌표값을 추출하고, 다시 단계 S260에서 부가시설 이미지를 해당 부가 시설 이름으로 변환한 후 그 중심 좌표값을 추출한다. 도 7은 본 발명의 방법에서 360도 카메라로 촬영한 빌딩 내부의 영상을 예시적으로 보인 도이다. 도 7에 도시한 바와 같이, 본 발명의 시스템에서 사용하는 360도 카메라로 촬영한 영상의 한 프레임에는 전방 영상 및 후 방 영상이 대략 4분할된 형태의 파노라마 영상으로 모두 담긴다. 구체적으로, 한 프레임의 파노라마 영상에는 화면 중심선(Center Line; CL), 즉 측정자의 진행 방향을 중심으로 한 좌측 중앙 및 우측 중앙에 각각 좌측 전방(Left Front; LF) 영상 및 우측 전방(Right Front; RF) 영상이 단 절 없이 배치되고, 좌측 전방 영상의 좌단 및 우측 전방 영상의 우단에는 각각 좌측 후방(Left Rear; LR) 영상 및 우측 후방(Right Rear; RR) 영상이 배치된다. 결과적으로, 후방 영상은 좌측 후방(LR) 영상 및 우측 후방 (RR) 영상으로 분할된 채로 떨어져서 배치된다. 도 7에서 LC(Left Center)는 좌측 전방(LF) 영상과 좌측 후방(LR) 영상을 구획하는 좌측 전/후방 구획선을 나타 내고, RC(Right Center)는 우측 전방(RF) 영상과 우측 후방(RR) 영상을 구획하는 우측 전/후방 구획선을 나타낸 다. 도 7의 우측 도표에서 로케이션(Location)은 인공지능 기반의 객체 인식 기술을 통해 인식된 각 객체의 중심점 (중심 좌표값)에 대한 파노라마 영상 내의 영역 정보를 나타내는 것으로서, 전술한 좌측 전방(LF) 영역, 우측 전방(RF) 영역, 좌측 후방(LR) 영역 및 우측 후방(RR) 영역이 있을 수 있다. 도 7의 예에서는 \"PARISBAGUTTE\"라는 객체, 즉 상점 간판이 파노라마 영상의 우측 전방에 위치하고 있는데, 객 체 인식 기술을 통해 간판 이름과 그 로케이션 정보인 LF 및 해당 객체의 중심점에 대한 좌표값인 중심 좌표값 이 추출되어 저장될 수 있다.마찬가지로, \"유명\"이라는 객체, 즉 상점 간판은 파노라마 영상의 좌측 전방에 위치하고 있는데, 객체 인식 기 술을 통해 간판 이름과 그 로케이션 정보인 RF 및 해당 객체의 중심 좌표값이 추출되어 저장될 수 있다. \"에스컬레이터\"라는 부가시설 객체는 파노라마 영상의 우측 전방에 위치하고 있는데, 객체 인식 기술을 통해 해 당 부가시설 이름과 그 로케이션 정보인 RF 및 해당 객체의 중심 좌표값이 추출되어 저장될 수 있다. 도 8은 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에서 영상에 로고(도형)가 포함된 간판에 대한 객 체 인식 결과를 예시적으로 설명하기 위한 도이다. 도 8에 예시한 바와 같이, 상점 간판에는 상점 이름과 함께 로고(도형)가 사용되기도 하고 로고만 사용되기도 하는데, 본 발명에 따르면 로고가 사용된 경우에 이를 인공지 능 기반의 객체 인식 기술을 통해 인식한 후 해당 간판 이름으로 변환하고, 그 중심 좌표값을 추출할 수가 있다. 도 9는 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에서 객체 인식을 통해 인식된 각 객체가 중심선 과 이루는 각도를 산출하는 과정을 예시적으로 설명하기 위한 도이다. 도 9에 예시한 바와 같이, 360도 카메라 로 촬영된 파노라마 영상에서 객체 인식 기술을 통해 객체인 간판 이름 및 그 중심 좌표값을 추출하면, 중 심선에서 객체까지의 세로(종) 길이(a) 및 가로(횡) 길이(b)를 삼각함수에 대입하여 각 객체와 중심선이 이루는 각도를 계산할 수가 있다. 여기에서 중심선은 영상 중심선(CL), 좌측 전/후방 구획선(LC) 또는 우측 전/후방 구 획선(RC)이 될 수 있다. 도 10은 도 6에서 현재 위치 추정 단계(S270)를 설명하기 위한 흐름도이다. 도 6에 도시한 바와 같이, 단계 S270에서는 도 3에서 구축된 도면 분석 데이터 및 도 9를 통해 얻어진 영상 분석 데이터를 이용하여 측정자의 현재 위치를 추정 및 보정한다. 이를 위해 도 10에 도시한 바와 같이, 단계 S271에서는 360도 카메라로 촬영된 파노라마 영상을 객체 인식 기술을 통해 분석하여 획득한 상점 간판 이름을 빌딩 내부 도면 정보와 비교하고, 단계 S272에서는 빌딩 내부 도면 정보에서 해당하는 상점 구역을 추출하며, 단계 S273에서는 빌딩 내부 도면 정보에서 측정자의 진행 방향 을 확인한다. 다음으로, 단계 S274에서는 도 9를 통해 획득한 각도 값만큼의 라인을 생성하고, 마지막으로 단계 S275에서는 두 라인의 교차점으로 측정자의 현재 위치를 추정한다. 부가시설에 대해서도 마찬가지 방법으로 측정자의 현재 위치를 추정한다. 도 11은 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에서 측정자의 진행 방향을 확인하는 방법을 예 시적으로 설명하기 위한 도이다. 도 11에 예시한 바와 같이, 본 발명의 방법에서는 객체 인식 기술을 통해 인식 된 객체의 로케이션이 좌측 전방(LF)에서 좌측 후방(LR)으로 이동하거나 우측 전방(RF)에서 우측 후방(RR)으로 이동한 경우에는 측정자가 해당 객체와 직진 방향으로 멀어지는 것으로 판단하는 반면에 반대인 경우에는 해당 객체와 직진 방향으로 가까워지는 것으로 판단한다. 다음으로, 객체 인식 기술을 통해 인식된 객체의 로케이션이 좌측 전방(LF)에서 우측 전방(RF)으로 이동한 경우 에는 측정자가 좌측으로 방향을 전환한 것으로 판단하는 반면에 반대인 경우에는 측정자가 우측으로 방향을 전 환한 것으로 판단한다. 도 12는 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에서 360도 카메라로 촬영한 실제 파노라마 영상 을 통한 위치 추정 과정을 예시적으로 설명하기 위한 도이다. 도 12에 예시한 바와 같이, 본 발명의 방법에 따 르면 360도 카메라를 통해 측정자의 전방 영상 및 후방 영상을 동시에 촬영하는 것이 가능하기 때문에 이렇게 측정된 파노라마 영상을 객체 인식 기술을 통해 분석함으로써 위치 추정의 정확도를 제고시킬 수가 있다. 도 12에서는 측정자가 이동하는 동안에 360도 카메라에 의해 주기적으로 수집된 P1, P2 및 P3 지점에서의 파노 라마 영상(한 프레임 분량의 정지 영상)을 예시적으로 보이고 있다. P1 지점의 파노라마 영상에서는 좌측 전/후 방 구획선(LC)을 기준으로 대략 21°선상의 좌측 전방(LF) 영상에 \"파리바게트\"라는 상점 간판이 인식되고 있고, 우측 전/후방 구획선(RC)을 기준으로 대략 29°선상의 우측 전방(RF) 영상에 \"유명 부동산\"이라는 상점 간판이 인식되고 있다. 다음으로, 측정자가 전방으로 위치 이동한 P2 지점의 파노라마 영상에서는 좌측 전/후방 구획선(LC)을 기준으로 대략 14°선상의 좌측 전방(LF) 영상에 \"파리바게트\"라는 상점 간판이 인식되고 있고, 우측 전/후방 구획선(R C)을 기준으로 대략 24°선상의 우측 전방(RF) 영상에 \"유명 부동산\"이라는 상점 간판이 인식되고 있어서 측정 자가 전방으로 직진하고 있음을 알 수 있다.다음으로, 측정자가 전방으로 위치 이동한 P3 지점의 파노라마 영상에서는 좌측 전/후방 구획선(LC)을 기준으로 대략 32°선상의 좌측 전방(LF) 영상에 \"고미고미\"라는 상점 간판이 인식되고 있고, 우측 전/후방 구획선(RC)을 기준으로 대략 29°선상의 우측 전방(RF) 영상에 \"장지영치과\"이라는 상점 간판이 인식되고 있다. 이와 동시에 P2 지점에서 좌측 전/후방(LC) 구획선을 기준으로 좌측 전방(LF) 영상에서 인식되던 \"파리바게트\" 라는 상점 간판이 P3 지점에서는 좌측 전/후방 구획선(LC)을 기준으로 대략 3°선상의 좌측 후방(LR) 영상에서 인식되고 있고, 마찬가지로 P2 지점에서 우측 전/후방 구획선(RC)을 기준으로 우측 전방(RF) 영상에서 인식되던 \"유명 부동산\"이라는 상점 간판이 P3 지점에서는 우측 전/후방 구획선(RC)을 기준으로 대략 17°선상의 우측 후 방(RR) 영상에서 인식되고 있다. 도 13a 및 도 13b는 각각 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에서 파노라마 영상을 통한 위 치 추정 과정을 간략화하여 설명하기 위한 도로서, 도 13a는 통로 양측에 상점이 존재하는 경우의 예를 설명하 고 있고, 도 13b는 통로 일측에만 상점이 존재하는 경우의 예를 설명하고 있다. 도 13a에서는 측정자가 실제 위치(PR)에 있는 상태에서 360도 카메라의 전방 렌즈를 통해 통로 좌측의 ld 상점 과 le 상점 및 통로 우측의 rd 상점과 re 상점이 각각 해당 점선의 각도로 인식되고 있고, 후방 렌즈를 통해서 는 통로 좌측의 la 상점과 lb 상점 및 통로 우측의 ra 상점과 rb 상점이 각각 해당 점선의 각도로 인식되고 있 다고 가정한다. 이 경우에 ld 상점에서 점선 각도의 연장선 및 rd 상점에서 점선 각도의 연장선의 교차점이 제1 전방 계산 위치 (Pf1)가 되고, le 상점에서 점선 각도의 연장선 및 re 상점에서 점선 각도의 연장선의 교차점이 제2 전방 계산 위치(Pf2)가 되며, 제1 전방 계산 위치(Pf1)와 제2 전방 계산 위치(Pf2)를 연결한 선의 중간 지점이 전방 추정 위 치(Pfp)가 될 수 있다. 마찬가지 방식으로 la 상점에서 점선 각도의 연장선 및 ra 상점에서 점선 각도의 연장선의 교차점이 제1 후방 계산 위치(Pb1)가 되고, lb 상점에서 점선 각도의 연장선 및 rb 상점에서 점선 각도의 연장선의 교차점이 제2 후 방 계산 위치(Pb2)가 되며, 제1 후방 계산 위치(Pb1)와 제2 후방 계산 위치(Pb2)를 연결한 선의 중간 지점이 후방 추정 위치(Pbp)가 될 수 있다. 그리고, 전방 추정 위치(Pfp)와 후방 추정 위치(Pbp)를 연결한 선의 평균값인 중간 지점이 최종 추정 위치(PP)가 될 수 있다. 전술한 예에서 알 수 있듯이, 스마트폰의 전방 렌즈만을 사용한 경우에는 전방 추정 위치(Pfp)만을 얻을 수 있어 서 실제 위치(PR)와의 사이의 추정 오차가 상대적으로 커지는 반면에 본 발명과 같이 360도 카메라를 통한 전방 렌즈 및 후방 렌즈를 모두 사용한 경우에는 전방 및 후방 추정 위치(Pfp, Pbp)를 모두 얻을 수 있고, 이들을 평 균하여 최종 위치(PP)를 추정할 수 있기 때문에 실제 위치(PR)와의 사이의 추정 오차가 상대적으로 줄어들 수 있 다. 다음으로, 도 13b에서는 측정자가 실제 위치(PR)에 있는 상태에서 360도 카메라의 전방 렌즈를 통해 통로 좌측 의 ld 상점 및 le 상점이 각각 해당 점선의 각도로 인식되고 있고, 후방 렌즈를 통해서는 통로 좌측의 lb 상점 만이 해당 점선의 각도로 인식되고 있다고 가정한다. 이 경우에 ld 상점에서 점선 각도의 연장선 및 le 상점에서 점선 각도의 연장선의 교차점이 제1 전방 계산 위치 (Pff1)가 되고, le 상점에서 점선 각도의 연장선 및 lb 상점에서 점선 각도의 연장선의 교차점이 제1 후방 계산 위치(Pfb1)가 되며, ld 상점에서 점선 각도의 연장선 및 lb 상점에서 점선 각도의 연장선의 교차점이 제2 후방 계산 위치(Pfb2)가 되며, 제1 후방 계산 위치(Pfb1)와 제2 후방 계산 위치(Pfb2)를 연결한 선의 중간 지점이 후방 추정 위치(Pfbp)가 될 수 있다. 그리고, 이 경우에 전방 계산 위치가 1개, 즉 제1 전방 계산 위치(Pff1)만 존재하기 때문에 그 자체가 바로 전방 추정 위치가 되고 전방 추정 위치(Pff1)와 후방 추정 위치(Pfbp)를 연결한 선의 중간 지점이 최종 추정 위치(PP)가 될 수 있다.한편 도 13에서 알 수 있듯이, 위치 추정 과정에서는 빌딩 내부 도면 정보에서 분석된 각 상점 구역의 통로 측 구역선의 중간 지점을 기준점으로 하여 영상 분석을 통해 계산된 각도 값만큼 라인을 생성(도 10의 단계 S274 참조)하여 얻어진 교차점으로 현재 위치를 추정(도10의 단계 S275 참조)하는 것이 바람직하다. 이를 위해 도면 DB에는 각 상점 구역의 통로 측 구역선의 중간 지점 좌표값(이하 '상점 구역 기준 좌표값'이라 한다)이 빌 딩 내부 도면 정보의 일종으로 각 상점 구역의 좌표값과 함께 저장될 수 있다. 도 14a 및 도 14b는 각각 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에서 파노라마 영상을 통한 위 치 추정 과정을 간략화하여 설명하기 위한 도로서, 이상치(outlier)를 제거하는 보정을 통해 위치 추정의 정확 도를 향상시키는 과정을 설명하고 있다. 도 14a에서는 도 13a와 마찬가지로 제1 전방 계산 위치(Pf1)와 제2 전방 계산 위치(Pf2)가 존재하고, 제2 후방 계산 위치(Pb1)와 제2 후방 계산 위치(Pb2)가 존재하지만, 제2 전방 계산 위치(Pf2)와 나머지 계산 위치(Pf1, Pb1 , Pb2) 사이의 거리가 상대적으로 먼 경우를 예시하고 있다. 이 경우에 도 14b에서와 같이, 제2 전방 계산 위치(Pb2)를 이상치로 판단하여 제거(배제)한 상태에서 제1 전방 계산 위치(Pf1)를 그대로 전방 추정 위치로 사용하고, 제1 후방 계산 위치(Pb1)와 제2 후방 계산 위치(Pb2)에 의 해 후방 추정 위치(Pbp)를 산출하며, 전방 추정 위치(Pf1)와 후방 추정 위치(Pbp)를 연결한 선의 평균값인 중간 지점을 최종 추정 위치(PP)로 결정하고 있는바, 이에 따라 이상치를 제거하지 않은 도 14a의 경우에 비해 실제 위치(PR)와 최종 추정 위치(PP) 사이의 위치 추정 오차가 상대적으로 줄어듦을 알 수 있다. 도 15는 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에서 이상치 제거 방식을 설명하기 위한 도로서, 계산 위치점이 3개를 초과한 경우에만 적용될 수 있다. 본 발명의 방법에 따르면, 빌딩 내부 도면 정보의 각 상점 구역에서의 각도 연장선의 교차점에 의해 얻어진 각 계산 위치점에서 다른 계산 위치점을 연결한 직선 중에서 최단 거리를 취한 후에 이렇게 얻어진 각 계산 위치점 에서의 최단 거리를 긴 순서로 나열한다. 이 상태에서 최장 직선 거리가 차장 직선 거리보다 소정 배수, 예를 들어 1.1에서 1.5 사이에서 정해지는 이상치 판단 배수보다 크면 해당 직선 거리의 연결점을 최종 추정 위치 계 산에서 배제하는 방식으로 이상치를 제거함으로써 실제 위치와 최종 추정 위치 사이의 오차를 줄일 수 있다. 도 15의 예에서는 계산 위치점이 총 4개, 즉 제1 전방 계산 위치(Pf1), 제2 전방 계산 위치(Pf2), 제1 후방 계산 위치(Pb1) 및 제2 후방 계산 위치(Pb2)가 존재하고, 제1 후방 계산 위치(Pb1)에서의 최단 거리는 D1이 되고, 제1 전방 계산 위치(Pf1)에서의 최단 거리는 D2가 되며, 제2 전방 계산 위치(Pf2)에서의 최단 거리는 D3이 되고, 이렇 게 얻어진 최단 거리가 긴 순서, 즉 D1, D2 및 D3의 순서로 나열된다. 다음으로 최장(最長) 거리인 D3가 차장(次長) 거리인 D2 * 1.2(이상치 판단 배수)보다 크면 D3와 연결된 계산 위 치, 즉 제2 전방 계산 위치(Pf2)를 이상치라고 판단하여 이를 배제한 후에 최종 추정 위치를 산출한다. 다시 도 6으로 돌아가서, 단계 S280에서는 단계 S270에서 추정 및 보정된 빌딩 내부 도면 상의 현재 위치를 해 당 지점에서 측정된 품질 데이터와 매칭, 예를 들어 파노라마 영상 입수 시점과 품질 데이터 수집 시점의 타임 스탬프를 동기화시켜서 매칭시킨다. 마지막으로 단계 S290에서는 품질 측정이 완료되었는지를 판단하여 완료되지 않은 경우에는 단계 S210을 반복 수행하는 반면에 완료된 경우에는 프로그램을 종료한다. 도 16은 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에서 파노라마 영상을 통한 위치 추정 과정을 예 시적으로 설명하기 위한 도이다. 도 16에 예시한 바와 같이, 도 16의 파노라마 영상을 통한 위치 추정 과정에서 는 360도 카메라의 전방 렌즈를 통해 통로 좌측의 ld 상점과 le 상점 및 통로 우측의 rd 상점이 각각 해당 점선 의 각도로 인식되고 있고, 후방 렌즈를 통해서는 통로 좌측의 lc 상점 및 통로 우측의 rb 상점과 rc 상점이 각 각 해당 점선의 각도로 인식되고 있다고 가정한다. 이 경우에 실제로는 모든 각도 연장선의 모든 교차점이 계산 위치가 되고, 모든 계산 위치를 평균한 점(이하, '중심점'이라 한다)이 추정 위치가 되는데, 본 실시예에서는 도 15의 방식을 적용하여 이상치로 판정된 계산 위치(Pe)를 제거하여 보정된 추정 위치(PP2)를 산출함으로써 이를 포함하여 산출된 최초 추정 위치(PP1 )에 비해실제 위치(PR)와의 사이의 위치 추정 오차가 줄어듦을 알 수 있다. 이상에서 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 시스템 및 방법에 대해 상세하게 설명하였으나 본 발명은 전술한 실시예에 국한되지 않고 본 발명의 기술 사상이 허용하는 범위 내에서 다양하게 변형하여 실시할 수가 있다. 예를 들어 빌딩 내부 도면 정보는 무선 통신 품질 측정을 수행하는 휴대 단말과는 다른 기기에 의해 수집된 후 무선 통신 품질 측정 전에 무선 통신 품질 측정용 휴대 단말에 도면 DB로 저장되어 사용될 수도 있을 것이다."}
{"patent_id": "10-2023-0080571", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 시스템의 개략적인 기능 블록도. 도 2는 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 시스템의 개요를 설명하기 위한 흐름도. 도 3은 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에서 빌딩 내부 도면 분석 과정을 설명하기 위한 흐름도. 도 4는 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에서 상점 이름, 상점 구역 좌표값, 부가시설 이 름 및 그 중심 좌표값 추출 과정을 설명하기 위한 도. 도 5는 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에서 빌딩 내부 도면 이미지 분석을 통해 얻어진 빌딩 내부의 실제 상점 이름, 상점 구역 좌표값, 부가시설 이름 및 그 중심 좌표값을 예시적으로 보인 도. 도 6은 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에서 360도 카메라로 촬영한 파노라마 영상 및 내 부 도면 정보를 이용한 위치 추정 및 품질 데이터 매칭 과정을 설명하기 위한 흐름도. 도 7은 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에서 360도 카메라로 촬영한 빌딩 내부 영상 이미 지를 예시적으로 보인 도. 도 8은 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에서 영상에 로고(도형)가 포함된 간판에 대한 객 체 인식 결과를 예시적으로 설명하기 위한 도. 도 9는 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에서 객체 인식을 통해 인식된 각 객체가 중심선 과 이루는 각도를 산출하는 과정을 예시적으로 설명하기 위한 도. 도 10은 도 6에서 현재 위치 추정 단계(S270)를 설명하기 위한 흐름도. 도 11은 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에서 측정자의 진행 방향을 확인하는 방법을 예 시적으로 설명하기 위한 도. 도 12는 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에서 360도 카메라로 촬영한 실제 파노라마 영상 을 통한 위치 추정 과정을 예시적으로 설명하기 위한 도. 도 13a 및 도 13b는 각각 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에서 파노라마 영상을 통한 위 치 추정 과정을 간략화하여 설명하기 위한 도. 도 14a 및 도 14b는 각각 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에서 파노라마 영상을 통한 위 치 추정 과정을 간략화하여 설명하기 위한 도로서, 이상치(outlier)를 제거하는 보정을 통해 위치 추정의 정확 도를 향상시키는 과정을 설명하기 위한 도. 도 15는 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 시스템에서 이상치 제거 방식을 설명하기 위한 도. 도 16은 본 발명의 빌딩 내부의 무선 통신 품질 자동 측정 방법에서 파노라마 영상을 통한 위치 추정 과정을 예 시적으로 설명하기 위한 도."}
