{"patent_id": "10-2023-0091853", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0040609", "출원번호": "10-2023-0091853", "발명의 명칭": "가속기 풀의 태스크 스케줄링 방법 및 장치", "출원인": "한국전자통신연구원", "발명자": "김선영"}}
{"patent_id": "10-2023-0091853", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "태스크 스케줄링 장치에서 수행되는 가속기 풀의 태스크 스케줄링 방법에 있어서,상기 가속기 풀 내 가속기의 상태 정보를 수신하는 단계;상기 상태 정보에 기반하여 태스크 할당이 가능한 가속기 목록을 생성하는 단계;상기 가속기 목록의 가속기에 대하여 태스크를 할당하는 경우 추가 소모 전력을 산출하는 단계; 및상기 산출된 추가 소모 전력 및 가속기 간 전도열을 고려하여 가속기에 태스크를 할당하는 단계;를 포함하는 것을 특징으로 하는 가속기 풀의 태스크 스케줄링 방법."}
{"patent_id": "10-2023-0091853", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "청구항 1에 있어서,상기 상태 정보는 가속기 로직 사용률, 동작 전압, 클럭 및 온도 정보를 포함하는 것을 특징으로 하는 가속기풀의 태스크 스케줄링 방법."}
{"patent_id": "10-2023-0091853", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "청구항 2에 있어서,상기 추가 소모 전력은 상기 가속기의 상태 정보 및 태스크 정보를 이용하여 추정되는 것을 특징으로 하는 가속기 풀의 태스크 스케줄링 방법."}
{"patent_id": "10-2023-0091853", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "청구항 2에 있어서,상기 가속기 목록을 생성하는 단계는태스크 할당이 가능한 가속기가 존재하지 않으면, 상기 가속기의 로직 사용률 또는 상기 가속기의 온도가 기설정된 값 이하로 떨어질 때까지 태스크 할당을 중지하는 것을 특징으로 하는 가속기 풀의 태스크 스케줄링 방법."}
{"patent_id": "10-2023-0091853", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "청구항 2에 있어서,상기 가속기에 태스크를 할당하는 단계는상기 산출된 추가 소모 전력이 기설정된 값 이하인 가속기에 태스크를 할당하되, 추가 소모 전력이 기설정된 값이하인 가속기가 복수개인 경우 상기 가속기 풀 내에서 가장 높은 온도를 갖는 가속기와 물리적으로 가장 멀리떨어진 가속기에 태스크를 할당하는 것을 특징으로 하는 가속기 풀의 태스크 스케줄링 방법."}
{"patent_id": "10-2023-0091853", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "청구항 2에 있어서,상기 가속기에 태스크를 할당하는 단계는상기 산출된 추가 소모 전력이 기설정된 값 이하인 가속기에 태스크를 할당하되, 상기 가속기 풀 내 가속기 간에 발생하는 전도열을 고려하여 태스크를 할당하는 것을 특징으로 하는 가속기 풀의 태스크 스케줄링 방법."}
{"patent_id": "10-2023-0091853", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "공개특허 10-2024-0040609-3-청구항 1에 있어서,상기 가속기 풀은서로 다른 타입의 가속기들을 포함하는 것을 특징으로 하는 가속기 풀의 태스크 스케줄링 방법."}
{"patent_id": "10-2023-0091853", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "가속기 풀 내 가속기의 상태 정보를 수신하는 통신부; 및상기 상태 정보에 기반하여 태스크 할당이 가능한 가속기 목록을 생성하고, 상기 가속기 목록의 가속기에 대하여 태스크를 할당하는 경우 추가 소모 전력을 산출하고, 상기 산출된 추가 소모 전력 및 가속기 간 전도열을 고려하여 가속기에 태스크를 할당하는 태스크 할당부;를 포함하는 것을 특징으로 하는 가속기 풀의 태스크 스케줄링 장치."}
{"patent_id": "10-2023-0091853", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "청구항 8에 있어서,상기 상태 정보는 가속기 로직 사용률, 동작 전압, 클럭 및 온도 정보를 포함하는 것을 특징으로 하는 가속기풀의 태스크 스케줄링 장치."}
{"patent_id": "10-2023-0091853", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "청구항 9에 있어서,상기 추가 소모 전력은 상기 가속기의 상태 정보 및 태스크 정보를 이용하여 추정되는 것을 특징으로 하는 가속기 풀의 태스크 스케줄링 장치."}
{"patent_id": "10-2023-0091853", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "청구항 9에 있어서,상기 태스크 할당부는태스크 할당이 가능한 가속기가 존재하지 않으면, 상기 가속기의 로직 사용률 또는 상기 가속기의 온도가 기설정된 값 이하로 떨어질 때까지 태스크 할당을 중지하는 것을 특징으로 하는 가속기 풀의 태스크 스케줄링 장치."}
{"patent_id": "10-2023-0091853", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "청구항 9에 있어서,상기 태스크 할당부는상기 산출된 추가 소모 전력이 기설정된 값 이하인 가속기에 태스크를 할당하되, 추가 소모 전력이 기설정된 값이하인 가속기가 복수개인 경우 상기 가속기 풀 내에서 가장 높은 온도를 갖는 가속기와 물리적으로 가장 멀리떨어진 가속기에 태스크를 할당하는 것을 특징으로 하는 가속기 풀의 태스크 스케줄링 장치."}
{"patent_id": "10-2023-0091853", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "청구항 9에 있어서,상기 태스크 할당부는상기 산출된 추가 소모 전력이 기설정된 값 이하인 가속기에 태스크를 할당하되, 상기 가속기 풀 내 가속기 간에 발생하는 전도열을 고려하여 태스크를 할당하는 것을 특징으로 하는 가속기 풀의 태스크 스케줄링 장치."}
{"patent_id": "10-2023-0091853", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "청구항 8에 있어서,상기 가속기 풀은공개특허 10-2024-0040609-4-서로 다른 타입의 가속기들을 포함하는 것을 특징으로 하는 가속기 풀의 태스크 스케줄링 장치."}
{"patent_id": "10-2023-0091853", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명의 일 실시예에 따른 가속기 풀의 태스크 스케줄링 방법은 상기 가속기 풀 내 가속기의 상태 정보를 수신 하는 단계, 상기 상태 정보에 기반하여 태스크 할당이 가능한 가속기 목록을 생성하는 단계, 상기 가속기 목록의 가속기에 대하여 태스크를 할당하는 경우 추가 소모 전력을 산출하는 단계 및 상기 산출된 추가 소모 전력 및 가 속기 간 전도열을 고려하여 가속기에 태스크를 할당하는 단계를 포함한다."}
{"patent_id": "10-2023-0091853", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "기초연구사업 연구과제명 슈퍼컴퓨터개발 선도사업 총괄 및 슈퍼컴 프로세서 기반 계산노드 통합 개발 기 여 율 1/1 과제수행기관명 한국전자통신연구원 연구기간 2022.01.06 ~ 2023.01.05명 세 서 청구범위 청구항 1 태스크 스케줄링 장치에서 수행되는 가속기 풀의 태스크 스케줄링 방법에 있어서, 상기 가속기 풀 내 가속기의 상태 정보를 수신하는 단계; 상기 상태 정보에 기반하여 태스크 할당이 가능한 가속기 목록을 생성하는 단계; 상기 가속기 목록의 가속기에 대하여 태스크를 할당하는 경우 추가 소모 전력을 산출하는 단계; 및 상기 산출된 추가 소모 전력 및 가속기 간 전도열을 고려하여 가속기에 태스크를 할당하는 단계; 를 포함하는 것을 특징으로 하는 가속기 풀의 태스크 스케줄링 방법. 청구항 2 청구항 1에 있어서, 상기 상태 정보는 가속기 로직 사용률, 동작 전압, 클럭 및 온도 정보를 포함하는 것을 특징으로 하는 가속기 풀의 태스크 스케줄링 방법. 청구항 3 청구항 2에 있어서, 상기 추가 소모 전력은 상기 가속기의 상태 정보 및 태스크 정보를 이용하여 추정되는 것을 특징으로 하는 가속 기 풀의 태스크 스케줄링 방법. 청구항 4 청구항 2에 있어서, 상기 가속기 목록을 생성하는 단계는 태스크 할당이 가능한 가속기가 존재하지 않으면, 상기 가속기의 로직 사용률 또는 상기 가속기의 온도가 기설 정된 값 이하로 떨어질 때까지 태스크 할당을 중지하는 것을 특징으로 하는 가속기 풀의 태스크 스케줄링 방법. 청구항 5 청구항 2에 있어서, 상기 가속기에 태스크를 할당하는 단계는 상기 산출된 추가 소모 전력이 기설정된 값 이하인 가속기에 태스크를 할당하되, 추가 소모 전력이 기설정된 값 이하인 가속기가 복수개인 경우 상기 가속기 풀 내에서 가장 높은 온도를 갖는 가속기와 물리적으로 가장 멀리 떨어진 가속기에 태스크를 할당하는 것을 특징으로 하는 가속기 풀의 태스크 스케줄링 방법. 청구항 6 청구항 2에 있어서, 상기 가속기에 태스크를 할당하는 단계는 상기 산출된 추가 소모 전력이 기설정된 값 이하인 가속기에 태스크를 할당하되, 상기 가속기 풀 내 가속기 간 에 발생하는 전도열을 고려하여 태스크를 할당하는 것을 특징으로 하는 가속기 풀의 태스크 스케줄링 방법. 청구항 7 청구항 1에 있어서, 상기 가속기 풀은 서로 다른 타입의 가속기들을 포함하는 것을 특징으로 하는 가속기 풀의 태스크 스케줄링 방법. 청구항 8 가속기 풀 내 가속기의 상태 정보를 수신하는 통신부; 및 상기 상태 정보에 기반하여 태스크 할당이 가능한 가속기 목록을 생성하고, 상기 가속기 목록의 가속기에 대하 여 태스크를 할당하는 경우 추가 소모 전력을 산출하고, 상기 산출된 추가 소모 전력 및 가속기 간 전도열을 고 려하여 가속기에 태스크를 할당하는 태스크 할당부; 를 포함하는 것을 특징으로 하는 가속기 풀의 태스크 스케줄링 장치. 청구항 9 청구항 8에 있어서, 상기 상태 정보는 가속기 로직 사용률, 동작 전압, 클럭 및 온도 정보를 포함하는 것을 특징으로 하는 가속기 풀의 태스크 스케줄링 장치. 청구항 10 청구항 9에 있어서, 상기 추가 소모 전력은 상기 가속기의 상태 정보 및 태스크 정보를 이용하여 추정되는 것을 특징으로 하는 가속 기 풀의 태스크 스케줄링 장치. 청구항 11 청구항 9에 있어서, 상기 태스크 할당부는 태스크 할당이 가능한 가속기가 존재하지 않으면, 상기 가속기의 로직 사용률 또는 상기 가속기의 온도가 기설 정된 값 이하로 떨어질 때까지 태스크 할당을 중지하는 것을 특징으로 하는 가속기 풀의 태스크 스케줄링 장치. 청구항 12 청구항 9에 있어서, 상기 태스크 할당부는 상기 산출된 추가 소모 전력이 기설정된 값 이하인 가속기에 태스크를 할당하되, 추가 소모 전력이 기설정된 값 이하인 가속기가 복수개인 경우 상기 가속기 풀 내에서 가장 높은 온도를 갖는 가속기와 물리적으로 가장 멀리 떨어진 가속기에 태스크를 할당하는 것을 특징으로 하는 가속기 풀의 태스크 스케줄링 장치. 청구항 13 청구항 9에 있어서, 상기 태스크 할당부는 상기 산출된 추가 소모 전력이 기설정된 값 이하인 가속기에 태스크를 할당하되, 상기 가속기 풀 내 가속기 간 에 발생하는 전도열을 고려하여 태스크를 할당하는 것을 특징으로 하는 가속기 풀의 태스크 스케줄링 장치. 청구항 14 청구항 8에 있어서, 상기 가속기 풀은서로 다른 타입의 가속기들을 포함하는 것을 특징으로 하는 가속기 풀의 태스크 스케줄링 장치. 발명의 설명 기 술 분 야 본 발명은 데이터 센터 내 이기종 가속기 풀의 발열 및 전력 소모 절감을 위한 가속기 태스크 스케줄링 방법에 관한 것이다. 본 발명은 데이터 센터 내 이기종 가속기 풀에 대해 가속기의 온도 및 사용률, 태스크 할당 시 가속기가 추가로 소모하게 될 전력 추정값, 그리고 가속기의 물리적 위치를 고려하여 태스크를 할당하는 방법에 관한 것이다."}
{"patent_id": "10-2023-0091853", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "최근 딥러닝으로 대표되는 계산 및 데이터 집약적 태스크에 대한 수요가 급증함에 따라, 고성능 컴퓨팅(High- performance Computing, HPC) 인프라에 대한 수요 또한 증가하고 있다. 이러한 고성능 컴퓨팅 인프라에 대한 수 요에 맞춰 수많은 컴퓨팅 노드로 구성된 대규모 데이터 센터가 전 세계적으로 운영되고 있다. 데이터 센터에서 많이 처리되는 딥러닝과 같은 태스크들은 주로 MAC(Multiply and Accumulation) 연산과 같은 간단한 연산들로 구성되어 있지만, 연산의 수가 막대하다는 특징이 있어 병렬 연산기가 처리하기 적합하다. 이 에 따라, 적은 수의 고성능 코어를 가진 CPU(Central Processing Unit) 대신 많은 수의 저성능 코어로 구성된 GPU(Graphic Processing Unit) 가속기나 태스크에 최적화되어 설계된 FPGA(Field Programmable Gate Array) 혹 은 ASIC(Application-specific Integrated Circuit) 가속기들이 데이터 센터의 연산기로서 주목받고 있다. 이에 따라, 최근 데이터 센터에서는 하이브리드 구조를 채용하여 메인 프로세서인 CPU와 함께 GPU, FPGA, ASIC 가속기들로 구성된 가속기 풀을 컴퓨팅 노드에 갖추어 고도의 병렬 연산을 요구하는 태스크를 효과적으로 처리 한다. 이러한 가속기 풀은 주로 서로 다른 종류인 GPU, FPGA, ASIC 가속기들이 혼합되어 있으며, 같은 종류의 가속기더라도 서로 다른 상세(specification)를 가진 이기종(heterogeneous) 구조를 가진다. 이처럼 가속기 풀을 갖춘 고성능 컴퓨팅 노드로 구성된 데이터 센터를 운영하기 위해서는 막대한 양의 전력이 소모된다. 조사에 따르면 2014년에 미국 내 데이터 센터에서 소모한 전력은 700억 kWh에 달했으며, 이는 미국 전체 전력 소모량의 1.8%에 달하는 막대한 양이다. 현재에 이르러서는 데이터 센터의 대형화 및 데이터 센터를 구성하는 컴퓨팅 노드의 고성능화에 따라 데이터 센터의 전력 소모량은 더욱 증가했을 것으로 예측된다. 최근의 기후 위기로 인해 촉발된 저탄소 녹색성장 정책이 전 세계적으로 활발하게 펼쳐지고 있으며, 이러한 움 직임은 막대한 양의 전력을 소모하는 데이터 센터에도 영향을 미치고 있다. 실제로 저전력/친환경을 염두에 두 고 설계된 그린 데이터 센터가 전 세계적으로 도입되고 있으며, 국내에서 또한 그린 데이터 센터 인증 제도를 도입하여 저탄소 녹색성장 움직임에 적극적으로 동참하고 있다. 이처럼 데이터 센터의 전력 소모 감소는 중요한 문제로 인식되고 있다. 데이터 센터에서 소모되는 전체 전력의 36~44%는 CPU 등의 연산 유닛에서 소모된다. 연산 유닛의 높은 전력 소 모는 막대한 양의 발열로 이어져 연산 유닛의 온도 상승을 초래한다. 연산 유닛의 높은 온도는 연산 유닛의 정 적 전력 소모량 증가로 인한 추가적인 전력 소모를 발생시킬 뿐만 아니라, 일시적인 기능 장애 또는 영구적인 손상까지도 일으킬 수 있다. 따라서, 데이터 센터는 공랭/수랭식 쿨러에서부터 에어 컨디셔너에 이르기까지 컴 퓨팅 노드의 온도 관리를 위한 다양한 기계식 쿨링 솔루션을 채택하고 있다. 하지만, 이러한 기계식 쿨링 솔루션들 또한 데이터 센터에서 소모되는 전체 전력의 38~50%에 이르는 높은 전력 을 소모한다. 따라서, 데이터 센터에서는 기계식 쿨링 솔루션들과 더불어 OS(Operating System)를 비롯한 SW 레 벨에서의 발열 관리 방법 적용을 통해 기계식 쿨링 솔루션에 의한 전력 소모 감소를 도모한다. SW 레벨에서의 대표적인 발열 관리 방법으로는 발열을 고려하여 태스크를 적절하게 할당하는 태스크 스케줄링 기반 발열 관리 방법 또는 연산 유닛의 온도에 따라 연산 유닛의 전력과 주파수를 동적으로 조정하는 DVFS(Dynamic Voltage and Frequency Scaling) 기반 발열 관리 방법 등이 있다. 현재 데이터 센터에 적용되고 있는 SW 레벨에서의 발열 관리 방법들은 주로 CPU를 대상으로 적용되고 있다. 가 속기를 대상으로 한 SW 레벨에서의 발열 관리 방법은 제한적인 범위 내에서 GPU 가속기에 적용되고 있지만, FPGA나 ASIC 가속기를 대상으로 한 SW 레벨에서의 발열 관리 방법은 전무한 실정이다. 이는 이전까지의 FPGA나ASIC의 발열량은 저전력 공랭식 쿨러로도 감당이 가능한 수준이었기 때문으로 풀이된다. 하지만, 최근 출시되는 하이엔드 상용 FPGA의 경우 인공지능 가속 엔진 탑재 등으로 인해 서버용 CPU에 맞먹는 발열이 유발되며, ASIC 또한 사용자의 설계에 따라 얼마든지 높은 수준의 발열이 유발될 수 있다. 그럼에도 불 구하고, 현재까지도 FPGA나 ASIC 가속기의 쿨링은 대부분 공랭식 쿨러를 통해서만 이루어지고 있으며, 가속기가 소모하는 전력이 증가함에 따라 쿨링 솔루션이 소모하는 전력이 급격하게 증가하고 있다. 또한, 최근 컴퓨팅 노 드에 요구되는 연산 능력이 증가하는 추세에 맞춰 단일 컴퓨팅 노드에 장착되는 가속기의 수가 증가함에 따라, 컴퓨팅 노드가 소비하는 전력 중 가속기가 차지하는 비중이 큰 폭으로 증가하고 있다. 이처럼 가속기가 소모하 는 전력이 급격하게 증가하는 추세 속에서 전력 소모 절감을 위해 SW 레벨에서의 발열 관리 방법이 FPGA나 ASIC 가속기에도 적용될 필요성이 대두되고 있다. 가속기에 의한 데이터 센터의 전력 소모 절감을 위해서는 단일 가속기를 대상으로 한 SW 레벨에서의 발열 관리 방법 외에도 데이터 센터에서 가속기가 운용되는 형태인 가속기 풀 단위에서의 발열 관리 기법이 필요하다. 또 한, 이러한 가속기 풀을 위한 SW 레벨에서의 발열 관리 방법은 가속기 풀의 형태가 이기종 가속기 풀이라는 것 을 고려하여 설계되어야 최적의 효율을 보일 것이다. 선행기술문헌 특허문헌 (특허문헌 0001) 국내 공개특허공보 제2020-0068548호(발명의 명칭: 병렬계산 가속기 할당률 결정 장치 및 방법)"}
{"patent_id": "10-2023-0091853", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 목적은 데이터 센터 내 이기종 가속기 풀의 발열 및 전력 소모를 절감하기 위해 가속기의 온도 및 사 용률, 태스크 할당 시 가속기가 추가로 소모하게 될 전력 추정값, 그리고 가속기의 물리적 위치를 고려하여 태 스크를 할당하는 태스크 스케줄링 방법을 제공하는 것이다."}
{"patent_id": "10-2023-0091853", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기한 목적을 달성하기 위한 본 발명의 일 실시예에 따른 가속기 풀의 태스크 스케줄링 방법은 상기 가속기 풀 내 가속기의 상태 정보를 수신하는 단계, 상기 상태 정보에 기반하여 태스크 할당이 가능한 가속기 목록을 생성 하는 단계, 상기 가속기 목록의 가속기에 대하여 태스크를 할당하는 경우 추가 소모 전력을 산출하는 단계 및 상기 산출된 추가 소모 전력 및 가속기 간 전도열을 고려하여 가속기에 태스크를 할당하는 단계를 포함한다. 이때, 상기 상태 정보는 가속기 로직 사용률, 동작 전압, 클럭 및 온도 정보를 포함할 수 있다. 이때, 상기 추가 소모 전력은 상기 가속기의 상태 정보 및 태스크 정보를 이용하여 추정될 수 있다. 이때, 상기 가속기 목록을 생성하는 단계는 태스크 할당이 가능한 가속기가 존재하지 않으면, 상기 가속기의 로 직 사용률 또는 상기 가속기의 온도가 기설정된 값 이하로 떨어질 때까지 태스크 할당을 중지할 수 있다. 이때, 상기 가속기에 태스크를 할당하는 단계는 상기 산출된 추가 소모 전력이 기설정된 값 이하인 가속기에 태 스크를 할당하되, 추가 소모 전력이 기설정된 값 이하인 가속기가 복수개인 경우 상기 가속기 풀 내에서 가장 높은 온도를 갖는 가속기와 물리적으로 가장 멀리 떨어진 가속기에 태스크를 할당할 수 있다. 이때, 상기 가속기에 태스크를 할당하는 단계는 상기 산출된 추가 소모 전력이 기설정된 값 이하인 가속기에 태 스크를 할당하되, 상기 가속기 풀 내 가속기 간에 발생하는 전도열을 고려하여 태스크를 할당할 수 있다. 이때, 상기 가속기 풀은 서로 다른 타입의 가속기들을 포함할 수 있다. 또한, 상기한 목적을 달성하기 위한 본 발명의 일 실시예에 따른 가속기 풀의 태스크 스케줄링 장치는 가속기 풀 내 가속기의 상태 정보를 수신하는 통신부 및 상기 상태 정보에 기반하여 태스크 할당이 가능한 가속기 목록을 생성하고, 상기 가속기 목록의 가속기에 대하여 태스크를 할당하는 경우 추가 소모 전력을 산출하고, 상기 산출된 추가 소모 전력 및 가속기 간 전도열을 고려하여 가속기에 태스크를 할당하는 태스크 할당부를 포함한다. 이때, 상기 상태 정보는 가속기 로직 사용률, 동작 전압, 클럭 및 온도 정보를 포함할 수 있다. 이때, 상기 추가 소모 전력은 상기 가속기의 상태 정보 및 태스크 정보를 이용하여 추정될 수 있다. 이때, 상기 태스크 할당부는 태스크 할당이 가능한 가속기가 존재하지 않으면, 상기 가속기의 로직 사용률 또는 상기 가속기의 온도가 기설정된 값 이하로 떨어질 때까지 태스크 할당을 중지할 수 있다. 이때, 상기 태스크 할당부는 상기 산출된 추가 소모 전력이 기설정된 값 이하인 가속기에 태스크를 할당하되, 추가 소모 전력이 기설정된 값 이하인 가속기가 복수개인 경우 상기 가속기 풀 내에서 가장 높은 온도를 갖는 가속기와 물리적으로 가장 멀리 떨어진 가속기에 태스크를 할당할 수 있다. 이때, 상기 태스크 할당부는 상기 산출된 추가 소모 전력이 기설정된 값 이하인 가속기에 태스크를 할당하되, 상기 가속기 풀 내 가속기 간에 발생하는 전도열을 고려하여 태스크를 할당할 수 있다. 이때, 상기 가속기 풀은 서로 다른 타입의 가속기들을 포함할 수 있다."}
{"patent_id": "10-2023-0091853", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따르면, 데이터 센터 내 이기종 가속기 풀의 발열 및 전력 소모를 절감하기 위한 가속기의 온도 및 사용률, 태스크 할당 시 가속기가 추가로 소모하게 될 전력 추정값, 그리고 가속기의 물리적 위치를 고려하여 태스크를 할당하는 태스크 스케줄링 방법을 제공할 수 있다. 또한, 본 발명에 따르면, 공랭식 쿨러에만 의존하였던 기존의 가속기 발열 관리 방법 대비 가속기 풀 운용에 따 른 발열 및 전력 소모를 큰 폭으로 줄일 수 있다."}
{"patent_id": "10-2023-0091853", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명의 이점 및 특징, 그리고 그것들을 달성하는 방법은 첨부되는 도면과 함께 상세하게 후술되어 있는 실시 예들을 참조하면 명확해질 것이다. 그러나 본 발명은 이하에서 개시되는 실시예들에 한정되는 것이 아니라 서로 다른 다양한 형태로 구현될 것이며, 단지 본 실시예들은 본 발명의 개시가 완전하도록 하며, 본 발명이 속하는"}
{"patent_id": "10-2023-0091853", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "기술분야에서 통상의 지식을 가진 자에게 발명의 범주를 완전하게 알려주기 위해 제공되는 것이며, 본 발명은 청구항의 범주에 의해 정의될 뿐이다. 명세서 전체에 걸쳐 동일 참조 부호는 동일 구성 요소를 지칭한다. 비록 \"제1\" 또는 \"제2\" 등이 다양한 구성요소를 서술하기 위해서 사용되나, 이러한 구성요소는 상기와 같은 용 어에 의해 제한되지 않는다. 상기와 같은 용어는 단지 하나의 구성요소를 다른 구성요소와 구별하기 위하여 사 용될 수 있다. 따라서, 이하에서 언급되는 제1 구성요소는 본 발명의 기술적 사상 내에서 제2 구성요소일 수도 있다. 본 명세서에서 사용된 용어는 실시예를 설명하기 위한 것이며 본 발명을 제한하고자 하는 것은 아니다. 본 명세 서에서, 단수형은 문구에서 특별히 언급하지 않는 한 복수형도 포함한다. 명세서에서 사용되는 \"포함한다 (comprises)\" 또는 \"포함하는(comprising)\"은 언급된 구성요소 또는 단계가 하나 이상의 다른 구성요소 또는 단계의 존재 또는 추가를 배제하지 않는다는 의미를 내포한다. 본 명세서에서, \"A 또는 B\", \"A 및 B 중 적어도 하나\", \"A 또는 B 중 적어도 하나\", \"A, B 또는 C\", \"A, B 및 C 중 적어도 하나\", 및 \"A, B, 또는 C 중 적어도 하나\"와 같은 문구들 각각은 그 문구들 중 해당하는 문구에 함 께 나열된 항목들 중 어느 하나, 또는 그들의 모든 가능한 조합을 포함할 수 있다."}
{"patent_id": "10-2023-0091853", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "다른 정의가 없다면, 본 명세서에서 사용되는 모든 용어는 본 발명이 속하는 기술분야에서 통상의 지식을 가진 자에게 공통적으로 이해될 수 있는 의미로 해석될 수 있다. 또한, 일반적으로 사용되는 사전에 정의되어 있는 용어들은 명백하게 특별히 정의되어 있지 않는 한 이상적으로 또는 과도하게 해석되지 않는다. 이하, 첨부된 도면을 참조하여 본 발명의 실시예들을 상세히 설명하기로 하며, 도면을 참조하여 설명할 때 동일 하거나 대응하는 구성 요소는 동일한 도면 부호를 부여하고 이에 대한 중복되는 설명은 생략하기로 한다. 도 1은 본 발명의 일 실시예에 따른 가속기 풀의 태스크 스케줄링 방법을 나타낸 흐름도이다. 본 발명의 일 실시예에 따른 가속기 풀의 태스크 스케줄링 방법은 태스크 스케줄링 장치에서 수행될 수 있다. 도 1을 참조하면, 본 발명의 일 실시예에 따른 가속기 풀의 태스크 스케줄링 방법은 상기 가속기 풀 내 가속기 의 상태 정보를 수신하는 단계(S110), 상기 상태 정보에 기반하여 태스크 할당이 가능한 가속기 목록을 생성하 는 단계(S120), 상기 가속기 목록의 가속기에 대하여 태스크를 할당하는 경우 추가 소모 전력을 산출하는 단계 (S130) 및 상기 산출된 추가 소모 전력 및 가속기 간 전도열을 고려하여 가속기에 태스크를 할당하는 단계 (S140)를 포함한다. 이때, 상기 상태 정보는 가속기 로직 사용률, 동작 전압, 클럭 및 온도 정보를 포함할 수 있다. 이때, 상기 추가 소모 전력은 상기 가속기의 상태 정보 및 태스크 정보를 이용하여 추정될 수 있다. 이때, 상기 가속기 목록을 생성하는 단계(S120)는 태스크 할당이 가능한 가속기가 존재하지 않으면, 상기 가속 기의 로직 사용률 또는 상기 가속기의 온도가 기설정된 값 이하로 떨어질 때까지 태스크 할당을 중지할 수 있다. 이때, 상기 가속기에 태스크를 할당하는 단계(S140)는 상기 산출된 추가 소모 전력이 기설정된 값 이하인 가속 기에 태스크를 할당하되, 추가 소모 전력이 기설정된 값 이하인 가속기가 복수개인 경우 상기 가속기 풀 내에서 가장 높은 온도를 갖는 가속기와 물리적으로 가장 멀리 떨어진 가속기에 태스크를 할당할 수 있다. 이때, 상기 가속기에 태스크를 할당하는 단계(S140)는 상기 산출된 추가 소모 전력이 기설정된 값 이하인 가속 기에 태스크를 할당하되, 상기 가속기 풀 내 가속기 간에 발생하는 전도열을 고려하여 태스크를 할당할 수 있다. 이때, 상기 가속기 풀은 서로 다른 타입의 가속기들을 포함할 수 있다. 도 2는 본 이기종 가속기 풀을 포함하는 시스템 구조의 일 예이다. 도 2를 참조하면, 이기종 가속기 풀을 포함하는 시스템은 이기종 가속기 풀을 관리하고 태스크를 할당하는 호스트와 서로 다른 종류의 가속기로 구성된 이기종 가속기 풀로 구성될 수 있다. 호스트는 호스트 프로세서와 메인 메모리로 구성될 수 있다. 호스트 프로세서는 이기종 가 속기 풀에 할당할 태스크가 발생 시 이를 본 발명의 태스크 스케줄링 방법에 따라 특정 가속기에 할당할 수 있다. 호스트 프로세서는 PCIe(Peripheral Component Interconnect express)나 CCIX(Cache-Coherent Interconnect for Accelerator)와 같은 하드웨어 인터페이스를 통해 이기종 가속기 풀에 속한 가속기 와 인터페이스 될 수 있다. 이기종 가속기 풀은 GPU/FPGA/ASIC 가속기 등 서로 다른 종류의 가속기들로 구성될 수 있다. 이기종 가속기 풀에 속한 가속기는 가속기 제어 및 호스트와의 인터페이스를 담당하는 디바이스 컨트롤러, 태스크를 처리하는 가속기 로직, 가속기 메모리를 제어하기 위한 메모리 컨트롤러, 가속기 로직이 사 용할 데이터가 저장된 가속기 메모리로 구성될 수 있다. 본 발명의 일 실시예에서의 가속기 풀은 서로 다른 종류의 가속기들로 구성된 이기종 가속기 풀을 가정하였지만, 본 발명의 범위는 이기종 가속기 풀에 한정되는 것이 아닌 같은 종류의 가속기들로 구성된 동종(homogeneous) 가속기 풀 또한 포함하며, 본 발명의 태스크 스케줄링 방법은 동종 및 이기종 가속기 풀 모두에 적용될 수 있다. 도 3은 이기종 가속기 풀에 속한 가속기의 구조 및 가속기와 호스트 간 통신 방법의 일 예이다. 도 3을 참조하면, 본 발명의 태스크 스케줄링 방법은 GPU/FPGA/ASIC 가속기 등 다양한 종류의 가속기에서 구현 될 수 있다. 이때, 가속기의 구조는 일반적인 가속기의 구조에서 벗어나지 않는다. 가속기의 호스트 인터페이스는 호스트와 가속기 간 인터페이스를 담당할 수 있다. 구체적 으로, 호스트 인터페이스는 가속기 프로세서로부터 가속기 로직의 로직 사용률과 동작 전압/클 럭 그리고 온도 등의 상태정보를 전달받아 이를 호스트로 전달하거나, 호스트로부터 데이터 및 제어 신호 등을 수신하여 이를 가속기 내부 목적지로 전달할 수 있다. 호스트 인터페이스는 범용 인터페이 스 컨트롤러(PCIe 컨트롤러 등)를 기반으로 구현될 수 있다. 가속기 프로세서는 가속기 로직의 로직 사용률과 온도를 일정 주기마다 모니터링하여 이를 호스트 인 터페이스로 전달할 수 있다. 또한, 가속기 프로세서는 호스트 프로세서로부터 호스트 인터페이 스를 통해 전달받은 제어 신호를 통해 가속기 로직을 제어할 수 있다. 도 4는 본 발명의 일 실시예에 따른 태스크 스케줄링 방법을 나타낸 흐름도이다. 도 4의 태스크 스케줄링 방법은 시스템 레벨에서 이루어질 수 있으며, 가속기로 할당할 태스크가 발생할 때마다 개시될 수 있다. 호스트에서 이기종 가속기 풀에 할당하고자 하는 태스크가 발생하는 경우, 호스트 프로세서는 우선 이기종 가속기 풀에서 태스크 할당이 가능한 가속기 목록을 생성한다(S400). 이때, 태스크 할당이 가 능한 경우란 가속기 로직의 사용률(utilization)이 일정 수준 이하인 동시에, 가속기 온도가 일정 수준 이 하인 경우일 수 있다. 이때, 사용률 및 온도 기준은 사용자의 정의에 따라 달라질 수 있으며, 사용률 및 온도 이외의 조건을 추가로 고려할 수 있다. 호스트 프로세서는 태스크 할당이 가능한 가속기가 존재하는지 확인하고(S410), 만약 태스크 할당이 가능 한 가속기가 존재하지 않는 경우 일정 시간(△t) 동안 태스크 할당을 중지하여 가속기 풀에 속한 가속기들의 사 용률 또는 온도가 일정 수준 이하로 떨어질 수 있도록 한다(S420). 일정 시간이 지난 후 다시 가속기 목록 생성 단계(S400)로 돌아간다. 만약 태스크 할당이 가능한 가속기가 존재하여 목록을 생성하였다면, 호스트 프로세서는 목록에 속한 가속 기 별로 해당 태스크를 할당했을 때 가속기가 추가로 소모하게 될 전력(△을 추정한다(S430). 이기종 가속기 풀 에 속한 가속기 별로 태스크가 할당되었을 시 추가로 소모하게 될 전력인 △값은 가속기 간 상세 (specification) 및 현재 가속기에 가해지는 부하 등에 따라 매우 다양할 수 있다. 이를 고려하지 않고 가속기 의 성능 등만을 고려하여 태스크를 할당하는 경우 전력 효율성 측면에서 많은 문제가 발생할 수 있다. △P의 추정 방식은 다양한 형태로 구현될 수 있다. 예를 들어, 가속기의 실시간 상태정보 및 태스크 정보를 입 력으로 하는 기계학습 모델에 의해 실시간으로 △P를 추정하는 방식이 사용될 수 있다. 이때 수식의 입력으로 사용될 가속기의 상태정보로 동작 전압 및 클럭 주파수, 가속기 로직의 사용률, 그리고 가속기의 현재 온도 등 을 고려할 수 있다. 본 발명의 △P의 추정 방식에 대한 상세한 예시는 도 5를 통해 후술한다. △P를 추정한 이후 호스트 프로세서는 가장 △P값이 낮은 가속기를 태스크를 할당할 가속기로 선택한다 (S440). 만약 △P값이 같거나 비슷한 가속기들이 존재하여 태스크 할당이 가능한 후보가 여러 개 존재하는 경우 (S450), 호스트 프로세서는 이기종 가속기 풀 내 해당 가속기들의 물리적 위치를 파악하고, 이들 중 현재 가장 온도가 높은 가속기로부터 가장 멀리 떨어진 가속기를 태스크를 할당할 가속기로 선택한다(S460). 가 속기 풀이 구성되는 환경인 컴퓨팅 노드 내 PCIe 슬롯들은 상호 간 거리가 매우 짧아 가속기 간 전도열의 영향 이 매우 크며, 본 발명에서는 이를 고려하여 현재 가장 온도가 높은 가속기로부터 먼 곳으로 태스크를 할당하여 가속기 간 전도열에 의한 추가적인 온도 상승을 최소화할 수 있다. 호스트 프로세서는 태스크를 할당할 가속기 선택을 완료한 후, 선택된 가속기로 태스크를 할당한다(S470). 가속기로의 태스크 할당이 완료된 후 태스크 스케줄링 방법은 종료되며, 이후 이기종 가속기 풀에 할당해야 하 는 태스크가 발생하면 스케줄링 방법이 재시작된다. 도 5는 본 발명의 일 실시예에 따른 기계학습 모델 기반 전력 소모 변화량 추정 방식을 설명하기 위한 예시이다. 도 5를 참조하면, 호스트 프로세서는 이기종 가속기 풀 내 가속기들의 상태 정보를 지속적으로 수집 하여 테이블 형태로 저장한다. 이때, 수집하는 가속기의 상태 정보는 사용률, 온도, 클럭 주파수, 현재 가속기가 소모 중인 전력 등을 포함할 수 있다. 이후 호스트 프로세서는 이기종 가속기 풀로 할당해야 하는 태스크가 발생하면, 해당 태스크의 부하 정도 를 파악하고 수집한 가속기 상태정보와 태스크의 부하 정도를 입력으로 하는 기계학습 모델로 이를 전달한다. 기계학습 모델은 입력된 상태 정보 및 태스크의 부하 정도를 기반으로 하여 △를 추정하고 이를 호스트 프로세 서로 전달한다. 이때, 사용되는 기계학습 모델은 대표적인 딥러닝 기반 추론 모델인 다층 퍼셉트론 (MLP, Multi Layer Perceptron) 또는, 비교적 간단한 구성의 다중 선형 회귀분석 모델(Multiple Linear Regression Model) 등이 사용될 수 있다. 이때, △P 추정에 사용되는 기계학습 모델은 런타임 이전에 학습이 완료되어 있어야 하며, 기계학습 모델은 사 전 프로파일링을 통해 수집된 상태 정보 등을 기반으로 사전에 오프라인 페이즈에서 학습될 수 있다. 도 6는 본 발명의 일 실시예에 따른 태스크 스케줄링 방법을 설명하기 위한 예시이다. 도 6를 참조하면, 호스트에서 처음으로 이기종 가속기 풀로 태스크를 할당하고자 할 때(도 6의 1st allocation), 호스트 프로세서는 태스크 할당이 가능한 가속기 목록을 생성하고(S400) 목록에 있는 가속기 들의 △P값을 추정한다(S430). 도 6의 예시에서는 첫 번째 태스크 할당 시 이기종 가속기 풀의 가속기들은 어떠 한 태스크도 실행 중이 아닌 유휴상태(idle state)로 가정하며, 이에 따라 모든 가속기가 태스크 실행이 가능한 상태이므로 모든 가속기에 대해 △P값을 추정한다. 이후 호스트 프로세서는 추정된 △P값에 따라 태스크를 할당할 가속기를 선택하며(S440), 5번 가속기의 △P값이 가장 낮게 추정되었기 때문에 5번 가속기로 태스크를 할당한다(S470). 이후 두 번째로 태스크를 할당하고자 할 때(2nd allocation), 호스트 프로세서는 이전 단계와 같게 태스크 할당이 가능한 가속기 목록 생성(S400) 및 △P값 추정 과정(S430)을 거쳐 가장 △P값이 낮게 추정된 5번 가속기 를 또다시 태스크를 할당할 가속기로 선택한다(S440). 통상 유휴상태에서 동작 상태(active state)로 전환 시 가속기의 전력 소모가 크게 상승하며, 동작 상태로 전환 후에 추가로 같은 태스크를 할당하더라도 이전보다 전 력 소모 상승 폭은 크지 않다. 이후 세 번째로 태스크를 할당하고자 할 때(3rd allocation), 5번 가속기의 경우 가속기 로직의 사용률 (utilization) 혹은 가속기 온도가 일정 수준 이상이기 때문에 태스크 할당이 가능한 가속기 목록에서 제외된다 (S400). 이에 따라 호스트 프로세서는 5번 가속기를 제외한 나머지 가속기들에 대해 △P값을 추정한다 (S430). 이때, 1번 가속기와 4번 가속기에 대해 추정된 △P값이 같으므로(S450), 호스트 프로세서는 전도 열을 고려하여 이전에 할당된 태스크 실행으로 인해 현재 가장 온도가 높은 5번 가속기로부터 더 멀리 떨어진 1 번 가속기를 태스크를 할당할 가속기로 선택한다(S460). 이후 이기종 가속기 풀에 속한 모든 가속기가 태스크 할당이 불가능한 시점에서(nth allocation), 호스트 프로세 서는 일정 시간 동안 이기종 가속기 풀로의 태스크 할당을 중지하여 가속기 사용률 또는 온도가 일정 수준 이하로 떨어질 수 있도록 유도한다(S420). 도 7은 본 발명의 일 실시예에 따른 가속기 풀의 태스크 스케줄링 장치를 나타낸 블록도이다. 도 7을 참조하면, 본 발명의 일 실시예에 따른 가속기 풀의 태스크 스케줄링 장치는 가속기 풀 내 가속기의 상 태 정보를 수신하는 통신부 및 상기 상태 정보에 기반하여 태스크 할당이 가능한 가속기 목록을 생성하고, 상기 가속기 목록의 가속기에 대하여 태스크를 할당하는 경우 추가 소모 전력을 산출하고, 상기 산출된 추가 소 모 전력 및 가속기 간 전도열을 고려하여 가속기에 태스크를 할당하는 태스크 할당부를 포함한다. 이때, 상기 상태 정보는 가속기 로직 사용률, 동작 전압, 클럭 및 온도 정보를 포함할 수 있다. 이때, 상기 추가 소모 전력은 상기 가속기의 상태 정보 및 태스크 정보를 이용하여 추정될 수 있다. 이때, 상기 태스크 할당부는 태스크 할당이 가능한 가속기가 존재하지 않으면, 상기 가속기의 로직 사용률 또는 상기 가속기의 온도가 기설정된 값 이하로 떨어질 때까지 태스크 할당을 중지할 수 있다. 이때, 상기 태스크 할당부는 상기 산출된 추가 소모 전력이 기설정된 값 이하인 가속기에 태스크를 할당하 되, 추가 소모 전력이 기설정된 값 이하인 가속기가 복수개인 경우 상기 가속기 풀 내에서 가장 높은 온도를 갖 는 가속기와 물리적으로 가장 멀리 떨어진 가속기에 태스크를 할당할 수 있다. 이때, 상기 태스크 할당부는 상기 산출된 추가 소모 전력이 기설정된 값 이하인 가속기에 태스크를 할당하 되, 상기 가속기 풀 내 가속기 간에 발생하는 전도열을 고려하여 태스크를 할당할 수 있다. 이때, 상기 가속기 풀은 서로 다른 타입의 가속기들을 포함할 수 있다. 본 발명에서 설명하는 특정 실행들은 실시예들로서, 어떠한 방법으로도 본 발명의 범위를 한정하는 것은 아니다. 명세서의 간결함을 위하여, 종래 전자적인 구성들, 제어시스템들, 소프트웨어, 상기 시스템들의 다른 기능적인 측면들의 기재는 생략될 수 있다. 또한, 도면에 도시된 구성 요소들 간의 선들의 연결 또는 연결 부재 들은 기능적인 연결 및/또는 물리적 또는 회로적 연결들을 예시적으로 나타낸 것으로서, 실제 장치에서는 대체 가능하거나 추가의 다양한 기능적인 연결, 물리적인 연결, 또는 회로 연결들로서 나타내어질 수 있다. 또한, “ 필수적인”, “중요하게” 등과 같이 구체적인 언급이 없다면 본 발명의 적용을 위하여 반드시 필요한 구성 요 소가 아닐 수 있다. 따라서, 본 발명의 사상은 상기 설명된 실시예에 국한되어 정해져서는 아니되며, 후술하는 특허청구범위뿐만 아 니라 이 특허청구범위와 균등한 또는 이로부터 등가적으로 변경된 모든 범위는 본 발명의 사상의 범주에 속한다 고 할 것이다."}
{"patent_id": "10-2023-0091853", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 가속기 풀의 태스크 스케줄링 방법을 나타낸 흐름도이다. 도 2는 본 이기종 가속기 풀을 포함하는 시스템 구조의 일 예이다. 도 3은 이기종 가속기 풀에 속한 가속기의 구조 및 가속기와 호스트 간 통신 방법의 일 예이다. 도 4는 본 발명의 일 실시예에 따른 태스크 스케줄링 방법을 나타낸 흐름도이다. 도 5는 본 발명의 일 실시예에 따른 기계학습 모델 기반 전력 소모 변화량 추정 방식을 설명하기 위한 예시이다. 도 6는 본 발명의 일 실시예에 따른 태스크 스케줄링 방법을 설명하기 위한 예시이다. 도 7은 본 발명의 일 실시예에 따른 가속기 풀의 태스크 스케줄링 장치를 나타낸 블록도이다."}
