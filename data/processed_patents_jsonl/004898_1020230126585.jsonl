{"patent_id": "10-2023-0126585", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0043162", "출원번호": "10-2023-0126585", "발명의 명칭": "무선 통신 시스템에서 IMS 멀티미디어 세션의 전환을 위한 방법 및 장치", "출원인": "삼성전자주식회사", "발명자": "김동연"}}
{"patent_id": "10-2023-0126585", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "본 개시의 일 실시 예에 따른 방법은, 제1 네트워크 엔티티가 제1 메시지를 수신하는 단계; 상기 제1 메시지에 포함된 정보에 기초하여 제어 정보를 생성하는 단계; 및상기 제어 정보를 포함하는 제2 메시지를 제2 네트워크 엔티티로 전송하는 단계를 포함하는 방법."}
{"patent_id": "10-2023-0126585", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 개시는 보다 높은 데이터 전송률을 지원하기 위한 5G 또는 6G 통신 시스템에 관련된 것이다. 구체적으로, 본 개시는 이동 통신 시스템(또는 무선 통신 시스템)에서 IMS 멀티미디어 세션의 미디어 타입의 전환을 위한 방법과 장치를 제공한다."}
{"patent_id": "10-2023-0126585", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 무선 통신(또는 이동 통신) 시스템에서 IMS(IP multimedia subsystem) 멀티미디어 세션 전환을 위한 방법 및 장치에 관한 것이다."}
{"patent_id": "10-2023-0126585", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "5G 이동통신 기술은 빠른 전송 속도와 새로운 서비스가 가능하도록 넓은 주파수 대역을 정의하고 있으며, 3.5 기가헤르츠(3.5GHz) 등 6GHz 이하 주파수('Sub 6GHz') 대역은 물론 28GHz와 39GHz 등 밀리미터파(㎜Wave)로 불 리는 초고주파 대역('Above 6GHz')에서도 구현이 가능하다. 또한, 5G 통신 이후(Beyond 5G)의 시스템이라 불리 어지는 6G 이동통신 기술의 경우, 5G 이동통신 기술 대비 50배 빨라진 전송 속도와 10분의 1로 줄어든 초저 (Ultra Low) 지연시간을 달성하기 위해 테라헤르츠(Terahertz) 대역(예를 들어, 95GHz에서 3 테라헤르츠(3THz) 대역과 같은)에서의 구현이 고려되고 있다. 5G 이동통신 기술의 초기에는, 초광대역 서비스(enhanced Mobile BroadBand, eMBB), 고신뢰/초저지연 통신 (Ultra-Reliable Low-Latency Communications, URLLC), 대규모 기계식 통신 (massive Machine-Type Communications, mMTC)에 대한 서비스 지원과 성능 요구사항 만족을 목표로, 초고주파 대역에서의 전파의 경로 손실 완화 및 전파의 전달 거리를 증가시키기 위한 빔포밍(Beamforming) 및 거대 배열 다중 입출력(Massive MIMO), 초고주파수 자원의 효율적 활용을 위한 다양한 뉴머롤로지 지원(복수 개의 서브캐리어 간격 운용 등)와 슬롯 포맷에 대한 동적 운영, 다중 빔 전송 및 광대역을 지원하기 위한 초기 접속 기술, BWP(Band-Width Part) 의 정의 및 운영, 대용량 데이터 전송을 위한 LDPC(Low Density Parity Check) 부호와 제어 정보의 신뢰성 높은 전송을 위한 폴라 코드(Polar Code)와 같은 새로운 채널 코딩 방법, L2 선-처리(L2 pre-processing), 특정 서 비스에 특화된 전용 네트워크를 제공하는 네트워크 슬라이싱(Network Slicing) 등에 대한 표준화가 진행되었다. 현재, 5G 이동통신 기술이 지원하고자 했던 서비스들을 고려하여 초기의 5G 이동통신 기술 개선(improvement) 및 성능 향상(enhancement)을 위한 논의가 진행 중에 있으며, 차량이 전송하는 자신의 위치 및 상태 정보에 기 반하여 자율주행 차량의 주행 판단을 돕고 사용자의 편의를 증대하기 위한 V2X(Vehicle-to-Everything), 비면허 대역에서 각종 규제 상 요구사항들에 부합하는 시스템 동작을 목적으로 하는 NR-U(New Radio Unlicensed), NR 단말 저전력 소모 기술(UE Power Saving), 지상 망과의 통신이 불가능한 지역에서 커버리지 확보를 위한 단말- 위성 직접 통신인 비 지상 네트워크(Non-Terrestrial Network, NTN), 위치 측위(Positioning) 등의 기술에 대 한 물리계층 표준화가 진행 중이다. 뿐만 아니라, 타 산업과의 연계 및 융합을 통한 새로운 서비스 지원을 위한 지능형 공장 (Industrial Internet of Things, IIoT), 무선 백홀 링크와 액세스 링크를 통합 지원하여 네트워크 서비스 지역 확장을 위한 노드를 제공하는 IAB(Integrated Access and Backhaul), 조건부 핸드오버(Conditional Handover) 및 DAPS(Dual Active Protocol Stack) 핸드오버를 포함하는 이동성 향상 기술(Mobility Enhancement), 랜덤액세스 절차를 간소화하 는 2 단계 랜덤액세스(2-step RACH for NR) 등의 기술에 대한 무선 인터페이스 아키텍쳐/프로토콜 분야의 표준 화 역시 진행 중에 있으며, 네트워크 기능 가상화(Network Functions Virtualization, NFV) 및 소프트웨어 정 의 네트워킹(Software-Defined Networking, SDN) 기술의 접목을 위한 5G 베이스라인 아키텍쳐(예를 들어,Service based Architecture, Service based Interface), 단말의 위치에 기반하여 서비스를 제공받는 모바일 엣지 컴퓨팅(Mobile Edge Computing, MEC) 등에 대한 시스템 아키텍쳐/서비스 분야의 표준화도 진행 중이다. 이와 같은 5G 이동통신 시스템이 상용화되면, 폭발적인 증가 추세에 있는 커넥티드 기기들이 통신 네트워크에 연결될 것이며, 이에 따라 5G 이동통신 시스템의 기능 및 성능 강화와 커넥티드 기기들의 통합 운용이 필요할 것으로 예상된다. 이를 위해, 증강현실(Augmented Reality, AR), 가상현실(Virtual Reality, VR), 혼합 현실 (Mixed Reality, MR) 등을 효율적으로 지원하기 위한 확장 현실(eXtended Reality, XR), 인공지능(Artificial Intelligence, AI) 및 머신러닝(Machine Learning, ML)을 활용한 5G 성능 개선 및 복잡도 감소, AI 서비스 지 원, 메타버스 서비스 지원, 드론 통신 등에 대한 새로운 연구가 진행될 예정이다. 또한, 이러한 5G 이동통신 시스템의 발전은 6G 이동통신 기술의 테라헤르츠 대역에서의 커버리지 보장을 위한 신규 파형(Waveform), 전차원 다중입출력(Full Dimensional MIMO, FD-MIMO), 어레이 안테나(Array Antenna), 대규모 안테나(Large Scale Antenna)와 같은 다중 안테나 전송 기술, 테라헤르츠 대역 신호의 커버리지를 개선 하기 위해 메타물질(Metamaterial) 기반 렌즈 및 안테나, OAM(Orbital Angular Momentum)을 이용한 고차원 공 간 다중화 기술, RIS(Reconfigurable Intelligent Surface) 기술 뿐만 아니라, 6G 이동통신 기술의 주파수 효 율 향상 및 시스템 네트워크 개선을 위한 전이중화(Full Duplex) 기술, 위성(Satellite), AI(Artificial Intelligence)를 설계 단계에서부터 활용하고 종단간(End-to-End) AI 지원 기능을 내재화하여 시스템 최적화를 실현하는 AI 기반 통신 기술, 단말 연산 능력의 한계를 넘어서는 복잡도의 서비스를 초고성능 통신과 컴퓨팅 자 원을 활용하여 실현하는 차세대 분산 컴퓨팅 기술 등의 개발에 기반이 될 수 있을 것이다."}
{"patent_id": "10-2023-0126585", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "IMS 멀티미디어 통화는 5G 네트워크의 상태 및 조건이 IMS 멀티미디어 통화를 제공할 수 있는 상태 및 조건인지 여부를 통화의 수립 절차 중에 확인하여 조건을 만족할 수 없으면 통화를 수립하지 않거나, 통화의 수립 이후 모니터링하여 조건을 만족할 수 없으면 통화를 해제하도록 하고 있다. 3GPP에서 논의되고 있는 IMS 기반 3D 아바타 통화의 경우, 3D 아바타 미디어의 데이터 사이즈, 데이터 구성요소 등이 네트워크의 상태 및 조건에 따라 통화 품질이 민감하게 반응할 수 있다. 이때, 네트워크의 상태 및 조건에 변경이 있을 때마다 3D 아바타 통화가 끊기게 된다면 사용자는 안정적으로 서비스를 이용할 수 없게 된다. 따라서, 네트워크의 상태 및 조건의 변화에 따라 3D 아바타 통화를 2D 비디오 통화로 전환하거나, 3D 아바타 통 화를 오디오 통화로 전환하거나, 또는 다시 3D 아바타 통화로 재전환하는 방안이 필요할 수 있다."}
{"patent_id": "10-2023-0126585", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 개시는 IMS 세션 중에 미디어 타입을 전환 또는 변경하는 IMS 세션 및 PDU 세션 변경 방법 및 장치를 제공한 다. 또한, 본 개시는 미디어 타입의 전환이 필요한 시점과 어떤 종류의 미디어 타입으로 전환할지 여부를 IMS 기능 및/또는 5G 코어네트워크 기능이 결정하기 위해 필요한 QoS 측정 방법 및 장치를 제공한다."}
{"patent_id": "10-2023-0126585", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 개시는 무선 통신 시스템에서 서비스를 효과적으로 제공할 수 있는 장치 및 방법을 제공한다."}
{"patent_id": "10-2023-0126585", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하 첨부된 도면을 참조하여 본 발명의 동작 원리를 상세히 설명한다. 실시예를 설명함에 있어서 본 개시가 속하는 기술 분야에 익히 알려져 있고 본 개시와 직접적으로 관련이 없는 기술 내용에 대해서는 설명을 생략한다. 이는 불필요한 설명을 생략함으로써 본 개시의 요지를 흐리지 않고 더 욱 명확히 전달하기 위함이다. 마찬가지 이유로 첨부 도면에 있어서 일부 구성요소는 과장되거나 생략되거나 개략적으로 도시되었다. 또한, 각 구성요소의 크기는 실제 크기를 전적으로 반영하는 것이 아니다. 각 도면에서 동일한 또는 대응하는 구성요소에 는 동일한 참조 번호를 부여하였다. 본 개시의 이점 및 특징, 그리고 그것들을 달성하는 방법은 첨부되는 도면과 함께 상세하게 후술되어 있는 실시 예들을 참조하면 명확해질 것이다. 그러나 본 개시는 이하에서 개시되는 실시예들에 한정되는 것이 아니라 서로 다른 다양한 형태로 구현될 수 있으며, 단지 본 실시예들은 본 개시가 완전하도록 하고, 본 개시가 속하는 기술 분야에서 통상의 지식을 가진 자에게 발명의 범주를 완전하게 알려주기 위해 제공되는 것이며, 본 개시는 청구 항의 범주에 의해 정의될 뿐이다. 명세서 전체에 걸쳐 동일 참조 부호는 동일 구성 요소를 지칭한다. 이 때, 처리 흐름도 도면들의 각 블록과 흐름도 도면들의 조합들은 컴퓨터 프로그램 인스트럭션들에 의해 수행 될 수 있음을 이해할 수 있을 것이다. 이들 컴퓨터 프로그램 인스트럭션들은 범용 컴퓨터, 특수용 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비의 프로세서에 탑재될 수 있으므로, 컴퓨터 또는 기타 프로그램 가 능한 데이터 프로세싱 장비의 프로세서를 통해 수행되는 그 인스트럭션들이 흐름도 블록(들)에서 설명된 기능들 을 수행하는 수단을 생성하게 된다. 이들 컴퓨터 프로그램 인스트럭션들은 특정 방식으로 기능을 구현하기 위해 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비를 지향할 수 있는 컴퓨터 이용 가능 또는 컴퓨터 판독 가능 메모리에 저장되는 것도 가능하므로, 그 컴퓨터 이용가능 또는 컴퓨터 판독 가능 메모리에 저장된 인스트 럭션들은 흐름도 블록(들)에서 설명된 기능을 수행하는 인스트럭션 수단을 내포하는 제조 품목을 생산하는 것도 가능하다. 컴퓨터 프로그램 인스트럭션들은 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비 상에 탑재 되는 것도 가능하므로, 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비 상에서 일련의 동작 단계들이 수행되어 컴퓨터로 실행되는 프로세스를 생성해서 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비를 수행하는 인스트럭션들은 흐름도 블록(들)에서 설명된 기능들을 실행하기 위한 단계들을 제공하는 것도 가능하 다. 또한, 각 블록은 특정된 논리적 기능(들)을 실행하기 위한 하나 이상의 실행 가능한 인스트럭션들을 포함하는 모듈, 세그먼트 또는 코드의 일부를 나타낼 수 있다. 또, 몇 가지 대체 실행 예들에서는 블록들에서 언급된 기 능들이 순서를 벗어나서 발생하는 것도 가능함을 주목해야 한다. 예컨대, 잇달아 도시되어 있는 두 개의 블록들 은 사실 실질적으로 동시에 수행되는 것도 가능하고 또는 그 블록들이 때때로 해당하는 기능에 따라 역순으로 수행되는 것도 가능하다. 이 때, 본 실시예에서 사용되는 '~부'라는 용어는 소프트웨어 또는 FPGA또는 ASIC과 같은 하드웨어 구성요소를 의미하며, '~부'는 어떤 역할들을 수행한다. 그렇지만 '~부'는 소프트웨어 또는 하드웨어에 한정되는 의미는 아 니다. '~부'는 어드레싱할 수 있는 저장 매체에 있도록 구성될 수도 있고 하나 또는 그 이상의 프로세서들을 재 생시키도록 구성될 수도 있다. 따라서, 일 예로서 '~부'는 소프트웨어 구성요소들, 객체지향 소프트웨어 구성 요소들, 클래스 구성요소들 및 태스크 구성요소들과 같은 구성요소들과, 프로세스들, 함수들, 속성들, 프로시저 들, 서브루틴들, 프로그램 코드의 세그먼트들, 드라이버들, 펌웨어, 마이크로코드, 회로, 데이터, 데이터베이스, 데이터 구조들, 테이블들, 어레이들, 및 변수들을 포함한다. 구성요소들과 '~부'들 안에서 제공 되는 기능은 더 작은 수의 구성요소들 및 '~부'들로 결합되거나 추가적인 구성요소들과 '~부'들로 더 분리될 수 있다. 뿐만 아니라, 구성요소들 및 '~부'들은 디바이스 또는 보안 멀티미디어카드 내의 하나 또는 그 이상의 CPU들을 재생시키도록 구현될 수도 있다. 또한 실시예에서 '~부'는 하나 이상의 프로세서를 포함할 수 있다. 이하 설명에서 사용되는 접속 노드(node)를 식별하기 위한 용어, 망 객체(network entity)들을 지칭하는 용어, 메시지들을 지칭하는 용어, 망 객체들 간 인터페이스를 지칭하는 용어, 다양한 식별 정보들을 지칭하는 용어 등 은 설명의 편의를 위해 예시된 것이다. 따라서, 본 개시가 후술되는 용어들에 한정되는 것은 아니며, 동등한 기 술적 의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 이하 설명의 편의를 위하여, 본 개시는 3GPP LTE(3rd Generation Partnership Project Long Term Evolution) 규격 및 3GPP 5G 규격에서 정의하고 있는 용어 및 명칭들을 사용한다. 하지만, 본 개시가 상기 용어 및 명칭들 에 의해 한정되는 것은 아니며, 다른 규격에 따르는 시스템에도 동일하게 적용될 수 있다. 이하, 첨부된 도면을 참조하여 본 개시의 바람직한 실시예들을 상세히 설명한다. 이때, 첨부된 도면들에서 동일 한 구성 요소는 가능한 동일한 부호로 나타내고 있음에 유의해야 한다. 또한 이하에 첨부된 본 개시의 도면은 본 개시의 이해를 돕기 위해 제공되는 것으로, 본 개시의 도면에 예시된 형태 또는 배치 등에 본 개시가 제한되 지 않음에 유의해야 한다. 또한 본 개시의 요지를 흐리게 할 수 있는 공지 기능 및 구성에 대한 상세한 설명은 생략할 것이다. 하기의 설명에서는 본 개시의 다양한 실시 예들에 따른 동작을 이해하는데 필요한 부분만이 설 명되며, 그 이외 부분의 설명은 본 개시의 요지를 흩트리지 않도록 생략될 것이라는 것을 유의하여야 한다. 또 한, 본 개시는, 일부 통신 규격(예: 3GPP(3rd Generation Partnership Project))에서 사용되는 용어들을 이용 하여 다양한 실시 예들을 설명하지만, 이는 설명을 위한 예시일 뿐이다. 본 개시의 다양한 실시 예들은, 다른 통신 시스템에서도, 용이하게 변형되어 적용될 수 있다. 본 개시에서, “A/B”, “A 및/또는 B”, “A 또는 B”, “A 및 B 중 적어도 하나”, “A 또는 B 중 적어도 하 나”, “A, B 또는 C”, “A, B 및 C 중 적어도 하나” 및 “A, B, 또는 C 중 적어도 하나”와 같은 문구들 각 각은 그 문구들 중 해당하는 문구에 함께 나열된 항목들 중 어느 하나, 또는 그들의 모든 가능한 조합을 포함할 수 있다. “제1”, “제2”, 또는 “첫째” 또는 “둘째”와 같은 용어들은 단순히 해당 구성 요소를 다른 해당 구성 요소와 구분하기 위해 사용될 수 있으며, 해당 구성 요소들을 다른 측면(예: 중요성 또는 순서)에서 한정 하지 않는다. 한편, 4G 통신 시스템 상용화 이후 증가 추세에 있는 무선 데이터 트래픽 수요를 충족시키기 위해, 개선된 5G 통신 시스템 또는 pre-5G 통신 시스템을 개발하기 위한 노력이 이루어지고 있다. 이러한 이유로, 5G 통신 시스 템 또는 pre-5G 통신 시스템은 4G 네트워크 이후 (Beyond 4G Network) 통신 시스템 또는 LTE 시스템 이후 (Post LTE) 시스템이라 불리어지고 있다. 3GPP에서 정한 5G 통신 시스템은 New Radio (NR) 시스템이라고 불리고 있다. 높은 데이터 전송률을 달성하기 위해, 5G 통신 시스템은 초고주파(mmWave) 대역 (예를 들어, 60기가(60GHz) 대 역과 같은)에서의 구현이 고려되고 있다. 초고주파 대역에서의 전파의 경로손실 완화 및 전파의 전달 거리를 증 가시키기 위해, 5G 통신 시스템에서는 빔포밍(beamforming), 거대 배열 다중 입출력(massive MIMO), 전차원 다 중입출력(Full Dimensional MIMO: FD-MIMO), 어레이 안테나(array antenna), 아날로그 빔형성(analog beam- forming), 및 대규모 안테나(large scale antenna) 기술들이 논의되었고, NR 시스템에 적용되었다. 또한 시스템의 네트워크 개선을 위해, 5G 통신 시스템에서는 진화된 소형 셀, 개선된 소형 셀(advanced small cell), 클라우드 무선 액세스 네트워크(cloud radio access network: cloud RAN), 초고밀도 네트워크(ultra- dense network), 기기 간 통신(Device to Device communication: D2D), 무선 백홀(wireless backhaul), 이동 네트워크(moving network), 협력 통신(cooperative communication), CoMP(Coordinated Multi-Points), 및 수신 간섭제거(interference cancellation) 등의 기술 개발이 이루어지고 있다. 이 밖에도, 5G 시스템에서는 진보된 코딩 변조(Advanced Coding Modulation: ACM) 방식인 FQAM(Hybrid FSK and QAM Modulation) 및 SWSC(Sliding Window Superposition Coding)과, 진보된 접속 기술인 FBMC(Filter Bank Multi Carrier), NOMA(non-orthogonal multiple access), 및 SCMA(sparse code multiple access) 등이 개발되 고 있다. 한편, 인터넷은 인간이 정보를 생성하고 소비하는 인간 중심의 연결 망에서, 사물 등 분산된 구성 요소들 간에 정보를 주고 받아 처리하는 IoT(Internet of Things, 사물인터넷) 망으로 진화하고 있다. 클라우드 서버 등과의 연결을 통한 빅데이터(Big data) 처리 기술 등이 IoT 기술에 결합된 IoE(Internet of Everything) 기술도 대두 되고 있다. IoT를 구현하기 위해서, 센싱 기술, 유무선 통신 및 네트워크 인프라, 서비스 인터페이스 기술, 및 보안 기술과 같은 기술 요소 들이 요구되어, 최근에는 사물간의 연결을 위한 센서 네트워크(sensor network), 사물 통신(Machine to Machine, M2M), MTC(Machine Type Communication)등의 기술이 연구되고 있다. IoT 환경 에서는 연결된 사물들에서 생성된 데이터를 수집, 분석하여 인간의 삶에 새로운 가치를 창출하는 지능형 IT(Internet Technology) 서비스가 제공될 수 있다. IoT는 기존의 IT(Information Technology)기술과 다양한 산업 간의 융합 및 복합을 통하여 스마트홈, 스마트 빌딩, 스마트 시티, 스마트 카 혹은 커넥티드 카, 스마트 그리드, 헬스 케어, 스마트 가전, 첨단의료서비스 등의 분야에 응용될 수 있다. 이에, 5G 통신 시스템을 IoT 망에 적용하기 위한 다양한 시도들이 이루어지고 있다. 예를 들어, 센서 네트워크 (sensor network), 사물 통신(Machine to Machine, M2M), MTC(Machine Type Communication)등의 5G 통신이 빔 포밍, MIMO, 및 어레이 안테나 등의 기법에 의해 구현되고 있는 것이다. 앞서 설명한 빅데이터 처리 기술로써 클라우드 무선 액세스 네트워크(cloud RAN)가 적용되는 것도 5G 기술과 IoT 기술 융합의 일 예라고 할 수 있을 것이다. 도 1은 본 개시의 실시예와 관련된 5G 시스템 구조를 도시하는 도면이다. 도 1을 참조하면, 5G 시스템 아키텍처는 다양한 구성 요소들(즉, 네트워크 기능(network function, NF))을 포함 할 수 있으며, 네트워크 노드(node)로 불릴 수도 있다. 도 1에는 그 중 일부에 해당하는, 인증 서버 기능 (authentication server function, AUSF) 장치, 액세스 및 이동성 관리 기능(access and mobility management function, AMF) 장치, 세션 관리 기능(session management function, SMF) 장치, 정책 제어 기능(policy control function, PCF) 장치, 어플리케이션 기능(application function, AF) 장치 , 통합된 데이터 관리(unified data management, UDM) 장치, 데이터 네트워크(data network, DN), 사용자 평면 기능(user plane function, UPF) 장치, (무선) 액세스 네트워크((radio) access network, (R)AN), 단말, 즉, 사용자 장치(user equipment, UE)를 예시하였다. 또한 도 1에서는 네트 워크 슬라이스 선택 기능(Network Slice Selection Function, NSSF) 장치 과 네트워크 슬라이스 별 인증 및 권한 검증 기능(Network Slice Specific Authentication and Authorization Function, NSSAAF) 장치 가 예시적으로 도시되고 있다. 도 1에 예시된 각각의 장치들은 하나의 서버 또는 장치로 구현할 수도 있고, 네트워크 슬라이스 인스턴스로 구 현될 수도 있다. 네트워크 슬라이스 인스턴스로 구현되는 경우 하나의 서버 또는 장치 내에 둘 이상의 동일하거 나 서로 다른 네트워크 슬라이스 인스턴스로 구현될 수도 있고, 둘 이상의 서버 또는 장치에 하나의 네트워크 슬라이스 인스턴스가 구현될 수도 있다. 각 NF들은 다음과 같은 기능을 지원할 수 있다. AUSF는 UE의 인증을 위한 데이터를 처리하고 저장할 수 있다. AMF는 UE 단위의 접속 및 이동성 관리를 위한 기능을 제공할 수 있으며, 하나의 UE 당 기본적으로 하나의 AMF에 연결될 수 있다. 구체적으로, AMF는 3GPP 액세스 네트워크들 간의 이동성을 위한 CN(core network) 노드 간 시그널링, 무선 액세스 네트워크(radio access network, RAN) CP 인터페이스(예를 들어, N2 인터페이스)의 종단(termination), NAS 시그널링의 종단(N1), NAS 시그널링 보안(NAS 암호화(ciphering) 및 무 결성 보호(integrity protection)), AS 보안 제어, 등록 관리(등록 영역(registration area) 관리), 연결 관리, 아이들 모드 UE 접근성(reachability)(예를 들어, 페이징 재전송의 제어 및 수행 포함), 이동성 관리 제 어(가입 및 정책), 인트라-시스템 이동성 및 인터-시스템 이동성 지원, 네트워크 슬라이싱(network slicing)의 지원, SMF 선택, 합법적 감청(lawful intercept)(예를 들어, AMF 이벤트 및 LI 시스템으로의 인터페이스에 대한), UE와 SMF 간의 세션 관리(session management, SM) 메시지의 전달 제공, SM 메시지 라우팅을 위한 트랜 스패런트 프록시(transparent proxy), 액세스 인증(access authentication), 로밍 권한 체크를 포함한 액세스허가(access authorization), UE와 SMSF (Short Message Service Function) 간의 SMS 메시지의 전달 제공, 보 안 앵커 기능(security anchor function, SAF) 및/또는 보안 컨텍스트 관리(security context management, SCM) 등의 기능을 지원할 수 있다. 이러한 AMF의 일부 기능(들) 또는 전체의 기능들은 하나의 AMF로 동작 하는 단일 AMF 인스턴스(instance) 내에서 지원될 수 있다. DN은 예를 들어, 운영자 서비스, 인터넷 접속 또는 서드파티(3rd party) 서비스 등을 의미할 수 있다. DN은 UPF로 하향링크 프로토콜 데이터 유닛(protocol data unit, PDU)을 전송하거나, UE로부터 전송된 PDU를 UPF를 통해 수신할 수 있다. PCF는 어플리케이션 서버로부터 패킷 흐름에 대한 정보를 수신하여, 이동성 관리, 세션 관리 등의 정책을 결정하는 기능을 제공할 수 있다. 구체적으로, PCF는 네트워크 동작을 통제하기 위한 단일화된 정책 프레 임워크 지원, 제어평면 기능(들)(예를 들어, AMF, SMF 등)이 정책 규칙을 시행할 수 있도록 정책 규칙 제공, 사 용자 데이터 저장소(user data repository, UDR) 내 정책 결정을 위해 관련된 가입 정보에 액세스하기 위한 프 론트 엔드(front end) 구현 등의 기능을 지원할 수 있다. SMF는 세션 관리 기능을 제공하며, UE가 다수 개의 세션을 가지는 경우 각 세션 별로 서로 다른 SMF에 의 해 관리될 수 있다. 구체적으로, SMF는 세션 관리(예를 들어, UPF와 AN 노드 간의 터널(tunnel) 유지를 포 함하여 세션 확립, 수정 및 해지), UE IP 주소 할당 및 관리(선택적으로 인증 포함), UP 기능의 선택 및 제어, UPF에서 트래픽을 적절한 목적지로 라우팅하기 위한 트래픽 스티어링(traffic steering) 설정, 정책 제어 기능 (policy control functions)를 향한 인터페이스의 종단, 정책 및 QoS(quality of service)의 제어 부분 시행, 합법적 감청(lawful intercept)(SM 이벤트 및 LI 시스템으로의 인터페이스에 대한), NAS 메시지의 SM 부분의 종 단, 하향링크 데이터 통지(downlink data notification), AN 특정 SM 정보의 개시자(AMF를 경유하여 N2를 통해 AN에게 전달), 세션의 SSC 모드 결정, 로밍 기능 등의 기능을 지원할 수 있다. 앞에서 설명한 바와 같이 SMF의 일부 기능(들) 또는 전체의 기능들은 하나의 SMF로 동작하는 단일 SMF 인스턴스(instance) 내에서 지원될 수 있다. UDM은 사용자의 가입 데이터, 정책 데이터 등을 저장할 수 있다. UDM은 2개의 부분, 즉 어플리케이션 프론트 엔드(front end, FE)(미도시) 및 사용자 데이터 저장소(user data repository, UDR)(미도시)를 포함할 수 있다. FE는 위치 관리, 가입 관리, 자격 증명(credential)의 처리 등을 담당하는 UDM FE와 정책 제어를 담당하는 PCF- FE를 포함할 수 있다. UDR은 UDM-FE에 의해 제공되는 기능들을 위해 요구되는 데이터와 PCF에 의해 요구되는 정 책 프로필을 저장할 수 있다. UDR 내 저장되는 데이터는 가입 식별자, 보안 자격 증명(security credential), 액세스 및 이동성 관련 가입 데이터 및 세션 관련 가입 데이터를 포함하는 사용자 가입 데이터와 정책 데이터를 포함할 수 있다. UDM-FE는 UDR에 저장된 가입 정보에 액세스하고, 인증 자격 증명 처리(authentication credential processing), 사용자 식별자 핸들링(user identification handling), 액세스 인증, 등록/이동성 관 리, 가입 관리, SMS 관리 등의 기능을 지원할 수 있다. UPF는 DN으로부터 수신한 하향링크 PDU를 (R)AN을 경유하여 UE에게 전달하며, (R)AN(10 2)을 경유하여 UE로부터 수신한 상향링크 PDU를 DN으로 전달할 수 있다. 구체적으로, UPF는 인 트라(intra)/인터(inter) RAT 이동성을 위한 앵커 포인트, 데이터 네트워크(Data Network)로의 상호연결 (interconnect)의 외부 PDU 세션 포인트, 패킷 라우팅 및 포워딩, 패킷 검사(inspection) 및 정책 규칙 시행의 사용자 평면 부분, 합법적 감청(lawful intercept), 트래픽 사용량 보고, 데이터 네트워크로의 트래픽 플로우의 라우팅을 지원하기 위한 상향링크 분류자(classifier), 멀티-홈(multi-homed) PDU 세션을 지원하기 위한 브랜치 포인트(branching point), 사용자 평면을 위한 QoS 핸들링(handling)(예를 들어 패킷 필터링, 게이팅(gating), 상향링크/하향링크 레이트 시행), 상향링크 트래픽 검증 (서비스 데이터 플로우(service data flow, SDF)와 QoS 플로우 간 SDF 매핑), 상향링크 및 하향링크 내 전달 레벨(transport level) 패킷 마킹, 하향링크 패킷 버퍼링 및 하향링크 데이터 통지 트리거링 기능 등을 지원할 수 있다. 이러한 UPF의 일부 기능(들) 또는 전체의 기능들은 하나의 UPF로 동작하는 단일 UPF 인스턴스(instance) 내에서 지원될 수 있다. AF는 서비스 제공(예를 들어, 트래픽 라우팅 상에서 어플리케이션 영향, 네트워크 능력 노출(network capability exposure)에 대한 접근, 정책 제어를 위한 정책 프레임워크와의 상호동작 등의 기능을 지원)을 위해 3GPP 코어 네트워크와 상호 동작할 수 있다. (R)AN은 4G 무선 액세스 기술의 진화된 버전인 진화된 E-UTRA(evolved E-UTRA)와 새로운 무선 액세스 기 술(new radio, NR)(예를 들어, gNB)을 모두 지원하는 새로운 무선 액세스 네트워크를 총칭할 수 있다. gNB은 무선 자원 관리를 위한 기능들(즉, 무선 베어러 제어(radio bearer control), 무선 허락 제어(radio admission control), 연결 이동성 제어(connection mobility control), 상향링크/하향링크에서 UE에게 자원의 동적 할당(dynamic allocation of resources)(즉, 스케줄링)), IP(internet protocol) 헤더 압축, 사용자 데이 터 스트림의 암호화(encryption) 및 무결성 보호(integrity protection), UE에게 제공된 정보로부터 AMF로의 라우팅이 결정되지 않는 경우, UE의 어태치(attachment) 시 AMF의 선택, UPF (들)로의 사용자 평면 데이터 라우팅, AMF로의 제어 평면 정보 라우팅, 연결 셋업 및 해지, 페이징 메시지 의 스케줄링 및 전송(AMF로부터 발생된), 시스템 브로드캐스트 정보의 스케줄링 및 전송(AMF 또는 운영 및 유지 (operating and maintenance, O&M)로부터 발생된), 이동성 및 스케줄링을 위한 측정 및 측정 보고 설정, 상향 링크에서 전달 레벨 패킷 마킹(transport level packet marking), 세션 관리, 네트워크 슬라이싱(network slicing)의 지원, QoS 흐름 관리 및 데이터 무선 베어러로의 매핑, 비활동 모드(inactive mode)인 UE의 지원, NAS 메시지의 분배 기능, NAS 노드 선택 기능, 무선 액세스 네트워크 공유, 이중 연결성(dual connectivity), NR과 E-UTRA 간의 밀접한 상호동작(tight interworking) 등의 기능을 지원할 수 있다. UE는 사용자 기기를 의미할 수 있다. 사용자 장치는 단말(terminal), ME(mobile equipment), MS(mobile station) 등의 용어로 언급될 수 있다. 또한, 사용자 장치는 노트북, 휴대폰, PDA(personal digital assistant), 스마트폰, 멀티미디어 기기 등과 같이 휴대 가능한 기기일 수 있고, 또는 개인용 컴퓨터(personal computer, PC), 차량 탑재 장치와 같이 휴대 불가능한 기기일 수도 있다. 이하에서는 사용자 장치(UE) 또는 단 말로 지칭하여 설명할 것이다. 도 1에서는 설명의 명확성을 위해, 네트워크 노출 기능(network exposure function, NEF) 장치 및 NF 저장소 기능(NF repository function, NRF) 장치가 도시되지 않았으나, 후술할 도 2 내지 도 5에 도시된 모든 NF들은 필요에 따라 NEF 및 NRF와 상호 동작을 수행할 수 있다. NRF에 대하여 살펴보기로 한다. NRF(도 1에 미도시)는 서비스 디스커버리 기능을 지원할 수 있다. 제1 NF 인스 턴스로부터 제2 NF 디스커버리 요청을 수신하는 경우, 제2 NF 발견 동작을 수행한 후 발견된 제2 NF 인스턴스의 정보를 제1 NF 인스턴스에게 제공할 수 있다. 또한, 이용 가능한 NF 인스턴스들과 그들이 지원하는 서비스를 유 지할 수 있다. 한편, 도 1에서는 설명의 편의상 UE가 하나의 PDU 세션을 이용하여 하나의 DN에 엑세스하는 경우에 대한 참조 모델을 예시하나, 본 개시는 이에 한정되지 않는다. UE는 다중의 PDU 세션을 이용하여 2개의(즉, 지역적(local) 그리고 중심이 되는(central)) 데이터 네트워 크에 동시에 액세스할 수 있다. 이때, 서로 다른 PDU 세션을 위해 2개의 SMF들이 선택될 수 있다. 다만, 각 SMF 는 PDU 세션 내 지역적인 UPF 및 중심이 되는 UPF를 모두 제어할 수 있는 능력을 가질 수 있다. 또한, UE는 단일의 PDU 세션 내에서 제공되는 2개의(즉, 지역적인 그리고 중심이 되는) 데이터 네트워크에 동시에 액세스할 수도 있다. 5GC의 제어 평면(control plane) 구성 요소들은 가상화된 네트워크 기능(VNF: Virtualized Network Function) 들로 간주될 수 있으며, 상기 VNF들간의 간의 통신은 RESTful 기반의 API 교환으로 하나의 VNF가 다른 VNF들에 게 서비스를 제공하는 것으로 간주할 수 있다. 상기 VNF간의 API 기반 통신 인터페이스를 SBI (Service Based Interface)라 한다. 3GPP 시스템에서는 5G 시스템 내 NF들 간을 연결하는 개념적인 링크를 참조 포인트(reference point)라고 정의 한다. 다음은 도 1에서 표현된 5G 시스템 아키텍처에 포함되는 참조 포인트를 예시하며, 5G 시스템 아키텍처에 는 이하에서 설명되는 참조 포인트 이외의 더 많은 참조 포인트들이 정의될 수 있다. - N1: UE와 AMF 간의 참조 포인트 - N2: (R)AN과 AMF 간의 참조 포인트 - N3: (R)AN과 UPF 간의 참조 포인트 - N4: SMF와 UPF 간의 참조 포인트 - N5: PCF와 AF 간의 참조 포인트 - N6: UPF와 데이터 네트워크 간의 참조 포인트 - N7: SMF와 PCF 간의 참조 포인트 - N8: UDM과 AMF 간의 참조 포인트 - N9: 2개의 코어 UPF들 간의 참조 포인트 - N10: UDM과 SMF 간의 참조 포인트 - N11: AMF와 SMF 간의 참조 포인트 - N12: AMF와 AUSF 간의 참조 포인트 - N13: UDM과 인증 서버 기능(authentication server function, AUSF) 간의 참조 포인트 - N14: 2개의 AMF들 간의 참조 포인트 - N15: 비-로밍 시나리오의 경우, PCF와 AMF 간의 참조 포인트, 로밍 시나리오의 경우 방문 네트워크(visited network) 내 PCF와 AMF 간의 참조 포인트 이하의 설명에서 단말은 UE를 의미할 수 있으며, UE 또는 단말의 용어가 혼용되어 사용될 수 있다. 이런 경우 특별히 단말을 부가적으로 정의하지 않는 한 UE로 이해되어야 한다. 단말은 5G 시스템을 통해 데이터 네트워크(예를 들면, 인터넷 서비스를 제공하는 네트워크)에 접속하여 세션을 수립하게 되는데, DNN(Data Network Name) 이라는 식별자를 이용하여 각각의 데이터 네트워크를 구별할 수 있다. DNN은 단말이 네트워크 시스템과 세션을 연결함에 있어서 사용자 평면(user plane)과 관련된 NF, NF간 인 터페이스, 사업자 정책 등을 결정하는데 사용될 수 있다. 상기 DNN은 예를 들어 PDU 세션에 대해 SMF와 UPF (들)을 선택하는데 이용될 수 있으며, PDU 세션에 대해 데이터 네트워크와 UPF 간의 인터페이스(예컨대, N6 인 터페이스)(들)을 선택하는데 이용될 수 있다. 또한 상기 DNN은 PDU 세션에 적용하기 위한 이동 통신 사업자의 정책(policy)을 결정하는데 이용될 수 있다. 도 2는 본 개시의 다양한 실시 예에 따른 IMS(IP(internet protocol) multimedia subsystem) 네트워크 구조를 도시한 도면이다. 도 2를 참조하면, UE (User Equipment)는 IM CN (IP Multimedia Core Network) 서브시스템(Subsystem)을 통하여 원격 IMS 네트워크에 위치한 다른 UE(미도시) 및 IM CN 서브시스템 구성 요소와 통신할 수 있다. 상기 IM CN 서브시스템은 P-CSCF , I/S-CSCF , IMS AS , IMS HSS , IMS AGW , 및/ 또는 MRF 를 포함할 수 있으며, 상기 구성 요소들은 다음과 같은 기능을 수행할 수 있다. - P-CSCF (Proxy Call Session Control Function): P-CSCF는 UE가 IMS에 접속하기 위한 첫번째 접촉점 (Contact Point) 기능을 수행할 수 있다. - I/S-CSCF (Interrogating/Serving CSCF): I-CSCF는 네트워크 사업자의 가입자 혹은 현재 상기 네트워크 사업자의 서비스 영역에 위치한 로밍 사용자에 대한 접촉점 기능을 수행할 수 있다. S-CSCF는 네트워크의 실제 사용자 세션 상태(state)에 대처할 수 있다. - IMS AS (Application Server): IMS AS는 IM (Internet Multimedia) 부가가치(value added) 서비스를 제공하고 실행할 수 있다. 또한, IMS AS는 사업자 네트워크에서 지원되는 서비스를 대행하여 SIP (Session Initiation Protocol) 세션에 영향을 줄 수 있다. - IMS HSS (Home Subscriber Server): IMS HSS는 사용자에 대한 정보를 저장하는 데이터베이스 역할을 수 행할 수 있다. - IMS-AGW (Access Gateway): IMS-AGW는 미디어 전송 경로에 위치하여 착신(inbound) 및 발신(outbound) 미디어 스트림에 연관된 네트워크 주소를 관리할 수 있다. - MRF (Media Resource Function): MRF는 미디어 스트림과 관련된 다양한 프로세싱 작업을 수행할 수 있 다. MRF는 제어를 담당하는 MRFC (Multimedia Resource Function Controller)와 미디어 프로세싱을 담당하는 MRFP (Multimedia Resource Function Processor)로 나누어질 수 있다. 도 2를 참조하면, 상기 구성 요소들 간의 인터페이스는 다음의 참조점 (reference point)들로 표현될 수 있다. - Gm: 참조점 Gm은 UE와 IM CN 서브시스템 간의 통신을 지원할 수 있다. 일 예로 UE는 상기 Gm 참조점을 통하여 네트워크 등록(registration)과 세션 제어를 요청할 수 있다. 상기 Gm 참조점을 위하여 후술할 SIP가 사용될 수 있다. - Mw: 참조점 Mw는 CSCF간의 시그널링 메시지 교환 및 전송을 지원할 수 있다. - ISC: 참조점 ISC는 S-CSCF와 서비스 플랫폼(일 예로 IMS AS)간의 상기 서비스 플랫폼이 제공하는 서비스에 필 요한 정보 교환을 지원할 수 있다. - Sh: 참조점 Sh는 HSS와 서비스 플랫폼(일 예로 IMS AS)간의 상기 서비스 플랫폼이 제공하는 서비스에 필요한 정보 교환을 지원할 수 있다. - Cx: 참조점 Cx는 HSS와 CSCF간의 정보 전송을 지원할 수 있다. - Mr'/Cr: 참조점 Mr'은 IMS AS와 MRFC간의 세션 제어를 위한 상호 작용을 지원할 수 있으며, 참조점 Cr은 IMS AS와 MRFC간의 미디어 제어를 위한 상호 작용을 지원할 수 있다. - Iq: 참조점 Iq는 P-CSCF와 IMS AGW간의 전송 주소(transport address)의 할당(allocation) 및 해제(releas e)에 필요한 정보 교환을 지원할 수 있다. - Mb: 참조점 Mb는 IMS 구성 요소들 간의 IMS 미디어 전송을 지원할 수 있다. 도 2를 참조하면, SBI(Service Based Interface)를 지원하는 P-CSCF 는 PCF (Policy Control Function)와 통신할 수 있다. P-CSCF 와 PCF 간의 인터페이스는 참조점 N5로 나타낼 수 있다. 상기 PCF는 네트워크 동작을 관리하기 위한 정책 수립 및 배포를 지원할 수 있으며, 상기 SBI를 지원하는 P-CSCF 는 PCF가 다른 VNF에게 제공하는 서비스를 사용하는 응용 기능(AF: Application Function)으 로 간주될 수 있다. SBI를 지원하는 HSS 는 참조점 N70을 통하여 SBI를 지원하는 I/S-CSCF 와 통신할 수 있으며, 참조점 N71을 통하여 SBI를 지원하는 IMS AS 과 통신할 수 있다. 마찬가지로, 상기 SBI를 지원하는 I/S-CSCF 와 SBI를 지원하는 IMS AS 는 SBI를 지원하는 HSS 가 제공하는 서비스를 사용하는 AF로 간주할 수 있으며, 상기 참조점 N70과 N71로 제공되는 기능은 각각 참조점 Cx와 참조점 Sh로 제공되는 기능과 동등 (equivalent)할 수 있다. 상기 SIP는 인터넷상에서 통신하고자 하는 지능형 단말들이 서로를 식별하여 그 위치를 찾고, 그들 상호간에 멀 티미디어 통신 세션을 생성하거나 삭제/변경하기 위한 절차를 명시한 응용 계층의 시그널링 프로토콜일 수 있다. SIP는 인터넷 기반 회의, 전화, 음성 메일, 이벤트 통지, 인스턴트 메시징 등 멀티미디어 서비스 세션의 생성과 수정, 종료를 제어하는 request/response 구조로서 TCP와 UDP에 모두 사용할 수 있으며, 각 사용자들을 구분하기 위해 이메일 주소와 비슷한 SIP URL을 사용함으로써 IP주소에 종속되지 않고 서비스를 제공받을 수 있 다. SIP는 HTTP와 SMTP의 많은 부분을 그대로 사용하여 개발된 텍스트 기반이므로 구현이 용이하며, 인터넷에서 사용되는 다른 많은 프로토콜과 결합하여 다양한 서비스들을 만들 수 있는 유연성과 확장성이 있을 수 있다. SIP는 ITU-T의 H.323에 대응되는 보다 간편한 프로토콜로서 1999년에 IETF MMUSIC (Multiparty Multimedia Session Control) 워킹그룹에 의해 RFC 2543으로 제안된 이후 별도로 분리된 ITEF SIP 워킹그룹에서 개정작업을 진행하여 2002년 7월 RFC3261 표준이 제정되었다. 본 개시의 다양한 실시 예에 따른 통신 시스템에서 서비스(예컨대, 실시간 상호 작용 서비스)를 제공하기 위해 서는 상기 서비스에 참여하는 사용자 UE 간에 상기 서비스를 구성하는 미디어 세션에 대한 합의가 있어야 한다. 본 개시의 다양한 실시 예에 따른 통신 시스템은 서비스(예컨대, 실시간 상호 작용 서비스)를 제공하기 위해, SDP(Session Description Protocol) 협상을 통하여 상기 미디어 세션에 대한 합의를 수행할 수 있다. 상기 SDP는 SIP 메시지에 포함될 수 있다. 상기 SDP는 멀티미디어 세션 및 관련 스케줄 정보를 기술하기 (describe) 위한 아스키 문장 기반의 프로토콜일 수 있다. SDP는 세션에 가담할 수 있도록 멀티미디어 세션의 미디어 스트림에 관한 정보를 전달하는 것일 수 있으며, 멀티미디어 세션은 지속 시간 동안 일단의 미디어 스트 림으로 정의될 수 있고, 세션이 진행되는 시간은 연속적일 필요는 없을 수 있다. 인터넷상 멀티캐스트 기반의 세션은 기본적으로 세션의 존재와 시간을 알리는 수단과 세션의 가담 정보를 전달하는 수단의 2가지 목적이 있 을 수 있고, 유니캐스트 환경에서는 후자가 목적일 수 있다. SDP 정보 내용은 세션의 이름과 목적, 세션 진행 시간, 세션 구성 매체, 매체 수신 정보 등을 포함할 수 있다.이하에서는, 통신 시스템에서 제공되는 서비스가 실시간 상호 작용 서비스인 것으로 가정하고 본 개시의 다양한 실시 예들을 설명하지만, 이에 한정되지 않는다. 도 3는 본 개시의 다양한 실시 예에 따른 통신 시스템에서 데이터 채널 서버를 포함하는 네트워크 구조의 예를 도시한 도면이다. 본 개시의 다양한 실시 예에 따른 통신 시스템에서 서비스(예컨대, 실시간 상호 작용 서비스)를 제공하기 위한 웹 응용은 데이터 채널 응용 서버(Data Channel Application Server, DCAS)로부터 제공될 수 있다. 상기 데이 터 채널 응용 서버는 IMS 사업자 네트워크 혹은 서드 파티(3rd party) 네트워크에 위치할 수 있다. 본 개시에서, 상기 데이터 채널 응용 서버가 제공하는 웹 응용은 데이터 채널 응용 (Data Channel Application, DCA)으로 지칭될 수 있다. 상기 데이터 채널 응용이 제공하는 서비스(예컨대, 실시간 상호 작용 서비스)에 참여 하는 단말은 동일한 서비스에 참여하는 다른 단말과 데이터 채널(Data Channel, DC)을 사용하여 상기 서비스가 요구하는 데이터를 직접 혹은 중간 노드를 거쳐 교환할 수 있으며, 부트스트랩 데이터 채널(Bootstrap Data Channel, BDC)을 사용하여 상기 데이터 채널 응용 서버와 통신할 수 있다. 도 3의 (a)를 참조하면, 통신 시스템은 UE 및 IM CN 서브시스템을 포함할 수 있다. UE는 IM CN 서브 시스템을 통해 원격 IMS 네트워크에 위치한 다른 UE 및 IM CN 서브시스템의 구성 요소들과 통신할 수 있다. 상기 IM CN 서브시스템은 P-CSCF , I/S-CSCF , IMS AS IMS HSS , IMS AGW , 데이터 채널 시그널링 기능(Data Channel Signaling Function, DCSF), 데이터 채널 미디어 기능(Data Channel Media Function, DCMF), NEF, 데이터 채널 응용 서버(Data Channel Application Server) 및/또는 데이터 채널 응용 저장소(Data Channel Application Repository, DCAR)를 포함할 수 있다. 상기 데이터 채널 시그널링 기능은 다음의 기능을 수행할 수 있다: - 부트스트랩 데이터 채널을 포함하는 데이터 채널의 관리 및 제어. - IMS AS와의 통신을 통한 데이터 채널 관리 및 이벤트 생성/수신 - 데이터 채널 응용의 관리 및 배포 제어 - 데이터 채널 응용 서비스 제공을 위한 5G 네트워크 기능(NF)과의 통신 - 데이터 채널 응용 서버의 리소스 배포를 위한 프록시 역할 상기 데이터 응용 저장소는 데이터 채널 응용을 저장 및 관리할 수 있으며, 상기 데이터 채널 서버의 내부 혹은 외부에 위치할 수 있다. 도 3의 (a) 및 (b)를 참조하면, 상기 데이터 채널 미디어 기능과 MRF는 다음의 기능을 수행할 수 있 다: - 부트스트랩 데이터 채널을 포함하는 데이터 채널로 전송될 미디어 리소스 관리 및 제어 - 단말과 연결된 데이터 채널의 종단점 및 다른 종단점과의 데이터 교환을 위한 프록시 역할 상기 데이터 채널 미디어 기능과 MRF는 서로 다른 인터페이스로 동등한 기능을 제공할 수 있으며, 사 업자는 다른 네트워크 장비 및 사용자 단말과의 호환성을 고려하여 상기 데이터 채널 미디어 기능과 상기 MRF 중 하나만을 상기 데이터 채널 서버에 포함하거나, 둘 모두를 포함할 수 있다. 도 4는 본 개시의 다양한 실시 예에 따른 통신 시스템에서 IMS 세션의 미디어 타입의 전환의 예를 도시한 도면 이다. 도 4를 참조하면, User#1과 User#2는 IMS 및 5GC를 통해 IMS MMTel(Multi Media Telephony) 세션을 수립하여 멀티미디어 서비스를 사용할 수 있다. 예를 들어 User#1의 UE와 User#2의 UE는 avatar 미디어 데이터를 송신 및 /또는 수신하는 IMS 세션을 수립하여, 아바타 통신을 수행할 수 있다. IMS MMTel 세션은 네트워크 조건의 변화, 사용자의 선택, 사용자 디바이스(예: UE)의 상태에 따라 송신 및/또는 수신하는 미디어 데이터의 종류를 변경할 수 있다. 예를 들어, 상기 User#1의 UE와 User#2의 UE 사이에 수립된 avatar 미디어 데이터를 송신 및/또는 수 신하는 IMS 세션의 사용 중에 네트워크 환경에 변경이 생겨서, avatar 미디어 데이터의 송신 및/또는 수신 보다 는 video 미디어 데이터의 송신 및/또는 수신에 적합한 정도의 네트워크 자원이 허용되는 상태가 발생하면, IMS 및 5GC는 video 미디어 데이터를 송신 및/또는 수신하는 IMS 세션으로 변경할 수 있다. 다시 말해, IMS 세션의미디어 타입이 avatar에서 video로 변경/전환될 수 있다. 도 4에서는 avatar와 video 미디어 타입 간의 전환을 설명하고 있으나 이에 한정하지 않는다. 예를 들어, avatar, video, audio, 또는 text 중 적어도 하나가 IMS 세 션의 미디어 타입에 포함될 수 있다. 도 5는 본 개시의 다양한 실시 예에 따른 통신 시스템에서 IMS 세션의 미디어 타입의 전환을 지원하는 모바일 발신(Mobile origination) 절차를 나타낸 도면이다. 도 5를 참조하면, 단말은 다음과 같은 절차를 통해 미디어 타입의 전환을 지원하는 IMS 세션을 수립할 수 있다. 1. UE는 사용자 상호작용, 단말의 미디어 처리 능력, 네트워크의 요청, 및/또는 단말 상태에 기반하여 IMS 세션 중에 미디어 타입의 전환을 수행할 수 있는지(UE capability) 여부를 판단할 수 있다. 2. UE는 SDP Offer가 포함된 SIP INVITE 요청을 P-CSCF에게 송신할 수 있다. 상기 P-CSCF는 CSCF 탐색 (discovery) 메커니즘에 의해 결정될 수 있다. 상기 SDP Offer는 하나의 멀티미디어 세션에 대하여 하나 또는 그 이상의 미디어를 표현할 수 있다. 예를 들어, 오디오, 비디오, 및/또는 세션 중 전환 가능한 미디어를 포함 할 수 있다. 세션 중 전환 가능한 미디어의 예로는 오디오, 비디오, 텍스트, 아바타 미디어가 있을 수 있다. 상 기 SDP Offer에는 오디오, 비디오, 및 또는 세션 중 전환 가능한 미디어(예: 아바타), UE의 미디어 타입 전환 지원 여부 지시자(Indication of UE Support of media type transition) 중 적어도 하나가 포함될 수 있다. UE 는 상기 단계 1에서 사용자 상호작용, 단말의 미디어 처리 능력, 네트워크의 요청, 및/또는 단말 상태에 기반하 여 IMS 세션 중에 미디어 타입의 전환을 수행할 수 있는 것으로 판단한 경우, 상기 UE의 미디어 타입 전환 지원 여부 지시자를 SDP Offer에 포함시킬 수 있다. 3. P-CSCF는 상기 단계 2의 SIP INVITE 요청을 다음 홉(hop) CSCF 에게 전달할 수 있다. P-CSCF는 UE를 위한 다음 홉 CSCF를 기억하고 있을 수 있다. 예를 들어, P-CSCF는 등록 절차를 통해 다음 홉 CSCF를 기억하고 있을 수 있다. 상기 다음 홉 CSCF는 S-CSCF 또는 방문 UE를 담당하는 S-CSCF일 수 있다. 4. S-CSCF는 서비스 제어를 수행할 수 있다. 상기 서비스 제어에는 멀티미디어 서비스와 관련된 사용자의 가입 자 정보를 기반으로 상기 요청된 SDP를 허가하는 과정이 포함될 수 있다. 상기 멀티미디어 서비스에는 IMS 세션 중 미디어 타입의 전환을 지원하는 서비스가 포함될 수 있다. 4a. S-CSCF는 사용자 또는 단말의 요청, 네트워크 상태, 및/또는 어플리케이션의 요청에 기반하여 IMS 세션 중 에 미디어 타입의 전환을 수행할 수 있는지(network capability) 여부를 판단할 수 있다. S-CSCF는 다음 중 적 어도 하나의 동작을 수행할 수 있다: - S-CSCF는 상기 단계 3에서 UE의 미디어 타입 전환 지원 여부 지시자(Indication of UE Support of media type transition)를 수신한 경우, 상기 network capability를 판단할 수 있다. - S-CSCF는 상기 단계 3에서 UE의 미디어 타입 전환 지원 여부 지시자(Indication of UE Support of media type transition)를 수신하지 않았더라도, 상기 network capability를 판단할 수 있다. 예를 들어, S-CSCF는 상기 단계 3의 SDP Offer에 세션 중 전환 가능한 미디어(예: 아바타)가 포함된 경우, 상기 UE의 지시자를 수신 하지 않았더라도, network capability를 판단할 수 있다. - S-CSCF는 상기 단계 3에서 UE의 미디어 타입 전환 지원 여부 지시자(Indication of UE Support of media type transition)를 수신하지 않았지만 단계 6에서 착신 단말 및/또는 착신 네트워크의 미디어 타입 전환 지원 여부에 대한 정보를 수신한 경우, 단계 6 이후에 단계 4a에 해당하는 동작을 수행할 수 있다. 5. S-CSCF는 상기 단계 3의 SIP INVITE 요청을 착신 네트워크에 전달할 수 있다. S-CSCF는 다음 중 적어도 하나 의 동작을 수행할 수 있다: - S-CSCF는 상기 단계 4a에서 네트워크가 사용자 또는 단말의 요청, 네트워크 상태, 및/또는 어플리케이션의 요 청에 기반하여 IMS 세션 중에 미디어 타입의 전환을 수행할 수 없는 것으로 판단되면, 상기 단계 3의 SIP INVITE 요청 내용에서 UE의 미디어 타입 전환 지원 여부 지시자(Indication of UE Support of media type transition)를 뺀 SIP INVITE 요청 메시지를 착신 쪽에 전달할 수 있다. - S-CSCF는 상기 단계 4a에서 네트워크가 사용자 또는 단말의 요청, 네트워크 상태, 및/또는 어플리케이션의 요 청에 기반하여 IMS 세션 중에 미디어 타입의 전환을 수행할 수 없는 것으로 판단하였더라도 오디오, 비디오, 및 또는 세션 중 전환 가능한 미디어(예: 아바타), UE의 미디어 타입 전환 지원 여부 지시자(Indication of UE Support of media type transition) 중 적어도 하나가 포함된 SIP INVITE 요청 메시지를 착신 쪽에 전달할 수있다. 6. 착신 네트워크는 상기 Offer에 대한 응답을 제공할 수 있다. 상기 응답에는 종착지의 미디어 스트림 능력이 포함될 수 있다. 예를 들어, 오디오, 비디오, 세션 중 전환 가능한 미디어(예: 아바타)에 대한 미디어 스트림 능력이 있는지 여부가 포함될 수 있다. 상기 응답에는 착신 UE의 사용자 상호작용, 단말의 미디어 처리 능력, 네트워크의 요청, 및/또는 단말 상태에 기반하여 IMS 세션 중에 미디어 타입의 전환을 수행할 수 있는지(UE capability) 여부, 착신 네트워크의 사용자 또는 단말의 요청, 네트워크 상태, 및/또는 어플리케이션의 요청에 기반하여 IMS 세션 중에 미디어 타입의 전환을 수행할 수 있는지(network capability) 여부 중 적어도 하나에 대한 지시자가 포함될 수 있다. 7. S-CSCF는 P-CSCF에게 상기 Offer 응답을 전달할 수 있다. 8. P-CSCF는 QoS 자원 허가를 수행할 수 있다. 상기 QoS 자원 허가에는 PCRF 또는 PCF에게 현재 세션에 필요한 자원의 허가를 지시(instruct)하는 동작이 포함될 수 있다. P-CSCF는 PCRF 또는 PCF에게 다음 중 적어도 하나를 보고할 것을 요청할 수 있다: - 현재 세션을 구성하는 미디어 스트림(예를 들어, 오디오, 비디오, 세션 중 전환 가능한 미디어(예: 아바타)에 대한 미디어 스트림)을 위한 QoS 목표(target)가 현재 네트워크에서 충족될 수 없게 되는 경우 (또는 다시 충족 될 수 있게 된 경우) - 현재 세션의 미디어 타입의 전환이 필요한지 여부 - 현재 세션의 미디어 타입을 어떤 미디어 타입으로 전환할 것인지에 대한 정보(예를 들어, 현재 세션의 미디어 타입이 '아바타'인데, '비디오'로 전환하려는 경우, '비디오'를 보고할 수 있다) 9. P-CSCF는 UE에게 상기 단계 6의 Offer Response와 상기 단계 8의 PCF의 응답에 기반한 Offer Response를 전 달할 수 있다. 10. UE는 현재 세션에 제안된 미디어 스트림의 세트에 대한 결정을 할 수 있으며, 상기 Offer 응답을 수신하였 음을 확인할 수 있다. UE는 P-CSCF에게 응답 확인(Response Confirmation)을 보낼 수 있다. 상기 응답 확인 메 시지는 상기 단계 9에서 수신한 SDP와 동일한 SDP 또는 그 일부를 포함한 SDP일 수 있다. 만약 상기 응답 확인 에 포함된 SDP가 새로운 미디어를 정의한 경우(다시 말해, 상기 단계 9에서 수신한 Offer 응답의 SDP에 포함된 미디어 스트림과는 다른 미디어 스트림을 제안하는 경우), 상기 단계 8에 해당하는 절차가 수행될 수 있으며, 이 절차는 단계 15 이후에 수행될 수 있다. 11. IP-CAN 세션에 필요한 자원 예약이 수행될 수 있다. 12. P-CSCF는 상기 응답 확인을 S-CSCF에게 전달할 수 있다. 13. S-CSCF는 상기 응답 확인을 착신 네트워크에 전달할 수 있다. 14. 착신 네트워크는 상기 응답 확인 수신에 대한 Acknowledgement를 보낼 수 있다. 15. S-CSCF는 상기 응답 확인 수신에 대한 Acknowledgement를 P-CSCF에게 전달할 수 있다. 16. P-CSCF는 상기 응답 확인 수신에 대한 Acknowledgement를 UE에게 전달할 수 있다. 17. IP-CAN 자원 예약이 완료되면, UE는 성공 결과가 포함된 자원 예약(Resource Reservation) 메시지 또는 예 약 확인(Reservation Confirmation) 메시지를 보낼 수 있다. 18. P-CSCF는 상기 자원 예약 또는 예약 확인 메시지를 S-CSCF에게 전달할 수 있다. 19. S-CSCF는 상기 자원 예약 또는 예약 확인 메시지를 착신 네트워크에게 전달할 수 있다. 20. 착신 네트워크의 UE를 위한 IP-CAN 자원 예약이 완료되면, 착신 네트워크 UE는 성공 결과가 포함된 자원 예 약 또는 예약 확인 메시지를 보낼 수 있다. 21. S-CSCF는 상기 착신 네트워크로부터 수신한 자원 예약 또는 예약 확인 메시지를 P-CSCF에게 전달할 수 있다. 22. P-CSCF는 상기 착신 네트워크로부터 수신한 자원 예약 또는 예약 확인 메시지를 UE에게 전달할 수 있다. 23. 착신 UE는 링잉(ringing) 신호(착신 단말에 통화연결음이 울리게 된다)를 생성하여 S-CSCF에게 전달할 수 있다. 24. S-CSCF는 상기 링잉 신호를 P-CSCF에게 전달할 수 있다. 25. P-CSCF는 상기 링잉 신호를 UE에게 전달할 수 있다. 26. UE는 발신 사용자에게 착신 사용자의 단말기에 통화연결음이 울리고 있음을 알릴 수 있다. 27. 착신 사용자가 통화를 수신하면 SIP 200-OK 메시지가 전달될 수 있다. 28. S-CSCF는 상기 SIP 200-OK 메시지를 P-CSCF에게 전달할 수 있다. 29. P-CSCF는 현재 세션을 위해 허가된 미디어 플로우들을 enable 시킬 것을 지시(indicate)할 수 있다. 허가된 미디어 플로우에는 오디오, 비디오, 세션 중 전환 가능한 미디어(예: 아바타)에 대한 미디어 중 적어도 하나가 포함될 수 있다. 30. P-CSCF는 상기 SIP 200-OK 메시지를 UE에게 전달할 수 있다. 31. UE는 현재 세션을 위한 미디어 플로우를 시작할 수 있다. 현재 세션을 위한 미디어 플로우에는 오디오, 비 디오, 세션 중 전환 가능한 미디어(예: 아바타)에 대한 미디어 중 적어도 하나가 포함될 수 있다. 32. UE는 SIP 200-OK 메시지에 대한 Acknowledgement를 P-CSCF에게 제공할 수 있다. 33. P-CSCF는 상기 UE가 응답한 SIP 200-OK 메시지에 대한 Acknowledgement를 S-CSCF에게 전달할 수 있다. 34. S-CSCF는 상기 UE가 응답한 SIP 200-OK 메시지에 대한 Acknowledgement를 착신 UE에게 제공할 수 있다. 물론, 상술된 절차들로 제한되는 것은 아니다. 상술된 절차들 중 적어도 하나의 절차가 생략될 수 있다. 또는 상술된 절차들 중 일부는 병합될 수 있으며, 새로운 절차가 추가되어 상술된 절차들과 유기적으로 결합될 수도 있다. 도 6은 본 개시의 다양한 실시 예에 따른 통신 시스템에서 IMS 세션의 미디어 타입의 전환을 지원하는 정책 제 어 및 과금(Policy Control and Charging, PCC) 관련 절차를 나타낸 도면이다. 도 5와 중복되는 내용의 설명은 생략되었을 수 있다. 도 6은 도 5의 단계 8에서 기술한 P-CSCF와 PCRF/PCF의 시 그널링 상호작용과 관련된 절차를 중심으로 설명될 수 있다. 다만, 사용된 메시지의 명칭은 달라질 수 있다. 도 6을 참조하면, 단말 및 네트워크는 단말은 다음과 같은 절차를 통해 미디어 타입의 전환을 지원하는 PCC 절 차를 수행할 수 있다. 1. UE는 사용자 상호작용, 단말의 미디어 처리 능력, 네트워크의 요청, 및/또는 단말 상태에 기반하여 IMS 세션 중에 미디어 타입의 전환을 수행할 수 있는지(UE capability) 여부를 판단할 수 있다. 2. UE는 SDP Offer가 포함된 SIP INVITE 요청을 P-CSCF에게 송신할 수 있다. 상기 P-CSCF는 CSCF 탐색 (discovery) 메커니즘에 의해 결정될 수 있다. 상기 SDP Offer는 하나의 멀티미디어 세션에 대하여 하나 또는 그 이상의 미디어를 표현할 수 있다. 예를 들어, 오디오, 비디오, 및/또는 세션 중 전환 가능한 미디어를 포함 할 수 있다. 세션 중 전환 가능한 미디어의 예로는 오디오, 비디오, 텍스트, 아바타 미디어가 있을 수 있다. 상 기 SDP Offer에는 오디오, 비디오, 및 또는 세션 중 전환 가능한 미디어(예: 아바타), UE의 미디어 타입 전환 지원 여부 지시자(Indication of UE Support of media type transition) 중 적어도 하나가 포함될 수 있다. UE 는 상기 단계 1에서 사용자 상호작용, 단말의 미디어 처리 능력, 네트워크의 요청, 및/또는 단말 상태에 기반하 여 IMS 세션 중에 미디어 타입의 전환을 수행할 수 있는 것으로 판단한 경우, 상기 UE의 미디어 타입 전환 지원 여부 지시자를 SDP Offer에 포함시킬 수 있다. 3. P-CSCF는 다운링크를 위해 필요한 연결 정보(connection information)을 식별(identify)할 수 있다. 상기 연결 정보에는 다운 링크 IP 플로우(들)의 IP 주소, 포트 넘버(들) 등이 해당될 수 있다. 4. P-CSCF는 상기 단계 2의 SIP INVITE 요청을 착신 쪽에 전달할 수 있다. 도 5의 단계 3, 4, 및 4a의 동작이 포함될 수 있다. 5. P-CSCF는 SIP 시그널링 상호작용을 통해 착신 쪽으로부터 협상된 SDP 파라미터들을 수신할 수 있다. 상기 협 상된 SDP 파라미터들에는 착신 UE의 사용자 상호작용, 단말의 미디어 처리 능력, 네트워크의 요청, 및/또는 단 말 상태에 기반하여 IMS 세션 중에 미디어 타입의 전환을 수행할 수 있는지(UE capability) 여부, 또는 착신 네트워크의 사용자 또는 단말의 요청, 네트워크 상태, 및/또는 어플리케이션의 요청에 기반하여 IMS 세션 중에 미 디어 타입의 전환을 수행할 수 있는지(network capability) 여부 중 적어도 하나에 대한 지시자가 포함될 수 있 다. 도 5의 단계 6 및 7의 동작이 포함될 수 있다. 6. P-CSCF는 상향링크를 위해 필요한 연결 정보(connection information)을 식별(identify)할 수 있다. 상기 연결 정보에는 상향링크 IP 플로우(들)의 IP 주소, 포트 넘버(들) 등이 해당될 수 있다. 7. P-CSCF는 현재 어플리케이션 세션에 필요한 자원을 PCF에게 요청할 수 있다. 현재 어플리케이션 세션에 필요 한 자원의 요청에는 Npcf_PolicyAuthorization_Create request 메시지가 사용될 수 있다. P-CSCF는 세션 자원 허가에 필요한 세션 관련 정보를 PCF에게 제공할 수 있다. 상기 정보에는 다음 중 적어도 하나가 포함될 수 있 다: 현재 세션을 구성하는 미디어 스트림(예를 들어, 오디오, 비디오, 세션 중 전환 가능한 미디어(예: 아바타)에 대한 미디어 스트림)을 위한 QoS Reference parameters 또는 individual QoS parameters 현재 세션을 구성하는 미디어 스트림(예를 들어, 오디오, 비디오, 세션 중 전환 가능한 미디어(예: 아바타)에 대한 미디어 스트림)에 대해 측정이 필요한 QoS 파라미터(들), 및/또는 QoS 파라미터(들)을 설명하는 QoS Monitoring 정보 P-CSCF가 PCF에게 보고를 요청하고자 하는 이벤트: -- 현재 세션을 구성하는 미디어 스트림(예를 들어, 오디오, 비디오, 세션 중 전환 가능한 미디어(예: 아바타) 에 대한 미디어 스트림)을 위한 QoS 목표(target)가 현재 네트워크에서 충족될 수 없게 되는 경우 (또는 다시 충족될 수 있게 된 경우) -- 상기 QoS Monitoring 정보 및/또는 QoS Monitoring 결과에 대한 정보 -- 현재 세션을 구성하는 미디어 스트림(예를 들어, 오디오, 비디오, 세션 중 전환 가능한 미디어(예: 아바타) 에 대한 미디어 스트림)에 해당하는 서비스 데이터 플로우의 해제(deactivation) 여부 -- 현재 세션을 구성하는 미디어 스트림(예를 들어, 오디오, 비디오, 세션 중 전환 가능한 미디어(예: 아바타) 에 대한 미디어 스트림)에 해당하는 시그널링 경로의 상태 -- 현재 세션의 미디어 타입의 전환이 필요한지 여부 -- 현재 세션의 미디어 타입을 어떤 미디어 타입으로 전환할 것인지에 대한 정보(예를 들어, 현재 세션의 미디 어 타입이 '아바타'인데, '비디오'로 전환하려는 경우, '비디오'를 보고할 수 있다) 8. PCF는 상기 단계 7에서 수신한 어플리케이션 세션 관련 정보를 저장할 수 있으며, 미디어 타입의 전환을 수 행할 IMS 세션과 연관된 PDU 세션을 식별하여 서로 연결(binding)할 수 있다. PCF는 단계 7에서 수신한 어플리 케이션 세션을 위한 자원을 생성하여, 관련 정보를 저장할 수 있다. 9. PCF는 P-CSCF가 요청한 어플리케이션을 위한 자원이 생성되었음 알리고, 응답할 수 있다. Npcf_PolicyAuthorization_Create response 메시지가 사용될 수 있다. 10. P-CSCF는 UE에게 상기 단계 5의 SDP Response와 상기 단계 9의 PCF의 응답에 기반한 SDP answer를 전달할 수 있다. 11. PCF는 상기 단계 7에서 수신한 정보 및 AF(P-CSCF)의 요청에 따라 PCC rule을 결정할 수 있다. 결정된 PCC rule은 SM Policy Association Establishment 및/또는 SM Policy Association Modification 절차에 의해 SMF 에게 전달될 수 있다. 상기 PCC rule을 수신한 SMF는 UPF를 위한 rule (예를 들어, QoS Monitoring rule)을 생 성하여 UPF에게 전달 및 적용할 수 있다. 보다 구체적인 예로, PCF는 상기 단계 7에서 수신한 정보 및 AF(P- CSCF)의 요청에 기반하여, 현재 세션의 미디어 타입의 전환이 필요한지 여부 및/또는 현재 세션의 미디어 타입 을 어떤 미디어 타입으로 전환할 것인지에 대한 정보(예를 들어, 현재 세션의 미디어 타입이 '아바타'인데, '비 디오'로 전환하려는 경우, '비디오')를 판단하기 위하여, 현재 세션을 구성하는 각 미디어 타입(예: 비디오, 오 디오, 텍스트, 아바타 등)에 적합한 QoS 파라미터를 임계점(Threshold)으로 하는 QoS Monitoring 정책을 SMF에 게 제공할 수 있다. SMF는 해당 QoS Monitoring 정책을 UPF에게 제공 및 적용할 수 있다. UPF는 QoS Monitoring 정책에 따라 QoS 상태를 측정하여, SMF에게 제공할 수 있다. 12. PCF는 PDU 세션의 미디어 타입의 전환이 필요함을 감지할 수 있다. 상기 단계 11에서 설명한 예시에 기반한 보다 구체적인 예로, SMF는 QoS Monitoring 정책에 포함된 QoS 파라미터 임계점을 넘는 미디어 타입이 있으면 QoS 파라미터 임계점을 넘는 미디어 타입을 단계 12에서 PCF에게 보고할 수 있다. PCF는 SMF가 보고한 임계점을 넘는 미디어 타입 및 현재 세션의 미디어 타입을 고려하여, 현재 세션에 적합한 미디어 타입이 현재 세션의 미 디어 타입과 다른 경우, 단계 12에서 PDU 세션의 미디어 타입의 전환이 필요하다고 판단할 수 있다. 예를 들어, 단계 11 이후 IMS 세션 및 PDU 세션 수립 절차가 완료되어 발신 UE와 착신 UE 간에 아바타 미디어를 기반으로 한 통화 세션이 수립되었는데, SMF가 UPF를 통해 QoS Monitoring을 한 결과 측정된 PDB(Packet Delay Budget, UE와 UPF 사이의 딜레이 예산)값이 아바타 미디어 타입을 위한 PDB 임계점을 넘게 된 경우, SMF는 측정된 PDB 값과 관련된 정보를 PCF에게 보고할 수 있다. PCF는 SMF로부터 수신한 정보에 기반하여, 네트워크 상태가 아바 타 미디어 타입을 위한 PDB 값은 만족할 수 없지만 비디오 미디어 타입을 위한 PDB 값은 만족할 수 있다고 판단 하게 되면, 발신 UE와 착신 UE 간에 수립된 통화 세션을 아바타 미디어 기반에서 비디오 미디어 기반으로 전환 이 필요한 것으로 결정할 수 있다. 13. PCF는 상기 단계 7에서 P-CSCF(AF)가 요청한 내용에 해당하는 이벤트가 발생하였음을 감지한 경우, P- CSCF(AF)가 요청한 정보를 보고할 수 있다. 또한, PCF는 상기 단계 12에서 PDU 세션의 미디어 타입의 전환이 필 요함을 감지하였고 미디어 타입의 전환이 필요한 경우 보고할 것을 상기 단계 7에서 요청받은 경우, 미디어 타 입의 전환이 필요함을 P-CSCF(AF)에게 보고할 수 있다. 미디어 타입의 전환이 필요함을 보고하기 위해 Npcf_PolicyAuthorization_Notify request 메시지가 사용될 수 있다. 14. P-CSCF(AF)는 PCF에게 요청 정보에 대한 보고를 전달받았음에 대한 응답을 할 수 있다. Npcf_PolicyAuthorization_Notify response메시지가 사용될 수 있다. P-CSCF(AF)는 PCF로부터 수신한 보고에 기반하여, 세션 수정(modification)에 필요한 절차를 수행할 수 있다. 예를 들어, P-CSCF(AF)는 세션의 미디어 타입의 전환/변경이 필요함을 보고 받았거나 세션의 미디어 타입의 전환/변경이 필요함을 판단한 경우, 세션의 미디어 타입의 전환/변경에 필요한 IMS 절차를 개시(trigger, initiate)할 수 있다. 세션의 미디어 타입의 전환 /변경에 필요한 IMS 절차는 도 8의 단계 10 내지 17에서 설명하도록 한다. 물론, 상술된 절차들로 제한되는 것은 아니다. 상술된 절차들 중 적어도 하나의 절차가 생략될 수 있다. 또는 상술된 절차들 중 일부는 병합될 수 있으며, 새로운 절차가 추가되어 상술된 절차들과 유기적으로 결합될 수도 있다. 도 7은 본 개시의 다양한 실시 예에 따른 통신 시스템에서 IMS 세션의 미디어 타입의 전환을 지원하는 세션 관 리 정책(Session Management Policy, SM Policy)관련 절차를 나타낸 도면이다. 도 5 내지 도 6과 중복되는 내용의 설명은 생략되었을 수 있다. 도 7은 도 6의 단계 7 내지 12에서 기술한 PCF 와 SMF의 시그널링 상호작용과 관련된 절차를 중심으로 설명될 수 있다. 다만, 사용된 메시지의 명칭은 달라질 수 있다. 도 7을 참조하면, 단말 및 네트워크는 다음과 같은 절차를 통해 미디어 타입의 전환을 지원하는 SM Policy 절차 를 수행할 수 있다. 1. P-CSCF는 현재 어플리케이션 세션에 필요한 자원을 PCF에게 요청할 수 있다. Npcf_PolicyAuthorization_Create request 메시지가 사용될 수 있다. P-CSCF는 세션 자원 허가에 필요한 세션 관련 정보를 PCF에게 제공할 수 있다. 상기 정보는 P-CSCF가 AF로서 PCF로부터 보고받고자 하는 이벤트 및 이벤 트와 관련된 정보일 수 있다. 상기 정보는 Policy Control Request Trigger(PCRT)로서 PCF에게 제공될 수 있다. 상기 정보에는 다음 중 적어도 하나가 포함될 수 있다: - 현재 세션을 구성하는 미디어 스트림(예를 들어, 오디오, 비디오, 세션 중 전환 가능한 미디어(예: 아바타)에 대한 미디어 스트림)을 위한 QoS Reference parameters 또는 individual QoS parameters - 현재 세션을 구성하는 미디어 스트림(예를 들어, 오디오, 비디오, 세션 중 전환 가능한 미디어(예: 아바타)에 대한 미디어 스트림)에 대해 측정이 필요한 QoS 파라미터(들), 및/또는 QoS 파라미터(들)을 설명하는 QoS Monitoring 정보 - P-CSCF가 PCF에게 보고를 요청하고자 하는 이벤트: -- 현재 세션을 구성하는 미디어 스트림(예를 들어, 오디오, 비디오, 세션 중 전환 가능한 미디어(예: 아바타) 에 대한 미디어 스트림)을 위한 QoS 목표(target)가 현재 네트워크에서 충족될 수 없게 되는 경우 (또는 다시 충족될 수 있게 된 경우)-- 상기 QoS Monitoring 정보 및/또는 QoS Monitoring 결과에 대한 정보 -- 현재 세션을 구성하는 미디어 스트림(예를 들어, 오디오, 비디오, 세션 중 전환 가능한 미디어(예: 아바타) 에 대한 미디어 스트림)에 해당하는 서비스 데이터 플로우의 해제(deactivation) 여부 -- 현재 세션을 구성하는 미디어 스트림(예를 들어, 오디오, 비디오, 세션 중 전환 가능한 미디어(예: 아바타) 에 대한 미디어 스트림)에 해당하는 시그널링 경로의 상태 -- 현재 세션의 미디어 타입의 전환이 필요한지 여부 -- 현재 세션의 미디어 타입을 어떤 미디어 타입으로 전환할 것인지에 대한 정보(예를 들어, 현재 세션의 미디 어 타입이 '아바타'인데, '비디오'로 전환하려는 경우, '비디오'를 보고할 수 있다) 2. PCF는 상기 단계 1에서 수신한 어플리케이션 세션 관련 정보를 기반으로 미디어 타입의 전환이 필요한 IMS 세션과 연관된 PDU 세션을 식별하여, 연관된 PDU 세션의 수정(modification)이 필요함을 감지(detection)할 수 있다. 예를 들어, PCF는 상기 단계 1에서 수신한 정보에 기반하여 QoS Monitoring이 필요하다가 판단하거나, 세 션의 미디어 타입의 전환/변경이 세션 중에 필요할 수 있다. 그리고 PCF는 QoS Monitoring이 필요하거나 세션의 미디어 타입의 전환/변경이 세션 중에 필요한지 판단하기 위한 QoS 측정, 네트워크 상태 등을 SMF로부터 보고 받아야할 것으로 판단한 경우, 판단과 관련된 정보를 SMF에게 제공하기 위해서 PDU 세션의 수정이 필요하다고 결정할 수 있다. 3. PCF는 상기 단계 1에서 수신한 정보 및 AF(P-CSCF)의 요청에 따라 PCC rule을 결정할 수 있다. 결정된 PCC rule은 SM Policy Association Establishment 및/또는 SM Policy Association Modification 절차에 의해 SMF 에게 전달될 수 있다. 4. PCF는 상기 단계 3에서 결정한 PCC rule을 SMF에게 제공할 수 있다. SMF에게 제공되는 Policy 정보에는 PDU 세션을 위한 정책 정보, SM Policy Association(PCF와 SMF 간의 SM Policy 관리를 위해 수립된 연관 관계)에 적용되는 Policy Control Request Trigger가 포함될 수 있다. 상기 Policy Control Request Trigger(PCRT)에는 상기 단계 1의 P-CSCF(AF)의 요청 및/또는 상기 단계 3의 PCF의 결정에 따라 PCF가 SMF으로부터 보고받고자 하 는 이벤트 및 이벤트와 관련된 정보가 포함될 수 있다. Npcf_SMPolicyControl_UpdateNotify request 메시지가 사용될 수 있다. 상기 PCRT로 제공될 수 있는 이벤트 및 이벤트와 관련된 정보에는 다음 중 적어도 하나가 포함 될 수 있다: - 현재 세션을 구성하는 미디어 스트림(예를 들어, 오디오, 비디오, 세션 중 전환 가능한 미디어(예: 아바타)에 대한 미디어 스트림)을 위한 QoS Reference parameters 또는 individual QoS parameters - 현재 세션을 구성하는 미디어 스트림(예를 들어, 오디오, 비디오, 세션 중 전환 가능한 미디어(예: 아바타)에 대한 미디어 스트림)에 대해 측정이 필요한 QoS 파라미터(들), 및/또는 QoS 파라미터(들)을 설명하는 QoS Monitoring 정보 - P-CSCF가 PCF에게 보고를 요청하고자 하는 이벤트: -- 현재 세션을 구성하는 미디어 스트림(예를 들어, 오디오, 비디오, 세션 중 전환 가능한 미디어(예: 아바타) 에 대한 미디어 스트림)을 위한 QoS 목표(target)가 현재 네트워크에서 충족될 수 없게 되는 경우 (또는 다시 충족될 수 있게 된 경우) -- 상기 QoS Monitoring 정보 및/또는 QoS Monitoring 결과에 대한 정보 -- 현재 세션을 구성하는 미디어 스트림(예를 들어, 오디오, 비디오, 세션 중 전환 가능한 미디어(예: 아바타) 에 대한 미디어 스트림)에 해당하는 서비스 데이터 플로우의 해제(deactivation) 여부 -- 현재 세션을 구성하는 미디어 스트림(예를 들어, 오디오, 비디오, 세션 중 전환 가능한 미디어(예: 아바타) 에 대한 미디어 스트림)에 해당하는 시그널링 경로의 상태 -- 현재 세션의 미디어 타입의 전환이 필요한지 여부 -- 현재 세션의 미디어 타입을 어떤 미디어 타입으로 전환할 것인지에 대한 정보(예를 들어, 현재 세션의 미디 어 타입이 '아바타'인데, '비디오'로 전환하려는 경우, '비디오'를 보고할 수 있다) 5. SMF는 PCF로부터 상기 단계 4의 Policy 정보 및/또는 PCRT를 수신하였음을 응답할 수 있다. 단계 4의 Policy 정보 및/또는 PCRT를 수신하였음을 응답하기 위해 Npcf_SMPolicyControl_UpdateNotify response 메시지가 사용 될 수 있다. 6. SMF는 상기 단계 4에서 수신한 PCRT의 조건을 만족하였음을 감지할 수 있다. 7. SMF는 상기 단계 6에서 감지한 PCRT의 조건이 만족하였고, 상기 단계 4에서 수신한 해당 PCRT의 조건에 따라 PCF에게 보고해야하는 정보를 PCF에게 제공할 수 있다. 보고해야하는 정보를 PCF에게 제공하기 위해 Npcf_SMPolicyControl_Update request 메시지가 사용될 수 있다. 8. PCF는 상기 단계 7에서 감지한 PCRT의 조건이 만족하였고, 상기 단계 1에서 수신한 해당 PCRT의 조건에 따라 AF(P-CSCF)에게 보고해야하는 정보를 AF(P-CSCF)에게 제공할 수 있다. 9. P-CSCF는 상기 단계 8에서 수신한 정보에 기반하여, 현재 세션의 미디어 타입에 사용되는 코덱 및/또는 현재 세션의 미디어 타입에 상응하는 미디어 플로우의 변경이 필요한지 여부와 어떻게 변경할지에 대한 결정을 할 수 있다. 보다 구체적인 예로, 현재 세션의 미디어 타입이 아바타였으나 상기 단계 8에서 수신한 정보에 기반하여 비디오 타입으로 변경해야하는 것으로 판단할 수 있고, 비디오 타입으로 어떻게 변경할 것인지 (예를 들어, 비 디오 타입의 코덱은 무엇으로 할 것이며, 비디오 타입에 해당하는 미디어 플로우는 수립하여야 하는지, 기존 자 원을 활용하여 미디어 플로우의 변경을 하면 되는지, 아바타 타입에 해당하는 미디어 플로우에 해당하는 자원은 해제하여야 하는지 등)를 결정할 수 있다. 상기의 결정은 S-CSCF, 및 또는 발신 UE, 착신 네트워크, 및/또는 착 신 UE와의 상호작용이 필요할 수 있다. 후술할 도 8의 단계 10 내지 17의 동작이 상술된 설명에 해당할 수 있다. 10. P-CSCF는 상기 단계 8에서 수신한 정보 및 상기 단계 9의 판단 및 결과에 기반하여 PDU 세션의 업데이트에 필요한 정보를 PCF에게 제공할 수 있다. 예를 들어, 아바타 타입이었던 것을 비디오 타입으로 변경하는 경우, P-CSCF는 비디오 타입을 위한 QoS Reference parameter 또는 individual QoS parameter를 제공할 수 있다. 또 한, 상기 단계 1에서 제공하였던 정보 및 요청 중 변경되는 사항이 있으면 P-CSCF는 업데이트 된 내용을 제공할 수 있다. PDU 세션의 업데이트에 필요한 정보의 제공에는 Npcf_PolicyAuthorization_Update request 메시지가 사용될 수 있다. 11. PCF는 상기 단계 10에서 수신한 어플리케이션 세션 관련 정보를 저장할 수 있으며, 미디어 타입의 전환이 필요한 IMS 세션과 연관된 PDU 세션을 식별하여 서로 연결(binding)할 수 있다. PCF는 단계 10에서 수신한 정보 와 관련된 어플리케이션 세션을 위한 자원을 생성하여, 관련 정보를 저장할 수 있다. 12. PCF는 P-CSCF가 요청한 어플리케이션을 위한 자원이 생성되었음 알리고, 응답할 수 있다. P-CSCF가 요청한 어플리케이션을 위한 자원이 생성되었음 알리기 위해 Npcf_PolicyAuthorization_Update response 메시지가 사 용될 수 있다. 13. PCF는 상기 단계 10에서 수신한 정보 및 AF(P-CSCF)의 요청에 따라 PCC rule을 결정할 수 있다. 결정된 PCC rule은 SM Policy Association Establishment 및/또는 SM Policy Association Modification 절차에 의해 SMF에게 전달될 수 있다. 14. PCF는 상기 단계 13에서 결정된 PCC rule 및 PCRT를 SMF에게 제공할 수 있다. 또한, 상기 단계 4에서 제공 하였던 정보 및 요청 중 변경되는 사항이 있으면 업데이트 된 내용을 제공할 수 있다. 업데이트 된 내용을 제공 하기 위해 Npcf_PolicyAuthorization_Update response 메시지가 사용될 수 있다. SMF는 단계 14에서 수신한 정 보를 기반으로 PDU 세션에 필요한 수정을 UPF, AMF, RAN, 및/또는 UE에게 적용할 수 있다. 만약 단계 9 내지 14 의 동작이 세션의 미디어 타입을 변경하기 위한 동작이었다고 하면, UE는 변경된 미디어 타입을 기반으로 착신 UE와 IMS 세션 및 PDU 세션을 이어갈 수 있다. 물론, 상술된 절차들로 제한되는 것은 아니다. 상술된 절차들 중 적어도 하나의 절차가 생략될 수 있다. 또는 상술된 절차들 중 일부는 병합될 수 있으며, 새로운 절차가 추가되어 상술된 절차들과 유기적으로 결합될 수도 있다. 도 8은 본 개시의 다양한 실시 예에 따른 통신 시스템에서 IMS 세션의 미디어 타입을 전환하는 동작에 관련된 절차를 나타낸 도면이다. 도 5 내지 도 7과 중복되는 내용의 설명은 생략되었을 수 있다. 도 8은 도 5 내지 도 7의 절차에서 avatar 미디 어 타입으로 수립된 IMS 세션 및 PDU 세션을 SMF가 측정한 QoS monitoring 결과에 기반하여 PCF가 video 또는 audio 미디어 타입으로 전환하는 과정을 중심으로 설명될 수 있다. 다만, 사용된 메시지의 명칭은 달라질 수 있다. 도 8을 참조하면, 단말 및 네트워크는 다음과 같은 절차를 통해 미디어 타입의 전환을 지원하는 절차를 수행할 수 있다. 1. 발신 네트워크와 착신 네트워크 사이의 IMS 세션 및 PDU 세션 수립을 통해 발신 UE와 착신 UE는 avatar 미디 어 타입의 통화를 수립할 수 있다. Avatar 미디어 타입을 지시하는 방법의 예로는, SDP offer 메시지에 m=” avatar”라는 설정이 있을 수 있다. Avatar 미디어 타입을 지시하는 방법은 상술된 설명에 한하지 않는다. 2. P-CSCF는 PCF에게 상기 단계 1의 avatar 통화에 대하여 통화 중 미디어 전환/변경이 필요한지 여부에 대한 보고를 요청할 수 있다. 예를 들어, 상기 단계 1의 avatar 미디어 타입의 통화는 통화 중 미디어 타입의 전환/ 변경 기능을 포함하는 것일 수 있다. 또 다른 예로, 도 5 내지 도 8에서 기술한 단말 또는 네트워크의 미디어 타입의 전환 지원에 관한 지시자들을 기반으로 통화 중 미디어 타입의 전환/변경 기능을 지원하는 통화인 것으 로 판단될 수 있다. 이러한 경우, P-CSCF는 PCF에게 통화 중 미디어 전환/변경이 필요하게 되는 이벤트 및 이와 관련된 정보를 PCF에게 요청할 수 있다. P-CSCF는 '미디어 타입 전환이 필요함'을 알릴 수 있는 PCRT를 PCF에게 제공할 수 있다. '미디어 타입 전환이 필요함'을 알릴 수 있는 PCRT를 PCF에게 제공하기 위해 Npcf_PolicyAuthorization Subscribe 메시지가 사용될 수 있다. 3. PCF는 미디어 타입 전환이 필요한지 여부를 판단하는데 필요한 정책 정보 및/또는 QoS monitoring 정보를 결 정할 수 있다. 예를 들어, avatar, video, 및/또는 audio 통화에 적합한 QoS 파라미터 값들을 임계점으로 하는 QoS monitoring rule을 생성할 수 있다. 4. PCF는 SMF에게 상기 단계 3에서 결정한 정보 및/또는 이와 관련된 정보를 SMF로부터 보고받을 수 있도록 하 는 PCRT를 제공할 수 있다. 예를 들어, '미디어 타입 전환이 필요함'을 알릴 수 있는 PCRT, 및/또는 미디어 타 입 전환이 필요한지 여부를 판단하는데 필요한 QoS monitoring 정보를 SMF에게 제공할 수 있다. QoS monitoring 정보를 SMF에게 제공하기 위해 Npcf_SMPolicyControl_UpdateNotify Request 메시지가 사용될 수 있다. 5. SMF는 상기 단계 4에서 수신한 정책 정보 및/또는 QoS monitoring 정보를 적용할 수 있다. 6. SMF는 PDU 세션의 상태를 감지할 수 있다. 예를 들어, 상기 단계 4에서 수신한 QoS monitoring 정보를 기반 으로, 현재 세션의 QoS 상태가 avatar 통화에 적합한 QoS 파라미터의 임계점은 넘었으나, video 및/또는 audio 통화에 적합한 QoS 파라미터의 임계점은 넘지 않은 경우 미디어 타입을 avatar에서 video 및/또는 audio로 전환 하는 것이 필요함을 감지할 수 있다. 7. SMF는 상기 단계 6에서 감지한 PDU 세션의 상태를 기반으로, 상기 단계 4에서 수신한 PCRT의 조건이 만족하 였음을 판단할 수 있으며, 단계 4에서 수신한 PCRT의 조건이 만족하였는지와 관련된 정보를 포함한 보고를 PCF 에게 제공할 수 있다. 예를 들어, SMF는 PCF에게 '미디어 타입 전환이 필요함' 조건이 만족하였으며, 미디어 타 입 전환 결정을 도울 수 있는 정보로서 QoS monitoring 결과를 제공할 수 있다. 8. PCF는 상기 단계 7에서 수신한 정보를 기반으로, 미디어 타입의 전환 여부 및/또는 미디어 타입 전환 방법을 결정할 수 있다. 예를 들어, PCF는 상기 단계 7에서 수신한 '미디어 타입 전환이 필요함' 조건이 만족하였으며, 함께 제공된 QoS monitoring 결과에 기반하면 video 및/또는 audio 통화로 전환이 가능하다고 판단할 수 있다. 9. PCF는 상기 단계 8의 판단에 기반하여, P-CSCF에게 상기 단계 2에서 수신한 PCRT의 조건이 만족하였음을 판 단할 수 있으며, 단계 2에서 수신한 PCRT의 조건이 만족하였는지와 관련된 정보를 포함한 보고를 P-CSCF에게 제 공할 수 있다. 예를 들어, PCF는 P-CSCF에게 미디어 타입 전환이 필요함' 조건이 만족하였으며, 미디어 타입 전 환 결정을 도울 수 있는 정보로서 video 및/또는 audio 통화로 전환이 가능함을 알릴 수 있다. 10. P-CSCF는 상기 단계 9에서 수신한 정보에 기반하여, 현재 세션의 미디어 타입에 상응하는 미디어 플로우의 변경이 필요한지 여부와 어떻게 변경할지에 대한 결정을 할 수 있다. P-CSCF는 현재 세션의 미디어 타입에 상응 하는 미디어 플로우의 변경에 필요한 정보로서 미디어 타입 전환 정보를 S-CSCF에게 제공할 수 있다. SIP INFORMATION 또는 SIP re-INVITE 메시지가 사용될 수 있다. 예를 들어, P-CSCF는 미디어 타입 전환 정보에 m= ”video” 또는 m=”audio”로 변경된 SDP의 생성과 이를 기반으로 하여 발신 네트워크/UE와 착신 네트워크/UE 간 코덱 재협상이 필요한지 여부를 S-CSCF를 통해 판단할 수 있다. 11. S-CSCF는 상기 단계 10에서 수신한 미디어 타입 전환 정보 및/또는 가입자 정보 (HSS/UDM으로부터 확인할 수 있다)를 기반으로, 변경하고자 하는 미디어 타입의 코덱 및 해당 미디어 타입의 미디어 플로우 필요한 변경 (예를 들어, 새로 미디어 플로우를 수립하여야 하는지, 기존 자원을 활용하면 되는지, 이전 미디어 타입의 미디어 플로우 및 자원은 해제하여야 하는지 여부 등) 사항을 판단할 수 있다. 12. S-CSCF는 상기 단계 11의 판단 결과에 따라 코덱 재협상을 UE에게 요청하는 지시자, 및/또는 미디어 타입 전환에 필요한 정보를 P-CSCF를 통해 발신 UE에게 제공할 수 있다. 상기 미디어 타입 전환에 필요한 정보에는 어떤 미디어 타입으로 전환하려고 하는지에 대한 정보 (예: 비디오 및/또는 오디오)가 포함될 수 있다. 코덱 재 협상을 UE에게 요청하는 지시자, 및/또는 미디어 타입 전환에 필요한 정보를 제공하기 위해 SIP INFORMATION 또 는 SIP re-INVITE 메시지가 사용될 수 있다. 13. P-CSCF는 상기 단계 12의 정보를 UE에게 전달할 수 있다. SIP INFORMATION 또는 SIP re-INVITE 메시지가 사용될 수 있다. 14. UE는 상기 단계 13에서 수신한 정보를 기반으로 기존 미디어 전송을 중지할 수 있다. 예를 들어, 아바타 미 디어 전송을 중단할 수 있다. 15. UE는 상기 단계 13에서 수신한 미디어 타입 전환 정보를 기반으로 착신 네트워크/UE와 코덱 재협상을 수행 할 수 있다. 이때, UE는 미디어 타입 전환 정보에서 제공한 코덱 정보를 착신 네트워크/UE에게 제공할 수 있다. 16. UE는 상기 단계 15의 결과에 따라 결정된 코덱을 이용하여 새로운 미디어 타입 데이터의 전송을 시작할 수 있다. 예를 들어, UE는 비디오 및/또는 오디오 데이터의 전송을 시작할 수 있다. 17. 발신 네트워크/UE와 착신 네트워크/UE는 상기 미디어 타입 전환 정보에서 지시한 비디오 및/또는 오디오 통 화를 계속해서 지속할 수 있다. 물론, 상술된 절차들로 제한되는 것은 아니다. 상술된 절차들 중 적어도 하나의 절차가 생략될 수 있다. 또는 상술된 절차들 중 일부는 병합될 수 있으며, 새로운 절차가 추가되어 상술된 절차들과 유기적으로 결합될 수도 있다. 도 9는 본 개시의 다양한 실시예에 따른 무선 통신 시스템에서 네트워크 엔티티(Network Entity)의 일 구성 예 를 나타낸 도면이다. 도 9의 네트워크 엔티티는 도 1 내지 도 8의 실시 예들에서 설명한 네트워크 엔티티들 중 하나일 수 있다. 본 개시의 일 실시예에 따른 네트워크 엔티티는 그 네트워크 엔티티의 전반적인 동작을 제어하는 프로세서 , 송신기 및 수신기를 포함하는 송수신기(transceiver, 920) 및 메모리를 포함할 수 있다. 물론 상기 예시에 제한되는 것은 아니며 네트워크 엔티티는 도 9에 도시된 구성보다 더 많은 구성을 포함할 수도 있고, 더 적은 구성을 포함할 수도 있다. 본 개시의 일 실시예에 따르면, 송수신기는 다른 네트워크 엔티티들 또는 단말 중 적어도 하나와 신호를 송수신할 수 있다. 송수신하는 신호는 제어 정보와 데이터 중 적어도 하나를 포함할 수 있다. 도 9의 네트워크 엔티티가 코어 네트워크의 엔티티(NF)인 경우, 그 네트워크 엔티티와 단말 간에 송수신되는 신호는 RAN을 경유 하여 송수신될 수 있다. 본 개시의 일 실시예에 따르면, 프로세서는 상술한 도 1 내지 도 7의 실시 예들 중 하나 또는 둘 이상의 실시 예들의 결합에 따른 동작을 수행하도록 해당 네트워크 엔티티의 동작을 전반적으로 제어할 수 있다. 한편, 프로세서, 송수신기 및 메모리는 반드시 별도의 모듈들로 구현되어야 하는 것은 아니고, 단일 칩과 같은 형태로 하나의 구성부로 구현될 수 있음은 물론이다. 그리고 상기 프로세서는 AP(Application Processor), CP(Communication Processor), 회로(circuit), 어플리케이션 특정(application-specific) 회로, 또는 적어도 하나의 프로세서(processor)일 수 있다. 상기 송수신기는 다른 네트워크 엔티티와 유선/무선 으로 신호를 송수신하는 적어도 하나의 통신 인터페이스를 포함할 수 있다. 본 개시의 일 실시예에 따르면, 메모리는 해당 네트워크 엔티티의 동작을 위한 기본 프로그램, 응용 프로 그램, 설정 정보 등의 데이터를 저장할 수 있다. 또한 메모리는 프로세서의 요청에 따라 저장된 데이 터를 제공한다. 메모리는 롬(ROM), 램(RAM), 하드디스크, CD-ROM 및 DVD 등과 같은 저장 매체 또는 저장 매체들의 조합으로 구성될 수 있다. 또한, 메모리는 복수 개일 수 있다. 또한 프로세서는 메모리 에 저장된 전술한 본 개시의 실시 예들 중 적어도 하나에 따른 동작을 수행하기 위한 프로그램에 기초하여 전술한 실시 예들 중 적어도 하나를 수행할 수 있다. 도 10은 본 개시의 다양한 실시예에 따른 무선 통신 시스템에서 기지국의 일 구성 예를 나타내는 도면이다. 도 10의 기지국은 도 1 내지 도 8의 실시 예들에서 설명한 RAN 노드를 의미할 수 있다.본 개시의 일 실시예에 따른 기지국은, 기지국의 전반적인 동작을 제어하는 프로세서, 송신기 및 수신기 를 포함하는 송수신기(transceiver, 1020) 및 메모리를 포함할 수 있다. 물론 상기 예시에 제한되는 것은 아니며 기지국은 도 10에 도시된 구성보다 더 많은 구성을 포함할 수도 있고, 더 적은 구성을 포함할 수도 있다. 본 개시의 일 실시예에 따르면, 송수신기는 단말, 다른 기지국, 또는 네트워크 엔티티 중 적어도 하나와 신호를 송수신할 수 있다. 송수신하는 신호는 제어 정보와 데이터 중 적어도 하나를 포함할 수 있다. 본 개시의 일 실시예에 따르면, 프로세서는 상술한 도 1 내지 도 7의 실시 예들 중 하나 또는 둘 이상의 실시 예들의 결합에 따른 동작을 수행하도록 해당 기지국의 동작을 전반적으로 제어할 수 있다. 한편, 프로세서 , 송수신기 및 메모리는 반드시 별도의 모듈들로 구현되어야 하는 것은 아니고, 단일 칩과 같은 형태로 하나의 구성부로 구현될 수 있음은 물론이다. 그리고 상기 프로세서는 AP(Application Processor), CP(Communication Processor), 회로(circuit), 어플리케이션 특정(application-specific) 회로, 또는 적어도 하나의 프로세서(processor)일 수 있다. 상기 송수신기는 단말, 다른 기지국, 또는 네트워크 엔티티로 유선/무선으로 신호를 송수신하는 적어도 하나의 통신 인터페이스를 포함할 수 있다. 본 개시의 일 실시예에 따르면, 메모리는 해당 기지국의 동작을 위한 기본 프로그램, 응용 프로그램, 설 정 정보 등의 데이터를 저장할 수 있다. 또한 메모리는 프로세서의 요청에 따라 저장된 데이터를 제공한다. 메모리는 롬(ROM), 램(RAM), 하드디스크, CD-ROM 및 DVD 등과 같은 저장 매체 또는 저장 매체 들의 조합으로 구성될 수 있다. 또한, 메모리는 복수 개일 수 있다. 또한 프로세서는 메모리(103 0)에 저장된 전술한 본 개시의 실시 예들 중 적어도 하나에 따른 동작을 수행하기 위한 프로그램에 기초하여 전 술한 실시 예들 중 적어도 하나를 수행할 수 있다. 도 11은 본 개시의 다양한 실시예에 따른 무선 통신 시스템에서 단말의 일 구성 예를 나타내는 도면이다. 본 개시의 일 실시예에 따른 단말은 그 단말의 전반적인 동작을 제어하는 프로세서, 송신기 및 수신기를 포함하는 송수신기(transceiver, 1120) 및 메모리를 포함할 수 있다. 물론 상기 예시에 제한되는 것은 아 니며 단말은 도 11에 도시된 구성보다 더 많은 구성을 포함할 수도 있고, 더 적은 구성을 포함할 수도 있다. 본 개시의 일 실시예에 따르면, 송수신기는 다른 단말, 기지국, 네트워크 엔티티와 적어도 하나와 신호를 송수신할 수 있다. 송수신하는 신호는 제어 정보와 데이터 중 적어도 하나를 포함할 수 있다. 본 개시의 일 실시예에 따르면, 프로세서는 상술한 도 1 내지 도 7의 실시 예들 중 하나 또는 둘 이상의 실시 예들의 결합에 따른 동작을 수행하도록 해당 단말의 동작을 전반적으로 제어할 수 있다. 한편, 프로세서 , 송수신기 및 메모리는 반드시 별도의 모듈들로 구현되어야 하는 것은 아니고, 단일 칩과 같은 형태로 하나의 구성부로 구현될 수 있음은 물론이다. 그리고 상기 프로세서는 AP(Application Processor), CP(Communication Processor), 회로(circuit), 어플리케이션 특정(application-specific) 회로, 또는 적어도 하나의 프로세서(processor)일 수 있다. 상기 송수신기는 다른 단말, 기지국, 네트워크 엔티 티와 유선/무선으로 신호를 송수신하는 적어도 하나의 통신 인터페이스를 포함할 수 있다. 본 개시의 일 실시예에 따르면, 메모리는 해당 단말의 동작을 위한 기본 프로그램, 응용 프로그램, 설정 정보 등의 데이터를 저장할 수 있다. 또한 메모리는 프로세서의 요청에 따라 저장된 데이터를 제공 한다. 메모리는 롬(ROM), 램(RAM), 하드디스크, CD-ROM 및 DVD 등과 같은 저장 매체 또는 저장 매체들의 조합으로 구성될 수 있다. 또한, 메모리는 복수 개일 수 있다. 또한 프로세서는 메모리에 저 장된 전술한 본 개시의 실시 예들 중 적어도 하나에 따른 동작을 수행하기 위한 프로그램에 기초하여 전술한 실 시 예들 중 적어도 하나를 수행할 수 있다. 상술한 본 개시의 구체적인 실시예들에서, 본 개시에 포함되는 구성 요소는 제시된 구체적인 실시예에 따라 단 수 또는 복수로 표현되었다. 그러나, 단수 또는 복수의 표현은 설명의 편의를 위해 제시한 상황에 적합하게 선 택된 것으로서, 본 개시가 단수 또는 복수의 구성 요소에 제한되는 것은 아니며, 복수로 표현된 구성 요소라 하 더라도 단수로 구성되거나, 단수로 표현된 구성 요소라 하더라도 복수로 구성될 수 있다. 한편, 본 명세서와 도면에 개시된 본 개시의 실시예들은 본 개시의 기술 내용을 쉽게 설명하고 본 개시의 이해 를 돕기 위해 특정 예를 제시한 것일 뿐이며, 본 개시의 범위를 한정하고자 하는 것은 아니다. 즉, 본 개시의 기술적 사상에 바탕을 둔 다른 변형예들이 실시 가능하다는 것은 본 개시의 속하는 기술 분야에서 통상의 지식을 가진 자에게 자명한 것일 수 있다. 또한, 상기 각각의 실시예는 필요에 따라 서로 조합되어 운용할 수 있다. 예컨대, 본 개시의 일 실시예와 다른 일 실시예의 일부분들이 서로 조합되어 기지국과 단말이 운용될 수 있다. 또한 FDD LTE 시스템, TDD LTE 시스템, 5G 혹은 NR 시스템 등 다양한 시스템에서 상기 실시예의 기술적 사상에 바탕을 둔 다른 변형예들이 실시 가능할 것이다. 본 개시의 청구항 또는 명세서에 기재된 실시 예들에 따른 방법들은 하드웨어, 소프트웨어, 또는 하드웨어와 소 프트웨어의 조합의 형태로 구현될(implemented) 수 있다. 소프트웨어로 구현하는 경우, 하나 이상의 프로그램(소프트웨어 모듈)을 저장하는 컴퓨터 판독 가능 저장 매체 가 제공될 수 있다. 컴퓨터 판독 가능 저장 매체에 저장되는 하나 이상의 프로그램은, 전자 장치(device) 내의 하나 이상의 프로세서에 의해 실행 가능하도록 구성된다(configured for execution). 하나 이상의 프로그램은, 전자 장치로 하여금 본 개시의 청구항 또는 명세서에 기재된 실시 예들에 따른 방법들을 실행하게 하는 명령어 (instructions)를 포함한다. 이러한 프로그램(소프트웨어 모듈, 소프트웨어)은 랜덤 액세스 메모리 (random access memory), 플래시(flash) 메모리를 포함하는 불휘발성(non-volatile) 메모리, 롬(ROM: Read Only Memory), 전기적 삭제가능 프로그램가 능 롬(EEPROM: Electrically Erasable Programmable Read Only Memory), 자기 디스크 저장 장치(magnetic disc storage device), 컴팩트 디스크 롬(CD-ROM: Compact Disc-ROM), 디지털 다목적 디스크(DVDs: Digital Versatile Discs) 또는 다른 형태의 광학 저장 장치, 마그네틱 카세트(magnetic cassette)에 저장될 수 있다. 또는, 이들의 일부 또는 전부의 조합으로 구성된 메모리에 저장될 수 있다. 또한, 각각의 구성 메모리는 다수 개 포함될 수도 있다. 또한, 상기 프로그램은 인터넷(Internet), 인트라넷(Intranet), LAN(Local Area Network), WLAN(Wide LAN), 또 는 SAN(Storage Area Network)과 같은 통신 네트워크, 또는 이들의 조합으로 구성된 통신 네트워크를 통하여 접 근(access)할 수 있는 부착 가능한(attachable) 저장 장치(storage device)에 저장될 수 있다. 이러한 저장 장 치는 외부 포트를 통하여 본 개시의 실시 예를 수행하는 장치에 접속할 수 있다. 또한, 통신 네트워크상의 별도 의 저장장치가 본 개시의 실시 예를 수행하는 장치에 접속할 수도 있다. 한편, 본 개시에서 제안한 하나 이상의 실시 예의 일부 또는 전부가 다른 하나 이상의 실시 예의 일부 또는 전 부와 결합되어 적용될 수 있으며, 이러한 결합 형태 또한 본 개시의 범위 내에 포함되는 것은 물론이다. 한편, 이상에서 설명된 본 명세서와 도면에 개시된 실시 예들은 본 개시의 내용을 쉽게 설명하고, 이해를 돕기 위해 특정 예를 제시한 것일 뿐이며, 본 개시의 범위를 한정하고자 하는 것은 아니다. 따라서 본 개시의 범위는 여기에 개시된 실시 예들 이외에도 본 개시의 기술적 사상을 바탕으로 도출되는 모든 변경 또는 변형된 형태가 본 개시의 범위에 포함되는 것으로 해석되어야 한다. 또한 상기 각각의 실시예는 기술적인 모순이 없는 한 필요 에 따라 서로 조합되어 운용할 수 있다."}
{"patent_id": "10-2023-0126585", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 개시의 실시예와 관련된 5G 시스템 구조를 도시하는 도면이다. 도 2는 본 개시의 다양한 실시 예에 따른 IMS 네트워크 구조를 도시한 도면이다. 도 3는 본 개시의 다양한 실시 예에 따른 통신 시스템에서 데이터 채널 서버를 포함하는 네트워크 구조의 예를 도시한 도면이다. 도 4는 본 개시의 다양한 실시 예에 따른 통신 시스템에서 IMS 세션의 미디어 타입의 전환의 예를 도시한 도면 이다.도 5는 본 개시의 다양한 실시 예에 따른 통신 시스템에서 IMS 세션의 미디어 타입의 전환을 지원하는 모바일 발신(Mobile origination) 절차를 나타낸 도면이다. 도 6은 본 개시의 다양한 실시 예에 따른 통신 시스템에서 IMS 세션의 미디어 타입의 전환을 지원하는 정책 제 어 및 과금(Policy Control and Charging, PCC) 관련 절차를 나타낸 도면이다. 도 7은 본 개시의 다양 실시 예에 따른 통신 시스템에서 IMS 세션의 미디어 타입의 전환을 지원하는 세션 관리 정책(Session Management Policy, SM Policy)관련 절차를 나타낸 도면이다. 도 8은 본 개시의 다양한 실시 예에 따른 통신 시스템에서 IMS 세션의 미디어 타입을 전환하는 동작에 관련된 절차를 나타낸 도면이다. 도 9는 본 개시의 다양한 실시예에 따른 무선 통신 시스템에서 네트워크 엔티티(Network Entity)의 일 구성 예 를 나타낸 도면. 도 10은 본 개시의 다양한 실시예에 따른 무선 통신 시스템에서 기지국의 일 구성 예를 나타내는 도면이다. 도 11은 본 개시의 다양한 실시예에 따른 무선 통신 시스템에서 단말의 일 구성 예를 나타내는 도면이다."}
