{"patent_id": "10-2019-7019215", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2020-0125414", "출원번호": "10-2019-7019215", "발명의 명칭": "자율 주행 차량과 이를 이용한 서비스 제공 시스템 및 방법", "출원인": "엘지전자 주식회사", "발명자": "허인"}}
{"patent_id": "10-2019-7019215", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "사용자 단말기를 통해 입력된 기 등록 차량 서비스가 있을 때 주차장과 이웃한 서비스 구역을 목적지로 설정하고, 기 등록 차량 서비스 완료 후 상기 서비스 구역과 이웃하는 주차장을 목적지로 설정하는 네비게이션시스템; 및자율 주행으로 차량을 상기 목적지로 이동시키는 운행 시스템을 포함하는 자율 주행 차량."}
{"patent_id": "10-2019-7019215", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서, 상기 서비스 구역의 차량 서비스 등록, 변경, 및 취소를 관리하는 서버와 통신 링크로 연결되는 통신 장치를 더포함하는 자율 주행 차량."}
{"patent_id": "10-2019-7019215", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1 항에 있어서, 상기 통신 링크를 통해 상기 사용자 단말기로부터의 데이터를 상기 서버에 전달하고, 상기 통신 링크를 통해 상기 서버로부터 수신된 데이터를 상기 네비게이션 시스템에 전달하는 제어부를 더 포함하고, 상기 네비 게이션 시스템의 경로 및 목적지가 상기 서버에 의해 제어되는 자율 주행 차량."}
{"patent_id": "10-2019-7019215", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 1 항에 있어서,상기 사용자 단말기는, 사용자에 의해 휴대 가능한 이동 단말기, PC(Personal computer), 노트북 컴퓨터, 상기 차량의 사용자 인터페이스 장치 중 하나 이상을 포함하는 자율 주행 차량."}
{"patent_id": "10-2019-7019215", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 1 항에 있어서,상기 네비게이션 시스템은,상기 서버로부터 수신된 이동 경로를 상기 차량의 자율 주행 경로로 적용하는 자율 주행 차량."}
{"patent_id": "10-2019-7019215", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 1 항에 있어서,상기 네비게이션 시스템은,상기 차량이 상기 주차장에 주차되어 있는 동안, 상기 사용자 단말기를 통해 차량 서비스가 추가될 때 상기 목적지를 상기 서비스 구역으로 설정하는 자율 주행 차량."}
{"patent_id": "10-2019-7019215", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "감시 카메라 시스템, 서비스 제공자 서버, 및 통신 장치에 연결된 관리 서버를 포함하여 하나 이상의 차량 서비스를 제공하는 서비스 시스템; 상기 차량 서비스의 등록, 변경 및 취소를 안내하는 유저 인터페이스 화면을 디스플레이 상에 표시하고, 통신링크를 통해 상기 관리 서버와 연결되어 상기 관리 서버로부터 수신된 데이터를 상기 디스플레이 상에표시하고, 상기 사용자 데이터를 상기 관리 서버로 전송하는 사용자 단말기를 포함하고,공개특허 10-2020-0125414-3-상기 서비스 구역은 주차장과 이웃하게 배치되고,상기 관리 서버는 상기 서비스 구역의 차량 서비스의 등록, 변경, 및 취소를 상기 사용자 단말기로부터 수신하는 서비스 제공 시스템."}
{"patent_id": "10-2019-7019215", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 7 항에 있어서,상기 주차장 및 상기 서비스 구역의 진입로와 연결된 픽업 구역에서, 상기 차량 서비스 등록 여부에 따라 차량이 상기 주차장 또는 상기 서비스 구역 시스템이 관리하는 서비스 구역으로 자율 주행하기 시작하고, 상기 차량이 상기 주차장 또는 상기 서비스 구역으로부터 자율 주행으로 도착하는 서비스 제공 시스템."}
{"patent_id": "10-2019-7019215", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 7 항에 있어서,상기 서비스 제공자 서버는 차량 서비스 현황을 사기 관리 서버에 전송하고, 상기 관리 서버로부터 상기 차량서비스의 등록, 취소, 및 변경을 수신하는 서비스 제공 시스템."}
{"patent_id": "10-2019-7019215", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제 7 항에 있어서,상기 사용자 단말기는, 사용자에 의해 휴대 가능한 이동 단말기, PC(Personal computer), 노트북 컴퓨터, 상기 차량의 사용자 인터페이스 장치 중 하나 이상을 포함하는 서비스 제공 시스템."}
{"patent_id": "10-2019-7019215", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제 7 항에 있어서,상기 차량은,상기 주차장에 주차되어 있는 동안, 상기 사용자 단말기를 통해 차량 서비스가 추가 등록 될 때 상기 서비스 구역으로 자율 주행하여 추가 등록 서비스를 받는 서비스 제공 시스템."}
{"patent_id": "10-2019-7019215", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제 7 항에 있어서, 상기 차량이, 상기 사용자 단말기를 통해 입력된 기 등록 차량 서비스가 있을 때 상기 관리 서버로부터의 이동 경로를 따라상기 차량이 상기 픽업 구역으로부터 상기 서비스 구역으로 자율 주행하기 시작하고, 상기 기 등록 서비스가 완료될 때 상기 서비스 구역으로부터 상기 주차장으로 자율 주행하는 서비스 제공 시스템."}
{"patent_id": "10-2019-7019215", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제 7 항에 있어서, 상기 관리 서버는, 상기 사용자 단말기의 요청에 응답하여 상기 서비스 구역 내에서 상기 차량의 실시간 영상을 상기 사용자 단말기로 전송하고, 상기 사용자 단말기는, 상기 차량의 실시간 영상을 상기 디스플레이 상에 표시하는 서비스 제공 시스템."}
{"patent_id": "10-2019-7019215", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "공개특허 10-2020-0125414-4-제 7 항에 있어서, 상기 사용자 단말기는,상기 등록 차량 서비스의 서비스 항목별 대기 시간, 서비스 시간, 및 총 소요 시간을 포함한 서비스 관련 정보를 상기 디스플레이 상에 표시하고, 상기 서비스 관련 정보는 상기 관리 서버로부터 수신되는 데이터에 따라 실시간 업데이트되는 서비스 제공 시스템."}
{"patent_id": "10-2019-7019215", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제 14 항에 있어서, 상기 사용자 단말기는,상기 기 등록 차량 서비스의 서비스 항목별 혼잡도를 상기 디스플레이 상에 표시하고,상기 혼잡도는 상기 관리 서버로부터 수신되는 데이터에 따라 실시간 업데이트되는 서비스 제공 시스템."}
{"patent_id": "10-2019-7019215", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제 15 항에 있어서, 상기 사용자 단말기는,완료된 차량 서비스 항목과 불가능한 서비스 항목을 상기 디스플레이 상에 표시하는 서비스 제공 시스템."}
{"patent_id": "10-2019-7019215", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제 16 항에 있어서, 상기 사용자 단말기는,상기 관리 서버에 의해 설정된 이동 경로를 따라 상기 서비스 구역 내에서 서비스 진행 상황과 및 서비스 진행비율을 상기 디스플레이 상에 표시하고,상기 서비스 진행 상황과 및 서비스 진행 비율은 상기 관리 서버로부터 수신되는 데이터에 따라 실시간 업데이트되는 서비스 제공 시스템."}
{"patent_id": "10-2019-7019215", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "제 7 항에 있어서, 상기 관리 서버는,상기 서비스 구역의 감시 카메라 시스템으로부터 수신된 차량별 상황 데이터를 수신 받는 컨텍스트 관리자; 상기 사용자 데이터와 상기 상황 데이터를 저장하는 데이터 베이스;상기 사용자 단말기로부터 수신된 등록 차량 서비스를 제공하는 서비스 제공자들의 매점을 연결하는 이동 경로를 설정하고, 상기 상황 데이터를 바탕으로 상기 등록 차량 서비스 항목별 예상 시간을 계산하는 엔진; 차량 서비스 이용에 대한 비용 결제를 처리하는 결제 모듈; 상기 사용자 프로파일을 바탕으로 차량 서비스 등록을 위한 사용자 인증을 처리하는 인증 및 사용자 프로파일모듈; 상기 사용자 단말기를 통해 수신된 차량 서비스의 실시간 영상 요청에 응답하여 상기 차량의 영상을 상기 사용자 단말기에 제공하는 모니터링 모듈; 및 네트워크를 통해 상기 사용자 단말기에 연결되어 상기 사용자 단말기로부터의 데이터를 상기 엔진, 상기 결제모듈, 및 상기 인증 및 사용자 프로파일 모듈에 전송하고, 상기 엔진, 상기 결제 모듈, 및 상기 인증 및 사용자프로파일 모듈로부터의 데이터를 상기 사용자 단말기로 전송하는 서비스 핸들러를 포함하는 서비스 제공시스템. 공개특허 10-2020-0125414-5-청구항 19 제 18 항에 있어서, 상기 차량별 상황 데이터는 차량 번호, 상기 서비스 구역 내의 서비스 제공자들 각각의 매장에서 차량별 서비스시작 시간 및 종료 시간을 포함하고, 상기 사용자 데이터는 사용자 정보, 차량 서비스 등록 데이터, 및 차량 서비스 항목별 예상 시간을 포함하고, 상기 차량 항목별 예상 시간은 등록 차량 서비스 항목별 예상 소요 시간, 총 예상 시간, 및 예상 종료 시간을포함하는 서비스 제공 시스템."}
{"patent_id": "10-2019-7019215", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_20", "content": "하나 이상의 차량 서비스를 제공하는 서비스 구역을 주차장에 이웃하게 배치하는 단계; 상기 차량이 픽업 구역으로부터 상기 서비스 구역으로 자율 주행하여 사용자 단말기를 통해 요청된 등록 차량서비스를 상기 서비스 구역 내에서 받는 단계; 및 상기 등록 차량 서비스 완료후, 상기 차량이 주차장으로부터 상기 픽업 구역으로 자율 주행하여 상기 픽업 구역에서 대기하는 단계를 포함하는 서비스 제공 방법."}
{"patent_id": "10-2019-7019215", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "자율 주행 차량과 이를 이용한 서비스 제공 시스템 및 방법이 개시된다. 본 발명의 일 실시 예에 따른 자율 주행 차량은 본 발명의 자율 주행 차량은 사용자 단말기를 통해 입력된 기 등록 차량 서비스가 있을 때 주차장과 이웃 한 서비스 구역을 목적지로 설정하고, 기 등록 차량 서비스 완료 후 상기 서비스 구역과 이웃하는 주차장을 목적 지로 설정하는 네비게이션 시스템과, 자율 주행으로 차량을 상기 목적지로 이동시키는 운행 시스템을 포함한다. 본 발명의 자율 주행 차량, 사용자 단말기 및 서버 중 하나 이상이 인공 지능, 로봇, 증강 현실(Augmented Reality, AR), 가상 현실(virtual reality, VR) 등과 연계될 수 있다. 공개특허10-2020-0125414 CPC특허분류 G01C 21/3446 (2013.01) G01C 21/3679 (2013.01) G08G 1/0969 (2013.01) H04N 7/18 (2013.01) B60W 2556/50 (2020.02) B60Y 2300/14 (2013.01)명 세 서 청구범위 청구항 1 사용자 단말기를 통해 입력된 기 등록 차량 서비스가 있을 때 주차장과 이웃한 서비스 구역을 목적지로 설정하 고, 기 등록 차량 서비스 완료 후 상기 서비스 구역과 이웃하는 주차장을 목적지로 설정하는 네비게이션 시스템; 및 자율 주행으로 차량을 상기 목적지로 이동시키는 운행 시스템을 포함하는 자율 주행 차량. 청구항 2 제 1 항에 있어서, 상기 서비스 구역의 차량 서비스 등록, 변경, 및 취소를 관리하는 서버와 통신 링크로 연결되는 통신 장치를 더 포함하는 자율 주행 차량. 청구항 3 제 1 항에 있어서, 상기 통신 링크를 통해 상기 사용자 단말기로부터의 데이터를 상기 서버에 전달하고, 상기 통신 링크를 통해 상 기 서버로부터 수신된 데이터를 상기 네비게이션 시스템에 전달하는 제어부를 더 포함하고, 상기 네비 게이션 시스템의 경로 및 목적지가 상기 서버에 의해 제어되는 자율 주행 차량. 청구항 4 제 1 항에 있어서, 상기 사용자 단말기는, 사용자에 의해 휴대 가능한 이동 단말기, PC(Personal computer), 노트북 컴퓨터, 상기 차량의 사용자 인터페이 스 장치 중 하나 이상을 포함하는 자율 주행 차량. 청구항 5 제 1 항에 있어서, 상기 네비게이션 시스템은, 상기 서버로부터 수신된 이동 경로를 상기 차량의 자율 주행 경로로 적용하는 자율 주행 차량. 청구항 6 제 1 항에 있어서, 상기 네비게이션 시스템은, 상기 차량이 상기 주차장에 주차되어 있는 동안, 상기 사용자 단말기를 통해 차량 서비스가 추가될 때 상기 목 적지를 상기 서비스 구역으로 설정하는 자율 주행 차량. 청구항 7 감시 카메라 시스템, 서비스 제공자 서버, 및 통신 장치에 연결된 관리 서버를 포함하여 하나 이상의 차량 서비 스를 제공하는 서비스 시스템; 상기 차량 서비스의 등록, 변경 및 취소를 안내하는 유저 인터페이스 화면을 디스플레이 상에 표시하고, 통신 링크를 통해 상기 관리 서버와 연결되어 상기 관리 서버로부터 수신된 데이터를 상기 디스플레이 상에 표시하고, 상기 사용자 데이터를 상기 관리 서버로 전송하는 사용자 단말기를 포함하고,상기 서비스 구역은 주차장과 이웃하게 배치되고, 상기 관리 서버는 상기 서비스 구역의 차량 서비스의 등록, 변경, 및 취소를 상기 사용자 단말기로부터 수신하 는 서비스 제공 시스템. 청구항 8 제 7 항에 있어서, 상기 주차장 및 상기 서비스 구역의 진입로와 연결된 픽업 구역에서, 상기 차량 서비스 등록 여부에 따라 차량 이 상기 주차장 또는 상기 서비스 구역 시스템이 관리하는 서비스 구역으로 자율 주행하기 시작하고, 상기 차량 이 상기 주차장 또는 상기 서비스 구역으로부터 자율 주행으로 도착하는 서비스 제공 시스템. 청구항 9 제 7 항에 있어서, 상기 서비스 제공자 서버는 차량 서비스 현황을 사기 관리 서버에 전송하고, 상기 관리 서버로부터 상기 차량 서비스의 등록, 취소, 및 변경을 수신하는 서비스 제공 시스템. 청구항 10 제 7 항에 있어서, 상기 사용자 단말기는, 사용자에 의해 휴대 가능한 이동 단말기, PC(Personal computer), 노트북 컴퓨터, 상기 차량의 사용자 인터페이 스 장치 중 하나 이상을 포함하는 서비스 제공 시스템. 청구항 11 제 7 항에 있어서, 상기 차량은, 상기 주차장에 주차되어 있는 동안, 상기 사용자 단말기를 통해 차량 서비스가 추가 등록 될 때 상기 서비스 구 역으로 자율 주행하여 추가 등록 서비스를 받는 서비스 제공 시스템. 청구항 12 제 7 항에 있어서, 상기 차량이, 상기 사용자 단말기를 통해 입력된 기 등록 차량 서비스가 있을 때 상기 관리 서버로부터의 이동 경로를 따라 상기 차량이 상기 픽업 구역으로부터 상기 서비스 구역으로 자율 주행하기 시작하고, 상기 기 등록 서비스가 완료될 때 상기 서비스 구역으로부터 상기 주차장으로 자율 주행하는 서비스 제공 시스 템. 청구항 13 제 7 항에 있어서, 상기 관리 서버는, 상기 사용자 단말기의 요청에 응답하여 상기 서비스 구역 내에서 상기 차량의 실시간 영상을 상기 사용자 단말 기로 전송하고, 상기 사용자 단말기는, 상기 차량의 실시간 영상을 상기 디스플레이 상에 표시하는 서비스 제공 시스템. 청구항 14 제 7 항에 있어서, 상기 사용자 단말기는, 상기 등록 차량 서비스의 서비스 항목별 대기 시간, 서비스 시간, 및 총 소요 시간을 포함한 서비스 관련 정보 를 상기 디스플레이 상에 표시하고, 상기 서비스 관련 정보는 상기 관리 서버로부터 수신되는 데이터에 따라 실시간 업데이트되는 서비스 제공 시스 템. 청구항 15 제 14 항에 있어서, 상기 사용자 단말기는, 상기 기 등록 차량 서비스의 서비스 항목별 혼잡도를 상기 디스플레이 상에 표시하고, 상기 혼잡도는 상기 관리 서버로부터 수신되는 데이터에 따라 실시간 업데이트되는 서비스 제공 시스템. 청구항 16 제 15 항에 있어서, 상기 사용자 단말기는, 완료된 차량 서비스 항목과 불가능한 서비스 항목을 상기 디스플레이 상에 표시하는 서비스 제공 시스템. 청구항 17 제 16 항에 있어서, 상기 사용자 단말기는, 상기 관리 서버에 의해 설정된 이동 경로를 따라 상기 서비스 구역 내에서 서비스 진행 상황과 및 서비스 진행 비율을 상기 디스플레이 상에 표시하고, 상기 서비스 진행 상황과 및 서비스 진행 비율은 상기 관리 서버로부터 수신되는 데이터에 따라 실시간 업데이 트되는 서비스 제공 시스템. 청구항 18 제 7 항에 있어서, 상기 관리 서버는, 상기 서비스 구역의 감시 카메라 시스템으로부터 수신된 차량별 상황 데이터를 수신 받는 컨텍스트 관리자; 상기 사용자 데이터와 상기 상황 데이터를 저장하는 데이터 베이스; 상기 사용자 단말기로부터 수신된 등록 차량 서비스를 제공하는 서비스 제공자들의 매점을 연결하는 이동 경로 를 설정하고, 상기 상황 데이터를 바탕으로 상기 등록 차량 서비스 항목별 예상 시간을 계산하는 엔진; 차량 서비스 이용에 대한 비용 결제를 처리하는 결제 모듈; 상기 사용자 프로파일을 바탕으로 차량 서비스 등록을 위한 사용자 인증을 처리하는 인증 및 사용자 프로파일 모듈; 상기 사용자 단말기를 통해 수신된 차량 서비스의 실시간 영상 요청에 응답하여 상기 차량의 영상을 상기 사용 자 단말기에 제공하는 모니터링 모듈; 및 네트워크를 통해 상기 사용자 단말기에 연결되어 상기 사용자 단말기로부터의 데이터를 상기 엔진, 상기 결제 모듈, 및 상기 인증 및 사용자 프로파일 모듈에 전송하고, 상기 엔진, 상기 결제 모듈, 및 상기 인증 및 사용자 프로파일 모듈로부터의 데이터를 상기 사용자 단말기로 전송하는 서비스 핸들러를 포함하는 서비스 제공 시스템. 청구항 19 제 18 항에 있어서, 상기 차량별 상황 데이터는 차량 번호, 상기 서비스 구역 내의 서비스 제공자들 각각의 매장에서 차량별 서비스 시작 시간 및 종료 시간을 포함하고, 상기 사용자 데이터는 사용자 정보, 차량 서비스 등록 데이터, 및 차량 서비스 항목별 예상 시간을 포함하고, 상기 차량 항목별 예상 시간은 등록 차량 서비스 항목별 예상 소요 시간, 총 예상 시간, 및 예상 종료 시간을 포함하는 서비스 제공 시스템. 청구항 20 하나 이상의 차량 서비스를 제공하는 서비스 구역을 주차장에 이웃하게 배치하는 단계; 상기 차량이 픽업 구역으로부터 상기 서비스 구역으로 자율 주행하여 사용자 단말기를 통해 요청된 등록 차량 서비스를 상기 서비스 구역 내에서 받는 단계; 및 상기 등록 차량 서비스 완료후, 상기 차량이 주차장으로부터 상기 픽업 구역으로 자율 주행하여 상기 픽업 구역 에서 대기하는 단계를 포함하는 서비스 제공 방법. 발명의 설명"}
{"patent_id": "10-2019-7019215", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 자율 주행 차량에 관한 것으로, 자율 차량 기술을 이용하여 발레 파킹과 다양한 차량 서비스를 연계 할 수 있는 자율 주행 차량과 이를 이용한 서비스 제공 시스템 및 방법에 관한 것이다."}
{"patent_id": "10-2019-7019215", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "자율 주행 차량은 운전자의 개입 없이 스스로 운행이 가능하다. 이미 많은 업체들이 자율 주행 차량 사업에 진 출하여, 연구 개발에 몰두하고 있다. 자율 주행 차량은 운전자 개입 없이 빈 공간을 찾아 주차되는 자동 주차 서비스를 지원할 수 있다."}
{"patent_id": "10-2019-7019215", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 목적은 자율 주행 차량을 이용하여 주차와 차량 서비스를 연계하는 자율 주행 차량과 이를 이용한 서 비스 제공 방법을 제공한다. 본 발명의 과제는 이상에서 언급한 과제로 제한되지 않으며, 언급되지 않은 또 다른 과제들은 아래의 기재로부 터 당업자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2019-7019215", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상술한 목적을 달성하기 위한 본 발명의 적어도 일 실시 예에 따른 자율 주행 차량은 본 발명의 자율 주행 차량 은 사용자 단말기를 통해 입력된 기 등록 차량 서비스가 있을 때 주차장과 이웃한 서비스 구역을 목적지로 설정 하고, 기 등록 차량 서비스 완료 후 상기 서비스 구역과 이웃하는 주차장을 목적지로 설정하는 네비게이션 시스 템과, 자율 주행으로 차량을 상기 목적지로 이동시키는 운행 시스템를 포함한다. 본 발명의 적어도 일 실시 예에 따른 서비스 제공 시스템은 본 발명의 서비스 제공 시스템은 감시 카메라 시스 템, 서비스 제공자 서버, 및 통신 장치에 연결된 관리 서버를 포함하여 하나 이상의 차량 서비스를 제공하는 서 비스 시스템; 상기 차량 서비스의 등록, 변경 및 취소를 안내하는 유저 인터페이스 화면을 디스플레이 상에 표 시하고, 통신 링크를 통해 상기 관리 서버와 연결되어 상기 관리 서버로부터 수신된 데이터를 상기 디스플레이 상에 표시하고, 상기 사용자 데이터를 상기 관리 서버로 전송하는 사용자 단말기를 포함한다. 상기 서비스 구 역은 주차장과 이웃하게 배치된다. 상기 관리 서버는 상기 서비스 구역의 차량 서비스의 등록, 변경, 및 취소 를 상기 사용자 단말기로부터 수신한다.본 발명의 적어도 일 실시 예에 따른 서비스 제공 방법은 하나 이상의 차량 서비스를 제공하는 서비스 구역을 주차장에 이웃하게 배치하는 단계; 상기 차량이 픽업 구역으로부터 상기 서비스 구역으로 자율 주행하여 사용자 단말기를 통해 요청된 등록 차량 서비스를 상기 서비스 구역 내에서 받는 단계; 및 상기 등록 차량 서비스 완료 후, 상기 차량이 주차장으로부터 상기 픽업 구역으로 자율 주행하여 상기 픽업 구역에서 대기하는 단계를 포함 한다."}
{"patent_id": "10-2019-7019215", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명은 주차장으로 진입하기 전에 또는 주차장으로부터 진출하는 차량에게 차량 서비스를 제공함으로써 사용 자가 개인 용무를 보는 동안 사용자가 미리 등록한 차량 서비스를 사용자에게 제공할 수 있다. 본 발명은 주차장 근처에 주차와 연계된 차량 서비스를 제공하여 사용자의 편의성을 향상시킬 수 있음은 물론 차량 서비스 예상 소요 시간, 종료 시간, 실시간 현황 등을 UX 화면 상에 제공할 수 있다. 본 발명은 스마트 빌딩, 쇼팅몰 등에서 사용자의 편의성과 서비스 제공자들의 매출 증대 효과를 제공할 수 있다."}
{"patent_id": "10-2019-7019215", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 2, "content": "본 발명의 효과들은 이상에서 언급한 효과들로 제한되지 않으며, 언급되지 않은 또 다른 효과들은 청구범위의 기재로부터 당업자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2019-7019215", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "발명의 실시를 위한 최선의 형태 본 발명의 적어도 일 실시 예에 따른 서비스 제공 시스템은 본 발명의 서비스 제공 시스템은 감시 카메라 시스 템, 서비스 제공자 서버, 및 통신 장치에 연결된 관리 서버를 포함하여 하나 이상의 차량 서비스를 제공하는 서 비스 시스템; 상기 차량 서비스의 등록, 변경 및 취소를 안내하는 유저 인터페이스 화면을 디스플레이 상에 표 시하고, 통신 링크를 통해 상기 관리 서버와 연결되어 상기 관리 서버로부터 수신된 데이터를 상기 디스플레이 상에 표시하고, 상기 사용자 데이터를 상기 관리 서버로 전송하는 사용자 단말기를 포함한다. 상기 서비스 구 역은 주차장과 이웃하게 배치된다. 상기 관리 서버는 상기 서비스 구역의 차량 서비스의 등록, 변경, 및 취소 를 상기 사용자 단말기로부터 수신한다. 발명의 실시를 위한 형태 이하, 첨부된 도면을 참조하여 본 명세서에 개시된 실시예를 상세히 설명하되, 도면 부호에 관계없이 동일하거 나 유사한 구성요소는 동일한 참조 번호를 부여하고 이에 대한 중복되는 설명은 생략하기로 한다. 이하의 설명 에서 사용되는 구성요소에 대한 접미사 \"모듈\" 및 \"부\"는 명세서 작성의 용이함만이 고려되어 부여되거나 혼용 되는 것으로서, 그 자체로 서로 구별되는 의미 또는 역할을 갖는 것은 아니다. 또한, 본 명세서에 개시된 실시 예를 설명함에 있어서 관련된 공지 기술에 대한 구체적인 설명이 본 명세서에 개시된 실시예의 요지를 흐릴 수 있다고 판단되는 경우 그 상세한 설명을 생략한다. 또한, 첨부된 도면은 본 명세서에 개시된 실시예를 쉽게 이 해할 수 있도록 하기 위한 것일 뿐, 첨부된 도면에 의해 본 명세서에 개시된 기술적 사상이 제한되지 않으며, 본 발명의 사상 및 기술 범위에 포함되는 모든 변경, 균등물 내지 대체물을 포함하는 것으로 이해되어야 한다. 제1, 제2 등과 같이 서수를 포함하는 용어는 다양한 구성요소들을 설명하는데 사용될 수 있지만, 상기 구성요소 들은 상기 용어들에 의해 한정되지는 않는다. 상기 용어들은 하나의 구성요소를 다른 구성요소로부터 구별하는 목적으로만 사용된다. 어떤 구성요소가 다른 구성요소에 \"연결되어\" 있다거나 \"접속되어\" 있다고 언급된 때에는, 그 다른 구성요소에 직접적으로 연결되어 있거나 또는 접속되어 있을 수도 있지만, 중간에 다른 구성요소가 존재할 수도 있다고 이 해되어야 할 것이다. 반면에, 어떤 구성요소가 다른 구성요소에 \"직접 연결되어\" 있다거나 \"직접 접속되어\" 있 다고 언급된 때에는, 중간에 다른 구성요소가 존재하지 않는 것으로 이해되어야 할 것이다.단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 출원에서, \"포함한다\" 또는 \"가지다\" 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 동작, 구성요소, 부 품 또는 이들을 조합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되 어야 한다. A. 자율 주행 차량 및 5G 네트워크 블록도 예시 도 1은 본 명세서에서 제안하는 방법들이 적용될 수 있는 무선 통신 시스템의 블록 구성도를 예시한다. 도 1을 참조하면, 자율 주행 모듈을 포함하는 장치를 제1 통신 장치로 정의(도 1의 910, 상세 설명은 단락 N 참 조)하고, 프로세서가 자율 주행 상세 동작을 수행할 수 있다. 자율 주행 장치와 통신하는 다른 차량 또는 5G 네트워크를 제2 통신 장치(도 1의 920, 상세는 단락 N 참조)하고, 프로세서가 자율 주행 상세 동작을 수행할 수 있다. 자율 주행 차량인 제1 통신장치 및 5G 네트워크인 제2 통신 장치를 포함하는 것으로 정의되는 무선 통신 시스템 의 상세는 단락 N을 참조할 수 있다. B. 5G 통신을 이용한 5G 네트워크 대 자율 주행 차량 간 동작 도 2는 5G 통신 시스템에서 자율 주행 차량과 5G 네트워크의 기본동작의 일 예를 나타낸다. 자율 주행 차량(Autonomous Vehicle)는 특정 정보 전송을 5G 네트워크로 전송한다(S1). 상기 특정 정보는, 자율 주행 관련 정보를 포함할 수 있다. 그리고, 상기 5G 네트워크는 차량의 원격 제어 여부를 결정할 수 있다 (S2). 여기서, 상기 5G 네트워크는 자율 주행 관련 원격 제어를 수행하는 서버 또는 모듈을 포함할 수 있다. 그리고, 상기 5G 네트워크는 원격 제어와 관련된 정보(또는 신호)를 상기 자율 주행 차량으로 전송할 수 있다 (S3). 도 3은 5G 통신 시스템에서 자율 주행 차량과 5G 네트워크의 응용 동작의 일 예를 나타낸다. 자율 주행 차량은 5G 네트워크와 초기 접속(initial access) 절차를 수행한다(S20). 상기 초기 접속 절차는 하향 링크(Downlink, DL) 동직 획득을 위핸 셀 서치(cell search), 시스템 정보(system information)를 획득하는 과정 등을 포함하며, 단락 F 에서 보다 구체적으로 설명한다. 그리고, 상기 자율 주행 차량은 상기 5G 네트워크와 임의 접속(random access) 절차를 수행한다(S21). 상기 임의 접속 과정은 상향 링크(Uplink, UL) 동기 획득 또는 UL 데이터 전송을 위해 프리엠블 전송, 임의 접 속 응답 수신 과정 등을 포함하며, 단락 G에서 보다 구체적으로 설명한다. 그리고, 상기 5G 네트워크는 상기 자율 주행 차량으로 특정 정보의 전송을 스케쥴링하기 위한 UL grant를 전송 한다(S22). 상기 UL Grant 수신은 5G 네트워크로 UL 데이터의 전송을 위해 시간/주파수 자원 스케줄링을 받는 과정을 포함 하며, 단락 H에서 보다 구체적으로 설명한다. 그리고, 상기 자율 주행 차량은 상기 UL grant에 기초하여 상기 5G 네트워크로 특정 정보를 전송한다(S23). 그리고, 상기 5G 네트워크는 차량의 원격 제어 여부를 결정한다(S24). 그리고, 자율 주행 차량은 5ㅎ 네트워크로부터 특정 정보에 대한 응답을 수신하기 위해 물리 하향링크 제어 채 널을 통해 DL grant를 수신한다(S25). 그리고, 상기 5G 네트워크는 상기 DL grant에 기초하여 상기 자율 주행 차량으로 원격 제어와 관련된 정보(또는 신호)를 전송한다(S26). 한편, 도 3에서는 자율 주행 차량과 5G 통신의 초기 접속 과정 및또는 임의 접속 과정 및 하향링크 그랜트 수신 과정이 결합된 예를 S20 내지 S26의 과정을 통해 예시적으로 설명하였지만, 본 발명은 이에 한정되지 않는다.예를 들어, S20, S22, S23, S24, S24 과정을 통해 초기 접속 과정 및/또는 임의접속 과정을 수행할 수 있다. 또 한, 예를 들어 S21, S22, S23, S24, S26 과정을 통해 초기접속 과정 및/또는 임의 접속 과정을 수행할 수 있다. 또한 S23, S24, S25, S26을 통해 AI 동작과 하향링크 그랜트 수신과정이 결합되는 과정을 수행할 수 있다. 또한, 도 3에서는 자율 주행 차량 동작에 대하여 S20 내지 S26을 통해 예시적으로 설명한 것이며, 본 발명은 이 에 한정되지 않는다. 예를 들어, 상기 자율 주행 차량 동작은, S20, S21, S22, S25가 S23, S26과 선택적으로 결합되어 동작할 수 있 따, 또한 예를 들어, 상기 자율 주행 차량 동작은, S21, S22, S23, S26으로 구성될 수도 있다. 또한 예를 들어, 상기 자율 주행 차량 동작은, S20, S21, S23, S26으로 구성될 수 있다. 또한, 예를 들어, 상기 자율 주행 차량 동작은, S22, S23, S25, S26으로 구성될 수 있다. 도 4 내지 도 7은 5G 통신을 이용한 자율 주행 차량 동작의 일 예를 나타낸다. 먼저 도 4를 참고하면, 자율 주행 모듈을 포함하는 자율 주행 차량은 DL 동기 및 시스템 정보를 획득하기 위해 SSBsynchronization signal block)에 기초하여 5G 네트워크와 초기 접속 절차를 수행한다(S30). 그리고, 상기 자율 주행 차량은 UL 동기 획득 및/또는 UL 전송을 위해 5G 네트워크와 임의 접속 절차를 수행한 다(S31). 그리고, 상기 지율 주행 차량은 특정 정보를 전송하기 위해 5G 네트워크로 UL grant를 수신한다(S32). 그리고, 상기 자율 주행 차량은 상기 UL grant에 기초하여 특정 정보를 5G 네트워크로 전송한다(S33). 그리고, 상기 자율 주행 차량은 특정 정보에 대한 응답을 수신하기 위한 DL grant를 5G 네트워크로부터 수신한 다(S34). 그리고, 상기 자율 주행 차량은 원격 제어와 관련된 정보(또는 신호)를 DL grant에 기초하여 5G 네트워크로부터 수신한다(S35). S30에 빔 관리(beam management, BM) 과정이 추가될 수 있으며, S31에 PRACH(physical random access channel) 전송과 관련된 빔 실패 복구(beam failure recovery) 과정이 추가될 수 있으며, S32에 UL grant를 포함하는 PDCCH의 빔 수신 방향과 관련하여 QCL 관계 추가될 수 있으며, S33에 특정 정보를 포함하는 PUCCH (physical uplink control channel)/PUSCH (physical uplink shared channel)의 빔 전송 방향과 관련하여 QCL 관계 추가 가 추가될 수 있다. 또한, S34에 DL grant를 포함하는 PDCCH의 빔 수신 방향과 관련하여 QCL 관계 추가될 수 있 으며, 이에 관한 보다 구체적인 설명은 단락 I에서 보다 구체적으로 설명한다. 다음, 도 5를 참고하면, 자율 주행 차량은 DL 동기 및 시스템 정보를 획득하기 위해 SSB에 기초하여 5G 네트워 크와 초기 접속 절차를 수행한다(S40). 그리고, 상기 자율 주행 차량은 UL 동기 획득 및/또는 UL 전송을 위해 5G 네트워크와 임의 접속 절차를 수행한 다(S41). 그리고, 상기 자율 주행 차량은 설정된 그랜트(configured grant)에 기초하여 특정 정보를 5G 네트워크로 전송 한다(S42). 상기 5G 네트워크로부터 UL grant를 수행하는 과정 대신, 설정된 그랜드(configured grant)를 과정 은 단락 H에서 보다 구체적으로 설명한다. 그리고, 상기 자율 주행 차량은 원격 제어와 관련된 정보(또는 신호를) 상기 설정된 그랜트에 기초하여 5G 네트 워크로부터 수신한다(S43). 다음, 도 6을 참고하면, 자율 주행 차량은 DL 동기 및 시스템 정보를 획득하기 위해 SSB에 기초하여 5G 네트워 크와 초기 접속 절차를 수행한다(S50). 그리고, 상기 자율 주행 차량은 UL 동기 획득 및/또는 UL 전송을 위해 5G 네트워크와 임의 접속 절차를 수행한 다(S51). 그리고, 상기 자율 주행 차량은 5G 네트워크로부터 DownlinkPreemption IE를 수신한다(S52). 그리고, 상기 자율 주행 차량은 상기 DownlinkPreemption IE에 기초하여 프리엠션 지시를 포함하는 DCI 포맷 2_1을 5G 네트워크로부터 수신한다(S53). 그리고, 상기 자율 주행 차량은 pre-emption indication에 의해 지시된 자원(PRB 및/또는 OFDM 심볼)에서 eMBB data의 수신을 수행(또는 기대 또는 가정)하지 않는다(S54). 프리엠션 지시(preemption indication) 관련 동작은 단락 J에서 보다 구체적으로 설명한다. 그리고, 상기 자율 주행 차량은 특정 정보를 전송하기 위해 5G 네트워크로 UL grant를 수신한다(S55). 그리고, 상기 자율 주행 차량은 상기 UL grant에 기초하여 특정 정보를 5G 네트워크로 전송한다(S56). 그리고, 상기 자율 주행 차량은 특정 정보에 대한 응답을 수신하기 위한 DL grant를 5G 네트워크로부터 수신한 다(S57). 그리고, 상기 자율 주행 차량은 원격제어와 관련된 정보(또는 신호)를 DL grant에 기초하여 5G 네트워크로부터 수신한다(S58). 다음, 도 7을 참고하면, 자율 주행 차량은 DL 동기 및 시스템 정보를 획득하기 위해 SSB에 기초하여 5G 네트워 크와 초기 접속 절차를 수행한다(S60). 그리고, 상기 자율 주행 차량은 UL 동기 획득 및/또는 UL 전송을 위해 5G 네트워크와 임의 접속 절차를 수행한 다(S61). 그리고, 상기 자율 주행 차량은 특정 정보를 전송하기 위해 5G 네트워크로 UL grant를 수신한다(S62). 상기 UL grant는 상기 특정 정보의 전송에 대한 반복 횟수에 대한 정보를 포함하고, 상기 특정 정보는 상기 반 복 횟수에 대한 정보에 기초하여 반복하여 전송된다(S63). 그리고, 상기 자율 주행 차량은 상기 UL grant에 기초하여 특정 정보를 5G 네트워크로 전송한다. 그리고, 특정 정보의 반복 전송은 주파수 호핑을 통해 수행되고, 첫 번째 특정 정보의 전송은 제 1 주파수 자원 에서, 두 번째 특정 정보의 전송은 제 2 주파수 자원에서 전송될 수 있다. 상기 특정 정보는 6RB(Resource Block) 또는 1RB(Resource Block)의 협대역(narrowband)을 통해 전송될 수 있 다. 그리고, 상기 자율 주행 차량은 특정 정보에 대한 응답을 수신하기 위한 DL grant를 5G 네트워크로부터 수신한 다(S64). 그리고, 상기 자율 주행 차량은 원격제어와 관련된 정보(또는 신호)를 DL grant에 기초하여 5G 네트워크로부터 수신한다(S65). 한편, 도 7에서 설명한 mMTC 관련하여 단락 K에서 보다 구체적으로 설명한다. C. 5G 통신을 이용한 차량 대 차량 간의 자율 주행 동작 도 8은 5G 통신을 이용한 차량 대 차량 간의 기본 동작의 일 예를 예시한다. 제1 차량은 특정 정보를 제2 차량으로 전송한다(S61). 제2 차량은 특정 정보에 대한 응답을 제1 차량으로 전송한다(S61). 여기서, 상기 특정 정보 및 상기 특정 정보에 대한 응답의 전송/수신과 관련된 구체적인 내용은 V2X 통신의 동 작을 설명하는 단락 M에 개시된 내용을 참조할 수 있으며, 상기 도 8과 단락 M에 개시된 내용이 결합되어 적용 될 수 있음을 의미한다. 한편, 5G 네트워크가 상기 특정 정보, 상기 특정 정보에 대한 응답의 자원 할다에 직접적(사이드 링크 통신 전 송 모드 3) 또는 간접적으로(사이드링크 통신 전송 모드 4) 관여하는지에 따라 차량 대 차량 간 응용 동작의 구 성이 달라질 수 있다. 도 9 내지 도 10은 5G 통신을 이용한 차량 대 차량 간의 응용 동작의 일 예를 예시한다. 도 9는 5G 네트워크가 신호 전송/수신의 자원 할당에 직접적으로 관여하는 실시예를 나타낸다. 5G 네트워크는, 모드 3 전송(PSCCH 및/또는 PSSCH 전송)의 스케줄링을 위해 DCI 포맷 5A를 제1 차량에 전송할 수 있다. 여기서 PSCCH(physical sidelink control channel): 특정 정보 전송의 스케줄링을 위한 5G 물리 채널이고, PSSCH(physical sidelink shared channel): 특정 정보를 전송하는 5G 물리 채널이다. 제1 차량은 특정 정보 전송의 스케줄링을 위한 SCI 포맷 1을 PSCCH 상에서 제2 차량으로 전송한다(S71). 그리고, 제1 차량이 특정 정보를 PSSCJ 상에서 제2 차량으로 전송한다(S72) 도 10은 5G 네트워크가 신호 전송/수신의 자원 할다에 간접적으로 관여하는 실시예를 나타낸다. 도 10을 참고하면, 제1 차량은 모드 4 전송을 위한 자원을 제1 윈도우에서 센싱한다(S80). 그리고, 제1 차량은, 상기 센싱 결과에 기초하여 제2 윈도우에서 모드 4 전송을 위한 자원을 선택한다(S81). 여기서, 제1 윈도우는 센싱 윈도우(sensing window)를 의미하고, 제2 윈도우는 선택 윈도우(selection windo w)를 의미한다. 제1 차량은 상기 선택된 자원을 기초로 특정 정보 전송의 스케줄링을 위한 SCI 포맷 1을 PSCCH 상에서 제2 차량 으로 전송한다(S82) 그리고, 제1 차량은 특정 정보를 PSSCH 상에서 제2 차량으로 전송한다(S83). D. Introduction 이하에서, 하향링크(downlink, DL)는 기지국(base station, BS)에서 사용자 기기(user equipment, UE)로의 통 신을 의미하며, 상향링크(uplink, UL)는 UE에서 BS로의 통신을 의미한다. 하향링크에서 전송기(transmitter)는 BS의 일부이고, 수신기(receiver)는 UE의 일부일 수 있다. 상향링크에서 전송기는 UE의 일부이고, 수신기는 BS 의 일부일 수 있다. 본 명세서에서 UE는 제 1 통신 장치, BS는 제 2 통신 장치로 표현될 수도 있다. BS는 고정 국(fixed station), Node B, eNB(evolved-NodeB), gNB(Next Generation NodeB), BTS(base transceiver system), 접속 포인트(access point, AP), 네트워크 혹은 5G (5th generation) 네트워크 노드, AI (Artificial Intelligence) 시스템, RSU(road side unit), 로봇 등의 용어에 의해 대체될 수 있다. 또한, UE는 단말 (terminal), MS(Mobile Station), UT(User Terminal), MSS(Mobile Subscriber Station), SS(Subscriber Station), AMS(Advanced Mobile Station), WT(Wireless terminal), MTC(Machine-Type Communication) 장치, M2M(Machine-to-Machine) 장치, D2D(Device-to-Device) 장치, 차량(vehicle), 로봇(robot), AI 모듈 등의 용어 로 대체될 수 있다. 이하의 기술은 CDMA(Code Division Multiple Access), FDMA(Frequency Division Multiple Access), TDMA(Time Division Multiple Access), OFDMA(Orthogonal Frequency Division Multiple Access), SC-FDMA(Single Carrier FDMA) 등과 같은 다양한 무선 접속 시스템에 사용될 수 있다. CDMA는 UTRA(Universal Terrestrial Radio Access)나 CDMA2000과 같은 무선 기술로 구현될 수 있다. TDMA는 GSM(Global System for Mobile communications)/GPRS(General Packet Radio Service)/EDGE(Enhanced Data Rates for GSM Evolution)와 같은 무선 기술로 구현될 수 있다. OFDMA는 IEEE 802.11 (Wi-Fi), IEEE 802.16 (WiMAX), IEEE 802-20, E- UTRA(Evolved UTRA) 등과 같은 무선 기술로 구현될 수 있다. UTRA는 UMTS(Universal Mobile Telecommunications System)의 일부이다. 3GPP(3rd Generation Partnership Project) LTE(Long Term Evolution)은 E-UTRA를 사용하는 E-UMTS(Evolved UMTS)의 일부이고 LTE-A(Advanced)/LTE-A pro는 3GPP LTE의 진화된 버전이다. 3GPP NR(New Radio or New Radio Access Technology)는 3GPP LTE/LTE-A/LTE-A pro의 진화된 버전이다. 설명을 명확하게 하기 위해, 3GPP 통신 시스템(예, LTE-A, NR)을 기반으로 설명하지만 본 발명의 기술적 사상이 이에 제한되는 것은 아니다. LTE는 3GPP TS 36.xxx Release 8 이후의 기술을 의미한다. 세부적으로, 3GPP TS 36.xxx Release 10 이후의 LTE 기술은 LTE-A로 지칭되고, 3GPP TS 36.xxx Release 13 이후의 LTE 기술은 LTE-A pro로 지칭된다. 3GPP 5G (5th generation) 기술은 TS 36.xxx Release 15 이후의 기술 및 TS 38.XXX Release 15 이후의 기술을 의미하며, 이 중 TS 38.xxx Release 15 이후의 기술은 3GPP NR로 지칭되고, TS 36.xxx Release 15 이후의 기술은 enhanced LTE로 지칭될 수 있다. \"xxx\"는 표준 문서 세부 번호를 의미한다. LTE/NR 은 3GPP 시스템으로 통칭될 수 있다. 본 명세(disclosure)에서, 노드(node)라 함은 UE와 통신하여 무선 신호를 전송/수신할 수 있는 고정된 포인트 (point)을 말한다. 다양한 형태의 BS들이 그 명칭에 관계없이 노드로서 이용될 수 있다. 예를 들어, BS, NB, eNB, 피코-셀 eNB(PeNB), 홈 eNB(HeNB), 릴레이(relay), 리피터(repeater) 등이 노드가 될 수 있다. 또한, 노 드는 BS가 아니어도 될 수 있다. 예를 들어, 무선 리모트 헤드(radio remote head, RRH), 무선 리모트 유닛(radio remote unit, RRU)가 될 수 있다. RRH, RRU 등은 일반적으로 BS의 전력 레벨(power level)에 비해 더욱 낮은 전력 레벨을 갖는다. 일 노드에는 최소 하나의 안테나가 설치된다. 상기 안테나는 물리 안테나를 의미할 수도 있으며, 안테나 포트, 가상 안테나, 또는 안테나 그룹을 의미할 수도 있다. 노드는 포인트(point)라고 불 리기도 한다. 본 명세서에서 셀(cell)이라 함은 하나 이상의 노드가 통신 서비스를 제공하는 일정 지리적 영역 혹은 무선 자 원을 말한다. 지리적 영역의 \"셀\"은 노드가 반송파를 이용하여 서비스를 제공할 수 있는 커버리지(coverage)라 고 이해될 수 있으며, 무선 자원의 \"셀\"은 상기 반송파에 의해 설정(configure)되는 주파수 크기인 대역폭 (bandwidth, BW)와 연관된다. 노드가 유효한 신호를 전송할 수 있는 범위인 하향링크 커버리지와 UE로부터 유효 한 신호를 수신할 수 있는 범위인 상향링크 커버리지는 해당 신호를 나르는 반송파에 의해 의존하므로 노드의 커버리지는 상기 노드가 사용하는 무선 자원의 \"셀\"의 커버리지와 연관되기도 한다. 따라서 \"셀\"이라는 용어는 때로는 노드에 의한 서비스의 커버리지를, 때로는 무선 자원을, 때로는 상기 무선 자원을 이용한 신호가 유효한 세기로 도달할 수 있는 범위를 의미하는 데 사용될 수 있다. 본 명세서에서 특정 셀과 통신한다고 함은 상기 특정 셀에 통신 서비스를 제공하는 BS 혹은 노드와 통신하는 것 을 의미할 수 있다. 또한, 특정 셀의 하향링크/상향링크 신호는 상기 특정 셀에 통신 서비스를 제공하는 BS 혹 은 노드로부터의/로의 하향링크/상향링크 신호를 의미한다. UE에게 상향링크/하향링크 통신 서비스를 제공하는 셀을 특히 서빙 셀(serving cell)이라고 한다. 또한, 특정 셀의 채널 상태/품질은 상기 특정 셀에 통신 서비스 를 제공하는 BS 혹은 노드와 UE 사이에 형성된 채널 혹은 통신 링크의 채널 상태/품질을 의미한다. 한편, 무선 자원과 연관된 \"셀\"은 하향링크 자원(DL resources)와 상향링크 자원(UL resources)의 조합, 즉, DL 컴포넌트 반송파(component carrier, CC) 와 UL CC의 조합으로 정의될 수 있다. 셀은 DL 자원 단독, 또는 DL 자원과 UL 자원의 조합으로 설정될(configured) 수도 있다. 반송파 집성(carrier aggregation)이 지원되는 경우, DL 자원(또는, DL CC)의 반송파 주파수(carrier frequency)와 UL 자원(또는, UL CC)의 반송파 주파수 (carrier frequency) 사이의 링키지(linkage)는 해당 셀을 통해 전송되는 시스템 정보(system information)에 의해 지시될 수 있다. 여기서, 반송파 주파수는 각 셀 혹은 CC의 중심 주파수(center frequency)와 같을 수도 혹은 다를 수도 있다. 이하에서는 1차 주파수(primary frequency) 상에서 동작하는 셀을 1차 셀(primary cell, Pcell) 혹은 PCC로 지칭하고, 2차 주파수(Secondary frequency) 상에서 동작하는 셀을 2차 셀(secondary cell, Scell) 혹은 SCC로 칭한다. Scell이라 함은 UE가 BS와 RRC(Radio Resource Control) 연결 수립(connection establishment) 과정을 수행하여 상기 UE와 상기 BS 간에 RRC 연결이 수립된 상태, 즉, 상기 UE가 RRC_CONNECTED 상태가 된 후에 설정될 수 있다. 여기서 RRC 연결은 UE의 RRC와 BS의 RRC가 서로 RRC 메시지를 주고 받을 수 있는 통로를 의미할 수 있다. Scell은 UE에게 추가적인 무선 자원을 제공하기 위해 설정될 수 있 다. UE의 성능(capabilities)에 따라, Scell이 Pcell과 함께, 상기 UE를 위한 서빙 셀의 모음(set)을 형성할 수 있다. RRC_CONNECTED 상태에 있지만 반송파 집성이 설정되지 않았거나 반송파 집성을 지원하지 않는 UE의 경 우, Pcell로만 설정된 서빙 셀이 단 하나 존재한다. 셀은 고유의 무선 접속 기술을 지원한다. 예를 들어, LTE 셀 상에서는 LTE 무선 접속 기술(radio access technology, RAT)에 따른 전송/수신이 수행되며, 5G 셀 상에서는 5G RAT에 따른 전송/수신이 수행된다. 반송파 집성 기술은 광대역 지원을 위해 목표 대역폭(bandwidth)보다 작은 시스템 대역폭을 가지는 복수의 반송 파들을 집성하여 사용하는 기술을 말한다. 반송파 집성은 각각이 시스템 대역폭(채널 대역폭이라고도 함)을 형 성하는 복수의 반송파 주파수들을 사용하여 하향링크 혹은 상향링크 통신을 수행한다는 점에서, 복수의 직교하 는 부반송파들로 분할된 기본 주파수 대역을 하나의 반송파 주파수에 실어 하향링크 혹은 상향링크 통신을 수행 하는 OFDMA 기술과 구분된다. 예를 들어, OFDMA 혹은 직교 주파수 분할 다중화(orthogonal frequency division multiplexing, OFDM)의 경우에는 일정 시스템 대역폭을 갖는 하나의 주파수 대역이 일정 부반송파 간격을 갖는 복수의 부반송파들로 분할되고, 정보/데이터가 상기 복수의 부반송파들 내에서 매핑되며, 상기 정보/데이터가 맵핑된 상기 주파수 대역은 주파수 상향 변환(upconversion)을 거쳐 상기 주파수 대역의 반송파 주파수로 전송 된다. 무선 반송파 집성의 경우에는 각각이 자신의 시스템 대역폭 및 반송파 주파수를 갖는 주파수 대역들이 동 시에 통신에 사용될 수 있으며, 반송파 집성에 사용되는 각 주파수 대역은 일정 부반송파 간격을 갖는 복수의 부반송파들로 분할될 수 있다. 3GPP 기반 통신 표준은 물리 계층(physical layer)의 상위 계층(upper layer)(예, 매제 접속 제어(medium access control, MAC) 계층, 무선 링크 제어(radio link control, RLC) 계층, 패킷 데이터 수렴 프로토콜 (protocol data convergence protocol, PDCP) 계층, 무선 자원 제어(radio resource control, RRC) 계층, 서비스 데이터 적응 프로토콜(service data adaptation protocol, SDAP), 비-접속 층(non-access stratum, NAS) 계 층)로부터 기원한 정보를 나르는 자원 요소(resource element)들에 대응하는 하향링크 물리 채널들과, 물리 계 층에 의해 사용되나 상위 계층으로부터 기원하는 정보를 나르지 않는 자원 요소들에 대응하는 하향링크 물리 신 호들을 정의한다. 예를 들어, 물리 하향링크 공유 채널(physical downlink shared channel, PDSCH), 물리 브로 드캐스트 채널(physical broadcast channel, PBCH), 물리 멀티캐스트 채널(physical multicast channel, PMCH), 물리 제어 포맷 지시자 채널(physical control format indicator channel, PCFICH), 물리 하향링크 제 어 채널(physical downlink control channel, PDCCH)이 하향링크 물리 채널들로서 정의되어 있으며, 참조 신호 와 동기 신호가 하향링크 물리 신호들로서 정의되어 있다. 파일럿(pilot)이라고도 지칭되는 참조 신호 (reference signal, RS)는 BS와 UE가 서로 알고 있는 기정의된 특별한 파형의 신호를 의미하는데, 예를 들어, 셀 특정적 RS(cell specific RS), UE-특정적 RS(UE-specific RS, UE-RS), 포지셔닝 RS(positioning RS, PRS), 채널 상태 정보 RS(channel state information RS, CSI-RS), 복조 참조 신호(demodulation reference signal, DMRS)가 하향링크 참조 신호들로서 정의된다. 한편, 3GPP 기반 통신 표준은 상위 계층으로부터 기원한 정보를 나르는 자원 요소들에 대응하는 상향링크 물리 채널들과, 물리 계층에 의해 사용되나 상위 계층으로부터 기원하 는 정보를 나르지 않는 자원 요소들에 대응하는 상향링크 물리 신호들을 정의하고 있다. 예를 들어, 물리 상향 링크 공유 채널(physical uplink shared channel, PUSCH), 물리 상향링크 제어 채널(physical uplink control channel, PUCCH), 물리 임의 접속 채널(physical random access channel, PRACH)가 상향링크 물리 채널로서 정 의되며, 상향링크 제어/데이터 신호를 위한 복조 참조 신호(demodulation reference signal, DMRS)와 상향링크 채널 측정에 사용되는 사운딩 참조 신호(sounding reference signal, SRS)가 정의된다. 본 명세서에서 물리 하향링크 제어 채널(physical downlink control channel, PDCCH)와 물리 하향링크 공유 채 널(physical downlink shared channel, PDSCH)는 물리 계층의 하향링크 제어 정보(downlink control information, DCI)와 하향링크 데이터를 나르는 시간-주파수 자원의 집합 혹은 자원요소의 집합을 각각 의미할 수 있다. 또한, 물리 상향링크 제어 채널(physical uplink control channel), 물리 상향링크 공유 채널 (physical uplink shared channel, PUSCH) 및 물리 임의 접속 채널(physical random access channel)는 물리 계층의 상향링크 제어 정보(uplink control information, UCI), 상향링크 데이터 및 임의 접속 신호를 나르는 시간-주파수 자원의 집합 혹은 자원요소의 집합을 각각 의미한다. 이하에서 UE가 상향링크 물리 채널(예, PUCCH, PUSCH, PRACH)를 전송한다는 것은 해당 상향링크 물리 채널 상에서 혹은 상향링크 물리 채널을 통해서 UCI, 상향링크 데이터, 또는 임의 접속 신호를 전송한다는 것을 의미할 수 있다. BS가 상향링크 물리 채널을 수 신한다는 것은 해당 상향링크 물리 채널 상에서 혹은 통해서 DCI, 상향링크 데이터, 또는 임의 접속 신호를 수 신한다는 것을 의미할 수 있다. BS가 하향링크 물리 채널(예, PDCCH, PDSCH)를 전송한다는 것은 해당 하향링크 물리 채널 상에서 혹은 하향링크 물리 채널을 통해서 DCI 혹은 하향링크 데이터를 전송한다는 것과 동일한 의미 로 사용된다. UE가 하향링크 물리 채널을 수신한다는 것은 해당 하향링크 물리 채널 상에서 혹은 통해서 DCI 혹 은 하향링크 데이터를 수신한다는 것을 의미할 수 있다. 본 명세서에서 수송 블록(transport block)은 물리 계층을 위한 페이로드(payload)이다. 예를 들어, 상위 계층 혹은 매체 접속 제어(medium access control, MAC) 계층으로부터 물리 계층에 주어진 데이터가 기본적으로 수송 블록으로 지칭된다. 본 명세서에서 HARQ(Hybrid Automatic Repeat and reQuest)는 오류 제어 방법의 일종이다. 하향링크를 통해 전 송되는 HARQ-ACK(HARQ acknowledgement)은 상향링크 데이터에 대한 오류 제어를 위해 사용되며, 상향링크를 통 해 전송되는 HARQ-ACK은 하향링크 데이터에 대한 오류 제어를 위해 사용된다. HARQ 동작을 수행하는 전송단은 데이터(예, 수송 블록, 코드워드)를 전송한 후 긍정 확인(ACK; acknowledgement)를 기다린다. HARQ 동작을 수행 하는 수신단은 데이터를 제대로 받은 경우만 긍정 확인(ACK)을 보내며, 수신 데이터에 오류가 생긴 경우 부정 확인(negative ACK, NACK)을 보낸다. 전송단이 ACK을 수신한 경우에는 (새로운) 데이터를 전송할 수 있고, NACK 을 수신한 경우에는 데이터를 재전송할 수 있다. BS가 스케줄링 정보와 상기 스케줄링 정보에 따른 데이터를 전 송한 뒤, UE로부터 ACK/NACK을 수신하고 재전송 데이터가 전송될 때까지 시간 딜레이(delay)가 발생한다. 이러 한 시간 딜레이는 채널 전파 지연(channel propagation delay), 데이터 디코딩(decoding)/인코딩(encoding)에 걸리는 시간으로 인해 발생한다. 따라서, 현재 진행 중인 HARQ 프로세스가 끝난 후에 새로운 데이터를 보내는 경우, 시간 딜레이로 인해 데이터 전송에 공백이 발생한다. 따라서, 시간 딜레이 구간 동안에 데이터 전송에 공 백이 생기는 것을 방지하기 위하여 복수의 독립적인 HARQ 프로세스가 사용된다. 예를 들어, 초기 전송과 재전송 사이에 7번의 전송 기회(occasion)가 있는 경우, 통신 장치는 7개의 독립적인 HARQ 프로세스를 운영하여 공백 없이 데이터 전송을 수행할 수 있다. 복수의 병렬 HARQ 프로세스들을 활용하면, 이전 UL/DL 전송에 대한 HARQ피드백을 기다리는 동안 UL/DL 전송이 연속적으로 수행될 수 있다. 본 명세서에서 채널 상태 정보(channel state information, CSI)는 UE와 안테나 포트 사이에 형성되는 무선 채 널(혹은 링크라고도 함)의 품질을 나타낼 수 있는 정보를 통칭한다. CSI는 채널 품질 지시자(channel quality indicator, CQI), 프리코딩 행렬 지시자 (precoding matrix indicator, PMI), CSI-RS 자원 지시자(CSI-RS resource indicator, CRI), SSB 자원 지시자(SSB resource indicator, SSBRI), 레이어 지시자(layer indicator, LI), 랭크 지시자(rank indicator, RI) 또는 참조 신호 수신 품질(reference signal received power, RSRP) 중 적어도 하나를 포함할 수 있다. 본 명세서에서 주파수 분할 다중화(frequency division multiplexing, FDM)라 함은 신호/채널/사용자들을 서로 다른 주파수 자원에서 전송/수신하는 것을 의미할 수 있으며, 시간 분할 다중화(time division multiplexing, TDM)이라 함은 신호/채널/사용자들을 서로 다른 시간 자원에서 전송/수신하는 것을 의미할 수 있다. 본 발명에서 주파수 분할 듀플렉스(frequency division duplex, FDD)는 상향링크 반송파에서 상향링크 통신이 수행되고 상기 상향링크용 반송파에 링크된 하향링크용 반송파에서 하향링크 통신이 수행되는 통신 방식을 말하 며, 시간 분할 듀플렉스(time division duplex, TDD)라 함은 상향링크 통신과 하향링크 통신이 동일 반송파에서 시간을 나누어 수행되는 통신 방식을 말한다."}
{"patent_id": "10-2019-7019215", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "본 명세서에서 사용된 배경기술, 용어, 약어 등에 관해서는 본 발명 이전에 공개된 표준 문서에 기재된 사항을 참조할 수 있다. 예를 들어, 다음 문서를 참조할 수 있다. 3GPP LTE - 3GPP TS 36.211: Physical channels and modulation - 3GPP TS 36.212: Multiplexing and channel coding - 3GPP TS 36.213: Physical layer procedures - 3GPP TS 36.214: Physical layer; Measurements - 3GPP TS 36.300: Overall description - 3GPP TS 36.304: User Equipment (UE) procedures in idle mode - 3GPP TS 36.314: Layer 2 - Measurements - 3GPP TS 36.321: Medium Access Control (MAC) protocol - 3GPP TS 36.322: Radio Link Control (RLC) protocol - 3GPP TS 36.323: Packet Data Convergence Protocol (PDCP) - 3GPP TS 36.331: Radio Resource Control (RRC) protocol - 3GPP TS 23.303: Proximity-based services (Prose); Stage 2 - 3GPP TS 23.285: Architecture enhancements for V2X services - 3GPP TS 23.401: General Packet Radio Service (GPRS) enhancements for Evolved Universal Terrestrial Radio Access Network (E-UTRAN) access - 3GPP TS 23.402: Architecture enhancements for non-3GPP accesses - 3GPP TS 23.286: Application layer support for V2X services; Functional architecture and information flows - 3GPP TS 24.301: Non-Access-Stratum (NAS) protocol for Evolved Packet System (EPS); Stage 3 - 3GPP TS 24.302: Access to the 3GPP Evolved Packet Core (EPC) via non-3GPP access networks; Stage 3 - 3GPP TS 24.334: Proximity-services (ProSe) User Equipment (UE) to ProSe function protocol aspects; Stage 3 - 3GPP TS 24.386: User Equipment (UE) to V2X control function; protocol aspects; Stage 3 3GPP NR - 3GPP TS 38.211: Physical channels and modulation - 3GPP TS 38.212: Multiplexing and channel coding - 3GPP TS 38.213: Physical layer procedures for control - 3GPP TS 38.214: Physical layer procedures for data - 3GPP TS 38.215: Physical layer measurements - 3GPP TS 38.300: NR and NG-RAN Overall Description - 3GPP TS 38.304: User Equipment (UE) procedures in idle mode and in RRC inactive state - 3GPP TS 38.321: Medium Access Control (MAC) protocol - 3GPP TS 38.322: Radio Link Control (RLC) protocol - 3GPP TS 38.323: Packet Data Convergence Protocol (PDCP) - 3GPP TS 38.331: Radio Resource Control (RRC) protocol - 3GPP TS 37.324: Service Data Adaptation Protocol (SDAP) - 3GPP TS 37.340: Multi-connectivity; Overall description - 3GPP TS 23.287: Application layer support for V2X services; Functional architecture and information flows - 3GPP TS 23.501: System Architecture for the 5G System - 3GPP TS 23.502: Procedures for the 5G System - 3GPP TS 23.503: Policy and Charging Control Framework for the 5G System; Stage 2 - 3GPP TS 24.501: Non-Access-Stratum (NAS) protocol for 5G System (5GS); Stage 3 - 3GPP TS 24.502: Access to the 3GPP 5G Core Network (5GCN) via non-3GPP access networks - 3GPP TS 24.526: User Equipment (UE) policies for 5G System (5GS); Stage 3 E. 3GPP 신호 전송/수신 방법 도 8은 3GPP 신호 전송/수신 방법의 일례를 나타낸 도이다. 도 8을 참고하면, UE는 전원이 켜지거나 새로이 셀에 진입한 경우 BS와 동기를 맞추는 등의 초기 셀 탐색 (initial cell search) 작업을 수행한다(S201). 이를 위해, UE는 BS로부터 1차 동기 채널(primary synchronization channel, P-SCH) 및 2차 동기 채널(secondary synchronization channel, S-SCH)을 수신하여 BS와 동기를 맞추고, 셀 ID 등의 정보를 획득할 수 있다. LTE 시스템과 NR 시스템에서 P-SCH와 S-SCH는 각각 1 차 동기 신호(primary synchronization signal, PSS)와 2차 동기 신호(secondary synchronization signal, SSS)로 불린다. 상기 초기 셀 탐색 절차는 하기 F.에서 더 상세히 설명된다. 초기 셀 탐색 후, UE는 BS로부터 물리 브로드캐스트 채널(physical broadcast channel, PBCH)를 수신하여 셀 내 브로드캐스트 정보를 획득할 수 있다. 한편, UE는 초기 셀 탐색 단계에서 하향링크 참조 신호(downlink reference Signal, DL RS)를 수신하여 하향링크 채널 상태를 확인할 수 있다. 초기 셀 탐색을 마친 UE는 물리 하향링크 제어 채널(physical downlink control channel, PDCCH) 및 상기 PDCCH에 실린 정보에 따라 물리 하향링크 공유 채널(physical downlink shared Channel, PDSCH)을 수신함으로 써 좀더 구체적인 시스템 정보를 획득할 수 있다(S202). 한편, BS에 최초로 접속하거나 신호 전송을 위한 무선 자원이 없는 경우 UE는 BS에 대해 임의 접속 과정(random access procedure, RACH)을 수행할 수 있다(단계 S203 내지 단계 S206). 이를 위해, UE는 물리 임의 접속 채널 (physical random access Channel, PRACH)을 통해 특정 시퀀스를 프리앰블로서 전송하고(S203 및 S205), PDCCH 및 대응하는 PDSCH를 통해 프리앰블에 대한 임의 접속 응답(random access response, RAR) 메시지를 수신할 수있다(S204 및 S206). 경쟁 기반 RACH의 경우, 추가적으로 충돌 해결 과정(contention resolution procedure)를 수행할 수 있다. 상기 임의 접속 과정은 하기 G.에서 더 상세히 설명된다. 상술한 바와 같은 과정을 수행한 UE는 이후 일반적인 상향링크/하향링크 신호 전송 과정으로서 PDCCH/PDSCH 수 신(S207) 및 물리 상향링크 공유 채널(physical uplink shared Channel, PUSCH)/물리 상향링크 제어 채널 (physical uplink control channel, PUCCH) 전송(S208)을 수행할 수 있다. 특히 UE는 PDCCH를 통하여 하향링크 제어 정보(downlink control information, DCI)를 수신한다. UE는 해당 탐색 공간 설정(configuration)들에 따라 서빙 셀 상의 하나 이상의 제어 요소 세트(control element set, CORESET)들에 설정된 모니터링 기회(occasion)들에서 PDCCH 후보(candidate)들의 세트를 모니터 링한다. UE가 모니터할 PDCCH 후보들의 세트는 탐색 공간 세트들의 면에서 정의되며, 탐색 공간 세트는 공통 탐 색 공간 세트 또는 UE-특정 탐색 공간 세트일 수 있다. CORESET은 1~3개 OFDM 심볼들의 시간 지속기간을 갖는 (물리) 자원 블록들의 세트로 구성된다. 네트워크는 UE가 복수의 CORESET들을 갖도록 설정할 수 있다. UE는 하 나 이상의 탐색 공간 세트들 내 PDCCH 후보들을 모니터링한다. 여기서 모니터링이라 함은 탐색 공간 내 PDCCH 후보(들)에 대한 디코딩 시도하는 것을 의미한다. UE가 탐색 공간 내 PDCCH 후보들 중 하나에 대한 디코딩에 성 공하면, 상기 UE는 해당 PDCCH 후보에서 PDCCH를 검출했다고 판단하고, 상기 검출된 PDCCH 내 DCI를 기반으로 PDSCH 수신 혹은 PUSCH 전송을 수행한다. PDCCH는 PDSCH 상의 DL 전송들 및 PUSCH 상의 UL 전송들을 스케줄링하는 데 사용될 수 있다. 여기서 PDCCH 상의 DCI는 하향링크 공유 채널과 관련된, 변조(modulation) 및 코딩 포맷과 자원 할당(resource allocation) 정보 를 적어도 포함하는 하향링크 배정(assignment)(즉, downlink grant; DL grant), 또는 상향링크 공유 채널과 관련된, 변조 및 코딩 포맷과 자원 할당 정보를 포함하는 상향링크 그랜트(uplink grant; UL grant)를 포함한다. F. 초기 접속 (Initial Access, IA) 과정 SSB(Synchronization Signal Block) 전송 및 관련 동작 도 9는 SSB 구조를 예시한다. UE는 SSB에 기반하여 셀 탐색(search), 시스템 정보 획득, 초기 접속을 위한 빔 정렬, DL 측정 등을 수행할 수 있다. SSB는 SS/PBCH(Synchronization Signal/Physical Broadcast channel) 블 록과 혼용된다. 도 9를 참조하면, SSB는 PSS, SSS와 PBCH로 구성된다. SSB는 4개의 연속된 OFDM 심볼들에 구성되며, OFDM 심볼 별로 PSS, PBCH, SSS/PBCH 또는 PBCH가 전송된다. PSS와 SSS는 각각 1개의 OFDM 심볼과 127개의 부반송파들로 구성되고, PBCH는 3개의 OFDM 심볼과 576개의 부반송파들로 구성된다. PBCH에는 폴라(Polar) 코드를 기반으로 인코딩/디코딩되고, QPSK(Quadrature Phase Shift Keying)에 따라 변조(modulation)/복조(demodulation)된다. OFDM 심볼 내 PBCH는 PBCH의 복소 변조 값이 매핑되는 데이터 자원 요소(resource element, RE)들과 상기 PBCH 를 위한 복조 참조 신호(demodulation reference signal, DMRS)가 매핑되는 DMRS RE들로 구성된다. OFDM 심볼 의 자원 블록별로 3개의 DMRS RE가 존재하며, DMRS RE 사이에는 3개의 데이터 RE가 존재한다. 셀 탐색(search) 셀 탐색은 UE가 셀의 시간/주파수 동기를 획득하고, 상기 셀의 셀 ID(Identifier)(예, Physical layer Cell ID, PCI)를 검출하는 과정을 의미한다. PSS는 셀 ID 그룹 내에서 셀 ID를 검출하는데 사용되고, SSS는 셀 ID 그 룹을 검출하는데 사용된다. PBCH는 SSB (시간) 인덱스 검출 및 하프-프레임 검출에 사용된다. UE의 셀 탐색 과정은 하기 표 1과 같이 정리될 수 있다. 표 1"}
{"patent_id": "10-2019-7019215", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "336개의 셀 ID 그룹이 존재하고, 셀 ID 그룹 별로 3개의 셀 ID가 존재한다. 총 1008개의 셀 ID가 존재한다. 셀 의 셀 ID가 속한 셀 ID 그룹에 관한 정보는 상기 셀의 SSS를 통해 제공/획득되며, 상기 셀 ID 내 336개 셀들 중 상기 셀 ID에 관한 정보는 PSS를 통해 제공/획득된다 도 10은 SSB 전송을 예시한다. SSB는 SSB 주기(periodicity)에 맞춰 주기적으로 전송된다. 초기 셀 탐색 시에 UE가 가정하는 SSB 기본 주기는 20ms로 정의된다. 셀 접속 후, SSB 주기는 네트워크(예, BS)에 의해 {5ms, 10ms, 20ms, 40ms, 80ms, 160ms} 중 하나로 설정될 수 있다. SSB 주기의 시작 부분에 SSB 버스트(burst) 세트가 구성된다. SSB 버스트 세트는 5ms 시간 윈도우(즉, 하프-프레임)로 구성되며, SSB는 SS 버스트 세트 내에서 최대 L번 전송될 수 있다. SSB의 최대 전송 횟수 L은 반송파의 주파수 대역에 따라 다음과 같이 주어질 수 있다. 하나의 슬롯은 최대 2개의 SSB를 포 함한다. - For frequency range up to 3 GHz, L = 4 - For frequency range from 3GHz to 6 GHz, L = 8 - For frequency range from 6 GHz to 52.6 GHz, L = 64 SS 버스트 세트 내에서 SSB 후보의 시간 위치가 부반송파 간격에 따라 정의될 수 있다. SSB 후보의 시간 위치는 SSB 버스트 세트(즉, 하프-프레임) 내에서 시간 순서에 따라 0 ~ L-1로 인덱싱된다(SSB 인덱스). 반송파의 주파수 폭(span) 내에서 다수의 SSB들이 전송될 있다. 이러한 SSB들의 물리 계층 셀 식별자들은 고유 (unique)할 필요는 없으며, 다른 SSB들은 다른 물리 계층 셀 식별자를 가질 수 있다. UE는 SSB를 검출함으로써 DL 동기를 획득할 수 있다. UE는 검출된 SSB (시간) 인덱스에 기반하여 SSB 버스트 세 트의 구조를 식별할 수 있고, 이에 따라 심볼/슬롯/하프-프레임 경계를 검출할 수 있다. 검출된 SSB가 속하는 프레임/하프-프레임의 번호는 시스템 프레임 번호(system frame number, SFN) 정보와 하프-프레임 지시 정보를 이용하여 식별될 수 있다. 구체적으로, UE는 PBCH로부터 상기 PBCH가 속한 프레임에 대한 10 비트 SFN을 획득할 수 있다. 다음으로, UE는 1 비트 하프-프레임 지시 정보를 획득할 수 있다. 예를 들어, UE가 하프-프레임 지시 비트가 0으로 세팅된 PBCH 를 검출한 경우에는 상기 PBCH가 속한 SSB가 프레임 내 첫 번째 하프-프레임에 속한다고 판단할 수 있고, 하프- 프레임 지시 비트가 1로 세팅된 PBCH를 검출한 경우에는 상기 PBCH가 속한 SSB가 프레임 내 두 번째 하프-프레 임에 속한다고 판단할 수 있다. 마지막으로, UE는 DMRS 시퀀스와 PBCH가 나르는 PBCH 페이로드에 기반하여 상기 PBCH가 속한 SSB의 SSB 인덱스를 획득할 수 있다. 시스템 정보 (system information; SI) 획득 SI는 마스터 정보 블록(master information block, MIB)와 복수의 시스템 정보 블록(system information block, SIB)들로 나눠진다. MIB 외의 SI는 RMSI(Remaining Minimum System Information)으로 지칭될 수 있다. 자세한 사항은 다음을 참조할 수 있다. - MIB는 SIB1(SystemInformationBlock1)을 나르는 PDSCH를 스케줄링하는 PDCCH의 모니터링을 위한 정보/파라미 터를 포함하며 SSB의 PBCH를 통해 BS에 의해 전송된다. 예를 들어, UE는 MIB에 기반하여 Type0-PDCCH 공통 탐색 공간(common search space)을 위한 CORESET(Control Resource Set)이 존재하는지 확인할 수 있다. Type0-PDCCH 공통 탐색 공간은 PDCCH 탐색 공간의 일종이며, SI 메시지를 스케줄링하는 PDCCH를 전송하는 데 사용된다. Type0-PDCCH 공통 탐색 공간이 존재하는 경우, UE는 MIB 내의 정보(예, pdcch-ConfigSIB1)에 기반하여 (i) CORESET을 구성하는 복수의 인접(contiguous) 자원 블록들 및 하나 이상의 연속된(consecutive) 심볼들과 (ii) PDCCH 기회(occasion)(예, PDCCH 수신을 위한 시간 도메인 위치)를 결정할 수 있다. Type0-PDCCH 공통 탐색 공 간이 존재하지 않는 경우, pdcch-ConfigSIB1은 SSB/SIB1이 존재하는 주파수 위치와 SSB/SIB1이 존재하지 않는 주파수 범위에 관한 정보를 제공한다. - SIB1은 나머지 SIB들(이하, SIBx, x는 2 이상의 정수)의 가용성(availability) 및 스케줄링(예, 전송 주기, SI-윈도우 크기)과 관련된 정보를 포함한다. 예를 들어, SIB1은 SIBx가 주기적으로 브로드캐스트되는지 on- demand 방식에 의해 UE의 요청에 의해 제공되는지 여부를 알려줄 수 있다. SIBx가 on-demand 방식에 의해 제공 되는 경우, SIB1은 UE가 SI 요청을 수행하는 데 필요한 정보를 포함할 수 있다. SIB1은 PDSCH를 통해 전송되며, SIB1을 스케줄링 하는 PDCCH는 Type0-PDCCH 공통 탐색 공간을 통해 전송되며, SIB1은 상기 PDCCH에 의해 지시되 는 PDSCH를 통해 전송된다. - SIBx는 SI 메시지에 포함되며 PDSCH를 통해 전송된다. 각각의 SI 메시지는 주기적으로 발생하는 시간 윈도우 (즉, SI-윈도우) 내에서 전송된다. G. 임의 접속(Random Access) 과정"}
{"patent_id": "10-2019-7019215", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "UE의 임의 접속 과정은 표 2 및 도 11과 같이 요약할 수 있다. 표 2"}
{"patent_id": "10-2019-7019215", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "임의 접속 과정은 다양한 용도로 사용된다. 예를 들어, 임의 접속 과정은 네트워크 초기 접속, 핸드오버, UE-트 리거드(triggered) UL 데이터 전송에 사용될 수 있다. UE는 임의 접속 과정을 통해 UL 동기와 UL 전송 자원을 획득할 수 있다. 임의 접속 과정은 경쟁 기반(contention-based) 임의 접속 과정과 경쟁 프리(contention free) 임의 접속 과정으로 구분된다. 도 11은 임의 접속 과정의 일례를 예시한다. 특히 도 11은 경쟁 기반 임의 접속 과정을 예시한다. 먼저, UE가 UL에서 임의 접속 과정의 Msg1로서 임의 접속 프리앰블을 PRACH를 통해 전송할 수 있다. 서로 다른 두 길이를 가지는 임의 접속 프리앰블 시퀀스들이 지원된다. 긴 시퀀스 길이 839는 1.25 및 5 kHz의 부반송파 간격(subcarrier spacing)에 대해 적용되며, 짧은 시퀀스 길이 139는 15, 30, 60 및 120 kHz의 부반 송파 간격에 대해 적용된다. 다수의 프리앰블 포맷들이 하나 또는 그 이상의 RACH OFDM 심볼들 및 서로 다른 순환 프리픽스(cyclic prefix) (및/또는 가드 시간(guard time))에 의해 정의된다. 셀을 위한 RACH 설정(configuration)이 상기 셀의 시스템 정보에 포함되어 UE에게 제공된다. 상기 RACH 설정은 PRACH의 부반송파 간격, 이용 가능한 프리앰블들, 프리앰 블 포맷 등에 관한 정보를 포함한다. 상기 RACH 설정은 SSB들과 RACH (시간-주파수) 자원들 간의 연관 정보를 포함한다. UE는 검출한 혹은 선택한 SSB와 연관된 RACH 시간-주파수 자원에서 임의 접속 프리앰블을 전송한다. RACH 자원 연관을 위한 SSB의 임계값이 네트워크에 의해 설정될 수 있으며, SSB 기반으로 측정된 참조 신호 수 신 전력(reference signal received power, RSRP)가 상기 임계값을 충족하는 SSB를 기반으로 RACH 프리앰블의 전송 또는 재전송이 수행된다. 예를 들어, UE는 임계값을 충족하는 SSB(들) 중 하나를 선택하고, 선택된 SSB에 연관된 RACH 자원을 기반으로 RACH 프리앰블을 전송 또는 재전송할 수 있다. BS가 UE로부터 임의 접속 프리앰블을 수신하면, BS는 임의 접속 응답(random access response, RAR) 메시지 (Msg2)를 상기 UE에게 전송한다. RAR을 나르는 PDSCH를 스케줄링하는 PDCCH는 임의 접속(random access, RA) 무선 네트워크 임시 식별자(radio network temporary identifier, RNTI)(RA-RNTI)로 CRC 마스킹되어 전송된다. RA-RNTI로 마스킹된 PDCCH를 검출한 UE는 상기 PDCCH가 나르는 DCI가 스케줄링하는 PDSCH로부터 RAR을 수신할 수 있다. UE는 자신이 전송한 프리앰블, 즉, Msg1에 대한 임의 접속 응답 정보가 상기 RAR 내에 있는지 확인한 다. 자신이 전송한 Msg1에 대한 임의 접속 정보가 존재하는지 여부는 상기 UE가 전송한 프리앰블에 대한 임의 접속 프리앰블 ID가 존재하는지 여부에 의해 판단될 수 있다. Msg1에 대한 응답이 없으면, UE는 전력 램핑 (power ramping)을 수행하면서 RACH 프리앰블을 소정의 횟수 이내에서 재전송할 수 있다. UE는 가장 최근의 경 로 손실 및 전력 램핑 카운터를 기반으로 프리앰블의 재전송에 대한 PRACH 전송 전력을 계산한다. 임의 접속 응답 정보는 UL 동기화를 위한 타이밍 어드밴스 정보, UL 그랜트 및 UE 임시UE가 PDSCH 상에서 자신 에 대한 임의 접속 응답 정보를 수신하면, 상기 UE는 UL 동기화를 위한 타이밍 어드밴스(timing advance) 정보, 초기 UL 그랜트, UE 임시(temporary) 셀 RNTI(cell RNTI, C-RNTI)를 알 수 있다. 상기 타이밍 어드밴스 정보는 상향링크 신호 전송 타이밍을 제어하는 데 사용된다. UE에 의한 PUSCH/PUCCH 전송이 네트워크 단에서 서브프레 임 타이밍과 더 잘 정렬(align)되도록 하기 위해, 네트워크(예, BS)는 PUSCH/PUCCH/SRS 수신 및 서브프레임 간 시간 차이를 측정하고 이를 기반으로 타이밍 어드밴스 정보를 보낼 수 있다. 상기 UE는 임의 접속 응답 정보를 기반으로 상향링크 공유 채널 상에서 UL 전송을 임의 접속 과정의 Msg3로서 전송할 수 있다. Msg3은 RRC 연결 요청 및 UE 식별자를 포함할 수 있다. Msg3에 대한 응답으로서, 네트워크는 Msg4를 전송할 수 있으며, 이는 DL 상에서의 경쟁 해결 메시지로 취급될 수 있다. Msg4를 수신함으로써, UE는 RRC 연결된 상태에 진입할 수 있다. 한편, 경쟁-프리 임의 접속 과정은 UE가 다른 셀 혹은 BS로 핸드오버 하는 과정에서 사용되거나, BS의 명령에 의해 요청되는 경우에 수행될 수 있다. 경쟁-프리 임의 접속 과정의 기본적인 과정은 경쟁 기반 임의 접속 과정 과 유사하다. 다만, UE가 복수의 임의 접속 프리앰블들 중 사용할 프리앰블을 임의로 선택하는 경쟁 기반 임의 접속 과정과 달리, 경쟁-프리 임의 접속 과정의 경우에는 UE가 사용할 프리앰블(이하 전용 임의 접속 프리앰 블)이 BS에 의해 상기 UE에게 할당된다. 전용 임의 접속 프리앰블에 대한 정보는 RRC 메시지(예, 핸드오버 명령)에 포함되거나 PDCCH 오더(order)를 통해 UE에게 제공될 수 있다. 임의 접속 과정이 개시되면 UE는 전용 임의 접속 프리앰블을 BS에게 전송한다. 상기 UE가 상기 BS로부터 임의 접속 과정을 수신하면 상기 임의 접속 과정은 완료(complete)된다. 앞서 언급한 바와 같이 RAR 내 UL 그랜트는 UE에게 PUSCH 전송을 스케줄링한다. RAR 내 UL 그랜트에 의한 초기 UL 전송을 나르는 PUSCH는 Msg3 PUSCH로 칭하기도 한다. RAR UL 그랜트의 컨텐츠는 MSB에서 시작하여 LSB에서 끝나며, 표 3에서 주어진다. 표 3"}
{"patent_id": "10-2019-7019215", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "TPC 명령은 Msg3 PUSCH의 전송 전력을 결정하는 데 사용되며, 예를 들어, 표 4에 따라 해석된다. 표 4"}
{"patent_id": "10-2019-7019215", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "경쟁 프리 임의 접속 과정에서, RAR UL 그랜트 내 CSI 요청 필드는 UE가 비주기적 CSI 보고를 해당 PUSCH 전송 에 포함시킬 것인지 여부를 지시한다. Msg3 PUSCH 전송을 위한 부반송파 간격은 RRC 파라미터에 의해 제공된다. UE는 동일한 서비스 제공 셀의 동일한 상향링크 반송파 상에서 PRACH 및 Msg3 PUSCH을 전송하게 될 것이다. Msg3 PUSCH 전송을 위한 UL BWP는 SIB1(SystemInformationBlock1)에 의해 지시된다. H. DL 및 UL 전송/수신 동작 DL 전송/수신 동작 하향링크 그랜트(downlink grant)(하향링크 배정(assignment)이라고도 함)는 동적 그랜트(dynamic)와 설정된 그랜트(configured grant)로 구분될 수 있다. 동적 그랜트(dynamic grant)는 자원의 활용을 최대화하기 위한 것으로 BS에 의한 동적 스케줄링 기반의 데이터 전송/수신 방법을 의미한다. BS는 DCI를 통해 하향링크 전송을 스케줄링한다. UE는 BS로부터 하향링크 스케줄링을 위한(즉, PDSCH의 스케줄 링 정보를 포함하는) DCI를 PDCCH 상에서 수신한다. 하향링크 스케줄링을 위해 DCI 포맷 1_0 또는 1_1이 이용될 수 있다. 하향링크 스케줄링을 위한 DCI 포맷 1_1에는, 예를 들어, 다음과 같은 정보가 포함될 수 있다: DCI 포 맷 식별자(identifier for DCI format), 대역폭 파트 지시자(bandwidth part indicator), 주파수 도메인 자원 배정(frequency domain resource assignment), 시간 도메인 자원 배정(time domain resource assignment), MCS. UE는 DCI 내 MCS 필드를 기반으로 PDSCH에 대한 변조 차수(modulation order), 목표 코드 레이트(target code rate), 수송 블록 크기(transport block size)를 결정할 수 있다. UE는 주파수 도메인 자원 할당 정보 및 시간도메인 자원 할당 정보에 따른 시간-주파수 자원에서 PDSCH를 수신할 수 있다. DL 설정된 그랜트는 준-지속적 스케줄링(semi-persistent scheduling, SPS)라고도 한다. UE는 BS로부터 DL 데 이터의 전송을 위한 자원 설정(resource configuration)을 포함하는 RRC 메시지를 수신할 수 있다. DL SPS의 경우에는 실제 DL 설정된 그랜트가 PDCCH에 의해 제공되며 상기 PDCCH에 의해 활성화 혹은 활성해제 (deactivate)된다. DL SPS가 설정되는 경우, BS로부터의 RRC 시그널링을 통해 적어도 다음 파라미터들이 UE에게 제공된다: 활성화, 활성해제 및 재전송을 위한 설정된 스케줄링 RNTI(configured scheduling RNTI, CS-RNTI); 및 주기. DL SPS의 실제 DL 그랜트는 CS-RNTI에 어드레스된 PDCCH 내 DCI에 의해 UE에게 제공된다. UE는 CS- RNTI에 어드레스된 PDCCH 내 DCI의 특정 필드들이 스케줄링 활성화를 위한 특정 값으로 세팅되어 있으면, 상기 CS-RNTI와 연관된 SPS를 활성화한다. UE는 SPS를 기반으로 PDSCH를 통한 하향링크 데이터를 수신할 수 있다. UL 전송/수신 동작 BS는 상향링크 스케줄링 정보를 포함하는 DCI를 UE에게 전송한다. 상기 UE는 BS로부터 상향링크 스케줄링을 위 한(즉, PUSCH의 스케줄링 정보를 포함하는) DCI를 PDCCH 상에서 수신한다. 상향링크 스케줄링을 위해 DCI 포맷 0_0 또는 0_1이 이용될 수 있다. 상향링크 스케줄링을 위한 DCI 포맷 0_1에는 다음과 같은 정보가 포함될 수 있 다: DCI 포맷 식별자(Identifier for DCI format), 대역폭 파트 지시자(Bandwidth part indicator), 주파수 도 메인 자원 배정(frequency domain resource assignment), 시간 도메인 자원 배정(time domain resource assignment), MCS. 상기 UE는 상기 DCI를 기반으로 상향링크 데이터를 PUSCH 상에서 전송한다. 예를 들어, UE가 DCI 포맷 0_0 또는 0_1을 포함하는 PDCCH를 검출(detect)하면, 해당 DCI에 의한 지시에 따라 해당 PUSCH를 전송한다. PUSCH 전송을 위해 2가지의 전송 방식이 지원된다: 코드북(codebook) 기반 전송 및 비-코드북(non-codebook) 기반 전송. RRC 파라미터 'txConfig'가 'codebook'으로 세팅된 RRC 메시지를 수신하면, UE는 코드북 기반 전송으로 설정된 다. 반면, RRC 파라미터 'txConfig'가 'nonCodebook'으로 세팅된 RRC 메시지를 수신하면, UE는 비-코드북 기반 전송으로 설정된다. PUSCH는 DCI 포맷 0_0에 의해, DCI 포맷 0_1에 의해 또는 RRC 시그널링에 의해 준-정적으로 (semi-statically) 스케줄링될 수 있다. 상향링크 그랜트(uplink grant)는 동적 그랜트(dynamic grant)와 설정된 그랜트(configured grant)로 구분될 수 있다. 도 12는 상향링크 그랜트의 일례를 나타낸다. 도 12(a)는 동적 그랜트를 기반으로 한 UL 전송 과정을 예시하고, 도 12(b)는 설정된 그랜트를 기반으로 한 UL 전송 과정을 예시한다. 동적 그랜트(dynamic grant)는 자원의 활용을 최대화하기 위한 것으로 BS에 의한 동적 스케줄링 기반의 데이터 전송/수신 방법을 의미한다. 이는 UE가 전송할 데이터가 있는 경우 우선적으로 BS에게 상향링크 자원 할당을 요 청하고, BS로부터 할당된 상향링크 자원만을 이용하여 데이터를 전송할 수 있음을 의미한다. 상향링크의 무선 자원의 효율적인 사용을 위해서는, BS가 각 UE가 어떤 종류의 데이터를 얼마만큼 상향링크로 전송할 것인지를 알아야 한다. 따라서, UE가 직접 자신이 전송하고자 하는 상향링크 데이터에 관한 정보를 BS으로 전달하고, 상 기 BS는 이에 기반하여 상기 UE에게 상향링크 자원을 할당할 수 있다. 이 경우, UE가 BS로 전달하는 상향링크 데이터에 관한 정보는 버퍼 상태 보고(buffer status report, BSR)라고 하며, BSR은 UE 자신의 버퍼에 저장되어 있는 상향링크 데이터의 양과 관련이 있다. 도 12(a)를 참고하면, UE가 BSR의 전송에 이용 가능한 상향링크 무선 자원을 가지고 있지 않을 때, 실제 데이터 (actual data)를 위한 상향링크 자원 할당 과정을 예시한다. 예를 들어, UL 데이터 전송에 이용 가능한 UL 그랜 트가 없는 UE는 PUSCH를 통해 BSR을 전송할 수도 없으므로, PUCCH를 통한 스케줄링 요청 전송을 시작으로 상향 링크 데이터를 위한 자원을 요청해야 하며, 이 경우 5단계의 상향링크 자원 할당 과정이 사용된다. 도 12(a)를 참고하면, BSR를 전송하기 위한 PUSCH 자원이 없는 경우, UE는 PUSCH 자원을 할당받기 위해 먼저 스 케줄링 요청(scheduling request, SR)을 BS에 전송한다. SR은 보고 이벤트(reporting event)가 발생되었으나 UE에게 이용 가능한 PUSCH 자원이 없는 경우, UE가 상향링크 전송을 위한 PUSCH 자원을 BS에게 요청하기 위해 이용된다. SR을 위한 유효한(valid) PUCCH 자원이 있는지 여부에 따라 UE는 PUCCH를 통해 SR을 전송하거나 또는 임의 접속 과정을 개시한다. UE가 BS로부터 UL 그랜트를 수신하면, 상기 UL 그랜트에 의해 할당된 PUSCH 자원을 통해 BSR을 BS로 전송한다. BS는 BSR을 기반으로 UE가 상향링크로 전송할 데이터의 양을 확인하고 UL 그랜트를 UE에 전송한다. 상기 UL 그랜트를 수신한 UE는 상기 UL 그랜트를 기반으로 PUSCH를 통해 실제 상향링크 데이터를 BS로 전송한다. 도 12(b)를 참고하면, UE는 BS로부터 UL 데이터의 전송을 위한 자원 설정(resource configuration)을 포함하는 RRC 메시지를 수신한다. NR 시스템에서는 2가지 타입의 UL 설정된 그랜트가 있다: 타입 1 및 타입 2. UL 설정된 그랜트 타입 1의 경우에는 실제 UL 그랜트(예, 시간 자원, 주파수 자원)가 RRC 시그널링에 의해 제공되며, UL 설정된 그랜트 타입 2의 경우에는 실제 UL 그랜트가 PDCCH에 의해 제공되며 상기 PDCCH에 의해 활성화 혹은 활 성해제(deactivate)된다. 설정된 그랜트 타입 1이 설정되는 경우, BS로부터의 RRC 시그널링을 통해 적어도 다음 파라미터들이 UE에게 제공된다: 재전송을 위한 CS-RNTI; 설정된 그랜트 타입 1의 주기(periodicity); 슬롯 내 PUSCH를 위한 시작 심볼 인덱스 S 및 심볼 길이 L에 관한 정보; 시간 도메인에서 SFN=0에 대한 자원의 오프셋을 나타내는 시간 도메인 오프셋; 변조 차수, 타겟 코드 레이트 및 수송 블록 크기를 나타내는 MCS 인덱스. 설정된 그랜트 타입 2가 설정되는 경우, BS로부터의 RRC 시그널링을 통해 적어도 다음 파라미터들이 UE에게 제공된다: 활성화, 활성해제 및 재전송을 위한 CS-RNTI; 설정된 그랜트 타입 2의 주기. 설정된 그랜트 타입 2의 실제 UL 그랜트는 CS-RNTI에 어드레스된 PDCCH 내 DCI에 의해 UE에게 제공된다. UE는 CS-RNTI에 어드레스된 PDCCH 내 DCI의 특정 필드들이 스케줄링 활성화를 위한 특정 값으로 세팅되어 있으면, 상기 CS-RNTI와 연관된 설정된 그 랜트 타입 2를 활성화한다. UE는 타입 1 혹은 타입 2에 따른 설정된 그랜트을 기반으로 PUSCH를 통한 상향링크 전송을 수행할 수 있다. 설정된 그랜트(configured grant)에 의한 초기 전송을 위한 자원은 하나 이상의 UE들 사이에서 공유되거나 또는 공유되지 않을 수 있다. 도 13은 상향링크 물리 채널 프로세싱(uplink physical channel processing)의 개념도의 일례를 나타낸다. 도 13에 도시된 블록들 각각은 전송 장치의 물리 계층 블록 내 각 모듈에서 수행될 수 있다. 보다 구체적으로, 도 13에서의 상향링크 신호 처리는 본 명세서에서 기재하는 UE/BS의 프로세서에서 수행될 수 있다. 도 13를 참 조하면, 상향링크 물리 채널 프로세싱은 스크램블링(scrambling), 변조 매핑(modulation mapping), 레이어 매핑 (layer mapping), 트랜스폼 프리코딩(transform precoding), 프리코딩(precoding), 자원 요소 매핑(resource element mapping), SC-FDMA 신호 생성 (SC-FDMA signal generation)의 과정을 거쳐 수행될 수 있다. 위의 각 과정은 전송 장치의 각 모듈에서 별도로 또는 함께 수행될 수 있다. 상기 트랜스폼 프리코딩은 파형(waveform) 의 피크-to-평균 전력 비율(peak-to-average power ratio, PAPR)을 감소시키는 특별한 방식으로 UL 데이터를 스프레드하는 것이며, 이산 푸리에 변환(discrete Fourier transform, DFT)의 일종이다. DFT 스프레딩을 수행 하는 트랜스폼 프리코딩과 함께 CP를 사용하는 OFDM을 DFT-s-OFDM이라 하고, DFT 스프레딩없이 CP를 사용하는 OFDM을 CP-OFDM이라 한다. NR 시스템에서 UL에 대해 가능화(enable)되면 트랜스폼 프리코딩이 선택적으로 (optionally) 적용될 수 있다. 즉, NR 시스템은 UL 파형을 위해 2가지 옵션을 지원하며, 그 중 하나는 CP- OFDM이고, 다른 하나는 DFT-s-OFDM이다. UE가 CP-OFDM을 UL 전송 파형으로 사용해야 하는지 아니면 DFT-s-OFDM 을 UL 전송 파형으로 사용해야 하는지는 RRC 파라미터들을 통해 BS로부터 UE에게 제공된다. 도 13은 DFT-s-OFDM 을 위한 상향링크 물리 채널 프로세싱 개념도이며, CP-OFDM의 경우에는 도 13의 프로세스들 중 트랜스폼 프리코 딩이 생략된다. 위의 각 과정에 대해 보다 구체적으로 살펴보면, 전송 장치는 하나의 코드워드에 대해, 코드워드 내 부호화된 비트(coded bits)를 스크램블링 모듈에 의해 스크램블링한 후 물리 채널을 통해 전송할 수 있다. 여기서 코드워 드는 수송 블록을 인코딩하여 얻어진다. 스크램블된 비트는 변조 매핑 모듈에 의해 복소 값 변조 심볼로 변조된 다. 상기 변조 매핑 모듈은 상기 스크램블된 비트들을 기결정된 변조 방식에 따라 변조하여 신호 성상(signal constellation) 상의 위치를 표현하는 복소 값 변조 심볼로 배치할 수 있다. pi/2-BPSK(pi/2-Binary Phase Shift Keying), m-PSK(m-Phase Shift Keying) 또는 m-QAM(m-Quadrature Amplitude Modulation) 등이 상기 부 호화된 데이터의 변조에 이용될 수 있다. 상기 복소 값 변조 심볼은 레이어 매핑 모듈에 의해 하나 이상의 전송 레이어로 맵핑될 수 있다. 각 레이어 상의 복소 값 변조 심볼은 안테나 포트 상에서의 전송을 위해 프리코딩 모 듈에 의해 프리코딩될 수 있다. 트랜스폼 프리코딩이 가능화된 경우, 프리코딩 모듈은 도 13에 도시된 바와 같 이 복소 값 변조 심볼들에 대한 트랜스폼 프리코딩(transform precoding)을 수행한 이후에 프리코딩을 수행할 수 있다. 상기 프리코딩 모듈은 상기 복소 값 변조 심볼들을 다중 전송 안테나에 따른 MIMO 방식으로 처리하여 안테나 특정 심볼들을 출력하고, 상기 안테나 특정 심볼들을 해당 자원 요소 매핑 모듈로 분배할 수 있다. 프리 코딩 모듈의 출력 z는 레이어 매핑 모듈의 출력 y를 NХM의 프리코딩 행렬 W와 곱해 얻을 수 있다. 여기서, N은 안테나 포트의 개수, M은 레이어의 개수이다. 자원 요소 매핑 모듈은 각 안테나 포트에 대한 복조 값 변조 심볼 들을 전송을 위해 할당된 자원 블록 내에 있는 적절한 자원 요소에 맵핑한다. 자원 요소 매핑 모듈은 복소 값변조 심볼들을 적절한 부반송파들에 매핑하고, 사용자에 따라 다중화할 수 있다. SC-FDMA 신호 생성 모듈(트랜 스폼 프리코딩이 불능화(disable)된 경우에는 CP-OFDM 신호 생성 모듈)은 복소 값 변조 심볼을 특정 변조 방식 예컨대, OFDM 방식으로 변조하여 복소 값 시간 도메인(complex-valued time domain) OFDM(Orthogonal Frequency Division Multiplexing) 심볼 신호를 생성할 수 있다. 상기 신호 생성 모듈은 안테나 특정 심볼에 대해 IFFT(Inverse Fast Fourier Transform)를 수행할 수 있으며, IFFT가 수행된 시간 도메인 심볼에는 CP가 삽입될 수 있다. OFDM 심볼은 디지털-아날로그(digital-to-analog) 변환, 주파수 상향변환(upconversion) 등을 거쳐, 각 전송 안테나를 통해 수신 장치로 전송된다. 상기 신호 생성 모듈은 IFFT 모듈 및 CP 삽입기, DAC(Digital-to-Analog Converter), 주파수 상향 변환기(frequency uplink converter) 등을 포함할 수 있다. 수신 장치의 신호 처리 과정은 전송 장치의 신호 처리 과정의 역으로 구성될 수 있다. 구체적인 사항은 위의 내 용과 도 13을 참고하기로 한다. 다음으로, PUCCH에 대해 살펴본다. PUCCH는 다수의 포맷(format)들을 지원하며, PUCCH 포맷들은 심볼 지속기간(symbol duration), 페이로드 크기 (payload size), 그리고 다중화(multiplexing) 여부 등에 의해 분류될 수 있다. 아래 표 5은 PUCCH 포맷들을 예시한 것이다. 표 5"}
{"patent_id": "10-2019-7019215", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "표 5의 PUCCH 포맷들은 크게 짧은(short) PUCCH와, 긴(long) PUCCH로 구분될 수 있다. PUCCH 포맷 0 및 2는 긴 PUCCH에 포함되고, PUCCH 포맷 1, 3 및 4는 긴 PUCCH에 포함될 수 있다. 도 14는 PUCCH가 전송되는 NR 슬롯의 일례를 나타낸다. UE는 하나의 슬롯 내 서로 다른 심볼들에서 서빙 셀(serving cell)을 통해 1 또는 2개의 PUCCH들을 전송한다. UE가 하나의 슬롯에서 2개의 PUCCH들을 전송하는 경우, 상기 2개의 PUCCH들 중 적어도 하나는 짧은 PUCCH의 구 조를 가진다. I. eMBB (enhanced Mobile Broadband communication) NR 시스템의 경우, 전송/수신 안테나가 크게 증가하는 거대(massive) 다중 입력 다중 출력(multiple input multiple output, MIMO) 환경이 고려될 수 있다. 즉, 거대 MIMO 환경이 고려됨에 따라, 전송/수신 안테나의 수 는 수십 또는 수백 개 이상으로 증가할 수 있다. 한편, NR 시스템에서는 above 6GHz 대역, 즉, 밀리미터 주파수 대역에서의 통신을 지원한다. 하지만 밀리미터 주파수 대역은 너무 높은 주파수 대역을 이용하는 것으로 인해 거리에 따른 신호 감쇄가 매우 급격하게 나타나는 주파수 특성을 갖는다. 따라서, 적어도 6GHz 이상의 대역을 사용하는 NR 시스템은 급격한 전파 감쇄 특성을 보상하기 위해 신호 전송을 전방향이 아닌 특정 방향으로 에너 지를 모아서 전송하는 빔포밍 기법을 사용한다. 거대 MIMO 환경에서는 하드웨어 구현의 복잡도를 줄이고, 다수 의 안테나들을 이용한 성능 증가, 자원 할당의 유연성, 주파수별 빔 제어의 용이를 위해, 빔 형성 가중치 벡터(weight vector)/프리코딩 벡터(precoding vector)를 적용하는 위치에 따라 아날로그 빔포밍(analog beamforming) 기법과 디지털 빔포밍(digital beamforming) 기법이 결합된 하이브리드(hybrid) 형태의 빔포밍 기법이 요구된다. 하이브리드 빔포밍(Hybrid Beamforming) 도 15는 하이브리드 빔포밍(hybrid beamforming)을 위한 전송단 및 수신단의 블록도의 일례를 나타낸 도이다. 밀리미터 주파수 대역에서 좁은 빔을 형성하기 위한 방법으로, BS나 UE에서 많은 수의 안테나에 적절한 위상차 를 이용하여 동일한 신호를 전송함으로써 특정한 방향에서만 에너지가 높아지게 하는 빔포밍 방식이 주로 고려 되고 있다. 이와 같은 빔포밍 방식에는 디지털 기저대역(baseband) 신호에 위상차를 만드는 디지털 빔포밍, 변 조된 아날로그 신호에 시간 지연(즉, 순환 천이)을 이용하여 위상차를 만드는 아날로그 빔포밍, 디지털 빔포밍 과 아날로그 빔포밍을 모두 이용하는 하이브리드 빔포밍 등이 있다. 안테나 요소별로 전송 파워 및 위상 조절이 가능하도록 RF 유닛(혹은 트랜시버 유닛(transceiver unit, TXRU))을 가지면 주파수 자원별로 독립적인 빔포밍 이 가능하다. 그러나 100여 개의 안테나 요소 모두에 RF 유닛를 설치하기에는 가격 측면에서 실효성이 떨어지는 문제를 있다. 즉, 밀리미터 주파수 대역은 급격한 전파 감쇄 특성을 보상하기 위해 많은 수의 안테나가 사용해 야 하고, 디지털 빔포밍은 안테나 수에 해당하는 만큼 RF 컴포넌트(예, 디지털 아날로그 컨버터(DAC), 믹서 (mixer), 전력 증폭기(power amplifier), 선형 증폭기(linear amplifier) 등)를 필요로 하므로, 밀리미터 주파 수 대역에서 디지털 빔포밍을 구현하려면 통신 기기의 가격이 증가하는 문제점이 있다. 그러므로 밀리미터 주파 수 대역과 같이 안테나의 수가 많이 필요한 경우에는 아날로그 빔포밍 혹은 하이브리드 빔포밍 방식의 사용이 고려된다. 아날로그 빔포밍 방식은 하나의 TXRU에 다수 개의 안테나 요소를 매핑하고 아날로그 위상 천이기 (analog phase shifter)로 빔(beam)의 방향을 조절한다. 이러한 아날로그 빔포밍 방식은 전체 대역에 있어서 하 나의 빔 방향만을 만들 수 있어 주파수 선택적 빔포밍(beamforming, BF)을 해줄 수 없는 단점이 있다. 하이브리 드 BF는 디지털 BF와 아날로그 BF의 중간 형태로 Q개의 안테나 요소보다 적은 개수인 B개의 RF 유닛을 갖는 방 식이다. 하이브리드 BF의 경우, B개의 RF 유닛과 Q개의 안테나 요소의 연결 방식에 따라서 차이는 있지만, 동시 에 전송할 수 있는 빔의 방향은 B개 이하로 제한되게 된다. 빔 관리(Beam Management, BM) BM 과정은 하향링크(downlink, DL) 및 상향링크(uplink, UL) 전송/수신에 사용될 수 있는 BS(혹은 전송 및 수신 포인트(transmission and reception point, TRP)) 및/또는 UE 빔들의 세트(set)를 획득하고 유지하기 위한 과 정들로서, 아래와 같은 과정 및 용어를 포함할 수 있다. - 빔 측정(beam measurement): BS 또는 UE가 수신된 빔포밍 신호의 특성을 측정하는 동작. - 빔 결정(beam determination): BS 또는 UE가 자신의 전송 빔(Tx beam) / 수신 빔(Rx beam)을 선택하는 동작. - 빔 스위핑(beam sweeping): 미리 결정된 방식으로 일정 시간 인터벌 동안 전송 및/또는 수신 빔을 이용하여 공간 도메인을 커버하는 동작. - 빔 보고(beam report): UE가 빔 측정에 기반하여 빔포밍된 신호의 정보를 보고하는 동작. BM 과정은 SSB 또는 CSI-RS를 이용하는 DL BM 과정과, SRS(sounding reference signal)을 이용하는 UL BM 과정으로 구분될 수 있다. 또한, 각 BM 과정은 Tx 빔을 결정하기 위한 Tx 빔 스위핑과 Rx 빔을 결정하기 위 한 Rx 빔 스위핑을 포함할 수 있다. DL BM 과정 DL BM 과정은 BS에 의한 빔포밍된 DL RS들(예, CSI-RS 또는 SSB) 전송과, UE에 의한 빔 보고(beam reporting)를 포함할 수 있다. 여기서, 빔 보고는 선호하는(preferred) DL RS ID(들) 및 이에 대응하는 참조 신호 수신 전력(reference signal received power, RSRP)를 포함할 수 있다. DL RS ID는 SSBRI(SSB Resource Indicator) 또는 CRI(CSI- RS Resource Indicator)일 수 있다. 도 16은 SSB와 CSI-RS를 이용한 빔포밍의 일례를 나타낸다. 도 16과 같이, SSB 빔과 CSI-RS 빔이 빔 측정(beam measurement)을 위해 사용될 수 있다. 측정 메트릭 (measurement metric)은 자원(resource)/블록(block) 별 RSRP이다. SSB는 듬성한(coarse) 빔 측정을 위해 사용되며, CSI-RS는 미세한(fine) 빔 측정을 위해 사용될 수 있다. SSB는 Tx 빔 스위핑과 Rx 빔 스위핑 모두에 사용 될 수 있다. SSB를 이용한 Rx 빔 스위핑은은 다수의 SSB 버스트들에 걸쳐서(across) 동일 SSBRI에 대해 UE가 Rx 빔을 변경하면서 SSB의 수신을 시도함으로써 수행될 수 있다. 여기서, 하나의 SS 버스트는 하나 또는 그 이상의 SSB들을 포함하고, 하나의 SS 버스트 세트는 하나 또는 그 이상의 SSB 버스트들을 포함한다. 1. SSB를 이용한 DL BM 도 17은 SSB를 이용한 DL BM 과정의 일례를 나타낸 흐름도이다. SSB를 이용한 빔 보고(beam report)에 대한 설정은 RRC_CONNECTED에서 채널 상태 정보(channel state information, CSI)/빔 설정 시에 수행된다. - UE는 BM을 위해 사용되는 SSB 자원들에 대한 CSI-SSB-ResourceSetList를 포함하는 CSI-ResourceConfig IE를 BS로부터 수신한다(S410). RRC 파라미터 csi-SSB-ResourceSetList는 하나의 자원 세트에서 빔 관리 및 보고을 위해 사용되는 SSB 자원들의 리스트를 나타낸다. 여기서, SSB 자원 세트는 {SSBx1, SSBx2, SSBx3, SSBx4, 쪋} 으로 설정될 수 있다. SSB 인덱스는 0부터 63까지 정의될 수 있다. - UE는 상기 CSI-SSB-ResourceSetList에 기초하여 SSB 자원들 상의 신호들을 상기 BS로부터 수신한다(S420). - SSBRI 및 참조 신호 수신 전력(reference signal received power, RSRP)에 대한 보고와 관련된 CSI-RS reportConfig가 설정된 경우, 상기 UE는 최선(best) SSBRI 및 이에 대응하는 RSRP를 BS에게 보고한다(S430). 예를 들어, 상기 CSI-RS reportConfig IE의 reportQuantity가 'ssb-Index-RSRP'로 설정된 경우, UE는 BS으로 최선 SSBRI 및 이에 대응하는 RSRP를 보고한다. UE는 SSB와 동일한 OFDM 심볼(들)에 CSI-RS 자원이 설정되고, 'QCL-TypeD'가 적용 가능한 경우, 상기 UE는 CSI-RS와 SSB가 'QCL-TypeD' 관점에서 유사 동일 위치된(quasi co-located, QCL) 것으로 가정할 수 있다. 여기 서, QCL-TypeD는 공간(spatial) Rx 파라미터 관점에서 안테나 포트들 간에 QCL되어 있음을 의미할 수 있다. UE 가 QCL-TypeD 관계에 있는 복수의 DL 안테나 포트들의 신호들을 수신 시에는 동일한 수신 빔을 적용해도 무방하 다. QCL에 대한 상세는 하기 4. QCL 단락을 참고한다. 2. CSI-RS를 이용한 DL BM CSI-RS 용도에 대해 살펴보면, i) 특정 CSI-RS 자원 세트에 대해 반복(repetition) 파라미터가 설정되고 TRS_info가 설정되지 않은 경우, CSI-RS는 빔 관리(beam management)를 위해 사용된다. ii) 반복 파라미터가 설정되지 않고 TRS_info가 설정된 경우, CSI-RS는 트랙킹 참조 신호(tracking reference signal, TRS)을 위해 사용된다. iii) 반복 파라미터가 설정되지 않고 TRS_info가 설정되지 않은 경우, CSI-RS는 CSI 획득 (acquisition)을 위해 사용된다. (RRC 파라미터) 반복이 'ON'으로 설정된 경우, UE의 Rx 빔 스위핑 과정과 관련된다. 반복이 'ON'으로 설정된 경 우, UE가 NZP-CSI-RS-ResourceSet을 설정받으면, 상기 UE는 NZP-CSI-RS-ResourceSet 내 적어도 하나의 CSI-RS 자원의 신호들은 동일한 하향링크 공간 도메인 필터로 전송된다고 가정할 수 있다. 즉, NZP-CSI-RS-ResourceSet 내의 적어도 하나의 CSI-RS 자원은 동일한 Tx 빔을 통해 전송된다. 여기서, NZP-CSI-RS-ResourceSet 내 적어도 하나의 CSI-RS 자원의 신호들은 서로 다른 OFDM 심볼로 전송될 수 있다. 반면, 반복이 'OFF'로 설정된 경우는 BS의 Tx 빔 스위핑 과정과 관련된다. 반복이 'OFF'로 설정된 경우, UE는 NZP-CSI-RS-ResourceSet 내의 적어도 하나의 CSI-RS 자원의 신호들이 동일한 하향링크 공간 도메인 전송 필터로 전송된다고 가정하지 않는다. 즉, NZP-CSI-RS-ResourceSet 내의 적어도 하나의 CSI-RS 자원의 신호들은 서로 다 른 Tx 빔을 통해 전송된다. 도 18은 CSI-RS를 이용한 DL BM 과정의 또 다른 일례를 나타낸다. 도 18(a)는 UE의 Rx 빔 결정(또는 정제(refinement)) 과정을 나타내며, 도 18(b)는 BS의 Tx 빔 스위핑 과정을 나타낸다. 또한, 도 18(a)는, 반복 파라미터가 'ON'으로 설정된 경우이고, 도 18(b)는, 반복 파라미터가 'OFF' 로 설정된 경우이다. 도 18(a) 및 도 19를 참고하여, UE의 Rx 빔 결정 과정에 대해 살펴본다. 도 19는 UE의 수신 빔 결정 과정의 일례를 나타낸 흐름도이다. - UE는 'repetition'에 관한 RRC 파라미터를 포함하는 NZP CSI-RS resource set IE를 RRC 시그널링을 통해 BS 로부터 수신한다(S610). 여기서, 상기 RRC 파라미터 'repetition'이 'ON'으로 세팅되어 있다.- UE는 상기 RRC 파라미터 'repetition'이 'ON'으로 설정된 CSI-RS 자원 세트 내의 자원(들) 상에서의 신호들을 BS의 동일 Tx 빔(또는 DL 공간 도메인 전송 필터)을 통해 서로 다른 OFDM 심볼에서 반복 수신한다(S620). - UE는 자신의 Rx 빔을 결정한다(S630). - UE는 CSI 보고를 생략한다(S640). 즉, UE는 상가 RRC 파라미터 'repetition'이 'ON'으로 설정된 경우, CSI 보고를 생략할 수 있다. 도 18(b) 및 도 20을 참고하여, BS의 Tx 빔 결정 과정에 대해 살펴본다. 도 20은 BS의 전송 빔 결정 과정의 일례를 나타낸 흐름도이다. - UE는 'repetition'에 관한 RRC 파라미터를 포함하는 NZP CSI-RS resource set IE를 RRC 시그널링을 통해 BS 로부터 수신한다(S710). 여기서, 상기 RRC 파라미터 'repetition'이 'OFF'로 세팅되어 있으며, BS의 Tx 빔 스 위핑 과정과 관련된다. - UE는 상기 RRC 파라미터 'repetition'이 'OFF'로 설정된 CSI-RS 자원 세트 내의 자원들 상에서의 신호들을 BS의 서로 다른 Tx 빔(DL 공간 도메인 전송 필터)을 통해 수신한다(S720). - UE는 최상의(best) 빔을 선택(또는 결정)한다(S730) - UE는 선택된 빔에 대한 ID(예, CRI) 및 관련 품질 정보(예, RSRP)를 BS으로 보고한다(S740). 즉, UE는 CSI- RS가 BM을 위해 전송되는 경우 CRI와 이에 대한 RSRP를 BS으로 보고한다. 도 21은 도 18의 동작과 관련된 시간 및 주파수 도메인에서의 자원 할당의 일례를 나타낸다. CSI-RS 자원 세트에 repetition 'ON'이 설정된 경우, 복수의 CSI-RS resource들이 동일한 전송 빔을 적용하여 반복하여 사용되고, CSI-RS 자원 세트에 repetition 'OFF'가 설정된 경우, 서로 다른 CSI-RS resource들이 서 로 다른 전송 빔으로 전송될 수 있다. 3. DL BM 관련 빔 지시(beam indication) UE는 적어도 QCL(Quasi Co-location) 지시를 위한 최대 M 개의 후보(candidate) 전송 설정 지시 (Transmission Configuration Indication, TCI) 상태(state)들에 대한 리스트를 RRC 시그널링을 통해 수신할 수 있다. 여기서, M은 UE 능력(capability)에 의존하며, 64일 수 있다. 각 TCI 상태는 하나의 참조 신호(reference signal, RS) 세트를 가지고 설정될 수 있다. 표 6은 TCI-State IE 의 일례를 나타낸다. TCI-State IE는 하나 또는 두 개의 DL 참조 신호(reference signal, RS) 대응하는 유사 공동-위치(quasi co-location, QCL) 타입과 연관된다. 표 6"}
{"patent_id": "10-2019-7019215", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 9, "content": "표 6에서, 'bwp-Id'는 RS가 위치되는 DL BWP를 나타내며, 'cell'은 RS가 위치되는 반송파를 나타내며, 'referencesignal'은 타겟 안테나 포트(들)에 대해 유사 공동-위치의 소스(source)가 되는 참조 안테나 포트(들) 혹은 이를 포함하는 참조 신호를 나타낸다. 상기 타겟 안테나 포트(들)은 CSI-RS, PDCCH DMRS, 또는 PDSCH DMRS 일 수 있다. 4. QCL(Quasi-Co Location) UE는 상기 UE 및 주어진 주어진 셀에 대해 의도된(intended) DCI를 가지는 검출된 PDCCH에 따라 PDSCH를 디코딩 하기 위해, 최대 M개의 TCI-상태 설정들을 포함하는 리스트를 수신할 있다. 여기서, M은 UE 능력(capability)에의존한다. 표 6에 예시된 바와 같이, 각각의 TCI-State는 하나 또는 두 개의 DL RS와 PDSCH의 DM-RS 포트 간에 QCL 관계 를 설정하기 위한 파라미터를 포함한다. QCL 관계는 첫 번째 DL RS에 대한 RRC 파라미터 qcl-Type1과 두 번째 DL RS에 대한 qcl-Type2 (설정된 경우)를 가지고 설정된다. 각 DL RS에 대응하는 QCL 타입은 QCL-Info 내 파라미터 'qcl-Type'에 의해 주어지며, 다음 값 중 하나를 취할 수 있다: -'QCL-TypeA': {Doppler shift, Doppler spread, average delay, delay spread} -'QCL-TypeB': {Doppler shift, Doppler spread} -'QCL-TypeC': {Doppler shift, average delay} -'QCL-TypeD': {Spatial Rx parameter} 예를 들어, 타겟 안테나 포트가 특정 NZP CSI-RS 인 경우, 해당 NZP CSI-RS 안테나 포트들은 QCL-Type A관점에 서는 특정 TRS와, QCL-Type D관점에서는 특정 SSB과 QCL되었다고 지시/설정될 수 있다. 이러한 지시/설정을 받 은 UE는 QCL-TypeA TRS에서 측정된 도플러, 딜레이 값을 이용해서 해당 NZP CSI-RS를 수신하고, QCL-TypeD SSB 수신에 사용된 수신 빔을 해당 NZP CSI-RS 수신에 적용할 수 있다. UL BM 과정 UL BM은 UE 구현에 따라 Tx 빔 - Rx 빔 간 빔 상호관계(reciprocity)(또는 빔 대응성)가 성립할 수 있거나 또는, 성립하지 않을 수 있다. 만약 BS와 UE 모두에서 Tx 빔 - Rx 빔 간 상호관계가 성립하는 경우, DL 빔 쌍 (pair)를 통해 UL 빔 쌍을 맞출 수 있다. 하지만, BS와 UE 중 어느 하나라도 Tx 빔 - Rx 빔 간 상호관계가 성립 하지 않는 경우, DL 빔 쌍 결정과 별개로 UL 빔 쌍 결정 과정이 필요하다. 또한, BS와 UE 모두 빔 대응성을 유지하고 있는 경우에도, UE가 선호(preferred) 빔의 보고를 요청하지 않고도 BS는 DL Tx 빔 결정을 위해 UL BM 과정을 사용할 수 있다. UL BM은 빔포밍된 UL SRS 전송을 통해 수행될 수 있으며, SRS 자원 세트의 UL BM의 적용 여부는 (RRC 파라미터) 용도(usage)에 RRC 파라미터의해 설정된다. 용도가 'BeamManagement(BM)'로 설정되면, 주어진 시간 순간(time instant)에 복수의 SRS 자원 세트들 각각에 하나의 SRS 자원만 전송될 수 있다. UE는 (RRC 파라미터) SRS-ResourceSet에 의해 설정되는 하나 또는 그 이상의 사운딩 참조 신호(sounding reference signal, SRS) 자원 세트들을 (RRC 시그널링 등을 통해) 설정받을 수 있다. 각각의 SRS 자원 세트에 대해, UE는 K≥1 SRS 자원들이 설정될 수 있다. 여기서, K는 자연수이며, K의 최대 값은 SRS_capability에 의해 지시된다. DL BM과 마찬가지로, UL BM 과정도 UE의 Tx 빔 스위핑과 BS의 Rx 빔 스위핑으로 구분될 수 있다. 도 22는 SRS를 이용한 UL BM 과정의 일례를 나타낸다. 도 22(a)는 BS의 Rx 빔포밍 결정 과정을 나타내고, 도 22(b)는 UE의 Tx 빔 스위핑 과정을 나타낸다. 도 23은 SRS를 이용한 UL BM 과정의 일례를 나타낸 흐름도이다. - UE는 'beam management'로 설정된 (RRC 파라미터) 용도 파라미터를 포함하는 RRC 시그널링(예, SRS-Config IE)를 BS로부터 수신한다(S1010). SRS-Config IE는 SRS 전송 설정을 위해 사용된다. SRS-Config IE는 SRS- Resources의 리스트와 SRS-ResourceSet들의 리스트를 포함한다. 각 SRS 자원 세트는 SRS-resource들의 세트를 의미한다. - UE는 상기 SRS-Config IE에 포함된 SRS-SpatialRelation Info에 기초하여 전송할 SRS 자원에 대한 Tx 빔포밍 을 결정한다(S1020). 여기서, SRS-SpatialRelation Info는 SRS 자원별로 설정되고, SRS 자원별로 SSB, CSI-RS 또는 SRS에서 사용되는 빔포밍과 동일한 빔포밍을 적용할지를 나타낸다. - 만약 SRS 자원에 SRS-SpatialRelationInfo가 설정되면 SSB, CSI-RS 또는 SRS에서 사용되는 빔포밍과 동일한 빔포밍을 적용하여 전송한다. 하지만, SRS 자원에 SRS-SpatialRelationInfo가 설정되지 않으면, 상기 UE는 임의 로 Tx 빔포밍을 결정하여 결정된 Tx 빔포밍을 통해 SRS를 전송한다(S1030). 보다 구체적으로, 'SRS-ResourceConfigType'가 'periodic'으로 설정된 P-SRS에 대해: i) SRS-SpatialRelationInfo가 'SSB/PBCH'로 설정되는 경우, UE는 SSB/PBCH의 수신을 위해 사용한 공간 도메인 Rx 필터와 동일한 (혹은 해당 필터로부터 생성된) 공간 도메인 전송 필터를 적용하여 해당 SRS를 전송한다; 또 는 ii) SRS-SpatialRelationInfo가 'CSI-RS'로 설정되는 경우, UE는 CSI-RS의 수신을 위해 사용되는 동일한 공간 도메인 전송 필터를 적용하여 SRS를 전송한다; 또는 iii) SRS-SpatialRelationInfo가 'SRS'로 설정되는 경우, UE는 SRS의 전송을 위해 사용된 동일한 공간 도메인 전송 필터를 적용하여 해당 SRS를 전송한다. - 추가적으로, UE는 BS로부터 SRS에 대한 피드백을 다음 3가지 경우와 같이, 수신받거나 또는 수신받지 않을 수 있다(S1040). i) SRS 자원 세트 내의 모든 SRS 자원들에 대해 Spatial_Relation_Info가 설정되는 경우, UE는 BS가 지시한 빔 으로 SRS를 전송한다. 예를 들어, Spatial_Relation_Info가 모두 동일한 SSB, CRI 또는 SRI를 지시하는 경우, UE는 동일 빔으로 SRS를 반복 전송한다. ii) SRS 자원 세트 내의 모든 SRS 자원들에 대해 Spatial_Relation_Info가 설정되지 않을 수 있다. 이 경우, UE는 자유롭게 SRS 빔포밍을 바꾸어가면서 전송할 수 있다. iii) SRS 자원 세트 내의 일부 SRS 자원들에 대해서만 Spatial_Relation_Info가 설정될 수 있다. 이 경우, 설 정된 SRS 자원에 대해서는 지시된 빔으로 SRS를 전송하고, Spatial_Relation_Info가 설정되지 않은 SRS 자원에 대해서는 UE가 임의로 Tx 빔포밍을 적용해서 전송할 수 있다. 빔 실패 복구(beam failure recovery, BFR) 과정 빔포밍된 시스템에서, RLF(Radio Link Failure)는 UE의 회전(rotation), 이동(movement) 또는 빔포밍 블로키지 (blockage)로 인해 자주 발생할 수 있다. 따라서, 잦은 RLF가 발생하는 것을 방지하기 위해 BFR이 NR에서 지원 된다. BFR은 무선 링크 실패 복구 과정과 유사하고, UE가 새로운 후보 빔(들)을 아는 경우에 지원될 수 있다. 빔 실패 검출을 위해, BS는 UE에게 빔 실패 검출 참조 신호들을 설정하고, 상기 UE는 상기 UE의 물리 계층으로 부터의 빔 실패 지시(indication)들의 횟수가 BS의 RRC 시그널링에 의해 설정된 기간(period) 내에 RRC 시그널 링에 의해 설정된 임계치(threshold)에 이르면(reach), 빔 실패를 선언(declare)한다. 빔 실패가 검출된 후, 상기 UE는 PCell 상의 임의 접속 과정을 개시(initiate)함으로써 빔 실패 복구를 트리거 하고; 적절한(suitable) 빔을 선택하여 빔 실패 복구를 수행한다(BS가 어떤(certain) 빔들에 대해 전용 임의 접 속 자원들을 제공한 경우, 이들이 상기 UE에 의해 우선화된다). 상기 임의 접속 절차의 완료(completion) 시, 빔 실패 복구가 완료된 것으로 간주된다. J. URLLC (Ultra-Reliable and Low Latency Communication) NR에서 정의하는 URLLC 전송은 상대적으로 낮은 트래픽 크기, 상대적으로 낮은 도착 레이트(low arrival rate), 극도의 낮은 레이턴시 요구사항(requirement)(예, 0.5, 1ms), 상대적으로 짧은 전송 지속기간(duration)(예, 2 OFDM symbols), 긴급한 서비스/메시지 등에 대한 전송을 의미할 수 있다. UL의 경우, 보다 엄격(stringent)한 레이턴시 요구 사항(latency requirement)을 만족시키기 위해 특정 타입의 트래픽(예컨대, URLLC)에 대한 전송이 앞서서 스케줄링된 다른 전송(예컨대, eMBB)과 다중화(multiplexing)되어 야 할 필요가 있다. 이와 관련하여 한 가지 방안으로, 앞서 스케줄링 받은 UE에게 특정 자원에 대해서 프리엠션 (preemption)될 것이라는 정보를 주고, 해당 자원을 URLLC UE가 UL 전송에 사용하도록 한다. 프리엠션 지시(Pre-emption indication) NR의 경우, eMBB와 URLLC 사이의 동적 자원 공유(sharing)이 지원된다. eMBB와 URLLC 서비스들은 비-중첩(non- overlapping) 시간/주파수 자원들 상에서 스케줄될 수 있으며, URLLC 전송은 진행 중인(ongoing) eMBB 트래픽에 대해 스케줄된 자원들에서 발생할 수 있다. eMBB UE는 해당 UE의 PDSCH 전송이 부분적으로 펑처링(puncturing) 되었는지 여부를 알 수 없을 수 있고, 손상된 코딩된 비트(corrupted coded bit)들로 인해 UE는 PDSCH를 디코딩 하지 못할 수 있다. 이 점을 고려하여, NR에서는 프리엠션 지시(preemption indication)을 제공한다. 상기 프리 엠션 지시(preemption indication)는 중단된 전송 지시(interrupted transmission indication)으로 지칭될 수도 있다. 프리엠션 지시와 관련하여, UE는 BS로부터의 RRC 시그널링을 통해 DownlinkPreemption IE를 수신한다. 아래 표 7은 DownlinkPreemption IE의 일례를 나타낸다. 표 7"}
{"patent_id": "10-2019-7019215", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 10, "content": "UE가 DownlinkPreemption IE를 제공받으면, DCI 포맷 2_1을 운반(convey)하는 PDCCH의 모니터링을 위해 상기 UE는 DownlinkPreemption IE 내 파라미터 int-RNTI에 의해 제공된 INT-RNTI를 가지고 설정된다. 상기 UE는 추 가적으로 servingCellID에 의해 제공되는 서빙 셀 인덱스들의 세트를 포함하는 INT-ConfigurationPerServing Cell에 의해 서빙 셀들의 세트와 positionInDCI에 의해 DCI 포맷 2_1 내 필드들을 위한 위치들의 해당 세트를 가지고 설정되고, dci-PayloadSize에 의해 DCI 포맷 2_1을 위한 정보 페이로드 크기를 가지고 설졍되며, timeFrequencySect에 의한 시간-주파수 자원들의 지시 입도(granularity)를 가지고 설정된다. 상기 UE는 상기 DownlinkPreemption IE에 기초하여 DCI 포맷 2_1을 상기 BS로부터 수신한다. UE가 서빙 셀들의 설정된 세트 내 서빙 셀에 대한 DCI 포맷 2_1을 검출하면, 상기 UE는 상기 DCI 포맷 2_1이 속 한 모니터링 기간의 바로 앞(last) 모니터링 기간의 PRB들의 세트 및 심볼들의 세트 중 상기 DCI 포맷 2_1에 의 해 지시되는 PRB들 및 심볼들 내에는 상기 UE로의 아무런 전송도 없다고 가정할 수 있다. 예를 들어, 도 9a를 참조하면, UE는 프리엠션에 의해 지시된 시간-주파수 자원 내 신호는 자신에게 스케줄링된 DL 전송이 아니라고 보고 나머지 자원 영역에서 수신된 신호들을 기반으로 데이터를 디코딩한다. 도 24는 프리엠션 지시 방법의 일례를 나타낸 도이다. RRC 파라미터 timeFrequencySet에 의해 {M,N}의 조합이 설정된다. {M,N}={14,1}, {7,2}일 수 있다. 도 25는 프리엠션 지시의 시간/주파수 세트(timefrequency set)의 일례를 나타낸다. 프리엠션 지시를 위한 14-비트 비트맵(bitmap)은 하나 이상의 주파수 파트들(N>=1) 및/또는 하나 이상의 시간 도메인 파트들(M>=1)를 지시한다. {M,N}={14,1}인 경우, 도 25의(a)에서와 같이 시간 도메인에서 14개 파트들이 14-비트 비트맵의 14개 비트들에 일대일로 대응하고, 상기 14개 비트들 중 1로 세팅된 비트에 대응하는 파트가 프리엠트된 자원들을 포함하는 파트이다. {M,N}={7,2}인 경우, 도 25의 (b)에서와 같이, 모니터링 기간의 시간- 주파수 자원이 시간 도메인에서 7개 파트들로, 그리고 주파수 도메인에서 2개 파트들로 나뉘어, 총 14개 시간- 주파수 파트들로 나뉜다. 상기 총 14개 시간-주파수 파트들이 14-비트 비트맵의 14개 비트들에 일대일로 대응하 고, 상기 14개 비트들 중 1로 세팅된 비트에 대응하는 파트가 프리엠트된 자원들을 포함하는 파트이다. K. mMTC (massive MTC) mMTC(massive Machine Type Communication)은 많은 수의 UE와 동시에 통신하는 초연결 서비스를 지원하기 위한 5G의 시나리오 중 하나이다. 이 환경에서, UE는 굉장히 낮은 전송 속도와 이동성을 가지고 간헐적으로 통신하게 된다. 따라서, mMTC는 UE를 얼마나 낮은 비용으로 오랫동안 구동할 수 있는지를 주요 목표로 하고 있다. 이와 관련하여, 3GPP에서 다루고 있는 MTC와 NB-IoT에 대해 살펴본다. 이하에서는 물리 채널의 전송 시간 인터벌(transmission time interval)이 서브프레임인 경우를 예로 하여 설명 된다. 예를 들어, 일 물리 채널(예, MPDCCH, PDSCH, PUCCH, PUSCH)의 전송 시작에서 다음 물리 채널의 전송 시 작까지의 최소 시간 인터벌이 1개 서브프레임인 경우를 예로 하여 설명되나, 이하의 설명에서 서브프레임은 슬롯, 미니-슬롯, 혹은 다수(multiple) 슬롯들로 대체될 수 있다. MTC (Machine Type Communication) MTC(Machine Type Communication)은 M2M (Machine-to-Machine) 또는 IoT (Internet-of-Things) 등에 적용될 수 있는 많은 처리량(throughput)을 요구하지 않는 어플리케이션으로서, 3GPP(3rd Generation Partnership Project)에서 IoT 서비스의 요구 사항을 충족시키기 위해 채택된 통신 기술을 말한다. MTC는 낮은 비용 & 낮은 복잡도(low cost & low complexity), 향상된 커버리지 (enhanced coverage), 낮은 파워 소비 (low power consumption)의 기준을 만족하도록 구현될 수 있다. 3GPP에서 MTC는 릴리즈(release) 10(3GPP 표준 문서 버전 10.x.x.)부터 적용되었으며, 3GPP의 릴리즈별로 추가 된 MTC의 특징에 대해 간략히 살펴본다. 먼저, 3GPP 릴리즈 10과 릴리즈 11에서 기술된 MTC는 부하 제어(load control) 방법에 관련이 있다. 부하 제어 방법은 IoT(또는 M2M) 기기들이 갑자기 BS에 부하를 주는 것을 미리 방지하기 위한 것이다. 보다 구체적으로, 3GPP 릴리즈 10의 경우, BS는 부하가 발생하는 경우 접속되어 있는 IoT 기기들에 대한 접속을 끊음으로써 부하 를 제어하는 방법에 관한 것이며, 릴리즈 11의 경우, BS가 셀의 시스템 정보를 통해 상기 셀에는 추후 접속할 것을 미리 UE에게 알림으로써 UE에 대한 접속을 사전에 차단하는 방법에 관한 것이다. 릴리즈 12에서는 저 비용 (low cost) MTC를 위한 특징이 추가되었으며, 이를 위해 UE 카테고리 0이 새롭게 정의되었다. UE 카테고리는 UE 가 얼마나 많은 데이터를 통신 모뎀에서 처리할 수 있는지를 나타내는 지표이다. UE 카테고리 0의 UE는 감소된 피크 데이터 레이트(peak data rate), 완화된(relaxed) 무선 주파수(radio frequency, RF) 요구사항 (requirements)을 가져, 기저대역(baseband) 및 RF 복잡도를 줄인 UE이다. 릴리즈 13에서 eMTC(enhanced MTC) 라는 기술이 소개되었으며, 기존 LTE에서 지원하는 최소 주파수 대역폭인 1.08MHz에서만 UE가 동작하도록 하여 UE의 가격과 전력 소모를 더 낮출 수 있도록 하였다. 이하에서 기술되는 내용은 주로 eMTC와 관련된 특징들이나, 특별한 언급이 없는 한 MTC, eMTC, 5G(또는 NR)에 적용될 MTC에도 동일하게 적용될 수 있다. 이하에서는 설명의 편의를 위해 MTC로 통칭하여 설명하기로 한다. 따라서, 후술하는 MTC는 eMTC (enhanced MTC), LTE-M1/M2, BL (Bandwidth reduced low complexity) / CE(coverage enhanced), non-BL UE(in enhanced coverage), NR MTC, enhanced BL / CE 등과 같이 다른 용어로 지칭될 수 있다. 즉, MTC라는 용어는 향후 3GPP 표준에서 정의될 용어로 대체할 수 있다. MTC 일반적 특징 MTC는 특정 시스템 대역폭(또는 채널 대역폭) 내에서만 동작한다. MTC는 도 26에 도시된 바와 같은 기존(legacy) LTE의 시스템 대역 내 6개 자원 블록(resource block, RB)를 사 용할 수 있으며, 혹은 NR 시스템의 시스템 대역 내 특정 개수의 RB들을 사용할 수도 있다. MTC가 동작하는 주파 수 대역폭은 NR의 주파수 범위(frequency range) 및 부반송파 간격(subcarrier spacing)을 고려하여 정의될 수 있다. 이하, MTC가 동작하는 특정 시스템 혹은 주파수 대역폭을 MTC 협대역(narrowband, NB)라고 칭한다. NR에 서 MTC는 적어도 하나의 대역폭 파트(bandwidth part, BWP)에서 동작하거나 또는 BWP의 특정 대역에서 동작할 수도 있다. MTC는 물리 채널 및 신호들을 전송 및 수신하기 위해 협대역 동작을 따르고, MTC UE가 동작할 수 있는 최대 채 널 대역폭은 1.08MHz 또는 6개 (LTE) RB들로 감소된다. 협대역은 하향링크와 상향링크의 일부 채널의 자원 할당 단위에 참고 단위로 사용될 수 있으며, 주파수 도메인 에서 각 협대역의 물리적인 위치는 시스템 대역폭에 따라서 다르게 정의될 수 있다. MTC에서 정의된 1.08MHz의 대역폭은 MTC UE가 기존(legacy) UE와 동일한 셀 탐색(cell search) 및 임의 접속 (random access) 과정을 따르도록 하기 위해서 정의된다. MTC는 1.08MHz보다 훨씬 더 큰 대역폭(예: 10MHz)을 가진 셀에 의해 지원될 수 있으나, MTC에 의해 송/수신되는 물리 채널 및 신호는 항상 1.08MHz로 제한된다. 상기 훨씬 더 큰 대역폭을 가지는 시스템은 기존(legacy) LTE, NR 시스템, 5G 시스템 등일 수 있다. 협대역은 주파수 도메인에서 6개의 비-중첩하는(non-overlapping) 연속적인(consecutive) 물리 자원 블록으로 정의된다.도 26(a)는 협대역 동작의 일례를 나타낸 도이며, 도 26(b)는 RF 리튜닝(retuning)을 가지는 반복의 일례를 나 타낸 도이다. 도 26(b)를 참고하여, RF 리튜닝에 의한 주파수 다이버시티에 대해 살펴본다. 협대역 RF, 단일 안테나 및 제한된 이동성으로 인해, MTC는 제한된 주파수, 공간 및 시간 다이버시티를 지원한 다. 페이딩(fading) 및 단절(outage)을 줄이기 위해, 주파수 호핑(frequency hopping)은 RF 리튜닝(retuning) 에 의해 서로 다른 협대역들 사이에서 MTC가 지원된다. MTC에서 주파수 호핑은 반복(repetition)이 가능할 때, 서로 다른 상향링크 및 하향링크 물리 채널들에 적용된 다. 예를 들어, 32개의 서브프레임들이 PDSCH 전송을 위해 사용되는 경우, 첫 번째 16개의 서브프레임들은 첫 번째 협대역 상에서 전송될 수 있다. 이때, RF 전단부(front-end)는 다른 협대역으로 리튜닝되고, 나머지 16개 의 서브프레임들은 두 번째 협대역 상에서 전송된다. MTC의 협대역은 BS에 의해 전송되는 시스템 정보 또는 DCI(downlink control information)를 통해 UE에게 설정 될 수 있다. MTC는 반-듀플렉스 모드(half duplex mode)로 동작하며, 제한된 (또는 감소된) 최대 전송 전력을 사용한다. 반-듀플렉스 모드란 통신 장치가 한 시점에 일 주파수 상에서 상향링크 아니면 상향링크로만 동작하고, 다른 시 점에는 다른 주파수 상에서 하향링크 아니면 상향링크로 동작하는 것을 말한다. 예를 들어, 통신 장치가 반-듀 플렉스 모드로 동작하는 경우, 상향링크 주파수와 하향링크 주파수를 사용하여 통신하되 상기 통신 장치는 상향 링크 주파수와 하향링크 주파수를 동시에 사용하지 못하며, 시간을 나눠서 일정 시간 동안에는 상향링크 주파수 를 통해 상향링크 전송을 수행하고 다른 일정 시간 동안에는 하향링크 주파수로 리튜닝하여 하향링크 수신을 수 행한다. MTC는 기존 LTE 또는 NR의 전체 시스템 대역폭에 걸쳐서 분산되어야 하는 (기존 LTE 또는 NR에서 정의되는) 채널을 사용하지 않는다. 일례로, MTC에서는 기존 LTE의 PDCCH는 시스템 대역폭 전체에 분산되어 전송되므로 기 존 PDCCH가 사용되지 않는다. 대신 MTC에서는 새로운 제어 채널인 MPDCCH(MTC PDCCH)가 정의된다. MPDCCH는 주 파수 도메인에서 최대 6RB들 내에서 전송/수신된다. MTC는 새롭게 정의된 DCI 포맷을 사용한다. 예를 들어, DCI 포맷 6-0A, 6-0B, 6-1A, 6-1B, 6-2 등이 MTC용 DCI 포맷으로 사용될 수 있다(3GPP TS 36.212 참조). MTC의 경우, PBCH(physical broadcast channel), PRACH(physical random access channel), M-PDCCH(MTC physical downlink control channel), PDSCH(physical downlink shared channel), PUCCH(physical uplink control channel), PUSCH(physical uplink shared channel)가 반복적으로 전송될 수 있다. 이와 같은 MTC 반복 전송은 지하실과 같은 열악한 환경에서와 같이 신호 품질 또는 전력이 매우 열악한 경우에도 MTC 채널을 디코딩 할 수 있어 셀 반경 증가 및 신호 침투 효과를 가져올 수 있다. MTC에서 PDSCH 스케줄링(DCI)과 상기 PDSCH 스케줄링에 따른 PDSCH 전송은 서로 다른 서브프레임에서 발생 한다(크로스-서브프레임 스케줄링). LTE 시스템에서 일반적인 SIB1을 나르는 PDSCH는 PDCCH에 의해 스케줄링됨에 반해, SIB1 디코딩을 위한 모 든 자원 할당 정보(예, 서브프레임, TBS(Transport Block Size), 협대역 인덱스)는 MIB의 파라미터에 의해 결정 되며, MTC의 SIB1 디코딩을 위해 어떤 제어 채널도 사용되지 않는다. SIB2 디코딩을 위한 모든 자원 할당 정보 (서브 프레임, TBS, 서브 밴드 인덱스)는 여러(several) SIB1 파 라미터들에 의해 결정되며, MTC의 SIB2 디코딩을 위한 어떤 제어 채널도 사용되지 않는다. MTC는 확장(extended) 페이징 (DRX) 주기(cycle)을 지원한다. 여기서 페이징 주기라 함은 UE가 전력 절약을 위해 하향링크 신호의 수신을 시도하지 않는 불연속 수신(discontinuous reception, DRX) 모드에 있는 동안에도, 상기 UE를 깨우고자 하는 네트워크로부터의 페이징이 있는지를 확인하기 위해 깨어나야 하는 주기를 말한다. MTC는 기존 LTE 또는 NR에서 사용되는 PSS(primary synchronization signal) / SSS(secondary synchronization signal) / CRS(common reference signal)를 동일하게 사용할 수 있다. NR의 경우, PSS/SSS는 SSB 단위로 전송되며, TRS(tracking RS)가 셀-특정적 RS로서, 주파수/시간 트랙킹을 위해 사용될 수 있다.MTC 동작 모드 및 레벨 다음, MTC 동작 모드(operation mode)와 레벨(level)에 대해 살펴본다. MTC는 커버리지 향상을 위해 2개의 동작 모드(제 1 모드, 제 2 모드)와 4개의 서로 다른 레벨들로 분류되며, 아래 표 8과 같을 수 있다. 상기 MTC 동작 모드는 CE(Coverage Enhancement) 모드로 지칭되며, 이 경우 제 1 모드는 CE Mode A, 제 2 모드 는 CE Mode B로 지칭될 수 있다. 표 8"}
{"patent_id": "10-2019-7019215", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 11, "content": "제 1 모드는 완전한 이동성 및 CSI(channel state information) 피드백이 지원되는 작은 커버리지 향상을 위해 정의되어, 반복이 없거나 또는 반복 횟수가 적은 모드이다. 제 2 모드는 CSI 피드백 및 제한된 이동성을 지원하 는 극히 열악한 커버리지 조건의 UE에 대해 정의되며, 많은 수의 반복 전송이 정의된다. 제 2 모드는 최대 15dB 의 커버리지 향상을 제공한다. MTC의 각 레벨은 임의 접속 과정과 페이징 과정에서 다르게 정의된다. MTC 동작 모드는 BS에 의해 결정되며, 각 레벨은 MTC UE에 의해 결정된다. 구체적으로, BS는 MTC 동작 모드에 대한 정보를 포함하는 RRC 시그널링(signaling)을 UE로 전송한다. 여기서, RRC 시그널링은 RRC 연결 셋업 (connection setup) 메시지, RRC 연결 재설정(connection reconfiguration) 메시지 또는 RRC 연결 수립 (connection reestablishment) 메시지 등일 수 있다. 이후, MTC UE는 각 동작 모드 내 레벨을 결정하고, 결정된 레벨을 BS으로 전송한다. 구체적으로, MTC UE는 측정 한 채널 품질(예, 참조 수신 신호 전력(reference signal received power, RSRP), 참조 신호 수신 품질 (reference signal received quality, RSRQ) 또는 신호 대 간섭 및 잡음 비(signal to interference plus noise ratio, SINR))에 기초하여 동작 모드 내 레벨을 결정하고, 결정된 레벨에 대응하는 PRACH 자원(예, PRACH 를 위한 주파수, 시간, 프리앰블 자원)을 이용하여 RACH 프리앰블을 전송함으로써 BS에게 상기 결정된 레벨을 알린다. MTC 보호 구간 (guard period) 살핀 것처럼, MTC는 협대역에서 동작한다. MTC에 사용되는 협대역의 위치는 특정 시간 유닛(예, 서브프레임 또 는 슬롯)마다 다를 수 있다. MTC UE는 시간 유닛들에 따라 다른 주파수로 튜닝할 수 있다. 주파수 리튜닝에는 일정 시간이 필요하며, 이 일정 시간을 MTC의 가드 기간(guard period)으로 정의한다. 즉, 하나의 시간 유닛에 서 다음 시간 유닛으로 전환(transition)하면서 주파수 리튜닝을 수행할 때 가드 기간이 필요하고, 해당 가드 기간 동안에는 전송 및 수신이 발생하지 않는다. MTC 신호 전송/수신 방법 도 27은 MTC에 이용될 수 있는 물리 채널들 및 이들을 이용한 일반적인 신호 전송 방법을 나타낸 도이다. 전원이 꺼진 상태에서 다시 전원이 켜지거나, 새로이 셀에 진입한 MTC UE는 S1001 단계에서 BS와 동기를 맞추는 등의 초기 셀 탐색(initial cell search) 동작을 수행한다. 이를 위해 MTC UE는 BS로부터 PSS(Primary Synchronization Signal) 및 SSS(Secondary Synchronization Signal)을 수신하여 BS와 동기를 맞추고, 셀 ID(identifier) 등의 정보를 획득한다. 상기 MTC의 초기 셀 탐색 동작에 이용되는 PSS / SSS는 기존 LTE의 PSS / SSS, RSS(Resynchronization signal) 등일 수 있다. 그 후, MTC UE는 BS로부터 물리 브로드캐스트 채널(physical broadcast channel, PBCH) 신호를 수신하여 셀 내 브로드캐스트 정보를 획득할 수 있다.한편, MTC UE는 초기 셀 탐색 단계에서 하향링크 참조 신호(downlink reference signal, DL RS)를 수신하여 하 향링크 채널 상태를 확인할 수 있다. PBCH를 통해 전송되는 브로드캐스트 정보는 MIB(Master Information Block)이며, LTE에서 MIB는 10ms마다 반복된다. 기존 LTE의 MIB 내 비트들 중 유보 비트(reserved bit)들이 시간/주파수 위치 및 수송 블록 크기(transport block size)를 포함하는 새로운 SIB1-BR(system information block for bandwidth reduced device)에 대한 스 케줄링링 정보를 전송하기 위해 MTC에서 사용된다. SIB-BR은 상기 SIB-BR과 연관된 어떤 제어 채널(예, PDCCH, MPDDCH) 없이 직접 PDSCH 상에서 전송된다. 초기 셀 탐색을 마친 MTC UE는 S1002 단계에서 MPDCCH와 상기 MPDCCH 정보에 따른 PDSCH를 수신하여 조금 더 구 체적인 시스템 정보를 획득할 수 있다. MPDCCH는 한 번만 전송되거나 반복하여 전송될 수 있다. MPDCCH의 최대 반복 횟수는 BS로부터의 RRC 시그널링에 의해 UE에게 설정된다. 이후, MTC UE는 BS에 접속을 완료하기 위해 단계 S1003 내지 단계 S1006과 같은 임의 접속 과정(random access procedure)을 수행할 수 있다. MTC UE의 RACH 과정과 관련된 기본적인 설정(configuration)은 SIB2에 의해 전 송된다. 또한, SIB2는 페이징과 관련된 파라미터들을 포함한다. 3GPP 시스템에서 페이징 기회(Paging Occasion, PO)는 UE가 페이징의 수신을 시도할 수 있는 시간 유닛을 의미한다. MTC UE는 페이징용으로 설정된 협대역(PNB) 상에서 자신의 PO에 해당하는 시간 유닛 내 P-RNTI를 기반으로 MPDCCH의 수신을 시도한다. P-RNTI를 기반으로 MPDCCH의 디코딩에 성공한 UE는 상기 MPDCCH에 의해 스케줄링된 PDSCH를 수신하여, 자신에 대한 페이징 메시지 를 확인할 수 있다. 자신에 대한 페이징 메시지가 있으면 임의 접속 과정을 수행하여 네트워크로의 접속을 수행 한다. 임의 접속 과정을 위해, MTC UE는 물리 임의 접속 채널(PRACH: physical random access channel)을 통해 프리 앰블을 전송하고(S1003), MPDCCH 및 이에 대응하는 PDSCH을 통해 프리앰블에 대한 응답 메시지(RAR)를 수신할 수 있다(S1004). 경쟁 기반 임의 접속의 경우, MTC UE는 추가적인 PRACH 신호의 전송(S1005) 및 MPDCCH 신호 및 이에 대응하는 PDSCH 신호의 수신(S1006)과 같은 충돌 해결 과정(contention resolution procedure)를 수행 할 수 있다. MTC에서 RACH 과정에서 전송되는 신호 및/또는 메시지들(Msg 1, Msg 2, Msg 3, Msg 4)는 반복적으 로 전송될 수 있으며, 이러한 반복 패턴은 CE 레벨에 따라 다르게 설정된다. Msg1은 PRACH 프리앰블을 의미하며, Msg2는 RAR(random access response)를 의미하며, Msg3은 RAR에 포함된 UL 그랜트를 기반으로 한 UL 전송을 의미하며, Msg4는 Msg3에 대한 BS의 DL 전송을 의미할 수 있다. 임의 접속을 위해 서로 다른 CE 레벨들에 대한 PRACH 자원들이 BS에 의해 시그널링된다. 이는 유사한 경로 감쇠 (path loss)를 경험하는 UE들을 함께 그룹핑함으로써, PRACH에 대한 near-far 효과의 동일한 제어를 제공한다. 최대 4개까지의 서로 다른 PRACH 자원들이 MTC UE로 시그널링될 수 있다. MTC UE는 하향링크 RS(예, CRS, CSI-RS, TRS 등)을 이용하여 RSRP를 추정하고, 측정 결과에 기초하여 임의 접속 에 대한 서로 다른 PRACH 자원 예, PRACH를 위한 주파수, 시간, 프리앰블 자원)들 중 하나를 선택한다. PRACH에 대한 RAR 및 경쟁 해결 메시지(contention resolution message)들에 대한 탐색 공간들은 또한 시스템 정보를 통해 BS에서 시그널링된다. 상술한 바와 같은 과정을 수행한 MTC UE는 이후 일반적인 상향링크/하향링크 신호 전송 과정으로서 MPDCCH 신호 및/또는 PDSCH 신호의 수신(S1007) 및 물리 상향링크 공유 채널(PUSCH) 신호 및/또는 물리 상향링크 제어 채널 (PUCCH) 신호의 전송(S1108)을 수행할 수 있다. MTC UE는 PUCCH 혹은 PUSCH를 통해 BS에게 상향링크 제어 정보 (uplink control information, UCI)를 전송할 수 있다. UCI는 HARQ-ACK/NACK, 스케줄링 요청(scheduling request, SR), 및/또는 CSI 등을 포함할 수 있다. MTC UE에 대한 RRC 연결이 수립(establish)되면, MTC UE는 상향링크 및 하향링크 데이터 할당을 획득하기 위해 설정된 탐색 공간(search space)에서 MPDCCH를 모니터링하여 MDCCH의 수신을 시도한다. MTC의 경우, MPDCCH와 상기 MDCCH에 의해 스케줄링되는 PDSCH가 서로 다른 서브프레임에서 전송/수신된다. 예를 들어, 서브프레임 #n에서 마지막 반복을 가지는 MPDCCH는 서브프레임 #n+2에서 시작하는 PDSCH를 스케줄한다. MPDCCH에 의해 전송되는 DCI는 언제 PDSCH 전송이 시작되는지를 MTC UE가 알수 있도록 하기 위해 상기 MPDCCH가 얼마나 반복되는지에 대한 정보를 제공한다. 예를 들어, 서브프레임 #n부터 전송이 시작된 MPDCCH 내 DCI가 상 기 MPDCCH가 10번 반복된다는 정보를 포함하는 경우, 상기 MPDCCH가 전송되는 마지막 서브프레임은 서브프레임 #n+9이고, PDSCH의 전송은 서브프레임 #n+11에서 시작할 수 있다.PDSCH는 상기 PDSCH를 스케줄링하는 MPDCCH가 있는 협대역과는 같은 혹은 다른 협대역에 스케줄링될 수 있다. MPDCCH와 해당 PDSCH가 다른 협대역에 위치하는 경우, MTC UE는 PDSCH를 디코딩하기 전에 상기 PDSCH가 있는 협 대역으로 주파수를 리튜닝할 필요가 있다. 상향링크 데이터 전송에 대해, 스케줄링은 레거시 LTE와 동일한 타이밍을 따를 수 있다. 예를 들어, 서브프레임 #n에서 마지막 전송이 있는 MPDCCH는 서브프레임 #n+4에서 시작하는 PUSCH 전송을 스케줄링할 수 있다. 도 28은 MTC와 기존(legacy) LTE 각각에 대한 스케줄링의 일례를 나타낸 도이다. 기존(legacy) LTE에서 PDSCH는 PDCCH를 사용하여 스케줄링되며, 이는 각 서브프레임에서 처음 OFDM 심볼(들)을 사용하며, 상기 PDSCH는 상기 PDCCH가 수신되는 서브프레임과 동일한 서브프레임에서 스케줄된다. 이에 반해, MTC PDSCH는 크로스-서브프레임 스케줄링되며, MPDCCH와 PDSCH 사이에서 하나의 서브프레임이 MPDCCH 디코딩 및 RF 리튜닝을 위한 시간 기간으로서 사용된다. MTC 제어 채널 및 데이터 채널들은 극단적인 커 버리지 조건에서도 디코딩될 수 있록 MPDCCH에 대해 최대 256개의 서브프레임들과 PDSCH에 대해 최대 2048개의 서브프레임들을 가지는 많은 수의 서브프레임들을 통해 반복될 수 있다. NB-IoT (Narrowband-Internet of Things) NB-IoT는 무선 통신 시스템(예, LTE 시스템, NR 시스템 등)의 1개 자원 블록(resource block, RB)에 해당하는 시스템 대역폭(system BW)을 통해 낮은 복잡도(complexity), 낮은 전력 소비(power consumption)을 지원하기 위한 시스템을 의미할 수 있다. 여기에서, NB-IoT는 NB-LTE, NB-IoT 개선(enhancement), 개선(enhanced) NB-IoT, 추가 개선(further enhanced) NB-IoT, NB-NR 등과 같이 다른 용어로 지칭될 수 있다. 즉, NB-IoT는 3GPP 표준에서 정의되거나 정의될 용어로 대체될 수 있으며, 이하에서는 설명의 편의를 위하여 'NB-IoT'로 통칭하여 표현하기로 한다. NB-IoT는 주로 기계 타입 통신(machine-type communication, MTC) 등과 같은 장치(device)(또는 UE)를 셀룰러 시스템(cellular system)에서 지원하여 IoT(즉, 사물 인터넷)를 구현하기 위한 통신 방식으로 이용될 수도 있다. 이 때, 기존의 시스템 대역의 1개 RB이 NB-IoT 용으로 할당됨으로써, 주파수가 효율적으로 사용될 수 있 는 장점이 있다. 또한, NB-IoT의 경우, 각 UE는 단일 RB(RB)를 각각의 반송파(carrier)로 인식하므로, 본 명세 서에서 NB-IoT와 관련되어 언급되는 RB 및 반송파는 서로 동일한 의미로 해석될 수도 있다. 이하, 본 명세서에서의 NB-IoT와 관련된 프레임 구조, 물리 채널, 다중 반송파 동작(multi carrier operation), 동작 모드(operation mode), 일반적인 신호 전송/수신 등은 기존의 LTE 시스템의 경우를 고려하여 설명되지만, 차세대 시스템(예, NR 시스템 등)의 경우에도 확장하여 적용될 수 있음은 물론이다. 또한, 본 명세 서에서의 NB-IoT와 관련된 내용은 유사한 기술적 목적(예: 저-전력, 저-비용, 커버리지 향상 등)을 지향하는 MTC(Machine Type Communication)에 확장하여 적용될 수도 있다. 이하에서는 물리 채널의 전송 시간 인터벌(transmission time interval)이 서브프레임인 경우를 예로 하여 설명 된다. 예를 들어, 일 물리 채널(예, NPDCCH, NPDSCH, NPUCCH, NPUSCH)의 전송 시작에서 다음 물리 채널의 전송 시작까지의 최소 시간 인터벌이 1개 서브프레임인 경우를 예로 하여 설명되나, 이하의 설명에서 서브프레임은 슬롯, 미니-슬롯, 혹은 다수(multiple) 슬롯들로 대체될 수 있다. NB-IoT의 프레임 구조 및 물리 자원 먼저, NB-IoT 프레임 구조는 부반송파 간격(subcarrier spacing)에 따라 다르게 설정될 수 있다. 구체적으로, 도 29는 부반송파 간격이 15kHz인 경우의 프레임 구조의 일 예를 나타내며, 도 30은 부반송파 간격이 3.75kHz인 경우의 프레임 구조의 일 예를 나타낸다. 다만, NB-IoT 프레임 구조는 이에 한정되는 것은 아니며, 다른 부반송 파 간격(예, 30kHz 등)에 대한 NB-IoT도 시간/주파수 단위를 달리하여 고려될 수 있음은 물론이다. 또한, 본 명세서에서는 LTE 시스템 프레임 구조에 기반한 NB-IoT 프레임 구조를 예시로 설명하였지만, 이는 설 명의 편의를 위한 것일 뿐 이에 한정되는 것은 아니며, 본 명세서에서 설명하는 방식이 차세대 시스템(예, NR 시스템)의 프레임 구조에 기반한 NB-IoT에도 확장하여 적용될 수 있다. 도 29를 참조하면, 15kHz 부반송파 간격에 대한 NB-IoT 프레임 구조는 상술한 기존(legacy) 시스템(예, LTE 시 스템)의 프레임 구조와 동일하게 설정될 수 있다. 예를 들어, 10ms NB-IoT 프레임은 1ms NB-IoT 서브프레임 10 개를 포함하며, 1ms NB-IoT 서브프레임은 0.5ms NB-IoT 슬롯 2개를 포함할 수 있다. 또한, 각각의 0.5ms NB-IoT은 7개의 OFDM 심볼들을 포함할 수 있다. 이와 달리, 도 30을 참조하면, 10ms NB-IoT 프레임은 2ms NB-IoT 서브프레임 5개를 포함하며, 2ms NB-IoT 서브 프레임은 7개의 OFDM 심볼들과 하나의 보호 기간(guard period, GP)을 포함할 수 있다. 또한, 상기 2ms NB-IoT 서브프레임은 NB-IoT 슬롯 또는 NB-IoT RU(resource unit) 등으로 표현될 수도 있다. 다음으로, 하향링크 및 상향링크 각각에 대한 NB-IoT의 물리 자원을 살펴본다. 먼저, NB-IoT 하향링크의 물리 자원은 시스템 대역폭이 특정 개수의 RB(예, 1개의 RB 즉, 180kHz)로 한정되는 것을 제외하고는, 다른 무선 통신 시스템(예, LTE 시스템, NR 시스템 등)의 물리 자원을 참고하여 설정될 수 있 다. 일례로, 상술한 바와 같이 NB-IoT 하향링크가 15kHz 부반송파 간격만을 지원하는 경우, NB-IoT 하향링크의 물리 자원은 상술한 도 31에 나타난 LTE 시스템의 자원 그리드를 주파수 도메인 상의 1개 RB로 제한한 자원 영 역으로 설정될 수 있다. 다음으로, NB-IoT 상향링크의 물리 자원의 경우에도 하향링크의 경우와 같이 시스템 대역폭은 1개의 RB로 제한 되어 구성될 수 있다. 일례로, 상술한 바와 같이 NB-IoT 상향링크가 15kHz 및 3.75kHz 부반송파 간격을 지원하 는 경우, NB-IoT 상향링크를 위한 자원 그리드는 도 31과 같이 표현될 수 있다. 이 때, 도 31에서 상향링크 대 역의 부반송파 수 NULsc 및 슬롯 기간 Tslot은 아래의 표 9와 같이 주어질 수 있다. 표 9"}
{"patent_id": "10-2019-7019215", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 12, "content": "NB-IoT에서는 NB-IoT용 PUSCH(이하, NPUSCH)의 자원 요소들로의 매핑을 위해 자원 유닛(resource unit, RU)들 이 사용된다. RU는 시간 도메인 상에서 NULsymb*NULslot개의 SC-FDMA 심볼들로 구성되고, 주파수 도메인 상에서 NRUsc개의 연속적인(consecutive) 부반송파들로 구성될 수 있다. 일례로, NRUsc 및 NULsymb는 FDD용 프레임 구 조인 프레임 구조 타입 1의 경우에는 아래의 표 10에 의해 주어지며, TDD용 프레임 구조인 프레임 구조 타입 2 의 경우 표 11에 의해 주어질 수 있다. 표 10 표 11"}
{"patent_id": "10-2019-7019215", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 13, "content": "NB-IoT의 물리 채널 NB-IoT를 지원하는 BS 및/또는 UE는 기존의 시스템과 별도로 설정된 물리 채널 및/또는 물리 신호를 전송/수신 하도록 설정될 수 있다. 이하, NB-IoT에서 지원되는 물리 채널 및/또는 물리 신호와 관련된 구체적인 내용에 대 해 살펴본다. NB-IoT 하향링크에는 15kHz의 부반송파 간격에 기반하여 OFDMA(Orthogonal Frequency Division Multiple Access) 방식이 적용될 수 있다. 이를 통해, 부반송파 간 직교성(orthogonality)을 제공하여 다른 시스템(예, LTE 시스템, NR 시스템)과의 공존(co-existence)이 효율적으로 지원될 수 있다. NB-IoT 시스템의 하향링크 물리 채널/신호는 기존의 시스템과의 구분을 위하여 'N(Narrowband)'이 추가된 형태로 표현될 수 있다. 예를 들어, 하향링크 물리 채널은 NPBCH(Narrowband Physical Broadcast Channel), NPDCCH(Narrowband Physical Downlink Control Channel), NPDSCH(Narrowband Physical Downlink Shared Channel) 등으로 지칭되며, 하향링크 물리 신 호는 NPSS(Narrowband Primary Synchronization Signal), NSSS(Narrowband Secondary Synchronization Signal), NRS(Narrowband Reference Signal), NPRS(Narrowband Positioning Reference Signal), NWUS(Narrowband Wake Up Signal) 등으로 지칭될 수 있다. 일반적으로, NB-IoT의 하향링크 물리 채널 및 물리 신호는 시간 도메인 다중화 방식 및/또는 주파수 도메인 다중화 방식에 기반하여 전송되도록 설정될 수 있다. NB-IoT 시스템의 하향링크 채널인 NPBCH, NPDCCH, NPDSCH 등의 경우, 커버리지 향상(coverage enhancement)을 위하여 반복 전송(repetition transmission)이 수행될 수 있다. 또한, NB-IoT는 새롭게 정의된 DCI 포맷을 사 용하며, 일례로 NB-IoT를 위한 DCI 포맷은 DCI 포맷 N0, DCI 포맷 N1, DCI 포맷 N2 등으로 정의될 수 있다. NB-IoT 상향링크에는 15kHz 또는 3.75kHz의 부반송파 간격에 기반하여 SC-FDMA(Single Carrier Frequency Divison Multiple Access) 방식이 적용될 수 있다. 하향링크 부분에서 언급한 것과 같이, NB-IoT 시스템의 물리 채널은 기존의 시스템과의 구분을 위하여 'N(Narrowband)'이 추가된 형태로 표현될 수 있다. 예를 들어, 상향링 크 물리 채널은 NPRACH(Narrowband Physical Random Access Channel) 및 NPUSCH(Narrowband Physical Uplink Shared Channel) 등으로 표현되고, 상향링크 물리 신호는 NDMRS(Narrowband Demodulation Reference Signal) 등으로 표현될 수 있다. NPUSCH는 NPUSCH 포맷 1과 NPUSCH 포맷 2 등으로 구분될 수 있다. 일례로, NPUSCH 포 맷 1은 상향링크 공유 채널(uplink shared channel, UL-SCH) 전송(또는 운반)을 위해 이용되며, NPUSCH 포맷 2 는 HARQ ACK 시그널링 등과 같은 상향링크 제어 정보 전송을 위해 이용될 수 있다. NB-IoT 시스템의 상향링크 채널인 NPRACH 등의 경우, 커버리지 향상(coverage enhancement)을 위하여 반복 전송(repetition transmission)이 수행될 수 있다. 이 경우, 반복 전송은 주파수 호핑(frequency hopping)이 적용되어 수행될 수도 있다. NB-IoT의 다중 반송파 동작 다음으로, NB-IoT의 다중 반송파 동작에 대해 살펴본다. 다중 반송파 동작은 NB-IoT에서 BS 및/또는 UE가 상호 간에 채널 및/또는 신호를 전송/수신함에 있어서 용도가 서로 다르게 설정된(즉, 타입이 다른) 다수의 반송파들이 이용되는 것을 의미할 수 있다. NB-IoT는 다중 반송파 모드로 동작할 수 있다. 이 때, NB-IoT에서 반송파는 앵커 타입의 반송파(anchor type carrier)(즉, 앵커 반송파(anchor carrier), 앵커 PRB) 및 비-앵커 타입의 반송파(non-anchor type carrier) (즉, 비-앵커 반송파(non-anchor carrier), 비-앵커 PRB)로 구분될 수 있다. 앵커 반송파는 BS 관점에서 초기 접속(initial access)을 위해 NPSS, NSSS, NPBCH, 및 시스템 정보 블록(N- SIB)를 위한 NPDSCH 등을 전송하는 반송파를 의미할 수 있다. 즉, NB-IoT에서 초기 접속을 위한 반송파는 앵커 반송파로 지칭되고, 그 외의 것(들)은 비-앵커 반송파로 지칭될 수 있다. 이 때, 앵커 반송파는 시스템 상에서 하나만 존재하거나, 다수의 앵커 반송파들이 존재할 수도 있다. NB-IoT의 동작 모드 다음으로, NB-IoT의 동작 모드에 대해 살펴본다. NB-IoT 시스템에서는 3개의 동작 모드들이 지원될 수 있다. 도 32는 NB-IoT 시스템에서 지원되는 동작 모드들의 일 예를 나타낸다. 본 명세서에서는 NB-IoT의 동작 모드가 LTE 대역에 기반하여 설명되지만, 이는 설명의 편의를 위한 것일 뿐, 다른 시스템의 대역(예, NR 시스템 대역)에 대 해서도 확장되어 적용될 수 있다. 구체적으로, 도 32(a)는 인-밴드(in-band) 시스템의 일례를 나타내며, 도 32(b)는 가드-밴드(guard-band) 시스 템의 일례를 나타내며, 도 32(c)는 독립형(stand-alone) 시스템의 일례를 나타낸다. 이 때, 인-밴드 시스템은 인-밴드 모드(in-band mode)로, 가드-밴드 시스템은 가드-밴드 모드(guard-band mode)로, 독립형 시스템은 독립 형 모드(stand-alone mode)로 표현될 수 있다. 인-밴드 시스템은 (legacy) LTE 대역 내 특정 1개 RB를 NB-IoT를 위해 사용하는 시스템 또는 모드를 의미할 수 있다. 인-밴드 시스템은 LTE 시스템 반송파의 일부 자원 블록을 할당하여 운용될 수 있다. 가드-밴드 시스템은 (legacy) LTE 밴드의 가드-밴드를 위해 비워놓은(reserved) 공간에 NB-IoT를 사용하는 시스 템 또는 모드를 의미할 수 있다. 가드-밴드 시스템은 LTE 시스템에서 자원 블록으로 사용되지 않는 LTE 반송파 의 가드-밴드를 할당하여 운용될 수 있다. 일례로, (legacy) LTE 대역은 각 LTE 대역의 마지막에 최소 100kHz의 가드-밴드를 가지도록 설정될 수 있는데, NB-IoT를 위한 200kHz를 위해 2개의 비-연속적인(non-contiguous) 가 드-밴드들이 이용될 수 있다. 상술한 것과 같이, 인-밴드 시스템 및 가드-밴드 시스템은 (legacy) LTE 대역 내에 NB-IoT가 공존하는 구조에서 운용될 수 있다. 이에 반해, 독립형 시스템은 (legacy) LTE 대역으로부터 독립적으로 구성된 시스템 또는 모드를 의미할 수 있다. 독립형 시스템은 GERAN(GSM EDGE Radio Access Network)에서 사용되는 주파수 대역(예, 향후 재할당된 GSM 반송파)을 별도로 할당하여 운용될 수 있다. 상술한 3개의 동작 모드들은 각각 독립적으로 운용되거나, 둘 이상의 동작 모드들이 조합되어 운용될 수도 있다. NB-IoT 신호 전송/수신 과정 도 33은 NB-IoT에 이용될 수 있는 물리 채널들 및 이들을 이용한 일반적인 신호 전송 방법의 일 예를 나타낸 도 이다. 무선 통신 시스템에서 NB-IoT UE는 BS로부터 하향링크(DL)를 통해 정보를 수신하고, NB-IoT UE는 BS으로 상향링크(UL)를 통해 정보를 전송할 수 있다. 다시 말해, 무선 통신 시스템에서 BS는 NB-IoT UE로 하향링크를 통해 정보를 전송하고, BS는 NB-IoT UE로부터 상향링크를 통해 정보를 수신할 수 있다. BS와 NB-IoT UE가 전송/수신하는 정보는 데이터 및 다양한 제어 정보를 포함하고, 이들이 전송/수신하는 정보의 종류/용도에 따라 다양한 물리 채널이 존재할 수 있다. NB-IoT의 신호 전송/수신 방법은 상술한 무선 통신 장치 (예, BS 및 UE)에 의해 수행될 수 있다. 전원이 꺼진 상태에서 다시 전원이 켜지거나, 새로이 셀에 진입한 NB-IoT UE는 BS와 동기를 맞추는 등의 초기 셀 탐색(Initial cell search) 작업을 수행할 수 있다(S11). 이를 위해 NB-IoT UE는 BS로부터 NPSS 및 NSSS를 수신하여 BS와의 동기화(synchronizatoin)를 수행하고, 셀 ID(cell identity) 등의 정보를 획득할 수 있다. 또 한, NB-IoT UE는 BS로부터 NPBCH를 수신하여 셀 내 브로드캐스트 정보를 획득할 수 있다. 또한, NB-IoT UE는 초 기 셀 탐색 단계에서 DL RS(Downlink Reference Signal)를 수신하여 하향링크 채널 상태를 확인할 수도 있다. 초기 셀 탐색을 마친 NB-IoT UE는 NPDCCH 및 이에 대응되는 NPDSCH를 수신하여 좀더 구체적인 시스템 정보를 획 득할 수 있다(S12). 다시 말해, BS는 초기 셀 탐색을 마친 NB-IoT UE에게 NPDCCH 및 이에 대응되는 NPDSCH를 전송하여 좀더 구체적인 시스템 정보를 전달할 수 있다. 이후, NB-IoT UE는 BS에 접속을 완료하기 위해 임의 접속 과정(Random Access Procedure)을 수행할 수 있다 (S13 내지 S16). 구체적으로, NB-IoT UE는 NPRACH를 통해 프리앰블(preamble)을 BS으로 전송할 수 있으며(S13), 상술한 바와 같 이 NPRACH는 커버리지 향상 등을 위하여 주파수 호핑 등에 기반하여 반복 전송되도록 설정될 수 있다. 다시 말 해, BS는 NB-IoT UE로부터 NPRACH를 통해 프리앰블을 (반복적으로) 수신할 수 있다. 이후, NB-IoT UE는 NPDCCH 및 이에 대응하는 NPDSCH를 통해 프리앰블에 대한 RAR(Random Access Response)을 BS로부터 수신할 수 있다(S14). 다시 말해, BS는 NPDCCH 및 이에 대응하는 NPDSCH를 통해 프리앰블에 대한 RAR(Random Access Response)를 NB-IoT UE로 전송할 수 있다. 이후, NB-IoT UE는 RAR 내의 스케줄링 정보를 이용하여 NPUSCH를 BS으로 전송하고(S15), NPDCCH 및 이에 대응 하는 NPDSCH과 같은 충돌 해결 과정(Contention Resolution Procedure)를 수행할 수 있다(S16). 다시 말해, BS 는 NB-IoT RAR 내의 스케줄링 정보를 이용하여 NPUSCH를 UE로부터 수신하고, 상기 충돌 해결 과정을 수행할 수 있다. 상술한 바와 같은 과정을 수행한 NB-IoT UE는 이후 일반적인 상향/하향링크 신호 전송 과정으로서 NPDCCH/NPDSCH 수신(S17) 및 NPUSCH 전송(S18)을 수행할 수 있다. 다시 말해, 상술한 과정들을 수행한 후, BS 는 NB-IoT UE로 일반적인 신호 전송/수신 과정으로서 NPDCCH/NPDSCH 전송 및 NPUSCH 수신을 수행할 수 있다. NB-IoT의 경우, 앞서 언급한 바와 같이 NPBCH, NPDCCH, NPDSCH 등은 커버리지 향상 등을 위하여 반복 전송될 수 있다. 또한, NB-IoT의 경우 NPUSCH를 통해 UL-SCH(즉, 일반적인 상향링크 데이터) 및 상향링크 제어 정보가 전 달될 수 있다. 이 때, UL-SCH 및 상향링크 제어 정보(uplink control information, UCI)는 각각 다른 NPUSCH 포맷(예, NPUSCH 포맷 1, NPUSCH 포맷 2 등)을 통해 전송되도록 설정될 수도 있다. 또한, UCI는 HARQ ACK/NACK(Hybrid Automatic Repeat and reQuest Acknowledgement/Negative-ACK), SR(Scheduling Request), CSI(Channel State Information) 등을 포함할 수 있다. 상술한 바와 같이, NB-IoT에 서 UCI는 일반적으로 NPUSCH를 통해 전송될 수 있다. 또한, 네트워크(예: BS)의 요청/지시에 따라 UE는 NPUSCH 를 통해 UCI를 주기적(perdiodic), 비주기적(aperdiodic), 또는 반-지속적(semi-persistent)으로 전송할 수 있 다. L. 사이드링크 (Sidelink, SL) 사이드링크(sidelink, SL) 또는 기기-to-기기(device-to-device, D2D) 통신 기술은 지리적으로 근접한 UE들이 직접적으로 통신하는 방식을 말한다. D2D 통신 기술은 이미 상용화가 이루어진 와이파이 다이렉트 (Wi-Fi Direct), 블루투스(Bluetooth)와 같이 주로 비면허 주파수 대역을 사용하는 기술이 개발되었다. 하지만 셀룰러 시스템의 주파수 이용 효율을 향상시키기 위한 목적으로 면허 주파수 대역을 활용하는 D2D 통신 기술이 개발되 었으며, 이에 대한 표준화가 이루어지고 있다. 일반적으로, D2D 통신은 사물과 사물 간의 통신이나 사물 지능 통신을 지칭하는 용어로 제한적으로 사용되기도 하지만, 본 명세서에서의 D2D 통신은 통신 기능이 장착된 단순한 장치는 물론, 스마트폰, 개인용 컴퓨터, 차량, 로봇 등과 같이 통신 기능을 갖춘 다양한 형태의 장치 간의 통신을 모두 포함할 수 있다. 셀룰러 시스템의 표준을 정의하는 3GPP는 D2D 통신이라는 용어 대신 사이드링크(sidelink, SL)라는 용어를 사용 하며 특히, V2X와 관련된 경우 V2X 사이드링크, NR V2X 등의 용어를 사용한다. 즉, 사이드링크는 V2X 사이드링 크를 포함하는 보다 넓은 의미의 용어를 나타낼 수 있다. 사이드링크는 크게 사이드링크 디스커버리(sidelink discovery), 사이드링크 통신(sidelink communication), 사이드링크 동기화(sidelink synchronization) 등을 포함할 수 있다. 그리고, 사이드링크 통신은 V2X 사이드링 크 통신을 포함하는 개념이다. 3GPP의 경우, UE와 UE 간의 사이드링크 통신은 전송 모드(transmission mode) 1 및 전송 모드 2로 기술하고 있 고 특히, 차량과 차량과의 V2X 사이드링크 통신은 전송 모드 3 및 전송 모드 4로 기술하고 있다. 사이드링크에 일반적으로 적용될 수 있는 내용들을 살펴보고, V2X 사이드링크, NR V2X에 대해 보다 구체적으로 살펴본다. 이하에서는 물리 채널의 전송 시간 인터벌(transmission time interval)이 서브프레임인 경우를 예로 하여 설명 된다. 예를 들어, 일 물리 채널(예, PSSCH, PSCCH, PSDCH)의 전송 시작에서 다음 물리 채널의 전송 시작까지의 최소 시간 인터벌이 1개 서브프레임인 경우를 예로 하여 설명되나, 이하의 설명에서 서브프레임은 슬롯, 미니- 슬롯, 혹은 다수(multiple) 슬롯들로 대체될 수 있다. 도 37은 사이드링크의 다양한 시나리오들의 일례를 나타낸다. 사이드링크의 시나리오는 UE 1과 UE 2가 셀 커버리지 내(in-coverage)/셀 커버리지 밖(out-of-coverage)에 위 치하는지에 따라 크게 Out-of-Coverage Network, Partial-Coverage Network 및 In-Coverage Network으로 나뉠 수 있다. In-Coverage Network의 경우, BS의 커버리지에 해당하는 셀(Cell)의 개수에 따라 In-Coverage-Single-Cell 및 In-Coverage-Multi-Cell로 나뉠 수 있다. 도 37(a)는 D2D 통신의 Out-of-Coverage Network 시나리오의 일 예를 나타낸다. Out-of-Coverage Network 시나리오는 BS의 제어 없이 UE들 간 사이드링크를 수행하는 것을 말한다. 도 37(a)에서, UE 1과 UE 2만 존재하며, UE 1과 UE 2는 직접 통신을 하는 것을 볼 수 있다. 도 37(b)는 사이드 링크의 Partial-Coverage Network 시나리오의 일 예를 나타낸다. Partial-Coverage Network 시나리오는 네트워 크 커버리지 내에 위치하는 UE와 네트워크 커버리지 밖에 위치하는 UE 간에 사이드링크를 수행하는 것을 말한다. 도 37(b)에서, 네트워크 커버리지 내 위치하는 UE 1과 네트워크 커버리지 밖에 위치하는 UE 2가 통신하 는 것을 볼 수 있다. 도 37(c)는 In-Coverage-Single-Cell 시나리오의 일 예를, 도 37(d)는 In-Coverage- Multi-Cell 시나리오의 일 예를 나타낸다. In-Coverage Network 시나리오는 UE들이 네트워크 커버리지 내에서 BS의 제어를 통해 사이드링크를 수행하는 것을 말한다. 도 37(c)에서, UE 1과 UE 2는 동일한 네트워크 커버리지 (또는 셀) 내에 위치하며, BS의 제어 하에 사이드링크를 수행한다. 도 37(d)에서, UE 1과 UE2는 네트워크 커버 리지 내에 위치하기는 하나, 서로 다른 네트워크 커버리지 내에 위치한다. 그리고, UE 1과 UE 2는 각 네트워크 커버리지를 관리하는 BS의 제어 하에 사이드링크를 수행한다. 사이드링크 전송(sidelink transmission)은 FDD의 경우 상향링크 스펙트럼에서 동작하고, TDD의 경우 상향링크 (혹은 하향링크) 서브프레임에서 동작할 수 있다. 사이드링크 전송과 상향링크 전송의 다중화를 위하여 TDM(Time Division Multiplexing)이 이용될 수 있다. UE의 능력(capability)에 따라, 특정 UE에서는 사이드링 크 전송과 상향링크 전송은 동시에 일어나지 않는다. 예를 들어, 상향링크 전송을 위해 사용되는 상향링크 서브 프레임과 부분적 혹은 전체적으로 겹쳐지는 사이드링크 서브프레임에서는 사이드링크 전송이 일어나지 않는다. 또한, 사이드링크 전송과 하향링크 전송도 동시에 일어나지 않는다. 또한, 사이드링크의 전송 및 수신 또한 동 시에 일어나지 않는다. 사이드링크 전송에 이용되는 물리 자원의 구조는 상향링크 물리 자원의 구조가 동일하게 이용될 수 있다. 다만, 사이드링크 서브프레임의 마지막 심볼은 보호 구간(guard period)으로 구성되어 사이드 링크 전송에 이용되지 않는다. 사이드링크는 크게 사이드링크 디스커버리(sidelink discovery), 사이드링크 통 신(sidelink communication), V2X 사이드링크 통신, 사이드링크 동기화(sidelink synchronization)를 포함할 수 있다. 사이드링크 통신은 UE가 PC5 인터페이스를 통해 직접 통신할 수 있는 통신 모드이다. 이 통신 모드는 UE가 E- UTRAN에 의해 서빙(serving)될 때와, UE가 E-UTRA 커버리지 외부에 있을 때 지원된다. 커버리지 외부(out of coverage) 동작에 대한 동기화를 수행하기 위해, UE(들)은 사이드링크 브로드캐스트 채널(sidelink broadcast control channel, SBCCH) 및 동기 신호를 전송함으로써 동기화 소스로서 동작할 수 있다. SBCCH는 다른 사이드링크 채널 및 신호를 수신하는 데 필요한 가장 중요한 시스템 정보를 전달한다. SBCCH는 동 기 신호(synchronization signal)와 함께 40ms의 고정 주기로 전송된다. UE가 네트워크 커버리지 내(in network coverage)에 있을 때, SBCCH의 컨텐츠는 BS에 의해 시그널링된 파라미터로부터 도출 또는 획득된다. UE가 커버리지를 벗어난 경우, UE가 동기화 기준으로서 다른 UE를 선택하면, SBCCH의 콘텐츠는 수신된 SBCCH로 부터 도출된다. 그렇지 않으면, UE는 사전 설정(configure)된 파라미터를 사용한다. 커버리지 외부 동작을 위해 40ms마다 두 개의 사전 설정된 서브 프레임이 존재한다. UE는 하나의 서브프레임에 서 동기 신호와 SBCCH를 수신하고, 정의된 기준에 따라 UE가 동기 소스가 되면 다른 서브 프레임에서 동기 신호 와 SBCCH를 전송한다. UE는 사이드링크 제어 기간(sidelink control period)의 지속 기간에 걸쳐(over) 정의된 서브프레임들에 상에서 사이드링크 통신을 수행한다. 사이드링크 제어 기간은 사이드링크 제어 정보 및 사이드링크 데이터 전송을 위해 셀에 자원들이 할당되는 기간이다. 사이드링크 제어 기간 내에서, UE는 사이드링크 제어 정보와 사이드링크 데 이터를 전송한다. 사이드링크 제어 정보는 레이어 1 ID 및 전송 특성(예를 들어, MCS, 사이드링크 제어 기간에 대한 자원의 위치 및 타이밍 정렬)을 나타낸다. 사이드링크 무선 프로토콜 구조 사용자 평면 및 제어 평면에 대해 사이드링크를 위한 UE 무선 프로토콜 구조에 대해 살펴본다. 도 38는 사이드링크를 위한 프로토콜 스택을 보여준다. 구체적으로, 도 38(a)는 PDCP, RLC 및 MAC 서브 계층(sublayer)(다른 UE에서 종료)이 사용자 평면에 대해 기능 들을 수행하는 사용자 평면에 대한 프로토콜 스택을 나타낸다. PC5 인터페이스의 접속 계층 프로토콜 스택은 도 38(a)와 같이 PDCP, RLC, MAC 및 PHY로 구성된다. 도 38(b)는 본 명세서의 구현(들)이 적용될 수 있는 SBCCH에 대한 제어 평면 프로토콜 스택을 나타낸다. PC5 인 터페이스에서 SBCCH에 대한 접속 층(access stratum, AS) 프로토콜 스택은 도 38(b)와 같이 RRC, RLC, MAC 및 PHY로 구성된다. 일-대-일 사이드링크 통신을 위해 논리적 연결을 설정, 유지 및 해제하기 위한 제어 평면이 도 39에 도시되어 있다. 도 39는 일대일 사이드링크를 위한 제어 평면 프로토콜 스택을 나타낸다. 사이드링크 프로토콜 스택에 관한 좀 더 자세한 설명은 3GPP TS 23.303, 3GPP TS 23.285, 3GPP TS 24.386 등을 참조할 수 있다. 사이드링크 디스커버리(sidelink discovery) 사이드링크에서는 다수의 전송/수신 UE들이 임의의 위치에 분포하기 때문에, 특정 UE가 주변 UE들과 사이드링크 통신을 수행하기에 앞서, 주변 UE들의 존재를 확인하는 사이드링크 디스커버리 과정이 요구된다. 또한, 사이드 링크 디스커버리는, 상술한 바와 같은 주변 UE들의 존재 확인뿐만 아니라, 근접 영역 내의 UE에게 광고, 쿠폰 발행, 친구 찾기 등의 다양한 상용 목적으로 활용될 수도 있다. 사이드링크 디스커버리는 네트워크 커버리지 내에서 적용될 수 있다. 이 때, 사이드링크 디스커버리를 위하여 UE들이 주기적으로 전송하는 신호(또는 메시지)는 디스커버리 메시지(discovery message), 디스커버리 신호 (discovery signal), 비콘(beacon) 등으로 지칭될 수 있다. 이하, 설명의 편의를 위하여, UE들이 사이드링크 디 스커버리를 위해 주기적으로 전송하는 신호는 디스커버리 메시지로 통칭된다. UE 1이 디스커버리 메시지 전송의 역할(role)을 가지는 경우, UE 1은 디스커버리 메시지를 전송하고, UE 2는 디 스커버리 메시지를 수신한다. UE 1과 UE 2의 전송 및 수신 역할은 바뀔 수 있다. UE 1으로부터의 전송은 UE 2와 같은 하나 이상의 UE(들)에 의해 수신될 수 있다. 디스커버리 메시지는 단일의 MAC PDU를 포함할 수 있으며, 여기서 단일의 MAC PDU는 UE 식별자(ID) 및 어플리케 이션 식별자(application ID)를 포함할 수 있다. 디스커버리 메시지를 전송하는 채널로 물리 사이드링크 디스커버리 채널(physical sidelink discovery channel, PSDCH)이 정의될 수 있다. PSDCH 채널의 구조는 PUSCH 구조를 재이용할 수 있다. 사이드링크 디스커버리를 위한 자원 할당 방법은 두 가지의 타입(사이드링크 디스커버리 타입 1, 사이드링크 디 스커버리 타입 2B)이 이용될 수 있다. 사이드링크 디스커버리 타입 1의 경우, BS는 UE 특정하지 않은(non-UE specific) 방식으로 디스커버리 메시지 전송을 위한 자원을 할당할 수 있다. 구체적으로, 특정 주기(이하, '디스커버리 주기') 내에서 복수의 서브프레 임 세트 및 복수의 자원 블록 세트로 구성된, 디스커버리 전송 및 수신을 위한 무선 자원 풀(즉, 디스커버리 풀 (discovery pool))이 할당되고, 디스커버리 전송 UE는 이 무선 자원 풀(pool) 내에서 특정 자원을 임의로 선택 한 다음 디스커버리 메시지를 전송한다. 이러한 주기적인 디스커버리 자원 풀(pool)은 준-정적(semi-static)인 방식으로 디스커버리 신호 전송을 위해 할당될 수 있다. 디스커버리 전송을 위한 디스커버리 자원 풀(pool)의 설정 정보는 디스커버리 주기, 디스커버리 주기 내 디스커버리 신호의 전송을 위해 사용할 수 있는 서브프레임 세트 및 자원 블록 세트 정보 등을 포함한다. 이러한, 디스커버리 자원 풀의 설정 정보는 RRC 시그널링에 의해UE에 전송될 수 있다. In-coverage UE의 경우, 디스커버리 전송을 위한 디스커버리 자원 풀(pool)은 BS에 의해 설정되고, RRC 시그널링(예를 들어, SIB(System Information Block))을 이용하여 UE에게 알려질 수 이다. 하나 의 디스커버리 주기 내에 디스커버리를 위해 할당된 디스커버리 자원 풀(pool)은 동일한 크기를 가지는 시간-주 파수 자원 블록으로 TDM 및/또는 FDM으로 다중화될 수 있으며, 이러한 동일한 크기를 가지는 시간-주파수 자원 블록을 '디스커버리 자원(discovery resource)'으로 지칭할 수 있다. 디스커버리 자원은 하나의 서브프레임 단 위로 구분될 수 있으며, 각 서브프레임에서 슬롯 당 두 개의 자원 블록(resource block, RB)을 포함할 수 있다. 하나의 디스커버리 자원은 하나의 UE에 의해 디스커버리 MAC PDU의 전송을 위해 사용될 수 있다. 또한, UE는 하 나의 수송 블록(transport block)의 전송을 위해 디스커버리 주기 내에서 디스커버리 신호를 반복적으로 전송할 수 있다. 하나의 UE에 의해 전송되는 MAC PDU의 전송은 디스커버리 주기 내(즉, 무선 자원 풀(pool))에서 연속 적으로(contiguous) 혹은 비연속적(non-contiguous)으로 반복(예를 들어, 4회 반복)될 수 있다. 하나의 수송 블 록을 위한 디스커버리 신호의 전송 횟수는 상위 계층 시그널링에 의해 UE에 전송될 수 있다. UE는 MAC PDU의 반 복되는 전송을 위해 사용될 수 있는 디스커버리 자원 세트(discovery resource set)에서 첫 번째 디스커버리 자 원을 임의로 선택하고, 그 이외의 디스커버리 자원은 첫 번째 디스커버리 자원과 관련하여 결정될 수 있다. 예 를 들어, 일정 패턴이 미리 설정되고, UE가 첫 번째로 선택한 디스커버리 자원의 위치에 따라 그 다음의 디스커 버리 자원이 미리 설정된 패턴에 따라 결정될 수 있다. 또한, UE가 MAC PDU의 반복 전송을 위해 사용될 수 있는 디스커버리 자원 세트 내에서 각각의 디스커버리 자원을 임의로 선택할 수도 있다. 사이드링크 디스커버리 타입 2는 디스커버리 메시지 전송을 위한 자원이 UE 특정(UE specific)하게 할당된다. 타입 2는 다시 타입 2A와 타입 2B로 세분화된다. 타입 2A는 BS가 디스커버리 주기 내에서 UE가 디스커버리 메시 지의 전송 시점(instance)마다 자원을 할당하는 방식이고, 타입 2B는 준-정적인(semi-persistent) 방식으로 자 원을 할당하는 방식이다. 사이드링크 디스커버리 타입 2B의 경우, RRC_CONNECTED UE는 RRC 시그널링을 통해 BS 에 사이드링크 디스커버리 메시지의 전송을 위한 자원의 할당을 요청한다. 그리고, BS는 RRC 시그널링을 통해 자원을 할당할 수 있다. UE는 RRC_IDLE 상태로 천이할 때 또는 BS가 RRC 시그널링을 통해 자원 할당을 철회 (withdraw)할 때, UE는 가장 최근에 할당된 전송 자원을 해제한다. 이와 같이 사이드링크 디스커버리 타입 2B의 경우, RRC 시그널링에 의해 무선 자원이 할당되고, PDCCH에 의해 할당된 무선 자원의 활성(activation)/비활성 (deactivation)이 결정될 수 있다. 디스커버리 메시지 수신을 위한 무선 자원 풀(pool)은 BS에 의해 설정되고, RRC 시그널링(예를 들어, SIB(System Information Block))을 이용하여 UE에게 알려질 수 있다. 디스커버리 메시지 수신 UE는 디스커버리 메시지 수신을 위하여 상술한 사이드링크 디스커버리 타입 1 및 타입 2의 디스커버리 자원 풀(pool)을 모두 모니터링한다. 사이드링크 디스커버리 방식은, BS와 같은 중앙 노드의 도움을 받는 중앙집중형(centralized) 디스커버리 방식 과 중앙 노드의 도움 없이 UE가 스스로 주변 UE의 존재를 확인하는 분산적(distributed) 디스커버리 방식으로 구분될 수 있다. 분산적 디스커버리 방식의 경우, UE가 디스커버리 메시지를 전송 및 수신하기 위한 자원으로서 셀룰러 자원과는 별도로 전용(dedicated) 자원이 주기적으로 할당될 수 있다. 사이드링크 통신 (Sidelink Communication) 사이드링크 통신의 적용 영역은 네트워크 커버리지 안팎(in-coverage, out-of-coverage)은 물론 네트워크 커버 리지 경계 영역(edge-of-coverage)도 포함한다. 사이드링크 통신은 PS(Public Safety) 등의 목적으로 이용될 수 있다. UE 1이 직접 통신 데이터 전송의 역할을 가지는 경우, UE 1은 직접 통신 데이터를 전송하고, UE 2는 직접 통신 데이터를 수신한다. UE 1과 UE 2의 전송 및 수신 역할은 바뀔 수 있다. UE 1으로부터의 직접 통신 전송은 UE 2 와 같은 하나 이상의 UE(들)에 의해 수신될 수 있다. 사이드링크 디스커버리와 사이드링크 통신은 서로 연계되지 않고 독립적으로 정의될 수 있다. 즉, 그룹캐스트 (groupcast) 및 브로드캐스트(broadcast) 직접 통신에서는 사이드링크 디스커버리가 요구되지 않는다. 이와 같 이, 사이드링크 디스커버리와 사이드링크 직접 통신이 독립적으로 정의되는 경우, UE들은 인접하는 UE를 인지할 필요가 없다. 다시 말해, 그룹캐스트 및 브로드캐스트 직접 통신의 경우, 그룹 내 모든 수신 UE가 서로 근접할 것을 요구하지 않는다. 사이드링크 통신 데이터를 전송하는 채널로서 물리 사이드링크 공유 채널(physical sidelink shared channel, PSSCH)이 정의될 수 있다. 또한, 사이드링크 통신을 위한 제어 정보(예를 들어, 사이드링크 통신 데이터 전송을 위한 스케줄링 배정(scheduling assignment, SA), 전송 포맷 등)를 전송하는 채널로서 물리 사이드링크 제어 채널(physical sidelink control channel, PSCCH)이 정의될 수 있다. PSSCH 및 PSCCH는 PUSCH 구조를 재이용할 수 있다. 사이드링크 통신을 위한 자원 할당 방법은 두 가지의 모드(Mode 1/Mode 3, Mode 2/Mode 4)가 이용될 수 있다. 여기서, Mode 3/Mode 4는 V2X 사이드링크 통신을 위한 자원 할당 방법을 나타내며 이에 대한 부분은 V2X에서 보 다 구체적으로 설명한다. Mode 1/Mode 3은 BS가 UE에게 사이드링크 통신을 위한 데이터 또는 제어 정보를 전송하기 위하여 사용하는 자원 을 스케줄링 하는 방식을 말한다. in-coverage에서는 Mode 1이 적용된다. BS는 사이드링크 통신에 필요한 자원 풀(pool)을 설정한다. BS는 사이드링크 통신에 필요한 자원 풀에 대한 정 보를 RRC 시그널링을 통해 UE로 전달할 수 있다. 여기서, 사이드링크 통신에 필요한 자원 풀(pool)은 제어 정보 풀(즉, PSCCH를 전송하기 위한 자원 풀)과 사이드링크 데이터 풀(즉, PSSCH를 전송하기 위한 자원 풀)로 구분될 수 있다. 전송 UE가 BS으로 제어 정보 및/또는 데이터를 전송할 자원을 요청하면, BS가 물리 하향링크 제어 채널을 이용 하여 전송 D2D UE에게 설정된 풀 내에서 제어 정보 및 사이드링크 데이터 전송 자원을 스케줄링한다. 이에 따라, 전송 UE는 스케줄링받은(즉, 할당받은) 자원을 이용하여 제어 정보 및 사이드링크 데이터를 수신 UE로 전 송한다. 구체적으로, BS는 DCI(Downlink Control Information) 포맷 5 또는 DCI 포맷 5A를 이용하여 제어 정보를 전송 하기 위한 자원(즉, PSCCH를 전송하기 위한 자원)에 대한 스케줄링을 수행할 수 있으며, SCI(Sidelink Control Information) 포맷 0 또는 SCI 포맷 1을 이용하여 사이드링크 데이터를 전송하기 위한 자원(즉, PSSCH를 전송하 기 위한 자원)에 대한 스케줄링을 수행할 수 있다. 이 때, 상기 DCI 포맷 5는 상기 SCI 포맷 0의 일부 필드 (field)들을 포함하고, 상기 DCI 포맷 5A는 상기 SCI 포맷 1의 일부 필드들을 포함한다. Mode 1/Mode 3의 경우, 전송 UE는 사이드링크 통신을 수행하기 위하여 RRC_CONNECTED 상태에 있어야 한다. 전송 UE는 스케줄링 요청을 BS에 전송하고, 이어 BS가 전송 UE에 의해 요청되는 자원의 양을 결정할 수 있도록 UE가 전송할 상향링크 데이터의 양을 보고하는 과정인 BSR(Buffer Status Report) 과정이 진행된다. 수신 UE들은 제어 정보 풀을 모니터링하고, 자신과 관련된 제어 정보를 디코딩하면 해당 제어 정보와 관련된 사 이드링크 데이터 전송을 선택적으로 디코딩할 수 있다. 수신 UE는 제어 정보 디코딩 결과에 따라 사이드링크 데 이터 풀을 디코딩하지 않을 수도 있다. 상술한 사이드링크 통신 Mode 1/Mode 3에 대한 구체적인 예시 및 시그널링 과정은 아래의 도 40 및 도 41와 같 다. 이 경우, 앞서 설명한 바와 같이, 사이드링크 통신과 관련된 제어 정보는 PSCCH를 통해 전송되고, 사이드링 크 통신과 관련된 데이터 정보는 PSSCH를 통해 전송된다. 도 40는 BS의 제어에 의한 사이드링크 통신 Mode 1/Mode 3에서의 사이드링크 동작 과정과 이와 관련된 정보를 전송/수신함으로써, 사이드링크 통신을 수행하는 방법을 나타낸다. 도 40에 도시된 바와 같이, 사이드링크 통신과 관련된 PSCCH 자원 풀(resource pool) 및/또는 PSSCH 자원 풀(resource pool)이 사전에 구성될 수 있으며, 사전에 구성된 자원 풀은 RRC 시그널링을 통해 BS에서 사 이드링크 UE들로 전송될 수 있다. 이 때, 상기 PSCCH 자원 풀 및/또는 상기 PSSCH 자원 풀은 사이드링크 통신을 위해 예약된(reserved) 자원(즉, 전용(dedicated) 자원)을 의미할 수 있다. 여기에서, PSCCH는 사이드링크 데이 터(즉, PSSCH)의 전송을 스케줄링하기 위한 제어 정보로서, SCI 포맷 0이 전송되는 채널을 의미할 수 있다. 또한, PSCCH는 PSCCH 주기에 따라 전송되고, PSSCH는 PSSCH 주기에 따라 전송된다. 상기 PSCCH에 대한 스케줄링 은 DCI 포맷 5를 통해 수행되며, 상기 PSSCH에 대한 스케줄링은 SCI 포맷 0을 통해 수행된다. 상기 DCI 포맷 5 는 사이드링크 그랜트(sidelink grant)으로 지칭될 수 있다. 여기에서, 상기 DCI 포맷 5는 PSCCH에 대한 자원 정보(즉, 자원 할당 정보), PSCCH 및 PSSCH에 대한 전송 전력 제어(Transmission Power Control, TPC) 명령(command), 제로 패딩(Zero Padding, ZP) 비트(들) 및 SCI 포맷 0 의 일부 필드들(예, 주파수 호핑 플래그(requency hopping flag), 자원 블록 배정(resource block assignment) 및 호핑 자원 할당(hopping resource allocation) 정보, 시간 자원 패턴(예, 서브프레임 패턴) 등)을 포함한다. 또한, 상기 SCI 포맷 0의 필드들은 PSSCH(즉, SCI 포맷 0)의 스케줄링과 관련된 정보로서 주파수 호핑 플래그, 시간 자원 패턴, MCS(Modulation and Coding Scheme), TA 지시자(Timing Advance indication), 그룹 목적지 ID(group destination ID) 등과 같은 필드들로 구성된다. 도 41은 사이드링크 통신을 지원하는 무선 통신 시스템에서 UE 간의 사이드링크 통신을 위한 하향링크 제어 정 보 전송 방법을 나타낸다. 먼저, 사이드링크와 관련된 PSCCH 자원 풀 및/또는 PSSCH 자원 풀이 상위 계층에 의해 구성된다(step 1). 이후, BS는 상기 PSCCH 자원 풀 및/또는 PSSCH 자원 풀에 대한 정보를 상위 계층 시그널링(예: RRC 시그널링)을 통해 사이드링크 UE로 전송한다(step 2). 이후, BS는 DCI 포맷 5를 통해 사이드링크 전송 UE로 PSCCH(즉, SCI 포맷 0)의 전송 및/또는 PSSCH(즉, 사이드 링크 통신 데이터)의 전송과 관련된 제어 정보를 각각 또는 함께 전송한다(step 3). 상기 제어 정보는 상기 PSCCH 자원 풀 및/또는 상기 PSSCH 자원 풀에서의 PSCCH 및/또는 PSSCH의 스케줄링 정보를 포함한다. 일례로, 자원 할당 정보, MCS 레벨, 시간 자원 패턴 등이 포함될 수 있다. 이후, 사이드링크 전송 UE는 step 3에서 수신된 정보에 기반하여 사이드링크 수신 UE로 PSCCH(즉, SCI 포맷 0) 및/또는 PSSCH(즉, 사이드링크 통신 데이터)를 전송한다(step 4). 이 경우, 상기 PSCCH의 전송과 상기 PSSCH의 전송은 함께 수행될 수도 있고, 상기 PSCCH의 전송 후에 상기 PSSCH의 전송이 수행될 수도 있다. 한편, 도 41에는 도시되지 않았으나, 사이드링크 전송 UE는 BS에 사이드링크 데이터를 위한 전송 자원(즉, PSSCH 자원)을 요청하고, BS는 PSCCH와 PSSCH의 전송을 위한 자원을 스케줄링할 수 있다. 이를 위해, 사이드링 크 전송 UE는 스케줄링 요청(scheduling request, SR)을 BS으로 전송하고, 이어 사이드링크 전송 UE에 의해 요 청되는 자원의 양에 관한 정보를 BS에게 제공하는 BSR(Buffer Status Report) 과정이 진행될 수 있다. 사이드링크 수신 UE들은 제어 정보 풀을 모니터링(monitoring)하고, 자신과 관련된 제어 정보를 디코딩 (decoding)하면 해당 제어 정보와 관련된 사이드링크 데이터 전송을 선택적으로 디코딩할 수 있다. 이에 반해, Mode 2/Mode 4는 UE가 사이드링크 통신을 위한 데이터 또는 제어 정보를 전송하기 위하여 자원 풀 (pool)에서 특정 자원을 임의로 선택하는 방식을 말한다. out-of-coverage 및/또는 in-coverage에서 Mode 2/Mode 4가 적용된다. Mode 2에서 제어 정보 전송을 위한 자원 풀(pool) 및/또는 사이드링크 통신 데이터 전송을 위한 자원 풀(pool) 은 미리 설정(pre-configured)되거나 준-정적으로(semi-statically) 설정될 수 있다. UE는 설정된 자원 풀(시 간 및 주파수)을 제공 받고, 자원 풀에서 사이드링크 통신 전송을 위한 자원을 선택한다. 즉, UE는 제어 정보를 전송하기 위하여 제어 정보 자원 풀에서 제어 정보 전송을 위한 자원을 선택할 수 있다. 또한, UE는 사이드링크 통신 데이터 전송을 위해 데이터 자원 풀에서 자원을 선택할 수 있다. 또한, 사이드링크 브로드캐스트 통신에서, 제어 정보는 브로드캐스팅 UE에 의해 전송된다. 제어 정보는 사이드 링크 통신 데이터를 운반하는 물리 채널(즉, PSSCH)과 관련하여 데이터 수신을 위한 자원의 위치를 알린다. 사이드링크 동기화(sidelink synchronization) 사이드링크 동기 신호/시퀀스(synchronization Signal/sequence, sidelink SS)는 UE가 시간-주파수 동기를 획 득하기 위하여 이용될 수 있다. 특히, 네트워크 커버리지 밖의 경우 BS의 제어가 불가능하므로 UE 간 동기 확립 을 위한 새로운 신호 및 과정이 정의될 수 있다. 사이드링크 동기 신호를 주기적으로 전송하는 UE를 사이드링크 동기 소스(Sidelink Synchronization Source) 등 으로 지칭할 수 있다. UE 별로 다수의 물리 계층 사이드링크 동기 식별자(physical-layer sidelink synchronization identity)를 가 질 수 있다. 사이드링크를 위해 소정 개수(예, 336)의 물리 계층 사이드링크 동기 식별자들이 정의된다. 사이드링크 동기 신호는 1차 사이드링크 동기 신호(primary sidelink synchronization signal, PSSS) 및 2차 사이드링크 동기 신호(secondary sidelink synchronization signal, SSSS)를 포함한다. 사이드링크 동기 신호를 전송하기 전에, 먼저 UE는 사이드링크 동기 소스를 탐색할 수 있다. 그리고, 사이드링 크 동기 소스가 탐색되면, UE는 탐색된 사이드링크 동기 소스로부터 수신된 사이드링크 동기 신호를 통해 시간- 주파수 동기를 획득할 수 있다. 그리고, 해당 UE는 사이드링크 동기 신호를 전송할 수 있다. 또한, 동기화와 함께 UE 간 통신에 사용되는 시스템 정보 및 동기 관련 정보를 전달하는 목적의 채널이 필요할 수 있으며, 상기 채널은 물리 사이드링크 브로드캐스트 채널(physical sidelink broadcast channel, PSBCH)로 지칭될 수 있다. M. V2X (Vehicle-to-Everything) V2X 통신은 차량 사이의 통신(communication between vehicles)을 지칭하는 V2V(Vehicle-to-Vehicle), 차량과 eNB 또는 RSU(Road Side Unit) 사이의 통신을 지칭하는 V2I(Vehicle to Infrastructure), 차량 및 개인(보행자, 자전거 운전자, 차량 운전자 또는 승객)이 소지하고 있는 UE 간 통신을 지칭하는 V2P(Vehicle-to- Pedestrian), V2N(vehicle-to-network) 등 차량과 모든 개체들 간 통신을 포함한다. V2X 통신은 V2X 사이드링크 또는 NR V2X와 동일한 의미를 나타내거나 또는 V2X 사이드링크 또는 NR V2X를 포함 하는 보다 넓은 의미를 나타낼 수 있다. V2X 통신은 예를 들어, 전방 충돌 경고, 자동 주차 시스템, 협력 조정형 크루즈 컨트롤(Cooperative adaptive cruise control: CACC), 제어 상실 경고, 교통행렬 경고, 교통 취약자 안전 경고, 긴급 차량 경보, 굽은 도로 주행 시 속도 경고, 트래픽 흐름 제어 등 다양한 서비스에 적용 가능하다. V2X 통신은 PC5 인터페이스 및/또는 Uu 인터페이스를 통해 제공될 수 있다. 이 경우, V2X 통신을 지원하는 무 선 통신 시스템에는, 상기 차량과 모든 개체들 간의 통신을 지원하기 위한 특정 네트워크 개체(network entit y)들이 존재할 수 있다. 예를 들어, 상기 네트워크 개체는, BS(eNB), RSU(road side unit), UE, 또는 어플리케 이션 서버(application server)(예, 교통 안전 서버(traffic safety server)) 등일 수 있다. 또한, V2X 통신을 수행하는 UE는, 일반적인 휴대용 UE(handheld UE)뿐만 아니라, 차량 UE(V-UE(Vehicle UE)), 보행자 UE(pedestrian UE), BS 타입(eNB type)의 RSU, 또는 UE 타입(UE type)의 RSU, 통신 모듈을 구비한 로봇 등을 의미할 수 있다. V2X 통신은 UE들 간에 직접 수행되거나, 상기 네트워크 개체(들)를 통해 수행될 수 있다. 이러한 V2X 통신의 수 행 방식에 따라 V2X 동작 모드가 구분될 수 있다. V2X 통신은, 사업자(operator) 또는 제3자가 V2X가 지원되는 지역 내에서 UE 식별자를 트랙킹할 수 없도록, V2X 어플리케이션의 사용 시에 UE의 익명성(pseudonymity) 및 개인보호(privacy)를 지원할 것이 요구된다. V2X 통신에서 자주 사용되는 용어는 다음과 같이 정의된다. - RSU (Road Side Unit): RSU는 V2I 서비스를 사용하여 이동 차량과 전송/수신 할 수 있는 V2X 서비스 가능 장 치이다. 또한, RSU는 V2X 어플리케이션을 지원하는 고정 인프라 엔터티로서, V2X 어플리케이션을 지원하는 다른 엔터티와 메시지를 교환할 수 있다. RSU는 기존 ITS 스펙에서 자주 사용되는 용어이며, 3GPP 스펙에 이 용어를 도입한 이유는 ITS 산업에서 문서를 더 쉽게 읽을 수 있도록 하기 위해서이다. RSU는 V2X 어플리케이션 로직을 BS(BS-타입 RSU라고 함) 또는 UE(UE-타입 RSU라고 함)의 기능과 결합하는 논리적 엔티티이다. - V2I 서비스: V2X 서비스의 일 타입으로, 한 쪽은 차량(vehicle)이고 다른 쪽은 기반시설(infrastructure)에 속하는 엔티티. - V2P 서비스: V2X 서비스의 일 타입으로, 한 쪽은 차량이고, 다른 쪽은 개인이 휴대하는 기기(예, 보행자, 자 전거 타는 사람, 운전자 또는 동승자가 휴대하는 휴대용 UE기). - V2X 서비스: 차량에 전송 또는 수신 장치가 관계된 3GPP 통신 서비스 타입. - V2X 가능(enabled) UE: V2X 서비스를 지원하는 UE. - V2V 서비스: V2X 서비스의 타입으로, 통신의 양쪽 모두 차량이다. - V2V 통신 범위: V2V 서비스에 참여하는 두 차량 간의 직접 통신 범위. V2X(Vehicle-to-Everything)라고 불리는 V2X 어플리케이션은 살핀 것처럼, 차량 대 차량 (V2V), 차량 대 인프라 (V2I), 차량 대 네트워크 (V2N), 차량 대 보행자 (V2P)의 4가지 타입이 있다. 도 42는 V2X 어플리케이션의 타입을 예시한 것이다. 이 4가지 타입의 V2X 어플리케이션은 최종 사용자를 위해 보다 지능적인 서비스를 제공하는 \"협력적 인식(co- operative awareness)\"을 사용할 수 있다. 이는 차량, 길가 기반 시설, 애플리케이션 서버 및 보행자와 같은 엔 티티들이 협동 충돌 경고 또는 자율 주행과 같은 보다 지능적인 정보를 제공하기 위해 해당 지식을 처리하고 공유하도록 해당 지역 환경에 대한 지식(예, 근접한 다른 차량 또는 센서 장비로부터 받은 정보)을 수집할 수 있 음을 의미한다. 이러한 지능형 운송 서비스 및 관련 메시지 세트는 3GPP 밖의 자동차 SDO(Standards Developing Organizations)에 정의되어 있다. ITS 서비스 제공을 위한 세 가지 기본 클래스: 도로 안전, 교통 효율성 및 기타 어플리케이션은 예를 들어 ETSI TR 102 638 V1.1.1: \" Vehicular Communications; Basic Set of Applications; Definitions\"에 기술된다. V2X 통신을 위한 사용자 평면(user plane)에 대한 무선 프로토콜 구조(radio protocol architecture)와 V2X 통 신을 위한 제어 평면(control plane)에 대한 무선 프로토콜 구조는 기본적으로 사이드링크를 위한 프로토콜 스 택 구조와 동일할 수 있다(도 38 참조). 사용자 평면에 대한 무선 프로토콜 구조는 PDCP(Packet Data Convergence Protocol), RLC(Radio Link Control), MAC(Medium Access Control) 및 물리 계층(PHY)를 포함하 고, 제어 평면에 대한 무선 프로토콜 구조는, RRC(radio resource control), RLC, MAC, 물리 계층을 포함할 수 있다. V2X 통신을 위한 프로토콜 스택에 관한 좀 더 자세한 설명은 3GPP TS 23.303, 3GPP TS 23.285, 3GPP TS 24.386 등을 참조할 수 있다. 도 43은 V2X가 사용되는 사이드링크에서의 자원 할당 방법을 예시한다. 사이드링크에서는 도 43(a)와 같이 서로 다른 사이드링크 제어 채널(physical sidelink control channel, PSCCH)들이 주파수 도메인에서 이격되어 할당되고 서로 다른 사이드링크 공유 채널(physical sidelink shared channel, PSSCH)들이 이격되어 할당될 수 있다. 또는, 도 43(b)와 같이 서로 다른 PSCCH들이 주파수 도메인에서 연속하여 할당되고, PSSCH들도 주파수 도메인에서 연속하여 할당될 수도 있다. V2X 동기화 TDMA(time division multiple access) 및 FDMA(frequency division multiples access) 시스템에서, 정확한 시 간 및 주파수 동기화는 필수적이다. 시간 및 주파수 동기화가 정확하게 되지 않으면, 심볼 간 간섭(intersymbol interference, ISI) 및 반송파 간 간섭(intercarrier interference, ICI)을 야기하게 되어 시스템 성능이 저하 된다. 이는, V2X에도 마찬가지이다. V2X에서는 시간/주파수 동기화를 위해, 물리 계층에서는 사이드링크 동기 신호(sidelink synchronization signal, SLSS)를 사용하고, RLC(radio link control) 계층에서는 MIB-SL- V2X(master information block-sidelink-V2X)를 사용할 수 있다. 먼저, V2X에서 동기화의 소스(source) 또는 동기화의 기준에 대해 설명한다. UE는 GNSS(global navigation satellite systems), BS(서빙 셀, 이하 동일) 또는 이웃한 다른 UE들 중 적어도 하나로부터 시간/주파수 동기화 에 대한 정보를 획득할 수 있다. 구체적으로, UE는 GNSS에 직접 동기화되거나, GNSS에 시간/주파수 동기화된 다른 UE에게 동기화될 수 있다. GNSS가 동기 소스로 설정된 경우, UE는 UTC(Coordinated Universal Time) 및 (미리) 설정된 DFN(direct frame number) 오프셋을 사용하여 DFN 및 서브프레임 번호를 계산할 수 있다. 또는, UE는 BS에 직접 동기화되거나, BS에 시간/주파수 동기화된 다른 UE에게 동기화될 수 있다. 예를 들어, UE 가 네트워크 커버리지 내에 있는 경우, 상기 UE는 BS가 제공하는 동기화 정보를 수신하고, 상기 BS에 직접 동기 화될 수 있다. 그 후, 동기화 정보를 이웃한 다른 UE에게 제공할 수 있다. BS 타이밍이 동기화의 기준으로 설정 된 경우, 동기화 및 하향링크 측정을 위해 UE는 해당 주파수에 연관된 셀(상기 주파수에서 셀 커버리지 내에 있 는 경우), 프라이머리 셀 또는 서빙 셀(상기 주파수에서 셀 커버리지 바깥에 있는 경우)을 따를 수 있다. BS(서빙 셀)은 V2X 사이드링크 통신에 사용되는 반송파에 대한 동기화 설정을 제공할 수 있다. 이 경우, UE는 상기 BS로부터 수신한 동기화 설정을 따를 수 있다. 만약, 상기 V2X 사이드링크 통신에 사용되는 반송파에서 아 무 셀도 검출하지 못하였고, 서빙 셀로부터 동기화 설정도 수신하지 못하였다면, UE는 미리 설정된 동기화 설정 을 따를 수 있다. 또는, UE는 BS가나 GNSS로부터 직접 또는 간접적으로 동기화 정보를 획득하지 못한 다른 UE에게 동기화될 수도 있다. 동기화의 소스 및 선호도는 UE에게 미리 설정될 수 있거나 또는 BS에 의하여 제공되는 제어 메시지를 통 해 설정될 수 있다. SLSS는 사이드링크 특정적인 시퀀스(sequence)로, PSSS(primary sidelink synchronization signal)와 SSSS(secondary sidelink synchronization signal)를 포함할 수 있다. 각 SLSS는 물리 계층 사이드링크 동기화 ID(identity)를 가질 수 있으며, 그 값은 예를 들어 0부터 335 중 어느 하나일 수 있다. 상기 값들 중에서 어느 값을 사용하는지에 따라 동기화 소스를 식별할 수도 있다. 예를 들어, 0, 168, 169는 GNSS(Global Navigation Satellite System), 1에서 167은 BS, 170에서 335은 커버리지 바깥임을 의미할 수 있다. 또는, 물리 계층 사이드링크 동기화 ID(identity)의 값들 중에서 0에서 167은 네트워크에 의하 여 사용되는 값들이고, 168에서 335는 네트워크 커버리지 바깥에서 사용되는 값들일 수도 있다. 동기화 정보를 다른 UE에게 제공하는 UE는 동기화의 기준(synchronization reference)으로 동작한다고 볼 수 있 다. 상기 UE는 SLSS와 함께 추가적으로 동기화에 대한 정보를 SL-BCH(sidelink broadcast channel)를 통해 제 공할 수 있다. 다음 표 12는 SL-BCH를 통해 전송되는 동기화 정보의 일 예인 MIB-SL-V2X(MasterInformationBlock-SL-V2X)의 일 예를 나타낸다. 표 12"}
{"patent_id": "10-2019-7019215", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 14, "content": "'directFrameNumber'는, V2X 사이드링크 통신을 위하여 SLSS 및 SL-BCH가 전송되는 프레임 번호를 지시한다. 'directFrameNumber'에 해당하는 프레임 내의 서브프레임은 'directSubframeNumber'에 의하여 지시된다. 'inCoverage' 값이 'TRUE'일 경우, 상기 MIB-SL-V2X를 전송하는 UE가 네트워크(E-UTRAN) 커버리지 내에 있음을 나타낸다. 'sl-Bandwidth'는 전송 대역 설정을 나타내는 파라미터로, 예를 들어, n6는 6개의 자원 블록 (resource block, RB)들, n15는 15개의 자원 블록들을 나타내는 식이다. V2X 관련 자원 할당 방법 사이드링크에는 전송 모드 1, 2, 3 및 4가 있다. 전송 모드 1/3에서는, BS가 UE 1에게 PDCCH(보다 구체적으로 DCI)를 통해 자원 스케줄링을 수행하고, UE 1은 해 당 자원 스케줄링에 따라 UE 2와 D2D/V2X 통신을 수행한다. UE 1은 UE 2에게 PSCCH(physical sidelink control channel)을 통해 SCI(sidelink control information)을 전송한 후, 상기 SCI에 기반한 데이터를 PSSCH(physical sidelink shared channel)을 통해 전송할 수 있다. 전송 모드 1은 D2D에, 전송 모드 3은 V2X에 적용될 수 있다. 전송 모드 2/4는, UE가 스스로 스케줄링을 하는 모드라 할 수 있다. 보다 구체적으로, 전송 모드 2는 D2D에 적 용되며, 설정된 자원 풀 내에서 UE가 자원을 스스로 선택하여 D2D 동작을 수행할 수 있다. 전송 모드 4는 V2X에 적용되며, 센싱 과정을 거쳐 선택 윈도우 내에서 UE가 스스로 자원을 선택한 후 V2X 동작을 수행할 수 있다. UE 1은 UE 2에게 PSCCH을 통해 SCI을 전송한 후, 상기 SCI에 기반한 데이터를 PSSCH을 통해 전송할 수 있다. 이하, 전송 모드를 모드로 약칭할 수 있다. BS가 PDCCH를 통해 UE에게 전송하는 제어 정보를 DCI(downlink control information)이라 칭하는데 반해, UE가 PSCCH를 통해 다른 UE에게 전송하는 제어 정보를 SCI라 칭할 수 있다. SCI는 사이드링크 스케줄링 정보를 전달 할 수 있다. SCI에는 여러 가지 포맷이 있을 수 있는데, 예컨대, SCI 포맷 0과 SCI 포맷 1이 있을 수 있다. SCI 포맷 0은 PSSCH의 스케줄링을 위해 사용될 수 있다. SCI 포맷 0에는, 주파수 홉핑 플래그(1 비트), 자원 블 록 할당 및 홉핑 자원 할당 필드(사이드링크의 자원 블록 개수에 따라 비트 수가 달라질 수 있음), 시간 자원 패턴(time resource pattern), MCS (modulation and coding scheme), 시간 어드밴스 지시(time advance indication), 그룹 목적지 ID(group destination ID) 등을 포함할 수 있다. SCI 포맷 1은 PSSCH의 스케줄링을 위해 사용될 수 있다. SCI 포맷 1에는, 우선권(priority), 자원 예약 (resource reservation), 초기 전송 및 재전송의 주파수 자원 위치(사이드링크의 서브 채널 개수에 따라 비트수가 달라질 수 있음), 초기 전송과 재전송 간의 시간 갭(time gap between initial transmission and retransmission), MCS, 재전송 인덱스 등을 포함한다. SCI 포맷 0은 전송 모드 1, 2에 사용될 수 있고, SCI 포맷 1은 전송 모드 3, 4에 사용될 수 있다. 이하, V2X에 적용되는 모드 3 및 모드 4에서의 자원 할당(resource allocation)을 보다 구체적으로 설명한다. 우선 모드 3에 대해 설명한다. 1. 모드 3 모드 3은 스케줄된 자원 할당이라고 할 수 있다. UE는 데이터를 전송하기 위해 RRC_CONNECTED 상태일 수 있다. 도 44는, UE가 모드 3 동작을 수행하는 경우를 예시한다. UE는 BS에게 전송/수신 자원을 요청하고, BS는 사이드링크 제어 정보 및/또는 데이터의 전송/수신에 관한 자원 (들)을 UE에게 스케줄링 할 수 있다. 이때, 스케줄된 자원 할당을 위해 사이드링크 SPS가 지원될 수도 있다. UE 는 할당 받은 자원을 이용하여 다른 UE와 사이드링크 제어 정보 및/또는 데이터를 전송/수신할 수 있다. 2. 모드 4 도 45는 UE가 모드 4 동작을 수행하는 경우를 예시한다. 모드 4는 UE 자율적 자원 선택(UE autonomous resource selection)이라 할 수 있다. UE는 사이드링크 자원의 (재)선택을 위한 센싱(sensing)을 수행할 수 있다. 센싱 결과에 기반하여 특정 자원을 제외한 나머지 자원들 중 에서 UE는 사이드링크 자원을 임의로 선택/예약할 수 있다. UE는 최대 두 개의 병렬적인 독립된 자원 예약 프로 세스를 수행할 수도 있다. 모드 4의 센싱 및 자원 선택에 대해 보다 구체적으로 설명한다. 도 46은 모드 4의 센싱 및 자원 선택을 예시한다. 앞서 설명한 바와 같이, UE는 모드 4 전송 자원을 선택하기 위해 센싱을 수행할 수 있다. 예를 들어, UE는 센싱 윈도우 내에서의 센싱을 통해 다른 UE가 예약한 전송 자원들 또는 다른 UE가 사용하고 있 는 자원들을 파악하고, 선택 윈도우 내에서 이를 배제한 후 남아 있는 자원들 중 간섭이 적은 자원에서 임의로 자원을 선택할 수 있다. 예를 들어, UE는 센싱 윈도우 내에서, 예약된 자원들의 주기에 대한 정보를 포함하는 PSCCH를 디코딩하고, 상기 PSCCH에 기반하여 주기적으로 결정된 자원들에서 PSSCH RSRP를 측정할 수 있다. 상기 PSSCH RSRP 값이 임계치 (threshold)를 초과하는 자원들을 선택 윈도우 내에서 제외할 수 있다. 그 후, 선택 윈도우 내의 남은 자원들에 서 사이드링크 자원을 임의하게 선택할 수 있다. 또는, 센싱 윈도우 내에서 주기적인 자원들의 RSSI(Received signal strength indication)를 측정하여 예컨대, 하위 20%에 해당하는 간섭이 적은 자원들을 파악한다. 그리고 상기 주기적인 자원들 중 선택 윈도우에 포함된 자원들 중에서 사이드링크 자원을 임으로 선택할 수도 있다. 예를 들어, PSCCH의 디코딩을 실패한 경우, 이러한 방법을 사용할 수 있다. 도 47은 (부분) 센싱 동작에 따른 V2X 전송 자원 선택(/예약) 방법을 예시한다. 사전에 정의된 조건이 만족되면, V2X 신호 전송을 위한 자원의 선택이 트리거링될 수 있다. 예를 들어, 서브프 레임 #m에서, 상기 전송 자원 선택이 트리거링되었다고 가정해 보자. 이 경우, UE는 서브프레임 #m+T1에서 #m+T2까지의 서브프레임 구간에서, V2X 신호 전송을 위한 자원을 선택할 수 있다. 상기 서브프레임 #m+T1에서 #m+T2까지의 서브프레임 구간을 선택 윈도우(selection window)라고 칭한다. 선택 윈도우는 예를 들어, 연속하 는 100개의 서브프레임들로 구성될 수 있다. UE는 선택 윈도우 내에서, 최소 Y개의 서브프레임들을 후보(candidate) 자원들로 선택할 수 있다. 상기 Y 값은 미리 설정된 값일 수도 있고, 네트워크에 의하여 설정되는 값일 수도 있다. 또는 선택 윈도우 내에서 Y개의 서 브프레임들을 어떻게 선택할 것인지는 UE 구현의 문제일 수도 있다. 상기 Y값이 예컨대, 50이라고 할 때, 선택 윈도우를 구성하는 100개의 서브프레임들 중에서 어떤 50개의 서브프 레임들을 선택할 것인지는 UE가 선택할 수 있다. 예를 들어, UE는 상기 100개의 서브프레임들 중에서 서브프레 임 번호가 홀수인 50개의 서브프레임들을 선택할 수도 있고, 서브프레임 번호가 짝수인 50개의 서브프레임들을선택할 수도 있다. 또는 임의의 규칙에 의하여 50개의 서브프레임들을 선택할 수 있다. 상기 Y개의 서브프레임들 중에서 특정 서브프레임, 예컨대, 서브프레임 #N(SF#N)을 V2X 신호를 전송할 수 있는 V2X 전송 서브프레임으로 선택(/예약)하기 위해서는, UE는 상기 서브프레임 #N에 링크되거나 연관된 적어도 하 나의 서브프레임을 센싱해야 할 수 있다. 센싱을 위하여 정의된 서브프레임 구간을 센싱 윈도우(sensing window)라 칭하며, 예를 들어, 1000개의 서브프 레임들로 구성될 수 있다. 즉, 센싱 윈도우는 1,000 밀리초(ms) 또는 1초로 구성될 수 있다. 예를 들어, UE는 센싱 윈도우 내에서, 서브프레임 #N-100*k (여기서, k는 [1, 10] 범위의 각 요소들의 집합일 수 있으며, 미리 설정되거나 네트워크에 의하여 설정되는 값일 수 있다)에 해당하는 서브프레임들을 센싱할 수 있다. 도 47에서는 k 값이 {1, 3, 5, 7, 10}인 경우를 예시하고 있다. 즉, UE는 서브프레임 #N-1000, #N-700, #N- 500, #N-300, #N-100을 센싱하여, 서브프레임 #N이 다른 V2X UE에 의하여 사용되고 있는지 여부 그리고/혹은 서 브프레임 #N 상에 사전에 설정되거나 시그널링된 임계값 이상의 간섭이 존재하는지 여부 등을 추정/판단하고 그 결과에 따라 서브프레임 #N을 최종적으로 선택할 수 있다. 여기서는 센싱의 기본 단위가 서브프레임인 경우를 예로 하여 설명되었으나, 서브프레임이 슬롯, 미니-슬롯, 혹 은 다수(multiple) 슬롯들로 대체될 수 있다. 반송파 재선택(carrier reselection) V2X 사이드링크 통신을 위한 반송파 재선택은, 설정된 반송파들의 채널 번잡 비율(channel busy ratio, CBR) 및 전송될 V2X 메시지의 PPPP(Prose Per-Packet Priority)에 기반하여 MAC 계층에서 수행될 수 있다. 즉, 반송파 재선택에 관련된 매개 변수로써, CBR 및 PPPP가 고려될 수 있다. CBR은, UE에 의해 측정된 S-RSSI가 기 설정된 임계치를 넘는 것으로 감지된 자원 풀에서 서브 채널 부분(the portion of sub-channels)을 의미할 수 있다. 각 논리 채널과 관련된 PPPP가 존재할 수 있으며, PPPP 값의 설정은 UE 및 BS 모두에 요구되는 레이턴 시를 반영해야 한다. 반송파 재선택 시, 가장 낮은 CBR로부터 증가하는 순서로 후보 반송파들 중 하나 이상의 반송파를 선택할 수 있 다. 사이드링크 혼잡 제어(sidelink congestion control) 사이드링크 통신 무선 환경은 차량의 밀도, 전송 정보량 증가 등에 따라 쉽게 혼잡해질 수 있다. 이 때, 혼잡을 줄이기 위해 여러 가지 방법이 적용 가능하다. 한 가지 예로, 분산형 혼잡 제어가 있다. 분산형 혼잡 제어에서는, UE가 네트워크의 혼잡 상황을 파악하고 전송 제어를 수행하는 것이다. 이 때, 트래픽 (예: 패킷)의 우선 순위를 고려한 혼잡 제어가 필요하다. 구체적으로, 각 UE는 채널 혼잡도(CBR)을 측정하고, CRB에 따라 각 트래픽 우선순위(예: k)가 점유할 수 있는 채널 사용율(CRk)의 최대값(CRlimitk)을 결정한다. 예컨대, UE는 CBR 측정값과 미리 정해진 표를 기반으로 각 트래픽의 우선순위에 대한 채널 사용율의 최대값(CRlimitk)를 도출할 수 있다. 상대적으로 우선 순위가 높은 트 래픽의 경우 더 큰 채널 사용율의 최대값이 도출될 수 있다. 그 후, UE는 트래픽의 우선 순위 k가 i보다 낮은 트래픽들의 채널 사용율의 총합을 일정값 이하로 제한함으로써 혼잡 제어를 수행할 수 있다. 이러한 방법에 의하면, 상대적으로 우선 순위가 낮은 트래픽들에 더 강한 채널 사 용율 제한이 걸리게 된다. 그 이외에, UE는 전송 전력의 크기 조절, 패킷의 드롭(drop), 재전송 여부의 결정, 전송 RB 크기 조절(MCS 조정) 등의 방법을 이용할 수도 있다. NR V2X 3GPP 릴리즈 14 및 15 동안 자동차 산업으로 3GPP 플랫폼을 확장하기 위해, LTE에서 V2V 및 V2X 서비스에 대한 지원이 소개되었다. 개선된(enhanced) V2X 사용 예(use case)에 대한 지원을 위한 요구사항(requirement)들은 크게 4개의 사용 예 그룹들로 정리된다. 차량 플래투닝 (vehicle Platooning)는 차량들이 함께 움직이는 플래툰(platoon)을 동적으로 형성할 수 있 게 한다. 플래툰의 모든 차량은 이 플래툰을 관리하기 위해 선두 차량으로부터 정보를 얻는다. 이러한 정보는 차량이 정상 방향보다 조화롭게 운전되고, 같은 방향으로 가고 함께 운행할 수 있게 한다. 확장된 센서(extended sensor)들은 차량, 도로 사이트 유닛(road site unit), 보행자 장치(pedestrian device) 및 V2X 어플리케이션 서버에서 로컬 센서 또는 동영상 이미지(live video image)를 통해 수집된 원시 (raw) 또는 처리된 데이터를 교환할 수 있게 한다. 차량은 자신의 센서가 감지할 수 있는 것 이상으로 환경에 대한 인식을 높일 수 있으며, 지역 상황을 보다 광범위하고 총체적으로 파악할 수 있다. 높은 데이터 전송 레이 트가 주요 특징 중 하나이다. 진화된 운전(advanced driving)은 반-자동 또는 완전-자동 운전을 가능하게 한다. 각 차량 및/또는 RSU는 로컬 센서에서 얻은 자체 인식 데이터를 근접 차량과 공유하고, 차량이 궤도(trajectory) 또는 기동(manoeuvr e)을 동기화 및 조정할 수 있게 한다. 각 차량은 근접 운전 차량과 운전 의도를 공유한다. 원격 운전(remote driving)은 원격 운전자 또는 V2X 어플리케이션이 스스로 또는 위험한 환경에 있는 원격 차량으로 주행 할 수 없는 승객을 위해 원격 차량을 운전할 수 있게 한다. 변동이 제한적이고, 대중 교통과 같 이 경로를 예측할 수 있는 경우, 클라우드 컴퓨팅을 기반으로 한 운전을 사용할 수 있다. 높은 신뢰성과 낮은 대기 시간이 주요 요구 사항이다. 이하의 설명은 NR SL(sidelink) 또는 LTE SL에 모두 적용 가능하며, RAT(radio access technology)가 표시되지 않으면 NR SL을 의미할 수 있다. NR V2X에서 고려되고 있는 운영 시나리오는 아래와 같이 6가지가 존재할 수 있다. 도 48, 도 49 및 도 50은 V2X SL 통신을 지원하는 독립형(standalone) 시나리오를 나타낸다. 특히, 1) 시나리오 1에서, gNB는 LTE SL 및 NR SL 모두에서 UE의 V2X 통신에 대한 제어(control)/설정 (configuration)을 제공하고, 2) 시나리오 2에서, LTE 시스템의 BS 중 ng-eNB는 LTE SL 및 NR SL 모두에서 UE의 V2X 통신에 대한 제어/설정 을 제공한다. 3) 시나리오 3에서, eNB는 LTE SL 및 NR SL 모두에서 UE의 V2X 통신에 대한 제어/설정을 제공한다. gNB는 NR 시스템의 BS로서, UE에게 NR 사용자/제어 평면 프로토콜을 제공하고 5G 코어 네트워크로 연결된다. ng-eNB는 LTE 시스템의 BS로서, UE에게 LTE 사용자/제어 평면 프로토콜을 제공하고 5G 시스템의 코어 네트워크 로 연결된다. eNB는 LTE 시스템의 BS로서, UE에게 LTE 사용자/제어 평면 프로토콜을 제공하고, LTE 시스템의 코 어 네트워크인 EPC(Evolved Packet Core)로 연결된다. 도 51, 도 52 및 도 53은 V2X SL 통신을 지원하는 MR-DC 시나리오를 나타낸다. 특히, 1) 시나리오 4에서, LTE SL 및 NR SL에서의 UE의 V2X 통신은 UE가 EN-DC(Evolved-Univeral Terrestrial Radio Acess-New Radio Dual Connectivity)를 가지고 설정되는 동안 Uu에 의해 제어(control)/설정(configure)되고, 2) 시나리오 5에서, LTE SL 및 NR SL에서의 UE의 V2X 통신은 UE가 NE-DC(NR - E-UTRA Dual Connectivity)에서 설정되는 동안 Uu에 의해 제어/설정되고, 3) 시나리오 6에서, LTE SL 및 NR SL에서의 UE의 V2X 통신은 UE가 NGEN-DC(NG-RAN - E-UTRA Dual Connectivity)로 설정되는 동안 Uu에 의해 제어/설정된다. EN-DC, NE-DC 및 NGEN-DC는 멀티-RAT 이중 연결성(multi-RAT dual connectivity, MR-DC)의 일종이다. MR-DC는 2개 RAT들이 UE에 동시에 연결성을 지원하는 것을 말한다. MR-DC에서 코어 네트워크로의 제어 평면 연결을 제 공하는 무선 접속 노드(예, BS)를 마스터 노드(master node, MN)이라고 하며, MN은 EN-DC에서 마스터 eNB(master eNB, MeNB), NGEN-DC에서 마스터 gNB(master gNB, MgNB) 또는 NE-DC에서 마스터 gNB일 수 있다. MR-DC에서 2차 노드(secondary node, SN)은, 코어 네트워크로의 제어 평면 연결이 없이, UE에게 추가적인 자원 들을 제공하는 무선 접속 노드이며, SN은 EN-DC에서 en-gNB, NE-DC에서 ng-eNB, 또는 NGEN-DC에서 2차 gNB(secondary gNB, SgNB)일 수 있다. EN-DC에서 UE는 MN으로 역할하는 하나의 eNB 및 SN으로 역할하는 하나의 en-gNB에 연결되고 상기 eNB는 EPC 및 상기 en-Gnb에 연결된다. EN-DC에서 상기 en-gNB는 EPC와 다른 en-gNB들 에 연결될 수 있다. NE-DC에서 UE는 MN으로 역할하는 하나의 ng-eNB 및 SN으로 역할하는 하나의 gNB에연결되며, 상기 ng-eNB는 5G 코어 네트워크인 5GC에 연결되고 상기 gNB는 eNB와 gNB 간 인터페이스인 Xn 인터페 이스를 통해 상기 ng-eNB에 연결된다. NGEN-DC에서 UE는 MN으로 역할하는 하나의 ng-eNB 및 SN으로 역할하는 하 나의 gNB와 연결되며, 상기 ng-eNB는 5G 코어 네트워크인 5GC에 연결되고 Xn 인터페이스를 통해 상기 ng-eNB에 연결된다. SL 브로드캐스트, 그룹 캐스트 및 유니캐스트 전송은 in-coverage, out-of-coverage 및 partial-coverage 시나 리오에서 지원된다. PC5 인터페이스의 제어 평면에 대한 NAS 아래의 프로토콜 스택인 AS 프로토콜 스택(protocol stack)은 적어도 RRC, PDCP, RLC 및 MAC 하위 계층과 물리 계층으로 구성된다. 물리 계층 구조(physical layer structure) 물리 SL 제어 채널 (PSCCH), 물리 SL 공유 채널 (PSSCH), 물리 SL 피드백 채널 (PSFCH) 등에 대한 물리 계층 구조 및 프로세싱에 대해 살펴본다. 물리 계층 프로세싱 관련 보다 구체적인 설명은 앞서 살핀 내용을 참고한다. 파형(waveform) 단일의 파형이 반송파(carrier)의 모든 SL 채널들을 위해 사용된다. CP-OFDM이 지원될 수 있다. DFT-S-OFDM이 지원될 수 있으나, SL 동기화(synchronization), PSCCH 및 PSFCH의 커버리지 개선이 고려될 수 있다. 만약 다 수의 파형들이 지원되는 경우, (사전-)설정에 따라 어느 파형을 사용할지 결정될 수 있다. 부반송파 간격(subcarrier spacing) 및 사이클릭 프리픽스(cyclic prefix) 주파수 범위 1(freqnecy range 1, FR1)에서 15kHz, 30kHz 및 60kHz 부반송파 간격은 일반 CP 및 확장 CP가 있 는 60kHz 부반송파 간격에서 지원된다. 주파수 범위(frequency range, FR2)에서, 60kHz 및 120 kHz 부반송파 간격이 지원된다. 주어진 반송파에서, UE는 부반송파 간격 및 CP의 둘 이상의 조합으로 동시에 SL 전송을 수신 할 필요가 없으며, 부반송파 간격 및 CP의 둘 이상의 조합으로 동시에 SL 전송을 전송할 필요가 없다. 뉴머롤 로지(numerology) 설정은 SL BWP 설정의 일부이다. SL 대역폭 파트(bandwidth part, BWP) 및 자원 풀(resource pool) BWP는 SL에 대해 정의되고, 동일한 SL BWP는 전송 및 수신을 위해 사용된다. 면허 반송파(licensed carrier)에 서, SL BWP는 Uu BWP와 별도로 정의된다. 하나의 SL BWP는 하나의 반송파에서 RRC IDLE 및 out-of-coverage NR V2X UE에 대해 (사전) 설정된다. RRC_CONNECTED 모드의 UE들에 대해, 하나의 SL BWP가 반송파에서 활성화된다. 자원 풀은 SL 전송 및/또는 수신에 사용될 수 있는 시간-주파수 자원들의 세트이다. UE 관점에서 보면, 자원 풀 은 SL BWP 내에서 UE의 대역폭 내에 있고, 단일의 뉴머롤로지를 갖는다. 다수의 자원 풀들은 하나의 반송파에서 UE로 (사전) 설정될 수 있다. HARQ 피드백 SL 유니캐스트 및 그룹캐스트의 경우, 물리 계층에서의 HARQ 피드백 및 HARQ 결합이 지원된다. PSSCH에 대한 HARQ-ACK 피드백은 PSFCH를 통해 SL 피드백 제어 정보(sidelink feedback control information, SFCI) 포맷으 로 운반된다. SL HARQ 피드백이 유니캐스트에 대해 가능화(enable)될 때, 비-CBG(code block group) 동작의 경우, 수신 UE는 해당 수송 블록(transport block, TB)를 성공적으로 디코딩하면, HARQ-ACK를 생성한다. 수신 UE를 타겟으로 하 는 관련 PSCCH를 디코딩 한 후에, 해당 TB를 성공적으로 디코딩하지 않으면 HARQ-NACK을 생성한다. 그룹캐스트를 위해 SL HARQ 피드백이 가능할 때, CGB별 피드백이 아닌 TB별 피드백 동작의 경우, 아래 두 가지 가 가능할 수 있다. (옵션 1): 수신 UE는 연관된 PSCCH를 디코딩한 후에 대응하는 TB를 디코딩하지 못하면 PSFCH에 HARQ-NACK를 전 송한다. 그렇지 않으면 PSFCH에 신호를 전송하지 않는다. (옵션 2): 수신 UE는 해당 TB를 성공적으로 디코딩하면, PSFCH에서 HARQ-ACK를 전송한다. 수신 UE를 타겟으로 하는 관련 PSCCH를 디코딩한 후에 해당 TB를 성공적으로 디코딩하지 않으면 PSFCH에 HARQ-NACK을 전송한다. CSI 획득 및 링크 적응 NR V2X에서, 이용 가능할 때, 전송 UE와 수신 UE 사이의 채널을 나타내는 정보와 수신 UE에서의 간섭을 나타내 는 정보의 유용성이 고려된다. 이 정보의 일례는, CQI, PMI, RI, RSRP, RSRQ, 경로 이득/경로 손실, SRI(SRS Resource Indicator), CRI(CSI-RS Resource Indicator), 간섭 조건, 차량 동작 등일 수 있다. 동기화 V2X SL 동기화는 다음 사항들을 포함한다. - SL 동기 신호: SL 1차 동기 신호 (S-PSS), SL 2차 동기 신호 (S-SSS) - 물리 SL 브로드캐스트 채널 (PSBCH) - SL 동기화 소스들 및 과정 참조 신호(reference signal) 및 PSCCH/PSSCH와 같은 SL 동기화를 위한 다른 SL 신호 및 채널의 사용도 고려된 다. S-PSS, S-SSS 및 PSBCH는 주기적 전송을 지원하는 블록 포맷 (S-SSB)으로 구성된다. S-SSB는 반송파 내의 PSCCH/PSSCH와 동일한 뉴머롤로지(예, 부반송파 간격 및 CP 길이)을 가지며, 그 전송 대역폭은 (미리 설정된) SL BWP 내에 있다. SL 동기화 소스는 GNSS, BS, NR UE일 수 있다. 자원 할당(resource allocation) NR V2X는 적어도 다음 두 가지 SL 자원 할당 모드(resource allocation mode)를 정의할 수 있다. (모드 1): BS는 SL 전송을 위해 UE에 의해 사용될 SL 자원(들)을 스케줄링한다. NR Uu는 (i) NR Uu와 NR SL 간에 공유되는 면허 반송파(licensed carrier) 및 (ii) NR SL 전용 반송파 (dedicated carrier)의 경우에 대해 NR SL 자원들을 할당할 수 있으며, 다음 동작들을 지원한다. - 동적 자원 할당 - 설정된 그랜트(configured grant) (모드 2): UE는 BS / 네트워크 또는 사전 설정된 SL 자원에 의해 설정된 SL 자원 내의 SL 전송 자원을 결정, 즉 BS는 스케줄링하지 않는다. SL 자원 할당 모드 2의 정의는 다음과 같다. a) UE는 자율적으로(autonomously) 전송할 SL 자원을 선택한다. b) UE는 다른 UE(들)에 대한 SL 자원 선택을 돕는다. c) UE는 SL 전송을 위해 NR 설정된 그랜트(UL 설정된 그랜트 타입 1과 유사)로 설정된다 d) UE는 다른 UE들의 SL 전송을 스케줄링한다 센싱(sensing) 및 자원 선택 센싱 과정은 다른 UE들 및/또는 SL 측정들로부터 SCI(s)를 디코딩하는 것으로 정의된다. 고려되는 자원(재선택) 과정은 감지 과정의 결과를 사용하여 SL 전송을 위한 자원을 결정한다. 모드 2(a) 다른 수송 블록(transport block, TB)들의 다수의 전송들을 위해 자원이 선택되는 반-지속적(semi-persistent) 설정과 자원이 각 TB 전송에 대해 선택되는 동적 설정의 상황에서 모드 2 (a)에 대한 SL 감지 및 자원 선택 과 정이 고려될 수 있다. 다음 과정들이 점유된 SL 자원을 식별하기 위해 이용될 수 있다. - SL 제어 채널 전송의 디코딩 - SL 측정(measurement) - SL 전송 검출(detection) 그리고, SL 자원 선택을 위해 사항들이 고려될 수 있다. - UE가 PSCCH 및 PSSCH 전송 (및 다른 SL 물리 채널/정의된 신호)를 위한 자원을 선택하는 방법 - 자원 선택 과정에 대해 UE가 어떤 정보를 사용하는지 모드 2(b) 모드 2 (b)는 모드 2(a), 2(c), 2(d) 동작의 일부가 될 수 있는 기능이다. 모드 2(c) Out-of-coverage 동작을 위해, 모드 2(c)는 각 SL 자원 풀에 정의된 단일 또는 다중 SL 전송 패턴의 (사전) 설 정을 가정한다. In-coverage 동작을 위해, 모드 2(c)는 BS 설정이 각 SL 자원 풀에 정의된 단일 또는 다중 SL 전송 패턴을 나타내는 것으로 가정한다. 전송 UE에 대해 하나의 패턴이 설정되면, UE가 감지 과정을 수행하지 않고 다수의 패턴들을 설정하면 감지 과정이 발생할 수 있다. '패턴'은 시간과 빈도에서 자원의 크기와 위치, 그리고 자원의 수에 의해 정의된다. 모드 2(d) In-coverage 및 out-of-coverage 시나리오들에 대한 스케줄링 UE로 되거나 또는 그 역할을 하는 과정은 다음과 같이 고려될 수 있다: - 스케줄링 UE는 BS에 의해 설정된다. - 어플리케이션 계층 또는 사전-설정(pre-configuration)이 스케줄링 UE를 선택한다. - 수신 UE는 세션 동안 전송 UE의 전송을 스케줄링한다 - 스케줄링 UE는 최종적으로 선택된 UE를 포함하여 다수의 UE들에 의해 결정된다. UE는 스케줄링 UE/스케줄링 UE 기능들로서 기능하도록 자율적으로 결정할 수 있다. 이하, 전술한 도 1의 무선 통신 시스템 블록 구성도를 구체적으로 설명한다. N. 무선 통신 장치 도 1을 참조하면, 무선 통신 시스템은 제 1 통신 장치 및/또는 제 2 통신 장치을 포함한다. 'A 및/또 는 B'는 'A 또는 B 중 적어도 하나를 포함한다'와 동일한 의미로 해석될 수 있다. 제 1 통신 장치가 BS를 나타 내고, 제 2 통신 장치가 UE를 나타낼 수 있다(또는 제 1 통신 장치가 UE를 나타내고, 제 2 통신 장치가 BS를 나 타낼 수 있다). 제 1 통신 장치와 제 2 통신 장치는 프로세서(processor, 911,921), 메모리(memory, 914,924), 하나 이상의 Tx/Rx RF 모듈(radio frequency module, 915,925), Tx 프로세서(912,922), Rx 프로세서(913,923), 안테나 (916,926)를 포함한다. Tx/Rx 모듈은 트랜시버라고도 한다. 프로세서는 앞서 살핀 기능, 과정 및/또는 방법을 구현한다. 보다 구체적으로, DL(제 1 통신 장치에서 제 2 통신 장치로의 통신)에서, 코어 네트워크로부터의 상 위 계층 패킷은 프로세서에 제공된다. 프로세서는 레이어 2(즉, L2) 계층의 기능을 구현한다. DL에서, 프 로세서는 논리 채널과 전송 채널 간의 다중화(multiplexing), 무선 자원 할당을 제 2 통신 장치에 제공하 며, 제 2 통신 장치로의 시그널링을 담당한다. 전송(TX) 프로세서는 L1 계층(즉, 물리 계층)에 대한 다양 한 신호 처리 기능을 구현한다. 상기 신호 처리 기능은 제 2 통신 장치에서 FEC(forward error correction)을 용이하게 하고, 코딩 및 인터리빙(coding and interleaving)을 포함한다. 인코딩 및 인터리밍을 거친 신호는 스 크램블링(scrambling) 및 변조(modulation)을 거쳐 복소 값(complex valued) 변조 심볼들로 변조된다. 변조에 는 채널에 따라 BPSK(Binary Phase Shift Keying), QPSK(Quadrature Phase Shift Keying), 16QAM(quadrature amplitude modulation), 64QAM, 246QAM 등이 사용될 수 있다. 복소 값 변조 심볼들(이하, 변조 심볼들)은 병렬 스트림으로 분할되고, 각각의 스트림은 OFDM 부반송파에 매핑되고, 시간 및/또는 주파수 도메인에서 참조 신호 (Reference Signal, RS)와 다중화(multiplexing)되며, IFFT (Inverse Fast Fourier Transform)를 사용하여 함 께 결합되어 시간 도메인 OFDM 심볼 스트림을 운반하는 물리적 채널을 생성한다. OFDM 심볼 스트림은 다중 공간 스트림을 생성하기 위해 공간적으로 프리코딩된다. 각각의 공간 스트림은 개별 Tx/Rx 모듈(또는 트랜시버,915) 를 통해 상이한 안테나에 제공될 수 있다. 각각의 Tx/Rx 모듈은 전송을 위해 각각의 공간 스트림을 RF 반 송파로 주파수 상향변환(upconvert)할 수 있다. 제 2 통신 장치에서, 각각의 Tx/Rx 모듈(또는 트랜시버,925)는각 Tx/Rx 모듈의 각 안테나을 통해 RF 반송파의 신호를 수신한다. 각각의 Tx/Rx 모듈은 상기 RF 반송파의 신호를 기저대역(baseband) 신호로 복원하여, 수신(RX) 프로세서에 제공한다. RX 프로세서는 L1(즉, 물리 계층)의 다양한 신호 프로세싱 기능을 구현한다. RX 프로세서는 제 2 통신 장치로 향하는 임의의 공간 스트림을 복구하기 위해 정보에 공간 프로세싱을 수행할 수 있다. 만약 다수의 공간 스트림들이 제 2 통신 장치로 향하는 경우, 다수의 RX 프로세서들에 의해 단일 OFDMA 심볼 스트림으로 결합될 수 있다. RX 프로세서는 고속 푸리에 변환 (FFT)을 사용하여 시간 도메인 신호인 OFDM 심볼 스트림을 주파수 도메인 신호로 변환한다. 주파수 도메 인 신호는 OFDM 신호의 각각의 부반송파에 대한 개별적인 OFDM 심볼 스트림을 포함한다. 각각의 부반송파 상의 변조 심볼들 및 참조 신호는 제 1 통신 장치에 의해 전송된 가장 가능성 있는 신호 성상(constellation) 포인트 들을 결정함으로써 복원되고 복조된다. 이러한 연 판정(soft decision)들은 채널 추정 값들에 기초할 수 있다. 연판정들은 물리 채널 상에서 제 1 통신 장치에 의해 원래 전송된 데이터 및 제어 신호를 복원하기 위해 디코딩 및 디인터리빙되다. 해당 데이터 및 제어 신호는 프로세서에 제공된다. UL(제 2 통신 장치에서 제 1 통신 장치로의 통신)은 제 2 통신 장치에서 수신기 기능과 관련하여 기술된 것과 유사한 방식으로 제 1 통신 장치에서 처리된다. 각각의 Tx/Rx 모듈는 각각의 안테나을 통 해 신호를 수신한다. 각각의 Tx/Rx 모듈은 RF 반송파 및 정보를 RX 프로세서에 제공한다. 프로세서 는 프로그램 코드 및 데이터를 저장하는 메모리 와 관련될 수 있다. 메모리는 컴퓨터 판독 가능 매체로서 지칭될 수 있다. 앞서 살핀 5G 통신 기술은 도 54 내지 도 77에서 후술할 본 명세서에서 제안하는 방법들과 결합되어 적용될 수 있으며, 또는 본 명세서에서 제안하는 방법들의 기술적 특징을 구체화하거나 명확하게 하는데 보충될 수 있다. 본 발명의 차량은 동력원으로서 엔진을 구비하는 내연기관 차량, 동력원으로서 엔진과 전기 모터를 구비하는 하 이브리드 차량, 동력원으로서 전기 모터를 구비하는 전기 차량 등으로 구현될 수 있다. 이하의 실시 예에서, 사용자는 운전자 또는, 차량 및 사용자 단말기의 소유자로 해석될 수 있다. 사용자 단말 기는 사용자가 휴대 가능하고 전화 통화와 다양한 어플리케이션(application)을 실행할 수 있는 이동 단말기 예 를 들어, 스마트 폰일 수 있으나 이에 한정되지 않는다. 예를 들어, 사용자 단말기는 이동 단말기, PC(Personal computer), 노트북 컴퓨터, 차량의 사용자 인터페이스 장치 중 하나 이상을 포함할 수 있다. 차량 의 사용자 인터페이스 장치는 IVI(In-Vehicle Infotainment) 시스템일 수 있다. 사용자 단말기, 차량 및 서버 중 하나 이상이 인공 지능, 로봇, 증강 현실(Augmented Reality, AR), 가상 현실 (virtual reality, VR)과 연계될 수 있다. 이하, 첨부된 도면을 참조하여 본 명세서의 다양한 실시 예들을 상세히 설명한다. 도 54 내지 도 60을 참조하면, 전장(overall length)은 차량의 앞부분에서 뒷부분까지의 길이, 전폭 (width)은 차량의 너비, 전고(height)는 바퀴 하부에서 루프까지의 길이를 의미한다. 도 54에서, 전장 방 향(L)은 차량의 전장 측정의 기준이 되는 방향, 전폭 방향(W)은 차량의 전폭 측정의 기준이 되는 방 향, 전고 방향(H)은 차량의 전고 측정의 기준이 되는 방향을 의미할 수 있다. 도 54 내지 도 59에서 차량 이 세단 형태로 예시되었으나 이에 한정되지 않는다. 차량은 외부 디바이스에 의하여 원격 제어될 수 있다. 외부 디바이스는 서버, 타 차량 등일 수 있다. 서버는 차량이 원격 제어가 필요하다고 판단되는 경우, 차량에 대한 원격 제어를 수행할 수 있다. 본 발명은 차량과 관련된 다양한 서비스(이하, \"차량 서비스\"라 함)를 제공하는 서비스 구역(service zone)을 주차장 근처에 배치하여 주차와 차량 서비스를 연계한다. 차량 서비스는 차량과 관련된 서비스 예를 들면, 주유, 차량 점검, 세차 서비스 등을 포함할 수 있다. 서버는 도 61 및 도 62에 도시된 바와 같이 픽업 구역(pick up zone)과 주차장(parking lot) 사이에 배치된 서 비스 구역에서 차량 서비스에 대하여 등록(예약), 변경, 실시간 관리 등을 처리할 수 있다. 서버는 사용자가 선택한 차량 서비스를 제공 받는 경로(route)를 설정하고 예상 시간 등을 분석할 수 있다. 예상 시간은 차량 서비스 항목들 각각에 대한 예상 서비스 대기 시간, 예상 서비스 시간과 사용자에 의해 선택 된 모든 차량 서비스들을 합한 총 예상 소요 시간, 및 예상 종료 시간 등을 포함할 수 있다. 서버는 픽업 구역 과 주차장 사이에서 설정된 경로를 따라 차량이 자율 주행하도록 차량을 원격 제어할 수 있다. 차량은 일반 주행 모드에서 운전자 또는 운전자 개입 없이 자율 주행으로 목적지까지 운행될 수 있다. 일 반 주행 모드는 차량을 제어하는 주체에 따라 매뉴얼 모드, 자율 주행 모드, 또는 원격 제어 모드로 나뉜다. 매뉴얼 모드는 운전자의 조작으로 차량이 수행된다. 자율 주행 모드에서 제어부나 운행 시스템 은 운전자 개입 없이 차량을 직접 제어하여 차량을 운전자가 설정한 목적지로 차량을 운행한다. 자 율 주행 모드는 주차장에서 빈 공간을 찾아 차량을 주차시키는 자율 주차를 포함한다. 원격 제어 모드는 운전 자 개입 없이 외부 디바이스가 차량을 제어할 수 있다. 사용자는 사용자 인터페이스 장치를 통해 자율 주행 모드, 매뉴얼 모드, 및 원격 제어 모드 중 하나를 선 택할 수 있다. 차량은 운전자 상태 정보, 차량 주행 정보, 및 차량 상태 정보 중 적어도 하나에 기초하여, 자율 주행 모 드, 매뉴얼 모드, 및 원격 제어 모드 중 하나로 자동 전환될 수 있다. 운전자 상태 정보는 사용자 인터페이스 장치를 통하여 생성되어 제어부에 제공될 수 있다. 운전자 상태 정보는 내부 카메라나 생체 감지부를 통하여 감지되는 운전자에 대한 영상이나 생체 정보에 기 초하여 생성될 수 있다. 예를 들어, 운전자 상태 정보는 내부 카메라를 통하여 획득된 이미지로부터 얻어 진 운전자의 시선, 얼굴 표정, 행동, 운전자 위치 정보 등을 포함할 수 있다. 운전자 상태 정보는 생체 감지부 를 통하여 획득되는 사용자의 생체 정보를 포함할 수 있다. 운전자 상태 정보는 운전자의 시선이 향하는 방향, 운전자의 졸음 여부, 운전자의 건강 상태, 및 운전자의 감정 상태 등을 나타낼 수 있다. 차량 주행 정보는 오브젝트 검출 장치에서 제공되는 객체(object) 정보나 통신 장치를 통하여 수신되 는 정보에 기초하여 생성될 수 있다. 차량 주행 정보는 차량의 위치 정보, 차량의 자세 정보, 타차 량(OB11)으로부터 수신하는 타차량(OB11)에 대한 정보, 차량의 주행 경로에 대한 정보나 지도 정보(map)를 포함하는 내비게이션 정보 등을 포함할 수 있다. 차량 주행 정보는 차량의 주변에 존재하는 객체의 종류, 위치, 및 움직임, 차량의 주변에서 감지되는 차선 유무 등을 포함할 수 있다. 또한, 차량 주행 정보는 타차량의 주행 정보, 차량의 주변에 정차 가능 공간, 차량과 객체가 충돌할 가능성, 차량의 주변에서 감지되는 보행자나 자전거 정보, 도로 정보, 차량 주변의 신호 상태, 차량의 움직임 등을 나타낼 수 있다. 차량 주행 정보는 오브젝트 검출 장치, 통신 장치, 내비게이션 시스템, 센싱부, 및 인터페 이스부 중 적어도 하나 이상의 연계를 통해 생성되어, 제어부에 제공될 수 있다. 차량 상태 정보는 차량에 구비된 여러 장치들의 상태에 관련된 정보일 수 있다. 예를 들어, 차량 상태 정 보는 배터리의 충전 상태, 사용자 인터페이스 장치, 오브젝트 검출 장치, 통신 장치, 운전 조작 장치, 차량 구동 장치, 운행 시스템의 동작 상태에 대한 정보와 각 장치의 이상 여부에 대한 정 보를 포함할 수 있다. 차량 상태 정보는 차량의 GPS 신호가 정상적으로 수신되는지, 차량에 구비된 적어도 하나의 센서에 이상이 발생하는지, 차량에 구비된 각 장치들이 정상적으로 동작하는지를 나타낼 수 있다. 오브젝트 검출 장치에서 생성되는 객체 정보에 기초하여, 차량의 제어 모드가 매뉴얼 모드에서 자율 주행 모드로 전환되거나, 자율 주행 모드에서 매뉴얼 모드로 전환될 수 있다. 통신 장치를 통해 수신되는 정보에 기초하여 차량의 제어 모드가 매뉴얼 모드에서 자율 주행 모드로 전환되거나, 자율 주행 모드에서 매뉴얼 모드로 전환될 수 있다. 외부 디바이스에서 제공되는 정보, 데이터, 신호에 기초하여 차량의 제어 모드가 매뉴얼 모드에서 자율 주 행 모드로 전환되거나, 자율 주행 모드에서 매뉴얼 모드로 전환될 수 있다. 차량이 자율 주행 모드로 운행되는 경우, 차량은 운행 시스템의 제어 하에 주행될 수 있다. 자 율 주행 모드에서 차량은 주행 시스템, 출차 시스템, 주차 시스템에서 생성되는 정보에 기 초하여 운행될 수 있다. 차량이 매뉴얼 모드로 운행되는 경우, 차량은 운전 조작 장치를 통하여 입력되는 사용자 입력에 따라 주행될 수 있다. 차량이 원격 제어 모드로 운행되는 경우, 차량은 통신 장치를 통하여 외부 디바이스가 송신하는 원격 제어 신호를 수신할 수 있다. 차량은 원격 제어 신호에 응답하여 제어될 수 있다. 도 60을 참조하면, 차량은 사용자 인터페이스 장치, 오브젝트 검출 장치, 통신 장치, 운전 조작 장치, 차량 구동 장치, 운행 시스템, 내비게이션 시스템, 센싱부, 인터페이스부 , 메모리, 제어부 및 전원 공급부를 포함할 수 있다. 도 60에 도시된 구성 요소 외에 다른 구성 요소를 더 포함하거나, 일부 구성 요소가 생략될 수 있다. 사용자 인터페이스 장치는 차량과 사용자와의 소통을 위한 장치이다. 사용자 인터페이스 장치는 사용자 입력을 수신하고, 사용자에게 차량에서 생성된 정보를 제공할 수 있다. 차량은 사용자 인터 페이스 장치를 통해 UI(User Interfaces) 또는 UX(User Experience)를 구현할 수 있다. 사용자 인터페이스 장치는 입력부, 내부 카메라, 생체 감지부, 출력부 및 프로세서 를 포함할 수 있다. 입력부는 사용자 데이터 또는 명령을 입력 받는다. 입력부에서 수집한 데이터는 프로세서에 의 해 분석되어, 사용자의 제어 명령으로 처리될 수 있다. 입력부는 차량 내부에 배치될 수 있다. 입력부는 스티어링 휠(steering wheel)의 일 영역, 인스투루 먼트 패널(instrument panel)의 일 영역, 시트(seat)의 일 영역, 각 필러(pillar)의 일 영역, 도어(door)의 일 영역, 센타 콘솔(center console)의 일 영역, 헤드 라이닝(head lining)의 일 영역, 썬바이저(sun visor)의 일 영역, 윈드 쉴드(windshield)의 일 영역 또는 윈도우(window)의 일 영역 등에 배치될 수 있다. 입력부는 음성 입력부, 제스쳐 입력부, 터치 입력부 및 기계식 입력부를 포함할 수 있다. 음성 입력부는 사용자의 음성 입력을 전기적 신호로 전환할 수 있다. 전환된 전기적 신호는, 프로세서 또는 제어부에 제공될 수 있다. 음성 입력부는 하나 이상의 마이크로 폰을 포함할 수 있다. 제스쳐 입력부는 사용자의 제스쳐 입력을 전기적 신호로 전환하여 프로세서 또는 제어부에 제공 할 수 있다. 제스쳐 입력부는 사용자의 제스쳐 입력을 감지하기 위한 적외선 센서 및 이미지 센서 중 적 어도 어느 하나를 포함할 수 있다. 제스쳐 입력부는, 사용자의 3차원 제스쳐 입력을 감지할 수 있다. 이를 위해, 제스쳐 입력부는, 복 수의 적외선 광을 출력하는 광출력부 또는 복수의 이미지 센서를 포함할 수 있다. 제스쳐 입력부는, TOF(Time of Flight) 방식, 구조광(Structured light) 방식 또는 디스패러티 (Disparity) 방식을 통해 사용자의 3차원 제스쳐 입력을 감지할 수 있다. 터치 입력부는 사용자의 터치 입력을 전기적 신호로 전환하여 프로세서 또는 제어부에 제공할 수 있다. 터치 입력부는 사용자의 터치 입력을 감지하기 위한 터치 센서를 포함할 수 있다. 터치 입력부 는 디스플레이와 일체형으로 형성되어 터치 스크린을 구현할 수 있다. 터치 스크린은 차량과 사용자 사이의 입력 인터페이스 및 출력 인터페이스를 함께 제공할 수 있다. 기계식 입력부는 버튼, 돔 스위치(dome switch), 조그 휠 및 조그 스위치 중 적어도 어느 하나를 포함할 수 있다. 기계식 입력부의 출력 신호는 프로세서 또는 제어부에 제공될 수 있다. 기계식 입력 부는 스티어링 휠(steering wheel), 센터 페시아(center fascia), 센터 콘솔(center console), 칵핏 모듈 (Cockpit module), 도어(door) 등에 배치될 수 있다. 탑승자 감지부는 차량 내부의 탑승자 또는 사물을 감지할 수 있다. 탑승자 감지부는 내부 카메 라 및 생체 감지부를 포함할 수 있다. 내부 카메라는 차량 내부 공간을 촬영한다. 프로세서는 내부 카메라로부터 수신된 차량 내부 영상을 기초로 사용자 상태를 감지할 수 있다. 프로세서는 차량 내부 영상을 분석하여 운전자의 시선, 얼굴, 행동, 표정, 및 위치 등의 운전자 상태를 판 단하여 운전자 상태 정보를 발생할 수 있다. 프로세서는 차량 내부 영상에서 사용자의 제스쳐(gesture)를 판단할 수 있다. 프로세서는 운전자 상태 정보를 제어부에 제공할 수 있다. 생체 감지부는 사용자의 생체 정보를 획득할 수 있다. 생체 감지부는 사용자의 생체 정보를 획득할 수 있는 센서를 이용하여 사용자의 지문 정보, 심박동 정보, 및 뇌파 정보 등을 획득할 수 있다. 생체 정보는 사용자 인증이나 사용자의 상태 판단을 위해 이용될 수 있다. 프로세서는 운전자의 생체 정보를 바탕으로 운전자의 상태를 판단하여 운전자 상태 정보를 발생할 수 있다. 운전자 상태 정보는 운전자가 기절하는지, 졸고 있는지, 흥분하는지, 위급한 상태인지 등을 나타낼 수 있다. 프로세서는 운전자의 생체 정보로부터 획득한 운전자 상태 정보를 제어부에 제공할 수 있다. 출력부는 시각, 청각 또는 촉각 등과 관련된 출력을 발생한다. 출력부는 디스플레이, 음향 출력 부, 햅틱 출력부 등을 포함할 수 있다. 디스플레이는 다양한 정보를 포함한 영상 신호를 표시한다. 디스플레이는 액정 디스플레이(liquid crystal display, LCD), 박막 트랜지스터 액정 디스플레이(thin film transistor-liquid crystal display, TFT LCD), 유기 발광 다이오드(organic light-emitting diode, OLED), 플렉서블 디스플레이(flexible display), 3 차원 디스플레이(3D display), 전자잉크 디스플레이(e-ink display) 중에서 적어도 하나를 포함할 수 있다. 디스플레이는 터치 입력부와 결합되어 터치 스크린을 구현할 수 있다. 디스플레이는 HUD(Head Up Display)로 구현될 수 있다. HUD는 투사 모듈을 구비하여 윈드 쉴드 또는 윈도우에 투사되는 이미지를 통해 정보를 표시할 수 있다. 디스플레이는 투명 디스플레이를 포함할 수 있다. 투명 디스플레이는 윈드 쉴드 또는 윈도우에 부착될 수 있다. 투명 디스플레이는 소정의 투명도를 가지면서, 소정의 화면을 표시할 수 있다. 투명 디스플레이는, 투 명도를 가지기 위해, 투명 디스플레이는 투명 TFEL(Thin Film Elecroluminescent), 투명 OLED(Organic Light- Emitting Diode), 투명 LCD(Liquid Crystal Display), 투과형 투명디스플레이, 투명 LED(Light Emitting Diode) 디스플레이 중 적어도 하나를 포함할 수 있다. 투명 디스플레이의 투명도는 조절될 수 있다. 디스플레이는 도 56 및 도 57에 도시된 바와 같이 복수의 디스플레이(251a 내지 251g)를 포함할 수 있다. 디스플레이는 스티어링 휠의 일 영역, 인스투루먼트 패널(instrument panel)의 일 영역(251a, 251b, 251e), 시트의 일 영역(251d), 각 필러의 일 영역(251f), 도어의 일 영역(251g), 센타 콘솔의 일 영역, 헤드 라 이닝의 일 영역, 썬바이저의 일 영역에 배치되거나, 윈드 쉴드의 일영역(251c), 윈도우의 일영역(251h)에 구현 될 수 있다. 윈도우에 배치된 디스플레이(251h)는 차량의 전방 윈도우, 후방 윈도우, 측면 윈도우 각각에 배치될 수 있다. 음향 출력부는 프로세서 또는 제어부로부터 제공되는 전기 신호를 오디오 신호로 변환하여 출력 한다. 음향 출력부는 하나 이상의 스피커를 포함할 수 있다. 햅틱 출력부는 촉각 신호를 출력한다. 햅틱 출력부는 촉각 신호에 따라 스티어링 휠, 안전 벨트, 시 트(110FL, 110FR, 110RL, 110RR)를 진동시킨다. 프로세서는 사용자 인터페이스 장치의 구성 요소들 각각의 전반적인 동작을 제어할 수 있다. 사용자 인터페이스 장치에 프로세서가 포함되지 않는 경우, 사용자 인터페이스 장치는 다른 장치의 프 로세서 또는 제어부의 제어 하에 동작될 수 있다. 오브젝트 검출 장치는 차량 외부에 위치하는 객체(object)를 검출한다. 객체는 차량의 운행과 관련된 다양한 물체들일 수 있다. 예를 들어, 객체는 도 58 및 도 59에 도시된 바와 같이 차로(Lane, OB10), 타 차량(OB11), 보행자(OB12), 이륜차(OB13), 교통 신호(OB14, OB15), 빛, 도로, 고정 구조물, 과속 방지턱, 지형 지물, 동물 등을 포함할 수 있다. 차로(OB10)는 주행 차로, 주행 차로의 옆 차로, 반대 방향으로 주행하는 차량의 차로일 수 있다. 차로(OB10)는 차로(Lane)을 형성하는 좌우측 차선(Line)을 포함하는 개념일 수 있다. 타 차량(OB11)은 차량의 주변에서 주행 중인 차량일 수 있다. 타 차량(OB11)은 차량으로부터 소정 거리 이내에 위치하는 차량일 수 있다. 타 차량(OB11)은 차량보다 선행하는 차량이거나, 후행하는 차량일 수 있다. 보행자(OB12)는 차량의 주변에 위치한 사람일 수 있다. 보행자(OB12)는 차량으로부터 소정 거리 이 내에 위치하는 사람일 수 있다. 예를 들면, 보행자(OB12)는 인도 또는 차도상에 위치하는 사람일 수 있다. 이륜차(OB12)는 차량의 주변에 위치하고 2 개의 바퀴를 이용해 움직이는 탈것을 의미할 수 있다. 이륜차 (OB13)는 차량 주변의 인도 또는 차도 상에 위치하는 오토바이 또는 자전거일 수 있다. 교통 신호는 교통 신호등(OB15), 교통 표지판(OB14), 도로면에 그려진 문양 또는 텍스트를 포함할 수 있다. 빛은 타 차량(OB11)에 구비된 램프에서 생성된 빛일 수 있다. 빛은 가로등에서 생성된 조명 빛 또는 태양광일 수 있다. 도로는 도로면, 커브, 오르막, 내리막 등의 경사 등을 포함할 수 있다. 고정 구조물은, 도로 주변에 위치하고, 지면에 고정된 물체일 수 있다. 예를 들면, 구조물은, 가로등, 가로수, 건물, 전봇대, 신호등, 다리, 지형 지물 등를 포함할 수 있다. 지형 지물은 산, 언덕, 등을 포함할 수 있다. 객체는 이동 객체와 고정 객체로 나뉘어질 수 있다. 이동 객체는 타 차량(OB11), 이륜차(OB13), 보행자(OB12) 등일 수 있다. 고정 객체는 교통 신호, 도로, 고정 구조물일 수 있다. 오브젝트 검출 장치는 카메라, 레이다, 라이다, 초음파 센서, 적외선 센서 및 프로세서를 포함할 수 있다. 카메라는 차량의 외부 환경을 촬영하여 차량의 외부 환경을 보여 주는 영상 신호를 출력한다. 카메라는 차량 외부의 적절한 위치에 하나 이상 배치될 수 있다. 카메라는 모노 카메라, 스테 레오 카메라(310a), AVM(Around View Monitoring) 카메라(310b) 또는 360도 카메라일 수 있다. 카메라는 차량 전방의 영상을 획득하기 위해 차량의 실내에서, 프런트 윈드 쉴드에 근접하게 배치될 수 있 다. 카메라는 프런트 범퍼 또는 라디에이터 그릴 주변에 배치될 수 있다. 카메라는 차량 후방의 영 상을 획득하기 위해, 차량의 실내에서, 리어 글라스에 근접하게 배치될 수 있다. 카메라는 리어 범퍼, 트렁크 또는 테일 게이트 주변에 배치될 수 있다. 카메라는 차량 측방의 영상을 획득하기 위해 차량(10 0)의 실내에서 사이드 윈도우 중 적어도 어느 하나에 근접하게 배치될 수 있다. 카메라는 사이드 미러, 휀더(fender) 또는 도어 주변에 배치될 수 있다. 카메라로부터 출력된 영상 신호는 프로세서에 제공 된다. 레이다는 전자파 송신부, 수신부를 포함할 수 있다. 레이다는 펄스 레이다(Pulse Radar) 방식 또는 연속파 레이다(Continuous Wave Radar) 방식으로 구현될 수 있다. 레이다는 연속파 레이다 방식 중에서 신호 파형에 따라 FMCW(Frequency Modulated Continuous Wave)방식 또는 FSK(Frequency Shift Keying) 방식으 로 구현될 수 있다. 레이다는 전자파를 매개로, TOF(Time of Flight) 방식 또는 페이즈 시프트(phase-shift) 방식에 기초하여, 객체를 검출하고, 검출된 객체의 위치, 검출된 객체와의 거리 및 상대 속도를 검출할 수 있다. 레이 다는 차량의 전방, 후방 또는 측방에 위치하는 주변 객체를 감지하기 위해 차량에서 적절한 위 치에 배치될 수 있다. 라이다는 레이저 송신부, 수신부를 포함할 수 있다. 라이다는 TOF(Time of Flight) 방식 또는 페이즈 시프트(phase-shift) 방식으로 구현될 수 있다. 라이다는 구동식 또는 비구동식으로 구현될 수 있다. 구 동식으로 구현되는 경우, 라이다는 모터에 의해 회전되며, 주변 객체를 검출할 수 있다. 비구동식으로 구 현되는 경우, 라이다는 광 스티어링에 의해 차량을 기준으로 소정 범위 내에 위치하는 주변 객체를 검출할 수 있다. 차량은 복수의 비구동식 라이다를 포함할 수 있다. 라이다는 레이저 광 매개로, TOF(Time of Flight) 방식 또는 페이즈 시프트(phase-shift) 방식에 기초하 여, 주변 객체를 검출하고, 검출된 주변 객체의 위치, 검출된 객체와의 거리 및 상대 속도를 검출할 수 있다. 라이다는 차량의 전방, 후방 또는 측방에 위치하는 주변 객체를 감지하기 위해 차량에서 적절한 위치 에 배치될 수 있다. 초음파 센서는 초음파 송신부, 수신부를 포함할 수 있다. 초음파 센서는 객체로부터 반사되어 수시된 초음파로 주변 객체를 검출하고, 검출된 객체의 위치, 검출된 객체와의 거리 및 상대 속도를 검출할 수 있다. 초음파 센서는 차량의 전방, 후방 또는 측방에 위치하는 주변 객체를 감지하기 위해 차량에서 적절한 위치에 배치될 수 있다. 적외선 센서는 적외선 송신부, 수신부를 포함할 수 있다. 적외선 센서는 객체로부터 반사되어 수시 된 적외선을 기초로 주변 객체를 검출하고, 검출된 객체의 위치, 검출된 객체와의 거리 및 상대 속도를 검출할 수 있다. 적외선 센서는 차량의 전방, 후방 또는 측방에 위치하는 주변 객체를 감지하기 위해 차량 에서 적절한 위치에 배치될 수 있다. 프로세서는 오브젝트 검출 장치의 구성 요소 각각의 전반적인 동작을 제어할 수 있다. 프로세서 는 획득된 영상에 기초하여 주변 객체를 검출하고, 트래킹(tracking)할 수 있다. 프로세서는 영상 처리 알고리즘을 이용하여 객체와의 거리 산출, 객체와의 상대 속도 산출, 객체의 종류, 위치, 크기, 형상, 색 상, 이동 경로 판단, 감지되는 문자의 내용 판단 등의 동작을 수행할 수 있다. 프로세서는, 송신된 전자파가 객체에 반사되어 되돌아오는 반사 전자파에 기초하여, 주변 객체를 검출하고, 트래킹할 수 있다. 프로세서는 전자파에 기초하여, 객체와의 거리 산출, 객체와의 상대 속도 산출 등의 동작을 수행할 수 있다. 프로세서는 송신된 레이저 광이 객체에 반사되어 되돌아오는 반사 레이저 광에 기초하여, 주변 객체를 검 출하고, 트래킹할 수 있다. 프로세서는 레이저 광에 기초하여 객체와의 거리 산출, 객체와의 상대 속도 산 출 등의 동작을 수행할 수 있다. 프로세서는 송신된 초음파가 객체에 반사되어 되돌아오는 반사 초음파에 기초하여, 주변 객체를 검출하고, 트래킹할 수 있다. 프로세서는 초음파에 기초하여, 객체와의 거리 산출, 객체와의 상대 속도 산출 등의 동작을 수행할 수 있다. 프로세서는 송신된 적외선 광이 객체에 반사되어 되돌아오는 반사 적외선 광에 기초하여, 주변 객체를 검 출하고, 트래킹할 수 있다. 프로세서는 적외선 광에 기초하여 객체와의 거리 산출, 객체와의 상대 속도 산출 등의 동작을 수행할 수 있다. 프로세서는 카메라를 통하여 획득된 영상, 레이다를 통하여 수신된 반사 전자파, 라이다를 통하여 수신된 반사 레이저 광, 초음파 센서를 통하여 수신된 반사 초음파, 및 적외선 센서를 통하여 수신된 반사 적외선 광 중 적어도 하나에 기초하여, 주변 객체를 판단하여 객체 정보를 발생할 수 있다. 프로세 서는 객체 정보를 제어부에 제공할 수 있다. 객체 정보는 차량의 주변에 존재하는 객체의 종류, 위치, 크기, 형상, 색상, 이동 경로, 속도, 감지되는 문자를 나타낸다. 객체 정보는 차량 주변에 차선이 존재하는지, 차량은 정차 중인데 차량 주변 의 타 차량이 주행하는지, 차량 주변에 정차할 수 있는 구역이 있는지, 차량과 오브젝트가 충돌할 가능성, 차량 주변에 보행자나 자전거가 어떻게 분포되어 있는지, 차량이 주행하는 도로의 종류, 차량 주변 신호등의 상태, 차량의 움직임 등을 나타낼 수 있다. 오브젝트 검출 장치는 복수의 프로세서를 포함하거나, 프로세서를 포함하지 않을 수도 있다. 카메라, 레이다, 라이다, 초음파 센서 및 적외선 센서 각각은 개별적으로 프로세서를 포함할 수 있다. 오브젝트 검출 장치는 차량내 장치의 프로세서 또는 제어부의 제어에 따라, 동작될 수 있다. 통신 장치는 통신 링크를 통해 외부 디바이스에 연결되어 외부 디바이스와 양방향 통신을 수행한다. 외부 디바이스는 도 61에서 사용자 단말기와 관리 서버일 수 있다. 통신 장치는 통신을 수행하기 위해 송신 안테나, 수신 안테나, 각종 통신 프로토콜이 구현 가능한 RF(Radio Frequency) 회로 및 RF 소자 중 적어도 어느 하나를 포함할 수 있다. 통신 장치는 근거리 통신부, 위치 정보부, V2X 통신부, 광통신부, 방송 송수신부 및 프로세서를 포함할 수 있다. 근거리 통신부는 근거리 통신(Short range communication)을 위한 유닛이다. 근거리 통신부는, 블루 투스(Bluetooth™), RFID(Radio Frequency Identification), 적외선 통신(Infrared Data Association; IrDA), UWB(Ultra Wideband), ZigBee, NFC(Near Field Communication), Wi-Fi(Wireless-Fidelity), Wi-Fi Direct, Wireless USB(Wireless Universal Serial Bus) 기술 중 적어도 하나를 이용하여, 근거리 통신을 지원할 수 있 다. 근거리 통신부는 근거리 무선 통신망(Wireless Area Networks)을 형성하여, 차량과 적어도 하나의 외 부 디바이스 사이의 근거리 통신을 수행할 수 있다. 위치 정보부는, 차량의 위치 정보를 획득한다. 위치 정보부는 GPS(Global Positioning System) 모듈 또는 DGPS(Differential Global Positioning System) 모듈을 포함할 수 있다. V2X 통신부는 서버(V2I : Vehicle to Infra), 타 차량과의 통신(V2V : Vehicle to Vehicle) 또는 보행자 와의 통신(V2P : Vehicle to Pedestrian)을 수행한다. V2X 통신부는 인프라와의 통신(V2I), 차량간 통신 (V2V), 보행자와의 통신(V2P) 프로토콜이 구현 가능한 회로를 포함할 수 있다. 광통신부는 광을 매개로 외부 디바이스와 통신을 수행한다. 광통신부는 전기 신호를 광 신호로 전환 하여 외부에 발신하는 광발신부 및 수신된 광 신호를 전기 신호로 전환하는 광수신부를 포함할 수 있다. 광발 신부는 차량에 포함된 램프와 일체화될 수 있다. 방송 송수신부는 방송 채널을 통해 외부의 방송 관리 서버로부터 방송 신호를 수신하거나, 방송 관리 서버 에 방송 신호를 송출한다. 방송 채널은 위성 채널, 지상파 채널을 포함할 수 있다. 방송 신호는 TV 방송 신호, 라디오 방송 신호, 데이터 방송 신호를 포함할 수 있다. 프로세서는 통신 장치의 각 구성 요소들의 전반적인 동작을 제어할 수 있다. 프로세서는 근거 리 통신부, 위치 정보부, V2X 통신부, 광통신부, 및 방송 송수신부 중 적어도 하나를 통하여 수신되는 정보에 기초하여, 차량 주행 정보를 생성할 수 있다. 프로세서는 타차량으로부터 수신되 는 타 차량의 위치, 차종, 주행 경로, 속도, 각종 센싱 값 등에 대한 정보에 기초하여, 차량 주행 정보를 생성 할 수 있다. 타 차량의 각종 센싱 값에 대한 정보가 수신되는 경우, 차량에 별도의 센서가 없더라도, 프로 세서는 차량의 주변 객체에 대한 정보를 얻을 수 있다. 통신 장치에 프로세서가 포함되지 않는 경우, 통신 장치는 차량내 다른 장치의 프로세서 또는 제어부의 제어에 따라 동작될 수 있다. 통신 장치는 사용자 인터페이스 장치와 함께 차량용 디스플레이 장치를 구현할 수 있다. 이 경우, 차 량용 디스플레이 장치는 텔레 매틱스(telematics) 장치 또는 AVN(Audio Video Navigation) 장치로 명명될 수 있다. 제어부는 통신 장치로부터 수신된 신호를 바탕으로 운전자 상태 정보, 차량 상태 정보, 차량 주행 정 보, 차량의 에러를 나타내는 에러 정보, 객체 정보, 사용자 인터페이스 장치를 통하여 수신되는 사용 자 입력, 및 원격 제어 요청 신호 중 적어도 하나를 외부 디바이스로 전송할 수 있다. 원격 제어용 서버는 차 량이 송신하는 정보에 기초하여 차량이 원격 제어가 필요한지 판단할 수 있다. 제어부는 통신 장치를 통하여, 원격 제어용 서버로부터 수시된 제어 신호에 따라 차량을 제어할 수 있다. 운전 조작 장치는 운전을 위한 사용자 입력을 수신한다. 매뉴얼 모드에서, 차량은 운전 조작 장치 에 의해 제공되는 사용자 입력 신호에 기초하여 운행될 수 있다. 운전 조작 장치는 조향 입력 장치, 가속 입력 장치 및 브레이크 입력 장치를 포함할 수 있 다. 조향 입력 장치는 사용자로부터 차량의 진행 방향 입력을 수신할 수 있다. 조향 입력 장치는, 회전에 의해 조향 입력이 가능하도록 휠 형태로 형성되는 것이 바람직하다. 실시 예에 따라, 조향 입력 장치는, 터치 스크린, 터치 패드 또는 버튼 형태로 형성될 수도 있다. 가속 입력 장치는 사용자로부터 차량의 가속을 위한 입력을 수신할 수 있다. 브레이크 입력 장치 는 사용자로부터 차량의 감속을 위한 입력을 수신할 수 있다. 가속 입력 장치 및 브레이크 입 력 장치는 페달 형태로 구현될 수 있다. 가속 입력 장치 또는 브레이크 입력 장치는 터치 스크린, 터치 패드 또는 버튼 형태로 형성될 수도 있다. 운전 조작 장치는 제어부의 제어에 따라 동작될 수 있다. 차량 구동 장치는 차량내 각종 장치의 구동을 전기적으로 제어한다. 차량 구동 장치는 파워 트 레인 구동부, 샤시 구동부, 도어/윈도우 구동부, 안전 장치 구동부, 램프 구동부 및 공조 구동부를 포함할 수 있다. 파워 트레인 구동부는 파워 트레인 장치의 동작을 제어할 수 있다. 파워 트레인 구동부는 동력원 구 동부 및 변속기 구동부를 포함할 수 있다. 동력원 구동부는 차량의 동력원에 대한 제어를 수행한다. 화석 연료 기반의 엔진이 동력원인 경우, 동력원 구동부는 엔진의 출력 토크 등을 제어할 수 있다. 동력원 구동부는 제어부의 제어 하에엔진 출력 토크를 조정할 수 있다. 전기 에너지 기반의 모터가 동력원인 경우, 동력원 구동부는 제어부 의 제어 하에 모터의 회전 속도, 토크 등을 조정할 수 있다. 변속기 구동부는 변속기에 대한 제어를 수행한다. 변속기 구동부는 변속기의 상태를 전진(D), 후진 (R), 중립(N) 또는 주차(P)로 조정할 수 있다. 엔진이 동력원인 경우, 변속기 구동부는 전진(D) 상태에서 기어의 물림 상태를 조정할 수 있다. 샤시 구동부는 샤시 장치의 동작을 제어할 수 있다. 샤시 구동부는 조향 구동부, 브레이크 구 동부 및 서스펜션 구동부를 포함할 수 있다. 조향 구동부는 차량 내의 조향 장치(steering apparatus)에 대한 전자식 제어를 수행할 수 있다. 조 향 구동부는, 차량의 진행 방향을 변경할 수 있다. 브레이크 구동부는 차량 내의 브레이크 장치(brake apparatus)에 대한 전자식 제어를 수행하여 차량 의 속도를 줄일 수 있다. 브레이크 구동부는 복수의 브레이크 각각을 개별적으로 제어할 수 있다. 브레이크 구동부는 복수의 휠에 걸리는 제동력을 서로 다르게 제어할 수 있다. 서스펜션 구동부는 차량 내의 서스펜션 장치(suspension apparatus)에 대한 전자식 제어를 수행할 수 있다. 서스펜션 구동부는 도로면에 굴곡이 있는 경우, 서스펜션 장치를 제어하여 차량의 진동이 저 감되도록 제어할 수 있다. 서스펜션 구동부는 복수의 서스펜션 각각을 개별적으로 제어할 수 있다. 도어/윈도우 구동부는 차량 내의 도어 장치(door apparatus) 또는 윈도우 장치(window apparatus)에 대한 전자식 제어를 수행할 수 있다. 도어/윈도우 구동부는 도어 구동부 및 윈도우 구동부를 포함할 수 있다. 도어 구동부는 도어 장치에 대한 제어를 수행할 수 있다. 도어 구동부는 차량(10 0)에 포함되는 복수의 도어의 개방, 폐쇄를 제어할 수 있다. 도어 구동부는 트렁크(trunk) 또는 테일 게이 트(tail gate)의 개방 또는 폐쇄를 제어할 수 있다. 도어 구동부는, 썬루프(sunroof)의 개방 또는 폐쇄를 제어할 수 있다. 윈도우 구동부는 윈도우 장치(window apparatus)에 대한 전자식 제어를 수행하여 차량의 윈도우 개방 또는 폐쇄를 제어할 수 있다. 안전 장치 구동부는 차량 내의 각종 안전 장치(safety apparatus)에 대한 전자식 제어를 수행할 수 있다. 안전 장치 구동부는 에어백 구동부, 시트벨트 구동부 및 보행자 보호 장치 구동부 를 포함할 수 있다. 에어백 구동부는 차량 내의 에어백 장치(airbag apparatus)에 대한 전자식 제어를 수행하여 위험 감 지시 에어백이 전개되도록 이 에어백을 제어한다. 시트벨트 구동부는 차량 내의 시트벨트 장치(seatbelt apparatus)에 대한 전자식 제어를 수행하여 위 험 감지시, 시트 밸트를 이용해 탑승객이 시트(110FL, 110FR, 110RL, 110RR)에 고정되도록 제어할 수 있다. 보행자 보호 장치 구동부는 후드 리프트 및 보행자 에어백에 대한 전자식 제어를 수행하여 보행자와의 충 돌 감지시, 후드 리프트 업 및 보행자 에어백 전개되도록 이 에어백을 제어한다. 램프 구동부는, 차량 내의 각종 램프 장치(lamp apparatus)에 대한 전자식 제어를 수행한다. 공조 구동부는 차량 내의 공조 장치(air conditioner)에 대한 전자식 제어를 수행하여 차량 내부의 온도를 조절한다. 운행 시스템은 차량의 운행을 제어한다. 운행 시스템은 자율 주행 모드에서 동작될 수 있다. 운행 시스템은 주행 시스템, 출차 시스템 및 주차 시스템을 포함할 수 있다. 운행 시스템 이 소프트웨어적으로 구현되는 경우, 운행 시스템은 제어부의 하위 개념일 수도 있다. 운행 시스템은 사용자 인터페이스 장치, 오브젝트 검출 장치, 통신 장치, 차량 구동 장치 및 제어부 중 하나 이상과 연계되어 차량의 자율 운행을 제어할 수 있다. 주행 시스템은 내비게이션 시스템으로부터의 내비게이션 정보를 차량 구동 장치에 제공한다. 내비게이션 정보는 목적지, 경유지 정보 등 자율 주행에 필요한 이동 경로 정보를 포함할 수 있다. 주행 시스 템은 오브젝트 검출 장치로부터의 객체 정보를 차량 구동 장치에 제공한다. 주행 시스템 은 통신 장치를 통해 수신된 외부 디바이스로부터의 신호를 차량 구동 장치에 제공할 수 있다. 출차 시스템은 차량의 출차를 수행한다. 출차 시스템은 내비게이션 시스템으로부터의 내 비게이션 정보를 차량 구동 장치에 제공할 수 있다. 출차 시스템은 오브젝트 검출 장치로부터 의 객체 정보를 차량 구동 장치에 제공할 수 있다. 출차 시스템은 통신 장치를 통해 수신된 외 부 디바이스로부터의 신호를 차량 구동 장치에 제공할 수 있다. 주차 시스템은 차량의 주차를 수행할 수 있다. 주차 시스템은 내비게이션 시스템으로부터 의 내비게이션 정보를 바탕으로 차량 구동 장치에 제어 신호를 제공할 수 있다. 주차 시스템은 오브 젝트 검출 장치로부터의 객체 정보를 차량 구동 장치에 제공할 수 있다. 주차 시스템은 통신 장치를 통해 수신된 외부 디바이스로부터의 신호를 차량 구동 장치에 제공할 수 있다. 내비게이션 시스템은 내비게이션 정보를 발생할 수 있다. 내비게이션 정보는 맵(map) 정보, 설정된 목적지 정보, 목적지까지의 경로 정보, 경로 상의 다양한 객체에 대한 정보, 차선 정보 및 차량의 현재 위치 정보 중 하나 이상을 포함할 수 있다. 내비게이션 시스템은 메모리, 프로세서를 포함할 수 있다. 메모리는 내비 게이션 정보를 저장할 수 있다. 프로세서는 내비게이션 시스템의 동작을 제어할 수 있다. 내비게이션 시 스템은 통신 장치를 통해 수신된 외부 디바이스로부터 정보를 수신하여 기 저장된 정보를 업데이트 할 수 있다. 내비게이션 시스템은 사용자 인터페이스 장치의 하위 구성 요소로 분류될 수 있다. 센싱부는 차량의 상태를 센싱할 수 있다. 센싱부는 자세 센서, 충돌 센서, 휠 센서(wheel sensor), 속도 센서, 경사 센서, 중량 감지 센서, 헤딩 센서(heading sensor), 요 센서(yaw sensor), 자이로 센서(gyro sensor), 포지션 모듈(position module), 차량 전진/후진 센서, 배터리 센서, 연료 센서, 타이어 센서, 핸들 회 전에 의한 스티어링 센서, 차량 내부 온도 센서, 차량 내부 습도 센서, 초음파 센서, 조도 센서, 가속 페달 포 지션 센서, 브레이크 페달 포지션 센서 등을 포함할 수 있다. 자세 센서는 요 센서(yaw sensor), 롤 센서(roll sensor), 피치 센서(pitch sensor) 등을 포함할 수 있다. 센싱부는 차량 자세 정보, 차량 충돌 정보, 차량 방향 정보, 차량 위치 정보(GPS 정보), 차량 각도 정보, 차량 속도 정보, 차량 가속도 정보, 차량 기울기 정보, 차량 전진/후진 정보, 배터리 정보, 연료 정보, 타이어 정보, 차량 램프 정보, 차량 내부 온도 정보, 차량 내부 습도 정보, 스티어링 휠 회전 각도, 차량 외부 조도, 가속 페달에 가해지는 압력, 브레이크 페달에 가해지는 압력 등을 실시간 감지하여 센싱 신호를 발생할 수 있다. 센싱부는 가속페달센서, 압력센서, 엔진 회전 속도 센서(engine speed sensor), 공기 유량 센서(AFS), 흡 기 온도 센서(ATS), 수온 센서(WTS), 스로틀 위치 센서(TPS), TDC 센서, 크랭크각 센서(CAS) 등을 더 포함할 수 있다. 인터페이스부는 차량에 연결되는 다양한 종류의 외부 기기와의 인터페이스를 제공한다. 예를 들면, 인터페이스부는 이동 단말기와 연결 가능한 포트를 포함하여 이동 단말기와 데이터를 교환할 수 있다. 인터페이스부는 이동 단말기에 전기 에너지를 공급할 수 있다. 이동 단말기가 인터페이스부에 전기 적으로 연결되면, 제어부의 제어에 따라, 인터페이스부는 전원 공급부에서 공급되는 전기 에너 지를 이동 단말기에 제공할 수 있다. 메모리는 제어부에 연결된다. 메모리는 차량의 구성 요소들 각각의 구동에 필요한 데이터, 사용 자 입력 데이터, 외부 디바이스로부터 수신된 정보 데이터 등을 저장할 수 있다. 메모리는 제어부의 처리 또는 제어를 위한 프로그램 등, 차량 전반의 동작을 위한 다양한 데이터를 저장할 수 있다. 메모리 는 ROM, RAM, EPROM, 플래시 드라이브, 하드 드라이브 등으로 구현될 수 있다. 메모리는 제어부와 일체형으로 구현되거나, 제어부의 하위 구성 요소로 구현될 수 있다. 제어부는 차량 내의 구성 요소들 각각의 전반적인 동작을 제어할 수 있다. 제어부는 ECU(Electronic Control Unit)를 포함할 수 있다. 제어부는 오브젝트 검출 장치 및 통신 장치 중 적어도 하나를 통하여 획득되는 정보에 기초하여 차량을 제어할 수 있다. 이에 따라, 차량은 제어 부의 제어 하에 자율 주행할 수 있다. 프로세서 및 제어부는, ASICs (application specific integrated circuits), DSPs(digital signal processors), DSPDs(digital signal processing devices), PLDs(programmable logic devices), FPGAs(field programmable gate arrays), 프로세서(processors), 제어기(controllers), 마이크로 컨트롤러(micro- controllers), 마이크로 프로세서(microprocessors) 등으로 구현될 수 있다. 전원 공급부는 차량 내부의 배터리 로부터 전원을 공급받을 수 있다. 전원 공급부는 제어부의 제어 하에 각 구성 요소들의 동작에 필요한 전원을 구성 요소들에 공급할 수 있다. 차량은 IVI(In-Vehicle Infotainment) 시스템을 포함한다. IVI 시스템은 사용자 인터페이스 장치, 통신 장치, 제어부, 내비게이션 시스템, 및 운행 시스템을 이용하여 사용자 입력에 응답하 여 멀티 미디어 컨텐츠를 재생하고 사용자의 편의를 제공하기 위한 서비스를 제공하기 위한 UI(User Interfaces) 또는 UX(User Experience) 프로그램을 실행한다. IVI 시스템은 서비스 구역에서 제공할 수 있는 다양한 차량 서비스의 등록, 변경, 및 취소, 차량 서비스의 실시간 현황, 예상 소요 시간, 예상 종료 시간 등을 사용자에게 보여 주고, 사용자의 응답을 관리 서버에 전달할 수 있다. 도 61은 본 발명의 실시 예에 따른 자율 차량을 이용한 서비스 제공 시스템을 보여 주는 도면이다. 도 62는 도 61에 도시된 서버 구성을 보여 주는 블럭도이다. 도 63은 도 61에 도시된 시스템의 제어 방법을 보여 주는 상 태 천이도(State Transition Diagram)이다. 도 61 내지 도 63을 참조하면, 본 발명의 서비스 제공 시스템은 주차장, 픽업 구역(pick up zone, 30), 및 차량 서비스 구역(service zone, 20)을 포함한다. 본 발명은 차량 서비스를 제공하는 차량 서비스 구역(service zone)을 주차장 근처에 배치하여 주차와 차량 서비스를 연계한다. 본 발명은 자율 주행 기술을 이용하여 사용자가 개인 용무를 보는 동안 사용자에 의해 선택된 순서대로 차량 서 비스를 제공 받을 수 있게 한다. 일 예로, 사용자가 쇼핑을 보는 동안 차량은 주차장과 픽업 구역 사이에서 미리 설정된 경로를 따라 자율 주행하면서 사용자가 미리 등록한 차량 서비스를 제공 받을 수 있 다. 차량의 네비게이션 시스템은 사용자 단말기를 통해 입력된 기 등록 차량 서비스가 있을 때 서버 로부터의 서비스 개시 신호에 응답하여 주차장과 이웃한 서비스 구역을 목적지로 설정하고, 관리 서버 로부터 수신된 서비스 완료 신호에 응답하여 서비스 구역과 이웃하는 주차장을 목적지로 설정할 수 있다. 사용자 단말기는 사용자의 이동 단말기 또는 차량의 IVI 시스템일 수 있다. 운행 시스템은 도 63에 도시된 일반 주행 모드, 자율 주차 모드, 차량 서비스 모드, 및 주차 모드에서 차량을 목적지까지 자율 주 행으로 이동시킬 수 있다. 차량의 제어부는 통신 장치를 통해 관리 서버와 연결되어 사용자 단말기로부터의 사용 자 데이터를 서버에 전달하고, 관리 서버로부터의 서비스 완료 신호를 네비게이션 시스템에 전달 한다. 네비게이션 시스템은 서버로부터의 이동 경로를 바탕으로 차량의 자율 주행 경로를 설 정할 수 있다. 차량 서비스 구역에 서비스 시스템이 구현된다. 서비스 시스템은 감시 카메라 시스템, 서비스 제공자 서버, 및 통신 장치에 연결된 관리 서버를 포함하여 하나 이상의 차량 서비스를 제공한다. 감시 카메라 시스템은 차량 서비스 구역 내에서 차량별로 차량 번호, 현재 위치, 차량 이미지 등을 관리 서 버에 전송한다. 서비스 제공자 서버는 차량 서비스 현황을 관리 서버에 전송하고, 관리 서버로부 터 차량 서비스의 등록, 취소, 변경을 실시간 수신한다. 관리 서버는 서비스 구역의 차량 서비스 등록, 변경, 및 취소를 관리한다. 관리 서버는 서비스 구 역의 감시 카메라 시스템 및 통신 장치와 연결되어 서비스 구역 내에서 차량 각각을 식별하고, 차량들 각각의 서비스 상황을 실시간 감시한다. 관리 서버는 서비스 구역에 위치하는 서비스 제공자들과 제휴 할 수 있다. 관리 서버는 차량이 기 등록 차량 서비스를 모두 받거나 사용자에 의해 기 등록 차량 서 비스가 취소되면, 서비스 완료 신호를 차량으로 전송할 수 있다. 관리 서버는 픽업 구역에 차량 이 도착하기 전에 등록 차량 서비스가 있거나, 차량이 주차장에 주차되어 있는 동안 사용자가 등 록 서비스를 추가할 때 서비스 개시 신호를 차량으로 전송할 수 있다. 관리 서버는 네트워크를 통해 서비스 제공자들의 단말기와, 사용자 단말기에 연결된다. 관리 서버는 서비스 제공자의 단말기와 사용자 단말기의 디스플레이에 표시되는 UX 화면에 필요한 정보를 제공한다. 관리 서버는 UX 화면에 응답하여 사용자 입력 데이터를 수신하여 서비스 제공자와 사용자가 요청한 데이터를 서비스 제공자의 단말기와 사용자 단말기에 제공한다. 관리 서버는 서비스 구역으로부터 수신된 상황 데이터를 바탕으로 등록 가능한 차량 서비스 항목, 예상 시간 정보 등을 사용자 단말기에 전송하고, 사용자 단말기로부터 사용자 데이터를 수신하여 서비스 제 공자에 전달하여 차량 서비스를 등록(예약)한다. 관리 서버는 사용자가 개인 용무를 보는 동안 다양한 차량 서비스를 손쉽게 제공 받을 수 있도록 UX(User Experience) 플랫폼을 개인 단말기와 차량에 제공할 수 있다. 이 UX 플랫폼은 주차장과 픽업 구 역 사이에서 차량과 관련된 다양한 서비스에 대하여 등록(예약), 변경, 실시간 관리 등을 쉽게 처리할 수 있게 함은 물론, 원할한 차량 서비스를 실시간 감지하여 고객 개인별로 최적의 서비스를 추천할 수 있다. 관리 서버는 서비스 제공자별 대기 차량 수, 대기 시간, 예상 시간 등을 분석하여 원할한 차량 서비스를 선 택하여 사용자 단말기와 차량의 IVI 시스템에서 실행되는 UX 플랫폼을 통해 사용자에게 추천할 수 있 다. UX 플랫폼은 사용자 단말기와 IVI 시스템의 어플리케이션으로 구현될 수 있다. UX 플랫폼은 사용자가 자신 의 단말기 또는 차량의 IVI 시스템을 통해 언제, 어디서든지 차량 서비스를 쉽게 등록, 변경 및 취소할 수 있게 할 수 있다. 사용자는 차량에 탑승한 일반 주행 모드에서 차량의 IVI 시스템에서 실행되는 UX 를 통해 차량 서비스를 등록, 변경 및 취소할 수 있다. UX 플랫폼은 사용자 단말기와, 차량의 IVI 시 스템에 구현될 수 있다. 또한, UX 플랫폼은 차량의 IVT 시스템과 사용자의 이동 단말기를 동기시키는 어 플리케이션 예를 들어, 안드로이드 오토, 아이폰 카 플레이 등에 구현될 수 있다. UX 플랫폼에서 사용자가 선 택한 차량 서비스 요청은 V2X 통신을 통해 관리 서버에 전달될 수 있다. 픽업 구역은 차량이 서비스 구역으로 자율 주행하기 전 대기하거나, 서비스 구역 또는 주차장(1 0)으로부터 자율 주행으로 이동된 차량이 사용자를 기다리는 발렛 파킹 대기 구역이다. 픽업 구역은 운전자 개입 없이 차량이 자율 주행으로 주차장까지 이동될 수 있다는 점에서 볼 때 자동 발렛 파킹 구역(auto valet parking zone)으로 해석될 수 있다. 사용자가 픽업 구역에 차량을 세워 놓으면, 차량은 관리 서버의 제어 하에 관리 서버로부터 수신된 경로 데이터를 바탕으로 미리 설정된 경로를 따라 자율 주행하기 시작하여 서비스 구역으로 이동한 후에 차량 서비스를 받은 다음, 주차장으로 이동하여 빈 공간을 찾아 주차할 수 있다. 차량은 관리 서버 또는 사용자 단말기의 제어 하에 자율 주행하여 주차장으로부터 픽업 구역 또는 서비스 구역으로 이동할 수 있다. 사용자는 차량 서비스를 받은 후에 픽업 구역에서 대기하고 있는 차량(10 0)에 탑승 하여 다른 목적지로 차량을 운행할 수 있다. 차량이 관리 서버의 제어 하에 자율 주행하여 주차장으로부터 서비스 구역으로 이동하여 기 등록된 차량 서비스를 받은 다음, 자율 주행으로 서비스 구역으로부터 픽업 구역으로 이동할 수 있다. 사용자는 픽업 구역에서 대기하고 있는 차량에 탑승하여 다른 목적지로 차량을 운행할 수 있다. 관리 서버는 도 62에 도시된 바와 같이 컨텍스트 관리자(Context Manager, 41), 데이터 베이스, 모니터 링 모듈, 엔진(engine, 44), 결제 모듈, 및 인증 및 사용자 프로파일 모듈(Authentication & user profile module, 46)을 포함한다. 서비스 구역의 감시 카메라 시스템은 차량들 각각의 차량 번호를 인식하여 차량별 상황 데이터를 발생하여 관리 서버에 실시간 전송한다. 감시 카메라 시스템은 서비스 구역 내에서 이동되는 차량의 위치와 서 비스 구역의 서비스 제공자들 각각의 매장에서 차량별 서비스 시작 시간 및 종료 시간을 측정하고, 서비스 항목별로 차량 번호, 시작 시간 및 종료 시간을 포함한 시간 정보를 발생한다. 감시 카메라 시스템은 서비스 제공자들뿐만 아니라 서비스 영역의 입/출구, 그리고 미리 설정된 다수의 지점에 위치하여 서비스 영역 내에서 항상 차량의 실시간 영상을 제공할 수 있다. 상황 데이터는 적어도 상기 시간 정보, 카메라 영상 데이 터 등을 포함할 수 있다. 서비스 구역의 통신 장치는 사물 인터넷(IoT, Internet of Things), Wi-Fi, 블 루투스 등의 통신 링크를 통해 상황 데이터를 관리 서버로 전송한다. 컨텍스트 관리자는 상황 데이터를 서비스 구역의 감시 카메라 시스템으로부터 수신 받는다. 컨텍스트 관리자는 사물 인터넷(IoT, Internet of Things)을 통해 감시 카메라 시스템에 연결되어 감시 카메라 시스 템으로부터 상황 데이터를 실시간 입력 받을 수 있다. 컨텍스트 관리자는 상황 데이터의 종류가 다양하기 때문에 다양한 상황 데이터를 집계(aggregation), 데이터 유효성 검사, 상황 데이터를 파싱(parsing)한다. 그 리고 컨텍스트 관리자는 상황 데이터를 데이터 베이스, 모니터링 모듈, 및 엔진으로 전달(delivery)한다. 데이터 베이스는 사용자 프로파일, 상황 데이터, 및 차량 서비스 관련 사용자 데이터를 저장한다. 사용자 프로파일은 차량 서비스를 가입한 사용자 정보를 포함한다. 차량 서비스 관련 사용자 데이터는 등록 차량 서비 스 항목, 차량 서비스 항목별 예상 시간 등의 데이터를 포함한다. 차량 서비스 등록 데이터는 UX를 통해 사용 자에 의해 등록된 차량 서비스 항목들을 지시한다. 엔진은 사용자에 의해 등록된 차량 서비스를 제공하는 서비스 제공자들을 연결하는 경로를 플래닝 (planning)하고, 이 차량 서비스들 각각의 사용자가 등록한 차량 서비스의 예상 시간을 계산하여 예상 시간을 스케줄링(scheduling)하고, 서비스 구역 내에서 차량의 이동 경로를 설정한다. 엔진은 데이터 연산을 처리하는 프로세서로 구현된다. 사용자가 사용자 단말기와 IVI 시스템의 UX 화면 상에서 차량 서비스를 등록하면, 등록 정보는 서비스 핸들 러를 통해 엔진으로 전달된다. 서비스 제공자들 각각은 차량 번호를 읽어 차량별 시작 시간과 종료 시 간을 측정하고, 각 차량별 시작 시간과 종료 시간을 포함한 시간 정보를 관리 서버로 전송한다. 엔진은 컨텍스트 관리자를 통해 수신된 각 서비스 제공자들로부터의 시간 정보를 분석하여 서비스 관련 정보를 발생하여 서비스 핸들러를 통해 사용자 단말기로 전송한다. 서비스 관련 정보는 서비스 항목별 예 상 시간을 포함한다. 예상 시간은 사용자의 차량에 앞서 서비스를 받은 다른 차량들의 최근 서비스 시간 이력(history)에 대한 통계적 계산 방법으로 계산될 수 있다. 예를 들어, 예상 시간은 서비스 항목별로 최근 서비스를 받은 차량들의 서비스 시간의 평균 시간으로 계산될 수 있다. 또한, 예상 시간은 분산과 표준 편차로 계산될 수 있다. 엔진 은 최근 서비스 시간을 반영하여 서비스 관련 정보를 실시간 업데이트(update)하여 사용자 단말기와 차 량으로 전송할 수 있다. 예상 시간은 등록 차량 서비스 항목별 예상 소요 시간, 총 예상 시간, 예상 종료 시간 등을 포함할 수 있다. 예상 소요 시간은 대기 시간과 예상 서비스 시간 등을 포함할 수 있다. 엔진은 예상 시간과 함께 차량 서 비스 항목별 서비스 상태를 사용자 단말기 또는 차량으로 전송할 수 있다. 서비스 상태는 도 66의 예 와 같이 원할, 보통, 복잡 등으로 구분될 수 있다. 엔진은 여러 이동 경로 후보군들 중에서 사용자에 의해 선택된 모든 등록 차량 서비스들의 총 예상 시간이 최소인 이동 경로를 선택할 수 있다. 또한, 엔진은 서비스 대기 차량과 대기 시간을 실시간 감시(monito r)하여 이동 경로를 변경할 수 있다. 차량은 서비스 구역 내에서 관리 서버에 의해 설정된 이동 경로를 따라 자율 주행하여 관리 서버에 의해 정해진 순서대로 차량 서비스를 받을 수 있다. 엔진으로부터 발생된 등록 차량 서비스의 예상 시간 정보와 이동 경로 데이터는 서비스 핸들러를 통해 사용자 단말기와 차량으로 전송될 수 있다. 결제 모듈은 차량 서비스 이용에 대한 비용 결제를 처리한다. 결제 모듈은 사용자가 픽업 구역에 서 차량을 픽업한 후에 사용자에 의해 기 등록된 신용 카드로 서비스 비용을 결제 처리할 수 있다. 인증 및 사용자 프로파일 모듈은 차량 서비스 등록을 위한 사용자 인증을 처리하고, 사용자 프로파일을 관 리한다. 모니터링 모듈은 사용자가 사용자 단말기을 통해 수신된 차량 서비스의 실시간 영상 요청에 응답하여 서비스 구역 내의 차량 영상을 서비스 핸들러를 통해 사용자 단말기로 전송한다. 여기서, 사용자 단말기는 사용자의 이동 단말기 또는 차량의 IVI 시스템일 수 있다. 서비스 핸들러는 네트워크를 통해 사용자 단말기 및 차량에 연결되어 사용자 단말기 또는 차 량으로부터의 데이터를 엔진, 결제 모듈, 및 인증 및 사용자 프로파일 모듈에 전송하고, 엔진 , 결제 모듈, 및 상기 인증 및 사용자 프로파일 모듈로부터의 데이터를 사용자 단말기 및 차량 으로 전송하는 서비스 핸들러 사용자 단말기 또는 차량의 UX에서 발생된 이벤트 요청, 데이터 등을 처리하여 엔진, 결제 모듈 , 및 인증 및 사용자 프로파일 모듈로 전송한다. 또한, 서비스 핸들러는 모니터링 모듈, 엔진 , 결제 모듈, 및 인증 및 사용자 프로파일 모듈을 네트워크에 연결한다. 도 63을 참조하면, 일반 주행 모드는 주차장, 서비스 구역 및 픽업 구역 이외의 다른 위치에서 차 량이 주행하는 상태이다. 자율 주차 모드는 차량이 픽업 구역에 대기하는 상태이다. 자율 주차 모드는 미리 정해진 조건을 충 족할 때 일반 주행 모드, 주차 모드, 차량 서비스 모드로 전환될 수 있다. 차량 서비스 모드는 차량이 사용자에 의해 기 등록된 차량 서비스를 받기 위하여 차량이 서비스 구역 내에 위치하는 상태이다. 차량 서비스 모드에서, 차량은 관리 서버에 의해 설정된 이동 경로를 따라 자율 주행하여 사용자에 의해 기 등록된 차량 서비스들을 받을 수 있다. 차량 서비스 모드는 미리 정해진 조건을 충족할 때 자율 주차 모드 또는 주차 모드로 전환될 수 있다. 주차 모드는 차량이 주차장에 위치하는 상태이다. 차량은 주차 모드에서 주차장의 빈 공간 을 찾아 주차한다. 관리 서버는 주차장으로부터 차량이 주차한 위치의 영상 또는 주차 위치 정보 를 받아 사용자 단말기로 전송할 수 있다. 주차 모드는 미리 정해진 조건을 충족할 때 자율 주차 모드 또 는 차량 서비스 모드로 전환될 수 있다. 차량은 일반 주행 모드에서 주차 요청을 수신할 때 자율 주행 모드로 전환된다. 실시 예에서, 차량 은 일반 주행 모드에서 목적지인 픽업 구역까지 주행한다. 주차 요청은 사용자 또는 관리 서버에 의해 발생되어 차량을 자율 주차 모드로 전환한다. 사용자가 픽업 구역에서 차량을 수령하면, 차량은 일반 주행 모드로 전환되어 픽업 구역으로부터 다른 목적지로 운행된다. 차량은 사용자에 의해 기 등록된 차량 서비스를 받기 위하여 관리 서버의 제어 하에 픽업 구역으 로부터 서비스 구역으로 자율 주행하여 서비스 구역으로 진입한다. 이 때 차량은 자율 주차 모드 로부터 차량 서비스 모드로 전환된다. 차량은 차량 서비스 모드에서 관리 서버로부터 수시된 이동 경 로를 따라 자율 주행하여 서비스 구역 내에서 기 등록된 차량 서비스를 수행하는 서비스 제공자에서 서비스 를 받은 후에 다른 서비스 제공자로 이동한다. 차량은 사용자에 의해 등록된 모든 차량 서비스들 받은 후에 자율 주차 모드로 전환되어 픽업 구역으 로 자율 주행한다. 이 때 차량은 차량 서비스 모드로부터 자율 주차 모드로 전환된다. 주차 모드에서, 사용자가 차량 서비스를 추가 등록하면 차량은 차량 서비스 모드로 전환되어 자율 주행하여 주차장으로부터 추가된 차량 서비스를 수행하는 서비스 제공자로 이동할 수 있다. 차량이 주차장에서 주차되어 있고 기 등록된 모든 차량 서비스를 받은 주차 상태에서, 사용자가 차량 을 호출하거나 관리 서버의 이동 명령이 차량에 수신될 수 있다. 이 때, 차량은 주차 모드 로부터 자율 주차 모드로 전환되어 자율 주행으로 픽업 구역까지 이동한다. 사용자는 픽업 구역에서 모든 차량 서비스를 받은 차량을 인수 받을 수 있다. 차량은 일반 주행 모드에서 운전자 또는 운전자 개입 없이 자율 주행으로 목적지까지 운행될 수 있다. 일 반 주행 모드는 차량을 제어하는 주체에 따라 매뉴얼 모드, 자율 주행 모드, 또는 원격 제어 모드로 나뉜 다. 매뉴얼 모드는 운전자의 조작으로 차량이 수행된다. 자율 주행 모드에서 제어부나 운행 시스템 은 운전자 개입 없이 차량을 직접 제어하여 차량을 운전자가 설정한 목적지로 차량을 운행한다. 자 율 주행 모드는 주차장에서 빈 공간을 찾아 차량을 주차시키는 자율 주차 모드를 포함할 수 있다. 도 64는 본 발명의 실시 예에 따른 자율 차량을 이용한 서비스 등록, 변경, 취소 방법의 일 예를 보여 주는 흐 름도이다. 도 64를 참조하면, 사용자는 사용자 단말기 또는 IVI 시스템에서 실행되는 UX 플랫폼을 통해 차량 서비스 등록 또는 변경을 요청할 수 있다(S641). 관리 서버는 사용자가 지정한 주차장 근처의 서비스 구역 내의 서비스 제공자들의 서비스 현황을 조회하여 등록 가능한 서비스를 검색한다(S642). 사용자가 UX 플랫폼의 디스플레이 상에 표시되는 등록 가능한 서비스 항목들을 선택하면, 관리 서버는 서비스 예상 시간을 계산한다(S643, S644). 서비스 예상 시간은 서비스 제공자들 각각에서 하나의 차량 서비스가 처리되는 시간의 평균 시간으로 추정될 수 있다. 예를 들어, 세차 서비스를 제공하는 서비스 제공자1에서 하나의 차를 세차하는데 필요한 평균 시간이 30 분일 때, 사용자가 세차 서비스를 선택하면 예상 시간이 30분 더해질 수 있다. 사용자가 차량 점검 서비스를 추가로 선택하면, 서 비스 제공자2에서 하나의 차에 대한 차량 점검에 필요한 평균 시간이 40 분일 때 40 분이 더해져 세차와 차량점검에 필요한 총 예상 시간이 1 시간 10 분으로 계산될 수 있다. 관리 서버는 사용자에 의해 선택된 차량 서비스들을 수행하는 서비스 제공자들을 잇는 최적 이동 경로를 계 산한다. 관리 서버는 총 예상 시간이 최소인 이동 경로를 설정하여 사용자 단말기 또는 차량에 전송한다(S644 및 S645). 사용자가 차량 서비스의 추가 등록을 원하면, S643 내지 S645 단계를 재 수행한다(S646). 사용자가 자신이 원 하는 모든 차량 서비스를 선택하면, 관리 서버는 예상 시간 및 이동 경로를 사용자 단말기 또는 차량 으로 전송하여 사용자에게 예상 시간과 이동 경로를 안내한다(S647). 예상 시간은 차량 서비스 각각에 대 한 예상 서비스 시간과 예상 종료 시간, 사용자에 의해 선택된 모든 차량 서비스들을 합한 총 예상 서비스 시간, 및 최종 예산 종료 시간 등을 포함할 수 있다. 사용자가 자신의 선택에 의해 기 동록된 차량 서비스를 취소할 수 있다(S648 내지 S650). 사용자가 사용자 단 말기 또는 차량에서 실행되는 UX 플랫폼 상에서 기 등록된 차량 서비스 취소를 선택하면, 관리 서버 는 사용자가 선택하는 기 등록 차량 서비스를 취소하여 그에 따른 이동 경로 및 예상 시간을 조정한다(S649 및 S650). 도 65a 내지 14c는 일반 주행 모드, 자율 주행 주차 모드, 차량 서비스 모드, 및 주차 모드에서 UX 화면의 일 예 보여 주는 도면들이다. UX 화면은 사용자 단말기의 화면이다. 사용자 단말기는 전술한 바와 같이, 사용자 단말기, 차량의 IVI 시스템, PC, 노트북 컴퓨터 중 적어도 어느 하나를 포함할 수 있다. 사용자 단말기에 표시되는 UX 화면은 차량 서비스 등록/변경, 차량 서비스 실시간 현황, CCTV 영상 시청, 주차 정보 등을 알 수 있다. 사용자는 픽업 구역에 도착하기 전에 UX 화면 상에서 서비스 구역 내에서 제공하는 차량 서비스를 등록 하거나 변경할 수 있다. UX 화면은 일반 주행 모드에서 도 65a에 도시된 바와 같이 차량 서비스 등록/변경을 요청하는 아이콘을 활성화한다. 사용자는 자율 주차 모드나 차량 서비스 모드에서 도 65b에 도시된 바와 같이 UX 화면 상에서 차량 서비스 등록 /변경, 차량 서비스 실시간 현황, CCTV 시청을 요청할 수 있다. 차량 서비스 실시간 현황은 서비스 구역 내에서 차량 서비스 진척 상황을 실시간 알려 줄 수 있다. 예를 들어, 사용자가 UX 화면 상에서 차량 서비스 실시간 현황을 지시하는 아이콘을 클릭하면 UX 화면 상에서 기 등록된 차량 서비스 항목별로 서비스 완료 여부, 서비스 진행 비율 등이 표시될 수 있다. 관리 서버는 차량 서비스 실시간 현황 요청이 수신되면 서비스 제 공자들로부터 수신 받은 상황 데이터로부터 해당 차량의 서비스 완료 여부, 서비스 진행 비율을 계산하여 사용 자의 개인 단말기로 전송한다. 사용자가 CCTV 시청을 요청하면, 관리 서버는 서비스 구역 내의 카 메라에 의해 얻어진 실시간 영상으로 차량 영상을 사용자에게 보여 줄 수 있다. 사용자는 주차 모드에서 도 65c에 도시된 바와 같이 UX 화면 상에서 차량 서비스 등록/변경, 차량 서비스 실시 간 현황, CCTV 시청을 요청할 수 있다. 차량 서비스 실시간 현황은 서비스 구역 내에서 차량 서비스 진척 상황을 실시간 알려 줄 수 있다. 예를 들어, 사용자가 UX 화면 상에서 차량 서비스 실시간 현황을 지시하는 아 이콘을 클릭하면 UX 화면 상에서 기 등록된 차량 서비스 항목별로 서비스 완료 여부, 서비스 진행 비율 등이 표 시될 수 있다. 관리 서버는 차량 서비스 실시간 현황 요청이 수신되면 서비스 제공자들로부터 수신 받은 상황 데이터로부터 해당 차량의 서비스 완료 여부, 서비스 진행 비율을 계산하여 사용자의 개인 단말기로 전송한다. 도 66은 차량 서비스 등록/변경을 안내하는 UX 화면의 일 예를 보여 주는 도면이다. 도 66을 참조하면, 사용자가 UX 화면 상에서 차량 서비스 등록/변경을 선택하면, UX는 등록 가능한 서비스 항목 들과, 서비스 항목별 대기 시간, 서비스 시간, 총 소요 시간, 서비스 상태 등을 사용자에게 보여 줄 수 있다. UX는 등록 가능한 서비스와 함께 이미 완료된 서비스, 불가능한 서비스를 함께 표시할 수 있다. 도 66의 예에 서, 등록 가능한 서비스 항목들은 주유, 외부 세차, 차량 점검 등이고, 불가능한 서비스 항목은 내부 세차이다. 이미 완료한 서비스는 임의의 제1 색(예, 회색)으로 디밍(dimming) 처리되고 사용자가 선택할 수 없도록 비활성 화될 수 있다. 불가능한 서비스는 이미 완료한 서비스와 컬러로 구별될 수 있도록 배경이 제2 색(빨강색)으로 표시될 수 있다. 불가능한 서비스는 사용자가 선택될 수 없도록 비활성화될 수 있다. UX는 사용자가 선택한 총 등록 차량 서비스들의 총 소요 시간과, 예상 종료 시간을 차량 서비스 등록/변경 화면 에서 보여 줄 수 있고 등록 서비스 항목에 대한 사용자의 확인을 구하는 메시지를 화면 상에 표시할 수 있다. 도 67은 본 발명의 실시 예에 따른 자율 차량을 이용한 서비스 제공 방법에서 서비스 실시간 상황 제공 방법을 보여 주는 흐름도이다. 도 67을 참조하면, 본 발명의 서비스 제공 방법은 사용자가 UX 화면에서 실시간 상황 안내를 선택하면, 기 등록 된 차량 서비스의 예상 시간, 예상 종료 시간 등을 안내한다(S671 및 S672). 사용자가 도 65b 및 도 65c에 도시된 UX 화면 상에서 실시간 영상(CCTV) 시청을 원하면, 관리 서버는 서비 스 구역 내의 차량 영상을 사용자 단말기로 전송한다(S673 및 S674). 기 등록 차량 서비스 모두가 완료되거나 사용자에 의해 취소되면, 차량은 주차장으로 자율 주행하여 빈 공간을 찾아 주차한다(S675 및 S676). 관리 서버는 차량의 주차 위치를 사용자 단말기로 전송한 다(S677). 미 완료 차량 서비스가 남아 있으면, 차량은 관리 서버의 제어 하에 차량 서비스를 받는다(S675 및 S678). 관리 서버는 차량 서비스를 받는 차량의 예상 시간 정보를 사용자 단말기에 전송하여 사용자에 게 차량 서비스에 대한 총 예상 시간, 예상 종료 시간 등을 알려 줄 수 있다(S679). 사용자가 실시간 영상 (CCTV) 시청을 원하면, 관리 서버는 서비스 구역 내의 차량 영상을 사용자 단말기로 전송한다(S680 및 S681). 도 68은 본 발명의 실시 예에 따른 자율 차량을 이용한 서비스 제공 방법에서 서비스 추천 방법의 일 예를 보여 주는 흐름도이다. 도 68을 참조하면, 관리 서버는 차량이 주차장에서 주차하고 있을 때 차량 서비스를 추천할 수 있다 (S691 및 S692). 관리 서버는 서비스 구역 내의 상황을 모니터하여 서비스 가능한 차량 서비스, 그 차량 서비스의 예상 소요 시간 및 예상 종료 시간 등을 선택하여 주차 중인 차량의 사용자 단말기에 전송함으로써 사용자에게 차량 서비스를 추천할 수 있다(S692 내지 S694). 사용자가 UX 화면 상에서 추천 받은 차량 서비스를 등록하면, 차량은 관리 서버의 제어 하에 서비스 구역으로 자율 주행하여 사용자가 등록한 차량 서비스를 수행하는 서비스 제공자로 이동하여 차량 서비스를 받는다(S695 및 S696). 사용자가 실시간 영상(CCTV) 시청을 원하면, 관리 서버는 서비스 구역 내의 차 량 영상을 사용자 단말기로 전송한다(S697 및 S698). 등록 차량 서비스가 완료되거나 사용자에 의해 취소되면, 차량은 주차장으로 자율 주행하여 빈 공간을 찾아 다시 주차한다(S699 및 S700). 관리 서버는 차량의 주차 위치를 사용자 단말기로 전송한다 (S701). 도 69는 서비스 구역 내에서 차량의 실시간 서비스 상황을 보여 주는 UX 화면의 일 예이다. 도 69를 참조하면, 차량은 서비스 구역 내에서 관리 서버의 제어 하에 자율 주행하여 사용자에 의 해 기 등록된 차량 서비스를 받을 수 있다. 사용자는 사용자 단말기 상에 표시되는 UX 화면 상에서 차량 의 실시간 서비스 상황을 확인할 수 있다. 관리 서버는 사용자에 의해 기 등록된 차량 서비스들을 수행하는 서비스 제공자를 잇는 이동 경로, 차량의 현재 위치, 차량의 현재 서비스 진행 비율(예, 80%), 항목별 서비스 결과(예, 공기압 체크, 타이어 체크 등) 등 의 정보를 사용자 단말기로 전송할 수 있다. 따라서, 사용자는 원격지에서 차량의 서비스 상황을 자 세히 실시간으로 확인할 수 있다. 차량은 기 등록된 모든 차량 서비스를 받은 후에 관리 서버의 제어 하에 주차장으로 자율 주행하 여 빈 공간을 찾아 주차한다. 관리 서버는 주차장에 주차된 차량의 경우에, 사용자가 UX 화면 상 에서 실시간 상황을 요청하면 차량의 주차 위치 정보를 사용자 단말기로 전송하여 사용자에게 차량의 현재 주차 위치를 알려 줄 수 있다. 도 70 및 도 71은 서비스 가능한 차량 서비스의 추천을 보여 주는 도면들이다. 도 70을 참조하면, 주차 모드에서 사용자는 사용자 단말기 또는 차량의 IVI 시스템의 UX 화면을 통해 차량 서비스의 추천을 받아 볼 수 있다. 관리 서버는 차량이 주차장에 주차되어 있고 사용자가 차량을 픽업하지 않는다면(S711 및 S712), 도 71과 같은 UX 화면 상에 현재 서비스 가능한 차량 서비스 항목에 필요한 데이터를 업데이트하여 사용자 단말기에 전송할 수 있다(S716). UX 화면은 서비스 가능한 차량 서 비스 항목 각각에서 서비스명, 혼잡도 상태, 소요 시간 등을 표시할 수 있다. 사용자가 서비스 추천 UX 화면 상에서 추가 서비스를 선택하면, 차량은 차량 서비스 모드로 진입하여 서비 스 구역으로 자율 주행하고 서버로부터 수신된 이동 경로를 따라 추가 서비스를 제공하는 서비스 제공 자로 이동한다(S717 및 S718) 차량이 주차 모드일 때 사용자가 차량을 픽업하기 위하여 차량을 호출하면, 차량은 자율 주차 모드로 진입하여 픽업 구역까지 자율 주행한다(S713, S714 및 S715) 도 72는 차량의 일반 주행 모드에서 서비스 등록/변경 방법의 일 예를 보여 주는 순서도이다. 도 73a는 도 72 에 도시된 서비스 등록/변경에서 기 등록 차량 서비스가 있을 때 제공되는 UX 화면의 일 예를 보여 주는 화면의 일 예를 보여 주는 도면이다. 도 73b는 도 72에 도시된 서비스 등록/변경에서 기 등록 차량 서비스가 없을 때 제공되는 UX 화면의 일 예를 보여 주는 화면의 일 예를 보여 주는 도면이다. 도 72 내지 도 73b를 참조하면, 사용자는 일반 주행 모드에서 사용자 단말기나 차량의 IVI 시스템에서 실행되는 UX를 통해 주차장과 연계된 서비스 구역에서 제공 가능한 차량 서비스를 선택할 수 있다. 사용자는 UX 화면을 통해 차량 서비스의 등록/변경을 선택할 수 있다(S721). 사용자가 UX 화면 상에서 차량 서비스를 등록 또는 변경을 선택하면, 관리 서버는 목적지 즉, 서비스 구역 까지의 시간(Te)을 계산하여 사용자 단말기 또는 차량의 IVI 시스템에 전송하여 도 73a에 도시된 바와 같이 UX 화면 상에 실시간 업데이트되는 목적지까지의 시간(Te)을 표시할 수 있다(S722). 기 등록 차량 서비스가 있을 때, UX는 도 73a에 도시된 바와 같은 추가 등록 서비스를 안내하는 UX 화면을 사용 자 단말기 또는 차량의 IVI 시스템의 디스플레이 상에 표시할 수 있다(S723 및 S724). 이 UX 화면 상 에 등록 가능한 서비스가 항목별로 대기 시간, 서비스 시간, 총 소요 시간, 혼잡도 상태, 선택 체크 박스 등이 표시될 수 있다. 이 UX 화면 상에 목적지 즉, 기 등록 차량 서비스의 제공자 위치까지 시간(Te)이 표시될 수 있다. 기 등록 차량 서비스가 없을 때, UX는 도 73b에 도시된 바와 같은 신규 등록 서비스를 안내하는 UX 화면을 사용 자 단말기 또는 차량의 IVI 시스템의 디스플레이 상에 표시할 수 있다(S723 및 S725). 이 UX 화면 상 에 등록 가능한 서비스가 항목별로 대기 시간, 서비스 시간, 총 소요 시간, 혼잡도 상태, 선택 체크 박스 등이 표시될 수 있다. UX는 서비스가 불가능한 차량 서비스 항목의 경우 비활성화된 창(window)에 표시할 수 있다. 비활성화된 창은 디밍(dimming)처리될 수 있다. 도 74는 자율 주차 모드 또는 차량 서비스 모드에서 제공되는 UX 방법을 보여 주는 순서도이다. 도 75는 도 74 에 도시된 UX 방법에서 실시간 현황 UX 화면의 일 예를 보여 주는 도면이다. 도 74 및 도 75를 참조하면, UX는 차량이 주차 모드일 때 서비스 등록/변경 UX 화면을 제공하여 서비스 추천, 주차 정보 등을 제공할 수 있다(S741 및 S742). UX는 차량이 차량 서비스 모드일 때 사용자에게 서비스 구역 내에서 차량의 실시간 현황을 알려 줄 수 있다 (S742 및 S744). 실시간 현황은 도 69에 도시된 화면 또는 차량의 현재 영상일 수 있고 또한, 도 75에 도시된 바와 같이 이용 가능한 서비스 항목, 총 소요 시간 등을 더 보여 주일 수 있다. UX는 차량이 자율 주차 모드일 때 도 66 또는 도 73b와 같은 등록/변경 UX 화면을 제공할 수 있다(S743). 도 76은 차량 서비스의 등록/변경, 실시한 현황, 실시간 영상 및 주차 정보를 선택할 때 UX 방법의 일 예를 보 여 주는 순서도이다. 도 76을 참조하면, 사용자는 사용자 단말기 또는 차량의 IVI 시스템에서 실행되는 UX 화면 상에서 차 량 서비스의 등록/변경(S761), 차량의 실시간 현황(S762), 실시간 영상(S763), 및 주차 정보(S764)를 선택할 수 있다. 사용자가 UX 화면 상에서 차량 서비스의 등록/변경을 선택하면, UX는 도 66 또는 도 73b와 같은 등록/변경을 위 한 UX 화면을 표시할 수 있다(S765). 사용자가 차량 서비스의 등록을 선택하면(S766), 차량은 차량 서비 스 모드로 진입하여 관리 서버로부터 수신되는 이동 경로를 따라 서비스 구역으로 자율 주행한다(S767). 사용자가 UX 화면 상에서 차량 서비스의 실시간 현황을 선택하면, UX는 도 69 또는 도 75와 실시간 현황 UX 화 면을 디스플레이 상에 표시할 수 있다(S768). 사용자가 UX 화면 상에서 차량 서비스의 실시간 영상(CCTV)을 선택하면, UX는 서비스 구역의 감시 카메라 시스템에 의해 촬상되는 실시간 영상을 디스플레이 상에 재생할 수 있다(S769). 차량이 주차 모드일 떄, 사용자가 UX 화면 상에서 주차 정보를 요청하면(S764), UX는 관리 서버로부터 수신된 차량의 주차 위치에 관한 주차 정보를 디스플레이 상에 표시할 수 있다(S770). 도 77은 등록된 차량 서비스에 따라 차량의 자율 주행 이동 경로의 일 예를 보여 주는 도면이다. 도 77을 참조하면, 서비스 구역 내에 제1 내지 제3 서비스 제공자(21, 22, 23)이 배치될 수 있다. 제1 서 비스 제공자은 제1 차량 서비스 예를 들어, 주유 서비스를 제공할 수 있다. 제2 서비스 제공자은 제2 차량 서비스 예를 들어, 차량 점검 서비스를 제공할 수 있다. 제3 서비스 제공자은 제3 차량 서비스 예를 들어, 세차 서비스를 제공할 수 있다. 차량은 등록된 차량 서비스가 없으면 서비스 구역을 경유하지 않고 픽업 구역으로부터 주차장 입 구로 향하는 제1 경로(P1)를 따라 자율 주행하여 직접 주차장으로 이동하여 주차한다. 차량은 등록된 차량 서비스가 있으면, 픽업 구역으로부터 서비스 구역으로 향하는 제2 경로(P2)를 따라 자율 주행한다. 차량은 등록된 차량 서비스가 있으면, 픽업 구역으로부터 서비스 구역으로 향하는 제2 경로(P2)를 따라 자율 주행한다. 서비스 구역에 진입한 차량은 제3 또는 제4 경로(P3, P4)를 따라 이동할 수 있다. 제1 차량 서비스 가 등록된 경우, 차량은 제1 서비스 제공자을 경유하여 우회하는 제4 경로(P4)를 따라 자율 주행한 후 에 제1 서비스 제공자에서 제1 차량 서비스를 받는다. 제1 차량 서비스가 등록되지 않은 경우, 차량은 제3 경로(P3)를 따라 이동하여 신속하게 다음 서비스 제공자 쪽으로 이동할 수 있다. 제3 경로(P3)를 따라 이동하는 차량은 제5 또는 제6 경로(P5, P6)를 따라 이동할 수 있다. 제2 차량 서비 스가 등록된 경우, 차량은 제2 서비스 제공자을 경유하는 제6 경로(P4)를 따라 자율 주행하여 제2 서 비스 제공자에서 제2 차량 서비스를 받는다. 더 이상 등록된 차량 서비스가 없으면, 차량은 제2 차량 서비스를 받은 후에 제6 경로(P6)를 따라 주차장으로 자율 주행하여 빈 공간에 주차한다. 차량이 제2 차량 서비스를 받은 후에 제3 차량 서비스를 받는다면, 차량은 제3 서비스 제공자(P3)을 경유하는 제5 경로(P5)를 따라 자율 주행하여 제3 차량 서비스를 받는다. 더 이상 등록된 차량 서비스가 없으 면, 차량은 제3 차량 서비스를 받은 후에 제7 경로(P7)를 따라 주차장으로 자율 주행하여 빈 공간에 주차한다. 본 발명의 실시 예에 따른 자율 주행 차량과 이를 이용한 서비스 제공 시스템 및 방법은 아래와 같이 설명될 수 있다. 본 발명의 자율 주행 차량은 사용자 단말기를 통해 입력된 기 등록 차량 서비스가 있을 때 주차장과 이웃한 서 비스 구역을 목적지로 설정하고, 기 등록 차량 서비스 완료 후 상기 서비스 구역과 이웃하는 주차장을 목적지로 설정하는 네비게이션 시스템과, 자율 주행으로 차량을 상기 목적지로 이동시키는 운행 시스템을 포함한다. 상기 자율 주행 차량은 상기 서비스 구역의 차량 서비스 등록, 변경, 및 취소를 관리하는 서버와 통신 링크로 연결되는 통신 장치를 더 포함한다. 상기 자율 주행 차량은 상기 통신 링크를 통해 상기 사용자 단말기로부터의 데이터를 상기 서버에 전달하고, 상 기 통신 링크를 통해 상기 서버로부터 수신된 데이터를 상기 네비게이션 시스템에 전달하는 제어부를 더 포함한 다. 상기 네비 게이션 시스템의 경로 및 목적지는 상기 서버에 의해 제어된다. 상기 사용자 단말기는 사용자에 의해 휴대 가능한 이동 단말기, PC(Personal computer), 노트북 컴퓨터, 상기 차량의 사용자 인터페이스 장치 중 하나 이상을 포함한다. 상기 네비게이션 시스템은 상기 서버로부터 수신된 이동 경로를 상기 차량의 자율 주행 경로로 적용한다. 상기 네비게이션 시스템은 상기 차량이 상기 주차장에 주차되어 있는 동안, 상기 사용자 단말기를 통해 차량 서 비스가 추가될 때 상기 목적지를 상기 서비스 구역으로 설정한다. 본 발명의 서비스 제공 시스템은 감시 카메라 시스템, 서비스 제공자 서버, 및 통신 장치에 연결된 관리 서버를 포함하여 하나 이상의 차량 서비스를 제공하는 서비스 시스템; 상기 차량 서비스의 등록, 변경 및 취소를 안내 하는 유저 인터페이스 화면을 디스플레이 상에 표시하고, 통신 링크를 통해 상기 관리 서버와 연결되어 상기 관 리 서버로부터 수신된 데이터를 상기 디스플레이 상에 표시하고, 상기 사용자 데이터를 상기 관리 서버로 전송 하는 사용자 단말기를 포함한다. 상기 서비스 구역은 주차장과 이웃하게 배치된다. 상기 관리 서버는 상기 서 비스 구역의 차량 서비스의 등록, 변경, 및 취소를 상기 사용자 단말기로부터 수신한다. 상기 주차장 및 상기 서비스 구역의 진입로와 연결된 픽업 구역에서, 상기 차량 서비스 등록 여부에 따라 차량 이 상기 주차장 또는 상기 서비스 구역 시스템이 관리하는 서비스 구역으로 자율 주행하기 시작하고, 상기 차량 이 상기 주차장 또는 상기 서비스 구역으로부터 자율 주행으로 도착한다. 상기 서비스 제공자 서버는 차량 서비스 현황을 사기 관리 서버에 전송하고, 상기 관리 서버로부터 상기 차량 서비스의 등록, 취소, 및 변경을 수신한다. 상기 사용자 단말기는 사용자에 의해 휴대 가능한 이동 단말기, PC(Personal computer), 노트북 컴퓨터, 상기 차량의 사용자 인터페이스 장치 중 하나 이상을 포함한다. 상기 차량은 상기 주차장에 주차되어 있는 동안, 상기 사용자 단말기를 통해 차량 서비스가 추가 등록 될 때 상 기 서비스 구역으로 자율 주행하여 추가 등록 서비스를 받는다. 상기 차량은 상기 사용자 단말기를 통해 입력된 기 등록 차량 서비스가 있을 때 상기 서버로부터의 이동 경로를 따라 상기 차량이 상기 픽업 구역으로부터 상기 서비스 구역으로 자율 주행하기 시작한다. 상기 차량은 상기 기 등록 서비스가 완료될 때 상기 서비스 구역으로부터 상기 주차장으로 자율 주행한다. 상기 서버는 상기 사용자 단말기의 요청에 응답하여 상기 서비스 구역 내에서 상기 차량의 실시간 영상을 상기 사용자 단말기로 전송한다. 상기 사용자 단말기는 상기 차량의 실시간 영상을 상기 디스플레이 상에 표시한다. 상기 사용자 단말기는 기 등록 차량 서비스의 서비스 항목별 대기 시간, 서비스 시간, 및 총 소요 시간을 포함 한 서비스 관련 정보를 상기 디스플레이 상에 표시한다. 상기 서비스 관련 정보는 상기 서버로부터 수신되는 데이터에 따라 실시간 업데이트된다. 상기 사용자 단말기는 상기 기 등록 차량 서비스의 서비스 항목별 혼잡도를 상기 디스플레이 상에 표시한다. 상기 혼잡도는 상기 서버로부터 수신되는 데이터에 따라 실시간 업데이트된다. 상기 사용자 단말기는 완료된 차량 서비스 항목과 불가능한 서비스 항목을 상기 디스플레이 상에 표시한다. 상기 사용자 단말기는 상기 서버에 의해 설정된 이동 경로를 따라 상기 서비스 구역 내에서 서비스 진행 상황과 및 서비스 진행 비율을 상기 디스플레이 상에 표시한다. 상기 서비스 진행 상황과 및 서비스 진행 비율은 상기 서버로부터 수신되는 데이터에 따라 실시간 업데이트된다. 상기 서버는 상기 서비스 구역의 감시 카메라 시스템으로부터 수신된 차량별 상황 데이터를 수신 받는 컨텍스트 관리자; 상기 사용자 데이터와 상기 상황 데이터를 저장하는 데이터 베이스; 상기 사용자 단말기로부터 수신된 등록 차량 서비스를 제공하는 서비스 제공자들의 매점을 연결하는 이동 경로를 설정하고, 상기 상황 데이터를 바탕으로 상기 등록 차량 서비스 항목별 예상 시간을 계산하는 엔진; 차량 서비스 이용에 대한 비용 결제를 처 리하는 결제 모듈; 상기 사용자 프로파일을 바탕으로 차량 서비스 등록을 위한 사용자 인증을 처리하는 인증 및 사용자 프로파일 모듈; 상기 사용자 단말기를 통해 수신된 차량 서비스의 실시간 영상 요청에 응답하여 상기 차 량의 영상을 상기 사용자 단말기에 제공하는 모니터링 모듈; 및 네트워크를 통해 상기 사용자 단말기에 연결되 어 상기 사용자 단말기로부터의 데이터를 상기 엔진, 상기 결제 모듈, 및 상기 인증 및 사용자 프로파일 모듈에 전송하고, 상기 엔진, 상기 결제 모듈, 및 상기 인증 및 사용자 프로파일 모듈로부터의 데이터를 상기 사용자 단말기로 전송하는 서비스 핸들러를 포함한다. 상기 차량별 상황 데이터는 차량 번호, 상기 서비스 구역 내의 서비스 제공자들 각각의 매장에서 차량별 서비스 시작 시간 및 종료 시간을 포함한다. 상기 사용자 데이터는 사용자 정보, 차량 서비스 등록 데이터, 및 차량 서비스 항목별 예상 시간을 포함한다. 상기 차량 항목별 예상 시간은 등록 차량 서비스 항목별 예상 소요시간, 총 예상 시간, 및 예상 종료 시간을 포함한다. 본 발명의 서비스 제공 방법은 하나 이상의 차량 서비스를 제공하는 서비스 구역을 주차장에 이웃하게 배치하는 단계; 상기 차량이 픽업 구역으로부터 상기 서비스 구역으로 자율 주행하여 사용자 단말기를 통해 요청된 등록 차량 서비스를 상기 서비스 구역 내에서 받는 단계; 및 상기 등록 차량 서비스 완료후, 상기 차량이 주차장으로 부터 상기 픽업 구역으로 자율 주행하여 상기 픽업 구역에서 대기하는 단계를 포함한다. 상기 서비스 제공 방법은 상기 차량이 주차장에 주차되어 있는 동안, 상기 사용자 단말기를 통해 차량 서비스의 등록이 추가될 때 상기 차량이 상기 서비스 구역으로 자율 주행하여 추가 등록 서비스를 받는 단계를 더 포함한 다. 상기 서비스 제공 방법은 상기 차량 서비스의 등록, 변경 및 취소를 안내하는 유저 인터페이스 화면을 상기 사 용자 단말기의 디스플레이 상에 표시하는 단계; 상기 사용자 단말기를 통해 입력된 사용자 데이터를 상기 서비 스 구역의 차량 서비스 등록, 변경, 및 취소를 관리하는 서버로 전송하는 단계; 및 상기 서버로부터 발생된 데 이터를 상기 사용자 단말기에 전송하여 상기 사용자 단말기의 디스플레이 상에 표시되는 서비스 관련 정보를 실 시간 업데이트하는 단계를 더 포함한다. 상기 서비스 관련 정보가 서비스 항목별 대기 시간, 서비스 시간, 및 총 소요 시간을 포함한다. 상기 서비스 제공 방법은 상기 사용자 단말기의 요청에 응답하여 상기 서버는 상기 서비스 구역 내에서 상기 차 량의 실시간 영상을 상기 사용자 단말기로 전송하는 단계; 및 상기 사용자 단말기가 상기 차량의 실시간 영상을 상기 디스플레이 상에 표시하는 단계를 더 포함한다. 상기 서비스 제공 방법은 상기 서버가 상기 서비스 구역 내의 서비스 항목별 혼잡도를 상기 사용자 단말기로 전 송하는 단계; 및 상기 사용자 단말기가 상기 서비스 항목별 혼잡도를 상기 디스플레이 상에 표시하는 단계를 더 포함한다. 상기 서비스 제공 방법은 상기 서버가 완료된 차량 서비스 항목과 불가능한 서비스 항목을 상기 사용자 단말기 에 전송하는 단계; 및 상기 사용자 단말기가 상기 완료된 차량 서비스 항목과 상기 불가능한 서비스 항목을 상 기 디스플레이 상에 표시하는 단계를 더 포함한다. 상기 서비스 제공 방법은 상기 사용자 단말기가 상기 서버로부터 수신된 서비스 진행 상황과 서비스 진행 비율 을 상기 디스플레이 상에 표시하는 단계를 더 포함한다. 상기 서비스 제공 방법은 상기 서버가 상기 서비스 구역 내에서 상기 차량의 이동 경로를 설정하여 상기 차량으 로 전송하는 단계; 및 상기 차량은 상기 서버로부터의 이동 경로를 따라 상기 서비스 구역 내에서 자율 주행하 는 단계를 더 포함한다. 본 발명은 주차장으로 진입하기 전에 또는 주차장으로부터 진출하는 차량에게 차량 서비스를 제공함으로써 사용 자가 개인 용무를 보는 동안 사용자가 미리 등록한 차량 서비스를 사용자에게 제공할 수 있다. 본 발명은 주차장 근처에 주차와 연계된 차량 서비스를 제공하여 사용자의 편의성을 향상시킬 수 있음은 물론 차량 서비스 예상 소요 시간, 종료 시간, 실시간 현황 등을 UX 화면 상에 제공할 수 있다. 본 발명은 스마트 빌딩, 쇼팅몰 등에서 사용자의 편의성과 서비스 제공자들의 매출 증대 효과를 제공할 수 있다."}
{"patent_id": "10-2019-7019215", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 15, "content": "본 발명의 효과들은 이상에서 언급한 효과들로 제한되지 않으며, 언급되지 않은 또 다른 효과들은 청구범위의 기재로부터 당업자에게 명확하게 이해될 수 있을 것이다. 전술한 본 발명은, 프로그램이 기록된 매체에 컴퓨터가 읽을 수 있는 코드로서 구현하는 것이 가능하다. 컴퓨터 가 읽을 수 있는 매체는, 컴퓨터 시스템에 의하여 읽혀질 수 있는 데이터가 저장되는 모든 종류의 기록장치를 포함한다. 컴퓨터가 읽을 수 있는 매체의 예로는, HDD(Hard Disk Drive), SSD(Solid State Disk), SDD(Silicon Disk Drive), ROM, RAM, CD-ROM, 자기 테이프, 플로피 디스크, 광 데이터 저장 장치 등이 있으며, 또한 캐리어 웨이브(예를 들어, 인터넷을 통한 전송)의 형태로 구현되는 것도 포함한다. 따라서, 상기의 상세한 설명은 모든 면에서 제한적으로 해석되어서는 아니되고 예시적인 것으로 고려되어야 한다. 본 발명의 범위는 첨부된 청구항 의 합리적 해석에 의해 결정되어야 하고, 본 발명의 등가적 범위 내에서의 모든 변경은 본 발명의 범위에 포함 된다.도면 도면1 도면2 도면3 도면4 도면5 도면6 도면7 도면8 도면9 도면10 도면11 도면12 도면13 도면14 도면15 도면16 도면17 도면18 도면19 도면20 도면21 도면22 도면23 도면24 도면25 도면26 도면27 도면28 도면29 도면30 도면31 도면32 도면33 도면34 도면35 도면36 도면37 도면38 도면39 도면40 도면41 도면42 도면43 도면44 도면45 도면46 도면47 도면48 도면49 도면50 도면51 도면52 도면53 도면54 도면55 도면56 도면57 도면58 도면59 도면60 도면61 도면62 도면63 도면64 도면65a 도면65b 도면65c 도면66 도면67 도면68 도면69 도면70 도면71 도면72 도면73a 도면73b 도면74 도면75 도면76 도면77"}
{"patent_id": "10-2019-7019215", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 명세서에서 제안하는 방법들이 적용될 수 있는 무선 통신 시스템의 블록 구성도를 예시한다. 도 2는 5G 통신 시스템에서 자율 주행 차량과 5G 네트워크의 기본동작의 일 예를 나타낸다. 도 3은 5G 통신 시스템에서 자율 주행 차량과 5G 네트워크의 응용 동작의 일 예를 나타낸다. 도 4 내지 도 7은 5G 통신을 이용한 자율 주행 차량의 동작의 일 예를 나타낸다. 도 8은 5G 통신을 이용한 차량 대 차량 간의 기본 동작의 일 예를 예시한다. 도 9 내지 도 10은 5G 통신을 이용한 차량 대 차량 간의 응용 동작의 일 예를 예시한다. 도 11은 3GPP 신호 전송/수신 방법의 일례를 나타낸 도이다. 도 12는 SSB 구조를 예시하고, 도 13은 SSB 전송을 예시한다. 도 14은 임의 접속 과정의 일례를 예시한다. 도 15는 상향링크 그랜트의 일례를 나타낸다. 도 16는 상향링크 물리 채널 프로세싱(uplink physical channel processing)의 개념도의 일례를 나타낸다. 도 17은 PUCCH가 전송되는 NR 슬롯의 일례를 나타낸다. 도 18은 하이브리드 빔포밍(hybrid beamforming)을 위한 전송단 및 수신단의 블록도의 일례를 나타낸 도이다. 도 19는 SSB와 CSI-RS를 이용한 빔포밍의 일례를 나타낸다. 도 20은 SSB를 이용한 DL BM 과정의 일례를 나타낸 흐름도이다. 도 21은 CSI-RS를 이용한 DL BM 과정의 또 다른 일례를 나타낸다. 도 22는 UE의 수신 빔 결정 과정의 일례를 나타낸 흐름도이다. 도 23은 BS의 전송 빔 결정 과정의 일례를 나타낸 흐름도이다. 도 24는 도 21의 동작과 관련된 시간 및 주파수 도메인에서의 자원 할당의 일례를 나타낸다. 도 25는 SRS를 이용한 UL BM 과정의 일례를 나타낸다. 도 26은 SRS를 이용한 UL BM 과정의 일례를 나타낸 흐름도이다. 도 27은 프리엠션 지시 방법의 일례를 나타낸 도이다. 도 28은 프리엠션 지시의 시간/주파수 세트(timefrequency set)의 일례를 나타낸다. 도 29는 협대역 동작 및 주파수 다이버시티의 일 예를 나타낸다. 도 30은 MTC에 이용될 수 있는 물리 채널들 및 이들을 이용한 일반적인 신호 전송 방법을 나타낸 도이다. 도 31은 MTC와 기존(legacy) LTE 각각에 대한 스케줄링의 일례를 나타낸 도이다. 도 32는 부반송파 간격이 15kHz인 경우의 프레임 구조의 일 예를 나타낸다. 도 33은 부반송파 간격이 3.75kHz인 경우의 프레임 구조의 일 예를 나타낸다. 도 34는 NB-IoT 상향링크에 대한 자원 그리드의 일 예를 나타낸다. 도 35는 NB-IoT 동작 모드의 일 예를 나타낸다. 도 36은 NB-IoT에 이용될 수 있는 물리 채널들 및 이들을 이용한 일반적인 신호 전송 방법의 일 예를 나타낸 도 이다. 도 37은 사이드링크의 다양한 시나리오들을 나타낸다. 도 38은 사이드링크의 프로토콜 스택을 나타낸다. 도 39는 사이드링크의 제어 평면 프로토콜 스택을 나타낸다. 도 40은 사이드링크 통신 Mode 1/Mode 3에서 시그널링 전송/수신 방법의 일 예를 나타낸다. 도 41은 사이드링크 통신을 위한 하향링크 제어 정보 전송의 일 예를 나타낸다. 도 42는 V2X 어플리케이션의 타입의 예를 나타낸다. 도 43은 V2X 사이드링크에서의 자원 할당 방법을 나타낸다. 도 44는 모드 3 동작의 일 예를 나타낸다. 도 45는 모드 4 동작의 일 예를 나타낸다. 도 46은 모드 4의 센싱 및 자원 선택의 일 예를 나타낸다. 도 47은 V2X 전송 자원 선택/예약의 일 예를 나타낸다. 도 48 내지 도 50은 V2X SL 통신을 지원하는 독립형(standalone) 시나리오를 나타낸다. 도 51 내지 도 53은 V2X SL 통신을 지원하는 MR-DC 시나리오를 나타낸다. 도 54는 본 발명의 실시 예에 따른 차량의 외관을 도시한 도면이다. 도 55는 본 발명의 실시 예에 따른 차량을 외부의 다양한 각도에서 바라 본 도면이다. 도 56 및 도 57은 본 발명의 실시 예에 따른 차량의 내부를 보여 주는 도면이다. 도 58 및 도 59는 본 발명의 실시 예에 따른 차량의 주행과 관련된 객체들(objects)의 예를 보여 주는 도면들이 다. 도 60은 본 발명의 실시 예에 따른 차량을 상세히 보여 주는 블럭도이다. 도 61은 본 발명의 실시 예에 따른 자율 차량을 이용한 서비스 제공 시스템을 보여 주는 도면이다. 도 62는 도 61에 도시된 서버 구성을 보여 주는 블럭도이다. 도 63은 도 61에 도시된 시스템의 제어 방법을 보여 주는 상태 천이도(State Transition Diagram)이다. 도 64는 본 발명의 실시 예에 따른 자율 차량을 이용한 서비스 등록, 변경, 및 취소의 일 예를 보여 주는 흐름 도이다. 도 65a 내지 도 65c는 일반 주행 모드, 자율 주행 주차 모드, 차량 서비스 모드, 및 주차 모드에서 UX 화면의 일 예 보여 주는 도면들이다. 도 66은 차량 서비스 등록/변경을 안내하는 UX 화면의 일 예를 보여 주는 도면이다.도 67은 본 발명의 실시 예에 따른 자율 차량을 이용한 서비스 제공 방법에서 서비스 실시간 상황 제공 방법을 보여 주는 흐름도이다. 도 68은 본 발명의 실시 예에 따른 자율 차량을 이용한 서비스 제공 방법에서 서비스 추천 방법의 일 예를 보여 주는 흐름도이다. 도 69는 서비스 구역 내에서 차량의 실시간 서비스 상황을 보여 주는 UX 화면의 일 예이다. 도 70은 서비스 가능한 차량 서비스 추천 방법을 보여 주는 순서도이다. 도 71은 서비스 추천을 위한 UX 화면의 일 예를 보여 주는 도면이다. 도 72는 차량의 일반 주행 모드에서 서비스 등록/변경 방법의 일 예를 보여 주는 순서도이다. 도 73a는 도 72에 도시된 서비스 등록/변경에서 기 등록 차량 서비스가 있을 때 제공되는 UX 화면의 일 예를 보 여 주는 화면의 일 예를 보여 주는 도면이다. 도 73b는 도 72에 도시된 서비스 등록/변경에서 기 등록 차량 서비스가 없을 때 제공되는 UX 화면의 일 예를 보 여 주는 화면의 일 예를 보여 주는 도면이다. 도 74는 자율 주차 모드 또는 차량 서비스 모드에서 제공되는 UX 방법을 보여 주는 순서도이다. 도 75는 도 74에 도시된 UX 방법에서 실시간 현황 UX 화면의 일 예를 보여 주는 도면이다. 도 76는 차량 서비스의 등록/변경, 실시한 현황, 실시간 영상 및 주차 정보를 선택할 때 UX 방법의 일 예를 보 여 주는 순서도이다. 도 77은 등록된 차량 서비스에 따라 차량의 자율 주행 이동 경로의 일 예를 보여 주는 도면이다."}
