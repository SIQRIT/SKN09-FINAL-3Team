{"patent_id": "10-2019-0106660", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2020-0057608", "출원번호": "10-2019-0106660", "발명의 명칭": "인공지능 기술을 이용한 배기가스 배출량 예측방법", "출원인": "아이덴티파이 주식회사", "발명자": "김의중"}}
{"patent_id": "10-2019-0106660", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "장단기메모리 인공신경망(Long Short Term Memory neural network)을 포함하는 인공지능 모듈의 인공지능 기술을 이용한 배기가스 배출량 예측방법에 있어서,상기 장단기메모리 인공신경망이 자동차를 구성하는 복수의 부품들 각각에 연결된 부품 센서로부터 수신된 전기신호를 이용하여 자동차 배기가스 배출량의 예측값을 계산하는 단계;상기 장단기메모리 인공신경망이 배기가스 측정센서로부터 상기 자동차의 배기가스 배출량에 대한 실측값을 수신하는 단계;상기 장단기메모리 인공신경망이 상기 예측값과 상기 실측값의 차이인 에러값이 임계값 이내로 수렴하도록 상기장단기메모리 인공신경망의 가중치를 보정하는 학습을 수행하는 단계; 및상기 장단기메모리 인공신경망의 학습이 완료된 이후, 상기 장단기메모리 인공신경망이 상기 부품 센서로부터수신된 전기신호를 상기 장단기메모리 인공신경망에 적용하여 상기 자동차의 배기가스 배출량을 결정하는 단계를 포함하고, 상기 자동차 배기가스 배출량의 예측값을 계산하는 단계는, 이전 시점 정보와 현재 시점에 입력된 전기신호 각각에 가중치를 적용하여 상기 이전 시점 정보의 중요도에 대한 상실 게이트 값을 계산하는 단계;이전 시점 정보와 상기 현재 시점에 입력된 전기신호 각각에 가중치를 적용하여 상기 현재 시점에 입력된 전기신호의 중요도에 대한 입력 게이트 값을 계산하는 단계;상기 상실 게이트 값, 상기 입력 게이트 값, 기계산된 이전 시점의 상태 게이트 값을 기초로 현재 시점의 상태게이트 값을 계산하는 단계;상기 현재 시점에 입력된 전기신호와 상기 이전 시점 정보를 합산하여 출력값을 계산하는 단계;상기 장단기메모리 인공신경망이 상기 현재 시점의 상태 게이트 값과 상기 출력값을 기초로 현재 시점 정보를생성하는 단계; 및상기 장단기메모리 인공신경망이 상기 현재 시점 정보를 상기 예측값으로 판단하는 단계를 포함하는 인공지능기술을 이용한 배기가스 배출량 예측방법."}
{"patent_id": "10-2019-0106660", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "장단기메모리 인공신경망(Long Short Term Memory neural network)을 포함하는 인공지능 서버의 인공지능 기술을 이용한 배기가스 배출량 예측방법에 있어서,상기 인공지능 서버가 자동차를 구성하는 복수의 부품들 각각에 연결된 부품 센서로부터 수신된 전기신호를 이용하여 자동차 배기가스 배출량의 예측값을 계산하는 단계;상기 인공지능 서버가 배기가스 측정센서로부터 상기 자동차의 배기가스 배출량에 대한 실측값을 수신하는단계;상기 인공지능 서버가 상기 예측값과 상기 실측값의 차이인 에러값이 임계값 이내로 수렴하도록 상기 장단기메모리 인공신경망의 가중치를 보정하는 학습을 수행하는 단계;상기 장단기메모리 인공신경망의 학습이 완료된 이후, 상기 인공지능 서버가 상기 부품 센서로부터 수신된 전기신호를 상기 장단기메모리 인공신경망에 적용하여 상기 자동차의 배기가스 배출량을 결정하는 단계; 및상기 인공지능 서버가 상기 자동차로부터 수신된 GPS 위치정보에 대응하여 지역별 자동차의 배기가스 배출량을실시간으로 예측하는 단계를 포함하고, 공개특허 10-2020-0057608-3-상기 자동차 배기가스 배출량의 예측값을 계산하는 단계는, 이전 시점 정보와 현재 시점에 입력된 전기신호 각각에 가중치를 적용하여 상기 이전 시점 정보의 중요도에 대한 상실 게이트 값을 계산하는 단계;이전 시점 정보와 상기 현재 시점에 입력된 전기신호 각각에 가중치를 적용하여 상기 현재 시점에 입력된 전기신호의 중요도에 대한 입력 게이트 값을 계산하는 단계;상기 상실 게이트 값, 상기 입력 게이트 값, 기계산된 이전 시점의 상태 게이트 값을 기초로 현재 시점의 상태게이트 값을 계산하는 단계;상기 현재 시점에 입력된 전기신호와 상기 이전 시점 정보를 합산하여 출력값을 계산하는 단계;상기 장단기메모리 인공신경망이 상기 현재 시점의 상태 게이트 값과 상기 출력값을 기초로 현재 시점 정보를생성하는 단계; 및상기 장단기메모리 인공신경망이 상기 현재 시점 정보를 상기 예측값으로 판단하는 단계를 포함하는 인공지능기술을 이용한 배기가스 배출량 예측방법."}
{"patent_id": "10-2019-0106660", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명의 인공지능 기술을 이용한 배기가스 배출량 예측방법, 인공지능 모듈이 자동차를 구성하는 복수의 부품 들 각각에 연결된 부품 센서에 의해 생성된 전기신호를 상기 자동차의 전자제어유닛으로부터 수신하는 단계와, 상기 인공지능 모듈이 상기 전기신호를 미리 학습된 인공신경망에 적용하여 상기 자동차의 배기가스 배출량을 예 측하는 단계를 포함한다."}
{"patent_id": "10-2019-0106660", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 인공지능 기술을 이용한 배기가스 배출량 예측방법에 관한 것으로서, 더 상세하게는 자동차의 각 부 품 센서로부터 제공된 전기신호만을 이용하여 자동차 배기가스 배출량을 예측하는 자동차의 배기가스 배출량 예 측방법에 관한 것이다."}
{"patent_id": "10-2019-0106660", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "인공지능은 인간의 지능으로 할 수 있는 사고, 학습, 자기계발 등을 컴퓨터가 할 수 있도록 하는 방법을 연구하 는 컴퓨터 공학 및 정보기술의 한 분야로서, 컴퓨터가 인간의 지능적인 행동을 모방할 수 있도록 하는 것을 말 한다. 최근에는 방대한 빅데이터들을 분석해 미래를 예측하는 머신러닝 기술이 주목받고 있다. 머신러닝은 데이터를 수집, 분석해 미래를 예측한다는 점에서 빅데이터 분석과 유사하지만 컴퓨터 스스로 방대한 데이터를 수집, 학 습할 수 있다는 점에서 차이가 있다. 이는 인공지능(Artificial Intelligence)의 한 분야로, 빅데이터 핵심 기 술로 각광받고 있다. 한편, 지구 온난화 및 미세먼지를 유발하는 인자는 주로 화석연료를 사용할 때 발생하며, 특히 자동차에 사용되 는 가솔린과 디젤엔진에서 배출되는 탄소산화물(COx), 질소산화물(NOx)은 그 중 상당 부분을 차지한다. 정부는 대기오염을 방지의 일환으로 자동차 배기가스 배출기준을 엄격히 관리하고 있으며, 배기가스 배출 시험을 통과 한 자동차에만 운행자격을 제공하고 있다. 일반적으로 배기가스 배출 시험은 정비소에 설치되어 있는 고정형 측 정 장비를 통해 이루어지고 있고 자동차가 정지된 상태에서 진행되므로, 측정된 결과는 실제 운행시 발생하는 배기가스 배출량과의 괴리를 보인다. 이러한 부정확성을 개선하기 위해 일부 국가들은 자동차를 운행하면서 배기가스 배출량을 점검하는 RDE(Real Driving Emission) 방법을 공식적으로 도입하고 있다. RDE는 상당히 높은 정확성을 보장하지만, 한번 시험할 때 마다 설치 및 초기화 등에 많은 시간이 소요되고, 높은 검사비용을 요구하는 어려움이 있다."}
{"patent_id": "10-2019-0106660", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 목적은, 적은 시간과 저비용으로도 정확하게 자동차의 배기가스 배출량을 측정할 수 있는 인공지능 기술을 이용한 배기가스 배출량 예측방법을 제공함에 있다."}
{"patent_id": "10-2019-0106660", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "전술한 목적을 달성하기 위하여, 본 발명의 인공지능 기술을 이용한 배기가스 배출량 예측방법은, 인공지능 모 듈이 자동차를 구성하는 복수의 부품들 각각에 연결된 부품 센서에 의해 생성된 전기신호를 상기 자동차의 전자 제어유닛으로부터 수신하는 단계와, 상기 인공지능 모듈이 상기 전기신호를 미리 학습된 인공신경망에 적용하여 상기 자동차의 배기가스 배출량을 예측하는 단계를 포함한다. 본 발명의 다른 특징에 의하면, 상기 자동차의 전자제어유닛으로부터 수신하는 단계는, 상기 인공지능 모듈이 상기 자동차의 통신부와 유선 통신 및 무선 통신 중 어느 하나를 통해 상기 전기신호를 수신할 수 있다. 본 발명의 또 다른 특징에 의하면, 상기 통신부는 3G/LTE 통신 모듈, 블루투스 모듈, OBD(On Board Diagnostics) 모듈, 및 OBD-2 모듈 중 적어도 하나를 포함할 수 있다. 본 발명의 또 다른 특징에 의하면, 상기 인공지능 기술을 이용한 배기가스 배출량 예측방법은, 상기 인공지능 모듈이 배기가스 측정센서에 의해 상기 자동차의 배기가스 배출량을 측정된 실측값을 수신하는 단계와, 상기 인 공지능 모듈이 상기 전기신호와 상기 실측값을 기초로 인공신경망 학습 과정을 수행하는 단계를 더 포함할 수 있다. 본 발명의 또 다른 특징에 의하면, 상기 인공신경망 학습 과정을 수행하는 단계는, 상기 전기신호를 기초로 배 기가스 예측결과를 생성하는 피드포워드 과정을 수행하는 단계와, 상기 피드포워드 과정을 통해 생성된 배기가 스 예측결과와 상기 실측값과의 차이인 에러값을 기초로 상기 인공신경망의 가중치를 보정하는 역전파 과정을 수행하는 단계를 포함하고, 상기 인공신경망은 매트릭스 형태로 서로 연결된 복수의 노드로 구성되며, 상기 전 기신호가 입력되는 입력층, 상기 입력층에 입력된 전기신호에 가중치를 적용하는 은닉층, 및 상기 은닉층으로부 터 출력된 값을 상기 배기가스 예측결과로 결정하는 출력층을 포함할 수 있다. 본 발명의 또 다른 특징에 의하면, 상기 역전파 과정을 수행하는 단계는, 상기 배기가스 예측결과와 실측값을 비교하여 상기 배기가스 예측결과와 실측값 사이의 차이가 임계값보다 큰 경우, 상기 차이가 상기 임계값 이내 에 수렴하도록 상기 가중치를 보정하는 상기 역전파 과정을 수행할 수 있다. 본 발명의 또 다른 특징에 의하면, 상기 역전파 과정을 수행하는 단계는 하기의 수식들에 의해 상기 가중치를 계산하고, 및 , 여기서, yi 는 상기 실측값을 의미하고, pi는 상기 배기가스 예측결과를 의미하고, 상기 Loss는 상기 실측값과 상기 배기가스 예측결과의 차이에 따른 손실값을 의 미할 수 있다. 또한, 전술한 목적을 달성하기 위하여, 상기 인공지능 기술을 이용한 배기가스 배출량 예측방법은, 인공지능 서 버가 자동차의 통신 모듈로부터 상기 자동차를 구성하는 복수의 부품들 각각에 연결된 부품 센서의 전기신호를 수신하는 단계와, 상기 인공지능 서버가 상기 전기신호를 미리 학습된 인공신경망에 적용하여 상기 자동차의 배 기가스 배출량을 예측하는 단계를 포함한다. 본 발명의 또 다른 특징에 의하면, 상기 인공지능 기술을 이용한 배기가스 배출량 예측방법은, 상기 인공지능 서버가 상기 자동차의 GPS 위치정보를 수신하는 단계를 더 포함하고, 상기 배기가스 배출량을 실시간으로 예측 하는 단계는 상기 자동차의 위치에 따른 상기 자동차의 배기가스 배출량을 실시간으로 예측할 수 있다."}
{"patent_id": "10-2019-0106660", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 인공지능 기술을 이용한 배기가스 배출량 예측방법에 의하면, 배기가스 배출량 규제 테스트시마다 배 기가스 측정센서를 이용하여 일정기간 동안 자동차의 배기가스 배출량을 측정하지 않아도, 자동차로부터 제공된 전기신호만을 이용하여 자동차의 배기가스 배출량을 정확하게 예측할 수 있다."}
{"patent_id": "10-2019-0106660", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하에서는 본 발명의 실시 예에 관하여 첨부도면을 참조하여 상세하게 설명하기로 한다. 다만, 이하에서 설명"}
{"patent_id": "10-2019-0106660", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "되는 실시 예는 본 발명이 속하는 기술분야에서 통상의 지식을 가진 자가 발명을 쉽게 실시할 수 있을 정도로 상세하게 설명하기 위한 것에 불과하며, 이로 인해 본 발명의 보호범위가 한정되는 것을 의미하지는 않는다. 그 리고 본 발명의 여러 실시 예를 설명함에 있어서, 동일한 기술적 특징을 갖는 구성요소에 대하여는 동일한 도면 부호를 사용하기로 한다. 도 1은 본 발명의 실시 예에 따른 인공지능 기술을 이용한 배기가스 배출량 예측시스템의 개략적인 블록도이고, 도 2는 본 발명의 실시 예에 따른 인공지능 기술을 이용한 배기가스 배출량 예측시스템의 개념도이다. 도 1을 참조하면, 인공지능 기술을 이용한 배기가스 배출량 예측시스템은 전자제어유닛(Electronic Control Unit(ECU), 110), 통신부, 및 저장부를 포함하는 자동차와 자동차의 배기가스 배출량을 예측하는 인공지능 모듈을 포함한다. 자동차는 조향장치, 변속기, 클러치, 브레이크, 연료계, 진동계 및 가속도계 등 자동차를 구성하는 수많은 부품으로 구성된다. 전자제어유닛은 자동변속기 제어를 비롯해 구동계통, 제동계통, 조향계통 등과 관련된 부품을 제어하는 역할을 담당한다. 전자제어유닛은 자동차의 부품을 제어하기 위해 각 부품에 장착된 센서들, 예컨대 조향장치 센서, 변속기 센서, 클러치 센서, 브레이크 센서 등으로부터 전기신호(ES)를 수집할 수 있다. 통신부는 인공지능 모듈과 유선 또는 무선으로 통신할 수 있다. 실시 예에 따라, 통신 모듈은 OBD(On Board Diagnostics) 모듈, OBD-2 모듈, RF(radio frequency) 통신 모듈, 루비(rubee) 통신 모듈, 지그 비(zigbee) 통신 모듈, 적외선 통신 모듈, 블루투스(bluetooth) 통신 모듈, 3G/LTE 통신 모듈 중 적어도 하나를 포함할 수 있다. 저장부는 전자제어유닛에서 수집되는 전기신호(ES)를 데이터 시트로 저장할 수 있다. 실시 예에 따라, 저장부는 휘발성 메모리 장치 및/또는 불휘발성 메모리 장치를 포함할 수 있다. 인공지능 모듈은 전자제어유닛에서 수집된 전기신호(ES)를 제공받아 배기가스 예측결과(P_GAS)를 산 출할 수 있다. 인공지능 모듈은 통신부로부터 전기신호(ES)를 수신하면, 인공신경망(ANN)에 전기신호(ES)를 적용하 여 자동차의 배기가스 배출량(GAS)을 예측할 수 있다. 이때, 자동차 모델, 연식 등과 같은 차량 정보와 연료파 이프 압력, 엔진 RPM, 공기유입량, 차량의 내부 및 외부 온도 등 외부 요인에 따라 연료의 소모량이 다를 수 있 고, 차량 상태에 따라 배기가스 배출량(GAS)도 달라질 수 있다. 따라서, 인공지능 모듈은 차량 정보와 외부 요인에 대응하여 정확하게 배기가스 배출량(GAS)을 예측하기 위해 인공신경망 학습 과정을 수행할 수 있다. 도 2를 참조하면, 전자제어유닛은 조향장치, 변속기, 클러치, 브레이크, 연료계, 진동계 및 가속도계 등을 담당하는 각 센서로부터 전기신호(ES)를 수신할 수 있다. 전자제어유닛은 전기신호(ES)를 저장부에 저장할 수 있으며, 실시간으로 통신부를 통해 인공지 능 모듈에 제공할 수 있다. 인공지능 모듈은 미리 설계된 인공신경망(ANN)에 전기신호(ES)를 적용하여 자동차의 배기가스 배출량 (GAS)을 예측하는 과정을 수행할 수 있다. 예컨대, 인공지능 모듈은 자동차의 각 센서로부터 수집된 차량 모델, 연식, 마일리지, 연료파이프압 력, 엔진 RPM, 공기유입량, 외부온도 등에 관한 전기신호(ES)를 인공신경망(ANN)에 적용하여 자동차의 배기가스에 포함된 탄소산화물(COx)과 질소산화물(NOx)의 수치를 계산할 수 있다. 따라서, 본 발명의 실시 예에 따른 인공지능 기술을 이용한 배기가스 배출량 예측시스템은 별도의 배기가스 측정센서를 이용하여 일정기간 동안 자동차의 배기가스 배출량을 측정하지 않아도, 자동차로의 각 부품에서 측 정된 전기신호(ES)만을 이용하여 배기가스 배출량(GAS)을 정확하게 예측할 수 있다. 도 3은 본 발명의 실시 예에 따른 자동차 내부를 개략적으로 도시한 도면이다. 도 3을 참조하면, 인공지능 모듈은 자동차 내부에 직접 삽입되어 통신부와 유선 통신을 수행할 수 있 다. 즉, 인공지능 모듈은 자동차 내부에 구비된 연결부재(CN), 예컨대 16핀 커넥터를 통해 OBD(On Board Diagnostics) 모듈 또는 OBD-2 모듈과 유선 통신을 수행할 수 있다. 종래에는 자동차의 배기가스 배출량을 검사하기 위해 별도로 자동차에 배기가스 측정 센서를 부착한 후 일정기 간 동안 배출량을 측정해야 하는 번거로움이 있었다. 하지만, 본 발명의 실시 예에 따른 인공지능 모듈은 자동차의 연결부재(CN)에 직접 삽입될 수 있는 소형의 휴대 장치로 구현될 수 있기 때문에, 시간과 장소에 구애받지 않고 자동차의 배기가스 배출량을 예측할 수 있다. 한편, 인공지능 모듈은 도 2에 도시된 바와 같이 휴대 장치로 구현되어 자동차의 내부의 연결부재(CN)에 직접 삽입될 수 있는 형태일 수 있으나, 이에 한정되는 것은 아니며 자동차에 내장된 상태로 설계될 수도 있다. 구체적으로, 자동차의 내부에는 인공지능 모듈과 동일한 기능을 수행하는 인공지능 알고리즘을 탑재 한 인공지능 모듈이 포함될 수 있다. 전자제어 유닛은 인공지능 모듈에 전기신호(ES)를 제공할 수 있고, 인공지능 모듈은 전기신호(ES)를 기초로 자동차의 배기가스 배출량(GAS)을 예측할 수 있다. 배기가스 예측결과(P_GAS)는 통신부를 통해 외부의 장치에 제공되거나, 자동차 내부에 구비된 표시 장치 상에 표시 될 수 있다. 다른 실시 예에 따라, 통신부는 인공지능 알고리즘을 실행하는 인공지능 서버에 직접 전기신호(ES) 또는 데이터 시트를 제공할 수 있고, 인공지능 서버 수신된 전기신호(ES) 또는 데이터 시트를 이용하여 자동차의 배 기가스 배출량(GAS)을 예측할 수 있다. 인공지능 서버를 이용하여 배기가스 배출량(GAS)을 예측하게 되면, 별도로 자동차와 인접한 위치에 인공지 능 모듈을 위치할 필요가 없으며, 인공지능 모듈보다 배기가스 배출량(GAS)을 분석하는 연산속도가 빠른 장점이 있다. 또한, 인공지능 서버에 통신부로부터 자동차의 GPS 위치정보도 함께 제공되는 경우, 인공지능 서버는 자동 차의 실시간 위치를 판단할 수 있을 뿐만 아니라 실시간 배기가스 배출량(GAS)도 예측할 수 있다. 도 4는 본 발명의 다른 실시 예에 따른 인공지능 기술을 이용한 배기가스 배출량 예측시스템의 개략적인 블록도 이다. 도 4에서는 중복된 설명을 피하기 위해, 상술한 실시 예와 상이한 점을 중심으로 설명하며, 상술한 실시 예와 동일한 번호는 동일한 구성요소를, 유사한 번호는 유사한 구성 요소를 지칭한다. 도 4를 참조하면, 인공지능 모듈은 배기가스 예측결과(P_GAS)와 실제로 자동차가 배출하는 배기가스 배출량(GAS)과의 오차를 줄이기 위해 인공신경망 학습 과정을 수행할 수 있다. 인공지능 기술을 이용한 배기가스 배출량 예측시스템(10')은 자동차의 배기가스 배출량을 측정하는 배기가 스 측정센서를 포함할 수 있다. 배기가스 측정센서는 전기신호(ES)를 배출하는 특정시점 또는 특정기간 동안에 자동차의 배기가스 배 출량(GAS)을 측정하여 실측량(RD)을 인공지능 모듈에 제공할 수 있다. 인공지능 모듈은 특정 시점 또는 특정기간 동안에 생성된 전기신호(ES)와 실측량(RD)을 비교하여 두 값의 차이가 임계값 이내로 수렴하도록 인공신경망(ANN)의 가중치를 조절하는 인공신경망 학습 과정을 수행할 수 있 다. 이러한 인공신경망 학습 과정은 직면하는 모든 환경에 대한 데이터를 학습하기 위해서 환경 조건을 변경하 면서 반복 시행될 수 있다.인경신경망 학습 과정을 완료하면, 인공지능 모듈은 전자제어유닛으로부터 수신된 전기신호(ES)를 기 초로 배기가스 예측결과(P_GAS)를 산출할 수 있고, 배기가스 예측결과(P_GAS)는 자동차의 배기가스 배출량 규제 테스트 등에 활용될 수 있다. 도 5는 본 발명의 실시 예에 따른 인공신경망을 설명하기 위한 도면이다. 도 5를 참조하면, 인공지능 모듈은 인공신경망(Artificial Neural Network, ANN)의 일종인 다층 퍼셉트론 (Multi Layered Perceptron) 및 순환신경망(Recurrent Neural Network, RNN) 중 적어도 하나를 인공지능 알고 리즘으로 이용할 수 있다. 본 발명의 인공신경망(ANN)은 복수의 노드들로 이루어진 입력층(IL), 은닉층(HL), 및 출력층(OL)을 포함할 수 있으며, 각 층은 시간에 따른 변화를 반영하기 위해 확장되거나 축소될 수 있다. 인공신경망 학습 과정은 입력층(IL)으로 입력된 전기신호(ES)를 배기가스 예측결과로 도출하는 과정인 피드포워 드(feedforward) 과정과 실측값을 기초로 배기가스 예측결과를 보정하기 위해 인공신경망의 가중치를 변경하는 역전파 과정이 있다. 도 5에 도시된 피드포워드 과정은 다층 퍼셉트론 인공신경망에서 입력층(IL)에 입력된 전기신호(ES)가 은닉층 (HL)을 통해 출력층(OL)으로 진행되면서 정보의 구체화가 이루어지는 과정이다. 입력층(IL), 은닉층(HL), 및 출력층(OL) 각각의 노드는 선행하는 층 및 후행하는 층과 노드로 연결되어 있고, 통신부를 통해 수신된 전기신호(ES)는 입력층(IL)의 노드들에 입력될 수 있다. 그리고, 입력층(IL)의 노드 들에 입력된 전기 신호(ES)는 순차적으로 은닉층(HL)의 노드들을 거쳐 출력층(OL)의 노드들에 전달 수 있다. 이때, 전기신호(ES)의 종류에 따라 각기 대응되는 노드가 있기 때문에, 특정한 전기신호(ES)가 입력층(IL)에 입 력되면 대응하는 노드를 통해서만 은닉층(HL) 및 출력층(OL)으로 전달된다. 만약, 인공신경망(ANN)이 순환신경망 형태를 갖는다면, 입력층(IL), 은닉층(HL), 출력층(OL)은 순차적인 사건 (sequence event)을 고려한 형태로 확장될 수 있다. 이 경우 전기신호(ES)의 전달 경로는 시간별 입력층(IL), 은닉층(HL), 출력층(OL)이며, 은닉층(HL) 단계에서 이전 시점의 정보를 출력층(OL) 및 다음 시점의 은닉층(HL) 으로 전달하는 경로가 추가될 수 있다. 피드포워드 과정에서 입력층(IL)은 입력 데이터를 받아들이는 기능을 하며, 입력층(IL)의 노드 개수는 수신된 전기신호(ES)의 특성 개수와 일치한다. 만약, 수집된 전기신호(ES)가 100개라면 입력층(IL)의 노드 수는 100개 가 되며, 입력층(IL)의 각 노드들은 부품들 각각에 대응될 수 있다. 예컨대, 입력층(IL)은 차량 모델, 차량 연식, 총 주행거리, 연료파이프 압력, 엔진 RPM, 공기유입량, 내부온도, 외부온도 등의 정보에 각각 대응하는 노드들을 포함하고 있으며, 상기 정보를 포함하는 전기신호(ES)들은 해당 하는 노드에 입력될 수 있다. 그리고, 출력층(OL)의 노드들은 배기가스를 유발하는 인자들의 값을 의미할 수 있다. 예컨대, 출력층의 노드들 각각은 탄소산화물(COx)과 질소산화물(NOx)에 대한 값을 의미할 수 있다. 피드포워드의 첫 단계로는 앞 층에서 전달받은 데이터를 가중치를 고려해 아래의 수학식 1과 같이 선형적으로 합산한다. 여기서, h1 j는 은닉층(HL)의 첫 번째 층의 j번째에 해당하는 노드를 의미하고, ωx ij는 입력층(IL)의 노드들에 입력된 전기신호(ES)가 은닉층(HL)의 첫 번째 층으로 전달될 때 적용되는 가중치를 의미한다. 이때, i 와 j는 자연수로서 각각 전기신호(ES)의 개수와 은닉층(HL)의 첫 번째 층의 노드 개수를 의미한다. 그리고, xi 는 입력층(IL)의 i번째 노드를 의미한다. 수학식 1"}
{"patent_id": "10-2019-0106660", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "그리고, 두 번째 단계는 첫 번째 층의 노드들 각각에서 합산된 값을 하기 수학식 2에 적용하여 은닉층(HL)의 두 번째 층의 노드들로 피드포워드를 수행한다. 수학식 2"}
{"patent_id": "10-2019-0106660", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "여기서, h2 k는 은닉층(HL)의 두 번째 층의 k번째 노드를 의미하고, ωh1 jk는 은닉층(HL)의 두 번째 층으로 전달된 계산값이 은닉층(HL)의 두 번째 층으로 전달될 때 적용되는 가중치를 의미한다. 이때, k는 자연수로서 은닉층 (HL)의 두 번째 층의 노드 개수를 의미한다. 이와 같이 피드포워드 방식으로 계산값은 마지막 층인 출력층(OL)으로 전달되고, 출력층(OL)으로 전달된 계산값 은 배기가스 예측 결과로 결정된다. 즉, 출력층(OL)의 각 노드로 출력되는 계산값은 탄소산화물(COx), 질소산화 물(NOx) 등에 대한 예측 결과값을 의미할 수 있다. 따라서, 본 발명의 인공지능 기술을 이용한 RDE(Real Driving Emission) 예측 시스템은 자동차의 각 부품 센서로부터 제공된 전기신호(ES)를 이용하여 자동차가 배출하는 배기가스 배출량(GAS)을 예측할 수 있다. 도 6은 본 발명의 다른 실시 예에 따른 인공신경망을 설명하기 위한 도면이다. 도 6을 참조하면, 배기가스 예측 결과와 실측량 사이의 차이인 에러값이 임계값을 초과하는 경우, 인공지능 모 듈은 역전파 과정을 통해 에러값이 임계값 이내로 수렴하도록 인공신경망(ANN)의 가중치를 조절할 수 있다. 하기의 수학식 3은 역전파 과정을 위한 목적함수로서, 배기가스 예측 결과와 실측값과의 차이인 에러값을 계산 하고, 에러값을 제곱하여 모두 합한 후 평균값을 계산한 것이다. 수학식 3"}
{"patent_id": "10-2019-0106660", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "여기서, N은 학습 데이터를 의미하고, error는 배기가스 예측결과와 실측값과의 차이인 에러값을 의미하고, yi 는 실측값을 의미하고, pi는 배기가스 예측 결과를 의미한다. 역전파 과정은 에러값을 역전파 시키면서 노드들 사이의 가중치를 반복적으로 보정하는 과정으로서, 반복적인 역전파를 통해 인공신경망 학습 과정이 진행되면서 배기가스 예측결과의 정확도를 높이게 된다. 궁극적으로 에 러값이 임계치 이내로 수렴되면, 인공지능 모듈은 학습을 완료하고 인공신경망(ANN)에 포함된 가중치는 고 정되며 배기가스 배출량을 예측하기 위한 완성형 인공신경망(ANN)이 된다. 인공신경망(ANN)을 완성하기 위한 가중치 보정은 에러값이 최소화되도록 역전파를 시키는 과정에서 각 노드 사 이의 가중치를 갱신하는 것이다. 먼저, 인공신경망(ANN)이 정의되면 각 층마다 연결되어 있는 가중치를 초기화 할 수 있다. 이때, 사비에르 글로로트(Xavier_Glolot) 알고리즘으로 초기화하면 초기에 효율적으로 수렴하는 효과를 얻을 수 있다. 가중치가 초기화되면 학습을 시작한다. 전자제어유닛으로부터 수신된 데이터 시트에서 차량 정보와 외부 요인을 리드하고, 이 데이터를 인공신경 망(ANN)을 통해 피드포워드하면 탄소산화물(COx), 질소산화물(NOx), 입자상 물질(PM) 등에 대한 배기가스 예측 결과를 얻을 수 있다. 수학식 4"}
{"patent_id": "10-2019-0106660", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "수학식 4는 크로스 엔트로피를 이용하여 손실값을 구하는 방법에 관한 것이다. 여기서, Loss는 배기가스 예측결 과와 실측값의 차이를 계산한 에러값을 손실값으로 정의한 것이다. 손실값은 배기가스 예측결과와 실측값을 크 로스 엔트로피 (cross entropy)로 계산하여 정의될 수 있다. 그리고, 인공신경망 학습 과정은 손실값을 최소화하는 가중치를 찾는 과정의 한 방법으로 수학식 5에 따른 경사 감소법(Gradient Descent)이 사용될 수 있다. 수학식 5"}
{"patent_id": "10-2019-0106660", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "여기서, α는 학습률(learning rate)로서, 수렴식을 계산할 때 어느 정도의 크기로 이동할지 결정하는 계수이다. 상기 학습률은 진동하거나 발산하지 않는 값으로 설정될 수 있다. 손실값을 최소화하는 모든 가중치를 한번에 구할 수 없기 때문에, 각 층마다 에러를 전달시키면서 보정치를 구 할 수 있다. 이때 체인룰(chain rule)이 사용될 수 있는데, 가장 먼저 계산하는 가중치는 출력층에 연결된 가중 치이다. 예컨대, 수학식 4에서 계산된 손실값을 수학식 5에 대입하여 제3 가중치(ω3)를 계산한 후, 다음 층의 가중치인 제2 가중치(ω2)를 구할 수 있다. 이때, 제2 가중치(ω2)를 구하기 위해 앞서 구한 제3 가중치(ω3)를 매개변수 로 하여 구하는 방법이 체인룰이다. 인공신경망 학습 방법은 체인룰을 이용하여 에러인 손실값을 역전파시키면서 각 층마다 연결되어 있는 가중치를 갱신하는 과정을 수행하고, 궁극적으로 가중치가 수렴되면 학습이 완료된다. 학습이 완료된 완성형 인공신경망에 새로운 데이터 시트를 적용하여 추가적으로 정확도를 진단하는 검증 단계를 거칠 수 있다. 추가 테스트 과정에서 인공신경망 학습 과정보다 손실값이 증가하면 과적합 또는 오버피팅 (overfitting)으로 정의하고, 적합한 규제화(regularization) 기법을 이용하여 과적합 문제를 개선할 수 있다. 이와 같이, 본 발명의 실시 예에 따른 인공지능 기술을 이용한 배기가스 배출량 예측시스템은 인공신경망 학습 방법을 통해 예측 정확도가 높은 인공신경망을 설계할 수 있고, 완성형 인공신경망을 이용하여 실측값과 매우 유사한 배기가스 배출량을 예측할 수 있다. 도 7은 또 다른 실시 예에 따른 인공신경망을 설명하기 위한 도면이다. 도 7을 참조하면, 인공신경망(ANN)의 일종인 순환신경망(Recurrent Neural Network, RNN)의 일 예로서 입력값 이 입력층(IL)을 거쳐 출력층(OL)으로 전달되는 장단기메모리 인공신경망(Long Short Term Memory neural network, LSTM)이 도시되어 있다. 순환신경망(RNN)은 과거 시점에 발생된 일련의 순차적인 입력값을 통해 현재의 출력값 또는 현재 이후의 출력값 을 예측하는 인공신경망(ANN)이다. 순환신경망의 학습 과정도 다층 퍼셉트론과 마찬가지로 입력층으로 입력된 순차적 전기신호(ES)를 배기가스 예측결과(P_GAS)로 도출하는 피드포워드 과정과, 예측하고자 하는 시점의 실측 값과 배기가스 예측결과(P_GAS)를 비교하여 가중치를 보정하는 역전파과정이 있다. 특히, 장단기메모리 인공신경망(LSTM)은 데이터를 순차적으로 처리하는 과정에서 오래된 정보가 유용하다면 지 속적으로 기억해서 정확도를 높이는 알고리즘이다. 구체적으로, t-1 시점의 장단기메모리 인공신경망(LSTM1)은 t-1 시점의 입력층(IL)과 t-2 시점에서 전달한 정보 를 받아들이는 층 (h(t-2), C(t-2))과 연결될 수 있다. t-1 시점의 장단기메모리 인공신경망(LSTM1)을 통과한출력값은 t 시점의 장단기메모리 인공신경망(LSTM2)의 이전 시점 정보(h(t-1)) 입력된다. 그리고, t 시점의 입 력층(IL)으로 입력된 입력값은 이전 시점 정보(ht-1)와 결합한 뒤, 네트워크를 거쳐 전체 장단기메모리 인공신 경망의 출력층(OL)으로 값이 전달된다. 시점별 장단기메모리 인공신경망(LSTM1, LSTM2, …)는 과거 정보를 어느 정도 중요도로 기억할지를 정하는 상실 게이트(forget gate), 현재 정보를 어느 정도 중요도로 기억할지를 정하는 입력 게이트(input gate), 상실 게이 트(forget gate)와 입력 게이트(input gate)를 통과한 값으로 현재 상태(C(t)) 값을 정하는 상태 게이트(state gate), 이전 시점 정보와 현재 입력값을 얼만큼 출력에 반영할지를 결정하는 출력 게이트(output gate), 및 출 력 게이트(output gate)를 통과한 값과 필터링된 현재 상태(C(t))의 값을 바탕으로 차기 장단기메모리 인공신경 망(LSTM)의 이전 시점 정보로 전달할 값을 연산하는 단계로 이루어져 있다. 장단기메모리 인공신경망(LSTM)에서 정보 전달은 수학식 6의 상실 게이트에서 시작한다. 수학식 6"}
{"patent_id": "10-2019-0106660", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "여기서, ht-1은 t-1 시점의 정보, Wf h는 상실 게이트에서 ht-1에 적용되는 가중치, xt은 t 시점의 입력값, Wf x는 상 실 게이트에서 xt에 적용된 가중치, bf는 상실 게이트의 편향(bias)을 의미한다. 한편, t 시점의 입력값은 수학식 7과 같이 입력 게이트로도 전달될 수 있다. 여기서, Wi h는 입력 게이트에서 ht-1 에 적용되는 가중치, Wi x는 입력 게이트에서 xt에 적용된 가중치, bi는 입력 게이트의 편향(bias)을 의미한다. 수학식 7"}
{"patent_id": "10-2019-0106660", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 9, "content": "그리고, 상태 게이트는 상실 게이트의 값과 이전 시점의 상태(state) 값을 곱하고, 입력 게이트의 값과 수학식 8을 적용한 값에 곱한 후, 수학식 9와 같이 합산한다. 수학식 8"}
{"patent_id": "10-2019-0106660", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 10, "content": "수학식 9"}
{"patent_id": "10-2019-0106660", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 11, "content": "여기서 ft는 상실 게이트의 값, it 입력 게이트의 값, Ct-1는 t-1 시점의 상태 값, Ct'은 수학식 8이 적용된 값을 의미한다. 그리고 상태 게이트에서 합산된 값은 t 시점의 상태로 입력된다. 이후 출력 게이트에서는 다시 t 시점 입력값과 t-1 시점의 이전 정보 값을 수학식 10을 이용해 같이 합산한다. 수학식 10"}
{"patent_id": "10-2019-0106660", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 12, "content": "여기서, Wo h는 ht-1에 적용되는 가중치, Wo x는 xt에 적용된 가중치, bo는 편향을 의미한다. 마지막 연산단계는 출력 게이트의 값과 상태 게이트의 값을 수학식 11에 적용하는 과정을 수행하고, 이 결과를 다음 시점 이전 정보 값으로 전달한다. 만약 예측하고자 하는 시점이 마지막 연산단계의 시점과 동일할 경우, 최종 연산 결과(ht)의 값을 출력층으로 전달하여 최종 예측결과를 산출한다. 수학식 11"}
{"patent_id": "10-2019-0106660", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 13, "content": "장단기메모리 인공신경망 (LSTM) 구조를 갖는 순환신경망(RNN)의 출력층(OL)은 출력층(OL)으로 전달된 최종 연 산결과(ht)의 차원과 동일한 개수의 노드로 구성되어 있으며, 각 노드에 입력된 값에 수학식 12를 적용하여 예 측한다. 수학식 12"}
{"patent_id": "10-2019-0106660", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 14, "content": "예측된 결과값은 실측값과의 차이인 에러값을 계산하고 에러값을 제곱하여 모두 합한 후 평균하여 수학식 13과 같이 계산된다. 수학식 13"}
{"patent_id": "10-2019-0106660", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 15, "content": "여기서, N은 학습데이터를 의미하고 error는 배기가스 예측결과와 실측값의 차이인 에러값을 의미하고, yi t는 실 측값, yi t는 배기가스 예측결과(P_GAS)를 의미한다. 도 8은 본 발명의 실시 예에 따른 인공지능 기술을 이용한 배기가스 배출량 예측방법를 설명하기 위한 흐름도이 다. 도 8을 참조하면, 자동차의 부품을 제어하기 위해 각 부품에 장착된 부품 센서는 전기신호(ES)를 생성할 수 있고(S100), 전자제어유닛은 부품센서로부터 전기신호(ES)를 수집할 수 있다(S110). 그리고, 인공지능 모듈은 유선 또는 무선 통신을 통해 전자제어유닛으로부터 수집된 전기신호(ES)를 수신할 수 있다(S120). 그리고, 인공지능 모듈은 전기신호(ES)를 미리 학습된 인공신경망(ANN)에 적용하여 자동차의 배기가 스 배출량(GAS)을 예측할 수 있다(S130)."}
{"patent_id": "10-2019-0106660", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 16, "content": "이상에서 본 발명의 실시 예에 관하여 설명하였으나, 본 발명이 속하는 기술분야에서 통상의 지식을 가진 자라 면 본 발명의 특허청구범위를 벗어남이 없이 다양하게 변형 실시할 수 있을 것으로 이해된다."}
{"patent_id": "10-2019-0106660", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 실시 예에 따른 인공지능 기술을 이용한 배기가스 배출량 예측시스템의 개략적인 블록도이다. 도 2는 본 발명의 실시 예에 따른 인공지능 기술을 이용한 배기가스 배출량 예측시스템의 개념도이다. 도 3은 본 발명의 실시 예에 따른 자동차 내부를 개략적으로 도시한 도면이다. 도 4는 본 발명의 다른 실시 예에 따른 인공지능 기술을 이용한 배기가스 배출량 예측시스템의 개략적인 블록도 이다.도 5는 본 발명의 실시 예에 따른 인공신경망을 설명하기 위한 도면이다. 도 6은 본 발명의 다른 실시 예에 따른 인공신경망을 설명하기 위한 도면이다. 도 7은 또 다른 실시 예에 따른 인공신경망을 설명하기 위한 도면이다. 도 8은 본 발명의 실시 예에 따른 인공지능 기술을 이용한 배기가스 배출량 예측방법를 설명하기 위한 흐름도이 다."}
