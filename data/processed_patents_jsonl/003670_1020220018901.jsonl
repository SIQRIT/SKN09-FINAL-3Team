{"patent_id": "10-2022-0018901", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0122356", "출원번호": "10-2022-0018901", "발명의 명칭": "OTA를 이용한 소프트웨어 업데이트 요청 장치 및 방법", "출원인": "현대자동차주식회사", "발명자": "김명우"}}
{"patent_id": "10-2022-0018901", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "차량 제어기에 오프라인 모델로 설치되어 있는 고도 제어 소프트웨어의 실행 결과치가 미리 설정된 판단 기준을충족시키지 못할 경우, 상기 고도 제어 소프트웨어를 업데이트가 필요한 이상 모델로 판단한 후 업데이트 예약스케쥴러로 업데이트 요청 신호를 전송하는 이상 모델 감지 판단부; 및차량이 정차 중이고 배터리의 충전량이 기준 값 이상인 경우, 상기 고도 제어 소프트웨어에 대한 OTA(Over TheAir) 업데이트 요청 신호를 생성한 후 통신망을 통해 OTA 서버로 송출하는 업데이트 예약 스케쥴러;를포함하는,OTA를 이용한 소프트웨어 업데이트 요청 장치."}
{"patent_id": "10-2022-0018901", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "청구항 1에 있어서,상기 이상 모델 감지 판단부는,상기 고도 제어 소프트웨어의 입력 데이터에 대응한 로직 실행 결과치인 출력 데이터가 미리 설정된 판단 기준을 충족시키지 못하는 경우 이상 모델 데이터가 도출되었음을 감지하는 이상 모델 감지부; 및상기 이상 모델 데이터가 도출된 횟수가 일정 횟수 이상일 경우, 상기 고도 제어 소프트웨어를 이상 모델로 판단하고 상기 업데이트 예약 스케쥴러로 업데이트 요청 신호를 전송하는 이상 모델 판단부;를 포함하는,OTA를 이용한 소프트웨어 업데이트 요청 장치."}
{"patent_id": "10-2022-0018901", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "청구항 2에 있어서,상기 이상 모델 감지부는,차량 제어기의 페일 세이프티(Fail-Safety) 기준을 이상 모델 데이터로 인식하기 위한 판단 기준으로 설정하는,OTA를 이용한 소프트웨어 업데이트 요청 장치."}
{"patent_id": "10-2022-0018901", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "청구항 1에 있어서,상기 판단 기준을 충족시키지 못하는 결과치가 도출될 때의 고도 제어 소프트웨어의 입력 데이터와 출력 데이터를 수신하여 이상 모델 데이터로 저장하는 이상 모델 데이터 선별부;를 더 포함하는,OTA를 이용한 소프트웨어 업데이트 요청 장치."}
{"patent_id": "10-2022-0018901", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "청구항 4에 있어서,상기 이상 모델 데이터 선별부는,상기 이상 모델 판단부에서 상기 업데이트 예약 스케쥴러로 업데이트를 요청할 때, 저장되어 있는 이상 모델 데이터 중 무작위로 선별된 적어도 하나 이상의 이상 모델 데이터를 상기 업데이트 예약 스케쥴러로 전송하는,OTA를 이용한 소프트웨어 업데이트 요청 장치."}
{"patent_id": "10-2022-0018901", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "공개특허 10-2023-0122356-3-청구항 1에 있어서,상기 업데이트 예약 스케쥴러는,상기 업데이트 요청 신호가 수신되면, 차량의 기어 정보를 이용하여 차량이 정차 중인지 여부를 판단하고, 배터리의 충전량을 미리 설정된 기준 값과 비교하여 정차 중인 차량의 배터리 충전량이 기준 값 이상인 경우 OTA를이용한 업데이트 가능 조건을 충족시키는 것으로 판단하는 업데이트 가능 조건 판단부; 및OTA를 이용한 상기 고도 제어 소프트웨어의 업데이트를 요청하는 OTA 업데이트 요청 신호를 통신망을 통해 상기OTA 서버로 송출하는 업데이트 요청부;를 포함하는,OTA를 이용한 소프트웨어 업데이트 요청 장치."}
{"patent_id": "10-2022-0018901", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "청구항 1에 있어서,상기 고도 제어 소프트웨어의 최종 업데이트가 진행된 이후에 경과된 시간을 측정하여 경과 시간이 미리 설정된기준 경과 시간 이상일 경우, 상기 업데이트 예약 스케쥴러로 업데이트 요청 신호를 전송하는 업데이트 시간 관리부;를 더 포함하는,OTA를 이용한 소프트웨어 업데이트 요청 장치."}
{"patent_id": "10-2022-0018901", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "청구항 7에 있어서,상기 업데이트 시간 관리부는,상기 고도 제어 소프트웨어의 최종 업데이트 진행 시각과 현재 시각의 차이를 연산하여 최종 업데이트 이후의경과 시간을 산출하고, 상기 경과 시간을 기준 경과 시간과 비교하여 업데이트의 요청 여부를 판단하는 경과 시간 계산부;를 포함하는,OTA를 이용한 소프트웨어 업데이트 요청 장치."}
{"patent_id": "10-2022-0018901", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "청구항 7에 있어서,상기 업데이트 시간 관리부는,상기 차량의 운전자에 의해 입력되는 미래의 특정 시점을 상기 고도 제어 소프트웨어의 업데이트 실행 시점으로저장하고, 현재 시각을 상기 업데이트 실행 시점과 비교하여 업데이트의 요청 여부를 판단한 후 상기 업데이트예약 스케쥴러로 업데이트 요청 신호를 전송하는 수동 예약 시간부;를 더 포함하는,OTA를 이용한 소프트웨어 업데이트 요청 장치."}
{"patent_id": "10-2022-0018901", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "청구항 9에 있어서,상기 수동 예약 시간부는,현재 시점을 수동 예약이 진행되는 시점으로 설정하여 상기 업데이트 예약 스케쥴러에 즉시 업데이트를 요청하는,OTA를 이용한 소프트웨어 업데이트 요청 장치."}
{"patent_id": "10-2022-0018901", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "차량 제어기에 오프라인 모델로 설치되어 있는 고도 제어 소프트웨어의 실행 결과치가 미리 설정된 판단 기준을충족시키지 못할 경우, 상기 고도 제어 소프트웨어를 업데이트가 필요한 이상 모델로 판단한 후 업데이트 예약스케쥴러로 업데이트 요청 신호를 전송하는 이상 모델 감지 판단단계;공개특허 10-2023-0122356-4-차량이 정차 중인지 여부를 판단하고, 정차 중인 차량에 구비된 배터리의 충전량이 기준 값 이상인 경우 OTA를이용한 업데이트가 가능한 것으로 판단하는 업데이트 가능 조건 판단단계; 및상기 업데이트 요청 신호를 수신한 업데이트 예약 스케쥴러에서 상기 고도 제어 소프트웨어에 대한 OTA 업데이트 요청 신호를 생성한 후 통신망을 통해 OTA 서버로 송출하는 OTA 업데이트 요청단계;를 포함하는,OTA를 이용한 소프트웨어 업데이트 요청 방법."}
{"patent_id": "10-2022-0018901", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "청구항 11에 있어서,상기 이상 모델 감지 판단단계는,상기 고도 제어 소프트웨어의 입력 데이터에 대응한 로직 실행 결과치인 출력 데이터가 미리 설정된 판단 기준을 충족시키지 못하는 경우 이상 모델 데이터가 도출된 것으로 감지하는 단계;상기 이상 모델 데이터가 감지된 횟수를 미리 설정된 기준 횟수와 비교하는 단계; 및상기 이상 모델 데이터가 감지된 횟수가 상기 기준 횟수 이상인 경우 상기 고도 제어 소프트웨어를 이상 모델로판단하고, 상기 업데이트 예약 스케쥴러로 업데이트 요청 신호를 전송하는 단계;를 포함하는,OTA를 이용한 소프트웨어 업데이트 요청 방법."}
{"patent_id": "10-2022-0018901", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "청구항 12에 있어서,상기 이상 모델 데이터가 도출된 것으로 감지하는 단계에서는,차량 제어기의 페일 세이프티(Fail-Safety) 기준을 이상 모델 데이터인지 여부를 판단하기 위한 판단 기준으로설정하는,OTA를 이용한 소프트웨어 업데이트 요청 방법."}
{"patent_id": "10-2022-0018901", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "청구항 12에 있어서,상기 이상 모델 감지 판단단계는,상기 이상 모델 데이터로 판단된 고도 제어 소프트웨어의 입력 데이터와 출력 데이터를 기억 장치에 저장하는단계;를 더 포함하는,OTA를 이용한 소프트웨어 업데이트 요청 방법."}
{"patent_id": "10-2022-0018901", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "청구항 14에 있어서,상기 업데이트 요청 신호를 전송하는 단계에서는,상기 업데이트 예약 스케쥴러로 업데이트 요청 신호가 전송될 때, 기억 장치에 저장되어 있는 상기 이상 모델데이터도 함께 전송하는,OTA를 이용한 소프트웨어 업데이트 요청 방법."}
{"patent_id": "10-2022-0018901", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "청구항 12에 있어서,상기 업데이트 가능 조건 판단단계에서는,차량의 전장 부품에의 전원 공급을 위한 12V 전장 배터리의 충전량이 임의의 제1기준 값 이상인지 여부를 판단하고, 구동모터에의 전원 공급을 위한 고전압 베터리의 충전량이 임의의 제2기준 값 이상인지 여부를 판단하며,공개특허 10-2023-0122356-5-차량의 속도가 0 Kph이고 기어가 P단에 있는 정차 상태인지 여부를 판단하는,OTA를 이용한 소프트웨어 업데이트 요청 방법."}
{"patent_id": "10-2022-0018901", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "청구항 11에 있어서,상기 고도 제어 소프트웨어의 최종 업데이트가 진행된 이후에 경과된 시간을 측정하여 경과 시간이 미리 설정된기준 경과 시간 이상일 경우, 업데이트 예약 스케쥴러로 업데이트 요청 신호를 전송하는 업데이트 경과시간 비교단계;를 더 포함하는,OTA를 이용한 소프트웨어 업데이트 요청 방법."}
{"patent_id": "10-2022-0018901", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "청구항 11에 있어서,차량의 운전자에 의해 입력되는 미래의 특정 시점을 고도 제어 소프트웨어의 업데이트 실행 시점으로 저장하고,현재 시각을 상기 업데이트 실행 시점과 비교하여 업데이트 실행 시점이 도래한 경우, 업데이트 예약 스케쥴러로 업데이트 요청 신호를 전송하는 수동 예약 설정단계;를 더 포함하는,OTA를 이용한 소프트웨어 업데이트 요청 방법."}
{"patent_id": "10-2022-0018901", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_19", "content": "청구항 18에 있어서,상기 수동 예약 설정단계에서는,운전자가 현재 시점을 수동 예약이 진행되는 현재 시점으로 설정하여 상기 업데이트 예약 스케쥴러에 즉시 업데이트를 요청하는,OTA를 이용한 소프트웨어 업데이트 요청 방법."}
{"patent_id": "10-2022-0018901", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_20", "content": "청구항 11 내지 청구항 19 중 어느 한 항에 따른 OTA를 이용한 소프트웨어 업데이트 요청 방법을 실행시키기 위한 프로그램을 기록한 컴퓨터 해독 가능 기록 매체."}
{"patent_id": "10-2022-0018901", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 고부하 연산이 요구되는 고도 제어 소프트웨어가 설치된 차량 제어기에서 소프트웨어의 업데이트 필요 성을 판단한 후 OTA(Over The Air)를 이용한 업데이트의 실행을 요청할 수 있게 한 OTA를 이용한 소프트웨어 업 데이트 요청 장치 및 방법에 관한 것이다. 본 발명의 일 실시예에 따른 OTA를 이용한 소프트웨어 업데이트 요청 장치는, 차량 제어기에 오프라인 모델로 설치되어 있는 고도 제어 소프트웨어의 실행 결과치가 미리 설정된 판단 기준을 충족시키지 못할 경우, 상기 고도 제어 소프트웨어를 업데이트가 필요한 이상 모델로 판단한 후 업데이트 예약 스케쥴러로 업데이트 요청 신호를 전송하는 이상 모델 감지 판단부; 및 차량이 정차 중이고 배터리의 충전 량이 기준 값 이상인 경우, 상기 고도 제어 소프트웨어에 대한 OTA(Over The Air) 업데이트 요청 신호를 생성한 후 통신망을 통해 OTA 서버로 송출하는 업데이트 예약 스케쥴러;를 포함할 수 있다."}
{"patent_id": "10-2022-0018901", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 고부하 연산이 요구되는 고도 제어 소프트웨어가 설치된 차량 제어기에서 소프트웨어의 업데이트 필 요성을 판단한 후 OTA(Over The Air)를 이용한 업데이트의 실행을 요청할 수 있게 한 OTA를 이용한 소프트웨어 업데이트 요청 장치 및 방법에 관한 것이다."}
{"patent_id": "10-2022-0018901", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "최근 하이브리드 차량((P)HEV: (Plug-in) Hybrid Electric Vehicle)의 제어 로직을 개발함에 있어, 차량 제어 기의 성능을 향상시키고 다양한 주행 상황을 반영할 수 있도록 인공지능(AI: Artificial Intelligence) 제어, 빅데이터 연계형 제어 또는 최적/예측 제어와 같이 높은 수준의 데이터 처리가 요구되는 고도 제어를 적용하는 로직에 대한 니즈가 증가하고 있다. 그러나 높은 수준의 데이터 처리가 요구되는 고도 제어를 실행하기 위해 차량의 전자 제어기(ECU: Electronic Control Unit)를 이용하여 실시간 연산할 경우, 몇몇 규칙에 기반하여 연산 되던 종래의 제어 로직과 달리 고부 하가 발생하게 되는 문제점이 있었다. 그에 따라, 고부하로 인한 실시간 연산의 어려움을 해결하기 위해 실제 차량에 적용하기 위한 고도 제어 로직을 개발할 때는, 차량의 전자 제어기(ECU)에서 고부하 연산을 실행하는 대신 온라인상에 연결되어 있는 오토박스 (AutoBox)와 같은 외부의 연산 툴(Tool)을 이용하여 연산을 실행하였다. 그리고, 외부의 연산 툴에서 개발 및평가가 완료된 고도 제어 로직을 내부 소프트웨어로 차량의 전자 제어기(ECU)에 설치할 때에는, 고부하 연산에 대한 부담 없이 동일한 성능을 구현할 수 있도록 오프라인 모델로 변경하여 설치하였다. 그러나 이와 같이 오프라인 모델로 변경하여 설치할 경우 고도 제어 로직을 수행함에 있어 사용되는 가중치가 고정되어 있으므로, 실제 주행 중 발생하게 되는 다양한 주행 상황을 세밀하게 반영하기 어려운 문제점이 있었 다. 또한, 고도 제어 로직의 소프트웨어가 차량의 전자 제어기(ECU)에 오프라인 모델로 설치되어 있으므로, 고도 제 어 로직에서 의도하였던 최적/예측 제어 등에 대한 정확도가 감소될 경우에도 이를 신속하게 파악하여 소프트웨 어 업데이트를 실행하기 어려운 문제점이 있었다."}
{"patent_id": "10-2022-0018901", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 고부하 연산이 요구되는 고도 제어를 위한 소프트웨어가 설치된 차량 제어기에서 소프트웨어의 업데 이트 필요성을 판단한 후 OTA(Over The Air)를 이용한 업데이트의 실행을 요청할 수 있게 한 OTA를 이용한 소프 트웨어 업데이트 요청 장치 및 방법을 제공하기 위한 것이다. 본 발명에서 이루고자 하는 기술적 과제들은 이상에서 언급한 기술적 과제로 제한되지 않으며, 언급하지 않은"}
{"patent_id": "10-2022-0018901", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 2, "content": "또 다른 기술적 과제들은 아래의 기재들로부터 본 발명이 속하는 기술분야에서 통상의 지식을 가진 자에게 명확 하게 이해될 수 있을 것이다."}
{"patent_id": "10-2022-0018901", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기한 과제를 실현하기 위한 본 발명의 일 실시예에 따른 OTA를 이용한 소프트웨어 업데이트 요청 장치는, 차 량 제어기에 오프라인 모델로 설치되어 있는 고도 제어 소프트웨어의 실행 결과치가 미리 설정된 판단 기준을 충족시키지 못할 경우, 상기 고도 제어 소프트웨어를 업데이트가 필요한 이상 모델로 판단한 후 업데이트 예약 스케쥴러로 업데이트 요청 신호를 전송하는 이상 모델 감지 판단부; 및 차량이 정차 중이고 배터리의 충전량이 기준 값 이상인 경우, 상기 고도 제어 소프트웨어에 대한 OTA(Over The Air) 업데이트 요청 신호를 생성한 후 통신망을 통해 OTA 서버로 송출하는 업데이트 예약 스케쥴러;를 포함할 수 있다. 이때, 상기 이상 모델 감지 판단부는, 상기 고도 제어 소프트웨어의 입력 데이터에 대응한 로직 실행 결과치인 출력 데이터가 미리 설정된 판단 기준을 충족시키지 못하는 경우 이상 모델 데이터가 도출되었음을 감지하는 이 상 모델 감지부; 및 상기 이상 모델 데이터가 도출된 횟수가 일정 횟수 이상일 경우, 상기 고도 제어 소프트웨 어를 이상 모델로 판단하고 상기 업데이트 예약 스케쥴러로 업데이트 요청 신호를 전송하는 이상 모델 판단부; 를 포함할 수 있다. 또한, 상기 이상 모델 감지부는, 차량 제어기의 페일 세이프티(Fail-Safety) 기준을 이상 모델 데이터로 인식하 기 위한 판단 기준으로 설정할 수 있다. 또한, 본 발명은, 상기 판단 기준을 충족시키지 못하는 결과치가 도출될 때의 고도 제어 소프트웨어의 입력 데 이터와 출력 데이터를 수신하여 이상 모델 데이터로 저장하는 이상 모델 데이터 선별부;를 더 포함할 수 있다. 또한, 상기 이상 모델 데이터 선별부는, 상기 이상 모델 판단부에서 상기 업데이트 예약 스케쥴러로 업데이트를 요청할 때, 저장되어 있는 이상 모델 데이터 중 무작위로 선별된 적어도 하나 이상의 이상 모델 데이터를 상기 업데이트 예약 스케쥴러로 전송할 수 있다. 또한, 상기 업데이트 예약 스케쥴러는, 상기 업데이트 요청 신호가 수신되면, 차량의 기어 정보를 이용하여 차 량이 정차 중인지 여부를 판단하고, 배터리의 충전량을 미리 설정된 기준 값과 비교하여 정차 중인 차량의 배터 리 충전량이 기준 값 이상인 경우 OTA를 이용한 업데이트 가능 조건을 충족시키는 것으로 판단하는 업데이트 가 능 조건 판단부; 및 OTA를 이용한 상기 고도 제어 소프트웨어의 업데이트를 요청하는 OTA 업데이트 요청 신호를 통신망을 통해 상기 OTA 서버로 송출하는 업데이트 요청부;를 포함할 수 있다. 또한, 본 발명은, 상기 고도 제어 소프트웨어의 최종 업데이트가 진행된 이후에 경과된 시간을 측정하여 경과 시간이 미리 설정된 기준 경과 시간 이상일 경우, 상기 업데이트 예약 스케쥴러로 업데이트 요청 신호를 전송하 는 업데이트 시간 관리부;를 더 포함할 수 있다.또한, 상기 업데이트 시간 관리부는, 상기 고도 제어 소프트웨어의 최종 업데이트 진행 시각과 현재 시각의 차 이를 연산하여 최종 업데이트 이후의 경과 시간을 산출하고, 상기 경과 시간을 기준 경과 시간과 비교하여 업데 이트의 요청 여부를 판단하는 경과 시간 계산부;를 포함할 수 있다. 또한, 상기 업데이트 시간 관리부는, 상기 차량의 운전자에 의해 입력되는 미래의 특정 시점을 상기 고도 제어 소프트웨어의 업데이트 실행 시점으로 저장하고, 현재 시각을 상기 업데이트 실행 시점과 비교하여 업데이트의 요청 여부를 판단한 후 상기 업데이트 예약 스케쥴러로 업데이트 요청 신호를 전송하는 수동 예약 시간부;를 더 포함할 수 있다. 또한, 상기 수동 예약 시간부는, 현재 시점을 수동 예약이 진행되는 시점으로 설정하여 상기 업데이트 예약 스 케쥴러에 즉시 업데이트를 요청할 수 있다. 또한, 본 발명의 일 실시예에 따른 OTA를 이용한 소프트웨어 업데이트 요청 방법은, 차량 제어기에 오프라인 모 델로 설치되어 있는 고도 제어 소프트웨어의 실행 결과치가 미리 설정된 판단 기준을 충족시키지 못할 경우, 상 기 고도 제어 소프트웨어를 업데이트가 필요한 이상 모델로 판단한 후 업데이트 예약 스케쥴러로 업데이트 요청 신호를 전송하는 이상 모델 감지 판단단계; 차량이 정차 중인지 여부를 판단하고, 정차 중인 차량에 구비된 배 터리의 충전량이 기준 값 이상인 경우 OTA를 이용한 업데이트가 가능한 것으로 판단하는 업데이트 가능 조건 판 단단계; 및 상기 업데이트 요청 신호를 수신한 업데이트 예약 스케쥴러에서 상기 고도 제어 소프트웨어에 대한 OTA 업데이트 요청 신호를 생성한 후 통신망을 통해 OTA 서버로 송출하는 OTA 업데이트 요청단계;를 포함할 수 있다. 이때, 상기 이상 모델 감지 판단단계는, 상기 고도 제어 소프트웨어의 입력 데이터에 대응한 로직 실행 결과치 인 출력 데이터가 미리 설정된 판단 기준을 충족시키지 못하는 경우 이상 모델 데이터가 도출된 것으로 감지하 는 단계; 상기 이상 모델 데이터가 감지된 횟수를 미리 설정된 기준 횟수와 비교하는 단계; 및 상기 이상 모델 데이터가 감지된 횟수가 상기 기준 횟수 이상인 경우 상기 고도 제어 소프트웨어를 이상 모델로 판단하고, 상기 업데이트 예약 스케쥴러로 업데이트 요청 신호를 전송하는 단계;를 할 수 있다. 또한, 상기 이상 모델 데이터가 도출된 것으로 감지하는 단계에서는, 차량 제어기의 페일 세이프티(Fail- Safety) 기준을 이상 모델 데이터인지 여부를 판단하기 위한 판단 기준으로 설정할 수 있다. 또한, 상기 이상 모델 감지 판단단계는, 상기 이상 모델 데이터로 판단된 고도 제어 소프트웨어의 입력 데이터 와 출력 데이터를 기억 장치에 저장하는 단계;를 더 포함할 수 있다. 상기 업데이트 요청 신호를 전송하는 단계에서는, 상기 업데이트 예약 스케쥴러로 업데이트 요청 신호가 전송될 때, 기억 장치에 저장되어 있는 상기 이상 모델 데이터도 함께 전송할 수 있다. 또한, 상기 업데이트 가능 조건 판단단계에서는, 차량의 전장 부품에의 전원 공급을 위한 12V 전장 배터리의 충 전량이 임의의 제1기준 값 이상인지 여부를 판단하고, 구동모터에의 전원 공급을 위한 고전압 베터리의 충전량 이 임의의 제2기준 값 이상인지 여부를 판단하며, 차량의 속도가 0 Kph이고 기어가 P단에 있는 정차 상태인지 여부를 판단할 수 있다. 또한, 본 발명은, 상기 고도 제어 소프트웨어의 최종 업데이트가 진행된 이후에 경과된 시간을 측정하여 경과 시간이 미리 설정된 기준 경과 시간 이상일 경우, 업데이트 예약 스케쥴러로 업데이트 요청 신호를 전송하는 업 데이트 경과시간 비교단계;를 더 포함할 수 있다. 또한, 본 발명은, 차량의 운전자에 의해 입력되는 미래의 특정 시점을 고도 제어 소프트웨어의 업데이트 실행 시점으로 저장하고, 현재 시각을 상기 업데이트 실행 시점과 비교하여 업데이트 실행 시점이 도래한 경우, 업데 이트 예약 스케쥴러로 업데이트 요청 신호를 전송하는 수동 예약 설정단계;를 더 포함할 수 있다. 또한, 상기 수동 예약 설정단계에서는, 운전자가 현재 시점을 수동 예약이 진행되는 현재 시점으로 설정하여 상 기 업데이트 예약 스케쥴러에 즉시 업데이트를 요청할 수 있다."}
{"patent_id": "10-2022-0018901", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "상술한 바와 같은 본 발명의 다양한 실시예에 의해, 오프라인 상태에서 제어 로직이 실행됨에도 업데이트의 필 요성을 스스로 인식하고, 적절한 시점에 OTA를 이용한 업데이트의 실행을 요청함으로써, 차량 제어기 내부에서 고부하가 요구되는 과도한 연산을 실행하지 않더라도 고도 제어 소프트웨어를 최적의 결과 도출이 가능한 상태 로 유지할 수 있는 효과가 있다.또한, 본 발명은 고도 제어 소프트웨어의 결과치가 이상 모델 데이터로 판단될 경우뿐만 아니라 일정 주기마다 OTA를 이용한 업데이트를 실행할 수 있고, 운전자가 원하는 특정 시점에 또는 즉시 OTA를 이용한 업데이트를 실 행할 수 있으므로, 고도 제어 소프트웨어의 업데이트를 위해 정비소나 연구소 등에 입고함이 없이 간편하게 업 데이트를 실행할 수 있는 효과가 있다. 본 발명에서 얻을 수 있는 효과는 이상에서 언급한 효과들로 제한되지 않으며, 언급하지 않은 또 다른 효과들은"}
{"patent_id": "10-2022-0018901", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 2, "content": "아래의 기재로부터 본 발명이 속하는 기술분야에서 통상의 지식을 가진 자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2022-0018901", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면을 참조하여 본 명세서에 개시된 실시 예를 상세히 설명하되, 도면 부호에 관계없이 동일하거 나 유사한 구성요소는 동일한 참조 번호를 부여하고 이에 대한 중복되는 설명은 생략하기로 한다. 이하의 설명 에서 사용되는 구성요소에 대한 접미사 \"모듈\" 및 \"부\"는 명세서 작성의 용이함만이 고려되어 부여되거나 혼용 되는 것으로서, 그 자체로 서로 구별되는 의미 또는 역할을 갖는 것은 아니다. 또한, 본 명세서에 개시된 실시 예를 설명함에 있어서 관련된 공지 기술에 대한 구체적인 설명이 본 명세서에 개시된 실시 예의 요지를 흐릴 수 있다고 판단되는 경우 그 상세한 설명을 생략한다. 또한, 첨부된 도면은 본 명세서에 개시된 실시 예를 쉽게 이 해할 수 있도록 하기 위한 것일 뿐, 첨부된 도면에 의해 본 명세서에 개시된 기술적 사상이 제한되지 않으며, 본 발명의 사상 및 기술 범위에 포함되는 모든 변경, 균등물 내지 대체물을 포함하는 것으로 이해되어야 한다. 제1, 제2 등과 같이 서수를 포함하는 용어는 다양한 구성요소들을 설명하는데 사용될 수 있지만, 상기 구성요소 들은 상기 용어들에 의해 한정되지는 않는다. 상기 용어들은 하나의 구성요소를 다른 구성요소로부터 구별하는 목적으로만 사용된다. 어떤 구성요소가 다른 구성요소에 \"연결되어\" 있다거나 \"접속되어\" 있다고 언급된 때에는, 그 다른 구성요소에 직접적으로 연결되어 있거나 또는 접속되어 있을 수도 있지만, 중간에 다른 구성요소가 존재할 수도 있다고 이 해되어야 할 것이다. 반면에, 어떤 구성요소가 다른 구성요소에 \"직접 연결되어\" 있다거나 \"직접 접속되어\" 있 다고 언급된 때에는, 중간에 다른 구성요소가 존재하지 않는 것으로 이해되어야 할 것이다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 명세서에서, \"포함한다\" 또는 \"가지다\" 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되 어야 한다. 또한, 모터 제어기(MCU), 하이브리드 제어기(HCU) 등의 명칭에 포함된 유닛(Unit) 또는 제어 유닛(Control Unit)은 차량 특정 기능을 제어하는 제어 장치(Controller)의 명명에 널리 사용되는 용어일 뿐, 보편적 기능 유 닛(Generic function unit)을 의미하는 것은 아니다. 예컨대, 각 제어기는 담당하는 기능의 제어를 위해 다른제어기나 센서와 통신하는 통신 장치, 운영체제나 로직 명령어와 입출력 정보 등을 저장하는 메모리 및 담당 기 능 제어에 필요한 판단, 연산, 결정 등을 수행하는 하나 이상의 프로세서를 포함할 수 있다. 이하, 도 1 내지 도 12를 참조하여 본 발명의 실시예들을 구체적으로 설명한다. 도 1은 본 발명에 따른 OTA를 이용한 소프트웨어 업데이트 요청 장치를 나타내고, 도 2는 본 발명에 따라 차량 제어기에 설치되는 고도 제어 소프트웨어의 일 예를 나타낸다. 도 1을 참조하면, 본 발명의 일 실시예에 따른 OTA를 이용한 소프트웨어 업데이트 요청 장치는, 차량 제어기에 오프라인 모델로 설치되어 있는 고도 제어 소프트웨어의 실행 결과치가 미리 설정된 판단 기준을 충족시키지 못 할 경우 상기 고도 제어 소프트웨어를 업데이트가 필요한 이상 모델로 판단한 후 업데이트 예약 스케쥴러로 업 데이트 요청 신호를 전송하는 이상 모델 감지 판단부와, 차량이 정차 중이고 배터리의 충전량이 기준 값 이상인 경우 이상 모델로 판단된 상기 고도 제어 소프트웨어에 대한 OTA 업데이트 요청 신호를 생성하여 상기 OTA 서버로 송출하는 업데이트 예약 스케쥴러를 포함할 수 있다. 이때, 상기 고도 제어 소프트웨어(SW: Software)는 도 1에 도시된 바와 같이, 차량 제어기의 애플리케이션 소프 트웨어(ECU Application Software)로 설치되어, 상기 차량 제어기(ECU)의 내부 로직과 연동하면서 차량 주행 중 획득하는 다양한 입력 데이터를 이용하여 제어를 수행하게 된다. 이때, 상기 고도 제어 소프트웨어는, 기계 학습 모델이나 최적/예측 제어 모델 등 결과치 도출을 위한 연산이 실행되는 고부하 연산부와, 상기 고도 제어의 실행 여부를 판단하는 고도 제어 온오프(ON/OFF) 조건부를 포함할 수 있다. 상기 고부하 연산부와 고도 제어 온오프 조건부는 상기 고도 제어 소프트웨어를 이용한 제어의 실행 여부를 판 단하고 제어를 위한 결과치가 도출되는 영역을 임의로 구분한 것으로서, 실행하고자 하는 고도 제어 소프트웨어 의 종류에 따라 다양하게 구성될 수 있다. 이러한 상기 고도 제어 소프트웨어는 외부의 연산 툴을 활용하여 온라인 상태에서 완성된 후 차량 제어기(ECU) 에는 오프라인 모델로 설치된다. 그에 따라, 차량 제어기에 설치된 상태에서 기계 학습 등을 위해 온라인 상태 로 전환되어 과도한 연산이 실행되는 것을 피할 수 있다. 그러나, 오프라인 모델로 설치된 고도 제어 소프트웨어는 차량 제어기에 설치된 상태에서 제어 로직에 따른 결 과치의 연산만이 가능할 뿐 추가적인 학습이 이루어지지 않으므로, 시간이 경과하거나 고도 제어에 이용되는 입 력 데이터의 다양성이 증가함에 따라 업데이트가 필요하게 된다. 그에 따라, 제어 로직을 통해 최적의 결과가 도출될 수 있도록, 상기 고도 제어 소프트웨어의 업데이트가 필요 한 상황이 도래하였음을 파악하고 차량 외부에 있는 OTA 서버로 업데이트를 요청함으로써, 외부의 연산 툴에서 추가적인 학습이 완료된 업데이트 파일을 OTA 서비스를 통해 수신하여 상기 고도 제어 소프트웨어를 업데이트하 는 업데이트 요청 장치가 필요하다. 이와 같이 기계 학습 등 고부하를 초래하는 연산이 차량 외부에서 실행되고, 그러한 학습 결과물을 업데이트 파 일로 수신하여 차량 제어기에 설치된 고도 제어 소프트웨어를 업데이트함으로써, 차량 제어기에서는 고부하 연 산에 대한 부담 없이 고도 제어 소프트웨어의 제어 로직을 실행할 수 있게 된다. 이때, 상기 이상 모델 감지 판단부는, 상기 고도 제어 소프트웨어의 제어 로직이 최적의 결과치를 도출하 지 못하는지 여부를 토대로 업데이트의 필요성을 자동으로 판단하고, 오프라인 상태로 실행되고 있는 고도 제어 소프트웨어의 업데이트가 필요한 것으로 판단될 경우 상기 업데이트 예약 스케쥴러로 업데이트 요청 신호를 전 송할 수 있다. 이를 위하여, 상기 이상 모델 감지 판단부는, 도 3 및 도 4에 도시된 바와 같이, 상기 고도 제어 소프트웨 어의 입력 데이터에 대응한 로직 실행 결과치인 출력 데이터가 미리 설정된 판단 기준을 충족시키지 못하는 경 우 이상 모델 데이터가 도출되었음을 감지하는 이상 모델 감지부와, 상기 이상 모델 데이터가 도출된 횟수 가 일정 횟수 이상일 경우 상기 고도 제어 소프트웨어를 이상 모델로 판단하고 상기 업데이트 예약 스케쥴러로 업데이트 요청 신호를 전송하는 이상 모델 판단부를 포함할 수 있다. 상기 이상 모델 감지부는, 차량 제어기의 페일 세이프티(Fail-Safety) 기준을 이상 모델 데이터로 인식하 기 위한 판단 기준으로 설정할 수 있다. 이 경우 상기 이상 모델 감지부는 고도 제어 소프트웨어의 결과치 가 상기 페일 세이프티 기준을 만족시키지 못하여 페일 세이프티 기능이 실행되는 경우 또는 상기 페일 세이프티 기준에 근접하는 수치에 도달한 경우에 이상 모델 데이터가 도출된 것으로 인식할 수 있다. 또한, 상기 이상 모델 감지부는 차량 제어기의 내부 로직에 의해 산출된 내부 로직 결과치를 이상 모델 데 이터로 인식하기 위한 판단 기준으로 설정할 수도 있다. 이 경우 상기 이상 모델 감지부는 고도 제어 소프 트웨어의 결과치가 상기 내부 로직 결과치와 상이하고 그 상이한 정도가 일정 수준 이상일 경우 이상 모델 데이 터가 도출된 것으로 인식할 수 있다. 예를 들어, 상기 이상 모델 감지부는, 상기 고도 제어 소프트웨어에서 엔진과 모터의 동력 토크 최적 분배 를 위해 산출되는 SOC(State of Charge) 값이 페일 세이프티 기준에 근접하는 수치에 도달할 경우 이상 모델 데 이터가 도출된 것으로 인식할 수 있다. 또한, 상기 이상 모델 감지부는, 상기 고도 제어 소프트웨어에서 주행 데이터 모델 기반으로 산출되는 도 로의 혼잡도 및 비혼잡도 여부에 대한 결과치가 네비게이션 상의 혼잡도 수치와 상이한 경우에도 이상 모델 데 이터가 도출된 것으로 인식할 수 있다. 또한, 상기 이상 모델 판단부는, 상기 이상 모델 감지부에서 이상 모델 데이터가 도출된 횟수를 미리 설정된 기준 횟수와 비교하여, 상기 이상 모델 데이터가 기준 횟수 이상 발견된 경우에는 현재의 고도 제어 소 프트웨어를 업데이트가 필요한 이상 모델로 판단하고, 상기 업데이트 예약 스케쥴러로 업데이트 요청 신호를 전 송할 수 있다. 이와 같이 상기 이상 모델 감지 판단부에서는 고도 제어 소프트웨어의 제어 로직 실행 결과가 미리 설정된 판단 기준을 침해하는지 여부를 감지하여 업데이트의 필요성을 스스로 판단하고, 업데이트 예약 스케쥴러에 업 데이트의 실행을 요청할 수 있다. 그에 따라, 오프라인 상태에서 제어 로직이 실행됨에도 업데이트의 필요성을 스스로 인식하고, 적절한 시점에 OTA를 이용한 업데이트의 실행을 요청함으로써, 차량 제어기 내부에서 고부하가 요구되는 과도한 연산을 실행하 지 않더라도 고도 제어 소프트웨어를 최적의 결과 도출이 가능한 상태로 유지할 수 있게 된다. 또한, 상기 이상 모델 데이터 선별부는, 상기 이상 모델 감지부에서 이상 모델 데이터로 판단된 고도 제어 소프트웨어의 입력 데이터와 출력 데이터를 수신하여 저장할 수 있다. 이와 같이 고도 제어 소프트웨어에서의 로직 실행 결과가 이상 모델 데이터로 판단된 데이터들만을 선별하여 저 장함으로써, 추후 상기 OTA 서버로의 전송이 가능하게 되고, 전송된 이상 모델 데이터는 상기 OTA 서버에서 고 도 제어 소프트웨어의 업데이트 실행 여부 판단 또는 기계 학습 등을 위한 데이터로 활용될 수 있다. 이때, 상기 이상 모델 데이터 선별부에는 이상 모델 데이터로 판단된 모든 입력 데이터와 출력 데이터가 저장될 수 있음은 물론, 일정 개수(예를 들어, 최대 3개)의 이상 모델 데이터만이 저장될 수도 있다. 그에 따라 최근의 이상 모델 데이터만이 현재의 고도 제어 소프트웨어의 업데이트 필요성을 판단하는데 사용될 수 있다. 또한, 상기 이상 모델 데이터 선별부에서는, 상기 이상 모델 판단부에서 상기 업데이트 예약 스케쥴 러로 업데이트를 요청할 때 저장되어 있는 이상 모델 데이터 중 무작위로 선별된 적어도 하나 이상의 이상 모델 데이터를 상기 업데이트 예약 스케쥴러로 전송할 수 있다. 그에 따라, 상기 업데이트 예약 스케쥴러를 통하여 이상 모델 데이터를 수신한 상기 OTA 서버에서 현재의 고도 제어 소프트웨어의 업데이트 필요성을 판단하기 위한 데이터로 이용할 수 있다. 또한, 상기 업데이트 예약 스케쥴러는, 상기 이상 모델 감지 판단부에서 전송되는 업데이트 실행 요 청을 수신한 후, 상기 고도 제어 소프트웨어에 대한 OTA 업데이트 요청 신호를 생성하여 통신망을 통해 상기 OTA 서버로 전송하고, 상기 OTA 서버에서 전송되는 업데이트 파일을 수신하여 고도 제어 소프트웨어의 업데이트 를 실행할 수 있다. 이를 위하여, 상기 업데이트 예약 스케쥴러는, 상기 이상 모델 감지 판단부로부터 업데이트 요청 신호가 수신되면, 차량의 기어 정보를 이용하여 차량이 정차 중인지 여부를 판단하고, 배터리의 충전량(SOC)을 미리 설 정된 기준 값과 비교하여 정차 중인 차량의 배터리 충전량이 기준 값 이상인 경우 OTA를 이용한 업데이트 가능 조건을 충족시키는 것으로 판단하는 업데이트 가능 조건 판단부와, OTA를 이용한 상기 고도 제어 소프트웨 어의 업데이트를 요청하는 OTA 업데이트 요청 신호를 통신망을 통해 상기 OTA 서버로 송출하는 업데이트 요청부 를 포함할 수 있다. 상기 업데이트 가능 조건 판단부는, 차량이 OTA(Over The Air) 서비스를 이용하여 고도 제어 소프트웨어의 업데이트를 실행할 수 있는 상태인지 여부를 판단하기 위한 것으로서, 차량이 정차 상태에 있는지 여부와, 차량 의 배터리 충전량이 기준 값 이상인지 여부를 판단할 수 있다. 이와 같이 차량의 정차 여부와 배터리 충전량이 기준 값 이상인지 여부를 판단하는 것은 기존의 OTA 서비스를 이용한 업데이트의 실행 조건과 동일하게 설정될 수 있다. 이때. 상기 차량이 정차 상태에 있는지 여부는 차량의 속도가 0 Kph이고, 기어가 P단에 있는지 여부로 판단할 수 있다. 또한, 하이브리드 차량과 같은 전동화 차량의 경우, 차량의 전장 부품에의 전원 공급을 위한 12V 전장 배터리와 구동모터에의 전원 공급을 위한 고전압 배터리가 각각 구비되어 있으므로, 배터리 충전량이 기준 값 이상인지 여부를 판단함에 있어서도 12V 전장 배터리의 충전량(SOC)을 제1기준 값과 비교하고, 고전압 메인 배 터리의 충전량(SOC)을 제2기준 값과 비교할 수 있다. 그에 따라, 배터리 충전량이 OTA 서비스를 이용한 업데이 트가 안정적으로 진행될 수 있을 정도로 충분히 확보된 경우에만 업데이트가 실행되게 할 수 있다. 또한, 상기 업데이트 요청부는, 상기 이상 모델 감지 판단부로부터 업데이트 요청 신호를 수신하면, 상기 고도 제어 소프트웨어에 대한 업데이트를 요청하는 OTA 업데이트 요청 신호를 생성하여 상기 OTA 서버로 전송할 수 있다. 이때, 상기 업데이트 요청부는 상기 이상 모델 데이터 선별부로부터 수신한 이상 모델 데이터를 상기 OTA 업데이트 요청 신호와 함께 상기 OTA 서버로 전송할 수 있다. 또한, 상기 업데이트 요청부는, 상기 이상 모델 감지 판단부에서의 판단 결과에 의한 업데이트 요청 뿐만 아니라, 후술하는 바와 같이 업데이트 시간 관리부에 의해 업데이트 요청이 있을 경우에도, OTA 업데 이트 요청 신호를 생성하여 상기 OTA 서버로 전송할 수 있다. 또한, 본 발명에 따른 OTA를 이용한 소프트웨어 업데이트 요청 장치는, 상기 고도 제어 소프트웨어의 최종 업데 이트가 진행된 이후에 경과된 시간을 측정하여 경과 시간이 미리 설정된 기준 경과 시간 이상일 경우 상기 업데 이트 예약 스케쥴러로 업데이트 요청 신호를 전송하는 업데이트 시간 관리부를 더 포함할 수 있다. 상기 업데이트 시간 관리부는, 상기 고도 제어 소프트웨어에서 이상 모델 데이터가 도출되지 않는 경우에 도, 일정 주기 마다 업데이트 파일의 존재 여부를 확인하고 업데이트를 실행할 수 있게 한다. 이를 위하여, 상기 업데이트 시간 관리부는, 정기적인 업데이트 주기로서 기준 경과 시간을 설정하고, 차 량에 구비된 타이머에 의해 기준 경과 시간의 충족 여부를 판단할 수 있다. 예를 들어, 상기 업데이트 시간 관 리부는, 업데이트 주기로서 기준 경과 시간을 주 또는 월의 단위로 설정하거나 시간 단위로 설정할 수 있 다. 상기 업데이트 시간 관리부는, 상기 고도 제어 소프트웨어의 최종 업데이트 진행 시각과 현재 시각의 차이 를 연산하여 최종 업데이트 이후의 경과 시간을 산출하고, 상기 경과 시간을 기준 경과 시간과 비교하여 업데이 트의 요청 여부를 판단하는 경과 시간 계산부를 포함할 수 있다. 상기 경과 시간 계산부는, 하기의 수학식 1과 같이 현재 시각과 마지막 업데이트 시각의 차이를 연산하여 최종 업데이트가 진행된 이후 어느 정도의 시간이 경과하였는지 여부를 계산함으로써, 기준 경과 시간의 충족 여부를 판단할 수 있다. [수학식 1]"}
{"patent_id": "10-2022-0018901", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "이때, 상기 마지막 업데이트가 상기 이상 모델 감지 판단부에서 이상 모델로 판단되어 업데이트가 진행된 경우, 상기 마지막 업데이트 시각은 그 시점이 될 수 있으며, 후술하는 바와 같이 운전자의 업데이트 요청이나 상기 OTA 서버에서 업데이트가 강제적으로 진행된 경우에는 그 시점이 마지막 업데이트 시각으로 설정될 수 있 다. 상기 경과 시간 계산부는, 차량에 구비된 AVN(Audio, Video, Navigation) 시스템으로부터 획득한 시간 정 보나, 차량에 구비된 RTC((Real-Time Clock)로부터 획득한 시간 정보를 이용하여 현재 시간을 파악할 수 있다. 또한, 상기 업데이트 시간 관리부는, 상기 차량의 운전자에 의해 입력되는 미래의 특정 시점을 상기 고도 제어 소프트웨어의 업데이트 실행 시점으로 저장하고, 현재 시각을 상기 업데이트 실행 시점과 비교하여 업데이 트의 요청 여부를 판단한 후 상기 업데이트 예약 스케쥴러로 업데이트 요청 신호를 전송하는 수동 예약 시간부를 더 포함할 수 있다. 이때, 상기 수동 예약 시간부에서는, 업데이트가 실행될 미래의 특정 시점을 운전자가 수동으로 설정할 수 있다. 상기 수동 예약 시간부는 수동 예약이 설정된 경우 차량에 구비된 AVN이나 RTC로부터 획득한 시간 정보를 이용하여 예약된 시점이 도래하였는지 여부를 판단하고, 도래한 것으로 판단될 경우 상기 업데이트 예약 스케쥴러에 업데이트를 요청할 수 있다. 또한, 상기 수동 예약 시간부는, 현재 시점을 수동 예약이 진행되는 시점으로 설정하여 상기 업데이트 예 약 스케쥴러에 즉시 업데이트를 요청할 수 도 있다. 그에 따라, 상기 경과시간 계산부에 의해 마지막 업데이트 시점으로부터 일정 주기마다 자동으로 업데이트 가 실행될 수 있음은 물론, 상기 수동 예약 시간부에 의해 운전자가 설정하는 미래의 특정 시점에 업데이 트가 실행될 수도 있고, 운전자가 원하는 즉시 업데이트가 실행될 수도 있다. 이와 같이, 고도 제어 소프트웨어의 결과치가 이상 모델 데이터로 판단될 경우뿐만 아니라 일정 주기마다 업데 이트가 실행될 수 있게 함으로써, 오프 라인 상태에서 제어 로직을 실행하더라도 온라인 상태를 유지하고 있는 경우 못지 않게 상기 고도 제어 소프트웨어를 최신 버전으로 유지할 수 있다. 또한, 최신 업데이트 버전이 반영된 고도 제어 소프트웨어의 결과치를 필요로 하는 운전자의 의지에 의하여 특 정 시점에 또는 즉시 업데이트가 실행될 수 있으므로, 고도 제어 소프트웨어가 온라인 상태를 유지하지 못하게 됨으로 인해 초래될 수 있는 업데이트 지연 또는 기계 학습 반영의 지체 등으로 인한 문제점을 최소화할 수 있 게 된다. 다음에는 도 10 내지 도 12를 참조하여, 본 발명의 다른 실시예에 따른 OTA를 이용한 소프트웨어 업데이트 요청 방법을 설명한다. 먼저, 도 10을 참조하면, 본 발명의 다른 실시예에 따른 OTA를 이용한 소프트웨어 업데이트 요청 방법은, 차량 제어기에 오프라인 모델로 설치되어 있는 고도 제어 소프트웨어의 실행 결과치가 미리 설정된 판단 기준을 충족 시키지 못할 경우 상기 고도 제어 소프트웨어를 업데이트가 필요한 이상 모델로 판단한 후 업데이트 예약 스케 쥴러로 업데이트 요청 신호를 전송하는 이상 모델 감지 판단단계(S100)와, 차량이 정차 중인지 여부를 판단하고, 정차 중인 차량에 구비된 배터리의 충전량이 기준 값 이상인 경우 OTA를 이용한 업데이트가 가능한 것으로 판단하는 업데이트 가능 조건 판단단계(S200)와, 이상 모델로 판단된 상기 고도 제어 소프트웨어에 대한 OTA 업데이트 요청 신호를 생성한 후 업데이트 예약 스케쥴러에서 통신망을 통해 OTA 서버로 송출하는 OTA 업데 이트 요청단계(S300)를 포함할 수 있다. 이때, 상기 이상 모델 감지 판단단계(S100)에서는, 상기 고도 제어 소프트웨어의 제어 로직이 최적의 결과치를 도출하지 못하는지 여부를 토대로 업데이트의 필요성을 자동으로 판단하고, 오프라인 상태로 실행되고 있는 고 도 제어 소프트웨어의 업데이트가 필요한 것으로 판단될 경우 상기 업데이트 예약 스케쥴러로 업데이트 요청 신 호를 전송할 수 있다. 이를 위하여, 상기 이상 모델 감지 판단단계(S100)는, 상기 고도 제어 소프트웨어의 입력 데이터에 대응한 로직 실행 결과치인 출력 데이터가 미리 설정된 판단 기준을 충족시키지 못하는 경우 이상 모델 데이터가 도출된 것으로 감지하는 단계와, 상기 이상 모델 데이터가 감지된 횟수를 미리 설정된 기준 횟수와 비교하는 단계와, 상 기 이상 모델 데이터가 감지된 횟수가 상기 기준 횟수 이상인 경우 상기 고도 제어 소프트웨어를 이상 모델로 판단하고 상기 업데이트 예약 스케쥴러로 업데이트 요청 신호를 전송하는 단계를 포함할 수 있다. 상기 이상 모델 데이터가 도출된 것으로 감지하는 단계에서는, 차량 제어기의 페일 세이프티(Fail-Safety) 기준 을 이상 모델 데이터인지 여부를 판단하기 위한 판단 기준으로 설정할 수 있다. 그에 따라, 상기 이상 모델 데 이터가 도출된 것으로 감지하는 단계에서는 상기 고도 제어 소프트웨어의 출력 데이터가 페일 세이프티의 허용 범위를 초과하였는지 여부를 토대로 이상 모델 데이터인지 여부를 판단할 수 있다. 또한, 상기 이상 모델 데이터가 도출된 것으로 감지하는 단계에서는, 차량 제어기의 내부 로직에 의해 산출된 내부 로직 결과치를 이상 모델 데이터인지 여부를 판단하기 위한 판단 기준으로 설정할 수도 있다. 그에 따라, 상기 이상 모델 데이터가 도출된 것으로 감지하는 단계에서는 상기 고도 제어 소프트웨어의 출력 데이터가 상기 내부 로직 결과치인 레퍼런스 신호와 대비하여 얼마나 상이한지 여부를 토대로 이상 모델 데이터인지 여부를 판 단할 수 있다. 상기 이상 모델 데이터가 감지된 횟수를 비교하는 단계에서는, 상기 이상 모델 데이터가 도출된 것으로 감지된 횟수를 미리 설정된 기준 횟수와 비교할 수 있다. 이와 같이 상기 이상 모델 데이터가 감지된 횟수가 기준 횟수 이상인 경우에만 업데이트가 필요한 상황으로 판단할 수 있게 함으로써, 일회적인 판단 오류의 경우에도 빈번하 게 업데이트가 실행되는 것을 방지할 수 있다. 그리고, 상기 업데이트 요청 신호를 전송하는 단계에서는, 상기 이상 모델 데이터가 감지된 횟수가 상기 기준 횟수 이상인 경우 상기 고도 제어 소프트웨어를 업데이트가 필요한 이상 모델로 판단할 수 있다. 또한, 상기 업데이트 요청 신호를 전송하는 단계에서는, 상기 고도 제어 소프트웨어를 업데이트가 필요한 이상 모델로 판단할 경우, 상기 업데이트 예약 스케쥴러로 업데이트 요청 신호를 전송할 수 있다. 이와 같이 상기 이상 모델 감지 판단단계(S100)에서는, 오프라인 상태에서 제어 로직이 실행되고 있는 고도 제 어 소프트웨어의 결과치를 판단 기준과 비교하여 업데이트의 필요성을 스스로 인식하고, 업데이트의 실행을 요 청할 수 있으므로, 차량 제어기 내부에서의 연산 부담을 증가시키지 않으면서도 고도 제어 소프트웨어의 로직을 이용한 결과 도출이 가능하게 된다. 또한, 상기 이상 모델 감지 판단단계(S100)는, 상기 이상 모델 데이터로 판단된 고도 제어 소프트웨어의 입력 데이터와 출력 데이터를 메모리 등의 기억 장치에 저장하는 단계를 더 포함할 수 있다. 그리고, 상기 업데이트 요청 신호를 전송하는 단계에서 업데이트 예약 스케쥴러로 업데이트 요청 신호가 전송될 때, 기억 장치에 저장되어 있는 이상 모델 데이터도 함께 전송할 수 있다. 이와 같이 상기 업데이트 예약 스케쥴러로 전송된 이상 모델 데이터는 상기 OTA 서버로 전송된 후 고도 제어 소 프트웨어의 업데이트 실행 여부 판단 또는 기계 학습 등을 위한 데이터로 활용될 수 있다. 또한, 상기 업데이트 가능 조건 판단단계(S200)는, 차량이 OTA(Over The Air) 서비스를 이용하여 고도 제어 소 프트웨어의 업데이트를 실행할 수 있는 상태인지 여부를 판단하기 위한 것이다. 이러한 상기 업데이트 가능 조 건 판단단계(S200)는 기존의 OTA 서비스를 이용한 업데이트 가능 조건과 동일하게 설정될 수 있다. 그에 따라, 상기 업데이트 가능 조건 판단단계(S200)에서는, 도 10에 도시된 바와 같이, 차량의 전장 부품에의 전원 공급을 위한 12V 전장 배터리의 충전량(SOC)이 임의의 제1기준 값 이상인지 여부를 판단하고, 구동모터에 의 전원 공급을 위한 고전압 베터리의 충전량(SOC)이 임의의 제2기준 값 이상인지 여부를 판단하며, 차량의 속 도가 0 Kph이고 기어가 P단에 있는 정차 상태인지 여부를 판단할 수 있다. 또한, 상기 OTA 업데이트 요청단계(S300)에서는, 상기 업데이트 가능 조건을 충족시키는 것으로 판단될 경우 상 기 업데이트 요청 신호를 수신한 업데이트 예약 스케쥴러에서 고도 제어 소프트웨어에 대한 업데이트를 요청하 는 OTA 업데이트 요청 신호를 생성하여 상기 OTA 서버로 전송할 수 있다. 이때, 상기 OTA 업데이트 요청단계(S300)에서는, 상기 이상 모델 감지 판단단계에서 메모리 등에 저장해 놓은 이상 모델 데이터를 상기 OTA 업데이트 요청 신호와 함께 상기 OTA 서버로 전송할 수 있다. 또한, 본 발명의 다른 실시예에 따른 OTA를 이용한 소프트웨어 업데이트 요청 방법은, 도 11에 도시된 바와 같 이, 고도 제어 소프트웨어의 최종 업데이트가 진행된 이후에 경과된 시간을 측정하여 경과 시간이 미리 설정된 기준 경과 시간 이상일 경우 업데이트 예약 스케쥴러로 업데이트 요청 신호를 전송하는 업데이트 경과시간 비교 단계(S400)와, 차량이 정차 중인지 여부를 판단하고 정차 중인 차량에 구비된 배터리의 충전량이 기준 값 이상 인 경우 OTA를 이용한 업데이트가 가능한 것으로 판단하는 업데이트 가능 조건 판단단계(S200)와, 상기 업데이 트 요청 신호를 수신한 업데이트 예약 스케쥴러에서 상기 고도 제어 소프트웨어에 대한 OTA 업데이트 요청 신호 를 생성한 후 통신망을 통해 OTA 서버로 송출하는 OTA 업데이트 요청단계(S300)를 포함할 수 있다. 이때, 상기 업데이트 경과 시간 비교단계(S400)에서는, 상기 고도 제어 소프트웨어에서 이상 모델 데이터가 도 출되지 않는 경우에도, 일정 주기 마다 업데이트 파일의 존재 여부를 확인하고 업데이트를 실행한다. 이를 위하여, 상기 업데이트 경과 시간 비교단계(S400)에서는, 정기적인 업데이트 주기로서 기준 경과 시간을 설정하고, 차량에 구비된 타이머에 의해 측정된 현재 시각과 상기 고도 제어 소프트웨어의 최종 업데이트 진행 시각을 이용하여 최종 업데이트 이후의 경과 시간을 산출한 후, 상기 경과 시간을 기준 경과 시간과 비교할 수 있다. 비교 결과 상기 최종 업데이트 이후의 경과 시간이 상기 기준 경과 시간을 넘을 경우 상기 업데이트 예약 스케 쥴러로 업데이트 요청 신호를 전송하여 업데이트의 실행을 요청할 수 있다.이때, 상기 업데이트 경과 시간 비교단계(S400)에서는, 차량에 구비된 AVN 시스템이나 RTC로부터 획득한 시간 정보를 이용하여 최종 업데이트 진행 시각과 현재 시각을 파악할 수 있다. 또한, 본 발명의 다른 실시예에 따른 OTA를 이용한 소프트웨어 업데이트 요청 방법은, 도 12에 도시된 바와 같 이, 차량의 운전자에 의해 입력되는 미래의 특정 시점을 고도 제어 소프트웨어의 업데이트 실행 시점으로 저장 하고, 현재 시각을 상기 업데이트 실행 시점과 비교하여 업데이트 실행 시점이 도래한 경우 업데이트 예약 스케 쥴러로 업데이트 요청 신호를 전송하는 수동 예약 설정단계(S500)와, 차량이 정차 중인지 여부를 판단하고 정차 중인 차량에 구비된 배터리의 충전량이 기준 값 이상인 경우 OTA를 이용한 업데이트가 가능한 것으로 판단하는 업데이트 가능 조건 판단단계(S200)와, 상기 업데이트 요청 신호를 수신한 업데이트 예약 스케쥴러에서 상기 고 도 제어 소프트웨어에 대한 OTA 업데이트 요청 신호를 생성한 후 통신망을 통해 OTA 서버로 송출하는 OTA 업데 이트 요청단계(S300)를 포함할 수 있다. 상기 수동 예약 설정단계(S500)에서는, 업데이트가 실행될 미래의 특정 시점을 운전자가 수동으로 설정할 수 있 다. 상기 수동 예약 설정단계에서는 수동 예약이 설정된 경우 차량에 구비된 AVN이나 RTC로부터 획득한 시간 정 보를 이용하여 예약된 업데이트 실행 시점이 도래하였는지 여부를 판단하고, 도래한 것으로 판단될 경우 상기 업데이트 예약 스케쥴러에 업데이트를 요청할 수 있다. 이때, 도 12에 도시된 바와 같이, 수동 예약을 설정하는 주체가 차량의 운전자가 아닌 경우에는 고도 제어 소프 트웨어의 업데이트 필요성이 있는 것으로 판단한 OTA 서버의 지령에 의해 업데이트 가능 조건의 충족 여부를 판 단한 후, 상기 업데이트 예약 스케쥴러에서 OTA 업데이트 요청 신호를 생성한 후 업데이트를 요청할 수도 있다. 또한, 상기 수동 예약 설정단계(S500)에서는, 운전자가 현재 시점을 수동 예약이 진행되는 시점으로 설정하여 상기 업데이트 예약 스케쥴러에 즉시 업데이트를 요청할 수도 있다. 상기 업데이트 가능 조건 판단단계(S200)와 OTA 업데이트 요청단계(S300)는 도 10을 참조하여 설명한 바와 동일 하다. 따라서, 본 발명에 따른 OTA를 이용한 소프트웨어 업데이트 요청 방법은, 다양한 상황에서 OTA를 이용한 업데이트를 실행할 수 있도록 상기 이상 모델 감지 판단단계(S100)와 업데이트 경과시간 비교단계(S400) 및 상 기 수동 예약 설정단계(S500)를 모두 포함할 수 있다. 그에 따라, 고도 제어 소프트웨어에서 이상 모델 데이터가 감지되거나 기준 경과 시간이 경과한 경우에 자동으 로 OTA를 이용한 업데이트가 실행될 수 있음은 물론, 운전자가 설정하는 미래의 특정 시점 또는 현재 시점에 OTA를 이용한 업데이트가 수행될 수 있으므로, 오프 라인 상태에서 제어 로직을 실행하더라도 온라인 상태를 유 지하고 있는 경우 못지 않게 상기 고도 제어 소프트웨어를 최신 버전으로 유지할 수 있다. 한편, 전술한 본 발명은, OTA를 이용한 소프트웨어 업데이트 요청 방법을 실행시키기 위한 프로그램을 기록한 컴퓨터 해독 가능 기록 매체에 저장된 컴퓨터가 읽을 수 있는 코드로 구현하는 것이 가능하다. 이때, 컴퓨터가 읽을 수 있는 매체는, 컴퓨터 시스템에 의하여 읽혀질 수 있는 데이터가 저장되는 모든 종류의 기록장치를 포함 한다. 컴퓨터가 읽을 수 있는 매체의 예로는, HDD(Hard Disk Drive), SSD(Solid State Disk), SDD(Silicon Disk Drive), ROM, RAM, CD-ROM, 자기 테이프, 플로피 디스크, 광 데이터 저장 장치 등이 있다. 따라서, 상기의 상세한 설명은 모든 면에서 제한적으로 해석되어서는 아니되고 예시적인 것으로 고려되어야 한 다. 본 발명의 범위는 첨부된 청구항의 합리적 해석에 의해 결정되어야 하고, 본 발명의 등가적 범위 내에서의 모든 변경은 본 발명의 범위에 포함된다."}
{"patent_id": "10-2022-0018901", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명에 따른 OTA를 이용한 소프트웨어 업데이트 요청 장치의 블록 구성도. 도 2는 본 발명에 따라 차량 제어기에 설치되는 고도 제어 소프트웨어의 일 예를 나타내는 구성도. 도 3 및 도 4는 본 발명에 따라 이상 모델 감지시 업데이트 요청이 이루어지는 것을 나타내는 상세 구성도. 도 5 및 도 6은 본 발명에 따라 업데이트 이후의 시간 경과에 의해 업데이트 요청이 이루어지는 것을 나타내는 상세 구성도. 도 7 및 도 8은 본 발명에 따라 별도의 필요에 의해 업데이트 요청이 이루어지는 것을 나타내는 상세 구성도. 도 9는 본 발명에 따라 업데이트의 실행 시점을 직접 입력하는 디스플레이 화면의 예시도. 도 10은 본 발명에 따라 이상 모델 감지시 업데이트 요청이 이루어지는 것을 나타내는 순서도. 도 11은 본 발명에 따라 업데이트 이후의 시간 경과에 의해 업데이트 요청이 이루어지는 것을 나타내는 순서도. 도 12는 본 발명에 따라 운전자의 수동 예약에 의해 업데이트 요청이 이루어지는 것을 나타내는 순서도."}
