{"patent_id": "10-2019-0012407", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2020-0094954", "출원번호": "10-2019-0012407", "발명의 명칭": "주행 데이터 기반 차량 상태 예측 시스템 및 방법", "출원인": "순천향대학교 산학협력단", "발명자": "양인범"}}
{"patent_id": "10-2019-0012407", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "차량의 상태를 예측하기 위한 시스템에 의해 수행되는 방법에 있어서,상기 차량의 부품들 또는 모듈들 각각으로부터 소정의 시간 구간 동안의 데이터들을 수집하는 단계;상기 데이터들로부터 상기 차량의 마일리지 구간을 예측하는 단계; 및상기 예측된 마일리지 구간과 실제 마일리지의 비교 결과에 기반하여 상기 차량의 상태를 예측하는 단계를 포함하는 방법."}
{"patent_id": "10-2019-0012407", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 부품들 또는 모듈들은, 상기 차량에 장착된 배터리, 엔진, 모터, 또는 온도계를 포함하는 방법."}
{"patent_id": "10-2019-0012407", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 데이터들의 종류는, 배터리 엔진 흡기 온도, 모터 인버터 온도, 보조 배터리 온도, 엔진 부하 계산 값, 및배터리 흡기 온도 중 적어도 하나를 포함하는 방법."}
{"patent_id": "10-2019-0012407", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 차량의 마일리지 구간을 예측하는 단계는, 상기 소정 시간 구간 동안 수집된 상기 데이터들의 대표 값을결정하고 상기 대표 값으로부터 상기 차량의 마일리지 구간을 예측하는 단계를 포함하고,상기 대표 값은, 상기 데이터들의 평균, 편차, 최대 값, 및 최소 값을 포함하는 방법."}
{"patent_id": "10-2019-0012407", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서,상기 차량의 마일리지 구간을 예측하는 단계는,예측 모델에 상기 상태를 예측하고자 하는 상기 차량의 데이터를 입력하고, 상기 입력된 차량의 데이터와 대응하는 마일리지 구간을 출력하는 단계를 포함하고,상기 예측 모델은, 다른 차량들의 데이터들에 기반한 기계 학습에 기초하여 학습되는 방법."}
{"patent_id": "10-2019-0012407", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5항에 있어서,상기 예측 모델에 입력되는 데이터는, 상기 소정 시간 구간 동안 수집된 데이터들의 평균, 편차, 최대 값, 및최소 값 중 적어도 하나인 방법."}
{"patent_id": "10-2019-0012407", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서,상기 기계 학습은, 상기 다른 차량들의 데이터들의 대표 값을 사용하여 랜덤 포레스트(Random Forest), 인공신경망, 나이브 베이즈(Naive Bayes) 모델 중 적어도 하나에 기초하여 수행되는 방법.공개특허 10-2020-0094954-3-청구항 8 제1항에 있어서,상기 데이터들은, OBD-II 진단 포트를 통해 수집되는 방법."}
{"patent_id": "10-2019-0012407", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제1항에 있어서,상기 차량의 상태를 예측하는 단계는, 상기 예측된 마일리지 구간이 상기 실제 마일리지보다 높은 경우 상기 차량의 부품들 또는 모듈들 중 적어도 하나에 이상이 있는 것으로 예측하는 단계를 포함하는 방법."}
{"patent_id": "10-2019-0012407", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제1항에 있어서,상기 데이터들은, 마일리지 구간의 변화에 따라 임계 값 이상의 변동성을 보이는 상기 데이터들로서 실험 및 통계에 의해 미리 결정되는 방법."}
{"patent_id": "10-2019-0012407", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "차량의 상태를 예측하기 위한 시스템에 있어서,상기 차량의 부품들 또는 모듈들 각각으로부터 소정의 시간 구간 동안의 데이터들을 수집하기 위한 데이터 수집부;상기 데이터들로부터 상기 차량의 마일리지 구간을 예측하기 위한 마일리지 예측부; 및상기 예측된 마일리지 구간과 실제 마일리지의 비교 결과에 기반하여 상기 차량의 상태를 예측하기 위한 상태예측부를 포함하는 시스템."}
{"patent_id": "10-2019-0012407", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제11항에 있어서,상기 부품들 또는 모듈들은, 상기 차량에 장착된 배터리, 엔진, 모터, 또는 온도계를 포함하는 시스템."}
{"patent_id": "10-2019-0012407", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제11항에 있어서,상기 데이터들의 종류는, 배터리 엔진 흡기 온도, 모터 인버터 온도, 보조 배터리 온도, 엔진 부하 계산 값, 및배터리 흡기 온도 중 적어도 하나를 포함하는 시스템."}
{"patent_id": "10-2019-0012407", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제11항에 있어서,상기 마일리지 예측부는, 상기 소정 시간 구간 동안 수집된 상기 데이터들의 대표 값을 결정하고, 상기 대표 값으로부터 상기 차량의 마일리지 구간을 예측하고,상기 대표 값은, 상기 데이터들의 평균, 편차, 최대 값, 및 최소 값을 포함하는 시스템."}
{"patent_id": "10-2019-0012407", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제11항에 있어서,상기 마일리지 예측부는, 예측 모델에 상기 상태를 예측하고자 하는 상기 차량의 데이터를 입력하고, 상기 입력된 차량의 데이터와 대응하는 마일리지 구간을 출력하고,상기 예측 모델은, 다른 차량들의 데이터들에 기반한 기계 학습에 기초하여 학습되는 시스템."}
{"patent_id": "10-2019-0012407", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "공개특허 10-2020-0094954-4-제15항에 있어서,상기 예측 모델에 입력되는 데이터는, 상기 소정 시간 구간 동안 수집된 데이터들의 평균, 편차, 최대 값, 및최소 값 중 적어도 하나인 시스템."}
{"patent_id": "10-2019-0012407", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제16항에 있어서,상기 기계 학습은, 상기 다른 차량들의 데이터들의 대표 값을 사용하여 랜덤 포레스트(Random Forest), 인공신경망, 나이브 베이즈(Naive Bayes) 모델 중 적어도 하나에 기초하여 수행되는 시스템."}
{"patent_id": "10-2019-0012407", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "제11항에 있어서,상기 데이터들은, OBD-II 진단 포트를 통해 수집되는 시스템."}
{"patent_id": "10-2019-0012407", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_19", "content": "제11항에 있어서,상기 상태 예측부는, 상기 예측된 마일리지 구간이 상기 실제 마일리지보다 높은 경우 상기 차량의 부품들 또는모듈들 중 적어도 하나에 이상이 있는 것으로 예측하는 시스템."}
{"patent_id": "10-2019-0012407", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_20", "content": "제11항에 있어서,상기 데이터들은, 마일리지 구간의 변화에 따라 임계 값 이상의 변동성을 보이는 상기 데이터들로서 실험 및 통계에 의해 미리 결정되는 시스템."}
{"patent_id": "10-2019-0012407", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "차량의 상태를 예측하기 위한 시스템에 의해 수행되는 방법이 개시될 수 있다. 차량의 부품들 또는 모듈들 각각 으로부터 소정의 시간 구간 동안의 데이터들을 수집하는 단계, 데이터들로부터 차량의 마일리지 구간을 예측하는 단계, 및 예측된 마일리지 구간과 실제 마일리지의 비교 결과에 기반하여 차량의 상태를 예측하는 단계를 포함할 수 있다."}
{"patent_id": "10-2019-0012407", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 차량 상태 예측 시스템 및 방법에 관한 것으로, 보다 구체적으로는 차량으로부터 획득되는 실주행 데 이터를 이용하여 차량의 상태를 예측하기 위한 시스템 및 방법에 관한 것이다."}
{"patent_id": "10-2019-0012407", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "인공지능과 부분자율주행 기능을 탑재한 스마트자동차와 하이브리드자동차를 포함한 고성능 전기자동차의 지속 적인 발전과 보급이 이루어지고 있다. 이는 반도체, 정보통신기술 등 다양한 분야에서의 기술혁신에서 기인한 것이다. 또한 이러한 기술혁신과 사회적 요구가 결합하여 초연결시대로의 발전이 진행되고 있다. 이 발전은 경 제·사회·문화 전반의 인식 변화를 가져오고 있다. 공유 경제는 이러한 변화를 대표하고 있으며, 새로운 자동 차공유시스템은 대도시를 중심으로 지속적인 비즈니스모델이 개발될 것으로 예상된다. 이러한 모든 것들은 향후 자동차산업, 관련 전후방 산업 및 자동차문화에 있어서 많은 변화와 혁신을 가져올 것으로 예상된다. 이러한 변 화와 혁신은 개인이 소유하고 관리하는 자동차뿐만 아니라, 법인 등이 보유하는 대규모의 자동차에 대한 효율적 이고 안전한 유지보수 및 관리 체계를 포함할 것으로 예상된다. 즉, 현재의 주기적 정비 및 사후 수리에서 예방 정비와 예측 관리 체계로 의 변환을 의미한다. Condition Based Maintenance(CBM), Prognostics Health Monitoring(PHM) 등의 기법이 자동차에 점진적으로 적용되는 것은 이러한 이유에서다. 과거에는 차량의 주행 데이터를 수집하고 처리하는 것이 어려웠기 때문에 시뮬레이션을 활용하여 많은 연구가 진행되었으나 정보통신기술의 발전으로 실주행 데이터를 이용하는 연구가 많이 진행되고 있다. 실주행 데이터 기반의 연구는 실제 자동차를 대상으로 다양한 조건에서의 장기간 데이터를 이용하는 연구와 운전자의 성향을 판별하거나 행동을 분석하는 연구로 구분될 수 있다. 다만, 실주행 차량으로부터 데이터를 수집하기 어려웠기 때문에 시뮬레이션 기반으로 차량 데이터를 수집하여 현실성이 떨어졌다. 최근에는 차량 실주행 데이터를 수집하여 활용하는 연구가 다양하게 수행되고 있으나, 하이 브리드자동차에 대한 연구는 시작 단계에 있다. 또한 운전자 인지, 주행 스타일 구분, 도로상황 인지 등이 주요연구주제로써, 부품 데이터를 이용해 차량 마일리지를 구별하려는 시도는 없었다. 특히 하이브리드자동차는 배 터리의 수명이 중요하기 때문에 배터리뿐만 아니라 이와 관련된 부품을 파악하고 마일리지별 부품의 차이를 분 석하고 모니터링하는 것이 필요하다."}
{"patent_id": "10-2019-0012407", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "차량의 실주행 데이터를 이용하여 주행 마일리지 따라 자동차 부품 및 모듈의 특성 변화를 모니터링하여, 차량 의 효율적인 운용과 이상 진단 및 수명 예측 등을 위한 근거로 사용하기 위한 차량 상태 예측 시스템 및 방법이 제공될 수 있다. 본 실시 예가 이루고자 하는 기술적 과제는 상기된 바와 같은 기술적 과제로 한정되지 않으며, 이하의 실시 예 들로부터 또 다른 기술적 과제들이 유추될 수 있다."}
{"patent_id": "10-2019-0012407", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "차량의 상태를 예측하기 위한 시스템에 의해 수행되는 방법은, 상기 차량의 부품들 또는 모듈들 각각으로부터 소정의 시간 구간 동안의 데이터들을 수집하는 단계, 상기 데이터들로부터 상기 차량의 마일리지 구간을 예측하 는 단계, 및 상기 예측된 마일리지 구간과 실제 마일리지의 비교 결과에 기반하여 상기 차량의 상태를 예측하는 단계를 포함할 수 있다. 상기 부품들 또는 모듈들은, 상기 차량에 장착된 배터리, 엔진, 모터, 또는 온도계를 포함할 수 있다. 상기 데이터들의 종류는, 배터리 엔진 흡기 온도, 모터 인버터 온도, 보조 배터리 온도, 엔진 부하 계산 값, 및 배터리 흡기 온도 중 적어도 하나를 포함할 수 있다. 상기 차량의 마일리지 구간을 예측하는 단계는, 상기 소정 시간 구간 동안 수집된 상기 데이터들의 대표 값을 결정하고 상기 대표 값으로부터 상기 차량의 마일리지 구간을 예측하는 단계를 포함하고, 상기 대표 값은, 상기 데이터들의 평균, 편차, 최대 값, 및 최소 값을 포함할 수 있다. 상기 차량의 마일리지 구간을 예측하는 단계는, 예측 모델에 상기 상태를 예측하고자 하는 상기 차량의 데이터 를 입력하고, 상기 입력된 차량의 데이터와 대응하는 마일리지 구간을 출력하는 단계를 포함하고, 상기 예측 모 델은, 다른 차량들의 데이터들에 기반한 기계 학습에 기초하여 학습될 수 있다. 상기 예측 모델에 입력되는 데이터는, 상기 소정 시간 구간 동안 수집된 데이터들의 평균, 편차, 최대 값, 및 최소 값 중 적어도 하나일 수 있다. 상기 기계 학습은, 상기 다른 차량들의 데이터들의 대표 값을 사용하여 랜덤 포레스트(Random Forest), 인공신 경망, 나이브 베이즈(Naive Bayes) 모델 중 적어도 하나에 기초하여 수행될 수 있다. 상기 데이터들은, OBD-II 진단 포트를 통해 수집될 수 있다. 상기 차량의 상태를 예측하는 단계는, 상기 예측된 마일리지 구간이 상기 실제 마일리지보다 높은 경우 상기 차 량의 부품들 또는 모듈들 중 적어도 하나에 이상이 있는 것으로 예측하는 단계를 포함할 수 있다. 상기 데이터들은, 마일리지 구간의 변화에 따라 임계 값 이상의 변동성을 보이는 상기 데이터들로서 실험 및 통 계에 의해 미리 결정될 수 있다. 차량의 상태를 예측하기 위한 시스템은, 상기 차량의 부품들 또는 모듈들 각각으로부터 소정의 시간 구간 동안 의 데이터들을 수집하기 위한 데이터 수집부, 상기 데이터들로부터 상기 차량의 마일리지 구간을 예측하기 위한 마일리지 예측부, 및 상기 예측된 마일리지 구간과 실제 마일리지의 비교 결과에 기반하여 상기 차량의 상태를 예측하기 위한 상태 예측부를 포함할 수 있다. 상기 부품들 또는 모듈들은, 상기 차량에 장착된 배터리, 엔진, 모터, 또는 온도계를 포함할 수 있다. 상기 데이터들의 종류는, 배터리 엔진 흡기 온도, 모터 인버터 온도, 보조 배터리 온도, 엔진 부하 계산 값, 및 배터리 흡기 온도 중 적어도 하나를 포함할 수 있다. 상기 마일리지 예측부는, 상기 소정 시간 구간 동안 수집된 상기 데이터들의 대표 값을 결정하고, 상기 대표 값 으로부터 상기 차량의 마일리지 구간을 예측하고, 상기 대표 값은, 상기 데이터들의 평균, 편차, 최대 값, 및최소 값을 포함할 수 있다. 상기 마일리지 예측부는, 예측 모델에 상기 상태를 예측하고자 하는 상기 차량의 데이터를 입력하고, 상기 입력 된 차량의 데이터와 대응하는 마일리지 구간을 출력하고, 상기 예측 모델은, 다른 차량들의 데이터들에 기반한 기계 학습에 기초하여 학습될 수 있다. 상기 예측 모델에 입력되는 데이터는, 상기 소정 시간 구간 동안 수집된 데이터들의 평균, 편차, 최대 값, 및 최소 값 중 적어도 하나일 수 있다. 상기 기계 학습은, 상기 다른 차량들의 데이터들의 대표 값을 사용하여 랜덤 포레스트(Random Forest), 인공신 경망, 나이브 베이즈 (Naive Bayes) 모델 중 적어도 하나에 기초하여 수행될 수 있다. 상기 데이터들은, OBD-II 진단 포트를 통해 수집될 수 있다. 상기 상태 예측부는, 상기 예측된 마일리지 구간이 상기 실제 마일리지보다 높은 경우 상기 차량의 부품들 또는 모듈들 중 적어도 하나에 이상이 있는 것으로 예측할 수 있다. 상기 데이터들은, 마일리지 구간의 변화에 따라 임계 값 이상의 변동성을 보이는 상기 데이터들로서 실험 및 통 계에 의해 미리 결정될 수 있다."}
{"patent_id": "10-2019-0012407", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "차량의 실주행 데이터를 이용하여 주행 마일리지 따라 자동차 부품 및 모듈의 특성 변화를 모니터링하여, 차량 의 효율적인 운용과 이상 진단 및 수명 예측 등을 위한 근거로 사용 가능하다."}
{"patent_id": "10-2019-0012407", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "아래에서, 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자들(이하, 통상의 기술자들)이 본 발명을 용이 하게 실시할 수 있도록, 첨부되는 도면들을 참조하여 몇몇 실시 예가 명확하고 상세하게 설명될 것이다. 또한, 명세서에서 사용되는 \"부\" 또는 \"모듈\"이라는 용어는 하드웨어 구성요소 또는 회로를 의미할 수 있다. 하이브리드자동차의 주행 데이터 확보를 위하여 전문연구기관에 구축되어 있는 실시간주행모니터링시스템이 활 용될 수 있다. 실시간주행모니터링시스템은 시험로가 아닌 일반 도로에서 주행하는 차량의 다양한 주행 데이터 를 실시간으로 모니터링하고 저장할 수 있는 무선 통신 기반의 시스템이다. 이 시스템을 이용하여 주행 중인 차 량 및 주행 환경에 대한 데이터를 실시간으로 수집할 수 있으며, OBD(On-Board Diagnostics)-II 진단 포트를 통해 차량의 제어신호 및 세부 부품에 대한 데이터를 수집할 수 있다. 도 1은 일 실시 예에 따라, 실시간주행모니터링시스템의 구성과 동작 개념을 보여준다. 차량 및 부품의 주행 데 이터를 수집하는 차량 정보 수집장치, 차량 정보 수집장치로부터 데이터를 전송받아 서버로 전송하고 서버로부 터 전송받은 설정에 따라 모니터링 항목 및 장치를 설정하는 실시간 무선전송 단말기, 국내 이동통신망을 사용 하여 전송된 데이터를 수집하고 표시하는 M2M 네트워크 플랫폼, 주행 데이터를 저장하고 시험 차량의 주행 상황 을 모니터링하는 운영센터로 구성된다. 차량에서 수집된 데이터는 암호화 및 압축되어 M2M 이동통신망을 통하여 실시간으로 운영기관의 수집서버로 전 송된다. 전송된 데이터는 차량별로 구분되어 각 프로젝트 데이터베이스에 체계적으로 저장되며, 사용자가 필요 로 하는 차량 및 부품의 주행데이터와 분석 환경을 제공한다. 일 실시 예에 따라, 대상 차량은 하이브리드 차량일 수 있다. 대상 차량에서 수집하는 데이터는 별도의 센서나 DAQ를 추가 장착하지 않고 OBD-II에서 제공하는 진단데이터를 포함할 수 있다. 예를 들어, 총 21개 ECU에서 1148개 항목의 데이터가 제공될 수 있다. 1,148개의 데이터 항목 중에서 제어 신호, On/Off 등과 같은 단순 상 태 신호로 구성된 데이터들은 제외할 수 있다. 실제로 의미를 갖는 데이터는 속도, 토크, 온도, 전압, 전류 등 물리적 의미를 갖는 데이터들과 일부 제어 목표 값이기 때문이다. 또한 오류 코드 등 차량 진단 및 유지를 위한 정보 데이터들도 모두 제외할 수 있다. 먼저 차량 상태 예측을 위해 사용되는 부품 데이터를 결정하기 위해, 실험을 통해 마일리지별 주요 부품 값의 변화를 파악할 수 있다. 예를 들어, 누적 마일리지별 보조 배터리의 특성의 경우, 마일리지가 증가할수록 평균 전압 레벨은 낮아지고, 전압 변동 폭은 커질 수 있다. 또한 단위 시간당 배터리 온도 상승량은 점진적으로 커질 수 있다. 이를 통해 하이브리드자동차의 부품 또는 모듈이 마일리지별로 서로 다른 특성 값을 갖는다는 것을 알 수 있다. 마일리지에 따라 평균값이 변하기도 하고, 변동성이 커지기도 한다. 이를 토대로 마일리지별로 부품 특성의 차 이를 도출해낼 수 있는 특징을 도출할 수 있다. 데이터 분포의 특징은 중심성, 변동성, 정규성 등으로 측정한다. 중심성은 평균, 중위수, 최빈치 등으로 평가하 며, 데이터의 변동성은 최대, 최소, 평균, 범위, 분산으로 측정한다. 또 하나의 특징은 정규성으로 왜도와 첨도 로 데이터가 정규분포를 따르는지를 측정한다. 본 발명에서는 분포를 예측하거나 통계적 검증을 할 목적이 아니 므로 데이터의 정규성을 제외하고, 중심성과 변동성으로 특징을 다각화한다. 일 실시 예에 따라, 중심성을 측정 하는 변수로는 평균을 이용하고, 변동성은 최소, 최대, 표준편차를 이용할 수 있다. 중심성 중에서 평균만을 이용한 이유는 차량 부품 데이터는 특정 범위 내에서 자유로이 값이 발생할 수 있기 때 문에 발생 빈도가 높은 특정 값이 무엇인지보다는 평균이 더 의미를 가지기 때문이다. 또한 변동성 측면에서는 범위는 최대, 최소값으로부터 도출되고, 분산 또한 표준편차로부터 도출되기 때문에 변수 간 의존성을 줄이기 위해 이 두 변수를 제외하였다. 초 단위로 수집되는 데이터를 구간화하여, 해당 구간 내에서의 차량 부품 데이터의 변동성을 측정한다. 데이터 의 특징을 추출하는 구간은 구간의 길이와 데이터의 수를 고려하여 10분으로 설정하였다. 데이터 구간을 길게 설정하면, 데이터의 변동성을 충분한 기간 동안 측정할 수 있다는 장점이 있지만, 대신 한정된 주행데이터를 대 상으로 하기 때문에 구간 내에서 추출할 수 있는 데이터가 줄어든다는 단점이 있다. 예를 들어, 한 시간 동안의 주행 데이터를 추출하였다면, 10분 간격으로 특징을 추출하였을 때는 총 6개 구간의 특징이 추출될 수 있다. 본 발명에서는 자동차 주행 데이터의 패턴이 누적 마일리지에 따라 변화하는 점을 이용하여 하이브리드자동차 마일리지 구간을 구분할 수 있다. 마일리지 구간별로 통계적 속성이 크게 변화하는 부품을 찾을 수 있고, 또한 부품의 특성 변화가 큰 마일리지 구간을 알 수 있기 때문이다. 이를 통해 하이브리드자동차의 부품의 이상 상태 등을 예측하거나 비교 분석하는 근거로 활용할 수 있다. 하이브리드 자동차에서 주요 부품인 배터리의 전압(VB), 전류(IB), 온도(Temp of Batt.), 충전량(State of Charge)의 통계 값 특성을 시각화하여 살펴보았다. 마일리지별 통계 값의 분포를 살펴보면 도 2 내지 5와 같은 데, 마일리지가 증가할수록 평균, 최대값은 특정 값으로 수렴하는데 비해, 편차는 점점 더 커지는 양상을 보인 다. 분석결과와 같이 연구에서 사용한 통계치가 마일리지에 따라 다른 분포를 보이므로 마일리지별 부품특성의 변화를 살펴보는 적합한 변수임을 알 수 있다. 본 발명에서는 추출된 특징을 기반으로 하이브리드자동차 마일리지를 판별할 수 있도록 학습 알고리즘을 구축할 수 있다. 트리(Tree)기반의 알고리즘 중에서는 랜덤 포레스트(Random Forest)를 선택할 수 있고, 인공신경망에 서는 오류역전파 알고리즘, 확률 기반 모형에서는 나이브 베이즈(Naive Bayes) 모델을 선택할 수 있다. 선택한 알고리즘은 기존 연구에서 그 성능이 입증된 알고리즘이다. 트리 기반의 알고리즘인 랜덤 포레스트는 앙상블 학습 방법의 일종으로, 의사결정트리를 확장한 모델이다. 일 실시 예에 따라, 인공 신경망 모델 중에는 가장 기본적인 역전파 알고리즘을 사용할 수 있고, 은닉 층은 2개 층 으로 1개 층은 5개의 노드를, 2개 층은 3개의 노드로 설정하여 학습할 수 있다. 나이브 베이즈 모델은 확률 기 반의 원칙에 근거하여 확률 모델의 추정 값을 최대우도방법(Maximum Likelihood Estimation)을 이용하여 적은 양의 데이터로도 학습 모델을 구축할 수 있다. 일 실시 예에 따라, 34개의 부품 데이터로부터 평균, 표준편차, 최대값, 최소값의 총 136개의 특징이 도출되어 학습 데이터로 사용될 수 있다. 마일리지 구간은 3만km 이하, 5만km 이하, 5만km 이상으로 설정될 수 있다. 하이브리드자동차 부품의 특성 값으로 마일리지를 구분하는 알고리즘을 구축한 후 알고리즘을 구축하는데 중요 하게 사용된 변수와 변수간의 관계에 대해 살펴보았다. 중요하게 도출된 부품은 마일리지 구간에 따라 통계 값 이 명확하게 변하는 것으로, 하이브리드자동차 마일리지 구간별로 점검해야하는 부품이라고 할 수 있다. 학습에 주요하게 작동한 변수를 살펴보면 다음과 같다. 랜덤 포레스트에서 사용한 변수 중요도는 IncNodePurity 로 구하는데, 이는 특정 변수로 트리를 분기했을 때 감소하는 노드의 불순도로 측정된다. 불순도는 각 노드의 잔차 곱의 합으로 구해진다. 도 6에 변수의 중요도를 시각화하였다. 가장 중요한 변수는 엔진 흡기 온도, 모터 인버터 온도, 보조 배터리 온도, 엔진 부하 계산 값, 배터리 흡기 온도이다. 마일리지 구간에 따라 특성이 달라 지는 주요 부품을 살펴본 결과, 배터리의 전압, 전류, 온도, 충전량 보다는 배터리 흡기 온도, 보조 배터리 온 도 등에 변화가 먼저 나타난다는 것을 발견하였다. 엔진의 온도는 모터 부품의 온도와 상관관계가 높다. 엔진 흡기온도는 모터 온도와 상관관계가 높게 나타난다. 엔진 부하량의 편차는 부스팅 전후 전압 비율, 부스팅 이후 전압, 시동 직후 모터 토크, 제너레이터 토크의 값 과 상관관계가 높게 나타난다. 또한 평균 통계치는 다른 변수의 평균값과 표준편차는 다른 변수의 표준편차 값 과의 상관성이 높게 나타나며, 다른 주요 부품 값의 최소 값과 역의 상관관계를 가진다. 주요 특징 간의 상관관계를 살펴보면 도 7과 같다. Heat map을 통해 이 관계를 알 수 있는데, 보조배터리 전압 의 최대값과 엔진 부하량과 관련 있고, 보조배터리 온도는 모터 인버터와 관련이 높다는 것을 알 수 있다. 이러 한 상관관계는 자동차의 일반적인 주행환경에서 나타나는 물리적 특성과 부품 및 모듈에 대한 시스템 제어에서 보이는 목표와 일치한다. 하이브리드 자동차의 마일리지와 OBD-II에서 제공하는 데이터와의 상관관계를 분석하기 위하여 다양한 공로에서 7만Km 이상을 주행하면서 데이터를 수집하였다. 수집 데이터에서 물리적 의미를 갖는 유의미한 데이터를 선별하 고 분석하였다. 초 단위로 수집된 CAN 데이터를 10분 단위로 집계하여, 중심성, 변동성, 정규성 등으로 측정하 였다. 이렇게 측정한 통계 특징이 하이브리드 자동차의 마일리지 구간별로 달라지는지를 살펴보았다. 마일리지 구간을 3만이하, 5만이하, 5만초과로 구분하였을 때 10분 단위의 통계값으로 82.3%의 정확도로 구분이 되는 것으로 나타났다. 즉, 하이브리드 자동차를 10분 운행하여 부품의 데이터를 수집하면, 해당 차의 마일리지 구간을 추정할 수 있음을 의미한다. 이를 통해 차량의 마일리지 대비 부품의 이상 여부를 파악할 수 있을 것으로 기대 된다. 또한 차량 부품의 노화 등을 예측하여 유지관리 및 정비 필요 여부를 알려주거나 중고차 거래 시 부품의 노화를 검증하는데 활용할 수 있을 것이다. 도8은 일 실시 예에 따라, 차량의 상태를 예측하기 위한 시스템을 나타낸다. 시스템은 도1 내지 7을 참조하여 상술한 내용에 기반하여, 차량으로부터 수집된 실주행 데이터에 기반하 여 차량의 상태를 예측하고 이를 사용자(예를 들어, 운전자)에게 알릴 수 있다. 시스템은 데이터 수집부, 마일리지 예측부, 및 상태 예측부를 포함할 수 있다. 일 실 시 예에 따라, 데이터 수집부는 차량 내부에, 마일리지 예측부와 상태 예측부는 차량 외부에 위치할 수 있으나 이에 제한되지 않는다. 데이터 수집부, 마일리지 예측부, 및 상태 예측부 모두 차량 내부에 위치할 수도 있다. 데이터 수집부, 마일리지 예측부, 및 상태 예측부 각각 은 서로 분리되어 위치할 수도 있고, 동일한 차량 내의 하나의 장치 내에 포함될 수도 있다. 데이터 수집부 , 마일리지 예측부, 또는 상태 예측부는 적어도 하나의 프로세서를 포함할 수 있다. 데이터 수집부는, 차량의 부품들 또는 모듈들 각각으로부터 소정의 시간 구간 동안의 데이터들을 수집할 수 있다. 수집되는 데이터들은 소정의 시간 구간 동안에 누적된 데이터로서 아날로그 데이터 및/또는 디지털 데 이터를 포함할 수 있다. 예를 들어, 소정의 시간 구간은 5분일 수 있으며, 하나의 시간 구간 동안 수집되는 데 이터의 크기는 수십 KB일 수 있다. 데이터 수집부는 실시간주행모니터링시스템을 이용하여 주행 중인 차 량 및 주행 환경에 대한 데이터를 실시간으로 수집할 수 있으며, OBD(On-Board Diagnostics)-II 진단 포트를 통 해 차량의 제어신호 및 세부 부품에 대한 데이터를 수집할 수 있다. 하이브리드 차량의 경우, 데이터 수집의 대상이 되는 부품들 또는 모듈들은, 차량에 장착된 배터리, 엔진, 모터, 또는 온도계 등을 포함할 수 있다. 수집되는 데이터들은, 마일리지 구간의 변화에 따라 임계 값 이상의 변동성을 보이는 데이터들로서, 상술한 실험 데이터 또는 통계 데이터에 기반하여 미리 결정될 수 있다. 예를 들어, 데이터는, 배터리 엔진 흡기 온도, 모터 인버터 온도, 보조 배터리 온도, 엔진 부하 계산 값, 및 배터리 흡기 온도 중 적어도 하나를 포함할 수 있으나 이에 제한되지 않으며, 본 명세서 전반에 걸쳐 상술한 데이터들 을 포함할 수 있다. 마일리지 예측부는, 수집된 데이터들로부터 차량의 마일리지를 예측할 수 있다. 일 실시 예에 따라, 마일 리지 예측부는, 예측 모델을 이용하여 차량의 마일리지 구간을 3만km 이하의 제1구간, 3만km 초과 및 5만 km 이하의 제2구간, 5만km 이상의 제3구간 중 하나로 예측할 수 있다. 도9를 참조하면, 예측 모델은, 입 력된 부품 데이터에 대응하는 마일리지 구간(또는, 마일리지)을 출력할 수 있다. 예측 모델은 무수 히 많은 차량의 데이터에 기반한 기계 학습을 수행함으로써 생성될 수 있다. 예측 모델의 기계 학습은 상 술한 방법(예를 들어, 랜덤 포레스트, 인공신경망, 나이브 베이즈 모델 등)에 기반하여 수행될 수 있다. 예측 모델의 기계 학습을 수행하기 위해 입력되는 특징들로서 데이터들의 대표값이 사용될 수 있다. 다시 도8을 참조하면, 마일리지 예측부는, 소정 시간 구간 동안 수집된 데이터들의 대표 값을 결정하고 대표 값을 이용하여 마일리지를 예측할 수 있다. 대표 값은 평균, 편차, 최대값, 및 최소 값을 포함할 수 있으 며 이에 대해서는 상술하였다. 예를 들어, 마일리지 예측부는 5분 동안 수집된 배터리의 온도 값들의 평 균을 마일리지 구간을 예측하기 위한 데이터로서 사용할 수 있다. 또는, 마일리지 예측부는 5분 동안 수 집된 엔진 부하 계산 값의 편차를 마일리지 구간을 예측하기 위한 데이터로서 사용할 수 있다. 이러한 경우, 마 일리지를 예측하기 위한 예측 모델에 대한 기계 학습 역시 대표 값들을 사용하여 수행될 수 있다. 상태 예측부는, 예측된 마일리지 구간과 실제 마일리지의 비교 결과에 기반하여 차량의 상태를 예측할 수 있다. 상태 예측부는, 예측된 마일리지가 차량의 실제 마일리지보다 높은 경우 차량에 이상이 있는 것으 로 예측할 수 있다. 상태 예측부는, 차량의 실제 마일리지 대비 특정 부품의 이상 여부를 예측할 수 있다. 예를 들어, 상태 예측부는 엔진으로부터 획득된 데이터들로부터 예측된 마일리지 구간이 실제 마일 리지보다 높은 경우, 차량의 엔진에 이상이 있는 것으로 예측할 수 있다. 상태 예측부는 모터와 엔진으로 부터 획득된 데이터들로부터 예측된 마일리지 구간이 실제 마일리지보다 높은 경우, 차량의 모터와 엔진 중 적 어도 하나에 이상이 있는 것으로 예측할 수 있다. 도10는 일 실시 예에 따라, 차량의 상태를 예측하기 위한 방법을 나타낸다. 단계 S10200에서, 시스템은 차량의 부품들 또는 모듈들 각각으로부터 소정의 시간 구간 동안의 데이터들 을 수집할 수 있다. 수집되는 데이터들은, 마일리지 구간의 변화에 따라 임계 값 이상의 변동성을 보이는 데이 터들로서, 상술한 실험 또는 통계 데이터에 기반하여 미리 결정될 수 있다. 부품들 또는 모듈들은, 하이브리드 차량의 경우, 차량에 장착된 배터리, 엔진, 모터, 또는 온도계를 포함할 수 있다. 데이터는, 배터리 엔진 흡기 온도, 모터 인버터 온도, 보조 배터리 온도, 엔진 부하 계산 값, 및 배터리 흡기 온도 중 적어도 하나를 포함할 수 있다. 시스템은, 실시간주행모니터링시스템을 이용하여 주행 중인 차량 및 주행 환경에 대한 데이터를 실시간으로 수집할 수 있으며, OBD-II 진단 포트를 통해 차량의 제어신호 및 세부 부품에 대한 데이터를 수집할 수 있다. 단계 S10400에서, 시스템은 데이터들로부터 차량의 마일리지를 예측할 수 있다. 시스템은 평균, 편 차, 최대값, 또는 최소 값과 같은 대표 값을 소정 시간 구간 동안 수집된 데이터들로부터 결정하고, 대표 값으 로부터 차량의 마일리지 구간을 예측할 수 있다. 시스템은 다른 차량의 데이터들에 기반한 기계 학습에 기초하여 학습된 예측 모델에 단계 S10200에서 수집된 차량 데이터를 입력하고, 입력된 차량 데이터와 대응하는 마일리지 구간을 출력할 수 있다. 예측 모델에 입력되는 데이터는, 소정 시간 구간 동안 수집된 데이터들의 평 균, 편차, 최대값, 및 최소 값 중 적어도 하나일 수 있다. 예측 모델은 기계 학습에 기반하여 학습된 모델일 수 있다. 예를 들어, 예측 모델의 기계 학습은, 랜덤 포레스트, 인공 신경망, 나이브 베이즈 모델 중 적어도 하나 에 기초하여 수행될 수 있다.단계 S10600에서, 시스템은 예측된 마일리지 구간과 실제 마일리지의 비교 결과에 기반하여 차량의 상태 를 예측할 수 있다. 시스템은 예측된 마일리지 구간이 실제 마일리지보다 높은 경우 차량에 이상이 있는 것으로 예측할 수 있다. 예를 들어, 시스템은 차량의 실제 마일리지 대비 특정 부품의 이상 여부를 예측 할 수 있다. 도11은 일 실시 예에 따라, 차량의 상태를 예측하기 위한 전처리 방법의 흐름도를 나타낸다. 도11의 흐름도는 도10의 차량 상태 예측 방법이 수행되기 전의 준비 동작을 나타낼 수 있다. 예를 들어, 도11의 흐름도는 도8의 마일리지 예측부를 생성하기 위한 방법의 흐름도를 나타낼 수 있다. 단계 S11200에서, 시스템은 부품 또는 모듈 데이터를 복수의 구간 별로 수집할 수 있다. 부품 또는 모듈 데이터들은 무수히 많은 차량들로부터 수집될 수 있다. 예를 들어, 수집의 대상이 되는 무수히 많은 차량들은 상태를 예측하고자 하는 현재 차량과 동종의 차량들일 수 있다. 구간은 기준 시간을 의미할 수 있다. 예를 들어, 소정의 시간 구간은 5분일 수 있으며, 하나의 시간 구간 동안 수집되는 데이터의 크기는 수십 KB일 수 있 다. 단계 S11400에서, 시스템은 구간 별로 수집된 데이터들의 특징을 결정할 수 있다. 시스템은 구간 별로 수집된 N개의 데이터들로부터 특징을 추출할 수 있다. 일 실시 예에 따라, 특징은 하나의 구간에 포함된 N 개의 데이터들의 대표 값(평균, 중간 값, 분산 값 등)을 포함할 수 있다. 단계 S11600에서, 시스템은 마일리지를 구간화할 수 있다. 시스템은 실험을 통해, 마일리지 구간별 로 통계적 속성이 크게 변화하는 부품을 찾을 수 있고, 또한 부품의 특성 변화가 큰 마일리지 구간을 선별할 수 있다. 예를 들어, 시스템은 차량의 마일리지 구간을 3만km 이하의 제1구간, 3만km 초과 및 5만km 이하의 제2구간, 5만km 이상의 제3구간으로 구간화할 수 있다. 단계 S11800에서, 시스템은 마일리지 구간과 데이터 특징을 연계함으로써 예측 모델을 구축할 수 있다. 예측 모델을 구축하는 방법은 도9를 참조하여 상술하였다. 도12는 일 실시 예에 따라, 차량의 상태를 예측하기 위한 시스템을 나타낸다. 도12의 시스템은 도12의 시스템은 도8의 시스템의 추가적인 실시 예를 나타낸다. 도12를 참조하면, 시스템은 VCM(Vehicle Control Module, 12100), IVN(In-Vehicle Network, 12200), 고장 진단 모듈, 상태 예측 모듈, 판단 모듈, 차량 I/F 모듈, 및 클라우드/모바일 (Cloud/mobile, 12700) 모듈을 포함할 수 있다. 고장 진단 모듈은 VCM 또는 ECU(미도시)에 내장된 소프트웨어/하드웨어 모듈을 통칭할 수 있다. 고장 진단 모듈은 차량 전반에 대한 제어를 위한 VCM 으로부터 주행 거리, 센서 신호, ECU 데이 터 등을 수신할 수 있다. 상태 예측 모듈은 IVN으로부터 수신된 복수의 데이터들을 이용하여 마일리지를 예측하고, 예측된 마일리지가 실제 마일리지와 차이가 클 경우, 이상 상태 가능성(확률적)이 큰 것으로 판단할 수 있다. 일 실시 예에 따라, 상태 예측 모듈은 도8의 마일리지 예측부와 상태 예측부를 포함할 수 있다. 판단 모듈은 특정 시스템/모듈/부품의 이상 여부 또는 예상되는 이상 징후를 판단하기 위한 모듈로서, 고장 진단 모듈의 결과와 비교하여 최종적으로 어떤 시스템/모듈/부품이 하드웨어 상으로 또는 소프트웨 어 상으로 문제가 있는지 판단할 수 있다. 도13을 참조하면, 고장 진단 모듈은 차량 데이터 버스(Vehicle Data BUS)로부터 각종 데이터를 수신하고, 수신된 데이터로부터 특정 부품/모듈에 대한 이상 여부를 나타내는 정보를 상태 예측 모듈로 전달할 수 있다. 상태 예측 모듈은 고장 진단 모듈로부터 특정 부품/모듈에 대한 이상 여부를 나 타내는 정보를 수신할 수 있다. 또한, 상태 예측 모듈은 차량 데이터 버스로부터 수신된 데이터에 기반 하여 차량의 마일리지를 예측하고, 예측된 마일리지와 차량의 실제 마일리지의 비교 결과에 기반하여 차량의 상 태를 예측할 수 있다. 상태 예측 모듈은 특정 부품/모듈에 대한 이상 여부를 나타내는 정보와 예측된 차 량의 상태 정보를 판단 모듈에 전달할 수 있다. 판단 모듈은 특정 부품/모듈에 대한 이상 여부를 나타내는 정보와 예측된 차량의 상태 정보에 기반하여 최종적으로 어떤 시스템/모듈/부품에 문제가 있는지 판단 할 수 있다. 다시 도12를 참조하면, 차량 I/F 모듈은 인터페이스 모듈로서, 클러스터 등을 통해 사용자(예를 들어, 운전자)에게 정보를 제공할 수 있다. 일 실시 예에 따라, 사용자는 차량 I/F 모듈을 통해 차량의 상태 정보를 알림 받을 수 있다. 또는 사용자는 클라우드/모바일(Cloud/mobile, 12700) 모듈을 통해 자신의 단말기로 차량의 상태 정보를 전송받을 수 있다. 설명들은 본 발명을 구현하기 위한 예시적인 구성들 및 동작들을 제공하도록 의도된다. 본 발명의 기술 사상은 위에서 설명된 실시 예들뿐만 아니라, 위 실시 예들을 단순하게 변경하거나 수정하여 얻어질 수 있는 구현들도 포함할 것이다. 또한, 본 발명의 기술 사상은 위에서 설명된 실시 예들을 앞으로 용이하게 변경하거나 수정하여 달성될 수 있는 구현들도 포함할 것이다."}
{"patent_id": "10-2019-0012407", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도1은 일 실시 예에 따라, 실시간주행모니터링시스템의 구성과 동작 개념을 나타낸다. 도2는 일 실시 예에 따라, 배터리의 전압(VB)의 통계 값 특성을 시각화한 그래프이다. 도3은 일 실시 예에 따라, 배터리의 온도(IB)의 통계 값 특성을 시각화한 그래프이다. 도4는 일 실시 예에 따라, 배터리의 온도(Temp of Batt.)의 통계 값 특성을 시각화한 그래프이다. 도5는 일 실시 예에 따라, 배터리의 충전량(State of Charge)의 통계 값 특성을 시각화한 그래프이다. 도6은 일 실시 예에 따라, 변수의 중요도를 시각화한 것이다. 도7은 일 실시 예에 따라, 주요 특징 간의 상관관계를 나타낸 히트맵(Heat map)이다. 도8은 일 실시 예에 따라, 차량의 상태를 예측하기 위한 시스템을 나타낸다. 도9는 일 실시 예에 따라, 마일리지 구간을 예측하기 위한 예측 모델을 나타낸다. 도10은 일 실시 예에 따라, 차량의 상태를 예측하기 위한 방법의 흐름도를 나타낸다. 도11은 일 실시 예에 따라, 차량의 상태를 예측하기 위한 전처리 방법의 흐름도를 나타낸다. 도12는 일 실시 예에 따라, 차량의 상태를 예측하기 위한 시스템을 나타낸다. 도13은 일 실시 예에 따라, 차량의 상태를 예측하기 위한 시스템을 나타낸다."}
