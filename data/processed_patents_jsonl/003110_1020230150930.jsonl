{"patent_id": "10-2023-0150930", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0045418", "출원번호": "10-2023-0150930", "발명의 명칭": "무선통신 시스템에서 데이터 서비스를 제공하는 방법 및 장치", "출원인": "삼성전자주식회사", "발명자": "이호연"}}
{"patent_id": "10-2023-0150930", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "무선 통신 시스템에서 제어 신호 처리 방법에 있어서,기지국으로부터 전송되는 제1 제어 신호를 수신하는 단계;상기 수신된 제1 제어 신호를 처리하는 단계; 및상기 처리에 기반하여 생성된 제2 제어 신호를 상기 기지국으로 전송하는 단계를 포함하는 것을 특징으로 하는제어 신호 처리 방법."}
{"patent_id": "10-2023-0150930", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 개시는 보다 높은 데이터 전송률을 지원하기 위한 5G 또는 6G 통신 시스템에 관련된 것이다."}
{"patent_id": "10-2023-0150930", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 개시(disclosure)는 무선 통신 시스템에 관한 것으로, 보다 구체적으로 무선 통신 시스템의 IMS 프레임워크 에서 데이터 채널 서비스를 제공하기 위하여 IMS 이벤트에 구독하고 알림을 받는 방법에 관한 것이다."}
{"patent_id": "10-2023-0150930", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "5G 이동통신 기술은 빠른 전송 속도와 새로운 서비스가 가능하도록 넓은 주파수 대역을 정의하고 있으며, 3.5 기가헤르츠(3.5GHz) 등 6GHz 이하 주파수('Sub 6GHz') 대역은 물론 28GHz와 39GHz 등 밀리미터파(㎜Wave)로 불 리는 초고주파 대역('Above 6GHz')에서도 구현이 가능하다. 또한, 5G 통신 이후(Beyond 5G)의 시스템이라 불리 어지는 6G 이동통신 기술의 경우, 5G 이동통신 기술 대비 50배 빨라진 전송 속도와 10분의 1로 줄어든 초저 (Ultra Low) 지연시간을 달성하기 위해 테라헤르츠(Terahertz) 대역(예를 들어, 95GHz에서 3 테라헤르츠(3THz) 대역과 같은)에서의 구현이 고려되고 있다. 5G 이동통신 기술의 초기에는, 초광대역 서비스(enhanced Mobile BroadBand, eMBB), 고신뢰/초저지연 통신 (Ultra-Reliable Low-Latency Communications, URLLC), 대규모 기계식 통신 (massive Machine-Type Communications, mMTC)에 대한 서비스 지원과 성능 요구사항 만족을 목표로, 초고주파 대역에서의 전파의 경로 손실 완화 및 전파의 전달 거리를 증가시키기 위한 빔포밍(Beamforming) 및 거대 배열 다중 입출력(Massive MIMO), 초고주파수 자원의 효율적 활용을 위한 다양한 뉴머롤로지 지원(복수 개의 서브캐리어 간격 운용 등)와 슬롯 포맷에 대한 동적 운영, 다중 빔 전송 및 광대역을 지원하기 위한 초기 접속 기술, BWP(Band-Width Part) 의 정의 및 운영, 대용량 데이터 전송을 위한 LDPC(Low Density Parity Check) 부호와 제어 정보의 신뢰성 높은 전송을 위한 폴라 코드(Polar Code)와 같은 새로운 채널 코딩 방법, L2 선-처리(L2 pre-processing), 특정 서 비스에 특화된 전용 네트워크를 제공하는 네트워크 슬라이싱(Network Slicing) 등에 대한 표준화가 진행되었다. 현재, 5G 이동통신 기술이 지원하고자 했던 서비스들을 고려하여 초기의 5G 이동통신 기술 개선(improvement) 및 성능 향상(enhancement)을 위한 논의가 진행 중에 있으며, 차량이 전송하는 자신의 위치 및 상태 정보에 기 반하여 자율주행 차량의 주행 판단을 돕고 사용자의 편의를 증대하기 위한 V2X(Vehicle-to-Everything), 비면허 대역에서 각종 규제 상 요구사항들에 부합하는 시스템 동작을 목적으로 하는 NR-U(New Radio Unlicensed), NR 단말 저전력 소모 기술(UE Power Saving), 지상 망과의 통신이 불가능한 지역에서 커버리지 확보를 위한 단말- 위성 직접 통신인 비 지상 네트워크(Non-Terrestrial Network, NTN), 위치 측위(Positioning) 등의 기술에 대 한 물리계층 표준화가 진행 중이다. 뿐만 아니라, 타 산업과의 연계 및 융합을 통한 새로운 서비스 지원을 위한 지능형 공장 (Industrial Internet of Things, IIoT), 무선 백홀 링크와 액세스 링크를 통합 지원하여 네트워크 서비스 지역 확장을 위한 노드를 제공하는 IAB(Integrated Access and Backhaul), 조건부 핸드오버(Conditional Handover) 및 DAPS(Dual Active Protocol Stack) 핸드오버를 포함하는 이동성 향상 기술(Mobility Enhancement), 랜덤액세스 절차를 간소화하 는 2 단계 랜덤액세스(2-step RACH for NR) 등의 기술에 대한 무선 인터페이스 아키텍쳐/프로토콜 분야의 표준 화 역시 진행 중에 있으며, 네트워크 기능 가상화(Network Functions Virtualization, NFV) 및 소프트웨어 정 의 네트워킹(Software-Defined Networking, SDN) 기술의 접목을 위한 5G 베이스라인 아키텍쳐(예를 들어,Service based Architecture, Service based Interface), 단말의 위치에 기반하여 서비스를 제공받는 모바일 엣지 컴퓨팅(Mobile Edge Computing, MEC) 등에 대한 시스템 아키텍쳐/서비스 분야의 표준화도 진행 중이다. 이와 같은 5G 이동통신 시스템이 상용화되면, 폭발적인 증가 추세에 있는 커넥티드 기기들이 통신 네트워크에 연결될 것이며, 이에 따라 5G 이동통신 시스템의 기능 및 성능 강화와 커넥티드 기기들의 통합 운용이 필요할 것으로 예상된다. 이를 위해, 증강현실(Augmented Reality, AR), 가상현실(Virtual Reality, VR), 혼합 현실 (Mixed Reality, MR) 등을 효율적으로 지원하기 위한 확장 현실(eXtended Reality, XR), 인공지능(Artificial Intelligence, AI) 및 머신러닝(Machine Learning, ML)을 활용한 5G 성능 개선 및 복잡도 감소, AI 서비스 지 원, 메타버스 서비스 지원, 드론 통신 등에 대한 새로운 연구가 진행될 예정이다. 또한, 이러한 5G 이동통신 시스템의 발전은 6G 이동통신 기술의 테라헤르츠 대역에서의 커버리지 보장을 위한 신규 파형(Waveform), 전차원 다중입출력(Full Dimensional MIMO, FD-MIMO), 어레이 안테나(Array Antenna), 대규모 안테나(Large Scale Antenna)와 같은 다중 안테나 전송 기술, 테라헤르츠 대역 신호의 커버리지를 개선 하기 위해 메타물질(Metamaterial) 기반 렌즈 및 안테나, OAM(Orbital Angular Momentum)을 이용한 고차원 공 간 다중화 기술, RIS(Reconfigurable Intelligent Surface) 기술 뿐만 아니라, 6G 이동통신 기술의 주파수 효 율 향상 및 시스템 네트워크 개선을 위한 전이중화(Full Duplex) 기술, 위성(Satellite), AI(Artificial Intelligence)를 설계 단계에서부터 활용하고 종단간(End-to-End) AI 지원 기능을 내재화하여 시스템 최적화를 실현하는 AI 기반 통신 기술, 단말 연산 능력의 한계를 넘어서는 복잡도의 서비스를 초고성능 통신과 컴퓨팅 자 원을 활용하여 실현하는 차세대 분산 컴퓨팅 기술 등의 개발에 기반이 될 수 있을 것이다."}
{"patent_id": "10-2023-0150930", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 목적은 본 개시(disclosure)의 일 실시 예에 따르면, 무선 통신 시스템에서 제공되는 IMS 이벤트에 구독하고 알림을 받기 위한 방법 및 장치를 제공할 수 있다."}
{"patent_id": "10-2023-0150930", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기와 같은 문제점을 해결하기 위한 본 발명은 무선 통신 시스템에서 제어 신호 처리 방법에 있어서, 기지국으 로부터 전송되는 제1 제어 신호를 수신하는 단계; 상기 수신된 제1 제어 신호를 처리하는 단계; 및 상기 처리에 기반하여 생성된 제2 제어 신호를 상기 기지국으로 전송하는 단계를 포함하는 것을 특징으로 한다."}
{"patent_id": "10-2023-0150930", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 일 실시예에 따르면, 보다 효과적으로 IMS 이벤트에 구독하고 알림을 받을 수 있다."}
{"patent_id": "10-2023-0150930", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 본 발명의 실시예를 첨부한 도면과 함께 상세히 설명한다. 또한 본 발명을 설명함에 있어서 관련된 공지 기능 혹은 구성에 대한 구체적인 설명이 본 발명의 요지를 불필요하게 흐릴 수 있다고 판단된 경우 그 상세한 설명은 생략한다. 그리고 후술되는 용어들은 본 발명에서의 기능을 고려하여 정의된 용어들로서 이는 사용자, 운용자의 의도 또는 관례 등에 따라 달라질 수 있다. 그러므로 그 정의는 본 명세서 전반에 걸친 내용을 토대 로 내려져야 할 것이다. 본 발명의 이점 및 특징, 그리고 그것들을 달성하는 방법은 첨부되는 도면과 함께 상세하게 후술되어 있는 실시 예들을 참조하면 명확해질 것이다. 그러나 본 발명은 이하에서 개시되는 실시 예들에 한정되는 것이 아니라 서 로 다른 다양한 형태로 구현될 수 있으며, 단지 본 실시 예들은 본 발명의 개시가 완전하도록 하고, 본 발명이"}
{"patent_id": "10-2023-0150930", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "속하는 기술분야에서 통상의 지식을 가진 자에게 발명의 범주를 완전하게 알려주기 위해 제공되는 것이며, 본 발명은 청구항의 범주에 의해 정의될 뿐이다. 명세서 전체에 걸쳐 동일 참조 부호는 동일 구성 요소를 지칭한다. 이하 본 개시는 무선 통신 시스템에서 데이터 서비스를 제공하기 위한 장치 및 방법에 관한 것이다. 구체적으로, 본 개시는 무선 통신 시스템 시스템의 IMS(Internet Protocol Multimedia Subsystem) 프레임워크 에서 데이터 채널 서비스를 제공하기 위하여 IMS 이벤트에 구독하고 알림을 받기 위한 기술을 설명한다. 도 1은 본 개시의 일 실시 예에 따른 이동통신 시스템 구조를 도시하는 도면이다. 5GS(5G System)는 단말(UE), NR(New Radio) 기지국 (NG-RAN), 5G 코어 네트워크 로 구성될 수 있다. 도 1 을 참조하면, 5G 코어 네트워크는 AMF(Access and Mobility Management Function), SMF(Session Management Function), UPF(User Plane Function), PCF(Policy Control Function), UDM(Unified Data Management), NSSF(Network Slice Selection Function), AUSF(Authentication Server Function), UDR(Unified Data Repository) 등으로 구성될 수 있다. 단말(UE)은 기지국((R)AN)을 통해 5G 코어 네트워크로 접속할 수 있다. 이 하 UE는 단말로, (R)AN은 기지국으로 지칭될 수 있다. 또한, 추가적으로 5G 코어 네트워크는 AF(Application Function) 및 DN(Data Network)를 더 포함할 수도 있다. 일 실시예에 따르면, AMF는 단말에 대한 무선망 접속(Access) 및 이동성(Mobility)을 관리하는 NF(Network Function)이다. SMF는 단말에 대한 세션(Session)을 관리하는 NF이며, 세션 정보에는 QoS(Quality of Service) 정보, 과금 (charging) 정보, 패킷 처리에 대한 정보를 포함한다. UPF는 사용자 트래픽(예: User Plane 트래픽)을 처리하는 NF이며, SMF에 의해 제어를 받는다. PCF는 무선 통신 시스템에서 서비스를 제공하기 위한 사업자 정책(Operator policy, PLMN policy)을 관리하는 NF이다. 추가로 PCF는 AM(Access and Mobility) 정책 및 UE 정책을 담당하는 PCF와 SM(Session Management) 정 책을 담당하는 PCF로 나뉠 수 있다. AM/UE 정책 담당 PCF와 SM 정책 담당PCF는 논리적 내지 물리적으로 분리된 NF이거나 또는 논리적 내지 물리적으로 하나의 NF일 수 있다. UDM은 단말의 가입자 정보(UE subscription)를 저장 및 관리하는 NF이다. UDR은 데이터를 저장 및 관리하는 NF 내지 데이터베이스(Database, DB)이다. UDR은 단말의 가입 정보를 저장하 고, UDM에게 단말의 가입 정보를 제공할 수 있다. 또한, UDR은 사업자 정책 정보를 저장하고, PCF에게 사업자 정책 정보를 제공할 수 있다. NSSF는 단말을 서비스하는 네트워크 슬라이스 인스턴스(network slice instances)를 선택하거나, NSSAI(Network Slice Selection Assistance Information)를 결정하는 기능을 수행하는 NF일 수 있다. AUSF는 3GPP 엑세스 및 non-3GPP 엑세스를 위한 인증을 지원하기 위한 기능을 수행하는 NF일 수 있다. AF는 본 개시에 따른 서비스를 위한 기능을 제공하는 NF일 수 있다. DN는 사업자 서비스, 인터넷 엑세스 또는 제3자(3rd party) 서비스 등을 제공할 수 있는 데이터 네트워크를 지 칭할 수 있다. 도 2는 본 개시의 일 실시 예에 따른 이동통신 시스템에서 데이터 채널을 제공하기 위한 IMS 구조를 도시하는 도면이다. P-CSCF(Proxy - Call Session Control Function)는 IMS의 첫 번째 컨택 포인트이다. 단말이 전송하는 메시지는 P-CSCF에 첫번째로 도달한다. P-CSCF는 PCF와 상호 연결(interact)의 경우, AF(Application Function) 역할로 써 동작한다. I-CSCF(Interrogating-CSCF)는 사용자에게 향하는 모든 연결을 위한 사업자 네트워크 내의 컨택 포인트이다. 등 록 절차 동안 I-CSCF는 SIP(Session Initiation Protocol) 등록 처리를 위한 단말을 위한 S-CSCF(Serving- CSCF)를 할당한다. 세션 관련 절차에서 I-CSCF는 HSS(Home Subscriber Server)로부터 S-CSCF의 주소를 획득한 다. 수신한 SIP 요청 메시지를 S-CSCF에게 전달한다. 과금과 자원 사용 관련 CDR(Charging Data Record)를 생 성한다. S-CSCF(Serving-CSCF)는 단말을 위한 세션 제어 서비스를 수행한다. 세션 상태(state)를 관리한다. 등록을 위해 Register의 역할을 수행한다. 즉, 등록 요청 메시지를 수락하고 관련 정보를 위치 서버(예를 들어, HSS)에 저장 한다. 단말의 Public User Identity를 위한 정책 정보가 HSS에 있을 경우, 해당 정보를 P-CSCF 및/또는 단말에 게 제공한다. 세션 관련 절차에서 S-CSCF는 세션 제어를 수행한다. 세션 요청을 수락하거나 포워딩한다. 제공되 는 서비스를 위해 서비스 플랫폼과의 상호작용을 처리한다. 엔드포인트에게 서비스 이벤트 관련 정보를 제공한 다. 과금과 자원 사용 관련 CDR를 생성한다. HSS (또는 UDM)는 사용자 가입 정보 및 서비스 정보를 저장하는 서버이다. IMS AS(Application Server)는 이벤트 알림을 위해 DCSF(Data Communication Signaling Functions)와 상호작용 한다. IMS AS는 DCSF로부터 데이터 채널 제어 지시를 수신하고, 그에 맞게 데이터 채널 미디어 자원 관리를 위 해 DCMF(Data Channel Media Function)와 상호작용한다. IMS-AGW는 IMS 접속 게이트웨이이다. MRF(Media Resource Function)는 미디어 스트림 자원을 제어한다. AS와 S-CSCF로부터 오는 정보를 해석하고, 자원 제어 및 할당을 제어한다. 또한, CDR을 생성한다. DCSF는 데이터 채널 제어를 제공하는 제어 기능이다. DCSF는 SIP 시그널링에 관여하지 않는다. DSCF는 IMS AS로 부터 이벤트 리포트를 받고 데이터 서비스를 제공할지 여부를 결정한다. DCSF는 부트스트랩 데이터 채널과 IMS AS를 통해 DCMF 또는 MRF에서의 어플리케이션 데이터 채널 자원을 관리한다. 데이터 채널 어플리케이션 저장소 로부터 데이터 채널 어플리케이션을 다운로드받는다. 데이터 채널 캐퍼빌리티 노출을 위해 NEF(Network Exposure Function)와 상호작용한다. DC 자원 제어 및 트래픽 포워딩을 위해 DC AS와 상호작용한다. DCAR(Data Channel Application Repository)은 검증된 데이터 채널 어플리케이션을 저장하고, DCSF가 요구할 경우 제공한다. MRF는 미디어 스트림 자원을 제어한다. AS와 S-CSCF로부터 오는 정보를 해석하고, 자원 제어 및 할당을 제어한 다. 또한, CDR을 생성한다. DCMF와 MRF는 미디어 자원 관리와 데이터 채널 미디어 트래픽의 포워딩을 제공한다. DCMF와 MRF는 IMS AS의 제 어 하에서 부트스트랩과 어플리케이션 데이터 채널 자원 등의 데이터 채널 미디어 자원을 관리한다. DCMF와 MRF 는 단말로부터 부트스트랩 데이터 채널이 끝나고 단말과 DCSF 사이의 HTTP(HyperText Transfer Protocol) 트래 픽을 포워딩한다. DCMF와 MRF는 P2P(Peer to Peer) 시나리오에서 어플리케이션 데이터 채널을 정박(anchor)하고, 필요시 어플리케이션 데이터 트래픽을 단말에게 또는 단말로부터 포워딩한다. DCMF와 MRF는 단말과 DC AS 간 A2P/P2A 어플리케이션 데이터 채널 상에서의 트래픽을 전달한다. DC Application Server는 데이터 채널 어플리케이션 관련 서비스를 제공하는 서버이다. NEF는 5G 핵심망과 외부 엔티티 (예를 들어, DC AS) 간 통신을 지원하는 NF이다. Remote IMS는 상대 단말이 접속해 있는 IMS 를 의미할 수 있다. 본 발명은 데이터 채널 서비스 제공을 위해 IMS AS를 찾는 방법, DCSF가 데이터 채널 서비스 제공을 위해 IMS 이벤트에 대한 알림을 IMS AS에 구독하는 방법을 제안한다. 본 발명의 실시예를 설명함에 있어서 사용자, 가입자, 단말은 서로 혼용될 수 있다. 도 3은 본 개시의 일 실시 예에 따른 무선 통신 시스템에서 IMS AS 정보를 관리하는 방법 및 절차를 도시하는 도면이다. 본 발명의 실시예에 따른 NRF(Network Repository Function)는 도3에 도시된 절차를 통해 IMS AS 관 련 정보를 수신, 관리하고, 다른 NF에게 IMS AS 관련 정보를 제공할 수 있다. 본 발명의 실시 예에 따른 IMS AS는 IMS 세션 관련 이벤트 구독 기능과 미디어 제어 기능을 제공할 수 있다. 표 1은 IMS AS가 제공하는 NF 서비스의 예를 나타낸다. 표 1 Service Name Service Operations Operation SemanticsExample Consumer(s) Nimsas_SessionEventControl Subscribe Subscribe/NotifyDCSF Notify Subscribe/NotifyDCSF Nimsas_MediaControl MediaInstruction Request/ResponseDCSF IMS 세션 이벤트 제어 서비스와 관련하여, 표2는 IMS AS에 구독 가능한 이벤트의 예를 나타낸다. NF는 표1에 도 시된 세션이벤트제어 서비스를 이용하여 표 2에 도시된 이벤트 알림을 구독할 수 있다. 표 2는 IMS AS에 구독 가능한 이벤트 예를 나타낸다. 표 2 EventID Parameters SessionEstablishmentRequestEvent Calling ID, Called ID, Session case, Media info list SessionEstablishmentProgressEvent Media info list SessionEstablishmentAlertingEvent Media info list SessionEstablishmentSuccessEvent Media info list SessionEstablishmentFailureEvent MediaChangeRequestEvent. Event initiator, Media info list MediaChangeSuccessEvent Media info list MediaChangeFailureEvent Media info list SessionTerminationEvent Session case 도 3을 참조하면 320 단계에서 IMS AS는 NRF에게 NF 등록 메시지를 전송할 수 있다. IMS AS는 단말 등록을 수행한 후 NF 등록 메시지를 전송할 수 있다. NF 등록 요청 메시지는 IMS AS가 NRF에 등 록되고, 다른 NF가 NRF로부터 IMS AS를 찾기 위함일 수 있다. NF 등록 요청메시지는 IMS AS 관련 정보가 포함될 수 있다. 예를 들어, IMS AS name, IMS AS 주소, IMS AS 가 제공하는 서비스, IMS AS가 제공하는 서비 스를 나타내는 지시자(예를 들어, IMS Communication Service Identifier, ICSI), IMS AS가 서비스를 제공하는 또는 IMS AS에 등록된 사용자 정보(예를 들어, 사용자의 Public User Identities, Private User Identities, IMPU, IMPI 등), IMS AS가 서비스를 제공하는 또는 IMS AS에 등록된 그룹 정보(예를 들어, 그룹 ID 등), IMS AS의 capabilities (예를 들어, Data Channel 지원 가능 여부 등) 중 적어도 하나가 포함될 수 있다. 322 단계에서 NRF는 IMS AS를 등록하고, 수신한 IMS AS 관련 정보를 저장할 수 있다. 저장된 IMS AS 정보는 이후 절차에서 NF 발견을 위해 사용될 수 있다. 324 단계에서 DC AS는 NEF로 AF 요청 메시지를 전송할 수 있다. AF 요청 메시지는 DC AS가 IMS AS 에게 표2에 도시된 이벤트 구독을 하기 위해 전송하는 메시지일 수 있다. AF 요청 메시지는 서비스를 나타내는 지시자(예를 들어, IMS Communication Service Identifier, ICSI), 구독하고자 하는 이벤트 ID, 전화 를 거는 및/또는 전화를 받는 사용자 정보(예를 들어, 사용자의 외부 ID, 사용자의 Public User Identities, Private User Identities, IMPU, IMPI 등), 그룹 정보(예를 들어, 외부 그룹 ID 등) 중 적어도 하나가 포함될 수 있다. 구독하고자 하는 이벤트 ID는 표2에 도시된 이벤트를 나타낼 수 있다. 또한, AF 요청 메시지는 하나 이상의 이 벤트 ID를 포함할 수도 있다. 사용자의 외부 ID는 IMS 또는 이통동신 사업자망 내에서 사용하는 ID가 아닌, 외부에서, 예를 들어, 3rd party 서비스 제공자가 관리하는 사용자의 식별자일 수 있다. 외부 그룹 ID는 하나 이상의 사용자가 포함된 그룹을 나타내는 식별자일 수 있다. 그룹 ID로 지시되는 사용자들 은 동일한 서비스를 이용/서비스에 가입한 사용자들로 구성될 수 있다. 상기 동일한 서비스는 324 단계의 AF 요 청 메시지에 포함된 서비스 지시자로 식별할 수 있는 서비스일 수 있다. AF 요청 메시지에 포함된 사용자 정보는 하나 이상의 사용자 식별자를 포함할 수 있다. AF 요청 메시지에 포함된 그룹 정보는 하나 이상의 외부 그룹 식별자를 포함할 수 있다. IMS AS 가 제공하는 서비스 또는 IMS AS가 제공하는 서비스를 나타내는 지시자는 표1에 도시된 IMS AS 가 지원 하는 NF 서비스일 수 있다. 또는, IMS AS 가 제공하는 서비스 또는 IMS AS가 제공하는 서비스를 나타내는 지시 자는 IMS AS가 제공하는 IMS 통신 서비스(IMS Communication Service, ICS Identifier(ICSI))일 수 있다. 표 3 은 ICSI 값의 예를 나타낸다. 표 3 URN-value Brief overview of the functionality associated with this NSS. urn:urn-7:3gpp- service.ims.icsi.mmtelThis URN indicates that the device supports the IMS Multimedia Telephony Communication Service framework, and specifically indicates that the terminal has the capabilities of multimedia telephony urn:urn-7:3gpp- service.ims.icsi.iptvExtract from TS 183 063 clause 5.6.1: \" This URN indicates that the device supports the IMS IPTV Service\" urn:urn-7:3gpp- service.ims.icsi.raExtract from TS 185 010 (draft only) clause A.3: \" This URN indicates that the device supports the IMS Remote Access Service\" urn:3gpp-service.ims.icsi.omapushThis ICSI value is associated with OMA Push services. The OMA Push 2.2 enabler release, which is in Candidate status in the OMA, includes support for SIP Push. SIP Push extends the OMA Push enabler, which is widely deployed and fundamental to many mobile data services, with the ability to operate over SIP-based networks such as 3GPP IMS. The OMA Push ICSI enables SIP transactions that are related to the OMA Push service to be identified, so that messages can be properly handled by the SIP/IP Core Network functions and OMA Push service entities. Support for SIP Push will be fundamental to the evolution of mobile data services in an LTE environment, as OMA Push service entities can provide seamless evolution for OMA service enablers from dependence upon the SMS- based WAP Push transport, transparently delivering the same service- specific data over SIP Push. urn:urn-7:3gpp- service.ims.icsi.oma.cpm.msgOMA CPM Pager Mode CPM Message : Uniquely identifies in a SIP MESSAGE a Pager Mode CPM Standalone Message. urn:urn-7:3gpp- service.ims.icsi.oma.cpm.largemsgOMA CPM Large Mode CPM Message: Uniquely identifies in SIP INVITE a request for Large Message Mode CPM Standalone Message. urn:urn-7:3gpp- service.ims.icsi.oma.cpm.filetran sferOMA CPM File Transfer: Uniquely identifies in SIP INVITE a request for CPM File Transfer urn:urn-7:3gpp- service.ims.icsi.oma.cpm.sessionOMA CPM Chat: Uniquely identifies in SIP INVITE a request for CPM chat. urn:urn-7:3gpp- service.ims.icsi.oma.cpm.deferredOMA CPM Deferred Message urn:urn-7:3gpp- service.ims.icsi.oma.cpm.systemms gOMA CPM System Message: Uniquely identifies in SIP INVITE a request for a CPM System message. urn:urn-7:3gpp- service.ims.icsi.oma.cab_1.0Used to identify and route message notifications specific for OMA CAB and OMA S-CAB, such as notifications to a user that he/she was added as a new contact by another user. 3gpp-service.ims.icsi.oma.cab_1.1Used to identify and route contact subscription invitation requests, using a SIP MESSAGE between two network entities (e.g. cross-domain OMA CAB 1.1 Servers) as defined in OMA CAB 1.1.+g.oma.sip-im IM feature tag used in the Contact header of the SIP REGISTER request to indicate support for OMA SIMPLE IM, and in the Accept- Contact header of: · SIP INVITE for SIMPLE IM chat sessions, file transfer, Large Message Mode and deferred delivery of messages, and of · SIP MESSAGE containing a SIMPLE IM Pager Mode Message. +g.oma.sip-im.system-messageIM feature tag used in the Contact header of the SIP REGISTER request to indicate that a IM client supports System Message, and in the SIP MESSAGE requests to distinguish system messages from normal user message. +g.oma.sip-im.large-message IM feature tag used in the Contact header of the SIP REGISTER request to indicate that a IM client supports Large Message session, and in SIP INVITE to determine that the request is a Large IM Message. urn:urn-7:3gpp- service.ims.icsi.mcpttThis URN indicates that the device has the capabilities to support the mission critical push to talk (MCPTT) service. urn:urn-7:3gpp- service.ims.icsi.mcdataThis URN indicates that the device has the capabilities to support the Mission Critical Data (MCData) service. This URN is also used by the device to associate a SIP request with the Mission Critical Data (MCData) service. urn:urn-7:3gpp- service.ims.icsi.mcdata.sdsThis URN indicates that the device has the capabilities to support the Mission Critical Data (MCData) Short Data Service (SDS) IMS communication service. This URN is also used by the device to associate a SIP request with the Mission Critical Data (MCData) Short Data Service (SDS) IMS communication service. urn:urn-7:3gpp- service.ims.icsi.mcdata.fdThis URN indicates that the device has the capabilities to support the Mission Critical Data (MCData) File Distribution (FD) IMS communication service. This URN is also used by the device to associate a SIP request with the Mission Critical Data (MCData) File Distribution (FD) IMS communication service. urn:urn-7:3gpp- service.ims.icsi.mcvideoThis URN indicates that the device has the capabilities to support the mission critical video (MCVideo) service. 326 단계에서 NEF는 AF 요청 메시지를 인증할 수 있다. NEF는 DC AS가 요청하는 이벤트에 구독 이 가능한 NF 또는 AF인지 검증할 수 있다. NEF는 AF 요청 메시지에 포함된 사용자 ID에 해당하는 단말이 요청받은 서비스를 이용할 수 있는, 즉 해당 서비스에 가입되어 있는 단말인지 검증할 수 있다. NEF는 AF 요청 메시지에 포함된 그룹 ID에 대응하는 사용자 그룹 또는 그룹 ID에 대응하는 단말이 요청 받은 서비스를 이 용할 수 있는, 즉 해당 서비스에 가입되어 있는 그룹 또는 단말인지 검증할 수 있다. NEF는 요청 받은 서 비스가 데이터 채널과 관련된/대응하는 서비스인지 검증할 수 있다. 상기 검증/인증 절차를 위해 단말 가입 정 보가 필요할 경우 NEF는 UDM/HSS로부터 단말 가입 정보를 획득(328 단계 내지 330 단계)할 수도 있다. 328 단계에서 NEF는 UDM/HSS에게 단말 가입 정보 요청 메시지를 전송할 수 있다. 단말 가입 정보 요 청 메시지는 단말 ID가 포함될 수 있다. 단말 ID는 324 단계에서 DC AS로부터 수신한 사용자 정보에 기초 하여 결정될 수 있다. 예를 들어, NEF는 324 단계에서 수신한 단말 ID를 328 단계의 메시지에 포함할 수 있다. 또는, 예를 들어, NEF는 324 단계에서 수신한 단말 ID(예를 들어, 외부 ID 등)를 IMS 또는 이동통신 사업자망에서 사용하는 단말 ID(예를 들어, Public User Identity, Private User Identity 등)로 변경하고, 변 경된 단말 ID를 328 단계의 메시지에 포함할 수 있다. 또는, 예를 들어, NEF는 324 단계에서 수신한 그룹 ID를 IMS 또는 이동통신 사업자망에서 사용하는 그룹 ID 또는 단말 ID(예를 들어, Public User Identity, Private User Identity 등)로 변경하고, 변경된 그룹 ID 또는 단말 ID를 328 단계의 메시지에 포함할 수 있다. 330 단계에서 UDM은 단말 ID 또는 그룹 ID로 지칭되는 사용자가 가입된 서비스 목록을 NEF에게 회신 할 수 있다. NEF는 AF 요청 메시지를 포워딩 할 DCSF를 결정할 수 있다. DCSF 정보를 NEF에 설정되어 있을 수 있다. 예를 들어, 서비스별 서비스를 지원하는 DCSF 정보가 설정되어 있을 수 있다. 또는, 사용자별 사용자 를 지원하는 DCSF 정보가 설정되어 있을 수 있다. AF 요청에 대한 인증이 성공한 경우, 332 단계에서 NEF는 설정 정보에 기초하여 선택된 DCSF에게 AF 요청 메시지를 전송할 수 있다. 네트워크 디플로이먼트 옵션에 따라 DC AS는 324 단계 내지 332 단계에서 도시된 절차에 따라 NEF를 통해 DSCF 에게 AF 요청 메시지를 전송할 수 있다. 또는, DC AS는 NEF를 통하지 않고 DCSF 에게 직접 AF 요청 메시지를 전송할 수 있다. 직접 요청할 경우, 본 발명의 실시예에서 기술한 NEF 동작은 DCSF 에서 수행될 수 있다. 334 단계에서, DCSF는 DC AS로부터 요청받은 이벤트 가입 요청을 처리하기 위하여, 이벤트 가입을 할 대상이 되는 IMS AS를 찾기 위하여, NRF에게 NF 발견 요청 메시지를 전송할 수 있다. NF 발견 요청 메시지 는 발견하고자 하는 IMS AS 관련 정보를 포함할 수 있다. 예를 들어, NF 발견 요청 메시지에는 IMS AS name, IMS AS 주소, IMS AS 가 제공하는 서비스, IMS AS가 제공하는 서비스를 나타내는 지시자(예를 들어, IMS Communication Service Identifier, ICSI), IMS AS가 서비스를 제공하는 또는 IMS AS에 등록된 사용자 정보(예 를 들어, 사용자의 Public User Identities, Private User Identities, IMPU, IMPI 등), IMS AS가 서비스를 제 공하는 또는 IMS AS에 등록된 그룹 정보(예를 들어, 그룹 ID 등), IMS AS의 capabilities (예를 들어, Data Channel 지원 가능 여부 등) 중 적어도 하나가 포함될 수 있다. NRF는 322 단계에서 저장한 IMS AS 정보에 기초하여 334 단계에서 요청받은 DCSF 가 발견하고자 하는 IMS AS 의 조건을 만족하는 IMS AS 를 결정할 수 있다. 336 단계에서 NRF는 DCSF 에게 NF 발견 응답 메시지를 회신할 수 있다. NF 발견 응답 메시지는 NRF가 결정한 IMS AS 정보를 포함할 수 있다. IMS AS 정보는 NRF 가 발견한 IMS AS name, IMS AS 주소, IMS AS 가 제공하는 서비스, IMS AS가 제공하는 서비스를 나타내는 지시자(예를 들어, IMS Communication Service Identifier, ICSI), IMS AS가 서비스를 제공하는 또는 IMS AS에 등록된 사용자 정보(예를 들어, 사용 자의 Public User Identities, Private User Identities, IMPU, IMPI 등), IMS AS가 서비스를 제공하는 또는 IMS AS에 등록된 그룹 정보(예를 들어, 그룹 ID 등), IMS AS의 capabilities (예를 들어, Data Channel 지원 가능 여부 등) 중 적어도 하나가 포함될 수 있다. 338 단계에서 DCSF는 336 단계에서 수신한 IMS AS에게 이벤트 구독 메시지를 전송할 수 있다. 이벤트 구독 메시지는 AF 요청 메시지에 기초하여 결정한 이벤트 구독을 원하는 서비스 관련 정보, 예를 들어 이벤트 ID, 전화를 거는 사용자 ID, 전화를 받는 사용자 ID, 세션 케이스, 미디어 정보 리스트 중 적어도 하나가 포함 될 수 있다. 338 단계의 이벤트 구독 메시지는 이벤트 ID를 포함하지 않을 수도 있다. 또는, 338 단계의 이벤트 구독 메시지 는 사용자(예를 들어, 전화를 거는 사용자 ID, 전화를 받는 사용자 ID 등에 의해 지칭될 수 있는 사용자)와 관 련된 모든 IMS 이벤트(예를 들어, 데이터 채널 관련 IMS 이벤트)에 대한 구독임을 나타낼 수도 있다. 예를 들어, IMS AS는 이벤트 구독 메시지에 이벤트 ID가 포함되지 않았을 경우, 모든 IMS 이벤트에 대한 구독임 을 판단할 수 있다. 또는, 이벤트 구독 메시지에 모든 IMS 이벤트에 대한 구독임을 나타내는 정보(예를 들어, 모든 IMS 이벤트에 대한 구독임을 나타내는 지시자, 모든 IMS 이벤트에 대한 구독임을 나타내는 이벤트 ID 등) 가 포함될 수 있다. 모든 IMS 이벤트는 표 2에 도시된 IMS AS에 구독 가능한 이벤트 중 적어도 하나 또는 전부 를 포함할 수 있다. IMS AS는 수신한 이벤트 가입을 저장하고, 요청 받은 이벤트가 발생할 경우, DCSF 에게 알림 메시지를 전 송(도 5의 512 단계)할 수 있다. 도 4는 본 개시의 일 실시 예에 따른 무선 통신 시스템에서 IMS AS 정보를 관리하는 방법 및 절차를 도시하는 도면이다. 발명의 실시예에 따른 HSS(또는 UDM)은 도4에 도시된 절차를 통해 IMS AS 관련 정보를 관리하고, 다 른 NF에게 IMS AS 관련 정보를 제공할 수 있다. 420 단계에서 HSS/UDM은 IMS AS 관련 정보를 저장할 수 있다. 이동통신사업자는 IMS AS 관련 정보를 HSS/UDM에 설정할 수 있다. IMS AS 관련 정보는 IMS AS name, IMS AS 주소, IMS AS 가 제공하는 서비스, IMS AS가 제공하는 서비스를 나타내는 지시자(예를 들어, IMS Communication Service Identifier, ICSI), IMS AS가 서비스를 제공하는 또는 IMS AS에 등록된 사용자 정보(예를 들어, 사용자의 Public User Identities, Private User Identities, IMPU, IMPI 등), IMS AS가 서비스를 제공하는 또는 IMS AS에 등록된 그룹 정보(예를 들어, 그룹 ID 등), IMS AS의 capabilities (예를 들어, Data Channel 지원 가능 여부 등) 중 적어도 하나가포함될 수 있다. 422 단계 내지 430 단계는 도 3의 324 단계 내지 332 단계에 대응될 수 있다. 432 단계에서 DCSF는, 이벤트 구독 요청의 대상이 되는 IMS AS를 발견하기 위하여 HSS/UDM에게 요청 메시지를 전송할 수 있다. 요청 메시지는 IMS AS 관련 정보가 포함될 수 있다. IMS AS 관련 정보는, IMS AS name, IMS AS 주소, IMS AS 가 제공하는 서비스, IMS AS가 제공하는 서비스를 나타내는 지시자(예를 들어, IMS Communication Service Identifier, ICSI), IMS AS가 서비스를 제공하는 또는 IMS AS에 등록된 사용자 정보(예 를 들어, 사용자의 Public User Identities, Private User Identities, IMPU, IMPI 등), IMS AS가 서비스를 제 공하는 또는 IMS AS에 등록된 그룹 정보(예를 들어, 그룹 ID 등), IMS AS의 capabilities (예를 들어, Data Channel 지원 가능 여부 등) 중 적어도 하나가 포함될 수 있다. HSS/UDM는 420 단계에서 저장한 IMS AS 정보에 기초하여 432 단계에서 요청 받은 DCSF 가 발견하고자 하는 IMS AS 의 조건을 만족하는 IMS AS 를 결정할 수 있다. 434 단계에서 HSS/UDM는 DCSF 에게 응답 메시지를 회신할 수 있다. 응답 메시지는 HSS/UDM가 결정한 IMS AS 정보를 포함할 수 있다. IMS AS 정보는 IMS AS name, IMS AS 주소, IMS AS 가 제공하는 서비스, IMS AS가 제공하는 서비스를 나타내는 지시자(예를 들어, IMS Communication Service Identifier, ICSI), IMS AS가 서비스를 제공하는 또는 IMS AS에 등록된 사용자 정보(예를 들어, 사용자의 Public User Identities, Private User Identities, IMPU, IMPI 등), IMS AS가 서비스를 제공하는 또는 IMS AS에 등록된 그룹 정보(예를 들어, 그룹 ID 등), IMS AS의 capabilities (예를 들어, Data Channel 지원 가능 여부 등) 중 적어도 하나가 포함될 수 있다. 또 다른 실시예에 따르면, NEF는 426 단계의 요청 메시지에 본 발명의 실시예에서 기술한 다른 정보들과 함께 이벤트 구독 요청의 대상이 되는 IMS AS를 발견하기 위하여 IMS AS 관련 정보가 포함될 수도 있다. 그에 따라 HSS/UDM은 428 단계의 응답 메시지에 본 발명의 실시예에서 기술한 다른 정보들과 함께 HSS/UDM(30 4)이 결정한 IMS AS 관련 정보를 포함할 수도 있다. NEF는 430 단계에서 DCSF에게 보내는 메시지에, 본 발명의 실시예에서 기술한 다른 정보들과 함께 HSS/UDM으로부터 수신한 IMS AS 정보를 포함할 수도 있 다. DCSF는 NEF로부터 수신한 정보에 기초하여, NEF로부터 수신한 IMS AS에게 436 단계의 이벤트 가입 메시지를 전송할 수 있다. 이 경우, 432 단계 내지 434 단계는 생략될 수 있다. 436 단계는 도3의 338 단계에 대응될 수 있다. 도 5는 본 발명의 실시예에 따른 IMS 데이터 채널 설정(setup) 절차를 도시하는 도면이다. 도 5를 참고하면, 제 1 단말이 제2 단말과 통신을 위해 세션을 수립하는 절차에서 DC(Data channel)을 설정하는 방법을 도시한다. 510 단계에서 제1 단말은 SIP INVITE 메시지와 SDP(Session Description Protocol)를 전송할 수 있다. INVITE 메시지는 CSCF를 거쳐 IMS AS가 수신할 수 있다. SDP는 데이터 채널 수립을 위한 부트스트랩 오퍼를 포함할 수 있다. IMS AS는 수신한 정보에 기초하여, 예를 들어 SDP가 데이터 채널 수립을 위한 정 보를 포함하고 있을 경우, 수신한 INVIATE 로 수립되는 세션에 DC가 필요함을 판단할 수 있다. 512 단계에서 IMS AS는 도3 또는 도4에 도시된 절차를 통해 IMS 이벤트를 구독하고 있는 NF이 있는지 확인 할 수 있다. 예를 들어, IMS AS는 수신한 데이터 채널을 위한 호 연결 요청과 관련된 IMS 이벤트를 구독하 고 있는 DCSF를 결정할 수 있다. 본 발명의 실시예에 따른 DCSF는 도 3 또는 도4에 도시된 절차를 통 해 사용자 ID 또는 그룹 ID로 지칭되는 사용자(예를 들어, 제1 단말 또는 제2 단말)와 관련된 세션 수립 이벤트 (Session Establishment Request Event)를 IMS AS에 구독하고 있을 수 있다. 또는 본 발명의 실시예에 따른 DCSF는 도 3 또는 도 4에 도시된 절차를 통해 사용자 ID 또는 그룹 ID로 지칭되는 사용자(예를 들어, 제1 단말 또는 제2 단말)와 관련된 모든 IMS 이벤트(Session Establishment Request Event 이벤트 포함)를 IMS AS에 구독하고 있을 수 있다. 514 단계에서 IMS AS는 IMS 이벤트를 구독하고 있는 DCSF에게 알림 메시지를 전송할 수 있다. 알림 메시지는 제1 단말 또는 제2 단말과 관련된 세션 수립 이벤트가 발생했음을 알리는 메시지일 수 있다. 알림 메 시지는 세션 ID, 발신 사용자 ID, 수신 사용자 ID, 세션 경우 (예를 들어, 수신, 발신 등), 이벤트 시작자(예를 들어, served IMS 가입자, 원격 IMS 가입자 등), 미디어 정보 (예를 들어, Data Channel, Audio, Video 등) 중 적어도 하나가 포함될 수 있다. IMS AS는 522 단계의 알림 응답 메시지를 수신할 때까지 세션 수립 절차를중지할 수 있다. 516 단계에서 DCSF는 IMS AS에게 DC의 부트스트랩 셋업을 위한 미디어 지시 정보를 전송할 수 있다. 518 단계에서 IMS AS는 수신한 미디어 지시 정보에 기초하여 DCMF (또는 enMRF)와 교신하여 미디어 자원 할당을 수행할 수 잇다. 미디어 자원 할당을 마친 후 IMS AS는 520 단계에서 DCSF에게 516 단계에서 수신한 미디어 제어 요청 이 완료되었음을 나타내는 응답 메시지를 전송할 수 있다. 미디어 자원 할당이 완료되었으므로 DCSF는 522 단계에서 IMS AS에게 알림 응답 메시지를 전송할 수 있다. 522 단계의 알림 응답 메시지는 514 단계에서 수신한 알림 메시지에 대한 응답일 수 있다. 알림 응답 메시지를 수신한 IMS AS는 세션 수립 절차를 재개할 수 있다. 524 단계 내지 526 단계에서 IMS AS는 CSCF를 거쳐 제2 단말에게 INVITE 메시지를 전송할 수 있다. 제1 단말이 발신한 INVITE 메시지를 수신한 제2 단말은 호 수립을 하기로 결정하고, 528 단계에서 200 OK 메시지를 전송할 수 있다. 200 OK 메시지는 CSCF를 거쳐 530 단계에서 IMS AS에게 전송될 수 있다. 200 OK를 수신한 IMS AS는 해당 세션과 관련된 IMS 이벤트에 가입한 NF가 있는지 확인할 수 있다. 예를 들 어, IMS AS는 수신한 데이터 채널을 위한 호 연결과 관련된 IMS 이벤트를 구독하고 있는 DCSF를 결정 할 수 있다. 본 발명의 실시예에 따른 DCSF는 도 3 또는 도4에 도시된 절차를 통해 사용자 ID 또는 그룹 ID로 지칭되는 사용자(예를 들어, 제1 단말 또는 제2 단말)와 관련된 세션 수립 성공 이벤트(Session Establishment Success Event)를 IMS AS에 구독하고 있을 수 있다. 또는, 본 발명의 실시예에 따른 DCSF 는 도 3 또는 도 4에 도시된 절차를 통해 사용자 ID 또는 그룹 ID로 지칭되는 사용자(예를 들어, 제1 단말 또는 제2 단말)와 관련된 모든 IMS 이벤트(Session Establishment Success Event 이벤트 포함)를 IMS AS에 구 독하고 있을 수 있다. 532 단계에서 IMS AS는 IMS 이벤트를 구독하고 있는 DCSF에게 알림 메시지를 전송할 수 있다. 알림 메시지는 세션 ID, 미디어 정보 중 적어도 하나가 포함될 수 있다. 세션 ID는 514 단계에서 세션 수립 이벤트에 포함된 세션 ID와 동일한 값일 수 있다. IMS AS는 534 단계의 알림 응답 메시지를 수신할 때까지 세션 수 립 절차를 중지할 수 있다. IMS AS로부터 알림 메시지를 수신한 DCSF는, 514 단계에서 수신한 세션 ID로 지칭되는 세션이 성공적 으로 수립되었음을 알 수 있다. 534 단계에서 DCSF는 IMS AS에게 알림 메시지에 대한 응답 메시지를 전송할 수 있다. 536 단계에서 IMS AS는 CSCF를 거쳐 제1 단말에게 200 OK 메시지를 전송할 수 있다. 200 OK를 수신한 제1 단말은 제2 단말과 세션 연결을 수립하고 데이터를 송수신할 수 있다. 본 발명의 실시예에 따른 DCSF가 IMS AS에게 IMS 이벤트에 구독하는 방법에는 다양한 실시예가 가능 할 수 있다. DCSF는 도 3 또는 도 4에 도시된 절차를 통해 IMS AS에게 Data Channel 미디어와 연관 된 IMS 세션 관련 이벤트에 구독할 수 있다. 상기 이벤트 구독은 IMS 세션 자체가 아니라 IMS 세션 중 특정 미 디어 (예를 들어, Data channel)와 관련된 이벤트에 대한 구독일 수 있다. 예를 들어, DCSF는 도3의 338 단계 또는 도4의 436 단계에서 DCSF가 관심있어 하는 하나 이상의 IMS 이벤 트에 구독할 수 있다. 하나 이상의 IMS 이벤트에 구독하기 위하여, 도3의 338 단계 또는 도4의 436 단계의 이벤 트 구독 메시지는 하나 이상의 이벤트 ID를 포함할 수 있다. 또는, 이벤트 구독 메시지는 최대 하나의 이벤트 ID를 포함할 수 있다. 이 경우, 하나 이상의 IMS 이벤트에 구 독하기 위하여 DCSF는 이벤트 ID만큼의 이벤트 구독 메시지를 IMS AS에게 전송할 수 있다. 즉, 도3의 338 단계 또는 도4의 436 단계의 메시지가 구독하고자 하는 이벤트 ID 만큼 IMS AS에게 전송될 수 있다. 또는, 이벤트 구독 메시지는 이벤트 ID를 포함하지 않거나 모든 IMS 이벤트에 대한 구독임을 나타내는 정보를 포함할 수 있다. 모든 IMS 이벤트에 구독하기 위하여, 도 3의 338 단계 또는 도 4의 436 단계의 이벤트 구독 메 시지는 이벤트 ID를 포함하지 않거나 또는 모든 IMS 이벤트에 대한 구독임을 나타내는 정보를 포함할 수 있다.DSCF는 하나의 이벤트 구독 메시지를 전송하여, 모든 IMS 이벤트에 구독할 수 있다. DCSF는 도 5에 도시된 IMS 세션 수립 절차가 발생하기 이전에, 표2에 도시된 IMS 이벤트 중 적어도 하나에 미리 구독하고 있을 수 있다. 예를 들어, DCSF는 Session Establishment Request Event, Session Establishment Success Event, Session Establishment Failure Event 를 도 5의 절차가 발생하기 이전에 미리 구독하고 있을 수 있다. 그에 따라, 도5 이전에 미리 구독한 이벤트에 기초하여, IMS AS는 도 5의 514 단 계 및/또는 도 5의 532 단계의 알림 메시지를 DSCF에게 전송할 수 있다. 본 발명의 또 다른 실시예에 따른 DSCF와 IMS AS는 순차적으로 IMS 이벤트에 구독할 수 있다. 도 6은 본 발명의 실시예에 따른 IMS 이벤트 구독 사슬 절차를 도시하는 도면이다. 도 6을 참조하면, 610 단계에서 DCSF는 AF로부터 AF 요청 메시지를 수신할 수 있다. 610 단계는 도 3의 324 단계 내지 332 단계 또는 도4의 422 단계 내지 430 단계에 대응할 수 있다. 612 단계에서 DCSF는 IMS AS에게 이벤트 구독 메시지를 전송할 수 있다. 612 단계는 도 3의 338 단 계 또는 도4의 436 단계에 대응할 수 있다. 이에 추가로 612 단계의 이벤트 구독 메시지는 Session Establishment Request Event 를 지칭하는 Event ID를 포함할 수 있다. 즉, 612 단계의 이벤트 구독 메시지는 세션 수립 요청에 대한 이벤트만을 포함할 수 있다. 또한, 612 단계의 이벤트 구독 메시지는 상기 이벤트 구독 이 (명시적으로) 해지를 요청할 때까지 계속되는 구독 요청임을 나타내는 지시자가 포함될 수도 있다. IMS AS는 수신한 세션 수립 요청에 대한 이벤트 구독을 저장하고 관리할 수 있다. 614 단계에서 DC 수립 관련 절차가 트리거링될 수 있다. 612 단계는 도5의 510 단계 내지 512 단계에 대응할 수 있다. 616 단계에서 IMS AS는 DCSF에게 세션 수립 요청 이벤트가 발생했음을 알리는 알림 메시지를 전송할 수 있다. 616 단계의 알림 메시지는 612 단계에서 수신한 이벤트 구독에 따라 전송되는 알림 메시지일 수 있다. 616 단계는 도5의 514 단계에 대응할 수 있다. 618 단계에서 IMS AS는 자원 할당 절차를 수행할 수 있다. 618 단계는 도5의 516 단계 내지 520 단계에 대 응할 수 있다. 620 단계에서 DCSF는 이벤트 알림 응답 메시지를 IMS AS에게 전송할 수 있다. 620 단계는 도5의 522 단계에 대응할 수 있다. 이에 추가로 620 단계의 알림 응답 메시지는 DCSF가 구독하기를 원하는 다음 이벤트 정 보가 포함될 수 있다. 예를 들어, DCSF는 616 단계에서 수립 요청 알림을 받은 세션과 관련된 이벤트에 가 입을 하고자 할 수 있다. 그에 따라 DCSF는 620 단계의 알림 응답 메시지에 이벤트 구독 요청을 포함(피기 백)할 수 있다. 이벤트 구독 요청은 구독하고자 하는 세션 관련 정보 (예를 들어, 세션 ID), 이벤트 정보 (예를 들어, 표 2에 도시된 이벤트 Session Establishment Progress, Session Establishment Alert, Session Establishment Success, Session Establishment Failure 이벤트 중 적어도 하나를 나타내는 이벤트 ID 등) 가 포함될 수 있다. 또한, 이벤트 구독 요청은 상기 이벤트 구독이 한 번의 알림이 발생하면 자동 해지될 수 있는 일회성 구독 요청임을 나타내는 지시자가 포함될 수도 있다. 예를 들어, Session Establishment Success 이벤트 가 발생하여IMS AS가 DCSF에게 알림 메시지를 보낼 경우, IMS AS는 알림 메시지를 보내고 Session Establishment Success 이벤트 구독을 해지할 수 있다. 이는 세션 수립이 성공하면 해당 세션에 대해서 는 수립 성공 이벤트가 다시 발생할 일이 없기 때문일 수 있다. 또는, 구독 요청한 이벤트 중 적어도 하나의 이 벤트에서 알림이 발생할 경우, 나머지 이벤트에 대해서도 구독을 해지할 것임을 나타낼 수도 있다. 즉, 예를 들 어, 세션 ID로 지칭되는 세션의 수립 성공 이벤트가 발생하여 DCSF에게 알림 메시지를 전송하면 세션 수립 성공 이벤트 뿐만 아니라 세션 수립 실패 이벤트에 대한 구독도 해지될 수 있다. 이는 세션 수립이 성공하면 해당 세 션에 대해서는 수립 실패 이벤트가 발생할 일이 없기 때문일 수 있다. IMS AS는 수신한 세션 관련 이벤트 구독을 저장하고 관리할 수 있다. 622 단계에서 IMS AS는 세션 수립 관련 절차를 계속 진행할 수 있다. 622 단계는 524 단계 내지 530 단계 에 대응할 수 있다. 624 단계에서 IMS AS는 DCSF에게 세션 수립 성공 이벤트가 발생했음을 알리는 알림 메시지를 전송할 수 있다. 624 단계의 알림 메시지는 620 단계에서 수신한 이벤트 구독에 따라 전송되는 알림 메시지일 수 있다. 624 단계는 도5의 532 단계에 대응할 수 있다. 이에 추가로, 세션 수립 성공 이벤트 구독이 일회성일 경우, IMSAS는 세션 수립 성공 이벤트 구독을 해지할 수 있다. 또한, IMS AS는 해당 세션에 대해 세션 수립 실 패 이벤트 구독도 있을 경우, 세션 수립 실패 이벤트 구독도 함께 해지할 수도 있다. 626 단계에서 DCSF는 이벤트 알림 응답 메시지를 IMS AS에게 전송할 수 있다. 626 단계는 도5의 534 단계에 대응할 수 있다. 이에 추가로 626 단계의 알림 응답 메시지는 DCSF가 구독하기를 원하는 다음 이벤 트 정보가 포함될 수 있다. 예를 들어, DCSF는 624 단계에서 수립 성공 알림을 받은 세션과 관련된 이벤트 에 가입을 하고자 할 수 있다. 그에 따라 DCSF는 626 단계의 알림 응답 메시지에 이벤트 구독 요청을 포함 (피기백)할 수 있다. 이벤트 구독 요청은 구독하고자 하는 세션 관련 정보 (예를 들어, 세션 ID), 이벤트 정보 (예를 들어, 표 2에 도시된 이벤트 Media Change Request, Session Termination 이벤트 중 적어도 하나를 나타 내는 이벤트 ID 등) 가 포함될 수 있다. 또한, 이벤트 구독 요청은 상기 이벤트 구독이 명시적 해지 요청이 있 을 때까지 지속되는 요청인지, 특정 조건에서 암시적으로 해지 가능한 요청인지, 한 번의 알림이 발생하면 자동 해지될 수 있는 일회성 구독 요청인지를 나타내는 정보가 포함될 수도 있다. 예를 들어, Media Change Request 이벤트를 명시적 해지 요청 또는 특정 조건이 만족할 때까지 지속 가능한 이벤트 구독일 수 있다. 이는 IMS 세 션 중 특정 미디어(예를 들어, Data channel)와 관련된 변경이 여러 번 요청/발생할 수 있기 때문일 수 있다. 또한, 이는 IMS 세션이 종료되거나 또는 IMS 세션에서 특정 미디어(예를 들어, Data channel)가 더 이상 이용되 지 않을 경우, 즉 특정 미디어가 종료될 경우에는 더 이상 미디어 관련 변경이 발생하지 않음으로 이에 대한 이 벤트 구독도 필요하지 않기 때문일 수 있다. 즉, IMS 세션이 종료 또는 IMS 세션 중 데이터 채널 종료라는 조건 을 만족할 경우, IMS AS는 Media Change Request 이벤트에 대한 구독을 해지할 수 있다. IMS AS에 수행하는 Media Change Request 이벤트와 Session Establishment Request 이벤트 구독 관리의 차이는, Media Change Request 이벤트는 해당 세션이 종료하면 더 이상 유효하지 않은 이벤트 구독인 반면, Session Establishment Request는 특정 세션과 연관된 이벤트가 아니라 신규 세션 요청 관련 이벤트이므로 세션이 종료되거나 단말을 위한 세션이 하나도 없을 경우에도 이벤트 구독이 유효하다는 점이다. 또한, 예를 들어, Session Termination 이벤트가 발생하여IMS AS가 DCSF에게 알림 메시지를 보낼 경 우, IMS AS는 알림 메시지를 보내고 Session Termination 이벤트 구독을 해지할 수 있다. 이는 세션이 종 료하거나 또는 세션 중 특정 미디어(예를 들어, 데이터 채널)이 종료할 경우 해당 세션에 대해서는 세션 종료 이벤트가 다시 발생할 일이 없기 때문일 수 있다. IMS AS는 수신한 세션 관련 이벤트 구독을 저장하고 관리할 수 있다. 628 단계에서 IMS 세션 중 미디어(예를 들어, 데이터 채널) 변경 요청이 발생할 수 있다. 이는 제1 단말 또는 제2 단말이 새로운 SDP 를 포함한 reINVITE 메시지를 보내어 발생할 수 있다. 제1 단말이 전송한 reINVITE 메시 지를 IMS AS가 수신하면, IMS AS는 미디어 변경 요청이 발생했음을 확인할 수 있다. 630 단계에서 IMS AS는 DCSF에게 미디어 변경 요청 이벤트가 발생했음을 알리는 알림 메시지를 전송 할 수 있다. 630 단계의 알림 메시지는 626 단계에서 수신한 이벤트 구독에 따라 전송되는 알림 메시지일 수 있 다. IMS AS는 DSCF의 instruction을 통해 미디어 변경(예를 들어, 데이터 채널)을 수행할 수도 있다. 632 단계에서 DCSF는 이벤트 알림 응답 메시지를 IMS AS에게 전송할 수 있다. 이는 630 단계의 이벤 트 알림을 잘 받았다는 응답 메시지일 수 있다. 632 단계의 알림 응답 메시지는 DCSF가 구독하기를 원하는 다음 이벤트 정보가 포함될 수 있다. 예를 들어, DCSF는 630 단계에서 미디어 변경 요청 알림을 받은 미디어와 관련된 이벤트에 가입을 하고자 할 수 있다. 그에 따라 DCSF는 632 단계의 알림 응답 메시지에 이벤트 구 독 요청을 포함(피기백)할 수 있다. 이벤트 구독 요청은 구독하고자 하는 세션 관련 정보 (예를 들어, 세션 ID), 이벤트 정보 (예를 들어, 표 2에 도시된 미디어 관련 이벤트 Media Change Success, Media Change Failure 이벤트 중 적어도 하나를 나타내는 이벤트 ID 등) 가 포함될 수 있다. 또한, 이벤트 구독 요청은 상기 이벤트 구독이 한 번의 알림이 발생하면 자동 해지될 수 있는 일회성 구독 요청임을 나타내는 지시자가 포함될 수도 있다. 예를 들어, Media Change Success 이벤트가 발생하여IMS AS가 DCSF에게 알림 메시지를 보낼 경우, IMS AS는 알림 메시지를 보내고 Media Change Success 이벤트 구독을 해지할 수 있다. 이는 요청 받은 미 디어 변경이 성공하면 해당 미디어 변경 요청에 대해서는 변경 성공 이벤트가 다시 발생할 일이 없기 때문일 수 있다. 또는, 구독 요청한 이벤트 중 적어도 하나의 이벤트에서 알림이 발생할 경우, 나머지 이벤트에 대해서도 구독을 해지할 것임을 나타낼 수도 있다. 즉, 예를 들어, 세션 ID로 지칭되는 세션의 미디어 변경 성공 이벤트 가 발생하여 DCSF에게 알림 메시지를 전송하면 미디어 변경 성공 이벤트 뿐만 아니라 미디어 변경 실패 이벤트 에 대한 구독도 해지될 수 있다. 이는 미디어 변경이 성공하면 해당 미디어 변경 요청에 대해서는 미디어 변경실패 이벤트가 발생할 일이 없기 때문일 수 있다. IMS AS는 수신한 세션 (및/또는 미디어 변경) 관련 이벤 트 구독을 저장하고 관리할 수 있다. 634 단계에서 IMS AS는 미디어 변경 절차를 계속 진행할 수 있다. 636 단계에서 IMS AS는 DCSF에게 미디어 변경 성공 (또는 실패) 이벤트가 발생했음을 알리는 알림 메 시지를 전송할 수 있다. 636 단계의 알림 메시지는 632 단계에서 수신한 이벤트 구독에 따라 전송되는 알림 메 시지일 수 있다. 미디어 변경 성공 이벤트 구독이 일회성일 경우, IMS AS는 미디어 변경 성공 이벤트 구독 을 해지할 수 있다. 또한, IMS AS는 해당 세션에 대해 미디어 변경 실패 이벤트 구독도 있을 경우, 미디어 변경 실패 이벤트 구독을 함께 해지할 수도 있다. 638 단계에서 DCSF는 이벤트 알림 응답 메시지를 IMS AS에게 전송할 수 있다. 이는 636 단계의 이벤 트 알림을 잘 받았다는 응답 메시지일 수 있다. 640 단계에서 IMS AS는 IMS 세션 또는 IMS 세션 중 특정 미디어(예를 들어, 데이터 채널) 종료 이벤트가 발생했음을 알 수 있다. 642 단계에서 IMS AS는 DSCF 세션 종료 이벤트가 발생했음을 알리는 알림 메시지를 전송할 수 있다. 642 단계의 알림 메시지는 626 단계에서 수신한 이벤트 구독에 따라 전송되는 알림 메시지일 수 있다. 644 단계에서 DCSF는 이벤트 알림 응답 메시지를 IMS AS에게 전송할 수 있다. 이는 642 단계의 이벤 트 알림을 잘 받았다는 응답 메시지일 수 있다. DCSF는 특정 미디어(예를 들어, 데이터 채널)이 종료 또는 특정 미디어가 제공되고 있는 IMS 세션이 종료되었음을 알 수 있다. IMS AS는 종료된 세션과 관련된 이벤 트 구독을 모두 해지할 수 있다. 예를 들어, 표2에 도시된 이벤트 중 Session Establishment Request Event 를 제외한 다른 이벤트 중 적어도 하나에 대한 구독을 해지할 수 있다. 도 6은 본 발명의 실시예에 따라 IMS 세션과 관련된 이벤트를 순차적으로 가입하고 해지하는 절차를 도시한다. 또한, 도 6은 본 발명의 실시예에 따라 세션과 관계없이 지속되어야 할 이벤트 구독, 세션과 관련하여 특정 조 건이 만족될 때까지 지속되어야 할 이벤트 구독, 한번의 이벤트가 발생하면 해지되어야 할 일회성 구독의 예를 도시하였다. 또한, 도 6은 본 발명의 실시예에 따라 DCSF가 이벤트 알림에 대한 응답 메시지에 그 다음 이벤트 구독 요 청을 피기백하는 방법(예를 들어, 620, 626, 632 단계)을 도시하였으나, 이벤트 구독 요청은 응답 메시지를 수 신한 후, 응답 메시지와 분리된 메시지로 전송될 수도 있다. 또한, 도 6은 이벤트 구독에 대한 암시적 해지를 기술하였으나, DCSF는 이벤트 응답 메시지에 이벤트 구독 해지 요청을 명시적으로 포함할 수도 있다. 예를 들어, DCSF는 626 단계의 응답 메시지에 Session Establishment Success, Session Establishment Failure, Session Establishment Progress, Session Establishment Alerting 이벤트 중 적어도 하나에 대한 구독 해지를 포함할 수 있다. DSCF 638 단계의 응답 메 시지에 Media Change Success, Media Change Failure 이벤트 중 적어도 하나에 대한 구독 해지를 포함할 수 있 다. DSCF 638 단계의 응답 메시지에 표2에 도시된 이벤트 중 Session Establishment Request 이벤트를 제외한 이벤트 중 적어도 하나에 대한 구독 해지를 포함할 수 있다. 본 발명의 또 다른 실시예에 따른 DSCF는 모든 IMS 이벤트에 대해 IMS AS에게 구독한 상태일 수 있다. 이 경우, 도 6의 612 단계의 메시지는 모든 IMS 이벤트에 대한 구독임을 나타낼 수 있다. 그에 따라 IMS AS는 IMS 이벤트가 발생할 시, 616 단계, 624 단계, 630 단계, 636 단계, 642 단계의 이벤트 알림 메시지 를 DCSF에게 전송할 수 있다. 또한, 612 단계의 메시지가 모든 IMS 이벤트에 대한 구독을 포함하였으므로, 620단계, 626 단계, 632 단계의 메시지는 추가적인 이벤트 구독 요청 메시지를 포함하지 않을 수 있다. 본 발명은 일 실시예에 따라 DCSF가 DC AS로부터 수신한 요청에 기초하여 IMS AS에게 이벤트 가입 구 독 요청을 하고 이벤트 알림 메시지를 수신하는 방법을 설명하였다. 이에 추가로, 일 실시예에 따르면, DC AS가 이벤트 알림 메시지를 수신할 수도 있다. 예를 들어, 도 3의 338 단계 또는 도 4의 436 단계에서 DCSF는 이벤트 구독 요청에 대한 소비자가 DC AS임 을 나타내는 정보 및/또는 DC AS 주소(예를 들어, DC AS의 IP 주소 등)를 포함할 수 있다. 그에 따라 IMS AS는 구독 신청된 이벤트가 발생시, DC AS에게 이벤트 알림 메시지를 전송할 수 있다. DC AS는 IMS AS로부터 직접 이벤트 알림 메시지를 수신할 수 있다. 또는, 예를 들어 DCSF는 IMS AS로부터 수신한 이벤트 알림 정보를 DC AS에게 전송할 수 있다. 그에 따라 도 5 또는 도6에 도시된 절차에 따라 이벤트 알림을 DCSF가 수신했을 경우, DCSF는 해당 이벤트 정보를 DC AS에게 전송할 수 있다. DCSF는 이벤트 정보를 DC AS에게 직접 전송하거나 또는 NEF를 통해서 DC AS에게 전송할 수 있다. DC AS는 IMS AS로부터 발생한 이벤트를 DCSF 및/또는 NEF를 통해 직간접으로 이벤트 알림 메시지를 수신할 수 있다. 도 7은 본 발명의 일 실시예에 따른 단말의 구조를 도시한 도면이다. 도 7을 참고하면, 단말은 송수신부 , 제어부 , 저장부 을 포함할 수 있다. 본 발명에서 제어부 는, 회로 또는 어플리케이션 특정 통합 회로 또는 적어도 하나의 프로세서라고 정의될 수 있다. 송수신부 는 다른 네트워크 엔티티와 신호를 송수신할 수 있다. 송수신부는 예를 들어, 기지국으로부 터 시스템 정보를 수신할 수 있으며, 동기 신호 또는 기준 신호를 수신할 수 있다. 제어부 은 본 발명에서 제안하는 실시예에 따른 단말의 전반적인 동작을 제어할 수 있다. 저장부는 상기 송수신부 를 통해 송수신되는 정보 및 제어부 을 통해 생성되는 정보 중 적어도 하나를 저장할 수 있다. 도 8은 본 발명의 일 실시예에 따른 네트워크엔티티의 구조를 도시한 도면이다. 도 8을 참고하면, 단말은 송수신부 , 제어부 , 저장부 을 포함할 수 있다. 본 발명에서 제어부 는, 회로 또는 어플리케이션 특정 통합 회로 또는 적어도 하나의 프로세서라고 정의될 수 있다. 송수신부 는 다른 네트워크 엔티티와 신호를 송수신할 수 있다. 송수신부는 예를 들어, 기지국으로부 터 시스템 정보를 수신할 수 있으며, 동기 신호 또는 기준 신호를 수신할 수 있다. 제어부 은 본 발명에서 제안하는 실시예에 따른 단말의 전반적인 동작을 제어할 수 있다. 저장부는 상기 송수신부 를 통해 송수신되는 정보 및 제어부 을 통해 생성되는 정보 중 적어도 하나를 저장할 수 있다.도면 도면1 도면2 도면3 도면4 도면5 도면6 도면7 도면8"}
{"patent_id": "10-2023-0150930", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 개시의 일 실시 예에 따른 이동통신 시스템 구조를 도시하는 도면이다. 도 2는 본 개시의 일 실시 예에 따른 이동통신 시스템에서 데이터 채널을 제공하기 위한 IMS 구조를 도시하는 도면이다. 도 3은 본 개시의 일 실시 예에 따른 무선 통신 시스템에서 IMS AS 정보를 관리하는 방법 및 절차를 도시하는 도면이다. 도 4는 본 개시의 일 실시 예에 따른 무선 통신 시스템에서 IMS AS 정보를 관리하는 방법 및 절차를 도시하는 도면이다. 도 5는 본 발명의 실시예에 따른 IMS 데이터 채널 설정(setup) 절차를 도시하는 도면이다. 도 6은 본 발명의 실시예에 따른 IMS 이벤트 구독 사슬 절차를 도시하는 도면이다. 도 7은 본 발명의 일 실시예에 따른 단말의 구조를 도시한 도면이다. 도 8은 본 발명의 일 실시예에 따른 네트워크 엔티티의 구조를 도시한 도면이다."}
