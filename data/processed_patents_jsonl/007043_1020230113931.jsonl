{"patent_id": "10-2023-0113931", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0031903", "출원번호": "10-2023-0113931", "발명의 명칭": "IoMT 기반 작물 생장 트래킹 시스템 및 방법", "출원인": "한국전자기술연구원", "발명자": "오승택"}}
{"patent_id": "10-2023-0113931", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "카메라에 의해 촬영된 이미지로부터 작물을 검출하는 작물 검출부,상기 작물의 검출 결과를 기반으로 개별 작물들을 트래킹하는 작물 트래킹부,상기 작물의 검출 결과를 기반으로 적어도 하나의 작물 클러스터를 생성하는 작물 클러스터링부 및소정의 주기에 따라 동일 위치에서 연속적으로 촬영된 이미지를 기반으로 상기 작물 클러스터를 트래킹하는 작물 클러스터 트래킹부를 포함하는,IoMT 기반 작물 생장 트래킹 시스템."}
{"patent_id": "10-2023-0113931", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 연속적으로 촬영된 이미지에 포함된 작물의 각도 및 위치가 동일하도록 이미지를 크로핑하는 전처리부를더 포함하는,IoMT 기반 작물 생장 트래킹 시스템."}
{"patent_id": "10-2023-0113931", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 작물 클러스터링부는 소정의 클러스터링 기법을 적용하여 상기 작물 클러스터를 생성하되, 상기 이미지 상에서의 작물의 검출 결과가 제1 방향으로 분포된 것으로 판단한 경우, 상기 제1 방향과 수직을 이루는 제2 방향의 좌표들을 대상으로 제2 방향에 대한 스케일 팩터를 적용하는 것인,IoMT 기반 작물 생장 트래킹 시스템."}
{"patent_id": "10-2023-0113931", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,상기 작물 클러스터링부는 미리 결정된 최적 클러스터 수에 기초하여 상기 클러스터링 기법을 수행하여 상기 작물 클러스터를 생성하되, 상기 클러스터링의 결과에서의 두 클러스터의 거리가 기 설정된 제1 임계값을 초과하는 경우 상기 최적 클러스터 수를 증가시켜 갱신한 후 상기 갱신된 최적 클러스터 수에 기초하여 상기 클러스터링을 재수행하는 것인,IoMT 기반 작물 생장 트래킹 시스템."}
{"patent_id": "10-2023-0113931", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서,상기 작물 클러스터링부는 상기 작물의 검출 결과를 기반으로 설정된 범위 내에서 상기 클러스터링을 위한 클러스터 수를 설정하고, 상기 클러스터 수에 따라 클러스터링을 수행하여 클러스터링 결과를 획득하고, 상기 클러스터링 결과를 토대로 실루엣 스코어를 산출한 후, 상기 실루엣 스코어가 가장 높은 클러스터의 수를 상기 최적공개특허 10-2025-0031903-3-클러스터 수로 결정하는 것인,IoMT 기반 작물 생장 트래킹 시스템."}
{"patent_id": "10-2023-0113931", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에 있어서,상기 작물 클러스터 트래킹부는 현재 이미지에서 생성된 작물 클러스터와 이전 이미지에서의 트랙 사이의 거리를 계산하고, 거리가 가장 가까운 작물 클러스터를 해당 트랙에 매칭시켜 작물 클러스터를 트래킹하는 것인,IoMT 기반 작물 생장 트래킹 시스템."}
{"patent_id": "10-2023-0113931", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서,상기 작물 클러스터 트래킹부는 상기 계산된 거리가 기 설정된 제2 임계값을 초과하는 경우, 상기 현재 이미지에서 생성된 작물 클러스터를 새로운 트랙으로 설정하고, 상기 새로운 트랙의 상태 정보를 임시 상태로 설정하는 것인,IoMT 기반 작물 생장 트래킹 시스템."}
{"patent_id": "10-2023-0113931", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제6항에 있어서,상기 작물 클러스터 트래킹부는 상기 계산된 거리가 기 설정된 제2 임계값 이하인 경우, 상기 현재 이미지에서생성된 작물 클러스터와 매칭된 이전 이미지에서의 트랙을 현재 이미지에서의 트랙으로 갱신하는 것인,IoMT 기반 작물 생장 트래킹 시스템."}
{"patent_id": "10-2023-0113931", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제6항에 있어서,상기 작물 클러스터 트래킹부는 상기 계산된 거리가 기 설정된 제2 임계값 이하이고, 상기 현재 이미지에서 생성된 작물 클러스터와 매칭되지 않은 이전 이미지에서의 트랙의 상태 정보가 임시 상태인 경우 상기 매칭되지않은 트랙을 삭제하는 것인,IoMT 기반 작물 생장 트래킹 시스템."}
{"patent_id": "10-2023-0113931", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서,상기 작물 클러스터 트래킹부는 상기 이전 이미지에서의 트랙의 상태 정보가 임시 상태가 아니고, 상기 트랙이이전 이미지들에서 작물 클러스터와 연속하여 매칭되지 않은 횟수가 기 설정된 최대 누락 횟수를 초과하는경우, 상기 매칭되지 않은 트랙을 삭제하는 것인,IoMT 기반 작물 생장 트래킹 시스템."}
{"patent_id": "10-2023-0113931", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "공개특허 10-2025-0031903-4-제8항에 있어서,상기 작물 클러스터 트래킹부는 다음 이미지에서의 트랙에 적용되는 가중치를 이전 이미지들에서의 트랙별 가중치에 기초하여 결정하되, 상기 이전 이미지들에서의 트랙별 가중치는 최근 이미지의 트랙에 더 큰 가중치가 부여되는 것인,IoMT 기반 작물 생장 트래킹 시스템."}
{"patent_id": "10-2023-0113931", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제8항에 있어서,상기 작물 클러스터 트래킹부는 현재 이미지에서의 작물 클러스터의 수가 이전 이미지에서의 작물 클러스터의수를 초과하는 경우, 상기 갱신된 트랙의 상태 정보를 확정 상태로 설정하는 것인,IoMT 기반 작물 생장 트래킹 시스템."}
{"patent_id": "10-2023-0113931", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제1항에 있어서,상기 작물은 화방 단위로 생장하는 딸기 작물인 것인,IoMT 기반 작물 생장 트래킹 시스템."}
{"patent_id": "10-2023-0113931", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "컴퓨터에 의해 수행되는 방법에 있어서,카메라를 통해 촬영된 이미지를 수신하는 단계;상기 이미지로부터 개별 작물을 검출하는 단계;상기 작물의 검출 결과를 기반으로 적어도 하나의 작물 클러스터를 생성하는 단계; 및소정의 주기에 따라 동일 위치에서 연속적으로 촬영된 이미지를 기반으로 상기 작물 클러스터를 트래킹하는 단계를 포함하는,IoMT 기반 작물 생장 트래킹 방법."}
{"patent_id": "10-2023-0113931", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "IoMT 기반 작물 생장 트래킹 시스템이 제공된다. 상기 시스템은 카메라에 의해 촬영된 이미지로부터 작물을 검출 하는 작물 검출부, 상기 작물의 검출 결과를 기반으로 개별 작물들을 트래킹하는 작물 트래킹부, 상기 작물의 검 출 결과를 기반으로 적어도 하나의 작물 클러스터를 생성하는 작물 클러스터링부 및 소정의 주기에 따라 동일 위 치에서 연속적으로 촬영된 이미지를 기반으로 상기 작물 클러스터를 트래킹하는 작물 클러스터 트래킹부를 포함 한다."}
{"patent_id": "10-2023-0113931", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 IoMT 기반 작물 생장 트래킹 시스템 및 방법에 관한 것으로, 본 발명은 미디어 사물인터넷 표준화 기 구인 MPEG(Moving Picture Experts Group)의 MPEG-IoMT(Internet of Media Things; ISO/IEC JTC1 23093) 표준 화 사항을 반영한 것이다."}
{"patent_id": "10-2023-0113931", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "다양한 딥러닝 기반의 영상 인지 기술 서비스가 활성화되고 있으며, 이러한 기술들은 비단 IT 영역뿐만 아니라 제조업, 농업 등 다양한 영역으로 그 적용이 확장되고 있다. 다만, 농업 분야에 있어서는 그 적용이 느린 편이다. 이는 분석의 대상이 고정된 형상을 가지고 있지 않고 지속 적으로 변화하는 작물의 특성을 반영하기 어려운 데에서 그 이유를 찾을 수 있다. 딸기의 예를 들어 보면, 한 장의 이미지에서는 딸기, 꽃 등의 작물의 특성에 대한 분석이 충분히 가능하지만, 딸기의 생장을 분석하기 위해서는 그 대상의 유사성이 매우 높아 오브젝트 트래킹 등의 기술 적용이 쉽지 않다.선행기술문헌 특허문헌 (특허문헌 0001) 공개특허공보 제10-2015-0000435호 (2015.01.02)"}
{"patent_id": "10-2023-0113931", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 실시예는 작물의 생장 분석을 위한 추적 기술에 있어, 작물 생장의 특성을 반영하여 효율적인 작물 추적을 가능하게 하되, 특히 영상 분석 기술을 활용하여 화방의 구성을 확인하는 것을 통해 생장 분석을 가능하 도록 하는, IoMT 기반 작물 생장 트래킹 시스템 및 방법을 제공한다. 다만, 본 실시예가 이루고자 하는 기술적 과제는 상기된 바와 같은 기술적 과제로 한정되지 않으며, 또 다른 기 술적 과제들이 존재할 수 있다."}
{"patent_id": "10-2023-0113931", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상술한 기술적 과제를 달성하기 위한 기술적 수단으로서, 본 발명의 제1 측면에 따른 IoMT 기반 작물 생장 트래 킹 시스템은 카메라에 의해 촬영된 이미지로부터 작물을 검출하는 작물 검출부, 상기 작물의 검출 결과를 기반 으로 개별 작물들을 트래킹하는 작물 트래킹부, 상기 작물의 검출 결과를 기반으로 적어도 하나의 작물 클러스 터를 생성하는 작물 클러스터링부 및 소정의 주기에 따라 동일 위치에서 연속적으로 촬영된 이미지를 기반으로 상기 작물 클러스터를 트래킹하는 작물 클러스터 트래킹부를 포함한다. 본 발명의 일부 실시예는, 상기 연속적으로 촬영된 이미지에 포함된 작물의 각도 및 위치가 동일하도록 이미지 를 크로핑하는 전처리부를 더 포함할 수 있다. 본 발명의 일부 실시예에 있어서, 상기 작물 클러스터링부는 소정의 클러스터링 기법을 적용하여 상기 작물 클 러스터를 생성하되, 상기 이미지 상에서의 작물의 검출 결과가 제1 방향으로 분포된 것으로 판단한 경우, 상기 제1 방향과 수직을 이루는 제2 방향의 좌표들을 대상으로 제2 방향에 대한 스케일 팩터를 적용할 수 있다. 본 발명의 일부 실시예에 있어서, 상기 작물 클러스터링부는 미리 결정된 최적 클러스터 수에 기초하여 상기 클 러스터링 기법을 수행하여 상기 작물 클러스터를 생성하되, 상기 클러스터링의 결과에서의 두 클러스터의 거리 가 기 설정된 제1 임계값을 초과하는 경우 상기 최적 클러스터 수를 증가시켜 갱신한 후 상기 갱신된 최적 클러 스터 수에 기초하여 상기 클러스터링을 재수행할 수 있다. 본 발명의 일부 실시예에 있어서, 상기 작물 클러스터링부는 상기 작물의 검출 결과를 기반으로 설정된 범위 내 에서 상기 클러스터링을 위한 클러스터 수를 설정하고, 상기 클러스터 수에 따라 클러스터링을 수행하여 클러스 터링 결과를 획득하고, 상기 클러스터링 결과를 토대로 실루엣 스코어를 산출한 후, 상기 실루엣 스코어가 가장 높은 클러스터의 수를 상기 최적 클러스터 수로 결정할 수 있다. 본 발명의 일부 실시예에 있어서, 상기 작물 클러스터 트래킹부는 현재 이미지에서 생성된 작물 클러스터와 이 전 이미지에서의 트랙 사이의 거리를 계산하고, 거리가 가장 가까운 작물 클러스터를 해당 트랙에 매칭시켜 작 물 클러스터를 트래킹할 수 있다. 본 발명의 일부 실시예에 있어서, 상기 작물 클러스터 트래킹부는 상기 계산된 거리가 기 설정된 제2 임계값을 초과하는 경우, 상기 현재 이미지에서 생성된 작물 클러스터를 새로운 트랙으로 설정하고, 상기 새로운 트랙의 상태 정보를 임시 상태로 설정할 수 있다. 본 발명의 일부 실시예에 있어서, 상기 작물 클러스터 트래킹부는 상기 계산된 거리가 기 설정된 제2 임계값 이 하인 경우, 상기 현재 이미지에서 생성된 작물 클러스터와 매칭된 이전 이미지에서의 트랙을 현재 이미지에서의 트랙으로 갱신할 수 있다. 본 발명의 일부 실시예에 있어서, 상기 작물 클러스터 트래킹부는 상기 계산된 거리가 기 설정된 제2 임계값 이 하이고, 상기 현재 이미지에서 생성된 작물 클러스터와 매칭되지 않은 이전 이미지에서의 트랙의 상태 정보가임시 상태인 경우 상기 매칭되지 않은 트랙을 삭제할 수 있다. 본 발명의 일부 실시예에 있어서, 상기 작물 클러스터 트래킹부는 상기 이전 이미지에서의 트랙의 상태 정보가 임시 상태가 아니고, 상기 트랙이 이전 이미지들에서 작물 클러스터와 연속하여 매칭되지 않은 횟수가 기 설정 된 최대 누락 횟수를 초과하는 경우, 상기 매칭되지 않은 트랙을 삭제할 수 있다. 본 발명의 일부 실시예에 있어서, 상기 작물 클러스터 트래킹부는 다음 이미지에서의 트랙에 적용되는 가중치를 이전 이미지들에서의 트랙별 가중치에 기초하여 결정하되, 상기 이전 이미지들에서의 트랙별 가중치는 최근 이 미지의 트랙에 더 큰 가중치가 부여될 수 있다. 본 발명의 일부 실시예에 있어서, 상기 작물 클러스터 트래킹부는 현재 이미지에서의 작물 클러스터의 수가 이 전 이미지에서의 작물 클러스터의 수를 초과하는 경우, 상기 갱신된 트랙의 상태 정보를 확정 상태로 설정할 수 있다. 또한, 본 발명의 제2 측면에 따른 IoMT 기반 작물 생장 트래킹 방법은 카메라를 통해 촬영된 이미지를 수신하는 단계; 상기 이미지로부터 개별 작물을 검출하는 단계; 상기 작물의 검출 결과를 기반으로 적어도 하나의 작물 클러스터를 생성하는 단계; 및 소정의 주기에 따라 동일 위치에서 연속적으로 촬영된 이미지를 기반으로 상기 작물 클러스터를 트래킹하는 단계를 포함한다. 이 외에도, 본 발명을 구현하기 위한 다른 방법, 다른 시스템 및 상기 방법을 실행하기 위한 컴퓨터 프로그램을 기록하는 컴퓨터 판독 가능한 기록 매체가 더 제공될 수 있다."}
{"patent_id": "10-2023-0113931", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "전술한 본 발명의 일 실시예에 의하면, 작물 이미지를 기반으로 작물의 단계적인 생장 특성을 기록할 수 있도록 하되, 특히 화방 추적 기술을 통해 시기에 따라 적합한 작물 관리가 가능하도록 할 수 있다. 특히, 화방의 연속적인 추적을 통해 작물의 성장과 이동의 정확한 파악이 가능하며 이를 신속히 감지하여 적절 한 조치를 취할 수 있다. 또한, 화방의 트래킹을 위한 다양한 방법, 즉 클러스터와 트랙 간의 매칭, 이전 추적 결과의 유지 및 갱신, 임 시 상태 및 누락 검출 횟수 기반의 트랙 관리 등을 통해 화방 트래킹 결과의 신뢰성 및 정확성을 향상시킬 수 있다."}
{"patent_id": "10-2023-0113931", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 2, "content": "본 발명의 효과들은 이상에서 언급된 효과로 제한되지 않으며, 언급되지 않은 또 다른 효과들은 아래의 기재로 부터 통상의 기술자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2023-0113931", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명의 이점 및 특징, 그리고 그것들을 달성하는 방법은 첨부되는 도면과 함께 상세하게 후술되어 있는 실시 예들을 참조하면 명확해질 것이다. 그러나, 본 발명은 이하에서 개시되는 실시예들에 제한되는 것이 아니라 서 로 다른 다양한 형태로 구현될 수 있으며, 단지 본 실시예들은 본 발명의 개시가 완전하도록 하고, 본 발명이 속하는 기술 분야의 통상의 기술자에게 본 발명의 범주를 완전하게 알려주기 위해 제공되는 것이며, 본 발명은 청구항의 범주에 의해 정의될 뿐이다. 본 명세서에서 사용된 용어는 실시예들을 설명하기 위한 것이며 본 발명을 제한하고자 하는 것은 아니다. 본 명 세서에서, 단수형은 문구에서 특별히 언급하지 않는 한 복수형도 포함한다. 명세서에서 사용되는 \"포함한다 (comprises)\" 및/또는 \"포함하는(comprising)\"은 언급된 구성요소 외에 하나 이상의 다른 구성요소의 존재 또는 추가를 배제하지 않는다. 명세서 전체에 걸쳐 동일한 도면 부호는 동일한 구성 요소를 지칭하며, \"및/또는\"은 언급된 구성요소들의 각각 및 하나 이상의 모든 조합을 포함한다. 비록 \"제1\", \"제2\" 등이 다양한 구성요소들을 서술하기 위해서 사용되나, 이들 구성요소들은 이들 용어에 의해 제한되지 않음은 물론이다. 이들 용어들은 단 지 하나의 구성요소를 다른 구성요소와 구별하기 위하여 사용하는 것이다. 따라서, 이하에서 언급되는 제1 구성 요소는 본 발명의 기술적 사상 내에서 제2 구성요소일 수도 있음은 물론이다. 다른 정의가 없다면, 본 명세서에서 사용되는 모든 용어(기술 및 과학적 용어를 포함)는 본 발명이 속하는 기술 분야의 통상의 기술자에게 공통적으로 이해될 수 있는 의미로 사용될 수 있을 것이다. 또한, 일반적으로 사용되 는 사전에 정의되어 있는 용어들은 명백하게 특별히 정의되어 있지 않는 한 이상적으로 또는 과도하게 해석되지 않는다. 이하에서는 당업자의 이해를 돕기 위하여 본 발명이 안출된 배경에 대해 먼저 기술한 후, 본 발명에 대해 상세 히 설명하도록 한다. 한편, 본 발명에서는 작물은 딸기인 것을 예로 들어 설명하도록 한다. 하지만, 본 발명에 서의 작물은 반드시 딸기만으로 한정되는 것은 아니며, 작은 열매 여러 개가 모여 한 송이처럼 구성될 수 있는 즉, 화방을 구성할 수 있는 작물(라즈베리, 블랙베리 등)이면 모두 그 대상이 될 수 있다. 한편, 본 발명의 설 명에서는 화방을 클러스터로 표현하였으며, 이들은 모두 동일한 의미를 갖는다. 딥러닝 기술의 발전에 힘입어 다양한 영상 분석 기술들이 개발 및 활용되고 있다. 농업 분야에서도 유사하게 영 상 기반으로 작물의 특성 및 생장을 분석하고자 하는 기술들이 개발되고 있다. 다만, 농업 분야의 경우 생장하 고 있는 생물을 그 대상으로 하고 있어 일반적인 영상 분석 기술의 적용이 어려운 단점이 있다. 각각의 객체에 대한 인지는 매우 높은 수준으로 이루어지고 있으나, 생장의 분석을 위한 영상 분석 기술의 적용 은 매우 제한적으로 이루어지고 있다. 이는 다음과 같은 사유에서 그 원인을 유추해볼 수 있다. 먼저, 각 객체 자체에 대한 유니크한 특성을 파악하기 어려운 문제가 있다. 딸기를 일 예로 들면, 각 딸기를 구 분하기 위한 특징을 찾아내기 어렵다. 예를 들어, 어제 촬영된 사진에서의 딸기가 오늘 동일한 위치에서 촬영된 사진에서 얼마나 변화되었는지를 찾을 수 있어야 하는데, 이 경우 객체의 특성을 통한 트래킹을 적용하기가 매 우 어렵다. 둘째로, 생장 및 농업활동으로 인해 객체는 지속적으로 그 위치가 변하는 문제가 있다. 즉, 작물은 생물로써 지속적으로 형상이 변화한다. 예를 들어, 이미지 좌표상 (30, 100)에서 인지된 객체가 시 간이 흐름에 따라 두 번째 이미지의 (50, 120)으로 이동하고, 새로운 객체가 동일한 위치인 (30, 100)에서 인지 되는 경우, 기존의 영상 처리 기술로는 두 번째 이미지에서의 (30, 100)에서 인지된 객체가 어떤 객체인지 판단 할 기준이 모호해진다. 그리고 작물은 봉오리, 꽃, 화탁, 열매 등으로 그 형태가 계속적으로 변화하기 때문에 작물 트래킹에 어려움이 있다. 또한, 햇볕, 바람 등의 영향으로 잎이 지속적으로 움직이고 있어 객체의 추적에 방해요인으로 작용한다. 그 외에도, 농업인의 영농활동 또한 객체 인지에 어려움으로 작용한다. 예를 들어, 잎을 솎아내기 위한 적엽, 가지치기, 열매 수확 등은 취득되는 이미지 간의 연속성을 방해하는 주요 요소로 동작한다. 이와 같은 농작물의 특성에 따라 일반적인 트래킹 기법을 통해 작물의 변화를 추적하는 데에는 한계가 있다. 이러한 문제를 해결하기 위해 본 발명의 일 실시예는 작물의 생장 특성을 활용한 화방 단위의 생장 추적 기술을 제공하는 것을 목적으로 한다. 딸기는 독립 개체로 열매가 열리는 것이 아닌, 열매 5개가량이 한 개의 가지 종 단에서 나오는 화방 단위로 열리는 특성을 갖는다. 그리고, 한 화방에서 나오는 열매들은 매우 유사한 숙성 단 계를 공유하게 된다. 본 발명의 일 실시예는 이러한 화방 단위의 특성을 반영하여 작물의 생장 추적 기술을 제 공할 수 있다. 다시 말해, 단위 객체만을 대상으로 인식하는 것이 아닌 화방을 인지하고 화방에 대한 트래킹을 진행함으로써, 개별 객체의 변화에 강인한 추적이 가능하도록 하며, 꽃에서 열매로 변화하는 것과 같은 객체 변 경과는 무관하게 지속적인 화방 단위 트래킹이 가능하도록 한다. 또한, 본 발명의 일 실시예는 작물 이미지로부터 화방의 위치, 화방의 수, 화방에 포함된 단위 객체의 수, 각 단위 객체별 생장 단계, 연속적인 이미지로부터 화방 트래킹 정보 등 화방 단위의 분석 정보를 제공할 수 있다. 한편, 본 발명의 설명에 앞서 본 발명에 기재된 용어는 다음과 같이 이해될 수 있다. - 미디어(media): 오디오, 비디오, 텍스트, 그래픽, 이미지, 햅틱 및 햅틱 정보를 포함하여 렌더링할 수 있는 데이터 - 미디어사물(media thing; Mthing): 미디어 사물은 미디어 또는 메타데이터를 감지, 수집, 구동 또는 처리할 수 있는 사물을 의미한다. - 미디어사물인터넷(internet of media thing; IoMT): 미디어 사물 인터넷은 주요 기능이 미디어 처리와 관련된 IoT의 특수 하위 집합을 의미한다. - 미디어사물인터넷 디바이스(IoMT device): 미디어 사물 인터넷 디바이스는 둘 이상의 미디어사물(Mthing)을 가지는 IoT 디바이스를 의미한다. 도 1은 본 발명의 일 실시예에 따른 미디어 사물인터넷 기반 시스템의 블록도이다. 본 발명의 일 실시예에 따른 시스템(100, IoMT 디바이스)은 미디어 사물(Mthing)로 제1 센서부, 제2 센서 부, 제1 분석부, 제2 분석부 및 스토리지를 포함한다. 제1 센서부는 대상 공간 또는 영역에서의 소정의 기능을 수행하는 적어도 하나의 센서를 포함한다. 일 실 시예로, 대상 공간은 3차원 공간을 의미하며, 대상 영역은 2차원 공간을 의미한다. 제1 센서부의 예로는 온도 센서, 습도 센서, 조도 센서 등일 수 있으며, 제1 센서부는 환경 정보를 수집하기 위한 용도로 사용 될 수 있다. 제2 센서부는 대상 공간 또는 영역에서 영상 및 음성 중 적어도 하나를 기반으로 센싱 데이터를 생성하는 센서를 포함한다. 제2 센서부는 관리 대상에 대한 영상 및 음성을 수집하기 위한 용도로 사용될 수 있다. 제2 센서부의 예로는 카메라, 마이크 등일 수 있다. 제1 분석부는 제1 센서부에 의해 센싱된 제1 데이터를 기반으로 대상 공간 또는 영역 내 설정된 임무 에 대한 제1 분석 데이터를 생성한다. 제2 분석부는 제2 센서부에 의해 센싱된 제2 데이터를 기반으로 대상 공간 또는 영역 내 설정된 임무 에 대한 제2 분석 데이터를 생성한다. 스토리지는 센싱된 제1 및 제2 데이터와, 제1 및 제2 분석 데이터를 식별자 기반으로 저장 및 관리한다. 이와 같은 구조를 갖는 미디어 사물인터넷 기반 시스템은, 제2 분석부를 통해 영상 데이터를 기반으 로 스마트팜 공간 내 작물의 이상 상태가 감지되면, 제1 분석부는 제2 분석부로 특정 기간에 대한 영상 데 이터에 상응하는 식별자를 요청하여 수신한다. 그리고 제1 분석부는 파일 식별자를 기반으로 스토리지 에 저장된 영상 데이터를 독출하고, 해당 특정 기간에서의 센싱 데이터 및 영상 데이터 중 적어도 하나를 기반으로 이상 원인에 대한 추론 결과 데이터를 생성할 수 있다. 이하에서는 도 2를 참조하여 본 발명의 일 실시예에 따른 미디어 사물인터넷 기반 시스템 구조가 적용된 IoMT 기반 작물 생장 트래킹 시스템(200, 이하 작물 생장 트래킹 시스템)에 대해 설명하도록 한다. 도 2는 본 발명의 일 실시예에 따른 작물 생장 트래킹 시스템의 블록도이다. 도 3은 본 발명의 일 실시예에 따 른 작물 생장 트래킹 시스템의 하드웨어 구성을 설명하기 위한 도면이다. 본 발명의 일 실시예에 따른 작물 생장 트래킹 시스템은 작물 검출부, 작물 트래킹부, 작물 클 러스터링부 및 작물 클러스터 트래킹부를 포함한다. 한편, 본 발명에 따른 작물 생장 트래킹 시스템 의 경우 전술한 제1 센서부 및 제1 분석부는 실시예에 따라 추가 구성될 수 있음은 물론이며,제2 센서부는 카메라로 구성되고, 제2 분석부는 작물 검출부, 작물 트래킹부, 작물 클러스 터링부, 작물 클러스터 트래킹부로 세분화될 수 있다. 스토리지는 각 영상 데이터, 센싱 데이터, 분석 결과 등을 저장하는 것으로 상세한 설명은 생략하도록 한다. 작물 검출부는 카메라를 통해 촬영된 이미지로부터 작물을 검출한다. 작물 트래킹부는 작물의 검출 결과를 기반으로 개별 작물들을 트래킹한다. 작물 클러스터링부는 작물의 검출 결과를 기반으로 적어도 하나의 작물 클러스터를 생성한다. 작물 클러스터 트래킹부는 소정 주기에 따라 동일 위치에서 연속적으로 촬영된 이미지를 기반으로 작물 클 러스터를 트래킹한다. 한편, 본 발명의 일 실시예에 따른 작물 생장 트래킹 시스템은 통신모듈, 메모리 및 프로세서 를 포함하여 구성될 수 있다.. 통신모듈은 카메라에 의해 촬영된 이미지를 카메라로부터 직접 수신하거나 또는 카메라로부터 수신된 작물 이미지가 저장된 저장매체로부터 수신할 수 있다. 그밖에 통신모듈은 내부 구성요소 간의 데이터 송수신 또는 외부 장치와의 데이터 송수신을 지원한다. 이와 같은 통신모듈은 유선 통신 모듈 및 무선 통신 모듈 을 모두 포함할 수 있다. 유선 통신 모듈은 전력선 통신 장치, 전화선 통신 장치, 케이블 홈(MoCA), 이더넷 (Ethernet), IEEE1294, 통합 유선 홈 네트워크 및 RS-485 제어 장치로 구현될 수 있다. 또한, 무선 통신 모듈은 WLAN(wireless LAN), Bluetooth, HDR WPAN, UWB, ZigBee, Impulse Radio, 60GHz WPAN, Binary-CDMA, 무선 USB 기술 및 무선 HDMI 기술, 그밖에 5G(5th generation communication), LTE-A(long term evolution-advanced), LTE(long term evolution), Wi-Fi(wireless fidelity) 등의 기능을 구현하기 위한 모듈로 구성될 수 있다. 메모리는 작물 이미지를 분석하여 작물 클러스터링을 수행하고, 작물 클러스터의 트래킹 정보를 생성하기 위한 프로그램들을 저장한다. 여기에서, 메모리는 전원이 공급되지 않아도 저장된 정보를 계속 유지하는 비휘발성 저장장치 및 휘발성 저장장치를 통칭하는 것이다. 예를 들어, 메모리는 콤팩트 플래시(compact flash; CF) 카드, SD(secure digital) 카드, 메모리 스틱(memory stick), 솔리드 스테이트 드라이브(solid- state drive; SSD) 및 마이크로(micro) SD 카드 등과 같은 낸드 플래시 메모리(NAND flash memory), 하드 디스 크 드라이브(hard disk drive; HDD) 등과 같은 마그네틱 컴퓨터 기억 장치 및 CD-ROM, DVD-ROM 등과 같은 광학 디스크 드라이브(optical disc drive) 등을 포함할 수 있다. 프로세서는 프로그램 등 소프트웨어를 실행하여 작물 생장 트래킹 시스템의 적어도 하나의 다른 구성 요소(예: 하드웨어 또는 소프트웨어 구성요소)를 제어할 수 있고, 다양한 데이터 처리 또는 연산을 수행할 수 있다. 한편, 본 발명의 일 실시예에서, 프로세서는 작물 트래킹 분석을 위해, 인공지능(Artificial Intelligence) 알고리즘으로서 기계학습, 신경망 네트워크(neural network), 또는 딥러닝 알고리즘 중 적어도 하나를 이용할 수 있으며, 신경망 네트워크의 예로는, CNN(Convolutional Neural Network), DNN(Deep Neural Network), RNN(Recurrent Neural Network)과 같은 모델을 포함할 수 있다. 이하에서는 도 4 내지 도 12를 참조하여 본 발명의 일 실시예에 따른 작물 생장 트래킹 시스템에 의해 수 행되는 방법을 구체적으로 설명하도록 한다. 도 4는 본 발명의 일 실시예에 따른 작물 생장 트래킹 방법의 순서도이다. 도 5는 본 발명의 일 실시예에 따른 작물 생장 트래킹 방법의 모식도이다. 먼저, 작물 검출부는 카메라에 의해 촬영된 이미지를 수신한다(410, 510). 410 단계는 카메라를 직접 제어 하여 이미지를 취득하거나 또는 저장된 이미지를 수신하는 형태로 획득하는 등 다양한 형태로 실시 가능하다. 도 6a는 본 발명의 일 실시예를 위한 테스트베드를 나타낸 도면이고, 도 6b는 본 발명의 일 실시예에서의 레일 카메라를 도시한 도면이다. 이때, 본 발명의 일 실시예는 카메라를 통해 기 설정된 위치에서 최소 촬영 주기에 기초하여 이미지를 획득할 수 있다. 예를 들어, 카메라는 도 6a와 같은 스마트팜 내부를 이동 가능하도록 구성되어, 특정 위치에서 하루에 2-3회 최소 촬영 주기만큼 작물을 촬영하여 이미지를 획득할 수 있다. 이때, 카메라는 도 6b와 같이 스 마트팜 내부에 설치된 레일을 따라 이동 가능하도록 구성된 레일 카메라일 수 있다.다음으로, 전처리부는 수신한 이미지를 대상으로 전처리 과정을 수행한다. 일 실시예로, 전처리부 는 전처리 과정으로 연속적으로 촬영된 이미지에 포함된 작물의 각도 및 위치가 동일하도록 이미지를 크로 핑할 수 있다. 레일이 달린 카메라를 사용하여 스마트팜 내 작물 사진을 찍는 경우, 카메라의 이동 및 정지 등으로 인해 이미 지에 흔들림이 발생하거나, 카메라의 촬영 각도가 바뀔 수 있다. 이는 촬영된 이미지 상에서 작물의 각도 및 위 치가 다르게 나타날 수 있으므로, 일관된 분석과 처리를 위한 전처리 과정이 필요하다. 일 예로, 이미지 크로핑 과정을 수행함에 있어 양 이미지들 간의 특징점을 추출하고, 특징점들을 매칭하여 양 이미지가 서로 동일한 위치에서 동일한 객체가 검출될 수 있도록 이미지를 크롭할 수 있다. 이 과정에서, 필요 에 따라 변환 행렬을 추정하고 적용할 수도 있다. 도 7a 및 도 7b는 본 발명의 일 실시예에서 전처리 과정을 설명하기 위한 도면으로, 도 7a는 크로핑 과정을 수 행하기 전의 이미지(710, 811)이고, 도 7b는 크로핑 과정을 수행한 후의 이미지(720, 721)를 나타낸다. 도 7a의 경우 4656 x 3496(4:3) 이미지의 크기를 가지며 서로 다른 위치의 테스트베드를 나타내고 있었으나, 4564 x 1330(7:2) 이미지의 크기를 갖도록 이미지 크롭을 수행하여 서로 동일한 위치의 테스트베드를 나타내도록 하였 다. 다음으로, 작물 검출부는 촬영된 이미지 또는 전처리된 이미지로부터 작물을 검출한다(430. 520). 도 8은 본 발명의 일 실시예에서 작물 검출 결과를 도시한 도면이다. 일 실시예로, 작물 검출부는 이미지 상에서 개별 작물을 단순히 검출하는 것에 그치지 않고, 검출된 객체 를 생장 단계별로 구분할 수 있다. 즉, 작물 검출 결과는 개별 작물의 생장 단계별 정보를 포함할 수 있다. 예를 들어, 생장 단계는 꽃눈(flower bud), 꽃(flower), 화탁(receptacle), 초록 과실(Green fruit), 과 실 1단계(White fruit), 과실 2단계(50% maturity), 과실 3단계(80% maturity)와 같은 7 단계로 구분될 수 있 다. 다음으로, 작물 클러스터링부는 작물 검출 결과를 기반으로 적어도 하나의 작물 클러스터를 생성한다(440, 530). 도 9는 본 발명의 일 실시예에 따른 작물 클러스터 생성 과정을 상세히 설명하기 위한 도면이다. 도 10은 본 발 명의 일 실시예에서 작물 클러스터의 생성 결과를 도시한 도면이다. 작물 클러스터를 생성하기 위해, 작물 클러스터링부는 클러스터링 기법을 적용할 수 있으며 일 예로 K- means 클러스터링을 적용할 수 있으며 반드시 이에 한정되는 것은 아니다. 이를 위해, 작물 클러스터링부는 먼저 전처리 과정으로 각 이미지 상에서 작물의 검출 결과가 제1 방향으 로 분포된 것으로 판단한 경우, 제1 방향과 수직을 이루는 제2 방향의 좌표들을 대상으로 제2 방향에 대한 스케 일 팩터를 적용할 수 있다. 예를 들어, 딸기의 경우 재배 형태로 인해 딸기 화방의 분포가 수평으로 넓게 퍼져있다. 이를 고려하여, 본 발 명의 일 실시예에서는 딸기 화방을 더욱 잘 클러스터링하기 위해, y축 관련 좌표들을 보다 더 큰 값으로 만들어 야 한다. 따라서, 작물 클러스터링부는 딸기 화방의 y축 관련 좌표값들에 스케일 팩터를 곱해줌으로써 y축 값을 증 가시킬 수 있다. 이로 인해, 딸기 화방의 분포가 y축 방향으로 더 늘어나게 되고, 이는 각각의 작물 클러스터가 더 큰 범위를 차지하도록 하여 더욱 잘 클러스터링을 할 수 있도록 한다. 본 발명의 실제 테스트의 경우 y축 스케일 팩터로 1.5 내지 2 사이의 값을 y축 관련 좌표값들에 곱하였을 때 클 러스터링의 성능이 향상되는 것으로 확인되었다. 그 다음, 작물 클러스터링부는 작물의 검출 결과를 기반으로 설정된 범위 내에서 k-means 클러스터링을 위 한 클러스터 수를 설정한다. 즉, N개의 작물이 검출된 경우, (2, N)의 범위 내에서 결정하기 위한 클러스 터의 수 k를 우선 설정한다. 그 다음, 작물 클러스터링부는 설정된 클러스터 수 k마다 k-means 클러스터링을 반복 수행하여 클러스터링 결과를 획득하고, 클러스터링 결과를 토대로 실루엣 스코어(Silhouette score, i)를 산출한다. 이때, 실루엣 스코어는 데이터 포인트가 해당 클러스터 내에서 얼마나 유사한지(cohesion)와 다른 클러스터와 얼마나 구별되는지(separation)를 측정하는 지표로, 다음 식 1에 따라 산출될 수 있다. [식 1]"}
{"patent_id": "10-2023-0113931", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "이때, 식 1에서 는 데이터 포인트 i에서의 실루엣 계수를 의미한다. 는 응집력으로 클러스터 내에 포함 된 데이터 포인트 i와 나머지 데이터 포인트들 간의 평균 거리를 의미하며, 해당 데이터 포인트 i와 같은 클러 스터 내 다른 데이터 포인트와의 거리가 작을수록 높은 값을 갖는다. 는 분리력으로 데이터 포인트 i가 속 하지 않은 클러스터와의 평균 거리를 의미하며, 해당 데이터 포인트 i와 다른 클러스터 간의 거리가 클수록 높 은 값을 갖는다. 결과적으로, 실루엣 스코어는 -1에서 1 사이의 값을 가지며, 1에 가까울수록 클러스터 내부의 응집력이 높고 분 리력이 좋으며, 0에 가까울수록 데이터 포인트 i가 경계 부근에 위치하다가 다른 클러스터와 유사함을 나타내고, -1에 가까울수록 잘못된 클러스터링이 수행되었음을 의미한다. 그 다음, 식 2에 기초하여 실루엣 스코어가 가장 높은 클러스터 수를 최적 클러스터 수로 결정한다. [식 2]"}
{"patent_id": "10-2023-0113931", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "즉, 작물 클러스터링부는 계산된 실루엣 스코어 중에서 가장 큰 값을 갖는 클러스터링 수 k를 최적 클러 스터 수로 결정할 수 있다. 그 다음, 작물 클러스터링부는 결정된 최적 클러스터 수에 기초하여 k-means 클러스터링을 수행하여 작물 클러스터를 생성한다. 이때, 작물 클러스터링부는 k-means 클러스터링의 결과에서 두 클러스터(Ci, Cj) 간의 유클리드 거리를 기 반으로 클러스터링 결과를 평가하기 위한 제1 임계값(α)을 설정하고, 두 클러스터의 중심점 사이의 유클 리드 거리가 기 설정된 제1 임계값을 초과하는지 여부를 판단한다. 그리고 판단 결과, 초과하지 않는 경우 작물 클러스터링부는 설정된 최적 클러스터 수에 의한 클러스터링 결과를 작물 클러스터로 반환한다. 이와 달리 제1 임계값을 초과하는 경우에는 최적 클러스터 수를 증가(예를 들어, 1만큼)시켜 갱신하고, 갱 신된 최적 클러스터 수에 기초하여 k-means 클러스터링을 재수행할 수 있다. 즉, 화방의 크기는 어느 정도 정해 져있기 때문에 화방 간 중심좌표의 거리가 큰 경우에는 화방의 크기가 비정상적으로 큰 것을 의미한다. 따라서, 이 경우에는 최적 클러스터 수를 재조정하여 k-means 클러스터링을 재수행해야 하며, 재수행 결과에 따른 두 클 러스터 사이의 거리가 제1 임계값을 초과하지 않는 경우가 될 때까지 반복 수행될 수 있다. 또는, 기존의 일반적인 클러스터링 기법들의 경우 외톨이 객체가 존재시 이를 클러스터에 강제 편입하는 경향이 강하여 홀로 떨어져 있는 객체를 독립 클러스터로 인지하는 성능이 떨어졌으나, 본 발명의 일 실시예는 k값을 증가시킴으로써 외톨이 객체에 대한 클러스터의 강제 편입이 아닌 단일 클러스터로 인지하도록 하여 보다 정확 한 클러스터링 및 트래킹이 가능하도록 한다. 한편, 본 발명의 실제 테스트의 경우 제1 임계값을 150 부근으로 설정하였을 때 화방 단위로 작물 클러스터 가 가장 잘 생성됨을 확인할 수 있었다. 그밖에, 작물 클러스터링부는 보다 정확한 클러스터링을 위해 추가적인 알고리즘을 적용할 수 있다. 일 실시예로, 작물 클러스터링부는 클러스터링 결과에 포함된 개별 작물의 수가 최소 단위 작물 수 이상을 갖는 경우 작물 클러스터로 생성할 수 있다. 딸기의 예시의 경우, 딸기의 화방 단위 내에는 최소 5개의 딸기를 포함할 수 있다. 따라서, 클러스터링 결과 내에 단위 작물의 수가 최소 단위 작물 수인 5개 미만일 경우 화방이 구성되지 않은 것으로 취급한다. 즉, 해당 클러스터링 결과는 작물 클러스터가 아닌 각각의 단위 작물로 존재하 는 것으로 취급한다. 이와 함께 또는 별개로, 작물 클러스터링부는 생성한 작물 클러스터를 대상으로 어느 하나의 단위 작물에 대한 줄기를 검출하고, 검출된 줄기가 연속되는 지점 중 첫 번째 교차점(Junction)을 검출한다. 그리고 검출된 첫 번째 교차점에서 연속되는 단위 작물들이 해당 작물 클러스터에 포함되어 있는 경우, 해당 작물 클러스터가 올바르게 클러스터링된 것으로 판단할 수 있다. 이때, 본 발명의 일 실시예는 단위 작물로부터 줄기를 추적하기 위해 다양한 영상 처리 기법을 적용할 수 있으 며, 일 예로 에너지 최대화(energy maximization) 기법을 적용할 수 있다. 즉, 본 발명의 일 실시예는 에너지 최대화 기법을 적용하여 작물 이미지 내에서 특정 객체(줄기)를 추적할 수 있다. 즉, 본 발명의 일 실시예는 단 위 작물의 경계선을 기준으로 위쪽으로 향하는 방향으로 직선 또는 곡선 형태의 줄기를 검출하되, 단위 작물의 경계선을 기준으로 에너지가 최대화되는 경로를 추적하여 단위 작물에 대한 줄기를 검출할 수 있다. 위 에너지 최대화 기법을 적용함에 있어서도, 첫 번째 교차점에서 연속되는 단위 작물들의 수가 화방 단위를 구 성하기 위한 최소 단위 작물 수 이상을 만족하는 경우 화방 단위로 구성할 수 있다. 다음으로, 작물 클러스터 트래킹부는 소정의 주기에 따라 동일 위치에서 연속적으로 촬영된 복수의 이미지 들을 기반으로 작물 클러스터를 트래킹한다(450, 540). 도 11은 본 발명의 일 실시예에 따른 작물 클러스터 트래킹 과정을 상세히 설명하기 위한 도면이다. 도 12는 본 발명의 일 실시예에서 작물 클러스터 트래킹 결과를 도시한 도면이다. 일 실시예로, 작물 클러스터 트래킹부는 현재 이미지에서 생성된 작물 클러스터와 이전 이미지에서의 트랙 사이의 거리를 계산하고, 거리가 가장 가까운 작물 클러스터를 해당 트랙에 매칭시켜 작물 클러스터를 트 래킹할 수 있다. 이때, 본 발명의 일 실시예에서 트랙은 이전 이미지들에서 동일한 작물 클러스터로 결정된 결 과들에 대한 고유 ID, 위치, 경로 등의 정보를 포함하는 개념이다. 따라서, 이전 이미지에서의 트랙은 이전 이 미지에서의 식별 정보 등이 부여된 작물 클러스터를 의미한다. 한편, 본 발명의 실제 테스트의 경우 제2 임계값 을 140 부근으로 설정하여 거리 비교를 수행하였다. 한편, 1109 단계는 이미지 상에서 검출된 작물 클러스터가 존재할 때, 해당 이미지가 1개 즉 최초 이미지 가 아니고, 복수 개의 이미지가 존재하는 경우 수행될 수 있다. 만약, 최초 이미지인 경우에는 검출된 모 든 작물 클러스터를 모두 트랙으로 설정하고, 트랙의 상태 정보를 임시 상태로 설정한다. 이때, 작물 클러스터 트래킹부는 계산된 거리가 기 설정된 제2 임계값(β)을 초과하는 경우, 현재 이미지 에서 생성된 작물 클러스터를 새로운 트랙으로 설정하고, 새로운 트랙의 상태 정보를 임시 상태로 설정할 수 있다. 즉, 거리가 기 설정된 제2 임계값을 초과하는 경우는 거리가 너무 멀어 이전 트랙과 현재 작물 클러스터가 매칭되지 않는 상황을 나타내며, 작물의 위치 변화나 이동으로 인해 매칭이 불가능하거나 잘못된 매 칭이 발생했을 수 있음을 나타낸다. 따라서, 새로운 트랙으로 설정하고 임시 상태로 설정함으로써 추가 분석이 나 결정이 필요한 경우로 설정하고, 이후 해당 트랙의 상태를 재조정하거나 삭제할 수 있다. 이와 달리, 작물 클러스터 트래킹부는 계산된 거리가 기 설정된 제2 임계값 이하인 경우, 현재 이미지에서 생성 된 작물 클러스터와 매칭된 이전 이미지에서의 트랙을 현재 이미지에서의 트랙으로 갱신할 수 있다. 이 경우는 현재 이미지에서의 작물 클러스터가 이전 이미지에서의 트랙 정보를 유지하는 경우로 볼 수 있으며, 현 재 이미지에서의 트랙으로 갱신함으로써 작물 클러스터의 움직임을 연결하고 정확한 추적 결과를 얻을 수 있다. 이때, 작물 클러스터 트래킹부는 계산된 거리가 기 설정된 제2 임계값 이하인 경우라 하더라도, 현재 이미지에 서 생성된 작물 클러스터와 매칭되지 않은 이전 이미지에서의 트랙이 존재하는 경우, 해당 트랙의 상태 정보가 임시 상태인지 여부를 확인하고, 임시 상태가 맞는 경우 해당 트랙을 삭제할 수 있다. 이는 이전 이미지에서의 트랙이 임시 상태인 경우 이전 추적 결과가 더 이상 유효하지 않거나 현재 이미지에서의 작물 클 러스터와 매칭되지 않을 가능성이 큰 경우로, 작물의 소실, 이동, 또는 잘못된 클러스터링의 요인으로 인해 발 생할 수 있다. 따라서, 임시 상태인 트랙을 삭제함으로써 트래킹 결과를 정리하여 정확한 추적 결과를 유지하도 록 할 수 있다. 또한, 작물 클러스터 트래킹부는 해당 트랙의 상태 정보가 임시 상태인지 여부를 확인한 결과가 임시 상태가 아 닌 경우, 해당 트랙은 현재 이미지에서 생성된 작물 클러스터와 매칭될 수 있는 가능성이 있으므로, 이 경우 트 랙이 이전 이미지들에서 작물 클러스터와 연속하여 매칭되지 않은 횟수를 확인한다. 다만, 연속하여 매칭 되지 않은 횟수가 기 설정된 최대 누락 횟수(max_age)를 초과하는 경우에는 해당 트랙을 삭제할 수 있다. 이는 개별 작물들의 이동, 소멸 등의 이유로 작물 클러스터와 트랙의 매칭이 끊긴 것으로 보아도 무방하기 때문 에 해당 트랙은 삭제할 수 있다.이와 달리, 연속하여 매칭되지 않은 횟수가 기 설정된 최대 누락 횟수를 초과하지 않는 경우에는 해당 트랙을 삭제하지 않고 현재 이미지에서의 트랙으로 갱신할 수 있다. 이는 이미지 상에서 일시적으로 잡음이나 클 러스터와 트랙 간의 거리가 멀어진 경우 등으로, 이 경우 해당 트랙을 삭제하지 않고 현재 이미지에서의 트랙으 로 갱신함으로써 추적을 유지할 수 있다. 한편, 작물 클러스터 트래킹부는 다음 이미지에서의 트랙에 적용되는 가중치를 이전 이미지들에서의 트랙별 가 중치에 기초하여 결정할 수 있다. 이때, 이전 이미지들에서의 트랙별 가중치는 최근 이미지의 트랙일수록 더 큰 가중치가 부여될 수 있다. 현재 이미지의 작물 클러스터가 트랙으로 할당되면, 트랙의 중심 좌표의 위치 정보가 업데이트된다. 즉, 기존 트랙의 중심 좌표와 현재 이미지에서의 작물 클러스터의 중심 좌표의 평균값이 트랙의 중심 좌표값으로 업데이 트된다. 이때, 바로 직전의 작물 클러스터의 위치 변화가 현재 이미지 대비 가장 적기 때문에 연속된 이미지들 에서 가장 최근의 트랙 위치 정보가 다음 이미지에서 가장 많이 적용되어야 한다. 일 예로, 시점 t+1에서의 트 랙의 중심 좌표는 시점 t의 트랙의 중심 좌표의 1/2, 시점 t-1의 트랙의 중심 좌표의 1/4, 시점 t-2의 트랙의 중심 좌표의 1/8 등이 합산되어 업데이트될 수 있다. 가중치 부여된 이후, 작물 클러스터 트래킹부는 현재 이미지에서의 작물 클러스터의 수가 이전 이미지에서의 작 물 클러스터의 수를 초과하는 경우, 갱신된 트랙의 상태 정보를 확정 상태로 설정할 수 있다. 그리 고 현재 이미지가 가장 마지막으로 촬영된 이미지인지 여부를 확인한다. 이때, 1129 단계의 경우는, 이전 이미지에서 두 개의 작물 클러스터가 한 개의 작물 클러스터로 분류된 것을 현 재 이미지에서 두 개로 올바르게 생성한 것이거나, 또는 작물이 추가되거나 변화된 것일 수 있으며, 갱신된 트 랙의 상태 정보를 확정 상태로 설정함으로써 현재 이미지에서의 작물 클러스터의 증가를 신뢰할 수 있도록 한다. 즉, 트랙의 상태를 확정 상태로 설정함으로써 추후 해당 작물 클러스터의 연속적인 추적이 가능하도록 하 며, 이를 토대로 보다 정확한 작물의 성장 과정 등을 파악할 수 있다. 이와 달리, 현재 이미지에서의 작물 클러스터의 수가 이전 이미지에서의 작물 클러스터의 수를 초과하지 않는 경우에는 트랙의 상태 정보를 확정시키지 않고, 곧바로 현재 이미지가 가장 마지막으로 촬영된 이미지인지 여부 를 확인한다. 이는 현재 이미지에서의 작물 클러스터가 이전 이미지에서 생성된 작물 클러스터 내에서 변화한 것일 수 있으며, 작물의 위치 변화, 변형, 소실 등이 발생한 것으로 볼 수 있다. 이러한 경우, 트랙의 상태는 확정시키지 않고, 다음 이미지를 더 확인하여 해당 트랙의 상태를 확정시키도록 한다. 현재 이미지가 가장 마지막으로 촬영된 이미지인 경우, 작물 클러스터 트래킹부는 업데이트된 트랙을 작물 클러 스터 트래킹 정보(1210~1213)로 반환한다. 이와 달리, 마지막 이미지가 아닌 경우에는 현재 이미지에서 다음 촬영된 이미지를 대상으로 도 11의 과정을 반복 수행한다. 한편, 상술한 설명에서, 단계 410 내지 단계 1133은 본 발명의 구현예에 따라서, 추가적인 단계들로 더 분할되 거나, 더 적은 단계들로 조합될 수 있다. 또한, 일부 단계는 필요에 따라 생략될 수도 있고, 단계 간의 순서가 변경될 수도 있다. 아울러, 기타 생략된 내용이라 하더라도 도 1 내지 도 3에 기술된 내용과 도 4 내지 도 12의 내용은 상호 적용될 수 있다. 이상에서 전술한 본 발명의 일 실시예에 따른 IoMT 기반 작물 생장 트래킹 방법은, 하드웨어인 서버와 결합되어 실행되기 위해 프로그램(또는 어플리케이션)으로 구현되어 매체에 저장될 수 있다. 상기 전술한 프로그램은, 상기 컴퓨터가 프로그램을 읽어 들여 프로그램으로 구현된 상기 방법들을 실행시키기 위하여, 상기 컴퓨터의 프로세서(CPU)가 상기 컴퓨터의 장치 인터페이스를 통해 읽힐 수 있는 C, C++, JAVA, 기 계어 등의 컴퓨터 언어로 코드화된 코드(Code)를 포함할 수 있다. 이러한 코드는 상기 방법들을 실행하는 필요 한 기능들을 정의한 함수 등과 관련된 기능적인 코드(Functional Code)를 포함할 수 있고, 상기 기능들을 상기 컴퓨터의 프로세서가 소정의 절차대로 실행시키는데 필요한 실행 절차 관련 제어 코드를 포함할 수 있다. 또한, 이러한 코드는 상기 기능들을 상기 컴퓨터의 프로세서가 실행시키는데 필요한 추가 정보나 미디어가 상기 컴퓨 터의 내부 또는 외부 메모리의 어느 위치(주소 번지)에서 참조되어야 하는지에 대한 메모리 참조관련 코드를 더 포함할 수 있다. 또한, 상기 컴퓨터의 프로세서가 상기 기능들을 실행시키기 위하여 원격(Remote)에 있는 어떠 한 다른 컴퓨터나 서버 등과 통신이 필요한 경우, 코드는 상기 컴퓨터의 통신 모듈을 이용하여 원격에 있는 어 떠한 다른 컴퓨터나 서버 등과 어떻게 통신해야 하는지, 통신 시 어떠한 정보나 미디어를 송수신해야 하는지 등 에 대한 통신 관련 코드를 더 포함할 수 있다.상기 저장되는 매체는, 레지스터, 캐쉬, 메모리 등과 같이 짧은 순간 동안 데이터를 저장하는 매체가 아니라 반 영구적으로 데이터를 저장하며, 기기에 의해 판독(reading)이 가능한 매체를 의미한다. 구체적으로는, 상기 저 장되는 매체의 예로는 ROM, RAM, CD-ROM, 자기 테이프, 플로피디스크, 광 데이터 저장장치 등이 있지만, 이에 제한되지 않는다. 즉, 상기 프로그램은 상기 컴퓨터가 접속할 수 있는 다양한 서버 상의 다양한 기록매체 또는 사용자의 상기 컴퓨터상의 다양한 기록매체에 저장될 수 있다. 또한, 상기 매체는 네트워크로 연결된 컴퓨터 시 스템에 분산되어, 분산방식으로 컴퓨터가 읽을 수 있는 코드가 저장될 수 있다. 본 발명의 실시예와 관련하여 설명된 방법 또는 알고리즘의 단계들은 하드웨어로 직접 구현되거나, 하드웨어에 의해 실행되는 소프트웨어 모듈로 구현되거나, 또는 이들의 결합에 의해 구현될 수 있다. 소프트웨어 모듈은 RAM(Random Access Memory), ROM(Read Only Memory), EPROM(Erasable Programmable ROM), EEPROM(Electrically Erasable Programmable ROM), 플래시 메모리(Flash Memory), 하드 디스크, 착탈형 디스크, CD-ROM, 또는 본 발명이 속하는 기술 분야에서 잘 알려진 임의의 형태의 컴퓨터 판독가능 기록매체에 상주할 수도 있다."}
{"patent_id": "10-2023-0113931", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "이상, 첨부된 도면을 참조로 하여 본 발명의 실시예를 설명하였지만, 본 발명이 속하는 기술분야의 통상의 기술 자는 본 발명이 그 기술적 사상이나 필수적인 특징을 변경하지 않고서 다른 구체적인 형태로 실시될 수 있다는 것을 이해할 수 있을 것이다. 그러므로, 이상에서 기술한 실시예들은 모든 면에서 예시적인 것이며, 제한적이 아닌 것으로 이해해야만 한다."}
{"patent_id": "10-2023-0113931", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 미디어 사물인터넷 기반 시스템의 블록도이다. 도 2는 본 발명의 일 실시예에 따른 작물 생장 트래킹 시스템의 블록도이다. 도 3은 본 발명의 일 실시예에 따른 작물 생장 트래킹 시스템의 하드웨어 구성을 설명하기 위한 도면이다. 도 4는 본 발명의 일 실시예에 따른 작물 생장 트래킹 방법의 순서도이다. 도 5는 본 발명의 일 실시예에 따른 작물 생장 트래킹 방법의 모식도이다. 도 6a는 본 발명의 일 실시예를 위한 테스트베드를 나타낸 도면이고, 도 6b는 본 발명의 일 실시예에서의 레일 카메라를 도시한 도면이다. 도 7a 및 도 7b는 본 발명의 일 실시예에서 전처리 과정을 설명하기 위한 도면이다. 도 8은 본 발명의 일 실시예에서 작물 검출 결과를 도시한 도면이다. 도 9는 본 발명의 일 실시예에 따른 작물 클러스터 생성 과정을 상세히 설명하기 위한 도면이다. 도 10은 본 발명의 일 실시예에서 작물 클러스터의 생성 결과를 도시한 도면이다. 도 11은 본 발명의 일 실시예에 따른 작물 클러스터 트래킹 과정을 상세히 설명하기 위한 도면이다. 도 12는 본 발명의 일 실시예에서 작물 클러스터 트래킹 결과를 도시한 도면이다."}
