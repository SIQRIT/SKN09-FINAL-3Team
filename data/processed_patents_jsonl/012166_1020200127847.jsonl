{"patent_id": "10-2020-0127847", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2021-0157827", "출원번호": "10-2020-0127847", "발명의 명칭": "이미지 근사화 및 가중치 양자화를 이용한 객체 검출 가속화 방법 및 이를 이용하는 뉴럴 가", "출원인": "한양대학교 산학협력단", "발명자": "박영준"}}
{"patent_id": "10-2020-0127847", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "이미지 근사화 및 가중치 양자화를 이용한 객체 검출 가속화 방법에 있어서,하나 이상의 관심 영역을 포함하는 이미지를 획득하는 단계 - 상기 관심 영역은 상기 이미지 내의 특정 영역에대응됨 - ;상기 관심 영역의 개수에 기초하여 객체 검출이 수행되는 복수의 모드 중 특정 모드를 결정하는 단계 - 상기 복수의 모드는 상기 가중치 양자화와 상기 이미지 근사화를 수행하지 않는 제1 모드, 상기 가중치 양자화와 상기이미지 근사화 중 어느 하나만을 수행하는 제2 모드 및 상기 가중치 양자화와 상기 이미지 근사화 모두를 수행하는 제3 모드를 포함함 - ; 및상기 특정 모드에 따라 상기 이미지로부터 객체 검출을 수행하는 단계를 포함하는객체 검출 가속화 방법."}
{"patent_id": "10-2020-0127847", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1 항에 있어서,상기 객체 검출 가속화 방법은, 제1 정밀도의 가중치를 포함하는 제1 인공신경망 및 제2 정밀도의 가중치를 포함하는 제2 인공신경망을 준비하는 단계를 더 포함하고,상기 객체 검출을 수행하는 단계는, 상기 특정 모드가 상기 제1 모드인 경우 상기 제1 인공신경망을 이용하여객체 검출을 수행하고, 상기 특정 모드가 상기 제3 모드인 경우 상기 제2 인공신경망을 이용하여 객체 검출을수행하는 단계를 포함하는객체 검출 가속화 방법."}
{"patent_id": "10-2020-0127847", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2 항에 있어서,상기 객체 검출을 수행하는 단계는, 상기 특정 모드가 상기 제1 모드인 경우 상기 이미지의 상기 관심 영역에대응되는 영역을 상기 제1 인공신경망에 입력하여 객체 검출을 수행하고, 상기 특정 모드가 상기 제3 모드인 경우 상기 이미지의 적어도 일부에 대해 상기 이미지 근사화를 수행하여 획득한 근사화 이미지의 상기 관심 영역에 대응되는 영역을 상기 제2 인공신경망에 입력하여 객체 검출을 수행하는 단계를 포함하는객체 검출 가속화 방법."}
{"patent_id": "10-2020-0127847", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3 항에 있어서,상기 이미지는 상기 제1 정밀도의 이미지이고, 상기 근사화 이미지는 상기 제2 정밀도의 이미지인객체 검출 가속화 방법."}
{"patent_id": "10-2020-0127847", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "공개특허 10-2021-0157827-3-제2 항에 있어서,상기 객체 검출을 수행하는 단계는, 상기 특정 모드가 상기 제2 모드이고 상기 제2 모드가 상기 가중치 양자화를 수행하는 경우 상기 제2 인공신경망을 이용하여 객체 검출을 수행하고, 상기 특정 모드가 상기 제2 모드이고상기 제2 모드가 상기 이미지 근사화를 수행하는 경우 상기 제1 인공신경망을 이용하여 객체 검출을 수행하는단계를 더 포함하는객체 검출 가속화 방법."}
{"patent_id": "10-2020-0127847", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5 항에 있어서,상기 객체 검출을 수행하는 단계는, 상기 특정 모드가 상기 제2 모드이고 상기 제2 모드가 상기 가중치 양자화를 수행하는 경우 상기 이미지의 상기 관심 영역에 대응되는 영역을 상기 제2 인공신경망에 입력하여 객체 검출을 수행하고, 상기 특정 모드가 상기 제2 모드이고 상기 제2 모드가 상기 이미지 근사화를 수행하는 경우 상기이미지의 적어도 일부에 대해 상기 이미지 근사화를 수행하여 획득한 근사화 이미지의 상기 관심 영역에 대응되는 영역을 상기 제1 인공신경망에 입력하여 객체 검출을 수행하는 단계를 더 포함하는객체 검출 가속화 방법."}
{"patent_id": "10-2020-0127847", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제2 항에 있어서,상기 제2 인공신경망은 상기 제1 인공신경망의 가중치 양자화를 통해 생성된객체 검출 가속화 방법."}
{"patent_id": "10-2020-0127847", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제2 항에 있어서,상기 제1 정밀도는 상기 제2 정밀도보다 높은 것을 특징으로 하는객체 검출 가속화 방법."}
{"patent_id": "10-2020-0127847", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제1 항에 있어서,상기 객체 검출을 수행하는 단계는, 상기 특정 모드가 상기 제3 모드인 경우 상기 이미지의 적어도 일부에 대해상기 이미지 근사화를 수행하는 단계를 포함하는객체 검출 가속화 방법."}
{"patent_id": "10-2020-0127847", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제1 항에 있어서,상기 이미지를 획득하는 단계는, 상기 이미지로부터 상기 관심 영역을 결정하는 단계를 포함하는객체 검출 가속화 방법.공개특허 10-2021-0157827-4-청구항 11 제1 항에 있어서,상기 특정 모드를 결정하는 단계는, 상기 관심 영역의 개수가 제1 범위인 경우 상기 제1 모드를 상기 특정 모드로 결정하고, 상기 관심 영역의 개수가 상기 제1 범위보다 큰 제2 범위인 경우 상기 제2 모드를 상기 특정 모드로 결정하고, 상기 관심 영역의 개수가 상기 제2 범위보다 큰 제3 범위인 경우 상기 제3 모드를 상기 특정 모드로 결정하는 단계를 포함하는객체 검출 가속화 방법."}
{"patent_id": "10-2020-0127847", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 출원은 이미지 근사화 및 가중치 양자화를 이용한 객체 검출 가속화 방법에 관한 것으로, 본 명세서의 일 양 상에 따른 객체 검출 가속화 방법은 하나 이상의 관심 영역을 포함하는 이미지를 획득하는 단계 - 상기 관심 영 역은 상기 이미지 내의 특정 영역에 대응됨 - ; 상기 관심 영역의 개수에 기초하여 객체 검출이 수행되는 복수의 모드 중 특정 모드를 결정하는 단계 - 상기 복수의 모드는 상기 가중치 양자화와 상기 이미지 근사화를 수행하지 않는 제1 모드, 상기 가중치 양자화와 상기 이미지 근사화 중 어느 하나만을 수행하는 제2 모드 및 상기 가중치 양자화와 상기 이미지 근사화 모두를 수행하는 제3 모드를 포함함 - ; 및 상기 특정 모드에 따라 상기 이미지로 부터 객체 검출을 수행하는 단계를 포함한다."}
{"patent_id": "10-2020-0127847", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 출원은 이미지 근사화 및 가중치 양자화를 이용한 객체 검출 가속화 방법 및 이를 이용하는 뉴럴 가속기에 관한 것으로, 보다 상세하게는 이미지 근사화 및 가중치 양자화를 이용하여 관심 영역의 수에 따라 동적으로 속 도를 변화시킴으로써 실시간으로 객체 검출을 수행할 수 있는 방법 및 이를 이용하는 뉴럴 가속기에 관한 것이다."}
{"patent_id": "10-2020-0127847", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "딥 뉴럴 네트워크(Deep Neural Network, DNN)는 기계 학습(machine learning) 분야 중 가장 널리 사용되는 알 고리즘으로서 숫자 인식(digit recognition), 음성 인식(speech recognition), 객체 검출(object detection) 등 다양한 어플리케이션에서 사용되고 있다. DNN 어플리케이션은 DNN의 특성상 방대한 연산량에서 이용할 많은 파라미터를 저장해야 하기 때문에 고용량의 메모리를 보유한 시스템에서만 적용이 가능하다. 그러나 임베디드 플랫폼은 적은 양의 메모리만을 보유하고 있 고 이러한 이유로 임베디드 플랫폼에서는 그 자체적으로 본래의 DNN 어플리케이션을 지원하기에는 한계가 존재 한다. 이에 대한 해결책으로 사용되는 방식은 가중치를 양자화하는 방식과 칩 외부에 D램과 같은 대용량 오프칩 메모리를 사용하는 방식이다. 기존의 가중치는 32비트 부동 소수점의 표현 방식을 이용하지만 32비트 부동 소수 점을 16비트 고정 소수점, 8비트 고정 소수점으로 표현하여도 정확도의 차이에 큰 영향이 없기 때문에 가중치를 양자화하여 사용하는 방식이 일반적으로 채택되고 있다. 가중치를 양자화 함으로써 메모리 사용량을 줄일 수 있 고, 대용량의 메모리를 사용할 필요성이 줄기 때문에 S램과 같은 온칩 메모리만을 사용하여 에너지 소모 절감과 데이터 처리 속도의 극대화를 실현할 수 있다. 또한, D램과 같은 대용량 오프칩 메모리를 사용할 경우에 데이터 이동량이 줄기 때문에 에너지 소모를 줄이고 고속의 데이터 처리를 가능하게 한다. 근래의 DNN 어플리케이션은 높은 정확도를 얻기 위하여 네트워크의 복잡도가 크게 증가하고 있다. 네트워크의 복잡도 증가는 연산량과 그 연산에 사용될 파라미터 증가를 유발한다. 가중치 양자화와 같은 종래기술을 이용한 통한 메모리 사용량 감소에도 더 큰 대용량 메모리를 요구하고, 이에 따라 칩 외부에 D램과 같은 대용량 오프칩 메모리를 탑재하여 이를 해결하려는 시도가 증가하고 있다. 그러나 오프칩 메모리는 칩과의 데이터 전송에서 대 역폭의 한계가 존재하고, 이는 병목현상을 유발한다. 충분히 많은 연산 유닛 설계를 통해 뉴럴 네트워크를 가속 하더라도 메모리 대역폭으로 인해 병목현상을 발생시킴으로써 최대로 가속할 수 있는 속도에 한계를 가지게 된 다. 그러므로 가중치 양자화에 추가적으로 데이터 사용량을 줄일 수 있는 기술이 필요하다."}
{"patent_id": "10-2020-0127847", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 명세서에서 해결하고자 하는 일 과제는 실시간으로 객체 검출을 수행할 수 있는 방법 및 이를 이용하는 뉴럴 가속기를 제공하는 것에 있다. 본 명세서에서 해결하고자 하는 일 과제는 실시간으로 멀티-오브젝트 디텍션을 수행할 수 있는 방법 및 이를 이 용하는 뉴럴 가속기를 제공하는 것에 있다. 본 명세서에서 해결하고자 하는 과제가 상술한 과제로 제한되는 것은 아니며, 언급되지 아니한 과제들은 본 명 세서 및 첨부된 도면으로부터 본 출원이 속하는 기술 분야에서 통상의 지식을 가진 자에게 명확하게 이해될 수있을 것이다."}
{"patent_id": "10-2020-0127847", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 명세서의 일 양상에 따르면, 이미지 근사화 및 가중치 양자화를 이용한 객체 검출 가속화 방법에 있어서, 하 나 이상의 관심 영역을 포함하는 이미지를 획득하는 단계 - 상기 관심 영역은 상기 이미지 내의 특정 영역에 대 응됨 - ; 상기 관심 영역의 개수에 기초하여 객체 검출이 수행되는 복수의 모드 중 특정 모드를 결정하는 단계 - 상기 복수의 모드는 상기 가중치 양자화와 상기 이미지 근사화를 수행하지 않는 제1 모드, 상기 가중치 양자 화와 상기 이미지 근사화 중 어느 하나만을 수행하는 제2 모드 및 상기 가중치 양자화와 상기 이미지 근사화 모 두를 수행하는 제3 모드를 포함함 - ; 및 상기 특정 모드에 따라 상기 이미지로부터 객체 검출을 수행하는 단계 를 포함하는 객체 검출 가속화 방법이 제공될 수 있다."}
{"patent_id": "10-2020-0127847", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 2, "content": "본 명세서의 과제의 해결 수단이 상술한 해결 수단들로 제한되는 것은 아니며, 언급되지 아니한 해결 수단들은 본 명세서 및 첨부된 도면으로부터 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에게 명확하게 이해 될 수 있을 것이다."}
{"patent_id": "10-2020-0127847", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 명세서의 실시예에 따르면 관심 영역 수에 따라 근사화 정도를 달리하여 다양한 속도를 지원하고 실시간으로 객체 검출을 수행할 수 있는 방법 및 이를 이용하는 뉴럴 가속기를 제공할 수 있다. 본 명세서의 실시예에 따르면 종래 기술에서 많이 채택되고 있는 가중치 양자화 기술에 추가적으로 이미지 근사 화를 진행함으로써 메모리 대역폭 사용량을 대폭 줄이고 연산 유닛의 크기를 줄여 다양한 모드를 지원하는 연산 유닛을 제공할 수 있다. 본 명세서의 실시예에 따르면 모드에 따라 근사화 정도를 다르게 진행하고 이에 따라 다양한 속도를 지원할 수 있기 때문에 스트리밍 이미지에서 관심 영역 수에 따라 동적으로 속도를 변환하여 실시간 멀티-오브젝트 디텍션 을 수행할 수 있는 뉴럴 가속기가 제공될 수 있다."}
{"patent_id": "10-2020-0127847", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 2, "content": "본 명세서의 발명의 효과가 상술한 효과로 제한되는 것은 아니며, 언급되지 아니한 효과들은 본 명세서 및 첨부 된 도면으로부터 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에게 명확히 이해될 수 있을 것이다."}
{"patent_id": "10-2020-0127847", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 명세서에 기재된 실시예는 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에게 본 발명의 사상을 명 확히 설명하기 위한 것이므로, 본 발명이 본 명세서에 기재된 실시예에 의해 한정되는 것은 아니며, 본 발명의 범위는 본 발명의 사상을 벗어나지 아니하는 수정예, 변형예, 균등물 내지 대체물을 포함하는 것으로 해석되어 야 한다. 본 발명을 설명함에 있어 공지된 구성 또는 기능에 관한 구체적인 설명은 생략할 수 있다. 본 명세서에서 사용되는 용어는 본 발명에서의 기능을 고려하여 가능한 현재 널리 사용되고 있는 일반적인 용어 를 선택하였으나 이는 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자의 의도, 관례 또는 새로운 기술 의 출현 등에 따라 달라질 수 있다. 다만, 이와 달리 특정한 용어를 임의의 의미로 정의하여 사용하는 경우에는 그 용어의 의미에 관하여 별도로 기재할 것이다. 따라서 본 명세서에서 사용되는 용어는 단순한 용어의 명칭이아닌 그 용어가 가진 실질적인 의미와 본 명세서의 전반에 걸친 내용을 토대로 해석되어야 한다. 본 명세서에 첨부된 도면은 본 발명을 용이하게 설명하기 위한 것으로 도면에 도시된 형상은 본 발명의 이해를 돕기 위하여 필요에 따라 과장되어 표시된 것일 수 있으므로 본 발명이 도면에 의해 한정되는 것은 아니다. 또 한, 본 명세서의 설명 과정에서 이용되는 숫자(예를 들어, 제1, 제2 등)는 하나의 구성요소를 다른 구성요소와 구분하기 위한 식별 기호에 불과하다. 본 명세서의 일 양상에 따르면, 이미지 근사화 및 가중치 양자화를 이용한 객체 검출 가속화 방법에 있어서, 하 나 이상의 관심 영역을 포함하는 이미지를 획득하는 단계 - 상기 관심 영역은 상기 이미지 내의 특정 영역에 대 응됨 - ; 상기 관심 영역의 개수에 기초하여 객체 검출이 수행되는 복수의 모드 중 특정 모드를 결정하는 단계 - 상기 복수의 모드는 상기 가중치 양자화와 상기 이미지 근사화를 수행하지 않는 제1 모드, 상기 가중치 양자 화와 상기 이미지 근사화 중 어느 하나만을 수행하는 제2 모드 및 상기 가중치 양자화와 상기 이미지 근사화 모 두를 수행하는 제3 모드를 포함함 - ; 및 상기 특정 모드에 따라 상기 이미지로부터 객체 검출을 수행하는 단계 를 포함하는 객체 검출 가속화 방법이 제공될 수 있다. 여기서, 상기 객체 검출 가속화 방법은, 제1 정밀도의 가중치를 포함하는 제1 인공신경망 및 제2 정밀도의 가중 치를 포함하는 제2 인공신경망을 준비하는 단계를 더 포함하고, 상기 객체 검출을 수행하는 단계는, 상기 특정 모드가 상기 제1 모드인 경우 상기 제1 인공신경망을 이용하여 객체 검출을 수행하고, 상기 특정 모드가 상기 제3 모드인 경우 상기 제2 인공신경망을 이용하여 객체 검출을 수행하는 단계를 포함할 수 있다. 여기서, 상기 객체 검출을 수행하는 단계는, 상기 특정 모드가 상기 제1 모드인 경우 상기 이미지의 상기 관심 영역에 대응되는 영역을 상기 제1 인공신경망에 입력하여 객체 검출을 수행하고, 상기 특정 모드가 상기 제3 모 드인 경우 상기 이미지의 적어도 일부에 대해 상기 이미지 근사화를 수행하여 획득한 근사화 이미지의 상기 관 심 영역에 대응되는 영역을 상기 제2 인공신경망에 입력하여 객체 검출을 수행하는 단계를 포함할 수 있다. 여기서, 상기 이미지는 상기 제1 정밀도의 이미지이고, 상기 근사화 이미지는 상기 제2 정밀도의 이미지일 수 있다. 여기서, 상기 객체 검출을 수행하는 단계는, 상기 특정 모드가 상기 제2 모드이고 상기 제2 모드가 상기 가중치 양자화를 수행하는 경우 상기 제2 인공신경망을 이용하여 객체 검출을 수행하고, 상기 특정 모드가 상기 제2 모 드이고 상기 제2 모드가 상기 이미지 근사화를 수행하는 경우 상기 제1 인공신경망을 이용하여 객체 검출을 수 행하는 단계를 더 포함할 수 있다. 여기서, 상기 객체 검출을 수행하는 단계는, 상기 특정 모드가 상기 제2 모드이고 상기 제2 모드가 상기 가중치 양자화를 수행하는 경우 상기 이미지의 상기 관심 영역에 대응되는 영역을 상기 제2 인공신경망에 입력하여 객 체 검출을 수행하고, 상기 특정 모드가 상기 제2 모드이고 상기 제2 모드가 상기 이미지 근사화를 수행하는 경 우 상기 이미지의 적어도 일부에 대해 상기 이미지 근사화를 수행하여 획득한 근사화 이미지의 상기 관심 영역 에 대응되는 영역을 상기 제1 인공신경망에 입력하여 객체 검출을 수행하는 단계를 더 포함할 수 있다. 여기서, 상기 제2 인공신경망은 상기 제1 인공신경망의 가중치 양자화를 통해 생성될 수 있다. 여기서, 상기 제1 정밀도는 상기 제2 정밀도보다 높은 것을 특징으로 할 수 있다. 여기서, 상기 객체 검출을 수행하는 단계는, 상기 특정 모드가 상기 제3 모드인 경우 상기 이미지의 적어도 일 부에 대해 상기 이미지 근사화를 수행하는 단계를 포함할 수 있다. 여기서, 상기 이미지를 획득하는 단계는, 상기 이미지로부터 상기 관심 영역을 결정하는 단계를 포함할 수 있다. 여기서, 상기 특정 모드를 결정하는 단계는, 상기 관심 영역의 개수가 제1 범위인 경우 상기 제1 모드를 상기 특정 모드로 결정하고, 상기 관심 영역의 개수가 상기 제1 범위보다 큰 제2 범위인 경우 상기 제2 모드를 상기 특정 모드로 결정하고, 상기 관심 영역의 개수가 상기 제2 범위보다 큰 제3 범위인 경우 상기 제3 모드를 상기 특정 모드로 결정하는 단계를 포함할 수 있다. 본 명세서에서, 이미지 근사화(image approximation)란 이미지를 표현하기 위해 사용되는 N 비트(bit) 데이터(N 은 자연수) 중 일부 비트의 데이터를 무시하는 기법일 수 있다. 예를 들어, 이미지 근사화를 통해 이미지를 표 현하기 위해 사용되는 8 비트 데이터 중 하위 몇 비트의 데이터를 무시할 수 있다. 본 명세서의 실시예에 따른 객체 검출 가속화 방법 및 이를 이용하는 뉴럴 가속기는 가중치 양자화 기술 및 이 미지 근사화 기술을 이용할 수 있다. 도 1은 본 명세서의 일 실시예에 따른 가중치 양자화 및 이미지 근사화에 관한 그래프로, 가중치 양자화 및 이미지 근사화가 네트워크의 정확도에 미치는 영향을 측정한 실험에 관한 것 이다. 도 1에서, 32-FP는 32비트 부동 소수점, 16W/8I는 16비트 고정 소수점 및 8비트 이미지, 16W/4I는 16비트 고정 소수점 및 4비트 이미지, 8W/8I는 8비트 고정 소수점 및 8비트 이미지, 8W/4I는 8비트 고정 소수점 및 4비 트 이미지를 이용한 결과이다. 도 1을 참고하면, 가중치 양자화 및 이미지 근사화가 정확도 손실을 거의 유발하 지 않는 것을 확인할 수 있다. 따라서, 가중치 양자화 및 이미지 근사화를 통한 메모리 대역폭 사용량을 감소시 켜 가속 한계점을 더 높일 수 있을 것이다. 이하에서는 이미지 근사화 및 가중치 양자화를 이용한 객체 검출 가속화 방법 및 이를 이용하는 뉴럴 가속기에 대해 설명한다. 본 명세서의 실시예에 따른 이미지 근사화 및 가중치 양자화를 이용한 객체 검출 가속화 방법은 객체 검출 가속 화 시스템에 의해 수행될 수 있다. 도 2는 본 명세서의 일 실시예에 따른 객체 검출 가속화 시스템에 관한 도면 이다. 도 2를 참고하면, 시스템은 제어 모듈 및 메모리를 포함할 수 있다. 제어 모듈은 객체 검출에 관한 연산을 처리할 수 있다. 제어 모듈은 소프트웨어, 하드웨어 및 이들의 조합으로 구현될 수 있다. 예를 들어, 하드웨어적으로 제어 모듈은 중앙 처리 장치(Central Processing Unit, CPU), 그래픽 처리 장치(Graphics Processing Unit, GPU), 디지털 신호 처리 장치(Digital Signal Processor, DSP), FPGA((field programmable gate array)나 ASIC(Application Specific Integrated Circuit), 반도체 칩, 및 그 외의 다양한 형태의 전자 회로로 구현될 수 있다. 또 예를 들어, 소프트웨어적으로 제어 모듈 은 상술한 하드웨어에 따라 수행되는 논리 프로그램이나 각종 컴퓨터 언어 등으로 구현될 수 있다. 메모리는 각종 데이터를 저장할 수 있다. 예를 들어, 메모리는 제어 모듈에서 처리될 인공신경 망을 저장할 수 있다. 또한, 메모리는 플래시 메모리 타입(flash memory type), 하드디스크 타입(hard disk type), 램(Random Access Memory, RAM), 롬(Read-Only Memory, ROM), 자기 메모리, 자기 디스크, 광디스 크 등을 포함할 수 있다. 도 2를 참고하면, 제어 모듈은 이미지 획득부, 관심 영역 결정부, 모드 결정부, 근사화부 , 양자화부 및 객체 검출부를 포함할 수 있다. 일 실시예에 따르면, 이미지 획득부는 외부로부터 이미지를 획득할 수 있다. 여기서, 상기 이미지는 관심 영역이 설정되지 않은 이미지 또는 설정된 이미지일 수 있다. 일 실시예에 따르면, 관심 영역 결정부는 이미지로부터 하나 이상의 관심 영역(Region Of Interest, ROI) 을 결정할 수 있다. 여기서, 관심 영역은 이미지 내의 특정 영역에 대응될 수 있다. 일 실시예에 따르면, 모드 결정부는 객체 검출이 수행되는 복수의 모드 중 특정 모드를 결정할 수 있다. 비한정적인 예로, 상기 복수의 모드는 가중치 양자화와 이미지 근사화를 수행하지 않는 모드(이하 제1 모드라 한다), 가중치 양자화와 이미지 근사화 중 어느 하나만을 수행하는 모드(이하 제2 모드라 한다) 및 가중치 양자 화와 이미지 근사화 모두를 수행하는 모드(이하 제3 모드라 한다)를 포함할 수 있다. 일 실시예에 따르면, 근사화부는 이미지 근사화를 수행할 수 있다. 예를 들어, 근사화부는 이미지를 입력 받아 이미지 근사화를 수행하여 근사화된 이미지를 출력할 수 있다. 일 실시예에 따르면, 양자화부는 가중치 양자화를 수행할 수 있다. 예를 들어, 양자화부는 인공신경 망을 입력 받아 가중치 양자화를 수행하여 가중치가 양자화된 인공신경망을 출력할 수 있다. 일 실시예에 따르면, 객체 검출부는 이미지에 기초하여 객체를 검출할 수 있다. 예를 들어, 객체 검출부 는 이미지를 입력받거나 또는 관심 영역에 대응되는 이미지의 일 영역을 입력받아 객체 검출을 수행할 수 있다.전술한 제어 모듈의 구성은 예시에 불과하고, 전술한 구성 중 일부 구성이 제외되거나 다른 구성이 추가된 제어 모듈이 제공될 수 있다. 또한, 제어 모듈의 각 구성은 별도의 물리적 구성을 의미하는 것만은 아니다. 도 3 및 도 4는 본 명세서의 일 실시예에 따른 이미지 근사화 및 가중치 양자화를 이용한 객체 검출 가속화 방 법 및 이를 이용하는 뉴럴 가속기에 관한 도면이다. 여기서, 이미지 근사화 및 가중치 양자화의 수행 여부에 따 라 상기 뉴럴 가속기의 연산 속도가 달라질 수 있다. 도 3을 참고하면, 본 명세서의 일 실시예에 따른 객체 검출 가속화 방법은 상이한 정밀도의 복수의 인공신경망 을 준비하는 단계(S1100), 이미지를 획득하는 단계(S1200), 이미지로부터 관심 영역을 결정하는 단계(S1300), 관심 영역의 개수에 기초하여 객체 검출이 수행되는 복수의 모드 중 특정 모드를 결정하는 단계(S1400) 및 특정 모드에 따라 이미지로부터 객체 검출을 수행하는 단계(S1500)를 포함할 수 있다. 일 실시예에 따르면, 상이한 정밀도의 복수의 인공신경망을 준비하는 단계(S1100)는 제1 정밀도의 가중치를 포 함하는 제1 인공신경망 및 제2 정밀도의 가중치를 포함하는 제2 인공신경망을 준비하는 단계를 포함할 수 있다. 여기서, 상기 제2 인공신경망은 상기 제1 인공신경망의 가중치 양자화를 통해 생성될 수 있고, 이 경우 상기 제 1 정밀도는 상기 제2 정밀도보다 높을 수 있다. 또한, 상기 복수의 인공신경망은 메모리(예를 들어, D램)에 저 장될 수 있다. 일 실시예에 따르면, 이미지를 획득하는 단계(S1200)는 특정 정밀도의 이미지를 획득하는 단계를 포함할 수 있 다. 예를 들어, 제어 모듈(예를 들어, 이미지 획득부)은 복수의 인공신경망 중 적어도 어느 하나의 인공신경망 (예를 들어, 정밀도가 가장 높은 가중치를 포함하는 인공신경망)의 가중치와 동일한 정밀도의 이미지를 획득할 수 있다. 또한, 상기 제어 모듈은 상기 획득된 이미지를 메모리(예를 들어, D램)에 저장할 수 있다. 일 실시예에 따르면, 이미지로부터 관심 영역을 결정하는 단계(S1300)는 이미지로부터 상기 이미지 내의 하나 이상의 영역에 대응되는 하나 이상의 관심 영역을 결정하는 단계를 포함할 수 있다. 예를 들어, 제어 모듈(예를 들어, 관심 영역 결정부)은 이미지로부터 하나 이상의 관심 영역을 결정할 수 있다. 여기서, 관심 영역은 객체 가 존재하거나 존재하는 것으로 예상되는 이미지 상의 특정 영역에 대응될 수 있다. 일 실시예에 따르면, 관심 영역의 개수에 기초하여 객체 검출이 수행되는 복수의 모드 중 특정 모드를 결정하는 단계(S1400)는 관심 영역의 개수에 기초하여 가중치 양자화 및 이미지 근사화의 수행 여부가 상이한 복수의 모 드 중 특정 모드를 결정하는 단계를 포함할 수 있다. 예를 들어, 제어 모듈(예를 들어, 모드 결정부)은 관심 영 역의 개수가 제1 범위(예를 들어, 1개 내지 5개)인 경우 상기 제1 모드를 특정 모드로 결정하고, 관심 영역의 개수가 상기 제1 범위보다 큰 제2 범위(예를 들어, 6개 내지 10개)인 경우 상기 제2 모드를 특정 모드로 결정할 수 있다. 비한정적인 예로, 도 4를 참고하면, 상기 제2 모드는 가중치 양자화 및 이미지 근사화 중 이미지 근사 화만을 수행하는 모드일 수 있다. 또한, 상기 제어 모듈은 관심 영역의 개수가 상기 제2 범위보다 큰 제3 범위 (예를 들어, 11개 이상)인 경우 상기 제3 모드를 특정 모드로 결정할 수 있다. 일 실시예에 따르면, 특정 모드에 따라 이미지로부터 객체 검출을 수행하는 단계(S1500)는 상기 특정 모드에 대 응되는 인공신경망 및 이미지를 이용하여 객체 검출을 수행하는 단계를 포함할 수 있다. 예를 들어, 제어 모듈(예를 들어, 객체 검출부)은 상기 특정 모드가 상기 제1 모드인 경우 상기 제1 모드에 대 응되는 제1 인공신경망 및 상기 이미지를 이용하여 객체 검출을 수행(예를 들어, 상기 이미지의 관심 영역에 대 응되는 영역을 상기 제1 인공신경망에 입력하여 객체 검출을 수행)하고, 상기 특정 모드가 상기 제3 모드인 경 우 상기 제3 모드에 대응되는 제2 인공신경망 및 상기 이미지의 적어도 일부에 대해 이미지 근사화를 수행하여 획득한 근사화 이미지를 이용하여 객체 검출을 수행(예를 들어, 상기 근사화 이미지의 상기 관심 영역에 대응되 는 영역을 상기 제2 인공신경망에 입력하여 객체 검출을 수행)할 수 있다. 여기서, 상기 제1 인공신경망 및 상 기 이미지의 정밀도는 동일하고, 상기 제2 인공신경망 및 상기 근사화 이미지의 정밀도는 동일할 수 있다. 또한, 상기 근사화 이미지는 메모리(예를 들어, D램)에 저장될 수 있다. 또한, 상기 제어 모듈은 상기 특정 모드가 상기 제2 모드이고 상기 제2 모드가 상기 가중치 양자화를 수행하는 경우 상기 제2 인공신경망 및 상기 이미지를 이용하여 객체 검출을 수행하고(예를 들어, 상기 이미지의 상기 관 심 영역에 대응되는 영역을 상기 제2 인공신경망에 입력하여 객체 검출을 수행), 상기 특정 모드가 상기 제2 모 드이고 상기 제2 모드가 상기 이미지 근사화를 수행하는 경우 상기 제1 인공신경망 및 상기 근사화 이미지를 이 용하여 객체 검출을 수행(예를 들어, 상기 근사화 이미지의 상기 관심 영역에 대응되는 영역을 상기 제1 인공신경망에 입력하여 객체 검출을 수행)할 수 있다. 한편, 상기 제1 모드는 원본을 사용하기 때문에 메모리 대역폭을 많이 사용할 수 있다. 또한, 상기 제1 모드는 연산 유닛이 커지기 때문에 가장 기본적인 성능을 보여줄 수 있다. 상기 제2 모드는 이미지 근사화를 통해 이미 지의 크기를 줄이거나 또는 인공신경망의 가중치 양자화를 통해 상기 제1 모드에 비해 많은 수의 이미지를 동시 에 검출할 수 있다. 상기 제2 모드는 이미지 근사화 또는 가중치 양자화를 통해 상기 제1 모드에 비해 많은 수 의 이미지를 동시에 인식하기 때문에 상기 제1 모드에 비해 더 나은 퍼포먼스를 낼 수 있다. 비한정적인 예로, 도 4에 도시된 바와 같이 상기 제2 모드는 이미지 근사화를 통해 이미지의 크기를 반으로 줄여 두 개의 이미지 를 동시에 인식할 수 있다. 이 경우 상기 제2 모드는 상기 제1 모드에 비해 2배의 퍼포먼스를 낼 수 있다. 상기 제3 모드는 이미지 근사화 및 가중치 양자화를 모두 진행하여 상기 제1 모드 및 상기 제2 모드에 비해 더 나은 퍼포먼스를 낼 수 있다. 비한정적인 예로, 도 4에 도시된 바와 같이 상기 제3 모드는 이미지 근사화 및 가중치 양자화를 통해 2개의 이미지 및 2개의 가중치를 사용하여 4개의 연산을 한 번에 처리할 수 있다. 이 경우 상기 제3 모드는 상기 제1 모드에 비해 4배의 퍼포먼스를 낼 수 있다. 도 5는 본 명세서의 일 실시예에 따른 객체 검출 가속화 시스템의 실시예인 뉴럴 가속기에 관한 도면이다. 일 실시예에 따르면, 뉴럴 가속기는 모드에 따라 처리 장치(Processing Unit, PU) 컨트롤러를 통하여 처리 장치 내부의 처리 소자(Processing Element, PE)의 동작을 변환하고, Mem 컨트롤러를 통하여 모드에 맞는 데이터를 처리 장치로 전송할 수 있다. (데이터 호출(fetch)) 여기서, 처리 장치는 복수의 처리 소자를 포함할 수 있다. 이 경우 뉴럴 가속기는 복수의 처리 소자를 이용하여 병렬로 연산을 수행할 수 있다. 일 실시예에 따르면, 뉴럴 가속기는 모드에 따라 처리 소자가 다르게 동작하여 인식이 이루어질 수 있다. (실행) 예를 들어, 뉴럴 가속기는 모드에 따라 multiplier와 adder, shift 유닛을 분리 또는 결합할 수 있다. 이를 통해 추가적인 하드웨이 리소스 없이 정밀도가 상이한 연산을 수행할 수 있다. 비한정적인 예로, 도 5를 참고하면, 제1 모드에서는 16비트*16비트 연산을 수행하여 1개의 32비트 출력값을 생성할 수 있고, 제2 모드에 서는 8비트*16비트 연산을 수행하여 2개의 24비트 출력값을 생성할 수 있고, 제3 모드에서는 8비트*8비트 연산 을 수행하여 4개의 16비트 출력값을 생성할 수 있다. 일 실시예에 따르면, 뉴럴 가속기는 실행 단계의 결과를 Mem 컨트롤러를 통하여 D램에 저장할 수 있다. (라이트 백(write-back)) 이에 따라 최종적인 멀티-오브젝트 디텍션이 이루어질 수 있다. 도 5의 뉴럴 가속기는 예시적인 것으로 본 명세서에 따른 뉴럴 가속기는 이에 한정되지 않고, 이 외에도 다른 방식의 뉴럴 가속기가 제공될 수도 있을 것이다. 본 명세서의 실시예에 따른 객체 검출 가속화 방법 및 이를 이용하는 뉴럴 가속기는 스트리밍 영상에서 각 프레 임의 관심 영역 수에 따라 동적으로 속도 변환을 수행할 수 있다. 전술한 바와 같이 본 명세서의 실시예에 따른 객체 검출 가속화 방법 및 이를 이용하는 뉴럴 가속기는 연산 속도가 상이한 복수의 모드를 지원할 수 있고, 각 프레임의 관심 영역 수에 따라 뉴럴 가속기의 모드를 변경함으로써 동적으로 속도를 변환할 수 있다. 이에 따라 뉴럴 가속기는 실시간으로 멀티-오브젝트 디텍션을 수행할 수 있다. 이하에서는 실험예를 통해 본 명세서의 객체 검출 가속화 방법 및 이를 이용하는 뉴럴 가속기에 대해 설명한다. 본 실험예에서는 네트워크 구조로 LeNet을 사용하였다. 또한, 데이터 셋으로는 MNIST 및 SVHN 데이터 셋을 사용 하였다. 네트워크 훈련을 위해 텐서플로우 프레임워크를 사용하였으며, 가속기 설계는 Verilog HDL로 작성되었 고 PYNQZ2(ZYNQ XC7Z020-1CLG400C) FPGA 보드 상에 Xilinx Vivado DesignSuite - HLx Editions - 2018.02.을 실제 합성하여 정확도와 퍼포먼스를 측정하였다. 도 6은 본 명세서의 일 실시예에 따른 데이터 세트에 따른 정확도에 관한 표로, 세 가지 모드에 따른 각 데이터 세트에 대한 정확도에 관한 것이다. 도 6에서의 기준 정확도(baseline accuracy)는 4-Core Intel i7- 7700@4.20GHz에서 텐서플로우 프레임워크를 통해 가중치 양자화와 이미지 근사화 없이 32비트 부동 소수점으로 계산했을 때의 정확도이다. 베이스라인을 포함한 모든 데이터는 10회 실험하였으며, 도 6에는 이에 대한 최소값, 최대값 및 평균을 나타내었다. 제1 모드에서 제3 모드가 될수록 근사화의 정도가 높아지고, 소량의 정확도 손실이 있으나 제1 모드에 비하여 제3 모드는 4배의 퍼포먼스를 가진다. 도 7은 본 명세서의 일 실시예에 따른 뉴럴 가속기의 퍼포먼스에 관한 그래프로, 뉴럴 가속기와 CPU(4-Core Intel i7-7700@4.20GHz), 임베디드 CPU(Quad-core ARM Cortex-a53@1.2GHz) 퍼포먼스 비교에 관한 것이다. 도 7 을 참고하면, 임베디드 CPU에 비하여 본 명세서의 일 실시예에 따른 뉴럴 가속기는 평균 5.2배의 퍼포먼스 향상 이 있다는 것을 확인할 수 있다. 도 8은 본 명세서의 일 실시예에 따른 관심 영역 수에 따른 동적 속도에 관한 표로, KITTI Vision 벤치마크를 이용하여 차량번호인식을 진행한 결과이다. 도 8을 참고하면, 제1 모드만을 사용하여 정적 속도로 인식을 진행 하였을 경우 4개의 벤치마크 모두 큰 딜레이가 발생하였으나, 제1 모드, 제2 모드 및 제3 모드를 사용하여 동적 속도로 인식하였을 때 3개의 벤치마크는 모두 실시간으로 인식이 가능하였고 1개의 벤치마크 또한 큰 딜레이를 발생시키지 않았음을 확인할 수 있다. 본 명세서의 실시예에 따른 객체 검출 가속화 방법 및 이를 이용하는 뉴럴 가속기는 다양하게 적용되어 이용될 수 있다. 이하에서는 본 명세서의 실시예에 따른 객체 검출 가속화 방법 및 이를 이용하는 뉴럴 가속기의 몇몇 적용예에 관해 설명한다. 본 명세서의 실시예에 따른 객체 검출 가속화 방법 및 이를 이용하는 뉴럴 가속기는 차량 번호판 인식 시스템에 적용될 수 있다. 여기서, 차량 번호판 인식 시스템은 이미지에서 DNN을 통해 차량 검출, 번호판 검출, 문자 검 출, 문자 인식을 통하여 차량의 번호판을 인식하는 시스템일 수 있다. 여기서, 상기 이미지는 카메라를 통해 촬 상된 이미지일 수 있다. 본 명세서의 실시예에 따른 객체 검출 가속화 방법 및 이를 이용하는 뉴럴 가속기는 휴대폰 카메라 얼굴 인식 시스템에 적용될 수 있다. 여기서, 휴대폰 카메라 얼굴 인식 시스템은 휴대폰 카메라를 이용해 인물 촬영 시에 DNN을 통해 사람의 얼굴을 검출하고 인식하는 시스템일 수 있다. 본 명세서의 실시예에 따른 객체 검출 가속화 방법 및 이를 이용하는 뉴럴 가속기는 CCTV 물체 움직임 인식 시 스템에 적용될 수 있다. 여기서, CCTV 물체 움직임 인식 시스템은 CCTV에서 움직이는 물체를 DNN을 통해 검출하 고 인식하는 시스템일 수 있다. 이 외에도 현재 다양한 분야에서 인공지능을 활용하기 위한 시도가 일어나고 있고 여기에도 본 명세서의 실시예 에 따른 객체 검출 가속화 방법 및 이를 이용하는 뉴럴 가속기가 적용될 수 있을 것이다. 뉴럴 네트워크 시스템 은 특성상 고용량의 메모리, 고속의 처리 장치 및 항시 전력 공급이 가능한 시스템에서만 구현이 가능하다. 하 지만 이와는 다르게 한정된 리소스만을 가지고 있는 임베디드 시스템에서도 인공지능 서비스를 지원하기 위한 연구가 활발히 진행되고 있다. 이러한 시도들로 인해서 향후 카메라, 스피커, 자동차 등의 거의 모든 모바일 플 랫폼에서 뉴럴 네트워크 어플리케이션 이용이 가능해질 것이고, 이에 본 명세서의 실시예에 따른 객체 검출 가 속화 방법 및 이를 이용하는 뉴럴 가속기가 적용될 수 있다. 상기에서는 실시예를 기준으로 본 발명의 구성과 특징을 설명하였으나 본 발명은 이에 한정되지 않으며, 본 발 명의 사상과 범위 내에서 다양하게 변경 또는 변형할 수 있음은 본 발명이 속하는 기술 분야의 당업자에게 명백 한 것이며, 따라서 이와 같은 변경 또는 변형은 첨부된 특허청구범위에 속함을 밝혀둔다."}
{"patent_id": "10-2020-0127847", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 명세서의 일 실시예에 따른 가중치 양자화 및 이미지 근사화에 관한 그래프이다. 도 2는 본 명세서의 일 실시예에 따른 객체 검출 가속화 시스템에 관한 도면이다. 도 3 및 도 4는 본 명세서의 일 실시예에 따른 이미지 근사화 및 가중치 양자화를 이용한 객체 검출 가속화 방 법 및 이를 이용하는 뉴럴 가속기에 관한 도면이다. 도 5는 본 명세서의 일 실시예에 따른 객체 검출 가속화 시스템의 실시예인 뉴럴 가속기에 관한 도면이다. 도 6은 본 명세서의 일 실시예에 따른 데이터 세트에 따른 정확도에 관한 표이다. 도 7은 본 명세서의 일 실시예에 따른 뉴럴 가속기의 퍼포먼스에 관한 그래프이다. 도 8은 본 명세서의 일 실시예에 따른 관심 영역 수에 따른 동적 속도에 관한 표이다."}
