{"patent_id": "10-2021-0184309", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0094847", "출원번호": "10-2021-0184309", "발명의 명칭": "스마트 인솔 기반의 인체 동작 추론 시스템 및 그 방법", "출원인": "한국광기술원", "발명자": "전성국"}}
{"patent_id": "10-2021-0184309", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "스마트 인솔을 이용하여 인체 동작을 추론하는 스마트 인솔 기반의 인체 동작 추론 시스템에 있어서,상기 스마트 인솔로부터 족저압 데이터를 획득하고, 카메라 장치를 이용한 사용자 움직임에 대한 영상에 기초하여 사용자의 관절 또는 신체 부위의 포인트들을 추출한 스켈레톤 트래킹 데이터를 획득한 후 프레임별로 상기족저압 데이터에 대해 스켈레톤 트래킹 데이터를 동기화하여 스켈레톤 데이터셋을 제공하는 데이터 동기화부;상기 스켈레톤 데이터셋에 대해 프레임별로 시계열 순서에 따라 기 설정된 개수의 포인트를 포함하는 2차원 이미지로 변환하여 전처리하는 데이터 전처리부;상기 스켈레톤 트래킹 데이터의 각 포인트가 나타내는 관절 좌표 데이터들을 수집하여 전처리한 후 인공지능 기반의 동작 추론 모델에 학습시키는 학습부; 및 상기 스마트 인솔에서 측정된 족저압 데이터를 상기 인공 지능 기반의 동작 추론 모델에 입력하여, 상기 족저압데이터에 대한 스켈레톤 관절 좌표 데이터를 추정하여 사용자의 동작 추론 결과를 제공하는 동작 추론부를 포함하는 것인, 스마트 인솔 기반의 인체 동작 추론 시스템."}
{"patent_id": "10-2021-0184309", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서, 상기 스켈레톤 트래킹 데이터의 포인트는 상기 2차원 이미지의 (x, y) 좌표이고, 사용자별 관절과 신체부위에대한 포인트의 개수가 서로 다른 것인, 스마트 인솔 기반의 인체 동작 추론 시스템."}
{"patent_id": "10-2021-0184309", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서, 상기 데이터 전처리부는, 상기 데이터 동기화부에서 동기화된 족저압 데이터셋을 사전에 정의된 변환 행렬을 이용하여 2차원 이미지로 변환하고,상기 변환 행렬은 가로축은 공간 데이터, 세로축은 시간 데이터가 각각 할당되는 것인, 스마트 인솔 기반의 인체 동작 추론 시스템."}
{"patent_id": "10-2021-0184309", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서, 상기 학습부는,상기 인공 지능 기반의 동작 추론 모델에 기반하여 상기 동기화된 족저압 데이터와 스켈레톤 트래킹 데이터를비교 분석하여 족저압 패턴에 대한 스켈레톤의 관절 좌표 데이터를 학습하고, 학습한 관절 좌표 데이터들을 가중치 파일로 저장하는 것인, 스마트 인솔 기반의 인체 동작 추론 시스템."}
{"patent_id": "10-2021-0184309", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서, 상기 동작 추론부는,상기 학습부에서 저장한 가중치 파일을 상기 인공 지능 기반의 동작 추론 모델에 적용하는 것인, 스마트 인솔기반의 인체 동작 추론 시스템. 공개특허 10-2023-0094847-3-청구항 6 스마트 인솔을 이용하여 인체 동작을 추론하는 스마트 인솔 기반의 인체 동작 추론 시스템에 있어서,상기 스마트 인솔로부터 족저압 데이터를 획득하고, 카메라 장치를 이용한 사용자 움직임에 대한 영상에 기초하여 사용자의 관절 또는 신체 부위의 포인트들을 추출한 스켈레톤 트래킹 데이터를 획득한 후 프레임별로 상기족저압 데이터에 대해 스켈레톤 트래킹 데이터를 동기화하여 스켈레톤 데이터셋을 제공하는 데이터 동기화부;상기 스켈레톤 데이터셋에 대해 프레임별로 시계열 순서에 따라 기 설정된 개수의 포인트를 포함하는 2차원 이미지로 변환하는 데이터 전처리부;상기 스켈레톤 트래킹 데이터의 각 포인트가 나타내는 관절 좌표 데이터들을 수집하여 전처리한 후 인공지능 기반의 동작 추론 모델에 학습시키는 학습부;상기 스마트 인솔에서 측정된 족저압 데이터를 상기 인공 지능 기반의 동작 추론 모델에 입력하여, 상기 족저압데이터에 대한 스켈레톤 관절 좌표 데이터를 추정하여 사용자의 동작 추론 결과를 제공하는 동작 추론부; 및 상기 사용자의 동작 추론 결과에 대하여 노이즈 제거 및 평활화를 수행하는 데이터 후처리부를 포함하는 것인,스마트 인솔 기반의 인체 동작 추론 시스템."}
{"patent_id": "10-2021-0184309", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서, 상기 데이터 후처리부는,상기 동작 추론부에서 추론한 스켈레톤 관절 좌표 데이터에 대해 공간 필터를 적용하는 것인, 스마트 인솔 기반의 인체 동작 추론 시스템."}
{"patent_id": "10-2021-0184309", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7항에 있어서, 상기 공간 필터는 상기 스켈레톤 관절 좌표 데이터에 대해 관절간 길이가 기 설정된 표준 골격 길이의 임계값을초과하지 않도록 하고, 관절간 길이가 상기 임계값을 초과하면 상기 임계값 이내의 표준 골격 길이에서 2개의골격이 만나는 관절 좌표를 조정하는 것인, 스마트 인솔 기반의 인체 동작 추론 시스템."}
{"patent_id": "10-2021-0184309", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제6항에 있어서, 상기 데이터 후처리부는,상기 동작 추론부에서 추론한 스켈레톤 관절 좌표 데이터에 대해 시간 필터를 적용하는 것인, 스마트 인솔 기반의 인체 동작 추론 시스템."}
{"patent_id": "10-2021-0184309", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서, 상기 시간 필터는 이전 프레임의 관절 위치와 현재 프레임의 관절 위치를 비교 분석하여, 이전 프레임의 관절좌표와 현재 프레임의 관절 좌표에 대한 평균을 연산하여 해당 관절 위치에 대해 평활화를 수행하는 것인, 스마트 인솔 기반의 인체 동작 추론 시스템."}
{"patent_id": "10-2021-0184309", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제6항에 있어서, 상기 데이터 후처리부는,상기 동작 추론부에서 추론한 스켈레톤 관절 좌표 데이터에 대해 공간 필터와 시간 필터를 순차적으로 적용하는것인, 스마트 인솔 기반의 인체 동작 추론 시스템. 공개특허 10-2023-0094847-4-청구항 12 스마트 인솔을 이용하여 인체 동작을 추론하는 스마트 인솔 기반의 인체 동작 추론 시스템에 의해 수행되는 인체 동작 추론 방법에 있어서,a) 상기 스마트 인솔로부터 족저압 데이터를 획득하고, 카메라 장치를 이용한 사용자 움직임에 대한 영상에 기초하여 사용자의 관절 또는 신체 부위의 포인트들을 추출한 스켈레톤 트래킹 데이터를 획득하는 단계;b) 프레임별로 상기 족저압 데이터에 대해 스켈레톤 트래킹 데이터를 동기화하여 스켈레톤 데이터셋을 제공하는단계;c) 상기 스켈레톤 데이터셋에 대해 프레임별로 시계열 순서에 따라 기 설정된 개수의 포인트를 포함하는 2차원이미지로 변환하여 데이터 전처리를 수행하는 단계;d) 상기 스켈레톤 트래킹 데이터의 각 포인트가 나타내는 관절 좌표 데이터들을 수집하여 전처리한 후 인공지능기반의 동작 추론 모델에 학습시키는 단계; 및 e) 상기 스마트 인솔에서 측정된 족저압 데이터를 상기 인공 지능 기반의 동작 추론 모델에 입력하여, 상기 족저압 데이터에 대한 스켈레톤 관절 좌표 데이터를 추정하여 사용자의 동작 추론 결과를 제공하는 단계를 포함하는 것인, 스마트 인솔 기반의 인체 동작 추론 방법."}
{"patent_id": "10-2021-0184309", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "스마트 인솔을 이용하여 인체 동작을 추론하는 스마트 인솔 기반의 인체 동작 추론 시스템에 의해 수행되는 인체 동작 추론 방법에 있어서,a) 상기 스마트 인솔로부터 족저압 데이터를 획득하고, 카메라 장치를 이용한 사용자 움직임에 대한 영상에 기초하여 사용자의 관절 또는 신체 부위의 포인트들을 추출한 스켈레톤 트래킹 데이터를 획득하는 단계;b) 프레임별로 상기 족저압 데이터에 대해 스켈레톤 트래킹 데이터를 동기화하여 스켈레톤 데이터셋을 제공하는단계;c) 상기 스켈레톤 데이터셋에 대해 프레임별로 시계열 순서에 따라 기 설정된 개수의 포인트를 포함하는 2차원이미지로 변환하여 데이터 전처리를 수행하는 단계;d) 상기 스켈레톤 트래킹 데이터의 각 포인트가 나타내는 관절 좌표 데이터들을 수집하여 전처리한 후 인공지능기반의 동작 추론 모델에 학습시키는 단계; e) 상기 스마트 인솔에서 측정된 족저압 데이터를 상기 인공 지능 기반의 동작 추론 모델에 입력하여, 상기 족저압 데이터에 대한 스켈레톤 관절 좌표 데이터를 추정하여 사용자의 동작 추론 결과를 제공하는 단계; 및 f) 상기 사용자의 동작 추론 결과에 대하여 노이즈 제거 및 평활화를 통해 데이터 후처리를 수행하는 단계를 포함하는 것인, 스마트 인솔 기반의 인체 동작 추론 방법."}
{"patent_id": "10-2021-0184309", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 스마트 인솔 기반의 인체 동작 추론 시스템 및 그 방법에 관한 것으로서, 상기 스마트 인솔로부터 족 저압 데이터를 획득하고, 카메라 장치를 이용한 사용자 움직임에 대한 영상에 기초하여 사용자의 관절 또는 신체 부위의 포인트들을 추출한 스켈레톤 트래킹 데이터를 획득한 후 프레임별로 상기 족저압 데이터에 대해 스켈레톤 (뒷면에 계속)"}
{"patent_id": "10-2021-0184309", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 족저압 패턴에 따른 인체 동작을 추론하기 위한 스마트 인솔 기반의 인체 동작 추론 시스템 및 그 방 법에 관한 것이다."}
{"patent_id": "10-2021-0184309", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "이 부분에 기술된 내용은 단순히 본 발명의 일 실시예에 대한 배경 정보를 제공할 뿐 종래기술을 구성하는 것은 아니다. 인솔(Insole)은 발바닥의 피로와 통증을 완화하기 위해서 착용하고, 신발과 발 사이에 쿠션을 제공한다. 인솔은 재질(강성, 반강성, 연성), 기능(발의 하중 보호, 발과 하지의 기능 조절), 제작법(기성품, 주문변형, 맞춤형)에 따라 일반적인 용도가 구분된다. 전문적인 용도는 주로 의료보조도구이며 평발, 요족, 발바닥 굳은살, 티눈, 무지 외반증, 무지강직증, 족저근막염 등 치료 목적으로 사용된다. 최근, 인솔은 스마트기술(Smart tech)을 응용하여 직접적인 건강관리가 가능하도록 신체리듬 정보를 제공 및 관 리하는 스마트 시스템으로 부상하고 있다. 인솔에 압력감응센서, 가속도센서, 그리고 신호 및 정보처리기술을 적용하여 발과 신체의 균형, 그리고 엔터테인먼트(스포츠, 오락 등) 및 헬스케어용으로 활용 범위가 넓어지고 있다. 스마트 인솔 기술은 걷거나 뛰면서 센서가 측정한 무게 값을 스마트폰으로 전송해서 잘못된 보행습관을 고칠 수 있으며, 운동하는 동안에 무게중심의 이동상황을 측정하여 올바른 신체균형을 잡도록 도와줄 수 있다. 또한, 스 마트 인솔 기술은 오락 및 게임 분야로서 스마트폰 게임의 입력장치, 그리고 골프 스윙 체중이동, 조깅과 마라 톤 주법교정 등 신발을 신고하는 스포츠에서의 자세 교정 등에 활용될 수 있다. 스마트 인솔 기술은 의료분야에 서 치매예측, 낙상예측, 척추근골격계질환 조기진단, 노인 및 환자의 재활모니터링, 수술환자 회복모니터링 등 이 가능하다. 종래의 스마트 인솔 기술은 스마트 디바이스와 응용 소프트웨어뿐만 아니라 초소형 및 저전력화 센서들, 배터리, 통신 모듈 등을 사용하고 있는데, 센서 종류에는 모션트래킹 센서, 심박 센서, 땀 센서, 자외선 센서 등이 있으며, 통신 모듈은 블루투스 등의 근거리 무선 통신을 사용하고 있다. 또한, 종래의 스마트 인솔 기술은 모션인식이 필요할 경우, 가속도 센서의 데이터를 얻은 후 데이터를 분석한 후 분석 결과를 블루투스로 스마트폰으로 전송하고 있다. 종래의 모션인식 기술은 오픈 소스인 오픈포즈(openpose)의 스켈레톤 인식 기술을 통하여 인체의 자세를 실시간 으로 인식하고 이를 통해 특정 행동을 인식한 후 행동 인식 결과를 사용자에게 알려준다. 이러한 모션 인식 기술은 외부 카메라 또는 웨어러블 센서를 입고 동작을 취해야 하는데, 사용자가 카메라의 화 각 내에서 동작을 수행해야만 해당 동작의 추론이 가능하며, 카메라의 화각 밖에서의 동작 추론은 불가능하다는 문제점이 있다. 또한, 웨어러블 센서를 기반하는 모션 인식 기술은 사용자가 특수 제작된 옷 또는 장비를 착용한 상태에서 동작 을 수행해야 하므로, 동작을 위해 움직일 때에 별도의 옷이나 장비로 인해 불편하다는 문제점이 있다. 종래의 스마트 인솔 기술을 이용하여 모션인식을 수행하는 기술은 스마트 인솔에서 족저압 측정을 위해 압력 센 서 기반의 매트 등 전문 장비가 필요로 하고, 인솔에 장착된 복수 개의 센서에서 측정된 센서 데이터를 그대로 사용하고 있어 데이터 신뢰도가 떨어지며, 사용자가 자신의 동작 상태를 정확히 파악하기 어렵다는 문제점이 있 다. 또한, 스켈레톤 인식을 위한 오픈 포즈는 스켈레톤 인식에 최적화되어 있는 라이브러리로서, 실제 플랫폼과 구성 소프트웨어 간 호환성 한계로 인해 구동 환경 구축에 다소 어려움이 있다."}
{"patent_id": "10-2021-0184309", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 전술한 문제점을 해결하기 위하여, 본 발명의 일 실시예에 따라 스마트 인솔에서 측정한 족저압 데이 터와 스켈레톤 트래킹 데이터를 분석하여 족저압 패턴에 따른 인체 동작을 추론하는 스마트 인솔 기반의 인체 동작 추론 시스템 및 그 방법을 제공하는 것에 목적이 있다. 다만, 본 실시예가 이루고자 하는 기술적 과제는 상기된 바와 같은 기술적 과제로 한정되지 않으며, 또 다른 기 술적 과제들이 존재할 수 있다."}
{"patent_id": "10-2021-0184309", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기한 기술적 과제를 달성하기 위한 기술적 수단으로서 본 발명의 일 실시예에 따른, 스마트 인솔을 이용하여 인체 동작을 추론하는 스마트 인솔 기반의 인체 동작 추론 시스템은, 상기 스마트 인솔로부터 족저압 데이터를 획득하고, 카메라 장치를 이용한 사용자 움직임에 대한 영상에 기초하여 사용자의 관절 또는 신체 부위의 포인 트들을 추출한 스켈레톤 트래킹 데이터를 획득한 후 프레임별로 상기 족저압 데이터에 대해 스켈레톤 트래킹 데이터를 동기화하여 스켈레톤 데이터셋을 제공하는 데이터 동기화부; 상기 스켈레톤 데이터셋에 대해 프레임별로 시계열 순서에 따라 기 설정된 개수의 포인트를 포함하는 2차원 이미지로 변환하는 데이터 전처리부; 상기 스켈 레톤 트래킹 데이터의 각 포인트가 나타내는 관절 좌표 데이터들을 수집하여 전처리한 후 인공지능 기반의 동작 추론 모델에 학습시키는 학습부; 및 상기 스마트 인솔에서 측정된 족저압 데이터를 상기 인공 지능 기반의 동작 추론 모델에 입력하여, 상기 족저압 데이터에 대한 스켈레톤 관절 좌표 데이터를 추정하여 사용자의 동작 추론 결과를 제공하는 동작 추론부를 포함하는 것이다. 본 발명의 일측면에 따르면, 상기 스켈레톤 트래킹 데이터의 포인트는 상기 2차원 이미지의 (x, y) 좌표이고, 사용자별 관절과 신체부위에 대한 포인트의 개수가 서로 다른 것이다. 본 발명의 일측면에 따르면, 상기 데이터 전처리부는, 상기 데이터 동기화부에서 동기화된 족저압 데이터셋을 사전에 정의된 변환 행렬을 이용하여 2차원 이미지로 변환하고, 상기 변환 행렬은 가로축은 공간 데이터, 세로 축은 시간 데이터가 각각 할당되는 것이다. 본 발명의 일측면에 따르면, 상기 학습부는, 상기 인공 지능 기반의 동작 추론 모델에 기반하여 상기 동기화된 족저압 데이터와 스켈레톤 트래킹 데이터를 비교 분석하여 족저압 패턴에 대한 스켈레톤의 관절 좌표 데이터를 학습하고, 학습한 관절 좌표 데이터들을 가중치 파일로 저장하는 것이다. 본 발명의 일측면에 따르면, 상기 동작 추론부는, 상기 학습부에서 저장한 가중치 파일을 상기 인공 지능 기반 의 동작 추론 모델에 적용하는 것이다. 본 발명의 일측면에 따르면, 스마트 인솔을 이용하여 인체 동작을 추론하는 스마트 인솔 기반의 인체 동작 추론 시스템은, 상기 스마트 인솔로부터 족저압 데이터를 획득하고, 카메라 장치를 이용한 사용자 움직임에 대한 영 상에 기초하여 사용자의 관절 또는 신체 부위의 포인트들을 추출한 스켈레톤 트래킹 데이터를 획득한 후 프레임 별로 상기 족저압 데이터에 대해 스켈레톤 트래킹 데이터를 동기화하여 스켈레톤 데이터셋을 제공하는 데이터 동기화부; 상기 스켈레톤 데이터셋에 대해 프레임별로 시계열 순서에 따라 기 설정된 개수의 포인트를 포함하는 2차원 이미지로 변환하는 데이터 전처리부; 상기 스켈레톤 트래킹 데이터의 각 포인트가 나타내는 관절 좌표 데 이터들을 수집하여 전처리한 후 인공지능 기반의 동작 추론 모델에 학습시키는 학습부; 상기 스마트 인솔에서 측정된 족저압 데이터를 상기 인공 지능 기반의 동작 추론 모델에 입력하여, 상기 족저압 데이터에 대한 스켈레 톤 관절 좌표 데이터를 추정하여 사용자의 동작 추론 결과를 제공하는 동작 추론부; 및 상기 사용자의 동작 추 론 결과에 대하여 노이즈 제거 및 평활화를 수행하는 데이터 후처리부를 포함하는 것이다. 본 발명의 일측면에 따르면, 상기 데이터 후처리부는, 상기 동작 추론부에서 추론한 스켈레톤 관절 좌표 데이터 에 대해 공간 필터를 적용하는 것이다. 본 발명의 일측면에 따르면, 상기 공간 필터는 상기 스켈레톤 관절 좌표 데이터에 대해 관절간 길이가 기 설정 된 표준 골격 길이의 임계값을 초과하지 않도록 하고, 관절간 길이가 상기 임계값을 초과하면 상기 임계값 이내 의 표준 골격 길이에서 2개의 골격이 만나는 관절 좌표를 조정하는 것이다. 본 발명의 일측면에 따르면, 상기 데이터 후처리부는, 상기 동작 추론부에서 추론한 스켈레톤 관절 좌표 데이터 에 대해 시간 필터를 적용하는 것이다. 본 발명의 일측면에 따르면, 상기 시간 필터는 이전 프레임의 관절 위치와 현재 프레임의 관절 위치를 비교 분 석하여, 이전 프레임의 관절 좌표와 현재 프레임의 관절 좌표에 대한 평균을 연산하여 해당 관절 위치에 대해 평활화를 수행하는 것이다. 본 발명의 일측면에 따르면, 상기 데이터 후처리부는, 상기 동작 추론부에서 추론한 스켈레톤 관절 좌표 데이터 에 대해 공간 필터와 시간 필터를 순차적으로 적용하는 것이다. 본 발명의 일측면에 따르면, 스마트 인솔을 이용하여 인체 동작을 추론하는 스마트 인솔 기반의 인체 동작 추론 시스템에 의해 수행되는 인체 동작 추론 방법은, a) 상기 스마트 인솔로부터 족저압 데이터를 획득하고, 카메라 장치를 통해 사영자 움직임에 대한 영상을 이용하여 사용자의 관절 또는 신체 부위의 포인트들을 추출한 스켈레 톤 트래킹 데이터를 획득하는 단계; b) 프레임별로 상기 족저압 데이터에 대해 스켈레톤 트래킹 데이터를 동기 화하여 스켈레톤 데이터셋을 제공하는 단계; c) 상기 스켈레톤 데이터셋에 대해 프레임별로 시계열 순서에 따라 기 설정된 개수의 포인트를 포함하는 2차원 이미지로 변환하여 데이터 전처리를 수행하는 단계; d) 상기 스켈레 톤 트래킹 데이터의 각 포인트가 나타내는 관절 좌표 데이터들을 수집하여 전처리한 후 인공지능 기반의 동작 추론 모델에 학습시키는 단계; 및 e) 상기 스마트 인솔에서 측정된 족저압 데이터를 상기 인공 지능 기반의 동작 추론 모델에 입력하여, 상기 족저압 데이터에 대한 스켈레톤 관절 좌표 데이터를 추정하여 사용자의 동작 추 론 결과를 제공하는 단계를 포함하는 것이다. 본 발명의 일측면에 따르면, 스마트 인솔을 이용하여 인체 동작을 추론하는 스마트 인솔 기반의 인체 동작 추론 시스템에 의해 수행되는 인체 동작 추론 방법은, a) 상기 스마트 인솔로부터 족저압 데이터를 획득하고, 카메라 장치를 이용한 사용자 움직임에 대한 영상에 기초하여 사용자의 관절 또는 신체 부위의 포인트들을 추출한 스켈 레톤 트래킹 데이터를 획득하는 단계; b) 프레임별로 상기 족저압 데이터에 대해 스켈레톤 트래킹 데이터를 동 기화하여 스켈레톤 데이터셋을 제공하는 단계; c) 상기 스켈레톤 데이터셋에 대해 프레임별로 시계열 순서에 따 라 기 설정된 개수의 포인트를 포함하는 2차원 이미지로 변환하여 데이터 전처리를 수행하는 단계; d) 상기 스 켈레톤 트래킹 데이터의 각 포인트가 나타내는 관절 좌표 데이터들을 수집하여 전처리한 후 인공지능 기반의 동 작 추론 모델에 학습시키는 단계; e) 상기 스마트 인솔에서 측정된 족저압 데이터를 상기 인공 지능 기반의 동 작 추론 모델에 입력하여, 상기 족저압 데이터에 대한 스켈레톤 관절 좌표 데이터를 추정하여 사용자의 동작 추 론 결과를 제공하는 단계; 및 f) 상기 사용자의 동작 추론 결과에 대하여 노이즈 제거 및 평활화를 통해 데이터 후처리를 수행하는 단계를 포함하는 것이다."}
{"patent_id": "10-2021-0184309", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "전술한 본 발명의 과제 해결 수단에 의하면, 본 발명은 족저압 패턴과 카메라 장치를 이용하여 사용자가 자신의 자세를 실시간 확인하여 교정 및 유지하는데 도움을 줄 수 있다. 또한, 본 발명은 인체 동작 추론에 기반한 가 상현실에 적용되어 체감적 운동을 할 수 있도록 하여, 트레이너나 의사 및 보조자 없이도 사용자가 직접 재활 치료 또는 운동을 할 수 있도록 할 수 있다."}
{"patent_id": "10-2021-0184309", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "아래에서는 첨부한 도면을 참조하여 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자가 용이하게 실시할 수 있도록 본 발명의 실시예를 상세히 설명한다. 그러나 본 발명은 여러 가지 상이한 형태로 구현될 수 있으며 여기에서 설명하는 실시예에 한정되지 않는다. 그리고 도면에서 본 발명을 명확하게 설명하기 위해서 설명과 관 계없는 부분은 생략하였으며, 명세서 전체를 통하여 유사한 부분에 대해서는 유사한 도면 부호를 붙였다. 명세서 전체에서, 어떤 부분이 다른 부분과 \"연결\"되어 있다고 할 때, 이는 \"직접적으로 연결\"되어 있는 경우뿐 아니라, 그 중간에 다른 소자를 사이에 두고 \"전기적으로 연결\"되어 있는 경우도 포함한다. 또한 어떤 부분이 어떤 구성요소를 \"포함\"한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다른 구성요소를 제외하는 것이 아 니라 다른 구성요소를 더 포함할 수 있는 것을 의미하며, 하나 또는 그 이상의 다른 특징이나 숫자, 단계, 동작, 구성요소, 부분품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해 되어야 한다.본 명세서에서 ‘단말’은 휴대성 및 이동성이 보장된 무선 통신 장치일 수 있으며, 예를 들어 스마트 폰, 태블 릿 PC 또는 노트북 등과 같은 모든 종류의 핸드헬드(Handheld) 기반의 무선 통신 장치일 수 있다. 또한, ‘단 말’은 네트워크를 통해 다른 단말 또는 서버 등에 접속할 수 있는 PC 등의 유선 통신 장치인 것도 가능하다. 또한, 네트워크는 단말들 및 서버들과 같은 각각의 노드 상호 간에 정보 교환이 가능한 연결 구조를 의미하는 것으로, 근거리 통신망(LAN: Local Area Network), 광역 통신망(WAN: Wide Area Network), 인터넷 (WWW: World Wide Web), 유무선 데이터 통신망, 전화망, 유무선 텔레비전 통신망 등을 포함한다. 무선 데이터 통신망의 일례에는 3G, 4G, 5G, 3GPP(3rd Generation Partnership Project), LTE(Long Term Evolution), WI MAX(World Interoperability for Microwave Access), 와이파이(Wi-Fi), 블루투스 통신, 적외선 통신, 초음파 통신, 가시광 통신(VLC: Visible Light Communication), 라이파이(LiFi) 등이 포함되나 이에 한 정되지는 않는다. 이하의 실시예는 본 발명의 이해를 돕기 위한 상세한 설명이며, 본 발명의 권리 범위를 제한하는 것이 아니다. 따라서 본 발명과 동일한 기능을 수행하는 동일 범위의 발명 역시 본 발명의 권리 범위에 속할 것이다. 또한, 본 발명의 각 실시예에 포함된 각 구성, 과정, 공정 또는 방법 등은 기술적으로 상호간 모순되지 않는 범 위 내에서 공유될 수 있다. 이하 첨부된 도면을 참고하여 본 발명의 일 실시예를 상세히 설명하기로 한다. 도 1은 본 발명의 일 실시예에 따른 스마트 인솔 기반의 인체 동작 추론 시스템의 구성을 설명하는 블록도이고, 도 2는 본 발명의 일 실시예에 따른 데이터 동기화부에서 동기화 과정을 설명하는 예시도이다. 도 3은 본 발명 의 일 실시예에 따른 데이터 전처리부의 전처리 과정을 설명하는 예시도이며, 도 4는 본 발명의 일 실시예에 따 른 학습부의 학습 과정을 설명하는 예시도이고, 도 5는 본 발명의 일 실시예에 따른 동작 추론부의 동작 추론 과정을 설명하는 예시도이다. 도 1 내지 도 5를 참조하면, 스마트 인솔 기반의 인체 동작 추론 시스템은 데이터 동기화부, 데이터 전처리부, 학습부, 동작 추론부 및 데이터 후처리부를 포함하지만 이에 한정되는 않는다. 이러한 스마트 인솔 기반의 인체 동작 추론 시스템은 일반적인 의미의 서버용 컴퓨터 본체일 수 있고, 그 외에 서버 역할을 수행할 수 있는 다양한 형태의 장치로 구현될 수 있다. 구체적으로, 스마트 인솔 기반의 인체 동작 추론 시스템은 통신 모듈(미도시), 메모리(미도시), 프로세서(미도시) 및 데이터베이스(미도시)를 포 함하는 컴퓨팅 장치에 구현될 수 있는데, 스마트폰이나 TV, PDA, 태블릿 PC, PC, 노트북 PC 및 기타 사용자 단 말 장치 등으로 구현될 수 있다. 데이터 동기화부는 도 2의 (a)에 도시된 바와 같이 스마트 인솔로부터 족저압 데이터를 획득하고, 도 2의 (b)에 도시된 바와 같이 카메라 장치로부터 스켈레톤 트래킹 데이터를 획득한 후, 프레임별 족저압 데 이터에 대한 스켈레톤 트래킹 데이터를 동기화하여 스켈레톤 데이터셋으로 통합한다. 이때, 스켈레톤 트래킹 데 이터는 사용자를 추적하여 획득된 RGB 영상에서 스켈레톤 추출 알고리즘을 적용하여 관절과 신체 부위(골격)의 포인트를 추출한 3차원 영상이다. 이때, 카메라 장치는 사용자의 움직임 영상을 촬영하기 위해, 기 설정된 촬영 위치로부터 일정 이격거리를 두고 설치되는데, 웹캠 또는 IP 카메라 등을 사용할 수 있다. 데이터 전처리부는 데이터 동기화부에서 출력되는 프레임별 족저압 데이터의 각 프레임별 시계열에 따라 2차원 행렬로 변환 및 이에 동기화된 스켈레톤 데이터셋을 벡터로 변환한다. 데이터 전처리부는 미리 정의된 변환 행렬을 이용하는데, 변환 행렬은 가로축은 공간 데이터, 세로축은 시간 데이터를 할당하는 t×N 행 렬이고, N은 n개의 Xt(족저압 프레임별 수치 데이터)이다. 변환 행렬에 동기화된 스켈레톤 데이터셋은 s차원의 벡터로 저장된 데이터 Jt-set이다. 도 3의 (a)는 족저압 데이터셋이고, (b)는 족저압 데이터셋을 시계열에 따라 2차원 행렬로 변환한 것이며, (c) 는 스켈레톤 데이터셋이다. 도 3의 (c)에 도시된 바와 같이, 스켈레톤 데이터셋에는 스켈레톤 데이터셋에는 s(s ≒20)개 관절의 3차원 좌표 데이터(J1~Js)를 포함한다. 이때, 관절 좌표 데이터는 3차원의 (x, y, z)좌표를 의미 하고, 스켈레톤 추출 알고리즘은 관절과 신체부위별 포인트를 사용자의 키와 신체부위별 크기에 따라 사용자별 다른 개수를 추출할 수 있다. 하기 수학식 1은 족저압 데이터셋, 하기 수학식 2는 스켈레톤 데이터셋에 대해 각 프레임별로 데이터를 정리한 것으로서, Xt-set은 족저압 시계열 데이터이고, Xt는 족저압 프레임별 수치 데이터, Jt-set은 스켈레톤 관절 좌표 데이터를 각각 나타내는 것이다. [수학식 1]"}
{"patent_id": "10-2021-0184309", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "[수학식 2]"}
{"patent_id": "10-2021-0184309", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "데이터 전처리부는 수학식 1 및 수학식 2와 같이 정리된 데이터를 취합하여 2차원 행렬 및 벡터로 변환한 다. 학습부는 족저압 패턴에 대한 3차원 스켈레톤 주요 관절에 대한 관절 좌표 데이터를 학습한다. 이러한 학 습부는 도 4에 도시된 바와 같이, 입력 데이터로 동기화된 족저압 데이터와 스켈레톤 트래킹 데이터를 사 용하고, 입력 데이터에 기반하여 인공지능 기반의 동작 추론 모델이 족저압 데이터와 스켈레톤 트래킹 데 이터를 비교 및 분석하여 족저압에 대한 3차원 스켈레톤 주요 관절 좌표 데이터를 추론할 수 있도록 학습한다. 따라서, 인공지능 기반의 동작 추론 모델은 사용자 동작 추론을 위한 가중치 파일, 즉 인공지능 기반의 동 작 추론 모델의 학습 데이터를 출력하고, 가중치 파일 포맷으로 저장한다. 이때, 인공지능 기반의 동작 추론 모델은 소프트맥스 기반의 회귀 분석 모듈, ResNet, GoogleNet, VGGNets, AlexNet, LeNet 등 인공지능 모델로 사용할 수 있다. 동작 추론부는 학습부에서 출력된 가중치 파일을 인공 지능 기반의 동작 추론 모델에 적용하고, 스마트 인솔을 통해 측정된 사용자의 족저압 데이터를 동작 추론 모델에 입력하고, 동작 추론 모델을 통해 족저압 데이터에 대한 3차원 스켈레톤 관절 좌표 데이터를 사용자의 동작 추론 결과로 출력한다. 데이터 후처리부는 동작 추론부에서 프레임별로 추론한 3차원 스켈레톤 관절 좌표 데이터에 대해 노 이즈 제거 및 좌표 조정을 위하여 평활화 기능을 수행하여, 자연스러운 인체 동작을 표현할 수 있는 평활화된 3 차원 스켈레톤 관절 좌표 데이터를 제공한다. 도 6은 본 발명의 일 실시예에 따른 데이터 후처리부의 공간 필터 적용 과정을 설명하는 예시도이고, 도 7은 본 발명의 일 실시예에 따른 데이터 후처리부의 시간 필터 적용 과정을 설명하는 예시도이다. 도 6에 도시된 바와 같이, 데이터 후처리부는 공간 필터(Spatial filter)를 적용하여 프레임별 각 관절 좌 표에 대하여 관절 사이의 길이가 표준 골격 길이를 넘어가지 않도록 제한하고, 관절 사이의 골격 길이가 지정된 임계값을 넘어갈 경우 임계값 내의 골격 길이에서 두 골격이 만나도록 관절 좌표를 수정한다. 공간 필터는 2차원 이미지의 각 프레임별 각각의 픽셀 값들을 해당 픽셀 값과 이웃한 픽셀 값들의 설정된 함수 에 의해서 이미지를 보정하게 되는데, 여기서 함수로 삼차원 골격 모델을 사용할 수 있다. 즉, 공간 필터는 2차 원 이미지에 가상의 선을 생성한 후 이 가상의 선을 따라 픽셀 값들을 시각화하여 골격 길이 관절 좌표를 조정 하여 자연스러운 인체 동작이 표현될 수 있도록 한다. 데이터 후처리부는 머리(head), 목(neck), 가슴몸통(upper torso), 복부몸통(central torso), 골반(lower torso), 견갑골(scapular) 2개, 상완(upper arm) 2개, 하완(lower arm) 2개 , 손(hand) 2개, 넓적다리(upper leg) 2개 , 종아리(lower leg) 2개, 발(foot) 2개의 총 19개의 체절로 이루어진 삼차원 골격 모델을 사용할 수 있다. 이때, 데이터 후처리부는 3차원 골격 모델의 체절과 체절을 연결하기 위하여 관절을 생성하는데, 관 절은 척추부에 윗목(upper neck), 아랫목(lower neck), 흉추 (thoracic), 요추(lumbar) 각 1개씩 4개, 팔에 어 깨(scapular), 팔꿈치(elbow), 손목 (wrist) 양쪽에 3개씩 6개와 다리에 엉덩관절(hip), 무릎(knee), 발목 (ankle) 양쪽에 3개씩 6개로 총 18개의 조인트를 구성한다. 이때, 조인트는 해부학 평면 기준으로 생성된다. 3차원 골격 모델은 성인 남성/여성, 고령자의 남성/여성 등 연령별 주요 골격에 대한 인체계측학적 측정에 기본 하여 표준 골격 길이를 적용한다. 도 7에 도시된 바와 같이, 데이터 후처리부는 시간 필터(Temporal filter)를 적용하여 이전 프레임들의 관 절 위치와 현재 프레임의 관절 위치를 비교 분석한 후 이전 프레임들의 관절 좌표와 현재 프레임의 관절 좌표에 대한 평균을 구하여 해당 관절 위치를 평활화하게 된다. 영상에 잡음은 랜덤하게 나타나기 때문에 시간 필터(Temporal Filter)는 현재 프레임의 임의의 화소에 잡음이 섞여 있을 때 인접한 프레임의 동일 위치에 있는 화소는 잡음이 섞여 있지 않을 확률이 높다고 가정하고 두 화 소의 가중치 합을 통해 잡음을 억제하는 기술을 이용한 필터이다. 이와 같이, 데이터 후처리부는 공간 필터와 시간 필터를 적용함으로써 모션 블러링(motion blurring) 현상 을 감소시켜 화질을 효과적으로 향상시킬 수 있다. 이때, 데이터 후처리부는 먼저 공간 필터를 적용한 후 에 시간 필터를 적용할 수 있고, 경우에 따라 공간 필터와 시간 필터 중 하나의 필터만 사용할 수도 있다. 상술한 데이터 동기화부, 데이터 전처리부, 학습부, 동작 추론부 및 데이터 후처리부(25 0)의 각 부는 본 발명을 설명하기 위한 일 실시예일 뿐, 이에 한정되지 않고 다양한 변형으로 구현될 수 있다. 또한, 상술한 각 부는 프로세서에 의해 제어될 수 있는 컴퓨터로 판독 가능한 기록매체로서 메모리에 저장된다. 또한, 각 부는 프로그램 모듈일 수 있고, 이러한 프로그램 모듈의 적어도 일부는 소프트웨어, 펌웨어, 하드웨어 또는 이들 중 적어도 둘 이상의 조합으로 구현될 수 있으며, 하나 이상의 기능을 수행하기 위한 모듈, 프로그램, 루틴, 명령어 세트 또는 프로세스를 포함할 수 있다. 도 8은 본 발명의 제1 일 실시예에 따른 스마트 인솔 기반의 인체 동작 추론 방법을 설명하는 데이터 흐름도이 다. 도 8을 참조하면, 스마트 인솔 기반의 인체 동작 추론 방법은, 스마트 인솔로부터 족저압 데이터를 획득하 고, 카메라 장치를 이용한 사용자 움직임에 대한 영상에 기초하여 사용자의 관절 또는 신체 부위의 포인트 들을 추출한 스켈레톤 트래킹 데이터를 획득한다(S1). 스마트 인솔 기반의 인체 동작 추론 시스템은 족저압 데이터에 대해 동기화된 스켈레톤 트래킹 데이터의 각 포인트가 나타내는 관절 좌표 데이터들을 수집하여 전처리한 후 인공지능 기반의 동작 추론 모델에 학습시키 고, 새로운 족저압 데이터가 입력되면 학습된 인공 지능 기반의 동작 추론 모델을 통해 족저압 데이터에 따른 3 차원 스켈레톤 관절 데이터를 추론한다(S2). 스마트 인솔 기반의 인체 동작 추론 시스템은 인공 지능 기반의 동작 추론 모델에서 추론한 3차원 스켈레 톤 관절 데이터를 통해 사용자의 동작을 추론할 수 있고, 그 동작 추론 결과를 제공한다(S3). 도 9는 본 발명의 제2 실시예에 따른 스마트 인솔 기반의 인체 동작 추론 방법을 상세히 설명하기 위한 순서도 이다. 도 9를 참조하면, 스마트 인솔 기반의 인체 동작 추론 방법은 데이터 동기화부에서 족저압 데이터를 획득 하고(S11), 족저압 데이터에 연동되는 스켈레톤 트래킹 데이터를 획득한 후(S12), 프레임별로 족저압 데이터에 대해 스켈레톤 트래킹 데이터를 동기화하여 스켈레톤 데이터셋을 제공한다(S13). 데이터 전처리부는 동기화된 스켈레톤 데이터셋에 대해 프레임별로 시계열 순서에 따라 기 설정된 개수의 포인트를 포함하는 2차원 이미지로 변환한다(S14). 학습부는 스켈레톤 트래킹 데이터의 각 포인트가 나타내는 관절 좌표 데이터들을 수집하여 전처리한 후 인 공지능 기반의 동작 추론 모델에 학습시키고, 가중치 파일을 저장한다(S15). 동작 추론부는 인공지능 기반의 동작 추론 모델에 가중치 파일을 적용하고, 새로운 족저압 데이터를 인공 지능 기반의 동작 추론 모델에 입력한 후 동작 추론 모델을 통해 족저압 데이터에 대한 스켈레톤 관절 좌 표 데이터를 추정한다(S16, S17). 데이터 후처리부는 공간 필터와 시간 필터를 적용하여 동작 추론 모델에서 추정된 스켈레톤 관절 좌표 데 이터에 대해 노이즈 제거 및 평활화를 수행하여 자연스러운 인체 동작을 나타낼 수 있도록 한다(S19). 한편, 도 8 및 도 9의 각 단계들은 본 발명의 구현예에 따라서 추가적인 단계들로 분할되거나, 더 적은 단계들 로 조합될 수 있다. 또한, 일부 단계는 필요에 따라 생략될 수도 있고, 단계간의 순서가 변경될 수도 있다. 이상에서 설명한 본 발명의 실시예는 컴퓨터에 의해 실행되는 프로그램 모듈과 같은 컴퓨터에 의해 실행 가능한 명령어를 포함하는 기록 매체의 형태로도 구현될 수 있다. 이러한 기록 매체는 컴퓨터 판독 가능 매체를 포함 하며, 컴퓨터 판독 가능 매체는 컴퓨터에 의해 액세스될 수 있는 임의의 가용 매체일 수 있고, 휘발성 및 비휘 발성 매체, 분리형 및 비분리형 매체를 모두 포함한다. 또한, 컴퓨터 판독가능 매체는 컴퓨터 저장 매체를 포 함하며, 컴퓨터 저장 매체는 컴퓨터 판독가능 명령어, 데이터 구조, 프로그램 모듈 또는 기타 데이터와 같은 정 보의 저장을 위한 임의의 방법 또는 기술로 구현된 휘발성 및 비휘발성, 분리형 및 비분리형 매체를 모두 포함 한다."}
{"patent_id": "10-2021-0184309", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "전술한 본 발명의 설명은 예시를 위한 것이며, 본 발명이 속하는 기술분야의 통상의 지식을 가진 자는 본 발명 의 기술적 사상이나 필수적인 특징을 변경하지 않고서 다른 구체적인 형태로 쉽게 변형이 가능하다는 것을 이해 할 수 있을 것이다. 그러므로 이상에서 기술한 실시예들은 모든 면에서 예시적인 것이며 한정적이 아닌 것으로 이해해야만 한다. 예를 들어, 단일형으로 설명되어 있는 각 구성 요소는 분산되어 실시될 수도 있으며, 마찬가 지로 분산된 것으로 설명되어 있는 구성 요소들도 결합된 형태로 실시될 수 있다. 본 발명의 범위는 상기 상세한 설명보다는 후술하는 특허청구범위에 의하여 나타내어지며, 특허청구범위의 의미 및 범위 그리고 그 균등 개념으로부터 도출되는 모든 변경 또는 변형된 형태가 본 발명의 범위에 포함되는 것으 로 해석되어야 한다."}
{"patent_id": "10-2021-0184309", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 스마트 인솔 기반의 인체 동작 추론 시스템의 구성을 설명하는 블록도이다. 도 2는 본 발명의 일 실시예에 따른 데이터 동기화부에서 동기화 과정을 설명하는 예시도이다. 도 3은 본 발명의 일 실시예에 따른 데이터 전처리부의 전처리 과정을 설명하는 예시도이다. 도 4는 본 발명의 일 실시예에 따른 학습부의 학습 과정을 설명하는 예시도이다. 도 5는 본 발명의 일 실시예에 따른 동작 추론부의 동작 추론 과정을 설명하는 예시도이다. 도 6은 본 발명의 일 실시예에 따른 데이터 후처리부의 공간 필터 적용 과정을 설명하는 예시도이다. 도 7은 본 발명의 일 실시예에 따른 데이터 후처리부의 시간 필터 적용 과정을 설명하는 예시도이다. 도 8은 본 발명의 제1 실시예에 따른 스마트 인솔 기반의 인체 동작 추론 방법을 설명하는 데이터 흐름도이다. 도 9는 본 발명의 제2 실시예에 따른 스마트 인솔 기반의 인체 동작 추론 방법을 상세히 설명하기 위한 순서도 이다."}
