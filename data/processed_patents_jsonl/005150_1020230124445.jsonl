{"patent_id": "10-2023-0124445", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0041707", "출원번호": "10-2023-0124445", "발명의 명칭": "매장 영상 서비스 장치 및 그 제어 방법", "출원인": "김용범", "발명자": "김예지"}}
{"patent_id": "10-2023-0124445", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "사용자 단말과 통신하는 통신부;상기 통신부 및 카메라에 의한 매장의 촬영 동작으로 획득된 영상 데이터를 이용하여 분석된 프레임 분석 결과,환경 분석 결과 매장 분석 결과 및 방문자의 신체 위치 정보를 저장하고 있는 데이터베이스부에 연결되어 있는서버 제어부; 및상기 서버 제어부에 연결되어 있는 저장부를 포함하고,상기 서버 제어부는,상기 사용자 단말로부터 인가되는 신호에 따라 판단된 시각에 해당하는 프레임 분석 결과, 환경 분석 결과, 매장 분석 결과, 방문자의 신체 위치 정보를 상기 데이터베이스부에서 읽어와 상기 저장부에 저장하고,매장 내부 환경 이미지 위에 상기 환경 분석 결과를 표시하고, 상기 프레임 분석 결과를 이용하여 상기 매장에방문자가 존재하는 것으로 판단되면 상기 방문자의 정해진 신체에 대한 위치 정보에 따라 정해진 자세의 방문자골격 객체를 생성하고, 상기 방문자 골격 객체를 매장 내부 환경 이미지의 정해진 위치에 위치시킨 후, 그 위에 방문자 객체를 표시하는 매장 영상 서비스 장치."}
{"patent_id": "10-2023-0124445", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1 항에 있어서,상기 환경 분석 결과는 청결도 및 재고량을 포함하는 매장 영상 서비스 장치."}
{"patent_id": "10-2023-0124445", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2 항에 있어서,상기 서버 제어부는 상기 매장 내부 환경 이미지 위에 상기 청결도 및 재고량에 각각 대응하는 청결도 표시 객체 및 재고량 표시 객체를 표시하는 매장 영상 서비스 장치."}
{"patent_id": "10-2023-0124445", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제2 항에 있어서,상기 환경 분석 결과는 이상 환경 상태를 더 포함하고,상기 서버 제어부는 상기 환경 분석 결과에 상기 이상 환경 상태가 존재하면, 상기 매장 내부 환경 이미지 위에이상 환경 표시 객체를 표시하는 매장 영상 서비스 장치."}
{"patent_id": "10-2023-0124445", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1 항에 있어서,상기 서버 제어부는 상기 데이터베이스부에서 각 방문자의 위치 좌표를 포함하고 있는 행동 분석 결과를 읽어와상기 저장부에 저장하고,상기 서버 제어부는 상기 방문자의 위치 좌표를 이용하여 상기 방문자 객체의 이동 경로를 상기 매장 내부 환경이미지에 표시하는 매장 영상 서비스 장치."}
{"patent_id": "10-2023-0124445", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "공개특허 10-2025-0041707-3-제5 항에 있어서,상기 행동 분석 결과는 방문자의 이상 행동 상태를 더 포함하고,상기 서버 제어부는 상기 행동 분석 결과에 이상 행동 상태가 존재하면, 이상 행동을 한 방문자가 존재하는 것으로 판단하여 판단된 상기 방문자에 해당하는 방문자 객체에 이상 행동 표시 객체를 표시하는 매장 영상 서비스 장치."}
{"patent_id": "10-2023-0124445", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제5 항에 있어서,상기 방문자의 신체 위치는 왼쪽 어깨, 오른쪽 어깨, 왼쪽 팔꿈치, 오른쪽 팔꿈치, 왼쪽 손목, 오른쪽 손목, 왼쪽 새끼손가락, 오른쪽새끼 손가락, 왼쪽 검지손가락, 오른쪽 검지손가락, 왼쪽 엄지손가락, 오른쪽엄지손가락, 왼쪽 허리, 오른쪽 허리, 왼쪽 무릎, 오른쪽 무릎, 왼쪽 발목, 오른쪽 발목, 왼쪽 발뒤꿈치, 오른쪽 발뒤꿈치, 왼쪽 발끝 및 오른쪽 발끝 중 적어도 하나를 포함하는 매장 영상 서비스 장치."}
{"patent_id": "10-2023-0124445", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7 항에 있어서,상기 방문자의 신체 위치는 왼쪽 눈 속, 왼쪽 눈, 왼쪽 눈 밖, 오른쪽 눈 속, 오른쪽 눈, 오른쪽 눈 밖, 왼쪽귀, 오른쪽 귀, 왼쪽 입꼬리 및 오른쪽 입꼬리 중 적어도 하나를 더 포함하고,상기 행동 분석 결과는 더 포함된 상기 신체 위치를 이용하여 판단된 일반 표정 상태 및 이상 표정 상태를 더포함하고,상기 서버 제어부는 상기 방문자 객체의 얼굴 부분에 일반 표정 상태와 이상 표정 상태에 대응하는 얼굴 표정을표시하는 매장 영상 서비스 장치."}
{"patent_id": "10-2023-0124445", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제1 항에 있어서,상기 프레임 분석 결과는 매장내 인원수 및 상기 영상 데이터의 분석 시각을 포함하고,상기 서버 제어부는 상기 매장내 인원수를 이용하여 상기 매장에 방문자가 존재하는 지 판단하고, 상기 분석 시각을 이용하여 판단된 조작 명령에 해당하는 시각에 관련된 데이터를 읽어오는 매장 영상 서비스 장치."}
{"patent_id": "10-2023-0124445", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제1 항에 있어서,상기 서버 제어부는 상기 사용자 단말의 조작에 의한 조작 명령으로 정해진 시각 또는 현재 시각에 해당하는 프레임 분석 결과, 환경 분석 결과, 매장 분석 결과 및 방문자의 신체 위치 정보를 상기 데이터베이스부로부터 읽어오는 매장 영상 서비스 장치."}
{"patent_id": "10-2023-0124445", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제10 항에 있어서,상기 서버 제어부는 날짜 표시부, 이미지 표시부, 매장 혼잡도 및 매장 기록부를 구비하는 서비스 화면을 출력하고,상기 날짜 표시부, 이미지 표시부, 매장 혼잡도 및 매장 기록부 중 하나의 조작에 의해 정해진 시각을 판단하는매장 영상 서비스 장치."}
{"patent_id": "10-2023-0124445", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제1 항에 있어서,상기 매장 영상 서비스 장치는 클라우드 서버인 매장 영상 서비스 장치.공개특허 10-2025-0041707-4-청구항 13 관리 서버의 서버 제어부는 사용자 단말로부터 인가되는 신호의 상태에 따라 시각을 판단하는 단계;상기 서버 제어부는 판단된 시각에 해당하는 프레임 분석 결과, 환경 분석 결과, 매장 분석 결과 및 방문자의신체 위치 정보를 데이터베이스부에서 읽어와 저장부에 저장하는 단계;상기 서버 제어부는 매장 내부 환경 이미지 위에 상기 환경 분석 결과를 표시하는 단계;상기 서버 제어부는 상기 프레임 분석 결과의 매장내 인원수를 이용하여 매장에 방문자가 존재하는지 판단하는단계;상기 서버 제어부는 상기 매장에 방문자가 존재하면, 방문자의 정해진 신체에 대한 위치 정보에 따라 정해진 자세의 방문자 골격 객체를 생성하는 단계; 및상기 서버 제어부는 방문자 골격 객체를 매장 내부 환경 이미지의 정해진 위치에 위치시킨 후, 그 위에 방문자객체를 표시하는 단계를 포함하는 매장 영상 서비스 장치의 제어 방법."}
{"patent_id": "10-2023-0124445", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제13 항에 있어서,상기 환경 분석 결과는 청결도 및 재고량을 포함하고,상기 서버 제어부는 상기 청결도와 설정값을 비교하여, 상기 청결도가 설정값 이상인 경우에 상기 청결도에 해당하는 청결도 표시 객체를 상기 매장 내부 환경 이미지에 표시하고, 상기 재고량의 크기에 해당하는 재고량 표시 객체를 매장 내부 환경 이미지에 표시하는 단계를 포함하는 매장 영상 서비스 장치의 제어 방법."}
{"patent_id": "10-2023-0124445", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제14 항에 있어서,상기 환경 분석 결과는 이상 환경 상태를 더 포함하고,상기 서버 제어부는 상기 환경 분석 결과에 상기 이상 환경 상태가 존재하는지 판단하는 단계; 및상기 서버 제어부는 상기 이상 환경 상태가 존재하는 상태로 판단되면, 상기 매장 내부 환경 이미지 위에 이상환경 표시 객체를 표시하는 단계를 더 포함하는 매장 영상 서비스 장치의 제어 방법."}
{"patent_id": "10-2023-0124445", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제15 항에 있어서,상기 서버 제어부는 상기 데이터베이스부에서 각 방문자의 위치 좌표를 포함하고 있는 행동 분석 결과를 읽어와상기 저장부에 저장하는 단계; 및상기 서버 제어부는 상기 방문자의 위치 좌표를 이용하여 상기 방문자 객체의 이동 경로를 상기 매장 내부 환경이미지에 표시하는 단계를 더 포함하는 매장 영상 서비스 장치의 제어 방법."}
{"patent_id": "10-2023-0124445", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제16항에 있어서,상기 행동 분석 결과는 방문자의 이상 행동 상태를 더 포함하고,상기 서버 제어부는 상기 행동 분석 결과에 이상 행동 상태가 존재하면, 이상 행동을 한 방문자가 존재하는 것으로 판단하여 판단된 상기 방문자에 해당하는 방문자 객체에 이상 행동 표시 객체를 표시하는 단계를 더 포함공개특허 10-2025-0041707-5-하는 매장 영상 서비스 장치의 제어 방법."}
{"patent_id": "10-2023-0124445", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "제16항에 있어서,상기 행동 분석 결과는 일반 표정 상태 및 이상 표정 상태를 더 포함하고,상기 서버 제어부는 상기 방문자 객체의 얼굴 부분에 일반 표정 상태와 이상 표정 상태에 대응하는 얼굴 표정을표시하는 단계를 더 포함하는 매장 영상 서비스 장치의 제어 방법."}
{"patent_id": "10-2023-0124445", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 매장 영상 서비스 장치에 관한 것으로서, 상기 매장 영상 서비스 장치는 사용자 단말과 통신하는 통신 부, 상기 통신부 및 카메라에 의한 매장의 촬영 동작으로 획득된 영상 데이터를 이용하여 분석된 프레임 분석 결 과, 환경 분석 결과, 매장 분석 결과 및 방문자의 신체 위치 정보를 저장하고 있는 데이터베이스부에 연결되어 (뒷면에 계속)"}
{"patent_id": "10-2023-0124445", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 매장 영상 서비스 장치 및 그 제어 방법에 관한 것으로, 보다 상세하게는 개인 정보를 보호하면서 원 하는 이미지 정보를 제공하는 매장 영상 서비스 장치 및 그 제어 방법에 관한 것이다."}
{"patent_id": "10-2023-0124445", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "매장 내에 상주하는 직원이 없는 무인 매장은 인건비를 절감할 수 있고, 낮은 초기 투자 비용으로 개업이 가능 하여 점차적으로 증가하는 추세이다. 이러한 무인 매장은 관리자 부재로 인해 결제를 수행하지 않는 절도 범위가 빈번히 발생하고 있으며, 매장 내의 시설을 파손시키거나 매장을 오염시키는 문제 역시 자주 발생한다. 따라서, 점주나 관리자는 폐쇄회로(CC) TV(Television) 등을 이용하여 실시간으로 매장 내의 상황을 파악하여 문제 발생시 신속한 조치를 취해야 하지만, 개인정보보호법에 따라 보안용 외에 사람의 신체촬영 및 저장에 많 은 어려움이 발생한다. 이로 인해, 매장 상황을 점주나 관리자에게 실시간으로 촬영된 영상을 제공할 수 없어, 파손이나 도난 사고가 발생하더라도 촬영된 영상을 이용하여 범인이 색출을 어려움이 발생한다. 선행기술문헌 특허문헌 (특허문헌 0001) 대한민국 등록특허 제10-1437678호(공고일: 2014년 9월 03일, 발명의 명칭: 피플 카운팅 기능 을 갖는 무인 방범 시스템)"}
{"patent_id": "10-2023-0124445", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명이 해결하려는 과제는 개인정보를 보호하면서 매장의 상황을 실시간으로 파악할 수 있도록 하는 것이다. 본 발명이 해결하려는 다른 과제는 엣지 컴퓨팅 기술을 이용하여 영상 데이터를 처리하여 데이터 처리 시간을 단축하기 위한 것이다. 본 발명이 해결하려는 또 다른 과제는 매장의 상황을 좀 더 정확하게 파악하기 위한 것이다."}
{"patent_id": "10-2023-0124445", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 한 특징에 따른 매장 영상 서비스 장치는 사용자 단말과 통신하는 통신부, 상기 통신부 및 카메라에 의한 매장의 촬영 동작으로 획득된 영상 데이터를 이용하여 분석된 프레임 분석 결과, 환경 분석 결과 매장 분 석 결과 및 방문자의 신체 위치 정보를 저장하고 있는 데이터베이스부에 연결되어 있는 서버 제어부 및 상기 서 버 제어부에 연결되어 있는 저장부를 포함하고, 상기 서버 제어부는 상기 사용자 단말로부터 인가되는 신호에 따라 판단된 시각에 해당하는 프레임 분석 결과, 환경 분석 결과, 매장 분석 결과, 방문자의 신체 위치 정보를 상기 데이터베이스부에서 읽어와 상기 저장부에 저장하고, 매장 내부 환경 이미지 위에 상기 환경 분석 결과를표시하고, 상기 프레임 분석 결과를 이용하여 상기 매장에 방문자가 존재하는 것으로 판단되면 상기 방문자의 정해진 신체에 대한 위치 정보에 따라 정해진 자세의 방문자 골격 객체를 생성하고, 상기 방문자 골격 객체를 매장 내부 환경 이미지의 정해진 위치에 위치시킨 후, 그 위에 방문자 객체를 표시한다. 상기 환경 분석 결과는 청결도 및 재고량을 포함할 수 있다. 상기 서버 제어부는 상기 매장 내부 환경 이미지 위에 상기 청결도 및 재고량에 각각 대응하는 청결도 표시 객 체 및 재고량 표시 객체를 표시할 수 있다. 상기 환경 분석 결과는 이상 환경 상태를 더 포함할 수 있고, 상기 서버 제어부는 상기 환경 분석 결과에 상기 이상 환경 상태가 존재하면, 상기 매장 내부 환경 이미지 위에 이상 환경 표시 객체를 표시할 수 있다. 상기 서버 제어부는 상기 데이터베이스부에서 각 방문자의 위치 좌표를 포함하고 있는 행동 분석 결과를 읽어와 상기 저장부에 저장할 수 있고, 상기 서버 제어부는 상기 방문자의 위치 좌표를 이용하여 상기 방문자 객체의 이동 경로를 상기 매장 내부 환경 이미지에 표시할 수 있다. 상기 행동 분석 결과는 방문자의 이상 행동 상태를 더 포함할 수 있고, 상기 서버 제어부는 상기 행동 분석 결 과에 이상 행동 상태가 존재하면, 이상 행동을 한 방문자가 존재하는 것으로 판단하여 판단된 상기 방문자에 해 당하는 방문자 객체에 이상 행동 표시 객체를 표시할 수 있다. 상기 방문자의 신체 위치는 왼쪽 어깨, 오른쪽 어깨, 왼쪽 팔꿈치, 오른쪽 팔꿈치, 왼쪽 손목, 오른쪽 손목, 왼 쪽 새끼손가락, 오른쪽새끼 손가락, 왼쪽 검지손가락, 오른쪽 검지손가락, 왼쪽 엄지손가락, 오른쪽 엄지손가락, 왼쪽 허리, 오른쪽 허리, 왼쪽 무릎, 오른쪽 무릎, 왼쪽 발목, 오른쪽 발목, 왼쪽 발뒤꿈치, 오른 쪽 발뒤꿈치, 왼쪽 발끝 및 오른쪽 발끝 중 적어도 하나를 포함할 수 있다. 상기 방문자의 신체 위치는 왼쪽 눈 속, 왼쪽 눈, 왼쪽 눈 밖, 오른쪽 눈 속, 오른쪽 눈, 오른쪽 눈 밖, 왼쪽 귀, 오른쪽 귀, 왼쪽 입꼬리 및 오른쪽 입꼬리 중 적어도 하나를 더 포함할 수 있고, 상기 행동 분석 결과는 더 포함된 상기 신체 위치를 이용하여 판단된 일반 표정 상태 및 이상 표정 상태를 더 포함할 수 있고, 상기 서버 제어부는 상기 방문자 객체의 얼굴 부분에 일반 표정 상태와 이상 표정 상태에 대응하는 얼굴 표정을 표시할 수 있다. 상기 프레임 분석 결과는 매장내 인원수 및 상기 영상 데이터의 분석 시각을 포함할 수 있고, 상기 서버 제어부 는 상기 매장내 인원수를 이용하여 상기 매장에 방문자가 존재하는 지 판단하고, 상기 분석 시각을 이용하여 판 단된 조작 명령에 해당하는 시각에 관련된 데이터를 읽어올 수 있다. 상기 서버 제어부는 상기 사용자 단말의 조작에 의한 조작 명령으로 정해진 시각 또는 현재 시각에 해당하는 프 레임 분석 결과, 환경 분석 결과, 매장 분석 결과 및 방문자의 신체 위치 정보를 상기 데이터베이스부로부터 읽 어올 수 있다. 상기 서버 제어부는 날짜 표시부, 이미지 표시부, 매장 혼잡도 및 매장 기록부를 구비하는 서비스 화면을 출력 할 수 있고, 상기 날짜 표시부, 이미지 표시부, 매장 혼잡도 및 매장 기록부 중 하나의 조작에 의해 정해진 시 각을 판단할 수 있다. 상기 매장 영상 서비스 장치는 클라우드 서버일 수 있다. 본 발명의 다른 특징에 따른 매장 영상 서비스 장치의 제어 방법은 관리 서버의 서버 제어부는 사용자 단말로부 터 인가되는 신호의 상태에 따라 시각을 판단하는 단계, 상기 서버 제어부는 판단된 시각에 해당하는 프레임 분 석 결과, 환경 분석 결과, 매장 분석 결과 및 방문자의 신체 위치 정보를 데이터베이스부에서 읽어와 저장부에 저장하는 단계, 상기 서버 제어부는 매장 내부 환경 이미지 위에 상기 환경 분석 결과를 표시하는 단계, 상기 서버 제어부는 상기 프레임 분석 결과의 매장내 인원수를 이용하여 매장에 방문자가 존재하는지 판단하는 단계, 상기 서버 제어부는 상기 매장에 방문자가 존재하면, 방문자의 정해진 신체에 대한 위치 정보에 따라 정해진 자 세의 방문자 골격 객체를 생성하는 단계 및 상기 서버 제어부는 방문자 골격 객체를 매장 내부 환경 이미지의 정해진 위치에 위치시킨 후, 그 위에 방문자 객체를 표시하는 단계를 포함한다. 상기 환경 분석 결과는 청결도 및 재고량을 포함할 수 있고, 상기 매장 영상 서비스 장치의 제어 방법은 상기 서버 제어부가 상기 청결도와 설정값을 비교하여, 상기 청결도가 설정값 이상인 경우에 상기 청결도에 해당하는 청결도 표시 객체를 상기 매장 내부 환경 이미지에 표시하고, 상기 재고량의 크기에 해당하는 재고량 표시 객체 를 매장 내부 환경 이미지에 표시하는 단계를 포함할 수 있다. 상기 환경 분석 결과는 이상 환경 상태를 더 포함할 수 있고, 상기 매장 영상 서비스 장치의 제어 방법은 상기 서버 제어부가 상기 환경 분석 결과에 상기 이상 환경 상태가 존재하는지 판단하는 단계; 상기 서버 제어부는 상기 이상 환경 상태가 존재하는 상태로 판단되면, 상기 매장 내부 환경 이미지 위에 이상 환경 표시 객체를 표 시하는 단계를 더 포함할 수 있다. 상기 매장 영상 서비스 장치의 제어 방법은 상기 서버 제어부가 상기 데이터베이스부에서 각 방문자의 위치 좌 표를 포함하고 있는 행동 분석 결과를 읽어와 상기 저장부에 저장하는 단계 및 상기 서버 제어부는 상기 방문자 의 위치 좌표를 이용하여 상기 방문자 객체의 이동 경로를 상기 매장 내부 환경 이미지에 표시하는 단계를 더 포함할 수 있다. 상기 행동 분석 결과는 방문자의 이상 행동 상태를 더 포함할 수 있고, 상기 매장 영상 서비스 장치의 제어 방 법은 상기 서버 제어부가 상기 행동 분석 결과에 이상 행동 상태가 존재하면, 이상 행동을 한 방문자가 존재하 는 것으로 판단하여 판단된 상기 방문자에 해당하는 방문자 객체에 이상 행동 표시 객체를 표시하는 단계를 더 포함할 수 있다. 상기 행동 분석 결과는 일반 표정 상태 및 이상 표정 상태를 더 포함할 수 있고, 상기 매장 영상 서비스 장치의 제어 방법은 상기 서버 제어부가 상기 방문자 객체의 얼굴 부분에 일반 표정 상태와 이상 표정 상태에 대응하는 얼굴 표정을 표시하는 단계를 더 포함할 수 있다."}
{"patent_id": "10-2023-0124445", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "이러한 특징에 따르면, 데이터 분석 장치의 정보가 클라우드에 위치하는 데이터베이스에 저장되고, 사용자 단말 역시 클라우드인 관리 서버와 통신하여 원하는 매장의 이미지를 전송받을 수 있다. 이로 인해, 엣지 컴퓨팅이 가능하여, 사용자 단말에 대한 개인 정보의 저장 등이 불필요하여 개인 정보의 노출 위험이 방지될 수 있다. 또한, 카메라에 의해 촬영된 방문자의 촬영 이미지 대신에 방문자 객체가 방문자를 대신해 표시되므로, 방문자 에 대한 얼굴과 같이 신체 노출이 방지될 수 있다."}
{"patent_id": "10-2023-0124445", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면을 참조하여 본 명세서에 개시된 실시 예를 상세히 설명하되, 도면 부호에 관계없이 동일하거 나 유사한 구성요소는 동일한 참조 번호를 부여하고 이에 대한 중복되는 설명은 생략하기로 한다. 또한, 본 명 세서에 개시된 실시 예를 설명함에 있어서 관련된 공지 기술에 대한 구체적인 설명이 본 명세서에 개시된 실시 예의 요지를 흐릴 수 있다고 판단되는 경우 그 상세한 설명을 생략한다. 제1, 제2 등과 같이 서수를 포함하는 용어는 다양한 구성요소들을 설명하는데 사용될 수 있지만, 상기 구성요소 들은 상기 용어들에 의해 한정되지는 않는다. 상기 용어들은 하나의 구성요소를 다른 구성요소로부터 구별하는 목적으로만 사용된다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 출원에서, 설명되는 각 단계들은 특별한 인과관계에 의해 나열된 순서에 따라 수행되어야 하는 경우를 제외 하고, 나열된 순서와 상관없이 수행될 수 있다. 본 출원에서, \"포함한다\" 또는 \"가지다\" 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 동작, 구성요소, 부 품 또는 이들을 조합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되 어야 한다. 이하, 첨부된 도면들을 참조하여 본 발명에 대해 설명한다. 도 1을 참고하여, 매장 영상 서비스 장치를 구비한 매장 영상 서비스 시스템에 대하여 설명한다. 본 예의 매장 영상 서비스 시스템은, 도 1에 도시한 것처럼, 카메라, 카메라와 연결되어 있는 데이터 분석 장치[에지 디바이스(edge device)], 데이터 분석 장치와 연결되어 있는 관리 서버, 관리 서버 와 연결되어 있는 데이터베이스부, 그리고 관리 서버와 연결되어 있는 사용자 단말을 구비할 수 있다. 카메라는 매장 내에 설치되어 있고 데이터 분석 장치와 유선 또는 무선으로 통신할 수 있다. 이러한 카메라는 실시간으로 매장을 촬영하여 획득된 영상 데이터를 데이터 분석부로 전송할 수 있다. 본 예에서는 각 매장 마다 고유의 식별 정보(예, 매장 식별 정보)가 부여될 수 있고, 또한, 각 매장에 설치되어 있는 적어도 하나의 카메라 역시 별도의 식별 정보(예, 카메라 식별 정보)가 부여될 수 있다. 따라서, 카메라는 자신이 설치되어 있는 매장의 식별 정보 및 자신에게 부여된 식별 정보를 획득된 영상 데 이터와 함께 데이터 분석 장치로 전송할 수 있다. 이로 인해, 데이터 분석 장치는 전송된 식별 정보를 이용하여 각 카메라로부터 전송되는 영상 데이터가 어떤 매장의 어떤 카메라로부터 전송된 것인지를 파악할 수 있다. 본 예에서, 카메라가 설치되는 매장은 무인 매장일 수 있고, 카메라는 해당 매장에 적어도 하나가 설치 될 수 있다. 이런 경우, 매장 영상 서비스 장치는 무인 매장 영상 서비스 장치일 수 있고, 매장 영상 서비스 시스템 역시 무인 매장 영상 서비스 시스템일 수 있다. 대안적인 예에서, 카메라는 촬영 동작에 따른 영상 데이터 뿐만 아니라, 촬영 동작 시 해당 매장 내에서 발 생하는 소리를 입력 받아 입력된 소리에 해당하는 음성 신호를 생성할 수 있다. 이런 경우, 카메라는 획득 된 영상 데이터 뿐만 아니라 음성 신호도 함께 데이터 분석 장치로 전송할 수 있다. 데이터 분석 장치는 카메라와 통신하여 카메라로부터 전송되는 영상 데이터를 이용하여 전송된 영 상 데이터를 분석할 수 있다. 도 2에 도시한 것처럼, 데이터 분석 장치는 통신부, 통신부와 연결되어 있는 분석 제어부 및 분석 제어부에 연결되어 있는 저장부를 구비할 수 있다. 통신부는 카메라 및 관리 서버와 같은 다른 장치와의 통신을 위한 것일 수 있고, 다른 장치와의 통 신을 위한 하나 이상의 통신 모듈을 구비할 수 있다. 일 에로, 통신부는 인터넷 모듈과 근거리 통신 모듈을 구비할 수 있다. 인터넷 모듈은 WLAN(Wireless LAN)(WiFi)나 Wibro(Wireless broadband) 등의 인터넷 기술을 이용하여 무선 또 는 유선 인터넷 접속을 위한 모듈일 수 있다. 또한, 근거리 통신 모듈은 근거리 통신을 위한 모듈일 수 있고, 근거리 통신기술로는 블루투스(Bluetooth)나 RFID(Radio Frequency Identification) 등이 이용될 수 있다. 분석 제어부는 통신부를 통해 카메라로부터 전송된 영상 데이터를 분석하여, 해당 매장에 관련된 정보를 추출하고 생성할 수 있다. 이러한 분석 제어부는 제어 모듈, 제어 모듈에 연결되어 있는 행동 분석 모듈과 환경 분석 모듈을 구비할 수 있다. 영상 데이터는 카메라로부터 프레임 단위로 데이터 분석 장치로 전송될 수 있다. 따라서, 제어 모듈은 현재 입력되는 현재 프레임에 해당하는 영상 데이터(예, 현재 영상 데이터)를 저장하 는 프레임 메모리를 구비할 수 있고, 환경 분석 모듈과 행동 분석 모듈의 동작을 제어하여 바로 이전 에 입력된 이전 프레임에 대한 영상 데이터(예, 이전 영상 데이터)에 대한 분석 동작을 제어할 수 있다. 제어 모듈은 분석하는 해당 프레임(예, 이전 프레임)에 대한 영상 데이터를 이용하여 해당 매장의 식별정 보인 매장 식별 정보를 파악할 수 있고, 또한 매장의 식별정보에 대응하는 사용자의 식별정보인 사용자 식별 정 보를 판정할 수 있다. 또한, 제어 모듈은 해당 프레임에 대한 영상 데이터에서 방문자를 감지하여, 매장내 인원수를 파악할 수 있다. 따라서, 제어 모듈은 파악된 매장 식별 정보, 사용자 식별 정보, 매장내 인원수 그리고 해당 영상 데이터 의 분석 시각을 프레임 분석 결과로서 관리 서버로 전송할 수 있다. 이러한 프레임 분석 동작은 매 프레임마다 행해질 수 있고, 관리 서버는 제어 모듈로부터 전송된 프레 임 분석 결과를 데이터베이스부에 저장할 수 있다. 환경 분석 모듈과 행동 분석 모듈은 제어 모듈의 제어에 따라 동작할 수 있고, 정해진 시간 동 안(예, 5분) 동안 제어 모듈로부터 연속적으로 인가되는 영상 데이터를 이용하여 매장의 상황을 분석하여, 분석 결과를 해당 방문자 식별 정보와 매장 식별 정보에 각각 대응되게 저장부에 저장할 수 있고, 분석된 결과를 관리 서버로 전송하여 데이터베이스부에 저장될 수 있도록 한다. 본 예에서, 환경 분석 모듈과 행동분석 모듈은 각각 인공지능(AI: Artificial Intelligence) 기반의 기계 학습 모델(Machine Learning Model)을 이용하여 구현될 수 있다. 일 예로, 환경 분석 모듈은 설정 시간 동안 전송된 영상 데이터를 이용하여 해당 매장의 상태를 분석하여, 매장 내의 이상 상황을 판단하기 위한 것이다. 본 예에서, 환경 분석 모델은 청결도, 재고량 및 이상 환경 상태 중 적어도 하나를 판단하여 환경 분석 결과로 서 데이터베이스부에 저장될 수 있도록 한다. 청결도는 매장 내부의 청결 정도를 나타내는 것일 수 있다. 환경 분석 모듈은 매장 내부 환경 이미지, 즉 방문자가 없는 이상적인 매장의 내부 이미지와 현재의 매장 내부 이미지를 비교하여 현재 매장의 청결도를 판단해 수치화할 수 있다. 판단된 매장 내부의 청결 정도에 따 라, 청결도는 0~100%의 수치로 표시될 수 있다. 예를 들어, 환경 분석 모듈은 매장의 바닥에 쓰레기가 존재하는 지의 여부, 및 존재하는 쓰레기의 양에 따 라 쓰레기가 존재하는 매장의 위치에 대한 청결도를 산출하거나 쓰레기통의 내부 및 주변의 상태를 판단하여 해 당 위치에 대한 청결도를 산출할 수 있다. 이와 같이, 촬영된 매장 내부의 영상 데이터를 이용하여 청결도가 산출되면, 환경 분석 모듈는 산출된 청 결도 및 청결도가 산출된 위치 정보 즉, 즉 영상 데이터에서의 위치 정보를 관리 서버로 전송하여, 데이터 베이스부에 저장될 수 있도록 한다. 따라서, 관리 서버는 판단된 청결도가 설정값 이상인 부분이 감지되면, 해당 부분의 위치 정보, 즉 매장 내 부 환경 이미지에서의 위치를 판단하고, 판단된 위치에 청결도 표시 객체를 표시하여, 사용자에게 청소가 필요 한 부분의 위치를 알려줄 수 있다. 재고량은 해당 매장의 각 매대에 놓여있는 현재 판매 제품의 현재 남아있는 양을 표시하는 것일 수 있다. 이를 위해, 환경 분석 모듈은 매장의 각 매대에 놓여있는 현재 판매 제품의 양을 매장 내부 환경 이미지에 서의 판매 제품의 최대량과 비교하여, 현재 각 매대에 남아있는 현재 판매 제품에 대한 양을 판단해 수치화할 수 있다. 각 매대의 현재 남아있는 제품의 양에 따라, 재고량은 0~100%의 수치로 표시될 수 있다. 이때, 매장 내부 환경 이미지에서의 판매 제품의 최대량은 해당 매대에서 현재 판매되고 있는 제품이 최대치로 진열되어 있을 때의 양일 수 있다. 따라서, 환경 분석 모듈은 매장 내부 환경 이미지에서의 각 매대의 위치 정보 및 해당 위치 정보를 갖는 각 매대에서의 판단된 재고량을 관리 서버로 전송하여, 데이터베이스부에 저장될 수 있도록 한다. 이로 인해, 관리 서버는 환경 분석 데이터베이스에 저장되어 있는 재고량을 이용하여 각 매대에 현재 남아있는 판매 제품의 양을 사용자에게 알려줄 수 있다. 이러한 환경 분석 모듈은 이미지의 크기와 회전에 불변하는 특징을 추출하는 알고리즘인 SIFT(Scale Invariant Feature Transform)를 기반을 meerSIFT 모듈을 이용할 수 있다. 이러한 meerSIFT 모듈은 경량화 알 고리즘으로서, 매장 내의 환경 변화를 감지하는데 활용될 수 있다. 분석 제어부의 행동 분석 모듈은, 일 예로, 설정 시간 동안 전송된 영상 데이터를 이용하여 해당 매장 을 방문한 방문자 각각에 대한 행동을 분석하여, 매장을 방문하는 방문자의 현황과 행동 등을 판단하기 위한 것 이다. 이때, 행동 분석 모듈은 방문자가 검출되면, 각 방문자에 대한 고유의 식별정보(예, 방문자 식별 정보)를 부여할 수 있고, 각 방문자의 위치 좌표, 일반 행동 상태, 추정 나이, 성별 및 이상 행동 상태를 분석하여 해당 하는 방문자에 대한 방문자 식별 정보에 대응되게 행동 분석 결과로서 관리 서버로 전송할 수 있다. 대안 적인 예에서, 행동 분석 모듈은 추가적으로 일반 표정 상태 및 이상 표정 상태를 행동 분석 결과로서 관리 서버로 전송할 수 있다. 따라서, 관리 서버는 전송된 행동 분석 결과를 데이터베이스부에 저장할 수 있다. 행동 분석 결과 중 방문자의 위치 좌표는 해당 방문자의 이동 경로를 파악하기 위한 것일 수 있다. 카메라로부터 전송되는 영상 데이터는 행렬 구조로 배열된 복수 개의 화소를 구비할 수 있고, 각 화소는 해 당 크기의 화소값(예, 계조값)을 구비할 수 있다. 따라서, 방문자의 위치 좌표는 해당 영상 데이터에 대한 각 화소의 화소값의 변화를 방문자의 위치 좌표를 시계 열적으로 파악할 수 있다. 일 예로, 방문자의 위치 좌표는 DSC기법을 활용한 경량화 객체 검출(object Detection) 모델인 meerNET를 이용 하여 추출될 수 있다. meerNET 모델은 사람의 움직임을 실시간으로 다중 객체 추적이 가능한 SORT(Simple Online and Realtime Tracking) 알고리즘을 적용할 수 있다. 따라서, meerNET 모델에 의해 산출된 방문자의 위치 좌표는 매장내에서 방문자의 경로 추적에 활용될 수 있다. 방문자의 일반 행동 상태는 각 방문자의 자세나 움직임을 분석한 것일 수 있다. 분석된 일반 행동 상태는, 일 예로, '서있다', '의자에 앉아 있다', '냉장고 문을 열다', '걸어가다', '물건을 집다' 및 '먹다' 중 적어도 하 나일 수 있다. 방문자의 상태는 설정 시간 동안 동일한 행동을 유지하는 행동 (예, 설정 시간 이상 바닥에 누워 있거나 앉아 있는 동작) 또는 설정 속도 이상으로 팔이나 다리와 같이 신체의 일부가 움직이는 행동(예, 냉장고의 문을 파손 하는 동작) 등과 같이 정상적인 행동에서 벗어난 행동으로 분석된 것일 수 있다. 행동 분석 모듈은 일반 행동 상태로 지정된 행동 이외의 방문자의 모든 행동 상태를 이상 행동 상태로 분 석할 수 있다. 이러한 방문자의 이상 행동 상태는, 일 예로, 매장 내에서 누워있는 행동, 매장 내의 시설을 부수는 행동, 매장 내의 시설에 올라가는 행동, 매장 내에서 말다툼하는 행동, 매장 내에서 물건을 훔치는 행동, 매장 내에서 신체 를 노출하는 행동 및 매장 내에서 소란을 피우는 행동 중 적어도 하나의 행동을 구비할 수 있다. 방문자의 일반 표정 상태는 각 방문자의 얼굴 형태, 좀더 구체적으로는 입꼬리 형태, 눈꼬리 형태, 눈가 형태 및 얼굴 윤곽 형태 중 적어도 하나를 분석하여 각 방문자의 얼굴 표정을 분석한 것일 수 있다. 이러한 일반 표정 상태의 종류는 '웃다'와 '무표정'일 수 있다. 이상 표정 상태 역시, 각 방문자의 얼굴 형태인 입꼬리 형태, 눈꼬리 형태, 눈가 형태 및 얼굴 윤곽 형태 중 적 어도 하나를 분석하여 각 방문자의 이상 얼굴 표정을 분석한 것일 수 있다. 본 예에서, 이상 표정 상태는 일반 표정 상태 이외의 판단된 모든 표정을 지칭할 수 있다. 이러한 일반 표정 상태와 이상 표정 상태는 해당 매장을 방문하는 방문객의 매장에 대한 만족도의 판정에 이용 될 수 있다. 또한 이상 표정 상태는 매장 내에 위치하고 있는 방문객의 특이한 행동, 즉 일반적인 행동이 아닌 잠재적인 의 심 행동의 판단에 이용될 수 있다. 이러한, 이상 표정 상태는 적어도 두개의 판단된 동작의 조합으로 행동 분 석 모듈에 의해 판단될 수 있다. 일 예로, 방문자의 행동이 '눕다'의 행동과 '눈을 감다'의 행동이 함께 이루어지는 경우, 행동 분석 모듈은 해당 방문자의 행동을 '쓰러짐' 또는 '자는 중'으로 잠재적인 의심 행 동으로 판단할 수 있고, 장기 체류의 동작과 빠른 시선 이동의 행동이 함께 이루어지는 경우, 행동 분석 모듈 은 해당 방문자의 행동을 '도둑질'로 잠재적인 의심 행동으로 판단할 수 있다. 따라서, 행동 분석 모듈은 방문자의 얼굴 표정이 이상 표정으로 지정된 표정에 일치하면 방문자의 얼굴 표 정을 이상 표정 상태로 분석할 수 있다. 이러한 이상 표정 상태는 '화난 표정', '불쾌한 표정', '놀란 표정', '우는 표정', '공포에 질린 표정' 및 '슬 픈 표정' 중 적어도 하나 일 수 있다. 방문자의 추정 나이와 추정 성별은 각각 방문자의 추정된 나이와 성별일 수 있다. 행동 분석 모듈은 입력되는 영상 데이터에서 추출된 방문자의 신체적인 특징(키, 몸무게, 얼굴 형태 등), 옷차림 및 걸음 걸이 중 적어도 하나를 이용하여 각 방문자의 나이와 성별을 추정할 수 있다. meerPose 모델은 meerFace 모델을 구비할 수 있고, 이러한 meerFace 모델은 얼굴의 나이, 성별 및 표정을 감지 하기 위한 모델일 수 있다. 따라서, 방문자의 나이와 성별을 추정하기 위해, 행동 분석 모듈은 meerPose 모델 및 그 내부에 구비되어 있는 meerFace 모델을 함께 이용할 수 있으며, 또한, 행동 분석 모듈은 meerFace 모델을 구비하고 있는 meerPose 모델을 이용하여 방문자의 일반 표정 상 태와 및 이상 표정 상태를 판단할 수 있다. 저장부는 분석 제어부의 동작에 필요한 데이터나 동작 중에 발생하는 데이터를 저장하는 저장 매체로서, 메모리(memory)일 수 있다. 다시 도 1을 참고하면, 관리 서버는 클라우드에 위치하는 클라우드 서버일 수 있고, 데이터 분석 장치 와 통신하여, 데이터 분석 장치로부터 전송되는 분석 결과를 데이터베이스부에 저장할 수 있다. 본 예에서, 이러한 관리 서버는 매장 영상 서비스 장치로서 기능할 수 있다. 또한, 관리 서버는 사용자 단말과 통신하여, 사용자 단말의 요청에 따라 정해진 시간에 해당하는 매장 상황이 표시된 이미지, 즉 매장 내부 환경 이미지를 사용자 단말로 전송할 수 있다. 이때, 관리 서버 는 데이터베이스부에 저장되어 있는 분석 결과에 따라 매장 내부 환경 이미지의 각 해당 위치에 정해진 객체를 표시하여, 매장의 상황을 표시할 수 있다. 이와 같이, 본 예는 클라우드를 이용하여 매장 상황을 분석한 분석 결과를 저장하고, 분석된 매장 상황에 해당 하는 이미지로 사용자 단말에 전송할 수 있는 엣지 컴퓨팅을 수행할 수 있다. 이로 인해, 사용자 단말 을 이용하여 사용자에 대한 개인 정보를 별도로 저장할 필요가 없어진다. 또한, 카메라에 의해 촬영된 방문자도 정해진 이미지를 갖는 방문자 객체로 표시되므로, 방문자에 대한 얼 굴이 외부로 노출되는 문제가 방지될 수 있다. 이러한 관리 서버는 도 2의 (b)에 도시한 것처럼, 데이터 분석 장치 및 사용자 단말과의 통신을 위 한 통신부, 통신부 및 데이터베이스부에 연결되어 있는 서버 제어부 및 저장부를 구비할 수 있다.통신부는 인터넷 통신 모듈을 구비할 수 있다. 서버 제어부는 관리 서버의 전반적인 동작을 제어하는 것으로서, 프로세서일 수 있고, 저장부는 관 리 서버의 동작에 필요한 데이터나 동작 중에 발생하는 데이터 등을 저장하기 위한 저장 매체일 수 있다. 이러한 관리 서버의 동작에 대해서는 다음에 자세히 설명한다. 도 1의 데이터베이스부는 데이터 분석 장치로부터 전송되는 분석 결과를 전송받아 저장할 수 있다. 이러한 데이터베이스부는 적어도 하나의 데이터베이스를 구비할 수 있고, 일 예로, 프레임 데이터베이스 , 환경 분석 데이터베이스, 행동 분석 데이터베이스 및 방문자 골격 데이터베이스를 구비할 수 있다. 프레임 데이터베이스는 프레임 분석 결과를 저장할 수 있다. 프레임 데이터베이스에 저장되는 정보는 영상 데이터의 각 프레임에 대한 정보일 수 있고, 일 예로, 사용자 식별정보, 매장 식별정보, 매매장내 인원수 및 분석 시각을 저장할 수 있다. 사용자 식별 정보는 사용자 단말에 대한 식별정보일 수 있고, 매장 식별 정보는 각 매장에 부여된 식별 정 보일 수 있다. 매장내 인원수는 해당 매장 내에 현재 체류하고 있는 방문자의 수일 수 있고, 분석 시각은 해당 프레임에 대한 영상 데이터의 분석 시각을 나타낼 수 있다. 환경 분석 데이터베이스는 환경 분석 모듈의 동작에 의해 분석된 환경 분석 결과를 저장될 수 있다. 따라서, 환경 분석 데이터베이스는 각 매장의 식별정보에 대응되게 매장 내부 환경 이미지 및 환경 분석 결 과를 저장할 수 있다. 이때, 환경 분석 결과는 청결도, 이상 환경 상태 및 재고량 중 적어도 하나를 구비할 수 있고, 또한, 이들 청결 도, 이상 환경 상태 및 재고량을 표시하기 위한 위치 정보, 즉 매장 내부 환경 이미지에서의 위치 정도 역시 구 비할 수 있다. 행동 분석 데이터베이스는 행동 분석 모듈의 동작에 의해 분석된 행동 분석 결과를 저장할 수 있다. 따라서, 행동 분석 데이터베이스는 각 방문자에 부여된 방문자 식별 정보 및 각 방문자 식별 정보에 대응되 게 해당 방문자의 위치 좌표, 일반 행동 상태, 일반 표정 상태, 추정 나이, 성별, 이상 행동 상태 및 이상 표정 상태 중 적어도 하나를 포함하는 행동 분석 결과를 저장할 수 있다. 방문자 골격 데이터베이스는 각 방문자의 움직임에 따라 정해진 신체의 위치 정보(예를 들어, 좌표)를 각 방문자 식별 정보에 대응되게 저장할 수 있다. 이때, 정해진 신체는 왼쪽 어깨, 오른쪽 어깨, 왼쪽 팔꿈치, 오른쪽 팔꿈치, 왼쪽 손목, 오른쪽 손목, 왼쪽 새 끼손가락, 오른쪽새끼 손가락, 왼쪽 검지손가락, 오른쪽 검지손가락, 왼쪽 엄지손가락, 오른쪽 엄지손가락, 왼 쪽 허리, 오른쪽 허리, 왼쪽 무릎, 오른쪽 무릎, 왼쪽 발목, 오른쪽 발목, 왼쪽 발뒤꿈치, 오른쪽 발뒤꿈치, 왼 쪽 발끝 및 오른쪽 발끝 중 적어도 하나를 포함할 수 있다. 추가적으로, 정해진 신체는 왼쪽 눈 속, 왼쪽 눈, 왼쪽 눈 밖, 오른쪽 눈 속, 오른쪽 눈, 오른쪽 눈 밖, 왼쪽 귀, 오른쪽 귀, 왼쪽 입꼬리 및 오른쪽 입꼬리 중 적어도 하나를 더 포함할 수 있다. 이런 경우, 행동 분석 모 듈은 이들 추가적인 신체의 움직임 즉 좌표 변화를 이용하여 해당 방문자의 일반 표정 상태와 이상 표정 상태를 판단할 수 있다. 각 방문자에 대한 각 신체의 위치 정보는 행동 분석 모듈의 동작에 의해 분석된 방문자의 좌표를 이용하여 추출될 수 있다. 이를 위해, 행동 분석 모듈은 이미 기술한 meerPose 모델이 사용될 수 있다. meerPose 모델은 사람의 상반 신과 하반신 중 적어도 하나를 기준으로 하여 정해진 골격의 위치를 추적해 행동을 분석할 수 있다. 일 예로, meerPose 모델은 상반신을 기준으로 할 경우 손과 얼굴의 골격의 위치를 추적하여 행동을 분석할 수 있고, 하반신을 기준으로 할 경우 허리와 발의 골격의 위치를 추적하여 행동을 분석 수 있다. 따라서, 이러한 각 방문자에 대한 신체의 위치 정보를 이용하여, 관리 서버는 각 방문자의 자세, 특정 신체 의 반복적인 동작 및 행동 상태 등을 판정할 수 있다. 예를 들어, 행동 분석 모듈은 각 방문자에 대한 신체의 위치 정보를 이용하여 해당 방문자의 행동 상태(예, 서있다, 누워있다 등)를 판단할 수 있다. 그런 다음, 행동 분석 모듈은 각 방문자의 행동 상태의 변화를 설정 시간 동안 감시하거나 해당 매장 내의 환경 변화(예, 바닥 상태, 테이블 상태 또는 냉장고 문의 상태 등) 등을 조합하여, 각 방문자의 행동 상태를 정 상적인 행동 상태인 일반 행동 상태(예, 서있다, 걸어가다 또는 냉장고 문을 열고 닫다) 또는 비정상적인 행동 상태인 이상 행동 상태(예, 누워있다, 냉장고 문 파손 행동)로 판단할 수 있다. 예를 들어, 행동 분석 모듈은 현재 판단된 방문자의 행동 상태가 누워 있는 상태에서 설정 시간이 경과한 후에서 누워 있는 행동이 지속되는 경우, 해당 방문자의 행동 상태를 '누워있다'는 이상 행동 상태로 판단할 수 있다. 또는 현재 판단된 방문자의 행동 상태가 냉장고 문을 여는 상태였는데, 다음 단계에서 판단된 냉장고 문의 상태 가 파손된 상태인 경우, 행동 분석 모듈은 해당 방문자의 행동을 '냉장고를 파손함'이라는 이상 행동 상태 로 판단할 수 있다. 또 다른 예로서, 현재 판단된 방문자의 행동 상태가 매대 위에 위치한 판매 제품을 들어 올리는 상태였는데, 해 당 방문자가 매장을 나갈 때까지 들어올린 제품에 대한 계산 동작이 발생하지 않은 상태인 경우, 행동 분석 모 듈은 해당 방문자의 행동을 '도둑질'이라는 이상 행동 상태로 판단할 수 있다. 따라서, 이러한 동작을 통 해, 행동 분석 모듈은 각 방문자가 행한 행동 상태를 일반 행동 상태 또는 이상 행동 상태로 판단해 구분 할 수 있고, 이로 인해, 이상 행동 상태를 수행한 방문자를 판단할 수 있다. 이상 행동 상태로 판단될 수 있는 조건은 이미 행동 분석 모듈 내에 저장되어 있을 수 있고, 이로 인해, 행동 분석 모듈은 각 방문자의 판단된 행동 상태가 정해진 조건을 만족하면 일반 행동 상태가 아닌 이상 행동 상태로 판단할 수 있다. 사용자 단말은 매장 영상 서비스 시스템을 사용하는 사용자의 단말일 수 있고, 이때, 사용자는 매장을 관리 하는 관리자나 매장의 주인일 수 있다. 이러한 사용자 단말에는 매장 영상 서비스 시스템을 이용하기 위한 어플리케이션(application)이 설치되어 있을 수 있다. 이러한 사용자 단말은, 도 3에 도시한 것처럼, 통신부, 사용자 입력부, 통신부와 사용자 입력 부에 연결되어 있는 단말 제어부, 단말 제어부에 연결되어 있는 저장부 및 단말 제어부에 연결되어 있는 정보 출력부를 구비할 수 있다. 통신부는 관리 서버와 같이 다른 장치와의 통신을 위한 것일 수 있다. 이러한 통신부는 이미 기술 한 인터넷 통신 모듈과 근거리 통신 모듈을 구비할 수 있다. 사용자 입력부는 사용자가 사용자 단말의 동작 제어를 위한 명령 등에 관련된 신호를 발생시켜 단말 제 어부로 입력할 수 있다. 이때, 사용자 입력부는 키 패드(key pad), 터치 패드(touch pad) 또는 마우스(mouse) 등으로 구성될 수 있 다. 단말 제어부는 사용자 단말의 전반적인 동작을 제어하는 것으로서, 프로세서(processor)일 수 있다. 이러한 단말 제어부는 사용자 입력부를 통해 인가되는 신호를 이용하여 정보 출력부의 동작을 제어 할 수 있고, 사용자 단말의 동작 중에 발생한 데이터를 처리할 수 있다. 일 예로, 단말 제어부는 관리 서버와 통신하여, 사용자 입력부로부터 인가되는 신호에 따라 관리 서버로부터 매장 내부의 상황 데이터 및 해당 이미지를 수신 받아 정보 출력부로 출력할 수 있다. 정보 출력부는 단말 제어부의 제어에 따라 시각 및 청각에 관련된 출력을 발생시킬 수 있다. 이러한 정보 출력부는 디스플레이 모듈 및 음향 출력 모듈을 구비할 수 있다. 디스플레이 모듈은 단말 제어부의 동작에 따라 단말 제어부에서 출력되는 영상 데이터에 해당하는 영상 을 화면에 표시할 수 있다. 따라서, 디스플레이 모듈은 매장 내부의 상황 데이터 및 동영상을 출력할 수 있다.이러한 디스플레이 모듈은 액정 디스플레이(liquid crystal display), 유기 발광 표시 장치(organic light emitting diode display), 플렉시블 디스플레이(flexible display) 및 3차원 디스플레이(3D display) 중에서 적어도 하나의 표시 장치를 포함할 수 있다. 음향 출력 모듈은 단말 제어부의 동작에 의해 단말 제어부에서 출력되는 오디오 신호(audio signal)를 음성으로 출력한다. 따라서, 단말 제어부는 매장 내에서 발생된 소리에 기초한 오디오 신호를 관리 서버로부터 전달 받아 음향 출력 모듈로 출력할 수 있고, 이에 따라 음향 출력 모듈는 오디오 신호에 해당하는 음향을 외부로 출력한 다. 이러한 음향 출력 모듈은 리시버(receiver), 스피커(speaker) 또는 버저(buzzer) 등을 구비할 수 있다. 따라서, 카메라로부터 영상 데이터와 함께 음성 신호가 전송되면, 관리 서버의 제어에 따라 해당 음성 신호는 정보 출력부의 음향 출력 모듈로 출력되어 해당하는 소리로 출력될 수 있다. 다음, 도 4를 참고하여, 이러한 구조를 갖는 매장 영상 서비스 시스템의 동작에 대하여 설명한다. 먼저, 매장 영상 서비스 시스템의 동작에 필요한 전원이 공급되면, 매장 영상 서비스 시스템의 동작이 시작될 수 있다. 따라서, 매장 영상 서비스 시스템의 카메라는 실시간으로 자신이 설치된 매장을 지정된 장소를 촬영할 수 있다. 본 예에서, 카메라는 적어도 하나가 존재할 수 있고, 각 카메라는 매장 내의 정해진 장소를 촬영하여 영상 데이터를 생성하고, 생성된 영상 데이터를 각각 데이터 분석 장치로 전송할 수 있다. 카메라로부터 프레임 단위로 영상 데이터가 입력되면, 데이터 분석 장치의 동작이 시작된다. 따라서, 도 4에 도시한 것처럼, 데이터 분석 장치의 제어 모듈은 카메라로부터 현재 영상 데이터 가 입력되면 프레임 메모리에 저장되어 있는 이전 영상 데이터를 판독하여 저장부에 저장하고(S11), 입력되 는 현재 영상 데이터를 프레임 메모리에 저장할 수 있다(S12). 그럼 다음, 제어 모듈은 저장부에 저장되어 있는 해당 영상 데이터, 즉 이전 영상 데이터에 대한 분석 동작을 제어할 수 있다. 따라서, 제어 모듈은 저장부에 저장되어 있는 해당 영상 데이터를 읽어와(S13), 해당 영상 데이터에서 매장 식별 정보, 사용자 식별 정보, 매장내 인원수 및 분석 시각을 추출하여 통신부를 이용해 프레임 분석 결과로서 클라우드인 관리 서버로 전송할 수 있다(S15). 이로 인해, 관리 서버는 전송된 해당 영상 데이터에 해당하는 프레임 분석 결과인 매장 식별 정보, 사용자 식별 정보, 매장내 인원수 및 분석 시각을 데이터베이스부의 프레임 데이터베이스에 저장될 수 있다. 또한, 제어 모듈은 판독된 해당 영상 데이터를 환경 분석 모듈 및 행동 분석 모듈로 입력하여, 환경 분석 모듈 및 행동 분석 모듈에 의한 해당 영상 데이터의 분석 동작이 이루어질 수 있도록 환경 분석 모듈 및 행동 분석 모듈의 동작을 제어할 수 있다(S16, S17). 이러한 제어 모듈의 제어에 따라, 환경 분석 모듈 및 행동 분석 모듈의 동작이 이루어져 해당 영상 데이터를 이용한 환경 분석 결과와 행동 분석 결과가 제어 모듈로 입력되면, 제어 모듈은 입력 된 환경 분석 결과와 행동 분석 결과를 관리 서버로 전송할 수 있다. 따라서, 관리 서버는 전송된 데이터 분석 장치로부터 전송된 환경 분석 결과와 행동 분석 결과를 각각 데이터베이스부의 환경 분석 데이터베이스와 행동 분석 데이터베이스에 저장할 수 있다. 이와 같은 데이터 분석 장치의 동작에 의해, 카메라로부터 전송되는 영상 데이터의 분석 동작이 행해질 수 있고, 데이터베이스부에는 분석 결과가 실시간으로 순차적으로 저장되어 누적될 수 있다. 이처럼, 본 예는 분석 결과를 클라우드에 위치하고 있는 관리 서버와 데이터베이스부에 저장하는 엣지 컴퓨팅 동작을 수행하므로, 사용자에 대한 개인 정보의 저장 동작이 불필요할 수 있고, 이로 인해, 개인정보의 유출 우려가 감소할 수 있다. 또한, 이미 기술한 것처럼, 환경 분석 모듈과 행동 분석 모듈은 자체 학습 알고리즘을 이용한 환경 적응 AI 모델을 이용하므로, 분석 동작의 정확도가 향상될 수 있고, 환경 분석 모듈과 행동 분석 모듈 에 실장되어 있는 모델의 구조가 단순해지고 모델 경량화가 이루어질 수 있다. 이러한 엣지 컴퓨팅 동작과 모델 경량화로 인해, 데이터의 탈중앙화 처리가 행해져 처리 속도가 향상되고 비용 이 절감될 수 있다. 다음, 도 5를 참고하여, 사용자 단말의 조작에 따라 매장 이미지를 서비스하는 관리 서버를 이용한 매 장 영상 서비스 장치의 제어 방법을 설명한다. 먼저, 관리 서버의 서버 제어부는 동작이 시작되면, 통신부를 이용하여 사용자 단말로 서비스 화면에 관련된 데이터를 전송할 수 있다(S21). 따라서, 사용자 단말의 단말 제어부는 관리 서버로부터 전송된 데이터를 저장부에 저장한 후, 전송된 데이터를 이용해 정보 출력부로 서비스 초기 화면을 출력할 수 있다. 이때, 사용자 단말의 저장부에는 서비스 화면의 출력을 위한 이미지 데이터가 이미 저장되어 있을 수 있고, 이로 인해, 화면 출력을 위한 영상 데이터와 전송된 데이터를 이용하여 정해진 디자인의 서비스 화면이 출력될 수 있다. 도 6에는 사용자 단말의 정보 출력부로 출력되는 서비스 화면의 일 예가 도시되어 있다. 도 6에 도시한 것처럼, 서비스 화면은 날짜가 표시되는 날짜 표시부(D10), 관리 서버로부터 전송되고 매장 내부에 대한 이미지를 표시하는 이미지 표시부(D20), 매장의 혼잡도를 그래프로 표시하는 혼잡도 표시부(D30) 그리고 해당 매장의 방문자 현황을 출력하는 매장 기록부(D40)를 구비할 수 있다. 서비스 화면의 날짜 표시부(D10)는 현재 날짜가 표시될 수 있지만, 사용자 입력부를 이용한 사용자의 조작 에 따라 원하는 날짜를 선택하여 표시할 수 있다. 이미지 표시부(D20)는 표시 화면 및 표시 화면 하부에 위치하고 사용자의 조작에 따라 위치가 변하고, 위치에 따라 현재 시각이 변하는 컨트롤 바(control bar)(B14)를 구비할 수 있다. 표시 화면에는 재생 버튼(B11)뿐만 아니라 이전 버튼(B12) 및 다음 버튼(B13)이 존재하여 원하는 시점의 매장 이미지를 재생시킬 수 있다. 본 예에서, 표시 화면에 표시되는 이미지는 날짜 표시부(D10)에 표시되는 날짜에 해당하는 이미지일 수 있다. 따라서, 사용자는 날짜 표시부(D10)에 표시되는 날짜를 선택하여 원하는 날짜에 촬영된 매장의 이미지를 확인할 수 있다. 또한, 서비스 화면에는 매장내 인원수(즉, 매장내 인원)과 누적 인원수(즉, 누적인원)이 표시될 수 있다. 매장내 인원수는 프라임 데이터베이스에 저장되어 있는 매장내 인원수 중에서 현재 시각에 해당하는 매장내 인원수일 수 있다. 누적 인원수는 해당 날짜의 현재까지 산출된 매장내 인원수의 총 합으로서, 관리 서버의 서버 제어부 현재 날짜의 현재 시간까지 산출된 매장내 인원수를 모두 합산하여 누적 인원수를 산출할 수 있다. 매장 혼잡도는 해당 날짜의 24시간동안 시간대별로 매장을 방문하는 방문자의 수를 그래프로 표시할 수 있다. 따라서, 사용자 입력부를 이용하여 매장 혼잡도의 원하는 부분을 선택하면, 해당 시각 및 그에 관련된 방문 자의 수가 표시될 수 있다. 이러한 매장 혼잡도는 프레임 데이터베이스에 저장되어 있는 매장내 인원수 및 분석 시각을 이용하여 산출 될 수 있다. 매장 혼잡도에는 매장내 인원수뿐만 아니라 방문자의 현황이 표시될 수 있고, 일 예로, '동시 방문자 과다'현황 과 '장기 체류 발생'현황이 표시될 수 있다. '동시 방문자 과다'현황은 시각까지 표시되는 해당 날짜(T41)에서 매장 내에 복수의 방문자가 가장 많을 때의 매장내 인원수(예, 4명)를 표시할 수 있고, '장기 체류 발생' 현황은 해당 날짜(T42)에서 가장 오랫동안 해당 매장에 머물었던 해당 방문자의 체류 시간(예, 33분)을 표시할 수 있다. 도 6에 도시한 것처럼, 동시 방문자 과다가 발생한 시점과 장기 체류가 발생한 시점은 매장 혼잡도의 그래프에 서 지정된 표시기(예, 빨간색 원과 파란색 원)로 표시될 수 있다. 사용자 입력부에 의해 '동시 방문자 과다'탭(D41)이 선택되면, 단말 제어부는 관리 서버로부터 전 송된 데이터를 이용하여 동시간대에 매장에 위치하고 있던 방문자의 목록, 각 방문자의 추정 성별 및 추정 나이, 그리고 각 방문 시각을 정보 출력부로 출력할 수 있다. 도 6에서, 동시 방문자가 최대인 시간은 2023년 04월 29일 15시 30분이고, 이때, 동시 방문자 수는 총 4명이며, 2023년 04월 29일 15시 30분에 판단된 매장의 방문자는 '고객31'과 '고객32'의 식별정보를 갖는 방문자일 수 있 다. 또한, 사용자 입력부에 의해 '장기 체류 발생'탭(D42)이 선택되면, 단말 제어부는 관리 서버로부터 전송된 데이터를 이용하여 장기 체류한 해당 방문자의 목록, 각 방문자의 추정 성별 및 추정 나이, 각 방문 시 각 및 각 체류 시간을 정보 출력부로 출력할 수 있다. 도 6에서, 2023년 04월 30일 12시 40분에 판단된 장기 체류한 방문자의 체류 시간은 33분이고, 장기 체류한 방 문자는 '고객28', '고객29'및 '고객 30'의 식별정보를 갖는 방문자일 수 있다. 이와 같이, 서비스 화면이 사용자 단말의 정보 출력부에 출력되면, 사용자는 사용자 입력부를 이용 하여 원하는 날짜와 원하는 시간대에 대한 이미지의 재생 여부를 선택할 수 있다. 따라서, 서버 제어부는 통신부를 통해 사용자 단말로부터 조작 명령이 전송되는지 판단할 수 있다 (S22). 사용자 단말로부터 조작 명령이 전송되면(S22), 서버 제어부는 전송된 조작 명령의 종류를 판단할 수 있다(S23). 본 예에서, 사용자에 의해 선택 가능한 조작 명령은 표시 화면부(D20)에 있는 버튼(즉, 재생 버튼, 이전 버튼 또는 다음 버튼)이나 컨트롤 바(B14)의 조작에 따른 그래픽 모니터링 조작 명령과 날짜 표시부(D10), 매장 혼잡 도의 그래프 부분(D30) 또는 매장 기록(D40)의 시간 표시 부분의 선택에 따른 컴포넌트 조작 명령을 구비할 수 있다. 따라서, 서버 제어부는 사용자 단말로부터 입력되는 신호를 이용하여 사용자 입력부에 의한 조작 명령에 대응하는 해당 시각을 판단하고, 판단된 시각에 관련된 데이터를 데이터베이스부에서 읽어와 저장부 에 저장할 수 있다(S24). 즉, 사용자의 조작 명령이 그래픽 모니터링 조작 명령으로 판단된 상태에서 재생 버튼이 선택된 상태로 판단되 면, 서버 제어부는 컨트롤 바(B14)의 현재 위치에 해당하는 시각을 판단하고, 판단된 시각에 관련된 데이터 를 데이터베이스부에서 읽어올 수 있다. 또는, 사용자의 조작 명령이 그래픽 모니터링 조작 명령으로 판단된 상태에서 이전 버튼이 선택된 상태로 판단 되면, 서버 제어부는 컨트롤 바(B14)의 현재 위치에 해당하는 시각에서 설정 시간(예, 5분) 이전의 시각을 판단하고 판단된 시각에 관련된 데이터를 데이터베이스부에서 읽어올 수 있으며, 다음 버튼이 선택된 상태 로 판단되면, 서버 제어부는 컨트롤 바(B14)의 현재 위치에 해당하는 시각에서 설정 시간(예, 5분) 이후의 시각을 판단하고 판단된 시각에 관련된 데이터를 데이터베이스부에서 읽어올 수 있다. 반면, 사용자의 조작 명령이 컴포넌트 조작 명령으로 조작된 판단된 상태일 때, 서버 제어부는 사용자 입력 부에 의해 선택된 위치(에, 날짜 표시부)의 시각을 판단하고, 판단된 시각에 관련된 데이터를 데이터베이스 부에서 읽어올 수 있다. 하지만, 단계(S22)에서, 사용자 단말의 사용자 입력부에 의한 조작 명령이 행해진 상태가 아닌 경우, 예를 들어, 사용자 입력부의 조작이 이루어지지 않아 사용자 입력부로부터 어떠한 입력이 발생하지 않 거나 초기 상태를 유지하는 경우, 서버 제어부는 실시간 영상 서비스를 선택한 상태로 판단할 수 있다. 따 라서, 서버 제어부는 현재 시각의 관련 데이터를 데이터베이스부에서 읽어와 저장부에 저장할 수 있다(S25). 이때, 서버 제어부는 판단된 시각에 해당하는 프레임 분석 결과, 환경 분석 결과, 행동 분석 결과 및 각 방 문자 식별 정보에 대응하는 정해진 신체의 위치 정보를 데이터베이스부의 각 데이터베이스(41-44)로부터 읽 어와 저장부에 저장할 수 있다. 이와 같이, 각 판단된 시각에 관련된 관련 데이터를 데이터베이스부에서 읽어온 후, 서버 제어부는 환 경 데이터베이스에서 읽어온 환경 분석 결과를 이용하여 매장 내부 환경 이미지 위에 매장의 청결도, 이상 환경 상태 및 재고량과 같은 환경 분석 결과를 표시한 후, 현재 상태의 매장 내부 환경 이미지 즉, 환경 분석 결과가 표시된 매장 내부 환경 이미지를 현재 매장 내부 환경 이미지로서 저장부에 저장할 수 있다(S26). 이를 위해, 서버 제어부는 먼저 환경 분석 데이터베이스에서 읽어와 저장부에 저장되어 있는 매장 내부 환경 이미지를 읽어온 후, 청결도와 재고량에 관련된 청결도 표시 객체(OB13) 및 재고량 표시 객체(OB11) 를 매장 내부 환경 이미지의 해당 위치에 표시할 수 있다. 본 예에서, 서버 제어부는 청결도와 설정값을 비교하여, 청결도가 설정값 이상인 경우에만 해당 위치 정보 에 해당하는 위치에 청결도 표시 객체(OB13)를 표시할 수 있다. 따라서, 청결도 표시 객체(OB13)가 표시되는 매장 내부 환경 이미지의 위치는 설정값 이상의 오염도를 갖는 부분으로서, 청소가 필요한 부분일 수 있다. 또한, 판독된 환경 분석 결과에서 이상 환경 상태가 존재할 경우, 서버 제어부는 이상 환경 표시 객체를 매 장 내부 환경 이미지 매장의 해당 위치에 표시할 수 있다. 이때, 청결도, 재고량 및 이상 환경 상태를 각각 표시하는 객체(object)의 이미지는 이미 저장부에 정해져 있을 수 있다. 일 예로, 도 7에 환경 분석 결과가 표시된 매장 내부 환경 이미지를 도시한다. 도 7의 (a)는 재고량에 대한 재고량 표시 객체를 표시한 도면으로서, 재고량 표시 객체(OB11)는 막대 그래프로 표시될 수 있고, 재고량의 크기에 따라 막대 그래프의 길이가 정해질 수 있다. 재고량 표시 객체의 이미지(예, 막대 그래프)의 색상은 재고량의 크기에 따라 서로 다르게 정해질 수 있다. 일 예로, 재고량이 설정량 이상인 경우에는 제1 색상(예, 파란색)으로 표시될 수 있고, 재고량이 설정량 미만인 경 우에는 제1 색상과 다른 제2 색상(예, 빨강색)으로 표시될 수 있다. 따라서, 사용자는 재고량 표시 객체의 길이뿐만 아니라 색상을 이용하여 현재의 재고량을 판단할 수 있어, 수량 이 부족한 제품을 신속해 파악하여 해당 색상(예, 제2 색상)으로 표시된 판매 제품에 대한 주문이나 보충 동작 을 수행할 수 있다. 도 7의 (b)는 이상 환경 표시 객체(OB12)의 일 예를 표시한 도면일 수 있다. 도 7의 (b)에 도시한 것처럼, 이상 환경 상태가 발생한 부분에 이상 환경 표시 객체(OB12)가 표시될 수 있다. 이때, 추가적으로 이상 환경 표시 객체(OB12)에 이상 환경 상태의 이유(예, 냉장고 문열림, 판매 물품 흐트러짐, 화재 발생 또는 침수 발생 등)도 함께 표시될 수 있다. 이로 인해, 사용자는 이상 환경 상태의 원인 과 위치를 신속하게 파악할 수 있다. 도 7의 (c)는 청결도 표시 객체(OB13)의 일 예를 표시한 도면일 수 있다. 따라서, 관리 서버는 환경 분석 결과의 청결도에 따라 청결도가 설정 이하인 부분에 해당 청결도 표시 객체 (OB13) 및 '청소 필요'와 같은 메시지도 함께 표시하여, 해당 부분에 대한 점검이 이루어질 수 있도록 한다. 이와 같이, 서버 제어부는 매장 내부 환경 이미지에 환경 분석 결과에 따른 객체를 표시하여 해당 시각의 매장 환경 상태를 표시한 후, 프레임 데이터베이스에서 읽어온 프레임 분석 결과를 이용하여 방문자가 존재 하는지 판단할 수 있다(S27). 방문자가 존재하면(S27), 서버 제어부는 현재 저장부에 저장되어 있는 현재 매장 내부 환경 이미지에 방문자의 촬영 이미지를 대신하는 방문자 객체(OB14)를 표시하여, 새로운 현재 매장 내부 환경 이미지를 생성해 저장부에 저장할 수 있다. 방문자 객체를 표시하기 위해, 먼저, 서버 제어부는 방문자 객체의 자세, 즉 방문자의 자세를 파악할 수 있 다. 따라서, 서버 제어부는 방문자가 1인 이상으로 방문자가 존재하면(S27), 각 방문자에 대응하는 각 방문자 객체(OB14)를 위한 해당 자세의 방문자 골격 객체(OB141)를 생성할 수 있다(S28). 방문자 골격 객체에 대한 이미지 역시 이미 저장부에 저장되어 있을 수 있으며, 각 방문자 골격 객체에 대 한 자세는 방문자 골격 데이터베이스로부터 읽어온 각 방문자에 대한 신체의 위치 정보를 이용하여 정해질수 있다. 이러한 방문자 골격 객체의 일 예는 도 8의 (a)와 같을 수 있다. 도 8의 (a)에 도시한 것처럼, 방문자 골격 객체의 이미지는 신체의 골격을 기준으로 정해질 수 있고, 자세는, 이미 기술한 것처럼, 방문자 골격 데이터베이스에 저장되어 있는 해당 방문자에 대한 신체의 위치 정보를 이용하여 정해질 수 있다. 이때, 방문자는 방문자마다 부여된 고유의 방문자 식별 정보로 구분될 수 있다. 도 8의 (a)에서, 각 방문자 골격 객체(OB141)는 서 있는 자세와 누워 있는 자세를 유지할 수 있다. 이와 같이, 각 방문자의 자세와 동일한 자세를 유지하는 방문자 골격 객체가 생성되면(S28), 서버 제어부는 현재 매장 내부 환경 이미지의 해당 위치에 해당 자세를 갖는 각 방문자 골격 객체(OB141)를 위치시킨 후 그 위 에 방문자 객체(OB14)를 표시할 수 있고, 추가적으로 각 방문자 객체(OB14)의 이동 경로(OB142)가 표시될 수 있 다(S29). 각 방문자 객체(OB14)의 이동 경로(OB142)는 행동 분석 결과인 방문자의 위치 좌표를 이용하여 표시 될 수 있다. 이때, 이전 처리 루틴 때와 비교하여, 동일한 방문자가 이전 처리 루틴 때 판단된 동작과 동일한 동작을 반복하 는 동작(예, 팔을 흔드는 동작)(이 동작은 데이터베이스부의 저장 결과 중 어떤 데이터를 이용하여 표시되 나요?)을 수행하는 것으로 판단되면, 서버 제어부는 해당 방문자 객체의 해당 신체 부위(예, 팔)에 반복적 인 움직임이 잔상으로 표시될 수 있도록 한다. 이때, 서버 제어부는 meerPose 모델을 이용하는 행동 분석 모듈의 동작에 의해 정해진 신체 각각에 대 한 좌표를 이용하여, 각 신체가 동일한 동작의 반복 동작을 행하는 것으로 판단할 수 있다. 또한, 서버 제어부 는 동일한 동작을 반복하는 신체가 존재할 경우, 동일한 동작의 이동 경로에 정해진 색상과 정해진 종류의 선 등을 이용하여 반복적인 동작의 경로를 표시할 수 있다. 이러한 표시로 인해, 사용자는 해당 방문자 객체의 특이 행동을 신속하게 확인하고, 해당 신체 부위의 행동 범 위를 확인할 수 있다. 따라서, 각 방문자 객체(OB14)의 자세는 대응하는 방문자 골격 객체(OB141)의 자세와 동일할 수 있다. 방문자 객체에 대한 이미지 역시 이미 저장부에 저장되어 있을 수 있다. 이때, 해당 분석 데이터베이스에 일반 표정 상태와 이상 표정 상태가 추가적으로 저장되어 있는 경우, 서버 제어부는 방문자 객체의 얼굴 부분에 일반 표정 상태와 이상 표정 상태에 대응하는 얼굴 표정을 표시할 수 있다. 또한, 서버 제어부는 잠재적 의심 행동을 하는 방문자가 존재할 경우, 판단된 잠재적 의심 행동(예, 도둑질)에 대한 메시지나 표시를 해당 방문자의 방문자 객체에 표시할 수 있다. 이와 같이, 본 예의 경우, 촬영된 방문자에 대한 실제 영상을 표시하는 대신, 방문자 객체가 촬영된 방문자를 대신하여 표시될 수 있다. 따라서, 촬영된 방문자에 대한 얼굴 등의 외모가 사용자 단말에 전혀 표시되지 않으므로, 방문자의 얼굴이 외부로 노출되는 위험이 전혀 없다. 또한, 방문자 객체에 일반 표정 상태, 이상 표정 상태 또는 잠재적 의심 행동에 대한 표시가 이루어질 경우, 사 용자 단말을 이용하여 해당 매장의 상황을 감시하는 사용자는 방문자들의 얼굴 표정을 이용하여 매장이나 판매 제품에 대한 만족도 등을 판단할 수 있다. 또한, 사용자 단말의 사용자는 잠재적 의심 행동을 하는 방문자에 대해서는 주의 깊게 관찰하여, 도난 사고 나 방화 등과 같은 사고의 위험을 방지할 수 있고, 사고 발생 시 사고 유발자의 검거에 도움을 줄 수 있다. 도 8의 (a)에 도시한 방문자 골격 객체를 기초하여 생성된 방문자 객체(OB14) 일 예는 도 8의 (b)와 같을 수 있 다. 도 8의 (b)를 참고하면, 각 방문자 객체(OB14)의 자세는 대응하는 방문자 골격 객체(OB141)의 자세와 동일 함을 알 수 있다. 현재 매장 내부 환경 이미지의 해당 위치에 각 방문자 객체(OB14)를 분석된 자세로 표시한 후, 서버 제어부(3 2)는 행동 분석 결과를 이용하여 정해진 시간 동안 이상 행동이 검출되었는지 판단할 수 있다, 즉 이상 행동을 한 방문자가 존재하는지 판단할 수 있다(S210). 따라서, 이상 행동이 검출된 상태이면(S210), 서버 제어부는 방문자 식별 정보를 이용하여 이상 행동을 한 방문자에 대응하는 방문자 객체(OB14)를 판단할 수 있다(S211)다음, 서버 제어부는 판단된 방문자에 대응되는 방문자 객체(OB14) 즉, 이상 행동을 한 방문자를 대신하는 방문자 객체(OB14) 위에 이상 행동 상황을 표시하는 이상 행동 표시 객체(OB15)를 표시한 후 해당 매장 내부 환 경 이미지를 현재 매장 내부 환경 이미지로서 저장부에 저장할 수 있다(S212). 이상 행동 표시 객체(OB1 5)의 이미지 역시 저장부에 이미 저장되어 있고, 이상 행동 표시 객체(OB15)가 표시되는 방문자 객체(OB1 4)의 위치(예, 머리 부분) 역시 정해져 있을 수 있다. 그런 다음, 서버 제어부는 현재 매장 내부 환경 이미지 즉, 청결도, 이상 환경 상태, 재고량, 분석된 자세 를 취하는 방문자, 이상 행동 상태 중 적어도 하나에 대응되는 객체가 표시된 매장 내부 환경 이미지를 최종 매 장 내부 환경 이미지로서 사용자 단말로 전송할 수 있다(S213). 이때, 카메라로부터 음성 신호가 전송 되는 경우, 서버 제어부는 해당하는 매장 내부 환경 이미지와 함께 해당 시간 동안 녹음된 음성 신호도 함 께 사용자 단말로 전송할 수 있다. 단계(S27)에서, 방문자가 없는 상태로 판단되면, 서버 제어부는 저장부에 저장되어 있는 현재 매장 내 부 환경 이미지, 즉, 환경 분석 결과(청결도, 이상 환경 상태 및 재고량)에 대응하는 객체(OB11-OB13)만이 표시 된 매장 내부 환경 이미지를 최종 매장 내부 환경 이미지로서 사용자 단말로 출력할 수 있다. 사용자 단말로 전송되는 최종 매장 내부 환경 이미지의 일 예는 도 10과 같다. 도 10을 참고하면, 해당 시간의 매장에는 '냉장고 물 열림'이라는 하나의 이상 환경 상태가 발생하고, '누워 있 음'이라는 이상 행동 상태를 나타내는 한 명의 방문자가 존재함을 알 수 있다. 또한, 도 10을 참고하면, 바닥 등에 청소가 필요한 부분이 매장 내에 두 군데 있을 알 수 있다. 사용자 단말의 단말 제어부는 통신부를 통해 관리 서버로부터 매장 내부 환경 이미지가 전송되 면 정보 출력부로 전송된 매장 내부 환경 이미지를 전송할 수 있다. 이때, 관리 서버로부터 음성 신호 도 함께 전송되는 경우, 단말 제어부는 전송된 음성 신호도 함께 정보 출력부로 출력할 수 있다. 이런 경우, 사용자는 매장 내부 환경 이미지뿐만 아니라 관련 시간 동안 획득된 음성과 소음과 같은 소리도 함께 확 인할 수 있다. 대안적인 예에서, 매장 내부 환경 이미지 위에 표시되는 객체 중 일부는 생략될 수 있다. 이와 같이, 매장 이와 같이, 매장 내부 환경 이미지 위에 이상 행동 표시 객체(OB15)가 표시되므로, 사용자는 출력되는 매장 내부 환경 이미지를 확인하여 현재 또는 원하는 시간의 매장 내부의 상황을 확인할 수 있다. 또한, 매장 내의 이상 환경 표시 객체(OB12)와 이상 행동 표시 객체(OB15)로 인해, 사용자는 매장 내의 이상 상 황을 신속하고 정확하게 인지할 수 있으므로, 그에 따른 신속한 대응을 수행하여 도난 사고나 인명 사고 등을 예방할 수 있다. 또한, 재고량 표시 객체(OB11)를 이용하여, 현재 매대에 남아있는 판매 제품의 수량을 시각적으로 확인할 수 있 으므로, 해당 판매 제품을 보충해 놓거나 최종 적으로 남아있는 수량을 파악해 주문을 발생시키는 등의 동작을 수행할 수 있다. 또한, 청결도 표시 객체(OB13)를 통해 매장 내의 청결 상태 역시 확인할 수 있으므로, 청결한 매장 상태를 유지 할 수 있다. 본 발명의 각 실시예에 개시된 기술적 특징들은 해당 실시예에만 한정되는 것은 아니고, 서로 양립 불가능하지 않은 이상, 각 실시예에 개시된 기술적 특징들은 서로 다른 실시예에 병합되어 적용될 수 있다. 따라서, 각 실시예에서는 각각의 기술적 특징을 위주로 설명하지만, 각 기술적 특징이 서로 양립 불가능하지 않 은 이상, 서로 병합되어 적용될 수 있다. 본 발명은 상술한 실시예 및 첨부한 도면에 한정되는 것은 아니며, 본 발명이 속하는 분야에서 통상의 지식을 가진 자의 관점에서 다양한 수정 및 변형이 가능할 것이다. 따라서 본 발명의 범위는 본 명세서의 청구범위뿐만 아니라 이 청구범위와 균등한 것들에 의해 정해져야 한다."}
{"patent_id": "10-2023-0124445", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 매장 영상 서비스 시스템의 개략적인 블록도이다. 도 2의 (a)와 (b)는 각각 도 1에 도시한 데이터 분석 장치와 관리 서버에 대한 개략적인 블록도이다. 도 3은 도 1에 도시한 사용자 단말의 개략적인 블록도이다. 도 4는 본 발명의 일 실시예에 따른 매장 영상 서비스 시스템에서 데이터 분석 장치의 개략적인 동작 순서도이 다. 도 5는 본 발명의 일 실시예에 따른 매장 영상 서비스 시스템에서 관리서버의 개략적인 동작 순서도이다. 도 6는 본 발명의 일 실시예에 따른 매장 영상 서비스 시스템에서 서비스 초기 화면의 일 예를 도시한 도면이다. 도 7의 (a), (b) 및 (c)는 본 발명의 일 실시예에 따른 매장 영상 서비스 시스템에서, 재고량, 이상 환경 상태 및 청결도에 대응하는 재고량 표시 객체, 이상 환경 표시 객체 및 청결도 표시 객체가 표시된 매장 내부 환경 이미지의 일 예이다. 도 8은 본 발명의 일 실시예에 따른 매장 영상 서비스 시스템에서, 방문자에 대응하는 방문자 객체가 표시된 매 장 내부 환경 이미지의 일 예로서 (a)는 방문자 골격 객체이고, (b)는 방문자 객체가 표시된 매장 내부 환경 이 미지이다. 도 9는 본 발명의 일 실시예에 따른 매장 영상 서비스 시스템에서, 이상 행동 상태의 방문자 객체 및 이동 경로 가 표시된 매장 내부 환경 이미지의 일 예이다. 도 10는 본 발명의 일 실시예에 따른 매장 영상 서비스 시스템에서, 매장 내부 환경 이미지에 환경 분석 결과 및 행동 분석 결과가 해당 객체로 표시된 화면의 일 예이다."}
