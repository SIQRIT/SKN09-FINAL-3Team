{"patent_id": "10-2023-0026852", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0133201", "출원번호": "10-2023-0026852", "발명의 명칭": "데이터 중심 마이크로 서비스 아키텍처 기반 지능형 헬스케어 서비스 플랫폼 시스템", "출원인": "동국대학교 와이즈캠퍼스 산학협력단", "발명자": "박기석"}}
{"patent_id": "10-2023-0026852", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "사용자 데이터를 실시간으로 생성하여 저장하는 외부 서버로부터 상기 사용자 데이터를 수신하고, 상기 사용자데이터를 표준 형식으로 변환하여 FHIR 클라우드에 송신하는 실시간 이벤트 스트림 프로세서;상기 사용자 데이터에 대한 요청에 응답하여 상기 사용자 데이터를 암호화하는 암복호화 엔진;상기 FHIR 클라우드를 블록체인과 연결시키는 데이터 서비스 엔진; 및사용자의 건강 상태를 추정하기 위한 심층 학습 모델을 포함하는 ML 클라우드와 연동되어 상기 사용자 데이터를기초로 사용자의 건강 상태를 모니터링하는 건강예측 서비스 엔진;을 포함하고,상기 데이터 서비스 엔진은, 소비자 단말로부터 사용자 데이터 요청을 수신하는 경우, 상기 FHIR 클라우드에서상기 사용자 데이터를 가져오면서 상기 블록체인에 상기 사용자 데이터 사용 로그를 기록하는,헬스케어 서비스 플랫폼 시스템."}
{"patent_id": "10-2023-0026852", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 건강예측 서비스 엔진은 ML 클라우드와 연결되고,상기 건강예측 서비스 엔진은 상기 소비자 단말로부터 사용자 데이터 요청을 받는 경우, 상기 ML 클라우드에 상기 요청을 전달하고, 상기 ML 클라우드로부터 수신한 소비자 건강예측 결과를 상기 소비자 단말에 송신하는,헬스케어 서비스 플랫폼 시스템."}
{"patent_id": "10-2023-0026852", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 ML 클라우드는,상기 암복호화 엔진으로부터 암호화된 사용자 데이터를 제공받고, 상기 암호화된 사용자 데이터를 전처리하여암호화된 학습 데이터를 생성하는 데이터 전처리부;입력 레이어, 하나 이상의 히든 레이어, 및 출력 레이어를 포함하는 다층 신경망; 및상기 다층 신경망을 학습시켜 사용자 건강예측에 최적화된 하이퍼파라미터(hyperparameter)를 산출하는 학습 엔진을 포함하는,헬스케어 서비스 플랫폼 시스템."}
{"patent_id": "10-2023-0026852", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,상기 입력 레이어는, 하나 이상의 암호화된 사용자 데이터를 기초로 생성되는 학습 데이터를 입력받고, 상기 하나 이상의 히든 레이어는, 상기 입력 레이어의 출력값 각각에 대하여 가중치를 곱하고, 바이어스를 더하여 출력하고, 상기 출력 레이어는, 상기 히든 레이어의 출력값을 입력받아 활성화 함수를 이용하여 출력 벡터를 출력하고,상기 출력 벡터는 상기 출력 레이어에 연결된 손실함수 레이어에 입력되고,상기 손실함수 레이어는 상기 출력 벡터와 각각의 학습 데이터에 대한 정답 벡터를 비교하는 손실 함수를 이용하여 손실값을 출력하고,공개특허 10-2024-0133201-3-상기 다층 신경망의 파라미터는 상기 손실값이 작아지는 방향으로 지도학습되는,헬스케어 서비스 플랫폼 시스템."}
{"patent_id": "10-2023-0026852", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "실시예들은 데이터 중심 마이크로 서비스 아키텍처 기반 지능형 헬스케어 서비스 플랫폼 시스템을 제공한다. 실 시예에 따른 시스템은, 사용자 데이터를 실시간으로 생성하여 저장하는 외부 서버로부터 상기 사용자 데이터를 수신하고, 상기 사용자 데이터를 표준 형식으로 변환하여 FHIR 클라우드에 송신하는 실시간 이벤트 스트림 프로 (뒷면에 계속)"}
{"patent_id": "10-2023-0026852", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명의 실시예들은 데이터 중심 마이크로 서비스 아키텍처 기반 지능형 헬스케어 서비스 플랫폼 시스템에 관 한 것으로서, 보다 상세하게는 블록체인 및 동형암호 기술을 기반으로 데이터 상호 운용성을 활성화하는 데이터 중심 마이크로 서비스 아키텍처 기반 지능형 헬스케어 서비스 플랫폼 시스템에 관한 것이다."}
{"patent_id": "10-2023-0026852", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "일반적으로 환자의 개인 건강 기록 등 민감한 데이터는 개인 프라이버시를 이유로 외부 서버에서 데이터 저장 장치에 쉽게 액세스하지 못하도록 보호하고 있다. 이러한 분산 데이터 사일로(silo) 저장 방식은 데이터 보안에 는 효과적이나, 데이터의 활용 루트를 크게 제한하는 것이 단점이다. 이에 따라, 여러 장치에 각각 저장된 데이 터를 통합적으로 이용할 수 있도록 하는 서비스들이 등장하였으나, 이러한 종래의 서비스는 데이터 투명성 문제 및 민감 데이터에 대한 개인의 통제력 부족이라는 문제점이 있었다."}
{"patent_id": "10-2023-0026852", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "실시예들은, 위와 같은 문제를 해결하기 위해 블록체인 및 동형암호(homomorphic encryption) 기술을 채택한 새 로운 데이터 중심 마이크로 서비스 아키텍처 기반 지능형 헬스케어 서비스 플랫폼 시스템을 제공한다. 실시예들에서 이루고자 하는 기술적 과제들은 이상에서 언급한 사항들로 제한되지 않으며, 언급하지 않은 또 다"}
{"patent_id": "10-2023-0026852", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 2, "content": "른 기술적 과제들은 이하 설명할 다양한 실시예들로부터 당해 기술분야에서 통상의 지식을 가진 자에 의해 고려 될 수 있다."}
{"patent_id": "10-2023-0026852", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 일 실시예에 따른 시스템은, 사용자 데이터를 실시간으로 생성하여 저장하는 외부 서버로부터 상기 사용자 데이터를 수신하고, 상기 사용자 데이터를 표준 형식으로 변환하여 FHIR 클라우드에 송신하는 실시간 이 벤트 스트림 프로세서; 상기 사용자 데이터에 대한 요청에 응답하여 상기 사용자 데이터를 암호화하는 암복호화 엔진; 상기 FHIR 클라우드를 블록체인과 연결시키는 데이터 서비스 엔진; 및 사용자의 건강 상태를 추정하기 위 한 심층 학습 모델을 포함하는 ML 클라우드와 연동되어 상기 사용자 데이터를 기초로 사용자의 건강 상태를 모 니터링하는 건강예측 서비스 엔진;을 포함하고, 상기 데이터 서비스 엔진은, 소비자 단말로부터 사용자 데이터 요청을 수신하는 경우, 상기 FHIR 클라우드에서 상기 사용자 데이터를 가져오면서 상기 블록체인에 상기 사용자 데이터 사용 로그를 기록할 수 있다. 상기 건강예측 서비스 엔진은 ML 클라우드와 연결되고, 상기 건강예측 서비스 엔진은 상기 소비자 단말로부터 사용자 데이터 요청을 받는 경우, 상기 ML 클라우드에 상기 요청을 전달하고, 상기 ML 클라우드로부터 수신한 소비자 건강예측 결과를 상기 소비자 단말에 송신할 수 있다. 상기 ML 클라우드는, 상기 암복호화 엔진으로부터 암호화된 사용자 데이터를 제공받고, 상기 암호화된 사용자 데이터를 전처리하여 암호화된 학습 데이터를 생성하는 데이터 전처리부; 입력 레이어, 하나 이상의 히든 레이 어, 및 출력 레이어를 포함하는 다층 신경망; 및 상기 다층 신경망을 학습시켜 사용자 건강예측에 최적화된 하 이퍼파라미터(hyperparameter)를 산출하는 학습 엔진을 포함할 수 있다. 상기 입력 레이어는, 하나 이상의 암호화된 사용자 데이터를 기초로 생성되는 학습 데이터를 입력받고, 상기 하 나 이상의 히든 레이어는, 상기 입력 레이어의 출력값 각각에 대하여 가중치를 곱하고, 바이어스를 더하여 출력 하고, 상기 출력 레이어는, 상기 히든 레이어의 출력값을 입력받아 활성화 함수를 이용하여 출력 벡터를 출력하고, 상 기 출력 벡터는 상기 출력 레이어에 연결된 손실함수 레이어에 입력되고, 상기 손실함수 레이어는 상기 출력 벡 터와 각각의 학습 데이터에 대한 정답 벡터를 비교하는 손실 함수를 이용하여 손실값을 출력하고, 상기 다층 신 경망의 파라미터는 상기 손실값이 작아지는 방향으로 지도학습될 수 있다."}
{"patent_id": "10-2023-0026852", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하의 실시예들은 실시예들의 구성요소들과 특징들을 소정 형태로 결합한 것들이다. 각 구성요소 또는 특징은 별도의 명시적 언급이 없는 한 선택적인 것으로 고려될 수 있다. 각 구성요소 또는 특징은 다른 구성요소나 특 징과 결합되지 않은 형태로 실시될 수 있다. 또한, 일부 구성요소들 및/또는 특징들을 결합하여 다양한 실시예 들을 구성할 수도 있다. 다양한 실시예들에서 설명되는 동작들의 순서는 변경될 수 있다. 어느 실시예의 일부 구성이나 특징은 다른 실시예에 포함될 수 있고, 또는 다른 실시예의 대응하는 구성 또는 특징과 교체될 수 있 다. 도면에 대한 설명에서, 다양한 실시예들의 요지를 흐릴 수 있는 절차 또는 단계 등은 기술하지 않았으며, 당해"}
{"patent_id": "10-2023-0026852", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "기술분야에서 통상의 지식을 가진 자의 수준에서 이해할 수 있을 정도의 절차 또는 단계는 또한 기술하지 아니 하였다. 명세서 전체에서, 어떤 부분이 어떤 구성요소를 \"포함(comprising 또는 including)\"한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다른 구성요소를 제외하는 것이 아니라 다른 구성요소를 더 포함할 수 있는 것을 의미 한다. 또한, 명세서에 기재된 \"...부\", \"...기\", \"모듈\" 등의 용어는 적어도 하나의 기능이나 동작을 처리하는 단위를 의미하며, 이는 하드웨어나 소프트웨어 또는 하드웨어 및 소프트웨어의 결합으로 구현될 수 있다. 또한, \"일(a 또는 an)\", \"하나(one)\", \"그(the)\" 및 유사 관련어는 다양한 실시예들을 기술하는 문맥에 있어서(특히, 이하의 청구항의 문맥에서) 본 명세서에 달리 지시되거나 문맥에 의해 분명하게 반박되지 않는 한, 단수 및 복 수 모두를 포함하는 의미로 사용될 수 있다. 이하, 다양한 실시예들에 따른 실시 형태를 첨부된 도면을 참조하여 상세하게 설명한다. 첨부된 도면과 함께 이 하에 개시될 상세한 설명은 다양한 실시예들의 예시적인 실시형태를 설명하고자 하는 것이며, 유일한 실시형태 를 나타내고자 하는 것이 아니다. 또한, 다양한 실시예들에서 사용되는 특정(特定) 용어들은 다양한 실시예들의 이해를 돕기 위해서 제공된 것이 며, 이러한 특정 용어의 사용은 다양한 실시예들의 기술적 사상을 벗어나지 않는 범위에서 다른 형태로 변경될 수 있다. 최근 수많은 IoT 기기, 스마트폰 등에서 엄청난 양의 데이터가 생성되고 있다. 이 데이터는 기계 학습 모델을 교육하는 데 중요한 소스 역할을 한다. 그러나 이렇게 생성된 데이터는 각각의 전자장치에 독립적으로 저장되어 있기 때문에, (즉, 서로 다른 사일로(silo)에 있기 때문에) 데이터 수집이 제한된다. 특히, 병원, 의료센터와 같이 매우 민감한 데이터를 다루는 조직은 사용자 데이터를 자체 데이터베이스 시스템에 저장하는데, 이 경우 사용자는 자신의 데이터에 자유롭게 액세스할 수 없다. 또한, 데이터를 활용하고자 하는 서로 다른 두 조직이 서로 협력할 수 없게 되고, 이는 결국 데이터를 통해 큰 잠재력을 창출하는 것을 불가능하게 만든다. 따라서 분 산된 데이터베이스 시스템에 흩어져 있는 데이터를 통합하는 것이 필요하다. 최근 조직이 데이터가 저장된 위치에 관계없이 데이터에 액세스할 수 있도록 하는 데이터 패브릭의 개념이 등장 하였다. 또한, 서로 다른 조직 간의 데이터 상호 운용성을 위해 데이터 형식을 표준화하는 많은 노력들이 있었 다. 그 중 FHIR(Fast Healthcare Interoperability Resource)은 헬스케어 데이터의 상호운용성을 위한 대표적인 표준이다. 이러한 노력을 통해 데이터 상호운용성 문제는 해결되었지만, 데이터의 올바른 사용을 위한 또 다른 필요 조건 이 있는데, 이는 데이터 보안에 관한 것이다. 즉, 데이터를 제공하는 사용자는 자신의 데이터가 남용되지 않도 록 자신의 데이터를 완전히 제어할 수 있어야 하고, 데이터 변경은 데이터 불변성을 보장하기 위해 추적 가능하 고 투명해야 한다는 것이다. 이를 해결하기 위해, 본 발명은 블록체인 기술을 이용하였다. 블록체인은 디지털 정보를 기록하고 배포할 수 있지만 편집할 수는 없는 기술이다. 블록체인은 서비스를 신뢰할 수 있게 해주기 때 문에 많은 산업 분야에서 활발히 적용되고 있다. 본 발명이 수행하는 주요 동작 및 기능은 다음과 같다. HL7 FHIR 표준을 준수하는 의료 기록 변환: FHIR 클라우드는 격리된 PHR 데이터를 표준 HL7 FHIR 형식으로 변환하는 데 활용된다. 이를 통해, 승인된 사람만 RESTful API를 통해 데이터에 액세스할 수 있게 된다. 암호화 시스템을 사용하여 데이터 프라이버시 보장: RSA(Rivest-Shamir-Adleman)는 승인되지 않은 사용자에 게 민감한 PHR 데이터가 노출되는 것을 방지하는 데 활용된다. 동형 암호화는 컨볼루션 신경망(CNN) 모델을 기 밀로 훈련하기 위해 채택되었다. 블록체인을 사용한 데이터 무결성 보장: PHR의 해시는 블록체인에 투명하게 기록되어 PHR의 무결성을 보장 하고 변경 사항을 지속적으로 추적한다. 데이터 중심 아키텍처의 구현: 제안된 아키텍처 및 아키텍처를 실행하는 애플리케이션은 FHIR, 블록체인 및 암호화 오픈 소스 프로젝트를 기반으로 구현된다. 도 1은 본 발명의 일 실시예에 따른 헬스케어 서비스 플랫폼 시스템을 개략적으로 나타내는 도면이다. 도 1을 참조하면, 헬스케어 서비스 플랫폼 시스템은 데이터 처리 장치, 제공자 단말, 소비자 단 말, 외부 서버, 제1 블록체인, 제2 블록체인, FHIR 클라우드, ML 클라우드를 포함할 수 있다. 본 발명의 헬스케어 서비스 플랫폼의 사용자는 데이터 제공자(예를 들면, 환자)와, 데이터 소비자(예를 들면, 연구자, 의사)의 두 가지 유형으로 분류될 수 있다. 사용자 데이터는 외부 서버(예를 들면, 병원 및 웨어 러블 IoT 장치와 같은 다양한 데이터 소스)에서 생성될 수 있다. 제공자 단말은 데이터 제공자(P1)가 이용 하는 단말을 의미하고, 소비자 단말은 데이터 소비자(P2)가 이용하는 단말을 의미할 수 있다. 데이터 처리 장치는 실시간 이벤트 스트림 프로세서, 암복호화 엔진, 데이터 서비스 엔진, 건강예측 서비스 엔진을 포함할 수 있다. 실시간 이벤트 스트림 프로세서는 외부 서버와 FHIR 클라우드를 연결할 수 있다. 실시간 이벤트 스트림 프로세서는 외부 서버에서 생성되는 데이터를 수신하여 FHIR 클라우드에 송신할 수 있다. 외부 서버는 사용자 데이터(예를 들면, PHR(Personal Health Records) 데이터)를 생성하여 저장하는 서버 일 수 있다. 외부 서버는 하드웨어적으로는 통상적인 웹 서버(Web Server) 또는 왑 서버(WAP Server)와 동 일한 구성을 가질 수 있다. 또한, 외부 서버는, 서비스의 사용자 인증이나 서비스와 관련된 구매 결제를 위한 인증 시스템 및 결제 시스템과 연동할 수도 있다. 외부 서버에서 생성되는 되는 방대한 양의 데이터를 효율적으로 처리하기 위해 실시간 이벤트 스트림 프로 세서는 FHIR 클라우드와 외부 서버 사이에 배치되어, FHIR 클라우드를 외부 서버와 분리하여 시스템을 쉽게 유지 관리하고 확장할 수 있도록 기능할 수 있다. 실시간 이벤트 스트림 프로세서(11 0)는 publish-subscribe(pub/sub) 통신 패턴으로 설계될 수 있다. 일 실시예에서, 실시간 이벤트 스트림 프로세 서는 Kafka, RabbitMQ 및 Redis 등의 메시지 큐(queue) 소프트웨어로 구현될 수 있다. 실시간 이벤트 스트림 프로세서는, 예를 들면, 소프트웨어를 실행하여 프로세서에 연결된 데이터 처리 장 치의 적어도 하나의 다른 구성요소를 제어할 수 있고, 다양한 데이터 처리 또는 연산을 수행할 수 있다. 일 실시예에서, 데이터 처리 또는 연산의 적어도 일부로서, 실시간 이벤트 스트림 프로세서는 다른 구성요 소로부터 수신된 명령 또는 데이터를 휘발성 메모리에 저장하고, 휘발성 메모리에 저장된 명령 또는 데이터를처리하고, 결과 데이터를 비휘발성 메모리에 저장할 수 있다. 암복호화 엔진은 네트워크 보안을 위해 각 서비스에 따른 데이터 송신 전에 항상 데이터를 암호화한다. 대 칭키 암호를 위한 키 분배, 정보의 불법적 위·변조 방지, 전자서명, 인증 등 다양한 보안 프로토콜들이 개발되 어 사용되고 있다. 대표적인 공개키 암호 방식으로 RSA와 타원곡선 암호 (elliptic curve cryptography; ECC) 가 널리 사용되고 있으며, 최근에는 ECC 기반의 EC-DH (elliptic curve Diffie-Hellman), EC-DSA (elliptic curve digital signature algorithm), ECIES(elliptic curve integrated encryption scheme) 등의 공개키 암 호 프로토콜이 다양한 분야에서 사용되고 있다. 암복호화 엔진은 복수의 암호화 연산 모드 중 하나를 선택하여 동작할 수 있다. 연산 모드는 ECB(Electronic Code Book), CTS(Cipher Text Stealing), XEX(Xor-E-Xor), XTS(XEX-based tweaked-codebook mode with cipher text stealing)을 포함한다. 공개키 암호는 공개적으로 배포되는 공개키와 사용자만이 알고 있는 개인키를 이용하는 암호 방식으로 대칭키 암호에 비해 보안성이 우수하지만 계산 과정이 복잡하여 연산에 상대적으로 많은 시간이 소모되는 단점이 있다. 데이터 서비스 엔진은 블록체인(410, 420)과 FHIR 클라우드를 연결할 수 있다. 데이터 서비스 엔진 은 소비자 단말로부터 사용자 데이터 요청을 수신하는 경우, FHIR 클라우드에서 사용자 데이터 를 가져오면서 블록체인에 데이터 사용 로그를 기록할 수 있다. 또한, 데이터 서비스 엔진은 제공자 단말 로부터 사용자 데이터 요청을 수신하는 경우, 데이터 제공자가 제공자 단말을 통해 자신의 사용자 데 이터(예를 들면, PHR 데이터) 사용을 완전히 제어할 수 있도록 기능할 수 있다. 건강예측 서비스 엔진은 ML 클라우드와 연결될 수 있다. 건강예측 서비스 엔진은 사용자 단말 (210, 220)로부터 서비스 요청을 받는 경우, 서비스 요청에서 수정을 위한 주요 기능을 추출하여 ML 클라우드 로 전송할 수 있다. 이어, 건강예측 서비스 엔진은 ML 클라우드로부터 수신한 예측 결과를 사용 자 단말(210, 220)에 송신할 수 있다. 본 명세서에서 블록체인이란, 블록 생성시 신규 거래기록이 모든 노드에 분산 저장되는 기술로서, 거래의 모든 당사자가 거래 장부를 분리 보관함으로써 거래의 투명성을 확보하는 분산형 데이터베이스 관리시스템(DBMS)을 의미한다. 데이터베이스의 기저를 형성하는 스마트 계약(Smart Contraction)은 합의 프로세스를 자동화한 컴퓨 터 프로그램이며, 코드가 곧 법칙(Code is law)이라는 코드원칙에 따라 코드에 적힌 계약조건이 만족되면 그 즉 시 성립되는 체계이다. 블록체인은 복수의 노드에 분산 저장되는 데이터를 의미할 수 있다. 제1 블록체인은 스마트 컨트랙트가 기 록될 수 있다. 스마트 컨트랙트는 데이터 제공자와 데이터 소비자 간에 암호화폐를 교환하기 위한 역할을 수행 할 수 있다. 스마트 컨트랙트에 기록된 미리 결정된 조건이 충족되는 경우 즉시 스마트 컨트랙트가 자동으로 실 행된다. 제1 블록체인은 이더리움 블록체인일 수 있다. 제2 블록체인은 제1 블록체인과는 달리, 확장성이 뛰어나고 거래 수수료가 없는 레이어2 블록체인일 수 있다. 제2 블록체인은 예를 들면, 와치독 블록체인일 수 있다. 본 발명의 일 실시예에 따른 헬스케어 서비스 플랫폼에서 스마트 컨트랙트가 실행되기 위해서는 1) 소비자 단말 의 사용자 데이터 요청, 2) (제공자 단말을 통한)데이터 제공자의 승인, 3) 사용자 데이터의 해시 (Hash) 값 일치, 3가지 조건을 요구한다. FHIR 클라우드의 각 사용자 데이터에 대한 변경 또는 액세스를 추적하기 위해 스마트 컨트랙트가 활용될 수 있다. 스마트 컨트랙트 실행으로 생성된 거래 로그는 블록체인에 기록되어 열람은 가능하지만, 이미 기록된 후에 삭제 또는 변경될 수 없다. FHIR 클라우드는 PaaS(Platform-as-a-Service) 또는 SaaS(Software-as-a-Service)와 같은 클라우드 서비 스로 설계될 수 있다. FHIR 클라우드는 실시간 이벤트 스트림 프로세서로부터 표준 형식으로 변환된 데이터를 수신하여 저장할 수 있다. FHIR 클라우드는 데이터베이스 관리 프로그램(DBMS)을 이용하여 컴퓨터 시스템의 저장공간(하드디스크 또 는 메모리)에 구현된 일반적인 데이터구조를 가질 수 가질 수 있다. 데이터베이스는 데이터의 검색(추출), 삭제, 편집, 추가 등을 자유롭게 행할 수 있는 데이터 저장형태를 가질 수 있다. 데이터베이스는 오라클 (Oracle), 인포믹스(Infomix), 사이베이스(Sybase), DB2와 같은 관계형 데이타베이스 관리 시스템(RDBMS)이나, 겜스톤(Gemston), 오리온(Orion), O2 등과 같은 객체 지향 데이타베이스 관리 시스템(OODBMS) 및 엑셀론 (Excelon), 타미노(Tamino), 세카이주(Sekaiju) 등의 XML 전용 데이터베이스(XML Native Database)를 이용하여 본 개시의 일 실시예의 목적에 맞게 구현될 수 있고, 자신의 기능을 달성하기 위하여 적당한 필드(Field) 또는엘리먼트들을 가질 수 있다. ML 클라우드는 동형(Hormomorphic) 암호화를 지원할 수 있다. ML 클라우드는 사용자의 건강 상태를 추정하기 위한 심층 학습 모델을 포함할 수 있다. ML 클라우드는 동형 암호화 사용자 데이터를 이용하여 학습될 수 있다. 암호화된 사용자 데이터가 심층 학습 모델에 입력되고, 예측 결과가 암호화되어 계산될 수 있 다. 데이터 처리 장치에 포함된 각 구성요소는 장치 내부의 소프트웨어적인 모듈 또는 하드웨어적인 모듈을 연 결하는 통신 경로에 연결되어 상호 간에 유기적으로 동작할 수 있다. 이러한 구성요소는 하나 이상의 통신 버스 또는 신호선을 이용하여 통신할 수 있다. 데이터 처리 장치의 각 구성요소는 적어도 하나의 기능이나 동작 을 처리하는 단위를 의미하며, 소프트웨어적인 모듈, 하드웨어적인 모듈 또는 소프트웨어와 하드웨어의 결합으 로 구현될 수 있다. 도 1에 도시된 헬스케어 서비스 플랫폼 시스템의 데이터 처리 장치, 제공자 단말, 소비자 단말 , 외부 서버, 제1 블록체인, 제2 블록체인, 제1 클라우드(), 제2 클라우드()는 각각 무선 또는 유선으로 연결된 네트워크를 통해 데이터를 송신하거나 수신할 수 있다. 네트워크는 유선 인터넷 기술, 무 선 인터넷 기술 및 근거리 통신 기술에 의한 네트워크를 포함할 수 있다. 유선 인터넷 기술은 예를 들어, 근거 리 통신망(LAN, Local area network) 및 광역 통신망(WAN, wide area network) 중 적어도 하나를 포함할 수 있 다. 무선 인터넷 기술은 예를 들어, 무선랜(Wireless LAN: WLAN), DLNA(Digital Living Network Alliance), 와이브 로(Wireless Broadband: Wibro), 와이맥스(World Interoperability for Microwave Access: Wimax), HSDPA(High Speed Downlink Packet Access), HSUPA(High Speed Uplink Packet Access), IEEE 802.16, 롱 텀 에볼루션(Long Term Evolution: LTE), LTE-A(Long Term Evolution-Advanced), 광대역 무선 이동 통신 서비스 (Wireless Mobile Broadband Service: WMBS) 및 5G NR(New Radio) 기술 중 적어도 하나를 포함할 수 있다. 단, 본 실시예가 이에 제한되는 것은 아니다. 헬스케어 서비스 플랫폼 시스템의 각 구성요소가 무선 통신 방식으로 데이터를 송/수신하는 경우, 각 구성 요소들은 이동통신을 위한 기술표준 및 표준 통신 방식을 준수할 수 있다. 예를 들어, 표준 통신 방식은 GSM(Global System for Mobilommunication), CDMA(Code Division Multi Access), CDMA2000(Code Division Multi Access 2000), EV-DO(Enhanced Voice-Data Optimized or Enhanced Voice-Data Only), WCDMA(Wideband CDMA), HSDPA(High Speed Downlink Packet Access), HSUPA(High Speed Uplink Packet Access), LTE(Long Term Evolution), LTEA(Long Term Evolution-Advanced) 및 5G NR(New Radio) 중 적어도 하나를 포함할 수 있다. 단, 본 실시예가 이에 제한되는 것은 아니다. 도 1에 도시된 헬스케어 서비스 플랫폼 시스템의 구성은 반드시 필수적인 것은 아니고, 필요에 따라 몇몇 구성을 생략하거나, 도 1에 도시되지 않은 다른 구성을 추가할 수 있을 것이다. 즉, 도 1에 도시된 구성은 설명 의 편의를 위한 것이지, 실시예들이 이에 제한되는 것은 아니다. 본 발명의 기술 분야에서 통상의 지식을 가진 자는 본 발명의 범위를 벗어나지 않고 본 발명의 실시예들을 변형하여 실시할 수 있을 것이다. 도 2는 본 발명의 일 실시예에 따른 사용자 데이터 등록 동작을 설명하기 위한 흐름도이다. 도 2를 참조하면, 먼저 사용자 데이터(예를 들면, PHR 데이터)는 외부 서버(예를 들면, 병원 및 IoT 장치 등)에서 실시간으로 생성된다(S210). 실시간 이벤트 스트림 프로세서는 사용자 데이터를 HL7 FHIR 표준 형식으로 변환한다(S220). 사용자 데이터는 실시간 이벤트 스트림 프로세서의 제어에 기초하여 외부 서버로부터 FHIR 클라우드 로 전송된다(S230). 이어, 암복호화 엔진은 사용자 데이터를 데이터 제공자(P1)의 공개 키를 이용하여 암호화한다(S240). 이어, 실시간 이벤트 스트림 프로세서는 사용자 데이터를 데이터 제공자(P1)의 제공자 단말에게 송신 한다(S250). 데이터 제공자(P1)는 사용자 데이터를 복호화하고, FHIR 클라우드의 공개 키를 이용하여 다시 암호화할 수 있다. 이후, 사용자 데이터들은 FHIR 클라우드에서만 암호화될 수 있다. 마지막으로, 사용자 데이터는FHIR 클라우드에 저장되고 사용자 데이터의 해시(Hash)는 블록체인에 기록된다(S260). 전술한 바와 같이, 본 발명의 일 실시예에 따른 데이터 처리 장치는, 엔터티 사이에 위치한 서비스 엔진이 사용자 데이터를 구문 분석(parsing)하는 것을 방지할 수 있다. 도 3은 본 발명의 일 실시예에 따른 사용자 데이터 요청 동작을 설명하기 위한 흐름도이다. 도 3을 참조하면, 데이터 소비자(P2)는 데이터 제공자(P1)에게 권한을 요청하는 FHIR 클라우드의 사용자 데이터를 활용할 수 있다. 사용자 데이터 요청 프로세스에서, 데이터 소비자()의 요청은 데이터 처리 장치(10 0)를 통해 데이터 제공자(P1)에게 전달된다(S310). 데이터 제공자(P1)가 사용자 데이터 사용을 승인하는 즉시, 실시간 이벤트 스트림 프로세서는 FHIR 클라우 드에서 사용자 데이터를 검색하고, 검색 결과를 제공자 단말에 송신한다(S320). 데이터 제공자(P1)는 암호화된 사용자 데이터를 개인 키로 복호화한다. 데이터 제공자(P1)은 복호화한 사용자 데이터 중 민감한 정보를 삭제할 수 있다(S330). 실시간 이벤트 스트림 프로세서는 데이터 제공자(P1)에 의해 수정된 사용자 데이터를 데이터 소비자(P2)의 공개 키로 암호화하고, 소비자 단말에 송신한다(S340). 데이터 소비자(P2)는 사용자 데이터를 수신하고, 블록체인에 기록된 사용자 데이터의 해시로 사용자 데이터가 변조되었는지 확인할 수 있다. 사용자 데이터가 활 용될 때마다 제1 블록체인의 스마트 컨트랙트가 호출되며, 데이터 소비자(P2)의 계정과 데이터 공급자(P 1)의 계정 사이에 암호화폐가 교환된다. 도 4는 ML 클라우드의 구조를 설명하기 위한 블록도이다. 도 5는 도 4의 다층 신경망의 구조와 동작을 설명하기 위한 도면이다. 도 4를 참조하면, ML 클라우드는 데이터 전처리부, 다층 신경망, 학습 엔진을 포함할 수 있다. 데이터 전처리부는 데이터 처리 장치의 암복호화 엔진으로부터 암호화된 사용자 데이터를 제공 받고, 이를 전처리(preprocessing)하여 암호화된 학습 데이터를 생성할 수 있다. 학습 엔진은 복수의 학습 데이터를 사용하여 다층 신경망을 미리 지도학습시킬 수 있다. 다층 신경망 (Multilayer Neural Network)은 많은 수의 인공 뉴런(또는, 노드)들을 이용하여 생물학적인 시스템의 계산 능력 을 모방하는 소프트웨어나 하드웨어로 구현된 예측 모델이다. 학습 엔진은, 다층 신경망이 사용자의 건강 상태를 추정할 수 있도록 암호화된 사용자 데이터를 변환 하여 얻어지는 제1 특징 벡터를 입력값으로 하고, 건강 상태를 변환하여 얻어지는 제2 특징 벡터를 출력값으로 하는 학습 데이터를 사용하여 다층 신경망을 지도학습시킬 수 있다. 이때, 지도학습이란, 입력값과 그에 따른 출력값이 있는 데이터를 학습 데이터로 이용하여 주어진 입력값에 따 른 출력값을 찾는 학습을 의미하며, 정답을 알고 있는 상태에서 이루어지는 학습을 의미한다. 지도 학습에서 주 어지는 입력값과 출력값 세트를 학습 데이터(Training Data)라고 한다. 즉, 상술한 생체 정보 및 움직임 정보를 변환한 제1 특징 벡터와 뇌파 상태를 변환한 제2 특징 벡터는 각각 입력값과 출력값으로서, 다층 신경망의 지도학습을 위한 학습 데이터로 사용될 수 있다. 도 5를 참조하면, 다층 신경망은 입력 레이어, 하나 이상의 히든 레이어, 및 출력 레이어를 포함할 수 있 다. 일 실시예에서, 다층 신경망은, 입력값을 입력받고 제1 특징 벡터의 성분 개수에 상응하는 노드들을 갖는 입력 레이어, 입력 레이어의 출력값 각각에 대하여 가중치를 곱하고, 바이어스(bias)를 더하여 출력하는 제1 히 든 레이어, 및 제1 히든 레이어의 출력값 각각에 대하여 가중치를 곱하고, 바이어스를 더하여 출력하는 제2 히 든 레이어, 및 제2 히든 레이어의 출력값 각각에 대하여 가중치를 곱하고, 그 결과를 활성화 함수를 이용하여 출력하는 출력 레이어(output layer)를 포함할 수 있다. 비록 도 4에서는 2개의 히든 레이어만이 도시되었으나, 하나 이상의 히든 레이어는, 제1 히든 레이어, 제2 히든 레이어 외에 더 많은 수의 히든 레이어를 포함할 수 있 다.예를 들어, 활성화 함수는 Softmax 함수일 수 있으나, 본 발명의 실시예는 이에 제한되는 것은 아니고, 활성화 함수는 LeRU 함수 등 다른 다양한 함수일 수 있다. 가중치와 바이어스는 지도학습에 의해 지속적으로 갱신될 수 있다. 구체적으로, 출력 벡터는 출력 레이어에 연결된 손실함수 레이어에 입력될 수 있다. 손실함수 레이어는 출력 벡 터와 각각의 학습 데이터에 대한 정답 벡터를 비교하는 손실 함수를 이용하여 손실값을 출력할 수 있다. 다층 신경망의 파라미터는 손실값이 작아지는 방향으로 지도학습될 수 있다. 수학식 1"}
{"patent_id": "10-2023-0026852", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "예를 들어, 손실함수 레이어는 [수학식 1]을 따라 손실 값을 계산할 수 있다. [수학식 2]에서, N은 복수의 학습 데이터의 수, n은 학습 데이터를 식별하는 자연수, k는 n번째 학습 데이터의 값을 식별하는 자연수, nk는 n번째 학습 데이터의 k번째 값을 의미하고, t는 정답 데이터를 의미하고, y는 출력 벡터를 의미하고, E는 손실값을 의 미할 수 있다. 수학식 2"}
{"patent_id": "10-2023-0026852", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "또는, 손실함수 레이어는 [수학식 2]를 따라 손실 값을 계산할 수 있다. [수학식 2]에서, n은 클래스 별 학습 데이터의 수, y와 j는 클래스를 나타내는 식별자, C는 상수값, M은 클래스의 개수, x_y는 학습 데이터가 클래스 y에 속할 확률값, x_j는 학습 데이터가 클래스 j에 속할 확률값, L은 손실값을 의미할 수 있다. 이상에서 설명된 실시예들은 하드웨어 구성요소, 소프트웨어 구성요소, 및/또는 하드웨어 구성요소 및 소프트웨 어 구성요소의 조합으로 구현될 수 있다. 예를 들어, 실시예들에서 설명된 장치, 방법 및 구성요소는, 예를 들 어, 프로세서, 콘트롤러, ALU(arithmetic logic unit), 디지털 신호 프로세서(digital signal processor), 마 이크로컴퓨터, FPGA(field programmable gate array), PLU(programmable logic unit), 마이크로프로세서, 또는 명령(instruction)을 실행하고 응답할 수 있는 다른 어떠한 장치와 같이, 하나 이상의 범용 컴퓨터 또는 특수 목적 컴퓨터를 이용하여 구현될 수 있다. 처리 장치는 운영 체제(OS) 및 상기 운영 체제 상에서 수행되는 하나 이상의 소프트웨어 애플리케이션을 수행할 수 있다. 또한, 처리 장치는 소프트웨어의 실행에 응답하여, 데이터 를 접근, 저장, 조작, 처리 및 생성할 수도 있다. 이해의 편의를 위하여, 처리 장치는 하나가 사용되는 것으로"}
{"patent_id": "10-2023-0026852", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "설명된 경우도 있지만, 해당 기술분야에서 통상의 지식을 가진 자는, 처리 장치가 복수 개의 처리 요소 (processing element) 및/또는 복수 유형의 처리 요소를 포함할 수 있음을 알 수 있다. 예를 들어, 처리 장치는 복수 개의 프로세서 또는 하나의 프로세서 및 하나의 콘트롤러를 포함할 수 있다. 또한, 병렬 프로세서 (parallel processor)와 같은, 다른 처리 구성(processing configuration)도 가능하다.소프트웨어는 컴퓨터 프로그램(computer program), 코드(code), 명령(instruction), 또는 이들 중 하나 이상의 조합을 포함할 수 있으며, 원하는 대로 동작하도록 처리 장치를 구성하거나 독립적으로 또는 결합적으로 (collectively) 처리 장치를 명령할 수 있다. 소프트웨어 및/또는 데이터는, 처리 장치에 의하여 해석되거나 처 리 장치에 명령 또는 데이터를 제공하기 위하여, 어떤 유형의 기계, 구성요소(component), 물리적 장치, 가상 장치(virtual equipment), 컴퓨터 저장 매체 또는 장치, 또는 송신되는 신호 파(signal wave)에 영구적으로, 또는 일시적으로 구체화(embody)될 수 있다. 소프트웨어는 네트워크로 연결된 컴퓨터 시스템 상에 분산되어서, 분산된 방법으로 저장되거나 실행될 수도 있다. 소프트웨어 및 데이터는 하나 이상의 컴퓨터 판독 가능 기록 매 체에 저장될 수 있다. 실시예에 따른 방법은 다양한 컴퓨터 수단을 통하여 수행될 수 있는 프로그램 명령 형태로 구현되어 컴퓨터 판 독 가능 매체에 기록될 수 있다. 상기 컴퓨터 판독 가능 매체는 프로그램 명령, 데이터 파일, 데이터 구조 등을 단독으로 또는 조합하여 포함할 수 있다. 상기 매체에 기록되는 프로그램 명령은 실시예를 위하여 특별히 설계 되고 구성된 것들이거나 컴퓨터 소프트웨어 당업자에게 공지되어 사용 가능한 것일 수도 있다. 컴퓨터 판독 가 능 기록 매체의 예에는 하드 디스크, 플로피 디스크 및 자기 테이프와 같은 자기 매체(magnetic media), CD- ROM, DVD와 같은 광기록 매체(optical media), 플롭티컬 디스크(floptical disk)와 같은 자기-광 매체 (magneto-optical media), 및 롬(ROM), 램(RAM), 플래시 메모리 등과 같은 프로그램 명령을 저장하고 수행하도 록 특별히 구성된 하드웨어 장치가 포함된다. 프로그램 명령의 예에는 컴파일러에 의해 만들어지는 것과 같은 기계어 코드뿐만 아니라 인터프리터 등을 사용해서 컴퓨터에 의해서 실행될 수 있는 고급 언어 코드를 포함한다. 상기된 하드웨어 장치는 실시예의 동작을 수행하기 위해 하나 이상의 소프트웨어 모듈로서 작동하도 록 구성될 수 있으며, 그 역도 마찬가지이다."}
{"patent_id": "10-2023-0026852", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "이상과 같이 실시예들이 비록 한정된 도면에 의해 설명되었으나, 해당 기술분야에서 통상의 지식을 가진 자라면 상기를 기초로 다양한 기술적 수정 및 변형을 적용할 수 있다. 예를 들어, 설명된 기술들이 설명된 방법과 다른 순서로 수행되거나, 및/또는 설명된 시스템, 구조, 장치, 회로 등의 구성요소들이 설명된 방법과 다른 형태로 결합 또는 조합되거나, 다른 구성요소 또는 균등물에 의하여 대치되거나 치환되더라도 적절한 결과가 달성될 수 있다. 그러므로, 다른 구현들, 다른 실시예들 및 특허청구범위와 균등한 것들도 후술하는 특허청구범위의 범위에 속한 다.도면 도면1 도면2 도면3 도면4 도면5"}
{"patent_id": "10-2023-0026852", "section": "도면", "subsection": "도면설명", "item": 1, "content": "실시예들에 대한 이해를 돕기 위해 상세한 설명의 일부로 포함된, 첨부 도면은 다양한 실시예들을 제공하고, 상 세한 설명과 함께 다양한 실시예들의 기술적 특징을 설명한다. 도 1은 본 발명의 일 실시예에 따른 헬스케어 서비스 플랫폼 시스템을 개략적으로 나타내는 도면이다. 도 2는 본 발명의 일 실시예에 따른 사용자 데이터 등록 동작을 설명하기 위한 흐름도이다. 도 3은 본 발명의 일 실시예에 따른 사용자 데이터 요청 동작을 설명하기 위한 흐름도이다. 도 4는 ML 클라우드의 구조를 설명하기 위한 블록도이다. 도 5는 도 4의 다층 신경망의 구조와 동작을 설명하기 위한 도면이다."}
