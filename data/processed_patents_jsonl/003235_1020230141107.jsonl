{"patent_id": "10-2023-0141107", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0046096", "출원번호": "10-2023-0141107", "발명의 명칭": "무선 통신 시스템에서 데이터 송수신을 위한 방법 및 장치", "출원인": "삼성전자주식회사", "발명자": "박성진"}}
{"patent_id": "10-2023-0141107", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "무선 통신 시스템에서 수행되는 단말의 방법에 있어서, 기지국으로 전송할 제1 우선순위 HARQ-ACK 정보 또는 제2 우선순위 HARQ-ACK 정보 중 적어도 하나를 확인하는단계; 상기 확인된 제1 우선순위 HARQ-ACK 정보 또는 제2 우선순위 HARQ-ACK 정보 중 적어도 하나를 기반으로 상기 확인된 제1 우선순위 HARQ-ACK 정보 또는 제2 우선순위 HARQ-ACK 정보 중 적어도 하나에 대한 레이트 매칭을 수행하는 단계;상기 확인된 제1 우선순위 HARQ-ACK 정보 또는 제2 우선순위 HARQ-ACK 정보 중 적어도 하나를 기반으로 상향링크 데이터에 대한 레이트 매칭을 수행하는 단계; 상기 확인된 제1 우선순위 HARQ-ACK 정보 또는 제2 우선순위 HARQ-ACK 정보 중 적어도 하나 및 상기 상향링크데이터를 매핑하는 단계; 및상기 매핑된 제1 우선순위 HARQ-ACK 정보 또는 제2 우선순위 HARQ-ACK 정보 중 적어도 하나 및 상향링크 데이터를 상기 기지국으로 전송하는 단계를 포함하는, 방법."}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 개시는 보다 높은 데이터 전송률을 지원하기 위한 5G 또는 6G 통신 시스템에 관련된 것이다. 본 개시의 무선 통신 시스템에서 수행되는 단말의 방법은, 기지국으로 전송할 제1 우선순위 HARQ-ACK 정보 또는 제2 우선순위 HARQ-ACK 정보 중 적어도 하나를 확인하는 단계, 상기 확인된 제1 우선순위 HARQ-ACK 정보 또는 제2 우선순위 (뒷면에 계속)"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 개시(disclosure)는 무선 통신 시스템에서 단말과 기지국의 동작에 관한 것이다. 구체적으로, 본 개시는 무 선 통신 시스템에서 상향링크 제어 정보 구성/보고 방법 및 이를 수행할 수 있는 장치에 관한 것이다."}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "5G 이동통신 기술은 빠른 전송 속도와 새로운 서비스가 가능하도록 넓은 주파수 대역을 정의하고 있으며, 3.5 기가헤르츠(3.5GHz) 등 6GHz 이하 주파수('Sub 6GHz') 대역은 물론 28GHz와 39GHz 등 밀리미터파(㎜Wave)로 불 리는 초고주파 대역('Above 6GHz')에서도 구현이 가능하다. 또한, 5G 통신 이후(Beyond 5G)의 시스템이라 불리 어지는 6G 이동통신 기술의 경우, 5G 이동통신 기술 대비 50배 빨라진 전송 속도와 10분의 1로 줄어든 초저 (Ultra Low) 지연시간을 달성하기 위해 테라헤르츠(Terahertz, THz) 대역(예를 들어, 95GHz에서 3 테라헤르츠 대역과 같은)에서의 구현이 고려되고 있다. 5G 이동통신 기술의 초기에는, 초광대역 서비스(enhanced Mobile BroadBand, eMBB), 고신뢰/초저지연 통신 (Ultra-Reliable Low-Latency Communications, URLLC), 대규모 기계식 통신 (massive Machine-Type Communications, mMTC)에 대한 서비스 지원과 성능 요구사항 만족을 목표로, 초고주파 대역에서의 전파의 경로 손실 완화 및 전파의 전달 거리를 증가시키기 위한 빔포밍(Beamforming) 및 거대 배열 다중 입출력(Massive MIMO), 초고주파수 자원의 효율적 활용을 위한 다양한 뉴머롤로지 지원(복수 개의 서브캐리어 간격 운용 등)와 슬롯 포맷에 대한 동적 운영, 다중 빔 전송 및 광대역을 지원하기 위한 초기 접속 기술, BWP(Band-Width Part) 의 정의 및 운영, 대용량 데이터 전송을 위한 LDPC(Low Density Parity Check) 부호와 제어 정보의 신뢰성 높은 전송을 위한 폴라 코드(Polar Code)와 같은 새로운 채널 코딩 방법, L2 선-처리(L2 pre-processing), 특정 서 비스에 특화된 전용 네트워크를 제공하는 네트워크 슬라이싱(Network Slicing) 등에 대한 표준화가 진행되었다. 현재, 5G 이동통신 기술이 지원하고자 했던 서비스들을 고려하여 초기의 5G 이동통신 기술 개선(improvement) 및 성능 향상(enhancement)을 위한 논의가 진행 중에 있으며, 차량이 전송하는 자신의 위치 및 상태 정보에 기 반하여 자율주행 차량의 주행 판단을 돕고 사용자의 편의를 증대하기 위한 V2X(Vehicle-to-Everything), 비면허 대역에서 각종 규제 상 요구사항들에 부합하는 시스템 동작을 목적으로 하는 NR-U(New Radio Unlicensed), NR 단말 저전력 소모 기술(UE Power Saving), 지상 망과의 통신이 불가능한 지역에서 커버리지 확보를 위한 단말- 위성 직접 통신인 비 지상 네트워크(Non-Terrestrial Network, NTN), 위치 측위(Positioning) 등의 기술에 대한 물리계층 표준화가 진행 중이다. 뿐만 아니라, 타 산업과의 연계 및 융합을 통한 새로운 서비스 지원을 위한 지능형 공장 (Industrial Internet of Things, IIoT), 무선 백홀 링크와 액세스 링크를 통합 지원하여 네트워크 서비스 지역 확장을 위한 노드를 제공하는 IAB(Integrated Access and Backhaul), 조건부 핸드오버(Conditional Handover) 및 DAPS(Dual Active Protocol Stack) 핸드오버를 포함하는 이동성 향상 기술(Mobility Enhancement), 랜덤액세스 절차를 간소화하 는 2 단계 랜덤액세스(2-step RACH for NR) 등의 기술에 대한 무선 인터페이스 아키텍쳐/프로토콜 분야의 표준 화 역시 진행 중에 있으며, 네트워크 기능 가상화(Network Functions Virtualization, NFV) 및 소프트웨어 정 의 네트워킹(Software-Defined Networking, SDN) 기술의 접목을 위한 5G 베이스라인 아키텍쳐(예를 들어, Service based Architecture, Service based Interface), 단말의 위치에 기반하여 서비스를 제공받는 모바일 엣지 컴퓨팅(Mobile Edge Computing, MEC) 등에 대한 시스템 아키텍쳐/서비스 분야의 표준화도 진행 중이다. 이와 같은 5G 이동통신 시스템이 상용화되면, 폭발적인 증가 추세에 있는 커넥티드 기기들이 통신 네트워크에 연결될 것이며, 이에 따라 5G 이동통신 시스템의 기능 및 성능 강화와 커넥티드 기기들의 통합 운용이 필요할 것으로 예상된다. 이를 위해, 증강현실(Augmented Reality, AR), 가상현실(Virtual Reality, VR), 혼합 현실 (Mixed Reality, MR) 등을 효율적으로 지원하기 위한 확장 현실(eXtended Reality, XR), 인공지능(Artificial Intelligence, AI) 및 머신러닝(Machine Learning, ML)을 활용한 5G 성능 개선 및 복잡도 감소, AI 서비스 지 원, 메타버스 서비스 지원, 드론 통신 등에 대한 새로운 연구가 진행될 예정이다. 또한, 이러한 5G 이동통신 시스템의 발전은 6G 이동통신 기술의 테라헤르츠 대역에서의 커버리지 보장을 위한 신규 파형(Waveform), 전차원 다중입출력(Full Dimensional MIMO, FD-MIMO), 어레이 안테나(Array Antenna), 대규모 안테나(Large Scale Antenna)와 같은 다중 안테나 전송 기술, 테라헤르츠 대역 신호의 커버리지를 개선 하기 위해 메타물질(Metamaterial) 기반 렌즈 및 안테나, OAM(Orbital Angular Momentum)을 이용한 고차원 공 간 다중화 기술, RIS(Reconfigurable Intelligent Surface) 기술 뿐만 아니라, 6G 이동통신 기술의 주파수 효 율 향상 및 시스템 네트워크 개선을 위한 전이중화(Full Duplex) 기술, 위성(Satellite), AI(Artificial Intelligence)를 설계 단계에서부터 활용하고 종단간(End-to-End) AI 지원 기능을 내재화하여 시스템 최적화를 실현하는 AI 기반 통신 기술, 단말 연산 능력의 한계를 넘어서는 복잡도의 서비스를 초고성능 통신과 컴퓨팅 자 원을 활용하여 실현하는 차세대 분산 컴퓨팅 기술 등의 개발에 기반이 될 수 있을 것이다."}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 개시는 이동 통신 시스템에서 서비스를 효과적으로 제공할 수 있는 장치 및 방법을 제공하고자 한다."}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "개시된 실시예는 이동통신 시스템에서 서비스를 효과적으로 제공할 수 있는 장치 및 방법을 제공한다."}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "4G 통신 시스템 상용화 이후 증가 추세에 있는 무선 데이터 트래픽 수요를 충족시키기 위해, 개선된 5G 통신 시 스템 또는 pre-5G 통신 시스템을 개발하기 위한 노력이 이루어지고 있다. 이러한 이유로, 5G 통신 시스템 또는 pre-5G 통신 시스템은 4G 네트워크 이후 (Beyond 4G Network) 통신 시스템 또는 LTE 시스템 이후 (Post LTE) 이후의 시스템이라 불리어지고 있다. 높은 데이터 전송률을 달성하기 위해, 5G 통신 시스템은 초고주파(mmWave) 대역 (예를 들어, 60기가(60GHz) 대역과 같은)에서의 구현이 고려되고 있다. 초고주파 대역에서의 전파의 경로 손실 완화 및 전파의 전달 거리를 증가시키기 위해, 5G 통신 시스템에서는 빔포밍(beamforming), 거대 배열 다 중 입출력(massive MIMO), 전차원 다중입출력(Full Dimensional MIMO: FD-MIMO), 어레이 안테나(array antenna), 아날로그 빔형성(analog beam-forming), 및 대규모 안테나 (large scale antenna) 기술들이 논의되 고 있다. 또한 시스템의 네트워크 개선을 위해, 5G 통신 시스템에서는 진화된 소형 셀, 개선된 소형 셀 (advanced small cell), 클라우드 무선 액세스 네트워크 (cloud radio access network: cloud RAN), 초고밀도 네트워크 (ultra-dense network), 기기 간 통신 (Device to Device communication: D2D), 무선 백홀 (wireless backhaul), 이동 네트워크 (moving network), 협력 통신 (cooperative communication), CoMP (Coordinated Multi-Points), 및 수신 간섭제거 (interference cancellation) 등의 기술 개발이 이루어지고 있다. 이 밖에도, 5G 시스템에서는 진보된 코딩 변조(Advanced Coding Modulation: ACM) 방식인 FQAM (Hybrid FSK and QAM Modulation) 및 SWSC (Sliding Window Superposition Coding)과, 진보된 접속 기술인 FBMC(Filter Bank Multi Carrier), NOMA(non-orthogonal multiple access), 및 SCMA(sparse code multiple access) 등이 개발되 고 있다. 한편, 인터넷은 인간이 정보를 생성하고 소비하는 인간 중심의 연결 망에서, 사물 등 분산된 구성 요소들 간에 정보를 주고 받아 처리하는 IoT(Internet of Things, 사물인터넷) 망으로 진화하고 있다. 클라우드 서버 등과 의 연결을 통한 빅데이터(Big data) 처리 기술 등이 IoT 기술에 결합된 IoE (Internet of Everything) 기술도 대두되고 있다. IoT를 구현하기 위해서, 센싱 기술, 유무선 통신 및 네트워크 인프라, 서비스 인터페이스 기술, 및 보안 기술과 같은 기술 요소 들이 요구되어, 최근에는 사물간의 연결을 위한 센서 네트워크(sensor network), 사물 통신(Machine to Machine, M2M), MTC(Machine Type Communication)등의 기술이 연구되고 있다. IoT 환경에서는 연결된 사물들에서 생성된 데이터를 수집, 분석하여 인간의 삶에 새로운 가치를 창출하는 지능 형 IT(Internet Technology) 서비스가 제공될 수 있다. IoT는 기존의 IT(information technology)기술과 다양 한 산업 간의 융합 및 복합을 통하여 스마트홈, 스마트 빌딩, 스마트 시티, 스마트 카 또는 커넥티드 카, 스마 트 그리드, 헬스 케어, 스마트 가전, 첨단의료서비스 등의 분야에 응용될 수 있다.이에, 5G 통신 시스템 (5세대 통신 시스템 또는 New Radio (NR))을 IoT 망에 적용하기 위한 다양한 시도들이 이 루어지고 있다. 예를 들어, 센서 네트워크(sensor network), 사물 통신(Machine to Machine, M2M), MTC(Machine Type Communication)등의 기술이 5G 통신 기술인 빔 포밍, MIMO 및 어레이 안테나 등의 기법에 의 해 구현되고 있는 것이다. 앞서 설명한 빅데이터 처리 기술로써 클라우드 무선 액세스 네트워크(cloud RAN)가 적용되는 것도 3eG 기술과 IoT 기술 융합의 일 예라고 할 수 있을 것이다. 상술한 것과 무선통신 시스템의 발전에 따라 다양한 서비스를 제공할 수 있게 됨으로써, 이러한 서비스들을 원 활하게 제공하기 위한 방안이 요구되고 있다. 이하, 본 개시의 실시예를 첨부된 도면을 참조하여 상세하게 설명한다. 실시예를 설명함에 있어서 본 개시가 속하는 기술 분야에 익히 알려져 있고 본 개시와 직접적으로 관련이 없는 기술 내용에 대해서는 설명을 생략한다. 이는 불필요한 설명을 생략함으로써 본 개시의 요지를 흐리지 않고 더 욱 명확히 전달하기 위함이다. 마찬가지 이유로 첨부된 도면에 있어서 일부 구성요소는 과장되거나 생략되거나 개략적으로 도시되었다. 또한, 각 구성요소의 크기는 실제 크기를 전적으로 반영하는 것이 아니다. 각 도면에서 동일한 또는 대응하는 구성 요 소에는 동일한 참조 번호를 부여하였다. 본 개시의 이점 및 특징, 그리고 그것들을 달성하는 방법은 첨부되는 도면과 함께 상세하게 후술되어 있는 실시 예들을 참조하면 명확해질 것이다. 그러나 본 개시는 이하에서 개시되는 실시예들에 한정되는 것이 아니라 서로 다른 다양한 형태로 구현될 수 있으며, 단지 본 실시예들은 본 개시의 개시가 완전하도록 하고, 본 개시가 속하"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "는 기술분야에서 통상의 지식을 가진 자에게 개시의 범주를 완전하게 알려주기 위해 제공되는 것이며, 본 개시 는 청구항의 범주에 의해 정의될 뿐이다. 명세서 전체에 걸쳐 동일 참조 부호는 동일 구성 요소를 지칭한다. 또 한 본 개시를 설명함에 있어서 관련된 기능 또는 구성에 대한 구체적인 설명이 본 개시의 요지를 불필요하게 흐 릴 수 있다고 판단된 경우 그 상세한 설명은 생략한다. 그리고 후술되는 용어들은 본 개시에서의 기능을 고려하 여 정의된 용어들로서 이는 사용자, 운용자의 의도 또는 관례 등에 따라 달라질 수 있다. 그러므로 그 정의는 본 명세서 전반에 걸친 내용을 토대로 내려져야 할 것이다. 이하, 기지국은 단말의 자원할당을 수행하는 주체로서, gNode B, eNode B, Node B, BS (Base Station), 무선 접속 유닛, 기지국 제어기, 또는 네트워크 상의 노드 중 적어도 하나일 수 있다. 단말은 UE (User Equipment), MS (Mobile Station), 셀룰러폰, 스마트폰, 컴퓨터, 또는 통신기능을 수행할 수 있는 멀티미디어시스템을 포함 할 수 있다. 본 개시에서 하향링크(Downlink; DL)는 기지국이 단말에게 전송하는 신호의 무선 전송경로이고, 상 향링크는(Uplink; UL)는 단말이 기국에게 전송하는 신호의 무선 전송경로를 의미한다. 또한, 이하에서 LTE 또는 LTE-A 시스템을 일예로서 설명할 수도 있지만, 유사한 기술적 배경 또는 채널형태를 갖는 여타의 통신시스템에 도 본 개시의 실시예가 적용될 수 있다. 예를 들어 LTE-A 이후에 개발되는 5세대 이동통신 기술(5G, new radio, NR) 또는 6세대 이동통신 기술(6G) 이에 포함될 수 있으며, 이하의 5G 또는 6G는 기존의 LTE, LTE-A 및 유사한 다른 서비스를 포함하는 개념일 수도 있다. 또한, 본 개시는 숙련된 기술적 지식을 가진 자의 판단으로써 본 개 시의 범위를 크게 벗어나지 아니하는 범위에서 일부 변형을 통해 다른 통신시스템에도 적용될 수 있다. 이때, 처리 흐름도 도면들의 각 블록과 흐름도 도면들의 조합들은 컴퓨터 프로그램 인스트럭션들에 의해 수행될 수 있음을 이해할 수 있을 것이다. 이들 컴퓨터 프로그램 인스트럭션들은 범용 컴퓨터, 특수용 컴퓨터 또는 기 타 프로그램 가능한 데이터 프로세싱 장비의 프로세서에 탑재될 수 있으므로, 컴퓨터 또는 기타 프로그램 가능 한 데이터 프로세싱 장비의 프로세서를 통해 수행되는 그 인스트럭션들이 흐름도 블록(들)에서 설명된 기능들을 수행하는 수단을 생성하게 된다. 이들 컴퓨터 프로그램 인스트럭션들은 특정 방식으로 기능을 구현하기 위해 컴 퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비를 지향할 수 있는 컴퓨터 이용 가능 또는 컴퓨터 판독 가능 메모리에 저장되는 것도 가능하므로, 그 컴퓨터 이용가능 또는 컴퓨터 판독 가능 메모리에 저장된 인스트 럭션들은 흐름도 블록(들)에서 설명된 기능을 수행하는 인스트럭션 수단을 내포하는 제조 품목을 생산하는 것도 가능하다. 컴퓨터 프로그램 인스트럭션들은 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비 상에 탑재 되는 것도 가능하므로, 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비 상에서 일련의 동작 단계들이 수행되어 컴퓨터로 실행되는 프로세스를 생성해서 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비를 수행하는 인스트럭션들은 흐름도 블록(들)에서 설명된 기능들을 실행하기 위한 단계들을 제공하는 것도 가능하 다. 또한, 각 블록은 특정된 논리적 기능(들)을 실행하기 위한 하나 이상의 실행 가능한 인스트럭션들을 포함하는 모듈, 세그먼트 또는 코드의 일부를 나타낼 수 있다. 또, 몇 가지 대체 실행 예들에서는 블록들에서 언급된 기 능들이 순서를 벗어나서 발생하는 것도 가능함을 주목해야 한다. 예를 들면, 잇달아 도시되어 있는 두 개의 블 록들은 사실 실질적으로 동시에 수행되는 것도 가능하고 또는 그 블록들이 때때로 해당하는 기능에 따라 역순으 로 수행되는 것도 가능하다. 이때, 본 실시예에서 사용되는 '~부'라는 용어는 소프트웨어 또는 FPGA(Field Programmable Gate Array) 또는 ASIC(Application Specific Integrated Circuit)과 같은 하드웨어 구성요소를 의미하며, '~부'는 어떤 역할들 을 수행한다. 그렇지만 '~부'는 소프트웨어 또는 하드웨어에 한정되는 의미는 아니다. '~부'는 어드레싱할 수 있는 저장 매체에 있도록 구성될 수도 있고 하나 또는 그 이상의 프로세서들을 재생시키도록 구성될 수도 있다. 따라서, 일 예로서 '~부'는 소프트웨어 구성요소들, 객체지향 소프트웨어 구성요소들, 클래스 구성요소들 및 태 스크 구성요소들과 같은 구성요소들과, 프로세스들, 함수들, 속성들, 프로시저들, 서브루틴들, 프로그램 코드의 세그먼트들, 드라이버들, 펌웨어, 마이크로코드, 회로, 데이터, 데이터베이스, 데이터 구조들, 테이블들, 어레 이들, 및 변수들을 포함한다. 구성요소들과 '~부'들 안에서 제공되는 기능은 더 작은 수의 구성요소들 및 '~부'들로 결합되거나 추가적인 구성요소들과 '~부'들로 더 분리될 수 있다. 뿐만 아니라, 구성요소들 및 '~부'들은 디바이스 또는 보안 멀티미디어카드 내의 하나 또는 그 이상의 CPU들을 재생시키도록 구현될 수도 있 다. 또한 실시예에서 '~부'는 하나 이상의 프로세서를 포함할 수 있다. 무선 통신 시스템은 초기의 음성 위주의 서비스를 제공하던 것에서 벗어나 예를 들어, 3GPP의 HSPA(High Speed Packet Access), LTE(Long Term Evolution 또는 E-UTRA (Evolved Universal Terrestrial Radio Access)), LTE-Advanced (LTE-A), LTE-Pro, 3GPP2의 HRPD(High Rate Packet Data), UMB(Ultra Mobile Broadband), 및 IEEE의 802.16e 등의 통신 표준과 같이 고속, 고품질의 패킷 데이터 서비스를 제공하는 광대역 무선 통신 시스 템으로 발전하고 있다. 상기 광대역 무선 통신 시스템의 대표적인 예로, LTE 시스템에서는 하향링크(Downlink; DL)에서는 OFDM(Orthogonal Frequency Division Multiplexing) 방식을 채용하고 있고, 상향링크(Uplink; UL)에서는 SC- FDMA(Single Carrier Frequency Division Multiple Access) 방식을 채용하고 있다. 상향링크는 단말(UE(User Equipment) 또는 MS(Mobile Station))이 기지국(eNode B, 또는 base station(BS))으로 데이터 또는 제어신호를 전송하는 무선링크를 뜻하고, 하향링크는 기지국이 단말로 데이터 또는 제어신호를 전송하는 무선링크를 뜻한다. 상기와 같은 다중 접속 방식은, 통상 각 사용자 별로 데이터 또는 제어정보를 실어 보낼 시간-주파수 자원을 서로 겹치지 않도록, 즉 직교성 (Orthogonality)이 성립하도록, 할당 및 운용함으로써 각 사용자의 데이 터 또는 제어정보를 구분할 수 있다. LTE 이후의 향후 통신 시스템으로서, 즉, 5G 통신시스템은 사용자 및 서비스 제공자 등의 다양한 요구 사항을 자유롭게 반영할 수 있어야 하기 때문에 다양한 요구사항을 동시에 만족하는 서비스가 지원되어야 한다. 5G 통 신시스템을 위해 고려되는 서비스로는 향상된 모바일 광대역 통신(enhanced Mobile Broadband, eMBB), 대규모 기계형 통신(massive Machine Type Communication, mMTC), 초신뢰 저지연 통신(Ultra Reliability Low Latency Communciation, URLLC) 등이 있다. eMBB는 기존의 LTE, LTE-A 또는 LTE-Pro가 지원하는 데이터 전송 속도보다 더욱 향상된 데이터 전송 속도를 제 공하는 것을 목표로 한다. 예를 들어, 5G 통신시스템에서 eMBB는 하나의 기지국 관점에서 하향링크에서는 20Gbps의 최대 전송 속도(peak data rate), 상향링크에서는 10Gbps의 최대 전송 속도를 제공할 수 있어야 한다. 또한 5G 통신시스템은 최대 전송 속도를 제공하는 동시에, 증가된 단말의 실제 체감 전송 속도(User perceived data rate)를 제공해야 한다. 이와 같은 요구 사항을 만족시키기 위해, 더욱 향상된 다중 안테나 (Multi Input Multi Output, MIMO) 전송 기술을 포함하여 다양한 송수신 기술의 향상을 요구한다. 또한 LTE가 사용하는 2GHz 대역에서 최대 20MHz 전송대역폭을 사용하여 신호를 전송하는 반면에, 5G 통신시스템은 3~6GHz 또는 6GHz 이상 의 주파수 대역에서 20MHz 보다 넓은 주파수 대역폭을 사용함으로써 5G 통신시스템에서 요구하는 데이터 전송 속도를 만족시킬 수 있다. 동시에, 5G 통신시스템에서 사물 인터넷(Internet of Thing, IoT)와 같은 응용 서비스를 지원하기 위해 mMTC가 고려되고 있다. mMTC는 효율적으로 사물 인터넷을 제공하기 위해 셀 내에서 대규모 단말의 접속 지원, 단말의 커버리지 향상, 향상된 배터리 시간, 단말의 비용 감소 등이 요구된다. 사물 인터넷은 여러 가지 센서 및 다양 한 기기에 부착되어 통신 기능을 제공하므로 셀 내에서 많은 수의 단말(예를 들어, 1,000,000 단말/km2)을 지원 할 수 있어야 한다. 또한 mMTC를 지원하는 단말은 서비스의 특성상 건물의 지하와 같이 셀이 커버하지 못하는 음영지역에 위치할 가능성이 높으므로 5G 통신시스템에서 제공하는 다른 서비스 대비 더욱 넓은 커버리지를 요구할 수 있다. mMTC를 지원하는 단말은 저가의 단말로 구성되어야 하며, 단말의 배터리를 자주 교환하기 힘들기 때문에 10~15년과 같이 매우 긴 배터리 생명시간(battery life time)이 요구될 수 있다. 마지막으로, URLLC의 경우, 특정한 목적(mission-critical)으로 사용되는 셀룰라 기반 무선 통신 서비스이다. 예를 들어, 로봇(Robot) 또는 기계 장치(Machinery)에 대한 원격 제어(remote control), 산업 자동화 (industrial automation), 무인 비행장치(Unmaned Aerial Vehicle), 원격 건강 제어(Remote health care), 비 상 상황 알림(emergency alert) 등에 사용되는 서비스 등을 고려할 수 있다. 따라서 URLLC가 제공하는 통신은 매우 낮은 저지연 및 매우 높은 신뢰도 제공해야 한다. 예를 들어, URLLC을 지원하는 서비스는 0.5 밀리초 보다 작은 무선 접속 지연시간(Air interface latency)를 만족해야 하며, 동시에 10-5 이하의 패킷 오류율(Packet Error Rate)의 요구사항을 갖는다. 따라서, URLLC을 지원하는 서비스를 위해 5G 시스템은 다른 서비스보다 작은 전송 시간 구간(Transmit Time Interval, TTI)를 제공해야 하며, 동시에 통신 링크의 신뢰성을 확보하기 위해 주파수 대역에서 넓은 리소스를 할당해야 하는 설계사항이 요구될 수 있다. 5G의 세가지 서비스들, 즉 eMBB, URLLC, mMTC는 하나의 시스템에서 다중화되어 전송될 수 있다. 이 때, 각각의 서비스들이 갖는 상이한 요구사항을 만족시키기 위해 서비스간에 서로 다른 송수신 기법 및 송수신 파라미터를 사용할 수 있다. 물론 5G는 전술한 세가지 서비스들에 제한되지 않는다. 이하 본 개시의 실시 예를 첨부한 도면과 함께 상세히 설명한다. 이하, 기지국은 단말의 자원할 당을 수행하는 주체로서, gNode B, gNB, eNode B, Node B, BS (Base Station), 무선 접속 유닛, 기지국 제어기, 또는 네트워 크 상의 노드 중 적어도 하나일 수 있다. 단말은 UE (User Equipment), MS (Mobile Station), 셀룰러폰, 스마 트폰, 컴퓨터, 또는 통신기능을 수행할 수 있는 멀티미디어시스템을 포함할 수 있다. 이하에서는 5G 시스템을 일례로서 본 개시의 실시예를 설명하지만, 유사한 기술적 배경 또는 채널형태를 갖는 여타의 통신시스템에도 본 개시의 실시예가 적용될 수 있다. 예를 들어 LTE 또는 LTE-A 이동통신 및 5G 이후에 개발되는 이동통신 기술이 이에 포함될 수 있을 것이다. 따라서, 본 개시의 실시예는 본 기술 분야의 통상의 기술자의 판단으로써 본 개시 의 범위를 크게 벗어나지 아니하는 범위에서 일부 변형을 통해 다른 통신시스템에도 적용될 수 있다. 본 개시에 서의 내용은 FDD 및 TDD 시스템에서 적용이 가능한 것이다. 또한, 본 개시를 설명함에 있어서 관련된 기능 또는 구성에 대한 구체적인 설명이 본 개시의 요지를 불필요하게 흐릴 수 있다고 판단된 경우 그 상세한 설명은 생략한다. 그리고 후술되는 용어들은 본 개시에서의 기능을 고려 하여 정의된 용어들로서 이는 사용자, 운용자의 의도 또는 관례 등에 따라 달라질 수 있다. 그러므로 그 정의는 본 명세서 전반에 걸친 내용을 토대로 내려져야 할 것이다. 이하 본 개시를 설명함에 있어서, 상위 계층 시그널링이라 함은 하기의 시그널링 중에서 적어도 하나 또는 하나 이상의 조합에 해당하는 시그널링 일 수 있다. MIB (Master Information Block) SIB (System Information Block) 또는 SIB X (X=1, 2, …) RRC (Radio Resource Control) MAC (Medium Access Control) CE (Control Element) 또한, L1 시그널링이라 함은 하기의 물리 계층 채널 또는 시그널링을 이용한 시그널링 방법 중에서 적어도 하나 또는 하나 이상의 조합에 해당하는 시그널링 일 수 있다. PDCCH (Physical Downlink Control Channel) DCI (Downlink Control Information) 단말-특정 (UE-specific) DCI 그룹 공통 (Group common) DCI 공통 (Common) DCI 스케쥴링 DCI (예를 들어 하향링크 또는 상향링크 데이터를 스케쥴링하는 목적으로 사용되는 DCI) 비스케쥴링 DCI (예를 들어 하향링크 또는 상향링크 데이터를 스케쥴링하는 목적이 아닌 DCI) PUCCH (Physical Uplink Control Channel) UCI (Uplink Control Information) 이하 본 개시에서 A 와 B 간 우선순위를 결정한다 함은 미리 정해진 우선순위 규칙(priority rule)에 따라 더 높은 우선순위를 가지는 것을 선택하여 그에 해당하는 동작을 수행하거나 또는 더 낮은 우선순위를 가지는 것에 대한 동작을 생략(omit or drop)하는 등 다양하게 언급될 수 있다. 이하 본 개시에서는 복수의 실시예를 통하여 상기 예제들을 설명하나 이는 독립적인 것들이 아니며 하나 이상의 실시 예가 동시에 또는 복합적으로 적용되는 것이 가능하다. [NR 시간-주파수 자원] 이하에서는 5G 시스템의 프레임 구조에 대해 도면을 참조하여 보다 구체적으로 설명한다. 도 1은 본 개시의 일 실시예에 따른 무선 통신 시스템에서 시간-주파수영역의 기본 구조를 도시한다. 구체적으 로, 도 1은 5G 시스템에서 데이터 또는 제어채널이 전송되는 무선 자원 영역인 시간-주파수 영역의 기본 구조를 도시한다. 도 1의 가로축은 시간 영역을, 세로축은 주파수 영역을 나타낸다. 시간 및 주파수 영역에서 자원의 기본 단위는 자원 요소(Resource Element, RE, 101)로서 시간 축으로 1 OFDM(Orthogonal Frequency Division Multiplexing) 심볼 및 주파수 축으로 1 부반송파(Subcarrier)로 정의될 수 있다. 주파수 영역에서 (일례로 12)개의 연속된 RE들은 하나의 자원 블록(Resource Block, RB, 104)을 구성할 수 있다. 도 1은 하나의 서브프레 임(subframe)에 대하여 나타낸다. 도 2는 본 개시의 일 실시예에 따른 무선 통신 시스템에서 프레임, 서브프레임, 슬롯 구조를 도시한다. 도 2에는 프레임(Frame, 200), 서브프레임(Subframe, 201), 슬롯(Slot, 202) 구조의 일 예를 도시한다. 1 프레 임은 10ms로 정의될 수 있다. 1 서브프레임은 1ms로 정의될 수 있으며, 따라서 1 프레임은 총 10개의 서브프레임으로 구성될 수 있다. 1 슬롯(202, 203)은 14개의 OFDM 심볼로 정의될 수 있다(즉 1 슬 롯 당 심볼 수( )=14). 1 서브프레임은 하나 또는 복수 개의 슬롯(202, 203)으로 구성될 수 있으며, 1 서브프레임당 슬롯(202, 203)의 개수는 부반송파 간격에 대한 설정 값 μ(204, 205)에 따라 다를 수 있 다. 도 2의 일 예에서는 부반송파 간격 설정 값으로 μ=0인 경우와 μ=1인 경우가 도시되어 있다. μ =0일 경우, 1 서브프레임은 1개의 슬롯으로 구성될 수 있고, μ=1일 경우, 1 서브프레임 은 2개의 슬롯으로 구성될 수 있다. 즉 부반송파 간격에 대한 설정 값 μ에 따라 1 서브프레임 당 슬 롯 수( )가 달라질 수 있고, 이에 따라 1 프레임 당 슬롯 수( )가 달라질 수 있다. 각 부반송파 간격 설정 μ에 따른 및 는 하기의 표 1로 정의될 수 있다. 표 1"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "0 14 10 1 1 14 20 2 2 14 40 4 3 14 80 8 4 14 160 16 5 14 320 32 [PDCCH: DCI 관련] 다음으로 5G 시스템에서의 하향링크 제어 정보(Downlink Control Information, DCI)에 대해 구체적으로 설명한 다.5G 시스템에서 상향링크 데이터(또는 물리 상향링크 데이터 채널(Physical Uplink Shared Channel, PUSCH)) 또 는 하향링크 데이터(또는 물리 하향링크 데이터 채널(Physical Downlink Shared Channel, PDSCH))에 대한 스케 줄링 정보는 DCI를 통해 기지국으로부터 단말에게 전달된다. 단말은 PUSCH 또는 PDSCH에 대하여 대비책 (Fallback)용 DCI 포맷과 비대비책(Non-fallback)용 DCI 포맷을 모니터링(Monitoring)할 수 있다. 대비책 DCI 포맷은 기지국과 단말 사이에서 선정의된 고정된 필드로 구성될 수 있고, 비대비책용 DCI 포맷은 설정 가능한 필드를 포함할 수 있다. DCI는 채널코딩 및 변조 과정을 거쳐 물리 하향링크 제어 채널인 PDCCH(Physical Downlink Control Channel)을 통해 전송될 수 있다. DCI 메시지 페이로드(payload)에는 CRC(Cyclic Redundancy Check)가 부착되며 CRC는 단 말의 신원에 해당하는 RNTI(Radio Network Temporary Identifier)로 스크램블링(scrambling) 될 수 있다. DCI 메시지의 목적, 예를 들어 단말-특정(UE-specific)의 데이터 전송, 전력 제어 명령 또는 랜덤 엑세스 응답 등에 따라 서로 다른 RNTI들이 사용될 수 있다. 즉, RNTI는 명시적으로 전송되지 않고 CRC 계산과정에 포함되어 전송 된다. PDCCH 상으로 전송되는 DCI 메시지를 수신하면 단말은 할당 받은 RNTI를 사용하여 CRC를 확인하여 CRC 확 인 결과가 맞으면 단말은 해당 메시지가 단말에게 전송된 것임을 알 수 있다. 예를 들면, 시스템 정보(System Information, SI)에 대한 PDSCH를 스케줄링하는 DCI는 SI-RNTI로 스크램블링될 수 있다. RAR(Random Access Response) 메시지에 대한 PDSCH를 스케줄링하는 DCI는 RA-RNTI로 스크램블링 될 수 있다. 페이징(Paging) 메시지에 대한 PDSCH를 스케줄링하는 DCI는 P-RNTI로 스크램블링 될 수 있다. SFI(Slot Format Indicator)를 통지하는 DCI는 SFI-RNTI로 스크램블링 될 수 있다. TPC(Transmit Power Control)를 통지하는 DCI는 TPC-RNTI로 스크램블링 될 수 있다. 단말-특정의 PDSCH 또는 PUSCH를 스케줄링하는 DCI는 C-RNTI(Cell RNTI)로 스크램블링 될 수 있다. DCI 포맷 0_0은 PUSCH를 스케줄링하는 대비책 DCI로 사용될 수 있고, 이 때 CRC는 C-RNTI로 스크램블링될 수 있 다. C-RNTI로 CRC가 스크램블링 된 DCI 포맷 0_0은 예컨대 하기의 정보들을 포함할 수 있다. 표 2 - Identifier for DCI formats (DCI 포맷 식별자) - [1] bit - Frequency domain resource assignment (주파수 도메인 자원 할당) - bits - Time domain resource assignment (시간 도메인 자원 할당) - X bits - Frequency hopping flag (주파수 호핑 플래그) - 1 bit. - Modulation and coding scheme (변조 및 코딩 스킴) - 5 bits - New data indicator (새로운 데이터 지시자) - 1 bit - Redundancy version (리던던시 버전) - 2 bits - HARQ process number (HARQ 프로세스 번호) - 4 bits - TPC command for scheduled PUSCH (스케줄링된 PUSCH를 위한 전송 전력 제어(transmit power control) 명령 - [2] bits - UL/SUL indicator (상향링크/추가적 상향링크(supplementary UL) 지시자) - 0 or 1 bit DCI 포맷 0_1은 PUSCH를 스케줄링하는 비대비책 DCI로 사용될 수 있고, 이 때 CRC는 C-RNTI로 스크램블링될 수 있다. C-RNTI로 CRC가 스크램블링 된 DCI 포맷 0_1은 예컨대 하기의 정보들을 포함할 수 있다.표 3"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "DCI 포맷 1_0은 PDSCH를 스케줄링하는 대비책 DCI로 사용될 수 있고, 이때 CRC는 C-RNTI로 스크램블링될 수 있 다. C-RNTI로 CRC가 스크램블링 된 DCI 포맷 1_0은 예컨대 하기의 정보들을 포함할 수 있다.표 4 - Identifier for DCI formats - [1] bit - Frequency domain resource assignment -[ ] bits - Time domain resource assignment - X bits - VRB-to-PRB mapping - 1 bit. - Modulation and coding scheme - 5 bits - New data indicator - 1 bit - Redundancy version - 2 bits - HARQ process number - 4 bits - Downlink assignment index - 2 bits - TPC command for scheduled PUCCH - [2] bits - PUCCH resource indicator (물리 상향링크 제어 채널(physical uplink control channel, PUCCH) 자 원 지시자- 3 bits - PDSCH-to-HARQ feedback timing indicator (PDSCH-to-HARQ 피드백 타이밍 지시자)- [3] bits DCI 포맷 1_1은 PDSCH를 스케줄링하는 비대비책 DCI로 사용될 수 있고, 이 때 CRC는 C-RNTI로 스크램블링될 수 있다. C-RNTI로 CRC가 스크램블링 된 DCI 포맷 1_1은 예컨대 하기의 정보들을 포함할 수 있다. 표 5 - Carrier indicator - 0 or 3 bits - Identifier for DCI formats - [1] bits - Bandwidth part indicator - 0, 1 or 2 bits - Frequency domain resource assignment For resource allocation type 0, bits For resource allocation type 1, bits - Time domain resource assignment -1, 2, 3, or 4 bits - VRB-to-PRB mapping - 0 or 1 bit, only for resource allocation type 1. 0 bit if only resource allocation type 0 is configured; 1 bit otherwise. - PRB bundling size indicator (물리 자원 블록 번들링 크기 지시자) - 0 or 1 bit - Rate matching indicator (레이트 매칭 지시자) - 0, 1, or 2 bits - ZP CSI-RS trigger (영전력 채널 상태 정보 기준 신호 트리거) - 0, 1, or 2 bits For transport block 1(제1 전송 블록의 경우): - Modulation and coding scheme - 5 bits - New data indicator - 1 bit - Redundancy version - 2 bits For transport block 2(제2 전송 블록의 경우): - Modulation and coding scheme - 5 bits - New data indicator - 1 bit - Redundancy version - 2 bits - HARQ process number - 4 bits - Downlink assignment index - 0 or 2 or 4 bits - TPC command for scheduled PUCCH - 2 bits - PUCCH resource indicator - 3 bits - PDSCH-to-HARQ_feedback timing indicator - 3 bits - Antenna ports - 4, 5 or 6 bits - Transmission configuration indication (전송 설정 지시)- 0 or 3 bits - SRS request - 2 bits - CBG transmission information - 0, 2, 4, 6, or 8 bits - CBG flushing out information (코드 블록 그룹 플러싱 아웃 정보) - 0 or 1 bit - DMRS sequence initialization - 1 bit[PDSCH: 프로세싱 시간] 다음으로 PDSCH 프로세싱 시간 (PDSCH processing procedure time)에 대해 설명한다. 기지국이 단말에 DCI format 1_0, 1_1, 또는 1_2를 사용하여 PDSCH를 전송하도록 스케줄링 하는 경우, 단말은 DCI를 통해 지시된 전 송 방법 (변복조 및 코딩 지시 인덱스 (MCS), 복조 기준 신호 관련 정보, 시간 및 주파수 자원 할당 정보 등)을 적용하여 PDSCH를 수신하기 위한 PDSCH 프로세싱 시간이 필요할 수 있다. NR에서는 이를 고려하여 PDSCH 프로세 싱 시간을 정의하였다. 단말의 PDSCH 프로세싱 시간은 하기의 [수학식 1]를 따를 수 있다. [수학식 1] Tproc,1 = ( N1 + d1,1 + d2 )( 2048 + 144 ) 2-μ Tc + Text [수학식 1]으로 전술한 Tproc,1에서 각 변수는 하기와 같은 의미를 가질 수 있다. - N1: 단말의 capability에 따른 단말 처리 능력 (UE processing capability) 1 또는 2와 뉴머롤로지 μ에 따라 정해지는 심볼 수. 단말의 capability 보고에 따라 단말 처리 능력 1로 보고된 경우 [표 6]의 값을 가지고, 단 말 처리 능력 2로 보고되고 단말 처리 능력 2를 사용할 수 있다는 것이 상위 레이어 시그널링을 통해 설정된 경 우 [표 7]의 값을 가질 수 있다. 뉴머롤로지 μ는 상기 Tproc,1를 최대화하도록 μPDCCH, μPDSCH, μUL 중 최소값에 대응될 수 있고, μPDCCH, μPDSCH, μUL는 각각 PDSCH를 스케줄한 PDCCH의 뉴머롤로지, 스케줄된 PDSCH의 뉴머롤로 지, HARQ-ACK이 전송될 상향링크 채널의 뉴머롤로지를 의미할 수 있다. [표 6]은 PDSCH processing capability 1인 경우 PDSCH 프로세싱 시간을 나타낸다. [표 7]은 PDSCH processing capability 2인 경우 PDSCH 프로세싱 시간을 나타낸다. 표 6 μ PDSCH decoding time N1 [symbols] PDSCH mapping type A와 B 모두 상위 레이어 시그널링인 DMRS-DownlinkConfig 내 dmrs- AdditionalPosition = pos0인 경우PDSCH mapping type A와 B 모두 상위 레이어 시그 널링인 DMRS-DownlinkConfig 내 dmrs- AdditionalPosition = pos0 가 아닌 경우 혹은 상위 레이어 파라미터가 설정되지 않은 경우 0 8 N1,0 1 10 13 2 17 20 3 20 24 표 7 μ PDSCH decoding time N1 [symbols] PDSCH mapping type A와 B 모두 상위 레이어 시그널링인 DMRS-DownlinkConfig 내 dmrs- AdditionalPosition = pos0인 경우 0 3 1 4.5 2 9 for frequency range 1 - : 64 - Text: 단말이 공유 스펙트럼 채널 접속 방식을 사용하는 경우, 단말은 Text를 계산하여 PDSCH 프로세싱 시간에 적용할 수 있다. 그렇지 않으면 Text는 0으로 가정한다.- 만약 PDSCH DMRS 위치 값을 나타내는 l1이 12이면 상기 [표 6]의 N1,0 는 14의 값을 가지고, 그렇지 않은 경 우에는 13의 값을 가진다. - PDSCH mapping type A에 대해서, PDSCH의 마지막 심볼이 PDSCH가 전송되는 슬롯에서의 i번째 심볼이고, i < 7이면 d1,1은 7-i이고, 그렇지 않으면 d1,1은 0이다. - d2: 높은 priority index를 갖는 PUCCH와 낮은 priority index를 갖는 PUCCH 또는 PUSCH가 시간 상에서 겹치 는 경우, 높은 priority index를 갖는 PUCCH의 d2는 단말로부터 리포팅된 값으로 설정될 수 있다. 그렇지 않으 면 d2는 0이다. - 단말 processing capability 1에 대해 PDSCH mapping type B가 사용된 경우 d1,1 값은 하기와 같이 스케줄된 PDSCH의 심볼 개수인 L과 PDSCH를 스케줄하는 PDCCH와 스케줄된 PDSCH 간 겹친 심볼의 개수 d에 따라 결정될 수 있다. - L ≥ 7이면 d1,1 = 0이다. - L ≥ 4이고 L ≤ 6이면, d1,1 = 7 - L이다. - L = 3이면, d1,1 = min (d, 1)이다. - L = 2이면, d1,1 = 3 + d이다. - 단말 processing capability 2에 대해 PDSCH mapping type B가 사용된 경우 d1,1 값은 하기와 같이 스케줄된 PDSCH의 심볼 개수인 L과 PDSCH를 스케줄하는 PDCCH와 스케줄된 PDSCH 간 겹친 심볼의 개수 d에 따라 결정될 수 있다. - L ≥ 7이면 d1,1 = 0이다. - L ≥ 4이고 L ≤ 6이면, d1,1 = 7 - L이다. - L = 2인 경우, * 만약 스케줄하는 PDCCH가 3개 심볼로 이루어진 CORESET 내에 존재하고, 해당 CORESET과 스케줄된 PDSCH가 같 은 시작 심볼을 가지는 경우, d1,1 = 3이다. * 그렇지 않은 경우, d1,1 = d이다. - 주어진 서빙 셀 내에서 capability 2를 지원하는 단말의 경우, 단말 processing capability 2에 따른 PDSCH 프로세싱 시간은 단말이 해당 셀에 대해 상위 레이어 시그널링인 processingType2Enabled가 enable로 설정된 경 우 적용할 수 있다. 만약 HARQ-ACK 정보를 포함하는 PUCCH의 첫 번째 상향 링크 전송 심볼의 위치가 (해당 위치는 HARQ-ACK의 전송 시점으로 정의되는 K1, HARQ-ACK 전송을 위해 사용되는 PUCCH 자원, 그리고 타이밍 어드밴스 효과가 고려될 수 있다) PDSCH의 마지막 심볼 이후부터 Tproc,1 만큼의 시간 이후에 나오는 첫 번째 상향 링크 전송 심볼보다 먼저 시작되지 않는다면, 단말은 유효한 HARQ-ACK 메시지를 전송해야 한다. 즉, 단말은 PDSCH 프로세싱 시간이 충분 한 경우에 한해 HARQ-ACK을 포함하는 PUCCH를 전송해야 한다. 그렇지 않으면 단말은 스케줄된 PDSCH에 대응되는 유효한 HARQ-ACK 정보를 기지국에게 제공할 수 없다. Tproc,1은 일반 혹은 확장된 CP의 경우 모두에 대해 사용될 수 있다. 만약 1개 슬롯 내에서 PDSCH 전송 위치가 2개로 구성된 PDSCH의 경우, d1,1은 해당 슬롯 내의 첫 번째 PDSCH 전송 위치를 기준으로 계산한다. [PDSCH: Cross-carrier scheduling 시 수신 준비 시간] 다음으로 스케줄하는 PDCCH가 전송되는 뉴머롤로지인 μPDCCH와 해당 PDCCH를 통해 스케줄되는 PDSCH가 전송되는 뉴머롤로지인 μPDSCH가 서로 상이한 cross-carrier scheduling의 경우, PDCCH와 PDSCH 간에 시간 간격에 대해 정의된 단말의 PDSCH 수신 준비 시간인 Npdsch에 대해 설명한다. 만약 μPDCCH < μPDSCH 인 경우, 스케줄된 PDSCH는 해당 PDSCH를 스케줄한 PDCCH의 마지막 심볼로부터 Npdsch 심볼 이후에 나오는 슬롯의 첫 번째 심볼보다 먼저 전송될 수 없다. 해당 PDSCH의 전송 심볼은 DM-RS를 포함할 수 있 다. 만약 μPDCCH > μPDSCH 인 경우, 스케줄된 PDSCH는 해당 PDSCH를 스케줄한 PDCCH의 마지막 심볼로부터 Npdsch 심볼 이후부터 전송될 수 있다. 해당 PDSCH의 전송 심볼은 DM-RS를 포함할 수 있다. [표 8]은 스케줄링된 PDCCH 부반 송파 간격에 따른 Npdsch을 나타낸다. 표 8 μPDCCH Npdsch [symbols] 0 4 1 5 2 10 3 14 [PUSCH: 전송 방식 관련] 다음으로 PUSCH 전송의 스케줄링 방식에 대해 설명한다. PUSCH 전송은 DCI 내의 UL grant에 의해 동적으로 스케 줄링 되거나, configured grant Type 1 또는 Type 2에 의해 동작할 수 있다. PUSCH 전송에 대한 동적 스케줄링 지시는 DCI format 0_0 또는 0_1으로 가능하다. Configured grant Type 1 PUSCH 전송은 DCI 내의 UL grant에 대한 수신을 하지 않고, 상위 시그널링을 통한 [표 9]의 rrc-ConfiguredUplinkGrant를 포함하는 configuredGrantConfig의 수신을 통해 준정적으로 설정될 수 있다. Configured grant Type 2 PUSCH 전송은 상위 시그널링을 통한 [표 9]의 rrc-ConfiguredUplinkGrant를 포 함하지 않는 configuredGrantConfig의 수신 이후, DCI 내의 UL grant에 의해 반지속적으로 스케줄링 될 수 있 다. PUSCH 전송이 configured grant에 의해 동작하는 경우, PUSCH 전송에 적용되는 파라미터들은 상위 시그널링 인 [표 10]의 pusch-Config 로 제공되는 dataScramblingIdentityPUSCH, txConfig, codebookSubset, maxRank, scaling of UCI-OnPUSCH를 제외하고는 [표 9]의 상위 시그널링인 configuredGrantConfig을 통해 적용된다. 단 말이 [표 9]의 상위 시그널링인 configuredGrantConfig 내의 transformPrecoder를 제공받았다면, 단말은 configured grant에 의해 동작하는 PUSCH 전송에 대해 [표 10]의 pusch-Config 내의 tp-pi2BPSK를 적용한다.표 9ConfiguredGrantConfig ::= SEQUENCE { frequencyHopping ENUMERATED {intraSlot, interSlot} OPTIONAL, -- Need S, cg-DMRS-Configuration DMRS-UplinkConfig, mcs-Table ENUMERATED {qam256, qam64LowSE} OPTIONAL, -- Need S mcs-TableTransformPrecoder ENUMERATED {qam256, qam64LowSE} OPTIONAL, -- Need S uci-OnPUSCH SetupRelease { CG-UCI-OnPUSCH } OPTIONAL, -- Need M resourceAllocation ENUMERATED { resourceAllocationType0, resourceAllocationType1, dynamicSwitch }, rbg-Size ENUMERATED {config2} OPTIONAL, -- Need S powerControlLoopToUse ENUMERATED {n0, n1}, p0-PUSCH-Alpha P0-PUSCH-AlphaSetId, transformPrecoder ENUMERATED {enabled, disabled} OPTIONAL, -- Need S nrofHARQ-Processes INTEGER(1..16), repK ENUMERATED {n1, n2, n4, n8}, repK-RV ENUMERATED {s1-0231, s2-0303, s3-0000} OPTIONAL, -- Need R periodicity ENUMERATED { sym2, sym7, sym1x14, sym2x14, sym4x14, sym5x14, sym8x14, sym10x14, sym16x14, sym20x14, sym32x14, sym40x14, sym64x14, sym80x14, sym128x14, sym160x14, sym256x14, sym320x14, sym512x14, sym640x14, sym1024x14, sym1280x14, sym2560x14, sym5120x14, sym6, sym1x12, sym2x12, sym4x12, sym5x12, sym8x12, sym10x12, sym16x12, sym20x12, sym32x12, sym40x12, sym64x12, sym80x12, sym128x12, sym160x12, sym256x12, sym320x12, sym512x12, sym640x12, sym1280x12, sym2560x12 }, configuredGrantTimer INTEGER (1..64) OPTIONAL, -- Need R rrc-ConfiguredUplinkGrant SEQUENCE { timeDomainOffset INTEGER (0..5119), timeDomainAllocation INTEGER (0..15), frequencyDomainAllocation BIT STRING (SIZE), antennaPort INTEGER (0..31), dmrs-SeqInitialization INTEGER (0..1) OPTIONAL, -- Need R precodingAndNumberOfLayers INTEGER (0..63), srs-ResourceIndicator INTEGER (0..15) OPTIONAL, -- Need R mcsAndTBS INTEGER (0..31), frequencyHoppingOffset INTEGER (1.. maxNrofPhysicalResourceBlocks-1) OPTIONAL, -- Need R pathlossReferenceIndex INTEGER (0..maxNrofPUSCH- PathlossReferenceRSs-1), ... } OPTIONAL, -- Need R ... }다음으로 PUSCH 전송 방법에 대해 설명한다. PUSCH 전송을 위한 DMRS 안테나 포트는 SRS 전송을 위한 안테나 포 트와 동일하다. PUSCH 전송은 상위 시그널링인 [표 10]의 pusch-Config 내의 txConfig의 값이 'codebook' 혹은 'nonCodebook'인지에 따라 codebook 기반의 전송 방법과 non-codebook 기반의 전송 방법을 각각 따를 수 있다. 상술한 바와 같이, PUSCH 전송은 DCI format 0_0 또는 0_1을 통해 동적으로 스케줄링 될 수 있고, configured grant에 의해 준정적으로 설정될 수 있다. 만약 단말이 PUSCH 전송에 대한 스케줄링을 DCI format 0_0을 통해 지시받았다면, 단말은 serving cell 내 활성화된 상향링크 BWP 내에서 최소 ID에 대응되는 단말 특정적인 PUCCH resource에 대응되는 pucch-spatialRelationInfoID를 이용하여 PUSCH 전송을 위한 빔 설정을 수행하고, 이 때 PUSCH 전송은 단일 안테나 포트를 기반으로 한다. 단말은 pucch-spatialRelationInfo를 포함하는 PUCCH resource가 설정되지 않은 BWP 내에서, DCI format 0_0을 통해 PUSCH 전송에 대한 스케줄링을 기대하지 않는다. 만약 단말이 [표 10]의 pusch-Config 내의 txConfig를 설정받지 않았다면, 단말은 DCI format 0_1로 스케줄링 받는 것을 기대하지 않는다. 표 10 PUSCH-Config ::= SEQUENCE { dataScramblingIdentityPUSCH INTEGER (0..1023) OPTIONAL, -- Need S txConfig ENUMERATED {codebook, nonCodebook} OPTIONAL, -- Need S dmrs-UplinkForPUSCH-MappingTypeA SetupRelease { DMRS-UplinkConfig } OPTIONAL, -- Need M dmrs-UplinkForPUSCH-MappingTypeB SetupRelease { DMRS-UplinkConfig } OPTIONAL, -- Need M pusch-PowerControl PUSCH-PowerControl OPTIONAL, -- Need M frequencyHopping ENUMERATED {intraSlot, interSlot} OPTIONAL, -- Need S frequencyHoppingOffsetLists SEQUENCE (SIZE (1..4)) OF INTEGER (1.. maxNrofPhysicalResourceBlocks-1) OPTIONAL, -- Need M resourceAllocation ENUMERATED { resourceAllocationType0, resourceAllocationType1, dynamicSwitch}, pusch-TimeDomainAllocationList SetupRelease { PUSCH- TimeDomainResourceAllocationList } OPTIONAL, -- Need M pusch-AggregationFactor ENUMERATED { n2, n4, n8 } OPTIONAL, -- Need S mcs-Table ENUMERATED {qam256, qam64LowSE} OPTIONAL, -- Need S mcs-TableTransformPrecoder ENUMERATED {qam256, qam64LowSE} OPTIONAL, -- Need S transformPrecoder ENUMERATED {enabled, disabled} OPTIONAL, -- Need S codebookSubset ENUMERATED {fullyAndPartialAndNonCoherent, partialAndNonCoherent,nonCoherent} OPTIONAL, -- Cond codebookBased maxRank INTEGER (1..4) OPTIONAL, -- Cond codebookBased rbg-Size ENUMERATED { config2} OPTIONAL, -- Need S uci-OnPUSCH SetupRelease { UCI-OnPUSCH} OPTIONAL, -- Need M tp-pi2BPSK ENUMERATED {enabled} OPTIONAL, -- Need S ... }다음으로 codebook 기반의 PUSCH 전송에 대해 설명한다. Codebook 기반의 PUSCH 전송은 DCI format 0_0 또는 0_1을 통해 동적으로 스케줄링 될 수 있고, configured grant에 의해 준정적으로 동작할 수 있다. Codebook 기 반의 PUSCH가 DCI format 0_1에 의해 동적으로 스케줄링 되거나 또는 configured grant에 의해 준정적으로 설 정되면, 단말은 SRS Resource Indicator (SRI), Transmission Precoding Matrix Indicator (TPMI), 그리고 전 송 rank (PUSCH 전송 레이어의 수)에 기반해서 PUSCH 전송을 위한 precoder를 결정한다. 이때, SRI는 DCI 내의 필드 SRS resource indicator를 통해 주어지거나 상위 시그널링인 srs- ResourceIndicator를 통해 설정될 수 있다. 단말은 codebook 기반 PUSCH 전송 시 적어도 1개의 SRS resource를 설정받으며, 최대 2개까지 설정 받을 수 있다. 단말이 DCI를 통해 SRI를 제공받는 경우, 해당 SRI가 가리키는 SRS resource는 해당 SRI를 포함하는 PDCCH보다 이전에 전송된 SRS resource들 중에, SRI에 대응되는 SRS resource를 의미한다. 또한, TPMI 및 전송 rank 는 DCI 내의 필드 precoding information and number of layers를 통해 주어지거나, 상위 시그널링인 precodingAndNumberOfLayers를 통해 설정될 수 있다. TPMI는 PUSCH 전송에 적용되는 precoder를 지시하는 데 사용된다. 만약 단말이 1개의 SRS resource를 설정 받았을 때에 는, TPMI는 설정된 1개의 SRS resource에서 적용될 precoder를 지시하는 데 사용된다. 만약 단말이 복수 개의 SRS resource들을 설정 받았을 때에는, TPMI는 SRI를 통해 지시되는 SRS resource에서 적용될 precoder를 지시 하는 데 사용된다. PUSCH 전송에 사용될 precoder는 상위 시그널링인 SRS-Config 내의 nrofSRS-Ports 값과 같은 수의 안테나 포트 수를 갖는 상향링크 코드북에서 선택된다. Codebook 기반의 PUSCH 전송에서, 단말은 TPMI와 상위 시그널링인 pusch-Config 내의 codebookSubset에 기반하여 codebook subset을 결정한다. 상위 시그널링인 pusch-Config 내 의 codebookSubset은 단말이 기지국에게 보고하는 UE capability에 근거하여 'fullyAndPartialAndNonCoherent', 'partialAndNonCoherent', 또는 'nonCoherent' 중 하나로 설정 받을 수 있 다. 만약 단말이 UE capability로 'partialAndNonCoherent'를 보고했다면, 단말은 상위 시그널링인 codebookSubset의 값이 'fullyAndPartialAndNonCoherent'로 설정되는 것을 기대하지 않는다. 또한, 만약 단말 이 UE capability로 'nonCoherent'를 보고했다면, 단말은 상위 시그널링인 codebookSubset의 값이 'fullyAndPartialAndNonCoherent' 또는 'partialAndNonCoherent'로 설정되는 것을 기대하지 않는다. 상위 시그 널링인 SRS-ResourceSet 내의 nrofSRS-Ports가 2개의 SRS 안테나 포트를 가리키는 경우, 단말은 상위 시그널링 인 codebookSubset의 값이 'partialAndNonCoherent'로 설정되는 것을 기대하지 않는다. 단말은 상위 시그널링인 SRS-ResourceSet 내의 usage의 값이 'codebook'으로 설정된 SRS resource set을 1개 설정 받을 수 있고, 해당 SRS resource set 내에서 1개의 SRS resource 가 SRI를 통해 지시될 수 있다. 만약 상위 시그널링인 SRS-ResourceSet 내의 usage 값이 'codebook'으로 설정된 SRS resource set 내에 여러 SRS resource들이 설정되면, 단말은 상위 시그널링인 SRS-Resource 내의 nrofSRS-Ports의 값이 모든 SRS resource 들에 대해 같은 값이 설정되는 것을 기대한다. 단말은 상위 시그널링에 따라 usage의 값이 'codebook'으로 설정된 SRS resource set 내에 포함된 1개 또는 복 수 개의 SRS resource를 기지국으로 전송하고, 기지국은 단말이 전송한 SRS resource 중 1개를 선택하여 해당 SRS resource의 송신 빔 정보를 이용하여 단말이 PUSCH 전송을 수행할 수 있도록 지시한다. 이 때, codebook 기 반 PUSCH 전송에서는 SRI가 1개의 SRS resource의 인덱스를 선택하는 정보로 사용되며 DCI 내에 포함된다. 추가 적으로, 기지국은 단말이 PUSCH 전송에 사용할 TPMI와 rank를 지시하는 정보를 DCI에 포함시킨다. 단말은 상기 SRI가 지시하는 SRS resource를 이용하여, 해당 SRS resource의 송신 빔을 기반으로 지시된 rank와 TPMI가 지 시하는 precoder를 적용하여 PUSCH 전송을 수행한다. 다음으로 non-codebook 기반의 PUSCH 전송에 대해 설명한다. Non-codebook 기반의 PUSCH 전송은 DCI format 0_0 또는 0_1을 통해 동적으로 스케줄링 될 수 있고, configured grant에 의해 준정적으로 동작할 수 있다. 상 위 시그널링인 SRS-ResourceSet 내의 usage의 값이 'nonCodebook'으로 설정된 SRS resource set 내에 적어도 1 개의 SRS resource가 설정된 경우, 단말은 DCI format 0_1을 통해 non-codebook 기반 PUSCH 전송을 스케줄링 받을 수 있다. 상위 시그널링인 SRS-ResourceSet 내의 usage의 값이 'nonCodebook'으로 설정된 SRS resource set에 대해, 단 말은 1개의 연결되어 있는 NZP CSI-RS resource(non-zero power CSI-RS)를 설정 받을 수 있다. 단말은 SRS resource set과 연결되어 있는 NZP CSI-RS resource에 대한 측정을 통해 SRS 전송을 위한 precoder에 대한 계 산을 수행할 수 있다. 만약 SRS resource set과 연결되어 있는 aperiodic NZP CSI-RS resource의 마지막 수신심볼과 단말에서의 aperiodic SRS 전송의 첫번째 심볼 간의 차이가 42 심볼보다 적게 차이나면, 단말은 SRS 전 송을 위한 precoder에 대한 정보가 갱신되는 것을 기대하지 않는다. 상위 시그널링인 SRS-ResourceSet 내의 resourceType의 값이 'aperiodic'으로 설정되면, 연결되어 있는 NZP CSI-RS는 DCI format 0_1 또는 1_1 내의 필드인 SRS request로 지시된다. 이 때, 연결되어 있는 NZP CSI-RS resource가 비주기적 NZP CSI-RS resource라면, DCI format 0_1 또는 1_1 내의 필드 SRS request의 값이 '00' 이 아닌 경우에 대해 연결되어 있는 NZP CSI-RS가 존재함을 가리키게 된다. 이때, 해당 DCI는 cross carrier 또 는 cross BWP 스케줄링을 지시하지 않아야 한다. 또한, SRS request의 값이 만약 NZP CSI-RS의 존재를 가리키게 된다면, 해당 NZP CSI-RS는 SRS request 필드를 포함한 PDCCH가 전송된 슬롯에 위치하게 된다. 이 때, 스케줄링 된 부반송파에 설정된 TCI state들은 QCL-TypeD로 설정되지 않는다. 만약 주기적 혹은 반지속적 SRS resource set이 설정되었다면, 연결되어 있는 NZP CSI-RS는 상위 시그널링인 SRS-ResourceSet 내의 associatedCSI-RS를 통해 지시될 수 있다. Non-codebook 기반 전송에 대해, 단말은 SRS resource에 대한 상위 시그널링인 spatialRelationInfo와 상위 시그널링인 SRS-ResourceSet 내의 associatedCSI-RS 가 함께 설정되는 것을 기대하지 않는다. 단말은 복수 개의 SRS resource들을 설정 받은 경우, PUSCH 전송에 적용할 precoder와 전송 rank를 기지국이 지 시하는 SRI에 기반하여 결정할 수 있다. 이때, SRI 는 DCI 내의 필드 SRS resource indicator를 통해 지시받거 나 또는 상위 시그널링인 srs-ResourceIndicator를 통해 설정 받을 수 있다. 상술한 codebook 기반의 PUSCH 전 송과 마찬가지로, 단말이 DCI를 통해 SRI를 제공받는 경우, 해당 SRI가 가리키는 SRS resource는 해당 SRI를 포 함하는 PDCCH보다 이전에 전송된 SRS resourc중에, SRI에 대응되는 SRS resource를 의미한다. 단말은 SRS 전송 에 1개 또는 복수 개의 SRS resource들을 사용할 수 있고, 1개의 SRS resource set 내에 같은 심볼에서 동시 전송이 가능한 최대 SRS resource 개수와 최대 SRS resource 개수는 단말이 기지국으로 보고하는 UE capability에 의해 결정된다. 이때, 단말이 동시에 전송하는 SRS resource들은 같은 RB를 차지한다. 단말은 각 SRS resource 별로 1개의 SRS 포트를 설정한다. 상위 시그널링인 SRS-ResourceSet 내의 usage의 값이 'nonCodebook'으로 설정된 SRS resource set은 1개만 설정될 수 있으며, non-codebook 기반 PUSCH 전송을 위한 SRS resource는 최대 4개까지 설정이 가능하다. 기지국은 SRS resource set과 연결된 1개의 NZP-CSI-RS를 단말로 전송하며, 단말은 해당 NZP-CSI-RS 수신 시 측정한 결과를 기반으로 하여, 해당 SRS resource set 내의 1개 또는 복수 개의 SRS resource 전송 시 사용할 precoder를 계산한다. 단말은 usage가 'nonCodebook'으로 설정된 SRS resource set 내의 1개 또는 복수 개의 SRS resource를 기지국으로 전송할 때 상기 계산된 precoder를 적용하고, 기지국은 수신한 1개 또는 복수 개의 SRS resource 중 1개 또는 복수 개의 SRS resource를 선택한다. 이 때, non-codebook 기반 PUSCH 전송에서는 SRI가 1개 또는 복수 개의 SRS resource의 조합을 표현할 수 있는 인덱스를 나타내며 상기 SRI는 DCI 내에 포함 된다. 이 때, 기지국이 전송한 SRI가 지시하는 SRS resource의 수는 PUSCH의 송신 레이어의 수가 될 수 있으며, 단말은 각 레이어에 SRS resource 전송에 적용된 precoder를 적용해 PUSCH를 전송한다. [PUSCH: 준비 과정 시간] 다음으로 PUSCH 준비 과정 시간 (PUSCH preparation procedure time)에 대해 설명한다. 기지국이 단말에 DCI format 0_0, 0_1, 또는 0_2를 사용하여 PUSCH를 전송하도록 스케줄링 하는 경우, 단말은 DCI를 통해 지시된 전 송 방법 (SRS resource의 전송 프리코딩 방법, 전송 레이어 수, spatial domain transmission filter)을 적용 하여 PUSCH를 전송하기 위한 PUSCH 준비 과정 시간이 필요할 수 있다. NR에서는 이를 고려하여 PUSCH 준비 과정 시간을 정의하였다. 단말의 PUSCH 준비 과정 시간은 하기의 [수학식 2]를 따를 수 있다. [수학식 2] Tproc,2 = max(( N2 + d2,1 + d2)( 2048 + 144 ) 2-μ Tc + Text + Tswitch, d2,2 ) [수학식 2]으로 전술한 Tproc,2에서 각 변수는 하기와 같은 의미를 가질 수 있다. - N2: 단말의 capability에 따른 단말 처리 능력 (UE processing capability) 1 또는 2와 뉴머롤로지 μ에 따라 정해지는 심볼 수. 단말의 capability 보고에 따라 단말 처리 능력 1로 보고된 경우 [표 11]의 값을 가지고, 단 말 처리 능력 2로 보고되고 단말 처리 능력 2를 사용할 수 있다는 것이 상위 레이어 시그널링을 통해 설정된 경 우 [표 12]의 값을 가질 수 있다. 표 11"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "표 12"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "- d2,1: PUSCH 전송의 첫 번째 OFDM 심볼의 resource element들이 모두 DM-RS만으로 이루어지도록 설정된 경우 0, 아닌 경우 1로 정해지는 심볼 수. - : 64 - μ: 또는 중, Tproc,2이 더 크게 되는 값을 따른다. 은 PUSCH를 스케줄링 하는 DCI가 포함 된 PDCCH가 전송되는 하향링크의 뉴머롤로지를 뜻하고, 은 PUSCH가 전송되는 상향링크의 뉴머롤로지를 뜻한 다. - Tc: , , 를 가진다. - d2,2: PUSCH를 스케줄링하는 DCI가 BWP 스위칭을 지시하는 경우 BWP 스위칭 시간을 따르고, 그렇지 않은 경우 0을 가진다. - d2: PUCCH와 높은 priority index를 갖는 PUSCH와 낮은 priority index를 갖는 PUCCH의 OFDM 심볼끼리 시간 상에서 겹치는 경우, 높은 priority index를 갖는 PUSCH의 d2 값이 사용된다. 그렇지 않으면 d2는 0이다. - Text: 단말이 공유 스펙트럼 채널 접속 방식을 사용하는 경우, 단말은 Text를 계산하여 PUSCH 준비 과정 시간에 적용할 수 있다. 그렇지 않으면 Text는 0으로 가정한다. - Tswitch: 상향링크 스위칭 간격이 트리거된 경우 Tswitch는 스위칭 간격 시간으로 가정한다. 그렇지 않으면 0으로 가정한다. 기지국과 단말은 DCI를 통해 스케줄링 한 PUSCH의 시간 축 자원 맵핑 정보와 상향링크-하향링크 간 타이밍 어드 밴스의 영향을 고려하였을 때, PUSCH를 스케줄링 한 DCI를 포함한 PDCCH의 마지막 심볼부터 Tproc,2 이후에 CP가 시작하는 첫 상향링크 심볼보다 PUSCH의 첫 심볼이 먼저 시작하는 경우 PUSCH 준비 과정 시간이 충분하지 않다 고 판단한다. 만일 그렇지 않은 경우 기지국과 단말은 PUSCH 준비 과정 시간이 충분하다고 판단한다. 단말은 PUSCH 준비 과정 시간이 충분한 경우에 한해 PUSCH를 전송하고, PUSCH 준비 과정 시간이 충분하지 않은 경우 PUSCH를 스케줄링 하는 DCI를 무시할 수 있다. [PUSCH: 반복 전송 관련] 하기에서는 5G 시스템에서 상향링크 데이터 채널의 반복 전송에 대해 구체적으로 설명한다. 5G 시스템에서는 상 향링크 데이터 채널의 반복 전송 방법으로 두 가지 타입, PUSCH 반복 전송 타입 A, PUSCH 반복 전송 타입 B를 지원한다. 단말은 상위 레이어 시그널링으로 PUSCH 반복 전송 타입 A 혹은 B 중 하나를 설정 받을 수 있다. PUSCH 반복 전송 타입 A 전술한 바와 같이, 하나의 슬롯 안에서 시간 도메인 자원 할당방법으로 상향링크 데이터 채널의 심볼 길이와 시 작 심볼의 위치가 결정되고 기지국은 반복 전송 횟수를 상위 계층 시그널링(예를 들어, RRC 시그널링) 혹은 L1 시그널링 (예를 들어, DCI)를 통해 단말에게 통지할 수 있다. 단말은 기지국으로부터 수신한 반복 전송 횟수를 기반으로 설정 받은 상향링크 데이터 채널의 길이와 시작 심볼 이 동일한 상향링크 데이터 채널을 연속된 슬롯에서 반복 전송할 수 있다. 이 때, 기지국이 단말에게 하향링크 로 설정한 슬롯 혹은 단말이 설정 받은 상향링크 데이터 채널의 심볼 중 적어도 하나 이상의 심볼이 하향링크로 설정된 경우, 단말은 상향링크 데이터 채널 전송을 생략하지만, 상향링크 데이터 채널의 반복 전송 횟수는 카운 트한다. PUSCH 반복 전송 타입 B 전술한 바와 같이, 하나의 슬롯 안에서 시간 도메인 자원 할당방법으로 상향링크 데이터 채널의 시작 심볼과 길 이가 결정되고 기지국은 반복 전송 횟수 numberofrepetitions 를 상위 시그널링(예를 들어, RRC 시그널링) 혹은 L1 시그널링 (예를 들어, DCI)를 통해 단말에게 통지할 수 있다. 먼저 설정받은 상향링크 데이터 채널의 시작 심볼과 길이를 기반으로 상향링크 데이터 채널의 nominal repetition이 하기와 같이 결정된다. n번째 nominal repetition이 시작하는 슬롯은 에 의해 주어지고 그 슬롯에서 시작하는 심볼은 에 의해 주어진다. n번째 nominal repetition이 끝나는 슬롯은 에 의해 주어지고 그 슬롯에서 끝나는 심볼은 에 의해 주어진다. 여 기서 n=0,…, numberofrepetitions-1 이고 S는 설정 받은 상향링크 데이터 채널의 시작 심볼 L은 설정 받은 상 향링크 데이터 채널의 심볼 길이를 나타낸다. 는 PUSCH 전송이 시작하는 슬롯을 나타내고 슬롯당 심볼의 수를 나타낸다. 단말은 PUSCH 반복 전송 타입 B를 위하여 invalid symbol을 결정한다. tdd-UL-DL-ConfigurationCommon 또는 tdd-UL-DL-ConfigurationDedicated에 의해 하향링크로 설정된 심볼은 PUSCH 반복 전송 타입 B를 위한 invalid 심볼로 결정된다. 추가적으로, 상위계층 파라미터 (예를 들어, InvalidSymbolPattern)에서 invalid 심볼이 설정 될 수 있다. 상위 계층 파라미터 (예를 들어, InvalidSymbolPattern)는 한 슬롯 혹은 두 슬롯에 걸친 심볼 레벨 비트맵을 제공하여 invalid 심볼이 설정될 수 있다. 비트맵에서 1은 invalid 심볼을 나타낸다. 추가적으로, 상 위 계층 파라미터(예를 들어, periodicityAndPattern)를 통해 비트맵의 주기와 패턴이 설정될 수 있다. 만약 상 위 계층 파라미터 (예를 들어, InvalidSymbolPattern)가 설정되고 InvalidSymbolPatternIndicator- ForDCIFormat0_1 또는 InvalidSymbolPatternIndicator-ForDCIFormat0_2 파라미터가 1을 나타내면 단말은 invalid 심볼 패턴을 적용하고, 상기 파라미터가 0을 나타내면 단말은 invalid 심볼 패턴을 적용하지 않는다.만약 상위 계층 파라미터 (예를 들어, InvalidSymbolPattern)가 설정되고 InvalidSymbolPatternIndicator- ForDCIFormat0_1 또는 InvalidSymbolPatternIndicator-ForDCIFormat0_2 파라미터가 설정되지 않는다면 단말은 invalid 심볼 패턴을 적용한다. Invalid 심볼이 결정된 후, 각각의 Nominal repetition에 대해 단말은 invalid 심볼 이외의 심볼들을 valid 심 볼로 고려할 수 있다. 각각의 nominal repetition에서 valid 심볼이 하나 이상이 포함되면, nominal repetition은 하나 또는 더 많은 actual repetition들을 포함할 수 있다. 여기서 각 actual repetition은 하나 의 슬롯 안에서 PUSCH 반복 전송 타입 B를 위해 사용될 수 있는 valid 심볼들의 연속적인 세트를 포함하고 있다. 도 3은 본 개시의 일 실시예에 따른 무선 통신 시스템에서 PUSCH 반복 전송 타입 B의 일례를 도시한다. 단말은 상향링크 데이터 채널의 시작 심볼 S를 0과 상향링크 데이터 채널의 길이 L을 14로 설정 받고 반복 전송 횟수를 16으로 설정 받을 수 있다. 이 경우 Nominal repetition은 연속된 16개의 슬롯에서 나타낸다. 그 후 단말 은 각 nominal repetition에서 하향링크 심볼로 설정된 심볼은 invalid 심볼로 결정할 수 있다. 또한, 단 말은 invalid symbol pattern에서 1로 설정된 심볼들을 invalid 심볼로 결정한다. 각 nominal repetition에서 invalid 심볼이 아닌 valid 심볼들이 하나의 슬롯에서 연속된 1개 이상의 심볼로 구성되는 경우 actual repetition으로 설정되어 전송된다. 또한, PUSCH 반복 전송에 대해, NR Release 16에서는 슬롯 경계를 넘는 UL grant 기반 PUSCH 전송 및 configured grant 기반 PUSCH 전송에 대해 다음과 같은 추가적인 방법들을 정의할 수 있다. - 방법 1 (mini-slot level repetition): 1개의 UL grant를 통해, 1개의 슬롯 내에서 혹은 연속된 슬롯들의 경 계를 넘는 2개 이상의 PUSCH 반복 전송이 스케줄링된다. 또한, 방법 1에 대해, DCI 내의 시간 영역 자원 할당 정보는 첫 번째 반복 전송의 자원을 가리킨다. 또한, 첫 번째 반복 전송의 시간 영역 자원 정보와, 각 슬롯의 각 심볼 별로 결정되어 있는 상향링크 또는 하향링크 방향에 따라 나머지 반복 전송의 시간 영역 자원 정보를 결정할 수 있다. 각 반복 전송은 연속된 심볼들을 차지한다. - 방법 2 (multi-segment transmission): 1개의 UL grant를 통해 연속된 슬롯들에서 2개 이상의 PUSCH 반복 전 송이 스케줄링된다. 이 때, 각 슬롯 별로 1번의 전송이 지정되며 각 전송 별로 서로 다른 시작 지점 혹은 반복 길이가 다를 수 있다. 또한, 방법 2에서, DCI 내의 시간 영역 자원 할당 정보는 모든 반복 전송들의 시작 지점 과 반복 길이를 가리킨다. 또한, 방법 2를 통해 단일 슬롯 내에서 반복 전송을 수행하는 경우, 해당 슬롯 내에 연속된 상향링크 심볼들의 묶음이 여러 개 존재한다면, 각 반복 전송은 각 상향링크 심볼 묶음 별로 수행된다. 만약 해당 슬롯 내에 연속된 상향링크 심볼들의 묶음이 유일하게 존재한다면, NR Release 15의 방법에 따라서 1 번의 PUSCH 반복 전송이 수행된다. - 방법 3: 2개 이상의 UL grant를 통해 연속된 슬롯들에서 2개 이상의 PUSCH 반복 전송이 스케줄링된다. 이 때, 각 슬롯 별로 1번의 전송이 지정되며, n 번째 UL grant는 n-1 번째 UL grant로 스케줄링된 PUSCH 전송이 끝나기 전에 수신할 수 있다. - 방법 4: 1개의 UL grant 또는 1개의 configured grant를 통해, 단일 슬롯 내에서 1개 또는 여러 개의 PUSCH 반복 전송, 또는 연속된 슬롯들의 경계에 걸쳐서 2개 혹은 그 이상의 PUSCH 반복 전송이 지원될 수 있다. 기지 국이 단말에게 지시하는 반복 횟수는 명목 상의 값일 뿐이며, 단말이 실제로 수행하는 PUSCH 반복 전송 횟수는 명목 상의 반복 횟수보다 많을 수도 있다. DCI 내 혹은 configured grant 내의 시간 영역 자원 할당 정보는 기 지국이 지시하는 첫 번째 반복 전송의 자원을 의미한다. 나머지 반복 전송의 시간 영역 자원 정보는 적어도 첫 번째 반복 전송의 자원 정보와 심볼들의 상향링크 또는 하향링크 방향을 참조하여 결정될 수 있다. 만약 기지국 이 지시하는 반복 전송의 시간 영역 자원 정보가 슬롯 경계에 걸치거나 상향링크/하향링크 전환 지점을 포함한 다면, 해당 반복 전송은 복수 개의 반복 전송으로 나눠질 수 있다. 이 때, 1개의 슬롯 내에 각 상향링크 기간 별로 1개의 반복 전송을 포함할 수 있다. [PUSCH: 주파수 호핑 과정] 하기에서는 5G 시스템에서 상향링크 데이터 채널(Physical Uplink Shared Channel; PUSCH)의 주파수 호핑 (frequency hopping)에 대해 구체적으로 설명한다. 5G에서는 상향링크 데이터 채널의 주파수 호핑 방법으로, 각 PUSCH 반복 전송 타입마다 두가지 방법을 지원한다. 먼저 PUSCH 반복 전송 타입 A에서는 intra-slot 주파수 호핑과 inter-slot 주파수 호핑을 지원하고, PUSCH 반복 전송 타입 B에서는 inter-repetition 주파수 호핑과 inter-slot 주파수 호핑을 지원한다. PUSCH 반복 전송 타입 A에서 지원하는 intra-slot 주파수 호핑 방법은, 단말이 하나의 슬롯 내 두개의 홉(hop) 에서 주파수 도메인의 할당된 자원을 설정된 주파수 오프셋만큼 변경하여 전송하는 방법이다. Intra-slot 주파 수 호핑에서 각 홉의 시작 RB는 수학식 4를 통해 나타낼 수 있다. [수학식 4]"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "수학식 4에서, i=0과 i=1은 각각 첫번째 홉과 두번째 홉을 나타내며, 는 UL BWP안에서 시작 RB를 나타내 고 주파수 자원 할당 방법으로부터 계산된다. 은 상위 계층 파라미터를 통해 두개의 홉 사이에 주파수 오 프셋을 나타난다. 첫번째 홉의 심볼 수는 로 나타낼 수 있고, 두번째 홉의 심볼 수는 으로 나타낼 수 있다. 은 한 슬롯 내에서의 PUSCH 전송의 길이로, OFDM 심볼 수로 나타난다. 다음으로 PUSCH 반복 전송 타입 A와 B에서 지원하는 inter-slot 주파수 호핑 방법은, 단말이 각 슬롯마다 주파 수 도메인의 할당된 자원을 설정된 주파수 오프셋만큼 변경하여 전송하는 방법이다. Inter-slot 주파수 호핑에 서 슬롯 동안 시작 RB는 수학식 5를 통해 나타낼 수 있다. [수학식 5]"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "수학식 5에서, 는 multi-slot PUSCH 전송에서 현재 슬롯 번호, 는 UL BWP안에서 시작 RB를 나타내고 주 파수 자원 할당 방법으로부터 계산된다. 은 상위 계층 파라미터를 통해 두개의 홉 사이에 주파수 오프셋 을 나타낸다. 다음으로 PUSCH 반복 전송 타입 B에서 지원하는 inter-repetition 주파수 호핑 방법은 각 nominal repetition 내의 1개 혹은 복수 개의 actual repetition들에 대한 주파수 도메인 상에서 할당된 자원을, 설정된 주파수 오 프셋만큼 이동하여 전송하는 것이다. n번째 nominal repetition 내의 1개 혹은 복수 개의 actual repetition들 에 대한 주파수 도메인 상에서 시작 RB의 index인 RBstart(n) 은 하기 수학식 6을 따를 수 있다. [수학식 6]"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 9, "content": "수학식 6에서, n은 nominal repetition의 인덱스, 은 상위 계층 파라미터를 통해 두 개의 홉 사이에 RB 오프셋을 나타낸다. [PUSCH: AP/SP CSI reporting 시 multiplexing rule] 하기에서는 5G 통신 시스템에서의 채널 상태 측정 및 보고하는 방법에 대하여 구체적으로 기술하도록 한다. 채 널 상태 정보(channel state information, CSI)에는 채널품질지시자 (channel quality information, CQI), 프리코딩 행렬 인덱스 (precoding matric indicator, PMI), CSI-RS 자원 지시자 (CSI-RS resource indicator, CRI), SS/PBCH 블록 자원 지시자 (SS/PBCH block resource indicator, SSBRI), 레이어 지시자 (layer indicator, LI), 랭크 지시자 (rank indicator, RI), 및/또는 L1-RSRP(Reference Signal Received Power) 등 이 포함될 수 있다. 기지국은 단말의 전술한 CSI 측정 및 보고를 위한 시간 및 주파수 자원을 제어할 수 있다. 전술한 CSI 측정 및 보고를 위하여, 단말은 N( )개의 CSI 보고를 위한 세팅(Setting) 정보 (CSI- ReportConfig), M( ) 개의 RS 전송 자원에 대한 세팅 정보 (CSI-ResourceConfig), 하나 또는 두 개의 트리거 (Trigger) 상태 (CSI-AperiodicTriggerStateList, CSI-SemiPersistentOnPUSCH-TriggerStateList) 리스트 (List) 정보를 상위 계층 시그널링을 통해 설정 받을 수 있다. 전술한 CSI 측정 및 보고를 위한 설정 정보는 보 다 구체적으로 [표 13] 내지 [표 18]에 기재된 하기와 같을 수 있다. 표 13"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 10, "content": "표 14"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 11, "content": "표 15"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 12, "content": "[표 15-1] CSI-SSB-ResourceSet"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 13, "content": "표 16"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 14, "content": "표 17"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 15, "content": "표 18"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 16, "content": "전술한 CSI 보고 세팅(CSI-ReportConfig)에 대하여, 각 보고 세팅 CSI-ReportConfig은 해당 보고 세팅과 연관 (Association)된 CSI 자원 세팅, CSI-ResourceConfig로 주어지는 상위 계층 파라미터 대역폭 부분 식별자(bwp- id)로 식별되는 하나의 하향링크(downlink, DL) 대역폭부분과 연관될 수 있다. 각 보고 세팅 CSI-ReportConfig 에 대한 시간 도메인 보고 동작으로, '비주기적(Aperiodic)', '반영구적(Semi-Persistent)', '주기적 (Periodic)' 방식을 지원하며, 이는 상위 계층으로부터 설정된 reportConfigType 파라미터에 의해 기지국으로부 터 단말로 설정될 수 있다. 반영구적 CSI 보고 방법은 'PUCCH 기반 반영구적 (semi-PersistentOnPUCCH)', 'PUSCH 기반 반영구적 (semi-PersistentOnPUSCH)'을 지원한다. 주기적 또는 반영구적 CSI 보고 방법의 경우, 단말은 CSI를 전송할 PUCCH 또는 PUSCH 자원을 기지국으로부터 상위 계층 시그널링을 통해 설정 받을 수 있다. CSI를 전송할 PUCCH 또는 PUSCH 자원의 주기와 슬롯 오프셋은 CSI 보고가 전송되도록 설정된 상향링크(uplink, UL) 대역폭부분의 뉴머롤로지(Numerology)로 주어질 수 있다. 비주기적 CSI 보고 방법의 경우, 단말은 CSI를 전 송할 PUSCH 자원을 기지국으로부터 L1 시그널링(전술한 DCI 포맷 0_1)을 통해 스케쥴링 받을 수 있다. 전술한 CSI 자원 세팅(CSI-ResourceConfig)에 대하여, 각 CSI 자원 세팅 CSI-ReportConfig은 S( ) 개의 CSI 자원 세트 (상위 계층 파라미터 csi-RS-ResourceSetList로 주어지는)를 포함할 수 있다. CSI 자원 세트 리스트 는 논-제로 파워 (non-zero power, NZP) CSI-RS 자원 세트와 SS/PBCH 블록 세트로 구성되거나 또는 CSI 간섭 측정 (CSI-interference measurement, CSI-IM) 자원 세트로 구성될 수 있다. 각 CSI 자원 세팅은 상위 계층 파 라미터 bwp-id로 식별되는 하향링크(downlink, DL) 대역폭부분에 위치할 수 있고, CSI 자원 세팅은 동일한 하향 링크 대역폭부분의 CSI 보고 세팅과 연결될 수 있다. CSI 자원 세팅 내의 CSI-RS 자원의 시간 도메인 동작은 상 위 계층 파라미터 resourceType으로부터 '비주기적', '주기적' 또는 '반영구적' 중 하나로 설정될 수 있다. 주 기적 또는 반영구적 CSI 자원 세팅에 대해서, CSI-RS 자원 세트의 수는 S=1로 제한될 수 있고, 설정된 주기와 슬롯 오프셋은 bwp-id로 식별되는 하향링크 대역폭부분의 뉴머롤로지로 주어질 수 있다. 단말은 기지국으로부터 상위 계층 시그널링을 통해 채널 또는 간섭 측정을 위한 하나 또는 하나 이상의 CSI 자원 세팅을 설정받을 수 있고, 예를 들어 하기의 CSI 자원을 포함할 수 있다. 간섭 측정을 위한 CSI-IM 자원 간섭 측정을 위한 NZP CSI-RS 자원 채널 측정을 위한 NZP CSI-RS 자원 상위 계층 파라미터 resourceType이 '비주기', '주기', 또는 '반영구적'으로 설정된 자원 세팅과 연관되어 있는 CSI-RS 자원 세트들에 대하여, reportType이 '비주기'로 설정되어 있는 CSI 보고 세팅에 대한 트리거(Trigger) 상태(State)와 하나 또는 복수 개의 컴포넌트 셀 (Component Cell, CC)에 대한 채널 또는 간섭 측정에 대한 자 원 세팅이 상위 계층 파라미터 CSI-AperiodicTriggerStateList로 설정될 수 있다. 단말의 비주기적 CSI 보고는 PUSCH를 이용할 수 있고, 주기적 CSI 보고는 PUCCH를 이용할 수 있고, 반영구적 CSI 보고는 DCI로 트리거링(triggering) 또는 활성화(Activated)되었을 경우 PUSCH, MAC 제어요소 (MAC control element, MAC CE) 로 활성화(Activated)된 이후에는 PUCCH를 이용하여 수행될 수 있다. 전술한 바와 같이 CSI 자원 세팅 또한 비주기적, 주기적, 반영구적으로 설정될 수 있다. CSI 보고 세팅과 CSI 자원 설정간의 조합은 하기의 [표 19] 에 기반하여 지원될 수 있다. [표 19]는 Triggering/Activation of CSI Reporting for the possible CSI-RS Configuration에 대한 내용을 설명한다. 표 19 CSI-RS Configuration Periodic CSI ReportingSemi-Persistent CSI ReportingAperiodic CSI Reporting Periodic CSI-RS No dynamic triggering/activationFor reporting on PUCCH, the UE receives an activation command [10, TS 38.321]; for reporting on PUSCH, the UE receives triggering on DCITriggered by DCI; additionally, activation command [10, TS 38.321] possible as defined in Subclause 5.2.1.5.1. Semi-Persistent CSI-RSNot Supported For reporting on PUCCH, the UE receives an activation command [10, TS 38.321]; for reporting on PUSCH, the UE receives triggering on DCITriggered by DCI; additionally, activation command [10, TS 38.321] possible as defined in Subclause 5.2.1.5.1. Aperiodic CSI-RS Not Supported Not Supported Triggered by DCI; additionally, activation command [10, TS 38.321] possible as defined in Subclause 5.2.1.5.1. 비주기적 CSI 보고는 PUSCH에 대한 스케쥴링 DCI에 해당하는 전술한 DCI 포맷 0_1의 \"CSI 요청(request)\" 필드 로 트리거 될 수 있다. 단말은 PDCCH을 모니터링 할 수 있고, DCI 포맷 0_1을 획득할 수 있고, PUSCH에 대한 스 케쥴링 정보 및 CSI 요청 지시자를 획득할 수 있다. CSI 요청 지시자는 NTS (=0, 1, 2, 3, 4, 5, 또는 6) 비트 로 설정될 수 있으며, 상위 계층 시그널링(reportTriggerSize)에 의해 결정될 수 있다. 상위 계층 시그널링 (CSI-AperiodicTriggerStateList)으로 설정될 수 있는 하나 또는 복수개의 비주기적 CSI 보고 트리거 상태 중 에서 하나의 트리거 상태가 CSI 요청 지시자에 의해 트리거될 수 있다. CSI 요청 필드의 모든 비트가 0일 경우, 이는 CSI 보고를 요청하지 않는 것을 의미할 수 있다. 만약 설정된 CSI-AperiodicTriggerStateLite 내의 CSI 트리거 상태의 수(M)가 2NTs-1보다 크다면, 선정의되어 있는 매핑 관계에 따라, M개의 CSI 트리거 상태가 2NTs-1로 매핑될 수 있고, 2NTs-1의 트리거 상태 중 하나의 트리거 상태가 CSI 요청 필드로 지시될 수 있다. 만약 설정된 CSI-AperiodicTriggerStateLite 내의 CSI 트리거 상태의 수(M)가 2NTs-1와 작거나 같다면, M개의 CSI 트리거 상태 중 하나가 CSI 요청 필드로 지시될 수 있다. 하기 [표 20]는 CSI 요청 지시자와 해당 지시자로 지시될 수 있는 CSI 트리거 상태 사이의 관계에 대한 일 예를 나타낸다.표 20 CSI request field CSI trigger stateCSI-ReportConfigId CSI-ResourceConfigId 00 no CSI request N/A N/A 01 CSI trigger state#1CSI report#1 CSI resource#1, CSI report#2 CSI resource#2 10 CSI trigger state#2CSI report#3 CSI resource#3 11 CSI trigger state#3CSI report#4 CSI resource#4 CSI 요청 필드로 트리거된 CSI 트리거 상태 내의 CSI 자원에 대하여 단말은 측정을 수행할 수 있고, 이로부터 CSI(전술한 CQI, PMI, CRI, SSBRI, LI, RI, 또는 L1-RSRP 등 중 적어도 하나 이상을 포함함)를 생성할 수 있다. 단말은 획득한 CSI를 해당 DCI 포맷 0_1이 스케쥴링 하는 PUSCH를 이용하여 전송할 수 있다. DCI 포맷 0_1 내의 상향링크 데이터 지시자(UL-SCH indicator)에 해당하는 1비트가 \"1\"을 지시할 경우, DCI 포맷 0_1이 스케쥴링한 PUSCH 자원에 상향링크 데이터(UL-SCH)와 획득한 CSI를 다중화(Multiplexing)하여 전송할 수 있다. DCI 포맷 0_1 내의 상향링크 데이터 지시자(UL-SCH indicator)에 해당하는 1비트가 \"0\"을 지시할 경우, DCI 포 맷 0_1이 스케쥴링한 PUSCH 자원에 상향링크 데이터(UL-SCH)없이 CSI만을 매핑하여 전송할 수 있다. 도 4은 본 개시의 일 실시예에 따른 비주기적 CSI 보고 방법의 일 예를 도시한다. 도 4의 일 예에서 단말은 PDCCH를 모니터링하여 DCI 포맷 0_1을 획득할 수 있으며, 이로부터 PUSCH에 대한 스케쥴링 정보 및 CSI 요청 정보를 획득할 수 있다. 단말은 수신한 CSI 요청 지시자로부터 측정할 CSI-RS에 대한 자원 정보를 획득할 수 있다. 단말은 DCI 포맷 0_1을 수신한 시점과 CSI 자원 세트 설정 (예를 들어 NZP CSI-RS 자원 세트 설정(NZP-CSI-RS-ResourceSet) 내의 오프셋에 대한 파라미터(전술한 aperiodicTriggeringOffset)에 기반하여 어느 시점에서 전송되는 CSI-RS 자원에 대한 측정을 수행해야 하 는지 판단할 수 있다. 보다 구체적으로 설명하면, 단말은 기지국으로부터 상위 계층 시그널링으로 NZP-CSI-RS 자원 세트 설정 내의 파라미터 aperiodicTriggeringOffset의 오프셋 값 X를 설정 받을 수 있고, 설정된 오프셋 값 X는 비주기적 CSI 보고를 트리거 하는 DCI를 수신한 슬롯과 CSI-RS 자원이 전송되는 슬롯 사이의 오프셋을 의미할 수 있다. 예를 들어 aperiodicTriggeringOffset 파라미터 값과 오프셋 값 X는 하기의 [표 21]에 기재된 매핑 관계를 가질 수 있다. 표 21 aperiodicTriggeringOffset Offset X 0 0 slot 1 1 slot 2 2 slots 3 3 slots 4 4 slots 5 16 slots 6 24 slots 도 4의 일 예에서는 전술한 오프셋 값이 X=0으로 설정된 일 예를 보여준다. 이 경우, 단말은 비주기적 CSI 보고를 트리거 하는 DCI 포맷 0_1을 수신한 슬롯(도 4의 슬롯 0에 해당)에서 CSI-RS를 수신할 수 있 고, 수신한 CSI-RS로 측정한 CSI 정보를 PUSCH를 통해 기지국으로 보고할 수 있다. 단말은 DCI 포맷 0_1로 부터 CSI 보고를 위한 PUSCH에 대한 스케쥴링 정보(전술한 DCI 포맷 0_1의 각 필드에 해당하는 정보들)를 획득할 수 있다. 일 예로 단말은 DCI 포맷 0_1은 PUSCH에 대한 전술한 시간 도메인 자원할당 정보부터 PUSCH를 전송할 슬롯에 대한 정보를 획득할 수 있다. 도 4의 일 예에서 단말은 PDCCH-to-PUSCH 대한 슬롯 오프셋 값에 해당하는 K2 값을 3으로 획득하였으며, 이에 따라 PUSCH가 PDCCH를 수신한 시점, 슬롯 0에서 3 슬롯 떨어진 슬롯 3에서 전송될 수 있다. 도 4의 일 예에서 단말은 PDCCH를 모니터링하여 DCI 포맷 0_1을 획득할 수 있으며, 이로부터 PUSCH에 대한 스케쥴링 정보 및 CSI 요청 정보를 획득할 수 있다. 단말은 수신한 CSI 요청 지시자로부터측정할 CSI-RS에 대한 자원 정보를 획득할 수 있다. 도 4의 일 예에서는 전술한 CSI-RS에 대한 오프 셋 값이 X=1으로 설정된 일 예를 보여준다. 이 경우, 단말은 비주기적 CSI 보고를 트리거 하는 DCI 포맷 0_1을 수신한 슬롯(도 4의 슬롯 0에 해당)에서 CSI-RS를 수신할 수 있고, 수신한 CSI-RS로 측정한 CSI 정보 를 PUSCH를 통해 기지국으로 보고할 수 있다. 비주기적 CSI 보고는 CSI part 1 혹은 CSI part 2 중 적어도 하나 혹은 둘 모두를 포함할 수 있으며, 비주기적 CSI 보고가 PUSCH를 통해 전송될 경우, transport block과 multiplexing될 수 있다. Multiplexing을 위해 비주 기적 CSI의 input bit에 CRC 가 삽입된 후, 인코딩, rate matching을 거친 후 PUSCH 내 resource element에 특 정 패턴으로 매핑되어 전송될 수 있다. 상기 CRC 삽입은 코딩 방법 혹은 input bits의 길이에 따라 생략될 수 있다. 비주기적 CSI 보고에 포함되는 CSI Part 1 혹은 CSI part 2의 multiplexing 시 rate matching을 위해 계 산되는 변조 심볼의 개수는 하기 [표 22]과 같이 계산될 수 있다.표 22For CSI part 1 transmission on PUSCH not using repetition type B with UL-SCH, the number of coded modulation symbols per layer for CSI part 1 transmission, denoted as , is determined as follows: [수학식 3] … For CSI part 1 transmission on an actual repetition of a PUSCH with repetition Type B with UL-SCH, the number of coded modulation symbols per layer for CSI part 1 transmission, denoted as , is determined as follows: [수학식 4] … For CSI part 1 transmission on PUSCH without UL-SCH, the number of coded modulation symbols per layer for CSI part 1 transmission, denoted as , is determined as follows: if there is CSI part 2 to be transmitted on the PUSCH, [수학식 5] else end if … For CSI part 2 transmission on PUSCH not using repetition type B with UL-SCH, the number of coded modulation symbols per layer for CSI part 2 transmission, denoted as , is determined as follows: [수학식 6] For CSI part 2 transmission on an actual repetition of a PUSCH with repetition Type B with UL-SCH, the number of coded modulation symbols per layer for CSI part 2 transmission, denoted as , is determined as follows: [수학식 7] … For CSI part 2 transmission on PUSCH without UL-SCH, the number of coded modulation symbols per layer for CSI part 2 transmission, denoted as , is determined as follows: [수학식 8] 특히, PUSCH 반복 전송 방식 A와 B의 경우에는, 단말은 비주기적 CSI 보고를 PUSCH 반복 전송 중 첫 번째 반복 전송에만 multiplexing하여 전송할 수 있다. 이는 multiplexing되는 비주기적 CSI 보고 정보가 polar code 방 식으로 인코딩되는데, 이 때 여러 PUSCH repetition에 multiplexing되려면 각 PUSCH repetition이 같은 주파수 및 시간 자원할당을 가져야 하기 때문이고, 특히 PUSCH repetition type B의 경우 각 actual repetition이 서 로 다른 OFDM 심볼 길이를 가질 수 있으므로, 첫 번째 PUSCH repetition에만 비주기적 CSI 보고가 multiplexing되어 전송될 수 있다. 또한, PUSCH 반복 전송 방식 B에 대해, 단말이 transport block에 대한 스케줄링 없이 비주기적 CSI 보고를 스 케줄하거나 또는 반영구적 CSI 보고를 활성화하는 DCI를 수신하는 경우, 상위 레이어 시그널링으로 설정된 PUSCH 반복 전송 횟수가 1보다 크더라도 nominal repetition의 값을 1로 가정할 수 있다. 또한, 단말이 PUSCH 반복 전송 방식 B를 기반으로 transport block에 대한 스케줄링 없이 비주기적 혹은 반영구적 CSI 보고를 스케 줄 혹은 활성화한 경우, 단말은 첫 번째 nominal repetition이 첫 번째 actual repetition과 같을 것을 기대할 수 있다. DCI로 반영구적 CSI 보고가 활성화된 후 DCI에 대한 스케줄 없이 PUSCH 반복 전송 방식 B를 기반으로 반영구적 CSI를 포함하여 전송되는 PUSCH에 대해, 만약 첫 번째 nominal repetition이 첫 번째 actual repetition과 다르다면, 첫 번째 nominal repetition에 대한 전송은 무시될 수 있다. [PUCCH: UCI on PUSCH] NR 통신 시스템에서는 상향링크 제어 채널이 상향링크 데이터 채널과 겹치고 전송 시간 조건을 만족할 경우 또 는 L1 시그널링 내지 상위 시그널링으로 상향링크 제어 정보를 상향링크 데이터 채널로 전송하는 것을 지시하는 경우, 상향링크 제어 정보가 상향링크 데이터 채널에 포함되어 전송될 수 있다. 이때, 상향링크 데이터 채널에 는 HARQ-ACK, CSI part 1, CSI part 2 총 3개의 상향링크 제어 정보가 전송될 수 있으며, 각각의 상향링크 제 어 정보는 미리 정해진 multiplexing 규칙에 의해 PUSCH에 매핑 될 수 있다. 보다 구체적으로, 첫번째 단계에서 PUSCH에 포함해야 하는 HARQ-ACK 정보 비트 수가 2비트 이하 일 경우, 단말 은 HARQ-ACK을 전송할 RE를 미리 reserve 한다. 이때, reserve하는 리소스를 결정하는 방법은 두번째 단계와 동 일하다. 단, HARQ-ACK 비트의 개수가 2라고 가정하고 reserve하는 RE의 개수와 위치를 결정한다. 즉 하기 수학 식 9에서 Oack = 2 를 기반으로 계산한다. 두번째 단계에서 만약 단말이 전송할 HARQ-ACK 정보 비트 수가 2비트 보다 많을 경우, 단말은 첫번째 DMRS 심볼 이후 DMRS를 포함하지 않는 첫번째 OFDM 심볼부터 HARQ-ACK을 매핑할 수 있다. 세번째 단계에서, 단말은 CSI part1을 PUSCH에 매핑할 수 있다. 이때, CSI part1은 DMRS가 아닌 첫번 째 OFDM 심볼부터 매핑이 될 수 있으며, 첫번째 단계에서 reserve한 RE와 두번째 단계에서 HARQ-ACK을 매핑한 RE에는 매핑되지 않을 수 있다. 네번째 단계에서, 단말은 CSI part2를 PUSCH에 매핑할 수 있다. 이때, CSI part2는 DMRS가 아닌 첫번째 OFDM 심볼부터 매핑 될 수 있으며, CSI part1이 위치한 RE와 두번째 단계에서 RE에 매핑시킨 HARQ-ACK이 위치한 RE에 는 매핑되지 않을 수 있다. 그러나 첫번째 단계에서 reserve한 RE에는 매핑될 수 있다. UL-SCH가 존재할 경우 단말은 UL-SCH를 PUSCH에 매핑할 수 있다. 이때, UL-SCH는 DMRS가 아닌 첫번째 OFDM 심볼부터 매핑 될 수 있으 며, CSI part1이 위치한 RE와 두번째 단계에서 RE에 매핑시킨 HARQ-ACK이 위치한 RE와 CSI part2가 위치한 RE 에는 매핑되지 않을 수 있다. 그러나 첫번째 단계에서 reserve한 RE에는 매핑될 수 있다. 다섯번째 단계에서, 단말은 만약 HARQ-ACK이 2비트보다 작을 경우, 첫번째 단계에서 reserve해 놓은 RE에 HARQ- ACK을 펑처링하여 매핑할 수 있다. 상기 HARQ-ACK이 매핑되는 RE의 개수는 실제 HARQ-ACK의 개수를 기반으로 계 산한다. 즉 상기 단계1의 reserved RE 개수 보다 실게 HARQ-ACK이 매핑되는 RE의 개수가 적을 수 있다. 상기 펑 처링의 의미는 HARQ-ACK이 매핑되어야 할 RE가 단계 4에서 CSI part2 또는 UL-SCH가 되었더라도 기 매핑된 CSI part2 또는 UL-SCH 대신 ACK을 매핑함을 의미한다. CSI part1은 상기 reserved RE에 매핑되지 않음으로써 HARQ-ACK에 의한 펑처링이 발생하지 않도록 한다. 이는 CSI part1은 CSI part2에 비해 우선 순위가 높고 디코딩 이 더 잘 되도록 하고자 함을 의미한다. 그리고 만약 PUSCH에 매핑할 상향링크 제어 정보의 비트 수(또는 변조 된 심볼 수)가 매핑될 해당 OFDM 심볼 내에 상향링크 제어 정보 매핑이 가능한 비트 수(또는 RE)보다 많을 경우, 매핑 될 상향링크 제어 정보의 변조된 심볼 간 주파수축 RE 간격 d는 d=1로 설정될 수 있다. 만약, 단말 이 PUSCH에 매핑할 상향링크 제어 정보의 비트 수(또는 변조된 심볼 수)가 매핑될 해당 OFDM 심볼 내에 상향링 크 제어 정보 매핑이 가능한 비트 수(또는 RE0보다 작을 경우, 매핑 될 상향링크 제어 정보의 변조된 심볼 간주파수축 RE 간격 d는 d = floor(# of available bits on l-OFDM symbol / # of unmapped UCI bits at the beginning of l-OFDM symbol)로 설정될 수 있다. 도 5은 본 개시의 일 실시예에 따른 상향링크 제어 정보가 PUSCH에 매핑되는 일 예를 도시한다. 도 5에서 PUSCH 에 매핑할 HARQ-ACK 심볼 수를 5개로 가정하고, 하나의 리소스 블록을 설정 또는 스케줄링 받은 PUSCH를 가정한 다. 먼저, 단말은 도 5-(a)와 같이 5심볼의 HARQ-ACK을 주파수 축에서 d=floor(12/5)=2의 RE 간격으로 첫번째 DMRS 이후의 DMRS를 포함하지 않는 첫번째 OFDM 심볼의 가장 낮은 RE 인덱스(또는 가장 높은 RE 인덱스)부 터 HARQ-ACK을 매핑시킬 수 있다. 다음으로, 단말은 도 5-(b)와 같이 DMRS가 아닌 첫번째 OFDM 심볼(50 5)부터 CSI-part1을 매핑시킬 수 있다. 마지막으로, 단말은 도 5-(c)와 같이 DMRS를 포함하지 않는 첫번째 OFDM 심볼부터 CSI-part1과 HARQ-ACK이 매핑되지 않은 RE에 대해서 CSI part 2를 매핑시킬 수 있다. 한편, HARQ-ACK이 PUSCH(또는 CG-PUSCH)에 전송될 때, 부호화된 모듈레이션 심볼의 수는 다음과 같은 [수학식 9]로 결정될 수 있다. [수학식 9]"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 17, "content": "여기서 는 각각 HARQ-ACK의 페이로드의 비트 수를 나타내고, 은 각각 CRC 비트 수를 의미한다. 보다 구 체적으로는 , 그외에는 , 이다. Kr은 UL-SCH의 r 번째 코드 블록 사이즈이며, 는 기지국으로 설정 또는 스케줄링 받은 PUSCH 중 UCI 전송에 이용될 수 있는 OFDM 심볼 당 서브케리어 수를 나타낸다. 또한, 와 는 기지국 으로 설정받은 값으로 상위 시그널링 또는 L1 시그널링으로 결정된다. 보다 구체적으로, , 즉 베타 오프셋 값은 HARQ-ACK 정보가 다른 UCI 정보와 함께 multiplexing 되어 PUSCH(또는 CG-PUSCH)에 전송될 때, 리소스의 수를 결정하기 위해 정의된 값이다. 만약, fallback DCI(또는 DCI format 0_0) 또는 beta_offset 지시자 필드 를 가지지 않는 non-fallback DCI(또는 DCI format 0_1)가 PUSCH 전송을 지시하고 단말이 상위 설정으로 베타 오프셋 값 설정을 'semi-static'으로 설정할 경우, 단말은 상위 설정으로 설정받은 하나의 베타 오프셋 값을 가 질 수 있다. 이때, 베타 오프셋 [표 23]과 같은 테이블로 값을 가지며, 상위 설정으로 해당하는 값의 인덱스를 지시할 수 있며, HARQ-ACK 정보의 비트 수에 따라 인덱스 , , 는 각각 HARQ-ACK 정보 비트 수가 2 이하, 2보다 크고 11이하, 11보다 큰 경우에 대한 베타 오프셋 값을 가질 수 있다. 또한, 동일한 방법으로 CSI-part1과 CSI-part2를 위한 베타 오프셋 값을 설정하는 것도 가능하다. 상기 베타 오프셋 값에 의 하여 UL-SCH의 effective code rate 대비 UCI의 code rate을 조절하는 효과가 있다. 즉 베타 오프셋 값이 2일 경우 (index=1) UCI의 code rate은 UL-SCH의 effective code rate 보다 1/2 로 더 낮은 부호율로 전송하도록 설정할 수 있다. 표 23 or or"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 18, "content": "0 1.000 1 2.000 2 2.500 3 3.125 4 4.000 5 5.000 6 6.250 7 8.000 8 10.000 9 12.62510 15.875 11 20.000 12 31.000 13 50.000 14 80.000 15 126.000 16 Reserved 17 Reserved 18 Reserved 19 Reserved 20 Reserved 21 Reserved 22 Reserved 23 Reserved 24 Reserved 25 Reserved 26 Reserved 27 Reserved 28 Reserved 29 Reserved 30 Reserved 31 Reserved 만약, 기지국이 non-fallback DCI (또는 DCI format 0_1)을 이용하여 단말에게 PUSCH 전송을 스케줄링하고 non-fallback DCI가 베타 오프셋 지시자 필드를 가질 경우, 즉, 상위 설정으로 베타 오프셋 값 설정을 'dynamic'으로 할 경우, 기지국은 HARQ-ACK의 경우, [표 24]과 같이 또는 또는 을 가 지는 4개의 세트에 대한 베타 오프셋 값들을 구성하여 단말에게 설정할 있고, 단말은 HARQ-ACK multiplexing 때 이용할 베타 오프셋 값을 베타 오프셋 지시자 필드를 이용하여 지시할 수 있으며, 각 인덱스는 전술한 방법과 마찬가지로 HARQ-ACK 정보 비트 수에 따라 결정된다. 동일한 방법으로 , 의 세트를 지시할 수도 있다. 표 24 beta_offset indicator( or or ), ( or ), ( or ) '00'1st offset index provided by higher layers '01'2nd offset index provided by higher layers '10'3rd offset index provided by higher layers '11'4th offset index provided by higher layers For HARQ-ACK transmission on an actual repetition of a PUSCH with repetition Type B with UL-SCH, the number of coded modulation symbols per layer for HARQ-ACK transmission, denoted as , is determined as follows: [수학식 9-A]"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 19, "content": "where - is the number of resource elements that can be used for transmission of UCI in OFDM symbol , for , in the PUSCH transmission assuming a nominal repetition without segmentation, and is the total number of OFDM symbols in a nominal repetition of the PUSCH, including all OFDM symbols used for DMRS; - for any OFDM symbol that carries DMRS of the PUSCH assuming a nominal repetition without segmentation, ; - for any OFDM symbol that does not carry DMRS of the PUSCH assuming a nominal repetition without segmentation, where is the number of subcarriers in OFDM symbol that carries PTRS, in the PUSCH transmission assuming a nominal repetition without segmentation; - is the number of resource elements that can be used for transmission of UCI in OFDM symbol , for , in the actual repetition of the PUSCH transmission, and is the total number of OFDM symbols in the actual repetition of the PUSCH transmission, including all OFDM symbols used for DMRS; - for any OFDM symbol that carries DMRS of the actual repetition of the PUSCH transmission, ; - for any OFDM symbol that does not carry DMRS of the actual repetition of the PUSCH transmission, where is the number of subcarriers in OFDM symbol that carries PTRS, in the actual repetition of the PUSCH transmission; - and all the other notations in the formula are defined the same as for PUSCH not using repetition type B. 한편 HARQ-ACK이 PUSCH(또는 CG-PUSCH)에 전송될 때, UL-SCH가 존재하지 않을 경우 부호화된 모듈레이션 심볼의 수는 다음과 같은 [수학식 9-B]로 결정될 수 있다. [수학식 9-B]"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 20, "content": "상기 R은 PUSCH의 code rate으로 기지국으로 설정받은 값으로 상위 시그널링 또는 L1 시그널링으로 결정된다. 또한 Qm은 PUSCH의 변조 방식의 차수를 의미한다. 상기 수학식 9와 수학식 9-A에서 결정된 을 기반으로 ACK의 부호어 비트의 개수 를 구 할 수 있다. 도 6은 본 개시의 일 실시예에 따른 단말과 기지국 사이의 UCI 정보를 PUSCH로 송수신하는 처리 절차를 도시한 다. 도 6의 절차에 따라, 단말은 동작 600에서 UCI 정보를 생성한다. 동작 602에서 단말은 UCI 정보 크기를 판 단하여 11 비트 이하일 경우, CRC를 포함하지 않고, 12비트 보다 클 경우는 UCI 정보 크기에 따라 코드 블록 분 할(segmentation)을 추가적으로 수행하거나 또는 CRC를 포함한다. 동작 604에서 단말은 상기 UCI 정보 크기가 11 비트 이하일 경우, channel coding of small block lengths을 수행하고, 12비트 보다 클 경우, 폴라코딩을 수행한다. 동작 606에서 단말은 UCI 정보 유형에 따라 [수학식 3] 내지 [수학식 9]에 따라 레이트 매칭을 수행 하여, 부호화된 모듈레이션 심볼의 수를 계산한다. 동작 608에서 코드 블록을 결합하고, 동작 610에서 PUSCH에부호화된 UCI 비트 정보를 다중화한다. 단말이 변조된 PUSCH를 기지국으로 송신한 이후, 기지국은 동작 612에서 해당 PUSCH를 복조하고, PUSCH에서 부호화된 UCI 비트들을 역다중화(Demultiplexing)를 수행한다. 기지국은 동 작 614에서는 수신된 정보를 코드 블록 단위로 분할하고, 동작 616에서 레이트 디매칭을 수행한다. 동작 618에 서는 UCI 정보 크기에 따라 부호화된 채널 코딩 방식으로 디코딩을 수행한다. 기지국은 동작 620에서 디코딩된 코드 블록을 결합하고, UCI 정보를 획득한다. 이런 일련의 절차를 통해 UCI 정보가 PUSCH에 포함되어 송수신된 다. 도 6에서 상술한 흐름도는 예시일 뿐, 동작 600 내지 622 중 적어도 하나의 블록이 특정 조건 하에서 생략 되는 것이 가능할 수 있다. 또한, 도 6에서 상술한 흐름도에 포함된 동작 600 내지 622 이외의 다른 블록이 추 가되어 동작하는 것이 충분히 가능할 수 있다. 다음은 상향링크 데이터와 제어 정보가 다중화되는 절차에 대해서 다음 [표 25]에서 설명한다. 표 25 Step 1: PUSCH에 송신될 HARQ-ACK 정보가 0 또는 1 또는 2 비트일 경우, 잠재적인 HARQ-ACK 전송을 위한 예약 자원들을 결정한다. 상기 예약 자원들은 PUSCH가 할당된 자원 중 첫번째 DMRS가 존재하는 심볼 직후 첫번째 심볼부터 주파수 우선 방식으로 결정한다. 주파수 우선 방식의 의미는 심볼 별로 주파수 자원에 대해서 순차적으로 매핑한 이후, 다음 심볼로 이동하여 매핑을 수행하는 방식을 통칭한다. 이때 예약 자원의 양은 HARQ-ACK 정보가 2비트인 경우를 가정하고 계산한다. PUSCH 호핑 여부에 따라, 예약 자원을 사용하여 잠재적인 HARQ-ACK 전송을 위한 부호화된 비트들을 홉 (hop) 별로 구분할지 여부를 결정한다. Step 2: PUSCH에 송신될 HARQ-ACK 정보가 2 비트보다 클 경우, 레이트 매칭을 수행한다. 즉, HARQ-ACK 정보의 부호화된 비트들을 PUSCH가 할당된 자원 중 첫번째 DMRS가 존재하는 심볼 직후 첫번째 심볼부터 주파 수 우선 방식으로 매핑을 수행한다. Step 2A: PUSCH에 송신될 CG-UCI 정보가 존재할 경우, 레이트 매칭을 수행한다. 즉, CG-UCI 정보의 부호화된 비 트들은 PUSCH가 할당된 자원 중 첫번째 DMRS가 존재하는 심볼 직후 첫번째 심볼부터 주파수 우선 매핑 을 수행한다. Step 3: PUSCH에 송신될 CSI part1 정보가 존재할 경우, 레이트 매칭을 수행한다. CSI part 1는 PUSCH가 할당 된 자원에서 첫번째 심볼부터 DMRS와 Step1 또는 Step 2 또는 2A에서 할당된 HARQ-ACK reserved 또는 HARQ-ACK 또는 CG-UCI가 할당된 자원을 제외한 직후 주파수 우선 매핑을 수행한다. 이후, CSI part 2 는 PUSCH가 할당된 자원에서 첫번째 심볼부터 DMRS와 Step 2 또는 2A에서 할당된 HARQ-ACK 또는 CG- UCI 또는 CSI part 1이 할당된 자원들을 제외하고 주파수 우선 매핑을 수행한다. CSI part2는 상기 step1에서 할당한 reserved RE 에는 할당할 수 있다. Step 4: 데이터 정보(UL-SCH) 레이트 매칭을 수행한다. UL-SCH는 상기 Step 2내지 3에서 매핑된 UCI 정보들이 매핑된 자원들을 제외하고 PUSCH가 할당된 자원에 주파수 우선 매핑을 수행한다. UL-SCH 는 상기 step1에서 할당한 reserved RE 에는 할당할 수 있다. Step 5: PUSCH에 송신될 HARQ-ACK 정보가 2비트 보다 크지 않을 경우, Step 1에서 예약된 자원에 매핑을 수행 한다. 이때 예약된 자원양은 HARQ-ACK을 2비트로 가정하고 계산했기 때문에 실제 매핑되는 자원은 상 기 reserved RE개수 보다 적을 수 있다. 상기 자원에 step 2 내지 4에서 기매핑된 UCI 자원 또는 UL- SCH가 있을 경우, 해당 정보를 펑쳐링하고, 상기 HARQ-ACK 정보를 매핑한다. 상기 step 들에 대해서 PUSCH에 매핑할 상향링크 제어 정보의 비트 수(또는 변조된 심볼 수)가 매핑될 해당 OFDM 심볼 내에 상향링크 제어 정보 매핑이 가능한 비트 수(또는 RE)보다 많을 경우, 매핑 될 상 향링크 제어 정보의 변조된 심볼 간 주파수축 RE 간격 d는 d=1로 설정될 수 있다. 만약, 단말이 PUSCH 에 매핑할 상향링크 제어 정보의 비트 수(또는 변조된 심볼 수)가 매핑될 해당 OFDM 심볼 내에 상향링 크 제어 정보 매핑이 가능한 비트 수(또는 RE0보다 작을 경우, 매핑 될 상향링크 제어 정보의 변조된 심볼 간 주파수축 RE 간격 d는 d = floor(# of available bits on l-OFDM symbol / # of unmapped UCI bits at the beginning of l-OFDM symbol)로 설정될 수 있다. [PUCCH/PUSCH: Priority level] 하기에서는 PUCCH와 PUSCH의 우선 순위 정보에 따른 단말의 전송 방식에 대해서 서술한다. 하나의 단말이 eMBB와 URLLC를 동시 지원하는 경우, eMBB 용의 데이터 또는 제어 정보를 PUSCH 또는 PUCCH로 송 신하고, URLLC 용의 데이터 또는 제어 정보를 PUSCH 또는 PUCCH로 송신하는 것이 가능할 수 있다. 상기 두 서비 스들의 요구조건이 다르고 일반적으로 URLLC 서비스가 eMBB보다 우선하기 때문에 eMBB가 할당된 채널 중 적어도 하나의 심볼이 URLLC가 할당된 채널과 중첩되는 경우, URLLC 또는 eMBB 채널 중 적어도 단말은 하나를 선택하여 송신하는 것이 가능할 수 있다. 구체적으로, 상기 우선 순위 정보는 상위 신호 또는 L1 신호에 의해 지시될 수 있고, 우선 순위 정보 값은 0 또는 1이 될 수 있다. 0으로 지시된 PUCCH 또는 PUSCH는 eMBB 용으로 간주될 수 있고, 1로 지시된 PUCCH 또는 PUSCH는 URLLC 용으로 간주될 수 있다. PUSCH의 경우, DCI 내의 우선 순위 정보를 지시할 수 있는 필드가 있을 경우, 해당 필드가 지시하는 값에 의해 PUSCH의 우선 순위가 결정된다. DCI로 스케쥴링된 PUSCH라도, 해당 DCI 내의 우선 순위를 지시할 수 있는 필드 가 없는 경우, 단말은 해당 PUSCH는 0의 우선 순위 값을 가진 것으로 간주한다. 상기 PUSCH는 Aperiodic CSI 또 는 Semi-persistent CSI를 포함하거나 또는 포함하지 않은 경우 모두 적용 가능하다. DCI 없이 주기적으로 송수 신되는 configured grant PUSCH인 경우, 상위 신호에 의해 우선 순위가 결정될 수 있다. PUCCH의 경우, SR 정보를 송수신하는 PUCCH와 SPS PDSCH에 대한 HARQ-ACK 정보가 포함된 PUCCH는 상위 신호에 의해 우선 순위가 결정될 수 있다. DCI에 의해 스케쥴링된 PDSCH에 대한 HARQ-ACK 정보가 포함된 PUCCH는 해당 DCI내의 우선 순위 필드가 있을 경우, 해당 필드에 의해 지시된 우선 순위 값이 적용되며, 만약 해당 필드가 없 을 경우, 0의 우선 순위 값을 가진 것으로 간주한다. 이외에 Semi-persistent CSI 또는 periodic CSI가 포함된 PUCCH는 항상 0의 우선 순위 값을 가진 것으로 간주한다. 단말은 상위 신호 또는 DCI와 같은 L1 신호에 의해 지시된 PUCCH 또는 PUSCH의 자원들이 중첩되고, 적어도 일부 PUCCH 또는 PUSCH들이 우선 순위 정보가 서로 다를 경우, 단말은 먼저 우선 순위 정보 값이 0인 PUCCH 또는 PUSCH에 대한 중첩 여부를 해결한다. 일례로, PUCCH 내의 포함된 UCI 정보를 PUSCH에 포함하는 일련의 과정을 포함할 수 있다. 이후, 상기 중첩된 우선 순위가 낮은 PUCCH 또는 PUSCH를 통해 최종 결정된 PUCCH 또는 PUSCH 의 자원을 제2 PUCCH 또는 제2 PUSCH라고 하고, 우선 순위가 높은 PUCCH 또는 PUSCH는 제1 PUCCH 또는 제2 PUSCH라고 할 때, 단말은 제2 PUCCH 또는 제2 PUSCH가 시간 자원 관점에서 제1 PUCCH 또는 제1 PUSCH와 중첩될 경우, 단말은 제2 PUCCH와 제2 PUSCH의 전송을 취소한다. 단말은 제1 PUCCH 또는 제1 PUSCH의 전송이 적어도 해 당 전송을 스케쥴링한 DCI가 포함된 PDCCH 수신의 마지막 심볼 이후, Tproc,2+d1 이후에서 시작되는 것을 기대한 다. 그렇지 않은 경우, 단말은 에러 케이스로 간주한다. 상기 Tproc,2+d1의 값은 [수학식 2]에서 제시된 값을 사용 할 수 있다. 위 설명에 따르면, eMBB 데이터가 포함된 PDSCH에 대한 HARQ-ACK 정보가 포함된 PUCCH는 우선 순위가 낮은 0의 값을 가질 것이고, URLLC 데이터가 포함된 PDSCH에 대한 HARQ-ACK 정보가 포함된 PUCCH는 우선 순위가 높은 1의 값을 가질 것이다. 따라서, 우선 순위 0의 값을 가진 PUCCH와 우선 순위 1의 값을 가진 PUCCH가 시간 자원 관점 에서 중첩된 경우, 단말은 우선 순위 0의 값을 가진 PUCCH는 드랍할 것이고, 우선 순위 1의 값을 가진 PUCCH는 송신할 것이다. 따라서, 기지국 관점에서는 eMBB 데이터가 포함된 PDSCH에 대한 HARQ-ACK 정보를 수신하지 못했 기 때문에 해당 eMBB 데이터를 단말이 제대로 수신했는지 여부를 알 수 없으므로, 다시 재전송을 할 수 밖에 없 다. 따라서, eMBB 데이터 송수신 효율이 열화될 가능성이 존재한다. 설명의 편의상 eMBB 데이터가 포함된 PDSCH에 대한 HARQ-ACK 정보를 LP(Low Priority) HARQ-ACK라고 하고, URLLC 데이터가 포함된 PDSCH에 대한 HARQ-ACK 정보를 HP(High Priority) HARQ-ACK라고 한다. LP(Low Priority) HARQ-ACK는 0의 우선 순위 값을 가진 HARQ-ACK 정보를 지칭할 수 있고, HP(High Priority) HARQ-ACK 는 1의 우선 순위 값을 가진 HARQ-ACK 정보를 지칭할 수 있다. 상기 eMBB 데이터 송수신 효율 열화를 막기 위한 가능한 방법은 하나의 PUCCH 또는 PUSCH 채널에 HP HARQ-ACK와 LP HARQ-ACK를 동시에 다중화하는 방법이 가능할 것이다. 따라서, HP HARQ-ACK과 LP HARQ-ACK이 PUCCH 또는 PUSCH에 다중화될 경우, 기존에 CSI part 1, CSI part 2와 함께 다중화될 가능성이 존재한다. 만약, 기지국 또 는 단말이 최대 3개의 UCI 정보들만 다중화하여 PUCCH 또는 PUSCH에 다중화하는 것이 가능할 경우, 이를 위해 4 개의 정보 중 어떤 정보를 드랍하고, 나머지를 선택할지에 대한 방법이 필요할 수 있다. 이후, 실시 예에서는 HP HARQ-ACK와 LP HARQ-ACK가 존재하는 환경에서 UCI 정보를 PUSCH에 다중화 하는 방법에 대해서 기술한다. 또한, HP HARQ-ACK과 LP HARQ-ACK은 같은 HARQ-ACK 정보일지라도 서로 다른 요구 사항을 가지 고 있기 때문에 HP HARQ-ACK이 LP HARQ-ACK보다 좀 더 신뢰있게 전송할 필요성이 존재할 수 있고, 이에 따라, 서로 다른 인코딩, 레이트 매칭 방식을 적용할 수 있다. 일례로, [수학식 9]에서 HP HARQ-ACK과 LP HARQ-ACK에 대한 부호화된 모듈레이션 심볼 수 결정 시, 적어도 또는 값이 다른 값이 적용될 수 있다. 또한, HPHARQ-ACK과 LP HARQ-ACK이 하나의 PUSCH에 다중화될 경우, HP HARQ-ACK은 [수학식 9]를 적용하는 반면에, LP HARQ-ACK이 PUSCH(또는 CG-PUSCH)에 전송될 때, 부호화된 모듈레이션 심볼의 수( )는 다음 [수학식 10]로 결정될 수 있다. [수학식 10]"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 21, "content": "For HARQ-ACK LP transmission on an actual repetition of a PUSCH with repetition Type B with UL-SCH, the number of coded modulation symbols per layer for HARQ-ACK LP transmission, denoted as , is determined as follows:"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 22, "content": "또한, UL-SCH가 없고 CSI part1이 있을 경우 부호화된 모듈레이션 심볼의 수( )는 다음 [수학식 10-B]로 결정될 수 있다. [수학식 10-B]"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 23, "content": "또한, UL-SCH가 없고 CSI part1이 있을 경우 부호화된 모듈레이션 심볼의 수( )는 다음 [수학식 10-B]로 결정될 수 있다. [수학식 10-C]"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 24, "content": "상기 은 상기 수학식 9 또는 수학식 9-A 또는 수학식 9-B를 기반으로 결정된 값으로 HARQ_ACK 또는 CG-UCI 또는 HARQ_ACK/CG-UCI를 전송하기 위한 layer당 coded modulation symbols의 개수를 의미한다. (the number of coded modulation symbols per layer) [PUCCH: Type 1 HARQ-ACK codebook] 하기에서는 semi-static HARQ-ACK 코드북 (또는 Type-1 HARQ-ACK 코드북)에 대한 설명이다. 도 7은 본 개시의 일 실시예에 따른 NR 시스템에서 semi-static HARQ-ACK 코드북 (또는 Type-1 HARQ-ACK 코드 북) 설정 방법을 나타낸 도면이다. 한 슬롯 내에서 단말이 전송할 수 있는 HARQ-ACK PUCCH가 하나로 제한되는 상황에서, 단말은 semi-static HARQ- ACK codebook 상위 신호 설정을 수신하면, 단말은 DCI format 1_x 안에 PDSCH-to-HARQ_feedback timing indicator의 값에 의해 지시되는 슬롯에서 HARQ-ACK 코드북 내에 PDSCH 수신 혹은 SPS PDSCH release에 대한 HARQ-ACK 정보를 보고한다. 단말은 DCI format 1_x 내의 PDSCH-to-HARQ_feedback timing indicator 필드에 의 해 지시되지 않은 슬롯에서 HARQ-ACK 코드북 내에 HARQ-ACK 정보 비트 값을 NACK으로 보고한다. 만약, 단말이 후보 PDSCH 수신을 위한 MA,c 경우들에서 하나의 SPS PDSCH release 혹은 하나의 PDSCH 수신에 대한 HARQ-ACK 정보만 보고를 하고, 그 보고는 Pcell에서 counter DACI 필드가 1을 지시하는 정보를 포함한 DCI format 1_0에 의해 스케줄링 된 경우, 단말은 해당 SPS PDSCH release 혹은 해당 PDSCH 수신에 대한 하나의 HARQ-ACK 코드북 을 결정한다. 그 이외는 하기 상술된 방법에 따른 HARQ-ACK 코드북 결정 방법을 따른다. 서빙셀 c에서 PDSCH 수신 후보 경우의 집합을 MA,c라고 하면 하기와 같은 [pseudo-code 1] 단계들로 MA,c를 구 할 수 있다. [pseudo-code 1 시작] 단계 1: j를 0으로, MA,c를 공집합으로 초기화. HARQ-ACK 전송 타이밍 인덱스인 k를 0으로 초기화. 단계 2: R을 PDSCH가 매핑되는 슬롯 정보, 시작 심볼 정보, 심볼 수 혹은 길이 정보 포함하는 표에서 각 행들의 집합으로 설정. 상위에서 설정된 DL 및 UL 설정에 따라서 R의 각 값이 가리키는 PDSCH 가능한 매핑 심볼이 UL 심볼로 설정되었다면 해당 행을 R에서 삭제. 단계 3-1: 단말이 한 슬롯에 하나의 unicast용 PDSCH를 수신 받을 수 있고, R이 공집합이 아니면 집합 MA,c에 1 개 추가. 단계 3-2: 단말이 한 슬롯에 하나보다 많은 unicast용 PDSCH를 수신 받을 수 있다면, 상기 계산된 R에서 서로 다른 심볼에 할당 가능한 PDSCH 수를 카운트하여 해당 개수 만큼을 MA,c에 추가. 단계 4: k를 1 증가시켜 단계 2부터 다시 시작. [pseudo-code 1 끝] 상술된 psudo-code 1을 도 7을 예시로 들면, slot#k에서 HARQ-ACK PUCCH 전송을 수행하기 위해, slot#k을 지시할 수 있는 PDSCH-to-HARQ-ACK timing이 가능한 슬롯 후보들을 모두 고려한다. 도 7에서는 slot#n, slot#n+1 그리고 slot#n+2에서 스케줄링된 PDSCH들만 가능한 PDSCH-to-HARQ-ACK timing 조합에 의해 slot#k에서 HARQ-ACK 전송이 가능함을 가정한다. 그리고 슬롯(702, 704, 706)에서 각 각 스케줄링 가능한 PDSCH의 시간 영역 자원 설정 정보 및 슬롯 내의 심볼이 하향링크인지 상향링크 인지를 알 려주는 정보를 고려하여 슬롯 별로 최대 스케줄링 가능한 PDSCH 개수를 도출한다. 예를 들어, slot#n에서 는 PDSCH 2개, slot#n+1에서는 PDSCH 3개, slot#n+2에서는 PDSCH 2개가 각각 최대 스케줄링이 가능 하다고 할 때, slot#k에서 전송된 HARQ-ACK 코드북이 포함하는 최대 PDSCH 개수는 총 7개이다. 이를 HARQ-ACK 코드북의 cardinality라고 한다. [PUCCH: Type 2 HARQ-ACK codebook] 하기에서는 dynamic HARQ-ACK 코드북 (또는 Type-2 HARQ-ACK 코드북)에 대해서 설명한다. 도 8은 본 개시의 일 실시예에 따른 NR 시스템에서 dynamic HARQ-ACK 코드북 (또는 Type-2 HARQ-ACK 코드북) 설정 방법을 나타낸 도 면이다. 단말은 PDSCH 수신 혹은 SPS PDSCH release에 대한 슬롯 n에서 HARQ-ACK 정보의 PUCCH 전송을 위한 PDSCH-to- HARQ_feedback timing 값과 DCI format 1_x에서 스케줄링하는 PDSCH의 전송 슬롯 위치 정보인 K0를 기반으로 해당 슬롯 n 에서 한 PUCCH 내에 전송되는 HARQ-ACK 정보 전송한다. 구체적으로 상술된 HARQ-ACK 정보 전송을 위해 단말은 PDSCH 혹은 SPS PDSCH release를 지시하는 DCI에 포함된 DAI를 기반으로 PDSCH-to-HARQ_feedback timing 및 K0에 의해 결정된 슬롯에서 전송된 PUCCH의 HARQ-ACK 코드북을 결정한다. 상기 DAI는 Counter DAI와 Total DAI로 구성된다. Counter DAI는 DCI format 1_x에서 스케줄링된 PDSCH에 대응 되는 HARQ-ACK 정보가 HARQ-ACK 코드북 내의 위치를 알려주는 정보이다. 구체적으로 DCI format 1_x 내의 counter DAI의 값은 특정 셀 c에서 DCI format 1_x에 의해 스케줄링된 PDSCH 수신 혹은 SPS PDSCH release의 누적 값을 알려준다. 상술된 누적 값은 상기 스케줄링된 DCI가 존재하는 PDCCH monitoring occasion 및 서빙 셀 을 기준으로 값이 설정된다. Total DAI는 HARQ-ACK 코드북 크기를 알려주는 값이다. 구체적으로 Total DAI의 값은 DCI가 스케줄링된 시점을 포함한 이전에 스케줄링된 PDSCH 혹은 SPS PDSCH release의 총 수를 의미한다. 그리고 Total DAI는 CA(Carrier Aggregation) 상황에서 서빙 셀 c에서 HARQ-ACK 정보가 서빙 셀 c를 포함한 다른 셀에서 스케줄링된 PDSCH에 대 한 HARQ-ACK 정보도 포함할 경우 사용되는 파라미터이다. 다시 말하면, 하나의 셀로 동작하는 시스템에서 Total DAI 파라미터는 없다. 상기 DAI에 대한 동작 예시가 도 8에 있다. 도 8에서 단말은 2개의 캐리어(Carrier)를 설정 받은 상황에서 캐리어 0의 n번째 슬롯에서 DAI를 기반으로 선택된 HARQ-ACK 코드북을 PUCCH에 전송할 때, 각 캐리어 별로 설정된 PDCCH monitoring occasion 별로 탐색된 DCI가 지시하는 Counter DAI (C-DAI)와 Total DAI(T-DAI)의 값의 변화를 보여준다. 먼저, m=0에서 탐색된 DCI는 C-DAI와 T-DAI가 각각 1의 값을 지시한다. m=1에서 탐색된 DCI는 C-DAI와 T-DAI가 각 각 2의 값을 지시한다. m=2의 캐리어 0(c=0, 802)에서 탐색된 DCI는 C-DAI가 3의 값을 지시한 다. m=2의 캐리어 1(c=1, 804)에서 탐색된 DCI는 C-DAI가 4의 값을 지시한다. 이 때, 캐리어 0과 1 이 같은 monitoring occasion에서 스케줄링 된 경우, T-DAI는 모두 4로 지시된다. 도 7과 도 8에서 HARQ-ACK 코드북 결정은 HARQ-ACK 정보가 담긴 PUCCH가 하나의 슬롯 내에서는 하나만 전송된다 는 상황에서 동작을 하는 것이다. 이를 모드 1이라고 한다. 하나의 PUCCH 전송 자원이 한 슬롯 내에서 결정되는 방법의 일례로써 서로 다른 DCI에서 스케줄링된 PDSCH들이 같은 슬롯 내에서 하나의 HARQ-ACK 코드북으로 다중 화되어 전송될 때, HARQ-ACK 전송을 위해 선택된 PUCCH 자원은 마지막으로 PDSCH를 스케줄링한 DCI에서 지시된 PUCCH resource 필드에 의해 지시된 PUCCH 자원으로 결정된다. 즉, 상기 DCI 이전에 스케줄링된 DCI에서 지시된 PUCCH resource 필드에 의해 지시된 PUCCH 자원은 무시된다. 하기 후술되는 설명은 HARQ-ACK 정보가 담긴 PUCCH가 하나의 슬롯 내에서 2개 이상 전송될 수 있는 상황에서 HARQ-ACK 코드북 결정 방법 및 장치들을 정의한다. 이를 모드 2 이라고 한다. 단말은 모드 1(한 슬롯 내에 한 HARQ-ACK PUCCH만 전송)만 동작하거나 혹은 모드 2(한 슬롯 내에 하나 이상의 HARQ-ACK PUCCH 전송)만 동작하는 것이 가능할 수 있다. 혹은 모드 1과 모드 2를 모두 지원하는 단말은 기지국이 상위 시그널링에 의해 하나의 모 드로만 동작하도록 설정하거나 혹은 DCI 포맷, RNTI, DCI 특정 필드 값, 스크램블링 등에 의해 암묵적으로 모드 1과 모드 2가 정해지는 것이 가능할 수 있다. 예를 들어, DCI 포맷 A로 스케줄링된 PDSCH 및 이와 연계된 HARQ- ACK 정보들은 모드 1에 기반하고, DCI 포맷 B로 스케줄링된 PDSCH 및 이와 연계된 HARQ-ACK 정보들은 모드 2에 기반한다. [PUCCH: Type 3 HARQ-ACK codebook] 도 9는 본 개시의 일 실시 예에 따른 복수의 서로 다른 HARQ-ACK 코드북이 중첩된 상황을 나타내는 도면이다. 하기에서는 Type-3 HARQ-ACK 코드북에 대해서 설명한다. Type-1, 2 HARQ-ACK 코드북과 달리 Type-3 HARQ-ACK 코드북은 단말이 설정 받은 모든 서빙 셀 및 HARQ 프로세 스 수, HARQ 프로세스 별 TB 수, TB 별 CBG 수들에 대한 모든 HARQ-ACK 정보를 보고하는 방식이다. 일례로, 단 말은 2개의 서빙 셀, 각 서빙 셀 별로 16개의 HARQ 프로세스, 각 HARQ 프로세스 별 1개의 TB, 그리고 각 TB 별 로 2개의 CBG가 존재하는 경우, 단말은 총 64개(=2 X 16 X 1 X 2)의 HARQ-ACK 정보 비트를 보고한다. 또한, 별 도의 설정에 따라 HARQ-ACK 정보 및 이와 관련된 HARQ 프로세스 별로 단말이 최근에 수신한 NDI 값을 같이 보고 하는 것도 가능할 수 있다. 해당 NDI 값을 통해 기지국은 단말의 각 HARQ 프로세스 별로 수신한 PDSCH가 초기 전송으로 판단하고 있는지 또는 재전송으로 판단하고 있는지를 판단할 수 있다. 해당 NDI 값 보고가 별도로 없 을 경우, 단말은 상기 기지국이 Type-3 HARQ-ACK 코드북을 요청하는 DCI를 수신하기 이전에 특정 HARQ 프로세스 에 대해서 이미 HARQ-ACK 정보를 보고한 경우에는 단말은 해당 HARQ 프로세스에 대해서는 NACK으로 매핑하고, 그렇지 않은 경우는 해당 HARQ 프로세스 별로 수신한 PDSCH에 대해서 HARQ-ACK 정보 비트를 매핑한다. 상기 서 빙 셀의 수, HARQ 프로세스 수, TB 수, CBG 수는 각각 설정이 가능하며, 별도의 설정이 각각 없는 경우, 서빙 셀 수는 1, HARQ 프로세스 수는 8, TB 수는 1, CBG 수는 1로 각각 단말이 간주할 수 있다. 또한, 상기 HARQ 프로세스 수는 서빙 셀 별로 다를 수 있다. 또한, 상기 TB 수는 서빙셀 별 또는 서빙 셀 내의 BWP 별로 값이 다를 수 있다. 또한, 상기 CBG 수는 서빙셀 별로 다를 수 있다. Type-3 HARQ-ACK 코드북이 필요한 이유 중에 하나는 단말이 PDSCH에 대한 HARQ-ACK 정보가 포함된 PUCCH 또는 PUSCH의 송신을 채널 접속 실패 또는 우선 순위가 높은 다른 채널과의 중첩 등의 이유로 못하는 경우가 발생할 수 있다. 따라서, 기지국은 별도의 PDSCH를 다시 스케쥴링할 필요 없어 해당 HARQ-ACK 정보만 보고하는 것을 요 청하는 것이 합리적이다. 따라서, 기지국은 상위 신호 또는 L1 신호 (예를 들어, DCI 내의 특정 필드)를 통해 상기 Type-3 HARQ-ACK 코드북 및 해당 코드북이 포함된 PUCCH 자원을 스케쥴링 하는 것이 가능할 수 있다. 만약, 단말이 one-shot HARQ-ACK 요청을 하는 필드의 값이 1을 포함하는 DCI 포맷을 탐색할 경우, 단말은 상기 DCI 포맷에 의해 지시된 특정 슬롯에서 Type-3 HARQ-ACK 코드북을 다중화하기 위한 PUCCH 또는 PUSCH 자원을 결 정한다. 그리고, 단말은 해당 슬롯에서 송신을 위해 PUCCH 또는 PUSCH 내에 Type-3 HARQ-ACK 코드북만을 다중화 한다. 즉, 만약 2개의 PUCCH가 중첩되고, 하나는 Type-1 HARQ-ACK 코드북 (또는 Type-2 HARQ-ACK 코드북)이고, 다른 하나는 Type-3 HARQ-ACK 코드북일 경우, 단말은 Type-3 HARQ-ACK 코드북만을 상기 PUCCH 또는 PUSCH에 다 중화한다. 이유는 Type-3 HARQ-ACK 코드북이 단말이 설정받은 모든 서빙 셀, 모든 HARQ 프로세스 번호, 모든 TB, 모든 CBG들에 대한 HARQ-ACK 정보 비트들을 포함하고 있기 때문에 Type-1 HARQ-ACK 코드북과 Type-2 HARQ- ACK 코드북의 정보는 이미 Type-3 HARQ-ACK 코드북에 포함되어 있다고 볼 수 있다. 하지만, Type-3 HARQ-ACK 코드북은 모든 단말이 설정받은 정보에 기초하여 모든 HARQ-ACK 정보 비트들을 포함하 기 때문에 실제 스케쥴링 되지 않은 PDSCH에 대한 HARQ-ACK 정보 비트도 NACK으로 매핑할지라도 상기 코드북에 포함되어야 하고, 이에 따라 정보 비트 사이즈가 크다는 단점이 존재한다. 따라서, 상향링크 제어 정보 비트 사 이즈가 커짐에 따라 상향링크 전송 커버리지 또는 전송 신뢰도가 감소될 가능성이 존재한다. 따라서, Type-3 HARQ-ACK 코드북보다 좀 더 작은 사이즈의 HARQ-ACK 코드북이 필요하다. 이를 본 발명에서는 기존 Type-3 HARQ 코드북과 다른 것으로 보고, 편의상 enhanced Type-3 HARQ-ACK 코드북 (또는 Type-4 HARQ-ACK 코드북)이라고 본 개시에서는 서술한다. 하지만, 이외에 다른 명칭으로 대체되는 것이 충분히 가능하다. 일례로, enhanced Type-3 HARQ-ACK 코드북은 다음과 같이 구성될 수 있다. 유형 A: (설정된) 서빙 셀들의 총 집합 중 부분 집합 유형 B: (설정된) HARQ 프로세스 번호들의 총 집합 중 부분 집합 유형 C: (설정된) TB 인덱스의 총 집합 중 부분 집합 유형 D: (설정된) CBG 인덱스의 총 집합 중 부분 집합 유형 E: 상기 유형 A 내지 D 중 적어도 2개의 유형들의 조합 상기 enhanced Type-3 HARQ-ACK 코드북의 상기 유형 A 내지 E 중 적어도 하나의 특징을 가질 수 있고, 하나 또 는 복수의 세트로 구성되는 것이 가능할 수 있다. 상기 유형 A 내지 E 중 부분 집합 대신 전체 집합을 포함할 수 있다. 복수의 세트의 의미는 일례로 유형 A와 유형 B가 존재하거나 또는 유형 A여도 부분 집합이 다른 것들 이 존재하는 것이 가능할 수 있다. 상기 유형 A 내지 E를 고려하여 enhanced Type-3 HARQ-ACK 코드북은 상위 신 호 또는 L1 신호 또는 이들의 조합에 의해 지시될 수 있다. 일례로, 다음 [표 26]과 같이 상위 신호로 각각의 enhanced Type-3 HARQ-ACK 코드북으로 보고될 HARQ-ACK 정보 비트들을 위한 세트 구성이 지시되고, 이 중에 하 나의 값이 L1 신호로 지시되는 것이 가능할 수 있다. [표 26]과 같이 각 index 별로 어떤 유형의 enhanced Type-3 HARQ-ACK 코드북이 설정되었는지 상위 신호로 개별적인 설정이 가능할 수 있다. 또한, index 3과 같이 특정 인덱스에 대해서는 모든 HARQ-ACK 정보 비트들을 보고하는 Type-3 HARQ-ACK 코드북이 사용되는 것도 가능 하다. Type-3 HARQ-ACK 코드북은 별도의 상위 신호로 지시되거나 또는 상위 신호가 없을 경우, 디폴트 값(예를 들어, 모든 HARQ 프로세스 번호에 대한 ACK 또는 NACK 상태)으로 사용되는 것으로 판단할 수 있다. 표 26 Index Type 3 1 서빙셀 i, HARQ 프로세스 번호(#1 ~ #8), TB 1 2 서빙셀 i, HARQ 프로세스 번호(#9 ~ #12), TB 1 3 Type-3 HARQ-ACK 코드북 … …단말은 one-shot HARQ-ACK feedback 필드를 요청하는 값을 수신하고, [표 26]에 따라 index 1로 지시된 값을 수신할 경우, 단말은 서빙셀 i, HARQ 프로세스 번호(#1 ~ #8), TB 1에 대해서 총 8 비트의 HARQ-ACK 정보 비트 들을 보고한다. 단말은 one-shot HARQ-ACK feedback 필드를 요청하는 값을 수신하고, [표 26]에 따라 index 2 로 지시된 값을 수신할 경우, 단말은 서빙셀 i, HARQ 프로세스 번호(#1 ~ #8), TB 1에 대해서 총 4 비트의 HARQ-ACK 정보 비트들을 보고한다. 단말은 one-shot HARQ-ACK feedback 필드를 요청하는 값을 수신하고, [표 26]에 따라 index 3로 지시된 값을 수신할 경우, 단말은 서빙셀 집합, 서빙셀 i 별 총 HARQ 프로세스 수, HARQ 프로세스 별 TB 수, TB 별 CBG 수를 고려하여 총 HARQ-ACK 비트 수들 계산한다. 상기 [표 26]는 일례일 뿐, 총 index의 수가 이 보다 더 많거나 적을 수 있으며, 각각의 인덱스가 지시하는 HARQ 프로세스 값의 범위 및 또는 enhanced Type-3 HARQ-ACK 코드북에 포함되는 정보는 다를 수 있다. 또한, 상기 [표 26]는 상위 신호에 의해 지 시되는 정보일 수 있고, 특정 index가 DCI를 통해 통지될 수 있다. 또한, 상기 [표 26] 이외에 특정 인덱스 값 또는 one-shot HARQ-ACK feeback 필드 (또는 그 이외의 다른 L1 신호)를 통해 지시된 HARQ-ACK 정보들은 특정 (또는 전체) HARQ 프로세스 번호에 대한 HARQ-ACK 정보가 아닌 사전에 단말이 스케쥴링을 받아 송신하려던 특정 HARQ-ACK 정보들이 드랍된 경우, 이를 다시 보내는 목적으로 사용되는 것이 가능할 수 있다. 이를 드랍된 HARQ- ACK 재전송이라고 한다. 상기 특정 HARQ-ACK 정보들이 드랍되는 경우는 상기 HARQ-ACK 정보를 포함한 PUCCH 또 는 PUSCH보다 우선 순위가 높은 다른 PUCCH 또는 PUSCH와 중첩되는 경우가 가능할 수 있다. 또는, 상기 특정 HARQ-ACK 정보들이 드랍되는 경우는 상기 HARQ-ACK 정보를 포함한 PUCCH 또는 PUSCH 중 적어도 하나의 심볼이 사전에 상위 신호에 의해 하향링크 심볼로 지시된 경우가 가능할 수 있다. 또는, 상기 특정 HARQ-ACK 정보들이 드랍되는 경우는 상기 HARQ-ACK 정보를 포함한 PUCCH 또는 PUSCH가 상향링크 전송을 취소하는 목적을 가진 Uplink Cancellation 정보를 포함한 DCI에 의해 지시된 자원과 적어도 일부가 중첩된 경우가 가능할 수 있다. 단말이 상기 드랍된 HARQ-ACK 재전송과 (enhanced) type-3 HARQ 코드북 기반 전송을 모두 다 지원할 경우, 단말 은 DCI의 CRC와 스크램블링된 RNTI 정보 또는 DCI가 탐색된 탐색 공간(Search space) 유형 또는 DCI 필드 중 우선 순위 정보 또는 MCS, RV, NDI, HARQ 프로세스 ID 등 중 적어도 하나의 정보 또는 이들의 조합을 통해 상기 드랍된 HARQ-ACK 재전송과 (enhanced) type-3 HARQ 코드북 기반 전송 중 적어도 하나를 선택하여 HARQ 정보를 보고하는 것이 가능할 수 있다. 또는, [표 26]의 특정 인덱스 값이 드랍된 HARQ-ACK 재전송으로 설정되어 사용 되는 것이 가능할 수 있다. 상기 [표 26]의 특정 인덱스 선택은 DCI 필드 중 HARQ 프로세스 번호 또는 MCS 또는 NDI 또는 RV 또는 주파수 자원 할당 정보 또는 시간 자원 할당 정보 들 중 적어도 하나 또는 이들의 조합에 의 해서 지시되는 것이 가능할 수 있다. 상기 [표 26]의 특정 인덱스를 알려주는 DCI 비트 필드의 크기는 로 결정될 수 있다. 여기서 는 상위 신호로 설정된 [표 26]의 인덱스의 총 개수를 의미한다. 총 HARQ-ACK 비트 수 N 은 다음 [수학식 11]과 같이 표현할 수 있다. [수학식 11]"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 25, "content": "상기 [수학식 11]에서 n(c)는 서빙셀 c들의 총 개수, Hc는 서빙 셀 c에서 설정된 HARQ 프로세스 수, Tb,c는 서빙 셀 c 및 BWP b에서 설정된 HARQ 프로세스 별 TB 수, Bc는 서빙셀 c에서 설정된 CBG들의 수이다. 또한, 단말은 one-shot HARQ-ACK 요청 필드 값이 1인 DCI 포맷을 탐색할 경우, 단말은 해당 Type-3 HARQ-ACK 코드북 (또는 enhanced Type-3 HARQ-ACK 코드북)을 다중화하기 위한 PUCCH 또는 PUSCH 자원을 결정한다. 그리고 단말은 해당 슬롯에서 전송을 위한 상기 결정된 PUCCH 또는 PUSCH 자원에 Type-3 HARQ-ACK 코드북 (또는 enhanced Type-3 HARQ-ACK 코드북) 만을 다중화한다. 만약, 상기 PUCCH 또는 PUSCH와 중첩되는 SR 정보 또는 CSI 정보를 포함한 PUCCH 또는 PUSCH가 존재할 경우, 단말은 이를 다중화하지 않고, SR 또는 CSI 정보를 드랍하는 것이 가능할 수 있다. 즉, Type-3 HARQ-ACK 정보만 다중화하고, 다른 UCI인 SR과 CSI는 드랍하는 것이 가능할 수 있다. 상기 설명에 따라 Type-3 HARQ-ACK 코드북은 단말이 설정받은 모든 HARQ 프로세스 번호에 대한 HARQ-ACK 정보를 포함하기 때문에 Type-3 HARQ-ACK 코드북을 포함한 PUCCH 또는 PUSCH와 다른 HARQ-ACK (예를 들어, Type-1 또 는 Type-2 HARQ-ACK 코드북) 정보가 포함된 PUCCH 또는 PUSCH와 중첩될 경우, 이미 Type-3 HARQ-ACK 코드북이 HARQ-ACK 정보들을 다 포함하고 있기 때문에 중첩되는 각각의 HARQ-ACK 코드북들을 서로 다중화할 필요는 없을 것이다. 따라서, 단말은 Type-3 HARQ-ACK 코드북을 포함한 PUCCH 또는 PUSCH만 송신하고, 이외에 중첩되도록 스 케쥴링된 다른 HARQ-ACK 코드북들은 드랍하는 것이 합리적일 수 있다. 하지만, Type-3 HARQ-ACK 코드북이 아닌일부 HARQ 프로세스 번호에 대한 HARQ-ACK 정보를 포함하는 enhanced Type-3 HARQ-ACK 코드북과 다른 HARQ-ACK 정보가 포함된 PUCCH 또는 PUSCH와 중첩될 경우, 이에 대한 다양한 다중화 방법이 고려될 수 있다. 도 9는 이에 대한 예시를 보여준다. 도 9는 일 실시 예에 따라 복수의 서로 다른 HARQ-ACK 코드북이 중첩된 상황을 보여주는 도면이다. DL DCI 1에 의해 Type 1 또는 Type 2 HARQ-ACK 정보가 포함된 PUCCH가 스케쥴링되고, DL DCI 2에 의 해 enhanced Type-3 HARQ-ACK 정보가 포함된 PUCCH가 스케쥴링되고, 이 둘의 PUCCH가 시간 자원 관점에서 중첩 된 상황이다. 이 때, Type 1 또는 Type 2 HARQ-ACK 정보가 포함된 PUCCH를 제 1 PUCCH라 하고, enhanced Type- 3 HARQ-ACK 정보가 포함된 PUCCH는 제 2 PUCCH라 한다. 제 1 PUCCH는 HARQ 프로세스 번호 1, 5에 대한 HARQ-ACK 정보를 포함하고, 제 2 PUCCH는 HARQ 프로세스 번호 1, 2, 3, 4에 대한 HARQ-ACK 정보를 포함한 다. 만약, 제 2 PUCCH만 전송을 하고, 제 1 PUCCH는 드랍할 경우, 단말은 HARQ 프로세스 번호 1에 대한 HARQ- ACK 정보는 제 2 PUCCH에도 포함되어 있지만, HARQ 프로세스 번호 5에 대한 HARQ-ACK 정보는 제 2 PUCCH에 포 함되어 있지 않기 때문에, 기지국은 HARQ 프로세스 번호 5에 대한 HARQ-ACK 정보를 수신할 수 없다. 따라서, 단 말은 제 1 PUCCH와 제 2 PUCCH에 포함된 HARQ 정보들을 다중화할 필요가 존재한다. [PUCCH power control] 이하 PUCCH power control에 대해서 설명한다. 다음 [수학식 12]는 PUCCH 전송 전력을 결정하는 수학식이다. [수학식 12]"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 26, "content": "[수학식 12]에서 은 기준 설정 전송 전력 설정 값으로써, 다양한 전송 타입 에 따라 다른 값을 가지며, RRC 또는 MAC CE와 같은 상위 신호에 의해 값이 변경될 수 있다. MAC CE로 값이 변경될 경우, 단말은 MAC CE를 수신한 PDSCH에 대해서 HARQ-ACK을 송신한 슬롯이 k일 경우, k + koffset 슬롯부터 해당 값이 적용되는 것으로 판단한다. koffset은 부반송파 간격에 따라 각기 다른 값을 가지며, 일례로 3ms를 가질 수 있다. 는 PUCCH가 할당된 주파수 자원 영역 크기이다. 는 단말의 경로 감쇄 추정 값으로써, 단말은 상위 신호 설정 여부 및 종류에 따라 다양한 CSI-RS 또는 SS/PBCH 중에 특정 기준 신호를 기반으로 계산한다. 반복 전송 PUCCH들에 대해서는 동일한 가 적용된다. 반복 전송 PUCCH들에 대해서는 동일한 가 적용된다. PUCCH 포맷 2, 3, 4에 대해서 UCI 크기가 11보다 크거나 같을 경우, 다음 [수학식 13]에 의해서 [수학식 12] 중 의 값이 결정된다. [수학식 13]"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 27, "content": "[수학식 13]에서 K1은 6이고, 은 HARQ-ACK 비트 수, 는 SR 비트 수, 는 CSI 비트 수, 는 PUCCH의 RE 수를 의미한다. 도 10은 일 실시 예에 따른 단말의 PUCCH 또는 PUSCH 송신 동작을 도시한 블록도이다. 단말은 기지국으로부터 제어 정보를 수신한다. 해당 제어 정보는 상위 신호 또는 L1 신호가 해당될 수 있으며, 하나 또는 복수개 일 수 있다. 그리고 단말은 상기 제어 정보에 기초하여 PUCCH 또는 PUSCH 자원을 결정한다. 그리고, 각각의 PUCCH 또 는 PUSCH에 다중화되는 HARQ-ACK 또는 그 이외 UCI 정보들을 확인한다. 그리고 2개 이상의 PUCCH 또는 PUSCH 자 원이 중첩되거나 또는 적어도 하나의 슬롯 또는 서브 슬롯 내에 HARQ-ACK 정보를 포함한 PUCCH 또는 PUSCH가 2 개 이상일 경우, 단말은 HARQ-ACK 다중화 여부를 결정한다. 이후, 단말은 상기 방법들에 기초하여 최종적으로HARQ-ACK 정보 또는 그 이외 UCI 정보들을 송신할 PUCCH 또는 PUSCH를 결정하고 이에 대한 전송 전력도 같이 결 정한다. [PDSCH: SPS] 이하 SPS 동작에 대해서 설명한다. 단말은 한 셀 / 한 BWP 에서 2개 이상의 활성화된 DL SPS 운영이 가능할 경 우, 기지국은 2개 이상의 DL SPS 설정을 한 단말에게 해줄 수 있다. 2개 이상의 DL SPS 설정을 지원하는 이유로 는 단말이 다양한 트래픽을 지원할 경우, 각 트래픽 별로 서로 다른 MCS 또는 시간/주파수 자원 할당 또는 주기 가 다를 수 있기 때문에 각기 용도에 맞는 DL SPS 설정을 해주는 것이 유리할 것이다. 단말은 DL SPS에 대한 다음 [표 27]와 같은 상위 신호 설정 정보들 중 적어도 일부를 수신할 수 있다. 표 27 - Periodicity: DL SPS 전송 주기 - nrofHARQ-Processes: DL SPS를 위해 설정된 HARQ 프로세스 수 - n1PUCCH-AN: DL SPS를 위한 HARQ 자원 설정 정보 - mcs-Table: DL SPS에 적용된 MCS table 설정 정보 - sps-ConfigIndex-r16: 한 셀/한 BWP에서 설정된 SPS의 인덱스 - harq-ProcID-Offset-r16: HARQ-ACK 프로세스 번호 계산을 위한 오프셋 값 - periodicityExt-r16: DL SPS 전송 주기로써, 부반송파 간격에 따라 다른 값으로 설정가능하고, 해당 필드가 존재하면, Periodicity는 무시 - harq-CodebookID-r16: SPS 또는 SPS release에 대한 HARQ-ACK 코드북 인덱스 정보 - pdsch-AggregationFactor-r16: SPS PDSCH 반복 전송 수 상기 상위 신호 설정 정보 중 SPS index는 SPS 활성화 또는 비활성화를 제공하는 DCI(L1 시그널링)가 어떤 SPS 를 가리키는 지를 알려주는 목적으로 활용될 수 있다. 구체적으로, 한 셀/한 BWP에서 2개의 SPS가 상위 신호로 설정된 상황에서 단말은 SPS 활성화를 지시하는 DCI가 2개 중 어떤 SPS의 활성화를 지시하는지를 알기 위해 SPS 상위 정보에 이를 알려주는 인덱스 정보가 필요할 것이다. 일례로, 단말은 SPS 활성화 또는 비활성화를 지시하 는 DCI 내의 HARQ 프로세스 번호 필드가 특정 SPS의 인덱스를 가리키며, 이를 통해 활성화 또는 비활성화를 가 능케할 것이다. 구체적으로, [표 28]처럼 CG-RNTI로 스크램블링된 CRC를 포함한 DCI가 하기 정보를 포함하고 해 당 DCI의 NDI(New Data Indicator) 필드가 0을 지시할 경우, 단말은 기활성화된 특정 SPS PDSCH release(비활 성화)를 지시하는 것으로 판단한다. 표 28 DCI format 0_0 DCI format 1_0 HARQ process number SPS index SPS index Redundancy version set to '00' set to '00' Modulation and coding scheme set to all '1's set to all '1's Frequency domain resource assignmentset to all '1's set to all '1's 상기 [표 28] 에서 하나의 HARQ 프로세스 번호가 하나의 SPS index를 지시하거나 복수개의 SPS index들을 지시 하는 것이 가능할 수 있다. 상기 HARQ 프로세스 번호 필드 이외에 다른 DCI 필드 (시간 자원 필드, 주파수 자원 필드, MCS, RV, PDSCH-to-HARQ 타이밍 필드 등)에 의해 하나 또는 복수 개의 SPS 인덱스(들)를 지시하는 것도 가능할 수 있다. 기본적으로 하나의 DCI에 의해서 하나의 SPS가 활성화 또는 비활성화가 될 수 있다. SPS PDSCH release를 지시하는 DCI에 대한 HARQ-ACK 정보를 위한 type 1 HARQ-ACK 코드북의 위치는 해당 SPS PDSCH의 수 신 위치에 대응되는 type 1 HARQ-ACK 코드북의 위치와 동일하다. 슬롯 내의 candidate SPS PDSCH reception에 대응되는 HARQ-ACK 코드북의 위치가 k1일 경우, 해당 SPS PDSCH의 release를 지시하는 DCI에 대한 HARQ-ACK 코 드북의 위치도 k1이다. 따라서, 슬롯 k에서 SPS PDSCH release를 지시하는 DCI가 전송될 경우, 같은 슬롯 k에서 HARQ-ACK 코드북 위치 k1에 해당하는 PDSCH를 스케줄링 받는 것을 단말은 기대하지 않을 것이고, 이런 상황이 발생할 경우, 단말은 에러 케이스로 간주한다. 상기 [표 28]는 DCI format 0_0, 1_0을 예시로 들었지만, DCI format 0_1, 1_1에도 적용이 가능하며, 그 이외 DCI format 0_x, 1_x에도 충분히 확장하여 적용이 가능하다. 상기 서술한 동작에 의해 단말은 SPS PDSCH 상위 신호 수신 및 SPS PDSCH를 활성화를 지시하는 DCI를 수신함으 로써 하나 또는 2개 이상의 SPS PDSCH가 한 셀/한 BWP 내에 동시 운영될 수 있다. 이후 단말은 한 셀/한 BWP 내에서 활성화된 SPS PDSCH를 주기적으로 수신하고 이에 대응되는 HARQ-ACK 정보를 송신한다. SPS PDSCH에 대응되 는 HARQ-ACK 정보는 활성화된 DCI 정보에 포함된 PDSCH-to-HARQ-ACK 타이밍에 의해 슬롯 간격 정보 및 SPS 상 위 설정 정보에 포함된 n1PUCCH-AN 정보를 통해 해당 슬롯 내에서 정확한 시간 및 주파수 정보 그리고 PUCCH 포 맷 정보를 통해 단말이 판단한다. 만약, DCI 정보에 포함된 PDSCH-to-HARQ-ACK 타이밍 필드가 없을 경우, 단말 은 사전에 상위 신호로 설정된 하나의 값이 디폴트 값으로 가정하고 해당 값이 적용되었다고 판단한다. 또는, 단말은 상위 신호로부터 다음 DL SPS 설정 정보를 설정할 수 있다. - Periodicity: DL SPS 전송 주기 - nrofHARQ-Processes: DL SPS를 위해 설정된 HARQ 프로세스 수 - n1PUCCH-AN: DL SPS를 위한 HARQ 자원 설정 정보 - mcs-Table: DL SPS에 적용된 MCS table 설정 정보 본 개시에서 DL SPS 설정 정보들은 모두 Pcell 혹은 Scell 별로 설정이 가능하며, 또한, 주파수 대역 구간(BWP, Bandwidth Part) 별로도 설정이 가능할 수 있다. 또한, 특정 cell 별 BWP 별로 하나 이상의 DL SPS들이 설정되 는 것이 가능할 수 있다. 단말은 DL SPS 에 대한 상위 신호 수신을 통해 grant-free 송수신 설정 정보를 판단한다. DL SPS는 activation 을 지시하는 DCI를 수신한 이후에 설정된 자원 영역에 대해서 데이터 송수신이 가능할 수 있으며, 해당 DCI를 수신하기 전 자원 영역에 대해서는 데이터 송수신을 할 수 없다. 또한, release를 지시하는 DCI를 수신한 이후 의 자원 영역에 대해서 단말은 데이터 수신을 할 수 없다. 단말은 SPS 스케줄링 activation 또는 release를 위해 다음 2가지 조건들이 모두 만족될 경우, DL SPS assignment PDCCH를 검증한다. - 조건 1: 상기 PDCCH에서 전송되는 DCI 포맷의 CRC 비트가 상위 시그널링으로 설정 받은 CS-RNTI로 스크램블링 이 된 경우 - 조건 2: 활성화된 전송 블록을 위한 NDI(New Data Indicator) 필드가 0으로 설정된 경우 상기 DL SPS assignment PDCCH로 전송되는 DCI format을 구성하는 필드 중 일부가 [표 29] 또는 [표 30]에 제 시된 것과 동일한 경우, 단말은 상기 DCI format 내의 정보가 DL SPS의 유효한 activation이거나 혹은 유효한 release라고 판단한다. 일례로, 단말은 [표 29]에 제시된 정보를 포함하는 DCI format을 검출할 경우, 단말은 DL SPS가 activation 되었다고 판단한다. 또 다른 일례로, 단말은 [표 30]에 제시된 정보를 포함하는 DCI format을 검출할 경우, 단말은 DL SPS가 release 되었다고 판단한다. 상기 DL SPS assignment PDCCH로 전송되는 DCI format을 구성하는 필드 중 일부가 [표 29](DL SPS를 activation하기 위한 특별 필드 구성 정보) 또는 [표 30](DL SPS를 release하기 위한 특별 필드 구성 정보)에 제시된 것과 동일하지 않을 경우, 단말은 상기 DCI format이 매칭되지 않는 CRC로 검출된 것으로 판단한다. 표 29 DCI format 1_0 DCI format 1_1 HARQ process number set to all '0's set to all '0's Redundancy version set to '00' For the enabled transport block: set to '00' 표 30 DCI format 1_0 HARQ process number set to all '0's Redundancy version set to '00' Modulation and coding scheme set to all '1's Resource block assignment set to all '1's 단말은 PDCCH 수신 없이 PDSCH를 수신하거나 SPS PDSCH release를 지시하는 PDCCH를 수신할 경우, 이에 대응되 는 HARQ-ACK 정보 비트를 생성한다. 또한, 적어도 Rel-15 NR에서는 단말은 하나의 PUCCH 자원에 두 개 이상의 SPS PDSCH 수신에 대한 HARQ-ACK 정보(들)을 전송하는 것을 기대하지 않는다. 다시 말하면, 적어도 Rel-15 NR에 서는 단말은 하나의 PUCCH 자원에 하나의 SPS PDSCH 수신에 대한 HARQ-ACK 정보만을 포함한다. DL SPS는 P(primary)Cell 및 S(secondary)Cell에서도 설정될 수 있다. DL SPS 상위 시그널링으로 설정될 수 있는 파라미 터들은 다음과 같다. - Periodicity: DL SPS의 전송 주기 - nrofHARQ-processes: DL SPS를 위해 설정될 수 있는 HARQ process의 수 - n1PUCCH-AN: DL SPS에 대한 PUCCH HARQ 자원, 기지국은 PUCCH format 0 또는 1로 자원을 설정 상술한 [표 29] 내지 [표 30]은 DL SPS가 셀 별, BWP 별로 하나만 설정이 가능한 상황에서 가능한 필드일 것이다. 셀 별 및 BWP 별로 복수의 DL SPS가 설정된 상황에서 각각의 DL SPS 자원을 활성화 (또는 해제)를 시키기 위한 DCI 필드는 달라질 수 있다. 본 개시에서는 이와 같은 상황을 해결하는 방법을 제공한다. 본 개시에서 [표 29]과 [표 30]에서 서술한 모든 DCI 포맷들이 각각 DL SPS 자원을 활성화하거나 해제하는 것에 이용되는 것은 아니다. 예를 들어, PDSCH를 스케줄링하기 위해 사용되는 DCI format 1_0과 DCI format 1_1은 DL SPS 자원을 활성화하는 용도로 활용된다. 예를 들어, PDSCH를 스케줄링하기 위해 사용되는 DCI format 1_0은 DL SPS 자원을 해제하는 용도로 활용된다. 도 12는 본 개시의 일 실시 예에 따라 CA 상황에서 PDSCH 수신에 대한 HARQ-ACK 정보 전송 관계를 나타내는 도 면이다. [실시 예 1] DCI의 PDSCH-to-HARQ_feedback timing indicator 필드는 gNB가 PDSCH 슬롯을 참조하여 HARQ-ACK 피드백 전송을 위한 PUCCH 슬롯을 지시하기 위해 사용된다. DCI format 1_0의 경우 PDSCH-to-HARQ_feedback timing indicator 필드를 {1, 2, 3, 4, 5, 6, 7, 8}에 매핑할 수 있다. DCI format 1_1의 경우, PDSCH-to-HARQ_feedback timing indicator 필드는 0~15까지 설정된 K1(즉, dl-DataToUL-ACK)에 따라 최대 8개의 값에 매핑될 수 있다. 도 12와 같은 TDD-FDD CA의 환경에서는 k1 값이 부족하여 스케줄링 시 DL slot 1개를 사용할 수 없다. 즉, Pcell에서 하나의 UL slot을 HARQ-ACK 전송 자원으로 선택하면 Pcell에서 PUCCH를 전송해야 하므로 최소 9개 이 상의 k1 값이 필요하므로, 결과적으로 PDSCH 스케줄링 관점에서 하나의 DL slot을 사용할 수 없고, 이는 특정 단말 기준, 하향링크 전송 속도 감소를 야기한다. 도 12와 같은 스케줄링을 8개의 K1 값으로는 지원할 수 없다. 도 13은 본 개시의 일 실시 예에 따라 CA 상황에서 PDSCH 수신에 대한 HARQ-ACK 정보 전송 관계를 보여주는 도 면이다. 도 12와 같은 스케줄링을 8개의 K1 값으로는 지원할 수 없다는 문제점을 해결하기 위해 고려할 수 있는 대안으로는 도 13와 같이 8개의 값이 k1인 2개의 연속된 UL slot(s)를 사용하는 것이다. 단, Scell에서 2개의 연속된 UL slot과 겹치는 slot에서의 PUSCH 스케줄링 은 다음과 같은 스케줄링 제한으로 인해 허용되지 않는다. A UE does not expect to multiplex in a PUSCH transmission in one slot with SCS configuration UCI of same type that the UE would transmit in PUCCHs in different slots with SCS configuration if . 따라서, 이런 대안은 PUSCH 스케줄링 제약과 관련된 문제를 갖는다. 정리하면, 최대 8개의 k1 값과 상기 스케줄 링 제약으로 인해 기지국은 TDD-FDD CA 시나리오에서 PUSCH 스케줄링 제한 또는 PDSCH 스케줄링 제한이 발생하 는 문제가 있다. 이를 해결하기 위해 다음과 같은 방법을 고려할 수 있다. 방법 1: 4비트 PDSCH-to-HARQ_feedback timing indicator를 DCI format 1_1로 도입한다. 방법 2: PUCCH 및 PUSCH 동시 전송. 다음은 방법 1에 대해서 상술한다. 앞서 설명했던 것처럼 종래 CA 환경에서 단말이 기지국으로 PDSCH를 수신하고 이에 대한 HARQ-ACK 피드백을 송 신하는 방법을 제공한다. 구체적으로 기지국은 PDSCH 전송 슬롯과 HARQ-ACK 피드백이 포함된 PUCCH 슬롯과의 차 이를 DCI 필드를 통해 지시하는 것이 가능할 수 있다. 종래 PDSCH-to-HARQ_feedback timing indicator field는 최대 3 bit의 정보를 제공할 수 있었다. 따라서, 최대 8개의 PDSCH 전송 슬롯과 HARQ-ACK 피드백이 포함된 PUCCH 슬롯과의 차이 (또는 오프셋) 값을 지시하는 것이 가능하다. 하지만, 특정 CA 환경에서는 효율적인 자원 사용을 위해서 PDSCH-to-HARQ_feedback timing indicator field가 더 증가될 필요가 존재할 수 있다. 따라서, 본 개시에서는 최대 4 bit의 PDSCH-to-HARQ_feedback timing indicator field를 지원하는 방법을 제공한다. 구 체적으로 최대 4 bit의 PDSCH-to-HARQ_feedback timing indicator field를 지원하는 단말 보고 방법 및 이와 관련된 기지국 상위 신호 설정, 이에 기초한 단말과 기지국의 PDSCH-to-HARQ_feedback timing indicator field 판단 방법 등을 제공한다. 본 개시을 통해, 다양한 CA 환경에서 보다 효율적으로 자원을 사용하여 기지국이 단 말에게 스케줄링 하는 것이 가능할 수 있다. 이를 PDSCH-to-HARQ_feedback timing indicator field 하며, 0 bit 내지 4 bit의 값을 가지는 것이 가능할 수 있다. 4 bit의 PDSCH-to-HARQ_feedback timing indicator field를 지원하기 위해서는 기지국과 단말 모두 해당 기능을 제공하는 경우에 한정한다. 예를 들어, 기지국 또는 단말 중 적어도 하나가 4 bit의 PDSCH-to- HARQ_feedback timing indicator field를 지원하지 않는 경우, 기지국은 PDSCH-to-HARQ_feedback timing indicator field 관련 상위 신호 설정 시, 해당 상위 신호를 통해 판단된 PDSCH-to-HARQ_feedback timing indicator field의 bit 수는 0 내지 3 중 적어도 하나의 값을 가진다. 반면, 기지국 또는 단말 모두 4 bit의 PDSCH-to-HARQ_feedback timing indicator field를 지원하는 않는 경우, 기지국은 PDSCH-to-HARQ_feedback timing indicator field 관련 상위 신호 설정 시, 해당 상위 신호를 통해 판단된 PDSCH-to-HARQ_feedback timing indicator field의 bit 수는 0 내지 4 중 적어도 하나의 값을 가진다. 상기 PDSCH-to-HARQ_feedback timing indicator field 관련 상위 신호는 DCI format 별로 설정하는 것이 가능 할 수 있다. 또는, 상기 PDSCH-to-HARQ_feedback timing indicator field 관련 상위 신호는 단말 탐색 영역 CSS(Common Search Space) 또는 USS(UE-specific Search Space) 별로 설정하는 것이 가능할 수 있다. 또는, 상 기 PDSCH-to-HARQ_feedback timing indicator field 관련 상위 신호는 BWP(Bandwidth Part) 별 또는 CC(Component Carrier) 별로 설정하는 것이 가능할 수 있다. 또는, 상기 PDSCH-to-HARQ_feedback timing indicator field 관련 상위 신호는 다른 DCI field (예를 들어, HARQ 프로세스, PUCCH 자원 설정, MCS 정보, SRS 설정 정보, CSI-RS 관련 정보, NDI 정보, RV 정보, DAI 정보 등) 관련 상위 신호와 함께 설정하는 것이 가 능할 수 있다. 상기 내용들은 기지국이 단말에게 PDSCH-to-HARQ_feedback timing indicator field 관련 상위 신호를 제공하는 다양한 방법들에 대해 상술하였지만, 단말이 4 bit의 PDSCH-to-HARQ_feedback timing indicator field 지원 여부 보고 시에도 비슷하게 적용이 가능할 수 있다. 예를 들어, 단말이 4 bit의 PDSCH- to-HARQ_feedback timing indicator field 지원 여부 보고 시, DCI format 별 (또는 단말 탐색 영역 CSS(Common Search Space) 또는 USS(UE-specific Search Space) 별, 또는 BWP(Bandwidth Part) 별 또는 CC(Component Carrier) 별) 로 보고하는 것이 가능할 수 있다. 도 14는 본 개시의 일 실시 예에 따른 4 비트 PDSCH-to-HARQ_feedback timing을 지원하는 단말 능력에 따른 기지국 동작을 나타내는 흐름도이다. 구체적으로, 도 14은 PDSCH-to-HARQ_feedback timing indicator field 설 정 및 지시 관련 기지국 동작에 관한 흐름도 이다. 기지국은 단말로부터 PDSCH-to-HARQ_feedback timing indicator field 관련하여 4비트를 지원하는지를 단말의 능력 보고 정보를 수신하여, 판단하고, 이에 따라 단말 에게 관련 설정 정보를 제공해주는 것이 가능할 수 있다. 도 14를 참조하면, 기지국은 단말로부터 PDSCH-to-HARQ_feedback timing indicator field 관련하여 4비트를 지 원할 수 있는지 여부와 관련된 단말의 능력 정보를 수신할 수 있다. 이 경우, 기지국은 단말의 능력 정보를 보 고한 단말에게 PDSCH-to-HARQ_feedback timing indicator field 관련하여 상위 신호 정보를 제공할 수 있다. 또한, 기지국은 단말로부터 수신한 단말의 능력 정보에 기초하여 PDSCH-to-HARQ_feedback timing indicator field의 비트 크기를 계산할 수 있다. 일 예에서, 해당 비트 값은 0, 1, 2, 3, 4 중 하나의 값을 가질 수 있다. 도 15는 본 개시의 일 실시 예에 따른 4 비트 PDSCH-to-HARQ_feedback timing을 지원하는 단말 능력에 따른 단 말 동작을 나타내는 흐름도이다. 구체적으로, 도 15은 PDSCH-to-HARQ_feedback timing indicator field 설정 및 지시 관련 단말 동작에 관한 흐름도이다. 단말은 기지국에게 PDSCH-to-HARQ_feedback timing indicator field 관련 단말 능력 보고 요청이 오면, 이에 대한 정보를 보고한다. 이후, 기지국에게 관련 상위 신호 설정을 수신하면, 단말은 이에 따라 기지국이 설정한 방법대로 K1 타이밍을 판단 후, 동작을 수행한다. 하기 [표 31]내지 [표 34] 중 적어도 하나를 고려하여 상기 동작 지원을 위한 3GPP 규격 문서이며, 이를 바탕으로 단말과 기 지국은 단말 능력 및 상위 신호 교환을 통해 동작을 수행한다. 표 31"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 28, "content": "표 32"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 29, "content": "표 33 표 34 PUCCH-Config ::= SEQUENCE { ---------------------------- unchanged parts are omitted ---------------------------- dl-DataToUL-ACK-r16-ext4 SetupRelease { DL-DataToUL-ACK-r16-ext4 } OPTIONAL, -- Need M } ---------------------------- unchanged parts are omitted ---------------------------- DL-DataToUL-ACK-r16-ext4 ::= SEQUENCE (SIZE (1..16)) OF INTEGER (0..15) -- TAG-PUCCH-CONFIG-STOP -- ASN1STOP dl-DataToUL-ACK, dl-DataToUL-ACK-DCI-1-2 List of timing for given PDSCH to the DL ACK (see TS 38.213 [13], clause 9.1.2). The field dl-DataToUL-ACK applies to DCI format 1_1 and the field dl-DataToUL-ACK-DCI-1-2 applies to DCI format 1_2 (see TS 38.212 [17], clause 7.3.1 and TS 38.213 [13], clause 9.2.3). If dl-DataToUL-ACK-r16 is signalled, UE shall ignore the dl-DataToUL-ACK or dl-DataToUL-ACK-r16-ext4 (without suffix). The value -1 corresponds to \"inapplicable value\" for the case where the A/N feedback timing is not explicitly included at the time of scheduling PDSCH. If dl-DataToUL-ACK-r16-ext4 is signalled, UE shall ignore the dl-DataToUL-ACK or dl-DataToUL-ACK-r16 (without suffix). 다음은 방법 2에 대해서 상술한다. 도 13에서 상술한 것처럼 도 13은 종래 8개의 k1 값을 활용하여 HARQ-ACK 정보가 전송될 PUCCH 전송 슬롯을 선 택하는 것이 가능하지만, SCell에서 PUSCH가 스케줄링 되지 못하는 문제가 발생한다. 이를 해결하기 위해 PUCCH 와 PUSCH를 따로 전송하는 것을 고려해볼 수 있다. PUCCH와 PUSCH 동시 전송이 가능하다는 것은 PUCCH의 UCI가 SCell의 PUSCH에 다중화될 필요없이 항상 PCell을 통해 전송되는 것이 의미한다. 구체적으로 PCell에서 HARQ- ACK 정보를 포함한 UCI가 PCell의 다른 PUSCH와 중첩될 경우, 단말은 해당 PUSCH를 통해 HARQ-ACK 정보를 송신 하며, 그렇지 않은 경우, PCell의 PUCCH로 송신한다. 이와 별개로 SCell에 PUSCH가 스케줄링될 경우, PCell의 PUCCH와의 중첩 여부를 고려하지 않고, 해당 PUSCH를 송신한다. PUCCH와 PUSCH 동시 전송이 가능하지 않다는 것 은 PUCCH의 UCI가 SCell 또는 PCell로 전송될 수 있으며, SCell로 전송되는 경우는 해당 SCell의 PUSCH와 PUCCH가 중첩되고, PCell에 중첩되는 PUSCH가 없는 경우 가능할 수 있다. 다시 말하면, 단말은 PUCCH의 UCI는 PCell 또는 SCell에서 적어도 하나의 PUSCH와 중첩되는 경우, 해당 PUSCH에 UCI 정보를 포함하여 전송하며, 그 렇지 않은 경우, 단말은 UCI를 PCell의 PUCCH를 통해 송신한다. 이때, 상기 PUCCH와 PUSCH 동시 전송이 가능한 또 다른 조건으로는 PUCCH와 PUSCH가 같은 우선 순위를 가지는 것으로 한정하거나 또는 우선 순위가 다른 경우 에 한정하는 것이 가능할 수 있다. 또는, PUSCH와 PUCCH는 우선 순위에 관계없이 공통으로 적용하는 것이 가능 할 수 있다. 상기 우선 순위 정보느 상위 신호 또는 L1 신호 중 적어도 하나를 통해 제공되는 것이 가능할 수 있다. 도 16은 본 개시의 일 실시 예에 따른 PUCCH 및 PUSCH 동시 전송을 지원하는 단말 능력에 따른 기지국 동작을 나타내는 흐름도이다. 구체적으로, 도 16은 PUCCH 및 PUSCH 동시 지원 관련 설정 및 지시 관련 기지국 동작에 관한 흐름도 이다. 기지국은 단말로부터 PUCCH 및 PUSCH 동시 지원하는 지를 단말의 능력 보고 정보를 수신하여, 판단하고, 이에 따라 단말에게 관련 설정 정보를 제공해주는 것이 가능할 수 있다. 도 17는 본 개시의 일 실시 예에 따른 PUCCH 및 PUSCH 동시 전송을 지원하는 단말 능력에 따른 단말 동작을 나 타내는 흐름도이다. 단말은 기지국에게 UCCH 및 PUSCH 동시 지원 관련 단말 능력 보고 요청이 오면, 이에 대한 정보를 보고한다. 이후, 기지국에게 관련 상위 신호 설정을 수신하면, 단말은 이에 따라 기지국 스케줄링 정보 를 수신하고 상술한 방법에 따라 동작을 수행한다. 하기 [표 35] 내지 [표 38] 중 적어도 하나를 고려하여 상기 동작 지원을 위한 3GPP 규격 문서이며, 이를 바탕으로 단말과 기지국은 단말 능력 및 상위 신호 교환을 통해 동 작을 수행한다. 표 35 9 UE procedure for reporting control information ---------------------------- unchanged parts are omitted ---------------------------- A UE does not expect to multiplex in a PUSCH transmission in one slot with SCS configuration UCI of same type that the UE would transmit in PUCCHs in different slots with SCS configuration if . In this case, if the UE can simultaneously transmit the PUCCHs and the PUSCH [TS38.306] and is provided simultaneousPUCCH-PUSCH-new, the UE transmits the PUCCHs and the PUSCH simultaneously. ---------------------------- unchanged parts are omitted ---------------------------- 표 36 9 UE procedure for reporting control information ---------------------------- unchanged parts are omitted ---------------------------- If a UE - is provided simultaneousPUCCH-PUSCH-new, where PUCCH(s) and PUSCH(s) overlap in time and PUCCH(s) and PUSCH(s) are in different servng cells - can simultaneously transmit the PUCCH and the PUSCHs [18, TS 38.306], the UE excludes the PUSCHs for resolving the time overlapping between the PUCCH and PUSCHs, where the timeline conditions are not required for the excluded PUSCHs. ---------------------------- unchanged parts are omitted ---------------------------- 표 37 PhysicalCellGroupConfig ::= SEQUENCE { ---------------------------- unchanged parts are omitted ---------------------------- simultaneousPUCCH-PUSCH―new-r17 ENUMERATED {enabled} ---------------------------- unchanged parts are omitted ---------------------------- } simultaneousPUCCH-PUSCH―new-r17 Enables simultaneous PUCCH and PUSCH transmissions for the primary PUCCH group and the secondary PUCCH group, respectively. 표 38 parallelTxPUCCH-PUSCH-new-r17 Indicates whether the UE supports simultaneous PUCCH and PUSCH transmissions on different cells (or inter-band CA). 도 18는 본 개시의 일 실시 예에 따른 무선 통신 시스템에서 단말의 구조를 도시한다. 도 18를 참조하면, 단말은 단말기 수신부와 단말기 송신부를 일컫는 송수신부(transceiver), 메모 리(미도시) 및 단말기 처리부(1805, 또는 단말기 제어부 또는 프로세서)를 포함할 수 있다. 전술한 단말의 통신 방법에 따라, 단말의 송수신부(1800, 1810), 메모리 및 단말기 처리부 가 동작할 수 있다. 다만, 단말의 구성 요소가 전술한 예에 한정되는 것은 아니다. 예를 들어, 단말은 전술한 구성 요소들 보다 더 많은 구성 요 소를 포함하거나 더 적은 구성 요소를 포함할 수도 있다. 뿐만 아니라, 송수신부, 메모리, 및 프로세서가 하나 의 칩(chip) 형태로 구현될 수도 있다.송수신부(1800, 1810)는 기지국과 신호를 송수신할 수 있다. 여기에서, 신호는 제어 정보 및 데이터를 포함할 수 있다. 이를 위해, 송수신부는 전송되는 신호의 주파수를 상승 변환 및 증폭하는 RF 송신기와, 수신되는 신호 를 저 잡음 증폭하고 주파수를 하강 변환하는 RF 수신기 등으로 구성될 수 있다. 다만, 이는 송수신부의 일 실 시 예일뿐이며, 송수신부의 구성 요소가 RF 송신기 및 RF 수신기에 한정되는 것은 아니다. 또한, 송수신부(1800, 1810)는 무선 채널을 통해 신호를 수신하여 프로세서로 출력하고, 프로세서로부터 출력되 는 신호를 무선 채널을 통해 전송할 수 있다. 메모리는 단말의 동작에 필요한 프로그램 및 데이터를 저장할 수 있다. 또한, 메모리는 단말이 송수신하는 신호 에 포함된 제어 정보 또는 데이터를 저장할 수 있다. 메모리는 롬(ROM), 램(RAM), 하드디스크, CD-ROM 및 DVD 등과 같은 저장 매체 또는 저장 매체들의 조합으로 구성될 수 있다. 또한, 메모리는 복수 개일 수 있다. 또한 프로세서는 전술한 실시 예에 따라 단말이 동작할 수 있도록 일련의 과정을 제어할 수 있다. 예를 들어, 프로세서는 두 가지 계층으로 구성되는 DCI를 수신하여 동시에 복수의 PDSCH를 수신하도록 단말의 구성 요소를 제어할 수 있다. 프로세서는 복수 개일 수 있으며, 프로세서는 메모리에 저장된 프로그램을 실행함으로써 단말 의 구성 요소 제어 동작을 수행할 수 있다. 도 19는 본 개시의 일 실시 예에 따른 무선 통신 시스템에서 기지국의 구조를 도시한다. 도 19를 참조하면, 기지국은 기지국 수신부와 기지국 송신부를 일컫는 송수신부, 메모리(미도시) 및 기지국 처리부(1905, 또는 기지국 제어부 또는 프로세서)를 포함할 수 있다. 전술한 기지국의 통신 방법에 따라, 기지국의 송수신부(1900, 1910), 메모리 및 기지국 처리부 가 동작할 수 있다. 다만, 기지국의 구 성 요소가 전술한 예에 한정되는 것은 아니다. 예를 들어, 기지국은 전술한 구성 요소들 보다 더 많은 구성 요 소를 포함하거나 더 적은 구성 요소를 포함할 수도 있다. 뿐만 아니라 송수신부, 메모리, 및 프로세서가 하나의 칩(chip) 형태로 구현될 수도 있다. 송수신부(1900, 1910)는 단말과 신호를 송수신할 수 있다. 여기에서, 신호는 제어 정보 및 데이터를 포함할 수 있다. 이를 위해, 송수신부(1900, 1910)는 전송되는 신호의 주파수를 상승 변환 및 증폭하는 RF 송신기와, 수신 되는 신호를 저 잡음 증폭하고 주파수를 하강 변환하는 RF 수신기 등으로 구성될 수 있다. 다만, 이는 송수신부 (1900, 1910)의 일 실시예일뿐이며, 송수신부의 구성 요소가 RF 송신기 및 RF 수신기에 한정되는 것은 아니다. 또한, 송수신부(1900, 1910)는 무선 채널을 통해 신호를 수신하여 프로세서로 출력하고, 프로세서로부터 출력된 신호를 무선 채널을 통해 전송할 수 있다. 메모리는 기지국의 동작에 필요한 프로그램 및 데이터를 저장할 수 있다. 또한, 메모리는 기지국이 송수신하는 신호에 포함된 제어 정보 또는 데이터를 저장할 수 있다. 메모리는 롬(ROM), 램(RAM), 하드디스크, CD-ROM 및 DVD 등과 같은 저장 매체 또는 저장 매체들의 조합으로 구성될 수 있다. 또한, 메모리는 복수 개일 수 있다. 프로세서는 전술한 본 개시의 실시 예에 따라 기지국이 동작할 수 있도록 일련의 과정을 제어할 수 있다. 예를 들어, 프로세서는 복수의 PDSCH에 대한 할당 정보를 포함하는 두 가지 계층의 DCI들을 구성하고 이를 전송하기 위해 기지국의 각 구성 요소를 제어할 수 있다. 프로세서는 복수 개일 수 있으며, 프로세서는 메모리에 저장된 프로그램을 실행함으로써 기지국의 구성 요소 제어 동작을 수행할 수 있다. 본 개시의 청구항 또는 명세서에 기재된 실시 예들에 따른 방법들은 하드웨어, 소프트웨어, 또는 하드웨어와 소 프트웨어의 조합의 형태로 구현될(implemented) 수 있다. 소프트웨어로 구현하는 경우, 하나 이상의 프로그램(소프트웨어 모듈)을 저장하는 컴퓨터 판독 가능 저장 매체 가 제공될 수 있다. 컴퓨터 판독 가능 저장 매체에 저장되는 하나 이상의 프로그램은, 전자 장치(device) 내의 하나 이상의 프로세서에 의해 실행 가능하도록 구성된다(configured for execution). 하나 이상의 프로그램은, 전자 장치로 하여금 본 개시의 청구항 또는 명세서에 기재된 실시 예들에 따른 방법들을 실행하게 하는 명령어 (instructions)를 포함한다. 이러한 프로그램(소프트웨어 모듈, 소프트웨어)은 랜덤 액세스 메모리 (random access memory), 플래시(flash) 메모리를 포함하는 불휘발성(non-volatile) 메모리, 롬(ROM: Read Only Memory), 전기적 삭제가능 프로그램가 능 롬(EEPROM: Electrically Erasable Programmable Read Only Memory), 자기 디스크 저장 장치(magnetic disc storage device), 컴팩트 디스크 롬(CD-ROM: Compact Disc-ROM), 디지털 다목적 디스크(DVDs: DigitalVersatile Discs) 또는 다른 형태의 광학 저장 장치, 마그네틱 카세트(magnetic cassette)에 저장될 수 있다. 또는, 이들의 일부 또는 전부의 조합으로 구성된 메모리에 저장될 수 있다. 또한, 각각의 구성 메모리는 복수 개 포함될 수도 있다. 또한, 프로그램은 인터넷(Internet), 인트라넷(Intranet), LAN(Local Area Network), WLAN(Wide LAN), 또는 SAN(Storage Area Network)과 같은 통신 네트워크, 또는 이들의 조합으로 구성된 통신 네트워크를 통하여 접근 (access)할 수 있는 부착 가능한(attachable) 저장 장치(storage device)에 저장될 수 있다. 이러한 저장 장치 는 외부 포트를 통하여 본 개시의 실시 예를 수행하는 장치에 접속할 수 있다. 또한, 통신 네트워크상의 별도의 저장장치가 본 개시의 실시 예를 수행하는 장치에 접속할 수도 있다. 상술한 본 개시의 구체적인 실시 예들에서, 개시에 포함되는 구성 요소는 제시된 구체적인 실시 예에 따라 단수 또는 복수로 표현되었다. 그러나, 단수 또는 복수의 표현은 설명의 편의를 위해 제시한 상황에 적합하게 선택된 것으로서, 본 개시가 단수 또는 복수의 구성 요소에 제한되는 것은 아니며, 복수로 표현된 구성 요소라 하더라 도 단수로 구성되거나, 단수로 표현된 구성 요소라 하더라도 복수로 구성될 수 있다. 한편, 본 명세서와 도면에 개시된 본 개시의 실시 예들은 본 개시의 기술 내용을 쉽게 설명하고 본 개시의 이해 를 돕기 위해 특정 예를 제시한 것일 뿐이며, 본 개시의 범위를 한정하고자 하는 것은 아니다. 즉 본 개시의 기 술적 사상에 바탕을 둔 다른 변형예들이 실시 가능하다는 것은 본 개시의 속하는 기술 분야에서 통상의 지식을 가진 자에게 자명한 것이다. 또한 상기 각각의 실시 예는 필요에 따라 서로 조합되어 운용할 수 있다. 예컨대, 본 개시의 일 실시 예와 다른 일 실시 예의 일부분들이 서로 조합되어 기지국과 단말이 운용될 수 있다. 예를 들면, 본 개시의 제1 실시 예와 제2 실시 예의 일부분들이 서로 조합되어 기지국과 단말이 운용될 수 있다. 또 한 상기 실시 예들은 FDD LTE 시스템을 기준으로 제시되었지만, TDD LTE 시스템, 5G 혹은 NR 시스템 등 다른 시 스템에도 상기 실시 예의 기술적 사상에 바탕을 둔 다른 변형예들이 실시 가능할 것이다. 한편, 본 개시의 방법을 설명하는 도면에서 설명의 순서가 반드시 실행의 순서와 대응되지는 않으며, 선후 관계 가 변경되거나 병렬적으로 실행될 수도 있다. 또는, 본 개시의 방법을 설명하는 도면은 본 개시의 본질을 해치지 않는 범위 내에서 일부의 구성 요소가 생략 되고 일부의 구성요소만을 포함할 수 있다. 또한, 본 개시의 방법은 발명의 본질을 해치지 않는 범위 내에서 각 실시예에 포함된 내용의 일부 또는 전부가 조합되어 실행될 수도 있다. 본 개시의 다양한 실시예들이 전술되었다. 전술한 본 개시의 설명은 예시를 위한 것이며, 본 개시의 실시예들은"}
{"patent_id": "10-2023-0141107", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 30, "content": "개시된 실시예들에 한정되는 것은 아니다. 본 개시가 속하는 기술분야의 통상의 지식을 가진 자는 본 개시의 기 술적 사상이나 필수적인 특징을 변경하지 않고서 다른 구체적인 형태로 쉽게 변형이 가능하다는 것을 이해할 수 있을 것이다. 본 개시의 범위는 상기 상세한 설명보다는 후술하는 특허청구범위에 의하여 나타내어지며, 특허청 구범위의 의미 및 범위 그리고 그 균등 개념으로부터 도출되는 모든 변경 또는 변형된 형태가 본 개시의 범위에 포함되는 것으로 해석되어야 한다.도면 도면1 도면2 도면3 도면4 도면5 도면6 도면7 도면8 도면9 도면10 도면11 도면12 도면13 도면14 도면15 도면16 도면17 도면18 도면19"}
{"patent_id": "10-2023-0141107", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 개시의 일 실시예에 따른 무선 통신 시스템에서 시간-주파수영역의 기본 구조를 도시한다. 도 2는 본 개시의 일 실시예에 따른 무선 통신 시스템에서 프레임, 서브프레임, 슬롯 구조를 도시한다. 도 3은 본 개시의 일 실시예에 따른 무선 통신 시스템에서 PUSCH 반복 전송 타입 B의 일례를 도시한다. 도 4은 본 개시의 일 실시예에 따른 비주기적 CSI 보고 방법의 일 예를 도시한다. 도 5은 본 개시의 일 실시예에 따른 상향링크 제어 정보가 PUSCH에 매핑되는 일 예를 도시한다. 도 6은 본 개시의 일 실시예에 따른 단말과 기지국 사이의 UCI 정보를 PUSCH로 송수신하는 처리 절차를 도시한 다. 도 7은 본 개시의 일 실시예에 따른 NR 시스템에서 semi-static HARQ-ACK 코드북 (또는 Type-1 HARQ-ACK 코드 북) 설정 방법을 나타낸 도면이다. 도 8은 본 개시의 일 실시예에 따른 NR 시스템에서 dynamic HARQ-ACK 코드북 (또는 Type-2 HARQ-ACK 코드북) 설정 방법을 나타낸 도면이다.도 9는 본 개시의 일 실시 예에 따른 복수의 서로 다른 HARQ-ACK 코드북이 중첩된 상황을 나타내는 도면이다. 도 10은 본 개시의 일 실시 예에 따른 단말의 PUCCH 또는 PUSCH 송신 동작을 도시한 블록도이다. 도 11은 본 개시의 일 실시 예에 따른 SPS PDSCH와 이에 대한 HARQ-ACK 정보 전송 관계를 나타내는 도면이다. 도 12는 본 개시의 일 실시 예에 따른 CA 상황에서 PDSCH 수신에 대한 HARQ-ACK 정보 전송 관계를 나타내는 도 면이다. 도 13은 본 개시의 일 실시 예에 따른 CA 상황에서 PDSCH 수신에 대한 HARQ-ACK 정보 전송 관계를 보여주는 도 면이다. 도 14는 본 개시의 일 실시 예에 따른 4 비트 PDSCH-to-HARQ_feedback timing을 지원하는 단말 능력에 따른 기 지국 동작을 나타내는 흐름도이다. 도 15는 본 개시의 일 실시 예에 따른 4 비트 PDSCH-to-HARQ_feedback timing을 지원하는 단말 능력에 따른 단 말 동작을 나타내는 흐름도이다. 도 16는 본 개시의 일 실시 예에 따른 PUCCH 및 PUSCH 동시 전송을 지원하는 단말 능력에 따른 기지국 동작을 나타내는 흐름도이다. 도 17는 본 개시의 일 실시 예에 따른 PUCCH 및 PUSCH 동시 전송을 지원하는 단말 능력에 따른 단말 동작을 나 타내는 흐름도이다. 도 18는 본 개시의 일 실시 예에 따른 무선 통신 시스템에서 단말의 구조를 도시한다. 도 19는 본 개시의 일 실시 예에 따른 무선 통신 시스템에서 기지국의 구조를 도시한다."}
