{"patent_id": "10-2023-0036750", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0142140", "출원번호": "10-2023-0036750", "발명의 명칭": "강화학습기반 전산유체해석용 자동 격자 생성 장치 및 그 방법", "출원인": "한국생산기술연구원", "발명자": "이상아"}}
{"patent_id": "10-2023-0036750", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "신경망을 이용하여 대상물체의 형상에 따른 하나의 격자층을 이루는 모든 포인트를 생성하는 단일 격자층 생성부;상기 단일 격자층 생성부에서 생성된 격자층의 모든 포인트를 획득하는 다음 격자층 획득부; 상기 획득된 모든 포인트에 의해 형성되는 각 격자의 품질에 따라 보상을 산출하는 보상 산출부;상기 산출된 보상 및 상기 신경망의 출력을 이용하여 상기 신경망을 업데이트하기 위한 손실을 연산하는 손실연산부;상기 손실을 최소화하도록 상기 신경망의 파라미터를 업데이트하는 파라미터 업데이트부; 및상기 생성된 모든 포인트를 상기 단일 격자층 생성부의 상태 입력으로 업데이트하는 상태 업데이트부;를 포함하는 강화학습기반 전산유체해석용 자동 격자 생성 장치."}
{"patent_id": "10-2023-0036750", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 단일 격자층 생성부는,상기 포인트를 생성하기 위해 전진하고자 하는 현재 격자층의 포인트를 상태로 입력하는 상태 입력부;상기 입력된 상태에 대하여 Q 가치를 근사하는 신경망;상기 신경망을 통해 산출된 Q 가치를 출력하는 결과 출력부; 및타겟 포인트로 전진하기 위해 취해야 하는 액션을 선택하는 액션 선택부;를 포함하는 강화학습기반 전산유체해석용 자동 격자 생성 장치."}
{"patent_id": "10-2023-0036750", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서, 상기 단일 격자층 생성부는 상기 대상물체의 형상 정보가 입력되고, 상기 대상물체는 N개의 표면 포인트를 가지며,상기 생성되는 포인트로 이루어진 격자층은 N개이고,상기 상태 입력부는 상태 입력으로서 L개의 포인트가 입력되며, 상기 L은 N보다 작은 강화학습기반 전산유체해석용 자동 격자 생성 장치."}
{"patent_id": "10-2023-0036750", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제2항에 있어서,상기 신경망은 MLP(Multi layer perceptron), RNN(Recurrent neural net) 및 GNN(Graph Neural net)을 포함하는 강화학습기반 전산유체해석용 자동 격자 생성 장치."}
{"patent_id": "10-2023-0036750", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제2항에 있어서,상기 액션 선택부는 진행 방향을 일정 각도로 n 등분하여 그 중 하나의 방향으로 미리 결정된 일정 거리만큼 전공개특허 10-2024-0142140-3-진하도록 선택하는 강화학습기반 전산유체해석용 자동 격자 생성 장치."}
{"patent_id": "10-2023-0036750", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5항에 있어서,상기 액션 선택부는 7개의 진행 방향 중 하나를 선택하는 강화학습기반 전산유체해석용 자동 격자 생성 장치."}
{"patent_id": "10-2023-0036750", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제5항에 있어서,상기 전진하는 거리는 상기 대상물체의 기준길이에 대하여 정규화한 수치인 강화학습기반 전산유체해석용 자동격자 생성 장치."}
{"patent_id": "10-2023-0036750", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제2항에 있어서,상기 보상 산출부는 격자층 사이에 형성되는 격자의 직교성(Orthogonality) 및 기준 격자와 인접 격자의 면적비에 따른 격자의 품질을 이용하여 보상을 산출하는 강화학습기반 전산유체해석용 자동 격자 생성 장치."}
{"patent_id": "10-2023-0036750", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에 있어서,상기 격자의 직교성은 하기의 식에 따른 틀어짐(skewness)으로 산출되고,상기 면적비는 하기의 식에 따라 산출되는 강화학습기반 전산유체해석용 자동 격자 생성 장치.여기서, Qmax는 격자 내의 가장 큰 각도, Qmin는 격자 내의 가장 작은 각도, Qeauil는 격자의 등변의 각도이며,Sref는 기준 격자의 면적, Sneighbor는 상기 기준 격자의 좌, 우, 아래에 위치한 인접 격자의 면적"}
{"patent_id": "10-2023-0036750", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제2항에 있어서,상기 파라미터는 첫번째 격자층 높이(l0), 격자층 증가비율(m), 격자층의 개수(lmax), 상태로 정의되는 포인트의수(q), 보상계산시 가중치(α) 및 액션의 개수를 포함하는 강화학습기반 전산유체해석용 자동 격자 생성 장치."}
{"patent_id": "10-2023-0036750", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제1항에 있어서, 상기 대상물체는 익형이고,상기 생성된 격자는 상기 대상물체의 경계층 격자인 강화학습기반 전산유체해석용 자동 격자 생성 장치."}
{"patent_id": "10-2023-0036750", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "대상물체의 형상 정보를 입력하는 단계;신경망을 이용하여 상기 대상물체의 형상에 따른 하나의 격자층을 이루는 모든 포인트를 생성하는 단계;상기 생성된 격자층의 모든 포인트를 획득하는 단계; 공개특허 10-2024-0142140-4-상기 획득된 모든 포인트에 의해 형성되는 각 격자의 품질에 따라 보상을 산출하는 단계;상기 산출된 보상 및 상기 신경망의 출력을 이용하여 상기 신경망을 업데이트하기 위한 손실을 연산하는 단계;상기 손실을 최소화하도록 상기 신경망의 파라미터를 업데이트하는 단계; 및상기 생성된 모든 포인트를 상기 생성하는 단계의 상태 입력으로 업데이트하는 단계;를 포함하는 강화학습기반 전산유체해석용 자동 격자 생성 방법."}
{"patent_id": "10-2023-0036750", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제12항에 있어서, 상기 생성하는 단계는,상기 포인트를 생성하기 위해 전진하고자 하는 현재 격자층의 포인트를 상태로 입력하는 단계;상기 입력된 상태에 대하여 Q 가치를 근사하는 신경망 처리 단계;상기 신경망을 통해 산출된 Q 가치를 출력하는 단계; 및타겟 포인트로 전진하기 위해 취해야 하는 액션을 선택하는 단계;를 포함하는 강화학습기반 전산유체해석용 자동 격자 생성 방법."}
{"patent_id": "10-2023-0036750", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제13항 및 제14항 중 어느 한 항의 방법을 수행하기 위한 프로그램이 기록된 컴퓨터 판독가능한 기록매체."}
{"patent_id": "10-2023-0036750", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "강화학습기반 전산유체해석용 자동 격자 생성 장치 및 그 방법이 제공된다. 본 발명의 실시예에 따른 강화학습기 반 전산유체해석용 자동 격자 생성 장치는 신경망을 이용하여 대상물체의 형상에 따른 하나의 격자층을 이루는 모든 포인트를 생성하는 단일 격자층 생성부, 단일 격자층 생성부에서 생성된 격자층의 모든 포인트를 획득하는 다음 격자층 획득부, 획득된 모든 포인트에 의해 형성되는 각 격자의 품질에 따라 보상을 산출하는 보상 산출부, 산출된 보상 및 신경망의 출력을 이용하여 신경망을 업데이트하기 위한 손실을 연산하는 손실 연산부, 손실을 최 소화하도록 신경망의 파라미터를 업데이트하는 파라미터 업데이트부, 및 생성된 모든 포인트를 단일 격자층 생성 부의 상태 입력으로 업데이트하는 상태 업데이트부를 포함한다."}
{"patent_id": "10-2023-0036750", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 강화학습기반 전산유체해석용 자동 격자 생성 장치 및 그 방법에 관한 것으로, 특히, 인공지능을 사 용하여 고품질의 격자 생성을 자동화할 수 있는 강화학습기반 전산유체해석용 자동 격자 생성 장치 및 그 방법 에 관한 것이다."}
{"patent_id": "10-2023-0036750", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "일반적으로, 전산유체해석(Computational fluid dynamics, CFD)의 여러 단계 중, 격자 생성은 보조적인 단계이 자 비학술적인 영역으로 여겨지는 경향이 있으므로 해석기법(scheme) 개발 등에 비해 관심 있게 연구되지 않고 있다. 그러나 복잡한 형상에 대한 전산유체해석에서 해석 격자를 생성하는 것은 결과에 막대한 영향을 미치기 때문에 격자 생성 과정은 해석자의 가장 많은 노동시간이 요구되는 과정이자 해석자의 경험이 매우 중요한 과정 으로, 해석자의 피로도 및 해석 결과에 휴먼 에러가 개입하게 되는 원인이 되기도 한다. 반복 계산이 필요한 공력-구조 연계해석, 착빙(icing), 움직이는 물체의 해석, 많은 케이스 해석이 필요한 설계 최적화 등에서 격자 생성이 자동화되지 않을 경우, 격자 생성은 전체 연구과정에서 보틀넥으로 작용한다. 아울 러, 해석자의 개입 없이 유동 조건을 고려하여 양질의 격자를 자동으로 생성할 수 있는 알고리즘은 전체 해석 단계를 단축시키고, 특히 해석자의 시간을 크게 아껴 줄 수 있기 때문에 전산유체해석 연구자에게 매우 필요한 기술이다. 따라서 전산유체해석을 위한 자동 격자 생성 방안이 필요한 실정이다. 선행기술문헌 특허문헌 (특허문헌 0001) KR 10-0539949 B1"}
{"patent_id": "10-2023-0036750", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 2, "content": "발명의 내용"}
{"patent_id": "10-2023-0036750", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "상기와 같은 종래 기술의 문제점을 해결하기 위해, 본 발명의 일 실시예는 인공지능을 사용하여 고품질의 격자 생성을 자동화할 수 있는 강화학습기반 전산유체해석용 자동 격자 생성 장치 및 그 방법을 제공하고자 한다."}
{"patent_id": "10-2023-0036750", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "위와 같은 과제를 해결하기 위한 본 발명의 일 측면에 따르면, 신경망을 이용하여 대상물체의 형상에 따른 하나 의 격자층을 이루는 모든 포인트를 생성하는 단일 격자층 생성부; 상기 단일 격자층 생성부에서 생성된 격자층 의 모든 포인트를 획득하는 다음 격자층 획득부; 상기 획득된 모든 포인트에 의해 형성되는 각 격자의 품질에 따라 보상을 산출하는 보상 산출부; 상기 산출된 보상 및 상기 신경망의 출력을 이용하여 상기 신경망을 업데이 트하기 위한 손실을 연산하는 손실 연산부; 상기 손실을 최소화하도록 상기 신경망의 파라미터를 업데이트하는 파라미터 업데이트부; 및 상기 생성된 모든 포인트를 상기 단일 격자층 생성부의 상태 입력으로 업데이트하는 상태 업데이트부;를 포함하는 강화학습기반 전산유체해석용 자동 격자 생성 장치가 제공된다. 일 실시예에서, 상기 단일 격자층 생성부는, 상기 포인트를 생성하기 위해 전진하고자 하는 현재 격자층의 포인 트를 상태로 입력하는 상태 입력부; 상기 입력된 상태에 대하여 Q 가치를 근사하는 신경망; 상기 신경망을 통해 산출된 Q 가치를 출력하는 결과 출력부; 및 타겟 포인트로 전진하기 위해 취해야 하는 액션을 선택하는 액션 선 택부;를 포함할 수 있다. 일 실시예에서, 상기 단일 격자층 생성부는 상기 대상물체의 형상 정보가 입력되고, 상기 대상물체는 N개의 표 면 포인트를 가지며, 상기 생성되는 포인트로 이루어진 격자층은 N개이고, 상기 상태 입력부는 상태 입력으로서 L개의 포인트가 입력되며, 상기 L은 N보다 작을 수 있다. 일 실시예에서, 상기 신경망은 MLP(Multi layer perceptron), RNN(Recurrent neural net) 및 GNN(Graph Neural net)을 포함할 수 있다. 일 실시예에서, 상기 액션 선택부는 진행 방향을 일정 각도로 n 등분하여 그 중 하나의 방향으로 미리 결정된 일정 거리만큼 전진하도록 선택할 수 있다. 일 실시예에서, 상기 액션 선택부는 7개의 진행 방향 중 하나를 선택할 수 있다. 일 실시예에서, 상기 전진하는 거리는 상기 대상물체의 기준길이에 대하여 정규화한 수치일 수 있다. 일 실시예에서, 상기 보상 산출부는 격자층 사이에 형성되는 격자의 직교성(Orthogonality) 및 기준 격자와 인 접 격자의 면적비에 따른 격자의 품질을 이용하여 보상을 산출할 수 있다. 일 실시예에서, 상기 격자의 직교성은 하기의 식에 따른 틀어짐(skewness)으로 산출되고, 상기 면적비는 하기의 식에 따라 산출될 수 있다 :"}
{"patent_id": "10-2023-0036750", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 2, "content": "여기서, Qmax는 격자 내의 가장 큰 각도, Qmin는 격자 내의 가장 작은 각도, Qeauil는 격자의 등변의 각도이며, Sref 는 기준 격자의 면적, Sneighbor는 상기 기준 격자의 좌, 우, 아래에 위치한 인접 격자의 면적이다. 일 실시예에서, 상기 파라미터는 첫번째 격자층 높이(l0), 격자층 증가비율(m), 격자층의 개수(lmax), 상태로 정 의되는 포인트의 수(q), 보상계산시 가중치(α) 및 액션의 개수를 포함할 수 있다. 일 실시예에서, 상기 대상물체는 익형이고, 상기 생성된 격자는 상기 대상물체의 경계층 격자일 수 있다. 본 발명의 다른 측면에 따르면, 대상물체의 형상 정보를 입력하는 단계; 신경망을 이용하여 대상물체의 형상에 따른 하나의 격자층을 이루는 모든 포인트를 생성하는 단계; 상기 생성된 격자층의 모든 포인트를 획득하는 단 계; 상기 획득된 모든 포인트에 의해 형성되는 각 격자의 품질에 따라 보상을 산출하는 단계; 상기 산출된 보상 및 상기 신경망의 출력을 이용하여 상기 신경망을 업데이트하기 위한 손실을 연산하는 단계; 상기 손실을 최소화하도록 상기 신경망의 파라미터를 업데이트하는 단계; 및 상기 생성된 모든 포인트를 상기 생성하는 단계의 상태 입력으로 업데이트하는 단계;를 포함하는 강화학습기반 전산유체해석용 자동 격자 생성 방법이 제공된다. 일 실시예에서, 상기 생성하는 단계는, 상기 포인트를 생성하기 위해 전진하고자 하는 현재 격자층의 포인트를 상태로 입력하는 단계; 상기 입력된 상태에 대하여 Q 가치를 근사하는 신경망 처리 단계; 상기 신경망을 통해 산출된 Q 가치를 출력하는 단계; 및 타겟 포인트로 전진하기 위해 취해야 하는 액션을 선택하는 단계;를 포함할 수 있다. 본 발명의 또 다른 측면에 따르면, 상술한 바와 같은 방법을 수행하기 위한 프로그램이 기록된 컴퓨터 판독가능 한 기록매체가 제공된다."}
{"patent_id": "10-2023-0036750", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 일 실시예에 따른 강화학습기반 전산유체해석용 자동 격자 생성 장치 및 그 방법은 인공지능을 사용 하여 격자 생성을 자동화함으로써, 고품질의 격자를 생성할 수 있으므로 양질의 격자 생성을 위해 소비되는 긴 노동 시간을 단축하여 연구 효율을 향상시킬 수 있다."}
{"patent_id": "10-2023-0036750", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부한 도면을 참고로 하여 본 발명의 실시예에 대하여 본 발명이 속하는 기술분야에서 통상의 지식을 가 진 자가 용이하게 실시할 수 있도록 상세히 설명한다. 본 발명은 여러 가지 상이한 형태로 구현될 수 있으며 여 기에서 설명하는 실시예에 한정되지 않는다. 도면에서 본 발명을 명확하게 설명하기 위해서 설명과 관계없는 부 분은 생략하였으며, 명세서 전체를 통하여 동일 또는 유사한 구성요소에 대해서는 동일한 참조부호를 붙였다. 이하에서는 도면을 참조하여 본 발명의 일 실시예에 따른 강화학습기반 전산유체해석용 자동 격자 생성 장치를 보다 상세히 설명하도록 한다. 도 1은 본 발명의 일 실시예에 따른 강화학습기반 전산유체해석용 자동 격자 생 성 장치의 블록도이고, 도 2는 본 발명의 일 실시예에 따른 강화학습기반 전산유체해석용 자동 격자 생성 장치 의 격자 생성 결과로서, (a)는 익형 (b)는 각형에 대한 결과이다. 도 1을 참조하면, 본 발명의 일 실시예에 따른 강화학습기반 전산유체해석용 자동 격자 생성 장치는 단일 격자층 생성부, 다음 격자층 획득부, 보상 산출부, 손실 연산부, 파라미터 업데이트부 및 상태 업데이트부를 포함한다. 강화학습기반 전산유체해석용 자동 격자 생성 장치는 인공지능 방식중 하나인 강화학습을 기반으로 하여 격자 생성을 자동화하기 위한 장치이다. 여기서, 기존의 격자 생성 프로그램은 파라미터를 최적화하는 방향으로 강화학습을 활용하였으나, 본 발명은 강화학습 기반의 격자 생성자 자체를 제공하며, 이러한 격자 생성자를 활 용하여 대상물체에 대한 경계층 격자를 성공적으로 생성할 수 있다. 즉, 강화학습은 순차적인 결정을 내려야 하 는 일에 적합하며, 격자 생성문제는 물체 표면의 격자점(surface grid)를 해석하고자 하는 공간으로 순차적으로 이동(혹은 확장)해 나가는 일종의 순차적 행동결정문제(Markov Decision Process; MDP)로 볼 수 있다. 특히, 가 장 많은 시간이 걸리고 양질의 격자를 얻기가 가장 어려운 경계층 격자(Prism layer)의 경우 표면 격자를 1:1로 원하는 층(layer)수만큼 쌓아 올리기 때문에 오히려 강화학습으로서 문제정의가 적합하다. 이때, 강화학습기반 전산유체해석용 자동 격자 생성 장치는 격자 생성에 필요한 파라미터와 표면 격자 정 보를 받아서 변수화하고 액션 스페이스(action space; 각 격자점이 선택할 수 있는 방향)와 오브저베이션 스페 이스(observation space; 격자점이 위치할 수 있는 공간 정보)를 정의한다. 여기서, 한 층의 격자점이 모두 다 음 층으로 이동하는 것을 한 스텝(step)으로 정의한다. 도 2a를 참조하면, 강화학습기반 전산유체해석용 자동 격자 생성 장치는 전산유체해석을 위한 대상물체가 익형일 수 있다. 이때, 강화학습기반 전산유체해석용 자동 격자 생성 장치는 대상물체의 경계층 격자를 생 성할 수 있다. 도 2b를 참조하면, 강화학습기반 전산유체해석용 자동 격자 생성 장치는 전산유체해석을 위한 대상물체가 각형일 수 있음은 물론이다. 전산유체해석용 자동 격자 생성 장치는 가장 바깥쪽 층(전면 층(frontal layer)로 정의)의 한 포인트를 에 이전트(agent)로 정의하고, 한 스텝안에 이너 루프를 만들어 한 층의 격자점이 순서대로 전진하는 것으로 구성 할 수 있다. 여기서, 이너 루프는 단일 격자층 생성부이다. 단일 격자층 생성부는 신경망을 이용하여 대상물체의 형상에 따른 하나의 격자층을 이루는 모든 포인트를 생성할 수 있다. 이때, 단일 격자층 생성부는 대상물체의 형상 정보가 입력될 수 있다. 여기서, 대상물체 는 N개의 표면 포인트(표면 격자)를 가질 수 있다. 또한, 생성되는 포인트로 이루어진 격자층은 표면 포인트와 동일하게 N개일 수 있다. 즉, 단일 격자층은 N개의 포인트를 포함할 수 있다. 이러한 단일 격자층 생성부 는 상태 입력부, 신경망, 결과 출력부 및 액션 선택부를 포함할 수 있다. 상태 입력부는 포인트를 생성하기 위해 전진하고자 하는 현재 격자층의 포인트를 상태로 입력할 수 있다. 일례로, 상태 입력부는 상태 입력으로서 표면 포인트(또는 현재 층의 포인트) 중에서 L개의 포인트가 입력 될 수 있다. 여기서, L은 N보다 작을 수 있다. 예를 들면, 상태 입력부는 현재 시점의 에이전트가 되는 하 나의 격자점 좌우의 n개의 포인트를 포함하는 n*2+1개의 포인트 세트가 상태로 입력될 수 있다. 즉, 전진하고자 하는 포인트 좌우 n개의 포인트를 포함하는 1차원 벡터일 수 있다(도 3 참조). 예를 들면, n=2인 경우, 상태는 St={px-2, px-1, px, px+1, px+2}로 총 5개일 수 있다. 신경망은 상태 입력부에서 입력된 상태에 대하여 Q 가치(value)를 근사할 수 있다. 이때, 신경망 은 MLP(Multi layer perceptron), RNN(Recurrent neural net) 및 GNN(Graph Neural net)을 포함할 수 있 지만, 이에 한정되지 않고 다양한 모델을 적용할 수 있음은 물론이다. 결과 출력부는 신경망을 통해 산출된 Q 가치를 출력할 수 있다. 여기서, 신경망을 통해 산출되 는 값은 다음 액션을 선택하는 근거로 사용될 수 있다. 액션 선택부는 타겟 포인트로 전진하기 위해 취해야 하는 액션을 선택할 수 있다. 여기서, 타겟 포인트는 현재 상태를 기초로 생성하고자 하는 포인트를 의미한다. 도 3은 본 발명의 일 실시예에 따른 강화학습기반 전산유체해석용 자동 격자 생성 장치의 액션의 일례를 설명하 기 위한 도면으로서, (a)는 블록 형상, (b)는 오목 형상에 대한 도면이다. 도 3을 참조하면, 액션 선택부는 각도 및 거리를 선택할 수 있다. 일례로, 액션 선택부는 30도 방향 으로 0.1 거리만큼 전진하도록 선택할 수 있다. 여기서, 각 포인트의 전진 거리는 격자를 쌓고자 하는 대상물체 의 기준길이에 대해 정규화한 수치로 단위는 없다. 이때, 전진하는 거리는 고정되고, 액션으로는 움직이는 방향을 선택한다. 즉, 액션 선택부는 진행 방향을 일정 각도로 n 등분하여 그 중 하나의 방향으로 미리 결정된 일정 거리만큼 전진하도록 선택할 수 있다. 일례로, 액션 선택부는 도 3a에 도시된 바와 같이, 45˚, 60˚, 75˚, 90˚, 105˚, 120˚, 135˚ 등의 7 개의 진행 방향 중에서 하나의 방향을 선택할 수 있다. 아울러, 액션 선택부는 도 3b에 도시된 바와 같이, 이동가능한 공간이 좁을 경우, 해당 각도를 스케일 다운(scale down)하여 만들어지는 각도 내에서 이동하도록 선택할 수 있다. 다시 도 1을 참조하면, 다음 격자층 획득부는 단일 격자층 생성부에서 생성된 격자층의 모든 포인트 를 획득할 수 있다. 즉, 다음 격자층 획득부는 단일 격자층 생성부에서 획득된 한층에 대한 모든 포 인트위 위치가 결정되면 새로운 전면 메시(Next frontal mesh(St+1))를 획득할 수 있다.보상 산출부는 다음 격자층 획득부에서 획득된 모든 포인트에 의해 형성되는 각 격자의 품질에 따라 보상을 산출할 수 있다. 여기서, 다음 전면 메시를 얻게 되면 한 층의 체적 메시를 얻게 되고, 이에 대하여 보 상 산출부는 뒤틀림(skewness) 및 면적비(area ratio) 등의 격자의 품질을 판단하는 계량(metric)을 이용 하여 보상(reward)을 산출할 수 있다. 일례로, 보상 산출부는 격자층 사이에 형성되는 격자의 직교성 (Orthogonality) 및 기준 격자와 인접 격자의 면적비에 따른 격자의 품질을 이용하여 보상을 산출할 수 있다. 도 4는 본 발명의 일 실시예에 따른 강화학습기반 전산유체해석용 자동 격자 생성 장치의 격자 품질을 설명하기 위한 도면이다. 도 4를 참조하면, 격자의 직교성은 하기의 식에 따른 틀어짐(skewness)으로 산출될 수 있다."}
{"patent_id": "10-2023-0036750", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "여기서, Qmax는 격자 내의 가장 큰 각도, Qmin는 격자 내의 가장 작은 각도, Qeauil는 격자의 등변의 각도이다. 도 4에서, 격자는 4각형이므로 Qeauil는 90도이고, Qmax는 θ3, Qmin는 θ1이다. 아울러, 면적비는 하기의 식에 따라 산출될 수 있다."}
{"patent_id": "10-2023-0036750", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "여기서, Sref는 기준 격자의 면적, Sneighbor는 기준 격자의 좌, 우, 아래에 위치한 인접 격자의 면적이다. 도 4에 서, Min(Sneighbor)는 기준 격자 하측의 Sn2이고, 기준 격자 우측의 Max(Sneighbor)는 Sn3이다. 다시 도 1을 참조하면, 손실 연산부는 보상 산출부에서 산출된 보상 및 신경망의 출력을 이용하 여 신경망을 업데이트하기 위한 손실을 연산할 수 있다. 이때, 손실 연산부는 알고리즘 종류에 따라 다양한 손실 연산식을 사용할 수 있다. 파라미터 업데이트부는 손실 연산부에서 연산되는 손실을 최소화하도록 신경망의 파라미터를 업 데이트할 수 있다. 일례로, 파라미터 업데이트부는 역전파를 이용하여 손실을 최소화하도록 신경망의 파라미터를 업데이트할 수 있다. 이때, 파라미터는 첫번째 격자층 높이(l0), 격자층 증가비율(m), 격자층의 개 수(lmax), 상태로 정의되는 포인트의 수(q), 보상계산시 가중치(α) 및 액션의 개수를 포함할 수 있다. 여기서, 첫번째 격자층 높이(l0)는 표면 격자 다음으로 처음 생성되는 격자의 이동 거리일 수 있다. 격자층 증가 비율(m)은 현재 격자층의 수에 대한 다음 격자층의 수의 비율일 수 있다. 격자층의 개수(lmax)는 스텝의 개수로 서, 단일 격자층 생성부에 생성되는 격자층의 개수이다. 이때, 액션 길이(l)는 하기의 식을 만족할 수 있 다."}
{"patent_id": "10-2023-0036750", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "여기서, t는 스텝으로서 t번째 층을 의미한다. 상태로 정의되는 포인트의 수(q)는 하기와 같이 나타낼 수 있다. 도 3에서 상태로 정의되는 포인트의 수(q)는 5 이다."}
{"patent_id": "10-2023-0036750", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "보상계산시 가중치(α)는 하기의 식과 같이 나타낼 수 있다. 액션의 개수는 하기의 식으로 나타낼 수 있다. 도 3에서 액션의 개수는 7일 수 있다."}
{"patent_id": "10-2023-0036750", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "여기서, n은 액션의 수이다. 액션 방향은 표면 형상을 기준으로 n 등분한다. 상태 업데이트부는 생성된 모든 포인트를 단일 격자층 생성부의 상태 입력으로 업데이트할 수 있다. 즉, 상태 업데이트부는 현재 상태(current state, St)를 다음 전면 메시(St+1)로 업데이트하고 단일 격자 층 생성부로 입력할 수 있다. 이와 같이, 본 발명의 일 실시예에 따른 강화학습기반 전산유체해석용 자동 격자 생성 장치는 인공지능을 사용하여 격자 생성을 자동화함으로써, 고품질의 격자를 생성할 수 있으므로 양질의 격자 생성을 위해 소비되는 긴 노동 시간을 단축하여 연구 효율을 향상시킬 수 있다. 이하, 도 5 및 도 6을 참조하여 본 발명의 강화학습기반 전산유체해석용 자동 격자 생성 방법을 설명한다. 도 5는 본 발명의 일 실시예에 따른 강화학습기반 전산유체해석용 자동 격자 생성 방법의 순서도이다. 도 5를 참조하면, 강화학습기반 전산유체해석용 자동 격자 생성 방법은 대상물체의 형상 정보를 입력하는 단계(S210), 대상물체의 형상에 따라 하나의 격자층을 생성하는 단계(S220), 격자층의 모든 포인트를 획득하는 단계(S230), 각 스텝별 보상을 산출하는 단계(S240), 신경망을 업데이트하기 위한 손실을 연산하는 단계(S250), 신경망의 파라미터를 업데이트하는 단계(S260), 격자층을 생성하기 위한 상태를 업데이트하는 단계(S270) 및 반 복하는 단계(S220 내지 S280)를 포함한다. 보다 상세히 설명하면, 도 5에 도시된 바와 같이, 먼저, 강화학습기반 전산유체해석용 자동 격자 생성 장치 는 대상물체의 형상 정보를 입력한다(단계 S210). 여기서, 대상물체는 N개의 표면 포인트(표면 격자)를 가 질 수 있다. 또한, 생성되는 포인트로 이루어진 격자층은 표면 포인트와 동일하게 N개일 수 있다. 즉, 단일 격 자층은 N개의 포인트를 포함할 수 있다. 다음으로, 강화학습기반 전산유체해석용 자동 격자 생성 장치는 신경망을 이용하여 대상물체의 형상에 따 른 하나의 격자층을 이루는 모든 포인트를 생성한다(단계 S220). 다음으로, 강화학습기반 전산유체해석용 자동 격자 생성 장치는 생성된 격자층의 모든 포인트를 획득한다 (단계 S230). 즉, 강화학습기반 전산유체해석용 자동 격자 생성 장치는 단계 S220에서 획득된 한층에 대한 모든 포인트위 위치가 결정되면 새로운 전면 메시를 획득할 수 있다. 다음으로, 강화학습기반 전산유체해석용 자동 격자 생성 장치는 획득된 모든 포인트에 의해 형성되는 각 격자의 품질에 따라 보상을 산출한다(단계 S240). 여기서, 다음 전면 메시를 얻게 되면 한 층의 체적 메시를 얻 게 되고, 이에 대하여 강화학습기반 전산유체해석용 자동 격자 생성 장치는 뒤틀림 및 면적비 등의 격자의 품질을 판단하는 계량을 이용하여 보상을 산출할 수 있다. 일례로, 강화학습기반 전산유체해석용 자동 격자 생 성 장치는 격자층 사이에 형성되는 격자의 직교성 및 기준 격자와 인접 격자의 면적비에 따른 격자의 품질 을 이용하여 보상을 산출할 수 있다. 격자의 직교성은 하기의 식에 따른 틀어짐으로 산출될 수 있다."}
{"patent_id": "10-2023-0036750", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "아울러, 면적비는 하기의 식에 따라 산출될 수 있다."}
{"patent_id": "10-2023-0036750", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "다음으로, 강화학습기반 전산유체해석용 자동 격자 생성 장치는 산출된 보상 및 신경망의 출력을 이용하여 신경망을 업데이트하기 위한 손실을 연산한다(단계 S250). 이때, 강화학습기반 전산유체해석용 자동 격자 생성 장치는 알고리즘 종류에 따라 다양한 손실 연산식을 사용할 수 있다. 다음으로, 강화학습기반 전산유체해석용 자동 격자 생성 장치는 손실을 최소화하도록 신경망의 파라미터를 업데이트한다(단계 S260). 일례로, 강화학습기반 전산유체해석용 자동 격자 생성 장치는 역전파를 이용하여 손실을 최소화하도록 신경망의 파라미터를 업데이트할 수 있다. 이때, 파라미터는 첫번째 격자층 높이(l0), 격자층 증가비율(m), 격자층의 개수(lmax), 상태로 정의되는 포인트의 수(q), 보상계산시 가중치(α) 및 액션의 개수를 포함할 수 있다. 다음으로, 강화학습기반 전산유체해석용 자동 격자 생성 장치는 생성된 모든 포인트를 생성하는 단계의 상 태 입력으로 업데이트한다(단계 S270). 즉, 강화학습기반 전산유체해석용 자동 격자 생성 장치는 현재 상 태(St)를 다음 전면 메시(St+1)로 업데이트할 수 있다. 다음으로, 강화학습기반 전산유체해석용 자동 격자 생성 장치는 현재 생성된 격자층이 최종 격자층인지를 판단하여(단계 S280), 최종 격자층이 아닌 경우, 단계 S220으로 진행하여 다음 격자층을 생성한다. 이때, 강화 학습기반 전산유체해석용 자동 격자 생성 장치는 다음 전면 메시(St+1)로 업데이트한 값을 입력상태로 이용 할 수 있다. 단계 S280의 판단결과, 현재 생성된 격자층이 최종 격자층인 경우, 강화학습기반 전산유체해석용 자동 격자 생 성 장치는 격자 생성을 종료한다. 도 6은 본 발명의 일 실시예에 따른 강화학습기반 전산유체해석용 자동 격자 생성 장치의 단일 격자층 생성 절 차의 순서도이다. 도 6을 참조하면, 단일 격자층 생성 절차는 상태를 입력하는 단계(S222), 신경망을 처리하는 단계(S224), 신경망의 결과를 출력하는 단계(S226), 결과에 따른 액션을 선택하는 단계(S228) 및 모든 포인트에 대하여 반복 하는 단계(S222 내지 S229)를 포함한다. 보다 상세히 설명하면, 도 6에 도시된 바와 같이, 먼저, 강화학습기반 전산유체해석용 자동 격자 생성 장치 는 포인트를 생성하기 위해 전진하고자 하는 현재 격자층의 포인트를 상태로 입력한다(단계 S222). 일례로, 강화학습기반 전산유체해석용 자동 격자 생성 장치는 상태 입력으로서 표면 포인트(또는 현재 층 의 포인트) 중에서 L개의 포인트가 입력될 수 있다. 예를 들면, 강화학습기반 전산유체해석용 자동 격자 생성 장치는 현재 시점의 에이전트가 되는 하나의 격자점 좌우의 n개의 포인트를 포함하는 n*2+1개의 포인트 세 트가 상태로 입력할 수 있다. 다음으로, 강화학습기반 전산유체해석용 자동 격자 생성 장치는 입력된 상태에 대하여 Q 가치를 근사하는 신경망 처리를 수행한다(단계 S224). 이때, 강화학습기반 전산유체해석용 자동 격자 생성 장치는 신경망으 로서 MLP, RNN 및 GNN을 포함할 수 있지만, 이에 한정되지 않고 다양한 모델을 적용할 수 있음은 물론이다. 다음으로, 강화학습기반 전산유체해석용 자동 격자 생성 장치는 신경망을 통해 산출된 Q 가치를 출력한다 (단계 S226). 여기서, 신경망을 통해 산출되는 값은 다음 액션을 선택하는 근거로 사용될 수 있다. 다음으로, 강화학습기반 전산유체해석용 자동 격자 생성 장치는 타겟 포인트로 전진하기 위해 취해야 하는 액션을 선택한다(단계 S228). 여기서, 타겟 포인트는 현재 상태를 기초로 생성하고자 하는 포인트를 의미한다. 일례로, 강화학습기반 전산유체해석용 자동 격자 생성 장치는 30도 방향으로 0.1 거리만큼 전진하도록 선 택할 수 있다. 여기서, 각 포인트의 전진 거리는 격자를 쌓고자 하는 대상물체의 기준길이에 대해 정규화한 수 치로 단위는 없다. 이때, 전진하는 거리는 고정되고, 액션으로는 움직이는 방향을 선택한다. 즉, 강화학습기반 전산유체해석용 자 동 격자 생성 장치는 진행 방향을 일정 각도로 n 등분하여 그 중 하나의 방향으로 미리 결정된 일정 거리 만큼 전진하도록 선택할 수 있다. 다음으로, 강화학습기반 전산유체해석용 자동 격자 생성 장치는 현재 격자층의 모든 포인트에 대하여 격자 생성이 완료되었는지를 판단하여(단계 S229), 모든 포인트에 대하여 완료되지 않은 경우, 단계 S222로 진행하여 다음 포인트를 생성한다. 단계 S229의 판단결과, 모든 포인트에 대하여 완료된 경우, 강화학습기반 전산유체해석용 자동 격자 생성 장치 는 단일 격자층의 생성을 종료한다. 상기와 같은 방법들은 도 1에 도시된 바와 같은 강화학습기반 전산유체해석용 자동 격자 생성 장치에 의해 구현될 수 있고, 특히, 이러한 단계들을 수행하는 소프트웨어 프로그램으로 구현될 수 있으며, 이 경우, 이러한 프로그램들은 컴퓨터 판독가능한 기록 매체에 저장되거나 전송 매체 또는 통신망에서 반송파와 결합된 컴퓨터데이터 신호에 의하여 전송될 수 있다. 이때, 컴퓨터 판독가능한 기록 매체는 컴퓨터 시스템에 의해 판독가능한 데이터가 저장되는 모든 종류의 기록 장치를 포함하며, 예를 들면, ROM, RAM, CD-ROM, DVD-ROM, DVD-RAM, 자기 테이프, 플로피 디스크, 하드 디스크, 광 데이터 저장장치 등일 수 있다. 이상에서 본 발명의 일 실시예에 대하여 설명하였으나, 본 발명의 사상은 본 명세서에 제시되는 실시예에 제한 되지 아니하며, 본 발명의 사상을 이해하는 당업자는 동일한 사상의 범위 내에서, 구성요소의 부가, 변경, 삭제, 추가 등에 의해서 다른 실시예를 용이하게 제안할 수 있을 것이나, 이 또한 본 발명의 사상범위 내에 든 다고 할 것이다."}
{"patent_id": "10-2023-0036750", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 강화학습기반 전산유체해석용 자동 격자 생성 장치의 블록도이다. 도 2는 본 발명의 일 실시예에 따른 강화학습기반 전산유체해석용 자동 격자 생성 장치의 격자 생성 결과로서, (a)는 익형 (b)는 각형에 대한 결과이다. 도 3은 본 발명의 일 실시예에 따른 강화학습기반 전산유체해석용 자동 격자 생성 장치의 액션의 일례를 설명하 기 위한 도면으로서, (a)는 블록 형상, (b)는 오목 형상에 대한 도면이다. 도 4는 본 발명의 일 실시예에 따른 강화학습기반 전산유체해석용 자동 격자 생성 장치의 격자 품질을 설명하기 위한 도면이다. 도 5는 본 발명의 일 실시예에 따른 강화학습기반 전산유체해석용 자동 격자 생성 방법의 순서도이다. 도 6은 본 발명의 일 실시예에 따른 강화학습기반 전산유체해석용 자동 격자 생성 장치의 단일 격자층 생성 절 차의 순서도이다."}
