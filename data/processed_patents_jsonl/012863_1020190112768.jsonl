{"patent_id": "10-2019-0112768", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2021-0031165", "출원번호": "10-2019-0112768", "발명의 명칭": "카메라 기반의 도로이벤트 점유차로 검출 장치 및 그 방법", "출원인": "한국도로공사", "발명자": "권오철"}}
{"patent_id": "10-2019-0112768", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "차량의 주변 도로를 촬영하여 영상을 생성하는 카메라; 적어도 하나의 인스트럭션(instruction)을 저장하는 메모리; 및프로세서를 포함하고, 상기 프로세서는, 상기 적어도 하나의 인스트럭션을 실행함에 따라,상기 카메라로부터 차량의 주변 도로를 촬영한 영상을 획득하고,상기 영상으로부터 차선 및 주변 도로 상에 위험 요소로 작용하는 도로이벤트를 인식하고,상기 도로이벤트가 인식되면, 상기 영상에서 기준선과 상기 도로이벤트 간의 각도 및 상기 기준선과 차선 간의각도를 비교하여 상기 도로이벤트가 점유한 도로이벤트 점유차로를 결정하되,상기 기준선은 차선의 소실점을 지나는 영상의 수직선에서 소실점 상단의 선인 것을 특징으로 하는, 카메라 기반의 도로이벤트 점유차로 검출 장치."}
{"patent_id": "10-2019-0112768", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "청구항 1에 있어서, 상기 프로세서는, 상기 인식된 차선으로부터 전체 차로 수 및 주행 차로를 검출하는, 카메라 기반의 도로이벤트 점유차로 검출 장치."}
{"patent_id": "10-2019-0112768", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "청구항 2에 있어서, 상기 프로세서는, 상기 소실점과 상기 도로이벤트의 우측 에지를 연결한 제1 에지선과, 상기 소실점과 상기 도로이벤트의 좌측 에지를 연결한 제2 에지선을 검출하고, 상기 제1 및 제2 에지선과 상기 기준선 간의 각도인 도로이벤트 점유각도를 검출하고,상기 차선과 상기 기준선 간의 차선 각도를 검출하며,상기 도로이벤트 점유각도와 상기 차선 각도를 각각 비교하여 상기 도로이벤트 점유차로를 결정하는, 카메라 기반의 도로이벤트 점유차로 검출 장치."}
{"patent_id": "10-2019-0112768", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "청구항 1에 있어서, 상기 도로이벤트는,상기 주변 도로 상에 도로 상에 떨어진 낙하물, 도로 상에 발생한 홀, 사고 차량, 공사 지역이나 사고 지역을표시하는 러버콘(rubber cone) 중 어느 하나를 포함하는, 카메라 기반의 도로이벤트 점유차로 검출 장치."}
{"patent_id": "10-2019-0112768", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "청구항 1에 있어서, 상기 메모리는, 객체와 관련된 데이터를 저장하고, 상기 프로세서는, 상기 데이터에 기반하여 상기 영상으로부터 상기 객체를 검출하고,상기 검출된 객체 중 지정된 종류의 객체에 대하여, 이동 속도, 이동 방향 및 크기 중 적어도 하나의 변수를 확공개특허 10-2021-0031165-3-인하고,상기 적어도 하나의 변수에 기반하여 상기 도로이벤트에 해당하는지를 확인하는, 카메라 기반의 도로이벤트 점유차로 검출 장치."}
{"patent_id": "10-2019-0112768", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "청구항 1에 있어서, 상기 장치는,출력 장치를 더 포함하고, 상기 프로세서는, 상기 도로이벤트 점유차로에 관한 영상 또는 소리를 상기 출력 장치를 통해 출력하는, 카메라기반의 도로이벤트 점유차로 검출 장치."}
{"patent_id": "10-2019-0112768", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "청구항 1에 있어서, 상기 장치는,통신 회로를 더 포함하고,상기 프로세서는, 상기 통신 회로를 이용하여 상기 도로이벤트 점유차로에 관한 정보를 외부로 송신하거나 외부로부터 수신하는, 카메라 기반의 도로이벤트 점유차로 검출 장치."}
{"patent_id": "10-2019-0112768", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "(a) 카메라로부터 차량의 주변 도로를 촬영한 영상을 획득하는 단계;(b) 상기 영상으로부터 주변 도로 상에 위험 요소로 작용하는 도로이벤트 및 차선을 인식하는 단계; 및(c) 상기 도로이벤트가 인식되면, 영상에서 기준선과 상기 도로이벤트 간의 각도 및 상기 기준선과 차선 간의각도를 비교하여 상기 도로이벤트가 점유한 도로이벤트 점유차로를 결정하는 단계를 포함하되,상기 기준선은 차선의 소실점을 지나는 영상의 수직선에서 소실점 상단의 선인 것을 특징으로 하는, 카메라 기반의 도로이벤트 점유차로 검출 방법."}
{"patent_id": "10-2019-0112768", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "청구항 8에 있어서, 상기 방법은, (c) 단계 이전에,상기 인식된 차선으로부터 전체 차로 수 및 주행 차로를 검출하는 단계를 더 포함하는, 카메라 기반의 도로이벤트 점유차로 검출 방법."}
{"patent_id": "10-2019-0112768", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "청구항 8에 있어서, 상기 (c) 단계는,상기 소실점과 상기 도로이벤트의 우측 에지를 연결한 제1 에지선과, 상기 소실점과 상기 도로이벤트의 좌측 에지를 연결한 제2 에지선을 검출하는 단계;상기 제1 및 제2 에지선과 상기 기준선 간의 각도인 도로이벤트 점유각도를 검출하는 단계;상기 차선과 상기 기준선 간의 차선 각도를 검출하는 단계; 및 상기 도로이벤트 점유각도와 상기 차선 각도를 각각 비교하여 상기 도로이벤트 점유차로를 결정하는 단계를 포함하는, 카메라 기반의 도로이벤트 점유차로 검출 방법."}
{"patent_id": "10-2019-0112768", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "청구항 8에 있어서, 상기 도로이벤트는,상기 주변 도로 상에 도로 상에 떨어진 낙하물, 도로 상에 발생한 홀, 사고 차량, 공사 지역이나 사고 지역을표시하는 러버콘(rubber cone) 중 어느 하나를 포함하는, 카메라 기반의 도로이벤트 점유차로 검출 방법."}
{"patent_id": "10-2019-0112768", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "공개특허 10-2021-0031165-4-청구항 8에 있어서, 상기 (b) 단계는,메모리에 저장된 객체와 관련된 데이터에 기반하여 상기 영상으로부터 상기 객체를 검출하는 단계;상기 검출된 객체 중 지정된 종류의 객체에 대하여, 이동 속도, 이동 방향 및 크기 중 적어도 하나의 변수를 확인하는 단계; 및상기 적어도 하나의 변수에 기반하여 상기 도로이벤트에 해당하는지를 확인하여 도로이벤트를 인식하는 단계를포함하는, 카메라 기반의 도로이벤트 점유차로 검출 방법."}
{"patent_id": "10-2019-0112768", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "청구항 8에 있어서, 상기 방법은,출력 장치를 이용하여 상기 도로이벤트 점유차로에 관한 영상 또는 소리를 출력하는 단계를 더 포함하는, 카메라 기반의 도로이벤트 점유차로 검출 방법."}
{"patent_id": "10-2019-0112768", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "청구항 8에 있어서, 상기 방법은,통신 회로를 이용하여 상기 도로이벤트 점유차로에 관한 정보를 외부로 송신하거나 외부로부터 수신하는 단계를더 포함하는, 카메라 기반의 도로이벤트 점유차로 검출 방법."}
{"patent_id": "10-2019-0112768", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명에 따른 도로이벤트 점유차로 검출 장치는, 차량의 주변 도로를 촬영하여 영상을 생성하는 카메라; 적어 도 하나의 인스트럭션(instruction)을 저장하는 메모리; 및 프로세서를 포함하고, 상기 프로세서는, 상기 적어도 하나의 인스트럭션을 실행함에 따라, 상기 카메라로부터 차량의 주변 도로를 촬영한 영상을 획득하고, 상기 영상 (뒷면에 계속)"}
{"patent_id": "10-2019-0112768", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은, GNSS(Global Navigation Satellite System)나 지도정보의 도움없이 차량에 설치된 카메라로 촬영된 영상을 바탕으로 도로에서 발생할 수 있는 다양한 도로이벤트들이 점유하고 있는 점유차로를 검출하는 기술에 관한 것이다."}
{"patent_id": "10-2019-0112768", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "자율 주행 차량에 대한 연구들이 활발히 진행되고 있다. 자율 주행 차량은 운전자의 개입 없이 차로와 주변 물 체(예: 차량, 보행자)를 인식하고, 상기 인식에 기반하여 설정된 목적지까지 주행할 수 있다. 자율 주행 차량은 운전자 개입의 정도에 따라 레벨(level) 1부터 레벨 4까지 구분되고, 그 중 레벨 4는 가속, 조향 및 제동을 포 함하는 조작을 모두 시스템이 수행하는 완전 자율 주행 상태를 지원할 수 있다. 선행기술문헌 특허문헌 (특허문헌 0001) 한국공개출원 10-2018-0125885"}
{"patent_id": "10-2019-0112768", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "자율 주행 차량은 사고 방지를 위해 도로 규정 하에서 주변 차량과 주변 물체에 의해 발생할 수 있는 다양한 상 황에 대비할 수 있는 차량 제어 기법을 필요로 한다. 예를 들어, 자율 주행 차량은 도로 상의 위험요소를 빠르 게 인식하고, 인식된 위험요소를 회피할 필요가 있다. 본 문서에 개시되는 다양한 실시 예들은 카메라로 촬영된 영상을 분석하여 차량의 주변 도로에 발생한 도로이벤 트가 점유하고 있는 차로를 검출할 수 있는 카메라 기반의 도로이벤트 점유차로 검출 장치 및 그 방법을 제공할 수 있다."}
{"patent_id": "10-2019-0112768", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명에 따른 카메라 기반의 도로이벤트 점유차로 검출 장치는, 차량의 주변 도로를 촬영하여 영상을 생성하 는 카메라; 적어도 하나의 인스트럭션(instruction)을 저장하는 메모리; 및 프로세서를 포함하고, 상기 프로세 서는, 상기 적어도 하나의 인스트럭션을 실행함에 따라, 상기 카메라로부터 차량의 주변 도로를 촬영한 영상을 획득하고, 상기 영상으로부터 주변 도로 상에 위험 요소로 작용하는 도로이벤트 및 차선을 인식하고, 상기 도로 이벤트가 인식되면, 영상에서 기준선과 상기 도로이벤트 간의 각도 및 상기 기준선과 차선 간의 각도를 비교하 여 상기 도로이벤트가 점유한 도로이벤트 점유차로를 결정하되, 상기 기준선은 차선의 소실점을 지나는 영상의 수직선에서 소실점 상단의 선일 수 있다. 상기 프로세서는, 상기 프로세서는, 상기 영상에서 차선을 인식하고, 인식된 차선으로부터 전체 차로 수 및 주 행 차로를 검출할 수 있다. 상기 프로세서는, 상기 소실점과 상기 도로이벤트의 우측 에지를 연결한 제1 에지선과, 상기 소실점과 상기 도 로이벤트의 좌측 에지를 연결한 제2 에지선을 검출하고, 상기 제1 및 제2 에지선과 상기 기준선 간의 각도인 도 로이벤트 점유각도를 검출하고, 상기 차선과 상기 기준선 간의 차선 각도를 검출하며, 상기 도로이벤트 점유각 도와 상기 차선 각도를 비교하여 상기 도로이벤트 점유차로를 결정할 수 있다. 상기 도로이벤트는, 상기 주변 도로 상에 도로 상에 떨어진 낙하물, 도로 상에 발생한 홀, 사고 차량, 공사 지 역이나 사고 지역을 표시하는 러버콘(rubber cone) 중 어느 하나를 포함할 수 있다. 상기 메모리는, 객체와 관련된 데이터를 저장하고, 상기 프로세서는, 상기 데이터에 기반하여 상기 영상으로부 터 상기 객체를 검출하고, 상기 검출된 객체 중 지정된 종류의 객체에 대하여, 이동 속도, 이동 방향 및 크기 중 적어도 하나의 변수를 확인하고, 상기 적어도 하나의 변수에 기반하여 상기 도로이벤트에 해당하는지를 확인 할 수 있다. 상기 도로이벤트 점유차로 검출 장치는 출력 장치를 더 포함하고, 상기 프로세서는 상기 도로이벤트 점유차로에 관한 영상 또는 소리를 상기 출력 장치를 통해 출력할 수 있다. 상기 도로이벤트 점유차로 검출 장치는 통신 회로를 더 포함하고, 상기 프로세서는 상기 통신 회로를 이용하여 상기 도로이벤트 점유차로에 관한 정보를 외부로 송신하거나 외부로부터 수신할 수 있다. 또한, 본 발명에 따른 카메라 기반의 도로이벤트 점유차로 검출 방법은, (a) 카메라로부터 차량의 주변 도로를 촬영한 영상을 획득하는 단계; (b) 상기 영상으로부터 주변 도로 상에 위험 요소로 작용하는 도로이벤트 및 차 선을 인식하는 단계; 및 (c) 상기 도로이벤트가 인식되면, 영상에서 기준선과 상기 도로이벤트 간의 각도 및 상 기 기준선과 차선 간의 각도를 비교하여 상기 도로이벤트가 점유한 도로이벤트 점유차로를 결정하는 단계를 포 함하되, 상기 기준선은 차선의 소실점을 지나는 영상의 수직선에서 소실점 상단의 선일 수 있다."}
{"patent_id": "10-2019-0112768", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 문서에 개시되는 다양한 실시 예들에 따르면, GNSS(Global Navigation Satellite System)나 지도정보의 도 움없이도 카메라로 촬영된 영상만을 이용하여 차량의 주변 도로에 발생한 도로이벤트가 점유하고 있는 차로를 용이하게 검출함으로써, 차량의 자율주행에 많은 도움을 줄 수 있다. 이 외에, 본 문서를 통해 직접적 또는 간 접적으로 파악되는 다양한 효과들이 제공될 수 있다."}
{"patent_id": "10-2019-0112768", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "item": 1, "content": "도 1은 본 발명에 따른 카메라 기반의 도로이벤트 점유차로 검출 방법을 설명하기 위한 도면이다. 도 1을 참조하면, 도로이벤트 점유차로 검출 장치는 카메라를 이용하여 적어도 하나 이상의 차량의 주행 방향에 대한 영상(정지영상 또는 동영상)을 획득할 수 있다. 상기 카메라는 예를 들면, 차량의 전방, 후방 및 좌우측 중 적어도 어느 하나 이상의 방향을 촬영할 수 있다. 도로이벤트 점유차로 검출 장치는 카메라로 촬영된 영상에 컴퓨터 비젼 영상처리 기법을 적용하여 차선 (traffic line, traffic lane)을 인식하고, 이러한 차선 인식 결과에 기반하여 차로(traffic path)를 검출할 수 있다. 나아가, 도로이벤트 점유차로 검출 장치는 검출된 차로에 대한 정보를 이용하여 전체 차로 수 및 차량이 주행하고 있는 차로인 주행차로 정보를 획득할 수 있다. 본 발명에 따르면, 도로이벤트 점유차로 검출 장치는 카메라로 촬영된 영상에 허프변환 (Hough Transform) 방식, 역변환매핑 (IPM, Inverse Perspective Mapping) 방식, RANSAC line Fitting (RAndom SAmple Consensus) 방식, 베이지어 곡선 정합(Beizer Spline Fitting) 방식 중 적어도 하나 이상의 알고리즘을 적용하 여 차선을 인식할 수 있다. 그러나 이에 한정되는 것은 아니며 그 외의 다양한 방식이나 알고리즘을 이용하여 차선을 인식할 수 있음은 물론이다. 도로이벤트 점유차로 검출 장치는 획득된 영상에 포함된 객체를 비지도 학습(unsupervised learning) 기반 인공지능 기술에 따라 분석하고, 분석된 객체에 기반하여 주변 도로 상에 사고 위험성이 있는 도로이벤트 가 존재하는지를 확인할 수 있다. 도로이벤트 점유차로 검출 장치는 차량의 전방 및/또는 후방에 탑재되는 카메라로부터 획득된 영상을 이용하여 차선과 차로를 검출하고 도로이벤트를 인식할 수 있다. 물론 도로이벤트 점유차로 검출 장치는 좌측 및/또는 우측에 탑재된 카메라로부터 획득된 영상을 이용하여 차선과 차로를 검출하고 도로이벤트를 인식할 수 있을 뿐만 아니라, 전후좌우 중의 적어도 하나에 탑재된 카메라로부터 획득된 영상을 이용하여 차선과 차로를 검출하고 도로이벤트를 인식할 수 있음은 물론이다. 상기 비지도 학습은 학습 결과에 대한 목표 값이 없을 때, 학습 데이터의 관계에 따른 추론을 학습시킴에 따라 원하는 대상(예: 객체)을 분석하는 방법일 수 있다. 상기 도로는 예를 들면, 적어도 하나의 차로(traffic pat h)를 포함하는 차량이 주행할 수 있는 도로를 포함할 수 있다. 차량이 주행하는 도로에서 차선(traffic lane, traffic line)으로 구분한 차도의 부분을 차로(traffic path)라 한다. 차로는 예를 들면, 중앙선(예: 노란색 실 선) 및 차선(예: 흰색 점선) 중 적어도 하나의 선으로 구분되는 길일 수 있다. 한편, 본 발명에서 도로이벤트란 주행 중인 차량을 제외하고 도로 상에 나타날 수 있는 객체를 의미하며, 예를 들면, 도로 상에 떨어진 낙하물, 도로 상에 발생한 홀(hole)(예: 싱크홀(sinkhole), 포트홀(porthole)), 사고 차량, 공사 지역이나 사고 지역을 표시하는 러버콘(rubber cone) 중 어느 하나를 포함할 수 있다. 소실점(vanishing point)은 물리공간에서 평행한 직선들이 영상에 투영되어 원근효과(perspective effect)에 의 해 마치 한 점에서 만나는 것처럼 보이는 점이다. 그리고, 소실선(vanishing line)은 소실점들이 모여서 이루어 진 직선이다. 평행한 평면에 속한 직선들의 소실점들은 일직선을 이룬다. 또한 어떤 평면에 대한 소실선 (vanishing line)은 이 평면과 수평이고 카메라 원점을 지나는 평면이 이미지 평면과 만나서 생기는 교선이다. 즉, 지면 위의 한 직선을 이미지에 투영해 보면 직선을 무한히 확장하였을 경우 결국 소실선 상의 어느 한 점으 로 수렴하게 됨을 쉽게 상상할 수 있다. 영상에서 소실선의 위치는 카메라의 평행이동과는 무관하며 오직 카메라의 자세(3D 회전)에만 영향을 받는다. 따라서 카메라로 촬영된 촬영 영상에서 소실선의 위치를 알면 캘리브레이션을 하지 않고도 카메라의 팬(pan), 틸트(tilt), 롤(roll)을 알아낼 수 있다. 즉, 소실점/소실선을 이용한 카메라의 3D 자세측정이 가능하다. 그런 데, 영상에서 소실점/소실선을 이용하면 이러한 외부 파라미터(extrinsic parameter) 뿐만 아니라 카메라의 내 부 파라미터 추정도 가능하다. 즉, 카메라의 초점거리 및 주점의 추정이 가능하다. 결국, 도로이벤트 점유차로 검출 장치는 차량에 탑재되는 카메라로 촬영된 촬영 영상에서 차선을 인식한 후 인식된 차선으로부터 차로를 검출하고, 차선이 도로상에서 평행하기 때문에 차선이 소실점으로 모이는 성질 을 이용하여 차선의 소실점을 검출할 수 있다. 도로이벤트 점유차로 검출 장치는 주변 도로 상의 도로이벤트를 확인하면, 소실점에 기준하여(예: 소 실점을 구심점으로 하여) 획득된 영상으로부터 차량과 도로이벤트 간의 2개의 도로이벤트 점유각도 및 모든 차선에 대한 차선각도를 확인할 수 있다. 차선은 예를 들면, 각 차로를 구분하는 차선 및 중앙선을 포함할 수 있다. 여기서 도로이벤트 점유각도는 제1 점유각도 및 제2 점유각도를 포함한다. 차선의 소실점을 지나는 영상의 수직선에서 상단의 선을 기준선(A)이라고 하면, 제1 점유각도(β1)는 소실점과 도로이벤트의 우측 에지를 연결한 제1 에지선(B1) 및 기준선(A) 간의 각도이고, 제2 점유각도(β2)는 소실점과 도로이벤트의 좌측 에지를 연결한 제2 에지선(B2) 및 기준선(A) 간의 각도이다. 그리고, 차선각도는 모든 차선 및 기준선(A)과 이루는 각도(α1, α2, α3)이다. 주행중인 차로를 기준으로 좌 측 차선과 우측 차선이 있을 수 있으며, 제일 우측 차선부터 순서대로 각각의 차선들이 기준선과 이루는 각도가 차선각도가 된다. 도로이벤트 점유차로 검출 장치는 2개의 도로이벤트 점유각도 및 차선각도를 서로 비교하여 도로이벤트 가 점유한 차로를 결정할 수 있다. 예를 들어, 도 1에서처럼, 차량이 2차선 도로에서 1차로로 전방 방향으로 주행 중이고, 도로이벤트가 차량 의 우측 방향에 존재할 수 있다. 이 경우, 도로이벤트 점유차로 검출 장치는 차선의 소실점을 지나는 영상 의 수직선에서 소실점 상단의 선인 기준선(A) 및 소실점과 도로이벤트의 우측과 좌측 에지를 잇는 2개의 에지선(B1, B2)을 결정하고, 결정된 기준선 및 2개 에지선 간의 도로이벤트 점유각도(β1, β2)를 각각 확인할 수 있다. 도 1의 경우, 도로이벤트 점유차로 검출 장치는 획득된 영상으로부터 소실점과 기준선(A)을 결정하고, 소 실점과 가장 우측의 차선 간을 잇는 제1 직선(이하, '비교선'이라 함), 소실점과 상기 제1 직선의 좌측에 있는 차선을 잇는 제2 직선, 및 소실점과 제2 직선의 좌측에 있는 차선을 잇는 제3 직선을 결정하고, 결정된 기준선 (A)과 제1 직선 간의 제1 차선각도(α1), 기준선(A)과 제2 직선 간의 제2 차선각도(α2), 및 기준선(A)과 제3 직선 간의 제2 차선각도(α3)를 각각 확인할 수 있다. 도로는 복수 개의 차로로 이뤄질 수 있으므로, 기준선과 차선 간의 차선각도에서 가장 우측 차선에서부터 순차적으로 제1 내지 제n 차선각도를 부여할 수 있다. 도로이벤트는 차량의 주행방향에서 좌측 또는 우측에 존재할 수 있고, 복수 개가 존재할 수도 있으므로, 도로이벤트 점유차로 검출 장치는 각각의 이벤트를 독립적으로 확인하는 동시에 각 도로이벤트에 대하여 도로이벤트 점유각도 및 차선각도를 모두 결정할 수 있다. 도로이벤트 점유차로 검출 장치는 도로이벤트 점유각도(β1, β2), 제1 차선각도(α1), 제2 차선각도(α 2), 및 제3 차선각도(α3)를 서로 비교하여 도로이벤트가 점유한 차로를 결정할 수 있다. 예를 들어, 도로 이벤트에 대응하는 도로이벤트 점유각도(β1, β2)가 각 차선에 대응하는 제1 차선각도(α1)보다 크고 제2 차선 각도(α2)보다 작으므로, 도로이벤트 점유차로 검출 장치는 도로이벤트가 점유한 차로를 2차로로 결 정할 수 있다. 물론, 도로이벤트는 하나의 차로 내에 있을 수도 있고, 여러 차로를 모두 점유하고 있을 수도 있다. 도 1에서, 도로이벤트 점유각도 중의 제1 점유각도(β1)가 제2 차선각도(α2)보다 작고 제2 점유각도(β2)가 제2 차선각도 (α2)보다 큰 경우, 도로이벤트는 주행중인 차로 및 그 우측 차로에 걸쳐 존재하는 것으로 결정될 수 있다. 도로이벤트 점유차로 검출 장치는 도로이벤트가 점유한 차로를 결정하면, 도로이벤트로 인한 차량 사 고를 방지하기 위해 도로이벤트가 점유한 차로를 우회하도록 차량을 제어또는 지원할 수 있다. 부가적으로 또는, 대체적으로, 도로이벤트 점유차로 검출 장치는 도로이벤트의 위치(예:도로이벤트가 점유한 차 로)를 출력 장치(예: 디스플레이 또는 스피커 중 적어도 하나)를 통해 안내할 수 있다. 일 실시예에 따르면, 도로이벤트 점유차로 검출 장치는, 차량 내 헤드 유닛, 임베디드 보드, 스마트폰, 태 블릿 PC, PC, 스마트 TV, 휴대폰, PDA(personal digital assistant), 랩톱, 차량, 미디어 플레이어, 마이크로 서버, GGNSS(Global Navigation Satellite System) 장치, 전자책 단말기, 디지털방송용 단말기, 네비게이션, 키오스크, MP3 플레이어, 디지털 카메라, 가전 기기 및 기타 모바일 또는 비모바일 컴퓨팅 장치일 수 있으나, 이에 한정되지 않는다. 예를 들어, 도로이벤트 점유차로 검출 장치는 카메라로부터 영상(예를 들어, 동영 상(video) 및 정지 영상(still image))를 획득하고, 획득된 영상에 기초하여 사용자에게 알림 메시지를 제공할 수 있는 모든 종류의 기기를 포함할 수 있다. 도로이벤트 점유차로 검출 장치는 차량에 설치된 모듈로서, 차량의 동작을 제어할 수 있으며, 소정의 네트 워크를 통하여 차량에 설치된 다른 모듈과 통신하며 도로이벤트 점유차로에 대한 정보를 주고받을 수 있다. 도 로이벤트 점유차로 검출 장치는 스마트폰과 같은 차량과 별개의 장치일 수 있으며, 도로이벤트 점유차로 검출 장치의 카메라 또는 차량에 설치된 다른 장치의 카메라로부터 이용하여 영상을 획득할 수 있고, 지정 된 네트워크를 통하여 차량의 주변을 촬영할 수 있는 카메라로부터 영상을 수신할 수도 있다. 상기 네트워크는 근거리 통신망(Local Area Network; LAN), 광역 통신망(Wide Area Network; WAN), 부가가치 통신망(Value Added Network; VAN), 이동 통신망(mobile radio communication network), 위성 통신망 및 이들의 상호 조합을 포함할 수 있다. 차량(vehicle)은, 통신 기능, 데이터 처리 기능, 및 운송 기능을 구비한 자동차, 버스, 트럭, 기차, 자전거, 오토바이 등의 교통 수단일 수 있다. 차량은 가상현실과 실시간 차량해석 프로그램을 이용하여 차량의 도로이벤트를 검출할 수 있도록 하는 드라이빙 시뮬레이터 시스템일 수 있다. 시뮬레이터는 실제 또는 가상의 동적 시스템 모형을 제작한 다음 컴퓨터 프로그램을 통해 시험 및 평가하는 것으로, 가상현실에서의 차 량의 이동에 따른 주행데이터를 효율적으로 확보하기 위하여 이용될 수 있다. 상술한 실시예에 따르면, 도로이벤트 점유차로 검출 장치는 차량 주변을 촬영한 영상에서 확인된 소실점에 기준한 도로이벤트 점유각도 및 차선 간의 각도에 기반하여, 사고 위험성이 있는 도로이벤트가 점유한 차로를 빠르게 검출할 수 있다. 또한, 도로이벤트 점유차로 검출 장치는 차량에 기준한 도로이벤트의 위치 방향 (예: 좌측 또는 우측)에 대한 각도만을 이용하여 도로이벤트가 점유한 차로를 검출할 수 있어, 도로이벤트 위치 검출을 위한 연산을 줄이고 처리 속도를 높일 수 있다. 도 2는 본 발명에 따른 카메라 기반의 도로이벤트 점유차로 검출 장치의 구성도를 나타낸다. 도 2를 참조하면, 본 발명에 따른 카메라 기반의 도로이벤트 점유차로 검출 장치는 카메라, 메모리 및 프로세서를 포함할 수 있다. 일 실시 예에서, 도로이벤트 점유차로 검출 장치는 일부 구성 요소가 생략되거나, 추가적인 구성요소를 더 포함할 수 있다. 예를 들어, 도로이벤트 점유차로 검출 장치 는 통신 회로 및 출력 장치 중의 적어도 하나를 더 포함할 수 있다. 다른 예를 들어, 도로이벤트 점유차로 검출 장치는 카메라를 포함하지 않고, 다른 장치(예: 어라운드 뷰(around view) 시스템)나 애프터마켓 제품에 구비된 카메라로부터 영상을 획득(예: 수신)할 수 있다. 또 한, 도로이벤트 점유차로 검출 장치의 구성요소들 중 일부가 결합되어 하나의 개체로 구성되되, 결합 이전 의 해당 구성요소들의 기능을 동일하게 수행할 수 있다. 카메라는 프로세서의 명령(commend)에 따라 정지 영상 또는 동영상을 촬영하고, 촬영된 정지 영상 또 는 동영상을 출력할 수 있다. 카메라는 예를 들면, CCD(charged coupled device) 센서 또는 CMOS(complementary metal oxide semiconductor) 센서에 기반하여 구현될 수 있다. 카메라는 차량의 전방, 후방, 및 좌우측방 중의 적어도 하나를 촬영 가능하도록 마련될 수 있다. 메모리는 예를 들면, 도로이벤트 점유차로 검출 장치의 적어도 하나의 다른 구성요소에 관계된 명령 또는 데이터를 저장할 수 있다. 메모리는 휘발성 메모리(예를 들어, RAM 등), 비휘발성 메모리(예를 들어, ROM, 플래시 메모리 등) 또는 이들의 조합일 수 있다. 메모리는 실행 시에 프로세서가 도로이벤트를 검출하도록 하는 적어도 하나의 인스트럭션을 저장할 수 있다. 상기 적어도 하나의 인스트럭션은 예를 들면, 영 상에 포함된 객체를 인식하여 검출하고, 검출된 객체의 종류를 확인하고, 지정된 객체에 대하여 이동 속도, 이 동 방향 및 크기 중 적어도 하나의 변수를 확인 가능한 것일 수 있다. 메모리는 객체 및 도로이벤트의 종 류를 검출하기 위한 객체 관련 데이터 및/또는 도로이벤트 관련 데이터를 저장할 수 있다. 상기 객체의 종류는 예를 들면, 차도, 인도, 빌딩, 벽, 가드레일, 기둥, 신호등, 교통 표지판, 지주, 식물, 하늘, 사람, 자동차, 트 럭, 버스, 기차, 오토바이, 자전거 및 안전 삼각대 중의 적어도 하나를 포함할 수 있으며, 도로이벤트의 종류는 도로 상에 떨어진 낙하물, 도로 상에 발생한 홀(예: 싱크홀, 포트홀), 사고 차량, 및 공사 지역이나 사고 지역 을 표시하는 러버콘(rubber cone) 중의 적어도 하나를 포함할 수 있다. 통신 회로는 도로이벤트 점유차로 검출 장치와 다른 장치(예: 차량 내 다른 장치) 간의 통신 채널 또 는 무선 통신 채널의 수립, 및 수립된 통신 채널을 통한 통신 수행을 지원할 수 있다. 상기 통신 채널은 차량 네트워크 예를 들면, CAN(controller area network) 및 MOST(media oriented systems transport)를 포함하는 통신 채널일 수 있다. 상기 통신 채널은 근거리 통신망(Local Area Network; LAN), 광역 통신망(Wide Area Network; WAN), 부가가치 통신망(Value Added Network; VAN), 이동 통신망(mobile radio communication network), 위성 통신망 및 이들의 상호 조합에 따른 통신 채널을 포함할 수 있다. 통신 회로는 본 발명에따라 획득된 도로이벤트 점유차로에 대한 정보를 외부의 장치와 서로 교환할 수 있으며, GNSS(Global Navigation Satellite System) 신호를 수신하고 차량 현 위치를 산출하는 GNSS 모듈을 포함할 수 있다. 출력 장치는 프로세서의 명령에 따라 소리를 출력 가능한 스피커 또는 영상을 출력 가능한 디스플레 이 중 적어도 하나를 포함할 수 있으며, 도로이벤트 점유차로에 대한 정보를 영상이나 소리로 출력할 수 있다. 프로세서는 메모리에 저장된 인스트럭션들을 이용하여 도로이벤트 점유차로 검출 장치의 적어도 하나의 다른 구성요소들의 제어 및/또는 통신에 관한 연산이나 데이터 처리를 실행할 수 있다. 프로세서는 예를 들어, 중앙처리장치(CPU), 그래픽처리장치(GPU), 마이크로프로세서, 애플리케이션 프로세서(application processor), 주문형 반도체(ASIC(application specific integrated circuit), FPGA(field programmable gate arrays)) 중 적어도 하나를 포함할 수 있으며, 복수의 코어를 가질 수 있다. 프로세서는 카메라를 이용하여 차량의 주변 도로를 포함하는 영상(예: 전방 영상)을 획득하고, 획득 된 영상에서 도로 영역으로 예상되는 관심 영역(ROI: region of interest)을 추출할 수 있다. 프로세서는 카메라로 촬영된 영상에 컴퓨터 비젼 영상처리 기법을 적용하여 차선을 인식하고, 이러한 차선 인식 결과에 기반하여 소실점(vanishing point) 및 차로(traffic path)를 검출할 수 있다. 또한, 프로세서는 주행중인 도로에서 전체 차로 수 및 주행차로 정보를 검출할 수 있다. 이러한 전체 차로 수 및 주행차로 정보는 프로세서가 직접 인식하여 검출할 수도 있으며, 다른 외부의 장치나 모듈로부터 전 체 차로 수 및 주행차로 정보를 획득할 수도 있음은 물론이다. 프로세서는 비지도 학습 기반 인공지능 기술에 따라 영상에서 검출된 객체를 분석 및 분류하여 차량의 주 변 도로 상에 존재하는 도로이벤트를 검출할 수 있다. 예를 들어, 프로세서는 머신러닝 또는 딥러닝 분석 모듈을 이용하여 도로 상 객체의 종류를 분류하고, 객체의 종류를 분류 가능한 대상(예: 차량, 차선, 노면 표지)을 제외한 나머지를 사고 위험이 있는 도로이벤트로 검출할 수 있다. 다른 예를 들어, 프로세서는 객 체 관련 데이터에 기반하여 주변 도로 상에 종류 미상(未詳) 객체가 존재하는 것을 확인하면, 상기 미상 객체를 사고 위험이 있는 도로이벤트로 결정할 수 있다. 상기 머신러닝 또는 딥러닝 분석 모듈은 객체 관련 데이터에 따른 비지도 학습을 통해 학습된 도로 위 객체를 군집화 알고리즘(clustering algorithm)에 기반하여 분류하는 모듈로서, 프로세서에 의해 구현되는 소프트 웨어 모듈일 수 있다. 상기 비지도 학습은 예를 들면, 학습 결과에 대한 목표 값이 없을 때, 학습 데이터의 관 계에 따른 추론을 학습시킴에 따라 원하는 대상(예: 객체)을 분석 또는 분류하는 방법일 수 있다. 상기 비지도 학습은 형태나 모양이 정해져 있지 않아, 학습 지도를 위한 학습 데이터를 구성하는 것이 어려운 대상(예: 도로 상 낙하물, 홀, 사고 지점, 위험 지점)을 분류하는데 효율적일 수 있다. 프로세서는 상기 검출된 도로이벤트 중에서 예외 상황에 있는 객체를 제외시킬 수 있다. 상기 예외 상황에 있는 객체는 예를 들면, 횡단보도 상에 위치한 사람 객체를 포함할 수 있다. 프로세서는 분류된 객체의 종류에 기반하여 도로의 차선(예: 점선 차선 및 중앙선)을 인식할 수 있다. 예 를 들어, 프로세서는 영상에서 객체 관련 데이터에 따른 차선의 패턴에 대응하는 객체를 인식하면, 인식된 객체를 차선으로 판단할 수 있다. 추가적으로, 또는 대체적으로, 프로세서는 전체 차로 수에 대한 정보 및/또는 영상에서 검출된 객체에 기 반하여 차선을 인식할 수 있다. 상기 전체 차로 수 정보는 예를 들면, 통신 회로를 통해 확인된 차량의 현 위치에 대응하는 메모리에 저장된 차로 정보(예: 맵 정보에 포함될 수 있음)일 수 있다. 예를 들어, 프 로세서는 영상으로부터 검출된 객체(예: 가드레일, 건물, 나무)와 차량 간의 거리에 기반하여 도로 영역을 결정하고, 도로 영역 및 전체 차로 수 정보에 기반하여 영상에서 차로 폭을 추정할 수 있다. 프로세서는 추정된 차로 폭에 기반하여 차량의 주변 도로에 존재하는 차선을 인식할 수 있다. 프로세서는 인식된 도로 영역 또는 인식된 차선에 기반하여 주변 도로를 인식할 수 있다. 상기 주변 도로는 차량이 주행중인 차로 및 적 어도 하나의 인접 차로를 포함할 수 있다. 프로세서는 주변 도로에 존재하는 도로이벤트를 확인하면, 도로이벤트가 점유한 차로를 결정하기 위하여, 영상의 소실점에 기준하여(예: 소실점을 구심점으로 하여) 차량과 도로이벤트 간의 2개의 도로이벤트 점유 각도 및 모든 차선에 대한 차선각도를 결정할 수 있다. 프로세서는 예를 들면, 에지 검출 알고리즘(예: 캐니 에지(canny edge) 검출기)을 이용하여 카메라로 부터 획득된 영상에서 에지를 검출하고, 예컨대, 허프 변환(hough transform)을 이용하여 검출된 에지에서 직선성분들이 가장 많이 모이는 점을 영상의 소실점으로 결정할 수 있다. 상기 허프 변환은 에지 외의 잡음이 제거 된 영상에서 픽셀 들을 직선으로 변환하는 것일 수 있다. 예를 들어, 프로세서는 기준선(A) 및 도로이벤트 점유각도를 확인할 수 있다. 여기서 도로이벤트 점유각도 는 제1 점유각도 및 제2 점유각도를 포함하며, 제1 점유각도(β1)는 소실점과 도로이벤트의 우측 에지를 연결한 제1 에지선(B1)과 기준선(A) 간의 각도이고, 제2 점유각도(β2)는 소실점과 도로이벤트의 좌측 에지를 연결한 제2 에지선(B2)과 기준선(A) 간의 각도이다. 프로세서는 2개의 도로이벤트 점유각도와 차선각도를 각각 비교하여 도로에서 도로이벤트가 점유한 차로를 결정할 수 있다. 이처럼, 2개의 도로이벤트 점유각도와 각 차선에 따른 차선각도를 서로 비교하면, 프로세서는 도로이벤트 가 점유한 차로를 판단할 수 있다. 물론, 도로이벤트가 커서 여러 개의 차로를 함께 점유할 수도 있으며, 프로 세서는 이러한 경우까지도 판단할 수 있음은 물론이다. 상술한 실시예에서, 프로세서는 도로이벤트가 주행중인 차량의 차로 상에 존재하는 것을 확인할 수도 있다. 이 경우, 프로세서는 차량이 주행중인 차선을 도로이벤트가 점유한 차로로 결정할 수 있다. 프로세서는 도로이벤트가 점유한 차로를 결정하면, 도로이벤트를 우회하도록 차량의 주행을 제어할 수 있 다. 프로세서는 도로이벤트 점유차로 관련 정보(예: 영상 또는 소리)를 출력 장치를 통하여 출력할 수 있다. 예를 들어, 프로세서는 \"전방에 사고 위험성이 있는 도로이벤트가 있습니다.\"라는 소리를 스피커 를 통해 출력할 수 있다. 도로이벤트의 방향 및 점유차로에 대한 정보도 함께 출력할 수 있음은 물론이다. 다양한 실시예에 따르면, 프로세서는 검출된 객체의 이동 속도, 이동 방향 및 크기 중 적어도 하나의 변수 에 기반하여 차량의 주변 도로 상에 존재하는 도로이벤트를 검출할 수 있다. 예를 들어, 프로세서는 카메 라로부터 연속하는 복수의 영상들을 획득한 후 복수의 영상들에서 검출된 객체의 위치 변화에 기반하여 차 로 상에 도로이벤트가 존재하는지를 확인할 수 있다. 프로세서는 예를 들면, 복수의 영상들에서 객체의 위 치 변화를 확인하고, 차량의 현재 속도 및 확인된 객체의 위치 변화에 기반하여 객체의 이동 속도, 이동 방향 및 크기 중 적어도 하나를 확인할 수 있다. 프로세서는 예를 들면, 도로의 차로 폭에 기반하여 객체의 크기를 추정할 수 있다. 프로세서는 예를 들면, 영상에 포함된 객체의 위치 변화에 기반하여 객체의 이동 속도를 결정할 수 있다. 프로세서는 예를 들면, 영상에 포함된 객체의 크기를 확인하고, 크기/거리 관련 데이터(메모리에 저장됨)에 기반하여 객체 의 크기에 따른 객체와의 거리를 결정할 수 있다. 상술한 실시예에 따르면, 프로세서는 객체의 종류를 인 식한 객체라도 해당 객체의 변화에 이상이 있으면(예: 도로 상에 멈춰있는 차량에 관련된 객체), 인식한 객체를 도로이벤트로 검출할 수 있다. 다양한 실시예에 따르면, 영상에 기반하여 인식된 차선 중 적어도 일부(예: 소실점과 근접한 영역)는 곡선 차선 일 수 있다. 이 경우, 프로세서는 소실점에 기준하여 인식된 차선 중 도로이벤트에 대응하는 방향(예: 기 준선에 대한 도로이벤트의 방향)의 차선을 직선 차선으로 변환하고, 변환된 직선 차선에 기반하여 도로이벤트가 위치한 차로를 검출할 수 있다. 다양한 실시예에 따르면, 프로세서는 통신 회로를 통해 다른 장치(예: 교통 정보 제공 서버)로부터 도로이벤트 정보를 수신하고, 수신된 도로이벤트 정보로부터 검출된 도로이벤트를 확인 가능한 경우에는 도로이 벤트가 점유한 차로를 확인하지 않을 수 있다. 수신된 도로이벤트 정보로부터 검출된 도로이벤트를 확인 가능한 경우, 프로세서는 상술한 바와 같이 도로이벤트가 점유한 차로를 결정하고 통신 회로를 통해 다른 장 치에 도로이벤트가 점유한 차로 정보를 송신할 수 있다. 상술한 실시예에서는 도로이벤트 점유차로 검출 장치가 자율 주행 시에 카메라의 영상에 기반하여 주 행 도로 상의 도로이벤트를 검출하는 것을 예로 들어 설명하였다. 하지만, 이에 한정되지 않는다. 예를 들면, 도로이벤트 점유차로 검출 장치는 네비게이션을 통해 경로 안내 기능을 제공할 때에 카메라를 이용하 여 획득된 영상에 기반하여 주행 도로 상 도로이벤트를 검출할 수 있다. 상술한 실시예에 따르면, 도로이벤트 점유차로 검출 장치는 차량 주변을 촬영한 영상에서 확인된 소실점에 기준한 도로이벤트 및 차선 간의 각도에 기반하여 도로이벤트가 점유한 차로를 빠르게 검출할 수 있다. 또한, 도로이벤트 점유차로 검출 장치는 차량에 대한 도로이벤트의 방향 및 도로이벤트 점유각도를 이용하여 도 로이벤트가 점유한 차로를 검출할 수 있어, 연산량을 줄이고 처리 속도를 높일 수 있다.도 3은 본 발명에 따른 도로이벤트 점유차로 검출 방법의 개략 흐름도를 나타낸다. 본 발명에 따른 도로이벤트 점유차로 검출 방법은 전술한 본 발명에 따른 도로이벤트 점유차로 검출 장치에 의 해 수행되는 방법으로서, 실질적으로 동일한 발명이므로 중복되는 설명은 생략하도록 한다. 도 3을 참조하면, S100에서, 도로이벤트 점유차로 검출 장치(예: 도 2의 도로이벤트 점유차로 검출 장치) 는 카메라(예: 도 2의 카메라)에 의해 촬영된 주변 도로를 포함하는 영상을 획득할 수 있다. 예를 들어, 도로이벤트 점유차로 검출 장치는 카메라로부터 차량 주행 방향의 주변 도로를 포함하는 영상을 획득 할 수 있다. 다른 예를 들어, 도로이벤트 점유차로 검출 장치는 차량의 전방, 후방 및 측방 중의 적어도 하나에 탑제된 카메라로부터 차량 주변 도로를 포함하는 영상을 획득할 수 있다. S200에서, 도로이벤트 점유차로 검출 장치는 획득된 영상에서 도로이벤트를 인식하여 차량의 주변 도로 상 에 사고 위험성이 있는 도로이벤트가 존재하는지를 확인할 수 있다. 예를 들어, 도로이벤트 점유차로 검출 장치 는 획득된 영상 내에 지정된 조건에 부합하는 도로이벤트가 존재하는지를 확인할 수 있다. 상기 지정된 조 건은 예를 들면, 주변 도로 상에 존재하는 객체의 종류를 확인할 수 없는 경우 및 주변 도로 상에 존재하는 객 체가 지정된 크기 이상이면서 지정된 속도 이하이고 차량을 향하는 방향으로 이동중인 경우 중 적어도 하나를 포함할 수 있다. S300에서, 도로이벤트가 인식되면, 도로이벤트 점유차로 검출 장치는 2개의 도로이벤트 점유각도와 차선각 도를 각각 비교하여 도로에서 도로이벤트 점유차로를 결정할 수 있다. 예를 들어, 도로이벤트 점유차로 검출 장치는 소실점에 기준하여 제1 점유각도와 제2 점유각도를 포함하는 도로이벤트 점유각도를 확인할 수 있다. 제1 점유각도(β1)는 소실점과 도로이벤트의 우측 에지를 연결한 제1 에지선(B1) 및 기준선(A) 간의 각도이고, 제2 점유각도(β2)는 소실점과 도로이벤트의 좌측 에지를 연결한 제2 에지선(B2) 및 기준선(A) 간의 각도이다. 도로이벤트 점유차로 검출 장치는 상기 기준선에 대하여 도로이벤트가 위치한 방향을 확인하고, 소실점에 기준하여 확인된 방향에 존재하는 모든 차선과 기준선 간의 차선각도를 확인할 수 있다. 프로세서는 2개의 도로이벤트 점유각도와 각 차선각도를 비교하여 도로에서 도로이벤트가 점유한 차로를 결정할 수 있다. 도 4는 일 실시예에 따른 도로이벤트 점유차로 검출 방법의 세부 흐름도를 나타낸다. 도 4를 참조하면, S400에서, 도로이벤트 점유차로 검출 장치(예: 도 2의 도로이벤트 점유차로 검출 장치) 는 카메라(예: 도 2의 카메라)로부터 주변 도로를 포함하는 영상을 획득할 수 있다. 예를 들어, 도로이벤 트 점유차로 검출 장치는 카메라로부터 차량 주행 방향의 주변 도로를 포함하는 영상을 획득할 수 있 다. 다른 예를 들어, 도로이벤트 점유차로 검출 장치는 차량의 전방, 후방 및 측방 중의 적어도 하나에 탑 재된 카메라로부터 차주변 도로를 포함하는 영상을 획득할 수 있다. S410에서, 도로이벤트 점유차로 검출 장치는 영상으로부터 차선을 인식하고 차로를 검출하여, 전체 차로 수 및 차량이 주행하고 있는 주행차로 정보를 획득할 수 있다. S420에서, 도로이벤트 점유차로 검출 장치는 획득된 영상에서 소실점과 기준선을 결정하고, 도로이벤트를 인식한다. 이때, 도로이벤트 점유차로 검출 장치는 획득된 영상을 분석하여 차량의 주변 도로 상에 위험요 소로 작용할 수 있는 도로이벤트가 존재하는지를 확인할 수 있다. 예를 들어, 도로이벤트 점유차로 검출 장치는 획득된 영상으로부터 검출된 차량의 주변 도로 상에 지정된 조건에 부합하는 도로이벤트가 존재하는지를 확인할 수 있다. 상기 지정된 조건은 예를 들면, 주변 도로 상에 존재하는 객체의 종류를 확인할 수 없는 경우 및 주변 도로 상에 존재하는 객체가 지정된 크기 이상이면서 지정 된 속도 이하이고 차량을 향하는 방향으로 이동중인 경우 중 적어도 하나를 포함할 수 있다. 도 4에서 S420 단계는 S410 단계 이후에 수행되는 것으로 도시되었지만, S410 단계와 S420 단계는 동시에 수행 되거나 서로 순서가 변경될 수 있음은 물론이며 서로 독립적으로 수행될 수도 있다. 그리고 나서, 도로이벤트 점유차로 검출 장치는 S430에서, 영상으로부터 기준선과 도로이벤트 간에 이뤄지 는 2개의 도로이벤트 점유각도를 검출할 수 있다. S440에서, 도로이벤트 점유차로 검출 장치는 모든 차선과 기준선 간의 차선각도를 검출할 수 있다. S450에서, 도로이벤트 점유차로 검출 장치는 2개의 도로이벤트 점유각도와 각 차선각도를 서로 비교하여 도로에서 도로이벤트가 점유한 차로인 도로이벤트 점유차로를 결정할 수 있다. 이처럼, 2개의 도로이벤트 점유각도와 각 차선에 따른 차선각도를 서로 비교하면, 도로이벤트 점유차로 검출 장치는 도로이벤트가 점유한 차로를 판단할 수 있다. 물론, 도로이벤트가 커서 여러 개의 차로를 함께 점 유할 수도 있으며, 도로이벤트 점유차로 검출 장치는 이러한 경우까지도 판단할 수 있음은 물론이다. 도 5는 일 실시예에 따른 차량 좌측 방향의 도로 상 도로이벤트 점유차로 검출 방법을 나타낸다. 도 5를 참조하면, 차량은 5차선 도로 중에서 3차로를 주행중이고, 도로이벤트(예: 도 1의 도로이벤트 )는 차량의 좌측 방향에 존재할 수 있다. 이 경우, 도로이벤트 점유차로 검출 장치는 획득된 영상에서 소실점과 도로이벤트의 우측 에지를 연결한 제1 에지선(B1) 및 소실점과 도로이벤트의 좌측 에지를 연결한 제2 에지선(B2)를 결정하고, 기 준선(A)과 제1 에지선(B1) 간의 각도인 제1 점유각도(β1), 및 기준선과 제2 에지선(B2) 간의 각도인 제2 점유 각도(β2)를 확인할 수 있다. 또한, 도로이벤트 점유차로 검출 장치는 기준선에 기준하여, 가장 우측 차로의 우측 차선과 기준선(A) 간 의 제1 차선각도(α1)를 확인하고, 시계 방향으로 순차적으로 제2 차선각도(α2), 제3 차선각도(α3), 제4 차선 각도(α4), 제5 차선각도(α5), 및 제6 차선각도(α6)를 각각 확인할 수 있다. 도로이벤트 점유각도(β1, β2)가 제6 차선각도(α6) 이하이고 제5 차선각도(α5) 초과이면, 도로이벤트 점유차 로 검출 장치는 도로이벤트가 점유한 차로를 1차로로 결정할 수 있다. 도로이벤트 점유각도(β1, β 2)가 제5 차선각도(α5) 이하이고 제4 차선각도(α4) 초과이면, 도로이벤트 점유차로 검출 장치는 도로이 벤트가 점유한 차로를 2차로로 결정할 수 있다. 물론, 도로이벤트가 적어도 하나 이상의 차로에 걸쳐서 존재할 수 있으며, 도로이벤트 점유차로 검출 장치(11 0)는 2개의 도로이벤트 점유각도와 각 차선각도를 서로 비교하여 도로이벤트의 방향 및 점유한 차로를 모두 판 단할 수 있다. 도 5의 경우, 도로이벤트 점유각도(β1, β2)가 모두 제5 차선각도(α5) 미만이고 제4 차선각도(α4)를 초과하 므로, 도로이벤트 점유차로 검출 장치는 도로이벤트가 점유한 차로를 2차로로 결정할 수 있다. 상술한 실시예에 따르면, 도로이벤트 점유차로 검출 장치는 도로이벤트가 위치한 방향에 대응하는 차 로를 이용하여 도로이벤트가 점유한 차로를 결정할 수 있으므로, 도로이벤트 위치 검출 시에 도로이벤트 가 위치하지 않은 방향의 차로를 불필요하게 분석함으로 인한 처리 부하 및 연산을 줄일 수 있다. 도 6은 일 실시예에 따른 차량 우측 방향의 도로 상 도로이벤트 점유차로 검출 방법을 나타낸다. 도 6을 참조하면, 차량은 5차선 도로를 주행중이고, 도로이벤트(예: 도 1의 도로이벤트)는 차량(11 0)의 우측 방향에 존재할 수 있다. 이 경우, 도로이벤트 점유차로 검출 장치는 획득된 영상에서 소실점과 도로이벤트의 우측 에지를 연결한 제1 에지선(B1) 및 소실점과 도로이벤트의 좌측 에지를 연결한 제2 에지선(B2)를 결정하고, 기 준선(A)과 제1 에지선(B1) 간의 각도인 제1 점유각도(β1) 및 기준선과 제2 에지선(B2) 간의 각도인 제2 점유각 도(β2)를 확인할 수 있다. 또한, 도로이벤트 점유차로 검출 장치는 기준선에 기준하여, 가장 우측 차로의 우측 차선과 기준선(A) 간 의 제1 차선각도(α1)를 확인하고, 시계 방향으로 순차적으로 제2 차선각도(α2), 제3 차선각도(α3), 제4 차선 각도(α4), 제5 차선각도(α5), 및 제6 차선각도(α6)를 각각 확인할 수 있다. 도로이벤트의 제1 점유각도(β1)가 제1 차선각도(α1)를 초과하고 제2 차선각도(α2) 미만이며, 도로이벤트의 제2 점유각도(β2)가 제2 차선각도(α2)를 초과하고 제3 차선각도(α3) 미만이므로, 도로이벤트 점유차로 검출 장치는 도로이벤트가 4차로와 5차로를 함께 점유한 것으로 결정할 수 있다.만일, 도로이벤트 점유각도(β1, β2)가 제6 차선각도(α6) 이하이고 제5 차선각도(α5) 초과이면, 도로이벤트 점유차로 검출 장치는 도로이벤트가 점유한 차로를 5차로로 결정할 수 있을 것 이다. 도 6에서처럼, 도로이벤트가 적어도 하나 이상의 차로에 걸쳐서 존재할 수 있으며, 도로이벤트 점유차로 검출 장치는 2개의 도로이벤트 점유각도와 각 차선각도를 서로 비교하여 도로이벤트의 방향 및 점유한 차로를 모두 판단할 수 있다. 본 문서의 다양한 실시예들 및 이에 사용된 용어들은 본 문서에 기재된 기술적 특징들을 특정한 실시예들로 한 정하려는 것이 아니며, 해당 실시예의 다양한 변경, 균등물, 또는 대체물을 포함하는 것으로 이해되어야 한다. 도면의 설명과 관련하여, 유사한 또는 관련된 구성요소에 대해서는 유사한 참조 부호가 사용될 수 있다. 아이템 에 대응하는 명사의 단수 형은 관련된 문맥상 명백하게 다르게 지시하지 않는 한, 상기 아이템 한 개 또는 복수 개를 포함할 수 있다. 본 문서에서, \"A 또는 B\", \"A 및 B 중 적어도 하나\",\"A 또는 B 중 적어도 하나\", \"A, B 또는 C\", \"A, B 및 C 중 적어도 하나\" 및 \"A, B, 또는 C 중 적어도 하나\"와 같은 문구들 각각은 그 문구들 중 해당하는 문구에 함께 나열된 항목들 중 어느 하나, 또는 그들의 모든 가능한 조합을 포함할 수 있다. \"제 1\", \"제 2\", 또는 \"첫째\" 또는 \"둘째\"와 같은 용어들은 단순히 해당 구성요소를 다른 해당 구성요소와 구분하기 위 해 사용될 수 있으며, 해당 구성요소들을 다른 측면(예: 중요성 또는 순서)에서 한정하지 않는다. 어떤(예: 제 1) 구성요소가 다른(예: 제 2) 구성요소에, \"기능적으로\" 또는 \"통신적으로\"라는 용어와 함께 또는 이런 용어 없이, \"커플드\" 또는 \"커넥티드\"라고 언급된 경우, 그것은 상기 어떤 구성요소가 상기 다른 구성요소에 직접적 으로(예: 유선으로), 무선으로, 또는 제 3 구성요소를 통하여 연결될 수 있다는 것을 의미한다. 본 문서에서 사용된 용어 \"모듈\"은 하드웨어, 소프트웨어 또는 펌웨어로 구현된 유닛을 포함할 수 있으며, 예를 들면, 로직, 논리 블록, 부품, 또는 회로와 같은 용어와 상호 호환적으로 사용될 수 있다. 모듈은, 일체로 구성 된 부품 또는 하나 또는 그 이상의 기능을 수행하는, 상기 부품의 최소 단위 또는 그 일부가 될 수 있다. 예를 들면, 일실시예에 따르면, 모듈은 ASIC(application-specific integrated circuit)의 형태로 구현될 수 있다. 본 문서의 다양한 실시예들은 기기(machine)(예: 도로이벤트 점유차로 검출 장치) 의해 읽을 수 있는 저 장 매체(storage medium)(예: 내장 메모리 또는 외장 메모리)에 저장된 하나 이상의 명령어들을 포 함하는 소프트웨어(예: 프로그램)로서 구현될 수 있다. 예를 들면, 기기(예: 도로이벤트 점유차로 검출 장치)의 프로세서(예: 프로세서)는, 저장 매체로부터 저장된 하나 이상의 명령어들 중 적어도 하나 의 명령을 호출하고, 그것을 실행할 수 있다. 이것은 기기가 상기 호출된 적어도 하나의 명령어에 따라 적어도 하나의 기능을 수행하도록 운영되는 것을 가능하게 한다. 상기 하나 이상의 명령어들은 컴파일러에 의해 생성된 코드 또는 인터프리터에 의해 실행될 수 있는 코드를 포함할 수 있다. 기기로 읽을 수 있는 저장매체 는, 비일 시적(non-transitory) 저장매체의 형태로 제공될 수 있다. 여기서, ‘비일시적’은 저장매체가 실재(tangible) 하는 장치이고, 신호(signal)(예: 전자기파)를 포함하지 않는다는 것을 의미할 뿐이며, 이 용어는 데이터가 저 장매체에 반영구적으로 저장되는 경우와 임시적으로 저장되는 경우를 구분하지 않는다. 일실시예에 따르면, 본 문서에 개시된 다양한 실시예들에 따른 방법은 컴퓨터 프로그램 제품(computer program product)에 포함되어 제공될 수 있다. 컴퓨터 프로그램 제품은 상품으로서 판매자 및 구매자 간에 거래될 수 있 다. 컴퓨터 프로그램 제품은 기기로 읽을 수 있는 저장 매체(예: compact disc read only memory (CD-ROM))의 형태로 배포되거나, 또는 어플리케이션 스토어(예: 플레이 스토어TM)를 통해 또는 두개의 사용자 장치들(예: 스 마트폰들) 간에 직접, 온라인으로 배포(예: 다운로드 또는 업로드)될 수 있다. 온라인 배포의 경우에, 컴퓨터 프로그램 제품의 적어도 일부는 제조사의 서버, 어플리케이션 스토어의 서버, 또는 중계 서버의 메모리와 같은 기기로 읽을 수 있는 저장 매체에 적어도 일시 저장되거나, 임시적으로 생성될 수 있다. 다양한 실시예들에 따르면, 상기 기술한 구성요소들의 각각의 구성요소(예: 모듈 또는 프로그램)는 단수 또는 복수의 개체를 포함할 수 있다. 다양한 실시예들에 따르면, 전술한 해당 구성요소들 중 하나 이상의 구성요소들 또는 동작들이 생략되거나, 또는 하나 이상의 다른 구성요소들 또는 동작들이 추가될 수 있다. 대체적으로 또는 추가적으로, 복수의 구성요소들(예: 모듈 또는 프로그램)은 하나의 구성요소로 통합될 수 있다. 이런 경우, 통 합된 구성요소는 상기 복수의 구성요소들 각각의 구성요소의 하나 이상의 기능들을 상기 통합 이전에 상기 복수 의 구성요소들 중 해당 구성요소에 의해 수행되는 것과 동일 또는 유사하게 수행할 수 있다. 다양한 실시예들에 따르면, 모듈, 프로그램 또는 다른 구성요소에 의해 수행되는 동작들은 순차적으로, 병렬적으로, 반복적으로, 또는 휴리스틱하게 실행되거나, 상기 동작들 중 하나 이상이 다른 순서로 실행되거나, 생략되거나, 또는 하나이상의 다른 동작들이 추가될 수 있다."}
{"patent_id": "10-2019-0112768", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명에 따른 카메라 기반의 도로이벤트 점유차로 검출 방법을 설명하기 위한 도면이다. 도 2는 본 발명에 따른 카메라 기반의 도로이벤트 점유차로 검출 장치의 구성도를 나타낸다. 도 3은 본 발명에 따른 카메라 기반의 도로이벤트 점유차로 검출 방법의 개략 흐름도를 나타낸다. 도 4는 본 발명에 따른 카메라 기반의 도로이벤트 점유차로 검출 방법의 세부 흐름도를 나타낸다. 도 5는 일 실시예에 따른 차량 좌측 방향의 도로이벤트 점유차로 검출 방법을 나타낸다. 도 6은 일 실시예에 따른 차량 우측 방향의 도로이벤트 점유차로 검출 방법을 나타낸다. 도면의 설명과 관련하여, 동일 또는 유사한 구성요소에 대해서는 동일 또는 유사한 참조 부호가 사용될 수 있다."}
