{"patent_id": "10-2019-0008808", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2020-0091692", "출원번호": "10-2019-0008808", "발명의 명칭": "가상사설망 서비스 장애 복구 방법 및 시스템", "출원인": "주식회사 케이티", "발명자": "강명석"}}
{"patent_id": "10-2019-0008808", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "가상사설망 서비스 장애를 복구하는 방법에 있어서,인증서버가 가상사설망 게이트웨이로부터 수신되는 응답 신호로부터 가상사설망 게이트웨이 장애 발생 여부를감지하여 장애 가상사설망 게이트웨이로 판단하는 단계; 상기 인증서버가 장애 발생시 상기 장애 가상사설망 게이트웨이를 대체하여 가상사설망 서비스를 제공할 대체가상사설망 게이트웨이를 선택하는 단계;상기 대체 가상사설망 게이트웨이로 임시 인증 코드를 송신하는 단계; 및상기 대체 가상사설망 게이트웨이가 상기 장애 가상사설망 게이트웨이를 대신하여 가상사설망 서비스를 제공하는 단계;를 수행하는 것을 특징으로 하는 가상사설망 서비스 장애 복구 방법."}
{"patent_id": "10-2019-0008808", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 장애 가상사설망 게이트웨이로 판단하는 단계는,상기 인증서버가 기 설정된 시간 간격으로 상기 가상사설망 게이트웨이로 연결상태확인 요청 메시지를 송신하는단계;상기 인증서버가 상기 가상사설망 게이트웨이로부터 연결상태확인 요청 메시지에 대응하는 연결상태확인 응답메시지를 수신하는 단계; 및상기 인증서버가 상기 가상사설망 게이트웨이로부터 기 설정된 시간 동안 연결상태확인 응답 메시지가 수신되지않는 경우, 상기 가상사설망 게이트웨이를 상기 장애 가상사설망 게이트웨이로 판단하는 단계;인 것을 특징으로 하는 가상사설망 서비스 장애 복구 방법."}
{"patent_id": "10-2019-0008808", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 대체 가상사설망 게이트웨이를 선택하는 단계는, 상기 인증서버에 기 저장된 대체 가상사설망 게이트웨이 테이블에 기재된 각 가상사설망 게이트웨이 별 대체 가상사설망 게이트웨이를 확인하여 선택하는 것을 특징으로 하는 가상사설망 서비스 장애 복구 방법."}
{"patent_id": "10-2019-0008808", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 임시 인증 코드는, 상기 대체 가상사설망 게이트웨이의 고유 코드 및 상기 장애 가상사설망 게이트웨이의할당 코드를 포함하는 것을 특징으로 하는 가상사설망 서비스 장애 복구 방법."}
{"patent_id": "10-2019-0008808", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서,상기 고유 코드는 각 가상사설망 게이트웨이를 특정할 수 있는 가상사설망 게이트웨이의 고유한 명칭인 것을 특징으로 하는 가상사설망 서비스 장애 복구 방법."}
{"patent_id": "10-2019-0008808", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제4항에 있어서,공개특허 10-2020-0091692-3-상기 할당 코드는 각 가상사설망 게이트웨이 및 각 클라이언트에 할당된 코드로서, 각 클라이언트는 동일한 할당 코드를 가진 가상사설망 게이트웨이로부터 가상사설망 서비스를 제공 받도록 하는 가상사설망 게이트웨이를특정하는 코드인 것을 특징으로 하는 가상사설망 서비스 장애 복구 방법."}
{"patent_id": "10-2019-0008808", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제1항에 있어서,상기 인증서버는 대체 가상사설망 게이트웨이 동시 접속자 수가 기 설정된 제한 접속자 수 이상인 경우, 가상사설망 연결 요청된 클라이언트 중 일정 등급 이상의 클라이언트의 연결만 허용하는 대체 가상사설망 게이트웨이접속제한단계;를 수행하는 것을 특징으로 하는 가상사설망 서비스 장애 복구 방법."}
{"patent_id": "10-2019-0008808", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7항에 있어서,상기 클라이언트의 등급은 모든 클라이언트에 할당된 등급으로서 상기 인증서버에 기 저장된 것을 특징으로 하는 가상사설망 서비스 장애 복구 방법."}
{"patent_id": "10-2019-0008808", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제1항에 있어서,인증서버는 대체 가상사설망 게이트웨이 동시 접속자 수가 기 설정된 한계 접속자 수 이상인 경우, 가상사설망연결 요청된 클라이언트의 연결을 차단하는 대체 가상사설망 게이트웨이 접속차단단계;를 수행하는 것을 특징으로 하는 가상사설망 서비스 장애 복구 방법."}
{"patent_id": "10-2019-0008808", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "가상사설망 게이트웨이를 이용하여 클라이언트에게 가상사설망 서비스를 제공하는 시스템에 있어서,가상사설망 게이트웨이로부터 수신되는 응답 신호로부터 가상사설망 게이트웨이 장애 발생 여부를 감지하여 장애 가상사설망 게이트웨이로 판단하고, 대체 가상사설망 게이트웨이로 임시 인증 코드를 송신하여, 대체 가상사설망 게이트웨이가 장애 가상사설망 게이트웨이를 대신하여 가상사설망 서비스를 제공하도록 하는 것을 특징으로 하는 인증서버."}
{"patent_id": "10-2019-0008808", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 가상사설망 서비스 장애 복구 방법 및 그 시스템에 관한 것으로서, 보다 자세하게, 가상사설망 서비스 장애 복구하는 방법에 있어서, 인증서버가 가상사설망 게이트웨이로부터 수신되는 응답 신호로부터 가상사설망 게이트웨이 장애 발생 여부를 감지하여 장애 가상사설망 게이트웨이로 판단하는 단계; 상기 인증서버가 장애 발 (뒷면에 계속)"}
{"patent_id": "10-2019-0008808", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 가상사설망 서비스 장애 복구 방법 및 시스템에 관한 것으로, 보다 구체적으로는 가상사설망 서비스 시스템에서 인증서버가 시스템을 구성하는 가상사설망 게이트웨이의 장애를 판단하고, 어느 한 가상사설망 게이 트웨이에 장애 발생이 판단되면, 장애 가상사설망 게이트웨이가 제공하는 서비스를 대신 제공할 대체 가상사설 망 게이트웨이를 지정하여 가상사설망 서비스 장애를 복구하는 방법 및 시스템에 관한 것이다."}
{"patent_id": "10-2019-0008808", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "가상사설망 서비스는 인터넷망을 전용선처럼 사용할 수 있도록 특수 통신체계와 암호화 기법을 제공하는 서비스 로 기업 본사와 지사 또는 지사 간에 전용망을 설치한 것과 같은 효과를 거둘 수 있으며, 기존 사설망의 고비용 부담을 해소하기 위해 사용되는 서비스이다. 기업의 통신망과 인터넷서비스 제공자와 연결만 하면 되기 때문에 별도로 값비싼 장비나 소프트웨어를 구입하고 관리할 필요가 없어, 기존 전용선에 비해 비용 절감효과를 얻을 수 있다. 뿐만 아니라 사용자의 이동성을 보장하고, 편리한 네트워크를 구성할 수 있는 등의 장점이 있다. 가상 사설망 서비스를 이용하는 클라이언트는 가상사설망 게이트웨이를 통하여 기업의 통신망과 인터넷 서비스를 이 용할 수 있는데, 가상사설망 게이트웨이 장애가 발생하면 가상사설망 게이트웨이 복구 전까지, 해당 가상사설망 게이트웨이에 할당된 모든 클라이언트는 가상사설망 서비스를 이용하지 못하게 된다. 이러한 가상사설망 서비스장애를 복구하는 방법 중 하나로 가상사설망 게이트웨이 이중화 시스템이 있는데, 모든 클라이언트에게 가상사 설망 서비스를 이용할 수 있는 가상사설망 게이트웨이를 두 개씩 할당하여, 어느 한 가상사설망 게이트웨이에 장애가 발생한 경우, 다른 가상사설망 게이트웨이에 의해 안정적으로 가상사설망 서비스를 제공받도록 하는 시 스템이다. 하지만 가상사설망 게이트웨이 이중화를 위해서는 고가의 가상사설망 게이트웨이를 추가로 구축해야 하는 문제점이 있고, 장애가 발생하지 않을 경우 하나의 가상사설망 게이트웨이로 제공할 수 있는 서비스를 두 개의 가상사설망 게이트웨이로 제공하기 때문에 효율이 떨어진다는 문제점이 있다."}
{"patent_id": "10-2019-0008808", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 전술한 문제 및 다른 문제를 해결하는 것을 목적으로 한다. 또 다른 목적은 가상사설망 게이트웨이 장애가 발생하더라도 끊김 없이 연속적인 가상사설망 서비스를 제공하는 방법 및 그 시스템을 제공함에 있다. 그리고, 가상사설망 게이트웨이 이중화 시스템을 갖추지 않더라도, 가상사설망 게이트웨이 이중화와 동일한 수 준으로 가상사설망 게이트웨이 장애를 복구할 수 있는 방법 및 그 시스템을 제공함에 있다. 또한, 어느 한 가상 사설망 게이트웨이에 장애가 발생하더라도 이를 대체하는 가상사설망 게이트웨이에 가중되는 부하를 감소시켜, 가상사설망 게이트웨이의 연쇄적인 장애 발생을 방지할 수 있는 방법 및 그 시스템을 제공하는 것을 목적으로 한다."}
{"patent_id": "10-2019-0008808", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 또는 다른 목적을 달성하기 위해 본 발명의 일 측면에 따르면, 가상사설망 서비스 장애를 복구하는 방법에 있어서, 인증서버가 가상사설망 게이트웨이로부터 수신되는 응답 신 호로부터 가상사설망 게이트웨이 장애 발생 여부를 감지하여 장애 가상사설망 게이트웨이로 판단하는 단계; 상 기 인증서버가 장애 발생시 상기 장애 가상사설망 게이트웨이를 대체하여 가상사설망 서비스를 제공할 대체 가 상사설망 게이트웨이를 선택하는 단계; 상기 대체 가상사설망 게이트웨이로 임시 인증 코드를 송신하는 단계; 및 상기 대체 가상사설망 게이트웨이가 상기 장애 가상사설망 게이트웨이를 대신하여 가상사설망 서비스를 제공 하는 단계;를 수행하는것을 특징으로 하는 가상사설망 서비스 장애 복구 방법을 제공한다. 그리고, 본 발명의 또 다른 일 측면에 따르면, 가상사설망 게이트웨이를 이용하여 클라이언트에게 가상사설망 서비스를 제공하는 시스템에 있어서, 가상사설망 게이트웨이로부터 수신되는 응답 신호로부터 가상사설망 게이 트웨이 장애 발생 여부를 감지하여 장애 가상사설망 게이트웨이로 판단하고, 대체 가상사설망 게이트웨이로 임 시 인증 코드를 송신하여, 대체 가상사설망 게이트웨이가 장애 발생 가상사설망 게이트웨이를 대신하여 가상사 설망 서비스를 제공하도록 하는 것을 특징으로 하는 인증서버를 제공한다."}
{"patent_id": "10-2019-0008808", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 의하면, 클라이언트는 가상사설망 게이트웨이 장애가 발생하더라도 끊김 없이 연속적인 가상사설망 서비스 제공을 보장받을 수 있는 효과가 있고, 가상사설망 게이트웨이 장애 발생을 대비하여 가상사설망 게이트 웨이 장비를 추가적으로 설치하는 가상사설망 게이트웨이 이중화 시스템을 갖추지 않더라도, 가상사설망 게이트 웨이 이중화와 동일한 수준의 가상사설망 게이트웨이 장애 복구 시스템을 갖출 수 있는 효과가 있으며, 가상사 설망 게이트웨이 장애 발생을 대비한 추가적인 가상사설망 게이트웨이 설치가 필요하지 않아, 가상사설망 서비 스 제공의 비용을 절감하는 효과가 있다. 그리고, 어느 한 가상사설망 게이트웨이에 장애가 발생하더라도 대체 가상사설망 게이트웨이에 가중되는 부하를 감소시킬 수 있어, 가상사설망 게이트웨이의 연쇄적인 장애 발생을 방지할 수 있는 효과가 있다."}
{"patent_id": "10-2019-0008808", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면을 참조하여 본 명세서에 개시된 실시 예를 상세히 설명하되, 도면 부호에 관계없이 동일하거 나 유사한 구성요소는 동일한 참조 번호를 부여하고 이에 대한 중복되는 설명은 생략하기로 한다. 이하의 설명 에서 사용되는 구성요소에 대한 접미사 \"모듈\" 및 \"부\"는 명세서 작성의 용이함만이 고려되어 부여되거나 혼용 되는 것으로서, 그 자체로 서로 구별되는 의미 또는 역할을 갖는 것은 아니다. 또한, 본 명세서에 개시된 실시 예를 설명함에 있어서 관련된 공지 기술에 대한 구체적인 설명이 본 명세서에 개시된 실시 예의 요지를 흐릴 수 있다고 판단되는 경우 그 상세한 설명을 생략한다. 또한, 첨부된 도면은 본 명세서에 개시된 실시 예를 쉽게 이 해할 수 있도록 하기 위한 것일 뿐, 첨부된 도면에 의해 본 명세서에 개시된 기술적 사상이 제한되지 않으며, 본 발명의 사상 및 기술 범위에 포함되는 모든 변경, 균등물 내지 대체물을 포함하는 것으로 이해되어야 한다. 제1, 제2 등과 같이 서수를 포함하는 용어는 다양한 구성요소들을 설명하는데 사용될 수 있지만, 상기 구성요소 들은 상기 용어들에 의해 한정되지는 않는다. 상기 용어들은 하나의 구성요소를 다른 구성요소로부터 구별하는 목적으로만 사용된다. 어떤 구성요소가 다른 구성요소에 \"연결되어\" 있다거나 \"접속되어\" 있다고 언급된 때에는, 그 다른 구성요소에 직접적으로 연결되어 있거나 또는 접속되어 있을 수도 있지만, 중간에 다른 구성요소가 존재할 수도 있다고 이 해되어야 할 것이다. 반면에, 어떤 구성요소가 다른 구성요소에 \"직접 연결되어\" 있다거나 \"직접 접속되어\" 있 다고 언급된 때에는, 중간에 다른 구성요소가 존재하지 않는 것으로 이해되어야 할 것이다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 출원에서, \"포함한다\" 또는 \"가지다\" 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 동작, 구성요소, 부 품 또는 이들을 조합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되 어야 한다. 본 명세서에서 설명되는 단말에는 휴대폰, 스마트 폰(smart phone), 노트북 컴퓨터(laptop computer), 디지털방 송용 단말기, PDA(personal digital assistants), PMP(portable multimedia player), 네비게이션, 슬레이트 PC(slate PC), 태블릿 PC(tablet PC), 울트라북(ultrabook), 웨어러블 디바이스(wearable device, 예를 들어, 워치형 단말기 (smartwatch), 글래스형 단말기 (smart glass), HMD(head mounted display)), 휴대형 인공지능 스피커 등의 이동 단말이 포함될 수 있다. 그러나, 본 명세서에 기재된 실시 예에 따른 구성은 이동 단말기에만 적용 가능한 경우를 제외하면, 디지털 TV, 데스크탑 컴퓨터, 디지털 사이니지, 인공지능 스피커 등과 같은 고정 단말기에도 적용될 수도 있음을 본 기술분 야의 당업자라면 쉽게 알 수 있을 것이다.도 1은 본 발명의 일 실시 예에 따른 가상사설망 서비스 시스템을 도시한 도면이다. 도 1을 참조하여 본 발명에 따른 가상사설망(VPN; VIRTUAL PRIVATE NETWORK) 서비스 시스템의 일 실시 예 를 간단하게 설명하면, 가상사설망 서비스 시스템은 1이상의 클라이언트에게 가상사설망 서비스를 제공하기 위 한 시스템으로서, 2이상의 가상사설망 게이트웨이와 클라이언트에게 제공되는 인터넷 서비스 및 고객사 서 버를 포함하고, 2이상의 가상사설망 게이트웨이를 제어하는 인증서버를 포함할 수 있다. 클라이언트가 가상사설망 서비스를 이용하기 위하여 가상사설망 서비스 시스템에 접속하면 기 할당된 가상사설망 게이트웨이 로 연결이 되고, 가상사설망 게이트웨이는 인증서버로 클라이언트가 정당한 사용자인지 여부를 인 증을 요청한 후, 인증서버로부터 정당한 사용자 인증을 수신하면 클라이언트가 인터넷 서비스 및 고객사 서 버에 자유롭게 접속할 수 있도록 클라이언트와 가상사설망 게이트웨이 간 터널을 생성 할 수 있다. 도 2는 종래 가상사설망 서비스의 시그널링 흐름도를 도시한 도면이다. 도 2를 참조하여 가상사설망 서비스의 시그널링 흐름을 보다 자세하게 설명하면, 클라이언트가 가상사설망 연결 요청 메시지를 송신할 수 있다(S210). 가상사설망 연결 요청 메시지는 클라이언트 아이디와 비밀번호를 포함할 수 있다. 클라이언트가 가상사설망 서비스 연결을 요청할 경우, 특정 클라이언트의 가상사설망 연결 요청 메시 지는 특정 가상사설망 게이트웨이만 수신하도록 일대일 대응관계가 설정되어 있을 수 있다. 가상사설망 게이트웨이는 가상사설망 연결 요청을 수신한 후, 인증서버로 인증 API(Application Programming Interface) 요청 메시지를 송신할 수 있다(S220). 인증 API 요청 메시지에는 클라이언트로부터 수 신한 클라이언트 아이디 및 비밀번호를 포함할 수 있다. 인증서버는 클라이언트 아이디 및 비밀번호 정보를 이용하여 정당한 사용자인지 여부를 판단하여 인증 API 응답 메시지를 가상사설망 게이트웨이로 송신할 수 있다(S230). 인증 API 응답 메시지는 정당한 사용자인지 여부, 클라이언트 아이디 및 고객사 서버에 관한 정보를 포함할 수 있다. 가상사설망 게이트웨이는 클라이언트에게 가상사설망 연결 응답 메시지를 송신할 수 있고(S240), 클라이언 트와 가상사설망 게이트웨이 간 가상사설망 터널을 형성할 수 있다(S250). 가상사설망 터널이 형성되면 클 라이언트는 인터넷 서비스를 제공받을 수 있고, 안전하게 고객사 서버에 접속할 수 있다. 그러나, 종래 가상사설망 서비스에 따르면, 어느 한 가상사설망 게이트웨이에 장애가 발생하는 경우, 장애 가상사설망 게이트웨이가 수리되기 전까지 장애 가상사설망 게이트웨이에 할당된 클라이언트는 가상사 설망 서비스를 제공받을 수 없는 문제점이 있다. 도 3은 본 발명의 일 실시 예에 따른 가상사설망 서비스의 시그널링 흐름도를 도시한 도면이다. 도 3을 참조하여 본 발명의 일 실시 예에 따른 가상사설망 서비스 제공 과정을 보다 자세하게 설명하면, 인증서 버는 가상사설망 내의 가상사설망 게이트웨이를 제어할 수 있는데, 인증서버는 실시간 모니터링으 로 가상사설망 내의 모든 가상사설망 게이트웨이의 장애 발생 여부를 확인할 수 있다(S300). 실시간 모니터 링 방법으로는 인증서버가 기 설정된 시간 간격으로 가상사설망 게이트웨이로 연결상태확인 요청 메시 지를 송신하고, 가상사설망 게이트웨이로부터 연결상태확인 요청 메시지에 대응하는 연결상태확인 응답 메 시지를 수신하는데, 특정 가상사설망 게이트웨이로부터 기 설정된 시간 동안 연결상태확인 응답 메시지가 수신되지 않는 경우, 특정 가상사설망 게이트웨이에 장애가 발생하였다고 판단할 수 있다. 가상사설망 게이트웨이가 정상 동작하는 경우, 클라이언트는 가상사설망 게이트웨이로 클라이언트 아이 디 및 비밀번호 정보를 포함하는 가상사설망 연결 요청 메시지를 송신할 수 있다(S310). 각 가상사설망 게이트 웨이는 인증서버로부터 부여 받은 상이한 할당 코드를 가지고 있고, 클라이언트도 가상사설망 서비스 등록 과정에서 가상사설망 서비스 이용을 위한 가상사설망 게이트웨이를 지정하는 가상사설망 게이트웨이 할당 코드를 부여 받는다. 따라서, 각 가상사설망 게이트웨이는 가상사설망 서비스를 이용하는 클라이 언트 중 가상사설망 게이트웨이가 가진 할당 코드와 동일한 할당 코드를 가진 클라이언트에게만 가상사설망 서비스를 제공할 수 있다. 클라이언트로부터 가상사설망 연결 요청 메시지를 받은 가상사설망 게이트웨이는 인증서버로 인증 API 요청 메시지를 송신할 수 있다(S320). 인증 API 호출 메시지는 클라이언트 아이디 및 비밀번호를 포함할 수 있다. 인증서버는 수신한 인증 API 호출 메시지에 포함된 클라이언트 아이디 및 비밀번호를 이용하여 정당한 클라 이언트인지 여부를 확인한 후, 인증 API 응답 메시지를 가상사설망 게이트웨이로 송신할 수 있다(S330). 상 기 API 응답 메시지는 정당한 클라이언트인지 여부, 클라이언트 아이디, 인증 코드, 에러 코드를 포함할 수 있 다. 정당한 클라이언트인지 여부는 TRUE 또는 FALSE 를 의미하는 다양한 형태의 정보일 수 있고, 에러코드는 임 시 인증 코드인지 여부를 의미하는 다양한 형태의 정보일 수 있다. 예를 들어, 장애 발생 없이 인증 코드를 포 함하는 인증 API 응답 메시지를 송신하는 경우, 에러코드는 00 일 수 있고, 장애 발생하여 임시 인증 코드를 포 함하는 인증 API 응답 메시지를 송신하는 경우, 에러코드는 01일 수 있다. 인증 코드는 가상사설망 게이트웨이 고유 코드, 가상사설망 게이트웨이 할당 코드 및 클라이언트 아이디에 대응하는 고객사 서버 코드 정 보를 포함할 수 있다. 고유 코드는 각 가상사설망 게이트웨이를 특정할 수 있는 가상사설망 게이트웨이(2 0)의 고유한 명칭일 수 있다. 그리고, 할당 코드는 각 가상사설망 게이트웨이 및 각 클라이언트에 할당된 코드로서, 각 클라이언트는 동일한 할당 코드를 가진 가상사설망 게이트웨이로부터 가상사설망 서비스를 제 공 받도록 하는 가상사설망 게이트웨이를 특정하는 코드일 수 있다. 또, 고객사 서버 코드는 각 클라이언트 가 가상사설망 서비스를 통해 이용하는 고객사 서버를 특정하는 코드일 수 있다. 인증서버로부터 인증 API 응답 메시지를 수신한 가상사설망 게이트웨이는 클라이언트로 가상사설망 연 결 응답 메시지를 송신할 수 있고(S340), 클라이언트와 가상사설망 게이트웨이 간 가상사설망 터널을 형성 할 수 있다(S350). 가상사설망 터널이 형성되면 클라이언트는 인터넷 서비스를 제공받을 수 있고, 안전하게 고 객사 서버에 접속할 수 있다. 도 4는 본 발명의 일 실시 예에 따른 가상사설망 서비스 제공 중 가상사설망 게이트웨이 장애가 발생한 경 우의 시그널링 흐름도를 도시한 도면이다. 도 4를 참조하여 본 발명의 일 실시 예에 따른 가상사설망 게이트웨이 장애가 발생한 경우 가상사설망 서 비스 시스템이 가상사설망 서비스를 제공하는 과정을 보다 자세하게 설명하면, 인증서버는 가상사설망 내의 가상사설망 게이트웨이를 제어할 수 있는데, 인증서버는 실시간 모니터링으로 가상사설망 내의 모든 가 상사설망 게이트웨이의 장애 발생 여부를 확인할 수 있다(S400). 실시간 모니터링 방법의 일 실시 예로, 인 증서버가 기 설정된 시간 간격으로 가상사설망 게이트웨이로 연결상태확인 요청 메시지를 송신할 수 있 다. 그리고, 인증서버는 가상사설망 게이트웨이로부터 연결상태확인 요청 메시지에 대응하는 연결상태 확인 응답 메시지를 수신할 수 있다. 이 때, 인증서버는 가상 사설망 게이트웨이로부터 기 설정된 시간 내 에 연결상태확인 응답 메시지를 수신할 수 있는데, 특정 가상사설망 게이트웨이로부터 기 설정된 시간 동안 연결상태확인 응답 메시지가 수신되지 않는 경우, 인증서버는 특정 가상사설망 게이트웨이에 장애가 발 생하였다고 판단할 수 있다. 어느 한 가상사설망 게이트웨이에 장애가 발생하면, 인증서버는 장애가 발 생한 가상사설망 게이트웨이를 장애 가상사설망 게이트웨이로 판단할 수 있다(S410). 인증서버는 장애 가상사설망 게이트웨이를 대체하여 가상사설망 서비스를 제공할 대체 가상사설망 게이 트웨이를 선택할 수 있다(S415). 인증서버가 대체 가상사설망 게이트웨이를 선택하는 방법은 인증 서버에 포함된 DB에 기 저장된 대체 가상사설망 게이트웨이 테이블을 이용하여 선택할 수 있는데, 대체 가 상사설망 게이트웨이 테이블은 각 가상사설망 게이트웨이 별로 장애 발생 시 대체할 수 있는 대체 가상사설망 게이트웨이 정보를 포함할 수 있다. 그리고, 대체 가상사설망 게이트웨이 테이블에는 각 가상사설망 게이트웨이 및 대체 가상사설망 게이트웨이 정보가 고유 코드 형태로 기재되어 저장되어있을 수 있다. 따라서, 인증서버 는 인증서버에 포함된 DB에 기 저장된 대체 가상사설망 게이트웨이 테이블에 기재된 각 가상사설망 게 이트웨이 별 대체 가상사설망 게이트웨이를 확인하여, 상기 장애 가상사설망 게이트웨이의 대체 가상사설망 게이트웨이를 선택할 수 있다. 인증서버는 대체 가상사설망 게이트웨이로 송신할 임시 인증 코드를 생성할 수 있다(S420). 임시 인증 코드는 대체 가상사설망 게이트웨이의 고유 코드 및 장애 가상사설망 게이트웨이의 할당 코 드 및 고객사 서버 코드 정보를 포함할 수 있다. 고유 코드는 각 가상사설망 게이트웨이를 특정할 수 있는 가상사설망 게이트웨이의 고유한 명칭일 수 있고, 할당 코드는 각 가상사설망 게이트웨이 및 각 클라이 언트에 할당된 코드로서, 각 클라이언트는 동일한 할당 코드를 가진 가상사설망 게이트웨이로부터 가상사설 망 서비스를 제공 받도록 하는 가상사설망 게이트웨이를 특정하는 코드일 수 있다. 또, 고객사 서버 코드는각 클라이언트가 가상사설망 서비스를 통해 이용하는 고객사 서버를 특정하는 코드일 수 있다. 그리고, 인증서버는 생성된 임시 인증 코드를 대체 가상사설망 게이트웨이로 송신할 수 있다(S430). 보 다 상세하게 설명하면, 인증서버는 임시 인증 코드를 송신하여 대체 가상사설망 게이트웨이가 장애 가 상사설망 게이트웨이에 관한 정보인 할당코드를 수신할 수 있도록 할 수 있다. 인증서버로부터 임시 인증 코드를 수신한 대체 가상사설망 게이트웨이는 대체 가상사설망 게이트웨이 에 할당 코드를 추가할 수 있다(S440). 보다 상세하게 설명하면, 대체 가상사설망 게이트웨이는 인증서 버로부터 수신한 임시 인증 코드에 기재된 할당 코드를 대체 가상사설망 게이트웨이에 이미 할당된 할 당 코드에 추가하여 저장할 수 있다. 그 결과, 대체 가상사설망 게이트웨이는 2개의 할당 코드를 가질 수 있다. 그러면, 대체 가상사설망 게이트웨이는 종래 클라이언트에게 가상사설망 서비스를 제공함과 동시에, 장애 가상사설망 게이트웨이에 할당되었던 클라이언트에게도 가상사설망 서비스를 제공할 수 있게 된다. 대체 가상사설망 게이트웨이에 할당 코드가 추가된 후, 종래 장애 가상사설망 게이트웨이로 가상사설망 연결 요청 메시지 송신하던 클라이언트는 동일한 방법으로 동일한 가상사설망 연결 요청 메시지를 송신할 수 있 다(S450). 종래 장애 가상사설망 게이트웨이에 할당되었던 할당 코드가 대체 가상사설망 게이트웨이에 임시로 할당되어 있기 때문에, 클라이언트가 장애 가상사설망 게이트웨이로 송신한 가상사설망 연결 요청 메시지는 대체 가상사설망 게이트웨이가 수신할 수 있다. 클라이언트로부터 가상사설망 연결 요청 메시지를 수신한 대체 가상사설망 게이트웨이는 인증서버로 인 증 API 요청 메시지를 송신할 수 있다(S460). 인증 API 호출 메시지는 클라이언트 아이디 및 비밀번호를 포함할 수 있다. 인증서버는 수신한 인증 API 호출 메시지에 포함된 클라이언트 아이디 및 비밀번호를 이용하여 정당한 클라 이언트인지 여부를 확인한 후, 인증 API 응답 메시지를 가상사설망 게이트웨이로 송신할 수 있다(S470). 상 기 API 응답 메시지는 정당한 클라이언트인지 여부, 클라이언트 아이디, 임시 인증 코드, 에러 코드를 포함할 수 있다. 정당한 클라이언트인지 여부는 TRUE 또는 FALSE 를 의미하는 다양한 형태의 정보일 수 있고, 에러코드 는 임시 인증 코드인지 여부를 의미하는 다양한 형태의 정보일 수 있다. 예를 들어, 장애 발생 없이 인증 코드 를 포함하는 인증 API 응답 메시지를 송신하는 경우, 에러코드는 00 일 수 있고, 장애 발생하여 임시 인증 코드 를 포함하는 인증 API 응답 메시지를 송신하는 경우, 에러코드는 01일 수 있다. 임시 인증 코드는 대체 가상사 설망 게이트웨이 고유 코드, 장애 가상사설망 게이트웨이 할당 코드 및 클라이언트 아이디에 대응하는 고객사 서버 코드 정보를 포함할 수 있다. 고유 코드는 각 가상사설망 게이트웨이를 특정할 수 있는 가상사 설망 게이트웨이의 고유한 명칭일 수 있다. 그리고, 할당 코드는 각 가상사설망 게이트웨이 및 각 클라 이언트에 할당된 코드로서, 각 클라이언트는 동일한 할당 코드를 가진 가상사설망 게이트웨이로부터 가상사 설망 서비스를 제공 받도록 하는 가상사설망 게이트웨이를 특정하는 코드일 수 있다. 또, 고객사 서버 코드 는 각 클라이언트가 가상사설망 서비스를 통해 이용하는 고객사 서버를 특정하는 코드일 수 있다. 인증서버로부터 인증 API 응답 메시지를 수신한 대체 가상사설망 게이트웨이는 클라이언트로 가상사설 망 연결 응답 메시지를 송신할 수 있고(S480), 클라이언트와 대체 가상사설망 게이트웨이 간 가상사설망 터 널을 형성할 수 있다(S490). 가상사설망 터널이 형성되면 클라이언트는 인터넷 서비스를 제공받을 수 있고, 안 전하게 고객사 서버에 접속할 수 있다. 도 5는 본 발명의 일 실시 예에 따른 가상사설망 서비스 제공 중 장애 가상사설망 게이트웨이 장애가 복구 된 경우의 시그널링 흐름도를 도시한 도면이다. 도 5를 참조하여, 본 발명의 일 실시 예에 따른 장애 가상사설망 게이트웨이의 장애가 복구된 경우, 인증서 버가 대체 가상사설망 게이트웨이에 추가된 할당 코드를 삭제하는 방법을 자세하게 설명한다. 인증서버는 실시간 모니터링으로 가상사설망 내의 장애 가상사설망 게이트웨이의 장애 복구 여부를 확 인할 수 있다(S500). 인증서버는 장애 가상사설망 게이트웨이로부터 기 설정된 시간 동안 일정 횟수 이상의 연결상태확인 응 답 메시지가 수신되는 경우, 장애 가상사설망 게이트웨이에 장애가 복구되었다고 판단할 수 있다(S510). 인증서버는 대체 가상사설망 게이트웨이에 추가된 할당 코드를 삭제하기 위하여, 삭제 대상 임시 인증 코드가 포함된 임시 인증 코드 삭제 메시지를 생성할 수 있다(S520). 인증서버는 생성된 임시 인증 코드 삭제 메시지를 대체 가상사설망 게이트웨이로 송신할 수 있다 (S530). 대체 가상사설망 게이트웨이는 인증서버로부터 임시 인증 코드 삭제 메시지를 수신한 후, 현재 대체 가 상사설망 게이트웨이에 할당된 할당 코드 중에서, 임시 인증 코드 삭제 메시지에 포함된 할당 코드를 삭제 할 수 있다(S540). 대체 가상사설망 게이트웨이에 추가되었던 할당 코드가 삭제되면, 가상사설망 서비스는 장애 발생 전과 동 일한 방법으로 정상적으로 클라이언트에게 가상사설망 서비스를 제공할 수 있다. 따라서, 본 발명에 따른 가상사설망 장애 복구 방법에 의하면, 클라이언트는 가상사설망 게이트웨이 장애가 발생하더라도 끊김 없이 연속적인 가상사설망 서비스 제공을 보장받을 수 있는 효과가 있다. 그리고, 본 발명에 따른 가상사설망 장애 복구 방법에 의하면, 가상사설망 게이트웨이 장애 발생을 대비하 여 가상사설망 게이트웨이 장비를 추가적으로 설치하는 가상사설망 게이트웨이 이중화 시스템을 갖추지 않더라도, 가상사설망 게이트웨이 이중화와 동일한 수준의 가상사설망 게이트웨이 장애 복구 시스템을 갖출 수 있는 효과가 있다. 또한, 본 발명에 따른 가상사설망 장애 복구 방법에 의하면, 가상사설망 게이트웨이 장애 발생을 대비한 추 가적인 가상사설망 게이트웨이 설치가 필요하지 않아, 가상사설망 서비스 제공의 비용을 절감하는 효과가 있다. 도 6은 본 발명의 일 실시 예에 따른 대체 가상사설망 게이트웨이의 고유 코드 테이블을 도시한 도면이다. 도 6을 참조하면, 대체 가상사설망 게이트웨이 고유 코드 테이블은 가상사설망 서비스 시스템을 구성하는 가상사설망 게이트웨이 장애 발생 시, 장애 가상사설망 게이트웨이를 대체할 수 있는 대체 가상사설망 게이트웨이의 고유 코드를 포함할 수 있다. 대체 가상사설망 게이트웨이 고유 코드 테이블은 가상사설 망 서비스 시스템을 구성하는 모든 가상사설망 게이트웨이의 고유 코드 별로, 각 가상사설망 게이트웨이 장애 발생 시 대체할 수 있는 가상사설망 게이트웨이의 고유 코드를 순위 별로 포함할 수 있다. 상기 순위는 각 가상사설망 게이트웨이별로 지리적으로 가까운 가상사설망 게이트웨이 순서일 수 있다. 도 7은 본 발명의 일 실시 예에 따른 에러 코드 테이블을 도시한 도면이다. 도 7을 참조하면, 에러 코드는 API 응답 메시지에 포함된 정보로서, API 응답 메시지에 포함된 인증 코드가 임시 인증 코드인지 여부를 의미하는 다양한 형태의 정보일 수 있다. 예를 들어, 인증서버가 가상사설망 게이트웨이로 장애 발생 없이 인증 코드를 포함하는 인증 API 응답 메시지를 송신하는 경우, 에러코드는 00 일 수 있고, 장애 발생하여 임시 인증 코드를 포함하는 인증 API 응답 메시지를 송신하는 경우, 에러코드는 01일 수 있다. 도 8은 본 발명의 일 실시 예에 따른 인증서버가 가상사설망 게이트웨이로 송신하는 인증 코드 및 임시 인증 코드의 구조를 도시한 도면이다. 인증 코드는 인증서버에 저장된 코드로서, 인증서버가 가상사설망 게이트웨이로 송신하는 인증 API 응답 메시지에 포함되는 코드이다. 인증 코드는 가상사설망 게이트웨이 고유 코드, 가상사설망 게이트웨이 할당 코드 및 클라이언트 아이디에 대응하는 고객사 서버 코드 정보를 포함할 수 있다. 고유 코드는 각 가 상사설망 게이트웨이를 특정할 수 있는 가상사설망 게이트웨이의 고유한 명칭일 수 있다. 그리고, 할당 코드는 각 가상사설망 게이트웨이 및 각 클라이언트에 할당된 코드로서, 각 클라이언트는 동일한 할당 코드 를 가진 가상사설망 게이트웨이로부터 가상사설망 서비스를 제공 받도록 하는 가상사설망 게이트웨이를 특정하는 코드일 수 있다. 또, 고객사 서버 코드는 각 클라이언트가 가상사설망 서비스를 통해 이용하는 고객사 서버를 특정하는 코드일 수 있다. 임시 인증 코드는 가상사설망 게이트웨이 장애 발생 시 인증서버에 의해 생성되어 저장되는 코드로서, 대체 가상사설망 게이트웨이로 송신하는 인증 API 응답 메시지에 포함되는 코드이다. 임시 인증 코드는 대체 가상사설망 게이트웨이 고유 코드, 장애 가상사설망 게이트웨이 할당 코드 및 클라이언트 아이디에 대응하는 고객사 서버 코드 정보를 포함할 수 있다. 가상사설망 서비스 시스템에서 가상사설망 게이트웨이 장애가 발생한 경우, 인증서버가 임시 인증 코드 를 생성하여 대체 가상사설망 게이트웨이에 송신하는 방법으로, 대체 가상사설망 게이트웨이로 하여금 장애 가상사설망 게이트웨이를 대신하여 장애 가상사설망 게이트웨이에 할당된 클라이언트에게 가상사 설망 서비스를 제공하도록 하여, 가상사설망 서비스 장애를 극복하고 있다. 그러나, 어느 한 가상사설망 게이트 웨이 장애가 발생하여, 대체 가상사설망 게이트웨이의 클라이언트 동시 접속량이 증가하게 되면 대체 가상사설망 게이트웨이에 과부하가 걸리게되어 대체 가상사설망 게이트웨이에도 장애가 발생할 우려가 있다. 따라서, 이 경우, 인증서버가 대체 가상사설망 게이트웨이에 부가되는 부하를 줄이는 방법이 필 요하다. 인증서버가 대체 가상사설망 게이트웨이에 부가되는 부하를 줄이는 방법으로, 한계 접속자수를 설정하 여 대체 가상사설망 게이트웨이를 통하여 가상사설망 서비스를 이용하는 동시접속자의 수를 제한하는 방법 이 있고, 가상사설망 서비스를 이용하는 모든 클라이언트의 등급을 설정한 후, 대체 가상사설망 게이트웨이(3 0)를 통하여 가상사설망 서비스를 이용하는 클라이언트 등급에 따라 접속을 제한하거나 데이터 전송 속도를 제 한하는 방법이 있을 수 있다. 도 9는 본 발명의 일 실시 예에 따른 가상사설망 서비스 시스템에서 가상사설망 게이트웨이 장애가 발생한 경우, 인증서버가 대체 가상사설망 게이트웨이의 접속자수를 제한하는 방법 중 하나의 예를 도시한 순 서도이다. 이하, 도 9를 참조하여, 인증서버가 대체 가상사설망 게이트웨이의 접속자수를 제한하는 방법에 대하여 자세하게 설명한다. 클라이언트의 가상사설망 연결 요청에 의하여 인증서버가 대체 가상사설망 게이트웨이로부터 인증 API 호출 메시지를 수신하면(S910), 인증서버는 현재 대체 가상사설망 게이트웨이 동시 접속자 수를 계산하 여 기 설정된 제한 접속자 수와 비교한 후(S920), 동시 접속자 수가 기 설정된 제한 접속자 수 미만인 경우, 가 상사설망 연결 요청된 모든 클라이언트의 연결 요청을 허용할 수 있다(S930). 그리고, 동시 접속자 수가 기 설정된 제한 접속자 수 이상인 경우, 인증서버는 현재 대체 가상사설망 게이 트웨이 동시 접속자 수를 기 설정된 한계 접속자 수와 비교한 후(S940), 동시 접속자 수가 기 설정된 한계 접속자 수 미만인 경우, 가상사설망 연결 요청된 클라이언트 중 일정 등급 이상의 클라이언트의 연결 요청만 허 용하는 접속제한단계를 수행할 수 있고(S950), 동시 접속자 수가 기 설정된 한계 접속자 수 이상인 경우, 모든 클라이언트의 연결 요청을 차단하는 접속차단단계를 수행할 수 있다(S960). 따라서, 어느 한 가상사설망 게이트웨이에 장애가 발생하더라도 대체 가상사설망 게이트웨이에 가중되 는 부하를 감소시킬 수 있어, 가상사설망 게이트웨이의 연쇄적인 장애 발생을 방지할 수 있는 효과가 있다. 본 발명에 따른 가상사설망 장애 복구 방법에 의하면, 클라이언트는 가상사설망 게이트웨이 장애가 발생하 더라도 끊김 없이 연속적인 가상사설망 서비스 제공을 보장받을 수 있는 효과가 있다. 그리고, 본 발명에 따른 가상사설망 장애 복구 방법에 의하면, 가상사설망 게이트웨이 장애 발생을 대비하 여 가상사설망 게이트웨이 장비를 추가적으로 설치하는 가상사설망 게이트웨이 이중화 시스템을 갖추지 않더라도, 가상사설망 게이트웨이 이중화와 동일한 수준의 가상사설망 게이트웨이 장애 복구 시스템을 갖출 수 있는 효과가 있다. 또한, 본 발명에 따른 가상사설망 장애 복구 방법에 의하면, 가상사설망 게이트웨이 장애 발생을 대비한 추 가적인 가상사설망 게이트웨이 설치가 필요하지 않아, 가상사설망 서비스 제공의 비용을 절감하는 효과가 있다. 그리고 또, 본 발명에 따른 가상사설망 장애 복구 방법에 의하면, 어느 한 가상사설망 게이트웨이에 장애가 발생하더라도 대체 가상사설망 게이트웨이에 가중되는 부하를 감소시킬 수 있어, 가상사설망 게이트웨이의 연쇄적인 장애 발생을 방지할 수 있는 효과가 있다. 본 발명은 본 발명의 정신 및 필수적 특징을 벗어나지 않는 범위에서 다른 특정한 형태로 구체화될 수 있음은 당업자에게 자명하다. 전술한 본 발명은, 프로그램이 기록된 매체에 컴퓨터가 읽을 수 있는 코드로서 구현하는 것이 가능하다. 컴퓨터 가 읽을 수 있는 매체는, 컴퓨터로 실행 가능한 프로그램을 계속 저장하거나, 실행 또는 다운로드를 위해 임시 저장하는 것일 수도 있다. 또한, 매체는 단일 또는 수개 하드웨어가 결합된 형태의 다양한 기록수단 또는 저장 수단일 수 있는데, 어떤 컴퓨터 시스템에 직접 접속되는 매체에 한정되지 않고, 네트워크 상에 분산 존재하는 것일 수도 있다. 매체의 예시로는, 하드 디스크, 플로피 디스크 및 자기 테이프와 같은 자기 매체, CD-ROM 및 DVD와 같은 광기록 매체, 플롭티컬 디스크(floptical disk)와 같은 자기-광 매체(magneto-optical medium), 및 ROM, RAM, 플래시 메모리 등을 포함하여 프로그램 명령어가 저장되도록 구성된 것이 있을 수 있다. 또한, 다른 매체의 예시로, 애플리케이션을 유통하는 앱 스토어나 기타 다양한 소프트웨어를 공급 내지 유통하는 사이트, 서버 등에서 관리하는 기록매체 내지 저장매체도 들 수 있다. 또한, 상기 컴퓨터는 단말기의 제어부를 포함할 수도 있다. 따라서, 상기의 상세한 설명은 모든 면에서 제한적으로 해석되어서는 아니 되고 예시적인 것으로 고려되어야 한 다. 본 발명의 범위는 첨부된 청구항의 합리적 해석에 의해 결정되어야 하고, 본 발명의 등가적 범위 내에서의 모든 변경은 본 발명의 범위에 포함된다."}
{"patent_id": "10-2019-0008808", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시 예에 따른 가상사설망 서비스 시스템을 도시한 도면이다. 도 2는 종래 가상사설망 서비스의 시그널링 흐름도를 도시한 도면이다. 도 3은 본 발명의 일 실시 예에 따른 가상사설망 서비스의 시그널링 흐름도를 도시한 도면이다. 도 4는 본 발명의 일 실시 예에 따른 가상사설망 서비스 제공 중 가상사설망 게이트웨이 장애가 발생한 경우의 시그널링 흐름도를 도시한 도면이다. 도 5는 본 발명의 일 실시 예에 따른 가상사설망 서비스 제공 중 장애 발생 가상사설망 게이트웨이 장애가 복구 된 경우의 시그널링 흐름도를 도시한 도면이다. 도 6은 본 발명의 일 실시 예에 따른 대체 가상사설망 게이트웨이의 고유 코드 테이블을 도시한 도면이다. 도 7은 본 발명의 일 실시 예에 따른 에러코드 테이블을 도시한 도면이다. 도 8은 본 발명의 일 실시 예에 따른 인증서버가 가상사설망 게이트웨이로 송신하는 인증 코드 및 임시 인증 코 드의 구조를 도시한 도면이다. 도 9는 본 발명의 일 실시 예에 따른 가상사설망 서비스 시스템에서 가상사설망 게이트웨이 장애가 발생한 경우, 인증서버가 대체 가상사설망 게이트웨이의 접속자수를 제한하는 방법 중 하나의 예를 도시한 순서도이다."}
