{"patent_id": "10-2022-0072356", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0127830", "출원번호": "10-2022-0072356", "발명의 명칭": "전자 기기에 의해 수행되는 방법, 전자 기기 및 저장 매체", "출원인": "삼성전자주식회사", "발명자": "펭 시옹펭"}}
{"patent_id": "10-2022-0072356", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "전자 기기에 의해 수행되는 방법으로서,쿼리 이미지에 대한 검색 이미지를 획득하는 단계;상기 쿼리 이미지 및 상기 검색 이미지 각각의 공간적 특징을 획득하는 단계; 및상기 공간적 특징에 기초하여 상기 쿼리 이미지와 상기 검색 이미지 간의 상대적 포즈를 추정하는 단계;를 포함하는, 방법."}
{"patent_id": "10-2022-0072356", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 공간적 특징은 3차원 포인트 세트를 포함하고;상기 공간적 특징을 획득하는 단계는이미지 키 포인트와 특징 기술자를 포함하는 이미지 특징 포인트를 추출하는 단계; 및상기 이미지 특징 포인트에 스테레오 매칭을 실시하여 상기 3차원 포인트 세트를 추정하는 단계;를 포함하는,방법."}
{"patent_id": "10-2022-0072356", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2 항에 있어서,상기 상대적 포즈를 추정하는 단계는상기 쿼리 이미지의 공간적 특징과 상기 검색 이미지의 공간적 특징을 적어도 한 번 매칭하여 특징 매칭 결과를획득하는 단계; 및상기 특징 매칭 결과에 기초하여 상기 상대적 포즈를 결정하는 단계;를 포함하는, 방법."}
{"patent_id": "10-2022-0072356", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,상기 특징 매칭 결과는 제1 특징 매칭 쌍을 포함하고;상기 특징 매칭 결과를 획득하는 단계는상기 쿼리 이미지와 상기 검색 이미지의 상기 3차원 포인트 세트 각각을 클러스터링하여, 상기 쿼리 이미지의클러스터링 결과와 상기 검색 이미지의 클러스터링 결과 간의 상기 제1 특징 매칭 쌍을 생성하는 단계를 포함하는, 방법."}
{"patent_id": "10-2022-0072356", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서,상기 제1 특징 매칭 쌍을 생성하는 단계는상기 쿼리 이미지의 3차원 포인트 세트를 클러스터링하여 형성된 적어도 하나의 제1 큐브를 결정하는 단계;상기 검색 이미지의 3차원 포인트 세트를 클러스터링하여 형성된 적어도 하나의 제2 큐브를 결정하는 단계;상기 제1 큐브 각각의 제1 클러스터 중심을 결정하고, 상기 제2 큐브 각각의 제2 클러스터 중심을 결정하는 단계; 및공개특허 10-2023-0127830-3-제1 큐브 각각의 제1 클러스터 중심과 서로 매칭되는 제2 클러스터 중심을 결정하고, 서로 매칭되는 제1 클러스터 중심과 제2 클러스터 중심에 기초하여 상기 제1 특징 매칭 쌍을 결정하는 단계를 포함하는, 방법."}
{"patent_id": "10-2022-0072356", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제4항에 있어서,상기 특징 매칭 결과는 제2 특징 매칭 쌍을 더 포함하고;상기 특징 매칭 결과를 획득하는 단계는상기 제1 특징 매칭 쌍의 3차원 포인트에 대해 최근접 이웃 검색과 상호 검증을 실시하여 상기 쿼리 이미지의 3차원 포인트 세트와 상기 검색 이미지의 3차원 포인트 세트 간의 제2 특징 매칭 쌍을 획득하는 단계를 더 포함하고;상기 상대적 포즈를 결정하는 단계는상기 제2 특징 매칭 쌍에 기초하여 상기 상대적 포즈를 결정하는 단계를 포함하는, 방법."}
{"patent_id": "10-2022-0072356", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서,상기 특징 매칭 결과는 제3 특징 매칭 쌍을 더 포함하고;상기 특징 매칭 결과를 획득하는 단계는상기 제2 특징 매칭 쌍에 기초하여 상기 쿼리 이미지와 상기 검색 이미지 간의 대략적인(corase) 상대적 포즈를추정하는 단계; 상기 대략적인 상대적 포즈에 의하여 상기 검색 이미지의 3차원 포인트 세트를 상기 쿼리 이미지의 좌표계에 투영하여 상기 쿼리 이미지의 3차원 포인트 세트와 상기 검색 이미지의 3차원 포인트 세트 간의제3 특징 매칭 쌍을 결정하는 단계;를 포함하며,상기 상대적 포즈를 결정하는 단계는상기 제3 특징 매칭 쌍에 기초하여 상기 상대적 포즈를 결정하는 단계를 포함하는 방법."}
{"patent_id": "10-2022-0072356", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제3항에 있어서,상기 상대적 포즈를 결정하는 단계는상기 특징 매칭 결과에 기초하여 상기 쿼리 이미지와 상기 검색 이미지 간의 초기 상대적 포즈를 추정하는단계;상기 초기 상대적 포즈에 기초하여 상기 검색 이미지 중 상기 쿼리 이미지의 키 포인트와 대응되는 로컬 포인트를 결정하고, 상기 키 포인트와 대응되는 상기 로컬 포인트에 기초하여 포인트 매칭 쌍을 형성하는 단계; 및상기 포인트 매칭 쌍에 기반하여 상기 상대적 포즈를 추정하는 단계를 포함하는, 방법."}
{"patent_id": "10-2022-0072356", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제1항에 있어서,상기 상대적 포즈를 기초로 현재 글로벌 맵을 최적화하여 최적화된 글로벌 맵을 획득하는 단계를 더 포함하는,방법."}
{"patent_id": "10-2022-0072356", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서,상기 최적화된 글로벌 맵을 획득하는 단계는상기 상대적 포즈에 기초하여 포즈 드리프트 정보를 결정하는 단계; 및공개특허 10-2023-0127830-4-상기 포즈 드리프트 정보에 기초하여 최적화 전략을 결정하고, 상기 최적화 전략에 의하여 상기 현재 글로벌 맵을 최적화하여 상기 최적화된 글로벌 맵을 획득하는 단계를 포함하는, 방법."}
{"patent_id": "10-2022-0072356", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제10항에 있어서,상기 최적화된 글로벌 맵을 획득하는 단계는상기 포즈 드리프트 정보가 미리 설정된 오차 조건에 부합하는 경우, 점진적 번들 조정을 통하여 초기 글로벌맵을 조정함으로써 상기 최적화된 글로벌 맵을 획득하는 단계; 또는상기 포즈 드리프트 정보가 상기 오차 조건에 부합하지 않는 경우, 전체 번들 조정을 통하여 초기 글로벌 맵을조정함으로써 상기 최적화된 글로벌 맵을 획득하는 단계를 포함하는 것을 특징으로 하는 방법."}
{"patent_id": "10-2022-0072356", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제11항에 있어서,상기 최적화된 글로벌 맵을 획득하는 단계는상기 상대적 포즈에 기초하여 상기 초기 글로벌 맵의 키 프레임의 다중 자유도 포즈를 최적화하여 제1 글로벌맵을 획득하는 단계; 및전체 번들 조정을 통하여 상기 제1 글로벌 맵의 키 프레임 포즈와 맵 포인트를 최적화하여 상기 최적화된 글로벌 맵을 획득하는 단계를 포함하는, 방법."}
{"patent_id": "10-2022-0072356", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "전자 기기에 있어서,하나 이상의 프로세서;메모리;하나 이상의 응용 프로그램을 포함하며, 상기 하나 이상의 응용 프로그램은 메모리에 저장되고 하나 이상의 프로세스에 의해 실행되도록 구성되고, 상기 하나 이상의 응용 프로그램은 제1항 내지 제12항 중 어느 한 항에 따른 전자 기기에 의해 실행되는 방법과 대응되는 동작을 실행되도록 구성되는, 전자 기기."}
{"patent_id": "10-2022-0072356", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제1항의 방법을 컴퓨터에서 실행하기 위한 프로그램을 기록한 컴퓨터로 읽을 수 있는 기록 매체."}
{"patent_id": "10-2022-0072356", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 개시의 실시예는 전자 기기에 의해 수행되는 방법, 전자 기기 및 컴퓨터 판독 가능 저장 매체를 제공하며, 전 자 기기에 의해 수행되는"}
{"patent_id": "10-2022-0072356", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "에 관한 것이다. 상기 방법은 쿼리 이미지에 대한 검색 이미지를 획득하는 단 계; 쿼리 이미지 및 검색 이미지 각각의 공간적 특징을 획득하는 단계; 공간적 이미지에 기초하여 쿼리 이미지와 검색 이미지 간의 상대적 포즈를 추정하는 단계를 포함한다. 본 개시의 실시예가 제공하는, 전자 기기에 의하여 실행되는 방법은, 인공 지능 방식으로 상대적 포즈를 결정하고, 글로벌 맵을 보다 정확하게 최적화할 수 있다. 대 표 도 - 도1"}
{"patent_id": "10-2022-0072356", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 2, "content": "공개특허10-2023-0127830 CPC특허분류 G06T 7/30 (2017.01) G06V 10/40 (2023.08) G06T 2207/20084 (2013.01) 발명자 왕 창 중국 베이징 100028 차오양 디스트릭트 타이양공 미들로드 빌딩 넘버12 15에프 1503김윤태 경기도 수원시 영통구 태장로82번길 32, 102동 1404호 (망포동, 동수원자이1차)명 세 서 청구범위 청구항 1 전자 기기에 의해 수행되는 방법으로서, 쿼리 이미지에 대한 검색 이미지를 획득하는 단계; 상기 쿼리 이미지 및 상기 검색 이미지 각각의 공간적 특징을 획득하는 단계; 및 상기 공간적 특징에 기초하여 상기 쿼리 이미지와 상기 검색 이미지 간의 상대적 포즈를 추정하는 단계;를 포함 하는, 방법. 청구항 2 제1항에 있어서, 상기 공간적 특징은 3차원 포인트 세트를 포함하고; 상기 공간적 특징을 획득하는 단계는 이미지 키 포인트와 특징 기술자를 포함하는 이미지 특징 포인트를 추출하는 단계; 및 상기 이미지 특징 포인트에 스테레오 매칭을 실시하여 상기 3차원 포인트 세트를 추정하는 단계;를 포함하는, 방법. 청구항 3 제2 항에 있어서, 상기 상대적 포즈를 추정하는 단계는 상기 쿼리 이미지의 공간적 특징과 상기 검색 이미지의 공간적 특징을 적어도 한 번 매칭하여 특징 매칭 결과를 획득하는 단계; 및 상기 특징 매칭 결과에 기초하여 상기 상대적 포즈를 결정하는 단계;를 포함하는, 방법. 청구항 4 제3항에 있어서, 상기 특징 매칭 결과는 제1 특징 매칭 쌍을 포함하고; 상기 특징 매칭 결과를 획득하는 단계는 상기 쿼리 이미지와 상기 검색 이미지의 상기 3차원 포인트 세트 각각을 클러스터링하여, 상기 쿼리 이미지의 클러스터링 결과와 상기 검색 이미지의 클러스터링 결과 간의 상기 제1 특징 매칭 쌍을 생성하는 단계를 포함하 는, 방법. 청구항 5 제4항에 있어서, 상기 제1 특징 매칭 쌍을 생성하는 단계는 상기 쿼리 이미지의 3차원 포인트 세트를 클러스터링하여 형성된 적어도 하나의 제1 큐브를 결정하는 단계; 상기 검색 이미지의 3차원 포인트 세트를 클러스터링하여 형성된 적어도 하나의 제2 큐브를 결정하는 단계; 상기 제1 큐브 각각의 제1 클러스터 중심을 결정하고, 상기 제2 큐브 각각의 제2 클러스터 중심을 결정하는 단 계; 및제1 큐브 각각의 제1 클러스터 중심과 서로 매칭되는 제2 클러스터 중심을 결정하고, 서로 매칭되는 제1 클러스 터 중심과 제2 클러스터 중심에 기초하여 상기 제1 특징 매칭 쌍을 결정하는 단계를 포함하는, 방법. 청구항 6 제4항에 있어서, 상기 특징 매칭 결과는 제2 특징 매칭 쌍을 더 포함하고; 상기 특징 매칭 결과를 획득하는 단계는 상기 제1 특징 매칭 쌍의 3차원 포인트에 대해 최근접 이웃 검색과 상호 검증을 실시하여 상기 쿼리 이미지의 3 차원 포인트 세트와 상기 검색 이미지의 3차원 포인트 세트 간의 제2 특징 매칭 쌍을 획득하는 단계를 더 포함 하고; 상기 상대적 포즈를 결정하는 단계는 상기 제2 특징 매칭 쌍에 기초하여 상기 상대적 포즈를 결정하는 단계를 포함하는, 방법. 청구항 7 제6항에 있어서, 상기 특징 매칭 결과는 제3 특징 매칭 쌍을 더 포함하고; 상기 특징 매칭 결과를 획득하는 단계는 상기 제2 특징 매칭 쌍에 기초하여 상기 쿼리 이미지와 상기 검색 이미지 간의 대략적인(corase) 상대적 포즈를 추정하는 단계; 상기 대략적인 상대적 포즈에 의하여 상기 검색 이미지의 3차원 포인트 세트를 상기 쿼리 이미 지의 좌표계에 투영하여 상기 쿼리 이미지의 3차원 포인트 세트와 상기 검색 이미지의 3차원 포인트 세트 간의 제3 특징 매칭 쌍을 결정하는 단계;를 포함하며, 상기 상대적 포즈를 결정하는 단계는 상기 제3 특징 매칭 쌍에 기초하여 상기 상대적 포즈를 결정하는 단계를 포함하는 방법. 청구항 8 제3항에 있어서, 상기 상대적 포즈를 결정하는 단계는 상기 특징 매칭 결과에 기초하여 상기 쿼리 이미지와 상기 검색 이미지 간의 초기 상대적 포즈를 추정하는 단계; 상기 초기 상대적 포즈에 기초하여 상기 검색 이미지 중 상기 쿼리 이미지의 키 포인트와 대응되는 로컬 포인트 를 결정하고, 상기 키 포인트와 대응되는 상기 로컬 포인트에 기초하여 포인트 매칭 쌍을 형성하는 단계; 및 상기 포인트 매칭 쌍에 기반하여 상기 상대적 포즈를 추정하는 단계를 포함하는, 방법. 청구항 9 제1항에 있어서, 상기 상대적 포즈를 기초로 현재 글로벌 맵을 최적화하여 최적화된 글로벌 맵을 획득하는 단계를 더 포함하는, 방법. 청구항 10 제9항에 있어서, 상기 최적화된 글로벌 맵을 획득하는 단계는 상기 상대적 포즈에 기초하여 포즈 드리프트 정보를 결정하는 단계; 및상기 포즈 드리프트 정보에 기초하여 최적화 전략을 결정하고, 상기 최적화 전략에 의하여 상기 현재 글로벌 맵 을 최적화하여 상기 최적화된 글로벌 맵을 획득하는 단계를 포함하는, 방법. 청구항 11 제10항에 있어서, 상기 최적화된 글로벌 맵을 획득하는 단계는 상기 포즈 드리프트 정보가 미리 설정된 오차 조건에 부합하는 경우, 점진적 번들 조정을 통하여 초기 글로벌 맵을 조정함으로써 상기 최적화된 글로벌 맵을 획득하는 단계; 또는 상기 포즈 드리프트 정보가 상기 오차 조건에 부합하지 않는 경우, 전체 번들 조정을 통하여 초기 글로벌 맵을 조정함으로써 상기 최적화된 글로벌 맵을 획득하는 단계를 포함하는 것을 특징으로 하는 방법. 청구항 12 제11항에 있어서, 상기 최적화된 글로벌 맵을 획득하는 단계는 상기 상대적 포즈에 기초하여 상기 초기 글로벌 맵의 키 프레임의 다중 자유도 포즈를 최적화하여 제1 글로벌 맵을 획득하는 단계; 및 전체 번들 조정을 통하여 상기 제1 글로벌 맵의 키 프레임 포즈와 맵 포인트를 최적화하여 상기 최적화된 글로 벌 맵을 획득하는 단계를 포함하는, 방법. 청구항 13 전자 기기에 있어서, 하나 이상의 프로세서; 메모리; 하나 이상의 응용 프로그램을 포함하며, 상기 하나 이상의 응용 프로그램은 메모리에 저장되고 하나 이상의 프 로세스에 의해 실행되도록 구성되고, 상기 하나 이상의 응용 프로그램은 제1항 내지 제12항 중 어느 한 항에 따 른 전자 기기에 의해 실행되는 방법과 대응되는 동작을 실행되도록 구성되는, 전자 기기. 청구항 14 제1항의 방법을 컴퓨터에서 실행하기 위한 프로그램을 기록한 컴퓨터로 읽을 수 있는 기록 매체. 발명의 설명 기 술 분 야 본 개시는 동시적 위치추정 및 지도작성(simultaneous localization and mapping, SLAM) 기술 분야에 관한 것으로서, 전자 기기에 의해 수행되는 방법, 전자 기기 및 컴퓨터 판독 가능한 저장 매체에 관한 것이다."}
{"patent_id": "10-2022-0072356", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "장치 상의 카메라, 레이저 레이더 등의 센서를 사용하여 장치가 위치한 공간의 3차원 지도를 실시간으로 작성 및 기술하고, 장치의 포즈(pose)(위치와 자세)를 파악하는 기술을 SLAM이라고 칭한다. 카메라 보정의 오차와 특 징 매칭 정확도의 한계로 인해, 시각적 SLAM의 매핑 및 위치 추정 과정에서 불가피한 누적 오차가 발생하게 된 다. 이 문제를 해결하기 위하여, SLAM 시스템에 현재 프레임과 초기 키 프레임 간의 공통 뷰 관계를 식별하고 글로벌 맵을 최적화하여 누적 오차를 감소시킴으로써 드리프트(drift) 없는 위치추정을 구현하는 폐루프(LC) 모 듈을 추가할 수 있다. 현재, 관련 기술에서는 일반적으로 특징 매칭 등의 방법을 통하여 시각적 제약을 구축한 다음 쿼리 이미지와 검 색 이미지 간의 상대적 포즈를 계산하여 글로벌 맵을 최적화하는 방법을 사용하고 있으나, 이러한 방식은 시각 적 변화가 비교적 크고 글로벌 맵 최적화에 소비되는 시간 또한 비교적 길다는 문제를 해결할 수 없어, 현재의SLAM 폐루프 모듈을 최적화할 필요가 있다."}
{"patent_id": "10-2022-0072356", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "전자 기기에 의해 수행되는 방법, 전자 기기 및 컴퓨터 판독 가능한 저장 매체를 제공하는 데 있다. 본 실시예 가 이루고자 하는 기술적 과제는 상기와 같은 기술적 과제들로 한정되지 않으며 이하의 실시예들로부터 또 따른 기술적 과제들이 유추될 수 있다."}
{"patent_id": "10-2022-0072356", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 개시는 전자 기기에 의해 수행되는 방법, 전자 기기 및 컴퓨터 판독 가능 저장 매체를 제공하며, 그 기술적 해결 방법은 다음과 같다. 일 실시예에 있어서, 본 개시의 전자 기기에 의해 수행되는 방법은 쿼리 이미지에 대해 검색 이미지를 획득하는 단계; 쿼리 이미지 및 검색 이미지 각각의 공간적 특징을 획득하는 단계; 및 공간적 특징에 기반하여 쿼리 이미 지와 검색 이미지 간의 상대적 포즈를 추정하는 단계;를 포함한다. 다른 실시예에 있어서, 본 개시의 전자 기기는 하나 이상의 프로세서; 메모리; 및 하나 이상의 응용 프로그램을 포함하며, 하나 이상의 응용 프로그램은 메모리에 저장되며 하나 이상의 프로세스에 의해 실행되도록 구성되고, 하나 이상의 응용 프로그램은 상기 일 실시예에 따른 전자 기기에 의해 실행되는 방법과 대응되는 동작을 실행 하도록 구성된다. 또 다른 실시예에 있어서, 본 개시의 컴퓨터 판독 가능 저장 매체는 적어도 하나의 명령어, 적어도 하나의 프로 그램, 코드 세트 또는 명령어 세트를 저장하고, 적어도 하나의 명령어, 적어도 하나의 프로그램, 코드 세트 또 는 명령어 세트는 프로세스에 의해 로드되고 실행되어 상기 일 실시예에서 설명한 바와 같이 전자 기기에 의해 실행되는 방법을 구현한다."}
{"patent_id": "10-2022-0072356", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 개시가 제공하는 기술적 효과는 다음과 같다. 본 개시는 전자 기기에 의해 실행되는 방법, 전자 기기 및 컴퓨터 판독 가능 저장 매체를 제공하며, 선행기술과 비교하여, 본 개시는 쿼리 이미지와 검색 이미지의 공간적 특징에 의하여 쿼리 이미지와 검색 이미지 간의 상대 적 포즈를 추정함으로써, 공간적 특징은 보다 넓은 감지 시야각(Field of view) 레벨과 공간적 정보를 가지며, 글로벌 맵을 보다 정밀하게 최적화할 수 있다. 또한, 본 개시는 이미지에서 키포인트와 ORB 기술자 (ORB descriptor)를 조밀하고 균일하게 추출한 다음, 에피 폴라 제약(epipolar constraint)을 사용하여 스테레오 매칭 및 삼각 측량을 완료함으로써 3차원 포인트 세트를 추정하므로, 추정된 3차원 포인트 세트는 글로벌 맵보다 공간에서 더욱 균일하고 밀도 높게 분포된다. 이로써 상대적 포즈를 보다 정확하게 결정하여 글로벌 맵을 최적화할 수 있다. 또한, 본 개시는 점진적 클러스터 조정과 전체 클러스터 조정을 통하여 글로벌 맵을 효과적으로 최적화할 수 있 으며, 작동 시간은 감소되고, 정확도는 증가된다."}
{"patent_id": "10-2022-0072356", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 본 개시의 실시예를 자세히 설명한다. 상기 실시예의 예시는 도면에 도시되어 있으며, 이 중 동일하거나 유사한 참조부호는 시종 동일하거나 유사한 구성요소, 또는 동일하거나 유사한 기능을 가지는 구성요소를 나타 낸다. 이하, 도면을 참조하여 설명하는 실시예는 예시적인 것으로서 본 개시를 설명하기 위한 것일 뿐, 본 개시 를 제한하는 것은 아니다. 특별히 기재되지 않는 한, 본 명세서에서 사용되는 \"하나\", \"1개\" 등의 단수 형태는 복수 형태 또한 포함할 수 있다. 또한 본 개시의 명세서에서 \"포함하다\"와 같은 단어의 사용은 상기 특징, 정수, 단계, 작업, 부품 및/또 는 구성요소의 존재를 나타내는 것이며, 하나 이상의 다른 특징, 정수, 단계, 작업, 부품, 구성요소 및/또는 이 의 조합의 존재 또는 추가 가능성을 배제하기 위한 것이 아님이 이해될 것이다. 부품이 다른 부품에 \"연결\" 또는 \"커플링\"된다고 할 때, 다른 부품에 직접적으로 연결 또는 커플링되거나, 또는 다른 중간 구성요소가 존재할 수 있음은 물론이다. 또한, 본 명세서에서 사용되는 \"연결\" 또는 \"커플링\"은 무선 연결 또는 무선 커플링을 포함할 수 있다. 본 명세서에서 사용되는 \"및/또는\"과 같은 단어는 하나 이상의 서로 관련된 나열 항목 또는 임의의 유닛과 모든 조합을 포함한다. 본 개시의 목적, 기술적 해결 방법 또는 이점을 보다 명확히 하기 위하여, 이하 도면을 참조하여 도면의 실시 형태를 보다 자세히 설명한다. 장치 상의 카메라, 관성 측정 유닛 등의 센서를 사용하여 장치가 위치한 공간의 3차원 지도를 실시간으로 작성 하고, 지도 내에서 장치의 위치와 자세를 실시간으로 파악하는 기술을 SLAM이라고 칭한다. 카메라와 관성 측정 유닛은 그 가격이 LiDAR 센서에 비하여 저렴하며, 휴대폰, 증강현실 안경, 실내 로봇 등 장치의 표준 구성이기 도 하고, 다양한 상황에서 사용이 가능하다. 또한, 기존의 모든 SLAM 기술의 주된 연구 내용은 카메라와 관성 측정 유닛을 센서로 사용하여 실시간으로 맵을 작성하고 장치 포즈를 획득하는 것이다. 단안 카메라에 비하여, 쌍안 카메라로 구축한 3차원 맵은 보다 실제적인 물리적 척도를 가지므로, 실제 응용에 있어서, 장치 상의 시각 센서는 쌍안 카메라인 경우가 많다. 기존의 SLAM 시스템은 주로 다시점 기하학(Multiple-view Geometry) 이론에 근거한 것으로서, 이미지에서 포인 트 특징에 대한 추적 및 매칭을 사용하여 장치의 포즈(장치의 포즈는 장치의 공간적 3차원 위치 및 방향을 나타 냄)와 3차원 환경 정보를 획득한다. 시계열에서 동영상 관련 이미지의 포인트 특징은 다시점 기하학적 원리에 따라 추정 및 매칭되며, 쌍안 이미지의 포인트 특징은 에피폴라 제약에 따라 매칭되고, 마지막으로 이러한 매칭 은 장치의 포즈와 3차원 맵 포인트 간의 기하학적 제약 관계를 성립시키며, 필터링 또는 클러스터 조정을 통하 여 장치의 포즈 및 3차원 맵 포인트를 해결할 수 있다. 카메라 보정 및 특징 매칭의 오차로 인해, 시각적 SLAM은 맵 작성 및 위치 추정 과정에서 불가피한 누적 오차를 생성한다. 드리프트 없는 위치추정을 구현하고 정확한 글로벌 맵을 작성하는 것은 해결하여야 할 과제이다. 이 문제를 해결하기 위하여, SLAM 시스템에 현재 프레임과 초기 키 프레임 간의 공통 뷰 관계를 식별하고 글로벌 맵을 최적화하여 누적 오차를 감소시킴으로써 드리프트 없는 위치추정을 구현하는 폐루프(LC) 모듈이 추가될 수 있다. 따라서, LC는 SLAM 시스템의 주요 모듈을 구성하여, SLAM 성능을 현저하게 향상시킬 수 있다. LC는 일반적으로 세 개의 단계로 분류된다. 제1 단계는 이미지 검색 작업과 유사하고, 이는 쿼리 이미지에 대하 여 의미상으로 유사한 이미지를 검색하는 것을 목적으로 한다. 물론, 적절한 이미지 표시가 필수적이며, 대부분 의 방법은 Bag of Words(BoW) 모델에 기반한다. 제2 단계는 BoW와 ORB(Oriented Fast and Rotated Binary Robust Independent Elementary Features) 특징 매칭 및 투영 매칭과 같은 특징 매칭 등의 방법을 통하여 시각 적 제약을 형성한 후, 쿼리 이미지와 검색 이미지 간의 상대적 포즈를 추정하는 것이다. 제3 단계는, 글로벌 맵 을 최적화하여 드리프트 없는 위치추정을 구현하는 것이다.최근, LC에 대한 연구가 이루어지고 있다. 일부 관련 기술에서, 글로벌 맵 중 키 프레임 포즈와 현재 프레임 포 즈의 글로벌 일치도를 최적화하기 위하여 4 자유도(4DOF) 포즈 그래프 최적화가 제시되었다. 4DOF 포즈 그래프 최적화 방법은 적은 시간으로 키 프레임 포즈의 글로벌 일치도를 최적화한다. 그러나, 하나의 글로벌 맵을 유지 하지 못하므로 최적화의 정확도가 감소된다. 그 밖에도, 일부 관련 기술에서 세 개의 키 프레임의 시간 일치도 검사를 쿼리 키 프레임과 세 개의 공통 뷰 키 프레임 사이의 로컬 일치도 검사로 대체하여 LC 회수율을 향상시 키는 기술이 제시되었다. 그러나, 카메라의 시야각 변화가 비교적 크고 장면에 지각 에일리어싱(perceptual aliasing)이 존재할 경우, 쿼리와 검색 키 프레임 사이의 상대 포즈의 인라이어(inlier)는 비교적 적을 것으로 추정되며, LC 또한 실패할 수 있다. 또한, 전체 번들 조정 방법(FBA)으로 글로벌 맵을 최적화하는 데에는 비교 적 긴 시간이 소요된다. 다른 일부 관련 기술에서는 특징 재식별 방법이 제안되며, 사전 포즈(prior pose)는 시 공간적으로 민감성을 가지는 제안된 글로벌 서브 맵이 기존의 특징을 신속하게 식별하는 데에 도움이 된다. 그 러나, 사전 포즈(prior pose)가 신뢰도가 낮을 경우, LC와 특징 재식별이 결합하여 드리프트 없는 카메라 포즈 가 획득된다. 또한, 카메라 드리프트가 비교적 큰 경우, 특징 재식별은 작용하지 않는다. 따라서, 카메라의 큰 시점 변화와 장면에서의 지각 에일리어싱 때문에, LC 또한 실패할 가능성이 매우 높다. 또한, 카메라의 드리프 트가 비교적 큰 경우, 점진적 번들 조정 방법(IBA)은 글로벌 맵의 최적화에는 충분하지 않다. 종합하면, 정확하고 안정적인 LC에는 몇 가지의 과제가 존재한다. 먼저, 특징 매칭은 더 큰 감지 시야를 가지는 계층 및 공간 정보 대신 작은 블록에서의 로컬 특징, 예컨대 ORB, BRIEF(Binary Robust Independent Elementary Features), SURF (Speeded Up Robust Features) 및 SIFT(Scale-invarient feature transform, 척 도 불변 특징 변환) 등을 고려하며, 이는 카메라의 큰 시야각 변화와 장면에서의 지각 에일리어싱이 존재하는 경우 LC 불안정으로 이어질 수 있다. 딥 러닝에 기반한 특징 매칭은 통상적으로 컨볼루션 신경망(CNN, convolution neural network)을 사용하여 데이터로부터 보다 나은 희소(sparse) 감지기와 로컬 기술자(local descriptor)를 학습하는 데에 중점을 둔다. 이러한 방향에 따른 최근의 일부 작업은 대응 관계를 공동으로 검색 하고 매칭 불가능한 포인트를 거부하여 두 세트의 로컬 특징의 신경망을 일치시키는 것으로서, 고품질 특징 대 응을 필요로 하는 다양한 다시점 기하학적 문제를 해결할 수 있다. 그러나, 딥 러닝 학습 방법은 강력한 컴퓨팅 리소스를 필요로 한다. 다음으로, 단일한 최적화 방법으로는 글로벌 맵의 최적화 문제를 확실하게 해결할 수 없 다. 예컨대 카메라의 드리프트가 큰 경우 IBA 최적화는 불충분하고, 전체 번들 조정(FBA) 방법으로 글로벌 맵을 최적화하는 것은 매우 소모적이며, 포즈 최적화 방법으로는 정확한 글로벌 맵을 유지하지 못한다. 이하에서는, 실시예들을 통하여 본 개시의 기술적 과제를 해결하는 기술적 방법에 대해 자세히 설명한다. 이하 의 실시예들은 서로 결합이 가능하며, 동일 또는 유사한 개념이나 프로세스는 일부 실시예에서는 추가적으로 설 명하지 않을 수 있다. 이하, 도면을 참조하여 본 개시의 실시예를 설명한다. 본 개시의 실시예에서 가능한 구현 방식이 제공되는 바, 도 1에 도시된 바와 같이, 전자 기기에 의해 실행되는 방법이 제공된다. 상기 방법은 다음과 같은 단계를 포함할 수 있다. 단계 S101에서, 쿼리 이미지에 대하여 검색 이미지를 획득한다. 여기서, 쿼리 이미지는 전자 기기가 위치 추정 및 맵 작성 과정에서 수집한 이미지이다(예컨대, 현재 프레임의 장면 이미지). 이는 다른 장치로부터 수신한 이미지일 수도 있다. 일 실시예에서, 실시간으로 쿼리 이미지를 수집할 수 있고, 또는 주기적으로 간격을 두고 쿼리 이미지를 수집할 수도 있으며, 이벤트 트리거에 의하여 쿼리 이미지를 수집할 수도 있다. 쿼리 이미지를 획득하는 프로세스는 제 한되지 아니한다. 일 실시예에서, 전자 기기의 위치 추정 및 맵 작성 과정에서, 각각의 키 프레임에 대하여 이미지 데이터 세트가 구성되고, 쿼리 이미지에 대응되는 이미지 데이터 세트를 획득하며, 이미지 데이터 세트에는 다수 개의 후보 이 미지가 포함되고, 다수 개의 후보 이미지로부터 쿼리 이미지와 의미상으로 유사한 데이터를 검색하여 검색 이미 지를 획득한다. 이 때, 검색 이미지는 하나 또는 여러 개일 수 있으나, 본 개시에서는 검색 이미지의 수를 제한하지 아니한다. 예컨대, BoW 모델에 기반하여 후보 이미지로부터 검색 이미지를 검색할 수 있다. 단계 S102에서, 쿼리 이미지의 공간적 특징과 검색 이미지의 공간적 특징을 각각 획득한다. 이 때, 공간 특징은 3차원 포인트 세트를 포함할 수 있다. 일부 가능한 실시예에서, 단계 S102의 쿼리 이미지와 검색 이미지 각각의 공간적 특징을 획득하는 단계는 쿼리 이미지와 검색 이미지 중 어느 하나에 대하여 공간 특징을 획득하는 단계로서 이미지 키 포인트(keypoint) 와 특징 기술자(feature descriptor)를 포함하는 이미지 특징 포인트를 추출하는 단계 및 이미지 특징 포인 트에 스테레오 매칭을 실시하여 3차원 포인트 세트를 추정하는 단계를 포함한다. 이 때, 특징 기술자는 예컨대 ORB 기술자일 수 있다. 실시 과정에서, 에피폴라 제약을 사용하여 스테레오 매칭 및 삼각 측량을 수행함으로써 쿼리 이미지의 3차원 포 인트 세트 및 검색 이미지의 3차원 포인트 세트를 각각 추정할 수 있다. 단계 S103에서, 공간적 특징에 기반하여 쿼리 이미지와 검색 이미지 간의 상대적 포즈를 추정한다. 일부 가능한 실시예에서, 쿼리 이미지의 공간적 특징과 검색 이미지 간의 공간 특징을 적어도 한 번 매칭하여 특징 매칭 결과를 획득하고, 특징 매칭 결과에 기반하여 상대적 포즈를 결정할 수 있다. 실시 과정에서, 쿼리 이미지의 3차원 포인트 세트와 검색 이미지의 3차원 포인트 세트에 대해 coarse-to-fine으 로 여러 레이어들의 매칭을 실시하고, 최종 매칭 결과에 근거하여 상대적 포즈를 결정할 수 있다. 상대적 포즈 를 결정하는 방법에 대해서는 아래에서 보다 자세히 설명한다. 전술한 임의의 실시예에서, 쿼리 이미지와 검색 이미지의 공간적 특징에 의하여 쿼리 이미지와 검색 이미지 간 의 상대적 포즈를 추정한다. 공간적 특징은 보다 큰 감지 시야각 계층과 공간 정보를 포함하며, 글로벌 맵을 보 다 정확하게 최적화할 수 있다. 일부 가능한 실시예에서, 이미지에서 키 포인트와 ORB 기술자를 조밀하고 균일하게 추출한 다음, 에피폴라 제약 을 사용하여 스테레오 매칭 및 삼각 측량을 완료함으로써 3차원 포인트 세트를 추정한다. 3차원 포인트 세트가 글로벌 맵보다 공간에서 더욱 균일하고 밀도 높게 분포되므로 상대적 포즈를 보다 정확하게 결정하여 글로벌 맵 을 최적화할 수 있다. 아래에서는 실시예를 참조하여, 상대적 포즈를 결정하는 과정을 보다 자세히 설명한다. 일부 가능한 실시예에서, 특징 매칭 결과는 제1 특징 매칭 쌍을 포함하고, 쿼리 이미지의 공간적 특징과 검색 이미지의 공간적 특징을 적어도 한 번 매칭하여 특징 매칭 결과를 획득하는 단계는 쿼리 이미지와 검색 이미지 의 3차원 포인트 세트 각각을 클러스터링하여, 쿼리 이미지의 클러스터링 결과와 검색 이미지의 클러스터링 결 과 간의 제1 특징 매칭 쌍을 생성하는 단계를 포함할 수 있다. 일부 가능한 실시예에서, 3차원 포인트 세트의 포인트는 공간 분포에 따라 큐브(cube)로 클러스터링된다. 각 클러스터의 중심 기술자 는 큐브에서 모든 3차원 포인트 기술자 의 투표함수 에 의하여 획득되며, 보다 큰 감지 시야각의 공간적 정보를 고려한다. 수학식 1"}
{"patent_id": "10-2022-0072356", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "수학식 2"}
{"patent_id": "10-2022-0072356", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "식에서, 은 각 클러스터의 중심 기술자 이고, 는 큐브의 3차원 포인트 기술자이며, 는 투표함수이다.일부 가능한 실시예에서, 쿼리 이미지와 검색 이미지의 3차원 포인트 세트 각각을 클러스터링하여 쿼리 이미지 의 클러스터링 결과와 검색 이미지의 클러스터링 결과 간의 제1 특징 매칭 쌍을 생성하는 단계는 쿼리 이미지의 3차원 포인트 세트를 클러스터링하여 생성된 적어도 하나의 제1 큐브를 결정하는 단계, 검색 이미지의 3차원 포 인트 세트를 클러스터링하여 형성된 적어도 하나의 제2 큐브를 결정하는 단계, 제1 큐브 각각의 제1 클러스터 중심을 결정하고, 제2 큐브 각각의 제2 클러스터 중심을 결정하는 단계, 및 제1 큐브 각각의 제1 클러스터 중심 과 서로 매칭되는 제2 클러스터 중심을 결정하고, 서로 매칭되는 제1 클러스터 중심과 제2 클러스터 중심에 기 초하여 상기 제1 특징 매칭 쌍을 결정하는 단계를 포함한다. 도 2에 도시된 실시예와 같이, 전술한 ORB 기술자의 제1 차원의 경우 숫자 1이 더 많다. 따라서, 클러스터 중심 기술자의 제1 차원은 1이다. 3차원 포인트 세트의 클러스터링 후, 각 큐브의 클러스터 중심 기술자를 획득할 수 있으며, ( )는 쿼리 이미지의 클러스터 중심 기술자이고, 는 검색 이미지의 클러스터 중심 기술자이다. 다음으로, 최근접 이웃 검색과 상호 검증 을 통하여 쿼리 이미지와 검색 이미지 간의 큐 브에 대한 coarse 매칭 쌍, 즉 제1 특징 매칭 쌍을 획득한다. 수학식 3"}
{"patent_id": "10-2022-0072356", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "수학식 4"}
{"patent_id": "10-2022-0072356", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "수학식 5"}
{"patent_id": "10-2022-0072356", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "식에서, ( )는 쿼리 이미지의 클러스터 중심 기술자이고, 는 검색 이미지의 클러스터 중 심 기술자이며, 는 해밍 거리(Hamming distance)를 나타내고, 는 해밍 거리의 임계치를 나타내며, 은 쿼리 이미지의 클러스터 중심 특징으로부터 검색 이미지의 클러스터 중심까지의 최근접 이웃에 대한 검색이 고, 은 검색 이미지의 클러스터 중심 특징으로부터 쿼리 이미지의 클러스터 중심 특징까지의 최근접 이웃 에 대한 검색이며, 은 쿼리 이미지의 클러스터 중심 특징과 검색 이미지의 클러스터 중심 특징에 대한 검 증이다. 도 3에서, 양방향 화살표의 점선으로 연결되는 큐브는 쿼리 이미지와 검색 이미지 간의 coarse 매칭 쌍이다. 일부 가능한 실시예에서, 쿼리 이미지와 검색 이미지에 대한 coarse 매칭을 통하여 큐브 간의 제1 특징 매칭 쌍 을 획득하고, 제1 특징 매칭 쌍에 직접적으로 근거하여 쿼리 이미지와 검색 이미지 간의 상대적 포즈를 추정할 수 있다. 일부 가능한 실시예에서, 쿼리 이미지와 검색 이미지에 대한 coarse 매칭을 통하여 큐브 간의 제1 특징 매칭 쌍 을 획득한 후에는, 다시 fine 매칭을 실시하여 3차원 포인트 세트 간의 제2 특징 매칭 쌍을 획득할 수 있다. 실시 과정에서, 특징 매칭 결과는 제2 특징 매칭 쌍을 포함할 수도 있으며, 상기 쿼리 이미지의 공간적 특징과 상기 검색 이미지의 공간적 특징을 적어도 한 번 매칭시켜 특징 매칭 결과를 획득하는 단계는 제1 특징 매칭 쌍 영역의 3차원 포인트에 최근접 이웃 검색 및 상호 검증을 실시하여 쿼리 이미지의 3차원 포인트 세트와 검색 이 미지의 3차원 포인트 세트 간의 제2 특징 매칭 쌍을 획득하는 단계를 더 포함할 수 있고, 상기 특징 매칭 결과 에 기초하여 상기 상대적 포즈를 결정하는 단계는, 제2 특징 매칭 쌍에 기반하여 상대적 위치를 추정하는 단계 를 포함할 수 있다. 다시 말해, 제1 특징 매칭 쌍 영역의 모든 3차원 포인트 와 에 대하여 최 근접 이웃 검색 및 상호 검증을 실시하며, 과 는 각각 제 개 큐브의 공간적 영역 중 27개 큐브의 집합과 제 개 큐브의 공간적 영역 중 27개 큐브의 집합을 나타낸다. 다음으로, 제2 특징 매칭 쌍에 기반하여 쿼 리 이미지와 검색 이미지 간의 대략적인(coarse) 상대적 포즈 가 추정된다. 수학식 6"}
{"patent_id": "10-2022-0072356", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "수학식 7"}
{"patent_id": "10-2022-0072356", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "수학식 8"}
{"patent_id": "10-2022-0072356", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 9, "content": "식에서, 은 이고, 은 이며, 는 쿼리 이미지의 3차원 포인트 특징으로부터 검 색 이미지의 3차원 포인트 특징까지의 최근접 이웃 검색이고, 은 검색 이미지의 3차원 포인트 특징으로부 터 쿼리 이미지의 3차원 포인트 특징까지의 최근접 이웃 검색이며, 은 쿼리 이미지의 3차원 포인트 특징과 검색 이미지의 3차원 포인트 특징에 대한 검증이다. 일부 가능한 실시예에서, 쿼리 이미지와 검색 이미지 사이에 coarse 매칭을 실시하여 큐브 간의 제1 특징 매칭 쌍을 획득하고, 다시 fine 매칭을 실시하여 3차원 포인트 세트 간의 제2 특징 매칭 쌍을 획득한 다음, 제2 특징 매칭 쌍에 직접적으로 기초하여 쿼리 이미지와 검색 이미지 간의 대략적인(coarse) 상대적 포즈를 추정하고 대 략적인 상대적 포즈를 쿼리 이미지와 검색 이미지 간의 상대적 포즈로 설정할 수 있다. 일부 가능한 실시예에서, 쿼리 이미지와 검색 이미지에 coarse 매칭을 실시하여 큐브 간의 제1 특징 매칭 쌍을 획득하고, 다시 fine 매칭을 실시하여 3차원 포인트 세트 간의 제2 특징 매칭 쌍을 획득한 후, 다시 포즈 가이 드 매칭을 실시하여 제3 특징 매칭 쌍을 획득할 수 있다. 특징 매칭 결과는 제3 특징 매칭 쌍을 더 포함하고, 상기 쿼리 이미지의 공간적 특징과 검색 이미지의 공간적 특징을 적어도 한 번 매칭하여 특징 매칭 결과를 획득하는 단계는, 제2 특징 매칭 쌍에 기반하여 쿼리 이미지와 검색 이미지 간의 대략적인 상대적 포즈를 추정하는 단계, 및 대략적인 상대적 포즈에 의하여 검색 이미지의 3 차원 포인트 세트를 쿼리 이미지의 좌표계에 투영하고, 쿼리 이미지의 3차원 포인트 세트와 검색 이미지의 3차 원 포인트 세트 간의 제3 특징 매칭 쌍을 결정하는 단계를 더 포함할 수 있다.특징 매칭 결과에 기초하여 상대적 포즈를 결정하는 단계는 제3 특징 매칭 쌍에 기초하여 상대적 위치를 결정하 는 단계를 포함할 수 있다. 도 4에 도시된 실시예에서, 대략적인 상대적 포즈 를 사용하여 검색 이미지의 3차원 포인트를 쿼리 이미지의 좌표계에 투영한 다음, fine 매칭 부분과 유사하도록, 포인트 위치의 거리와 ORB 기술자의 해밍 거리에 따라 최 근접 이웃 검색과 상호 검증을 실시하여 쿼리 이미지의 3차원 포인트 세트와 검색 이미지의 3차원 포인트 세트 간의 제3 매칭 쌍을 획득하고, 마지막으로 제3 특징 쌍에 기초하여 쿼리 이미지와 검색 이미지 간의 초기 (prior) 상대적 포즈를 추정한다. 도 4에 도시된 바와 같이, 쿼리 이미지와 검색 이미지의 대응되는 3차원 포인 트들 사이에는 중첩되는 부분이 존재하여 제3 매칭 쌍이 될 수 있으며, 전혀 중복되지 않는 3차원 포인트는 이 상값을 나타낸다. 전술한 실시예는 특징 매칭 결과를 결정하는 과정을 설명하였으며, 이하 도면과 실시예를 참조하여 상대적 포즈 를 결정하는 과정을 보다 자세히 설명한다. 일부 가능한 실시예에서, 상기 특징 매칭 결과에 기초하여 상기 상대적 포즈를 결정하는 단계는 상기 특징 매칭 결과에 기초하여 상기 쿼리 이미지와 상기 검색 이미지 간의 초기 상대적 포즈를 추정하는 단계, 상기 초기 상 대적 포즈에 기반하여 상기 검색 이미지 중 상기 쿼리 이미지의 키 포인트와 대응되는 로컬 포인트를 결정하고, 상기 키 포인트와 대응되는 상기 로컬 포인트에 기초하여 포인트 매칭 쌍을 형성하는 단계, 및 상기 포인트 매 칭 쌍에 기초하여 상기 상대적 포즈를 추정하는 단계를 포함할 수 있다. 실시 과정에서, 투영 검색 매칭 방법을 이용하여 상기 검색 이미지 중 상기 쿼리 이미지의 키 포인트와 대응되 는 로컬 포인트를 결정할 수 있고, 상기 키 포인트와 대응되는 상기 로컬 포인트에 기초하여 포인트 매칭 쌍을 형성한 다음, PNP(Perspective-n-Point) 알고리즘을 이용하여 쿼리 이미지와 검색 이미지 간의 상대적 포즈를 추정할 수 있다. 전술한 실시예에서는 상대적 포즈의 상세 과정을 설명하였으며, 상대적 포즈 획득 후, 상대적 포즈에 따라 최적 화된 글로벌 맵을 획득할 수 있다. 일부 가능한 실시예에서, 전자 기기에 의해 실행되는 상기 방법은 상대적 포즈에 기초하여 최적화된 글로벌 맵 을 획득하는 단계를 더 포함할 수 있다. 일부 가능한 실시예에서, 점진적 번들 조정(IBA)과 전체 번들 조정(FBA)을 결합하여 최적화된 글로벌 맵을 획득 할 수 있으며, 상대적 포즈에 따라 점진적 번들 조정과 전체 번들 조정 중 어느 것을 채택할지 판단하여 최적화 의 정확도를 향상시킬 수 있다. 일부 가능한 실시예에서, 상대적 포즈에 기반하여 최적화된 글로벌 맵을 획득하는 단계는 상기 상대적 포즈를 기반으로 현재 글로벌 맵을 최적화하여 상기 최적화된 글로벌 맵을 획득하는 단계를 포함할 수 있다. 일부 가능한 실시예에서, 위치 추정과 맵 작성 과정에서, 글로벌 맵은 연속하여 최적화되는 것으로서, 상대적 포즈에 기반하여 이전에 최적화된 글로벌 맵을 다시 최적화할 수 있다. 즉, 현재 글로벌 맵을 최적화하여, 최적 화된 글로벌 맵을 획득할 수 있다. 일부 가능한 실시예에서, 상대적 포즈에 기초하여 현재 글로벌 맵을 최적화하여 상기 최적화된 글로벌 맵을 획 득하는 단계는 상기 상대적 포즈에 기초하여 포즈 드리프트(pose drift) 정보를 결정하는 단계, 및 상기 포즈 드리프트 정보에 기초하여 최적화 전략을 결정하고, 상기 최적화 전략에 따라 상기 현재 글로벌 맵을 최적화하 여 상기 최적화된 글로벌 맵을 획득하는 단계를 포함할 수 있다. 이 때, 상기 포즈 드리프트 정보는 드리프트 각도, 드리프트 거리 및 유사 드리프트의 폐루프 개수 중 적어도 하나를 포함한다. 이 때, 최적화 전략은 점진적 번들 조정 및/또는 전체 번들 조정을 포함할 수 있다. 아래에서는 일부 실시예를 통하여 포즈 드리프트 정보를 결정하는 과정에 대해서 설명한다. 일부 가능한 실시예에서, 루프가 성공적으로 검출되면, 아래의 공식에 의하여 포즈 드리프트 가 계산된다. 수학식 9"}
{"patent_id": "10-2022-0072356", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 10, "content": "식에서, 은 SLAM 방법으로 쿼리 이미지와 검색 이미지 간의 상대적 포즈를 추정하는 것을 나타내며, 는 회전 드리프트를 나타내고, 은 평행이동하는 드리프트를 나타낸다. 드리프트의 각도 와 거 리( )는 와 에 의하여 계산될 수 있다. 일부 가능한 실시예에서, 폐루프(LC) 모듈의 상대적 포즈의 정확도를 판단하기 위하여, 타임 윈도우 내 의 쿼리 이미지와 현재 쿼리 이미지 간의 폐루프 드리프트 오차( )를 계산하였으며, 아 래의 등식에 의하여 포즈 드리프트를 계산하였다. 수학식 10"}
{"patent_id": "10-2022-0072356", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 11, "content": "식에서, 는 현재 쿼리 이미지의 인덱스를 나타내고, 는 회전의 드리프트 오차를 나타내며, 는 평행 이동의 드리프트 오차를 나타낸다. 일부 가능한 실시예에서, 오차의 각도( )와 거리( )는 와 에 의하여 계산될 수 있다. 마 지막으로, 타임 윈도우 내에서 시간이 일치하는 루프의 개수( )에 대한 통계를 구한다. 가 소정의 임계 값( ) 이상인 경우, 추정된 상대적 위치( )가 시간 일치도를 만족하면 충분히 정확함을 의미한다. 은 아래의 등식으로 나타낸다. 수학식 11"}
{"patent_id": "10-2022-0072356", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 12, "content": "식에서, 은 타임 윈도우 내에서 시간이 일치하는 루프의 개수를 나타낸다. 이상에서 포즈 드리프트 정보를 결정하는 과정을 설명하였으며, 이하에서는 일부 실시예를 통하여, 포즈 드리프 트 정보에 기초하여 최적화된 글로벌 맵을 획득하는 과정을 자세히 설명한다. 일부 가능한 실시예에서, 상기 포즈 드리프트 정보에 기초하여 최적화 전략을 결정하고, 상기 최적화 전략에 의 하여 상기 현재 글로벌 맵을 최적화하여 상기 최적화된 글로벌 맵을 획득하는 단계는 상기 포즈 드리프트 정보 가 미리 설정된 오차 조건에 부합하는 경우, 점진적 번들 조정을 통하여 상기 초기 글로벌 맵을 조정함으로써 상기 최적화된 글로벌 맵을 획득하는 단계, 또는 상기 포즈 드리프트 정보가 상기 오차 조건에 부합하지 않는 경우, 전체 번들 조정을 통하여 상기 초기 글로벌 맵을 조정함으로써 상기 최적화된 글로벌 맵을 획득하는 단계 를 포함할 수 있다. 다시 말해, 포즈 드리프트 정보가 미리 설정된 오차 조건에 부합하면, 포인트 매칭 쌍에 기반하여, 점진적 번들 조정에 의하여 초기 글로벌 맵을 조정함으로써 최적화된 글로벌 맵을 획득하고, 포즈 드리프트 정보가 미리 설 정된 오차 조건에 부합하지 않는 경우, 상대적 포즈와 포인트 매칭 쌍에 기초하여, 전체 번들 조정에 의하여 초기 글로벌 맵을 조정함으로써 최적화된 글로벌 맵을 획득한다. 일부 가능한 실시예에서, 이상에서 획득된 드리프트의 각도( )와 거리( ) 및 시간이 일치하는 루프의 개수( )에 따라, 아래와 같은 최적화 전략을 실행한다. 수학식 12"}
{"patent_id": "10-2022-0072356", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 13, "content": "이 때, IBA는 점진적 번들 조정이고, FBA는 전체 번들 조정이다. 카메라의 드리프트가 매우 작거나( 과 가 소정의 임계값 ( 및 ) 미만) 또는 추정된 상대적 포즈 ( )의 시간 일치도가 아직 검증되지 않은 경우( 이 소정의 임계값( ) 미만), 포인트 매칭 쌍 제약만을 추가한 다음, 점진적 번들 조정을 통하여 관련 키 프레임의 포즈와 맵 포인트를 최적화한다. 또는, 현재 SLAM 시스템의 누적 오차가 비교적 크고 추정된 상대적 포즈( )가 시간 일치도를 만족하며 충분히 정확한 경우, 추정된 상대적 포즈( )와 포인트 매칭 쌍 제약을 추가하고, 전체 번들 조정을 통하여 모든 키 프레임의 포 즈와 모든 맵 포인트를 최적화한다. 일부 가능한 실시예에서, 전체 번들 조정을 통하여 초기 글로벌 맵을 조정하고 최적화된 글로벌 맵을 획득하는 단계는 상대적 포즈에 기초하여 초기 글로벌 맵의 키 프레임의 다중 자유도(Multi-Degree of Freedom) 포즈를 최적화하여 제1 글로벌 맵을 획득하는 단계, 및 전체 번들 조정을 통하여 제1 글로벌 맵의 키 프레임 포즈와 맵 포인트를 최적화하고, 최적화된 글로벌 맵을 획득하는 단계를 포함할 수 있다. 도 5에 도시된 바와 같이, 먼저 모든 키 프레임의 6자유도 포즈를 최적화한 다음, 전체 번들 조정(FBA)을 통하 여 모든 키 프레임 포즈와 모든 맵 포인트를 최적화할 수 있다. 일부 가능한 실시예에서 제공되는, 전자 기기에 의해 실행되는 방법은 쿼리 이미지에 대한 검색 이미지를 획득 하는 단계, 쿼리 이미지와 검색 이미지 간의 상대적 포즈를 결정하는 단계, 상기 상대적 포즈에 기초하여 포즈 드리프트 정보를 결정하는 단계, 및 상기 포즈 드리프트 정보에 기초하여 최적화 전략을 결정하고, 상기 최적화 전략에 의하여 상기 현재 글로벌 맵을 최적화하여 상기 최적화된 글로벌 맵을 획득하는 단계를 포함할 수 있다. 일부 가능한 실시예에서, 쿼리 이미지와 검색 이미지의 상대적 포즈를 결정하는 단계는 및 특징 매칭을 통하여 쿼리 이미지와 검색 이미지 간의 시각적 제약(visual constrain)을 형성하고, 쿼리 이미지와 검색 이미지 간의 상대적 포즈를 추정하는 단계를 포함할 수 있다. 일부 가능한 실시예에서, 특징 매칭은 BOW 및 ORB 특징 매칭 또는 투영 매칭 등일 수 있다. 일부 가능한 실시예에서, 쿼리 이미지와 검색 이미지의 상대적 포즈를 결정하는 단계는 상기 쿼리 이미지의 공 간적 특징과 상기 검색 이미지의 공간적 특징을 각각 획득하는 단계, 및 상기 공간적 특징에 기반하여 상기 쿼 리 이미지와 상기 검색 이미지 간의 상대적 포즈를 추정하는 단계를 포함할 수 있다. 일부 가능한 실시예에서, 쿼리 이미지의 공간적 특징과 검색 이미지 간의 공간 특징을 적어도 한 번 매칭하여 특징 매칭 결과를 획득하고, 다시 특징 매칭 결과에 기반하여 상대적 포즈를 추정할 수 있다. 실시 과정에서, 쿼리 이미지의 3차원 포인트 세트와 검색 이미지의 3차원 포인트 세트에 대하여 여러 레이어의 coarse-to-fine 매칭을 실시하고, 최종 매칭 결과에 근거하여 상대적 포즈를 결정할 수 있다. 상대적 포즈를 결 정하는 방법에 대해서는 상기의 내용을 참조할 수 있으므로, 여기에서는 더 이상 설명하지 않는다. 일부 가능한 실시예에서, 상기 포즈 드리프트 정보가 미리 설정된 오차 조건에 부합하는 경우, 점진적 번들 조 정을 통하여 상기 초기 글로벌 맵을 조정함으로써 상기 최적화된 글로벌 맵을 획득하고, 상기 포즈 드리프트 정 보가 상기 오차 조건에 부합하지 않는 경우, 전체 번들 조정을 통하여 상기 초기 글로벌 맵을 조정함으로써 최 적화된 글로벌 맵을 획득한다.이하, 실시예를 참조하여 본 개시의 전자 기기에 의해 실행되는 방법을 설명한다. 일 실시예에서, 도 6에 도시된 바와 같이, 본 개시의 전자 기기는 키 프레임과 대응되는 이미지 데이터 세트에 서 쿼리 이미지에 대하여 의미상으로 유사한 검색 이미지를 검색하는, 이미지 검색 모듈, 쿼리 이미지와 검색 이미지 간의 초기 상대적 포즈를 추정하는, 초기 상대적 포즈 추정 모듈, 쿼리 이미지와 검색 이미지 간의 상대 적 포즈 제약을 정밀하게 추정하고 쿼리 이미지 키 포인트와 검색 이미지의 대응되는 로컬 맵 포인트 간의 제약 을 형성하는, 정밀 상대적 위치 추정 모듈 및 새로 추가된 제약에 따라 추가 최적화하여 최적화된 글로벌 맵을 정밀하게 추정하는, 최적화 모듈을 포함할 수 있다. 이하, 실시예를 참조하여 본 개시의 전자 기기에 의해 실행되는 방법을 추가적으로 설명한다. 도 7에 도시된 바와 같이, 본 개시의 전자 기기에 의해 실행되는 방법은 BoW 모델에 따라 이미지를 검색하되, 이미지 데이터 세트에서 쿼리 이미지(즉, 도면에 도시된 쿼리 이미지)에 대하여 의미상으로 유사한 검색 이미지 (즉, 도면에 도시된 검색 이미지)를 검색하는 단계, 쿼리 이미지의 3차원 포인트 세트를 생성하고, 검색 이미지 의 3차원 포인트 세트를 생성하는 단계, 쿼리 이미지의 3차원 포인트 세트를 클러스터링하여 적어도 하나의 제1 큐브를 형성하고, 검색 이미지의 3차원 포인트 세트를 클러스터링하여 적어도 하나의 제2 큐브를 생성하는 단계, 제1 큐브 각각의 제1 클러스터 중심을 결정하고, 제2 큐브 각각의 제2 클러스터 중심을 결정하는 단계, 각각의 제1 클러스터 중심과 서로 매칭되는 제2 클러스터 중심을 결정하고, 서로 매칭된 제1 클러스터 중심과 제2 클러스터 중심에 기초하여 상기 제1 특징 매칭 쌍을 형성하는 단계로서, 즉 도면에 도시된 coarse 매칭 단 계, 제1 특징 매칭 쌍에 기초하여 쿼리 이미지와 검색 이미지의 3차원 포인트 세트 간의 제2 특징 매칭 쌍을 형 성하는 단계로서, 즉 도면에 도시된 fine 매칭 단계, 포즈 가이드 매칭에 의하여 쿼리 이미지와 검색 이미지의 3차원 포인트 세트 간의 제3 특징 매칭 쌍을 생성하고 초기 상대적 포즈를 생성하는 단계, 초기 상대적 포즈 추 정에 기반하여 쿼리 이미지의 키 포인트와 검색 이미지의 대응되는 로컬 포인트 간의 포인트 매칭 쌍을 결정하 고 상대적 포즈를 추정하는 단계 및 상대적 포즈와 포인트 매칭 쌍에 기반하여 초기 글로벌 맵에 대한 최적화 전략을 결정하는 단계를 포함함으로써, 전체 번들 조정 또는 점진적 번들 조정을 선택하여 동시적 위치 추정과 맵 작성을 통해 획득한 초기 글로벌 맵을 최적화할 수 있다. 전술한 예시에서, 계층과 혼합적 성질을 가지는 폐루프(DH-LC) 방법으로 명명된 신규한 폐루프(LC) 방법이 제시 되었다. 3차원 포인트 세트 생성, 3차원 포인트 세트의 클러스터링, coarse 매칭, fine 매칭, 포즈 가이드 매칭 의 과정을 계층 분할에 기반한 공간적 특징 매칭(Hierarchical Spatial Feature Matching: HSFM)이라 명명하고, IBA와 FBA를 결합한 최적화 방법을 혼합 번들 조정(Hybrid Bundle Adjustment: HBA)이라 명명하며, 본 개시는 쿼리 이미지와 검색 이미지 간의 초기 상대적 포즈와 혼합 번들 조정(HBA)을 추정하여 글로벌 맵을 최적화한다. 각각의 쿼리 이미지에 대하여, BOW 모델에 의하여 후보 이미지 세트로부터 검색 그래픽을 획득한 다음, HSFM을 통하여 coarse-to-fine 순서로 쿼리 이미지와 검색 이미지 간의 상대적 포즈를 추정한다. 다음으로, 투영 검색 매칭 방법을 이용하여 쿼리 이미지의 키 포인트와 검색 이미지의 대응되는 로컬 맵 포인트 간의 매칭을 완료하 고, PNP 알고리즘을 이용하여 쿼리 이미지와 검색 이미지 간의 정확한 상대적 포즈를 추정하고, 마지막으로, 제 시된 최적화 전략에 따라, HBA는 IBA 또는 FBA 방법을 적응적으로 선택하여 현재 글로벌 맵을 보다 효과적으로 최적화할 수 있다. 특징 매칭의 내부 포인트 비율과 효율을 향상시키기 위하여, 본 개시에서는 HSFM을 제시하였다. 기존의, 직접적 인 로컬 특징 매칭 또는 특징 클러스터링 가속 매칭에 기반한 방법과 달리, 본 개시는 먼저 쿼리 이미지와 검색 이미지로부터 키 포인트와 ORB 기술자를 조밀하고 균일하게 획득한 다음, 에피폴라 제약을 이용하여 스테레오 매칭과 삼각 측량을 수행하여 쿼리 이미지와 검색 이미지의 대응되는 3차원 포인트를 추정하고, 3차원 포인트가 공간 분포에 따라 큐브로 클러스터링되며, 각 클러스터의 중심 기술자는 보다 큰 감지 시야각을 가지는 큐브의 모든 3차원 포인트 기술자의 투표에 의하여 획득되고, 마지막으로 coarse-to-fine 방식에 의하여 쿼리 이미지 키 프레임과 검색 이미지 간의 초기 상대적 포즈를 추정한다. 확실한 포즈 추정과 포인트 매칭 후, 다음 단계에 서는 글로벌 맵을 최적화한다. 단일한 최적화 방법은 정밀도와 효율을 동시에 고려할 수 없으므로, 본 개시에서 는 IBA와 FBA를 결합함으로써 글로벌 맵을 효과적으로 최적화할 수 있고 실행 시간이 짧으며, 정밀도가 보다 높 은 HBA를 제시하였다. 1) HSFM은 coarse-to-fine의 레이어 매칭과 에피폴라 제약에 기반하여 3차원 포인트를 생성하고 공간 클러스터 링을 실시하여 쿼리 이미지와 검색 이미지 간의 초기 상대적 포즈를 추정한다.선행 기술과 비교했을 때, 본 개시가 제시한 방법은 특징 매칭의 내부 포인트 비율과 효율을 향상시켰다. 2) HBA는 IBA와 FBA를 결합한 것으로서, 효과적으로 최적화된 글로벌 맵을 제공하며, 실행 시간이 보다 짧고, 정밀도는 보다 높다. 3) 본 개시는 HSFM과 HBA를 결합하여 DH-LC 방법을 제시하였다. 상기 방법은 폐루프의 회수율과 효율을 향상시 켰으며, 누적 오차를 감소시켰고, 나아가 위치 추정의 정밀도를 향상시켰다. 전술한 전자 기기에 의해 실시되는 방법은 쿼리 이미지와 검색 이미지의 공간적 특징을 통하여 쿼리 이미지와 검색 이미지 간의 상대적 포즈를 추정함으로써, 공간적 특징은 보다 큰 지각 에일리어싱 계층과 공간 정보를 포 함하며, 글로벌 맵을 보다 정확하게 최적화할 수 있다. 또한, 본 개시는 이미지에서 키 포인트와 ORB 기술자를 조밀하고 균일하게 추출한 다음, 에피폴라 제약을 사용 하여 스테레오 매칭 및 삼각 측량을 완료함으로써 3차원 포인트 세트를 추정하므로, 3차원 포인트 세트가 글로 벌 맵보다 공간에서 더욱 균일하고 밀도 높게 분포된다. 이로써 상대적 포즈를 보다 정확하게 결정하여 글로벌 맵을 최적화할 수 있다. 또한, 본 개시는 점진적 번들 조정과 전체 번들 조정을 통하여 글로벌 맵을 효과적으로 최적화할 수 있으며, 작 동 시간은 보다 짧고, 정확도는 보다 높다. 위의 실시예에서는 방법상의 흐름의 관점에서 전자 기기에 의해 실행되는 방법을 소개하였으며, 이하 가상 모듈 의 관점에서 본 방법을 소개한다. 예시는 다음과 같다. 일 실시예에서, 본 개시의 실시예에 의하여 제공되는 전자 기기는 도 8에 도시된 바와 같이 제1 획득 모듈 , 제2 획득 모듈, 추정 모듈 및 최적화 모듈을 포함할 수 있고, 제1 획득 모듈은 쿼 리 이미지에 대한 검색 이미지를 획득하기 위한 것이며, 제2 획득 모듈은 쿼리 이미지의 공간적 특징과 검 색 이미지의 공간적 특징을 각각 획득하기 위한 것이고, 추정 모듈은 공간적 특징에 기반하여 쿼리 이미지 와 검색 이미지 간의 상대적 포즈의 최적화된 글로벌 맵을 추정하기 위한 것이다. 일 실시예에서, 공간적 특징은 3차원 포인트 세트를 포함하고, 제2 획득 모듈은 쿼리 이미지와 검색 이미 지 중 임의의 하나에 대하여, 공간적 특징을 획득하고, 제2 획득 모듈은 이미지 키 포인트와 특징 기술자 를 포함하는 이미지 특징 포인트를 추출하고, 이미지 특징 포인트에 스테레오 매칭을 실시하여 3차원 포인트 세 트를 추정하기 위한 것이다. 가능한 일 실시예에서, 추정 모듈은 공간적 특징에 기초하여 쿼리 이미지와 검색 이미지 간의 상대적 포즈 를 추정한다. 추정 모듈은 쿼리 이미지의 공간적 특징과 검색 이미지의 공간적 특징을 적어도 한 번 매칭하여 특징 매칭 결과를 획득하고, 특징 매칭 결과에 기반하여 상대적 포즈를 결정하기 위한 것이다. 일 실시예에서, 특징 매칭 결과는 제1 특징 매칭 쌍을 포함하고, 추정 모듈은 쿼리 이미지의 공간적 특징 과 검색 이미지의 공간적 특징을 적어도 한 번 매칭하며, 특징 매칭 결과를 획득한다. 추정 모듈은 쿼리 이미지와 검색 이미지의 3차원 포인트 세트 각각을 클러스터링하여, 쿼리 이미지의 클러 스터링 결과와 검색 이미지의 클러스터링 결과 간의 제1 특징 매칭 쌍을 생성하기 위한 것이다. 가능한 일 실시예에서, 추정 모듈은 쿼리 이미지와 검색 이미지의 3차원 포인트 세트 각각을 클러스터링하 여 쿼리 이미지의 클러스터링 결과와 검색 이미지의 클러스터링 결과 간의 제1 특징 매칭 쌍을 생성한다. 추정 모듈은 쿼리 이미지의 3차원 포인트 세트를 축적하여 형성된 적어도 하나의 제1 큐브를 결정하고, 검 색 이미지의 3차원 포인트 세트를 축적하여 형성된 적어도 하나의 제2 큐브를 결정하고, 제1 큐브 각각의 제1 클러스터 중심을 결정하고, 제2 큐브 각각의 제2 클러스터 중심을 결정하며, 제1 큐브 각각의 제1 클러스터 중 심과 서로 매칭되는 제2 클러스터 중심을 결정하고, 서로 매칭되는 제1 클러스터 중심과 제2 클러스터 중심에 기초하여 상기 제1 특징 매칭 쌍을 형성하기 위한 것이다. 일 실시예에서, 특징 매칭 결과는 제2 특징 매칭 쌍을 더 포함하며, 추정 모듈은 상기 쿼리 이미지의 공간 적 특징과 상기 검색 이미지의 공간적 특징을 적어도 한 번 매칭하여 특징 매칭 결과를 획득한다. 추정 모듈은 제1 특징 매칭 쌍의 영역 중 3차원 포인트에 대하여 최근접 이웃 검색 및 상호 검증을 실시하 여 쿼리 이미지의 3차원 포인트 세트와 검색 이미지의 3차원 포인트 세트 간의 제2 특징 매칭 쌍을 획득하기 위한 것이다. 가능한 일 실시예에서, 특징 매칭 결과는 제3 특징 매칭 쌍을 더 포함하고, 추정 모듈은 상기 쿼리 이미지 의 공간적 특징과 상기 검색 이미지의 공간적 특징을 적어도 한 번 매칭하여 특징 매칭 결과를 획득한다. 추정 모듈은 제2 특징 매칭 쌍에 기반하여 쿼리 이미지와 검색 이미지 간의 대략적인 상대적 포즈를 추정 하고, 대략적인 상대적 포즈에 의하여 검색 이미지의 3차원 포인트 세트를 쿼리 이미지의 좌표계에 투영하고, 쿼리 이미지의 3차원 포인트 세트와 검색 이미지의 3차원 포인트 세트 간의 제3 특징 매칭 쌍을 결정하기 위한 것이다. 가능한 일 실시예에서, 추정 모듈은 상기 특징 매칭 결과에 기반하여 상기 상대적 포즈를 결정한다. 추정 모듈은 상기 특징 매칭 결과에 기초하여 상기 쿼리 이미지와 상기 검색 이미지 간의 초기 상대적 포 즈를 추정하고, 상기 초기 상대적 포즈에 기초하여 상기 검색 이미지 중 상기 쿼리 이미지의 키 포인트와 대응 되는 로컬 포인트를 결정하고, 상기 키 포인트와 대응되는 상기 로컬 포인트에 기초하여 포인트 매칭 쌍을 형성 하며, 상기 포인트 매칭 쌍에 기초하여 상기 상대적 포즈를 추정하기 위한 것이다. 일 실시예는 최적화 모듈을 더 포함하며, 최적화 모듈은, 상대적 포즈를 기반으로 현재 글로벌 맵을 최적화하여 최적화된 글로벌 맵을 획득하기 위한 것이다. 일 실시예에서, 최적화 모듈은 상대적 포즈를 기반으로 현재 글로벌 맵을 최적화하여 최적화된 글로벌 맵을 획 득한다. 최적화 모듈은 상대적 포즈에 기초하여 포즈 드리프트를 결정하고, 상기 포즈 드리프트 정보에 기초하여 최적화 전략을 결정하고, 상기 최적화 전략에 의하여 상기 현재 글로벌 맵을 최적화하여 상기 최적화된 글로벌 맵을 획 득하기 위한 것이다. 가능한 일 실시예에서, 최적화 모듈은 상기 포즈 드리프트 정보에 기반하여 최적화 전략을 결정하고, 상기 최적 화 전략에 의하여 상기 현재 글로벌 맵을 최적화하여 상기 최적화된 글로벌 맵을 획득한다. 최적화 모듈은 상기 포즈 드리프트 정보가 미리 설정된 오차 조건에 부합하는 경우, 점진적 번들 조정을 통하여 상기 초기 글로벌 맵을 조정함으로써 상기 최적화된 글로벌 맵을 획득하거나, 또는 상기 포즈 드리프트 정보가 상기 오차 조건에 부합하지 않는 경우, 전체 번들 조정을 통하여 상기 초기 글로벌 맵을 조정함으로써 상기 최 적화된 글로벌 맵을 획득하기 위한 것이다. 가능한 일 실시예에서, 최적화 모듈은 전체 번들 조정을 통하여 상기 초기 글로벌 맵을 조정하여 상기 최적화된 글로벌 맵을 획득한다. 최적화 모듈은 상기 상대적 포즈에 기반하여 상기 초기 글로벌 맵의 키 프레임의 다중 자유도 포즈를 최적화하 여 제1 글로벌 맵을 획득하고, 전체 번들 조정을 통하여 제1 글로벌 맵의 키 프레임 포즈와 맵 포인트를 최적화 하고, 상기 최적화된 글로벌 맵을 획득하기 위한 것이다. 전술한 전자 기기는 쿼리 이미지와 검색 이미지의 공간적 특징을 통하여 쿼리 이미지와 검색 이미지 간의 상대 적 포즈를 추정함으로써, 특징은 보다 큰 감지 시야각 계층과 공간 정보를 가지며, 글로벌 맵을 보다 정확하게 최적화할 수 있다. 또한, 3차원 포인트 세트는, 이미지에서 키 포인트와 ORB 기술자를 조밀하고 균일하게 추출한 다음, 에피폴라 제약을 사용하여 스테레오 매칭 및 삼각 측량을 완료함으로써 3차원 포인트 세트를 추정하므로, 3차원 포인트 세트가 글로벌 맵보다 공간에서 더욱 균일하고 밀도 높게 분포된다. 또한, 점진적 번들 조정과 전체 번들 조정을 통하여 글로벌 맵을 효과적으로 최적화할 수 있으며, 작동 시간은 보다 짧고, 정확도는 보다 높다. 본 개시의 실시예의 전자 기기는 본 개시의 전술한 임의의 방법의 실시예에 의해 제공되는, 유사한 구현 원리를 가지는 방법을 실행할 수 있다. 본 개시의 각 실시예에서의 장치 중 각 모듈이 실행하는 동작은 본 개시의 각 실시예에서 전자 기기에 의해 실행되는 방법에서의 단계와 서로 대응되는 것으로서, 장치의 각 모듈의 상세한 기능에 대한 설명은 상기에 기재된 대응되는 방법의 설명을 참조할 수 있으므로, 더 설명하지 아니한다. 본 개시의 실시예에서 제공되는 장치는 인공지능(AI, Artificial Intelligence) 모델에 의하여 여러 모듈 중 적 어도 하나의 모듈을 구현할 수 있다. 본 개시의 실시예에서 제공되는 장치는 비휘발성 메모리와 휘발성 메모리및 프로세서에 의하여 AI 관련 기능을 실행할 수 있다. 상기 프로세서는 하나 이상의 프로세서를 포함할 수 있다. 이 때, 상기 하나 이상의 프로세서는 예컨대 중앙처 리장치(CPU), 어플리케이션 프로세서(AP) 등의 범용 프로세서, 또는 그래픽 전용 프로세서, 예컨대 그래픽 처리 장치(GPU, Graphics Processing Unit), 시각 처리 장치(VPU, Visual Processing Unit), 및/또는 신경 처리 장 치(NPU, Neural Processing Unit)와 같은 AI 전용 프로세서일 수 있다. 상기 하나 이상의 프로세서는 비휘발성 메모리와 휘발성 메모리에 저장된 사전 정의된 작동 규칙 또는 인공지능 (AI) 모델에 따라 입력 데이터의 처리를 제어한다. 훈련 또는 학습을 통하여 사전 정의된 작동 규칙 또는 인공 지능 모델이 제공된다. 여기서, 학습을 통해 제공한다는 것은 학습 알고리즘을 다수의 학습 데이터에 응용하여 사전 정의된 작동 규칙 또는 필요한 특성을 가지는 AI 모델을 획득하는 것이다. 상기 학습은 실시예에 따른 AI를 실행하는 장치 자체에 서 실행되거나, 및/또는 별도의 서버/시스템에 의하여 구현될 수 있다. 상기 AI 모델은 다수의 뉴럴 네트워크 레이어를 포함할 수 있다. 각 레이어는 다수의 가중치를 가지며, 한 레이 어의 계산은 이전 레이어의 계산 결과와 현재 레이어의 다수의 가중치에 의하여 실행된다. 뉴럴 네트워크의 예 시는 합성곱 신경망(CNN, Convolutional neural network), 심층 신경망(DNN, Deep neural network), 순환 신경 망(RNN, Recurrent neural network), 제한된 볼츠만 머신(RBM, Restricted Boltzmann machine), 심층 신뢰 신 경망(DBN, Deep Belief Network), 양방향 순환 심층 신경망(BRDNN, Bidirectional recurrent deep neural network), 생성적 적대 신경망(GAN, Generative Adversarial Networks), 및 심층 Q 네트워크를 포함하나 이에 제한되지 아니한다. 학습 알고리즘은 다수의 학습 데이터를 사용하여 사전에 설정된 목표 장치(예컨대, 로봇)를 훈련시킴으로써 목 표 장치가 판단 또는 예측하도록 시키거나, 허용 또는 제어하는 방법이다. 상기 학습 알고리즘의 예시는 지도학 습, 비지도학습, 반지도학습, 또는 강화학습을 포함하나 이에 제한되지 아니한다. 이상, 기능 모듈화의 관점에서 본 개시의 실시예가 제공하는 장치를 소개하였으며, 이어서, 하드웨어 실체화의 관점에서 본 개시의 실시예가 제공하는 전자 기기를 소개하고 전자 기기의 계산 시스템에 대해서도 소개한다. 본 개시의 실시예에 나타난 방법과 동일한 원리에 기반하여, 본 개시의 실시예에서는 전자 기기를 추가적으로 제공하며, 상기 전자 기기는 컴퓨터 작동 명령어를 저장하는 메모리와 컴퓨터 작동 명령을 호출함으로써 전술한 실시예의 방법 중 임의의 방법을 실행하도록 구성되는 프로세서를 포함하나 이에 제한되지 아니한다. 선행 기술 과 비교하면, 본 개시의 전자 기기에 의하여 실행되는 방법은 글로벌 맵을 보다 정밀하게 최적화한다. 일 실시예에서는 전자 기기를 제공하고 있으며, 도 9에 도시된 전자 기기는 프로세서와 메모리 를 포함한다. 여기서, 프로세서는 예컨대 버스를 통하여 메모리와 서로 연결된다. 선 택적으로, 전자 기기는 송수신기를 더 포함할 수 있다. 실제 응용 시 송수신기의 개수는 하 나로 제한되지 아니하며, 상기 전자 기기의 구조는 본 개시의 실시예를 제한하지 아니한다. 프로세서는 중앙처리장치(CPU, Central Processing Unit), 범용 프로세서, 디지털 신호 프로세서(DSP, Digital Signal Processor), 전용 집적 회로(ASIC, Application Specific Integrated Circuit), 필드 프로그래 밍 지원 게이트 어레이(FPGA, Field Programmable Gate Array) 또는 기타 편집 가능한 논리 소자, 트랜지스터 논리 소자, 하드웨어 부품 또는 이의 임의의 조합일 수 있다. 이는 본 개시에 개시된 내용에 설명된 각종 예시 적인 논리 프레임, 모듈 및 회로를 구현할 수 있다. 프로세서는 예컨대 하나 이상의 마이크로프로세서의 조합, DSP와 마이크로프로세서의 조합 등과 같이 연산 기능을 구현하는 조합일 수도 있다. 버스는 전술한 구성요소 사이에서 정보를 전달하는 통로를 포함할 수 있다. 버스는 주변 장치 상호 접속 (PCI, Peripheral Component Interconnect) 버스 또는 확장 업계 표준 구조(EISA, Extended Industry Standard Architecture) 버스 등일 수 있다. 버스는 주소 버스, 데이터 버스, 제어 버스 등으로 분류될 수 있다. 표시의 편의를 위하여, 도 9에서는 굵은 선 한 가닥으로만 표시하였으나, 이는 단 하나의 버스 또는 단 한 가지의 버스만 존재함을 의미하지 않는다. 메모리는 읽기 전용 메모리(ROM, Read Only Memory) 또는 정적 정보와 명령어를 저장할 수 있는 다른 형 태의 정적 메모리 장치, RAM(Random Access Memory) 또는 정보와 명령어를 저장할 수 있는 다른 형태의 동적 메 모리 장치일 수 있으며, EEP ROM(EEPROM, Electrically Erasable Programmable Read Only Memory), CD- ROM(Compact Disc Read Only Memory) 또는 다른 광 디스크 메모리, 컴팩트 디스크 메모리(컴팩트 디스크, 레이저 디스크, 광 디스크, 디지털 범용 디스크, Blu-ray 디스크 등), 자기 디스크 저장 매체 또는 다른 자기 저장 장치, 또는 명령어 또는 데이터 구조 형태로 원하는 프로그램 코드를 운반하거나 저장하는 데 사용될 수 있고 컴퓨터에서 액세스할 수 있는 임의의 다른 매체일 수도 있으나, 이에 제한되지 않는다. 메모리는 본 개시의 실시 방식의 응용 프로그램 코드를 저장하고, 프로세서에 의해 실행이 제어된 다. 프로세서는 메모리에 저장된 응용 프로그램 코드를 실행하도록 구성되어 전술한 방법의 실시예 에 기재한 내용을 구현한다. 여기서, 전자 기기는 모바일 폰, 노트북, 디지털 방송 수신기, 개인 정보 단말기(PDA, Personal Digital Assistant), 태블릿 컴퓨터(PAD), 휴대용 멀티미디어 플레이어(PMP, Portable Multimedia Player), 차량 탑재 단말(예컨대, 차량 탑재 내비게이션 단말) 등의 이동 단말 및 디지털 TV, 데스크탑 컴퓨터 등의 고정 단말, 및 지능 로봇 등을 포함할 수 있으나, 이에 제한되지 아니한다. 도 9에 도시된 전자 기기는 일 실시예에 불과하며, 본 개시의 실시예의 기능 및 이용 범위를 제한하지 아니한다. 본 개시의 실시예는 컴퓨터 판독 가능 저장 매체를 제공한다. 상기 컴퓨터 판독 가능 저장 매체에는 컴퓨터 프 로그램이 저장되어 있어, 컴퓨터에서 작동될 때 컴퓨터가 전술한 방법의 실시예 중 해당 내용을 수행할 수 있다. 도면의 흐름도에 도시된 각 단계가 화살표 방향이 가리키는 순서대로 도시되었으나, 이들 단계가 반드시 화살표 방향이 가리키는 순서대로 차례대로 수행되지는 않음은 물론이다. 본 개시에 명확하게 설명하지 않은 경우, 이 들 단계의 실행은 순서상으로 엄격하게 제한되지 않으며, 다른 순서로도 실행될 수 있다. 또한, 도면의 흐름도 중 적어도 일부 단계는 여러 개의 하위 단계 또는 여러 개의 절차를 포함할 수 있는데, 이러한 단계 또는 절차 는 동시에 완료되어야 하는 것은 아니며 상이한 시각에 실행될 수도 있고, 그 실행 순서 또한 차례대로 진행되 어야 하는 것은 아니며, 다른 단계 또는 이의 하위 단계 또는 절차 중 적어도 일부와 혼합되거나 번갈아 실시될 수 있다. 본 개시의 전술한 컴퓨터 판독 가능 매체는 컴퓨터 판독 가능 신호 매체 또는 컴퓨터 판독 가능 저장 매체 또는 상기 양자의 임의의 조합일 수 있다. 컴퓨터 판독 가능 저장 매체는 예컨대, 전기, 자기, 광, 전자기, 적외선 또는 반도체 시스템, 장치 또는 소자, 또는 이의 임의의 조합일 수 있으나, 이에 제한되지 아니한다. 컴퓨터 판독 가능 저장 매체의 예시는 하나 이상 의 전선을 가지는 전기 연결, 휴대용 컴퓨터 디스크, 하드 디스크, RAM, ROM, 소거형 ROM(EPROM 또는 플래시 메 모리), 광섬유, 읽기 전용 콤팩트 디스크 기억 장치(CD-ROM), 광 메모리 소자, 자기 메모리 소자, 또는 상기 임 의의 적절한 조합을 포함할 수 있으나 이에 제한되지 아니한다. 본 개시에서, 컴퓨터 판독 가능 저장 매체는 프로그램을 포함 또는 저장하는 유형의 매체일 수 있으며, 상기 프 로그램은 명령어 실행 시스템, 장치, 또는 소자에 의하여 사용되거나 또는 이와 함께 사용될 수 있다. 본 개시에서, 컴퓨터 판독 가능 신호 매체는 기저대역에서 또는 컴퓨터 판독 가능한 프로그램 코드가 로드된 반 송파의 일부로서 전파된 데이터 신호를 포함할 수 있다. 이러한 전파된 데이터 신호로는 다양한 형태가 채용될 수 있으며, 전자기 신호, 광신호 또는 전술한 내용의 임의의 적절한 조합을 포함하나 이에 제한되지 아니한다. 컴퓨터 판독 가능 신호 매체는 컴퓨터 판독 가능 저장 매체 이외의 임의의 컴퓨터 판독 가능 매체일 수 있으며, 상기 컴퓨터 판독 가능 신호 매체는 명령어 실행 시스템, 장치, 또는 소자에 의하여 이용되거나 이와 함께 이용 되는 프로그램을 발신, 전파 또는 전송할 수 있다. 컴퓨터 판독 가능 매체에 포함된 프로그램 코드는 임의의 적 합한 매체를 사용하여 전달될 수 있으며, 해당 매체는 전선, 광 케이블, 라디오 주파수(RF, radio frequency) 등 또는 이의 임의의 적절한 조합을 포함하나 이에 제한되지 아니한다. 상기 컴퓨터 판독 가능 매체는 상기 전자 기기에 포함될 수 있으며, 전자 기기에 조립되지 않고 별도로 존재할 수도 있다. 상기 컴퓨터 판독 가능 매체에는 하나 이상의 프로그램이 로드되어 있어, 전술한 하나 이상의 프로그램이 상기 전자 기기에 의하여 실행되면, 상기 전자 기기가 전술한 실시예에 기재한 방법을 실행한다. 하나 이상의 프로그래밍 언어 또는 이의 조합으로써 본 개시의 작동을 실행하기 위한 컴퓨터 프로그램 코드를 작성할 수 있으며, 전술한 프로그래밍 언어는 Java, Smalltalk, C++와 같은 객체 지향 프로그래밍 언어와 \"C\" 언어 또는 이와 유사한 프로그래밍 언어와 같은 통상의 절차적 프로그래밍 언어를 포함한다. 프로그램 코드는 사용자 컴퓨터 상에서 완전히 실행되거나, 부분적으로 사용자 컴퓨터 상에서 실행되거나, 별도의 패킷으로서 실행되거나, 사용자 컴퓨터와 원격 컴퓨터 상에서 각각 부분적으로 실행되거나, 완전히 원격 컴퓨터 또는 서버에 서 실행될 수 있다. 원격 컴퓨터의 경우, 원격 컴퓨터는 임의의 종류의 LAN(Local Area Network) 또는 WAN(Wide Area Network)를 통하여 사용자 컴퓨터에 연결되거나 또는 외부 컴퓨터에 연결될 수 있다(예컨대, 인 터넷 서비스 제공자를 사용하여 인터넷에 의해 연결). 도면 내의 흐름도와 블록도는 본 개시의 다양한 실시예에 따른 시스템, 방법 및 컴퓨터 프로그래밍 제품의 구현 가능한 구조, 기능 및 작동을 도시한 것이다. 이러한 점에서, 흐름도 또는 블록도 내의 모든 블록은 하나의 모 듈, 프로그램 단편, 또는 코드의 일부를 나타낼 수 있으며, 상기 모듈, 프로그램 단편, 또는 코드의 일부는 규 정된 논리적 기능을 구현하도록 구성된 하나 이상의 실행 가능한 명령어를 포함한다. 또한 일부 대체 구현에서, 블록에 표시된 기능은 도면에 표시된 순서와 다르게 발생할 수 있다. 예컨대, 연결되어 표시된 두 개의 블록은 사실상 기본적으로 함께 실행될 수 있으며, 경우에 따라 반대 순서로 실행될 수도 있는 바, 이는 관련 기능에 따라 정해진다. 또한, 블록도 및/또는 흐름도 내의 모든 블록 및 블록도 및/또는 흐름도 내의 블록의 조합은 규 정된 기능 또는 작동을 실행하는 전용 하드웨어 기반 시스템에 의하여 구현되거나, 전용 하드웨어와 컴퓨터 명 령어의 조합에 의하여 구현될 수 있다. 본 개시의 실시예에서 언급한 모듈은 소프트웨어 또는 하드웨어 방식으로 구현될 수 있다. 이 때, 모듈의 명칭 은 경우에 따라서는 본 모듈 자체를 제한하는 것이 아니며, 예컨대 제2 획득 모듈은 \"공간적 특징 획득 모듈\"로 기술될 수도 있다. 이상의 설명은 본 개시의 바람직한 실시예이자 사용된 기술 원리에 대한 설명에 불과하다. 본 개시와 관련된 개 시 범위는 전술한 기술 특징의 특정 조합으로 이루어진 기술적 해결 방법에 제한되지 아니하며, 본 개시의 구상 을 벗어나지 않으면서 전술한 기술 특징 또는 이의 동등한 특징으로 임의적으로 조합된 다른 기술적 해결 방법 또한 포함한다. 예컨대, 전술한 특징과 본 개시에서 개시된(단 이에 제한되지 아니하는) 유사한 기능을 가지는 기술 특징을 서로 대체하여 형성된 기술적 해결 방법이다."}
{"patent_id": "10-2022-0072356", "section": "도면", "subsection": "도면설명", "item": 1, "content": "본 개시의 실시예에 설명된 기술적 해결 방법을 보다 명확하게 설명하기 위하여, 본 개시의 실시예를 설명할 때 사용되는 도면을 간략하게 소개한다. 도 1은 본 개시의 실시예에 의하여 제공되는, 전자 기기에 의하여 수행되는 방법의 흐름도이다. 도 2는 본 개시의 실시예에 의한 3차원 포인트 세트를 클러스터링하기 위한 방법을 나타내는 개략도이다. 도 3은 본 개시의 실시예에 의한 제1 특징 매칭 쌍과 제2 특징 매칭 쌍을 생성하는 방법을 나타내는 개략도이다. 도 4는 본 개시의 실시예에 의한 제3 특징 매칭 쌍을 생성하기 위한 방법을 나타내는 개략도이다.도 5는 본 개시의 실시예에 의한 최적화된 글로벌 맵의 생성 방법을 나타내는 개략도이다. 도 6은 본 개시의 실시예에서 제공되는 전자 기기의 개략적인 구조도이다. 도 7은 본 개시의 실시예에서 제공되는 전자 기기에 의하여 수행되는 방법을 나타내는 개략도이다. 도 8은 본 개시의 실시예에서 제공되는 전자 기기의 개략적인 구조도이다. 도 9는 본 개시의 실시예에서 제공되는 전자 기기의 개략적인 구조도이다."}
