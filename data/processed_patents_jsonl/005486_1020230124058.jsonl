{"patent_id": "10-2023-0124058", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0041394", "출원번호": "10-2023-0124058", "발명의 명칭": "레이더를 이용한 운전자 상태 예측방법 및 그 인캐빈 안전센서", "출원인": "주식회사 씽크아이", "발명자": "최성국"}}
{"patent_id": "10-2023-0124058", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "인캐빈 안전센서의 운전자 상태예측방법에 있어서, 레이더 모듈이 레이더 신호를 이용해 운전자를 스캔하면서 상기 운전자의 심박을 인식한 심박 신호 및 호흡을인식하는 호흡신호 중 적어도 하나를 출력하는 단계;상태판단부가 상기 레이더 모듈이 제공하는 심박 신호를 이용한 분당심박수 및 호흡신호를 이용한 분당 호흡수중 적어도 하나를 실시간 카운팅하는 단계; 상기 상태판단부가 이전 시간동안 상기 카운팅하는 단계에서 구한 분당 심박수들의 평균치인 평균심박수를 계산하여 기준심박수로 사용하거나 상기 카운팅하는 단계에서 구한 분당 호흡수들의 평균치인 평균호흡수를 계산하여 기준호흡수로 사용하는 단계; 및상기 상태판단부가 상기 실시간 카운팅한 분당 심박수가 상기 기준심박수의 제1임계 백분율과 제2임계 백분율사이 값이 되는 횟수가 기설정된 시간 이내에 기설정된 횟수이상 반복되면 상기 운전자가 졸음 상태로 진입 중인 예비졸음 상태인 것으로 판단하거나, 상기 실시간 카운팅한 분당 호흡수가 상기 기준호흡수의 제1임계 백분율과 제2임계 백분율 사이 값이 되는 횟수가 기설정된 시간 이내에 기설정된 횟수이상 반복되면 상기 예비졸음상태인 것으로 판단되, 상기 제1임계 백분율과 제2임계 백분율은 100%보다 작은 값이고 상기 제2 임계백분율은상기 제1 임계백분율보다 큰 값인 바이탈분석단계를 포함하는 것을 특징으로 하는 인캐빈 안전센서의 운전자 상태예측방법."}
{"patent_id": "10-2023-0124058", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 상태판단부가 상기 실시간 카운팅한 분당 심박수가 상기 기준심박수의 제3임계 백분율 이상이 되는지 판단하되, 상기 제3임계 백분율은 100%보다 큰 값인 심박이상판단 단계를 더 포함하고, 상기 상태판단부는 상기 실시간 분당 심박수가 상기 기준심박수의 제3임계 백분율 이상이 되면 심박이상 이벤트를 생성하는 것을 특징으로 하는 인캐빈 안전센서의 운전자 상태예측방법."}
{"patent_id": "10-2023-0124058", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항 또는 제2항에 있어서, 상기 기준심박수로 사용하는 단계는, 상기 상태판단부가 기설정된 유효시간 단위로 상기 평균심박수를 반복해서 구하고, 직전 유효시간에 구한 평균심박수로 다음 유효시간동안의 상기 기준심박수로 사용하는 단계; 및 상기 직전 유효시간동안, 상기 실시간 분당 심박수가 상기 기준심박수의 제1임계 백분율과 제2임계 백분율 사이값이 되는 횟수가 상기 기설정된 횟수미만으로 측정한 경우에, 상기 상태판단부가 상기 직전 유효시간 동안의평균심박수를 계산하지 않고 상기 직전 유효시간에 사용한 기준심박수를 유지하는 단계를 더 포함하는 것을 특징으로 하는 인캐빈 안전센서의 운전자 상태예측방법."}
{"patent_id": "10-2023-0124058", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,공개특허 10-2025-0041394-3-상기 기준심박수로 사용하는 단계는, 상기 상태판단부가 상기 유효시간마다 구한 평균심박수들의 전체 평균치를 구하는 단계를 포함하여, 상기 평균심박수들의 평균치를 상기 기준심박수로 사용하는 것을 특징으로 하는 인캐빈 안전센서의 운전자 상태예측방법."}
{"patent_id": "10-2023-0124058", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서,상기 상태판단부가 상기 실시간 카운팅한 분당 호흡수가 상기 기준호흡수의 제3임계 백분율 이상이 되는지 판단하되, 상기 제3임계 백분율은 100%보다 큰 값인 호흡이상판단 단계를 더 포함하고, 상기 상태판단부는 상기 실시간 분당 호흡수가 상기 기준호흡수의 제3임계 백분율 이상이 되면 호흡이상 이벤트를 생성하는 것을 특징으로 하는 인캐빈 안전센서의 운전자 상태예측방법."}
{"patent_id": "10-2023-0124058", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에 있어서,제1 카메라가 운전자를 촬영하여 운전자에 대한 영상을 생성하는 단계;영상처리부가 상기 영상을 분석하여 운전자의 상태를 인식하면서 예비 졸음운전 상태를 추출하되, 상기 예비 졸음상태의 판단을 위한 운전자의 상태는 기설정된 시간동안 기설정된 횟수 이상 눈을 깜박거리거나, 운전자 코나입의 형태 변화가 예비 졸음운전 상태에 해당하는 영상분석단계; 및상기 상태판단부가 상기 유효시간동안 상기 바이탈분석단계와 영상분석단계에서 예비졸음 상태로 판단한 경우에상기 운전자가 예비 졸음운전 상태로 판단하는 단계를 더 포함하는 것을 특징으로 하는 인캐빈 안전센서의 운전자 상태예측방법."}
{"patent_id": "10-2023-0124058", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "인캐빈 안전센서에 있어서, 레이더 신호를 이용해 운전자를 스캔하면서 상기 운전자의 심박을 인식하여 호흡신호를 출력하거나 호흡을 인식하여 호흡 신호를 출력하는 레이더 모듈; 및상기 레이더 모듈이 제공하는 심박 신호를 이용한 분당 심박수 및 호흡신호를 이용한 분당호흡수 중 적어도 하나를 실시간 카운팅하는 상태판단부를 포함하되,상기 상태판단부가 상기 실시간 카운팅한 분당 심박수가 기준심박수의 제1임계 백분율과 제2임계 백분율 사이값이 되는 횟수가 기설정된 시간 이내에 기설정된 횟수이상 반복되거나, 상기 실시간 카운팅한 분당 호흡수가상기 기준호흡수의 제1임계 백분율과 제2임계 백분율 사이 값이 되는 횟수가 기설정된 시간 이내에 기설정된 횟수이상 반복되면 상기 운전자가 졸음 상태로 진입 중인 예비졸음 상태인 것으로 판단하는 바이탈분석을 수행하되, 상기 기준심박수는 이전 시간동안 카운팅하여 구한 분당 심박수들의 평균치인 평균심박수를 사용하고, 상기 기준호흡수는 상기 분당 호흡수들의 평균치인 평균호흡수를 사용하며, 상기 제1임계 백분율과 제2임계 백분율은100%보다 작은 값이고 상기 제2 임계백분율은 상기 제1 임계백분율보다 큰 값인 것을 특징으로 하는 인캐빈 안전센서."}
{"patent_id": "10-2023-0124058", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7항에 있어서,공개특허 10-2025-0041394-4-상기 상태판단부는 상기 실시간 카운팅한 분당 심박수가 상기 기준심박수의 제3임계 백분율 이상이 되는지 판단하고 심박이상 이벤트를 생성하되, 상기 제3임계 백분율은 100%보다 큰 값인 것을 특징으로 하는 인캐빈 안전센서."}
{"patent_id": "10-2023-0124058", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제7항 또는 제8항에 있어서, 상기 상태판단부는 기설정된 유효시간 단위로 상기 평균심박수를 반복해서 구하고, 직전 유효시간에 구한 평균심박수로 다음 유효시간동안의 상기 기준심박수로 사용하되, 상기 직전 유효시간동안, 상기 실시간 분당 심박수가 상기 기준심박수의 제1임계 백분율과 제2임계 백분율 사이값이 되는 횟수가 상기 기설정된 횟수미만으로 측정한 경우에, 상기 직전 유효시간 동안의 평균심박수를 계산하지 않고 상기 직전 유효시간에 사용한 기준심박수를 유지하는 것을 특징으로 하는 인캐빈 안전센서."}
{"patent_id": "10-2023-0124058", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서,상기 상태판단부는 상기 유효시간마다 구한 평균심박수들의 전체 평균치를 구하고, 상기 평균심박수들의 평균치를 상기 기준심박수로 사용하는 것을 특징으로 하는 인캐빈 안전센서."}
{"patent_id": "10-2023-0124058", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제7항에 있어서,운전자를 촬영하여 운전자에 대한 영상을 생성하는 제1 카메라; 및상기 영상을 분석하여 운전자의 상태를 인식하면서 예비 졸음운전 상태를 추출하되, 상기 예비 졸음상태의 판단을 위한 운전자의 상태는 기설정된 시간동안 기설정된 횟수 이상 눈을 깜박거리거나, 운전자 코나 입의 형태 변화가 예비 졸음운전 상태에 해당하는 것인 영상처리부를 더 포함하고,상기 상태판단부는 상기 유효시간동안 상기 바이탈분석과 상기 영상처리부가 예비졸음 상태로 판단한 경우에 상기 운전자가 예비 졸음운전 상태로 판단하는 것을 특징으로 하는 인캐빈 안전센서."}
{"patent_id": "10-2023-0124058", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제7항에 있어서,상기 상태판단부는 상기 실시간 카운팅한 분당 호흡수가 상기 기준호흡수의 제3임계 백분율 이상이 되는지 판단하고 호흡이상 이벤트를 생성하되, 상기 제3임계 백분율은 100%보다 큰 값인 것을 특징으로 하는 인캐빈 안전센서."}
{"patent_id": "10-2023-0124058", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "레이더(Radar)를 이용한 운전자 상태예측방법 및 그 인캐빈 안전센서가 개시된다. 본 발명의 인캐빈 안전센서는 레이더(Radar)를 이용하여 운전자의 심박수 및/또는 호흡수를 카운팅할 수 있으며, 그 심박수 및/또는 호흡수의 변화를 관찰함으로써 실시간 분당심박수가 기준심박수보다 느리거나 분당호흡수가 기준호흡수보다 낮은 운전자의 졸음운전, 예비 졸음운전 뿐만 아니라 실시간 분당심박수가 기준심박수보다 빠르거나 분당호흡수가 기준호흡수보 다 빠른 약물복용 또는 저혈당쇼크 등을 미리 예측할 수 있다."}
{"patent_id": "10-2023-0124058", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 레이더(Radar)를 이용하여 운전자의 심박수를 비접촉식으로 카운팅할 수 있으며, 그 심박수의 변화를 관찰함으로써 운전자의 졸음운전, 약물복용 또는 저혈당쇼크 등을 미리 예측할 수 있는 운전자 상태 예측방법 및 그 인캐빈 안전센서에 관한 것이다."}
{"patent_id": "10-2023-0124058", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "자동차 운전 중에 졸음이나 부주의로 운전자의 주의가 산만해지면 필연적으로 사고로 이어진다. 운전 중 졸음뿐 만 아니라 운전 중 흡연, 운전 중 주의산만 등 잠시라도 전방 주시를 게을리하면 곧 사고로 이어질 수 있다. 이 런 상황을 운전자 개인의 주의에만 맡기기에는 그 부주의의 결과가 지대하기 때문에, 다양한 운전보조장치들이 개발되고 있다. 졸음운전이나 부주의 운전을 인식하는 방식은 여러 가지가 있는데, 카메라로 운전자를 촬영하여 영상을 분석하 는 방식이 주로 사용되고, 지능형운전자보조시스템(ADAS: Advanced Driver Assistance Systems)을 이용해 차선 이탈 정보를 받아 부주의 상황을 인식하기도 한다. 영상을 분석하는 방식은 운전자의 얼굴, 특히 눈의 움직임을 촬영하여 운전자가 졸음 상태인지 또는 부주의 상태인지를 개별 알고리즘에 따라 판단한다. 졸음이나 주의 산만 상태가 인식되면, 자체 장치나 자동차 내부 시스템을 이용하여 시각적, 청각적, 촉각적인 방법으로 운전자에게 경고한다. 운전보조장치가 제공하는 경고로 상황이 개선되지 않고 운전자의 졸음이나 부주의 상태가 지속될 수 있다. 이런 때는 운전자의 상태를 외부에 전달할 필요도 있다. 문제는 카메라 영상을 이용해 졸음운전으로 판단할 때는 운전자가 이미 졸음 운전 상태라는 것이고, 현재까지 개발된 방법으로는 졸음운전을 미리 예측하여 예보할 수 없다는 것이다. 한편, 운전자가 졸음운전 이외에도 약물을 복용한 상태에서 운전하거나 운전 중에 저혈당쇼크 등이 발생하면 매 우 위험한 상황이 생길 수 있다. 약물을 복용하거나 저혈당 쇼크가 있으면, 운전자의 심박수가 빨라진다. 선행기술문헌 특허문헌 (특허문헌 0001) KR 10-2018-0104369 A (레이더를 이용하여 탑승자의 상태를 인식하는 방법 및 장치) (특허문헌 0002) KR 10-2023-0077605 A (FMCW 레이더를 기반으로 하는 도플러 속도를 이용한 호흡수 추정 장치 및 방법)"}
{"patent_id": "10-2023-0124058", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 목적은, 레이더(Radar)를 이용하여 운전자의 심박수 또는 호흡수를 비접촉식으로 카운팅할 수 있으며, 그 심박수 또는 호흡수의 변화를 관찰함으로써 운전자의 졸음운전, 약물복용 또는 저혈당쇼크 등을 미 리 예측할 수 있는 운전자 상태 예측방법 및 그 인캐빈 안전센서를 제공함에 있다."}
{"patent_id": "10-2023-0124058", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 목적을 달성하기 위한 본 발명의 인캐빈 안전센서의 운전자 상태예측방법은, 바이탈검출단계, 카운팅단계, 기준설정단계 및 바이탈분석단계를 포함한다. 바이탈검출단계는 레이더 모듈이 레이더 신호를 이용해 운전자를 스캔하면서 상기 운전자의 심박을 인식한 심박 신호 및 호흡을 인식하는 호흡신호 중 적어도 하나를 출력한다. 카운팅단계에서, 상태판단부는 상기 레이더 모듈이 제공하는 심박 신호를 이용한 분당심박수 및 호흡신호를 이 용한 분당 호흡수 중 적어도 하나를 실시간 카운팅한다. 기준설정단계에서, 상기 상태판단부는 이전 시간동안 상기 카운팅하는 단계에서 구한 분당 심박수들의 평균치인 평균심박수를 계산하여 기준심박수로 사용하거나 상 기 카운팅하는 단계에서 구한 분당 호흡수들의 평균치인 평균호흡수를 계산하여 기준호흡수로 사용한다. 바이탈분석단계에서, 상기 상태판단부가 상기 실시간 카운팅한 분당 심박수가 상기 기준심박수의 제1임계 백분 율과 제2임계 백분율 사이 값이 되는 횟수가 기설정된 시간 이내에 기설정된 횟수이상 반복되면 상기 운전자가 졸음 상태로 진입 중인 예비졸음 상태인 것으로 판단하거나, 상기 실시간 카운팅한 분당 호흡수가 상기 기준호 흡수의 제1임계 백분율과 제2임계 백분율 사이 값이 되는 횟수가 기설정된 시간 이내에 기설정된 횟수이상 반복 되면 상기 예비졸음 상태인 것으로 판단한다. 여기서, 상기 제1임계 백분율과 제2임계 백분율은 100%보다 작은 값이고 상기 제2 임계백분율은 상기 제1 임계백분율보다 큰 값이다. 실시 예에 따라, 본 발명의 인캐빈 안전센서의 운전자 상태예측방법은, 상기 상태판단부가 상기 실시간 카운팅 한 분당 심박수가 상기 기준심박수의 제3임계 백분율 이상이 되는지 판단하는 심박이상판단 단계를 더 포함할 수 있다. 상기 상태판단부는 상기 실시간 분당 심박수가 상기 기준심박수의 제3임계 백분율 이상이 되면 심박이상 이벤트를 생성한다. 여기서, 상기 제3임계 백분율은 100%보다 큰 값이다. 다른 실시 예에 따라, 본 발명의 인캐빈 안전센서의 운전자 상태예측방법은, 상기 상태판단부가 상기 실시간 카 운팅한 분당 호흡수가 상기 기준호흡수의 제3임계 백분율 이상이 되는지 판단하되, 상기 제3임계 백분율은 100% 보다 큰 값인 호흡이상판단 단계를 더 포함할 수 있다. 상기 상태판단부는 상기 실시간 분당 호흡수가 상기 기 준호흡수의 제3임계 백분율 이상이 되면 호흡이상 이벤트를 생성한다. <기준심박수 계산> 실시 예에 따라, 상기 기준심박수로 사용하는 단계는, 상기 상태판단부가 기설정된 유효시간 단위로 상기 평균 심박수를 반복해서 구하고, 직전 유효시간에 구한 평균심박수로 다음 유효시간동안의 상기 기준심박수로 사용하 는 단계와; 상기 직전 유효시간동안, 상기 실시간 분당 심박수가 상기 기준심박수의 제1임계 백분율과 제2임계 백분율 사이 값이 되는 횟수가 상기 기설정된 횟수미만으로 측정한 경우에, 상기 상태판단부가 상기 직전 유효 시간 동안의 평균심박수를 계산하지 않고 상기 직전 유효시간에 사용한 기준심박수를 유지하는 단계를 더 포함 할 수 있다. 다른 실시 예에 따라, 상기 기준심박수로 사용하는 단계는, 상기 상태판단부가 상기 유효시간마다 구한 평균심 박수들의 전체 평균치를 구하는 단계를 포함함으로써, 상기 평균심박수들의 평균치를 상기 기준심박수로 사용할 수 있다. <영상분석을 함께 사용> 다른 실시 예에 따라, 본 발명의 인캐빈 안전센서의 운전자 상태예측방법은 제1 카메라가 운전자를 촬영하여 운 전자에 대한 영상을 생성하는 단계와; 영상처리부가 상기 영상을 분석하여 운전자의 상태를 인식하면서 예비 졸 음운전 상태를 추출하되, 상기 예비 졸음상태의 판단을 위한 운전자의 상태는 기설정된 시간동안 기설정된 횟수 이상 눈을 깜박거리거나, 운전자 코나 입의 형태 변화가 예비 졸음운전 상태에 해당하는 영상분석단계와; 상기 상태판단부가 상기 유효시간동안 상기 심박분석단계와 영상분석단계에서 예비졸음 상태로 판단한 경우에 상기 운전자가 예비 졸음운전 상태로 판단하는 단계를 더 포함할 수 있다. 본 발명은 인캐빈 안전센서에도 미친다. 본 발명의 인캐빈 안전센서는 레이더 신호를 이용해 운전자를 스캔하면 서 상기 운전자의 심박을 인식하여 호흡신호를 출력하거나 호흡을 인식하여 호흡 신호를 출력하는 레이더 모듈 과, 상기 레이더 모듈이 제공하는 심박 신호를 이용한 분당 심박수 및 호흡신호를 이용한 분당호흡수 중 적어도 하나를 실시간 카운팅하는 상태판단부를 포함한다. 상기 상태판단부가 상기 실시간 카운팅한 분당 심박수가 기준심박수의 제1임계 백분율과 제2임계 백분율 사이 값이 되는 횟수가 기설정된 시간 이내에 기설정된 횟수이상 반복되거나, 상기 실시간 카운팅한 분당 호흡수가 상기 기준호흡수의 제1임계 백분율과 제2임계 백분율 사이 값이 되는 횟수가 기설정된 시간 이내에 기설정된 횟 수이상 반복되면 상기 운전자가 졸음 상태로 진입 중인 예비졸음 상태인 것으로 판단한다."}
{"patent_id": "10-2023-0124058", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 인캐빈 안전센서는 레이더(Radar)를 이용하여 운전자의 심박수 또는 호흡수를 비접촉식으로 카운팅하 면서 모니터링할 수 있으며, 그 심박수 또는 호흡수의 변화를 관찰함으로써 운전자의 졸음운전, 약물복용 또는 저혈당쇼크 등을 미리 예측할 수 있다. 또한, 졸음운전의 경우, 본 발명의 인캐빈 안전센서는 운전자를 촬영한 영상의 영상분석에 의한 예비 졸음운전 및 졸음운전 판단 결과를 심박분석과 함께 고려하여, 운전자의 졸음운전을 사전에 예측할 수 있다."}
{"patent_id": "10-2023-0124058", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "item": 1, "content": "도 1 및 도 2를 참조하면, 본 발명의 인캐빈 안전센서는 통신부, 제1 카메라, 제2 카메라, 레이더 모듈 및 제어부를 포함하여, 차량 내부에 설치되며 운전자의 상태를 미리 예측하여 인식 한다. 이 구성 이외에도 본 발명의 인캐빈 안전센서는 사용자 제어명령을 입력받기 위한 입력부와 디스플 레이 수단 그리고 위치정보를 생성할 수 있는 GPS 모듈 등을 더 포함할 수 있으나, 이러한 구성은 본 발명의 필 수적인 구성이 아니므로 도시하지 않고 설명도 생략한다. 통신부는 외부 서버(미도시)에 접속하기 위한 무선 네트워크 수단으로서 네트워크에 접속할 수 있는 무선 통신 수단이라면 어떤 것이어도 가능하다. 예컨대, 통신부는 엘티이(LTE)나 5G와 같은 이동통신망에 접속 하기 위한 수단일 수도 있고, LoRa, Sigfox, Ingenu, LTE-M, NB-IOT 등의 저전력 광대역 네트워크에 접속할 수 있는 수단일 수도 있다. 또한, 실시 예에 따라, 운전자 휴대 단말기(미도시)가 인캐빈 안전센서와 네트워 크 사이를 연결하는 기능을 구비한 경우에, 통신부는 운전자 휴대 단말기(미도시)와 연결 가능한 무선랜 (Wireless)이나 블루투스(Bluetooth) 등이 될 수도 있다. 한편, 통신부는 네트워크에 접속할 수 있는 무선 통신 수단과 운전자 휴대 단말기(미도시)에 접속하기 위한 무선랜 및/또는 블루투스를 함께 구비할 수도 있다. 제1 카메라와 제2 카메라는 인캐빈 안전센서의 본체에 내장될 수도 있고, 그 중 하나 또는 모두 가 외장 모듈로 본체와 연결될 수 있다. 제1 카메라는 차량 운전자를 촬영하여 영상을 생성함으로써 운전자의 상태(예컨대 졸음운전, 약물복용, 저 혈당 쇼크 등)를 인식하기 위한 수단으로 사용한다. 인캐빈 안전센서의 설치 위치는 어디라도 무방하지만, 제1 카메라가 운전자의 상태를 인식할 목적이라면 도 1처럼 제1 카메라가 운전자석 전방 상측에 설치 되는 것이 좋다. 제1 카메라가 생성하는 영상은 흑백 영상, 컬러 영상, 또는 적외선 영상을 포함해 어떤 종류이어도 무방하 지만, 외부 광의 영향, 야간 촬영 등을 고려하면 적외선 영상이 바람직하다. 제2 카메라는 차량 외부, 특히 차량 전방이나 후방을 촬영하여 영상을 생성한다. 제2 카메라는 인캐 빈 안전센서의 본체 내에 내장될 수 있지만, 인캐빈 안전센서의 본체로부터 분리되어 외부에 설치될 수도 있다. 레이더 모듈은 도플러 효과를 인체 측정에 이용하는 것으로서, 운전자를 스캔하여 운전자의 심박에 대응하 는 '심박신호' 또는 '호흡신호'를 상태판단부에게 출력한다. 레이더 모듈은 차량 내에 운전자를 스캔할 수 있는 위치에 설치되면 족하다. 도 1의 예에서, 레이더 모듈은 차량의 전면창에 설치되 어 케이블을 통해 인캐빈 안전센서에 연결되어 있다. 레이더 모듈이 전면창 상단에 설치됨으로써, 레이더 모듈과 운전자 사이에 방해물이 없는 상태로 운전자를 스캔할 수 있다. 그 밖에도 레이더 모듈은 운전자 시트(미도시) 안에 설치될 수도 있다. 레이더 모듈은 CW(Continuous Wave), FMCW(Frequency Modulation Continuous Wave), UWB(Ultra Wide Band) 등 다양한 형태의 레이더 신호(전파)를 사용할 수 있으며, 레이더 신호를 사용하여 운전자를 기설정된 주 기로 실시간 스캔한다. 레이더 신호가 운전자를 향해 발신되면 운전자의 심박 또는 호흡에 의한 도플러 효과로 반사되는 신호의 특성이 변하게 되며, 레이더 모듈은 그 변화를 인식하여 운전자의 실시간 심박에 대응하 는 실시간 심박신호 또는 실시간 호흡에 대응하는 호흡신호를 출력한다. 레이더 모듈이 레이더 신호를 이용해 운전자의 심박을 인식하는 방법은 종래에 알려진 레이더 측정기술, 예컨대 대한민국 공개특허 10-2018-0104369 등을 이용할 수 있다. 그 밖에도 종래에 이미 심박이나 호흡수를 레 이더를 이용해 검출하는 방법으로, CW 레이더를 이용한 페이즈 변화량을 추출하거나 FM/CW의 레인지 프로파일 (Range profile)을 이용하는 방법(특허공개 제10-2023-0077605호)이 있다. 제어부는 본 발명의 인캐빈 안전센서의 전반적인 동작을 제어한다. 따라서 제어부는 본 발명에 특유한 운전자 상태를 감시하는 기능을 수행한다. 제어부는 본 발명의 감시 기능을 위해, 영상처리부(21 1)와 상태판단부를 포함한다. 영상처리부는 제1 카메라가 기설정된 프레임 속도(예컨대 30 FPS)로 제공하는 원본 이미지에 대해, 운전자의 상태의 판단에 필요한 객체 인식을 수행하고 그 인식결과를 상태판단부에게 제공한다. 영상처리 부의 운전자 상태 판단은 저혈당쇼크나 약물복용에도 적용될 수 있으나, 졸음운전에 주로 이용한다. 졸음운전의 판단에 필요한 객체 인식을 위해, 영상처리부는 제1 카메라가 제공하는 모든 이미지를 영 상처리하여 졸음운전 판단에 사용할 관심 객체, 즉 운전자의 얼굴과 눈, 담배, 무선전화기 등을 인식한다. 관심객체가 인식된 이미지에 대해서, 영상처리부는 눈을 깜박거리는지, 감고 있는지 여부를 인식하고, 모든 이 미지에 대해 그 인식정보를 상태판단부에게 제공한다. 그 밖에도 영상처리부는 운전자 얼굴 또는 눈 이 전방이 아닌 다른 곳을 주시하는지 여부, 담배나 무선 전화기가 인식되는지 여부를 인식할 수 있으며, 일정 시간동안의 얼굴 이미지의 변화를 이용한 졸음상태 인식에 관한 인공지능 알고리즘을 이용하여 졸음운전 여부를 인식할 수 있다. 한편, 이러한 인식을 위한 구체적인 기술적 방법은 본 발명의 설명에 필수적인 것이 아니므로 생략한다. 영상처리부가 개별 이미지에서 객체와 객체의 동작을 인식하는 방법은 종래에 이미 개발되고 널리 알려졌 으며, 본 발명에서는 종래에 널리 알려진 영상처리기법을 그대로 사용해도 무방하다. 한편, 전처리가 완료된 적 외선 영상은 얼굴 부분 이외의 영상 정보가 거의 없고 얼굴 외곽선과 눈의 외곽선이 뚜렷하기 때문에, 컬러이미 지를 사용하는 것에 비해 운전자의 얼굴을 인식하고 눈의 움직임을 인식하기 좋다. 상태판단부는 운전자의 운전 상태를 모니터링하고 졸음운전, 약물 복용 또는 저혈당 쇼크 등을 예측한다. 운전자 상태 판단에는 레이더 모듈이 제공하는 운전자의 심박신호 및/또는 호흡신호를 이용하는 바이탈 (Vital)분석 및/또는 영상처리부의 인식결과를 이용하는 영상분석이 따로 또는 함께 사용된다. 상태판단부는 상태 판단 결과, 졸음운전이 예측되면 '예비 졸음운전 이벤트'를 생성하고, 졸음운전으로 판 단되면 '졸음운전 이벤트'를 생성한다. 반대로, 약물 복용 또는 저혈당 쇼크처럼 분당심박수가 기준심박수보다 임계치 이상 높거나 기설정된 비율 이상으로 높은 경우에는 '심박이상 이벤트'를 생성하고, 분당호흡수가 기준 호흡수보다 임계치 이상 높거나 기설정된 비율 이상으로 높은 경우에는 '호흡이상 이벤트'를 생성한다. 저혈당 쇼크 등의 경우에 생성되는 호흡이상 이벤트도 심박이상 이벤트와 동일한 알고리즘으로 처리할 수 있고, 졸음운전 분석에서도 심박과 동일한 알고리즘으로 호흡수 변화를 이용할 수 있다. 따라서 이하에서는 상태판단 부의 심박분석을 중심으로 설명하되, 호흡이상 이벤트는 심박이상 이벤트와 기준호흡수나 제1 임계 백분율, 제2 임계백분율, 제3임계 백분율 등이 달라질 뿐 심박이상 이벤트의 알고리즘에 대한 설명을 그대로 적 용할 수 있다. 또한, 상태판단부는 졸음운전, 약물복용, 저혈당 쇼크 등을 검출하는 과정에서 심박과 호흡수 중 하나를 분석할 수도 있지만 심박과 호흡수를 동시에 분석할 수 있다. 우선 심박분석을 위해, 상태판단부는 레이더 모듈이 제공하는 운전자의 실시간 심박신호를 카운팅하 여 운전자의 실시간 분당 심박수를 계산한다. 레이더 모듈이 예를 들어 0.5초 단위로 운전자를 스캔하여 0.5초 단위로 심박신호를 출력하면, 상태판단부이 심박신호를 이용해 운전자의 분당 심박수를 카운팅한다. 상태판단부는 카운팅한 분당 심박수가 기설정한 기준심박수 대비 제1임계 백분율(예컨대 95%) 이하가 되면 상기 운전자가 졸음 상태로 진입 중인 것으로 판단한다. 제1임계 백분율은 100%보다 작은 값이다. 예를 들어, 제1임계 백분율이 95%이고 기준심박수가 분당 70회라고 할 때, 분당 심박수가 67회(제1임계 백분율, 66.5)가 안 되면 졸음 상태로 판단한다. 따라서 카운팅한 분당 심박수가 66회이면 졸음 상태로 판단한다. 반대로 약물복용 이나 저혈당 쇼크 등의 경우에 운전자의 심박 수가 비정상적으로 높게 나온다. 따라서 상태판단부는 카운 팅한 분당 심박수가 기준심박수 보다 임계치 이상 높은 경우에도 운전자의 상태가 정상이 아닌 것이므로, 상태 판단부는 분당 심박수가 제3임계 백분율(예컨대 120%) 이상이 되면 운전자의 심박상태에 이상이 있는 것으 로 판단한다. 제3임계 백분율은 100%보다 큰 값이다. 여기서, 기준심박수는 분당심박수를 의미하며 운전자별로 다르게 정해진다. 동일한 운전자라도 운전 중에 노래 를 부를 경우에는 심박수가 올라갈 수 있으므로, 본 발명은 특정 운전자의 기준심박수를 고정해 두지 않고 운전 자의 현재상태를 반영하면서 바꾼다. 기준심박수를 설정하기 위해, 상태판단부는 일정한 시간동안(예컨대 5분, 10분 단위, 이하 '유효시간'이라 함) 계산한 '실시간 분당심박수'들의 평균치인 '평균심박수'를 계산해 기 준심박수로 사용한다. 상태판단부는 주기적으로 평균심박수를 구함으로써 해당 운전자의 기준심박수에 운 전자 상태를 반영한다. 예를 들어, 유효시간을 정하고, 이전 유효시간의 평균심박수를 다음 유효시간의 기준심 박수로 사용하는 방법을 제시한다. 매 유효시간 단위로 평균심박수를 구하여 기준심박수로 사용함으로써 운전 중에 운전자가 노래를 부르거나 심리의 변화가 있는 등으로 졸음운전 상태가 아님에도 심박이 변하는 것에 대응 한다. 앞서 설명한 것처럼, 기준호흡수도 동일한 방법으로 운전자마다 설정할 수 있다. 다른 실시 예에 따라, 부가적으로 상태판단부는 유효시간 단위로 구한 평균심박수들의 예컨대 수 시간동안 의 평균치 또는 그보다 더 긴 시간(예컨대 24시간 동안)의 평균치 또는 구해진 모든 평균심박수의 평균치를 구 함으로써 운전자의 운전 중 평균심박수를 계산한 다음, 그 심박수를 기준심박수로 사용할 수 있다. 여기서, 유효시간 단위로 구한 평균심박수들의 예컨대 수 시간동안 또는 그보다 더 긴 시간(예컨대 24시간 동안)의 평균치 는 해당 기간의 모든 분당심박수의 평균을 구하는 것에 해당한다. 운전 중에 운전자의 심리변화 등에 의한 기준심박수가 바뀌는 것이 졸음운전 등 운전자 심박상태 판단에 오류 를 만들 수 있기 때문이다. 표 1은 상태판단부가 10분동안 카운팅한 실시간 분당 심박수의 예이다. 표 1 t1 t2t3t4t5t6t7t8t9t10 69707172727170696970 표 1에 기초해 t11시점에 10분 단위 평균심박수를 구하면, 평균심박수는 70.3이 되고, 상태판단부는 t11부 터 기준심박수를 70으로 설정할 수 있다. 실시 예에 따라, 기준심박수는 다음 평균심박수를 계산할 때까지 유효하게 사용할 수 있다. 따라서 상태판단부 는 직전 유효시간에서 정한 평균심박수를 기준심박수로 삼아, 다음 유효시간의 운전자의 심박 상태(졸음운 전, 예비 졸음운전, 약물 복용 등)를 판단할 수 있다. 이때, 평균심박수를 계산하는 구간동안 운전자의 '졸음운 전 이벤트'나 '예비 졸음운전 이벤트' 또는 '심박이상 이벤트' 뿐만 아니라 특이 변동도 없어야 한다. 따라서 직전 유효시간 동안, 실시간 분당 심박수가 기준심박수의 제1임계 백분율과 제2임계 백분율 사이 값이 되는 횟 수가 기설정된 횟수미만, 또는 한 번 이라도 측정된 경우에는, 상태판단부는 직전 유효시간 동안의 평균심 박수를 다시 계산하지 않고 그 직전 유효시간에 사용한 기준심박수를 다음 유효시간의 기준심박수로 그대로 유 지할 수 있다. 예컨대 t1 - t10 동안, 실시간 분당 심박수가 기준심박수의 제1임계 백분율과 제2임계 백분율 사 이 값이 되는 횟수가 한 번 이라도 측정되면, t1 - t10 동안 사용한 기준심박수(t1 직전 10분 동안의 평균심박 수)를 그대로 t11 - t20의 기준심박수로 사용하고, t1 - t10 동안의 평균심박수를 계산하지 않는다. 한편, 졸음운전의 경우에, 운전자가 졸음 상태로 들어가기 전에 졸다가 깨는 것을 반복할 수 있다. 졸음운전 방 지의 측면에서 이러한 경우를 포착하는 것이 매우 중요하다. 따라서 상태판단부는 제1임계 백분율과 제2 임계백분율(예컨대 97%) 사이의 값, 즉 제1임계 백분율보다 크고 제2 임계백분율보다 작은 값으로 전환되는 횟 수가 일정한 시간(예를 들어, 5분) 이내에 기설정된 횟수(예컨대 2회)이상 반복되면 운전자가 졸음 상태로 진입 중인 '예비 졸음 상태'로 판단할 수 있다. 제1임계 백분율과 제2임계 백분율은 100%보다 작은 값이고, 제2 임계 백분율은 제1임계 백분율보다 큰 값이다. 표 2는 표 1에 이어서 측정된 운전자의 분당 심박수의 예로서, 기준심박수가 70으로 계산되어 설정된 상태이다. 표 2 t11 t12t13t14t15t16t17t18t19t20 70696870707068697070 예를 들어, 제1임계 백분율이 95%이고 제2 임계백분율을 97%로 정한 경우에, 기준심박수가 분당 70회이면 제1임 계 백분율(95%, 66.5)과 제2 임계백분율(97%, 67.9)에 사이에 해당하는 분당 심박수, 즉 67회나 68회가 5분 동 안 2회이상 나타나면 '반졸음' 또는 '예비졸음' 상태로 판단한다. 표 2에서 5분 이내에 해당하는 t13과 t17에서 분당심박수가 68회가 되었으므로, 상태판단부는 운전자를 예비 졸음상태로 판단할 수 있다. 상태판단부는 영상처리부의 영상분석 결과로부터 운전자의 졸음운전이 인식되는 '예비졸음 운전 이벤 트'가 있는지 감시한다. '예비졸음 운전 이벤트' 생성 조건은 다양하게 설정할 수 있다. 예를 들어, 눈깜박임이 제1 기준 시간이상 지속되는지 여부로 판단할 수 있다. 만약 눈깜박임이 1분 동안 15회 이상 반복적으로 인식되 면 예비졸음 운전상태로 판단할 수 있다. 실시 예에 따라, 상태판단부는 심박분석을 이용한 운전자 상태를 판단할 때, 영상처리부의 영상분석 을 함께 이용하여 운전자의 상태를 판단할 수도 있다. 이하에서는 도 3을 참조하여, 본 발명의 인캐빈 안전센서 의 운전자 상태예측방법을 설명한다. 한편, 도 3은 운전자의 졸음운전 예측을 중심으로 설명한다. <바이탈 카운팅: S301, S303> 레이더 모듈은 운전자의 바이탈 분석을 위해 레이더 신호를 사용하여 운전자를 기설정된 주기로 스캔하고 운전자에서 반사되는 신호에서 운전자의 심장박동에 대응하는 신호를 인식하여 심박신호를 출력한다(S301). 상태판단부는 레이더 모듈이 제공하는 운전자의 심박신호를 카운팅하여 분당 심박수를 계산한다. 레 이더 모듈이 예를 들어 0.5초 단위로 운전자를 스캔하여 0.5초 단위로 심박신호를 출력하면, 상태판단부 이 심박신호를 이용해 운전자의 분당 심박수를 카운팅한다(S303). S301, S303 단계의 방법은 레이더 모듈의 호흡신호 출력과 상태판단부의 분당 호흡수 카운팅에도 그 대로 적용된다. <기준 설정: S305> 상태판단부는 직전 유효시간 동안 수행된 S303 단계를 통해 누적된 운전자의 분당 심박수의 평균값을 계산 하여, 다음 유효시간 동안 S309의 판단에 사용할 기준심박수로 사용한다. 만약, 직전 유효시간 동안 누적된 운전자의 분당 심박수 중에 기준심박수의 제1임계 백분율과 제2임계 백분율 사이 값이 있으면, 직전 유효시간 동안 누적된 운전자의 분당 심박수의 평균치를 계산하지 않고, 사용 중인 기 준심박수를 그대로 유지한다. 다른 실시 예에 따라, 부가적으로 상태판단부는 유효시간 단위로 구한 평균심박수들의 예컨대 수 시간동안 또는 그보다 더 긴 시간(예컨대 24시간 동안)의 평균치를 구함으로써 운전자의 운전 중 평균심박수를 계산한 다 음, 그 심박수를 기준심박수로 사용할 수 있다. S305 단계의 방법은 상태판단부가 기준호흡수를 설정할 때 그대로 적용된다. <제1 카메라 운전자 촬영에 의한 운전자 상태인식: S307, S309> 제1 카메라는 차량 운전자를 촬영하여 영상을 생성하여 영상처리부에게 제공한다(S307). 영상처리부 는 제1 카메라가 제공하는 영상신호를 분석하여 운전자의 상태 중 졸음운전 상태를 인식한다(S309). <예비졸음 운전 여부 판단: S311 내지 S315> 상태판단부는 S303 단계에서 카운팅한 분당 심박수가 현재 유효시간에 적용되는 기준심박수의 제2임계 백 분율 보다는 작고 제1임계 백분율 보다는 큰 값으로 전환되는 횟수가 일정한 시간(예를 들어, 5분) 이내에 기설 정된 횟수(예컨대 3회)이상 반복되면 운전자가 졸음 상태로 진입 중인 '예비 졸음 상태'로 판단하는 '심박분석 단계'를 수행할 수 있다. 마찬가지로, 상태판단부는 분당 호흡수가 현재 유효시간에 적용되는 기준호흡수 의 제2임계 백분율 보다는 작고 제1임계 백분율 보다는 큰 값으로 전환되는 횟수가 일정한 시간(예를 들어, 5분) 이내에 기설정된 횟수(예컨대 3회)이상 반복되면 운전자가 졸음 상태로 진입 중인 '예비 졸음 상태'로 판 단하는 '호흡분석단계'를 수행할 수 있다. 앞서 설명한 것처럼, 제2 임계백분율(예컨대 97%)은 제1임계 백분율 보다 큰 값이고, 제1 임계백분율과 제2 임계백분율은 심박분석과 호흡분석에서 서로 다른 값일 수 있다. 실시 예에 따라, 예비 졸음상태의 판단의 정확성을 높이기 위해, 상태판단부는 S307 단계에서 영상처리부 가 분석한 운전자의 상태를 고려하는 '영상분석'을 함께 고려할 수 있다. 이때, 예비 졸음상태의 판단을 위한 운전자의 상태는 정상상태가 아닌 것으로 족하다. 보다 구체적으로는, 운전자가 기설정된 시간동안 기설정 된 횟수 이상 눈을 깜박거리거나, 운전자 얼굴의 다른 부분(코나 입)의 형태 변화를 인식해 예비 졸음상태 인식 할 수 있으며, 예를 들어 영상처리부는 일정 시간동안의 얼굴 이미지의 변화를 이용한 예비 졸음상태 인식 에 관한 인공지능 알고리즘을 이용하여 '예비 졸음운전' 여부를 인식할 수 있다. 상태판단부는 현재 유효시간 내에, S303 단계에서 카운팅한 분당 심박수의 변화(또는 분당 호흡수의 변 화)로 '예비 졸음 상태'로 판단하고(S311), 영상처리부도 예비 졸음상태로 인식한 경우(S313)에 한해, 최 종적으로 운전자가 '예비 졸음상태'로 판단할 수 있다(S315). <졸음 운전판단: S317, S319> 만약, 분당 심박수가 현재 유효시간에 적용되는 기준심박수의 제1임계 백분율(예컨대 95%) 이하가 되거나 분당 호흡수가 현재 유효시간에 적용되는 기준호흡수의 제1임계 백분율(예컨대 95%) 이하가 되면 운전자가 졸음 상태 로 진입 중인 것으로 판단한다. 실시 예에 따라, 졸음운전 판단에도, 상태판단부는 S303 단계에서 카운팅한 분당 심박수의 변화로 '졸음 상태'로 판단한 상태에서, 영상처리부도 졸음상태로 인식한 경우에 한해, 최종적으로 운전자가 '졸음상태'로 판단할 수 있다. 한편, S315에서 예비졸음상태로 판단되거나, S319에서 졸음상태로 판단된 경우에 운전자를 깨우거나 운전자의 주의를 환기시키기 위해 방향제를 살포할 수 있다. 이를 위해, 본 발명의 인캐빈 안전센서는 도 2의 방향 장치와 연결될 수 있다. 이 경우, 상태판단부는 S315에서 예비졸음상태로 판단되거나, S319에서 졸음 상태로 판단된 경우에 신호를 방향장치에게 제공할 수 있다. 방향장치는 인캐빈 안전센서의 신호에 따라 동작하여 기설정된 양의 방향제를 분사하도록 구성되며, 차량의 송풍구 앞에 배치되는 것이 좋다. 방향장치가 방향제를 분사하는 방식은 다양한 방식으로 구현할 수 있다. 예를 들어, 방향장치는 초음파 가습수단을 구비하여 인캐빈 안전센서에서 예비졸음 상태를 알리는 신호가 있으면 일정한 양의 방향제를 1회 분무하고, 졸음상태를 알리는 신호가 있으면 일정한 양 의 방향제를 2회 분무하도록 동작할 수 있다. 이상의 방법으로, 본 발명의 인캐빈 안전센서의 졸음 운전 예측방법이 수행된다. 앞서 설명한 것처럼, 영 상분석에 의한 방법인 S307단계와 S309 단계는 본 발명의 필수적인 구성은 아니다. '심박이상 이벤트' '호흡이상 이벤트' 한편, 레이더를 이용한 운전자의 심박이 기준심박수의 제3 임계백분율 이상이 되는 '심박이상 이벤트' 생성이나 운전자의 호흡수가 기준호흡수의 제3 임계백분율 이상이 되는 '호흡이상 이벤트' 생성도 도 3과 동일하게 수행 된다. 도 4는 본 발명의 다른 실시 예에 따른 운전자 상태예측방법으로서, 심박이상 이벤트의 생성방법에 대한 설명이며, 호흡이상 이벤트 생성에도 그대로 적용된다. 도 4의 방법은 도 3의 S305 단계에 이어지는 '심박이상 판단 단계(S401, S403)'를 더 포함할 수 있다. 우선, 상태판단부는 S311 단계와 별개로 운전자의 실시간 분당심박수가 기준심박수의 제3 임계백분율 이상 이 되는지 판단한다(S401). S401 단계에서 운전자의 분당심박수가 기준심박수의 제3 임계백분율 이상인 것으로 판단되면, 상태판단부 는 심박이상 이벤트를 생성한다(S403). 마찬가지로, 상태판단부는 S311 단계와 별개로 운전자의 실시간 분당호흡수가 기준호흡수의 제3 임계백분 율 이상이 되는지 판단하고, 운전자의 분당호흡수가 기준호흡수의 제3 임계백분율 이상인 것으로 판단되면 호흡 이상 이벤트를 생성한다. 이상에서는 본 발명의 바람직한 실시 예에 대하여 도시하고 설명하였지만, 본 발명은 상술한 특정의 실시 예에 한정되지 아니하며, 청구범위에서 청구하는 본 발명의 요지를 벗어남이 없이 당해 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에 의해 다양한 변형실시가 가능한 것은 물론이고, 이러한 변형실시들은 본 발명의 기술 적 사상이나 전망으로부터 개별적으로 이해되어서는 안 될 것이다.도면 도면1 도면2 도면3 도면4"}
{"patent_id": "10-2023-0124058", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시 예에 따른 인캐빈 안전센서의 설치도, 도 2는 본 발명의 일 실시 예에 따른 인캐빈 안전센서의 블록도, 도 3은 본 발명의 일 실시 예에 따른 운전자 상태예측방법(졸음운전)의 설명에 제공되는 흐름도, 그리고 도 4는 본 발명의 다른 실시 예에 따른 운전자 상태예측방법(심박이상 이벤트)의 설명에 제공되는 흐름도이다."}
