{"patent_id": "10-2022-0142482", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0168103", "출원번호": "10-2022-0142482", "발명의 명칭": "선택적으로 개인정보를 비식별화할 수 있는 인공지능 영상 감시장치", "출원인": "주식회사 넷온", "발명자": "명홍철"}}
{"patent_id": "10-2022-0142482", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "사생활을 보호하며 주변을 촬영하는 영상 감시장치에 있어서,촬영부;상기 촬영부가 촬영한 영상 내에서 객체을 검출하는 객체 검출부;상기 촬영부가 촬영한 영상 내에서 얼굴을 검출하는 얼굴 검출부; 각 검출부가 검출한 결과를 수신하여, 얼굴 또는 객체의 얼굴에 마스킹을 진행하는 마스킹부; 외부로부터 영상 내 특정 영역에 대한 좌표 및 마스킹 여부를 입력받아 관심영역으로 설정하는 관심영역설정부; 및상기 촬영부의 촬영영상 및 상기 마스킹부가 마스킹한 마스킹영상을 외부로 전송하는 통신부를 포함하는 것을 특징으로 하는 영상 감시장치."}
{"patent_id": "10-2022-0142482", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 관심영역 설정부는,외부로부터 기 설정된 영역의 좌표와 함께 상기 기 설정된 영역에 대해서는 무조건 마스킹을 진행하라는 취지의입력을 받아 관심영역을 설정하는 것을 특징으로 하는 영상 감시장치."}
{"patent_id": "10-2022-0142482", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 관심영역 설정부는,외부로부터 기 설정된 영역의 좌표와 함께 기 설정된 영역으로 진입하는 대상에 대해서만 마스킹을 진행하라는취지의 입력을 받아 관심영역을 설정하는 것을 특징으로 하는 영상 감시장치."}
{"patent_id": "10-2022-0142482", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 관심영역 설정부는,외부로부터 기 설정된 영역의 좌표와 함께 기 설정된 영역으로 진입하는 대상에 대해서는 마스킹을 해제하라는취지의 입력을 받아 관심영역을 설정하는 것을 특징으로 하는 영상 감시장치."}
{"patent_id": "10-2022-0142482", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제2항 내지 제4항 중 어느 한 항에 있어서,상기 마스킹부는,설정된 관심영역 내 위치하는 얼굴 또는 객체의 얼굴에 대해서만 마스킹을 진행하거나, 각 검출부에 의해 검출된 얼굴 또는 객체의 얼굴에 마스킹을 진행하는 동시에 설정된 관심영역의 모든 부분을 마스킹하거나, 각 검출부에 의해 검출된 얼굴 또는 객체의 얼굴 중 관심영역 내 위치하는 대상에 대해서는 마스킹을 해제하는 것을 특징으로 하는 영상 감시장치."}
{"patent_id": "10-2022-0142482", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "공개특허 10-2023-0168103-3-사생활을 보호하며 주변을 촬영하는 영상 감시장치에 있어서,촬영부;상기 촬영부가 촬영한 영상 내에서 대상을 검출하는 대상 검출부;상기 대상 검출부에 의해 검출된 대상의 얼굴부위에 마스킹을 진행하는 마스킹부; 외부로부터 영상 내 특정 영역에 대한 좌표 및 마스킹 여부를 입력받아 관심영역으로 설정하는 관심영역설정부; 및상기 촬영부가 촬영한 영상 및 상기 마스킹부가 마스킹한 영상을 외부로 전송하는 통신부를 포함하는 것을 특징으로 하는 영상 감시장치."}
{"patent_id": "10-2022-0142482", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서,상기 촬영부가 촬영한 영상의 색상을 흑백으로 변환하는 이미지 색상 변환부를 더 포함하는 것을 특징으로 하는영상 감시장치."}
{"patent_id": "10-2022-0142482", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7항에 있어서,상기 이미지 색상 변환부에 의해 흑백으로 변환된 영상의 명암값을 균등화시키는 명암값 균등화부를 더 포함하는 것을 특징으로 하는 영상 감시장치."}
{"patent_id": "10-2022-0142482", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제1항 내지 제8항 중 어느 한 항의 영상 감시장치;상기 영상 감시장치로부터 촬영 원본 영상 및 마스킹한 영상을 저장하는 영상 저장장치; 및상기 영상 감시장치가 촬영한 영상 내 특정인의 마스킹을 해제하여 외부로 제공하는 영상 처리장치를 포함하는 것을 특징으로 하는 영상 감시 시스템."}
{"patent_id": "10-2022-0142482", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서,상기 영상 저장장치는,NVR(Network Video Recorder)인 것을 특징으로 하는 영상 감시 시스템."}
{"patent_id": "10-2022-0142482", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "실시간으로 개인정보를 비식별화할 수 있는 인공지능 영상 감시장치를 개시한다. 본 실시예의 일 측면에 의하면, 사생활을 보호하며 주변을 촬영하는 영상 감시장치에 있어서, 촬영부와 상기 촬 영부가 촬영한 영상 내에서 객체을 검출하는 객체 검출부와 상기 촬영부가 촬영한 영상 내에서 얼굴을 검출하는 얼굴 검출부와 각 검출부가 검출한 결과를 수신하여, 얼굴 또는 객체의 얼굴에 마스킹을 진행하는 마스킹부 및 상기 촬영부의 촬영영상 및 상기 마스킹부가 마스킹한 마스킹영상을 외부로 전송하는 통신부를 포함하는 것을 특 징으로 하는 영상 감시장치를 제공한다."}
{"patent_id": "10-2022-0142482", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 실시예는 실시간으로 촬영되는 영상 내 개개인의 개인정보를 선택적으로 비식별화할 수 있는 인공지능 영상 감시장치에 관한 것이다."}
{"patent_id": "10-2022-0142482", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "이 부분에 기술된 내용은 단순히 본 실시예에 대한 배경 정보를 제공할 뿐 종래기술을 구성하는 것은 아니다. 근래 치안 및 시설보호뿐 아니라 각종 범죄의 예방과 해결을 위해, CCTV를 이용한 보안 시스템이 많이 증가하고 있으며, 특정 분야나 장소에서는 이러한 영상감시 장비를 필수적으로 설치하도록 법제화되고 있다. 또한, 이러한 CCTV는 네트워크 통신 발달로 인해 원격에서의 제어, 감시가 쉬워지고 있으며, 영상감시의 중요성 과 적용 범위가 지속적으로 늘어남에 따라 이의 보안에 대한 관심도 높아지고 있다. 실제 최근 인터넷에 연결된 가정용 CCTV가 다량으로 해킹되는 사태가 적지않게 발생하고 있으며, 현재 CCTV가 별다른 규제 없이 누구나 필요에 따라 구축해 활용할 수 있음에 따라 불특정 다수를 대상으로 영상을 수집하는 과정에서 발생할 수 있는 사생활 침해 및 개인정보의 유출에 대한 문제도 끊이지 않고 제기되고 있다. 특히, 녹화된 영상정보를 관리함에 있어서 CCTV를 설치, 운용하는 주체가 일방적인 권한을 갖게 되는 실정에서 수사기관이나 범죄 피해자 등 외부인에 의한 영상요구시 명확한 기준이 없이 제공 또는 거부가 이루어질 수밖에 없으며, 통상적인 로그인을 포함하는 인증과정을 거쳐 영상 서버에 접근하여 영상을 확인하도록 되어 있어 보안 성 취약점이 있다. 이에 따라, 근래에는 단순히 보안을 위해 CCTV를 설치하는 것 뿐만 아니라, CCTV가 촬영한 영상 내 개인정보를 보안화하는 것까지 함께 수반되어야 한다. 종래에는 1차적으로 CCTV가 특정 영역 내에서 촬영을 진행하였으며, 별도의 서버에서 CCTV가 촬영한 영상을 수신하여 개인정보를 비식별화하는 후처리를 진행해왔다. 그러나 CCTV가 촬영한 후 서버로 전송하기까지의 기간 동안은 촬영한 영상이 외부에 무방비로 노출되기 때문에, 종래에는 온전 히 개인정보를 보안화하는 것에 대한 취약점이 존재했다."}
{"patent_id": "10-2022-0142482", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 일 실시예는, 영상 내 등장하는 인물의 얼굴 또는 개인정보를 실시간성을 가지면서도 선택적으로 마 스킹하여 사생활 보호를 수행하는 인공지능 영상 감시장치를 제공하는 데 일 목적이 있다."}
{"patent_id": "10-2022-0142482", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 실시예의 일 측면에 의하면, 사생활을 보호하며 주변을 촬영하는 영상 감시장치에 있어서, 촬영부와 상기 촬 영부가 촬영한 영상 내에서 객체을 검출하는 객체 검출부와 상기 촬영부가 촬영한 영상 내에서 얼굴을 검출하는 얼굴 검출부와 각 검출부가 검출한 결과를 수신하여, 얼굴 또는 객체의 얼굴에 마스킹을 진행하는 마스킹부와 외부로부터 영상 내 특정 영역에 대한 좌표 및 마스킹 여부를 입력받아 관심영역으로 설정하는 관심영역 설정부 및 상기 촬영부의 촬영영상 및 상기 마스킹부가 마스킹한 마스킹영상을 외부로 전송하는 통신부를 포함하는 것 을 특징으로 하는 영상 감시장치를 제공한다. 본 실시예의 일 측면에 의하면, 상기 관심영역 설정부는 외부로부터 기 설정된 영역의 좌표와 함께 상기 기 설 정된 영역에 대해서는 무조건 마스킹을 진행하라는 취지의 입력을 받아 관심영역을 설정하는 것을 특징으로 한 다. 본 실시예의 일 측면에 의하면, 상기 관심영역 설정부는 외부로부터 기 설정된 영역의 좌표와 함께 기 설정된 영역으로 진입하는 대상에 대해서만 마스킹을 진행하라는 취지의 입력을 받아 관심영역을 설정하는 것을 특징으 로 한다. 본 실시예의 일 측면에 의하면, 상기 관심영역 설정부는 외부로부터 기 설정된 영역의 좌표와 함께 기 설정된 영역으로 진입하는 대상에 대해서는 마스킹을 해제하라는 취지의 입력을 받아 관심영역을 설정하는 것을 특징으 로 한다. 본 실시예의 일 측면에 의하면, 상기 마스킹부는 설정된 관심영역 내 위치하는 얼굴 또는 객체의 얼굴에 대해서 만 마스킹을 진행하거나, 각 검출부에 의해 검출된 얼굴 또는 객체의 얼굴에 마스킹을 진행하는 동시에 설정된 관심영역의 모든 부분을 마스킹하거나, 각 검출부에 의해 검출된 얼굴 또는 객체의 얼굴 중 관심영역 내 위치하 는 대상에 대해서는 마스킹을 해제하는 것을 특징으로 한다. 본 실시예의 일 측면에 의하면, 사생활을 보호하며 주변을 촬영하는 영상 감시장치에 있어서, 촬영부와 상기 촬 영부가 촬영한 영상 내에서 대상을 검출하는 대상 검출부와 상기 대상 검출부에 의해 검출된 대상의 얼굴부위에 마스킹을 진행하는 마스킹부와 외부로부터 영상 내 특정 영역에 대한 좌표 및 마스킹 여부를 입력받아 관심영역 으로 설정하는 관심영역 설정부 및 상기 촬영부가 촬영한 영상 및 상기 마스킹부가 마스킹한 영상을 외부로 전 송하는 통신부를 포함하는 것을 특징으로 하는 영상 감시장치를 제공한다. 본 실시예의 일 측면에 의하면, 상기 영상 감시장치는 상기 촬영부가 촬영한 영상의 색상을 흑백으로 변환하는 이미지 색상 변환부를 더 포함하는 것을 특징으로 한다. 본 실시예의 일 측면에 의하면, 상기 영상 감시장치는 상기 이미지 색상 변환부에 의해 흑백으로 변환된 영상의 명암값을 균등화시키는 명암값 균등화부를 더 포함하는 것을 특징으로 한다.본 실시예의 일 측면에 의하면, 상기 영상 감시장치와 상기 영상 감시장치로부터 촬영 원본 영상 및 마스킹한 영상을 저장하는 영상 저장장치 및 상기 영상 감시장치가 촬영한 영상 내 특정인의 마스킹을 해제하여 외부로 제공하는 영상 처리장치를 포함하는 것을 특징으로 하는 영상 감시 시스템을 제공한다. 본 실시예의 일 측면에 의하면, 상기 영상 저장장치는 NVR(Network Video Recorder)인 것을 특징으로 한다."}
{"patent_id": "10-2022-0142482", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "이상에서 설명한 바와 같이 본 실시예의 일 측면에 따르면, 영상 내 등장하는 인물의 얼굴 또는 개인정보를 실 시간성을 가지면서도 선택적으로 마스킹하여 사생활 보호를 수행할 수 있는 장점이 있다."}
{"patent_id": "10-2022-0142482", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명은 다양한 변경을 가할 수 있고 여러 가지 실시 예를 가질 수 있는 바, 특정 실시 예들을 도면에 예시하 고 상세하게 설명하고자 한다. 그러나, 이는 본 발명을 특정한 실시 형태에 대해 한정하려는 것이 아니며, 본 발명의 사상 및 기술 범위에 포함되는 모든 변경, 균등물 내지 대체물을 포함하는 것으로 이해되어야 한다. 각 도면을 설명하면서 유사한 참조부호를 유사한 구성요소에 대해 사용하였다. 제1, 제2, A, B 등의 용어는 다양한 구성요소들을 설명하는데 사용될 수 있지만, 상기 구성요소들은 상기 용어 들에 의해 한정되어서는 안 된다. 상기 용어들은 하나의 구성요소를 다른 구성요소로부터 구별하는 목적으로만 사용된다. 예를 들어, 본 발명의 권리 범위를 벗어나지 않으면서 제1 구성요소는 제2 구성요소로 명명될 수 있 고, 유사하게 제2 구성요소도 제1 구성요소로 명명될 수 있다. 및/또는 이라는 용어는 복수의 관련된 기재된 항 목들의 조합 또는 복수의 관련된 기재된 항목들 중의 어느 항목을 포함한다. 어떤 구성요소가 다른 구성요소에 \"연결되어\" 있다거나 \"접속되어\" 있다고 언급된 때에는, 그 다른 구성요소에 직접적으로 연결되어 있거나 또는 접속되어 있을 수도 있지만, 중간에 다른 구성요소가 존재할 수도 있다고 이 해되어야 할 것이다. 반면에, 어떤 구성요소가 다른 구성요소에 \"직접 연결되어\" 있다거나 \"직접 접속되어\" 있 다고 언급된 때에서, 중간에 다른 구성요소가 존재하지 않는 것으로 이해되어야 할 것이다. 본 출원에서 사용한 용어는 단지 특정한 실시 예를 설명하기 위해 사용된 것으로, 본 발명을 한정하려는 의도가 아니다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 출원에서 \"포함하 다\" 또는 \"가지다\" 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조합 한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 다르게 정의되지 않는 한, 기술적이거나 과학적인 용어를 포함해서 여기서 사용되는 모든 용어들은 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에 의해서 일반적으로 이해되는 것과 동일한 의미를 가지고 있다. 일반적으로 사용되는 사전에 정의되어 있는 것과 같은 용어들은 관련 기술의 문맥 상 가지는 의미와 일치하는 의미를 가지는 것으로 해석되어야 하며, 본 출원에서 명백하게 정의하지 않는 한, 이상적이거나 과도하게 형식 적인 의미로 해석되지 않는다. 또한, 본 발명의 각 실시예에 포함된 각 구성, 과정, 공정 또는 방법 등은 기술적으로 상호간 모순되지 않는 범 위 내에서 공유될 수 있다.도 1은 본 발명의 일 실시예에 따른 영상 감시 시스템을 도시한 도면이다. 도 1을 참조하면, 본 발명의 일 실시예에 따른 영상 감시 시스템은 영상 감시장치, 영상 저장장치 및 영상 처리장치를 포함한다. 영상 감시 시스템은 보안, 감시 또는 증거수집 등의 목적으로 다양한 장소(이하에서, '촬영장소'라 약칭함)를 촬영하며, 영상 내에서 인물의 얼굴을 실시간으로 마스킹하여 개개인들의 사생활을 보호할 수 있도록 한 시스템이다. 영상 감시장치는 촬영장소에 설치되어 일정 반경 내를 촬영하는 동시에, 촬영한 영상 내 객체 또는 객체의 얼굴을 인식하여, 객체 내 얼굴 또는 인식한 얼굴부위를 마스킹한다. 영상 감시장치의 대표적인 예로는 CCTV가 있으며, 다양한 상황에서의 증거확보 등의 목적에 의해 설치되어, 자신의 주변을 지속적으로 촬영한다. 이때, 영상 감시장치는 촬영하고 있는 영상 내에서 실시간으로 객체나 (객체의) 얼굴을 인식하여, 객체 내 얼굴 또는 인식한 얼굴부위를 실시간으로 마스킹하여 별도의 장치에서 후처리를 진행하도록 하지 않을 수 있다. 영상 감시장치는 영상 내에서 인식한 (객체의) 얼굴을 메타데이터화하며, 원본 영상, 마스킹한 영상 및 메 타데이터를 영상 저장장치로 전송한다. 영상 감시장치에 대한 보다 구체적인 설명은 도 2를 참조하여 후술한다. 영상 저장장치는 영상 감시장치로부터 수신한 촬영 원본 영상, 마스킹한 영상 및 메타 데이터를 저장 한다. 영상 저장장치는 영상 감시장치와 로컬영역 연결을 수행하며, 영상 감시장치가 촬영한 원 본 영상, 실시간으로 객체의 얼굴부위를 마스킹한 마스킹영상 및 인식한 얼굴에 대한 메타데이터를 수신하여 저 장한다. 영상 저장장치는 영상 감시장치로부터 기 설정된 반경 내 위치할 수 있으며, 영상 및 메타데 이터의 저장을 위해 보안요소를 포함할 수 있다. 영상 저장장치는 NVR(Network Video Recorder) 등으로 구 현될 수 있다. 영상 처리장치는 영상 저장장치와 통신하며 영상 저장장치 내 저장된 영상을 시청하거나 조작하 고, 특정인의 마스킹을 해제하여 외부로 제공한다. 영상 처리장치 역시, 영상 감시장치 및 영상 저장장치와 로컬영역 내에서 로컬영역 연결될 수 있다. 또는, 영상 처리장치는 외부의 공간에서 영상 저장장치와 VPN(Virtual Private Network)으로 연결될 수 있다. 이에 따라, 영상 처리장치는 보안을 유지한 채 영상 저장장치 내 저장된 영상으로 접근할 수 있다. 이에, 영상 처리장치는 영상 저장장치 내 저장된 영상을 시청하거나, 영상을 조작할 수 있다. 영상 처리징치는 외부로부터 특정인에 대한 마스킹 해제 요청을 입력받을 수 있으며, 해당인의 마스킹을 해제하여 해당 영상을 외부로 제공한다. 범죄자에 대한 증거확보 등의 목적에 의해, 외부에서 영상 처리장치 로 특정인의 영상이 요청될 수 있다. 이에, 영상 처리장치는 외부로부터 특정인의 이미지 또는 메타 데이터를 수신할 수 있으며, 수신된 특정인의 이미지로부터 특정인의 얼굴에 대한 메타 데이터를 분석한다. 영 상 처리장치는 영상 내 특정인의 메타 데이터를 검색하여, 영상 내에 특정인이 등장하는지 여부를 판단한 다. 영상 내 특정인이 등장할 경우, 영상 처리장치는 해당 인물의 마스킹을 해제하여 외부로 제공한다. 영 상 처리장치의 구체적인 구성은 도 3을 참조하여 후술한다. 도 1에는 영상 감시 시스템 내 영상 저장장치가 포함된 것으로 도시되어 있으나, 반드시 이에 한정되 는 것은 아니다. 영상 저장장치 없이, 영상 감시장치와 영상 처리장치가 VPN으로 연결되며 영상 및 데이터를 직접 송수신할 수 있다. 도 2는 본 발명의 제1 실시예에 따른 영상 감시장치의 구성을 도시한 도면이다. 도 2를 참조하면, 본 발명의 제1 실시예에 따른 영상 감시장치는 촬영부, 대상 검출부, 마스킹 부, 관심영역 설정부, 통신부, 이미지 색상 변환부, 명암값 균등화부, 픽셀값 변화도 산출부, 얼굴 이미지 인식부 및 제어부를 포함한다. 나아가, 영상 감시장치는 모니터링부 를 더 포함할 수 있다. 촬영부는 설치된 장소에서 자신이 촬영할 수 있는 범위 내를 지속적으로 촬영한다. 촬영부는 고정된 상태에서 지속적으로 일정 범위를 촬영할 수도 있으며, 회전하며 지속적으로 일정 범위를 촬영할 수도 있다. 대상 검출부는 촬영부가 촬영한 영상 내에서 검출 대상을 검출한다. 검출 대상은 객체일 수도 있고, 객체의 얼굴일 수도 있다. 대상 검출부는 신속한 대상 검출을 위해, 객체를 검출하는 알고리즘 및 객체의 얼굴을 검출하는 알고리즘 모두를 이용할 수 있다. 또는, 대상 검출부는 마스킹부에 의해 선택된 어 느 하나의 알고리즘을 이용할 수 있다. 즉, 대상 검출부는 양 알고리즘을 모두 동작시키며 우선하여 검출 된 대상을 검출할 수 있고, 어느 하나의 알고리즘을 이용하여 객체 또는 객체의 얼굴만을 검출할 수도 있다. 대상 검출부는 다음의 과정으로 객체를 검출할 수 있다. 대상 검출부는 영상 내에서 픽셀값의 변화를 토대로 객체를 검출한다. 사람의 경우, 움직임은 반드시 존재하게 된다. 이동하는 것 뿐만 아니라 앉아있거나 가만히 서 있는 경우라도, 눈꺼풀 등 신체 일부라도 움직임은 반드시 존재하게 된다. 대상 검출부는 영상 (특정 시간 대의 프레임과 해당 시간 이후의 프레임 간)에 있어, 특정 객체에 픽셀값의 변화가 존재하는지 여부 로 1차적으로 객체를 검출한다. 다만, 영상 내에서 픽셀값의 변화가 존재한다고 객체가 모두 사람이라는 보장은 존재하지 않는다. 예를 들어, 식물이 바람에 의해 움직이는 경우도 존재할 수 있고, 동물일 수도 있다. 이에, 대상 검출부는 검출한 객 체의 픽셀값의 분포를 추가적으로 확인한다. 통상적으로, 인간의 픽셀분포는 인종, 연령 성별에 무관하게 일정 한 경향성을 가지며, 이는 명백하게 식물 및 동물과 차이를 갖는다. 이에 따라, 대상 검출부는 픽셀값의 변화가 일부라도 존재하는지 여부 및 픽셀값의 분포가 사람의 형태를 갖는지 여부로 객체를 검출한다. 이때, 대상 검출부는 영상 내에서 사람의 픽셀값을 입력값으로 하고, 영상 내 객체가 사람인지 여부를 출 력값으로 하여 기 설정된 학습모델로 학습한 학습모델을 이용하여 사람인지 여부를 검출할 수 있다. 대표적인 학습모델의 예로서, CNN(Convolutional Neural Networks)이 이용될 수 있다. CNN은 전술한 입력값과 출력값을 토대로 다양한 이미지에 대해 학습을 진행한다. 대상 검출부는 학습된 학습모델을 이용하여, 픽셀값의 분 포를 토대로 검출된 객체가 사람인지 여부를 추론(Inference)할 수 있다. 대상 검출부는 다음의 과정으로 객체의 얼굴을 직접 검출할 수 있다. 입력값을 이미지 또는 영상으로, 출 력값을 영상 내 객체의 얼굴로 하여, 수많은 학습 데이터를 CNN 등의 학습모델로 학습이 진행될 수 있다. 대상 검출부는 이처럼 학습이 진행된 인공지능 모델 또는 머신러닝 모델을 포함하여, 영상 내에서 객체의 얼굴 을 직접 검출할 수 있다. 추가적으로, 대상 검출부는 대상을 검출한 후, 해당 대상의 픽셀의 변화를 분석하여 대상의 움직임을 분석 할 수 있다. 대상 검출부는 검출한 대상에 대해 픽셀값의 변화를 벡터로서 분석할 수 있다. 대상 검출부 는 검출한 대상 내에서 특정 픽셀이 단위 시간 동안 얼마만큼 이동하였는지를 토대로 대상의 속도를 분석 할 수 있다. 대상 검출부는 분석한 대상의 속도를 마스킹부로 전달할수 있다. 마스킹부는 대상 검출부의 검출결과로부터 검출된 객체 또는 검출된 객체의 얼굴에 마스킹을 수행한 다. 마스킹부는 신속성을 확보하기 위해 대상 검출부가 우선하여 검출한 대상에 대해 마스킹을 수행 할 수도 있다. 또는, 마스킹부는 편의성을 향상시기 위해 대상 검출부가 객체 또는 객체의 얼굴 중 어느 하나를 선택적으로 검출하도록 할 수 있으며, 대상 검출부가 검출한 대상에 마스킹을 수행할 수 있다. 마스킹부는 대상 검출부가 검출한 객체에 마스킹을 수행한다. 이때, 객체가 우선하여 검출된 경우, 마스킹부는 신속한 마스킹을 진행하기 위해 객체 내 얼굴을 인식하여 얼굴에만 마스킹을 수행하는 것이 아 니라, 검출된 객체의 머리방향의 끝단에 대해 기 설정된 면적 만큼을 마스킹한다. 여기서, 기 설정된 면적은 검 출된 객체의 전체 길이의 기 설정된 비율만큼의 길이 및 검출된 객체의 폭과 동일하거나 그보다 큰 폭의 곱으로 결정된다. 예를 들어, 인간의 신장과 머리의 크기간 비율을 고려하여, 마스킹부는 검출된 객체의 전체 길 이의 1/10 내지 1/6 에 해당하는 길이와 검출된 객체의 폭과 동일하거나 그보다 큰 폭을 갖는 마스킹 영역을 형 성하여, 검출된 객체의 머리방향의 끝단에 배치시킨다. 이에 따라, 마스킹부는 실시간 성을 확보하면서도 모든 객체의 얼굴에 마스킹을 진행할 수 있다. 영상 내 모든 객체들의 머리(얼굴) 부위에 마스킹이 진행된다. 이때, 마스킹을 무분별하게 객체의 비율만큼 수행할 경우, 다음과 같은 문제가 발생할 수 있다. 예를 들어, 앉 아있는 성인과 서있는 아이는 전체 (높이방향으로의) 길이는 유사할 수 있다. 그러나 성인과 아이의 머리의 크 기는 상이하기 때문에, 무작정 비율대로 마스킹 영역을 형성할 경우, 앉아있는 성인의 머리에는 온전히 마스킹 이 진행되지 못할 수 있다. 이에 따라, 마스킹부는 검출된 객체의 높이 방향으로의 길이가 기 설정된 기준 치를 초과하는지 여부를 판단한다. 여기서, 기 설정된 기준치는 성인 남성의 앉은키의 평균치일 수 있다. 검출 된 객체의 높이 방향으로의 길이가 기 설정된 기준치를 초과하는 경우, 마스킹부는 객체를 전체 길이의 기 설정된 비율만큼 마스킹한다. 반대로, 검출된 객체의 높이 방향으로의 길이가 기 설정된 기준치를 초과하지 않는 경우, 마스킹부는 기 설정된 비율보다 큰 비율로서 객체를 마스킹한다. 예를 들어, 기 설정된 비율이 검출된 객체의 전체 길이의 1/10 내지 1/6일 경우, 마스킹부는 전술한 상황에서 객체의 전체 길이의 1/4 내지 1/2만큼 마스킹을 수행한다. 이에 따라, 마스킹부는 어떠한 상황이나 자세에 있는 객체라도 온전히 머리(얼굴)를 마스킹할 수 있다. 한편, 마스킹부는 검출된 객체의 얼굴을 마스킹한다. 마스킹부는 검출된 객체의 얼굴과 동일한 면적 만큼을 마스킹하는 것이 아니라, 기 설정된 면적을 갖는 마스킹 박스를 객체의 얼굴에 씌우는 형태로 마스킹을 진행한다. 기 설정된 면적은 통상적으로 사람이 가질 수 있는 얼굴의 크기에 기 설정된 비율 이상 큰 면적을 의 미한다. 이처럼, 마스킹부는 실시간성을 확보하고자, 검출된 객체의 얼굴에 기 설정된 면적을 갖는 마스킹 박스를 씌움으로써 객체의 얼굴에 마스킹을 진행한다. 마스킹부는 후술할 관심영역 설정부에 의해 설정된 관심영역 내의 객체에 대해서만 마스킹을 진행하 거나, 관심영역 내의 객체에 대해서는 마스킹을 해제할 수 있다. 관심영역 설정부에 의해 관심영역이 설정 되면, 마스킹을 진행함에 있어 마스킹부는 대상 검출부에 의해 검출된 모든 객체 또는 검출된 객체의 얼굴 중 관심영역 내에 위치하는 대상에 대해서만 마스킹을 진행할 수 있다. 또는 마스킹부는 대상 검출부 에 의해 검출된 모든 객체 또는 검출된 객체의 얼굴에 대해 마스킹을 진행하는 동시에, 그와 함께 관심영 역의 모든 부분에 대해 마스킹을 진행할 수 있다. 한편, 관심영역 설정부에 의해 관심영역이 설정되면, 대 상 검출부에 의해 검출된 모든 객체 또는 검출된 객체의 얼굴 중 관심영역 내에 위치하는 대상에 대해서는 마스킹을 해제할 수 있다. 이에 따라, 관리자는 편의에 따라 특정 영역에 대해 마스킹을 추가하거나, 해당 영역 에 대애서만 마스킹을 진행하거나 마스킹을 해제할 수 있다 경우에 따라, 마스킹부는 이미지 저장부 내 저장된 메타 이미지 중 어느 하나에 대해 마스킹을 해제 할 수 있다. 마스킹부는 대상 검출부로부터 수신한 대상의 속도 정보를 토대로, 대상의 이동경로를 예측하여 대상 을 지속적으로 마스킹할 수 있다. 대상의 속도에 따라 대상의 이동경로가 예측될 수 있다. 이에, 마스킹부(22 0)는 객체의 움직임에 따라 마스킹 영역을 함께 이동시키며, 지속적으로 각 대상들을 영상 내에서 마스킹할 수 있다. 관심영역 설정부는 외부로부터 영상 내 특정 영역에 대한 좌표 및 마스킹 여부를 입력받아 관심영역으로 설정한다. 관심영역 설정부는 외부로부터 특정 영역의 좌표와 함께 특정 영역에 대해서는 무조건 마스킹을 진행하라는 취지의 입력, 특정 영역의 좌표와 함께 특정 영역으로 진입하는 대상에 대해서만 마스킹을 진행하라 는 취지의 입력 또는 특정 영역의 좌표와 함께 특정 영역으로 진입하는 대상에 대해서는 마스킹을 해제하라는 취지의 입력을 인가받을 수 있다. 전술한 입력을 인가받으면, 관심영역 설정부는 입력에 따라 마스킹부 가 동작할 수 있도록 해당 영역을 관심영역으로 설정한다. 관심영역 설정부는 관심영역으로 설정한 후 마스킹 여부함께 설정된 좌표를 마스킹부로 전달함으로서, 마스킹부가 전술한 동작을 수행할 수 있도록 한다. 통신부는 촬영부의 촬영영상, 마스킹부의 마스킹영상 및 후술할 얼굴 이미지 인식부에서 인식된 얼굴의 메타 데이터를 영상 저장장치로 전송한다. 이미지 색상 변환부는 원본 영상의 색상을 흑백으로 변환한다. 이미지 처리에 있어 컬러 영샹은 과도하게 많은 용량을 차지할 수 있다. 이러한 문제를 해소하고자, 이미지 색상 변환부는 원본 영상의 색상을 흑백 으로 변환한다. 명암값 균등화부는 흑백으로 변환된 이미지의 명암값(밝기값)을 균등화시킨다. 경우에 따라, 이미지는 이 미지 자체로서 상대적으로 (명암에 있어) 어두울 수도 있고, 상대적으로 밝을 수도 있다. 추후, 이미지 내 얼굴 ID의 비교 과정에 있어 결과가 보다 정확해질 수 있도록, 명암값 균등화부는 흑백으로 변환된 이미지의 명암값 을 균등화시킨다. 이에 따라, 모든 영상의 명암값이 일정할 수 있도록 한다. 픽셀값 변화도 산출부는 이미지 내 픽셀값의 변화도를 산출한다. 객체(사람)의 얼굴 윤곽이나 이목구비의 형태에 따라 이미지 내에서 픽셀값의 변화는 달라진다. 픽셀값 변화도 산출부는 명암값이 균등해진 이미지 내 픽셀값의 변화도를 산출한다. 이때, 픽셀값 변화도 산출부는 이미지를 블록별로 분해할 수 있으며, 블록별 픽셀값 변화도를 산출할 수 있다. 픽셀값 변화도 산출부는 각 블록별, 특히, 인접한 블록 별 픽셀값 변화도가 어떠한지를 분석한다. 얼굴 이미지 인식부는 이미지 내 블록 별 픽셀값 변화도를 토대로 각 개개인의 얼굴을 인식하여, 이들에 각각 얼굴 ID를 부여한다. 얼굴 이미지 인식부는 이미지 내 블록 별 픽셀값 변화도를 객체(사람)에서 얼굴의 위치를 인식할 수 있다. 얼굴 이미지 인식부는 이미지 내 각 객체들에 있어 얼굴을 인식하여, 이들 각각의 얼굴에 서로 다른 ID를 부여한다. 얼굴 이미지 인식부는 개개인의 서로 다른 얼굴에 서로 다른 ID를 부여함에 따라, 특정인의 얼 굴을 ID로 식별하고 관리할 수 있도록 한다. 이때, 얼굴 이미지 인식부는 관리의 용이성 및 영상에서의 검색을 원활히 하기 위해, 얼굴 이미지를 메타 데이터화할 수 있다. 얼굴 이미지 인식부는 이미지 내 각 블록별 픽셀값 변화 등 객체의 이미지 내 다양한 파라미터를 이용하여, 각 얼굴 이미지에 대해 특정 얼굴 ID임을 인식하고 검출할 수 있도록 하는 메타 데이터를 생성한다. 영상 감시장치는 전술한 바와 같이, 어차피 얼굴 이미지를 인식함에 있어 흑백으로 변환된 이미지 내에서 이를 인식한다. 이에 따라, 영상 감시장치는 태양광 또는 조명이 비추는 상황에서는 보다 원활히 객체 또 는 객체의 얼굴을 검출할 수 있으나, 밤 또는 새벽시간과 같이 태양광 및 조명이 비추는 상황이 아니더라도 어 려움없이 객체 또는 객체의 얼굴을 검출할 수 있다. 이미지 저장부는 얼굴 이미지 인식부가 인식한 메타 데이터를 저장한다. 제어부는 각 구성의 전술한 동작을 제어한다. 제어부는 원본 영상, 마스킹된 영상 및 메타 데이터를 영상 저장장치로 전송하도록 통신부를 제 어함에 있어, 원본 영상, 마스킹된 영상 및 메타 데이터를 암호화하여 전송할 수 있다. 영상 저장장치는 암호화된 데이터들을 암호화된 채로 저장해둘 수 있으며, 영상 처리장치가 영상의 시청 또는 조작을 위해 접근하는 경우 복호화를 진행할 수 있다. 또한, 제어부는 관심영역 설정부가 관심영역의 좌표 및 마스킹 여부에 대한 입력을 수신하는 경우, 입력에 따라 마스킹 또는 마스킹 해제를 진행하도록 마스킹부를 제어한다. 제어부는 관심영역 설정부 가 전술한 입력을 수신하면, 수신된 입력을 마스킹부로 전달하며 수신된 입력에 따라 마스킹부 가 (추가로) 동작하도록 제어한다. 모니터링부는 제어부의 제어를 받아 원본 영상 또는 마스킹된 영상을 출력한다. 모니터링부는 관계자 등이 촬영부가 촬영한 영상 또는 마스킹부에 의해 마스킹된 영상을 현장에서 볼 수 있도록 한 다. 도 3은 본 발명의 일 실시예에 따른 영상 처리장치의 구성을 도시한 도면이다. 도 3을 참조하면, 본 발명의 일 실시예에 따른 영상 처리장치는 통신부, 메모리부, 입력부 , 마스킹 해제부 및 제어부를 포함한다. 나아가, 영상 처리장치는 모니터링부를 더 포함할 수 있다. 통신부는 영상 저장장치와 VPN 통신하며, 영상 저장장치에 저장된 영상으로 접근하거나 영상을 수신한다. 또한, 통신부는 영상 저장장치 내 저장된 메타 데이터를 수신한다. 통신부는 마스킹 해제부에 의해 마스킹이 해제된 영상을 외부로 전송한다, 메모리부는 통신부가 영상 저장장치로부터 영상 및 메타 데이터를 수신하는 경우, 이를 저장한 다. 입력부는 외부로부터 마스킹 해제를 위한 특정인의 이미지 또는 메타 데이터를 입력 받는다. 입력부 는 주로 마스킹 해제를 위한 특정인의 메타 데이터를 입력받으며, 입력받은 메타 데이터를 마스킹 해제부 로 전달한다. 마스킹 해제부는 입력부에서 입력된 특정인의 마스킹을 해제한다. 마스킹 해제부는 외부로부터 수신한 특정인의 메타 데이터를 메모리부 내 저장된, 영상 내 등장하는 각 사람들의 메타 데이터와 비교한 다. 해당 특정인이 영상 내 등장하는지를 확인하기 위해, 마스킹 해제부는 해당 특정인의 메타 데이터와 메모리부 내 저장된 각 객체(사람)들의 메타 데이터를 비교한다. 메모리부 내 해당 특정인의 메타 데 이터가 저장되어 있다는 것은, 영상 내에 해당 특정인이 등장함을 의미한다. 이에, 마스킹 해제부는 비교결과를 토대로 해당 특정인이 영상 내 등장하는지 여부를 판단한다. 마스킹 해제부는 비교 결과를 토대로, 영상 내에서 해당 특정인의 마스킹을 해제한다. 마스킹 해제부의 영상 내 특정인의 마스킹 해제는 특정인 의 마스킹만을 해제함으로써 진행될 수 있고, 원본 영상 내에서 특정인을 제외한 나머지 모든 인물을 마스킹함 으로써 진행될 수도 있다. 제어부는 영상 처리장치 내 각 구성의 동작을 제어한다. 모니터링부는 제어부의 제어를 받아 원본 영상 또는 마스킹된 영상을 출력할 수 있다. 도 4는 본 발명의 일 실시예에 따른 영상 감시장치가 실시간으로 마스킹하는 방법을 도시한 순서도이다. 대상 검출부는 촬영부가 촬영한 영상 내에서 대상을 검출한다(S410). 마스킹부는 우선하여 검출된 대상이 객체인지 여부를 판단한다(S420). 우선하여 검출된 대상이 객체인 경우, 마스킹부는 객체의 일 끝단으로부터 기 설정된 면적만큼을 마스킹한 다(S430). 우선하여 검출된 대상이 객체의 얼굴인 경우, 마스킹부는 검출된 얼굴을 기 설정된 면적을 갖는 마스킹 박 스로 마스킹한다(S440). 대상 검출부는 검출된 대상이 움직이고 있는지 여부를 판단한다(S450). 대상 검출부는 픽셀 변화를 판단하여 대상의 속도를 판단한다(S460). 마스킹부는 판단된 속도를 토대로, 마스킹 영역을 이동시킨다(S470). 이때, 마스킹부는 마스킹 영역 의 면적을 의도적으로 증가시킬 수 있다. 통신부는 마스킹된 영상 및 원본 영상을 영상 저장장치로 송부한다(S480). 다만, 검출된 대상이 객체인지 여부 판단(S420)없이, 마스킹부는 객체 및 객체의 얼굴 중 어느 하나를 선 택하여, 선택된 대상에 대해 마스킹(S430 과정 또는 S440 과정)을 바로 수행할 수 있다. 도 5는 본 발명의 일 실시예에 따른 영상 처리장치가 영상 내 얼굴을 인식하는 방법을 도시한 순서도이다. 대상 검출부는 원본 영상 내에서 대상을 검출한다(S510). 이미지 색상 변환부는 영상의 색상을 흑백으로 변환한다(S520). 명암값 균등화부는 변환된 이미지의 명암값을 균등화한다(S530). 픽셀값 변화도 산출부는 균등화된 이미지를 블록별로 분해하여 블록별 픽셀값 변화도를 산출한다(S540). 얼굴 이미지 인식부는 산출된 값을 토대로 개개인의 얼굴을 인식하며 메타데이터화한다(S550). 도 6은 본 발명의 일 실시예에 따른 영상 처리장치가 영상 내에서 특정 인물에 수행된 마스킹을 해제하는 방법 을 도시한 순서도이다. 입력부는 마스킹 해제를 위한 인물의 메타데이터를 입력받는다(S610). 마스킹 해제부는 저장된 메타데이터 내 입력받은 인물의 메타데이터가 존재하는지 여부를 판단한다(S620). 저장된 메타데이터 내 입력받은 인물의 메타데이터가 존재하는 경우, 마스킹 해제부는 저장된 마스킹 영상 내 해당 인물의 메타데이터를 검색한다(S630). 마스킹 해제부는 해당 인물의 마스킹을 해제한다(S640). 통신부는 해당 인물의 마스킹이 해제된 마스킹 영상을 송부한다(S650). 도 7은 본 발명의 제2 실시예에 따른 영상 감시장치의 구성을 도시한 도면이다. 도 7을 참조하면, 본 발명의 제2 실시예에 따른 영상 감시장치는 본 발명의 제1 실시예에 따른 영상 감시 장치 내 구성에서 대상 검출부 대신 객체 검출부 및 얼굴 검출부를 포함한다. 본 발명의 제2 실시예에 따른 영상 감시장치 내 촬영부, 관심영역 설정부, 통신부, 이미지 색상 변환 부, 명암값 균등화부, 픽셀값 변화도 산출부, 얼굴 이미지 인식부, 제어부 및 모니터 링부는 본 발명의 제1 실시예에 따른 영상 감시장치 내 그것들과 동일한 동작을 수행한다.객체 검출부는 촬영부가 촬영한 영상 내에서 대상 검출부의 객체 검출 동작을 동일하게 수행한 다. 얼굴 검출부는 촬영부가 촬영한 영상 내에서 대상 검출부의 객체의 얼굴 검출 동작을 동일하게 수행한다. 객체 검출부 및 얼굴 검출부는 서로 다른 구성으로 구현되어, 전술한 동작을 서로 병렬적으로 동작한 다. 마스킹부는 본 발명의 제1 실시예에 따른 영상 감시장치 내 그것과 동일하게 마스킹을 수행한다. 이 때, 마스킹부는 객체 검출부 및 얼굴 검출부 중 먼저 자신이 검출하고자 하는 대상을 검출한 검 출부로부터 검출결과를 인가받아 마스킹을 수행할 수 있다. 또는, 마스킹부는 양 검출부(710, 720) 중 어 느 하나를 선택하여 해당 검출부로부터 검출결과를 인가받아 마스킹을 수행할 수 있다. 도 4 내지 6에서는 각 과정을 순차적으로 실행하는 것으로 기재하고 있으나, 이는 본 발명의 일 실시예의 기술 사상을 예시적으로 설명한 것에 불과한 것이다. 다시 말해, 본 발명의 일 실시예가 속하는 기술 분야에서 통상 의 지식을 가진 자라면 본 발명의 일 실시예의 본질적인 특성에서 벗어나지 않는 범위에서 각 도면에 기재된 순 서를 변경하여 실행하거나 각 과정 중 하나 이상의 과정을 병렬적으로 실행하는 것으로 다양하게 수정 및 변형 하여 적용 가능할 것이므로, 도 4 내지 6은 시계열적인 순서로 한정되는 것은 아니다. 한편, 도 4 내지 6에 도시된 과정들은 컴퓨터로 읽을 수 있는 기록매체에 컴퓨터가 읽을 수 있는 코드로서 구현 하는 것이 가능하다. 컴퓨터가 읽을 수 있는 기록매체는 컴퓨터 시스템에 의하여 읽힐 수 있는 데이터가 저장되 는 모든 종류의 기록장치를 포함한다. 즉, 컴퓨터가 읽을 수 있는 기록매체는 마그네틱 저장매체(예를 들면, 롬, 플로피 디스크, 하드디스크 등) 및 광학적 판독 매체(예를 들면, 시디롬, 디브이디 등)와 같은 저장매체를 포함한다. 또한 컴퓨터가 읽을 수 있는 기록매체는 네트워크로 연결된 컴퓨터 시스템에 분산되어 분산방식으로 컴퓨터가 읽을 수 있는 코드가 저장되고 실행될 수 있다. 이상의 설명은 본 실시예의 기술 사상을 예시적으로 설명한 것에 불과한 것으로서, 본 실시예가 속하는 기술 분 야에서 통상의 지식을 가진 자라면 본 실시예의 본질적인 특성에서 벗어나지 않는 범위에서 다양한 수정 및 변 형이 가능할 것이다. 따라서, 본 실시예들은 본 실시예의 기술 사상을 한정하기 위한 것이 아니라 설명하기 위 한 것이고, 이러한 실시예에 의하여 본 실시예의 기술 사상의 범위가 한정되는 것은 아니다. 본 실시예의 보호 범위는 아래의 청구범위에 의하여 해석되어야 하며, 그와 동등한 범위 내에 있는 모든 기술 사상은 본 실시예의 권리범위에 포함되는 것으로 해석되어야 할 것이다."}
{"patent_id": "10-2022-0142482", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 영상 감시 시스템을 도시한 도면이다. 도 2는 본 발명의 제1 실시예에 따른 영상 감시장치의 구성을 도시한 도면이다. 도 3은 본 발명의 일 실시예에 따른 영상 처리장치의 구성을 도시한 도면이다. 도 4는 본 발명의 일 실시예에 따른 영상 감시장치가 실시간으로 마스킹하는 방법을 도시한 순서도이다. 도 5는 본 발명의 일 실시예에 따른 영상 처리장치가 영상 내 얼굴을 인식하는 방법을 도시한 순서도이다. 도 6은 본 발명의 일 실시예에 따른 영상 처리장치가 영상 내에서 특정 인물에 수행된 마스킹을 해제하는 방법 을 도시한 순서도이다. 도 7은 본 발명의 제2 실시예에 따른 영상 감시장치의 구성을 도시한 도면이다."}
