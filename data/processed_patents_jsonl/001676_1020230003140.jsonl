{"patent_id": "10-2023-0003140", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0111256", "출원번호": "10-2023-0003140", "발명의 명칭": "IPFS와 블록체인 융합 기술을 활용한 의료데이터 공유와 AI 기반의 분석 시스템", "출원인": "인제대학교 산학협력단", "발명자": "김희철"}}
{"patent_id": "10-2023-0003140", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "헬스케어 데이터 수집을 위해 사용되는 헬스케어 IoT 기기;Edge Computing;모듈 간의 통신 서비스를 제공하는 클라우드;IPFS(InterPlanetary File System);AI 모델;환자의 신원 및 개인 정보, IoT 기기 식별 정보, 의료 기관명이 저장되는 블록체인;으로 구성되는 것을 특징으로 하는 IPFS와 블록체인 융합 기술을 활용한 의료데이터 공유와 AI 기반의 분석 시스템"}
{"patent_id": "10-2023-0003140", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서, 상기 Edge Computing은 IoT 장치에서 받은 데이터를 수집하고 처리하는 것을 특징으로 하는IPFS와 블록체인 융합 기술을 활용한 의료데이터 공유와 AI 기반의 분석 시스템"}
{"patent_id": "10-2023-0003140", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서, 상기 IPFS(InterPlanetary File System)는 여러 노드에 데이터를 저장하는 분산 파일 시스템인것을 특징으로 하는 IPFS와 블록체인 융합 기술을 활용한 의료데이터 공유와 AI 기반의 분석 시스템"}
{"patent_id": "10-2023-0003140", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본발명은 IPFS와 블록체인 융합 기술을 활용한 의료데이터 공유와 AI 기반의 분석 시스템에 관한 것으로, 헬스케 어 데이터 수집을 위해 사용되는 헬스케어 IoT 기기; Edge Computing; (뒷면에 계속)"}
{"patent_id": "10-2023-0003140", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본발명은 IPFS와 블록체인 융합 기술을 활용한 의료데이터 공유와 AI 기반의 분석 시스템에 관한 것으로 보다 상세하게는 Healthcare IoT devices,Edge Computing, Cloud,IPFS,AI Model, Blockchain로 구성되어, 건강진단 기능을 향상시키고, 보다 나은 의료서비스를 제공하는 IPFS와 블록체인 융합 기술을 활용한 의료데이터 공유와 AI 기반의 분석 시스템에 관한 것이다."}
{"patent_id": "10-2023-0003140", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "4차 산업혁명 시대에 데이터는 큰 자산으로 여겨지고, 헬스케어 데이터는 연구와 진단 측면에서 더욱 가치가 높 아진다. 의료 데이터 양의 폭발적인 증가는 의료 기관에 많은 기회를 제공하지만 올바른 의료 데이터 관리가 필 요하므로 귀중한 통찰력을 얻고 진단을 개선하며 더 나은 의료 서비스를 제공할 수 있다. 의료 데이터 관리는 수집, 저장, 검색, 전송 및 보호 프로세스입니다. 데이터 관리 및 분석을 수행할 수 있는 통합 의료 데이터 관리 시스템 구축을 통해 의료 제공자 또는 데이터 분석 연구원이 필요하다. 동시에 의료 제공자는 의료 정보를 정확하고 안전하며 최신 상태로 유지해야 하는 문제에 직면해 있습니다. 의 료 데이터 수집, 관리 및 분석을 위한 기술 솔루션이 절실히 필요하다. 비정형의료데이터는 주로 의료인과 연구기관에서 심전도에 대한 데이터베이스를 제공하고 있으나, 지금까지 심 전도 이외의 다양한 통합 비정형의료데이터 구축에 대한 연구는 미흡한 실정이다. 최근에는 하나 이상의 의료 데이터(예: 심전도, 가속도 등)를 이용한 하이브리드 융합에 대한 연구가 진행되고 있으나, 다양한 기기에서 의료 데이터를 획득할 수 있는 개방형 플랫폼이 부족하여 의료 데이터 획득 및 접근이 원활하지 못하다. 데이터 관리는 어렵지만 안전한 데이터 공유는 의료 서비스 제공자와 연구 기관에게도 큰 문제이다. 종래특허기술의 일례로서 공개번호 10-2009-0001597호에는 중앙관리서버를 이용하여 데이터의 측정과 분석을 온 오프로 분리하여 처리하는 의료 분석시스템 및 방법에 있어서, 온라인상에서 데이터를 연산하고 분류분석하고 진단하고 검색하고 저장하는 기능을 포함하는 상기 중앙관리서버; 상기 중앙관리서버에 연결되어서 인적사항을 입력하고 데이터를 송수신하는 등의 역할을 하는 관리프로그 램과 측정 및 분석 결과를 인쇄할 수 있는 출력기 등을 포함하고 있는 병원컴퓨터; 및 상기 병 원컴퓨터에 연결되어서 측정대상자의 키 몸무게 혈압 전류량 등을 단순 측정하는 측정기;를 포함하는 것을 특징으로 하는 분석 시스템이 공개되어 있다. 또한 공개번호 10-2000-0049996호에는 a) 서버에 디지탈 의료영상데이타를 분석하기 위한 복수의 분석프로그램 과 화일 데이타베이스를 구축하는 단계; b) 이용자가 통신망에 접속된 단말기를 통하여 상기 서버에 접속하는 단계; c) 이용자가 1차 의료영상데이타를 서버로 전송하는 단계; d) 서버가 상기 분석프로그램을 이용하여 이용자로부터 전송받은 1차 의료영상데이타를 분석하여 2차 의료데이 타를 생성하는 단계; 및 e) 서버가 상기 2차 의료데이타를 이용자 단말기로 전송하는 단계; 를 포함하는 것을 특징으로 하는 통신망을 통한 의료영상데이타 분석방법이 공개되어 있다. 블록체인 기반의 의료 데이터 저장 및 관리를 위한 안정적인 인공지능 서비스가 필요하다. 데이터 분석을 위한 AI 기반 서비스의 성능을 위해서는 양질의 데이터 확보가 중요하다.탈중앙화 블록체인을 통 해 데이터를 공유하고, 참여자와 검증하고, 보안과 프라이버시를 확보하여 저장 및 관리함으로써 데이터의 무결 성을 강화하는 것이 중요하다.인공지능 서비스를 적용하기 위해서는 분산, 저장, 관리되는 다양한 의료 데이터 를 안전하게 공유하여 분석을 위한 통합 빅데이터를 구축해야 한다."}
{"patent_id": "10-2023-0003140", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "따라서 본발명은 상기와 같은 문제점을 해결하고자 안출된 것으로, 본 발명은 의료 데이터의 잠재력을 최대한 활용하기 위해 의료 데이터를 수집, 저장, 검색, 분석 및 공유하는 효과적인 IPFS와 블록체인 융합 기술을 활용 한 의료데이터 공유와 AI 기반의 분석 시스템을 제공하고자 하는 것이다."}
{"patent_id": "10-2023-0003140", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본발명은 IPFS와 블록체인 융합 기술을 활용한 의료데이터 공유와 AI 기반의 분석 시스템에 관한 것으로, 헬스 케어 데이터 수집을 위해 사용되는 헬스케어 IoT 기기; Edge Computing; 모듈 간의 통신 서비스를 제공하는 클라우드; IPFS(InterPlanetary File System); AI 모델; 환자의 신원 및 개인 정보, IoT 기기 식별 정보, 의료 기관명이 저장되는 블록체인;으로 구성되는 것을 특징으 로 한다. 또한, 상기 Edge Computing은 IoT 장치에서 받은 데이터를 수집하고 처리하는 것을 특징으로 한다. 또한, 상기 IPFS(InterPlanetary File System)는 여러 노드에 데이터를 저장하는 분산 파일 시스템인 것을 특징 으로 한다."}
{"patent_id": "10-2023-0003140", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "따라서 본발명은 Healthcare IoT devices,Edge Computing, Cloud,IPFS,AI Model, Blockchain로 구성되어, 건강 진단기능을 향상시키고, 보다 나은 의료서비스를 제공하는 현저한 효과가 있다."}
{"patent_id": "10-2023-0003140", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본발명 시스템은 다음과 같은 6개의 주요 모듈로 구성되어 있다. 헬스케어 IoT 기기는 헬스케어 데이터 수집을 위해 사용된다. Edge Computing은 IoT 장치에서 받은 데이터를 수집하고 처리한다. 클라우드는 모든 모듈 간의 통신 서비스를 제공한다. IPFS(InterPlanetary File System)는 여러 노드에 데이터를 저장하는 분산 파일 시스템이다. IPFS는 콘텐츠 주 소 지정을 사용하여 IPFS 피어에 저장된 각 파일을 식별한다. AI 모델은 생체 신호를 이용한 건강 상태 분석을 위한 것이다. 블록체인은 환자의 신원 및 개인 정보, IoT 기기 식별 정보, 의료 기관이 블록체인에 저장됩니다. 데이터의 파 일 시스템 인덱스도 블록체인에 저장된다. 컨소시엄 간의 데이터 공유도 블록체인 네트워크를 통해 이루어집니 다. 비즈니스 논리를 유지하는 스마트 계약을 호스팅하고 있다. 그러므로 먼저 본발명의 헬스케어 IoT 디바이스에 대해 설명하면, 본발명 시스템은 다양한 헬스케어 IoT 디바이 스를 통해 생체 신호를 수집하고 있다. 수집되는 생체 신호는 PPG, SpO2, BpM 및 ECG이다.데이터는 처리를 위해 에지 컴퓨팅으로 전송된다.각 IoT 장치에는 고유한 식별자가 있다. 엣지 컴퓨팅에 대해 설명하면, IoT 장치는 엣지 컴퓨팅 노드에 연결됩니다. 에지 컴퓨팅 노드는 환자 정보 및 IoT 장치 식별과 함께 건강 데이터를 수집합니다. 처리 후 추가 작업을 위해 데이터를 클라우드로 보낸다. 클라우드는 중앙 서버로 구성된다.본발명의 중앙 서버는 시스템의 모든 모듈 간의 통신을 위한 서비스를 제공한 다.서버는 에지 장치로부터 데이터를 수신하고 블록체인으로 인증한 후 IPFS에 저장한다. IPFS는 클라우드에서 파일을 받아 네트워크 피어에 저장한다.IPFS 네트워크에 저장된 파일 주소를 참조하는 CID 로 알려진 암호화 해시를 생성한다.이 해시는 클라우드 서버를 통해 블록체인으로 전송된다. 파일은 나중에 해 당 해시를 통해 IPFS에서 검색할 수 있다. 블록체인 네트워크 시스템에서 Hyperledger Fabric은 프라이빗 블록체인 네트워크를 구축하는 데 사용된다.모든 참여 조직은 블록체인을 통해 컨소시엄을 구성한다. 조직에는 연구 센터, 병원/진료소 및 보험 회사 등이 포함 된다.컨소시엄에서 조직을 추가하거나 제거할 수 있다.블록체인은 모든 조직의 디지털 ID를 저장한다. 또한 IoT 장치, 환자 및 데이타의 IPFS CID를 저장한다. 블록체인 네트워크는 새로운 데이터가 도착하면 서버는 전송 장치, 환자 및 조직의 신원을 인증한다. 인증 후 데이터는 IPFS에 저장되고 데이터 CID는 블록체인에 저장된다.조직은 데이터 공유를 위한 채널을 생성하고 스마 트 계약을 배포하여 데이터 거래를 규제한다. 모든 AI 모델들은 훈련된 AI 모델을 배치하여 주어진 데이터를 분석하고 스트레스 상태, 운동 강도, 행동 패턴 등을 감지한다.인공지능 모델도 생체 신호를 모니터링해 환자의 건강 상태를 감지한다. 상호관계된 헬쓰케어(Coordinated Healthcare)에 대해 설명하면, 의료 데이터 관리에서 가장 중요한 부분은 제 공되는 의료 서비스 위치에 관계없이 환자의 건강 기록에 액세스하고 공유할 수 있는 기능이다.본발명 시스템은 의료 기관, 연구 센터 및 바이오 산업계가 의료 데이터를 안전하게 공유할 수 있도록 지원한다.의료 제공자간에 안전하게 전송되는 관련성 있고 정확한 데이터는 빠른 서비스와 정확한 진료를 보장한다. 본발명은 저운영경비 특징으로 갖는 것으로, 더 나은 분산형 데이터 관리 및 분석 시스템은 운영 비용을 절감한 다. 제안하는 블록체인과 AI 기반 시스템은 하드웨어 등의 유지 보수 및 운영 리소스가 덜 필요하다.또한 필요 한 정보를 찾기 위해 중복을 처리하거나 여러 데이터 소스를 참조할 필요가 없기 때문에 시간과 리소스를 절약 할 수 있다. 본발명은 더 나은 데이터분석으로서, 적절한 데이터 구성과 건강 정보 교환은 AI 기술의 기반이다.AI는 의료 제 공자가 환자의 건강에 대한 포괄적인 관점을 구축하고 그에 따라 행동하도록 도울 수 있다. 본발명은 환자의 경험향상을 구현하는 것ㅇ로, 또한 환자는 모든 데이터에 액세스할 수 있고 반복해서 작업을 수행하거나 데이터를 수동으로 제공할 필요가 없을 때 이 시스템의 이점을 누릴 수 있다.투명성을 높이고 환자 참여를 높이고 기록 정확도를 향상시킨다. 또한 본발명은 더 나은 데이터 거버넌스 특성을 갖는 것으로, 본발명 시스템은 의료 정보를 적절하게 저장합니 다. 데이터의 각 세그먼트를 수집, 저장, 보호 및 분석한다. 각 사용자에 대한 권한 부여 및 추적한다 데이터 품질 모니터링, 다양한 리소스에서 수집된 데이터 일치, 중복 식별 및 제거한다. 그리고 본발명은 보안, 무결성 및 확장성을 갖는 것으로, 데이터에 대한 액세스가 제한되어 있기 때문에 이 시 스템에 저장된 데이터. 데이터 액세스는 이해 관계자의 상호 합의에 의한 스마트 계약을 통해서만 제공된다. 모 든 데이터 트랜잭션은 블록체인을 통해 검증됩니다. 데이터 액세스 권한은 언제든지 취소할 수 있다. 블록체인 네트워크의 데이터와 관련된 모든 정보는 변경 불가능하고 영구적이며 이 정보는 수정하거나 삭제할 수 없다. 본발명 시스템은 확장 가능하며 더 많은 스토리지의 경우 추가 하드웨어 및 소프트웨어를 구입할 필요 없이 더 적은 예산으로 IPFS 스토리지를 쉽게 확장할 수 있다. 새로운 조직이 컨소시엄에 가입하거나 회원 조직이 떠나 는 경우 블록체인 네트워크가 유연성을 제공한다. 따라서 본발명 시스템은 의료 데이터 수집, 저장, 분석 및 공유 프로세스를 용이하게 하며 한편, 데이터 보안, 개인 정보 보호, 무결성 및 소유권을 보장하며 올바른 소스에서 올바른 데이터를 수집하고 안전하게 저장하도록 하며 더 나은 분석과 정확한 환자 진료를 위해 정확한 데이터를 AI에 제공하며 연구 센터 및 의료 기관을 도울 뿐만 아니라 환자에게 데이터에 대한 권한을 부여하여 도움을 준다. 그리고 본발명 엣지컴퓨팅환경에서 IoT의료기기를 이용한 모니터링시스템에 대해 설명하면, 생체신호를 측정하 는 IoT 의료기기; 엣지 노드;와 클라우드;와 사용자 단말;로 구성되는 것을 특징으로 한다. 또한, 상기 IoT 의료기기는 IoT 펄스옥시미터, IoT 체온계인 것을 특징으로 한다. 또한, 엣지 컴퓨팅은 엣지 노드와 클라우드에서 모니터링 시스템을 적용하는 것으로, 엣지 노드는 제어부에서 raw data를 실시간 차트로 표현하고 SpO2와 PR 값은 숫자 형식으로 표현하며, 또한, 응급 상황이 발생 시에 알 람형식으로 보여주는 것이며, 클라우드는 SpO2와 맥박 정보를 숫자 형식으로 보여주고 응급 상황 발생 시와 질 병 예측시에 알람 형식으로 보여주는 것을 특징으로 한다. 또한, 상기 엣지노드는 전송된 데이터를 저장하는 저장부, 응급 상황 분석부, raw data 실시간 차트 기반의 모 니터링부, 제어부, 송신부, 수신부로 구성되는 것을 특징으로 한다.또한, 엣지 노드에서의 데이터 분석은 클라우드에서 인공지능 기반의 학습된 데이터를 이용하여 데이터를 분석 보다는 실시간으로 데이터 분석하는 것으로, 클라우드의 분석은 대량의 데이터를 이용하여 인공지능 기반의 건 강 상태 분석을 하며, 엣지 노드는 제어부에서 실시간으로 응급 상태 등과 같은 간단한 분석을 하되, 실시간 응 급 상태 분석은 맥박과 SpO2의 응급 상황 범위를 적용하여 범위안에 데이터가 나오면 응급 상황이라고 판단을 하는 것이며, 클라우드에서는 생체신호 raw data의 파형과분석된 데이터 SpO2와 PR 등과 같은 데이터를 통합하 여 질병 예측을 하는 것을 특징으로 한다. 본발명의 IoT 펄스옥시미터는 PPG, PR과 SpO2를 측정하여 무선 네트워크로 생체신호 데이터를 전송하는 IoT기반 의 의료기기이다. IoT 기기에서 측정된 데이터를 엣지 노드로 전송한다. 엣지 노드는전송된 데이터를 저장, 응 급 상황 분석 및 raw data 실시간 차트 기반의 모니터링 시스템으로 구성이 된다.클라우드는 엣지 노드 별로 수 집된 생체신호 데이터 중에 숫자형식으로 표현이 가능한 SpO2와 PR 데이터와 응급 상황을 알리는 알람 기반의 모니터링 시스템으로 구성이 된다. 본 발명이 제안하는 엣지 컴퓨팅 기반의 실시간 건강관리 모니터링 시스템은 IoT 의료기기로부터 측정된 생체신 호를 실시간으로 데이터 수집 및 저장하는 시스템과 모니터링하는 시스템이다. 실시간 건강관리 모니터링 시스 템은 도 1과 같은 아키텍처를 가지고 있다. 엣지 노드는 IoT 펄스옥시미터로부터 측정된 데이터를 수신 가능하도록 네트워크 연결을 관리하는 모듈이 필요 하다. 또한, 데이터가 주기적으로 전송이 이루어지지 않는 경우 wake-up 또는 상태 확인 메시지를 전송할 수 있 어야 한다. 엣지 노드는 관리 모듈을 통해 클라우드와 연결하여 데이터를 전송하기도 하고 클라우드로부터 기기 제어 명령은 물론 엣지 노드에서 필요한 정보를 수신할 수 있다. 본 발명은 아래의 4개의 시나리오를 기반으로 아키텍처를 설계한다. 첫째, IoT 의료기기로부터 측정된 데이터를 수집하는 시스템이다. 생체신호 수집 시스템은 지속적으로 측정된 데이터를 안정적으로 데이터를 수집하는 것을 목적으로 하고 있다. 그래서,본 발명은 TCP/IP Socket 기반의 수 집 시스템을 제안한다. 왜냐하면, TCP/IP Socket은 데이터를 소멸시키지 않고, 전송 순서대로 수신이 되기 때문 이다. 그래서 여러 대의 IoT 펄스옥시미터로부터 측정된 대량의 데이터를 안정적으로 수집할 수 있다. 둘째, 엣지 노드에서 수집된 데이터를 time-series database(TSDB)에 저장하는 시스템이다. 생체신호는 시계열 데이터로 시간에 따른 데이터를 연속적으로 측정되는 신호이다. 그래서, 대량의 시계열 데이터를 실시간으로 저 장할 수 있는 TSDB에 저장을 한다. 셋째, 엣지 노드에서 수집된데이터를 이용하여 실시간 응급상황을 분석한다. 넷째, 엣지노드에서 수집된 데이터를 전송,분석 및 모니터링하는 시스템이다. 모니터링 시스템은 TSDB에 저장된 생체신호를 실시간 차트나 숫자 형식으로 사용자들에게 보여주기 위한 시스템이다. 본발명의 엣지컴퓨팅에서 데이터 수집 및 저장에 대해 설명하면 다음과 같다. 본 발명의 데이터 수집기술은 IoT 펄스옥시미터로부터 측정된 생체신호를 수집하는 기술이다. IoT 펄스옥시미터 는infraredalternating current(IR AC), infrared direct current(IR DC), red AC, red DC, SpO2, pulse rate(PR)등 다양한 생체신호를 측정할 수 있다.이러한 다양한 생체신호 중에 IR AC 등과 같은 raw data는 생체 신호 분석의 가장 기본적인 단위이다. 생체신호 raw data를 이용하여 SpO2, PR 등과 같은 특징값을 추출하여 건 강상태를 분석한다. 이러한 특징값을 추출하기 위해서는 최소 1초당 20개 이상의 raw data신호가 필요하다. 그 래서,본 발명은 IoT 펄스옥시미터에서 1초당 50개의 raw data를 측정하여 전송을 한다.본 발명은 1초당 50개의 데이터를 50Hz라고 표현을 한다. 50Hz의 raw data는 실시간 파형으로 시각화와 생체신호 분석 알고리즘을 이용 하여 특징값을 추출하기에 적합하다. 다수의 IoT 펄스옥시미터로측정된 4개의 raw data와 SpO2, PR 등과 같은 데이터를 수집하기 위하여 와이파이 무 선 네트워크를 이용하여 데이터를 수집한다. 데이터 수집 기술은 TCP/IP socket 통신을 이용을 한다. TCP/IP socket통신은 대량의 데이터 전송에 적합한다. 또한,오류 수정,흐름제어 보장,데이터 전송 순서 보장 등과 같은 장점을 가지고 있다. 이러한 장점은 생체신호의 수집 기술에 적합하기 때문에 TCP/IP socket 통신을 사용하여 데이터를 수집한다.그러나,하나의 수집 서버로부터 다수의 생체신호를 수집하는 것은 장기적으로 데이터를 수집 할 때 서버 부하가 높아져서 데이터 수집 시스템에 오류 등이 발생할 수 있다. 그래서 다수의 IoT 펄스옥시미터로부터 생체신호를 안정적으로 수집하기 위해 Edge Node를 이용하여 서버 부하를 나누었다. 본 발명은 IoT 펄스옥시미터는2개의 패킷을 전송한다. 두개의 패킷은 50Hz의 4개의 raw data와 1Hz의 SpO2와 PR 이다. 표 1은 기본 패킷 형식을 나타낸다. 표1의 ID는 IoT 펄스옥시미터를 구분하기 위한 key이고 message command code(CMD)는 두개의 패킷을 구분하기 위한 구분자이다.Cyclic redundancy check(CRC)는 패킷의 오류 유무를 검사하고 오류가 없는 것이 판명되면 그 패킷의 데이터를 사용한다.DATA는raw data를 전송하기 위한 기 본 형식과 분석된 SpO2와 PR를 전송하기 위한 두개의 패킷으로 나누어 전송을 한다. 표 1 내용 길이 형식 설명 STX 1byteBinary 0X02 패킷시작 ID 10byteASCII 단말기 ID CMD 1byteBinary 패킷 구분 LEN 2byteBinary DATA 길이 DATA NbyteBinaryDATA(raw data, SpO2, PR 등) ETX 1byteBinary 0x03 패킷끝 CRC 2byteBinaryID부터DATA끝까지에대한CRC16 <표 1> 기본 패킷 형식 IoT 펄스옥시미터에서 측정된 데이터를 저장하기 위해서 시계열 데이터베이스를 활용을 한다.왜냐하면,생체신호 는 일정 단위로 센서를 통해 측정된 데이터로 각 데이터는 시간과 측정된 데이터를 가지고 시간 순으로 데이터 를 처리가 필요하기 때문이다. 그래서 본 발명은 시계열 데이터베이스를 이용하여 실시간으로 생체신호 데이터 를 저장을 하기 위해서 InfluxDB를 활용한다. 생체신호는 대량의 데이터를 전송하기 때문에 빠른 데이터 저장과 간편한 확장이 가능한 데이터베이스가 필요하다. InfluxDB는 현재까지 나온 시계열 데이터베이스 중에서 안정적 으로 데이터 저장 및 분석에 적합한다. 본 발명은 도 3과 같이 InfluxDB에서 raw data와 분석된 데이터를 저장 하기 위한 두개의 테이블을 생성하여 저장한다. Raw data를 저장하는 데이터베이스는 측정시간, 디바이스 ID와 ppg 신호를 저장하고 분석된 data를 저장하는 데이터베이스는 측정시간, 디바이스 ID, pr과 SpO2데이터를 저장 한다. 본발명의 엣지컴퓨팅에서 데이터 분석 및 모니터링은 다음과 같다. 엣지 노드에서의 데이터 분석은 클라우드에서 인공지능 기반의 학습된 데이터를 이용하여 데이터를 분석보다는 실시간으로 데이터 분석이 필요하다. 클라우드의 분석은 대량의 데이터를 이용하여 인공지능 기반의 건강 상태 분석을 하며, 엣지 노드는 실시간으로 응급 상태 등과 같은 간단한 분석이 중요하기 때문이다. 실시간 응급 상 태 분석은 맥박과 SpO2의 응급 상황 범위를 적용하여 범위안에 데이터가 나오면 응급 상황이라고 판단을 한다. 클라우드에서는 생체신호 raw data의 파형과분석된 데이터 SpO2와 PR 등과 같은 데이터를 통합하여 질병 예측을 한다. 본 발명이 제안하는 엣지 컴퓨팅은 엣지 노드와 클라우드에서 모니터링 시스템을 적용한다. 엣지 노드는 raw data를 실시간 차트로 표현하고 SpO2와 PR 값은 숫자 형식으로표현한다. 또한,응급 상황이 발생 시에 알람형식 으로 보여준다.클라우드는 SpO2와 맥박 등의 정보를 숫자 형식으로 보여주고 응급 상황 발생 시와 질병 예측시 에 알람 형식으로 보여준다. 본발명의 엣지컴퓨팅시스템 구현 및 어플리케이션에 대해 설명하면 다음과 같다. 본발명 실시간 모니터링 시스템은 프레임워크가 대량의 생체신호 데이터 수집 수집,저장과 실시간 분석 기능에 대해서 고려해야 한다. 데이터 수집은 IoT 의료기기로부터 측정된 데이터를 무선네트워크를 통해서 접속 및 수 집이 가능한python기반의 소켓서버 프레임워크를 기반으로 한다. 모니터링 시스템은HTML5, CSS 및 Javascript기 반의 통합 웹 프로그래밍 인터페이스를 제공하는 Node의 Express 기반의 프레임워크를 기반으로 구성된다.IoT 펄스옥시미터로부터 측정된 센서 데이터는 WiFi를 이용하여 엣지 노드로 전송이 된다. 이 전송된 센서 데이 터는 Python의 TCP소켓을 이용하여 데이터를 수집하고 수집된 데이터는 InfluxDB에 실시간으로 저장이 된다. 모 니터링 시스템은 Node 기반으로 웹서버를 적용하였으며,클라이언트는 HTML5를 사용하였다. 실시간으로 저장된 생체신호 데이터를 서버에서 클라이언트에 전송하기 위해서 SSE(Server-Sent Events)를 이용한다. 모니터링 시 스템은 서버에서 클라이언트로 데이터 전송이 필요하기 때문에 양방향 통신보다는 단방향 통신이 더 적합한다. 서버에서 클라이언트로 저장된 생체신호는 버퍼링을 이용하여 데이터를 수집하여 실시간 차트 혹은 숫자로 보여 준다. 왜냐하면, IoT 의료기기에서 측정된 raw data를 실시간 차트 형식으로 보여줄 때는 IoT 디바이스와 수집 서버와의 네트워크 딜레이 혹은 서버와 클라이언트간의 딜레이가 발생할 수 있다. 이러한 딜레이로 인하여 실시간 차트에서 데이터가 끊기는 현상이 발생할 수 있다. Raw data를 이용한 실시간 차트는 딜레이로 인하여 데이터 끊긴 형상이 발생하면 안 되기 때문이다. 그래서 버퍼링 기술을 이용하여 수 초 간의 데이터를 수집하여 지속적으로 실시간 차트 데이터를 표현하는 것이 중요하기 때문이다. 도 4와 같은 웹 기반의 GUI는 엣지 노드에서 사용하는 모니터링 시스템이다. 이 모니터링 시스템은 엣지 노드에 연결된 IoT 의 료기기의 raw data를 실시간 차트 형식으로 보여준다. 도 4의 클라우드 기반의 모니터링 시스템은 대량의 raw data를 실시간 차트 형식으로 보여주기보다는 모든 IoT의료기기에서 전송된 맥박, SpO2와 체온과 같은 주기적으 로 데이터가 들어오는 분류하여 보여준다. 웹 기반의 GUI는 웹 브라우저가 탑재된 스마트폰,노트북,PC 등의 웹 브라우저가 탑재된 인터넷 연결 단말 장치 에서 독립적으로 실행될 수 있다.또한,클라우드 기반으로 이 시스템에 접속 권한이 있는 사용자는 세계 어디에 서나 접속하여 데이터에접근할 수 있다. 또한, 엣지 노드와 클라우드에서 실행되는 건강상태 분석 알고리즘은 실시간에 가까운 신호 처리 및 인공지능 기반의 분석에 용이하다. 따라서 본발명은 Healthcare IoT devices,Edge Computing, Cloud,IPFS,AI Model, Blockchain로 구성되어, 건강 진단기능을 향상시키고, 보다 나은 의료서비스를 제공하는 현저한 효과가 있다."}
{"patent_id": "10-2023-0003140", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본발명의 IPFS와 블록체인 융합 기술을 활용한 의료데이터 공유와 AI 기반의 분석 시스템 구성도 도 2는 본발명의 엣지컴퓨팅환경에서 IoT의료기기를 이용한 모니터링시스템 아키텍처 구성도 도 3a는 본발명의 InfluxDB에서 raw data를 저장하기 위해 생성되는 테이블(데이타베이스는 측정시간, 디바이스 ID, ppg 신호를 저장) 도 3b는 본발명의 분석된 data를 저장하기 위해 생성되는 테이블(데이터베이스는 측정시간, 디바이스 ID, pr과 SpO2데이터를 저장) 도 4는 본발명의 웹 기반의 GUI화면 도 5의 본발명의 클라우드 기반의 모니터링 화면"}
