{"patent_id": "10-2021-0163187", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2022-0077872", "출원번호": "10-2021-0163187", "발명의 명칭": "다양한 영상 모드를 지원하는 이미지 스케일링 시스템 및 그 방법", "출원인": "주식회사 텔레칩스", "발명자": "윤석현"}}
{"patent_id": "10-2021-0163187", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "제1 스케일링 알고리즘에 의하여 입력 이미지를 스케일링하는 이미지 스케일러 장치, 상기 제1 스케일링 알고리즘과 다른 제2 스케일링 알고리즘에 의하여 상기 입력 이미지를 스케일링하는 이미지프로세서, 그리고상기 이미지 스케일러 장치가 출력하는 제1 스케일링 이미지와 상기 이미지 프로세서가 출력하는 제2 스케일링이미지를 블렌딩(Blending)하고, 블렌딩한 최종 이미지를 출력하는 이미지 블렌더를 포함하는, 이미지 스케일링 시스템."}
{"patent_id": "10-2021-0163187", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에서,상기 이미지 스케일러 장치는,초해상도(Super Resolution)를 스케일링하는 딥러닝 알고리즘에 학습된 스케일링 파라미터를 이용하는, 이미지스케일링 시스템."}
{"patent_id": "10-2021-0163187", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에서,상기 이미지 프로세서는,사용자 입력에 따른 프리셋 선택 신호를 출력하는 버퍼 레지스터, 각각의 정해진 스케일링 팩터(Factor)를 사용하여 이미지 스케일링을 수행하는 복수의 이미지 스케일러, 그리고상기 프리셋 선택 신호에 따라 상기 복수의 이미지 스케일러 중 하나의 이미지 스케일러를 선택하는 먹서를 포함하고, 상기 제2 스케일링 이미지는,상기 선택한 하나의 이미지 스케일러에 의한 이미지 스케일링이 적용되는, 이미지 스케일링 시스템."}
{"patent_id": "10-2021-0163187", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에서,사용자 설정에 따른 이미지 스케일링 정보를 입력받아 상기 버퍼 레지스터로 출력하는 MCU(microcontrollerunit), 그리고상기 MCU로부터 상기 이미지 스케일링 정보를 입력받아 저장하고, 저장된 이미지 스케일링 정보에 따른 이미지스케일링을 수행하는 적어도 하나의 사용자 이미지 스케일러를 더 포함하고,상기 프리셋 선택 신호는,상기 복수의 이미지 스케일러 및 상기 적어도 하나의 사용자 이미지 스케일러 중에서 하나를 선택하게 하는, 이미지 스케일링 시스템."}
{"patent_id": "10-2021-0163187", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제3항에서,각각의 정해진 필터 프리셋 정보를 저장하는 복수의 필터 프리셋, 공개특허 10-2022-0077872-3-상기 프리셋 선택 신호에 따라 상기 복수의 필터 프리셋 중 하나의 필터 프리셋을 선택하는 먹서, 그리고상기 먹서가 선택한 필터 프리셋에 저장된 필터 프리셋 정보를 이용하여 이미지 필터링 기능을 수행하고, 필터링된 이미지를 상기 복수의 이미지 스케일러 중 하나의 이미지 스케일러로 출력하는 필터를 더 포함하는, 이미지 스케일링 시스템."}
{"patent_id": "10-2021-0163187", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5항에서,사용자 설정에 따른 필터 프리셋 정보를 입력받아 상기 버퍼 레지스터로 출력하는 MCU(microcontroller unit),그리고 상기 MCU로부터 상기 필터 프리셋 정보를 입력받아 저장하는 적어도 하나의 사용자 프리셋 레지스터를 더 포함하고,상기 프리셋 선택 신호는,상기 복수의 필터 프리셋 및 상기 적어도 하나의 사용자 프리셋 레지스터 중에서 하나를 선택하게 하는, 이미지스케일링 시스템."}
{"patent_id": "10-2021-0163187", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제1항에서,사용자 입력에 따른 블렌딩 팩터를 상기 이미지 블렌더로 출력하는 버퍼 레지스터를 더 포함하고,상기 이미지 블렌더는,상기 제1 스케일링 이미지와 상기 제2 스케일링 이미지에 대하여, 상기 블렌딩 팩터에 기초하여 결정된 블렌딩파라미터를 적용하여 블렌딩을 수행하는, 이미지 스케일링 시스템."}
{"patent_id": "10-2021-0163187", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "컴퓨팅 장치의 이미지 스케일링 방법으로서,제1 스케일링 알고리즘에 의하여 스케일링된 제1 스케일링 이미지와 제2 스케일링 알고리즘에 의하여 스케일링된 제2 스케일링 이미지를 사전 정의된 블렌딩 파라미터에 기초하여 블렌딩(Blending)하는 단계, 그리고상기 블렌딩한 최종 이미지를 출력하는 단계를 포함하고,상기 제1 스케일링 알고리즘은,초해상도(Super Resolution)를 스케일링하는 딥러닝 알고리즘에 학습된 스케일링 파라미터를 이용하고,상기 제2 스케일링 알고리즘은,각각의 정해진 스케일링 팩터(Factor)를 사용하는 복수의 이미지 스케일링 알고리즘 중에서 선택되는, 이미지스케일링 방법."}
{"patent_id": "10-2021-0163187", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에서,상기 블렌딩하는 단계 이전에,사용자 입력에 따른 프리셋 정보를 설정하는 단계, 그리고상기 프리셋 정보에 기초하여, 상기 복수의 이미지 스케일링 알고리즘 중에서 하나의 제2 스케일링 알고리즘을선택하는 단계를 더 포함하는, 이미지 스케일링 방법."}
{"patent_id": "10-2021-0163187", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "공개특허 10-2022-0077872-4-제8항에서,상기 블렌딩하는 단계는,사용자 입력에 따른 블렌딩 팩터에 기초하여 결정된 블렌딩 파라미터를 상기 제1 스케일링 이미지와 상기 제2스케일링 이미지에 적용하여 블렌딩을 수행하는, 이미지 스케일링 방법."}
{"patent_id": "10-2021-0163187", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "이미지 스케일링 시스템은 제1 스케일링 알고리즘에 의하여 입력 이미지를 스케일링하는 이미지 스케일러 장치, 상기 제1 스케일링 알고리즘과 다른 제2 스케일링 알고리즘에 의하여 상기 입력 이미지를 스케일링하는 이미지 프로세서, 그리고 상기 이미지 스케일러 장치가 출력하는 제1 스케일링 이미지와 상기 이미지 프로세서가 출력하 는 제2 스케일링 이미지를 블렌딩(Blending)하고, 블렌딩한 최종 이미지를 출력하는 이미지 블렌더를 포함한다."}
{"patent_id": "10-2021-0163187", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 다양한 영상 모드를 지원하는 이미지 스케일링 시스템 및 그 방법 에 관한 것이다."}
{"patent_id": "10-2021-0163187", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "입력된 영상 데이터의 해상도를 높이기 위하여 알고리즘적으로 해상도를 높이는 스케일러(scaler)를 이용하거나, 기계 학습에 의해 해상도를 높이는 Super-resolution imaging을 이용할 수 있다. Super- resolution imaging은 종전의 알고리즘 기반의 스케일러 보다 개선된 영상을 얻을 수 있으며 학습 데이터에의 종류에 따라 스케일링을 제외한 다른 이미지 프로세싱의 결과를 동시에 얻을 수 있다. 기존 CNN(convolution neural network) 기반의 Super-resolution imaging, 즉, SRCNN에서는 기계 학습을 통해 얻은 필터의 파라미터 값들을 활용하여 이미지 스케일링을 진행한다. CNN에서 이용되는 수많은 파라미터 값은 학습 과정에서 사용된 데이터셋에 의해 결정이 되며, 다른 특성을 가지는 데이터셋을 이용하여 학습할 경우 파 라미터 값 또한 다르게 정해진다. SRCNN을 이용하여 이미지를 처리할 때는 단순 이미지 해상도만 증가시키는 것 뿐만 아니라 이미지에 특정 필터를 적용한 효과를 동시에 얻을 수 있다. 즉, 기존에 이미지 스케일러와는 다르 게 학습데이터의 종류에 따라 이미지의 해상도를 변경하는 것뿐만이 아니라 이미지에 필터를 적용하는 효과를 동시에 얻을 수 있다.예를 들면, 이미지를 보다 선명하게 하거나, HDR(High Dynamic Range)를 강조하는 효과 등 을 적용할 수 있다. 이를 위해서는 각 효과가 적용된 이미지로 구성된 데이터셋을 기반으로 사전 학습이 이루어 져야 한다. SRCNN은 필터의 종류를 변경하거나 필터의 세기를 조절하고자 하면 수많은 필터의 파라미터 값들을 전부 변경해 주어야 한다. 그런데, 파라미터는 학습 데이터를 기반으로 정해지는 값이므로, 필터의 세기가 조금만 바뀌어도 처음부터 학습을 다시 진행하여야 하며 이미 학습된 파라미터의 값을 재사용하기 힘들다는 문제점이 있다. 출력 영상의 필터 효과를 변경하고 싶을 경우에는 변경하여야 하는 파라미터의 수가 매우 많기 때문에 변경하는 과정 에서 많은 비용을 발생시키는 문제점이 있다. 이처럼, SRCNN 스케일러 만을 사용할 경우 다양한 영상 모드에 대 하여 파라미터를 생성하기 위하여 비용이 많은 요구되는 학습(training) 과정을 거쳐야 한다. 따라서, SRCNN에 서 필터 및 스케일러의 종류를 실시간으로 변화시키는 것으 어렵다. 뿐만 아니라, 출력 영상의 옵션을 설정 또는 변경하고자 할 경우, 매우 많은 개수의 필터 파라미터 값을 즉시 업데이트 해주어야 한다. 이 과정에서 MCU(microcontroller unit)는 변경하고 싶은 파라미터 값을 사전에 보유 하고 있어야 하므로, 많은 양의 오프-칩(off-chip) 메모리의 사용을 필요로 한다. 또한, 파라미터는 사람이 정 하는 것이 아닌 기계 학습에 의해 정해지는 값이기 때문에 사전에 수많은 옵션에 대한 파라미터 값을 보유하고 있는 것에는 한계가 있다. 또한, 파라미터 값을 업데이트 하면 현재 출력되는 프레임 도중에 파라미터 값이 변경되면 한 프레임 내에서의 이미지가 손상되게 되므로 수직 동기화를 맞춰줄 필요성이 존재하므로, 이를 방지하기 위해 전체 파라미터 개수 만큼 버퍼를 필요로 하게 되어 부담이 발생한다."}
{"patent_id": "10-2021-0163187", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "해결하고자 하는 과제는 실시간 SRCNN(Super resolution convolution neural network) 기반 이미지 스케일러의 처리 결과와 이미지 프로세서의 처리 결과를 블렌딩(Blending)함으로써, 다양한 영상 모드를 연출할 수 있는 이 미지 스케일링 시스템 및 그 방법을 제공하는 것이다."}
{"patent_id": "10-2021-0163187", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "하나의 특징에 따르면, 이미지 스케일링 시스템은 제1 스케일링 알고리즘에 의하여 입력 이미지를 스케일링하는 이미지 스케일러 장치, 상기 제1 스케일링 알고리즘과 다른 제2 스케일링 알고리즘에 의하여 상기 입력 이미지 를 스케일링하는 이미지 프로세서, 그리고 상기 이미지 스케일러 장치가 출력하는 제1 스케일링 이미지와 상기 이미지 프로세서가 출력하는 제2 스케일링 이미지를 블렌딩(Blending)하고, 블렌딩한 최종 이미지를 출력하는 이미지 블렌더를 포함한다. 상기 이미지 스케일러 장치는, 초해상도(Super Resolution)를 스케일링하는 딥러닝 알고리즘에 학습된 스케일링 파라미터를 이용할 수 있다. 상기 이미지 프로세서는, 사용자 입력에 따른 프리셋 선택 신호를 출력하는 버퍼 레지스터, 각각의 정해진 스케 일링 팩터(Factor)를 사용하여 이미지 스케일링을 수행하는 복수의 이미지 스케일러, 그리고 상기 프리셋 선택 신호에 따라 상기 복수의 이미지 스케일러 중 하나의 이미지 스케일러를 선택하는 먹서를 포함하고, 상기 제2 스케일링 이미지는, 상기 선택한 하나의 이미지 스케일러에 의한 이미지 스케일링이 적용될 수 있다. 상기 이미지 스케일링 시스템은 사용자 설정에 따른 이미지 스케일링 정보를 입력받아 상기 버퍼 레지스터로 출 력하는 MCU(microcontroller unit), 그리고 상기 MCU로부터 상기 이미지 스케일링 정보를 입력받아 저장하고, 저장된 이미지 스케일링 정보에 따른 이미지 스케일링을 수행하는 적어도 하나의 사용자 이미지 스케일러를 더 포함하고, 상기 프리셋 선택 신호는, 상기 복수의 이미지 스케일러 및 상기 적어도 하나의 사용자 이미지 스케 일러 중에서 하나를 선택하게 할 수 있다. 상기 이미지 스케일링 시스템은 각각의 정해진 필터 프리셋 정보를 저장하는 복수의 필터 프리셋, 상기 프리셋 선택 신호에 따라 상기 복수의 필터 프리셋 중 하나의 필터 프리셋을 선택하는 먹서, 그리고 상기 먹서가 선택 한 필터 프리셋에 저장된 필터 프리셋 정보를 이용하여 이미지 필터링 기능을 수행하고, 필터링된 이미지를 상 기 복수의 이미지 스케일러 중 하나의 이미지 스케일러로 출력하는 필터를 더 포함할 수 있다. 상기 이미지 스케일링 시스템은 사용자 설정에 따른 필터 프리셋 정보를 입력받아 상기 버퍼 레지스터로 출력하 는 MCU(microcontroller unit), 그리고 상기 MCU로부터 상기 필터 프리셋 정보를 입력받아 저장하는 적어도 하 나의 사용자 프리셋 레지스터를 더 포함하고, 상기 프리셋 선택 신호는, 상기 복수의 필터 프리셋 및 상기 적어 도 하나의 사용자 프리셋 레지스터 중에서 하나를 선택하게 할 수 있다. 상기 이미지 스케일링 시스템음 사용자 입력에 따른 블렌딩 팩터를 상기 이미지 블렌더로 출력하는 버퍼 레지스 터를 더 포함하고, 상기 이미지 블렌더는, 상기 제1 스케일링 이미지와 상기 제2 스케일링 이미지에 대하여, 상 기 블렌딩 팩터에 기초하여 결정된 블렌딩 파라미터를 적용하여 블렌딩을 수행할 수 있다. 다른 특징에 따르면, 컴퓨팅 장치의 이미지 스케일링 방법으로서, 제1 스케일링 알고리즘에 의하여 스케일링된 제1 스케일링 이미지와 제2 스케일링 알고리즘에 의하여 스케일링된 제2 스케일링 이미지를 사전 정의된 블렌딩 파라미터에 기초하여 블렌딩(Blending)하는 단계, 그리고 상기 블렌딩한 최종 이미지를 출력하는 단계를 포함하 고, 상기 제1 스케일링 알고리즘은, 초해상도(Super Resolution)를 스케일링하는 딥러닝 알고리즘에 학습된 스 케일링 파라미터를 이용하고, 상기 제2 스케일링 알고리즘은, 각각의 정해진 스케일링 팩터(Factor)를 사용하는 복수의 이미지 스케일링 알고리즘 중에서 선택될 수 있다. 상기 블렌딩하는 단계 이전에, 사용자 입력에 따른 프리셋 정보를 설정하는 단계, 그리고 상기 프리셋 정보에 기초하여, 상기 복수의 이미지 스케일링 알고리즘 중에서 하나의 제2 스케일링 알고리즘을 선택하는 단계를 더 포함할 수 있다. 상기 블렌딩하는 단계는, 사용자 입력에 따른 블렌딩 팩터에 기초하여 결정된 블렌딩 파라미터를 상기 제1 스케 일링 이미지와 상기 제2 스케일링 이미지에 적용하여 블렌딩을 수행할 수 있다."}
{"patent_id": "10-2021-0163187", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "실시예에 따르면, Super resolution과 별도로 기존의 이미지 프로세서를 병행하여 사용하고, 각 출력을 일정한 비율로 합치면 이미지 프로세서의 효과와 super resolution에 의한 이미지 스케일링 효과를 동시에 얻을 수 있 다. 이처럼, 전통적인 이미지 프로세서 및 스케일러를 병행하여 사용하고 두 스케일러의 출력을 일정 비율로 블 렌딩(blending)하는 하드웨어를 추가함으로써, 고정된 SRCNN 파라미터 내에서도 다양한 효과가 적용된 고해상도 의 영상 출력을 얻을 수 있다."}
{"patent_id": "10-2021-0163187", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "아래에서는 첨부한 도면을 참고로 하여 본 발명의 실시예에 대하여 본 발명이 속하는 기술분야에서 통상의 지식 을 가진 자가 용이하게 실시할 수 있도록 상세히 설명한다. 그러나 본 발명은 여러가지 상이한 형태로 구현될 수 있으며 여기에서 설명하는 실시예에 한정되지 않는다. 그리고 도면에서 본 발명을 명확하게 설명하기 위해서 설명과 관계없는 부분은 생략하였으며, 명세서 전체를 통하여 유사한 부분에 대해서는 유사한 도면 부호를 붙였 다. 명세서 전체에서, 어떤 부분이 어떤 구성요소를 \"포함\"한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다 른 구성요소를 제외하는 것이 아니라 다른 구성요소를 더 포함할 수 있는 것을 의미한다. 또한, 명세서에 기재된 \"…부\", \"…기\", \"…모듈\" 등의 용어는 적어도 하나의 기능이나 동작을 처리하는 단위를 의미하며, 이는 하드웨어나 소프트웨어 또는 하드웨어 및 소프트웨어의 결합으로 구현될 수 있다. 본 발명에서 설명하는 장치들은 적어도 하나의 프로세서, 메모리 장치, 통신 장치 등을 포함하는 하드웨어로 구 성되고, 지정된 장소에 하드웨어와 결합되어 실행되는 프로그램이 저장된다. 하드웨어는 본 발명의 방법을 실행 할 수 있는 구성과 성능을 가진다. 프로그램은 도면들을 참고로 설명한 본 발명의 동작 방법을 구현한 명령어 (instructions)를 포함하고, 프로세서와 메모리 장치 등의 하드웨어와 결합하여 본 발명을 실행한다. 본 명세서에서 \"전송 또는 제공\"은 직접적인 전송 또는 제공하는 것 뿐만 아니라 다른 장치를 통해 또는 우회 경로를 이용하여 간접적으로 전송 또는 제공도 포함할 수 있다. 본 명세서에서 단수로 기재된 표현은 \"하나\" 또는 \"단일\" 등의 명시적인 표현을 사용하지 않은 이상, 단수 또는 복수로 해석될 수 있다. 본 명세서에서 도면에 관계없이 동일한 도면번호는 동일한 구성요소를 지칭하며, \"및/또는\" 은 언급된 구성 요 소들의 각각 및 하나 이상의 모든 조합을 포함한다. 본 명세서에서, 제1, 제2 등과 같이 서수를 포함하는 용어들은 다양한 구성요소들을 설명하는데 사용될 수 있지 만, 상기 구성요소들은 상기 용어들에 의해 한정되지는 않는다. 상기 용어들은 하나의 구성요소를 다른 구성요 소로부터 구별하는 목적으로만 사용된다. 예를들어, 본 개시의 권리 범위를 벗어나지 않으면서 제1 구성요소는 제2 구성요소로 명명될 수 있고, 유사하게 제2 구성요소도 제1 구성요소로 명명될 수 있다. 본 명세서에서 도면을 참고하여 설명한 흐름도에서, 동작 순서는 변경될 수 있고, 여러 동작들이 병합되거나, 어느 동작이 분할될 수 있고, 특정 동작은 수행되지 않을 수 있다. 도 1은 실시예에 따른 이미지 스케일링 시스템과 그 주변 구성을 도시한다. 도 1을 참조하면, 이미지 스케일링 시스템은 버스(Bus)를 통하여 이미지 제공 장치, MCU(microcontroller unit), 입력 장치, 디스플레이 장치 및 통신 장치와 연결될 수 있다. 이미지 스케일링 시스템은 이미지 제공 장치로부터 입력받은 비디오 신호에 대하여 스케일링 (scaling)을 수행한다. 여기서, 이미지 제공 장치는 소정의 이미지 프레임 단위로 비디오 신호를 출력하므로, 이미지 스케일링 시스템은 이미지 프레임을 대상으로 스케일링을 수행한다. 여기서, 스케일링은 업스 케일링(Upscaling)을 의미한다. 이미지 스케일링 시스템은 메모리에 저장된 명령들(instructions)을 실행하는 다양한 형태의 프로세서들을 포함하는 컴퓨팅 장치일 수 있다. MCU는 입력 장치를 통해 다양한 이미지 스케일링을 구현하기 위해 필요한 프리셋 파라미터, 블렌딩 (Blending Factor) 팩터(Factor)를 입력받아 저장하고, 이를 이미지 스케일링 시스템으로 제공한다. 디스플레이 장치는 이미지 스케일링 시스템을 통해 스케일링된 이미지를 화면 상에 출력한다. 통신 장치는 외부 장치와 유무선망을 통해 데이터를 송수신하고, 이러한 데이터를 버스를 통해 이미지 스 케일링 시스템, 이미지 제공 장치, MCU로 출력할 수 있다. 도 2는 실시예에 따른 이미지 스케일링 시스템의 구성을 나타낸 블록도이다. 도 2를 참조하면, 이미지 스케일링 시스템은 버퍼 레지스터 #1, 버퍼 레지스터 #2, 이미지 프로 세서, 딥러닝 이미지 스케일러 장치 및 이미지 블렌더(Blender)를 포함한다. 이미지 프로세서, 딥러닝 이미지 스케일러 장치 및 이미지 블렌더는 각각 독립된 프로세서들로 구현될 수 있으며, 예컨대, CPU(Central Processing Unit), MPU(Micro Processor Unit), GPU(Graphic Processing Unit) 등일 수 있다. 이들(130, 140, 150)은 후술하는 동작을 실행하기 위한 프로그램에 대한 연산 을 수행할 수 있다. 버퍼 레지스터 #1는 프리셋(Preset) 셀렉터로서 동작한다. 버퍼 레지스터 #1는 서로 다른 이미지 프 로세싱 모드를 결정하는 프리셋 정보를 저장한다. 이러한 프리셋 정보는 MCU로부터 전달되어 저장된다. 버 퍼 레지스터 #1는 버퍼와 레지스터로 구성되어 있으며, MCU는 프리셋 정보를 버퍼에 저장했다가, 이 미지 제공 장치로부터 수직 동기(Sync) 신호가 입력되면, 버퍼에 저장된 프리셋 정보를 레지스터에 저장할 수 있다. 레지스터에 저장된 프리셋 정보는 프리셋 선택 신호에 포함되어 이미지 프로세서에 입력될 수 있 다. 버퍼 레지스터 #2는 블렌딩 팩터 셀렉터로서 동작한다. 버퍼 레지스터 #2는 버퍼와 레지스터로 구성 되어 있으며, MCU는 블렌딩 팩터를 버퍼에 저장했다가, 이미지 제공 장치로부터 수직 동기(Sync) 신 호가 입력되면, 버퍼에 저장된 블렌딩 팩터를 레지스터에 저장할 수 있다. 레지스터에 저장된 블렌딩 팩터는 이 미지 블렌더에 입력된다. 여기서, 프리셋 정보와 블렌딩 팩터는 입력 장치(도 1의 400)를 통해 사용자가 MCU에 설정할 수 있다. 따 라서, 사용자가 원하는 이미지 필터/스케일링 모드를 구현하기 위한 이미지 스케일러를 선택할 수 있다. 이미지 프로세서는 이미지 제공 장치로부터 입력받은 이미지에 대해 다양한 이미지 프로세싱을 수행 한다. 이미지 프로세서는 여러 종류의 이미지 이펙터들(Effectors)을 포함할 수 있다. 이미지 이펙터들은 이미지의 명암이나 색감을 변화하는 기능, 이미지 필터링 기능을 포함할 수 있고, 이외에도 이미지의 출력을 변 화시키는 어떠한 기능도 포함할 수 있다. 이미지 프로세서는 복수의 이미지 스케일링 알고리즘을 이용하여 이미지 스케일링을 수행한다. 여기서, 이 미지 스케일링은 업스케일링(Upscailing)을 말한다. 이때, 복수의 이미지 스케일링 알고리즘은 종래에 알려진 다양한 알고리즘에서 사용될 수 있다. 예를 들어, 복수의 이미지 스케일링 알고리즘은 Nearest Neighbor Interpolation, Bilinear Interpolation, Bicubic Interpolation, Lanczos Interpolation 등을 포함할 수 있 다. 이미지 프로세서가 수행하는 이미지 프로세싱의 기능은 한 종류로 국한되지 않으며 다양한 기능을 동시에 포함할 수 있으며, 프리셋 셀렉터로 동작하는 버퍼 레지스터 #1에 의한 모드 선택을 통하여 기능들의 동작 여부를 결정할 수 있다. 여기서, 이미지 프로세싱은 이미지 이펙터 및 이미지 스케일링을 포함할 수 있다. 즉, 이미지 프로세서는 다양한 이미지 이펙터들과 복수의 이미지 스케일링 알고리즘을 수행할 수 있으며, 이중 에서 버퍼 레지스터 #1로부터 입력받은 프리셋 선택 신호에 대응하는 이미지 이펙터와 이미지 스케일링을 입력 이미지에 적용한다.이미지 프로세서에 의해 스케일링된 이미지의 해상도와 딥러닝 스케일러의 해상도는 서로 다르다. 따 라서, 버퍼 레지스터 #1에는 이미지 프로세서가 딥러닝 이미지 스케일러 장치와 동일한 해상도 를 가질 수 있는 이미지 스케일링 알고리즘이 선택되게 하는 프리셋 정보가 저장될 수 있다. 이를 통해, 이미지 프로세서는 딥러닝 스케일러와 동일한 해상도를 가지는 이미지 스케일링을 수행할 수 있다. 딥러닝 이미지 스케일러 장치는 이미지 제공 장치로부터 입력되는 이미지에 대해 딥러닝 알고리즘에 의해 학습된 파라미터 값을 기반으로 이미지 스케일링을 수행할 수 있다. 딥러닝 알고리즘은 SRCNN(Super Resolution Convolution Neural Networks)이 사용될 수 있으나, 이에 국한되는 것은 아니다. 딥러닝 이미지 스케일러 장치는 기계 학습을 통해 얻은 필터의 파라미터 값들을 활용하여 이미지 스케일링 을 진행한다. 딥러닝 이미지 스케일러 장치는 수많은 영상 데이터를 이용하여 사전 학습된 파라미터를 토 대로, 고화질 이미지 스케일링을 수행한다. 파라미터 값은 학습 과정에서 사용된 데이터셋에 의해 결정이 되며, 다른 특성을 가지는 데이터셋을 이용하여 학습할 경우 파라미터 값 또한 다르게 정해진다. 딥러닝 이미지 스케일러 장치는 이미지를 처리할 때는 학습 방법에 따라 단순 이미지 해상도만 증가시키는 것뿐만 아니라 이미지에 특정 프로세싱을 적용한 효과를 동시에 얻을 수 있다. 예를 들면, 딥러닝 이미지 스케 일러 장치는 이미지를 보다 선명하게 하거나, HDR(High Dynamic Range)를 강조하는 효과 등을 적용할 수 있다. 이를 위해서 딥러닝 이미지 스케일러 장치는 각 효과가 적용된 이미지로 구성된 데이터셋을 기반으 로 사전 학습을 수행할 수 있다. 이미지 블렌더(Blender)는 이미지 프로세서에 의해 이미지 스케일링된 출력 이미지와 딥러닝 이미지 스케일러 장치에 의해 이미지 스케일링된 출력 이미지를 블렌딩한다. 이때, 이미지 블렌더는 출력 이 미지들을 영상 전체 또는 개별 화소에 대하여 블렌딩 팩터에 따른 비율로 블렌딩할 수 있다. 여기서, 블렌딩 팩터는 출력 이미지들의 섞이는 비율을 의미한다. 블랜드 팩터는 이미지 프로세서 및 전통적인 스케일링 알고리즘의 출력 결과와 SRCNN의 출력 결과를 어떠한 비율로 블랜드할지 결정하기 위해 사용된다. 블 랜드 팩터의 정밀도가 높아지면 더 다양한 비율의 영상 블랜딩을 수행할 수 있게 된다. 이미지 블렌더는 이미지 프로세서의 출력 이미지 및 딥러닝 이미지 스케일러 장치의 출력 이미 지를 블렌딩하여 최종 이미지를 생성하므로, 고정된 SRCNN 파라미터 내에서도 다양한 효과가 적용된 고해상도의 영상 출력을 얻을 수 있다. 종래에는 딥러닝 이미지 스케일러 장치가 다양한 종류의 옵션으로 이미지 스케일링을 수행하고자 할 경우, 많은 종류의 필터 파라미터 값을 저장하기 위해 많은 양의 메모리를 요구할 수 있으며 이를 위해 오프-칩 메모 리(off-chip memory)를 사용해야 할 수 있다. 이 경우, 오프-칩 메모리와의 메모리 버스에 이미지 스케일링 시 스템이 연결되어야 하므로, 버스에 트래픽을 유발하게 된다. 그러나, 본 발명의 실시예에 따르면, 딥러닝 이미지 스케일러 장치에 설정되지 않은 이미지 효과는 이미지 프로세서를 통해 처리하고 이를 블렌딩 함으로써, 결국은 한정된 파라미터 값들만 가지고 다양한 영상 효과의 출력을 할 수 있고, 많은 양의 메모리가 필요가 없으므로 버스와의 접점이 사라지게 된다. 딥러닝 이미지 스케일러 장치는 고정된 파라미터 값만을 가지므로, 이미지의 출력 옵션 설정은 버퍼 레지 스터 #1와 버퍼 레지스터 #2를 이용하여 조절된다. 따라서, 앞서 기재한 바와 같이 메모리 버스의 트 래픽 점유를 낮출 수 있으며, 출력 영상의 수직 동기화를 맞추는 것도 용이해진다. 또한, 파라미터 값이 업데이트되어 현재 출력되는 프레임 도중에 파라미터 값을 변경하고자 할 경우, 한 프레임 내에서의 이미지가 손상되므로, 수직 동기화를 맞춰줄 필요성이 존재한다. 따라서, 이를 방지하기 위해 전체 파 라미터 개수만큼 버퍼를 필요로 하게 되어 부담이 발생하게 된다. 그러나, 본 발명의 실시예에서는 버퍼 레지스 터 #1와 버퍼 레지스터 #2는 수직 동기화 신호가 입력되었을때, 버퍼에 저장되어 있는 프리셋 정보, 블렌딩 팩터를 레지스터로 설정한다. 기본적으로, 이미지 프레임은 수직 동기 신호(vsync), 수평 동기 신호 (hsync), 데이터 이네이블(data enable)과 함께 이미지 데이터를 포함한다. 버퍼 레지스터 #1와 버퍼 레지 스터 #2는 이미지 프레임의 수직 동기 신호(vsync)가 1일때에만, 각 버퍼에 저장된 데이터를 레지스터로 적용한다. 또한, 블랜드 팩터의 정밀도를 높게 한다면, 고정된 신경망 파라미터만을 가지고도 출력 영상의 옵션을 세밀하 게 설정할 수 있다.도 3은 실시예에 따른 이미지 프로세서의 구성을 도시한 블록도이다. 도 3을 참조하면, 이미지 프로세서는 복수의 필터 프리셋, 먹서(Muxer) #1, 필터, 복수의 이미지 스케일러, 먹서 #2, 사용자 프리셋 레지스터 및 사용자 이미지 스케일러를 포함한 다. 버퍼 레지스터 #1가 출력하는 프리셋 선택 신호에는 먹서 #1로 출력하는 프리셋 선택 정보와 먹서 #2로 출력하는 스케일러 선택 정보를 포함할 수 있다. 복수의 필터 프리셋은 서로 다른 다양한 필터 기능을 수행할 수 있는 필터 파라미터 값들을 각각 저장한다. 예를들어, 필터 프리셋 #1은 이미지 명암 변화를 위한 파라미터 정보를 저장하고, 필터 프리셋 #2는 이미지 색감 변화를 위한 파라미터 정보를 저장하고, 필터 프리셋 #n은 HDR(High Dynamic Range)을 강조하는 효 과를 위한 파라미터 정보를 저장할 수 있다. 사용자 프리셋 레지스터는 입력 장치로부터 전달되는 사용자가 입력한 사용자 설정 프리셋 정보를 MCU로부터 전달받아 저장할 수 있다. 사용자 설정 프리셋 정보는 복수의 필터 프리셋에 저장되지 않 은 사용자 선택에 따른 동적인 필터 파라미터값들을 포함할 수 있다. 한 실시예에 따르면, 사용자 프리셋 레지스터를 사용하는 중에 사용자 프리셋 레지스터의 업데이트가 필요한 경우, 버퍼 레지스터 #1는 복수의 필터 프리셋 중 하나를 선택하도록 먹서 #1에게 프리 셋 선택 신호를 출력할 수 있다. 그리고 사용자 프리셋 레지스터의 필터 파라미터값을 새로운 사용자 설정 프리셋 정보로 업데이트 한 후, 버퍼 레지스터 #1는 사용자 프리셋 레지스터를 선택하도록 먹서 #1에게 프리셋 선택 신호를 출력함으로써, 업데이트된 사용자 설정 프리셋 정보를 이용하여 이미지 필터링 이 수행되도록 할 수 있다. 다른 실시예에 따르면, 사용자 프리셋 레지스터를 적어도 두개 이상 구비할 수도 있다. 이 경우, 제1 사용 자 프리셋 레지스터에 저장된 사용자 설정 프리셋 정보를 이용하여 이미지 필터링이 수행되다가 제2 사용 자 프리셋 레지스터에 새로운 사용자 설정 프리셋 정보가 업데이트되면, 버퍼 레지스터 #1가 제2 사 용자 프리셋 레지스터를 선택하는 프리셋 선택 신호를 먹서 #1로 출력함으로써, 업데이트된 사용자 설정 프리셋 정보를 이용하여 이미지 필터링이 수행되도록 할 수 있다. 이 경우, 유연한 화면 전환을 통해 사용 자가 프리셋 정보를 설정하는 과정에서 임시로 사용되는 프리셋으로 처리된 결과가 화면에 짧은 시간이라도 나 타나는 문제가 발생하지 않을 수 있다. 먹서(Muxer) #1는 버퍼 레지스터 #1로부터 입력받은 프리셋 선택 신호를 토대로, 복수의 필터 프리셋 과 적어도 하나의 사용자 프리셋 레지스터 중에서 하나의 필터 프리셋 출력만을 선택하여 필터 로 출력한다. 그러면, 필터는 먹서 #1가 출력한 필터 프리셋을 토대로, 이미지 제공 장치로부터 입력받은 이미지에 필터링을 수행한다. 복수의 이미지 스케일러는 서로 다른 다양한 이미지 스케일링 기능을 수행할 수 있다. 예를들어, 이미지 스케일러 #1은 가장 가까운 이웃 보간 방식인 Nearest Neighbor Interpolation을 수행하고, 이미지 스케 일러 #2는 이중선형보간법(Bilinear Interpolation)을 수행하며, 이미지 스케일러 #n은 Lanczos Interpolation 을 수행할 수 있다. 이때, 이미지 프로세서는 추가로 적어도 하나의 사용자 이미지 스케일러를 포함할 수 있다. 사용자 이미지 스케일러는 입력 장치로부터 전달되는 사용자가 입력한 사용자 설정 스케일링 정보를 MCU로부터 전달받아 저장할 수 있다. 사용자 설정 스케일링 정보는 복수의 이미지 스케일러에 저장되 지 않은 사용자 선택에 따른 동적인 스케일링값들을 포함할 수 있다. 한 실시예에 따르면, 사용자 이미지 스케일러를 사용하는 중에 사용자 이미지 스케일러의 업데이트가 필요한 경우, 버퍼 레지스터 #1는 복수의 이미지 스케일러 중 하나를 선택하도록 먹서 #2에게 프리셋 선택 신호를 출력할 수 있다. 그리고 사용자 이미지 스케일러의 스케일링 파라미터값을 새로운 사 용자 설정 스케일링 파라미터 정보로 업데이트 한 후, 버퍼 레지스터 #1는 사용자 이미지 스케일러를 선택하도록 먹서 #2에게 프리셋 선택 신호를 출력함으로써, 업데이트된 사용자 설정 스케일링 파라미터 정 보를 이용하여 이미지 스케일링이 수행되도록 할 수 있다. 다른 실시예에 따르면, 사용자 이미지 스케일러를 적어도 두개 이상 구비할 수도 있다. 이 경우, 제1 사용 자 이미지 스케일러에 저장된 사용자 설정 스케일링 정보를 이용하여 이미지 스케일링이 수행되다가 제2사용자 이미지 스케일러에 새로운 사용자 설정 스케일링 정보가 업데이트되면, 버퍼 레지스터 #1가 제2 사용자 이미지 스케일러를 선택하는 프리셋 선택 신호를 먹서 #2로 출력함으로써, 업데이트된 사 용자 설정 스케일링 정보를 이용하여 이미지 스케일링이 수행되도록 할 수 있다. 이 경우, 유연한 화면 전환을 통해 사용자가 스케일링 정보를 설정하는 과정에서 임시로 사용되는 스케일링으로 처리된 결과가 화면에 짧은 시간이라도 나타나는 문제가 발생하지 않을 수 있다. 먹서 #2는 버퍼 레지스터 #1로부터 입력받은 프리셋 선택 신호를 토대로, 복수의 이미지 스케일러 및 사용자 이미지 스케일러 중에서 하나의 이미지 스케일러 출력만을 선택하여 출력한다. 이와 같이, 이미지 프로세서는 프리셋 선택 신호에 따른 이미지 필터링 및 이미지 스케일링 처리된 이미지 를 출력한다. 이러한 이미지는 이미지 블렌더에 입력된다. 도 4는 실시예에 따른 이미지 블렌더의 구성을 도시한 블록도이다. 도 4를 참조하면, 이미지 블렌더는 곱셈기 #1, 곱셈기 #2 및 합산기를 포함한다. 블랜딩 팩터로서 하나의 K값이 입력되면, 곱셈기 #1는 이미지 프로세서의 출력 이미지(A)에 1-K를 곱 셈 연산한다. 곱셈기 #2는 딥러닝 이미지 스케일러 장치의 출력 이미지에 블렌딩 팩터인 K를 곱셈 연산한다. 합산기는 곱셈기 #1의 출력 이미지(A×(1-K))와, 곱셈기 #2의 출력 이미지(B×K)를 합산한 블렌 딩 이미지(Y=(K×B)+((1-K)×A))를 출력한다. 이때, 곱셈기 #1과 곱셈기 #2에 입력되는 각 블렌딩 팩터는 1-K, K로서, 서로 다른 값일 수 있다. 여기서, 블렌딩 팩터인 K는 0~1 범위에 포함될 수 있다. K=1일 경우, 100% 딥러닝 이미지 스케일러 장치 출력이 블렌딩 이미지에 합산될 수 있다. K=0일 경우, 100% 이미지 프로세서 출력이 블렌딩 이미지에 합산될 수 있다. K=0.5일 경우, 딥러닝 이미지 스케일러 장치 출력과 이미지 프로세서 출력의 평균값이 블렌딩 이미지에 합산될 수 있다. 이러한 곱셈기 #1, 곱셈기 #2 및 합산기의 연산 과정이 각각의 출력 픽셀마다 진행될 수 있다. 이미지 블렌더는 이미지 프로세서 출력(A)과 딥러닝 이미지 스케일러 출력(B)에 대하여, 이미지 전체 또는 개별 화소에 대하여 블렌딩 파라미터에 따른 비율로 블렌딩을 수행할 수 있다. 이때, 이미지 블렌더는 이 미지 프로세서 출력(A)과 딥러닝 이미지 스케일러 출력(B)에 대하여, 입력받은 블렌딩 팩터(K)에 기초하여 결정 된 블렌딩 파라미터, 예를들어, K와 1-K를 적용하여 블렌딩을 수행할 수 있다. 이처럼, 초해상도(Super resolution)와 별도로 기존의 이미지 프로세서를 병행하여 사용하고, 각 출력을 일정한 비율로 합치면 이미지 프로세서의 효과와 초해상도(super resolution)에 의한 이미지 스케일링 효과를 동시에 얻을 수 있다. 도 5는 한 실시예에 따른 이미지 프로세서의 동작을 도시한다. 도 5를 참조하면, 이미지 프로세서(도 2의 130)는 이미지 제공 장치로부터 이미지가 입력(S101)되면, 버퍼 레지스터 #1로부터 선택된 필터 프리셋을 적용한 필터 기능을 이미지에 구현한다(S102). 이미지 프로세서는 버퍼 레지스터 #1로부터 선택된 프리셋 선택 신호에 기초하여 이미지 스케일러(도 3의 134)를 선택(S103)하고, 선택된 이미지 스케일러에 의해 이미지 스케일링을 수행한다(S104). 도 6은 한 실시예에 따른 이미지 블렌더의 동작을 도시한다. 도 6을 참조하면, 이미지 블렌더(도 2의 150)는 이미지 프로세서의 출력 이미지에 버퍼 레지스터 #2 에서 선택된 블렌딩 팩터를 곱셈 연산(S201)한다. 이미지 블렌더는 딥러닝 이미지 스케일러 장치의 출력 이미지에 버퍼 레지스터 #2에서 선택된 블렌딩 팩터를 곱셈 연산(S202)한다. 이미지 블렌더는 S201의 곱셈 연산된 출력 이미지와 S202의 곱셈 연산된 출력 이미지를 합산한 하나의 블 렌딩 이미지를 출력한다(S203). 도 7은 실시예에 따른 프리셋 설정 과정을 도시한다. 도 7을 참조하면, MCU에서 설정 변경 준비를 한다(S301). 설정 변경 준비는 사용자에 의해 프리셋 정보 입 력 과정 등을 포함할 수 있다. MCU는 프리셋 종류의 변경 유무를 판단(S302)하고, 변경으로 판단되면, 프리셋 셀렉터 버퍼 레지스터(11 0)를 업데이트한다(S303). 이때, 업데이트는 버퍼에만 프리셋 설정값이 저장됨을 말한다. MCU는 블렌딩 팩터의 변경 유무를 판단(S304)하고, 변경으로 판단되면, 블렌딩 팩터 버퍼 레지스터를 업데이트한다(S305). 이때, 업데이트는 버퍼에만 블렌딩 팩터값이 저장됨을 말한다. 프리셋 셀렉터 버퍼 레지스터와 블렌딩 팩터 버퍼 레지스터는 수직 동기(Vsync)가 발생하는지 판단 (S306)하고, 수직 동기가 발생하면, 버퍼에 업데이트된 값을 레지스터로 적용한다(S307). 이때, 프리셋 셀렉터 버퍼 레지스터와 블렌딩 팩터 버퍼 레지스터는 MCU에 의해 즉시 변경되는 것이 아니라 우선적으로 버퍼에 업데이트된다. 그 이후 영상 처리 도중 수직 동기(Vsync)가 발생하면 버퍼에 있 는 값을 레지스터에 업데이트되도록 하여 한 프레임 중간에 레지스터 값이 변경되어 발생할 수 있는 문제를 방 지한다. 이와 같이, 사용자에 의하여 소프트웨어 방식, 즉, MCU에 설정값을 저장함으로써, 프리셋 셀렉터 버퍼 레지스터와 블렌딩 팩터 버퍼 레지스터를 변경할 수 있다. 이상에서 설명한 본 발명의 실시예는 장치 및 방법을 통해서만 구현이 되는 것은 아니며, 본 발명의 실시예의 구성에 대응하는 기능을 실현하는 프로그램 또는 그 프로그램이 기록된 기록 매체를 통해 구현될 수도 있다. 이상에서 본 발명의 실시예에 대하여 상세하게 설명하였지만 본 발명의 권리범위는 이에 한정되는 것은 아니고 다음의 청구범위에서 정의하고 있는 본 발명의 기본 개념을 이용한 당업자의 여러 변형 및 개량 형태 또한 본 발명의 권리범위에 속하는 것이다.도면 도면1 도면2 도면3 도면4 도면5 도면6 도면7"}
{"patent_id": "10-2021-0163187", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 실시예에 따른 이미지 스케일링 시스템과 그 주변 구성을 도시한다. 도 2는 실시예에 따른 이미지 스케일링 시스템의 구성을 나타낸 블록도이다. 도 3은 실시예에 따른 이미지 프로세서의 구성을 도시한 블록도이다. 도 4는 실시예에 따른 이미지 블렌더의 구성을 도시한 블록도이다. 도 5는 한 실시예에 따른 이미지 프로세서의 동작을 도시한다. 도 6은 한 실시예에 따른 이미지 블렌더의 동작을 도시한다. 도 7은 실시예에 따른 프리셋 설정 과정을 도시한다."}
