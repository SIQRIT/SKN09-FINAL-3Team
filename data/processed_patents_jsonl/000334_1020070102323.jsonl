{"patent_id": "10-2007-0102323", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2008-0032624", "출원번호": "10-2007-0102323", "출원인": "이문기", "발명자": "이문기"}}
{"patent_id": "10-2007-0102323", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "두 지점의 3차원 상대 위치와 방향을 측정하는 3차원 위치 측정장치에 있어서, 편광을 방사 또는 반사하는 정해진 형태와 크기의 편광 마크; 상기 편광 마크를 촬영하는 이미지 센서를 이용한 카메라부; 상기 카메라부에 의해 촬영된 편광 마크의 영상을 처리하여 카메라와 편광 마크의 3차원 상대 위치와 방향을 산출하는 영상처리부를 포함하는 것을 특징으로 하는 편광 마크와 카메라를 이용한 3차원 위치 측정장치."}
{"patent_id": "10-2007-0102323", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서, 편광 마크는 편광을 방사 또는 반사하는 사각형정보를 표시하는 형태의 마크를 포함하고카메라부는 서로 편광축이 일치하지 않게 배열된 편광 필터가 각각 렌즈 앞에 부착된 나란히 배열된 두 대의 카메라를 포함하고영상처리부는 상기 카메라부에서 촬영된 두 영상의 밝기의 차이가 나는 영역을 검출하여 편광 마크를 인식해서사각형 마크의 형태를 분석해서 카메라와 사각형 사이의 3차원 위치와 방향을 산출하는 것을 특징으로 하는 편광 마크와 카메라를 이용한 3차원 위치 측정장치."}
{"patent_id": "10-2007-0102323", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서, 편광 마크는 편광을 방사 또는 반사하는 사각형정보를 표시하는 형태의 마크를 포함하고카메라부는 편광 성분과 비 편광 성분의 광 신호를 각 화소마다 출력하는 편광 이미지 센서를 포함하고 포함하고영상처리부는 상기 카메라부에서 촬영된 영상의 편광 성분과 비 편광 성분 값의 차이가 나는 영역을 검출하여편광 마크를 인식해서 사각형 마크의 형태를 분석해서 카메라와 사각형 사이의 3차원 위치와 방향을 산출하는것을 특징으로 하는 편광 마크와 카메라를 이용한 3차원 위치 측정장치."}
{"patent_id": "10-2007-0102323", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제2항과 3항의 어느 한 항에 있어서 상기 편광 마크는 사각형의 네 꼭지점을 표시하는 편광 마크를 포함하는 것을 특징으로 하는 편광 마크와 카메라를 이용한 3차원 위치 측정장치."}
{"patent_id": "10-2007-0102323", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제2항과 3항의 어느 한 항에 있어서 상기 편광 마크는 사각형의 네 변을 표시하는 편광 마크를 포함하는 것을특징으로 하는 편광 마크와 카메라를 이용한 3차원 위치 측정장치."}
{"patent_id": "10-2007-0102323", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제2항과 3항의 어느 한 항에 있어서 상기 편광 마크는 모니터 스크린위에 부착된 편광 필터인 것을 특징으로 하는 편광 마크와 카메라를 이용한 3차원 위치 측정장치."}
{"patent_id": "10-2007-0102323", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제2항과 3항의 어느 한 항에 있어서 상기 편광 마크는 빔 프로젝터 스크린위에 부착된 편광 필터인 것을 특징으로 하는 편광 마크와 카메라를 이용한 3차원 위치 측정장치."}
{"patent_id": "10-2007-0102323", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제2항과 3항의 어느 한 항에 있어서 상기 편광 마크는 LCD모니터 스크린인 것을 특징으로 하는 편광 마크와 카메라를 이용한 3차원 위치 측정장치."}
{"patent_id": "10-2007-0102323", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "- 2 -공개특허 10-2008-0032624제1항 내지 8항 중 어느 한 항에 있어서 영상 처리부는 카메라의 시점이 향한 편광 마크위의 점의 위치 정보를컴퓨터의 포인팅 좌표로 변환하여 출력하는 좌표 변환부를 포함하는 것을 특징으로 하는 편광 마크와 카메라를이용한 3차원 위치 측정장치.명 세 서발명의 상세한 설명 기 술 분 야본 발명은 편광 마크와 카메라를 이용한 3차원 위치 측정장치에 관한 것이다. <1>기존의 기술 중에서 카메라를 사용한 3차원 위치 측정 장치와 유사한 것으로 본 발명의 발명인의 기존의 특허 <2>10-0532525-0000호 '카메라를 이용한 3차원 포인팅 장치' 가 있다. 상기 기존 발명 '카메라를 이용한 3차원 포인팅 장치' 는 카메라와 사각형 마크를 사용해서 카메라와 사각형 사이의 3차원 상대위치와 방향을 산출하여포인팅 작업에 사용하고있다. 이 방법은 사각형 마크를 검출하기 위해서 반드시 모니터의 네 변에 광원을 부착해야 한다는 단점이 있다. 즉 이 기존 특허를 상품화 할 경우 기존의 다양한 크기의 모니터에 맞게 광원모듈을생산해햐 하거나 모니터에 광원을 내장 시켜서 특수한 모니터를 생산해야 한다. 기존 모니터에 광원 모듈을 부착하는 경우 사용자가 새 모니터를 구입하면 기존 모니터와 크기가 다른 경우 광원 모듈도 크기가 맞는 것으로새로 구입해야 하는 문제가 있다. 또한 광원에 전원을 공급하기 위한 별도의 배선 작업이 필요하다. 컴퓨터의usb 포트를 통해 전원을 공급한다 해도 전선이 외부로 노출되어 시각적으로 거부감을 줄 수 있고 노트북과 같이이동중에 사용할 경우 전선이 주위 환경의 물체에 걸릴 수도 있고 배터리를 사용한다면 주기적으로 새 배터리로교체해야하는 불편함이 있다. 전선이 감춰진 광원 모듈이 내장된 특수 모니터는 동작은 되지만 모니터 가격이비싸고 외부에 광원 모듈이 노출돼 있어서 사용자에게 시각적으로 거부감을 줄 수 있다. 이러한 시각적 거부감은 모니터 시장에서 제품의 경쟁력 저하로 이어질 수 있다. 또한 종이처럼 얇은 휴대용 두루말이형 디스플레이,손목시계형 모니터, 핸드폰 액정 디스플레이, 소형 노트북 또는 PDA 등과 같이 모니터 여백이 작거나 없는 경우에는 광원을 부착하기 힘들다는 문제가 있다. 발명의 내용 해결 하고자하는 과제본 발명은 상기한 바와 같은 기존의 모니터 주위의 광원 마크를 인식하는 방식의 3차원 위치 측정 장치 또는 포 <3>인팅 장치가 갖는 한계를 극복하여 광원을 위한 별도의 전원이 필요 없는 편광 마크를 사용함으로써 임의의 크기와 형태의 모니터에 손쉽게 사용할 수 있는 3차원 위치 측정 장치를 제공하여 제조사에게는 별도의 광원 모듈또는 광원이 내장된 특수 모니터의 제조에 대한 부담을 없애고 사용자에게는 별도 광원 모듈을 구입하여 부착하고 포인팅 작업의 파라메터를 튜닝하는 부담을 없애고 전원 공급을 위한 배터리 구입비용과 광원에 대한 배선정리의 부담을 없애고 외부에 노출된 광원 모듈의 시각적 거부감을 제거하는 것을 목적으로 한다. 효 과본 발명에 의한 3차원 거리 측정장치를 사용하면 3차원 포인팅 장치의 제조사는 광원 모듈이 내장된 특수 모니 <4>터나 별도의 광원 모듈을 생산할 필요가 없고 사용자는 시각적으로 거슬리는 별도의 광원 모듈을 구입하거나 부착할 필요 없이 기존의 임의의 모니터에 저렴한 편광 필터를 부착하기만 하면 3차원 포인팅 작업을 할 수 있다.또한 본 발명에의한 편광 이미지 센서를 사용하면 복잡하고 공간을 많이 차지하는 빔 분할기를 사용할 필요가없어서 편광 마크를 인식하기 위한 카메라 장치를 소형화 할 수 있다. 또한 영상의 편광 성분과 비편광 성분의차를 계산해서 출력하는 회로를 이미지 센서나 카메라에 내장하면 이미지 처리부에서의 소프트웨어의 부하를 줄일 수 있다. 발명의 실시를 위한 구체적인 내용본 발명의 구성은 도 1과 같이 모니터 화면과 그 위쪽 여백에 편광축이 수직인 사각형 편광 필터(Mf)와 그 사각 <5>형 편광 필터의 사각형의 한 변을 표시하기위한 작은 원형 편광 필터(Df)가 각각 부착된 모니터(Mt)를 빔 분할기(Sp)를 통해 분할된 동일 모양의 영상을 나란히 배열된 두 대의 카메라 (Cav,Cah)로 촬영한 두 이미지를 비교분석해서 모니터 화면의 사각형과 그 사각형의 한 변을 인식하여 사각형의 찌그러진 정도와 찌그러진 방향으로- 3 -공개특허 10-2008-0032624부터 카메라와 모니터 사이의 3차원 위치와 방향을 산출하는 3차원 위치 측정 장치로써 두대의 카메라 앞에는편광축이 일치하지 않도록 정렬된 편광 필터(Fv,Fh)가 각각 부착되어있다. 촬영된 크기와 형태가 알려진 사각형으로부터 카메라와 사각형 사이의 3차원 방향과 위치를 알아내는 것은 이미지 프로세싱 분야에서P4P(perspective 4 point problem)라고 알려진 문제이다. 이에대한 자세한 내용은 COMPUTER VISION, GRAPHICS,AND IMAGE PROCESSING 47,33-44(1989) 에 논문으로 정리되어있다. 두 카메라 앞의 편광판의 편광 축이 일치하지 않게 배열된 이유는 두 카메라로 촬영한 이미지에서 편광 마크(Mf,Df) 가 서로 다른 밝기로 촬영되게 하기위함이다. 구체적으로 제1카메라(Cav)앞에는 모니터 앞에 부착된 편광 필터(Mf)와 같은 수직방향의 편광축의편광 필터(Fv)가 부착되어있고 제2 카메라(Cah)에는 그와 90도 방향을 이루는 편광축의 편광 필터(Fh)가 부착되어있다. 사용자가 모니터를 향하는 TV리모콘과 같은 형태로된 두 대의 카메라를 손에 쥐고 카메라의 위치와 방향을 조절함으로써 촬영된 이미지상의 모니터의 사각형의 모양이 바뀌게 되고 이를 컴퓨터나 마이크로콘트롤러에서 실행되는 영상처리 프로그램에 의해 처리하여 카메라와 모니터 사이의 3차원 상대 위치와 방향을 산출하여그 값을 실행중인 컴퓨터 프로그램에 입력할 수 있는 위치 측정장치에 관한 것이다. 3차원 상대 위치와 방향은3차원 포인팅 작업에 사용될 수 있으나 그에 한정되는 것은 아니다. 예를 들어서 편광 마크를 천정이나 벽에 부착하고 카메라를 청소로봇 윗면에 부착해서 청소 로봇의 방 안에서의 3차원 위치를 측정해서 청소 로봇의 움직임을 조정할 수 있다. 도1에서는 모니터위의 마크는 고정되고 카메라는 움직이는 것을 예로 들었으나 반대로 카메라를 모니터 위에 부착하고 사각형과 원형의 편광 마크(Mf,Df)를 카메라를 향하는 리모컨 앞면에 부착해서 움직여도 무방하다. 또한 서로 다른 편광 필터(Fv,Fh)를 통과한 두 영상을 촬영할 수만 있다면 하나의 카메라를사용해도 무방하다. 즉 카메라의 수가 중요한 것이 아니라 서로다른 편광 필터를 통과해서 편광 마크(Mf,Df)의부분만 서로 다른 밝기로 촬영된다면 무방하다. 예를 들면 넓은 이미지 센서를 좌우로 나눠서 두개의 동일 렌즈로 촬영을 해도 무방하다. 또한 하나의 카메라로 두개의 영상을 촬영해도 무방하다. 또한 아래에 설명할 편광이미지 센서를 사용해도 무방하다. 두 대의 카메라(Cah,Cav)가 편광 필터(Mf)가 부착된 모니터를 촬영한다면 편광 필터 Mf와 Fv는 편광축의 방향이 같으므로 카메라Cav에는 모니터 스크린 이미지가 도 2와 같이 밝게 촬영되고 반대로 Mf 와 Fh 는 편광축이 90도를 이루므로 카메라 Cah에는 모니터 스크린 이미지가 도 3과 같이 어둡게촬영된다. 즉 두 카메라에서 다른 픽셀은 모두 동일하고 모니터 위의 편광 마크 부분(Mf, Df)만 차이가 난다.영상 처리 프로그램은 두 대의 카메라의 영상의 차이인 차분 이미지(difference image)를 구해서 이치 이미지(binary image)를 구하면 도4와 같이 편광 마크 부분(Mf, Df)만 밝고 나머지 부분은 모두 검은 이미지를 얻을수 있고 밝은 부분의 사각형의 형태와 원형 부분의 위치를 분석해서 카메라와 모니터 사이의 3차원 상대 위치를알아낼 수 있다. 또한 도1의 빔 분할기(Sp)를 생략하는 대신 영상 처리부에서 두 카메라(Cav,Cah)에의해 촬영된두 이미지를 적당히 좌우로 평행 이동한 후 두 이미지가 최대한 겹치게 한 후 두 이미지의 차를 구하는 것도 가능하다. 이미지에서 사각형의 형태를 분석하는 것은 영상 처리 분야의 공지 기술로 구체적으로는 도4와 같은이치 이미지에서 밝은 영역의 경계선을 검출을 하고 그 경계선에서 허프 변환으로 직선들을 구해서 직선의 상대위치로부터 사각형을 구한다. 도1에서 설명의 편의를 위해 모니터 스크린을 편광 마크로 사용했으나 편광을 방사 또는 반사하는 임의의 밝은 물체나 광원을 사용해도 무방하다. 도 1에서 사각형 형태의 편광 마크(Mf)는 CRT모니터의 영상의 빛이 편광 마크를 통과 할 때 편광이 될 뿐만 아니라 주변광이 CRT 표면에서 반사될 때에도 편광이 되고, 원형 편광 마크(Df)는 주변광이 반사될 때 편광이 된다. 이를 도 5에 나타냈다. 즉 도 5에서 태양광이나 실내 조명에의한 편광되지 않은 주변광(UL)은 원형 편광 필터(Df)를 통과한 후 모니터 여백(Mt)에서 반사된 후 다시 원형 편광 필터(Df)를 통과해서 핀광이 되고 주변광(UL)은 사각형 모양의 편광 필터(Mf)를 통과한후 CRT모니터 표면(Cm)에서 반사된 후 다시 사각형 편광 필터(Mf)를 통과해 편광이 된다. 그리고 만약 CRT모니터에 컴퓨터나 TV 영상이 출력되고 있다면 그 출력광(UP)가 사각형 편광필터(Mf)를 통과해 편광이 된다. 만약LCD모니터를 사용한다면 LCD모니터로부터 방사되는 출력광(UP)가 이미 편광되어있기 때문에 사각형 편광 필터(Mf)는 생략될 수 있다. 이때 편광 마크는 태양이나 실내 조명의 주변광을 반사하므로 편광 마크만을 위한 별도의 전원과 배선은 불필요하며 투명한 유리 위에도 부착할 수 있다. 도 1에서는 편광 필터가 CRT모니터에 부착된 것을 예로 들었으나 모니터 이외의 임의의 장소나 물체에 부착되어 카메라와 편광 필터 사이의 3차원 거리를측정할 수 있다.도1의 빔 분할기(Sp)의 예는 기존의 특허 출원 번호 10-2001-0066152 호 '카메라를 이용한 포인팅 장치 및 포인 <6>터 위치 산출 방법' 에 도면으로 상세히 기술되어있다. 이러한 빔 분할기는 카메라의 렌즈 앞에 반거울이나 프리즘과 편광 필터를 조합해서 구성된다. 이러한 빔 분할기는 공간을 많이 차지해서 카메라부를 소형으로 만드는데 제한이 많다. 이를 해결하기 위하여 본 발명에서는 이미지 센서의 각 픽셀의 수광부에 편광 필터를 내장한편광 이미지 센서를 개시한다. 기존의 칼라 이미지 센서는 2X2 매트릭스 형태의 4개 수광 소자 위에 각각 적색,녹색,청색(R,G,B) 칼라 필터가 규칙적으로 부착되어있다. 도6은 가장 일반적인 베이어(Bayer) 칼라 필터를- 4 -공개특허 10-2008-0032624나타낸 것이다. 도7은 이와 비슷하게 이미지 센서의 한 픽셀을 구성하는 2X2 매트릭스 형태안에 대각선 형태로수직 편광 필터(V)와 수평 편광 필터(H)가 수광 소자 위에 부착된 모습을 나타낸 것이다. N으로 표시된 곳에는편광 필터가 부착되지 않는다. 이와 같은 편광 이미지 센서는 기존의 칼라 이미지의 R,G,B 성분 값 대신 흑백이미지 성분값(N), 수직 편광 필터(V) 를 통과한 흑백 이미지 성분값, 수평 편광 필터(H)를 통과한 흑백 이미지성분 값을 출력하게 된다. 이와 같은 편광 이미지 센서를 사용한 카메라로 편광을 방사 또는 반사하는 물체를촬영해서 각 픽셀에 대해 세 성분값(N,V,H)값을 비교하면 편광이 있는 부분을 쉽게 검출할 수 있다. 즉 세 성분값(N,V,H)을 적당히 정규화해서 모두 0에서 255 사이에 그 값이 분포하게 한 후 아래의 변환된 밝기값T 를 구한다.T = max( |N-V| ,|N-H| ) <7>여기서 |a| 는 a 의 절대값을 의미하고 max(a,b) 는 a,b 중 큰 값을 의미한다. <8>그러면 촬영된 이미지에서 편광이 없는 자연광영역에서는 T값이 거의 0이되고 편광이 있는 영역에서는 T값이 0 <9>보다 매우 큰 값이 된다. 이 T 값을 적당한 임계치와 비교해서 흑백 이미지로 만들 수 있다. 그러면 편광이 있는 영역만 밝게 표시되고 그렇치 않은 영역만 검게 표시된다. 이와 같은 N,H,V 성분 값에서 T 로의 변환을 수행하는 전용 회로를 이미지 센서나 카메라에 포함하면 출력 영상은 편광 부분만 밝게 표시된다. 그와 같은 변환회로를 포함하지 않고 기존의 칼라 신호(R,G,B) 대신 편광 신호(N,V,H)를 출력하면 출력되는 영상은 흑백 이미지가 되고 이미지 처리부에서 소프트웨어적으로 변환을 수행하면 편광 부분만 밝은 영상을 얻을 수 있다.또한 본 발명의 3차원 거리 측정 장치에의해 구한 3차원 거리 정보를 컴퓨터의 포인팅 신호로 사용할 수 있다. <10>예를 들어서 편광 마크를 컴퓨터 모니터에 부착하여 카메라로 촬영하는 경우 카메라를 움직여서 카메라의 시선(촬영 방향)이 향한 지점으로 마우스 포인터를 이동시킬 수 있다. 이 경우 포인팅 좌표는 (x,y)의 2차원 좌표일수도 있고(x,y,z )형태의 3차원 좌표일 수도 있다. 그리고 편광 마크를 빔프로젝터의 스크린에 부착하여 투사된컴퓨터 영상을 촬영하면서 그 영상안의 마우스 포인터를 이동시킬 수도 있다.그리고 편광 마크는 사각형 정보를 포함하는 어떠한 형태의 마크라도 무방하다. 예를 들어서 4보다 큰 수의 꼭 <11>지점을 갖는 다각형이라도 무방하다. 즉 마크가 반드시 사각형이 아니라도 마크의 특징점으로부터 적어도4개의특징점을 추출할수 있으면 무방하다. 예를 들어서 도8과 같이 사각형의 위의 두 꼭지점을 나타내는 원 형태의마크 2개와 밑변을 나타내는 선 형태의 마크를 사용해도 무방하다.도면의 간단한 설명도1은 본 발명의 바람직한 일 실시예의 구성도 <12>도2는 모니터 스크린의 빛이 편광 필터를 통과해서 밝게 촬영된 이미지 <13>도3은 모니터 스크린의 빛이 편광 필터에의해 차단돼서 어둡게 촬영된 이미지 <14>도4는 도2와 도3의 두 이미지의 차분 이미지 <15>도5는 자연광이 편광 필필터를 통과해서 편광이 되는 모습을 나타낸 그림 <16>도6은 칼라 이미지 센서용 베이어 칼라 필터 매트릭스 <17>도7은 편광 이미지 센서용 편광 필터 매트릭스 <18>도8은 두개의 점과 한 개의 선으로된 사각형 마크 <19><도면 주요부호의 설명> <20>Mt: 컴퓨터 모니터, Mf,Df:모니터에 부착된 편광 필터, <21>Cah,Cav: 카메라, Fv,Fh: 카메라에 부착된 편광 필터, <22>Sp:빔 분할기 <23>- 5 -공개특허 10-2008-0032624도면 도면1 도면2- 6 -공개특허 10-2008-0032624 도면3 도면4- 7 -공개특허 10-2008-0032624 도면5 도면6- 8 -공개특허 10-2008-0032624 도면7 도면8- 9 -공개특허 10-2008-0032624"}
{"patent_id": "10-2007-0102323", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 편광마크과 편광 정보를 촬영할 수 있는 카메라를 이용한 3차원 위치 측정장치에 관한 것이다. 본 발 명에 따른 편광마크와 카메라를 이용한 3차원 위치 측정장치는 두 지점 사이의 3차원 상대 위치와 방향을 산출하 는 장치로서, 한 지점에 위치한 크기와 모양이 정해진 편광을 방사 또는 반사하는 편광마크, 다른 한 지점에 위 치한 편광을 촬영할 수 있는 이미지 센서를 사용한 카메라, 그리고 상기 카메라로 촬영한 편광 마크의 영상을 분 석해서 카메라와 편광 마크 사이의 3차원 상대 위치와 방향을 산출하는 영상처리수단을 포함하여 구성되고 편광 이미지 센서는 편광을 방사 또는 반사하는 물체를 검출하기 쉽게 하기 위하여 편광 필터가 이미지 센서의 각 수 광 소자 위에 부착되어 구성된다. 또한 산출된 3차원 위치 정보는 컴퓨터의 마우스나 조이스틱과 같은 포인팅 좌 표 신호로 사용될 수 있다."}
{"patent_id": "10-2007-0102323", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 편광 마크와 카메라를 이용한 3차원 위치 측정장치에 관한 것이다. <1> 기존의 기술 중에서 카메라를 사용한 3차원 위치 측정 장치와 유사한 것으로 본 발명의 발명인의 기존의 특허 <2> 10-0532525-0000호 '카메라를 이용한 3차원 포인팅 장치' 가 있다. 상기 기존 발명 '카메라를 이용한 3차원 포 인팅 장치' 는 카메라와 사각형 마크를 사용해서 카메라와 사각형 사이의 3차원 상대위치와 방향을 산출하여 포인팅 작업에 사용하고있다. 이 방법은 사각형 마크를 검출하기 위해서 반드시 모니터의 네 변에 광원을 부착 해야 한다는 단점이 있다. 즉 이 기존 특허를 상품화 할 경우 기존의 다양한 크기의 모니터에 맞게 광원모듈을 생산해햐 하거나 모니터에 광원을 내장 시켜서 특수한 모니터를 생산해야 한다. 기존 모니터에 광원 모듈을 부 착하는 경우 사용자가 새 모니터를 구입하면 기존 모니터와 크기가 다른 경우 광원 모듈도 크기가 맞는 것으로 새로 구입해야 하는 문제가 있다. 또한 광원에 전원을 공급하기 위한 별도의 배선 작업이 필요하다. 컴퓨터의 usb 포트를 통해 전원을 공급한다 해도 전선이 외부로 노출되어 시각적으로 거부감을 줄 수 있고 노트북과 같이 이동중에 사용할 경우 전선이 주위 환경의 물체에 걸릴 수도 있고 배터리를 사용한다면 주기적으로 새 배터리로 교체해야하는 불편함이 있다. 전선이 감춰진 광원 모듈이 내장된 특수 모니터는 동작은 되지만 모니터 가격이 비싸고 외부에 광원 모듈이 노출돼 있어서 사용자에게 시각적으로 거부감을 줄 수 있다. 이러한 시각적 거부감 은 모니터 시장에서 제품의 경쟁력 저하로 이어질 수 있다. 또한 종이처럼 얇은 휴대용 두루말이형 디스플레이, 손목시계형 모니터, 핸드폰 액정 디스플레이, 소형 노트북 또는 PDA 등과 같이 모니터 여백이 작거나 없는 경우 에는 광원을 부착하기 힘들다는 문제가 있다."}
{"patent_id": "10-2007-0102323", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 2, "content": "발명의 내용 해결 하고자하는 과제 본 발명은 상기한 바와 같은 기존의 모니터 주위의 광원 마크를 인식하는 방식의 3차원 위치 측정 장치 또는 포 <3> 인팅 장치가 갖는 한계를 극복하여 광원을 위한 별도의 전원이 필요 없는 편광 마크를 사용함으로써 임의의 크 기와 형태의 모니터에 손쉽게 사용할 수 있는 3차원 위치 측정 장치를 제공하여 제조사에게는 별도의 광원 모듈 또는 광원이 내장된 특수 모니터의 제조에 대한 부담을 없애고 사용자에게는 별도 광원 모듈을 구입하여 부착하 고 포인팅 작업의 파라메터를 튜닝하는 부담을 없애고 전원 공급을 위한 배터리 구입비용과 광원에 대한 배선 정리의 부담을 없애고 외부에 노출된 광원 모듈의 시각적 거부감을 제거하는 것을 목적으로 한다. 효 과 본 발명에 의한 3차원 거리 측정장치를 사용하면 3차원 포인팅 장치의 제조사는 광원 모듈이 내장된 특수 모니 <4> 터나 별도의 광원 모듈을 생산할 필요가 없고 사용자는 시각적으로 거슬리는 별도의 광원 모듈을 구입하거나 부 착할 필요 없이 기존의 임의의 모니터에 저렴한 편광 필터를 부착하기만 하면 3차원 포인팅 작업을 할 수 있다. 또한 본 발명에의한 편광 이미지 센서를 사용하면 복잡하고 공간을 많이 차지하는 빔 분할기를 사용할 필요가 없어서 편광 마크를 인식하기 위한 카메라 장치를 소형화 할 수 있다. 또한 영상의 편광 성분과 비편광 성분의 차를 계산해서 출력하는 회로를 이미지 센서나 카메라에 내장하면 이미지 처리부에서의 소프트웨어의 부하를 줄 일 수 있다. 발명의 실시를 위한 구체적인 내용 본 발명의 구성은 도 1과 같이 모니터 화면과 그 위쪽 여백에 편광축이 수직인 사각형 편광 필터(Mf)와 그 사각 <5> 형 편광 필터의 사각형의 한 변을 표시하기위한 작은 원형 편광 필터(Df)가 각각 부착된 모니터(Mt)를 빔 분할 기(Sp)를 통해 분할된 동일 모양의 영상을 나란히 배열된 두 대의 카메라 (Cav,Cah)로 촬영한 두 이미지를 비교 분석해서 모니터 화면의 사각형과 그 사각형의 한 변을 인식하여 사각형의 찌그러진 정도와 찌그러진 방향으로 - 3 -공개특허 10-2008-0032624부터 카메라와 모니터 사이의 3차원 위치와 방향을 산출하는 3차원 위치 측정 장치로써 두대의 카메라 앞에는 편광축이 일치하지 않도록 정렬된 편광 필터(Fv,Fh)가 각각 부착되어있다. 촬영된 크기와 형태가 알려진 사각형 으로부터 카메라와 사각형 사이의 3차원 방향과 위치를 알아내는 것은 이미지 프로세싱 분야에서 P4P(perspective 4 point problem)라고 알려진 문제이다. 이에대한 자세한 내용은 COMPUTER VISION, GRAPHICS, AND IMAGE PROCESSING 47,33-44 에 논문으로 정리되어있다. 두 카메라 앞의 편광판의 편광 축이 일치하 지 않게 배열된 이유는 두 카메라로 촬영한 이미지에서 편광 마크(Mf,Df) 가 서로 다른 밝기로 촬영되게 하기 위함이다. 구체적으로 제1카메라(Cav)앞에는 모니터 앞에 부착된 편광 필터(Mf)와 같은 수직방향의 편광축의 편광 필터(Fv)가 부착되어있고 제2 카메라(Cah)에는 그와 90도 방향을 이루는 편광축의 편광 필터(Fh)가 부착되 어있다. 사용자가 모니터를 향하는 TV리모콘과 같은 형태로된 두 대의 카메라를 손에 쥐고 카메라의 위치와 방 향을 조절함으로써 촬영된 이미지상의 모니터의 사각형의 모양이 바뀌게 되고 이를 컴퓨터나 마이크로콘트롤러 에서 실행되는 영상처리 프로그램에 의해 처리하여 카메라와 모니터 사이의 3차원 상대 위치와 방향을 산출하여 그 값을 실행중인 컴퓨터 프로그램에 입력할 수 있는 위치 측정장치에 관한 것이다. 3차원 상대 위치와 방향은 3차원 포인팅 작업에 사용될 수 있으나 그에 한정되는 것은 아니다. 예를 들어서 편광 마크를 천정이나 벽에 부 착하고 카메라를 청소로봇 윗면에 부착해서 청소 로봇의 방 안에서의 3차원 위치를 측정해서 청소 로봇의 움직 임을 조정할 수 있다. 도1에서는 모니터위의 마크는 고정되고 카메라는 움직이는 것을 예로 들었으나 반대로 카 메라를 모니터 위에 부착하고 사각형과 원형의 편광 마크(Mf,Df)를 카메라를 향하는 리모컨 앞면에 부착해서 움 직여도 무방하다. 또한 서로 다른 편광 필터(Fv,Fh)를 통과한 두 영상을 촬영할 수만 있다면 하나의 카메라를 사용해도 무방하다. 즉 카메라의 수가 중요한 것이 아니라 서로다른 편광 필터를 통과해서 편광 마크(Mf,Df)의 부분만 서로 다른 밝기로 촬영된다면 무방하다. 예를 들면 넓은 이미지 센서를 좌우로 나눠서 두개의 동일 렌즈 로 촬영을 해도 무방하다. 또한 하나의 카메라로 두개의 영상을 촬영해도 무방하다. 또한 아래에 설명할 편광 이미지 센서를 사용해도 무방하다. 두 대의 카메라(Cah,Cav)가 편광 필터(Mf)가 부착된 모니터를 촬영한다면 편 광 필터 Mf와 Fv는 편광축의 방향이 같으므로 카메라Cav에는 모니터 스크린 이미지가 도 2와 같이 밝게 촬영되 고 반대로 Mf 와 Fh 는 편광축이 90도를 이루므로 카메라 Cah에는 모니터 스크린 이미지가 도 3과 같이 어둡게 촬영된다. 즉 두 카메라에서 다른 픽셀은 모두 동일하고 모니터 위의 편광 마크 부분(Mf, Df)만 차이가 난다. 영상 처리 프로그램은 두 대의 카메라의 영상의 차이인 차분 이미지(difference image)를 구해서 이치 이미지 (binary image)를 구하면 도4와 같이 편광 마크 부분(Mf, Df)만 밝고 나머지 부분은 모두 검은 이미지를 얻을 수 있고 밝은 부분의 사각형의 형태와 원형 부분의 위치를 분석해서 카메라와 모니터 사이의 3차원 상대 위치를 알아낼 수 있다. 또한 도1의 빔 분할기(Sp)를 생략하는 대신 영상 처리부에서 두 카메라(Cav,Cah)에의해 촬영된 두 이미지를 적당히 좌우로 평행 이동한 후 두 이미지가 최대한 겹치게 한 후 두 이미지의 차를 구하는 것도 가 능하다. 이미지에서 사각형의 형태를 분석하는 것은 영상 처리 분야의 공지 기술로 구체적으로는 도4와 같은 이치 이미지에서 밝은 영역의 경계선을 검출을 하고 그 경계선에서 허프 변환으로 직선들을 구해서 직선의 상대 위치로부터 사각형을 구한다. 도1에서 설명의 편의를 위해 모니터 스크린을 편광 마크로 사용했으나 편광을 방 사 또는 반사하는 임의의 밝은 물체나 광원을 사용해도 무방하다. 도 1에서 사각형 형태의 편광 마크(Mf)는 CRT 모니터의 영상의 빛이 편광 마크를 통과 할 때 편광이 될 뿐만 아니라 주변광이 CRT 표면에서 반사될 때에도 편 광이 되고, 원형 편광 마크(Df)는 주변광이 반사될 때 편광이 된다. 이를 도 5에 나타냈다. 즉 도 5에서 태양광 이나 실내 조명에의한 편광되지 않은 주변광(UL)은 원형 편광 필터(Df)를 통과한 후 모니터 여백(Mt)에서 반사 된 후 다시 원형 편광 필터(Df)를 통과해서 핀광이 되고 주변광(UL)은 사각형 모양의 편광 필터(Mf)를 통과한 후 CRT모니터 표면(Cm)에서 반사된 후 다시 사각형 편광 필터(Mf)를 통과해 편광이 된다. 그리고 만약 CRT모니 터에 컴퓨터나 TV 영상이 출력되고 있다면 그 출력광(UP)가 사각형 편광필터(Mf)를 통과해 편광이 된다. 만약 LCD모니터를 사용한다면 LCD모니터로부터 방사되는 출력광(UP)가 이미 편광되어있기 때문에 사각형 편광 필터 (Mf)는 생략될 수 있다. 이때 편광 마크는 태양이나 실내 조명의 주변광을 반사하므로 편광 마크만을 위한 별 도의 전원과 배선은 불필요하며 투명한 유리 위에도 부착할 수 있다. 도 1에서는 편광 필터가 CRT모니터에 부착 된 것을 예로 들었으나 모니터 이외의 임의의 장소나 물체에 부착되어 카메라와 편광 필터 사이의 3차원 거리를 측정할 수 있다. 도1의 빔 분할기(Sp)의 예는 기존의 특허 출원 번호 10-2001-0066152 호 '카메라를 이용한 포인팅 장치 및 포인 <6> 터 위치 산출 방법' 에 도면으로 상세히 기술되어있다. 이러한 빔 분할기는 카메라의 렌즈 앞에 반거울이나 프 리즘과 편광 필터를 조합해서 구성된다. 이러한 빔 분할기는 공간을 많이 차지해서 카메라부를 소형으로 만드는 데 제한이 많다. 이를 해결하기 위하여 본 발명에서는 이미지 센서의 각 픽셀의 수광부에 편광 필터를 내장한 편광 이미지 센서를 개시한다. 기존의 칼라 이미지 센서는 2X2 매트릭스 형태의 4개 수광 소자 위에 각각 적 색,녹색,청색(R,G,B) 칼라 필터가 규칙적으로 부착되어있다. 도6은 가장 일반적인 베이어(Bayer) 칼라 필터를 - 4 -공개특허 10-2008-0032624나타낸 것이다. 도7은 이와 비슷하게 이미지 센서의 한 픽셀을 구성하는 2X2 매트릭스 형태안에 대각선 형태로 수직 편광 필터(V)와 수평 편광 필터(H)가 수광 소자 위에 부착된 모습을 나타낸 것이다. N으로 표시된 곳에는 편광 필터가 부착되지 않는다. 이와 같은 편광 이미지 센서는 기존의 칼라 이미지의 R,G,B 성분 값 대신 흑백 이미지 성분값(N), 수직 편광 필터(V) 를 통과한 흑백 이미지 성분값, 수평 편광 필터(H)를 통과한 흑백 이미지 성분 값을 출력하게 된다. 이와 같은 편광 이미지 센서를 사용한 카메라로 편광을 방사 또는 반사하는 물체를 촬영해서 각 픽셀에 대해 세 성분값(N,V,H)값을 비교하면 편광이 있는 부분을 쉽게 검출할 수 있다. 즉 세 성분 값(N,V,H)을 적당히 정규화해서 모두 0에서 255 사이에 그 값이 분포하게 한 후 아래의 변환된 밝기값T 를 구 한다. T = max( |N-V| ,|N-H| ) <7> 여기서 |a| 는 a 의 절대값을 의미하고 max(a,b) 는 a,b 중 큰 값을 의미한다. <8> 그러면 촬영된 이미지에서 편광이 없는 자연광영역에서는 T값이 거의 0이되고 편광이 있는 영역에서는 T값이 0 <9> 보다 매우 큰 값이 된다. 이 T 값을 적당한 임계치와 비교해서 흑백 이미지로 만들 수 있다. 그러면 편광이 있 는 영역만 밝게 표시되고 그렇치 않은 영역만 검게 표시된다. 이와 같은 N,H,V 성분 값에서 T 로의 변환을 수 행하는 전용 회로를 이미지 센서나 카메라에 포함하면 출력 영상은 편광 부분만 밝게 표시된다. 그와 같은 변환 회로를 포함하지 않고 기존의 칼라 신호(R,G,B) 대신 편광 신호(N,V,H)를 출력하면 출력되는 영상은 흑백 이미 지가 되고 이미지 처리부에서 소프트웨어적으로 변환을 수행하면 편광 부분만 밝은 영상을 얻을 수 있다. 또한 본 발명의 3차원 거리 측정 장치에의해 구한 3차원 거리 정보를 컴퓨터의 포인팅 신호로 사용할 수 있다. <10> 예를 들어서 편광 마크를 컴퓨터 모니터에 부착하여 카메라로 촬영하는 경우 카메라를 움직여서 카메라의 시선 (촬영 방향)이 향한 지점으로 마우스 포인터를 이동시킬 수 있다. 이 경우 포인팅 좌표는 (x,y)의 2차원 좌표일 수도 있고(x,y,z )형태의 3차원 좌표일 수도 있다. 그리고 편광 마크를 빔프로젝터의 스크린에 부착하여 투사된 컴퓨터 영상을 촬영하면서 그 영상안의 마우스 포인터를 이동시킬 수도 있다. 그리고 편광 마크는 사각형 정보를 포함하는 어떠한 형태의 마크라도 무방하다. 예를 들어서 4보다 큰 수의 꼭 <11> 지점을 갖는 다각형이라도 무방하다. 즉 마크가 반드시 사각형이 아니라도 마크의 특징점으로부터 적어도4개의 특징점을 추출할수 있으면 무방하다. 예를 들어서 도8과 같이 사각형의 위의 두 꼭지점을 나타내는 원 형태의 마크 2개와 밑변을 나타내는 선 형태의 마크를 사용해도 무방하다."}
