{"patent_id": "10-2009-0103876", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2011-0047301", "출원번호": "10-2009-0103876", "출원인": "현대자동차주식회사", "발명자": "김우섭"}}
{"patent_id": "10-2009-0103876", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 문서는 차량 내 복수개의 센서로부터 센서 신호를 수신하는 센서 게이트웨이부, 상기 센서 신호를 분석하여 차량의 상태를 파악하고, 파악된 차량 상태에 적합한 제어 신호를 생성하는 제어정보 생성부 및 복수개의 통신 게이트웨이를 포함하여, 상기 제어 신호를 해당 제어기 통신에 사용되는 통신 프로토콜 규격에 맞도록 구성하고 상기 해당 제어기로 전송하는 통신 게이트웨이부를 포함하는 차량 통합 제어 시스템을 개시한다."}
{"patent_id": "10-2009-0103876", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 차량 내부의 네트워크 시스템에 관한 것으로, 보다 구체적으로는 이종의 복수개 통신 프로토콜 간 소 통을 지원하여 차량의 통합 제어가 가능한 시스템에 관한 것이다."}
{"patent_id": "10-2009-0103876", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "최근 자동차관련 전자 산업이 급성장하고 있다. 자동차 내부에 설치되는 전자 제품과 관련된 소프트웨어는 자동 차 가격의 40%를 차지하는 것으로 추정된다. 정보 및 멀티미디어의 재생, 엔진 제어 및 배기 가스제어, 인공지 능, 에어백의 안정성 제어를 위한 안전 시스템 등 자동차 시스템에 대한 다양한 요구들이 지속적으로 증가하고 있다. 따라서, 효율적인 자동차 시스템을 제공하기 위해서는 이러한 다양한 기능들을 지원하면서도 각 기능을위한 별도의 전용 배선을 줄일 수 있는 네트워크 버스 구조가 필요하다. 자동차 제조업체에서는 이러한 네트워크 버스 구조를 제공하기 위해 고대역폭의, 유연성이 높고, 결정적 (deterministic) 동작을 제공하는 새로운 프로토콜을 요구하고 있다. 최근 배선의 구조와 상위의 레벨의 시스템 과의 통신 규약을 정의한 다양한 프로토콜들이 자동차의 기계 또는 전장 부분에 적용되고 있다. CAN, LIN, 플렉 스레이(Flexray), MOST 등이 그 대표적인 프로토콜들이다. 이와 같이, 자동차내의 각기 장점을 가지는 다양한 프로토콜이 개발되고 있다. 그러나 이 프로토콜들은 독립적으로 기능을 수행하고 운용될 뿐 하나의 시스템으로 통합되어 제공되지 못한다는 문제점이 있다. 즉, 다양한 프로토콜간의 데이터의 변환을 통해서 이질적인 자동차 내부의 프로토콜을 연결하고 이동 단말기를 통해 이들 이질적인 프로토콜들을 통합하여 운영하고 자동차 시스템을 진단할 수 있는 자동차 통 합 네트워크 시스템이 요구된다."}
{"patent_id": "10-2009-0103876", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 2, "content": "발명의 내용 해결 하고자하는 과제"}
{"patent_id": "10-2009-0103876", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 3, "content": "본 발명은 상술한 배경기술에 있어서, 차량 내 존재하는 다양한 통신 프로토콜들을 제어하고 이로써 차량의 통 합적인 제어가 가능한 차량 통합 제어 시스템의 제공을 해결 과제로 한다. 과제 해결수단 상술한 과제를 해결하기 위한 일 수단으로써의 차량 통합 제어 시스템은, 차량 내 복수개의 센서로부터 센서 신 호를 수신하는 센서 게이트웨이부, 상기 센서 신호를 분석하여 차량의 상태를 파악하고, 파악된 차량 상태에 적 합한 제어 신호를 생성하는 제어정보 생성부 및 복수개의 통신 게이트웨이를 포함하여, 상기 제어 신호를 해당 제어기 통신에 사용되는 통신 프로토콜 규격에 맞도록 구성하고 상기 해당 제어기로 전송하는 통신 게이트웨이 부를 포함한다. 상기 제어정보 생성부는, 차량 상태를 분석하여 제어 신호를 생성하는 제1 제어모듈과, 생성된 제어 신호를 분 류하여 해당 통신 게이트웨이로 전달하는 제2 제어모듈로 구성될 수 있다. 상기 제2 제어모듈은, 이벤트 기반 제어신호와 타이밍 기반 제어신호를 구분하여 해당 통신 게이트웨이로 전달할 수 있다. 상기 복수개의 센서에는, 요레이트 센서, 조향 휠 센서, 종 방향 센서, 횡 방향 센서, 차체 높이 센서 중 어느 하나 이상이 포함될 수 있다. 그리고, 상기 통신 프로토콜은, CAN(Controller Area Network), 이더넷 (ethernet), MOST(Media Oriented Systems Transport), 블루투스(Bluetooth), 플렉스레이(FlexRay) 중 어느 하 나가 될 수 있다. 효 과 본 발명에 따르면, 통합 게이트웨이 기능을 이용하여, 차량 상태 정보를 제어기들이 공유하고 이종 간 통신 네 트워크 상에 전달할 수 있어, 차량의 통합 제어가 가능한 효과가 있다. 본 발명에 따르면, 게이트웨이 기능 및 샤시 중재 기능을 하나의 제어기로 통합하여 제어기 수 감소로 원가 절 감이 가능하고, 차량 관리 시스템이 네트워크 정보를 관리하며, 네트워크 관리가 용이하다는 효과가 있다. 본 발명에 따르면, 다양한 통신 프로토콜을 선택적으로 적용시킬 수 있어 제어 신호 등의 메시지 전달을 유연하 게 적용할 수 있고, 특히 시분할 방식에 기초하는 통신 프로토콜을 이용하는 경우에는 메시지 교환 및 전송 시 간 예측이 용이하다는 효과가 있다. 본 발명에 따르면, 센터 클러스터를 통한 차량 상태 정보를 시분할 방식인 예를 들어 플렉스레이 통신으로 전송 시 제어 연속성이 가능하여 차량 성능을 향상 시킬 수 있다는 효과가 있다. 아울러 본 발명에 따르면, 실패-안전(Fail-Safe) 시스템 및 안전에 관련된 메시지는 듀얼 채널의 플렉스레이 통 신으로 전송하여 고장에 대처가 가능하며, 정상 동작을 할 수 있다는 효과가 있다. 발명의 실시를 위한 구체적인 내용 이하 도면을 참조하여 차량 내 존재하는 다양한 통신 프로토콜들을 소통시킴으로써 차량의 통합적인 제어가 가 능한 차량 통합 제어 시스템에 관한 본 발명의 실시예들을 설명하도록 한다. 도 1은 본 발명의 일 실시예에 따른 차량 통합 제어 시스템의 예시적인 제1 구조도이다. 본 실시예에 따른 차량 통합 제어 시스템은, 차량 내 구비된 각종 통신 프로토콜에 따라서 전송되는 센서 신호 내지 제어 신호 등을 수집하고, 이들을 처리, 재분배하는 등 이종 통신 네트워크 사이의 정보를 공유하고 차량 내 통신 네트워크를 통합하는 통신 게이트웨이부, 차량 내 복수개의 센서로부터 센서 신호를 수신하 는 센서 게이트웨이부를 포함하여 이루어진다. 이와 같은 구성에 따른 본 실시예에 따르면 센서 게이트웨이부에서 차량 내 복수개의 센서(200a, 200b, 200c)로부터 수신되는 센서 신호를 분석하여 차량의 상태를 파악하고, 파악된 차량 상태에 적합하게 생성되는 제어 신호를 통신 게이트웨이부에서 해당 제어기 통신에 사용되는 통신 프로토콜 규격에 맞도록 구성하고 해당 제어기로 전송함으로써 차량의 통합적인 제어가 가능하게 한다. 이때 복수개의 센서에는, 요레이트 센서, 조향 휠 센서, 종 방향 센서, 횡 방향 센서, 차체 높이 센서 중 어느 하나 이상이 포함될 수 있다. 그리고 통신 게이트웨이부는 이종의 프로토콜들을 상호 변환해주는 것으로 이종 프로토콜 각각에 대해서 구성된 게이트웨이가 복수개 구현될 수도 있다. 예를 들어 차량 내에서 사용되는 통신 프로토콜이, CAN(Controller Area Network), 이더넷(ethernet), MOST(Media Oriented Systems Transport), 블루투스 (Bluetooth), 플렉스레이(FlexRay) 등이 있다고 가정한다. 그러면, 도 1에 도시된 바와 같이 CAN 게이트웨이 , 플렉스레이 게이트웨이, MOST 게이트웨이, 이더넷 게이트웨이, 블루투스 게이트웨이 가 각각 구현될 수 있다. 자동차 설계자는 지원하고자 하는 기능에 따라 전술한 다양한 게이트웨이 중 일 부 또는 전부를 채용하여 네트워크 시스템을 구축할 수 있다. 본 실시예에서 각 게이트웨이는 프레임 분리부에서, 유입되는 프레임을 인지하고 프레임의 헤더부와 페이로드부 를 구분하는 타이밍을 발생한다. 그리고 헤더 FIFO에는 분리된 헤더부가, 페이로드 FIFO에는 분리된 페이로드부 가 저장된다. 한편 프레임의 비트 오류(CRC)를 확인하여 현재의 프레임 상태를 모니터링하고 오류 발생 시 알람 및 프레임 포기 신호를 발생한다. 여기서 프레임 포기 행위는 단지 FIFO 구동 회로로 하여금 관련 FIFO 쓰기 (Write) 신호를 발생시키지 않는 것을 의미한다. 또한, 프레임의 조합을 이루는 메시지를 구성하기 위해 마지막 메시지(Last Message) 신호를 발생한다. 그리고 FIFO 구동회로에서 프레임 분리부로부터 제공받은 헤더부와 페이로드부의 구분 타이밍을 이용하여 헤더 FIFO와 페이로드 FIFO의 쓰기(Write) 신호를 발생한다. 쓰기(Writer) 신호는 FIFO 구동회로로부터 제공받고, 읽 기(Read) 신호는 각 블록을 초기화하고, 하부 노드의 각종 정보를 획득하여 저장하는 국부 마이크로프로세서로 부터 제공받아 읽어들인 프레임의 헤더부를 해석하고 하부 노드의 정보를 획득한다. 이 과정에서 프레임 ID가 확인되고 자신의 노드 정보라는 것이 확인되면, 페이로드 FIFO에 저장된 정보를 다시 다른 프로토콜로 변환한다. 여기서 변환이란 다른 프로토콜용 헤더를 붙인다는 포괄적인 의미로 사용한다. 새로 운 헤더가 붙은 상태로 디지털 프레임이 전송된다. 그러면 프레임재조립부에서는 내부에 저장된 다른 프로토콜 의 헤더를 먼저 전송하고, 이어서 페이로드 FIFO의 내용을 전송한다. 프레임 꼬리(Frame trailer) 및 CRC를 계 산하여 프레임 마지막부분에 조립하는 과정 역시 수행한다. 그리고 디코더 및 타이밍발생부에서 국부 마이크로 프로세서가 각 기능 블록에 접근하는 디코드 타이밍을 발생한다. 헤더정보로부터 추출한 노드 정보는 하부노드 룩업 저장메모리에 저장된다. 역방향도 동일 구조로 작용하므로 상세한 설명은 생략한다. 도 2는 본 발명의 일 실시예에 따른 차량 통합 제어 시스템의 예시적인 제2 구조도이다. 본 실시예에 따르면 차량 통합 제어 시스템은, 차량 내 복수개의 센서로부터 수신되는 센서 신호에 기초하 여 차량의 상태를 분석하고, 이에 따라 차량 내 샤시, 미디어 등의 제어를 위한 제어 신호를 생성하는 제1 제어 부와 생성된 제어 신호를 분류하여 이들을 해당 게이트웨이로 전송하는 제2 제어부를 포함하여 이루 어질 수 있다. 제1 제어부에서는 센서 신호 수신부에서 수신된 신호들을 신호 조절부(signal conditioning, 510)에 서 디지털 신호로 변환하는 등 적절하게 처리하고 이 신호를 기초로 차량 상태 분석부에서 현재 차량의 상 태를 분석한다. 그리고 제어기 분석부에서 현재 차량 내 각 제어장치의 상태를 분석하고, 우선 순위 제어 부에서 기 설정된 우선 순위를 고려하여 차량 전반에 대한 통합적인 제어 신호를 생성한다. 제2 제어부에서는 제1 제어부에서 생성된 제어 신호를 해당 통신 게이트 웨이로 전달하되, 이벤 트 기반의 메시지의 경우 이벤트 기반의 통신 기법이 적용되는 통신 게이트웨이 예를 들어 CAN 게이트웨이로 전송한다. 그리고, 타이밍 기반의 메시지의 경우 타이밍 기반의 통신 기법이 적용되는 통신 게이트웨이 예를 들어, 플렉스레이 게이트웨이, MOST 게이트웨이, 이더넷 게이트웨이 중 어느 하나로 전송한다. 본 실시예에서 제1 제어부와 제2 제어부는 하나의 기능 모듈로서 구현될 수도 있지만, 도 2에 도시된 바와 같이 서로 독립적으로 구현됨으로써 안정성을 높일 수 있을 것이다. 도 3은 본 발명의 일 실시예에 따른 차량 통합 제어 시스템의 예시적인 제3 구조도이다. 이렇게 본 실시예에 따른 차량 통합 제어 시스템에서 차량 내 각 제어기로 해당 통신 게이트웨이를 통해서 제어 신호를 송신함으로써 도 3에 도시된 바와 같이 차량 내 통합 제어가 이루어질 수 있다. 예를 들어, 플렉스 레이 네트워크(300e)를 통해 엔진, 변속기, ESC(Electronic Stability Control, 620) 등으로 제어 신호를 전송할 수 있다. 그리고 CAN 네트워크(300a)를 통해서 BCM(Body Control Module, 630), DDM(Driver Door Module, 640), ADM(Assist Door Module, 650) 등으로 제어 신호를 전송할 수 있다. 그리고 MOST 네트워크 (300b)를 통해서 헤드 유닛, 스피커 등으로 제어 신호를 전송할 수 있다. 상기에서는 도면 및 실시예를 참조하여 설명하였지만, 해당 기술 분야의 숙련된 당업자는 하기의 특허청구범위 에 기재된 본 발명의 기술적 사상으로부터 벗어나지 않는 범위 내에서 본 발명은 다양하게 수정 및 변경시킬 수 있음은 이해할 수 있을 것이다."}
