{"patent_id": "10-2023-0122263", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0039606", "출원번호": "10-2023-0122263", "발명의 명칭": "인공지능을 이용한 물탱크 및 물탱크 수질 관리 방법", "출원인": "(주)에리", "발명자": "김현석"}}
{"patent_id": "10-2023-0122263", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "탱크 본체(5)에 담긴 물의 상태를 감지하는 수질 센서(11~15); 및상기 수질 센서로부터 시계열적으로 출력된 수질 데이터를 바탕으로 수질을 예측하는 인공 신경망을 구비한 프로세서(30)를 포함하고,상기 인공 신경망은,상기 수질 데이터를 바탕으로 하는 입력 시퀀스 데이터를 처리하는 것으로써, 1차원 컨볼루션 필터(Conv1D) 기반의 시간 분산 계층(A21, A24) 및 상기 시간 분산 계층과 연결된 1차원 평균 풀링 필터(AveragePooling1D) 기반의 시간 분산 계층(A22, A25)으로 이루어진 시계열 처리모듈(A23, A26)을 적어도 하나 구비한 제 1 서브 신경망(SN1); 및상기 제 1 서브 신경망의 출력을 처리하는 적어도 하나의 양방향 LSTM 계층(A31, A32)과, 상기 적어도 하나의양방향 LSTM 계층의 출력을 처리하는 제 1 주의 집중 메커니즘(A33)을 구비한 제 2 서브 신경망(SN2)을 포함하는 인공지능을 이용한 물탱크."}
{"patent_id": "10-2023-0122263", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서,상기 제 1 서브 신경망(SN1)은,1차원 컨볼루션 필터(Conv1D) 기반의 제 1 시간 분산 계층(A21); 및상기 제 1 시간 분산 계층(A21)의 출력을 처리하되, 상기 제 1 시간 분산 계층의 출력의 시간 차수를 1/n로 줄이는 1차원 평균 풀링 필터(AveragePooling1D) 기반의 제 2 시간 분산 계층(A22)을 포함하는 인공지능을 이용한물탱크."}
{"patent_id": "10-2023-0122263", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 2 항에 있어서,상기 제 1 시간 분산 계층(A21)은,입력과 시간 차수는 동일하되, 추출되는 특징은 m배수로 증가시켜 출력하고,상기 제 2 시간 분산 계층(A22)은,상기 제 1 시간 분산 계층의 출력을 시간 차수는 1/n으로 줄이고, 추출되는 특징의 수는 동일하도록 생성하는인공지능을 이용한 물탱크."}
{"patent_id": "10-2023-0122263", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 3 항에 있어서,상기 제 1 서브 신경망(SN1)은,상기 제 2 시간 분산 계층(A22)의 출력을 처리하는 1차원 컨볼루션 필터(Conv1D) 기반의 제 3 시간 분산 계층(A24); 및상기 제 3 시간 분산 계층의 출력을 처리하는 1차원 전역 평균 풀링 필터(AveragePooling1D) 기반의 제 4 시간분산 계층(A25)을 포함하는 인공지능을 이용한 물탱크."}
{"patent_id": "10-2023-0122263", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 4 항에 있어서,공개특허 10-2025-0039606-3-상기 제 2 서브 신경망(SN2)은,제 1 양방향 LSTM 계층(A31); 및상기 제 1 양방향 LSTM 계층의 출력을 처리하되, 추출되는 특징을 n배로 증가시키는 제 2 양방향 LSTM 계층(A32)을 포함하고,상기 제 1 주의 집중 메커니즘(A33)은,상기 제 2 양방향 LSTM 계층의 출력을 처리하되, 추출되는 특징을 1/n로 줄이는 인공지능을 이용한 물탱크."}
{"patent_id": "10-2023-0122263", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명의 인공지능을 이용한 물탱크는, 탱크 본체에 담긴 물의 상태를 감지하는 수질 센서(11~15)와, 상기 수질 센서로부터 시계열적으로 출력된 수질 데이터를 바탕으로 수질을 예측하는 인공 신경망을 구비한 프로세서 를 포함하고, 상기 인공 신경망은, 상기 수질 데이터를 바탕으로 하는 입력 시퀀스 데이터를 처리하는 것으 로써, 1차원 컨볼루션 필터(Conv1D) 기반의 시간 분산 계층(A21, A24) 및 상기 시간 분산 계층과 연결된 1차원 평균 풀링 필터(AveragePooling1D) 기반의 시간 분산 계층(A22, A25)으로 이루어진 시계열 처리모듈(A23, A26) 을 적어도 하나 구비한 제 1 서브 신경망(SN1)과, 상기 제 1 서브 신경망의 출력을 처리하는 적어도 하나의 양방 향 LSTM 계층(A31, A32)과, 상기 적어도 하나의 양방향 LSTM 계층의 출력을 처리하는 제 1 주의 집중 메커니즘 (A33)을 구비한 제 2 서브 신경망(SN2)을 포함한다."}
{"patent_id": "10-2023-0122263", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 인공 신경망을 이용한 물탱크에 관한 것으로, 보다 상세하게는, 물탱크의 수질을 감지하는 센서들의 측정값을 인공 신경망에 입력하여 수질의 변동 추세를 예측할 수 있는 물탱크 및 물탱크의 수질 관리 방법에 관 한 것이다."}
{"patent_id": "10-2023-0122263", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "물탱크는 지하수, 수돗물 등의 음용수를 다량으로 비축해 두는 탱크이다. 지하에 매설하는 수수조와 옥상에 설 치하여 계단 밑으로 배수하는 고치수조로 나뉘며, 단독주택, 집합주택, 빌딩, 병원, 학교 등에 설치된다. 최근 물탱크안의 오염이 심각한 문제가 되고 있다. 한국등록특허 10-2340325호(이하, '종래기술'이라고 함.)는 IoT 기반의 음용수용 물탱크 관리 플랫폼 서비스 시 스템을 개시하고 있다. 이 종래기술은 pH 센서, TDS 센서, 탁도 센서, 온도 센서 및 잔류 염소 센서를 포함하여 구성되는 IoT 센서를 이용하여 물탱크 내 물을 측정하고, 이렇게 측정된 센서의 측정값들이 수질관리 플랫폼 서 버로 전달되어, 수질 분석에 활용되고 있다. 이러한 종래기술은 여러 센서들을 통해 구한 여러 항목의 측정값들을 활용하여 수질을 결정하기는 하나, 수질을 직접 측정하는 방식이므로 이미 물이 오염된 경우 이를 가능한 신속하게 파악하여 관리자에게 알리는 기능에 국 한되는 한계가 있다. 또한, 통상 현장에서 사용중인 물탱크는 수질과 관련된 5가지 관리 항목이 있는데, 그것은 수온, pH, 잔류염소, 전도도, 탁도이다. 그 밖에도 '수도법 시행규칙에 따라 대장균, 일반세균, 총대장균 등이 더 존재하지만, 이것 은 배양을 한 후에 확인해야 될 사항으로 실시간 확인은 어렵다. 따라서, 실시간으로 측정이 가능한 상기 5가지 관리 항목을 바탕으로 향후 수질의 변동 추세를 예측함으로써 수 질 오염을 사전에 예측하고, 예측 결과를 사용자에게 알려 항시 안전 범위 내로 수질을 관리하도록 하는 방안을 강구할 필요가 있다."}
{"patent_id": "10-2023-0122263", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명이 해결하고자 하는 과제는, 첫째, 수질 센서에 의해 시계열적으로 측정된 수질 데이터를 바탕으로 미래 의 수질을 예측할 수 있는 인공 신경망 기반의 수질 예측 모델을 탑재한 물탱크 및 물탱크의 수질 관리 방법을 제공하는 것이다. 둘째, 수질 예측 모델의 속도와 정확도를 향상시킨 물탱크 및 물탱크 수질 관리 방법을 제공하는 것이다. 셋째, 물탱크의 수질 예측 결과를 바탕으로 미리 물탱크 청소를 유도함으로써 현재의 수질 오염 요소를 즉각적 으로 제거할 수 있을 뿐만 아니라 잠재적인 수질 오염의 위험을 사전에 방지할 수 있는 물탱크 및 물탱크 수질 관리 방법을 제공하는 것이다. 넷째, CNN, LSTM 및 Attention 메커니즘을 결합하여 수질 예측의 정확도와 효율성을 개선한 신규 인공 신경망을 이용한 물탱크 및 물탱크 수질 관리 방법을 제공하는 것이다."}
{"patent_id": "10-2023-0122263", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 물탱크는, 탱크 본체에 담긴 물의 상태를 감지하는 수질 센서(11~15)와, 상기 수질 센서로부터 시 계열적으로 출력된 수질 데이터를 바탕으로 수질을 예측하는 인공 신경망을 구비한 프로세서를 포함한다. 상기 인공 신경망은, 상기 수질 데이터를 바탕으로 하는 입력 시퀀스 데이터를 처리하는 것으로써, 1차원 컨볼 루션 필터(Conv1D) 기반의 시간 분산 계층(A21, A24) 및 상기 시간 분산 계층과 연결된 1차원 평균 풀링 필터 (AveragePooling1D) 기반의 시간 분산 계층(A22, A25)으로 이루어진 시계열 처리모듈(A23, A26)을 적어도 하나 구비한 제 1 서브 신경망(SN1)과, 상기 제 1 서브 신경망의 출력을 처리하는 적어도 하나의 양방향 LSTM 계층 (A31, A32)과, 상기 적어도 하나의 양방향 LSTM 계층의 출력을 처리하는 제 1 주의 집중 메커니즘(A33)을 구비 한 제 2 서브 신경망(SN2)을 포함한다. 상기 제 1 서브 신경망(SN1)은, 1차원 컨볼루션 필터(Conv1D) 기반의 제 1 시간 분산 계층(A21)과, 상기 제 1 시간 분산 계층(A21)의 출력을 처리하되, 상기 제 1 시간 분산 계층의 출력의 시간 차수를 1/n로 줄이는 1차원 평균 풀링 필터(AveragePooling1D) 기반의 제 2 시간 분산 계층(A22)을 포함할 수 있다. 상기 제 1 시간 분산 계층(A21)은, 입력과 시간 차수는 동일하되, 추출되는 특징은 m배수로 증가시켜 출력할 수 있고, 상기 제 2 시간 분산 계층(A22)은, 상기 제 1 시간 분산 계층의 출력을 시간 차수는 1/n으로 줄이고, 추 출되는 특징의 수는 동일하도록 생성할 수 있다. 상기 제 1 서브 신경망(SN1)은, 상기 제 2 시간 분산 계층(A22)의 출력을 처리하는 1차원 컨볼루션 필터 (Conv1D) 기반의 제 3 시간 분산 계층(A24)과, 상기 제 3 시간 분산 계층의 출력을 처리하는 1차원 전역 평균 풀링 필터(AveragePooling1D) 기반의 제 4 시간 분산 계층(A25)을 포함할 수 있다. 상기 제 2 서브 신경망(SN2)은, 제 1 양방향 LSTM 계층(A31)과, 상기 제 1 양방향 LSTM 계층의 출력을 처리하되, 추출되는 특징을 n배로 증가시키는 제 2 양방향 LSTM 계층(A32)을 포함할 수 있다. 상기 제 1 주의 집중 메커니즘(A33)은, 상기 제 2 양방향 LSTM 계층의 출력을 처리하되, 추출되는 특징을 1/n로 줄이는 것일 수 있다."}
{"patent_id": "10-2023-0122263", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 물탱크 및 물탱크의 수질 관리 방법은, 첫째, 1차원 컨볼루션 필터(Conv1D)를 이용하여 특징을 추출 하고, 양방향 LSTM(Long Short-Term Memory)을 이용하여 시간적 관계를 포착하고, Attention 메커니즘에 기반 한 순차 예측에서 중요한 데이터들을 강조하는 일련의 인공지능 기반의 데이터 처리 과정을 통해 수질 예측의 정확도와 효율성을 향상할 수 있는 이점이 있다. (도 5 참조.) 둘째, 인공 신경망을 통한 수질 예측 결과를 바탕으로 미리 물탱크 청소를 유도함으로써 수질 오염의 위험을 사 전에 방지할 수 있는 효과가 있다."}
{"patent_id": "10-2023-0122263", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명의 이점 및 특징, 그리고 그것들을 달성하는 방법은 첨부되는 도면과 함께 상세하게 후술되어 있는 실시 예들을 참조하면 명확해질 것이다. 그러나 본 발명은 이하에서 개시되는 실시예들에 한정되는 것이 아니라 서로 다른 다양한 형태로 구현될 수 있으며, 단지 본 실시예들은 본 발명의 개시가 완전하도록 하고, 본 발명이 속하"}
{"patent_id": "10-2023-0122263", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "는 기술분야에서 통상의 지식을 가진 자에게 발명의 범주를 완전하게 알려주기 위해 제공되는 것이며, 본 발명 은 청구항의 범주에 의해 정의될 뿐이다. 명세서 전체에 걸쳐 동일 참조 부호는 동일 구성 요소를 지칭한다. 도 1은 본 발명의 일 실시예에 따른 인공지능을 이용한 물탱크를 도시한 것이다. 도 1을 참조하면, 본 발명의 일 실시예에 따른 인공지능을 이용한 물탱크는 탱크 본체에 담긴 물의 상태(이하, '수질'이라고 함.)를감지하는 센서부와, 센서부에 의해 감지된 상태 정보를 바탕으로 수질을 판단하는 프로세서를 포 함할 수 있다. 여기서, 프로세서에 의한 수질의 판단은 현 시점의 수질을 판단하는 것뿐만 아니라 미래 시 점의 수질을 예측하는 것을 포함할 수 있다. 센서부는 수질을 감지하는 적어도 하나의 수질 센서(11~15)를 포함할 수 있다. 여기서, 수질은 수온, pH, 잔류염소, 전도도 및 탁도 중 적어도 하나를 포함할 수 있다. 실시예에서는 센서부는 수온 센서, pH센 서, 잔류염소 센서, 전도도 센서 및 탁도 센서를 포함하고 있으나, 반드시 이에 한정되어야 하 는 것은 아니다. 예를 들어, 센서부는 염도 센서, 전기 전도도 센서, TDS 센서 등을 포함할 수 있다. 센서부 또는 각각의 수질 센서(11~15)는 측정된 수질 데이터의 전송을 위한 무선통신 모듈을 구비할 수 있 으며, 이 경우, 별도의 유선 통신선을 시공할 필요가 없기 때문에 시공이 쉽고 시공비를 절감할 수 있다. 물탱크는 센서부로부터 출력된 수질 데이터(예를 들어, 수온 데이터)를 저장하는 데이터 저장부를 더 포함할 수 있다. 상기 수질 데이터는 수질 센서(11~15)로부터 시계열적으로 출력된 시퀀스(sequence) 수질 데이터를 포함할 수 있다. 프로세서는, 수질 센서(11~15)로부터 출력된 수질 데이터를 처리하고, 물탱크 관리 어플리케이션(A)을 구동 하는 하드웨어로서, 중앙처리장치(Central Processing Unit)를 포함할 수 있다. 실시예에서 프로세서는 관리장치와는 별도로 구비되나, 이에 한하지 않고, 관리장치를 구성하는 것 일 수도 있다. 후술하는 물탱크 관리 어플리케이션(A)은 프로세서에 의해 실행될 수 있으며, 이 경우, 어플리케이션의 실 행 결과가 통신망을 통해 관리장치로 전달될 수 있다. 더 나아가, 어플리케이션(A)의 실행 결과는 통신망을 통해 표시장치 및/또는 사용자 단말기로 전송되는 것도 가능하다. 실시예에 따라, 표시장치가 수질 센서(11~15)에 의해 측정된 각종 수질 데이터들을 표시하도록 구성되는 것 도 가능하다. 사용자 단말기는 PC(personal computer), 모바일 기기(예를 들어, 노트북, 스마트 폰, 스마트 워치, 스마트 패드 등) 등 일 수 있다. 한편, 물탱크는, 프로세서에 의해 처리된 데이터(또는, 정보)들을 통신망으로 전송하기 위한 통신부(4 0)를 포함할 수 있다. 통신부는 바람직하게는 무선 통신을 가능하게 하는 것이나, 이에 한하지 않고 유선 통신을 가능하게 하는 것일 수도 있다. 관리장치는 통신망에 연결될 수 있다. 프로세서에 의해 이루어진 데이터 처리 결과가 통신부를 통 해 통신망으로 전송되어 관리장치로 전달될 수 있다. 물탱크는 소독장치를 포함할 수 있다. 소독장치는 물탱크를 소독하기 위한 것으로, 살균 소독을 위 한 약액(예를 들어, 염소)을 물에 주입하는 약액 주입기, 자외선을 조사하는 UV살균기 등을 포함할 수 있다. 소독장치는 물을 직접 살균 또는 소독하도록 구성될 수 있다. 다만, 이에 한하지 않고, 실시예에 따라서는 탱크 본체의 내벽을 살균 또는 소독하도록 구성되는 것도 가능하다. 예를 들어, 탱크 본체의 내벽에서 성 장하는 녹조류나 곰팡이 등의 유해 생물에 약액을 가하거나 자외선을 조사하도록 구성될 수 있다. 소독장치는 통신망에 연결될 수 있다. 이 경우, 소독장치는 프로세서 및/또는 관리장치의 제어 에 의해 동작하도록 구성될 수 있다. 도 2는 본 발명의 일 실시예에 따른 물탱크 관리 어플리케이션의 개요도이다. 도 2를 참조하면, 물탱크 관리 어 플리케이션은 인공 신경망(A) 기반의 기계학습 모델일 수 있다. 인공 신경망(A)은, 수질 센서(11~15)로부터 시계열적으로 출력된 수질 데이터를 바탕으로 수질을 예측하는 것일 수 있다. 이러한 인공 신경망(A)을 바탕으로 한 수질 예측 모델은 시퀀스 내의 수질 데이터의 시간에 따른 변동 패턴을 포착하여 미래의 수질을 정확하게 예측하는 것을 목표로 한다. 모델의 인공 신경망(A) 아키텍처는 특징 추출을 위해 1차원 컨볼루션 계층(Conv1D)을 활용하고, 시간 종속성을 포착하기 위해 양방향 Long Short-Term Memory(LSTM) 계층(Bidirectional(LSTM))을 사용하며, 입력 시퀀스 데 이터에서 수질 예측과 관련성이 높은 부분에 더 초점을 맞추기 위해 주의 집중(Attention) 메커니즘을 활용한것이다. 즉, 주의 집중 메커니즘은 모델에게 입력 시퀀스의 다른 부분들 중 어느 부분이 중요한지 가중치 부여 하게 해주는 것일 수 있다. 또한, 모델은 평균 제곱 오차 (MSE) 손실 함수를 사용하여 컴파일될 수 있으며, Adam 최적화 도구를 사용하여 최적화될 수 있다. 도 3은 물탱크 관리 어플리케이션을 구성하는 인공 신경망의 아키텍처(architecture)를 도시한 것이다. 이하, 도 3을 참조한다. 인공 신경망(A)은 입력 계층(A10)으로 시퀀스 데이터가 입력되고, 최종 dense 계층(A40)에서 시퀀스 데이터가 출력되도록 구성될 수 있다. 이를 위해 각 계층에서의 출력을 덴스(dense) 계층(A40)에 모아서 각 센서의 값들 이 독립적으로 시계열 값을 추론할 수 있도록 시간 분산 계층(TimeDistribution layer)와 주의 집중 메커니즘 (Attention mechanism) 또는 레이어(layer)를 포함할 수 있다. 시간 분산 계층(TimeDistributed layer)은 파이썬 라이브러리인 케라스(Keras)에서 제공되는 것이며, 본 실시예 에서 참조되는 다른 계층(또는, 함수)들 역시 케라스에서 제공되는 것들로써 잘 알려진 것이므로, 각 계층(또는, 함수)에 대한 구체적인 설명은 생략하기로 한다. 입력 계층(InputLayer, A10)에는, 수질 센서(11~15)로부터 시계열적으로 출력된 수질 데이터가 입력될 수 있다. 여기서, '시계열적으로 출력된 수질 데이터'는 일정 시간 마다 순차적으로 측정된 수질 데이터로 이루어진 시퀀 스 데이터일 수 있다. 실시예에서 시퀀스 수질 데이터는 1 개의 입력 특징(예를 들어, 수온)이 4개의 시간 단계 들 마다 구해진 것일 수 있다. 인공 신경망(A)은, 상기 시퀀스 수질 데이터를 바탕으로 하는 입력 시퀀스 데이터를 처리하는 것일 수 있다. 상 기 입력 시퀀스 데이터는 입력 계층(A10)으로부터 출력된 것일 수 있으며, 입력 계층(A10)으로 입력되는 시퀀스 데이터와 동일한 차수(실시예서는 4)와 특징 수(실시예에서는 1)를 갖는 것일 수 있다. 제 1 서브 신경망(SN1) 은, 1차원 컨볼루션 필터(Conv1D) 기반의 시간 분산 계층(A21, A24) 및 상기 시간 분산 계층과 연결된 1차원 평균 풀링 필터(AveragePooling1D) 기반의 시간 분산 계층(A22, A25)으로 이루어진 시계열 처리모듈(A23, A26)을 적어도 하나 포함할 수 있다. 실시예에서는 제 1 시계열 처리모듈(A23)과 제 2 시계열 처 리모듈(A26)을 포함하도록 구성되나 처리모듈의 개수가 이에 한정되어야 하는 것은 아니다. 1차원 컨볼루션 필터(Conv1D) 기반의 시간 분산 계층(TimeDistributed(Conv1D))은 입력 시퀀스의 세그먼트에 1 차원 컨볼루션 필터(Conv1D)를 적용한 것일 수 있다. 시간 분산 계층(TimeDistributed)은 추출할 필터 또는 특 징의 개수와, 커널 크기를 설정할 수 있으며, 실시예에서는, 추출할 필터(특징)의 개수로 128개, 커널 크기로 7 이 설정되었으나, 반드시 이에 한정되어야 하는 것은 아니다. 이러한 시간 분산 계층에서는 출력과 입력이 같은 길이를 갖도록 패딩(padding)이 설정될 수 있다. (padding='same'). 그리고, 활성화 함수는 ReLU(Rectified Linear Unit)가 적용될 수 있다. (activation='relu') 데이터의 입력 형태는 (None, None, n_steps, n_features)이며, n_steps는 시간 단계의 수이고, n_features는 입력 특징의 수이다. (A21의 [none, none, 4, 1] 참조) 데이터의 출력 형태는 입력과 시간 단계의 수는 동일하나 출력 특징의 수는 m배수로 증가되도록 구성될 수 있다. 실시예에서는 m=128로 설정되었으나, 반드시 이에 한정되어야 하는 것은 아니다. 1차원 평균 풀링 필터(AveragePooling1D) 기반의 시간 분산 계층(TimeDistributed(AveragePooling1D))은 평균 풀링(AveragePolling)을 수행하여 시간 차원을 1/n로 줄이는 것일 수 있으며(실시예에서 n=2), 이는 다운 샘플 링과 핵심 특징 추출에 도움을 주는 이점이 있다. 제 1 서브 신경망(SN1)은 제 1 시계열 처리모듈(A23)과, 제 2 시계열 처리모듈(A26)을 포함할 수 있다. 제 1 시간 분산 계층(A21)은, 입력과 시간 차수는 동일하되, 추출되는 특징은 m배수로 증가시켜 출력하는 것일 수 있다. 그리고, 제 2 시간 분산 계층(A22)은, 제 1 시간 분산 계층(A21)의 출력을 시간 차수는 1/n으로 줄이 고, 추출되는 특징의 수는 동일하도록 생성하는 것일 수 있다. 제 2 시계열 처리모듈(A26)은, 제 2 시간 분산 계층(A22)의 출력을 처리하는 1차원 컨볼루션 필터(Conv1D) 기반 의 제 3 시간 분산 계층(A24)과, 제 3 시간 분산 계층(A24)의 출력을 처리하는 1차원 전역 평균 풀링 필터(AveragePooling1D) 기반의 제 4 시간 분산 계층(A25)을 포함할 수 있다. 한편, 인공 신경망(A)은, 제 1 서브 신경망(SN1)의 출력에 전역 평균 풀링(GlobalAveragepooling)을 시간 차원 에 걸쳐 적용하는 1차원 전역 평균 풀링 필터(GlobalAveragePooling1D) 기반의 제 5 시간 분산 계층(A27)을 더 포함할 수 있다. 1차원 전역 평균 풀링 필터(GlobalAveragePooling1D)를 적용함으로써 모든 시간 단계에서 각 특징의 평균을 계산하여 대표적인 특징들이 포착될 수 있다. 한편, 인공 신경망(A)은, 제 1 서브 신경망(SN1)의 출력을 처리하는 적어도 하나의 양방향 LSTM 계층(A31, A3 2)과, 상기 적어도 하나의 양방향 LSTM 계층의 출력을 처리하는 제 1 주의 집중 메커니즘(A33)을 구비한 제 2 서브 신경망(SN2)을 포함할 수 있다. 양방향 LSTM 계층(Bidirectional(LSTM))을 사용하면 수질 예측 모델이 과거와 미래의 맥락에서 동시에 학습할 수 있다. LSTM(Long Short-Term Memory)은 RNN의 특별한 한 종류로 LSTM은 Hochreiter & Schmidhuber에 의해 소개되었으며, 긴 의존 기간을 필요로 하는 학습을 수행하는데 적합하다. 양방향 LSTM(Bidirectional LSTM)은 정방향 학습과 역방향 학습을 함께 실행하는 것으로, 일방향 LSTM에 역방향 으로 정보를 전달하는 은닉 계층(hidden layer)를 추가한 것이다. 각 시점에서 hidden state가 이전 시점과 미래 시점의 정보를 모두 갖는 효과가 있기 때문에 모델을 시계열적인 시퀀스 데이터로 학습시킬 경우 유용하다. 양방향 LSTM 계층의 입력과 출력 데이터에서의 메모리 셀의 수(또는 뉴런의 수)는 설정이 가능하며, 예를 들어, A31의 양방향 LSTM 계층은 입력과 출력에서의 메모리 셀 수가 모두 128로 동일하게 설정되었다. 한편, 각 양방향 LSTM 계층에서의 활성화 함수는 하이퍼볼릭 탄젠트 함수가 적용될 수 있으며 (activation='tanh'), 가중치 초기화 방법이 설정 가능하며(kernel_initializer=initializer), 각 시간 단계마 다 출력이 생성되도록 설정될 수 있다(return_sequences=True). 한편, 제 2 서브 신경망(SN2)은, 제 1 양방향 LSTM 계층(A31)과, 제 1 양방향 LSTM 계층(A31)의 출력을 처리하 되, 추출되는 특징을 n배로 증가시키는 제 2 양방향 LSTM 계층(A32)을 포함할 수 있다. 제 1 주의 집중 메커니즘(A33)은, 제 2 양방향 LSTM 계층(A32)의 출력을 처리하되, 추출되는 특징을 1/n로 줄이 는 것일 수 있다. 인공 신경망(A)은 제 2 서브 신경망(SN2)의 출력을 처리하는 반복 백터 계층(RepeatVector, A34)을 포함할 수 있다. 반복 벡터 계층(A34)은 입력 벡터를 반복하여 3D 텐서를 생성하며, 이는 후속 LSTM 계층과의 호환성을 가 능하게 하는 것이다. 실시예에서, 반복 벡터 계층(A34)은 A33의 출력을 A35단계에서 입력으로 사용하기 위해 4 차원으로 변환하였으며, 이는 후술하는 제 2 주의 집중 메커니즘(A37)의 입력 형식과 동일하게 차원을 맞추기 위한 것이기도 하다. 인공 신경망(A)은 반복 백터 계층(RepeatVector, A34)의 출력을 처리하는 제 3 서브 신경망(SN3)을 더 포함할 수 있다. 제 3 서브 신경망(SN3)은 제 3 양방향 LSTM 계층(A35)과, 제 3 양방향 LSTM 계층(A35)의 출력을 처리 하되, 추출되는 특징을 n배로 증가시키는 제 4 양방향 LSTM 계층(A36)과, 제 4 양방향 LSTM 계층(A36)의 출력을 처리하는 제 2 주의 집중 메커니즘(A37)을 포함할 수 있다. 인공 신경망(A)은 최종 예측을 생성하는 완전 연결 계층(A40)을 포함할 수 있다. 완전 연결 계층(A40)은 dense 계층으로써 출력 크기, 즉 예측할 시간 단계의 수를 설정할 수 있다. (n_steps_out=12) 한편, 인공 신경망(A)의 훈련을 위한 데이터 전처리를 위해 최소-최대 스케일링(Min-Max Scaling)이 적용될 수 있다. 이 기법은 데이터셋을 특정 범위 내로 변환하며 모든 특징들이 유사한 범위(일반적으로 0과 1 사이의 값)를 가지게 하여 특징 값들을 표준화하며, 이를 통해 모델의 수렴 속도를 빠르게 하고 훈련 시간을 줄일 수 있다. 최소-최대 스케일링에 사용된 수식은 아래와 같다."}
{"patent_id": "10-2023-0122263", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "데이터 전처리는 데이터셋을 두 부분으로 나누는 훈련-테스트 분할(Train-Test Split) 과정을 더 포함할 수 있 다. 훈련 데이터는 모델을 학습하는 데 사용되며, 테스트 데이터는 보이지 않는 데이터에 대한 모델의 성능을평가하는 데 사용될 수 있다. 전체 데이터의 대략 10%가 테스트 데이터로 할당될 수 있다. 데이터 전처리는 다단계 시퀀스 준비(Multi-Step Sequence Preparation)를 더 포함할 수 있다. 상기 다단계 시 퀀스 준비 과정에서는 각 입력 시퀀스에서의 시간 단계 수와, 각 출력 시퀀스에서의 시간 단계 수가 설정될 수 있다. 도 4는 본 발명의 일 실시예에 따른 물탱크의 수질 관리 방법을 도시한 순서도이다. 도 4를 참조하면, 본 발명의 일 실시예에 따른 물탱크의 수질 관리 방법은, 데이터 입력 단계(S1), 수질 예측 단계(S2), 예측 결과 알림 단계(S3), 자동 청소 판단 단계(S4) 및/또는 자동 소독 단계(S5)를 포함할 수 있다. 데이터 입력 단계(S1)는 미리 훈련이 이루어진 인공 신경망(A)에, 수질 센서(11~15)로부터 출력된 시퀀스 수질 데이터를 입력하는 단계일 수 있다. 수질 예측 단계(S2)는, 단계에서 입력된 데이터가 전술한 인공 신경망(A)에 의해 처리되어 출력으로써 수질 예 측 값이 출력되는 단계일 수 있다. 이러한 수질 예측은 프로세서에 의해 이루어질 수 있다. 자동 청소 판단 단계(S3)는, 수질 예측 단계(S2)에서의 결과값을 바탕으로 자동 청소 여부를 판단하는 단계로서 프로세서에 의해 이루어질 수 있다. 프로세서는, S2단계에서의 수질 예측 결과를 바탕으로 물탱크 청소 가 필요한 시점을 판단할 수 있다. 예를 들어, 조만간 수질이 허용치보다 안 좋아질 것으로 판단되는 경우 프로 세서는 자동 청소 명령을 생성할 수 있다. S5단계는, 상기 자동 청소 명령에 따라 물탱크의 청소가 이루어지는 단계일 수 있다. 예를 들어, 상기 자동 청 소 명령에 따라 소독장치가 작동될 수 있다. 한편, 실시예에 따라 S4단계는 인터페이스를 통해 사용자로부터 자동 청소 명령을 입력 받는 단계일 수 있으며, 이 경우, S5단계에서의 자동청소는 S4단계에서의 자동 청소 명령의 입력에 따라 소독장치가 동작되도록 구 성될 수 있다. 한편, S2 단계에서 물탱크의 수질 악화가 예측되는 경우, 프로세서는 그 결과를 통신부를 통해 통신망 으로 전송하며, 물탱크의 관리자 또는 사용자가 통신망에 접속된 다른 장치(60, 80, 90)를 통해 수질 예측 결과 를 인식할 수 있게 된다. 한편, 물탱크 관리 어플리케이션은 컴퓨터 판독 가능한 기록 매체에 저장된 프로그램 형태로 제공될 수 있다. 상기 컴퓨터 판독 가능한 기록 매체에는, 일시적이지 않은 유형의 매체(nontransitory computer recording medium)(예를 들어, 각종 주기억 장치 또는 보조 기억 장치) 기록 매체뿐만 아니라, 전파 신호(transitory computer recording medium)(예를 들어, 네트워크를 통해 제공 가능한 데이터 신호)도 포함된다.도면 도면1 도면2 도면3 도면4 도면5"}
{"patent_id": "10-2023-0122263", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 인공지능을 이용한 물탱크를 도시한 것이다. 도 2는 본 발명의 일 실시예에 따른 물탱크 관리 어플리케이션의 개요도이다. 도 3은 물탱크 관리 어플리케이션을 구성하는 인공 신경망의 아키텍처(architecture)를 도시한 것이다. 도 4는 본 발명의 일 실시예에 따른 물탱크의 수질 관리 방법을 도시한 순서도이다. 도 5는 본 발명의 일 실시예에 따른 인공 신경망을 이용한 수온 예측 결과를 보이는 그래프이다."}
