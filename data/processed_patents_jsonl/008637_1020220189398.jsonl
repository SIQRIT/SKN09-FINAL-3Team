{"patent_id": "10-2022-0189398", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0106508", "출원번호": "10-2022-0189398", "발명의 명칭": "딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 시스템", "출원인": "주식회사 마인드인테크", "발명자": "공병구"}}
{"patent_id": "10-2022-0189398", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "이미지 또는 영상을 업로드하고, 상기 이미지 또는 영상 내 다중객체를 검출하여 표시하는 사용자 단말; 및이미지 또는 영상 내 다중객체를 검출하는 딥러닝 알고리즘을 저장하는 세팅부, 상기 사용자 단말의 이미지 또는 영상 내 이종객체가 다중객체로 존재하면서 다중객체 중 어느 하나의 객체가 가려진 경우, 가려진 객체의 가려진 부분의 비율을 추정하는 가림추정부, 상기 가려진 객체의 가려진 부분의 비율만큼, 상기 가려진 객체를 가린 객체의 신뢰도 점수에 곱한 보상값을, 상기 가려진 객체의 신뢰도 점수에 더하여 최종 신뢰도 점수를 산출하는 가림추출부를 포함하는 검출 서비스 제공 서버;를 포함하는 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 시스템."}
{"patent_id": "10-2022-0189398", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서,상기 검출 서비스 제공 서버는,상기 가려진 객체의 가려진 부분의 비율을 추정할 때, 이종객체에 각각 표시된 경계박스(Bounding Box)의 겹친비율을 상기 가려진 부분의 비율로 추정하는 비율추정부;를 더 포함하는 것을 특징으로 하는 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 시스템."}
{"patent_id": "10-2022-0189398", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1 항에 있어서,상기 검출 서비스 제공 서버는,상기 최종 신뢰도 점수가 신뢰도 제한 점수(Confidence Threshold Value)를 초과한 경우, 상기 이종객체에 의해가려진 객체를 검출하는 객체검출부;를 더 포함하는 것을 특징으로 하는 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 시스템."}
{"patent_id": "10-2022-0189398", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 1 항에 있어서,상기 딥러닝 알고리즘은 YOLO(You Only Look Once)이고,상기 신뢰도 점수는 NMS(Non-Maximum Suppression)에 기반한 점수인 것을 특징으로 하는 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 시스템."}
{"patent_id": "10-2022-0189398", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 4 항에 있어서,상기 NMS의 IOU(Intersection Over Union)를 상기 가려진 객체의 비율에 기초하여 산출하는 것을 특징으로 하는딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 시스템.공개특허 10-2024-0106508-3-청구항 6 제 5 항에 있어서,상기 이종객체가 동종객체인 경우, 상기 가려진 객체의 비율을 SOFT-NMS의 IOU(Intersection Over Union)에 기초하여 산출하는 것을 특징으로 하는 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 시스템."}
{"patent_id": "10-2022-0189398", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제 4 항에 있어서,상기 검출 서비스 제공 서버는,상기 가려진 객체의 가려진 부분의 비율을 추정하기 위하여 상기 가려진 객체의 가려지지 않은 부분으로 객체의가려진 부분의 크기 및 형상을 추정하여 합성하는 합성부;를 더 포함하는 것을 특징으로 하는 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 시스템."}
{"patent_id": "10-2022-0189398", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 1 항에 있어서,상기 검출 서비스 제공 서버는,상기 가려진 객체의 가려진 부분을 추론하기 위하여 GAN(Generative Adversarial Network) 기반 가려짐 추론네트워크를 이용하여 추론된 형상을 상기 가려진 객체의 가려지지 않은 부분에 합성한 후, 상기 경계박스의 신뢰도 점수를 산출하는 추론부;를 더 포함하는 것을 특징으로 하는 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 시스템."}
{"patent_id": "10-2022-0189398", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 1 항에 있어서,상기 검출 서비스 제공 서버는,상기 사용자 단말에서 이미지가 아닌 영상으로 입력되는 경우, 상기 이종객체의 움직임 패턴을 이용하여 상기가려진 부분을 가지는 객체를 추출하는 동체추출부;를 더 포함하는 것을 특징으로 하는 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 시스템."}
{"patent_id": "10-2022-0189398", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제 9 항에 있어서,상기 검출 서비스 제공 서버는,상기 가려진 부분을 가진 객체가 가려진 부분이 기 설정된 값 미만으로 이동한 경우, 상기 움직임 패턴에 의해추출된 객체가 맞는지의 여부를 확인하는 피드백부;를 더 포함하는 것을 특징으로 하는 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 시스템."}
{"patent_id": "10-2022-0189398", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 시스템이 제공되며, 이미지 또는 영상을 업로드하 고, 이미지 또는 영상 내 다중객체를 검출하여 표시하는 사용자 단말 및 이미지 또는 영상 내 다중객체를 검출하 는 딥러닝 알고리즘을 저장하는 세팅부, 사용자 단말의 이미지 또는 영상 내 이종객체가 다중객체로 존재하면서 다중객체 중 어느 하나의 객체가 가려진 경우, 가려진 객체의 가려진 부분의 비율을 추정하는 가림추정부, 가려 진 객체의 가려진 부분의 비율만큼, 가려진 객체를 가린 객체의 신뢰도 점수에 곱한 보상값을, 가려진 객체의 신 뢰도 점수에 더하여 최종 신뢰도 점수를 산출하는 가림추출부를 포함하는 검출 서비스 제공 서버를 포함한다."}
{"patent_id": "10-2022-0189398", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 시스템에 관한 것으로, 이종객체로 가 려진 다중객체를 검출할 때 가려진 부분의 비율을 가린 객체의 신뢰도 점수에 곱해, 가려진 객체의 신뢰도 점수 에 합산함으로써 객체 검출에 탈락하지 않도록 하는 시스템을 제공한다."}
{"patent_id": "10-2022-0189398", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "딥러닝을 포함하는 인공지능 관련 산업 영역의 급속도로 확대 추세를 보이고 있으며 그 중에서도 딥러닝 관련 시장의 성장세가 가장 크게 두드러지고 있다. 딥러닝을 활용한 영상인식 기술은 다양한 시스템으로 적용되고 있는데, 자율주행 자동차에 딥러닝 기술의 적용을 위해 완성차 업계 뿐만 아니라 구글, 애플 등의 글로벌 IT 기 업에서 딥러닝 기술에 대한 역량 강화에 나서는 추세가 두드러지고 있다. 또한, 페이스북은 얼굴 인식 서비스인 DeepFace를 제공하여 이미 사람의 얼굴 인식 수준보다 높은 성능을 보이고 있으며, 구글의 구글포토는 클라우드 에 업로드된 사진 속 여러 객체를 각각의 클래스에 따라 세분화하여 인식하는 서비스를 제공하고 있다. 딥러닝 기반 물체 인식 및 검출 방법 중 YOLO(You Only Look Once) 네트워크는 최종 출력단에서 경계박스 검출과 클래 스 분류가 동시에 수행되도록 설계되었다. R-CNN 계열 모델 중 가장 빠르고 정확한 Faster R-CNN에서 네트워크 를 구성하는 3개의 모듈이 특징 검출, 경계박스(Bounding Box) 생성, 클래스 분류를 각각 담당하는 것과 대조적 으로 YOLO는 모든 단계가 단일 네트워크 안에서 이루어지므로 간단하고 빠르다. 이때, 다중객체를 추적 및 식별하기 위해 인식하는 방법은 외형 또는 모션패턴을 이용하거나 영상 내 다중정보 를 매칭하는 방법으로 이루어지는데, 이와 관련하여, 선행기술인 한국등록특허 제10-1866338호(2018년06월11일 공고) 및 한국공개특허 제2022-0040862호(2022년03월31일 공개)에는, 프레임에 입력된 이미지 시퀀스로부터 선 택된 기준객체와 비교하여 외형특징을 추출하고, 이미지 시퀀스에서 객체의 모션패턴을 결정하며, 외형특징 및 모션패턴에 기반하여 기준객체를 식별 및 추적하는 구성과, 입력되는 영상에 대해 객체검출을 수행하여 객체검 출정보를 획득하고, 객체검출정보에는 프레임별로 검출된 식별자 및 위치를 포함하도록 하며, 물리적 센서를 이 용하여 물체의 위치를 측정한 후, 영상 프레임별로 객체검출정보 및 위치측정정보를 기반으로 객체 매칭을 수행 함으로써 프레임별로 최종위치정보를 획득하는 구성이 각각 개시되어 있다. 다만, 전자의 경우 모션패턴이 충분히 입력되지 않은 경우 외형특징만으로 기준객체를 식별하기 어렵고, 후자의 경우에는 물리적 센서가 필수적으로 포함되어야 하기 때문에 딥러닝 기반으로 영상 내 객체를 식별할 수 없다. YOLO 네트워크의 최종 출력단은 영상 내 객체 클래스 및 경계박스의 가능성이 있는 모든 후보를 표현하는 특징 텐서(Tensor)인데, 이 텐서는 입력 영상을 일정 크기의 그리드로 분할하고, 각 그리드에서 생성된 경계박스가 목적 객체의 경계박스가 될 스코어와 해당 객체의 클래스가 무엇인가에 대한 사후 확률을 표현한다. 이를 기반 으로 가장 유력한 객체 클래스 및 객체 경계박스를 구하는 NMS(Non-Maximum Suppression) 알고리즘이 적용되지 만, 객체가 겹쳐 있거나 작은 객체가 존재하는 경우 검출 성능이 떨어지는 경향을 보인다. 이러한 단점으로 인 해 YOLO의 빠른 속도와 일정 수준의 정확도에도 불구하고 실제 응용 시스템에는 널리 활용되지 못한다. 이에, YOLO를 이용하여 빠른 속도로 처리가 가능하면서 객체가 겹친 상황에서 다중객체를 검출하는 정확도를 높일 수 있는 시스템의 연구 및 개발이 요구된다."}
{"patent_id": "10-2022-0189398", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 일 실시예는, 딥러닝 기반으로 다중객체를 검출할 때, 이종객체가 다중객체로 존재하면서 다중객체 중 어느 하나의 객체가 가려진 경우, 신뢰도 제한 점수 보다 낮은 신뢰도 점수로 객체 검출에서 탈락하는 것을 방지하기 위하여, 다중객체 중 이종객체에 의해 가려진 객체의 가려진 부분의 비율을 가린 객체의 신뢰도 점수 에 곱한 후 가려진 객체의 신뢰도 점수에 합산해줌으로써, 신뢰도 제한 점수 보다 낮은 신뢰도 점수로 객체 검 출이 안되는 것을 방지할 수 있고, 딥러닝을 이용하여 검출 속도가 빠르면서도 정확도까지 높일 수 있어 빠른 속도와 일정 수준의 정확도에도 불구하고 실제 응용 시스템에는 널리 활용되지 못하는 단점을 개선할 수 있는, 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 시스템을 제공할 수 있다. 다만, 본 실시예가 이 루고자 하는 기술적 과제는 상기된 바와 같은 기술적 과제로 한정되지 않으며, 또 다른 기술적 과제들이 존재할 수 있다."}
{"patent_id": "10-2022-0189398", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상술한 기술적 과제를 달성하기 위한 기술적 수단으로서, 본 발명의 일 실시예는, 이미지 또는 영상을 업로드하 고, 이미지 또는 영상 내 다중객체를 검출하여 표시하는 사용자 단말 및 이미지 또는 영상 내 다중객체를 검출 하는 딥러닝 알고리즘을 저장하는 세팅부, 사용자 단말의 이미지 또는 영상 내 이종객체가 다중객체로 존재하면 서 다중객체 중 어느 하나의 객체가 가려진 경우, 가려진 객체의 가려진 부분의 비율을 추정하는 가림추정부, 가려진 객체의 가려진 부분의 비율만큼, 가려진 객체를 가린 객체의 신뢰도 점수에 곱한 보상값을, 가려진 객체 의 신뢰도 점수에 더하여 최종 신뢰도 점수를 산출하는 가림추출부를 포함하는 검출 서비스 제공 서버를 포함한 다."}
{"patent_id": "10-2022-0189398", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "전술한 본 발명의 과제 해결 수단 중 어느 하나에 의하면, 딥러닝 기반으로 다중객체를 검출할 때, 이종객체가 다중객체로 존재하면서 다중객체 중 어느 하나의 객체가 가려진 경우, 신뢰도 제한 점수 보다 낮은 신뢰도 점수 로 객체 검출에서 탈락하는 것을 방지하기 위하여, 다중객체 중 이종객체에 의해 가려진 객체의 가려진 부분의 비율을 가린 객체의 신뢰도 점수에 곱한 후 가려진 객체의 신뢰도 점수에 합산해줌으로써, 신뢰도 제한 점수 보 다 낮은 신뢰도 점수로 객체 검출이 안되는 것을 방지할 수 있고, 딥러닝을 이용하여 검출 속도가 빠르면서도 정확도까지 높일 수 있어 빠른 속도와 일정 수준의 정확도에도 불구하고 실제 응용 시스템에는 널리 활용되지 못하는 단점을 개선할 수 있다."}
{"patent_id": "10-2022-0189398", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "아래에서는 첨부한 도면을 참조하여 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자가 용이하게 실시할 수 있도록 본 발명의 실시예를 상세히 설명한다. 그러나 본 발명은 여러 가지 상이한 형태로 구현될 수 있으며 여기에서 설명하는 실시예에 한정되지 않는다. 그리고 도면에서 본 발명을 명확하게 설명하기 위해서 설명과 관 계없는 부분은 생략하였으며, 명세서 전체를 통하여 유사한 부분에 대해서는 유사한 도면 부호를 붙였다. 명세서 전체에서, 어떤 부분이 다른 부분과 \"연결\"되어 있다고 할 때, 이는 \"직접적으로 연결\"되어 있는 경우뿐 아니라, 그 중간에 다른 소자를 사이에 두고 \"전기적으로 연결\"되어 있는 경우도 포함한다. 또한 어떤 부분이 어떤 구성요소를 \"포함\"한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다른 구성요소를 제외하는 것이 아 니라 다른 구성요소를 더 포함할 수 있는 것을 의미하며, 하나 또는 그 이상의 다른 특징이나 숫자, 단계, 동작, 구성요소, 부분품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해 되어야 한다. 명세서 전체에서 사용되는 정도의 용어 \"약\", \"실질적으로\" 등은 언급된 의미에 고유한 제조 및 물질 허용오차 가 제시될 때 그 수치에서 또는 그 수치에 근접한 의미로 사용되고, 본 발명의 이해를 돕기 위해 정확하거나 절 대적인 수치가 언급된 개시 내용을 비양심적인 침해자가 부당하게 이용하는 것을 방지하기 위해 사용된다. 본 발명의 명세서 전체에서 사용되는 정도의 용어 \"~(하는) 단계\" 또는 \"~의 단계\"는 \"~ 를 위한 단계\"를 의미하지 않는다. 본 명세서에 있어서 '부(部)'란, 하드웨어에 의해 실현되는 유닛(unit), 소프트웨어에 의해 실현되는 유닛, 양 방을 이용하여 실현되는 유닛을 포함한다. 또한, 1 개의 유닛이 2 개 이상의 하드웨어를 이용하여 실현되어도 되고, 2 개 이상의 유닛이 1 개의 하드웨어에 의해 실현되어도 된다. 한편, '~부'는 소프트웨어 또는 하드웨어 에 한정되는 의미는 아니며, '~부'는 어드레싱 할 수 있는 저장 매체에 있도록 구성될 수도 있고 하나 또는 그 이상의 프로세서들을 재생시키도록 구성될 수도 있다. 따라서, 일 예로서 '~부'는 소프트웨어 구성요소들, 객 체 지향 소프트웨어 구성요소들, 클래스 구성요소들 및 태스크 구성요소들과 같은 구성요소들과, 프로세스들,함수들, 속성들, 프로시저들, 서브루틴들, 프로그램 코드의 세그먼트들, 드라이버들, 펌웨어, 마이크로코드, 회 로, 데이터, 데이터베이스, 데이터 구조들, 테이블들, 어레이들 및 변수들을 포함한다. 구성요소들과 '~부'들 안에서 제공되는 기능은 더 작은 수의 구성요소들 및 '~부'들로 결합되거나 추가적인 구성요소들과 '~부'들로 더 분리될 수 있다. 뿐만 아니라, 구성요소들 및 '~부'들은 디바이스 또는 보안 멀티미디어카드 내의 하나 또 는 그 이상의 CPU들을 재생시키도록 구현될 수도 있다. 본 명세서에 있어서 단말, 장치 또는 디바이스가 수행하는 것으로 기술된 동작이나 기능 중 일부는 해당 단말, 장치 또는 디바이스와 연결된 서버에서 대신 수행될 수도 있다. 이와 마찬가지로, 서버가 수행하는 것으로 기 술된 동작이나 기능 중 일부도 해당 서버와 연결된 단말, 장치 또는 디바이스에서 수행될 수도 있다. 본 명세서에서 있어서, 단말과 매핑(Mapping) 또는 매칭(Matching)으로 기술된 동작이나 기능 중 일부는, 단말 의 식별 정보(Identifying Data)인 단말기의 고유번호나 개인의 식별정보를 매핑 또는 매칭한다는 의미로 해석 될 수 있다. 이하 첨부된 도면을 참고하여 본 발명을 상세히 설명하기로 한다. 도 1은 본 발명의 일 실시예에 따른 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 시스템을 설 명하기 위한 도면이다. 도 1을 참조하면, 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 시스템 은, 적어도 하나의 사용자 단말, 검출 서비스 제공 서버, 적어도 하나의 촬영장치를 포함할 수 있다. 다만, 이러한 도 1의 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 시스템은, 본 발명의 일 실시예에 불과하므로, 도 1을 통하여 본 발명이 한정 해석되는 것은 아니다. 이때, 도 1의 각 구성요소들은 일반적으로 네트워크(Network, 200)를 통해 연결된다. 예를 들어, 도 1에 도시 된 바와 같이, 적어도 하나의 사용자 단말은 네트워크를 통하여 검출 서비스 제공 서버와 연결 될 수 있다. 그리고, 검출 서비스 제공 서버는, 네트워크를 통하여 적어도 하나의 사용자 단말 , 적어도 하나의 촬영장치와 연결될 수 있다. 또한, 적어도 하나의 촬영장치는, 네트워크(20 0)를 통하여 검출 서비스 제공 서버와 연결될 수 있다. 여기서, 네트워크는, 복수의 단말 및 서버들과 같은 각각의 노드 상호 간에 정보 교환이 가능한 연결 구조를 의 미하는 것으로, 이러한 네트워크의 일 예에는 근거리 통신망(LAN: Local Area Network), 광역 통신망(WAN: Wide Area Network), 인터넷(WWW: World Wide Web), 유무선 데이터 통신망, 전화망, 유무선 텔레비전 통신망 등을 포함한다. 무선 데이터 통신망의 일례에는 3G, 4G, 5G, 3GPP(3rd Generation Partnership Project), 5GPP(5th Generation Partnership Project), LTE(Long Term Evolution), WIMAX(World Interoperability for Microwave Access), 와이파이(Wi-Fi), 인터넷(Internet), LAN(Local Area Network), Wireless LAN(Wireless Local Area Network), WAN(Wide Area Network), PAN(Personal Area Network), RF(Radio Frequency), 블루투스 (Bluetooth) 네트워크, NFC(Near-Field Communication) 네트워크, 위성 방송 네트워크, 아날로그 방송 네트워 크, DMB(Digital Multimedia Broadcasting) 네트워크 등이 포함되나 이에 한정되지는 않는다. 하기에서, 적어도 하나의 라는 용어는 단수 및 복수를 포함하는 용어로 정의되고, 적어도 하나의 라는 용어가 존재하지 않더라도 각 구성요소가 단수 또는 복수로 존재할 수 있고, 단수 또는 복수를 의미할 수 있음은 자명 하다 할 것이다. 또한, 각 구성요소가 단수 또는 복수로 구비되는 것은, 실시예에 따라 변경가능하다 할 것이다. 적어도 하나의 사용자 단말은, 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 관련 웹 페이지, 앱 페이지, 프로그램 또는 애플리케이션을 이용하여 이미지 또는 영상 내 다중객체를 검출하여 표시하는 사용자 의 단말일 수 있다. 여기서, 적어도 하나의 사용자 단말은, 네트워크를 통하여 원격지의 서버나 단말에 접속할 수 있는 컴퓨터 로 구현될 수 있다. 여기서, 컴퓨터는 예를 들어, 네비게이션, 웹 브라우저(WEB Browser)가 탑재된 노트북, 데 스크톱(Desktop), 랩톱(Laptop) 등을 포함할 수 있다. 이때, 적어도 하나의 사용자 단말은, 네트워크를 통해 원격지의 서버나 단말에 접속할 수 있는 단말로 구현될 수 있다. 적어도 하나의 사용자 단말은, 예 를 들어, 휴대성과 이동성이 보장되는 무선 통신 장치로서, 네비게이션, PCS(Personal Communication System), GSM(Global System for Mobile communications), PDC(Personal Digital Cellular), PHS(Personal Handyphone System), PDA(Personal Digital Assistant), IMT(International Mobile Telecommunication)-2000, CDMA(Code Division Multiple Access)-2000, W-CDMA(W-Code Division Multiple Access), Wibro(Wireless Broadband Internet) 단말, 스마트폰(Smartphone), 스마트 패드(Smartpad), 타블렛 PC(Tablet PC) 등과 같은 모든 종류의핸드헬드(Handheld) 기반의 무선 통신 장치를 포함할 수 있다. 검출 서비스 제공 서버는, 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 웹 페이지, 앱 페이지, 프로그램 또는 애플리케이션을 제공하는 서버일 수 있다. 그리고, 검출 서비스 제공 서버는, 다중객체를 검출하기 위한 딥러닝 알고리즘을 세팅하고, 딥러닝 알고리즘에서 다중객체를 검출할 때, 이종객체가 다중객체 로 존재하면서 다중객체 중 어느 하나의 객체가 가려진 경우, 신뢰도 제한 점수 보다 낮은 신뢰도 점수로 객체 검출에서 탈락하는 것을 방지하기 위하여, 다중객체 중 이종객체에 의해 가려진 객체의 가려진 부분의 비율을 가린 객체의 신뢰도 점수에 곱한 후 가려진 객체의 신뢰도 점수에 합산해줌으로써, 신뢰도 제한 점수 보다 낮은 신뢰도 점수로 객체 검출이 안되는 것을 방지하는 서버일 수 있다. 이에 따라, 검출 서비스 제공 서버는, 사용자 단말에서 촬영장치로부터 수집된 이미지 또는 영상이나 사용자 단말의 이미지 또는 영상 내 다중객체를 검출할 때, 이종객체가 다중객체로 존재하면서 다중객체 중 어느 하나의 객체가 가려진 경우, 신 뢰도 점수를 보상해줌으로써 가려진 객체가 객체 검출에 탈락하는 것을 방지하고 그 결과를 사용자 단말로 전송하는 서버일 수 있다. 이때, 사용자 단말에서 이 기능을 모두 수행하는 경우 검출 서비스 제공 서버 는 삭제되어도 무방하다. 여기서, 검출 서비스 제공 서버는, 네트워크를 통하여 원격지의 서버나 단말에 접속할 수 있는 컴퓨터로 구현될 수 있다. 여기서, 컴퓨터는 예를 들어, 네비게이션, 웹 브라우저(WEB Browser)가 탑재된 노트북, 데스 크톱(Desktop), 랩톱(Laptop) 등을 포함할 수 있다. 적어도 하나의 촬영장치는, 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 관련 웹 페이지, 앱 페이지, 프로그램 또는 애플리케이션을 이용하거나 이용하지 않고 사용자 단말을 경유하여 검출 서비스 제 공 서버로 이미지 또는 영상을 제공하는 장치일 수 있다. 이때, 적어도 하나의 촬영장치가 지능형 CCTV, 즉 검출 서비스 제공 서버의 기능을 모두 갖춘 경우에는 촬영장치 단(End)에서 다중객체 검출 기능을 수행하여 사용자 단말로 바로 전송할 수도 있는데 이는 실시예에 따라 달라질 수 있으므로 어느 하 나에 특정하지는 않는다. 여기서, 적어도 하나의 촬영장치는, 네트워크를 통하여 원격지의 서버나 단말에 접속할 수 있는 컴퓨터로 구현될 수 있다. 여기서, 컴퓨터는 예를 들어, 네비게이션, 웹 브라우저(WEB Browser)가 탑재된 노트북, 데스 크톱(Desktop), 랩톱(Laptop) 등을 포함할 수 있다. 이때, 적어도 하나의 촬영장치는, 네트워크를 통해 원격지의 서버나 단말에 접속할 수 있는 단말로 구현될 수 있다. 적어도 하나의 촬영장치는, 예를 들어, 휴대성과 이동성이 보장되는 무선 통신 장치로서, 네비게이션, PCS(Personal Communication System), GSM(Global System for Mobile communications), PDC(Personal Digital Cellular), PHS(Personal Handyphone System), PDA(Personal Digital Assistant), IMT(International Mobile Telecommunication)-2000, CDMA(Code Division Multiple Access)-2000, W-CDMA(W-Code Division Multiple Access), Wibro(Wireless Broadband Internet) 단말, 스마트폰(Smartphone), 스마트 패드(Smartpad), 타블렛 PC(Tablet PC) 등과 같은 모든 종류의 핸드헬드(Handheld) 기반의 무선 통신 장치를 포함할 수 있다. 도 2는 도 1의 시스템에 포함된 검출 서비스 제공 서버를 설명하기 위한 블록 구성도이고, 도 3 및 도 4는 본 발명의 일 실시예에 따른 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스가 구현된 일 실시예를 설명하 기 위한 도면이다. 도 2를 참조하면, 검출 서비스 제공 서버는, 세팅부, 가림추정부, 가림추출부, 비율추정부 , 객체검출부, 합성부, 추론부, 동체추출부 및 피드백부를 포함할 수 있다. 본 발명의 일 실시예에 따른 검출 서비스 제공 서버나 연동되어 동작하는 다른 서버(미도시)가 적어도 하 나의 사용자 단말 및 적어도 하나의 촬영장치로 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서 비스 애플리케이션, 프로그램, 앱 페이지, 웹 페이지 등을 전송하는 경우, 적어도 하나의 사용자 단말 및 적어도 하나의 촬영장치는, 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 애플리케이션, 프로그 램, 앱 페이지, 웹 페이지 등을 설치하거나 열 수 있다. 또한, 웹 브라우저에서 실행되는 스크립트를 이용하여 서비스 프로그램이 적어도 하나의 사용자 단말 및 적어도 하나의 촬영장치에서 구동될 수도 있다. 여기서, 웹 브라우저는 웹(WWW: World Wide Web) 서비스를 이용할 수 있게 하는 프로그램으로 HTML(Hyper Text Mark-up Language)로 서술된 하이퍼 텍스트를 받아서 보여주는 프로그램을 의미하며, 예를 들어 넷스케이프 (Netscape), 익스플로러(Explorer), 크롬(Chrome) 등을 포함한다. 또한, 애플리케이션은 단말 상의 응용 프로 그램(Application)을 의미하며, 예를 들어, 모바일 단말(스마트폰)에서 실행되는 앱(App)을 포함한다.도 2를 참조하면, 세팅부는, 이미지 또는 영상 내 다중객체를 검출하는 딥러닝 알고리즘을 저장할 수 있다. 이때, 딥러닝 알고리즘은 YOLO(You Only Look Once)일 수 있다. 객체 검출 알고리즘은 우선 영상에서 객체의 위치(Localization)를 찾아야하고, 그 위치의 객체가 어떤 물체인지를 분류(Classification)해야 된다. 이를 수행하기 위하여 다양한 방법들이 존재하는데, YOLO는 단일단계(1-Stage) 검출 방법을 이용한다. 단일단 계 검출 방법은 모든 영역에 대해서 위치 검출과 분류를 동시에 수행한다. 두단계(2-Stage) 검출 방법은 대략 적인 위치 검출을 수행하고, 선출된 후보군들에서 분류를 수행한다. 단일단계 검출기는 모든 영역에서 객체의 위치 검출과 분류를 동시에 수행하고, 이를 동시에 수행하다보니, 속도는 빠르지만 정확도는 두단계 검출 방법 보다 조금 떨어지는 단점이 존재한다. 반대로, 두단계 검출기는 객체 위치 검출과 분류가 순차적으로 이루어지 므로, 정확도는 상대적으로 뛰어나지만 속도가 느리다는 단점을 가지고 있다. 단일단계 검출기의 대표적인 예 로는 YOLO, SSD 알고리즘이 두단계 검출기의 대표적 예로는 R-CNN, Faster R-CNN이 있다. 단일단계 방식과 두 단계 방식은 인식 속도와 인식 정확도 부분에서 각각의 장점을 갖고 있다. <YOLO 알고리즘> 단일단계 알고리즘의 대표적 예인 YOLO(You Only Look Once) 알고리즘은 하나의 컨볼루션 네트워크 (Convolutional Network)를 통해 여러 경계박스에 대한 클래스(Class) 확률을 계산하는 방식으로 이루어진다. YOLO는 각각의 경계박스를 예측하기 위해 이미지 전체의 특징을 활용하는데 이러한 YOLO의 디자인 방식 덕분에 정확성을 유지하면서 종단 간(End-to-End) 학습과 빠른 객체 검출이 가능하다. YOLO에 이미지를 입력하게 되면, 먼저 그 이미지를 S×S 크기의 그리드(Grid)로 나누게 되고 각각의 그리드 셀(Grid Cell)은 B 개의 경계 박스(네모박스)와 각 경계박스에 대한 신뢰도 점수(Confidence Score)를 갖게 되는데, 이를 수학식으로 나타내 면 수학식 1과 같다. 수학식 1"}
{"patent_id": "10-2022-0189398", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "각각의 경계박스는 경계박스의 중심점으로부터 그리드 셀의 범위에 대한 상대값인 (x,y) 좌표와 전체 이미지의 폭, 높이와 그리드 박스의 폭, 높이에 대한 상대값인 IOU(Intersection Over Union) 및 신뢰도로 구성되게 된다. 이때, Truth는 GT(Ground Truth)로 설정된 값(정답)이고, Pred는 Prediction, 즉 딥러닝 알고리즘이 예 측한 값이다. 이때, 딥러닝 알고리즘이 개발자가 설정한 정답에 가깝게 맞춰야(예측) IOU가 높아지게 된다. YOLO 모델은 단일 CNN 구조를 이용하여 설계되는데, YOLO에서의 CNN 구조의 앞단은 합성곱층(Convolutional Layer)이고, 이어서 전결합층(Fully-Connected Layer)으로 구성되어 있다. 합성곱층은 이미지로부터 특징을 추 출하고, 전결합층은 클래스 확률과 경계박스의 좌표를 예측한다. 추론 단계에서도 이미지로부터 객체를 검출하 는 데에는 하나의 신경망 계산만 하면 되기 때문에 매우 빠른 속도를 얻을 수 있다. 만약 객체가 있을 확률이 매우 낮다면 그곳에 어떠한 클래스가 있는지에 대한 정보도 매우 낮아지게 된다. 위와 같은 과정을 모든 그리 드 셀에 반복하고 그 결과를 종합하는 것으로 최종적인 객체 인식 과정을 마치게 된다. 그러나 YOLO의 그리드 디자인은 한 가지 단점이 있는데, 하나의 객체를 여러 그리드 셀이 동시에 검출하는 경우 가 있다는 점 때문이다. 객체의 크기가 크다거나 객체가 그리드 셀의 경계에 인접해 있는 경우, 그 객체에 대 한 경계박스가 여러 개 생길 수 있다. 즉, 하나의 그리드 셀이 아니라 여러 그리드 셀에서 해당 객체에 대한 경계박스를 예측할 수 있다는 것이다. 도 3a를 참조하면, 하나의 객체가 하나의 그리드 셀에만 존재하는 경우 에는 문제가 없지만 객체의 크기나 객체의 위치에 따라 이러한 문제가 발생할 수 있고 이를 다중 검출 문제라고 한다. 이런 다중 검출 문제는 NMS(Non-Maximum Suppression) 알고리즘을 적용하여 개선할 수 있다. NMS 알고 리즘은 각 객체에 대해 예측한 경계박스들 중 가장 높은 정확도를 가진 박스만을 남기기 위한 것으로, 간단히 말해 어떠한 경계박스가 있을 때, 그 경계박스의 분류 점수 순서대로 경계박스를 내림차순으로 정렬시켜 순서대 로 경계박스의 IOU의 값이 설정한 임계치 값 이하이면 그 경계박스를 버리는 방식이다. 단, 임계값을 크게 설 정하면 도 3b와 같이 그 값보다 낮은 값을 제거하게 되므로 다수 객체를 인식할 때 정밀도가 감소하게 된다. 도 3b의 NMS를 이용하면 전면의 말(Horse)의 경계박스의 IOU가 0.5보다 크고, 후면의 말의 경계박스가 전면의 말의 경계박스의 신뢰도 점수에 따른 경계박스로 간주되어 후면의 말의 경계박스가 NMS에 의해 사라지게 된다. <SOFT-NMS> SOFT-NMS는 경계박스를 NMS처럼 억제하는 것이 아니라, 신뢰도 점수를 감소시키게 된다. SOFT-NMS는 가장 높은 신뢰도 점수를 가지는 경계박스를 찾고, 경계박스 중 겹치는 영역이 임계값 이상이면 제거함으로써 중복을 제거 하는 알고리즘이다. 즉, 객체(전면의 말)에 의해 가려진 객체(후면의 말)는, 부분 특징만이 적용되어 낮은 신 뢰도 점수가 유지되어야 삭제 대상에서 살아남을 수 있게 된다. 이에 따라, 동종객체여서 동종 클래스(Class) 로 가려진 경계박스의 신뢰도 점수는, 신뢰도 점수가 공유면적(IOU) 비율만큼 후면의 말의 객체가 아님에도 더 해진 결과로 간주하여 공유면적의 비율만큼 신뢰도 점수를 낮추어 준다. 신뢰도 점수의 하락은 두 경계박스가 하나의 객체에 대한 다양한 경계박스가 아니라, 별개의 경계박스로 간주되어 살아남게, 즉 객체 검출에서 탈락 하지 않게 된다. 도 3b를 보면, 초록색의 경계박스는 NMS에 의해 억제되어야 하지만, SOFT-NMS는 낮은 신뢰도 점수를 부여한다. 원래대로라면 NMS에 의해 신뢰도 점수가 0.8이어야 하는데, 0.4로 감소시켜 표현하는 것이다. SOFT-NMS의 상세 한 설명과 알고리즘 코드는 코넬대학의 논문인 Soft-NMS, Improving Object Detection With One Line of Code, Navaneeth Bodla, Bharat Singh, Rama Chellappa, Larry S. Davis, 8 Aug 2017(https://arxiv.org/abs/1704.04503)에 게재되어 있으므로 상세한 설명은 생략한다. 이때, SOFT-NMS는 동 종객체(Same Class)에 대해서만 신뢰도 점수를 감소시켜 객체를 검출할 수 있고, 이종객체, 예를 들어, 신호등 에 앞 차가 있는데 그 앞에 보행자가 건너고 있는 도 3c와 같은 경우에는 전면 객체가 자동차, 후면 객체가 사 람으로 겹쳐진 부분에 대한 보상이 되지 않아 객체로 검출되지 않는다. 이렇게 다중객체가 이종객체(자동차-사람)인 경우, 동종객체에 의해 가려진 객체(말-말)를 검출하는 SOFT-NMS는 적용할 수 없다. 또, 동종객체라고 할지라도 가려진 정도가 50% 이상으로 심해지는 경우에도, 가려진 객체의 신뢰도 점수가 떨어져 객체 검출을 위한 신뢰도 제한 점수(Confidence Threshold Value)의 컷에 걸려 객체 검출 후보에 탈락하게 된다. 이에 따라, 본 발명의 일 실시예에서는, 이종객체가 다중객체로 존재하고, 어느 한 객 체가 다른 객체를 가린 경우, 가려진 객체를 검출하기 위한 방법을 제시한다. 가림추정부는, 사용자 단말의 이미지 또는 영상 내 이종객체가 다중객체로 존재하면서 다중객체 중 어느 하나의 객체가 가려진 경우, 가려진 객체의 가려진 부분의 비율을 추정할 수 있다. 도 4a와 같이, 전면의 객체(파란색 객체)는 Class 1이고, 후면의 객체(빨간색 객체)는 Class 2로 서로 다른 객체, 즉 이종객체라고 가 정한다. 이때, 후면의 객체는 전면의 객체에 의해 가려져 있는데, 전면의 객체인 파란색 객체(Class 1)의 경계 박스의 신뢰도 점수는 0.99이고, 후면의 객체인 빨간색 객체(Class 2)의 경계박스는 파란색 객체(Class 1)에 의 해 가려진 부분이 빨간색 객체(Class 2)의 부분이 아니기 때문에, 신뢰도 점수가 낮게, 0.23으로 나타난다. 이 때, 객체를 찾기 위한 임계값인 신뢰도 제한 점수가 0.4로 주어지면, 빨간색 객체(Class 2)의 신뢰도 점수는 0.23이므로, 0.4의 컷을 넘지 못하고 객체 검출에 탈락하게 된다. 이때, 도 4b와 같이 빨간색 객체(Class 2)의 가려진 부분을 추정(노란색)하는 경우, 신뢰도 점수를 보정할 수 있는 근거를 마련할 수 있다. 이때, 가려진 부분을 추정하는 방법은 다양할 수 있는데, 이는 이하에서 설명한다. 가림검출부는, 가려진 객체의 가려진 부분의 비율만큼, 가려진 객체를 가린 객체의 신뢰도 점수에 곱한 보 상값을, 가려진 객체의 신뢰도 점수에 더하여 최종 신뢰도 점수를 산출할 수 있다. 사용자 단말은, 이미 지 또는 영상을 업로드하고, 이미지 또는 영상 내 다중객체를 검출하여 표시할 수 있다. 신뢰도 점수는 NMS(Non-Maximum Suppression)에 기반한 점수일 수 있다. NMS의 IOU(Intersection Over Union)를 가려진 객체 의 비율에 기초하여 산출할 수 있다. 이때, 이종객체가 동종객체인 경우, 가려진 객체의 비율을 SOFT-NMS의 IOU(Intersection Over Union)에 기초하여 산출할 수 있다. 즉, 동종객체인 경우 SOFT-NMS를 그대로 사용하고, 이종객체라면 본 발명의 일 실시예에 따른 방법을 이용할 수 있다. 다시 도 4b를 참조하면, 파란색 객체(Class 1)의 신뢰도 점수는 0.99인데, 여기에 가려진 객체인 빨간색 객체(Class 2)의 가려진 비율(60%)을 곱한 후, 빨간색 객체(Class 2)의 신뢰도 점수인 0.23에 더해주면, 수학식 2 내지 수학식 5에 따라 최종 신뢰도 점수가 0.824로 도출될 수 있다. 수학식 2 수학식 3"}
{"patent_id": "10-2022-0189398", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "수학식 4"}
{"patent_id": "10-2022-0189398", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "수학식 5"}
{"patent_id": "10-2022-0189398", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "비율추정부는, 가려진 객체의 가려진 부분의 비율을 추정할 때, 이종객체에 각각 표시된 경계박스 (Bounding Box)의 겹친 비율을 가려진 부분의 비율로 추정할 수 있다. 이때, IOU의 개념이 이용될 수 있는데, IOU는 Area of Union에 대한 Area of Overlap의 비율로 두 객체의 전체 면적 대 겹친 면적의 비율이다. 이때, 초록색 박스가 GT(Ground Truth), 즉 개발자가 설정한 객체이고, 빨간색 박스가 딥러닝 알고리즘이 추론을 통해 예측한 객체인데, 이 두 개의 박스의 전체 면적 대 딥러닝 알고리즘이 맞춘, 즉 딥러닝 알고리즘 예측한 객체가 차지하는 면적의 비율이다. 예를 들어, 표 1과 같이 개발자가 A 객체를 A로 표시하라고 정답(초록색 박스)을 준 경우, 딥러닝 알고리즘이 예측(빨간색 박스)하여 A 객체의 위치를 정확히 초록색 박스에 가깝게 맞출수록 IOU는 커지게 된다. 표 1"}
{"patent_id": "10-2022-0189398", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "자카드 계수로 설명하면, J(A,B)=|A∩B|/|A∪B|와 같을 수 있다. 다만, 도 4b에서 보면, 겹친 부분이 빨간색 객체(Class 2)의 60%(겹치지 않은 빨간색 객체는 전체 빨간색 객체의 40%), 즉 전체 면적(빨간색 객체+파란색 객체)을 고려하지 않으므로, IOU의 개념과는 다를 수 있다. <IOU 감독> 검출 알고리즘 내부의 영역제안(Region Proposal), 영역풀링(Region Pooling), 앵커박스(Anchor Box)는 모두 경계박스 표현법을 기반으로 신호를 처리해왔다. 그런데, 경계박스는 객체의 모양이나 자세 등을 반영하지 못 하기 때문에, 객체 검출기를 위하여 RepPoints를 이용할 수도 있다. RepPoints를 이용하면 앵커박스에 의존하 지 않는 객체 검출기를 구성할 수 있는데. IOU 감독을 통해 RepPoints를 개선할 수 있고, 개선된 RepPoints는 객체 검출 성능을 향상시킬 뿐만 아니라, 의미상 더 중요한 키포인트를 가리킬 수 있도록 도와준다. <RepPoints> RepPoints는 특징맵(Feature Map)의 위치마다 할당되는 n 개의 점이다. 고정된 구성을 갖는 앵커박스와는 달리 이 n개의 RepPoints는 입력 영상에 따라 적응적으로 결정된다. 다음 계층의 특징맵은 이 RepPoints 위치에 변 형이 가능한 컨볼루션(Convolution)을 적용함으로써 계산되며, RepPoints는 계층을 거침에 따라 정제된다.RepPoints는 간단한 변환 함수에 의해 경계박스로 전환될 수 있는데, 이 기능을 통해 앵커박스에 의존하지 않는 객체 검출기를 구성할 수 있다. RepPoints의 특징은 객체 검출을 위해 경계박스 손실과 객체 분류 손실을 줄이 도록 학습하다 보면, 자동으로 의미상 중요한 지점을 가리키게 된다는 것이다. RepPoints의 힘의 원천은 이렇 게 의미상 중요한 키포인트를 가리키는 데서 비롯한다. 이 과정에서 중요한 역할을 하는 것이 경계박스 변환 함수이다. 학습 시 RepPoints의 위치를 업데이트하기 위한 정보의 대부분은 경계박스 변환 함수를 거쳐 전달되 기 때문이다. 이때, 경계박스 변환함수를 최소-최대(Min-Max)로 적용할 수도 있지만, 이러한 경우 대다수의 RepPoints가 객체 테두리 주변에 위치하려는 경향이 생기게 된다. 테두리에 위치한 점만이 객체 표현에 유의미 한 부분은 아니므로 이를 이하의 방법으로 대체할 수 있다. 객체의 경계박스 테두리에 위치하려는 경향이 있는 RepPoints를 개선하기 위하여, 본 발명의 일 실시예에서는, IOU 값을 예측하는 새로운 가지(Branch)를 병렬로 추가할 수 있다. 원래 IOU 감독(Supervision)은 IOU-Net에 서 포함된 개념으로, IOU-Net은, 일반적인 앵커 기반 객체 검출기에 IOU 가지를 추가하는 개념인데, 앵커 기반 검출기에서 IOU 가지가 주는 이점은 예측한 경계박스에 대한 신뢰도 값을 생성할 수 있다는 것이다. 일반적인 앵커 기반 검출기와 달리, RepPoints 기반 검출기는 객체 검출의 성능이 RepPoints의 위치에 의해 좌우된다. 왜냐하면 RepPoints가 변형가능한 컨볼루션 계층의 오프셋(Offset) 역할을 겸하기 때문이다. 이에 따라, 본 발명의 일 실시예에서는 학습 시간에 RepPoints가 객체의 내부 및 외부 여부를 판단하기 유리한 핵심 지역으로 이동하도록 하기 위해 IOU 가지를 이용할 수 있다. 추가된 IOU 가지는 분류(Classification)가 지 및 회귀(Regression)가지와 병렬로 동작한다. IOU 가지의 입력은 변형가능한 컨볼루션 결과의 결합 (Concatenation)으로 구성할 수 있다. IOU 가지는 512 채널의 특징맵을 입력받고, 연속된 두 1×1 컨볼루션과 Tanh 비선형 함수를 적용해서 단일 채널의 IOU 출력맵(Output Map)을 생성한다. 이때, Tanh는 활성화 함수 중 하나로, -1에서 1까지의 범위에 집중되어 있다는 점을 제외하면 기본적으로 시그모이드와 동일하다. IOU 학습 을 위한 GT 라벨은 RepPoints에서 생성한 경계박스와 GT 경계박스 사이의 IOU 값으로 설정할 수 있다. 결과적 으로 IOU 가지는 예측한 IOU 값과 GT 라벨 사이의 Smooth-L1 손실을 줄이는 방향으로 학습된다. 이때 GT란 Ground-Truth의 줄임말인데, 학습하고자 하는 데이터의 원본 또는 실제 값을 의미한다. 쉽게 말해 개발자가 지 정한 라벨(Label), 즉 정답이라고 생각해도 되지만 이는 엄연히 다른 개념이다. 만약 캣츠 뮤지컬의 주인공 사 진이 있다면, 이는 고양이로 분류할 수도 있고, 사람으로 분류할 수도 있으므로 정답(라벨)은 없다. 하지만, 개발자가 고양이로 분류하기를 지정(Ground Truth)함으로써 딥러닝 알고리즘이 캣츠 뮤지컬의 주인공 사진을 고 양이로 예측(Prediction)하도록 했다면, 이 사진에 대한 Ground Truth 값은 개발자가 원하는 고양이가 된다. 다만, GT를 본 발명의 일 실시예에서 라벨(정답)으로 설명해도 의미는 통하므로 설명의 편의를 위하여 라벨의 의미로 정의하기로 한다. 또, Smooth-L1 손실은, 손실함수 중 하나로, Huber Loss라고도 불리며, 컴퓨터 비전 분야에서 이상치(Outlier)로부터 보호하기 위해 주로 쓰인다. 일반적인 객체 검출기는 중복된 경계박스를 제거할 때, IOU와 신뢰도 점수를 고려한다. IOU가 정해진 임계값 보다 큰 경계박스들은 신뢰도 점수가 높은 방향으로 합치는 것이다. IOU-Net과 마찬가지로, 본 발명의 일 실시 예에서는, 경계박스를 합치는 기준으로 IOU 가지가 예측한 값을 이용할 수 있다. 또한, 경계박스 중복 판단 기 준으로, IOU와 정규화 중심거리(Normalized Central Distance)를 함께 고려하는 DIOU(Distance-IoU)를 적용할 수 있다. 이때, DIOU는 일반적인 LOU 손실에 중심좌표를 고려하는 수식을 추가한 방법으로, 유클리드 거리, 경 계박스, GT의 중심좌표, GT를 포함하는 최소박스의 대각길이로 산출된다. 이때, DIOU 외에도, 두 경계박스를 모두 포함하는 최소영역인 C 박스를 활용하는 G-IOU(Generalized-IoU), DIOU와 Geometric Measure도 함께 고려 하는 CIOU(Complete-IoU)를 이용할 수도 있다. 객체검출부는, 최종 신뢰도 점수가 신뢰도 제한 점수(Confidence Threshold Value)를 초과한 경우, 이종객 체에 의해 가려진 객체를 검출할 수 있다. 이때, 최종 신뢰도 점수는 빨간색 객체(Class 2)의 신뢰도 점수인 0.23에, 파란색 객체(Class 1)의 신뢰도 점수와 빨간색 객체(Class 2)가 겹친 부분의 비율을 곱한 값(0.99× 0.6=0.594)을 더해주므로(0.23+0.594=0.824), 최종 신뢰도 점수가 0.824로, 신뢰도 제한 점수가 0.4인 경우 컷 을 넘게 되어 후면에 겹친 객체도 추출할 수 있게 된다. 합성부는, 가려진 객체의 가려진 부분의 비율을 추정하기 위하여 가려진 객체의 가려지지 않은 부분으로 객체의 가려진 부분의 크기 및 형상을 추정하여 합성할 수 있다. 예를 들어, 도 3c와 같이 사람의 머리만 존재 하고 그 나머지는 가려졌다면, 사람의 얼굴을 인식하는 순간 사람의 몸통, 즉, 목, 가슴, 배, 다리 등을 추론하 여 합성할 수 있다. 이때, 도 3c에서는 사람이 뚱뚱한 사람일 수도 있고, 마른 사람일 수도 있는데, 이는 겹쳐 진 부분의 객체를 추론하는데 큰 장애물은 아니므로, 표준 데이터셋을 이용하여 표준 체형의 머리를 제외한 나머지를 합성하는 방법으로 이용할 수 있다. 추론부는, 가려진 객체의 가려진 부분을 추론하기 위하여 GAN(Generative Adversarial Network) 기반 가 려짐 추론 네트워크를 이용하여 추론된 형상을 가려진 객체의 가려지지 않은 부분에 합성한 후, 경계박스의 신 뢰도 점수를 산출할 수 있다. 가려짐 추론 네트워크는 입력 영상 내의 객체를 분류하는 객체 분류기와, 입력 영상 및 객체 분류 결과를 기반으로 알맞은 모델을 통해 가려진 영역을 추론하는 추론 네트워크를 포함할 수 있 다. 일반적인 추론 네트워크의 경우 다양한 종류의 객체 영상이 혼합된 데이터셋(DataSet)을 이용해 학습되어 여러 객체 영상에 대해 적용될 수 있으나, 추론 결과물의 완성도가 부족한 반면, 본 발명의 일 실시예에서는 목 표 객체에 대한 단일 데이터셋으로 추론 네트워크를 각각 학습시켜 각 객체에 특화된 네트워크를 구성함으로써 단일 객체에 대한 추론 성능을 향상시킬 수 있다. 객체 분류기를 이용해 입력 영상 내의 가려진 객체의 종류를 분류하도록 함으로써 입력 영상에 대한 추가적인 정보 없이도 추론 시스템이 작동할 수 있도록 구축할 수 있다. 추론 네트워크의 경우 DeepFillv1을 기반으로 하여 개별 객체 데이터셋으로 미세조정(Fine-Tuning)을 수행할 수 있는데, DeepFillv1은 최신 수준의 영상 추론 네트워크로 256×256 크기의 영상에서 최대 128×128 크기의 경계 박스 내 빈 영역을 추론할 수 있다. 동체추출부는, 사용자 단말에서 이미지가 아닌 영상으로 입력되는 경우, 이종객체의 움직임 패턴을 이용하여 가려진 부분을 가지는 객체를 추출할 수 있다. 각 동체는 이동하는 패턴이 존재하는데, 자전거나 오 토바이의 경우 ± X 축 방향으로만 움직이는 이동 속도 및 이동 패턴이 존재하고, 사람이 보행하는 경우 걸음걸 이에 맞게 머리가 아래 위로 움직이기 때문에 Y 축으로의 이동 패턴도 존재하게 된다. 또, 말의 경우에도 달리 는 동안 머리가 앞뒤로 흔들리는 등의 이동 패턴이 존재한다. 이에 따라, 각 움직임의 패턴을 이용하여 객체를 분류 및 탐지하는 방법을 이용할 수 있다. 추가적으로, 온라인 연관(Online Association) 알고리즘을 더 이용할 수 있는데, 온라인 연관 알고리즘은 자율 주행과 같이 실제 온라인 상황에서 사용되는 추적 방법 중 하나이다. 객체의 경계박스 정보뿐만 아니라, 객체 의 마스크 정보를 추가적으로 Re-ID 가지의 입력으로 제공할 수 있다. 이때, CenterMask에서는 각 ROI(Region Of Interest)마다 세그멘테이션 마스크(Segmentation Mask)를 예측하는 SAG-Mask 가지가 존재하는데, 이 가지 와 병렬로 Re-ID 가지를 추가하여 각 ROI마다 객체의 외적인 특징을 추출할 수 있도록 설계할 수 있다. 즉, 유 사한 외적 특징(Appearance Feature)을 추출하기 위해서는 Re-ID 브랜치의 입력으로 인스턴스(Instance)의 외적 인 특징 정보를 픽셀별로 자세하게 주는 것이 중요한데, 일반적인 트래킹 탐지 모델은, 가지의 입력으로 객체의 경계박스 정보 또는 중심점(Center Point)을 제공하여 Re-ID 특징을 뽑기 때문에, 객체와 상관없는 배경정보까 지 함께 Re-ID 객체의 입력으로 들어가, 다음 프레임에서 배경이 바뀌게 되면 동일한 사람이라도 서로 다른 사 람으로 인식할 가능성이 높아진다. 결과적으로 트래킹에 있어 연관(Association)을 짓는 과정에서 큰 혼란을 줄 수 있다. 이에 따라, 객체의 경계박스 정보 뿐만 아니라, 객체의 마스크 정보를 추가적으로 Re-ID 가지의 입력으로 제공 할 수 있다. 이처럼 Re-ID 가지에, 마스크 정보를 추가적으로 제공하면, 가지에서 Re-ID를 뽑아낼 때 혼란을 주는 배경정보가 함께 들어갔을지라도, 이를 스스로 분별해 낼 수 있는 Re-ID 특징을 학습할 수 있고, 각 객체 가 겹쳐있더라도 객체가 동체인 경우 이동 객체를 분별하여 추출할 수 있으므로, 객체의 검출률이 높아질 수 있 다. 이를 위한 프레임워크는, 상술한 바와 같이, 실시간으로 경계박스 및 마스크를 추출하기 위한 인스턴스 세 그멘테이션 모델인 CenterMask를 네트워크의 프레임워크로 이용할 수 있다. 입력으로 한 장의 이미지가 들어간 다음, 백본(BackBone)과 FPN(Feature Pyramid Network)을 통과하면서 이미지에 대한 특징, ROI, 그리고 탐지 정보(클래스, 중심좌표, 경계박스)를 추출하며, 최종적으로 ROI Align을 거쳐 영상에 등장한 관심있는 객체마다, 마스크 정보와 Re-ID를 정보를 추출하게 된다. 이렇게 추출한 Re-ID 정보는 온라인 연관(Online Association) 알고리즘에 이용된다. <온라인 연관 알고리즘> 이를 위해, 트래킹을 시작할 때, 트랙랫(Tracklet)을 초기화(Initialize)해야 하는데, 이때 첫 번째 프레임 (Frame)에서 발견된 객체의 경계박스로 초기화를 진행한다. 그 다음 프레임이 차례대로 들어오게 되는데, 첫 프레임에 존재하는 트랙랫과 현재 프레임에 존재하는 객체를 연결해주는 과정이 필요하다. 프레임 간 연결하기 위해 2-스테이지 매칭 방법을 이용할 수 있다. 첫 번째 스테이지에서는 Re-ID(Re-IDentification) 가지 (Branch)를 거쳐 나온 Re-ID 특징값을 사용하는데, 각 객체는 Re-ID 특징값으로 표현이 되며 Re-ID 특징 값은 256 차원 벡터값이므로 객체 간 거리(Distance)를 구할 수 있다. 객체 간 거리는 곧 객체간 유사도 (Similarity)와 연관되며, 유사도를 통해 서로 다른 프레임에서 동일한 객체인지 유추할 수 있게 된다. 트랙랫간의 유사도를 구한 뒤, 매칭을 위해 헝가리안 알고리즘(Hungarian Algorithm)을 이용할 수 있다. 두 번째 스 테이지에서는, 첫 번째 스테이지에서 매칭되지 않은 트랙랫과 현재 프레임의 객체들을 연관(Association)시키기 위해 IOU 매칭을 이용할 수 있다. 피드백부는, 가려진 부분을 가진 객체가 가려진 부분이 기 설정된 값 미만으로 이동한 경우, 움직임 패턴 에 의해 추출된 객체가 맞는지의 여부를 확인할 수 있다. 이와 같은 도 2 내지 도 4의 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 방법에 대해서 설명 되지 아니한 사항은 앞서 도 1을 통해 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 방법에 대 하여 설명된 내용과 동일하거나 설명된 내용으로부터 용이하게 유추 가능하므로 이하 설명을 생략하도록 한다. 도 5는 본 발명의 일 실시예에 따른 도 1의 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 시스 템에 포함된 각 구성들 상호 간에 데이터가 송수신되는 과정을 나타낸 도면이다. 이하, 도 5를 통해 각 구성들 상호간에 데이터가 송수신되는 과정의 일 예를 설명할 것이나, 이와 같은 실시예로 본원이 한정 해석되는 것은 아니며, 앞서 설명한 다양한 실시예들에 따라 도 5에 도시된 데이터가 송수신되는 과정이 변경될 수 있음은 기 술분야에 속하는 당업자에게 자명하다. 도 5를 참조하면, 검출 서비스 제공 서버는, 이미지 또는 영상 내 다중객체를 검출하는 딥러닝 알고리즘을 저장 한다(S5100). 그리고, 검출 서비스 제공 서버는, 사용자 단말의 이미지 또는 영상 내 이종객체가 다중객체로 존재하면서 다중 객체 중 어느 하나의 객체가 가려진 경우, 가려진 객체의 가려진 부분의 비율을 추정하고(S5200), 가려진 객체 의 가려진 부분의 비율만큼, 가려진 객체를 가린 객체의 신뢰도 점수에 곱한 보상값을, 가려진 객체의 신뢰도 점수에 더하여 최종 신뢰도 점수를 산출한다(S5300). 상술한 단계들(S5100~S5300)간의 순서는 예시일 뿐, 이에 한정되지 않는다. 즉, 상술한 단계들(S5100~S5300)간 의 순서는 상호 변동될 수 있으며, 이중 일부 단계들은 동시에 실행되거나 삭제될 수도 있다. 이와 같은 도 5의 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 방법에 대해서 설명되지 아니한 사항은 앞서 도 1 내지 도 4를 통해 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 방법에 대하 여 설명된 내용과 동일하거나 설명된 내용으로부터 용이하게 유추 가능하므로 이하 설명을 생략하도록 한다. 도 5를 통해 설명된 일 실시예에 따른 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 방법은, 컴 퓨터에 의해 실행되는 애플리케이션이나 프로그램 모듈과 같은 컴퓨터에 의해 실행가능한 명령어를 포함하는 기 록 매체의 형태로도 구현될 수 있다. 컴퓨터 판독 가능 매체는 컴퓨터에 의해 액세스될 수 있는 임의의 가용 매체일 수 있고, 휘발성 및 비휘발성 매체, 분리형 및 비분리형 매체를 모두 포함한다. 또한, 컴퓨터 판독가능 매체는 컴퓨터 저장 매체를 모두 포함할 수 있다. 컴퓨터 저장 매체는 컴퓨터 판독가능 명령어, 데이터 구조, 프로그램 모듈 또는 기타 데이터와 같은 정보의 저장을 위한 임의의 방법 또는 기술로 구현된 휘발성 및 비휘발 성, 분리형 및 비분리형 매체를 모두 포함한다. 전술한 본 발명의 일 실시예에 따른 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 방법은, 단말 기에 기본적으로 설치된 애플리케이션(이는 단말기에 기본적으로 탑재된 플랫폼이나 운영체제 등에 포함된 프로 그램을 포함할 수 있음)에 의해 실행될 수 있고, 사용자가 애플리케이션 스토어 서버, 애플리케이션 또는 해당 서비스와 관련된 웹 서버 등의 애플리케이션 제공 서버를 통해 마스터 단말기에 직접 설치한 애플리케이션(즉, 프로그램)에 의해 실행될 수도 있다. 이러한 의미에서, 전술한 본 발명의 일 실시예에 따른 딥러닝 기반 이종 객체로 가려진 다중객체의 검출 서비스 제공 방법은 단말기에 기본적으로 설치되거나 사용자에 의해 직접 설치 된 애플리케이션(즉, 프로그램)으로 구현되고 단말기에 등의 컴퓨터로 읽을 수 있는 기록매체에 기록될 수 있다."}
{"patent_id": "10-2022-0189398", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "전술한 본 발명의 설명은 예시를 위한 것이며, 본 발명이 속하는 기술분야의 통상의 지식을 가진 자는 본 발명 의 기술적 사상이나 필수적인 특징을 변경하지 않고서 다른 구체적인 형태로 쉽게 변형이 가능하다는 것을 이해 할 수 있을 것이다. 그러므로 이상에서 기술한 실시예들은 모든 면에서 예시적인 것이며 한정적이 아닌 것으로 이해해야만 한다. 예를 들어, 단일형으로 설명되어 있는 각 구성 요소는 분산되어 실시될 수도 있으며, 마찬가 지로 분산된 것으로 설명되어 있는 구성 요소들도 결합된 형태로 실시될 수 있다. 본 발명의 범위는 상기 상세한 설명보다는 후술하는 특허청구범위에 의하여 나타내어지며, 특허청구범위의 의미 및 범위 그리고 그 균등 개념으로부터 도출되는 모든 변경 또는 변형된 형태가 본 발명의 범위에 포함되는 것으로 해석되어야 한다."}
{"patent_id": "10-2022-0189398", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 시스템을 설 명하기 위한 도면이다. 도 2는 도 1의 시스템에 포함된 검출 서비스 제공 서버를 설명하기 위한 블록 구성도이다. 도 3 및 도 4는 본 발명의 일 실시예에 따른 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스가 구현된 일 실시예를 설명하기 위한 도면이다. 도 5는 본 발명의 일 실시예에 따른 딥러닝 기반 이종객체로 가려진 다중객체의 검출 서비스 제공 방법을 설명 하기 위한 동작 흐름도이다."}
