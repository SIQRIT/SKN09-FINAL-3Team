{"patent_id": "10-2023-0001048", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0109627", "출원번호": "10-2023-0001048", "발명의 명칭": "딥러닝 기반 건축도면 자동생성 방법", "출원인": "(주)지오랩", "발명자": "서지효"}}
{"patent_id": "10-2023-0001048", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "공공데이터포털에 공개된 데이터 및 건축 서적으로부터 이미지 파일로 획득하는 데이터 수집단계 (S10);상기 단계에서 획득한 이미지 파일에서 도면 이외의 요소들이 포함되지 않도록 이미지를 자르고, 각 이미지에하나의 도면만 존재하도록 도면을 가운데 위치시켜 데이터 세트를 생성하는 데이터 전처리단계 (S20);상기 단계에서 도면 요소는 평면도에 표현되어 있는 공간 용도를 기준으로 클래스 구분하며, 상기 클래스별로색상을 부여하여 레이블링을 진행하는 클래스의 분류 및 레이블링단계 (S30); 레이블링 이미지를 그대로 도면화하는 원샷(One-Shot)방법 또는 각 실을 분리하여 개별적으로 도면화한 후에 하나로 합치는 마스킹(Masking)방법 중 어느 하나의 방법으로 구현하는 학습 및 자동 도면화 모델 구현단계(S40);상기 단계의 정확도를 검증하기 위해 GAN의 검증에 이용되는 평가지표인 RMSE, SSIM, UQI를 사용하고, 인공지능이 도면 이미지를 생성하는데 걸리는 소요시간과 건축 관련 종사자가 직접 손으로 작성하는데 걸리는 소요시간을 비교하여 확인토록하는 검증단계 (S50)을 포함하는 것을 특징으로 하는 딥러닝 기반 건축도면 자동생성 방법"}
{"patent_id": "10-2023-0001048", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1항에 있어서, 데이터 전처리단계(S20)에서 전체 이미지를 흑백으로 변환시키고, 이미지의 크기는 513×513 픽셀로 조정하는것을 특징으로 하는 딥러닝 기반 건축도면 자동생성 방법"}
{"patent_id": "10-2023-0001048", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1항에 있어서, 이미지와 이미지의 대응관계 구조를 레이블링 이미지와 도면 이미지로 설정하여, Pix2Pix학습을 실행하여 레이블(label)을 보고 도면을 생성하는 netG 모델과, 생성물과 원본을 구별하고 학습에만 활용되는 netD 모델을 학습시키는 것을 특징으로 하는 딥러닝 기반 건축도면 자동생성 방법"}
{"patent_id": "10-2023-0001048", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 3항에 있어서, 레이블링 된 이미지에서 레이블링 전의 원본 도면 이미지와 같은 결과물을 얻을 수 있도록 Pix2Pix의 구조 설정을 label2origin으로 설정하여 진행하는 것을 특징으로 하는 딥러닝 기반 건축도면 자동생성 방법"}
{"patent_id": "10-2023-0001048", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 딥러닝 기반 건축도면 자동생성 방법에 관련되며, 이때 딥러닝 기반 건축도면 자동생성 방법은 공공 데이터포털에 공개된 데이터 및 건축 서적으로부터 이미지 파일로 획득하는 데이터 수집단계 (S10); 상기 단계에 서 획득한 이미지 파일에서 도면 이외의 요소들이 포함되지 않도록 이미지를 자르고, 각 이미지에 하나의 도면만 (뒷면에 계속)"}
{"patent_id": "10-2023-0001048", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 건축 설계 과정에서 대략적인 형태로 표현된 공간 계획안을 자동으로 구체화하고 도면을 생성하는 건 축도면 자동생성방법에 관한 것이다."}
{"patent_id": "10-2023-0001048", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "건축업은 중요한 기반 산업으로서 건축 설계산업의 중요성이 더욱 커지고 있지만 다른 제조업에 비해 생산성이 낮은 실정이다. 최근 전문가 조사에 따르면, 국내 50인 이상 건축설계회사는 전체의 1.4%에 불과한데 비해 매출 비중이 80%에 달하나 70%가 넘는 중소규모 회사들의 매출 비중은 18%에 그치고 있으며, 지방의소규모 건축설계 회사는 인적, 경제적으로 더욱 열악한 상황에 처한 것으로 나타났다. 특히 설계 관련 소프트웨어 산업기반이 취 약하여, 해외의 비싼 소프트웨어를 이용하는 실정으로서 2D설계 소프트웨어로서 autoCAD, BIM소프트웨어로서Revit (미국 Autodesk사의 제품)의 사용에 의한 부담이 큰 실정이다. 그런데 실제로 건축설계 실무자(프로세스별 설계자동화 및 인공지능 기술개발에 대한 실무자 조사결과)에 의하 면, BIM S/W를 활용하고는 있으나 자동화 비율은 그다지 높지 않으며 BIM을 활용하는데 있어서도 모델링, 도면 작업 등에 여전히 수작업으로 해야 하는 업무들이 많은 것으로 분석된다. 또 50% 이상의 응답자가 인공지능 기 술을 활용하여 이를 개선할 수 있다고 답변하였다. 이에 본 발명자는 도면을 인공지능이 생성함으로써 건축 설계 과정에서 대략적인 형태로 표현된 공간 계획안을 자동으로 구체화하여 도면을 생성하여 실제 건축설계 업무 전반에 활용하고자 본 기술을 개발한 것이다. 또한 본 발명은 건축 설계 과정에서 대략적인 형태로 표현된 공간 계획안을 자동으로 구체화하여 도면을 생성하 여 실제 건축설계 업무 전반에 활용될 수 있도록, 도면을 인공지능이 생성함으로써 건축물의 구조나 실의 배치 등 기능적인 요구사항들을 만족시키는 조건 하에서, 다양한 디자인 대안을 창의적으로 검토하는 것이 가능하도 록 하고, 이는 도면이 먼저 나온 상황에서 구조 분석을 하게 되는 업계의 시스템 상에서 설계자와 구조 전문가 의 즉각적인 상호작용이 어려워 생길 수 있는 문제를 설계단계에서 해결할 수 있도록 한다."}
{"patent_id": "10-2023-0001048", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "이에 따라 본 발명은 상기한 문제점을 해결하기 위해 착안 된 것으로서, 건축 설계 과정에서 대략적인 형태로 표현된 공간 계획안을 자동으로 구체화하고 도면을 생성하는 건축도면 자동생성방법을 제공하는 것에 그 목적이 있다."}
{"patent_id": "10-2023-0001048", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "이러한 목적을 달성하기 위해 본 발명의 특징은, 공공데이터포털에 공개된 데이터 및 건축 서적으로부터 이미지 파일로 획득하는 데이터 수집단계 (S10); 상기 단계에서 획득한 이미지 파일에서 도면 이외의 요소들이 포함되 지 않도록 이미지를 자르고, 각 이미지에 하나의 도면만 존재하도록 도면을 가운데 위치시켜 데이터 세트를 생 성하는 데이터 전처리단계 (S20); 상기 단계에서 도면 요소는 평면도에 표현되어 있는 공간 용도를 기준으로 클 래스 구분하며, 상기 클래스별로 색상을 부여하여 레이블링을 진행하는 클래스의 분류 및 레이블링단계 (S30); 레이블링 이미지를 그대로 도면화하는 원샷(One-Shot)방법 또는 각 실을 분리하여 개별적으로 도면화한 후에 하 나로 합치는 마스킹(Masking)방법 중 어느 하나의 방법으로 구현하는 학습 및 자동 도면화 모델 구현단계 (S40); 상기 단계의 정확도를 검증하기 위해 GAN의 검증에 이용되는 평가지표인 RMSE, SSIM, UQI를 사용하고, 인공지능이 도면 이미지를 생성하는데 걸리는 소요시간과 건축 관련 종사자가 직접 손으로 작성하는데 걸리는 소요시간을 비교하여 확인토록하는 검증단계 (S50)을 포함하는 것을 특징으로 한다."}
{"patent_id": "10-2023-0001048", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "이상의 구성 및 작용에 의하면, 본 발명은 본 발명으로 인해 공간 조닝안을 도면화 하는데 소요되는 시간을 90% 이상 단축하고, 이렇게 생성된 도면의 정확도를 80% 이상 확보된다. 따라서 건축설계 실무자들이 건축설계회사 에서 건축설계 초기단계에서 즉각적으로 활용할 수 있어, 영세한 규모의 소규모 설계사무소에서 별도의 대가 없 이 수행해야 했던 소위 가설계라고 불리는 초기설계 대안 생성에 들어가는 시간과 노력을 획기적으로 단축될 것으로 예상된다. 또 비전문가도 손쉽게 원하는 공간의 형태를 건축 도면으로 표현하여 전문가와 소통이 원활히 진행할 수 있다. 특히 영세한 사업체가 많은 지방 소규모 건축사사무소의 동반성장을 도모하여 전국 건축사사무소의 규모별, 지 역별 기술격차, 인력난 해소에 기여하고, 설계뿐 아니라 시공, 유지관리 등 건축 전 생애 주기에 걸쳐 지속적으 로 연계될 수 있도록 하여 건설산업 전반에 파급성이 클 것으로 예상된다. 본 발명은 인공지능 기반으로 생성된 공간 조닝 대안을 도면화하는데도 활용가능하지만, 기존의 건축설계과정에 서 생성되는 공간 계획안을 자동으로 구체화하는 것도 가능하다. 따라서 인공지능 건축설계 시스템이 구축되지 않아도, 기존의 건축설계 프로세스 상에서 활용할 수 있어 건축사의 건축설계업무에 실질적이고 즉각적인 도움 을 줄 수 있다."}
{"patent_id": "10-2023-0001048", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면을 참조하여 본 발명의 바람직한 실시예를 상세히 설명한다. 도 1은 본 발명에 의한 순서흐름도이며, 본 발명에서 건축도면 자동인식 모델 구현 프로세서는 데이터 수집단계 (S10), 데이터 전처리단계(S20), 클래스의 분류 및 레이블링단계(S30), 학습 및 자동 도면화 모델 구현단계 (S40), 검증단계(S50)를 포함하는 것이다. 데이터 수집단계 (S10) 본 발명에서 사용되는 데이터는, 건축 서적의 스캔을 통해 얻은 모든 데이터가 대상이 될 수 있다. 다만, 저작 권 문제와 관련하여 데이터를 사용하는 것은 문제가 되므로 해당 기술 개발에는 저작권 문제가 없는 데이터만을 사용하였다. 수집한 데이터 중 저작권 문제가 없는 데이터는 공공데이터포털(data.go.kr)에 json파일포맷 형태 로 공개되어 있는 한국토지주택공사의 주택평면도 현황이며, 총 330개의 이미지를 포함하고 있다. json 파일을 Python을 이용하여 이미지파일로 변환한 총 330개의 이미지파일은 368개의 평면도가 포함되어 있었으며 이 중 2D 도면의 형태가 아닌 3D 아이소메트릭 형태로 된 9개와 해상도가 너무 낮아 학습에 부적합한 16개를 제외하고 총 343개의 평면도 이미지 파일을 획득하여 사용하였다. 데이터 전처리단계 (S20) 상기 단계에서 획득한 이미지 파일은 크기, 형태, 배치가 매우 다양해서 딥러닝을 진행할 경우 학습 성능이 상 당히 떨어지게 되므로, 학습 성능을 최대화하기 위한 전처리과정이 필요하다. 도면 이외의 요소들이 포함되지 않도록 이미지를 자르고, 각 이미지에 하나의 도면만 존재하도록 도면을 가운데 위치시키고, 채색된 도면이 학 습에 방해가 되지 않도록 하기 위해 전체 이미지를 흑백으로 변환시킨다. 이미지의 크기는 513×513 픽셀로 조정하였고, 최종적으로 이미지 번호(IMG No.) 1번에서 343번까지의 전처리가 되어 있는 원본 데이터 세트를 생성하였다. 클래스의 분류 및 레이블링단계 (S30) 도면 요소는 평면도에 표현되어 있는 공간 용도를 기준으로 구분하며, 모든 단위세대 평면에 공통적으로 포함되 어 있는 공간으로 방, 현관, 발코니, 거실, 욕실, 드레스룸, 대피공간 및 팬트리 공간 총 여덟 가지의 클래스로 분류하여 레이블링을 진행한다. 도 2는, 본 발명에 의한 사용공간들을 방(ROOM), 현관(ENTRANCE), 발코니(BALCONY), 드레스룸(DRESSROOM), 욕 실(BATHROOM), 거실( LIVINGROOM), 대피공간(EVACUATION) 및 팬트리 공간(PANTRY)로 클래스 구분한 것이고, 그 클래스에 따라색상으로 레이블링된 이미지로 나타나게 하였다. [도 3]은 본 발명에 의한 레이블링 예시 이미지 로서 거실( LIVINGROOM)은 노랑으로 , 방(ROOM)들은 블루색 등 구분된 클래스 색상별로 레이블링 이미지가 형상 화된 것을 나타낸다. 학습 및 자동 도면화 모델 구현단계 (S40) 본 발명에서는 one-shot, masking 두 가지 방법으로 진행한다. 도 4는 본 발명에 의한 레이블링 이미지를 그대로 도면화하는 방법이다. 즉 pix2pix-gan으로 직접 복원하는 방 법으로 레이블링 이미지를 그대로 도면화하는 원샷(One-Shot)방법이다. 도 5는 본 발명에 의한 각 실을 분리하여 개별적으로 도면화한 후에 하나로 합치는 방법이다. 즉, 공간을 색깔 별로 구분하여 공간용도 별로 pix2pix-gan 복원하여 merge하는 것으로, 각 실을 분리하여 개별적으로 도면화한 후에 하나로 합치는 마스킹(Masking)방법이다. 학습 과정에서 파일의 확장자명이나 일부에만 존재하는 디테일이 학습 결과에 혼선을 줄 수 있으므로, 확장자명 을 통일하고, 일부 데이터를 학습에서 제외시키는 과정을 추가한다. 제외데이터 과정을 수행한 후, 트레인 (Train)과 테스트 데이터셋을 8.5:1.5 비율로 구분하여 무작위로 추출하여 학습을 진행한다. 본 발명에서는 레이블링 된 이미지에서 레이블링 전의 원본 도면 이미지와 같은 결과물을 얻는 것이 목적이기 때문에 Pix2Pix의 구조 설정을 label2origin으로 설정한다. Pix2Pix가 여타 다른 인공지능 모델에 비해 적은 데 이터로도 좋은 결과물을 낼 수는 있기 때문이다. Pix2Pix는 파라미터로부터 이미지를 생성하는 것이 아닌 이미 지로부터 이미지를 생성하는 기술로 cGAN의 한 종류로 볼 수 있는데, cGAN이 조건 벡터와 이미지의 대응관계를 학습했다면, Pix2Pix는 조건 이미지와 이미지의 대응관계를 학습하는 이미지 변환 알고리즘이다. 본 발명에서는 이미지와 이미지의 대응관계 구조를 레이블링 이미지와 도면 이미지로 설정하는 것이다. Pix2Pix 학습을 실행하여 레이블(label)을 보고 도면을 생성하는 제너레이터(Generator)인 netG 모델과 생성물과 원본을 구별하고 학습에만 활용되는 디스크리미네이터(Discriminator) netD 모델을 학습시킨다. Pix2Pix의 제너레이터(Generator)는 조건 이미지와 노이즈 벡터로부터 이미지를 생성하고,디스크리미네이터 (Discriminator)는 '조건 이미지(입력값이되는 레이블링 이미지)와 실제이미지(원본 건축 도면 이미지)의 짝'과 '조건 이미지(입력값이되는 레이블링 이미지)와 생성이미지(학습 결과 생성되는 건축 도면 이미지)의 짝'이 각 각 진짜인지 아닌지를 판별한다. Pix2Pix의 판별 모델 D는 이미지의 전체가 진짜인지 아닌지를 판별하는 것이 아니라, 이미지의 각 부분이 진짜인지 아닌지를 판별하도록 하는 것으로, 이를 통해 조금 더 디테일한 부분을 살린 이미지를 얻을 수 있게 한다. 마스킹(Masking)방법에서 성능을 높이고 학습 데이터의 부족을 보완하기 위해 회전증강법(rotate- augmentation)을 추가로 진행할 수 있다. 기존의 레이블링 이미지와 원본 도면 이미지를 색깔에 맞게 각 실별로 구분하고 이미지를 분리하여 데이터셋을 구성하는 과정이다. 마스킹(Masking)은 학습을 시작하기 전 기존 데이 터를 실별로 분리하는 과정만 추가되었으며 전체적인 학습 과정은 원샷(one-shot)과 동일하게 진행된다. 이후 학습을 토대로 결과물 출력 시에는 각 실 별로 도면화하고 합치는 방법으로 도면화하지만 각 실 별로 분리되어 출력되는 도면은 출력하지 않고 최종적으로 합쳐진 도면만 출력한다. 검증단계 (S50) 본 발명에서 정확도의 검증은, GAN의 검증에 이용되는 평가지표인 RMSE, SSIM, UQI를 통해 검증하였으며, 소요 시간의 경우 인공지능이 각 도면 이미지를 생성하는데 걸리는 시간을 출력하여 설문 조사를 통해 얻은 건축 관 련 종사자가 직접 손으로 작성하는데 소요되는 시간과 비교한 것이다. RMSE(Root Mean Squared Error)은 모델 평가지표 중 하나로 평균 제곱근 오차를 의미하며, 실제값과 예측 값 사 이에 얼마나 오차가 있는지 평가하는 항목이다. RMSE의 최대값은 이미지 사이즈인 255로 값이 작을수록 이미지 의 품질이 좋음을 의미하며, 정확도 80% 이상에 해당하는 51 이하의 값을 목표로 한다. PSNR(Peak Signal-to- Noise Ratio)는 이미지/영상 내 신호가 가질 수 있는 최대 신호에 대한 잡음 비율로 수치가 높을수록 원본에 비 해 생성된 이미지의 손실이 적다는 것을 의미한다. 해당 항목이 GAN의 성능평가에 많이 이용됨에 따라 본 실험 의 검증에도 적합할 것이라 판단되어 평가지표로 고려하였으나, 사람의 눈을 기준으로 한 수치가 아니기 때문에 평가지표 항목으로 부적절하다고 판단되어 제외하였다. PSNR 대신 채택한 평가지표가 인간의 시각적 화질 차이 를 평가하기 위한 방법인 SSIM(Structural Similarity Index Map)과 UQI (Universal Quality Index)인데 두 항 목은 유사한 개념으로 밝기, 콘트라스트, 구조 측면에서 원본 대비 얼마나 구조 정보를 변화시키지 않았는지 계 산한다. 해당 항목의 수치는 ??1 ~ 1 범위 안에서 해당 값이 클수록 품질이 좋은 것을 의미하며, 정확도 80% 이 상에 해당하는 0.6 이상의 값을 목표로 한다. 정확도는 출력 도면 각각의 수치를 확인하여 통과기준을 충족한 수를 전체로 나눈 값에 100을 곱하여 측정하였 으며, 결과적으로 82.1%로 측정되어 목표를 달성하였다. 측정값은 아래 정확도 검증 결과 [표 1] 내지 [표 3] 과 같다. 설문조사의 경우 공간조닝안을 도면화하는데 소요되는 시간에 대한 응답은 설문 대상자가 직접 공간조닝안을 도 면화하고 소요시간을 측정하는 것에는 한계가 있다고 판단되어 예상되는 소요시간을 대략적으로 시간 범위를 설 정하여 객관식 문항으로 답변을 받았으며, 응답자의 대다수가 6시간에서 8시간이 소요된다고 답하였다. 해당 응 답을 기준으로 하여 기존에 공간조닝안을 도면화하는데 소요되는 시간을 6시간으로 설정하였고, 이를 기존 대비 90% 이상 단축하기 위해 소요시간을 30분 이하로 단축시키는 것을 목표로 하였으며, 출력 도면 각각의 출력에 소요되는 시간의 평균 소요시간을 측정하였다. 결과적으로 레이블링 이미지를 그대로 도면화하는 첫 번째 방법 의 소요시간은 평균 0.139초, 각 실을 분리하여 개별적으로 도면화한 후에 하나로 합치는 두 번째 방법의소요시간은 평균 0.734초로 측정되었다. 공간조닝안을 도면화하는데 소요되는 시간을 30분 이하로 단축시켜 기 존 대비 소요시간의 90% 이상 단축 목표를 달성하였다. 자세한 측정 값은 아래 소요시간 상세 결과 [표 4]와 같 다. 표 1 표 2 표 3 표 4"}
{"patent_id": "10-2023-0001048", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명에 의한 순서흐름도 도 2는 본 발명에 의한 클래스 구분 도 3은 본 발명에 의한 레이블링 예시 이미지 도 4는 본 발명에 의한 레이블링 이미지를 그대로 도면화하는 방법(One-Shot) 도 5는 본 발명에 의한 각 실을 분리하여 개별적으로 도면화한 후에 하나로 합치는 방법(Masking)"}
