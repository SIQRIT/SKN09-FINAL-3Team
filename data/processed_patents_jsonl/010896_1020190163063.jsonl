{"patent_id": "10-2019-0163063", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2020-0071031", "출원번호": "10-2019-0163063", "발명의 명칭": "인공신경망 기반의 작가 스타일에 따른 영상 변형 시스템 및 방법", "출원인": "주식회사 브이알애드", "발명자": "이희석"}}
{"patent_id": "10-2019-0163063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "카메라를 구비하여 소정 영상을 촬영하며, 촬영된 영상을 편집하여 스타일을 변형하기 위한 원본 영상을 생성하고, 메모리부 또는 연동된 데이터베이스부에 기 저장된 영상들 중 스타일 영상을 선택하여 서버로 전송하는, 사용자 단말;사용자 단말로부터 수신된 원본 영상과, 스타일 영상을, 기 학습된 인공신경망에 입력하고, 인공신경망으로부터출력된 스타일 변형된 영상을 사용자 단말로 전송하는 연산처리부를 포함하며, 상기 스타일 변형된 영상은, 원본 영상이 스타일 영상에 따라 스타일 전이되어 변형된 영상인 것인, 서버;를 포함하는 것을 특징으로 하는, 스타일에 따른 영상 변형 시스템."}
{"patent_id": "10-2019-0163063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,서버는, 원본 영상과, 스타일 영상과, 스타일 변형된 영상을 데이터베이스부에 저장하며, 원본 영상과, 스타일 영상과, 스타일 변형된 영상을 이용하여, 인공신경망을 학습시켜, 사용자별의 작품 활동행위 모델을 구축하며, 사용자 단말로부터, 추천을 요청하는 추천 선택신호를 서버가 수신하면, 인공신경망은 사용자별 작품 활동 행위모델에 따라 추천 스타일 영상을, 사용자 단말기로 전송하는 것을 특징으로 하는, 스타일에 따른 영상 변형 시스템."}
{"patent_id": "10-2019-0163063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,사용자 단말에서 서버로부터 수신된 추천 스타일 영상 중 하나가 스타일 영상으로서 선택되면,서버는, 인공신경망을 통해, 원본 영상을, 추천 스타일 영상 중 선택된 스타일 영상으로 스타일 전이되어 변형된 영상인, 스타일 변형된 영상을 출력하는 것을 특징으로 하는, 스타일에 따른 영상 변형 시스템."}
{"patent_id": "10-2019-0163063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,사용자 단말로부터, 추천을 요청하는 추천 선택신호를 서버가 수신하면, 인공신경망은 사용자별 작품 활동 행위모델에 따른 추천 스타일 영상 뿐만아니라, 봄, 여름, 가을, 겨울의 4가지 기본 추천의 추천 스타일 영상을,사용자 단말기로 전송하는 것을 특징으로 하는, 스타일에 따른 영상 변형 시스템."}
{"patent_id": "10-2019-0163063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제3항에 있어서,추천 선택신호를 서버가 수신하지 않았거나, 사용자 단말에서 추천 스타일 영상 중 하나를 스타일 영상으로서선택되지 않았고, 메모리부 또는 연동된 데이터베이스부에서 선택된 스타일 영상이 사용자 단말로부터 서버로전송되었다면, 서버는, 원본 영상을, 스타일 영상에 따라 인공신경망을 이용하여 변경하되, 사용자가 사용자 단말에서 입력한 변형값을읽어들여, 상기 변형값을 기준으로 순차적인 스타일 변형강도를 변경하여 사용자로 하여금 소정 스타일 변형강도를 가진 원본영상을 선택하게 하며, 상기 변형값을 기준으로 순차적인 오브제 스타일 변형정도를 변경하면서 사용자로 하여금 원본영상의 오브제 스공개특허 10-2020-0071031-3-타일 변형정도를 선택하게 하며, 스타일 변형강도와 오브제 스타일 변형정도가 설정되면, 원본 영상의 스타일 변형을 완료하고, 스타일 변형이완료된 결과 영상을, 기설정된 기기 앨범에 저장하거나, 기설정된 이메일로 전송하거나, 기설정된 SNS 계정에업로드되거나, 커스텀 폴더에 저장되며, 사용자별 카테고리별 DB에 저장하는 것을 특징으로 하는, 스타일에 따른 영상 변형 시스템."}
{"patent_id": "10-2019-0163063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제3항에 있어서,추천 선택신호를 서버가 수신하지 않았거나, 사용자 단말에서 추천 스타일 영상 중 하나를 스타일 영상으로서선택되지 않았고, 메모리부 또는 연동된 데이터베이스부에서 선택된 스타일 영상이 사용자 단말로부터 서버로전송되었다면, 서버는, 원본 영상을 사용자가 설정한 주 오브제와 배경으로 분리하고, 사용자로 하여금 소정 주오브제 스타일영상을 선택하게 하며, 선택된 스타일 영상에 따라 인공신경망을 이용하여 원본 영상의 주 오브제 스타일을 변경하되, 사용자가 입력한 변형값을 읽어들여 상기 변형값을 기준으로 순차적인 주 오브제 스타일 변형정도를 변경하면서 사용자로 하여금 원본영상의 주 오브제 스타일 변형정도를 선택하게 하며, 주오브제 스타일 변형정도가 설정되면, 주 오브제 스타일 변형을 가진 원본의 주 오브제 영상을 임시저장하며, 사용자 단말에 스타일 썸네일 화면이 디스플레이되고 사용자로 하여금 소정 배경 스타일 영상을 선택하게 하며,선택된 배경 스타일 영상에 따라 인공신경망을 이용하여 원본 영상의 배경 스타일을 변경하되, 사용자가 입력한변형값을 읽어들여 상기 변형값을 기준으로 순차적인 배경 스타일 변형정도를 변경하면서 사용자로 하여금 원본영상의 배경 스타일 변형정도를 선택하게 하며, 배경 변형정도가 설정되면, 배경 스타일 변형을 가진 원본의 배경 영상을 임시저장하며,임시저장된 주 오브제 스타일 변형을 가진 원본의 주 오브제 영상과, 임시저장된 배경 스타일 변형을 가진 원본의 배경 영상을 병합하여, 스타일 변형이 완료된 결과 영상을 출력하도록 이루어진 것을 특징으로 하는, 스타일에 따른 영상 변형 시스템."}
{"patent_id": "10-2019-0163063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서,스타일 변형이 완료된 결과 영상을, 기설정된 기기 앨범에 저장하거나, 기설정된 이메일로 전송하거나, 기설정된 SNS 계정에 업로드되거나, 커스텀 폴더에 저장되며, 사용자별 카테고리별 DB에 저장하는 것을 특징으로하는, 스타일에 따른 영상 변형 시스템."}
{"patent_id": "10-2019-0163063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제3항에 있어서,추천 선택신호를 서버가 수신하지 않았거나, 사용자 단말에서 추천 스타일 영상 중 하나를 스타일 영상으로서선택되지 않았고, 메모리부 또는 연동된 데이터베이스부에서 선택된 스타일 영상이 사용자 단말로부터 서버로전송되었다면, 서버는, 원본 영상을 사용자가 설정한 주 오브제와 배경으로 분리하고, 사용자로 하여금 소정 주오브제 스타일영상을 선택하게 하며, 선택된 스타일 영상에 따라 인공신경망을 이용하여 원본 영상의 주 오브제 스타일을 변경하되, 사용자가 입력한 변형값을 읽어들여 상기 변형값을 기준으로 자동 순차적인 오브제 스타일 변형정도를변경하면서 사용자로 하여금 원본영상의 오브제 스타일 변형정도를 선택하게 하며, 오브제 스타일 변형정도가설정되면, 오브제 스타일 변형을 가진 원본의 주 오브제 영상을 임시 저장하며, 사용자 단말에 스타일 썸네일 화면이 디스플레이되고 사용자로 하여금 소정 배경 스타일 영상을 선택하게 하며,선택된 배경 스타일 영상에 따라 인공신경망을 이용하여 원본 영상의 배경 스타일을 변경하되, 사용자가 입력한변형값을 읽어들여 상기 변형값을 기준으로 자동 순차적인 배경 스타일 변형정도를 변경하면서 사용자로 하여금원본영상의 배경 스타일 변형정도를 선택하게 하며, 배경 변형정도가 설정되면, 배경 스타일 변형을 가진 원본의 배경 영상을 임시 저장하며,공개특허 10-2020-0071031-4-임시저장된 주 오브제 스타일 변형을 가진 원본의 주 오브제 영상과, 임시저장된 배경 스타일 변형을 가진 원본의 배경 영상을 병합하여, 스타일 변형이 완료된 결과 영상을 임시저장 또는 출력하도록 이루어지며,스타일 변형이 완료된 결과 영상을, 사용자별 카테고리별 DB에 저장하는 것을 특징으로 하는, 스타일에 따른 영상 변형 시스템."}
{"patent_id": "10-2019-0163063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제1항에 있어서,스타일 영상은, 화가의 그림 또는 조각가의 조각물 사진인 것을 특징으로 하는, 스타일에 따른 영상 변형 시스템."}
{"patent_id": "10-2019-0163063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제1항 내지 제9항 중 어느 한 항에 있어서,스타일 변형 또는 전이에 적용된 인공신경망은, VGG-19 네트워크를 기반으로 한 것을 특징으로 하는, 스타일에따른 영상 변형 시스템."}
{"patent_id": "10-2019-0163063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제1항 내지 제9항 중 어느 한 항에 있어서,인공신경망의 스타일 및 개념을 학습하기 위한 AI 엔진은 GAN (Generative Adversarial Network, 생성적 적대신경망)을 사용하는 것을 특징으로 하는, 스타일에 따른 영상 변형 시스템."}
{"patent_id": "10-2019-0163063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제1항 내지 제9항 중에 어느 한 항의 서버의 구동방법을 컴퓨터에서 실행시키기 위한 프로그램을 기록한 컴퓨터로 읽을 수 있는 기록매체."}
{"patent_id": "10-2019-0163063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제 1항 내지 제9항 중에 어느 한 항의 사용자 단말의 구동방법을 스마트폰에서 실행시키기 위한 프로그램을 기록한 스마트폰으로 읽을 수 있는 기록매체."}
{"patent_id": "10-2019-0163063", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은, 사용자가 촬영하거나 입력한 영상에서, 사용자가 설정한 특정 부분을, 사용자가 설정한 소정 작가(화 가, 조각가 등)의 작품(그림, 조각품 등) 스타일로, 기 학습된 인공신경망을 이용하여 스타일 전이를 수행하여, 상기 영상을 변형하여, 사용자의 단말기로 출력하는, 인공신경망 기반의 작가 스타일에 따른 영상 변형 시스템 (뒷면에 계속)"}
{"patent_id": "10-2019-0163063", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은, 사용자가 촬영하거나 입력한 영상에서, 기본적으로 제공하는 스타일(봄, 여름, 가을, 겨울) 및 커스 텀 스타일(Custom Style, 사용자 정의 스타일 )에 대한 추천 혹은, 사용자가 설정한 특정 부분을, 사용자가 설 정한 소정 작가(화가, 조각가 등)의 작품(그림, 조각품 등) 스타일로, 기 학습된 인공신경망을 이용하여 스타일 전이를 수행하여, 상기 영상을 변형하여, 사용자의 단말기로 출력하고, 사용자가 지정하는 카테고리별로 데이터 가 쌓이면서 기준치 이상의 데이터가 쌓이게 되면 자동으로 학습하게 되어 커스텀 스타일에 대한 스타일 전이기능을 제공하는, 인공신경망 기반의 작가 스타일에 따른 영상 변형 시스템 및 방법에 관한 것이다."}
{"patent_id": "10-2019-0163063", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "스타일 전이는 영상 처리 분야의 오래된 연구 주제 중 하나로, 대부분 텍스처 합성 연구의 일환으로 추진되어왔 다. 한 영상의 특정 텍스처를 변환 대상 영상의 특정 영역 또는 특정 객체에 전이함으로써, 새로운 스타일을 가 지고 새로운 느낌을 제공할 수 있도록 영상을 합성하는 방법이다. 스타일 전이 분야는 최근 들어, 인공신경망(뉴럴 네트워크)를 적용하여 보다 높은 품질의 자연스러운 스타일 전 이영상을 생성할 수 있도록 연구되고 있다. 본 발명은 사용자가 촬영하거나 업로드(입력한 영상)에서, 사용자가 설정한 특정 부분을, 사용자가 설정한 소정 작가(화가, 조각가 등)의 작품(그림, 조각품 등) 스타일로, 기 학습된 인공신경망을 이용하여 스타일 전이를 수 행하여, 상기 영상을 변형하여, 사용자의 단말기로 출력하는, 인공신경망 기반의 작가 스타일에 따른 영상 변형시스템 및 방법을 제안한다. 선행기술로, 국내 공개특허공보 2002-0069595호는 얼굴 그림 제작 시스템 및 방법에 관한 것으로, 이 시스템은 얼굴 그림으로 변환할 사진데이터를 입력받는 사진 입력수단과, 얼굴 구성요소와, 구성요소별 내부요소 각각에 대하여 적용할 디자인 규칙이 저장되는 데이터베이스와, 입력된 사진데이터를 이미지 처리하고, 상기 이미지 처 리된 사진 데이터에서 각 얼굴 구성요소와, 구성요소별 내부요소를 분석하여 인식하고, 인식된 구성요소별 내부 요소 각각에 대하여 상기 데이터베이스에 저장된 디자인 규칙을 적용하여 합성하는 그림 제작수단을 포함한다. 그러나, 국내 공개특허공보 2002-0069595호의 경우, 디자인 규칙에 따라 입력된 사진데이터를 이미지 처리하는 데 많은 시간이 소요되고, 자연스러움이 비교적 떨어지며, 다양한 작가의 작품 스타일에 따른 디자인 규칙을 일 일히 만들기도 쉽지 않으며, 다양한 작가의 작품 스타일로 영상의 소정 부분만 나타내는 것 또한 쉽지 않다."}
{"patent_id": "10-2019-0163063", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명이 해결하고자 하는 과제는, 사용자가 촬영하거나 입력한 영상에서, 기본적으로 제공하는 스타일(봄, 여 름, 가을, 겨울) 및 커스텀 스타일에 대한 추천 혹은, 사용자가 설정한 특정 부분을, 사용자가 설정한 소정 작 가(화가, 조각가 등)의 작품(그림, 조각품 등) 스타일로, 기 학습된 인공신경망을 이용하여 스타일 전이를 수행 하여, 상기 영상을 변형하여, 사용자의 단말기로 출력하고, 사용자가 지정하는 카테고리별로 데이터가 쌓이면서 기준치 이상의 데이터가 쌓이게 되면 자동으로 학습하게 되어 커스텀 스타일에 대한 스타일 전이기능을 제공하는, 인공신경망 기반의 작가 스타일에 따른 영상 변형 시스템 및 방법을 제공하는 것이다."}
{"patent_id": "10-2019-0163063", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 과제를 해결하기 위해, 본 발명의 스타일에 따른 영상 변형 시스템은, 카메라를 구비하여 소정 영상을 촬 영하며, 촬영된 영상을 편집하여 스타일을 변형하기 위한 원본 영상을 생성하고, 메모리부 또는 연동된 데이터 베이스부에 기 저장된 영상들 중 스타일 영상을 선택하여 서버로 전송하는, 사용자 단말; 사용자 단말로부터 수 신된 원본 영상과, 스타일 영상을, 기 학습된 인공신경망에 입력하고, 인공신경망으로부터 출력된 스타일 변형 된 영상을 사용자 단말로 전송하는 연산처리부를 포함하며, 상기 스타일 변형된 영상은, 원본 영상이 스타일 영 상에 따라 스타일 전이되어 변형된 영상인 것인, 서버;를 포함하는 것을 특징으로 한다. 서버는, 원본 영상과, 스타일 영상과, 스타일 변형된 영상을 데이터베이스부에 저장하며, 원본 영상과, 스타일 영상과, 스타일 변형된 영상을 이용하여, 인공신경망을 학습시켜, 사용자별의 작품 활동 행위 모델을 구축하며, 사용자 단말로부터, 추천을 요청하는 추천 선택신호를 서버가 수신하면, 인공신경망은 사용자별 작품 활동 행위 모델에 따라 추천 스타일 영상을, 사용자 단말기로 전송한다. 사용자 단말에서 서버로부터 수신된 추천 스타일 영상 중 하나가 스타일 영상으로서 선택되면, 서버는, 인공신 경망을 통해, 원본 영상을, 추천 스타일 영상 중 선택된 스타일 영상으로 스타일 전이되어 변형된 영상인, 스타 일 변형된 영상을 출력한다. 사용자 단말로부터, 추천을 요청하는 추천 선택신호를 서버가 수신하면, 인공신경망은 사용자별 작품 활동 행위 모델에 따른 추천 스타일 영상 뿐만아니라, 봄, 여름, 가을, 겨울의 4가지 기본 추천의 추천 스타일 영상을, 사용자 단말기로 전송한다. 추천 선택신호를 서버가 수신하지 않았거나, 사용자 단말에서 추천 스타일 영상 중 하나를 스타일 영상으로서 선택되지 않았고, 메모리부 또는 연동된 데이터베이스부에서 선택된 스타일 영상이 사용자 단말로부터 서버로 전송되었다면, 서버는, 원본 영상을, 스타일 영상에 따라 인공신경망을 이용하여 변경하되, 사용자가 사용자 단 말에서 입력한 변형값을 읽어들여, 상기 변형값을 기준으로 순차적인 스타일 변형강도를 변경하여 사용자로 하 여금 소정 스타일 변형강도를 가진 원본영상을 선택하게 하며, 상기 변형값을 기준으로 순차적인 오브제 스타일 변형정도를 변경하면서 사용자로 하여금 원본영상의 오브제 스타일 변형정도를 선택하게 하며, 스타일 변형강도 와 오브제 스타일 변형정도가 설정되면, 원본 영상의 스타일 변형을 완료하고, 스타일 변형이 완료된 결과 영상 을, 기설정된 기기 앨범에 저장하거나, 기설정된 이메일로 전송하거나, 기설정된 SNS 계정에 업로드되거나, 커 스텀 폴더에 저장되며, 사용자별 카테고리별 DB에 저장한다. 추천 선택신호를 서버가 수신하지 않았거나, 사용자 단말에서 추천 스타일 영상 중 하나를 스타일 영상으로서 선택되지 않았고, 메모리부 또는 연동된 데이터베이스부에서 선택된 스타일 영상이 사용자 단말로부터 서버로전송되었다면, 서버는, 원본 영상을 사용자가 설정한 주 오브제와 배경으로 분리하고, 사용자로 하여금 소정 주 오브제 스타일 영상을 선택하게 하며, 선택된 스타일 영상에 따라 인공신경망을 이용하여 원본 영상의 주 오브 제 스타일을 변경하되, 사용자가 입력한 변형값을 읽어들여 상기 변형값을 기준으로 순차적인 주 오브제 스타일 변형정도를 변경하면서 사용자로 하여금 원본영상의 주 오브제 스타일 변형정도를 선택하게 하며, 주오브제 스 타일 변형정도가 설정되면, 주 오브제 스타일 변형을 가진 원본의 주 오브제 영상을 임시저장하며, 사용자 단말 에 스타일 썸네일 화면이 디스플레이되고 사용자로 하여금 소정 배경 스타일 영상을 선택하게 하며, 선택된 배 경 스타일 영상에 따라 인공신경망을 이용하여 원본 영상의 배경 스타일을 변경하되, 사용자가 입력한 변형값을 읽어들여 상기 변형값을 기준으로 순차적인 배경 스타일 변형정도를 변경하면서 사용자로 하여금 원본영상의 배 경 스타일 변형정도를 선택하게 하며, 배경 변형정도가 설정되면, 배경 스타일 변형을 가진 원본의 배경 영상을 임시저장하며, 임시저장된 주 오브제 스타일 변형을 가진 원본의 주 오브제 영상과, 임시저장된 배경 스타일 변 형을 가진 원본의 배경 영상을 병합하여, 스타일 변형이 완료된 결과 영상을 출력하도록 이루어진다. 스타일 변형이 완료된 결과 영상을, 기설정된 기기 앨범에 저장하거나, 기설정된 이메일로 전송하거나, 기설정 된 SNS 계정에 업로드되거나, 커스텀 폴더에 저장되며, 사용자별 카테고리별 DB에 저장한다. 추천 선택신호를 서버가 수신하지 않았거나, 사용자 단말에서 추천 스타일 영상 중 하나를 스타일 영상으로서 선택되지 않았고, 메모리부 또는 연동된 데이터베이스부에서 선택된 스타일 영상이 사용자 단말로부터 서버로 전송되었다면, 서버는, 원본 영상을 사용자가 설정한 주 오브제와 배경으로 분리하고, 사용자로 하여금 소정 주 오브제 스타일 영상을 선택하게 하며, 선택된 스타일 영상에 따라 인공신경망을 이용하여 원본 영상의 주 오브 제 스타일을 변경하되, 사용자가 입력한 변형값을 읽어들여 상기 변형값을 기준으로 자동 순차적인 오브제 스타 일 변형정도를 변경하면서 사용자로 하여금 원본영상의 오브제 스타일 변형정도를 선택하게 하며, 오브제 스타 일 변형정도가 설정되면, 오브제 스타일 변형을 가진 원본의 주 오브제 영상을 임시 저장하며, 사용자 단말에 스타일 썸네일 화면이 디스플레이되고 사용자로 하여금 소정 배경 스타일 영상을 선택하게 하며, 선택된 배경 스타일 영상에 따라 인공신경망을 이용하여 원본 영상의 배경 스타일을 변경하되, 사용자가 입력한 변형값을 읽 어들여 상기 변형값을 기준으로 자동 순차적인 배경 스타일 변형정도를 변경하면서 사용자로 하여금 원본영상의 배경 스타일 변형정도를 선택하게 하며, 배경 변형정도가 설정되면, 배경 스타일 변형을 가진 원본의 배경 영상 을 임시 저장하며, 임시저장된 주 오브제 스타일 변형을 가진 원본의 주 오브제 영상과, 임시저장된 배경 스타 일 변형을 가진 원본의 배경 영상을 병합하여, 스타일 변형이 완료된 결과 영상을 임시저장 또는 출력하도록 이 루어지며, 스타일 변형이 완료된 결과 영상을, 사용자별 카테고리별 DB에 저장한다. 스타일 영상은, 화가의 그림 또는 조각가의 조각물 사진일 수 있다. 스타일 변형 또는 전이에 적용된 인공신경망은, VGG-19 네트워크를 기반으로 하며, 인공신경망의 스타일 및 개 념을 학습하기 위한 AI 엔진은 GAN (Generative Adversarial Network, 생성적 적대 신경망)을 사용한다. 또한, 본 발명은 서버의 구동방법을 컴퓨터에서 실행시키기 위한 프로그램을 기록한 컴퓨터로 읽을 수 있는 기 록매체를 특징으로 한다. 또한, 본 발명은 사용자 단말의 구동방법을 스마트폰에서 실행시키기 위한 프로그램을 기록한 스마트폰으로 읽 을 수 있는 기록매체를 특징으로 한다."}
{"patent_id": "10-2019-0163063", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 인공신경망 기반의 작가 스타일에 따른 영상 변형 시스템 및 방법은, 사용자가 촬영하거나 입력한 영 상에서, 기본적으로 제공하는 스타일(봄, 여름, 가을, 겨울) 및 커스텀 스타일에 대한 추천 혹은, 사용자가 설 정한 특정 부분을, 사용자가 설정한 소정 작가(화가, 조각가 등)의 작품(그림, 조각품 등) 스타일로, 기 학습된 인공신경망을 이용하여 스타일 전이를 수행하여, 상기 영상을 변형하여, 사용자의 단말기로 출력하고, 사용자가 지정하는 카테고리별로 데이터가 쌓이면서 기준치 이상의 데이터가 쌓이게 되면 자동으로 학습하게 되어 커스텀 스타일에 대한 스타일 전이기능을 제공한다. 즉, 본 발명의 인공신경망 기반의 작가 스타일에 따른 영상 변형 시스템 및 방법에 따르면, 사용자가 촬영하거 나 입력한 영상에서, 사용자가 설정한 특정 부분을, 사용자가 설정한 소정 작가(화가, 조각가 등)의 작품(그림, 조각품 등) 스타일로, 기 학습된 인공신경망을 이용하여 스타일 전이를 수행하여, 상기 영상을 변형하여, 사용 자의 단말기로 출력함으로써, 스타일 전이에 시간 적게 소요되며, 보다 자연스러움이 있는 스타일 전이된 영상 을 획득할 수 있다. 또한, 사용자는 다양한 작가의 작품 스타일을 선택할 수 있으며, 이렇게 선택된 작가의 작품 스타일로, 사용자의 영상 중 소정 부분만을 변항하는 것도 가능하다."}
{"patent_id": "10-2019-0163063", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명의 인공신경망 기반의 작가 스타일에 따른 영상 변형 시스템 및 방법을 첨부된 도면을 참조하여 상세히 설명한다. 도 1은 본 발명의 작가 스타일에 따른 영상 변형 시스템을 개략적으로 설명하기 위한 블럭도이다. 사용자 단말은 소정 응용프로그램('아뜰리에'로 명명함)을 설치하고 있으며, 카메라, 키입력부, 디스플레이부, 메모리부, 연산처리부, 송수신부을 포함하며, 서버와 연동하여, 사용 자가 촬영한 영상을, 소정 작가(화가, 조각가 등)의 작품(그림, 조각품 등) 스타일로, 기 학습된 인공신경망(' 아뜰리에 AI'로 명명함)을 이용하여 스타일 전이를 수행하여, 상기 영상을 상기 작가의 작품 스타일로 변형하여, 출력한다. 여기서, 사용자 단말은 스마트폰이거나 개인용 컴퓨터일 수 있다. 서버는 송수신부, 연산처리부을 포함하며, 사용자가 입력한 원본 영상과 스타일 영상을 인공신 경망(아뜰리에 AI)에 입력하고, 인공신경망(아뜰리에 AI)에서 출력되는 영상을 사용자 단말로 전송한다. 또한, 서버는 사용자 단말의 요청에 따라 데이터베이스부에 사용자별로 스타일 영상을 저장하고, 또한 스타일 전이로 변형된 결과 영상을 저장시킨다. 본 발명에서 사용되는 인공신경망, 즉 스타일 전이 신경망(Style Transfer Network)은, 입력으로서, 원본 이미 지와, 스타일 이미지를 입력하고, 출력으로서, 스타일 전이된 이미지를 출력한다. 이 신경망(네트워크) 구조는, VGG-19 네트워크를 기반으로 하는 Gatys(개티) 등의 스타일 병합 네트워크를 기본 구조로 개발된것으로, 도 6과 같이, 전체 레이어는 다음과 같이 이루어져 있다. conv1_1, relu1_1, conv1_2, relu1_2, pool1, conv2_1, relu2_1, conv2_2, relu2_2, pool2, conv3_1, relu3_1, conv3_2, relu3_2, conv3_3, relu3_3, conv3_4, relu3_4, pool3, conv4_1, relu4_1, conv4_2, relu4_2, conv4_3, relu4_3, conv4_4, relu4_4, pool4, conv5_1, relu5_1, conv5_2, relu5_2, conv5_3, relu5_3, conv5_4, relu5_4 이 중 conv4_2는 오브젝트 레이어이고, conv1_2, conv2_2, conv3_4, conv4_4, conv5_4는 스타일 레이어들이다. 손실함수, 반복횟수, 스타일 레이어들에 각각 가중치를 두는 비율 등에 따라서 스타일 전이가 되는 방향성과 전 이되는 정도가 달라진다. 여러 실험을 통해서 최적의 스타일 타입 4가지를 구해냈고, 이 4가지가 앱에서 스타일 전이가 진행되는 도중에 보이는 4가지 이다. VGG-19 네트워크에 대해서는 매스웍스사(MathWorks, Inc.)의 홈페이지 등에 설명 되어 있다. 또한, VGG-19 네트워크를 기반으로 한 스타일 전이에 대해서는, Leon A. Gatys, Alexander S. Ecker, Matthias Bethge의 컴퓨터비전재단(CVF) 논문 \"Image Style Transfer Using Convolutional Neural Networks\" 등에 공지 되어 있으므로, 보다 상세한 설명은 생략한다. 본 발명의 영상-집합 기반 스타일/개념 학습 AI 엔진에 대해서 설명하면, 스타일/개념 학습 AI 엔진은 GAN (Generative Adversarial Network, 생성적 적대 신경망)을 사용하는 구조이다. 도 7과 같이, GAN은 추론기, 즉 f(x)와, 발생기, 즉, g(z)와, 식별기, 즉, V(x, x’)를 사용하는 구조로 이루어진다. GAN의 네트워크 구조에서, 추론기로서, 6-9 Conv. Block 계층 (최종 3-6 계층은 2 Conv. Res. 사용함)으로 이 루어지며, 발생기로서, 6 Conv. Block 계층 (최초 3 계층은 2 Conv. Res. 사용)으로 이루어지며, 식별기로서, 4 Conv. 계층 + 1 출력층으로 이루어진다. 네트워크 학습은, 특정 작가의 작품 스타일을 학습하기 위해 수집된 최소 3,000장 이상의 영상을 사용(1회)하여 학습한다. 입력 영상 처리는 입력 오브제 영상에 대해 학습된 스타일을 발생하는 구조로서, 학습 없다. 256x256 화소를 대 상으로 처리한다. GAN (생성적 적대 신경망)은 위키패디아 사전 등에 공지된 신경망으로, 보다 상세한 설명은 생략한다. 인셉션 신경망(Inception Network)은 학습과 추론의 과정이 앱에서 참여가능하나, 학습 과정에서는 카테고리와, 각 카테고리별 이미지들이 기준치(1000장) 이상이 필요하다. 물론, 기준치는 변경이 가능하나 학습의 결과가 좋 을지는 장담할 수 없다. 인셉션 신경망의 추론 과정은 기본적으로 CNN 구조로 이를 간단히 설명하면 다음과 같 다. Conv -> Relu ->Conv(DownSampling) -> Relu -> Conv(DownSampling) -> Relu -> Conv -> Relu -> Conv -> Relu -> Conv(UpSampling/Deconv) -> Relu -> Conv(UpSampling/Deconv) -> Relu -> Conv(logit) -> tanh 이하 본 발명의 여러가지 실시예에 의한, 작가 스타일에 따른 영상 변형 시스템의 구동을 설명한다. 이하의 여러가지 실시예에서 업로드 앞단에 추천기능 즉, 추천단계(S121a, S131a)를 구비하는 데, 여러가지 실 시예의 설명에 앞서, 도 5를 참조하여 추천단계(S121a, S131a)를 먼저 설명한다. 추천여부 판단단계로, 사용자가, 인공신경망(아뜨리에)을 통해 추천을 받을 것인지 아닌지 결정한 입력신호, 즉, 추천선택 신호를, 사용자단말의 키입력부를 통해 입력하면, 상기 입력신호는 서버의 연산처 리부로 전송되고, 연산처리부는 추천선택 신호가 입력되었는지 여부를 판단하고(S510), 만약 추천선 택 신호가 입력되지 않았다면, c 출력단(c output)을 통해 다음의 단계인, 촬영 영상 편집여부 판단단계(S133 또는 S132)로 진행한다. 추천영상확인단계로, 추천여부 판단단계에서 추천 선택 신호가 입력되었다면, 기본추천과 카테고리별로 학습된 스타일에 따른 추천을 받고, 이 추천된 스타일 영상은 사용자 단말에 디스플레이하여, 사용자로 하여금 추 천 스타일영상을 확인하게 한다(S520). 예를들어, 봄, 여름, 가을, 겨울의 4가지 기본 추천과 카테고리별로 학 습된 스타일에 대해서 추천을 받는다. 본 발명에서 인공신경망(아뜰리에)에서 사용자별(작가별)로 스타일 전이를 하기 위해 입력한 입력영상(즉, 원본 영상과 스타일 영상)와 스타일 전이를 행하여진 출력영상에 의해 사용자별(작가별)로 행위모델로 학습됨에 따라, 인공신경망(아뜰리에)에서 사용자별(작가별)로 행위모델을 가지게 된다. 사용자가 아틀리에를 사용할 경 우 이는 자동으로 업데이트 된다. 따라서 카테고리별로 학습된 스타일에 대한 추천시, 사용자별 행위모델에 따 른 영상을 추천받게 된다. 영상선택여부 판단단계로, 추천영상확인단계에서 추천된 영상을 사용자가 확인하고, 사용자가 추천된 영상을 선 택하면, 이에 따른 키입력 신호인, 영상선택 신호가 사용자단말의 키입력부를 통해 입력되게 되며, 서버의 연산처리부는 영상선택 신호가 입력되었는 지 여부를 판단하고(S530), 만약 영상 선택 신호가 입력되었다면, d 출력단(d output)을 통해 다음의 단계인, 결과영상출력단계(S363, S364, S365)로 진행하고, 만약 영상 선택 신호가 입력되지 않았다면, c 출력단(c output)을 통해 다음의 단계인, 촬영 영상 편집여부 판단 단계들(S133 또는 S132)로 진행한다. 도 2a 및 도 2b는 본 발명의 일실시예에 의한 작가 스타일에 따른 영상 변형 시스템의 구동을 개략적으로 설명 하기 위한 블럭도이다. 초기단계로, 사용자 단말에서 소정 응용프로그램('아뜰리에'로 명명함)이 실행되면, 사용자 단말(즉, 연산처리부)은 카메라 촬영모드 버튼, 영상 업로드 모드 버튼, 커스텀 스타일(Custom Style) 앨범 모드 버 튼을 포함하는 홈 화면을 디스플레이한다(S110). 카메라 촬영모드 설정단계로, 사용자가 초기단계(홈 화면)에서 카메라 촬영모드 버튼을 선택하면, 사용자 단말 은 카메라 전환버튼(전면/후면), 타이머 버튼(3초/5초/10초), 플래쉬 버튼(자동/강제/끄기), 촬영버튼, 앨 범 이동 버튼을 포함하는 영상 촬영 화면을 디스플레이하며(S112), 만약, 사용자가 앨범 이동 버튼을 선택하였 다면(S122), 사용자 단말는 기기 앨범에서의 영상선택 단계(S123)으로 간다. 영상 촬영단계로, 카메라 촬영모드 설정단계에서 사용자가 촬영버튼을 선택되었다면 영상을 촬영한다(S121). 제1 추천단계로, 도 5에서와 같이, 사용자가 추천을 받을 것을 결정하는 추천 선택 신호가, 입력되었는지 여부 를 연산처리부가 판단하고, 만약 추천 선택 신호가 입력되지 않았다면, 촬영 영상 편집여부 판단단계로 가고, 만약 추천 선택 신호가 입력되었다면, 기본추천과 카테고리별로 학습된 스타일에 따라 추천된 영상이 디스플레 이되어, 사용자로 하여금 추천된 영상을 선택하거나 선택하지 않게 하며, 만약 추천된 영상 중에 사용자에 의해 선택된 영상이 없다면, 촬영 영상 편집여부 판단단계로 가고, 만약 추천된 영상 중에 사용자에 의해 선택된 영 상이 있다면, 결과영상출력단계(S363, S364, S365)로 간다(S121a). 촬영 영상 편집여부 판단단계로, 제1 추천단계에서 키입력부로부터 추천받지 않을 신호가 입력되거나, 추천된 영상을 사용자가 선택하지 않았다면, 촬영 영상이 편집(업로드)할 영상 인지 여부를 선택하고, 편집(업로드)할 영상이 아니라면(S133), 카메라 촬영모드 설정단계로 되돌아간다. 기기 앨범에서의 영상선택 단계로, 사용자가 초기단계(홈 화면)에서 영상 업로드 모드 버튼을 선택하거나 (S113), 또는 카메라 촬영모드 설정단계에서 앨범 이동 버튼을 선택하였다면, 메모리부의 기기 앨범으로부 터 읽어들인 영상을 디스플레이부에 디스플레이하고, 사용자는 소정 영상을 선택한다(S131). 제2 추천단계로, 기기 앨범에서의 영상선택 단계에서 사용자가 소정 영상을 선택하면, 도 5에서와 같이, 사용자 가 추천을 받을 것을 결정하는 추천 선택 신호가, 입력되었는지 여부를 연산처리부가 판단하고, 만약 추천 선택 신호가 입력되지 않았다면, 영상 편집여부 판단단계로 가고, 만약 추천 선택 신호가 입력되었다면, 기본추천과 카테고리별로 학습된 스타일에 따라 추천된 영상이 디스플레이되어, 사용자로 하여금 추천된 영상을 선택하거나 선택하지 않게 하며, 만약 추천된 영상 중에 사용자에 의해 선택된 영상이 없다면, 영상 편집여부 판단단계로 가고, 만약 추천된 영상 중에 사용자에 의해 선택된 영상이 있다면, 결과영상출력단계(S363, S364, S365)로 간 다(S131a). 영상편집여부 판단단계로, 제2 추천단계에서 키입력부로부터 추천받지 않을 신호가 입력되거나, 추천된 영상을 사용자가 선택하지 않았다면, 기기 앨범에서의 영상선택 단계에서 선택된 영상이, 편집할 영상 인지 여부를 선 택하고(S132), 편집할 영상이 아니라면, 기기 앨범에서의 영상선택 단계로 되돌아가서, 편집할 영상이 선택될 때까지 기다린다. 원본 영상 편집단계로, 영상 촬영단계에서 촬영 영상(원본)이 편집할 (원본)영상이라면, 또는 기기 앨범에서의 영상선택 단계에서 편집할 (원본) 영상이 선택되면, 원본 영상이 편집하되(S150), 이미지 조정 버튼, 왜곡 버튼, 밝기버튼, 대비 버튼, 채도 버튼, 선명도 버튼, 원본 비교 버튼, 완료버튼을 포함하는 원본 영상 편집 모 드 화면이 디스플레이되어, 이들 버튼을 조절함에 따라 원본 영상이 편집되고, 만약 사용자가 완료버튼(S161)을 선택하면(S161), 편집완료여부를 확인하고(S177), 만약 편집완료가 아니라면, 편집완료가 될때까지 기다린다. 커스텀 스타일 앨범 모드 단계로, 사용자가 초기단계(홈 화면)에서 커스텀 스타일 앨범 모드 버튼을 선택하면, 커스텀 스타일 등록 버튼과, 커스텀 스타일 폴더 버튼을 포함하는 커스텀 스타일 앨범 모드 화면이 디스플레이 되며(S115), 만약 사용자가 커스텀 스타일 폴더 버튼을 선택하면, 데이터베이스부에 저장된 사용자별 스 타일 폴더가 사용자 단말에 디스플레이 된다. 스타일 등록단계로, 커스텀 스타일 앨범 모드 단계의 커스텀 스타일 앨범 모드 화면에서 커스텀 스타일 등록 버 튼이 선택되었다면, 메모리부의 기기 앨범으로부터 영상이 읽어들인 영상을 디스플레이부에 디스플레이하고(S127), 사용자는 상기 영상들중 스타일 영상을 선택하면(S135), 스타일 전이에 사용될 스타일 영상 인지 여부를 확인하고(S136), 스타일 전이에 사용될 스타일 영상이 아니라면, 스타일 전이에 사용될 스타일 영상이 선택될때까지 기다리며, 스타일 전이에 사용될 스타일 등록영상이 선택되면(S137), 사용자는 선택된 스타일 전 이에 사용될 스타일 영상에 대한 스타일 이름을 정하고(S138), 스타일 이름과 스타일 영상을, 데이터베이스부 의 사용자별 스타일 폴더에 저장하여 스타일을 등록한다(S147). 스타일 선택단계로, 원본 영상 편집단계에서 편집이 완료되면, 스타일 선택 모드 버튼(서버에 기저장된 스타일 등록 영상과 관련된 모드)과 커스텀 스타일 선택 모드 버튼(서버에 사용자별로 저장된 스타일 등록 영상과 관련 된 모드)을 포함하는 스타일 선택 화면이 사용자 단말에 디스플레이되고, 스타일 선택 모드 버튼이 선택되 면, 사용자 단말에 스타일 썸네일 화면과, 스타일 검색바가 디스플레이되며(S181), 또는 커스텀 스타일 선 택 모드 버튼이 선택되면, 사용자 단말에 커스텀 스타일 썸네일 화면과, 스타일 검색바가 디스플레이되고 (S183), 사용자는 소정 스타일 등록 영상을 선택한다. 스타일 선택 확인단계로, 사용자 단말은, 스타일 선택단계에서 스타일 등록 영상의 선택이 완료되었는지를 판단하고(S185), 만약, 스타일 영상의 선택이 완료되었다면, 변형단계로 가며, 만약, 스타일 영상의 선택이 완 료되지 않았다면, 다중선택되었는지를 확인하고(S191), 다중 선택이 아니라면, 스타일 선택단계로 되돌아가며, 만약, 다중선택이라면 스타일 변형단계로 간다. 스타일 변형단계로, 사용자 단말은 사용자에 의해 스타일 변형이 선택되었다면, 원본 영상을, 스타일 선택 확인 단계에서 확인된 스타일 등록 영상에 따라 인공신경망을 이용하여 변경하되, 사용자가 입력한 변형값을 읽어들 여 상기 변형값을 기준으로 순차적인 스타일 변형강도를 변경하여 사용자로 하여금 소정 스타일 변형강도를 가 진 원본영상을 선택하게 하며(S211), 또한, 상기 변형값을 기준으로 순차적인 오브제 스타일 변형정도를 변경하 면서 사용자로 하여금 원본영상의 오브제 스타일 변형정도를 선택하게 하며(S212), 스타일 변형강도와 오브제 스타일 변형정도가 설정되면, 원본영상의 변형완료 여부를 판단하며(S220), 변형이 완료되지 않았다면, 사용자 가 입력한 변형값을 다시 읽어들여 스타일 변형강도와 오브제 스타일 변형정도에 대한 변형을 반복한다. 결과 영상 편집단계로, 스타일 변형단계에서 원본 영상의 스타일 변형이 완료되면, 이미지 조정 버튼, 왜곡버튼, 밝기 버튼, 대비 버튼, 채도 버튼, 선명도 버튼, 원본 비교 버튼, 완료버튼을 포함하는 결과 영상 편 집화면이 디스플레이 되고, 이들 버튼을 조절하여 결과 영상을 편집하고, 완료버튼이 선택되면(S231), 완료여부 를 확인하고(S251), 만약 완료되지 않았다고 판단되면 다시 영상을 편집하여 완료가 확인될 때까지 기다린다. 결과영상출력단계로, 제1 추천단계 및 제2 추천단계 에서 추천된 영상 중에 사용자에 의해 선택된 영상이 있다 면, 또는, 결과 영상 편집단계에서 만약 결과영상의 편집이 완료되었다고 판단되면, 결과 영상을 디스플레이하 되, 기기 앨범 저장 버튼, 이메일 버튼, SNS 업로드 버튼, 커스텀 폴더 버튼을 포함하는 완료화면을 디스플레이 하며, 기기 앨범 저장 버튼의 선택에 따라 메모리부의 기기 앨범 저장부에 결과 영상을 저장하고(S363), 이메일 버튼의 선택에 따라 기설정된 이메일 주소로 결과 영상을 전송하며(S364), SNS 업로드 버튼의 선택에 따 라 기설정된 SNS 계정으로 결과 영상을 업로드하며(S365), 사용자별 카테고리별 DB에 저장하여 사용자 행위모델 을 업데이트하게 한다(S366). 커스텀 폴더 저장 판단 단계로, 연산처리부는 키입력부로부터 커스텀 폴더 버튼 선택 신호가 입력되었는지 여부 를 판단하여, 만약 커스텀 폴더 버튼 선택 신호가 입력되지 않았다면 종료하고, 만약 커스텀 폴더 버튼 선택 신 호가 입력되었다면, 스타일 이름과 스타일 영상을, 데이터베이스부의 사용자별 스타일 폴더에 저장하여 스 타일을 등록한다(S147). 즉, 사용자가 커스텀 폴더 버튼의 선택에 따라 데이터베이스부의 사용자별 스타일 폴더에 저장한다. 도 3a 및 도 3b는 본 발명의 다른 일실시예에 의한 작가 스타일에 따른 영상 변형 시스템의 구동을 개략적으로 설명하기 위한 블럭도이다. 도 3a는, 도 2a 및 상술된 초기단계(S110), 카메라 촬영모드 설정단계(S112), 영상 촬영단계(S121), 제1 추천 단계(S121a), 촬영 영상 편집여부 판단단계(S133), 기기 앨범에서의 영상선택 단계(S113, S131), 제2 추천단계 (S131a),영상편집여부 판단단계(S132), 원본 영상 편집단계(S150, S161, S177), 커스텀 스타일 앨범 모드 단계 (S115), 스타일 등록단계(S127, S135, S136, S137, S138, S147)와 동일하며, 따라서 이에 대한 상세한 설명은 생략한다 주 오브제와 배경 분리단계로, 원본 영상 편집단계에서 편집이 완료되면, 원본 영상을 사용자가 설정한 주 오브 제와 배경을 분리한다(S311).주 오브제 스타일 선택단계로, 주 오브제와 배경 분리단계 후, 스타일 선택 모드 버튼(서버에 기저장된 스타일 등록 영상과 관련된 모드)과 커스텀 스타일 선택 모드 버튼(서버에 사용자별로 저장된 스타일 등록 영상과 관련 된 모드)을 포함하는 주 오브제 스타일 선택 화면이 사용자 단말에 디스플레이되고(S312), 스타일 선택 모 드 버튼이 선택되면, 사용자 단말에 스타일 썸네일 화면이 디스플레이되며(S315), 또는 커스텀 스타일 선 택 모드 버튼이 선택되면, 사용자 단말에 커스텀 스타일 썸네일 화면이 디스플레이되고(S316), 사용자는 소정 주오브제 스타일 영상을 선택한다. 주 오브제 스타일 선택 확인단계로, 사용자 단말은, 주 오브제 스타일 선택단계에서 주 오브제 스타일 영 상의 선택이 완료되었는지를 판단하고(S317), 만약, 주 오브제 스타일 영상의 선택이 완료되었다면, 주 오브제 변형단계로 가며, 만약, 주 오브제 스타일 영상의 선택이 완료되지 않았다면, 주 오브제 스타일 선택단계(S31 2)로 돌아간다. 주 오브제 스타일 변형단계로, 사용자 단말은, 주 오브제 스타일 선택 확인단계에서 확인된 스타일 영상에 따라 인공신경망을 이용하여 원본 영상의 주 오브제 스타일을 변경하되, 사용자가 입력한 변형값을 읽어들여 상 기 변형값을 기준으로 순차적인 오브제 스타일 변형정도를 변경하면서 사용자로 하여금 원본영상의 오브제 스타 일 변형정도를 선택하게 하며(S318), 오브제 스타일 변형정도가 설정되면, 이에 따른 오브제 스타일 변형을 가 진 원본의 주 오브제 영상을 출력하며(즉, 임시 저장하며)(S321), 그후, 스타일 변형된 주 오브제 영상에 따라 선택적으로 기타 중간과정을 행한다(S322). 배경 스타일 선택단계로, 주 오브제 스타일 변형단계 후, 스타일 선택 모드 버튼(서버에 기저장된 스타일 등록 영상과 관련된 모드)과 커스텀 스타일 선택 모드 버튼(서버에 사용자별로 저장된 스타일 등록 영상과 관련된 모 드)을 포함하는 배경 스타일 선택 화면이 사용자 단말에 디스플레이되고(S323), 스타일 선택 모드 버튼이 선택되면, 사용자 단말에 스타일 썸네일 화면이 디스플레이되며(S325), 또는 커스텀 스타일 선택 모드 버 튼이 선택되면, 사용자 단말에 커스텀 스타일 썸네일 화면이 디스플레이되고(S326), 사용자는 소정 배경 스타일 영상을 선택한다. 배경 스타일 선택 확인단계로, 사용자 단말은, 배경 스타일 선택단계에서 배경 스타일 영상의 선택이 완료 되었는지를 판단하고(S327), 만약, 배경 스타일 영상의 선택이 완료되었다면, 배경 변형단계로 가며, 만약, 배 경 스타일 영상의 선택이 완료되지 않았다면, 배경 스타일 선택단계(S323)로 되돌아간다. 배경 스타일 변형단계로, 사용자 단말은, 배경 스타일 선택 확인단계에서 확인된 배경 스타일 영상에 따라 인공신경망을 이용하여 원본 영상의 배경 스타일을 변경하되, 사용자가 입력한 변형값을 읽어들여 상기 변형값 을 기준으로 순차적인 배경 스타일 변형정도를 변경하면서 사용자로 하여금 원본영상의 배경 스타일 변형정도를 선택하게 하며(S328), 배경 변형정도가 설정되면, 이에 따른 배경 스타일 변형을 가진 원본의 배경 영상을 출력 하며(즉, 임시 저장하며)(S331), 그후, 스타일 변형된 배경 영상에 따라 선택적으로 기타 중간과정을 행한다 (S332). 주 오브제와 배경의 병합단계로, 주 오브제 스타일 변형단계에서 스타일이 변형된 원본영상의 주 오브제와 배경 스타일 변형단계에서 스타일이 변형된 원본의 배경영상을 병합하여, 스타일이 변형된 결과 영상을 출력한다(즉, 임시 저장한다)(S335). 결과 영상 편집단계로, 주 오브제와 배경의 병합단계에서 생성된 결과 영상을, 이미지 조정 버튼, 왜곡버튼, 밝 기 버튼, 대비 버튼, 채도 버튼, 선명도 버튼, 원본 비교 버튼, 완료버튼을 포함하는 결과 영상 편집화면에 디 스플레이되고, 이들 버튼을 이용하여 결과 영상을 편집하고(S350), 완료버튼이 선택되면(S361), 편집 완료여부 를 확인하고(S362), 만약 완료되지 않았다고 판단되면 결과 영상 편집단계로 되돌아가 다시 영상을 편집하여 완 료가 확인될 때까지 기다린다. 결과영상출력단계로, 제1 추천단계 및 제2 추천단계에서 추천된 영상 중에 사용자에 의해 선택된 영상이 있다면, 또는, 결과 영상 편집단계에서 만약 결과영상의 편집이 완료되었다고 판단되면, 결과 영상을 디스플레 이하되, 기기 앨범 저장 버튼, 이메일 버튼, SNS 업로드 버튼, 커스텀 폴더 버튼을 포함하는 완료화면을 디스플 레이하며, 기기 앨범 저장 버튼의 선택에 따라 메모리부의 기기 앨범 저장부에 결과 영상을 저장하고 (S363), 이메일 버튼의 선택에 따라 기설정된 이메일 주소로 결과 영상을 전송하며(S364), SNS 업로드 버튼의 선택에 따라 기설정된 SNS 계정으로 결과 영상을 업로드하며(S365), 사용자별 카테고리별 DB에 저장하여 사용자 행위모델을 업데이트하게 한다(S366). 커스텀 폴더 저장 판단 단계로, 연산처리부는 키입력부로부터 커스텀 폴더 버튼 선택 신호가 입력되었는지 여부 를 판단하여(S367), 만약 커스텀 폴더 버튼 선택 신호가 입력되지 않았다면 종료하고, 만약 커스텀 폴더 버튼 선택 신호가 입력되었다면, 스타일 이름과 스타일 영상을, 데이터베이스부의 사용자별 스타일 폴더에 저장 하여 스타일을 등록한다(S147). 즉, 사용자가 커스텀 폴더 버튼의 선택에 따라 데이터베이스부의 사용자별 스타일 폴더에 저장한다. 도 4a 및 도 4b는 본 발명의 또 다른 일실시예에 의한 작가 스타일에 따른 영상 변형 시스템의 구동을 개략적으 로 설명하기 위한 블럭도이다. 도 4a는, 도 2a 및 상술된 초기단계(S110) 카메라 촬영모드 설정단계(S112), 영상 촬영단계(S121), 제1 추천단 계(S121a), 촬영 영상 편집여부 판단단계(S133), 기기 앨범에서의 영상선택 단계(S113, S131), 제2 추천단계 (S131a),영상편집여부 판단단계(S132), 원본 영상 편집단계(S150, S161, S177), 커스텀 스타일 앨범 모드 단계 (S115), 스타일 등록단계(S127, S135, S136, S137, S138, S147)와 동일하며, 따라서 이에 대한 상세한 설명은 생략한다 도 4b에서는 주 오브제 스타일 변형단계의 일부와, 배경 스타일 변형단계의 일부가 도 3b와 상이하며, 또한, 주 오브제 스타일 변형단계와 배경 스타일 선택단계의 사이에 주 오브제 최종 결과물 선택단계(S323)을 더 구비하 며, 또한 배경 스타일 변형단계와 결과 영상 편집단계의 사이에 배경 최종 결과물 선택단계(S335)를 더 구비한 다. 이 이외에는 도 4b와 도 3b는 같다. 따라서 같은 부분에 대한 설명은 생략한다. 즉, 도 4b의 주 오브제와 배경 분리단계(S311), 주 오브제 스타일 선택단계(S312,S315, S316), 주 오브제 스타 일 선택 확인단계(S317)는 도 3b와 동일하다. 주 오브제 스타일 변형단계로, 사용자 단말은, 주 오브제 스타일 선택 확인단계에서 확인된 스타일 영상에 따라 인공신경망을 이용하여 원본 영상의 주 오브제 스타일을 변경하되, 사용자가 입력한 변형값을 읽어들여 상 기 변형값을 기준으로 순차적인 오브제 스타일 변형정도를 변경하면서 사용자로 하여금 원본영상의 오브제 스타 일 변형정도를 선택하게 하며, 오브제 스타일 변형정도가 설정되면, 이에 따른 오브제 스타일 변형을 가진 원본 의 주 오브제 영상을 출력하며(즉, 임시 저장하며)(S321), 그후 사용자가 중간과정(선택함에 담기 또는 되돌아 가기)을 선택하기위한 중간과정 버튼의 선택여부를 판단하고(S322), 중간과정 버튼이 선택되었다면, 선택창 닫 기 버튼과 되돌아가기 버튼을 포함하는 중간과정 선택화면이 디스플레이되고, 만약 되돌아가기 버튼이 선택되면 주 오브제 스타일 선택단계로 되돌아가게 된다. 따라서, 다수개의 스타일로 변형된 다수개의 주 오브제 영상을 가질 수 있다. 도 3b의 주 오브제 스타일 변형단계에서는 사용자가 입력한 변형값에 따라 오브제 스타일이 변형하나, 도 4b의 주 오브제 스타일 변형단계에서는 초기 사용자가 입력한 변형값을 기준으로 자동 순차적인 오브제 스타일이 변 형된다. 주 오브제 최종 결과물 선택단계로, 주 오브제 스타일 변형단계에서 중간과정 버튼이 선택되지 않은 경우, 기저 장된 변형된 다수개의 주 오브제 영상 중, 최종 주 오브제 결과영상을 선택한다(S323). 마찮가지로, 배경 스타일 변형단계에서도, 사용자 단말은, 배경 스타일 선택 확인단계에서 확인된 배경 스 타일 영상에 따라 인공신경망을 이용하여 원본 영상의 배경 스타일을 변경하되, 사용자가 입력한 변형값을 읽어 들여 상기 변형값을 기준으로 순차적인 배경 스타일 변형정도를 변경하면서 사용자로 하여금 원본영상의 배경 스타일 변형정도를 선택하게 하며(S328), 배경 변형정도가 설정되면, 이에 따른 배경 스타일 변형을 가진 원본 의 배경 영상을 출력하며(즉, 임시 저장하며)(S331), 그후 중간과정 버튼의 선택여부를 판단하고(S332), 중간과 정 버튼이 선택되면, 선택창 닫기 버튼과 되돌아가기 버튼을 포함하는 중간과정 선택화면이 디스플레이되고, 만 약 되돌아가기 버튼이 선택되면 배경 스타일 선택단계로 되돌아가게 된다. 따라서, 다수개의 스타일로 변형된 다수개의 배경 영상을 가질 수 있다. 배경 최종 결과물 선택단계로, 배경 스타일 변형단계에서 중간과정 버튼이 선택되지 않은 경우, 기저장된 변형 된 다수개의 배경 영상 중, 최종 배경 결과영상을 선택한다(S334). 주 오브제와 배경의 병합단계에서는, 주 오브제 최종 결과물 선택단계에서 선택된 최종 주 오브제 결과영상와, 배경 최종 결과물 선택단계에서 선택된 최종 배경 결과영상을 병합하여, 스타일이 변형된 결과 영상을 출력한 다(즉, 임시 저장한다)(S335). 도 4b의 결과 영상 편집단계(S350, S361, S362), 결과영상출력단계(S363, S364, S365, S366), 커스텀 폴더 저 장 판단 단계(S367)는 도 3b와 동일하므로, 여기서 그 설명은 생략한다.스타일 전이 신경망에서 에너지 정규화 및 레이어 가중치의 기능 확장에 대해서 살펴보면, 2015년 말 Gatys 등 이 개발한 Gram Matrix 기반 스타일 변환 기법이 현재까지 개발된 다양한 변환 중 가장 높은 품질을 제공하는 것으로 알려져있다. 그러나, 이는 입력 영상의 해상도 및 영상의 종류에 따라 안정적 스타일 변환을 위한 초-매 개변수 (스타일 학습 관련) 설정이 어렵다. 또한, 영상 별 VGG-19 네트워크의 레이어 에너지 크기가 상이하고, 이에 따른 결과 영상 생성을 위한 수렴 특성이 달라지는 것을 발견되었다. 따라서, 본 발명은 아뜰리에(스타일 전이 신경망)에서 레이어 별 에너지를 계측하여, 수렴 시 정규화한 에너지 를 대상으로 하며, 수렴 결과의 다양성을 위해 레이어 에너지 비를 가중치에 적용 하였다. 본 발명의 아뜰리에에 있어서, 작가들의 스타일 변환 기능에 대한 추가 요청 사항을 수집, 활용성을 높이기 위 한 다양한 부가 기능, 예를들어, 영역 지정 기능, 변환 기능, 스타일 특성 지정 기능을 구비한다. 영역 지정 기능은, 지정된 영역의 스타일만 지정된 영역에 반영 (에너지 정규화 및 가중치 확장 반영)하며, 변 환 기능은, 오브제 또는 스타일의 색상 선택, 오일-필터 적용 여부 선택을 할 수 있게 하며, 스타일 특성 지정 은, 와셔슈타인(Wasserstein 또는 Wasserstein GAN) 측도 기반 스타일 전이 기능 추가 구현가능하다. 도 8은 본 발명의 아틀리에를 통한 작품 활동 행위 모델 구축 및 이를 통한 작가 스타일 자동 학습을 설명하기 위한 모식도이다. 본 발명의 아틀리에서는, 아틀리에 자체를 통한 작품 활동 행위 모델 구축하고, 이를 통해 작가 스타일 자동 학 습 행하도록 이루어진다. 즉, 본 발명의 인공지능(AI) 아틀리에의 사용 특성은, 스타일 전이 기능을 구비한 것으로, 다양한 전이 결과의 작품 활용은 작가 마다 다른 출력 영상을 선택하는 것으로 일반화되며, 색상, 영역 지정, 전이 정도의 선택을 활용한 반복적인 사용이 항상 입/출력 영상의 선택으로 모델화할 수 있다. 프로젝트/주제를 상위 개념으로 입/출력 영상의 선택을 스테이지(Stage)와 액션(Action)으로 모델화한다. 여기 서 입력 영상을 스테이지(Stage)로 하고, 출력 영상을 액션(Action)으로 한다. 본 발명의 아틀리에는 사용자별(작가별)로 행위모델을 만든다. 예를들어, 아틀리에는, 사계절을 프로젝트 또는 주제로 하고, 봄, 여름, 가을, 겨울을 프로젝트 내의 테마로 할 경우, 각 사용자가 아틀리에를 이용한 경우의 스테이지(Stage)와 액션(Action)을 쌍으로 한 데이터들을 테마별로 DB에 저장하여 행위모델이 생성된다. 추후 사용자가 아틀리에를 사용할 경우 이는 자동으로 업데이트 된다. 이와 같이 사용자별(작가별)로 행위모델이 만 들어지면, 사용자에게 맞는 스타일추천 네트워크가 자동 생성된다. 도 9는 본 발명의 작가 스타일 및 변형 스타일 추천에 있어서, 추론 네트워크의 임베딩 효과를 설명하기위한 모 식도이다. 본 발명의 작가 스타일 및 변형 스타일 추천에 있어서, 추론 네트워크의 임베딩 효과를 가지며, 또한, 임의 섭 동의 간섭을 통해 변형 추천의 우연성 도입하였다. 추론 네트워크의 임베딩 효과로, 주제(범주) 별 학습이 수행된 추론 네트워크의 매니폴드(manifold) 공간 특성 을 가지며, 발생 네트워크 발생기 전단 (잠재 층) 특징 벡터의 섭동을 통한 특징의 변형 (섭동 크기의 파라미터 화)을 가지며, 발생 네트워크 입력의 파라미터 계층 섭동을 통한 특징의 변형 (섭동 크기의 파라미터 화)을 가 진다. 이상에서는, 본 발명을 특정의 바람직한 실시예에 대해서 도시하고 설명하였지만 본 발명은 서술한 실시예에만 한정되는 것은 아니며, 본 발명이 속하는 기술 분야의 통상의 지식을 가진 자라면 다양하게 변경 실시할 수 있 을 것이다."}
{"patent_id": "10-2019-0163063", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 작가 스타일에 따른 영상 변형 시스템을 개략적으로 설명하기 위한 블럭도이다. 도 2a 및 도 2b는 본 발명의 일실시예에 의한 작가 스타일에 따른 영상 변형 시스템의 구동을 개략적으로 설명 하기 위한 흐름도이다. 도 3a 및 도 3b는 본 발명의 다른 일실시예에 의한 작가 스타일에 따른 영상 변형 시스템의 구동을 개략적으로 설명하기 위한 흐름도이다. 도 4a 및 도 4b는 본 발명의 또 다른 일실시예에 의한 작가 스타일에 따른 영상 변형 시스템의 구동을 개략적으 로 설명하기 위한 흐름도이다. 도 5는 도 2a. 도 3a, 도 4a의 추천단계를 설명하는 흐름도이다. 도 6은 본 발명에서 적용되는 스타일 전이 신경망의 구조를 설명하는 도면이다. 도 7은 본 발명의 영상-집합 기반 스타일 병합 AI 엔진의 기본 구조를 설명하기 위한 도면이다. 도 8은 본 발명의 아틀리에를 통한 작품 활동 행위 모델 구축 및 이를 통한 작가 스타일 자동 학습을 설명하기 위한 모식도이다. 도 9는 본 발명의 작가 스타일 및 변형 스타일 추천에 있어서, 추론 네트워크의 임베딩 효과를 설명하기위한 모 식도이다."}
