{"patent_id": "10-2020-0162944", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2021-0075007", "출원번호": "10-2020-0162944", "발명의 명칭": "인공지능 프로세서를 위한 캐시", "출원인": "한국전자통신연구원", "발명자": "한진호"}}
{"patent_id": "10-2020-0162944", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "제 1 데이터를 제 1 프로세서로 전송하고, 상기 제 1 프로세서로부터 제 2 데이터를 제공받는 데이터플로우 컨트롤러;외부 메모리로부터 상기 제 1 데이터를 제공받아 상기 데이터플로우 컨트롤러로 전송하고, 상기 데이터플로우컨트롤러로부터 상기 제 2 데이터를 제공받아 상기 외부 메모리로 전송하는 외부 DMA(direct memory access) 컨트롤러;상기 데이터플로우 컨트롤러 및 상기 외부 DMA 컨트롤러 사이에서 전송되는 상기 제 1 데이터 또는 상기 제 2데이터를 저장하는 스크래치패드 메모리;상기 스크래치패드 메모리로부터 상기 외부 메모리로 전송될 데이터를 압축하고, 상기 외부 메모리로부터 상기스크래치패드 메모리로 전송된 데이터를 압축 해제하는 압축/압축 해제 장치; 및상기 데이터플로우 컨트롤러 및 상기 외부 DMA 컨트롤러 사이의 데이터 전송과 관련된 전송 상태 정보를 저장하는 전송 상태 버퍼를 포함하는 캐시."}
{"patent_id": "10-2020-0162944", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서,상기 스크래치패드 메모리는 전처리 또는 후처리가 필요한 데이터를 상기 외부 메모리로부터 제 2 프로세서로전송하고, 상기 제 2 프로세서로부터 전처리된 데이터 또는 후처리된 데이터를 제공받는 캐시."}
{"patent_id": "10-2020-0162944", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1 항에 있어서,상기 제 1 데이터는 특징(feature) 데이터 또는 커널(kernel) 데이터이고, 상기 제 2 데이터는 상기 제 1 프로세서에 의해 수행된 연산의 결과인 캐시."}
{"patent_id": "10-2020-0162944", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 1 항에 있어서,상기 전송 상태 버퍼는 제 1 정보 및 제 2 정보를 저장하되,상기 제 1 정보는 상기 데이터플로우 컨트롤러가 상기 스크래치패드 메모리에 쓸 데이터의 양, 상기 데이터플로우 컨트롤러가 상기 스크래치패드 메모리에 데이터를 쓸 제 1 쓰기 주소를 나타내고,상기 제 2 정보는 상기 외부 DMA 컨트롤러가 상기 스크래치패드 메모리에 쓸 데이터의 양, 상기 외부 DMA 컨트롤러가 상기 스크래치패드 메모리에 데이터를 쓸 제 2 쓰기 주소를 나타내는 캐시."}
{"patent_id": "10-2020-0162944", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 4 항에 있어서,상기 제 1 정보는 상기 외부 DMA 컨트롤러가 상기 스크래치패드 메모리로부터 읽을 데이터의 양, 및 상기 외부DMA 컨트롤러가 상기 스크래치패드 메모리로부터 데이터를 읽을 제 1 읽기 주소를 나타내고,상기 제 2 정보는 상기 데이터플로우 컨트롤러가 상기 스크래치패드 메모리로부터 읽을 데이터의 양, 및 상기데이터플로우 컨트롤러가 상기 스크래치패드 메모리로부터 데이터를 읽을 제 2 읽기 주소를 나타내는 캐시."}
{"patent_id": "10-2020-0162944", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 5 항에 있어서,공개특허 10-2021-0075007-3-상기 데이터플로우 컨트롤러는 상기 외부 DMA 컨트롤러로 전송할 데이터를 상기 스크래치패드 메모리의 상기 제1 쓰기 주소에 쓰고, 상기 스크래치패드 메모리의 상기 제 2 읽기 주소로부터 상기 외부 DMA 컨트롤러로부터 제공받은 데이터를 읽고,상기 외부 DMA 컨트롤러는 상기 데이터플로우 컨트롤러로 전송할 데이터를 상기 스크래치패드 메모리의 상기 제2 쓰기 주소에 쓰고, 상기 스크래치패드 메모리의 상기 제 1 읽기 주소로부터 상기 데이터플로우 컨트롤러로부터 제공받은 데이터를 읽는 캐시."}
{"patent_id": "10-2020-0162944", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제 1 항에 있어서,상기 스크래치패드 메모리는 복수의 메모리들을 포함하고,상기 복수의 메모리들 각각에 순서대로 데이터가 저장되는 캐시."}
{"patent_id": "10-2020-0162944", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 7 항에 있어서,상기 스크래치패드 메모리는 상기 데이터가 저장된 순서에 따라 데이터 읽기 동작을 수행하는 캐시."}
{"patent_id": "10-2020-0162944", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 7 항에 있어서,상기 스크래치패드 메모리는 상기 데이터가 저장된 순서에 관계없이 데이터 읽기 동작을 수행하는 캐시."}
{"patent_id": "10-2020-0162944", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제 2 항에 있어서,상기 제 1 프로세서는 중앙 처리 장치(CPU), 그래픽 처리 장치(GPU), 신경망 처리 장치(NPU), 가속 처리 장치(APU), 또는 텐서 처리 장치(TPU) 중 적어도 하나를 포함하고, 그리고상기 제 2 프로세서는 범용 프로세서인 캐시."}
{"patent_id": "10-2020-0162944", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 개시의 실시 예에 따른 캐시는 제 1 데이터를 제 1 프로세서로 전송하고, 상기 제 1 프로세서로부터 제 2 데 이터를 제공받는 데이터플로우 컨트롤러, 외부 메모리로부터 상기 제 1 데이터를 제공받아 상기 데이터플로우 컨 트롤러로 전송하고, 상기 데이터플로우 컨트롤러로부터 상기 제 2 데이터를 제공받아 상기 외부 메모리로 전송하 는 외부 DMA(direct memory access) 컨트롤러, 상기 데이터플로우 컨트롤러 및 상기 외부 DMA 컨트롤러 사이에 서 전송되는 상기 제 1 데이터 또는 상기 제 2 데이터를 저장하는 스크래치패드 메모리, 상기 스크래치패드 메모 리로부터 상기 외부 메모리로 전송될 데이터를 압축하고, 상기 외부 메모리로부터 상기 스크래치패드 메모리로 전송된 데이터를 압축 해제하는 압축/압축 해제 장치, 및 상기 데이터플로우 컨트롤러 및 상기 외부 DMA 컨트롤 러 사이의 데이터 전송과 관련된 전송 상태 정보를 저장하는 전송 상태 버퍼를 포함한다."}
{"patent_id": "10-2020-0162944", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 개시는 캐시에 관한 것으로, 좀 더 상세하게는 인공지능 프로세서를 위한 캐시에 관한 것이다."}
{"patent_id": "10-2020-0162944", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "인공지능 프로세서는 인공지능 알고리즘을 처리하기 위한 프로세서이다. 인공지능 알고리즘은 특정한 네트워크 구조에 기반하여 특징(feature) 데이터 및 커널(kernel) 데이터에 대한 연산을 수행하는 알고리즘으로, 데이터 의 양이 많기 때문에 연산을 가속하기 위한 하드웨어로서 인공지능 프로세서가 개발된다. 특징 데이터 및 커널 데이터의 양뿐만 아니라, 연산 중간 결과인 출력 특징(output feature) 데이터의 양 또한 많기 때문에 인공지능 프로세서 내부의 저장장치에만 데이터를 저장하기는 어렵고, 데이터를 외부 메모리에 저장을 하는 경우가 빈번 하다. 따라서 큰 용량의 외부 메모리가 요구되며, 외부 메모리를 읽고 쓰는 속도도 빨라야 한다. 그러나 외부 메모리를 읽고 쓰는 속도는 한정되어 있기 때문에 외부 메모리를 읽고 쓰는 횟수를 줄이는 기능이 요구되고 있 다."}
{"patent_id": "10-2020-0162944", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 개시는 인공지능 알고리즘의 연산 대상이 되는 특징 데이터 및 커널 데이터를 압축하여 외부 메모리에 저장 하고, 외부 메모리를 읽고 쓰는 횟수를 줄일 수 있는 인공지능 프로세서를 위한 캐시를 제공한다."}
{"patent_id": "10-2020-0162944", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 개시의 실시 예에 따른 캐시는 제 1 데이터를 제 1 프로세서로 전송하고, 상기 제 1 프로세서로부터 제 2 데 이터를 제공받는 데이터플로우 컨트롤러, 외부 메모리로부터 상기 제 1 데이터를 제공받아 상기 데이터플로우 컨트롤러로 전송하고, 상기 데이터플로우 컨트롤러로부터 상기 제 2 데이터를 제공받아 상기 외부 메모리로 전 송하는 외부 DMA(direct memory access) 컨트롤러, 상기 데이터플로우 컨트롤러 및 상기 외부 DMA 컨트롤러 사 이에서 전송되는 상기 제 1 데이터 또는 상기 제 2 데이터를 저장하는 스크래치패드 메모리, 상기 스크래치패드 메모리로부터 상기 외부 메모리로 전송될 데이터를 압축하고, 상기 외부 메모리로부터 상기 스크래치패드 메모 리로 전송된 데이터를 압축 해제하는 압축/압축 해제 장치, 및 상기 데이터플로우 컨트롤러 및 상기 외부 DMA 컨트롤러 사이의 데이터 전송과 관련된 전송 상태 정보를 저장하는 전송 상태 버퍼를 포함한다."}
{"patent_id": "10-2020-0162944", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 개시의 실시 예에 따르면 인공지능 프로세서에서 특징 데이터 및 커널 데이터의 재배치를 위해 외부 메모리 에 접근하는 횟수를 줄일 수 있다."}
{"patent_id": "10-2020-0162944", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "아래에서는, 본 개시의 기술 분야에서 통상의 지식을 가진 자가 본 개시를 쉽게 실시할 수 있을 정도로, 본 개 시의 실시 예들이 명확하고 상세하게 기재될 것이다. 상세한 설명에서 사용되는 부 또는 유닛(unit), 모듈(module), 블록(block), ~기(~or, ~er) 등의 용어들을 참 조하여 설명되는 구성 요소들 및 도면에 도시된 기능 블록들은 소프트웨어, 또는 하드웨어, 또는 그것들의 조합 의 형태로 구현될 수 있다. 예시적으로, 소프트웨어는 기계 코드, 펌웨어, 임베디드 코드, 및 애플리케이션 소 프트웨어일 수 있다. 예를 들어, 하드웨어는 전기 회로, 전자 회로, 프로세서, 컴퓨터, 집적 회로, 집적 회로 코어들, 압력 센서, 관성 센서, 멤즈 (microelectromechanical system; MEMS), 수동 소자, 또는 그것들의 조합 을 포함할 수 있다. 도 1은 본 개시의 실시 예에 따른 인공지능 프로세서를 위한 캐시를 포함하는 시스템의 예시적인 구성을 나타낸다. 시스템은 특징(feature) 데이터 및 커널(kernel) 데이터에 대해 인공지능(artificial intelligence; AI) 알고리즘에 기반한 연산을 수행하고, AI 알고리즘의 연산 결과를 출력할 수 있다. 또한, 시 스템은 AI 알고리즘에 기반한 연산을 가속하고, 연산의 효율을 높이기 위해 특징 데이터 및 커널 데이터를 압축 또는 재배치할 수 있다. 시스템은 AI 프로세서, 범용(General purpose) 프로세서, 캐시, 및 메모리 컨트롤러(14 0)를 포함할 수 있다. 또한, 시스템은 AI 알고리즘과 관련된 데이터를 저장하기 위해 하나 이상의 외부 메 모리를 더 포함할 수 있다. 단, 도시의 간략화를 위해 외부 메모리의 도시는 생략하였다. AI 프로세서는 특정한 네트워크(즉, 신경망) 구조에 기반하여 특징 데이터 및 커널 데이터에 대한 연산을 수행하는 AI 알고리즘을 처리할 수 있다. 예를 들어, AI 알고리즘은 기계 학습을 수행하는 합성곱 신경망 (convolution neural network; CNN), 순환 신경망(recurrent neural network; RNN), 또는 생성적 적대 신경망 (generative adversarial network; GAN) 중 적어도 하나일 수 있으나, 본 개시는 이에 한정되지 않는다. AI 프로세서는 AI 알고리즘에 따라 처리해야 할 데이터 또는 처리된 데이터를 캐시에 저장할 수 있다. 또한, AI 프로세서는 캐시를 통해 메모리 컨트롤러로 데이터를 전송할 수 있고, 메모리 컨트롤러로부터 캐시를 통해 데이터를 수신할 수 있다. 예를 들어, AI 프로세서는 중앙 처리 장 치(CPU), 그래픽 처리 장치(GPU), 신경망 처리 장치(NPU), 가속 처리 장치(APU), 또는 텐서 처리 장치(TPU) 등 과 같은 프로세싱 유닛 중 적어도 하나를 포함할 수 있으나, 본 개시는 이에 한정되지 않는다. 범용 프로세서는 AI 프로세서에 의한 처리 대상이 되는 데이터에 대한 전처리(pre-processing) 및 AI 프로세서에 의한 연산 결과에 대한 후처리(post-processing)를 수행할 수 있다. 구체적으로, 범용 프로세 서는 특징 데이터 및 커널 데이터에 대한 전처리를 수행함으로써 외부로부터 수신된 데이터를 AI 프로세서 가 처리하기에 적합한 형식을 갖는 데이터로 변환할 수 있다. 예를 들어, 데이터에 대한 전처리는 누락된 및/또는 불필요한 특징 데이터를 제거하는 것, 문자로 된 특징 데이터를 숫자 형식으로 변환하는 것, 숫자 형식 으로 변환된 특징 데이터의 범위를 조절하는 것, 초기 가중치(weight) 값을 설정하는 것 등을 포함할 수 있다. 또한, 범용 프로세서는 AI 프로세서에 의한 연산 결과에 대한 후처리를 수행함으로써 연산 결과에 포 함된 오류를 정정할 수 있거나, 연산 결과의 최종 품질을 향상시킬 수 있다. 범용 프로세서는 캐시로 부터 AI 프로세서에 의해 처리된 데이터를 제공받을 수 있고, 외부로부터 수신된 데이터에 대한 전처리 결 과 또는 AI 프로세서에 의해 처리된 데이터에 대한 후처리 결과를 캐시에 저장할 수 있다. 예를 들어, 범용 프로세서는 중앙 처리 장치(CPU), 그래픽 처리 장치(GPU), 또는 데이터 처리 장치(DPU) 등과 같은 범용 프로세싱 유닛 중 적어도 하나를 포함할 수 있으나, 본 개시는 이에 한정되지 않는다. 캐시는 AI 프로세서 또는 범용 프로세서에서 처리하는 데이터 및 AI 프로세서 또는 범용 프로세서의 연산 수행 결과를 저장할 수 있다. 또한 캐시는 메모리 컨트롤러를 통해 외부 메모 리로부터 데이터를 읽어 들일 수 있고, 읽어 들인 데이터를 AI 프로세서 또는 범용 프로세서로 전송 할 수 있다. 캐시는 데이터플로우 컨트롤러, 스크래치패드 메모리(shared scratchpad memory), AI 외부 DMA(direct memory access) 컨트롤러, 압축/압축 해제 장치, 및 전송 상태 버퍼를 포 함할 수 있다. 데이터플로우 컨트롤러는 AI 프로세서가 필요로 하는 데이터(예를 들어, 특징 데이터 및 커널 데이터)를 AI 프로세서로 전송할 수 있고, AI 프로세서의 연산 수행 결과(예를 들어, 출력 특징 데이 터)를 스크래치패드 메모리를 통해 외부 메모리로 전송할 수 있다. 구체적으로, 데이터플로우 컨트롤러는 AI 프로세서 및 스크래치패드 메모리와 연결될 수 있고, AI 프로세서의 연산 수행 결과를 스크래치패드 메모리로 전송할 수 있다. 또한, 데이터플로우 컨트롤 러는 AI 프로세서에서 처리해야 할 데이터를 스크래치패드 메모리로부터 제공받을 수 있다. 데 이터플로우 컨트롤러 및 스크래치패드 메모리 사이의 데이터 교환은 전송 상태 버퍼가 저장하고 있는 전송 상태(transfer state) 정보에 기반하여 수행될 수 있다. 스크래치패드 메모리는 데이터플로우 컨트롤러 및 외부 DMA 컨트롤러 사이에서 교환될 수 있는 데이터를 저장할 수 있다. 구체적으로, 스크래치패드 메모리는 AI 프로세서에 의해 처리될 특징 데이 터 및 커널 데이터를 저장할 수 있다. 또한, 스크래치패드 메모리는 AI 프로세서의 연산 결과를 저장 할 수 있다. 스크래치패드 메모리가 저장하고 있는 데이터는 외부 DMA 컨트롤러를 통해 메모리 컨트 롤러로 제공될 수 있거나, 또는 데이터플로우 컨트롤러를 통해 AI 프로세서로 제공될 수 있다. 나아가, 스크래치패드 메모리는 범용 프로세서와 데이터를 교환할 수도 있다. 범용 프로세서는 전처리된 데이터 또는 후처리된 데이터를 스크래치패드 메모리에 저장할 수 있고, 스크래치패드 메모리 는 전처리 또는 후처리가 요구되는 데이터를 범용 프로세서로 전송할 수 있다. 예를 들어, 스크래치 패드 메모리는 SRAM들이 집적된 온칩 메모리로서 구현될 수 있다. 외부 DMA 컨트롤러는 DMA 방식을 이용하여 메모리 컨트롤러를 통해 외부 메모리에 접근할 수 있다. 구체적으로, 외부 DMA 컨트롤러는 AI 프로세서의 동작과 독립적으로 AI 프로세서가 필요로 하는 데이터를 외부 메모리로부터 제공받을 수 있고, 제공받은 데이터를 스크래치패드 메모리로 전송할 수 있다. 이로써, AI 프로세서는 AI 알고리즘을 처리하는 동시에 필요로 하는 데이터를 제공받을 수 있으므로 AI 알 고리즘 처리의 효율성이 높아질 수 있다. 스크래치패드 메모리 및 외부 DMA 컨트롤러 사이의 데이터 교환은 전송 상태 버퍼가 저장하고 있는 전송 상태 정보에 기반하여 수행될 수 있다. 압축/압축 해제 장치는 메모리 컨트롤러로부터 제공되는 데이터의 압축을 해제하거나, 또는 메모리 컨트롤러로 제공되는 데이터를 압축할 수 있다. 구체적으로, 압축/압축 해제 장치는 AI 프로세서 가 처리해야 할 특징 데이터 및 커널 데이터를 압축할 수 있고, 압축된 특징 데이터 및 커널 데이터를 메 모리 컨트롤러로 전송할 수 있다. 또한, 압축/압축 해제 장치는 압축된 특징 데이터 및 커널 데이터 중 AI 프로세서가 필요로 하는 데이터를 메모리 컨트롤러로부터 제공받아 압축을 해제할 수 있다. 전송 상태 버퍼는 데이터플로우 컨트롤러 및 외부 DMA 컨트롤러 사이의 데이터 교환과 관련된 전송 상태 정보를 저장할 수 있다. 구체적으로, 전송 상태 버퍼는 데이터플로우 컨트롤러와 스크래치 패드 메모리 사이의 데이터 전송 및 외부 DMA 컨트롤러와 스크래치패드 메모리 사이의 데이터 전송과 관련된 전송 상태 정보를 저장할 수 있다. 전송 상태 정보에 대해서는 도 3을 참조하여 더 상세히 설명 된다. 메모리 컨트롤러는 외부 메모리를 제어할 수 있다. 예를 들어, 메모리 컨트롤러는 외부 메모리를 제 어하여 외부 메모리로부터 AI 프로세서가 필요로 하는 특징 데이터 및 커널 데이터를 제공받을 수 있다. 또한, 메모리 컨트롤러는 외부 메모리를 제어하여 특징 데이터 및 커널 데이터, 그리고 AI 프로세서 의 연산 결과를 외부 메모리에 저장할 수 있다. 도 2는 본 개시의 실시 예에 따른 인공지능 프로세서를 위한 캐시를 포함하는 시스템의 예시적인 구성을 나타낸다. 특히, 도 2는 도 1에 나타난 시스템이 복수의 외부 메모리들을 포함하는 경우를 도시한다. 복수 의 외부 메모리들을 제어하기 위해, 도 2의 시스템은 복수의 메모리 컨트롤러들(140_1 내지 140_4)을 포함 할 수 있다. 또한, 도 2의 캐시는 복수의 메모리 컨트롤러들(140_1 내지 140_4)과 데이터를 교환하기 위해 복수의 스크 래치패드 메모리들(132_1 내지 132_4), 복수의 외부 DMA 컨트롤러들(133_1 내지 133_4), 및 복수의 압축/압축 해제 장치들(134_1 내지 134_4)를 포함할 수 있다. 예시적으로, 도 2의 시스템은 각각 4개의 스크래치패드 메모리들(132_1 내지 132_4), 4개의 외부 DMA 컨트 롤러들(133_1 내지 133_4), 4개의 압축/압축 해제 장치들(134_1 내지 134_4), 및 4개의 메모리 컨트롤러들 (140_1 내지 140_4)을 포함하는 것으로 도시되어 있다. 그러나 본 개시는 이에 한정되지 않으며, 시스템은 각각 도 2에 나타난 것과 다른 개수의 스크래치패드 메모리들, 외부 DMA 컨트롤러들, 압축/압축 해제 장치들, 및 메모리 컨트롤러들을 포함할 수 있다. 나아가, 도 2의 스크래치패드 메모리(134_4)는 AI 프로세서뿐만 아니라 범용 프로세서와도 데이터를 교환하는 것으로 도시된다. 이 경우, 범용 프로세서에 의해 전처리된 데이터 또는 후처리된 데이터는 스크 래치패드 메모리(134_4)에만 저장될 수 있고, 외부 메모리로는 전송되지 않을 수 있으나, 본 개시는 이에 한정 되지 않는다. 도 3은 본 개시의 실시 예에 따른 인공지능 프로세서를 위한 캐시의 예시적인 동작을 나타낸다. 예를 들어, 캐시는 도 1의 캐시일 수 있다. 도 1을 참조하여 설명한 바와 마찬가지로, 캐시는 데이터 플로우 컨트롤러, 스크래치패드 메모리, 외부 DMA 컨트롤러, 압축/압축 해제 장치, 및 전 송 상태 버퍼를 포함할 수 있다. 상술한 바와 같이, 스크래치패드 메모리는 SRAM들이 집적된 온칩 메모리로 구현될 수 있다. 도 3에 나타난 바와 같이, 스크래치패드 메모리는 예시적으로 32개의 메모리들(220_1 내지 220_32)을 포함할 수 있다. 예 를 들어, 32개의 메모리들(220_1 내지 220_32) 각각은 1024비트의 데이터를 저장할 수 있다. 데이터플로우 컨트롤러 및 외부 DMA 컨트롤러는 전송 상태 버퍼가 저장하고 있는 전송 상태 정 보에 기반하여, 스크래치패드 메모리를 통해 데이터를 교환할 수 있다. 예를 들어, 전송 상태 버퍼는 데이터플로우 컨트롤러 전송 상태 정보(이하 제 1 정보라고 지칭함) 및 외부 DMA 컨트롤러 전송 상태 정보(이하 제 2 정보라고 지칭함)를 포함할 수 있다. 예시적으로, 제 1 정보는 데이터플로우 컨트롤러가 스크래치패드 메모리에 데이터를 얼마나 쓸 것인 지, 및 외부 DMA 컨트롤러가 데이터플로우 컨트롤러에 의해 쓰인 데이터를 얼마나 읽을 것인지를 나 타낼 수 있다. 제 2 정보는 외부 DMA 컨트롤러가 스크래치패드 메모리에 데이터를 얼마나 쓸 것인지, 및 데이터플로우 컨트롤러가 외부 DMA 컨트롤러에 의해 쓰인 데이터를 얼마나 읽을 것인지를 나타낼 수 있다. 또한, 제 1 정보 및 제 2 정보는 데이터가 마지막으로 쓰인 지점의 주소 및 데이터가 마지막으로 읽힌 지점의 주소를 나타낼 수 있다. 즉, 제 1 정보는 데이터플로우 컨트롤러가 스크래치패드 메모리에 데이터를 쓰기 시작할 주소(이하, 제 1 쓰기 주소라고 지칭함) 및 외부 DMA 컨트롤러가 스크래치패드 메모리로 부터 데이터를 읽기 시작할 주소(이하, 제 1 읽기 주소라고 지칭함)를 나타낼 수 있다. 그리고, 제 2 정보는 외 부 DMA 컨트롤러가 스크래치패드 메모리에 데이터를 쓰기 시작할 주소(이하, 제 2 쓰기 주소라고 지 칭함) 및 데이터플로우 컨트롤러가 스크래치패드 메모리로부터 데이터를 읽기 시작할 주소(이하, 제 2 읽기 주소라고 지칭함)를 나타낼 수 있다. 따라서, 데이터플로우 컨트롤러는 제 1 정보에 기반하여 외부 DMA 컨트롤러로 전송할 데이터를 스크 래치패드 메모리의 제 1 쓰기 주소에 쓸 수 있다. 그리고, 외부 DMA 컨트롤러는 제 1 정보에 기반하 여 데이터플로우 컨트롤러에 의해 스크래치패드 메모리의 제 1 읽기 주소로부터 데이터를 읽을 수 있 다. 또한, 외부 DMA 컨트롤러는 제 2 정보에 기반하여 데이터플로우 컨트롤러로 전송할 데이터를 스크래 치패드 메모리의 제 2 쓰기 주소에 쓸 수 있다. 그리고, 데이터플로우 컨트롤러는 제 2 정보에 기반 하여 스크래치패드 메모리의 제 2 읽기 주소로부터 데이터를 읽을 수 있다. 이로써, 데이터의 읽기 및 쓰 기 동작이 끊김 없이 수행될 수 있다. 이하 도 4 내지 도 5를 참조하여 스크래치패드 메모리의 데이터 읽기 및 쓰기 동작을 설명한다. 도 4는 스 크래치패드 메모리의 동작 중 일반 모드(normal mode)를 나타내며, 도 5는 스크래치패드 메모리의 동작 중 전치 모드(transpose mode)를 나타낸다. 도 3에 나타난 바와 같이, 스크래치패드 메모리는 복수의 메모리들(220_1 내지 220_32)을 포함할 수 있다. 명확한 설명을 위해, 복수의 메모리들(220_1 내지 220_32) 각각은 1024비트의 데이터를 저장할 수 있는 것으로 가정한다. 그리고, 데이터플로우 컨트롤러 또는 외부 DMA 컨트롤러는 한 번에 1024비트의 데이터를 스크래치패드 메모리에 쓰거나, 스크래치패드 메모리로부터 읽을 수 있는 것으로 가정한다. 스크래치패드 메모리의 데이터 쓰기 동작은 일반 모드인 경우와 전치 모드인 경우 모두 동일할 수 있다. 데이터플로우 컨트롤러 또는 외부 DMA 컨트롤러는 제 1 메모리(220_1)부터 제 32 메모리(220_32)까지 순서대로 각각 1024비트의 데이터를 쓸 수 있다. 따라서 도 4 내지 도 5에 나타난 바와 같이, 메모리들(220_1 내지 220_32)은 각각 1024비트의 데이터를 저장할 수 있다. 한편, 스크래치패드 메모리의 데이터 읽기 동작은 일반 모드인 경우와 전치 모드인 경우가 서로 다를 수 있다. 도 4에 나타난 일반 모드의 경우, 메모리들(220_1 내지 220_32)에 데이터가 저장된 순서대로 읽기 동작이 수행될 수 있다. 즉, 1024비트 단위로 데이터 읽기 동작이 수행될 때 도 4의 빗금으로 나타난 부분과 같이 제 1 메모리(220_1)에 저장된 1024비트의 데이터에 대해 먼저 읽기 동작이 수행될 수 있고, 나머지 각 메모리들의 데이터에 대해 순서대로 읽기 동작이 수행될 수 있다. 따라서, AI 알고리즘이 요구하는 임의의 순서에 따라 데 이터 읽기 동작이 수행되는 것이 불가능할 수 있다. 반면 도 5에 나타난 전치 모드의 경우, 데이터가 저장된 순서와 무관하게 읽기 동작이 수행될 수 있다. 즉, 1024비트 단위로 데이터 읽기 동작이 수행될 때 하나의 메모리에 저장된 1024비트의 데이터 전체에 대해 읽기 동작이 수행되는 것이 아니라, 도 5의 빗금으로 나타난 부분과 같이 각 메모리들(220_1 내지 220_32)에 대해 32 비트 단위로 읽기 동작이 수행될 수 있다. 따라서, AI 알고리즘이 요구하는 임의의 순서에 따라 데이터 읽기 동 작이 수행될 수 있다. 다시 말해, 스크래치패드 메모리가 전치 모드로 동작하는 경우, 데이터플로우 컨트롤러 또는 외부 DMA 컨트롤러는 데이터가 저장된 순서에 관계 없이 각 메모리들(220_1 내지 220_32)로부터 요구되는 데이 터를 읽을 수 있다. 따라서, 본 개시의 스크래치패드 메모리가 전치 모드로 동작하는 경우, 외부 메모리 및 내부 메모리에 대한 접근 횟수가 줄어들 수 있다. 상술된 내용은 본 개시를 실시하기 위한 구체적인 실시 예들이다. 본 개시는 상술된 실시 예들뿐만 아니라, 단 순하게 설계 변경되거나 용이하게 변경할 수 있는 실시 예들 또한 포함할 것이다. 또한, 본 개시는 실시 예들을 이용하여 용이하게 변형하여 실시할 수 있는 기술들도 포함될 것이다. 따라서, 본 개시의 범위는 상술된 실시 예들에 국한되어 정해져서는 안되며 후술하는 특허청구범위뿐만 아니라 이 발명의 특허청구범위와 균등한 것들 에 의해 정해져야 할 것이다. 부호의 설명110: AI 프로세서 120: 범용 프로세서 130: 캐시 131: 데이터플로우 컨트롤러 132: 스크래치패드 메모리 133: 외부 DMA 컨트롤러 134: 압축/압축 해제 장치 135: 전송 상태 버퍼 140: 메모리 컨트롤러"}
{"patent_id": "10-2020-0162944", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 개시의 실시 예에 따른 인공지능 프로세서를 위한 캐시를 포함하는 시스템의 예시적인 구성을 나타낸 다. 도 2는 본 개시의 실시 예에 따른 인공지능 프로세서를 위한 캐시를 포함하는 시스템의 예시적인 구성을 나타낸 다. 도 3은 본 개시의 실시 예에 따른 인공지능 프로세서를 위한 캐시의 예시적인 동작을 나타낸다. 도 4는 스크래치패드 메모리의 동작 중 일반 모드를 나타낸다. 도 5는 스크래치패드 메모리의 동작 중 전치 모드를 나타낸다."}
