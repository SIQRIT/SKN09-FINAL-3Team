{"patent_id": "10-2023-0045980", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0150098", "출원번호": "10-2023-0045980", "발명의 명칭": "동물 애니메이터 장치 및 동물 오브젝트를 애니메이션 하는 방법", "출원인": "주식회사 에이투마인드", "발명자": "박용운"}}
{"patent_id": "10-2023-0045980", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "동물 오브젝트를 대상 공간에 배치하는 오브젝트 배치부;상기 동물 오브젝트의 동작에 영향을 미칠 조건을 설정하는 조건 설정부;상기 설정된 조건을 적용하여 상기 동물 오브젝트의 애니메이션을 제어하는 애니메이션 제어부; 및상기 동물 오브젝트의 애니메이션을 기록하는 데이터 생성부를 포함하는, 동물 애니메이터 장치."}
{"patent_id": "10-2023-0045980", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 조건 설정부는 상기 배치할 동물 오브젝트의 상태 변수를 상기 조건으로 설정하는, 동물 애니메이터 장치."}
{"patent_id": "10-2023-0045980", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 상태 변수는 상기 동물의 허기, 갈증, 위협, 피로, 감정 중 어느 하나 이상에 대한 값을 포함하는, 동물애니메이터 장치."}
{"patent_id": "10-2023-0045980", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 조건 설정부는 상기 대상 공간의 환경 변수를 상기 조건으로 설정하는, 동물 애니메이터 장치."}
{"patent_id": "10-2023-0045980", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서,상기 환경 변수는 상기 동물의 먹이, 물, 안식처, 목초, 위험 중 어느 하나 이상에 대한 값을 포함하는, 동물애니메이터 장치."}
{"patent_id": "10-2023-0045980", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에 있어서,상기 애니메이션 제어부는 상기 조건에 기반하여 상기 동물 오브젝트의 상태 머신을 적용하여 애니메이션을 수행하는, 동물 애니메이터 장치."}
{"patent_id": "10-2023-0045980", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제1항에 있어서,상기 애니메이션 제어부는 상기 동물 오브젝트가 배치된 지형이나 상기 동물 오브젝트의 주변에 배치된 사물 및역운동학(Inverse Kinematics)을 적용하여 상기 동물 오브젝트의 동작을 제어하는, 동물 애니메이터 장치."}
{"patent_id": "10-2023-0045980", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제1항에 있어서,상기 데이터 생성부는 상기 동물 오브젝트를 관측하는 관측점의 고각 또는 방위각을 변경하여 데이터를 기록하는, 동물 애니메이터 장치."}
{"patent_id": "10-2023-0045980", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "공개특허 10-2024-0150098-3-동물 애니메이터 장치의 오브젝트 배치부가 동물 오브젝트를 대상 공간에 배치하는 단계;상기 동물 애니메이터 장치의 조건 설정부가 상기 동물 오브젝트의 동작에 영향을 미칠 조건을 설정하는 단계;상기 동물 애니메이터 장치의 애니메이션 제어부가 상기 설정된 조건을 적용하여 상기 동물 오브젝트의 애니메이션을 제어하는 단계; 및상기 동물 애니메이터 장치의 데이터 생성부가 상기 동물 오브젝트의 애니메이션을 기록하는 단계를 포함하는,동물 오브젝트를 애니메이션 하는 방법."}
{"patent_id": "10-2023-0045980", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서,상기 조건을 설정하는 단계는상기 조건 설정부가 상기 배치할 동물 오브젝트의 상태 변수를 상기 조건으로 설정하는 단계를 포함하는, 동물오브젝트를 애니메이션 하는 방법."}
{"patent_id": "10-2023-0045980", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제10항에 있어서,상기 상태 변수는 상기 동물의 허기, 갈증, 위협, 피로, 감정 중 어느 하나 이상에 대한 값을 포함하는, 동물오브젝트를 애니메이션 하는 방법."}
{"patent_id": "10-2023-0045980", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제9항에 있어서,상기 조건을 설정하는 단계는상기 조건 설정부가 상기 대상 공간의 환경 변수를 상기 조건으로 설정하는 단계를 포함하는, 동물 오브젝트를애니메이션 하는 방법."}
{"patent_id": "10-2023-0045980", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제12항에 있어서,상기 환경 변수는 상기 동물의 먹이, 물, 안식처, 목초, 위험 중 어느 하나 이상에 대한 값을 포함하는, 동물오브젝트를 애니메이션 하는 방법."}
{"patent_id": "10-2023-0045980", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제9항에 있어서,상기 애니메이션을 제어하는 단계는상기 애니메이션 제어부가 상기 조건에 기반하여 상기 동물 오브젝트의 상태 머신을 적용하여 애니메이션을 수행하는 단계를 포함하는, 동물 오브젝트를 애니메이션 하는 방법."}
{"patent_id": "10-2023-0045980", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제9항에 있어서,상기 애니메이션을 제어하는 단계는상기 애니메이션 제어부가 상기 동물 오브젝트가 배치된 지형이나 상기 동물 오브젝트의 주변에 배치된 사물 및역운동학(Inverse Kinematics)을 적용하여 상기 동물 오브젝트의 동작을 제어하는 단계를 포함하는, 동물 오브젝트를 애니메이션 하는 방법."}
{"patent_id": "10-2023-0045980", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제9항에 있어서,공개특허 10-2024-0150098-4-상기 기록하는 단계는상기 데이터 생성부가 상기 동물 오브젝트를 관측하는 관측점의 고각 또는 방위각을 변경하여 데이터를 기록하는 단계를 포함하는, 동물 오브젝트를 애니메이션 하는 방법."}
{"patent_id": "10-2023-0045980", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 동물 애니메이터 장치 및 동물 오브젝트를 애니메이션 하는 방법에 관한 것으로 본 발명의 일 실시예 에 의한 동물 애니메이터 장치는 동물 오브젝트를 대상 공간에 배치하는 오브젝트 배치부와 동물 오브젝트의 동 작에 영향을 미칠 조건을 설정하는 조건 설정부와 설정된 조건을 적용하여 동물 오브젝트의 애니메이션을 제어하 는 애니메이션 제어부와 동물 오브젝트의 애니메이션을 기록하는 데이터 생성부를 포함한다."}
{"patent_id": "10-2023-0045980", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 동물 애니메이터 장치 및 동물 오브젝트를 애니메이션 하는 방법에 관한 것이다."}
{"patent_id": "10-2023-0045980", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "인공지능 학습을 위한 가상 데이터셋 생성의 필요성이 대두되고 있다. 가상 데이터셋은 현실에 근접하거나 현실 의 오브젝트와 동일한 데이터들을 포함하는 것이 인공지능 학습의 정확도를 향상시킬 수 있다. 그러나 대부분의 가상 데이터 셋은 정적인 물체를 기반으로 한다는 점에서 한계를 가진다. 이에, 자세(Pose)에 따라 변형되는 사물에 대한 가상 데이터 셋을 생성하는 기술이 필요하다. 특히 동물에 대한 데이터셋 기능은 아 직 크게 발전하지 않은 상태이므로, 동물의 움직임이나 자세를 애니메이션 하여 가상 데이터를 생성하는 기술이 필요하다."}
{"patent_id": "10-2023-0045980", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 동물의 움직임에 영향을 미치는 요소들을 설정하여 이에 따라 동물의 자세나 움직임에 기반한 이미지 를 생성하고자 한다. 본 발명은 외부의 지형이나 사물에 따라 동물의 자세를 조정하는 요소들을 반영하여 이미지를 생성하고자 한다. 본 발명이 해결하고자 하는 과제는 이상에서 언급한 과제들로 제한되지 않으며, 여기서 언급되지 않은 또 다른 과제들은 아래의 기재로부터 당업자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2023-0045980", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 일 실시예에 의한 동물 애니메이터 장치는 동물 오브젝트를 대상 공간에 배치하는 오브젝트 배치부와 동물 오브젝트의 동작에 영향을 미칠 조건을 설정하는 조건 설정부와 설정된 조건을 적용하여 동물 오브젝트의 애니메이션을 제어하는 애니메이션 제어부와 동물 오브젝트의 애니메이션을 기록하는 데이터 생성부를 포함한다. 본 발명의 일 실시예에 의한 동물 오브젝트를 애니메이션 하는 방법은 동물 애니메이터 장치의 오브젝트 배치부 가 동물 오브젝트를 대상 공간에 배치하는 단계와 동물 애니메이터 장치의 조건 설정부가 동물 오브젝트의 동작 에 영향을 미칠 조건을 설정하는 단계와 동물 애니메이터 장치의 애니메이션 제어부가 설정된 조건을 적용하여 동물 오브젝트의 애니메이션을 제어하는 단계와 동물 애니메이터 장치의 데이터 생성부가 동물 오브젝트의 애니 메이션을 기록하는 단계를 포함한다."}
{"patent_id": "10-2023-0045980", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명을 구현할 경우, 동물의 움직임에 영향을 미치는 요소들을 설정하여 이에 따라 동물의 자세나 움직임에 기반한 이미지를 생성할 수 있다. 본 발명을 구현할 경우, 외부의 지형이나 사물에 따라 동물의 자세를 조정하는 요소들을 반영하여 이미지를 생 성할 수 있다. 본 발명이 제공하는 효과는 이상에서 언급한 효과들로 제한되지 않으며, 여기서 언급되지 않은 또 다른 효과들 은 아래의 기재로부터 당업자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2023-0045980", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명을 명확하게 설명하기 위해서 설명과 관계없는 부분은 생략하였으며, 명세서 전체를 통하여 동일 또는 유사한 구성요소에 대해서는 동일한 참조 부호를 붙이도록 한다. 또한, 본 발명의 일부 실시예들을 예시적인 도 면을 참조하여 상세하게 설명한다. 각 도면의 구성요소들에 참조부호를 부가함에 있어서, 동일한 구성요소들에 대해서는 비록 다른 도면상에 표시되더라도 가능한 한 동일한 부호를 가질 수 있다. 또한, 본 발명을 설명함에 있어, 관련된 공지 구성 또는 기능에 대한 구체적인 설명이 본 발명의 요지를 흐릴 수 있다고 판단되는 경우에 는 그 상세한 설명은 생략할 수 있다. 또한, 본 발명의 구성 요소를 설명하는 데 있어서, 제 1, 제 2, A, B, (a), (b) 등의 용어를 사용할 수 있다. 이러한 용어는 그 구성 요소를 다른 구성 요소와 구별하기 위한 것일 뿐, 그 용어에 의해 해당 구성 요소의 본 질, 차례, 순서 또는 개수 등이 한정되지 않는다. 어떤 구성 요소가 다른 구성요소에 \"연결\", \"결합\" 또는 \"접 속\"된다고 기재된 경우, 그 구성 요소는 그 다른 구성요소에 직접적으로 연결되거나 또는 접속될 수 있지만, 각 구성 요소 사이에 다른 구성 요소가 \"개재\"되거나, 각 구성 요소가 다른 구성 요소를 통해 \"연결\", \"결합\" 또는 \"접속\"될 수도 있다고 이해되어야 할 것이다. 본 발명의 이점 및 특징, 그리고 그것들을 달성하는 방법은 첨부되는 도면과 함께 상세하게 후술되어 있는 실시 예들을 참조하면 명확해질 것이다. 그러나, 본 발명은 이하에서 개시되는 실시예들에 한정되는 것이 아니라 서 로 다른 다양한 형태로 구현될 것이며, 단지 본 실시예들은 본 발명의 개시가 완전하도록 하며, 본 발명이 속하"}
{"patent_id": "10-2023-0045980", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "는 기술분야에서 통상의 지식을 가진 자에게 발명의 범주를 완전하게 알려주기 위해 제공되는 것이며, 본 발명 은 청구항의 범주에 의해 정의될 뿐이다. 명세서 전체에 걸쳐 동일 참조 부호는 동일 구성요소를 지칭한다. 본 명세서에서는 동물 오브젝트를 정의된 도메인 내에 다양하게 혹은 랜덤하게 배치하고 그에 따라 애니메이션 을 제어하며 동물 오브젝트의 운동을 통해 데이터를 생성하는 방안에 대해 살펴본다. 도 1은 본 발명의 일 실시예에 의한 동물 애니메이터 장치의 구성을 보여주는 도면이다. 동물 애니메이터 장치 는 컴퓨터, 노트북, 태블릿 등 데이터 처리 및 데이터 저장이 가능한 모든 종류의 기기를 포함한다. 동물 애니메이터 장치는 동물의 동작을 가상으로 생성하여 가상 영상을 생성하는 장치를 일 실시예로 한다. 동물 애니메이터 장치의 구성요소를 살펴보면, 오브젝트 배치부, 공간 설정부, 애니메이 션 제어부 및 데이터 생성부를 포함한다. 오브젝트 배치부는 맵과 같은 다양한 대상 공간(예를 도메인)의 특정한 위치에 동물 오브젝트를 배치하여 데이터를 생성할 준비를 수행하는 구성요소이다. 조건 설정부는 동물 오브젝트의 동작에 영향을 미칠 조건을 설정한다. 보다 상세히, 조건 설정부는 동물 오브젝트가 배치될 공간의 특징 또는 동물 오브젝트의 상태를 설정한다. 일 실시예로 조건 설정부는동물이 회피할 수 있는 요소 또는 동물을 유인할 수 있는 요소 등을 설정하는 구성요소이다. 또한 조건 설정부는 동물의 특정 상태를 설정할 수 있다. 동물의 회피 또는 유인과 관련한 공간 및 제어 공간을 설정하는 것을, 가상 영상 생성기의 목적에 따라 선택적으로 공간을 설정할 수 있다. 조건 설정부 는 동물 오브젝트의 움직임을 자동화할 회피/유인 공간 및 제어공간을 설정한다. 애니메이션 제어부는 앞서 설정된 조건을 적용하여 동물 오브젝트의 애니메이션을 제어한다. 애니메이션 제어부는 적용하여 동물 오브젝트에 대한 가상 데이터를 생성할 수 있다. 데이터 기록에 쓰일 자세 또는 애니메이션을 선정하고, 애니메이션일 경우 애니메이션의 특정 지점을 선택한 상 태를 만드는 애니메이션 제어와 애니메이션을 적용한 후, 주변 지형이나 사물 등에 맞도록 동물 오브젝트의 자 세를 역운동학 (Inverse Kinematics) 를 이용하여 세부 제어하는 구성요소이다. 데이터 생성부는 동물 오브젝트의 애니메이션을 기록한다. 즉, 애니메이션 제어부에 의해 동물 오브 젝트의 자세에 대한 제어가 끝나면, 데이터 생성부는 여러 각도에서 동물 오브젝트의 데이터를 촬영하여 동물에 대한 다양한 데이터를 생성하고 이미지 데이터 및 주석을 작성할 수 있다. 예를 들어, 데이터 생성부 는 동물 오브젝트를 관측하는 관측점의 고각 또는 방위각을 변경하여 데이터를 기록할 수 있다. 데이터 생 성부가 생성한 데이터는 인공지능의 학습을 위한 가상 데이터로 사용될 수 있다. 도 1의 동물 애니메이터 장치는 각종 동물의 다양한 형태나 자세를 반영하여 변형가능한(Deformable) 데이 터를 생성한다. 동물 애니메이터 장치는 동물이 주변 상황에 따라 움직이는 것을 반영한 가상 데이터셋을 생성하여 다양한 애플리케이션에서 동물의 움직임과 형태를 정밀하게 활용할 수 있도록 한다. 이를 위해 동물 애니메이터 장치는 동물에 대한 데이터셋의 기능을 확장하고 인공지능이 자연계를 구성하 는 동물의 움직임을 분석 및 예측하여 다양한 가상 데이터를 생성하여 자연계의 동물에 대한 인식 성능을 추가 함으로써 더 폭넓은 인식 성능을 제공할 수 있다. 도 2는 본 발명의 일 실시예에 의한 동물 애니메이터 장치가 동물 오브젝트를 배치한 후 데이터를 생성하는 과 정을 보여주는 도면이다. 전체 플로우는 동물 오브젝트 배치(S10), 조건 설정(S20), 애니메이션 제어(S30), 역 운동학(Inverse Kinematics)을 통한 세부 제어(S40), 그리고 데이터 생성(S50)이다. 동물 오브젝트 배치(S10) 단계는 도메인에 동물 오브젝트를 배치하는 단계이다. 오브젝트 배치부는 도메인 에서 미리 동물이 출몰할 수 있는 영역을 지정하거나, 랜덤하게 동물 오브젝트를 배치할 수 있다. 도메인은 특 정한 지역을 설정될 수 있고, 산, 대도시 주택가, 해안가, 농촌지역 등 카테고리에 따라 선택될 수 있다. 오브 젝트 배치부는 도시 등 사람, 차량, 건물 등이 배치된 인공 환경 또는 자연 환경에도 동물이 출몰할 수 있 음을 가정하여 다양한 도시/인공/자연 공간을 도메인으로 하여 동물 오브젝트를 배치할 수 있다. 그 결과 동물 애니메이터 장치는 다양한 도메인에서 동물과 관련하여 발생할 수 있는 상황을 반영하여 가 상 데이터를 생성할 수 있다. 일 실시예로, 동물이 사람을 위협하거나 자동차에 충돌하는 등의 상황, 혹은 동물 의 이동 경로 등을 모두 예측할 수 있도록 동물 애니메이터 장치는 가상 데이터를 준비할 수 있다. 또한, 동물 애니메이터 장치는 도메인 내에 배치 가능한 동물 오브젝트를 도메인의 특성에 따라 판단할 수 있다. 예를 들어, 바다를 도메인으로 할 경우, 오브젝트 배치부는 고라니, 멧돼지 같은 동물 오브젝트는 배치되지 않는다. 오브젝트 배치부는 도메인의 특성에 따라 배치 가능한 동물의 리스트를 저장할 수 있다. 다음으로, 조건 설정부는 조건 설정을 수행한다(S20). 조건 설정은 배치한 동물 오브젝트의 움직임에 영향 을 주는 것으로 도메인 내의 특정 공간에 소정의 사물들을 배치하여 공간의 특징을 설정하거나, 또는 공간이 동 물에게 영향을 미칠 수 있도록 공간의 환경을 설정하는 과정을 포함한다. 이후, 애니메이션 제어부는 애니메이션 제어(S30) 및 역운동학을 통한 세부 제어(S40)를 수행한다. 애니메이션 제어(S30) 단계는 동물 오브젝트가 가질 수 있는 자세나 형상의 변경을 적용하여 애니메이션을 제어 하는 과정이다. 동물은 자세에 따라 형상이 변경될 수 있는 변형가능한 바디(Deformable Body)를 가지고 있으므로, 애니메이션 제어부는 여러 상황에 따른 변형된 형상이나 자세에 관련된 애니메이션을 제어한다. 애니메이션 제어부가 동물 오브젝트인 3D 모델의 자세를 변경하기 위한 일 실시예로, 미리 정의된 3차원 애니메이션 클립(3D Animation Clip)을 사용할 수 있다. 그리고 애니메이션 제어부는 여러 애니메이션 클립(Animation Clip)을 적재적소에, 그리고 상황과 도메인, 공간의 특성에 맞도록 활용하기 위해서 상태 머신 (State Machine)을 포함할 수 있다. 일 실시예로 애니메이션 제어부는 대부분의 동물 오브젝트에 적용시킬 수 있는 공통된 상태 머신을 사용할 수 있다. 그리고 애니메이션 제어부는 각 동물 오브젝트에 맞도록 자동으로 애니메이션 클립을 교체하는 방식으로 각 오브젝트에 필요한 애니메이션 클립을 지정할 수 있다. 다만 동물의 특성상 동물의 종에 따라 취할 수 있는 행동이 조금씩 다른 것을 반영하기 위해 애니메이션 제어 부은 이러한 세부적인 특징을 동물 개별 종에 반영하기 위해 공통 상태 머신이 아닌, 동물 종 개별의 상태 머신을 포함할 수 있다. 동물 종 개별의 상태 머신은 각 동작의 가능 여부로 설정될 수 있다. 예를 들어 애니메이션 제어부는 말이나 고라니 등의 동물 오브젝트에 대해서는 다리가 길어 점프를 할 수 있도록 동물 오브젝트의 애니메이션을 제어하는 상태 머신을 포함한다. 한편, 애니메이션 제어부은 돼지와 같은 동물 오브젝트에 대해서는 크게 점프할 수 없도록 동물 오브젝트의 애니메이션을 제어하는 상태 머신을 포 함한다. 또한, 애니메이션 제어부는 역운동학에 기반하여 동물 오브젝트의 세부 제어를 수행한다(S40). 애니메이션 제어부는 역운동학(IK)을 적용하여 특정 뼈(예를 들어 1개의 뼈)에 대한 타겟점(Target Poin t)을 지정하고, 연결된 뼈들에 대한 자세를 계산할 수 있다. 그리고 애니메이션 제어부는 이를 애니메이션 상태 머신과 병합하여 동물 오브젝트의 동작을 더 자연스럽게 만들 수 있다. 예시로 평탄하지 않은 지형을 질주하는 동물의 발에 역운동학(IK)을 적용시키고 타겟점을 동물의 발이 닿는 지 면으로 설정하면, 애니메이션 제어부는 지형에 맞추어 발을 디디는 애니메이션을 구현할 수 있다. 공간에 대한 설정과 애니메이션 제어가 완료되면 데이터 생성부는 동물 오브젝트의 애니메이션을 기록한다. 데이터는 배치된 오브젝트의 동작 순서대로 진행될 수 있으며, 데이터 생성부는 관측점의 고각 또는 방위각을 변경하여 다양한 각도에서 동물 오브젝트를 기록할 수 있다. 데이터 생성부가 생성하는 데 이터는 해당 장면을 담은 이미지 데이터와, 이미지에 대한 설명을 담은 주석 데이터를 포함한다. 이미지 데이터 는 정지 영상 또는 동적 영상을 모두 실시예로 한다. 도 3은 본 발명의 일 실시예에 의한 조건 설정과 관련된 세부 작업을 보여주는 도면이다. 조건 설정부는 배치할 동물 오브젝트의 상태 변수를 조건으로 설정할 수 있다. 또한 조건 설정부는 대상 공간의 환경 변수를 조건으로 설정할 수 있다. 세부 작업은 상태 변수를 설정하는 과정(S22) 및 공간의 환경 변수를 설정하는 과정(S24)를 포함한다. 상태 변 수는 동물의 허기, 갈증, 위협, 피로, 감정 중 어느 하나 이상에 대한 값을 포함한다. 환경 변수는 동물의 먹이, 물, 안식처, 목초, 위험 중 어느 하나 이상에 대한 값을 포함한다. 상태 변수 또는 환경 변수의 설정된 값에 따라 애니메이션 제어부는 동물 오브젝트의 움직임, 이동 방향, 자세 등을 결정하여 애니메이션을 제어할 수 있다. 상태 변수 설정 과정(S22)은 공간에 배치된 동물 오브젝트의 내적 상태에 관한 변수를 설정하는 과정이다. 조건 설정부는 동물 오브젝트의 내적 상태에 관한 변수로 허기(Hunger), 갈증(Thirst), 위협(Threat), 피로 (Fatigue), 감정(Emotion) 등을 설정할 수 있다. 조건 설정부가 설정한 동물 오브젝트의 내적 상태는 동물 의 움직임에 영향을 미친다. 허기(Hunger)는 동물의 허기를 나타내는 수치이다. 이 수치가 높으면 동물은 먹이를 찾기 위해 행동하며, 초식 동물은 목초지, 육식 동물은 육식이 가능한 먹이를, 잡식성 동물은 두 가지 중 허기를 더 채울 수 있고 위협이 낮은 것을 선택한다. 따라서 허기 수치가 높을 경우 동물은 먹이를 발견할 수 있는 특정 공간으로 움직일 수 있다. 또한 허기 수치가 일정 기준 이상 높을 경우, 동물의 움직임은 둔화될 수 있다. 따라서, 애니메이션 제어부는 허기의 수치나 강도에 따라 동물의 동작 속도나 자세 등을 제어할 수 있다. 갈증(Thirst)은 동물의 갈증을 나타내는 수치이다. 이 수치가 높으면 동물은 물을 찾기 위해 행동한다. 따라서, 애니메이션 제어부는 갈증의 수치에 따라 동물의 동작 속도나 자세 등을 제어할 수 있다. 위협(Threat)은 동물이 느끼는 위협을 나타낸다. 위협 수치가 높으면 동물은 보통 도망치지만, 허기와 갈증이 높다면 이 위협을 무시하고 행동할 수 있다. 따라서, 애니메이션 제어부는 위협의 수치에 따라 동물의 동 작 속도나 자세 등을 제어할 수 있다. 피로(Fatigue)는 동물이 느끼는 피로를 나타낸다. 피로 수치가 높으면 동물은 안식처를 찾아 수면/휴식을 취한 다. 피로가 크면 동물은 느리게 움직일 수 있다. 따라서, 애니메이션 제어부는 피로의 수치에 따라 동물의 동작 속도나 자세 등을 제어할 수 있다. 감정(Emotion)은 동물의 간단한 감정을 나타낸다. 행동에 영향을 미칠 수 있다. 감정은 다른 상태 변수에 따라 결정된다. 나타날 수 있는 감정의 예시로는 만족(Appeased), 무감정(Neutral), 분노(Anger), 절박함 (Desperate), 공포(Terror), 지침 (Tired) 등이 될 수 있다. 만족은 허기/갈증 수치가 낮거나, 위협 수치가 낮 거나, 피로 수치가 낮은 경우에 해당한다. 무감정은 기본 상태이다. 분노는 허기/갈증 수치가 중간이거나, 위협 수치가 낮거나, 피로 수치가 낮은 경우에 해당한다. 절박함은 허기/갈증 수치 또는 위협 수치가 높을 경우에 해당한다. 공포는 위협 수치가 높은 경우에 해당하며, 지침은 피로 수치가 높은 경우에 해당한다. 이와 같이 동물 오브젝트를 배치하고 해당 동물에 대한 다양한 상태 변수를 설정할 경우, 애니메이션 제어부 는 동물 오브젝트의 동작이나 속도, 자세 등을 조절할 수 있다. 동물의 상태 변수는 특정한 값의 크기 혹 은 상/중/하와 같은 카테고리 등으로 설정될 수 있다. 상태 변수가 설정되면 동물 오브젝트의 종류에 따라 다양 하게 움직임이나 자세가 설정될 수 있다. 일 실시예로 허기나 갈증의 상태인 동물도 육식 동물인 경우 물이나 먹이를 찾기 위한 행동 반경이 넓어지거나 움직임이 과격해질 수 있다. 한편 초식동물의 경우 위협/피로 등의 상태에서는 자세를 낮추어 움직일 수 있다. 다음으로 공간의 환경 변수를 설정하는 과정(S24)은 동물을 유인하는 공간 또는 동물이 회피하는 공간을 설정하 는 과정이다. 본 과정은 선택적으로 진행할 수 있다. 조건 설정부는 제어공간에 탑재된 인공지능(예를 들 어 Traditional AI)를 활용하여 동물의 행동이나 움직임 등을 이끌어내기 위한 공간의 환경 변수를 지정할 수 있다. 조건 설정부는 특정 공간의 환경 변수를 포인트(Point) 또는 맵(map)이나 영역(area)으로 지정할 수 있다. 지정할 수 있는 환경 변수는 먹이(Prey), 물(Water), 안식처(Haven), 목초(Vegetation), 위험(Risk) 등과 같으 며 한번에 여러 가지 환경 변수를 지정할 수도 있다. 먹이는 육식 동물들이 허기를 느낄 때 유인될 장소 또는 객체이다. 모든 동물들이 이 속성을 가지고 있으며 육 식동물은 다른 동물을 잡아 먹을 수 있다. 애니메이션 제어부는 육식 동물 오브젝트의 경우 인접한 공간의 환경 변수가 먹이인 경우, 육식 동물의 상태(허기 등)에 따라 동물 오브젝트가 이동하는 애니메이션을 제어할 수 있다. 마찬가지 방식으로 다른 환경 변수도 설정될 수 있다. 물은 동물들이 갈증을 느낄 때 유인될 변수이며, 안식처 는 초식 동물들이 머무르기에 좋은 장소에 대한 변수이다. 목초는 초식 동물들이 허기를 느낄 때 유인될 장소에 대한 변수이다. 애니메이션 제어부는 이들 물, 안식처, 목초 및 해당하는 동물 오브젝트의 상태에 따라 동 물 오브젝트가 이동하거나 머무는 등의 동작과 관련된 애니메이션을 제어할 수 있다. 위험은 야생 동물들이 접근하였을 때 생명의 위협을 느낄 수 있는 요소이다. 야생 동물들은 이를 최대한 피하려 하지만, 허기 또는 갈증이 심할 경우 이 위험 요소를 무시할 수 있다. 애니메이션 제어부는 위험이라는 환 경 변수와 동물 오브젝트에 설정된 상태 변수를 조합하여 동물 오브젝트가 이동하거나 머물거나 또는 탐색하는 등의 동작과 관련된 애니메이션을 제어할 수 있다. 이때, 애니메이션 제어부는 전술한 상태/환경 변수에 대응하는 별도의 상태 머신을 포함할 수 있다. 애니 메이션 제어부는 상태 머신의 상태 전환 과정에서 전술한 상태/환경 변수를 적용할 수 있다. 도 3의 실시예는 위험도와 함께 동물들을 유인할 수 있는 요소(먹이, 물) 등을 설정하는 것으로, 설정된 정보들 은 시뮬레이션을 수행하는 과정에서 동물의 외형, 자세, 움직임 등을 구현할 때 적용될 수 있다. 도 3과 같이 공간에 배치된 동물 오브젝트의 상태 변수 및 공간의 환경 변수를 설정하여 동물이유인 또는 회피 하는 공간을 생성하고 그에 따라 동물 오브젝트의 동작이나 속도, 자세 등이 다변화될 수 있다. 조건 설정부는 동물 오브젝트의 종류와 공간의 특성에 따라 상태 변수 및 환경 변수를 확장하여 적용할 수 있다. 특히, 데이터 생성부가 동영상 또는 연속된 장면으로 가상 데이터를 생성 및 기록할 경우 조건 설정부가 설정한 값들을 적용할 수 있다. 또한, 동물 오브젝트가 발견될 수 있는 위치를 계산함에 있어서도 도 3의 프로세스를 적용할 수 있다. 도 3의 과정들을 결정할 경우, 애니메이션 제어부는 역동적인 동물의 특성을 고려하여 동물이 이동하는 경 로, 그리고 동물이 취할 수 있는 여러 동작들을 제어하는 제어 스크립트를 포함할 수 있다. 애니메이션 제어부 는 동물의 상태를 저장하고 이 상태와 주변 지형, 환경에 따라 동작을 변경할 수 있도록 인공지능을 적용 할 수 있다. 이때, 적용할 수 있는 인공지능으로는 다양한 방식의 인공지능(예를 들어 Traditional AI, modern AI 등)이 될 수 있다. 또한, 애니메이션 제어부는 각 동작이 수행될 때마다 상태 머신(State Machine)의 매개변수를 변 경하고 역운동학(IK)이 타겟(Target)을 적절히 설정함으로써 자연스러운 애니메이션 동작을 생성할 수 있다. 일 실시예에 의한 인공지능이 트래디셔널 AI(Traditional AI)인 경우, 동물의 간단한 생체 상태들을 저장하고 계산하여 동물이 스스로의 상태에 따라 다른 행동을 가능하도록 할 수 있다. 예를 들어 동물은 허기로 인해 먹 이를 찾아 돌아다닐 수 있다. 또한 야생 말인 경우, 목초지와 물에 관심을 보이고, 육식 동물을 피하려는 경향 을 보일 수 있다. 그리고 야생 멧돼지는 잡식으로 먹이와 초목, 물에 모두 관심을 보일 수 있으며 그리고 위험을 감수하고 먹이를 찾을 수도 있다. 따라서 동물 오브젝트의 상태 변수와 공간에 대한 환경 변수를 설정하면 동물은 다양한 동작을 수행할 수 있다. 전술한 실시예들을 적용할 경우, 움직이거나 다양한 자세를 취하는 동물의 특성을 반영하여 학습을 위한 가상 데이터를 생성할 수 있다. 동물들은 정지상태가 아니라는 점, 주변 환경이나 상태 등에 따라 다양하게 자세를 바꾸고 움직일 수 있으므로, 이러한 특징을 반영하여 동물 오브젝트의 자세, 형상 등을 다양하게 변형하여 학습 데이터를 생성할 수 있다. 또한 동물의 특성을 반영하므로 다양한 가상 데이터 셋을 확보할 수 있다. 앞서 도 3과 같이 외부의 다양한 상황이나 해당 동물과 관련된 상태를 설정함으로써, 동물의 움직임에 영향을 미치는 변수들의 설정이 완료된다. 이후, 설정된 변수를 적용하여 애니메이션을 수행하는 과정을 살펴본다. 도 4는 본 발명의 일 실시예에 의한 설정된 변수에 기반하여 상태 머신에 대응하는 애니메이션을 제어하는 도면 이다. 애니메이션 제어부는 도 2의 S20 및 도 3에서 살펴본 바와 같이 설정된 조건, 예를 들어 상태 변수 또는 환경 변수 중 어느 하나 이상에 따라 동물 오브젝트의 상태 머신(State Machine)을 적용한다(S31). 그리고 애니 메이션 제어부는 상태 머신을 적용한 결과 도달한 상태(state)를 식별한다(S32). 도달한 상태가 단일한 상 태인 경우 애니메이션 제어부는 해당 상태에 대응하는 애니메이션 클립을 로딩한다. 한편, 도달한 상태에 하위 상태 머신(Sub State Machine)이 있는 경우, 애니메이션 제어부는 하위 상태 머 신에 대해 S31 및 S32 단계를 적용하여 진행한다(S33). 또한, 상태 머신이 블렌딩 트리(Blending Tree)에 대응하도록 결정된 경우, 애니메이션 제어부는 블렌딩 트리에 정의된 상태들의 혼합을 수행한다(S34). 전술한 과정을 통해 도달한 최종 결과에 따라 애니메이션 제어부는 애니메이션을 수행한다(S35). 도 5는 본 발명의 일 실시예에 의한 동물의 움직임에 적용할 수 있는 상태 머신을 보여주는 도면이다. 도 5는 3 개의 상태(State 1, State 2, State 3)가 배치되며 시작점(Entry), 상태무관 시작점(AnyState), 종료점(Exit) 으로 구성된다. 도 5를 동물이 가만히 서있는 기본 상태에서, 걷고 점프하는 동작을 하는 상태머신으로 할 경우 State 1은 점핑 (Jumping), State 2는 아이들(Idle), State 3는 걷기(Walking)이 될 수 있다. 도 5의 상태 머신은 여러 동물 (혹은 사람도 포함)에 대한 상태를 정의하고 제어하는 상태 머신을 의미한다. 그리고 애니메이션 제어부는 자동화된 스크립트를 통해 각각 다른 동물에 대해서 1개의 상태 머신을 재활 용할 수 있다. 즉, 도 5의 상태 머신은 공통 상태 머신에 해당하며, 애니메이션 제어부는 동물에 따라 스 크립트를 달리 적용하거나 자동화된 스크립트를 생성하여 애니메이션을 제어할 수 있다. 상태 머신을 구성하는 상태 사이의 전환은 다양한 조건에 따라 이루어지며, 앞서 동물의 상태 변수와 공간의 환 경 변수 역시 상태 사이의 전환을 유발시킬 수 있다.도 5의 실시예에서 상태 머신은 시작점(Entry) 또는 상태와 무관한 시작점(AnyState)을 가진다. 시작점은 어떠 한 조건 없이 애니메이션을 가능하게 하는 오브젝트가 추가되어 처음으로 생성되었을 때 바로 시작되는 부분에 해당한다. 시작과 함께 기본적으로 전환될 상태가 필요하기 때문에 이를 기본 상태 (Default State)로 지정할 수 있다. State 2 또는 State 는 기본 상태의 일 실시예가 될 수 있다. 이와 별개로 상태 무관 시작점(Any State)는 어떠한 상태에 있던 특정 조건이 성립되면 바로 상태를 전환시키 는 지점이다. 조건을 만드는 데에는 애니메이션 제어부가 적용하는 별개의 파라미터가 필요하며 이러한 파 라미터는 앞서 도 3의 상태 변수, 환경 변수에서 산출될 수 있다. 그리고 해당 동물 오브젝트의 애니메이터를 만들 때 지정될 수 있다. 파라미터로는 실수, 정수, 참/거짓 그리고 1회성 트리거 형을 지정할 수 있다. 애니메이션 제어부는 각 상태의 전환에 있어서 모두 조건을 n 개 지정함으로써 특정 조건이 만족되어야만 상태의 흐름이 진행되도록 제어할 수 있다. 시작점에서 기본상태가 아닌 다른 상태로 전환하고자 할 경우에도 이 조건들이 지정될 수 있다. 또한, 상태 머신은 두 가지 시작 모두 다음에 상태를 0개 이상 가질 수 있다. 이는, 상태를 넣지 않고 바로 종 료점으로 가는 것을 포함한다. 종료점에 도달 후에는 바로 시작점으로 상태가 넘어갈 수 있다. 기본적으로는 n개의 상태를 실행한 이후 종료점에 도달하도록 되어있지만, 1개의 상태를 계속 유지하고자 할 경우 애니메이션 제어부는 종료점과의 연결을 만들지 않거나, 종료점으로 도달하는 연결에 조건을 추가하 여 시간을 지연시킬 수 있다. 또한 시작점, 상태, 종료점, 상태무관 시작 등 서로간 화살표로 표기된 흐름 부분은 Transition(전환) 이라고 하며, 이 부분에서 조건을 추가하거나, 각 상태 전환간 전/후 상태를 얼마나 혼합할 것인지, 또 상태 전환간 딜 레이를 얼마나 둘지 등 상태 전환간의 조작이 가능하다. 애니메이션 제어부는 이와 같이 혼합 또는 추가된 조건을 포함한 상태 머신에 기반하여 애니메이션을 수행할 수 있다. 도 5에서 State 1(Jumping), State 2(Idle), State 3(Walking)인 경우를 가정할 경우, 상태 머신에 기반하여 애니메이션 제어부가 동물 오브젝트의 애니메이션을 제어하는 과정은 다음과 같다. State 2의 IDLE 상태가 가만히 서 있는 상태이며, 애니메이션 제어부는 해당 상태를 기본 상태로 설정할 수 있다. State 2는 종료점으로 연결되어있지 않으므로 해당 상태가 계속 유지될 수 있다. Walking 파라미터가 참일 경우, 애니메이션 제어부는 시작점에서 State 3인 Walking 상태로 전환시킨다. 마찬가지로 Walking 파라미터가 참일 경우, 애니메이션 제어부는 State 2의 IDLE 에서 State 3의 Walking 으로 전환하도록 조건을 설정할 수 있다. 한편, Walking 파라미터가 거짓일 경우, 애니메이션 제어부는 State 3의 Walking 상태에서 State 2의 IDLE 상태로 전환하도록 조건을 설정할 수 있다. 아울러, Jumping 트리거 파라미터가 발동될 경우, 애니메이션 제어부는 현재 상태와 무관하게 (Any State) State 1의 Jumping 상태로 전환 후, 종료점으로 전환할 수 있 다. 이와 같이 동물의 자세와 동작과 관련된 데이터셋 기능에 따라 상태 머신이 공통으로 적용되거나 혹은 세부 상 태 머신으로 분화될 수 있다. 도 6 내지 8은 본 발명의 일 실시예에 의한 상태 머신을 보여주는 도면이다. 도 6은 가장 상단에 배치되는 상태 머신으로 베이스레이어(Base Layer)라고 지칭할 수 있다. 기본 상태는 운동 인 \"Locomotion\" 상태이다. 또한, 어떤 상태에서도 액션 상태(\"Action\")로 이행할 수 있다. 가장 상단의 상태 머신은 모든 동물 오브젝트에 적용할 수 있는 상태 머신이다. 애니메이션 제어부는 레이어(layer)를 가지고 여러 레이어로부터 상태를 섞어서 사용할 수 있다. 레이어는 1개 이상 있어야 하며 가장 기본으로 사용하는 것을 베이스 레이어(Base Layer)라 지시한다. 이 부분은 동물 오브젝트의 변형 가능 바디(Deformable Body) 에서 신체 여러 부위를 따로 조작하고자 할 경우 적용할 수 있다. 예를 들어, 제1레이어에서는 몸통 부분만 조작하고 제2레이어에서는 머리 부분만 조작하는 것으로 정의할 수 있다. 뛰는 동작과 먹이를 물고 있는 동작을 합성하여 결과가 나온다. 도 7은 상태 머신 내부의 또다른 상태 머신으로 도 6의 \"Locomotion\" 상태의 서브 또는 하위 상태 머신(Sub- State Machine)을 나타낸 도면이다. 도 7에서 운동과 관련된 상태로는 \"JumpState\", \"FallState\", \"WalkState\", \"IdleState\"가 있으며 \"IdleState\"가 기본 상태이다. 그리고 도 7의 서브 상태 머신은 상위의 베 이스 레이어로 전환하는 \"(UP) BaseLayer\" 상태를 포함한다. 상태 머신은 내부에 또다른 상태 머신(서브 상태 머신)을 가질 수 있다. 다만 이 상태 머신은 상위 상태 머신에 종속되어있기 때문에 하위 상태 머신(또는 서브 상태 머신)으로 구분하여 지칭한다. 하위 상태 머신은 다양한 상태들 간의 노드 연결을 정의한다. 따라서 애니메이션 제어부는 하위 상태 머신 에 대해 상위 상태 머신으로 복귀할지, 바로 종료점으로 전환할지를 선택하고, 상태 무관 시작점(Any State)에 서 시작할지, 아니면 상위 상태 머신에서 하위 상태 머신으로 전환되었을 때 시작할지도 지정할 수 있다. 도 7의 \"BT_Run\"은 트리를 블렌딩하는 것이다. 이에 대해서는 후술한다. 도 7과 같은 하위 상태 머신은 진입과 종료, 그리고 상태의 종류를 분류하면 다음과 같다. 하위 상태 머신은 i) 상위 상태 머신으로부터 진입하거나, ii) 상태 무관 시작점(Any State)을 통해 진입할 수 있다. 또한, 하위 상태 머신이 포함할 수 있는 구성요소는 상태(State), BT(BlendTree), 하위 상태 머신 3가지가 있다. 그리고 하위 상태 머신의 종료는 상위 상태 머신으로 회귀하거나 종료점(Exit)으로 전환하여 이루어진다. 도 8은 본 발명의 일 실시예에 의한 하위 상태 머신인 운동(Locomotion)의 내부의 구성을 보여주는 도면이다. 점핑을 시작하여(JumpStart) 점핑을 수행하고(Jumping) 점핑을 끝내는(Jumping) 내용이다. 도 9 및 도 10은 본 발명의 일 실시예에 의한 블렌드 트리의 구성을 보여주는 도면이다. 블렌드 트리(Blend Tree) 는 여러 개의 상태를 변수에 따라 혼합(Blend) 하여 1개의 상태 결과로 만들어내는 특수한 형태이다. 혼 합이란 1개 이상의 상태로 지정할 수 있으며 1차원 또는 2차원으로 변수를 지정 가능한 것을 의미한다. 도 9는 3개의 방향(Left, Front, Right)에 대한 혼합을 1차원 변수로 조작하는 것을 의미한다. 애니메이션 제어 부는 HeadingX 변수를 -1 ~ 1 사이로 설정하여 \"Run\", 즉 달리는 방향을 설정할 수 있다. 설정을 위해 애 니메이션 제어부는 직접 숫자를 입력받거나 또는 \"HeadingX\" 옆에 있는 선택자를 마우스 클릭 등으로 조절 할 수 있다. 도 9는 \"0\"으로 설정되었음을 보여준다. 도 10은 6개의 방향(Left, Front, Right, Back, BackLeft, BackRight)에 대한 2차원 블렌드 트리를 보여준다. 애니메이션 제어부는 HeadingX 및 HeadingY 변수를 -1 ~ 1 사이로 설정하여 \"Walk\", 즉 걷는 방향을 설정 할 수 있다. 설정을 위해 애니메이션 제어부는 직접 숫자를 입력받거나 또는 \"HeadingX\" 또는 \"HeadingY\" 옆에 있는 선 택자를 마우스 클릭 등으로 조절할 수 있다. 도 10은 HeadingX를 \"0\"으로 설정하고 HeadingY는 설정하지 않았음 (NaN, Not a Number)을 보여준다. 애니메이션 제어부는 상태 머신을 적용하여 동물 오브젝트의 상태를 결정하고 그에 따른 애니메이션 클립 을 생성할 수 있다. 이 과정에서 애니메이션 제어부는 여러가지 요소들과 조건들에 기반한 둘 이상의 상태 를 혼합하여 하나의 상태로 결합할 수 있다. 특히 애니메이션 제어부는 블렌드 트리를 적용함에 있어서, 앞서 도 3에서 설정한 조건을 반영할 수 있다. 예를 들어, 애니메이션 제어부는 Run_R_IP의 경우에도 동물 오브젝트의 좌측의 공간의 환경 변수가 \"위 험\"인 경우, 해당 동물 오브젝트의 보폭을 더 넓혀 빨리 좌측 공간으로부터 이탈하도록 제어할 수 있다. 반대로 애니메이션 제어부는 Walk_F_IP인 경우에도 동물 오브젝트의 전방의 공간의 환경 변수가 \"먹이\"인 경우, 해당 동물 오브젝트의 보폭을 더 넓혀 빨리 전방측 공간으로 접근하도록 제어할 수 있다. 즉, 애니메이션 제어부는 동물의 움직임이나 자세를 블렌딩하는 과정에서 동물의 상태 변수나 주변의 환경 변수와 같은 조 건을 반영하여 움직임의 크기(보폭 등)를 증감시키거나 자세의 높이를 변화시킬 수 있다. 애니메이션 제어부는 상태 머신을 적용하여 동물 오브젝트의 상태를 결정하고 그에 따른 애니메이션 클립 을 생성할 수 있다. 또한 보다 정밀한 애니메이션 제어를 위해 애니메이션 제어부는 역운동학을 적용할 수 있다. 애니메이션 제어부는 애니메이션을 적용한 후, 애니메이션을 적용한 후, 주변 지형이나 사물 등에 맞도록 동물 오브젝트의 자세를 역운동학 (IK) 를 이용하여 세부 조정을 수행할 수 있다. 이는 동물 오브젝트를 구성하 는 다리나 머리, 꼬리 등이 주변의 사물에 의해 자세가 변경되는 것을 반영하여 자연스러운 애니메이션을 구현하는 실시예를 포함한다. 예를 들어, 단차가 있는 지형에 동물 오브젝트가 서있을 경우, 동물의 양쪽 앞발의 높 이는 차이가 발생할 수 있다. 따라서, 애니메이션 제어부는 동물 오브젝트의 왼쪽 발이 단차의 높은 곳을 딛고 있는 경우 역운동학을 적 용하여 왼쪽 발의 위치 및 이와 관련된 다른 관절들의 각도를 역순으로 계산한다. 예를 들어, 관절이 서로 연결 되어 있는 경우, 그 순서가 골반(무게중심), 허벅지, 종아리, 발 순서가 될 수 있다. 따라서, 단차로 인한 왼쪽 발의 위치가 올라갈 경우, 애니메이션 제어부는 역순으로 발에 가까운 허벅지와 정강이의 포즈(Pose)를 계산한다. 애니메이션 제어부는 무게중심과 발의 위치 및 축 기준점(Pole)을 이용 하여 그 사이의 허벅지, 종아리의 각도를 계산할 수 있다. 이와 같이 주변 지형이나 지면의 상태, 배치된 다른 사물들의 위치 등에 따라 애니메이션 제어부는 역운동 학을 적용하여 동물 오브젝트의 다리나 몸통, 머리, 꼬리 등의 자세나 위치를 세부조정하여 동물 오브젝트의 자 세의 정밀도를 높인다. 데이터 생성부는 전술한 동물 오브젝트의 자세에 대한 제어가 완료되면, 여러 각도에서 동물 오브젝트의 데이터를 촬영하고 이미지 데이터 및 주석을 생성한다. 생성되는 결과물의 이미지는 고각과 방위각을 바꿔가며 애니메이션 결과가 적용된 동물의 형상을 이미지로 촬영 한 것으로 데이터 생성부는 JPEG, PNG 등의 이미지 포맷으로 저장할 수 있다. 또한, 데이터 생성부는 해당 이미지에 대해 데이터셋으로 활용가능한 정보가 저장된 텍스트 기반 파일을 주석으로 저장할 수 있다. 일 실시예로 Json 으로 저장할 수 있다. 앞서 애니메이션 제어부가 상태 머신을 통해 선택하고 혼합함으로써 결과 애니메이션이 산출되며 이것이 변형 가능한 바디(Deformable Body)에 적용되어 형태가 바뀌면, 데이터 생성부는 이를 그래픽으로 표시 및 저장할 수 있다. 또한, 데이터 생성부는 가상데이터를 기록할 수 있다. 한편, 데이터 생성부가 여러 각도에서 촬영한다는 것은 결과물이 이미지 데이터와, 이미지 데이터에 대해 설명하는 주석(annotation) 파일을 생성하는 것을 포함한다. 데이터 생성부는 각각의 가상 데이터들을 다양한 포맷의 이미지 파일로 생성할 수 있으며, 각 가상 데이터 의 컬러 형식도 다양하게 설정할 수 있다. 뿐만 아니라 데이터 생성부는 기록을 완료하거나 도중 중단할 경우 현재까지의 결과 데이터를 확정하고 이 미지에 대한 주석(annotation)을 파일로 기록할 수 있다. 데이터 생성부는 MS-COCO와 같은 형식을 적용하 여 주석 파일을 생성할 수 있다. 일 실시예로, 데이터 생성부는 지금까지 기록된 모든 이미지 1개마다 다 음 표 1과 같이 정보를 기록할 수 있다. 표 1 항목 이름 설명 형식 Id 이미지의 식별자 Int (정수) Width 이미지의 너비 Int (정수) height 이미지의 높이 int (정수) File_name 이미지의 이름 또한, 일 실시예로 프로세서는 각각의 이미지에 포함된 하나 이상의 객체에 대한 정보를 일종의 주석으로 포함시킬 수 있다. 이미지 내의 객체에 대한 정보는 표 2와 같이 생성할 수 있다. 표 2 항목 이름 설명 형식 Id 주석의 식별자 Int (정수) Image_id 주석이 참조하는 이미지의 식별자 Int (정수) Category_id 객체의 분류에 대한 참조 Int (정수) area 이미지에서 해당 객체가 차지하는 면적 Float (실수) bbox 이미지에서 해당 객체가 차지하는 사각형 영역 (x,y,w,h) Float (실수)표 1 및 표 2의 항목들 및 설명, 형식은 다양하게 변형 및 추가/삭제될 수 있다. 또한, 1개의 이미지 안에 여러 개의 동물 객체가 표시될 수 있기 때문에 다수의 이미지로 분할되어 데이터가 생 성될 수 있다. 또한 동물 등 변형 가능한 바디(Deformable Body)의 경우 자세(Pose)를 알 수 있어야 하기 때문 에 이에 대한 데이터가 주석으로 추가될 수 있다. 도 11은 본 발명의 일 실시예에 의한 동물 애니메이터 장치가 동물 오브젝트를 배치하여 이미지를 기록하는 과 정을 상세히 설명한 도면이다. 동물 애니메이터 장치는 동물의 동작을 가상으로 생성하여 가상 영상을 생성하는 장치이다. 세부 구성은 도 1을 참조한다. 오브젝트 배치부는 데이터 생성을 준비하는데, 먼저 동물 오브젝트를 선정하고 지형 맵에서 위치를 선정한 다(S111). 그리고 오브젝트 배치부는 선정 위치에 동물 오브젝트를 배치한다(S112). 이후 해당 동물 오브젝트의 움직임에 영향을 미칠 회피/유인 요소가 있는(S113) 경우 조건 설정부는 선택 적으로 해당 제어 공간을 설정하는 프로세스를 진행한다(S121~S123). 만약 S113에서 별도의 조건 설정의 과정이 불필요한 경우 동물 애니메이터 장치는 S131 단계로 진행한다. 예를 들어, 조건 설정부는 회피/유인 공간 맵을 로딩하여 동적 생성을 수행한다(S121). 이는 초식/육식 동 물의 먹이 관계 등 동적으로 결정되는 요소를 로딩한 맵 위에 혼합하여 계속 동적으로 생성하는 과정을 포함한 다. 그리고 조건 설정부는 제어공간 변수 및 파라미터를 설정한다(S122). 이는 각 동물 오브젝트에 설정되는 제어 공간의 변수 및 파라미터를 설정하여 시뮬레이션을 준비하는 과정을 포 함한다. 이후 조건 설정부는 시뮬레이션을 실행한다(S123). 이는 앞서 생성된 공간 맵과 제어 공간에 기반 하여 시뮬레이션을 진행하여 동물들의 동작과 상호 작용을 결정하는 과정을 포함한다. 이후 동물 애니메이터 장치는 동물 오브젝트 배치를 완료한 후(S131) 동물 애니메이터 장치의 애니메 이션 제어부는 동물 오브젝트의 동작을 선정한다(S132). 이는 동물이 취할 동작을 선정하는 것을 일 실시 예로 한다. 또한 S121~S123에서 회피/유인 공간을 사용하였을 경우, 애니메이션 제어부는 해당 공간에 위 치하는 동물의 움직임에 대한 시뮬레이션의 결과로 동작을 선정할 수 있다. 만약 그러하지 않을 경우 애니메이 션 제어부는 동작을 랜덤하게 선정할 수 있다. 한편, 애니메이션 제어부는 선정한 동작에 맞도록 동물 오브젝트의 애니메이션을 제어하는 애니메이터의 파라미터를 스크립트, 배치파일, 데이터베이스, 파일 등을 통해 적합하게 설정한다(S133). 그리고 애니메이션 제어부는 애니메이션 클립의 프레임 내에서 특정 지점을 랜덤으로 선택하여 하나의 정 지 화상을 기록할 수 있도록 준비하여 애니메이션 프레임을 랜덤화한다(S134). 이후 애니메이션 제어부는 역운동학(IK)을 통해 세부 제어를 수행한다(S135). 앞서 설명한 바와 같이, 애 니메이션 제어부는 동물 오브젝트가 배치된 지형이나 동물 오브젝트의 주변에 배치된 사물 및 역운동학 (Inverse Kinematics)을 적용하여 동물 오브젝트의 동작을 세밀하게 제어한다. 애니메이션 제어부는 주변 지형이나 환경에 따라 동물 오브젝트의 관절을 역운동학에 기반하여 세밀하게 조정한다. 이후, 데이터 생성부는 데이터 기록을 준비하고(S141) 고각/방위각을 자동 변경을 수행하며 (S142) 이미지 및 주석 데이터를 기록한다(S143). 일 실시예로, 데이터 생성부는 배치와 애니메이션 제어가 끝난 동물 오브젝트를 중심으로 일정 거리를 두 고 관측점의 고각과 방위각을 변경하면서 여러 각도(예를 들어 360도 각도)에서 동물 오브젝트를 관측하여 촬영 한 결과를 이미지로 생성할 수 있다. 또한, 데이터 생성부는 고각과 방위각이 변경될 때마다 이미지와 주석 데이터를 저장 매체에 기록할 수 있 다. 주석 데이터에 저장되는 데이터의 일 실시예로는 바운딩 박스(Bounding Box), 이미지 해상도(Image Resolution) 등의 데이터와 해당 동물 오브젝트의 3D 포즈 정보 등을 포함한다. 본 발명의 실시예를 구성하는 모든 구성 요소들이 하나로 결합되거나 결합되어 동작하는 것으로 설명되었다고 해서, 본 발명이 반드시 이러한 실시예에 한정되는 것은 아니며, 본 발명의 목적 범위 내에서 모든 구성 요소들 이 하나 이상으로 선택적으로 결합하여 동작할 수도 있다. 또한, 그 모든 구성 요소들이 각각 하나의 독립적인하드웨어로 구현될 수 있지만, 각 구성 요소들의 그 일부 또는 전부가 선택적으로 조합되어 하나 또는 복수 개 의 하드웨어에서 조합된 일부 또는 전부의 기능을 수행하는 프로그램 모듈을 갖는 컴퓨터 프로그램으로서 구현 될 수도 있다. 그 컴퓨터 프로그램을 구성하는 코드들 및 코드 세그먼트들은 본 발명의 기술 분야의 당업자에 의해 용이하게 추론될 수 있을 것이다. 이러한 컴퓨터 프로그램은 컴퓨터가 읽을 수 있는 저장매체(Computer Readable Media)에 저장되어 컴퓨터에 의하여 읽혀지고 실행됨으로써, 본 발명의 실시예를 구현할 수 있다. 컴 퓨터 프로그램의 저장매체로서는 자기 기록매체, 광 기록매체, 반도체 기록소자를 포함하는 저장매체를 포함한 다. 또한 본 발명의 실시예를 구현하는 컴퓨터 프로그램은 외부의 장치를 통하여 실시간으로 전송되는 프로그램 모듈을 포함한다. 전술된 실시예는 모든 면에서 예시적인 것이며 한정적인 것이 아닌 것으로 이해되어야 하며, 본 발명의 범위는 전술된 상세한 설명보다는 후술될 특허청구범위에 의해 나타내어질 것이다. 그리고 이 특허청구범위의 의미 및 범위는 물론, 그 등가개념으로부터 도출되는 모든 변환 및 변형 가능한 형태가 본 발명의 범위에 포함되는 것으 로 해석되어야 한다."}
{"patent_id": "10-2023-0045980", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 의한 동물 애니메이터 장치의 구성을 보여주는 도면이다. 도 2는 본 발명의 일 실시예에 의한 동물 애니메이터 장치가 동물 오브젝트를 배치한 후 데이터를 생성하는 과 정을 보여주는 도면이다. 도 3은 본 발명의 일 실시예에 의한 조건 설정과 관련된 세부 작업을 보여주는 도면이다. 도 4는 본 발명의 일 실시예에 의한 설정된 변수에 기반하여 상태 머신에 대응하는 애니메이션을 제어하는 도면 이다. 도 5는 본 발명의 일 실시예에 의한 동물의 움직임에 적용할 수 있는 상태 머신을 보여주는 도면이다. 도 6 내지 8은 본 발명의 일 실시예에 의한 상태 머신을 보여주는 도면이다. 도 9 및 도 10은 본 발명의 일 실시예에 의한 블렌드 트리의 구성을 보여주는 도면이다. 도 11은 본 발명의 일 실시예에 의한 동물 애니메이터 장치가 동물 오브젝트를 배치하여 이미지를 기록하는 과 정을 상세히 설명한 도면이다."}
