{"patent_id": "10-2021-0191882", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0101619", "출원번호": "10-2021-0191882", "발명의 명칭": "블록체인 기반 서비스용 키 관리 시스템 및 방법", "출원인": "주식회사 그라운드엑스", "발명자": "최종석"}}
{"patent_id": "10-2021-0191882", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "블록체인 기반 서비스에 사용되는 키를 생성하고, 키 스토리지를 이용하여 상기 생성된 키를 저장 및 관리하는키 관리 모듈;상기 키 관리 모듈과 통신하여 상기 키 관리 모듈로부터 상기 생성된 키를 획득하는 키 제어 모듈; 및상기 키 제어 모듈로부터 상기 생성된 키를 전달받아 상기 블록체인 기반 서비스를 사용자 장치에게 제공하는블록체인 기반 서비스 제공 모듈을 포함하고,상기 키 관리 모듈은 상기 생성된 키를 생성 상태, 할당 상태, 변경 상태 및 삭제 상태로 관리하는,블록체인 기반 서비스용 키 관리 시스템."}
{"patent_id": "10-2021-0191882", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 키 스토리지는 1차 키 스토리지 및 2차 키 스토리지를 포함하고,상기 1차 키 스토리지는 상기 생성 상태에 해당하는 키를 저장하고,상기 2차 키 스토리지는 상기 할당 상태, 상기 변경 상태 또는 상기 삭제 상태에 해당하는 키를 저장하는, 블록체인 기반 서비스용 키 관리 시스템."}
{"patent_id": "10-2021-0191882", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 1차 키 스토리지는 FIFO(First In First Out) 구조를 갖는, 블록체인 기반 서비스용 키 관리 시스템."}
{"patent_id": "10-2021-0191882", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제2항에 있어서,상기 2차 키 스토리지는 키-값(key-value) 스토리지인, 블록체인 기반 서비스용 키 관리 시스템."}
{"patent_id": "10-2021-0191882", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제2항에 있어서,상기 1차 키 스토리지에 저장된 키 중에서 상기 할당 상태로 변경된 키는 상기 1차 키 스토리지에서 상기 2차키 스토리지로 이동되는, 블록체인 기반 서비스용 키 관리 시스템."}
{"patent_id": "10-2021-0191882", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에 있어서,하드웨어 보안 장치를 더 포함하고,상기 키 제어 모듈은,상기 블록체인 기반 서비스 제공 모듈로부터 키 생성 요청을 수신하는 요청 수신 모듈;미리 정해진 키 생성 정책을 제공하는 키 생성 정책 제공 모듈; 및상기 키 생성 정책에 따라 상기 키 관리 모듈 및 상기 하드웨어 보안 장치 중 적어도 하나를 이용하여 키 생성제어를 수행함으로써 키를 획득하고, 상기 키 생성 요청에 대한 응답으로 상기 획득한 키를 상기 블록체인 기반서비스 제공 모듈로 전송하는 키 생성 제어 모듈을 포함하는, 블록체인 기반 서비스용 키 관리 시스템.공개특허 10-2023-0101619-3-청구항 7 제6항에 있어서,상기 키 관리 모듈로부터 제공되는 키 전송 트래픽은 상기 하드웨어 보안 장치로부터 제공되는 키 전송 트래픽보다 높은, 블록체인 기반 서비스용 키 관리 시스템."}
{"patent_id": "10-2021-0191882", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제6항에 있어서,상기 미리 정해진 키 생성 정책은, 상기 키 관리 모듈 및 상기 하드웨어 보안 장치의 키 생성 비율을 지정하는정보를 포함하는, 블록체인 기반 서비스용 키 관리 시스템."}
{"patent_id": "10-2021-0191882", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제1항에 있어서,상기 키 관리 모듈은,상기 키 제어 모듈로부터 키 제공 요청을 수신하는 요청 관리 모듈;상기 키 제공 요청에 따라 상기 키 스토리지로부터 키를 검색하는 키 상태 관리 모듈; 및상기 키 상태 관리 모듈에 의해 검색된 키의 상태가 상기 키 제공 요청에 부합하는지 여부를 해석하는 키 상태해석 모듈을 포함하고,상기 요청 관리 모듈은 상기 키 제공 요청에 대한 응답으로 상기 키 상태 관리 모듈에 의해 검색된 키를 상기키 관리 모듈로 전송하는, 블록체인 기반 서비스용 키 관리 시스템."}
{"patent_id": "10-2021-0191882", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서,상기 키 스토리지에 저장된 키가 상기 삭제 상태로 변경되는 삭제 이벤트가 발생된 경우, 삭제 이벤트 발생 메시지를 하나 이상의 구독 서비스/장치로 전송하는 PubSub 이벤트 핸들링 모듈을 더 포함하는, 블록체인 기반 서비스용 키 관리 시스템."}
{"patent_id": "10-2021-0191882", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제1항에 있어서,하드웨어 보안 장치를 더 포함하고,상기 키 제어 모듈은,상기 블록체인 기반 서비스 제공 모듈로부터 키 생성 요청을 수신하는 요청 수신 모듈;상기 키 생성 요청에 기초하여 트래픽 수요를 예측하는 트래픽 수요 예측 모듈; 및상기 예측된 트래픽 수요에 기초하여 정해지는 키 생성 비율에 따라, 상기 키 관리 모듈 및 상기 하드웨어 보안장치 중 적어도 하나를 이용하여 키 생성 제어를 수행함으로써 키를 획득하고, 상기 획득한 키를 상기 키 생성요청에 대한 응답으로 상기 블록체인 기반 서비스 제공 모듈로 전송하는 키 생성 제어 모듈을 포함하는, 블록체인 기반 서비스용 키 관리 시스템."}
{"patent_id": "10-2021-0191882", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "블록체인 기반 서비스에 사용되는 키를 생성하고, 키 스토리지를 이용하여 상기 생성된 키를 저장 및 관리하는단계;블록체인 기반 서비스 제공 모듈로부터 키 생성 요청을 수신하는 단계; 및상기 키 생성 요청에 대한 응답으로 상기 생성된 키를 상기 블록체인 기반 서비스 제공 모듈로 전송하는 단계를포함하고,공개특허 10-2023-0101619-4-상기 생성된 키는 생성 상태, 할당 상태, 변경 상태 및 삭제 상태로 관리되는,블록체인 기반 서비스용 키 관리 방법."}
{"patent_id": "10-2021-0191882", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제12항에 있어서,상기 키 스토리지는 1차 키 스토리지 및 2차 키 스토리지를 포함하고,상기 1차 키 스토리지는 상기 생성 상태에 해당하는 키를 저장하고,상기 2차 키 스토리지는 상기 할당 상태, 상기 변경 상태 또는 상기 삭제 상태에 해당하는 키를 저장하는, 블록체인 기반 서비스용 키 관리 방법."}
{"patent_id": "10-2021-0191882", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제13항에 있어서,상기 1차 키 스토리지는 FIFO(First In First Out) 구조를 갖는, 블록체인 기반 서비스용 키 관리 방법."}
{"patent_id": "10-2021-0191882", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제13항에 있어서,상기 2차 키 스토리지는 키-값(key-value) 스토리지인, 블록체인 기반 서비스용 키 관리 방법."}
{"patent_id": "10-2021-0191882", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제13항에 있어서,상기 저장 및 관리하는 단계는,상기 1차 키 스토리지에 저장된 키 중에서 상기 할당 상태로 변경된 키를 상기 1차 키 스토리지에서 상기 2차키 스토리지로 이동시키는 단계를 포함하는, 블록체인 기반 서비스용 키 관리 방법."}
{"patent_id": "10-2021-0191882", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제12항에 있어서,상기 생성된 키를 상기 블록체인 기반 서비스 제공 모듈로 전송하는 단계는,미리 정해진 키 생성 정책을 제공받는 단계;상기 키 생성 정책에 따라, 상기 키 스토리지를 이용하여 관리되는 키 및 하드웨어 보안 장치에 의해 생성되는키 중 적어도 하나에 기초하여 키를 획득하는 단계; 및상기 키 생성 요청에 대한 응답으로 상기 획득한 키를 상기 블록체인 기반 서비스 제공 모듈로 전송하는 단계를포함하는, 블록체인 기반 서비스용 키 관리 방법."}
{"patent_id": "10-2021-0191882", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "제12항에 있어서,상기 키 스토리지로부터 키를 검색하는 단계; 및상기 검색된 키의 상태가 상기 키 생성 요청에 부합하는지 여부를 해석하는 단계를 더 포함하는 블록체인 기반서비스용 키 관리 방법."}
{"patent_id": "10-2021-0191882", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_19", "content": "제12항에 있어서,상기 키 스토리지에 저장된 키가 상기 삭제 상태로 변경되는 삭제 이벤트가 발생된 경우, 삭제 이벤트 발생 메시지를 하나 이상의 구독 서비스/장치로 전송하는 단계를 더 포함하는 블록체인 기반 서비스용 키 관리 방법.공개특허 10-2023-0101619-5-청구항 20 제12항에 있어서,상기 생성된 키를 상기 블록체인 기반 서비스 제공 모듈로 전송하는 단계는,상기 키 생성 요청에 기초하여 트래픽 수요를 예측하는 단계; 및상기 예측된 트래픽 수요에 기초하여 정해지는 비율에 따라, 상기 키 스토리지를 이용하여 관리되는 키 및 하드웨어 보안 장치에 의해 생성되는 키 중 적어도 하나에 기초하여 키를 획득하는 단계; 및상기 키 생성 요청에 대한 응답으로 상기 획득한 키를 상기 블록체인 기반 서비스 제공 모듈로 전송하는 단계를포함하는, 블록체인 기반 서비스용 키 관리 방법."}
{"patent_id": "10-2021-0191882", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "블록체인 기반 서비스용 키 관리 시스템 및 방법인 제공된다. 블록체인 기반 서비스용 키 관리 시스템은, 블록 체인 기반 서비스에 사용되는 키를 생성하고, 키 스토리지를 이용하여 상기 생성된 키를 저장 및 관리하는 키 관 리 모듈; 상기 키 관리 모듈과 통신하여 상기 키 관리 모듈로부터 상기 생성된 키를 획득하는 키 제어 모듈; 및 상기 키 생성 제어 모듈로부터 상기 생성된 키를 전달받아 상기 블록체인 기반 서비스를 사용자 장치에게 제공하 는 블록체인 기반 서비스 제공 모듈을 포함하고, 상기 키 관리 모듈은 상기 생성된 키를 생성 상태, 할당 상태, 변경 상태 및 삭제 상태로 관리할 수 있다."}
{"patent_id": "10-2021-0191882", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 블록체인 기반 서비스용 키 관리 시스템 및 방법에 관한 것이다."}
{"patent_id": "10-2021-0191882", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "블록체인은 비즈니스 네트워크에서 트랜잭션을 기록하고 자산을 추적하는 프로세스를 효율화하는 불변의 공유 원장으로, 유형 자산 및 무형 자산 등 사실상 가치를 지닌 모든 것들이 블록체인 네트워크 상에서 추적 및 거래 될 수 있다. 네트워크 참여자들은 분산 원장과 트랜잭션의 불변 레코드에 액세스하게 되며, 트랜잭션이 공유 원장에 기록되면 어떤 참여자도 트랜잭션을 변경하거나 위조할 수 없는 특징으로 인해, 블록체인 기술은 네트워 크 상에서 중개자 없이 당사자 간의 직접적인 가치 전송을 가능하게 한다. 대표적인 블록체인 응용 기술로, 암호화폐 지갑(또는 월렛)은 블록체인 분산 원장에 기록되는 트랜잭션 데이터 를 생성하거나 서명하기 위해 사용되는 키를 관리하기 위해 사용될 수 있다. 암호화폐 지갑은 온라인에서 사용 가능한 형태의 핫 월렛(hot wallet)과 온라인 연결이 물리적으로 분리된 형태의 콜드 월렛(cold wallet)으로 구 분될 수 있으며, 핫 월렛은 인터넷에 연결되어 실시간으로 거래 정보를 주고 받을 수 있다."}
{"patent_id": "10-2021-0191882", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명이 해결하고자 하는 과제는, 암호화폐 지갑을 비롯한 블록체인 응용 기술에 적용될 수 있는, 높은 성능 으로 키를 관리하기 위한 블록체인 기반 서비스용 키 관리 시스템 및 방법을 제공하는 것이다."}
{"patent_id": "10-2021-0191882", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 일 실시 예에 따른 블록체인 기반 서비스용 키 관리 시스템은, 블록체인 기반 서비스에 사용되는 키 를 생성하고, 키 스토리지를 이용하여 상기 생성된 키를 저장 및 관리하는 키 관리 모듈; 상기 키 관리 모듈과 통신하여 상기 키 관리 모듈로부터 상기 생성된 키를 획득하는 키 제어 모듈; 및 상기 키 제어 모듈로부터 상기 생성된 키를 전달받아 상기 블록체인 기반 서비스를 사용자 장치에게 제공하는 블록체인 기반 서비스 제공 모듈 을 포함하고, 상기 키 관리 모듈은 상기 생성된 키를 생성 상태, 할당 상태, 변경 상태 및 삭제 상태로 관리할 수 있다. 본 발명의 몇몇 실시 예에서, 상기 키 스토리지는 1차 키 스토리지 및 2차 키 스토리지를 포함하고, 상기 1차 키 스토리지는 상기 생성 상태에 해당하는 키를 저장하고, 상기 2차 키 스토리지는 상기 할당 상태, 상기 변경 상태 또는 상기 삭제 상태에 해당하는 키를 저장할 수 있다. 본 발명의 몇몇 실시 예에서, 상기 1차 키 스토리지는 FIFO(First In First Out) 구조를 가질 수 있다. 본 발명의 몇몇 실시 예에서, 상기 2차 키 스토리지는 키-값(key-value) 스토리지일 수 있다. 본 발명의 몇몇 실시 예에서, 상기 1차 키 스토리지에 저장된 키 중에서 상기 할당 상태로 변경된 키는 상기 1 차 키 스토리지에서 상기 2차 키 스토리지로 이동될 수 있다. 본 발명의 몇몇 실시 예에서, 상기 시스템은, 하드웨어 보안 장치를 더 포함하고, 상기 키 제어 모듈은, 상기 블록체인 기반 서비스 제공 모듈로부터 키 생성 요청을 수신하는 요청 수신 모듈; 미리 정해진 키 생성 정책을 제공하는 키 생성 정책 제공 모듈; 및 상기 키 생성 정책에 따라 상기 키 관리 모듈 및 상기 하드웨어 보안 장 치 중 적어도 하나를 이용하여 키 생성 제어를 수행함으로써 키를 획득하고, 상기 키 생성 요청에 대한 응답으 로 상기 획득한 키를 상기 블록체인 기반 서비스 제공 모듈로 전송하는 키 생성 제어 모듈을 포함할 수 있다. 본 발명의 몇몇 실시 예에서, 상기 키 관리 모듈로부터 제공되는 키 전송 트래픽은 상기 하드웨어 보안 장치로 부터 제공되는 키 전송 트래픽보다 높을 수 있다. 본 발명의 몇몇 실시 예에서, 상기 미리 정해진 키 생성 정책은, 상기 키 관리 모듈 및 상기 하드웨어 보안 장 치의 키 생성 비율을 지정하는 정보를 포함할 수 있다. 본 발명의 몇몇 실시 예에서, 상기 키 관리 모듈은, 상기 키 제어 모듈로부터 키 제공 요청을 수신하는 요청 관 리 모듈; 상기 키 제공 요청에 따라 상기 키 스토리지로부터 키를 검색하는 키 상태 관리 모듈; 및 상기 키 상 태 관리 모듈에 의해 검색된 키의 상태가 상기 키 제공 요청에 부합하는지 여부를 해석하는 키 상태 해석 모듈 을 포함하고, 상기 요청 관리 모듈은 상기 키 제공 요청에 대한 응답으로 상기 키 상태 관리 모듈에 의해 검색 된 키를 상기 키 관리 모듈로 전송할 수 있다. 본 발명의 몇몇 실시 예에서, 상기 시스템은, 상기 키 스토리지에 저장된 키가 상기 삭제 상태로 변경되는 삭제 이벤트가 발생된 경우, 삭제 이벤트 발생 메시지를 하나 이상의 구독 서비스/장치로 전송하는 PubSub 이벤트 핸 들링 모듈을 더 포함할 수 있다. 본 발명의 몇몇 실시 예에서, 상기 시스템은, 하드웨어 보안 장치를 더 포함하고, 상기 키 제어 모듈은, 상기 블록체인 기반 서비스 제공 모듈로부터 키 생성 요청을 수신하는 요청 수신 모듈; 상기 키 생성 요청에 기초하 여 트래픽 수요를 예측하는 트래픽 수요 예측 모듈; 및 상기 예측된 트래픽 수요에 기초하여 정해지는 키 생성 비율에 따라, 상기 키 관리 모듈 및 상기 하드웨어 보안 장치 중 적어도 하나를 이용하여 키 생성 제어를 수행 함으로써 키를 획득하고, 상기 획득한 키를 상기 키 생성 요청에 대한 응답으로 상기 블록체인 기반 서비스 제 공 모듈로 전송하는 키 생성 제어 모듈을 포함할 수 있다. 본 발명의 일 실시 예에 따른 블록체인 기반 서비스용 키 관리 방법은, 블록체인 기반 서비스에 사용되는 키를 생성하고, 키 스토리지를 이용하여 상기 생성된 키를 저장 및 관리하는 단계; 블록체인 기반 서비스 제공 모듈 로부터 키 생성 요청을 수신하는 단계; 및 상기 키 생성 요청에 대한 응답으로 상기 생성된 키를 상기 블록체인 기반 서비스 제공 모듈로 전송하는 단계를 포함하고, 상기 생성된 키는 생성 상태, 할당 상태, 변경 상태 및 삭 제 상태로 관리될 수 있다. 본 발명의 몇몇 실시 예에서, 상기 키 스토리지는 1차 키 스토리지 및 2차 키 스토리지를 포함하고, 상기 1차 키 스토리지는 상기 생성 상태에 해당하는 키를 저장하고, 상기 2차 키 스토리지는 상기 할당 상태, 상기 변경 상태 또는 상기 삭제 상태에 해당하는 키를 저장할 수 있다. 본 발명의 몇몇 실시 예에서, 상기 1차 키 스토리지는 FIFO 구조를 가질 수 있다. 본 발명의 몇몇 실시 예에서, 상기 2차 키 스토리지는 키-값 스토리지일 수 있다. 본 발명의 몇몇 실시 예에서, 상기 저장 및 관리하는 단계는, 상기 1차 키 스토리지에 저장된 키 중에서 상기 할당 상태로 변경된 키를 상기 1차 키 스토리지에서 상기 2차 키 스토리지로 이동시키는 단계를 포함할 수 있다. 본 발명의 몇몇 실시 예에서, 상기 생성된 키를 상기 블록체인 기반 서비스 제공 모듈로 전송하는 단계는, 미리 정해진 키 생성 정책을 제공받는 단계; 상기 키 생성 정책에 따라, 상기 키 스토리지를 이용하여 관리되는 키 및 하드웨어 보안 장치에 의해 생성되는 키 중 적어도 하나에 기초하여 키를 획득하는 단계; 및 상기 키 생성 요청에 대한 응답으로 상기 획득한 키를 상기 블록체인 기반 서비스 제공 모듈로 전송하는 단계를 포함할 수 있 다. 본 발명의 몇몇 실시 예에서, 상기 방법은, 상기 키 스토리지로부터 키를 검색하는 단계; 및 상기 검색된 키의 상태가 상기 키 생성 요청에 부합하는지 여부를 해석하는 단계를 더 포함할 수 있다. 본 발명의 몇몇 실시 예에서, 상기 방법은, 상기 키 스토리지에 저장된 키가 상기 삭제 상태로 변경되는 삭제 이벤트가 발생된 경우, 삭제 이벤트 발생 메시지를 하나 이상의 구독 서비스/장치로 전송하는 단계를 더 포함할 수 있다. 본 발명의 몇몇 실시 예에서, 상기 생성된 키를 상기 블록체인 기반 서비스 제공 모듈로 전송하는 단계는, 상기 키 생성 요청에 기초하여 트래픽 수요를 예측하는 단계; 및 상기 예측된 트래픽 수요에 기초하여 정해지는 비율 에 따라, 상기 키 스토리지를 이용하여 관리되는 키 및 하드웨어 보안 장치에 의해 생성되는 키 중 적어도 하나 에 기초하여 키를 획득하는 단계; 및 상기 키 생성 요청에 대한 응답으로 상기 획득한 키를 상기 블록체인 기반 서비스 제공 모듈로 전송하는 단계를 포함할 수 있다."}
{"patent_id": "10-2021-0191882", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 실시 예들에 따르면, 블록체인 기반 서비스 서버는 하드웨어 보안 장치만을 사용하지 않고, 블록체인 기반 서비스에 사용되는 키를 사전에 생성해 두는 방식(예를 들어, 블록체인 기반 서비스 서버가 사용자로부터 키 생성 요청을 수신하기 전에 미리 생성해 두는 방식)을 채택하거나, 또는 사전에 생성한 키와 하드웨어 보안 장치를 이용하여 생성한 키를 함께 사용하는 방식을 채택함으로써, 수 백만 개 수준의 키 관리가 가능해지며, 수 십만 TPS 수준(예를 들어 50만 TPS 이상)의 키 생성 성능을 확보할 수 있다. 또한, 키 관리 모듈은 서로 상이한 특성을 갖는 1차 키 스토리지 및 2차 키 스토리지를 기반으로 상이한 상태를 갖는 키들을 체계적으로 관리함으로써, 키의 개수가 백만 개 내지 수백만 개 수준에 이르는 경우에도 무리없이 키 관리를 지원할 수 있다."}
{"patent_id": "10-2021-0191882", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "아래에서는 첨부한 도면을 참조하여 본 발명의 실시 예에 대하여 본 발명이 속하는 기술 분야에서 통상의 지식 을 가진 자가 용이하게 실시할 수 있도록 상세히 설명한다. 그러나 본 발명은 여러 가지 상이한 형태로 구현될 수 있으며 여기에서 설명하는 실시 예에 한정되지 않는다. 그리고 도면에서 본 발명을 명확하게 설명하기 위해 서 설명과 관계없는 부분은 생략하였으며, 명세서 전체를 통하여 유사한 부분에 대해서는 유사한 도면 부호를 붙였다. 명세서 및 청구범위 전체에서, 어떤 부분이 어떤 구성 요소를 \"포함\"한다고 할 때, 이는 특별히 반대되는 기재 가 없는 한 다른 구성요소를 제외하는 것이 아니라 다른 구성 요소를 더 포함할 수 있는 것을 의미한다. 또한, 명세서에 기재된 \"...부\", \"...기\", \"모듈\" 등의 용어는 본 명세서에서 설명되는 적어도 하나의 기능이나 동작을 처리할 수 있는 단위를 의미할 수 있으며, 이는 하드웨어나 소프트웨어 또는 하드웨어 및 소프트웨어의결합으로 구현될 수 있다. 도 1은 본 발명의 일 실시 예에 따른 블록체인 기반 서비스용 키 시스템을 설명하기 위한 블록도이다. 도 1을 참조하면, 본 발명의 일 실시 예에 따른 블록체인 기반 서비스용 키 시스템은 블록체인 기반 서비스 서버, 블록체인 네트워크 및 하나 이상의 사용자 장치(31, 33, 35)를 포함할 수 있다. 블록체인 기반 서비스 서버는 블록체인 네트워크에 접속되어 다양한 블록체인 기반 서비스를 사용자 장 치(31, 33, 35)에 제공할 수 있다. 예를 들어, 블록체인 기반 서비스 서버는, 사용자 장치(31, 33, 35)로 하여금 블록체인 네트워크에서 거래되는 암호화폐에 대한 트랜잭션과 관련하여 사용되는 키를 관리할 수 있 도록 하는 암호화폐 지갑 서비스를 사용자 장치(31, 33, 35)에 제공할 수 있다. 물론, 본 발명의 범위가 이에 한정되는 것은 아니며, 블록체인 기반 서비스 서버는, 블록체인 네트워크에서 가치 전송을 위해 사용되 는 키와 관련된 것이라면 임의의 종류 또는 형태의 블록체인 기반 서비스를 제공할 수 있다. 다만, 설명의 명 확성 및 편의성을 위해, 이하에서는 블록체인 기반 서비스 서버가 암호화폐 지갑 서비스를 제공하는 것으로 예를 들어 설명하도록 한다. 여기서, 블록체인 기반 서비스 서버는 물리적인 특정 종류의 하드웨어만을 지칭하는 것은 아니다. 구체적 으로, 블록체인 기반 서비스 서버는 데스크톱 컴퓨터, 노트북 컴퓨터, 태블릿 컴퓨터, 스마트 폰 등을 비롯 한 다양한 컴퓨팅 장치로 구현될 수 있으며, 이들 컴퓨팅 장치에서 실행되어 블록체인 기반 서비스를 제공하는 프로그램 또는 소프트웨어로 구현될 수 있다. 또한, 필요에 따라, 블록체인 기반 서비스 서버가 제공하는 기능 중 적어도 일부에 대해서는 ASIC(application-specific integrated circuit), FPGA(field programmable gate array) 등을 비롯한 하드웨어 자체로 구현될 수도 있다. 하나 이상의 사용자 장치(31, 33, 35)는 블록체인 기반 서비스 서버가 제공하는 블록체인 기반 서비스에 대 한 사용자에 해당하며, 블록체인 네트워크의 복수의 노드(201, 203, 205, 207, 209)와 별개일 수도 있고, 블록체인 네트워크의 복수의 노드(201, 203, 205, 207, 209) 중 어느 하나에 해당할 수도 있다. 블록체인 네트워크는 복수의 노드(201, 203, 205, 207, 209)를 포함할 수 있다. 복수의 노드(201, 203, 205, 207, 209)는 피어 투 피어 네트워크(peer to peer network)의 형태로 서로 연결되어 데이터를 주고받을 수 있다. 구체적으로, 트랜잭션이 발생하면 이는 데이터의 블록으로서 기록되고, 해당 블록은 그 이전 블록 및 이후 블록에 연결되어 데이터의 체인을 형성하게 되며, 가치 전송을 위해 사용될 수 있는 다양한 정보가 블록에 기록될 수 있다. 여기서, 블록체인 네트워크는 예를 들어 암호화폐 네트워크일 수 있으며, 분산 공유 원장 과 암호화폐 트랜잭션을 이용하여 복수의 노드(201, 203, 205, 207, 209) 간의 직접적인 암호화폐 전송이 이루 어질 수 있다. 암호화폐는 중개자 없이 사용자들 사이의 안전한 직접 거래를 가능하도록 하기 위해 분산 원장을 이용하며, 분 산 원장을 생성하기 위해 해시와 전자서명과 같은 암호 알고리즘을 사용한 블록체인 구조 및 작업증명에 의한 채굴을 사용할 수 있다. 암호화폐에 따라, 블록체인 생성에 참여하는 노드들에게 연산 능력에 따른 보상 체계 를 운용하고 있는데, 이를 통해 새로운 유효 블록을 생성하는 노드에 대해 채굴 보상 또는 트랜잭션 수수료와 같은 보상을 지급하여 시스템의 지속적인 운영을 도모하고 있다. 또한, 블록체인에 화폐 거래 기록뿐 아니라 계약서의 추가 정보를 기록하도록 하는 합의 구조와 스마트 컨트랙트 기능이 제공될 수 있으며, 디지털 명령으 로 계약을 작성하여 조건에 따라 컨트랙트의 내용을 자동으로 수행할 수 있도록 할 수 있다. 이하에서는, 암호화폐 지갑 서비스와 같은, 사용자의 개인 키/공개 키 생성, 저장, 사용에 관련된 블록체인 기 반 서비스를 중심으로, 본 발명의 실시 예들에 대해 상세히 설명하도록 한다. 도 2는 본 발명의 일 실시 예에 따른 블록체인 기반 서비스 서버를 설명하기 위한 블록도이다. 도 2를 참조하면, 본 발명의 일 실시 예에 따른 블록체인 기반 서비스 서버는 블록체인 기반 서비스 제공 모듈 및 하드웨어 보안 장치를 포함할 수 있다. 블록체인 기반 서비스 제공 모듈은, 사용자의 개인 키/공개 키 생성, 저장, 사용에 관한 기능을 비롯한 다 양한 기능을 갖는 블록체인 기반 서비스를 사용자 장치(31, 33, 35)에 제공할 수 있다. 특히, 사용자의 개인 키/공개 키 생성에 있어서, 블록체인 기반 서비스 제공 모듈은, 하드웨어 보안 장치를 이용하여 생성 된 키를 이용한 블록체인 기반 서비스를 사용자 장치(31, 33, 35)에 제공할 수 있다. 하드웨어 보안 장치는 데이터의 암호화 및 암호 해독에 사용되는 키를 생성, 보호 및 관리하고, 디지털 서 명 및 인증서를 생성하여 암호화 프로세스를 보호하는 변조 방지 하드웨어 장치를 지칭하는 것으로, 예를 들어HSM(Hardware security module), TPM(Trusted Platform Module) 등으로 구현될 수 있다. 블록체인 기반 서비 스 서버는 키 생성 요청을 수신한 후 이와 같은 하드웨어 보안 장치를 제어하여 키를 생성할 수 있다. 그런데 하드웨어 보안 장치 기반으로 키를 생성하거나 관리하는 경우, 저장할 수 있는 키의 개수는 수 천 개 수준에 불과하며, 암호화폐 지갑 서비스와 같이 수 십만 TPS(Transaction Per Second)가 요구되는 대규모의 키 생성이 필요한 조건에서 약 200 TPS 수준의 낮은 성능을 보인다는 점이 문제가 될 수 있다. 따라서, 하드웨 어 보안 장치만을 이용하여 키 생성을 수행하는 경우, 신속하고 즉각적인 실시간 서비스 제공이 불가할 뿐 아니라, 대규모의 키 관리에 있어서 어려움이 크다. 이와 같은 문제를 개선하기 위해, 블록체인 기반 서비스 서버는 하드웨어 보안 장치만을 사용하지 않 고, 블록체인 기반 서비스에 사용되는 키를 사전에 생성해 두는 방식(예를 들어, 블록체인 기반 서비스 서버 가 사용자로부터 키 생성 요청을 수신하기 전에 미리 생성해 두는 방식)을 채택하거나, 또는 사전에 생성한 키와 하드웨어 보안 장치를 이용하여 생성한 키를 함께 사용하는 방식을 채택할 수 있다. 이에 따라, 수 백만 개 수준의 키 관리가 가능해지며, 수 십만 TPS 수준(예를 들어 50만 TPS 이상)의 키 생성 성능을 확보할 수 있다. 이를 실현하기 위한 구성 요소로서, 블록체인 기반 서비스 서버는 키 제어 모듈, 키 관리 모듈, 1차 키 스토리지 및 2차 키 스토리지를 포함할 수 있다. 이에 따라, 블록체인 기반 서비 스 서버는, 키 관리 모듈에 의해 생성된 키를 전달받아 블록체인 기반 서비스를 사용자 장치(31, 33, 35)에 제공하거나, 키 관리 모듈과 하드웨어 보안 장치를 함께 사용하되 키 생성 비율을 지정하여 생 성된 키를 이용하여 블록체인 기반 서비스를 사용자 장치(31, 33, 35)에 제공함으로써, 키 생성 성능을 개선할 수 있으며, 또한, 키 관리 모듈과 서로 다른 특성을 갖는 1차 키 스토리지 및 2차 키 스토리지 를 이용하여 대규모의 키 관리를 실현할 수 있다. 키 제어 모듈은 외부로부터 인입되는 트래픽을 제어할 수 있으며, 트래픽에는 키 생성 요청이 포함될 수 있다. 예를 들어, 키 제어 모듈은, 사용자 신규 계정이 생성되어 키를 부여할 필요가 있는 경우, 암호화 폐 거래에 있어서 자산 전송을 위해 서명이 필요한 경우 등 사용자 장치(31, 33, 35)로부터 키 생성 요청을 수 신할 수 있다. 키 제어 모듈은 키 생성 요청을 사용자 장치(31, 33, 35)로부터 직접 수신할 수도 있고, 구체적인 구현 방식에 따라서는 블록체인 기반 서비스 제공 모듈이 사용자 장치(31, 33, 35)로부터 직접 수신한 후, 키 제어 모듈이 이를 전달받을 수도 있다. 키 제어 모듈은 키 생성 방식을 제어할 수 있다. 구체적으로, 키 제어 모듈은 키 관리 모듈이 사전 생성한 키 기반으로 키 생성을 수행할지, 키 관리 모듈과 하드웨어 보안 장치를 함께 사용하여 키 생성을 수행할지, 또는 요청 트래픽이 높지 않는 경우 성능보다는 자원 절약 등 다른 이유로 하드웨어 보안 장치만을 사용하여 키 생성을 수행할지 여부를 결정할 수 있다. 하드웨어 보안 장치만을 사용하는 경우는, 성능 개선을 위해 복수의 하드웨어 보안 장치를 클러스터링하여 사용할 수 있으며, 이와 같은 클 러스터링 구조로 인해 페일오버(failover) 대응까지 구현하여 서비스 안정성을 강화할 수 있다. 물론, 이와 같 은 클러스터링 기능은 키 관리 모듈과 하드웨어 보안 장치가 함께 동작하는 경우에도 여전히 적용될 수 있다. 이와 같이 키 제어 모듈이 키 생성 방식을 결정하는 시점은, 사용자 장치(31, 33, 35) 또는 블록체인 기반 서비스 제공 모듈로부터 키 생성 요청을 수신한 후일 수 있으나, 본 발명의 범위가 이에 제한되는 것은 아 니며, 과거의 키 생성 이력 등 데이터에 기초하여 정해진 정책에 따라 키 생성 요청이 수신되지 않는 시점에 키 생성 방식을 미리 결정할 수도 있고, 또는 사전 설정된 주기에 따라 키 생성 방식을 주기적으로 결정할 수도 있 다. 키 생성에 있어서 키 관리 모듈만을 사용하기로 결정한 경우, 키 제어 모듈은, 키 관리 모듈과 통신하여, 키 관리 모듈로부터 생성된 키를 획득할 수 있다. 이와 다르게, 키 생성에 있어서 키 관리 모 듈가 하드웨어 보안 장치를 함께 사용하기로 결정한 경우, 키 제어 모듈은, 키 관리 모듈 및 하드웨어 보안 장치와 각각 통신하여, 키 관리 모듈 및 하드웨어 보안 장치로부터 생성된 키 를 각각 획득하고 취합할 수도 있다. 어느 경우든, 키 제어 모듈은 키 관리 모듈에게, 생성된 키를 제공하라는 키 제공 요청을 전송할 수 있다. 키 관리 모듈은, 블록체인 기반 서비스에 사용되는 키를 생성하고, 키 스토리지(130, 140)를 이용하여 생 성된 키를 저장 및 관리할 수 있다. 구체적으로, 키 관리 모듈은, 키 생성 요청이 발생하기 전에 미리 대 량의 키(예를 들어 백만 개 내지 수백만 개 수준의 키)를 생성한 후, 키에 복수의 상태를 부여하고, 그 상태에 따라 키 스토리지(130, 140)를 이용하여 관리할 수 있다. 여기서, 키 관리 모듈은, 생성된 키를 생성 상태, 할당 상태, 변경 상태 및 삭제 상태로 관리할 수 있으며, 구체적인 구현 목적에 따라 상태의 개수는 달라질 수 있다. 또한, 키 관리 모듈은 키 제어 모듈로부터 키 제공 요청을 수신한 후, 생성 상태에 있는 키들 중 적어도 일부를 할당 상태로 변경하고, 할당 상태가 된 키를 키 제어 모듈에 제공할 수 있다. 키 관리 모듈이 키 관리를 위해 부여하는 상태 중 생성 상태는 키가 생성 완료되었으나 누구에게도 할당되 지 않은 상태를 나타내고, 할당 상태는 생성 후 사용자 계정에 할당된 상태를 나타낼 수 있다. 또한, 변경 상 태는 블록체인 상에서 키가 변경된 상태를 나타내며, 예를 들어, 키를 갱신하는 사용자 계정 업데이트 트랜잭션 이 발생한 경우, 기존 키는 커럽션(corruption) 상태로서 변경 상태로 관리될 수 있다. 한편, 삭제 상태는 키 자체가 삭제된 상태를 나타내는데, 구현 방식에 따라 암호화폐 거래 서비스의 안정성을 보장하기 위해 물리적으 로 키를 삭제하지는 않고 논리적 삭제 상태로 관리가 되도록 유지될 수 있다. 키 관리 모듈은 이와 같이 키의 상태를 여러 가지로 관리함으로써, 대규모 키 관리를 체계적이고 효율적으로 수행할 수 있으며, 본 실시 예에서 설명한 4 가지 외에도 구체적인 구현 목적에 따른 추가적인 상태가 정의되고 키 관리 모듈에 의해 사용될 수 있다. 특히, 키 관리 모듈은 키 관리를 위해 키 스토리지(130, 140)를 이용하는데, 키 스토리지(130, 140)는 서 로 상이한 특성을 갖는 1차 키 스토리지 및 2차 키 스토리지를 포함할 수 있다. 1차 키 스토리지는 생성 상태에 해당하는 키를 저장할 수 있다. 1차 키 스토리지는 FIFO(First In First Out) 구조를 가지며, 할당이 이루어지지 않은 생성 상태의 키가 FIFO 구조로 관리될 수 있다. 1차 키 스 토리지에 저장되는 키들은 사용자 계정에서 활용되고 있는 키들에 해당하지 않은 이유로 캐시(cache)를 비 롯한 임시 또는 일시적 용도의 저장소로 구현되는 것이 바람직하나, 영구 저장 용도의 저장소로 구현될 수 없는 것은 아니다. 2차 키 스토리지는 할당 상태, 변경 상태 또는 삭제 상태에 해당하는 키를 저장할 수 있다. 2차 키 스토 리지는 키-값(key-value) 스토리지일 수 있으며, 예를 들어 DynamoDB와 같은 비관계형 데이터베이스 (NoSQL) 기반으로 구현될 수 있다. 2차 키 스토리지에 저장되는 키들은 사용자 계정에 연결되어 활용되는 키들에 해당되므로, 신속한 쿼리 및 응답이 보장되며 안정성이 우수한 영구 저장 용도의 저장소로 구현될 수 있 다. 본 발명의 몇몇 실시 예에서, 삭제 상태에 해당하는 키는 Pub/Sub 이벤트 구조를 사용하여 저전력(low consumption)으로 유지되도록 관리될 수 있는데, 이와 관련하여서는 도 6 내지 도 8을 참조하여 후술하도록 한 다. 1차 키 스토리지와 2차 키 스토리지 사이에서는 키 이동이 발생할 수 있으며, 예를 들어, 1차 키 스 토리지에 저장된 미할당 키 중에서 할당 상태로 변경된 키는 1차 키 스토리지에서 2차 키 스토리지 로 이동될 수 있다. 이외 구체적인 구현 목적에 따라, 1차 키 스토리지에 저장된 키가 2차 키 스토 리지로 이동되거나, 2차 키 스토리지에 저장된 키가 1차 키 스토리지로 이동할 수 있다. 이와 같이, 키 관리 모듈은 서로 상이한 특성을 갖는 1차 키 스토리지 및 2차 키 스토리지를 기반으 로 상이한 상태를 갖는 키들을 체계적으로 관리함으로써, 키의 개수가 백만 개 내지 수백만 개 수준에 이르는 경우에도 무리없이 키 관리를 지원할 수 있다. 도 3은 본 발명의 일 실시 예에 따른 블록체인 기반 서비스 서버의 키 제어 모듈을 설명하기 위한 블록도이다. 도 3을 참조하면, 본 발명의 일 실시 예에 따른 블록체인 기반 서비스 서버의 키 제어 모듈은 요청 수 신 모듈, 키 생성 정책 제공 모듈 및 키 생성 제어 모듈을 포함할 수 있다. 요청 수신 모듈은, 사용자 장치(31, 33, 35) 또는 블록체인 기반 서비스 제공 모듈로부터 키 생성 요 청을 수신할 수 있다. 전술한 바와 같이, 키 생성 요청은 사용자 신규 계정이 생성되어 키를 부여할 필요가 있 는 경우, 암호화폐 거래에 있어서 자산 전송을 위해 서명이 필요한 경우 등의 경우에 발생된 것일 수 있다. 키 생성 정책 제공 모듈은, 미리 정해진 키 생성 정책을 제공할 수 있다. 구체적으로, 미리 정해진 키 생 성 정책은, 키 관리 모듈 및 하드웨어 보안 장치의 키 생성 비율을 지정하는 정보를 포함할 수 있다. 예를 들어, 키를 생성하기 위해 필요한 총 자원 소모량을 100으로 할 때, 키 관리 모듈에 의한 키 생성의 자원 소모량과, 하드웨어 보안 장치에 의한 키 생성의 자원 소모량의 비율이 70:30이 되도록 키 생성 비율 을 지정하는 정보가 키 생성 정책으로 결정될 수 있다. 물론, 이러한 정책은, 키 관리 모듈로부터 제공되 는 키 전송 트래픽이 하드웨어 보안 장치로부터 제공되는 키 전송 트래픽보다 높다는 점을 고려한 것이다. 또 다른 예로, 암호화폐 지갑 서비스 중 사용자의 요청 트래픽이 비교적 활발한 시간대에는 키 관리 모듈 에 의한 키 생성의 자원 소모량과, 하드웨어 보안 장치에 의한 키 생성의 자원 소모량의 비율이 80:20이되도록 하고, 사용자의 요청 트래픽이 비교적 활발하지 않은 시간대에는 키 관리 모듈에 의한 키 생성의 자원 소모량과, 하드웨어 보안 장치에 의한 키 생성의 자원 소모량의 비율이 60:40이 되도록 키 생성 정책 이 결정될 수도 있다. 또 다른 예로, 하드웨어 보안 장치가 키 생성 외의 다른 기능을 실행할 필요가 있 는 경우, 키 생성 작업은 키 관리 모듈에 주도적으로 수행되도록 하여 하드웨어 보안 장치가 다른 기 능을 원활하게 수행할 수 있도록 90:10의 비율로 키 생성 정책이 결정될 수도 있으며, 구체적인 구현 목적 및 시나리오에 따라 본 실시 예에서 나열하지 않은 다양한 여러 방식으로 키 생성 정책이 정해질 수 있다. 뿐만 아니라, 이와 같은 키 생성 정책은 사용자(또는 관리자)에 의해 정적으로 설정될 수도 있지만, 동적으로 관리되도록 설정될 수도 있다. 예를 들어, 서비스 요청에 따른 응답 시간을 측정 또는 모니터링하면서, 1차로 설정한 키 관리 모듈에 의한 키 생성의 자원 소모량과, 하드웨어 보안 장치에 의한 키 생성의 자원 소모량의 비율이 서비스 품질을 저하시키는 경우, 측정 또는 모니터링 결과를 피드백으로 삼아 키 생성 비율을 상향 또는 하향 조정하도록 하여 동적 관리가 이루어지도록 할 수 있다. 키 생성 제어 모듈은, 키 생성 정책 제공 모듈로부터 키 생성 정책을 제공받고, 제공받은 키 생성 정 책에 따라 키 관리 모듈 및 하드웨어 보안 장치 중 적어도 하나를 이용하여 키를 획득하는 키 생성 제어를 수행함으로써 키를 획득할 수 있다. 또한, 키 생성 제어 모듈은, 키 생성 요청에 대한 응답으로, 획득한 키를 블록체인 기반 서비스 제공 모듈로 전송할 수 있다. 한편, 키 생성 제어 모듈은, 키 생성 정책에도 불구하고, 키 관리 모듈에서 제공할 수 있는 잔여 키 가 모두 소진된 경우에는, 키 관리 모듈을 통한 키 획득을 중단하고, 하드웨어 보안 장치만을 이용하 여 키 생성이 수행되도록 할 수 있다. 그리고 키 관리 모듈에 충분한 잔여 키가 생성된 경우에는 다시 키 생성 정책에 따라 키 획득을 계속할 수 있다. 잔여 키가 모두 소진된 경우 또는 충분한 잔여 키가 생성된 경우 는 에러 또는 이벤트 핸들링 메커니즘을 통해 키 생성 제어 모듈이 인지하도록 구현될 수 있으나, 본 발명 의 범위가 이에 제한되는 것은 아니다. 도 4는 본 발명의 일 실시 예에 따른 블록체인 기반 서비스 서버의 키 관리 모듈을 설명하기 위한 블록도이다. 도 4를 참조하면, 본 발명의 일 실시 예에 따른 블록체인 기반 서비스 서버의 키 관리 모듈은 요청 관 리 모듈, 키 상태 해석 모듈 및 키 상태 관리 모듈을 포함할 수 있다. 요청 관리 모듈은, 키 제어 모듈로부터 키 제공 요청을 수신할 수 있다. 전술한 바와 같이, 키 제공 요청은, 키 제어 모듈이 키 관리 모듈에, 생성된 키를 제공하라는 의미로 전송하는 요청일 수 있다. 키 상태 관리 모듈은, 키 제공 요청에 따라 키 스토리지(130, 140)로부터 키를 검색할 수 있다. 구체적으 로, 키 제공 요청이 사용자 신규 계정이 생성되어 키를 부여할 필요가 있는 경우라면, 미할당 상태의 키가 저장 된 1차 키 스토리지를 주로 검색할 수 있고, 키 제공 요청이 암호화폐 거래에 있어서 자산 전송을 위해 서 명이 필요한 경우라면, 할당 상태의 키가 저장된 2차 키 스토리지를 주로 검색할 수 있다. 한편, 어떤 사 용자 계정에 할당된 키가 변경되는 경우, 키 상태 관리 모듈은 키 변경 요청을 수신하고, 키 변경 요청에 따라 2차 키 스토리지로부터 키를 인출하고, 블록체인 네트워크를 통해 갱신된 키를 다시 2차 키 스토 리지에 삽입할 수 있다. 키 상태 해석 모듈은, 키 상태 관리 모듈에 의해 검색된 키의 상태가 키 제공 요청에 부합하는지 여 부를 해석할 수 있다. 구체적으로, 암호화폐 거래 서비스의 안정성을 보장하기 위해 물리적으로 키를 삭제하지 는 않고 논리적 삭제 상태로 관리가 되도록 유지하는 경우, 키 생성 요청에 또는 서명 요청에 대해 삭제 상태의 키가 전달되지 않아야 하므로, 키 상태 해석 모듈은 키 상태 관리 모듈에 의해 검색된 키가 키 제공 요청에 대해 응답으로 전달되기에 적합한지 부적합한지 여부를 판단할 수 있다. 키 상태 해설 모듈에 의해 적합성이 검증된 후, 요청 관리 모듈은, 키 제공 요청에 대한 응답으로, 키 상태 관리 모듈에 의해 검색된 키를 키 관리 모듈로 전송할 수 있다. 도 5는 본 발명의 일 실시 예에 따른 블록체인 기반 서비스용 키 관리 방법을 설명하기 위한 흐름도이다. 도 5를 참조하면, 본 발명의 일 실시 예에 따른 블록체인 기반 서비스용 키 관리 방법은, 블록체인 기반 서비스 에 사용되는 키를 생성하고, 키 스토리지(130, 140)를 이용하여, 생성된 키를 저장 및 관리하는 단계(S501); 블 록체인 기반 서비스 제공 모듈로부터 키 생성 요청을 수신하는 단계(S503); 미리 정해진 키 생성 정책을 제공받는 단계(S505); 키 생성 정책에 따라, 키 스토리지(130, 140)를 이용하여 관리되는 키 및 하드웨어 보안 장치에 의해 생성되는 키 중 적어도 하나에 기초하여 키를 획득하는 단계(S507); 및 키 생성 요청에 대한응답으로, 획득한 키를 블록체인 기반 서비스 제공 모듈로 전송하는 단계(S509)를 포함할 수 있다. 본 실시 예에 따른 방법과 관련된 구체적인 내용에 대해서는 도 1 내지 도 4를 참조하여 전술한 내용을 참조할 수 있으므로, 여기서는 중복되는 설명을 생략하도록 한다. 도 6은 본 발명의 다른 실시 예에 따른 블록체인 기반 서비스용 키 시스템의 블록체인 기반 서비스 서버를 설명 하기 위한 블록도이고, 도 7은 본 발명의 다른 실시 예에 따른 블록체인 기반 서비스 서버의 키 관리 모듈을 설 명하기 위한 블록도이다. 도 6을 참조하면, 본 발명의 다른 실시 예에 따른 본 발명의 다른 실시 예에 따른 블록체인 기반 서비스용 키 시스템의 블록체인 기반 서비스 서버가 도 2의 블록체인 기반 서비스용 키 시스템의 블록체인 기반 서비스 서버와 다른 점은 PubSub 이벤트 핸들링 모듈을 더 포함한다는 점이다. 도 7을 함께 참조하면, PubSub 이벤트 핸들링 모듈은, 키 스토리지(130, 140)에 저장된 키가 삭제 상태로 변경되는 삭제 이벤트가 발생된 경우, 삭제 이벤트 발생 메시지를 하나 이상의 구독 서비스/장치(170, 172)로 전송할 수 있다. 구체적으로, 키 스토리지(130, 140)에 저장된 키가 삭제 상태로 변경되는 경우, 키 상태 관리 모듈은 삭제 이벤트를 생성하여 PubSub 이벤트 핸들링 모듈에 전송할 수 있다. 이와 같이 삭제 이벤트를 전송하는 이 유는, 하나 이상의 구독 서비스/장치(170, 172)로 하여금 해당 키가 삭제 상태로 변경되었음을 인지할 수 있도 록 하기 위함이다. 이와 같은 삭제 이벤트는 하나 이상의 구독 서비스/장치(170, 172)뿐 아니라 하나 이상의 구독 서비스/장치(170, 172)와 데이터를 주고 받는 후속의 서비스/장치에까지 전파될 수 있으며, 때로는 삭제 이벤트를 수신한 하나 이상의 구독 서비스/장치(170, 172)가 새로운 이벤트를 생성하여 후속의 서비스/장치에게 전달하도록 하여 이벤트 드리븐(event-driven) 통신이 수행될 수도 있다. 예를 들어, 사용자 계정의 삭제로 인해 해당 사용자 계정에 할당되었던 키가 삭제 상태로 변경된 경우, 키 상태 관리 모듈은 삭제 이벤트를 퍼블리시(publish) 또는 발행하고, 이벤트 버스(event bus)의 역할을 하는 PubSub 이벤트 핸들링 모듈을 매개로 삭제 이벤트 발생 메시지가 전송됨으로써, 서브스크라이브 (subscribe) 또는 구독된 구독 서비스/장치(170, 172)가 이를 인지하여, 구독 서비스/장치(170, 172)로 하여금 또 다른 서비스를 제공하도록 할 수 있게 된다. 예를 들어, 구독 서비스로는 빌링 서비스, 내부 관리용 서비스 등을 들 수 있으며, 구독 서비스/장치(170, 172)는 예를 들어 계정 삭제 이벤트를 구독하여 개인 정보 또는 서 비스 데이터에 대한 삭제 또는 수정을 수행할 수 있다. 도 8은 본 발명의 다른 실시 예에 따른 블록체인 기반 서비스용 키 관리 방법을 설명하기 위한 흐름도이다. 도 8을 참조하면, 본 발명의 다른 실시 예에 따른 블록체인 기반 서비스용 키 관리 방법은, 블록체인 기반 서비 스에 사용되는 키를 생성하고, 키 스토리지(130, 140)를 이용하여, 생성된 키를 저장 및 관리하는 단계(S801); 키 스토리지(130, 140)에 저장된 키가 삭제 상태로 변경되는 삭제 이벤트를 검출하는 단계(S803); 및 삭제 이벤 트 발생 메시지를 하나 이상의 구독 서비스/장치로 전송하는 단계(S805)를 포함할 수 있다. 본 실시 예에 따른 방법과 관련된 구체적인 내용에 대해서는 도 6 및 도 7을 참조하여 전술한 내용을 참조할 수 있으므로, 여기서는 중복되는 설명을 생략하도록 한다. 도 9는 본 발명의 또 다른 실시 예에 따른 블록체인 기반 서비스 서버의 키 제어 모듈을 설명하기 위한 블록도 이다. 도 9를 참조하면, 본 발명의 또 다른 실시 예에 따른 블록체인 기반 서비스 서버의 키 제어 모듈이 도 2의 키 제어 모듈과 다른 점은, 키 생성 정책 제공 모듈 대신 트래픽 수요 예측 모듈을 포함한다는 점이다. 그러나, 본 실시 예에서, 키 생성 정책 제공 모듈이 언급되지 않는 이유는 트래픽 수요 예측 모 듈에 집중하여 설명을 하기 위한 이유에 불과하며, 트래픽 수요 예측 모듈만을 포함하고 키 생성 정 책 제공 모듈을 배제하려는 의도는 아니다. 따라서, 구체적인 구현 방식에 따라, 트래픽 수요 예측 모듈 과 함께 키 생성 정책 제공 모듈이 포함될 수도 있다. 요청 수신 모듈은, 사용자 장치(31, 33, 35) 또는 블록체인 기반 서비스 제공 모듈로부터 키 생성 요 청을 수신할 수 있다. 전술한 바와 같이, 키 생성 요청은 사용자 신규 계정이 생성되어 키를 부여할 필요가 있 는 경우, 암호화폐 거래에 있어서 자산 전송을 위해 서명이 필요한 경우 등의 경우에 발생된 것일 수 있다. 트래픽 수요 예측 모듈은, 키 생성 요청에 기초하여 트래픽 수요를 예측할 수 있다. 구체적으로, 트래픽 수요 예측 모듈은 외부로부터 인입되는 트래픽을 모니터링할 수 있다. 예를 들어, 트래픽 수요 예측 모듈 은 인입되는 트래픽 수준을 RPS(Request Per Second)와 같은 척도를 이용하여 정량적으로 측정할 수 있다. 또한, 트래픽 수요 예측 모듈은, 측정한 트래픽 수준에 대한 과거 데이터를 분석하고, 그 분석 결과에 기 반하여 향후 미래에 발생될 트래픽의 가용율을 예측할 수 있다. 예를 들어, 트래픽 수요 예측 모듈은, 최 근 1초, 최근 1분, 최근 30분, 최근 1시간 등 다양한 시간 구간에 대한 평균 트래픽을 연산하고, 그 연산 결과 로부터 분석을 수행할 수 있으며, 이를 예측에 활용할 수 있다. 본 발명의 몇몇 실시 예에서, 트래픽 수요 예측은 인공지능 기반으로 구현될 수도 있다. 예를 들어, 트래픽 수 요 예측 모듈은, 과거의 트래픽 데이터를 이용하여 트래픽 수요 예측을 출력할 수 있도록 학습된 학습 모 델을 제공받고, 동작 중 최근 1초, 최근 1분, 최근 30분, 최근 1시간 등 다양한 시간 구간에 대한 트래픽 데이 터를 학습 모델에 입력하여, 트래픽 수요 예측 값을 학습 모델로부터 획득함으로써 트래픽 수요를 예측할 수 있 다. 이와 같이 트래픽 수요 예측 모듈에 의해 예측된 트래픽 수요에 기초하여 키 생성 비율이 결정될 수 있다. 예를 들어, 예측 수요에 기반하여, 키를 생성하기 위해 필요한 총 자원 소모량을 100으로 할 때, 키 관리 모듈 에 의한 키 생성의 자원 소모량과, 하드웨어 보안 장치에 의한 키 생성의 자원 소모량의 비율이 70:30이 되도록 키 생성 비율을 지정할 수 있다. 물론, 이러한 정책은, 키 관리 모듈로부터 제공되는 키 전송 트래픽이 하드웨어 보안 장치로부터 제공되는 키 전송 트래픽보다 높다는 점을 고려한 것이다. 또 다른 예로, 예측 수요가 증가할 것으로 분석된 시간대에는 키 관리 모듈에 의한 키 생성의 자원 소모량 과, 하드웨어 보안 장치에 의한 키 생성의 자원 소모량의 비율이 80:20이 되도록 하고, 예측 수요가 감소 할 것으로 분석된 시간대에는 키 관리 모듈에 의한 키 생성의 자원 소모량과, 하드웨어 보안 장치에 의한 키 생성의 자원 소모량의 비율이 60:40이 되도록 키 생성 비율이 결정될 수도 있다. 또 다른 예로, 예측 수요를 고려했을 때, 하드웨어 보안 장치가 키 생성 외의 다른 기능을 실행할 필요가 있는 경우, 키 생성 작업은 키 관리 모듈에 주도적으로 수행되도록 하여 하드웨어 보안 장치가 다른 기능을 원활하게 수 행할 수 있도록 90:10의 비율로 키 생성 비율이 결정될 수도 있으며, 구체적인 구현 목적 및 시나리오에 따라 본 실시 예에서 나열하지 않은 다양한 여러 방식으로 키 생성 비율이 정해질 수 있다. 키 생성 제어 모듈은, 트래픽 수요 예측 모듈에 의해 예측된 트래픽 수요에 기초하여 정해지는 키 생 성 비율에 따라, 키 관리 모듈 및 하드웨어 보안 장치 중 적어도 하나를 이용하여 키를 획득하는 키 생성 제어를 수행함으로써 키를 획득할 수 있다. 또한, 키 생성 제어 모듈은, 키 생성 요청에 대한 응답 으로, 획득한 키를 블록체인 기반 서비스 제공 모듈로 전송할 수 있다. 한편, 키 생성 제어 모듈은, 트래픽 수요 예측 모듈에 의해 정해지는 키 생성 비율에도 불구하고, 키 관리 모듈에서 제공할 수 있는 잔여 키가 모두 소진된 경우에는, 키 관리 모듈을 통한 키 획득을 중 단하고, 하드웨어 보안 장치만을 이용하여 키 생성이 수행되도록 할 수 있다. 그리고 키 관리 모듈 에 충분한 잔여 키가 생성된 경우에는 다시 키 생성 정책에 따라 키 획득을 계속할 수 있다. 잔여 키가 모두 소진된 경우 또는 충분한 잔여 키가 생성된 경우는 에러 또는 이벤트 핸들링 메커니즘을 통해 키 생성 제어 모 듈이 인지하도록 구현될 수 있으나, 본 발명의 범위가 이에 제한되는 것은 아니다. 도 10은 본 발명의 또 다른 실시 예에 따른 블록체인 기반 서비스용 키 관리 방법을 설명하기 위한 흐름도이다. 도 10을 참조하면, 본 발명의 또 다른 실시 예에 따른 블록체인 기반 서비스용 키 관리 방법은, 블록체인 기반 서비스에 사용되는 키를 생성하고, 키 스토리지(130, 140)를 이용하여, 생성된 키를 저장 및 관리하는 단계 (S1001); 블록체인 기반 서비스 제공 모듈로부터 키 생성 요청을 수신하는 단계(S1003); 키 생성 요청에 기초하여 트래픽 수요를 예측하는 단계(S1005); 예측된 트래픽 수요에 기초하여 정해지는 비율에 따라, 키 스토 리지(130, 140)를 이용하여 관리되는 키 및 하드웨어 보안 장치에 의해 생성되는 키 중 적어도 하나에 기 초하여 키를 획득하는 단계(S1007); 및 키 생성 요청에 대한 응답으로, 획득한 키를 블록체인 기반 서비스 제공 모듈로 전송하는 단계(S1009)를 포함할 수 있다. 본 실시 예에 따른 방법과 관련된 구체적인 내용에 대해서는 도 9를 참조하여 전술한 내용을 참조할 수 있으므 로, 여기서는 중복되는 설명을 생략하도록 한다. 도 11은 본 발명의 일 실시 예에 따른 컴퓨팅 장치를 설명하기 위한 블록도이다. 도 11을 참조하면, 본 발명의 실시 예들에 따른 블록체인 기반 서비스용 키 관리 시스템 및 방법은 컴퓨팅 장치 를 이용하여 구현될 수 있다. 컴퓨팅 장치는 버스를 통해 통신하는 프로세서, 메모리, 저장 장치, 디스플레이 장치 , 다른 개체와의 통신을 위해 네트워크에 대한 접속을 제공하는 네트워크 인터페이스 장치 및, 사용자 입력 인터페이스 또는 사용자 출력 인터페이스를 제공하는 입출력 인터페이스 장치 중 적어도 하나 를 포함할 수 있다. 프로세서는 AP(Application Processor), CPU(Central Processing Unit), GPU(Graphic Processing Unit) 등과 같은 다양한 종류들로 구현될 수 있으며, 메모리 또는 저장 장치에 저장된 명령을 실행하 는 임의의 전자 장치일 수 있다. 특히, 프로세서는 도 1 내지 도 10과 관련하여 전술한 기능 또는 방법들 을 구현하도록 구성될 수 있다. 메모리 및 저장 장치는 다양한 형태의 휘발성 또는 비 휘발성 저장 매체를 포함할 수 있다. 예를 들 어, 메모리는 ROM(read-only memory) 또는 RAM(random access memory)을 포함할 수 있으며, 메모리 는 프로세서의 내부 또는 외부에 위치할 수 있고, 이미 알려진 다양한 수단을 통해 프로세서와 연결 될 수 있다. 한편, 저장 장치의 예로서 HDD(Hard Disk Drive) 또는 SSD(Solid State Drive) 등을 들 수 있으나, 본 발명의 범위는 설명을 위해 위에서 나열한 요소들로 제한되는 것은 아니다. 본 발명의 실시 예들에 따른 블록체인 기반 서비스용 키 관리 시스템 및 방법 중 적어도 일부는 컴퓨팅 장치 에서 실행되는 프로그램 또는 소프트웨어로 구현될 수 있고, 이와 같은 프로그램 또는 소프트웨어는 컴퓨터 로 판독 가능한 매체에 저장될 수 있다. 한편, 본 발명의 실시 예들에 따른 블록체인 기반 서비스용 키 관리 시스템 및 방법 중 적어도 일부는 컴퓨팅 장치의 하드웨어를 사용하여 구현되거나, 컴퓨팅 장치와 전기적으로 접속될 수 있는 별도의 하드웨어로 구현될 수도 있다. 이제까지 설명한 본 발명의 실시 예들에 따르면, 블록체인 기반 서비스 서버는 하드웨어 보안 장치만 을 사용하지 않고, 블록체인 기반 서비스에 사용되는 키를 사전에 생성해 두는 방식(예를 들어, 블록체인 기반 서비스 서버가 사용자로부터 키 생성 요청을 수신하기 전에 미리 생성해 두는 방식)을 채택하거나, 또는 사 전에 생성한 키와 하드웨어 보안 장치를 이용하여 생성한 키를 함께 사용하는 방식을 채택함으로써, 수 백 만 개 수준의 키 관리가 가능해지며, 수 십만 TPS 수준(예를 들어 50만 TPS 이상)의 키 생성 성능을 확보할 수 있다. 또한, 키 관리 모듈은 서로 상이한 특성을 갖는 1차 키 스토리지 및 2차 키 스토리지를 기반으 로 상이한 상태를 갖는 키들을 체계적으로 관리함으로써, 키의 개수가 백만 개 내지 수백만 개 수준에 이르는 경우에도 무리없이 키 관리를 지원할 수 있다. 이상에서 본 발명의 실시 예들에 대하여 상세하게 설명하였지만 본 발명의 권리 범위는 이에 한정되지 않으며, 다음의 청구범위에서 정의하고 있는 본 발명의 기본 개념을 이용한, 본 발명이 속하는 기술 분야에서 통상의 지 식을 가진 자의 여러 변형 및 개량 형태 또한 본 발명의 권리 범위에 속한다."}
{"patent_id": "10-2021-0191882", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시 예에 따른 블록체인 기반 서비스용 키 시스템을 설명하기 위한 블록도이다. 도 2는 본 발명의 일 실시 예에 따른 블록체인 기반 서비스 서버를 설명하기 위한 블록도이다. 도 3은 본 발명의 일 실시 예에 따른 블록체인 기반 서비스 서버의 키 제어 모듈을 설명하기 위한 블록도이다. 도 4는 본 발명의 일 실시 예에 따른 블록체인 기반 서비스 서버의 키 관리 모듈을 설명하기 위한 블록도이다. 도 5는 본 발명의 일 실시 예에 따른 블록체인 기반 서비스용 키 관리 방법을 설명하기 위한 흐름도이다. 도 6은 본 발명의 다른 실시 예에 따른 본 발명의 다른 실시 예에 따른 블록체인 기반 서비스용 키 시스템의 블 록체인 기반 서비스 서버를 설명하기 위한 블록도이다. 도 7은 본 발명의 다른 실시 예에 따른 블록체인 기반 서비스 서버의 키 관리 모듈을 설명하기 위한 블록도이다. 도 8은 본 발명의 다른 실시 예에 따른 블록체인 기반 서비스용 키 관리 방법을 설명하기 위한 흐름도이다. 도 9는 본 발명의 또 다른 실시 예에 따른 블록체인 기반 서비스 서버의 키 제어 모듈을 설명하기 위한 블록도 이다. 도 10은 본 발명의 또 다른 실시 예에 따른 블록체인 기반 서비스용 키 관리 방법을 설명하기 위한 흐름도이다. 도 11은 본 발명의 일 실시 예에 따른 컴퓨팅 장치를 설명하기 위한 블록도이다."}
