{"patent_id": "10-2020-0083047", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2022-0005326", "출원번호": "10-2020-0083047", "발명의 명칭": "의료영상을 기초로 인체 조직을 분석하는 방법 및 그 장치", "출원인": "메디컬아이피 주식회사", "발명자": "이혁희"}}
{"patent_id": "10-2020-0083047", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "3차원 의료영상을 이용하여 2차원 의료영상과 조직의 3차원 크기, 체적 또는 무게 정보를 포함하는 학습데이터를 생성하는 단계; 상기 학습데이터를 이용하여, 복수의 조직이 동일평면에 중첩 표시된 2차원 의료영상에서 적어도 하나 이상의정상 또는 질병 조직을 구분하여 3차원 크기, 체적 또는 무게를 구하는 인공지능모델을 학습시키는 단계; 및X선 의료영상을 상기 인공지능모델에 입력하여 정상 또는 질병 조직의 3차원 크기, 체적 또는 무게를 구하는 단계;를 포함하는 것을 특징으로 하는 조직분석방법."}
{"patent_id": "10-2020-0083047", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1항에 있어서, 상기 학습데이터를 생성하는 단계는, 상기 3차원 의료영상을 이용하여 상기 조직에 대한 서로 다른 방향의 2차원 의료영상을 생성하는 단계;를 포함하고,상기 인공지능모델을 학습시키는 단계는, 상기 서로 다른 방향의 2차원 의료영상과 상기 조직의 3차원 크기, 체적 또는 무게 정보를 이용하여 상기 인공지능모델을 학습시키는 단계;를 포함하는 것을 특징으로 하는 조직분석방법."}
{"patent_id": "10-2020-0083047", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 2항에 있어서, 상기 조직의 크기, 체적 또는 무게를 구하는 단계는,서로 다른 방향에서 촬영된 적어도 둘 이상의 X선 의료영상을 입력받는 단계; 및상기 적어도 둘 이상의 X선 의료영상을 상기 인공지능모델에 입력하는 단계;를 포함하는 것을 특징으로 하는 조직분석방법."}
{"patent_id": "10-2020-0083047", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 1항에 있어서, 상기 인공지능모델을 학습시키는 단계는,복수의 조직이 동일평면에 중첩 표시된 2차원 의료영상에서 적어도 하나 이상의 조직을 구분하도록 제1 인공지능모델을 학습시키는 단계; 및상기 제1 인공지능모델을 통해 구분된 조직의 3차원 크기, 체적 또는 무게를 구하는 제2 인공지능모델을 학습시키는 단계;를 포함하는 것을 특징으로 하는 조직분석방법."}
{"patent_id": "10-2020-0083047", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 1항에 있어서,상기 인공지능모델을 이용하여 상기 X선 영상에 포함된 복수의 조직을 분할한 복수의 조직영상을 생성하는단계;를 더 포함하는 것을 특징으로 하는 조직분석방법."}
{"patent_id": "10-2020-0083047", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "3차원 의료영상을 이용하여 2차원 의료영상과 조직의 3차원 크기, 체적 또는 무게 정보를 포함하는 학습데이터를 생성하는 학습데이터생성부; 상기 학습데이터를 이용하여, 복수의 조직이 동일평면에 중첩 표시된 2차원 의료영상에서 적어도 하나 이상의정상 또는 질병 조직을 구분하여 3차원 크기, 체적 또는 무게를 구하는 인공지능모델 학습시키는 학습부; 및X선 의료영상을 상기 인공지능모델에 입력하여 정상 또는 질병 조직의 3차원 크기, 체적 또는 무게를 구하는 체공개특허 10-2022-0005326-3-적산출부;를 포함하는 것을 특징으로 하는 조직분석장치."}
{"patent_id": "10-2020-0083047", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제 6항에 있어서, 상기 학습데이터생성부는, 상기 3차원 의료영상으로부터 상기 조직에 대한 서로 다른 방향의 2차원 의료영상을생성하고,상기 학습부는, 상기 서로 다른 방향의 2차원 의료영상과 상기 조직의 3차원 크기, 체적 또는 무게 정보를 이용하여 상기 인공지능모델을 학습시키는 것을 특징으로 조직분석장치."}
{"patent_id": "10-2020-0083047", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 7항에 있어서, 상기 체적산출부는,서로 다른 방향에서 촬영된 적어도 둘 이상의 X선 의료영상을 상기 인공지능모델에 입력하여 조직의 3차원크기, 체적 또는 무게를 산출하는 것을 특징으로 하는 조직분석장치."}
{"patent_id": "10-2020-0083047", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 6항에 있어서,상기 인공지능모델을 이용하여 상기 X선 영상에 포함된 복수의 조직을 분할한 복수의 조직영상을 생성하는 조직분할부;를 더 포함하는 것을 특징으로 하는 조직분석장치."}
{"patent_id": "10-2020-0083047", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제 1항 내지 제 5항 중 어느 한 항에 기재된 방법을 수행하기 위한 프로그램을 기록한 컴퓨터로 읽을 수 있는기록매체."}
{"patent_id": "10-2020-0083047", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "의료영상을 기초로 인체 조직을 분석하는 방법 및 그 장치가 개시된다. 조직분석장치는 3차원 의료영상을 이용하 여 2차원 의료영상과 조직의 체적 정보를 포함하는 학습데이터를 생성하고, 이를 이용하여 복수의 조직이 동일평 면에 중첩 표시된 2차원 의료영상에서 적어도 하나 이상의 정상 또는 질병 조직을 구분하여 3차원 크기, 체적 또 는 무게를 구하는 인공지능모델을 학습시킨다. 그리고 조직분석장치는 인공지능모델을 이용하여 X선 의료영상으 로부터 정상 또는 질병 조직의 3차원 크기, 체적 또는 무게를 구한다."}
{"patent_id": "10-2020-0083047", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명의 실시 예는 의료영상을 기초로 인체 조직을 분석하는 방법 및 그 장치에 관한 것으로, 보다 상세하게 는 의료영상으로부터 특정 조직의 크기, 체적 또는 무게를 분석하거나 조직 분할 영상을 생성하는 방법 및 그 장치에 관한 것이다."}
{"patent_id": "10-2020-0083047", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "인체 내부를 촬영하는 방법으로 X선 촬영, CT(Computed Tomography) 또는 MRI(magnetic resonance imaging) 등 이 존재한다. X선 촬영은 촬영시 X선 촬영 영역 내에 있는 모든 인체조직에 X선이 투과하며, X선이 투과하는 조 직의 구성성분에 따른 X선 입자의 감소량에 따라 밝게 또는 어둡게 나타나는 2차원의 흑백 영상을 생성한다. X 선 촬영은 촬영 비용이 저렴하고 손쉽게 촬영할 수 있는 장점이 있으나, 여러 조직이 한 평면에 중첩하여 표시 되므로 장기나 병변을 정확하게 파악하는데 한계가 있다. 보다 정확한 조직 영상을 얻기 위해서는 CT나 MRI 촬 영이 필요하다. 그러나 CT 또는 MRI는 촬영 비용이 고가이므로 환자에게 경제적 부담이 된다."}
{"patent_id": "10-2020-0083047", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 실시 예가 이루고자 하는 기술적 과제는, 인공지능모델을 이용하여 X선 의료영상으로부터 인체의 각 종 조직을 분석하는 방법 및 그 장치를 제공하는 데 있다."}
{"patent_id": "10-2020-0083047", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기의 기술적 과제를 달성하기 위한, 본 발명의 실시 예에 따른 조직분석방법의 일 예는, 3차원 의료영상을 이 용하여 2차원 의료영상과 조직의 3차원 크기, 체적 또는 무게 정보를 포함하는 학습데이터를 생성하는 단계; 상 기 학습데이터를 이용하여, 복수의 조직이 동일평면에 중첩 표시된 2차원 의료영상에서 적어도 하나 이상의 정상 또는 질병 조직을 구분하여 3차원 크기, 체적 또는 무게를 구하는 인공지능모델을 학습시키는 단계; 및 X선 의료영상을 상기 인공지능모델에 입력하여 정상 또는 질병 조직의 3차원 크기, 체적 또는 무게를 구하는 단계; 를 포함한다. 상기의 기술적 과제를 달성하기 위한, 본 발명의 실시 예에 따른 조직분석장치의 일 예는, 3차원 의료영상을 이 용하여 2차원 의료영상과 3차원 조직의 크기, 체적 또는 무게 정보를 포함하는 학습데이터를 생성하는 학습데이 터생성부; 상기 학습데이터를 이용하여, 복수의 조직이 동일평면에 중첩 표시된 2차원 의료영상에서 적어도 하 나 이상의 정상 또는 질병 조직을 구분하여 3차원 크기, 체적 또는 무게를 구하는 인공지능모델 학습시키는 학 습부; 및 X선 의료영상을 상기 인공지능모델에 입력하여 정상 또는 질병 조직의 3차원 크기, 체적 또는 무게를 구하는 체적산출부;를 포함한다."}
{"patent_id": "10-2020-0083047", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 실시 예에 따르면, 2차원 X선 의료영상으로부터 조직의 3차원 크기, 체적 또는 무게를 구할 수 있다. 또한, 2차원 X선 의료영상 인공지능모델은 3차원 의료영상에서 라벨링된 영상을 2차원으로 변환하여 정교하게 라벨링된 2차원 X선 의료영상을 학습데이터로 이용하여 학습하므로, 인공지능모델의 정확도를 향상시킬 수 있다. 다른 실시 예에 따르면, X선 의료영상으로부터 적어도 하나 이상의 조직을 구분한 영상을 생성할 수 있다."}
{"patent_id": "10-2020-0083047", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하에서, 첨부된 도면들을 참조하여 본 발명의 실시 예에 따른 인체 조직 분석 방법 및 그 장치에 대해 상세히 살펴본다. 도 1은 본 발명의 실시 예에 따른 의료영상 기반의 조직분석장치의 일 예를 간략하게 도시한 도면이다. 도 1을 참조하면, 조직분석장치는 X선 의료영상을 입력받아 적어도 하나 이상의 조직으로 구성된 의 료영상(또는 적어도 하나 이상의 조직이 제외된 의료영상)을 출력하거나 또는 적어도 하나 이상의 조직에 대한 3차원 크기, 체적 또는 무게의 분석결과를 출력한다. 여기서, '조직'이라고 함은 폐, 기관지, 근육, 지방, 심장, 혈관, 뼈 등과 같은 각종 장기, 종양 등의 병변, 또는 염증 영역 등 영상의학적으로 유의미하게 구 분될 수 있는 모든 부위를 의미한다. 조직분석장치는 X선 의료영상으로부터 적어도 하나 이상의 조직에 대한 의료영상을 출력하는 구 성으로 구현되거나, 또는 X선 의료영상으로부터 적어도 하나 이상의 조직에 대한 3차원 크기, 체적 또는 무게를 분석하여 출력하는 구성으로 구현되거나, 또는 양자(120,130)를 모두 출력하는 구성으로 구현될 수 있다. 조직분석장치는 X선 촬영장비와 같은 각종 의료장비나 의료시스템(예를 들어, PACS(Picture Archiving and Communication System))의 일부로 구현되거나 일반컴퓨터 또는 서버 등으로 구현될 수 있다. 예를 들어, 조직분 석장치는 소프트웨어로 구현되어 각종 의료장비나 의료 시스템에 내장되거나 휴대용 저장매체(예를 들어,USB(Universal Serial Bus) 메모리) 등)에 저장된 후 각종 의료장비나 의료시스템의 인터페이스에 연결하여 사 용될 수 있다. 도 2는 본 발명의 실시 예에 따른 조직분석장치의 일 예의 구성을 도시한 도면이다. 도 2를 참조하면, 조직분석장치는 학습데이터생성부, 학습부, 조직분할부 및 체적산출부 를 포함한다. 실시 예에 따라 조직분석장치는 조직분할부 및 체적산출부 중 어느 하나만을 포함할 수 있다. 다만, 이하에서는 설명의 편의를 위하여 조직분할부와 체적산출부를 모두 포함하는 경우에 대하여 설명한다. 다른 실시 예로, 조직분석장치는 학습부 대신에 학습이 완료된 인공지능모 델을 포함할 수 있다. 학습데이터생성부는 인공지능모델의 학습에 필요한 학습데이터를 생성한다. 인공지능모델은 2차원 X선 의 료영상으로부터 적어도 하나 이상의 조직에 대한 의료영상(또는 적어도 하나 이상의 조직이 제거된 의료영상)을 생성하는 모델 및/또는 2차원 X선 의료영상으로부터 적어도 하나 이상의 조직에 대한 3차원 크기, 체적 또는 무 게 등을 산출하는 모델일 수 있다. 따라서 본 실시 예의 인공지능모델의 학습을 위해서는 조직에 대한 분할 영 상(또는 조직의 경계 및 밝기값 정보) 또는 조직에 대한 3차원 크기, 체적 또는 무게 등의 학습데이터가 필요하 다. 해부학적 지식을 가진 사용자가 X선 의료영상에서 특정 조직의 영역을 일일이 구분하여 학습데이터를 생성할 수 있으나, 인공지능모델의 학습을 위해서는 수 많은 학습데이터가 필요한데 이를 사용자가 일일이 생성하는 것은 현실적으로 거의 불가능하다. 더구나, X선 의료영상은 다양한 조직이 중첩되어 표현되므로 단순히 밝기 등을 이 용하여 각 조직의 영역을 구분할 경우에 조직 구분의 정확도가 떨어지는 문제점이 존재하며, X선 의료영상으로 부터 조직의 3차원 크기, 체적 또는 무게에 대한 학습데이터를 생성할 수도 없다. 이에 본 실시 예는, 학습데이터를 3차원 의료영상으로부터 자동 생성하는 방법을 제시한다. 학습데이터생성부 가 3차원 의료영상을 이용하여 인공지능모델의 학습에 필요한 학습데이터를 생성하는 방법에 대해 도 3 내 지 도 5에서 구체적으로 살펴본다. 학습부는 학습데이터생성부에 의해 생성된 학습데이터를 이용하여 인공지능모델을 학습시킨다. 인공 지능모델은 CNN(Convolutional Neural Network), DenseNet, U-net, GoogLeNet, Generative adversarial network 등 다양한 아키텍처로 구현될 수 있다. 예를 들어, 인공지능모델이 CNN으로 구현되는 경우에, 인공지능 모델은 학습데이터를 이용하여 인공 신경망의 연결 가중치를 조정하는 학습 과정을 수행한다. 실시 예에 따라 조직분석장치는 인공지능모델을 하나 또는 복수 개 포함할 수 있다. 예를 들어, 조직분석장치는 2차 원 X선 의료영상으로부터 적어도 하나 이상의 조직에 대한 의료영상을 생성하는 인공지능모델과 2차원 X선 의료 영상으로부터 적어도 하나 이상의 조직에 대한 3차원 크기, 체적 또는 무게를 산출하는 인공지능모델을 각각 포 함하거나 이들을 하나로 통합한 인공지능모델을 포함할 수 있다. 인공지능모델의 다양한 구현 예가 도 6 및 도 7에 도시되어 있다. 조직분할부는 2차원 X선 의료영상을 입력받으면 학습부에 의해 학습된 인공지능모델을 이용하여 적어 도 하나 이상의 정상 또는 질병 조직으로 구성되는 조직영상을 생성하여 출력한다. 조직영상은 X선 의료영상의 해당 조직의 경계(또는 면적)와 밝기 정보를 포함할 수 있다. 2차원 조직영상에서 밝기값은 해당 조직의 밀도를 반영한다. 예를 들어, 조직분할부는 흉부에 대한 X선 의료영상을 입력받으면 인공지능모델을 이용하여 폐 조직으로만 구성된 조직영상을 생성하여 출력할 수 있다. 다른 실시 예로, 조직분할부는 X선 의료영상에 포함된 복수의 조직을 구분하고 복수의 조직에 대한 각각의 조직영상을 생성하여 출력할 수 있다. 예를 들어, 흉부에 대한 X선 의료영상을 입력받으면, 조직분할부는 인공지능모델을 이용하여 폐 조직에 대한 제1 조직영상, 종양 등의 병변에 대한 제2 조직영상 등 복수의 서로 다른 조직에 대한 각각의 조직영상을 생성하여 출력할 수 있다. 또 다른 실시 예로, 조직분할부는 클라우드 시스템이나 컴퓨터의 저장공간에 저장된 X선 의료영상을 읽어 조직영상을 자동 생성하여 저장할 수 있다. 예를 들어, 조직분할부는 기 지정된 저장장소(또는 디렉토리 등)에 새로운 X선 의료영상이 저장되면 X선 의료영상에 대한 조직영상을 생성하여 기 지정된 저장장소에 저장할 수 있다. 또는 조직분할부는 인터넷 등을 통해 연결된 외부 단말로부터 X선 의료영상을 수신하면, X선 의 료영상을 기초로 생성한 조직영상을 외부 단말로 전송할 수 있다. 실시 예에 따라, 외부 단말로부터 X선 의료영 상을 수신하고 조직영상을 전송하기 위한 별도의 플랫폼이 존재할 수 있다. 체적산출부는 2차원 X선 의료영상을 입력받으면 인공지능모델을 이용하여 적어도 하나 이상의 조직에 대한 3차원 크기, 체적 또는 무게를 산출한다. 예를 들어, 흉부에 대한 X선 의료영상을 입력받으면 체적산출부 는 학습부에 의해 폐 관련 조직에 대한 3차원 크기, 체적 또는 무게를 구하도록 학습된 인공지능모델을 이 용하여 폐 영역의 면적, 체적 또는 무게를 구하거나, 폐 영역에 존재하는 염증의 면적을 구하거나, 종양 등의 크기, 체적 또는 무게 등을 구할 수 있다. 다른 예로, 체적산출부는 조직분할부에서 구한 조직영상 (또는 조직의 경계(또는 면적) 및 밝기값)을 인공지능모델에 입력하여 3차원 크기, 체적 또는 무게 등을 산출할 수 있다. 도 3은 본 발명의 실시 예에 따른 학습데이터 생성 방법의 일 예를 도시한 도면이다. 도 3을 참조하면, 학습데이터생성부는 3차원 의료영상을 이용하여 2차원 의료영상 또는 조직의 크기나 체적 또는 무게 등을 포함하는 학습데이터를 자동 생성한다. 3차원 의료영상의 일 예가 도 3 에 도시되어 있다. 먼저, X선 의료영상으로부터 적어도 하나 이상의 조직으로 구성된 조직영상 또는 적어도 하나 이상의 조직이 제 거된 조직영상을 출력하는 인공지능모델의 학습에 필요한 학습데이터의 생성과정에 대해 살펴본다. 학습데이터생성부는 3차원 의료영상에서 정상 또는 질병 조직을 분할한다. 예를 들어, 흉부 X선 의료영상 에서 폐 조직으로만 구성된 조직영상을 출력하는 인공지능모델의 학습인 경우에, 학습데이터생성부는 흉부 에 대한 3차원 의료영상에서 폐 조직을 분할한다. 학습데이터생성부는 종래의 다양한 영역분할 알고리즘을 이용하여 3차원 의료영상에서 특정 조직의 3차원 영역을 분할할 수 있다. 예를 들어, 학습데이터생성부는 국내등록특허공보 제10-1482247호 \"기도 추출 방법 및 그 장치\", 국내등록특허공보 제10-1514003호 \"폐엽 추출 방법 및 그 장치\", 국내공개특허공보 제10-2018-0098984호 \"의료영상의 영역 분리 방법 및 그 장치\" 등에 기재 된 분할 방법을 이용하여 3차원 의료영상에서 특정 조직의 영역을 분할할 수 있다. 학습데이터생성부는 3차원 의료영상의 차원을 축소하여 X선 의료영상과 같은 2차원 의료영상(이하, 기본영 상)을 생성하고, 또한 3차원 의료영상에서 분할한 조직을 차원 축소하여 2차원 의료영상(이하, 분할영상)을 생 성한다. 예를 들어, 학습데이터생성부는 흉부의 3차원 의료영상을 차원축소하여 흉부에 대한 2차원 기본영 상을 생성하고, 3차원 의료영상에서 분할한 폐 영역을 차원축소한 2차원 분할영상을 생성할 수 있다. 3차원 의 료영상을 차원 축소하는 방법의 일 예가 도 5에 도시되어 있다. 분할 영상은 분할된 조직의 경계(또는 면적) 및 밝기값 정보를 포함할 수 있다. 기본영상과 분할영상을 포함하는 학습데이터가 생성되면, 이후 학습부는 이를 이용하여 인공지능모델을 학습시킨다. 다음으로, X선 의료영상으로부터 조직에 대한 3차원 크기, 체적 또는 무게를 산출하는 인공지능모델의 학습에 필요한 학습데이터 생성과정에 대해 살펴본다. 학습데이터생성부는 3차원 의료영상에서 정상 또는 질병 조직을 분할하고, 해당 조직에 대한 3차원 크기, 체적 또는 무게 등을 구한다. 3차원 의료영상에서 분할한 조직에 대한 3차원 크기, 체적 또는 무게 등을 구하는 종래의 다양한 알고리즘이 본 실시 예에 적용될 수 있다. 학습데이터생성부는 3차원 의료영상을 차원 축소 하여 X선 의료영상과 같은 2차원 의료영상(즉, 기본영상)을 생성한다. 2차원 기본영상과 조직에 대한 3차원 크 기, 체적 또는 무게를 포함하는 학습데이터가 생성되면, 이후 학습부는 이를 이용하여 인공지능모델을 학 습시킨다. 기본영상에는 다양한 조직에 대한 경계(또는 면적) 및 밝기값 정보가 포함되므로, 학습데이터생성부 는 기본영상 그 자체를 학습데이터로 생성하거나, 기본영상에서 파악되는 조직에 대한 경계(또는 면적) 및 밝기값 정보를 학습데이터로 생성하거나, 또는 기본영상과 영상 내 조직의 경계(또는 면적) 및 밝기값 정보를 함께 학습데이터로 생성할 수 있다. 다른 실시 예로, 학습데이터는 3차원 의료영상을 그대로 차원축소한 기본영상이 아닌 3차원 크기, 체적 또는 무 게 등을 구하고자 하는 조직에 대한 2차원 의료영상(즉, 분할영상)을 포함할 수 있다. 이 경우, 학습부는 조직에 대한 분할영상과 그 조직의 3차원 크기, 체적 또는 무게 등을 포함하는 학습데이터를 이용하여 인공지능 모델을 학습시킬 수 있다. 이때, 분할영상에는 조직에 대한 경계(또는 면적) 및 밝기값 정보가 포함되므로, 학 습데이터생성부는 분할영상 그 자체를 학습데이터로 생성하거나, 분할영상에서 파악되는 조직에 대한 경계 (또는 면적) 및 밝기값 정보를 학습데이터로 생성하거나, 또는 분할영상과 조직의 경계(또는 면적) 및 밝기값 정보를 함께 학습데이터로 생성할 수 있다. 이하에서, 인공지능모델에 입력되는 2차원 의료영상(예를 들어, 기 본영상, 분할영상 또는 조직영상 등)이라고 함은 실시 예에 따라 영상 그 자체이거나 영상에 포함된 조직의 경 계(또는 면적) 및 밝기값 정보이거나 또는 이 둘을 모두 포함하는 개념으로 해석될 수 있다. 또 다른 예로, 학습데이터는 기본영상과 분할영상, 그리고 조직의 3차원 크기, 체적 또는 무게 등으로 구성될 수도 있다. 또 다른 실시 예로, 학습데이터는 적어도 둘 이상의 서로 다른 방향의 2차원 의료영상(기본영상 또 는 분할영상)과 조직의 3차원 크기, 체적 또는 무게 정보로 구성될 수 있으며 이에 대한 예가 도 6에 도시되어 있다. 본 실시 예는 설명의 편의를 위하여 조직영상을 출력하는 인공지능모델과 조직의 3차원 크기, 체적 또는 무게를 출력하는 인공지능모델의 학습데이터 생성과정을 각각 설명하고 있으나, 하나의 인공지능모델이 조직영상과 조 직의 3차원 크기, 체적 또는 무게 등을 모두 출력할 수 있으며, 이 경우 학습데이터생성부는 기본영상과 분할영상, 그리고 조직의 3차원 크기, 체적 또는 무게 등을 포함하는 학습데이터를 한 번에 생성할 수 있다. 다 른 실시 예로, 조직분석장치는 조직 영상을 출력하는 제1 인공지능모델과 조직의 3차원 크기, 체적 또는 무게 등을 출력하는 제2 인공지능모델을 각각 포함할 수 있으며, 이에 대한 예가 도 7에 도시되어 있다. 도 4는 본 발명의 실시 예에 따른 3차원 의료영상의 일 예를 도시한 도면이다. 도 4를 참조하면, CT 등의 3차원 의료영상은 일정 간격(d)으로 촬영된 복수 개의 x-y 단면 영상으로 구성 될 수 있다. 3차원 의료영상은 밝기를 나타내는 3차원 복셀(voxel)로 구성되며, DICOM(Digital Imaging and Communication in Medicine) 파일로 저장될 수 있다. 도 5 본 발명의 실시 예에 따른 3차원 의료영상를 차원 축소하는 방법의 일 예를 도시한 도면이다. 도 5를 참조하면, 3차원 의료영상은 밝기값을 포함하는 복셀(500,502,504,506,508,510,512,514)로 구성된다. 본 실시 예는 설명의 편의를 위하여 3차원 의료영상에 대한 8개의 복셀만(500,502,504,506,508,510,512,514)을 도시하고 있다. 학습데이터생성부는 3차원 의료영상을 2차원 의료영상으로 차원 축소하기 위하여 3차원 의료영상을 일정 방향으로 가상평면(520,530)에 투영한다. 가상평면(520,530)에 투영된 영상이 2차원 의료영상이 된다. 이때, 학 습데이터생성부는 투영 방향으로 중첩되는 복셀의 밝기값을 평균하여 2차원 의료영상의 밝기값을 생성한다. 즉, X선 의료영상은 X선 투과방향에 위치한 적어도 하나 이상의 조직에 의해 그 밝기값이 좌우되므로, 본 실시 예는 3차원 의료영상으로부터 X선 의료영상과 같이 각 조직에 대한 영향이 반영된 2차원 의료영상을 생성하기 위하여 투영 방향에 대해 중첩되는 복셀들의 밝기값을 평균하여 2차원 의료영상의 각 픽셀 의 밝기값을 구한다. 예를 들어, 가상의 촬영방향(즉, 투영 방향)이 X축과 평행하다면, 학습데이터생성부는 투영 방향으로 중첩 되는 제1 복셀과 제2 복셀의 밝기값을 평균하여 가상평면에 투영된 2차원 의료영상의 제1 픽셀 의 밝기값을 생성한다. 이와 같은 방법으로, 학습데이터생성부는 제3,4 복셀(502,504)의 밝기값을 평 균하여 제2 픽셀의 밝기값을 생성하고, 제5,6 복셀(508,514)의 밝기값을 평균하여 제3 픽셀의 밝기값 을 생성하고, 제7,8 복셀(510,512)의 밝기값을 평균하여 제4 픽셀의 밝기값을 생성할 수 있다. 실시 예에 따라, 학습데이터생성부는 하나의 3차원 영상에 대해 다양한 투영 방향에 대한 2차원 영상을 생 성할 수 있다. 예를 들어, 가상의 촬영방향이 Z축과 평행하다면, 학습데이터생성부는 Z축 방향으로 중첩되 는 각 복셀(500,502,504,506,508,510,512,514)의 밝기값을 평균하여 가상평면에 투영된 각 픽셀 (532,534,536,538)의 밝기값을 구하여 2차원 의료영상을 생성할 수 있다. 도 6은 본 발명의 실시 예에 따라 X선 의료영상으로부터 조직의 크기, 체적 또는 무게를 구하는 인공지능모델의 일 예를 도시한 도면이다. 도 6을 참조하면, 조직분석장치의 학습부는 정상 또는 질병 조직에 대한 서로 다른 방향의 적어도 둘 이상의 의료영상 및 조직의 3차원 크기, 체적 또는 무게를 포함하는 학습데이터를 이용하여 인공지능모델 을 학습시킬 수 있다. 예를 들어, 학습데이터를 구성하는 서로 다른 방향의 2차원 의료영상은 도 5의 예에서 3 차원 의료영상을 X축 방향으로 투영한 2차원 의료영상(또는 X축 방향으로 투영하여 생성한 영역의 경계(또는 면 적) 및 밝기값 정보)과 Z축 방향으로 투영한 2차원 의료영상(또는 Z축 방향으로 투영하여 생성한 영역의 경계 (또는 면적) 및 밝기값 정보)일 수 있다. 여기서, 2차원 의료영상은 도 3에서 살핀 기본영상이거나 분할영상일 수 있다. 인공지능모델은 적어도 둘 이상의 서로 다른 방향의 2차원 의료영상(또는 경계(또는 면적) 및 밝기값 정보)을 포함하는 학습데이터를 입력받으면 조직의 3차원 크기, 체적 또는 무게 등을 예측하여 출력한다. 인공 지능모델은 예측된 크기, 체적 또는 무게와 학습데이터에 포함된 조직의 크기, 체적 또는 무게를 비교하여 인공지능모델의 연결 가중치 등을 조정하는 학습 과정을 수행한다.인공지능모델에 대한 학습이 완료되면, 조직분석장치의 체적산출부는 적어도 둘 이상의 서로 다 른 방향에서 촬영된 X선 의료영상을 인공지능모델에 입력하여 특정 조직에 대한 3차원 크기, 체적 또는 무게 등 을 파악할 수 있다. 예를 들어, 체적산출부는 흉부에 대한 정면 방향의 X선 의료영상과 측면 방향의 X선 의료영상을 입력받으면 이를 학습 완료된 인공지능모델에 입력하여 폐 영역(또는 병변이나 염증 등) 등의 크기, 체적 또는 무게 등을 파악할 수 있다. 체적은 공간의 크기를 나타내는 물리량이므로 어느 한 방향에서 촬 영된 X선 의료영상으로 조직의 체적을 구하는 것보다 적어도 둘 이상의 방향에 촬영된 X선 의료영상으로 조직의 체적을 구하는 것이 보다 정확할 수 있다. 다른 실시 예로, 조직분석장치는 서로 다른 방향의 적어도 둘 이상의 X선 의료영상을 입력받으면, 이를 기 초로 3차원 조직 영상을 출력할 수 있다. 이를 위해, 조직분석장치는 3차원 의료영상을 이용하여 서로 다 른 방향의 적어도 둘 이상의 2차원 의료영상과 조직의 3차원 영상을 포함하는 학습데이터를 생성하고 이를 이용 하여 인공지능모델을 학습시킬 수 있다. 예를 들어, 흉부에 대한 정면과 측면의 X선 의료영상을 입력받으 면, 조직분석장치는 학습 완료된 인공지능모델을 이용하여 폐 영역에 대한 3차원 의료영상을 생성할 수 있다. 도 7은 본 발명의 실시 예에 따른 인공지능모델의 다른 일 예를 도시한 도면이다. 도 7을 참조하면, 조직분석장치는 조직 영상을 출력하는 제1 인공지능모델과 조직의 체적, 크기 또는 무게를 출력하는 제2 인공지능모델을 포함한다. 제1 인공지능모델은 도 3에서 살핀 기본영상 및 분할영상을 이용하여 적어도 하나 이상의 조직에 대한 영 상(즉, 조직영상)을 출력하도록 학습시킨 인공지능모델이다. 즉, 학습이 완료된 제1 인공지능모델은 2차원 X선 의료영상을 입력받으면 X선 의료영상으로부터 특정 조직을 구분하고 특정 조직만을 포함하는 조직영상(및/ 또는 경계(또는 면적) 및 밝기값 정보)을 출력하거나 또는 X선 의료영상에서 특정 조직만을 제외한 조직영상(및 /또는 경계(또는 면적) 및 밝기값 정보)을 출력할 수 있다. 제2 인공지능모델은 2차원 의료영상과 조직의 3차원 크기, 체적 또는 무게를 포함하는 학습데이터를 이용 하여 학습시킨 인공지능모델이다. 2차원 의료영상은 제1 인공지능모델으로부터 출력되는 조직영상(및/또는 경계 (또는 면적) 및 밝기값 정보)일 수 있다. 예를 들어, 학습이 완료된 제1 인공지능모델이 X선 의료영상을 입력받아 조직영상을 출력하면, 학습이 완료된 제2 인공지능모델은 제1 인공지능모델로부터 수신한 조직영상으로부터 조직의 3차원 크기, 체적 또는 무게를 파악하여 출력할 수 있다. 도 8은 본 발명의 실시 예에 따른 인체 조직의 크기, 체적 또는 무게를 구하는 방법의 일 예를 도시한 흐름도이 다. 도 8을 참조하면, 조직분석장치는 3차원 의료영상을 이용하여 2차원 의료영상과 조직의 크기, 체적 또는 무게 정보를 포함하는 학습데이터를 생성한다(S800). 학습데이터는 어느 한 방향의 2차원 의료영상을 포함하거 나 도 6과 같이 적어도 둘 이상의 2차원 의료영상을 포함할 수 있다. 다른 예로, 학습데이터에 포함되는 2차원 의료영상은 도 3에서 살핀 기본영상이거나 분할영상일 수 있다. 조직분석장치는 학습데이터를 이용하여, 복수의 조직이 동일평면에 중첩 표시된 2차원 의료영상에서 적어 도 하나 이상의 조직을 구분하여 크기, 체적 또는 무게를 구하는 인공지능모델을 학습시킨다(S810). 다른 예로, 학습데이터가 서로 다른 방향의 적어도 둘 이상의 2차원 의료영상을 포함한다면, 서로 다른 방향의 2차원 의료 영상과 조직의 크기, 체적 또는 무게 정보를 이용하여 인공지능모델을 학습시킬 수 있다. 또 다른 예로, 조직분 석장치는 도 7과 같이 복수의 조직이 동일평면에 중첩 표시된 2차원 의료영상에서 적어도 하나 이상의 조 직을 구분하는 제1 인공지능모델과 구분된 조직의 3차원 크기, 체적 또는 무게를 구하는 제2 인공지능모델이 순 차적으로 연결된 모델을 학습시킬 수 있다. 조직분석장치는 X선 의료영상을 학습이 완료된 인공지능모델에 입력하여 조직의 3차원 크기, 체적 또는 무 게를 구한다(S820). 인공지능모델이 서로 다른 방향의 적어도 둘 이상의 2차원 의료영상을 기초로 학습된 모델 이면, 조직분석장치는 서로 다른 방향의 적어도 둘 이상의 X선 의료영상을 인공지능모델에 입력하여 조직 의 3차원 크기, 체적 또는 무게를 구할 수 있다. 다른 실시 예로, 조직분석장치는 서로 다른 방향의 적어 도 둘 이상의 2차원 X선 의료영상을 인공지능모델에 입력하여 3차원 영상을 생성할 수 있다. 또 다른 실시 예로, 조직분석장치는 인공지능모델을 이용하여 2차원 X선 의료영상에 포함된 복수의 조직을 분할한 복수 의 2차원 또는 3차원 조직영상을 생성할 수 있다.본 발명은 또한 컴퓨터로 읽을 수 있는 기록매체에 컴퓨터가 읽을 수 있는 코드로서 구현하는 것이 가능하다. 컴퓨터가 읽을 수 있는 기록매체는 컴퓨터 시스템에 의하여 읽혀질 수 있는 데이터가 저장되는 모든 종류의 기 록장치를 포함한다. 컴퓨터가 읽을 수 있는 기록매체의 예로는 ROM, RAM, CD-ROM, 자기 테이프, 플로피디스크, 광데이터 저장장치 등이 있다. 또한 컴퓨터가 읽을 수 있는 기록매체는 네트워크로 연결된 컴퓨터 시스템에 분 산되어 분산방식으로 컴퓨터가 읽을 수 있는 코드가 저장되고 실행될 수 있다. 이제까지 본 발명에 대하여 그 바람직한 실시예들을 중심으로 살펴보았다. 본 발명이 속하는 기술 분야에서 통 상의 지식을 가진 자는 본 발명이 본 발명의 본질적인 특성에서 벗어나지 않는 범위에서 변형된 형태로 구현될 수 있음을 이해할 수 있을 것이다. 그러므로 개시된 실시예들은 한정적인 관점이 아니라 설명적인 관점에서 고 려되어야 한다. 본 발명의 범위는 전술한 설명이 아니라 특허청구범위에 나타나 있으며, 그와 동등한 범위 내에 있는 모든 차이점은 본 발명에 포함된 것으로 해석되어야 할 것이다."}
{"patent_id": "10-2020-0083047", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 실시 예에 따른 의료영상 기반의 조직분석장치의 일 예를 간략하게 도시한 도면, 도 2는 본 발명의 실시 예에 따른 조직분석장치의 일 예의 구성을 도시한 도면, 도 3은 본 발명의 실시 예에 따른 학습데이터 생성 방법의 일 예를 도시한 도면, 도 4는 본 발명의 실시 예에 따른 3차원 의료영상의 일 예를 도시한 도면, 도 5 본 발명의 실시 예에 따른 3차원 의료영상를 차원 축소하는 방법의 일 예를 도시한 도면, 도 6은 본 발명의 실시 예에 따라 2차원 X선 의료영상으로부터 3차원 조직의 크기, 체적 또는 무게를 구하는 인 공지능모델의 일 예를 도시한 도면, 도 7은 본 발명의 실시 예에 따른 인공지능모델의 다른 일 예를 도시한 도면, 그리고, 도 8은 본 발명의 실시 예에 따른 인체 조직의 크기, 체적 또는 무게를 구하는 방법의 일 예를 도시한 흐름도이 다."}
