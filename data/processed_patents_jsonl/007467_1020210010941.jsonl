{"patent_id": "10-2021-0010941", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2022-0107808", "출원번호": "10-2021-0010941", "발명의 명칭": "혼성신호 이진화 신경망 회로 장치", "출원인": "서강대학교산학협력단", "발명자": "범진욱"}}
{"patent_id": "10-2021-0010941", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "신경망 회로를 전류를 기반으로 구현하는 혼성신호 이진화 신경망 회로 장치."}
{"patent_id": "10-2021-0010941", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 신경망 회로의 곱셈덧셈기 (Multiply and Acculmulate)를 전류거울로 구현하는 혼성신호 이진화 신경망 회로 장치."}
{"patent_id": "10-2021-0010941", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 신경망 회로의 덧셈을 전류거울을 이용하여 전류를 더함으로써 구현하는 혼성신호 이진화 신경망 회로 장치."}
{"patent_id": "10-2021-0010941", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 신경망 회로의 곱셈을 전류거울을 이용하여 전류를 증폭하는 방법으로 곱셈을 구현하는 혼성신호 이진화신경망 회로 장치."}
{"patent_id": "10-2021-0010941", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서,상기 신경망회로의 바이어스를 전류로 하여 바이어스 전류원을 기준 전류 혹은 복사 전류 방향에 인가하여 덧셈과 뺄셈을 구현하는 혼성신호 이진화 신경망 회로 장치."}
{"patent_id": "10-2021-0010941", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에 있어서,이진신경망을 구현하기 위하여 XNOR 게이트를 이용하여 전류거울의 입력을 조절하는 혼성신호 이진화 신경망 회로 장치."}
{"patent_id": "10-2021-0010941", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제1항에 있어서,바이어스를 조절하기 위하여 해당 전류원 역할을 하는 트랜지스터의 게이트(혹은 베이스) 전압을 조절하는 혼성신호 이진화 신경망 회로 장치.공개특허 10-2022-0107808-3-청구항 8 제1항에 있어서,바이어스를 조절하기 위하여 해당 전류원 역할을 하는 트랜지스터의 게이트(혹은 베이스)의 넓이 (width)를 조절하는 혼성신호 이진화 신경망 회로 장치."}
{"patent_id": "10-2021-0010941", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제1항에 있어서,가중치를 조절하기 위하여 해당 복사 전류 트랜지스터의 게이트(베이스) 또는 소스(이미터) 전압을 조절하는 혼성신호 이진화 신경망 회로 장치."}
{"patent_id": "10-2021-0010941", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제1항에 있어서,바이어스를 조절하기 위하여 해당 전류원 역할을 하는 트랜지스터의 게이트(혹은 베이스)의 넓이 (width)를 조절하는 혼성신호 이진화 신경망 회로 장치."}
{"patent_id": "10-2021-0010941", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 신경망 회로 기술에 관한 것으로, 보다 상세하게는 이진화 신경망의 핵심 연산을 수행하는 회로를 구 현하여 신경망의 엣지 컴퓨팅을 실현하는 혼성신호 이진화 신경망 회로 장치에 관한 것이다."}
{"patent_id": "10-2021-0010941", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 신경망 회로 기술에 관한 것으로, 보다 상세하게는 이진화 신경망의 핵심 연산을 수행하는 회로를 구 현하여 신경망의 엣지 컴퓨팅을 실현하는 혼성신호 이진화 신경망 회로 장치에 관한 것이다."}
{"patent_id": "10-2021-0010941", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "인공 신경망(artificial neural network)은 연속적인 multiply-and-accumulate (MAC) 연산을 통하여 이루어진 다."}
{"patent_id": "10-2021-0010941", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 2, "content": "여기서 xi는 입력, wi는 가중치, b는 바이어스, y은 출력이다. 흔히 디지털 회로로 수행이 되는 이 수식의 연산 을 아날로그회로로 수행하여 전력효율 및 동작속도 등을 높이고자 한다. binary neural network (BNN: 이진신경망)은 신경망에서 입력과 출력 및 가중치를 0과 1 (또는 -1과 1)의 이진 (binary)으로 하는 신경망이다. 이진신경망 (BNN)은 기계학습을 통해 인공지능 기능을 수행할 수 있는 신경망 알고리즘 중 하나이다. 이진신경망 (BNN) 알고리즘은 이진의 웨이트와 이진의 출력을 갖는 활성화 함수를 사용 하여 메모리 사이즈, 연산 복잡도 그리고 파워 소모를 크게 줄임으로써 하드웨어에서 수행하기 적합하다. 기존에는 신경망의 핵심 연산인 MAC을 병렬 연산에 유리한 GPU에서 수행하여 학습 속도를 빠르게 했지만 GPU는 파워 소모가 크고 집적도가 낮다는 문제점이 있다. 선행기술문헌 특허문헌(특허문헌 0001) 한국공개특허 제10-2019-0094679호 (2019.08.14)"}
{"patent_id": "10-2021-0010941", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 기존의 문제점을 해결하기 위해 BNN의 핵심 연산을 칩에서 수행한다. 해당 회로의 전류 거울 뉴런은 전류 영역에서 MAC 연산을 수행하고 비교기를 사용하여 sign 활성화 함수를 연산한다. 본 회로는 인공지능 분야 에서 많이 사용되고 있는 신경망을 설계했기 때문에 음성인식, Internet of Things (IoT), 영상처리, 자율주행 그리고 이미지 분류 등 다양한 분야에서 사용될 수 있는 중요 기술이다. 본 발명의 일 실시예는 이진화 신경망의 핵심 연산을 수행하는 회로를 구현하여 신경망의 엣지 컴퓨팅을 실현하 고 GPU를 이용한 신경망 연산을 칩에서 수행하여 파워 소모와 면적을 줄일 수 있는 혼성신호 이진화 신경망 회 로 장치를 제공하고자 한다."}
{"patent_id": "10-2021-0010941", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "특정 장치에서 인공지능 관련 기능을 수행할 때 신경망 학습을 클라우드에서 진행한 후 해당 정보를 통신하여 받을 경우 여러 가지 문제점이 발생한다. 신경망 학습에 필요한 연산을 데이터 센터 내에서 처리하기 때문에 데 이터 센터와 장치 사이의 거리에 따라서 통신 지연이 발생하고 네트워크의 대역폭에 따라서 통신 속도가 영향을 받는다. 즉, 클라우드에서 신경망 학습을 빠르게 해도 장치와의 통신 과정에서 속도가 매우 감소할 수 있다. 또한, 클라우드와 엣지 사이의 데이터 전송은 높은 보안성도 요구된다. 클라우드에서 신경망 학습할 경우 하드 웨어 측면에서도 문제점이 생긴다. 데이터 센터에서는 범용적으로 이용되는 CPU와 GPU를 연산처리장치로 사용하 는데 신경망 학습에 필요한 연산을 GPU에서 수행할 경우 속도는 빠르지만 파워 소모가 크고 집적도가 낮다는 문 제점이 발생한다. 이 같은 문제점들을 해결하고자 신경망 연산을 엣지에서 수행한다. 또한, 신경망 알고리즘 중에서 연산에 사용 되는 웨이트의 비트 사이즈를 1bit로 제한하여 학습하는 BNN 구조를 사용하여 메모리 사이즈와 파워 소모를 줄 인다. BNN의 핵심 연산인 MAC 연산과 sign 활성화 함수를 수행하기 위해서 도1과 같은 회로를 구성한다. 본 발명의 회로가 동작하기 위해서는 신경망 연산에 필요한 파라미터들을 메모리에 저장해야 한다. 입력 데이터, 웨이트 그리고 바이어스 값들을 입력해주면 도 1과 같은 전류 거울 뉴런에서 MAC 연산을 수행한다. BNN 에 적용되는 경우 도 6과 같이 MAC 연산에서 입력 값과 웨이트의 곱셈은 XNOR 게이트에서 수행한다. 바이어스 값은 디지털 신호의 경우 NMOS 거울의 폭을 스위치로 조절하여 반영하고 아날로그 신호의 경우 NMOS 거울의 게 이트-소스 전압을 조절하여 인가한다. 입력과 웨이트를 곱한 값과 바이어스의 부호는 각각의 NMOS 거울과 연결 된 전류 스위치를 조절하여 전류의 부호를 결정한다. 양의 전류 스위치는 다이오드 연결된 PMOS와 연결되고 음 의 전류 스위치는 PMOS 거울과 연결된다. 이때 서로 다른 부호의 전류 차이가 드레인 노드 전압 vd를 결정한다. 최종적으로 비교기에서 레퍼런스 전압과 vd를 비교해서 sign 활성화 함수를 수행한다."}
{"patent_id": "10-2021-0010941", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "개시된 기술은 다음의 효과를 가질 수 있다. 다만, 특정 실시예가 다음의 효과를 전부 포함하여야 한다거나 다 음의 효과만을 포함하여야 한다는 의미는 아니므로, 개시된 기술의 권리범위는 이에 의하여 제한되는 것으로 이 해되어서는 아니 될 것이다. 본 발명의 일 실시예에 따른 혼성신호 이진화 신경망 회로 장치는 이진화 신경망의 핵심 연산을 수행하는 회로 를 구현하여 신경망의 엣지 컴퓨팅을 실현하고 GPU를 이용한 신경망 연산을 칩에서 수행하여 파워 소모와 면적 을 줄일 수 있다."}
{"patent_id": "10-2021-0010941", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명에 관한 설명은 구조적 내지 기능적 설명을 위한 실시예에 불과하므로, 본 발명의 권리범위는 본문에 설 명된 실시예에 의하여 제한되는 것으로 해석되어서는 아니 된다. 즉, 실시예는 다양한 변경이 가능하고 여러 가 지 형태를 가질 수 있으므로 본 발명의 권리범위는 기술적 사상을 실현할 수 있는 균등물들을 포함하는 것으로 이해되어야 한다. 또한, 본 발명에서 제시된 목적 또는 효과는 특정 실시예가 이를 전부 포함하여야 한다거나 그러한 효과만을 포함하여야 한다는 의미는 아니므로, 본 발명의 권리범위는 이에 의하여 제한되는 것으로 이해 되어서는 아니 될 것이다. 한편, 본 출원에서 서술되는 용어의 의미는 다음과 같이 이해되어야 할 것이다. \"제1\", \"제2\" 등의 용어는 하나의 구성요소를 다른 구성요소로부터 구별하기 위한 것으로, 이들 용어들에 의해 권리범위가 한정되어서는 아니 된다. 예를 들어, 제1 구성요소는 제2 구성요소로 명명될 수 있고, 유사하게 제2 구성요소도 제1 구성요소로 명명될 수 있다. 어떤 구성요소가 다른 구성요소에 \"연결되어\"있다고 언급된 때에는, 그 다른 구성요소에 직접적으로 연결될 수 도 있지만, 중간에 다른 구성요소가 존재할 수도 있다고 이해되어야 할 것이다. 반면에, 어떤 구성요소가 다른 구성요소에 \"직접 연결되어\"있다고 언급된 때에는 중간에 다른 구성요소가 존재하지 않는 것으로 이해되어야 할 것이다. 한편, 구성요소들 간의 관계를 설명하는 다른 표현들, 즉 \"~사이에\"와 \"바로 ~사이에\" 또는 \"~에 이웃 하는\"과 \"~에 직접 이웃하는\" 등도 마찬가지로 해석되어야 한다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한 복수의 표현을 포함하는 것으로 이해되어야 하고, \"포함 하다\"또는 \"가지다\" 등의 용어는 실시된 특징, 숫자, 단계, 동작, 구성요소, 부분품 또는 이들을 조합한 것이 존재함을 지정하려는 것이며, 하나 또는 그 이상의 다른 특징이나 숫자, 단계, 동작, 구성요소, 부분품 또는 이 들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 각 단계들에 있어 식별부호(예를 들어, a, b, c 등)는 설명의 편의를 위하여 사용되는 것으로 식별부호는 각 단 계들의 순서를 설명하는 것이 아니며, 각 단계들은 문맥상 명백하게 특정 순서를 기재하지 않는 이상 명기된 순 서와 다르게 일어날 수 있다. 즉, 각 단계들은 명기된 순서와 동일하게 일어날 수도 있고 실질적으로 동시에 수 행될 수도 있으며 반대의 순서대로 수행될 수도 있다. 여기서 사용되는 모든 용어들은 다르게 정의되지 않는 한, 본 발명이 속하는 분야에서 통상의 지식을 가진 자에 의해 일반적으로 이해되는 것과 동일한 의미를 가진다. 일반적으로 사용되는 사전에 정의되어 있는 용어들은 관 련 기술의 문맥상 가지는 의미와 일치하는 것으로 해석되어야 하며, 본 출원에서 명백하게 정의하지 않는 한 이 상적이거나 과도하게 형식적인 의미를 지니는 것으로 해석될 수 없다. 인공 신경망(artificial neural network)은 연속적인 multiply-and-accumulate (MAC) 연산을 통하여 이루어진 다. 여기서 i번째 입력에 대하여 xi는 입력, wi는 가중치, b는 바이어스, y은 출력이다. 위와 같은 식을 전류거울로 구현하기 위하면 도 1에서와 같이 표현된다. 입력 xi에 대하여 입력전류거울의 비율(전류거울을 이루는 MOSFET 의 크기 비율)로 가중치 wi를 곱하게 된 후 전류로 변환되어, 바이어스 b에 해당하는 전류를 모두 합산전류거울 에서 합하게 된다. 이 같은 과정을 통하여 위 식의 연산은 전류거울 기반의 회로로 구현할 수 있다 (도 1). 전 류를 더하는 방식에 있어서 양 입력전류 (+) 뿐만 아니라 음의 입력전류(-)를 처리하기 위하여, 입력전류에 가 중치 wi를 곱하여 복사한 전류 wixi가 양인 경우 기준 전류에 합류시켜 더하고, 음인 경우 복사 전류 노드에서 차감하여 뺄셈이 되게 회로를 구성한다 (도 1). 가중치 wi는 전류거울의 전류 복사 비율로 아날로그 및 디지털의 방법에 의하여 다양하게 조절될 수 있다 (도 2 와 도 3). 몇 가지 예로 전류복사 비율을 디지털 신호로 조절하거나, 전류거울의 복사단 트랜지스터에 가변저항 을 연결하여 컨트롤 전압 (Vcontrol)을 조절함으로써 가중치를 조절하는 방식이 가능하다. 도 2에서 디지털신호 bn-1bn-2 ... b0은 sign-magnitude로 구성된 디지털컨트롤 시그널이며, bn-1은 sign bit이다. 바이어스 b는 이에 해당하는 전압 vb에 대하여 아날로그 및 디지털 방식으로 조절할 수 있게 된다. 도 4의 회로 는 바이어스 크기를 디지털 값으로 조절하는 회로이다. 이때 n은 바이어스의 비트 수를 의미한다. 바이어스의 각 비트는 2n-1배의 폭을 가진 NMOS로 구현하여 해당 바이어스 값에 상응하는 전류를 흐르게 한다. 각각의 비트 크기를 반영한 트랜지스터들은 바이어스의 비트 값으로 조절되는 전류 스위치와 연결되어 실제 바이어스 값과 비례하는 전류를 흐르게 한다. 도 5의 회로는 게이트 전압을 아날로그 방식으로 조절하는 회로의 예이다. 도 5 의 두 회로는 바이어스 트랜지스터의 게이트-소스 전압 vb를 변화시켜서 바이어스의 크기를 조절한다. 회로 의 동작은 두 페이즈 (phase)로 나누어서 설명할 수 있다. 첫 번째 페이즈 (phase)에서는 첫 번째 스위치는 on, 두 번째 스위치는 off 상태를 만들어서 vrefp나 vrefn을 샘플링 커패시터 Cp와 연결하여 (vrefp or vrefn) Cp의 전 하를 충전한다. 단편적인 예로 vrefp는 VDD, vrefn은 그라운드로 인가해줄 수 있다. 두 번째 페이즈 (phase)에서는 두 스위치를 반대로 동작시켜 Cp와 Cb를 연결하고 바이어스 입력 전압 vb를 변화시킨다. vb의 값은 두 커패시터의 용량, 입력 전압의 크기 그리고 동작 횟수를 통해서 조절할 수 있다. 도 5의 회로 는 디지털 바이어스 값을 Digital-to-Analog Converter (DAC)를 이용해서 아날로그 전압 vb로 바꿔주는 방식을 사용한다. DAC를 통한 vb 의 변화로 바이어스 트랜지스터의 전류를 조절한다. 이와 같은 MAC연산 수행을 위하여 전류 거울 형태로 구성된 아날로그 회로인 전류 거울 뉴런 회로를 구성한다 (도 1). binary neural network은 신경망에서 입력과 출력을 0과 1의 이진(binary)으로 하는 신경망이다. Binary Neural Network (BNN) 알고리즘을 수행한다. BNN은 1bit 웨이트와 1bit 출력을 내는 활성화 함수를 사용하는 것 이 특징이다. BNN의 핵심 연산인 multiply-and-accumulate (MAC) 연산은"}
{"patent_id": "10-2021-0010941", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "와 같은 수식으로 표현할 수 있으며, 여기서 wi는 웨이트, xi는 입력 값이다. BNN 알고리즘은 연산 과정에 비선 형선을 부여하기 위해서"}
{"patent_id": "10-2021-0010941", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "의 수식과 같은 sign 활성화 함수를 사용한다. 최종적으로 히든 레이어의 출력 노드 연산은 이고, 여기서 b는 바이어스이다. 이때 가중치 wi, 입력값 xi 그리고 출력값 y는 모두 이진값이다. 해당 프로세서 는 전류 거울 뉴런을 사용해서 MAC 연산을 전류 영역에서 계산하고 래치형 전압 비교기를 이용해서 sign 활성화 함수를 수행한다. 도 6은 N×1 전류 거울 뉴런의 회로이다. 입력 노드는 최소 사이즈의 다이오드 연결된 NMOS를 포함한다. 해당 트랜지스터들은 노이즈와 미스매치를 고려하여 최소한의 입력 전류 ILSB가 흐른게 설계한다. 입력 NMOS들의 드레 인은 가중치와 입력을 곱한 값으로 조절되는 전류 스위치와 연결된다. 이때 가중치와 입력 값은 모두 이진수이 기 때문에 두 값의 곱을 XNOR 게이트로 수행할 수 있다. 바이어스의 부호는 XNOR회로에 연결된 전류 스위치를 조절하고 바이어스 크기를 디지털 비트 사이즈로 결정할 경우 NMOS 전류 거울의 비율을 이용한다. 전류 거울의 비율은 NMOS 거울의 폭으로 조절한다. 바이어스 크기를 아날로그 방식으로 결정할 경우 NMOS 거울의 게이트 전 압 vb를 조절한다. 양의 스위치들을 통해 흐르는 전류는 다이오드 연결된 PMOS에 축적된다. PMOS 거울에 복사된 전류와 음의 스위치들을 통해 흐르는 전류의 차이가 드레인 노드 전압 vd를 결정한다. 최종적으로 vd와 레퍼런스 전압 vref를 비교기의 입력으로 받아서 sign 활성화 함수를 수행한다. 도 7는 도 6의 vd 노드에서 바라보는 RC 등가회로를 나타낸다. 도 2의 등가회로에서 ro는 vd 노드에 연결되어있 는 트랜지스터들의 출력 저항을 의미하고 Cp는 해당 노드에서의 기생 커패시터 성분이다. Idiff는 양의 전류와 음 의 전류의 차이를 나타내고"}
{"patent_id": "10-2021-0010941", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "의 수식으로 표현할 수 있다. 해당 수식은 MAC 연산의 출력에 ILSB를 곱한 값을 나타낸다. 도 7의 등가회로를 통 해서 vd 노드에서의 시간에 따른 전압 변화를"}
{"patent_id": "10-2021-0010941", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "와 같은 수식으로 유도할 수 있다. 위 수식에 포함되어있는 파라미터들을 적절하게 설계하여 전압의 변화량과 정착 시간을 조절할 수 있다. 상기에서는 본 발명의 바람직한 실시예를 참조하여 설명하였지만, 해당 기술 분야의 숙련된 당업자는 하기의 특 허 청구의 범위에 기재된 본 발명의 사상 및 영역으로부터 벗어나지 않는 범위 내에서 본 발명을 다양하게 수정 및 변경시킬 수 있음을 이해할 수 있을 것이다."}
{"patent_id": "10-2021-0010941", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 신경망 (Neural Network) 연산을 수행하는 전류 거울 뉴런 회로를 도시한 도면. 도 2는 가중치 크기를 디지털 값으로 조절하는 회로를 도시한 도면. 도 3은 가중치 크기를 아날로그 값 Vcontrol로 조절하는 회로를 도시한 도면. 도 4는 바이어스 크기를 디지털 값으로 조절하는 회로를 도시한 도면. 도 5는 게이트 전압을 조절하여 바이어스 크기를 조절하는 회로를 도시한 도면. 도 6은 BNN (이진신경망) 연산을 수행하는 전류 거울 뉴런 회로를 도시한 도면. 도 7은 도 6의 vd 노드에서 바라보는 RC 등가회로를 도시한 도면."}
