{"patent_id": "10-2023-0075412", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0171888", "출원번호": "10-2023-0075412", "발명의 명칭": "세포 염색법에 따른 검체 세포 병리 검사 지원 장치 및 그 방법", "출원인": "가톨릭대학교 산학협력단", "발명자": "정요셉"}}
{"patent_id": "10-2023-0075412", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "세포 염색법에 따라 구분된 검체의 세포 병리 슬라이드 이미지에서 복수의 타일 이미지를 추출하는 전처리부;및상기 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지 또는 상기 복수의 타일 이미지를 사용하여 어노테이션(annotation) 기반 학습을 진행한 예측 모델을 사용하여 임의의 검체 세포 병리 슬라이드 이미지에서상기 세포 염색법에 따른 암(cancer)의 여부 및 상기 암의 종류 중 적어도 하나의 클래스를 분류하는 분류부를포함하는, 세포 염색법에 따른 검체 세포 병리 검사 지원 장치."}
{"patent_id": "10-2023-0075412", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 세포 염색법은 그래먼(Giemsa) 염색법 및 헤마톡실린-에오신(Hematoxylin-Eosin, H&E) 염색법, 니샤이(Nissl) 염색법, 리트커(Reticulin) 염색법, 패슨(Papanicolaou) 염색법, DipQuik 염색법 중 하나인, 세포 염색법에 따른 검체 세포 병리 검사 지원 장치."}
{"patent_id": "10-2023-0075412", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 어노테이션(annotation) 기반 학습을 진행한 예측 모델은, 상기 검체의 세포 염색별로 및 상기 암의 종류별로 복수로 존재하고, 상기 분류부는 상기 검체의 세포 염색별로 및 상기 암의 종류별로 각각의 상기 어노테이션(annotation) 기반 학습을 진행한 예측 모델을 사용하여 임의의 검체 세포 병리 슬라이드 이미지에서 상기 세포 염색별에 따른 암(cancer)의 여부 또는 상기 암의 종류 중 적어도 하나의 클래스를 분류하는, 세포 염색법에 따른 검체 세포 병리 검사 지원 장치."}
{"patent_id": "10-2023-0075412", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 검체 세포 병리 슬라이드 이미지는 상기 검체의 유리 슬라이드에 도말하여 촬영하거나 스캔한 원본 슬라이드 이미지를 Z-스태킹(Z-stacking) 또는 초점스태킹 기술을 이용하여 획득한, 세포 염색법에 따른 검체 세포 병리 검사 지원 장치."}
{"patent_id": "10-2023-0075412", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서,상기 검체 세포 병리 슬라이드 이미지는 Z-스태킹(Z-stacking) 또는 초점스태킹 기술을 이용하여 상기 원본 슬라이드 이미지로부터 서로 다른 위상에서 초점을 맺은 상기 이미지들을 2차적 후처리를 통해 하나의 이미지로합성한, 세포 염색법에 따른 검체 세포 병리 검사 지원 장치."}
{"patent_id": "10-2023-0075412", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에 있어서,상기 전처리부는,슬라이딩 윈도우 알고리즘을 기반으로 상기 복수의 타일 이미지들을 생성하는, 세포 염색법에 따른 검체 세포병리 검사 지원 장치.공개특허 10-2023-0171888-3-청구항 7 제1항에 있어서,상기 어노테이션(annotation) 기반 학습을 진행한 예측 모델은 학습에 사용되는 상기 검체 세포 병리 슬라이드이미지 또는 상기 복수의 타일 이미지에 상기 암 영역을 선 형태로 나타내는 부분 어노테이션(partialannotation), 상기 암 영역을 박스 형태로 나타내는 경계 박스 어노테이션(bounding box annotation), 이미지전체를 나타내는 이미지 레벨 라벨(image-level label) 중 하나 또는 하나 이상의 어노테이션을 추가하여 학습이 진행된, 세포 염색법에 따른 검체 세포 병리 검사 지원 장치."}
{"patent_id": "10-2023-0075412", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지에서 복수의 타일 이미지를 추출하는 전처리 단계;및상기 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지 또는 상기 복수의 타일 이미지를 사용하여 어노테이션(annotation) 기반 학습을 진행한 예측 모델을 사용하여 임의의 검체 세포 병리 슬라이드 이미지에서상기 세포 염색법에 따른 암(cancer)의 여부 및 상기 암의 종류 중 적어도 하나의 클래스를 분류하는 분류 단계를 포함하는, 세포 염색법에 따른 검체 세포 병리 검사 지원 방법."}
{"patent_id": "10-2023-0075412", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에 있어서,상기 세포 염색법은 그래먼(Giemsa) 염색법 및 헤마톡실린-에오신(Hematoxylin-Eosin, H&E) 염색법, 니샤이(Nissl) 염색법, 리트커(Reticulin) 염색법, 패슨(Papanicolaou) 염색법, DipQuik 염색법 중 하나인, 세포 염색법에 따른 검체 세포 병리 검사 지원 방법."}
{"patent_id": "10-2023-0075412", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서,상기 어노테이션(annotation) 기반 학습을 진행한 예측 모델은, 상기 검체의 세포 염색별로 및 상기 암의 종류별로 복수로 존재하고, 상기 분류 단계는 상기 검체의 세포 염색별로 및 상기 암의 종류별로 각각의 상기 어노테이션(annotation) 기반학습을 진행한 예측 모델을 사용하여 임의의 검체 세포 병리 슬라이드 이미지에서 상기 세포 염색별에 따른 암(cancer)의 여부 또는 상기 암의 종류 중 적어도 하나의 클래스를 분류하는, 세포 염색법에 따른 검체 세포 병리 검사 지원 방법."}
{"patent_id": "10-2023-0075412", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제8항에 있어서,상기 검체 세포 병리 슬라이드 이미지는 상기 검체의 유리 슬라이드에 도말하여 촬영하거나 스캔한 원본 슬라이드 이미지를 Z-스태킹(Z-stacking) 또는 초점스태킹 기술을 이용하여 획득한, 세포 염색법에 따른 검체 세포 병리 검사 지원 방법."}
{"patent_id": "10-2023-0075412", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제11항에 있어서,상기 검체 세포 병리 슬라이드 이미지는 Z-스태킹(Z-stacking) 또는 초점스태킹 기술을 이용하여 상기 원본 슬라이드 이미지로부터 서로 다른 위상에서 초점을 맺은 상기 이미지들을 2차적 후처리를 통해 하나의 이미지로합성한, 세포 염색법에 따른 검체 세포 병리 검사 지원 방법."}
{"patent_id": "10-2023-0075412", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제8항에 있어서,상기 전처리 단계는,공개특허 10-2023-0171888-4-슬라이딩 윈도우 알고리즘을 기반으로 상기 복수의 타일 이미지들을 생성하는, 세포 염색법에 따른 검체 세포병리 검사 지원 방법."}
{"patent_id": "10-2023-0075412", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제8항에 있어서,상기 어노테이션(annotation) 기반 학습을 진행한 예측 모델은 학습에 사용되는 상기 검체 세포 병리 슬라이드이미지 또는 상기 복수의 타일 이미지에 상기 암 영역을 선 형태로 나타내는 부분 어노테이션(partialannotation), 상기 암 영역을 박스 형태로 나타내는 경계 박스 어노테이션(bounding box annotation), 이미지전체를 나타내는 이미지 레벨 라벨(image-level label) 중 하나 또는 하나 이상의 어노테이션을 추가하여 학습이 진행된, 세포 염색법에 따른 검체 세포 병리 검사 지원 방법."}
{"patent_id": "10-2023-0075412", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지 및 검체 세포 병리 슬라이드 이미지에서 추출한 복수의 타일 이미지들, 예측 모델을 저장하는 메모리, 상기 예측 모델은 상기 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지 또는 상기 복수의 타일 이미지를 사용하여 임의의 검체 세포 병리 슬라이드 이미지에서 세포 염색법에 따른 암(cancer)의 여부 및 암의 종류 중 적어도 하나의 클래스를 분류하는 어노테이션(annotation) 기반 학습을 진행한 예측 모델임; 및 임의의 검체 세포 병리 슬라이드 이미지에서 암(cancer)의 여부 및 암의 종류 중 적어도 하나의 클래스를 분류하는 작업이 요청되면, 상기 검체 세포 병리 슬라이드 이미지에서 복수의 타일 이미지를 추출하고, 상기 메모리에 저장된 어노테이션(annotation) 기반 학습을 진행한 예측 모델을 실행하여 검체 세포 병리 슬라이드 이미지에서 세포 염색법에 따른 암(cancer)의 여부 및 암의 종류 중 적어도 하나의 클래스를 분류하는 프로세서를 포함하는 컴퓨터 장치."}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 실시예들에 의하면, 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지로부터 복수의 타일 이미지들 을 추출하고, 검체 세포 병리 슬라이드 이미지 또는 타일 이미지들을 어노테이션(annotation) 기반 학습을 진행 한 예측 모델을 이용하여 임의의 검체 세포 병리 슬라이드 이미지에서 세포 염색법에 따른 암의 여부 및 암의 종 류 중 적어도 하나의 클래스를 분류하는 장치 및 그 방법을 제공한다."}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 개시의 실시예들은 인공신경망 이미지 분석기술을 이용하여 검체 세포 병리 검사를 지원하는 세포 염색법에 따른 검체 세포 병리 검사 지원 장치 및 그 방법에 관한 것이다."}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "세포병리검사에는 다양한 세포 염색법을 사용하여 세포에 색을 입히고, 현미경으로 검경하여 판독한다. 각 세 포 염색법은 각각의 장점이 있어 다양한 상황에 맞게 세포 염색법을 선택하여 시행할 수 있다. 그러나, 이러한 다양한 세포 염색법은, 그 색이 크게 달라 인공지능 모델을 개발할 때 큰 장애물이 될 수 있다. 각각 다른 상황에 맞게 다른 세포 염색법을 선택했기 때문에, 세포 염색법에 따른 차이를 인공지능 모델이 잘못 학습하게 되는, 일종의 속임수(cheating) 잘못을 범할 수 있다. 따라서, 인공지능 모델 개발시 다양한 세포 염색범을 나누고, 나눠진 세포 염색법에 따라 인공지능 모델을 개발 할 필요가 있다."}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 실시예들은 세포 염색범에 따라 정확한 검체 세포 병리 검사가 가능한 세포 염색법에 따른 검체 세포 병리 검사 지원 장치 및 그 방법을 제공한다."}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 실시예들은 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지로부터 복수의 타일 이미지들을 추출 하고, 검체 세포 병리 슬라이드 이미지 또는 타일 이미지들을 어노테이션(annotation) 기반 학습을 진행한 예측 모델을 이용하여 임의의 검체 세포 병리 슬라이드 이미지에서 세포 염색법에 따른 암의 여부 및 암의 종류 중적어도 하나의 클래스를 분류하는 장치 및 그 방법을 제공한다. 일 측면에서, 일 실시예에 따른 검체 세포 병리 검사 지원 장치는 검체 세포 병리 슬라이드 이미지에서 복수의 타일 이미지를 추출하는 전처리부 및 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지 또는 복수의 타일 이미지를 사용하여 어노테이션(annotation) 기반 학습을 진행한 예측 모델을 사용하여 임의의 검체 세포 병리 슬라이드 이미지에서 세포 염색법에 따른 암(cancer)의 여부 및 암의 종류 중 적어도 하나의 클래스를 분 류하는 분류부를 포함한다. 다른 측면에서, 다른 실시예에 따른 검체 세포 병리 검사 지원 방법은 세포 염색법에 따라 구분된 검체 세포 병 리 슬라이드 이미지에서 복수의 타일 이미지를 추출하는 추출 단계 및 검체 세포 병리 슬라이드 이미지 또는 복 수의 타일 이미지를 사용하여 어노테이션(annotation) 기반 학습을 진행한 예측 모델을 사용하여 임의의 검체 세포 병리 슬라이드 이미지에서 세포 염색법에 따른 암(cancer)의 여부 및 암의 종류 중 적어도 하나를 분류하 는 분류 단계를 포함한다."}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 실시예들에 따른 해당 검체 세포 병리 검사 지원 장치 및 그 방법은 높은 정확성과 효율성을 제공하여 병리 검사의 진단과 치료에 큰 도움을 줄 수 있다. 본 실시예들에 따른 검체 세포 병리 검사 지원 장치 및 그 방법은 체액 종류에 따라 정확한 검체 세포 병리를 검사할 수 있다."}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 본 개시의 일부 실시예들을 예시적인 도면을 참조하여 상세하게 설명한다. 각 도면의 구성 요소들에 참조 부호를 부가함에 있어서, 동일한 구성 요소들에 대해서는 비록 다른 도면 상에 표시되더라도 가능한 한 동일한 부호를 가질 수 있다. 또한, 본 실시예들을 설명함에 있어, 관련된 공지 구성 또는 기능에 대한 구체적인 설명 이 본 기술 사상의 요지를 흐릴 수 있다고 판단되는 경우에는 그 상세한 설명은 생략할 수 있다. 본 명세서 상 에서 언급된 \"포함한다\", \"갖는다\", \"이루어진다\" 등이 사용되는 경우 \"~만\"이 사용되지 않는 이상 다른 부분이 추가될 수 있다. 구성 요소를 단수로 표현한 경우에 특별한 명시적인 기재 사항이 없는 한 복수를 포함하는 경 우를 포함할 수 있다.또한, 본 개시의 구성 요소를 설명하는 데 있어서, 제1, 제2, A, B, (a), (b) 등의 용어를 사용할 수 있다. 이 러한 용어는 그 구성 요소를 다른 구성 요소와 구별하기 위한 것일 뿐, 그 용어에 의해 해당 구성 요소의 본질, 차례, 순서 또는 개수 등이 한정되지 않는다. 구성 요소들의 위치 관계에 대한 설명에 있어서, 둘 이상의 구성 요소가 \"연결\", \"결합\" 또는 \"접속\" 등이 된다 고 기재된 경우, 둘 이상의 구성 요소가 직접적으로 \"연결\", \"결합\" 또는 \"접속\" 될 수 있지만, 둘 이상의 구성 요소와 다른 구성 요소가 더 \"개재\"되어 \"연결\", \"결합\" 또는 \"접속\"될 수도 있다고 이해되어야 할 것이다. 여 기서, 다른 구성 요소는 서로 \"연결\", \"결합\" 또는 \"접속\" 되는 둘 이상의 구성 요소 중 하나 이상에 포함될 수 도 있다. 구성 요소들이나, 동작 방법이나 제작 방법 등과 관련한 시간적 흐름 관계에 대한 설명에 있어서, 예를 들어, \"~후에\", \"~에 이어서\", \"~다음에\", \"~전에\" 등으로 시간적 선후 관계 또는 흐름적 선후 관계가 설명되는 경우, \"바로\" 또는 \"직접\"이 사용되지 않는 이상 연속적이지 않은 경우도 포함할 수 있다. 한편, 구성 요소에 대한 수치 또는 그 대응 정보(예: 레벨 등)가 언급된 경우, 별도의 명시적 기재가 없더라도, 수치 또는 그 대응 정보는 각종 요인(예: 공정상의 요인, 내부 또는 외부 충격, 노이즈 등)에 의해 발생할 수 있는 오차 범위를 포함하는 것으로 해석될 수 있다. 이하 도면을 참조해서 실시예들을 상세히 설명한다. 도 1은 일 실시예에 따른 검체 세포 병리 검사 지원 장치의 블록도이다. 도 1을 참조하면, 일 실시예에 따른 검체 세포 병리 검사 지원 장치는 세포 염색법에 따라 구분된 검체 세 포 병리 슬라이드 이미지로부터 복수의 타일 이미지들을 추출하고, 세포 염색법에 따라 구분된 검체 세 포 병리 슬라이드 이미지 또는 타일 이미지들을 어노테이션(annotation) 기반 학습을 진행한 예측 모델 을 이용하여 임의의 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지로부터 세포 염색법에 따른 암의 여부 및 암의 종류 중 적어도 하나의 클래스를 분류한다. 일 실시예에 따른 검체 세포 병리 검사 지원 장치는 세포병리 검체 또는 유리 슬라이드 검체를 세포 염색 법별, 체액종류별, 정상과 암의 진단 클래스별, 암종별로 수집하여 세포 염색법에 따라 정상/암을 구분하고 또 는 세부 암종을 구분하는 것을 지원하는 장치이다. 일 실시예에 따른 검체 세포 병리 검사 지원 장치는 예를 들어 인공지능 분석모델인 어노테이션 (annotation) 기반 학습을 진행한 예측 모델을 개발하기 위해 후술하는 바와 같이 적합한 학습 데이터셋 및 평가 데이터셋을 구축하고, 이 학습 데이터셋 및 평가 데이터셋을 이용하여 예측 모델을 학습 및 평가 하고 학습된 예측 모델을 이용하여 임의의 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지 로부터 세포 염색법에 따른 암의 여부 및 암의 종류 중 적어도 하나의 클래스를 분류할 수 있다. 일 실시예에 따른 검체 세포 병리 검사 지원 장치는 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지를 전처리하는 전처리부 및 어노테이션(annotation) 기반 학습을 진행한 예측 모델을 이용 하여 임의의 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지로부터 하나의 클래스를 분류하는 분류부를 포함한다. 체액종류는 호흡기계 검체, 흉수, 복수, 소변, 세침 흡입 중 적어도 하나일 수 있으나 이에 제한되지 않는다. 예를 들어, 검체가 호흡기계 검체인 경우, 암의 종류는, 폐암일 수 있다. 현재 폐암 종양의 확진은 객담, 기관지경, 기관지폐포세척으로 얻어진 세포병리검사 또는 기관기경 생검으로 얻 어진 조직병리검사로 확진한다. 조직병리검사보다 세포병리 검사는 덜 침습적이다. 그러나, 세포병리 검사는 세포의 구조를 관찰할 수 없으므로, 진단의 난이도가 높다. 특히, 폐에는 다양한 종류의 종양이 생기는데, 세 포병리 검사에는 세부 유형 개발에 어려움이 있다. 검체가 흉수인 경우, 암의 종류는, 폐암 및 유방암일 수 있다. 현재 흉수 검사는 대개 흉수체액을 슬라이드에 도말한 뒤, 현미경으로 검경하여 진단하는 세포병리검사를 기본 적인 선별검사로 이용하고 있다. 그러나 염증 등의 흉막이 자극되는 환경에서 반응성 중피세포 (reactive mesothelial cell)가 활성화되면 악성 세포와 구분이 힘들어지기 때문에, 세포병리검사의 민감도가 보고에 따라 매우 낮은 수준이다. 이러한 위 음성 검사결과로 인해 치료시기를 놓치거나 재발을 제대로 진단하지 못해 환자의 치료기회 상실, 나쁜 예후를 야기하며 의료비를 상승시키는 요인이 되고 있다. 현재 세포 병리 검사를 대체할 만한 분자병리기법 등을 이용한 다른 선별검사와 종양표지자가 개발되고 있으나, 비용이 매우 높고, 민감도, 정확도가 기대수준보다 높지 못하여 세포 병리 검사를 대체할만한 검사로 널리 쓰이 지 못하고 있다. 최근 인공신경망 이미지 분석기술이 크게 발전하여 다양한 디지털 병리영상을 이용한 분류, 검출, 계측 영역에 접목되어 상당히 좋은 결과들을 보여주고 있다. 이를 흉수 세포 병리 검체 분석에 적용하면 매우 적은 비용의 간편한 비침습적 검사로 보다 정확한 조기진단이 가능할 것으로 기대할 수 있다. 이를 흉수 세포 병리 검사에 적용하면 매우 적은 비용의 간편한 비침습적 검사로 보다 정확한 조기진단이 가능 할 것으로 기대된다. 검체가 복수인 경우, 암의 종류는, 난소암 및 대장암, 위암, 췌장암이고, 난소암인 경우 장액암 및 점액암, 내 막양암, 투명세포암일 수 있다. 증가하는 난소암은 부인암 중에 가장 예후가 좋지 않고, 부인암 중에서 가장 낮은 생존율 (5년 생존율: 15-55%) 상대적으로 빈도가 증가하고 있다. 하지만, 난소암에서 검체 세포 진단은 필수적이나, 효과적인 선별검사나 표 지자 없다. 그리고 난소암에서 복막 전이는 다른 암 보다 빨리 일어나며, 병기 설정에 필수적일 수 있다. 다양 한 분자병리마커의 개발이 계속해서 이루어지고 있으나, 특이적인 암표지자가 없어 고비용이지만 검체 세포 병 리 검사와 비슷한 성능을 보이고 있다. 세포 병리 검사는 간편하고 저렴한 최소침습적이나 낮은 민감도라는 문제점이 있다. 또한, 반응성 복막 세포 (reactive mesothelial cell)와 같이 면역조직화학 염색이 필요한 경우, 자궁내막증 (endometriosis), 내난관 종 (endosalpingiosis) 등 감별이 힘들다는 문제점이 있다. 또한, 난소암과 함께 대장암, 위암, 췌장암의 경우에도 복강내 전이를 쉽게하는 암종이라 검체로 전이여부를 평 가한다. 현재 검체 세포 병리 검사는 대개 검체 체액을 슬라이드에 도말한 뒤, 현미경으로 검경하여 진단하는 검체 세포 병리 검사를 기본적인 선별검사로 이용하고 있다. 그러나 염증 등의 복막이 자극되는 환경에서 반응성 중피세포 (reactive mesothelial cell)가 활성화되면 악성 세포와 구분이 힘들어지기 때문에, 검체 세포 병리 검사의 민감도가 보고에 따라 매우 낮은 수준이다. 이러한 위음성 검사결과로 인해 치료시기를 놓치거나 재발을 제대로 진단하지 못해 환자의 치료기회 상실, 나쁜 예후를 야기하며 의료비를 상승시키는 요인이 되고 있다. 검체가 소변인 경우, 암의 종류는, 방광암일 수 있다. 배뇨와 방광세척을 이용한 세포병리 검사는 방광암에 대한 1차 선별검사로 정확도가 낮아 병리학자에게 매우 어 려운 검사이다. 최근 연구자들은 세포학적 샘플을 분석하기 위해 인공 지능 기술을 적용하기 시작하였다. 검체가 세침 흡입인 경우, 암의 종류는, 갑상선임, 침샘, 폐암, 췌장암, 림프종일 수 있다. 현재 갑상선 암 검사는 세침으로 찔러 세포를 흡인한 뒤, 슬라이드에 도말하여 현미경으로 검경하여 진단하는 세포병리검사를 기본적인 선별검사로 이용하고 있다. 현재 침샘, 폐암, 취장암 종양들 및 림프종의 확진은 세침흡입 세포병리 검사 혹은 중심부 바늘 생검으로 확진 을 한다. 중심부 바늘 생검보다 세침흡입 세포병리 검사는 덜 침습적이다. 그러나 세침흡입 세포병리 검사는 세포의 구조를 관찰할 수 없으므로 진단의 난이도가 높다. 특히 침샘에는 다양한 종류의 종양이 생기는데, 세 포병리 검사에는 세부 유형 진단에 어려움이 있다. 현재 검체 세포 병리 검사를 대체할 만한 분자 병리 기법 등을 이용한 다른 선별검사와 종양표지자가 개발되고 있으나, 비용이 매우 높고, 민감도, 정확도가 기대수준보다 높지 못하여 검체 세포 병리 검사를 대체할만한 검 사로 널리 쓰이지 못하고 있다. 최근 인공신경망 이미지 분석기술이 크게 발전하여 다양한 디지털 병리영상을 이용한 분류, 검출, 계측 영역에 접목되어 상당히 좋은 결과들을 보여주고 있다. 이를 검체 세포 병리 검사에 적용하면 매우 적은 비용의 간편한 비침습적 검사로 보다 정확한 조기진단이 가능할 것으로 기대된다. 전처리부는 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지에서 복수의 타일 이미지 를 추출한다. 전처리부는 이미지 분할 및 융합 기술과 같은 이미지 처리 기술을 사용하여 세포 염색법에 따라 구분된 검 체 세포 병리 슬라이드 이미지에서 타일 이미지를 추출하고, 타일 이미지의 크기와 해상도를 조정하여 효율적인 학습과 예측을 가능하게 한다. 분류부는 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지 또는 둘 이상의 타일 이미지들 을 사용하여 어노테이션(annotation) 기반 학습을 진행한 예측 모델을 사용하여 임의의 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지에서 암(cancer)의 여부 및 암의 종류 중 적어도 하나의 클래 스를 분류한다. 이때, 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지는 일 예로 검체의 체액에 대한 슬라이드 이미지로서, 전체 슬라이드 이미지(WSI(Whole Slide Image))일 수 있다. 도 2는 전체 슬라이드 이미지(WSI)를 추출하는 개념도이다. 도 2에 도시한 바와 같이, 검체의 유리 슬라이드에 도말하여 촬영하거나 스캔하여 전체 슬라이드 이미지를 추출 한다. 추출된 전체 슬라이드 이미지는 전처리되지 않은 원본 슬라이드 이미지일 수 있다. 도 3은 원본 슬라이드 이미지로부터 복수의 타일 이미지들을 생성하는 과정들을 도시하고 있다. 도 3의 과정들 은 Z-스태킹(Z-stacking) 또는 초점스태킹 과정과 색 정규화 과정을 포함하고 있다. 도 3을 참조하면, 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지는 검체의 유리 슬라이드에 도말하여 촬영하거나 스캔한 원본 슬라이드 이미지로부터 Z-스태킹(Z-stacking) 또는 초점스태킹 기술을 이 용하여 획득한다. 구체적으로, 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지는 Z-스태킹 또는 초점 스태킹 기 술을 이용하여 원본 슬라이드 이미지로부터 서로 다른 위상에서 초점을 맺은 이미지들을 2차적 후처리 를 통해 하나의 이미지로 합성하여 획득될 수 있다. 일 예로, 세포병리 전체 슬라이드 이미지(WSI)는 도 4에 도시한 바와 같이 세포 검체의 특성상 슬라이드 내에서 3차원적 입체구조를 띄고 있다. 따라서, 세포병리 전체 슬라이드 이미지(WSI)는 세포핵, 핵소체, 세포질 등의 관찰을 위해 고배율, 예를 들어 40x의 고배율로 서로 다른 위상에서 초점을 맺은 2개 이상의 이미지들을 포 함하여 스캔하는 작업이 필요할 수 있다. 구체적인 예를 들어, 3차원적 위상차를 극복하기 위하여 2개 이상, 예를 들어 5개에서 20개의 서로 다른 위상에 서 초점을 맺은 이미지들를 획득하여 모두 보관하여 보여주거나, 2차적 후처리를 통해 하나의 이미지로 합성할 수 있다. 도 5에 도시한 바와 같이, 예를 들어, 5개의 서로 다른 위상에서 초점을 맺은 이미지들(z=0 내지 z=4)를 획득하 여 모두 사용하거나, 예를 들어 서로 다른 위상에서 초점을 맺은 이미지들(z=0 내지 z=4)을 평균화(average)하 거나, 극대화(maximum)하거나, 극소화(minimum)하거나, 초점 스태킹 알고리즘(focus-stacking algorithm)을 적 용하는 등 2차적 후처리를 통해 하나의 이미지로 합성하여 세포 염색법에 따라 구분된 검체 세포 병리 슬라 이드 이미지을 얻을 수 있다. 다음으로, 도 3에 도시한 바와 같이, 스캐닝된 디지털 이미지의 표준화 기술 연구를 통하여, 다양한 염색조건으 로 인해 다르게 보일 수 있는 염색의 색을 비슷하게 맞춰주는 색 정규화(color normalization)한 이미지를 얻을 수도 있다. 또한, 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지는 슬라이드 제작 과정 에서 생길 수 있는 다양한 아티팩트(artifact), 예를 들어, 조직 탈락, crushing, 공기 버블(air bubble), 먼 지(dust), 이물질 등이 이미지 처리 기술을 이용하여 보정될 수 있다. 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지는 원본 슬라이드 이미지 및 원본 슬라이드 이미지로부터 서로 다른 위상에서 초점을 맺은 이미지들, 2차적 후처리를 통해 합성한 하나의 이미지 , 색 정규화(color normalization)한 이미지 중 어느 하나일 수 있다. 또한, 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지는 도 6를 참조하여 설명한 과정들 중 일 부를 생략하고 획득한 슬라이드 이미지일 수 있다. 예를 들어, 세포 염색법에 따라 구분된 검체 세포 병리 슬라 이드 이미지는 색 정규화하지 않고 2차적 후처리를 통해 합성한 하나의 이미지일 수도 있다. 세포 염 색법에 따라 구분된 검체 세포 병리 슬라이드 이미지는 원본 슬라이드 이미지로부터 서로 다른 위상에서 초점을 맺은 이미지들 및 2차적 후처리를 통해 합성한 하나의 이미지를 적용하지 않고 원본 슬라이 드 이미지를 색 정규화한 이미지일 수도 있다. 그리고, 추출된 병변 영역, 예를 들어 암 영역을 특정 규격으로 잘라 학습 가능한 복수의 타일 이미지들 또는 정형 패치 데이터로 추출할 수 있다. 또한, 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지에 매겨 진 클래스 어노테이션(class annotation) 정보를 해당 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이 미지에서 추출된 모든 타일 이미지들 또는 패치 데이터에 할당할 수 있다. 한편, 복수의 타일 이미지들은 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지보다 작은 크기의 이 미지일 수 있다. 이러한 이유로 전술한 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지나 타일 이미지들을 포함하는 세포병리 이미지는 일반적인 조직병리 이미지에 비하여 5배에서 10배의 용량을 가지는 파일로 저장될 수 있다. 예를 들어 조직병리 이미지는 평균 1Gb인 것과 비교하여 세포병리 이미지는 평균 10Gb일 수 있다. 전처리부는, 슬라이딩 윈도우 알고리즘을 기반으로 복수의 타일 이미지들을 생성할 수 있다. 즉, 전 처리부는 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지 상에서 슬라이딩 윈도우에 중첩되는 부분을 타일 이미지로 추출하고 이후 슬라이딩 윈도우의 위치를 이동시킨 후 다시 타일 이미지를 추출하는 과정 을 반복하면서 복수의 타일 이미지들을 생성할 수 있다. 일 예로, 복수의 타일 이미지들은 R(Red) 채널, B(Blue) 채널 및 G(Green) 채널을 가지는 RGB 이미지일 수 있다. 분류부가 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지 또는 둘 이상의 타일 이미지들 을 사용하여 어노테이션(annotation) 기반 학습을 진행한 예측 모델을 사용할 때, 어노테이션 (annotation) 기반 학습은 전문가가 직접 추출된 병변 영역, 예를 들어 암 영역을 어노테이션하여 예측 모델 이 정확하게 학습할 수 있도록 한다. 어노테이션(annotation) 기반 학습을 진행한 예측 모델은 학습에 사용되는 세포 염색법에 따라 구분된 검 체 세포 병리 슬라이드 이미지 또는 복수의 타일 이미지에 암 영역을 선 형태로 나타내는 부분 어노테 이션(32, partial annotation), 암 영역을 박스 형태로 나타내는 경계 박스 어노테이션(34, bounding box annotation), 이미지 전체를 나타내는 이미지 레벨 라벨(36, image-level label) 중 하나 또는 하나 이상의 어 노테이션을 추가하여 학습이 진행될 수 있다. 어노테이션의 형태는 선 형태나 경계 박스에 한정되지 않고 다양 할 수 있다. 예를 들어 어노테이션의 형태는 선 형태나 타원 형태, 괄호 형태 등 다양할 수 있다. 다시 말해, 어노테이션(annotation) 기반 학습을 진행한 예측 모델은 암 영역을 나타내는 어노테이션이 추 가된 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지 또는 복수의 타일 이미지를 통해 학 습을 진행할 수 있다. 이 예측 모델은 세포병리 슬라이드 기반 Neoplasm 예측 모델일 수 있다. 일 예로, 예측 모델은 Neoplasm에 대한 슬라이드 단위 레이블과 전체 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지(WSI)에서 조직 이 존재하는 정사각형 타일 검출 알고리즘을 사용하여 슬라이드 단위 레이블을 사용하여 정사각형 타일 단위의 결과를 예측할 수 있는 약한 지도학습(weakly-supervised learning) 모델로 개발될 수 있다. 구체적으로, 모델 학습에는 분류 모델 학습에 잘 작동하는 것으로 알려진 로스 함수(loss function)를 적용할 수 있다. 그리고, 슬라이드 단위로 암 여부에 대한 어노테이션을 기반으로 모델 학습을 진행할 수 있다. 어노테 이션은 전술한 바와 같이 부분 어노테이션, 경계 박스 어노테이션, 이미지 레벨 라벨일 수 있다. 세포병리검사에서 사용되는 다양한 세포 염색법이 있다. 이 외에도 특정 질환 또는 세포 구조를 분석하기 위해 다양한 세포 염색법이 개발되어 사용되고 있다. 이는 세포 염색법의 종류와 검사 목적에 따라 달라질 수 있다. 예를 들어, 세포 염색법은 김자(Giemsa) 염색법 및 헤마톡실린-에오신(Hematoxylin-Eosin, H&E) 염색법, PAP(Papanicolaou) 염색법, DipQuik 염색법 중 하나일 수 있다. 김자 염색법은 세포 핵과 세포 외부 구조물을 염색하는 데 사용된다. 이 그래먼 염색법은 혈액 관련 질환의 진 단에 널리 사용되며, 세포 구조를 시각화하는 데 도움을 준다. H&E 염색법은 세포핵을 파란색으로 염색하는 헤마톡실린과 세포의 세부 구조를 분화시키기 위해 세포 외부를 붉 은색으로 염색하는 에오신을 사용한다. 이 H&E 염색법은 일반적으로 조직 검사에서 사용되며, 세포와 조직의 구조와 상태를 판별하는 데 도움을 준다. PAP 염색법은 세포 구조를 시각화하는 데 사용된다. 이 패슨 염색법은 성기능 이상, 암 등의 진단을 위해 세포 검체에서 세포의 모양과 구조를 감별하는 데 활용된다. DipQuik 염색법은 세포 염색법 중 하나로, 빠르고 간편한 방법으로 세포 검체를 염색하는 기술이다. DipQuik 염 색법은 주로 핵세포병리학적 검사에서 사용되며, 세포핵 구조와 세포 외부를 시각화하여 세포 이상을 평가하는 데 도움을 준다. DipQuik 염색법은 김자(Giemsa) 염색법을 기반으로 하며, 일반적인 김자 염색보다 간단하고 빠른 과정으로 세포 염색을 완료할 수 있다. 이 DipQuik 염색법은 세포 검체를 물로 가볍게 세척한 후, DipQuik 염색 용액에 세포 슬라이드를 몇 초간 담갔다가 국소적으로 세척하여 염색하는 과정으로 이루어진다. 어노테이션(annotation) 기반 학습을 진행한 예측 모델은, 검체의 세포 염색별로 및 암의 종류별로 복수로 존재할 수 있다. 이때, 분류부는 검체의 세포 염색별로 및 암의 종류별로 각각의 상기 어노테이션 (annotation) 기반 학습을 진행한 예측 모델을 사용하여 임의의 검체 세포 병리 슬라이드 이미지에서 세포 염색별에 따른 암(cancer)의 여부 또는 암의 종류 중 적어도 하나의 클래스를 분류할 수 있다. 이 예측 모델는 데이터 수집 단계와 전술한 바와 같이 데이터 전처리 단계, 어노테이션(annotation) 기반 학습 또는 약한 지도학습(weakly-supervised learning)을 수행하는 모델 학습 단계, 학습된 모델을 검증하는 모 델 검증 단계를 진행하고, 임의의 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지가 입력되었을 때 임의의 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지를 분석하고 세포 염색법에 따른 암의 여부 와 암의 종류 중 적어도 하나의 클래스를 분류할 수 있다. 예측 모델은 이미지 분류 알고리즘을 사용하여 암의 위치도 식별할 수 있다. 이 예측 모델는 세포 염색법에 따른 암의 여부나 암의 종류를 각각의 클래스로 구분하여 정의하고, 임의의 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지에 대한 클래스의 분류를 요청받으면 어노테이 션(annotation) 기반 학습에 결과로 그 클래스를 분류해 줄 수 있다. 또한, 예측 모델은 앙상블 학습법 이용하여 생성될 수 있다. 하나의 예측 모델이 전술한 세포 염색 법에 따른 암의 여부와 암의 종류를 분류할 수도 있지만, 암별로 학습된 검체의 예측 모델들이 존재하고, 암별로 학습된 검체의 예측 모델들마다 해당하는 암에 해당하는지 여부를 판단하고, 각각의 예측 모델들 의 예측 결과를 종합하여 세포 염색법에 따른 암의 여부와 암의 종류를 분류할 수도 있다. 예를 들어 임의의 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지에 대해, 특정 암으로 학습된 예측 모델이 해당 암이라고 분류하고, 세부 암들을 구분하도록 학습된 예측 모델은 세부 암들 중 하 나라고 분류할 수 있다. 다른 암들로 학습된 예측 모델은 해당 암에 해당하지 않는다고 분류할 수 있다. 또한, 이 예측 모델는 체액종류에 따른 암의 여부나 암의 종류를 각각의 클래스로 구분하여 정의하고, 임 의의 체액종류에 따라 구분된 검체 세포 병리 슬라이드 이미지에 대한 클래스의 분류를 요청받으면 어노테 이션(annotation) 기반 학습에 결과로 그 클래스를 분류해 줄 수 있다. 다시 말해 어노테이션(annotation) 기반 학습을 진행한 예측 모델은, 상기 검체의 체액종류로 및 상기 암의 종 류별로 복수로 존재하고, 분류부는 검체의 체액종류로 및 암의 종류별로 각각의 어노테이션(annotation) 기반 학습을 진행한 예측 모델을 사용하여 임의의 검체 세포 병리 슬라이드 이미지에서 체액종류에 따른 암(cancer)의 여부 또는 상기 암 의 종류 중 적어도 하나의 클래스를 분류할 수도 있다. 이때, 체액종류에 따른 검체는 호흡기계 검체, 흉수, 복수, 소변, 세침 흡입 중 적어도 하나일 수 있다. 체액종류에 따른 암의 여부는 암이냐(positive) 암이 아니냐(negative)로 구분할 수 있다. 검체가 호흡기계 검체인 경우, 암의 종류는, 폐암이고, 검체가 흉수인 경우, 암의 종류는, 폐암 및 유방암이고, 검체가 복수인 경우, 암의 종류는, 난소암 및 대장암, 위암, 췌장암이고, 난소암인 경우 장액암 및 점액암, 내 막양암, 투명세포암이고, 검체가 소변인 경우, 암의 종류는, 방광암이고, 검체가 세침 흡입인 경우, 암의 종류 는, 갑상선임, 침샘, 폐암, 췌장암, 림프종일 수 있으나 이에 제한되지 않는다.이 예측 모델는 체액종류에 따른 암의 여부만 구분하거나, 암의 여부와 함께 암의 종류까지 구분할 수 있 다. 예를 들면, 예측 모델은 검체에서 체액종류에 따른 암의 여부만 구분하거나, 체액종류에 따른 암의 여부와 함께 암의 종류까지 구분할 수 있다. 예를 들어, 검체가 호흡기계 검체인 경우 예측 모델은 암에 따라 폐암 구분 모델로 구성될 수 있다. 검체가 흉수인 경우, 예측 모델은 암에 따라 폐암 및 유방암 구분 모델로 구성될 수 있다. 검체가 복수인 경우, 예측 모델은 암에 따라 난소암, 대장암, 위암 및 췌장암 구분 모델로 구성될 수 있다. 특히, 난소암의 경우는 예측 모델은 장액암, 점액암, 내막양암 또는 투명세포암 구분 모델로 구성될 수 있다. 검체가 소변인 경우 예측 모델은 암에 따라 방광암 구분 모델로 구성될 수 있다. 검체가 세침 흡입인 경우, 예측 모델은 암에 따라 갑상선임, 침샘, 폐암, 췌장암, 림프종 구분 모델로 구 성될 수 있다. 예측 모델은 각각의 암들을 구분하는 모델일 수 있다. 예를 들어, 검체가 복수인 경우, 예측 모델이 난소암인지 아닌지를 구분하는 모델일 수도 있다. 예측 모델은 대장암인지 아닌지를 구분하는 모델일 수 있다. 예측 모델은 위암인지 아닌지를 구분하는 모델일 수 있다. 예측 모델는 췌장암인지 아닌지를 구분하는 모델일 수도 있다. 난소암의 경우 다른 예측 모델은 장액암, 점액암, 내막양암 또는 투명세포암 을 구분할 수 있다. 검체가 다른 것인 경우도 각 예측 모델은 각종 암을 구분하는 모델일 수 있다. 전술한 바와 같이 예측 모델는 데이터 수집 단계와 데이터 전처리 단계, 어노테이션(annotation) 기반 학 습 또는 약한 지도학습(weakly-supervised learning)을 수행하는 모델 학습 단계, 학습된 모델을 검증하는 모델 검증 단계를 진행하는데, 이하에서 이 과정들과 그 결과를 예시적으로 설명한다. 원시데이터의 선정 체액 세포병리 검체는 비부인과 세포병리검사로 크게 호흡기계 검체, 흉수, 복수, 소변, 세침흡입(FNAC) 검사 등 5가지 검체로 구성되어 있어, 각각에 맞는 인공지능 모델 개발에 적합하도록 모두 같은 수의 검체를 이용하 여 표 1과 같이 학습데이터를 구축하였다(총 5500여건, 각 체액별 11000여건). [표 1]"}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "대부분 세포병리의 경우 낱개 세포 또는 세포군집 단위로 라벨링이 현실적으로 어려운 측면이 있고, 현재 소수 개발된 인공지능 모델의 대부분이 이미지 패치 단위에서 분류 모델의 형태를 띄고 있으므로, 모델 개발에 적합 한 이미지 패치의 형태로 추출하여 구축하였다. 각 체액 종류별로 비교적 흔히 관찰되는 암종을 포함하며, 대한세포병리학회 정도관리 프로그램을 통해 전국 210여개 변리검사사실과 8개 지역거점병원에서 익명화 및 전문의 진단검토가 이루어지며 수집된 정도관리용 검체의 20%, 가톨릭대학교 의정부성모병원, 연세대학교 세브란스 병원 및 국립암센터의 3개 기관 검체가 나머지 80%의 데이터를 차지하도록 수집했다. 각 기관의 슬라이드 염색의 질과 개별체의 도말 상태에 최적화된 초점 스태킹 방식을 최소 3층에서 최대 6층으 로 선정하여 초점 이탈, 영상의 과다중첩 등과 같은 형상 획득시의 오류를 최소화하였다. 수집 · 정제, 어노테이션/라벨링 절차 체액 세포병리 검체 또는 유리슬라이드 검채를 세포 염색법별, 체액종류별, 정상과 암의 진단클래스별, 암종별 로 수집하여 세포 병리진단 및 조직 병리진단을 재검경을 통해 검토하고, 디지털 슬라이드 스캐너로 스캔하였다. 그 후 스캔된 원시데이터인 디지털 이미지(svs 혹은 mrxs 파일)의 질검토를 거친 후 데이터 정제 과정으로 Z-스태킹 이미지 합성(extended Z-스태킹 이미지 생성), 이물질 및 미초점 부위 제거, 색정규화 단계 를 거치고, 1024×1024 픽셀 크기의 이미지 패치를 추출하였다. 그 후 품질 검사 후 다시 256×256 픽셀 크기 로 줄이는 resizing 과정을 거쳐 표준화된 jpeg 포맷을 얻었다. jpeg 포맷으로 표준화된 데이터는 인공지능 모 델 학습을 위해 라벨링 작업이 수행되었다. 도 7a는 라벨링을 예시한 이지미이다. 수집 · 정제, 어노테이션/라벨링 기준 라벨링은 스캐닝 당시 각 기관에서 슬라이드 단위(WSI)로 진단 클래스 분류 기준에 따라 먼저 이루어지며, 전체 슬라이드 영상(WSI)에서 추출된 이미지 패치의 경우, 정상 슬라이드는 모두 이미지 패치에 정상 클래스 어노데 이이션을 배정하며, 암은 추출된 아미지 패치를 다시 2인 이상의 전문가(세포병리사 및 세포병리전문의) 검토를 거쳐 정상 또는 암 클래스로 재분류하고 이 과정에서 품질기준 부적합 데이터를 제외하였다. 라벨링은 기본적 으로 세포 슬라이드에 상응하는 같은 환자의 조직 병리진단을 기준으로 하되, 조직 병리진단이 없어도 임상적 상황이나 세포 병리소견에 전문가간 이견이 없는 경우에는 원천데이터로 이용하였다. 암 클래스 전체 슬라이드 영상에서 추출된 이미지 패치 중 2인의 전문가 검토에서 전문가간 서로 다른 의견이 있는 경우, 학습 이미지 데이터셋에서 배제하였다. 라벨링 데이터는 표 2과 같이 구성하였다. [표 2]"}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "즉, 라벨링 데이터는 세포 염색법으로 H&E 염색법, PAP 염색법, DipQuik 염색법을 포함한다. 검수 표 3의 검수 기준 따라 데이터를 제출하기 전 3개 기관들이 모두 자체적으로, 데이터의 품질 특성별 항목에 대 해 정량적 검수와 의미적합성 평가를 시행한 후 제출하였고, 구축된 데이터에 대해 가톨릭대학교 의정부 성모병 원과 국립암센터, 서울아산병원이 수작업으로 모든 이미지 패치에 대하여 교차 검증을 시행하였다. 도 7b는 검 수에 통과한 이미지들과 통과하지 못한 이미지들의 예시들이다. [표 3]"}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "학습모델 세포 병리 이미지에서 정상/비정상으로 분류하기 위해서는 해당 클래스의 확률을 표시하고, 분류하는 이미지 분 류 기능이 필요하다. EfficientNet 알고리즘은 이미지의 특징을 추출하고, 추출된 특징을 이용하여 정상과 비정상이 존재할 가능성을 예측하고, 클래스 분류를 출력하였다. 아래의 표 4와 같은 형태로 데이터를 학습(training), 검증(validation), 평가(test)로 나누어서 학습모델을 개 발했다. [표 4]"}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "학습 모델을 검증하기 위하여 전체 데이터를 학습용(80%), 검증(10%), 평가(10%)로 나워서 학습과 테스트를 수 행하였다. 인공지능 예측 모델을 통해 분류된 결과값에 따라 정확도를 산출하였다. 예를 들면, 예측 모델은 정확도 향상을 위한 모델 별 최적화 파라미터(Optimization Parameter)를 규정할 수 있다. 또한, 예측 모델은 의료 데이터 특성에 맞는 알고리즘 비교 및 성능 최적화를 위한 파라미터를 규정할 수 있다. 일예로, 주요 최적화 파라미터는 표 5와 같이 나타날 수 있다. [표 5]"}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "다른 예를 들면, 예측 모델은 데이터 학습 알고리즘을 적용하고 데이터 학습을 시행할 수 있다. 구체적으 로, 이미지 학습용 서버를 구축하고 전체 데이터 셋에 대한 품질 결과 리포팅을 작성할 수 있다. 예를 들어, 전체 데이터 셋에 대한 품질 결과 포트는 표 6과 같이 나타날 수 있다. [표 6]"}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "또한, 예측 모델은 이미지 데이터 학습을 위한 알고리즘으로 CNN (Convolutional Neural Network) 알고리 즘을 사용할 수 있다. 구체적으로, CNN 알고리즘은 RNN(Recurrent Neural Network)와 더불어 딥러닝 모델의 양 대 산맥으로 주목받고 있으며, 기본적으로 얀 르쿤이 1989년 제안한 구조를 토대로 할 수 있다. CNN 알고리즘은 예를 들어, AlexNet 알고리즘이 적용될 수 있고, conv layer, max-pooling layer, dropout layer 5개, fully connected layer 3개, nonlinearity function(ReLU, batch stochastic gradient descent)로 구성될 수 있다. 또한, CNN 알고리즘은 GoogleNet 알고리즘이 적용될 수 있고, 한 가지의 conv filter를 적용한 conv layer를 단순히 깊게 쌓는 방법도 있지만, 하나의 레이어에서도 다양한 종류의 필터나 풀링(pooling)을 도입함으로써 개 별 레이어를 두텁게 확장시킬 수 있다. 일예로, 데이터 구축 규모는 표 7과 같이 나타날 수 있다. [표 7]"}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "예를 들어, 데이터 학습 알고리즘 성능은 인공지능 데이터 활용 모델 개발 요약표 및 유효성 검증환경 및 학습 조건에 따라 산출될 수 있다. 일예로, 예측 모델의 성능 지표는 표 8과 같이 정확도가 80%로 나타났다. [표 8]"}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 9, "content": "일예로, 유효성 검증환경 및 학습조건은 표 9와 같이 나타날 수 있다. [표 9]"}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 10, "content": "성능은 수립된 데이터 셋 중 시험 데이터 셋에 대해서 평가하며, 시험 데이터 셋과 기초 데이터 셋의 중첩은 없 어야 한다. 또한, 전술한 바와 같이, 예측 모델는 슬라이드 단위 Neoplasm 여부에 대한 어노테이션을 바탕 으로 할 수 있다. 전술한 바와 같이, 일 실시예에 따른 검체 세포 병리 검사 지원 장치는 세포병리 검체 또는 유리 슬라이드 검체를 세포 염색법별, 체액종류별, 정상과 암의 진단 클래스별, 암종별로 수집하여 세포 염색법에 따라 정상/ 암을 구분하고 또는 세부 암종을 구분하는 것을 지원할 수 있다. 도 8를 참조하면, 일 실시예에 따른 검체 세포 병리 검사 지원 장치가 슬라이드 이미지(WSI)에서 512×512 픽셀 크기의 이미지 패치를 추출한 후 256×256 픽셀 크기로 줄이는 resizing 과정을 거친 후 이 이미지 패치들 에 대해 제1예측모델(WSI Diagnosis)을 이용하여 세포 염색법에 따른 암의 여부를 구분하고, 이 이미지 패치들 에 대해 제2예측모델(subclassification)을 이용하여 암의 종류를 구분할 수 있다. 정확도(Accuracy)는 각 암종별 예측 모델의 참조 표준 결과와 대조한 예측 점수를 컷오프 기준 양성/음성 으로 정의할 수 있다. 정의한 결과를 근거로 2x2표를 작성할 수 있다. 작성된 표는 표 10 및 표 11과 같이 나타 날 수 있다. 도 9은 진양성(true positive)와 위음성(false Negative)에 해당하는 이미지들이다. [표 10]"}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 11, "content": "[표 11]"}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 12, "content": "여기서, 정확도는 진양성과 진음성의 합을 의미할 수 있다. 또한, 전체 표본수 정확도는 0~100% 사이의 값을 보 일 수 있으며, 100%에 가까울수록 이상적인 진단성능을 의미할 수 있다. 다른 예를 들어, 취득된 디지털 세포병리 슬라이드 영상은 클래스별 수량 분포를 고려하여 약 8:1:1 비율로 훈 련/검증/시험 데이터로 기본적으로 분할하고, 시험데이터 셋의 중요성을 고려하여 최종 8:1:3으로 구성할 수 있 다. 실시예 아래의 표 4와 같은 형태로 데이터를 학습(training), 검증(validation), 평가(test)로 나누어서 도 11a에 도 시한 바와 같이 학습알고리즘을 개발했다. 도 11a에 도시한 학습알고리즘은 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지 또는 복수의 타일 이미지를 사용하여 어노테이션(annotation) 기반 학습을 진행한 예측 모델을 사용하여 임의의 검체 세포 병리 슬라이드 이미지에서 세포 염색법에 따른 암(cancer)의 여부 및 상기 암의 종류 중 적어도 하나의 클래스를 분 류할 수 있다. 구체적으로, 도 11a에 도시한 바와 같이, 입력 데이터에 대해 컨볼루션과 맥스 폴링, 4개의 residual 블럭들, 평균 폴링(average pooling)을 수행하고 시그모이드로 출력 데이터를 출력한다. Residual 블록은 도 11a의 우 측에 도시한 바와 같이, 두개의 컨볼루션들을 이용한 ReLU에 의해 구현될 수 있다. 표 12는 도 11a에 도시한 학습알고리즘에 의해 세포 염색법들 중 PAP 염색법와 PAP 염색법으로 예측된 결과를 도시하고 있다. 표 13은 예측된 결과에 따른 PAP 염색법와 PAP 염색법의 민감도와 특이도, 정확도를 도시하고 있다. [표 12] [표 13]"}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 13, "content": "아래의 표 14 및 표 15과 같은 형태로 데이터를 학습(training), 검증(validation), 평가(test)로 나누어서 학 습모델을 개발했다. 표 14는 세포 염색법들 중 PAP 염색법에 의해 획득한 데이터들이고, 표 15는 세포 염색법 들 중 PAP 염색법에 의해 획득한 데이터들이다. 도 11b에 도시한 학습알고리즘은 체액종류에 따라 구분된 검체 세포 병리 슬라이드 이미지 또는 복수의 타일 이 미지를 사용하여 어노테이션(annotation) 기반 학습을 진행한 예측 모델을 사용하여 임의의 검체 세포 병리 슬 라이드 이미지에서 체액종류에 따른 암(cancer)의 여부 및 암의 종류 중 적어도 하나의 클래스를 분류할 수 있 다. 구체적으로, 도 11b에 도시한 바와 같이, 입력 데이터에 대해 스템 알고리즘을 수행한 후 inception-ResNet-A와 Reduction-A를 세번 반복 수행한 수 적응적 평균 폴링(adaptive average pooling)을 수행하고 시그모이드로 출 력 데이터를 출력한다. 스템 알고릴즘, inception-ResNet-A와 Reduction-A은 도 11b의 우측에에 도시한 바와 같이 컨볼루션과 맥스 폴링을 각각 연속하거나 반복해서 수행한 후 필터 concat을 수행할 수 있다. [표 14] [표 15]"}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 14, "content": "표 16 및 표 18는 도 11b에 도시한 학습알고리즘에 의해 세포 염색법들 중 PAP 염색법와 PAP 염색법별 체액종류 에 따라 예측된 결과를 도시하고 있다. 표 17 및 표 19은 체액종류에 따라 예측된 결과에 따른 PAP 염색법와 PAP 염색법별의 민감도와 특이도, 정확도를 도시하고 있다. [표 16]"}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 15, "content": "[표 17] [표 18]"}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 16, "content": "[표 19]"}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 17, "content": "본 실시예들에 의하면, 검체의 세포 병리 검사 유리슬라이드를 디지털 스캐닝한 이미지를 활용하여, 검체에서 발생하는 난소암, 대장암, 위암 및 췌장암을 포함하는 암 4종을 구분하는 분류 모델을 제공할 수 있다. 분류 모 델에 따라 검체 세포병리검체 분석에 적용하면 매우 적은 비용의 간편한 비침습적 검사로 보다 정확한 조기진단 할 수 있는 분류 모델을 제공할 수 있다. 도 11은 다른 실시예에 따른 검체 세포 병리 검사 지원 방법의 흐름도이다. 도 11을 참조하면, 다른 실시예에 따른 검체 세포 병리 검사 지원 방법은 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지에서 복수의 타일 이미지를 추출하는 전처리 단계(S210) 및 세포 염색법에 따라 구분 된 검체 세포 병리 슬라이드 이미지 또는 복수의 타일 이미지를 사용하여 어노테이션(annotation) 기반 학습을 진행한 예측 모델을 사용하여 임의의 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지에서 세포 염 색법에 따른 암(cancer)의 여부 및 암의 종류 중 적어도 하나의 클래스를 분류하는 분류 단계(S220)를 포함한다. 도 2 내지 도 6를 참조하여 전술한 바와 같이, 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지(1 0)는 검체의 유리 슬라이드에 도말하여 촬영하거나 스캔한 원본 슬라이드 이미지를 Z-스태킹(Z-stacking) 또는 초점스태킹 기술을 이용하여 획득할 수 있다. 또한, 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지는 Z-스태킹(Z-stacking) 또는 초점스태 킹 기술을 이용하여 원본 슬라이드 이미지로부터 서로 다른 위상에서 초점을 맺은 이미지들을 2차적 후 처리를 통해 하나의 이미지로 합성할 수 있다. 전처리 단계(S210)에서 슬라이딩 윈도우 알고리즘을 기반으로 복수의 타일 이미지들을 생성할 수 있다. 전술한 바와 같이, 어노테이션(annotation) 기반 학습을 진행한 예측 모델은, 도 7을 참조하여 전술한 바 와 같이, 학습에 사용되는 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지 또는 복수의 타일 이미 지에 암 영역을 선 형태로 나타내는 부분 어노테이션, 암 영역을 박스 형태로 나타내는 경계 박스 어노테이 션, 이미지 전체를 나타내는 이미지 레벨 라벨 중 하나 또는 하나 이상의 어노테이션을 추가하여 학습 이 진행될 수 있다. 세포병리검사에서 사용되는 다양한 세포 염색법이 있다. 이 외에도 특정 질환 또는 세포 구조를 분석하기 위해 다양한 세포 염색법이 개발되어 사용되고 있다. 이는 세포 염색법의 종류와 검사 목적에 따라 달라질 수 있다. 예를 들어, 세포 염색법은 그래먼(Giemsa) 염색법 및 헤마톡실린-에오신(Hematoxylin-Eosin, H&E) 염색법, 니샤 이(Nissl) 염색법, 리트커(Reticulin) 염색법, 패슨(Papanicolaou) 염색법, DipQuik 염색법 중 하나일 수 있다. 어노테이션(annotation) 기반 학습을 진행한 예측 모델은, 검체의 세포 염색별로 및 암의 종류별로 복수로 존재할 수 있다. 이때, 분류 단계(S220)는 검체의 세포 염색별로 및 암의 종류별로 각각의 상기 어노테이션(annotation) 기반 학습을 진행한 예측 모델을 사용하여 임의의 검체 세포 병리 슬라이드 이미지에서 세포 염색별에 따른 암(cancer)의 여부 또는 암의 종류 중 적어도 하나의 클래스를 분류할 수 있다. 이 예측 모델는 데이터 수집 단계와 전술한 바와 같이 데이터 전처리 단계, 어노테이션(annotation) 기반 학습 또는 약한 지도학습(weakly-supervised learning)을 수행하는 모델 학습 단계, 학습된 모델을 검증하는 모 델 검증 단계를 진행하고, 임의의 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지가 입력되었을 때 임의의 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지를 분석하고 세포 염색법에 따른 암의 여부 와 암의 종류 중 적어도 하나의 클래스를 분류할 수 있다. 예측 모델은 이미지 분류 알고리즘을 사용하여 암의 위치도 식별할 수 있다. 이 예측 모델는 세포 염색법에 따른 암의 여부나 암의 종류를 각각의 클래스로 구분하여 정의하고, 임의의 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지에 대한 클래스의 분류를 요청받으면 어노테이 션(annotation) 기반 학습에 결과로 그 클래스를 분류해 줄 수 있다. 또한, 예측 모델은 앙상블 학습법 이용하여 생성될 수 있다. 하나의 예측 모델이 전술한 세포 염색 법에 따른 암의 여부와 암의 종류를 분류할 수도 있지만, 암별로 학습된 검체의 예측 모델들이 존재하고, 암별로 학습된 검체의 예측 모델들마다 해당하는 암에 해당하는지 여부를 판단하고, 각각의 예측 모델들 의 예측 결과를 종합하여 세포 염색법에 따른 암의 여부와 암의 종류를 분류할 수도 있다. 예를 들어 임의의 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지에 대해, 특정 암으로 학습된 예측 모델이 해당 암이라고 분류하고, 세부 암들을 구분하도록 학습된 예측 모델은 세부 암들 중 하 나라고 분류할 수 있다. 다른 암들로 학습된 예측 모델은 해당 암에 해당하지 않는다고 분류할 수 있다. 또한, 이 예측 모델는 체액종류에 따른 암의 여부나 암의 종류를 각각의 클래스로 구분하여 정의하고, 임 의의 체액종류에 따라 구분된 검체 세포 병리 슬라이드 이미지에 대한 클래스의 분류를 요청받으면 어노테 이션(annotation) 기반 학습에 결과로 그 클래스를 분류해 줄 수 있다. 다시 말해 어노테이션(annotation) 기반 학습을 진행한 예측 모델은, 상기 검체의 체액종류로 및 상기 암의 종 류별로 복수로 존재하고, 분류 단계(S220)는 검체의 체액종류로 및 암의 종류별로 각각의 어노테이션(annotation) 기반 학습을 진행한 예 측 모델을 사용하여 임의의 검체 세포 병리 슬라이드 이미지에서 체액종류에 따른 암(cancer)의 여부 또는 상기 암의 종류 중 적어도 하나의 클래스를 분류할 수도 있다. 이때, 체액종류에 따른 검체는 호흡기계 검체, 흉수, 복수, 소변, 세침 흡입 중 적어도 하나일 수 있다. 체액종류에 따른 암의 여부는 암이냐(positive) 암이 아니냐(negative)로 구분할 수 있다. 검체가 호흡기계 검체인 경우, 암의 종류는, 폐암이고, 검체가 흉수인 경우, 암의 종류는, 폐암 및 유방암이고, 검체가 복수인 경우, 암의 종류는, 난소암 및 대장암, 위암, 췌장암이고, 난소암인 경우 장액암 및 점액암, 내 막양암, 투명세포암이고, 검체가 소변인 경우, 암의 종류는, 방광암이고, 검체가 세침 흡입인 경우, 암의 종류 는, 갑상선임, 침샘, 폐암, 췌장암, 림프종일 수 있으나 이에 제한되지 않는다. 이 예측 모델는 체액종류에 따른 암의 여부만 구분하거나, 암의 여부와 함께 암의 종류까지 구분할 수 있 다. 예를 들면, 예측 모델은 검체에서 체액종류에 따른 암의 여부만 구분하거나, 체액종류에 따른 암의 여부와 함께 암의 종류까지 구분할 수 있다. 예를 들어, 검체가 호흡기계 검체인 경우 예측 모델은 암에 따라 폐암 구분 모델로 구성될 수 있다. 검체가 흉수인 경우, 예측 모델은 암에 따라 폐암 및 유방암 구분 모델로 구성될 수 있다. 검체가 복수인 경우, 예측 모델은 암에 따라 난소암, 대장암, 위암 및 췌장암 구분 모델로 구성될 수 있다. 특히, 난소암의 경우는 예측 모델은 장액암, 점액암, 내막양암 또는 투명세포암 구분 모델로 구성될 수 있다. 검체가 소변인 경우 예측 모델은 암에 따라 방광암 구분 모델로 구성될 수 있다. 검체가 세침 흡입인 경우, 예측 모델은 암에 따라 갑상선임, 침샘, 폐암, 췌장암, 림프종 구분 모델로 구 성될 수 있다. 예측 모델은 각각의 암들을 구분하는 모델일 수 있다. 예를 들어, 검체가 복수인 경우, 예측 모델이 난소암인지 아닌지를 구분하는 모델일 수도 있다. 예측 모델은 대장암인지 아닌지를 구분하는 모델일 수 있다. 예측 모델은 위암인지 아닌지를 구분하는 모델일 수 있다. 예측 모델는 췌장암인지 아닌지를 구분하는 모델일 수도 있다. 난소암의 경우 다른 예측 모델은 장액암, 점액암, 내막양암 또는 투명세포암 을 구분할 수 있다. 검체가 다른 것인 경우도 각 예측 모델은 각종 암을 구분하는 모델일 수 있다. 도 11을 참조하여 설명한 다른 실시예에 따른 검체 세포 병리 검사 지원 방법은 도 1 내지 도 6을 참조하 여 설명한 일 실시예에 따른 검체 세포 병리 검사 장치에서 설명한 내용들을 동일 또는 유사하게 적용할 수 있다. 본 실시예들에 따른 검체 세포 병리 검사 지원 장치 및 그 방법은 높은 정확성과 효율성을 제공하여 병리 검사 의 진단과 치료에 큰 도움을 줄 수 있다. 도 12은 본 발명의 실시예들에 따른 컴퓨팅 시스템의 구성도이다. 도 12를 참조하면, 컴퓨팅 시스템은 메모리 및 프로세서를 포함할 수 있다. 메모리는 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지 및 복수의 타일 이미지들을 저장할 수 있으나, 별도의 대용량 스토리지 서버 등에 별도로 저장할 수도 있다. 메모리는 휘발성 메모리 (e.g. SRAM, DRAM) 또는 비휘발성 메모리(e.g. NAND Flash)일 수 있다. 프로세서는 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지에서 복수의 타일 이미지를 추출하 고, 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지 또는 복수의 타일 이미지를 사용하여 어노테이 션(annotation) 기반 학습을 진행한 예측 모델을 사용하여 임의의 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지에서 암(cancer)의 여부 및 암의 종류 중 적어도 하나의 클래스를 분류할 수 있다. 메모리는 어노테이션(annotation) 기반 학습을 진행한 예측 모델을 저장한다. 임의의 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지에서 암(cancer)의 여부 및 암의 종류 중 적어도 하나의 클래스를 분류하는 작업이 요청되면, 프로세서는 메모리에 저장된 어노테이션(annotation) 기반 학습을 진행한 예측 모델을 실행하여 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지에서 암(cancer)의 여부 및 암의 종류 중 적어도 하나의 클래스를 분류하여 그 결과를 출력한다. 본 발명의 실시예들에 따른 컴퓨팅 시스템은 메모리 및 프로세서를 포함하는 컴퓨터 장치와 메 모리 및 프로세서를 포함하는 서버를 포함할 수 있다. 컴퓨터 장치와 서버는 네트워 크를 통해 유선 또는 무선으로 연결될 수 있다. 서버의 메모리는 전술한 어노테이션(annotation) 기반 학습을 진행한 예측 모델을 저장할 수 있 다. 임의의 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지에서 암(cancer)의 여부 및 암의 종류 중 적 어도 하나의 클래스를 분류하는 작업이 요청(query)되면, 컴퓨터 장치의 프로세서는 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지에서 복수의 타일 이미지를 추출한다. 컴퓨터 장치의 메모리 는 전술한 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지 및 복수의 타일 이미지들 을 저장할 수 있다. 컴퓨터 장치의 프로세서는 메모리에 저장된 세포 염색법에 따라 구분된 검체 세포 병리 슬라이 드 이미지 및 복수의 타일 이미지들 및 이 요청(query)을 서버에 전송할 수 있다. 서버의 프로세서는 전송받은 세포 염색법에 따라 구분된 검체 세포 병리 슬라이드 이미지 또는 복수 의 타일 이미지에 대해 어노테이션(annotation) 기반 학습을 진행한 예측 모델을 사용하여 임의의 세포 염색법 에 따라 구분된 검체 세포 병리 슬라이드 이미지에서 암(cancer)의 여부 및 암의 종류 중 적어도 하나의 클래스 를 분류하고, 그 결과를 컴퓨터 장치에 전송할 수 있다. 도 12 및 도 13을 참조하여 설명한 컴퓨터 시스템에 대해서 아래에서 가능한 다양한 예들을 설명한다. 검체 세포 병리 검사 지원 장치는 도 12에 도시한 컴퓨팅 시스템으로 구성할 수도 있고, 스캔 파일 (WSI이미지)을 저장할 스토리지와 GPU 프로세서와 일반 메모리가 장착된 GPU 서버로 구성할 수도 있으나, 본 발 명은 이에 제한되지 않는다. 전술한 검체 세포 병리 검사 지원 장치는, 프로세서, 메모리, 사용자 입력장치, 프레젠테이션 장치 중 적 어도 일부를 포함하는 컴퓨팅 장치에 의해 구현될 수 있다. 메모리는, 프로세서에 의해 실행되면 특정 태스크를 수행할 있도록 코딩되어 있는 컴퓨터-판독가능 소프트웨어, 애플리케이션, 프로그램 모듈, 루틴, 인스트럭션 (instructions), 및/또는 데이터 등을 저장하는 매체이다. 프로세서는 메모리에 저장되어 있는 컴퓨터-판독가능 소프트웨어, 애플리케이션, 프로그램 모듈, 루틴, 인스트럭션, 및/또는 데이터 등을 판독하여 실행할 수 있다. 사용자 입력장치는 사용자로 하여금 프로세서에게 특정 태스크를 실행하도록 하는 명령을 입력하거나 특정 태스 크의 실행에 필요한 데이터를 입력하도록 하는 수단일 수 있다. 사용자 입력장치는 물리적인 또는 가상적인 키 보드나 키패드, 키버튼, 마우스, 조이스틱, 트랙볼, 터치-민감형 입력수단, 또는 마이크로폰 등을 포함할 수 있 다. 프레젠테이션 장치는 디스플레이, 프린터, 스피커, 또는 진동장치 등을 포함할 수 있다. 컴퓨팅 장치는 스마트폰, 태블릿, 랩탑, 데스크탑, 서버, 클라이언트 등의 다양한 장치를 포함할 수 있다. 컴퓨 팅 장치는 하나의 단일한 스탠드-얼론 장치일 수도 있고, 통신망을 통해 서로 협력하는 다수의 컴퓨팅 장치들로 이루어진 분산형 환경에서 동작하는 다수의 컴퓨팅 장치를 포함할 수 있다. 한편, 컴퓨팅 장치는 고전(classic) 컴퓨팅 장치가 아니라 양자(quantum) 컴퓨팅 장치일 수 있다. 양자 컴퓨팅 장치는 비트가 아닌 큐비트(Qubit) 단위로 연산을 수행한다. 큐비트는 0과 1이 동시에 중첩(superposition)되는 상태를 가질 수 있으며, M개의 큐비트가 있으면 동시에 2^M개의 상태를 표현할 수 있다. 양자 컴퓨팅 장치는 양자 연산을 수행하기 위해 하나 이상의 큐비트를 입력받아 지정된 연산을 수행하는 다양한 종류의 양자 게이트들(e.g. Pauli / Rotation / Hadamard / CNOT / SWAP / Toffoli)를 사용할 수 있고, 양자 게이트들을 조합하여 특수한 기능을 하는 양자 회로를 구성할 수 있다. 양자 컴퓨팅 장치는 기존의 인공 신경망(e.g. CNN, RNN)이 수행하는 기능을 적은 파라미터를 사용하면서도 더 빠른 속도로 수행할 수 있는 양자 인공 신경망(e.g. QCNN, QGRNN)을 사용할 수 있다. 또한 전술한 검체 세포 병리 검사 지원 장치는, 프로세서를 구비하고, 또한 프로세서에 의해 실행되면 딥 러닝 모델을 활용한 검체 세포 병리 검사 지원 방법을 수행할 수 있도록 코딩된 컴퓨터 판독가능 소프트웨 어, 애플리케이션, 프로그램 모듈, 루틴, 인스트럭션, 및/또는 데이터 구조 등을 저장한 메모리를 구비하는 컴 퓨팅 장치에 의해 실행될 수 있다. 상술한 본 실시예들은 다양한 수단을 통해 구현될 수 있다. 예를 들어, 본 실시예들은 하드웨어, 펌웨어 (firmware), 소프트웨어 또는 그것들의 결합 등에 의해 구현될 수 있다. 하드웨어에 의한 구현의 경우, 본 실시예들에 따른 딥 러닝 모델을 활용한 검체 세포 병리 검사 지원 방법(20 0)은 하나 또는 그 이상의 ASICs(Application Specific Integrated Circuits), DSPs(Digital Signal Processors), DSPDs(Digital Signal Processing Devices), PLDs(Programmable Logic Devices), FPGAs(Field Programmable Gate Arrays), 프로세서, 컨트롤러, 마이크로 컨트롤러 또는 마이크로 프로세서 등에 의해 구현될 수 있다. 예를 들어 실시예들에 따른 검체 세포 병리 검사 지원 방법은 심층 신경망의 뉴런(neuron)과 시냅스 (synapse)가 반도체 소자들로 구현된 인공지능 반도체 장치를 이용하여 구현될 수 있다. 이때 반도체 소자는 현 재 사용하는 반도체 소자들, 예를 들어 SRAM이나 DRAM, NAND 등일 수도 있고, 차세대 반도체 소자들, RRAM이나 STT MRAM, PRAM 등일 수도 있고, 이들의 조합일 수도 있다. 실시예들에 따른 검체 세포 병리 검사 지원 방법을 인공지능 반도체 장치를 이용하여 구현할 때, 딥 러닝 모델을 소프트웨어로 학습한 결과(가중치)를 어레이로 배치된 시냅스 모방소자에 전사하거나 인공지능 반도체 장치에서 학습을 진행할 수도 있다. 펌웨어나 소프트웨어에 의한 구현의 경우, 본 실시예들에 따른 검체 세포 병리 검사 지원 방법은 이상에서 설명된 기능 또는 동작들을 수행하는 장치, 절차 또는 함수 등의 형태로 구현될 수 있다. 소프트웨어 코드는 메 모리 유닛에 저장되어 프로세서에 의해 구동될 수 있다. 메모리 유닛은 상기 프로세서 내부 또는 외부에 위치하 여, 이미 공지된 다양한 수단에 의해 프로세서와 데이터를 주고 받을 수 있다. 또한, 위에서 설명한 \"시스템\", \"프로세서\", \"컨트롤러\", \"컴포넌트\", \"모듈\", \"인터페이스\", \"모델\", 또는 \"유 닛\" 등의 용어는 일반적으로 컴퓨터 관련 엔티티 하드웨어, 하드웨어와 소프트웨어의 조합, 소프트웨어 또는 실행 중인 소프트웨어를 의미할 수 있다. 예를 들어, 전술한 구성요소는 프로세서에 의해서 구동되는 프로세스, 프로세서, 컨트롤러, 제어 프로세서, 개체, 실행 스레드, 프로그램 및/또는 컴퓨터일 수 있지만 이에 국한되지 않는다. 예를 들어, 컨트롤러 또는 프로세서에서 실행 중인 애플리케이션과 컨트롤러 또는 프로세서가 모두 구 성 요소가 될 수 있다. 하나 이상의 구성 요소가 프로세스 및/또는 실행 스레드 내에 있을 수 있으며, 구성 요 소들은 하나의 장치(예: 시스템, 컴퓨팅 디바이스 등)에 위치하거나 둘 이상의 장치에 분산되어 위치할 수 있다. 한편, 또 다른 실시예는 전술한 검체 세포 병리 검사 지원 방법을 수행하는, 컴퓨터 기록매체에 저장되는 컴퓨터 프로그램을 제공한다. 또한 또 다른 실시예는 전술한 세포 염색법에 따라 구분된 검체 세포 병리 슬라이 드 이미지 분석 방법을 실현시키기 위한 프로그램을 기록한 컴퓨터로 읽을 수 있는 기록매체를 제공한다. 기록매체에 기록된 프로그램은 컴퓨터에서 읽히어 설치되고 실행됨으로써 전술한 단계들을 실행할 수 있다. 이와 같이, 컴퓨터가 기록매체에 기록된 프로그램을 읽어 들여 프로그램으로 구현된 기능들을 실행시키기 위하 여, 전술한 프로그램은 컴퓨터의 프로세서(CPU)가 컴퓨터의 장치 인터페이스(Interface)를 통해 읽힐 수 있는 C, C++, JAVA, 기계어 등의 컴퓨터 언어로 코드화된 코드(Code)를 포함할 수 있다. 이러한 코드는 전술한 기능들을 정의한 함수 등과 관련된 기능적인 코드(Function Code)를 포함할 수 있고, 전 술한 기능들을 컴퓨터의 프로세서가 소정의 절차대로 실행시키는데 필요한 실행 절차 관련 제어 코드를 포함할 수도 있다. 또한, 이러한 코드는 전술한 기능들을 컴퓨터의 프로세서가 실행시키는데 필요한 추가 정보나 미디어가 컴퓨터 의 내부 또는 외부 메모리의 어느 위치(주소 번지)에서 참조 되어야 하는지에 대한 메모리 참조 관련 코드를 더 포함할 수 있다. 또한, 컴퓨터의 프로세서가 전술한 기능들을 실행시키기 위하여 원격(Remote)에 있는 어떠한 다른 컴퓨터나 서 버 등과 통신이 필요한 경우, 코드는 컴퓨터의 프로세서가 컴퓨터의 통신 모듈을 이용하여 원격(Remote)에 있는 어떠한 다른 컴퓨터나 서버 등과 어떻게 통신해야만 하는지, 통신 시 어떠한 정보나 미디어를 송수신해야 하는 지 등에 대한 통신 관련 코드를 더 포함할 수도 있다. 이상에서 전술한 바와 같은 프로그램을 기록한 컴퓨터로 읽힐 수 있는 기록매체는, 일 예로, ROM, RAM, CD-ROM, 자기 테이프, 플로피디스크, 광 미디어 저장장치 등이 있으며, 또한 캐리어 웨이브(예를 들어, 인터넷을 통한 전송)의 형태로 구현되는 것도 포함할 수 있다. 또한 컴퓨터가 읽을 수 있는 기록매체는 네트워크로 연결된 컴퓨터 시스템에 분산되어, 분산방식으로 컴퓨터가 읽을 수 있는 코드가 저장되고 실행될 수 있다. 그리고, 본 발명을 구현하기 위한 기능적인(Functional) 프로그램과 이와 관련된 코드 및 코드 세그먼트 등은,"}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 18, "content": "기록매체를 읽어서 프로그램을 실행시키는 컴퓨터의 시스템 환경 등을 고려하여, 본 발명이 속하는 기술분야의 프로그래머들에 의해 용이하게 추론되거나 변경될 수도 있다. 도 11을 통해 설명된 검체 세포 병리 검사 지원 방법은, 컴퓨터에 의해 실행되는 애플리케이션이나 프로그 램 모듈과 같은 컴퓨터에 의해 실행 가능한 명령어를 포함하는 기록 매체의 형태로도 구현될 수 있다. 컴퓨터 판독 가능 매체는 컴퓨터에 의해 액세스될 수 있는 임의의 가용 매체일 수 있고, 휘발성 및 비휘발성 매체, 분 리형 및 비분리형 매체를 모두 포함한다. 또한, 컴퓨터 판독가능 매체는 컴퓨터 저장 매체를 모두 포함할 수 있 다. 컴퓨터 저장 매체는 컴퓨터 판독가능 명령어, 데이터 구조, 프로그램 모듈 또는 기타 데이터와 같은 정보의 저장을 위한 임의의 방법 또는 기술로 구현된 휘발성 및 비휘발성, 분리형 및 비분리형 매체를 모두 포함한다. 전술한 검체 세포 병리 검사 지원 방법은, 단말기에 기본적으로 설치된 애플리케이션(이는 단말기에 기본 적으로 탑재된 플랫폼이나 운영체제 등에 포함된 프로그램을 포함할 수 있다)에 의해 실행될 수 있고, 사용자가 애플리케이션 스토어 서버, 애플리케이션 또는 해당 서비스와 관련된 웹 서버 등의 애플리케이션 제공 서버를 통해 마스터 단말기에 직접 설치한 애플리케이션(즉, 프로그램)에 의해 실행될 수도 있다. 이러한 의미에서, 전 술한 검체 세포 병리 검사 지원 방법은 단말기에 기본적으로 설치되거나 사용자에 의해 직접 설치된 애플 리케이션(즉, 프로그램)으로 구현되고 단말기에 등의 컴퓨터로 읽을 수 있는 기록매체에 기록될 수 있다."}
{"patent_id": "10-2023-0075412", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 19, "content": "전술한 본 발명의 설명은 예시를 위한 것이며, 본 발명이 속하는 기술분야의 통상의 지식을 가진 자는 본 발명 의 기술적 사상이나 필수적인 특징을 변경하지 않고서 다른 구체적인 형태로 쉽게 변형이 가능하다는 것을 이해 할 수 있을 것이다. 그러므로 이상에서 기술한 실시예들은 모든 면에서 예시적인 것이며 한정적이 아닌 것으로이해해야만 한다. 예를 들어, 단일형으로 설명되어 있는 각 구성 요소는 분산되어 실시될 수도 있으며, 마찬가 지로 분산된 것으로 설명되어 있는 구성 요소들도 결합된 형태로 실시될 수 있다. 본 발명의 범위는 상기 상세한 설명보다는 후술하는 특허청구범위에 의하여 나타내어지며, 특허청구범위의 의미 및 범위 그리고 그 균등 개념으로부터 도출되는 모든 변경 또는 변형된 형태가 본 발명의 범위에 포함되는 것으 로 해석되어야 한다. 이상의 설명은 본 개시의 기술 사상을 예시적으로 설명한 것에 불과한 것으로서, 본 개시가 속하는 기술 분야에 서 통상의 지식을 가진 자라면 본 기술 사상의 본질적인 특성에서 벗어나지 않는 범위에서 다양한 수정 및 변형 이 가능할 것이다. 또한, 본 실시예들은 본 개시의 기술 사상을 한정하기 위한 것이 아니라 설명하기 위한 것이 므로 이러한 실시예에 의하여 본 기술 사상의 범위가 한정되는 것은 아니다. 본 개시의 보호 범위는 아래의 청 구범위에 의하여 해석되어야 하며, 그와 동등한 범위 내에 있는 모든 기술 사상은 본 개시의 권리 범위에 포함 되는 것으로 해석되어야 할 것이다."}
{"patent_id": "10-2023-0075412", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 일 실시예에 따른 검체 세포 병리 검사 지원 장치의 블록도이다. 도 2는 본 실시예에 따른 WSI(Whole Slide Image) 이미지 추출 개념도이다. 도 3은 원본 슬라이드 이미지로부터 복수의 타일 이미지들을 생성하는 과정들을 도시하고 있다. 도 4는 본 실시예에 따른 검체 세포 병리 슬라이드에서 3차원적 위상차 모식도이다. 도 5는 본 실시예에 따른 3차원 위상차를 극복하기 위한 Z-스태킹을 설명하기 위한 도면이다. 도 6은 본 실시예에 따른 한 지도 학습 방식의 일 예를 설명하기 위한 도면이다. 도 7a는 라벨링을 예시한 이지미이다. 도 7b는 검수에 통과한 이미지들과 통과하지 못한 이미지들의 예시들이다. 도 8은 다른 실시예에 따른 검체 세포 병리 검사 지원 장치의 블록도이다. 도 9은 진양성(true positive)와 위음성(false Negative)에 해당하는 이미지들이다. 도 10a는 염색법에 대한 학습알고리즘의 흐름도의 일예이다. 도 10b는 체액종류에 대한 학습알고리즘의 흐름도의 일예이다. 도 11은 다른 실시예에 따른 검체 세포 병리 검사 지원 방법의 흐름도이다. 도 12는 본 발명의 실시예들에 따른 컴퓨팅 시스템의 구성도이다. 도 13은 본 발명의 실시예들에 따른 클라이언트-서버의 컴퓨터 시스템의 구성도이다."}
