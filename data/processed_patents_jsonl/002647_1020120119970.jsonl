{"patent_id": "10-2012-0119970", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2014-0053712", "출원번호": "10-2012-0119970", "발명의 명칭": "센서 융합에 의한 실내로봇용 위치인식 방법", "출원인": "(주)하기소닉", "발명자": "송호정"}}
{"patent_id": "10-2012-0119970", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "영상을 획득하는 영상획득부와, 획득한 영상을 처리하는 영상처리부와, 영상처리의 결과를 사용하여 지도를 생성하는 지도생성부와, 영상처리결과와 생성된 지도를 사용하여 로봇의 위치를 결정하는 위치인식부와 결정된 위치와 엔코더 및 관성센서의 정보를 융합하는 위치융합부를 구비하는 지능형 이동로봇의 위치를 인식하는 방법에있어서,입력된 영상에 자연랜드마크 또는 인공랜드마크가 있는지 확인하는 단계;자연랜드마크 및 인공랜드마크가 있는지 확인한 상기의 영상의 노이즈를 제거하는 단계; 상기 영상에서 자연랜드 마크의 특징점을 추출하는 단계; 상기 입력된 영상에 인공랜드 마크의 특징점을 추출하는 단계;추출된 특징점에 대한 정보를 이용하여 이진화 알고리즘을 수행하는 단계;상기 이진화 알고리즘을 수행항 정보와, 등록된 자연랜드마크 및 인공랜드마크를 비교하여 매칭시키는 단계; 및칼만필터를 이용한 위치보정 동작을 수행하는 단계; 및보정된 위치와 엔코더 및 관성센서를 융합하여 위치를 결정하는 단계를포함하는 지능형 이동로봇의 위치인식 방법."}
{"patent_id": "10-2012-0119970", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서,추출된 특징점에 대한 정보를 이용하여 이진화 알고리즘을 수행하는 단계는외부 광원이 없었다면, 일반 이진화 알고리즘을 적용하는 단계; 및외부광원이 있다면, 외부광원에 강인한 이진화 알고리즘을 적용하는 단계를 포함하는 것을 특징으로 하는 지능형 이동로봇의 위치인식 방법."}
{"patent_id": "10-2012-0119970", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1 항에 있어서,보정된 위치와 엔코더 및 관성센서를 융합하여 위치를 결정하는 단계는인공랜드마크가 보인다면 인공랜드마크의 위치를 사용하는 단계;자연랜드마크만 보인다면 자연랜드마크와 엔코더 및 관성센서의 정보를 융합하는 단계; 및인공랜드마크와 자연랜드마크가 모두 보이지 않는다면 엔코더 및 관성센서의 정보를 사용하는 단계를 포함하는것을 특징으로 하는 지능형 이동로봇의 위치인식 방법.명 세 서기 술 분 야본 발명은 센서 융합에 의한 실내로봇의 위치인식 방법에 관한 것으로 보다 자세하게는 자연랜드마크 및 인공랜 [0001]드마크를 결합한 복합랜드마크와 엔코더 및 관성센서를 융합한 지능형 이동로봇의 위치인식 방법에 관한것이다.공개특허 10-2014-0053712-3-배 경 기 술이동로봇이 실내에서 이동하기 위해서는 이동로봇이 실내 공간의 어느 위치에 있는가를 식별해야 한다. 통상적 [0002]으로 이동로봇의 위치를 파악하는데 사용되는 일반적인 기술은 카메라를 이용한 방법, 초음파 엑티브비컨을 이용한 방법, 레이저스캐너를 이용한 방법등이 있다. 초음파 엑티브비컨을 이용한 방법과 레이저스캐너를 이용한방법은 고가의 장비를 사용해야 하므로 최근 카메라를 이용한 위치인식 방법이 많이 연구되고 있다. 카메라를 이용한 방법은 획득한 영상을 사용하여 지도 구성과 함께 자신의 위치를 인식하는 방법으로 슬램 [0003](SLAM; Simultaneous Localization And Mapping) 알고리즘이 이용된다. 슬램 알고리즘은 어떤 위치에서 주변환경의 맵을 구성하고, 구성된 맵을 바탕으로 다시 이동한 로봇의 위치를 알아내는 과정을 반복하여 로봇의 위치와 주변 환경의 맵을 동시에 추정할 수 있는 알고리즘이다. 천장 영상을 이용한 SLAM 방법은 천장의 자연 랜드마크를 사용하여 천장의 지도를 생성하고 위치를 인식하지만, 오차가 크며 임의의 위치로 로봇이 옮겨졌을 경우 위치를 추정하기 힘든 경우가 많다.자율 주행용 이동로봇은 일정 공간을 자유롭게 이동하기 위하여 현재의 자기 위치를 정확히 인식한 후 현재 위 [0004]치로부터 목표 위치로 오차 없이 이동할 수 있어야 한다. 이를 위해 이동로봇으로 하여금 현재 자기의 위치를인식할 수 있도록 하는 위치 정보 제공수단으로 소정의 랜드마크(Landmark)가 사용된다. 랜드마크를 이용하는위치 인식 방법으로는 일정한 작업 공간에 설치되는 랜드마크를 이동로봇에서의 카메라로 촬영하고, 인식된 랜드마크로 현재 자기의 위치를 파악할 수 있는 위치 정보를 얻는 방법이 일반적이다. 그러나, 설치되는 랜드마크의 숫자가 작을 경우 위치를 인식할 수 있는 정보가 작아서 정확한 인식이 어렵다. 랜드마크를 너무 많이 부착하는 경우에는 벽에 손상이 생길 수 있는 문제점이 있다.발명의 내용해결하려는 과제본 발명은 센서 융합에 의한 실내로봇의 위치인식 방법에 관한 것으로 인공랜드마크와 자연랜드마크를 결합한 [0005]복합랜드마크와 엔코더 및 관성센서를 융합한 지능형 이동로봇의 위치인식 방법을 제공한다.과제의 해결 수단본 발명은 영상을 획득하는 영상획득부와, 획득한 영상을 처리하는 영상처리부와, 영상처리의 결과를 사용하여 [0006]지도를 생성하는 지도생성부와, 영상처리결과와 생성된 지도를 사용하여 로봇의 위치를 결정하는 위치인식부,결정된 위치와 엔코더의 정보를 융합하는 위치융합부를 구비하는 지능형 이동로봇의 위치를 인식하는 방법에 있어서, 입력된 영상에 자연랜드마크 또는 인공랜드마크가 있는지 확인하는 단계; 자연랜드마크 및 인공랜드마크가 있는지 확인한 상기의 영상의 노이즈를 제거하는 단계; 상기 영상에서 자연랜드 마크의 특징점을 추출하는단계; 상기 입력된 영상에 인공랜드 마크의 특징점을 추출하는 단계; 추출된 특징점에 대한 정보를 이용하여 이진화 알고리즘을 수행하는 단계; 상기 이진화 알고리즘을 수행한 정보와, 등록된 자연랜드마크 및 인공랜드마크를 비교하여 매칭시키는 단계; 및 칼만필터를 이용한 위치보정 동작을 수행하는 단계, 보정된 위치와 엔코더 및관성센서를 융합하는 단계를 포함하는 지능형 이동로봇의 위치인식 방법을 제공한다.발명의 효과본 발명은 자연랜드마크 또는 인공랜드마크중 하나만 사용한 위치인식 장치의 문제점을 보완하여, 인공랜드마크 [0007]와 자연랜드마크를 사용하여 위치인식 과정을 수행한다. 또한 자연랜드마크만 보이는 영역 또는 인공랜드마크와자연랜드마크가 모두 보이지 않는 영역에서 엔코더 및 관성센서의 정보를 사용하여 보정하는 과정이 추가로 포함된다. 따라서, 위치인식의 과정에서 오차를 줄일 수 있으며, 임의의 위치로 위치인식장치를 구비한 로봇이 옮겨졌을 경우 빠르고 쉽게 위치를 새롭게 인식할 수 있으며, 자연랜드마크만 보이는 경우에도 위치를 보정할 수있으며, 카메라가 가려졌거나 특징적인 물체가 없어 영상으로 위치를 판별할 수 없을 경우에도 위치 인식을 할공개특허 10-2014-0053712-4-수 있다.도면의 간단한 설명도1은 본 발명의 실시예에 따른 자연랜드마크 및 인공랜드마크와 엔코더 및 관성센서를 사용하는 지능형 이동로 [0008]봇의 위치인식 장치의 블록도.도2는 실내에서 자연랜드마크와 인공랜드마크를 사용하여 이동로봇의 위치를 인식하는 방법을 보여주는 도면.도3은 본 발명의 위치인식 장치가 사용하는 인공랜드마크의 실시 예를 예시하는 도면.도4는 본 발명의 위치인식 장치가 자연랜드마크와 인공랜드마크의 영상을 획득하여 위치를 인식하고 엔코더 및관성센서를 융합하는 과정을 설명하는 흐름도.발명을 실시하기 위한 구체적인 내용이하, 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자가 본 발명의 기술적 사상을 용이하게 실시할 수 [0009]있을 정도로 상세히 설명하기 위하여, 본 발명의 가장 바람직한 실시예를 첨부된 도면을 참조하여 설명하기로한다.실내 공간을 이동하는 로봇을 제어하기 위해서는 로봇이 실내 공간상에서 어느 위치에 있는가를 인식하는 기능 [0010]이 매주 중요하다. 일반적으로 카메라를 이용한 자기위치를 계산하는 방법은 아래와 같이 크게 2 가지로 나눌수 있다.첫째, 인위적인 랜드마크를 이용하는 방법으로서, 특정 의미를 갖는 랜드마크를 천정 또는 벽면에 설치하고 이 [0011]를 카메라로 촬영한 후 영상에서 랜드마크를 추출함으로써 화면상의 좌표계와 이동로봇의 좌표계를 일치시켜 이동로봇이 자기위치를 계산하는 방법이 있었다. 둘째, 자연적인 랜드마크를 이용하는 방법으로서, 천정을 카메라로 촬영한 후 영상에서 조명기구 등 천정에 설치된 구조물 및 천정과 벽과의 경계면의 직선성분 및 에지 정보를추출한 후 이를 이용하여 로봇의 자기 위치를 계산하는 방식이 있다. 그러나 인위적인 랜드마크를 사용하는 경우에는 조명의 영향을 많이 받고, 태양의 광량과 빛의 파장에 의해 왜곡되어 오인식이 많이 발생하는 문제점이있다. 또한, 자연적인 랜드마크를 사용하는 경우에도 주변 광원의 밝기에 영향을 많이 받고, 조명이 없는 상태에는 사용하기가 매우 힘들다는 문제점이 있다. 이를 해결하기 위해 본 발명에서는 자연랜드마크와 인공랜드마크를 모두 사용하는 지능형 이동로봇의 위치인식 [0012]방법을 제공한다.또한 자연랜드마크만을 사용할 경우 조명의 영향을 받아 인식된 위치가 오차가 생길 수 있으며, 자연랜드마크 [0013]및 인공랜드마크가 모두 보이지 않을 경우 로봇은 위치를 판단할 수 없다. 그러므로 계산된 위치와 엔코더 및관성센서의 정보를 융합하여 최종적인 로봇의 위치를 인식하는 지능형 이동로봇의 위치인식 방법을 제공한다.도1은 본 발명의 실시예에 따른 자연랜드마크 및 인공랜드마크, 그리고 로봇의 다양한 센서를 융합, 사용하는 [0014]지능형 이동로봇의 위치인식 장치의 블록도이다. 특히, 자연랜드마크(21)와 인공랜드마크(30), 그리고 엔코더및 관성센서를 융합한 지능형 이동로봇의 위치인식 장치(10)의 기능적 구성 블럭을 도시한 블록도이다. 도1을 참조하여 살펴보면, 본 실시예에 따른 위치인식 장치는 영상을 획득하는 영상획득부(11), 획득한 영상을 [0015]처리하는 영상처리부(12), 영상처리의 결과를 사용하여 지도를 생성하는 지도생성부(13), 영상처리결과와 생성된 지도를 사용하여 로봇의 위치를 결정하는 위치인식부(14), 엔코더 및 관성센서의 정보를 획득하는 센서획득부(15), 결정된 위치와 엔코더 정보를 융합하는 위치융합부(16)를 포함한다.영상획득부(11)는 외부의 이미지를 포착하여 디지털 신호로 변환한다. 영상획득부(11)는 CCD(Charge Coupled [0016]Device) 모듈이나 CMOS(Complementary Metal Oxide Semiconductor) 모듈을 포함할 수 있다. 영상획득부(11)는이동로봇이 주행하는 평면과 수직한 상방 영상을 획득한다. 영상획득부(11)는 가시광선을 이용하여 외부의 이미지를 포착하여 디지털 신호로 변환하게 된다.영상처리부(12)는 획득한 상방영상에 영상처리 알고리즘을 적용시켜 지도 생성에 필요한 데이터를 만들 수 [0017]있다. 또한 영상처리부(12)는 기본적으로 자연랜드마크(21)를 인식할 수 있으며, 추가적으로 인공랜드마크(30)를 인식할 수 있다. 영상처리부(12)는 입력된 영상을 사용하여 다양한 영상처리 알고리즘을 통하여 특징점을 추공개특허 10-2014-0053712-5-출한다.지도생성부(13)는 영상처리부(12)에서 생성된 데이터를 사용하여 지도를 만들 수 있다. 지도생성부(13)는 자연 [0018]랜드마크 뿐만 아니라 인공랜드마크를 사용하여 정확한 지도생성을 할 수 있다. 또한 지도생성부(13)는 영상처리부(12)에서 생성된 데이터가 지도에 등록되어 있는 데이터인지 특징점 매칭 알고리즘을 사용하여 검색할 수있다. 또한, 지도생성부(13)는 새로운 영상에서 추출된 특징점과 매칭하는 영상정보를 영상 지도로부터 검색하고 영상 지도에 존재하지 않을 경우 새로운 영상 지도에 추가하여 지도를 생성할 수 있다.위치인식부(14)는 영상처리부(12)에서 생성된 데이터와 지도생성부(13)에서 생성된 지도 데이터를 사용하여 로 [0019]봇의 위치를 계산할 수 있다. 위치인식부(14)는 획득한 영상에서 추출된 특징점과 매칭하는 영상정보를 영상 지도로부터 검색하고 검색된 결과를 이용하여 이동 로봇의 위치를 계산할 수 있다. 위치인식부(14)는 인공랜드마크를 추가적으로 사용하여 위치인식의 정밀도를 높일 수 있다. 또한 위치인식부(14)는 자연랜드마크(21)와 인공랜드마크(30)를 인식하여 위치 인식을 한다. 따라서, 본 실시예에 따른 위치인식 장치는 보다 정확하고 빠른 위치 인식이 가능하다.센서획득부(15)는 로봇의 다양한 센서 정보를 획득하여 디지털 신호로 변환한다. 이에 대한 실 예로 로봇의 바 [0020]퀴에 장착되어있는 엔코더의 정보와 로봇의 가감속, 속도, 좌우 회전, 기울기 등의 정보 모두 또는 일부가 포함될 수 있으며, 센서획득부(15)는 이러한 엔코더 및 관성 센서들을 사용하여 로봇의 움직임을 파악한다.위치융합부(16)는 위치인식부(14)에서 생성된 위치와 센서획득부(15)에서 획득한 정보를 융합하여 로봇의 위치 [0021]를 계산한다. 위치융합부(16)는 인공랜드마크와 자연랜드마크의 유무를 판단하고 위치정보와 엔코더의 정보를융합하여 위치를 계산하므로 보다 정확한 위치를 계산할 수 있다.도2는 실내에서 자연랜드마크와 인공랜드마크를 사용하여 이동로봇의 위치를 인식하는 방법을 보여주는 도면이 [0022]다.도2에 도시된 바와 같이, 이동로봇(22)가 구비된 센서를 통해 자연랜드 마크(21)과 인공랜드마크(30)가 포함된 [0023]영상을 찍고, 찍은 영상을 통해 자연랜드 마크(21)과 인공랜드마크(30)를 판별하게 된다.도3은 본 발명의 위치인식 장치가 사용하는 인공랜드마크의 실시 예를 예시하는 도면이다. [0024]도3은 본 발명에 적용되는 인공랜드마크(30)의 바람직한 실시 예를 예시하였다. 도3에서는 서로 다른 형태의 위 [0025]치인식코드(30a~30f)를 예시하였는데, 회전 각도를 구하기 위한 각도 정보 마크(31)와 코드를 구분하는 코드 정보 마크(32)가 인공랜드마크에 배열되어 저마다 고유한 코드들을 이루고 있다. 코드 형태의 인공랜드마크(30)는실내의 천장에 설치된다.이동로봇(22)는 설치된 영상획득부(11)를 사용하여 인공랜드마크(30)를 인식하여 위치 인식용 이미지를 생성하 [0026]게 된다. 이처럼 코드 형태로 이루어진 인공랜드마크(30)는 이동로봇(22)이 이동을 하면서 인공랜드마크(30)를분석하여 인공랜드마크(30)를 기준으로 이동한 거리와 회전한 각도를 알아낼 수 있다.이처럼 코드 형태로 이루어진 인공랜드마크(30)는 하나의 인공랜드마크를 사용할 수 있을 뿐만 아니라 여러 개 [0027]의 인공랜드마크(30a~30f 등)를 사용하여 넓은 면적에서도 하나의 좌표계로 위치를 인식할 수 있다. 또한, 코드형태의 인공랜드마크(30)는 넓은 영역에서 중간에 1~2개를 사용 할 수 있다.본 실시예에 따른 이동로봇의 위치인식 장치는 자연랜드마크(21)와 인공랜드마크(30)를 인식하여 위치를 보정하 [0028]기 때문에, 위치인식의 성능을 향상시킬 수 있다.도4는 본 발명의 위치인식 장치가 자연랜드마크와 인공랜드마크의 영상을 획득하여 위치를 인식하는 과정을 설 [0029]명하는 흐름도이다.도4를 참조하여 살펴보면, 본 발명의 실시예에 따른 위치인식 장치의 동작을 살펴보면, 먼저 입력된 영상에 자 [0030]연랜드마크 또는 인공랜드마크가 있는지 확인한다. 이어서 자연랜드마크 및 인공랜드마크가 있는지 확인한 영상의 잡영상 제거를 위한 영상 전처리 과정을 수행한다. 이 과정은 영상에 있는 노이즈를 제거하는 과정이다. 노이즈 제거 과정은 다양한 과정중 하나를 선택할 수 있으며, 어느 하나의 과정으로 고정되지는 않는다.이어서, 입력된 영상에 자연랜드 마크가 있다고 확인되었다면, 자연랜드 마크의 특징점을 추출한다. 입력된 영 [0031]상에 인공랜드 마크가 있다고 확인되었다면, 인공랜드 마크의 특징점을 추출한다. 이어서 입력된 영상에 외부공개특허 10-2014-0053712-6-광원(햇빛, 조명)이 있는 상태에서 촬영된 것인지 판단한다.만약 외부 광원이 없었다면, 일반 이진화 알고리즘을 적용한다. 만약, 외부광원이 있다면, 외부광원에 강인한 [0032]이진화 알고리즘을 적용한다. 여기서 외부광원에 강인한 이진화 알고리즘이란 처리하는 영상의 값을 일괄적으로낮추거나 어떤 예정된 필터를 거쳐게 하여 보다 효율적으로 데이터를 처리할 수 있도록 하는 것이다. 광원이 있는 경우 처리되는 영상 값의 값이 너무 높아서 영상을 처리하는 데 비효율적일 수 있다. 이진화 알고리즘이란영상을 이루는 각 화소값을 일정한 기준치에 의해 2종류(예를 들어 흑색과 백색)로 구분하여 처리하는 알고리즘이다.이어서, 현재 화면의 물체와 등록된 자연랜드마크 및 인공랜드마크를 비교하여 매칭시킨다. 이어서 칼만필터를 [0033]이용한 데이터 노이즈 제거 및 위치보정 동작을 수행한다. 이 과정에서 위치인식을 위한 지도를 만들게 된다.이어서 물체의 고정적인 직선에 따라 헤딩 앵글(heading angle)을 검출한다. 이어서 입력영상을 이용하여 위치보정하는 동작을 수행한다.이어서, 엔코더 및 관성선세 정보를 융합하여 최종 위치정보를 계산한다. 이 과정에서 인공랜드마크와 자연랜드 [0034]마크의 유무를 판단하여 인공랜드마크가 있을 경우는 인공랜드마크의 위치정보를 사용하고, 자연랜드마크만 있을 경우는 자연랜드마크의 위치정보와 엔코더 및 관성센서의 정보를 융합하여 위치를 계산한다. 또한 인공랜드마크와 자연랜드마크가 모두 보이지 않을 경우에는 엔코더 및 관성센서의 정보만을 사용하여 위치를 계산한다.지금까지 살펴본 본 실시예에 따른 이동로봇은 가시광선을 이용하는 자연랜트마크와 인공랜드마크를 둘다 이용 [0035]하는 위치인식을 하고 보정하고, 엔코더 및 관성센를 추가로 융합하여 위치를 계산하기 때문에, 효과적으로 위치인식을 할 수 있다.이상에서 대표적인 실시예를 통하여 본 발명에 대하여 상세하게 설명하였으나, 본 발명이 속하는 기술분야에서 [0036]통상의 지식을 가진 자는 상술한 실시예에 대하여 본 발명의 범주에서 벗어나지 않는 한도 내에서 다양한 변형이 가능함을 이해할 것이다. 그러므로 본 발명의 권리범위는 설명된 실시예에 국한되어 정해져서는 안되며, 후술하는 특허청구범위뿐만 아니라 이 특허청구범위와 균등한 것들에 의해 정해져야 한다.부호의 설명21 : 자연랜드마크 22 : 위치인식장치 [0037]30 : 인공랜드마크 30a~30f : 인공랜드마크31 : 각도 정보 마크32 : 코드 정보 마크공개특허 10-2014-0053712-7-도면도면1도면2공개특허 10-2014-0053712-8-도면3도면4공개특허 10-2014-0053712-9-"}
{"patent_id": "10-2012-0119970", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 인공랜트마크 및 자연랜드마크와 엔코더 및 관성센서를 사용하는 지능형 이동로봇의 위치인식 방법을 제공한다. 본 발명은 영상을 획득하는 영상획득부와, 획득한 영상을 처리하는 영상처리부와, 영상처리의 결과를 사용하여 지도를 생성하는 지도생성부와, 영상처리결과와 생성된 지도를 사용하여 로봇의 위치를 결정하는 위치 인식부, 결정된 위치와 엔코더 및 관성센서의 정보를 융합하는 위치융합부를 구비하는 지능형 이동로봇의 위치를 인식하는 방법에 있어서, 입력된 영상에 자연랜드마크 또는 인공랜드마크가 있는지 확인하는 단계; 자연랜드마크 및 인공랜드마크가 있는지 확인한 상기의 영상의 노이즈를 제거하는 단계; 상기 영상에서 자연랜드 마크의 특징 점을 추출하는 단계; 상기 입력된 영상에 인공랜드 마크의 특징점을 추출하는 단계; 추출된 특징점에 대한 정보 를 이용하여 이진화 알고리즘을 수행하는 단계; 상기 이진화 알고리즘을 수행항 정보와, 등록된 자연랜드마크 및 인공랜드마크를 비교하여 매칭시키는 단계; 및 칼만필터를 이용한 위치보정 동작을 수행하는 단계, 보정된 위치 와 엔코더 및 관성센서 정보를 융합하는 단계를 포함하는 지능형 이동로봇의 위치인식 방법을 제공한다."}
{"patent_id": "10-2012-0119970", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 센서 융합에 의한 실내로봇의 위치인식 방법에 관한 것으로 보다 자세하게는 자연랜드마크 및 인공랜 드마크를 결합한 복합랜드마크와 엔코더 및 관성센서를 융합한 지능형 이동로봇의 위치인식 방법에 관한 것이다."}
{"patent_id": "10-2012-0119970", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "이동로봇이 실내에서 이동하기 위해서는 이동로봇이 실내 공간의 어느 위치에 있는가를 식별해야 한다. 통상적 으로 이동로봇의 위치를 파악하는데 사용되는 일반적인 기술은 카메라를 이용한 방법, 초음파 엑티브비컨을 이 용한 방법, 레이저스캐너를 이용한 방법등이 있다. 초음파 엑티브비컨을 이용한 방법과 레이저스캐너를 이용한 방법은 고가의 장비를 사용해야 하므로 최근 카메라를 이용한 위치인식 방법이 많이 연구되고 있다. 카메라를 이용한 방법은 획득한 영상을 사용하여 지도 구성과 함께 자신의 위치를 인식하는 방법으로 슬램 (SLAM; Simultaneous Localization And Mapping) 알고리즘이 이용된다. 슬램 알고리즘은 어떤 위치에서 주변 환경의 맵을 구성하고, 구성된 맵을 바탕으로 다시 이동한 로봇의 위치를 알아내는 과정을 반복하여 로봇의 위 치와 주변 환경의 맵을 동시에 추정할 수 있는 알고리즘이다. 천장 영상을 이용한 SLAM 방법은 천장의 자연 랜 드마크를 사용하여 천장의 지도를 생성하고 위치를 인식하지만, 오차가 크며 임의의 위치로 로봇이 옮겨졌을 경 우 위치를 추정하기 힘든 경우가 많다. 자율 주행용 이동로봇은 일정 공간을 자유롭게 이동하기 위하여 현재의 자기 위치를 정확히 인식한 후 현재 위 치로부터 목표 위치로 오차 없이 이동할 수 있어야 한다. 이를 위해 이동로봇으로 하여금 현재 자기의 위치를 인식할 수 있도록 하는 위치 정보 제공수단으로 소정의 랜드마크(Landmark)가 사용된다. 랜드마크를 이용하는 위치 인식 방법으로는 일정한 작업 공간에 설치되는 랜드마크를 이동로봇에서의 카메라로 촬영하고, 인식된 랜 드마크로 현재 자기의 위치를 파악할 수 있는 위치 정보를 얻는 방법이 일반적이다. 그러나, 설치되는 랜드마크 의 숫자가 작을 경우 위치를 인식할 수 있는 정보가 작아서 정확한 인식이 어렵다. 랜드마크를 너무 많이 부착 하는 경우에는 벽에 손상이 생길 수 있는 문제점이 있다."}
{"patent_id": "10-2012-0119970", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 센서 융합에 의한 실내로봇의 위치인식 방법에 관한 것으로 인공랜드마크와 자연랜드마크를 결합한 복합랜드마크와 엔코더 및 관성센서를 융합한 지능형 이동로봇의 위치인식 방법을 제공한다."}
{"patent_id": "10-2012-0119970", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명은 영상을 획득하는 영상획득부와, 획득한 영상을 처리하는 영상처리부와, 영상처리의 결과를 사용하여 지도를 생성하는 지도생성부와, 영상처리결과와 생성된 지도를 사용하여 로봇의 위치를 결정하는 위치인식부, 결정된 위치와 엔코더의 정보를 융합하는 위치융합부를 구비하는 지능형 이동로봇의 위치를 인식하는 방법에 있 어서, 입력된 영상에 자연랜드마크 또는 인공랜드마크가 있는지 확인하는 단계; 자연랜드마크 및 인공랜드마크 가 있는지 확인한 상기의 영상의 노이즈를 제거하는 단계; 상기 영상에서 자연랜드 마크의 특징점을 추출하는 단계; 상기 입력된 영상에 인공랜드 마크의 특징점을 추출하는 단계; 추출된 특징점에 대한 정보를 이용하여 이 진화 알고리즘을 수행하는 단계; 상기 이진화 알고리즘을 수행한 정보와, 등록된 자연랜드마크 및 인공랜드마크 를 비교하여 매칭시키는 단계; 및 칼만필터를 이용한 위치보정 동작을 수행하는 단계, 보정된 위치와 엔코더 및 관성센서를 융합하는 단계를 포함하는 지능형 이동로봇의 위치인식 방법을 제공한다."}
{"patent_id": "10-2012-0119970", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명은 자연랜드마크 또는 인공랜드마크중 하나만 사용한 위치인식 장치의 문제점을 보완하여, 인공랜드마크 와 자연랜드마크를 사용하여 위치인식 과정을 수행한다. 또한 자연랜드마크만 보이는 영역 또는 인공랜드마크와 자연랜드마크가 모두 보이지 않는 영역에서 엔코더 및 관성센서의 정보를 사용하여 보정하는 과정이 추가로 포 함된다. 따라서, 위치인식의 과정에서 오차를 줄일 수 있으며, 임의의 위치로 위치인식장치를 구비한 로봇이 옮 겨졌을 경우 빠르고 쉽게 위치를 새롭게 인식할 수 있으며, 자연랜드마크만 보이는 경우에도 위치를 보정할 수 있으며, 카메라가 가려졌거나 특징적인 물체가 없어 영상으로 위치를 판별할 수 없을 경우에도 위치 인식을 할수 있다."}
{"patent_id": "10-2012-0119970", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자가 본 발명의 기술적 사상을 용이하게 실시할 수 있을 정도로 상세히 설명하기 위하여, 본 발명의 가장 바람직한 실시예를 첨부된 도면을 참조하여 설명하기로 한다. 실내 공간을 이동하는 로봇을 제어하기 위해서는 로봇이 실내 공간상에서 어느 위치에 있는가를 인식하는 기능 이 매주 중요하다. 일반적으로 카메라를 이용한 자기위치를 계산하는 방법은 아래와 같이 크게 2 가지로 나눌 수 있다. 첫째, 인위적인 랜드마크를 이용하는 방법으로서, 특정 의미를 갖는 랜드마크를 천정 또는 벽면에 설치하고 이 를 카메라로 촬영한 후 영상에서 랜드마크를 추출함으로써 화면상의 좌표계와 이동로봇의 좌표계를 일치시켜 이 동로봇이 자기위치를 계산하는 방법이 있었다. 둘째, 자연적인 랜드마크를 이용하는 방법으로서, 천정을 카메라 로 촬영한 후 영상에서 조명기구 등 천정에 설치된 구조물 및 천정과 벽과의 경계면의 직선성분 및 에지 정보를 추출한 후 이를 이용하여 로봇의 자기 위치를 계산하는 방식이 있다. 그러나 인위적인 랜드마크를 사용하는 경 우에는 조명의 영향을 많이 받고, 태양의 광량과 빛의 파장에 의해 왜곡되어 오인식이 많이 발생하는 문제점이 있다. 또한, 자연적인 랜드마크를 사용하는 경우에도 주변 광원의 밝기에 영향을 많이 받고, 조명이 없는 상태 에는 사용하기가 매우 힘들다는 문제점이 있다. 이를 해결하기 위해 본 발명에서는 자연랜드마크와 인공랜드마크를 모두 사용하는 지능형 이동로봇의 위치인식 방법을 제공한다. 또한 자연랜드마크만을 사용할 경우 조명의 영향을 받아 인식된 위치가 오차가 생길 수 있으며, 자연랜드마크 및 인공랜드마크가 모두 보이지 않을 경우 로봇은 위치를 판단할 수 없다. 그러므로 계산된 위치와 엔코더 및 관성센서의 정보를 융합하여 최종적인 로봇의 위치를 인식하는 지능형 이동로봇의 위치인식 방법을 제공한다. 도1은 본 발명의 실시예에 따른 자연랜드마크 및 인공랜드마크, 그리고 로봇의 다양한 센서를 융합, 사용하는 지능형 이동로봇의 위치인식 장치의 블록도이다. 특히, 자연랜드마크와 인공랜드마크, 그리고 엔코더 및 관성센서를 융합한 지능형 이동로봇의 위치인식 장치의 기능적 구성 블럭을 도시한 블록도이다. 도1을 참조하여 살펴보면, 본 실시예에 따른 위치인식 장치는 영상을 획득하는 영상획득부, 획득한 영상을 처리하는 영상처리부, 영상처리의 결과를 사용하여 지도를 생성하는 지도생성부, 영상처리결과와 생성 된 지도를 사용하여 로봇의 위치를 결정하는 위치인식부, 엔코더 및 관성센서의 정보를 획득하는 센서획득 부, 결정된 위치와 엔코더 정보를 융합하는 위치융합부를 포함한다. 영상획득부는 외부의 이미지를 포착하여 디지털 신호로 변환한다. 영상획득부는 CCD(Charge Coupled Device) 모듈이나 CMOS(Complementary Metal Oxide Semiconductor) 모듈을 포함할 수 있다. 영상획득부는 이동로봇이 주행하는 평면과 수직한 상방 영상을 획득한다. 영상획득부는 가시광선을 이용하여 외부의 이미 지를 포착하여 디지털 신호로 변환하게 된다. 영상처리부는 획득한 상방영상에 영상처리 알고리즘을 적용시켜 지도 생성에 필요한 데이터를 만들 수 있다. 또한 영상처리부는 기본적으로 자연랜드마크를 인식할 수 있으며, 추가적으로 인공랜드마크 를 인식할 수 있다. 영상처리부는 입력된 영상을 사용하여 다양한 영상처리 알고리즘을 통하여 특징점을 추출한다. 지도생성부는 영상처리부에서 생성된 데이터를 사용하여 지도를 만들 수 있다. 지도생성부는 자연 랜드마크 뿐만 아니라 인공랜드마크를 사용하여 정확한 지도생성을 할 수 있다. 또한 지도생성부는 영상처 리부에서 생성된 데이터가 지도에 등록되어 있는 데이터인지 특징점 매칭 알고리즘을 사용하여 검색할 수 있다. 또한, 지도생성부는 새로운 영상에서 추출된 특징점과 매칭하는 영상정보를 영상 지도로부터 검색하 고 영상 지도에 존재하지 않을 경우 새로운 영상 지도에 추가하여 지도를 생성할 수 있다. 위치인식부는 영상처리부에서 생성된 데이터와 지도생성부에서 생성된 지도 데이터를 사용하여 로 봇의 위치를 계산할 수 있다. 위치인식부는 획득한 영상에서 추출된 특징점과 매칭하는 영상정보를 영상 지 도로부터 검색하고 검색된 결과를 이용하여 이동 로봇의 위치를 계산할 수 있다. 위치인식부는 인공랜드마 크를 추가적으로 사용하여 위치인식의 정밀도를 높일 수 있다. 또한 위치인식부는 자연랜드마크와 인공 랜드마크를 인식하여 위치 인식을 한다. 따라서, 본 실시예에 따른 위치인식 장치는 보다 정확하고 빠른 위 치 인식이 가능하다. 센서획득부는 로봇의 다양한 센서 정보를 획득하여 디지털 신호로 변환한다. 이에 대한 실 예로 로봇의 바 퀴에 장착되어있는 엔코더의 정보와 로봇의 가감속, 속도, 좌우 회전, 기울기 등의 정보 모두 또는 일부가 포함 될 수 있으며, 센서획득부는 이러한 엔코더 및 관성 센서들을 사용하여 로봇의 움직임을 파악한다. 위치융합부는 위치인식부에서 생성된 위치와 센서획득부에서 획득한 정보를 융합하여 로봇의 위치 를 계산한다. 위치융합부는 인공랜드마크와 자연랜드마크의 유무를 판단하고 위치정보와 엔코더의 정보를 융합하여 위치를 계산하므로 보다 정확한 위치를 계산할 수 있다. 도2는 실내에서 자연랜드마크와 인공랜드마크를 사용하여 이동로봇의 위치를 인식하는 방법을 보여주는 도면이 다. 도2에 도시된 바와 같이, 이동로봇가 구비된 센서를 통해 자연랜드 마크과 인공랜드마크가 포함된 영상을 찍고, 찍은 영상을 통해 자연랜드 마크과 인공랜드마크를 판별하게 된다. 도3은 본 발명의 위치인식 장치가 사용하는 인공랜드마크의 실시 예를 예시하는 도면이다. 도3은 본 발명에 적용되는 인공랜드마크의 바람직한 실시 예를 예시하였다. 도3에서는 서로 다른 형태의 위 치인식코드(30a~30f)를 예시하였는데, 회전 각도를 구하기 위한 각도 정보 마크와 코드를 구분하는 코드 정 보 마크가 인공랜드마크에 배열되어 저마다 고유한 코드들을 이루고 있다. 코드 형태의 인공랜드마크는 실내의 천장에 설치된다. 이동로봇는 설치된 영상획득부를 사용하여 인공랜드마크를 인식하여 위치 인식용 이미지를 생성하 게 된다. 이처럼 코드 형태로 이루어진 인공랜드마크는 이동로봇이 이동을 하면서 인공랜드마크를 분석하여 인공랜드마크를 기준으로 이동한 거리와 회전한 각도를 알아낼 수 있다. 이처럼 코드 형태로 이루어진 인공랜드마크는 하나의 인공랜드마크를 사용할 수 있을 뿐만 아니라 여러 개 의 인공랜드마크(30a~30f 등)를 사용하여 넓은 면적에서도 하나의 좌표계로 위치를 인식할 수 있다. 또한, 코드 형태의 인공랜드마크는 넓은 영역에서 중간에 1~2개를 사용 할 수 있다. 본 실시예에 따른 이동로봇의 위치인식 장치는 자연랜드마크와 인공랜드마크를 인식하여 위치를 보정하 기 때문에, 위치인식의 성능을 향상시킬 수 있다. 도4는 본 발명의 위치인식 장치가 자연랜드마크와 인공랜드마크의 영상을 획득하여 위치를 인식하는 과정을 설 명하는 흐름도이다. 도4를 참조하여 살펴보면, 본 발명의 실시예에 따른 위치인식 장치의 동작을 살펴보면, 먼저 입력된 영상에 자 연랜드마크 또는 인공랜드마크가 있는지 확인한다. 이어서 자연랜드마크 및 인공랜드마크가 있는지 확인한 영상 의 잡영상 제거를 위한 영상 전처리 과정을 수행한다. 이 과정은 영상에 있는 노이즈를 제거하는 과정이다. 노 이즈 제거 과정은 다양한 과정중 하나를 선택할 수 있으며, 어느 하나의 과정으로 고정되지는 않는다. 이어서, 입력된 영상에 자연랜드 마크가 있다고 확인되었다면, 자연랜드 마크의 특징점을 추출한다. 입력된 영 상에 인공랜드 마크가 있다고 확인되었다면, 인공랜드 마크의 특징점을 추출한다. 이어서 입력된 영상에 외부광원(햇빛, 조명)이 있는 상태에서 촬영된 것인지 판단한다. 만약 외부 광원이 없었다면, 일반 이진화 알고리즘을 적용한다. 만약, 외부광원이 있다면, 외부광원에 강인한 이진화 알고리즘을 적용한다. 여기서 외부광원에 강인한 이진화 알고리즘이란 처리하는 영상의 값을 일괄적으로 낮추거나 어떤 예정된 필터를 거쳐게 하여 보다 효율적으로 데이터를 처리할 수 있도록 하는 것이다. 광원이 있 는 경우 처리되는 영상 값의 값이 너무 높아서 영상을 처리하는 데 비효율적일 수 있다. 이진화 알고리즘이란 영상을 이루는 각 화소값을 일정한 기준치에 의해 2종류(예를 들어 흑색과 백색)로 구분하여 처리하는 알고리즘 이다. 이어서, 현재 화면의 물체와 등록된 자연랜드마크 및 인공랜드마크를 비교하여 매칭시킨다. 이어서 칼만필터를 이용한 데이터 노이즈 제거 및 위치보정 동작을 수행한다. 이 과정에서 위치인식을 위한 지도를 만들게 된다. 이어서 물체의 고정적인 직선에 따라 헤딩 앵글(heading angle)을 검출한다. 이어서 입력영상을 이용하여 위치 보정하는 동작을 수행한다. 이어서, 엔코더 및 관성선세 정보를 융합하여 최종 위치정보를 계산한다. 이 과정에서 인공랜드마크와 자연랜드 마크의 유무를 판단하여 인공랜드마크가 있을 경우는 인공랜드마크의 위치정보를 사용하고, 자연랜드마크만 있 을 경우는 자연랜드마크의 위치정보와 엔코더 및 관성센서의 정보를 융합하여 위치를 계산한다. 또한 인공랜드 마크와 자연랜드마크가 모두 보이지 않을 경우에는 엔코더 및 관성센서의 정보만을 사용하여 위치를 계산한다. 지금까지 살펴본 본 실시예에 따른 이동로봇은 가시광선을 이용하는 자연랜트마크와 인공랜드마크를 둘다 이용 하는 위치인식을 하고 보정하고, 엔코더 및 관성센를 추가로 융합하여 위치를 계산하기 때문에, 효과적으로 위 치인식을 할 수 있다."}
{"patent_id": "10-2012-0119970", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "이상에서 대표적인 실시예를 통하여 본 발명에 대하여 상세하게 설명하였으나, 본 발명이 속하는 기술분야에서 통상의 지식을 가진 자는 상술한 실시예에 대하여 본 발명의 범주에서 벗어나지 않는 한도 내에서 다양한 변형 이 가능함을 이해할 것이다. 그러므로 본 발명의 권리범위는 설명된 실시예에 국한되어 정해져서는 안되며, 후 술하는 특허청구범위뿐만 아니라 이 특허청구범위와 균등한 것들에 의해 정해져야 한다."}
{"patent_id": "10-2012-0119970", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도1은 본 발명의 실시예에 따른 자연랜드마크 및 인공랜드마크와 엔코더 및 관성센서를 사용하는 지능형 이동로 봇의 위치인식 장치의 블록도. 도2는 실내에서 자연랜드마크와 인공랜드마크를 사용하여 이동로봇의 위치를 인식하는 방법을 보여주는 도면. 도3은 본 발명의 위치인식 장치가 사용하는 인공랜드마크의 실시 예를 예시하는 도면. 도4는 본 발명의 위치인식 장치가 자연랜드마크와 인공랜드마크의 영상을 획득하여 위치를 인식하고 엔코더 및 관성센서를 융합하는 과정을 설명하는 흐름도."}
