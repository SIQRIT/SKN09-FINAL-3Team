{"patent_id": "10-2022-0000759", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0105412", "출원번호": "10-2022-0000759", "발명의 명칭": "드론의 정밀 착륙 방법 및 장치", "출원인": "한국전자통신연구원", "발명자": "최수길"}}
{"patent_id": "10-2022-0000759", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "드론 정밀 착륙 방법에 있어서,영상 촬영 모듈로부터 전달받은 질의 이미지 상에 탐색 영역을 설정하는 단계;상기 질의 이미지의 촬영 시의 헤딩 방향으로 드론의 헤딩 방향을 정렬하는 단계;상기 영상 촬영 모듈로부터 대상 이미지를 전달받는 단계;상기 대상 이미지에서 착륙 위치를 탐지하고, 착륙 영역을 설정하는 단계;상기 착륙 영역을 추적 대상 영역으로 설정하는 단계; 및상기 추적 대상 영역이 촬영 영상의 중심에 위치하도록 수평 위치를 조정하며 하강하는 단계;를 포함하고, 상기 탐색 영역을 설정하는 단계는,템플릿 제안 신경망(Template Proposal Network)을 활용하여 상기 질의 이미지 상에 상기 탐색 영역을 자동으로생성하는 것을 특징으로 하는,드론 정밀 착륙 방법."}
{"patent_id": "10-2022-0000759", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명에 의한 드론 정밀 착륙 방법은 영상 촬영 모듈로부터 전달받은 질의 이미지 상에 탐색 영역을 설정하는 단계, 질의 이미지 촬영 시의 헤딩 방향으로 드론의 헤딩 방향을 정렬하는 단계, 영상 촬영 모듈로부터 대상 이 미지를 전달받는 단계, 상기 대상 이미지에서 착륙 위치를 탐지하고, 착륙 영역을 설정하는 단계, 상기 착륙 영 역을 추적 대상 영역으로 설정하는 단계, 및 상기 추적 대상 영역이 촬영 영상의 중심에 위치하도록 수평 위치를 조정하며 하강하는 단계를 포함하고, 상기 탐색 영역을 설정하는 단계는, 템플릿 제안 신경망(Template Proposal Network)을 활용하여 상기 질의 이미지 상에 탐색 영역을 자동으로 생성하는 것을 특징으로 한다."}
{"patent_id": "10-2022-0000759", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 드론 정밀 착륙 방법 및 장치에 관한 것으로, 보다 상세하게는, 드론에 장착된 카메라로 촬영한 영상 을 이용하여 착륙 표지가 없거나 동일한 착륙 표지가 복수로 존재할 때에도 드론이 이륙한 위치로 정밀하게 착 륙할 수 있는 드론 정밀 착륙 방법 및 장치에 관한 것이다."}
{"patent_id": "10-2022-0000759", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "드론(Drone)은 사람이 타지 않고 무선전파의 유도에 의해 비행하는 무인 비행체이다. 최근에는 미국 항공 규제 당국은 최초로 완전 자동화된 상업용 드론 비행을 승인하는 등 드론의 자동 운용 기술의 개발이 활발히 진행 중 이다. 드론 운용을 자동화하기 위한 기술 중 하나가 자율 착륙 기술이다. 특히, 드론 운용을 자동화 하기 위해 서는 자율 착륙을 위한 착륙 위치를 자동으로 탐지할 수 있어야 한다. 현재 대부분의 드론은 GNSS(Global Navigation Satellite System) 정보에 기반하여 비행을 수행하며, 이륙 위 치의 GNSS 정보를 이용하여 이륙한 위치에 다시 착륙할 수 있다. 하지만, GNSS는 환경에 따라서 수십 미터까지 오차가 발생할 수 있어, 드론의 이륙 위치로 정밀한 착륙을 보장할 수 없는 문제가 있다. 다만, RTK-GNSS(Real Time Kinematic-Global Navigation Satellite System)는 드론 주변의 환경이 양호한 경우에는 수평/수직 오차 가 수 센티미터(cm) 이내이므로 RTK-GNSS 정보를 이용하면, 드론은 이률 위치로 정밀하게 착륙할 수 있다. 하지 만, 건물과 구조물이 많은 도심지나 산악지형 같이 위성 수신 환경이 좋지 않은 지역에서는 정밀도가 낮아지기 문제가 발생할 수 있다. 즉, RTK-GNSS 정보를 이용하여 정밀 착륙을 하는 기술은 주변에 환경에 상관 없이 안정 적인 정밀 착륙을 보장하지 못하는 문제가 있다. 그리고, RTK-GNSS를 사용하기 위해서는 보정 신호 수신용 실시 간 통신이 확보되어야 하는 단점도 있다. 이에, GNSS에 의존하지 않으면서 자율 착륙을 위해서 드론에서 지면 방향을 촬영한 영상을 이용하는 기술로서, 착륙 표지를 지상에 두고 드론에서 아래쪽 영역을 촬영한 영상에서 착륙 표지를 탐지하여 탐지된 위치로 드론을 착륙하게 하는 방법이 이용되고 있다. 하지만, 기존의 방식은 좁은 영역에 동일한 착륙 표지가 여러 개 있게 되면 아래쪽을 촬영한 영상에서 복수의 착륙 표지가 탐지되게 되므로 드론이 이륙한 착륙 표지를 식별할 수 없고, 착륙 표지 탐지 결과와 이륙 시 GNSS 정보를 융합하더라도 착륙 표지 간의 거리가 GNSS 오차 범위 이내라면 착륙 표지를 구분할 수 없는 문제가 있다. 또한, 착륙 표지가 없는 장소에서 이륙 시 저장한 GNSS 정보를 이용하여 자율 착륙을 할 수 있지만 이륙 위치 주변이 평탄하지 않고 바위나 나무 등이 있다면 드론이 착륙 중에 손상될 위험이 있다."}
{"patent_id": "10-2022-0000759", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "상기와 같은 문제를 해결하기 위한 본 발명의 목적은 좁은 영역에 동일한 착륙 표지가 복수의 개 존재하더라도, 각 드론이 이륙한 착륙 표지로 정밀하게 착륙할 수 있는 드론의 정밀 착륙 방법 및 장치를 제공하는데 있다. 상기와 같은 문제를 해결하기 위한 본 발명의 다른 목적은 착륙 표지가 없는 장소에서도 드론이 이륙한 위치로 정밀하게 착륙할 수 있도록 하는 드론의 정밀 착륙 방법 및 장치를 제공하는데 있다."}
{"patent_id": "10-2022-0000759", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 목적을 달성하기 위한 본 발명의 일 실시예에 따른 드론 정밀 착륙 방법은 영상 촬영 모듈로부터 전달받은 질의 이미지 상에 탐색 영역을 설정하는 단계, 질의 이미지 촬영 시의 헤딩 방향으로 드론의 헤딩 방향을 정렬 하는 단계, 영상 촬영 모듈로부터 대상 이미지를 전달받는 단계, 상기 대상 이미지에서 착륙 위치를 탐지하고, 착륙 영역을 설정하는 단계, 상기 착륙 영역을 추적 대상 영역으로 설정하는 단계, (a) 상기 추적 대상 영역이 촬영 영상의 중심에 위치하도록 수평 위치를 조정하며 하강하는 단계, (b) 소정의 시간 또는 소정의 고도 변화 를 기준으로 하강하며 촬영한 영상을 샘플링 하는 단계, 및 상기 샘플링 한 영상에 추적 대상 영역을 축소하여 재설정하며, 상기 (a)의 단계 및 상기 (b)의 단계를 반복적으로 수행하는 단계를 포함하고, 상기 탐색 영역을 설정하는 단계는, 템플릿 제안 신경망(Template Proposal Network)을 활용하여 상기 질의 이미지 상에 탐색 영 역을 자동으로 생성하는 것을 특징으로 한다."}
{"patent_id": "10-2022-0000759", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 의하면, 드론의 정밀 착륙 방법 및 장치는 좁은 영역에 동일한 착륙 표지가 복수의 개 존재하더라도, 각 드론이 이륙한 착륙 표지로 정밀하게 착륙하게 할 수 있다. 또한, 드론의 정밀 착륙 방법 및 장치는 착륙 표지가 없는 장소에서도 드론이 이륙한 위치로 정밀하게 착륙하게 할 수 있다."}
{"patent_id": "10-2022-0000759", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명은 다양한 변경을 가할 수 있고 여러 가지 실시예를 가질 수 있는 바, 특정 실시예들을 도면에 예시하고 상세하게 설명하고자 한다. 그러나, 이는 본 발명을 특정한 실시 형태에 대해 한정하려는 것이 아니며, 본 발명 의 사상 및 기술 범위에 포함되는 모든 변경, 균등물 내지 대체물을 포함하는 것으로 이해되어야 한다. 제1, 제2 등의 용어는 다양한 구성요소들을 설명하는데 사용될 수 있지만, 상기 구성요소들은 상기 용어들에 의 해 한정되어서는 안 된다. 상기 용어들은 하나의 구성요소를 다른 구성요소로부터 구별하는 목적으로만 사용된 다. 예를 들어, 본 발명의 권리 범위를 벗어나지 않으면서 제1 구성요소는 제2 구성요소로 명명될 수 있고, 유사하게 제2 구성요소도 제1 구성요소로 명명될 수 있다. 및/또는 이라는 용어는 복수의 관련된 기재된 항목들의 조합 또는 복수의 관련된 기재된 항목들 중의 어느 항목을 포함한다. 본 출원의 실시예들에서, \"A 및 B 중에서 적어도 하나\"는 \"A 또는 B 중에서 적어도 하나\" 또는 \"A 및 B 중 하나 이상의 조합들 중에서 적어도 하나\"를 의미할 수 있다. 또한, 본 출원의 실시예들에서, \"A 및 B 중에서 하나 이 상\"은 \"A 또는 B 중에서 하나 이상\" 또는 \"A 및 B 중 하나 이상의 조합들 중에서 하나 이상\"을 의미할 수 있다. 어떤 구성요소가 다른 구성요소에 \"연결되어\" 있다거나 \"접속되어\" 있다고 언급된 때에는, 그 다른 구성요소에 직접적으로 연결되어 있거나 또는 접속되어 있을 수도 있지만, 중간에 다른 구성요소가 존재할 수도 있다고 이 해되어야 할 것이다. 반면에, 어떤 구성요소가 다른 구성요소에 \"직접 연결되어\" 있다거나 \"직접 접속되어\" 있 다고 언급된 때에는, 중간에 다른 구성요소가 존재하지 않는 것으로 이해되어야 할 것이다. 본 출원에서 사용한 용어는 단지 특정한 실시예를 설명하기 위해 사용된 것으로, 본 발명을 한정하려는 의도가 아니다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 출원에서, \"포함 하다\" 또는 \"가지다\" 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조 합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성요소, 부 품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 다르게 정의되지 않는 한, 기술적이거나 과학적인 용어를 포함해서 여기서 사용되는 모든 용어들은 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에 의해 일반적으로 이해되는 것과 동일한 의미를 가지고 있다. 일 반적으로 사용되는 사전에 정의되어 있는 것과 같은 용어들은 관련 기술의 문맥 상 가지는 의미와 일치하는 의 미를 가진 것으로 해석되어야 하며, 본 출원에서 명백하게 정의하지 않는 한, 이상적이거나 과도하게 형식적인 의미로 해석되지 않는다. 이하, 첨부한 도면들을 참조하여, 본 발명의 바람직한 실시예를 보다 상세하게 설명하고자 한다. 본 발명을 설 명함에 있어 전체적인 이해를 용이하게 하기 위하여 도면상의 동일한 구성요소에 대해서는 동일한 참조부호를 사용하고 동일한 구성요소에 대해서 중복된 설명은 생략한다. GNSS에 의존하지 않으면서 드론의 자율 착륙을 유도하는 기술은 드론에서 지면 방향을 촬영한 영상을 이용하는 기술이 주로 사용되고 있다. 드론에서 지면을 촬영한 영상을 이용하여 드론의 자율 착륙을 유도하는 기술은 크 게 2가지 기술로 분류할 수 있다. 첫 번째는 드론에서 촬영한 지면 영상을 분석하여 착륙하기에 안전한 영역을 자동으로 파악하고 해당 영역에 착륙하도록 드론을 제어하는 기술이다. 예를 들어, 인공지능 기술을 이용하여 지면이 평탄하면서 주변에 장애물이 없는 영역을 식별하여, 드론의 착륙을 유도할 수 있다. 다만, 이와 같은 방 법은 착륙 유도 장치를 미리 설치할 필요가 없기 때문에 활용이 쉬운 이점이 있지만 착륙 가능 조건을 만족하는 영역을 찾지 못하는 경우에는 착륙을 할 수 없는 한계가 있다. 또한, 드론이 이륙한 장소로 정확히 착륙하는 것 이 아니고 GNSS 정보를 이용하여 이륙한 장소 주변 상공으로 복귀 후 안전하다고 판단되는 영역으로 착륙하기 때문에, 드론이 안전하지 못한 장소에 착륙할 가능성이 있으며, 특히, 복수의 드론이 동시에 동일한 영역으로 착륙할 수 있는 문제가 있다. 실종자 수색에 드론이 이용되는 경우를 예를 들면, 실종자 수색을 위해 여러 대의 드론이 동시에 비행하고 비슷한 시점에 착륙을 하게 될 수 있다. 이 때, 여러대의 드론이 동일한 영역을 착륙 위치로 판단하고 착륙을 시도함으로써 충돌하는 상황이 발생할 수 있다. 따라서, 지면 촬영 영상을 분석하여 착 륙에 안전한 영역을 파악하고 착륙을 하는 것은 드론이 긴급히 착륙을 해야 하는 비상 상황에는 적합하지만 일 반적인 드론 운용 상황에서는 적용하기에는 무리가 있다. 드론의 자율 착륙을 위해서 영상을 이용하는 두 번째 방법은 착륙 표지를 지상에 두고 드론에서 아래쪽 영역을 촬영한 영상에서 착륙 표지를 탐지하여 탐지된 위치로 드론을 착륙하게 하는 것이다. 하지만, 좁은 영역에 동일 한 착륙 표지가 여러 개 있게 되면 아래쪽을 촬영한 영상에서 복수의 착륙 표지가 탐지되게 되므로 드론이 이륙 한 특정 위치를 식별할 수 없게 되는 문제가 있다. 복수의 드론이 비슷한 시점에 착륙을 시도하게 되면 동일한 착륙 표지를 향해 비행하면서 충돌의 위험이 있다. 또한, 착륙 표지 기반 자율 착륙을 하기 위해서는 사전에 표 지가 설치된 지역에서만 드론을 운용하거나 드론이 인식할 수 있는 착륙 표지를 드론 운용자가 소지하고 다녀야 하는 단점이 있다. 특히, 착륙 표지는 드론이 비행 고도에서 착륙 표지를 식별하기 위해서는 표지가 커야 하며, 야외에서 바람 등에 영향을 받지 않기 위해서는 어느 정도 무게가 있어야 하므로 휴대가 용이하지 않아 드론 운 용자가 소지하고 다니기엔 어려움이 있다. 좁은 영역에 복수의 착륙 표지가 있어야 하는 경우에 구별이 가능한 착륙 표지를 사용할 수 있다. 하지만, 드론 의 비행 고도에서 촬영한 영상에서 착륙 표지를 구분할 수 있기 위해서는 표지가 커지거나 촬영을 위해서 사용하는 카메라 해상도가 높아져야 한다. 특히, 햇빛이 강하게 비치는 야외에서 구분을 위해서 복잡도가 증가한 표 지를 촬영하면 패턴의 세부적인 내용이 촬영 영상에서 유지되지 않는 경향이 있기 때문에 표지가 커지거나 고해 상도의 카메라를 사용해야만 한다. 이에 더하여, 고해상도의 카메라는 FoV(촬영 범위, Field of View)가 좁기 때문에 GNSS 오차가 크면 드론에서 아래쪽을 촬영한 영상에 착륙 표지가 포함되지 않을 가능성도 증가한다. 그 리고, 드론마다 사용하는 착륙 표지가 변경될 때마다 새로운 표지 정보를 착륙 표지 탐지 소프트웨어에 반영해 야 하는 번거로움도 있다. 한편, 템플릿 매칭 또는 템플릿 탐지 기술을 이용하여 위의 문제점을 어느 정도 해결할 수는 있다. 드론이 이륙 을 완료한 후에 아래쪽을 촬영한 이미지의 중심 영역과 드론이 GNSS 정보에 기반하여 이륙을 완료한 위치로 복 귀한 후 아래쪽을 촬영한 이미지를 정합하여 이륙 시 촬영한 이미지의 중심에 해당하는 좌표를 구할 수 있다. 하지만, GNSS 오차와 이륙 시 제어 오차로 인하여 이륙을 완료한 후에 아래쪽을 촬영한 이미지의 중심이 실제 이륙 위치와 같음을 보장할 수 없는 문제가 있다. 그리고, 이륙 완료 후 촬영한 이미지의 중심 영역이 잔디밭과 같이 단조로운 구성으로 되어 있다면 기존의 템플릿 매칭 또는 템플릿 탐지 기술로 정확한 이륙 위치를 찾을 수 없는 문제가 있다. 본 발명은 위와 같은 문제점을 해결하기 위하여, 착륙 표지 없이도 템플릿 탐지 기술을 활용하여 이륙 위치를 탐지하여 착륙할 수 있는 드론 정밀 착륙 방법 및 장치를 개시한다. 도 1은 본 발명의 일 실시예를 따른 드론 정밀 착륙 과정을 보여주는 개념도이다. 본 명세서에 사용되는 용어를 먼저 정의하자면, 이륙 위치는 드론이 이륙을 시작한 수평 위치를 의미할 수 있다. 이륙 위치는 촬영 영상 내에서 이륙 위치에 해당하는 픽셀 좌표로 표현할 수 있다. 질의 이미지는 드론이 미리 설정된 고도까지 상승하여 이륙을 완료한 후에 카메라로 수직 아래쪽 영역을 촬영하여 획득한 이미지를 의 미할 수 있다. 탐색 영역은 질의 이미지 내에서 이륙 위치를 중심으로 설정된 소정의 영역을 의미할 수 있다. 이륙 완료 위치로 복귀는 상기 드론의 이륙 완료 시점의 고도와 수평 위치로 이동을 의미할 수 있다. 대상 이미 지는 이륙 완료 위치로 복귀 후 카메라로 수직 아래쪽 영역을 촬영하여 획득한 이미지를 의미할 수 있다. 대상 이미지 내에서 탐색 영역에 해당하는 영역을 찾을 수 있고, 대상 이미지 내에서 탐색 영역에 해당하는 영역을 착륙 영역이라고 할 수 있다. 착륙 위치는 착륙 영역의 중심 픽셀 좌표를 의미할 수 있다. 다시 도 1을 참조하면, 드론은 질의 이미지를 촬영하여 탐색 영역을 설정 및 저장할 수 있다. 이 후, 드론은 도 시된 2번, 3 번 경로점 비행과 같은 미리 정의된 임무를 수행하고 이륙을 완료한 위치로 복귀할 수 있다. 이 때, GNSS 정보에 기반한 복귀는 주변 환경에 따른 오차가 있으므로 질의 이미지와 대상 이미지에 포함된 영역에 는 필연적으로 차이가 발생할 수 있다. 드론 정밀 착륙 장치는 대상 이미지 내에서 탐색 영역에 해당하는 착륙 영역을 찾을 수 있고, 착륙 위치의 좌표를 도출하여 상기 착륙 위치에 해당하는 실제 좌표로 드론을 이동시켜서 착륙을 할 수 있다. 도 2는 본 발명의 일 실시예에 따른 드론 정밀 착륙 장치의 블록도이다. 드론 정밀 착륙 장치는 드론의 아래쪽 영역을 촬영하는 영상 촬영 모듈, 영상 촬영 모듈로부터 받은 영상을 샘플링하고 영상 내의 특정 영역을 추적하는 영상 처리 모듈, 드론이 이륙 완료 위치로 복귀 후 촬 영한 이미지에서 착륙 위치를 파악하는 착륙 위치 탐지 모듈, 영상 처리 모듈 및 착륙 위치 탐지 모 듈과 연동하여 드론을 정밀 착륙하도록 하는 착륙 제어 모듈을 포함한다. 영상 촬영 모듈은 드론의 수직 아래쪽 영역을 촬영하여 영상 처리 모듈로 전달할 수 있다. 영상 촬영 모듈은 촬영을 위한 카메라를 포함하고 있을 수 있다. 카메라는 짐벌을 통해 드론에 고정될 수 있다. 다시 말하면, 카메라는 각도 조정이 가능한 짐벌에 연결되어 있을 수 있고, 짐벌은 카메라가 항상 드론의 수직으로 아래에 있는 지면을 향하도록 조정할 수 있다. 한편, 카메라가 짐벌 없이 드론에 바로 부착된 경우에는 바람 등 의 영향으로 드론이 흔들릴 때 정확히 수직 아래쪽을 촬영할 수 없어서 촬영 이미지의 중심이 드론의 수직 아래 위치가 아닐 수 있다. 따라서, 짐벌이 없는 경우에는 드론의 기울어짐 정도를 고려하여 드론의 수직 아래 위치 에 해당하는 픽셀 좌표를 계산해야 할 수 있다. 대부분의 경우에 촬영 이미지의 중심 픽셀 좌표와 카메라 주점 의 픽셀 좌표에는 차이가 있지만 본 문서에는 일치하는 것으로 가정할 수 있다. 영상 처리 모듈은 영상 촬영 모듈로부터 전달받은 영상을 샘플링하고, 샘플링한 영상에서 특정 영역 을 추적하기 위한 처리를 할 수 있다. 영상 샘플링은 시간 또는 고도의 변화를 기준으로 할 수 있다. 영상 처리 모듈은 영상 촬영 모듈로부터 전달 받은 영상을 일정 시간 간격으로 샘플링 할 수 있고, 드론이 이륙하거나 상승할 때 고도 변화를 기준으로 샘플링 할 수도 있다. 드론이 수직으로 이륙하도록 비행 제어를 하더라 도 GNSS 오차와 여러 제어 오차 때문에 이륙 시작 시 수평 위치를 유지하기 어려울 수 있다. 이 경우, 이륙 완 료 후에 촬영한 영상의 중심과 이륙 위치 사이에는 차이가 있을 수 있다. 영상 처리 모듈은 이륙 완료 후 촬영한 영상의 중심이 이륙 위치가 되도록 하기 위한 중심 영역 추적 기능을 포함하고 있을 수 있다. 중심 영역 추적 기능은 이륙 시작 후 낮은 고도에서 촬영한 영상의 중심이 실제 이륙 위치와 같다는 가정을 전제로 하고, 낮은 고도에서 촬영한 영상의 중심 영역을 추적 영역으로 설정 할 수 있다. 착륙 위치 탐지 모듈은 이륙 완료 후 촬영한 영상과 이륙 완료 위치로 복귀 후 촬영한 영상을 분석하여 착 륙 위치를 파악할 수 있다. 다시 말하면, 착륙 위치 탐지 모듈은 이륙 완료 후 촬영한 질의 이미지 및 질 의 이미지 상에 설정된 탐색 영역을 토대로, 이륙 완료 위치로 복귀 후 촬영한 대상 이미지 상에서 착륙 영역 및 착륙 위치를 도출할 수 있다. 착륙 제어 모듈은 착륙 위치 탐지를 위한 촬영에 적합하도록 드론 헤딩을 조정하고, 착륙 위치 탐지 모듈 에서 파악한 착륙 위치로 정확하게 착륙하도록 드론을 제어할 수 있다. 도 3은 본 발명의 일 실시예에 따른 드론 정밀 착륙 장치의 이륙시 흐름도이다. 드론이 이륙 시, 영상 촬영 모듈은 드론의 하방을 촬영 할 수 있다(S201). 영상 처리 모듈은 상기 영 상 촬영 모듈이 이륙하면서 촬영한 영상을 샘플링하고(S203), 샘플링한 영상들에서 중심 영역을 계속 추적 하면 이륙 완료 후 촬영한 영상에서 이륙 위치를 정확히 파악할 수 있다(S205). 영상 처리 모듈은 이륙을 하면서 촬영되는 영역이 넓어지게 되고 초기 추적 영역이 점차 작아져서 정확한 추적이 어려워지므로 촬영 고도 가 높아지면 추적된 영역의 중심을 유지하면서 추적 대상 영역을 점차 확장(S207)할 수 있다. 여기서, 고도에 따라 확장된 추적 대상 영역을 다음 추적 대상 영역으로 사용하도록 할 수 있다(S209). 또한, 영상 처리 모듈 은 이륙 완료 후에 수직 아래쪽을 촬영한 영상, 이륙 위치, 드론의 헤딩 방향, 및 고도에 대한 정보를 저 장할 수 있다(S211). 저장된 촬영한 영상, 이륙 위치, 드론의 헤딩 방향, 및 고도에 대한 정보는 착륙 시에 활 용할 수 있다. 도 4는 본 발명의 일 실시예에 따른 드론 정밀 착륙 장치의 착륙시 흐름도이고, 도 5는 본 발명의 일 실시예에 따른 드론 정밀 착륙 장치의 착륙 위치 탐지시 흐름도이다. 드론이 수직으로 착륙하도록 비행 제어를 하더라도 GNSS 오차와 여러 제어 오차 때문에 착륙 시작 시점의 수평 위치를 그대로 유지하기 어렵다. 따라서, 착륙 완료 후 수평 위치와 착륙 시작 시점의 수평 위치 사이에는 차이 가 있을 수 있다. 착륙 완료 후 수평 위치가 착륙 시작 시점의 수평 위치와 일치하도록 하기 위해서 다음과 같 은 중심 영역 추적 기능이 필요하다. 영상 처리 모듈은 착륙 시작 시점에 촬영한 영상의 중심 영역을 하강 하면서 촬영한 영상들에서 계속 추적하고, 추적된 영역의 중심과 촬영 영상 중심 간의 오차를 착륙 제어 모듈 로 전달하여 수평 위치를 조정하도록 할 수 있다(S301). 중심 영역을 추적하며 하강하는 과정에서 영상 촬 영 모듈은 지속적으로 드론의 하방을 촬영하고, 촬영한 영상을 영상 처리 모듈에 전달할 수 있다 (S303). 영상 처리 모듈은 상기 영상 촬영 모듈이 하강하면서 촬영한 영상을 샘플링하고(S305), 샘플 링한 영상들에서 중심 영역을 계속 추적할 수 있다(S307). 드론이 하강을 하면서 촬영하는 경우, 촬영되는 영역 이 점점 좁아지게 되므로 초기 추적 대상 영역이 너무 커지거나 영상의 촬영 범위를 초과할 수 있다. 따라서 드 론이 하강하면서 고도가 낮아지면 추적된 영역의 중심을 유지하면서 추적 대상 영역을 점차 축소할 수 있다 (S309). 또한, 축소된 추적 대상 영역을 추적 대상 영역으로 재 설정하여, 다음 추적 대상 영역으로 사용할 수 있다(S311). 도 5를 참조하면, 착륙 위치 탐지 모듈은 이륙 완료 후 촬영한 영상과 이륙 완료 위치로 복귀 후 촬영한 영상을 분석하여 착륙 위치를 파악할 수 있다(S401). 드론은 임무를 마친 후 이륙을 완료한 위치로 복귀하면, 드론의 헤딩 방향을 이륙 시의 헤딩 방향과 동일하게 정렬할 수 있다(S403). 이를 통해, 질의 이미지와 대상 이 미지를 비슷한 방향에서 촬영할 수 있게 되어, 착륙 위치 탐지를 위한 영상 분석의 정확도를 높일 수 있는 효과 가 있다. 드론의 헤딩을 정렬 후에 아래쪽 영역을 촬영하여 대상 이미지로 저장할 수 있다(S405). 착륙 위치 탐 지 모듈은 이륙 후 저장한 질의 이미지와 이륙 위치 그리고 대상 이미지를 착륙 위치 탐지용 인공 신경망 의 입력으로 하여 착륙 위치를 탐지할 수 있다(S407). 착륙 위치 탐지용 인공 신경망은 아래에 자세히 기술한다. 착륙 위치를 탐지한 후 대상 이미지에서 착륙 위치 주변으로 일정 영역을 추적 대상 영역으로 설정 및 저장할 수 있다(S411). 상기 추적 대상 영역을 영상 처리 모듈에 전달함으로써 도 4에서 도시한 착륙 과정이 시작된다.도 6은 본 발명의 일 실시예에 따른 템플릿 탐지 결과를 예시적으로 보여주는 도면이다. 질의 이미지 내의 특정 영역을 대상 이미지에서 찾는 영상 정합을 위한 여러 가지 방법이 있고, 그 중에서 키 포인트 기반 템플릿 매칭 방법이 대표적인 방법이다. 하지만, 키 포인트 기반 템플릿 매칭 방법은 영상에서 사 용 가능한 키 포인트의 개수가 부족하거나 키 포인트가 이미지의 특정 영역에 치우쳐 있다면 매칭 정확도가 낮 아지는 문제가 있다. 따라서, 본 발명은 다양한 조건에서 높은 정확도로 착륙 위치를 찾기 위해서 인공 신경망 기반 템플릿 매칭 방법을 사용한다. 학습 데이터에 포함되지 않은 새로운 유형의 객체 또는 템플릿을 탐지하는 인공 신경망에 대한 기존 연구가 있 다. 본 발명에서 제안하는 착륙 위치 탐지용 인공 신경망은 탐지할 템플릿을 입력으로 받지 않고, 질의 이미지 를 입력으로 받아서 탐지할 템플릿을 자동으로 생성하는 단계를 추가로 포함하는 것을 특징으로 한다. 본 발명은 이륙 후 촬영한 질의 이미지의 중심 일부 영역을 잘라내서 템플릿으로 사용하지 않고 인공 신경망에 서 템플릿을 자동 생성할 수 있다. 도 6을 참조하면, 도 6(a)와 같이 흰색 네모 영역을 착륙 위치 템플릿으로 하면, 이륙 완료 위치로 복귀 후 촬영한 영상에서 템플릿을 찾을 때 정확히 한 영역을 특정하기 어려울 수 있다. 예를 들면, 도 6(b)와 같이 길을 따라서 여러 영역이 유사하게 보이므로 어느 곳을 착륙 위치로 할지 결 정하지 못하게 된다. 한편, 도 6(c)와 같이 중심에서 더 확장된 영역을 템플릿으로 사용하면 굽어진 길과 숲 일부가 템플릿에 포함되 게 되므로, 도 6(d)와 같이 이륙 완료 위치로 복귀 후 촬영한 영상에서 정확히 한 영역을 특정할 수 있게 된다. 따라서, 이륙 완료 후 촬영한 질의 이미지의 중심 부근으로 얼마나 확장된 영역을 템플릿, 즉, 탐색 영역으로 설정하면 탐지 정확도를 높일 수 있을지 판단하고 탐색 영역을 자동으로 설정할 수 있어야 한다. 도 7은 본 발명의 일 실시예에 따른 착륙 위치 탐지용 인공 신경망의 개념도이다. 착륙 위치 탐지용 인공 신경망은 템플릿 제안 신경망(Template Proposal Network)과 템플릿 탐지 신경망 (Template Detection Network)으로 구성될 수 있다. 템플릿 제안 신경망(Template Proposal Network)은 질의 이미지가 입력되면, 착륙 위치 탐지용으로 적합한 탐색 영역을 설정하고, 설정된 탐색 영역에 대한 정보를 템플 릿 탐지 신경망(Template Detection Network)에 입력으로 전달할 수 있다. 이 때, 이륙 완료 후 촬영한 영상의 중심이 이륙 위치가 아닐 수 있기 때문에 이륙 위치가 중심이 되도록 자른 이미지를 질의 이미지로 사용할 수 있다. 템플릿 탐지 신경망(Template Detection Network)은 템플릿 제안 신경망(Template Proposal Network)으로부터 전달받은 탐색 영역을 대상 이미지에서 탐지하는 기능을 수행한다. 더욱 상세하게 설명하자면, 대상 이미지에서 질의 이미지의 탐색 영역에 대응하는 영역을 탐지할 수 있고, 이 영역이 착륙 영역이 될 수 있다. 이때, 드론이 정밀한 착륙을 하기 위해서는 영역 정보가 아니라 영역의 중심 좌표만 알면 충분하므로 템플릿 탐지 신경망 (Template Detection Network)은 탐지한 착륙 영역의 중심 좌표를 출력할 수 있다. 템플릿 제안 신경망(Template Proposal Network)이 출력하는 탐색 영역의 중심은 이륙 위치와 같거나 차이가 적 어야 하며, 질의 이미지 내의 다른 영역과 구분이 되는 특징을 포함하도록 해야 한다. 따라서, 생성한 탐색 영 역의 중심과 실제 이륙 위치의 오차가 증가하면 손실이 증가하고, 템플릿 탐지 신경망(Template Detection Network)이 출력하는 착륙 영역의 중심 좌표와 실제 착륙 위치의 차이가 증가하면 손실이 증가하도록 손실 함수 를 정의할 수 있다. 이륙 위치가 탐색 영역의 중앙이 되도록 하지 않더라도 탐색 영역 내에 포함이 되면 착륙 영역을 찾은 후에 변 환 행렬을 계산하여 이륙 위치에 해당하는 착륙 위치를 계산할 수 있다. 단, 변환 행렬을 정확히 계산하기 위해 서는 착륙 영역이 탐색 영역과 차이가 적어야 하며, 질의 이미지와 대상 이미지의 촬영 방향에 차이가 있을 수 있으므로 템플릿 탐지 신경망(Template Detection Network)에서 기울어짐을 고려한 착륙 영역 정보를 출력해야 한다. 즉, 템플릿 탐지 신경망(Template Detection Network)는 착륙 영역 정보로써 착륙 영역의 중앙 X, Y 좌 표, 영역의 폭과 넓이의 4개의 값을 출력하는 것이 아니라, 착륙 영역 4개 꼭지점의 X, Y 좌표를 출력해야 한다. 인공 신경망이 결정해야 하는 변수가 증가하면 학습 시 수렴이 더 어려워지고, 객체 탐지용 인공 신경망 에서 많이 사용되는 앵커 박스(anchor box)를 사용하기도 어려워진다. 따라서, 탐색 영역과 착륙 영역이 일치하 도록 하기 보다는 두 영역의 중심 오차만 손실 함수에 사용되도록 하는 것이 바람직하다. 또한, 템플릿 제안 신경망(Template Proposal Network)은 한 개의 탐색 영역을 생성하는 것이 아니고 복수의 탐 색 영역을 생성할 수도 있다. 복수의 탐색 영역을 템플릿 탐지 신경망(Template Detection Network)의 입력으로해서 찾은 복수의 착륙 영역 정보를 융합하여 착륙 위치 탐지 정확도 향상을 기대할 수 있다. 착륙 표지가 있는 경우에는 상기 착륙 위치 탐지용 인공 신경망 외에 착륙 표지 탐지 기능을 추가로 실행하고, 착륙 위치 탐지용 인공 신경망이 파악한 착륙 위치와 가장 가까운 착륙 표지를 최종 착륙 위치로 결정함으로써 착륙 정밀도를 더 높일 수 있다. 착륙 제어 모듈은 착륙 위치 탐지를 위한 촬영에 적합하도록 드론 헤딩을 조정하고, 착륙 위치 탐지 모듈 에서 파악한 착륙 위치로 정확하게 착륙하도록 제어 기능을 수행할 수 있다. 이륙 완료 후 촬영한 질의 이 미지와 이륙 완료 지점으로 복귀 후 촬영한 대상 이미지를 분석하여 착륙 위치를 파악하게 되는데, 두 이미지의 촬영 방향에 차이가 적을수록 분석 정확도가 높아질 것으로 기대된다. 따라서, 이륙 완료 후 질의 이미지를 촬 영할 때 드론의 헤딩 방향을 저장해두고, 이륙 완료 지점으로 복귀 후 드론의 헤딩을 저장된 방향으로 조정하고 대상 이미지를 촬영하도록 한다. 착륙 위치가 파악되면 드론을 제어해서 착륙 위치를 향해 하강하게 되는데, 착륙 위치 수직 위로 이동 후에 착 륙을 시작하더라도 제어 오차로 인해 실제 착륙 위치는 다를 가능성이 높다. 도 4를 참조하면, 드론이 하강하면 서 영상 처리 모듈에서 착륙 영역을 계속 추적하고, 추적된 착륙 영역이 촬영 영상의 중심이 되도록 드론 의 수평 위치를 조정하면서 하강하도록 한다. 본 발명에 따른 방법들은 다양한 컴퓨터 수단을 통해 수행될 수 있는 프로그램 명령 형태로 구현되어 컴퓨터 판 독 가능 매체에 기록될 수 있다. 컴퓨터 판독 가능 매체는 프로그램 명령, 데이터 파일, 데이터 구조 등을 단독 으로 또는 조합하여 포함할 수 있다. 컴퓨터 판독 가능 매체에 기록되는 프로그램 명령은 본 발명을 위해 특별 히 설계되고 구성된 것들이거나 컴퓨터 소프트웨어 당업자에게 공지되어 사용 가능한 것일 수도 있다. 컴퓨터 판독 가능 매체의 예에는 롬(rom), 램(ram), 플래시 메모리(flash memory) 등과 같이 프로그램 명령을 저장하고 수행하도록 특별히 구성된 하드웨어 장치가 포함된다. 프로그램 명령의 예에는 컴파일러(compiler)에 의해 만들어지는 것과 같은 기계어 코드뿐만 아니라 인터프리터(interpreter) 등을 사용해서 컴퓨터에 의해 실 행될 수 있는 고급 언어 코드를 포함한다. 상술한 하드웨어 장치는 본 발명의 동작을 수행하기 위해 적어도 하 나의 소프트웨어 모듈로 작동하도록 구성될 수 있으며, 그 역도 마찬가지이다. 기존의 미리 정해진 착륙 표지를 탐지하는 방법은 드론 개수가 증가하는 경우에 착륙 표지들 사이에 차이를 만 들기 위해서는 착륙 표지가 복잡해져야 할 뿐만 아니라, 착륙을 시작하는 고도에서 차이를 구분할 수 있을 정도 로 표지가 커져야 하는 단점이 있다. 또한, 착륙을 시작하는 고도가 높을 때 촬영한 영상에서 착륙 표지의 차이 를 구분할 수 있기 위해서는 고해상도이면서 화각이 넓은 고가의 카메라를 드론에 장착해야 하므로 비용이 증가 하는 문제가 있다. 더욱이, 야외 환경에서 빛이 강하게 비칠 때, 표지 패턴의 작은 차이는 높은 고도에서 촬영 한 영상에서 사라질 수 있고, 조도가 낮은 경우에는 작은 차이가 드러나지 않을 수 있는 문제가 있다. 이에 반하여, 본 발명은 신경망을 활용한 템플릿 탐지를 통해 이륙한 위치로 정밀하게 착륙할 수 있는 발명으로 서, 좁은 영역에 동일한 착륙 표지를 복수로 사용할 수 있어서 표지 제작과 표지 탐지용 카메라의 비용을 줄이 고, 표지 탐지 알고리즘의 복잡도를 줄일 수 있는 효과가 있다. 또한, 기존의 방법의 경우, 동일한 착륙 표지를 사용하고 드론이 착륙을 시작하기 전에 촬영한 영상에 동일한 착륙 표지가 복수 개 포함된다면, 동일한 착륙 표지를 구분할 수 없어 여러 드론이 같은 표지에 착륙을 시도하 게 되어 충돌의 위험이 있을 수 있다. 상기와 같이 동일한 착륙 표지를 사용하면서 착륙 시 충돌 위험을 없애기 위해서는 착륙 표지들 간에 충분한 간격이 확보되어서 드론이 GNSS 정보에 기반하여 이륙 완료 위치로 복귀 후 촬영한 영상에 한 개의 표지만 포함될 수 있어야 한다. 하지만, 나무나 바위 등의 장애물이 없는 평지가 협소한 환경에서는 표지 간에 충분한 간격을 두기 어려운 문제가 있다. 이에 반하여, 본 발명은 신경망을 활용한 템플릿 탐지를 통해 이륙한 위치로 정밀하게 착륙할 수 있는 발명으로 서, 좁은 영역에서도 동일한 착륙 표지를 사용하면서 복수의 드론들이 안전하게 정밀 착륙할 수 있다. 특히, 본 발명은 파악된 착륙 위치와 가장 가까운 착륙 표지로 착륙을 할 수도 있지만, 착륙 표지 없이 임의의 장소에서 이륙을 하더라도 이륙한 장소로 정밀 착륙이 가능한 장점이 있다. 또한, 기존의 방법들은 착륙 표지나 기타 착륙 유도 장치가 없으면 GNSS 정보에 기반하여 착륙할 수 밖에 없어 서 정밀도가 낮고 주변에 장애물이 있다면 착륙 중에 드론이 장애물과의 충돌 등으로 파손될 수 있다. 이에 반하여, 본 발명은 신경망을 활용한 템플릿 탐지를 통해 이륙한 위치로 정밀하게 착륙할 수 있음으로써, 착륙 유도를 위한 추가적인 장치 없이 이륙 위치로 정밀 착륙을 수행할 수 있는 장점이 있다.이상 실시예를 참조하여 설명하였지만, 해당 기술 분야의 숙련된 당업자는 하기의 특허 청구의 범위에 기재된 본 발명의 사상 및 영역으로부터 벗어나지 않는 범위 내에서 본 발명을 다양하게 수정 및 변경시킬 수 있음을 이해할 수 있을 것이다."}
{"patent_id": "10-2022-0000759", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예를 따른 드론 정밀 착륙 과정을 보여주는 개념도이다. 도 2는 본 발명의 일 실시예에 따른 드론 정밀 착륙 장치의 블록도이다. 도 3은 본 발명의 일 실시예에 따른 드론 정밀 착륙 장치의 이륙시 흐름도이다. 도 4는 본 발명의 일 실시예에 따른 드론 정밀 착륙 장치의 착륙시 흐름도이다. 도 5는 본 발명의 일 실시예에 따른 드론 정밀 착륙 장치의 착륙 위치 탐지시 흐름도이다. 도 6은 본 발명의 일 실시예에 따른 템플릿 탐지 결과를 예시적으로 보여주는 도면이다. 도 7은 본 발명의 일 실시예에 따른 착륙 위치 탐지용 인공 신경망의 개념도이다."}
