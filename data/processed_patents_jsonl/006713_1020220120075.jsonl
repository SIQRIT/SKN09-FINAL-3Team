{"patent_id": "10-2022-0120075", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0041034", "출원번호": "10-2022-0120075", "발명의 명칭": "쉐이플릿 기반 이상 탐지 및 해석 시스템", "출원인": "호서대학교 산학협력단", "발명자": "이태진"}}
{"patent_id": "10-2022-0120075", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "시계열 데이터를 활용하는 시스템 구축에 사용되는 학습 데이터의 피쳐(Feature)를 분류하고 상기 학습 데이터의 시퀀스를 설정하는 전처리 모듈;상기 전처리 모듈을 통해 전처리된 학습 데이터의 시퀀스에 따라 각 피쳐별로 쉐이플릿(Shapelet) 패턴을 추출하고, 각 피쳐별로 추출된 상기 쉐이플릿과 원본 데이터 사이의 유사도를 측정하는 쉐이플릿 모듈;상기 쉐이플릿 모듈로부터 측정된 유사도 관련 파라메터에 임계값을 설정하고, 상기 임계값을 기준으로 이상이탐지된 피쳐를 추출하는 분석 모듈; 및상기 분석 모듈에서 추출된 이상이 탐지된 피쳐의 데이터 흐름을 시각화하여 출력하는 해석 모듈;을 포함하는 것을 특징으로 하는 쉐이플릿 기반 이상 탐지 및 해석 시스템."}
{"patent_id": "10-2022-0120075", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서,상기 전처리 모듈은,다수개의 공격 시나리오를 포함하는 상기 학습 데이터의 시계열로 정렬된 데이터를 2초 이상의 서로 다른 시퀀스인 제1 시퀀스, 제2 시퀀스로 분류하는 것을 특징으로 하는 시계열 데이터의 쉐이플릿 기반 이상 탐지 및 해석 시스템."}
{"patent_id": "10-2022-0120075", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1 항에 있어서,상기 쉐이플릿 모듈은,거리 기반의 알고리즘인 유클라디안 알고리즘을 사용하여 각 피쳐별로 추출된 상기 쉐이플릿과 원본 데이터 사이의 유사도를 거리 파라메터로 측정하는 것을 특징으로 하는 쉐이플릿 기반 이상 탐지 및 해석 시스템."}
{"patent_id": "10-2022-0120075", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 1 항에 있어서,상기 분석 모듈은,상기 쉐이플릿 모듈이 추출한 상기 쉐이플릿과 원본 데이터 사이의 유사도 데이터를 대상으로 누적분포함수(CDF, Cumulative Distribution Function)를 적용하여 데이터를 변환하는 것을 특징으로 하는 쉐이플릿 기반이상 탐지 및 해석 시스템."}
{"patent_id": "10-2022-0120075", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 4 항에 있어서,상기 분석 모듈은,상기 쉐이플릿과 원본 데이터 사이의 유사도를 거리 파라메터로 측정하고, 누적분포함수를 적용한 상기 거리 파공개특허 10-2024-0041034-3-라메터를 정렬하여, 상기 거리 파라메터의 상위 10% 이내의 값을 임계값으로 설정하는 것을 특징으로 하는 쉐이플릿 기반 이상 탐지 및 해석 시스템."}
{"patent_id": "10-2022-0120075", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 1 항에 있어서, 상기 해석 모듈은,상기 임계값을 초과하는 정도인 이상치를 산출하고, 전체 피쳐에 대한 상기 이상치를 플롯 또는 히트맵으로 시각화하는 것을 특징으로 하는 쉐이플릿 기반 이상 탐지 및 해석 시스템."}
{"patent_id": "10-2022-0120075", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제 6 항에 있어서,상기 해석 모듈은,전체 피쳐에서 이상치가 높은 상위 피쳐를 플롯 또는 히트맵으로 시각화하는 것을 특징으로 하는 쉐이플릿 기반이상 탐지 및 해석 시스템."}
{"patent_id": "10-2022-0120075", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "데이터를 입력하는 입력 수단, 입력된 데이터를 처리하는 처리 수단 및 출력 수단을 갖는 스마트폰, 태블릿, 노트북, 또는 컴퓨터에, 시계열 데이터를 활용하는 시스템 구축에 사용되는 학습 데이터의 피쳐(Feature)를 분류하고 상기 학습 데이터의 시퀀스를 설정하는 전처리 기능;상기 전처리 기능을 통해 전처리된 학습 데이터의 시퀀스에 따라 각 피쳐별로 쉐이플릿(Shapelet) 패턴을 추출하고, 각 피쳐별로 추출된 상기 쉐이플릿과 원본 데이터 사이의 유사도를 측정하는 쉐이플릿 기능;상기 쉐이플릿 기능으로부터 측정된 유사도 관련 파라메터에 임계값을 설정하고, 상기 임계값을 기준으로 이상이 탐지된 피쳐를 특정하여 추출하는 분석 기능; 및상기 분석 기능에서 추출된 이상이 탐지된 피쳐의 데이터 흐름을 시각화하여 출력하는 해석 기능;을 실행시키기 위하여 매체에 저장된 것을 특징으로 하는 쉐이플릿 기반 이상 탐지 및 해석 어플리케이션."}
{"patent_id": "10-2022-0120075", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 쉐이플릿 기반 이상 탐지 및 해석 시스템에 있어서, 시계열 데이터를 활용하는 시스템 구축에 사용되 는 학습 데이터의 피쳐(Feature)를 분류하고 상기 학습 데이터의 시퀀스를 설정하는 전처리 모듈; 상기 전처리 모듈을 통해 전처리된 학습 데이터의 시퀀스에 따라 각 피쳐별로 쉐이플릿(Shapelet) 패턴을 추출하고, 각 피쳐 별로 추출된 상기 쉐이플릿과 원본 데이터 사이의 유사도를 측정하는 쉐이플릿 모듈; 상기 쉐이플릿 모듈로부터 측정된 유사도 관련 파라메터에 임계값을 설정하고, 상기 임계값을 기준으로 이상이 탐지된 피쳐를 특정하여 추 출하는 분석 모듈; 및 상기 분석 모듈에서 추출된 이상이 탐지된 피쳐의 데이터 흐름을 시각화하여 출력하는 해 석 모듈;을 포함하는 것을 일 특징으로 한다."}
{"patent_id": "10-2022-0120075", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 원본 데이터에 대한 대표패턴을 추출하는 쉐이플릿(Shapelet) 시계열을 적용하여 시계열 데이터의 이 상탐지 및 현장 전문가가 이상탐지의 결과를 해석할 수 있도록 근거 데이터를 제시할 수 있는 이상 탐지 및 해 석 시스템을 제공하고자 한다."}
{"patent_id": "10-2022-0120075", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "최근 발달하는 정보통신 기술로 인해 과거 폐쇄적인 환경으로 운영하던 산업들이 스마트 환경으로 변화하고 있 다. 기존 폐쇄적인 환경일 때는 외부로부터의 위협이 거의 없었지만, 스마트 환경을 도입함으로써 전 세계적으 로 SCADA(Supervisory Control And Data Acquisition, SCADA), 산업제어시스템(Industrial Control Systems,ICS) 및 운영기술(Operational Technology, OT) 환경을 운영하는 공장, 발전소 등 산업시설/기반시설을 대상으 로 한 사이버 공격이 꾸준히 발생하고 있다. 이러한 보안 위협에 대해 대응하고, 예방하기 위해서는 체계적인 보안 기술이 필요하다. 이러한 보안 기술로 다양한 환경에서 AI를 활용한 침입 탐지, 고장 예견 등에 대한 목적 으로 연구되고 있다. 하지만 시계열 흐름에 따른 예측과 AI 모델의 판단에 대한 원인 분석에 관한 연구는 거의 없는 상태로 신뢰성 또한 부족한 상황이다. 한국공개특허 제10-2022-0110113호는 GAN을 이용한 시계열 데이터의 이상 감지 장치 및 방법을 제안한다. 그 밖 에 종래의 시계열 데이터의 이상탐지 방법으로는 LSTM, GRU, AutoEncoder와 같은 AI 이상탐지 기술이 있다. 그 러나, LSTM, GRU, AutoEncoder와 같은 AI 이상탐지 기술은 현장 전문가들의 직관적인 이상징후 탐지가 여럽고, 각 데이터별 특징을 일일이 확인하기 어려운 한계가 있다. 이에, 각 데이터의 특징별 대표하는 패턴이 필요하며 직관적인 이상 탐지가 가능한 기술이 필요한 실정이다. 설명 가능한 인공지능(XAI, eXplainableAI) 평가의 종래 기술로는 LIME, SHAP 등이 있다. 그러나, 이러한 종래 의 XAI 기술도 문제되는 시점에 대한 원인 데이터 피쳐의 기여도 값을 보여줄 뿐, 시계열상 원인 데이터 피쳐의 상관관계와 실제 데이터의 이상치를 나타내지 않아 전술한 문제점을 충분히 해결하지 못하고 있다. 한편, 쉐이플릿(Shapelet)은 데이터 세트에 존재하는 모든 하위 시퀀스(부분 시계열)을 탐색하고, 각 클래스에 속한 데이터 세트와 거리가 모델의 성능향상에 크게 도움이 되는 부분 시계열을 대표패턴으로 추출하는 방법이 다. 추출한 대표패턴과 데이터 세트와의 거리를 계산하기 위한 방법으로는 여러 가지가 제안된 바 있으며, 그 중 하나로 유클리디안 거리 기반 유사도 측정은 가장 값이 유사한 시퀀스를 매핑하는 방법으로 추출된 대표패턴 과 데이터 세트는 1:1로 매핑되어 이 거리 값이 최소가 되는 구간을 탐색한다. 본 출원인은 쉐이플릿(Shapelet)을 통한 데이터의 대표패턴을 추출하여, 대표패턴을 기반으로 이상탐지와 원인 데이터 분석에 대한 방법을 고안하게 되었다. 선행기술문헌 특허문헌 (특허문헌 0001) 한국공개특허 제10-2022-0110113호"}
{"patent_id": "10-2022-0120075", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 원본 데이터의 정상상태 대표패턴, 이상상태 대표패턴을 추출해 테스트 데이터 판단의 근거로 사용하 여, 테스트 데이터에서 시계열상 이상으로 탐지되는 시점에 대한 종합적인 해석이 가능한 시스템을 제공하고자 한다. 또한, 본 발명은 테스트 데이터에서 이상이 되는 특정 피쳐에 대해 현장 전문가가 해석할 수 있는 시각적 자료의 제공이 가능한 시스템을 제공하고자 한다."}
{"patent_id": "10-2022-0120075", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 목적을 달성하기 위하여 본 발명은, 쉐이플릿 기반 이상 탐지 및 해석 시스템에 있어서, 시계열 데이터를 활용하는 시스템 구축에 사용되는 학습 데이터의 피쳐(Feature)를 분류하고 상기 학습 데이터의 시퀀스를 설정 하는 전처리 모듈; 상기 전처리 모듈을 통해 전처리된 학습 데이터의 시퀀스에 따라 각 피쳐별로 쉐이플릿 (Shapelet) 패턴을 추출하고, 각 피쳐별로 추출된 상기 쉐이플릿과 원본 데이터 사이의 유사도를 측정하는 쉐이 플릿 모듈; 상기 쉐이플릿 모듈로부터 측정된 유사도 관련 파라메터에 임계값을 설정하고, 상기 임계값을 기준 으로 이상이 탐지된 피쳐를 특정하여 추출하는 분석 모듈; 및 상기 분석 모듈에서 추출된 이상이 탐지된 피쳐의 데이터 흐름을 시각화하여 출력하는 해석 모듈;을 포함하는 것을 일 특징으로 한다. 바람직하게, 상기 전처리 모듈은, 다수개의 공격 시나리오를 포함하는 상기 학습 데이터의 시계열로 정렬된 데 이터를 2초 이상의 서로 다른 시퀀스인 제1 시퀀스, 제2 시퀀스로 분류할 수 있다. 바람직하게 상기 쉐이플릿 모듈은, 거리 기반의 알고리즘인 유클라디안 알고리즘을 사용하여 각 피쳐별로 추출 된 상기 쉐이플릿과 원본 데이터 사이의 유사도를 거리 파라메터로 측정할 수 있다. 바람직하게 상기 분석 모듈은, 상기 쉐이플릿 모듈이 추출한 상기 쉐이플릿과 원본 데이터 사이의 유사도 데이 터를 대상으로 누적분포함수(CDF, Cumulative Distribution Function)를 적용하여 데이터를 변환할 수 있다. 바람직하게 상기 분석 모듈은, 상기 쉐이플릿과 원본 데이터 사이의 유사도를 거리 파라메터로 측정하고, 누적 분포함수를 적용한 상기 거리 파라메터를 정렬하여, 상기 거리 파라메터의 상위 10% 이내의 값을 임계값으로 설 정할 수 있다. 바람직하게 상기 해석 모듈은, 상기 임계값을 초과하는 정도인 이상치를 산출하고, 전체 피쳐에 대한 상기 이상 치를 플롯 또는 히트맵으로 시각화하는 것을 특징으로 하는 쉐이플릿 기반 이상 탐지 및 해석 시스템. 바람직하게 상기 해석 모듈은, 전체 피쳐에서 이상치가 높은 상위 피쳐를 플롯 또는 히트맵으로 시각화할 수 있 다. 또한 본 발명은 데이터를 입력하는 입력 수단, 입력된 데이터를 처리하는 처리 수단 및 출력 수단을 갖는 스마 트폰, 태블릿, 노트북, 또는 컴퓨터에, 시계열 데이터를 활용하는 시스템 구축에 사용되는 학습 데이터의 피쳐 (Feature)를 분류하고 상기 학습 데이터의 시퀀스를 설정하는 전처리 기능; 상기 전처리 기능을 통해 전처리된 학습 데이터의 시퀀스에 따라 각 피쳐별로 쉐이플릿(Shapelet) 패턴을 추출하고, 각 피쳐별로 추출된 상기 쉐이 플릿과 원본 데이터 사이의 유사도를 측정하는 쉐이플릿 기능; 상기 쉐이플릿 기능으로부터 측정된 유사도 관련 파라메터에 임계값을 설정하고, 상기 임계값을 기준으로 이상이 탐지된 피쳐를 특정하여 추출하는 분석 기능; 및 상기 분석 기능에서 추출된 이상이 탐지된 피쳐의 데이터 흐름을 시각화하여 출력하는 해석 기능;을 실행시 키기 위하여 매체에 저장된 것을 다른 특징으로 한다."}
{"patent_id": "10-2022-0120075", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따르면, 기존 문제가 되는 고장예지 및 침입탐지에 대한 판단 신뢰 문제를 해결할 수 있다. 또한, 본 발명에 따르면 다양한 시계열을 사용하는 실환경에서 이상탐지/원인 해석 분야에 적용할 수 있다. 또한, 본 발 명에 따르면 현장 전문가와 분석가 사이의 의사소통에서 명확한 시각적 자료를 근거로 이상탐지에 대한 신속한 대응이 가능하도록 한다."}
{"patent_id": "10-2022-0120075", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면들에 기재된 내용들을 참조하여 본 발명을 상세히 설명한다. 다만, 본 발명이 예시적 실시 예 들에 의해 제한되거나 한정되는 것은 아니다. 각 도면에 제시된 동일 참조부호는 실질적으로 동일한 기능을 수 행하는 부재를 나타낸다.본 발명의 목적 및 효과는 하기의 설명에 의해서 자연스럽게 이해되거나 보다 분명해 질 수 있으며, 하기의 기 재만으로 본 발명의 목적 및 효과가 제한되는 것은 아니다. 또한, 본 발명을 설명함에 있어서 본 발명과 관련된 공지 기술에 대한 구체적인 설명이, 본 발명의 요지를 불필요하게 흐릴 수 있다고 판단되는 경우에는 그 상세한 설명을 생략하기로 한다. 도 1은 본 발명의 실시예에 따른 쉐이플릿 기반 이상 탐지 및 해석 시스템 구성 개요도이다. 도 1을 참조하 면, 이상 탐지 및 해석 시스템은 전처리 모듈, 쉐이플릿 모듈, 분석 모듈 및 해석 모듈을 포함할 수 있다. 전처리 모듈은 시계열 데이터를 활용하는 시스템 구축에 사용되는 학습 데이터의 피쳐(Feature)를 분류하고 상기 학습 데이터의 시퀀스를 설정할 수 있다. 전처리 모듈은 시계열 데이터를 활용하는 시스템 구축에 사용되는 학습 데이터의 피쳐를 분류하고 상기 학 습 데이터의 시퀀스를 설정할 수 있다. 시계열 데이터를 활용하는 시스템으로는 침입감지시스템(IDS) 또는 산업 제어시스템(ICS)이 포함될 수 있다. 전처리 모듈은 다수개의 공격 시나리오를 포함하는 상기 학습 데이터의 시계열로 정렬된 데이터를 2초 이상 의 서로 다른 시퀀스인 제1 시퀀스, 제2 시퀀스로 분류할 수 있다. 본 실시예에 따른 전처리 모듈은 학습 데이터로 HAI(HIL-based Augmented ICS) 21.03 데이터셋을 사용하였 다. HAI 데이터셋은 국가보안기술연구소에서 2020년 2월 발표한 데이터셋이다. 데이터셋은 ICS연구를 위해 GE, Emerson, Siemens 등의 산업용 제어기기, 센서, 엑추에이터를 이용해 구축한 테스트베드에서 수집되었다. 본 실 시예에 따른 학습 데이터는 증기 터빈 발전 및 펌프식 수력 발전을 모방하여 HIL(Hardware-In-the-Loop) 시뮬레 이터로 실제와 다름없는 ICS 환경에서 구축되었다. 학습 데이터는 총 4가지(보일러, 터빈, 수처리, HIL simulation) 공정을 포함하며, 각 프로세스는 3가지 컨트롤러에 의해 제어되고 HIL 시뮬레이터는 원격 입출력 장치를 통해 실제 프로세스와 상호 연결되는 구조이다. 본 실시예에 따른 학습 데이터 HAI 21.03은 총 50개의 공격 시나리오를 포함한다. HAI 학습 데이터는 1초 단위로 수집된 시계열 데이터셋이다. [표 1]은 본 발명의 실 시예에 따른 학습 데이터를 나타낸다. [표 1]"}
{"patent_id": "10-2022-0120075", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "item": 2, "content": "도 2는 본 발명의 실시예에 따른 학습 데이터를 시퀀스로 분류하여 전처리한 예시이다. 도 2를 참조하면, 학습 데이터를 각 피쳐(feature)별로 데이터를 분류한 뒤 2초 이상으로 설정된 2종의 시퀀스로 분류한다. 시퀀스는 시계열 데이터의 공격의 특성을 반영하여 설정한다. 설정된 시간 단위에 의해 산출하는 데이터의 대표 패턴 쉐이플릿이 달라지게 된다. 공격의 특성이 10초 내지 20초 단위라면 시퀀스의 크기를 20으로 분류할 수 있 고, 5초 내지 10초 단위라면 시퀀스의 크기를 10으로 분류할 수 있다. 데이터의 특성에 맞춰 시퀀스를 분류해야 대표 패턴 쉐이플릿의 추출이 원활하게 되며, 정상과 비정상의 비교를 뚜렷하게 할 수 있다. 본 실시예로, 전처리 모듈은 제1 시퀀스를 20초, 제2 시퀀스를 60초로 설정할 수 있다. 도 2에서는 특정 피 쳐를 제1 시퀀스로 셋팅된 전처리와 제2 시퀀스로 셋팅된 전처리 결과를 나타낸다. 쉐이플릿 모듈은 전처리 모듈을 통해 전처리된 학습 데이터의 시퀀스에 따라 각 피쳐별로 쉐이플릿 (Shapelet) 패턴을 추출하고, 각 피쳐별로 추출된 상기 쉐이플릿과 원본 데이터 사이의 유사도를 측정할 수 있 다. 쉐이플릿(Shapelet)은 원본 데이터에 대한 대표패턴을 추출하는 기술이다. 각 쉐이플릿 벨류는 원본 데이터와 대표 패턴과의 거리를 측정 및 산출하는데 사용될 수 있다. 정상 대표 패턴과 거리가 가까울수록 정상으로 판단 될 수 있으며, 이상 대표패턴과 거리가 가까울수록 비정상으로 판단될 수 있다. 도 3은 본 발명의 실시예에 따른 쉐이플릿 모듈의 제1 시퀀스와 제2 시퀀스의 쉐이플릿 패턴 추출 모습을 나타 낸다. 쉐이플릿 모듈은 상기 학습 데이터에 대한 대표 서브 시퀀스의 각 피쳐별 쉐이플릿을 GENDIS(Genetic Discovery of Shapelets) 쉐이플릿 모델을 통해 추출할 수 있다. 도 3은 쉐이플릿 모듈의 쉐이플릿 추출에 사용 되는 GENDIS 모델의 알고리즘 개요도이다. GENDIS 모델의 알고리즘은 gradient-free 기법으로 기울기가 없으며, 각 쉐이플릿에서 쉐이플릿의 총량과 길이는 쉐이플릿 그 자체와 함께 공동으로 진화되어 미리 지정된 분류의 필 요를 경감시킬 수 있고, 단일 쉐이플릿과 달리 전체 세트가 함께 평가되는 특성이 있다. 결과적으로, 유사한 예 측 성능을 초래하는 더 적은 유사한 쉐이플릿으로 더 작은 최종 세트가 생성될 수 있다. 쉐이플릿 모듈은 랜덤(Random) 추출 또는 KNN(K-Nearest Neighbor) 추출 기법을 이용하여 상기 대표 서브 시퀀스의 쉐이플릿을 추출할 수 있다. 본 실시예에서는 랜덤 추출방식으로 쉐이플릿을 추출하였다. 쉐이플릿 모 듈은 상기 대표 서브 시퀀스의 데이터와 상기 테스트 데이터 간의 유클라디안 거리가 최소가 되는 값을 산 출할 수 있다. 쉐이플릿 모듈은 거리 기반의 알고리즘인 유클라디안 알고리즘을 사용하여 각 피쳐별로 추출된 상기 쉐이플 릿과 원본 데이터 사이의 유사도를 거리 파라메터로 측정할 수 있다. 본 실시예로, 유클라디안 거리는 하기의 [관계식 1]로 연산될 수 있다. [관계식 1]"}
{"patent_id": "10-2022-0120075", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "여기서, d는 유클라디안 거리이고, p와 q는 쉐이플릿과 시계열의 개체의 피쳐 값을 의미한다. 본 실시예로 쉐이 플릿 모듈은 데이터의 피쳐별로 추출된 쉐이플릿과 원본 데이터인 테스트 데이터와의 데이터 유사도를 유클 라디안 거리 기반의 알고리즘에서 보다 개선된 방식으로 산출할 수 있다. 본 실시예에 따른 쉐이플릿 모듈은 [관계식 2]를 기반으로 개선된 거리 파라메터를 산출할 수 있다. [관계식 2]"}
{"patent_id": "10-2022-0120075", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "여기서, D는 산출되는 유클리디안 거리 파라메터이고, n은 차원을 의미하며, p와 q는 쉐이플릿과 시계열 개체의 피쳐값을 의미하며, len(s)는 쉐이플릿의 길이를 의미한다. [관계식 2]를 참조하면, 본 실시예는 유클리디안 거리 식을 공통된 기준으로 거리를 계산하기 위해 산출되는 데 이터 피쳐별 대표패턴 쉐이플릿 길이로 산출되는 거리 파라메타를 나누어 쉐이플릿의 길이에 가중되는 계산없이 일관적인 결과가 나오게 개선하였다. 분석 모듈은 쉐이플릿 모듈로부터 측정된 유사도 관련 파라메터에 임계값을 설정하고, 상기 임계값을 기준으로 이상이 탐지된 피쳐를 추출할 수 있다. 분석 모듈은 쉐이플릿 모듈이 추출한 상기 쉐이플릿과 원 본 데이터 사이의 유사도 데이터를 대상으로 누적분포함수(CDF, Cumulative Distribution Function)를 적용하 여 데이터를 변환할 수 있다. 거리 파라메터의 피쳐에 대한 종합적인 해석을 위해 누적분포함수(CDF)를 적용하 며, 그 결과로 0과 1 사이의 값으로 피쳐 값을 치환시킨다. 변환된 데이터의 최소값은 0, 최대값은 1로 고정될 수 있다. 변환된 CDF 값은 정상일 경우 대부분 0.5에 분포하게 되며, 0 또는 1에 가까울수록 정상과 거리가 먼 값으로 볼 수 있다. 분석 모듈은 쉐이플릿과 원본 데이터 사이의 유사도를 거리 파라메터로 측정하고, 누적분포함수를 적용한 상기 거리 파라메터를 정렬하여, 상기 거리 파라메터의 상위 10% 이내의 값을 임계값으로 설정할 수 있다. 보다 바람직한 실시예로, 임계값은 상위 1% 이내로 설정될 수 있다. 분석 모듈은 누적분포함수를 적용한 상기 거 리기반 유사도 데이터 피쳐를 정렬하여 데이터의 분포에 맞게 상위 값을 임계값으로 설정할 수 있다. 본 실시예 로 데이터의 피쳐에서 라벨이 검출되지 않은 경우, 거리 파라메터의 오름차순 상위 1%의 값을 임계값으로 할 수 있다. 또는 데이터의 피쳐에서 라벨이 검출된 경우, 데이터의 비정상 비율을 고려하여 비정상 비율의 상위 1%값 을 임계값으로 할 수 있다. 분석 모듈은 상기 임계값을 기준으로 피쳐별 상기 쉐이플릿 패턴을 분석하여 정상과 비정상의 서브 시퀀스 를 판단할 수 있다. CDF의 값이 정상일 때는 대부분 0.5에 분포하게 되며, 본 실시예로 상위 1%의 값은 0.9~1의영역에 분포될 수 있다. 분석 모듈은 CDF를 적용한 전체 피쳐에 대해 비정상(Anomaly) 여부를 산출할 수 있다. 분석 모듈은 CDF 를 적용한 전체 피쳐 데이터를 대상으로 임계값보다 큰 쉐이플릿 영역을 이상탐지 구간으로 설정할 수 있다. 분석 모듈이 설정한 이상탐지 구간은 해석 모듈을 통해 분석 대상 여부 식별을 위한 전체 피쳐에 대한 시각화가 이루어질 수 있다. 또한, 분석 모듈은 전체 피쳐에 대한 데이터에서 문제가 되는 특정 피쳐를 산 출할 수도 있다. 특정 피쳐는 해석 모듈을 통해 시각화가 이루어질 수 있으며, 이를 통해 시계열상에서 값 이 가지는 의미와 변화 및 실제 데이터의 이상 정도를 파악할 수 있다. 해석 모듈은 분석 모듈에서 추출된 이상이 탐지된 피쳐의 데이터 흐름을 시각화하여 출력할 수 있다. 해석 모듈은 상기 임계값을 초과하는 정도인 이상치를 산출하고, 전체 피쳐에 대한 상기 이상치를 플롯 또 는 히트맵으로 시각화할 수 있다. 해석 모듈은 전체 피쳐에서 이상치가 높은 상위 피쳐를 추출하여 플롯 또 는 히트맵으로 시각화할 수 있다. 해석 모듈은 이상으로 판단한 이상 구간에 대한 분석 대상 여부를 특정 피쳐까지 식별할 수 있으며, 전체 피쳐 또는 특정 피쳐에 대한 시각화를 히트맵 또는 플롯의 형태로 진행할 수 있다. 해석 모듈은 이상 구간 에 대해 대표 패턴과 유사도 수치를 내림차순으로 정렬하여 가장 기여가 높은 피쳐의 데이터를 CSV 포멧의 형태 로 이상치를 추출할 수 있다. 이상치는 여러 필드로 구성된 데이터일 수 있으며, 피쳐와 피쳐의 값 및 임계값이 포함된 데이터 시트가 될 수 있다. 도 4는 본 발명의 실시예에 따른 해석 모듈의 전체 피쳐에 대한 데이터 시각화 모습을 나타낸다. 도 4의 (a)는 전체 피쳐에 대한 피쳐의 이상치 플롯 시각화 모습을 나타내고, 도 4의 (b)는 전체 피쳐에 대한 이상치 히트맵 시각화 모습을 나타낸다. 이하, 도 4의 시각화 실시예를 구체적으로 설명한다. 본 실시예에서는 HAI(Hil-based Augmented Ics security dataset) 2.0의 데이터셋을 사용했으며, 이는 79개의 피쳐로 구성되고 원본 데이터는 모두 정상 데이터로 구성되어 있으며, 테스트 데이터에는 50개의 공격이 포함되 어 있다. 본 실시예에서 제1 시퀀스는 20으로 설정되고, 제2 시퀀스는 60으로 설정되었다. 20seq로 각 피쳐 데 이터를 전처리하여 4,6079개의 인덱스를 구성했다. 각 피쳐 데이터 46,079개의 인덱스에서 20 Seq에 대하여 대 표패턴을 추출한다. 각 피쳐에 대해 추출되는 대표패턴의 개수, 쉐이플릿의 길이, 쉐이플릿의 값 등은 다르게 추출된다. 원본 데이터는 모두 정상이기 때문에, 추출되는 대표패턴은 정상 상태의 대표패턴이다. 이후, 추출한 대표패턴과 원본 데이터, 테스트 데이터 사이의 유사도를 측정하기 위해 유클리디안 알고리즘으로 거리를 측정 한다. 원본 데이터는 모두 정상이므로, 데이터가 최소 개의 쉐이플릿과 거리가 가깝게 나타난다. 즉, 모든 쉐이플릿과 거리 파라메터가 멀게 산출된다면 이상으로 판단할 수 있다. 각 Train Distance Feature 데이터의 평균과 표준 편차를 추출한다. 추출한 평균과 표준편차를 활용해 CDF를 Train Distance Feature 데이터와 Test Distance Feature 데이터에 모두 적용한다. Train Distance Feature CDF Value를 내림차순 정렬하고 모두 정상 데이터이 므로 상위 1% 값을 임계값으로 설정한다. Test Distance Feature 값이 임계값 보다 큰 것은 이상으로 판단한다. 이상 식별, 이상 구간 설정, 분석 대상 여부 식별을 위해 전체 Feature 대상으로 Heatmap 시각화한다. 이상의 실시예로, 전체 피쳐 대상의 플롯 및 히트맵의 시각화 결과는 도 4와 같이 도출되었다. 도 4의 (b)에서 X축은 시간 인덱스를 나타내며, Y축은 각 피쳐를 나타내고, Heatmap Value는 각 피쳐의 쉐이플릿과 거리가 최소 인 값을 표현한다. Heatmap Value의 범위는 통합한 CDF Value로 0과 1 사이의 값이며, 값이 클수록 붉은색으로 나타나며, 1에 가까울수록 이상으로 판단할 수 있다. 따라서, 붉은색 칸으로 표기한 인덱스에서 다수의 Feature 에서 Heatmap Value 색상이 붉은색으로 나타나므로 이상이라고 판단할 수 있다. 도 5는 도 4의 실시예에서, 이상으로 의심되는 특정 피쳐를 대상으로 개별적인 히트맵을 시각화한 모습을 나타 낸다. 도 5의 실시예에서 추출한 이상치인 CSV는 [표 2]와 같다. [표 2]"}
{"patent_id": "10-2022-0120075", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "이상치는 이상으로 판단되는 시점, Feature, 해당 Feature의 Threshold, 해당 시점의 Feature Value, Threshold와 Feature Value의 차이를 표기한 CSV 형태의 데이터일 수 있다. 추출한 CSV를 기반으로 이상으로 판 단되는 시점을 이상 구간으로 설정하고, 해당 구간에서 이상에 기여를 많이 하는 Feature 들을 선별하여 Plot 형태로 시각화할 수 있다. 도 6은 도 4의 실시예에서 이상에 기여도가 높은 특정 피쳐가 추출되어 플롯으로 시각화된 모습을 나타낸다. 도 6은 설정한 이상 구간에 대해 기여를 많이 한 Feature인 ‘P1_PCV02D’, ‘P1_LCV01Z’, ‘P4_ST_PT01’, ‘ P1_LCV01D’, ‘P1_PIT01’, ‘P1_PCV02Z’를 표현한 예시이다. 붉은색으로 표기한 지점은 이상 구간에서 직접 적으로 이상 구간에서 이상으로 나타난 Feature들이며, 초록색으로 표기한 부분은 앞의 이상 Feature들로 인해 간접적인 영향으로 수치가 올라간 것을 나타낸다. 도 7은 도 4의 실시예에서 직접적으로 공격 구간에서 이상으로 나타낸 특정 피쳐를 대상으로 이상 구간에 대해 원본 시간 인덱스를 시계열 순으로 나타낸 모습이다. 도 7은 직접적으로 공격 구간에서 이상으로 나타난 Feature 중 ‘P1_PIT01’ 대상으로 설정한 이상 구간에 대해 원본 시간 Index를 시계열 순으로 나타내었다. 설 정한 이상 구간 1개의 Index는 20 Seq로 설정했기 때문에, 이상으로 나타난 20 Seq 8개의 Index는 원본 Index 160의 데이터이다. 표현한 ‘P1_PIT01’의 값은 해당 시점에서 모든 Shapelet과 거리가 먼 것을 확인할 수 있다. 이상에서 대표적인 실시예를 통하여 본 발명을 상세하게 설명하였으나, 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자는 상술한 실시예에 대하여 본 발명의 범주에서 벗어나지 않는 한도 내에서 다양한 변형이 가능 함을 이해할 것이다. 그러므로 본 발명의 권리 범위는 설명한 실시예에 국한되어 정해져서는 안 되며, 후술하는 특허청구범위뿐만 아니라 특허청구범위와 균등 개념으로부터 도출되는 모든 변경 또는 변형된 형태에 의하여 정 해져야 한다."}
{"patent_id": "10-2022-0120075", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 실시예에 따른 쉐이플릿 기반 이상 탐지 및 해석 시스템 구성 개요도이다. 도 2는 본 발명의 실시예에 따른 학습 데이터를 시퀀스로 분류하여 전처리한 예시이다. 도 3은 본 발명의 실시예에 따른 쉐이플릿 모듈의 제1 시퀀스와 제2 시퀀스의 쉐이플릿 패턴 추출 모습을 나타 낸다. 도 4는 본 발명의 실시예에 따른 해석 모듈의 전체 피쳐에 대한 데이터 시각화 모습을 나타낸다. 도 5는 도 4의 실시예에서, 이상으로 의심되는 특정 피쳐를 대상으로 개별적인 히트맵을 시각화한 모습을 나타 낸다. 도 6은 도 4의 실시예에서 이상에 기여도가 높은 특정 피쳐가 추출되어 플롯으로 시각화된 모습을 나타낸다. 도 7은 도 4의 실시예에서 직접적으로 공격 구간에서 이상으로 나타낸 특정 피쳐를 대상으로 이상 구간에 대해 원본 시간 인덱스를 시계열 순으로 나타낸 모습이다."}
