{"patent_id": "10-2023-0128358", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0045272", "출원번호": "10-2023-0128358", "발명의 명칭": "카메라 촬영영상으로부터 객체를 추적하는 방법 및 장치", "출원인": "에스케이텔레콤 주식회사", "발명자": "백정렬"}}
{"patent_id": "10-2023-0128358", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "복수개의 장면을 촬영한 이미지들을 저장하고 관리하기 위한 이미지 저장부; 제1 시점에 제1 장면을 촬영한 제1 이미지와 유사한 이미지가 상기 이미지 저장부 내에 존재하는지 여부를 판단하기 위한 이미지매칭부;상기 제1 이미지와 유사한 이미지가 상기 이미지 저장부 내에 존재한다고 판단된 경우 트랙정보저장부로부터 상기 제1 장면의 트랙정보를 수신하고 상기 제1 장면의 트랙정보를 이용하여 객체들을 추적하기 위한 객체매칭부;및복수개의 장면의 트랙정보들을 저장하고 관리하기 위한 트랙정보저장부를 포함하는, 객체추적장치."}
{"patent_id": "10-2023-0128358", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 이미지매칭부는,현재 사용되는 카메라의 움직임정보를 이용하여 상기 카메라가 PTZ 카메라인지 여부를 판단하는, 객체추적장치."}
{"patent_id": "10-2023-0128358", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 객체매칭부는,제2 시점에 상기 제1 장면을 촬영한 제2 이미지 내에 이동이 없는 객체들과 상기 제1 이미지 내에 이동이 없는객체들을 비교하여 IOU(Intersection Over Union)의 값을 계산하고 상기 IOU의 값을 이용하여 이동이 없는 객체들을 추적하기 위한 정지객체매칭부;상기 제2 이미지 내에 이동이 있는 객체들에 대한 예측영역을 생성하고 상기 예측영역과 상기 제1 이미지 내에이동이 있는 객체들을 이용하여 이동이 있는 객체들을 추적하기 위한 이동객체매칭부, 여기서, 상기 예측영역은상기 제1 시점에 상기 제2 이미지 내에 이동이 있는 객체들이 존재할 가능성이 있는 영역임;상기 제1 이미지 내에 객체들의 속성을 분석하여 객체들을 추적하기 위한 속성기반 객체매칭부; 및상기 제1 장면 이외에 장면을 촬영한 이미지를 이용하여 객체들을 추적하기 위한 재식별 객체매칭부를포함하는, 객체추적장치."}
{"patent_id": "10-2023-0128358", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,상기 이동객체매칭부는,상기 제1 장면 이외에 장면을 촬영한 시간을 이용하여 상기 예측영역의 크기를 결정하는, 객체추적장치."}
{"patent_id": "10-2023-0128358", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서,상기 제1 장면의 트랙정보는, 상기 제1 장면으로부터 촬영된 객체들의 ID에 대한 정보, 위치에 대한 정보, 크기에 대한 정보, 유형에 대한 정보, 형태에 대한 정보, 등장시점에 대한 정보, 퇴장시점에 대한 정보, 출현시간 간격에 대한 정보 및 색깔에 대한 정보 중 적어도 하나를 포함하는, 객체추적장치.공개특허 10-2025-0045272-3-청구항 6 제1항에 있어서,상기 객체매칭부는,상기 제1 이미지와 유사한 이미지가 상기 이미지 저장부 내에 존재하지 않는 경우, 상기 제1 장면의 트랙정보를생성하는, 객체추적장치."}
{"patent_id": "10-2023-0128358", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "객체추적장치에 의해 수행되는 방법에 있어서, 제1 시점에 제1 장면을 촬영한 제1 이미지와 유사한 이미지가 이미지 저장부 내에 존재하는지 여부를 판단하는과정;상기 제1 이미지와 유사한 이미지가 상기 이미지 저장부 내에 존재한다고 판단된 경우, 트랙정보저장부로부터수신한 상기 제1 장면의 트랙정보에 기반하여, 제2 시점에 상기 제1 장면을 촬영한 제2 이미지 내에 이동이 없는 객체들과 상기 제1 이미지 내에 이동이 없는 객체들을 비교하여 IOU의 값을 계산하는 과정;상기 IOU의 값을 이용하여 이동이 없는 객체들을 추적하는 과정;상기 제2 이미지 내에 이동이 있는 객체들에 대한 예측영역을 생성하는 과정, 여기서, 상기 예측영역은 상기 제1 시점에 상기 제2 이미지 내에 이동이 있는 객체들이 존재할 가능성이 있는 영역임; 및상기 예측영역과 상기 제1 이미지 내에 이동이 있는 객체들을 이용하여 이동이 있는 객체들을 추적하는 과정을포함하는, 방법."}
{"patent_id": "10-2023-0128358", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7항에 따른 방법이 포함하는 각 과정을 실행시키기 위하여 컴퓨터로 읽을 수 있는 기록매체에 저장된 컴퓨터프로그램."}
{"patent_id": "10-2023-0128358", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "카메라 촬영영상으로부터 객체를 추적하는 방법 및 장치를 개시한다. 본 개시의 일 실시예에 의하면, 객체추적장 치는 복수개의 장면을 촬영한 이미지들을 저장하고 관리하기 위한 이미지 저장부, 제1 시점에 제1 장면을 촬영한 제1 이미지와 유사한 이미지가 상기 이미지 저장부 내에 존재하는지 여부를 판단하기 위한 이미지매칭부, 상기 제1 이미지와 유사한 이미지가 상기 이미지 저장부 내에 존재한다고 판단된 경우 트랙정보저장부로부터 상기 제1 장면의 트랙정보를 수신하고 상기 제1 장면의 트랙정보를 이용하여 객체들을 추적하기 위한 객체매칭부 및 복수 개의 장면의 트랙정보들을 저장하고 관리하기 위한 트랙정보저장부를 포함할 수 있다."}
{"patent_id": "10-2023-0128358", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 개시는 카메라 촬영영상으로부터 객체를 추적하는 방법 및 장치에 관한 것이다. 보다 구체적으로, 촬영한 이 미지를 매칭하여 특정 장면에 대한 트랙정보를 식별하고 식별된 트랙정보를 이용하여 객체를 추적하는 방법 및 장치에 관한 것이다."}
{"patent_id": "10-2023-0128358", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "이하에 기술되는 내용은 단순히 본 실시예와 관련되는 배경 정보만을 제공할 뿐 종래기술을 구성하는 것이 아니 다. 영상인식 기술을 통하여 신원, 성별, 방문객 수, 체류시간 등을 측정하고, 이를 저장 및 분석하여 마케팅 데이 터 및 얼굴인식 포토앨범, 출입통제, 범죄자 추적, 비디오 해석으로 활용하기 위한 연구가 활발히 진행되고 있 다. 영상분석 시스템은 특정지역에 위치한 카메라들을 이용하여 특정지역 내의 다양한 객체들을 인식하고, 인식 결 과들을 사용자들에게 제공한다. 사용자들은 인식 결과들을 이용하여 특정지역의 특성을 파악할 수 있다. 여기서, 특정지역의 특성은 특정지역 내 사람들의 분포, 차량들의 이동량 또는 건물들의 종류 등이다. 최근 카 메라의 설치비용을 절감하기 위해 영상분석 시스템은 PTZ(Pan Tilt Zoom) 카메라를 이용하여 특정지역 내에 여 러 객체들을 인식하고 추적한다. PTZ 카메라는 모터를 이용하여 전기적 회전(pan), 수직방향 기울기(tilt) 및 줌(zoom)의 조정이 가능한 카메라이다. PTZ 카메라는 고정된 장면(scene)만을 촬영하지 않고 정해진 시간 동안 특정한 장면을 촬영한 후 다른 장면을 촬영하는 것을 반복한다. PTZ 카메라를 이용하는 경우, 복수의 장면을 하나의 카메라가 촬영하므로 객체를 추적하기 어려운 문제가 있다. 즉, PTZ 카메라가 어느 하나의 장면을 촬영하고 다른 장면들을 촬영한 후 다시 원래 장면을 촬영하는 경우, 이 전에 촬영한 객체와 지금 촬영한 객체가 동일한 객체인지 판단하기 어려운 문제가 있다. 이에 따라, PTZ 카메라 를 이용하는 경우, 촬영되는 각 장면 별로 객체를 정확히 추적할 필요가 있다."}
{"patent_id": "10-2023-0128358", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 개시는 PTZ(Pan Tilt Zoom) 카메라를 이용하여 장면을 촬영하는 경우, 특정 장면에 대한 트랙정보를 이용하 여 객체를 추적하는 데에 목적이 있다. 또한, 일 실시예에 따르면, PTZ 카메라가 촬영하는 복수개의 장면에 대응하는 복수개의 트랙정보를 이용하여 객 체를 추적하는 데에 목적이 있다. 또한, 일 실시예에 따르면, IOU(Intersection Over Union), 컨피던스 점수(confidence score), 객체의 속성 및 재식별(re-identification) 기술 등을 이용하여 객체를 효과적으로 추적하는 데에 목적이 있다. 본 개시가 해결하고자 하는 과제들은 이상에서 언급한 과제들로 제한되지 않으며, 언급되지 않은 또 다른 과제 들은 아래의 기재로부터 통상의 기술자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2023-0128358", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 개시에 따른, 객체추적장치는, 복수개의 장면을 촬영한 이미지들을 저장하고 관리하기 위한 이미지 저장부, 제1 시점에 제1 장면을 촬영한 제1 이미지와 유사한 이미지가 상기 이미지 저장부 내에 존재하는지 여부를 판단 하기 위한 이미지매칭부, 상기 제1 이미지와 유사한 이미지가 상기 이미지 저장부 내에 존재한다고 판단된 경우 트랙정보저장부로부터 상기 제1 장면의 트랙정보를 수신하고 상기 제1 장면의 트랙정보를 이용하여 객체들을 추 적하기 위한 객체매칭부 및 복수개의 장면의 트랙정보들을 저장하고 관리하기 위한 트랙정보저장부를 포함할 수 있다. 본 개시에 따른, 객체를 추적하는 방법은, 제1 시점에 제1 장면을 촬영한 제1 이미지와 유사한 이미지가 이미지 저장부 내에 존재하는지 여부를 판단하는 과정, 상기 제1 이미지와 유사한 이미지가 상기 이미지 저장부 내에 존재한다고 판단된 경우, 트랙정보저장부로부터 수신한 상기 제1 장면의 트랙정보에 기반하여, 제2 시점에 상기 제1 장면을 촬영한 제2 이미지 내에 이동이 없는 객체들과 상기 제1 이미지 내에 이동이 없는 객체들을 비교하 여 IOU의 값을 계산하는 과정, 상기 IOU의 값을 이용하여 이동이 없는 객체들을 추적하는 과정, 상기 제2 이미 지 내에 이동이 있는 객체들에 대한 예측영역을 생성하는 과정, 여기서, 상기 예측영역은 상기 현재 시점에 상 기 제2 이미지 내에 이동이 있는 객체들이 존재할 가능성이 있는 영역임 및 상기 예측영역과 상기 제1 이미지 내에 이동이 있는 객체들을 이용하여 이동이 있는 객체들을 추적하는 과정을 포함할 수 있다."}
{"patent_id": "10-2023-0128358", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 개시에 따르면, PTZ(Pan Tilt Zoom) 카메라를 이용하여 장면을 촬영하는 경우, 특정 장면에 대한 트랙정보를 이용하여 객체를 정확하게 추적할 수 있는 효과가 있다. 또한, 일 실시예에 따르면, PTZ 카메라를 이용하여 복수개의 장면을 촬영하는 경우, 현재 촬영하는 장면이 어느 장면인지 식별할 수 있는 효과가 있다. 또한, 일 실시예에 따르면, IOU(Intersection Over Union), 컨피던스 점수(confidence score), 객체의 속성 및 재식별(re-identification) 기술 등을 이용하여 객체를 효과적으로 추적할 수 있는 효과가 있다. 본 개시에서 얻을 수 있는 효과는 이상에서 언급한 효과들로 제한되지 않으며, 언급하지 않은 또 다른 효과들은"}
{"patent_id": "10-2023-0128358", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 2, "content": "아래의 기재로부터 본 개시가 속하는 기술분야에서 통상의 지식을 가진 자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2023-0128358", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 본 개시의 일부 실시예들을 예시적인 도면을 이용해 상세하게 설명한다. 각 도면의 구성 요소들에 참조 부호를 부가함에 있어서, 동일한 구성 요소들에 대해서는 비록 다른 도면 상에 표시되더라도 가능한 한 동일한 부호를 가지도록 하고 있음에 유의해야 한다. 또한, 본 개시를 설명함에 있어, 관련된 공지 구성 또는 기능에 대한 구체적인 설명이 본 개시의 요지를 흐릴 수 있다고 판단되는 경우에는 그 상세한 설명은 생략한다. 본 개시에 따른 실시예의 구성요소를 설명하는 데 있어서, 제1, 제2, i), ii), a), b) 등의 부호를 사용할 수 있다. 이러한 부호는 그 구성요소를 다른 구성 요소와 구별하기 위한 것일 뿐, 그 부호에 의해 해당 구성요소의 본질 또는 차례나 순서 등이 한정되지 않는다. 명세서에서 어떤 부분이 어떤 구성요소를 '포함' 또는 '구비'한 다고 할 때, 이는 명시적으로 반대되는 기재가 없는 한 다른 구성요소를 제외하는 것이 아니라 다른 구성요소를 더 포함할 수 있는 것을 의미한다. 첨부된 도면과 함께 이하에 개시될 상세한 설명은 본 개시의 예시적인 실시형태를 설명하고자 하는 것이며, 본 개시가 실시될 수 있는 유일한 실시형태를 나타내고자 하는 것이 아니다. 도 1은 본 개시의 일 실시예에 따른 영상분석 시스템의 구성도이다. 도 1을 참조하면, 영상분석 시스템은 카메라, 로컬 컴퓨팅장치, 서버 및 사용자 단말을 전 부 또는 일부 포함한다. 영상분석 시스템 및 이의 각 구성요소는 하드웨어 또는 소프트웨어로 구현되거나, 하드 웨어 및 소프트웨어의 결합으로 구현될 수 있다. 또한, 각 구성요소의 기능이 소프트웨어로 구현되고, 하나 이 상의 프로세서가 각 구성요소에 대응하는 소프트웨어의 기능을 실행하도록 구현될 수도 있다. 카메라는 설치된 위치 주변의 이미지들을 획득하고, 이미지들의 분석을 위해 이미지들을 로컬 컴퓨팅장치 또는 서버에 전송할 수 있다. 카메라는 PTZ(Pan Tilt Zoom) 카메라일 수 있다. 카메라가 PTZ 카메라인 경우, 카메라는 설치된 위치 근처의 복수개의 장면(scene)을 촬영하여 이미지들을 획득할 수 있다. 여기서, 장면은 카메라가 정지된 상태로 일정한 시간 동안 특정한 장소를 촬영하여 획득된 이미지들 의 집합일 수 있다. 연속적인 장면은 카메라가 연속적으로 이동하면서 주변을 촬영하여 획득된 이미지들의 집합일 수 있다. 복수개의 장면은 카메라가 정지된 상태로 일정한 시간 동안 복수개의 장소를 촬영하여 획 득된 이미지들의 집합들일 수 있다. 로컬 컴퓨팅장치는 카메라로부터 수신한 이미지들로부터 메타데이터를 추출하고, 메타데이터를 서버 에 제공할 수 있다. 여기서, 메타데이터는 이미지 내 객체들(objects)의 ID, 위치, 크기, 유형, 등장시점, 퇴장시점, 출현시간 간격, 썸네일(thumbnail) 이미지 등에 대한 정보를 포함할 수 있다. 사람을 나타내는 객체 의 메타데이터는 사람의 연령, 성별, 의상의 유형 또는 의상의 색깔 등에 대한 정보를 더 포함할 수 있다. 로컬 컴퓨팅장치는 이미지들로부터 메타데이터를 추출하기 위해 기 훈련된 딥러닝(deep learning) 모델들을 이 용할 수 있다. 로컬 컴퓨팅장치는 딥러닝 모델들을 실행하기 위한 프로세서 및 메모리를 포함할 수 있다. 여기서, 프로세서는 NPU(Neural Processing Unit) 또는 GPU(Graphic Processing Unit)일 수 있다. 카메라가 인공지능 카메라인 경우, 카메라가 메타데이터를 직접 추출할 수 있다. 이 경우, 카메라 는 딥러닝 모델의 실행을 위해 프로세서와 메모리를 포함할 수 있다. 카메라 또는 로컬컴퓨팅 장치 에 의해 추출된 메타데이터는 서버에 전송될 수 있다. 서버는 카메라에 의해 수집된 이미 지들을 포함하는 비디오 스트림과, 비디오 스트림의 메타데이터를 수신할 수 있다. 사용자 단말의 요청에 따라, 서버는 메타데이터 중에서 요청된 정보(requested information)를 획득 하고, 요청된 정보를 사용자 단말에게 제공할 수 있다. 사용자는 사용자 단말을 이용하여 카메라 가 설치된 지역의 특성을 이해할 수 있다. 지역의 특성은 지역 내 사람들의 분포, 차량들의 이동량 또는 건물들의 종류 등이다. 예를 들면, 사용자는 카메라가 촬영한 장면에 오후 2시에서 3시 사이에 남자 몇 명, 여자 몇 명이 드나들었는지 확인할 수 있다. 다른 예로서, 사용자는 카메라가 설치된 매장 A에서 오후2시부터 오후 3시까지 녹색 의상을 입은 남성을 검색할 수 있다. 도 2는 본 개시의 일 실시예에 따른, PTZ 카메라가 촬영하는 복수개의 장면을 설명하기 위한 도면이다. 도 2를 참조하면, PTZ 카메라는 카메라의 설치비용을 절감하기 위해 교차로 등의 장소에 설치될 수 있다. PTZ 카메라는 PTZ 동작을 수행함으로써 설치된 장소의 주변에 대한 복수개의 장면을 촬영할 수 있다. PTZ 카메라는 사용자가 설정한 시간 및 장면에 따라 복수개의 장면을 설정된 시간 동안 촬영할 수 있다. PTZ 카메라는 A 장면, B 장면 및 C 장면을 촬영할 수 있다. 예를 들어, PTZ 카메라는 A 장면을 15초 동안 촬영한 후 B 장면을 10초 동안 촬영한 후 C 장면을 7초 동안 촬영하고 다시 A 장면을 촬영할 수 있다. 사용자는 촬영시간과 장면을 설정할 수 있다. 예를 들어, PTZ 카메라는 정지하거나 움직이면서 A 장면, B 장면 및 C 장면을 촬영할 수 있다. 도 3은 본 개시의 일 실시예에 따른 객체를 추적하는 장치를 설명하기 위한 블록도이다. 도 3을 참조하면, 촬영을 위하여 PTZ 카메라를 이용하는 경우, 객체를 추적하는 장치(이하, '객체추적장치', 30)는 PTZ 카메라들로부터 비디오 스트림들을 수신하고, 각 비디오 스트림 내 객체들을 인식하고, 객체들을 추 적할 수 있다. 객체추적장치는 도 1에서, 카메라 또는 로컬 컴퓨팅장치에 포함될 수 있다. 그렇 지 않으면, 객체추적장치는 서버에 포함될 수 있다. 객체추적장치는 이미지매칭부, 이미지저장부, 객체매칭부 및 트랙정보저장부를 전부 또는 일부 포함한다. 객체추적장치 및 이의 각 구성요소는 하드웨어 또는 소프트웨어로 구현되거나, 하드웨 어 및 소프트웨어의 결합으로 구현될 수 있다. 또한, 각 구성요소의 기능이 소프트웨어로 구현되고, 하나 이상 의 프로세서가 각 구성요소에 대응하는 소프트웨어의 기능을 실행하도록 구현될 수도 있다. 객체추적장치는 외부 장치와의 통신을 위한 통신부(미도시)를 더 포함할 수 있다. 이미지매칭부는 PTZ 카메라가 현재 촬영한 이미지(이하 '현재 이미지(present image)')와 유사한 기저장된 이미지가 존재하는지 판단할 수 있다. 이미지매칭부는 이미지유사도 판단방법을 이용하여 이미지 저장부 에 저장된 복수개의 이미지들 중 현재 이미지와 유사한 이미지가 존재하는지 판단할 수 있다. 이미지유사 도 판단방법은 SSIM(Structure Similarity Index Measure), 특징점 매칭방법, 히스토그램(histogram)을 이용하 는 방법 또는 MSE(Mean Square Error) 등을 포함할 수 있다. SSIM은 두개의 이미지의 유사도를 휘도 (luminance), 대비(contrast) 및 구조(structure)를 이용하여 비교하는 방법이다. 특징점 매칭방법은 두개의 이 미지로부터 동일한 특징점을 찾아 매칭하여 이미지유사도를 판단하는 방법이다. MSE는 이미지 내 특징점들의 거 리의 오차를 이용하여 이미지유사도를 판단하는 방법이다. 이미지 저장부는 PTZ 카메라가 현재시점까지 촬영한 복수개의 이미지를 저장하고 관리할 수 있다. 이미지 매칭부는 현재 이미지와 유사한 이미지가 존재하는지 여부에 대한 정보를 객체매칭부에 제공할 수 있 다. 현재 이미지와 유사한 이미지가 이미지 저장부에 존재한다고 판단된 경우, 객체매칭부는 현재 촬영된 장면(이하 '현재 장면(present scene)')의 트랙정보(track information)를 트랙정보저장부로부터 수신할 수 있다. 객체매칭부는 해당 장면의 트랙정보를 이용하여 객체를 추적할 수 있다. 객체의 추적은 이전 시 점에 촬영한 이미지 내에 존재하는 객체가 현재 시점에 촬영된 이미지의 어느 부분에 존재하는지를 식별하는 것 일 수 있다. 특정 장면에 대한 트랙정보는 해당 장면으로부터 촬영된 객체들의 ID, 위치, 크기, 유형, 형태, 등 장시점, 퇴장시점, 출현시간 간격 또는 색깔 등에 대한 정보를 포함할 수 있다. 특정 장면에 대한 트랙정보는 해당 장면으로부터 촬영된 배경의 유형, 형태 또는 색깔 등에 대한 정보를 포함할 수 있다. 여기서, 트랙은 시 점(point of time) 별로 존재하는 복수개의 이미지 내에 객체들을 연결한 경로일 수 있다. 현재 이미지와 유사한 이미지가 이미지 저장부에 존재하지 않는다고 판단된 경우, 객체매칭부는 새로 운 트랙정보를 생성하고 새로운 트랙정보를 트랙정보저장부에 전송할 수 있다. 현재 이미지와 유사한 이미 지가 이미지 저장부에 존재하지 않는다고 판단된 경우, 현재 장면은 PTZ 카메라가 처음 촬영하는 장면일 수 있다. 따라서, 새로운 트랙정보는 처음 촬영된 장면의 트랙정보일 수 있다. 트랙정보저장부는 PTZ 카메 라가 촬영하는 복수개의 장면에 대한 복수개의 트랙정보를 저장하고 관리할 수 있다. 객체매칭부는 정지객 체매칭부, 이동객체매칭부, 속성기반 객체매칭부 및 재식별 객체매칭부를 포함할 수 있다. 정지객체매칭부는 현재 장면의 트랙정보를 이용하여 현재 이미지 내 정지객체(unmoved object)를 추적할 수 있다. 정지객체는 움직이지 않는 객체일 수 있다. 정지객체매칭부는 이전 시점에 해당 장면을 촬영한 이미지 내에 존재하는 정지객체와 현재 이미지 내에 검출된 정지객체를 비교하여 정지객체를 추적할 수 있다. 정지객체매칭부는 바운딩박스(bounding box)를 이용할 수 있다. 여기서, 바운딩박스는 이미지 내에 검출된객체를 둘러싼 사각형의 경계선이다. 이동객체매칭부는 현재 장면의 트랙정보를 이용하여 현재 이미지 내 이동객체(movable object)를 추적할 수 있다. 이동객체는 움직이는 객체일 수 있다. 이동객체매칭부는 이전 시점에 해당 장면을 촬영한 이미지 내에 존재하는 이동객체와 현재 이미지 내에 검출된 이동객체를 비교하여 이동객체를 추적할 수 있다. 이동객체 매칭부는 이전 시점에 해당 장면을 촬영한 이미지 내에 존재하는 이동객체의 움직임을 예측하기 위해 칼만 필터(Kalman filter)를 이용할 수 있다. 칼만 필터는 객체의 움직임이 선형적인 경우, 객체의 위치 및 속도를 계산하여 현재프레임 내 객체의 위치를 확률적으로 추정하는 필터이다. 속성기반 객체매칭부는 객체의 속성(property)을 분석하여 현재 이미지 내 객체를 추적할 수 있다. 객체의 속성은 객체의 ID, 위치, 크기, 유형, 등장시점, 퇴장시점 또는 출현시간 간격 등일 수 있다. 재식별(re- identification) 객체매칭부는 현재 장면 이외에 다른 장면을 촬영한 이미지를 이용하여 객체를 추적할 수 있다. 도 4는 본 개시의 일 실시예에 따른, 객체를 추적하는 장치의 동작과정을 설명하기 위한 흐름도이다. 도 4를 참조하면, 객체추적장치는 설정된 카메라가 PTZ 카메라인지 여부를 판단할 수 있다(S410). 이미지매 칭부는 로컬 컴퓨팅장치 또는 서버로부터 수신한 정보를 이용하여 설정된 카메라가 PTZ 카메라 인지 여부를 판단할 수 있다. 현재 이용되는 카메라가 이동과 멈춤을 반복하는 경우, 이미지매칭부는 현재 이용되는 카메라가 PTZ 카메라인 것으로 판단할 수 있다. 즉, 이미지매칭부는 현재 이용되는 카메라의 움 직임정보를 이용하여 현재 이용되는 카메라가 PTZ 카메라인지 여부를 판단할 수 있다. 이미지매칭부는 이미지 매칭을 수행할 수 있다(S420). 이미지매칭부는 이미지 저장부에 저장된 복수개의 이미지들 중 현재 이미지와 유사한 이미지가 존재하는지를 판단하여 이미지 매칭을 수행할 수 있다. 이미지 매칭은 2개의 이미지가 서로 유사한 이미지인지 판단하는 것일 수 있다. 이미지 매칭은 카메라가 정지하 였을 때 수행될 수 있다. 이미지매칭부는 저장이미지(stored image)와 수신이미지(received image)가 매칭 하는지 여부를 판단할 수 있다(S430). 저장이미지는 이미지 저장부에 저장된 이미지이고, 수신이미지는 현 재 이미지일 수 있다. 이미지매칭부는 SSIM을 이용하여 저장이미지와 수신이미지가 매칭하는지를 판단할 수 있다. 저장이미지와 수신이미지가 매칭되지 않는다고 판단된 경우(S430-NO), 객체매칭부는 새로운 트랙정보를 생 성할 수 있다(S440). 새로운 트랙정보는 현재 장면의 트랙정보일 수 있다. 새로운 트랙정보는 트랙정보저장부 에 저장될 수 있다. 저장이미지와 수신이미지가 매칭된다고 판단된 경우(S430-YES), 객체매칭부는 기 존 트랙정보를 식별(identify)할 수 있다(S450). 객체매칭부는 트랙정보저장부에 저장된 복수개의 트 랙정보 중 현재 장면의 기존 트랙정보를 식별할 수 있다. 예를 들어, PTZ 카메라가 촬영하는 장면이 3개인 경우, 3개의 트랙정보가 존재할 수 있다. 즉, 각 장면 별로 트 랙정보가 존재할 수 있다. 예를 들어, PTZ 카메라가 촬영하는 장면이 A 장면, B 장면 및 C 장면이고 현재 이미 지가 A 장면을 촬영한 이미지인 경우, 객체매칭부는 트랙정보저장부에 저장된 복수개의 트랙정보 중 A 장면의 트랙정보를 식별할 수 있다. 객체매칭부는 트랙정보저장부로부터 A 장면의 트랙정보를 수신 할 수 있다. 여기서, B 장면의 트랙정보 및 C 장면의 트랙정보는 사용되지 않고 비활성화될 수 있다. 특정 장면 의 트랙정보가 일정한 시간 동안 사용되지 않는 경우, 이러한 특정 장면의 트랙정보는 트랙정보저장부로부 터 삭제될 수 있다. 객체매칭부는 객체 매칭(object matching)을 수행할 수 있다(S460). 객체매칭부는 식별된 트랙정보를 이용하여 현재 이미지 내에 객체들을 추적할 수 있다. 예를 들어, PTZ 카메라가 촬영하는 장면이 A 장면, B 장 면 및 C 장면이고 현재 이미지가 A 장면을 촬영한 이미지인 경우, 객체매칭부는 이전 시점에 A 장면을 촬 영한 이미지 내에 존재하는 객체들과 현재 이미지 내에 검출된 객체들을 비교하여 객체 매칭을 수행할 수 있다. 객체 매칭은 객체들이 서로 동일한(identical) 객체인지를 판단하는 것일 수 있다. 도 5는 본 개시의 일 실시예에 따른, 객체를 매칭하는 과정을 설명하기 위한 흐름도이다. 도 5를 참조하면, 현재 이미지와 유사한 이미지가 이미지 저장부에 존재하는 경우, 객체매칭부는 트 랙정보저장부로부터 수신한 현재 장면의 트랙정보를 이용하여 객체를 추적할 수 있다. 정지객체매칭부 는 IOU(Intersection Over Union)에 기반하여 정지객체를 매칭할 수 있다(S510). 정지객체매칭부는 이전 시점에 해당 장면을 촬영한 이미지 내에 존재하는 정지객체와 현재 이미지 내에 검출된 정지객체의 바운딩 박스를 비교할 수 있다. 비교결과에 따른 IOU의 값이 소정의 값을 초과하는 경우, 정지객체매칭부는 이전시점에 해당 장면을 촬영한 이미지 내에 존재하는 정지객체와 현재 이미지 내에 검출된 정지객체가 서로 매칭된 다고 판단할 수 있다. 여기서, IOU의 값의 범위는 0 ~ 1 이고, 소정의 값은 0.9 일 수 있다. 소정의 값은 0.9 보다 높은 값일 수 있다. 이동객체매칭부는 컨피던스 점수(confidence score)에 기반하여 이동객체를 매칭할 수 있다(S520). 컨피던 스 점수는 객체가 특정 영역에 속할 확률이 얼마나 정확한지를 나타내는 지표이다. 이동객체매칭부는 칼만 필터를 이용하여 이전 시점에 촬영한 이미지 내에 존재하는 이동객체에 대한 바운딩 박스를 예측할 수 있다. 이 동객체매칭부는 이전 시점의 이동객체에 대한 바운딩 박스에 대한 정보를 이용하여 칼만 필터의 파라미터 들을 업데이트할 수 있다. 이동객체매칭부는 업데이트된 칼만 필터의 파라미터들을 저장하고 관리할 수 있 다. 이동객체매칭부는 PTZ 카메라가 다른 장면을 촬영한 시간과 업데이트된 칼만 필터의 파라미터들을 이 용하여 다음 시점의 이동객체에 대한 바운딩 박스를 예측할 수 있다. 이동객체매칭부는 예측된 바운딩박스를 이용하여 이동객체가 존재할 가능성이 있는 영역(이하, '예측영 역')을 생성할 수 있다. 예측영역의 크기는 PTZ 카메라가 다른 장면을 촬영한 시간에 따라 변경될 수 있다. PTZ 카메라가 다른 장면을 촬영한 시간이 긴 경우, 예측영역의 크기는 커질 수 있다. PTZ 카메라가 다른 장면을 촬 영한 시간이 짧은 경우, 예측영역의 크기는 작아질 수 있다. 이동객체매칭부는 예측영역과 현재 이미지 내에 검출된 이동객체의 바운딩박스를 비교하여 컨피던스 점수 를 계산할 수 있다. 계산된 컨피던스 점수가 소정의 값을 초과하는 경우, 이동객체매칭부는 이전 시점에 촬영한 이미지 내에 존재하는 이동객체와 현재 이미지 내에 검출된 이동객체가 서로 매칭된다고 판단할 수 있다. 속성기반 객체매칭부는 객체의 속성을 분석하여 객체를 매칭할 수 있다(S530). 객체의 속성은 객체의 ID, 위치, 크기, 유형, 등장시점, 퇴장시점 또는 출현시간 간격 등일 수 있다. 현재 이미지 내에 검출된 객체들 중 이전 시점에 촬영한 이미지 내에 존재하는 객체의 속성과 동일한 속성을 가진 객체가 존재하는 경우, 속성기반 객체매칭부는 이전 시점에 촬영한 이미지 내에 존재하는 객체와 현재 이미지 내에 동일한 속성을 가진 검 출된 객체가 서로 매칭된다고 판단할 수 있다. 속성기반 객체매칭부는 이동객체매칭부의 객체매칭결과를 수정할 수 있다. 예를 들어, 이동객체매칭 부가 A 객체와 B 객체를 동일한 객체라고 판단하였더라도 속성기반 객체매칭부는 A 객체의 속성들과 B 객체의 속성들을 비교하여 속성들 사이의 유사도가 낮은 경우 A 객체와 B 객체를 다른 객체라고 판단할 수 있 다. 속성기반 객체매칭부는 객체의 전체 속성들 중 동일하다고 판단된 객체의 속성들이 차지하는 비중을 이용하여 속성들 사이의 유사도를 판단할 수 있다. 재식별 객체매칭부는 현재 장면 이외에 다른 장면을 촬영한 이미지를 이용하여 객체를 매칭할 수 있다 (S540). 현재 이미지 내에 검출된 객체가 다른 장면을 촬영한 이미지 내에 존재하는 경우, 재식별 객체매칭부 는 현재 이미지 내에 검출된 객체와 다른 장면을 촬영한 이미지 내에 존재하는 객체가 서로 매칭된다고 판 단할 수 있다. 이동객체매칭부와 속성기반 객체매칭부가 객체매칭을 실패한 경우, 재식별 객체매칭부 가 객체매칭을 수행할 수 있다. 도 6은 본 개시의 일 실시예에 따른, PTZ 카메라를 이용하는 경우 객체를 추적하는 방법을 설명하기 위한 흐름 도이다. 도 6을 참조하면, 이미지매칭부는 제1 시점에 제1 장면을 촬영한 제1 이미지와 유사한 이미지가 이미지 저 장부 내에 존재하는지 여부를 판단할 수 있다(S610). 제1 시점은 현재 시점일 수 있다. 이미지매칭부(31 0)는 현재 사용되는 카메라의 움직임정보를 이용하여 카메라가 PTZ 카메라인지 여부를 판단할 수 있다. 제1 이미지와 유사한 이미지가 이미지 저장부 내에 존재한다고 판단된 경우, 정지객체매칭부는 트랙정보저 장부로부터 수신한 제1 장면의 트랙정보에 기반하여 제2 시점에 제1 장면을 촬영한 제2 이미지 내에 이동이 없 는 객체들과 제1 이미지 내에 이동이 없는 객체들을 비교하여 IOU의 값을 계산할 수 있다(S620). 제2 시점은 현 재 시점의 이전 시점일 수 있다. 제1 장면의 트랙정보는 제1 장면으로부터 촬영된 객체들의 ID에 대한 정보, 위 치에 대한 정보, 크기에 대한 정보, 유형에 대한 정보, 형태에 대한 정보, 등장시점에 대한 정보, 퇴장시점에 대한 정보, 출현시간 간격에 대한 정보 및 색깔에 대한 정보 중 적어도 하나를 포함할 수 있다. 제1 이미지와 유사한 이미지가 이미지 저장부 내에 존재하지 않는 경우, 객체매칭부는 제1 장면의 트랙정보를 생성할 수 있다. 정지객체매칭부는 IOU의 값을 이용하여 이동이 없는 객체들을 추적할 수 있다(S630). 이동객체매칭부(33 2)는 제2 이미지 내에 이동이 있는 객체들에 대한 예측영역을 생성할 수 있다(S640). 예측영역은 현재 시점에 제2 이미지 내에 이동이 있는 객체들이 존재할 가능성이 있는 영역일 수 있다. 이동객체매칭부는 제1 장면 이외에 장면을 촬영한 시간을 이용하여 예측영역의 크기를 결정할 수 있다. 이동객체매칭부는 예측영역과 제1 이미지 내에 이동이 있는 객체들을 이용하여 이동이 있는 객체들을 추적 할 수 있다(S650). 속성기반 객체매칭부는 제1 이미지 내에 객체들의 속성을 분석하여 객체들을 추적할 수 있다. 재식별 객체매칭부는 제1 장면 이외에 장면을 촬영한 이미지를 이용하여 객체들을 추적할 수 있다. 본 발명에 따른 장치 또는 방법의 각 구성요소는 하드웨어 또는 소프트웨어로 구현되거나, 하드웨어 및 소프트 웨어의 결합으로 구현될 수 있다. 또한, 각 구성요소의 기능이 소프트웨어로 구현되고 마이크로프로세서가 각 구성요소에 대응하는 소프트웨어의 기능을 실행하도록 구현될 수도 있다. 본 명세서에 설명되는 시스템들 및 기법들의 다양한 구현예들은, 디지털 전자 회로, 집적회로, FPGA(field programmable gate array), ASIC(application specific integrated circuit), 컴퓨터 하드웨어, 펌웨어, 소프 트웨어, 및/또는 이들의 조합으로 실현될 수 있다. 이러한 다양한 구현예들은 프로그래밍가능 시스템 상에서 실 행 가능한 하나 이상의 컴퓨터 프로그램들로 구현되는 것을 포함할 수 있다. 프로그래밍가능 시스템은, 저장 시 스템, 적어도 하나의 입력 디바이스, 그리고 적어도 하나의 출력 디바이스로부터 데이터 및 명령들을 수신하고 이들에게 데이터 및 명령들을 전송하도록 결합되는 적어도 하나의 프로그래밍가능 프로세서(이것은 특수 목적 프로세서일 수 있거나 혹은 범용 프로세서일 수 있음)를 포함한다. 컴퓨터 프로그램들(이것은 또한 프로그램들, 소프트웨어, 소프트웨어 애플리케이션들 혹은 코드로서 알려져 있음)은 프로그래밍가능 프로세서에 대한 명령어 들을 포함하며 \"컴퓨터가 읽을 수 있는 기록매체\"에 저장된다. 컴퓨터가 읽을 수 있는 기록매체는, 컴퓨터 시스템에 의하여 읽혀질 수 있는 데이터가 저장되는 모든 종류의 기 록장치를 포함한다. 이러한 컴퓨터가 읽을 수 있는 기록매체는 ROM, CD-ROM, 자기 테이프, 플로피디스크, 메모 리 카드, 하드 디스크, 광자기 디스크, 스토리지 디바이스 등의 비휘발성(non-volatile) 또는 비일시적인(non- transitory) 매체일 수 있으며, 또한 데이터 전송 매체(data transmission medium)와 같은 일시적인 (transitory) 매체를 더 포함할 수도 있다. 또한, 컴퓨터가 읽을 수 있는 기록매체는 네트워크로 연결된 컴퓨터 시스템에 분산되어, 분산방식으로 컴퓨터가 읽을 수 있는 코드가 저장되고 실행될 수도 있다. 본 명세서의 흐름도/타이밍도에서는 각 과정들을 순차적으로 실행하는 것으로 기재하고 있으나, 이는 본 개시의 일 실시예의 기술 사상을 예시적으로 설명한 것에 불과한 것이다. 다시 말해, 본 개시의 일 실시예가 속하는 기 술 분야에서 통상의 지식을 가진 자라면 본 개시의 일 실시예의 본질적인 특성에서 벗어나지 않는 범위에서 흐 름도/타이밍도에 기재된 순서를 변경하여 실행하거나 각 과정들 중 하나 이상의 과정을 병렬적으로 실행하는 것으로 다양하게 수정 및 변형하여 적용 가능할 것이므로, 흐름도/타이밍도는 시계열적인 순서로 한정되는 것은 아니다. 이상의 설명은 본 실시예의 기술 사상을 예시적으로 설명한 것에 불과한 것으로서, 본 실시예가 속하는 기술 분 야에서 통상의 지식을 가진 자라면 본 실시예의 본질적인 특성에서 벗어나지 않는 범위에서 다양한 수정 및 변 형이 가능할 것이다. 따라서, 본 실시예들은 본 실시예의 기술 사상을 한정하기 위한 것이 아니라 설명하기 위 한 것이고, 이러한 실시예에 의하여 본 실시예의 기술 사상의 범위가 한정되는 것은 아니다. 본 실시예의 보호 범위는 아래의 청구범위에 의하여 해석되어야 하며, 그와 동등한 범위 내에 있는 모든 기술 사상은 본 실시예의 권리범위에 포함되는 것으로 해석되어야 할 것이다.도면 도면1 도면2 도면3 도면4 도면5 도면6"}
{"patent_id": "10-2023-0128358", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 개시의 일 실시예에 따른 영상분석 시스템의 구성도이다. 도 2는 본 개시의 일 실시예에 따른, PTZ 카메라가 촬영하는 복수개의 장면을 설명하기 위한 도면이다.도 3은 본 개시의 일 실시예에 따른 객체를 추적하는 장치를 설명하기 위한 블록도이다. 도 4는 본 개시의 일 실시예에 따른, 객체를 추적하는 장치의 동작과정을 설명하기 위한 흐름도이다. 도 5는 본 개시의 일 실시예에 따른, 객체를 매칭하는 과정을 설명하기 위한 흐름도이다. 도 6은 본 개시의 일 실시예에 따른, PTZ 카메라를 이용하는 경우 객체를 추적하는 방법을 설명하기 위한 흐름 도이다."}
