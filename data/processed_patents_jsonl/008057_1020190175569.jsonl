{"patent_id": "10-2019-0175569", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2020-0083303", "출원번호": "10-2019-0175569", "발명의 명칭": "패치 정합을 이용한 학습 데이터 증가 장치 및 방법", "출원인": "(주)제이엘케이", "발명자": "김원태"}}
{"patent_id": "10-2019-0175569", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "의료 영상에서 임의의 각도로 지정된 크기로 영상을 나누어 패치 영상을 생성하는 제1 단계;클러스터링 기법을 통하여 분류하고, 미리 설정된 유효 패치와 유사도 분석을 통해 판정하는 제2a 단계;히스토그램 분석을 통하여 미리 설정된 유효 패치와 유사 패턴을 분석하여 판정하는 제2b 단계;유사성 분석 함수 및 학습된 인공신경망을 사용하여 각각의 패치에 대하여 유사도를 분석하고 판정하는 제2c 단계; 및상기 의료 영상을 다른 각도로 회전하고 지정된 크기로 영상을 나누어 패치를 생성하고 상기의 제2a, 제2b 및제2c 중 하나를 통해 유효성을 분석하는 제3 단계를 포함하는, 패치 정합을 이용한 학습 데이터 증가 방법."}
{"patent_id": "10-2019-0175569", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "청구항 1에 있어서,상기 제3 단계 후에, 상기 의료 영상의 회전한 각도가 360도가 되면 패치 생성을 종료하는 단계;상기 종료하는 단계 후에, 상기 유효성 분석에서 유효 판정을 받은 패치들을 클러스터링 기법으로 추가 분류하는 단계; 및추가 분류에 따라 같은 클러스터에 있는 복수의 영상들을 연결하여 하나의 이미지를 생성하는 단계를 더 포함하는, 패치 정합을 이용한 학습 데이터 증가 방법."}
{"patent_id": "10-2019-0175569", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "청구항 2에 있어서,상기 하나의 이미지를 생성하는 단계 후에,상기 이미지 생성부에서 생성되는 하나의 이미지를 상기 하나의 이미지보다 작은 크기로 잘라내기를 하여 새로운 크기의 이미지를 생성하는 단계를 더 포함하는 패치 정합을 이용한 학습 데이터 증가 방법."}
{"patent_id": "10-2019-0175569", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "청구항 3에 있어서,상기 새로운 크기의 이미지가 기존의 유효한 패치영상의 병변영역과 겹치는 비율을 분석해서 유효성을 다시 판정하는 단계를 더 포함하는 패치 정합을 이용한 학습 데이터 증가 방법."}
{"patent_id": "10-2019-0175569", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "청구항 3에 있어서,상기 새로운 크기로 생성된 이미지를 임의의 각도에서 360도까지 회전하면서 패치를 생성하고 상기의 제2a 내지제2c 중 어느 하나로 유효성을 분석하여 학습 데이터를 증강시키는 데이터 증강부를 더 포함하는, 패치 정합을이용한 학습 데이터 증가 방법."}
{"patent_id": "10-2019-0175569", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "청구항 1에 있어서,상기 유효성 분석에서 얻은 비유효패치를 병리 영상의 RGB 채널에 대한 정규분포로 추가 변환하여 생성하는 단계; 및상기 추가 변환하여 생성된 패치들에 대하여 상기 제2a 단계 내지 상기 제2c 단계 모두를 통해 유효성을 다시공개특허 10-2020-0083303-3-분석하여 상기 비유효패치를 유효패치로 변환하는 단계를 더 포함하는, 패치 정합을 이용한 학습 데이터 증가방법."}
{"patent_id": "10-2019-0175569", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "의료 영상에서 임의의 각도로 지정된 크기로 영상을 나누어 패치 영상을 생성하는 패치영상 생성부;클러스터링 기법을 통하여 분류하고, 미리 설정된 유효 패치와 유사도 분석을 통해 판정하는 제1 판정부;히스토그램 분석을 통하여 미리 설정된 유효 패치와 유사 패턴을 분석하여 판정하는 제2 판정부;유사성 분석 함수 및 학습된 인공신경망을 사용하여 각각의 패치에 대하여 유사도를 분석하고 판정하는 제3 판정부; 및상기 의료 영상을 다른 각도로 회전하고 지정된 크기로 영상을 나누어 패치를 생성하고 상기의 제1 내지 제3 판정부 중 중 하나를 통해 유효성을 분석하는 유효성 분석부를 포함하는, 패치 정합을 이용한 학습 데이터 증가장치."}
{"patent_id": "10-2019-0175569", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "청구항 7에 있어서,상기 유효성 분석부의 유효성 분석 후에, 상기 의료 영상의 회전한 각도가 360도가 되면 패치 생성을 종료하는기본작업 종료부를 더 포함하는, 패치 정합을 이용한 학습 데이터 증가 장치."}
{"patent_id": "10-2019-0175569", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "청구항 8에 있어서,상기 기본작업 종료부의 종료 동작 후에, 상기 유효성 분석에서 유효 판정을 받은 패치들을 클러스터링 기법으로 추가 분류하는 분류부; 및추가 분류에 따라 같은 클러스터에 있는 복수의 영상들을 연결하여 하나의 이미지를 생성하는 제1 이미지 생성부를 더 포함하는, 패치 정합을 이용한 학습 데이터 증가 장치."}
{"patent_id": "10-2019-0175569", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "청구항 9에 있어서,상기 이미지 생성부에서 생성되는 하나의 이미지를 상기 하나의 이미지보다 작은 크기로 잘라내기를 하여 새로운 크기의 이미지를 생성하는 제2 이미지 생성부를 더 포함하는, 패치 정합을 이용한 학습 데이터 증가 장치."}
{"patent_id": "10-2019-0175569", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "청구항 10에 있어서,상기 유효성 분석부는 상기 새로운 크기의 이미지가 기존의 유효한 패치영상의 병변영역과 겹치는 비율을 분석해서 유효성을 다시 판정하는, 패치 정합을 이용한 학습 데이터 증가 장치."}
{"patent_id": "10-2019-0175569", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "청구항 10에 있어서,상기 새로운 크기로 생성된 이미지를 임의의 각도에서 360도까지 회전하면서 패치를 생성하고 상기의 제2a 내지제2c 중 어느 하나로 유효성을 분석하여 학습 데이터를 증강시키는 데이터 증강부를 더 포함하는, 패치 정합을이용한 학습 데이터 증가 장치."}
{"patent_id": "10-2019-0175569", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "패치 정합을 이용한 학습 데이터 증가 장치 및 방법이 개시된다. 패치 정합을 이용한 학습 데이터 증가 방법은, 의료 영상에서 임의의 각도로 지정된 크기로 영상을 나누어 패치 영상을 생성하는 제1 단계, 클러스터링 기법을 통하여 분류하고, 미리 설정된 유효 패치와 유사도 분석을 통해 판정하는 제2a 단계, 히스토그램 분석을 통하여 미리 설정된 유효 패치와 유사 패턴을 분석하여 판정하는 제2b 단계, 유사성 분석 함수 및 학습된 인공신경망을 사용하여 각각의 패치에 대하여 유사도를 분석하고 판정하는 제2c 단계, 및 의료 영상을 다른 각도로 회전하고 지정된 크기로 영상을 나누어 패치를 생성하고 제2a, 제2b 및 제2c 중 하나를 통해 유효성을 분석하는 제3 단계 를 포함한다."}
{"patent_id": "10-2019-0175569", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명의 실시예는 패치 정합을 이용한 학습 데이터 증가 장치 및 방법에 관한 것이다."}
{"patent_id": "10-2019-0175569", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "인공지능 기반의 영상 분석 시스템 개발을 위해서는 대용량의 영상 데이터 확보가 필수적이다. 이러한 한계를 극복하기 위하여 대용량의 이미지를 잘게 나누어 이미지 조각 즉 패치를 생성하여 학습하는 방법이 널리 사용되 고 있다. 그럼에도 불고하고, 특정 암에 대한 병리 영상과 같은 특수한 영상 데이터의 경우 충분한 숫자의 영상 데이터 확보가 어려운 점이 있다. 또한, 이러한 영상의 경우 분석 대상이 되는 반복되는 패턴의 크기가 불균일 하게 반복되는 점이 있어, 패치를 나누어서 학습을 하여도 그 정확도를 확보하기가 어렵다. 한편, 의료 영상은 그 종류에 따라 서로 다른 영상 처리 과정을 거쳐야 하므로, 검출 혹은 진단 장치나 그 운용 시스템이 복잡하고 커지는 단점이 있다. 의료 영상들을 이용하여 종래의 병변 검출 기술 대부분은 의료 영상을 토대로 병변을 진단하는데 있어서 의사 등의 사용자의 참여를 필요로 하거나 사용자를 보조하는 수준에 머물러 있고, 자동으로 병변을 진단하거나 병변의 등급을 분석하는데는 아직까지 한계가 있다. 최근, 의료 분야에서 기계학습(machine learning)이나 인공지능(artificial intelligence)을 도입하여 활발한 연구개발을 진행 중에 있다. 하지만, 특정 병변 예컨대 뇌졸중 등의 뇌질환과 관련하여 자동으로 병변을 진단하 고 병변의 등급을 분석하는 연구개발 결과는 아직까지 미미한 실정이다."}
{"patent_id": "10-2019-0175569", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 기존 기술의 요구에 부응하기 위한 것으로, 본 발명의 목적은 분균일하게 반복되는 패턴이 존재하는 대용량 영상에서 학습에 유효한 패치를 자동으로 나눌 수 있도록 하기 위한 장치 및 방법을 제공하는데 있다. 본 발명의 또 다른 목적은 전술한 본 발명의 실시예는 패치 정합을 이용한 학습 데이터 증가 장치 및 방법을 구 현하는 프로그램을 기록한 컴퓨터 판독가능한 기록매체를 제공하는데 있다."}
{"patent_id": "10-2019-0175569", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 기술적 과제를 해결하기 위한 본 발명의 일 측면에 따른 패치 정합을 이용한 학습 데이터 증가 방법은, 의 료 영상에서 임의의 각도로 지정된 크기로 영상을 나누어 패치 영상을 생성하는 제1 단계; 클러스터링 기법을 통하여 분류하고, 미리 설정된 유효 패치와 유사도 분석을 통해 판정하는 제2a 단계; 히스토그램 분석을 통하여 미리 설정된 유효 패치와 유사 패턴을 분석하여 판정하는 제2b 단계; 유사성 분석 함수 및 학습된 인공신경망을 사용하여 각각의 패치에 대하여 유사도를 분석하고 판정하는 제2c 단계; 및 상기 의료 영상을 다른 각도로 회전 하고 지정된 크기로 영상을 나누어 패치를 생성하고 상기의 제2a, 제2b 및 제2c 중 하나를 통해 유효성을 분석 하는 제3 단계를 포함한다. 일실시예에서, 패치 정합을 이용한 학습 데이터 증가 방법은, 상기 제3 단계 후에, 상기 의료 영상의 회전한 각 도가 360도가 되면 패치 생성을 종료하는 단계를 더 포함할 수 있다. 일실시예에서, 패치 정합을 이용한 학습 데이터 증가 방법은, 상기 종료하는 단계 후에, 상기 유효성 분석에서 유효 판정을 받은 패치들을 클러스터링 기법으로 추가 분류하는 단계; 및 추가 분류에 따라 같은 클러스터에 있 는 복수의 영상들을 연결하여 하나의 이미지를 생성하는 단계를 더 포함할 수 있다. 일실시예에서, 패치 정합을 이용한 학습 데이터 증가 방법은, 상기 하나의 이미지를 생성하는 단계 후에, 상기 생성하는 단계에서 생성된 이미지를 하나의 이미지보다 작은 크기로 잘라내기를 하여 새로운 크기의 이미지를 생성하는 단계를 더 포함할 수 있다. 일실시예에서, 상기 새로운 크기의 이미지가 기존의 유효한 패치영상의 병변영역과 겹치는 비율을 분석해서 유 효성을 다시 판정하는 단계를 더 포함할 수 있다. 일실시예에서, 상기 새로운 크기로 생성된 이미지를 임의의 각도에서 360도까지 회전하면서 패치를 생성하고 상 기의 제2a 내지 제2c 중 어느 하나로 유효성을 분석하여 학습 데이터를 증강시키는 단계를 더 포함할 수 있다. 상기 기술적 과제를 해결하기 위한 본 발명의 다른 측면에 따른 패치 정합을 이용한 학습 데이터 증가 장치는, 의료 영상에서 임의의 각도로 지정된 크기로 영상을 나누어 패치 영상을 생성하는 패치영상 생성부; 클러스터링 기법을 통하여 분류하고, 미리 설정된 유효 패치와 유사도 분석을 통해 판정하는 제1 판정부; 히스토그램 분석 을 통하여 미리 설정된 유효 패치와 유사 패턴을 분석하여 판정하는 제2 판정부; 유사성 분석 함수 및 학습된인공신경망을 사용하여 각각의 패치에 대하여 유사도를 분석하고 판정하는 제3 판정부; 및 상기 의료 영상을 다 른 각도로 회전하고 지정된 크기로 영상을 나누어 패치를 생성하고 상기의 제1 내지 제3 판정부 중 중 하나를 통해 유효성을 분석하는 유효성 분석부를 포함한다. 일실시예에서, 패치 정합을 이용한 학습 데이터 증가 장치는, 상기 유효성 분석부의 유효성 분석 후에, 상기 의 료 영상의 회전한 각도가 360도가 되면 패치 생성을 종료하는 기본작업 종료부를 더 포함한다,. 일실시예에서, 패치 정합을 이용한 학습 데이터 증가 장치는, 상기 기본작업 종료부의 종료 동작 후에, 상기 유 효성 분석에서 유효 판정을 받은 패치들을 클러스터링 기법으로 추가 분류하는 분류부; 및 추가 분류에 따라 같 은 클러스터에 있는 복수의 영상들을 연결하여 하나의 이미지를 생성하는 제1 이미지 생성부를 더 포함할 수 있 다. 일실시예에서, 패치 정합을 이용한 학습 데이터 증가 장치는, 상기 이미지 생성부에서 생성되는 하나의 이미지 를 상기 하나의 이미지보다 작은 크기로 잘라내기를 하여 새로운 크기의 이미지를 생성하는 제2 이미지 생성부 를 더 포함할 수 있다. 일실시예에서, 상기 유효성 분석부는 상기 새로운 크기의 이미지가 기존의 유효한 패치영상의 병변영역과 겹치 는 비율을 분석해서 유효성을 다시 판정할 수 있다. 일실시예에서, 상기 새로운 크기로 생성된 이미지를 임의의 각도에서 360도까지 회전하면서 패치를 생성하고 상 기의 제2a 내지 제2c 중 어느 하나로 유효성을 분석하여 학습 데이터를 증강시키는 데이터 증강부를 더 포함한 다. 상기 기술적 과제를 해결하기 위한 본 발명의 또 다른 측면에 따른 장치는, 전술한 실시예들 중 어느 하나의 패 치 정합을 이용한 학습 데이터 증가 방법을 구현하는 프로그램을 기록한 컴퓨터 판독가능한 기록매체를 포함한 다."}
{"patent_id": "10-2019-0175569", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "전술한 패치 정합을 이용한 학습 데이터 증가 장치 및 방법을 사용하는 경우에는, 불균일하게 반복되는 패턴이 존재하는 대용량 영상에서 학습에 유효한 패치를 자동으로 나눌 수 있고, 또한 유효 패치를 증가시킬 수 있으며, 그에 의해 학습 데이터를 증가시켜 의료 영상을 효과적으로 처리할 수 있는 장점이 있다."}
{"patent_id": "10-2019-0175569", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 명세서에 개시되어 있는 본 발명의 개념에 따른 실시 예들에 대해서 특정한 구조적 또는 기능적 설명은 단지 본 발명의 개념에 따른 실시 예들을 설명하기 위한 목적으로 예시된 것으로서, 본 발명의 개념에 따른 실시 예 들은 다양한 형태들로 실시될 수 있으며 본 명세서에 설명된 실시 예들에 한정되지 않는다. 본 발명의 개념에 따른 실시 예들은 다양한 변경들을 가할 수 있고 여러 가지 형태들을 가질 수 있으므로 실시 예들을 도면에 예시하고 본 명세서에서 상세하게 설명하고자 한다. 그러나 이는 본 발명의 개념에 따른 실시 예 들을 특정한 개시 형태들에 대해 한정하려는 것이 아니며, 본 발명의 사상 및 기술 범위에 포함되는 모든 변경, 균등물, 또는 대체물을 포함한다. 본 명세서에서 사용한 용어는 단지 특정한 실시 예를 설명하기 위해 사용된 것으로서, 본 발명을 한정하려는 의 도가 아니다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 명세서에서, \"포함한다\" 또는 \"가진다\" 등의 용어는 본 명세서에 기재된 특징, 숫자, 단계, 동작, 구성 요소, 부분품 또는이들을 조합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구 성 요소, 부분품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 본 명세서에서 사용되는 용어는 다음과 같다. T2 강조 영상(T2-weighted imaging): 자기공명영상(magnetic resonance imaging, MRI)으로부터 특정 펄스열 (pulse sequence)에서 획득하는 기법 혹은 이 기법으로 획득된 영상을 지칭하는 것으로, 영상은 주로 인체 내부 조직의 구조적 정보를 제공한다. FLAIR(Fluid attenuated inversion recovery): 긴 역전 시간과 에코 시간으로 뇌척수액의 신호를 약화시켜 T2 강조영상에서 놓치기 쉬운 병변의 발견을 더욱 용이하게 한 자기영상장치를 이용한 신호 획득 기법이나 이 기법 으로 획득되는 영상을 지칭한다. FLAIR은 유체 감쇠 반전 복구로 지칭될 수 있다. DWI(Diffusion weighted imaging): 자기공명영상으로부터 획득하는 확산 강조 영상을 주로 지칭하며, 세포 조직 안의 물 분자가 특정 방향으로 확산하는 정도 및 여부에 대한 정보를 제공한다. PWI(Perfusion weighted imaging): 자기공명영상으로부터 획득하는 관류 강조 영상(간단히, 관류 영상)을 지칭 하며, 투입된 조영제의 시간에 따른 농도의 변화를 알려준다. Penumbra: 허혈성 사건이나 색전증 등에 의해서 발생하는 영상 내 반음영 영역으로, 산소 운반 기능이 국부적으 로 감소되어 저산소 세포 사멸을 일으키거나 수시간 동안 내의 적절한 처치 시 생존가능한 영역을 가리킨다. ADC(Apparent diffusion coefficient): 자기공명영상으로부터 획득하는 겉보기 확산 계수로서, 인체 내부 조직 의 확산 방해 요소에 대한 정보를 제공한다. Arterial phase(AP): 자기공명영상으로부터 획득하는 특정 관류의 시기로서, 시간에 따라 투입된 조영제가 동맥 부분을 지나가는 시기를 나타낸다. Capillary phase(CP): 자기공명영상으로부터 획득하는 특정 관류의 시기로서, 시간에 따라 투입된 조영제가 모 세혈관 부분을 지나가는 시기를 나타낸다. Venous phase(VP): 자기공명영상으로부터 획득하는 특정 관류의 시기로서, 시간에 따라 투입된 조영제가 정맥 부분을 지나가는 시기를 나타낸다. 이하 본 발명의 바람직한 실시예를 도면을 참조하여 상세히 설명하기로 한다. 도 1은 본 발명의 일실시예에 따른 패치 정합을 이용한 학습 데이터 증가 장치에 대한 블록도이다. 도 2는 도 1 의 방법에서 추가 변환 과정을 설명하기 위한 도면이다. 그리고 도 3은 도 1의 장치에서 학습 데이터 증가 과정 에 채용할 수 있는 병리 영상의 특정 관심 영역에서 패치를 얻는 과정을 예시한 도면이다. 도 1을 참조하면, 본 실시예에 따른 패치 정합을 이용한 학습 데이터 증가 방법(이하 간략히 '학습 데이터 증가 방법'이라 함)은, 의료 영상에서 임의로 지정된 크기의 배수로 패치생성을 진행해 임의로 지정된 크기의 배수가 360도가 되면 패치생성을 종료하는 패치 영상을 생성하는 단계(제1 단계)를 포함한다(S10,S12,S14). 다음으로, 학습 데이터 증가 방법은 클러스터링 기법을 통하여 분류하고, 미리 설정된 유효 패치와 유사도 분석 을 통해 판정하는 단계(제2a 단계)를 포함한다(S21,S31,S32). 제2a 단계를 상세히 설명하면 다음과 같다. 지정된 유효패치를 병변의 클래스(Class) 개수에 따라 K개의 그룹으로 나눈다. 여기서, K는 의료영상의 병변의 종류의 개수이다. 예를 들어 K는 의료영상의 어노테이션(annotation)이 암 말기, 암 중기, 암 초기, 정상으로 되어있다면 병변의 클래스의 개수는 4개이다. 그리고, 인접한 두 패치 사이의 거리는 다음의 [수학식 1]과 같이 정의된다. 수학식 1"}
{"patent_id": "10-2019-0175569", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "위의 [수학식 1]에서, A(i,j,k)는 3차원 A 패치의 픽셀벡터값을 의미한다. m은 패치의 넓이(width), n은 패치의 높이(height)를 의미한다. 예를 들어, 패치 A가 있다고 할 때, 패치 A로부터 일정 거리(e) 내에 있는 점이 최소 s개 있으면 이 패치를 코 어(Core) 패치라고 한다. 여기서, 로 고려되는 집합의 범위를 고정한다. E와 S는 K개의 그룹과 겹쳐지지 않도록 사용자가 미리 결정하여 설정할 수 있다. K개의 그룹 내에서 각각의 그룹에 따라 일정 거리(e)를 변화시켜 패치 A로부터 일정 거리 내에 있는 패치의 개 수가 최대가 되는 패치(A^)를 구할 수 있다. 최대 개수 패치(A^)를 나타내면 다음의 [수학식 2]와 같다. 수학식 2"}
{"patent_id": "10-2019-0175569", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "유효성 분석에서 각각의 K개의 그룹에 따라 찾은 코어 패치에 기초하여 유사도 분석 대상이 되는 패치들 사이의 거리가 이하이면, 유효한 패치로 판정할 수 있다. 유효성 분석에서 유사도 분석 대상이 되는 패치들 사이의 거리가 이하가 아니면 유효하지 않은 패치(비유효패치)로 판정할 수 있다. 또한, 본 실시예의 학습 데이터 증가 방법은 제1 단계 후에 히스토그램 분석을 통하여 미리 설정된 유효 패치와 유사 패턴을 분석하여 판정하는 단계(제2b 단계)를 포함할 수 있다(S22,S31,S32). 제2b 단계는 제2a 단계와 병 렬적으로 수행될 수 있다. 제2b 단계를 상세히 설명하면 다음과 같다. RGB 채널에 대해서 고정된 에 대해 mean(A(i,j,k))가 유효한 패치들의 (max(B(i,j,k))의 최솟값 에 대해 기준 설정 배율보다 적으면 유효하다고 판정한다. 기준 설정 배율은 0.9배일 수 있다. 이러한 기준 설 정 배율은 실험에 의해 최적화된 것이다. 제2b 단계를 수식으로 나타내면 다음의 [수학식 3]과 같이 표현할 수 있다. 수학식 3"}
{"patent_id": "10-2019-0175569", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "또한, 본 실시예의 학습 데이터 증가 방법은 제1 단계 후에 유사성 분석 함수를 사용하여 각각의 패치에 대하여 유사도를 분석하고 판정하는 단계(제2c 단계)를 포함할 수 있다(S23,S31,S32). 제2c 단계(S23)는 제2a 단계 (S21) 및 제2b 단계(S22)와 병렬적으로 수행될 수 있다. 제2c단계를 상세히 설명하면 다음과 같다. 각 K 그룹에 대한 유효한 패치 의 차원 3mn의 정규분포를 라고 하자. 그리고, 유 효하지 않는 패치의 그룹에 대한 차원 3mn의 정규 분포를 라고 하자.주어진 패치의 픽셀 데이터가 그룹 K에 들어갈 확률을 라고 하고, Z에 들어갈 확률을 라고 하면 이 된다. 이때 베이즈 룰을 적용해서 각 K 그룹에 대해 다음의 [수학식 4]를 푼다. 수학식 4"}
{"patent_id": "10-2019-0175569", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "위의 [수학식 4]에서 의 K+1개의 방정식을 연립해서 풀어서 각 값을 구한 뒤 가장 높은 값으 로 대상 패치의 유효그룹을 결정한다. 가 가장 클 경우 대상패치는 유효하지 않은 패치로 분류되고, 가 가 장 클 경우 K 그룹중 I번째 그룹에 속하게 된다. 또한, 본 실시예의 학습 데이터 증가 방법은 제2a 단계, 제2b 단계 및 제2c 단계 모두를 통해 유효성을 분석할 수 있다(S21,S22,S23,S31,S32). 또한, 본 실시예의 학습 데이터 증가 방법은 제2a 단계, 제2b 단계 및 제2c 단계 이후에, 유효 판정을 받지 못 한 패치들(비유효패치들)을 유효한 병리 영상의 RGB 챈절에 대한 정규분포로 추가 변환 및 생성하는 단계(S33) 를 포함할 수 있다(도 2 참조). 이를 통해 증가된 개수의 유효패치를 분류할 수 있다(S40). 또한, 본 실시예의 학습 데이터 증가 방법은 추가 변환 및 생성된 패치들에 대하여 제2a 단계, 제2b 단계 및 제 2c 단계 모두를 통해 유효성을 다시 분석할 수 있다. 추가 변환 및 생성하는 단계를 유효패치의 정규분포를 이용하여 처리하는 과정을 나타내면 다음과 같다. 먼저, 유효판정을 받지 않은 패치들을 정규화한다. 그리고, 컨볼루션 연산자(convolution operator)를 이용하여 유효판정을 받은 패치를 RGB 채널에 대한 정규분포 로 변환한다. 이를 나타내면 [수학식 5]와 같다. 수학식 5"}
{"patent_id": "10-2019-0175569", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "위의 [수학식 5]에서 N nonvalid는 유효판정을 받지 않은 패치의 RGB 채널에 대한 가우시안 분포를 의미한다. 채널이 R,G,B로 3개이므로 총 3개의 N valid는 유효패치의 RGB 채널에 대한 정규분포를 의미한다. 컨볼루션 연산자는 다음의 수학식 6을 의미한다. 수학식 6"}
{"patent_id": "10-2019-0175569", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "위의 [수학식 5] 및 [수학식 6]에 따르면, 컨볼루션 연산자에 의해 유효패치를 받지 못한 패치의 가우시안 분포 는 유효패치의 RGB 채널에 대한 정규분포로 변환된다. 따라서 본 실시예에서는 이를 이용하여 비유효패치를 유 효패치로 변환한다. 또한, 본 실시예의 학습 데이터 증가 방법은 위의 과정을 통해 얻은 유효한 패치들에 의해 하나의 이미지를 생 성한 후에, 생성된 이미지를 하나의 이미지보다 일정한 작은 배율로 잘라내기를 하여 새로운 크기의 이미지를 생성하는 단계를 더 포함할 수 있다. 또한, 본 실시예의 학습 데이터 증가 방법은 새로운 크기의 이미지를 생성한 후, 새로운 크기의 이미지가 기존 의 유효한 패치영상의 병변영역과 겹치는 비율을 분석해서 유효성을 다시 판정하는 단계를 더 포함할 수 있다. 또한, 본 실시예의 학습 데이터 증가 방법은 새로운 크기의 이미지를 생성한 후, 새로운 크기로 생성된 이미지 를 임의의 각도에서 360도까지 회전하면서 패치를 생성하고 상기의 제2a 단계 내지 제2c 단계 중 어느 하나로 유효성을 분석하여 학습 데이터를 증강시키는 단계를 더 포함할 수 있다. 도 4는 본 실시예의 동작을 이용한 인공신경망 학습 방법 및 장치에 채용할 수 있는 합성곱 신경망에 대한 구조 도이다. 본 실시예에 따른 동작을 이용한 인공신경망 학습 장치는 인공지능 신경망으로 딥러닝 아키텍처를 이용할 수 있 다. 딥러닝 아키텍처는 의료 영상 신호에 대하여 합성곱 신경망(convolutional neural network, CNN), 디컨볼 루션(deconvolution), 스킵 컨넥션(skip connection) 등을 사용하여 모션 기반 라벨링에 따라 동작을 학습하고 학습 결과에 따라 외부 신호를 발생시키거나 특정 노이즈를 발생시키는 일련의 과정을 처리하도록 구현될 수 있 다. 일례로, 딥러닝 아키텍처는 컨볼루션 네트워크와 디컨볼루션 네트워크 및 숏컷(shortcut)을 포함한 형태를 구비 할 수 있다. 도 3에 도시한 바와 같이, 딥러닝 아키텍처는 의료 영상(X)의 국소적인 특징을 추출하기 위하여 3x3 크기의 컬러 컨볼루션 레이어(convolution layer)와 액티베이션 레이어(ReLU)를 쌓고 2x2 크기의 필터를 스 트라이드(stride) 1로 적용하여 다음 하위 깊이 레벨로 연결되는 컨볼루션 블록의 연산을 4회 반복하여 수행하 고, 그 다음에 2x2 크기의 디컨볼루션 레이어(deconvolution layer)와 액티베이션 레이어(ReLU)를 적용하여 다 음 상위 깊이 레벨로 연결한 후 3x3 크기의 컬러 컨볼루션 레이어와 액티베이션 레이어를 쌓는 역컨볼루션 블록 의 연산을 4회 반복하여 수행하며, 여기서 각 레벨의 컨볼루션 블록의 연산을 포함한 컨볼루션 네트워크의 각 레벨의 컨볼루션 블록의 이미지에 동일 레벨의 역컨볼루션 네트워크의 대응 레벨의 컨볼루션 결과를 갖다 붙이 고(copy and contatenate) 각 블록에서 컨볼루션 연산을 각각 수행하도록 이루어질 수 있다. 컨볼루션 네트워크와 디컨볼루션 네트워크 내 컨볼루션 블록은 conv-ReLU-conv 레이어들의 조합으로 구현될 수 있다. 그리고, 딥러닝 아키텍처의 출력은 컨볼루션 네트워크이나 디컨볼루션 네트워크에 연결되는 분류기를 통 해 얻어질 수 있으나, 이에 한정되지는 않는다. 분류기는 FCN(fully connectivity network) 기법을 이용하여 영 상에서 국소적인 특징을 추출하는데 이용될 수 있다. 또한, 딥러닝 아키텍처는 구현에 따라서 컨볼루션 블록 내에 인셉션 모듈(inseption module) 또는 멀티 필터 경 로(multi filter pathway)를 추가로 사용하도록 구현될 수 있다. 인셉션 모듈 또는 멀티 필터 경로 내 서로 다 른 필터는 1x1 필터를 포함할 수 있다. 참고로, 딥러닝 아키텍처에서 입력(input) 이미지가 가로 32, 세로 32, 그리고 RGB 채널을 가지는 경우, 의료 영상에 대응하는 입력 이미지(X)의 크기는 [32x32x3]일 수 있다. 딥러닝 아키텍처의 CNN(convloultional neural network)에서 콘볼루션(convolutional, CONV) 레이어는 입력 이미지의 일부 영역과 연결되며, 이 연결 된 영역과 자신의 가중치의 내적 연산(dot product)을 계산하도록 설계될 수 있다. 여기서, ReLU(rectified linear unit) 레이어는 max(0,x)와 같이 각 요소에 적용되는 액티베이션 함수 (activation function)이다. ReLU 레이어는 볼륨의 크기를 변화시키지 않는다. POOLING 레이어는 (가로, 세 로)로 표현되는 차원에 대해 다운샘플링(downsampling) 또는 서브샘블링(subsampling)을 수행하여 감소된 볼륨 을 출력할 수 있다. 그리고, 전연결(fully-connected, FC) 레이어는 클래스 점수들을 계산하여 예컨대 [1x1x10]의 크기를 갖는 볼륨 을 출력할 수 있다. 이 경우, 10개 숫자들은 10개 카테고리에 대한 클래스 점수에 해당한다. 전연결 레이어는 이전 볼륨의 모든 요소와 연결된다. 거기서, 어떤 레이어는 모수(parameter)를 갖지만 어떤 레이어는 모수를 갖 지 않을 수 있다. CONV/FC 레이어들은 액티베이션 함수로서 단순히 입력 볼륨만이 아니라 가중치(weight)와 바 이어스(bias)를 포함할 수 있다. 한편, ReLU/POOLING 레이어들은 고정된 함수로서, CONV/FC 레이어의 모수들은 각 이미지에 대한 클래스 점수가 해당 이미지의 레이블과 같아지도록 그라디언트 디센트(gradient descent)로 학습될 수 있다. 도 5는 본 발명의 다른 실시예에 따른 패치 정합을 이용한 학습 데이터 증가 장치에 대한 블록도이다. 도 5를 참조하면, 본 실시예에 따른 패치 정합을 이용한 학습 데이터 증가 장치는, 프로그램을 저장하는 메모리 , 및 메모리에 연결되어 프로그램을 수행하는 제어부를 구비한다. 또한, 네트워크에 연결되어 의료 영상 신호 등의 신호 및 데이터를 송수신하는 통신부를 더 구비할 수 있다. 메모리에는 프로그램 또는 소프트웨어 모듈이 탑재될 수 있다. 소프트웨어 모듈은, 패치영상 생성부, 제1 판정부, 제2 판정부, 제3 판정부, 유효성 분석부, 기본작업 종료부, 분류부 , 제1 이미지 생성부(528a), 제2 이미지 생성부(528b) 및 데이터 증강부를 포함할 수 있다. 패치영상 생성부는 의료 영상에서 임의의 각도로 지정된 크기로 영상을 나누어 패치 영상을 생성한다. 제1 판정부는 클러스터링 기법을 통하여 분류하고, 미리 설정된 유효 패치와 유사도 분석을 통해 판정한다. 제2 판정부는 히스토그램 분석을 통하여 미리 설정된 유효 패치와 유사 패턴을 분석하여 판정한다. 제3 판정부는 유사성 분석 함수 및 학습된 인공신경망을 사용하여 각각의 패치에 대하여 유사도를 분석하 고 판정한다. 유효성 분석부는 상기 의료 영상을 다른 각도로 회전하고 지정된 크기로 영상을 나누어 패치를 생성하고 상기의 제1 내지 제3 판정부 중 중 하나를 통해 유효성을 분석한다. 기본작업 종료부는 유효성 분석부의 유효성 분석 후에, 의료 영상의 회전한 각도가 360도가 되면 패치 생 성을 종료한다. 분류부는 기본작업 종료부의 종료 동작 후에, 유효성 분석에서 유효 판정을 받은 패치들을 클러스터링 기 법으로 추가 분류한다. 제1 이미지 생성부(528a)는 추가 분류에 따라 같은 클러스터에 있는 복수의 영상들을 연결하여 하나의 이미지를 생성한다. 제2 이미지 생성부(528b)는 이미지 생성부에서 생성되는 하나의 이미지를 상기 하나의 이미지보다 작은 크기로 잘라내기를 하여 새로운 크기의 이미지를 생성한다. 데이터 증강부는 새로운 크기로 생성된 이미지를 임의의 각도에서 360도까지 회전하면서 패치를 생성하고 상기의 제2a 내지 제2c 중 어느 하나로 유효성을 분석하여 학습 데이터를 증강시킨다. 전술한 제1 내지 제3 판정부, 유효성 분석부, 분류부 등은 인공신경망으로 학습하도록 이루어질 수 있다. 이러 한 학습부를 포함하는 인공신경망 학습 장치는 컴퓨팅 장치에 탑재되거나 컴퓨팅 장치를 포함하도록 구현될 수 있다. 제어부는 마이크로프로세서, 연산처리장치 또는 제어장치에 대응할 수 있고, 중앙 처리 장치(CPU)나 코어 (core)를 포함할 수 있으며, 메모리에 저장되는 프로그램이나 소프트웨어 모듈을 실행하여 본 실시예의 방 법을 실행하도록 구현될 수 있다. 예를 들면, 도 3에 도시한 바와 같이, 병리 영상의 특정 관심 영역에서 패치 를 얻고 이를 분석하여 데이터를 증강하도록 이루어질 수 있다. 통신부는 인트라넷, 인터넷, 유선 네트워크, 무선 네트워크, 위성망 또는 이들의 조합을 위한 적어도 하나 이상의 서브통신시스템을 구비할 수 있다. 통신부는 MRI 장치나 데이터베이스에 연결되어 의료 영상 신호를 수신하거나 독출하여 획득할 수 있고, 처리된 결과를 디스플레이 장치나 외부 장치 등으로 전송하도록 구현될 수 있다. 전술한 장치에 채용가능한 인공지능은 별도의 전처리기, 인식기, 학습기 또는 이들이 조합된 독립적인 기능부 혹은 구성부로서 분류 시스템에 연결되는 형태를 구비하거나 각 구성부에 탑재되는 형태를 구비할 수 있다. 인 공지능은 기계학습(machine learning), 인공신경망 또는 딥러닝를 포함하도록 설계될 수 있다. 딥러닝은 합성곱 신경망 등을 포함할 수 있다. 이러한 인공지능이나 이를 포함하는 인공지능 시스템은 학습 수단 등으로 지칭될 수 있다."}
{"patent_id": "10-2019-0175569", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "본 발명은 도면을 참조한 실시예를 중심으로 설명되었으나 이는 예시적인 것에 불과하며, 본 기술분야의 통상의 지식을 가진 자라면 이로부터 다양한 변형 및 균등한 타 실시예가 가능하다는 점은 자명하다. 따라서, 본 발명 의 진정한 기술적 보호범위는 첨부된 청구범위의 기술적 사상에 의해 정해져야 할 것이다.도면 도면1 도면2 도면3 도면4 도면5"}
{"patent_id": "10-2019-0175569", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일실시예에 따른 패치 정합을 이용한 학습 데이터 증가 방법에 대한 흐름도이다. 도 2는 도 1의 방법에서 추가 변환 과정을 설명하기 위한 도면이다. 도 3은 도 1의 방법에서 학습 데이터 증가 과정에 채용할 수 있는 병리 영상의 특정 관심 영역에서 패치를 얻는 과정을 예시한 도면이다. 도 4는 본 실시예의 방법 및 장치에 채용할 수 있는 합성곱 신경망에 대한 구조도이다. 도 5는 본 발명의 다른 실시예에 따른 패치 정합을 이용한 학습 데이터 증가 장치에 대한 블록도이다."}
