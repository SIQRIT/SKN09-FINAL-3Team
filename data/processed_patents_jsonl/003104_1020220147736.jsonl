{"patent_id": "10-2022-0147736", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0066671", "출원번호": "10-2022-0147736", "발명의 명칭": "비접촉방식 가금 평균체중 측정 장치 및 방법", "출원인": "전북대학교산학협력단", "발명자": "전형민"}}
{"patent_id": "10-2022-0147736", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "군집된 복수의 가금들이 탑뷰(top-view) 시점으로 촬영된 3차원 영상데이터를 객체 분할하여 각 가금별 경계를나타내는 폐곡선을 설정하는 영역 분할부;상기 설정된 폐곡선에 대한 픽셀을 깊이정보 데이터에 매핑하여 각 가금별 면적을 산출하는 면적 산출부; 및상기 산출된 면적을 기 저장된 면적-체중 관계식에 적용하여 각 가금별 체중을 산출하고, 상기 산출된 복수의체중에 대한 평균을 산출하는 평균 체중 산출부;를 포함하는 가금 평균체중 측정 장치."}
{"patent_id": "10-2022-0147736", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1항에 있어서,개별 가금의 실제 면적 및 체중이 측정된 학습 데이터를 기 설정된 양만큼 수집하고, 상기 수집된 학습 데이터를 기반으로 가금의 면적과 체중 간의 상관관계를 분석하고, 상기 분석된 결과를 이용하여 상기 면적-체중 관계식을 도출하는 상관관계 추론부;를 더 포함하는 것을 특징으로 하는 가금 평균체중 측정 장치."}
{"patent_id": "10-2022-0147736", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1항에 있어서,상기 영역 분할부는,객체 분할 딥러닝 네트워크를 이용하여 3차원 영상데이터에 포함된 RGB 이미지 데이터로부터 배경과 개별 가금들을 픽셀 단위로 분리하고, 개별 가금이 차지하고 있는 픽셀에 대해 마스킹(masking)을 하여 상기 폐곡선을 설정하는 것을 특징으로 하는 가금 평균체중 측정 장치."}
{"patent_id": "10-2022-0147736", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 1항에 있어서,상기 영역 분할부는,상기 3차원 영상데이터에 이웃하는 가금들끼리 겹쳐지는 현상이 포함된 경우, 해당 가금들 중 면적이 작은 가금을 누락된 픽셀을 포함하는 가금이라고 판단하고, 상기 판단된 가금에 대해 이미지 인페이팅(inpainting) 기법을 이용하여 누락된 부분의 영역을 복원하는 것을 특징으로 하는 가금 평균체중 측정 장치."}
{"patent_id": "10-2022-0147736", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 4항에 있어서,상기 영역 분할부는,상기 3차원 영상데이터 중 이웃하는 가금 간의 IoU(Intersection over Union)가 기 설정된 임계값 이상이면 해당 가금들이 겹쳐져 있다고 판단하는 것을 특징으로 하는 가금 평균체중 측정 장치."}
{"patent_id": "10-2022-0147736", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 1항에 있어서,상기 면적 산출부는,상기 폐곡선을 구성하는 픽셀들의 좌표를 상기 깊이정보 데이터에 매핑하여 3차원 실제 좌표로 변환하고, 상기공개특허 10-2024-0066671-3-3차원 실제 좌표를 특정 평면에 투영하여 투영 좌표를 생성하며, 상기 생성된 투영좌표의 내부 넓이를 산출하여상기 면적을 산출하는 것을 특징으로 하는 가금 평균체중 측정 장치."}
{"patent_id": "10-2022-0147736", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제 1항에 있어서,상기 면적 산출부는,상기 3차원 영상데이터 내에 포함된 가금을 카메라와 이루는 각도에 따라 그룹핑하고, 상기 그룹핑된 가금들의평균면적을 산출하여 촬영각도에 따른 면적 오차값에 대해 보정을 하는 것을 특징으로 하는 가금 평균체중 측정장치."}
{"patent_id": "10-2022-0147736", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 7항에 있어서,상기 면적 산출부는,상기 그룹핑된 가금의 면적 중 기 설정된 범위 이외의 면적이 존재하는 경우, 상기 평균 면적을 산출하기 위한면적에 해당 면적을 포함시키지 않는 것을 특징으로 하는 가금 평균체중 측정 장치."}
{"patent_id": "10-2022-0147736", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "가금 평균체중 측정 장치가 군집된 복수의 가금들이 탑뷰 시점으로 촬영된 3차원 영상데이터를 객체 분할하여각 가금별 경계를 나타내는 폐곡선을 설정하는 단계;상기 가금 평균체중 측정 장치가 상기 설정된 폐곡선에 대한 픽셀을 깊이정보 데이터에 매핑하여 각 가금별 면적을 산출하는 단계; 및상기 가금 평균체중 측정 장치가 상기 산출된 면적을 기 저장된 면적-체중 관계식에 적용하여 각 가금별 체중을산출하고, 상기 산출된 복수의 체중에 대한 평균을 산출하는 단계;를 포함하는 가금 평균체중 측정 방법."}
{"patent_id": "10-2022-0147736", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "군집된 복수의 가금들이 사육되는 사육장의 상부에 설치되고, 상기 군집된 복수의 가금들을 탑뷰 시점에서 촬영하는 적어도 하나의 카메라를 포함하는 3차원 영상장치; 및상기 촬영된 3차원 영상데이터를 이용하여 비접촉식으로 상기 복수의 가금들에 대한 평균 체중을 산출하는 가금평균체중 측정 장치;를 포함하되,상기 가금 평균체중 측정 장치는,상기 3차원 영상데이터를 객체 분할하여 각 가금별 경계를 나타내는 폐곡선을 설정하는 영역 분할부;상기 설정된 폐곡선에 대한 픽셀을 깊이정보 데이터에 매핑하여 각 가금별 면적을 산출하는 면적 산출부; 및상기 산출된 면적을 기 저장된 면적-체중 관계식에 적용하여 각 가금별 체중을 산출하고, 상기 산출된 복수의체중에 대한 평균을 산출하는 평균 체중 산출부;를 포함하는 것을 특징으로 하는 가금 평균체중 측정 시스템."}
{"patent_id": "10-2022-0147736", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "비접촉방식 가금 평균체중 측정 장치 및 방법이 개시된다. 가금 평균체중 측정 장치는 군집된 복수의 가금들이 탑뷰(top-view) 시점으로 촬영된 3차원 영상데이터를 객체 분할하여 각 가금별 경계를 나타내는 폐곡선을 설정하 는 영역 분할부, 설정된 폐곡선에 대한 픽셀을 깊이정보 데이터에 매핑하여 각 가금별 면적을 산출하는 면적 산 출부 및 산출된 면적을 기 저장된 면적-체중 관계식에 적용하여 각 가금별 체중을 산출하고, 산출된 복수의 체중 에 대한 평균을 산출하는 평균 체중 산출부를 포함한다."}
{"patent_id": "10-2022-0147736", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 가금 평균체중 측정 장치에 관한 것으로, 더욱 상세하게는 가금 군집의 평균 체중을 3차원 영상장치 로 측정하는 비접촉방식 가금 평균체중 측정 장치 및 방법에 관한 것이다."}
{"patent_id": "10-2022-0147736", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "육계는 고기를 얻기 위해 사육되는 닭이며, 일반적으로 1.5kg 기준 30 ~ 32일간 농가에서 사육한 뒤 출하된다. 우리나라는 94%의 육계가 위탁으로 사육된다. 육가공업체와 사육 농가 간의 표준계약서에 따르면, 출하 평균체 중이 오차범위(±50g)에 따라 농가는 출하 작업이 중단될 수 있으며 출하 작업 중단에 따른 비용을 부당하게 된 다. 따라서, 농가의 경우 잘못된 체중 측정으로 인해 사료 등 경제적 손실을 입을 수 있으므로 출하 시기에 앞 서 육계의 평균체중을 정확히 측정하는 것은 매우 중요하다. 종래에 사용되고 있는 육계의 체중 측정 방법은 계열업체의 계근시설을 이용하여 계열업체의 비용 부담으로 하 는 것을 원칙으로 하되, 농가의 희망에 따라 농장의 계근시설 또는 외부의 공인된 계근 시설을 이용하고 있다. 따라서, 대부분 농가에서는 계열업체의 계근시설을 이용하여 체중을 측정하고 있으나 이는 출하 시에만 이용하 고 출하 2~3주전부터는 육계를 한마리씩 바구니에 넣고, 마리 당 체중을 측정함으로써 출하 시 평균 출하체중을 예측하여 출하시기 등을 계열업체와 조율한다. 하지만 이러한 직접 체중 측정 방법은 많은 시간과 노동력이 요구되며, 사람의 개입으로 인해 육계는 많은 스트 레스를 받게 되어 폐사 위험이 높아진다. 무엇보다 3%의 육계 군집이 전체를 대표하기에는 매우 작은 표본이기 때문에 실제 평균 체중과 많은 오차를 보여주는 문제점이 있다. 따라서 육계에게 스트레스를 최소화할 수 있도록 하는 비접촉방식, 적은 노동력과 많은 표본으로 육계의 평균체 중을 정확하게 측정할 수 있는 측정장비가 필요하다. 선행기술문헌 특허문헌 (특허문헌 0001) 한국공개특허공보 제10-2022-0106397호(2022.07.29.)"}
{"patent_id": "10-2022-0147736", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명이 해결하고자 하는 과제는 3차원 영상데이터만으로 가금 군집의 평균체중을 정확하게 측정할 수 있는 비접촉방식 가금 평균체중 측정 장치 및 방법을 제공하는 것이다."}
{"patent_id": "10-2022-0147736", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 과제를 해결하기 위해, 본 발명에 따른 가금 평균체중 측정 장치는 군집된 복수의 가금들이 탑뷰(top- view) 시점으로 촬영된 3차원 영상데이터를 객체 분할하여 각 가금별 경계를 나타내는 폐곡선을 설정하는 영역 분할부, 상기 설정된 폐곡선에 대한 픽셀을 깊이정보 데이터에 매핑하여 각 가금별 면적을 산출하는 면적 산출 부 및 상기 산출된 면적을 기 저장된 면적-체중 관계식에 적용하여 각 가금별 체중을 산출하고, 상기 산출된 복 수의 체중에 대한 평균을 산출하는 평균 체중 산출부를 포함한다. 또한 개별 가금의 실제 면적 및 체중이 측정된 학습 데이터를 기 설정된 양만큼 수집하고, 상기 수집된 학습 데 이터를 기반으로 가금의 면적과 체중 간의 상관관계를 분석하고, 상기 분석된 결과를 이용하여 상기 면적-체중 관계식을 도출하는 상관관계 추론부를 더 포함하는 것을 특징으로 한다. 또한 상기 영역 분할부는, 객체 분할 딥러닝 네트워크를 이용하여 3차원 영상데이터에 포함된 RGB 이미지 데이 터로부터 배경과 개별 가금들을 픽셀 단위로 분리하고, 개별 가금이 차지하고 있는 픽셀에 대해 마스킹 (masking)을 하여 상기 폐곡선을 설정하는 것을 특징으로 한다. 또한 상기 영역 분할부는, 상기 3차원 영상데이터에 이웃하는 가금들끼리 겹쳐지는 현상이 포함된 경우, 해당 가금들 중 면적이 작은 가금을 누락된 픽셀을 포함하는 가금이라고 판단하고, 상기 판단된 가금에 대해 이미지 인페이팅(inpainting) 기법을 이용하여 누락된 부분의 영역을 복원하는 것을 특징으로 한다. 또한 상기 영역 분할부는, 상기 3차원 영상데이터 중 이웃하는 가금 간의 IoU(Intersection over Union)가 기 설정된 임계값 이상이면 해당 가금들이 겹쳐져 있다고 판단하는 것을 특징으로 한다.또한 상기 면적 산출부는, 상기 폐곡선을 구성하는 픽셀들의 좌표를 상기 깊이정보 데이터에 매핑하여 3차원 실 제 좌표로 변환하고, 상기 3차원 실제 좌표를 특정 평면에 투영하여 투영 좌표를 생성하며, 상기 생성된 투영좌 표의 내부 넓이를 산출하여 상기 면적을 산출하는 것을 특징으로 한다. 또한 상기 면적 산출부는, 상기 3차원 영상데이터 내에 포함된 가금을 카메라와 이루는 각도에 따라 그룹핑하고, 상기 그룹핑된 가금들의 평균면적을 산출하여 촬영각도에 따른 면적 오차값에 대해 보정을 하는 것 을 특징으로 한다. 또한 상기 면적 산출부는, 상기 그룹핑된 가금의 면적 중 기 설정된 범위 이외의 면적이 존재하는 경우, 상기 평균 면적을 산출하기 위한 면적에 해당 면적을 포함시키지 않는 것을 특징으로 한다. 본 발명에 따른 가금 평균체중 측정 방법은 가금 평균체중 측정 장치가 군집된 복수의 가금들이 탑뷰 시점으로 촬영된 3차원 영상데이터를 객체 분할하여 각 가금별 경계를 나타내는 폐곡선을 설정하는 단계, 상기 가금 평균 체중 측정 장치가 상기 설정된 폐곡선에 대한 픽셀을 깊이정보 데이터에 매핑하여 각 가금별 면적을 산출하는 단계 및 상기 가금 평균체중 측정 장치가 상기 산출된 면적을 기 저장된 면적-체중 관계식에 적용하여 각 가금 별 체중을 산출하고, 상기 산출된 복수의 체중에 대한 평균을 산출하는 단계를 포함한다. 본 발명에 따른 가금 평균체중 측정 시스템은 군집된 복수의 가금들이 사육되는 사육장의 상부에 설치되고, 상 기 군집된 복수의 가금들을 탑뷰 시점에서 촬영하는 적어도 하나의 카메라를 포함하는 3차원 영상장치 및 상기 촬영된 3차원 영상데이터를 이용하여 비접촉식으로 상기 복수의 가금들에 대한 평균 체중을 산출하는 가금 평균 체중 측정 장치를 포함하되, 상기 가금 평균체중 측정 장치는, 상기 3차원 영상데이터를 객체 분할하여 각 가금 별 경계를 나타내는 폐곡선을 설정하는 영역 분할부, 상기 설정된 폐곡선에 대한 픽셀을 깊이정보 데이터에 매 핑하여 각 가금별 면적을 산출하는 면적 산출부 및 상기 산출된 면적을 기 저장된 면적-체중 관계식에 적용하여 각 가금별 체중을 산출하고, 상기 산출된 복수의 체중에 대한 평균을 산출하는 평균 체중 산출부를 포함하는 것 을 특징으로 한다."}
{"patent_id": "10-2022-0147736", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 실시예에 따르면, 가금 군집의 영상데이터에 딥러닝 영상분할 기술을 적용하여 가금 개별영역을 분할 하고, 깊이정보 데이터로부터 분할된 가금의 실제면적을 산출하여 면적-체중 상관관계식으로부터 평균체중을 산 출할 수 있다. 이때 가금 간에 겹침 현상을 보상하고, 날개를 펼친 가금에 대해 필터링함으로써, 개별 가금의 면적을 정확하게 산출하여 최종적인 가금의 평균체중에 대한 정확도를 향상시킬 수 있다. 최종적으로 산출된 평균체중은 사용자 단말을 통해 농장주에게 알려줄 수 있다. 이로써 가금의 체중 오차로 인 해 발생될 수 있는 사료 비용 증가, 육가공업체로부터 부여되는 페널티 등을 미연에 방지함으로써, 비용절감 효 과를 얻을 수 있다."}
{"patent_id": "10-2022-0147736", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "아래에서는 첨부한 도면을 참고로 하여 본 발명의 실시예에 대하여 본 발명이 속하는 기술 분야에서 통상의 지 식을 가진 자가 용이하게 실시할 수 있도록 상세히 설명한다. 그러나 본 발명은 여러 가지 상이한 형태로 구현 될 수 있으며 여기에서 설명하는 실시예에 한정되지 않는다. 그리고 도면에서 본 발명을 명확하게 설명하기 위 해서 설명과 관계없는 부분은 생략하였으며, 명세서 전체를 통하여 유사한 부분에 대해서는 유사한 도면 부호를 붙였다. 본 명세서 및 도면(이하 '본 명세서')에서, 동일한 구성요소에 대해서 중복된 설명은 생략한다. 또한 본 명세서에서, 어떤 구성요소가 다른 구성요소에 '연결되어' 있다거나 '접속되어' 있다고 언급된 때에는, 그 다른 구성요소에 직접적으로 연결되어 있거나 또는 접속되어 있을 수도 있지만, 중간에 다른 구성요소가 존 재할 수도 있다고 이해되어야 할 것이다. 반면에 본 명세서에서, 어떤 구성요소가 다른 구성요소에 '직접 연결 되어' 있다거나 '직접 접속되어' 있다고 언급된 때에는, 중간에 다른 구성요소가 존재하지 않는 것으로 이해되 어야 할 것이다. 또한, 본 명세서에서 사용되는 용어는 단지 특정한 실시예를 설명하기 위해 사용되는 것으로써, 본 발명을 한정 하려는 의도로 사용되는 것이 아니다. 또한 본 명세서에서, 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함할 수 있다. 또한 본 명세서에서, '포함하다' 또는 '가지다' 등의 용어는 명세서에 기재된 특징, 숫자, 단계, 동작, 구성요 소, 부품, 또는 이들을 조합한 것이 존재함을 지정하려는 것일 뿐, 하나 또는 그 이상의 다른 특징, 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조합한 것의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이 해되어야 할 것이다. 또한 본 명세서에서, '및/또는' 이라는 용어는 복수의 기재된 항목들의 조합 또는 복수의 기재된 항목들 중의 어느 항목을 포함한다. 본 명세서에서, 'A 또는 B'는, 'A', 'B', 또는 'A와 B 모두'를 포함할 수 있다. 또한 본 명세서에서, 본 발명의 요지를 흐리게 할 수 있는 공지 기능 및 구성에 대한 상세한 설명은 생략될 것 이다. 도 1은 본 발명의 실시예에 따른 가금 평균체중 측정 시스템을 설명하기 위한 구성도이고, 도 2는 본 발명의 실 시예에 따른 3차원 영상장치 및 3차원 영상장치로부터 획득된 데이터를 설명하기 위한 도면이다. 도 2의 (a)는 3차원 영상장치가 육계사에 설치된 모습을 나타낸 도면이고, (b)는 3차원 영상장치를 통해 획득된 RGB 이미지 데이터와 깊이정보 데이터를 나타낸 도면이다. 도 1 및 도 2를 참조하면, 가금 평균체중 측정 시스템은 3차원 영상데이터를 기반으로 가금 군집에 대한 평균체중을 비접촉식으로 정확하게 측정한다. 여기서 가금은 야생의 조류를 인간생활에 유용하게 길들이고, 품 종개량을 하여 육성한 조류로써, 육계(닭), 산란계(닭), 오리, 거리 등이 포함될 수 있으며, 이하 실시예 설명 에서는 육계를 대표로 설명하기로 한다. 가금 체중 시스템은 가금 평균체중 측정 장치, 3차원 영상장 치를 포함하고, 사용자 단말 및 통신망을 더 포함할 수 있다. 가금 평균체중 측정 장치는 3차원 영상장치로부터 수신된 RGB 이미지 데이터 및 깊이정보 데이터를 이용하여 사육장(F)에 사육하는 육계(C) 군집에 대한 평균체중을 비접촉식으로 측정한다. 상세하게는 가금 평균 체중 측정 장치는 딥러닝 영역분할 네트워크로부터 입력된 RGB 이미지 데이터를 육계가 차지한 픽셀로 분 할하여 각 육계의 경계를 나타내는 폐곡선을 설정한다. 가금 평균체중 측정 장치는 깊이정보 데이터를 이 용하여 폐곡선을 이루는 최소한의 픽셀들을 실제 3차원 좌표로 변환한다. 폐곡선을 구성하는 3차원 좌표는 특정 평면을 구성하여 같은 평면에 놓이도록 투영되고, 폐곡선이 이루는 면적의 실제 값을 산출한다. 가금 평균체중 측정 장치는 산출된 실제 면적을 기 저장된 면적-체중 관계식에 적용하여 각 육계의 체중을 산출하고, 산 출된 복수의 체중에 대한 평균을 산출한다. 이를 통해 가금 평균체중 측정 장치는 사육장(F)에 존재하는 육계(C)들에 대한 평균 체중을 측정함으로써, 사육장(F)에 사육되는 육계(C)들의 체중을 수작업으로 측정하지 않고도 빠르고 정확하게 육계(C)의 평균체중을 예측할 수 있다. 3차원 영상장치는 군집된 복수의 육계(C)들이 사육되는 사육장(F)의 상부에 설치된다. 3차원 영상장치 는 지상으로부터 임의의 거리만큼 떨어진 사육장(F)의 천장에 설치될 수 있다. 3차원 영상장치는 사 육장(F)의 크기에 따라 카메라의 개수를 변경할 수 있다. 즉 3차원 영상장치는 적어도 하나의 카메라를 포 함할 수 있다. 3차원 영상장치는 카메라를 통해 군집된 복수의 육계들(C)을 탑뷰(top-view) 시점에서 촬영 하고, 바람직하게는 사육되는 일별로 구분하여 3차원 영상을 촬영할 수 있다. 이를 통해 3차원 영상장치는 군집된 복수의 육계들(C)에 대한 RGB 이미지 및 깊이정보 데이터를 포함하는 3차원 영상데이터를 생성할 수 있 다. 또한 3차원 영상장치는 군집된 복수의 육계(C)뿐만 아니라, 개별 육계(C)에 대한 3차원 영상을 촬영하 고, 해당 촬영된 3차원 영상데이터를 기반으로 면적-체중 관계식을 도출하기 위해 사용될 수 있다. 3차원 영상 장치는 상술된 방식으로 생성된 3차원 영상데이터를 가금 평균체중 측정 장치로 전송하고, 상황에 따 라 사용자 단말에도 전송할 수 있다. 사용자 단말은 사육장(F)를 관리하는 사용자가 사용하는 단말로써, 스마트폰, 데스크톱, 랩톱, 태블릿 PC, 핸드헬드 PC 등을 포함할 수 있다. 사용자 단말은 가금 평균체중 측정 장치로부터 육계(C)의 평균 체 중에 대한 정보를 수신하고, 수신된 정보를 출력한다. 또한 사용자 단말은 3차원 영상장치로부터 육 계(C)에 대한 3차원 영상데이터를 수신하고, 수신된 정보를 출력할 수 있다. 이를 통해 사용자는 사육장(F)에서 사육되는 육계(C)의 상태 및 평균 체중에 대한 정보를 직관적으로 확인할 수 있다. 여기서 가금 평균체중 측정 시스템은 가금 평균체중 측정 장치, 3차원 영상장치 및 사용자 단말 사이에 통신망를 구축하여 서로 간에 통신을 지원할 수 있다. 통신망는 백본망과 가입자망으로 구성될 수 있다. 백본망은 X.25 망, Frame Relay 망, ATM망, MPLS(Multi-Protocol Label Switching) 망 및 GMPLS(Generalized Multi-Protocol Label Switching) 망 등 중에 하나 또는 복수의 통합된 망으로 구성될 수 있다. 가입자망은 FTTH(Fiber To The Home), ADSL(Asymmetric Digital Subscriber Line), 케이블망, 지그비 (zigbee), 블루투스(bluetooth), Wireless LAN(IEEE 802.11b, IEEE 802.11a, IEEE 802.11g, IEEE 802.11n), Wireless Hart(ISO/IEC62591-1), ISA100.11a(ISO/IEC 62734), CoAP(Constrained Application Protocol), MQTT(Message Queuing Telemetry Transport), WIBro(Wireless Broadband), Wimax, 3G, HSDPA(High Speed Downlink Packet Access), 4G, 5G 및 6G 등일 수 있다. 일부 실시예로, 통신망은 인터넷망일 수 있고, 이 동 통신망일 수 있다. 또한 통신망은 기타 널리 공지되었거나 향후 개발될 모든 무선통신 또는 유선통신 방식을 포함할 수 있다. 한편 도면에서는 가금 평균체중 측정 장치와 3차원 영상장치가 개별 장치로 구분되고 있으나, 이에 한정되지 않고 하나의 장치로 구현될 수 있다. 도 3은 본 발명의 실시예에 따른 가금 평균체중 측정 장치를 설명하기 위한 블록도이고, 도 4는 도 3의 제어부 를 설명하기 위한 블록도이며, 도 5는 본 발명의 실시예에 따른 가금 평균체중 측정 과정을 설명하기 위한 도면이고, 도 6은 본 발명의 실시예에 따른 개별 가금의 폐곡선 생성 과정을 설명하기 위한 도면이며, 도 7은 본 발 명의 실시예에 따른 겹쳐진 가금의 면적 보상 과정을 설명하기 위한 도면이고, 도 8은 본 발명의 실시예에 따른 폐곡선의 픽셀좌표를 3차원 좌표로 변환하는 과정을 설명하기 위한 도면이고, 도 9는 본 발명의 실시예에 따른 개별 가금의 실제 면적을 산출하는 과정을 설명하기 위한 도면이며, 도 10은 본 발명의 실시예에 개별 가금의 면적-체중 관계식 도출을 위해 사용되는 데이터 수집 과정을 설명하기 위한 도면이며, 도 11은 본 발명의 실시 예에 따른 개별 가금의 면적-체중 관계식을 설명하기 위한 도면이고, 도 12는 본 발명의 실시예에 따른 출력부 에서 출력되는 최종 화면을 설명하기 위한 도면이다. 도 9의 (a)는 육계 군집을 촬영한 RGB 이미지 데이터를 나타낸 도면이고, (b)는 RGB 이미지 데이터로부터 육계 가 차지한 픽셀을 분할하는 딥러닝 네트워크를 나타낸 도면이며, (c)는 개별 육계의 실제 면적을 산출하는 과정 을 나타낸 도면이고, (d)는 산출된 실제 면적을 면적-체중 관계식에 대입하여 체중을 산출하는 과정을 나타낸 도면이다. 도 9의 (a)는 겹쳐진 픽셀영역을 나타낸 도면이고, (b)는 누락된 픽셀영역을 나타낸 도면이며, (c)는 복원된 픽셀영역을 나타낸 도면이다.도 10의 (a)는 면적-체중 관계식을 얻기 위해 개별 육계의 실제 면적을 산 출하고, 실제 체중을 측정하기 위한 테스트베드를 나타낸 도면이고, (b)는 테스트베드에서 촬영된 개별 육계의 RGB 이미지 데이터 및 깊이정보 데이터를 나타낸 도면이다. 도 1, 도 3 내지 도 12를 참조하면, 가금 평균체중 측정 장치는 통신부, 제어부, 출력부 및 저장부를 포함한다. 통신부는 가금 평균체중 측정 장치에서 3차원 영상장치 및 사용자 단말과의 통신을 담당한 다. 통신부는 3차원 영상장치로부터 3차원 영상데이터를 수신한다. 통신부는 육계(C)들의 실제 면 적, 평균체중 등의 다양한 정보를 사용자 단말로 전송한다. 제어부는 가금 평균체중 측정 장치의 전반적인 제어를 수행한다. 제어부는 영역 분할부, 면적 산출부 및 평균 체중 산출부를 포함하고, 상관관계 추론부를 더 포함할 수 있다. 영역 분할부는 RGB 이미지에서 육계가 차지하는 픽셀 영역을 분할하고, 각 육계별 폐곡선을 설정한다. 폐곡 선은 육계(C)의 테두리를 나타내는 경계선을 의미한다. 이때 영역 분할부는 딥러닝 기술을 이용하여 영역 분할을 수행할 수 있다. 즉 영역 분할부는 객체 분할 딥러닝 네트워크를 이용하여 3차원 영상데이터에 포함 된 RGB 이미지 데이터로부터 배경과 개별 육계들(C)을 픽셀 단위로 분리할 수 있다. 영역 분할부는 픽셀 단 위로 분리된 개별 육계(C)가 차지하고 있는 모든 픽셀에 대해 마스킹(masking)한 뒤, 폐곡선을 설정한다. 이러 한 픽셀 단위로 육계 영역을 분할하는 딥러닝 네트워크 모델의 한 형태는 도 5의 (b)에 도시된 바와 같으며, 인 코더-디코더(encoder-decoder) 구조로 구성될 수 있으나, 이에 한정하지 않는다. 한편 영역 분할부는 육계(C)의 일령이 증가함에 따라 육계(C)의 면적이 증가하여 이웃하는 육계들(C)끼리 겹침 현상이 발생될 수 있다. 이때 영역 분할부는 겹침 현상으로 인해 발생되는 누락된 픽셀을 보상한다. 상세하게는 영역 분할부는 RGB 이미지 데이터에 이웃하는 육계들(C)끼리 겹쳐지는 현상이 포함된 경우, 해 당 육계들(C)의 관심영역(R1, R2) 중 면적이 작은 육계를 누락된 픽셀을 포함하는 육계라고 판단한다(도 7). 이 때 영역 분할부는 RGB 이미지 데이터 내 이웃하는 육계(C) 간의 IoU(Intersection over Union)가 기 설정 된 임계값 이상이면 해당 육계(C)들이 겹쳐져 있다고 판단한다. 영역 분할부는 누락된 픽셀의 시점(P1)과 종점(P2)을 기초로 이미지 인페이팅(inpainting) 기법을 적용하여 누락된 부분의 영역을 복원한다. 면적 산출부는 설정된 폐곡선을 이루는 최소한의 점에 해당하는 픽셀들을 깊이정보 데이터로 사용하여 각 육계별 면적을 산출한다(도 8). 면적 산출부는 폐곡선을 구성하는 최소한의 점에 해당하는 픽셀들의 좌표를 카메라 내부 파라미터(초점거리 및 주점)와 정보 데이터를 통해 3차원 실제 좌표(X, Y, Z)로 변환한다(도 8). 면적 산출부는 변환된 3차원 실제 좌표를 특정 평면에 투영하여 투영 좌표를 생성한다(도 9). 이때 특정 평 면의 Z좌표는 폐곡선을 구성하는 점들의 평균 Z좌표일 수 있다. 면적 산출부는 [수학식 1]을 통해 생성된 투영 좌표의 내부 넓이를 산출하여 육계(C)의 면적을 산출한다. 수학식 1 여기서 A는 산출된 폐곡선의 실제 면적을 의미하고, n은 폐곡선을 구성하는 픽셀의 개수, 는 폐곡선을 이루는 i번째 점의 3차원 실제 x좌표 및 y좌표를 각각 의미한다. 또한 면적 산출부는 육계의 면적이 카메라의 위치에 따라 달라지는 현상을 보상할 수 있다. 예를 들어 3차 원 영상 장치의 카메라와 수직 아래방향에 위치한 육계는 정확한 탑뷰 시점으로 촬영되어 정확한 면적을 확인할 수 있지만 카메라로부터 거리가 멀어지는 육계는 육계의 측면 일부도 촬영되어 정확한 면적을 확인할 수 없다. 이러한 현상을 보상하기 위해, 면적 산출부는 3차원 영상데이터 내에 포함된 육계를 카메라와 이루는 각도에 따라 그룹핑하고, 그룹핑된 육계들의 평균면적을 산출하여 촬영각도에 따른 면적 오차값을 보정한다. 이 때 면적 산출부는 그룹핑된 육계의 면적 중 기 설정된 범위 이외의 면적이 존재하는 경우, 평균 면적을 산 출하기 위한 면적에 해당 면적을 포함시키지 않을 수 있다. 즉 면적 산출부는 육계가 날개를 펼쳐 면적의 크기를 잘못 측정하는 경우와 같이 오류가 있는 데이터를 미연에 차단할 수 있다. 상관관계 추론부는 개별 육계의 실제 면적 및 체중이 측정된 학습 데이터를 기 설정된 양만큼 수집한다(도 10). 여기서 실제 면적은 육계 1마리에 대한 탑뷰 시점의 RGB 이미지 데이터 및 깊이정보 데이터를 [수학식 1] 에 적용하여 산출된 면적일 수 있고, 체중은 실제 체중계를 통해 실측된 무게일 수 있다. 이를 통해 상관관계 추론부는 사육 단계별 육계에 대한 대규모 학습 데이터를 확보할 수 있다. 상관관계 추론부는 회귀분석 모델 또는 알고리즘을 이용하여 수집된 학습 데이터에 포함된 육계의 실제 면적과 체중 간의 상관관계를 분석한 다. 상관관계 추론부는 분석된 결과를 이용하여 면적-체중 관계식을 도출할 수 있다. 예를 들어 상관관계 추론부는 수집된 학습 데이터를 이용하여 [수학식 2]의 Huber loss function을 사용하 는 Huber 회귀 방법으로와 같은 면적-체중 관계식을 도출하고, 도출된 면적-체중 관계식을 저장부에 저장한 다. 수학식 2"}
{"patent_id": "10-2022-0147736", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "여기서 x는 육계의 면적을 의미하고, y는 실제 체중을 의미하며, f(x)는 예측되는 체중을 의미하고, δ는 이상 치에 대한 민감도를 의미한다. 평균 체중 산출부는 면적 산출부로부터 산출된 면적을 상관관계 추론부로부터 도출된 면적-체중 관 계식(도 11)에 적용하여 각 육계별 체중을 산출하고, 산출된 복수의 체중에 대한 평균인 평균 체중을 산출한다. 평균 체중 산출부는 산출된 평균 체중을 사용자 단말로 전송시키거나, 출력부로 전달할 수 있다. 출력부는 육계에 대한 평균 체중과 관련된 최종 화면을 출력한다. 바람직하게는 최종 화면은 육계가 사육되 는 일령, 탐지된 육계의 개체수, 평균 면적, 평균 체중을 표시할 수 있다. 또한 최종 화면은 마스킹된 육계들의 개별 체중도 표시할 수 있다(도 12). 저장부는 가금 평균체중 측정 장치가 구동하기 위한 프로그램 또는 알고리즘이 저장된다. 저장부 는 3차원 영상데이터, 개별 육계의 2차원/3차원 좌표, 개별 육계의 면적, 평균 면적, 개별 육계의 체중, 평균 체중 등이 저장된다. 또한 저장부는 면적-체중 관계식을 도출하기 위한 학습 데이터가 저장된다. 저장부 는 플래시 메모리 타입(flash memory type), 하드디스크 타입(hard disk type), 미디어 카드 마이크로 타 입(multimedia card micro type), 카드 타입의 메모리(예를 들어 SD 또는 XD 메모리 등), 램(Random Access Memory, RAM), SRAM(Static Random Access Memory), 롬(Read-Only Memory, ROM), EEPROM(Electrically Erasable Programmable Read-Only Memory), PROM(Programmable Read-Only Memory), 자기메모리, 자기 디스크 및 광디스크 중 적어도 하나의 저장매체를 포함할 수 있다. 도 13은 본 발명의 실시예에 따른 가금 체중 측정 방법을 설명하기 위한 순서도이다. 도 1 및 도 13을 참조하면, 가금 체중 측정 방법은 군집된 복수의 가금들에 대한 3차원 영상데이터에 딥러닝 인 공지능 기술을 적용하여 가금 개별영역을 분할하고, 분할된 가금의 실제 면적을 산출하며, 산출된 실제 면적을면적-체중 관계식에 대입하여 가금 군집에 대한 평균 체중을 비접촉식으로 측정할 수 있다. 이때 가금 체중 측 정 방법은 군집된 복수의 가금 간에 겹침 현상을 보상하고, 날개를 펼친 가금에 대해 필터링함으로써, 개별 가 금의 면적을 정확하게 산출하여 최종적인 가금의 평균 체중의 정확도를 향상시킬 수 있다. 따라서 본 발명에서 제안하는 가금 체중 방법은 출하체중을 측정하는데 드는 시간, 비용, 노동력 문제를 해결하고, 출하 체중 오차 로 인해 발생될 수 있는 사료 비용 증가, 페널티 등을 미연에 방지함으로써, 비용절감 있다 및 생산성 향상에 기여할 수 있다. S110 단계에서, 가금 평균체중 측정 장치는 가금과 관련된 3차원 영상데이터를 수신한다. 가금 평균체중 측정 장치는 3차원 영상 장치로부터 가금의 RGB 이미지 데이터와 깊이정보 데이터가 포함된 3차원 영 상데이터를 수신한다. 이때 3차원 영상데이터는 사육장의 천장에 설치된 카메라로부터 촬영된 탑뷰 시점의 영상 데이터일 수 있다. S120 단계에서, 가금 평균체중 측정 장치는 3차원 영상데이터의 영역을 분할한다. 가금 평균체중 측정 장 치는 군집된 복수의 가금들이 탑뷰 시점으로 촬영된 3차원 영상데이터를 객체 분할하여 복수의 가금들을 하나씩 분리한다. 가금 평균체중 측정 장치는 각 가금별 경계를 나타내는 폐곡선을 설정한다. S130 단계에서, 가금 평균체중 측정 장치는 각 가금별 실제 면적을 산출한다. 감금 체중 측정 장치는 설정된 폐곡선을 이루는 최소한의 점에 해당하는 픽셀을 깊이정보 데이터에 매핑하여 각 가금별 실제 면적을 산 출한다. 즉 가금 평균체중 측정 장치는 깊이정보 데이터를 활용하여 폐곡선의 픽셀좌표를 3차원 실제 좌표 로 변환하고, 변환된 3차원 실제 좌표를 특정 평면의 투영하여 투영된 내부 면적을 [수학식 1]을 통해 산출함으 로써, 각 가금별 실제 면적을 산출한다. S140 단계에서, 가금 평균체중 측정 장치는 가금의 평균 체중을 산출한다. 가금 평균체중 측정 장치 는 산출된 면적을 기 저장된 면적-체중 관계식에 적용하여 각 가금별 체중을 산출한다. 가금 평균체중 측정 장 치는 산출된 복수의 체중에 대한 평균인 평균 체중을 산출하고, 산출된 평균 체중을 출력할 수 있다. 또한 가금 평균체중 측정 장치는 산출된 평균 체중을 사용자 단말로 전송시켜 사용자 단말을 통해 사 용자가 해당 내용을 인지할 수 있도록 할 수 있다. 도 14는 본 발명의 실시예에 따른 컴퓨팅 장치를 설명하기 위한 블록도이다. 도 14를 참조하면, 컴퓨팅 장치(TN100)는 본 명세서에서 기술된 장치(예를 들면 가금 평균체중 측정 장치, 3차 원 영상장치, 사용자 단말 등) 일 수 있다. 컴퓨팅 장치(TN100)는 적어도 하나의 프로세서(TN110), 송수신 장치(TN120), 및 메모리(TN130)를 포함할 수 있 다. 또한, 컴퓨팅 장치(TN100)는 저장 장치(TN140), 입력 인터페이스 장치(TN150), 출력 인터페이스 장치 (TN160) 등을 더 포함할 수 있다. 컴퓨팅 장치(TN100)에 포함된 구성 요소들은 버스(bus)(TN170)에 의해 연결 되어 서로 통신을 수행할 수 있다. 프로세서(TN110)는 메모리(TN130) 및 저장 장치(TN140) 중에서 적어도 하나에 저장된 프로그램 명령(program command)을 실행할 수 있다. 프로세서(TN110)는 중앙 처리 장치(CPU: central processing unit), 그래픽 처리 장치(GPU: graphics processing unit), 또는 본 발명의 실시예에 따른 방법들이 수행되는 전용의 프로세서를 의 미할 수 있다. 프로세서(TN110)는 본 발명의 실시예와 관련하여 기술된 절차, 기능, 및 방법 등을 구현하도록 구성될 수 있다. 프로세서(TN110)는 컴퓨팅 장치(TN100)의 각 구성 요소를 제어할 수 있다. 메모리(TN130) 및 저장 장치(TN140) 각각은 프로세서(TN110)의 동작과 관련된 다양한 정보를 저장할 수 있다. 메모리(TN130) 및 저장 장치(TN140) 각각은 휘발성 저장 매체 및 비휘발성 저장 매체 중에서 적어도 하나로 구 성될 수 있다. 예를 들어, 메모리(TN130)는 읽기 전용 메모리(ROM: read only memory) 및 랜덤 액세스 메모리 (RAM: random access memory) 중에서 적어도 하나로 구성될 수 있다. 송수신 장치(TN120)는 유선 신호 또는 무선 신호를 송신 또는 수신할 수 있다. 송수신 장치(TN120)는 네트워크 에 연결되어 통신을 수행할 수 있다. 한편, 본 발명의 실시예는 지금까지 설명한 장치 및/또는 방법을 통해서만 구현되는 것은 아니며, 본 발명의 실 시예의 구성에 대응하는 기능을 실현하는 프로그램 또는 그 프로그램이 기록된 기록 매체를 통해 구현될 수도있으며, 이러한 구현은 상술한 실시예의 기재로부터 본 발명이 속하는 기술 분야의 통상의 기술자라면 쉽게 구 현할 수 있는 것이다. 이상에서 본 발명의 실시예에 대하여 상세하게 설명하였지만 본 발명의 권리범위는 이에 한정되는 것은 아니고 다음의 청구범위에서 정의하고 있는 본 발명의 기본 개념을 이용한 통상의 기술자의 여러 변형 및 개량 형태 또 한 본 발명의 권리범위에 속하는 것이다."}
{"patent_id": "10-2022-0147736", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 실시예에 따른 가금 평균체중 측정 시스템을 설명하기 위한 구성도이다. 도 2는 본 발명의 실시예에 따른 3차원 영상장치 및 3차원 영상장치로부터 획득된 데이터를 설명하기 위한 도면 이다. 도 3은 본 발명의 실시예에 따른 가금 평균체중 측정 장치를 설명하기 위한 블록도이다. 도 4는 도 3의 제어부를 설명하기 위한 블록도이다. 도 5는 본 발명의 실시예에 따른 가금 평균체중 측정 과정을 설명하기 위한 도면이다. 도 6은 본 발명의 실시예에 따른 개별 가금의 폐곡선 생성 과정을 설명하기 위한 도면이다. 도 7은 본 발명의 실시예에 따른 겹쳐진 가금의 면적 보상 과정을 설명하기 위한 도면이다. 도 8은 본 발명의 실시예에 따른 폐곡선의 픽셀좌표를 3차원 좌표로 변환하는 과정을 설명하기 위한 도면이다. 도 9는 본 발명의 실시예에 따른 개별 가금의 실제 면적을 산출하는 과정을 설명하기 위한 도면이다. 도 10은 본 발명의 실시예에 개별 가금의 면적-체중 관계식 도출을 위해 사용되는 데이터 수집 과정을 설명하기위한 도면이다. 도 11은 본 발명의 실시예에 따른 개별 가금의 면적-체중 관계식을 설명하기 위한 도면이다. 도 12는 본 발명의 실시예에 따른 출력부에서 출력되는 최종 화면을 설명하기 위한 도면이다. 도 13는 본 발명의 실시예에 따른 가금 평균체중 측정 방법을 설명하기 위한 순서도이다. 도 14는 본 발명의 실시예에 따른 컴퓨팅 장치를 설명하기 위한 블록도이다."}
