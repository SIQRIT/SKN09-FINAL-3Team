{"patent_id": "10-2023-0119607", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0037631", "출원번호": "10-2023-0119607", "발명의 명칭": "캡슐내시경의 3차원 위 내비게이션 방법 및 시스템", "출원인": "재단법인 한국마이크로의료로봇연구원", "발명자": "박종오"}}
{"patent_id": "10-2023-0119607", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "인체 내부에 삽입된 캡슐내시경으로부터 촬영된 영상을 획득하는 단계,상기 캡슐내시경에서 획득된 영상으로부터 랜드마크를 검출하고, 상기 캡슐내시경의 위치 및 포즈 정보를 파악하는 단계, 그리고상기 캡슐내시경의 위치 정보 및 포즈 정보, 상기 랜드마크, 또는 3차원 위 내시경 지도 중 적어도 하나를 기초로 캡슐내시경의 이동 경로를 생성하는 단계를 포함하는 캡슐내시경의 3차원 위 내비게이션 방법."}
{"patent_id": "10-2023-0119607", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 촬영된 영상을 획득하는 단계는, 3차원으로 복원된 위 데이터를 기생성된 3차원 랜드마크 데이터와 정합시켜 랜드마크가 정합된 3차원 위 데이터를 형성하는 단계를 포함하는 캡슐내시경의 3차원 위 내비게이션 방법."}
{"patent_id": "10-2023-0119607", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 3차원으로 복원된 위 데이터는, 상기 촬영된 영상의 현재 프레임과 이전 프레임의 특징점을 추출한 후, 추출된 특징점을 매칭하여 실시간으로형성되는 것을 특징으로 하는 캡슐내시경의 3차원 위 내비게이션 방법."}
{"patent_id": "10-2023-0119607", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제2항에 있어서,상기 랜드마크가 정합된 3차원 위 데이터를 형성하는 단계는,상기 기생성된 3차원 랜드마크 데이터와 상기 3차원으로 복원된 위 데이터를 구성하는 점들 사이의 유클리드 거리가 가장 가깝도록 상기 기생성된 3차원 랜드마크 데이터를 이동 및 회전시켜 상기 3차원으로 복원된 위 데이터에 오버랩(overlap)하는 것을 특징으로 하는 캡슐내시경의 3차원 위 내비게이션 방법."}
{"patent_id": "10-2023-0119607", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제2항에 있어서,상기 랜드마크가 정합된 3차원 위 데이터를 형성하는 단계는,상기 랜드마크가 정합된 3차원 위 데이터에서 정합된 랜드마크 부분을 다른 부분과 구별되도록 시각화하는 것을특징으로 하는 캡슐내시경의 3차원 위 내비게이션 방법."}
{"patent_id": "10-2023-0119607", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에 있어서,상기 캡슐내시경의 위치 및 포즈 정보를 계산하는 단계는,상기 촬영된 영상의 현재 프레임과 이전 프레임의 특징점을 추출한 후, 추출된 특징점을 매칭을 통해 추출한 상공개특허 10-2025-0037631-3-기 캡슐내시경의 이동 정도와 회전 정도를 기초로 포즈 정보를 파악하는 것을 특징으로 하는 캡슐내시경의 3차원 위 내비게이션 방법."}
{"patent_id": "10-2023-0119607", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제1항에 있어서,상기 캡슐내시경의 위치 및 포즈 정보를 계산하는 단계는,2차원 랜드마크 데이터 셋으로 학습된 인공지능에 상기 촬영된 영상을 입력하는 단계를 포함하는 것을 특징으로 하는 캡슐내시경의 3차원 위 내비게이션 방법."}
{"patent_id": "10-2023-0119607", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제1항에 있어서,여러 개의 랜드마크 중 어느 하나의 랜드마크를 검출한 경우, 파악된 상기 캡슐내시경의 위치 및 포즈 정보로부터 상기 캡슐내시경의 현재 위치 정보 및 현재 포즈 정보를 추출하는 단계를 포함하는 캡슐내시경의 3차원 위 내비게이션 방법."}
{"patent_id": "10-2023-0119607", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에 있어서,상기 캡슐내시경의 이동 경로를 생성하는 단계는,상기 어느 하나의 랜드마크가 제1 랜드마크가 아닌 경우, 상기 캡슐내시경의 현재 위치 정보 및 현재 포즈 정보를 기초로 상기 제1 랜드마크로 이동하는 경로를 생성하는 단계, 그리고상기 어느 하나의 랜드마크가 제1 랜드마크인 경우, 상기 캡슐내시경의 현재 위치 정보 및 현재 포즈 정보를 기초로 상기 제1 랜드마크에서 제2 랜드마크로 이동하는 경로를 생성하는 단계를 포함하는 캡슐내시경의 3차원 위 내비게이션 방법."}
{"patent_id": "10-2023-0119607", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제1항에 있어서,상기 캡슐내시경의 이동 경로를 생성하는 단계는,상기 캡슐내시경이 기설정된 랜드마크의 순서를 따라 순차적으로 이동하도록 상기 캡슐내시경의 이동 경로를 생성하는 것을 특징으로 하는 캡슐내시경의 3차원 위 내비게이션 방법."}
{"patent_id": "10-2023-0119607", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제1항에 있어서,상기 랜드마크는,위분문(Cardia), 위저부(Fundus), 대만곡(greater curvature), 각(Angulus), 또는 유문(Pylorus) 중 적어도 하나의 위 내부의 영역을 포함하는 것을 특징으로 하는 캡슐내시경의 3차원 위 내비게이션 방법."}
{"patent_id": "10-2023-0119607", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "인체 내부에 삽입된 캡슐내시경으로부터 촬영된 영상을 획득하는 영상 수신부; 상기 캡슐내시경에서 획득된 영상으로부터 랜드마크를 검출하고, 3차원으로 복원된 위 데이터로부터 상기 캡슐내시경의 위치 및 포즈 정보를 파악하는 연산부;상기 캡슐내시경의 위치 정보 및 포즈 정보, 상기 랜드마크, 또는 3차원 위 내시경 지도 중 적어도 하나를 기초로 캡슐내시경의 이동 경로를 생성하는 탐색부; 및상기 탐색부가 생성한 이동 경로를 따라 이동하도록 상기 캡슐내시경을 제어하는 제어부;를 포함하는 것을 특징공개특허 10-2025-0037631-4-으로 하는 3차원 내비게이션 시스템."}
{"patent_id": "10-2023-0119607", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제 12 항에 있어서,상기 제어부는,외부 자기장을 이용하여, 상기 캡슐내시경의 구동을 제어하는 것을 특징으로 하는 3차원 내비게이션 시스템."}
{"patent_id": "10-2023-0119607", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "상기 목적을 달성하기 위하여 본 발명은, 인체 내부에 삽입된 캡슐내시경으로부터 촬영된 영상을 획득하는 단계, 상기 캡슐내시경에서 획득된 영상으로부터 랜드마크를 검출하고, 상기 캡슐내시경의 위치 및 포즈 정보를 파악하 는 단계, 그리고 상기 캡슐내시경의 위치 정보 및 포즈 정보, 상기 랜드마크, 또는 3차원 위 내시경 지도 중 적 어도 하나를 기초로 캡슐내시경의 이동 경로를 생성하는 단계를 포함하는 것을 일 특징으로 한다."}
{"patent_id": "10-2023-0119607", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 캡슐내시경의 3차원 위 내비게이션 방법 및 시스템에 관한 것으로서, 특히 인체 내 위치한 캡슐내시 경이 위 내부를 탐색할 수 있도록 3차원 경로를 안내해주는 캡슐내시경의 3차원 위 내비게이션 방법 및 시스템 에 관한 것이다."}
{"patent_id": "10-2023-0119607", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "내시경은 일반적으로 의료 목적으로 신체의 내부를 살펴보기 위한 의료 기구를 의미한다. 내시경은 검사하는 부 위에 따라 기관지경, 위내시경, 복강경, 대장내시경. 경비내시경 등으로 지칭된다. 기존에 존재하는 대표적인 위내시경 방법은 카메라가 달린 호스 또는 관 형태의 카테터로 진행되며, 2D 카메라와 조명이 달린 카테터가 식 도로 삽입되어 위 내부의 벽 등을 관측한다. 이러한 종래의 위내시경 방법은 의사가 카테터를 직접적으로 조작하여 스크린으로 보여지는 위 내부 영상을 기 반으로 피검사자를 진단한다. 종래 위내시경 방법은 비수면으로 진행될 경우 구토와 복부 팽만, 통각 및 고통 등이 수반되어 피검사자가 검사과정 간에 괴로움을 느낀다는 문제점이 있으며, 수면으로 진행될 경우 마취제로 인해 수면마취가 풀리는데 최소 30분에서 1시간 이상이 소요되며 추가적인 회복 기간이 최소 1 내지 2일 정도가 소요된다는 문제점이 있다. 특히 수면 내시경은 수면마취 이후 힘이 빠져 바닥이나 계단에서 넘어지는 낙상사고 또는 운전이나 기기 조작을 하다가 발생하는 사고 등의 추가적인 사고 위험이 존재한다. 또한, 수면 내시경에 사용되는 약물인 프로포폴은 현재까지 알려진 유효한 해독제가 없어 희박한 확률로 깨어나지 못해 사망에 이르게 하는 경우도 있다. 해독제 가 존재하는 약물인 미다졸림은 수면의 깊이와 진통 억제 효과가 낮으며, 피검사자가 환각을 겪게 하는 문제점 이 있다. 종래의 위내시경의 단점을 보완하기 위해 캡슐내시경이 개발되었다. 캡슐내시경은 소화기관의 연동운동에 의해 소화기관을 따라 이동하여 인체 소화기관 내부를 촬영하고 촬영된 정보를 통신을 통해 외부로 전달할 수 있는 장치이다. 의료용 캡슐 내시경은 작은 캡슐 형태를 갖고, 생체 내부를 촬영하고 촬영된 생체 내부 이미지를 무 선으로 외부의 저장 장치로 전송한다. 내시경으로부터의 촬영된 생체 내부 이미지는 저장 장치에 저장된다. 저 장 장치에 저장된 생체 내부 이미지는 변환 과정을 거쳐 디스플레이 장치 등에 표시되고, 판독자는 디스플레이 장치에 표시된 영상 데이터를 관찰하여 생체 내부의 장기를 관찰하게 된다. 이러한 기존의 캡슐내시경은 위장관 전체를 확인하기 어렵고, 현재 위치를 실시간으로 확인하기 어려우며, 위장 관 연동운동에 의해 움직이기 때문에 외부에서 추가적인 제어가 불가능하다. 이와 관련하여, 한국공개특허 제10-2020-0114844호는 인체 내 마이크로 로봇을 인체 외부에서 구동하기 위한 전 자기장 장치를 개시하고 있다. 이러한 장치들로 인해 기존의 캡슐내시경이 가지고 있는 외부에서 추가적인 제어 가 불가능하다는 문제점을 해결할 수 있으나, 캡슐내시경이 이동하는 경로를 실시간으로 탐색할 수 없어 외부에 서 캡슐내시경을 수동 또는 자동으로 제어하는 데 한계점이 존재한다. 또한, 기존의 내시경은 2D 카메라로 촬영되므로 시인성이 낮은 점, 좁은 영역 내부를 넓은 화각을 갖는 광각렌 즈를 통해 영상을 확보하므로 영상에 왜곡이 존재하는 점, 캡슐내시경 조작하는 사람의 능력에 따라 검사 및 진 단의 명확성에 차이가 발생하는 점, 및 검사 후 특정 부분을 다시 확인해 볼 수 없다는 점 등의 영상정보의 한 계점이 존재한다. 이러한 영상정보의 한계점에 의해 캡슐내시경이 이동할 경로를 탐색하는데 어려움이 존재한다. 이와 관련하여, 한국공개특허 제10-2022-0064464호는 대장에서부터 정상적인 영상을 균일하게 획득하도록 배터 리를 제어하는 자기장 조종가능한 pH 센서 보조 내비게이션 캡슐내시경을 개시하고 있다. 상기 선행문헌은 전력 을 효율적으로 사용하기 위해 캡슐내시경에서 촬영한 영상과 센싱한 pH를 통해 캡슐내시경의 위치가 대장인지를 판단하여 대장인 경우 배터리를 온하고 대장이 아닌 경우 배터리를 오프하는 것을 특징으로 한다. 상기 선행문헌은 전력을 효율적으로 소모하는 것을 목적으로 하므로 대장인지 아닌지 정도의 대략적인 위치만 판단하면 되고, 위치 판단의 기준이 촬영된 사진뿐만 아니라 pH로 포함되므로 추가적인 pH 센싱 장치가 필요하 여 생산 단가 및 소형화에 불리하다는 한계점이 있다. 즉, 상기 선행문헌은 진단 또는 치료를 위해 장기 내에 위치한 캡슐내시경이 이동할 경로를 실시간으로 탐색하 는 기술적 특징을 제시하지 못하고 있으며, 영상정보의 한계점에 의해 캡슐내시경이 이동할 경로를 탐색하는데 어려움이 존재한다는 문제점을 여전히 해결하지 못하고 있다. 따라서, 캡슐내시경이 이동할 경로를 탐색하기 위해, 캡슐내시경이 촬영한 영상을 이동 경로 탐색에 유리하도록 재구성하고, 재구성한 영상을 토대로 캡슐내시경의 이동 경로를 탐색하여 안내하는 캡슐내시경의 3차원 위 내비 게이션 방법 및 시스템이 요구되고 있는 실정이다. 선행기술문헌 특허문헌 (특허문헌 0001) 한국공개특허 제10-2020-0114844호 (특허문헌 0002) 한국공개특허 제10-2022-0064464호"}
{"patent_id": "10-2023-0119607", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 인체 내 위치한 캡슐내시경이 위 내부를 탐색할 수 있도록 실시간으로 3차원 경로를 안내하는 캡슐내 시경의 3차원 위 내비게이션 방법 및 시스템을 제공하는 것을 일 목적으로 한다. 또한, 본 발명은 3차원 내비게이션 경로 탐색이 가능하도록 실시간으로 촬영되는 캡슐내시경 영상을 3D 데이터 로 복원하고, 복원된 3D 데이터와 3차원 랜드마크 데이터를 정합하여 상기 3D 데이터에서 랜드마크를 시각화하 고자 한다. 또한, 본 발명은 캡슐내시경이 이동할 다음 랜드마크 위치까지의 경로를 안내하여 캡슐 내시경이 장기 내부를 순차적으로 탐색하게 하고자 한다."}
{"patent_id": "10-2023-0119607", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 목적을 달성하기 위하여 본 발명은, 인체 내부에 삽입된 캡슐내시경으로부터 촬영된 영상을 획득하는 단계, 상기 캡슐내시경에서 획득된 영상으로부터 랜드마크를 검출하고, 상기 캡슐내시경의 위치 및 포즈 정보를 파악하는 단계, 그리고 상기 캡슐내시경의 위치 정보 및 포즈 정보, 상기 랜드마크, 또는 3차원 위 내시경 지도 중 적어도 하나를 기초로 캡슐내시경의 이동 경로를 생성하는 단계를 포함하는 것을 일 특징으로 한다. 바람직하게는, 상기 촬영된 영상을 획득하는 단계는, 3차원으로 복원된 위 데이터를 기생성된 3차원 랜드마크 데이터와 정합시켜 랜드마크가 정합된 3차원 위 데이터를 형성하는 단계를 포함할 수 있다. 바람직하게는, 상기 3차원으로 복원된 위 데이터는, 상기 촬영된 영상의 현재 프레임과 이전 프레임의 특징점을 추출한 후, 추출된 특징점을 매칭하여 실시간으로 형성될 수 있다. 바람직하게는, 상기 랜드마크가 정합된 3차원 위 데이터를 형성하는 단계는, 상기 기생성된 3차원 랜드마크 데 이터와 상기 3차원으로 복원된 위 데이터를 구성하는 점들 사이의 유클리드 거리가 가장 가깝도록 상기 기생성 된 3차원 랜드마크 데이터를 이동 및 회전시켜 상기 3차원으로 복원된 위 데이터에 오버랩(overlap)시킬 수 있 다. 바람직하게는, 상기 랜드마크가 정합된 3차원 위 데이터를 형성하는 단계는, 상기 랜드마크가 정합된 3차원 위 데이터에서 정합된 랜드마크 부분을 다른 부분과 구별되도록 시각화 할 수 있다.바람직하게는, 상기 캡슐내시경의 위치 및 포즈 정보를 계산하는 단계는, 상기 촬영된 영상의 현재 프레임과 이 전 프레임의 특징점을 추출한 후, 추출된 특징점을 매칭을 통해 추출한 상기 캡슐내시경의 이동 정도와 회전 정 도를 기초로 포즈 정보를 파악할 수 있다. 바람직하게는, 상기 랜드마크를 검출하는 단계는, 2차원 랜드마크 데이터 셋으로 학습된 인공지능에 상기 촬영 된 영상을 입력하는 단계를 포함할 수 있다. 바람직하게는, 여러 개의 랜드마크 중 어느 하나의 랜드마크를 검출한 경우, 파악된 상기 캡슐내시경의 위치 및 포즈 정보로부터 상기 캡슐내시경의 현재 위치 정보 및 현재 포즈 정보를 추출하는 단계를 포함할 수 있다. 바람직하게는, 상기 캡슐내시경의 이동 경로를 생성하는 단계는, 상기 어느 하나의 랜드마크가 제1 랜드마크가 아닌 경우, 상기 캡슐내시경의 현재 위치 정보 및 현재 포즈 정보를 기초로 상기 제1 랜드마크로 이동하는 경로 를 생성하는 단계, 그리고 상기 어느 하나의 랜드마크가 제1 랜드마크인 경우, 상기 캡슐내시경의 현재 위치 정 보 및 현재 포즈 정보를 기초로 상기 제1 랜드마크에서 제2 랜드마크로 이동하는 경로를 생성하는 단계를 포함 할 수 있다. 바람직하게는, 상기 캡슐내시경의 이동 경로를 생성하는 단계는, 상기 캡슐내시경이 기설정된 랜드마크의 순서 를 따라 순차적으로 이동하도록 상기 캡슐내시경의 이동 경로를 생성할 수 있다. 바람직하게는, 상기 랜드마크는, 위분문(Cardia), 위저부(Fundus), 대만곡(greater curvature), 각(Angulus), 또는 유문(Pylorus) 중 적어도 하나의 위 내부의 영역을 포함할 수 있다. 또한 본 발명은, 인체 내부에 삽입된 캡슐내시경으로부터 촬영된 영상을 획득하는 영상 수신부; 상기 캡슐내시 경에서 획득된 영상으로부터 랜드마크를 검출하고, 3차원으로 복원된 위 데이터로부터 상기 캡슐내시경의 위치 및 포즈 정보를 파악하는 연산부; 상기 캡슐내시경의 위치 정보 및 포즈 정보, 상기 랜드마크, 또는 3차원 위 내시경 지도 중 적어도 하나를 기초로 캡슐내시경의 이동 경로를 생성하는 탐색부; 및 상기 탐색부가 생성한 이 동 경로를 따라 이동하도록 상기 캡슐내시경을 제어하는 제어부;를 포함하는 것을 다른 특징으로 한다. 바람직하게는, 상기 제어부는, 외부 자기장을 이용하여, 상기 캡슐내시경의 구동을 제어할 수 있다."}
{"patent_id": "10-2023-0119607", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명은 위 내부를 탐색할 수 있도록 실시간으로 캡슐내시경의 이동 경로를 안내함으로써, 편리하고 정확한 진단 및 검사를 가능하게 한다는 이점이 있다. 또한, 본 발명은 캡슐내시경이 촬영한 영상을 가상 3D 데이터로 구축하여 캡슐내시경의 현재 위치를 확인할 수 있고, 시각적으로 효과적인 경로 안내를 제공할 수 있다는 이점이 있다."}
{"patent_id": "10-2023-0119607", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면들에 기재된 내용들을 참조하여 본 발명을 상세히 설명한다. 다만, 본 발명이 예시적 실시 예 들에 의해 제한되거나 한정되는 것은 아니다. 각 도면에 제시된 동일 참조부호는 실질적으로 동일한 기능을 수행하는 부재를 나타낸다. 본 발명의 목적 및 효과는 하기의 설명에 의해서 자연스럽게 이해되거나 보다 분명해질 수 있으며, 하기의 기재 만으로 본 발명의 목적 및 효과가 제한되는 것은 아니다. 또한, 본 발명을 설명함에 있어서 본 발명과 관련된 공지 기술에 대한 구체적인 설명이, 본 발명의 요지를 불필요하게 흐릴 수 있다고 판단되는 경우에는 그 상세한 설명을 생략하기로 한다. 본 발명에서 사용하는 용어는 단지 특정한 실시예들을 설명하기 위해 사용된 것으로, 본 발명을 한정하려는 의 도가 아니다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 출원에서, \"포함하다\" 또는 \"가지다\" 등의 용어는 발명의 설명에 기재된 특징, 숫자, 단계, 동작, 구성 요소, 부분품 또 는 이들을 조합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성 요소, 부분품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 제1, 제2 등의 용어는 다양한 구성 요소들을 설명하는데 사용될 수 있지만, 상기 구성 요소들은 상기 용어들에 의해 한정되어서는 안된다. 상기 용어들은 하나의 구성 요소를 다른 구성 요소로부터 구별하는 목적으로만 사용 된다. 예를 들어, 본 발명의 권리 범위를 벗어나지 않으면서 제1 구성 요소는 제2 구성 요소로 명명될 수 있고, 유사하게 제2 구성 요소도 제1 구성 요소로 명명될 수 있다. 다르게 정의되지 않는 한, 기술적이거나 과학적인 용어를 포함해서 여기서 사용되는 모든 용어들은 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에 의해 일반적으로 이해되는 것과 동일한 의미를 갖는다. 일반적 으로 사용되는 사전에 정의되어 있는 것과 같은 용어들은 관련 기술의 문맥상 가지는 의미와 일치하는 의미를 갖는 것으로 해석되어야 하며, 본 발명에서 명백하게 정의하지 않는 한, 이상적이거나 과도하게 형식적인 의미 로 해석되지 않는다. 구성 요소를 해석함에 있어서, 별도의 명시적 기재가 없더라도 오차 범위를 포함하는 것으로 해석한다. 시간 관 계에 대한 설명일 경우, 예를 들어, '~후에', '~에 이어서', '~다음에', '~전에' 등으로 시간 적 선후관계가 설 명되는 경우, '바로' 또는 '직접'이 사용되지 않는 이상 연속적이지 않은 경우도 포함한다. 이하, 첨부한 도면들을 참조하여 본 발명의 기술적 구성을 상세하게 설명한다. 도 1은 본 발명의 실시예에 따른 캡슐내시경의 3차원 위 내비게이션 방법의 흐름도를 나타낸다. 도 1을 참조하 면, 캡슐내시경의 3차원 위 내비게이션 방법은 촬영된 영상을 획득하는 단계(S101), 캡슐내시경의 위치 및 포즈 정보를 파악하는 단계(S103), 캡슐내시경의 이동 경로를 생성하는 단계(S105), 캡슐내시경을 제어하는 단계 (S107), 및 데이터 저장단계(S109)를 포함할 수 있다. 도 1에서는 본 실시예에 따른 캡슐내시경의 3차원 위 내비게이션 방법의 각 단계가 순차적으로 수행되는 형태를 개시하였으나, 반드시 이에 한정되지 않으며 이동 경로를 생성하고 캡슐내시경이 이동 경로에 따라 이동하 도록 구동하는 과정에서 도 1에 예시된 각 단계가 동시 또는 별시에 수행될 수 있다. 캡슐내시경의 3차원 위 내비게이션 방법은 인체 내 위치한 캡슐내시경이 위 내부를 탐색할 수 있도록 실시 간으로 3차원 경로를 안내하여, 검사자 또는 의사가 편리하고 정확한 진단 및 검사를 수행할 수 있는 환경을 제 공할 수 있다. 캡슐내시경의 3차원 위 내비게이션 방법은 3차원 경로 탐색이 가능하도록 실시간으로 촬영되는 캡슐내시경 영상을 3차원 데이터로 복원하고, 3차원으로 복원된 위 데이터와 기생성된 3차원 랜드마크 데 이터를 정합하여 3차원으로 복원된 위 데이터에서 랜드마크를 시각화할 수 있고, 이를 통해 시각적으로 효과적 인 경로 안내를 제공할 수 있다. 캡슐내시경의 3차원 위 내비게이션 방법은 캡슐내시경의 현재 위치를 파악하고 포즈 정보를 계산하여 3차 원으로 복원된 위 데이터 상에서 입체적인 이동 경로를 제공할 수 있다. 3차원 내비게이션 경로 탐색 방법은 장 기 내부의 여러 개의 랜드마크를 설정된 순서에 따라 순차적으로 탐색하게 할 수 있다. 도 2는 본 발명의 실시예에 따른 캡슐내시경의 3차원 위 내비게이션 방법의 일 실시예를 나타낸다. 도 2를 참조 하면, 캡슐내시경의 3차원 위 내비게이션 방법은 실시간으로 촬영되는 캡슐내시경 영상을 Visual SLAM 알고리즘 기반으로 3차원 위 데이터로 복원할 수 있다(S201). 동시에, 캡슐내시경의 3차원 위 내비게이션 방법은 촬영되 는 캡슐내시경 영상에서 랜드마크를 검출할 수 있다. 캡슐내시경의 3차원 위 내비게이션 방법은 랜드마크가 검 출되면 기생성된 3차원 랜드마크 데이터를 3차원으로 복원된 위 데이터에 정합 후 랜드마크를 시각화할 수 있다 (S203). 캡슐내시경의 3차원 위 내비게이션 방법은 3차원 위 데이터로 복원하는 과정에서 캡슐내시경의 위치와 포즈 정보를 실시간으로 파악할 수 있고, 랜드마크가 검출되면 캡슐내시경의 현재 위치와 현재 포즈 정보를 추출할 수 있다(S205). 이때, 추출된 현재 위치와 현재 포즈 정보는 이동 경로 생성에 기초가 될 수 있 다. 캡슐내시경의 3차원 위 내비게이션 방법은 랜드마크가 처음 검출되었을 때, 현재의 랜드마크를 기준으로 이동 동선을 생성할 수 있다(S207). 캡슐내시경의 3차원 위 내비게이션 방법은 현재의 랜드마크가 제1 랜드마크이면, 다음 탐색 순서인 제2 랜드마크의 위치로 이동하는 이동 경로를 안내할 수 있다(S209). 캡슐내시경의 3차원 위 내비게이션 방법은 현재의 랜드마크가 제1 랜드마크가 아니면, 제1 랜드마크의 위치로 이동하는 이동 경로를 안 내할 수 있다(S211). 캡슐내시경의 3차원 위 내비게이션 방법은 캡슐내시경이 기설정된 순서대로 랜드마크 를 탐색 후 마지막 랜드마크에 도착하면 위내시경 탐색을 종료할 수 있다(S213). 이하, 3차원 내비게이션 경로 탐색 방법의 각 단계에 대해 상세히 설명한다. 촬영된 영상을 획득하는 단계(S101)는 인체 내부에 삽입된 캡슐내시경으로부터 촬영된 영상을 획득할 수 있다. 촬영된 영상을 획득하는 단계(S101)는 캡슐내시경에서 촬영된 영상을 실시간으로 3차원 위 데이터로 복원 할 수 있다. 촬영된 영상을 획득하는 단계(S101)는 3차원으로 복원된 위 데이터를 이용하여 이동 경로를 안내함 으로써, 캡슐내시경 영상의 시인성 저하, 영상 왜곡 등의 문제를 방지할 수 있다. 촬영된 영상을 획득하는 단계(S101)는 3차원 위 데이터 복원의 사전 작업으로 캡슐내시경에서 촬영된 영상 을 가상으로 염색된 영상으로 변환할 수 있다. 촬영된 영상을 획득하는 단계(S101)는 캡슐내시경에서 촬영 된 영상을 연속된 프레임에서 R,G,B 채널 별로 영상 분리 후 가상으로 염색된 영상으로 변환할 수 있다. 촬영된 영상을 획득하는 단계(S101)는 장기가 염색되지 않은 내시경 영상과 장기가 염색된 내시경 영상으로 구성된 데 이터 세트로 학습된 딥러닝 모델을 이용할 수 있다. 본 실시예는 3차원 위 데이터 복원의 사전 작업이 촬영된 영상을 획득하는 단계(S101)에서 수행되는 것으로 설명하고 있으나, 이에 한정되지 않는다. 촬영된 영상을 획득하는 단계(S101)는 캡슐내시경에서 촬영된 영상을 가상으로 염색된 영상으로 변환하여 이후 진행될 3차원 위 데이터 복원의 성능을 향상시킬 수 있다. 즉, 가상으로 염색된 영상으로 3차원 위 데이터 를 복원하면, 염색되지 않은 영상에 비해 더 많은 특징점을 추출하여 실제 위 내부와 유사한 3차원 위 데이터를 복원할 수 있다. 3차원으로 복원된 위 데이터는 촬영된 영상 또는 가상으로 염색된 영상에서 현재 프레임과 이전 프레임의 특징 점을 추출한 후, 추출된 특징점을 매칭하여 실시간으로 형성될 수 있다. 종래에는 특징점 추출 및 특징점 매칭에 SfM 알고리즘을 이용하였다. SfM 알고리즘은 복수의 시점에서 한 개의 대상에 대해 획득된 영상을 기반으로 공통된 특징점 검출 및 상관 관계를 구하여 3차원 데이터를 복원한다. 그 러나 캡슐내시경에 의해 실시간으로 촬영된 영상을 3차원 데이터로 복원하는 본 발명의 특성상 SfM 알고리 즘은 적합하지 않다. 본 발명에 따른 실시예에서 촬영된 영상을 획득하는 단계(S101)는 실시간으로 촬영되어 전송된 영상을 3차원 위 데이터로 복원하는 방식을 사용한다. 일 실시예로, 촬영된 영상을 획득하는 단계(S101)는 Visual SLAM 알고리즘 을 이용하여 실시간으로 촬영된 영상을 3차원 위 데이터로 복원할 수 있다. Visual SLAM 알고리즘은 SfM 알고리 즘에 비해 연산량이 적으므로 실시간 3D 데이터 구축에 유리하다. 도 3은 본 발명의 실시예에 따른 기생성된 3차원 랜드마크 데이터가 3차원으로 복원된 위 데이터에 정합되는 과 정을 나타낸다. 도 3을 참조하면, 촬영된 영상을 획득하는 단계(S101)는 3차원으로 복원된 위 데이터를 기생성 된 3차원 랜드마크 데이터와 정합(registration)시켜 랜드마크가 정합된 3차원 위 데이터를 형성하는 단계를 포 함할 수 있다. 여기에서, 영상 정합은 서로 다른 영상을 변형하여 하나의 좌표계에 나타내는 처리기법을 의미한 다. 정합과정을 구체적으로 살펴보면, 랜드마크가 정합된 3차원 위 데이터를 형성하는 단계는 촬영된 영상에서 랜드 마크를 검출한 경우, 기생성된 3차원 랜드마크 데이터에서 검출된 랜드마크와 동일한 랜드마크를 추출하여 3차 원으로 복원된 위 데이터에 정합할 수 있다. 랜드마크가 정합된 3차원 위 데이터를 형성하는 단계는 기생성된 3 차원 랜드마크 데이터와 상기 3차원으로 복원된 위 데이터를 구성하는 점들 사이의 유클리드 거리가 가장 가깝 도록 상기 기생성된 3차원 랜드마크 데이터를 이동 및 회전시켜 상기 3차원으로 복원된 위 데이터에 오버랩 (overlap)할 수 있다. 일 실시예로, 랜드마크가 정합된 3차원 위 데이터를 형성하는 단계는 ICP(Iterative Closest Point) 알고리즘을 이용하여 데이터 정합을 수행할 수 있다. ICP 알고리즘은 두 개의 point cloud가 주어졌을 때, corresponding point 사이의 거리를 계산하여, 이 거리를 최소화하는 Transformation matrix을 찾는 알고리즘이다. 랜드마크가 정합된 3차원 위 데이터를 형성하는 단계는 랜드마크가 정합된 3차원 위 데이터에서 정합된 랜드마 크 부분을 다른 부분과 구별되도록 시각화할 수 있다. 랜드마크가 정합된 3차원 위 데이터를 형성하는 단계는 가상 3D 데이터에 3차원 랜드마크 데이터를 정합하고 랜 드마크를 시각화함으로써, 3차원으로 구축된 위 내부에서 대표적인 랜드마크의 위치를 파악할 수 있게 하며, 시 각적으로 효과적인 3D 내비게이션 기능을 제공할 수 있다. 랜드마크가 정합된 3차원 위 데이터를 형성하는 단계는 랜드마크 검출의 사전 작업으로 3차원 랜드마크 데이터 를 생성할 수 있다. 랜드마크가 정합된 3차원 위 데이터를 형성하는 단계는 캡슐 내시경으로 촬영된 위 내 부의 대표적인 랜드마크 영역에 해당하는 여러 프레임의 이미지로 구성된 데이터 세트로 학습된 딥러닝 모델을 이용할 수 있다. 검출단계(S103)는 위 내부의 대표적인 랜드마크 영역에 해당하는 이미지를 학습된 딥러닝 모델 에 입력하여 3차원 랜드마크 데이터를 생성할 수 있다. 랜드마크가 정합된 3차원 위 데이터를 형성하는 단계는 후술할 캡슐내시경의 이동 경로를 생성하는 단계(S105) 에서 수행되는 이동 경로 생성의 사전 작업으로 이동 경로의 이정표가 되는 3차원 위 내시경 지도를 생성할 수 있다. 랜드마크가 정합된 3차원 위 데이터를 형성하는 단계는 일반적 또는 보편적인 사람의 캡슐내시경 영상을 3차원 위 데이터로 변환하고, 변환된 3차원 위 데이터에 기생성된 3차원 랜드마크 데이터를 정합하여 3차원 위 내시경 지도를 생성할 수 있다. 본 실시예는 랜드마크 검출 및 이동 경로 생성의 사전 작업이 랜드마크가 정합 된 3차원 위 데이터를 형성하는 단계에서 수행되는 것으로 설명하고 있으나, 이에 한정되지 않는다. 도 4은 본 발명의 실시예에 따른 위 내부 주요 랜드마크 정보를 기반으로 캡슐내시경의 현재 위치를 파악하는 예를 나타낸다. 도 4를 참조하면, 캡슐내시경의 위치 및 포즈 정보를 파악하는 단계(S103)는 캡슐내시경에 서 획득된 영상으로부터 랜드마크를 검출할 수 있다. 여기에서 랜드마크란 위 내부에서 특정 위치 또는 특정 부 위를 식별할 수 있는 영역을 의미한다. 예를 들면, 위의 대표적인 랜드마크는 위분문(Cardia), 위저부(Fundus), 대만곡(greater curvature), 각(Angulus), 또는 유문(Pylorus) 중 적어도 하나의 위 내부의 영역을 포함할 수 있다. 도 4의 좌측의 그림을 참조하면, 위 내부에 위분문&위저부(Cardia&Fundus, Ex.1), 대만곡(Greater Curvature, Ex.2), 각(Angulus, Ex.3), 또는 유문(Pylorus, Ex.4)으로 구성된 4개의 랜드마크가 설정되어 있다. 도 4의 우 측의 그림을 참조하면, 랜드마크가 정합된 3차원 위 데이터상의 랜드마크는 3차원으로 복원된 위 데이터의 랜드 마크보다 시인성이 향상됨을 확인할 수 있다. 캡슐내시경의 위치 및 포즈 정보를 파악하는 단계(S103)는 2차원 랜드마크 데이터 셋으로 학습된 인공지능에 촬 영된 영상을 입력하는 단계를 포함할 수 있다. 2차원 랜드마크 데이터 셋으로 학습된 인공지능에 캡슐내시경 이 촬영한 영상을 입력하면 실시간으로 랜드마크 검출이 수행될 수 있다. 이때, 사용되는 인공지능은 분류 (Classification) 알고리즘 일 수 있다. 캡슐내시경의 위치 및 포즈 정보를 파악하는 단계(S103)는 캡슐내시경의 위치 및 포즈 정보를 파악할 수 있다. 여기에서, 위치란 위 내부에서 캡슐내시경의 대략적인 위치를 의미하며, 포즈 정보란 캡슐내시경 에 내장된 카메라의 위치, 각도(회전각) 또는 이동방향 등을 의미한다. 캡슐내시경의 위치 및 포즈 정보를 파악하는 단계(S103)는 촬영된 영상의 현재 프레임과 이전 프레임의 특징점을 추출한 후, 추출된 특징점을 매칭 을 통해 추출한 상기 캡슐내시경의 이동 정도와 회전 정도를 기초로 포즈 정보를 파악할 수 있다. 파악된 위치 와 포즈 정보는 이동 경로 생성 등에 사용될 수 있다. 캡슐내시경의 현재 위치 정보 및 현재 포즈 정보를 추출하는 단계는 여러 개의 랜드마크 중 어느 하나의 랜드마 크를 검출한 경우, 파악된 상기 캡슐내시경의 위치 및 포즈 정보로부터 상기 캡슐내시경의 현재 위치 정보 및 현재 포즈 정보를 추출할 수 있다. 캡슐내시경의 이동 경로를 생성하는 단계(S105)는 캡슐내시경의 위치 정보 및 포즈 정보, 랜드마크, 또는 3차원 위 내시경 지도 중 적어도 하나를 기초로 캡슐내시경의 이동 경로를 생성할 수 있다. 캡슐내시경의 이동 경로를 생성하는 단계(S105)는 랜드마크가 검출되면 캡슐내시경이 검출된 랜드마크 주 변을 탐색할 수 있는 이동 경로를 생성할 수 있다. 캡슐내시경의 이동 경로를 생성하는 단계(S105)는 랜드마크 가 검출되면 캡슐내시경이 다음 탐색할 랜드마크의 위치로 이동하는 이동 경로를 생성할 수 있다. 캡슐내시경의 이동 경로를 생성하는 단계(S105)는 랜드마크가 검출되면 캡슐내시경이 검출된 랜드마크 주변을 탐 색한 후 다음 탐색할 랜드마크의 위치로 이동하는 이동 경로를 생성할 수 있다. 캡슐내시경의 이동 경로를 생성하는 단계(S105)는 캡슐내시경이 기설정된 랜드마크의 순서를 따라 순차적으로 이동하도록 상기 캡슐내시경의 이동 경로를 생성할 수 있다. 정리하면, 제1 내지 제3 랜드마크가 있고, 제1 랜 드마크에서 제3 랜드마크 순서로 탐색하는 것으로 설정되어 있다고 가정하면, 캡슐내시경의 이동 경로를 생성하 는 단계(S105)는 캡슐내시경이 제1 랜드마크 주변을 탐색한 후 제2 랜드마크의 위치로 이동하도록 이동 경 로를 생성할 수 있다. 이어서, 캡슐내시경의 이동 경로를 생성하는 단계(S105)는 캡슐내시경이 제2 랜드마 크의 위치에 도달하면, 제2 랜드마크 주변을 탐색한 후 제3 랜드마크의 위치로 이동하도록 이동 경로를 생성할 수 있다. 캡슐내시경의 이동 경로를 생성하는 단계(S105)는 캡슐내시경이 제3 랜드마크의 위치에 도달하면 탐색을 종료할 수 있다. 캡슐내시경의 이동 경로를 생성하는 단계(S105)에서 생성된 이동 경로는 위 내부 공간에서 캡슐내시경이 제어될 수 있도록 3차원적으로 제공될 수 있다. 즉, 이동 경로는 2차원적으로 평면상에서 이동하는 경로를 의미 하는 것이 아니라, 3차원적으로 공간상에서 이동하는 경로를 의미할 수 있다. 캡슐내시경의 이동 경로를 생성하 는 단계(S105)는 위 내부 공간상에서 캡슐내시경이 이동할 수 있도록 캡슐내시경의 위 내부 위치, 각 도, 이동 방향을 모두 고려한 이동 경로를 생성할 수 있다. 캡슐내시경의 이동 경로를 생성하는 단계(S105)는 검사자 또는 의사가 외부에서 캡슐내시경을 조작할 때 길잡이가 되는 이동 경로를 제공할 수 있다. 캡슐내시경의 이동 경로를 생성하는 단계(S105)는 캡슐내시경(30 0)을 자동으로 제어하는 별도의 제어장치가 있는 경우, 제어장치에 이동 경로를 제공할 수 있다. 캡슐내시경의 이동 경로를 생성하는 단계(S105)는 어느 하나의 랜드마크가 제1 랜드마크가 아닌 경우, 상기 캡 슐내시경의 현재 위치 정보 및 현재 포즈 정보를 기초로 상기 제1 랜드마크로 이동하는 경로를 생성하는 단계, 그리고 어느 하나의 랜드마크가 제1 랜드마크인 경우, 상기 캡슐내시경의 현재 위치 정보 및 현재 포즈 정보를 기초로 상기 제1 랜드마크에서 제2 랜드마크로 이동하는 경로를 생성하는 단계를 포함할 수 있다. 도 5는 본 발명의 실시예에 따른 처음 랜드마크를 검출한 경우의 경로 탐색 과정을 나타낸다. 도 5를 참조하면, 캡슐내시경에서 촬영된 영상에서 최초로 랜드마크를 검출(S301)하면, 캡슐내시경의 이동 경로를 생성하는 단계(S105)는 검출된 랜드마크가 탐색의 시작 지점인 제1 랜드마크인지를 판단할 수 있다(S303). 캡슐내시경의 이동 경로를 생성하는 단계(S105)는 처음 검출된 랜드마크가 경로 탐색의 시작 지점인 제1 랜드마크가 아니면, 제1 랜드마크의 위치로 이동하는 이동 경로를 생성할 수 있다(S305). 이때, 제1 랜드마크가 아닌 다른 위치로 이동하는 경우를 대비하여, 제1 랜드마크의 위치로 이동한 이후 다시 한번 검출된 랜드마크가 제1 랜드마크인지 판단한다. 캡슐내시경의 이동 경로를 생성하는 단계(S105)는 랜드마크가 경로 탐색의 시작 지점인 제1 랜드마크이면, 상기 제1 랜드마크 다음 지점인 제2 랜드마크의 위치로 이동하는 경로를 생성할 수 있다(S307). 캡슐내시경의 이동 경로를 생성하는 단계(S105)는 제2 랜드마크의 위치로 이동하는 경로를 생성한 이후에는 기설정된 랜드마크 순 서대로 이동하는 경로를 생성할 수 있다(S309). 캡슐내시경의 이동 경로를 생성하는 단계(S105)는 마지막 랜드 마크에 도달하면 경로 안내를 종료할 수 있다(S311). 도 6는 본 발명의 실시예에 따른 기설정된 랜드마크의 순서를 따라 순차적으로 이동하는 캡슐내시경을 나타낸다. 도 6을 참고하면, 캡슐내시경의 이동 경로를 생성하는 단계(S105)는 기설정된 랜드마크 순서에 따라 위분문&위저부(Cardia&Fundus, Ex.1), 대만곡(Greater Curvature, Ex.2), 각(Angulus, Ex.3), 유문(Pylorus, Ex.4) 순서로 캡슐내시경의 이동 경로를 생성할 수 있다. 이때, 각 랜드마크는 기생성된 3차원 랜드마크 데이터와 정합되어 시인성이 향상됨을 확인할 수 있다. 캡슐내시경의 이동 경로를 생성하는 단계(S105)는 이동 경로를 생성할 때 추출한 캡슐내시경의 위치와 포 즈 정보를 이용하되, 3차원으로 복원된 위 데이터에서 복원되지 않은 위 내부 위치로 이동하는 이동 경로를 생 성할 때에는 3차원 위 내시경 지도를 기준으로 이동 경로를 생성할 수 있다. 캡슐내시경의 이동 경로를 생성하는 단계(S105)는 3차원으로 복원된 위 데이터에서 캡슐내시경이 조작될 수 있도록 3차원 공간상에서 이동하는 경로를 생성할 수 있다. 따라서, 캡슐내시경의 이동 경로를 생성하는 단 계(S105)는 캡슐내시경의 위치와 포즈 정보를 고려하여 위 내부 공간상에서 캡슐내시경이 이동할 수 있도록 캡슐내시경의 위 내부 위치, 각도, 이동 방향을 모두 고려한 이동 경로를 생성할 수 있다. 한편, 본 발명의 실시예에 따르면 촬영된 영상을 획득하는 단계(S101)은 캡슐내시경에서 촬영된 영상을 실 시간으로 3차원 위 데이터로 복원할 수 있으므로, 캡슐내시경이 제1 랜드마크에 도달하였을 때는 다른 랜 드마크까지 이동하는 이동 경로를 생성하기 위한 3차원 위 데이터가 구축되어 있지 않을 수 있다. 이 경우, 캡 슐내시경의 이동 경로를 생성하는 단계(S105)는 사전에 구축된 3차원 위 내시경 지도를 기준으로 다음 랜드마크 까지 이동하는 이동 경로를 생성할 수 있다. 대다수 사람들의 위 내부의 형태, 랜드마크의 위치 및 모양은 거의 유사하므로 3차원 위 내시경 지도를 활용할 수 있다. 캡슐내시경의 이동 경로를 생성하는 단계(S105)는 3차원 위 내시경 지도를 활용하여 이동 경로를 생성한 이후, 해당 이동 경로에 대한 3차원 위 데이터가 복원되면, 3차원으로 복원된 위 데이터를 기준으로 이동 경로를 보정 할 수 있다. 캡슐내시경을 제어하는 단계(S107)는 캡슐내시경의 이동 경로를 생성하는 단계(S105)에서 생성된 이동 경로를 따라 이동하도록 캡슐내시경을 제어할 수 있다. 제어단계(S107)는 외부 자기장을 이용하여, 캡슐내시경 의 구동을 제어하는 제어 장치의 자기장을 변화시키는 방식으로 캡슐내시경을 제어할 수 있다. 저장단계(미도시)는 실시간으로 복원되는 3차원 위 데이터, 검출된 랜드마크 이미지, 랜드마크와 3차원으로 복 원된 위 데이터가 정합된 데이터 등 본 발명을 수행하는데 있어 발생하는 각종 결과물을 저장할 수 있다. 기존 의 위 내시경은 검사 후 특정 부분을 다시 확인해 볼 수가 없다는 문제점이 있으나, 저장단계는 캡슐내시경 이 촬영한 영상 및 재구성된 영상을 저장하므로 의사의 개인 능력에 따라 확인하지 못해 놓치는 부분이 존 재할 수 있다는 문제점을 해결할 수 있다. 도 7은 본 발명의 다른 실시예인 3차원 내비게이션 시스템의 구성도를 나타낸다. 도 7을 참조하면, 3차원 내비게이션 시스템은 영상 수신부, 연산부, 탐색부, 및 제어부를 포함할 수 있다. 영상 수신부는 인체 내부에 삽입된 캡슐내시경으로부터 촬영된 영상을 획득할 수 있다. 영상 수신부 는 무선 통신을 통해 캡슐내시경에서 촬영된 영상을 수신할 수 있다. 캡슐내시경은 초당 수 내지 수 십장의 정지 영상 또는 동작 영상을 촬영할 수 있으며, 영상 수신부에 실시간으로 데이터를 송신할 수 있 다. 영상 수신부는 전술한 촬영된 영상을 획득하는 단계(S101)의 동작을 수행할 수 있다. 연산부는 캡슐내시경에서 획득된 영상으로부터 랜드마크를 검출하고, 3차원으로 복원된 위 데이터로부터 상기 캡슐내시경의 위치 및 포즈 정보를 파악할 수 있다. 연산부는 전술한 캡슐내시경의 위치 및 포즈 정 보를 파악하는 단계(S103)의 동작을 수행할 수 있다. 탐색부는 캡슐내시경에서 획득된 영상으로부터 랜드마크를 검출하고, 3차원으로 복원된 위 데이터로부터 상기 캡슐내시경의 위치 및 포즈 정보를 파악할 수 있다. 탐색부는 전술한 캡슐내시경의 이동 경로를 생성 하는 단계의 동작을 수행할 수 있다. 제어부는 탐색부가 생성한 이동 경로를 따라 이동하도록 상기 캡슐내시경을 제어할 수 있다. 제어부 는 전술한 캡슐내시경을 제어하는 단계(S107)의 동작을 수행할 수 있다. 저장부(미도시)는 실시간으로 복원되는 3차원 위 데이터, 검출된 랜드마크 이미지, 랜드마크와 3차원으로 복원 된 위 데이터가 정합된 데이터 등 본 발명을 수행하는데 있어 발생하는 각종 결과물을 저장할 수 있다. 저장부 (미도시)는 전술한 저장단계의 동작을 수행할 수 있다. 이상에서 대표적인 실시예를 통하여 본 발명을 상세하게 설명하였으나, 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자는 상술한 실시예에 대하여 본 발명의 범주에서 벗어나지 않는 한도 내에서 다양한 변형이 가능 함을 이해할 것이다. 그러므로 본 발명의 권리 범위는 설명한 실시예에 국한되어 정해져서는 안 되며, 후술하는 특허청구범위뿐만 아니라 특허청구범위와 균등 개념으로부터 도출되는 모든 변경 또는 변형된 형태에 의하여 정 해져야 한다.도면 도면1 도면2 도면3 도면4 도면5 도면6 도면7"}
{"patent_id": "10-2023-0119607", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 실시예에 따른 캡슐내시경의 3차원 위 내비게이션 방법의 흐름도를 나타낸다. 도 2는 본 발명의 실시예에 따른 캡슐내시경의 3차원 위 내비게이션 방법의 일 실시예를 나타낸다. 도 3은 본 발명의 실시예에 따른 기생성된 3차원 랜드마크 데이터가 3차원으로 복원된 위 데이터에 정합되는 과 정을 나타낸다. 도 4는 본 발명의 실시예에 따른 위 내부 주요 랜드마크 정보를 기반으로 캠슐내시경의 현재 위치를 파악하는 예를 도시한 도면이다. 도 5은 본 발명의 실시예에 따른 처음 랜드마크를 검출한 경우의 경로 탐색 과정을 나타낸다. 도 6는 본 발명의 실시예에 따른 기설정된 랜드마크의 순서를 따라 순차적으로 이동하는 캡슐내시경을 나타낸다. 도 7은 본 발명의 다른 실시예인 3차원 내비게이션 시스템의 구성도를 나타낸다."}
