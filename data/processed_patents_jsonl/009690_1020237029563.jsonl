{"patent_id": "10-2023-7029563", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0152022", "출원번호": "10-2023-7029563", "발명의 명칭": "화상 처리 장치, 화상 처리 방법, 프로젝터 장치", "출원인": "소니그룹주식회사", "발명자": "치바 아츠히로"}}
{"patent_id": "10-2023-7029563", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "입력 화상에 대하여, 근경의 피사체를 캡쳐한 부분인 근경 화상 부분과 상기 근경 화상 부분보다 원경의 피사체를 캡쳐한 부분인 원경 화상 부분을 구분하는 근원(近遠) 구분부와,상기 근경 화상 부분에 대한 보정을 행하는 근경 보정부와,상기 근경 보정부에 의한 상기 근경 화상 부분에 대한 보정에 의해 발생하는 부정합 부분에 대해 보정을 행하는부정합 보정부를 구비하는,화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 근원 구분부는,상기 입력 화상 내의 피사체의 측거 정보에 기초하여 상기 근경 화상 부분과 상기 원경 화상 부분을 구분하는,화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 근원 구분부는,상기 입력 화상 내에 있어서의 피사체간의 거리 차에 기초하여 상기 근경 화상 부분과 상기 원경 화상 부분을구분하는,화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 근원 구분부는,상기 입력 화상에 대한 화상 해석 결과에 기초하여 상기 근경 화상 부분과 상기 원경 화상 부분을 구분하는,화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서,상기 근원 구분부는,상기 입력 화상에 대하여 물체 인식 처리를 행한 결과에 기초하여 상기 근경 화상 부분과 상기 원경 화상 부분을 구분하는,화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5항에 있어서,상기 근원 구분부는,공개특허 10-2023-0152022-3-인공지능에 의한 화상 인식기를 사용하여 상기 물체 인식 처리를 행하는,화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제4항에 있어서,상기 근원 구분부는,템플릿 매칭에 의한 화상 해석을 행하여 상기 근경 화상 부분과 상기 원경 화상 부분을 구분하는,화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제1항에 있어서,상기 근경 보정부는,상기 근경 화상 부분에 대한 보정으로서, 상기 근경 화상 부분의 적어도 일부의 투명화, 또는 축소화를 행하는,화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제1항에 있어서,상기 부정합 보정부는,현 프레임에 있어서의 상기 부정합 부분인 현 부정합 부분에 대한 보정으로서, 과거 프레임의 상기 원경 화상부분에 있어서의 상기 현 부정합 부분과의 중복 부분의 화상을 사용한 보정을 행하는,화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서,상기 부정합 보정부는,입력 화상의 화소마다, 적어도 현 프레임보다 과거의 기간 내에서 마지막으로 원경 화상 부분으로 구분되었을때의 화소값을 보유한 화상인 최후값 보유 화상을 생성하고, 해당 최후값 보유 화상을 사용하여 상기 현 부정합부분의 보정을 행하는,화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제10항에 있어서,상기 부정합 보정부는,입력 화상에 대하여, 원경 화상 부분으로 구분된 화소에 대해서는 해당 화소의 화소값을 보유하고, 근경 화상부분으로 구분된 화소에 대해서는 기존의 보유값을 유지하는 처리를 복수 프레임에 걸쳐 행함으로써 상기 최후값 보유 화상을 생성하는,화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제9항에 있어서,상기 부정합 보정부는,상기 현 부정합 부분 중 상기 중복 부분이 존재하지 않는 부분에 대해서는, 상기 중복 부분의 화상을 사용하여공개특허 10-2023-0152022-4-화소값을 보간하는,화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제1항에 있어서,상기 근원 구분부는,상기 입력 화상에 대한 표시가 행해지는 표시면과 해당 표시면의 표시 화상을 시인하는 사용자와의 거리에 대하여 음의 상관을 갖도록 상기 근경 화상 부분으로서 구분하는 거리 범위의 크기를 변화시키는,화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제1항에 있어서,상기 근원 구분부는,상기 입력 화상의 표시 영역의 크기에 대하여 양의 상관을 갖도록 상기 근경 화상 부분으로서 구분하는 거리 범위의 크기를 변화시키는,화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "입력 화상에 대하여, 근경의 피사체를 캡쳐한 부분인 근경 화상 부분과 상기 근경 화상 부분보다 원경의 피사체를 캡쳐한 부분인 원경 화상 부분을 구분하는 단계와,상기 근경 화상 부분에 대한 보정을 행하는 단계와,상기 근경 화상 부분에 대한 보정에 의해 발생하는 부정합 부분에 대해 보정을 행하는 단계를 포함하는,화상 처리 방법."}
{"patent_id": "10-2023-7029563", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "입력 화상에 대하여, 근경의 피사체를 캡쳐한 부분인 근경 화상 부분과 상기 근경 화상 부분보다 원경의 피사체를 캡쳐한 부분인 원경 화상 부분을 구분하는 근원 구분부와,상기 근경 화상 부분에 대한 보정을 행하는 근경 보정부와,상기 근경 보정부에 의한 상기 근경 화상 부분에 대한 보정에 의해 발생하는 부정합 부분에 대해 보정을 행하는부정합 보정부와,부정합 보정부에 의해 보정된 상기 부정합 부분의 화상에 기초한 재생 상을 생성하고, 상기 재생 상을 투사면에투사하는 투사부를 구비하는,프로젝터 장치."}
{"patent_id": "10-2023-7029563", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 기술에 따른 화상 처리 장치는, 입력 화상에 대하여, 근경의 피사체를 캡쳐한 부분인 근경 화상 부분과 근경 화상 부분보다 원경의 피사체를 캡쳐한 부분인 원경 화상 부분을 구분하는 근원 구분부와, 근경 화상 부분에 대 한 보정을 행하는 근경 보정부와, 근경 보정부에 의한 근경 화상 부분에 대한 보정에 의해 발생하는 부정합 부분 에 대해 보정을 행하는 부정합 보정부를 구비하고 있다."}
{"patent_id": "10-2023-7029563", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 기술은, 화상 처리 장치와 그 방법, 및 화상 처리 장치의 요소를 포함한 프로젝터 장치에 관한 것으로, 특히, 입력 화상을 근경 화상 부분과 원경 화상 부분으로 구분하고, 근경 화상 부분에 대해 보정을 행하는 경우 에 바람직한 화상 처리의 기술에 관한 것이다."}
{"patent_id": "10-2023-7029563", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "예를 들면 스포츠 시합이나 콘서트 등의 이벤트를 원격의 회장에서 즐길 수 있는 퍼블릭 뷰잉(public viewing) 이나 그룹 뷰잉(group viewing)의 수요가 높아지고 있다. 이들 퍼블릭 뷰잉이나 그룹 뷰잉과 같은 뷰잉 스타일에서는, 실제로 이벤트가 행해지고 있는 회장의 모습을 촬상한 촬상 화상을, 원격의 회장에 배치된 표시 장치에 서 표시한다고 하는 것이 행하여진다. 이 때, 이벤트와의 일체감을 높이기 위해, 원격 회장에서의 표시는 대화 면에서 행하는 것이 요구된다. 또한, 관련되는 종래 기술에 대해서는 하기 특허문헌 1을 들 수 있다. 특허문헌 1에는, 전경(前景)과 배경 화 상의 화질 차이에 따라, 전경 및 배경 화상 중 적어도 일방의 화질을 적응적으로 보정하는 보정부와, 보정후의 전경 및 배경 화상을 합성하여 합성 화상을 생성하는 합성부를 구비하는 화상 처리 장치에 관한 기술이 개시되 어 있다. 선행기술문헌 특허문헌 (특허문헌 0001) 특허문헌 1: 일본특허공개 2020-27409호 공보"}
{"patent_id": "10-2023-7029563", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "여기서, 원격 회장에 있어서, 이벤트의 촬상 화상으로서 예를 들면 관객석으로부터의 촬상 화상을 대화면에 표 시한 경우에는, 카메라에 가까운 관객이 화면상에서 클로즈업된다. 예를 들면, 화면 사이즈에 따라 다르지만, 카메라에 가까운 관객은 실제 크기보다 거대하게 표시되는 경우가 있고, 이에 의해 사용자에게 강한 위화감을 주어, 몰입감을 크게 손상시킬 우려가 있다. 본 기술은 상기 사정을 감안하여 이루어진 것이며, 근경의 피사체의 표시에 관한 사용자의 위화감 완화를 도모 하고, 화상 컨텐츠에 대한 사용자의 몰입감 향상을 도모하는 것을 목적으로 한다."}
{"patent_id": "10-2023-7029563", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 기술에 따른 화상 처리 장치는, 입력 화상에 대하여, 근경의 피사체를 캡쳐한 부분인 근경 화상 부분과 상기 근경 화상 부분보다 원경의 피사체를 캡쳐한 부분인 원경 화상 부분을 구분하는 근원(近遠) 구분부와, 상기 근 경 화상 부분에 대한 보정을 행하는 근경 보정부와, 상기 근경 보정부에 의한 상기 근경 화상 부분에 대한 보정 에 의해 발생하는 부정합 부분에 대해 보정을 행하는 부정합 보정부를 구비하는 것이다. 여기서, 부정합 부분이란, 예를 들면 피사체의 형태나 크기, 색감 등과 같은 시각적인 요소에 대해 부정합이 발 생하고 있는 부분을 의미한다. 예를 들면, 근경 보정으로서 근경 화상 부분을 모두 투명화하는 보정을 행한 경 우에는, 입력 화상 내에서 근경 화상 부분이 무화상 부분이 되기 때문에, 근경 화상 부분 전체가 부정합 부분이 된다. 상기 구성에 의하면, 근경 보정부의 보정에 의해, 근경에서 클로즈업되는 피사체를 눈에 띄기 어렵게 하 는 보정이 가능해짐과 함께, 상기의 부정합 보정부에 의해, 근경 보정부의 보정에 의해 발생하는 부정합 부분이 보정되어, 해당 부정합 부분에 의한 사용자의 위화감 완화를 도모하는 것이 가능하게 된다. 상기 본 기술에 따른 화상 처리 장치에 있어서는, 상기 근원 구분부는, 상기 입력 화상 내의 피사체의 측거 정 보에 기초하여 상기 근경 화상 부분과 상기 원경 화상 부분을 구분하는 구성으로 하는 것이 가능하다. 피사체의 측거 정보를 사용함으로써, 근경 화상 부분 또는 원경 화상 부분을 적절하게 식별 가능하게 된다. 상기 본 기술에 따른 화상 처리 장치에 있어서는, 상기 근원 구분부는, 상기 입력 화상 내에 있어서의 피사체간 의 거리 차에 기초하여 상기 근경 화상 부분과 상기 원경 화상 부분을 구분하는 구성으로 하는 것이 가능하다. 거리 차에 기초한 구분으로 함으로써, 원경에 있어서의 특정 부분과의 거리 차가 큰 부분, 예를 들면 경기장의 필드에 겹치는 손 부분 등, 사용자가 위화감을 느끼기 쉬운 부분을 근경 화상 부분으로서 특정하는 것이 가능하 게 된다. 상기 본 기술에 따른 화상 처리 장치에 있어서는, 상기 근원 구분부는, 상기 입력 화상에 대한 화상 해석 결과 에 기초하여 상기 근경 화상 부분과 상기 원경 화상 부분을 구분하는 구성으로 하는 것이 가능하다. 이에 의해, 근경 화상 부분, 원경 화상 부분의 구분에 있어서 측거 센서를 사용할 필요가 없어진다. 상기 본 기술에 따른 화상 처리 장치에 있어서는, 상기 근원 구분부는, 상기 입력 화상에 대하여 물체 인식 처 리를 행한 결과에 기초하여 상기 근경 화상 부분과 상기 원경 화상 부분을 구분하는 구성으로 하는 것이 가능하 다. 이에 의해, 근경 또는 원경에 있어야 할 물체가 화상 내의 어느 부분에 존재하고 있는지를 적절하게 인식하는 것이 가능하게 된다. 상기 본 기술에 따른 화상 처리 장치에 있어서는, 상기 근원 구분부는, 인공지능에 의한 화상 인식기를 사용하 여 상기 물체 인식 처리를 행하는 구성으로 하는 것이 가능하다. 인공지능에 의한 화상 인식기를 사용하면, 학습의 방법에 의해, 인식가능한 물체의 종류나 인식의 정밀도 등과 같은 물체 인식의 요소를 적절하게 설정하는 것이 가능하게 된다. 상기 본 기술에 따른 화상 처리 장치에 있어서는, 상기 근원 구분부는, 템플릿 매칭에 의한 화상 해석을 행하여 상기 근경 화상 부분과 상기 원경 화상 부분을 구분하는 구성으로 하는 것이 가능하다. 이에 의해, 근경 화상 부분, 원경 화상 부분의 구분에 있어서 인공지능의 학습을 행할 필요가 없어진다. 상기 본 기술에 따른 화상 처리 장치에 있어서는, 상기 근경 보정부는, 상기 근경 화상 부분에 대한 보정으로서, 상기 근경 화상 부분의 적어도 일부의 투명화, 또는 축소화를 행하는 구성으로 하는 것이 가능하다. 상기와 같은 투명화나 축소화를 행함으로써, 근경의 피사체를 눈에 띄기 어렵게 하는 것이 가능하게 된다. 상기 본 기술에 따른 화상 처리 장치에 있어서는, 상기 부정합 보정부는, 현 프레임에 있어서의 상기 부정합 부 분인 현 부정합 부분에 대한 보정으로서, 과거 프레임의 상기 원경 화상 부분에 있어서의 상기 현 부정합 부분 과의 중복 부분의 화상을 사용한 보정을 행하는 구성으로 하는 것이 가능하다. 예를 들면, 근경의 피사체가 관객석에서의 관객인 경우 등에는, 피사체는 움직일 가능성이 있고, 현 프레임에 있어서는 현 부정합 부분으로 보이지 않는 원경 부분이, 과거 프레임에 있어서는 상기 중복 부분으로서 보이고 있을 가능성이 있다. 상기 구성에 의하면, 과거 프레임의 원경 화상 부분에서, 이러한 현 부정합 부분과의 중 복 부분이 존재하고 있었던 경우에는, 해당 중복 부분의 화상을 사용하여 현 부정합 부분에 대한 보정이 행해진 다. 상기 본 기술에 따른 화상 처리 장치에 있어서는, 상기 부정합 보정부는, 입력 화상의 화소마다, 적어도 현 프 레임보다 과거의 기간 내에서 마지막으로 원경 화상 부분으로 구분되었을 때의 화소값을 보유한 화상인 최후값 보유 화상을 생성하고, 해당 최후값 보유 화상을 사용하여 상기 현 부정합 부분의 보정을 행하는 구성으로 하는 것이 가능하다. 이에 의해, 과거의 원경 화상 부분에 현 부정합 부분과의 중복 부분이 존재하고 있었던 경우는, 해당 중복 부분 의 화소에 대해, 마지막으로 원경 화상 부분으로서 구분되었을 때의 화소값이 현 부정합 부분의 보정에 사용된 다. 상기 본 기술에 따른 화상 처리 장치에 있어서는, 상기 부정합 보정부는, 입력 화상에 대하여, 원경 화상 부분 으로 구분된 화소에 대해서는 해당 화소의 화소값을 보유하고, 근경 화상 부분으로 구분된 화소에 대해서는 기 존의 보유값을 유지하는 처리를 복수 프레임에 걸쳐 행함으로써 상기 최후값 보유 화상을 생성하는 구성으로 하 는 것이 가능하다. 이에 의해, 최후값 보유 화상을 적절하게 생성하는 것이 가능하게 된다. 상기 본 기술에 따른 화상 처리 장치에 있어서는, 상기 부정합 보정부는, 상기 현 부정합 부분 중, 상기 중복 부분이 존재하지 않는 부분에 대해서는, 상기 중복 부분의 화상을 사용하여 화소값을 보간하는 구성으로 하는 것이 가능하다. 이에 의해, 현 부정합 부분에 대한 중복 부분이 일부만이더라도, 중복 부분의 화상을 사용하여 중복 부분 이외 의 화소를 적절하게 보간하는 것이 가능하게 된다. 상기 본 기술에 따른 화상 처리 장치에 있어서는, 상기 근원 구분부는, 상기 입력 화상에 대한 표시가 행해지는 표시면과 해당 표시면의 표시 화상을 시인하는 사용자와의 거리에 대해 음의 상관을 갖도록 상기 근경 화상 부 분으로서 구분하는 거리 범위의 크기를 변화시키는 구성으로 하는 것이 가능하다.표시면과 사용자의 거리가 가까운 경우는, 사용자에게는 화상 내의 피사체가 보다 크게 보이기 때문에, 사용자 가 위화감을 갖는 근경의 거리 범위도 넓어진다. 이에, 상기와 같이 근경 화상 부분으로서 구분하는 거리 범위 의 크기를, 표시면과 사용자의 거리에 대해 음의 상관을 갖도록 변화시키는, 바꾸어 말하면, 거리가 짧으면 근 경 화상 부분으로서 구분하는 거리 범위를 크게 한다. 상기 본 기술에 따른 화상 처리 장치에 있어서는, 상기 근원 구분부는, 상기 입력 화상의 표시 영역의 크기에 대하여 양의 상관을 갖도록 상기 근경 화상 부분으로서 구분하는 거리 범위의 크기를 변화시키는 구성으로 하는 것이 가능하다. 입력 화상을 표시하는 표시 영역이 큰 경우, 사용자에게는 화상 내의 피사체가 보다 크게 보이기 때문에, 사용 자가 위화감을 갖는 근경의 거리 범위도 넓어진다. 이에, 상기와 같이 근경 화상 부분으로서 구분하는 거리 범 위의 크기를, 표시 영역의 크기에 대하여 양의 상관을 갖도록 변화시키는, 바꾸어 말하면, 표시 영역이 크면 근 경 화상 부분으로서 구분하는 거리 범위도 크게 한다. 본 기술에 따른 화상 처리 방법은, 입력 화상에 대하여, 근경의 피사체를 캡쳐한 부분인 근경 화상 부분과 상기 근경 화상 부분보다 원경의 피사체를 캡쳐한 부분인 원경 화상 부분을 구분하고, 상기 근경 화상 부분에 대한 보정을 행하고, 상기 근경 화상 부분에 대한 보정에 의해 발생하는 부정합 부분에 대해 보정을 행하는 화상 처 리 방법이다. 이러한 화상 처리 방법에 의해서도, 상기 본 기술에 따른 화상 처리 장치와 동일한 작용이 얻어진다. 본 기술에 따른 프로젝터 장치는, 입력 화상에 대하여, 근경의 피사체를 캡쳐한 부분인 근경 화상 부분과 상기 근경 화상 부분보다 원경의 피사체를 캡쳐한 부분인 원경 화상 부분을 구분하는 근원 구분부와, 상기 근경 화상 부분에 대한 보정을 행하는 근경 보정부와, 상기 근경 보정부에 의한 상기 근경 화상 부분에 대한 보정에 의해 발생하는 부정합 부분에 대해 보정을 행하는 부정합 보정부와, 부정합 보정부에 의해 보정된 상기 부정합 부분 의 화상에 기초한 재생 상(像)을 생성하고, 상기 재생 상을 투사면에 투사하는 투사부를 구비하는 것이다. 이러한 프로젝터 장치에 의해서도, 상기 본 기술에 따른 화상 처리 장치와 동일한 작용이 얻어진다."}
{"patent_id": "10-2023-7029563", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 실시형태를 다음 순서로 설명한다. <1. 제1 실시형태> (1-1. 시스템 구성) (1-2. 실시형태로서의 화상 처리 장치) (1-3. 실시형태로서의 화상 보정) (1-4. 처리 순서) (1-5. 근원 구분에 관한 변형예) <2. 제2 실시형태> <3. 제3 실시형태> (3-1. 제1 예) (3-2. 제2 예) <4. 변형예> <5. 실시형태의 정리> <6. 본 기술> <1. 제1 실시형태> (1-1. 시스템 구성) 도 1은, 본 기술에 따른 실시형태로서의 화상 표시 시스템의 구성예를 나타내고 있다. 화상 표시 시스템은, 본 예에서는 전술한 퍼블릭 뷰잉이나 그룹 뷰잉에 적용되는 시스템이 된다. 이들 퍼 블릭 뷰잉이나 그룹 뷰잉에 의한 뷰잉 스타일에서는, 예를 들면 축구나 야구, 농구 등과 같은 경기 스포츠나 콘 서트 등의 이벤트 모습을 촬상한 촬상 화상을 원격의 회장에서 관객으로서의 사용자에게 표시한다. 도면 중의 「촬상 환경」은, 이벤트의 모습을 촬상하는 환경으로서, 도시한 바와 같이 촬상 장치가 배치되어 있다. 촬상 장치, 예를 들면 CCD(Charge Coupled Devices) 센서나 CMOS(Complementary Metal-Oxide- Semiconductor) 센서 등에 의한 고체 촬상 소자를 가진 디지털카메라 장치로서 구성되고, 디지털 데이터로서의 촬상 화상을 얻는다. 본 예에서는, 촬상 장치는 동영상으로서의 촬상 화상을 얻는다. 한편, 촬상 장치의 수는 하나로 한정되지 않고, 복수 배치되는 경우도 있다. 또한, 「표시 환경」은, 촬상 환경에서 얻어진 이벤트의 촬상 화상을 표시하는 환경으로서, 예를 들면 경기장이 나 콘서트홀 등과 같은 이벤트가 개최되는 회장으로부터는 원격의 지역에 존재한다. 표시 환경에는, 촬상 화상 을 표시하기 위한 장치가 배치된다. 구체적으로, 본 예에서는, 해당 표시를 위한 장치로서 프로젝터 장치가 배치되어 있고, 표시 환경에서의 사용자(즉, 원격 회장에서의 관객)는, 프로젝터 장치가 스크린 등의 표면으 로 된 투사면(S)에 투사한 화상에 의해, 원격에 있는 이벤트 회장의 모습을 시인(view) 가능하게 된다. 본 예에 있어서, 촬상 환경에는, 촬상 장치에 의한 촬상 화상을 네트워크 경유로 외부 장치(특히 본 예에 서는 프로젝터 장치)에 송신하기 위한 정보 처리 장치가 배치되어 있다. 여기서, 네트워크는, 예를 들면 인터넷이나 LAN(Local Area Network) 등의 통신 네트워크이다. 정보 처리 장치는, 예를 들면 컴퓨터 등의 통신 기능을 가진 컴퓨터 장치로 구성되어 있다.후술하는 바와 같이, 본 예의 화상 표시 시스템에서는, 프로젝터 장치에 있어서, 촬상 장치에 의한 촬상 화상에 대해 근경 화상 부분과 원경 화상 부분을 구분하는 것이 행해진다. 여기서, 근경 화상 부분은, 입 력 화상에 있어서 근경의 피사체를 캡쳐한 부분이며, 원경 화상 부분은, 근경 화상 부분보다 원경의 피사체를 캡쳐한 부분이다. 이러한 근경 화상 부분과 원경 화상 부분의 구분을 가능하게 하기 위해, 본 예의 촬상 환경에서는 측거 장치 가 설치되어 있다. 측거 장치는, 예를 들면 ToF(Time of Flight) 방식이나 스트럭쳐드 광(structured light) 방식, 또는 스테레오 법 등의 공지의 측거 수법에 의해 측거를 행하는 장치로서 구성되어 있고, 본 예에 서는, 2차원의 측거 데이터로서의 거리 화상 데이터(뎁스 화상 데이터)를 취득하도록 구성되어 있다. 본 예에서는, 측거 장치에 의한 측거의 시야(화각)는, 촬상 장치의 시야를 커버하도록 되어 있고, 측거 장치는, 촬상 장치의 시야 내에 존재하는 각 피사체에 대하여, 측거를 행하는 것이 가능하게 되어 있다. 본 예에 있어서, 촬상 장치, 측거 장치는, 각각 촬상 화상, 거리 화상에 대해 프레임 단위로 타임 코드를 부여하고 있고, 양 화상 사이에서 시각 동기(프레임 동기)를 취하는 것이 가능하게 되어 있다. 정보 처리 장치는, 이와 같이 타임 코드가 부여된 촬상 화상, 거리 화상을 각각 촬상 장치, 측거 장치 로부터 취득하고, 네트워크를 통해 프로젝터 장치에 송신한다. 또한, 정보 처리 장치의 기능, 구체적으로는, 촬상 장치에 의한 촬상 화상 및 측거 장치에 의한 측거 데이터(거리 화상)를 취득하여 소정의 외부 장치(본 예에서는 프로젝터 장치)에 송신하는 기능은, 단일의 컴 퓨터 장치뿐만 아니라 복수의 컴퓨터 장치의 협업에 의해 실현하는 것도 생각할 수 있다. (1-2. 실시형태로서의 화상 처리 장치) 도 2는, 실시형태로서의 화상 처리 장치를 갖고 구성되는 프로젝터 장치의 내부 구성예를 설명하기 위한 블 록도이다. 한편, 도 2에서는 프로젝터 장치의 내부 구성예와 함께 도 1에 나타낸 투사면(S)를 함께 나타내 고 있다. 도시한 바와 같이 프로젝터 장치는, 화상 처리부, 통신부, 투사부, 및 제어부를 구비하고 있다. 통신부는, 도 1에 나타낸 네트워크를 통한 통신 처리를 행한다. 한편, 통신부는, 주변 기기와의 사 이에서 유선 또는 무선에 의한 통신이 가능하도록 구성되어도 된다. 화상 처리부는, 본 기술에 따른 화상 처리 장치의 일 실시형태이며, 통신부를 통해 입력되는 화상(입력 화상: 구체적으로 본 예에서는 촬상 장치에 의한 촬상 화상)에 대해, 상술한 근경 화상 부분과 원경 화상 부 분의 구분이나, 근경 화상 부분에 대한 보정(화상 보정), 및 근경 화상 부분에 대한 보정에 의해 생기는 부정합 부분에 대해 보정을 행한다. 한편, 이들 근경 화상 부분과 원경 화상 부분의 구분이나, 근경 화상 부분, 부정 합 부분에 대한 보정에 대해서는 뒤에 다시 설명한다. 투사부는, 화상 처리부에 의해 상기의 보정 등의 화상 처리가 실시된 촬상 화상의 재생 상을 투사면 (S)에 투사한다. 구체적으로, 투사부는, 예를 들면 액정 패널 등에 의한 공간 광 변조기(12a)와, 도시하지 않은 광원과, 투사 렌즈 등을 포함하는 투사 광학계를 갖고 있고, 공간 광 변조기(12a)가, 화상 처리부로부 터 입력된 촬상 화상에 기초하여 상기 광원으로부터의 입사광에 공간 광 강도 변조 등의 공간 광 변조를 실시함 으로써, 촬상 화상에 대한 재생 상을 생성한다. 그리고, 이와 같이 생성된 재생 상을 투사 광학계를 통해 투사 면(S)에 투사한다. 제어부는, 예를 들면 CPU(Central Processing Unit), ROM(Read Only Memory), RAM(Random Access Memory) 등을 갖는 마이크로 컴퓨터를 구비하여 구성되고, 예를 들면 ROM에 저장된 프로그램을 따른 처리를 실행함으로 써, 프로젝터 장치의 전체 제어를 행한다. 예를 들면, 제어부는, 통신부에 의한 데이터 통신에 대한 제어나, 화상 처리부에 대한 화상 처리의 실행 지시나 종료 지시, 투사부에 대한 각종 제어(예를 들면 상기 광원의 ON/OFF 지시나 투사 상에 대한 각 종 왜곡 보정을 위한 제어 등) 등을 행한다. (1-3. 실시형태로서의 화상 보정) 도 3A는, 투사면(S)에 투사된 화상, 즉, 투사면(S)에 있어서의 표시 화상의 예를 나타내고 있다. 구체적으로는, 축구 시합으로서의 이벤트의 모습을 관객석에 배치된 촬상 장치에 의해 촬상한 경우의 표시 화상을 예시하고 있다. 이 경우의 촬상 화상은, 도시한 바와 같이 앞쪽(촬상 장치에 가까운 측)에 이벤트 회장에서의 관객을 캡쳐하 고, 그 안쪽에 경기장이나 경기장 내의 선수 등이 캡쳐된 화상으로 된다. 이 때, 촬상 화상 내의 근경에 캡쳐된 피사체, 특히, 가장 앞쪽의 열에 위치하는 피사체는, 촬상 장치가 가 장 가까운 피사체가 되어, 촬상 장치와의 위치 관계에 따라서는 촬상 화상(표시 화상) 내에서 거대하게 비춰 지게 된다. 현장감을 높이는데 있어서는, 관객 표시를 행하는 것은 유효하지만, 전술한 바와 같이, 피사체가 거대하게 비춰 지면 오히려 사용자에게 위화감을 주게 되어, 화상 컨텐츠에 대한 몰입감을 저하시킬 우려가 있다. 이에, 본 실시형태에서는, 도 3A로부터 도 3B의 천이로서 나타낸 바와 같이, 거대하게 표시될 우려가 있는 근경 의 피사체를 눈에 띄기 어렵게 하기 위한 보정(근경 보정)을 실시한다. 예를 들면, 근경의 피사체에 대해 투명 화나 축소화의 처리를 실시한다. 그러나, 이들 투명화나 축소화 등의 보정 처리를 실시한 경우에는, 화상 내에서 해당 보정에 따른 부정합 부분 이 생긴다. 여기서 말하는 부정합 부분이란, 예를 들면 피사체의 형태나 크기, 색감 등과 같은 시각적인 요소에 대해 부정 합이 생기고 있는 부분을 의미한다. 예를 들면, 근경 보정으로서 근경 화상 부분을 모두 투명화하는 보정을 행 한 경우에는, 촬상 화상 내에서 근경 화상 부분이 무화상 부분이 되기 때문에, 근경 화상 부분 전체가 부정합 부분으로 되어버린다. 또는, 근경 보정으로서 근경의 피사체를 축소화한 경우에는, 축소화 전의 피사체와 축소 화 후의 피사체의 차분 부분이 무화상 부분이 되고, 해당 무화상 부분이 부정합 부분이 된다. 이에, 본 실시형태에서는, 상기의 근경 보정을 행함과 함께, 근경 보정에 의해 발생하는 부정합 부분에 대한 보 정을 행한다. 프로젝터 장치에서는, 이들 근경에 대한 보정 처리나 부정합 부분에 대한 보정 처리를 화상 처리부에서 행한다. 도 4는, 화상 처리부의 기능 구성을 나타낸 기능 블록도이다. 도시한 바와 같이 화상 처리부는, 근원 구분부와, 근경 보정부와, 부정합 보정부와, 합성부 를 구비하고 있다. 근원 구분부에는, 도 2에 나타낸 통신부를 통해, 촬상 장치로부터의 촬상 화상과 측거 장치로부 터의 측거 데이터(본 예에서는 거리 화상의 데이터)가 입력된다. 전술한 바와 같이, 이들 촬상 화상과 거리 화 상에는 타임 코드가 부여되어 있고, 근원 구분부는 이들 촬상 화상과 거리 화상에 대해 프레임 동기를 취하 는 것이 가능하게 되어 있다. 근원 구분부는, 상기 촬상 화상으로서의 입력 화상에 대해, 근경 화상 부분과 원경 화상 부분을 구분한다. 구체적으로, 본 예에 있어서의 근원 구분부는, 측거 데이터로서 입력되는 거리 화상의 데이터에 기초하여, 촬상 화상 내에서, 거리 값이 소정값 이하로 되어 있는 부분을 근경 화상 부분으로 하고, 그 이외의 부분을 원 경 화상 부분으로서 구분한다. 근원 구분부는, 입력된 촬상 화상 내에서, 근경 화상 부분으로서 구분한 부분의 화상을 근경 화상으로서 출 력하고, 또한 원경 화상 부분으로서 구분한 부분의 화상을 원경 화상으로서 출력한다. 한편, 상기에서는 근원 구분으로서, 근경 화상 부분을 정한 후에, 근경 화상 부분 이외의 부분을 원경 화상 부 분으로 하는 예를 들었으나, 반대로, 원경 화상 부분을 정한 후에, 원경 화상 부분 이외의 부분을 근경 화상 부 분으로 하는 것도 가능하다. 또한, 상기에서는, 근원 구분을 측거 데이터에 기초하여 행하는 예를 나타내고 있지만, 근원 구분에 측거 데이 터를 사용하는 것은 필수는 아니다. 이 점에 대해서는 뒤에 다시 설명한다. 근경 보정부는, 근원 구분부가 출력하는 근경 화상에 대하여, 피사체를 눈에 띄기 어렵게 하기 위한 보 정을 실시한다. 상술한 바와 같이 근경 보정에 대해서는, 투명화, 축소화를 생각할 수 있다. 도면 중에서는, 투명화를 실시하는 기능을 투명화 처리부(16a), 축소화를 실시하는 기능을 축소화 처리부(16b)로서 나타내고 있다. 한편, 이하에서는 설명상의 일례로서, 근경의 피사체를 눈에 띄기 어렵게 하기 위한 처리는 투명화 처리인 것으 로 한다. 여기서는, 투명화는, 대상으로 하는 화상 부분의 투명도를 최대로 하는(즉, 완전히 지우는) 처리인 예로 하지만, 투명도의 설정은 임의이다. 한편, 축소화를 행하는 경우의 처리에 대해서는 뒤에 다시 설명한다. 근경 보정부는, 보정에 의해 발생하는 부정합 부분의 화상을 「부정합 부분 화상」으로서 부정합 보정부 에 출력한다. 여기서의 부정합 부분 화상은, 근경 보정으로서 상기와 같은 투명화 처리가 행해지기 때문에, 투명화 처리가 실시된 근경 화상이 된다. 부정합 보정부는, 근경 보정부에 의한 근경 화상 부분에 대한 보정에 의해 발생하는 부정합 부분에 대 해 보정을 행한다. 본 예에 있어서, 부정합 보정부는, 근원 구분부가 출력하는 원경 화상에 기초하여, 근경 보정부가 출력하는 부정합 부분 화상(즉, 본 예에서는 투명화된 근경 화상)에 대한 보정을 행한다. 도 5는, 부정합 보정부가 갖는 기능에 대한 설명도로서, 부정합 보정부의 기능 구성을 나타낸 기능 블 록과 함께, 근경 보정부를 함께 나타내고 있다. 도시한 바와 같이 부정합 보정부는, 최후값 보유 화상 생성부(17a), 부정합 화소 보정부(17b), 및 블러링 처리부(17c)를 구비하고 있다. 여기서, 부정합 보정부는, 동영상으로서의 입력 화상(촬상 화상)에 대해, 프레임마다 부정합 부분의 보정을 행한다. 여기서, 이하, 근경 화상의 보정, 및 근경 화상의 보정에 따라 생기는 부정합 부분의 보정 처리 대상으로 되고 있는 프레임을 「현 프레임」이라 표기한다. 또한, 현 프레임에 있어서의 부정합 부분을 「현 부정합 부분」이 라 표기한다. 본 예에 있어서의 부정합 보정부는, 현 부정합 부분에 대한 보정으로서, 과거 프레임의 원경 화상에 있어서 의 현 부정합 부분과의 중복 부분의 화상을 사용한 보정을 행한다. 예를 들면, 근경의 피사체가 관객석에서의 관객인 경우 등에는, 피사체는 움직일 가능성이 있고, 현 프레임에서 는 현 부정합 부분으로 보이지 않는 원경 부분이, 과거 프레임에 있어서는 상기 중복 부분으로서 보이고 있을 가능성이 있다. 이에, 과거 프레임에서의 상기 중복 부분의 화상(즉, 과거에 있어서 실제로 보이고 있던 부분 의 화상)을 이용하여, 부정합 부분의 보정 정밀도를 높이도록 한다. 본 예에서는, 상기와 같이 과거의 원경 화상에 있어서의 현 부정합 부분과의 중복 부분의 화상을 보유해 두기 위해, 최후값 보유 화상 생성부(17a)에 의해, 최후값 보유 화상(last value holding image)을 생성한다. 최후 값 보유 화상이란, 적어도 현 프레임보다 과거의 기간 내에서 마지막으로 원경 화상 부분으로 구분되었을 때의 화소값을 보유한 화상이다. 도 6 내지 도 8을 참조하여, 이러한 최후값 보유 화상을 사용하여 행해지는 부정합 부분 보정의 수법예에 대해 서 설명한다. 도 6은, 현 프레임과 과거 프레임의 화상 내용을 예시한 도면이다. 도 6A는 현 프레임(N 프레임이라 함)의 화 상 내용을, 도 6B는 현 프레임으로부터 x 프레임 전의 프레임인 N-x 프레임의 화상 내용을, 도 6C는 현 프레임 으로부터 y프레임 전(단, y>x임)의 프레임인 N-y프레임의 화상 내용을 각각 예시하고 있다. 이들 도 6A 내지 도 6C의 각 도면에 있어서, 흑색으로 칠해진 부분이 각각의 프레임에 있어서 근경 화상으로서 구분된 부분을 나타낸다. 도 6B, 도 6C에 있어서, 원으로 나타내는 부분이, 현 프레임에서는 근경 화상의 피사체에 가려 보이지 않는 원 경 화상의 부분이다. 바꾸어 말하면, 과거 프레임의 원경 화상에 있어서의, 현 부정합 부분과의 중복 부분이다. 이러한 과거 프레임의 원경 화상에 있어서의 현 부정합 부분과의 중복 부분을 이용함으로써, 현 프레임에서는 현 부정합 부분(즉, 여기서는 근경 화상의 전체)에 의해 가려져 보이지 않는 원경 부분을 보충할 수 있다.도 7A에서는, 도 6에서 예시한 현 프레임 및 과거 프레임이 얻어진 경우에 있어서, 현 부정합 부분 중 과거 프 레임(도 6B 및 도 6C)에 있어서의 원경 화상에 의해 보충하는 것이 가능한(즉, 보전 가능한) 부분을 점선으로 나타내고 있다. 한편, 도 7B에 있어서, 실선으로 둘러싼 백색 부분(도 7A에 있어서 흑색으로 나타내는 부분과 같음)은, 도 6B 및 도 6C의 과거의 원경 화상으로는 보충할 수 없는 부분을 나타내고 있다. 본 예에 있어서, 이와 같이 과거의 원경 화상으로 보충할 수 없는 부분, 즉, 현 부정합 부분 중 상술한 중복 부 분이 존재하지 않는 부분에 대해서는, 중복 부분의 화상을 사용하여, 화소값을 보간한다. 구체적인 보간의 예로서는, 예를 들면, 인접하는 화소의 화소값을 복사하는 수법을 들 수 있다. 예를 들면, 좌 측 또는 우측에 인접하는 화소의 화소값을 복사한다. 한편, 보간의 수법에 대해서는 특히 한정되지 않는다. 예를 들면, 보간 대상으로 하는 화소의 종횡으로 인접하 는 4개의 화소, 또는, 종횡 경사로 인접하는 8개의 화소의 화소값을 이용하여, 보간 대상으로 하는 화소의 화소 값을 보간하는 등의 수법을 들 수 있다. 도 8은, 상기와 같은 부정합 부분의 보정 처리, 즉 과거의 원경 화상에 있어서의 현 부정합 부분과의 중복 부분 을 사용한 화소 보충, 및 해당 중복 부분으로는 보충할 수 없었던 부분에 대한 보간 처리를 실시하여 얻어지는 현 부정합 부분의 화상 내용의 예를 나타내고 있다. 도면 중, 점선으로 나타내는 부분이 보정 처리후의 현 부 정합 부분(본 예에서는 근경 화상의 전역을 투명화하기 때문에 근경 화상과 같은 형상 및 크기가 됨)을 나타낸 다. 그 이외의 부분은, 현 프레임의 원경 화상이 된다. 한편, 도 8에서는, 보정 처리후의 현 부정합 부분의 화상 내용으로서, 상술한 보간 처리에서 좌측에 인접하는 화소의 화소값을 복사하는 처리를 행한 경우의 화상 내용을 예시하고 있다. 도 8을 참조하여 알 수 있는 바와 같이, 상기 부정합 부분의 보정 처리를 실행함으로써, 근경 보정에 수반하여 부정합으로 된 부분이 눈에 띄기 어려워지도록 할 수 있고, 부정합 부분에 기인한 사용자의 위화감 완화, 즉, 근경 보정에 기인한 사용자의 위화감 완화를 도모할 수 있다. 도 9는, 최후값 보유 화상 생성부(17a)의 내부 구성예를 나타낸 블록도이다. 도시한 바와 같이 최후값 보유 화상 생성부(17a)는, 프레임 메모리, 기입 제어부, 및 판독 제어부 를 구비하고 있다. 기입 제어부에는, 원경 화상이 매 프레임 입력된다. 기입 제어부는, 프레임마다 다음 처리를 행한다. 즉, 1 프레임을 구성하는 각 화소 중, 원경 화상으로 구분된 화소에 대해서는, 프레임 메모리에서 해당 화 소의 화소값을 보유시키고, 근경 화상으로 구분된 화소(원경 화상 이외의 화상 부분)에 대해서는, 프레임 메모 리에서 기존의 보유값(즉, 이미 보유되어 있는 화소값)을 유지하는 처리를 행한다. 구체적으로는, 원경 화 상으로 구분된 화소에 대해서는, 프레임 메모리에서의 해당하는 화소의 화소값을, 해당 원경 화상으로 구분 된 화소의 화소값으로 덮어쓰기하고, 근경 화상으로 구분된 화소에 대해서는, 프레임 메모리에서의 해당하 는 화소의 화소값을 덮어쓰지 않고 그대로의 값으로 유지시킨다. 이러한 기입 제어가 복수 프레임에 걸쳐 행해짐으로써, 프레임 메모리에는, 최후값 보유 화상이 보유된다. 판독 제어부는, 프레임 메모리에 보유된 최후값 보유 화상을 매 프레임 판독하여 도 5에 나타낸 부정합 화소 보정부(17b)에 출력한다. 도 5에 있어서, 부정합 화소 보정부(17b)는, 근경 보정부로부터 입력되는 부정합 부분 화상과, 최후값 보유 화상 생성부(17a)로부터 입력되는 최후값 보유 화상과, 근원 구분부(도 4)가 출력하는 현 프레임의 원경 화 상에 기초하여, 도 6 내지 도 8을 참조하여 설명한 수법에 의해 부정합 부분의 보정 처리, 즉, 과거의 원경 화 상에 있어서의 현 부정합 부분과의 중복 부분을 사용한 화소 보충, 및 해당 중복 부분으로는 보충할 수 없었던 부분에 대한 보간 처리를 행한다. 부정합 화소 보정부(17b)는, 이 보간 처리에 있어서, 필요에 따라, 근원 구 분부로부터의 원경 화상을 사용한다. 여기서, 이하, 부정합 화소 보정부(17b)에서의 보정 처리가 실시된 부정합 부분(현 부정합 부분)의 화상을 「보 정후 부정합 부분 화상」이라 표기한다. 블러링 처리부(17c)는, 부정합 화소 보정부(17b)로부터 입력된 보정후 부정합 부분 화상에 대하여 블러링 처리 를 실시한다. 블러링 처리는, 대상 화상에 대하여 시각적인 블러링을 부여하는 처리이다. 구체적으로는, 에지 의 블러링(형상의 블러링)이나, 색감의 블러링 등을 들 수 있다. 이 블러링 처리를 실시함으로써, 근경 보정에 수반하여 부정합으로 된 부분을 보다 눈에 띄기 어렵게 할 수 있어, 한층 더 위화감의 완화를 도모할 수 있다. 블러링 처리부(17c)는, 블러링 처리를 실시한 보정후 부정합 부분 화상을 근경 보정부에 출력한다. 근경 보정부는, 근경 화상 중, 부정합 부분에 해당하는 부분의 화상을 보정후 부정합 부분 화상으로 치환한 다. 이와 같이 부정합 부분에 해당하는 부분의 화상을 보정후 부정합 부분 화상으로 치환하여 얻어지는 근경 화상을, 이하 「보정 완료 근경 화상」이라 표기한다. 본 예와 같이 근경 보정으로서 근경 화상의 전체를 투명화하는 처리를 행한 경우, 부정합 부분은 근경 화상과 같은 부분이 되기 때문에, 보정 완료 근경 화상은, 보정후 부정합 부분 화상 그 자체가 된다. 도 4에 있어서, 합성부는, 근경 보정부에서 얻어지는 보정 완료 근경 화상과, 근원 구분부로부터 입력되는 원경 화상을 합성한다. 즉, 양 화상을 합성하여 1 프레임 분의 화상을 얻는다. 이와 같이 합성부 의 합성 처리로 얻어진 1 프레임 분의 화상에 기초하여, 도 2에 나타낸 공간 광 변조기(12a)가 구동된다. 이에 의해, 투사면(S)에는 합성후의 화상에 대한 재생 상이 투사되어, 해당 재생 상이 표시 환경에서의 사용자 에 의해 시인된다. 여기서, 상기에서 설명한 화상 처리부의 기능은, 소프트웨어 처리로 실현할 수 있다. 또는, 각 기능을 실 현하는 하드웨어를 구비한 구성으로 할 수도 있다. 또한, 화상 처리부의 기능 일부를 소프트웨어 처리로 실현하고, 다른 일부를 하드웨어로 실현하는 것도 가 능하다. (1-4. 처리 순서) 도 10은, 상기 제1 실시형태로서의 화상 보정을 실현하기 위한 구체적인 처리 순서예를 나타낸 플로우차트이다. 한편, 도 10에 나타내는 처리는, 입력 화상(본 예에서는 촬상 환경으로부터 입력되는 촬상 화상)의 프레임마다 실행되는 처리가 된다. 먼저, 스텝(S101)에서 화상 처리부는, 근원 구분 처리를 실행한다. 이는, 상술한 근원 구분부로서의 처리이며, 본 예에서는, 측거 장치에 의해 얻어지는 거리 화상의 데이터에 기초하여, 촬상 화상 내에서 거리 값이 소정값 이하로 되어 있는 부분을 근경 화상 부분으로 하고, 그 이외의 부분을 원경 화상 부분으로서 구분 하는 처리가 된다. 스텝(S101)에 이어지는 스텝(S102)에서 화상 처리부는, 근경 보정 처리를 실행한다. 즉, 입력된 촬상 화상 내에서의 근경 화상 부분으로서 구분된 부분의 화상인 근경 화상에 대해, 소정의 보정 처리를 실시한다. 구체 적으로 본 예에서는, 근경 화상 전체를 투명화하는 처리를 실시한다. 스텝(S102)에 이어지는 스텝(S103)에서 화상 처리부는, 최후값 보유 화상을 취득한다. 즉, 도 9에서 설명 한 구성에 의해 얻어지는 최후값 보유 화상을 취득한다. 스텝(S103)에 이어지는 스텝(S104)에서 화상 처리부는, 부정합 화소 보충 처리를 실행한다. 즉, 스텝 (S103)에서 취득한 최후값 보유 화상에 기초하여, 과거의 원경 화상에 있어서의 현 부정합 부분과의 중복 부분 을 사용하여, 현 부정합 부분에 대한 화소 보충을 행한다. 즉, 현 부정합 부분 중 과거에 원경 화상에서 보이 고 있던 부분이 있는 경우에는, 그 부분의 화소값을 그대로 적용시키는 것이다. 스텝(S104)에 이어지는 스텝(S105)에서 화상 처리부는, 보충 불능 부분이 있는지 여부를 판정한다. 즉, 스 텝(S104)의 보충 처리에서 현 부정합 부분 중 과거의 원경 화상으로 보충하지 못한 부분이 있는지 여부를 판정 한다. 보충 불능 부분이 있으면, 화상 처리부는 스텝(S106)으로 진행하여 보충 불능 부분에 대한 보간 처리를 행 한다. 즉, 상술한 바와 같이 인접 화소의 화소값에 기초한 보간 처리를 행하는 것이다. 화상 처리부는, 스텝(S106)의 보간 처리를 실행함에 따라, 스텝(S107)으로 처리를 진행시킨다. 한편, 화상 처리부는, 스텝(S105)에서 보충 불능 부분이 없다고 판정한 경우에는, 스텝(S106)의 보간 처리 를 패스하여 스텝(S107)으로 처리를 진행시킨다. 스텝(S107)에서 화상 처리부는, 부정합 부분의 블러링 처리를 행한다. 전술한 바와 같이 블러링 처리로서 는 시각적인 블러링 효과를 주는 처리이면 된다. 스텝(S107)에 이어지는 스텝(S108)에서 화상 처리부는, 보정후 부정합 부분 화상에 기초하여 보정 완료 근 경 화상을 생성한다. 즉, 스텝(S104)의 보충 처리, 및 필요에 따라 실행되는 스텝(S106)의 보간 처리, 및 스텝 (S107)의 블러링 처리가 실시되어 얻어지는 보정후 부정합 부분 화상에 기초하여, 보정 완료 근경 화상을 생성 한다. 전술한 설명으로부터 이해할 수 있는 바와 같이, 근경 화상의 보정 처리로서 근경 화상 전체를 투명화하는 처리 를 행하는 본 예의 경우, 스텝(S108)의 처리는, 보정후 부정합 부분 화상 그 자체를 보정 완료 근경 화상으로 한다. 스텝(S108)에 이어지는 스텝(S109)에서 화상 처리부는, 보정 완료 근경 화상과 원경 화상을 합성한다. 즉, 합성부로서 설명한 바와 같이, 현 프레임의 원경 화상과 보정 완료 근경 화상을 합성하여 1 프레임 분의 화 상을 얻는다. 화상 처리부는, 스텝(S109)의 처리를 실행함에 따라 도 10에 나타내는 일련의 처리를 마친다. 한편, 상기에서는 근경 보정으로서 근경 화상 전체를 투명화하는 예를 들었으나, 예를 들면 원경 화상과의 경계 부분 등, 근경 화상의 일부만을 투명화하는 것도 가능하다. 그 경우, 구분된 근경 화상 부분 중, 투명화를 실 시한 부분만이 부정합 부분이 된다. 이와 같이 근경 화상의 일부만이 부정합 부분으로 된 경우에는, 보정후 부 정합 부분은 근경 화상의 일부 부분이 된다. 이 때문에, 이 경우에 있어서의 근경 보정부에서는, 이와 같 이 근경 화상의 일부 부분으로 된 보정후 부정합 부분 화상과, 근경 화상 중 부정합 부분을 제외한 부분(즉, 근 경 보정으로서의 투명화가 실시되지 않고 있는 부분)을 합성하여, 보정 완료 근경 화상을 생성한다. 또한, 근경 보정으로서는, 축소화를 행하는 것도 가능하다. 그 경우는, 구분된 근경 화상 부분 중, 축소화 후 의 근경 화상과 축소화 전의 근경 화상의 차분의 부분이 부정합 부분(구체적으로는 무화상 부분)이 된다. 이 경우도 보정후 부정합 부분으로서는, 구분된 근경 화상 부분의 일부 부분이 되고, 따라서 근경 보정부에 서는, 이와 같이 근경 화상 부분의 일부 부분으로 된 보정후 부정합 부분 화상과, 근경 화상 부분 중 부정합 부 분을 제외한 부분(즉, 이 경우는 축소화 후의 근경 화상의 부분)을 합성하여, 보정 완료 근경 화상을 생성한다. (1-5. 근원 구분에 관한 변형예) 여기서, 상기에서는 근원 구분부가 근경 화상 부분과 원경 화상 부분의 구분뿐만 아니라, 이들 구분에 따라 근경 화상과 원경 화상을 생성하는 예를 들었으나, 근원 구분부가 근경 화상과 원경 화상을 생성하는 것은 필수는 아니다. 도 11은, 근원 구분에 관한 변형예로서의 화상 처리부(10’)의 기능 블록을 나타낸 도면이다. 한편, 이후의 설명에 있어서, 이미 설명한 부분과 동일한 부분에 대해서는 동일 부호를 붙이고 설명을 생략한다. 도시한 바와 같이 화상 처리부(10’)에 있어서는, 근원 구분부 대신에 근원 구분부(15’)가, 근경 보정부 대신에 근경 보정부(16’)가, 부정합 보정부 대신에 부정합 보정부(17’)가 설치된다. 근원 구분부(15’)는, 근원 구분을 행한 결과에 기초하여, 근경 구분 정보와 원경 구분 정보를 출력한다. 도 12는, 근경 구분 정보와 원경 구분 정보의 예를 나타낸 도면이다. 근경 구분 정보는, 1 프레임 내의 화소마다, 근경 화상 부분으로서 구분된 화소인지 여부를 나타낸 정보이며, 원경 구분 정보는, 1 프레임 내의 화소마다, 원경 화상 부분으로서 구분된 화소인지 여부를 나타낸 정보이다. 도 12A에서는, 근경 구분 정보의 예로서, 근경 화상 부분으로서 구분된 화소의 값을 「1」, 그 이외의 화소 값 을 「0」으로 한 정보를 예시하고 있다. 도 12B에서는, 원경 구분 정보의 예로서, 원경 화상 부분으로서 구분 된 화소의 값을 「1」, 그 이외의 화소 값을 「0」으로 한 정보를 예시하고 있다. 도 11에 있어서, 근경 보정부(16’)에는, 근원 구분부(15’)로부터의 근경 구분 정보와, 입력 화상이 입력된다. 근경 보정부(16’)는, 이들 입력 화상과 근경 구분 정보에 기초하여 근경 화상을 얻고, 해당 근경 화상에 대한 예를 들면 투명화 등의 보정 처리를 실시한다. 부정합 보정부(17’)에는, 근원 구분부(15’)로부터의 원경 구분 정보와, 입력 화상이 입력된다. 부정합 보정 부(17’)는, 이들 입력 화상과 원경 구분 정보에 기초하여 현 프레임의 원경 화상을 얻고, 해당 원경 화상에 기 초하여 부정합 부분에 대한 상술한 보충 처리나 보간 처리를 행한다. <2. 제2 실시형태> 계속해서, 제2 실시형태에 대해서 설명한다. 제1 실시형태에서는, 근원 구분에 있어서 측거 장치에 의한 측거 데이터를 사용하는 예를 들었지만, 근원 구 분은, 촬상 장치에 의한 촬상 화상에 대한 화상 해석에 의해 행하는 것도 생각할 수 있다. 도 13은, 제2 실시형태로서의 화상 처리부(10A)의 기능 구성을 나타낸 기능 블록도이다. 화상 처리부(10A)는, 근원 구분부 대신에 근원 구분부(15A)가 설치된 점이 화상 처리부와 다르다. 근 원 구분부(15A)는, 입력 화상으로서의, 촬상 장치로부터의 촬상 화상에 대해 화상 해석을 행하여 근원 구분 을 행한다. 여기서, 근원 구분부(15A)에 의한 근원 구분을 위한 화상 해석으로서는, 물체 인식 처리를 행하는 것을 생각할 수 있다. 구체적으로, 물체 인식 처리로서는, 예를 들면 AI(Artificial Intelligence: 인공지능)에 의한 화상 인식기를 사용한 물체 인식 처리를 생각할 수 있다. 일례로서는, 정답 데이터를 거리 데이터로 하고, 학습용 입력 데이터를 화상으로 한 기계 학습(예를 들면, 딥 러닝(deep learning))에 의해 입력 화상으로부터 피사체의 거리를 인식하도록 학습된 AI를 사용하는 것을 생각 할 수 있다. 또한, 다른 예로서는, 근경 화상 부분, 원경 화상 부분의 식별 정보를 정답 데이터로 하고, 학습용 입력 데이터 를 화상으로 한 학습에 의해 입력 화상으로부터 근경 화상 부분, 원경 화상 부분을 인식하도록 학습된 AI를 사 용하는 것도 생각할 수 있다. 또는, 일반 물체의 종류를 인식하는 시맨틱 세그멘테이션(Semantic Segmentation)이 가능하도록 학습된 AI를 사 용하는 것도 생각할 수 있다. 그 경우, 근경에 위치하는 피사체로서 상정되는 물체의 종류를 미리 정해 두고, 입력 화상 내에서 인식된 피사체 중, 해당 미리 정해진 종류에 해당하는 피사체의 부분을 근경 화상 부분으로서 구분하는 등의 수법을 취하는 것을 생각할 수 있다. 또한, 화상 해석에 의한 근원 구분으로서는, 템플릿 매칭을 사용한 수법도 생각할 수 있다. 예를 들면, 관객의 뒷모습에 관한 화상 템플릿을 사용하여 입력 화상과의 매칭을 행하고, 매칭된 부분을 근경 화상 부분으로서 구 분하는 등의 수법을 생각할 수 있다. <3. 제3 실시형태> (3-1. 제1 예) 제3 실시형태는, 근경 화상 부분으로서 구분하는 거리 범위의 크기를 소정의 조건에 기초하여 변화시키는 것이다. 이하에서는 구체예로서, 근경 화상 부분으로서 구분하는 거리 범위의 크기를, 화상의 표시면을 기준으로 한 사 용자 거리에 따라 변화시키는 경우(제1 예)와, 화상의 표시 영역의 크기에 따라 변화시키는 경우(제2 예)의 2개 의 예를 설명한다. 또한 이하, 근경 화상 부분으로서 구분하는 거리 범위를 「거리 범위(RD)」라고 표기한다. 도 14는, 제1 예에 대한 설명도이다. 제1 예에서는, 거리 범위(RD)의 크기를, 사용자 거리에 대하여 음의 상관을 갖도록 변화시킨다. 여기서 말하는 사용자 거리란, 화상 표시가 행해지는 표시면과 사용자의 사이의 거리를 의미한다. 구체적으로, 도 14A에서는, 사용자가 표시면에 가까운 경우(사용자 거리가 짧은 경우)를, 도 14B에서는 사용자 가 표시면에서 먼 경우(사용자 거리가 긴 경우)를 예시하고 있는데, 사용자 거리가 짧은 경우는 긴 경우보다 거 리 범위(RD)를 크게 한다. 도 14의 예에서는, 사용자 거리가 짧은 경우는 1 열째(가장 앞측의 열)로부터 2 열 째까지를 거리 범위(RD)로 하고, 먼 경우는 1 열째만을 거리 범위(RD)로 하는 예를 나타내고 있다. 한편, 거리 범위(RD)의 크기의 설정은, 근원 구분에 사용하는 거리의 임계값 설정으로 행하는 것이 가능하다. 도 15는, 제3 실시형태에 있어서의 제1 예로서의 프로젝터 장치(1B)의 구성을 설명하기 위한 블록도이다. 먼저, 이 경우의 표시 환경에서는, 사용자 거리를 측정하기 위한 측거 장치가 설치된다. 측거 장치로서 는, 예를 들면 전술한 측거 장치와 마찬가지로 거리 화상을 얻도록 구성되어 있다. 측거 장치는, 투사면 (S)(즉, 화상의 표시면)측으로부터 사용자가 존재하는 방향으로 측거를 행하도록 배치되어 있고, 이에 의해 사 용자까지의 거리를 측정 가능하게 되어 있다. 한편, 사용자 거리로서, 엄밀하게 표시면과 사용자의 사이의 거리를 측정하는 것은 필수는 아니고, 적어도 표시 면과 사용자의 사이의 거리에 상관하는 거리 정보를 취득 가능하게 되어 있으면 된다. 프로젝터 장치(1B)는, 화상 처리부 대신에 화상 처리부(10B)가 설치된 점이 프로젝터 장치와 다르다. 화상 처리부(10B)는, 근원 구분부 대신에 근원 구분부(15B)를 갖는 점이 화상 처리부와 다르다. 근원 구분부(15B)는, 측거 장치에 의해 얻어지는 측거 데이터(본 예에서는 거리 화상의 데이터)에 기초하여, 사용자 거리를 추정한다. 여기서, 사용자 거리에 대해서는, 측거의 시야 내에 복수의 사용자(인물로서의 물 체)가 인식되는 경우에는, 이들 복수의 사용자의 거리 중 최단의 것을 선택한다. 또는, 이들 복수의 사용자의 거리에 대한 평균값 등으로 하는 것도 생각할 수 있다. 근원 구분부(15B)는, 추정한 사용자 거리의 값과 소정의 임계값을 비교하여, 해당 사용자 거리가 임계값 이하라 면 거리 범위(RD)로서 제1 거리 범위(예를 들면, 1 열째로부터 2 열째까지의 거리 범위)를 설정하고, 사용자 거 리가 임계값 이하가 아니면, 거리 범위(RD)로서 제1 거리 범위보다 좁은 제2 거리 범위(예를 들면, 1 열째까지 의 거리 범위)를 설정한다. (3-2. 제2 예) 도 16은, 제2 예에 대한 설명도이다. 제2 예에서는, 거리 범위(RD)의 크기를, 화상의 표시 영역의 크기에 대하여 양의 상관을 갖도록 변화시킨다. 구체적으로, 도 16A에서는, 화상의 표시 영역이 작은 경우를, 도 16B에서는 화상의 표시 영역이 큰 경우를 예시 하고 있는데, 표시 영역이 큰 경우는 작은 경우보다 거리 범위(RD)를 크게 한다. 도 16의 예에서는, 표시 영역 이 작은 경우는 1 열째까지를 거리 범위(RD)로 하고, 표시 영역이 큰 경우는 1 열째로부터 2 열째까지를 거리 범위(RD)로 하는 예를 나타내고 있다. 도 17은, 제3 실시형태에 있어서의 제2 예로서의 프로젝터 장치(1C)의 구성을 설명하기 위한 블록도이다. 도시한 바와 같이 프로젝터 장치(1C)에 있어서는, 제어부가 표시 영역 제어부(13a)를 가지고 있다. 도시는 생략하였으나, 투사부 내에는, 투사면(S)에 있어서의 화상의 표시 영역의 크기를 광학적으로 조정하기 위한 조정 기구가 설치되어 있고, 표시 영역 제어부(13a)는, 해당 조정 기구를 제어함으로써, 표시 영역의 크기를 변 화시킨다. 프로젝터 장치(1C)에 있어서는, 화상 처리부 대신에 화상 처리부(10C)가 설치되고, 화상 처리부(10C)는, 근 원 구분부 대신에 근원 구분부(15C)가 설치된 점이 화상 처리부와 다르다. 여기서, 표시 영역 제어부(13a)는, 근원 구분부(15C)에 대하여, 투사면(S)에 있어서의 화상의 표시 영역 사이즈 를 나타내는 정보(이하 「표시 영역 사이즈 정보」라고 표기)를 출력한다. 근원 구분부(15C)는, 이와 같이 표시 영역 제어부(13a)가 출력하는 표시 영역 사이즈 정보에 기초하여, 표시 영 역 사이즈가 소정의 임계값 이상인 경우에는 거리 범위(RD)로서 제1 거리 범위(예를 들면, 1 열째로부터 2 열째 까지의 거리 범위)를 설정하고, 표시 영역 사이즈가 임계값 이상이 아닌 경우에는, 거리 범위(RD)로서 제1 거리 범위보다 좁은 제2 거리 범위(예를 들면, 1 열째까지의 거리 범위)를 설정한다. 한편, 상기에서는, 화상의 표시 영역의 크기가 투사부에 있어서의 광학적인 조정에 의해 동적으로 변화되는 전제로 하였으나, 표시 영역의 크기가 다른 케이스로서는, 예를 들면 투사부로부터 투사면(S)까지의 거리가 다른 경우도 들 수 있다. 예를 들면, 표시 환경으로서는, 공간적인 여유가 있어 투사부로부터 투사면(S)까 지의 거리를 충분히 확보할 수 있는 환경인 경우와, 공간적인 여유가 없어 투사부로부터 투사면(S)까지의 거리를 충분히 확보할 수 없는 환경인 경우를 생각할 수 있으며, 전자의 환경에서는 표시 영역 사이즈는 크게 되고, 후자의 환경에서는 표시 영역 사이즈는 작게 된다. 이러한 환경의 차이에 기인한 표시 영역 사이즈의 변 화에 대해, 거리 범위(RD)의 크기를 변화시키는 것도 생각할 수 있다. 그 경우, 표시 영역의 사이즈를 나타내는 정보는, 예를 들면 투사면(S)를 촬상하는 카메라에 의한 촬상 화상으로부터 추정하는 것을 생각할 수 있다. 또는, 투사부로부터 투사면(S)까지의 거리를 측정하고, 해당 거리로부터 표시 영역의 사이즈를 추정하는 등 도 생각할 수 있다. 여기서, 상기 제1 예 및 제2 예에서는, 거리 범위(RD)의 조정을 2단계의 조정으로 하는 예를 들었으나, 3단계 이상의 조정으로 하는 것도 물론 가능하다. 또한, 상기 제1 예와 제2 예는 조합하는 것이 가능하다. 즉, 거리 범위(RD)의 조정은 사용자 거리와 표시 영역 의 크기의 양쪽 모두에 기초하여 행하는 것도 가능하다. <4. 변형예> 실시형태로서는 상기에서 설명한 구체예에 한정되는 것은 아니고, 다양한 변형예로서의 구성을 취할 수 있다. 예를 들면, 상기에서는, 근경 보정은 근경의 피사체를 눈에 띄기 어렵게 하게 행하는 예를 들었으나, 근경 보정 은, 예를 들면 도 18이나 도 19에 예시하는 바와 같이, 근경의 피사체의 표시 사이즈를 실제 크기의 사이즈로 보정하는 처리로서 행할 수도 있다. 구체적으로, 도 18, 도 19에서는, 각각 표시 환경에 있어서의 사용자(사선에 의해 나타냄)와, 사용자의 안쪽에 위치하는 투사면(S)과, 투사면(S)에 표시된 화상의 예를 나타내고 있다. 한편, 도 18에서는 상점가 등의 가상 체험을, 도 19에서는 원격 댄스 레슨을 각각 이미지하고 있다. 도 18A, 도 19A에서는, 촬상 환경에서 피사체로서의 인물이 촬상 장치에 근접하여 클로즈업되어 있다. 이와 같이 클로즈업되어 있는 근경의 피사체 부분에 대해, 근경 보정으로서, 실제 크기의 사이즈로 축소화하는 보정 을 행한다. 여기서, 실제 크기화의 처리로서는, 상기와 같이 대상으로 하는 피사체를 축소화하는 처리와 함께, 해당 대상으 로 하는 피사체의 화상 내의 위치를 안쪽으로 오프셋시키는 처리를 행할 수도 있다. 이에 의해, 사이즈 변경만 을 행하는 경우보다 실제 크기의 표현을 적절하게 행할 수 있다. 지금까지의 설명에서는, 근원 구분은 거리 범위(RD)의 구분으로서 행하는 예를 들었으나, 근원 구분은, 피사체 간의 거리의 차에 기초하여 행할 수도 있다. 예를 들면 도 20에서는, 1 열째에 있어서의 한사람의 관객이 손을 들고 있는 씬을 예시하고 있는데, 도시한 바 와 같이 이 손 부분이 안쪽의 경기 필드를 덮고 있는 경우에는, 해당 손의 부분과 경기 필드의 사이의 거리 차 가 큰 것이 된다. 이에, 예를 들면 근경측의 일정 거리 범위 내에 있는 피사체에 대해서, 주위 화소와의 거리 차를 계산하고, 해 당 거리 차가 큰 피사체의 화상 부분을 근경 피사체 부분으로서 구분하는 것을 생각할 수 있다. 도 20의 예를 참조하여 알 수 있는 바와 같이, 주위와의 거리 차이가 큰 부분은, 사용자가 위화감을 느끼기 쉬 운 부분이 된다. 따라서, 해당 부분을 근경 화상 부분으로서 구분하여, 근경 보정, 즉 투명화 등의 눈에 띄기 어렵게 하는 보정을 실시함으로써, 사용자의 위화감 완화의 효과 향상을 도모할 수 있다. 또한, 상기에서는, 근경 보정으로서 투명화나 축소화의 처리를 예시하였으나, 근경 보정으로서는, 가상 화상을 사용한 보정을 행할 수도 있다. 예를 들면, 미리 준비된 사람 모습의 화상으로 교체하는 등을 생각할 수 있다. 또한, 근경 보정은, 색에 관한 보정으로 할 수도 있다. 예를 들면, 근경 화상 부분으로서 구분된 부분의 적어도 일부의 색의 채도나 명도를 저하시켜 눈에 띄기 어렵게 한다. 이 경우도, 보정에 의해 발생하는 부정합 부분에 대해, 과거의 원경 화상으로 보충할 수 있는 부분은 보 충한다. 또한, 보충할 수 없는 부분은 인접 화소의 값을 사용한 보간을 행하는 것도 가능하다. 나아가, 이들 보충이나 보간의 처리를 실시하여 얻어지는 보정후 부정합 부분 화상에 대해 블러링 처리를 실시하는 것도 가능 하다. 또한, 상기에서는, 근원 구분을 측거 데이터나 화상 해석에 의해 행하는 예를 들었으나, 근원 구분은, 예를 들 면 근경 화상 부분 또는 원경 화상 부분의 적어도 일방의 지정 조작(사용자에 의한 메뉴얼 조작)에 기초하여 행 하는 것도 생각할 수 있다. 또한, 상기에서는, 본 기술에 따른 화상 처리 장치가 프로젝터 장치에 적용되는 예를 들었으나, 본 기술에 따른 화상 처리 장치는, 예를 들면 LED(Light Emitting Diode) 디스플레이나 LCD(Liquid Crystal Display), 유기EL(Electro-Luminescence) 디스플레이 등의 자발광형의 표시 장치에도 적용 가능하다. 또한, 본 기술에 따른 화상 처리 장치는, 표시 장치와는 별체의 장치로서 구성하는 것도 가능하다. 예를 들면, 도 1에 나타낸 시스템에 있어서, 촬상 환경측으로부터의 촬상 화상이나 측거 데이터를 네트워크 경유로 수신 하는 화상 처리 장치를 설치하고, 해당 화상 처리 장치가 근원 구분이나 근경 보정, 부정합 부분의 보정과 같은 실시형태로서의 화상 처리를 행한다. 그리고, 화상 처리된 촬상 화상을, 화상 처리 장치가 프로젝터 장치에 송 신하는 구성을 취할 수 있다. 이러한 구성을 취함으로써, 프로젝터 장치 등의 표시 장치로서, 실시형태로서의 화상 처리 기능을 갖지 않는 기존의 장치를 유용할 수 있다고 하는 장점이 있다. 또한, 입력 화상에 기초한 재 생 상을 복수의 프로젝터 장치가 분담하여 투사하는 멀티프로젝션 시스템으로의 적용에도 바람직하다. <5. 실시형태의 정리> 상기와 같이 실시형태의 화상 처리 장치(화상 처리부(10, 10', 10A, 10B, 10C)는, 입력 화상에 대하여, 근경의 피사체를 캡쳐한 부분인 근경 화상 부분과 근경 화상 부분보다 원경의 피사체를 캡쳐한 부분인 원경 화상 부분 을 구분하는 근원 구분부(15, 15', 15A, 15B, 15C)와, 근경 화상 부분에 대한 보정을 행하는 근경 보정부(16, 16')와, 근경 보정부에 의한 근경 화상 부분에 대한 보정에 의해 발생하는 부정합 부분에 대해 보정을 행하는 부정합 보정부(17, 17')를 구비하는 것이다. 상기 구성에 의하면, 근경 보정부의 보정에 의해, 근경에서 클로즈업되는 피사체를 눈에 띄기 어렵게 하는 보정 이 가능해짐과 함께, 상기의 부정합 보정부에 의해, 근경 보정부의 보정에 의해 발생하는 부정합 부분이 보정되 어, 해당 부정합 부분에 의한 사용자의 위화감 완화를 도모하는 것이 가능하게 된다. 따라서, 근경의 피사체의 표시에 관한 사용자의 위화감 완화를 도모할 수 있고, 화상 컨텐츠에 대한 사용자의 몰입감 향상을 도모할 수 있다. 여기서, 근경의 피사체가 사람인 경우에는, 클로즈업 상태인 채로는 프라이버시 상 문제가 되지만, 예를 들면 상기에서 예시한 투명화나 축소화 등의 근경 보정을 행함으로써, 프라이버시 보호를 도모할 수 있다. 또한, 실시형태의 화상 처리 장치에 있어서는, 근원 구분부(15, 15', 15B, 15C)는, 입력 화상 내의 피사체의 측 거 정보에 기초하여 근경 화상 부분과 원경 화상 부분을 구분하고 있다. 피사체의 측거 정보를 사용함으로써, 근경 화상 부분 또는 원경 화상 부분을 적절하게 식별 가능하게 된다. 따라서, 근경 화상 부분과 원경 화상 부분의 구분 정밀도 향상을 도모할 수 있다. 또한, 실시형태의 화상 처리 장치에 있어서는, 근원 구분부는, 입력 화상 내에서의 피사체간의 거리 차에 기초 하여 근경 화상 부분과 원경 화상 부분을 구분하고 있다(도 20을 참조). 거리 차에 기초한 구분으로 함으로써, 원경에 있어서의 특정 부분과의 거리 차가 큰 부분, 예를 들면 경기장 필 드에 겹치는 손의 부분 등, 사용자가 위화감을 느끼기 쉬운 부분을 근경 화상 부분으로서 특정하는 것이 가능하 게 된다. 따라서, 위화감의 완화 효과의 향상을 도모할 수 있다. 또한, 실시형태의 화상 처리 장치에 있어서는, 근원 구분부(15A)는, 입력 화상에 대한 화상 해석 결과에 기초하 여 근경 화상 부분과 원경 화상 부분을 구분하고 있다(제2 실시형태를 참조). 이에 의해, 근경 화상 부분, 원경 화상 부분의 구분에 있어서 측거 센서를 사용할 필요가 없어진다. 따라서, 근경 피사체의 표시에 기인하는 사용자의 위화감 완화를 실현하기 위해 필요로 하는 센서 수의 삭감을 도모할 수 있고, 시스템 구축에 필요로 하는 구성 부품의 삭감, 및 비용 삭감을 도모할 수 있다. 또한, 실시형태의 화상 처리 장치에 있어서는, 근원 구분부는, 입력 화상에 대하여 물체 인식 처리를 행한 결과 에 기초하여 근경 화상 부분과 원경 화상 부분을 구분하고 있다. 이에 의해, 근경 또는 원경에 있어야 할 물체가 화상 내의 어느 부분에 존재하고 있는지를 적절하게 인식하는 것이 가능하게 된다. 따라서, 근경 화상 부분, 원경 화상 부분의 구분을 적절하게 행할 수 있다. 또한, 실시형태의 화상 처리 장치에 있어서는, 근원 구분부는, 인공지능에 의한 화상 인식기를 사용하여 물체 인식 처리를 행하고 있다.인공지능에 의한 화상 인식기를 사용하면, 학습의 방법에 의해, 인식가능한 물체의 종류나 인식의 정밀도 등과 같은 물체 인식의 요소를 적절하게 설정하는 것이 가능하게 된다. 따라서, 적절한 물체 인식 결과에 기초하여 근경 화상 부분, 원경 화상 부분의 구분을 적절하게 행할 수 있다. 또한, 실시형태의 화상 처리 장치에 있어서는, 근원 구분부는, 템플릿 매칭에 의한 화상 해석을 행하여 근경 화 상 부분과 원경 화상 부분을 구분하고 있다. 이에 의해, 근경 화상 부분, 원경 화상 부분의 구분에 있어서 인공지능의 학습을 행할 필요가 없어진다. 따라서, 학습에 필요로 하는 비용의 삭감을 도모할 수 있다. 또한, 실시형태의 화상 처리 장치에 있어서는, 근경 보정부는, 근경 화상 부분에 대한 보정으로서, 근경 화상 부분의 적어도 일부의 투명화, 또는 축소화를 행하고 있다. 상기와 같은 투명화나 축소화를 행함으로써, 근경의 피사체를 눈에 띄기 어렵게 하는 것이 가능하게 된다. 따라서, 근경 피사체의 표시에 관한 사용자의 위화감 완화를 도모할 수 있다. 나아가, 실시형태의 화상 처리 장치에 있어서는, 부정합 보정부는, 현 프레임에 있어서의 부정합 부분인 현 부 정합 부분에 대한 보정으로서, 과거 프레임의 원경 화상 부분에 있어서의 현 부정합 부분과의 중복 부분의 화상 을 사용한 보정을 행하고 있다. 예를 들면, 근경의 피사체가 관객석에서의 관객인 경우 등에는, 피사체는 움직일 가능성이 있고, 현 프레임에 있어서는 현 부정합 부분으로 보이지 않는 원경 부분이, 과거 프레임에 있어서는 상기 중복 부분으로서 보이고 있을 가능성이 있다. 상기 구성에 의하면, 과거 프레임의 원경 화상 부분에서, 이러한 현 부정합 부분과의 중 복 부분이 존재하고 있던 경우에는, 해당 중복 부분의 화상을 사용하여 현 부정합 부분에 대한 보정이 행해진다. 따라서, 실제로 원경에 보이고 있던 피사체의 화상 부분을 사용하여 현 부정합 부분을 적절하게 보정할 수 있다. 또한, 실시형태의 화상 처리 장치에 있어서는, 부정합 보정부는, 입력 화상의 화소마다, 적어도 현 프레임보다 과거의 기간 내에서 마지막으로 원경 화상 부분으로 구분되었을 때의 화소값을 보유한 화상인 최후값 보유 화상 을 생성하고, 해당 최후값 보유 화상을 사용하여 현 부정합 부분의 보정을 행하고 있다. 이에 의해, 과거의 원경 화상 부분에 현 부정합 부분과의 중복 부분이 존재하고 있던 경우는, 해당 중복 부분의 화소에 대해, 마지막으로 원경 화상 부분으로서 구분되었을 때의 화소값이 현 부정합 부분의 보정에 사용된다. 따라서, 실제로 원경에서 보이고 있던 최신의 화상을 사용하여 현 프레임의 부정합 부분을 보정할 수 있어, 부 정합 부분의 보정 정밀도의 향상이 도모되고, 보정에 의한 위화감의 완화를 도모할 수 있다. 또한, 실시형태의 화상 처리 장치에 있어서는, 부정합 보정부는, 입력 화상에 대하여, 원경 화상 부분으로 구분 된 화소에 대해서는 해당 화소의 화소값을 보유하고, 근경 화상 부분으로 구분된 화소에 대해서는 기존의 보유 값을 유지하는 처리를 복수 프레임에 걸쳐 행함으로써 최후값 보유 화상을 생성하고 있다. 이에 의해, 최후값 보유 화상을 적절하게 생성할 수 있다. 또한, 실시형태의 화상 처리 장치에 있어서는, 부정합 보정부는, 현 부정합 부분 중 중복 부분이 존재하지 않는 부분에 대해서는, 중복 부분의 화상을 사용하여 화소값을 보간하고 있다. 이에 의해, 현 부정합 부분에 대한 중복 부분이 일부만이라도, 중복 부분의 화상을 사용하여 중복 부분 이외의 화소를 적절하게 보간하는 것이 가능하게 된다. 따라서, 부정합 부분의 보정 정밀도의 향상이 도모되고, 보정에 의한 위화감의 완화를 도모할 수 있다. 또한, 실시형태의 화상 처리 장치에 있어서는, 근원 구분부(15B)는, 입력 화상에 대한 표시가 행해지는 표시면 과 해당 표시면의 표시 화상을 시인하는 사용자와의 거리에 대하여 음의 상관을 갖도록 근경 화상 부분으로서 구분하는 거리 범위의 크기를 변화시키고 있다. 표시면과 사용자의 거리가 가까운 경우는, 사용자에게는 화상 내의 피사체가 보다 크게 보이기 때문에, 사용자 가 위화감을 갖는 근경의 거리 범위도 넓어진다. 이에, 상기와 같이 근경 화상 부분으로서 구분하는 거리 범위의 크기를, 표시면과 사용자의 거리에 대하여 음의 상관을 갖도록 변화시키는, 바꾸어 말하면, 거리가 짧으면 근경 화상 부분으로서 구분하는 거리 범위를 크게 한다. 이에 의해, 표시면과 사용자의 거리가 변화되더라도, 위화감 완화를 위한 보정 대상인 근경 화상 부분의 범위를 적절하게 구분할 수 있다. 즉, 위화감 완화를 위한 보정으로서, 표시면과 사용자의 거리에 따른 적절한 보정을 행할 수 있다. 또한, 실시형태의 화상 처리 장치에 있어서는, 근원 구분부(15C)는, 입력 화상의 표시 영역의 크기에 대하여 양 의 상관을 갖도록 근경 화상 부분으로서 구분하는 거리 범위의 크기를 변화시키고 있다. 입력 화상을 표시하는 표시 영역이 큰 경우, 사용자에게는 화상 내의 피사체가 보다 크게 보이기 때문에, 사용 자가 위화감을 갖는 근경의 거리 범위도 넓어진다. 이에, 상기와 같이 근경 화상 부분으로서 구분하는 거리 범 위의 크기를, 표시 영역의 크기에 대하여 양의 상관을 갖도록 변화시키는, 바꾸어 말하면, 표시 영역이 크면 근 경 화상 부분으로서 구분하는 거리 범위도 크게 한다. 이에 의해, 표시 영역의 크기가 변화되더라도, 위화감 완화를 위한 보정 대상인 근경 화상 부분의 범위를 적절 하게 구분할 수 있다. 결국은, 위화감 완화를 위한 보정으로서, 표시 영역의 크기에 따른 적절한 보정을 행할 수 있다. 실시형태의 화상 처리 방법은, 입력 화상에 대하여, 근경의 피사체를 캡쳐한 부분인 근경 화상 부분과 근경 화 상 부분보다 원경의 피사체를 캡쳐한 부분인 원경 화상 부분을 구분하고, 근경 화상 부분에 대한 보정을 행하고, 근경 화상 부분에 대한 보정에 의해 발생하는 부정합 부분에 대해 보정을 행하는 화상 처리 방법이다. 이러한 화상 처리 방법에 의하면, 상기 실시형태로서의 화상 처리 장치와 동일한 작용 및 효과를 얻을 수 있다. 또한, 실시형태의 프로젝터 장치(1, 1B, 1C)는, 입력 화상에 대하여, 근경의 피사체를 캡쳐한 부분인 근경 화상 부분과 근경 화상 부분보다 원경의 피사체를 캡쳐한 부분인 원경 화상 부분을 구분하는 근원 구분부와, 근경 화 상 부분에 대한 보정을 행하는 근경 보정부와, 근경 보정부에 의한 근경 화상 부분에 대한 보정에 의해 발생하 는 부정합 부분에 대해 보정을 행하는 부정합 보정부와, 부정합 보정부에 의해 보정된 부정합 부분의 화상에 기 초한 재생 상을 생성하고, 재생 상을 투사면에 투사하는 투사부를 구비하는 것이다. 이러한 프로젝터 장치에 의해서도, 상기 실시형태로서의 화상 처리 장치와 동일한 작용 및 효과를 얻을 수 있다. 한편, 본 명세서에 기재된 효과는 어디까지나 예시이며 한정되는 것은 아니고, 또한 다른 효과가 있어도 된다. <6. 본 기술> 또한 본 기술은 이하와 같은 구성도 취할 수 있다."}
{"patent_id": "10-2023-7029563", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "입력 화상에 대하여, 근경의 피사체를 캡쳐한 부분인 근경 화상 부분과 상기 근경 화상 부분보다 원경의 피사체 를 캡쳐한 부분인 원경 화상 부분을 구분하는 근원 구분부와, 상기 근경 화상 부분에 대한 보정을 행하는 근경 보정부와, 상기 근경 보정부에 의한 상기 근경 화상 부분에 대한 보정에 의해 발생하는 부정합 부분에 대해 보정을 행하는 부정합 보정부를 구비하는 화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "상기 근원 구분부는, 상기 입력 화상 내의 피사체의 측거 정보에 기초하여 상기 근경 화상 부분과 상기 원경 화상 부분을 구분하는 상기 에 기재된 화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "상기 근원 구분부는, 상기 입력 화상 내에 있어서의 피사체간의 거리 차에 기초하여 상기 근경 화상 부분과 상기 원경 화상 부분을 구분하는 상기 에 기재된 화상 처리 장치. 상기 근원 구분부는, 상기 입력 화상에 대한 화상 해석 결과에 기초하여 상기 근경 화상 부분과 상기 원경 화상 부분을 구분하는, 상기 내지 중 어느 하나에 기재된 화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "상기 근원 구분부는, 상기 입력 화상에 대하여 물체 인식 처리를 행한 결과에 기초하여 상기 근경 화상 부분과 상기 원경 화상 부분 을 구분하는 상기 에 기재된 화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "상기 근원 구분부는, 인공지능에 의한 화상 인식기를 사용하여 상기 물체 인식 처리를 행하는 상기 에 기재된 화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "상기 근원 구분부는, 템플릿 매칭에 의한 화상 해석을 행하여 상기 근경 화상 부분과 상기 원경 화상 부분을 구분하는 상기 에 기 재된 화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "상기 근경 보정부는, 상기 근경 화상 부분에 대한 보정으로서, 상기 근경 화상 부분의 적어도 일부의 투명화, 또는 축소화를 행하는, 상기 내지 중 어느 하나에 기재된 화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 9, "content": "상기 부정합 보정부는, 현 프레임에 있어서의 상기 부정합 부분인 현 부정합 부분에 대한 보정으로서, 과거 프레임의 상기 원경 화상 부분에 있어서의 상기 현 부정합 부분과의 중복 부분의 화상을 사용한 보정을 행하는, 상기 내지 중 어느 하나에 기재된 화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 10, "content": "상기 부정합 보정부는, 입력 화상의 화소마다, 적어도 현 프레임보다 과거의 기간 내에서 마지막으로 원경 화상 부분으로 구분되었을 때의 화소값을 보유한 화상인 최후값 보유 화상을 생성하고, 해당 최후값 보유 화상을 사용하여 상기 현 부정합 부분의 보정을 행하는 상기 에 기재된 화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 11, "content": "상기 부정합 보정부는, 입력 화상에 대하여, 원경 화상 부분으로 구분된 화소에 대해서는 해당 화소의 화소값을 보유하고, 근경 화상 부분으로 구분된 화소에 대해서는 기존의 보유값을 유지하는 처리를 복수 프레임에 걸쳐 행함으로써 상기 최후 값 보유 화상을 생성하는 상기 에 기재된 화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 12, "content": "상기 부정합 보정부는, 상기 현 부정합 부분 중 상기 중복 부분이 존재하지 않는 부분에 대해서는, 상기 중복 부분의 화상을 사용하여 화소값을 보간하는,상기 내지 중 어느 하나에 기재된 화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 13, "content": "상기 근원 구분부는, 상기 입력 화상에 대한 표시가 행해지는 표시면과 해당 표시면의 표시 화상을 시인하는 사용자와의 거리에 대하 여 음의 상관을 갖도록 상기 근경 화상 부분으로서 구분하는 거리 범위의 크기를 변화시키는, 상기 내지 중 어느 하나에 기재된 화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 14, "content": "상기 근원 구분부는, 상기 입력 화상의 표시 영역의 크기에 대하여 양의 상관을 갖도록 상기 근경 화상 부분으로서 구분하는 거리 범 위의 크기를 변화시키는, 상기 내지 중 어느 하나에 기재된 화상 처리 장치."}
{"patent_id": "10-2023-7029563", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 15, "content": "입력 화상에 대하여, 근경의 피사체를 캡쳐한 부분인 근경 화상 부분과 상기 근경 화상 부분보다 원경의 피사체 를 캡쳐한 부분인 원경 화상 부분을 구분하고, 상기 근경 화상 부분에 대한 보정을 행하고, 상기 근경 화상 부분에 대한 보정에 의해 발생하는 부정합 부분에 대해 보정을 행하는 화상 처리 방법."}
{"patent_id": "10-2023-7029563", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 16, "content": "입력 화상에 대하여, 근경의 피사체를 캡쳐한 부분인 근경 화상 부분과 상기 근경 화상 부분보다 원경의 피사체 를 캡쳐한 부분인 원경 화상 부분을 구분하는 근원 구분부와, 상기 근경 화상 부분에 대한 보정을 행하는 근경 보정부와, 상기 근경 보정부에 의한 상기 근경 화상 부분에 대한 보정에 의해 발생하는 부정합 부분에 대해 보정을 행하는 부정합 보정부와, 부정합 보정부에 의해 보정된 상기 부정합 부분의 화상에 기초한 재생 상을 생성하고, 상기 재생 상을 투사면에 투사하는 투사부를 구비하는 프로젝터 장치."}
{"patent_id": "10-2023-7029563", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 기술에 따른 실시형태로서의 화상 표시 시스템의 구성예를 나타낸 도면이다. 도 2는 실시형태로서의 화상 처리 장치를 갖고 구성되는 프로젝터 장치의 내부 구성예를 설명하기 위한 블록도 이다. 도 3은 실시형태에 있어서의 근경 보정에 대한 설명도이다. 도 4는 제1 실시형태에 있어서의 화상 처리부의 기능 구성을 나타낸 기능 블록도이다. 도 5는 실시형태에 있어서의 부정합 보정부가 갖는 기능에 대한 설명도이다. 도 6은 현 프레임과 과거 프레임의 화상 내용을 예시한 도면이다. 도 7은 실시형태에 있어서의 부정합 부분의 보정에 대한 설명도이다. 도 8은 보정후의 부정합 부분의 화상 내용을 예시한 도면이다. 도 9는 실시형태에 있어서의 최후값 보유 화상 생성부의 내부 구성예를 나타낸 블록도이다. 도 10은 제1 실시형태로서의 화상 보정을 실현하기 위한 구체적인 처리 순서 예를 나타낸 플로우차트이다. 도 11은 근원 구분에 관한 변형예로서의 화상 처리부의 기능 블록을 나타낸 도면이다. 도 12는 근경 구분 정보와 원경 구분 정보의 예를 나타낸 도면이다. 도 13은 제2 실시형태로서의 화상 처리부의 기능 구성을 나타낸 기능 블록도이다. 도 14는 제3 실시형태에 있어서의 제1 예에 대한 설명도이다. 도 15는 제3 실시형태에 있어서의 제1 예로서의 프로젝터 장치의 구성을 설명하기 위한 블록도이다. 도 16은 제3 실시형태에 있어서의 제2 예에 대한 설명도이다.도 17은 제3 실시형태에 있어서의 제2 예로서의 프로젝터 장치의 구성을 설명하기 위한 블록도이다. 도 18은 실제 크기화 처리의 일례의 설명도이다. 도 19는 실제 크기화 처리의 다른 예의 설명도이다. 도 20은 근원 구분을 피사체간의 거리 차에 기초하여 행하는 변형예에 대한 설명도이다."}
