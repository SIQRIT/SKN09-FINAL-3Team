{"patent_id": "10-2023-0063397", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0165804", "출원번호": "10-2023-0063397", "발명의 명칭": "카메라 기반 프로젝터 캘리브레이션 방법 및 장치", "출원인": "성균관대학교산학협력단", "발명자": "전병우"}}
{"patent_id": "10-2023-0063397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "카메라 기반 프로젝터 캘리브레이션 장치가 수행하는 프로젝터 캘리브레이션 방법으로서,프로젝터에 의해 캘리브레이션 패턴이 투사된 투사면, 그리고 상기 투사면에 위치된 기준물체에 대한 카메라의동시 촬영 영상을 획득하는 단계와,상기 촬영 영상 내의 상기 기준물체에 대한 인식 결과, 그리고 기확보된 상기 기준물체의 크기 정보와 형태 정보에 기초하여, 월드 좌표계와 카메라 좌표계 사이의 위치 관계 정보를 파악하는 단계와,상기 촬영 영상 내의 상기 캘리브레이션 패턴에 포함된 특징점들의 월드 좌표계 기준 3차원 좌표를 추정하는 단계와,상기 추정된 특징점들의 월드 좌표계 기준 3차원 좌표에 기초하여, 상기 프로젝터의 내부 파라미터, 그리고 카메라 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보를 추정하는 단계를 포함하는프로젝터 캘리브레이션 방법."}
{"patent_id": "10-2023-0063397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서,상기 월드 좌표계와 카메라 좌표계 사이의 위치 관계 정보를 파악하는 단계는, 상기 기준물체의 2차원 픽셀 위치와 상기 기준물체의 월드 좌표계 상 위치 사이의 위치 관계 정보로서 상기 카메라의 내부 파라미터, 그리고월드 좌표계에서 카메라 좌표계로 변환하는 동차변환행렬을 파악하는프로젝터 캘리브레이션 방법."}
{"patent_id": "10-2023-0063397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1 항에 있어서,상기 특징점들의 월드 좌표계 기준 3차원 좌표를 추정하는 단계는, 상기 특징점들의 2차원 픽셀 위치, 상기 카메라의 내부 파라미터, 및 상기 월드 좌표계와 카메라 좌표계 사이의 위치 관계 정보를 이용하는프로젝터 캘리브레이션 방법."}
{"patent_id": "10-2023-0063397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 1 항에 있어서,상기 카메라 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보를 추정하는 단계는, 상기 특징점들의 월드 좌표계 기준 3차원 좌표와 상기 캘리브레이션 패턴의 이미지 좌표 사이 관계를 표현할 수 있는 프로젝터의 내부 파라미터를 파악한 후, 상기 파악된 프로젝터의 내부 파라미터, 그리고 월드 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보를 추정하는프로젝터 캘리브레이션 방법."}
{"patent_id": "10-2023-0063397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 4 항에 있어서,상기 카메라 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보를 추정하는 단계는, 상기 특징점을 통해 월드 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보를 월드 좌표계와 카메라 사이의 위치 관계 정보, 그리고 카메라 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보로 분리하는프로젝터 캘리브레이션 방법.공개특허 10-2024-0165804-3-청구항 6 제 1 항에 있어서,목표 투사 영역에 맞게 영상이 투사되기 위한 콘텐츠의 형태를 추정하는 단계와,상기 프로젝터의 내부 파라미터, 월드 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보를 사용하여 상기 프로젝터의 투사 영상 내에서 상기 콘텐츠가 위치해야 할 2차원 픽셀 영역을 계산하는 단계와,상기 계산된 콘텐츠가 위치해야 할 2차원 픽셀 영역의 크기와 형태에 맞게 상기 콘텐츠를 변환하는 단계를 더포함하는프로젝터 캘리브레이션 방법."}
{"patent_id": "10-2023-0063397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "프로젝터 캘리브레이션 프로그램이 저장된 메모리; 및상기 메모리에서 상기 프로젝터 캘리브레이션 프로그램을 로드하여, 상기 프로젝터 캘리브레이션 프로그램을 실행하는 프로세서를 포함하고,상기 프로세서는, 상기 프로젝터 캘리브레이션 프로그램을 실행함으로써,프로젝터에 의해 캘리브레이션 패턴이 투사된 투사면, 그리고 상기 투사면에 위치된 기준물체에 대한 카메라의동시 촬영 영상을 획득하며,상기 촬영 영상 내의 상기 기준물체에 대한 인식 결과, 그리고 기확보된 상기 기준물체의 크기 정보와 형태 정보에 기초하여, 월드 좌표계와 카메라 좌표계 사이의 위치 관계 정보를 파악하고,상기 촬영 영상 내의 상기 캘리브레이션 패턴에 포함된 특징점들의 월드 좌표계 기준 3차원 좌표를 추정하며,상기 추정된 특징점들의 월드 좌표계 기준 3차원 좌표에 기초하여, 상기 프로젝터의 내부 파라미터, 그리고 카메라 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보를 추정하는프로젝터 캘리브레이션 장치."}
{"patent_id": "10-2023-0063397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 7 항에 있어서,상기 월드 좌표계와 카메라 좌표계 사이의 위치 관계 정보를 파악할 때에, 상기 기준물체의 2차원 픽셀 위치와상기 기준물체의 월드 좌표계 상 위치 사이의 위치 관계 정보로서 상기 카메라의 내부 파라미터, 그리고 월드좌표계에서 카메라 좌표계로 변환하는 동차변환행렬을 파악하는프로젝터 캘리브레이션 장치."}
{"patent_id": "10-2023-0063397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 7 항에 있어서,상기 특징점들의 월드 좌표계 기준 3차원 좌표를 추정할 때에, 상기 특징점들의 2차원 픽셀 위치, 상기 카메라의 내부 파라미터, 및 상기 월드 좌표계와 카메라 좌표계 사이의 위치 관계 정보를 이용하는프로젝터 캘리브레이션 장치."}
{"patent_id": "10-2023-0063397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제 7 항에 있어서,상기 카메라 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보를 추정할 때에, 상기 특징점들의 월드 좌표계 기준 3차원 좌표와 상기 캘리브레이션 패턴의 이미지 좌표 사이 관계를 표현할 수 있는 프로젝터의 내부 파라미터를 파악한 후, 상기 파악된 프로젝터의 내부 파라미터, 그리고 월드 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보를 추정하는공개특허 10-2024-0165804-4-프로젝터 캘리브레이션 장치."}
{"patent_id": "10-2023-0063397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제 10 항에 있어서,상기 카메라 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보를 추정할 때에, 상기 특징점을 통해 월드 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보를 월드 좌표계와 카메라 사이의 위치 관계 정보, 그리고 카메라 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보로 분리하는프로젝터 캘리브레이션 장치."}
{"patent_id": "10-2023-0063397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제 7 항에 있어서,목표 투사 영역에 맞게 영상이 투사되기 위한 콘텐츠의 형태를 추정하고,상기 프로젝터의 내부 파라미터, 월드 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보를 사용하여 상기 프로젝터의 투사 영상 내에서 상기 콘텐츠가 위치해야 할 2차원 픽셀 영역을 계산하며,상기 계산된 콘텐츠가 위치해야 할 2차원 픽셀 영역의 크기와 형태에 맞게 상기 콘텐츠를 변환하는프로젝터 캘리브레이션 장치."}
{"patent_id": "10-2023-0063397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "컴퓨터 프로그램을 저장하고 있는 컴퓨터 판독 가능 기록매체로서,상기 컴퓨터 프로그램은, 프로세서부에 의해 실행되면,프로젝터에 의해 캘리브레이션 패턴이 투사된 투사면, 그리고 상기 투사면에 위치된 기준물체에 대한 카메라의동시 촬영 영상을 획득하는 단계와,상기 촬영 영상 내의 상기 기준물체에 대한 인식 결과, 그리고 기확보된 상기 기준물체의 크기 정보와 형태 정보에 기초하여, 월드 좌표계와 카메라 좌표계 사이의 위치 관계 정보를 파악하는 단계와,상기 촬영 영상 내의 상기 캘리브레이션 패턴에 포함된 특징점들의 월드 좌표계 기준 3차원 좌표를 추정하는 단계와,상기 추정된 특징점들의 월드 좌표계 기준 3차원 좌표에 기초하여, 상기 프로젝터의 내부 파라미터, 그리고 카메라 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보를 추정하는 단계를 포함하는 방법을 상기 프로세서부가수행하도록 하기 위한 명령어를 포함하는컴퓨터 판독 가능한 기록매체."}
{"patent_id": "10-2023-0063397", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "일 실시예에 따른 카메라 기반 프로젝터 캘리브레이션 장치가 수행하는 프로젝터 캘리브레이션 방법은, 프로젝터 에 의해 캘리브레이션 패턴이 투사된 투사면, 그리고 상기 투사면에 위치된 기준물체에 대한 카메라의 동시 촬영 영상을 획득하는 단계와, 상기 촬영 영상 내의 상기 기준물체에 대한 인식 결과, 그리고 기확보된 상기 기준물체 의 크기 정보와 형태 정보에 기초하여, 월드 좌표계와 카메라 좌표계 사이의 위치 관계 정보를 파악하는 단계와, 상기 촬영 영상 내의 상기 캘리브레이션 패턴에 포함된 특징점들의 월드 좌표계 기준 3차원 좌표를 추정하는 단 계와, 상기 추정된 특징점들의 월드 좌표계 기준 3차원 좌표에 기초하여, 상기 프로젝터의 내부 파라미터, 그리 고 카메라 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보를 추정하는 단계를 포함한다."}
{"patent_id": "10-2023-0063397", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 카메라를 이용하여 프로젝터를 캘리브레이션하는 방법 및 그 장치에 관한 것이다."}
{"patent_id": "10-2023-0063397", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "종래에는 투영 영상의 자동 키스톤 보정을 위해 프로젝터에 카메라, 초음파 센서, 적외선 센서 등과 같이 투사 면을 감지할 수 있는 센서를 장착하였다. 이러한 투사면 감지 센서를 통해 투영면과 프로젝터의 위치 관계와 투 영 영상의 왜곡 정도를 파악하여 투영 영상의 왜곡이 최소화 되도록 콘텐츠의 형태를 변경하여 투사해왔다. 이처럼, 자동 키스톤 보정이 가능하도록 한 프로젝터는 투사면 감지 센서를 추가로 장착해야하기 때문에 제작 단가가 높아졌다. 아울러, 이러한 자동 키스톤 보정법은 별도의 투사면 감지 센서를 장착하지 않은 프로젝터에 는 적용할 수 없는 문제점이 있었다. 선행기술문헌특허문헌 (특허문헌 0001) 대한민국 공개특허공보 제10-2021-0123059호, 공개일자 2021년 10월 13일."}
{"patent_id": "10-2023-0063397", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "일 실시예에 따르면, 크기 및 형태를 알고 있는 기준물체와 프로젝터의 투사면에 대한 동시 촬영 영상을 이용하 여 프로젝터의 내부 파라미터와 카메라-프로젝터 간 위치 관계를 파악함으로써 목표 위치에 영상을 투사할 수 있도록 하는 카메라 기반 프로젝터 캘리브레이션 방법 및 장치를 제공한다. 본 발명의 해결하고자 하는 과제는 이상에서 언급한 것으로 제한되지 않으며, 언급되지 않은 또 다른 해결하고 자 하는 과제는 아래의 기재로부터 본 발명이 속하는 통상의 지식을 가진 자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2023-0063397", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "제 1 관점에 따른 카메라 기반 프로젝터 캘리브레이션 장치가 수행하는 프로젝터 캘리브레이션 방법은, 프로젝 터에 의해 캘리브레이션 패턴이 투사된 투사면, 그리고 상기 투사면에 위치된 기준물체에 대한 카메라의 동시 촬영 영상을 획득하는 단계와, 상기 촬영 영상 내의 상기 기준물체에 대한 인식 결과, 그리고 기확보된 상기 기 준물체의 크기 정보와 형태 정보에 기초하여, 월드 좌표계와 카메라 좌표계 사이의 위치 관계 정보를 파악하는 단계와, 상기 촬영 영상 내의 상기 캘리브레이션 패턴에 포함된 특징점들의 월드 좌표계 기준 3차원 좌표를 추 정하는 단계와, 상기 추정된 특징점들의 월드 좌표계 기준 3차원 좌표에 기초하여, 상기 프로젝터의 내부 파라 미터, 그리고 카메라 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보를 추정하는 단계를 포함한다. 제 2 관점에 따른 프로젝터 캘리브레이션 장치는, 프로젝터 캘리브레이션 프로그램이 저장된 메모리; 및 상기 메모리에서 상기 프로젝터 캘리브레이션 프로그램을 로드하여, 상기 프로젝터 캘리브레이션 프로그램을 실행하 는 프로세서를 포함하고, 상기 프로세서는, 상기 프로젝터 캘리브레이션 프로그램을 실행함으로써, 프로젝터에 의해 캘리브레이션 패턴이 투사된 투사면, 그리고 상기 투사면에 위치된 기준물체에 대한 카메라의 동시 촬영 영상을 획득하며, 상기 촬영 영상 내의 상기 기준물체에 대한 인식 결과, 그리고 기확보된 상기 기준물체의 크 기 정보와 형태 정보에 기초하여, 월드 좌표계와 카메라 좌표계 사이의 위치 관계 정보를 파악하고, 상기 촬영 영상 내의 상기 캘리브레이션 패턴에 포함된 특징점들의 월드 좌표계 기준 3차원 좌표를 추정하며, 상기 추정된 특징점들의 월드 좌표계 기준 3차원 좌표에 기초하여, 상기 프로젝터의 내부 파라미터, 그리고 카메라 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보를 추정한다. 제 3 관점에 따른 컴퓨터 프로그램을 저장하고 있는 컴퓨터 판독 가능 기록매체는, 상기 컴퓨터 프로그램이, 프 로세서부에 의해 실행되면, 카메라 기반 프로젝터 캘리브레이션 장치가 수행하는 프로젝터 캘리브레이션 방법을 상기 프로세서부가 수행하도록 하기 위한 명령어를 포함한다."}
{"patent_id": "10-2023-0063397", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "일 실시예에 따르면, 크기 및 형태를 알고 있는 기준물체와 프로젝터의 투사면에 대한 동시 촬영 영상을 이용하 여 프로젝터의 내부 파라미터와 카메라-프로젝터 간 위치 관계를 파악함으로써 목표 위치에 영상을 투사할 수 있도록 한다. 이러한 본 발명의 실시예는 스마트폰이나 웹캠(webcam) 등과 같이 사용자가 이미 소유하고 있는 소정의 카메라를 사용하여 프로젝터를 캘리브레이션 할 수 있으므로, 투영면 감지 센서(카메라, 적외선 센서 등)를 포함하고 있지 않는 일반 프로젝터에도 적용할 수 있어서, 프로젝션 시스템 제작에 필요한 비용이 감소되 는 효과가 있다."}
{"patent_id": "10-2023-0063397", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명의 이점 및 특징, 그리고 그것들을 달성하는 방법은 첨부되는 도면과 함께 후술되어 있는 실시예들을 참 조하면 명확해질 것이다. 그러나 본 발명은 이하에서 개시되는 실시예들에 한정되는 것이 아니라 서로 다른 다 양한 형태로 구현될 수 있으며, 단지 본 실시예들은 본 발명의 개시가 완전하도록 하고, 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에게 발명의 범주를 완전하게 알려주기 위해 제공되는 것이며, 본 발명은 청구 항의 범주에 의해 정의될 뿐이다. 본 명세서에서 사용되는 용어에 대해 간략히 설명하고, 본 발명에 대해 구체적으로 설명하기로 한다. 본 발명에서 사용되는 용어는 본 발명에서의 기능을 고려하면서 가능한 현재 널리 사용되는 일반적인 용어들을 선택하였으나, 이는 당 분야에 종사하는 기술자의 의도 또는 판례, 새로운 기술의 출현 등에 따라 달라질 수 있 다. 또한, 특정한 경우는 출원인이 임의로 선정한 용어도 있으며, 이 경우 해당되는 발명의 설명 부분에서 상세 히 그 의미를 기재할 것이다. 따라서 본 발명에서 사용되는 용어는 단순한 용어의 명칭이 아닌, 그 용어가 가 지는 의미와 본 발명의 전반에 걸친 내용을 토대로 정의되어야 한다. 명세서 전체에서 어떤 부분이 어떤 구성요소를 ‘포함’한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다 른 구성요소를 제외하는 것이 아니라 다른 구성요소를 더 포함할 수 있음을 의미한다. 또한, 명세서에서 사용되는 ‘부’라는 용어는 소프트웨어 또는 FPGA나 ASIC과 같은 하드웨어 구성요소를 의미 하며, ‘부’는 어떤 역할들을 수행한다. 그렇지만 ‘부’는 소프트웨어 또는 하드웨어에 한정되는 의미는 아 니다. ‘부’는 어드레싱할 수 있는 저장 매체에 있도록 구성될 수도 있고 하나 또는 그 이상의 프로세서부들 을 재생시키도록 구성될 수도 있다. 따라서, 일 예로서 ‘부’는 소프트웨어 구성요소들, 객체지향 소프트웨어 구성요소들, 클래스 구성요소들 및 태스크 구성요소들과 같은 구성요소들과, 프로세스들, 함수들, 속성들, 프로 시저들, 서브루틴들, 프로그램 코드의 세그먼트들, 드라이버들, 펌웨어, 마이크로 코드, 회로, 데이터, 데이터 베이스, 데이터 구조들, 테이블들, 어레이들 및 변수들을 포함한다. 구성요소들과 ‘부’들 안에서 제공되는 기 능은 더 작은 수의 구성요소들 및 ‘부’들로 결합되거나 추가적인 구성요소들과 ‘부’들로 더 분리될 수 있다. 아래에서는 첨부한 도면을 참고하여 본 발명의 실시예에 대하여 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자가 용이하게 실시할 수 있도록 상세히 설명한다. 그리고 도면에서 본 발명을 명확하게 설명하기 위해서 설명과 관계없는 부분은 생략한다. 도 1은 본 발명의 일 실시예에 따른 카메라 기반 프로젝터 캘리브레이션 장치를 포함하는 프로젝터 시스템의 구 성도이다. 도 1을 참조하면, 프로젝터 시스템은 카메라와 프로젝터 및 프로젝터 캘리브레이션 장치가 통신 가능하게 상호 연결될 수 있다. 프로젝터 캘리브레이션 장치는 메모리 및 프로세서를 포함한다. 또, 프로젝터 캘리브레이션 장치는 인터페이스, 입력부, 출력부 등을 더 포함할 수 있다. 여기서, 프로젝터 캘리브레이션 장치는 데스크탑 PC, 노트북 PC, 태블릿 PC, 스마트폰, 서버 장치 등 다양 한 기기로 구현될 수 있다. 카메라는 프로젝터 캘리브레이션 장치의 제어 하에 투사면을 촬영할 수 있다. 이러한 카메라는 범 용적으로 사용되는 일반 카메라, 핸드폰에 탑재된 카메라, 웹캠 등을 사용할 수 있다. 프로젝터는 프로젝터 캘리브레이션 장치로부터 제공되는 영상을 투사면에 투사할 수 있다. 이러한 프 로젝터는 별도의 투영면 감지 센서를 포함하지 않는 일반적인 프로젝터일 수 있다. 프로젝터는 DLP(digital light processing), LCD(liquid crystal display), CRT(cathod ray tube), LCoS(liquid crystal on silicon) 등과 같은 투사 방식을 사용할 수 있으며, 이에 따라 추가적인 광원을 포함할 수 있다. 프로젝터 캘리브레이션 장치의 메모리에는 프로세서가 카메라 기반 프로젝터 캘리브레이션 방법 을 수행할 수 있도록 하는 적어도 하나의 명령어가 포함된 프로젝터 캘리브레이션 프로그램이 저장된다. 이러한 메모리는 프로젝터 캘리브레이션 장치의 다양한 기능 내지는 인스트럭션과 관련된 정보를 저장할 수있고, ROM, RAM 외에도 하드 디스크, SSD, 플래시 메모리 등을 포함할 수 있다. 프로젝터 캘리브레이션 장치의 프로세서는 메모리에 저장된 프로젝터 캘리브레이션 프로그램을 실행함으로써, 프로젝터에 의해 캘리브레이션 패턴이 투사된 투사면, 그리고 투사면에 위치된 기준물체에 대한 카메라의 동시 촬영 영상을 획득하며, 촬영 영상 내의 기준물체에 대한 인식 결과, 그리고 기확보된 기준물 체의 크기 정보와 형태 정보에 기초하여, 월드 좌표계와 카메라 좌표계 사이의 위치 관계 정보를 파악하고, 촬 영 영상 내의 캘리브레이션 패턴에 포함된 특징점들의 월드 좌표계 기준 3차원 좌표를 추정하며, 추정된 특징점 들의 월드 좌표계 기준 3차원 좌표에 기초하여, 프로젝터의 내부 파라미터, 그리고 카메라 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보를 추정한다. 이러한 프로세서는 하나 또는 복수의 프로세서로 구성될 수 있 다. 예를 들어, 하나 또는 복수의 프로세서는 CPU(central process unit), DSP(digital signal processor) 등과 같은 범용 프로세서, GPU(graphic process unit), VPU(vision process Unit) 등과 같은 그래 픽 전용 프로세서 또는 NPU(neural process unit)와 같은 인공지능 전용 프로세서일 수 있다. 여기서, 프로세서는 월드 좌표계와 카메라 좌표계 사이의 위치 관계 정보를 파악할 때에, 기준물체의 2차 원 픽셀 위치와 기준물체의 월드 좌표계 상 위치 사이의 위치 관계 정보로서 카메라의 내부 파라미터, 그리 고 월드 좌표계에서 카메라 좌표계로 변환하는 동차변환행렬을 파악할 수 있다. 또한, 프로세서는 촬영 영상 내의 캘리브레이션 패턴에 포함된 특징점들의 월드 좌표계 기준 3차원 좌표를 추정할 때에, 캘리브레이션 패턴에 포함된 특징점들의 2차원 픽셀 위치, 카메라의 내부 파라미터, 및 월드 좌표계와 카메라 좌표계 사이의 위치 관계 정보를 이용할 수 있다. 그리고, 프로세서는 카메라 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보를 추정할 때에, 캘리브레이 션 패턴에 포함된 특징점들의 월드 좌표계 기준 3차원 좌표와 캘리브레이션 패턴의 이미지 좌표 사이 관계를 표 현할 수 있는 프로젝터의 내부 파라미터를 파악한 후, 파악된 프로젝터의 내부 파라미터, 그리고 월드 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보를 추정할 수 있다. 또한, 프로세서는 카메라 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보를 추정할 때에, 캘리브레이션 패턴에 포함된 특징점을 통해 월드 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보를 월드 좌표계와 카메라 사이의 위치 관계 정보, 그리고 카메라 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보로 분리할 수 있다. 그리고, 프로세서는 목표 투사 영역에 맞게 영상이 투사되기 위한 콘텐츠의 형태를 추정할 수 있고, 프로 젝터의 내부 파라미터, 월드 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보를 사용하여 프로젝터의 투사 영상 내에서 콘텐츠가 위치해야 할 2차원 픽셀 영역을 계산할 수 있으며, 계산된 콘텐츠가 위치해야 할 2 차원 픽셀 영역의 크기와 형태에 맞게 콘텐츠를 변환할 수 있다. 프로젝터 캘리브레이션 장치의 인테페이스는 프로젝터 캘리브레이션 장치가 사용자, 카메라 또는 프로젝터와 정보 및/또는 명령을 주고받을 때의 경로를 제공할 수 있다. 프로젝터 캘리브레이션 장치의 입력부는 카메라, 프로젝터 및 사용자가 프로젝터 캘리브레이 션 장치에 각종 정보 및/또는 명령을 입력할 수 있는 경로를 제공할 수 있다. 프로젝터 캘리브레이션 장치의 출력부는 프로젝터 캘리브레이션 장치가 카메라 및/또는 프 로젝터에 각종 정보를 전달하거나 또는 각종 정보를 사용자가 인지할 수 있도록 출력하는 경로를 제공할 수 있다. 도 2는 본 발명의 일 실시예에 다른 카메라 기반 프로젝터 캘리브레이션 장치가 수행하는 프로젝터 캘리브 레이션 방법을 설명하기 위한 흐름도이고, 도 3은 본 발명의 일 실시예에 다른 카메라 기반 프로젝터 캘리브레 이션 장치가 수행하는 프로젝터 캘리브레이션 상황을 나타낸 개념도이다. 이하, 도 1 내지 도 3을 참조하여 본 발명의 일 실시예에 따른 카메라 기반 프로젝터 캘리브레이션 장치가 수행하는 프로젝터 캘리브레이션 방법에 대해 자세히 살펴보기로 한다. 먼저, 이하의 설명에서 사용될 용어를 정의하면 다음과 같다. - : 카메라로 촬영한 영상 내 기준물체의 2차원 픽셀 좌표 - : 카메라로 촬영한 영상의 캘리브레이션 패턴 내 특징점의 2차원 픽셀 좌표 - : 카메라로 촬영한 영상에서 목표 투사 영역의 2차원 픽셀 좌표 - : 프로젝터가 투사하는 영상에서 캘리브레이션 패턴 내 특징점들의 2차원 픽셀 좌표 - : 프로젝터가 투사하는 영상에서 목표 투사 영역의 2차원 픽셀 좌표 - : 월드 좌표계에서 기준물체의 3차원 좌표 - : 월드 좌표계에서 투사면 상에 투사된 캘리브레이션 패턴 내 특징점들의 3차원 좌표 - : 월드 좌표계에서 목표 투사 영역의 3차원 좌표 - : 카메라의 내부 파라미터, 카메라 렌즈의 focal length, lens distortion coefficient, 카메라의 principal point를 포함할 수 있음 - : 프로젝터의 내부 파라미터, 프로젝터 렌즈의 focal length, lens distortion coefficient, 프로 젝터의 principal point를 포함할 수 있음 - : 월드 좌표계 에서 카메라 좌표계 로 변환하는 동차변환행렬(homogenous transformation matrix) - : 월드 좌표계 에서 프로젝터 좌표계 로 변환하는 동차변환행렬 - : 카메라 좌표계 에서 프로젝터 좌표계 로 변환하는 동차변환행렬 프로젝터 캘리브레이션 장치의 메모리에는 프로세서가 카메라 기반 프로젝터 캘리브레이션 방법 을 수행할 수 있도록 하는 적어도 하나의 명령어가 포함된 프로젝터 캘리브레이션 프로그램이 저장되고, 프로세 서는 메모리에 저장된 프로젝터 캘리브레이션 프로그램을 실행함으로써, 프로세서가 카메라 기 반 프로젝터 캘리브레이션 방법을 수행할 수 있다. 한편, 사용자는 프로젝터 캘리브레이션 장치에 의한 캘리브레이션이 수행 전에 크기 정보와 형태 정보가 알려진 기준물체, 즉 크기 정보와 형태 정보가 메모리에 저장된 상태로 기확보된 기준물체를 프로젝 터의 투사면에 위치시켜 고정하는 사전 준비를 수행한다. 예컨대, 기준물체는 visual marker 혹은 사 전에 크기와 형태가 알려진 물체이거나, 또는 투사면 상에 존재하는 임의의 패턴일 수 있다. 이러한 사전 준비가 완료된 상태에서 프로젝터는 투사면에 캘리브레이션 패턴을 투사한다. 예를 들어, 캘리브레이션 패턴은 체스보드 패턴 영상일 수 있으며, 영상 내 격자와 같은 특징점들에 대한 2차원 픽셀 위치"}
{"patent_id": "10-2023-0063397", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "가 알려져 있어야 한다. 이 상태에서 카메라는 기준물체 및 캘리브레이션 패 턴이 포함된 투사면을 촬영하며, 동시 촬영된 캘리브레이션 패턴 및 기준물체에 대한 동시 촬영 영상을 카메라가 프로젝터 캘리브레이션 장치에 제공한다. 이로써, 프로젝터 캘리브레이션 장치 의 프로세서가 캘리브레이션 패턴 및 기준물체에 대한 동시 촬영 영상을 획득한다(S210). 다음으로, 프로세서는 획득된 동시 촬영 영상 내의 기준물체에 대한 인식 결과, 그리고 기확보된 기준물체 의 크기 정보와 형태 정보에 기초하여, 월드 좌표계와 카메라 좌표계 사이의 위치 관계 정보를 파악한다. 이를 위해, 프로세서는 촬영 영상 내에서 기준물체의 2차원 픽셀 위치"}
{"patent_id": "10-2023-0063397", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "를 파악할 수 있다. 기준물 체는 크기와 형태가 알려져 있기 때문에 프로세서는 수학식 1과 같이 기준물체의 2차원 픽셀 위치 와 기준물체의 월드 좌표계 상 위치 간 관계를 나타내는 와 를 파악할 수 있다. 사용자의 카메라에 대한 정보인 가 알려져 있다고 가정한다면 월드 좌표계와 카메라 좌표계 상의 위치 관계 를 나타내는 를 쉽게 구할 수 있다(S220). 수학식 1은 기준물체의 촬영된 영상 내 2차원 위치 좌표 와 기준물체의 월드 좌표계 상 3차원 위치 좌표 , 카메라의 내부 파라미터를 나타내는 가 주어졌을 때, 월드 좌표계와 카메라 좌표계 사이의 위치 관계를 나타내는 를 추정할 수 있음을 나타낸 식이다. 수학식 1을 포함하여 아래의 모든 수학식들 은 설명의 의해를 돕기 위해 선형 방정식으로 작성하였으나 이에 한정되는 것은 아니다. [수학식 1]"}
{"patent_id": "10-2023-0063397", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "다음으로, 프로세서는 촬영 영상 내의 캘리브레이션 패턴에 포함된 특징점들의 월드 좌표계 기준 3차원 좌 표를 추정하며(S230), 추정된 특징점들의 월드 좌표계 기준 3차원 좌표에 기초하여, 프로젝터의 내부 파라미터, 그리고 카메라 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보를 추정한다(S240). 이를 위해, 프로세서는 촬영 영상에서 캘리브레이션 패턴 내에 포함된 특징점들의 2차원 픽셀 위치 를 파악할 수 있다. 예를 들어, 캘리브레이션 패턴 인식을 위해, 프로세서는 canny edge detector, CNN(convolutional neural network) 등과 같은 종래 영상 내 패턴 인식 방법을 사용할 수 있다. 기준물체(30 2)는 투사면과 동일한 면에 존재하므로, 이전 단계에서 추정한 를 통해 수학 2를 사용하여 을 추정할 수 있다. 수학식 2는 카메라로 촬영된 영상에서 탐색한 캘리브레이션 패턴 특징점의 2차원 위치 좌표 와 카메라의 내부 파라미터를 나타내는 와 수학식 1에서 추정한 월드 좌표계와 카메라 좌표계 사이의 위치 관계인 를 사용하여 캘리브레이션 패턴의 특징점이 월드 좌표계 기준 3차원 좌표인 이 무엇인지 추정할 수 있다. [수학식 2]"}
{"patent_id": "10-2023-0063397", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "앞선 단계들을 통해서 프로젝터로부터 투영면으로 투사된 캘리브레이션 패턴의 특징점들에 대한 월드 좌표계 기준 3차원 좌표인 와 월드 좌표계들과 카메라 좌표계 사이의 위치 관계인 이 추정 될 수 있다. 다음으로, 프로세서는 프로젝터의 내부 파라미터인 , 카메라 좌표계와 프로젝터 좌표계 사이 의 위치 관계인 를 추정한다. 이를 위해, 프로세서는 앞선 단계에서 추정된 캘리브레이션 패턴 내 특 징점들의 월드 좌표계 기준 3차원 좌표인 와 캘리브레이션 패턴의 이미지 좌표인 의 사이 관계를 가장 잘 표현할 수 있는 프로젝터의 내부 파라미터인 와 월드 좌표계와 프로젝터 좌표계 사이의 위 치관계인 를 수학식 3을 통해 추정한다. 여기서, 캘리브레이션 패턴 내에 특징점이 여러 개일 경우 또는 동시 촬영 영상이 복수일 경우에 최소자승 법(least square method)과 같은 추정 방법을 사용하여 하나의 와 각각의 촬영된 영상에 해당하는 를 추정할 수 있다. [수학식 3]"}
{"patent_id": "10-2023-0063397", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "또한, 는 수학식 3과 같이 와 의 행렬곱으로 나누어 질 수 있다. 따라서 수학식 4와 같 이 이전 단계에서 이미 추정된 과 를 사용하여 를 추정할 수 있다. 캘리브레이션 패턴 내에 특징점이 여러 개일 경우 또는 동시 촬영 영상이 복수일 경우에 최소자승법과 같은 추정 방법을 사 용하여 를 추정할 수 있다.[수학식 4]"}
{"patent_id": "10-2023-0063397", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "상기 단계를 설명하자면, 투영면 상에 투사된 특징점을 통해 월드 좌표계와 프로젝터 좌표계 사이의 위치관계인 를 월드 좌표계와 카메라 사이의 위치관계 , 카메라 좌표계와 프로젝터 좌표계 사이의 위치관 계 로 분리할 수 있음을 의미한다. 그리고, 프로세서는 목표 투사 영역에 맞게 영상이 투사되기 위한 콘텐츠의 형태를 추정할 수 있다. 예를 들어, 사용자는 투사될 콘텐츠가 투사면 상에서 어느 위치에 투사할지 결정해 프로세서에 제공할 수 있다. 예컨대, 사용자는 프로젝터로부터 투사된 영상이 투사면을 기준으로 직사각형이 될 수 있도록 하거나, 캘리브레이션 단계에서 사용된 영상 내에서 투사면 상의 임의의 영역을 인터페이스를 통해 입력함으로써 목표 투사 영역의 위치를 결정할 수 있다. 그리고, 프로세서는 목표 투사 영역에 맞게 영상이 투사되기 위 한 콘텐츠 형태를 추정한다. 목표 투사 영역이 캘리브레이션 단계에서 사용된 캘리브레이션 패턴들의 좌표계와 동일한 월드 좌표계를 기반으로 한 3차원 좌표 으로 결정되었다면, 수학식 5와 같이 캘리브레이션 단계에 서 추정한 와 를 사용하여 프로젝터가 투사할 영상 내에서 콘텐츠가 위치해야 할 2차원 픽셀 영역 을 계산할 수 있다(S250). 만약 목표 투사 영역의 위치가 시간에 따라 변화하는 경우, 카메라를 통해 목표 투사 영역의 위치를 확인하여 목표 투사 영역의 좌표계와 카메라 좌표계 사이의 위치관계인 를 다시 파악하고, 수학식 3에 따라 캘리 브레이션 단계에서 추정한 를 곱하여 를 추정할 수 있다. 그 이후, 수학식 5를 사용하여 목표 투 사 영역의 위치인 에 투사하기 위한 영상 좌표 를 계산할 수 있다. 이러한 방식은 목표 투사 영역이 실시간으로 변화할 때도 사용할 수 있다. [수학식 5]"}
{"patent_id": "10-2023-0063397", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "만약, 목표 투사 영역이 캘리브레이션 단계에서 사용된 영상 내 2차원 픽셀 좌표 로 결정되었다면, 수학식 6과 같이 이미 알려진 와 캘리브레이션 단계에서 획득한 를 통해 를 구하고, 수학식 5와 같이 을 계산할 수 있다. 전술한 설명은 사용자가 목표 투사 영역을 캘리브레이션 단계에서 사용된 영상에 존재하는 투사면 내 임의의 영 역을 목표 투사 영역을 설정하는 경우를 나타낸 것이다. 이를 위해 사용자는 키보드, 마우스, 키패드, 버튼, 터 치 패널, 디지타이저(digitizer) 등과 같은 입출력 수단을 사용할 수 있고, 해당 정보 및 명령은 인터페이스 및/또는 입력부를 통해 프로세서에 전달될 수 있다. 캘리브레이션 단계에서 이미 카메라와 투영면 사이의 위치관계를 파악했기 때문에, 사용자가 영상 내에서 목표 투사 영역을 설정하더라도 해당 영역을 월드 좌표계 상 3차원 좌표로 변환할 수 있다. [수학식 6]"}
{"patent_id": "10-2023-0063397", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 9, "content": "다음으로, 프로세서는 프로젝터의 내부 파라미터, 월드 좌표계와 프로젝터 좌표계 사이의 위치 관계 정보를 사용하여 프로젝터의 투사 영상 내에서 콘텐츠가 위치해야 할 2차원 픽셀 영역을 계산할 수 있으며 (S260), 계산된 콘텐츠가 위치해야 할 2차원 픽셀 영역의 크기와 형태에 맞게 콘텐츠를 변환할 수 있다(S270). 프로세서는 소정의 크기를 가지는 콘텐츠를 의 크기와 형태에 맞게 변환함으로써, 프로젝터가 목 표 투사 영역에 콘텐츠를 투사할 수 있도록 하는 것이다. 이로써, 별도의 투사면 감지 센서를 포함하고 있지 않 는 프로젝터를 캘리브레이션하고 목표 투사 영역에 콘텐츠를 투사할 수 있도록 하였다. 지금까지 설명한 바와 같이, 일 실시예에 따르면, 크기 및 형태를 알고 있는 기준물체와 프로젝터의 투사면에 대한 동시 촬영 영상을 이용하여 프로젝터의 내부 파라미터와 카메라-프로젝터 간 위치 관계를 파악함으로써 목표 위치에 영상을 투사할 수 있도록 한다. 이러한 본 발명의 실시예는 스마트폰이나 웹캠 등과 같이 사용자가 이미 소유하고 있는 소정의 카메라를 사용하여 프로젝터를 캘리브레이션 할 수 있으므로, 투영면 감지 센서(카 메라, 적외선 센서 등)를 포함하고 있지 않는 일반 프로젝터에도 적용할 수 있어서, 프로젝션 시스템 제작에 필 요한 비용이 감소되는 효과가 있다. 한편, 전술한 실시예에 따른 카메라 기반 프로젝터 캘리브레이션 방법에 포함된 각각의 단계는, 이러한 단계를 수행하도록 프로그램된 컴퓨터 프로그램을 기록하는 컴퓨터 판독가능한 기록매체에서 구현될 수 있다. 또한, 전술한 실시예에 따른 카메라 기반 프로젝터 캘리브레이션 방법에 포함된 각각의 단계는, 이러한 단계를 수행하도록 프로그램된, 컴퓨터 판독가능한 기록매체에 저장된 컴퓨터 프로그램의 형태로 구현될 수 있다. 본 발명에 첨부된 각 흐름도의 각 단계의 조합들은 컴퓨터 프로그램 인스트럭션들에 의해 수행될 수도 있다. 이 들 컴퓨터 프로그램 인스트럭션들은 범용 컴퓨터, 특수용 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비의 프로세서부에 탑재될 수 있으므로, 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비의 프로세서 부를 통해 수행되는 그 인스트럭션들이 흐름도의 각 단계에서 설명된 기능들을 수행하는 수단을 생성하게 된다. 이들 컴퓨터 프로그램 인스트럭션들은 특정 방식으로 기능을 구현하기 위해 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비를 지향할 수 있는 컴퓨터 이용 가능 또는 컴퓨터 판독 가능 기록매체에 저장되는 것도 가 능하므로, 그 컴퓨터 이용가능 또는 컴퓨터 판독 가능 기록매체에 저장된 인스트럭션들은 흐름도의 각 단계에서 설명된 기능을 수행하는 인스트럭션 수단을 내포하는 제조 품목을 생산하는 것도 가능하다. 컴퓨터 프로그램 인 스트럭션들은 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비 상에 탑재되는 것도 가능하므로, 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비 상에서 일련의 동작 단계들이 수행되어 컴퓨터로 실행되는 프 로세스를 생성해서 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비를 수행하는 인스트럭션들은 흐름도 의 각 단계에서 설명된 기능들을 실행하기 위한 단계들을 제공하는 것도 가능하다. 또한, 각 단계는 특정된 논리적 기능(들)을 실행하기 위한 하나 이상의 실행 가능한 인스트럭션들을 포함하는 모듈, 세그먼트 또는 코드의 일부를 나타낼 수 있다. 또, 몇 가지 대체 실시예들에서는 단계들에서 언급된 기능 들이 순서를 벗어나서 발생하는 것도 가능함을 주목해야 한다. 예컨대, 잇달아 도시되어 있는 두 개의 단계들은 사실 실질적으로 동시에 수행되는 것도 가능하고 또는 그 단계들이 때때로 해당하는 기능에 따라 역순으로 수행 되는 것도 가능하다. 이상의 설명은 본 발명의 기술 사상을 예시적으로 설명한 것에 불과한 것으로서, 본 발명이 속하는 기술 분야에 서 통상의 지식을 가진 자라면 본 발명의 본질적인 품질에서 벗어나지 않는 범위에서 다양한 수정 및 변형이 가 능할 것이다. 따라서, 본 발명에 개시된 실시예들은 본 발명의 기술 사상을 한정하기 위한 것이 아니라 설명하 기 위한 것이고, 이러한 실시예에 의하여 본 발명의 기술 사상의 범위가 한정되는 것은 아니다. 본 발명의 보호 범위는 아래의 청구범위에 의하여 해석되어야 하며, 그와 균등한 범위 내에 있는 모든 기술사상은 본 발명의 권 리범위에 포함되는 것으로 해석되어야 할 것이다."}
{"patent_id": "10-2023-0063397", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 카메라 기반 프로젝터 캘리브레이션 장치를 포함하는 프로젝터 시스템의 구 성도이다. 도 2는 본 발명의 일 실시예에 다른 카메라 기반 프로젝터 캘리브레이션 장치가 수행하는 프로젝터 캘리브레이션 방법을 설명하기 위한 흐름도이다. 도 3은 본 발명의 일 실시예에 다른 카메라 기반 프로젝터 캘리브레이션 장치가 수행하는 프로젝터 캘리브레이 션 상황을 나타낸 개념도이다."}
