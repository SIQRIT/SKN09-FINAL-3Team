{"patent_id": "10-2022-0054595", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0155120", "출원번호": "10-2022-0054595", "발명의 명칭": "척추 만곡의 진단을 위한 진단 지표 산출 방법", "출원인": "주식회사 딥노이드", "발명자": "최우식"}}
{"patent_id": "10-2022-0054595", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "척추 만곡의 진단을 위한 진단 지표 산출 방법에 있어서,(a) 척추 단면 영상이 입력되는 단계와;(b) 상기 척추 단면 영상이 전처리되는 단계와;(c) 상기 (b) 단계에서 전처리된 상기 척추 단면 영상으로부터 복수의 척추체가 검출되어 척추 마스크 영상의생성되는 단계와;(d) 상기 척추 마스크 영상 내의 각각의 상기 척추체로부터 복수의 꼭지점 좌표가 추출되는 단계와;(e) 각각의 상기 척추체에 대해, 복수의 상기 꼭지점 좌표에 기초하여 윗면 기울기 값 및 아랫면 기울기 값이산출되는 단계와;(f) 각각의 상기 척추체에 대한 상기 윗면 기울기 값 및 상기 아랫면 기울기 값에 기초하여, 상기 척추 만곡의진단을 위한 진단 지표가 산출되는 단계를 포함하는 것을 특징으로 하는 척추 만곡의 진단을 위한 진단 지표 산출 방법."}
{"patent_id": "10-2022-0054595", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 판단 지표는 Cobb angle, Gardner angle, 및 Sagittal index 중 적어도 하나를 포함하는 것을 특징으로하는 척추 만곡의 진단을 위한 진단 지표 산출 방법."}
{"patent_id": "10-2022-0054595", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 (b) 단계는(b1) 상기 척추 단면 영상이 정규화되는 단계와;(b2) 정규화된 상기 척추 단면 영상의 대조도가 향상되는 단계와;(b3) 대조도가 향상된 상기 척츠 측면 단면 영상의 사이즈가 조절되는 단계 중 적어도 하나를 포함하는 것을 특징으로 하는 척추 만곡의 진단을 위한 진단 지표 산출 방법."}
{"patent_id": "10-2022-0054595", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 (c) 단계에서는 CNN 기반의 인공지능 모델에 의해 복수의 상기 척추체가 검출되는 것을 특징으로 하는 척추 만곡의 진단을 위한 진단 지표 산출 방법."}
{"patent_id": "10-2022-0054595", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서,공개특허 10-2023-0155120-3-상기 (d) 단계는(d1) 상기 척추 마스크 영상으로부터 각각의 상기 척추체에 대응하는 척추 영역이 추출되는 단계와,(d2) 각각의 상기 척추 영역으로부터 복수의 상기 꼭지점 좌표가 추출되는 단계를 포함하며;복수의 상기 꼭지점 좌표는 좌상단 포인트 좌표, 좌하단 포인트 좌표, 우상단 포인트 좌표, 우하단 포인트 좌표를 포함하는 것을 특징으로 하는 척추 만곡의 진단을 위한 진단 지표 산출 방법."}
{"patent_id": "10-2022-0054595", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5항에 있어서,상기 (e) 단계에서상기 윗면 기울기 값은 상기 좌상단 포인트 좌표와 상기 우상단 포인트 좌표를 연결하는 선분의 수평 방향에 대한 기울기에 의해 산출되며;상기 아랫면 기울기 값은 상기 좌하단 포인트 좌표와 상기 우하단 포인트 좌표를 연결하는 선분의 수평 방향에대한 기울기에 의해 산출되는 것을 특징으로 하는 척추 만곡의 진단을 위한 진단 지표 산출 방법."}
{"patent_id": "10-2022-0054595", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제1항에 있어서,상기 척추 단면 영상은 전방 단면 영상, 후방 단면 영상, 측방 단면 영상 중 적어도 하나를 포함하는 것을 특징으로 하는 척추 만곡의 진단을 위한 진단 지표 산출 방법."}
{"patent_id": "10-2022-0054595", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 척추 만곡의 진단을 위한 진단 지표 산출 방법에 있어서, (a) 척추 단면 영상이 입력되는 단계와; (b) 상기 척추 단면 영상이 전처리되는 단계와; (c) 상기 (b) 단계에서 전처리된 상기 척추 단면 영상으로부터 복수 의 척추체가 검출되어 척추 마스크 영상의 생성되는 단계와; (d) 상기 척추 마스크 영상 내의 각각의 상기 척추 체로부터 복수의 꼭지점 좌표가 추출되는 단계와; (e) 각각의 상기 척추체에 대해, 복수의 상기 꼭지점 좌표에 기초하여 윗면 기울기 값 및 아랫면 기울기 값이 산출되는 단계와; (f) 각각의 상기 척추체에 대한 상기 윗면 기 울기 값 및 상기 아랫면 기울기 값에 기초하여, 상기 척추 만곡의 진단을 위한 진단 지표가 산출되는 단계를 포 함하는 것을 특징으로 한다. 이에 따라, 척추에 대해 촬영된 X-ray 영상과 같은 척추 단면 영상으로부터 척추 만 곡을 진단하기 위한 진단 지표를 산출할 수 있다."}
{"patent_id": "10-2022-0054595", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 척추 만곡의 진단을 위한 진단 지표 산출 방법에 관한 것으로서, 보다 상세하게는 척추에 대해 촬영 된 X-ray 영상과 같은 척추 단면 영상으로부터 척추 만곡을 진단하기 위한 진단 지표를 산출할 수 있는 진단 지 표 산출 방법에 관한 것이다."}
{"patent_id": "10-2022-0054595", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "인간의 척추는 24개의 등뼈와 꼬리뼈(천골)로 구성된다. 등뼈는 체중의 대부분을 지지하므로 많은 압력을 부담 하게 되는데, 앞쪽에 드럼 모양의 척추체, 척수를 위한 구멍, 그리고 뒤쪽에 몇 개의 돌출된 뼈(통상 '돌기'라 부름)로 이루어진다. 그리고, 각 등뼈 사이에 있는 연골 디스크는 뼈의 완충 및 보호에 도움을 준다. 허리 통증으로 인해 디스크 등과 같이 MRI 촬영을 요하는 질병들도 있지만, 척추 만곡을 분석하여 진단할 수 있 는 X-ray와 같은 단순 단면 영상도 척추측만증, 척추후만증, 척추전만증 등의 질환을 진단할 수 있다. CT 영상 및 MR 영상에서는 비교적 높은 해상도의 영상 품질로 척추 영역에 대한 분할(Segmentation)의 성능이 높은 환경이지만, X-ray와 같은 단순 단면 영상은 2차원 영상이므로, 촬영 각도, 기술 등에 영상 품질의 차이가 발생하게 된다. 따라서, 여러 영상 품질을 본 전문가의 전문 지식이 필요할 수 있으며, 단순 반복 작업으로 인한 전문가들의 피 로도가 축적될 수 있고, 그에 따라 판독 오류를 야기할 수 있다."}
{"patent_id": "10-2022-0054595", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "이에, 본 발명은 상기와 같은 문제점을 해소하기 위해 안출된 것으로서, 척추에 대해 촬영된 X-ray 영상과 같은 척추 단면 영상으로부터 척추 만곡을 진단하기 위한 진단 지표를 산출할 수 있는 진단 지표 산출 방법을 제공하는데 그 목적이 있다."}
{"patent_id": "10-2022-0054595", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 목적은 본 발명에 따라, 척추 만곡의 진단을 위한 진단 지표 산출 방법에 있어서, (a) 척추 단면 영상이 입력되는 단계와; (b) 상기 척추 단면 영상이 전처리되는 단계와; (c) 상기 (b) 단계에서 전처리된 상기 척추 단면 영상으로부터 복수의 척추체가 검출되어 척추 마스크 영상의 생성되는 단계와; (d) 상기 척추 마스크 영상 내의 각각의 상기 척추체로부터 복수의 꼭지점 좌표가 추출되는 단계와; (e) 각각의 상기 척추체에 대해, 복수 의 상기 꼭지점 좌표에 기초하여 윗면 기울기 값 및 아랫면 기울기 값이 산출되는 단계와; (f) 각각의 상기 척 추체에 대한 상기 윗면 기울기 값 및 상기 아랫면 기울기 값에 기초하여, 상기 척추 만곡의 진단을 위한 진단 지표가 산출되는 단계를 포함하는 것을 특징으로 하는 척추 만곡의 진단을 위한 진단 지표 산출 방법에 의해서 달성된다. 여기서, 상기 판단 지표는 Cobb angle, Gardner angle, 및 Sagittal index 중 적어도 하나를 포함할 수 있다. 그리고, 상기 (b) 단계는 (b1) 상기 척추 단면 영상이 정규화되는 단계와; (b2) 정규화된 상기 척추 단면 영상 의 대조도가 향상되는 단계와; (b3) 대조도가 향상된 상기 척츠 측면 단면 영상의 사이즈가 조절되는 단계 중 적어도 하나를 포함할 수 있다. 또한, 상기 (c) 단계에서는 CNN 기반의 인공지능 모델에 의해 복수의 상기 척추체가 검출될 수 있다. 그리고, 상기 (d) 단계는 (d1) 상기 척추 마스크 영상으로부터 각각의 상기 척추체에 대응하는 척추 영역이 추 출되는 단계와, (d2) 각각의 상기 척추 영역으로부터 복수의 상기 꼭지점 좌표가 추출되는 단계를 포함하며; 복 수의 상기 꼭지점 좌표는 좌상단 포인트 좌표, 좌하단 포인트 좌표, 우상단 포인트 좌표, 우하단 포인트 좌표를 포함할 수 있다. 그리고, 상기 (e) 단계에서 상기 윗면 기울기 값은 상기 좌상단 포인트 좌표와 상기 우상단 포인트 좌표를 연결 하는 선분의 수평 방향에 대한 기울기에 의해 산출되며; 상기 아랫면 기울기 값은 상기 좌하단 포인트 좌표와 상기 우하단 포인트 좌표를 연결하는 선분의 수평 방향에 대한 기울기에 의해 산출될 수 있다. 그리고, 상기 척추 단면 영상은 전방 단면 영상, 후방 단면 영상, 측방 단면 영상 중 적어도 하나를 포함할 수 있다."}
{"patent_id": "10-2022-0054595", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "상기와 같은 구성에 따라, 본 발명에 따르면, 척추에 대해 촬영된 X-ray 영상과 같은 척추 단면 영상으로부터 척추 만곡을 진단하기 위한 진단 지표를 산출할 수 있는 진단 지표 산출 방법이 제공된다."}
{"patent_id": "10-2022-0054595", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명은 다양한 변경을 가할 수 있고 여러 가지 실시예를 가질 수 있는 바, 특정 실시 예들을 도면에 예시하 고 상세하게 설명하고자 한다. 그러나, 이는 본 발명을 특정한 실시 형태에 대해 한정하려는 것이 아니며, 본 발명의 사상 및 기술 범위에 포 함되는 모든 변경, 균등물 내지 대체물을 포함하는 것으로 이해되어야 한다. 본 출원에서 사용한 용어는 단지 특정한 실시예를 설명하기 위해 사용된 것으로, 본 발명을 한정하려는 의도가 아니다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 출원에서, \"포함하다\" 또는 \"가지다\" 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조 합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성요소, 부 품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 다르게 정의되지 않는 한, 기술적이거나 과학적인 용어를 포함해서 여기서 사용되는 모든 용어들은 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에 의해 일반적으로 이해되는 것과 동일한 의미를 가지고 있다. 일 반적으로 사용되는 사전에 정의되어 있는 것과 같은 용어들은 관련 기술의 문맥 상 가지는 의미와 일치하는 의 미를 가진 것으로 해석되어야 하며, 본 출원에서 명백하게 정의하지 않는 한, 이상적이거나 과도하게 형식적인 의미로 해석되지 않는다. 이하에서는 첨부된 도면을 참조하여 본 발명에 따른 실시예들을 상세히 설명한다. 본 발명의 실시예에 따른 진단 지표 산출 장치 및 진단 지표 산출 방법은 척추 단면 영상으로부터 척추 만 곡, 예컨대, 척추측만증, 척추후만증, 척추전만증의 진단을 위한 진단 지표를 산출한다. 여기서, 척추 단면 영 상은 척추 측면, 또는 척추 정면, 또는 척추 배면을 촬영한 한 장의 단면 영상으로, 예컨대, 척추 단면을 촬영 한 X-ray 영상일 수 있다. 다른 예로, CT 영상이나 MRI 영상 등과 같은 3차원 영상의 경우에서도, 척추 단면을 나타내는 1 장의 슬라이드 영상이 척추 단면 영상으로 입력되어 적용 가능함은 물론이다. 이하에서는 척추 단면 영상이 X-ray 영상인 것을 예로 하여 설명한다. 도 1은 본 발명의 실시예에 따른 진단 지표 산출 장치의 구성의 예를 나타낸 도면이다. 도 1을 참조하여 설명하면, 본 발명의 실시예에 따른 진단 지표 산출 장치는 X-ray 촬영기에 의해 촬영된 X-ray 영상, 즉 척추 단면 영상을 입력받는다. 본 발명의 실시예에 따른 진단 지표 산출 장치는 통신부를 포함하여 구성될 수 있다. 통신부는 네트워크를 통해 X-ray 촬영기로부터 척추 단면 영상을 입력받는다. 도 1에서는 통신부가 X-ray 촬영 기로부터 직접 척추 단면 영상을 입력받는 형태로 도시하고 있으나, DICOM 서버 등을 거쳐 수신하거나, 사 용자가 직접 척추 단면 영상을 입력할 수 있다. 본 발명의 실시예에 따른 진단 지표 산출 장치는 영상 전처리부를 포함하여 구성될 수 있다. 여기서, 영상 전처리부는 통신부를 통해 입력되는 척추 단면 영상을 전처리할 수 있다. 영상 전처리부에 의해 수행되는 척추 단면 영상의 전처리 과정에 대한 상세한 설명은 후술한다. 본 발명의 실시예에 따른 진단 지표 산출 장치는 척추체 검출 모델을 포함하여 구성될 수 있다. 척추 체 검출 모델은 영상 전처리부에 의해 전처리 과정을 거친 척추 단면 영상으로부터 복수의 척추체를 검출하여, 척추 마스크 영상을 생성한다. 본 발명의 실시예에서는 척추체 검출 모델이 인공지능 기반으로 학습을 통해 생성되는 것을 예로 한다. 일 예로, 척추체 검출 모델은 CNN(Convolutional neural networks)을 기반으로 척추 단면 영상으로부터 척추 체를 검출하도록 학습되어 생성될 수 있다. 본 발명의 실시예에 따른 진단 지표 산출 장치는 꼭지점 좌표 추출부를 포함하여 구성될 수 있다. 꼭 지점 좌표 검출부는 척추 마스크 영상으로부터 복수의 꼭지점 좌표를 추출하는데, 이에 대한 상세한 설명 은 후술한다. 본 발명의 실시예에 따른 진단 지표 산출 장치는 기울기 산출부를 포함하여 구성될 수 있다. 기울기 산출부는 각각의 척추체에 대해 추출된 복수의 꼭지점 좌표를 이용하여, 각 척추체에 대한 윗면 기울기 값 및 아랫면 기울기 값을 산출할 수 있다. 본 발명의 실시예에 따른 진단 지표 산출 장치는 지표 산출부를 포함하여 구성될 수 있다. 지표 산출 부는 각각의 척추체에 대해 산출된 윗면 기울기 값 및 아랫면 기울기 값에 기초하여, 척추 만곡 여부의 판 단 기준이 되는 판단 지표를 산출할 수 있다. 본 발명의 실시예에 따른 진단 지표 산출 장치는 사용자 입력부 및 메인 제어부를 포함할 수 있 다. 사용자 입력부는 본 발명의 실시예에 따른 진단 지표 산출 장치의 조작 등을 위해 입력 신호를 생성 하는 장치로, 예컨대, 마우스, 키보드, 터치스크린 등의 입력 장치를 포함할 수 있다.그리고, 메인 제어부는 본 발명의 실시예에 따른 진단 지표 산출 장치의 전체 기능을 제어하는 장치 로, 운용체계(OS)와 같은 소프트웨어적 구성과, CPU, 그래픽 엔진, 램 등의 하드웨어적 구성을 포함하여 구성될 수 있다. 이하에서는 상기와 같은 구성에 따라, 본 발명의 실시예에 따른 진단 지표 산출 방법에 대해, 도 2를 참조하여 상세히 설명한다. 먼저, 진단 대상이 되는 척추 단면 영상이 진단 보조 장치로 입력된다(S10). 척추 단면 영상이 입력되면, 영상 전처리부에 의해 척추 단면 영상의 전처리 과정이 진행된다(S20). 본 발명의 실시예에서는 전처리 과정이 정규화 과정(S21), 대조도 향상 과정(S22), 그리고 사이즈 조절 과정 (S23)을 포함하는 것을 예로 한다. 정규화 과정에서는 척추 단면 영상이 정규화된다. 정규화 과정을 통해 척추 단면 영상은 특정 범위에 몰려있는 픽셀값이 설정된 범위 내에서 분포될 수 있어, 영상이 보다 명확해진다. 도 3의 (a)는 정규화전의 척추 단면 영상을 나타낸 도면이고, 도 3의 (b)는 정규화 과정을 거친 척추 단면 영상 을 나타낸 것이다. 본 발명의 실시예에서는 정규화 과정에서 범위의 최소값 및 최대값을 각각 0 및 255로 설정하는 것을 예로 한다. 본 발명의 실시예에 따른 대조도 향상 과정은 정규화된 척추 단면 영상의 대조도를 향상시킨다. 일 예로, 영상 전처리부는 CLAHE 알고리즘을 이용하여 대조도를 향상시키는 것을 예로 한다. 도 3의 (c)는 대조도가 향상된 척 추 단면 영상을 나타낸 것이다. 본 발명의 실시예에 따른 사이즈 조절 과정에서는 척추 단면 영상의 사이즈가 조절된다. 일 예로, 척추체 검출 모델의 생성에 적용된 학습 데이터 영상의 사이즈에 맞춰 조절될 수 있다. 상기와 같은 전처리 과정이 완료되면, 척추체 검출 모델에 의해 척추 마스크 영상의 생성 과정이 진행된다 (S30). 척추체 검출 모델은 척추 단면 영상으로부터 척추체를 추출하여 척추 마스크 영상을 생성하게 된다. 도 4는 본 발명의 실시예에 따른 척추체 검출 모델에 의해 검출된 척추체를 마킹한 척추 마스크 영 상의 예를 나타낸 것이다. 척추 마스크 영상이 생성되면, 꼭지점 좌표 추출부가 꼭지점 좌표를 추출한다(S40). 일 예로, 꼭지점 좌표 추출부는 척추 마스크 영상으로부터 각각의 척추체에 대응하는 척추 영역을 패치 영상으로 추출한 후, 각 각의 패치 영상 내의 척추체의 꼭지점 좌표를 추출하게 된다. 본 발명의 실시예에서는 꼭지점 좌표가 좌상단 포인트 좌표(LU), 좌하단 포인트 좌표(LL), 우상단 포인트 좌표 (RU), 우하단 포인트 좌표(RL)를 포함하는 것을 예로 한다. 도 5는 본 발명의 실시예에서, 하나의 척추체에서 4 개의 꼭지점 좌표가 추출되는 예를 나타낸 도면이다. 상기와 같이 복수의 꼭지점 좌표가 추출되면, 기울기 산출부가 복수의 꼭지점 좌표에 기초하여 윗면 기울 기 값 및 아랫면 기울기 값을 산출한다(S50). 본 발명의 실시예에서는, 도 5에 도시된 바와 같이, 윗면 기울기 값이 좌상단 포인트 좌표(LU)와 우상단 포인트 좌표(RU)를 연결하는 선분의 수평 방향에 대한 기울기에 의해 산출되는 것을 예로 한다. 마찬가지로, 아랫면 기 울기 값은 좌하단 포인트 좌표(LL)와 우하단 포인트 좌표(RL)를 연결하는 선분의 수평 방향에 대한 기울기에 의 해 산출되는 것을 예로 한다. 상기와 같이, 각각의 척추체에 대한 윗면 기울기 값 및 아랫면 기울기 값이 산출되면, 지표 산출부가 척추 만곡의 진단에 사용될 수 있는 판단 지표를 산출한다(S60). 본 발명의 실시에에서는 판단 지표가 Cobb angle, Gardner angle, 및 Sagittal index 중 적어도 하나를 포함하 는 것을 예로 한다. 도 6은 판단 지표인 Cobb angle, Gardner angle, 및 Sagittal index를 나타낸 도면이다. 상기와 같이, 각 척추체에 대해 산출된 윗면 기울기 값 및 아랫면 기울기 값을 이용하여, 판단 지표인 Cobb angle, Gardner angle, 및 Sagittal index이 산출되면, 의료진은 상기 판단 지표들을 참조하여 해당 환자의 척추 만곡 여부, 예컨대, 척추측만증 여부 등을 진단할 수 있게 된다."}
{"patent_id": "10-2022-0054595", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "비록 본 발명의 몇몇 실시예들이 도시되고 설명되었지만, 본 발명이 속하는 기술분야의 통상의 지식을 가진 당 업자라면 본 발명의 원칙이나 정신에서 벗어나지 않으면서 본 실시예를 변형할 수 있음을 알 수 있을 것이다. 발명의 범위는 첨부된 청구항과 그 균등물에 의해 정해질 것이다."}
{"patent_id": "10-2022-0054595", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 실시예에 따른 진단 지표 산출 장치의 구성의 예를 나타낸 도면이고, 도 2는 본 발명의 실시예에 따른 진단 지표 산출 방법을 설명하기 위한 제어 흐름도이고, 도 3은 본 발명의 실시예에 따른 진단 지표 산출 방법의 전처리 과정에서의 척추 단면 영상의 예들을 나타낸 도 면이고, 도 4 및 도 5는 본 발명의 실시예에 따른 진단 지표 산출 방법에서 진단 지표를 산출하는 과정을 설명하기 위한 도면이다."}
