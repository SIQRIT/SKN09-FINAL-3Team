{"patent_id": "10-2019-0089592", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2021-0012233", "출원번호": "10-2019-0089592", "발명의 명칭": "인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 방법 및 장치", "출원인": "가톨릭대학교 산학협력단", "발명자": "황규덕"}}
{"patent_id": "10-2019-0089592", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "CT 또는 MRI 장치를 이용하여 환자의 특정 부위에 대한 Non-enhanced CT 또는 MRI 영상과 Contrast enhancedCT 또는 MRI 영상을 생성하는 단계;상기 생성된 Non-enhanced CT 또는 MRI 영상을 입력영상으로 하고, Contrast enhanced CT 또는 MRI 영상을 타겟영상이라 할 때, 상기 입력영상을 인공신경망을 이용한 학습을 통해 Contrast enhanced CT 또는 MRI 영상을생성하여 출력영상으로 획득하는 단계;상기 학습을 통해 생성된 출력영상과 타겟영상을 비교하여 유사도 또는 비유사도를 구하여 비용 함수로 생성하는 단계; 및상기 비용 함수를 상기 인경신경망으로 피드백하여 상기 입력영상을 학습하여 상기 비용 함수를 최소화하는 단계를 포함하는 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 방법."}
{"patent_id": "10-2019-0089592", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "CT 또는 MRI 장치를 이용하여 환자의 특정 부위에 대한 Non-enhanced CT 또는 MRI 영상과 Contrast enhancedCT 또는 MRI 영상을 생성하는 단계;상기 생성된 Contrast enhanced CT 또는 MRI 영상을 입력영상으로 하고, Non-enhanced CT 또는 MRI 영상을 타겟영상이라 할 때, 상기 입력영상을 인공신경망을 이용한 학습을 통해 Non-enhanced CT 또는 MRI 영상을 생성하여 출력영상으로 획득하는 단계;상기 인경신경망 학습을 통해 생성된 출력영상과 타겟영상을 비교하여 유사도 또는 비유사도를 구하여 비용 함수로 생성하는 단계; 및상기 비용 함수를 상기 인공신경망으로 피드백하여 상기 입력영상을 학습하여 상기 비용 함수를 최소화하는 단계를 포함하는 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 방법."}
{"patent_id": "10-2019-0089592", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항 또는 제2항에 있어서, 상기 입력영상에 대한 상기 타겟영상의 환자 자세 움직임 변화량에 따른 회전변위량(tilting) 과 좌우상하변위량(offset 값)을 조정하는 전처리단계를 더 포함하는 것을 특징으로 하는 인공지능을 이용한 비조영증강 영상및 조영증강 영상 변환 방법."}
{"patent_id": "10-2019-0089592", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서, 상기 전처리 단계는상기 입력영상에 대한 상기 타겟영상의 section thickness에 따른 차이를 보상하기 위해 상기 입력영상과 가장근접한 위치의 타겟영상의 영상을 선택하는 단계를 더 포함하는 것을 특징으로 하는 인공지능을 이용한 조영증강 영상 및 비조영증강 영상변환 방법."}
{"patent_id": "10-2019-0089592", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제3항에 있어서, 상기 전처리 단계는상기 입력영상에 대한 상기 타겟영상의 section thickness에 따른 차이를 보상하기 위해 상기 입력영상 전체와가장 근접한 위치로 선택된 타겟영상 전체 영상을 선택하는 단계를 더 포함하는 것을 특징으로 하는 특징으로하는 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 방법."}
{"patent_id": "10-2019-0089592", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "공개특허 10-2021-0012233-3- CT(Computed Tomography) 또는 MRI(Magnetic Resonance Imaging) 장치를 이용하여 생성된, 환자의 특정 부위에 대한 비조영증강(Non-enhanced) CT 또는 MRI 영상을 입력영상이라 하고, 상기 CT 또는 MRI 장치를 이용하여생성된 조영증강(Contrast enhanced) CT 또는 MRI 영상을 타겟영상이라 할 때, 상기 비조영증강 입력 영상을 인공지능을 이용하여 학습하여 조영증강 CT 또는 MRI 영상으로 생성하여 출력영상을 제공하는 인공지능 학습부;및 상기 인공지능 학습부의 학습을 통해 제공된 출력영상과 상기 타겟영상을 비교하여 유사도 또는 비유사도를 구하여 비용함수(cost function)로 생성하고, 상기 비용함수를 상기 인공지능 학습부로 피드백하여 학습하여 상기비용 함수 값을 최소화하는 비용함수부를 포함하는 인공지능을 이용한 조영증강 영상 및 비조영증강 변환 장치."}
{"patent_id": "10-2019-0089592", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "CT(Computed Tomography) 또는 MRI(Magnetic Resonance Imaging) 장치를 이용하여 생성된, 환자의 특정 부위에 대한 조영증강(Contrast enhanced) CT 또는 MRI 영상을 입력영상이라 하고, 상기 CT 또는 MRI 장치를 이용하여 생성된 비조영증강(non-enhanced) CT 또는 MRI 영상을 타겟영상이라 할 때, 상기 조영증강 입력 영상을 인공지능을 이용하여 학습하여 비조영증강 CT 또는 MRI 영상으로 생성하여 출력영상을 제공하는 인공지능 학습부;및상기 인공지능 학습부의 학습을 통해 제공된 출력영상과 상기 타겟영상을 비교하여 유사도 또는 비유사도를 구하여 비용함수(cost function)로 생성하고, 상기 비용함수를 상기 인공지능 학습부로 피드백하여 학습하여 상기비용 함수 값을 최소화하는 비용함수부를 포함하는 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환장치."}
{"patent_id": "10-2019-0089592", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제6항 또는 제7항에 있어서, 상기 입력영상에 대한 상기 타겟영상의 환자 자세 움직임 변화량에 따른 회전변위량(tilting) 과 좌우상하변위량(offset 값)을 조정하는 전처리부를 더 포함하는 것을 특징으로 하는 특징으로 하는 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 장치."}
{"patent_id": "10-2019-0089592", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에 있어서, 상기 전처리부는상기 입력영상에 대한 상기 타겟영상의 section thickness에 따른 차이를 보상하기 위해 상기 입력영상과 가장근접한 위치의 타겟영상의 영상을 선택하는 것을 더 포함하는 것을 특징으로 하는 인공지능을 이용한 조영증강영상 및 비조영증강 영상 변환 장치."}
{"patent_id": "10-2019-0089592", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제8항에 있어서, 상기 전처리부는상기 입력영상에 대한 상기 타겟영상의 section thickness에 따른 차이를 보상하기 위해 상기 입력영상 전체와가장 근접한 위치로 선택된 타겟영상 전체 영상을 선택하는 것을 더 포함하는 것을 특징으로 하는 인공지능을이용한 조영증강 영상 및 비조영증강 영상 변환 장치."}
{"patent_id": "10-2019-0089592", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 방법 및 장치에 관한 것으로서, 그 인공지 능을 이용한 조영증강 영상 및 비조영증강 영상 변환 방법은 본 발명에 따른 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 방법은, CT 또는 MRI 장치를 이용하여 환자의 특정 부위에 대한 Non-enhanced CT 또는 (뒷면에 계속)"}
{"patent_id": "10-2019-0089592", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 인공지능을 이용하여 비조영증강(Non-enhanced) CT(Computed Tomography) 또는 MRI(Magnetic Resonance Imaging) 영상을 조영증강(contrast enhanced) CT 또는 MRI 영상으로 변환하고, 역으로 조영증강 (contrast enhanced) CT 또는 MRI 영상을 비조영증강(Non-enhanced) CT 또는 MRI 영상으로 변환하는 방법 및 장치에 관한 것이다."}
{"patent_id": "10-2019-0089592", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "일반적으로 비조영증강(Non-enhanced) CT 영상과 조영증강(contrast enhanced) CT 영상으로 볼 수 있는 병변이 다르다. 따라서 동시에 Non-enhanced CT 영상과 enhanced CT 영상 둘 다를 촬영하거나 하나의 영상에서 병변이 보이지 않는 경우 다시 촬영하는 경우가 있다. 즉, Non-enhanced CT 영상에서 병변이 보이지 않는 경우 enhanced CT 영상을 다시 촬영하거나 반대로 enhanced CT 영상에서 병변이 보이지 않는 경우 Non-enhanced CT 영상을 다시 촬영한다. 이렇게 다시 촬영할 경우에는 방사선 조사량이 증가하는 문제가 있다. 또한 신장 질환이나 알레르기(allergy) 등으로 조영제를 사용하는 것이 어려울 경우가 있다. 이러한 경우에는 non-enhanced 영상만으로 불충분하게 진단하거나 알레르기 등의 어려움을 감수하고 contrast enhanced 영상을 촬영하는 문제가 있다. 따라서 Non-enhanced CT 또는 MRI 영상을 contrast enhanced CT 또는 MRI 영상으로 생성하고, 그 역으로 즉, contrast enhanced CT 또는 MRI 영상을 Non-enhanced CT 또는 MRI 영상으로 변환하는 방법 및 장치가 필요하다. 선행기술문헌 특허문헌 (특허문헌 0001) 대한민국 공개특허공보 공개번호 제10-2018-0117009호 (특허문헌 0002) 대한민국 공개특허공보 공개번호 제10-2018-0123810호"}
{"patent_id": "10-2019-0089592", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명이 해결하고자 하는 과제는 종래 기술의 문제와 불편함을 해결하기 위해 창출된 것으로서, 인공지능을 이용하여 비조영증강(Non-enhanced) CT 또는 MRI 영상을 조영증강(contrast enhanced) CT 또는 MRI 영상으로 변환하고, 역으로 조영증강(contrast enhanced) CT 또는 MRI 영상을 비조영증강(Non-enhanced) CT 또는 MRI 영 상으로 변환하는, 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 방법 및 장치를 제공하는 것이다."}
{"patent_id": "10-2019-0089592", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 기술적 과제를 이루기 위한 본 발명에 따른 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 방 법은, CT 또는 MRI 장치를 이용하여 환자의 특정 부위에 대한 Non-enhanced CT 또는 MRI 영상과 Contrast enhanced CT 또는 MRI 영상을 생성하는 단계; 상기 생성된 Non-enhanced CT 또는 MRI 영상을 입력영상으로 하 고, Contrast enhanced CT 또는 MRI 영상을 타겟영상이라 할 때, 상기 입력영상을 인공신경망을 이용한 학습을 통해 Contrast enhanced CT 또는 MRI 영상을 생성하여 출력영상으로 획득하는 단계; 상기 학습을 통해 생성된 출력영상과 타겟영상을 비교하여 유사도 또는 비유사도를 구하여 비용 함수로 생성하는 단계; 및 상기 비용 함 수를 상기 인경신경망으로 피드백하여 상기 입력영상을 학습하여 상기 비용 함수를 최소화하는 단계를 포함한다. 상기 기술적 과제를 이루기 위한 본 발명에 따른 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 방 법은, CT 또는 MRI 장치를 이용하여 환자의 특정 부위에 대한 Non-enhanced CT 또는 MRI 영상과 Contrast enhanced CT 또는 MRI 영상을 생성하는 단계; 상기 생성된 Contrast enhanced CT 또는 MRI 영상을 입력영상으 로 하고, Non-enhanced CT 또는 MRI 영상을 타겟영상이라 할 때, 상기 입력영상을 인공신경망을 이용한 학습을 통해 Non-enhanced CT 또는 MRI 영상을 생성하여 출력영상으로 획득하는 단계; 상기 인경신경망 학습을 통해 생 성된 출력영상과 타겟영상을 비교하여 유사도 또는 비유사도를 구하여 비용 함수로 생성하는 단계; 및 상기 비 용 함수를 상기 인공신경망으로 피드백하여 상기 입력영상을 학습하여 상기 비용 함수를 최소화하는 단계를 포 함한다. 상기 본 발명에 따른 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 방법은, 상기 입력영상에 대한 상기 타겟영상의 환자 자세 움직임 변화량에 따른 회전변위량(tilting) 과 좌우상하변위량(offset 값)을 조정하 는 전처리단계를 더 포함할 수 있다. 상기 전처리 단계는 상기 입력영상에 대한 상기 타겟영상의 section thickness에 따른 차이를 보상하기 위해 상기 입력영상과 가장 근접한 위치의 타겟영상의 영상을 선택하는 단계 를 더 포함할 수 있다. 또한 상기 전처리 단계는 상기 입력영상에 대한 상기 타겟영상의 section thickness에따른 차이를 보상하기 위해 상기 입력영상 전체와 가장 근접한 위치로 선택된 타겟영상 전체 영상을 선택하는 단계를 더 포함할 수 있다. 상기 기술적 과제를 이루기 위한 본 발명에 따른 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 장 치는, CT(Computed Tomography) 또는 MRI(Magnetic Resonance Imaging) 장치를 이용하여 생성된, 환자의 특정 부위에 대한 비조영증강(Non-enhanced) CT 또는 MRI 영상을 입력영상이라 하고, 상기 CT 또는 MRI 장치를 이용 하여 생성된 조영증강(Contrast enhanced) CT 또는 MRI 영상을 타겟영상이라 할 때, 상기 비조영증강 입력 영상 을 인공지능을 이용하여 학습하여 조영증강 CT 또는 MRI 영상으로 생성하여 출력영상을 제공하는 인공지능 학습 부; 및 상기 인공지능 학습부의 학습을 통해 제공된 출력영상과 상기 타겟영상을 비교하여 유사도 또는 비유사 도를 구하여 비용함수(cost function)로 생성하고, 상기 비용함수를 상기 인공지능 학습부로 피드백하여 학습하 여 상기 비용 함수 값을 최소화하는 비용함수부를 포함한다. 상기 기술적 과제를 이루기 위한 본 발명에 따른 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 장 치는, CT(Computed Tomography) 또는 MRI(Magnetic Resonance Imaging) 장치를 이용하여 생성된, 환자의 특정 부위에 대한 조영증강(Contrast enhanced) CT 또는 MRI 영상을 입력영상이라 하고, 상기 CT 또는 MRI 장치를 이 용하여 생성된 비조영증강(non-enhanced) CT 또는 MRI 영상을 타겟영상이라 할 때, 상기 조영증강 입력 영상을 인공지능을 이용하여 학습하여 비조영증강 CT 또는 MRI 영상으로 생성하여 출력영상을 제공하는 인공지능 학습 부; 및 상기 인공지능 학습부의 학습을 통해 제공된 출력영상과 상기 타겟영상을 비교하여 유사도 또는 비유사 도를 구하여 비용함수(cost function)로 생성하고, 상기 비용함수를 상기 인공지능 학습부로 피드백하여 학습하 여 상기 비용 함수 값을 최소화하는 비용함수부를 포함한다. 상기 본 발명에 따른 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 장치는, 상기 입력영상에 대한 상기 타겟영상의 환자 자세 움직임 변화량에 따른 회전변위량(tilting) 과 좌우상하변위량(offset 값)을 조정하 는 전처리부를 더 포함할 수 있다. 상기 전처리부는 상기 입력영상에 대한 상기 타겟영상의 section thickness 에 따른 차이를 보상하기 위해 상기 입력영상과 가장 근접한 위치의 타겟영상의 영상을 선택하는 것을 더 포함 할 수 있다. 또한 상기 전처리부는 상기 입력영상에 대한 상기 타겟영상의 section thickness에 따른 차이를 보 상하기 위해 상기 입력영상 전체와 가장 근접한 위치로 선택된 타겟영상 전체 영상을 선택하는 것을 더 포함할 수 있다."}
{"patent_id": "10-2019-0089592", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따른 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 방법 및 장치에 의하면, 비조영증강 CT 영상에서 보이지 않는 병변을 보기 위해 조영증강 CT 영상을 다시 촬영하게 됨으로써 방사선 조사량을 줄일 수 있다. 그리고 본 발명에 의하면, 신장 질환이나 알레르기(allergy) 등으로 조영제를 사용하는 것이 어려운 환자일 경 우 조영제를 사용하지 않고도 조영증강 CT나 MRI 영상을 생성함으로써 비조영증강 CT 나 MRI 영상만으로 불충분 하게 진단하는 문제를 해결할 수 있다. 또한 부득이 알레르기 등의 어려움을 감수하고라도 조영증강(contrast enhanced) 영상을 촬영해야 하는 어려움도 해결할 수 있다."}
{"patent_id": "10-2019-0089592", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면을 참조로 본 발명의 바람직한 실시예를 상세히 설명하기로 한다. 본 명세서에 기재된 실시예 와 도면에 도시된 구성은 본 발명의 바람직한 일 실시예에 불과할 뿐이고, 본 발명의 기술적 사상을 모두 대변 하는 것은 아니므로, 본 출원 시점에 있어서 이들을 대체할 수 있는 다양한 균등물과 변형예들이 있을 수 있음 을 이해하여야 한다. 도 1는 본 발명에 따른 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 장치의 일실시예를 블록도로 나타낸 것이다. 도 1을 참조하면, 본 발명에 따른 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 장치의 일실시예는 인공지능 학습부 및 비용함수부를 포함하여 이루어지고, 전처리부를 더 포함 할 수 있다. CT(Computed Tomography) 또는 MRI(Magnetic Resonance Imaging) 장치(미도시)를 이용하여 환자의 특정 부위에 대한 비조영증강(Non-enhanced) CT 또는 MRI 영상과 조영증강(Contrast enhanced) CT 또는 MRI 영상을 촬영한 다. 상기 환자의 특정 부위는 동일한 환자의 특정 부위일 경우가 많지만, 촬영되는 부위가 동일하면 동일하지 않은 환자의 특정 부위에 대한 Non-enhanced 및 Contrast enhanced CT 또는 MRI 영상을 촬영할 수도 있다. 상 기 촬영된 비조영증강(Non-enhanced) CT 또는 MRI 영상은 입력영상이 될 수도 있고 타겟영상이 될 수도 있다. 상기 CT 또는 MRI 장치를 이용하여 촬영된 조영증강(Contrast enhanced) CT 또는 MRI 영상은 상기 비조영증강 CT 또는 MRI 영상이 입력영상일 경우에는 타겟영상이 되고, 상기 비조영증강 CT 또는 MRI 영상이 타겟영상일 경 우에는 입력영상이 된다. 여기서, 비조영증강(Non-enhanced) CT 또는 MRI 영상과 조영증강(Contrast enhanced) CT 또는 MRI 영상과 조영증강(Contrast enhanced) CT 또는 MRI 영상은 몇 분 또는 몇 시간의 시차 뿐 아니라 상당한 시차, 예를 들어 몇 일 또는 몇 달, 심지어 몇 년 간격으로 촬영될 수 있다. 인공지능 학습부는 상기 비조영증강 입력 영상을 인공지능을 이용하여 학습하여 조영증강 CT 또는 MRI 영 상으로 변환하여 출력영상으로 제공한다. 또한 인공지능 학습부는 상기 조영증강 입력 영상을 인공지능을 이용하여 학습하여 비조영증강 CT 또는 MRI 영상으로 변환하여 출력영상으로 제공한다. 인공지능 학습부는 인코더, 심층신경망 및 디코더을 구비할 수 있다. 도 2는 본 발명에 따른 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 장치에서 인공지능학습부 를 보다 상세히 나타낸 것이다. 도 2를 참조하면, 인코더는 Convolution Neural Network으로 구현될 수 있으며, 복수의 Convolution Layer과 복수의 Pooling Layer으로 구성될 수 있다. 그리고 심층신 경망(Deep Neural Nework, 124)은 Fully Connected Layer로 구성할 수 있고, 디코더은 Convolution Neural Network으로 구현될 수 있으며, 복수의 Convolution Layer과 복수의 UnPooling Layer으로 구 성될 수 있다. 본 발명에 따른 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 장치에서의 인공지능 학습부는 CNN 뿐만 아니라 simple neural network, recurrent neural network를 사용할 수도 있다. 또한 기존의 예측모델을 사용할 수도 있다. 예를 들어 regression model, surrogate management framework를 사용할 수도 있다. 비용함수부는 인공지능 학습부의 학습을 통해 제공된 출력영상과 상기 타겟영상을 비교하여 출력영상 과 타겟영상의 유사도 또는 비유사도를 구하여 비용함수(cost function)로 생성하고, 상기 비용함수를 인공지능 학습부로 피드백하여 학습하고, 상기 피드백을 반복하여 상기 비용 함수 값을 최소화한다. 상기 출력영상 과 타겟영상의 유사도 또는 비유사도는 출력영상과 타겟영상의 차를 포함하며, 상기 출력함수와 타겟영상의 차 를 구하여 비용함수로 생성할 수 있다. 그리고 출력영상과 타겟영상이 서로 같은지 다른지 구분하는 장치 또는 프로그램을 비용함수로 이용할 수도 있 다. 즉, 상기 출력영상과 타겟영상의 유사도 또는 비유사도는 출력영상과 타겟영상이 서로 같은지 다른지 구분 하는 장치 또는 프로그램을 이용하여 산출할 수 있다. 예를 들어, CT의 경우에는 환자들의 non-enhanced CT, Contrast enhanced CT 이미지에 대해 중복을 허락하여 2개의 이미지를 추출하여 인공지능(예를 들어 Convoluted neural network) 또는 기타 예측모델에 입력(input)으로 넣고 실제 같은 이미지인 경우에는 '같은 이미지'라고 출력하고(프로그램 상에서는 '0'이라는 숫자로 출력할 수도 있음), 이외에는 모두 '다른 이미지'라 고 출력(프로그램 상에서는 '1'이라는 숫자 또는 '0~1'사이의 서로 다른 이미지일 확률로 출력할 수도 있음) 하 도록 훈련한 장치 또는 프로그램을 사용할 수 있다. MRI의 경우에도 동일하게 두 영상이 서로 같은지 다른지 구분하는 장치를 구성할 수 있다. CT와 MRI이미지 모 두를 이용하여 훈련한 두 영상이 서로 같은지 다른지 구분하는 장치를 사용할 수도 있다. 본 발명에서 사용되는 상기 장치는 이렇게 구성된 두 영상이 서로 같은지 다른지 구분하는 장치를 비용함수로 이용할 수 있다. 환자 의 non-enhanced CT를 이용하여 Contrast enhanced로 변환한 이미지와 실제 Contrast enhanced 이미지를 두 영 상이 서로 같은지 다른지 구분하는 장치가 서로 같은 이미지로 인식할 때까지 본 발명의 장치를 훈련한다. 반대의 경우에는, 환자의 Contrast enhanced CT이미지를 이용하여 non-enhanced로 변환한 이미지와 실제 non- enhanced CT이미지를 두 영상이 서로 같은지 다른지 구분하는 장치가 서로 같은 이미지로 인식할 때까지 본 발 명에서 비용함수로 사용되는 장치를 훈련한다. 이렇게 하는 경우 두 영상의 차이를 전혀 이용하지 않고도 비용 함수를 생성할 수 있다. MRI의 경우에도 동일하게 두 영상이 서로 같은지 다른지 구분하는 장치를 비용함수로 이용하여 환자의 non- enhanced MRI이미지를 이용하여 Contrast enhanced로 변환한 이미지와 실제 Contrast enhanced MRI이미지를 두 영상이 서로 같은지 다른지 구분하는 장치가 서로 같은 이미지로 인식할 때까지 본 발명의 장치를 훈련한다. 반대의 경우에도 환자의 Contrast enhanced MRI이미지를 이용하여 non-enhanced로 변환한 이미지와 실제 non- enhanced MRI이미지를 두 영상이 서로 같은지 다른지 구분하는 장치가 서로 같은 이미지로 인식할 때까지 본 발 명의 장치를 훈련한다. 전처리부는 상기 입력영상에 대한 상기 타겟영상의 환자 자세 움직임 변화량에 따른 회전변위량(tilting) 과 좌우상하변위량(offset value)을 조정한다. 즉, 전처리부는 비조영증강 CT 또는 MRI 영상을 촬영할 때 의 환자 자세와 비조영증강 CT 또는 MRI 영상을 촬영할 때의 환자 자세가 환자의 미세한 움직임으로 인해 차이 가 날 수 있다. 상기 차이는 회전변위량(tilting)과 좌우상하변위량(offset value)으로 나타낼 수 있다. 회전변 위량(tilting)은 환자의 촬영부위가 틀어진 정도이고, 좌우상하변위량(offset value)은 환자의 촬영부위가 상하 좌우로 이동된 값이다. 전처리부는 이러한 환자 자세 변경에 대해 alignment를 조정(adjusting)하여 조영증강영상과 비조영증강영 상을 matching하여 정확도를 높인다. 상기 alignment 조정은 사람이 수동으로 할 수도 있으나 수동으로 하면 시간과 비용이 많이 소요될 수 있다. 본 발명에서는 CT 영상일 경우에는 인체 부위 중에서 가장 변화가 적은 부위는 뼈(bone)이므로 bone window 처 럼 bone HU(약 1000) 근처에서 cutoff value를 설정하면 비조영증강 영상과 조영증강 영상의 차이가 가장 작도 록 alignment를 조정할 수 있다. 도 4는 CT 영상에서의 bone window와 bone의 HU(Hounsfield Unit) 값을 나타 낸 것이다. W는 width이고 L은 level 이다. HU(Hounsfield Unit)는 X선이 몸을 투과할 때 부위별 밀도에 의해 흡수정도를 상대적으로 표현한 것으로서, 도 4를 참조하면 bone의 HU는 1000 이고, 물(H2O)의 HU는 0 이고, 공 기(air)의 HU는 -1000 이다. CT 촬영에서 뼈(bone)의 이미지 값이 거의 1000 정도의 값을 가지고, CT를 볼 때 bone window가 따로 있다. bone window 를 통해 보면, 데이터는 그대로 있는데, 1000 정도에서만 하얗게 보이고, 나머지는 까맣게 나타남 으로써 bone만 볼 수 있게 된다. 이와 같이 보이는 bone 이 강조되어 나타나는 조영증강 영상과 비조영증강영상 을 회전 및 상하좌우 이동하면서 alignment를 조정하면 틸팅(tilting)과 오프셋 값(offset value)을 얻을 수 있 다. 이렇게 구해진 상기 틸팅(tilting)과 오프셋 값(offset value)을 반영하여 이미지를 돌리고 위치를 변화시 켜 조영증강 영상과 비조영증강 영상을 매칭한다. MRI 영상일 경우에는 각 촬영 모드별 bone signal value 근처에서 cutoff value를 설정하여 비조영증강 영상과 조영증강 영상의 차이가 가장 작도록 alignment를 조정한다. 또한 전처리부는 상기 입력영상에 대한 상기 타겟영상의 section thickness에 따른 차이를 보상하기 위해 상기 입력영상과 가장 근접한 위치의 영상의 위치를 선택하여 타겟영상으로 할 수 있다. alignment를 조정한 후 근접 위치의 영상을 타겟 영상으로 선택한다. 또한 전처리부는 상기 입력영상에 대한 상기 타겟영상의 section thickness에 따른 차이를 보상하기 위해 입력영상 전체와 가장 근접한 위치로 선택된 타겟 영상 전체를 선택할 수 있다. 상기 입력영상 전체와 선택된 타겟영상 전체를 이용하여 학습하여 정확도를 높일 수 있다. 즉, 이미지 전체를 같이 넣고 한꺼번에 학습시킨다. 예를 들어 입력영상을 100장을 촬영한 후, 데이터가 이미지 한 장당 10개 값이 있다면 100장이면 1000개의 데이터가 있다. 1000개의 데이터를 하나의 데이터 세트로 하여 한명 당 데이터 세트는 하나가 되고, 하나의 데이터 세트를 한 번에 학습시킨다. 이렇게 하면 CNN의 계수 결정 이 빠르게 수렴될 수 있다. 그렇게 하지 않고 이미지 한 장을 하나의 데이터 세트로 하여 하나씩 학습하면 이미지의 수가 많으면 CNN의 계수가 다르게 될 수 있어 학습의 정확도가 낮아질 수 있다. 도 3은 본 발명에 따른 인공지능 학습된 조영증강 영상 및 비조영증강 영상 변환 장치의 일실시예를 나타낸 것 이다. 도 3을 참조하면, 입력영상으로 비조영증강 CT 또는 MRI 영상을 본 발명에 따른 인공지능 학습된 조 영증강 영상 및 비조영증강 영상 변환 장치에 입력하면, 조영증강 CT 또는 MRI 영상이 출력영상으로 출력된다. 역으로 입력영상으로 조영증강 CT 또는 MRI 영상을 본 발명에 따른 인공지능 학습된 조영증강 영상 및 비조영증강 영상 변환 장치에 입력하면, 비조영증강 CT 또는 MRI 영상이 출력영상으로 출력 된다. 도 5는 본 발명에 따른 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 방법에서 비조영증강 영상을 조영증강 영상으로 변환하는 일실시예를 흐름도로 나타낸 것이다. 도 5를 참조하면, CT 또는 MRI 장치를 이용하 여 환자의 인체를 촬영하여 Non-enhanced CT 또는 MRI 영상과 Contrast enhanced CT 또는 MRI 영상을 생성한 다.(S510단계) 상기 환자의 인체는 동일한 환자의 인체일 경우가 많지만, 촬영되는 인체 부위가 동일하면 동일 하지 않은 환자의 인체를 촬영하여 Non-enhanced 및 Contrast enhanced CT 또는 MRI 영상을 생성할 수도 있다. 상기 생성된 Non-enhanced CT 또는 MRI 영상을 입력영상으로 하고, Contrast enhanced CT 또는 MRI 영상을 타 겟영상이라 할 때, 상기 입력영상에 대한 상기 타겟영상의 환자 자세 움직임 변화량에 따른 회전변위량 (tilting) 과 좌우상하변위량(offset 값)을 조정하는 전처리를 수행한다.(S520단계) 상기 전처리(S520단계)는 상기 입력영상에 대한 상기 타겟영상의 section thickness에 따른 차이를 보상하기 위해 상기 입력영상과 가장 근접한 위치의 타겟영상의 영상을 선택하는 것을 더 포함할 수 있다. 또한 상기 전처리(S520단계)는 상기 입력 영상에 대한 상기 타겟영상의 section thickness에 따른 차이를 보상하기 위해 상기 입력영상 전체와 가장 근접 한 위치로 선택된 타겟영상 전체 영상을 선택할 수 있다. 상기 전처리 과정이 수행되면, 입력영상을 인공신경망을 이용한 학습을 통해 Contrast enhanced CT 또는 MRI 영 상을 생성하여 출력영상으로 획득한다.(S530단계) 상기 학습을 통해 생성된 출력영상과 타겟영상을 비교하여 차 를 구하여 비용 함수로 생성한다.(S540단계) 상기 비용 함수를 상기 인경신경망으로 피드백하여 상기 입력영상 을 학습하여 상기 비용 함수를 최소화한다.(S550단계) 도 6은 본 발명에 따른 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 방법에서 조영증강 영상을 비조영증강 영상으로 변환하는 일실시예를 흐름도로 나타낸 것이다. 도 6을 참조하면, CT 또는 MRI 장치를 이용 하여 환자의 인체를 촬영하여 Non-enhanced CT 또는 MRI 영상과 Contrast enhanced CT 또는 MRI 영상을 생성 한다.(S610단계) 상기 환자의 인체는 동일한 환자의 인체일 경우가 많지만, 촬영되는 인체 부위가 동일하면 동 일하지 않은 환자의 인체를 촬영하여 Non-enhanced 및 Contrast enhanced CT 또는 MRI 영상을 생성할 수도 있 다.상기 생성된 contrast enhanced CT 또는 MRI 영상을 입력영상으로 하고, non-enhanced CT 또는 MRI 영상을 타겟영상이라 할 때, 상기 입력영상에 대한 상기 타겟영상의 환자 자세 움직임 변화량에 따른 회전변위량 (tilting) 과 좌우상하변위량(offset 값)을 조정하는 전처리를 수행한다.(S620단계) 상기 전처리(S620단계)는 상기 입력영상에 대한 상기 타겟영상의 section thickness에 따른 차이를 보상하기 위해 상기 입력영상과 가장 근접한 위치의 타겟영상의 영상을 선택하는 것을 더 포함할 수 있다. 또한 상기 전처리(S620단계)는 상기 입력 영상에 대한 상기 타겟영상의 section thickness에 따른 차이를 보상하기 위해 상기 입력영상 전체와 가장 근접 한 위치로 선택된 타겟영상 전체 영상을 선택할 수 있다. 상기 전처리 과정이 수행되면, 입력영상을 인공신경망을 이용한 학습을 통해 non-enhanced CT 또는 MRI 영상을 생성하여 출력영상으로 획득한다.(S630단계) 상기 학습을 통해 생성된 출력영상과 타겟영상을 비교하여 차를 구 하여 비용 함수로 생성한다.(S640단계) 상기 비용 함수를 상기 인경신경망으로 피드백하여 상기 입력영상을 학 습하여 상기 비용 함수를 최소화한다.(S650단계) 본 발명은 컴퓨터로 읽을 수 있는 기록 매체에 컴퓨터(정보 처리 기능을 갖는 장치를 모두 포함한다)가 읽을 수 있는 코드로서 구현될 수 있다. 컴퓨터가 읽을 수 있는 기록 매체는 컴퓨터 시스템에 의하여 읽혀질 수 있는 데 이터가 저장되는 모든 종류의 기록 장치를 포함한다. 컴퓨터가 읽을 수 있는 기록 장치의 예로는 ROM, RAM, CD- ROM, 자기 테이프, 플로피 디스크, 광데이터 저장장치 등이 있다. 또한, 본 명세서에서, “부”는 프로세서 또 는 회로와 같은 하드웨어 구성(hardware component), 및/또는 프로세서와 같은 하드웨어 구성에 의해 실행되는 소프트웨어 구성(software component)일 수 있다. 본 발명은 도면에 도시된 실시예를 참고로 설명되었으나 이는 예시적인 것에 불과하며, 본 기술 분야의 통상의 지식을 가진 자라면 이로부터 다양한 변형 및 균등한 타 실시예가 가능하다는 점을 이해할 것이다. 따라서, 본발명의 진정한 기술적 보호 범위는 첨부된 등록청구범위의 기술적 사상에 의해 정해져야 할 것이다."}
{"patent_id": "10-2019-0089592", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1는 본 발명에 따른 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 장치의 일실시예를 블록도로 나타낸 것이다. 도 2는 본 발명에 따른 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 장치에서 인공지능학습부 를 보다 상세히 나타낸 것이다. 도 3은 본 발명에 따른 인공지능 학습된 조영증강 영상 및 비조영증강 영상 변환 장치의 일실시예를 나타낸 것 이다. 도 4는 CT 영상에서의 bone window와 bone의 HU(Hounsfield Unit) 값을 나타낸 것이다. 도 5는 본 발명에 따른 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 방법에서 비조영증강 영상을 조영증강 영상으로 변환하는 일실시예를 흐름도로 나타낸 것이다. 도 6은 본 발명에 따른 인공지능을 이용한 조영증강 영상 및 비조영증강 영상 변환 방법에서 조영증강 영상을비조영증강 영상으로 변환하는 일실시예를 흐름도로 나타낸 것이다."}
