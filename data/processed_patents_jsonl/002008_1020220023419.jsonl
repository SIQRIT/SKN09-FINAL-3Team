{"patent_id": "10-2022-0023419", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2022-0122514", "출원번호": "10-2022-0023419", "발명의 명칭": "인공지능 모델에 기반하여 심장 구조를 세그멘테이션하기 위한 방법 및 장치", "출원인": "주식회사 온택트헬스", "발명자": "맹신희"}}
{"patent_id": "10-2022-0023419", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "인공지능 모델에 기반하여 심장 구조를 세그멘테이션(segmentation)하기 위한 방법에 있어서,대상자의 심장 초음파 영상 데이터를 획득하는 단계;상기 심장 초음파 영상 데이터에 기반하여 제1 심장 영역 데이터를 생성하는 단계;상기 심장 초음파 영상 데이터 및 상기 제1 심장 영역 데이터를 비교하는 단계; 및상기 비교 결과에 기반하여 제2 심장 영역 데이터를 생성하는 단계를 포함하되,상기 제1 심장 영역 데이터는, 상기 심장 초음파 영상 데이터에 기반하여 1차적으로 심장 구조를 세그멘테이션한 데이터이고,상기 제2 심장 영역 데이터는, 상기 제1 심장 영역 데이터를 상기 비교 결과에 기반하여 조정한 데이터인,방법."}
{"patent_id": "10-2022-0023419", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "청구항 1에 있어서,상기 심장 구조는 좌심방, 좌심실, 우심방 및 우심실을 포함하는, 방법."}
{"patent_id": "10-2022-0023419", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "청구항 1에 있어서,상기 제2 심장 영역 데이터는, 능동 윤곽선 기법에 기반하여 상기 제1 심장 영역 데이터를 조정한 결과인,방법."}
{"patent_id": "10-2022-0023419", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "청구항 1에 있어서,상기 심장 초음파 영상 데이터 및 상기 제1 심장 영역 데이터를 비교하는 단계는,상기 제1 심장 영역 데이터에 기반하여 마스크를 생성하는 단계;상기 마스크 내에 포함된 영역 중에서 경계선을 기준으로 심장 초음파 영상 데이터의 내부 및 외부 이미지의 평균 픽셀 값을 계산하는 단계; 및상기 평균 픽셀 값에 기반하여 상기 제1 심장 영역 데이터를 조정하는 단계를 포함하되,상기 경계선은, 상기 제1 심장 영역 데이터에 포함된 심장 구조의 형상을 특정 형태로 구획한 데이터인, 방법."}
{"patent_id": "10-2022-0023419", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "청구항 4에 있어서,상기 마스크는, 원형의 모양으로 생성되고,공개특허 10-2022-0122514-3-상기 제2 심장 영역 데이터는, 상기 내부 이미지의 평균 픽셀 값 및 상기 외부 이미지의 평균 픽셀 값의 차이가최대가 되도록 상기 제1 심장 영역 데이터를 조정하여 생성되는, 방법."}
{"patent_id": "10-2022-0023419", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "청구항 1에 있어서,상기 심장 초음파 영상 데이터 및 상기 제1 심장 영역 데이터를 비교하는 단계는,상기 제1 심장 영역 데이터에 기반하여 경계선 임의의 지점을 잇는 선들의 기울기 차이 값을 계산하는 단계; 및상기 기울기 차이 값에 기반하여 상기 제1 심장 영역 데이터를 조정하는 단계를 포함하는, 방법."}
{"patent_id": "10-2022-0023419", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "청구항 6에 있어서,상기 기울기 차이 값은, 상기 제1 심장 영역 데이터에 기반하여 선택된 임의의 지점들 중에서 제1 지점과 제2지점을 연결한 선 및 상기 제1 지점과 제3 지점을 연결한 선의 기울기 차이이고,상기 제1 지점은, 상기 제1 심장 영역 데이터에 포함된 경계선에 위치한 임의의 지점이고,상기 제2 지점 및 상기 제3 지점은, 상기 제1 지점을 기준으로 근접한 순으로 선택된 지점들인, 방법."}
{"patent_id": "10-2022-0023419", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "청구항 7에 있어서,상기 제2 심장 영역 데이터는, 모든 상기 선택된 임의의 지점들에 대해 계산한 모든 상기 기울기 차이 값의 합이 최소화되도록 상기 제1 심장 영역 데이터를 조정하여 생성되는, 방법."}
{"patent_id": "10-2022-0023419", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "청구항 1에 있어서,상기 제2 심장 영역 데이터는, LACM(local active contour model)을 이용하여 상기 제1 심장 데이터를 조정하여 생성되는, 방법."}
{"patent_id": "10-2022-0023419", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "프로세서에 의해 동작되면 제1항 내지 제9항 중의 어느 한 항에 따른 방법을 실행하기 위해 매체에 저장된 프로그램."}
{"patent_id": "10-2022-0023419", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "인공지능 모델에 기반하여 심장 구조를 세그멘테이션하기 위한 장치에 있어서,송수신부;인공지능 모델을 저장하는 저장부; 및상기 송수신부 및 상기 저장부와 연결된 적어도 하나의 프로세서를 포함하며,상기 적어도 하나의 프로세서는, 공개특허 10-2022-0122514-4-대상자의 심장 초음파 영상 데이터를 획득하고,상기 심장 초음파 영상 데이터에 기반하여 제1 심장 영역 데이터를 생성하고,상기 심장 초음파 영상 데이터 및 상기 제1 심장 영역 데이터를 비교하고,상기 비교 결과에 기반하여 제2 심장 영역 데이터를 생성하도록 제어하되,상기 제1 심장 영역 데이터는, 상기 심장 초음파 영상 데이터에 기반하여 1차적으로 심장 구조를 세그멘테이션한 데이터이고,상기 제2 심장 영역 데이터는, 상기 제1 심장 영역 데이터를 상기 비교 결과에 기반하여 조정한 데이터인,장치."}
{"patent_id": "10-2022-0023419", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 인공지능 모델에 기반하여 심장 구조를 세그멘테이션(segmentation)하기 위한 방법으로, 대상자의 심 장 초음파 영상 데이터를 획득하는 단계, 상기 심장 초음파 영상 데이터에 기반하여 제1 심장 영역 데이터를 생 성하는 단계, 상기 심장 초음파 영상 데이터 및 상기 제1 심장 영역 데이터를 비교하는 단계, 및 상기 비교 결과 에 기반하여 제2 심장 영역 데이터를 생성하는 단계를 포함할 수 있다."}
{"patent_id": "10-2022-0023419", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 인공지능(artificial intelligence, AI) 알고리즘에 기반하여 심장 구조를 세그멘테이션하기 위한 방 법 및 장치에 대한 것이다."}
{"patent_id": "10-2022-0023419", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "심장 초음파 검사는 일차적으로 사용되는 필수 검사로 심장 초음파 검사 결과를 통해 대상자의 심장의 구조적, 기능적 평가를 할 수 있다. 심장 초음파 검사는 비침습적이며 검사 비용이 낮으므로, 이를 이용하여 대상자의 질병 진단을 하기 위한 연구가 진행중이다. 한편, 최근 인공지능(artificial intelligence, AI) 기술이 크게 발전하면서 다양한 분야에서 주목되고 있다. 특히, 방대한 양의 누적된 의료 데이터와, 이미지 위주의 진단 데이터 등의 환경으로 인해, 의료 분야에 인공지 능 알고리즘을 접목하려는 다양한 시도와 연구가 진행 중이다. 구체적으로, 인공지능 기술이 질병을 진단, 예측 하는 등 종래의 임상적 판단에 머물러 있던 작업들을 인공지능 알고리즘을 이용하여 해결하려는 다양한 연구가 이루어지고 있다. 이러한 연구들은 심장 질환 진단까지도 확장되고 있다. 선행기술문헌 한국공개특허 KR 10-2022-0016695 A (2022.02.10) 한국공개특허 KR 10-2022-0012628 A (2022.02.04)"}
{"patent_id": "10-2022-0023419", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 대상자의 심장 질환 상태를 효과적으로 진단하기 위한 방법 및 장치를 제공하기 위한 것이다. 본 발명은 대상자의 심장 초음파 영상으로부터 심장 구조를 세그멘테이션(segmentation)하기 위한 방법 및 장치 를 제공하기 위한 것이다. 본 발명은 대상자의 심장 초음파 결과를 분석하여 심장을 구조적, 기능적으로 평가하기 위한 방법 및 장치를 제 공하기 위한 것이다. 본 발명은 인공지능(artificial intelligence, AI) 모델을 이용하여 대상자의 심장 초음파 영상을 이용한 심장 세그멘테이션 결과를 후처리하기 위한 방법 및 장치를 제공하기 위한 것이다. 본 발명에서 이루고자 하는 기술적 과제들은 이상에서 언급한 기술적 과제들로 제한되지 않으며, 언급하지 않은"}
{"patent_id": "10-2022-0023419", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 2, "content": "또 다른 기술적 과제들은 아래의 기재로부터 본 발명이 속하는 기술분야에서 통상의 지식을 가진 자에게 명확하 게 이해될 수 있을 것이다."}
{"patent_id": "10-2022-0023419", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 일 실시 예에 따른 인공지능 모델에 기반하여 심장 구조를 세그멘테이션(segmentation)하기 위한 방 법은, 대상자의 심장 초음파 영상 데이터를 획득하는 단계, 상기 심장 초음파 영상 데이터에 기반하여 제1 심장 영역 데이터를 생성하는 단계, 상기 심장 초음파 영상 데이터 및 상기 제1 심장 영역 데이터를 비교하는 단계, 및 상기 비교 결과에 기반하여 제2 심장 영역 데이터를 생성하는 단계를 포함할 수 있다. 여기서, 상기 제1 심 장 영역 데이터는, 상기 심장 초음파 영상 데이터에 기반하여 1차적으로 심장 구조를 세그멘테이션한 데이터이 고, 상기 제2 심장 영역 데이터는, 상기 제1 심장 영역 데이터를 상기 비교 결과에 기반하여 조정한 데이터일 수 있다. 본 발명의 일 실시예에 따르면, 상기 심장 구조는 좌심방, 좌심실, 우심방 및 우심실을 포함할 수 있다. 본 발명의 일 실시예에 따르면, 상기 제2 심장 영역 데이터는, 능동 윤곽선 기법에 기반하여 상기 제1 심장 영 역 데이터를 조정한 결과일 수 있다. 본 발명의 일 실시예에 따르면, 상기 심장 초음파 영상 데이터 및 상기 제1 심장 영역 데이터를 비교하는 단계 는, 상기 제1 심장 영역 데이터에 기반하여 마스크를 생성하는 단계, 상기 마스크 내에 포함된 영역 중에서 경 계선을 기준으로 심장 초음파 영상 데이터의 내부 및 외부 이미지의 평균 픽셀 값을 계산하는 단계, 및 상기 평 균 픽셀 값에 기반하여 상기 제1 심장 영역 데이터를 조정하는 단계를 더 포함할 수 있다. 여기서, 상기 경계선 은, 상기 제1 심장 영역 데이터에 포함된 심장 구조의 형상을 특정 형태로 구획한 데이터일 수 있다. 본 발명의 일 실시예에 따르면, 상기 마스크는, 원형의 모양으로 생성되고, 상기 제2 심장 영역 데이터는, 상기 내부 이미지의 평균 픽셀 값 및 상기 외부 이미지의 평균 픽셀 값의 차이가 최대가 되도록 상기 제1 심장 영역 데이터를 조정하여 생성될 수 있다. 본 발명의 일 실시예에 따르면, 상기 심장 초음파 영상 데이터 및 상기 제1 심장 영역 데이터를 비교하는 단계 는, 상기 제1 심장 영역 데이터에 기반하여 경계선 임의의 지점을 잇는 선들의 기울기 차이 값을 계산하는 단계, 및 상기 기울기 차이 값에 기반하여 상기 제1 심장 영역 데이터를 조정하는 단계를 더 포함할 수 있다. 본 발명의 일 실시예에 따르면, 상기 기울기 차이 값은, 상기 제1 심장 영역 데이터에 기반하여 선택된 임의의 지점들 중에서 제1 지점과 제2 지점을 연결한 선 및 제1 지점과 제3 지점을 연결한 선의 기울기 차이이고, 상기 제1 지점은, 상기 제1 심장 영역 데이터에 포함된 경계선에 위치한 임의의 지점이고, 상기 제2 지점 및 제3 지 점은, 제1 지점을 기준으로 근접한 순으로 선택된 지점들일 수 있다. 본 발명의 일 실시예에 따르면, 상기 제2 심장 영역 데이터는, 상기 선택된 모든 임의의 지점들에 대해 계산한 모든 상기 기울기 차이 값의 합이 최소화되도록 상기 제1 심장 영역 데이터를 조정하여 생성될 수 있다. 본 발명의 일 실시예에 따르면, 상기 제2 심장 영역 데이터는, LACM(local active contour model)을 이용하여 상기 제1 심장 데이터를 조정하여 생성될 수 있다. 본 발명의 일 실시 예에 따른 매체에 저장된 프로그램은, 프로세서에 의해 동작되면 전술한 방법을 실행할 수 있다. 본 발명의 일 실시 예에 따른 인공지능 모델에 기반하여 심장 구조를 세그멘테이션하기 위한 장치는, 송수신부, 인공지능 모델을 저장하는 저장부, 및 상기 송수신부 및 상기 저장부와 연결된 적어도 하나의 프로세서를 포함 하며, 상기 적어도 하나의 프로세서는, 대상자의 심장 초음파 영상 데이터를 획득하고, 상기 심장 초음파 영상 데이터에 기반하여 제1 심장 영역 데이터를 생성하고, 상기 심장 초음파 영상 데이터 및 상기 제1 심장 영역 데 이터를 비교하고, 상기 비교 결과에 기반하여 제2 심장 영역 데이터를 생성하도록 제어할 수 있다. 여기서, 상 기 제1 심장 영역 데이터는, 상기 심장 초음파 영상 데이터에 기반하여 1차적으로 심장 구조를 세그멘테이션한 데이터이고, 상기 제2 심장 영역 데이터는, 상기 제1 심장 영역 데이터를 상기 비교 결과에 기반하여 조정한 데 이터일 수 있다."}
{"patent_id": "10-2022-0023419", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 2, "content": "본 발명에 대하여 위에서 간략하게 요약된 특징들은 후술하는 본 발명의 상세한 설명의 예시적인 양상일 뿐이며, 본 발명의 범위를 제한하는 것은 아니다."}
{"patent_id": "10-2022-0023419", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따르면, 학습된 인공지능 모델을 이용하여 심장 초음파 영상으로부터 심장의 구조를 효과적으로 세그 멘테이션(segmention)할 수 있다. 본 발명에 따르면, 대상자의 심장 초음파 결과에 기반하여 심장을 구조적, 기능적으로 평가할 수 있다. 본 발명에 따르면, 대상자의 심장 질환 상태를 효과적으로 진단할 수 있는 장점을 제공한다. 본 발명에서 얻을 수 있는 효과는 이상에서 언급한 효과들로 제한되지 않으며, 언급하지 않은 또 다른 효과들은"}
{"patent_id": "10-2022-0023419", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 2, "content": "아래의 기재로부터 본 발명이 속하는 기술분야에서 통상의 지식을 가진 자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2022-0023419", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하에서는 첨부한 도면을 참고로 하여 본 발명의 실시 예에 대하여 본 발명이 속하는 기술 분야에서 통상의 지 식을 가진 자가 용이하게 실시할 수 있도록 상세히 설명한다. 그러나, 본 발명은 여러 가지 상이한 형태로 구현 될 수 있으며 여기에서 설명하는 실시 예에 한정되지 않는다. 본 발명의 실시 예를 설명함에 있어서 공지 구성 또는 기능에 대한 구체적인 설명이 본 발명의 요지를 흐릴 수 있다고 판단되는 경우에는 그에 대한 상세한 설명은 생략한다. 그리고, 도면에서 본 발명에 대한 설명과 관계없는 부분은 생략하였으며, 유사한 부분에 대해서는 유사한 도면 부호를 붙였다. 본 발명은 인공지능 모델에 기반하여 심장 초음파 영상으로부터 심장 구조를 세그멘테이션(segmentation)하기 위한 것으로, 구체적으로 대상자의 초음파 영상 데이터에 기반하여 인공지능을 이용하여 심장 영역 데이터를 추 출하고, 추출한 심장 영역 데이터를 분석함으로써 대상자의 심장 구조적, 기능적 평가를 통해 심장 질환 진단을 보조하는 기술에 관한 것이다. 도 1은 본 발명의 일 실시 예에 따른 시스템을 도시한다. 도 1을 참고하면, 시스템은 서비스 서버, 데이터 서버, 적어도 하나의 클라이언트 장치를 포함 한다. 서비스 서버는 인공지능 모델 기반의 서비스를 제공한다. 즉, 서비스 서버는 인공지능 모델을 이용하 여 학습 및 예측 동작을 수행한다. 서비스 서버는 네트워크를 통해 데이터 서버 또는 적어도 하나의 클라이언트 장치와 통신을 수행할 수 있다. 예를 들어, 서비스 서버는 데이터 서버로부터 인공 지능 모델을 훈련하기 위한 학습 데이터를 수신하고, 훈련을 수행할 수 있다. 서비스 서버는 적어도 하나 의 클라이언트 장치로부터 학습 및 예측(prediction) 동작에 필요한 데이터를 수신할 수 있다. 또한, 서비 스 서버는 적어도 하나의 클라이언트 장치에게 예측 결과에 대한 정보를 송신할 수 있다. 데이터 서버는 서비스 서버에 저장된 인공지능 모델의 훈련을 위한 학습 데이터를 제공한다. 다양한 실시 예들에 따라, 데이터 서버는 누구나 접근 가능한 공공 데이터를 제공하거나 또는 허가를 필요로 하는 데이터를 제공할 수 있다. 필요에 따라, 학습 데이터는 데이터 서버에 의해 또는 서비스 서버에 의해 전처리할 수 있다. 다른 실시 예에 따라, 데이터 서버는 생략될 수 있다. 이 경우, 서비스 서버는 외 부에서 훈련된 인공지능 모델을 사용하거나 또는 서비스 서버에 오프라인으로 학습 데이터가 제공될 수 있 다. 적어도 하나의 클라이언트 장치는 서비스 서버에 의해 운용되는 인공지능 모델에 관련된 데이터를 서 비스 서버와 송신 및 수신한다. 적어도 하나의 클라이언트 장치는 사용자에 의해 사용되는 장비이며, 사용자에 의해 입력되는 정보를 서비스 서버에게 송신하고, 서비스 서버로부터 수신되는 정보를 저장 하거나 사용자에게 제공(예: 표시)할 수 있다. 경우에 따라, 어느 하나의 클라이언트로부터 송신된 데이터에 기 반하여 예측 동작이 수행되고, 예측의 결과에 관련된 정보가 다른 클라이언트에게 제공될 수 있다. 적어도 하나 의 클라이언트 장치는 데스크탑 컴퓨터, 랩탑 컴퓨터, 스마트폰, 타블렛, 웨어러블 기기 등 다양한 형태의 컴퓨팅 장치일 수 있다. 도 1에 도시되지 아니하였으나, 시스템은 서비스 서버를 관리하기 위한 관리 장치를 더 포함할 수 있다. 관리 장치는 서비스를 관리하는 주체에 의해 사용되는 장치로서, 서비스 서버의 상태를 모니터링하거나, 서비스 서버의 설정을 제어한다. 관리 장치는 네트워크를 통해 서비스 서버에 접속하거나 또는 케이 블 연결을 통해 직접 연결될 수 있다. 관리 장치의 제어에 따라, 서비스 서버는 동작을 위한 파라미터를 설정할 수 있다. 도 1을 참고하여 설명한 바와 같이, 서비스 서버, 데이터 서버, 적어도 하나의 클라이언트 장치 , 관리 장치 등이 네트워크를 통해 연결되고, 상호작용할 수 있다. 여기서, 네트워크는 유선 네트워크 및 무선 네트워크 중 적어도 하나를 포함할 수 있고, 셀룰러 네트워크, 근거리 네트워크, 광역 네트워크 중 어느 하나 또는 둘 이상의 조합으로 이루어질 수 있다. 예를 들어, 네트워크는 LAN(local area network), WLAN(wireless LAN), 블루투스(bluetooth), LTE(long term evolution), LTE-A(LTE-advanced), 5G(5th generation) 중 적어도 하나에 기반하여 구현될 수 있다. 도 2는 본 발명의 일 실시 예에 따른 장치의 구조를 도시한다. 도 2에 예시된 구조는 도 1의 서비스 서버, 데이터 서버, 적어도 하나의 클라이언트 장치의 구조로 이해될 수 있다. 도 2를 참고하면, 장치는, 통신부, 저장부, 제어부를 포함한다. 통신부는 네트워크에 접속하고, 다른 장치와 통신을 수행하기 위한 기능을 수행한다. 통신부는 유선 통신 및 무선 통신 중 적어도 하나를 지원할 수 있다. 통신을 위해, 통신부는 RF(radio frequency) 처리 회로, 디지털 데이터 처리 회로 중 적어도 하나를 포함할 수 있다. 경우에 따라, 통신부는 케이블을 연결 하기 위한 단자를 포함하는 구성요소로 이해될 수 있다. 통신부는 데이터, 신호를 송신 및 수신하기 위한 구성요소이므로, '송수신부(transceiver)'라 지칭될 수 있다. 저장부는 장치의 동작을 위해 필요한 데이터, 프로그램, 마이크로 코드, 명령어 집합, 어플리케이션 등을 저장한다. 저장부는 일시적 또는 비일시적 저장 매체로 구현될 수 있다. 또한, 저장부는 장치에 고정 되어 있거나, 또는 분리 가능한 형태로 구현될 수 있다. 예를 들어, 저장부는 콤팩트 플래시(compact flash, CF) 카드, SD(secure digital) 카드, 메모리 스틱(memory stick), 솔리드 스테이트 드라이브(solid- state drive; SSD) 및 마이크로(micro) SD 카드 등과 같은 낸드 플래시 메모리(NAND flash memory), 하드 디스 크 드라이브(hard disk drive; HDD) 등과 같은 마그네틱 컴퓨터 기억 장치 중 적어도 하나로 구현될 수 있다. 제어부는 장치의 전반적인 동작을 제어한다. 이를 위해, 제어부는 적어도 하나의 프로세서, 적어도 하나의 마이크로 프로세서 등을 포함할 수 있다. 제어부는 저장부에 저장된 프로그램을 실행하고, 통 신부를 통해 네트워크에 접속할 수 있다. 특히, 제어부는 후술하는 다양한 실시 예들에 따른 알고리 즘들을 수행하고, 후술하는 실시 예들에 따라 장치가 동작하도록 제어할 수 있다. 도 1 및 도 2를 참고하여 설명한 구조에 기반하여, 본 발명의 다양한 실시 예들에 따른 인공지능 알고리즘 기반 의 서비스가 제공될 수 있다. 여기서, 인공지능 알고리즘을 구현하기 위해 인공 신경망으로 이루어진 인공지능 모델이 사용될 수 있다. 인공 신경망의 구성 단위인 퍼셉트론(perceptron) 및 인공 신경망의 개념은 다음과 같 다. 퍼셉트론은 생물의 신경 세포를 모델링한 것으로서, 다수의 신호들을 입력으로 삼아 하나의 신호를 출력하는 구 조를 가진다. 도 3은 본 발명에 적용 가능한 인공지능 모델을 구성하는 퍼셉트론의 예를 도시한다. 도 3을 참고 하면, 퍼셉트론은 입력값들(예: x1, x2, x3, …, xn) 각각 대하여 가중치들(302-1 내지 302-n)(예: w1j, w2j, w3j, …, wnj)을 곱한 후, 가중치 곱해진(weighted) 입력값들을 변환 함수(transfer function)을 이용하여 합산 한다. 합산 과정에서, 바이어스(bias) 값(예: bk)이 더해질 수 있다. 퍼셉트론은 변환 함수의 출력인 네트 (net) 입력값(예: netj)에 대하여 활성 함수(activation function)을 적용함으로써, 출력 값(예: oj)를 생 성한다. 경우에 따라, 활성 함수은 임계치(예: θj)에 기반하여 동작할 수 있다. 활성 함수는 다양하게 정 의될 수 있다. 본 발명이 이에 제한되는 것은 아니나, 예를 들어, 활성 함수로서, 스텝 함수(step function), 시그모이드(sigmoid), Relu, Tanh 등이 사용될 수 있다. 도 3와 같은 퍼셉트론들이 나열되고, 레이어를 이룸으로써 인공 신경망이 설계될 수 있다. 도 4는 본 발명에 적 용 가능한 인공지능 모델을 구성하는 인공 신경망의 예를 도시한다. 도 4에서, 원으로 표현된 각 노드는 도 3의 퍼셉트론으로 이해될 수 있다. 도 4를 참고하면, 인공 신경망은 입력 레이어(input layer), 복수의 은닉 레이어(hidden layer)들(404a, 404b), 출력 레이어(output layer)를 포함한다. 예측을 수행하는 경우, 입력 레이어의 각 노드로 입력 데이터가 제공되면, 입력 데이터는 입력 레이어 , 은닉 레이어들(404a, 404b)을 이루는 퍼셉트론들에 의한 가중치 적용, 변환 함수 연산 및 활성 함수 연 산 등을 거쳐 출력 레이어까지 순전파(forward propagation)된다. 반대로, 훈련을 수행하는 경우, 출력 레 이어로부터 입력 레이어를 향한 역전파(backward propagation)를 통해 오차가 계산되고, 계산된 오차 에 따라 각 퍼셉트론에 정의된 가중치 값들이 갱신될 수 있다. 심장 초음파 검사는 비침습적이고 검사 비용이 낮기 때문에, 일차적으로 사용되는 필수 검사이다. 의사는 심장 초음파 검사 결과를 통해 대상자 심장의 구조적, 기능적 평가를 할 수 있다. 따라서 심장 초음파 검사를 통해 1 차적 진단이 이루어진 후, 추가적인 검사가 필요한 경우 2차적 검사를 시행한다. 즉, 심장 초음파 검사를 통한 진단은 필수적이며 일상적인 검사로서, 이를 인공지능을 통해 진단을 대체하려는 연구가 활발히 진행되고 있다. 도 5는 본 개시의 일 실시 예에 따른 심장 초음파 영상의 예를 도시한다. 도 5를 참고하면, 임의의 대상자의 심장 초음파 검사 영상을 확인할 수 있다. 심장 초음파 영상은 좌심방(left atrium, LA) 및 좌심실(left ventricle, LV)과 같은 심장의 구조를 표시할 수 있다. 초음파 영상은 CT(computed tomography) 영상과 달리 강도(intensity)와 같은 여러 수치(value)들이 일정한 값을 가지지 않을 수 있다. 따라서, 도 5의 초음파 영상에서 확인할 수 있듯이 좌심방을 포함하는 심장 구조 장기(좌심방, 좌심실, 우심방, 우심실)의 경계가 명확하지 않을 수 있다. 또한, 심장 초음파 영상 검사를 포함한 의료 영상 검사 기법들은 트랜스미션(transmission)의 위치, 게인(gain) 설정 값 차이와 같은 여러 이유에 의하여 영상 결과물의 강도(intensity)가 균등하지 않을 수 있다. 이에 따라, 인공지능 모델을 통하여 초음파 영상을 포함하는 의료 영상을 이용한 진단 및 연구를 수행함에 있어서 부정확한 결과가 초래될 수 있다. 일 예로, 인공지능 모델이 심장 초음파 영상을 이용하여 심장 구조를 세그멘테이션한 결과물은 사람이 초음파 영상으로부터 심장 구조를 세그멘테이션한 결과물에 비해 정확도가 매우 낮을 수 있다. 도 6은 본 개시의 일 실시 예에 따른 초음파 영상에서 심장 구조를 세그멘테이션한 결과의 예들을 도시한다. 도 6을 참고하면, 인공지능 모델이 심장 초음파 영상을 이용하여 심장 구조를 1차적으로 세그멘테이션한 결과 (610, 620) 및 1차적으로 세그멘테이션된 심장 구조를 후처리한 결과(630, 640)를 확인할 수 있다. 초음파 영상 으로부터 좌심방과 좌심실의 구조가 노란색 선으로 세그멘테이션되었다. 세그멘테이션된 결과물은 실제 심장 구 조와는 다소 상이하다. 인공지능 모델이 심장 구조의 경계가 불명확하게 표시된 초음파 영상을 사용하였기 때문 에 세그멘테이션 결과물의 정확도가 떨어지게 된 것이다. 따라서, 본 발명의 일 실시예에 따라 부정확하게 세그멘테이션된 결과물을 후보정하기 위하여 로컬 액티브 컨투 어 모델(local active contour model, LACM)을 이용하여 심장 구조의 세그멘테이션 결과를 조정할 수 있다. 1 차적으로 심장을 세그멘테이션한 결과(610, 620)를 LACM을 이용하여 후처리한 결과(620, 640)는 심장의 구조를 보다 정확하게 나타내고 있다. 인공지능 모델을 통해 심장 초음파 영상으로부터 심장 구조를 세그멘테이션하고 세그멘테이션한 결과를 임상에 서 사용하기 위해서는, 심장 구조 세그멘테이션의 정확도를 보장하기 위해, 많은 수의 세그멘테이션 결과에 대 한 정답 데이터를 확보하고 인공지능 모델을 학습시키는 것이 필요하다. 그러나 초음파 영상은 일반 데이터에 비하여 획득하기 어렵다. 또한 인공지능 기술은 픽셀 별 세그멘테이션을 진행하므로 실제 임상에서 요구되는 수 준의 세그멘테이션 결과를 얻기 어렵다. 따라서, 도 6에서 살펴본 바와 같이 본 발명은 인공지능 모델이 심장 초음파 영상을 이용하여 생성한 1차적 (primary) 심장 세그멘테이션 결과를 조정함으로써 보다 정확한 2차적(secondary) 심장 세그멘테이션 결과를 제 공하는 방법을 제안한다. 이하 설명에서, 1차적 심장 세그멘테이션 결과는 '제1 심장 세그멘테이션 결과', '제1 심장 분할 결과' 등으로 지칭될 수 있다. 또한, 2차적 심장 세그멘테이션 결과는 '제2 심장 세그멘테이션 결 과', '제1 심장 분할 결과' 등으로 지칭될 수 있다. 이하 구체적인 절차에 대해 기술한다. 도 7은 본 개시의 일 실시 예에 따른 인공지능 모델에 기반하여 심장 구조를 세그멘테이션하는 절차의 예를 도 시한다. 도 7은 연산 능력을 가진 장치(예: 도 1의 서비스 서버)의 동작 방법을 예시한다. 도 7을 참고하면, 장치는 익명화된 다이콤 영상 데이터를 획득할 수 있다. 장치는 획득한 익명화된 다이콤 영상으로부터 이미지 데이터를 추출할 수 있다. 장치는 이미지 데이터의 크기, 강도 등에 대한 전처리를 수행할 수 있다. 장치는 인공지능 모델을 이용하여 전처리한 이미지 데이터로부터 학 습 데이터를 생성할 수 있다. 일 예로, 학습 데이터는 심장초음파 영상으로부터 심장 구조를 예측한 결과일 수 있다. 장치는 생성한 학습 데이터 및 정답 데이터를 지도학습의 방법으로 인공지능 네트워 크에 전달할 수 있다. 정답 데이터는 전문가가 심장 초음파 영상을 이용하여 심장 구조를 세그멘테이션한 결과일 수 있다. 일 예로, 인공지능 네트워크에 전달된 입력 영상은 분류된 초음파 영상일 수 있다. 인공지능 네트워크를 통해 출력되는 결과물은 심장 구조를 세그멘테이션한 결과물일 수 있다. 즉, 장치는 인공지능 모델을 이용하여 분류 된 초음파 영상을 이용하여 심장 구조를 예측할 수 있다. 또 다른 일 예로, 장치는 인공지능 모델을 이용하여 학습에 사용되지 않은 입력 데이터를 통해 심장 구조를 예측할 수 있다. 장치는 학습 데이터와 정답 데이터를 비교하여 로스(loss)를 최소화할 수 있다. 장치는 인공지능 모델에 대한 학습을 설계하기 위해 합성곱신경망(convolutional neural network, CNN)을 사용 할 수 있다. CNN은 임베딩 층을 거쳐 나온 단어 벡터 시퀀스에 다양한 윈도우 사이즈의 커널 다수개를 적용한 합성곱연산(convolution operation)을 수행하여 특징 값들을 추출하는 네트워크이다. 장치는 CNN을 이용하여 인 접 단어 간 수식관계에 기반한 단어 결합 의미 분석을 통해 최종진단명에 영향을 미치는 특정 수식어 및 특정 키워드를 학습할 수 있다. CNN은 발명 합성곱연산(convolution operation)을 수행한 후 비선형(non-linear) 활 성함수(activation function)를 통해서 6개의 특징맵을 생성한 뒤, 맥스-풀링(max-pooling)을 거쳐 최종 특징 맵이 추출되도록 구성되어 있다. 초음파 영상을 분석하는 데 걸리는 시간은 한 장당 40분 내외이다. 한 환자의 하나의 초음파 영상 뷰는 80장 정 도로 구성되어 초음파 영상을 분석하기 위해 많은 시간이 소요된다. 반면에, 인공지능 모델을 이용하여 초음파 영상을 정량적으로 분석할 경우, 모든 장을 동시에 1~3분 내외로 분석할 수 있다. 따라서, 본 개시에 따라 인공 지능 모델을 이용하여 심장 구조를 세그멘테이션하면 시간적 비용뿐만 아니라 경제적 비용 또한 감소시킬 것으 로 예상된다. 해당 기술은 좌심방, 좌심실의 구조 분석에만 국한되지 않고, 심초음파 상에 나타날 수 있는 모든 구조물에 적용될 수 있다. 도 8은 본 개시의 일 실시예에 따른 초음파 영상 이미지로부터 인공지능 모델을 이용하여 심장 구조를 세그멘테 이션한 결과 및 전문가의 심장 구조 세그멘테이션 결과를 도시한다. 도 8을 참고하면, 초음파 영상 이미지로부터 심장 구조를 세그멘테이션한 결과를 확인할 수 있다. 파란색 선으 로 세그멘테이션된 결과가 인공지능 모델을 이용하여 심장 구조를 세그멘테이션한 결과이고, 빨간색 선으로 세 그멘테이션된 결과가 전문가가 심장 구조를 세그멘테이션한 결과이다. 인공지능 모델을 이용한 심장 구조 세그 멘테이션 결과의 경우 전문가의 세그멘테이션 결과와 다소 상이함을 확인할 수 있다. 도 9는 본 개시의 일 실시예에 따른 인공지능 모델을 이용하여 심장 구조를 세그멘테이션하는 절차의 예를 도시 한다. 도 9를 참고하면, S901단계에서, 장치는 인공지능 모델을 이용하여 심장 초음파 이미지로부터 심장 구조 세그멘 테이션 결과를 획득한다. 장치는 인공지능 모델을 이용하여 한 번 또는 여러 번 심장 구조를 세그멘테이션하는 절차를 수행할 수 있다. 그런데, 심장 초음파 이미지에 심장 구조 장기들 간에 불명확한 경계선이 있는 경우, 심장 구조 세그멘테이션 결과의 정확도를 보장할 수 없다. 장치는 세그멘테이션 정확도인 DSC(dice similarity coefficient)가 기 설정된 성능 값을 만족하지 못하면 심장 세그멘테이션 결과를 부정확한 결과로 인지할 수 있 다. S903단계에서, 장치는 능동 윤곽선 기법에 기반하여 심장 구조 세그멘테이션 결과를 조정한다. 일 예로, 장치는 S901단계의 심장 구조 세그멘테이션 과정을 여러 번 수행할 수 있다. 장치는 심장 구조 세그멘테이션 결과의 평 균을 계산하고, 평균 결과를 획득할 수 있다. 획득된 평균 심장 구조 세그멘테이션 결과는 능동 윤곽선 기법의 초기조건으로 활용될 수 있다. 능동 윤곽선 기법은 내부 에너지 및 외부 에너지로 정의될 수 있다. 내부 에너지 는 세그멘테이션 결과의 경계선의 길이가 될 수 있으며 하기 수학식 1로 정의될 수 있다. 수학식 1"}
{"patent_id": "10-2022-0023419", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "수학식 1에서, I는 영상에 관련된 값이고, (x, y)는 영상 내의 한 지점의 위치를 나타낸다. 외부 에너지는 하기 수학식 2로 정의될 수 있다.수학식 2"}
{"patent_id": "10-2022-0023419", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "수학식 2에서 u는 영상 내의 평균 밝기 값을 나타내고, v는 영상 외의 평균 밝기 값을 나타낸다. 장치는 최종 에너지함수 E= Einternal + Eexternal 값을 최소화하는 방향으로 학습을 진행할 수 있다. 도 10은 본 개시의 일 실시 예에 따른 인공지능 모델을 이용한 심장 구조 세그멘테이션 결과 및 심장 구조 세그 멘테이션 결과에 능동적 모델을 적용한 결과를 도시한다. 도 10을 참고하면, 초음파 영상으로부터 좌심방 및 좌심실이 세그멘테이션된 결과를 확인할 수 있다. 장치가 인 공지능 모델을 이용하여 세그멘테이션한 좌심실 및 좌심방의 세그멘테이션 결과는 윤곽선이 고르지 못한 점을 확인할 수 있다. 반면, 장치가 인공지능 모델을 이용한 심장 구조 세그멘테이션 결과에 능동적 모델을 적용한 좌심방 및 좌심방의 세그멘테이션 결과는 윤곽선이 매끄럽게 세그멘테이션된 것을 확인할 수 있다. 도 11은 본 개시의 일 실시 예에 따른 인공지능 모델에 기반하여 심장 초음파 영상에서 심장 구조를 세그멘테이 션하기 위한 절차의 예를 도시한다. 도 11은 연산 능력을 가진 장치(예: 도 1의 서비스 서버)의 동작 방법 을 예시한다. 도 11을 참고하면, S1101단계에서, 장치는 심장 초음파 영상 데이터를 획득한다. 심장 초음파 영상 데이터는 임 의의 대상자의 초음파 영상으로부터 추출한 데이터이다. 장치는 심장 초음파 영상 데이터를 심장 구조를 세그멘 테이션하기 위해 사용할 수 있다. 장치는 심장 초음파 영상 데이터를 서버(예: 도 1의 데이터 서버) 또는 클라이언트 장치(예: 도 1의 클라이언트 장치)로부터 수신할 수 있다. S1103단계에서, 장치는 심장 초음파 영상 데이터에 기반하여 제1 심장 영역 데이터를 생성한다. 제1 심장 영역 데이터는 심장 초음파 영상 데이터에 기반하여 심장 영역을 1차적으로 세그멘테이션한 결과이다. 제1 심장 영역 데이터는 심장의 구조를 복수의 영역들로 구획하는 심장 구조 세그멘테이션 결과를 포함할 수 있다. 일 예로, 장치는 심장의 구조를 좌심실, 좌심방, 우심실, 우심방으로 세그멘테이션할 수 있다. 장치는 세그멘테이션한 심 장 구조를 표현하는 제1 심장 영역 데이터를 생성할 수 있다. S1105단계에서, 장치는 심장 초음파 영상 데이터 및 제1 심장 영역 데이터를 비교한다. 장치는 제1 심장 영역 데이터가 심장 구조를 정확히 세그멘테이션하였는지 여부를 판단하기 위한 정보(이하 '판단 정보')를 생성한다. 판단 정보는 심장 초음파 영상 데이터 및 제1 심장 영역 데이터의 영역 차이 및 기울기 차이를 비교하기 위한 정보를 포함할 수 있다. 일 예로, 판단 정보는 일정 영역의 초음파 영상 데이터에 포함된 픽셀들의 통계 값 및 심장 세그멘테이션 결과에 포함된 임의의 선들의 기울기 차이 값을 포함할 수 있다. 판단 정보는 제1 심장 영역 데이터를 후처리하여 제2 심장 영역 데이터를 생성하는데 사용될 수 있다. 일 실시 예에 따라, 장치는 심장 초음파 영상 데이터 및 제1 심장 영역 데이터의 임의의 지점에 대한 영역 차이 및 기울기 차이를 비교할 수 있다. 일 예로, 장치는 심장 초음파 영상 데이터 및 제1 심장 영역 데이터의 특정 영역에서의 음영 차이를 비교할 수 있다. 일 예로, 장치는 심장 초음파 영상 데이터 및 제1 심장 영역 데이터의 특정 지점에서의 기울기 차이를 비교할 수 있다. S1107단계에서, 장치는 비교 결과에 기반하여 제2 심장 영역 데이터를 생성한다. 제2 심장 영역 데이터는 S1105 단계의 비교 결과에 기반하여 제1 심장 영역 데이터를 조정한 결과이다. 일 예로, 장치는 심장 초음파 영상 데 이터 및 제1 심장 영역 데이터의 특정 영역의 음영에 기반한 평균 픽셀 값 차이를 최대화하도록 제1 심장 영역 데이터를 조정할 수 있다. 또한, 장치는 심장 세그멘테이션 결과의 임의의 지점들을 잇는 선들의 기울기 차이 값의 합을 최소화하도록 방향으로 제1 심장 영역 데이터를 조정할 수 있다. 장치는 제1 심장 영역 데이터를 조 정한 결과에 기반하여 제2 심장 영역 데이터를 생성할 수 있다. 이를 통해, 제1 심장 영역 데이터에 비교하여, 보다 시각적으로 매끄럽게 영역들을 구획하는 제2 심장 영역 데이터가 획득될 수 있다. 도 11을 참고하여 설명한 실시 예와 같이, 장치는 제1 심장 영역 데이터를 조정할 수 있다. 일 실시 예에 따라, 장치는 LACM(local contour active model)을 이용하여 제1 심장 영역 데이터를 조정할 수 있다. 일 예로, 장치 는 은 AC 로스 함수(active contour loss function)를 이용하여 제1 심장 영역 데이터를 조정할 수 있다. 예를 들어, AC 로스 함수는 하기 수학식 3과 같이 정의될 수 있다. 수학식 3"}
{"patent_id": "10-2022-0023419", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "[수학식 3]에서, 는 최소화 하고자 하는 함수, Length는 제 1 영역 경계선 각 점에서의 기울기의 총합, λ는 Region에 대한 가중치 값, Region은 제 1 영역의 내부 및 외부에서 평균 밝기 값과의 차이의 총합. 장치는 설정한 최소화 한다. 수학식 3의 Length와 Region은 하기 수학식 4와 같이 정의될 수 있다. 수학식 4"}
{"patent_id": "10-2022-0023419", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "수학식 4에서, 및 는 각각 제1 영역 내부 영역의 평균 픽셀 값 및 제1 영역 외부 영역의 평균 픽셀 값, v는 정답(ground truth)(참조 세그멘테이션 결과), u는 제1 영역 경계선 각 점에서의 기울기 값이다. 수학 식 4의 Length 및 Region은 픽셀 확장(pixel wised)에 따라 수학식 5와 같이 표현될 수 있다. 수학식 5"}
{"patent_id": "10-2022-0023419", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "[수학식 5]에서, 및 는 각각 제1 영역 내부 영역의 평균 픽셀 값 및 제1 영역 외부 영역의 평균 픽셀 값, v는 정답(참조 세그멘테이션 결과), u는 예측된 값이다. 도 12는 본 발명의 일 실시예에 따른 심장 초음파 영상 데이터 및 제1 심장 영역 데이터의 영역을 비교하기 위 한 마스크를 도시한다. 도 12를 참고하여, 심장 초음파 영상 데이터 및 제1 심장 영역 데이터의 영역을 비교하 는 장치의 동작을 설명하면 다음과 같다. 도 12를 참고하면, 장치는 심장 초음파 영상 데이터 및 제1 심장 영역 데이터의 영역을 비교하기 위한 마스크를 생성한다. 일 예로, 심장 초음파 영상 데이터는 심장 초음파 영상을 이용하여 획득 한 데이터일 수 있다. 제1 심장 영역 데이터는 인공지능 모델을 이용하여 심장 초음파 영상 데이터(121 0)로부터 1차적으로 심장 구조를 세그멘테이션한 데이터일 수 있다. 일 예로, 장치는 제1 심장 영역 데이터 에 포함된 특정 영역의 경계선의 특정 지점을 선택할 수 있다. 장치는 특정 지점을 기준으로 경계선의 내부 및 외부 영역 일부를 포함하는 마스크를 생성할 수 있다. 마스크의 내 부를 표현하는 정보는 하기 수학식 6과 같이 정의될 수 있다. 수학식 6"}
{"patent_id": "10-2022-0023419", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "수학식 6에서, B(x,y)는 마스크 내부를 나타내는 정보, r은 원형 마스크의 반지름, x는 원형 마스크의 원점. y 는 공간 내 임의의 지점을 나타낸다. 상기 수학식 6에 따르면 원형 마스크의 내부는 1로, 원형 마스크의 외부는 0으로 표현된다. 수학식 6을 이용하여 힘 함수(F)의 관점에서 에너지를 표현하면 하기 수학식 7과 같다. 수학식 7"}
{"patent_id": "10-2022-0023419", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "수학식 7에서, E는 에너지, 는 디랙 함수(dirac function)이다. 하기 수학식 8은 또 다른 에너지 모델의 일 예이다. 수학식 8"}
{"patent_id": "10-2022-0023419", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 9, "content": "수학식 8에서, E는 에너지, 는 마스크 내부를 나타내는 정보 B(x,y)와 관련된 함수, v는 정답(참조 세그멘테 이션 결과), u는 예측된 값이다. 장치는 마스크의 내부 영역 및 경계선 안쪽의 중복 영역 내에 포함되는 심장 초음파 영상 데이터 의 픽셀 값들의 통계 값을 계산할 수 있다. 장치는 마스크의 내부 영역 및 경계선 바깥쪽의 중복 영역 내에 포함되는 심장 초음파 영상 데이터의 픽셀 값들의 통계 값을 계산할 수 있다. 일 예로 통 계 값은 픽셀 값들의 합, 평균값 등의 다양한 값들을 포함할 수 있다. 본 발명의 일 실시예에 따라, 경계선 의 안쪽 및 바깥쪽에서 계산한 심장 초음파 영상 데이터의 평균 픽셀 값의 차이가 클수록, 장치가 심장 구조를 정확히 세그멘테이션한 것으로 취급될 수 있다. 따라서, 장치는 평균값의 차이가 최대가 되도록 제 1 심장 영역 데이터를 조정할 수 있다. 장치는 도 12에서 살펴본 영역 비교 외에도 기울기 비교를 통하여 제1 심장 영역 데이터를 조정할 수 있다. 일 예로, 장치는 1차적으로 심장 구조를 세그멘테이션한 결과에 기초한 임의의 지점들을 이은 선들 중에서 선택된 선들의 기울기 차이의 합을 이용할 수 있다. 영역 비교 및 기울기 비교에 기초하여 제1 심장 영역 데이터를 조 정하는 절차에 대한 자세한 설명은 하기에서 기술한다. 본 발명은 인공지능 모델이 심장 초음파 영상을 이용하여 심장 구조를 보다 정확하게 세그멘테이션하기 위한 방 법 및 장치를 제안한다. 전술한 바와 같이, 본 발명의 다양한 실시 예들에 따르면, 인공지능 모델은 심장 초음 파 영상과 심장 초음파 영상으로부터 1차적으로 심장 구조를 세그멘테이션한 결과인 제1 심장 영역 데이터를 비 교하고, 비교 결과에 기반하여 제1 심장 영역 데이터를 조정함으로써 2차적 심장 영역 데이터를 획득한다. 이하 도 13 및 도 14는 심장 초음파 영상 데이터 및 제1 심장 영역 데이터를 비교하는 절차를 나타낸다. 도 13 및 도14의 절차는 장치가 심장 초음파 영상으로부터 1차적으로 심장 구조를 세그멘테이션한 결과가 심장 초음파 영상 상에서 나타난 심장 구조에 부합하게 도출되었는지를 판단하는 과정일 수 있다. 도 13은 본 발명의 일 실시예에 따른 심장 초음파 영상 데이터 및 제1 심장 영역 데이터의 영역을 비교하는 절 차를 도시한다. 도 13는 연산 능력을 가진 장치(예: 도 1의 서비스 서버)의 동작 방법을 예시한다. 도 13를 참고하면, S1301단계에서, 장치는 제1 심장 영역 데이터에 기반하여 마스크를 생성한다. 여기서, 제1 심장 영역 데이터는 인공지능 모델이 심장 초음파 영상 데이터를 이용하여 1차적으로 심장 구조를 세그멘테이션 한 데이터이다. 제1 심장 영역 데이터는 초음파 영상으로부터 심장 구조를 특정 영역으로 구획한 경계선을 포함 할 수 있다. 심장 초음파 영상 데이터는 인공지능 모델이 심장 초음파 영상으로부터 추출한 데이터이다. 일 예 로, 장치는 제1 심장 영역 데이터에 포함된 경계선에 기반하여 임의의 지점을 선택할 수 있다. 임의의 지점은 기 설정된 개수로 선택될 수 있다. 장치는 선택한 각 지점들을 기준으로 경계선 내부 및 외부의 일정 영역을 포 함하는 마스크를 생성할 수 있다. 일 예로, 마스크는 임의의 크기의 원형 형태로 생성될 수 있다. S1303단계에서, 장치는 마스크 내에 포함된 영역 중에서 경계선을 기준으로 심장 초음파 영상 데이터의 내부 및 외부 이미지 각각의 평균 픽셀 값을 계산한다. 심장 초음파 영상 이미지를 구성하는 각 픽셀들은 고유의 픽셀 값을 갖고 있다. 이미지의 평균 픽셀 값은 이미지의 각 픽셀들이 갖는 고유의 픽셀 값들의 평균이다. 일 예로, 장치는 마스크의 내부 영역 및 경계선 안쪽의 중복 영역 내에 포함되는 심장 초음파 영상 이미지(이하 '내부 이 미지')의 픽셀 값들의 평균 값을 계산할 수 있다. 또한, 장치는 마스크의 외부 영역 및 경계선 안쪽의 중복 영 역 내에 포함되는 심장 초음파 영상 이미지(이하 '외부 이미지')의 픽셀 값들의 평균 값을 계산할 수 있다. 일 예로, 검은색의 경우 0, 하얀색의 경우 255의 픽셀 값을 가질 수 있다. 이미지에서 심장 구조가 검은색이고 그 외의 부분이 흰색이라고 가정할 경우, 심장 구조가 정확히 세그멘테이션되었다면 외부 이미지의 평균 픽셀 값은 255일 것이고, 내부 이미지의 평균 픽셀 값은 0일 것이다. 장치는 임의의 지점에 생성된 모든 마스크 내의 영역에 대하여 S1303단계를 수행할 수 있다. S1305단계에서, 장치는 평균 픽셀 값에 기반하여 제1 심장 영역 데이터를 조정한다. 일 예로, 장치가 인공지능 모델을 이용하여 심장 초음파 영상으로부터 심장 구조를 정확히 세그멘테이션하였다면, 심장 초음파 영상 이미 지와 심장 구조 세그멘테이션 결과가 일치할 수 있다. 심장 초음파 영상 이미지와 심장 구조 세그멘테이션 결과 가 일치한다면 심장 구조 세그멘테이션 결과를 기준으로 내부 이미지 및 외부 이미지는 일정한 색으로 통일될 수 있다. 이에 따라, 내부 이미지 및 외부 이미지의 색의 차이는 명확할 수 있고, 평균 픽셀 값의 차이가 클 수 있다. 즉, 외부 이미지의 평균 픽셀 값 및 내부 이미지의 평균 픽셀 값의 차이가 클수록 장치가 심장 구조를 정 확히 세그멘테이션한 것이다. 따라서, 장치는 내부 이미지 및 외부 이미지의 평균 픽셀 값의 차이가 최대가 되 도록 마스크를 생성한 임의의 지점을 조정함으로써 제1 심장 영역 데이터를 후처리할 수 있다. 도 13을 참고하여 설명한 절차는 특정 지점에 생성된 하나의 마스크에 대한 동작들로 이해될 수 있다. 제2 심장 영역 데이터를 생성하는 절차 중, 복수의 지점들에서 마스크들이 생성될 수 있으며, 이 경우, 장치는 마스크를 생성한 모든 지점들에 대하여 도 13의 절차를 반복적으로 수행할 수 있다. 본 발명의 일 실시예에 따라, 장치는 영역 비교에 기반하여 제1 심장 영역 데이터를 조정할 수 있다. 일 예로, 장치는 내부 이미지 및 외부 이미지의 픽셀 값들에 기반하여 조정 데이터를 생성할 수 있다. 조정 데이터는 임 의의 지점들을 조정 방향 및 조정 정도를 결정하는데 사용될 수 있다. 일 예로, 장치는 내부 이미지의 모든 영 역이 심장 구조에 포함되는 영역이라면 내부 이미지에 대해 '1'이라는 조정 데이터를 생성할 수 있다. 장치는 외부 이미지의 1/2 영역이 심장 구조에 포함되는 영역이라면 외부 이미지에 대해 '0.5'라는 조정 데이터를 생성 할 수 있다. 이 경우, 장치는 외부 이미지의 조정 데이터를 0으로 만들기 위해 임의의 지점을 '1'이라는 조정 데이터를 가진 내부 이미지 방향으로 임의의 지점을 조정할 수 있다. 장치는 조정 과정에서 조정 데이터를 반복 적으로 생성함으로써 조정 방향 및 조정 정도를 변경할 수 있다. 다른 실시 예에 따라, 장치는 LACM 모델을 이용하여 제1 심장 영역 데이터를 조정할 수 있다. LACM 모델을 이용 하여 제1 심장 영역 데이터를 조정하는 구체적인 방법 및 원리는 참고 문헌 [Localizing Region-Based Active Contours. Shawn Lankton, Student Member, IEEE, and Allen Tannenbaum, Member, IEEE. 11 Nov 2008]에 따를 수 있다.도 14는 본 발명의 일 실시예에 따른 심장 초음파 영상 데이터 및 제1 심장 영역 데이터의 기울기를 비교하는 절차를 도시한다. 도 14은 연산 능력을 가진 장치(예: 도 1의 서비스 서버)의 동작 방법을 예시한다. 도 14를 참고하면, S1401단계에서, 장치는 제1 심장 영역 데이터에 기반하여 경계선 임의의 지점들을 잇는 선들 의 기울기 차이 값을 계산한다. 여기서, 제1 심장 영역 데이터는 인공지능 모델이 심장 초음파 영상 데이터를 이용하여 1차적으로 심장 구조를 세그멘테이션한 데이터이다. 제1 심장 영역 데이터는 초음파 영상으로부터 심 장 구조를 특정 영역으로 구획한 경계선을 포함할 수 있다. 장치는 경계선에 포함된 임의의 지점들을 선택하고, 선택된 임의의 지점들을 이은 선들의 기울기 차이를 계산할 수 있다. 임의의 지점들은 도 13의 영역 비교 절차 를 위해 선택된 지점들과 동일하거나, 또는 상이할 수 있다. 일 예로, 장치가 기울기 차이를 계산하기 위해 이용하는 선들은 임의의 한 지점(이하 '제1 지점')을 기준으로 가장 인접한 다른 지점(이하 '제2 지점)과 제1 지점을 연결한 선 및 제2 지점을 제외하고 가장 인접한 다른 지 점(이하 '제3 지점')과 제1 지점을 연결한 선일 수 있다. 장치는 제1 지점 및 제2 지점을 이은 선(이하 '제1 선') 및 제1 지점 및 제2 지점을 이은 선(이하 '제2 선')의 기울기 차이 값을 계산할 수 있다. 장치는 경계선의 모든 임의의 지점에서 기울기 차이를 계산하는 절차를 수행할 수 있다. S1403단계에서, 장치는 기울기 차이 값에 기반하여 제1 심장 영역 데이터를 조정한다. 임의의 지점에 대한 제1 선 및 제2 선의 기울기 차이가 작을수록 정확히 심장 구조가 세그멘테이션된 것으로 취급될 수 있다. 따라서, 장치는 모든 임의의 지점에 대한 기울기 차이 값이 최소가 되도록 임의의 지점들을 조정함으로써 제1 심장 영역 데이터를 후처리할 수 있다. 일 예로, 장치는 모든 기울기 차이 값들의 합이 최소화되도록 제1 심장 영역 데이 터를 조정할 수 있다. 도 15는 본 발명의 일 실시예에 따른 제2 심장 영역 데이터의 생성 결과를 도시한다. 도 15를 참고하면, 노란색 및 빨간색의 점들은 장치가 인공지능 모델을 이용하여 심장 구조를 1차적으로 세그멘 테이션한 결과를 조정하기 위해 임의로 선택한 지점들이다. 즉, 장치가 인공지능 모델을 통해 1차적 세그멘테이 션 결과를 조정함으로써, 제2 심장 영역 데이터를 생성한다. 전술한 다양한 실시 예들에 따라, 시스템은 심장 초음파 영상으로부터 심장 구조를 세그멘테이션하고, 세그멘테 이션 결과에 기반하여 대상자의 심장 질환의 진단을 보조하는 정보를 제공할 수 있다. 앞서 1차적 세그멘테이션 결과를 후처리하는 과정이 설명되었다. 그러나, 다른 실시 예에 따라, 1차적 세그멘테 이션 결과를 후처리하는 것은 경우에 따라 생략될 수 있다. 1차적 세그멘테이션 결과의 정확도에 따라 후처리가 필요할 수도 있고, 후처리를 하더라도 데이터의 신뢰도가 낮을 수 있다. 따라서, 1차적 세그멘테이션 결과를 평 가함으로써 후처리 여부를 결정하는 절차 및 결정 조건에 대해 이하 도 16을 참고하여 설명한다. 도 16은 본 발명의 일 실시예에 따른 제1 심장 영역 데이터에 기반하여 후처리 절차 수행 여부를 판단하는 동작 절차의 예를 도시한다. 도 16은 연산 능력을 가진 장치(예: 도 1의 서비스 서버)의 동작 방법을 예시한다. 도 16을 참고하면, S1601단계에서, 장치는 제1 심장 영역 데이터에 기반하여 후처리 결정 정보를 생성한다. 제1 심장 영역 데이터는 심장 초음파 영상 데이터에 기반하여 심장 영역을 1차적으로 세그멘테이션한 결과이다. 1차 적 세그멘테이션 결과는 심장 구조를 복수의 선들로 구획된 형태로 표현될 수 있다. 장치는 1차적 세그멘테이션 결과를 이용하여 후처리 수행 여부를 결정하기 위해 후처리 결정 정보를 생성할 수 있다. 후처리 결정 정보는 1 차적 심장 세그멘테이션 결과에 기반하여 생성된다. 예를 들어, 후처리 결정 정보는 1차적 심장 세그멘테이션 결과에 따른 심장 구조를 나타내는 경계선으로부터 결정되는 수치 값, 확률 값 중 하나를 포함할 수 있다. S1603단계에서, 장치는 후처리 결정 정보에 기반하여 후처리 여부를 판단한다. 일 예로, 장치는 1차적 심장 세 그멘테이션 결과에 따른 심장 구조를 나타내는 경계선으로부터 결정되는 수치 값, 확률 값 중 하나가 임계값을 초과하는지 여부에 따라 후처리 여부를 판단할 수 있다. 임계값은 사용자에 의해 지정되거나, 또는 미리 정의된 설정에 따라 결정될 수 있다. 만일, 후처리를 수행하지 아니하는 것으로 판단되면, 장치는 본 절차를 종료한다. 반면, 후처리를 수행하는 것으로 판단되면, S1605단계에서, 장치는 후처리 여부 판단 결과에 기반하여 후처리를 수행한다. 일 예로, 장치는 후처리를 하기로 결정한 경우, 심장 초음파 영상 데이터 및 제1 심장 영역 데이터를비교하고, 비교 결과에 기반하여 제2 심장 영역 데이터를 생성할 수 있다. 예를 들어, 도 11의 S1105단계 및 S1107단계와 같은 동작을 수행할 수 있다. 도 16을 참고하여 설명된 절차에서, 장치는 후처리 결정 정보를 생성하고, 생성된 후처리 결정 정보에 기반하여 후처리 수행 여부를 결정한다. 여기서, 후처리 결정 정보는 다양하게 정의될 수 있다. 일 실시 예에 따라, 후처리 결정 정보는 1차적 심장 세그멘테이션 결과에 따른 심장 구조를 나타내는 경계선으 로부터 결정되는 수치 값, 확률 값이다. 후처리 결정 정보는 1차적 심장 세그멘테이션 결과 상의 임의의 지점 대한 접선들 간의 기울기 차이 값들의 합, 기울기 차이 값들의 평균, 임계값을 포함할 수 있다. 일 예로, 장치 는 1차적 심장 세그멘테이션에 의해 결정된 경계선을 N등분하고, N등분된 지점의 양쪽 접선들 간의 기울기 차이 값들의 합(이하 '기울기 차이 값들의 합')을 계산할 수 있다. N은 사용자에 의해 지정되거나, 또는 미리 정의된 설정에 따라 결정된 정수이다. 장치는 기울기 차이 값들의 합이 임계값보다 큰 경우 후처리를 하지 않기로 결정 할 수 있다. 장치는 기울기 차이 값들의 합이 임계값보다 작은 경우 후처리를 하기로 결정할 수 있다. 또 다른 일 예로, 장치는 기울기 차이 값이 큰 순서대로 상위 M%(예: 10%)에 해당하는 값들의 합을 임계값과 비교함으로 써 후처리 여부를 결정할 수 있다. 임계값과 비교하는 기울기 차이의 통계 값의 기준은 및 설정 값은 사용자에 의해 지정되거나, 또는 미리 정의된 설정에 따라 결정될 수 있다. 다른 실시 예에 따라, 후처리 결정 정보는 별도의 인공지능 모델에 의한 예측 확률 값을 포함할 수 있다. 인공 지능을 통해 예측된 확률 값이 작으면, 모델 신뢰도가 낮다고 볼 수 있다. 장치는 인공지능 모델에 의한 예측 값을 계산하기 위하여 인터페이스를 통해 심장 초음파 영상으로부터 1차적으로 세그멘테이션 한 결과 및 각 위 치에서의 확률값을 가시화 할 수 있다. 경계선을 n등분 한 후 각 위치에서 확률값의 총합이 임계점보다 낮을 경 우 후처리 과정 여부를 결정 할 수 있다. 이때 임계점의 사용자에 따라 결정되며 임계점이 낮을 경우 모델은 민 감하게 동작하여 후처리 과정이 진행될 수 있다. 본 발명의 예시적인 방법들은 설명의 명확성을 위해서 동작의 시리즈로 표현되어 있지만, 이는 단계가 수행되는 순서를 제한하기 위한 것은 아니며, 필요한 경우에는 각각의 단계가 동시에 또는 상이한 순서로 수행될 수도 있 다. 본 발명에 따른 방법을 구현하기 위해서, 예시하는 단계에 추가적으로 다른 단계를 포함하거나, 일부의 단 계를 제외하고 나머지 단계를 포함하거나, 또는 일부의 단계를 제외하고 추가적인 다른 단계를 포함할 수도 있 다. 본 발명의 다양한 실시 예는 모든 가능한 조합을 나열한 것이 아니고 본 발명의 대표적인 양상을 설명하기 위한 것이며, 다양한 실시 예에서 설명하는 사항들은 독립적으로 적용되거나 또는 둘 이상의 조합으로 적용될 수도 있다. 또한, 본 발명의 다양한 실시 예는 하드웨어, 펌웨어(firmware), 소프트웨어, 또는 그들의 결합 등에 의해 구현 될 수 있다. 하드웨어에 의한 구현의 경우, 하나 또는 그 이상의 ASICs(Application Specific Integrated Circuits), DSPs(Digital Signal Processors), DSPDs(Digital Signal Processing Devices), PLDs(Programmable Logic Devices), FPGAs(Field Programmable Gate Arrays), 범용 프로세서(general processor), 컨트롤러, 마이크로 컨트롤러, 마이크로 프로세서 등에 의해 구현될 수 있다. 본 발명의 범위는 다양한 실시 예의 방법에 따른 동작이 장치 또는 컴퓨터 상에서 실행되도록 하는 소프트웨어 또는 머신-실행가능한 명령들(예를 들어, 운영체제, 애플리케이션, 펌웨어(firmware), 프로그램 등), 및 이러한 소프트웨어 또는 명령 등이 저장되어 장치 또는 컴퓨터 상에서 실행 가능한 비-일시적 컴퓨터-판독가능 매체 (non-transitory computer-readable medium)를 포함한다.도면 도면1 도면2 도면3 도면4 도면5 도면6 도면7 도면8 도면9 도면10 도면11 도면12 도면13 도면14 도면15 도면16"}
{"patent_id": "10-2022-0023419", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시 예에 따른 시스템을 도시한다. 도 2는 본 발명의 일 실시 예에 따른 장치의 구조를 도시한다. 도 3은 본 발명에 적용 가능한 인공지능 모델을 구성하는 퍼셉트론(perceptron)의 예를 도시한다. 도 4는 본 발명에 적용 가능한 인공지능 모델을 구성하는 인공 신경망의 예를 도시한다. 도 5는 본 개시의 일 실시 예에 따른 심장 초음파 영상의 예를 도시한다. 도 6은 본 개시의 일 실시 예에 따른 초음파 영상에서 심장 구조를 세그멘테이션한 결과의 예를 도시한다. 도 7은 본 개시의 일 실시 예에 따른 인공지능 모델에 기반하여 심장 구조를 세그멘테이션하는 절차의 예를 도 시한다. 도 8은 본 개시의 일 실시예에 따른 초음파 영상 이미지로부터 인공지능 모델을 이용하여 심장 구조를 세그멘테 이션한 결과 및 전문가의 심장 구조 세그멘테이션 결과를 도시한다. 도 9는 본 개시의 일 실시예에 따른 인공지능 모델을 이용하여 심장 구조를 세그멘테이션하는 절차의 예를 도시 한다. 도 10은 본 개시의 일 실시 예에 따른 인공지능 모델을 이용한 심장 구조 세그멘테이션 결과 및 심장 구조 세그 멘테이션 결과에 능동적 모델을 적용한 결과를 도시한다. 도 11은 본 개시의 일 실시 예에 따른 인공지능 모델에 기반하여 심장 초음파 영상에서 심장 구조를 세그멘테이 션하기 위한 절차의 예를 도시한다. 도 12는 본 발명의 일 실시예에 따른 심장 초음파 영상 데이터 및 제1 심장 영역 데이터의 영역을 비교하기 위 한 마스크를 도시한다. 도 13은 본 발명의 일 실시예에 따른 심장 초음파 영상 데이터 및 제1 심장 영역 데이터의 영역을 비교하는 절 차를 도시한다. 도 14는 본 발명의 일 실시예에 따른 심장 초음파 영상 데이터 및 제1 심장 영역 데이터의 기울기를 비교하는 절차를 도시한다. 도 15는 본 발명의 일 실시예에 따른 제2 심장 영역 데이터의 생성 결과를 도시한다. 도 16은 본 발명의 일 실시예에 따른 제1 심장 영역 데이터에 기반하여 후처리 절차 수행 여부를 판단하는 동작 절차의 예를 도시한다."}
