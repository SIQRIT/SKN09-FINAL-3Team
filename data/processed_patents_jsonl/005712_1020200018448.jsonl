{"patent_id": "10-2020-0018448", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2021-0098293", "출원번호": "10-2020-0018448", "발명의 명칭": "대화 에이전트 시스템의 학습 방법 및 장치", "출원인": "한국전자인증 주식회사", "발명자": "신홍식"}}
{"patent_id": "10-2020-0018448", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "단말과 서버와의 대화를 수행하는 대화 에이전트 시스템의 학습 방법에 있어서, 서버에서 학습을 수행하기 위해 외부로부터 공급되는 자연어와 매칭되는 질의문장을 생성하여 단말로 전달하고생성된 절의문장에 대해 출력문장을 추정하는 질의문장 생성단계;서버의 이전 질의문장, 이전 질의문장에 대해 추정된 이전 출력문장, 및 이전 질의문장에 대한 단말의 이전 답변문장을 포함하는 이전 대화 히스토리와 생성된 서버의 질의문장 각각에 대해 출력문장 각각의 마지막 히든 계층의 특징값을 추출하는 특징값 추출단계; 및 이전 대화 히스토리의 특징값과 생성된 질의문장의 특징값 및 추정된 출력문장의 특징값을 토대로 추정된 출력문장에서 단말의 답변문장이 나올 확률을 연산하고, 연산된 확률로 추정된 출력문장을 보정한 다음 보정된 출력문장을 강화 학습 모델로 전달하는 보상 단계를 포함하는 것을 일 특징으로 하는 대화 에이전트 시스템의 학습방법."}
{"patent_id": "10-2020-0018448", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서, 상기 보상 단계는, 추정된 출력문장이 하나인 경우 이전 대화 히스토리, 서버의 질의문장, 및 추정된 출력문장 각각에 대한 특징값을 토대로 서버의 출력문장에서 수신된 단말의 답변문장이 나올 확률을 연산하며, 연산된 확률에 대한KL(Kullback Leibler) 다이버전스(divergence) 기법으로 도출된 보상값(reward)으로 추정된 출력문장을 보상하는 호기심 보상 단계를 포함하는 것을 특징으로 하는 대화 에이전트 시스템의 학습 방법."}
{"patent_id": "10-2020-0018448", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서, 상기 보상 단계는, 생성된 서버의 질의문장에 대해 다수의 출력문장이 추정된 경우, 이전 대화 히스토리의 특징값과 생성된 질의문장 및 추정된 각각의 출력문장의 특징값을 토대로 생성된 질의문장에 대한 추정된 다수의 출력문장에서 임의의단말의 답변문장이 나올 확률을 연산하는 단계;서버의 질의문장에 대해 수신된 단말의 답변문장을 토대로 추정된 다수의 출력문장에서 수신된 단말의 답변문장이 나올 확률을 연산하는 단계; 및추정된 다수의 출력문장에서 임의의 단말의 답변문장이 나올 확률과 추정된 다수의 출력문장에서 수신된 단말의답변문장이 나올 확률의 차로 출력문장의 보상값을 도출하고 도출된 보상값으로 추정된 출력문장을 보상하는 학습률 보상 단계를 더 포함하는 것을 특징으로 하는 대화 에이전트 시스템의 학습 방법."}
{"patent_id": "10-2020-0018448", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "하나 이상의 명령어를 포함하는 컴퓨터 판독 가능 기록매체에서,상기 하나의 명령어는 컴퓨터에 의해 실행되는 경우 상기 컴퓨터로 하여금 제1항 내지 제3항 중 어느 한 항의방법을 수행하게 하는 컴퓨터 판독 가능 기록 매체."}
{"patent_id": "10-2020-0018448", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "단말과 서버와의 대화를 수행하는 대화 에이전트 시스템의 학습장치에 있어서,학습을 수행하기 위해 외부로부터 공급되는 자연어와 매칭되는 질의문장을 생성하고, 이전 대화 히스토리의 특징값과 생성된 질의문장의 특징값을 토대로 생성된 질의문장에 대해 추정된 출력문장을 도출하는 서버; 및생성된 질의문장에 대한 응답 자연어와 매칭되는 답변문장을 상기 서버로 전달하는 단말로 구비되고,공개특허 10-2021-0098293-3-상기 서버는, 추정된 출력문장에서 수신된 단말의 응답문장이 나올 확률을 연산하고, 연산된 확률로 단말의 추정된 출력문장을 보정한 다음 보정된 출력문장을 강화 학습 모델로 전달하도록 구비되는 것을 특징으로 하는 대화 에이전트 시스템의 학습 장치."}
{"patent_id": "10-2020-0018448", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5항에 있어서, 상기 서버는,학습을 수행하기 위해 외부로부터 공급되는 자연어와 매칭되는 질의문장을 생성하여 단말로 전달한 다음 생성된질의문장에 대해 기 정해진 정책에 의거 추정된 출력문장을 도출하는 문장생성기;이전의 질의문장, 이전 질의문장에 대해 추정된 출력문장, 및 이전 질의문장에 대한 단말의 답변문장을 포함하는 이전 대화 히스토리와 상기 생성된 질의문장에 대한 추정된 출력문장의 마지막 히든 계층의 특징값을 추출하는 특징값 추출기; 및이전 대화 히스토리의 특징값과 생성된 질의문장 및 추정된 출력문장 각각의 특징값을 토대로 추정된 출력문장에서 단말의 응답문장이 나올 확률을 연산하고, 연산된 확률로 추정된 출력문장을 보정한 다음 보정된 출력문장을 강화 학습 모델로 전달하는 보상기를 포함하는 것을 특징으로 하는 대화 에이전트 시스템의 학습 장치."}
{"patent_id": "10-2020-0018448", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서, 상기 보상기는, 상기 이전 대화 히스토리의 특징값과 생성된 질의문장의 특징값 및 추정된 출력문장의 특징값을 토대로 추정된출력문장에서 단말의 답변문장이 나올 확률을 연산하며, 연산된 확률에 대한 KL(Kullback Leibler) 다이버전스(divergence) 기법으로 도출된 보상값(reward)으로 상기 추정된 출력문장을 보상하는 호기심 학습 보상기로 구비되는 것을 특징으로 하는 대화 에이전트 시스템의 학습 장치."}
{"patent_id": "10-2020-0018448", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제6항에 있어서, 상기 보상기는 생성된 서버의 질의문장에 대해 다수의 출력문장이 추정된 경우, 각각의 출력문장에서 임의의 단말의 답변문장이 나올 확률과 각각의 출력문장에서 수신된 단말의 답변문장이 나올 확률의 차로 도출된 보상값으로 추정된 출력문장을 보상하는 학습률 학습 보상기를 더 포함하는 것을 특징으로 하는 대화 에이전트 시스템의 학습 장치."}
{"patent_id": "10-2020-0018448", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에 있어서, 상기 학습률 학습 보상기는,생성된 서버의 질의문장에 대해 다수의 출력문장이 추정된 경우, 이전 대화 히스토리의 특징값과 생성된 질의문장 및 추정된 각각의 출력문장의 특징값을 토대로 각각의 출력문장에서 임의의 단말의 답변문장이 나올 제1 확률을 연산하는 제1 확률 연산모듈;서버의 질의문장에 대해 수신된 단말의 응답문장을 토대로 생성된 다수의 출력문장 중 수신된 단말의 답변문장이 나올 제2 확률을 연산하는 제2 확률 연산모듈; 및각각의 출력문장에서 임의의 답변문장이 나올 제1 확률과 생성된 다수의 출력문장 중 수신된 단말의 응답문장이나올 제2 확률의 차로 도출된 보상값으로 생성된 출력문장을 보상하는 학습률 보상모듈을 구비되는 것을 특징으로 하는 대화 에이전트 시스템의 학습 장치."}
{"patent_id": "10-2020-0018448", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 기술은 대화 에이전트 시스템의 학습 장치 및 방법에 관한 것이다. 본 기술의 구체적인 예에 따르면, 서버의 질의문장에 대해 단말의 출력문장을 추정하고 추정된 단말의 출력문장에서 단말의 답변문장이 나올 확률을 토대 로 출력문장을 보상하고 보상된 출력문장을 강화 학습 모델의 학습 데이터로 출력함에 따라 화자의 호기심 감정 이 적극 반영된 대화를 진행하기 위한 강화 학습 모델을 구축하여 발화자의 호기심 감정이 반영된 적절한 대화를 수행함으로써 발화자에 대한 정보를 수집하고 수집된 정보를 이용하여 대화를 수행할 수 있다."}
{"patent_id": "10-2020-0018448", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 대화 에이전트 시스템의 학습 방법 및 장치에 관한 것으로서, 더욱 상세하게는 서버와 단말 간의 대 화를 토대로 강화 학습 모델을 구축함에 따라 호기심 감정을 통해 발화자에 대한 정보를 수집한 다음 수집된 정 보를 토대로 대화할 수 있도록 한 기술에 관한 것이다."}
{"patent_id": "10-2020-0018448", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "근래, 인공지능 분야, 특히 자연어 이해 분야의 기술 발전에 따라, 전통적인 기계 중심의 명령 입출력 방식에 따른 기계 조작에서 벗어나, 사용자로 하여금, 보다 사람 친화적인 방식, 예컨대 음성 및/또는 텍스트 형태의 자연어를 매개로 한 대화 방식으로 기계를 조작하고 기계로부터 원하는 서비스를 얻을 수 있도록 하는 대화형 에이전트 시스템의 개발 및 활용이 점차 늘어나고 있다. 그에 따라, 온라인 상담 센터나 온라인 쇼핑몰 등을 비 롯한 (그러나 이에 한정되지 않은 더 많은) 다양한 분야에서, 사용자는 음성 및/또는 텍스트 형태의 자연어 대 화를 통해, 대화형 에이전트 시스템에게 원하는 서비스를 요청하고 그로부터 원하는 결과를 얻을 수 있게 되었 다. 점점 더 많은 분야에서 대화형 에이전트 시스템이 활용됨에 따라, 이제는 단순히 사용자의 의도를 해석하고 그 에 부합하는 결과를 제공하는 것에 국한한 것이 아니라, 실제 사람들 간의 대화와 더욱 유사한 형태의 감성적이 고 자연스러운 인터랙션까지 제공할 수 있는 대화형 에이전트 시스템에 관한 요구가 늘어나고 있다. 또, 사물 인터넷 시대의 도래 및 그에 따른 사람-기계 사이의 대화형 인터랙션의 필요성 증가에 따라, 감성적이고 자연스 러운 대화를 제공할 수 있는 대화형 에이전트 시스템에 관한 요구는 더욱 더 늘어나고 있다 대화형 에이전트 시스템은, 사용자와 자연어 대화를 주고받음에 있어서, 통상적으로, 사용자로부터 한 문장의 입력이 있을 때마다 즉각적으로 그에 대한 한 번의 실질적 답변을 제공한다. 그런데, 사용자로부터의 한 문장의 입력이 있더라도 실질적 답변을 하기에는 아직 충분한 정보가 포함되지 않아서 그 시점에 답변이 제공될 경우 오히려 자연스러운 대화를 해치는 경우가 많다. 또한, 실제 사람들 간의 대화를 살펴보면, 사람은, 동일한 화자의 감정에 따라 다른 어투, 단어, 표현 등을 사 용하는 것을 관찰할 수 있다. 이러한 화자의 감정이 적극 반영된 대화를 자연스럽게 진행하기 위해서는 기존의 대화 모델을 강화할 필요가 있다."}
{"patent_id": "10-2020-0018448", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 발화자의 호기심 감정이 적극 반영된 대화를 진행하기 위한 강화 학습 모델을 서버와 단말과의 대화 를 토대로 구축함에 따라 발화자에 대한 정보를 수집하고 수집된 정보를 이용하여 대화를 수행할 수 있는 대화 에이전트 시스템의 학습 장치 및 방법을 제공하고자 함에 있다. 본 발명의 목적은 이상에서 언급한 목적으로 제한되지 않으며, 언급되지 않은 본 발명의 다른 목적 및 장점들은 하기의 설명에 의해서 이해될 수 있으며, 본 발명의 실시 예에 의해 보다 분명하게 알게 될 것이다. 또한, 본 발명의 목적 및 장점들은 특허청구 범위에 나타낸 수단 및 그 조합에 의해 실현될 수 있음을 쉽게 알 수 있을 것이다."}
{"patent_id": "10-2020-0018448", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "이에 본 발명의 일 실시 양태에 의하면, 일 실시 예의 대화 에이전트 시스템의 학습 방법은, 단말과 서버와의 대화를 수행하는 대화 에이전트 시스템의 학습 방법에 있어서, 서버에서 학습을 수행하기 위해 외부로부터 공급되는 자연어와 매칭되는 질의문장을 생성하여 단말로 전달하고 생성된 절의문장에 대해 출력문장을 추정하는 질의문장 생성단계; 서버의 이전 질의문장, 이전 질의문장에 대해 추정된 이전 출력문장, 및 이전 질의문장에 대한 단말의 이전 답 변문장을 포함하는 이전 대화 히스토리와 생성된 서버의 질의문장 각각에 대해 출력문장 각각의 마지막 히든 계 층의 특징값을 추출하는 특징값 추출단계; 및 이전 대화 히스토리의 특징값과 생성된 질의문장의 특징값 및 추정된 출력문장의 특징값을 토대로 추정된 출력 문장에서 단말의 답변문장이 나올 확률을 연산하고, 연산된 확률로 추정된 출력문장을 보정한 다음 보정된 출력 문장을 강화 학습 모델로 전달하는 보상 단계를 포함하는 것을 일 특징으로 한다.바람직하게 상기 보상 단계는, 추정된 출력문장이 하나인 경우 이전 대화 히스토리, 서버의 질의문장, 및 추정된 출력문장 각각에 대한 특징값 을 토대로 서버의 출력문장에서 수신된 단말의 답변문장이 나올 확률을 연산하며, 연산된 확률에 대한 KL(Kullback Leibler) 다이버전스(divergence) 기법으로 도출된 보상값(reward)으로 추정된 출력문장을 보상하 는 호기심 보상 단계를 포함할 수 있다. 바람직하게 상기 보상 단계는, 생성된 서버의 질의문장에 대해 다수의 출력문장이 추정된 경우, 이전 대화 히스토리의 특징값과 생성된 질의문 장 및 추정된 각각의 출력문장의 특징값을 토대로 생성된 질의문장에 대한 추정된 다수의 출력문장에서 임의의 단말의 답변문장이 나올 확률을 연산하는 단계; 서버의 질의문장에 대해 수신된 단말의 답변문장을 토대로 추정된 다수의 출력문장에서 수신된 단말의 답변문장 이 나올 확률을 연산하는 단계; 및 추정된 다수의 출력문장에서 임의의 단말의 답변문장이 나올 확률과 추정된 다수의 출력문장에서 수신된 단말의 답변문장이 나올 확률의 차로 출력문장의 보상값을 도출하고 도출된 보상값으로 추정된 출력문장을 보상하는 학 습률 보상 단계를 더 포함할 수 있다. 일 실시 예의 다른 양태에 의거 대화 에이전트 시스템의 학습 장치는, 단말과 서버와의 대화를 수행하는 대화 에이전트 시스템의 학습장치에 있어서, 학습을 수행하기 위해 외부로부터 공급되는 자연어와 매칭되는 질의문장을 생성하고, 이전 대화 히스토리의 특 징값과 생성된 질의문장의 특징값을 토대로 생성된 질의문장에 대해 추정된 출력문장을 도출하는 서버; 및 생성된 질의문장에 대한 응답 자연어와 매칭되는 답변문장을 상기 서버로 전달하는 단말로 구비되고, 상기 서버는, 추정된 출력문장에서 수신된 단말의 응답문장이 나올 확률을 연산하고, 연산된 확률로 단말의 추 정된 출력문장을 보정한 다음 보정된 출력문장을 강화 학습 모델로 전달하도록 구비되는 것을 일 특징으로 한다. 바람직하게 서버는, 학습을 수행하기 위해 외부로부터 공급되는 자연어와 매칭되는 질의문장을 생성하여 단말로 전달한 다음 생성된 질의문장에 대해 기 정해진 정책에 의거 추정된 출력문장을 도출하는 문장생성기; 이전의 질의문장, 이전 질의문장에 대해 추정된 출력문장, 및 이전 질의문장에 대한 단말의 답변문장을 포함하 는 이전 대화 히스토리와 상기 생성된 질의문장에 대한 추정된 출력문장의 마지막 히든 계층의 특징값을 추출하 는 특징값 추출기; 및 이전 대화 히스토리의 특징값과 생성된 질의문장 및 추정된 출력문장 각각의 특징값을 토대로 추정된 출력문장 에서 단말의 응답문장이 나올 확률을 연산하고, 연산된 확률로 추정된 출력문장을 보정한 다음 보정된 출력문장 을 강화 학습 모델로 전달하는 보상기를 포함할 수 있다. 바람직하게 상기 보상기는, 상기 이전 대화 히스토리의 특징값과 생성된 질의문장의 특징값 및 추정된 출력문장의 특징값을 토대로 추정된 출력문장에서 단말의 답변문장이 나올 확률을 연산하며, 연산된 확률에 대한 KL(Kullback Leibler) 다이버전스 (divergence) 기법으로 도출된 보상값(reward)으로 상기 추정된 출력문장을 보상하는 호기심 학습 보상기로 구 비될 수 있다. 바람직하게 상기 보상기는 생성된 서버의 질의문장에 대해 다수의 출력문장이 추정된 경우, 각각의 출력문장에서 임의의 단말의 답변문장 이 나올 확률과 각각의 출력문장에서 수신된 단말의 답변문장이 나올 확률의 차로 도출된 보상값으로 추정된 출 력문장을 보상하는 학습률 학습 보상기를 더 포함할 수 있다. 바람직하게 상기 학습률 학습 보상기는, 생성된 서버의 질의문장에 대해 다수의 출력문장이 추정된 경우, 이전 대화 히스토리의 특징값과 생성된 질의문 장 및 추정된 각각의 출력문장의 특징값을 토대로 각각의 출력문장에서 임의의 단말의 답변문장이 나올 제1 확 률을 연산하는 제1 확률 연산모듈; 서버의 질의문장에 대해 수신된 단말의 응답문장을 토대로 생성된 다수의 출력문장 중 수신된 단말의 답변문장 이 나올 제2 확률을 연산하는 제2 확률 연산모듈; 및 각각의 출력문장에서 임의의 답변문장이 나올 제1 확률과 생성된 다수의 출력문장 중 수신된 단말의 응답문장이 나올 제2 확률의 차로 도출된 보상값으로 생성된 출력문장을 보상하는 학습률 보상모듈을 더 포함할 수 있다."}
{"patent_id": "10-2020-0018448", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "전술한 바와 같은 구성의 일 실시 예에 의하면, 서버의 질의문장에 대해 단말의 출력문장을 추정하고 추정된 단 말의 출력문장에서 단말의 답변문장이 나올 확률을 토대로 출력문장을 보상하고 보상된 출력문장을 강화 학습 모델의 학습 데이터로 출력함에 따라 화자의 호기심 감정이 적극 반영된 대화를 진행하기 위한 강화 학습 모델 을 구축하여 발화자의 호기심 감정이 반영된 적절한 대화를 수행함으로써 화자에 대한 정보를 수집하고 수집된 정보를 이용하여 대화를 수행할 수 있다."}
{"patent_id": "10-2020-0018448", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 명세서에서 사용되는 기술적 용어는 단지 특정한 실시 예를 설명하기 위해 사용된 것으로, 본 발명을 한정하 려는 의도가 아님을 유의해야 한다. 또한, 본 명세서에서 사용되는 기술적 용어는 본 명세서에서 특별히 다른 의미로 정의되지 않는 한, 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에 의해 일반적으로 이해되는 의미로 해석되어야 하며, 과도하게 포괄적인 의미로 해석되거나, 과도하게 축소된 의미로 해석되지 않아야 한다. 또한, 본 명세서에서 사용되는 기술적인 용어가 본 발명의 사상을 정확하게 표현하지 못하는 잘못된 기술 적 용어일 때에는, 당업자가 올바르게 이해할 수 있는 기술적 용어로 대체되어 이해되어야 할 것이다. 또한, 본 발명에서 사용되는 일반적인 용어는 사전에 정의되어 있는 바에 따라, 또는 전후 문맥상에 따라 해석되어야 하 며, 과도하게 축소된 의미로 해석되지 않아야 한다. 또한, 본 명세서에서 사용되는 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 출원에서, \"구성된다\" 또는 \"포함한다\" 등의 용어는 명세서 상에 기재된 여러 구성 요소들, 또는 여러 단계들을 반드시 모두 포함하는 것으로 해석되지 않아야 하며, 그 중 일부 구성 요소들 또는 일부 단계들 은 포함되지 않을 수도 있고, 또는 추가적인 구성 요소 또는 단계들을 더 포함할 수 있는 것으로 해석되어야 한 다. 본 명세서에서 '모듈' 또는 '부'는 적어도 하나의 기능이나 동작을 수행하는 기능적 부분을 의미하며, 하드웨어 또는 소프트웨어로 구현되거나 하드웨어와 소프트웨어의 결합으로 구현될 수 있다. 또한, 복수의 '모듈' 또는 '부'는, 특정한 하드웨어로 구현될 필요가 있는 '모듈' 또는 '부'를 제외하고는, 적어도 하나의 소프트웨어 모 듈로 일체화되어 적어도 하나의 프로세서에 의해 구현될 수 있다. 본 명세서에서 어떤 구성요소가 다른 구성요소에 \"연결되어\" 있다거나 \"접속되어\" 있다고 언급된 때에는, 그 다 른 구성요소에 직접적으로 연결되어 있거나 또는 접속되어 있을 수도 있지만, 중간에 다른 구성요소가 존재할 수도 있다. 반면에, 어떤 구성요소가 다른 구성요소에 \"직접 연결되어\" 있다거나 \"직접 접속되어\" 있다고 언급된 때에는, 중간에 다른 구성요소가 존재하지 않는 것으로 이해되어야 한다. 일 실시 예에서 '대화 에이전트 시스템'은 사용자 간의 음성 및/또는 텍스트 형태의 자연어를 매개로 한 대화형 인터랙션을 통해 사용자로부터 입력되는 질의를 수신 및 해석하여 사용자 질의에 대한 응답을 적절히 생성하여 사용자에게 제공할 수 있는 임의의 정보 처리 시스템을 지칭할 수 있으며 특정 형태로 제안되는 것을 아니다. 이때 일 실시 예에서 '대화형 에이전트 시스템'에 의해 제공되는 대화 응답은 시각, 청각 및/또는 촉각 형태(예 컨대, 음성, 음향, 텍스트, 비디오, 이미지, 기호, 이모티콘, 하이퍼링크, 애니메이션, 각종 노티스, 모션, 햅 틱 피드백 등을 포함할 수 있으며, 이로써 제한되는 것은 아님) 등 다양한 형태로써 제공될 수 있음을 알아야 한다. 일 실시 예의 '대화 에이전트 시스템'은, 메신저 플랫폼에 기초한 인공지능 챗봇(Artificial Intelligence chatbot) 시스템, 예컨대 메신저 상에서 사용자를 대화의 상태로 텍스트 또는 음성 기반의 대화를 수행하는 시 스템으로, 사용자가 원하는 다양한 정보를 제공하거나 태스크를 수행하는 챗봇 시스템을 포함할 수 있으며, 다 만 본 발명이 이로써 제한되는 것은 아님을 알아야 한다. 이러한 대화 에이전트 시스템은 호기심 감정 기반으로 대화를 수행하기 위한 강화 학습 모델이 구축되며, 강화 학습 모델의 학습 데이터를 생성하기 위한 학습 장치의 구성을 갖춘다. 일 실시 예의 대화 에이전트 시스템의 학습 장치에서 대화라 함은 사람이 소지한 단말과 서버 간의 주고받는 자 연어로서, 강화 학습 모델 구축을 위해 외부로부터 공급되는 자연어와 매칭되는 질의문장을 서버에서 생성하여 단말로 전달하고, 전달된 서버의 질의문장에 대해 단말의 응답하는 답변문장을 서버로 전달하며, 질의문장에 대 한 단말의 응답을 추정하여 추정된 출력문장을 생성한다. 일 실시 예의 대화 에이전트 시스템에서 이전 대화 히 스토리는 서버의 이전 질의문장, 이전 질의문장에 대해 추정된 이전 출력문장, 및 서버의 이전 질의문장에 대한 단말의 이전 답변문장을 포함한다. 이하, 첨부된 도면을 참조하여, 본 발명의 실시예에 대해 구체적으로 설명하기로 한다. 도 1은 일 실시 예에 적용되는 대화 에이전트 시스템을 보인 도면으로서, 도 1을 참조하면, 일 실시 예가 적용 되는 대화 에이전트 시스템(S)은, 사용자가 소지한 단말과 서버를 포함한다. 단말은 유선 또는 무선 통신 기능을 구비한 임의의 사용자 전자 장치일 수 있다. 단말 각각은 예컨대 스마트 폰, 태블릿 PC, 뮤직 플레이어, 스마트 스피커, 데스크탑, 랩탑, PDA, 게임 콘솔, 디지털 TV, 셋탑박스 등을 포함한 다양한 유선 또는 무선 통신 단말일 수 있으며, 특정 형태로 제한되지 않음을 알아야 한다. 단말 각각은, 통신망을 통해서, 서버와 통신, 즉 필요한 정보를 송수신할 수 있다. 단말은 서버로부터 음성 및/또는 텍스트 형태의 자연어 입력을 수신할 수 있고, 서버는 단말 의 입력에 대응한 특정 서버의 질의에 응답을 자연어 형태로 수신할 수 있다. 한 예에서, 단말 와 서버가 물리적으로 분리된 구조를 가지는 경우 단말이 서버와 통신망으로 연결될 수 있으며, 이 경우 서버는 단말의 질의 문장을 통신망을 통해 전달받고 예상 출력문장을 생성하여 통신망을 통 해 전달한다. 통신망은 예컨대 Wi-Fi망, LAN망, WAN망, 인터넷망 등을 포함할 수 있으며, 본 발명이 이로써 제 한되는 것은 아니다. 본 발명의 일 실시예에 의하면, 통신망은, 예컨대 이더넷, GSM, EDGE(Enhanced Data GSM Environment), CDMA, TDMA, OFDM, 블루투스, VoIP, Wi-MAX, Wibro 기타 임의의 다양한 유선 또는 무선 통신 프 로토콜을 이용하여 구현될 수 있다. 서버는, 학습을 위해 외부로부터 입력되는 자연어와 매칭되는 질의문장을 생성하여 단말로 전송할 수 있다. 즉, 서버는, 질의문장을 음성 및/또는 텍스트 형태로써 생성하고, 생성된 질의문장을 단말로 전달할 수 있다. 이때 서버에 의해 생성되는 질의문장은, 전술한 음성 및/또는 텍스트 형태의 자연어 응답 과 함께, 이미지, 비디오, 기호, 이모티콘 등 다른 시각적 요소들이나, 음향 등의 다른 청각적 요소들이나, 기 타 다른 촉각적 요소들을 포함할 수 있다. 도 2는 서버의 세부 구성도로서, 도 2를 참조하면, 서버는 문장 생성기, 특징값 추출기, 및 보상기 중 적어도 하나를 포함할 수 있다. 문장 생성기는, 학습을 수행하기 위해 외부로부터 공급되는 자연어와 매칭되는 질의문장을 생성하여 단말 로 전달한 다음 생성된 질의문장에 대해 기 정해진 정책(Policy)에 의거 추정된 출력문장을 도출할 수 있 다. 이때 출력문장의 추정은 이전 대화 히스토리에 대한 기계학습을 통해 수행된다. 그리고 문장 생성기의 이전의 질의문장, 이전 질의문장에 대해 추정된 출력문장, 및 이전 질의문장에 대한 단말의 답변문장을 포함하는 이전 대화 히스토리와 상기 생성된 질의문장에 대한 추정된 출력문장은 특징값 추 출기로 전달된다. 즉, 문장 생성기는 학습하기 위해 이전 대화 히스토리를 구축한 다음 수신된 자연어를 형태소 단위로 변환 한 후 각각의 문장 임베딩을 생성하고 생성된 문장 임베딩값과 정해진 정책을 이용하여 추정된 형태소 단위의 출력문장을 도출하고 추정된 출력문장을 문장 형태로 결합한 다음 특징값 추출기로 전달한다. 여기서, 이 전 대화 히스토리는 이전의 질의문장, 이전 질의문장에 대해 추정된 이전 출력문장, 및 이전 질의문장에 대한 단말의 이전 답변문장을 포함한다. 특징값 추출기는 이전 대화 히스토리와 생성된 질의문장에 대한 추정된 출력문장의 마지막 히든 계층의 특 징값을 추출한다. 이러한 특징값들은 보상기로 전달된다. 여기서 특징값은 각 문장의 형태소 단위의 임베 딩 값을 도출하는 공지의 과정과 동일한 처리과정이므로 각 특징값을 도출하는 과정에서 이를 자세히 설명하지 않으나 당업자의 수준에서 이해되어야 할 것이다. 보상기는 이전 대화 히스토리의 특징값과 생성된 질의문장 및 추정된 출력문장 각각의 특징값을 토대로 추 정된 출력문장에서 단말의 응답문장이 나올 확률을 연산하고, 연산된 확률로 추정된 출력문장을 보정한 다음 보 정된 출력문장을 강화 학습 모델로 전달하도록 구비될 수 있다. 도 3은 보상기의 세부 구성을 보인 도면으로서 도 3을 참조하면, 보상기는 호기심 학습 보상기 과 학습률 학습 보상기 중 적어도 하나를 포함할 수 있다. 호기심 학습 보상기은 이전 대화 히스토리의 특징값과 생성된 질의문장의 특징값 및 추정된 출력문장의 특 징값을 토대로 추정된 출력문장에서 단말의 답변문장이 나올 확률을 연산하며, 연산된 확률에 대한 KL(Kullback Leibler) 다이버전스(divergence) 기법으로 도출된 보상값(reward)으로 상기 추정된 출력문장을 보상한다. 한 예로 이전 대화 히스토리를 통해 단말을 소지한 사람의 이름을 알고 있는 경우 사람의 이름을 물어보는 질의문장에 대한 추정된 출력문장에서 단말의 답변문장이 나올 확률은 1이다. 즉, 사람의 이름을 물어보는 질의는 발화자에 대한 호기심이라는 감정을 포함하고 있다고 가정하에서 일 실시 예는 호기심의 감정에 대한 강화 학습 모델을 구축할 수 있다. 이에 일 실시 예는 발화자에 대한 호기심 감정을 기반으로 한다. 또한 이전 대화 히스토리를 통해 단말을 소지한 사람의 이름을 모르는 경우 사람의 이름을 물어보는 질의 문장에 대한 추정된 출력문장에서 단말의 답변문장이 나올 확률은 사람의 이름을 알고 있는 경우 사람의 이름을 물어보는 질의문장에 대한 추정된 출력문장에서 단말의 답변문장이 나올 확률 보다 낮다. 이에 호기심 학습 보 상기는 사람의 이름을 알고 있는 경우의 확률과 사람의 이름을 모르는 경우의 확률의 차를 도출하고 도출 된 확률의 차에 기 정해진 KL(Kullback Leibler) 다이버전스(divergence) 기법으로 보상값을 도출하며, 도출된 보상값으로 추정된 출력문장을 보상한다. 보상된 출력문장은 강화 학습 모델의 학습 데이터로 업데이트된다. 여 기서 KL(Kullback Leibler) 다이버전스(divergence) 기법은 기계적 학습 모델(미도시됨)에 의거 추정된 출력문 장 조합을 고려하여 단말의 답변문장과 추정된 출력문장 간의 비교한 다음 비교 결과에 따른 보상값을 도출 하는 다양한 기법 중 하나로 일반적인 KL(Kullback Leibler) 다이버전스(divergence) 기법과 동일하므로 이를 자세히 설명하지 않으나 당업자 수준에서 이해되어야 할 것이다. 일례로, 서버로부터 제공된 “성함이 어떻게 되시나요?”라는 질의문장에 대해 호기심 학습 보상기는 이전 대화 히스토리를 통해 다수의 답변문장을 추정할 수 있고, 추정된 다수의 답변 문장 중 “제 이름은 홍길 동입니다”라는 단말의 응답문장과 매칭될 확률을 계산할 수 있다. 이때 확률이 0.6 이면, 호기심 학습 보 상기는 1에서 0.6을 감산한 0.4에 대한 보상값으로 추정된 출력문장을 보상한다. 다른 예로 서버로부터 제공된 “직업이 어떻게 되시나요?”라는 질의문장에 대해 호기심 학습 보상기(25 1)는 이전 대화 히스토리를 통해 다수의 답변문장을 추정할 수 있고, 추정된 다수의 답변 문장 중 단말의 “선생님입니다”라는 응답문장과 매칭될 확률을 계산할 수 있다. 이때 확률이 0.01 이면, 호기심 학습 보상기 는 1에서 0.01을 감산한 0.99에 대한 보상값으로 추정된 출력문장을 보상한다. 한편, 학습률 학습 보상기은 생성된 서버의 질의문장에 대해 다수의 출력문장이 추정된 경우, 각각의 출력 문장에서 임의의 단말의 답변문장이 나올 확률과 각각의 출력문장에서 수신된 단말의 답변문장이 나올 확률의 차로 도출된 보상값으로 추정된 출력문장을 보상하는 구성을 갖춘다. 이에 학습률 학습 보상기은 단말 의 답변문장이 수신되기 전과 후의 확률의 차에 대한 보상을 수행한다.도 4는 학습률 학습 보상기의 세부 구성을 보인 도면으로서, 도 4를 참조하면, 제1 확률 연산모듈, 제2 확률 연산모듈, 및 학습률 보상모듈으로 구비될 수 있다. 제1 확률 연산모듈은 생성된 서버의 질의문장에 대해 다수의 출력문장이 추정된 경우, 이전 대화 히 스토리의 특징값과 생성된 질의문장 및 추정된 각각의 출력문장의 특징값을 토대로 각각의 출력문장에서 임의의 단말의 답변문장이 나올 제1 확률을 연산한다. 제2 확률 연산모듈는 서버의 질의문장에 대해 수신된 단말의 응답문장을 토대로 생성된 다수의 출력 문장 중 수신된 단말의 답변문장이 나올 제2 확률을 연산한다. 일례로, 서버는 1에서 10 사이의 임의의 숫자를 말하라는 질의문장에 대해 단말의 답변문장을 수신한 다음 동일한 질의문장을 단말로 전달하여도 추정된 출력문장에서 단말의 답변문장을 예상할 수 없다. 다른 예로 서버는 사람의 직업을 묻는 질의문장에 대해 추정된 다수의 출력문장에서 단말의 답변문장 을 예상할 수 없고, 직업에 대한 질의문장에 단말의 답변문장이 수신되었다고 하여도 수입 등의 질의문장 에 대한 다수의 출력문장에서 단말의 답변문장을 예상할 수 없다. 이에 학습률 학습 보상기는 단말의 답변문장이 수신되기 전과 후의 확률의 차에 대한 보상을 수행한 다. 즉, 제1 확률 연산모듈은 생성된 질의문장에 대해 추정된 다수의 출력문장 중 임의의 출력문장이 단말 의 답변문장으로 나올 제1 확률을 연산한다. 또한 제2 확률 연산모듈는 생성된 질의문장에 대해 추정된 다수의 출력문장 중 수신된 단말의 답변 문장이 나올 제2 확률을 연산한다. 그리고, 학습률 학습모듈은 제1 확률과 제2 확률의 차에 대한 KL(Kullback Leibler) 다이버전스 (divergence) 기법으로 도출된 보상값(reward)으로 상기 추정된 출력문장을 보상한다. 보상된 출력문장은 강화 학습 모델로 전달된다. 일례로, 서버로부터 “직업이 무엇입니까?” 라는 질의문장에 대해 “선생님입니다”라는 단말의 응답 문 장이라고 가정하고, “연봉이 어느정도 입니까?”의 질의문장에 대해 추정된 출력문장은 “적다”, “보통이다 ”, 또는 “많다” 이며, “아이들은 좋아합니까?” 이 질의 문장에 대해 추정된 출력문장은 “좋다” 또는 “ 싫다”라고 가정하자. 이때 “선생님입니다”라는 단말의 응답문장을 듣기 이전에, “연봉이 어느정도 입니까?”의 질의문장에 대해 “적다”, “보통이다”, 또는 “많다” 라는 추정된 출력문장 중 응답문장이 매칭될 제1 확률은 동일값이며 이 에 확률분포는 균일하다. 그러나, “선생님입니다”라는 단말의 응답문장을 들은 다음, “연봉이 어느정도 입니까?”의 질의문장에 대해 “적다”, “보통이다”, 또는 “많다” 라는 추정된 출력문장 중 응답문장이 매칭될 제2 확률 분포는 변동된다. 예를 들어, “연봉이 어느정도 입니까?”의 질의문장에 대해 “적다”, “보통이다”, 또는 “많다” 라는 추정된 출력문장 중 응답문장이 매칭될 제2 확률은 각 0.1, 0.8, 0.1 이고, “아이들은 좋아합니까?” 이 질의 문장에 대해 추정된 출력문장은 “좋다” 또는 “싫다”의 질의문장에 대해 “싫다”, “좋다”의 제2 확 률이 각각 0.2, 0.8 이라고 가정하며, 하여 학습률 보상모듈의 KL 다이버전스 값은 0.5108 과 0.2231로 도출되고, 이에 도출된 KL 다이버전스 값의 평균값으로 보상값이 도출된다. 다른 예로 \"좋아하는 숫자가 무엇입니까?\"라는 서버의 질의 문장에 대해 \"7입니다.\"라는 응답문장이 들은 다음 \"연봉이 어느정도 입니까?\" 혹은 \"아이들을 좋아합니까?\"와 같은 질의 문장에 대해 제1 확률과 제2 확률은 동일 한 값을 가지며 이에 제1 확률 분포 및 제2 확률 분포는 균일하다. 따라서, 학습률 보상모듈의 KL 다이버 전스 값은 0이고 이에 보상값은 0으로 도출된다. 이러한 보상값을 수신한 강화 학습 모델은 높은 보상값으로 학습되므로, “좋아하는 숫자가 무엇입니까?”라는 질의문장이 아니고 “직업이 무엇입니까?” 라는 질의문장이 단말로 전달된다. 이에 강화 학습 모델(미도시됨)은 보상된 출력문장을 학습 데이터로 업데이트한다. 본 발명의 다른 실시 태양으로, 서버와 단말 간의 대화를 토대로 강화 학습 모델을 구축하는 대화 에이전트 시 스템의 학습 방법은, 단말과 서버와의 대화를 수행하는 대화 에이전트 시스템의 학습 방법에 있어서, 서버에서 학습을 수행하기 위해 외부로부터 공급되는 자연어와 매칭되는 질의문장을 생성하여 단말로 전달하고 생성된 절의문장에 대해 출력문장을 추정하는 질의문장 생성단계; 서버의 이전 질의문장, 이전 질의문장에 대해 추정된 이전 출력문장, 및 이전 질의문장에 대한 단말의 이전 답 변문장을 포함하는 이전 대화 히스토리와 생성된 서버의 질의문장 각각에 대해 출력문장 각각의 마지막 히든 계 층의 특징값을 추출하는 특징값 추출단계; 및 이전 대화 히스토리의 특징값과 생성된 질의문장의 특징값 및 추정된 출력문장의 특징값을 토대로 추정된 출력 문장에서 단말의 답변문장이 나올 확률을 연산하고, 연산된 확률로 추정된 출력문장을 보정한 다음 보정된 출력 문장을 강화 학습 모델로 전달하는 보상 단계를 포함할 수 있다. 여기서, 상기 보상 단계는, 추정된 출력문장이 하나인 경우 이전 대화 히스토리, 서버의 질의문장, 및 추정된 출력문장 각각에 대한 특징값을 토대로 서버의 출력문장에서 수신된 단말의 답변문장이 나올 확률을 연산하며, 연산된 확률에 대한 KL(Kullback Leibler) 다이버전스(divergence) 기법으로 도출된 보상값(reward)으로 추정 된 출력문장을 보상하는 호기심 보상 단계를 포함할 수 있다. 또한, 상기 보상 단계는, 생성된 서버의 질의문장에 대해 다수의 출력문장이 추정된 경우, 이전 대화 히스토리 의 특징값과 생성된 질의문장 및 추정된 각각의 출력문장의 특징값을 토대로 생성된 질의문장에 대한 추정된 다 수의 출력문장에서 임의의 단말의 답변문장이 나올 확률을 연산하는 단계; 서버의 질의문장에 대해 수신된 단말 의 답변문장을 토대로 추정된 다수의 출력문장에서 수신된 단말의 답변문장이 나올 확률을 연산하는 단계; 및 추정된 다수의 출력문장에서 임의의 단말의 답변문장이 나올 확률과 추정된 다수의 출력문장에서 수신된 단말의 답변문장이 나올 확률의 차로 출력문장의 보상값을 도출하고 도출된 보상값으로 추정된 출력문장을 보상하는 학 습률 보상 단계를 더 포함할 수 있다. 상기의 대화 에이전트 시스템의 학습 방법의 각 단계는 전술한 서버의 문자 생성기, 특징값 추출기 , 및 보상기에서 수행되는 기능으로 자세한 원용은 생략한다. 이에 일 실시 예에 따르면, 서버의 질의문장에 대해 단말의 출력문장을 추정하고 추정된 단말의 출력문장에서 단말의 답변문장이 나올 확률을 토대로 출력문장을 보상하고 보상된 출력문장을 강화 학습 모델의 학습 데이터 로 출력함에 따라 화자의 호기심 감정이 적극 반영된 대화를 진행하기 위한 강화 학습 모델을 구축하여 발화자 의 호기심 감정이 반영된 적절한 대화를 수행함으로써 화자에 대한 정보를 수집하고 수집된 정보를 이용하여 대 화를 수행할 수 있다. 이상에서는 본 발명의 바람직한 실시 예를 참조하여 설명하였지만, 해당 기술 분야의 숙련된 당업자라면 하기의 특허 청구범위에 기재된 본 발명의 사상 및 영역으로부터 벗어나지 않는 범위 내에서 본 발명을 다양하게 수정 및 변경시킬 수 있음을 이해할 수 있을 것이다."}
{"patent_id": "10-2020-0018448", "section": "도면", "subsection": "도면설명", "item": 1, "content": "본 명세서에서 첨부되는 다음의 도면들은 본 발명의 바람직한 실시예를 예시하는 것이며, 후술하는 발명의 상세 한 설명과 함께 본 발명의 기술사상을 더욱 이해시키는 역할을 하는 것이므로, 본 발명은 그러한 도면에 기재된 사항에만 한정되어 해석되어서는 아니된다. 도 1은 일 실시예가 적용되는 대화 에이전트 시스템의 구성도이다. 도 2는 일 실시예의 시스템의 서버의 세부 구성도이다. 도 3은 일 실시예의 서버의 보상기의 세부 구성도이다. 도 4는 일 실시예의 서버의 보상기의 학습률 학습보상기의 세부 구성도이다."}
