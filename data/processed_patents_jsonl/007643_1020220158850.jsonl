{"patent_id": "10-2022-0158850", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0077593", "출원번호": "10-2022-0158850", "발명의 명칭": "말벌 집 자동 탐사용 드론", "출원인": "강원대학교산학협력단", "발명자": "한웅철"}}
{"patent_id": "10-2022-0158850", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "위치센서, 관성항법센서 및 자율비행 기능을 구비하여,지도에 비행경로를 설정하면 설정된 상기 비행경로를 따라 비행하는 드론; 및상기 드론의 중앙 하부에 상하회전-서보모터 및 좌우회전-서보모터를 구비하여, 상하 및 좌우로 움직이는 기능을 구비한 추적카메라; 및상기 드론에 구비되고 상기 추적카메라와 연결되어 상기 추적카메라에서 촬영된 영상으로부터 말벌집의 이미지를 분석하기 위한 인공지능 학습모델 소프트웨어가 설치된 엣지컴퓨터; 및상기 드론의 비행 중 상기 엣지컴퓨터에서 이미지를 분석하여 말벌집을 발견한 경우, 상기 추적카메라를 상기드론의 비행 방향과 관계없이 상하 및 좌우로 회전하여 상기 추적카메라가 상기 말벌집을 계속하여 추적하도록상기 엣지컴퓨터로부터 제어신호를 수신하여 상기 상하회전-서보모터 및 상기 좌우회전-서보모터를 제어하는 추적카메라 추적방향제어기를 구비한 것을 특징으로 하는 말벌집 자동 탐사용 드론."}
{"patent_id": "10-2022-0158850", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 카메라는 TOF(Time Of Flight) 기능을 더 구비하여 상기 말벌집이 발견된 경우 말벌집과의 거리를 측정할수 있는 것을 특징으로 하는 말벌집 자동 탐사용 드론."}
{"patent_id": "10-2022-0158850", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 자율비행 기능은 상기 엣지컴퓨터에서 이미지를 분석하여 말벌집을 발견한 경우 자율비행을 정지하고, 설정된 거리까지 상기 말벌집에 접근하여, 현재의 위치 및 발견한 상기 말벌집까지의 거리와 방향 및 말벌집 입구정보를 사용자 디스플레이에 전송하는 것을 특징으로 하는 말벌집 자동 탐사용 드론."}
{"patent_id": "10-2022-0158850", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,상기 엣지컴퓨터는 상기 드론에 설치할 수 있도록 가벼워야 하므로 별도의 컴퓨터에서 인공지능 학습된 말벌집인식모델을 사용하며, 상기 말벌집을 인식하기 위하여 사용되는 이미지의 크기는 320*320 이며, 말벌집이 인식된 경우 인식된 말벌집의 중심좌표를 기준으로 상기 추적방향제어기가 동작하며, 상기 중심좌표는 말벌집으로인식된 경계면을 기준으로 무게중심을 찾아 중심좌표로 결정하는 것을 특징으로 하는 말벌집 자동 탐사용 드론."}
{"patent_id": "10-2022-0158850", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서,상기 추적방향제어기는 상기 상하회전-서보모터 및 상기 좌우회전-서보모터를 PID 제어하며, 상기 PID 제어기에서 생성하는 제어 값 u(n)은 하기식에 의하여 업데이트되는 것을 특징으로 하는 말벌집 자동 탐사용 드론..............식(1)은 미분계산식으로 2차원 좌표 값임.t : 마지막으로 PID 값이 업데이트된 후의 시간으로 업데이트 사이의 시간 간격을 의미fb[n] : PID 제어 알고리즘의 n번째 출력 값을 위한 입력 값으로 인식된 말벌집의 중심 좌표(2차원 좌표)Kd : 미분 상수,공개특허 10-2024-0077593-3-err = exp - fb[n] ..................식(2)는 촬영된 화면의 중심 좌표와 인식된 말벌집 중심 좌표의 차이(err은 2차원 좌표)exp : PID 제어기의 출력 기대 값으로 카메라의 중심 위치(2차원 좌표),...........식(3)은 오차의 적분으로 이전이 오차에 현재오차에 업데이트 후의시간 간격과 적분상수를 곱하여 더함으로써 오차를 누적하여 오차의 적분을 계산함.Ki : 적분상수,int[n] : n 번째 PID의 오차의 적분으로 오차가 2차원 좌표형태이므로 역시 2차원 좌표로 표시됨u[n] = u[n-1] + (Kp*err+diff+int[n])...........식(4)는 말벌집의 중앙의 좌표를 촬영된 이미지의 중앙으로위치시키기 위한 PID 제어기의 출력값으로 상기 상하회전-서보모터 및 좌우회전-서보모터의 제어 위치를 출력값으로 함.u[n] : n 번째 PID 제어기의 출력 값,Kp : 비례상수,상기 2차원 좌표는 촬영된 이미지 상의 좌표임."}
{"patent_id": "10-2022-0158850", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 출원 발명은 카메라를 구비하여 항공촬영이 가능하며, 배달, 농약살포 등 여러 용도로 사용가능한 드론을 이 용하여, 무인으로 자동 또는 사용자에 의하여 설정된 구역 또는 자유롭게 비행하는 과정에서 말벌집을 탐사하고 말벌집을 발견하면 자동으로 트래킹하는 기술에 관한 것이다. (뒷면에 계속)"}
{"patent_id": "10-2022-0158850", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 출원 발명은 드론을 이용한 말벌 집을 탐사하는 기술에 관한 것이다. 더욱 자세하게는 무인드론이 비행을 하 면서 연속적으로 말벌 집을 카메라로 추적하면서 접근 비행하는 기술에 관한 것이다."}
{"patent_id": "10-2022-0158850", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "본 발명의 출원 이전의 선행기술로 벌집 제거용 드론 시스템이 개시되어 있다. 이 기술은 드론본체와, 상기 드 론본체의 가장자리에 결합되어 방사상으로 연장되는 다수개의 지지대와, 상기 지지대의 중앙 저면에 결합되는 구동모터와, 상기 구동모터에 결합되어 회전하는 다수의 하향식 프로펠러로 구성되는 드론; 상기 드론본체의 상 면에 일단이 설치되고, 다수의 관절에 의한 움직임을 갖는 로봇아암; 상기 로봇아암의 끝단부에 설치되는 파쇄 하우징과, 상기 파쇄하우징 내에 설치된 모터를 통해 회전가능하게 설치되어 벌집을 파쇄하는 파쇄날로 구성되 는 벌집파쇄기; 상기 파쇄하우징의 외면에 설치되어 약제를 분사하는 약제분사수단; 상기 파쇄하우징의 외면에 설치되어 벌집 파쇄 상황을 촬영하여 송신하는 카메라; 상기 드론, 로봇아암, 벌집파쇄수단 및 약제분사수단의 작동을 제어하고 카메라에서 송신되는 화면을 표시하는 조정기를 포함하여 구성되고, 상기 파쇄날은 회전축의 외면에 이송스크류가 형성된 이송부 및 이송부의 전단부에 마련되고 상기 회전축을 중심으로 직경을 달리하는 다단형식으로 구성되는 원통파쇄날로 구성되되, 상기 원통파쇄날에는 회전방향으로 사선방향으로 절개된 사선절 개부가 형성되고, 사선절개부의 일측에 경사진 경사분쇄날을 형성하여, 경사분쇄날의 회전에 의해 벌집이 분쇄 되면 분쇄된 벌집이 상기 사선절개부를 타고 원통파쇄날의 내부로 들어오면서 상기 이송부를 따라 이송되게 구 성되며, 상기 파쇄하우징의 일측에 형성된 배출구와 일단이 연결되고 상기 로봇아암을 따라 설치되게 구성되어, 상기 배출구에서 배출되는 분쇄된 벌집을 이동시키게 구성되는 벌집회수관이 설치되고, 상기 드론본체에는 상기 벌집회수관의 타단과 연결되는 진공하우징과, 상기 진공하우징 내부에 설치되어 분쇄된 벌집의 회수를 위해 모 터의 모터회전축에 회전가능하게 설치되는 진공발생스크류로 구성되는 진공압 발생기가 설치되며, 상기 진공압 발생기와 연결되어 진공압 발생기의 진공압에 의해 회수되는 분쇄된 벌집이 저장되는 벌집저장통을 구비하고 있 다. 또 다른 선행기술로 비전 트래킹 및 음파 트래킹 모듈을 적용한 드론에 관한 기술이 개시되어 있다. 이 기술은 드론몸체; 및 상기 드론몸체의 일측에 형성되어 카메라를 이용한 비전으로 꿀벌과 말벌의 비교를 통하여 말벌만 추적하는 비전 시스템; 및 상기 드론몸체의 일측에 형성되어 상기 말벌이 내는 고유 주파수를 지향성 마이크를 이용하여 방향 탐지 및 트래킹을 수행하는 음향 시스템; 및 상기 드론몸체의 하단 일측에 형성되어 상기 말벌에 살충 스프레이의 지향성 분사를 위한 지향성 분사장치를 발명의 구성으로 하고 있는 기술이다. 선행기술문헌특허문헌 (특허문헌 0001) 등록특허공보 제10-2443693 호 (특허문헌 0002) 등록특허공보 제10-2021-0079002호"}
{"patent_id": "10-2022-0158850", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 출원 발명은 상기 선행기술들이 해결하지 못한 벌집의 트래킹 기술을 개선하고자 하는 것이다. 대부분의 드 론은 소형의 무인비행이 가능한 비행체로 자동으로 또는 사람의 조종에 의하여 운항이 가능하며, 수직 이착륙 및 방향 전환 등이 자유로운 비행체이다. 본 출원 발명은 카메라를 구비하여 항공촬영이 가능하며, 배달, 농약살포 등 여러 용도로 사용가능한 드론을 이 용하여, 무인으로 자동 또는 사용자에 의하여 설정된 구역 또는 자유 비행하는 과정에서 말벌집을 탐사하고 발 견하면 자동으로 트래킹하는 기술에 관한 것이다. 드론이 자동으로 일정 구역을 스캔하도록 비행구역을 설정하더라도, 해당구역에 말벌집이 있는지는 사용자가 상 기 드론에 구비된 카메라의 정보를 드론 조절기에 부착된 별도의 모니터를 보고 지속적으로 모니터링하여 확인 해야한다. 만약, 사용자가 말벌 집을 육안으로 확인하지 못하면 말벌집을 찾지 못하고 드론이 비행구역의 말벌 집 스캔을 마무리하게 된다. 기존의 인공지능을 이용하여 카메라에서 촬영된 이미지에서 말벌집을 찾는 경우에는 말벌집을 찾더라도 상기 카 메라에 말벌집 추적 기능이 없어, 상기 드론의 이동이나, 회전을 사용자가 정지하지 못하면 말벌집을 찾았다는 것만 알 수 있을 뿐 어디인지 확인할 수 없는 문제가 역시 있었다. 따라서, 인공지능을 이용하여 카메라에서 촬영된 이미지에서 말벌집을 찾게되면 상기 카메라가 상기 드론의 움 직임에 관계없이 말벌집을 계속하여 추적함으로써, 상기 드론이 자동 또는 사용자의 조종에 의하여 발견된 상기 말벌집에 접근함으로써 말벌집을 정확히 확인하고, 후속 조치를 취할 수 있는 기능이 필요하다."}
{"patent_id": "10-2022-0158850", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 출원 발명은 상기와 같은 문제를 해결하고자 하는 것으로 다음의 과제해결 수단을 제공한다. 위치센서, 관성항법센서 및 자율비행 기능을 구비하여, 지도에 비행경로를 설정하면 설정된 상기 비행경로를 따라 비행하는 드론; 및 상기 드론의 중앙 하부에 상하회전-서보모터 및 좌우회전-서보모터를 구비하여, 상하 및 좌우로 움직이는 기능 을 구비한 추적카메라; 및 상기 드론에 구비되고 상기 추적카메라와 연결되어 상기 추적카메라에서 촬영된 영상으로부터 말벌집의 이미지 를 분석하기 위한 인공지능 학습모델 소프트웨어가 설치된 엣지컴퓨터; 및 상기 드론의 비행 중 상기 엣지컴퓨터에서 이미지를 분석하여 말벌집을 발견한 경우, 상기 추적카메라를 상기 드론의 비행 방향과 관계없이 상하 및 좌우로 회전하여 상기 추적카메라가 상기 말벌집을 계속하여 추적하도록 상기 엣지컴퓨터로부터 제어신호를 수신하여 상기 상하회전-서보모터 및 상기 좌우회전-서보모터를 제어하는 추 적카메라 추적방향제어기를 구비한 것을 특징으로 하는 말벌집 자동 탐사용 드론을 제공한다. 또한, 상기 카메라는 TOF(Time Of Flight) 기능을 더 구비하여 상기 말벌집이 발견된 경우 말벌집과의 거리를 측정할 수 있는 것을 특징으로 하는 말벌집 자동 탐사용 드론을 제공한다. 또한, 상기 자율비행 기능은 상기 엣지컴퓨터에서 이미지를 분석하여 말벌집을 발견한 경우 자율비행을 정지하 고, 설정된 거리까지 상기 말벌집에 접근하여, 현재의 위치 및 발견한 상기 말벌집까지의 거리와 방향 및 말벌 집 입구 정보를 사용자 디스플레이에 전송하는 것을 특징으로 하는 말벌집 자동 탐사용 드론을 제공한다. 또한, 상기 엣지컴퓨터는 상기 드론에 설치할 수 있도록 가벼워야 하므로 별도의 컴퓨터에서 인공지능 학습된 말벌집 인식모델을 사용하며, 상기 말벌집을 인식하기 위하여 사용되는 이미지의 크기는 320*320 이며, 말벌집이 인식된 경우 인식된 말벌집의 중심좌표를 기준으로 상기 추적방향제어기가 동작하며, 상기 중심좌표는 말벌 집으로 인식된 경계면을 기준으로 무게중심을 찾아 중심좌표로 결정하는 것을 특징으로 하는 말벌집 자동 탐사 용 드론을 제공한다. 또한, 상기 추적방향제어기는 상기 상하회전-서보모터 및 상기 좌우회전-서보모터를 PID 제어하며, 상기 PID 제 어기에서 생성하는 제어 값 u(n)은 하기식에 의하여 업데이트되는 것을 특징으로 하는 말벌집 자동 탐사용 드론 을 제공한다. .............식은 미분계산식으로 2차원 좌표 값임. t : 마지막으로 PID 값이 업데이트된 후의 시간으로 업데이트 사이의 시간 간격을 의미 fb[n] : PID 제어 알고리즘의 n번째 출력 값을 위한 입력 값으로 인식된 말벌집의 중심 좌표(2차원 좌표) Kd : 미분 상수, err = exp - fb[n]..................식는 촬영된 화면의 중심 좌표와 인식된 말벌집 중심 좌표의 차이(err 은 2차원 좌표) exp : PID 제어기의 출력 기대 값으로 카메라의 중심 위치(2차원 좌표), ...........식은 오차의 적분으로 이전이 오차에 현재오차에 업데이트 후의 시간 간격과 적분상수를 곱하여 더함으로써 오차를 누적하여 오차의 적분을 계산함. Ki : 적분상수, int[n] : n 번째 PID의 오차의 적분으로 오차가 2차원 좌표형태이므로 역시 2차원 좌표로 표시됨 u[n] = u[n-1] + (Kp*err+diff+int[n])...........식는 말벌집의 중앙의 좌표를 촬영된 이미지의 중앙으로 위치시키기 위한 PID 제어기의 출력값으로 상기 상하회전-서보모터 및 좌우회전-서보모터의 제어 위치를 출력 값으로 함. u[n] : n 번째 PID 제어기의 출력 값, Kp : 비례상수, 상기 2차원 좌표는 촬영된 이미지 상의 좌표임."}
{"patent_id": "10-2022-0158850", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 출원 발명은 상기와 같은 발명의 구성에 의하여 말벌집이 발견되면, 드론의 움직임에 관계없이 말벌집을 연 속적으로 추적함으로써 말벌집을 놓치지 않고 찾아낼 수 있는 효과가 있는 발명이다. 기존에 드론에 설치된 카메라는 짐벌 형태로 드론의 기울기와 관계없이 항상 전방을 또는 설정된 각도로 촬영할 수 있도록 되어 있을 뿐 물체를 발견하고 추적하는 기능은 없었다. 더욱이 어디에 숨어 있을지 모르는 말벌집을 수색하는 것은 매우 쉽지 않은 일이다. 그러나, 여러 형태 및 배경 이미지를 달리하는 말벌집을 학습한 후 일정구역을 수색하도록 드론을 자율 비행하도록 설정한 후 수색하면, 말 벌집을 발견하는 즉시 추적카메라가 연속하여 말벌집을 추적함으로써 쉽게 말벌집을 발견할 수 있는 탁월한 효 과가 있는 발명이다."}
{"patent_id": "10-2022-0158850", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 출원 발명의 작용효과를 도면을 활용하여 설명하면 다음과 같다. 도 1은 본 발명의 말벌집 자동 탐사용 드론의 구성을 도시하고 있다. 드론(UAV), 상기 드론의 자율 비행을 가능하게 하는 관성센서(IMU), 상기 드론에 구비된 카메라를 상하좌우로 움직여 말벌집의 트래킹을 가능하게 하는 2개의 서보모터, 상기 2개의 서보모터의 위치를 제어하는 MCU-보드, 상기 드론이 자율 또는 사용자의 조종에 의하여 비행하면서 말벌을 탐색하기 위한 카메라 및 상기 카메라에서 촬영된 이미지로부터 말벌집을 구분하기 위한 엣지컴퓨터를 도시하고 있다. 도 2는 본 발명의 말벌집 트래킹 실험방법을 도시하고 있다. 말벌집의 트래킹은 상기 드론의 하단에 구비된 카 메라에서 촬영된 이미지의 중심에 말벌집을 위치시키는 것으로 드론이 수평으로 움직이는 경우와 수직으로 움직 이는 경우에 항상 말벌집의 중심을 상기 이미지의 중심에 위치시키는 제어 정확도를 측정하는 실험을 수행하였 다. 도 3은 본 발명의 학습에 사용된 말벌집 사진의 일부를 도시하고 있다. 학습은 Table 1의 소프트웨어와 하드웨 어를 사용하여 학습하였다."}
{"patent_id": "10-2022-0158850", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "학습에 사용한 이미지의 크기는 320*320으로 하였으며, epoch 는 200, batch 크기는 32로 하였다. 본 출원 발명 에서는 YOLO V5라는 이미지로부터 사물을 디텍팅하는 소프트웨어를 사용하였다. 이 소프트웨어는 정확하고 빠르 면서도 작은 소형 엣지컴퓨터에서 동작이 가능하기 때문에 소형의 말벌집 탐색용 드론에 사용하기에 적합하다. 도 4는 본 발명의 말벌집 자동 탐사용 드론과 말벌집 사이의 거리에 따른 말벌집트래킹 정확도를 그래프로 도시 하고 있다. X축은 말벌집으로부터의 거리를 나타내고 있으며, Y축은 말벌집을 이미지상의 중앙에 트래킹하는 정 확도를 표시하고 있다. 거리에 따라 선형으로 실험결과가 나타나지는 않았으나, 전체적으로 거리가 가까울수록 정확도가 높아지는 경향을 발견할 수 있었다. 도 5는 본 발명의 말벌집 자동 탐사용 드론과 말벌집 중심과의 오프셋을 둔 상태에서 드론에 구비된 카메라에서 촬영된 이미지의 중앙으로 말벌집을 트래킹하는 시간과 정확도를 도시하고 있다. X축은 시간축이고, Y 축은 상 기 드론에 구비된 카메라가 촬영한 이미지 상의 말벌집의 중심 좌표와 카메라가 촬영한 이미지의 중심과의 x, y 축 방향의 각각의 중심에서 벗어난 픽셀 수를 도시하고 있다. 중심에서 각각 이미지상의 끝으로 오프셋을 만들 어준 상태에서 중심으로 오프셋 없이 트래킹하는 실험결과를 도시하고 있다. 90%이상의 오차를 줄이는데 2초가 소요되어 충분히 실효성이 있음을 도시하고 있다. 도 6은 본 발명의 드론(UAV)의 yaw 각도 변화에 따른 드론에 구비된 카메라가 말벌집을 트래킹하는 각도 변화를 도시하고 있다. 실선이 드론의 yaw 방향의 변화를 도시하고 있다. 드론이 각도를 -5도에서 15도, 15도 유지, 15 도에서 -3도, -3도 유지, -3도에서 -20도, -20도 유지 및 -20도에서 0도 및 0도 유지하는 것으로 변화는 동안, 카메라는 일시적으로는 드론을 따라 움직이지만, 최초 카메라가 촬영하고 있던 말벌집을 드론의 움직임에도 불 구하고 연속적으로 트래킹하고 있음을 알 수 있다. 상기 엣지컴퓨터에서 이미지를 분석하여 말벌집을 발견한 경우 상기 드론을 상기 말벌집의 중앙에 위치하도록 이동하고, 상기 말벌집을 수평으로 360도 회전하며 촬영하여 사용자가 상기 말벌집의 입구를 찾을 수 있는 이미 지를 사용자에게 전송하고, GPS 등의 위치센서에서 수신한 현재의 위치를 저장하고, 말벌집을 탐색하는 인공지 능 모델의 동작을 정지하고, 말벌을 탐색하는 인공지능 모델을 실행하여 말벌이 상기 카메라가 촬영한 이미지 상에서 나타나고 사라지는 지점을 찾아 상기 말벌집의 입구를 확인하는 것을 특징으로 하는 말벌집 자동 탐사용 드론을 제공한다. 이러한 트래킹은 다음과 같은 단계에 의하여 수행된다. 드론의 비행 중 상기 드론의 하부에 구비된 카메라는 드론의 비행정면을 수평으로 응시하며, 이미지를 촬영하고, 상기 촬영된 이미지는 320* 320 픽셀의 이미지 형태로 상기 드론에 구비된 엣지컴퓨터에 설치된 인공 지능 말벌집 인식모델에서 입력되어 말벌집이 촬영되었는지 확인하며, 말벌집이 확인되면 말벌집의 중심 좌표 (fb(n))와 상기 카메라가 촬영하는 이미지의 중심좌표와의 거리의 오차(err=exp-fb(n))를 상기 엣지컴퓨터에서 계산하여 상기 카메라를 상하좌우로 움직이는 2개의 서보모터를 제어하는 MCU-보드에 일정 시간간격(t)으로 전 송한다. 상기 MCU-보드는 수신된 fb[n]과 err 및 이전에 수신하여 저장된 fb[n-1]을 이용하여 상기 상하좌우로 카메라를 움직이는 2개의 서보모터를 제어하는 2차원 좌표신호 u[n]을 계산하여 상기 2개의 서보모터를 제어한 다. 상기 u[n]은 하기의 식에 의하여 계산됨을 본 출원 발명은 특징으로 한다. 1) err의 계산 err = exp - fb[n] ..................식는 촬영된 화면의 중심 좌표와 인식된 말벌집 중심 좌표의 차이 (err은 2차원 좌표) exp : PID 제어기의 출력 기대 값으로 카메라의 중심 위치(2차원 좌표). 2) 미분의 계산 .............식은 미분계산식으로 2차원 좌표 값임. t : 마지막으로 PID 값이 업데이트된 후의 시간으로 업데이트 사이의 시간 간격을 의미 fb[n] : PID 제어 알고리즘의 n번째 출력 값을 위한 입력 값으로, 엣지컴퓨터에서 이미지로부터 인식된 말벌집 의 중심 좌표(2차원 좌표) fb[n-1] : PID 제어 알고리즘의 n-1번째 출력 값을 위한 입력 값으로, 엣지컴퓨터에서 이미지로부터 인식된 말 벌집의 중심 좌표(2차원 좌표) Kd : 미분 상수, 3) 적분의 계산 ............식은 오차의 적분으로 이전의 오차에, 현재오차에 업데이트 후의 시간 간격과 적분상수를 곱하여 더함으로써 오차를 누적하여 오차의 적분을 계산함. Ki : 적분상수, int[n] : n 번째 PID의 오차의 적분으로 오차가 2차원 좌표형태이므로 역시 2차원 좌표로 표시됨 4) PID 출력 u[n]의 계산 u[n] = u[n-1] + (Kp*err+diff+int[n])...................................식는 말벌집의 중앙의 좌표를 촬영된 이미지의 중앙으로 위치시키기 위한 PID 제어기의 출력값으로 상기 상하회전-서보모터 및 좌우회전-서보 모터의 제어 위치를 출력 값으로 함. u[n] : n 번째 PID 제어기의 출력 값, Kp : 비례상수, 상기 2차원 좌표는 촬영된 이미지 상의 좌표로 데카르트 좌표계를 사용할 수 있고, 이미지 중앙 의 좌표를 ‘0, 0’으로 하는 좌표를 사용할 수 있다. 상기와 같은 작용효과를 나타내기 위한 발명의 구성은 다음과 같다. 위치센서, 관성항법센서 및 자율비행 기능을 구비하여, 지도에 비행경로를 설정하면 설정된 상기 비행경로를 따라 비행하는 드론; 및 상기 드론의 중앙 하부에 상하회전-서보모터 및 좌우회전-서보모터를 구비하여, 상하 및 좌우로 움직이는 기능 을 구비한 추적카메라; 및 상기 드론에 구비되고 상기 추적카메라와 연결되어 상기 추적카메라에서 촬영된 영상으로부터 말벌집의 이미지 를 분석하기 위한 인공지능 학습모델 소프트웨어가 설치된 엣지컴퓨터; 및 상기 드론의 비행 중 상기 엣지컴퓨터에서 이미지를 분석하여 말벌집을 발견한 경우, 상기 추적카메라를 상기 드론의 비행 방향과 관계없이 상하 및 좌우로 회전하여 상기 추적카메라가 상기 말벌집을 계속하여 추적하도록 상기 엣지컴퓨터로부터 제어신호를 수신하여 상기 상하회전-서보모터 및 상기 좌우회전-서보모터를 제어하는 추 적카메라 추적방향제어기를 구비한 것을 특징으로 하는 말벌집 자동 탐사용 드론을 제공한다. 또한, 상기 카메라는 TOF(Time Of Flight) 기능을 더 구비하여 상기 말벌집이 발견된 경우 말벌집과의 거리를 측정할 수 있는 것을 특징으로 하는 말벌집 자동 탐사용 드론을 제공한다. 또한, 상기 카메라는 TOF(Time Of Flight) 기능을 더 구비하여 상기 말벌집이 발견된 경우 말벌집과의 거리를 이용하여 말벌집의 크기를 측정할 수 있는 것을 특징으로 하는 말벌집 자동 탐사용 드론을 제공한다. 또한, 상기 자율비행 기능은 상기 엣지컴퓨터에서 이미지를 분석하여 말벌집을 발견한 경우 자율비행을 정지하 고, 설정된 거리까지 상기 말벌집에 접근하여, 현재의 위치 및 발견한 상기 말벌집까지의 거리와 방향 및 말벌 집 입구 정보를 사용자 디스플레이에 전송하는 것을 특징으로 하는 말벌집 자동 탐사용 드론을 제공한다. 또한, 상기 자율비행 기능은 상기 엣지컴퓨터에서 이미지를 분석하여 말벌집을 발견한 경우 사용자의 컨트롤러 의 진동기를 작동하여 말벌집의 발견을 알리는 것을 특징으로 하는 말벌집 자동 탐사용 드론을 제공한다. 또한, 상기 엣지컴퓨터는 상기 드론에 설치할 수 있도록 가벼워야 하므로 별도의 컴퓨터에서 인공지능 학습된 말벌집 인식모델을 사용하며, 상기 말벌집을 인식하기 위하여 사용되는 이미지의 크기는 320*320 이며, 말벌집 이 인식된 경우 인식된 말벌집의 중심좌표를 기준으로 상기 추적방향제어기가 동작하며, 상기 중심좌표는 말벌 집으로 인식된 경계면을 기준으로 무게중심을 찾아 중심좌표로 결정하는 것을 특징으로 하는 말벌집 자동 탐사 용 드론을 제공한다. 또한, 상기 추적방향제어기는 상기 상하회전-서보모터 및 상기 좌우회전-서보모터를 PID 제어하며, 상기 PID 제 어기에서 생성하는 제어 값 u(n)은 하기식에 의하여 업데이트되는 것을 특징으로 하는 말벌집 자동 탐사용 드론 을 제공한다. ...............은 미분계산식으로 2차원 좌표 값임. t : 마지막으로 PID 값이 업데이트된 후의 시간으로 업데이트 사이의 시간 간격을 의미 fb[n] : PID 제어 알고리즘의 n번째 출력 값을 위한 입력 값으로 인식된 말벌집의 중심 좌표(2차원 좌표) Kd : 미분 상수, err = exp - fb[n] ..................식는 촬영된 화면의 중심 좌표와 인식된 말벌집 중심 좌표의 차이 (err은 2차원 좌표) exp : PID 제어기의 출력 기대 값으로 카메라의 중심 위치(2차원 좌표), ...........식은 오차의 적분으로 이전이 오차에 현재오차에 업데이트 후의 시간 간격과 적분상수를 곱하여 더함으로써 오차를 누적하여 오차의 적분을 계산함. Ki : 적분상수, int[n] : n 번째 PID의 오차의 적분으로 오차가 2차원 좌표형태이므로 역시 2차원 좌표로 표시됨 u[n] = u[n-1] + (Kp*err+diff+int[n])........식는 말벌집의 중앙의 좌표를 촬영된 이미지의 중앙으로 위 치시키기 위한 PID 제어기의 출력값으로 상기 상하회전-서보모터 및 좌우회전-서보모터의 제어 위치를 출력 값 으로 함.u[n] : n 번째 PID 제어기의 출력 값, Kp : 비례상수, 상기 2차원 좌표는 촬영된 이미지 상의 좌표임. 또한, 상기 자율비행 기능은 상기 엣지컴퓨터에서 이미지를 분석하여 말벌집을 발견한 경우 상기 드론을 상기 말벌집의 중앙에 위치하도록 이동하고, 상기 말벌집을 수평으로 360도 회전하며 촬영하여 사용자가 상기 말벌집 의 입구를 찾을 수 있는 이미지를 사용자에게 전송하는 것을 특징으로 하는 말벌집 자동 탐사용 드론을 제공한 다."}
{"patent_id": "10-2022-0158850", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 말벌집 자동 탐사용 드론의 구성을 도시하고 있다. 도 2는 본 발명의 말벌집 트래킹 실험방법을 도시하고 있다. 도 3은 본 발명의 학습에 사용된 말벌집 사진의 일부를 도시하고 있다. 도 4는 본 발명의 말벌집 자동 탐사용 드론과 말벌집 사이의 거리에 따른 말벌집트래킹 정확도를 그래프로 도시 하고 있다.도 5는 본 발명의 말벌집 자동 탐사용 드론과 말벌집 중심과의 오프셋을 둔 상태에서 드론에 구비된 카메라에서 촬용된 이미지의 중앙으로 말벌집을 트래킹하는 시간과 정확도를 도시하고 있다. 도 6은 본 발명의 드론(UAV)의 yaw 각도 변화에 따른 드론에 구비된 카메라가 말벌집을 트래킹하는 각도 변화를 도시하고 있다."}
