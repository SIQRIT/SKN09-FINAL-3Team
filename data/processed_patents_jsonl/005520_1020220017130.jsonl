{"patent_id": "10-2022-0017130", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0120490", "출원번호": "10-2022-0017130", "발명의 명칭": "복수의 작동모드를 갖는 설비의 이상 감지 방법 및 시스템", "출원인": "주식회사 한국가스기술공사", "발명자": "이진우"}}
{"patent_id": "10-2022-0017130", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "설비의 이상 감지 시스템에 있어서,상기 설비에 구비된 센서로부터 수치화된 공정변수와, 개폐 및 온오프 동작과 관련된 상태변수를 수집하는 데이터수집모듈(110);상기 공정변수 및 상태변수 중 정상상태로 분류된 데이터를 분석대상으로 추출하는 데이터추출모듈(120);분석대상으로 추출된 상태변수를 포함하는 이벤트를 활용하여 작동모드를 정의하는 모드정의모듈(130);정의된 작동모드에 따라 분석대상으로 추출된 공정변수를 학습하는 패턴분석모듈(140);상기 패턴분석모듈의 학습결과를 통해 이상상태를 판단하는 판단모듈(150); 을 구비하는 것을 특징으로 하는 설비의 이상 감지 시스템."}
{"patent_id": "10-2022-0017130", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 모드정의모듈(130)은,설정된 기간 상기 이벤트를 수집 및 분석하되 발생 빈도를 통해 정상상태의 이벤트임을 판단 및 추출하여 작동모드 정의에 적용시키는 모드학습부(131)를 더 포함하는 것을 특징으로 하는 설비의 이상 감지 시스템."}
{"patent_id": "10-2022-0017130", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 패턴분석모듈(140)은 가우스혼합모델을 사용하여 확률분포함수를 구한 뒤 은닉마크코프모델을 사용하여 훈련 매개변수를 획득하도록 구성되고,상기 판단모듈(150)은 훈련된 매개변수를 사용하여 우도를 계산하고 상기 우도가 설정된 수치 이하일 경우 비정상상태로 판단하도록 구성되는 것을 특징으로 하는 설비의 이상 감지 시스템."}
{"patent_id": "10-2022-0017130", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 설비는,계통상 다수의 밸브 및 스위치와, 유체의 압력, 온도, 유량, 전류를 측정하는 센서의 측정데이터의 모니터링이이루어지되,상기 공정변수는 상기 센서를 통해 수집되는 압력, 온도, 유량, 전류값을 포함하고, 상기 상태변수는 상기 밸브의 개폐 및 스위치의 온오프 동작을 포함하는 것을 특징으로 하는 설비의 이상 감지시스템."}
{"patent_id": "10-2022-0017130", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "공개특허 10-2023-0120490-3-제3항에 있어서,데이터수집기간 중 수소충전소에서 발생한 이상상태에 따른 알람 정보를 비교하여 훈련모델의 적합도를 평가하는 평가모듈(170); 을 더 포함하는 것을 특징으로 하는 설비의 이상 감지 시스템."}
{"patent_id": "10-2022-0017130", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "설비의 이상 감지 시스템을 이용한 이상 감지 방법에 있어서,상기 설비에 구비된 센서로부터 수치화된 공정변수와, 개폐 및 온오프 동작과 관련된 상태변수를 수집하는 단계(S 110);상기 공정변수 및 상태변수 중 정상상태로 분류된 데이터를 분석대상으로 추출하는 단계(S 120);분석대상으로 추출된 상태변수를 포함하는 이벤트를 활용하여 작동모드를 정의하는 단계(S 130);정의된 작동모드에 따라 분석대상으로 추출된 공정변수를 학습하는 단계(S 140);상기 패턴분석모듈의 학습결과를 통해 이상상태를 판단하는 단계(S 150); 를 포함하는 것을 특징으로 하는 설비의 이상 감지 방법."}
{"patent_id": "10-2022-0017130", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서,상기 작동모드를 정의하는 단계(S 130)는,설정된 기간 상기 이벤트를 수집 및 분석하되 발생 빈도를 통해 정상상태의 이벤트임을 판단 및 추출하여 작동모드 정의에 적용시키는 것을 특징으로 하는 설비의 이상 감지 방법."}
{"patent_id": "10-2022-0017130", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제6항에 있어서,상기 공정변수를 학습하는 단계(S 140)는 가우스혼합모델을 사용하여 확률분포함수를 구한 뒤 은닉마크코프모델을 사용하여 훈련 매개변수를 획득하도록 구성되고,상기 이상상태를 판단하는 단계(S 150)는 훈련된 매개변수를 사용하여 우도를 계산하고 상기 우도가 설정된 수치 이하일 경우 비정상상태로 판단하도록 구성되는 것을 특징으로 하는 설비의 이상 감지 방법."}
{"patent_id": "10-2022-0017130", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제6항에 있어서,상기 설비는,계통상 다수의 밸브 및 스위치와, 유체의 압력, 온도, 유량, 전류를 측정하는 센서의 측정데이터의 모니터링이이루어지되,상기 공정변수는 상기 센서를 통해 수집되는 압력, 온도, 유량, 전류값을 포함하고, 상기 상태변수는 상기 밸브의 개폐 및 스위치의 온오프 동작을 포함하는 것을 특징으로 하는 설비의 이상 감지방법."}
{"patent_id": "10-2022-0017130", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "공개특허 10-2023-0120490-4-제8항에 있어서,데이터수집기간 중 수소충전소에서 발생한 이상상태에 따른 알람 정보를 비교하여 훈련모델의 적합도를 평가하는 단계(S 170); 을 더 포함하는 것을 특징으로 하는 설비의 이상 감지 방법."}
{"patent_id": "10-2022-0017130", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 수소충전소 설비에 구비된 각종 밸브 및 스위치 작동상태와 같은 이벤트를 사용하여 작동모드를 정의 한 후 센서를 통해 수집되는 모드별 시계열적 데이터를 가우시안과 혼합된 은닉 마르코프 모델을 사용하여 정확 하고 신속하게 이상상태를 식별하는 수소충전소 이상 감지 시스템에 관한 것이다."}
{"patent_id": "10-2022-0017130", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 설비의 이상 감지 방법 및 시스템에 관한 것으로, 자세하게는 설비에 구비된 각종 밸브 및 스위치 작 동상태와 같은 이벤트를 사용하여 작동모드를 정의한 후 센서를 통해 수집되는 모드별 시계열적 데이터를 가우 시안과 혼합된 은닉 마르코프 모델을 사용하여 정확하고 신속하게 이상상태를 식별하는 설비의 이상 감지 시스 템 및 방법에 관한 것이다."}
{"patent_id": "10-2022-0017130", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "기존 탄소경제의 주축인 화석연료가 고갈에 따라 석탄, 석유연료의 대안으로 구하기 쉽고, 고갈되지 않으며, 공 해도 배출하지 않는 에너지원인 수소를 에너지로 사용하는 수소경제가 대두되고 있다. 이에 수소가 저장된 탱크로부터 연료전지 등에 수소를 공급하여 구동력을 발생시키는 차량의 개발이 활발하게 이루어지고 있으며, 수소 연료 차량의 운용을 위해 기존 주유소와 같은 수소 연료 차량에 수소를 안정적으로 충 전하기 위한 수소 충전소와 같은 설비가 중요한 인프라 설비로 부상하고 있다. 하지만, 아직 현재 우리나라의 수소충전소의 숫자가 넉넉하지 않은 실정으로 에서 고장이 발생하는 경우 유지보 수 비용 및 운전중단으로 인한 큰 손실과 불편함으로 이어질 수 있어 설비 안전관리를 위한 대책이 시급하다. 근래 많은 플랜트 설비에서 안정적이고 효율적인 운영을 위해 공정 IoT 센서를 통한 데이터 기반의 고장진단 및 예측정비를 채택하고 있으며, 그 중 머신러닝 및 딥러닝과 같은 인공지능 기술연구가 활발하게 진행되고 있다. 이를 통해 고장을 조기에 감지하고 신속하게 대응하는 것이 매우 중요하나, 다양한 모드를 통해 취득되는 많은 파라미터를 가진 대규모 시스템에 얻는 많은 양의 정보를 처리 및 분석함에 있어 정상상태와 이상상태를 정확하 게 판단하는데 여전히 어려움이 있는 상황이다. 선행기술문헌 특허문헌 (특허문헌 0001) 대한민국 공개특허 제10-2019-0114161호(2019.10.10)"}
{"patent_id": "10-2022-0017130", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 상기와 같은 문제를 해결하기 위하여 창출된 것으로, 본 발명의 목적은 다수의 운전모드를 갖는 설비 로부터 수소 통합 모니터링 센터로 수집되는 운전데이터 및 시스템 정보를 이용하여 설비의 고장 및 이상을 감 지하되, 가우시안과 혼합된 은닉 마르코프 모델을 사용하여 잘못된 경보 및 센서검출 누락 등의 요인에도 정확 하게 이상상황을 판단할 수 있는 복수의 작동모드를 갖는 설비의 이상 감지 방법 및 시스템을 제공하는 것이다."}
{"patent_id": "10-2022-0017130", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기와 같은 목적을 위해 본 발명 수소충전소 이상 감지 시스템은 수소충전소의 이상 감지 시스템에 있어서, 상 기 설비에 구비된 센서로부터 수치화된 공정변수와, 개폐 및 온오프 동작과 관련된 상태변수를 수집하는 데이터 수집모듈; 상기 공정변수 및 상태변수 중 정상상태로 분류된 데이터를 분석대상으로 추출하는 데이터추출모듈; 분석대상으로 추출된 상태변수를 포함하는 이벤트를 활용하여 작동모드를 정의하는 모드정의모듈; 정의된 작동 모드에 따라 분석대상으로 추출된 공정변수를 학습하는 패턴분석모듈; 상기 패턴분석모듈의 학습결과를 통해 이 상상태를 판단하는 판단모듈; 을 구비하는 것을 특징으로 한다.이때 상기 모드정의모듈은, 설정된 기간 상기 이벤트를 수집 및 분석하되 발생 빈도를 통해 정상상태의 이벤트 임을 판단 및 추출하여 작동모드 정의에 적용시키는 모드학습부를 더 포함할 수 있다. 이때 상기 패턴분석모듈은 가우스혼합모델을 사용하여 확률분포함수를 구한 뒤 은닉마크코프모델을 사용하여 훈 련 매개변수를 획득하도록 구성되고, 상기 판단모듈은 훈련된 매개변수를 사용하여 우도를 계산하고 상기 우도 가 설정된 수치 이하일 경우 비정상상태로 판단하도록 구성되는 것이 바람직하다. 또한, 상기 설비는, 계통상 다수의 밸브 및 스위치와, 유체의 압력, 온도, 유량, 전류를 측정하는 센서의 측정 데이터의 모니터링이 이루어지되, 상기 공정변수는 상기 센서를 통해 수집되는 압력, 온도, 유량, 전류값을 포 함하고, 상기 상태변수는 상기 밸브의 개폐 및 스위치의 온오프 동작을 포함하는 것이 바람직하다. 또한, 데이터수집기간 중 수소충전소에서 발생한 이상상태에 따른 알람 정보를 비교하여 훈련모델의 적합도를 평가하는 평가모듈; 을 더 포함할 수 있다. 또한, 상기와 같은 목적을 위한 본 발명 복수의 작동모드를 갖는 설비의 이상 감지 방법은 수소충전소의 이상 감지 시스템을 이용한 이상 감지 방법에 있어서, 상기 설비에 구비된 센서로부터 수치화된 공정변수와, 개폐 및 온오프 동작과 관련된 상태변수를 수집하는 단계; 상기 공정변수 및 상태변수 중 정상상태로 분류된 데이터를 분석대상으로 추출하는 단계; 분석대상으로 추출된 상태변수를 포함하는 이벤트를 활용하여 작동모드를 정의하 는 단계; 정의된 작동모드에 따라 분석대상으로 추출된 공정변수를 학습하는 단계; 상기 패턴분석모듈의 학습결 과를 통해 이상상태를 판단하는 단계; 를 포함하는 것을 특징으로 한다. 이때 상기 작동모드를 정의하는 단계(S 130)는, 설정된 기간 상기 이벤트를 수집 및 분석하되 발생 빈도를 통해 정상상태의 이벤트임을 판단 및 추출하여 작동모드 정의에 적용시키는 것이 바람직하다. 또한, 상기 공정변수를 학습하는 단계(S 140)는 가우스혼합모델을 사용하여 확률분포함수를 구한 뒤 은닉마크코 프모델을 사용하여 훈련 매개변수를 획득하도록 구성되고, 상기 이상상태를 판단하는 단계(S 150)는 훈련된 매 개변수를 사용하여 우도를 계산하고 상기 우도가 설정된 수치 이하일 경우 비정상상태로 판단하도록 구성되는 것이 바람직하다. 또한, 상기 설비는, 계통상 다수의 밸브 및 스위치와, 유체의 압력, 온도, 유량, 전류를 측정하는 센서의 측정 데이터의 모니터링이 이루어지되, 상기 공정변수는 상기 센서를 통해 수집되는 압력, 온도, 유량, 전류값을 포 함하고, 상기 상태변수는 상기 밸브의 개폐 및 스위치의 온오프 동작을 포함하는 것이 바람직하다. 또한. 데이터수집기간 중 수소충전소에서 발생한 이상상태에 따른 알람 정보를 비교하여 훈련모델의 적합도를 평가하는 단계; 을 더 포함할 수 있다."}
{"patent_id": "10-2022-0017130", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명을 통해 각종 복잡한 측정변수가 수집되는 설비의 이상상태를 효과적으로 감지할 수 있다. 특히 가우스 혼합 모델과 은닉 마크로프 모델을 통해 추정된 사후 확률로부터 상황의 가능성을 계산함에 있어 설비의 작동모 드를 반영함으로 종래 제기되었던 초기 시작점에 따라 클러스터의 개수나 국소 최적 문제를 쉽게 해결할 수 있 다. 또한, PID 제어기와 제한감지로 구성된 표준 공정 제어 및 모니터링 시스템에 본 발명을 추가하여 오류 감지 기 능을 강화함으로 오류 발생에 따른 피해를 효과적으로 예방할 수 있다."}
{"patent_id": "10-2022-0017130", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면을 참조하여 본 발명 수소충전소 이상 감지 시스템의 구성 및 방법을 구체적으로 설명한다. 본 발명에서는 SCADA로 불리는 통합모니터링 시스템과 같이 실시간 데이터 및 이벤트를 수집하고 관리하는 플랜 트 정보 플렛폼에서 구현할 수 있는 설비의 비정상 상태를 감지하는 접근 방식을 제안하며, 주요 실시예로 수소 충전소를 통해 설명을 진행한다. 특히 여러 값을 갖는 시계열 데이터를 다루게 됨에 따라 밸브 및 스위치의 켜짐 또는 꺼짐 상태와 같은 이벤트 를 사용하여 작동모드를 구분하고, 구분된 작동모드를 구별하기 위해 가우스 혼합 방법(GMM)을 사용했다. 분리 된 모드는 은닉 마르코프 방법(HMM)의 은닉 상태로 사용되며 각 상태에 대한 방출 확률의 가우스 분포를 추정하 는 데 사용된다. 언급한 바와 같이 본 발명에서는 관측치의 분포로부터 다중 상태를 추정하는 종래의 방법과 달리 밸브 및 스위 치의 상태와 같은 이벤트를 사용하여 다중 상태를 구별하는 것이 특징으로, GMM-HMM을 적용했을 때 발생했던 초 기 시작점에 따라 클러스터의 개수나 국소 최적 문제를 어떻게 결정해야 하는지에 대한 문제를 극복하기 위해 이벤트를 지식으로 사용하여 숨겨진 상태와 방출의 선험적 확률을 결정하는 경우 지식 없이 추정하는 것보다 실 제 이벤트에 더 적합하다고 가정하여 보다 적절한 HMM 모델을 얻을 수 있다. 도 1은 이상 감지 프로세스의 개념도로서, 결함 감지 프로세스는 주로 신호처리, 모델생성 및 패턴일치의 세 단 계로 구성된. 신호 처리 단계는 훈련 및 테스트에 필요한 데이터 또는 기능을 준비한다. 본 발명에서 제안하는 방법은 다변수 시계열의 원시 데이터 세트를 입력 데이터로 사용하기 때문에 이 단계에서는 데이터 유형을 SCADA에서 지속적으로 획득하는 이벤트와 센싱 데이터의 두 그룹으로 간단하게 나눈다. 첫째, 이벤트는 OPEN 또 는 CLOSE와 같은 밸브나 스위치의 상태를 나타내는 디지털 신호이고 다른 하나는 온도, 압력, 유량, 전류 등 프 로세스에서 다양한 센서로부터 연속적인 값을 갖는 연속 신호이다. 언급한 바와 같이 이벤트는 프로세스의 작동 모드를 결정하는 데 사용되며, 감지 데이터는 정규성이 평가되어야 하는 관찰이다. 둘째, 모델 생성은 관찰의 이상을 평가하는 모델을 훈련시킨다. 본 발명에서 제안하는 결함 검출 방법의 원리는 경험을 바탕으로 베이지안 추론을 통해 목표 관찰의 가능성을 평가하는 것이다. 도 2는 본 발명의 실시예에 따른 구성 및 연결관계를 나타낸 블록도, 도 3은 본 발명의 실시예에 따른 절차를 나타낸 순서도이다. 이러한 동작을 위해 본 발명은 주요 구성으로 데이터수집모듈과, 모드정의모듈과, 패턴분석모듈(14 0)과, 판단모듈 및 평가모듈을 구비하며, 첨부된 도 3은 이들 구성을 통해 진행되는 프로세스를 나타 내고 있다. 이를 위해 본 발명의 다수의 운전모드를 갖는 대표적인 설비로 수소충전소를 예로 설명을 진행한다. 이러한 수 소충전소는 수소가스의 운송을 위한 트레일러로부터 수소를 공급받는 인입부로부터 수소를 연료로 사용하는 차 량으로 수소를 공급하는 충전부에 이르기까지 복수의 압축기, 저장탱크, 냉각장치(칠러)와 같은 장치를 구비하 며 경보모듈을 비롯하여 계통상 다수의 밸브 및 스위치와, 유체의 압력, 온도, 유량, 전류를 측정하는 센서의 측정데이터의 모니터링이 이루어지게 된다. 수소를 저장하고 충전하는 과정에서는 기본적으로 압축기가 사용되며, 압축된 수소가스의 압력차로 인한 자연 흐름을 기반으로 이송이 이뤄진다. 즉 저장 또는 배출되는 압축가스의 압력이 차량 연료용기의 압력보다 높은 경우에만 충전이 이루어진다. 수소충전소의 운전데이터는 운송 트레일러로부터 공급되는 수소 인입부로부터 충전 대상인 차량에 공급되는 충 전부에 이르기까지 다수의 포인트에 수소의 압력, 온도, 유량 측정을 위한 센서가 부착되며 각 센서로부터 감지 되는 데이터는 수소 통합모니터링센터로 전송된다. 본 발명은 서산의 수소충전소에 실제 적용되어 테스트가 이 루어졌으며 구체적인 내용을 후술한다. 상기 데이터수집모듈은 상기 설비에 구비된 센서로부터 수치화된 공정변수와, 개폐 및 온오프 동작과 관련 된 상태변수를 수집한다.(S 110) 이때 상기 공정변수는 상기 센서를 통해 수집되는 압력, 온도, 유량, 전류값을 포함하고, 상기 상태변수는 상기 밸브의 개폐 및 스위치의 온오프 동작을 포함하게 된다. 즉 공정변수는 어떤수치값을 갖게 되고, 상태변수의 경우 0, 1의 상태값을 갖게 된다. 상기 데이터추출모듈은 상기 공정변수 및 상태변수 중 정상상태로 분류된 데이터를 분석대상으로 추출하는 구성이다. 본 발명의 훈련모델에서 사용되는 우도 L(ot)는 모든 동작모드를 고려하여 관찰된 값이 얼마나 나타날 가능성이 있는지를 의미하므로, 우도 값이 일정 수치 이하이면 비정상으로 간주할 수 있음에 따라 정상으로 간 주되는 데이터만 훈련에 사용해야 한다. 이에 상기 데이터추출모듈은 설정된 기간 중 수집된 데이터 중 경 보모듈에서 이상상태로 판단되지 않은 정상상태의 데이터만 분류하여 분석대상으로 사용하도록 한다.(S 120) 상기 모드정의모듈은 분석대상으로 추출된 상태변수를 포함하는 이벤트를 활용하여 작동모드를 정의하는 구성이다.(S 130) 예를 들어 트레일러로부터 수소가스를 공급받는 작업과, 저장된 수소가스를 차량으로 공급하 는 작업에서 밸브 및 스위치의 동작조건이 달라질 수밖에 없다. 즉 수소충전소의 프로세스는 운전조건에 따라 밸브개폐, 시스템 운전 등 공정 변수에 영향을 미치는 다양한 상태를 가지므로 여러 동작모드에 따라 측정되는 공정 변수가 달라지므로 수행되는 작업에 따른 상태변수를 포함하는 이벤트를 활용하여 작동모드를 정의하여 구 분하게 되며, 관리자에 의해 임의로 작동모드의 지정이 이루어지거나 자동화된 알고리즘을 통해 수행될 수도 있 다. 본 발명은 기본적으로 정상상태를 학습하여 이후 이상상태를 검출하는 방식으로 다양한 운전모드가 구비될 수밖 에 없는 수소충전소 설비에서 작동모드의 정의가 매우 중요하며 본 발명의 바람직한 실시예에서는 밸브의 개폐 를 통해 모드를 정의하고 있다. 하지만, 모드의 정의가 잘못될 경우 이후 정상상태의 추정에 문제가 발생하게 되므로 모드의 정상, 비정상 여부를 확인하는 것이 중요하다. 이를 위해 상기 모드정의모듈은 설정된 기간 상기 이벤트를 수집 및 분석하되 발생 빈도를 통해 정상상태 의 이벤트임을 판단 및 추출하여 작동모드 정의에 적용시키는 모드학습부를 포함하게 된다. 즉 밸브 개폐와 관련된 정보를 통해 모드를 정의하기에 앞서 충분한 기간을 두고 밸브의 상태 데이터를 수집하 며 학습을 진행하는 것으로 빈도가 높게 나오는 상태를 정상상태로 빈도가 낮게 나오는 데이터는 비정상 상태로 판단을 하여 정상상태에 따른 상태데이터를 활용하여 분석하게 된다. 상기 패턴분석모듈은 정의된 작동모드에 따라 분석대상으로 추출된 공정변수를 학습하는 구성으로, 본 발 명에서는 가우스(가우시안)혼합모델을 사용하여 확률분포함수를 구한 뒤(S 140) 은닉마크코프모델을 사용하여 훈련 매개변수를 획득하도록 구성된다.(S 150) 가우스혼합모델은 다변수 정규분포를 기반으로 M 개의 분포가 혼합되어있는 모델로, 여러 센서에서 측정한 데이 터는 다변수 정규분포로 가정하여 각 작동모드별로 다변수 정규분포를 혼합하여 가우스혼합모델로 구성된다. 은 닉 마르코프모델은 관측 불가능한 과정을 관측 가능한 다른 과정으로 추정하는 이중 확률처리 모델로, 시간에 따른 상태 정보가 숨겨져 있으며 출력 정보만 관찰된다. 이 모델을 통해 여러 센서에서 측정한 데이터를 분석하 여 은닉된 상태에 대한 확률값을 도출할 수 있다. 상기 판단모듈은 상기 패턴분석모듈의 학습결과를 통해 이상상태를 판단하는 구성으로, 훈련된 매개 변수를 사용하여 우도를 계산하고 상기 우도가 설정된 수치 이하일 경우 비정상상태로 판단하도록 구성된다.(S 160) 상기 평가모듈은 본 발명의 적용 초기 모델 적합도를 판단하기 위한 구성으로, 데이터수집기간 중 수소충 전소에서 발생한 이상상태에 따른 알람 정보를 비교하여 훈련모델의 적합도를 평가하게 된다. 오류를 분리하기 위해 MATLAB의 findchangept 함수를 사용하여 로그 가능성이 갑자기 변경된 부분을 분류할 수 있으며 레이블된 상태 알고리즘에 의해 계산된 log-likelihood 및 findchangept 함수를 사용하여 이상상태에 따른 알람 정보가 모두 성공적으로 감지되었는지를 확인하여 모델 적합도를 판단한다.(S 170) 본 발명에 사용되는 방법의 이론적인 내용을 구체적으로 설명하면 다음과 같다. 관찰을 오류로 결정하기 위해 시간 t, ot에서의 관찰 값이 참일 확률을 의미하는 우도 L(ot)를 사용했다. 이는 [수학식 1]과 같이 특정 상태 si와 관측값 ot와의 교차 확률의 합으로 계산된다. [수학식 1] 여기서 M=N(S) 및 S={s1, s2,…, sM}. 위에서 언급한 바와 같이 제안하는 방법은 다중 동작모드의 경우를 고려하여 설계되었으므로 동작모드를 상태로 고려하여 모드의 수는 M이다. 우도 L(ot)는 모든 동작모드를 고려하여 관찰된 값이 얼마나 나타날 가능성이 있는 지를 의미하므로, 우도 값이 일정 수치 이하이면 비정상으로 간주할 수 있다. 따라서 정상으로 간주되는 데이터 만 훈련에 사용해야 한다. [수학식 1]에서 가능한 상태가 서로 독립적이라고 가정했다. 또한, [수학식 1]의 교 차 확률은 조건 에서 ot의 확률과 si, P(si)의 확률의 곱으로 [수학식 2]와 같이 변환할 수 있습 니다. . [수학식 2]"}
{"patent_id": "10-2022-0017130", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "선험적 확률 은 본 발명에서 가우스 분포로 가정한 확률 분포 함수(PDF)에서 구합니다. 분포 추정에 대한 자세한 내용은 후술하며, 또한 확률 P(si)는 시간 t, qt=si 에서의 시퀀스 상태가 [수학식 3]에서 보여주는 와 같은 과거 관찰 시퀀스의 조건을 갖는다는 것을 의미한다. [수학식 3]"}
{"patent_id": "10-2022-0017130", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "여기서 . 또한, 는 qi의 상태를 은닉 상태로 간주하여 HMM에서 구할 수 있는 Bayes 정리에서 전이확율 로 제시된다. A. 훈련 모델 이 문제를 해결하기 위해서는 크게 두 가지 단계가 있다. 1) 다변수 가우스 먼저, [수학식 2]에서 선험적 확률 를 추정해야 한다. 본 발명에서는 선험적 확률을 추정하기 위해 파 라메트릭 추정을 사용하였다. 그러나 감지 데이터가 다변수이므로 관측값 ot는 스칼라값이 아니다. 따라서 관측 값의 벡터를 ot와 같은 볼트체로 표시했다. 다변수 x에 대한 PDF를 추정하기 위해 [수학식 4]와 같은 다변수 가 우스를 사용하였다. [수학식 4]"}
{"patent_id": "10-2022-0017130", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "여기서 는 평균 벡터이고 는 차원이 D×D인 공분산 행렬이다. M개의 상태가 있 기 때문에 의 PDF 매개변수 및 는 각 상태 si에 대한 최대 가능도 추정(MLE)에 의해 추정 되었다. MLE에 사용되는 각 상태에 대한 관찰은 시계열 관찰에 대한 원시 데이터와 분리되어야 한다. 본 발명에 서는 이벤트의 경우를 단계로 간주하기 때문에 시계열 다변수 센싱 데이터를 이벤트의 경우별로 세분화하였다. 이벤트의 경우에 대한 자세한 내용은 후술한다. 2) 은닉 마르코프 모델 의 PDF를 추정한 후, [수학식 3]에서 전이 확율 을 계산해야 한다. 1차 마르코프 과정을 가정하면, 전이확율 은 이 관측값 에서 이다. 시간 t-1에서 qt-1 단계의 모든 경우를 고려해야 하므로 은 가능성을 효과적으로 계산할 수 있는 귀납적 알고리즘인 [수학식 5]와 같이 계산된다. [수학식 5]"}
{"patent_id": "10-2022-0017130", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "또한, [수학식 5]에서 은 sj에서 si로의 전이 확률이며, 이는 Baum-Welch 알고리즘에 의해 계산된다. 마지막으로, 요소가 있는 전이행렬 과, 요소가 있는 방출 확률 분포 E는 HMM의 매개변수 로 획득된 다. 여기서 은 초기 확률 벡터입니다. B. 이상 평가 위에서 언급한 바와 같이 관찰의 비정상성을 평가하기 위해 우도 를 훈련된 매개변수 를 사 용하여 [수학식 1]과 같이 계산한다. 본 발명에서는 [수학식 2]의 확률 을 계산하기 위해 더 많은 정보을 활용하기 위해 시간 t 이후의 관측치를 활용하였다. 그리하면 는 로 표현된다. 를 계산하기 위해, 및 을 각각 계산 후 곱하기를 사용하는 forward-backward 알고리즘이 사용되었다. 마지막으로 가능성 을 구했 고 임계값 이하의 값은 이상으로 간주했다. [실험예] A. 수소충전소 공정에 적용된 방법론 본 발명의 실험예는 본 출원인인 한국가스기술공사가 운영하는 서산 수소충전소에 적용되었다. 수소충전소는 첨 부된 도면과 같이 크게 압축설비, 제어반, 저장용기, 충전기, 냉각기의 5가지 주요단위를 구비한다. 수소는 트레일러에서 공급되어 압축설비로 전달되고, 압축설비에 공급된 수소는 제어반을 통해 저장용기나 충전 기로 공급된다. 저장용기에서 공급되는 수소도 제어반을 통해 압축설비 패키지나 충전기에 공급되며, 가스 순도 를 확인하기 위한 가스 샘플링 라인이 포함되어 있다. 도 4는 본 발명의 실험예에 따른 서산 수소충전소의 구조 다이어그램을 나타내고 있고, 서산 수소충전소의 공정 변수(PVs)는 SCADA 시스템을 통해 초당 수집되며 온도, 압력, 전류 등 30개의 PVs와 밸브 개폐를 표현하는 20개 의 상태변수(STSs)로 구성된다. 각 PVs와 STSs는 [표 1]과 같다.표 1 Field DATA TAG Name 서산 가스충전소STSCOOLING WATER CHILLER RUN H2 CHILLER RUN LMP COMP RUNNING OIL TANK HEATER RUN LMP COMP. COMMON SHUTDOWN HP COMP LOAD HP COMP. HEATER ON HP COMP. COMMON SHUTDOWN EQUIPMENT SHUTDOWN LMP COMP INLET ACT VALVE LMP COMP OUTLET ACT VALVE LMP COMP BYPASS ACT VALVE HP COMP INLET ACT VALVE HP COMP OUTLET ACT VALVE HP COMP BYPASS ACT VALVE DIRECT FILL ACT VALVE HP COMP. LEFT LIMIT ON HP COMP.RIGHT LIMIT ON MP COMP. LEFT LIMIT ON MP COMP. RIGHT LIMIT ON PVH2 INLET MASS FLOW INSTRUMENT N2 PRESS INSTRUMENT N2 PRESS LOW LMP COMP INLET PT LMP COMP 1ST OUT PT LMP COMP 2ND OUT PT LMP COMP LUBE OIL PT LMP COMP 1ST OUTLET TEMP LMP COMP 2ND OUTLET TEMP LMP COMP LUBE OIL TEMP LMP COMP CUREENT PV HP COMP INLET PT HP COMP OUTLET PT HP COMP LUBE OIL PT HP COMP OUTLET TEMP HP COMP LUBE OIL TEMP HP COMP CUREENT PV H2 INLET PRESS MID PRESS STORAGE TANK PRESS HI PRESS STORAGE TANK PRESS MP COMP COOLER OUTLET TEMP H2 PRE COOLER H2 INLET TEMP H2 PRE COOLER H2 OUTLET TEMP H2 CHILLER COOLER LIQUID TEMP CHILLER.CW.TEMP1 CHILLER.CW.TEMP1_B CHILLER.BRAIN_INLET_T CHILLER.BRAIN_OUTLET_T CHILLER.BRAIN_INLET_T2 CHILLER.BRAIN_OUTLET_T2도 5는 본 발명의 실험예에 따른 서산 수소충전소의 누출 감지 프로세스의 스키마로서, 서산 수소충전소의 압축 기는 도 5와 같이 다이어프램 밀봉 시스템의 문제를 감지할 수 있는 누출 감지 시스템이 장착되어 있다. 다이어 프램과 캐비티 사이에 먼지, 금속 입자 또는 액체가 끼는 것이 대표적인 금속 다이어프램 손상의 원인이다. 또한, 수소충전소 프로세스의 온도, 압력, 전류별 고저 알람은 설정값에 의해 작동되며, 이러한 경보값을 바탕 으로 고장검출의 적정성을 판단하였다. 수소충전소의 프로세스는 운전조건에 따라 밸브개폐, 시스템 운전 등 공정 변수에 영향을 미치는 다양한 상태를 가지므로 여러 운전모드에 따라 측정되는 공정 변수가 달라진다. 도 6은 본 발명의 실험예에 따른 상태 시퀀스에 번호를 할당하는 예시로서, 상측은 수소충전소의 운전데이터를 하측은 시스템 정보를 각각 나타내고 있으며 H2 압축기의 각 압력센서와 현재 값은 H2 공정 상태를 기반으로 플 로팅되어 있고, 상태가 변경되면 프로세스 변수의 모양도 빠르게 변경됨을 알 수 있다. 따라서 공정변수는 다중 확률분포를 갖고 있음을 알 수 있다. B. 양방향 학습 모델 공정변수들이 따르는 확률밀도함수를 가우시안 분포라고 가정하면 여러 가우시안 분포가 존재하는 형태로 볼 수 있으며, 두 가지 방법을 사용하여 각 출력 변수를 비교하여 해당 변수가 속하는 분포를 결정했다. 1) 제안된 방법을 사용한 가우스 혼합 모델 첫 번째 방법은 작동모드를 직접 결정하는 것이다. 각 작동모드가 변경되는 타이밍은 밸브를 개폐하거나 시스템 상 ON/OFF를 통해 결정할 수 있다. 각 밸브와 동작상태를 감지하는 STS 센서는 열림과 닫힘(0,1)으로 표현되며, [표 2]와 같이 STS 센서의 바이너리 값의 중복된 조합을 제거하여 고유한 조합에 번호를 부여한다. 표 2 Valve 1 Valve 2 State No. Open Open Close CloseOpen Close Open Close1 2 3 4 시퀀스 데이터 고유한 조합으로 레이블이 지정된 데이터는 전체 관찰된 훈련 데이터로 사용된다. HMM 훈련에 사 용된 데이터는 4월과 5월에 서산 수소충전소 SCADA 시스템에서 수집된 330개의 데이터를 추출하여 HMM 훈련에 사용하였다. 이 기간동안 24개 데이터 세트에서 408개 데이터 조합에 레이블이 지정되었다. 2) EM 알고리즘을 이용한 가우스 혼합 모델 둘째, 가우스 혼합 모델을 구축하는 데 사용되는 EM 기법을 통해 GMM을 얻을 수 있습니다. 이 모델은 확률밀도 함수의 개수인 M을 정하면 쉽게 얻을 수 있다. Akaike 정보 기준(AIC) 점수는 최적의 M을 찾는 데 사용되었으며 최적의 품질 모델은 M=24에서 찾았다. AIC는 통계 모델의 적합도를 측정하는 기준이다. 따라서 AIC는 모델의 복잡성과 품질을 평가하여 최상의 통계 모델을 선택할 수 있다. 본 발명에서는 EM 알고리 즘을 통해 혼합 가우시안 모델의 최적 M 값을 결정하였다. 또한, 두 혼합 가우스 모델의 평가에 사용되었습니다. 과적합을 피하기 위해 AIC 값이 가장 작은 모델을 첫번째로 고려하였다. C. MATLAB의 HMM 도구 상자 Murphy가 만든 MATLAB 도구 상자는 이산 또는 가우스 혼합 출력을 사용하여 HMM에 대한 추론 및 훈련을 지원한다. 플랜트에는 다양한 작동모드가 있으므로 각 센서에서 측정된 데이터는 가우스 혼합 출력에 대해 HMM 을 사용했다.실험결과 GMM-HMM을 이용하여 계산한 log-likelihood 값에 의한 오류검출은 공정 상태량이 GAS LEAK와 같은 설정값 내에 서 이동하더라도 공정 상태량 간의 상호작용을 고려하여 오류검출이 가능함을 보였다. 4월 10일부터 12일까지 고장 경보가 발생한 시점을 추출하여 실험 데이터로 사용하였다. 설정된 기간 8개의 고장 알람이 발생하였으며, 그 내용은 [표 3]과 같다. HP COMP 1ST CYLINDER GAS LEAK 4건, H2 INLET PRESS LOW 2건, HP COMP EOCR TRIP 1건, HP COMP SOFTSTARTER TRIP이 1건이 발생했다. 표 3 Time TAG Name 2021-04-10 09:43:55 2021-04-10 10:01:53 2021-04-10 10:58:42 2021-04-11 08:28:13 2021-04-11 10:28:17 2021-04-12 15:32:40 2021-04-12 15:35:04 2021-04-12 16:32:47HP COMP 1ST CYLINDER GAS LEAK HP COMP 1ST CYLINDER GAS LEAK HP COMP 1ST CYLINDER GAS LEAK H2 INLET PRESS LOW HP COMP 1ST CYLINDER GAS LEAK H2 INLET PRESS LOW HP COMP EOCR TRIP HP COMP SOFTSTARTER TRIP 도 7은 위에서 언급한 두 가지 방법을 사용하여 계산된 관측 데이터의 로그 우도 플롯입니다. 도 7(a)에서는 EM 알고리즘을 사용하여 모드를 클러스터링하여 HMM의 매개변수를 학습하였고, 7(b)에서는 STS 데이터를 통해 상태 를 분류하여 HMM의 매개변수를 학습하였다. 두 가지 방법으로 구축된 모델의 적합도를 판단하기 위해 AIC와 BIC(Bayesian information criteria)의 두 가 지 방법을 통해 점수를 계산하여 [표 4]와 같이 계산하였다. 표 4"}
{"patent_id": "10-2022-0017130", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "ModelModel Selection Criteria Akaike Information Criterion (AIC)Bayesian Information Criterion (BIC) EM Algorithm 59.45 6.49E+06 Proposed Method 45.65 5.13E+06 log-likelihood 계산 결과, log-likelihood 값은 알람 발생 시간에 따라 감소함을 알 수 있다. 도 8은 본 발명의 실험예에 따른 오류검출 지점으로, 오류를 분리하기 위해 MATLAB의 findchangept 함수를 사용 하여 로그 가능성이 갑자기 변경된 부분을 분류할 수 있었다. EM 알고리즘으로 계산한 log-likelihood는 알람에 따른 명확한 log-likelihood 변화를 일으키지 않았고 findchangept 함수는 오류를 인식하지 못했다. 특히 지난 4월 12일 발생한 H2 INLET PRESS LOW/HP-COMP-EOCR- TRIP 경보 당시에는 고장을 완전히 인식하지 못한 것으로 보인다. 그러나 레이블된 상태 알고리즘에 의해 계산된 log-likelihood 및 findchangept 함수를 사용하여 8개의 결함이 모두 성공적으로 감지되었다. 또한, 레이블이 지정된 상태 알고리즘은 AIC와 BIC에 의한 점수가 낮았기 때문에 레이블이 지정된 상태 알고리즘이 모델 적합도가 더 좋은 것으로 판단된다. 제안된 방식을 고장감지가 PID 제어기와 제한감지로 구성된 표준 공정 제어 및 모니터링 시스템에 추가하여 오 류 감지 기능을 강화하며 특히 오류, 경보 및 경보 센서의 누락 발생에 따른 피해를 효과적으로 예방할 수 있다. 본 발명의 권리는 위에서 설명된 실시 예에 한정되지 않고 청구범위에 기재된 바에 의해 정의되며, 본 발명의 분야에서 통상의 지식을 가진 자가 청구범위에 기재된 권리범위 내에서 다양한 변형과 개작을 할 수 있다는 것 은 자명하다.부호의 설명 110: 데이터수집모듈 120: 데이터추출모듈 130: 모드정의모듈 131: 모드학습부 140: 패턴분석모듈 150: 판단모듈 160: 평가모듈"}
{"patent_id": "10-2022-0017130", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 이상 감지 프로세스의 개념도, 도 2는 본 발명의 실시예에 따른 구성 및 연결관계를 나타낸 블록도, 도 3은 본 발명의 실시예에 따른 절차를 나타낸 순서도, 도 4는 본 발명의 실험예에 따른 서산 수소충전소의 구조 다이어그램, 도 5는 본 발명의 실험예에 따른 서산 수소충전소의 누출 감지 프로세스의 스키마, 도 6은 본 발명의 실험예에 따른 상태 시퀀스에 번호를 할당하는 예시, 도 7은 본 발명의 실험예에 따른 두 가지 방법을 사용하여 계산된 관측 데이터의 로그 우도 플롯,도 8은 본 발명의 실험예에 따른 오류검출 지점이다."}
