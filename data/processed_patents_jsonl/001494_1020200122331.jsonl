{"patent_id": "10-2020-0122331", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2022-0039325", "출원번호": "10-2020-0122331", "발명의 명칭": "AMI 계량 데이터 분석 장치", "출원인": "한국전력공사", "발명자": "신진호"}}
{"patent_id": "10-2020-0122331", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "MDMS 시스템으로부터 계량 데이터를 분산 병렬로 프로파일링, 검증 및 집계 처리하는 OLAP 스파크 클러스터; 웹기반으로 사용자 단말기와 접속되어 상기 MDMS 시스템에 저장된 상기 계량 데이터를 추출하여 분석하고 시각화하는 온라인 질의모듈; 웹기반으로 접속된 개발자 단말기에 대해 상기 MDMS 시스템에 접근하여 스크립트를 제공하고, 상기 계량 데이터의 고급분석을 위한 API를 제공하여 파일을 송수신할 수 있도록 지원하는 전문 클라이언트 분석모듈; 및 웹기반으로 운영자 단말기와 접속되어 상기 MDMS 시스템의 하둡(Hadoop) 데이터를 타 시스템에 제공하고 설정하기 위한 연계모듈;을 포함하는 것을 특징으로 하는 AMI 계량 데이터 분석 장치."}
{"patent_id": "10-2020-0122331", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1항에 있어서, 상기 온라인 질의모듈은, 분석대상 속성에 대한 속성정보에 대한 모델을 메타데이터 형태로 관리하는 소형 관계형 DB; 상기 소형 관계 DB나 HDFS 소스의 분석 대상 속성에 대한 속성정보에 대한 모델을 상기 소형 관계 DB를 통해 관리하는 데이터 모델 관리부; 상기 데이터 모델 관리부에서 관리되는 데이터 모델 형식으로 계량 데이터를 조회하는 계량 데이터 조회부; 상기 계량 데이터 조회부를 통해 조회된 상기 계량 데이터를 상기 OLAP(Online Analytical Processing) 스파크클러스터를 통해 병렬로 분석하고 시각화하는 분석 시각화부; 및 상기 사용자 단말기가 상기 데이터 모델 관리부, 상기 계량 데이터 조회부 및 상기 분석 시각화부에 접속하기위한 환경을 설정하는 환경 설정부;를 포함하는 것을 특징으로 하는 AMI 계량 데이터 분석 장치."}
{"patent_id": "10-2020-0122331", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 2항에 있어서, 상기 계량 데이터 조회부는, 데이터 모델을 선택하고, 데이터 모델의 컬럼과 검색 시간범위를저장하고, 검색 질의어를 통해 검색조건을 입력하는 것을 특징으로 하는 AMI 계량 데이터 분석 장치."}
{"patent_id": "10-2020-0122331", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 3항에 있어서, 상기 검색 질의어는, where 조건절 및 연산자를 통해 데이터를 필터링하는 것을 특징으로 하는 AMI 계량 데이터 분석 장치."}
{"patent_id": "10-2020-0122331", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 2항에 있어서, 상기 계량 데이터 조회부는, 통계함수, 그룹함수 및 정렬함수 어느 하나 이상을 사용하여 검색하는 것을 특징으로 하는 AMI 계량 데이터 분석 장치."}
{"patent_id": "10-2020-0122331", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 2항에 있어서, 상기 분석 시각화부는, 검색 결과의 각 필드를 행, 열, 값 중 어느 하나 이상을 조합하여 피공개특허 10-2022-0039325-3-벗 분석 기능을 제공하는 것을 특징으로 하는 AMI 계량 데이터 분석 장치."}
{"patent_id": "10-2020-0122331", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제 1항에 있어서, 상기 전문 클라이언트 분석모듈은, 웹기반으로 상기 MDMS 시스템에 개발자 단말기를 접속하여 R 패키지를 관리하고 스크립트를 다운로드 받도록 스크립트 템플릿을 제공하는 스크립트 제공부; 상기 개발자 단말기에서 상기 MDMS 시스템의 HDFS 파일을 다운로드하거나 상기 계량 데이터를 조회할 수 있도록지원하는 프록시 서버; 상기 MDMS 시스템에 접속되는 상기 개발자 단말기를 인증하는 인증서버; 및 R API를 인증하고 하둡파일에 접근하여 다운로드하고 메타데이터를 조회하며 계량 데이터를 질의하기 위한 API를 제공하는 API 제공부;를 포함하는 것을 특징으로 하는 AMI 계량 데이터 분석 장치."}
{"patent_id": "10-2020-0122331", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 7항에 있어서, 상기 프록시 서버는 상기 MDMS 시스템의 NFS 게이트웨이와 접속되어 HDFS 파일을 다운로드하는 것을 특징으로 하는 AMI 계량 데이터 분석 장치."}
{"patent_id": "10-2020-0122331", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 1항에 있어서, 상기 연계모듈은 상기 MDMS 시스템의 하둡 클러스터에서 계량 데이터 제공에 대한 목록, 이력조회 설정 중 어느 하나 이상을 관리하고 제공하는 것을 특징으로 하는 AMI 계량 데이터 분석 장치."}
{"patent_id": "10-2020-0122331", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 AMI 계량 데이터 분석 장치가 개시된다. 본 발명의 AMI 계량 데이터 분석 장치는, MDMS 시스템으로부 터 계량 데이터를 분산 병렬로 프로파일링, 검증 및 집계 처리하는 OLAP 스파크 클러스터; 웹기반으로 사용자 단 말기와 접속되어 MDMS 시스템에 저장된 계량 데이터를 추출하여 분석하고 시각화하는 온라인 질의모듈; 웹기반으 로 접속된 개발자 단말기에 대해 MDMS 시스템에 접근하여 스크립트를 제공하고, 계량 데이터의 고급분석을 위한 API를 제공하여 파일을 송수신할 수 있도록 지원하는 전문 클라이언트 분석모듈; 및 웹기반으로 운영자 단말기와 접속되어 MDMS 시스템의 하둡(Hadoop) 데이터를 타 시스템에 제공하고 설정하기 위한 연계모듈;을 포함하는 것을 특징으로 한다."}
{"patent_id": "10-2020-0122331", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 AMI 계량 데이터 분석 장치에 관한 것으로서, 보다 상세하게는 지능형 전력계량 인프라를 통해 수집 한 AMI 계량 데이터를 직접 분석할 수 있도록 WEB 환경의 온라인 질의형 분석도구와 전문가용 전용 분석환경 및 타 시스템과 연계하여 데이터를 제공할 수 있도록 하는 AMI 계량 데이터 분석 장치에 관한 것이다."}
{"patent_id": "10-2020-0122331", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "최근 지능형 전력계량 인프라(Advanced Meter Infrastructure, AMI) 구축에 따라 수집되는 계량 데이터의 관리 가 요구되고 있다. 계량 데이터는 전기요금 산정, 고객에게 실시간 사용량 및 요금 제공, 수요반응(Demand Response, DR) 분석 등 에너지신산업 창출을 위한 근간 데이터이므로, 계량 데이터의 관리에 있어서 높은 신뢰성이 요구된다. 현재 계량 데이터를 관리하기 위한 시스템으로 약 1천만호를 구축하여 본사 계량 데이터 관리시스템(MDMS : Metering Data Management System)에서 전국의 계량 빅데이터를 수집 및 처리하여 통합관리하고 있다. 해외에서도 AMI 구축사업을 활발하게 추진하고 있으며, AMI 계량 데이터는 요금부과의 기준이 될 뿐만 아니라, 전기품질(전압, 전류) 관리, 위약/도전/손실 탐색, 지역별/구간별 전기부하 패턴분석 및 수요예측, 실시간 전기 사용정보 고객제공, 전기소비 컨설팅 등 배전/영업/고객서비스 분야의 다양한 업무, 서비스를 위한 근간이 되는 중요한 데이터이다."}
{"patent_id": "10-2020-0122331", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 2, "content": "본 발명의 배경기술은 대한민국 공개특허공보 제10-2018-0033961호(2018.04.04. 공개, 계량데이터 관리 시스템"}
{"patent_id": "10-2020-0122331", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 3, "content": "및 컴퓨터 판독가능 기록 매체)에 개시되어 있다. 발명의 내용"}
{"patent_id": "10-2020-0122331", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "최근에는 AMI 보급량 증가 및 빅데이터, 인공지능(AI) 등 4차 산업혁명 기술 화두에 따라 AMI 계량 데이터의 활 용가치를 높이기 위한 MDMS의 빅데이터 분석 솔루션 및 서비스의 역할이 더욱 커지고 있다. AMI 구축사업의 투자 효용성을 제고하고 해외수출 기술경쟁력을 강화하기 위해 AMI 데이터를 종합 분석하여 새 로운 가치를 창출할 수 있는 데이터 분석 및 시각화 솔루션이 필요한 실정이다. 한전 MDMS는 빅데이터 기술을 적용하여 용도와 목적에 따라 Hadoop 파일시스템, NoSQL 데이터베이스, 관계형 데 이터베이스(RDB)에 계량 데이터를 적재하여 처리하고 있다. 그러나, MDMS에서 수집되는 1천만 호 AMI 계기의 데이터양은 하루 약 6억건(450GByte) 이상으로 업무담당자 및 관리자, 데이터 과학자 및 알고리즘 개발자 등이 일반적인 방법으로 접근하여 데이터를 분석하기는 어려운 문제 점이 있다. 본 발명은 상기와 같은 문제점들을 개선하기 위하여 안출된 것으로, 일 측면에 따른 본 발명의 목적은 지능형 전력계량 인프라를 통해 수집한 AMI 계량 데이터를 직접 분석할 수 있도록 WEB 환경의 온라인 질의형 분석도구 와 전문가용 전용 분석환경 및 타 시스템과 연계하여 데이터를 제공할 수 있도록 하는 AMI 계량 데이터 분석 장 치를 제공하는 것이다."}
{"patent_id": "10-2020-0122331", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 일 측면에 따른 AMI 계량 데이터 분석 장치는, MDMS 시스템으로부터 계량 데이터를 분산 병렬로 프로 파일링, 검증 및 집계 처리하는 OLAP 스파크 클러스터; 웹기반으로 사용자 단말기와 접속되어 MDMS 시스템에 저 장된 계량 데이터를 추출하여 분석하고 시각화하는 온라인 질의모듈; 웹기반으로 접속된 개발자 단말기에 대해 MDMS 시스템에 접근하여 스크립트를 제공하고, 계량 데이터의 고급분석을 위한 API를 제공하여 파일을 송수신할 수 있도록 지원하는 전문 클라이언트 분석모듈; 및 웹기반으로 운영자 단말기와 접속되어 MDMS 시스템의 하둡 (Hadoop) 데이터를 타 시스템에 제공하고 설정하기 위한 연계모듈;을 포함하는 것을 특징으로 한다. 본 발명에서 온라인 질의모듈은, 분석대상 속성에 대한 속성정보에 대한 모델을 메타데이터 형태로 관리하는 소 형 관계형 DB; 소형 관계 DB나 HDFS 소스의 분석 대상 속성에 대한 속성정보에 대한 모델을 소형 관계 DB를 통 해 관리하는 데이터 모델 관리부; 데이터 모델 관리부에서 관리되는 데이터 모델 형식으로 계량 데이터를 조회 하는 계량 데이터 조회부; 계량 데이터 조회부를 통해 조회된 계량 데이터를 OLAP(Online Analytical Processing) 스파크 클러스터를 통해 병렬로 분석하고 시각화하는 분석 시각화부; 및 사용자 단말기가 데이터 모델 관리부, 계량 데이터 조회부 및 분석 시각화부에 접속하기 위한 환경을 설정하는 환경 설정부;를 포함하는 것을 특징으로 한다. 본 발명에서 계량 데이터 조회부는, 데이터 모델을 선택하고, 데이터 모델의 컬럼과 검색 시간범위를 저장하고, 검색 질의어를 통해 검색조건을 입력하는 것을 특징으로 한다. 본 발명에서 검색 질의어는, where 조건절 및 연산자를 통해 데이터를 필터링하는 것을 특징으로 한다. 본 발명에서 계량 데이터 조회부는, 통계함수, 그룹함수 및 정렬함수 어느 하나 이상을 사용하여 검색하는 것을 특징으로 한다. 본 발명에서 분석 시각화부는, 검색 결과의 각 필드를 행, 열, 값 중 어느 하나 이상을 조합하여 피벗 분석 기 능을 제공하는 것을 특징으로 한다. 본 발명에서 전문 클라이언트 분석모듈은, 웹기반으로 MDMS 시스템에 개발자 단말기를 접속하여 R 패키지를 관 리하고 스크립트를 다운로드 받도록 스크립트 템플릿을 제공하는 스크립트 제공부; 개발자 단말기에서 MDMS 시 스템의 HDFS 파일을 다운로드하거나 계량 데이터를 조회할 수 있도록 지원하는 프록시 서버; MDMS 시스템에 접 속되는 개발자 단말기를 인증하는 인증서버; 및 R API를 인증하고 하둡파일에 접근하여 다운로드하고 메타데이 터를 조회하며 계량 데이터를 질의하기 위한 API를 제공하는 API 제공부;를 포함하는 것을 특징으로 한다. 본 발명에서 프록시 서버는 MDMS 시스템의 NFS 게이트웨이와 접속되어 HDFS 파일을 다운로드하는 것을 특징으로 한다. 본 발명에서 연계모듈은 MDMS 시스템의 하둡 클러스터에서 계량 데이터 제공에 대한 목록, 이력조회 설정 중 어 느 하나 이상을 관리하고 제공하는 것을 특징으로 한다."}
{"patent_id": "10-2020-0122331", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 일 측면에 따른 AMI 계량 데이터 분석 장치는 지능형 전력계량 인프라를 통해 수집한 AMI 계량 데이 터를 직접 분석할 수 있도록 WEB 환경의 온라인 질의형 분석도구와 전문가용 전용 분석환경 및 타 시스템과 연 계하여 데이터를 제공할 수 있어, 사용자는 MDMS 시스템에 저장된 장기 이력 데이터의 하둡 빅데이터를 Web 환 경에서 접속 및 질의, 피벗 분석 및 다양한 시각화 방법을 제공하여 별도 코딩 없이도 계량 빅데이터를 분석 가 능하고, 개발자등 분석가는 전용 분석환경 및 API 제공으로 손쉽게 계량 빅데이터 접근 및 분석할 수 있도록 한 다."}
{"patent_id": "10-2020-0122331", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면들을 참조하여 본 발명에 따른 AMI 계량 데이터 분석 장치를 설명한다. 이 과정에서 도면에 도시된 선들의 두께나 구성요소의 크기 등은 설명의 명료성과 편의상 과장되게 도시되어 있을 수 있다. 또한, 후술되는 용어들은 본 발명에서의 기능을 고려하여 정의된 용어들로서 이는 사용자, 운용자의 의도 또는 관례에 따라 달라질 수 있다. 그러므로 이러한 용어들에 대한 정의는 본 명세서 전반에 걸친 내용을 토대로 내려져야 할 것이다. 도 1은 본 발명의 일 실시예에 따른 AMI 계량 데이터 분석 장치를 나타낸 블록 구성도이고, 도 2는 본 발명의 일 실시예에 따른 AMI 계량 데이터 분석 장치의 온라인 질의모듈을 구체적으로 나타낸 블록 구성도이며, 도 3은 본 발명의 일 실시예에 따른 AMI 계량 데이터 분석 장치의 온라인 질의모듈의 작동을 설명하기 위한 흐름도이고, 도 4는 본 발명의 일 실시예에 따른 AMI 계량 데이터 분석 장치에서 분석대상 적재를 위한 HDFS 디 렉토리 구조를 나타낸 예시도이며, 도 5는 본 발명의 일 실시예에 따른 AMI 계량 데이터 분석 장치에서 계량 데 이터의 검색 화면을 나타낸 예시도이고, 도 6은 본 발명의 일 실시예에 따른 AMI 계량 데이터 분석 장치에서 피 벗 분석 화면을 나타낸 예시도이며, 도 7은 본 발명의 일 실시예에 따른 AMI 계량 데이터 분석 장치에서 차트분석화면을 나타낸 예시도이고, 도 8은 본 발명의 일 실시예에 따른 AMI 계량 데이터 분석 장치의 전문 클라이 언트 분석모듈을 구체적으로 나타낸 블록 구성도이며, 도 9는 본 발명의 일 실시예에 따른 AMI 계량 데이터 분 석 장치의 전문 클라이언트 분석모듈의 실행 프로세스를 나타낸 구성도이고, 도 10은 본 발명의 일 실시예에 따 른 AMI 계량 데이터 분석 장치의 전문 클라이언트 분석모듈에서 제공하는 API 목록이며, 도 11은 본 발명의 일 실시예에 따른 AMI 계량 데이터 분석 장치의 전문 클라이언트 분석모듈에서 HDFS 접근 및 파일 다운로드 과정을 설명하기 위한 도면이다. 도 1에 도시된 바와 같이 본 발명의 일 실시예에 따른 AMI 계량 데이터 분석 장치는 OLAP 스파크 클러스터 , 온라인 질의모듈, 전문 클라이언트 분석모듈 및 연계모듈을 제공할 수 있다. 본 실시예에서 MDMS 시스템은, 계량 데이터를 각 지역본부의 Head-End System에서 수집하여 하둡 클러스터 (Hadoop Cluster)에 원본 데이터를 저장하고, NoSQL 데이터베이스에 로딩하여 스파크 클러스터(Spark Cluste r)를 통해 분산 병렬로 프로파일링(Profiling), 검증 및 집계 처리한 다음 관계형 데이터베이스(RDB)와 하둡 클 러스터에 처리 결과를 저장한다. 그리고, 이력데이터 저장범위는 비용 효율성을 위해 하둡에 10년, NoSQL DB에 13개월, 관계형 DB에 4개월을 저장할 수 있다. OLAP(Online Analytical Processing) 스파크 클러스터는 MDMS 시스템으로부터 계량 데이터를 분산 병 렬로 프로파일링, 검증 및 집계 처리할 수 있다. 여기서 스파크 클럭스터(Spark Cluster)는 독립 시스템 방식을 지원하며 Spark master, worker로 구성되며, 대량의 계량 데이터를 질의하기 위해서는 고성능의 Spark 서버들이 다수 필요하므로 병렬 데이터 처 리를 통해 분석 성능을 향상시킬 수 있다. 온라인 질의모듈은 웹기반으로 사용자 단말기와 접속되어 MDMS 시스템에 저장된 계량 데이터를 추출하 여 분석하고 시각화할 수 있다. 즉, 온라인 질의모듈을 통해 웹기반으로 접속한 사용자 단말기에서 HDFS(Hardoop Distributed File System; 하둡 분산 파일 시스템) 또는 Oracle을 대상으로 검색하고자 하는 키워드 또는 검색 조건이 입력될 경 우 원하는 데이터를 검색할 수 있도록 제공하고, 검색되어진 결과의 필드, 행, 열 등을 선택하여 원하는 분석 결과를 시각화하여 제공할 수 있다. 전문 클라이언트 분석모듈은 웹기반으로 접속된 개발자 단말기에 대해 MDMS 시스템(100에 접근하여 계 량 데이터의 고급분석을 위한 API를 제공하여 파일을 송수신할 수 있도록 지원할 수 있어, API를 통해 고급분석 에 필요한 HDFS 파일을 R 클라이언트로 다운로드할 수 있어 쉽게 고급 분석 및 시각화를 수행할 수 있도록 한다. 연계모듈은 웹기반으로 운영자 단말기와 접속되어 MDMS 시스템의 하둡(Hadoop) 데이터를 타 시스템에 제공하고 설정할 수 있어, HDFS에 적재된 계량 데이터를 타 시스템에 제공하기 위한 계량 데이터 설정기능과 추 출 및 제공 현황 등을 관리할 수 있다. 보다 구체적으로, 온라인 질의모듈은 도 2에 도시된 바와 같이 소형 관계 DB, 데이터 모델 관리부 , 계량 데이터 조회부, 분석 시각화부 및 환경 설정부를 포함할 수 있다. 소형 관계 DB는 분석대상 속성에 대한 속성정보에 대한 모델을 메타데이터 형태로 관리할 수 있다. 여기서, 소형 관계 DB는 소형으로 MariaDB에서는 데이터모델에 대한 Meta 데이터에 대한정보 및 사용자 정 보 등 AMI 계량 데이터 분석 장치에 필요한 데이터들을 관리하고, NoSQL DB로 사용하는 Mongo DB는 SON과 같은 동적인 스키마형 도큐먼트 데이터를 처리하고 관리할 수 있다. 데이터 모델 관리부는 소형 관계 DB나 HDFS 소스의 분석 대상 속성에 대한 속성정보에 대한 모델을 관리할 수 있다. 계량 데이터 조회부는 데이터 모델 관리부에서 관리되는 데이터 모델 형식으로 계량 데이터를 조회하 고 특정 키워드를 검색하거나 통계 분석을 하기 위한 검색을 지원할 수 있다. 분석 시각화부는 계량 데이터 조회부를 통해 조회된 계량 데이터를 OLAP 스파크 클러스터를 통해 병렬로 분석하고 시각화할 수 있다. 여기서, 분석 시각화부는 피벗(Pivot) 기능을 제공하고, 분석하고자 하는 데이터를 분석 유형 및 차트를 통해 시각화할 수 있다. 환경 설정부는 사용자 단말기가 데이터 모델 관리부, 계량 데이터 조회부 및 분석 시각화부 에 접속하기 위한 환경을 설정할 수 있다. 도 3은 본 발명의 일 실시예에 따른 AMI 계량 데이터 분석 장치의 온라인 질의모듈의 작동을 설명하기 위한 흐 름도이다. 도 3에 도시된 바와 같이 온라인 질의모듈은 계량 데이터로부터 특정 키워드 검색을 하거나 통계 분석할 수 있는 환경을 제공할 수 있다. 먼저, 온라인 질의모듈은 MDMS 시스템의 RDB 또는 HDFS의 연결정보를 생성하여 분석대상 데이터를 소형 관계 DB에 적재하고, 분석대상 테이블이나 파일, 또는 폴더를 선택하여 동시에 여러 파일들을 선택하여 데 이터 모델을 생성할 수 있다. 여기서 분석대상 데이터는 MDMS 시스템의 NoSQL 클러스터(MongoDB)에 적재된 계량 데이터를 본 실시예에 의 한 AMI 계량 데이터 분석 장치에서 활용할 수 있도록 MongoDB export utility를 이용해서 CSV 파일 형태로 데이터를 내보낼 수 있다. 그 다음 Apache Nifi를 이용해서 계량 데이터 파일을 HDFS로 적재할 수 있다. 또한, 계량 데이터 제공기능을 위해서 Hive Meta Data데이터를 만들고 HDFS에 적재된 파일을 JDBC(Java Database Connectivity) 형태로 접속해서 질의할 수 있는 환경을 제공할 수 있다. 여기서 계량 데이터 하둡 클러스터 HDFS 디렉토리 구조는 지역본부, 검침코드, Meter_key(2자리), 년도, 월, 일 자, 계량 데이터 파일로 도 4에 도시된 바와 같이 데이터를 보관할 수 있다. 이후 온라인 질의모듈은 계량 데이터의 검색을 위해 기존 저장된 데이터 모델을 선택할 수 있으며, 검색범 위를 축소하기 위해 데이터 모델의 컬럼을 선택하고, 검색 시간범위를 지정할 수 있고, 검색 질의어를 통해 검 색 조건을 입력하여 검색할 수 있다. 여기서 데이터 모델은 도 4와 같이 적재된 분석대상 HDFS 파일이나 RDBMS에 저장된 데이터를 연결하여 만들 수 있으며, 기존 생성한 데이터 모델은 저장 관리하여 도 5에 도시된 계량 데이터 검색 화면에서 리스트로 나타낼 수 있다. 새로운 데이터 모델을 생성하기 위해서는 먼저 검색하고자 하는 데이터 모델과 검색 기간을 설정하고, 검색조건 에서 검색어는 직접 입력하거나 추천 기능의 도움을 받아 입력할 수 있다. 온라인 질의모듈은 검색어 입력란에 검색어가 입력되면 이에 맞추어 검색어 추천창을 표시하여 입력한 내용 에 따라 이전 검색 이력을 보여주고, 명령어가 입력되었다면 그 명령어의 간략한 설명과 문법, 예시 등을 보여 줄 수 있다. 이때 검색어 문법이나 명령어를 작성하는 방법의 편의성을 위해 Command Syntax 도움말을 제공할 수 있다. 이전 검색 이력은 키보드 위, 아래 키나 마우스 클릭으로 선택할 수 있으며, 선택하면 바로 입력란에 이전 검색 내용 이 입력되고, 검색어 추천 창이 자동으로 나타나는 것을 원하지 않는다면 검색어 추천 버튼을 클릭하여 off 상 태로 설정할 수 있다. 여기서 검색 질의어는 SQL(Structured Query Language)과 같이 where 조건절 및 연산자를 통해 데이터 필터링 이 가능하고 통계함수, 그룹함수, 정렬함수 등을 사용할 수 있다. 검색결과는 도 5에 도시된 바와 같이 검색 조건에 따라 이벤트, 통계, 시각화 등 3개의 탭으로 구분되며, 이벤 트 탭은 모든 검색 시 이벤트 리스트가 기본적으로 출력되는 탭이며, 통계 탭과 시각화 탭은 검색 바에 stats, pivot 등 통계 결과를 얻는 명령어를 사용하여 검색할 경우에만 표시될 수 있다. 좌측의 데이터 모델 컬럼에서 기본적으로 선택한 데이터 모델의 필드 정보를 표시할 수 있고, 검색 화면에서는 결과 이벤트 그리드의 열을 제어하는 역할과 검색 결과에 대한 필드의 통계성 정보를 추가로 제공할 수 있다. 또한, 필드 목록에서 각 필드 항목에 있는 체크박스를 이용하여 이벤트 탭의 검색 결과 그리드의 동일한 이름의 열을 표기하거나 숨길 수 있고, 데이터 개수 버튼이 on 상태일 경우, 검색 수행 시 모든 필드에 대해 distinct count 정보를 불러올 수 있다. 또한, 특정 필드를 선택했을 경우에는 필드 통계 정보 창이 팝업되면서 검색 결과 내에서 해당 어떤 종류의 값 이 어떤 분포를 나타내고 있는지 상위 10개 값에 대한 상세한 정보를 서버로부터 불러와 표시할 수 있다. 데이터 탭에서는 기본적인 검색 결과에 대한 정보를 표시하고, 타임라인 그래프에서는 각 시간대별로 몇 건의 데이터가 있는지 막대 그래프로 나타내며, 검색결과 그리드에서는 데이터의 일부분을 그리드 뷰 형태로 출력할 수 있다. 통계 탭에서는 stats, pivot 등의 명령어 결과를 그리드 뷰로 보여주며, 시각화 탭에서는 이 결과를 차트로 표 현할 수 있고, 차트 유형을 변경하여 같은 데이터를 꺾은선형, 막대형, 원형 등의 다른 차트로 살펴보거나, 옵 션 다이얼로그를 통해 x/y 축 레이블, 데이터 값 표시 여부 등 차트의 스타일을 변경할 수 있으며, 타임라인 차 트를 통해 시간이 지남에 따라 발생되는 이벤트의 변화를 확인할 수 있다. 특히, 이벤트의 수가 급격하게 증가하거나 감소하게 하는 비정상적인 상황을 쉽게 인지할 수 있어, 이러한 비정 상 상황에 대하여 상세 분석이 필요한 경우, 특정 막대를 클릭하거나 영역을 드래그로 지정한 후, 지정한 시간 범위를 기준으로 검색을 다시 수행할 수 있다. 또한, 온라인 질의모듈은 사용자 단말기를 통해 분석가가 검색 결과의 각 필드를 행, 열, 값 등으로 적 절히 조합함으로써, 원하는 분석 결과를 쉽고 빠르게 도출하기 위한 피벗분석 기능을 도 6에 도시된 바와 같은 피벗 분석 화면을 통해 제공할 수 있다. 여기서 온라인 질의모듈은 피벗분석을 위해 데이터 모델을 선택하고 필터를 추가하여 피벗 실행의 대상이 되는 범위를 설정할 수 있다. 즉, 사용자는 특정 필드의 값의 범위를 설정함으로써, 피벗 실행의 대상이 되는 데이터를 제한할 수 있다. 도 6에 도시된 바와 같이 피벗 설정의 상단에서 필터 설정을 이용하여 특정 필드의 데이터를 제한적으로 분석할 수 있으며, 필드의 속성이 문자형이나 숫자형에 따라 적용 가능한 연산자를 사용할 수 있다. 예를 들어, 계량 데이터 중에서 LP(Load Profile)의 구간 검침값이 1kW 이상인 값으로 설정하거나, 정전데이터 에서 복전시간이 수신되지 않은 데이터만 필터를 설정할 수 있다. 또한, 온라인 질의모듈은 시각화를 위해 사용자 단말기에서 웹기반으로 사용자가 분석 유형을 선택하고, 데 이터 모델을 선택하며, 분석 컬럼을 지정하여 실행함으로써, 검색 결과의 각 필드, 행, 열 등을 GUI 화면상으로 원하는 분석 결과를 쉽고 빠르게 도출하기 위하여 피벗과는 달리 시각화에 중점을 두어 차트에 최적화된 직관적 인 사용자 인터페이스를 도 7에 도시된 바와 같이 제공할 수 있다. 즉, Line Plot, Scatter Plot, Bar Chart, Pie Chart, Histogram, Sankey Chart, Heatmap 등 다양한 차트 설 정 및 시각화 옵션을 제공할 수 있다. 전문 클라이언트 분석모듈은 도 8에 도시된 바와 같이 스크립트 제공부, 프록시 서버, 인증서버 및 API 제공부를 포함할 수 있다. 스크립트 제공부는 웹기반으로 MDMS 시스템에 개발자 단말기를 접속하여 R 패키지를 관리하고 스 크립트를 다운로드 받도록 스크립트 템플릿을 제공할 수 있다. 개발자 단말기의 클라이언트 PC 환경에서 고급 분석 및 시각화하는 프로세스는 도 9에 도시된 바와 같이 MDMS 시스템에 웹기반으로 접속하여 공유되는 R 클라이언트, R 패키지를 다운로드 받아 설치하고, R 스튜디 오를 실행하여 R 샘플 스크립트를 Load한 다음 분석하고자 하는 목적에 따라 R 스크립트를 수정하여 R 스크립트 를 실행함으로써 시각화 및 분석이 가능하도록 한다. 프록시(Proxy) 서버는 MDMS 시스템의 NFS 게이트웨이와 접속되어 HDFS에 적재된 파일을 네트워크 파일 시스템(NFS) 프로토콜로 서버 호스트에 파일공유 서비스를 제공하여 개발자 단말기에서 MDMS 시스템의 HDFS 파일을 다운로드하거나 계량 데이터를 조회할 수 있도록 지원할 수 있다. 인증서버는 Keycloak로 구성되어 MDMS 시스템과 SSO(Single Sign-On)를 처리하여 개발자 단말기 의 접속을 인증할 수 있다. API 제공부는 R API를 인증하여 하둡파일에 접근하여 다운로드하고 메타데이터를 조회하며 계량 데이터를 질의하는 API를 제공할 수 있다. 전문가 분석을 위한 API 목록은 도 10에 예시된 바와 같이 로그인, 인증처리, 계량 데이터 다운로드, 계량 데이 터 제공 Meta정보, 계량 데이터 질의, 시계열 데이터 분석을 위한 LP 데이터 로딩, 전처리코드, 탐색적 분석코드, 이상치 및 결측 보정, 분석 코드 등의 API를 제공할 수 있다. 따라서 개발자 단말기를 통해 API를 이용하여 MDMS 시스템의 HDFS에 인증보안이 적용된 방식으로 손쉽 게 접근하여 분석을 수행할 수 있다. 예를 들어, API 중에서 Hadoop Access 및 HDFS 파일 다운로드 API에 대해 보다 구체적으로 설명하면 도 11에 도 시된 바와 같이 Web API 및 Keycloadk 인증서버를 통해 인증을 수행한 다음 프록시 서버와 NFS Gateway를 통해 서비스를 제공할 수 있다. 여기서, NFS Gateway는 MDMS 시스템의 Hadoop Cluster에 위치하며 HDFS 파일 시스템을 리눅스 서버 파일 시스템으로 탑재(mount)하고, MDA.loadData API는 내부적으로 MDMS SSO처리를 하여 인증토큰을 체크할 수 있다. 또한, 대량의 데이터를 한 번에 조회하는 것을 제한하기 위해 계량 데이터 테이블로 제한 기간을 관리하며, 해 당 기간을 초과해서 다운로드 요청하면 에러 메시지를 출력할 수 있다. 프록시(Proxy) 서버는 NFS Gateway를 통해 MDMS 시스템에 접속되고, HDFS 파일시스템을 다운로드 할 때는 NFS Gateway의 sftp 기능을 활용해서 다운로드 처리할 수 있다. 또한, 사용자별 다운로드 정보는 Web API를 통해서 MDMS 시스템의 RDB에 로그를 기록하고, 다운로드된 CSV 형태의 HDFS 파일은 별도 뷰어를 통해서 파일을 확인할 수 있으며, R 클라이언트 CSV API를 사용해서 PC 메모리 에 로딩한 후에 분석 및 시각화를 진행할 수 있다. 개발자 단말기는 이와 같이 다운로드된 계량 데이터에 대해 분석 스크립트를 이용해서 이상치 및 결측치를 보정할 수 있다. 연계모듈은 MDMS 시스템의 하둡 클러스터에서 계량 데이터 제공에 대한 목록, 이력조회 설정 중 어느 하나 이상을 웹기반으로 운영자 단말기에서 관리하고 제공할 수 있다. MDMS 시스템에 저장되어 있는 대규모/대용량의 AMI 계량 데이터를 필요로 하는 Legacy 시스템에 데이터 항 목과 연계 시스템 정보를 설정하여 자동 연계하거나 클라이언트 PC로 다운로드기능을 제공할 수 있다. 여기서 계량 데이터 제공에 대한 목록, 이력조회, 설정 등 관리하는 기능을 이용하여 스파크 클러스터에서 배치 (Batch) 작업을 통해 설정내용을 로드하여 하둡 클러스터의 Hive에 접속하여 계량 데이터 조회 Query를 생성하 여 실행하면 계량 데이터를 선택할 수 있다. 스파크 클러스터에서 Query 조건에 따라 추출된 계량 데이터 Dataset을 Legacy 시스템에 전달하고, 하둡 클러스터에도 저장한 다음 제공결과를 저장하여 제공이력을 관리할 수 있다. 상술한 바와 같이, 본 발명의 실시예에 의한 AMI 계량 데이터 분석 장치에 따르면, 지능형 전력계량 인프라를 통해 수집한 AMI 계량 데이터를 직접 분석할 수 있도록 WEB 환경의 온라인 질의형 분석도구와 전문가용 전용 분 석환경 및 타 시스템과 연계하여 데이터를 제공할 수 있어, 사용자는 MDMS 시스템에 저장된 장기 이력 데이터의 하둡 빅데이터를 Web 환경에서 접속 및 질의, 피벗 분석 및 다양한 시각화 방법을 제공하여 별도 코딩 없이도 계량 빅데이터를 분석 가능하고, 개발자등 분석가는 전용 분석환경 및 API 제공으로 손쉽게 계량 빅데이터 접근 및 분석할 수 있도록 한다. 본 명세서에서 설명된 구현은, 예컨대, 방법 또는 프로세스, 장치, 소프트웨어 프로그램, 데이터 스트림 또는 신호로 구현될 수 있다. 단일 형태의 구현의 맥락에서만 논의(예컨대, 방법으로서만 논의)되었더라도, 논의된 특징의 구현은 또한 다른 형태(예컨대, 장치 또는 프로그램)로도 구현될 수 있다. 장치는 적절한 하드웨어, 소 프트웨어 및 펌웨어 등으로 구현될 수 있다. 방법은, 예컨대, 컴퓨터, 마이크로프로세서, 집적 회로 또는 프로 그래밍 가능한 로직 디바이스 등을 포함하는 프로세싱 디바이스를 일반적으로 지칭하는 프로세서 등과 같은 장 치에서 구현될 수 있다. 프로세서는 또한 최종-사용자 사이에 정보의 통신을 용이하게 하는 컴퓨터, 셀 폰, 휴 대용/개인용 정보 단말기(personal digital assistant: \"PDA\") 및 다른 디바이스 등과 같은 통신 디바이스를 포함한다. 본 발명은 도면에 도시된 실시예를 참고로 하여 설명되었으나, 이는 예시적인 것에 불과하며, 당해 기술이 속하 는 분야에서 통상의 지식을 가진 자라면 이로부터 다양한 변형 및 균등한 타 실시예가 가능하다는 점을 이해할 것이다. 따라서 본 발명의 진정한 기술적 보호범위는 아래의 청구범위에 의해서 정하여져야 할 것이다. 부호의 설명 10 : MDMS 시스템 20 : AMI 계량 데이터 분석 장치 21 : 온라인 질의모듈 23 : OLAP 스파크 클러스터 25 : 전문 클라이언트 분석모듈 27 : 연계모듈 30 : 사용자 단말기 40 : 개발자 단말기 50 : 운영자 단말기 210 : 소형 관계 DB 212 : 데이터 모델 관리부 214 : 계량 데이터 조회부 216 : 분석 시각화부 218 : 환경 설정부 250 : 스크립트 제공부 252 : 프록시 서버 254 : 인증서버 256 : API 제공부도면 도면1 도면2 도면3 도면4 도면5 도면6 도면7 도면8 도면9 도면10 도면11"}
{"patent_id": "10-2020-0122331", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 AMI 계량 데이터 분석 장치를 나타낸 블록 구성도이다. 도 2는 본 발명의 일 실시예에 따른 AMI 계량 데이터 분석 장치의 온라인 질의모듈을 구체적으로 나타낸 블록 구성도이다. 도 3은 본 발명의 일 실시예에 따른 AMI 계량 데이터 분석 장치의 온라인 질의모듈의 작동을 설명하기 위한 흐 름도이다. 도 4는 본 발명의 일 실시예에 따른 AMI 계량 데이터 분석 장치에서 분석대상 적재를 위한 HDFS 디렉토리 구조 를 나타낸 예시도이다. 도 5는 본 발명의 일 실시예에 따른 AMI 계량 데이터 분석 장치에서 계량 데이터의 검색 화면을 나타낸 예시도 이다. 도 6은 본 발명의 일 실시예에 따른 AMI 계량 데이터 분석 장치에서 피벗 분석 화면을 나타낸 예시도이다. 도 7은 본 발명의 일 실시예에 따른 AMI 계량 데이터 분석 장치에서 차트 분석화면을 나타낸 예시도이다. 도 8은 본 발명의 일 실시예에 따른 AMI 계량 데이터 분석 장치의 전문 클라이언트 분석모듈을 구체적으로 나타 낸 블록 구성도이다. 도 9는 본 발명의 일 실시예에 따른 AMI 계량 데이터 분석 장치의 전문 클라이언트 분석모듈의 실행 프로세스를 나타낸 구성도이다. 도 10은 본 발명의 일 실시예에 따른 AMI 계량 데이터 분석 장치의 전문 클라이언트 분석모듈에서 제공하는 API 목록이다. 도 11은 본 발명의 일 실시예에 따른 AMI 계량 데이터 분석 장치의 전문 클라이언트 분석모듈에서 HDFS 접근 및 파일 다운로드 과정을 설명하기 위한 도면이다."}
