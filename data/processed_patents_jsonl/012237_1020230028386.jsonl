{"patent_id": "10-2023-0028386", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0131780", "출원번호": "10-2023-0028386", "발명의 명칭": "내시경 영상 분석 AI 모델을 이용한 소화관 내시경 영상 분석 장치 및 방법", "출원인": "주식회사 웨이센", "발명자": "금지수"}}
{"patent_id": "10-2023-0028386", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "외부의 의료영상장치로부터 제공된 소화관의 내시경 영상 프레임을 수신하는통신부;AI 예측 모델을 로딩 및 내시경 영상 분석과 관련된 변수를 초기화하고, 내시경 영상 분석 여부를 판별하여, 내시경 영상 분석이면 상기 통신부를 통해 수신한 소화관의 내시경 영상 프레임에 대해 타겟 및 논-타겟을 각각예측하며, 예측된 타겟 및 논-타겟에 대해 각각 타겟 검출과 논-타겟 검출 여부를 판별하고, 타겟과 논-타겟이각각 검출되었으면, 타겟 예측 모델 및 논-타겟 예측 모델의 활성화 영역을 각각 추출하며, 추출된 타겟 예측모델 및 논-타겟 예측 모델의 각 활성화 영역을 각각 이진화하고, 타겟 검출 프레임 수와 논-타겟 검출 프레임수를 각각 누적하며, 상기 누적된 타겟 검출 프레임 수()가 타겟 검출 프레임 수 임계값() 이상인지와,상기 누적된 논-타겟 검출 프레임 수()가 논-타겟 검출 프레임 수 임계값() 이상인지를 판별하고, 상기누적된 타겟 검출 프레임 수()가 타겟 검출 프레임 수 임계값() 이상이고, 상기 누적된 논-타겟 검출 프레임 수()가 논-타겟 검출 프레임 수 임계값() 이상이 아니면, 내시경 영상에 타겟의 외곽선을 드로잉하여 디스플레이부를 통해 표시하며, 상기 누적된 논-타겟 검출 프레임 수()가 논-타겟 검출 프레임 수 임계값() 이상이면, 논-타겟 필터링 여부를 판별하여 논-타겟 필터링인 경우, 타겟 및 논-타겟 CC(connectedcomponent)를 추출하여 논-타겟과 겹치는 타겟 CC를 삭제하고, 내시경 영상에 논-타겟과 겹치지 않는 타겟의 외곽선을 드로잉하여 디스플레이부를 통해 표시하는 제어부;상기 통신부를 통해 수신된 외부의 의료영상장치로부터 제공된 소화관의 내시경 영상 프레임 데이터와, 상기 타겟 모델 및 논-타겟 모델의 학습을 위한 데이터와, 상기 제어부에서의 내시경 영상 분석과 관련된 필요한 데이터 및 정보와, 시스템 운용을 위한 각종 앱(application)이 저장되는 데이터베이스; 및상기 제어부에서의 내시경 영상 분석에 따른 다양한 영상을 화면에 표시하는 디스플레이부를 포함하는 내시경영상 분석 AI 모델을 이용한 소화관 내시경 영상 분석 장치."}
{"patent_id": "10-2023-0028386", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 제어부의 내부에는,상기 통신부를 통해 수신한 소화관의 내시경 영상 프레임에 대해 타겟을 예측하는 타겟 예측 모델과 논-타겟을예측하는 논-타겟 예측 모델을 구비하는 AI 예측 모델; 및상기 AI 예측 모델에 의해 예측된 타겟 및 논-타겟에 대해 각각 타겟 검출과 논-타겟 검출 여부를 판별하고, 타겟과 논-타겟이 각각 검출되었으면, 타겟 예측 모델 및 논-타겟 예측 모델의 활성화 영역을 각각 추출하며, 추출된 타겟 예측 모델 및 논-타겟 예측 모델의 각 활성화 영역을 각각 이진화하고, 타겟 검출 프레임 수와 논-타겟 검출 프레임 수를 각각 누적하며, 상기 누적된 타겟 검출 프레임 수()가 타겟 검출 프레임 수 임계값() 이상인지와, 상기 누적된 논-타겟 검출 프레임 수()가 논-타겟 검출 프레임 수 임계값() 이상인지를 판별하고, 상기 누적된 논-타겟 검출 프레임 수()가 논-타겟 검출 프레임 수 임계값() 이상이면,논-타겟 필터링 여부를 판별하여 논-타겟 필터링인 경우, 타겟 및 논-타겟 CC(connected component)를 추출하여공개특허 10-2023-0131780-3-논-타겟과 겹치는 타겟 CC를 삭제하는 예측 결과 처리 모듈이 탑재되어 있는 것을 특징으로 하는 내시경 영상분석 AI 모델을 이용한 소화관 내시경 영상 분석 장치."}
{"patent_id": "10-2023-0028386", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 예측 결과 처리 모듈은 상기 누적된 타겟 검출 프레임 수()가 타겟 검출 프레임 수 임계값() 이상이 아니거나, 논-타겟 필터링 여부를 판별하여 논-타겟 필터링이 아닌 경우, 상기 초기화 이후 내시경 영상 분석 여부를 판별하는 프로세스로 프로세스 진행을 회귀시키는 것을 특징으로 하는 내시경 영상 분석 AI 모델을이용한 소화관 내시경 영상 분석 장치."}
{"patent_id": "10-2023-0028386", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제2항에 있어서,상기 AI 예측 모델은 외부의 의료영상장치로부터 내시경 영상을 입력받는 입력층과, 입력층을 통해 입력된 내시경 영상을 다수의 특징 맵으로 중첩하는 복수의 컨볼루션 블록으로 구성되는 컨볼루션층과, 컨볼루션층에 의해다수의 특징 맵으로 중첩된 각 내시경 영상의 평균을 구하고, 전체 영역에 걸쳐 각 평균을 통합하는 전역평균풀링층 및 전역평균풀링층에 의해 전체 영역에 걸쳐 각 평균이 통합된 영상 중 학습 데이터 영상과 유사한 영상들을 출력하는 출력층으로 구성된 것을 특징으로 하는 내시경 영상 분석 AI 모델을 이용한 소화관 내시경 영상 분석 장치."}
{"patent_id": "10-2023-0028386", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서,상기 제어부는 내시경 영상에 타겟의 외곽선을 드로잉하여 디스플레이부를 통해 표시한 후, 상기 초기화 이후내시경 영상 분석 여부를 판별하는 프로세스로 프로세스 진행을 회귀시키는 것을 특징으로 하는 내시경 영상 분석 AI 모델을 이용한 소화관 내시경 영상 분석 장치."}
{"patent_id": "10-2023-0028386", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에 있어서,상기 제어부는 내시경 영상에 논-타겟과 겹치지 않는 타겟의 외곽선을 드로잉하여 디스플레이부를 통해 표시한후, 상기 초기화 이후 내시경 영상 분석 여부를 판별하는 프로세스로 프로세스 진행을 회귀시키는 것을 특징으로 하는 내시경 영상 분석 AI 모델을 이용한 소화관 내시경 영상 분석 장치."}
{"patent_id": "10-2023-0028386", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "a) 제어부가 AI 예측 모델을 로딩 및 내시경 영상 분석과 관련된 변수를 초기화하는 단계;b) 제어부가 내시경 영상 분석 여부를 판별하여, 내시경 영상 분석이면 외부의 의료영상장치로부터 제공된 소화관의 내시경 영상 프레임을 통신부를 통해 읽어 들이는 단계;c) AI 예측 모델의 타겟(target) 예측 모델과 논-타겟(non-target) 예측 모델이 상기 읽어 들인 내시경 영상 프레임에 대해 타겟 및 논-타겟을 각각 예측하는 단계;d) 예측 결과 처리 모듈이 상기 타겟 예측 모델 및 논-타겟 예측 모델에 의해 각각 예측된 타겟 및 논-타겟에대해 각각 타겟 검출과 논-타겟 검출 여부를 판별하는 단계;e) 상기 단계 d)의 판별에서, 타겟과 논-타겟이 각각 검출되었으면, 상기 예측 결과 처리 모듈이 타겟 예측 모공개특허 10-2023-0131780-4-델 및 논-타겟 예측 모델의 활성화 영역을 각각 추출하는 단계;f) 상기 예측 결과 처리 모듈이 추출된 타겟 예측 모델 및 논-타겟 예측 모델의 각 활성화 영역을 각각 이진화하는 단계;g) 상기 예측 결과 처리 모듈이 타겟 검출 프레임 수와 논-타겟 검출 프레임 수를 각각 누적하는 단계;h) 상기 예측 결과 처리 모듈이 상기 누적된 타겟 검출 프레임 수()가 타겟 검출 프레임 수 임계값()이상인지와, 상기 누적된 논-타겟 검출 프레임 수()가 논-타겟 검출 프레임 수 임계값() 이상인지를 판별하는 단계;i) 상기 단계 h)의 판별에서, 상기 누적된 타겟 검출 프레임 수()가 타겟 검출 프레임 수 임계값() 이상이고, 상기 누적된 논-타겟 검출 프레임 수()가 논-타겟 검출 프레임 수 임계값() 이상이 아니면, 상기 제어부가 내시경 영상에 타겟의 외곽선을 드로잉하여 디스플레이부를 통해 표시하는 단계;j) 상기 단계 h)의 판별에서, 상기 누적된 타겟 검출 프레임 수()가 타겟 검출 프레임 수 임계값() 이상이고, 상기 누적된 논-타겟 검출 프레임 수()가 논-타겟 검출 프레임 수 임계값() 이상이면, 상기 예측 결과 처리 모듈이 논-타겟 필터링 여부를 판별하는 단계;k) 상기 단계 j)의 판별에서 논-타겟 필터링인 경우, 상기 예측 결과 처리 모듈이 타겟 및 논-타겟CC(connected component)를 추출하여 논-타겟과 겹치는 타겟 CC를 삭제하는 단계; 및l) 상기 제어부가 내시경 영상에 논-타겟과 겹치지 않는 타겟의 외곽선을 드로잉하여 디스플레이부를 통해 표시하는 단계를 포함하는 내시경 영상 분석 AI 모델을 이용한 소화관 내시경 영상 분석 방법."}
{"patent_id": "10-2023-0028386", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7항에 있어서,상기 단계 h)의 판별에서, 상기 누적된 타겟 검출 프레임 수()가 타겟 검출 프레임 수 임계값() 이상이아니거나, 상기 단계 j)의 판별에서 논-타겟 필터링이 아니면, 상기 예측 결과 처리 모듈이 프로세스 진행을 각각 상기 단계 b)로 회귀시키는 단계를 더 포함하는 내시경 영상 분석 AI 모델을 이용한 소화관 내시경 영상 분석 방법."}
{"patent_id": "10-2023-0028386", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제7항에 있어서,상기 단계 i)에서 상기 제어부가 내시경 영상에 타겟의 외곽선을 드로잉하여 디스플레이부를 통해 표시한 후,프로세스 진행을 상기 단계 b)로 회귀시키는 단계를 더 포함하는 내시경 영상 분석 AI 모델을 이용한 소화관 내시경 영상 분석 방법."}
{"patent_id": "10-2023-0028386", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제7항에 있어서,상기 단계 l)에서 상기 제어부가 내시경 영상에 논-타겟과 겹치지 않는 타겟의 외곽선을 드로잉하여 디스플레이부를 통해 표시한 후, 프로세스 진행을 상기 단계 b)로 회귀시키는 단계를 더 포함하는 내시경 영상 분석 AI 모공개특허 10-2023-0131780-5-델을 이용한 소화관 내시경 영상 분석 방법."}
{"patent_id": "10-2023-0028386", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 내시경 영상 분석 AI 모델을 이용한 소화관 내시경 영상 분석 장치 및 방법에 관한 것이다. 본 발명에 따른 내시경 영상 분석 AI 모델을 이용한 소화관 내시경 영상 분석 방법은, AI 예측 모델을 로딩 및 내시경 영상 분석과 관련된 변수를 초기화한 후, 외부의 의료영상장치로부터 제공된 소화관의 내시경 영상 프레임을 읽어 들 (뒷면에 계속)"}
{"patent_id": "10-2023-0028386", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 소화관 내시경 영상 분석 장치 및 방법에 관한 것으로서, 더 상세하게는 내시경 영상 분석 AI(Artificial Intelligence) 모델을 이용한 내시경 영상 분석 과정에서 분석 대상으로 확인된 대상에 대해서는 지속적으로 대상을 지시하지 않도록 함으로써, 검사자의 피로도를 줄일 수 있는 내시경 영상 분석 AI 모델을 이 용한 소화관 내시경 영상 분석 장치 및 방법에 관한 것이다."}
{"patent_id": "10-2023-0028386", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "소화관 내시경 영상 분석 과정에서 시술을 통한 생체(조직) 검사(biopsy)나 절제(resection)는 폴립(polyp), 암 (cancer)과 같은 의심이 가는 병변(lesion)을 제거하거나 조직검사 대상이 발견되었을 때, 검사자(또는 시술 자)에 의해 진행된다. 소화관 내시경 영상 분석에서의 분석 대상은 영상 분석 AI 모델에 의해 발견될 수도 있고, 검사자에 의해 발견 될 수도 있다. 이때, 발견된 분석 대상은 AI 모델에 의해 영상 속에 그 분석 대상이 존재하는 동안에는 계속하 여 영역을 지시하고 있어서, 이미 분석 대상으로 확인된 대상이라면 검사자의 입장에서는 시술이 끝날 때까지 시각적 피로감의 원인이 될 수 있다. 따라서, AI 모델로 분석 대상을 발견하되 시술을 진행하는 상황이나, 시술에 의한 출혈과 같은 경우에는 사용자 설정에 의해 AI 모델에서 영역을 지시하지 않도록 함으로써, 검사자의 피로감을 줄일 필요가 있다. 한편, 한국 등록특허공보 제10-2388535호(특허문헌 1)에는 \"인공지능에 기반하여 내시경 영상을 분석하기 위한 방법 및 장치\"가 개시되어 있는 바, 이에 따른 내시경 영상을 분석하는 서버의 동작 방법은, 내시경 장비를 통 해 촬영된 제1 영상 프레임이 임계 수준 이상의 선명도를 가지는지 여부를 판단하는 단계; 상기 임계 수준 이상 의 선명도를 가지면, 제1 인공지능 모델을 이용하여 상기 제1 영상 프레임에서 용종의 영역을 판단하는 단계; 상기 영역에 포함되는 대상이 용종이 아닌 다른 대상인지 여부를 확인하는 단계; 상기 영역에 포함되는 대상이 용종이면, 제2 인공지능 모델을 이용하여 상기 용종의 유형을 분류하는 단계; 및 상기 영역의 위치 및 크기, 상 기 용종의 유형에 대한 정보 중 적어도 하나를 포함하는 분석 결과를 송신하는 단계를 포함하고, 상기 제1 인공 지능 모델 및 상기 제2 인공지능 모델은 상이한 인공지능 모델이고, 상기 영역은, 사각형 모양의 바운딩 박스에 의해 지시되는 것을 특징으로 한다. 이상과 같은 특허문헌 1의 경우, 제1 인공지능 모델을 이용하여 제1 영상 프레임에서 용종의 영역을 판단하고, 제2 인공지능 모델을 이용하여 용종의 유형을 분류함으로써, 내시경 영상에서 실시간으로 용종을 검출할 수 있 는 효과가 있기는 하나, 제1 인공지능 모델을 이용하여 용종의 영역을 판단하고, 제2 인공지능 모델을 이용하여 용종의 유형을 분류하기까지 용종의 영역을 지속적으로 바운딩 박스에 의해 지시하는 메커니즘으로 되어 있어, 필연적으로 검사자의 시각적 피로감이 수반될 수밖에 없다. 그러나 이러한 문제에 대해서는 고려하고 있지 않다. 선행기술문헌 특허문헌 (특허문헌 0001) 한국 등록특허공보 제10-2388535호(2022.04.22. 공고)"}
{"patent_id": "10-2023-0028386", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 이상과 같은 사항을 종합적으로 감안하여 창출된 것으로서, 내시경 영상 분석 AI 모델을 이용한 내시 경 영상 분석 과정에서 분석 대상으로 확인된 대상에 대해서는 지속적으로 대상을 지시하지 않도록 함으로써,검사자의 피로도를 줄일 수 있는 내시경 영상 분석 AI 모델을 이용한 소화관 내시경 영상 분석 장치 및 방법을 제공함에 그 목적이 있다."}
{"patent_id": "10-2023-0028386", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기의 목적을 달성하기 위하여 본 발명에 따른 내시경 영상 분석 AI 모델을 이용한 소화관 내시경 영상 분석 장치는, 외부의 의료영상장치로부터 제공된 소화관의 내시경 영상 프레임을 수신하는통신부; AI 예측 모델을 로딩 및 내시경 영상 분석과 관련된 변수를 초기화하고, 내시경 영상 분석 여부를 판별하여, 내 시경 영상 분석이면 상기 통신부를 통해 수신한 소화관의 내시경 영상 프레임에 대해 타겟 및 논-타겟을 각각 예측하며, 예측된 타겟 및 논-타겟에 대해 각각 타겟 검출과 논-타겟 검출 여부를 판별하고, 타겟과 논-타겟이 각각 검출되었으면, 타겟 예측 모델 및 논-타겟 예측 모델의 활성화 영역을 각각 추출하며, 추출된 타겟 예측 모델 및 논-타겟 예측 모델의 각 활성화 영역을 각각 이진화하고, 타겟 검출 프레임 수와 논-타겟 검출 프레임 수를 각각 누적하며, 상기 누적된 타겟 검출 프레임 수()가 타겟 검출 프레임 수 임계값() 이상인지와, 상기 누적된 논-타겟 검출 프레임 수()가 논-타겟 검출 프레임 수 임계값() 이상인지를 판별하고, 상기 누적된 타겟 검출 프레임 수()가 타겟 검출 프레임 수 임계값() 이상이고, 상기 누적된 논-타겟 검출 프 레임 수()가 논-타겟 검출 프레임 수 임계값() 이상이 아니면, 내시경 영상에 타겟의 외곽선을 드로잉 하여 디스플레이부를 통해 표시하며, 상기 누적된 논-타겟 검출 프레임 수()가 논-타겟 검출 프레임 수 임계 값() 이상이면, 논-타겟 필터링 여부를 판별하여 논-타겟 필터링인 경우, 타겟 및 논-타겟 CC(connected component)를 추출하여 논-타겟과 겹치는 타겟 CC를 삭제하고, 내시경 영상에 논-타겟과 겹치지 않는 타겟의 외 곽선을 드로잉하여 디스플레이부를 통해 표시하는 제어부; 상기 통신부를 통해 수신된 외부의 의료영상장치로부터 제공된 소화관의 내시경 영상 프레임 데이터와, 상기 타 겟 모델 및 논-타겟 모델의 학습을 위한 데이터와, 상기 제어부에서의 내시경 영상 분석과 관련된 필요한 데이 터 및 정보와, 시스템 운용을 위한 각종 앱(application)이 저장되는 데이터베이스; 및 상기 제어부에서의 내시경 영상 분석에 따른 다양한 영상을 화면에 표시하는 디스플레이부를 포함하는 점에 그 특징이 있다. 여기서, 상기 제어부의 내부에는, 상기 통신부를 통해 수신한 소화관의 내시경 영상 프레임에 대해 타겟을 예측하는 타겟 예측 모델과 논-타겟을 예측하는 논-타겟 예측 모델을 구비하는 AI 예측 모델; 및 상기 AI 예측 모델에 의해 예측된 타겟 및 논-타겟에 대해 각각 타겟 검출과 논-타겟 검출 여부를 판별하고, 타 겟과 논-타겟이 각각 검출되었으면, 타겟 예측 모델 및 논-타겟 예측 모델의 활성화 영역을 각각 추출하며, 추 출된 타겟 예측 모델 및 논-타겟 예측 모델의 각 활성화 영역을 각각 이진화하고, 타겟 검출 프레임 수와 논-타 겟 검출 프레임 수를 각각 누적하며, 상기 누적된 타겟 검출 프레임 수()가 타겟 검출 프레임 수 임계값 () 이상인지와, 상기 누적된 논-타겟 검출 프레임 수()가 논-타겟 검출 프레임 수 임계값() 이상인 지를 판별하고, 상기 누적된 논-타겟 검출 프레임 수()가 논-타겟 검출 프레임 수 임계값() 이상이면, 논-타겟 필터링 여부를 판별하여 논-타겟 필터링인 경우, 타겟 및 논-타겟 CC(connected component)를 추출하여 논-타겟과 겹치는 타겟 CC를 삭제하는 예측 결과 처리 모듈이 탑재될 수 있다. 이때, 상기 예측 결과 처리 모듈은 상기 누적된 타겟 검출 프레임 수()가 타겟 검출 프레임 수 임계값() 이상이 아니거나, 논-타겟 필터링 여부를 판별하여 논-타겟 필터링이 아닌 경우, 상기 초기화 이후 내시경 영상 분석 여부를 판별하는 프로세스로 프로세스 진행을 회귀시킬 수 있다. 또한, 상기 AI 예측 모델은 외부의 의료영상장치로부터 내시경 영상을 입력받는 입력층과, 입력층을 통해 입력 된 내시경 영상을 다수의 특징 맵으로 중첩하는 복수의 컨볼루션 블록으로 구성되는 컨볼루션층과, 컨볼루션층 에 의해 다수의 특징 맵으로 중첩된 각 내시경 영상의 평균을 구하고, 전체 영역에 걸쳐 각 평균을 통합하는 전 역평균풀링층 및 전역평균풀링층에 의해 전체 영역에 걸쳐 각 평균이 통합된 영상 중 학습 데이터 영상과 유사 한 영상들을 출력하는 출력층으로 구성될 수 있다. 또한, 상기 제어부는 내시경 영상에 타겟의 외곽선을 드로잉하여 디스플레이부를 통해 표시한 후, 상기 초기화 이후 내시경 영상 분석 여부를 판별하는 프로세스로 프로세스 진행을 회귀시킬 수 있다. 또한, 상기 제어부는 내시경 영상에 논-타겟과 겹치지 않는 타겟의 외곽선을 드로잉하여 디스플레이부를 통해 표시한 후, 상기 초기화 이후 내시경 영상 분석 여부를 판별하는 프로세스로 프로세스 진행을 회귀시킬 수 있다. 또한, 상기의 목적을 달성하기 위하여 본 발명에 따른 내시경 영상 분석 AI 모델을 이용한 소화관 내시경 영상 분석 방법은, a) 제어부가 AI 예측 모델을 로딩 및 내시경 영상 분석과 관련된 변수를 초기화하는 단계; b) 제어부가 내시경 영상 분석 여부를 판별하여, 내시경 영상 분석이면 외부의 의료영상장치로부터 제공된 소화 관의 내시경 영상 프레임을 통신부를 통해 읽어 들이는 단계; c) AI 예측 모델의 타겟(target) 예측 모델과 논-타겟(non-target) 예측 모델이 상기 읽어 들인 내시경 영상 프 레임에 대해 타겟 및 논-타겟을 각각 예측하는 단계; d) 예측 결과 처리 모듈이 상기 타겟 예측 모델 및 논-타겟 예측 모델에 의해 각각 예측된 타겟 및 논-타겟에 대해 각각 타겟 검출과 논-타겟 검출 여부를 판별하는 단계; e) 상기 단계 d)의 판별에서, 타겟과 논-타겟이 각각 검출되었으면, 상기 예측 결과 처리 모듈이 타겟 예측 모 델 및 논-타겟 예측 모델의 활성화 영역을 각각 추출하는 단계; f) 상기 예측 결과 처리 모듈이 추출된 타겟 예측 모델 및 논-타겟 예측 모델의 각 활성화 영역을 각각 이진화 하는 단계; g) 상기 예측 결과 처리 모듈이 타겟 검출 프레임 수와 논-타겟 검출 프레임 수를 각각 누적하는 단계; h) 상기 예측 결과 처리 모듈이 상기 누적된 타겟 검출 프레임 수()가 타겟 검출 프레임 수 임계값() 이상인지와, 상기 누적된 논-타겟 검출 프레임 수()가 논-타겟 검출 프레임 수 임계값() 이상인지를 판 별하는 단계; i) 상기 단계 h)의 판별에서, 상기 누적된 타겟 검출 프레임 수()가 타겟 검출 프레임 수 임계값() 이 상이고, 상기 누적된 논-타겟 검출 프레임 수()가 논-타겟 검출 프레임 수 임계값() 이상이 아니면, 상 기 제어부가 내시경 영상에 타겟의 외곽선을 드로잉하여 디스플레이부를 통해 표시하는 단계; j) 상기 단계 h)의 판별에서, 상기 누적된 타겟 검출 프레임 수()가 타겟 검출 프레임 수 임계값() 이 상이고, 상기 누적된 논-타겟 검출 프레임 수()가 논-타겟 검출 프레임 수 임계값() 이상이면, 상기 예 측 결과 처리 모듈이 논-타겟 필터링 여부를 판별하는 단계; k) 상기 단계 j)의 판별에서 논-타겟 필터링인 경우, 상기 예측 결과 처리 모듈이 타겟 및 논-타겟 CC(connected component)를 추출하여 논-타겟과 겹치는 타겟 CC를 삭제하는 단계; 및 l) 상기 제어부가 내시경 영상에 논-타겟과 겹치지 않는 타겟의 외곽선을 드로잉하여 디스플레이부를 통해 표시 하는 단계를 포함하는 점에 그 특징이 있다. 여기서, 상기 단계 d)의 판별에서, 타겟과 논-타겟이 각각 검출되지 않았으면, 상기 예측 결과 처리 모듈이 타 겟 검출 프레임 수() 및 논-타겟 검출 프레임 수()를 각각 0(zero)으로 놓고, 프로세스 진행을 각각 상 기 단계 b)로 회귀시키는 단계를 더 포함할 수 있다. 또한, 상기 단계 h)의 판별에서, 상기 누적된 타겟 검출 프레임 수()가 타겟 검출 프레임 수 임계값() 이상이 아니거나, 상기 단계 j)의 판별에서 논-타겟 필터링이 아니면, 상기 예측 결과 처리 모듈이 프로세스 진 행을 각각 상기 단계 b)로 회귀시키는 단계를 더 포함할 수 있다. 또한, 상기 단계 i)에서 상기 제어부가 내시경 영상에 타겟의 외곽선을 드로잉하여 디스플레이부를 통해 표시한 후, 프로세스 진행을 상기 단계 b)로 회귀시키는 단계를 더 포함할 수 있다. 또한, 상기 단계 l)에서 상기 제어부가 내시경 영상에 논-타겟과 겹치지 않는 타겟의 외곽선을 드로잉하여 디스 플레이부를 통해 표시한 후, 프로세스 진행을 상기 단계 b)로 회귀시키는 단계를 더 포함할 수 있다."}
{"patent_id": "10-2023-0028386", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "이와 같은 본 발명에 의하면, 소화관 내시경 영상을 실시간으로 분석하여 제거 또는 조직검사 대상을 찾아낼 뿐 만 아니라, 확인된 대상에 시술을 진행하거나 시술로 출혈이 발생한 경우에는 AI 모델이 지속적으로 대상을 지 시하지 않음으로써, 검사자의 피로도를 줄일 수 있는 효과가 있다. 또한, 검사자의 피로도를 줄임으로써 검사자가 내시경 영상 검사에 집중할 수 있도록 하는 장점이 있다."}
{"patent_id": "10-2023-0028386", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 명세서 및 청구범위에 사용된 용어나 단어는 통상적이거나 사전적인 의미로 한정되어 해석되지 말아야 하며, 발명자는 그 자신의 발명을 가장 최선의 방법으로 설명하기 위해 용어의 개념을 적절하게 정의할 수 있다는 원 칙에 입각하여 본 발명의 기술적 사상에 부합하는 의미와 개념으로 해석되어야 한다. 명세서 전체에서, 어떤 부분이 어떤 구성요소를 \"포함\"한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다 른 구성요소를 제외하는 것이 아니라 다른 구성요소를 더 포함할 수 있다는 것을 의미한다. 또한, 명세서에 기 재된 \"…부\", \"…기\", \"모듈\", \"장치\" 등의 용어는 적어도 하나의 기능이나 동작을 처리하는 단위를 의미하며, 이는 하드웨어나 소프트웨어 또는 하드웨어 및 소프트웨어의 결합으로 구현될 수 있다. 이하 첨부된 도면을 참조하여 본 발명의 실시예를 상세히 설명한다. 도 1은 본 발명의 실시예에 따른 내시경 영상 분석 AI 모델을 이용한 소화관 내시경 영상 분석 장치의 시스템 구성을 개략적으로 나타낸 도면이다. 도 1을 참조하면, 본 발명에 따른 내시경 영상 분석 AI 모델을 이용한 소화관 내시경 영상 분석 장치는 통 신부, 제어부, 데이터베이스(DB) , 디스플레이부를 포함하여 구성된다. 통신부는 외부의 의료영상장치로부터 제공된 소화관의 내시경 영상 프레임을 수신한다. 이와 같은 통 신부는 유선 또는 무선 통신 모듈로 구성될 수 있다. 제어부는 AI 예측 모델을 로딩 및 내시경 영상 분석과 관련된 변수를 초기화하고, 내시경 영상 분석 여부를 판별하여, 내시경 영상 분석이면 상기 통신부를 통해 수신한 소화관의 내시경 영상 프레임에 대해 타겟 및 논-타겟을 각각 예측하며, 예측된 타겟 및 논-타겟에 대해 각각 타겟 검출과 논-타겟 검출 여부를 판별 하고, 타겟과 논-타겟이 각각 검출되었으면, 타겟 예측 모델 및 논-타겟 예측 모델의 활성화 영역을 각각 추출 하며, 추출된 타겟 예측 모델 및 논-타겟 예측 모델의 각 활성화 영역을 각각 이진화하고, 타겟 검출 프레임 수 와 논-타겟 검출 프레임 수를 각각 누적하며, 상기 누적된 타겟 검출 프레임 수()가 타겟 검출 프레임 수 임 계값() 이상인지와, 상기 누적된 논-타겟 검출 프레임 수()가 논-타겟 검출 프레임 수 임계값() 이 상인지를 판별하고, 상기 누적된 타겟 검출 프레임 수()가 타겟 검출 프레임 수 임계값() 이상이고, 상 기 누적된 논-타겟 검출 프레임 수()가 논-타겟 검출 프레임 수 임계값() 이상이 아니면, 내시경 영상 에 타겟의 외곽선을 드로잉하여 디스플레이부를 통해 표시하며, 상기 누적된 논-타겟 검출 프레임 수 ()가 논-타겟 검출 프레임 수 임계값() 이상이면, 논-타겟 필터링 여부를 판별하여 논-타겟 필터링인 경우, 타겟 및 논-타겟 CC(connected component)를 추출하여 논-타겟과 겹치는 타겟 CC를 삭제하고, 내시경 영 상에 논-타겟과 겹치지 않는 타겟의 외곽선을 드로잉하여 디스플레이부를 통해 표시한다. 데이터베이스(DB)에는 상기 통신부를 통해 수신된 외부의 의료영상장치로부터 제공된 소화관의 내시경 영상 프레임 데이터와, 상기 타겟 예측 모델 및 논-타겟 예측 모델의 학습을 위한 데이터와, 상기 제어 부에서의 내시경 영상 분석과 관련된 필요한 데이터 및 정보와, 시스템 운용을 위한 각종 앱(applicatio n)이 저장된다. 디스플레이부는 상기 제어부에서의 내시경 영상 분석에 따른 다양한 영상을 화면에 표시한다. 이와 같은 디스플레이부로는 LCD 패널 등이 사용될 수 있다. 여기서, 상기 제어부의 내부에는, 도 1에 도시된 바와 같이, 상기 통신부를 통해 수신한 소화관의 내 시경 영상 프레임에 대해 타겟을 예측하는 타겟 예측 모델(121t)과 논-타겟을 예측하는 논-타겟 예측 모델 (121n)을 구비하는 AI 예측 모델과; AI 예측 모델에 의해 예측된 타겟 및 논-타겟에 대해 각각 타겟 검출과 논-타겟 검출 여부를 판별하고, 타겟과 논-타겟이 각각 검출되었으면, 타겟 예측 모델(121t) 및 논-타겟 예측 모델(121n)의 활성화 영역을 각각 추출하며, 추출된 타겟 예측 모델(121t) 및 논-타겟 예측 모델(121n)의각 활성화 영역을 각각 이진화하고, 타겟 검출 프레임 수와 논-타겟 검출 프레임 수를 각각 누적하며, 상기 누 적된 타겟 검출 프레임 수()가 타겟 검출 프레임 수 임계값() 이상인지와, 상기 누적된 논-타겟 검출 프 레임 수()가 논-타겟 검출 프레임 수 임계값() 이상인지를 판별하고, 상기 누적된 논-타겟 검출 프레임 수()가 논-타겟 검출 프레임 수 임계값() 이상이면, 논-타겟 필터링 여부를 판별하여 논-타겟 필터링인 경우, 타겟 및 논-타겟 CC(connected component)를 추출하여 논-타겟과 겹치는 타겟 CC를 삭제하는 예측 결과 처리 모듈이 탑재될 수 있다. 이때, 상기 예측 결과 처리 모듈은 상기 누적된 타겟 검출 프레임 수()가 타겟 검출 프레임 수 임계값 () 이상이 아니거나, 논-타겟 필터링 여부를 판별하여 논-타겟 필터링이 아닌 경우, 상기 초기화 이후 내시 경 영상 분석 여부를 판별하는 프로세스로 프로세스 진행을 회귀시킬 수 있다. 또한, 상기 AI 예측 모델은, 도 5에 도시된 바와 같이, 외부의 의료영상장치로부터 내시경 영상을 입 력받는 입력층과, 입력층을 통해 입력된 내시경 영상을 다수의 특징 맵으로 중첩하는 복수의 컨볼루 션 블록으로 구성되는 컨볼루션층과, 컨볼루션층에 의해 다수의 특징 맵으로 중첩된 각 내시경 영상 의 평균을 구하고, 전체 영역에 걸쳐 각 평균을 통합하는 전역평균풀링층 및 전역평균풀링층에 의해 전체 영역에 걸쳐 각 평균이 통합된 영상중 학습 데이터 영상과 유사한 영상들을 출력하는 출력층으로 구 성될 수 있다. 또한, 상기 제어부는 내시경 영상에 타겟의 외곽선을 드로잉하여 디스플레이부를 통해 표시한 후, 상 기 초기화 이후 내시경 영상 분석 여부를 판별하는 프로세스로 프로세스 진행을 회귀시킬 수 있다. 또한, 상기 제어부는 내시경 영상에 논-타겟과 겹치지 않는 타겟의 외곽선을 드로잉하여 디스플레이부 를 통해 표시한 후, 상기 초기화 이후 내시경 영상 분석 여부를 판별하는 프로세스로 프로세스 진행을 회 귀시킬 수 있다. 이하에서는 이상과 같은 구성을 가지는 본 발명에 따른 내시경 영상 분석 AI 모델을 이용한 소화관 내시경 영상 분석 장치를 바탕으로 한 내시경 영상 분석 AI 모델을 이용한 소화관 내시경 영상 분석 방법에 대해 설명해 보 기로 한다. 여기서, 본 발명에 따른 내시경 영상 분석 AI 모델을 이용한 소화관 내시경 영상 분석 방법의 실시예에 대해 본 격적으로 설명하기에 앞서, 본 발명에 대한 이해를 돕기 위해 본 발명에 채용되는 AI 모델의 학습과 관련하여 먼저 설명해 보기로 한다. 도 3은 폴립, 암 등 분석 타겟 AI 모델의 학습을 위한 데이터를 나타낸 도면이고, 도 4는 폴립, 암 등 분석 논- 타겟 AI 모델의 학습을 위한 데이터를 나타낸 도면이다. 도 3을 참조하면, 폴립, 암 등 분석 타겟 AI 모델의 학습을 위한 데이터는 (a)∼(d)와 같은 영상의 양성 클래스 (positive class)와 (e)∼(h)와 같은 영상의 음성 클래스(negative class)로 분류될 수 있다. 양성 클래스는 (a)∼(d)의 영상에서 볼 수 있는 바와 같이, 폴립(또는 암 관련 종양)이 포함된 영상이고, 음성 클래스는 (e)∼ (h)의 영상에서 볼 수 있는 바와 같이, 폴립(또는 암 관련 종양)이 포함되지 않은 노멀 영상이나 블러 영상, 빛 반사 영상을 포함할 수 있다. 도 4를 참조하면, 폴립, 암 등 분석 논-타겟 AI 모델의 학습을 위한 데이터는 시술도구나 시술영상, 시술 후 출 혈 영상과 블러 영상 등에 대한 분석을 위한 것으로서, 마찬가지로 (a)∼(d)와 같은 영상의 양성 클래스 (positive class)와 (e)∼(h)와 같은 영상의 음성 클래스(negative class)로 분류될 수 있다. 양성 클래스는 (a)∼(d)의 영상에서 볼 수 있는 바와 같이, 시술도구나 시술영상, 시술 후 출혈 영상과 블러 영상 등을 포함하 는 영상이고, 음성 클래스는 (e)∼(h)의 영상에서 볼 수 있는 바와 같이, 시술도구나 시술영상, 시술 후 출혈 영상과 블러 영상을 포함하지 않는 폴립(또는 암 관련 종양)이 포함된 영상이다. 도 5는 본 발명에 채용되는 AI 모델의 구성(CNN)을 나타낸 도면이다. 도 5를 참조하면, AI 모델은 CNN(convolutional neural network)을 기반으로할 수 있다. 이와 같은 AI 모델은 전술한 바와 같이, 외부의 의료영상장치로부터 내시경 영상을 입력받는 입력층과, 입력층을 통해입력된 내시경 영상을 다수의 특징 맵으로 중첩하는 복수의 컨볼루션 블록으로 구성되는 컨볼루션층과, 컨 볼루션층에 의해 다수의 특징 맵으로 중첩된 각 내시경 영상의 평균을 구하고, 전체 영역에 걸쳐 각 평균 을 통합하는 전역평균풀링층 및 전역평균풀링층에 의해 전체 영역에 걸쳐 각 평균이 통합된 영상중 학습 데이터 영상과 가장 유사한 영상을 출력하는 출력층으로 구성될 수 있다. 도 6은 본 발명에 채용되는 AI 모델의 학습 과정을 나타낸 도면이다. 도 6을 참조하면, AI 모델의 학습 과정은 먼저 외부의 의료영상장치로부터 내시경 영상이 제공되면, 그 내 시경 영상을 입력층을 통해 입력받는다. 그러면 컨볼루션층은 입력된 내시경 영상을 다수의 특징 맵 으로 중첩하는 과정을 다수회 반복 수행한다. 그런 후, 전역평균풀링층은 컨볼루션층에 의해 다수의 특징 맵으로 중첩된 각 내시경 영상의 평균을 구하고(즉, 각 내시경 영상을 각각 특정값으로 수치화하고, 그 수 치화된 각 특정값들에 대한 평균을 구함), 전체 영역에 걸쳐 각 평균을 통합하는 작업을 수행한다. 그후, 출력 층은 전역평균풀링층에 의해 전체 영역에 걸쳐 각 평균이 통합된 영상 중 학습 데이터 영상과 유사한 영상들을 출력한다. 이때, 이 출력에 소프트맥스(softmax) 활성화 함수를 적용하여 출력을 확률로 나타내며, 가 장 확률이 높은 것이 선택된다. 이상과 같은 일련의 학습 과정은 미리 설정된 학습 반복횟수만큼 반복적으로 수 행된다. 또한, 이상과 같은 일련의 학습 과정에서 입력 영상의 분류에 따른 분류 손실(classification loss)과 입력 영상에 대한 활성화 영역 추출 및 이진화에 따른 활성화 손실(activation loss)이 발생하는데, 이러한 손 실(분류 손실+활성화 손실)을 최소화하도록 학습을 진행한다. 도 7은 AI 모델의 학습(training)에서의 손실의 개요를 나타낸 도면이다. 도 7을 참조하면, 전술한 바와 같이 입력 영상의 분류에 따른 분류 손실 (classification loss; )은 다음 과 같은 수식 관계로 표현할 수 있다."}
{"patent_id": "10-2023-0028386", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "여기서, 는 i번째 클래스에 대한 정답 레이블, 는 i번째 클래스에 대한 softmax 확률, 은 클래스 수를 각각 나타낸다. 또한, 입력 영상에 대한 활성화 영역 추출 및 이진화에 따른 활성화 손실 (activation loss; )은 다음과 같은 수식 관계로 표현할 수 있다."}
{"patent_id": "10-2023-0028386", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "item": 3, "content": "도 8은 AI 모델의 추론(inference) 과정을 나타낸 도면이다. 도 8을 참조하면, AI 모델의 추론(inference) 과정은 앞에서 설명한 AI 모델의 학습 과정과 마찬가지로, 외부의 의료영상장치로부터 제공된 내시경 영상을 입력층을 통해 입력받는다. 컨볼루션층은 입력된 내시 경 영상을 다수의 특징 맵으로 중첩하는 과정을 다수회 반복 수행한다. 그런 후, 전역평균풀링층은 컨볼루 션층에 의해 다수의 특징 맵으로 중첩된 각 내시경 영상의 평균을 구하고(즉, 각 내시경 영상을 각각 특정 값으로 수치화하고, 그 수치화된 각 특정값들에 대한 평균을 구함), 전체 영역에 걸쳐 각 평균을 통합하는 작업 을 수행한다. 그후, 출력층은 전역평균풀링층에 의해 전체 영역에 걸쳐 각 평균이 통합된 영상 중 학 습 데이터 영상과 유사한 영상들을 출력한다. 이때, 이 출력에 소프트맥스(softmax) 활성화 함수를 적용하여 출 력을 확률로 나타낸다. 이를 AI 모델의 예측 결과로 볼 수 있다. 최종적으로 AI 모델은 예측 결과를 바탕으로 활성화 영역(도 9 및 도 10 참조)을 추출한다. 그러면, 이하에서는 이상과 같은 AI 모델의 학습 관련 사항을 베이스로 하여 본 발명에 따른 내시경 영상 분석 AI 모델을 이용한 소화관 내시경 영상 분석 방법의 실시예에 대해 설명해 보기로 한다. 도 2는 본 발명의 실시예에 따른 내시경 영상 분석 AI 모델을 이용한 소화관 내시경 영상 분석 방법의 실행 과 정을 나타낸 흐름도이다. 도 2를 참조하면, 본 발명의 실시예에 따른 내시경 영상 분석 AI 모델을 이용한 소화관 내시경 영상 분석 방법 은, 먼저 제어부가 AI 예측 모델을 로딩 및 내시경 영상 분석과 관련된 변수를 초기화한다(단계 S201). 예를 들면, 변수는 타겟 검출 프레임 수(), 논-타겟 검출 프레임 수(), 타겟 검출 프레임 수 임 계값(), 논-타겟 검출 프레임 수 임계값() 등을 포함할 수 있다. 그리고 이와 같은 변수들을 , , , 과 같이 각각 초기화할 수 있다. 이상과 같은 초기화 후, 제어부는 내시경 영상 분석 여부를 판별하여(단계 S202), 내시경 영상 분석이면 외부의 의료영상장치로부터 제공된 소화관의 내시경 영상 프레임을 통신부를 통해 읽어 들인다(단계 S203). 그러면, 제어부 내의 AI 예측 모델의 타겟(target) 예측 모델 (121t)과 논-타겟(non-target) 예측 모델(121n)이 상기 읽어 들인 내시경 영상 프레임에 대해 타겟 및 논-타겟을 각각 예측한다(단계 S204, S210). 이후, 제어부 내의 예측 결과 처리 모듈이 상기 타겟 예측 모델 (121t) 및 논-타겟 예측 모델(121n) 에 의해 각각 예측된 타겟 및 논-타겟에 대해 각각 타겟 검출과 논-타겟 검출 여부를 판별한다(단계 S205, S211). 이 판별에서, 타겟 및 논-타겟이 각각 검출되지 않았으면, 예측 결과 처리 모듈은 타겟 검출 프레 임수()와 논-타겟(non-target) 검출 프레임 수()를 각각 \"0(zero)\"으로 놓고 프로세스를 상기 단계 S202 로 회귀시킨다. 상기 단계 S205, S211의 판별에서 타겟이 도 11에서 볼 수 있는 바와 같이 검출되고, 논-타겟(블러, 시술도구, 출혈, 시술 등)이 도 12 및 도 13에서 볼 수 있는 바와 같이 검출되었으면, 상기 예측 결과 처리 모듈이 타겟 예측 모델(121t)의 활성화 영역(도 9 참조) 및 논-타겟 예측 모델(121n)의 활성화 영역(도 10 참조)을 각 각 추출한다(단계 S206, S212). 그런 다음, 상기 예측 결과 처리 모듈이 추출된 타겟 예측 모델(121t)의 활성화 영역을 도 9와 같이 이진 화하고, 논-타겟 예측 모델(121n)의 활성화 영역을 도 10과 같이 이진화한다(단계 S207, S213). 이후, 상기 예측 결과 처리 모듈이 타겟 검출 프레임 수 ()와 논-타겟 검출 프레임 수()를 각각 누 적한다(단계 S208, S214). 이를 수식 관계로 나타내면 다음과 같다."}
{"patent_id": "10-2023-0028386", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "그리고 상기 예측 결과 처리 모듈이 상기 누적된 타겟 검출 프레임 수()가 타겟 검출 프레임 수 임계값 () 이상인지와, 상기 누적된 논-타겟 검출 프레임 수()가 논-타겟 검출 프레임 수 임계값() 이상인 지를 판별한다(단계 S209, S215). 상기 단계 S209의 판별에서, 상기 누적된 타겟 검출 프레임 수()가 타겟 검출 프레임 수 임계값() 이상 이고, 상기 단계 S215의 판별에서, 상기 누적된 논-타겟 검출 프레임 수()가 논-타겟 검출 프레임 수 임계 값() 이상이 아니면, 상기 제어부가 내시경 영상에 타겟의 외곽선을 드로잉하여 디스플레이부를 통해 표시한다(단계 S216). 여기서, 상기 제어부는 내시경 영상에 타겟의 외곽선을 드로잉하여 디스플레이 부를 통해 표시한 후, 프로세스 진행을 상기 단계 S202로 회귀시킨다. 상기 단계 S209의 판별에서, 상기 누적된 타겟 검출 프레임 수()가 타겟 검출 프레임 수 임계값() 이상 이고, 상기 단계 S215의 판별에서, 상기 누적된 논-타겟 검출 프레임 수()가 논-타겟 검출 프레임 수 임계 값() 이상이면, 상기 예측 결과 처리 모듈은 논-타겟 필터링 여부를 판별한다(단계 S217). 여기서, 상기 누적된 타겟 검출 프레임 수()가 타겟 검출 프레임 수 임계값() 이상이 아니거나, 상기 단계 S217 의 판별에서 논-타겟 필터링이 아니면, 상기 예측 결과 처리 모듈이 프로세스 진행을 각각 상기 단계 S202 로 회귀시킨다. 그리고 상기 단계 S217의 판별에서 논-타겟 필터링인 경우, 상기 예측 결과 처리 모듈이 타겟 및 논-타겟 CC(connected component)를 추출하여 논-타겟과 겹치는 타겟 CC를 삭제한다(단계 S218, S219). 이후, 상기 제어부는 도 14와 같이, 내시경 영상에 논-타겟과 겹치지 않는 타겟의 외곽선을 드로잉하여 디 스플레이부를 통해 표시한다(단계 S220). 또한, 상기 제어부는 내시경 영상에 논-타겟과 겹치지 않는 타겟의 외곽선을 드로잉하여 디스플레이부를 통해 표시한 후, 프로세스 진행을 상기 단계 S202로 회귀시킨 다. 이상과 같은 일련의 과정에서 확인된 대상에 시술을 진행하거나 시술로 출혈이 발생한 경우에는 AI 모델이 지속 적으로 대상을 지시하지 않는다. 이에 따라 검사자의 피로도를 줄일 수 있게 된다. 한편, 도 15는 논-타겟 필터링 적용 시 논-타겟과 겹치는 타겟 CC(connected component)를 삭제하여 내시경 영 상에 타겟 영역의 외곽선을 드로잉하지 않는 예를 나타낸 도면이다. 도 15를 참조하면, 논-타겟 검출 프레임 수()가 논-타겟 검출 프레임 수 임계값() 이상인 조건 ( )이 만족될 경우, 최종영상에서 볼 수 있는 바와 같이, 타겟 영역의 외곽선을 드로잉하지 않는 것을 확인할 수 있다. 도 16은 빠른 내시경 움직임으로 인한 타겟의 오검출을 논-타겟 검출로 제거하는 예를 나타낸 도면이다. 이는 또한 조건을 만족하고, 논-타겟 필터링을 적용하지 않은 예를 나타낸 도면이기도 하다. 도 16을 참조하면, 빠른 내시경 움직임으로 인해 타겟의 오검출(타겟 오버레이)이 발생할 경우, 이를 논-타겟 검출로(즉, 타겟 오버레이 영역 위에 논-타겟 영역을 오버레이(논-타겟 오버레이)함으로써 최종 출력영상에서 볼 수 있는 바와 같이 타겟의 오검출(타겟 오버레이)을 제거할 수 있다. 이상의 설명과 같이, 본 발명에 따른 내시경 영상 분석 AI 모델을 이용한 소화관 내시경 영상 분석 장치 및 방 법은 소화관 내시경 영상을 실시간으로 분석하여 제거 또는 조직검사 대상을 찾아낼 뿐만 아니라, 확인된 대상 에 시술을 진행하거나 시술로 출혈이 발생한 경우에는 AI 모델이 지속적으로 대상을 지시하지 않음으로써, 검사 자의 피로도를 줄일 수 있는 효과가 있다. 또한, 검사자의 피로도를 줄임으로써 검사자가 내시경 영상 검사에 집중할 수 있도록 하는 장점이 있다. 이상, 바람직한 실시 예를 통하여 본 발명에 관하여 상세히 설명하였으나, 본 발명은 이에 한정되는 것은 아니"}
{"patent_id": "10-2023-0028386", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "며, 본 발명의 기술적 사상을 벗어나지 않는 범위 내에서 다양하게 변경, 응용될 수 있음은 당해 기술분야의 통 상의 기술자에게 자명하다. 따라서, 본 발명의 진정한 보호 범위는 다음의 청구범위에 의하여 해석되어야 하며, 그와 동등한 범위 내에 있는 모든 기술적 사상은 본 발명의 권리 범위에 포함되는 것으로 해석되어야 할 것이다."}
{"patent_id": "10-2023-0028386", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명에 따른 내시경 영상 분석 AI 모델을 이용한 소화관 내시경 영상 분석 장치의 시스템 구성을 개 략적으로 나타낸 도면이다. 도 2는 본 발명에 따른 내시경 영상 분석 AI 모델을 이용한 소화관 내시경 영상 분석 방법의 실행 과정을 나타 낸 흐름도이다. 도 3은 폴립, 암 등 분석 타겟 AI 모델의 학습을 위한 데이터를 나타낸 도면이다. 도 4는 폴립, 암 등 분석 논-타겟 AI 모델의 학습을 위한 데이터를 나타낸 도면이다. 도 5는 본 발명에 채용되는 AI 모델의 구성(CNN)을 나타낸 도면이다. 도 6은 본 발명에 채용되는 AI 모델의 학습 과정을 나타낸 도면이다. 도 7은 AI 모델의 학습(training)에서의 손실의 개요를 나타낸 도면이다. 도 8은 AI 모델의 추론(inference) 과정을 나타낸 도면이다. 도 9는 타겟 AI 모델의 활성화 영역 추출 및 이진화, 외곽선 드로잉 예를 나타낸 도면이다. 도 10은 논-타겟 AI 모델의 활성화 영역 추출 및 이진화, 외곽선 드로잉 예를 나타낸 도면이다. 도 11은 타겟 AI 모델의 분석대상 검출 예를 나타낸 도면이다. 도 12는 논-타겟 AI 모델의 빠른 내시경 움직임에 의한 블러(blur) 검출 예를 나타낸 도면이다. 도 13은 논-타겟 AI 모델의 시술도구, 출혈, 시술 검출 예를 나타낸 도면이다. 도 14는 논-타겟 필터링 적용 시 내시경 영상에 논-타겟과 겹치지 않는 타겟의 외곽선 드로잉 예를 나타낸 도면 이다. 도 15는 논-타겟 필터링 적용 시 논-타겟과 겹치는 타겟 CC(connected component)를 삭제하여 내시경 영상에 타겟 영역의 외곽선을 드로잉하지 않는 예를 나타낸 도면이다. 도 16은 빠른 내시경 움직임으로 인한 타겟의 오검출을 논-타겟 검출로 제거하는 예를 나타낸 도면이다."}
