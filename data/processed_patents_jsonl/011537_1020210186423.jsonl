{"patent_id": "10-2021-0186423", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0096687", "출원번호": "10-2021-0186423", "발명의 명칭": "일부 구간이 일치하는 비디오 검색 방법 및 장치", "출원인": "한국전자통신연구원", "발명자": "김태준"}}
{"patent_id": "10-2021-0186423", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "일부 구간이 일치하는 비디오 검색 방법에서, 제 1 비디오 데이터를 수신하는 단계;수신된 상기 제 1 비디오 데이터로부터 해싱할 프레임을 선택하는 단계;선택된 상기 프레임의 해시키를 생성하는 단계;생성된 상기 해시키와 유사한 해시키를 포함하는 제 2 비디오 데이터를 검색하는 단계; 및검색된 상기 제 2 비디오 데이터와 수신된 상기 제 1 비디오 데이터의 유사도를 계산하는 단계를 포함하는, 비디오 검색 방법."}
{"patent_id": "10-2021-0186423", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 개시는 일부 구간이 일치하는 비디오 검색 방법 및 장치에 관한 것으로, 제 1 비디오 데이터를 상기 통신부를 통하여 수신하고, 수신된 상기 제 1 비디오 데이터로부터 해싱할 프레임을 선택하고, 선택된 상기 프레임의 해시 키를 생성하고, 생성된 상기 해시키와 유사한 해시키를 포함하는 제 2 비디오 데이터를 검색하고, 검색된 상기 제 2 비디오 데이터와 수신된 상기 제 1 비디오 데이터의 유사도를 계산하는 것을 요지로 한다."}
{"patent_id": "10-2021-0186423", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 개시는 비디오 검색 방법 및 장치에 대한 것으로서, 구체적으로, 일부 구간이 일치하는 비디오 검색 방법 및 장치에 대한 기술이다."}
{"patent_id": "10-2021-0186423", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "최근 몇 년 동안 영상 데이터를 학습해서 원하는 기능을 구현하는 기술이 다양한 분야에서 쏟아져 나오고 있다. 그런데 학습을 위한 인공지능 기술 또는 알고리즘이 점점 더 발전하고 정형화되면서 기술 자체 보다는 학습에 필요한 자원인 데이터의 수집에 대한 중요성이 더 부각되고 있다. 얼마나 더 많은 양의 데이터를, 고품질로, 중 복 없이 골고루 수집하는가에 따라 학습된 인공지능의 성능이 결정되는 경우가 많아지는 것이다. 특히, 이미 공 개 영상으로부터 수집된 영상은 중복되는 경우가 많아 치우침 없는 학습을 위해서는 중복 데이터를 제거하는 과 정이 필요하다. 기존의 기술을 이용해 이러한 중복 영상 데이터를 제거할 수 있겠지만 기존 기술은 주로 현재 비디오와 유사한 비디오를 사용자에게 추천하기 위해서 제목, 태그 등 다양한 명시적 정보와 인공지능 학습 등을 통해 영상으로 부터 얻은 정보로 유사한 비디오를 검색하기 때문에 내용이 완전히 중복되지 않더라도 검색되거나 내용이 완전 히 중복됨에도 불구하고 다른 정보가 달라 유사성이 떨어지는 등 학습데이터를 만드는 데 불편함이 있었다. 한편, 비디오 영상을 학습 데이터로 만들 때, 대부분 사용자가 관심 있는 구간만 잘라서 비디오 클립으로 만든 다. 이때, 유사한 구간을 조금만 다르게 잘라도 서로 다른 클립이 만들어지기 때문에 비디오의 유사성은 이를 고려해서 판단해야 한다. 구간의 차이에 따른 유사도 정의의 모호함은 차치하더라도, 단순하게 두 영상의 모든 프레임 쌍에 대해 유사성을 판별하면 연산에 매우 많은 자원이 필요하다. 두 영상이 아니라 학습 데이터 전체 비교는 이 문제를 더욱 심각하게 만든다. 종래 기술에서 비디오 클립의 중복 여부 판별의 어려움에도 불구하고 중복이 발생할 가능성이 높을 수 있다. 특 히 데이터를 수집하는 주체가 복수인 경우, 이 문제는 더욱 커진다. 예를 들어, 한 명의 의사가 등장하고 상반 신이 클로즈업된 비디오 영상 수집을 클라우드 소싱을 통해 진행하는 경우, 많은 사람들이 의사가 등장하는 최 신 특정 영화나 TV 시리즈 몇 편의 특정 장면만 중복으로 수집할 가능성이 매우 높아서 사용자가 불편함을 느끼 는 문제점이 있었다."}
{"patent_id": "10-2021-0186423", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 2, "content": "발명의 내용"}
{"patent_id": "10-2021-0186423", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 개시의 목적은 비디오를 데이터베이스에 등록 시 전처리를 수행하고 기존에 등록된 수많은 비디오의 전처리 데이터와 비교하여 유사도를 계산하여 비디오 데이터 간의 일부 또는 전부 구간의 중복 여부를 용이하게 판별하 는 비디오 검색 방법 및 장치를 제공하는 것을 목적으로 한다. 본 개시의 다른 목적 및 장점들은 하기의 설명에 의해서 이해될 수 있으며, 본 개시의 실시예에 의해 보다 분명 하게 알게 될 것이다. 또한, 본 개시의 목적 및 장점들은 특허청구범위에 나타낸 수단 및 그 조합에 의해 실현 될 수 있음을 쉽게 알 수 있을 것이다."}
{"patent_id": "10-2021-0186423", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 개시의 일 실시예에 따른, 비디오 검색 방법은, 제 1 비디오 데이터를 수신하는 단계; 수신된 상기 제 1 비 디오 데이터로부터 해싱할 프레임을 선택하는 단계; 선택된 상기 프레임의 해시키를 생성하는 단계; 생성된 상 기 해시키와 유사한 해시키를 포함하는 제 2 비디오 데이터를 검색하는 단계; 및 검색된 상기 제 2 비디오 데이 터와 수신된 상기 제 1 비디오 데이터의 유사도를 계산하는 단계를 포함한다. 본 개시의 일 실시예에 따른, 비디오 검색 방법은, 메모리에 저장된 비디오 메타 데이터 및 프레임 해시키를 기 초로 해시 테이블을 생성하는 단계를 더 포함한다. 본 개시의 일 실시예에 따른, 비디오 검색 방법은, 상기 해시 테이블을 이용하여 생성된 상기 해시키와 유사한 해시키를 포함하는 제 2 비디오 데이터를 검색하는 단계를 더 포함한다. 본 개시의 일 실시예에 따른, 비디오 검색 방법은, 상기 선택된 상기 프레임의 해시키를 개별적으로 생성하는 단계 이후에, 생성된 해시키를 메모리에 저장한다. 본 개시의 일 실시예에 따른, 비디오 검색 방법은, 선택된 상기 프레임의 해시키를 생성하는 단계는 아드리안 로즈브록 방법으로 상기 프레임의 해시키를 생성하는 단계를 더 포함한다. 본 개시의 일 실시예에 따른, 비디오 검색 방법은, 상기 프레임을 흑백 이미지로 변경하는 단계; 변경된 흑백 이미지의 크기를 M x N 크기로 변경하는 단계; 가로로 인접한 두 픽셀에 대하여 오른쪽이 왼쪽보다 값이 더 크 면 1로 설정하고, 오른쪽이 왼쪽보다 값이 더 작으면 0으로 설정하여 N x N 비트값을 계산하는 단계; 및 계산된 상기 N x N 비트값으로 소정 비트 해시키를 생성하는 단계를 더 포함한다. 본 개시의 일 실시예에 따른, 비디오 검색 방법은, 수신된 상기 제 1 비디오 데이터로부터 해싱할 프레임을 선 택하는 단계는 인접한 두 흑백 프레임에 대하여 각 픽셀에 대하여 밝기가 증가한 픽셀의 수를 전체의 픽셀 수로 나눈 값이 제 1 임계값을 초과하는 프레임을 선택하는 단계를 더 포함한다. 본 개시의 일 실시예에 따른, 비디오 검색 방법은, 상기 제 1 임계값을 증가시키면 선택된 프레임의 수가 감소 하고, 상기 제 1 임계값을 감소시키면 선택된 프레임의 수가 증가한다. 본 개시의 일 실시예에 따른, 비디오 검색 방법은, 상기 제 1 비디오 데이터의 유사도는 상기 제 2 비디오 데이 터와 겹치는 구간의 길이에 대한 유사도 및 상기 제 2 비디오 데이터와 겹치는 개별 프레임의 유사도 중 적어도 하나를 포함한다. 본 개시의 일 실시예에 따른, 비디오 검색 방법은, 상기 개별 프레임의 유사도는 제 1 프레임과 제 2 프레임의 해시키를 비트 단위로 비교하여 서로 다른 비트의 개수를 구하는 방법으로 유사도를 결정한다. 본 개시의 일 실시예에 따른, 비디오 검색 장치는, 외부 장치와 데이터를 송수신하는 통신부; 그래픽 이미지를 디스플레이하는 디스플레이; 및 제 1 비디오 데이터를 상기 통신부를 통하여 수신하고, 수신된 상기 제 1 비디 오 데이터로부터 해싱할 프레임을 선택하고, 선택된 상기 프레임의 해시키를 생성하고, 생성된 상기 해시키와 유사한 해시키를 포함하는 제 2 비디오 데이터를 검색하고, 검색된 상기 제 2 비디오 데이터와 수신된 상기 제 1 비디오 데이터의 유사도를 계산하고, 상기 디스플레이가 계산된 상기 유사도를 디스플레이하도록 제어하는 제 어부를 포함한다. 본 개시의 일 실시예에 따른, 비디오 검색 장치는, 상기 제어부는, 메모리에 저장된 비디오 메타 데이터 및 프 레임 해시키를 기초로 해시 테이블을 생성한다. 본 개시의 일 실시예에 따른, 비디오 검색 장치는, 상기 제어부는, 메모리에 저장된 비디오 메타 데이터 및 프 레임 해시키를 기초로 해시 테이블을 생성한다. 본 개시의 일 실시예에 따른, 비디오 검색 장치는, 상기 제어부는 상기 선택된 상기 프레임의 해시키를 개별적 으로 생성하고, 생성된 해시키를 메모리에 저장한다. 본 개시의 일 실시예에 따른, 비디오 검색 장치는, 상기 제어부는 아드리안 로즈브록 방법으로 상기 프레임의 해시키를 생성한다. 본 개시의 일 실시예에 따른, 비디오 검색 장치는, 상기 제어부는 상기 프레임을 흑백 이미지로 변경하고, 변경 된 흑백 이미지의 크기를 M x N 크기로 변경하고, 가로로 인접한 두 픽셀에 대하여 오른쪽이 왼쪽보다 값이 더 크면 1로 설정하고, 오른쪽이 왼쪽보다 값이 더 작으면 0으로 설정하여 N x N 비트값을 계산하고, 계산된 상기 N x N 비트값으로 소정 비트 해시키를 생성한다. 본 개시의 일 실시예에 따른, 비디오 검색 장치는, 상기 제어부는 인접한 두 흑백 프레임에 대하여 각 픽셀에 대하여 밝기가 증가한 픽셀의 수를 전체의 픽셀 수로 나눈 값이 제 1 임계값을 초과하는 프레임을 선택한다. 본 개시의 일 실시예에 따른, 비디오 검색 장치는, 상기 제 1 임계값을 증가시키면 선택된 프레임의 수가 감소 하고, 상기 제 1 임계값을 감소시키면 선택된 프레임의 수가 증가한다. 본 개시의 일 실시예에 따른, 비디오 검색 장치는, 상기 제 1 비디오 데이터의 유사도는 상기 제 2 비디오 데이 터와 겹치는 구간의 길이에 대한 유사도 및 상기 제 2 비디오 데이터와 겹치는 개별 프레임의 유사도 중 적어도 하나를 포함한다. 본 개시의 일 실시예에 따른, 비디오 검색 장치는, 외부 장치와 데이터를 송수신하는 송수신부; 제 1 비디오 데 이터를 상기 통신부를 통하여 수신하고, 수신된 상기 제 1 비디오 데이터로부터 해싱할 프레임을 선택하고, 선 택된 상기 프레임의 해시키를 생성하고, 생성된 상기 해시키와 유사한 해시키를 포함하는 제 2 비디오 데이터를 검색하고, 검색된 상기 제 2 비디오 데이터와 수신된 상기 제 1 비디오 데이터의 유사도를 계산하고, 상기 디스 플레이가 계산된 상기 유사도를 디스플레이하도록 제어하는 프로세서; 및 상기 제어부로부터의 제어 명령에 따 라 상기 유사도를 저장하는 메모리를 포함한다."}
{"patent_id": "10-2021-0186423", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 개시의 일 실시 예에 따르면, 비디오를 데이터베이스에 등록 시 전처리를 수행하고 기존에 등록된 비디오의 전처리 데이터와 비교하는 것처럼 해시키를 이용하여 유사도를 계산해서 비디오 데이터 간의 일부 구간의 중복 여부를 용이하게 판별할 수 있으므로 사용자 편의성을 향상시킬 수 있다. 본 개시의 다른 실시 예에 따르면, 비디오 클립 사이에 유사한 프레임이 하나라도 존재하는 모든 비디오 쌍을 검색할 수 있어서 인공지능 학습을 위한 비디오 데이터 수집 시 편향된 데이터 수집을 방지할 수 있으므로 사용 자 편의성을 향상시킬 수 있다. 본 개시에서 얻을 수 있는 효과는 이상에서 언급한 효과들로 제한되지 않으며, 언급하지 않은 또 다른 효과들은"}
{"patent_id": "10-2021-0186423", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 2, "content": "아래의 기재로부터 본 개시가 속하는 기술분야에서 통상의 지식을 가진 자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2021-0186423", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하에서는 첨부한 도면을 참고로 하여 본 개시의 실시 예에 대하여 본 개시가 속하는 기술 분야에서 통상의 지 식을 가진 자가 용이하게 실시할 수 있도록 상세히 설명한다. 그러나, 본 개시는 여러 가지 상이한 형태로 구현 될 수 있으며 여기에서 설명하는 실시 예에 한정되지 않는다. 본 개시의 실시 예를 설명함에 있어서 공지 구성 또는 기능에 대한 구체적인 설명이 본 개시의 요지를 흐릴 수 있다고 판단되는 경우에는 그에 대한 상세한 설명은 생략한다. 그리고, 도면에서 본 개시에 대한 설명과 관계없 는 부분은 생략하였으며, 유사한 부분에 대해서는 유사한 도면 부호를 붙였다. 본 개시에 있어서, 서로 구별되는 구성요소들은 각각의 특징을 명확하게 설명하기 위함이며, 구성요소들이 반드 시 분리되는 것을 의미하지는 않는다. 즉, 복수의 구성요소가 통합되어 하나의 하드웨어 또는 소프트웨어 단위 로 이루어질 수도 있고, 하나의 구성요소가 분산되어 복수의 하드웨어 또는 소프트웨어 단위로 이루어질 수도 있다. 따라서, 별도로 언급하지 않더라도 이와 같이 통합된 또는 분산된 실시 예도 본 개시의 범위에 포함된다. 본 개시에 있어서, 다양한 실시 예에서 설명하는 구성요소들이 반드시 필수적인 구성요소들을 의미하는 것은 아 니며, 일부는 선택적인 구성요소일 수 있다. 따라서, 일 실시 예에서 설명하는 구성요소들의 부분집합으로 구성 되는 실시 예도 본 개시의 범위에 포함된다. 또한, 다양한 실시 예에서 설명하는 구성요소들에 추가적으로 다른 구성요소를 포함하는 실시 예도 본 개시의 범위에 포함된다. 본 개시에 있어서, 제1, 제2 등의 용어는 하나의 구성요소를 다른 구성요소로부터 구별하는 목적으로만 사용되 며, 특별히 언급되지 않는 한 구성요소들 간의 순서 또는 중요도 등을 한정하지 않는다. 따라서, 본 개시의 범 위 내에서 일 실시 예에서의 제1 구성요소는 다른 실시 예에서 제2 구성요소라고 칭할 수도 있고, 마찬가지로 일 실시예에서의 제2 구성요소를 다른 실시예에서 제1 구성요소라고 칭할 수도 있다. 본 개시의 어떤 구성요소가 다른 구성요소에 “연결되어” 있다거나 “접속되어” 있다고 언급된 때에는, 그 다 른 구성요소에 직접적으로 연결되어 있거나 또는 접속되어 있을 수도 있으나, 중간에 다른 구성요소가 존재할 수도 있다고 이해되어야 할 것이다. 반면에, 어떤 구성 요소가 다른 구성 요소에 “직접 연결되어” 있다거나, “직접 접속되어” 있다고 언급된 때에는, 중간에 다른 구성 요소가 존재하지 않는 것으로 이해되어야 할 것이다. 또한, 본 개시에 있어서 본 개시의 실시예를 도시한 일 도면이 다른 도면과 양자 택일의 실시예에 해당하지 않 는 한 각 도면에 대한 설명은 서로 다른 도면에 적용될 수 있다. 이하, 도면을 참조하여 본 개시에 대하여 더욱 상세하게 설명할 것이다. 도 1은 본 개시의 일 실시예에 따른, 비디오 검색 장치의 구성을 도시한 도면이다. 도 1을 참조하면, 비디오 검색 시스템은 서버와 단말을 포함한다. 서버는 비디오에 대한 정보를 저장한다. 서버는 각 비디오의 제목, 태그 등의 메타 데이터와 비디오 각 프레임의 해시키를 계산해서 메모리에 별도로 저장한다. 메모리는 서버 내부에 포함될 수 있고, 서버 외부에 별도로 설치될 수 있다. 해시키는 하나의 2차원 영상의 내용에 따라 고유하게 부여되는 하나의 문자열 또는 숫자를 의미한다. 서버는 비디오 검색 장치가 될 수 있다. 단말은 서버에 접속해서 비디오를 업로드, 다운로드, 검색한다. 도 2는 본 개시의 일 실시예에 따른, 비디오 검색 방법의 순서도를 도시한 도면이다. 비디오 검색 방법은 서버 에 의하여 수행된다. 서버는 시작과 동시에 저장소에 있는 기존에 보유한 비디오 메타데이터/프레임 해시키를 이용해 해시 테이 블을 생성한다(S210). 비디오가 서버에 업로드되면, 비디오 데이터 읽음을 실행한다(S220). 새로운 비디오의 등록 또는 비교를 위한 요청에 대해서 해당하는 비디오의 제목, 태그 등의 메타데이터와 영상 정보를 읽는다. 비디오 데이터에 대응하는 해싱 프레임을 선택한다(S230). 해싱 프레임은 전체 프레임일 수도 있고 일부만 선택한 프레임이 될 수 있다. 해싱 프레임을 선별하는 것은 장 면의 변화, 등장하는 인물 또는 사물의 변화, 영상 데이터의 밝기 변화 등 임의의 방법을 사용할 수 있다. 생성 된 각 프레임의 해시키는 비디오의 메타데이터와 함께 데이터 베이스에 별도로 저장된다. 해싱 프레임의 프레임 별로 해시키를 생성한다(S240). 비디오의 각 프레임 마다 해싱 수행 장치를 통해 하나의 해시키가 생성된다. 해싱은 영상 데이터 값을 그대로 사용할 수도 있고 사람이 인지적으로 동일한 영상은 동일한 해시키가 생성되도록 하는 인지적 해싱 방법을 이용 할 수도 있다. 해시키 생성의 과정을 거쳐서 결과를 비디오 메타데이터/프레임 해시키 저장소에 저장한다(S250). 해시 테이블을 이용해 업로드된 비디오와 유사한 해시키를 가진 기존의 비디오를 검색한다(S260). 검색된 비디오와 업로드된 비디오간 유사도를 계산한다(S270). 도 3은 본 개시의 일 실시 예에 따른, 비디오의 일부 구간이 중복된 실시 예를 도시한 도면이다. 도 3은 도 3(a), 도 3(b), 도 3(c) 및 도 3(d)를 포함한다. 도 3(a)는 중복 구간이 없는 경우를 의미한다. 도 3(b)는 일부분 일치하는 경우를 의미한다. 도 3(c)는 한 쪽이 다른 쪽을 포함하는 경우를 의미한다. 도 3(d)는 구간이 완전히 일치하는 경우를 의미한다. 두 비디오 클립의 유사도는 두 가지가 될 수 있다. 하나는 두 클립이 겹치는 구간의 시간 길이, 즉, 프레임 수 에 따른 유사도와 다른 하나는 각 프레임 자체의 유사도이다. 구간에 따른 유사도를 설명한다. 구간에 따른 유사도의 크기는 0 이상 1 이하의 값이 될 수 있다. 여기서, 구간에 따른 유사도의 경우, 유사도 0은 도 3(a)에 도시한 바와 같이 일치하는 경우가 없는 경우를 의 미한다. 유사도 1은 도 3(d)에 도시한 바와 같이 두 구간이 완전히 일치하는 경우를 의미한다. 본 발명에서 구간에 따른 유사도는 다음과 같이 정의한다. 비디오 클립 A에 대한 B의 유사도는 겹치는 프레임 수를 비디오 클립 A의 전체 프레임 수로 나눈 값을 의미한다. 비디오 클립 A, B의 유사도는 클립 A에 대한 B의 유사도 및 클립 B에 대한 A의 유사도 중 더 큰 값을 의미한다. 위의 내용을 수학식 1로 표현할 수 있다. 수학식 1 다음으로, 개별 프레임의 유사도에 대하여 설명한다. 두 정지 영상의 유사도는 PSNR, SSIM 등과 같은 방법을 사용할 수 있다. 본 발명에서는 로즈브록 제안한대로 해밍 거리 방법(Hamming distance)으로 유사도를 구할 수 있다. 해밍 거리 방법은 두 해시키를 해시키를 비트 단위로 비교하여 서로 다른 비트의 개수를 이용해서 유사도를 구하는 방법이 다. 구체적으로, H(a, b)는 a, b의 해시키를 비트 단위로 비교하여 서로 다른 비트의 개수를 구한다. 예를 들어, 이진수 10001과 10000 은 마지막 자리만 다르므로 해밍 거리값이 1 이 된다. 이진수, 11111과 10101 은 두번째, 네번째 자리가 서로 다르므로 해밍 거리값이 2가 된다. 정지 영상 k1, k2의 유사도는 10과 해밍 거리 k1, k2를 10으로 나눈 값을 의미한다. 단 해밍 거리 k1, k2의 값 이 10을 초과하면, 0이 된다. 예를 들어, 이진수 k1, k2 가 64 비트인 경우, 64 개 중 10개가 다르면, k1, k2에 대응하는 이미지가 완전히 다 르다고 결정하고 유사도를 0으로 결정한다. 해밍 거리는 0<H(k1, k2)< 64의 값을 갖는다. 위의 내용을 정리하면, 수학식 2로 표현할 수 있다. 수학식 2"}
{"patent_id": "10-2021-0186423", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "개별 프레임의 유사도는 0에서 1이 될 수 있다. 후자의 경우, 도 3(d)와 같이 두 클립이 만들어질 때의 원본 비디오가 같다면 유사도는 1이 된다. 그러나, 자막, 로고 추가 등 영상의 일부가 다를 경우 1보다 작을 수 있다. 예를 들면, 유사도는 0.95, 0.96 이 될 수 있다. 두 개의 비디오 영상이 다른 경우, 개별 프레임의 유사도는 0이 된다. 도 4는 본 개시의 일 실시 예에 따른, 시스템 전처리 및 런타임을 도시한 도면이다. 도 4는 도 4(a) 및 도 4 (b)를 포함한다. 도 4(a)는 시스템 전처리를 도시한 도면을 의미한다. 도 4(b)는 런타임을 도시한 도면을 의미한다. 런타임에 각 프레임 영상을 매번 직접 비교하는 것은 연산 자원 소모가 매우 크기 때문에 전처리로써 비디오 클 립을 데이터 베이스에 등록 시 도 4(a)에 도시한 바와 같이 전체 또는 일부 프레임에 대하여 해싱 연산을 수행 후 그 키를 저장한다. 여기서, 해싱을 행한 프레임을 해싱 프레임이라고 한다. 도 4(b)에 도시한 바와 같이, 전역 해시 테이블을 두어 시스템 초기화시 모든 클립의 해싱 프레임의 해시 키를 해시 테이블의 테이블 키로 하고 해당하는 프레임 해시키를 포함하는 클립의 리스트를 해시 테이블 값으로 한다. 예를 들어, 해시 테이블을 참조하여, 해시 값이 0x52153974인 경우, 대응하는 비디오 클립이 비디오 1임을 알 수 있다. 해시 값이 0x53113974인 경우, 대응하는 비디오 클립이 비디오 1, 비디오 2 임을 알 수 있다. 해시 값이 0x3ㄸ113974인 경우, 대응하는 비디오 클립이 비디오 1, 비디오 3 임을 알 수 있다. 구체적으로, 새로운 비디오 클립이 입력되면 제어부는 그 클립의 해싱 프레임에 대하여 해싱 연산을 수행 한 결과인 각 해시키에 대하여 전역 해시 테이블에서 조회 후, 모든 리스트의 클립을 중복된 비디오 클립 으로 반환한다. 그 후 필요에 따라 중복된 각 클립의 해싱 프레임의 키에 대하여 다시 비교 후 프레임의 겹치는 비율에 따라 유 사도를 계산한다. 이러한 해싱 방식으로 인해 한 프레임과 중복되는 클립을 검색하는 시간 복잡도는 이며, 개의 해싱 프레임을 가지는 클립과 전체 또는 일부 중복되는 클립을 검색하는 시간 복잡도는 복잡도는 O(N)이 된다. 다음으로, 영상 해싱에 대하여 설명한다. 데이터를 상대적으로 크기가 작은 키로 변환하는 해싱은 동일한 데이터는 같은 키 값을 보장하고 다른 데이터는 매우 높은 확률로 다른 키 값을 가지게 가지게 하는 연산이다. 해싱은 영상뿐만 아니라 일반적인 데이터에도 적 용 가능하다. 즉, 두 비디오 영상이 동일하면, 동일한 해시키 값을 갖는다. 그러나, 두 비디오 영상이 서로 다르면, 다른 해 시키 값을 갖는다. 본 발명의 일 실시 예에 따르면, 해싱 범위를 정지 영상에 대해서 한정할 수 있다. 그리고, 영상은 손실 압축 방식에 의한 데이터 차이, 밝기, 대비 조절, 해상도, 비율 변경 등 사람이 인지하기 에는 거의 동일하나 바이너리 데이터는 달라 해싱 결과물이 달라질 수 있다. 본 발명에서는 아드리언 로즈브록(Adrian Rosebrock)이 제안한 해시키 계산 방법을 사용한다. 먼저 영상을 흑백 이미지로 변환한다. 변환된 흑백 이미지를 9x8 픽셀로 크기를 변환하다. 가로로 인접한 두 픽셀에 대하여 오른쪽이 왼쪽보다 밝기가 더 크면 1, 아니면 0을 기록하여 8x8 = 64 개의 이 진 값을 생성한다. 생성된 이진 값을 그대로 64 비트 해시키로 사용한다. 이 방법은 연산이 빠르고 구현하기 간단하며, 영상의 밝기/대비가 조절되어도 유사한 이미지로 판단하고 이미지 크기나 비율 변경에도 유사한 이미지로 판단한다. 따라서, 밝기/대비 조절, 해상도 /비율 변경 등에 독립적인 장점을 가지고 있다. 그리고, 이미지 크기를 매우 작게 변경하였기 때문에 세부적인 차이에는 민감하지 않은 장점이 있다. 비디오 공간에 대하여 설명한다. 5초 분량의 30 FPS 비디오 클립의 모든 해시키의 크기는 각 해시키가 서로 달라도 요구하는 공간은 5 x 5 x 30 x 2 (64 비트 해시키) = 300 바이트로 작아서 100 만개의 클립을 데이터베이스화 하더라도 300 MB 수준이라 실 질적으로는 부하가 크지 않다. 그러나 클립의 시간 길이가 매우 길거나 데이터베이스의 가용 자원이 적을 경우, 보다 적은 자원을 사용하는 최 적화가 필요하다. 본 발명에서는 생성되는 해시키의 개수를 줄이기 위해 모든 프레임이 아닌 일부 선택된 프레 임만 해싱을 수행하는 방법을 제안한다. 동일한 컨텍스트에 대해 다르게 생성된 클립에서 같은 프레임이 선택되 기 위해서는 임의 프레임을 선택하는 것이 아니라 컨텍스트 인식 방법으로 해싱할 프레임을 선택해야 한다. 해싱 프레임 선택에 대하여 설명한다. 장면 전환을 자동으로 감지하거나 사물의 움직임을 인식하는 등 다양한 방법을 적용할 수 있지만 본 발명에서는 영상 해싱 알고리즘과의 일관성을 위해 밝기 증가를 이용하여 해싱 프레임을 선택한다. 먼저, 흑백으로 변환된 9 x 8 프레임을 선택한다. 다음으로, 각 픽셀에 대해 다음 프레임에서 밝기가 증가한 픽셀의 픽셀의 수를 카운팅한다. 인접한 두 흑백 프레임에 대하여 수학식 3를 만족하는 프레임을 선택한다. 수학식 3"}
{"patent_id": "10-2021-0186423", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "즉, 밝아진 픽셀의 픽셀의 수를 전체 픽셀로 나눈 값이 임계값을 초과하면, 그 프레임을 해싱 프레임으로 선택 한다. 만약, 선택된 프레임이 없으면 첫번째 프레임을 선택한다. 임계값에 대하여 설명한다. 임계값을 높이면 선택된 프레임의 개수가 줄어들어 전체 저장 공간이 줄어들지만 프레임 중복을 놓칠 가능성이 높아진다. 반대로 임계값을 낮추면 최적화 효율은 낮지만 중복을 놓칠 가능성은 낮아진다. 임계값은 0 에서 1의 범위를 갖는다. 임계값 0의 의미는 모든 프레임을 선택한다는 의미한다. 임계값 1의 의미는 프레임을 하나도 선택하지 않음을 의미한다. 임계값에 대한 압축률은 도 8에서 후술한다. 도 5는 본 개시의 일 실시 예에 따른, 비디오 검색 방법을 적용한 실시 예를 도시한 도면이다. 도 5에 도시한 바와 같이, 제어부는 메모리에 있는 비디오를 검색해서, 유사도를 계산한다. 제어부는 제 1 비디오 ~ 제 6 비디오 중 입력 비디오와 유사한 비디오는 제 1 비디오인 것 을 나타내는 제 1 이미지를 디스플레이한다. 제 1 이미지는 입력 비디오와 제 1 비디오와 유사하고 구간 유사도는 60 % 이고, 개별 프레임의 유사도는 98 % 인 내용을 포함한다. 도 6은 본 개시의 일 실시 예에 따른, 비디오 검색 방법의 순서도를 도시한 도면이다. 본 발명은 비디오 검색 장치에 의하여 수행된다. 도 6에 도시한 바와 같이, 제 1 비디오 데이터를 수신한다(S610). 수신된 상기 제 1 비디오 데이터로부터 해싱할 프레임을 선택한다(S620). 선택된 상기 프레임의 해시키를 생성한다(S630). 생성된 상기 해시키와 유사한 해시키를 포함하는 제 2 비디오 데이터를 검색한다(S640). 검색된 상기 제 2 비디오 데이터와 수신된 상기 제 1 비디오 데이터의 유사도를 계산한다(S650). 도 7은 본 개시의 일 실시 예에 따른, 비디오 검색 장치의 구조를 도시한 도면이다. 도 7을 참조하면, 비디오 검색 장치는 통신부, 디스플레이, 제어부 및 메모리를 포함 한다. 통신부는 외부 장치와 데이터를 송수신한다. 디스플레이는 제어부로부터의 제어 명령에 따라 그래픽 이미지를 디스플레이한다. 제어부는 제 1 비디오 데이터를 상기 통신부를 통하여 수신하고, 수신된 상기 제 1 비디오 데이터로 부터 해싱할 프레임을 선택하고, 선택된 상기 프레임의 해시키를 생성하고, 생성된 상기 해시키와 유사한 해시 키를 포함하는 제 2 비디오 데이터를 검색하고, 검색된 상기 제 2 비디오 데이터와 수신된 상기 제 1 비디오 데 이터의 유사도를 계산하고, 상기 디스플레이가 계산된 상기 유사도를 디스플레이하도록 제어한다. 제어부는 메모리에 저장된 비디오 메타 데이터 및 프레임 해시키를 기초로 해시 테이블을 생성한다. 제어부는 메모리에 저장된 비디오 메타 데이터 및 프레임 해시키를 기초로 해시 테이블을 생성한다. 제어부는 선택된 상기 프레임의 해시키를 개별적으로 생성하고, 생성된 해시키를 메모리에 저장한다. 제어부는 아드리안 로즈브록 방법으로 상기 프레임의 해시키를 생성한다. 구체적으로, 제어부는 상기 프레임을 흑백 이미지로 변경하고, 변경된 흑백 이미지의 크기를 M x N 크기로 변경하고, 가로로 인접한 두 픽셀에 대하여 오른쪽이 왼쪽보다 값이 더 크면 1로 설정하고, 오른쪽이 왼쪽보다 값이 더 작으면 0으로 설정하여 N x N 비트값을 계산하고, 계산된 상기 N x N 비트값으로 소정 비트 해시키를 생성한다. 제어부는 인접한 두 흑백 프레임에 대하여 각 픽셀에 대하여 밝기가 증가한 픽셀의 수를 전체의 픽셀 수로 나눈 값이 제 1 임계값을 초과하는 프레임을 선택한다. 여기서, 제 1 임계값을 증가시키면 선택된 프레임의 수가 감소하고, 상기 제 1 임계값을 감소시키면 선택된 프 레임의 수가 증가한다. 여기서, 제 1 비디오 데이터의 유사도는 상기 제 2 비디오 데이터와 겹치는 구간의 길이에 대한 유사도 및 상기 제 2 비디오 데이터와 겹치는 개별 프레임의 유사도 중 적어도 하나를 포함한다. 메모리는 제어부로부터의 제어 명령에 따라 유사도, 프로세스 실행 결과물을 저장한다. 도 8은 본 개시의 일 실시 예에 따른, 해싱 프레임 임계값에 따른 압축률을 도시한 도면이다. 실제 학습에 사용하기 위해 다양한 원본 비디오에서 관심 구간을 잘라내 만든 5초 내외의 1,500 여개의 클립을 해싱하는데 약 19 분이 소요되어 비디오 클립을 파일로부터 읽는 시간을 포함해 개당 약 0.7 초가 소요되었다. 해싱 프레임을 전체 프레임으로 설정했을 때, 즉, 전체 프레임을 해싱했을 때 1500 여개의 클립 중 실제로 6 쌍 이 서로 중복된 프레임이 존재한다는 것을 실시간 (10ms 이내 )으로 검출하였다. 그 중 5 쌍은 완전히 일치하는 클립이었고 1 쌍은 80% 이상 일치하는 클립이었다. 본 발명에 따르면, 해싱 프레임을 선택한 결과 임계값에 따른 압축률은 도 8과 같다. 압축률은 실제 생성된 유 일한 해싱키의 수를 이용해 계산한 것으로써 영상의 변화가 거의 없는 경우 다른 프레임에 대해서 같은 해싱키 가 생성되므로 계산된 압축률은 전체 프레임 수 대비 해싱 프레임 수 비율과는 다르다. 앞에서 언급한 6쌍의 중복된 클립 중 완전 일치 클립은 임계값에 상관없이 검출했으며, 부분 일치 클립은 임계 값이 0.5 이하에서 검출되었다. 그러나, 임계값이 0.5 보다 큰 경우, 부분 일치 클립이 검출되지 않았다. 본 발명에 따르면, 부분 일치 클립을 검출할 때 임계값은 0.6 이하의 값에서 의미가 있음을 알 수 있다. 도 9는 본 개시의 일 실시 예에 따른, 비디오 검색 장치의 구조를 도시한 도면이다. 도 9를 참조하여, 비디오 검색 장치에 대하여 설명한다. 비디오 검색 장치는 디바이스를 포함한다. 디바 이스는 메모리, 프로세서, 송수신부 및 주변 장치를 포함할 수 있다. 또한, 일 예로, 디바이스는 다른 구성을 더 포함할 수 있으며, 상술한 실시 예로 한정되지 않는다. 이때, 일 예로, 디바이스는 상술한 비디오 검색 방법에 기초하여 동작하는 장치일 수 있다. 보다 상세하게는, 도 9은 디바이스는 비디오 검색 장치와 같은 예시적인 하드웨어/소프트웨어 아키텍처일 수 있다. 이때, 일 예로, 메모리는 비이동식 메모리 또는 이동식 메모리일 수 있다. 또한, 일 예로, 주변 장치는 디스플레이, GPS 또는 다른 주변기기들을 포함할 수 있으며, 상술한 실시예로 한정되지 않는다. 또한, 일 예로, 상술한 디바이스는 상기 송수신부와 같이 통신 회로를 포함할 수 있으며, 이에 기 초하여 외부 디바이스와 통신을 수행할 수 있다. 또한, 일 예로, 프로세서는 범용 프로세서, DSP(digital signal processor), DSP 코어, 제어기, 마이크 로제어기, ASIC들(Application Specific Integrated Circuits), FPGA(Field Programmable Gate Array) 회로들, 임의의 다른 유형의 IC(integrated circuit) 및 상태 머신과 관련되는 하나 이상의 마이크로프로세서 중 적어도 하나 이상일 수 있다. 즉, 상술한 디바이스를 제어하기 위한 제어 역할을 수행하는 하드웨어적 /소프트웨어적 구성일 수 있다. 이때, 프로세서는 비디오 검색 장치의 다양한 필수 기능들을 수행하기 위해 메모리에 저장된 컴퓨 터 실행가능한 명령어들을 실행할 수 있다. 일 예로, 프로세서는 신호 코딩, 데이터 처리, 전력 제어, 입출력 처리 및 통신 동작 중 적어도 어느 하나를 제어할 수 있다. 또한, 프로세서는 물리 계층, MAC 계층, 어플리케이션 계층들을 제어할 수 있다. 또한, 일 예로, 프로세서는 액세스 계층 및/또는 어플리케이션 계층 등에서 인증 및 보안 절차를 수행할 수 있으며, 상술한 실시예로 한정되지 않는다. 일 예로, 프로세서는 송수신부를 통해 다른 장치들과 통신을 수행할 수 있다. 일 예로, 프로세서 는 컴퓨터 실행가능한 명령어들의 실행을 통해 장치가 네트워크를 통해 다른 장치들과 통신을 수행하게 제어할 수 있다. 즉, 본 발명에서 수행되는 통신이 제어될 수 있다. 일 예로, 다른 장치들은 NDN 서버, 콘텐츠 라우터 및 그 밖의 다른 디바이스들일 수 있다. 일 예로, 송수신부는 안테나를 통해 RF 신호를 전송할 수 있으며, 다양한 통신망에 기초하여 신호를 전송할 수 있다. 또한, 일 예로, 안테나 기술로서 MIMO 기술, 빔포밍 등이 적용될 수 있으며, 상술한 실시예로 한정되지 않는다. 또한, 송수신부를 통해 송수신한 신호는 변조 및 복조되어 프로세서에 의해 제어될 수 있으며, 상 술한 실시 예로 한정되지 않는다. 본 개시의 다양한 실시 예는 모든 가능한 조합을 나열한 것이 아니고 본 개시의 대표적인 양상을 설명하기 위한 것이며, 다양한 실시 예에서 설명하는 사항들은 독립적으로 적용되거나 또는 둘 이상의 조합으로 적용될 수도 있다. 또한, 본 개시의 다양한 실시 예는 하드웨어, 펌웨어(firmware), 소프트웨어, 또는 그들의 결합 등에 의해 구현 될 수 있다. 하드웨어에 의한 구현의 경우, 하나 또는 그 이상의 ASICs(Application Specific Integrated Circuits), DSPs(Digital Signal Processors), DSPDs(Digital Signal Processing Devices), PLDs(Programmable Logic Devices), FPGAs(Field Programmable Gate Arrays), 범용 프로세서(general processor), 컨트롤러, 마이크로 컨트롤러, 마이크로 프로세서 등에 의해 구현될 수 있다. 예를 들어, 종단 혹 은 에지에서 사용될 수 있는 비 일시적 컴퓨터 판독가능한 매체에 저장된 프로그램의 형식이나, 에지 혹은 클라 우드에서 사용될 수 있는 비 일시적 컴퓨터 판독 가능한 매체에 저장된 프로그램의 형식으로도 구현될 수 있음 은 자명하다. 또한, 다양한 하드웨어 및 소프트웨어의 결합으로도 구현될 수 있다. 본 개시의 범위는 다양한 실시 예의 방법에 따른 동작이 장치 또는 컴퓨터 상에서 실행되도록 하는 소프트웨어 또는 머신-실행 가능한 명령들(예를 들어, 운영체제, 애플리케이션, 펌웨어(firmware), 프로그램 등), 및 이러 한 소프트웨어 또는 명령 등이 저장되어 장치 또는 컴퓨터 상에서 실행 가능한 비-일시적 컴퓨터-판독가능 매체 (non-transitory computer-readable medium)를 포함한다."}
{"patent_id": "10-2021-0186423", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "이상에서 설명한 본 개시는, 본 개시가 속하는 기술분야에서 통상의 지식을 가진 자에게 있어 본 개시의 기술적 사상을 벗어나지 않는 범위 내에서 여러 가지 치환, 변형 및 변경이 가능하므로, 본 개시의 범위는 전술한 실시 예 및 첨부된 도면에 의해 한정되는 것이 아니다.도면 도면1 도면2 도면3 도면4 도면5 도면6 도면7 도면8 도면9"}
{"patent_id": "10-2021-0186423", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 개시의 일 실시예에 따른, 비디오 검색 장치의 구성을 도시한 도면이다. 도 2는 본 개시의 일 실시예에 따른, 비디오 검색 방법의 순서도를 도시한 도면이다. 도 3은 본 개시의 일 실시 예에 따른, 비디오의 일부 구간이 중복된 실시 예를 도시한 도면이다. 도 4는 본 개시의 일 실시 예에 따른, 시스템 전처리 및 런타임을 도시한 도면이다. 도 5는 본 개시의 일 실시 예에 따른, 비디오 검색 방법을 적용한 실시 예를 도시한 도면이다.도 6은 본 개시의 일 실시 예에 따른, 비디오 검색 방법의 순서도를 도시한 도면이다. 도 7은 본 개시의 일 실시 예에 따른, 비디오 검색 장치의 구조를 도시한 도면이다. 도 8은 본 개시의 일 실시 예에 따른, 해싱 프레임 임계값에 따른 압축률을 도시한 도면이다. 도 9는 본 개시의 일 실시 예에 따른, 비디오 검색 장치의 구조를 도시한 도면이다."}
