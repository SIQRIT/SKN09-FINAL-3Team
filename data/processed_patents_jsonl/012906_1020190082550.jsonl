{"patent_id": "10-2019-0082550", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2021-0007064", "출원번호": "10-2019-0082550", "발명의 명칭": "LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템", "출원인": "이상창", "발명자": "이상창"}}
{"patent_id": "10-2019-0082550", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "FPGA를 기반으로 하여 용도 맞춤형 알고리즘 설계가 가능하고, LiDAR센서가 적용되는 LiDAR가 탑재된 FPGA 기반드론 비행제어 시스템에 있어서,드론에 마련되어 상기 드론의 속도, 가속도, 각속도, 방위각 및 장애물 위치를 센싱하는 센서부;상기 드론에 마련되어 항법연산, 자세제어연산, 로터제어 및 서보모터제어를 실시하는 비행제어부;상기 드론이 자동비행, 목표지점 이동 또는 호버링 하도록 상기 비행제어부에 명령신호를 인가하는 지상관제부;를 포함하고,상기 비행제어부는 항법연산, 자세제어연산, 로터제어, 서보모터제어, 자동비행 및 호버링을 기 설정된 방식으로 제어할 수 있게 상기 드론의 비행제어 알고리즘을 입력 받는 알고리즘입력모듈;을 더 포함하는 것을 특징으로 하는 LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템."}
{"patent_id": "10-2019-0082550", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 센서부는 LiDAR센서를 통해 장애물 위치를 센싱하는 것을 특징으로 하는 LiDAR가 탑재된 FPGA 기반 드론비행제어 시스템."}
{"patent_id": "10-2019-0082550", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 센서부는 상기 드론의 속도, 가속도, 각속도, 방위각, 장애물 위치를 포함한 센싱정보를 생성하여, 상기비행제어부 및 상기 지상관제부에 전송하는 것을 특징으로 하는 LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템."}
{"patent_id": "10-2019-0082550", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 알고리즘입력모듈은,드론의 비행제어 알고리즘을 구현하기 위해 유스케이스 다이어그램을 이용하는 것을 특징으로 하는 LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템."}
{"patent_id": "10-2019-0082550", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제3항에 있어서,상기 비행제어부에는 통신모듈이 더 마련되어, 상기 센서부가 생성한 센싱정보를 수신하여, 상기 지상관제부에전달하고, 항법연산, 자세제어연산, 로터제어 및 서보모터제어를 포함한 제어이력신호를 생성하여 상기 지상관제부에 전달하는 것을 특징으로 하는 LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템."}
{"patent_id": "10-2019-0082550", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템에 관한 것으로, 자세하게는 FPGA 기반으로 작동하여 단일 칩으로 제어 가능하므로, 무게, 전력소모량 측면에서 효율이 상승하고, 호버링 및 충돌회피 기능을 가지는 LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템에 관한 것으로, FPGA를 기반으로 하여 용도 맞춤형 프로그램 설 (뒷면에 계속)"}
{"patent_id": "10-2019-0082550", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템에 관한 것으로, 자세하게는 FPGA 기반으로 작동하여 단일 칩으로 제어 가능하므로, 무게, 전력소모량 측면에서 효율이 상승하고, 호버링 및 충돌회피 기능을 가지는 LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템에 관한 것이다."}
{"patent_id": "10-2019-0082550", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "현재 민수용(항공촬영용, 레저용) 및 군용(정찰용) 드론의 산업이 빠르게 성장하고 있으며, 드론은 새로운 상업 용 및 소비자 시장에까지 진출하고 있다. 또한, 드론 관련 기술은 3D 모델링, 군사, 택배 서비스 등 다양한 응용분야에 새롭게 적용되면서 지속적으로 확 대되고 있다. 하지만, 이러한 응용분야에 대한 적용이 점차 확대되면서 더욱 많은 프로세싱 파워와 I/O(Input/Output) 인터페 이스를 필요로 하지만, 현재 이용할 수 있는 비행제어시스템(FCC, Flight Control Computer) 플랫폼은 이러한 발전 속도에 따라가지 못하고 있는 실정이며, 현재 대부분의 드론 비행제어시스템 플랫폼은 드론 운용에 필요한 소프트웨어와 하드웨어의 진화에 따라가지 못하고 한계에 다다르고 있는 상황이다. 현재 제공되는 대부분의 비행제어 플랫폼은 MCU(Microcontroller Unit)를 기반으로 하고 있으며, 이러한 형태의 아키텍처는 제한된 프로세싱 파워 및 I/O 인터페이스확장 성능으로 인해 센서를 융합하여 기능을 확장하는데 한 계가 있다. 이에 FPGA(Field Programmable Gate Array, 필드 프로그래머블 게이트 어레이)을 기반으로 하여 비행제어 시스 템인 FCC를 개발하여, 이를 통해 경량화, 저 전력화, 처리속도 향상, 다수의 다향한 I/O 인터페이스를 통해 비 행제어 컴퓨터의 확장성을 가지게 하는 기술이 필요한 실정이다. FPGA는 설계 가능 논리 소자와 프로그래밍이 가능한 내부 회로가 포함된 반도체 소자이다. 설계 가능 논리 소자 는 AND, OR, XOR, NOT, 더 복잡한 디코더나 계산기능의 조합 기능 같은 기본적인 논리 게이트의 기능을 복제하 여 프로그래밍할 수 있다. 대부분의 FPGA는 프로그래밍 가능 논리요소 (FPGA 식으로는 논리 블록이라고도 함)에 간단한 플립플롯이나 더 완벽한 메모리 볼록으로 된 메모리 요소를 포함하고 있다. 프로그램이 가능한 내부선 계층구조는 FPGA의 논리블록을 시스템 설계자가 요구하는 대로 단일 칩 프로그래밍가 능한 브레드보드처럼 내부연결을 할 수 있다. 이 논리블록과 내부선은 제조공정 이후에 소비자/설계자가 프로그 램 할 수 있으므로 요구되는 어떠한 논리기능도 수행할 수 있다.(그러한 이유로 “현장 프로그래머블”이라 불 린다.) 또한, FPGA는 일반적으로 개발시간이 짧고, 오류를 현장에서 재수정할 수 있고, 초기 개발비가 저렴하다는 장점 이 있다. 한편, 드론으로 불리는 무인항공기 보급이 크게 확대되면서 안전 비행에 대한 사회적 요구가 높아지고 있다. 무 인항공기로 인한 사고가 해마다 급증하고 있는 추세이며 무인항공기 운용상에 발생하는 사고에 대한 분석이 활 발히 이루어지고 있다. 미국에서는 사고 사례 중 운영상 주변 시설물과 충돌해서 발생하는 접촉사고가 대부분을 차지하였다. 최근에는 건물 및 공중 설치물과의 충돌을 비롯해 여객기와의 충돌 사고까지 우려되고 있다. 이를 해결하기 위 한 충돌회피 기술에 대한 연구개발 활동도 점차 활발해지고 있다. 특허청에 따르면 무인항공기의 충돌회피 기술 과 관련된 특허출원은 2009년부터 2011년까지는 8건에 불과했으나, 2012년부터 2014년까지는 21건으로 늘어났다. 2015~2017년에는 46건으로 출원 건수가 증가한 것을 알 수 있다. 또한, 최근에는 무인항공기 분야 차세대 핵심기술의 하나인 충돌 회피에 대한 기술 개발이 활발히 이루어지고 있다. 이와같이 장애물을 감지한 후 최적의 경로로 회피하는 알고리즘과 멀티콥터가 실제 상황에서 충돌 회피하 여 임무를 수행하는 기술의 개발이 필요한 실정이다. 또한, GPS가 지원되지 않거나 수신이 원활하지 않은 터널 내, 건축물 내, 건물 사이 좁은 공간에서 드론이 원활 하게 임무를 수행하기 위한 기술을 포함하여 호버링 및 충돌회피 기술의 개발 역시 필요한 실정이다. 종래의 기술인, 대한민국 등록특허 제10-1946429호는, 다중 에이전트 구조를 이용하는 임무형 플로킹 알고리즘 에 의한 드론 비행 제어 시스템 및 방법에 관한 것으로, 임무형 플로킹 알고리즘을 이용한 드론비행 제어 시스 템은, 대상드론에 관한 드론 정보 및 임무 여부에 기초하여 상기 대상드론의 상태를 인지하는 자기 추정 에이전 트, 상기 대상드론의 주변을 센싱하여 상기 대상드론 주변의 물체에 대한 물체 정보를 인식하는 주변 인식 에이전트, 상기 대상드론의 상태 및 상기 물체 정보에 기초하여 상기 대상드론의 상황을 인식하는 상황 인식 에이전 트, 상기 상황에 대응하는 상기 대상드론의 행동 방향을 결정하는 계획 에이전트 및 결정된 상기 행동 방향에 따라 상기 플로킹 알고리즘의 규칙에 기초하여 상기 대상드론을 제어하는 행동 에이전트를 포함하나, 상술한 문 제점을 해결하기에는 어려움이 있었다. 선행기술문헌 특허문헌 (특허문헌 0001) 대한민국 등록특허 제10-1946429호"}
{"patent_id": "10-2019-0082550", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "상기와 같은 문제점을 해결하기 위한 본 발명의 목적은, FPGA 기반으로 비행제어를 실시하여 무게 및 전력소모 측면에서 효율이 높은 드론 비행제어 시스템을 제공하는 데 있다. 본 발명의 다른 목적은, 충돌회피 기능을 가지는 드론 비행제어 시스템을 제공하는 데 있다. 본 발명이 해결하고자 하는 과제들은 이상에서 언급한 과제로 제한되지 않으며, 여기에 언급되지 않은 본 발명 이 해결하고자 하는 또 다른 과제들은 아래의 기재로부터 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2019-0082550", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 과제를 해결하기 위한 본 발명의 일실시예에 따른 LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템은, FPGA를 기반으로 하여 용도 맞춤형 프로그램 설계가 가능하고, LiDAR센서가 적용되는 LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템에 있어서, 드론에 마련되어 상기 드론의 속도, 가속도, 각속도, 방위각, 장애물 위치를 센싱하는 센서부와, 상기 드론에 마련되어 항법연산, 자세제어연산, 로터제어, 서보모터제어를 실시하는 비행제 어부와, 상기 드론이 자동비행, 목표지점 이동 또는 호버링 하도록 상기 비행제어부에 명령신호를 인가하는 지 상관제부를 포함하고, 상기 비행제어부는 항법연산, 자세제어연산, 로터제어, 서보모터제어, 자동비행, 호버링 을 기 설정된 방식으로 제어할 수 있게 알고리즘을 입력 받는 알고리즘입력모듈을 더 포함하여 구성된다."}
{"patent_id": "10-2019-0082550", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따른 LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템은, 드론의 FPGA 칩에 마련되는 비행제어부의 구성을 통해 무게 및 전력소모 측면에서 효율이 높은 드론 비행제어 시스템을 제공하는 효과가 있다. 본 발명에 따른 LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템은, LiDAR센서를 통해 장애물의 위치를 센싱하 여 충돌회피 성능이 높은 드론 비행제어 시스템을 제공하는 효과가 있다."}
{"patent_id": "10-2019-0082550", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이상과 같은 본 발명에 대한 해결하고자 하는 과제, 과제의 해결수단, 발명의 효과를 포함한 구체적인 사항들은 다음에 기재할 실시예 및 도면들에 포함되어 있다. 본 발명의 이점 및 특징, 그리고 그것들을 달성하는 방법은 첨부되는 도면과 함께 상세하게 후술되어 있는 실시예들을 참조하면 명확해질 것이다. 본 발명에 따른 LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템은, 도 1 내지 도 9에 도시된 바와 같이, FPGA 를 기반으로 하여 용도 맞춤형 프로그램 설계가 가능하고, LiDAR센서가 적용되는 LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템에 있어서, 드론에 마련되어 상기 드론의 속도, 가속도, 각속도, 방위각, 장애물 위치를 센싱하는 센서부와, 상기 드론에 마련되어 항법연산, 자세제어연산, 로터제어, 서보모터제어를 실시하는 비 행제어부와, 상기 드론이 자동비행, 목표지점 이동 또는 호버링 하도록 상기 비행제어부에 명령신호를 인 가하는 지상관제부를 포함하고, 상기 비행제어부는 항법연산, 자세제어연산, 로터제어, 서보모터제어, 자 동비행, 호버링을 기 설정된 방식으로 제어할 수 있게 알고리즘을 입력 받는 알고리즘입력모듈을 더 포함하 여 구성될 수 있다. FPGA는 Field programmable gate Array의 약자로 인류 역사상 가장 신뢰성이 높은 프로그래밍이 가능한 집적회 로 반도체라 할 수 있다. 모든 신호가 하드웨어 레벨에서 실시간 처리될 수 있다. HDL(hardware description language)이라는 특수한 하드웨어 기술 언어를 통해 신서시스되고 업로드되어 하드웨어 내부의 논리연산과 배선 이 재조정된다. 현대에는 VHDL과 Verilog라는 하드웨어 기술 언어를 주로 사용한다. 일반적인 프로세서는 메모리에 있는 프로그램을 불러와서 CPU에서 해독하여 작업을 실행하지만 FPGA는 아예 프 로세서 내부 회로를 프로그램에 맞게 직접 설계해 놓고 곧바로 병렬적으로 실행시킴으로써 CPU보다 압도적인 계 산 속도를 낼 수 있다. 또한, 칩셋 내부에 로직 게이트를 자유자재로 구현할 수 있도록 진리표를 이용해 로직을 만들어내는 RAM과 플립 플롭이 빽빽이 박혀있고 내부 결선을 직접 변경할 수 있기 때문에 사용자의 용도에 맞게 온갖 칩을 설계 가능하 다. 단순 MCU 대체 용도에서부터 시작해서 DSP나 아예 자기가 원하는 방식대로 새로운 논리소자나 CPU를 만드는 것도 가능하며 동작 속도도 기가헤르츠까지 활용 가능하다. 주요 성능의 지표로는 동작 속도가 아닌 논리 블록의 수로 평가되는데, 이는 게이트 간 결선을 통해 동시에 수 만에서 수백만의 명령을 단 한 번에 병렬적으로 실행할 수 있기 때문이다. 이는 클럭신호에 맞추어 명령어를 차 례대로 수행하는 프로세서와는 근본적으로 동작 방법이 다르다고 할 수 있다. 이러한 이점 때문에 FPGA는 로봇 제어, 인공지능, 채굴기, 데이터센터 등을 위한 가속기, 우주선, 인공위성, 대부분의 현대전 무기, 전자전 무기, 미사일 등에 활용되고 있다. 따라서, FPGA를 적용한 본 발명은 상기 드론의 비행제어 시스템을 SoC(System-on-Chip, 단일 칩 시스템) 형태로 제작하여 소형 경량화가 가능하고, 무게, 전력소모량 측면에서 종래의 드론보다 효율이 뛰어나다. 또한, 기존 여러 개의 모듈을 연결하는 커넥터, 배선 및 마운트용 부자재들이 제거되므로 추가적인 경량화가 가 능하며, 시스템의 단순화로 생산성이 향상되어 대량생산에 적합하다. 또한, LRU(Line Replacement Unit)단위 부 품교체가 용이하므로 정비성이 우수하다.본 발명에 따른 LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템에는 상기 센서부가 마련된다. 상기 센서부는 상기 드론에 마련되어, 상기 드론의 속도, 가속도, 각속도, 방위각, 장애물 위치를 센싱할 수 있다. 또한, 도 2에 도시된 바와 같이, 상기 센서부에는 GPS(Global positioning System)장치, AHRS(Attitude & Heading Reference System)장치, LiDAR(Light Detection And Ranging)센서가 마련될 수 있다. 상기 GPS장치는 상기 드론의 위치, 속도, 방위각 및 고도를 센싱하는데 활용될 수 있다. 상기 AHRS장치는 상기 드론이 비행 시 3축(x, y, z)에 대한 속도, 가속도, 방위각 등의 자세정보를 취득할 수 있다. 상기 AHRS장치는 통상적으로 자동차나 항공기 등의 자세를 파악하기 위한 장치로서, 3축으로 측정대상이 기 울어진 각도 및 방위각의 회전 정도를 센싱할 수 있다. 상기 LiDAR센서는 상기 드론 주위의 장애물 위치를 센싱하기 위해 마련된다. 상기 LiDAR센서는 레이저 스캐너, 레이저 레이더 등으로 불리기도 하며, 물체를 감지해 거리를 맵핑하는 센 싱 방식이다. 광학 펄스로 목표물을 비춘 후 반사된 반송 신호의 특징을 측정할 수 있다. 또한, 광학-펄스의 폭 은 몇 나노초부터 몇 마이크로초까지 변동할 수 있다. 상기 LiDAR센서는 기 설정된 패턴으로 빛을 쏘아 수신 쪽의 반사광들을 바탕으로 정보를 추출할 수 있다. 또한, 상기 LiDAR센서는 펄스 전력, 왕복 시간, 위상 변이, 펄스폭을 통해 장애물의 거리 및 위치 정보를 추출할 수 있다. 또 다른 실시예로, 장애물 위치를 센싱하기 위해 상기 LiDAR센서, 초음파장치, 레이더시스템 또는 카메라 중 하나가 마련되어 구성될 수 있다. 또는, 상기 LiDAR센서, 초음파장치, 레이더시스템 및 카메라 중 적어 도 둘 이상이 복합적으로 구성될 수 있다. 이는 각 센서장치들의 단점을 각 센서장치의 중복 설치를 통해 해결하기 위한 구성이다. 초음파는 몇 미터만 벗어나도 대기 중에서 크게 감쇠하게 된다. 따라서 초음파센서는 주로 단거리 물체 감지에 쓰인다. 카메라는 비용 효율적이고 쉽게 구할 수 있는 센서이지만, 유용한 정보를 추출하려면 상당한 프로세싱 이 필요하며 주변의 광 조건에 크게 좌우된다. 또한, 상기 LiDAR센서는 상기 센서부의 구성에 우선으로 포함하는 것이 바람직하다. LiDAR는 레이저 광을 조준할 수 있는 능력과 905~1550nm의 짧은 파장 때문에 LiDAR의 적외선 공간 분해능은 0.1 °단위까지 나눌 수 있다. 이는, 백-엔드 프로세싱 없이도 물체들의 특징을 한 장면으로 3D 묘사할 수 있는 것 을 의미한다. 한편, 도 1에 도시된 바와 같이, 상기 센서부는 상기 드론의 속도, 가속도, 각속도, 방위각, 장애물 위치를 포함한 센싱정보를 생성하여, 상기 비행제어부 및 상기 지상관제부에 전송할 수 있다. LiDAR는 최근 소형 및 경량화 되었고, 임베디드 시스템을 통해 실시간으로 데이터 처리가 가능하여 드론에 적용 되기 적합하다. 또한, 상기 LiDAR센서로부터 획득된 측정치는 전 방위의 사물에 대해 거리를 획득할 수 있다. 즉, 도심과 같의 복잡한 환경에서 항법 시스템을 구성하기에 적합하다. 상기 LiDAR센서는 측정치를 측정할 때 수평축에 대해서는 상기 드론을 중심으로 전방위(360°)에 대해 사용 자가 설정한 간격 dψ로 거리를 측정하고, 수직축에 대해서는 수직축 범위(+15° 내지 -15°)에서 dθ(2°) 간 격으로 총 16개 채널의 거리 측정치를 수집할 수 있다. 상기 LiDAR센서은 측정치를 얻기 위해 상기 LiDAR센서에서 레이저를 목표물로 조사(irradiation)하고 물체로부터 반사된 레이저를 수하여 거리를 측정할 수 있다. 또한, 상기 LiDAR센서는 상기 LiDAR센서를 중심으로 주변의 장애물까지의 교점(node)을 찾아 거리를 획 득할 수 있다. 상기 LiDAR센서의 특정 각도에서 조사된 레이저는 기 설정된 간격으로 진행하며 장매물의 유무를 판단하고, 장애물이 있다고 판단된다면 해당 지점과 상기 LiDAR센서간의 거리를 구하여 측정치로 저장한다. 만약 조사 된 레이저가 장애물을 만나지 못하면 해당 위치의 프로파일에 -1을 대입하여 데이터가 없음을 표시한다. 상기 LiDAR센서에서 측정되는 측정치 프로파일은 다음의 <계산식 1>과 같이 나타낼 수 있다. yt, xt, vt는 현재 위치에서의 상기 LiDAR센서 측정치 프로파일, 현재 드론의 위치, 백색 가우시안 잡음을 나타낸다. <계산식 1> yt = z(xt) + vt 상기 LiDAR센서를 통한 상기 드론의 충돌회피 알고리즘은 정지, 회피, 회피 방향 결정, 회피 포인트 생성의 단계를 포함한다. 정지 단계는 장애물을 감지하고 설정된 거리 앞에서 정지하여 호버링을 유지하고 3초 후 다시 탐지하여 장애물 이 없으면 다시 자동 비행을 하는 것일 수 있다. 이때 정지 시간은 가변 가능하게 제한되지 않는 것이 바람직하 다. 회피 단계는 장애물을 감지하고 설정된 거리 앞에서 정지하여 호버링을 유지하고 3초 후 다시 탐지되면 회피하 는 포인트를 생성하며, 생성된 회피 포인트로 이동하면 원 설정된 목표점으로 이동할 수 있게 구성된다. 회피 방향 결정 단계는 상기 LiDAR센서로 획득한 거리 값들을 이용하여 상기 드론이 이동할 수 있는 영역을 계산하고, 계산값을 바탕으로 최소 안전 영역을 설정하여 진행 방향에 대한 최적의 경로점을 설정하는 것을 포 함한다. 회피 포인트 생성 단계는 회피 포인트가 장애물을 감지하는 포인트에서 직선거리로 생성되는 것이 제일 짧기 때 문에 장애물에서부터 떨어진 거리에 대해 생성할 수 있다. 구체적인 일 실시예로, 상기 LiDAR센서를 바탕으로 한 상기 드론의 충돌회피 알고리즘 순서는 다음과 같다. 장애물을 인식하고 상기 LiDAR센서에서 얻은 장애물의 끝점의 거리와 각도 데이터를 이용하여 장애물과 의 일정한 거리를 유지하여 생성한 정지 지점에서 상기 드론이 정지한다. 정지 후 장애물이 여전히 감지되면 목표물에 대한 장애물의 양 끝점의 위치에 따라 달라지는 회피 지점의 방향을 정한다. 결정된 방향에 따른 장애물의 일정한 거리에 새로운 경로점인 회피 지점을 추가하여 회피 지점으로 이동한 다. 새로운 경로 점에 도달한 후에 원래 가려했던 목표 지점으로 이동한다. 다음으로, 상기 비행제어부는 상기 드론에 마련되어 항법연산, 자세제어연산, 로터제어, 서보모터제어를 실 시할 수 있다. 자세하게는, 도 3에 도시된 바와 같이, 상기 비행제어부에는 항법연산모듈, 자세제어연산모듈, 로터 제어모듈, 서보모터제어모듈이 마련될 수 있다. 또한, 상기 비행제어부에는 통신모듈이 더 마련될 수 있다. 상기 통신모듈은 상기 센서부가 생성 한 센싱정보를 수신하고, 상기 지상관제부에 전달할 수 있다. 또한, 상기 통신모듈은 항법연산, 자세제어연산, 로터제어, 서보모터제어를 포함한 제어이력신호를 생성하 여 상기 지상관제부에 전달할 수 있다. 구체적인 실시예로 상기 센서부에 의해 상기 센싱정보가 갱신되면 상기 비행제어부의 상기 통신모듈 을 통해 갱신된 상기 센싱정보를 상기 지상관제부로 전달한다. 동시에 상기 비행제어부는 갱신된 상기 센싱정보에 따라 상기 항법연산모듈과 자세제어연산모듈을 활성화 시킨다. 상기 항법연산모듈은 상기 로터제어모듈 및 서보모터제어모듈에 제어신호를 인가하고, 동시에, 상기 자세제어연산모듈은 상기 로터제어모듈과 상기 서보모터제어모듈에 제어신호를 인가하여 상기 드론의 비행각을 수정할 수 있다. 이렇게 각 로터제어모듈과 상기 서보모터제어모듈에 인가된 각 제어신호는 상기 통신모듈을 통해 상기 지상관제부에 전송된다. 또한, 상기 비행제어부에는 이상진단모듈이 더 마련될 수 있다. 상기 이상진단모듈은 상기 드론의 속도, 가속도, 각속도, 방위각이 기 설정치를 벗어났을 때, 상기 드론을 자동비행 모드로 전환하고 호버링을 통해 소정의 시간동안 공중에 머물다가 소정의 시간이 지나면 지상으로 착 륙하게 할 수 있다. 또한, 상기 이상진단모듈은 상기 통신모듈을 통해 상기 지상관제부에 알림신호를 전송할 수 있다. 상술한 상기 비행제어부의 구성들은 FPGA 칩 하나를 통해 비행제어를 할 수 있으므로, 상기 드론의 경량화 및 전력소모 감소를 도모할 수 있다. 다음으로, 상기 지상관제부는 상기 드론이 자동비행, 목표지점으로 이동 또는 호버링 하도록 상기 비행제어 부에 명령신호를 인가 할 수 있게 마련된다. 상기 지상관제부에는 모니터링모듈(미도시)이 더 마련될 수 있다. 상기 모니터링모듈(미도시)은 상기 통신모듈을 통해 상기 센서부에서 생성된 속도, 가속도, 각속도, 방 위각, 장애물 위치를 포함한 센싱정보를 전송받을 수 있다. 또한, 상기 모니터링모듈(미도시)은 상기 로터제어모듈과 상기 서보모터제어모듈에 인가되는 각 제어신 호를 모니터링 할 수 있다. 호버링(Hovering)은 드론을 공중에 띄워서 움직이지 않고 그 자리에 머물게 하는 기술이다. 호버링은 드론이 공 중에서 임무신호를 전송받거나, 안전하게 착륙하기 위해 필요한 기술이다. 본 발명에 따른 상기 드론은 상기 지상관제부와 통신 연결이 끊어질 경우 기 설정된 이동 값이 없을 경우 호 버링을 통해 소정의 시간동안 공중에 머물다가 소정의 시간이 지나면 지상으로 착륙할 수 있다. 또한, 상기 자동비행은 적어도 하나 이상의 기 지정된 포인트를 향해 상기 드론이 별다른 조향 없이도 비행하여 이동하게 할 수 있다. 이때 이동 고도와 속도는 포인트 지정 시 함께 지정할 수 있다. 한편, 상기 알고리즘입력모듈은, 상기 비행제어부에 마련되어, 항법연산, 자세제어연산, 로터제어, 서보 모터제어, 자동비행, 호버링을 기 설정된 방식으로 제어할 수 있게 알고리즘을 입력 받을 수 있게 마련되는 구 성이다. 본 발명의 구체적인 실시예로 상기 드론은 4방향으로 날개가 달린 쿼드로터형 드론일 수 있다. 또한, 상기 드론 의 호버링 및 이동 알고리즘을 구현하기 위해 하기의 <계산식 2>을 이용한다. <계산식 2> ξ=[ΓEθE]=[XYZΦθψ]T ξ : 지구 관성 좌표계에서의 속도벡터 ΓE : 지구 관성 좌표계의 직선운동 위치벡터 θE : 지구 관성 좌표계의 회전운동 XYZ : 쿼드로터의 위치 Φθψ : Roll, Pitch, Yaw 상기 드론의 쿼드로터의 Roll, Pitch, Yaw 움직임과 기체 고정 좌표계의 기준방향은 도 4에 나타내었다. 또한, 상기 드론의 쿼드로터의 전달함수와 선형 상태모델 제어기 설계를 통해 PID 제어와 LQR 제어를 할 수 있 다. PI 제어기는 P 제어기에 적분제어기가 추가된 구조이며, 적분기를 통해 시스템의 정상상태 오차를 줄여주지만 적분기에서 발생하는 적분연산 때문에 누적오차가 생가 actuator의 saturation이 일어나 step setpoint가 크게 변하거나 외란이 큰 경우 적분값이 급격히 증가하는 integral wind up 현상을 보상해 주어야 하므로 saturation 의 최대한계치를 제한해 주었으며, PI 제어기의 구조는 도 5에 나타내었다. LQR(Liner Quadratic Regulator) 제어기의 설계를 위해 쿼드로터의 선형화된 모델을 유도하고 선형상태 모델은 호버링 상태를 가정하였다. 도 6은, 쿼드로터의 고도, Roll, Pich, Yaw를 제어하기 위한 PID 제어기 블록도이며, 고도 제어를 위한 블록도 에서 상수 블록을 추가하여 호버링 상태 값을 입력하게 된다. 도 7은, 1m 고도 상승 입력에 따른 출력 응답으로 일정 시간이 흐른 뒤에 2m 근처에서 고도가 유지되는 매트랩 시뮬레이션 그래프이다. 매트랩 시뮬레이션을 근거로 하여 FPGA에 사용되는 VHDL 언어를 적용하여 비행 제어 엔진에 관련된 알고리즘 시 뮬레이션 검증을 할 수 있다. 또한, 본 발명의 일 실시예에 따르면, 상기 알고리즘입력모듈에 알고리즘을 입력할 수 있는 사용자단말기가 더 마련될 수 있다. 또한, 도 8에 도시된 바와 같이, 상기 사용자단말기는 상기 드론에 적용되는 비행제어 알고리즘을 구현하기 위 해 유스케이스 다이어그램을 활용할 수 있다. 유스케이스 다이어그램은 비행제어 시스템의 필요사항을 충분히 반영하여 검증을 용이하게 할 수 있다. 또한, 도 9에 도시된 바와 같이, 상기 사용자단말기는 유스케이스 다이어그램을 바탕으로 액티비티 다이어그램 을 도출할 수 있다. 또한, 상기 사용자단말기는 액티비티 다이어그램의 액션 스테이트를 Top-Down 방식으로 코딩하여 수정 및 시인 성이 뛰어난 비행제어 알고리즘을 구현할 수 있다. 통상적으로 비행제어에 사용되는 실시간 운용체제 디바이스의 경우 높은 가격의 라이센스를 지불해야하기 때문 에 높은 가격의 개발비용이 필요하지만, 상술한 예와 같이 본 발명에 따른 LiDAR가 탑재된 FPGA 기반 드론 비행 제어 시스템은, FPGA 칩을 탑재하여 별도의 라이센스 비용 없이 설계자 알고리즘을 이식하면 멀티태스킹을 통 하여 실시간으로 제어가 가능한 효과를 가지고 있다."}
{"patent_id": "10-2019-0082550", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "이와 같이, 상술한 본 발명의 기술적 구성은 본 발명이 속하는 기술분야의 당업자가 본 발명의 그 기술적 사상 이나 필수적 특징을 변경하지 않고서 다른 구체적인 형태로 실시될 수 있다는 것을 이해할 수 있을 것이다. 그러므로 이상에서 기술한 실시예들은 모든 면에서 예시적인 것이며 한정적인 것이 아닌 것으로서 이해되어야 하고, 본 발명의 범위는 상기 상세한 설명보다는 후술하는 특허청구범위에 의하여 나타나며, 특허청구범위의 의 미 및 범위 그리고 그 등가 개념으로부터 도출되는 모든 변경 또는 변형된 형태가 본 발명의 범위에 포함되는 것으로 해석되어야 한다."}
{"patent_id": "10-2019-0082550", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은, 본 발명에 따른 LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템의 일실시예에 따른 개념도를 나타낸 것이다. 도 2는, 본 발명에 따른 LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템의 일실시예에 따른 센서부의 구성을 나타낸 것이다. 도 3은, 본 발명에 따른 LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템의 일실시예에 따른 비행제어부의 구성 을 나타낸 것이다. 도 4는, 본 발명에 따른 LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템의 일실시예에 따른 쿼드로터의 RoLL, Pitch, Yaw 움직임과 기체 고정 좌표계의 기준방향을 나타낸 것이다. 도 5는, 본 발명에 따른 LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템의 일실시예에 따른 PI 제어기 구조를 나타낸 것이다.도 6은, 본 발명에 따른 LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템의 일실시예에 따른 PID 제어기 블록도 를 나타낸 것이다. 도 7은, 본 발명에 따른 LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템의 일실시예에 따른 매트랩 시뮬레이션 을 나타낸 것이다. 도 8은, 본 발명에 따른 LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템의 일실시예에 따른 드론 비행제어 시 스템 유스케이스 다이어그램을 나타낸 것이다. 도 9는, 본 발명에 따른 LiDAR가 탑재된 FPGA 기반 드론 비행제어 시스템의 일실시예에 따른 드론 비행제어 시 스템 액티비티 다이어그램을 나타낸 것이다."}
