{"patent_id": "10-2020-0038894", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2021-0121710", "출원번호": "10-2020-0038894", "발명의 명칭": "수면 상태 케어 방법 및 시스템", "출원인": "(주)나연테크", "발명자": "강성윤"}}
{"patent_id": "10-2020-0038894", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "매트의 센서에서 사용자의 자세 및 뒤척임 데이터를 수집하는 단계;상기 사용자가 매트에 누워 있는지 판단하는 단계;상기 사용자의 뒤척임 횟수를 판단하는 단계;상기 뒤척임 횟수에 기반해 상기 사용자의 수면 연속성 지수를 카운팅하는 단계; 상기 수면 연속성 지수에 따라 상기 사용자의 수면 상태를 판단하는 단계;상기 수면 상태 및 수면 환경 정보에 따른 상기 사용자의 수면 점수를 판단하는 단계; 및상기 수면 점수에 따른 주변기기를 제어하는 단계;를 포함하는 수면 상태 케어 방법."}
{"patent_id": "10-2020-0038894", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서, 상기 수면 점수 판단 단계에서, 상기 수면 환경 정보는,온도, 습도, 조도, 소음, 코골이를 포함하는 것을 특징으로 하는 수면 상태 케어 방법."}
{"patent_id": "10-2020-0038894", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서, 상기 수면 점수 판단 단계는,학습된 수면 점수 모델에 기반해 상기 수면 상태 및 수면 환경 정보에 따른 상기 사용자의 수면 점수를 판단하는 단계;상기 수면 점수 데이터를 학습해 상기 사용자의 수면분석 학습 모델을 설계하는 단계; 및상기 사용자의 수면 점수 예측하는 단계;를 포함하는 것을 특징으로 하는 수면 상태 케어 방법."}
{"patent_id": "10-2020-0038894", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서, 상기 주변기기를 제어 단계는,상기 수면 점수 예측 결과에 따라 상기 주변기기를 제어하는 하는 단계;를 포함하는 것을 특징으로 하는 수면상태 케어 방법."}
{"patent_id": "10-2020-0038894", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서,상기 주변기기를 제어 단계는,공개특허 10-2021-0121710-3-상기 사용자의 수면 점수 및 상기 수면 환경 정보를 이용해 상기 수면분석 학습 모델을 갱신하는 단계;를 더 포함하는 것을 특징으로 하는 수면 상태 케어 방법."}
{"patent_id": "10-2020-0038894", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "매트;상기 매트에서 사용자의 자세 및 뒤척임 데이터를 수집하는 센서부; 상기 사용자가 매트에 누워 있는지 여부 및 상기 사용자의 뒤척임 횟수를 판단하고, 상기 뒤척임 횟수에 기반해상기 사용자의 수면 연속성 지수를 카운팅해 상기 수면 연속성 지수에 따라 상기 사용자의 수면 상태를 판단하는 수면판단부; 및상기 수면 상태 및 수면 환경 정보에 따른 상기 사용자의 수면 점수를 판단하고, 상기 수면 점수에 따른 주변기기를 제어하는 제어부;를 포함하는 수면 상태 케어 시스템."}
{"patent_id": "10-2020-0038894", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서, 상기 수면 환경 정보는,온도, 습도, 조도, 소음, 코골이를 포함하는 것을 특징으로 하는 수면 상태 케어 시스템."}
{"patent_id": "10-2020-0038894", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7항에 있어서, 상기 제어부는,학습된 수면 점수 모델에 기반해 상기 수면 상태 및 수면 환경 정보에 따른 상기 사용자의 수면 점수를 판단하고,상기 수면 점수 데이터를 학습해 상기 사용자의 수면분석 학습 모델을 설계하고,상기 사용자의 수면 점수 예측하는 것을 특징으로 하는 수면 상태 케어 시스템."}
{"patent_id": "10-2020-0038894", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에 있어서, 상기 제어부는,상기 수면 점수 예측 결과에 따라 상기 주변기기를 제어하는 것을 특징으로 하는 수면 상태 케어 시스템."}
{"patent_id": "10-2020-0038894", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제4항에 있어서,상기 제어부는,상기 사용자의 수면 점수 및 상기 수면 환경 정보를 이용해 상기 수면분석 학습 모델을 갱신하는 것을 특징으로하는 수면 상태 케어 시스템.공개특허 10-2021-0121710-4-"}
{"patent_id": "10-2020-0038894", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 사용자의 자세 및 뒤척임을 분석하여 사용자의 수면 상태를 판단 및 케어할 수 있는 방법 및 시스템에 관한 것으로, 매트에 설치된 센서에서 수집한 복수의 데이터를 이용하여 사용자가 수면상태에 있는지 아니면 수 면을 취하지 못하고 있는지 여부를 판단하고 잘 수면을 취할 수 있도록 주변 환경을 제어할 수 있는 방법 및 시 스템에 관한 것으로, 매트의 센서에서 사용자의 자세 및 뒤척임 데이터를 수집하는 단계; 상기 사용자가 매트에 누워 있는지 판단하는 단계; 상기 사용자의 뒤척임 횟수를 판단하는 단계; 상기 뒤척임 횟수에 기반해 상기 사용 자의 수면 연속성 지수를 카운팅하는 단계; 상기 수면 연속성 지수에 따라 상기 사용자의 수면 상태를 판단하는 단계; 상기 수면 상태 및 수면 환경 정보에 따른 상기 사용자의 수면 점수를 판단하는 단계; 및 상기 수면 점수 에 따른 주변기기를 제어하는 단계;를 포함하는 구성을 개시한다."}
{"patent_id": "10-2020-0038894", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 사용자의 자세 및 뒤척임을 분석하여 사용자의 수면 상태를 판단 및 케어할 수 있는 방법 및 시스템 에 관한 것으로, 매트에 설치된 센서에서 수집한 복수의 데이터를 이용하여 사용자가 수면상태에 있는지 아니면 수면을 취하지 못하고 있는지 여부를 판단하고 잘 수면을 취할 수 있도록 주변 환경을 제어할 수 있는 방법 및 시스템에 관한 것이다."}
{"patent_id": "10-2020-0038894", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "헬스 케어는 넓은 의미로는 질병의 치료, 예방, 건강 관리 과정을 모두 포함한 것으로, 건강에 대한 관심도가 높아지면서 전반적인 헬스 케어 분야에 대한 관심도도 증가하고 있다. 최근에는 헬스 케어와 IT 기술이 합쳐지면 많은 사람들이 더 자유롭게 의료 서비스를 이용할 수 있다. 예를 들 어, 의료 서비스와 유비쿼터스 IT기술을 활용하면 u-헬스 케어라 불리는, 언제 어디서나 건강 관리를 받을 수 있는 원격 의료 서비스가 가능하다. IT 기술을 이용하여 집과 병원 사이의 거리가 너무 멀어 진료를 받기 어려 운 지역에 영상 통화를 통해 진료를 받을 수 있는 기기를 갖춘 보건소를 만들면 전국의 병원과 실시간으로 질병 과 건강에 관한 상담을 받을 수 있게 된다. 그리고 휴대용 스마트 기기를 이용한 헬스 케어도 늘어나고 있다. 손목에 차는 웨어러블 디바이스는 운동량과 수면 시간, 수면의 질 등을 확인해서 필요한 운동량과 건강에 대한 상식을 알려주고 관리해준다. 스마트 기기가 발전할수록 헬스 케어 또한 원활하게 이루어질 것이다. 수면은 건강 및 일상생활에 미치는 영향이 매우 크고, 수면 시간뿐만 아니라 수면의 퀄리티도 중요하기 때문에 헬스 케어 분야에서도 수면의 질을 향상시키기 위한 수면 케어 분야가 새롭게 주목받고 있다. 수면 케어에 있어서도 현재 사용자가 수면을 취하고 있는지 수면을 취하고 있지 못하는지를 판단하는 것이 특히 중요하다. 사용자의 상태에 따라 수면의 퀄리티를 높이기 위해서는 먼저 사용자가 수면을 잘 취하고 있는지 아 닌지에 대한 판단인 선행되어야 하기 때문이다. 기존의 수면 케어 시스템에서 사용자의 수면 상태를 판단하는 방법들은 다양하게 제시되어 왔으나, 측정이 용이 하지 않은 기준을 사용한다거나 측정을 위해 필요한 기준이 많아 연산이 복잡해 부하가 커지거나, 또는 정확도 가 떨어진다거나, 측정에 필요한 시스템을 구성하는데 들어가는 비용이 지나치게 많이 들어간다는 단점이 있었 다. 따라서, 기존의 수면 판단 방법 또는 시스템의 문제점을 해결하기 위해서 간단하고 저렴한 장비를 이용하면서도 정확하게 사용자의 수면 여부를 판단하여 수면 환경을 제어해 수면을 잘 취할 수 있는 환경을 형성해줄 수 있는 방법 및 시스템이 필요한 실정이다."}
{"patent_id": "10-2020-0038894", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "따라서, 본 발명은 상기한 바와 같은 문제점을 해결하기 위한 것으로서, 사용자가 침대에 누워있는지 여부와 사 용자의 수면 중 뒤척임 횟수를 체크해 사용자의 수면 여부를 판단할 수 있는 방법 및 시스템을 제공한다. 본 발명은 사용자의 자세 및 뒤척임 횟수를 일정 시간 간격으로 체크하고 체크한 정보에 기반하여 단계별 판단 단계를 거쳐 사용자가 수면을 취하고 있는지 여부를 판단하여 수면을 잘 취할 수 있는 환경을 형성할 수 있는 방법 및 시스템 한다."}
{"patent_id": "10-2020-0038894", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기한 문제를 해결하기 위한 본 발명의 일 실시 예에 따른 수면 상태 케어 방법은 매트의 센서에서 사용자의 자세 및 뒤척임 데이터를 수집하는 단계; 상기 사용자가 매트에 누워 있는지 판단하는 단계; 상기 사용자의 뒤 척임 횟수를 판단하는 단계; 상기 뒤척임 횟수에 기반해 상기 사용자의 수면 연속성 지수를 카운팅하는 단계; 상기 수면 연속성 지수에 따라 상기 사용자의 수면 상태를 판단하는 단계; 상기 수면 상태 및 수면 환경 정보에 따른 상기 사용자의 수면 점수를 판단하는 단계; 및 상기 수면 점수에 따른 주변기기를 제어하는 단계;를 포함 할 수 있다. 본 발명의 일 실시 예에 따르면, 상기 수면 점수 판단 단계에서 상기 수면 환경 정보는 온도, 습도, 조도, 소음, 코골이를 포함할 수 있다. 본 발명의 일 실시 예에 따르면, 상기 수면 점수 판단 단계는 학습된 수면 점수 모델에 기반해 상기 수면 상태 및 수면 환경 정보에 따른 상기 사용자의 수면 점수를 판단하는 단계; 상기 수면 점수 데이터를 학습해 상기 사 용자의 수면분석 학습 모델을 설계하는 단계; 및 상기 사용자의 수면 점수 예측하는 단계;를 포함할 수 있다. 본 발명의 일 실시 예에 따르면, 상기 주변기기를 제어 단계는 상기 수면 점수 예측 결과에 따라 상기 주변기기 를 제어하는 하는 단계;를 포함할 수 있다. 본 발명의 일 실시 예에 따르면, 상기 주변기기를 제어 단계는 상기 사용자의 수면 점수 및 상기 수면 환경 정 보를 이용해 상기 수면분석 학습 모델을 갱신하는 단계;를 더 포함할 수 있다. 상기한 문제를 해결하기 위한 본 발명의 일 실시 예에 따른 수면 상태 케어 시스템은 매트; 상기 매트에서 사용 자의 자세 및 뒤척임 데이터를 수집하는 센서부; 상기 사용자가 매트에 누워 있는지 여부 및 상기 사용자의 뒤 척임 횟수를 판단하고, 상기 뒤척임 횟수에 기반해 상기 사용자의 수면 연속성 지수를 카운팅해 상기 수면 연속 성 지수에 따라 상기 사용자의 수면 상태를 판단하는 수면판단부; 및 상기 수면 상태 및 수면 환경 정보에 따른 상기 사용자의 수면 점수를 판단하고, 상기 수면 점수에 따른 주변기기를 제어하는 제어부;를 포함할 수 있다. 본 발명의 일 실시 예에 따르면, 상기 수면 환경 정보는 온도, 습도, 조도, 소음, 코골이를 포함할 수 있다. 본 발명의 일 실시 예에 따르면, 상기 제어부는 학습된 수면 점수 모델에 기반해 상기 수면 상태 및 수면 환경 정보에 따른 상기 사용자의 수면 점수를 판단하고, 상기 수면 점수 데이터를 학습해 상기 사용자의 수면분석 학 습 모델을 설계하고, 상기 사용자의 수면 점수 예측할 수 있다. 본 발명의 일 실시 예에 따르면, 상기 제어부는 상기 수면 점수 예측 결과에 따라 상기 주변기기를 제어할 수 있다. 본 발명의 일 실시 예에 따르면, 상기 제어부는 상기 사용자의 수면 점수 및 상기 수면 환경 정보를 이용해 상 기 수면분석 학습 모델을 갱신할 수 있다."}
{"patent_id": "10-2020-0038894", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따르면, 사용자가 침대에 누워서 수면을 취할 때 가해지는 압력을 측정하기 위한 압력센서와 뒤척임 을 측정하기 위한 가속도 센서에서 측정한 데이터에 기반해 사용자가 누워있는지와 뒤척임이 몇 번 있었는지를 판단해 사용자의 수면 상태를 판단할 수 있다. 또한, 인간의 수면상태 평균에 기반하여 추출한 일정 수치 이상인 경우에 자세와 뒤척임을 체크하여 무분별하게 비수면 상태로 판단하게되는 부작용을 방지할 수 있다. 또한, 사용자의 수면 상태 및 수면 환경을 고려하여 사용자의 수면 점수를 평가하고 사용자의 수면 상태를 케어 하기 위해 주변기기를 제어하여 수면 상태를 최적화 하기 위해 수면 환경을 제어할 수 있다."}
{"patent_id": "10-2020-0038894", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 2, "content": "한편, 본 발명의 효과는 이상에서 언급한 효과들로 제한되지 않으며, 이하에서 설명할 내용으로부터 통상의 기 술자에게 자명한 범위 내에서 다양한 효과들이 포함될 수 있다."}
{"patent_id": "10-2020-0038894", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면들을 참조하여 본 발명에 따른 '수면 상태 케어 방법 및 시스템'을 상세하게 설명한다. 설명 하는 실시 예들은 본 발명의 기술사상을 당업자가 용이하게 이해할 수 있도록 제공되는 것으로 이에 의해 본 발 명이 한정되지 않는다. 또한, 첨부된 도면에 표현된 사항들은 본 발명의 실시 예들을 쉽게 설명하기 위해 도식 화된 도면으로 실제로 구현되는 형태와 상이할 수 있다. 한편, 이하에서 표현되는 각구성부는 본 발명을 구현하기 위한 예일 뿐이다. 따라서, 본 발명의 다른 구현에서 는 본 발명의 사상 및 범위를 벗어나지 않는 범위에서 다른 구성부가 사용될 수 있다. 또한, 각구성부는 순전히 하드웨어 또는 소프트웨어의 구성만으로 구현될 수도 있지만, 동일 기능을 수행하는 다양한 하드웨어 및 소프트웨어 구성들의 조합으로 구현될 수도 있다. 또한, 하나의 하드웨어 또는 소프트웨어 에 의해 둘 이상의 구성부들이 함께 구현될 수도 있다. 또한, 어떤 구성요소들을 '포함'한다는 표현은, '개방형'의 표현으로서 해당구성요소들이 존재하는 것을 단순히 지칭할 뿐이며, 추가적인 구성요소들을 배제하는 것으로 이해되어서는 안된다. 도 1은 본 발명의 일 실시 예에 따른 수면 상태 케어 방법의 알고리즘도이고, 도 2는 본 발명의 일 실시 예에 따른 수면 상태 케어 시스템의 블록도이고, 도 3은 본 발명의 일 실시 예에 따른 수면 상태 케어 시스템의 센서 부에 포함되는 가속도 센서의 일 예시이고, 도 4는 본 발명의 일 실시 예에 따른 수면 상태 케어 시스템의 센서 부에 포함되는 가속도 센서의 측정 값의 일 예시이고, 도 5는 본 발명의 일 실시 예에 따른 수면 상태 케어 시 스템의 센서부에 포함되는 압력 센서의 일 예시이고, 도 6은 본 발명의 일 실시 예에 따른 수면 상태 케어 시스 템의 센서부에 포함되는 압력 센서의 측정 값의 일 예시이고, 도 7은 본 발명의 일 실시 예에 따른 수면 상태 케어 시스템의 제어부의 구성을 나타낸 블록도이고, 도 8 및 도 9는 본 발명의 일 실시 예에 따른 수면 상태 케 어 시스템의 수면 케어 방식을 나타낸 개념도이고, 도 10은 본 발명의 일 실시 예에 따른 수면 상태 케어 시스 템의 수면 점수 판단 모델의 일 예시이, 도 11은 본 발명의 일 실시 예에 따른 수면 상태 케어 방법의 흐름도이 고, 도 12는 본 발명의 일 실시 예에 따른 수면 상태 케어 방법의 뒤척임 판단 방법의 흐름도이고, 도 13은 본 발명의 일 실시 예에 따른 수면 상태 케어 방법의 수면 점수 판단 방법의 흐름도이고, 도 14는 본 발명의 일 실 시 예에 따른 수면 상태 케어 방법의 주변기기 제어 방법의 흐름도이다. 도 1 내지 도 14를 참조하면, 본 발명의 일 실시 예에 따른 수면 상태 케어 시스템은 매트, 센서부 , 수면판단부 및 제어부를 포함할 수 있다. 상기 매트는 사용자가 수면을 취할 때, 침구류일 수 있다. 즉, 상기 사용자는 수면을 취할 때 상기 매트 에 누워서 수면을 취할 수 있다. 상기 매트는 침대용 매트리스 또는 바닥에 까는 매트를 포함할 수있고, 이에 한정되지 않고 수면시 사용자가 누울 수 있는 침구류를 모두 포함할 수 있다. 상기 센서부는 상기 매트에 포함될 수 있다. 상기 센서부는 상기 매트의 내부 또는 외부에 포함되어 상기 사용자의 수면 상태를 체크할 수 있다. 상기 센서부는 상기 매트에 상기 사용자가 누 워있는지 여부를 판단하기 위한 데이터를 획득할 수 있다. 상기 센서부는 상기 매트에 상기 사용자의 뒤척임이 있는지 여부를 판단하기 위한 데이터를 획득할 수 있다. 상기 센서부는 압력센서 및 가속도 센서를 포함할 수 있다. 상기 센서부의 압력센서는 상기 사용자가 상기 매트에 가하는 압력을 체크할 수 있다. 상기 센서부 의 압력센서는 상기 매트에 적어도 하나 이상 포함될 수 있다. 상기 센서부의 압력센서는 상기 매트에 하나만 포함될 수 있다. 상기 센서부의 압력센서는 길이 500 ~ 700mm 범위에 가해지는 압력 값을 측정할 수 있다. 바람직하게는 상기 센서부의 압력센서는 길이 550 ~ 650mm 범위에 가해지는 압력 값을 측 정할 수 있다. 상기 센서부의 압력센서는 압력이 측정되는 부분의 위치 및 상기 위치에서의 압력 값을 측 정할 수 있다. 상기 센서부의 압력센서는 길이의 양 끝단 중 적어도 어느 한 쪽 끝단을 기준점으로 하여 압력이 측정되는 부분의 위치 및 상기 위치에서의 압력 정보를 측정할 수 있다. 상기 센서부의 압력센서는 0.2초 이하의 시간 간격으로 압력 값을 측정할 수 있다. 바람직하게는 상기 센서부의 압력센서는 0.1초 이 하의 시간 간격으로 X압력 값을 측정할 수 있다. 본 발명의 일 실시 예에 따르면, 상기 센서부의 압력센서는 FSR - 408을 포함할 수 있고, 이에 한정되지 않고 압력을 측정할 수 있는 장치를 모두 포함할 수 있다. 본 발명의 일 실시 예에 따르면, 상기 센서부의 압력센서는 인지 범위는 0.2 ~ 20N일 수 있다. 바람직하게 는 상기 센서부의 압력센서는 인지 범위는 0.3 ~ 50N일 수 있다. 바람직하게는 상기 센서부의 압력센 서는 인지 범위는 0.5 ~ 150N일 수 있다. 센서 위에 가해지는 압력(이 경우 중력)의 크기를 수치화 하여 확인 이 가능하다. 상기 센서부의 압력센서는 측정한 압력 값을 0에서 4095 사이의 수치로 표시할 수 있다. 상 기 센서부의 압력센서는 상기 압력 값을 측정하고, 측정한 값은 MCP3208 ADC로 분석되어 0~4095 범위의 숫 자 값으로 받아와 이를 1차원의 배열로 저장할 수 있다. 상기 센서부의 가속도 센서는 상기 매트에 누워있는 상기 사용자의 뒤척임을 감지하기 위한 진동 값 을 측정할 수 있다. 상기 센서부의 가속도 센서는 3가지 방향의 기울기 및 회전 중 적어도 하나 이상을 측 정할 수 있다. 상기 센서부의 가속도 센서는 일정 시간 단위로 3가지 방향의 기울기의 변화량을 측정할 수 있다. 상기 센서부의 가속도 센서는 일정 시간 단위로 측정된 3가지 방향의 기울기 변화량을 이용해 진동 값을 계산할 수 있다. 본 발명의 일 실시 예에 따르면, 상기 센서부의 가속도 센서는 MPU-9250일 수 있다. 상기 센서부의 가속도 센서는 X, Y, Z의 3가지 축을 기준으로 기울기 값을 측정할 수 있다. 상기 센서부의 가속도 센서는 0.2초 이하의 시간 간격으로 X, Y, Z의 3가지 축 별로 기울기 값을 측정할 수 있다. 바람직하게는 상기 센서부 의 가속도 센서는 0.1초 이하의 시간 간격으로 X, Y, Z의 3가지 축 별로 기울기 값을 측정할 수 있다. 상 기 센서부의 가속도 센서는 X, Y, Z의 3가지 축을 중심으로 하여 지구의 중력 및 나침반의 원리를 이용해 3차원 위상공간에서 센서 혹은 센서가 부착된 사물의 평행, 수직 방향의 기울기와 회전을 감지할 수 있다. 상기 센서부의 가속도 센서에서 측정하는 기울기 변화량은 특정시간 t에서 감지되는 기울기의 값을 각각 Xt, Yt, Zt 라고 할 때 단위 시간(100ms) t의 증가에 대한 각 값들의 기울기 변화량 δXt, δYt, δZt는 다음 수학 식 1과 같다. [수학식 1] δXt = Xt - Xt-1 δYt = Yt - Yt-1 δZt = Zt - Zt-1 상기 Xt, Yt, Zt는 0 ~ 1의 실수로 측정될 수 있다. 상기 센서부의 가속도 센서에서 측정한 3차원 위상 공 간에서의 각 값들은 각각이 X, Y, Z축에 방향성을 지닌 단순 벡터로 진동 량을 계산하기 위해 부가적인 차원을 필요하지 않으므로 1차원의 단일 값으로 기하 평균하여 시간으로 미분하며 이렇게 축소된 값을 풀어 쓰면 특정 시간 t에서 센서 혹은 센서가 부착된 사물의 3차원에서의 평균 기울기 변화량이며 이를 곧 진동 값으로 정의 할수 있다. 진동 값을 Vt 라고 할 때 Vt는 다음 수학식 2와 같이 구할 수 있다. [수학식 2] Vt ="}
{"patent_id": "10-2020-0038894", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "상기 센서부의 가속도 센서는 상기 Xt, Yt, Zt 또는 δXt, δYt, δZt에 1억을 곱하고 5000만을 뺄 수 있 다. 상기 센서부의 가속도 센서는 측정한 진동 값을 1차원의 숫자 배열로 저장할 수 있다. 도 4와 같이 사 용자가 매트 위에 있을 때 아무런 움직임이 없다면 Vibration, 즉 진동 값은 0으로 측정되고 뒤척임을 통해 진 동이 발생하면 그 세기에 해당하는 값들이 감지된다. 이를 통해 139번 사용자가 2019년 7월 10일 오후 11시 1분 23초경에 뒤척였음을 알 수 있다. 상기 수면판단부는 상기 센서부에서 측정한 값을 이용해 상기 사용자가 수면을 취하고 있는지 수면을 취하고 있지 못하는지 여부를 판단할 수 있다. 상기 수면판단부는 컴퓨터를 포함할 수 있고, 이에 한정되 지 않고 수학적 연산 및 판단을 할 수 있는 장치를 모두 포함할 수 있다. 상기 수면판단부는 기 설정된 수면 인지 시간 간격으로 수면 연속성 지수를 증감시킬 수 있다. 상기 수면 인지 시간 간격은 50~70초 일 수 있다. 바람직하게는, 상기 수면 인지 시간 간격은 57~63초 일 수 있다. 상기 수면판단부는 상기 수면 연속성 지수를 이용해 상기 사용자의 수면 여부를 판단할 수 있다. 상기 수면판단부는 상기 매트에 상기 사용자가 누워있는지 여부를 판단할 수 있다. 상기 수면판단부 는 상기 센서부의 압력센서에서 측정된 압력 값을 이용해 상기 사용자가 상기 매트에 누워있는 지 여부를 판단할 수 있다. 상기 수면판단부는 상기 센서부의 압력센서에서 측정된 압력 값이 기설정 된 압력임계 이상인 경우 상기 사용자가 상기 매트에 누워있다고 판단할 수 있다. 상기 압력임계는 0 이상 의 압력 값으로 설정될 수 있다. 본 발명의 일 실시 예에 따르면, 상기 압력임계는 1000일 수 있다. 바람직하게 는 상기 압력임계는 2000일 수 있다. 본 발명의 일 실시 예에 따르면, 상기 수면판단부는 상기 압력센서에 서 압력 값이 측정되는 부분의 길이에 따라 상기 사용자가 누워있는지 앉아있는지 여부를 판단할 수 있다. 상기 수면판단부는 상기 사용자가 상기 매트위에서 뒤척임이 있는지 여부를 판단할 수 있다. 상기 수 면판단부는 상기 센서부의 가속도 센서에서 측정한 진동 값을 이용해 상기 사용자의 뒤척임이 있는지 를 판단할 수 있다. 상기 수면판단부는 상기 압력 값이 상기 압력임계 이상인 구간의 진동 값을 잘라 1제 구간을 배열화 할 수 있다. 상기 수면판단부는 상기 제1 구간에서 상기 진동 값이 진동임계 이상인 제2 구 간을 추출할 수 있다. 상기 수면판단부는 상기 제2 구간의 길이가 시간임계 이상인 경우 뒤척임이 있는 것으로 판단할 수 있다. 상기 진동임계는 15000 ~ 25000일 수 있다. 바람직하게는 상기 진동임계는 18000~22000일 수 있다. 상기 시간임계는 1 ~ 4초일 수 있다. 바람직하게는 상기 시간임계는 1.5 ~ 2.5초일 수 있다. 상기 수면판단부는 수면 인지 시간 간격 동안 뒤척임 횟수를 셀 수 있다. 상기 수면판단부는 상기 수 면 인지 시간 간격이 마무리될 때, 상기 사용자가 상기 매트에 누워 있지 않은 경우 상기 사용자가 깨어있 다고 판단할 수 있다. 상기 수면판단부는 상기 사용자가 상기 매트에 누워있다고 판단한 경우 상기 사용자의 뒤척임 횟수가 기설정된 횟수 이상인지 또는 미만인지 여부를 판단할 수 있다. 상기 수면판단부 는 상기 사용자의 뒤척임 횟수가 5회 미만인 경우 수면 연속성 지수를 증가시킬 수 있다. 바람직하게는 상기 수 면 연속성 지수를 1 증기가시킬 수 있다. 상기 수면판단부는 상기 사용자의 뒤척임 횟수가 5회 이상인 경 우 수면 연속성 지수를 감소시킬 수 있다. 바람직하게는 상기 수면 연속성 지수를 5 감소시킬 수 있다. 상기 수면판단부는 상기 수면 연속성 지수를 증가시킨 경우 상기 수면 연속성 지수가 15 이상인지 판단할 수 있다. 상기 수면판단부는 상기 수면 연속성 지수가 15 미만인 경우 상기 수면 연속성 지수를 저장하고 상기 사용자가 깨어있다고 판단할 수 있다. 상기 수면판단부는 상기 수면 연속성 지수가 15 이상인 경우 상기 수면 연속성 지수를 15로 저장하고, 이후 상기 수면판단부는 상기 수면 연속성 지수가 15 이상인 경 우 상기 사용자가 수면중인 것으로 판단할 수 있다. 상기 수면판단부는 상기 수면 연속성 지수를 감소시킨 경우, 상기 수면 연속성 지수가 0 미만인지 판단할 수 있다. 상기 수면판단부는 상기 수면 연속성 지수가 0 미만이면 상기 수면 연속성 지수를 0으로 초기화 하고, 상기 사용자가 깨어있다고 판단할 수 있다. 상기 수면판단부는 상기 수면 연속성 지수가 0이상인 경 우 상기 수면 연속성 지수를 저장하고 상기 사용자가 깨어있다고 판단할 수 있다. 상기 수면판단부는 상기 수면 연속성 지수가 클수록 상기 사용자가 수면에 가까운 상태에 있다고 판단할 수 있다. 상기 제어부는 상기 수면 상태 및 수면 환경 정보에 따른 상기 사용자의 수면 점수를 판단할 수 있다. 상 기 제어부는 상기 수면 점수에 따른 주변기기를 제어할 수 있다. 상기 제어부는 IoT 기술과 인공지능기술, 빅데이터 기술을 이용하여 보다 통합적으로 수면장애를 관리하고 수면환경을 맞춤형으로 제어할 수 있다. 본 발명의 일 실시 예에 따르면, 상기 제어부는 인공지능 시스템 을 포함할 수 있다. 본 발명의 일 실시 예에 따르면, 상기 제어부는 외부 인공지능 서버와 연동해 필요한 학습 및 연산을 수행할 수 있다. 상기 제어부는 상기 사용자의 주변기기의 현재 작동 상태를 체크하고 제 어할 수 있다. 상기 제어부는 빅데이터 분석 및 학습을 통해 수면 점수 평가를 위한 기준을 설정할 수 있 다. 상기 제어부는 수면 상태, 수면 환경 정보에 따른 수면 점수를 판단할 수 있다. 상기 제어부는 상기 수면 상태 및 상기 수면 환경 정보를 입력 수면 점수를 출력으로 하여 그 상관 관계를 학습할 수 있다. 상 기 제어부는 상기 수면 상태 및 상기 수면 환경 정보의 변화에 따른 수면 점수의 변화를 예측할 수 있는 모델을 설계할 수 있다. 상기 제어부는 수면 정보를 수신할 수 있고, 데이터를 차트화 하여 관리할 수 있 다. 상기 제어부는 수면 정보를 분석 및 산출할 수 있다. 상기 제어부는 수면 상태를 모니터링하고 분석할 수 있다. 상기 제어부가 제어하는 주변기기는 에어컨, 보일러, 공기청정기, 가습기, TV, 조명기기, 전열기, 음향기기 및 마이크를 포함할 수 있다. 상기 제어부는 상기 주변기기에서 온도, 습도, 조도, 소음, 뒤척임, 코골이에 대한 정보를 획득할 수 있다. 상기 제어부는 온도, 습도, 조도, 소음을 제어하기 위해 상기 주변기기의 출력을 제어할 수 있다. 예를 들어, 상기 제어부는 상기 에어컨, 보일러 및 전열기 등을 제어해 온도를 제어할 수 있고, 상기 제어부는 상기 가습기, 에어컨, 보일러 및 전열기 등을 제어해 습도를 제어할 수 있고, 상기 제어부는 상기 조명기기를 제어해 상기 조도를 제어할 수 있고, 상기 제어부 는 상기 음향기기를 제어해 상기 소음을 제어할 수 있다. 상기 제어부는 수면케어부 및 AI연산부를 포함할 수 있다. 상기 수면케어부는 상기 주변기 기, 센서부 등에서 상기 사용자의 수면 상태 및 수면 환경 정보를 획득할 수 있다. 상기 AI연산부는 상기 수면케어부에서 획득한 상기 수면 상태 및 수면 환경 정보를 학습하여 상기 사용자의 수면 점수를 판 단할 수 있다. 상기 AI연산부는 다수의 사람들의 수면 상태 및 수면 환경 정보를 학습해 수면 점수 판단 모델 또는 수면 점수 예측 모델을 설계할 수 있다. 상기 AI연산부는 상기 수면 점수 판단 모델 또는 수면 점수 예측 모델을 참조하여 상기 사용자의 사용자 수면 점수 판단 모델 또는 사용자 수면 점수 예측 모델을 설 계할 수 있다. 상기 수면케어부는 상기 AI연산부의 상기 사용자의 수면 점수 예측 결과에 따라 상기 주변기기를 제어할 수 있다. 상기 수면케어부는 상기 주변기기를 제어하여 상기 사용자의 수면 환경을 제 어할 수 있다. 상기 수면 점수 예측은 상기 주변기기의 설정 변경으로 인한 상기 수면 환경 변화에 따른 상기 사용자의 수면 점수의 변화를 예측할 수 있는 모델이다. 본 발명의 일 실시 예에 따르면, 상기 AI연산부는 상기 수면케어부와 분리되어 역할을 수행할 수 있 다. 상기 수면케어부 및 상기 AI연산부는 공통적으로 AWS Cloud Server 서비스를 이용할 수 있다. 상 기 AI연산부의 AI모델은 별개의 EC2 가상서버에서 작동할 수 있다. 수면 환경 정보는 센서부 및 주 변기기로부터 측정된 데이터를 의미할 수 있으며, 센서부 및 주변기기는 수면환경의 온도, 습도, 조도, 소 음을 측정하여 상기 수면케어부로 전송할 수 있다. 상기 센서부 및 주변기기는 측정한 사용자의 수면 상태를 판단할 수 있는 기준인 코골이, 뒤척임을 상기 수면케어부로 전송할 수 있다. 수면 점수는 수면이 끝났을 경우에 PSQI설문을 마친 후에 전송할 수 있다. 상기 AI연산부에서 수면 점수 판단을 하기 위한 학 습데이터는 온도, 습도, 조도, 소음, 뒤척임, 코골이, 수면점수가 필요할 수 있으며 이는 상기 수면케어부(14 1)의 RDS(Relational Database)에서 받아올 수 있다. 상기 수면케어부가 받은 수면 상태 및 수면 환경 정 보는 상기 수면케어부 에서 일련의 처리를 통해 RDS(Relational Database)에 저장할 수 있으며 상기 AI연 산부는 수면 분석을 통해 학습하기 위해 RDS에 접속하여 필요한 데이터를 가져올 수 있다. 상기 AI연산부은 학습과정과 예측과정으로 나뉘어 작동한다. 세부적인 작동 과정은 도 10과 같이 표현할 수 있다. 수면 점수 학습용 유저데이터는 온도, 습도, 조도, 소음, 뒤척임, 코골이, 수면점수를 포함할 수 있다. 이를 학습에 용이하게 가공한 후 수면 점수 학습 모듈로 학습하여 수면 점수 판단 모델을 설계할 수 있다. 이를 통해 사용자 수면 점수 판단 모델을 얻을 수 있으며, 이는 추후 예측 과정에서 사용할 수 있다. 수 면 점수 예측은 학습과 다르게 REST API 요청을 통해 작동할 수 있으며, 수면 점수 예측 요청 데이터는 학습용 데이터와 달리 수면 점수를 제외한 나머지 6종의 데이터를 사용할 수 있으며, 이를 통해 아직 매겨지지 않은 수 면 점수를 예측할 수 있다. 이는 학습 모델을 통해 데이터를 분류함으로써 수행할 수 있고, 최종적으로 수면 점수 예측 결과 또는 사용자 수면 점수 예측 결과를 얻을 수 있다. 상기 제어부는 상기 수면 점수 예측 결과에 따라 상기 주변기기를 제어하고, 상기 사용자의 수면 점수 및 상기 수면 환경 정보를 이용해 상기 수면분석 학습 모델을 갱신할 수 있다. 상기 제어부는 상기 수면 점수 또는 상기 수면 점수 예측 결과에 따라 상기 주변기기를 제어하여 상기 수 면 환경을 제어할 수 있다. 상기 제어부는 상기 주변기기 제어에 따른 상기 수면 점수 및 상기 수면 환경 정보의 변화 데이터에 기반 하여 다시 학습하여 상기 수면 점수 판단 모델 또는 상기 수면 점수 예측 모델을 포함하는 수면학습 모델을 갱 신할 수 있다. 본 발명의 일 실시 예에 따른 수면 상태 케어 방법은 매트의 센서에서 사용자의 자세 및 뒤척임 데이터를 수집 하는 단계(S110)를 포함할 수 있다. S110 단계에서, 상기 매트는 사용자가 수면을 취할 때, 침구류일 수 있다. 즉, 상기 사용자는 수면을 취할 때 상기 매트에 누워서 수면을 취할 수 있다. 상기 매트는 침대용 매트리스 또는 바닥에 까는 매트를 포함할 수 있고, 이에 한정되지 않고 수면시 사용자가 누울 수 있는 침구류를 모두 포함할 수 있다. S110 단계에서, 상기 센서부는 상기 매트에 포함될 수 있다. 상기 센서부는 상기 매트의 내부 또는 외부에 포함되어 상기 사용자의 수면 상태를 체크할 수 있다. 상기 센서부는 상기 매트에 상기 사용자가 누워있는지 여부를 판단하기 위한 데이터를 획득할 수 있다. 상기 센서부는 상기 매트(11 0)에 상기 사용자의 뒤척임이 있는지 여부를 판단하기 위한 데이터를 획득할 수 있다. S110 단계에서, 상기 센서부는 압력센서 및 가속도 센서를 포함할 수 있다. S110 단계에서, 상기 센서부의 압력센서는 상기 사용자가 상기 매트에 가하는 압력을 체크할 수 있다. 상기 센서부의 압력센서는 상기 매트에 적어도 하나 이상 포함될 수 있다. 상기 센서부의 압력센서는 상기 매트에 하나만 포함될 수 있다. 상기 센서부의 압력센서는 길이 500 ~ 700mm 범위에 가해 지는 압력 값을 측정할 수 있다. 바람직하게는 상기 센서부의 압력센서는 길이 550 ~ 650mm 범위에 가해지 는 압력 값을 측정할 수 있다. 상기 센서부의 압력센서는 압력이 측정되는 부분의 위치 및 상기 위치에서 의 압력 값을 측정할 수 있다. 상기 센서부의 압력센서는 길이의 양 끝단 중 적어도 어느 한 쪽 끝단을 기 준점으로 하여 압력이 측정되는 부분의 위치 및 상기 위치에서의 압력 정보를 측정할 수 있다. 상기 센서부 의 압력센서는 0.2초 이하의 시간 간격으로 압력 값을 측정할 수 있다. 바람직하게는 상기 센서부의 압력센서는 0.1초 이하의 시간 간격으로 X압력 값을 측정할 수 있다. S110 단계에서, 본 발명의 일 실시 예에 따르면, 상기 센서부의 압력센서는 FSR - 408을 포함할 수 있고, 이에 한정되지 않고 압력을 측정할 수 있는 장치를 모두 포함할 수 있다. S110 단계에서, 본 발명의 일 실시 예에 따르면, 상기 센서부의 압력센서는 인지 범위는 0.2 ~ 20N일 수 있다. 바람직하게는 상기 센서부의 압력센서는 인지 범위는 0.3 ~ 50N일 수 있다. 바람직하게는 상기 센서 부의 압력센서는 인지 범위는 0.5 ~ 150N일 수 있다. 센서 위에 가해지는 압력(이 경우 중력)의 크기를 수치화 하여 확인이 가능하다. 상기 센서부의 압력센서는 측정한 압력 값을 0에서 4095 사이의 수치로 표 시할 수 있다. 상기 센서부의 압력센서는 상기 압력 값을 측정하고, 측정한 값은 MCP3208 ADC로 분석되어 0~4095 범위의 숫자 값으로 받아와 이를 1차원의 배열로 저장할 수 있다. S110 단계에서, 상기 센서부의 가속도 센서는 상기 매트에 누워있는 상기 사용자의 뒤척임을 감지하 기 위한 진동 값을 측정할 수 있다. 상기 센서부의 가속도 센서는 3가지 방향의 기울기 및 회전 중 적어도 하나 이상을 측정할 수 있다. 상기 센서부의 가속도 센서는 일정 시간 단위로 3가지 방향의 기울기의 변화 량을 측정할 수 있다. 상기 센서부의 가속도 센서는 일정 시간 단위로 측정된 3가지 방향의 기울기 변화량 을 이용해 진동 값을 계산할 수 있다. S110 단계에서, 본 발명의 일 실시 예에 따르면, 상기 센서부의 가속도 센서는 MPU-9250일 수 있다. 상기 센서부의 가속도 센서는 X, Y, Z의 3가지 축을 기준으로 기울기 값을 측정할 수 있다. 상기 센서부의 가속도 센서는 0.2초 이하의 시간 간격으로 X, Y, Z의 3가지 축 별로 기울기 값을 측정할 수 있다. 바람직하게 는 상기 센서부의 가속도 센서는 0.1초 이하의 시간 간격으로 X, Y, Z의 3가지 축 별로 기울기 값을 측정 할 수 있다. 상기 센서부의 가속도 센서는 X, Y, Z의 3가지 축을 중심으로 하여 지구의 중력 및 나침반의 원리를 이용해 3차원 위상공간에서 센서 혹은 센서가 부착된 사물의 평행, 수직 방향의 기울기와 회전을 감지할수 있다. 상기 센서부의 가속도 센서에서 측정하는 기울기 변화량은 특정시간 t에서 감지되는 기울기의 값 을 각각 Xt, Yt, Zt 라고 할 때 단위 시간(100ms) t의 증가에 대한 각 값들의 기울기 변화량 δXt, δYt, δZt 는 다음 수학식 1과 같다. [수학식 1] δXt = Xt - Xt-1 δYt = Yt - Yt-1 δZt = Zt - Zt-1 S110 단계에서, 상기 Xt, Yt, Zt는 0 ~ 1의 실수로 측정될 수 있다. 상기 센서부의 가속도 센서에서 측정 한 3차원 위상 공간에서의 각 값들은 각각이 X, Y, Z축에 방향성을 지닌 단순 벡터로 진동 량을 계산하기 위해 부가적인 차원을 필요하지 않으므로 1차원의 단일 값으로 기하 평균하여 시간으로 미분하며 이렇게 축소된 값을 풀어 쓰면 특정 시간 t에서 센서 혹은 센서가 부착된 사물의 3차원에서의 평균 기울기 변화량이며 이를 곧 진동 값으로 정의 할 수 있다. 진동 값을 Vt 라고 할 때 Vt는 다음 수학식 2와 같이 구할 수 있다. [수학식 2] Vt ="}
{"patent_id": "10-2020-0038894", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "S110 단계에서, 상기 센서부의 가속도 센서는 상기 Xt, Yt, Zt 또는 δXt, δYt, δZt에 1억을 곱하고 5000만을 뺄 수 있다. 상기 센서부의 가속도 센서는 측정한 진동 값을 1차원의 숫자 배열로 저장할 수 있 다. 본 발명의 일 실시 예에 따른 수면 상태 케어 방법은 상기 사용자가 매트에 누워 있는지 판단하는 단계(S120)를 포함할 수 있다. S120 단계에서, 상기 수면판단부는 상기 매트에 상기 사용자가 누워있는지 여부를 판단할 수 있다. 상기 수면판단부는 상기 센서부의 압력센서에서 측정된 압력 값을 이용해 상기 사용자가 상기 매트 에 누워있는지 여부를 판단할 수 있다. 상기 수면판단부는 상기 센서부의 압력센서에서 측정된 압력 값이 기설정된 압력임계 이상인 경우 상기 사용자가 상기 매트에 누워있다고 판단할 수 있다. 상기 압력임계는 0 이상의 압력 값으로 설정될 수 있다. 본 발명의 일 실시 예에 따르면, 상기 압력임계는 1000일 수 있다. 바람직하게는 상기 압력임계는 2000일 수 있다. 본 발명의 일 실시 예에 따르면, 상기 수면판단부는 상기 압력센서에서 압력 값이 측정되는 부분의 길이에 따라 상기 사용자가 누워있는지 앉아있는지 여부를 판단 할 수 있다. 본 발명의 일 실시 예에 따른 수면 상태 케어 방법은 상기 사용자의 뒤척임 횟수를 판단하는 단계(S130)를 포함 할 수 있다. 상기 S130 단계는, 상기 압력임계 이상인 제1 구간을 배열화하는 단계(S131), 배열화된 상기 구간에서 상기 가 속도 센서에서 측정한 상기 진동 데이터의 진동 값이 진동임계 값 이상인 제2 구간을 추출하는 단계(S132) 및 추출된 상기 제2 구간의 길이가 시간임계 이상인 경우 뒤척임이 있다고 판단하는 단계(S133)를 포함할 수 있다. S131 단계에서, 상기 수면판단부는 상기 사용자가 상기 매트위에서 뒤척임이 있는지 여부를 판단할 수 있다. 상기 수면판단부는 상기 센서부의 가속도 센서에서 측정한 진동 값을 이용해 상기 사용자의 뒤척임이 있는지를 판단할 수 있다. 상기 수면판단부는 상기 압력 값이 상기 압력임계 이상인 구간의 진동 값을 잘라 1제 구간을 배열화 할 수 있다. S132 단계에서, 상기 수면판단부는 상기 제1 구간에서 상기 진동 값이 진동임계 이상인 제2 구간을 추출할 수 있다. 상기 진동임계는 15000 ~ 25000일 수 있다. 바람직하게는 상기 진동임계는 18000~22000일 수 있다. S133 단계에서, 상기 수면판단부는 상기 제2 구간의 길이가 시간임계 이상인 경우 뒤척임이 있는 것으로 판단할 수 있다. 상기 시간임계는 1 ~ 4초일 수 있다. 바람직하게는 상기 시간임계는 1.5 ~ 2.5초일 수 있다. 본 발명의 일 실시 예에 따른 수면 상태 케어 방법은 상기 뒤척임 횟수에 기반해 상기 사용자의 수면 연속성 지 수를 카운팅하는 단계(S140)를 포함할 수 있다. S140 단계에서, 상기 수면판단부는 기 설정된 수면 인지 시간 간격으로 상기 S120 단계 및 상기 S130 단계 의 판단 결과에 따라 수면 연속성 지수를 증감시킬 수 있다. 상기 수면 인지 시간 간격은 50~70초 일 수 있다. 바람직하게는, 상기 수면 인지 시간 간격은 57~63초 일 수 있다. 상기 수면판단부는 상기 수면 연속성 지 수를 이용해 상기 사용자의 수면 여부를 판단할 수 있다. S140 단계에서, 상기 수면판단부는 수면 인지 시간 간격 동안 뒤척임 횟수를 셀 수 있다. 상기 수면판단부 는 상기 수면 인지 시간 간격이 마무리될 때, 상기 사용자가 상기 매트에 누워 있지 않은 경우 상기 사용자가 깨어있다고 판단할 수 있다. 상기 수면판단부는 상기 사용자가 상기 매트에 누워있다고 판 단한 경우 상기 사용자의 뒤척임 횟수가 기설정된 횟수 이상인지 또는 미만인지 여부를 판단할 수 있다. 상기 수면판단부는 상기 사용자의 뒤척임 횟수가 5회 미만인 경우 수면 연속성 지수를 증가시킬 수 있다. 바람 직하게는 상기 수면 연속성 지수를 1 증기가시킬 수 있다. 상기 수면판단부는 상기 사용자의 뒤척임 횟수 가 5회 이상인 경우 수면 연속성 지수를 감소시킬 수 있다. 바람직하게는 상기 수면 연속성 지수를 5 감소시킬 수 있다. 본 발명의 일 실시 예에 따른 수면 상태 케어 방법은 상기 수면 연속성 지수에 따라 상기 사용자의 수면 상태를 판단하는 단계(S150)를 포함할 수 있다. S150 단계에서, 상기 수면판단부는 상기 수면 연속성 지수를 증가시킨 경우 상기 수면 연속성 지수가 15 이상인지 판단할 수 있다. 상기 수면판단부는 상기 수면 연속성 지수가 15 미만인 경우 상기 수면 연속성 지수를 저장하고 상기 사용자가 깨어있다고 판단할 수 있다. 상기 수면판단부는 상기 수면 연속성 지수가 15 이상인 경우 상기 수면 연속성 지수를 15로 저장하고, 이후 상기 수면판단부는 상기 수면 연속성 지수 가 15 이상인 경우 상기 사용자가 수면중인 것으로 판단할 수 있다. S150 단계에서, 상기 수면판단부는 상기 수면 연속성 지수를 감소시킨 경우, 상기 수면 연속성 지수가 0 미만인지 판단할 수 있다. 상기 수면판단부는 상기 수면 연속성 지수가 0 미만이면 상기 수면 연속성 지수 를 0으로 초기화하고, 상기 사용자가 깨어있다고 판단할 수 있다. 상기 수면판단부는 상기 수면 연속성 지 수가 0이상인 경우 상기 수면 연속성 지수를 저장하고 상기 사용자가 깨어있다고 판단할 수 있다. S150 단계에서, 상기 수면판단부는 상기 수면 연속성 지수가 클수록 상기 사용자가 수면에 가까운 상태에 있다고 판단할 수 있다. 본 발명의 일 실시 예에 따른 수면 상태 케어 방법은 상기 수면 연속성 지수에 따라 상기 사용자의 수면 상태를 판단하는 단계(S160) 및 상기 수면 점수에 따른 주변기기를 제어하는 단계(S170)를 포함할 수 있다. S160 단계에서, 상기 제어부는 상기 수면 상태 및 수면 환경 정보에 따른 상기 사용자의 수면 점수를 판단 할 수 있다. S170 단계에서, 상기 제어부는 상기 수면 점수에 따른 주변기기를 제어할 수 있다. S160 단계는 학습된 수면 점수 모델에 기반해 상기 수면 상태 및 수면 환경 정보에 따른 상기 사용자의 수면 점 수를 판단하는 단계(S161), 상기 수면 점수 데이터를 학습해 상기 사용자의 수면 분석 학습 모델을 설계하는 단 계(S162) 및 상기 사용자의 수면 점수 예측하는 단계(S163)를 포함할 수 있다. S170 단계에서, 상기 제어부는 IoT 기술과 인공지능기술, 빅데이터 기술을 이용하여 보다 통합적으로 수면 장애를 관리하고 수면환경을 맞춤형으로 제어할 수 있다. S160 단계에서, 본 발명의 일 실시 예에 따르면, 상기 제어부는 인공지능 시스템을 포함할 수 있다. 본 발 명의 일 실시 예에 따르면, 상기 제어부는 외부 인공지능 서버와 연동해 필요한 학습 및 연산을 수행할 수 있다. S170 단계에서, 상기 제어부는 상기 사용자의 주변기기의 현재 작동 상태를 체크하고 제어할 수 있다. S161 단계에서, 상기 제어부는 빅데이터 분석 및 학습을 통해 수면 점수 평가를 위한 기준을 설정할 수 있 다. 상기 제어부는 수면 상태, 수면 환경 정보에 따른 수면 점수를 판단할 수 있다. S162 단계에서, 상기 제어부는 상기 수면 상태 및 상기 수면 환경 정보를 입력 수면 점수를 출력으로 하여 그 상관 관계를 학습할 수 있다. 상기 제어부는 상기 수면 상태 및 상기 수면 환경 정보의 변화에 따른 수 면 점수의 변화를 예측할 수 있는 모델을 설계할 수 있다. 상기 제어부는 수면 정보를 수신할 수 있고, 데 이터를 차트화 하여 관리할 수 있다. 상기 제어부는 수면 정보를 분석 및 산출할 수 있다. 상기 제어부 는 수면 상태를 모니터링하고 분석할 수 있다. S170 단계에서, 상기 제어부가 제어하는 주변기기는 에어컨, 보일러, 공기청정기, 가습기, TV, 조명기기, 전열기, 음향기기 및 마이크를 포함할 수 있다. 상기 제어부는 상기 주변기기에서 온도, 습도, 조도, 소음, 뒤척임, 코골이에 대한 정보를 획득할 수 있다. 상기 제어부는 온도, 습도, 조도, 소음을 제어하기 위해 상기 주변기기의 출력을 제어할 수 있다. 예를 들어, 상기 제어부는 상기 에어컨, 보일러 및 전열기 등을 제어해 온도를 제어할 수 있고, 상기 제어부는 상기 가습기, 에어컨, 보일러 및 전열기 등을 제어해 습도를 제어할 수 있고, 상기 제어부는 상기 조명기기를 제어해 상기 조도를 제어할 수 있고, 상기 제어부 는 상기 음향기기를 제어해 상기 소음을 제어할 수 있다. S161 단계에서, 상기 제어부는 수면케어부 및 AI연산부를 포함할 수 있다. 상기 수면케어부 는 상기 주변기기, 센서부 등에서 상기 사용자의 수면 상태 및 수면 환경 정보를 획득할 수 있다. 상 기 AI연산부는 상기 수면케어부에서 획득한 상기 수면 상태 및 수면 환경 정보를 학습하여 상기 사용 자의 수면 점수를 판단할 수 있다. S162 단계에서, 상기 AI연산부는 다수의 사람들의 수면 상태 및 수면 환경 정보를 학습해 수면 점수 판단 모델 또는 수면 점수 예측 모델을 설계할 수 있다. 상기 AI연산부는 상기 수면 점수 판단 모델 또는 수면 점수 예측 모델을 참조하여 상기 사용자의 사용자 수면 점수 판단 모델 또는 사용자 수면 점수 예측 모델을 설 계할 수 있다. S163 단계에서, 상기 AI연산부는 상기 사용자의 수면 점수 예측을 수행할 수 있다. 상기 수 면 점수 예측은 상기 주변기기의 설정 변경으로 인한 상기 수면 환경 변화에 따른 상기 사용자의 수면 점수의 변화를 예측할 수 있는 모델일 수 있다. S170 단계에서, 상기 수면케어부는 상기 AI연산부의 상기 사용자의 수면 점수 예측 결과에 따라 상기 주변기기를 제어할 수 있다. 상기 수면케어부는 상기 주변기기를 제어하여 상기 사용자의 수면 환경을 제 어할 수 있다. S160 단계에서, 본 발명의 일 실시 예에 따르면, 상기 AI연산부는 상기 수면케어부와 분리되어 역할 을 수행할 수 있다. 상기 수면케어부 및 상기 AI연산부는 공통적으로 AWS Cloud Server 서비스를 이 용할 수 있다. 상기 AI연산부의 AI모델은 별개의 EC2 가상서버에서 작동할 수 있다. 수면 환경 정보는 센 서부 및 주변기기로부터 측정된 데이터를 의미할 수 있으며, 센서부 및 주변기기는 수면환경의 온도, 습도, 조도, 소음을 측정하여 상기 수면케어부로 전송할 수 있다. 상기 센서부 및 주변기기는 측정한 사용자의 수면상태를 판단할 수 있는 기준인 코골이, 뒤척임을 상기 수면케어부로 전송할 수 있다. 수면 점수는 수면이 끝났을 경우에 PSQI설문을 마친 후에 전송할 수 있다. 상기 AI연산부에서 수면 점수 판단을 하기 위한 학습데이터는 온도, 습도, 조도, 소음, 뒤척임, 코골이, 수면점수가 필요할 수 있으며 이는 상기 수 면케어부의 RDS(Relational Database)에서 받아올 수 있다. 상기 수면케어부가 받은 수면 상태 및 수면 환경 정보는 상기 수면케어부 에서 일련의 처리를 통해 RDS(Relational Database)에 저장할 수 있으 며 상기 AI연산부는 수면 분석을 통해 학습하기 위해 RDS에 접속하여 필요한 데이터를 가져올 수 있다. S160 단계에서, 상기 AI연산부은 학습과정과 예측과정으로 나뉘어 작동한다. 세부적인 작동 과정은 도 10 과 같이 표현할 수 있다. 수면 점수 학습용 유저데이터는 온도, 습도, 조도, 소음, 뒤척임, 코골이, 수면점수를 포함할 수 있다. 이를 학습에 용이하게 가공한 후 수면 점수 학습 모듈로 학습하여 수면 점수 판단 모델을 설계 할 수 있다. 이를 통해 사용자 수면 점수 판단 모델을 얻을 수 있으며, 이는 추후 예측 과정에서 사용할 수 있 다. 수면 점수 예측은 학습과 다르게 REST API 요청을 통해 작동할 수 있으며, 수면 점수 예측 요청 데이터는 학습용 데이터와 달리 수면 점수를 제외한 나머지 6종의 데이터를 사용할 수 있으며, 이를 통해 아직 매겨지지 않은 수면 점수를 예측할 수 있다. 이는 학습 모델을 통해 데이터를 분류함으로써 수행할 수 있고, 최종적으로 수면 점수 예측 결과 또는 사용자 수면 점수 예측 결과를 얻을 수 있다. S170 단계는 상기 수면 점수 예측 결과에 따라 상기 주변기기를 제어하는 단계(S171) 및 상기 사용자의 수면 점 수 및 상기 수면 환경 정보를 이용해 상기 수면분석 학습 모델을 갱신하는 단계(S172)를 포함할 수 있다. S171 단계에서, 상기 제어부는 상기 수면 점수 또는 상기 수면 점수 예측 결과에 따라 상기 주변기기를 제 어하여 상기 수면 환경을 제어할 수 있다. S172 단계에서, 상기 주변기기 제어에 따른 상기 수면 점수 및 상기 수면 환경 정보의 변화 데이터에 기반하여 다시 학습하여 상기 수면 점수 판단 모델 또는 상기 수면 점수 예측 모델을 포함하는 수면학습 모델을 갱신할 수 있다.이제까지 본 발명에 대하여 그 바람직한 실시예들을 중심으로 살펴보았다. 본 발명이 속하는 기술 분야에서 통 상의 지식을 가진 자는 본 발명이 본 발명의 본질적인 특성에서 벗어나지 않는 범위에서 변형된 형태로 구현될 수 있음을 이해할 수 있을 것이다. 그러므로 개시된 실시예들은 한정적인 관점이 아니라 설명적인 관점에서 고 려되어야 한다. 본 발명의 범위는 전술한 설명이 아니라 특허청구범위에 나타나 있으며, 그와 동등한 범위 내에 있는 모든 차이점은 본 발명에 포함된 것으로 해석되어야 할 것이다."}
{"patent_id": "10-2020-0038894", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시 예에 따른 수면 상태 케어 방법의 알고리즘도이다. 도 2는 본 발명의 일 실시 예에 따른 수면 상태 케어 시스템의 블록도이다.도 3은 본 발명의 일 실시 예에 따른 수면 상태 케어 시스템의 센서부에 포함되는 가속도 센서의 일 예시이다. 도 4는 본 발명의 일 실시 예에 따른 수면 상태 케어 시스템의 센서부에 포함되는 가속도 센서의 측정 값의 일 예시이다. 도 5는 본 발명의 일 실시 예에 따른 수면 상태 케어 시스템의 센서부에 포함되는 압력 센서의 일 예시이다. 도 6은 본 발명의 일 실시 예에 따른 수면 상태 케어 시스템의 센서부에 포함되는 압력 센서의 측정 값의 일 예 시이다. 도 7은 본 발명의 일 실시 예에 따른 수면 상태 케어 시스템의 제어부의 구성을 나타낸 블록도이다. 도 8 및 도 9는 본 발명의 일 실시 예에 따른 수면 상태 케어 시스템의 수면 케어 방식을 나타낸 개념도이다. 도 10은 본 발명의 일 실시 예에 따른 수면 상태 케어 시스템의 수면 점수 판단 모델의 일 예시이다. 도 11은 본 발명의 일 실시 예에 따른 수면 상태 케어 방법의 흐름도이다. 도 12는 본 발명의 일 실시 예에 따른 수면 상태 케어 방법의 뒤척임 판단 방법의 흐름도이다. 도 13은 본 발명의 일 실시 예에 따른 수면 상태 케어 방법의 수면 점수 판단 방법의 흐름도이다. 도 14는 본 발명의 일 실시 예에 따른 수면 상태 케어 방법의 주변기기 제어 방법의 흐름도이다."}
