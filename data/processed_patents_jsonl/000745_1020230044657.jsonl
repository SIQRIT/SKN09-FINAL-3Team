{"patent_id": "10-2023-0044657", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0149120", "출원번호": "10-2023-0044657", "발명의 명칭": "하이브리드 전기 자동차의 에너지 제어장치 및 방법", "출원인": "현대트랜시스 주식회사", "발명자": "김진성"}}
{"patent_id": "10-2023-0044657", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "하이브리드 전기 자동차의 주행조건 및 차량특성을 입력받는 입력모듈; 에너지 제어전략을 수행하기 위한 실행 프로그램과 파라미터를 저장하는 메모리; 및 상기 입력모듈 및 상기 메모리와 작동적으로 연결(operatively coupled to)된 프로세서;를 포함하되, 상기 프로세서는 에너지 제어전략에 따라 상기 입력모듈을 통해 주행조건 및 차량특성을 입력받은 후 제1 제어알고리즘을 기반으로 EV 모드로의 구동 가능여부를 판단하여 상기 EV 모드로 구동 가능한 경우 상기 EV 모드로구동하고, 상기 EV 모드로 구동이 가능하지 않은 경우 제2 제어 알고리즘을 기반으로 구동모드와 토크분배비를결정하여 출력하는 것을 특징으로 하는 하이브리드 전기 자동차의 에너지 제어장치."}
{"patent_id": "10-2023-0044657", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1항에 있어서, 상기 하이브리드 전기 자동차는, P0+P2 병렬구조 및 P1+P2 병렬구조 중 어느 하나의 구조를갖는 것을 특징으로 하는 하이브리드 전기 자동차의 에너지 제어장치."}
{"patent_id": "10-2023-0044657", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1항에 있어서, 상기 제1 제어 알고리즘은, 규칙 기반(RB) 제어 알고리즘이고, 상기 제2 제어 알고리즘은, NMPC 제어 알고리즘인 것을 특징으로 하는 하이브리드 전기 자동차의 에너지 제어장치."}
{"patent_id": "10-2023-0044657", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 1항에 있어서, 상기 프로세서는, 배터리의 SOC가 제어변수 rbdod(depth of discharge) 값보다 작았던 적이 없으며, 요구토크가 제어변수 rbtrq(torque) 값보다 작은 경우 상기 EV 모드로의 구동 가능한 것으로 판단하는 것을 특징으로 하는 하이브리드 전기 자동차의 에너지 제어장치."}
{"patent_id": "10-2023-0044657", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 4항에 있어서, 상기 제어변수는, 상기 하이브리드 전기 자동차의 구조에 따라 GA(Genetic Algorithm) 최적화알고리즘을 기반으로 주행조건에 따라 최적화하여 설정하는 것을 특징으로 하는 하이브리드 전기 자동차의 에너지 제어장치."}
{"patent_id": "10-2023-0044657", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 1항에 있어서, 상기 프로세서는, 상기 제2 제어 알고리즘을 기반으로 ROM-P2D-SPM 배터리 열화모델을 사용하여 비용함수가 최소가 되는 목적함수를 통해 상기 토크분배비를 계산하는 것을 특징으로 하는 하이브리드 전기자동차의 에너지 제어장치."}
{"patent_id": "10-2023-0044657", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "공개특허 10-2024-0149120-3-제 6항에 있어서, 상기 비용함수는, 연료 소비율, 부반응률, SOC 유지조건 및 구성요소의 구동범위 만족여부(0,1)의 합인 것을 특징으로 하는 하이브리드 전기 자동차의 에너지 제어장치."}
{"patent_id": "10-2023-0044657", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 7항에 있어서, 상기 구성요소는, 엔진, 모터의 토크와 각속도 리밋, 배터리의 SOC, 전류 및 전압 중 어느 하나 이상을 포함하는 것을 특징으로 하는 하이브리드 전기 자동차의 에너지 제어장치."}
{"patent_id": "10-2023-0044657", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 7항에 있어서, 상기 비용함수는, 각각의 요소들 간 중요도 균형을 맞추는 가중치 변수가 곱해져 요소들 간의중요도 균형을 맞추는 것을 특징으로 하는 하이브리드 전기 자동차의 에너지 제어장치."}
{"patent_id": "10-2023-0044657", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제 9항에 있어서, 상기 가중치 변수는, 상기 하이브리드 전기 자동차의 구조에 따라 GA(Genetic Algorithm) 최적화 알고리즘을 기반으로 주행조건에 따라 최적화하여 설정하는 것을 특징으로 하는 하이브리드 전기 자동차의에너지 제어장치."}
{"patent_id": "10-2023-0044657", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "프로세서가 에너지 제어전략에 따라 입력모듈을 통해 주행조건 및 차량특성을 입력받는 단계; 상기 프로세서가 제1 제어 알고리즘을 기반으로 EV 모드로의 구동 가능여부를 판단하는 단계; 상기 프로세서가 상기 EV 모드로의 구동 가능여부를 판단한 결과 상기 EV 모드로 구동 가능한 경우 상기 EV 모드로 구동하는 단계; 및 상기 프로세서가 상기 EV 모드로의 구동 가능여부를 판단한 결과 상기 EV 모드로 구동이 가능하지 않은 경우 제2 제어 알고리즘을 기반으로 구동모드와 토크분배비를 결정하여 출력하는 단계;를 포함하는 것을 특징으로 하는하이브리드 전기 자동차의 에너지 제어방법."}
{"patent_id": "10-2023-0044657", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제 11항에 있어서, 상기 제1 제어 알고리즘은, 규칙 기반(RB) 제어 알고리즘이고, 상기 제2 제어 알고리즘은, NMPC 제어 알고리즘인 것을 특징으로 하는 하이브리드 전기 자동차의 에너지 제어방법."}
{"patent_id": "10-2023-0044657", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제 11항에 있어서, 상기 EV 모드로의 구동 가능여부를 판단하는 단계는, 상기 프로세서가 배터리의 SOC가 제어변수 rbdod(depth of discharge) 값보다 작았던 적이 없으며, 요구토크가제어변수 rbtrq(torque) 값보다 작은 경우 상기 EV 모드로의 구동 가능한 것으로 판단하는 것을 특징으로 하는하이브리드 전기 자동차의 에너지 제어방법."}
{"patent_id": "10-2023-0044657", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "공개특허 10-2024-0149120-4-제 13항에 있어서, 상기 제어변수는, 상기 하이브리드 전기 자동차의 구조에 따라 GA(Genetic Algorithm) 최적화 알고리즘을 기반으로 주행조건에 따라 최적화하여 설정하는 것을 특징으로 하는 하이브리드 전기 자동차의에너지 제어방법."}
{"patent_id": "10-2023-0044657", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제 11항에 있어서, 상기 토크분배비를 결정하는 단계는, 상기 프로세서가 상기 제2 제어 알고리즘을 기반으로 ROM-P2D-SPM 배터리 열화모델을 사용하여 비용함수가 최소가 되는 목적함수를 통해 상기 토크분배비를 계산하는 것을 특징으로 하는 하이브리드 전기 자동차의 에너지 제어방법."}
{"patent_id": "10-2023-0044657", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제 15항에 있어서, 상기 비용함수는, 연료 소비율, 부반응률, SOC 유지조건 및 구성요소의 구동범위 만족여부(0, 1)의 합인 것을 특징으로 하는 하이브리드 전기 자동차의 에너지 제어방법."}
{"patent_id": "10-2023-0044657", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제 16항에 있어서, 상기 구성요소는, 엔진, 모터의 토크와 각속도 리밋, 배터리의 SOC, 전류 및 전압 중 어느하나 이상을 포함하는 것을 특징으로 하는 하이브리드 전기 자동차의 에너지 제어방법."}
{"patent_id": "10-2023-0044657", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "제 16항에 있어서, 상기 비용함수는, 각각의 요소들 간 중요도 균형을 맞추는 가중치 변수가 곱해져 요소들 간의 중요도 균형을 맞추는 것을 특징으로 하는 하이브리드 전기 자동차의 에너지 제어방법."}
{"patent_id": "10-2023-0044657", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_19", "content": "제 18항에 있어서, 상기 가중치 변수는, 상기 하이브리드 전기 자동차의 구조에 따라 GA(Genetic Algorithm) 최적화 알고리즘을 기반으로 주행조건에 따라 최적화하여 설정하는 것을 특징으로 하는 하이브리드 전기 자동차의에너지 제어방법."}
{"patent_id": "10-2023-0044657", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 하이브리드 전기 자동차의 에너지 제어장치 및 방법이 개시된다. 본 발명의 하이브리드 전기 자동차의 에너지 제어장치는, 하이브리드 전기 자동차의 주행조건 및 차량특성을 입력받는 입력모듈; 에너지 제어전략을 수행하기 위한 실행 프로그램과 파라미터를 저장하는 메모리; 및 입력모듈 및 메모리와 작동적으로 연결 (operatively coupled to)된 프로세서;를 포함하되, 프로세서는 에너지 제어전략에 따라 입력모듈을 통해 주행조 건 및 차량특성을 입력받은 후 제1 제어 알고리즘을 기반으로 EV 모드로의 구동 가능여부를 판단하여 EV 모드로 구동 가능한 경우 EV 모드로 구동하고, EV 모드로 구동이 가능하지 않은 경우 제2 제어 알고리즘을 기반으로 구 동모드와 토크분배비를 결정하여 출력하는 것을 특징으로 한다."}
{"patent_id": "10-2023-0044657", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 하이브리드 전기 자동차의 에너지 제어장치 및 방법에 관한 것으로서, 보다 상세하게는 2계층의 규칙 기반 제어와 모델 예측 제어 알고리즘을 사용하여 하이브리드 전기 자동차의 연비와 배터리 노화를 고려한 출력 분배로 차량 성능을 향상시킬 수 있도록 하는 하이브리드 전기 자동차의 에너지 제어장치 및 방법에 관한 것이다."}
{"patent_id": "10-2023-0044657", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "일반적으로, 하이브리드 전기 자동차(HEV; Hybrid Electric Vehicle)는 두 개 이상의 동력원인 모터와 엔진의 사용으로 인해 복잡한 구조를 가진다. 따라서 여러 동력원들의 출력 분배를 결정하는 에너지 제어전략(EMS; Energy Management Strategy)이 차량 성능에 크게 영향을 끼친다. 여기서 EMS의 목표로는 연비 최적화와 차량 부품의 최대 구동범위를 넘지 않는 조건을 고려하는 것이고, 실시간 으로 적용될 수 있도록 계산 복잡도가 낮아야 한다. EMS 기술로는 규칙 기반(Rule Based), 최적화 기반(Optimization Based) 및 학습 기반(Learning Based)의 세 가지 유형이 있다. 첫째, RB-EMS 는 미리 정의된 규칙을 기반으로 실시간으로 적용할 수 있는 가장 간단한 방법이다. 둘째, OB-EMS는 요구하는 정보와 계산의 복잡도에 따라 온라인(Online)과 오프라인(Offline)으로 나뉜다. 먼저, 오프라인 OB-EMS로는 Dynamic Programming(DP), Genetic Algorithm(GA), Pontryagin's Minimum Principle(PMP), Particle Swarm Optimization(PSO) 등이 있으며, 주행 시작부터 끝까지의 정보가 제공되어야 하므로 실시간으로는 적용될 수 없지만 가장 최적의 결과를 도출해 낸다. 다음으로 온라인 OB-EMS로는 Equivalent Consumption Minimization Strategy(ECMS), Model predictive control(MPC) 및 Nonlinear Model Predictive Control(NMPC)가 있으며, 이는 실시간으로 적용이 가능하다. 셋째 LB-EMS는 온라인 적용 가능한 데이터 기반 러닝 방식으로, 최근 인공지능 기술의 발전으로 많은 연구가 진 행되고 있다. 또한 차세대 EMS 솔루션으로는 연비 및 기타 성능을 향상시키는 Hybrid EMS로 규칙 기반(Rule Based), 최적화 기반(Optimization Based) 및 학습 기반(Learning Based)의 여러 기술을 혼합한 방법이 제안되고 있다. 그러나 이러한 하이브리드 전기 자동차의 에너지 제어전략(HEV-EMS)은 대부분 연비만을 고려하고 있고 배터리의 노화를 고려하는 EMS는 정확도가 낮은 배터리 모델을 사용하고 있으며 실험적 검증을 통해 입증되지 않고 있다. 여기서, 배터리 모델은 Electric equivalent Circuit Model(ECM)과 Full Order Electrochemical Model(FOM)로 분류된다. ECM은 배터리를 저항과 커패시터로 구성된 회로로 가정하는 가장 간단한 배터리 모델로 에너지 제어전략에 주로 사용된다. 반면, FOM은 배터리 내부의 전기화학적, 열역학적 및 물리적 원리를 기반으로 복잡한 수식으로 이루어져 있으며 고차 비선형 방정식으로 이루어져, 가장 높은 정확도로 배터리 내부 현상을 고려할 수 있지만 복잡도가 높다. 따라서 수치 해석적 방법을 통해 고차 비선형 방정식의 수식을 단순화한 Reduced Order electrochemical model(ROM)이 제시되었다. 여기서 ROM은 모델 설정에 따라 Pseudo two Dimensional(ROM-P2D)와 Single Particle Model(ROM-SPM)로 분류할 수 있으며, ROM-P2D는 양극과 음극의 여러 개의 입자를 고려하는 반면, ROM-SPM은 하나의 입자만을 고려한다. 또한 양극의 SPM과 음극의 P2D 설정으로 구성된 ROM-P2D-SPM 모델이 개발되었다. 배터리 노화의 주된 원인인 Solid Electrolyte Inter phase(SEI)층은 부반응(Side reaction)을 통해 음극의 입 자 표면에서 생성되기 때문에 음극의 내부 반응을 높은 정확도로 예측하기 위해 P2D 설정이 음극에 적용되었고, SPM 설정이 양극에 적용되면서 모델의 복잡도를 줄였다. 따라서 ROM-P2D-SPM 모델은 ROM-P2D 보다 계산시간이 짧으며, ROM-SPM 보다 더 높은 정확도의 배터리 노화 예측 이 가능하다. 그러나, 연비와 배터리 노화를 모두 고려하는 에너지 제어전략에 ROM-P2D 혹은 ROM-SPM을 사용하여 정확한 배터 리 노화현상을 예측하는 방법이 적용되고 있지 않고 있다."}
{"patent_id": "10-2023-0044657", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 2, "content": "본 발명의 배경기술은 대한민국 등록특허공보 제10-0873688호(2008.12.15. 공고, 하이브리드 구동 장치의 토크 분배 및 제어 방법)에 개시되어 있다."}
{"patent_id": "10-2023-0044657", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "일 측면에 따른 본 발명의 목적은 2계층의 규칙 기반 제어와 모델 예측 제어 알고리즘을 사용하여 하이브리드 전기 자동차의 연비와 배터리 노화를 고려한 출력 분배로 차량의 구성요소의 안전 구동조건을 만족하도록 할 뿐 만 아니라 ROM-P2D-SPM의 배터리 모델을 적용하여 배터리 노화를 정확하게 예측하고 최적화함으로써 최소한의 연료소비와 배터리 열화를 감소시키고, 계산시간을 단축할 수 있도록 하는 하이브리드 전기 자동차의 에너지 제 어장치 및 방법을 제공하는 것이다."}
{"patent_id": "10-2023-0044657", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 일 측면에 따른 하이브리드 전기 자동차의 에너지 제어장치는, 하이브리드 전기 자동차의 주행조건 및 차량특성을 입력받는 입력모듈; 에너지 제어전략을 수행하기 위한 실행 프로그램과 파라미터를 저장하는 메 모리; 및 입력모듈 및 메모리와 작동적으로 연결(operatively coupled to)된 프로세서;를 포함하되, 프로세서는 에너지 제어전략에 따라 입력모듈을 통해 주행조건 및 차량특성을 입력받은 후 제1 제어 알고리즘을 기반으로 EV 모드로의 구동 가능여부를 판단하여 EV 모드로 구동 가능한 경우 EV 모드로 구동하고, EV 모드로 구동이 가 능하지 않은 경우 제2 제어 알고리즘을 기반으로 구동모드와 토크분배비를 결정하여 출력하는 것을 특징으로 한 다. 본 발명에서 하이브리드 전기 자동차는, P0+P2 병렬구조 및 P1+P2 병렬구조 중 어느 하나의 구조를 갖는 것을 특징으로 한다. 본 발명에서 제1 제어 알고리즘은, 규칙 기반(RB) 제어 알고리즘이고, 제2 제어 알고리즘은, NMPC 제어 알고리 즘인 것을 특징을 한다. 본 발명에서 프로세서는, 배터리의 SOC가 제어변수 rbdod(depth of discharge) 값보다 작았던 적이 없으며, 요구 토크가 제어변수 rbtrq(torque) 값보다 작은 경우 EV 모드로의 구동 가능한 것으로 판단하는 것을 특징으로 한다. 본 발명에서 제어변수는, 하이브리드 전기 자동차의 구조에 따라 GA(Genetic Algorithm) 최적화 알고리즘을 기 반으로 주행조건에 따라 최적화하여 설정하는 것을 특징으로 한다. 본 발명에서 프로세서는, 배터리의 전압이 설정전압 범위에 있을 경우 제1 제어 알고리즘을 기반으로 EV 모드로 구동하는 것을 특징으로 한다. 본 발명에서 프로세서는, 제2 제어 알고리즘을 기반으로 ROM-P2D-SPM 배터리 열화모델을 사용하여 비용함수가 최소가 되는 목적함수를 통해 토크분배비를 계산하는 것을 특징으로 한다. 본 발명에서 비용함수는, 연료 소비율, 부반응률, SOC 유지조건 및 구성요소의 구동범위 만족여부(0, 1)의 합인 것을 특징으로 한다. 본 발명에서 구성요소는, 엔진, 모터의 토크와 각속도 리밋, 배터리의 SOC, 전류 및 전압 중 어느 하나 이상을 포함하는 것을 특징으로 한다. 본 발명에서 비용함수는, 각각의 요소들 간 중요도 균형을 맞추는 가중치 변수가 곱해져 요소들 간의 중요도 균 형을 맞추는 것을 특징으로 한다. 본 발명에서 가중치 변수는, 하이브리드 전기 자동차의 구조에 따라 GA(Genetic Algorithm) 최적화 알고리즘을 기반으로 주행조건에 따라 최적화하여 설정하는 것을 특징으로 한다. 본 발명의 다른 측면에 따른 하이브리드 전기 자동차의 에너지 제어방법은, 프로세서가 에너지 제어전략에 따라 입력모듈을 통해 주행조건 및 차량특성을 입력받는 단계; 프로세서가 제1 제어 알고리즘을 기반으로 EV 모드로 의 구동 가능여부를 판단하는 단계; 프로세서가 EV 모드로의 구동 가능여부를 판단한 결과 EV 모드로 구동 가능 한 경우 EV 모드로 구동하는 단계; 및 프로세서가 EV 모드로의 구동 가능여부를 판단한 결과 EV 모드로 구동이 가능하지 않은 경우 제2 제어 알고리즘을 기반으로 구동모드와 토크분배비를 결정하여 출력하는 단계;를 포함하 는 것을 특징으로 한다. 본 발명에서 제1 제어 알고리즘은, 규칙 기반(RB) 제어 알고리즘이고, 제2 제어 알고리즘은, NMPC 제어 알고리 즘인 것을 특징을 한다. 본 발명에서 EV 모드로의 구동 가능여부를 판단하는 단계는, 프로세서가 배터리의 SOC가 제어변수 rbdod(depth of discharge) 값보다 작았던 적이 없으며, 요구토크가 제어변수 rbtrq(torque) 값보다 작은 경우 EV 모드로의 구동 가능한 것으로 판단하는 것을 특징으로 한다. 본 발명에서 제어변수는, 하이브리드 전기 자동차의 구조에 따라 GA(Genetic Algorithm) 최적화 알고리즘을 기 반으로 주행조건에 따라 최적화하여 설정하는 것을 특징으로 한다. 본 발명에서 EV 모드로 구동하는 단계는, 프로세서가 배터리의 전압이 설정전압 범위에 있을 경우 제1 제어 알 고리즘을 기반으로 EV 모드로 구동하는 것을 특징으로 한다. 본 발명에서 토크분배비를 결정하는 단계는, 프로세서가 제2 제어 알고리즘을 기반으로 ROM-P2D-SPM 배터리 열 화모델을 사용하여 비용함수가 최소가 되는 목적함수를 통해 토크분배비를 계산하는 것을 특징으로 한다. 본 발명에서 비용함수는, 연료 소비율, 부반응률, SOC 유지조건 및 구성요소의 구동범위 만족여부(0, 1)의 합인 것을 특징으로 한다. 본 발명에서 구성요소는, 엔진, 모터의 토크와 각속도 리밋, 배터리의 SOC, 전류 및 전압 중 어느 하나 이상을 포함하는 것을 특징으로 한다. 본 발명에서 비용함수는, 각각의 요소들 간 중요도 균형을 맞추는 가중치 변수가 곱해져 요소들 간의 중요도 균 형을 맞추는 것을 특징으로 한다. 본 발명에서 가중치 변수는, 하이브리드 전기 자동차의 구조에 따라 GA(Genetic Algorithm) 최적화 알고리즘을 기반으로 주행조건에 따라 최적화하여 설정하는 것을 특징으로 한다."}
{"patent_id": "10-2023-0044657", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 일 측면에 따른 하이브리드 전기 자동차의 에너지 제어장치 및 방법은 2계층의 규칙 기반 제어와 모 델 예측 제어 알고리즘을 사용하여 하이브리드 전기 자동차의 연비와 배터리 노화를 고려한 출력 분배로 차량의 구성요소의 안전 구동조건을 만족하도록 할 뿐만 아니라 ROM-P2D-SPM의 배터리 모델을 적용하여 배터리 노화를 정확하게 예측하고 최적화함으로써 최소한의 연료소비와 배터리 열화를 감소시키고, 계산시간을 단축할 수 있다."}
{"patent_id": "10-2023-0044657", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면들을 참조하여 본 발명에 따른 하이브리드 전기 자동차의 에너지 제어장치 및 방법을 설명한 다. 이 과정에서 도면에 도시된 선들의 두께나 구성요소의 크기 등은 설명의 명료성과 편의상 과장되게 도시되 어 있을 수 있다. 또한, 후술되는 용어들은 본 발명에서의 기능을 고려하여 정의된 용어들로서 이는 사용자, 운 용자의 의도 또는 관례에 따라 달라질 수 있다. 그러므로 이러한 용어들에 대한 정의는 본 명세서 전반에 걸친 내용을 토대로 내려져야 할 것이다. 도 1은 본 발명의 일 실시예에 따른 하이브리드 전기 자동차의 에너지 제어장치를 나타낸 블록 구성도이고, 도 2는 본 발명의 일 실시예에 따른 하이브리드 전기 자동차의 에너지 제어장치에서 P0+P2 병렬구조의 하이브리드 전기 자동차에 대해 최적화된 변수를 나타낸 테이블이며, 도 3은 본 발명의 일 실시예에 따른 하이브리드 전기 자동차의 에너지 제어장치에서 P1+P2 병렬구조의 하이브리드 전기 자동차에 대해 최적화된 변수를 나타낸 테이 블이고, 도 4는 본 발명의 일 실시예에 따른 하이브리드 전기 자동차의 에너지 제어장치에 의한 제어시뮬레이션 결과를 나타낸 비교 테이블이며, 도 5는 본 발명의 일 실시예에 따른 하이브리드 전기 자동차의 에너지 제어장 치를 BIL(Battery in the loop) 시스템에 내장하여 실험한 검증결과이다. 도 1에 도시된 바와 같이 본 발명의 일 실시예에 따른 하이브리드 전기 자동차의 에너지 제어장치는, 입력모듈 , 메모리, 출력모듈 및 프로세서를 포함할 수 있다. 입력모듈은 하이브리드 전기 자동차의 주행조건 및 차량특성을 입력받는다. 메모리는 에너지 제어전략을 수행하기 위한 실행 프로그램과 파라미터를 저장할 수 있으며, 저장되는 정보 들은 필요에 따라 프로세서에 의해 취사선택될 수 있다. 즉, 메모리에는 하이브리드 전기 자동차의 에너지 제어장치를 구동하기 위한 운영 체제나 어플리케이션(프 로그램 또는 애플릿)의 실행과정에서 발생되는 여러 종류의 데이터가 저장된다. 이때, 메모리는 비휘발성 메모리, 휘발성 메모리, 플래시메모리(flash-memory) 또는 솔리드 스테이트 드라이브(SSD) 등으로 구현될 수 있 다, 또한, 메모리는 프로세서에 의한 데이터의 독취/기록/수정/삭제/갱신 등이 수행될 수 있다. 출력모듈은 에너지 제어전략에 따른 토크분배비를 출력할 수 있다. 프로세서는 입력모듈, 메모리 및 출력모듈과 작동적으로 연결(operatively coupled to)되어, 하이브리드 전기 자동차의 에너지 제어장치의 전반적인 동작을 제어하기 위해 메모리에 저장된 각종 프로그 램을 램에 복사하고, 실행시켜 각종 동작을 수행할 수 있다. 여기서, 프로세서가 하나의 CPU만을 포함하는 것으로 설명하였지만, 구현 시에는 복수의 CPU(또는 DSP, SoC 등)로 구현될 수도 있다. 다양한 실시예로, 프로세서는 디지털 신호를 처리하는 디지털 시그널 프로세서(digital signal processor(DSP), 마이크로 프로세서(microprocessor), TCON(Time controller)으로 구현될 수 있다. 다만, 이에 한정되는 것은 아니며, 프로세서는 중앙처리장치(central processing unit(CPU)), MCU(Micro Controller Unit), MPU(micro processing unit), 컨트롤러(controller), 어플리케이션 프로세서(application processor(AP)), 또는 커뮤니케이션 프로세서(communication processor(CP)), ARM 프로세서 중 하나 또는 그 이상을 포함하거나, 해당 용어로 정의될 수 있다. 또한, 프로세서는 프로세싱 알고리즘이 내장된 SoC(System on Chip), LSI(large scale integration)로 구현될 수도 있고, FPGA(Field Programmable gate array) 형태로 구현될 수도 있다. 즉, 프로세서는 에너지 제어전략을 수행하기 위해 실행 프로그램을 실행시켜 입력모듈을 통해 주행조건 및 차량특성을 입력받은 후 제1 제어 알고리즘을 기반으로 EV 모드로의 구동 가능여부를 판단하여 EV 모드로 구 동 가능한 경우 EV 모드로 구동하고, EV 모드로 구동이 가능하지 않은 경우 제2 제어 알고리즘을 기반으로 구동 모드와 토크분배비를 결정하여 출력모듈을 통해 출력할 수 있다. 본 실시예에서 에너지 제어전략을 수행하는 하이브리드 전기 자동차는 병렬형 하이브리드 전기 자동차로써, P0+P2 병렬구조 및 P1+P2 병렬구조 중 어느 하나의 구조에 대해 적용한다. 여기서 모터의 장착 위치에 따라 P0는 벨트 구동 스타터 제너레이터에 모터가 연결되는 구조로 엔진 속도와 풀 리비의 곱이고, P1은 엔진 크랭크 샤프트에 모터가 연결되는 구조로 엔진과 회전속도가 동일하며, P2는 변속기 입력 샤프트에 모터가 연결되는 구조이다. 먼저, 프로세서는 제1 제어 알고리즘인 규칙 기반(RB) 제어 알고리즘을 기반으로 EV 모드로의 구동 가능여 부를 판단한다. 이때 프로세서는 배터리의 SOC가 제어변수 rbdod(depth of discharge) 값보다 작았던 적이 없으며, 요구토크 (Tgb)가 제어변수 rbtrq(torque) 값보다 작은 경우 EV 모드로의 구동 가능한 것으로 판단할 수 있다. 여기서, 제어변수는 하이브리드 전기 자동차의 구조에 따라 GA(Genetic Algorithm) 최적화 알고리즘을 기반으로 주행조건에 따라 최적화하여 설정할 수 있다. 또한, 프로세서는 배터리의 안전한 사용을 위해 배터리의 전압이 2.5V-4.2V 범위에 있을 경우 제1 제어 알 고리즘을 기반으로 EV 모드로 구동한다. 이와 같이 EV 모드로의 구동 가능여부를 판단한 후 EV 모드로 구동 가능한 경우 프로세서는 EV 모드로 구동 하게 된다. EV 모드는 모터로 모든 요구토크를 제공하며 엔진은 사용되지 않게 된다. 그러나, EV 모드로의 구동 가능여부를 판단한 후 EV 모드로 구동이 가능하지 않은 경우, 프로세서는 제2 제 어 알고리즘인 NMPC(Nonlinear Model Predictive Control) 제어 알고리즘을 기반으로 구동모드와 토크분배비를 결정하여 출력모듈을 통해 출력할 수 있다. 즉, 프로세서는 제2 제어 알고리즘을 기반으로 ROM-P2D-SPM 배터리 열화모델을 사용하여 수학식 1과 같이 비용함수가 최소가 되는 목적함수를 통해 토크분배비(u)를 계산할 수 있다. 이때 예측범위(Np)는 2초, 그리고 시간 간격(dt)은 1초로 설정하였다. 수학식 1"}
{"patent_id": "10-2023-0044657", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "이와 같이 비용함수(Jcost)는 연료 소비율( ), 부반응률( ), SOC 유지조건( ) 및 구 성요소의 구동범위 만족여부(Constraints ; 0, 1)의 합으로 정의할 수 있다. 이때 구성요소의 구동범위를 만족하면 0, 만족하지 않으면 1의 값을 갖는다. 여기서, 구성요소는 엔진, 모터의 토크와 각속도 리밋, 배터리의 SOC, 전류 및 전압 중 어느 하나 이상을 포함 할 수 있다. 또한, 수학식 1에서 비용함수(Jcost)는 각각의 요소들 간 중요도 균형을 맞추는 가중치 변수(w)가 곱해져 요소들 간의 중요도 균형을 맞출 수 있다. 이때 wsoc 는 시간이 지남에 따라 SOC 가 초기 SOC에 가까워져야 하므로, 시간과 동일한 값으로 설정하였다. wconst는 구성요소가 안전한 범위 내에서만 구동하도록 큰 값인 1000으로 설정하였다. 여기서 가중치 변수(Wfuel, wsr)는 하이브리드 전기 자동차의 구조에 따라 GA(Genetic Algorithm) 최적화 알고리 즘을 기반으로 주행조건(UDDS ; Urban Dynamometer Driving Schedule, HWFET ; Highway Fuel Economy Test Cycle)에 따라 최적화하여 설정할 수 있고, 4개의 변수에 대해 1600세대를 거쳐 최적화하였다. 즉, 도 2는 P0+P2 병렬구조의 하이브리드 전기 자동차에 대해 최적화된 변수를 나타낸 테이블이고, 도 3은 P1+P2 병렬구조의 하이브리드 전기 자동차에 대해 최적화된 변수를 나타낸 테이블이다. 이와 같이 NMPC의 목적함수는 연료 소비율과 배터리 부반응률이 최소화가 되도록 설정한다. 여기서 부반응률이 클수록 SEI 층이 많이 생성되며, 배터리가 빠르게 노화되기 때문에 최소화가 되도록 설정한다. 또한, 초기와 말 기의 SOC 차이가 가능한 작게 유지되도록 하는 SOC 유지조건을 추가하여 차량이 EV 모드로만 구동하는 것을 방 지할 수 있고, 경계조건으로는 차량의 구성요소가 안전구동범위 내에서 작동하도록 한다. 도 4는 본 발명의 일 실시예에 따른 하이브리드 전기 자동차의 에너지 제어장치에 의한 제어시뮬레이션 결과를 나타낸 비교 테이블이다. 도 4에 도시된 바와 같이 본 발명의 실시예에 따른 RB-NMPC 결과를 NMPC, DP(Dynamic Programming), 그리고 RB(Autonomie)에서 제공되는 RB-EMS와 비교할 때, 연비 측면에서 RB-NMPC가 실시간으로 적용 불가능하지만 가장 최적한 값인 DP 결과에 가장 가까운 값을 보인다. 또한, P0+P2 병렬구조 차량의 시내주행에서 Autonomie RB와 RB-NMPC를 비교 하였을 때, 4.9% 향상된 연비를 보인다. 또한, 배터리 노화 측면에서는 P0+P2 병렬구조 차량의 시내주행(UDDS)에서 DP 와 RB-NMPC를 비교했을 때, RB- NMPC가 19.1% 적은 배터리 용량 손실을 보인다. 따라서 본 실시예에 따른 RB-NMPC 알고리즘을 적용한 경우 실시간으로 적용 가능하면서 연비를 개선하는 동시에 배터리 노화도 줄임을 볼 수 있다. 또한, P0+P2 병렬구조 차량과 P1+P2 병렬구조 차량 간 비교할 경우 P1+P2 병렬 구조 차량의 연비는 P0+P2 병렬 구조 차량보다 좋은 결과를 나타낸다. 이는 P0+P2 병렬구조 차량은 엔진과 벨트로 연결된 비교적 작은 사이즈의 P0 모터를 사용하지만, P1+P2 병렬구 조 차량의 P1 모터는 벨트를 사용하지 않음으로써 에너지 손실을 줄임과 동시에 P2 모터와 같은 사이즈를 사용 하여 구동토크 제공에 사용될 수 있기 때문이다. 그리고, RB, RB-NMPC, DP 에 대해 각각 16.3%, 12.0%, 19.4% 더 높은 연비를 나타내고 있다. 또한, 배터리 노 화 측면에서 비교하였을 때, RB-NMPC는 P0+P2 병렬구조 및 P1+P2 병렬구조 모두에서 가장 낮은 배터리 용량 손 실을 보였다. RB-NMPC는 DP와 비교했을 때 시내주행(UDDS)에서 P0+P2 병렬구조 차량은 19.1%, P1+P2 병렬구조 차량은 32.7%, 낮은 용량손실을 보였다. 또한, 본 발명의 실시예에 따른 하이브리드 전기 자동차의 에너지 제어장치에 의한 2 계층 RB-NMPC 제어전략으 로 Battery-in-the-loop(BIL) 시스템에 내장하여 실험적으로 성능을 검증한 결과, 도 5에 도시된 바와 같이 배 터리 용량 손실은 시내주행(UDDS) 350 사이클까지 50 사이클 마다 DP와 RB-NMPC에 대해 비교한 경우, 350 사이 클 후, DP 는 0.85%, RB-NMPC는 0.75% 의 용량 감소를 보였다. 따라서 RB-NMPC를 사용하였을 때, DP에 비해 12.7% 느린 배터리 노화 현상을 보임을 알 수 있다. 상술한 바와 같이, 본 발명의 실시예에 의한 하이브리드 전기 자동차의 에너지 제어장치에 따르면, 2계층의 규 칙 기반 제어와 모델 예측 제어 알고리즘을 사용하여 하이브리드 전기 자동차의 연비와 배터리 노화를 고려한 출력 분배로 차량의 구성요소의 안전 구동조건을 만족하도록 할 뿐만 아니라 ROM-P2D-SPM의 배터리 모델을 적용 하여 배터리 노화를 정확하게 예측하고 최적화함으로써 최소한의 연료소비와 배터리 열화를 감소시키고, 계산시 간을 단축할 수 있다. 도 6은 본 발명의 일 실시예에 따른 하이브리드 전기 자동차의 에너지 제어방법을 설명하기 위한 흐름도이다. 도 6에 도시된 바와 같이 본 발명의 일 실시예에 따른 하이브리드 전기 자동차의 에너지 제어방법에서는 먼저, 프로세서가 에너지 제어전략에 따라 입력모듈을 통해 주행조건 및 차량특성을 입력받는다(S10). S10 단계에서 주행조건 및 차량특성을 입력받은 후 프로세서는 제1 제어 알고리즘인 규칙 기반(RB) 제어 알 고리즘을 기반으로 EV 모드로의 구동 가능여부를 판단한다(S20). 이때 프로세서는 배터리의 SOC가 제어변수 rbdod(depth of discharge) 값보다 작았던 적이 없으며, 요구토크 (Tgb)가 제어변수 rbtrq(torque) 값보다 작은 경우 EV 모드로의 구동 가능한 것으로 판단할 수 있다. 여기서, 제어변수는 하이브리드 전기 자동차의 구조에 따라 GA(Genetic Algorithm) 최적화 알고리즘을 기반으로 주행조건에 따라 최적화하여 설정할 수 있다. S20 단계에서 EV 모드로의 구동 가능여부를 판단한 결과 EV 모드로 구동 가능한 경우(S30), 프로세서는 결 과를 출력하고 EV 모드로 구동한다(S50). 이때 프로세서는 배터리의 안전한 사용을 위해 배터리의 전압이 2.5V-4.2V 범위에 있을 경우 제1 제어 알고 리즘을 기반으로 EV 모드로 구동한다. S30 단계에서 EV 모드로의 구동 가능여부를 판단한 결과 EV 모드로 구동이 가능하지 않은 경우, 제2 제어 알고 리즘인 NMPC(Nonlinear Model Predictive Control) 제어 알고리즘을 기반으로 구동모드와 토크분배비를 결정한 다(S40). 프로세서는 제2 제어 알고리즘을 기반으로 ROM-P2D-SPM 배터리 열화모델을 사용하여 수학식 2와 같이 비용 함수가 최소가 되는 목적함수를 통해 토크분배비(u)를 계산할 수 있다. 이때 예측범위(Np)는 2초, 그리고 시간 간격(dt)은 1초로 설정하였다. 수학식 2"}
{"patent_id": "10-2023-0044657", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "이와 같이 비용함수(Jcost)는 연료 소비율( ), 부반응률( ), SOC 유지조건( ) 및 구 성요소의 구동범위 만족여부(Constraints ; 0, 1)의 합으로 정의할 수 있다. 이때 구성요소의 구동범위를 만족하면 0, 만족하지 않으면 1의 값을 갖는다. 여기서, 구성요소는 엔진, 모터의 토크와 각속도 리밋, 배터리의 SOC, 전류 및 전압 중 어느 하나 이상을 포함 할 수 있다. 또한, 수학식 2에서 비용함수(Jcost)는 각각의 요소들 간 중요도 균형을 맞추는 가중치 변수(w)가 곱해져 요소들 간의 중요도 균형을 맞출 수 있다. 이때 wsoc 는 시간이 지남에 따라 SOC 가 초기 SOC에 가까워져야 하므로, 시간과 동일한 값으로 설정하였다. wconst는 구성요소가 안전한 범위 내에서만 구동하도록 큰 값인 1000으로 설정하였다. 여기서 가중치 변수(Wfuel, wsr)는 하이브리드 전기 자동차의 구조에 따라 GA(Genetic Algorithm) 최적화 알고리 즘을 기반으로 주행조건(UDDS ; Urban Dynamometer Driving Schedule, HWFET ; Highway Fuel Economy Test Cycle)에 따라 최적화하여 설정할 수 있고, 4개의 변수에 대해 1600세대를 거쳐 최적화하였다. 이와 같이 NMPC의 목적함수는 연료 소비율과 배터리 부반응률이 최소화가 되도록 설정한다. 여기서 부반응률이 클수록 SEI 층이 많이 생성되며, 배터리가 빠르게 노화되기 때문에 최소화가 되도록 설정한다. 또한, 초기와 말 기의 SOC 차이가 가능한 작게 유지되도록 하는 SOC 유지조건을 추가하여 차량이 EV 모드로만 구동하는 것을 방 지할 수 있고, 경계조건으로는 차량의 구성요소가 안전구동범위 내에서 작동하도록 한다. S40 단계에서 제2 제어 알고리즘인 NMPC(Nonlinear Model Predictive Control) 제어 알고리즘을 기반으로 구동 모드와 토크분배비를 결정한 후 프로세서는 결정한 결과를 출력한다(S50). 상술한 바와 같이, 본 발명의 실시예에 의한 하이브리드 전기 자동차의 에너지 제어방법에 따르면, 2계층의 규 칙 기반 제어와 모델 예측 제어 알고리즘을 사용하여 하이브리드 전기 자동차의 연비와 배터리 노화를 고려한 출력 분배로 차량의 구성요소의 안전 구동조건을 만족하도록 할 뿐만 아니라 ROM-P2D-SPM의 배터리 모델을 적용 하여 배터리 노화를 정확하게 예측하고 최적화함으로써 최소한의 연료소비와 배터리 열화를 감소시키고, 계산시 간을 단축할 수 있다. 본 명세서에서 설명된 구현은, 예컨대, 방법 또는 프로세스, 장치, 소프트웨어 프로그램, 데이터 스트림 또는 신호로 구현될 수 있다. 단일 형태의 구현의 맥락에서만 논의(예컨대, 방법으로서만 논의)되었더라도, 논의된 특징의 구현은 또한 다른 형태(예컨대, 장치 또는 프로그램)로도 구현될 수 있다. 장치는 적절한 하드웨어, 소 프트웨어 및 펌웨어 등으로 구현될 수 있다. 방법은, 예컨대, 컴퓨터, 마이크로프로세서, 집적 회로 또는 프로 그래밍 가능한 로직 디바이스 등을 포함하는 프로세싱 디바이스를 일반적으로 지칭하는 프로세서 등과 같은 장 치에서 구현될 수 있다. 프로세서는 또한 최종-사용자 사이에 정보의 통신을 용이하게 하는 컴퓨터, 셀 폰, 휴 대용/개인용 정보 단말기(personal digital assistant: \"PDA\") 및 다른 디바이스 등과 같은 통신 디바이스를 포함한다. 본 발명은 도면에 도시된 실시예를 참고로 하여 설명되었으나, 이는 예시적인 것에 불과하며, 당해 기술이 속하 는 분야에서 통상의 지식을 가진 자라면 이로부터 다양한 변형 및 균등한 타 실시예가 가능하다는 점을 이해할 것이다. 따라서 본 발명의 진정한 기술적 보호범위는 아래의 청구범위에 의해서 정하여져야 할 것이다. 부호의 설명 10 : 입력모듈 20 : 메모리 30 : 프로세서 40 : 출력모듈"}
{"patent_id": "10-2023-0044657", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 하이브리드 전기 자동차의 에너지 제어장치를 나타낸 블록 구성도이다. 도 2는 본 발명의 일 실시예에 따른 하이브리드 전기 자동차의 에너지 제어장치에서 P0+P2 병렬구조의 하이브리 드 전기 자동차에 대해 최적화된 변수를 나타낸 테이블이다. 도 3은 본 발명의 일 실시예에 따른 하이브리드 전기 자동차의 에너지 제어장치에서 P1+P2 병렬구조의 하이브리 드 전기 자동차에 대해 최적화된 변수를 나타낸 테이블이다. 도 4는 본 발명의 일 실시예에 따른 하이브리드 전기 자동차의 에너지 제어장치에 의한 제어시뮬레이션 결과를 나타낸 비교 테이블이다. 도 5는 본 발명의 일 실시예에 따른 하이브리드 전기 자동차의 에너지 제어장치를 BIL(Battery in the loop) 시 스템에 내장하여 실험한 검증결과이다. 도 6은 본 발명의 일 실시예에 따른 하이브리드 전기 자동차의 에너지 제어방법을 설명하기 위한 흐름도이다."}
