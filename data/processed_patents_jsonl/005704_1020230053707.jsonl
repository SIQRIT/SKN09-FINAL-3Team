{"patent_id": "10-2023-0053707", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0157203", "출원번호": "10-2023-0053707", "발명의 명칭": "보행밀도 검출을 이용한 보행량 모니터링 시스템", "출원인": "대림대학교산학협력단", "발명자": "김찬주"}}
{"patent_id": "10-2023-0053707", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "보행통로에 일정간격으로 설치되고 대상물(보행자)에 신호를 송신해서 반사되어 오는 시간으로 거리를 측정하여보행자를 검출하며, 검출한 보행자를 정해진 시간 동안 누적하여 시간당 통행량으로 환산하며, 지정된 시간 동안 보행량을 모니터링하는 다수의 보행밀도 검출 단말기; 및상기 다수의 보행밀도 검출 단말기와 데이터통신 네트워크로 연결되어 데이터를 송수신하여 일정시간마다 보행량 정보를 갱신하고 그래프를 업데이트하는 보행량 모니터링 서버;를 포함하는 보행밀도 검출을 이용한 보행량 모니터링 시스템."}
{"patent_id": "10-2023-0053707", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 보행량 모니터링 서버와 보행밀도 검출 단말기와의 통신은 핸드세이킹(hand-shaking) 방식으로 진행되는것을 특징으로 하는 보행밀도 검출을 이용한 보행량 모니터링 시스템."}
{"patent_id": "10-2023-0053707", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,보행밀도 검출 단말기와 대상물(보행자) 사이의 거리(d)는 수학식에 의해 계산하는 것을 특징으로 하는 보행밀도 검출을 이용한 보행량 모니터링 시스템.여기서 d는 측정거리, c는 빛의 속도, f는 변조된 신호의 주파수, n은 위상 주기가 반복되면서 생기는 상수, θ는 수신된 빛(신호)의 위상이다."}
{"patent_id": "10-2023-0053707", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,상기 보행밀도 검출 단말기는 계산된 거리값에 대해 로패스 필터링(low pass filtering) 또는 미디어 필터링(media filtering)을 적용하여 오류값을 저감하는 것을 특징으로 하는 보행밀도 검출을 이용한 보행량 모니터링시스템."}
{"patent_id": "10-2023-0053707", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서,상기 다수의 보행밀도 검출 단말기 각각은 고유의 ID가 부여되어 IP 정보 및 포트 정보와 함께 보행량 모니터링서버에 저장되고, 보행량 모니터링 서버는 보행밀도 검출 단말기로부터 받은 보행량 정보에 대해 ID를 구분하여갱신하는 것을 특징으로 하는 보행밀도 검출을 이용한 보행량 모니터링 시스템."}
{"patent_id": "10-2023-0053707", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에 있어서,상기 보행량 모니터링 서버는 연결 요청시 연결을 처리하는 기능, 데이터를 전달하고 수신하는 기능, 연결된 보행밀도 검출 단말기에 자동으로 데이터를 요청하는 기능, 그래프 정보를 업데이트 하는 기능을 수행하는 보행량모니터링 소프트웨어를 탑재하는 것을 특징으로 하는 보행밀도 검출을 이용한 보행량 모니터링 시스템.공개특허 10-2024-0157203-3-청구항 7 제6항에 있어서,상기 보행량 모니터링 소프트웨어는 Windows 환경에서 실행되어 범용 PC로 보행량 모니터링 서버를 구현할 수있도록 하는 것을 특징으로 하는 보행밀도 검출을 이용한 보행량 모니터링 시스템."}
{"patent_id": "10-2023-0053707", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 보행밀도 검출을 이용한 보행량 모니터링 시스템에 관한 것으로서, 더욱 상세하게는 TOF 센서의 동작 특성을 활용하여 보행통로 내의 이동량을 검출하고, 검출된 이동량 데이터를 실시간으로 모니터링하는 시스템에 관한 것이다. (뒷면에 계속)"}
{"patent_id": "10-2023-0053707", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 보행밀도 검출을 이용한 보행량 모니터링 시스템에 관한 것으로서, 더욱 상세하게는 TOF 센서의 동작 특성을 활용하여 보행통로 내의 이동량을 검출하고, 검출된 이동량 데이터를 실시간으로 모니터링하는 시스템에 관한 것이다."}
{"patent_id": "10-2023-0053707", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "사회가 고도화되고, 발전할수록 차량을 이용한 여가 활동보다 보행을 이용한 여가 문화가 날이 갈수록 증가하고 있다. 도심의 쇼핑거리나 관광지, 공원, 등산로 등에서 유동인구가 증가하고 있지만 그 수가 얼마이고, 언제, 어디서 활동하고 있는가를 파악하기는 쉽지가 않다. 과거 조사원이 직접 현장에 가서 손으로 계수하는 방식으로 유동인구 수를 측정하였으나 사람의 눈으로 직접 확 인하면서 계수하기도 힘들고, 장시간 조사하기 어렵기 때문에 신뢰성있는 유동인구 데이터를 얻기가 불가능하였 다. 따라서, 최근에는 특정 지역의 보행자 통행량을 계측할 수 있는 보행자 계수장치 및 이를 이용한 보행자 계수 관리 시스템의 연구가 확대되고 있다. 이에 따라 검지된 보행자 통행량 정보를 수집, 분석, 활용하기 위해서는 보행자 통행량 저장 및 전송장치를 포 함하는 추가적인 장치 및 방법이 필요한 실정이다. 한편, 보행에 대한 공간 면적의 개선과 서비스 질 개선을 위한 데이터로 활용하고자 기록된 영상 데이터를 오프 라인에서 분류해서 특정 공간의 보행밀도를 분석하여 보행로 내의 보행자 수를 집계하고, 보행 행위가 어떤 집 단 형태로 이루어지는 지를 보행밀도 측정을 통해 측정하고 분석하는 기술이 개시되어 있다(정상필, 2017). 그런데 이 선행기술의 보행밀도 분석은 이미 기록된 영상 데이터를 이용해서 비실시간으로 이루어지는 것이므로, 실시간으로 보행밀도를 분석할 수 없고 따라서 실시간으로 보행밀도를 개선하는 데 활용할 수 없는 문제점이 있었다. 한편, 카메라를 활용하여 보행량을 검출한 사례는 과거부터 매우 활성화되어왔으며 CCTV 등의 설치 및 보급은 가히 대중적이라고 할 수 있다. 딥러닝(Deep learning) 혹은 AI 기술 등을 활용하여 영상 내의 객체를 인식하는 인공지능 계수기 등을 개발하려 는 과제가 진행되기도 하였다((주)케이아오티 \"3D카메라를 이용한 지능형 CCTV 개발\" 2017년 기술이전사업화사 업 최종보고서 과학기술정보통신부, 2017.). 상기 영상으로부터 보행자를 검출하는 방법은 직관적으로 예상할 수 있는 방법이기도 하고 또한 영상인식 기술 의 발달로 결과도 기대해 볼 수 있는 방법이긴 하지만, 기본적으로 실시간 영상을 다루는 것이기 때문에 솔루션 의 구현이 고가인 단점이 있었다. 또한, 레이저 센서를 이용한 사례는 2012-13년도 연구 사례에서 볼 수 있듯이 실시간으로 보행검지체계를 개발 하여 신호 제어용으로 적용하려 하였다(치안정책연구소, \"레이더센서를 이용한 신호제어용 실시간 검지체계 개 발\", 2012-13 책임연구 보고서.)이때 레이더는 전파의 전파속도, 전파 소요시간 및 도플러 효과에 의한 주파수 편이의 측정에 바탕을 두고 물체 의 위치와 방향의 탐지 및 거리와 속도를 측정한다. 그러나 레이저의 감쇄를 이길만한 고전력이 요구되고 구현 가격이 높다는 단점이 있다. 선행기술문헌 특허문헌 (특허문헌 0001) 공개번호 제10-2023-0008483호(공개일자 2023년01월16일)"}
{"patent_id": "10-2023-0053707", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 상술한 문제점을 해결하기 위하여 안출된 것으로서, TOF(Time of Flight) 센서의 동작 특성을 활용하 여 보행통로 내의 이동량을 검출하고, 검출된 이동량 데이터를 실시간으로 모니터링함으로써, 저렴한 가격으로 실시간으로 보행밀도를 분석하여 보행밀도를 개선하는 데 활용할 수 있는 보행밀도 검출을 이용한 보행량 모니 터링 시스템을 제공하는데 그 목적이 있다."}
{"patent_id": "10-2023-0053707", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상술한 목적을 달성하기 위한 본 발명의 실시예에 따른 보행밀도 검출을 이용한 보행량 모니터링 시스템은, 보 행통로에 일정간격으로 설치되고 대상물(보행자)에 신호를 송신해서 반사되어 오는 시간으로 거리를 측정하여 보행자를 검출하며, 검출한 보행자를 정해진 시간 동안 누적하여 시간당 통행량으로 환산하며, 지정된 시간동안 보행량을 모니터링하는 다수의 보행밀도 검출 단말기; 및 상기 다수의 보행밀도 검출 단말기와 데이터통신 네트워크로 연결되어 데이터를 송수신하여 일정시간마다 보행 량 정보를 갱신하고 그래프를 업데이트하는 보행량 모니터링 서버; 를 포함하여 구성된다. 또한, 상기 보행량 모니터링 서버와 보행밀도 검출 단말기와의 통신은 핸드세이킹(hand-shaking) 방식으로 진행 되는 것을 특징으로 한다. 또한, 보행밀도 검출 단말기와 대상물(보행자) 사이의 거리(d)는 아래의 수학식에 의해 계산하는 것을 특징으로 한다."}
{"patent_id": "10-2023-0053707", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 2, "content": "여기서 d는 측정거리, c는 빛의 속도, f는 변조된 신호의 주파수, n은 위상 주기가 반복되면서 생기는 상수, θ 는 수신된 빛(신호)의 위상이다. 또한, 상기 보행밀도 검출 단말기는 계산된 거리값에 대해 로패스 필터링(low pass filtering) 또는 미디어 필 터링(media filtering)을 적용하여 오류값을 저감하는 것을 특징으로 한다. 또한, 상기 다수의 보행밀도 검출 단말기 각각은 고유의 ID가 부여되어 IP 정보 및 포트 정보와 함께 보행량 모 니터링 서버에 저장되고, 보행량 모니터링 서버는 보행밀도 검출 단말기로부터 받은 보행량 정보에 대해 ID를 구분하여 갱신하는 것을 특징으로 한다.또한, 상기 보행량 모니터링 서버는 연결 요청시 연결을 처리하는 기능, 데이터를 전달하고 수신하는 기능, 연 결된 보행밀도 검출 단말기에 자동으로 데이터를 요청하는 기능, 그래프 정보를 업데이트 하는 기능을 수행하는 보행량 모니터링 소프트웨어를 탑재하는 것을 특징으로 한다. 그리고 상기 보행량 모니터링 소프트웨어는 Windows 환경에서 실행되어 범용 PC로 보행량 모니터링 서버를 구현 할 수 있도록 하는 것을 특징으로 한다."}
{"patent_id": "10-2023-0053707", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "상술한 과제의 해결 수단에 의하면, TOF 센서의 동작 특성을 활용하여 보행통로 내의 이동량을 검출하고, 검출 된 이동량 데이터를 실시간으로 모니터링함으로써, 저렴한 가격으로 실시간으로 보행밀도를 분석하여 보행밀도 를 개선하는 데 활용할 수 있다. 또한, 복잡한 지하 연계 복합건축물의 도시 재난에 대응하는 시스템 개발로 초고층재난관리법 적용대상 시설물 의 안전성 향상뿐 아니라 위 법 적용 대상에서 벗어난 지하 연계 공간의 안전성을 향상시킬 수 있고, 2 가변 경 로의 대응으로 하나의 공간을 2 가지로 변화시켜 사용함으로 공간의 활용성을 높일 수 있다. 또한, ICT(Information & Communications Technology) 가변형 벽체 모듈에 내장된 핵심 기술은 건축 분야와 ICT 분야의 기술협업을 확대하여 건축자재 내장형 IoT 산업 발전에 기폭제가 될 수 있다. 즉, 기존의 건식 벽체 산업과 도어 산업 분야의 ICT 접목 산업화를 촉진할 수 있다. 그리고 ICT 가변 시스템의 장치 탑재 기술은 향후 건축자재에 내장되는 요소들의 실용화로 소비자의 요구에 부 응하는 유연한 공간 가변화를 기대할 수 있고, 이는 미래 건축공간 개념을 고정된 공간에서 더욱 확장된 가변공 간으로 이끌 실질적 기술 발전의 핵심으로 기대할 수 있다."}
{"patent_id": "10-2023-0053707", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하 본 발명의 실시예에 대하여 첨부된 도면을 참고로 그 구성 및 작용을 설명하기로 한다. 도면들 중 동일한 구성요소들에 대해서는 비록 다른 도면상에 표시되더라도 가능한 한 동일한 참조번호 및 부호 들로 나타내고 있음에 유의해야 한다. 하기에서 본 발명을 설명함에 있어, 관련된 공지 기능 또는 구성에 대한 구체적인 설명이 본 발명의 요지를 불 필요하게 흐릴 수 있다고 판단되는 경우에는 그 상세한 설명을 생략할 것이다. 또한, 어떤 부분이 어떤 구성요소를 \"포함\"한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다른 구성요소 를 제외하는 것이 아니라 다른 구성요소를 더 포함할 수 있는 것을 의미한다. 도 1은 본 발명에 적용되는 가변 벽체 시스템의 구성도이다. 도 1에 도시된 바와 같이, 가면 벽체 시스템의 가변 벽체는 예를 들어 길이 100m 보행통로의 중간 지점에 설치되고, 메인 서버인 보행량 모니터링 서버의 통제 신호를 받는 벽체 구동 모듈에 의해서 개폐된다. 상기 보행량 모니터링 서버는 보행밀도 모니터링, 이상 징후 감지, 가변 벽체 제어 기능을 수행한다. 상기 보행량 모니터링 서버의 보행밀도 모니터링을 실시간으로 수행하는 기능은, 실시간으로 보행밀도 검 출 단말기(100a,100b,…,100n)와 통신을 하여 보행량 데이터를 수집하고 모니터에 보행량 데이터를 출력해 주는모니터링 소프트웨어에 의해 구현된다. 실시간으로 보행밀도를 검출하는 보행밀도 검출 단말기(100a,100b,…,100n)는 가면 벽체를 중심으로 양측 으로 일정간격(예를 들어 10m)으로 다수 설치되고, 실시간으로 검출된 데이터를 데이터통신 네트워크를 통 해 보행량 모니터링 서버에 전송한다. 또한, 상기 보행밀도 검출 단말기(100a,100b,…,100n)는 이더넷 허브를 통하여 보행량 모니터링 서버에 연 결되며, 보행량 모니터링 서버와의 데이터 통신은 TCP/IP 프로토콜을 이용하여 수행된다. 그리고 상기 보행밀도 검출 단말기(100a,100b,…,100n)는 보행통로의 상부인 천장에 설치되어 TOF(Time of Flight) 센서 방식으로 보행자를 검출하고 단위시간당 통행하는 보행자 수를 집계하는 방식으로 이동량을 실시 간으로 측정한다. 도 2는 도 1에 나타낸 보행밀도 검출 단말기의 내부 구성도이다. 도 2에 도시된 바와 같이 보행밀도 검출 단말기는 TOF 센서, MCU, 통신모듈, 전원장치, 상 태표시등을 포함하여 구성된다. 상기 TOF(Time of Flight) 센서의 TOF는 신호(근적외선, 초음파, 레이저 등)를 이용하여 어떤 사물의 거리 를 측정하는 기술로서, 최신 카메라에 적용되지만 점차 그 응용범위를 넓혀가고 있으며 어떤 곳에서는 레이저로 TOF 기술을 이용하여 질량분석기를 구현하기도 한다. 상기 TOF(Time of Flight) 기술은 신호(빛)가 날아가서 어떤 물체(대상)에 부딪친 후 다시 돌아오는 시간(비행 시간)을 측정하여 사물의 깊이(depth)를 측정한다. 상기 TOF 센서를 이용한 깊이 정보를 추출하기 위한 기본원리를 설명하면 다음과 같다. TOF 기술은 송신부에서 신호를 발사하고 수신부에서 신호를 측정하는데 신호의 비행시간을 측정하므로 TOF 센서 는 송신부와 수신부를 한 장치(TOF 센서)에서 약간 이격시켜 구현할 수도 있다. 그리고 송신부에서 반사된 신호가 수신부에 영향을 미칠 수 있으므로, 송신부와 수신부 사이에 차단막을 설치하 는 것이 바람직하다. 상기 TOF 센서의 송신부에서는 특정 주파수(f)의 신호로 변조된 빛을 보내고 수신부에서는 물체에 반사되 어 되돌아오는 빛을 감지한다. 여기서 신호는 펄스파 또는 연속파(CW, continuous-wave)로 변조된 것을 이용한다. 상기 신호(빛)가 물체(대상물)까지 왕복하는 시간에 의한 위상 변화를 감지하여 아래의 수학식 1로 TOF 센서 와 대상물(보행자) 사이의 거리(d)를 계산한다. 수학식 1"}
{"patent_id": "10-2023-0053707", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "여기서 d는 측정거리, c는 빛의 속도, f는 변조된 신호의 주파수, n은 위상 주기가 반복되면서 생기는 상수, θ 는 수신된 빛의 위상을 의미한다. 그런데 d의 최대 거리가 명백하게 정해져 있을 때 n은 0(zero)으로 가정하면 간단한 계산인 수학식 2로 나타낼 수 있다.수학식 2"}
{"patent_id": "10-2023-0053707", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "이때 변조 주파수(f)와 최대 측정거리(du)와의 관계는 수학식 3과 같다. 수학식 3"}
{"patent_id": "10-2023-0053707", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "상기 TOF 센서를 이용하여 반사된 빛을 수신할 때 아날로그 신호를 디지털 신호로 변환하기 위하여 샘플링 (Sampling)을 하는데, 변조된 신호의 주파수와 동일한 주파수로 샘플링하는 호모다인(Homodyne) 방식이나, 다른 주파수로 샘플링하는 헤테로다인(Heterodyne) 방식을 이용한다. 그리고 시간 간격을 두어 여러 번의 샘플링을 수행한다. 왜냐하면, 신호를 한 번만 샘플링하면 위상이동, 물체의 색이나 표면 특성으로 인한 반사율, 배경 등의 여러 가 지 이유로 인해 빛의 강도를 구분할 수 없기 때문이다. 신호의 위상(θ)에 따라 대상물의 깊이 정보가 달라지므로 반드시 반사된 빛의 위상 변화를 알아야 한다. 따라서 Jongenelen의 연구를 참고하여, TOF 센서에서는 픽셀 강도(pixel intensity) 데이터가 들어오는데, 이를 이용하여 위상 변화에 대한 사인(sine)과 코사인(cosine) 데이터를 얻는다. 이 두 가지 데이터에 대해 아크탄젠트(arctangent) 연산을 통해 위상을 계산한다. 그 후에 간단한 연산을 통해 원하는 깊이 정보를 얻는다. 보행자 검출에 이용할 수 있는 TOF 센서는 예를 들어 940nm 파장을 갖는 적외선 TOF 센서로서 검출 시야각 이 27도일 수 있다. 이 TOF 센서는 예를 들어 롱 레인지(Long range), 1픽셀 모드(pixel mode)에서 3cm ~ 3.3m 사이의 거리 에 대해서 ±2cm의 오차로 초당 20번의 거리를 측정할 수 있고, 쇼트 레인지(Short range), 1픽셀 모드(pixel mode)에서 3cm ~ 1.35m 사이의 거리에 대해서 ±1.5cm의 오차로 초당 40번의 거리를 측정할 수 있다. 상기한 스펙을 갖는 TOF 센서를 사람들이 통행하는 보행통로의 천정에 설치하면, 27도의 검출 시야각 내에 들어오는 이동체가 있을 경우 TOF 센서에서 검출되는 거리값의 변화가 발생한다. 즉, 복도의 일반적인 높이를 3.3m로 가정하면 키가 170cm인 성인이 지나갈 경우, TOF 센서에 의해 검출된 높이는 160cm 정도로 측정이 된다. 따라서, MCU는 사람의 키에 해당하는 유의미한 높이 차를 검출하면 보행자가 TOF 센서를 지나쳤다고 판단하여 하여 보행자를 검출한다. 실제 적용을 위해서 측정 오류가 발생하는 경우를 고려해야 하므로 상기 MCU는 센싱된 거리값에 대해 로패 스 필터링(low pass filtering) 또는 미디어 필터링(media filtering)을 적용하여 오류값을 저감한다. 상기 MCU는 이와 같이 검출한 보행자를 정해진 시간 동안 누적하여 시간평균을 취함으로써 시간당 통행량 으로 환산하고, 지정된 시간 동안 보행량을 모니터링한다.또한, 측정된 통행량을 바탕으로 평상시의 통행량에 대한 판단 기준을 수립하여, 실시간으로 통행량을 검출하며 응급 상황을 진단한다. 이와 같은 MCU는 일측은 TOF 센서와 연결되고 타측은 통신 모듈과 데이터통신 네트워크를 통해 보행량 모니터링 서버에 연결된다. 여기서 상기 MCU는 USB I/F를 구비해서 TOF 센서와 쉽게 연결할 수 있고, 자체 이더넷 인터페이스를 구비해서 별도의 하드웨어(통신 모듈) 구성없이 데이터통신 네크워크에 연결하는 MCU 모듈로 대체할 수도 있다. 상기 전원장치는 예를 들어 220V 교류 전압을 입력으로 받아 5V 직류로 변환하는 주전원과, 정전 등 과 같은 비상 상황에 대응하기 위하여 별도의 충전 가능한 배터리로 이루어지는 보조전원이 병렬로 연결되 는 구조를 갖는다. 또한, 상기 전원장치에 어떠한 전압이 입력되더라도 정해진 전압(정전압)만을 출력하는 레귤레이터가 더 구비될 수 있다. 상태 표시등은 보행밀도 검출 단말기의 동작 상태를 확인하는 풀 컬러(full color) LED로 이루어진다. 상기 상태 표시등은 예를 들어 TOF 센서로부터 데이터 수신이 안 되는 경우 적색(Red), 보행량 모니 터링 서버와 통신이 안 되는 경우 녹색(Blue), TOF 센서로부터 데이터가 수신되고 보행량 모니터링 서버와 통신이 되는 정상적인 경우 청색(Green)으로 점등된다. 이와 같은 구성의 보행밀도 검출 단말기는 보행자 수를 카운트하고, 설정된 시간에 따라 보행량을 구하며, TCP/IP 통신을 통해 보행량을 포함하는 데이터를 보행량 모니터링 서버로 전송하며, 상기 보행량 모니터링 서버에서 TCP/IP 통신을 통해 송신한 명령에 따라 설정을 변경하며, 상태 표시등을 통해 동작 상태를 확인할 수 있도록 한다. 상기 보행밀도 검출 단말기는 아래의 순서를 통해 동작한다. 제1단계(Initialize)에서 초기화 동작을 통해 각종 변수 및 단말기의 기능을 초기 설정한다. 제2단계(Get USB Data)에서 TOF 센서로부터 데이터를 수집한다. 제3단계(Data Processing)에서 TOF 센서에서 받아온 데이터를 바탕으로 보행자 수를 검출한다. 제4단계(Check connection)에서 보행량 모니터링 서버와 정상적으로 연결이 되어있는지 확인한다. 제5단계(Try Connection)에서 보행량 모니터링 서버와의 연결이 확인되지 않은 경우 연결 확인을 위한 신 호를 송신한다. 도 3은 본 발명의 실시예에 따른 보행량 모니터링 시스템의 블록 구성도이다. 도 3에 도시된 바와 같이 본 발명의 실시예에 따른 보행량 모니터링 시스템은, 다수의 보행밀도 검출 단말기 (100a,100b,…,100n)와 보행량 모니터링 서버가 데이터 통신 네트워크를 통하여 연결된다. 상기 다수의 보행밀도 검출 단말기(100a,100b,…,100n) 각각은 도 2와 같은 구성을 가지며, 각각에는 고유의 ID 가 부여되어 IP 정보 및 포트 정보와 함께 보행량 모니터링 서버에 저장된다. 상기 보행량 모니터링 서버는 보행량 모니터링 소프트웨어를 구비하며, 상기 보행량 모니터링 소프트 웨어는 Windows 환경에서 실행되어 범용 PC로 보행량 모니터링 서버를 구현할 수 있도록 함이 바람직 하다. 상기 보행량 모니터링 소프트웨어는 연결 요청시 연결을 처리하는 기능(Connection Task), 데이터를 전달 하는 기능(Transmit Task), 데이터를 수신하는 기능(Receive Task), 연결된 보행밀도 검출 단말기에 자동으로 데이터를 요청하는 기능(Request Timer Task), 그래프 정보를 업데이트 하는 기능(Graph Task)을 수행한다. 이와 같은 보행량 모니터링 시스템에서 보행밀도 검출 단말기(100a,100b,…,100n)는 각각 예를 들어 매초마다 보행량 정보를 보행량 모니터링 서버에 업로드하여 갱신하고, 보행량 모니터링 서버는 보행밀도 검출 단말기(예를 들어 10개)를 모두 업데이트하므로 10초에 한번씩 스캔을 하게 된다. 물론 이때 모니터링 시간은 보행량 모니터링 소프트웨어에서 임의로 설정할 수 있다. 상기 보행량 모니터링 서버와 보행밀도 검출 단말기(100a,100b,…,100n)와의 통신은, 채널에 대한 정상적 인 통신이 시작되기 전에 보행량 모니터링 서버와 각 보행밀도 검출 단말기 간에 확립된 통신 채널의 변수를 동 적으로 설정하는 자동화된 협상 과정의 핸드세이킹(hand-shaking) 방식으로 진행된다. 즉, 보행량 모니터링 서버의 동작 시작 후, 보행밀도 검출 단말기(100a,100b,…,100n)의 연결 요청이 있기 전까지 대기 상태로 있는다. 다음 상기 보행밀도 검출 단말기(100a,100b,…,100n)는 연결 요청 후 수신 피드백을 기다린다. 만약, 피드백을 받지 못하는 경우 보행밀도 검출 단말기(100a,100b,…,100n)는 지속적으로 연결 요청을 보낸다. 다음 연결이 완료된 보행밀도 검출 단말기(100a,100b,…,100n)는 대기 상태로 전환하며, 보행량 모니터링 서버 로부터의 요청, 설정 등의 신호를 기다린다. 다음 보행량 모니터링 서버는 보행밀도 검출 단말기(100a,100b,…,100n)의 연결이 확인된 시점부터 보행밀 도 검출 단말기(100a,100b,…,100n)에 데이터를 요청한다. 이때 각 요청은 예를 들어 1초 간격으로 이루어지며 예를 들어 10개의 보행밀도 검출 단말기에 연결되는 경우 각 보행밀도 검출 단말기당 10초의 간격으로 데이터를 가져온다. 그리고 보행량 모니터링 서버는 보행밀도 검출 단말기(100a,100b,…,100n)의 피드백으로 받은 데이트를 ID 를 구분하여 정보를 갱신한다. 상기 보행밀도 검출 단말기(100a,100b,…,100n)의 설정 변경은 임의의 타이밍에 가능하다. 이상에서 본 발명에 대한 기술 사상을 첨부 도면과 함께 서술하였지만, 이는 본 발명의 바람직한 실시예를 예시 적으로 설명한 것이지 본 발명을 한정하는 것은 아니다. 또한, 이 기술 분야의 통상의 지식을 가진 자라면 누구나 본 발명의 기술 사상의 범주를 이탈하지 않는 범위 내 에서 다양한 변형 및 모방이 가능함은 명백한 사실이다. 산업상 이용가능성 첫째, 본 발명은 ICT 가변 시스템 구성을 위한 핵심장치로 활용할 수 있다. 즉, 본 발명은 센서 기반의 자동 보행량 검출과 검출된 정보를 네트워크를 통하여 수집하는 것이 가능하기 때문 에 향후 가변 벽체의 개폐를 제어하는 기능과 결합하여 ICT기반의 가변형 벽체 시스템을 구현하는데 핵심적으로 활용될 수 있다. 상기 ICT 가변 시스템은 피난 이외의 다수가 밀집하여 움직이는 시설의 보행 밀집도를 해소하는 데 활용 가능하 다. 즉, 공항의 환승구간, 철도역사의 승하차 경로, 지하철 승강장 등에서 활용할 수 있다. 둘째, 공간 확장 핵심 ICT 장치로 활용할 수 있다. 가변형 벽체 모듈은 피난 경로 이외 사용자 요구에 따른 즉각적 공간 확장이 필요한 모든 곳에 활용되고, 향후 보다 정밀하고 가볍게 응용 개발된다면, 3차원 물리적 공간을 시간적 즉시성을 고려한 3.5차원의 공간으로 변형 가능한 핵심 요소로 발전 활용될 수 있다. 부호의 설명100: 보행밀도 검출 단말기 110: TOF 센서 120: MCU 130: 통신 모듈 140: 전원 장치 142: 주전원 144: 보조 전원 146: 레귤레이터 150: 상태 표시등 200: 보행량 모니터링 서버 300: 데이터 통신 네트워크 400: 가변 벽체 500: 벽체 구동 모듈"}
{"patent_id": "10-2023-0053707", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명에 적용되는 가변 벽체 시스템의 구성도이다. 도 2는 도 1에 나타낸 보행밀도 검출 단말기의 내부 구성도이다. 도 3은 본 발명의 실시예에 따른 보행량 모니터링 시스템의 블록 구성도이다."}
