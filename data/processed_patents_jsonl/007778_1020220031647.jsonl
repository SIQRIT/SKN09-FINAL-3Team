{"patent_id": "10-2022-0031647", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0134362", "출원번호": "10-2022-0031647", "발명의 명칭": "부호화 이미지", "출원인": "삼성전자주식회사", "발명자": "이승재"}}
{"patent_id": "10-2022-0031647", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "적어도 하나의 렌즈를 포함하는 렌즈 어셈블리; 전기적 구동 신호에 따라 투과하는 광의 굴절력을 변경하는 가변 마스크 패널; 상기 렌즈 어셈블리 및 상기 가변 마스크 패널을 투과하는 광을 수광하는 이미지 센서; 및적어도 하나의 프로세서;를 포함하고, 상기 적어도 하나의 프로세서는, 상기 가변 마스크 패널(active mask panel)에 인가되는 전기적 구동 신호를 제어함으로써 상기 가변 마스크 패널에 제1 부호화 어퍼쳐 패턴(coded aperture pattern)을 갖는 제1 위상 마스크(phase mask)를 생성하고, 상기 이미지 센서를 통해 상기 제1 위상 마스크를 투과한 광을 수광하여, 위상 변조된 부호화 이미지(codedimage)를 획득하고, 컨볼루션 이미지(convolution image)로부터 깊이 맵(depth map)을 추출하도록 학습된 인공지능 모델을이용하여, 상기 부호화 이미지에 대응되는 깊이 맵을 획득하는, 전자 장치."}
{"patent_id": "10-2022-0031647", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1 항에 있어서,상기 가변 마스크 패널은, 인가되는 전압값에 따라 부호화 어퍼쳐(coded aperture)에 대응되는 영역에 배치되는액정 분자들의 배열 각도를 변경함으로써 상기 액정 분자들을 투과하는 광의 굴절력을 국소적으로(locally) 조절하고, 광의 위상을 변조하는 전기 조정식 액정 패널(electrically tunable liquid crystal panel)인, 전자장치."}
{"patent_id": "10-2022-0031647", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1 항에 있어서,상기 가변 마스크 패널은 카메라의 렌즈 어셈블리와 이미지 센서 사이에 배치되는, 전자 장치."}
{"patent_id": "10-2022-0031647", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1 항에 있어서,상기 인공지능 모델은, 기 획득된 복수의 컨볼루션 이미지를 입력 데이터로 적용하고, 복수의 깊이 맵(depthmap)을 출력 정답값(ground truth)으로 적용하는 지도 학습(supervised learning)을 통해 학습된(trained) 심층 신경망 모델이고, 상기 복수의 컨볼루션 이미지는, 복수의 RGB-D 이미지의 픽셀 별 깊이 값에 대응되는 점 퍼짐 함수(pointspread function, PSF) 패턴을 상기 복수의 RGB-D 이미지와 컨볼루션하여 획득된 이미지인, 전자 장치."}
{"patent_id": "10-2022-0031647", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "공개특허 10-2023-0134362-3-제1 항에 있어서,상기 제1 위상 마스크는 상기 가변 마스크 패널의 전체 영역 중 일부 영역에 국소적으로(locally) 형성되고, 전기적 구동 신호에 따라 위치가 변경되는, 전자 장치."}
{"patent_id": "10-2022-0031647", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1 항에 있어서,상기 적어도 하나의 프로세서는, 상기 가변 마스크 패널의 일부 영역에 제2 부호화 어퍼쳐 패턴을 갖는 제2 위상 마스크를 생성하는, 전자 장치."}
{"patent_id": "10-2022-0031647", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6 항에 있어서,상기 제1 부호화 어퍼쳐 패턴은 제1 깊이값에 대응되는 제1 점 퍼짐 함수를 갖는 제1 부호화 이미지를 획득하기위한 복수의 개구(apertures)를 갖는 패턴이고, 상기 제2 부호화 어퍼쳐 패턴은 제2 깊이값에 대응되는 제2 점 퍼짐 함수를 갖는 제2 부호화 이미지를 획득하기위한 복수의 개구를 갖는 패턴인, 전자 장치."}
{"patent_id": "10-2022-0031647", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제6 항에 있어서,사용자의 양안의 시선 방향을 추적하여 시선 정보를 획득하는 시선 추적 센서; 를 더 포함하고, 상기 적어도 하나의 프로세서는, 상기 시선 추적 센서에 의해 획득된 시선 추적 데이터에 기초하여 관심 영역을 설정하고, 저해상도 라이다 센서(low resolution Light Detection And Ranging sensor)를 이용하여 상기 설정된 관심 영역에 포함되는 객체의 깊이 값을 획득하고, 상기 획득된 깊이 값에 대응되는 점 퍼짐 함수를 갖는 제2 부호화 이미지를 획득하기 위한 상기 제2 부호화 어퍼쳐 패턴을 생성하는, 전자 장치."}
{"patent_id": "10-2022-0031647", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8 항에 있어서,상기 적어도 하나의 프로세서는, 상기 가변 마스크 패널의 전체 영역 중 상기 관심 영역에 대응되는 영역에 상기 제2 부호화 어퍼쳐 패턴을 생성하는, 전자 장치."}
{"patent_id": "10-2022-0031647", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제6 항에 있어서,상기 적어도 하나의 프로세서는, 상기 제1 위상 마스크 및 상기 제2 위상 마스크를 포함하는 상기 가변 마스크 패널을 투과한 광을 상기 이미지공개특허 10-2023-0134362-4-센서를 통해 수광함으로써, 최종 부호화 이미지를 획득하고, 상기 최종 부호화 이미지를 상기 인공지능 모델에 입력하고, 상기 인공지능 모델을 이용한 추론을 통해 상기 최종 부호화 이미지에 관한 깊이 맵을 획득하는, 전자 장치."}
{"patent_id": "10-2022-0031647", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "전자 장치의 동작 방법에 있어서, 가변 마스크 패널(active mask panel)에 전기적 구동 신호를 인가하여 제1 부호화 어퍼쳐 패턴(coded aperturepattern)을 갖는 제1 위상 마스크(phase mask)를 생성하는 단계; 상기 제1 위상 마스크를 투과한 광을 이미지 센서를 통해 수광하여, 위상 변조된 부호화 이미지(coded image)를획득하는 단계; 및컨볼루션 이미지(convolution image)로부터 깊이 맵(depth map)을 추출하도록 학습된 인공지능 모델을이용하여, 상기 부호화 이미지에 대응되는 깊이 맵을 획득하는 단계; 를 포함하는, 방법."}
{"patent_id": "10-2022-0031647", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제11 항에 있어서,상기 가변 마스크 패널은, 인가되는 전압값에 따라 부호화 어퍼쳐(coded aperture)에 대응되는 영역에 배치되는액정 분자들의 배열 각도를 변경함으로써 상기 액정 분자들을 투과하는 광의 굴절력을 국소적으로(locally) 조절하고, 광의 위상을 변조하는 전기 조정식 액정 패널(electrically tunable liquid crystal panel)인, 방법."}
{"patent_id": "10-2022-0031647", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제11 항에 있어서,복수의 RGB-D 이미지의 픽셀 별 깊이 값에 대응되는 점 퍼짐 함수(point spread function, PSF) 패턴을 상기복수의 RGB-D 이미지와 컨볼루션하여 복수의 컨볼루션 이미지를 획득하는 학습 데이터 생성 단계; 및 상기 획득된 복수의 컨볼루션 이미지를 입력 데이터로 적용하고, 상기 복수의 RGB-D 이미지에 각각 대응되는 복수의 깊이 맵(depth map)을 출력 정답 데이터(ground truth)로 적용하는 지도 학습(supervised learning)을 통해 상기 인공지능 모델을 학습(training)하는 단계;를 더 포함하는, 방법."}
{"patent_id": "10-2022-0031647", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제11 항에 있어서,상기 제1 위상 마스크는 상기 가변 마스크 패널의 전체 영역 중 일부 영역에 국소적으로(locally) 형성되고, 전기적 구동 신호에 따라 위치가 변경되는, 방법."}
{"patent_id": "10-2022-0031647", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제11 항에 있어서,상기 가변 마스크 패널의 일부 영역에 제2 부호화 어퍼쳐 패턴을 갖는 제2 위상 마스크를 생성하는 단계;공개특허 10-2023-0134362-5-를 더 포함하는, 방법."}
{"patent_id": "10-2022-0031647", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제15 항에 있어서,상기 제1 부호화 어퍼쳐 패턴은 제1 깊이값에 대응되는 제1 점 퍼짐 함수를 갖는 제1 부호화 이미지를 획득하기위한 복수의 개구(apertures)를 갖는 패턴이고, 상기 제2 부호화 어퍼쳐 패턴은 제2 깊이값에 대응되는 제2 점 퍼짐 함수를 갖는 제2 부호화 이미지를 획득하기위한 복수의 개구를 갖는 패턴인, 방법."}
{"patent_id": "10-2022-0031647", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제15 항에 있어서,사용자 입력 또는 사용자의 시선 추적 데이터에 기초하여 관심 영역을 설정하는 단계; 및상기 설정된 관심 영역에 포함되는 객체의 깊이 값을 획득하는 단계; 를 더 포함하고, 상기 제2 위상 마스크를 생성하는 단계는, 상기 관심 영역에 포함되는 객체의 깊이 값에 대응되는 점 퍼짐 함수를 갖는 제2 부호화 이미지를 획득하기 위한 상기 제2 부호화 어퍼쳐 패턴을 생성하는 단계를 포함하는, 방법."}
{"patent_id": "10-2022-0031647", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "제17 항에 있어서,상기 제2 위상 마스크를 생성하는 단계는, 상기 가변 마스크 패널의 전체 영역 중 상기 관심 영역에 대응되는 영역에 상기 제2 부호화 어퍼쳐 패턴을 생성하는 단계를 포함하는, 방법."}
{"patent_id": "10-2022-0031647", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_19", "content": "제15 항에 있어서,상기 제1 위상 마스크 및 상기 제2 위상 마스크를 포함하는 상기 가변 마스크 패널을 투과한 광을 상기 이미지센서를 통해 수광함으로써, 최종 부호화 이미지를 획득하는 단계; 및 상기 최종 부호화 이미지를 상기 인공지능 모델에 입력하고, 상기 인공지능 모델을 이용한 추론을 통해 상기 최종 부호화 이미지에 관한 깊이 맵을 획득하는 단계;를 더 포함하는, 방법."}
{"patent_id": "10-2022-0031647", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_20", "content": "제11 항 내지 제19 항 중 어느 하나의 항에 기재된 방법을 구현하기 위한 적어도 하나의 프로그램이 기록된 컴퓨터로 판독 가능한 기록 매체."}
{"patent_id": "10-2022-0031647", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "가변 위상 마스크를 이용하여 획득된 부호화 이미지로부터 깊이 맵을 획득하는 전자 장치 및 그 동작 방법을 제 공한다. 본 개시의 일 실시예에 따른 전자 장치는 가변 마스크 패널(active mask panel)에 전기적 구동 신호를 인가하여 부호화 어퍼쳐 패턴(coded aperture pattern)을 갖는 위상 마스크(phase mask)를 생성하고, 위상 마스 크를 투고한 광을 이미지 센서를 통해 수광하여 위상 변조된 부호화 이미지(coded image)를 획득하며, 인공지능 모델을 이용하여 부호화 이미지에 대응되는 깊이 맵을 획득할 수 있다."}
{"patent_id": "10-2022-0031647", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 개시는 부호화 이미지(coded image)로부터 깊이 맵(depth map)을 획득하는 전자 장치 및 그 동작 방법에 관 한 것이다. 구체적으로, 본 개시는 부호화 어퍼쳐 패턴(coded aperture pattern)을 갖는 위상 마스크(phase mask)를 이용하여 부호화 이미지를 획득하고, 인공지능 모델을 이용하여 획득된 부호화 이미지로부터 깊이 맵을 획득하는 전자 장치 및 그 동작 방법에 관한 것이다."}
{"patent_id": "10-2022-0031647", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "초점이 흐려진 이미지를 정상적인 초점 상태의 이미지로 복원하는 기술로서 디컨볼루션 기법(deconvolution method)이 사용되고 있다. 디컨볼루션 기법은 색수차(chromatic aberration) 및 비점수차(astigmatism)를 유발 하는 부호화 어퍼쳐(coded aperture)를 갖는 위상 마스크(phase mask)를 이용하여 초첨이 흐려진 왜곡된 이미지 를 획득하고, 왜곡과 깊이 간의 상관 관계에 관한 점 퍼짐 함수(point spread function, PSF)에 따라 획득된 이 미지로부터 정상적인 초점 상태의 이미지를 획득하는 기술이다. 공지의 디컨볼루션 기법에서 사용되는 위상 마 스크는 필드 별 균일한 위상 제어를 위하여 카메라의 조리개 부분에 위치하며, 포토리소그래피 (photolithography) 등 방법을 통해 개구(aperture)를 식각하여 생성된 필름 형태로 구현된다. 종래의 위상 마스크는 카메라의 조리개 부분에 위치하므로 조리개로 입사하는 모든 광에 대하여 동일한 초점 왜 곡 효과를 제공하고, 따라서 깊이 값의 픽셀 해상도가 낮고, 깊이 값의 정확도가 낮은 문제점이 있다. 또한, 종 래의 위상 마스크는 필름 상에 개구 패턴을 식각하여 형성하므로 개구 패턴이 물리적으로 고정되어 있는 패시브 마스크(passive mask)로 구현되고, 따라서 촬영 환경의 특성, 예를 들어 서로 다른 깊이 범위에 따른 깊이 값을 정확하게 측정할 수 없는 기술적 한계가 있다."}
{"patent_id": "10-2022-0031647", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 개시는 가변 마스크 패널(active mask panel)에 전기적 구동 신호를 인가하여 가변 부호화 어퍼쳐 패턴 (variable coded aperture pattern)을 포함하는 위상 마스크를 생성하고, 위상 마스크를 이용하여 획득된 부호 화 이미지로부터 깊이 맵을 획득하는 전자 장치 및 그 동작 방법을 제공한다. 본 개시의 일 실시예에 따른 전자 장치는 인공지능 모델을 이용하여 부호화 이미지에 대응되는 깊이 맵을 획득할 수 있다."}
{"patent_id": "10-2022-0031647", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상술한 기술적 과제를 해결하기 위하여 본 개시는 일 실시예는 부호화 이미지(coded image)로부터 깊이 맵 (depth map)을 획득하는 전자 장치를 제공한다. 본 개시의 일 실시예는, 적어도 하나의 렌즈를 포함하는 렌즈 어셈블리, 전기적 구동 신호에 따라 투과하는 광의 굴절력을 변경하는 가변 마스크 패널, 상기 렌즈 어셈블리 및 상기 가변 마스크 패널을 투과하는 광을 수광하는 이미지 센서, 및 적어도 하나의 프로세서를 포함하고, 상 기 적어도 하나의 프로세서는 상기 가변 마스크 패널(active mask panel)에 인가되는 전기적 구동 신호를 제어 함으로써 상기 가변 마스크 패널에 제1 부호화 어퍼쳐 패턴(coded aperture pattern)을 갖는 제1 위상 마스크 (phase mask)를 생성하고, 상기 이미지 센서를 통해 상기 제1 위상 마스크를 투과한 광을 수광하여, 위상 변조 된 부호화 이미지를 획득하고, 컨볼루션 이미지(convolution image)로부터 깊이 맵을 추출하도록 학습된 인공지 능 모델을 이용하여, 상기 부호화 이미지에 대응되는 깊이 맵을 획득할 수 있다. 본 개시의 일 실시예에서, 상기 가변 마스크 패널은 인가되는 전압값에 따라 부호화 어퍼쳐(coded aperture)에 대응되는 영역에 배치되는 액정 분자들의 배열 각도를 변경함으로써 상기 액정 분자들을 투과하는 광의 굴절력 을 국소적으로(locally) 조절하고, 광의 위상을 변조하는 전기 조정식 액정 패널(electrically tunable liquid crystal panel)일 수 있다. 본 개시의 일 실시예에서, 상기 가변 마스크 패널은 카메라의 렌즈 어셈블리와 이미지 센서 사이에 배치될 수 있다. 본 개시의 일 실시예에서, 상기 인공지능 모델은 기 획득된 복수의 컨볼루션 이미지를 입력 데이터로 적용하고, 복수의 깊이 맵(depth map)을 출력 정답값(ground truth)으로 적용하는 지도 학습(supervised learning)을 통 해 학습된(trained) 심층 신경망 모델이고, 상기 복수의 컨볼루션 이미지는 복수의 RGB-D 이미지의 픽셀 별 깊 이 값에 대응되는 점 퍼짐 함수(point spread function, PSF) 패턴을 상기 복수의 RGB-D 이미지와 컨볼루션하여 획득된 이미지일 수 있다. 본 개시의 일 실시예에서, 상기 제1 위상 마스크는 상기 가변 마스크 패널의 전체 영역 중 일부 영역에 국소적 으로(locally) 형성되고, 전기적 구동 신호에 따라 위치가 변경될 수 있다. 본 개시의 일 실시예에서, 상기 적어도 하나의 프로세서는 상기 가변 마스크 패널의 일부 영역에 제2 부호화 어 퍼쳐 패턴을 갖는 제2 위상 마스크를 생성할 수 있다. 본 개시의 일 실시예에서, 상기 제1 부호화 어퍼쳐 패턴은 제1 깊이값에 대응되는 제1 점 퍼짐 함수를 갖는 제1 부호화 이미지를 획득하기 위한 복수의 개구(apertures)를 갖는 패턴이고, 상기 제2 부호화 어퍼쳐 패턴은 제2 깊이값에 대응되는 제2 점 퍼짐 함수를 갖는 제2 부호화 이미지를 획득하기 위한 복수의 개구를 갖는 패턴일 수 있다. 본 개시의 일 실시예에서, 상기 전자 장치는 사용자의 양안의 시선 방향을 추적하여 시선 정보를 획득하는 시선 추적 센서를 더 포함하고, 상기 적어도 하나의 프로세서는 상기 시선 추적 센서에 의해 획득된 시선 추적 데이 터에 기초하여 관심 영역을 설정하고, 저해상도 라이다 센서(low resolution Light Detection And Ranging sensor)를 이용하여 상기 설정된 관심 영역에 포함되는 객체의 깊이 값을 획득하고, 상기 획득된 깊이 값에 대 응되는 점 퍼짐 함수를 갖는 제2 부호화 이미지를 획득하기 위한 상기 제2 부호화 어퍼쳐 패턴을 생성할 수 있 다. 본 개시의 일 실시예에서, 상기 적어도 하나의 프로세서는 상기 가변 마스크 패널의 전체 영역 중 상기 관심 영 역에 대응되는 영역에 상기 제2 부호화 어퍼쳐 패턴을 생성할 수 있다. 본 개시의 일 실시예에서, 상기 적어도 하나의 프로세서는 상기 제1 위상 마스크 및 상기 제2 위상 마스크를 포 함하는 상기 가변 마스크 패널을 투과한 광을 상기 이미지 센서를 통해 수광함으로써, 최종 부호화 이미지를 획 득하고, 상기 최종 부호화 이미지를 상기 인공지능 모델에 입력하고, 상기 인공지능 모델을 이용한 추론을 통해 상기 최종 부호화 이미지에 관한 깊이 맵을 획득할 수 있다. 상술한 기술적 과제를 해결하기 위하여 본 개시의 다른 실시예는, 전자 장치가 부호화 이미지(coded image)로부 터 깊이 맵(depth map)을 획득하는 방법을 제공한다. 본 개시의 일 실시예에서, 상기 방법은 가변 마스크 패널 (active mask panel)에 전기적 구동 신호를 인가하여 제1 부호화 어퍼쳐 패턴(coded aperture pattern)을 갖는 제1 위상 마스크(phase mask)를 생성하는 단계, 상기 제1 위상 마스크를 투과한 광을 이미지 센서를 통해 수광 하여, 위상 변조된 부호화 이미지(coded image)를 획득하는 단계, 및 컨볼루션 이미지(convolution image)로부 터 깊이 맵(depth map)을 추출하도록 학습된 인공지능 모델을 이용하여 상기 부호화 이미지에 대응되는 깊이 맵 을 획득하는 단계를 포함할 수 있다. 본 개시의 일 실시예에서, 상기 가변 마스크 패널은 인가되는 전압값에 따라 부호화 어퍼쳐(coded aperture)에 대응되는 영역에 배치되는 액정 분자들의 배열 각도를 변경함으로써 상기 액정 분자들을 투과하는 광의 굴절력 을 국소적으로(locally) 조절하고, 광의 위상을 변조하는 전기 조정식 액정 패널(electrically tunable liquid crystal panel)일 수 있다. 본 개시의 일 실시예에서, 상기 방법은 복수의 RGB-D 이미지의 픽셀 별 깊이 값에 대응되는 점 퍼짐 함수(point spread function, PSF) 패턴을 상기 복수의 RGB-D 이미지와 컨볼루션하여 복수의 컨볼루션 이미지를 획득하는 학습 데이터 생성 단계, 및 상기 획득된 복수의 컨볼루션 이미지를 입력 데이터로 적용하고, 상기 복수의 RGB-D 이미지에 각각 대응되는 복수의 깊이 맵(depth map)을 출력 정답 데이터(ground truth)로 적용하는 지도 학습 (supervised learning)을 통해 상기 인공지능 모델을 학습(training)하는 단계를 더 포함할 수 있다. 본 개시의 일 실시예에서, 상기 제1 위상 마스크는 상기 가변 마스크 패널의 전체 영역 중 일부 영역에 국소적 으로(locally) 형성되고, 전기적 구동 신호에 따라 위치가 변경될 수 있다. 본 개시의 일 실시예에서, 상기 방법은 상기 가변 마스크 패널의 일부 영역에 제2 부호화 어퍼쳐 패턴을 갖는 제2 위상 마스크를 생성하는 단계를 더 포함할 수 있다. 본 개시의 일 실시예에서, 상기 제1 부호화 어퍼쳐 패턴은 제1 깊이값에 대응되는 제1 점 퍼짐 함수를 갖는 제1 부호화 이미지를 획득하기 위한 복수의 개구(apertures)를 갖는 패턴이고, 상기 제2 부호화 어퍼쳐 패턴은 제2 깊이값에 대응되는 제2 점 퍼짐 함수를 갖는 제2 부호화 이미지를 획득하기 위한 복수의 개구를 갖는 패턴일 수 있다. 본 개시의 일 실시예에서, 상기 방법은 사용자 입력 또는 사용자의 시선 추적 데이터에 기초하여 관심 영역을 설정하는 단계, 및 상기 설정된 관심 영역에 포함되는 객체의 깊이 값을 획득하는 단계를 더 포함하고, 상기 제 2 위상 마스크를 생성하는 단계는 상기 관심 영역에 포함되는 객체의 깊이 값에 대응되는 점 퍼짐 함수를 갖는 제2 부호화 이미지를 획득하기 위한 상기 제2 부호화 어퍼쳐 패턴을 생성하는 단계를 포함할 수 있다. 본 개시의 일 실시예에서, 상기 제2 위상 마스크를 생성하는 단계는 상기 가변 마스크 패널의 전체 영역 중 상 기 관심 영역에 대응되는 영역에 상기 제2 부호화 어퍼쳐 패턴을 생성하는 단계를 포함할 수 있다. 본 개시의 일 실시예에서, 상기 방법은 상기 제1 위상 마스크 및 상기 제2 위상 마스크를 포함하는 상기 가변 마스크 패널을 투과한 광을 상기 이미지 센서를 통해 수광함으로써, 최종 부호화 이미지를 획득하는 단계, 및 상기 최종 부호화 이미지를 상기 인공지능 모델에 입력하고, 상기 인공지능 모델을 이용한 추론을 통해 상기 최 종 부호화 이미지에 관한 깊이 맵을 획득하는 단계를 더 포함할 수 있다. 상술한 기술적 과제를 해결하기 위하여, 본 개시의 다른 실시예는 컴퓨터에서 실행시키기 위한 프로그램을 기록 한 컴퓨터로 읽을 수 있는 기록매체를 제공한다."}
{"patent_id": "10-2022-0031647", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 명세서의 실시예들에서 사용되는 용어는 본 개시의 기능을 고려하면서 가능한 현재 널리 사용되는 일반적인 용어들을 선택하였으나, 이는 당 분야에 종사하는 기술자의 의도 또는 판례, 새로운 기술의 출현 등에 따라 달 라질 수 있다. 또한, 특정한 경우는 출원인이 임의로 선정한 용어도 있으며, 이 경우 해당되는 실시예의 설명 부분에서 상세히 그 의미를 기재할 것이다. 따라서 본 명세서에서 사용되는 용어는 단순한 용어의 명칭이 아닌, 그 용어가 가지는 의미와 본 개시의 전반에 걸친 내용을 토대로 정의되어야 한다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함할 수 있다. 기술적이거나 과학적인 용어를 포함해서 여기서 사용되는 용어들은 본 명세서에 기재된 기술 분야에서 통상의 지식을 가진 자에 의해 일반적으로 이해되는 것과 동일한 의미를 가질 수 있다. 본 개시 전체에서 어떤 부분이 어떤 구성요소를 \"포함\"한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다 른 구성요소를 제외하는 것이 아니라 다른 구성요소를 더 포함할 수 있음을 의미한다. 또한, 본 명세서에 기재 된 \"...부\", \"...모듈\" 등의 용어는 적어도 하나의 기능이나 동작을 처리하는 단위를 의미하며, 이는 하드웨어 또는 소프트웨어로 구현되거나 하드웨어와 소프트웨어의 결합으로 구현될 수 있다. 본 개시에서 사용된 표현 \"~하도록 구성된(또는 설정된)(configured to)\"은 상황에 따라, 예를 들면, \"~에 적합 한(suitable for)\", \"~하는 능력을 가지는(having the capacity to)\", \"~하도록 설계된(designed to)\", \"~하도 록 변경된(adapted to)\", \"~하도록 만들어진(made to)\", 또는 \"~를 할 수 있는(capable of)\"과 바꾸어 사용될 수 있다. 용어 \"~하도록 구성된(또는 설정된)\"은 하드웨어적으로 \"특별히 설계된(specifically designed to)\" 것만을 반드시 의미하지 않을 수 있다. 대신, 어떤 상황에서는, \"~하도록 구성된 시스템\"이라는 표현은, 그 시 스템이 다른 장치 또는 부품들과 함께 \"~할 수 있는\" 것을 의미할 수 있다. 예를 들면, 문구 \"A, B, 및 C를 수 행하도록 구성된(또는 설정된) 프로세서\"는 해당 동작을 수행하기 위한 전용 프로세서(예: 임베디드 프로세서), 또는 메모리에 저장된 하나 이상의 소프트웨어 프로그램들을 실행함으로써, 해당 동작들을 수행할 수 있는 범용 프로세서(generic-purpose processor)(예: CPU 또는 application processor)를 의미할 수 있다. 또한, 본 개시에서 일 구성요소가 다른 구성요소와 \"연결된다\" 거나 \"접속된다\" 등으로 언급된 때에는, 상기 일 구성요소가 상기 다른 구성요소와 직접 연결되거나 또는 직접 접속될 수도 있지만, 특별히 반대되는 기재가 존 재하지 않는 이상, 중간에 또 다른 구성요소를 매개하여 연결되거나 또는 접속될 수도 있다고 이해되어야 할 것 이다. 본 개시에 첨부된 도면 중 도 1 및 도 13에 도시된 RGB-D 이미지, 부호화 이미지, 및 깊이 맵은 예시적인 이미 지로서, NYU Depth Dataset V2(Nathan Silberman et al., https://cs.nyu.edu/~silberman/datasets/nyu_depth_v2.html)을 참조하였다. 아래에서는 첨부한 도면을 참고하여 본 개시의 실시예에 대하여 본 개시가 속하는 기술 분야에서 통상의 지식을 가진 자가 용이하게 실시할 수 있도록 상세히 설명한다. 그러나 본 개시는 여러 가지 상이한 형태로 구현될 수 있으며 여기에서 설명하는 실시 예에 한정되지 않는다. 이하에서는 도면을 참조하여 본 개시의 실시예들을 상세하게 설명한다. 도 1은 본 개시의 일 실시예에 따른 전자 장치가 위상 마스크를 이용하여 부호화 이미지(coded image)를 획득하고, 획득된 부호화 이미지로부터 깊이 맵을 획득하는 동작을 도시한 개념도이다. 도 1을 참조하면, 전자 장치는 렌즈 어셈블리, 가변 마스크 패널, 및 이미지 센서를 포함 할 수 있다. 전자 장치는 렌즈 어셈블리를 통해 객체(ob1, ob2)를 촬영하고, 이미지 센서를 통 해 객체(ob1, ob2)에 관한 부호화 이미지를 획득할 수 있다. 렌즈 어셈블리는 적어도 하나의 카메라 렌즈를 포함하는 렌즈 광학계이다. 렌즈 어셈블리를 통과한 광은 가변 마스크 패널을 투과함으로써 굴절되고, 광 경로가 변경되어 이미지 센서를 통해 수광된다. 전자 장치는 가변 마스크 패널에 전기적 구동 신호를 인가하여 부호화 어퍼쳐 패턴(coded aperture pattern)을 형성하고, 부호화 어퍼쳐 패턴을 갖는 위상 마스크(phase mask)를 생성할 수 있다. 위상 마스 크의 부호화 어퍼쳐 패턴은 서로 다른 형태 및 크기를 갖는 복수의 개구(aperture)를 포함하고, 복수의 개 구에 의한 개구량에 따라 광의 투과량이 달라지며, 광의 투과량에 따라 객체(ob1, ob2)의 깊이에 따른 초점 왜 곡 현상이 발생된다. 위상 마스크의 부호화 어퍼쳐 패턴은, 위상 마스크를 투과한 광이 이미지 센서 에 의해 수광되는 경우 이미지의 왜곡 정도와 객체(ob1, ob2)의 깊이 값이 특정 상관 관계를 갖도록 패턴 화된 개구를 포함할 수 있다. 본 개시의 일 실시예에서, 위상 마스크는 객체(ob1, ob2)의 깊이 값에 기초 한 점 퍼짐 함수(point spread function, PSF)에 따른 이미지의 왜곡이 발생되도록 하는 형태 및 크기의 부호화 어퍼쳐 패턴을 갖도록 형성될 수 있다. 위상 마스크의 부호화 어퍼쳐 패턴은 객체(ob1, ob2)의 깊이 값에 따라 광의 굴절률을 변경함으로써 광의 위상 지연(phase delay)을 유도할 수 있다. 본 개시의 일 실시예에서, 가변 마스크 패널은 인가되는 전압값에 따라 부호화 어퍼쳐(coded aperture)에 대응되는 영역에 배치되는 액정 분자들의 배열 각도를 변경하는, 전기 조정식 액정 패널(electrically tunable liquid crystal panel)로 구현될 수 있다. 전기 조정식 액정 패널은 광의 투과 여부를 액정의 광학적 특성 변화 에 따라 결정하는 액정 렌즈로서, 액정 분자들을 투과하는 광의 굴절력을 국소적으로(locally) 조절하고, 광의 위상을 변조하도록 구성된다. 그러나 이에 한정되는 것은 아니고, 가변 마스크 패널은 편광 선택 메타 렌 즈와 액티브 원형 편광자의 조합으로 구현될 수도 있다. 본 개시의 일 실시예에서, 가변 마스크 패널은 카 메라의 렌즈 어셈블리와 이미지 센서 사이에 배치될 수 있다. 이미지 센서는 가변 마스크 패널의 위상 마스크를 투과한 광을 수광함으로써, 부호화 이미지 를 획득할 수 있다. 객체(ob1, ob2)에 의해 반사된 광은 렌즈 어셈블리를 통해 가변 마스크 패널(12 0)의 위상 마스크에 도달하고, 위상 마스크에 의해 굴절률이 변경되어 위상이 변조되며, 위상 변조된 광은 이미지 센서의 특정 픽셀에 의해 수광된다. 전자 장치는 이미지 센서를 통해 수광된 광을 전기적 신호로 변환함으로써 부호화 이미지를 획득할 수 있다. 부호화 이미지는 객체(ob1, ob2)의 깊이 값에 따라 위상이 변조된 광을 이용하여 획득된 초점 왜곡 이미지 일 수 있다. 본 개시의 일 실시예에서, 부호화 이미지는 점 퍼짐 함수(PSF)에 따른 초점 왜곡을 갖는 컨볼 루션 이미지(convolution image)일 수 있다. 전자 장치는 인공지능 모델에 부호화 이미지를 입력하고, 인공지능 모델을 이용한 추론을 수행함으로써 깊이 맵(depth map)을 획득할 수 있다. 인공지능 모델은 기 획득된 복수의 컨볼루션 이 미지를 입력 데이터로 적용하고, 복수의 컨볼루션 이미지 각각에 대응되는 복수의 깊이 맵을 출력 정답값 (ground truth)으로 적용하여 지도 학습(supervised learning) 방식에 의해 트레이닝된(trained) 심층 신경망 모델(deep neural network model)일 수 있다. 본 개시의 일 실시예에서, 인공지능 모델은 U-Net일 수 있 으나, 이에 한정되는 것은 아니다. 전자 장치는 학습된 인공지능 모델에 부호화 이미지를 입력 데이터로 적용하여, 부호화 이미지의 픽셀 별 깊이 값을 나타내는 깊이 맵을 획득할 수 있다. 종래의 디컨볼루션 기법에서 사용되는 위상 마스크는 카메라의 조리개 부분에 위치하므로 조리개를 통해 입사하 는 모든 광에 대하여 동일한 초점 왜곡 효과를 제공한다. 이로 인하여, 종래의 위상 마스크에 의해 획득된 깊이 맵은 해상도가 낮고, 픽셀 별 깊이 값의 정확도가 낮은 문제점이 있다. 또한, 종래의 위상 마스크는 포토리소그 래피(photolithography) 등 방법을 통해 특정 패턴의 개구(aperture)를 식각하여 생성되므로, 어퍼쳐 패턴이 물 리적으로 고정되는 패시브 마스크로 구현된다. 따라서, 종래의 위상 마스크를 이용하는 경우 촬영 환경의 특성, 예를 들어 객체(ob1, ob2)의 서로 다른 깊이 범위에 따른 깊이 값을 정확하게 측정할 수 없는 기술적 한계가 있 다. 본 개시의 일 실시예에 따른 전자 장치는 전기적 구동 신호에 따라 어퍼쳐 패턴의 형태, 크기, 및 위치를 변경 가능한 가변 마스크 패널을 이용하여 가변 위상 마스크를 생성하고, 가변 위상 마스크를 이용하여 획득된 부호화 이미지로부터 깊이 맵을 획득함으로써, 객체(ob1, ob2)의 깊이 값에 따라 정확 한 깊이 값을 측정할 수 있다. 또한, 본 개시의 일 실시예에 따른 가변 마스크 패널이 카메라의 렌즈 어셈 블리와 이미지 센서의 사이에 배치됨에 따라 모든 광에 대하여 동일한 초점 왜곡을 유발하는 것이 아 닌, 특정 깊이를 갖는 객체(ob1, ob2)에 따라 적응적으로(adaptively) 위상 마스크의 부호화 어퍼쳐 패턴 을 변경할 수 있고, 이를 통해 정확도 및 해상도가 향상된 깊이 맵을 획득할 수 있다. 도 2는 본 개시의 일 실시예에 따른 전자 장치의 구성 요소를 도시한 블록도이다. 전자 장치는 렌즈 어셈블리 및 이미지 센서를 포함하는 카메라를 이용하여 현실 객체를 촬영함 으로써 이미지를 획득하는 디바이스일 수 있다. 전자 장치는 예를 들어, 모바일 디바이스, 스마트 폰 (smart phone), 노트북 컴퓨터(laptop computer), 데스크 탑, 태블릿 PC, 웨어러블 디바이스, 전자책 단말기, 디지털 방송용 단말기, PDA(Personal Digital Assistants), PMP(Portable Multimedia Player), 네비게이션, MP3 플레이어, 캠코더 등과 같은 다양한 디바이스로 구현될 수 있다. 본 개시의 일 실시예에서, 전자 장치(10 0)는 증강 현실 디바이스일 수 있다. 증강 현실 디바이스는 '증강 현실(Augmented Reality)'을 표현할 수 있는 장치로서, 일반적으로 사용자가 안면부(顔面部)에 착용하는 안경 형상의 증강 현실 안경 장치(Augmented Reality Glasses) 뿐만 아니라, 두부(頭部)에 착용하는 헤드 마운트 디스플레이 장치 (HMD : Head Mounted Display Apparatus)나, 증강 현실 헬멧(Augmented Reality Helmet) 등을 포괄할 수 있다. 도 2를 참조하면, 전자 장치는 렌즈 어셈블리, 가변 마스크 패널, 이미지 센서, 프로세서 , 및 메모리를 포함할 수 있다. 렌즈 어셈블리, 가변 마스크 패널, 이미지 센서, 프 로세서, 및 메모리는 각각 전기적 및/또는 물리적으로 서로 연결될 수 있다. 도 2에 도시된 구성 요소는 본 개시의 일 실시예에 따른 것일 뿐, 전자 장치가 포함하고 있는 구성 요소가 도 2에 도시된 바와 같이 한정되는 것은 아니다. 전자 장치는 도 2에 도시된 구성 요소 중 일부를 포함하 지 않을 수 있고, 도 2에 도시되지 않은 구성 요소를 더 포함할 수도 있다. 예를 들어, 전자 장치는 렌즈 어셈블리, 가변 마스크 패널, 이미지 센서, 프로세서, 및 메모리에 구동 전력을 공급 하는 전력 공급부(예를 들어, 배터리)를 더 포함할 수 있다. 다른 예를 들어, 전자 장치는 촬영 대상체의 깊이 값 정보를 획득하는 저해상도 라이다 센서(low resolution Light Detection And Ranging sensor)를 더 포 함할 수도 있다. 렌즈 어셈블리는 적어도 하나의 카메라 렌즈를 포함하는 렌즈 광학계이다. 본 개시의 일 실시예에서, 렌즈 어셈블리는 초점 거리(focal length), 조리개 값(예를 들어, f/1.4, f/2, f/2.8, f/4, f/5.6, f/8, f/11, f/16, f/22, f/32), 직경(diameter), 및 화각(Field Of View, FOV)이 서로 다른 복수의 광학 렌즈를 포함할 수 있다. 렌즈 어셈블리를 통과한 광은 가변 마스크 패널을 투과할 수 있다. 가변 마스크 패널은 전기적 구동 신호에 따라 부호화 어퍼쳐(coded aperture)를 가변적으로 형성할 수 있 는 투과형 패널이다. 본 개시의 일 실시예에서, 가변 마스크 패널은 인가되는 전압값에 따라 부호화 어퍼 쳐에 대응되는 영역에 배치되는 액정 분자들의 배열 각도를 변경함으로써 액정 분자들을 투과하는 광의 굴절률 을 국소적으로(locally) 조절하고, 광의 위상을 변조하도록 구성된 전기 조정식 액정 패널(electrically tunable liquid crystal panel)일 수 있다. 전기 조정식 액정 패널은 렌즈 어셈블리를 통과한 광을 투과 하는 투과형 액정 렌즈로 구현될 수 있다. 부호화 어퍼쳐가 형성되는 영역의 위치는 가변 마스크 패널 상 에서 고정되지 않고, 변경될 수 있다. 가변 마스크 패널에 인가되는 제어 전압은 프로세서에 의해 제 어되고, 전압 제어 회로에 의해 가변 마스크 패널에 인가될 수 있다. 제어 전압 인가에 의해 부호화 어퍼 쳐에 대응되는 영역의 굴절력이 변경되는 실시예에 대해서는 도 6a 및 도 6b에서 상세하게 설명하기로 한다. 그러나 이에 한정되는 것은 아니고, 가변 마스크 패널은 편광 선택 메타 렌즈와 액티브 원형 편광자의 조 합으로 구현될 수도 있다. 이미지 센서는 가변 마스크 패널을 투과한 광을 수광하고, 수광된 광의 휘도 또는 세기를 전기적 신 호로 변환하고, 전기적 신호를 이미지화 함으로써, 부호화 이미지(coded image)를 획득하도록 구성된 촬영 소자 이다. 이미지 센서는 예를 들어, CCD(Charge Coupled Device) 또는 CMOS(Complementary Metal-Oxide Semiconductor)로 구현될 수 있으나, 이에 한정되는 것은 아니다. 프로세서는 메모리에 저장된 하나 이상의 명령어들(instruction) 또는 프로그램 코드를 실행하고, 명 령어들 또는 프로그램 코드에 대응되는 기능 및/또는 동작을 수행할 수 있다. 프로세서는 산술, 로직 및 입출력 연산과 시그널 프로세싱을 수행하는 하드웨어 구성 요소로 구성될 수 있다. 프로세서는 예를 들어, 중앙 처리 장치(Central Processing Unit), 마이크로 프로세서(microprocessor), 그래픽 프로세서(Graphic Processing Unit), 애플리케이션 프로세서(Application Processor, AP), ASICs(Application Specific Integrated Circuits), DSPs(Digital Signal Processors), DSPDs(Digital Signal Processing Devices), PLDs(Programmable Logic Devices), 및 FPGAs(Field Programmable Gate Arrays) 중 적어도 하나로 구성될 수 있으나, 이에 제한되는 것은 아니다. 도 2에는 프로세서가 하나의 엘리먼트로 도시되었으나, 이에 한정되는 것은 아니다. 일 실시예에서, 프로 세서는 하나 또는 하나 이상의 복수 개로 구성될 수 있다. 본 개시의 일 실시예에서, 프로세서는 인공 지능(Artificial Intelligence; AI) 학습을 수행하는 전용 하 드웨어 칩으로 구성될 수도 있다. 메모리에는 프로세서가 판독할 수 있는 명령어들 및 프로그램 코드(program code)가 저장될 수 있다. 메모리는 예를 들어, 플래시 메모리 타입(flash memory type), 하드디스크 타입(hard disk type), 멀티미 디어 카드 마이크로 타입(multimedia card micro type), 카드 타입의 메모리(예를 들어, SD 또는 XD 메모리 등), 램(RAM, Random Access Memory) SRAM(Static Random Access Memory), 롬(ROM, Read-Only Memory), EEPROM(Electrically Erasable Programmable Read-Only Memory), PROM(Programmable Read-Only Memory), Mask ROM, Flash ROM 등), 하드 디스크 드라이브(HDD) 또는 솔리드 스테이트 드라이브(SSD) 중 적어도 하나를 포함할 수 있다. 메모리에는 전자 장치의 기능 또는 동작들을 수행하기 위한 명령어들 또는 프로그램 코드가 저장될 수 있다. 본 개시의 일 실시예에서, 메모리에는 프로세서가 판독할 수 있는 명령어들, 알고리즘 (algorithm), 데이터 구조, 프로그램 코드(program code), 및 애플리케이션 프로그램(application program) 중 적어도 하나가 저장될 수 있다. 메모리에 저장되는 명령어들, 알고리즘, 데이터 구조, 및 프로그램 코드는 예를 들어, C, C++, 자바(Java), 어셈블러(assembler) 등과 같은 프로그래밍 또는 스크립팅 언어로 구현될 수 있다. 메모리에는 위상 마스크 생성 모듈 및 인공지능 모델에 관한 명령어들, 알고리즘, 데이터 구조, 또는 프로그램 코드가 저장되어 있을 수 있다. 메모리에 포함되는 '모듈'은 프로세서에 의해 수행되 는 기능이나 동작을 처리하는 단위를 의미하고, 이는 명령어들, 알고리즘, 데이터 구조, 또는 프로그램 코드와 같은 소프트웨어로 구현될 수 있다. 이하의 실시예에서, 프로세서는 메모리에 저장된 명령어들 또는 프로그램 코드들을 실행함으로써 구 현될 수 있다. 위상 마스크 생성 모듈은 가변 마스크 패널에 인가되는 전기적 구동 신호를 제어함으로써 부호화 어 퍼쳐 패턴(coded aperture pattern)을 갖는 위상 마스크(phase mask)를 생성하는 동작 및/또는 기능에 관한 명 령어들 또는 프로그램 코드로 구성된다. 프로세서는 위상 마스크 생성 모듈과 관련된 명령어들 또는 프로그램 코드를 실행함으로써, 가변 마스크 패널 상에 부호화 어퍼쳐 패턴을 갖는 위상 마스크를 생성할 수 있다. 위상 마스크의 부호화 어퍼쳐 패턴은 서로 다른 형태 및 크기를 갖는 복수의 개구(aperture)를 포함할 수 있다. 위상 마스크에 포함되는 복수의 개구에 의한 개구량에 따라 위상 마스크를 투과하는 광의 투과량이 달 라지고, 광의 투과량에 따라 객체의 깊이에 따른 초점 왜곡 현상이 발생될 수 있다. 프로세서는 위상 마스 크를 투과한 광이 이미지 센서에 의해 수광되는 경우, 이미지의 왜곡 정도와 객체의 깊이 값이 특정 상관 관계를 갖도록 가변 마스크 패널에 전기적 구동 신호를 인가하고, 개구를 패턴화할 수 있다. 본 개시의 일 실시예에서, 프로세서는 이미지 센서에 의해 획득되는 픽셀 별 신호값이 객체의 깊이 값에 기초한 점 퍼짐 함수(point spread function, PSF)에 따라 왜곡 또는 변조되도록 유도하는 부호화 어퍼쳐 패턴을 갖는 위상 마스크를 생성하도록 가변 마스크 패널을 제어할 수 있다. 위상 마스크의 부호화 어퍼쳐 패턴은 객체 의 깊이값에 따라 광의 굴절률을 변경함으로써 광의 위상 지연(phase delay)을 유도하는 복수의 개구를 포함하 는 패턴일 수 있다. 위상 마스크의 부호화 어퍼쳐 패턴에 대해서는 도 5에서 상세하게 설명하기로 한다. 본 개시의 일 실시예에서, 프로세서는 위상 마스크를 생성하기 위한 위상 변조 프로파일을 갖는 제어 전압 파형을 생성하고, 생성된 제어 전압 파형을 가변 마스크 패널에 인가하도록 전력 공급부(예를 들어, 배터 리)를 제어할 수 있다. 위상 마스크에 포함되는 복수의 개구의 형태, 크기, 및 위치는 프로세서의 제어에 의해 인가되는 제어 전압 파형에 기초하여 변경될 수 있다. 프로세서는 가변 마스크 패널 상에 적어도 하나의 위상 마스크를 생성할 수 있다. 프로세서는 가변 마스크 패널 상에 서로 다른 부호화 어퍼쳐 패턴을 포함하는 복수의 위상 마스크를 생성할 수 있다. 본 개시의 일 실시예에서, 프로세서는 가변 마스크 패널의 전체 영역 중 일부 영역에 제1 위상 마스 크를 생성하고, 가변 마스크 패널의 전체 영역 중 제1 위상 마스크가 형성되지 않은 다른 일부 영역에 제2 위상 마스크를 생성할 수 있다. 제1 위상 마스크는 제1 깊이값에 대응되는 제1 점 퍼짐 함수(PSF)를 갖는 부호 화 이미지를 획득하기 위한 복수의 개구를 갖는 패턴으로 구성되고, 제2 위상 마스크는 제2 깊이값에 대응되는 제2 점 퍼짐 함수(PSF)를 갖는 부호화 이미지를 획득하기 위한 복수의 개구를 갖는 패턴으로 구성될 수 있다. '점 퍼짐 함수(PSF)에 대응되는 부호화 어퍼쳐 패턴'은 특정 깊이 값에서 점 퍼짐 함수(PSF)에 의한 초점 왜곡 현상이 극대화되어 신뢰도 높은 부호화 이미지를 획득할 수 있도록 최적화된 부호화 어퍼쳐 패턴을 의미한다. 프로세서가 가변 마스크 패널 상에 복수의 위상 마스크를 생성하는 구체적인 실시예에 대해서는 도 9 에서 상세하게 설명하기로 한다. 본 개시의 일 실시예에서, 프로세서는 촬영 대상인 객체 중 관심 영역을 설정하고, 관심 영역에 포함되는 객체의 깊이 값을 획득하고, 획득된 객체의 깊이값에 대응되는 점 퍼짐 함수(PSF)를 갖는 부호화 이미지를 획득 하기 위한 부호화 어퍼쳐 패턴을 갖는 위상 마스크를 생성할 수 있다. 본 개시의 일 실시예에서, 전자 장치 는 사용자 입력을 수신하는 사용자 입력부를 포함하고, 프로세서는 사용자 입력부를 통해 수신된 사 용자 입력에 기초하여 관심 영역을 설정할 수 있다. 본 개시의 다른 실시예에서, 전자 장치는 증강 현실 디바이스로 구현되고, 증강 현실 디바이스는 사용자의 양안의 시선 방향을 추적함으로써, 양안의 시선 방향이 수렴하는 응시점(gaze point)을 검출하는 시선 추적 센서를 포함할 수 있다. 이 경우, 프로세서는 시선 추 적 센서를 이용하여 획득된 사용자의 시선 추적 데이터를 이용하여 응시점을 검출하고, 응시점의 위치에 기초하 여 관심 영역을 설정할 수 있다. 프로세서는 관심 영역에 포함되는 객체의 깊이값을 획득하고, 객체의 깊 이값에 대응되는 점 퍼짐 함수(PSF)를 갖는 부호화 이미지를 획득하기 위한 부호화 어퍼쳐 패턴을 갖는 위상 마 스크를 생성할 수 있다. 본 개시의 일 실시예에서, 전자 장치는 객체의 깊이값을 획득하기 위한 저해상도 라이다 센서(low resolution LiDAR sensor)를 더 포함할 수 있다. 프로세서가 관심 영역을 설정하고, 관심 영역에 포함되는 객체의 깊이값에 대응되는 점 퍼짐 함수(PSF)를 갖는 부호화 이미지를 획득하기 위한 위상 마스크를 생성하는 구체적인 실시예에 대해서는 도 11 및 도 12에서 상세하게 설명하기로 한다. 본 개시의 일 실시예에서, 프로세서는 가변 마스크 패널의 전체 영역 중 관심 영역에 대응되는 영역 상에 부호화 어퍼쳐 패턴을 생성할 수 있다. 부호화 이미지 획득 모듈은 이미지 센서를 이용하여 가변 마스크 패널을 투과한 광을 수광함으 로써, 부호화 이미지를 획득하는 동작 및/또는 기능과 관한 명령어들 또는 프로그램 코드로 구성된다. 프로세서 는 부호화 이미지 획득 모듈과 관련된 명령어들 또는 프로그램 코드를 실행함으로써, 부호화 이미지 를 획득할 수 있다. 객체에 관한 광은 렌즈 어셈블리를 통해 가변 마스크 패널의 위상 마스크에 도달 하고, 위상 마스크에 의해 굴절률이 변경되어 위상이 변조되며, 위상 변조된 광은 이미지 센서의 특정 픽 셀에 의해 수광된다. 프로세서는 이미지 센서를 이용하여 가변 마스크 패널의 위상 마스크를 투 과한 광을 수광하고, 수광된 광의 휘도 또는 세기에 관한 정보를 전기적 신호로 변환함으로써 부호화 이미지를 획득할 수 있다. 본 개시에서 '부호화 이미지'는 객체의 깊이 값에 따라 위상이 변조된 광을 이용하여 획득된 이미지로서, 초점 이 왜곡된 이미지일 수 있다. 본 개시의 일 실시예에서, 부호화 이미지는 점 퍼짐 함수(PSF)에 따른 초점 왜곡 을 갖는 컨볼루션 이미지(convolution image)일 수 있다. 인공지능 모델은 컨볼루션 이미지로부터 깊이 맵(depth map)을 추출하도록 트레이닝된 모델일 수 있다. 본 개시의 일 실시예에서, 인공지능 모델은 기 획득된 복수의 컨볼루션 이미지를 입력 데이터로 적용하고, 복 수의 컨볼루션 이미지 각각에 대응되는 복수의 깊이 맵을 출력 정답값(ground truth)으로 적용하여 지도 학습 (supervised learning) 방식에 의해 트레이닝된(trained) 심층 신경망 모델(deep neural network model)일 수 있다. '학습(training)'은 신경망에 대한 입력 데이터들을 분석하는 방법, 입력 데이터들을 분류하는 방법 및/ 또는 입력 데이터들에서 결과 데이터 생성에 필요한 특징을 추출하는 방법 등을 신경망이 스스로 발견 또는 터 득할 수 있도록 훈련시키는 것을 의미할 수 있다. 구체적으로, 학습 과정을 통하여 심층 신경망 모델은 학습 데 이터(예를 들어, 복수의 컨볼루션 이미지 및 복수의 깊이 맵)를 학습(training)하여 신경망 내부의 가중치 (weight) 값들을 최적화할 수 있다. 심층 신경망 모델은 최적화된 가중치 값을 가지는 신경망을 통하여, 입력 데이터를 처리함으로써, 목적하는 결과를 출력한다. 인공지능 모델을 트레이닝하는 구체적인 실시예에 대해서는 도 7에서 상세하게 설명하기로 한다. 본 개시의 일 실시예에서, 인공지능 모델은 U-Net일 수 있다. 그러나, 이에 한정되는 것은 아니고, 다른 실시예에서 인공지능 모델은 컨볼루션 신경망 모델(Convolutional Neural Network, CNN), 재귀적 신경망 모델(Recurrent Neural Network, RNN), 제한된 볼츠만 머신(Restricted Boltzmann Machine, RBM), DBN(Deep Belief Network), BRDNN(Bidirectional Recurrent Deep Neural Network) 또는 심층 Q-네트워크 (Deep Q- Networks) 중 어느 하나로 구현될 수 있다. 또한, 인공지능 모델은 세분화될 수 있다. 예를 들어, 컨볼루션 신경망 모델은 D-CNN(Deep Convolution Neural Network) 또는 캡스넷(Capsnet) 신경망(미도시) 등으로 세분화 될 수 있다. 프로세서는 기 학습된 인공지능 모델을 이용하여, 부호화 이미지로부터 깊이 맵을 획득할 수 있다. 본 개시의 일 실시예에서, 프로세서는 인공지능 모델에 이미지 센서를 통해 획득된 부호화 이미 지를 입력하고, 인공지능 모델을 이용한 추론을 수행함으로써 부호화 이미지에 대응되는 깊이 맵(depth map)을 획득할 수 있다. 프로세서가 인공지능 모델을 이용하여 부호화 이미지로부터 깊이 맵을 획득 하는 구체적인 실시예에 대해서는 도 8에서 상세하게 설명하기로 한다. 도 2에서 인공지능 모델은 전자 장치의 메모리에 저장된 것으로 도시되었으나, 이에 한정되는 것은 아니다. 본 개시의 다른 실시예에서, 인공지능 모델은 전자 장치가 아닌, 외부 서버에 저장되어 있을 수 있다. 이 경우, 전자 장치는 외부 서버와 데이터 통신을 수행할 수 있는 통신 인터페이스를 더 포 함하고, 통신 인터페이스를 통해 외부 서버로부터 인공지능 모델 또는 인공지능 모델에 의한 추론 결 과 데이터(예를 들어, 깊이 맵)를 수신할 수 있다. 일반적으로, 전자 장치는 메모리 저장 용량, 연산의 처리 속도, 학습 데이터 셋의 수집 능력 등이 서버에 비하여 제한적일 수 있다. 따라서, 대용량 데이터의 저장 및 대용량의 연산량이 필요한 동작은 서버에서 수행한 후, 통신 네트워크를 통하여 필요한 데이터 및/또는 인공 지능 모델을 전자 장치에 전송할 수 있다. 이 경우, 전자 장치는 대용량의 메모리 및 빠른 연산 능력을 갖는 프로세서 없이도, 서버를 통하여 인공지능 모델 또는 인공지능 모델에 의한 추론 데이터 를 수신하여 이용함으로써, 빠르고 용이하게 필요한 동작을 수행할 수 있다. 도 3은 본 개시의 일 실시예에 따른 전자 장치의 동작 방법을 도시한 흐름도이다. 단계 S310에서, 전자 장치는 가변 마스크 패널(active mask panel)에 전기적 구동 신호를 인가하여 제1 부 호화 어퍼처 패턴(coded aperture pattern)을 갖는 제1 위상 마스크(phase mask)를 생성한다. 본 개시의 일 실 시예에서, 가변 마스크 패널은 인가되는 전압값에 따라 부호화 어퍼쳐에 대응되는 영역에 배치되는 액정 분자들 의 배열 각도를 변경하는, 전기 조정식 액정 패널(electrically tunable liquid crystal panel)로 구현될 수 있다. 전기 조정식 액정 패널은 광의 투과 여부를 액정의 광학적 특성 변화에 따라 결정하는 액정 렌즈로서, 액 정 분자들을 투과하는 광의 굴절력을 국소적으로(locally) 조절하고, 광의 위상을 변조하도록 구성된다. 전자 장치는 제1 위상 마스크를 투과한 광이 이미지 센서(130, 도 2 참조)에 의해 수광되는 경우, 이미지의 왜 곡 정도와 객체의 깊이 값이 특정 상관 관계를 갖도록 가변 마스크 패널에 전기적 구동 신호를 인가하고, 개구 를 패턴화할 수 있다. 본 개시의 일 실시예에서, 전자 장치는 이미지 센서에 의해 획득되는 픽셀 별 신호값이 객체의 깊이 값에 기초한 점 퍼짐 함수(point spread function, PSF)에 따라 왜곡 또는 변조되도록 유 도하는 부호화 어퍼쳐 패턴을 갖는 제1 위상 마스크를 생성하도록 가변 마스크 패널을 제어할 수 있다. 본 개시의 일 실시예에서, 전자 장치는 가변 마스크 패널의 전체 영역 중 일부 영역에 국소적으로 (locally) 부호화 어퍼쳐 패턴을 형성하고, 제1 위상 마스크는 가변 마스크 패널의 일부 영역에 생성될 수 있다. 단계 S320에서, 전자 장치는 제1 위상 마스크를 투과한 광을 이미지 센서를 통해 수광하여, 위상 변 조된 부호화 이미지(coded image)를 획득한다. 객체에 관한 광은 제1 위상 마스크에 도달하고, 제1 위상 마스크 에 의해 굴절률이 변경되어 위상이 변조되며, 위상 변조된 광은 이미지 센서의 특정 픽셀에 의해 수광된다. 전자 장치는 이미지 센서를 이용하여 가변 마스크 패널의 제1 위상 마스크를 투과한 광을 수광하고, 수광된 광의 휘도 또는 세기에 관한 정보를 전기적 신호로 변환함으로써 부호화 이미지를 획득할 수 있다. 본 개시의 일 실시예에서, 부호화 이미지는 점 퍼짐 함수(PSF)에 따른 초점 왜곡을 갖는 컨볼루션 이미지 (convolution image)일 수 있다. 단계 S330에서, 전자 장치는 인공지능 모델(156, 도 2 참조)을 이용하여, 부호화 이미지에 대응되는 깊이 맵(depth map)을 획득한다. 본 개시의 일 실시예에서, 인공지능 모델은 기 획득된 복수의 컨볼루션 이미지 를 입력 데이터로 적용하고, 복수의 컨볼루션 이미지 각각에 대응되는 복수의 깊이 맵을 출력 정답값(ground truth)으로 적용하여 지도 학습(supervised learning) 방식에 의해 트레이닝된(trained) 심층 신경망 모델 (deep neural network model)일 수 있다. 본 개시의 일 실시예에서, 인공지능 모델은 U-Net일 수 있으나, 이에 한정되는 것은 아니다. 전자 장치는 인공지능 모델에 이미지 센서를 통해 획득된 부호화이미지를 입력하고, 인공지능 모델을 이용한 추론을 수행함으로써 부호화 이미지에 대응되는 깊이 맵 (depth map)을 획득할 수 있다. 도 4는 본 개시의 일 실시예에 따른 전자 장치에 포함된 렌즈 어셈블리, 가변 마스크 패널, 및 이미지 센서의 구조를 도시한 도면이다. 도 4를 참조하면, 전자 장치는 렌즈 어셈블리, 가변 마스크 패널, 및 이미지 센서를 포함 할 수 있다. 렌즈 어셈블리는 복수의 카메라 렌즈(111 내지 115)를 포함하는 렌즈 광학계이다. 도 4에 도시된 실시예에 서, 렌즈 어셈블리에 포함된 복수의 카메라 렌즈(111 내지 115) 각각은 초점 거리(focal length), 조리개 값, 직경(diameter), 및 화각(FOV)이 서로 다른 광학 렌즈일 수 있다. 렌즈 어셈블리를 통과한 광은 굴절 또는 회절되어 가변 마스크 패널에 도달할 수 있다. 가변 마스크 패널은 렌즈 어셈블리와 이미지 센서 사이에 배치될 수 있다. 객체에 관한 광은 렌 즈 어셈블리를 통해 가변 마스크 패널의 위상 마스크에 도달하고, 위상 마스크에 의해 굴절률이 변경 되어 위상이 변조되며, 위상 변조된 광은 이미지 센서의 특정 픽셀에 의해 수광된다. 가변 마스크 패널 의 재료적 특성, 동작, 및/또는 기능은 도 2에서 설명한 것과 동일하므로, 중복되는 설명은 생략한다. 이미지 센서는 가변 마스크 패널의 위상 마스크에 의해 위상 변조된 광을 수광할 수 있다. 이미지 센 서는 수광된 광의 휘도 또는 세기를 전기적 신호로 변환하고, 전기적 신호를 이미지화함으로써 부호화 이 미지(coded image)를 획득할 수 있다. 종래의 위상 마스크는 카메라 렌즈의 조리개 부분에 위치하므로, 조리개를 통해 입사하는 모든 광에 대하여 동 일한 초점 왜곡 효과를 제공한다. 따라서, 종래의 위상 마스크를 통해 획득된 깊이 맵은 해상도가 낮고, 픽셀 별 깊이 값의 정확도가 낮은 문제점이 있다. 도 4에 도시된 실시예에 따른 전자 장치는 가변 마스크 패널을 렌즈 어셈블리와 이미지 센서 사이에 배치하고, 가변 마스크 패널 상의 특정 영역에 가변 위상 마스크를 생성함으로써 동일한 초 점 왜곡을 유발하는 것이 아닌, 특정 깊이를 갖는 객체에 따라 적응적으로(adaptively) 가변 위상 마스크의 부 호화 어퍼쳐 패턴을 변경할 수 있다. 따라서, 본 개시의 일 실시예에 따른 전자 장치는 정확도 및 해상도 가 향상된 깊이 맵을 획득할 수 있다. 또한, 전자 장치는 라이다 센서(Light Detection And Ranging sensor)를 포함하는 종래의 카메라 대비 소형 폼팩터로 설계될 수 있고, 낮은 전력을 소비하는 깊이 획득 카메 라를 구현할 수 있다. 도 5는 본 개시의 일 실시예에 따른 가변 마스크 패널의 위상 마스크를 도시한 도면이다. 도 5를 참조하면, 가변 마스크 패널에는 위상 마스크가 형성될 수 있다. 위상 마스크는 서로 다 른 형태 및 크기를 갖는 복수의 개구(aperture)를 포함하는 부호화 어퍼쳐 패턴을 포함할 수 있다. 부호화 어퍼 쳐 패턴에 포함되는 복수의 개구의 형태, 크기, 및 위치는 전자 장치의 프로세서(140, 도 2 참조)에 의해 인가되는 제어 전압 파형에 따라 변경될 수 있다. 이에 따라 위상 마스크의 부호화 어퍼쳐 패턴이 변경되 며, 위치가 조절될 수도 있다. 위상 마스크의 부호화 어퍼쳐 패턴은 객체의 깊이값에 따라 광의 굴절률을 변경함으로써 광의 위상 지연(phase delay)을 유도하는 복수의 개구를 포함하는 패턴일 수 있다. 위상 마스크에 포함되는 복수의 개구에 의한 개구량에 따라 위상 마스크를 투과하는 광의 투과량이 달라지고, 광의 투과량에 따라 객체의 깊이에 따른 초점 왜곡 현상이 발생될 수 있다. 프로세서는 위상 마스크를 투과한 광이 이미지 센서(130, 도 2 참조)에 의해 수광되는 경우, 이미지의 왜곡 정도와 객체의 깊이 값이 특정 상관 관계를 갖도록 가변 마스크 패널에 전 기적 구동 신호를 인가하고, 개구를 패턴화할 수 있다. 본 개시의 일 실시예에서, 프로세서는 이미지 센서 에 의해 획득되는 픽셀 별 신호값이 객체의 깊이 값에 기초한 점 퍼짐 함수(point spread function, PSF)에 따라 왜곡 또는 변조되도록 유도하는 부호화 어퍼쳐 패턴을 갖는 위상 마스크를 생성할 수 있다. 본 개시의 일 실시예에서, 가변 마스크 패널은 인가되는 전압값에 따라 부호화 어퍼쳐 패턴에 대응되는 영 역에 복수의 개구를 형성하도록 구성되는 전기 조정식 액정 패널(electrically tunable liquid crystal panel)일 수 있다. 이 경우, 위상 마스크의 부호화 어퍼쳐 패턴에 포함되는 복수의 개구는 프로세서(140, 도 2 참조)에 의해 인가되는 제어 전압 파형의 위상 변조 프로파일에 따라 가변 마스크 패널에 포함되는 액정 분자들의 배열 각도가 변경됨에 따라 형성될 수 있다. 가변 마스크 패널에 포함되는 액정 분자들의 배열 각도가 변경됨에 따라 부호화 어퍼쳐 패턴이 형성되는 구체적인 실시예에 대해서는 도 6a 및 도 6b에서 상세하 게 설명하기로 한다. 도 6a는 본 개시의 일 실시예에 따른 전자 장치의 구성 요소인 가변 마스크 패널을 도시한 사시도이 다. 도 6a를 참조하면, 가변 마스크 패널은 액정 층(120l), 공통 전극(120CE), 투명 박막(transparent film)(110F), 및 여기 전극(120e)을 포함할 수 있다. 도면에는 도시되지 않았지만, 가변 마스크 패널은 공 통 전극(120CE)의 하면에 접하여 형성되는 투명층을 더 포함할 수 있다. 가변 마스크 패널은 전력 공급부(VAC)로부터 여기 전극(120e)을 통해 인가되는 제어 전압에 기초하여 액정 분자(120m)들의 배열 각도를 변경함으로써, 광의 굴절률을 조절할 수 있는, 전기 조정식 액정 패널 (electrically tunable Liquid Crystal panel)일 수 있다. 일 실시예에서, 가변 마스크 패널은 픽셀 그리 드(pixel grid)를 갖는 전기 광학 재료를 포함할 수 있다. 픽셀은 N행 및 M열의 매트릭스로 배열될 수 있다. N ×M 픽셀 각각은 모든 다른 픽셀에 독립적인 일 세트의 가능한 값(gray level)을 수용할 수 있다. 액정 층(120l)은 복수의 액정 분자(120m)를 포함하는 전기 광학층일 수 있다. 액정 층(120l)은 인가되는 제어 전압에 의해 액정의 물성이 변경되는 전기 광학층일 수 있다. 일 실시예에서, 액정 층(120l)은 편광 독립적인 (polarization-independent) 액정 층(예를 들어, cholesteric liquid crystal)으로 구성될 수 있다. 액정 층 (120l)은 여기 전극(120e)을 통해 인가되는 제어 전압에 의하여 활성 영역 내의 특정 영역 내에 배치되는 액정 분자(120m)들의 배열 각도가 변경됨으로써, 특정 영역의 굴절률이 국부적으로(locally) 조절될 수 있다. 공통 전극(120CE) 및 여기 전극(120e)은 전력 공급부(VAC)로부터 제어 전압을 공급받고, 공급된 제어 전압을 액 정 층(120l)에 인가할 수 있다. 공통 전극(120CE)은 액정 층(120l)의 제1 면(120-1)에 접하여 배치될 수 있다. 여기 전극(120e)은 액정 층(120l)의 제1 면(120-1)에 대향되는 제2 면(120-2) 상에서 투명 박막(110F)의 상면 에 접하여 배치될 수 있다. 여기 전극(120e)은 투명 박막(120F)의 상면에 X축 및 Y축 방향을 따라 직교하는 방 향으로 배향되는 제1 어레이 여기 전극 및 제2 어레이 여기 전극을 포함할 수 있다. 제1 어레이 여기 전극 및 제2 어레이 여기 전극은 각각 활성 영역 위로 뻗어있는 도전성 재료의 평행 스트립을 포함할 수 있다. 본 개시 의 일 실시예에서, 여기 전극(120e)은 인듐 주석 산화물(Indium Tin Oxidel; ITO)과 같은 투명 도전성 재료로 구성될 수 있다. 제1 어레이 여기 전극의 스트립과 제2 어레이 여기 전극의 스트립이 오버랩되는 영역에 의해서 픽셀(pixel)이 정의될 수 있다. 제1 어레이 여기 전극의 스트립과 제2 어레이 여기 전극의 스트랩 사이의 중심 대 중심 거리는 픽셀 어레이의 피치(pitch)를 정의하고, 스트립의 폭(width)은 픽셀의 크기를 정의할 수 있다. 전자 장치의 프로세서(140, 도 2 참조)는 전력 공급부(VAC)를 통해 여기 전극(120e)에 위상 변조 프로파일 을 갖는 제어 전압 파형을 인가하고, 여기 전극(120e)에 인가된 제어 전압을 변조할 수 있다. 프로세서에 의해 변조된 파형을 갖는 제어 전압이 인가됨에 따라, 가변 마스크 패널는 인가된 제어 전압이 갖는 위상 변조 프로파일에 의해 활성 영역 내의 특정 영역에서 국부적으로(locally) 굴절력이 조절될 수 있다. 가변 마스 크 패널는 조절된 굴절력에 따라 복수의 개구를 형성할 수 있다. 본 개시의 일 실시예에서, 가변 마스크 패널은 굴절력을 조절하여 개구의 형태, 크기, 및 위치를 조절하고, 부호화 어퍼쳐 패턴을 형성할 수 있다. 가변 마스크 패널은 부호화 어퍼쳐 패턴에 포함되는 복수의 개구를 투과하는 광선 또는 광 경로를 변경할 수 있다. 프로세서는 가변 마스크 패널의 복수의 개구를 포함하는 패턴, 즉 부호화 어퍼쳐 패턴의 굴절력을 조 절함으로써 위상 마스크를 형성할 수 있다. 프로세서가 가변 마스크 패널의 부호화 어퍼쳐 패턴을 갖 는 위상 마스크를 형성하는 구체적인 방법은 도 6b에서 상세하게 설명하기로 한다. 도 6b는 본 개시의 일 실시예에 따른 전자 장치가 가변 마스크 패널의 복수의 개구(A1 내지 An)를 포 함하는 부호화 어퍼쳐 패턴을 형성하는 동작을 설명하기 위한 도면이다. 도 6b를 참조하면, 가변 마스크 패널은 액정 층(120l), 액정 분자(120m), 공통 전극(120CE), 복수의 드라 이버 단자(120d), 복수의 제1 어레이 여기 전극(120e-1 내지 120e-5), 복수의 제2 어레이 여기 전극(120e-6 내 지 120e-10), 및 투명 박막(120F)을 포함할 수 있다. 도 6b에서는 설명의 편의를 위해 도 6a와 달리 투명 박막 (120F)은 도시되지 않았다. 복수의 제1 어레이 여기 전극(120e-1 내지 120e-5)은 X축 방향을 따라 나열되고, 복수의 제2 어레이 여기 전극 (120e-6 내지 120e-10)은 Y축 방향을 따라 나열될 수 있다. 복수의 제1 어레이 여기 전극(120e-1 내지 120e- 5)과 복수의 제2 어레이 여기 전극(120e-6 내지 120e-10)은 서로 직교하도록 배열될 수 있다. 복수의 제1 어레이 여기 전극(120e-1 내지 120e-5) 각각에는 전력 공급부(VAC)로부터 복수의 제1 어레이 여기 전극(120e-1 내지 120e-5)에 인가되는 제어 전압을 제어하는 복수의 드라이버 단자(120d)가 연결될 수 있다. 복 수의 제2 어레이 여기 전극(120e-6 내지 120e-10) 각각에는 전력 공급부(VAC)로부터 복수의 제2 어레이 여기 전 극(120e-6 내지 120e-10)에 인가되는 제어 전압을 제어하는 복수의 드라이버 단자(120d)가 연결될 수 있다. 컨트롤러(140C)는 복수의 드라이버 단자(120d) 및 전력 공급부(VAC)와 전기적 및/또는 물리적으로 연결될 수 있 다. 도 6b에서, 컨트롤러(140C)는 프로세서와 별개의 구성 요소로 도시되었지만, 이에 한정되는 것은 아니 다. 본 개시의 일 실시예에서, 컨트롤러(140C)와 프로세서는 하나의 구성으로 통합될 수 있다. 컨트롤러(140C)는 복수의 드라이버 단자(120d)를 제어함으로써, 복수의 제1 어레이 여기 전극(120e-1 내지 120e-5) 및 복수의 제2 어레이 여기 전극(120e-6 내지 120e-10)에 인가되는 제어 전압을 제어하고, 이를 통해 특정 영역에 배치되는 액정 분자들의 배열 각도를 조절할 수 있다. 도 6b에 도시된 것과는 달리, 본 개시의 다 른 실시예에서, 가변 마스크 패널은 복수의 드라이버 단자(120d)를 포함하지 않고, 컨트롤러(140C)가 복수 의 제1 어레이 여기 전극(120e-1 내지 120e-5) 및 복수의 제2 어레이 여기 전극(120e-6 내지 120e-10)와 직접 연결될 수도 있다. 프로세서는 이미지 센서에 의해 획득되는 픽셀 별 신호값이 객체의 깊이값에 기초한 점 퍼짐 함수 (point spread function, PSF)에 따라 왜곡 또는 변조되도록 유도하는 복수의 개구의 위치 값을 결정할 수 있다. 본 개시의 일 실시예에서, 프로세서는 가변 마스크 패널의 전체 영역 중 부호화 어퍼쳐 패턴을 형성하는 복수의 개구 각각의 위치 좌표값을 계산하고, 계산된 위치 좌표값에 관한 정보를 컨트롤러(140C)에 제 공할 수 있다. 컨트롤러(140C)는 프로세서로부터 획득한 위치 좌표값에 기초하여 복수의 개구(A1 내지 An) 를 형성할 대상 영역을 결정할 수 있다. 도 6b에 도시된 실시예에서, 액정 층(120l)에 포함되는 복수의 액정 분자들(120m) 중 복수의 개구(A1 내지 An)에 각각 대응되는 영역에 배치되는 액정 분자들의 배열 각도를 변경하기 위하여, 복수의 제1 어레이 여기 전극 (120e-1 내지 120e-5) 중 적어도 하나의 여기 전극 및 복수의 제2 어레이 여기 전극(120e-6 내지 120e-10) 중 적어도 하나의 여기 전극에 전압이 인가되도록 제어할 필요가 있다. 예를 들어, 제1 개구(A1)를 형성하기 위하여 컨트롤러(140C)는 복수의 드라이버 단자(120d)를 제어함으로써, 전력 공급부(VAC)에 의해 제1 어레이 여기 전극 (120e-1 내지 120e5) 중 제2 여기 전극(120e-2) 및 제3 여기 전극(120e-3)에 전압이 인가되도록 제어하고, 복 수의 제2 어레이 여기 전극(120e-6 내지 120e-10) 중 제7 여기 전극(120e-7) 및 제8 여기 전극(120e-8)에 전압 이 인가되도록 제어할 수 있다. 동일한 방식으로, 제2 개구(A2)를 형성하기 위하여 컨트롤러(140C)는 복수의 드 라이버 단자(120d)를 제어함으로써, 전력 공급부(VAC)에 의해 제1 어레이 여기 전극(120e-1 내지 120e5) 중 제3 여기 전극(120e-3) 및 제4 여기 전극(120e-4)에 전압이 인가되도록 제어하고, 복수의 제2 어레이 여기 전극 (120e-6 내지 120e-10) 중 제8 여기 전극(120e-8) 및 제9 여기 전극(120e-9)에 전압이 인가되도록 제어할 수 있다. 컨트롤러(140C)는 제1 개구(A1) 및 제2 개구(A2)를 형성하는 방식과 동일한 방식으로 제3 개구(A3) 내지 제n 개구(An)를 형성할 수 있다. 컨트롤러(140C)는 전력 공급부(VAC)로부터 제어 전압을 인가하거나, 인가하지 않는 제어만을 수행하는 것은 아 니고, 전력 공급부(VAC)로부터 인가되는 제어 전압의 크기를 제어할 수도 있다. 컨트롤러(140C)는 인가되는 제 어 전압을 크기를 제어함으로써, 액정 분자들의 배열 각도의 크기를 조절할 수 있다. 예를 들어, 컨트롤러 (140C)가 복수의 드라이버 단자(120d)를 통해 제2 여기 전극(120e-2)에 인가되는 제어 전압을 제1 크기만큼 인 가하고, 제3 여기 전극(120e-3)에 인가되는 제어 전압을 제1 크기보다 큰 제2 크기만큼 인가하면, 액정 층 (120l)의 전체 영역 중 제3 여기 전극(120e-3)이 배치되는 영역에 위치하는 액정 분자들의 배열 각도는 제2 여기 전극(120e-2)이 배치되는 영역에 위치하는 액정 분자들의 배열 각도보다 더 큰 각도로 조절될 수 있다. 즉, 컨트롤러(140C)는 복수의 드라이버 단자(120d)를 통해 복수의 제1 어레이 여기 전극(120e-1 내지 120e-5) 및 복수의 제2 어레이 여기 전극(120e-6 내지 120e-10)에 인가되는 제어 전압의 위상 프로파일을 변조함으로써, 액정 층(120l)의 전체 영역 중 액정 분자들(120m)의 배열 각도가 변경되는 복수의 개구(A1 내지 An)를 결정하고, 복수의 개구(A1 내지 An)를 포함하는 부호화 어퍼쳐 패턴을 형성할 수 있다. 도 6a 및 도 6b에서 가변 마스크 패널은 제1 어레이 여기 전극(120e-1 내지 120e-5) 및 제2 어레이 여기 전극(120e-6 내지 120e-10)을 포함하는 전기 조정식 액정 패널로 도시되고, 설명되었으나, 본 개시의 가변 마스 크 패널이 이에 한정되는 것은 아니다. 본 개시의 다른 실시예에서, 가변 마스크 패널은 픽셀들 각각 에 대응되는 액정 분자의 배열 각도를 변경 또는 조절하여 픽셀 별 위상 변조를 수행하는 TFT(Thin Film Transistor) 액티브 매트릭스 어레이(TFT active matrix array) 구조로 구현될 수도 있다. 도 7은 본 개시의 일 실시예에 따른 전자 장치가 학습 데이터를 생성하고, 학습 데이터를 이용하여 인공지 능 모델을 트레이닝(training)하는 동작을 도시한 개념도이다. 도 7을 참조하면, 단계 S710에서 전자 장치는 학습 데이터를 생성할 수 있다. 전자 장치는 RGB-D 이 미지, 깊이 맵 마스크(710-1 내지 710-n), 및 점 퍼짐 함수(PSF) 패턴(720-1 내지 720-n)를 이용하여 학 습 데이터를 생성할 수 있다. 본 개시의 일 실시예에서, RGB-D 이미지는 이미지에 포함된 깊이 값이 서로 다른 모든 객체들 각각에 대하여 개별적인 초점이 적용된 올 인 포커스 이미지(all-in-focus image)일 수 있다. RGB-D 이미지는 픽셀 별 R(Red), G(Green), B(Blue) 및 깊이 값(Depth)에 관한 정보를 포함할 수 있다. RGB-D 이미지는 학습 데이터로서 미리 획득된 이미지일 수 있다. 깊이 맵 마스크(710-1 내지 710-n)는 RGB-D 이미지 각각에 대응되고, 동일한 깊이 값을 갖는 객체에 관한 마스크 패턴일 수 있다. 예를 들어, 제1 깊이 맵 마스크(710-1)는 RGB-D 이미지에서 제1 깊이 값을 갖는 픽셀들에 대응되는 마스크 패턴이고, 제2 깊이 맵 마스크(710-2)는 RGB-D 이미지에서 제2 깊이 값을 갖는 픽셀들에 대응되는 마스크 패턴이며, 제n 깊이 맵 마스크(710-n)는 RGB-D 이미지에서 제n 깊이 값을 갖는 픽셀들에 대응되는 마스크 패턴일 수 있다. 전자 장치의 프로세서(140, 도 2 참조)는 RGB-D 이미지의 깊이 값에 대응되는 점 퍼짐 함수 패턴 (720-1 내지 720-n)을 RGB-D 이미지와 컨볼루션하여 컨볼루션 이미지를 획득할 수 있다. 프로세서 는 RGB-D 이미지를 깊이 맵 마스크(710-1 내지 710-n)와 합성함으로써 특정 깊이 값을 갖는 픽셀들을 결정하고, 합성된 이미지를 깊이 값에 따라 서로 다른 패턴을 갖는 복수의 점 퍼짐 함수 패턴(720-1 내지 720- n)과 컨볼루션 할 수 있다. 도 7에 도시된 실시예에서, 프로세서는 RGB-D 이미지와 제1 깊이 맵 마스 크(710-1)를 합성함으로써 제1 깊이 값을 갖는 픽셀들로 구성된 합성 이미지를 획득하고, 합성 이미지와 제1 깊 이값에 대응되는 제1 점 퍼짐 함수 패턴(720-1)을 컨볼루션 할 수 있다. 프로세서는 RGB-D 이미지와 제2 깊이 맵 마스크(710-2)를 합성함으로써 제2 깊이 값을 갖는 픽셀들로 구성된 합성 이미지를 획득하고, 합성 이미지와 제2 깊이값에 대응되는 제2 점 퍼짐 함수 패턴(720-2)을 컨볼루션하고, 동일한 방식으로 RGB-D 이미지 와 제n 깊이 맵 마스크(710-n)를 합성함으로써 제n 깊이 값을 갖는 픽셀들로 구성된 합성 이미지를 획득하 고, 합성 이미지와 제n 깊이값에 대응되는 제n 점 퍼짐 함수 패턴(720-n)을 컨볼루션할 수 있다. 프로세서(14 0)는 컨볼루션 연산을 통해 획득된 이미지들을 합하여 컨볼루션 이미지를 획득할 수 있다. 컨볼루션 이미지는 이미지에 포함되는 픽셀들을 깊이 값에 대응되는 복수의 점 퍼짐 함수 패턴(720-1 내지 720-n)을 컨볼루션하여, 픽셀 별 이미지 값이 깊이 값에 따라 초점 왜곡된 시뮬레이션 이미지(simulated imag e)이다. 본 개시의 일 실시예에서, 프로세서는 복수의 RGB-D 이미지, 복수의 RGB-D 이미지 각각 에 대응되는 복수의 깊이 맵 마스크(710-1 내지 710-n), 및 서로 다른 깊이 값에 대응되는 복수의 점 퍼짐 함수 패턴(720-1 내지 720-n)를 이용하여 복수의 컨볼루션 이미지를 획득할 수 있다. 복수의 RGB-D 이미지(70 0)는 학습 데이터를 생성하기 위하여 미리 획득된 이미지일 수 있다. 단계 S720에서, 전자 장치는 학습 데이터를 이용하여 인공지능 모델을 학습(training)한다. 전자 장 치의 프로세서는 복수의 컨볼루션 이미지를 입력 데이터로 적용하고, 복수의 컨볼루션 이미지 각각에 대응되는 복수의 깊이 맵을 출력 정답값(ground truth)으로 적용하여 지도 학습(supervised learning) 방식을 통해 인공지능 모델을 트레이닝할 수 있다. 복수의 깊이 맵은 RGB-D 이미지의 픽셀 별 깊이값 데이터에 기초하여 기 획득된 이미지일 수 있다. 본 개시의 일 실시예에서, 인공지능 모델은 심층 신경망 모델(Deep Neural Netwok model)일 수 있다. '학습(training)'은 신경망에 대한 입력 데이터 들을 분석하는 방법, 입력 데이터들을 분류하는 방법 및/또는 입력 데이터들에서 결과 데이터 생성에 필요한 특 징을 추출하는 방법 등을 신경망이 스스로 발견 또는 터득할 수 있도록 훈련시키는 것을 의미할 수 있다. 구체 적으로, 학습 과정을 통하여 심층 신경망 모델은 학습 데이터(예를 들어, 복수의 컨볼루션 이미지 및 복수의 깊 이 맵)를 학습(training)하여 신경망 내부의 가중치(weight) 값들을 최적화할 수 있다. 본 개시의 일 실시예에서, 인공지능 모델은 U-Net으로 구현될 수 있다. U-Net은 픽셀 단위 예측에 사용되 는 심층 신경망 모델의 일종으로, 인코더-디코더 아키텍쳐(encoder-decoder architecture)를 가질 수 있다. U- Net의 인코더는 2개의 3×3 컨볼루션을 반복적으로 적용하는 것으로 구성되며, 컨볼루션 이후 ReLU(Rectified Linear Unit) 및 배치 정규화(Batch normalization)를 수행할 수 있다. 인코더는 다운 샘플링(down sampling) 을 수행하며, 다운 샘플링 단계에서 이미지의 해상도는 너비(width) 2 및 채널 수 2의 2×2 풀링 작업(Max pooling)을 통해 1/2로 줄어든다. U-Net의 디코더는 특징 맵(feature map)의 업 샘플링(up sampling)과 채널 수를 절반으로 줄이는 2×2 컨볼루션 및 2개의 3×3 컨볼루션으로 구성되고, 이후 ReLU 및 배치 정규화를 수행 할 수 있다. U-Net은 인코더와 디코더 사이를 연결(concatenation)하고, 최종 레이어에서 1×1 컨볼루션은 시그 모이드(sigmoid)와 함께 사용되어 각 픽셀을 주어진 깊이 값에 매핑하는 방식으로 학습될 수 있다. 전술한 방식을 통해, 인공지능 모델(예를 들어, U-Net)은 컨볼루션 이미지로부터 깊이 맵을 추 출하도록 학습될 수 있다(trained). 도 7에 도시된 실시예에서, 인공지능 모델은 U-Net으로 구현되는 것으로 설명되었지만, 본 개시가 이에 한 정되는 것은 아니다. 본 개시의 다른 실시예에서, 인공지능 모델은 컨볼루션 신경망 모델(Convolutional Neural Network, CNN), 재귀적 신경망 모델(Recurrent Neural Network, RNN), 제한된 볼츠만 머신(Restricted Boltzmann Machine, RBM), DBN(Deep Belief Network), BRDNN(Bidirectional Recurrent Deep Neural Network) 또는 심층 Q-네트워크 (Deep Q-Networks) 중 어느 하나로 구현될 수 있다. 또한, 인공지능 모델은 공지된 모든 심층 신경망 모델로 구현될 수도 있다. 도 7의 실시예에서, 인공지능 모델은 전자 장치의 프로세서에 의해 학습(training)된다고 도시 되고 설명되었지만, 본 개시가 이에 한정되는 것은 아니다. 본 개시의 다른 실시예에서, 인공지능 모델은 다른 디바이스(전자 장치가 아닌 제3 디바이스) 또는 서버에 의해 미리 트레이닝되어 있을 수 있다. 이 경우, 전자 장치는 다른 디바이스 또는 외부 서버와 데이터 통신을 수행할 수 있는 통신 인터페이스를 더 포함하 고, 통신 인터페이스를 통해 다른 디바이스 또는 외부 서버로부터 인공지능 모델 또는 인공지능 모델(15 6)에 의한 추론 결과 데이터(예를 들어, 깊이 맵)를 수신할 수 있다. 도 8은 본 개시의 일 실시예에 따른 전자 장치가 인공지능 모델을 이용하여 부호화 이미지로부 터 깊이 맵(depth map)을 획득하는 동작을 도시한 개념도이다. 도 8을 참조하면, 전자 장치는 인공지능 모델에 부호화 이미지를 입력 데이터로서 입력하여, 부 호화 이미지에 대응되는 깊이 맵을 획득할 수 있다. 본 개시의 일 실시예에서, 전자 장치는 가변 마스크 패널(120, 도 1 및 도 2 참조)의 위상 마스크(122, 도 1 참조)를 투과하여 위상 지연에 의해 변조된 광을 이미지 센서(130, 도 1 및 도 2 참조)를 이용하여 수광함으 로써 초점이 왜곡된 부호화 이미지를 획득할 수 있다. 부호화 이미지에 포함되는 복수의 픽셀들 각각 은 객체의 깊이 값에 대응되는 점 퍼짐 함수(PSF) 패턴에 따라 초점이 왜곡된 이미지 값을 가질 수 있다. 인공지능 모델은 도 7에서 설명한 방식을 통해, 기 획득된 복수의 컨볼루션 이미지(730, 도 7 참조)를 입 력 데이터로 적용하고, 복수의 컨볼루션 이미지 각각에 대응되는 복수의 깊이 맵(740, 도 7 참조)을 출력 정답값(ground truth)로 적용하여 학습된 심층 신경망 모델일 수 있다. 전자 장치의 프로세서(140, 도 2 참조)는 부호화 이미지를 기 학습된 인공지능 모델에 입력 데이터로 입력하고, 인공지능 모델을 이용한 추론을 수행함으로써 부호화 이미지에 대응되는 깊이 맵을 획득할 수 있다. 도 9는 본 개시의 일 실시예에 따른 가변 마스크 패널의 위상 마스크(122, 124)를 도시한 도면이다. 도 9를 참조하면, 전자 장치는 가변 마스크 패널의 전체 영역 중 일부 영역에 국소적으로(locally) 복수의 위상 마스크(122, 124)를 생성할 수 있다. 전자 장치의 프로세서(140, 도 2 참조)는 가변 마스크패널에 공간 분할 방식 또는 시분할 방식을 이용하여 위상 변조 프로파일을 갖는 제어 전압 파형을 인가함 으로써, 복수의 위상 마스크(122, 124)를 생성할 수 있다. 공간 분할 방식은 가변 마스크 패널을 복수의 영역으로 분할하고, 분할된 복수의 영역에 대응되는 여기 전극(120e, 도 6b 참조)에 전압 파형을 인가하는 방식 이다. 시분할 방식은 제1 시점(t1)에서 제1 방향(예를 들어, X축 방향)을 따라 나열되는 제1 어레이 여기 전극 에 전압 파형을 인가하고, 제2 시점(t2)에서 제2 방향(예를 들어, Y축 방향)을 따라 나열되는 제2 어레이 여기 전극에 전압 파형을 인가함으로써 제1 시점(t1) 및 제2 시점(t2)에서 어퍼쳐 패턴을 각각 획득하고, 어퍼쳐 패턴 을 합하여 최종 부호화 어퍼쳐 패턴을 형성하는 방식이다. 제1 위상 마스크는 제1 부호화 어퍼쳐 패턴을 갖도록 형성될 수 있다. 제1 부호화 어퍼쳐 패턴은 제1 깊이 값에 대응되는 제1 점 퍼짐 함수(point spread function) 패턴을 갖는 부호화 이미지를 획득하기 위한 복수의 개구(apertures)를 갖는 패턴일 수 있다. 제2 위상 마스크는 제2 부호화 어퍼쳐 패턴을 갖도록 형성될 수 있다. 제2 부호화 어퍼쳐 패턴은 제1 깊이 값과는 다른 제2 깁이 값에 대응되는 제2 점 퍼짐 함수 패턴을 갖는 부호화 이미지를 획득하기 위한 복수의 개구를 갖는 패턴일 수 있다. 여기서, 특정 깊이값(예를 들어, 제1 깊이 값 및 제2 깊이 값)에 대응되는 점 퍼짐 함수 패턴을 갖는 부호화 이미지를 획득하기 위한 패턴은, 특정 깊이 값에서 점 퍼짐 함수(PSF)에 의한 초점 왜곡 현상이 극대화되어 신뢰도 높은 부호화 이미지를 획득할 수 있도록 최적화된 부호화 어퍼쳐 패턴을 의미한다. 프로세서에 의해 가변 마스크 패널의 제1 어레이 여기 전극 및 제2 어레이 여기 전극에 각각 포함되 는 복수의 여기 전극 중 제어 전압 파형이 인가되는 적어도 하나의 여기 전극의 위치에 기초하여 제1 위상 마스 크 및 제2 위상 마스크의 위치가 변경될 수 있다. 도 9에서는 복수의 위상 마스크(122, 124)는 제1 위상 마스크 및 제2 위상 마스크를 포함하는 2개로 도시되었지만, 본 개시가 이에 한정되는 것은 아니다. 본 개시의 일 실시예에서, 복수의 위상 마스크(122, 12 4)는 3개 이상의 복수 개의 서로 다른 부호화 어퍼쳐 패턴을 갖는 위상 마스크를 포함할 수도 있다. 도 10a는 본 개시의 일 실시예에 따른 전자 장치가 가변 마스크 패널을 투과한 광을 이미지 센서 를 이용하여 수광하는 동작을 도시한 개념도이다. 도 10b는 본 개시의 일 실시예에 따른 전자 장치가 가변 마스크 패널을 투과한 광을 이미지 센서 를 이용하여 수광하는 동작을 도시한 단면도이다. 도 10a를 참조하면, 객체(ob1, ob2)에 관한 광은 렌즈 어셈블리를 통해 가변 마스크 패널에 도달한다. 도 10b를 함께 참조하면, 제1 객체(ob1)는 제1 깊이 값(D1)을 갖는 위치에 배치되고, 제2 객체(ob2) 는 제2 깊이 값(D2)을 갖는 위치에 배치될 수 있다. 제1 객체(ob1)에 의해 반사된 광은 렌즈 어셈블리에 의해 굴절 또는 회절되어 가변 마스크 패널의 제2 위상 마스크에 도달하고, 제2 위상 마스크의 부호화 어퍼쳐 패턴의 개구를 투과함으로써 굴절되며, 위상 지연(phase delay)에 따라 위상이 변조될 수 있다. 제1 객체(ob1)에 관한 광은 이미지 센서의 제2 픽셀(P2)에 의해 수광될 수 있다. 제2 객체(ob2)에 의해 반 사된 광은 렌즈 어셈블리에 의해 굴절 또는 회절되어 가변 마스크 패널의 제1 위상 마스크에 도 달하고, 제1 위상 마스크의 부호화 어퍼쳐 패턴의 개구를 투과함으로써 굴절되며, 위상이 변조될 수 있다. 제2 객체(ob2)에 관한 광은 이미지 센서의 제1 픽셀(P1)에 의해 수광될 수 있다. 도 10a 및 도 10b에 도시된 실시예에서, 전자 장치는 객체(ob1, ob2)의 깊이 값에 따른 광 경로에 따라 가 변 마스크 패널 상의 서로 다른 위상 마스크(122, 124)를 적용함으로써, 보다 정확한 깊이 맵을 획득하도 록 초점 왜곡된 부호화 이미지를 획득할 수 있다. 도 11은 본 개시의 일 실시예에 따른 전자 장치가 관심 영역에 대응되는 깊이 값을 획득하기 위한 부호화 어퍼쳐 패턴(coded aperture pattern)을 생성하는 방법을 도시한 흐름도이다. 본 개시의 일 실시예에서, 단계 S1110은 도 3에 도시된 단계 S330이 수행된 이후에 수행될 수 있다. 단계 S1110에서, 전자 장치는 사용자 입력 또는 시선 추적 데이터에 기초하여 관심 영역을 설정한다. 본 개시의 일 실시예에서, 전자 장치는 현실 객체 중 특정 객체를 포함하는 관심 영역을 선택하는 사용자 입력을 수신하는 사용자 입력부를 포함할 수 있다. 사용자 입력부는 예를 들어, 객체에 관한 프리뷰 이미지 (preview image)를 디스플레이하고, 프리뷰 이미지 상에서 특정 영역에 관한 터치 입력을 수신하는 터치스크린 으로 구성될 수 있다. 그러나, 이에 한정되지 않고, 다른 실시예에서 사용자 입력부는 사용자의 발화를 수신하 는 음성 입력부(예를 들어, 마이크로폰)를 포함할 수도 있다. 전자 장치의 프로세서(140, 도 2 참조)는 사 용자 입력부를 통해 사용자 입력을 수신하고, 사용자 입력에 기초하여 관심 영역을 설정할 수 있다. 본 개시의 일 실시예에서, 전자 장치는 증강 현실 디바이스로 구현되고, 사용자의 시선 방향을 추적하는 시선 추적 센서를 포함할 수 있다. 전자 장치의 프로세서는 시선 추적 센서를 이용하여 사용자의 양 안의 시선 방향을 추적함으로써, 양안의 시선 방향이 수렴하는 응시점(gaze point)을 검출할 수 있다. 프로세서 는 검출된 응시점의 위치에 기초하여 관심 영역을 설정할 수 있다. 단계 S1120에서, 전자 장치는 관심 영역에 대응되는 객체의 깊이 값을 획득한다. 본 개시의 일 실시예에서, 전자 장치는 저해상도 라이다 센서(low resolution LiDAR sensor)를 더 포함할 수 있다. 전 자 장치의 프로세서(140, 도 2 참조)는 저해상도 라이다 센서를 이용하여 관심 영역에 포함되는 객체의 깊 이값을 획득할 수 있다. 단계 S1130에서, 전자 장치는 관심 영역에 포함되는 객체의 깊이 값에 대응되는 점 퍼짐 함수(PSF) 패턴을 갖는 부호화 이미지를 획득하기 위한 부호화 어퍼쳐 패턴(coded aperture pattern)을 생성한다. 본 개시의 일 실시예에서, 전자 장치의 프로세서는 관심 영역에 포함되는 객체에 의해 반사되는 광이 이미지 센서 (130, 도 1 및 도 2 참조) 상에서 수광되는 적어도 하나의 픽셀의 위치 정보를 획득하고, 가변 마스크 패널 (120, 도 1 및 도 2 참조)의 전체 영역 중 적어도 하나의 픽셀의 위치 정보에 대응되는 영역에 제어 전압 파형 을 인가함으로써 가변 마스크 패널의 일부 영역에 부호화 어퍼쳐 패턴을 생성할 수 있다. 생성된 부호화 어퍼쳐 패턴은, 관심 영역에 포함되는 객체의 깊이 값에 대응되는 점 퍼짐 함수(PSF) 패턴에 따라 초점 왜곡된 부호화 이미지를 획득하기 위한 복수의 개구(apertures)를 포함할 수 있다. 관심 영역이 복수의 영역으로 설정된 경우, 프로세서는 가변 마스크 패널의 전체 영역 중 일부 영역 에 서로 다른 형태 및 크기를 갖는 복수의 부호화 어퍼쳐 패턴을 생성할 수 있다. 프로세서가 가변 마스크 패널에 복수의 부호화 어퍼쳐 패턴을 생성하는 구체적인 실시예에 대해서는 도 12에서 상세하게 설명하기 로 한다. 도 12는 본 개시의 일 실시예에 따른 전자 장치가 관심 영역(ROI1 내지 ROI4)에 대응되는 깊이 값을 획득 하기 위한 위상 마스크(122, 124, 126, 128)를 생성하고, 생성된 위상 마스크(122, 124, 126, 128)를 이용하여 부호화 이미지를 획득하는 동작을 도시한 도면이다. 도 12를 참조하면, 전자 장치는 촬영 대상인 객체(ob)에 대하여 적어도 하나의 관심 영역(ROI1 내지 ROI 4)를 설정할 수 있다. 본 개시의 일 실시예에서, 전자 장치는 사용자 입력부를 통해 수신한 사용자 입력에 기초하여 적어도 하나의 관심 영역(ROI1 내지 ROI4)을 설정하거나, 또는 시선 추적 센서에 의해 획득한 사용자 의 시선 추적 데이터에 기초하여 적어도 하나의 관심 영역(ROI1 내지 ROI4)를 설정할 수 있다. 도 12에 도시된 실시예에서, 전자 장치는 제1 ROI(ROI1) 내지 제4 ROI(ROI4)를 포함하는 4개의 ROI를 설정할 수 있다. 그 러나, 도면에 도시된 것으로 한정되는 것은 아니고, 본 개시의 일 실시예에서 전자 장치는 하나 또는 2개 이상의 ROI를 설정할 수 있다. 전자 장치는 가변 마스크 패널의 전체 영역 중 적어도 하나의 관심 영역(ROI1 내지 ROI4)에 대응되는 영역 상에 부호화 어퍼쳐 패턴을 갖는 위상 마스크(122, 124, 126, 128)를 생성할 수 있다. 전자 장치의 프로세서(140, 도 2 참조)는 적어도 하나의 관심 영역(ROI1 내지 ROI4) 내의 객체의 배치 관계, 이미지 센서 (130, 도 1 및 도 2 참조)를 통해 검출된 객체의 경계 및 텍스쳐에 기초하여 적어도 하나의 관심 영역(ROI1 내 지 ROI4)의 범위를 결정할 수 있다. 프로세서는 가변 마스크 패널의 전체 영역 중 결정된 적어도 하 나의 관심 영역(ROI1 내지 ROI4)의 범위에 대응되는 영역에 위상 마스크(122, 124, 126, 128)를 생성할 수 있다. 도 12에 도시된 실시예에서, 프로세서는 가변 마스크 패널의 일부 영역에 복수의 위상 마스크 (122, 124, 126, 128)를 생성하고, 복수의 위상 마스크(122, 124, 126, 128)는 대응되는 복수의 관심 영역 (ROI1 내지 ROI4) 각각에 포함된 객체의 깊이 값에 따라 서로 다른 부호화 어퍼쳐 패턴을 가질 수 있다. 프로세 서가 객체의 깊이 값에 기초하여 서로 다른 부호화 어퍼쳐 패턴을 갖는 위상 마스크(122, 124, 126, 128) 를 생성하는 구체적인 방법은 도 11에서 설명한 방법과 동일하므로, 중복되는 설명은 생략한다. 전자 장치는 위상 마스크(122, 124, 126, 128)가 형성된 가변 마스크 패널을 이용하여 객체(ob)를 촬 영함으로써 부호화 이미지를 획득할 수 있다. 획득된 부호화 이미지는 관심 영역에 대응되는 영역 (1222, 1224, 1226, 1228)이 서로 다른 점 퍼짐 함수(PSF)에 따라 초점 왜곡된 이미지일 수 있다. 도 13은 본 개시의 일 실시예에 따른 전자 장치가 위상 마스크(122, 124)를 이용하여 부호화 이미지(131 0)를 획득하고, 획득된 부호화 이미지로부터 깊이 맵을 획득하는 동작을 도시한 개념도이다. 도 13을 참조하면, 전자 장치는 객체(ob1, ob2)에 대하여 2개의 관심 영역(ROI1, ROI2)을 설정할 수 있다. 본 개시의 일 실시예에서, 전자 장치는 제1 객체(ob1)의 깊이 값에 대응되는 점 퍼짐 함수(PSF)에 기초한 제1 위상 마스크를 가변 마스크 패널의 전체 영역에 대하여 생성하고, 제1 위상 마스크를 투과 한 광을 수광하여 초기 부호화 이미지를 획득할 수 있다. 초기 부호화 이미지를 획득한 후, 전자 장치는 제1 객체(ob1)의 깊이 값과 다른 깊이 값을 갖는 제2 객체(ob2)에 대하여 제2 관심 영역(ROI2)을 설정할 수 있 다. 관심 영역(ROI1, ROI2)을 설정하는 구체적인 방법은 도 11 및 도 12에서 설명한 방법과 동일하므로, 중복되 는 설명은 생략한다. 전자 장치는 가변 마스크 패널의 전체 영역 중 제2 관심 영역(ROI2)에 대응되는 일부 영역에 제2 위 상 마스크를 생성할 수 있다. 제2 위상 마스크는 제2 관심 영역(ROI2)에 포함된 객체의 깊이 값에 대 응되는 점 퍼짐 함수(PSF)을 갖는 부호화 이미지를 획득하기 위한 부호화 어퍼쳐 패턴을 포함할 수 있다. 제2 위상 마스크의 부호화 어퍼쳐 패턴은 제1 위상 마스크의 부호화 어퍼쳐 패턴과는 다른 형태 및 크기 를 갖는 복수의 개구(apertures)를 포함할 수 있다. 전자 장치는 가변 마스크 패널의 제1 위상 마스크 및 제2 위상 마스크를 투과한 광을 수광 하고, 수광된 광을 전기적 신호로 변환함으로써 최종 부호화 이미지를 획득할 수 있다. 최종 부호화 이미 지은 제1 관심 영역(ROI1)과 제2 관심 영역(ROI2)에 대응되는 픽셀의 이미지 값이 서로 다른 점 퍼짐 함 수(PSF)에 따라 초점 왜곡된 이미지일 수 있다. 전자 장치는 최종 부호화 이미지를 인공지능 모델에 입력 데이터로 입력하고, 인공지능 모델 을 이용한 추론을 수행함으로써, 최종 부호화 이미지에 대한 깊이 맵을 획득할 수 있다. 도 13에 도시된 실시예에 따른 전자 장치는 초기에 설정된 ROI(예를 들어, 제1 ROI(ROI1))에 포함된 객체 의 깊이 값에 대응되는 범용적인 부호화 어퍼쳐 패턴으로 구성된 위상 마스크(예를 들어, 제1 위상 마스크 )를 이용하여 초기 부호화 이미지를 획득하고, 이후 사용자 입력 또는 시선 추적 데이터에 따라 깊이 값이 다른 객체에 관한 추가적인 ROI(예를 들어, 제2 ROI(ROI2))를 설정하고, 설정된 추가 ROI에 최적화된 부호화 어 퍼쳐 패턴을 갖는 위상 마스크(예를 들어, 제2 위상 마스크)를 생성하며, 복수의 위상 마스크(122, 124)를 이용하여 최종 부호화 이미지를 획득하는 바, 깊이 값에 따라 정확도가 높은 깊이 맵을 획득할 수 있다. 또한, 본 개시의 일 실시예에 따른 전자 장치는 사용자 입력 또는 시선 추적 데이터를 이용하여 관 심 영역(ROI1, ROI2)을 설정하는 바, 사용자와의 인터랙션(interaction)을 강화하고, 사용자의 의도에 따라 설 정된 관심 영역에 대한 정확한 깊이 값을 획득할 수 있다. 본 개시에서 설명된 전자 장치에 의해 실행되는 프로그램은 하드웨어 구성요소, 소프트웨어 구성요소, 및/ 또는 하드웨어 구성요소 및 소프트웨어 구성요소의 조합으로 구현될 수 있다. 프로그램은 컴퓨터로 읽을 수 있 는 명령어들을 수행할 수 있는 모든 시스템에 의해 수행될 수 있다. 소프트웨어는 컴퓨터 프로그램(computer program), 코드(code), 명령어(instruction), 또는 이들 중 하나 이상 의 조합을 포함할 수 있으며, 원하는 대로 동작하도록 처리 장치를 구성하거나 독립적으로 또는 결합적으로 (collectively) 처리 장치를 명령할 수 있다. 소프트웨어는, 컴퓨터로 읽을 수 있는 저장 매체(computer-readable storage media)에 저장된 명령어를 포함하 는 컴퓨터 프로그램으로 구현될 수 있다. 컴퓨터가 읽을 수 있는 기록 매체로는, 예를 들어 마그네틱 저장 매체 (예컨대, ROM(read-only memory), RAM(random-access memory), 플로피 디스크, 하드 디스크 등) 및 광학적 판 독 매체(예컨대, 시디롬(CD-ROM), 디브이디(DVD: Digital Versatile Disc)) 등이 있다. 컴퓨터가 읽을 수 있 는 기록 매체는 네트워크로 연결된 컴퓨터 시스템들에 분산되어, 분산 방식으로 컴퓨터가 판독 가능한 코드가 저장되고 실행될 수 있다. 매체는 컴퓨터에 의해 판독가능하며, 메모리에 저장되고, 프로세서에서 실행될 수있다. 컴퓨터로 읽을 수 있는 저장매체는 비일시적(non-transitory) 저장매체의 형태로 제공될 수 있다. 여기서, '비 일시적'은 저장매체가 신호(signal)를 포함하지 않으며 실재(tangible)한다는 것을 의미할 뿐 데이터가 저장매 체에 반영구적 또는 임시적으로 저장되는 경우를 구분하지 않는다. 예를 들어, '비일시적 저장매체'는 데이터가 임시적으로 저장되는 버퍼를 포함할 수 있다. 또한, 본 명세서에 개시된 실시예들에 따른 프로그램은 컴퓨터 프로그램 제품(computer program product)에 포 함되어 제공될 수 있다. 컴퓨터 프로그램 제품은 상품으로서 판매자 및 구매자 간에 거래될 수 있다. 컴퓨터 프로그램 제품은 소프트웨어 프로그램, 소프트웨어 프로그램이 저장된 컴퓨터로 읽을 수 있는 저장 매체 를 포함할 수 있다. 예를 들어, 컴퓨터 프로그램 제품은 전자 장치의 제조사 또는 전자 마켓(예를 들어, 삼성 갤럭시 스토어 또는 구글 플레이스토어)을 통해 전자적으로 배포되는 소프트웨어 프로그램 형태의 상품(예 를 들어, 다운로드 가능한 애플리케이션(downloadable application))을 포함할 수 있다. 전자적 배포를 위하여, 소프트웨어 프로그램의 적어도 일부는 저장 매체에 저장되거나, 임시적으로 생성될 수 있다. 이 경우, 저장 매 체는 전자 장치의 제조사의 서버, 전자 마켓의 서버, 또는 소프트웨어 프로그램을 임시적으로 저장하는 중 계 서버의 저장매체가 될 수 있다. 컴퓨터 프로그램 제품은, 전자 장치 및/또는 서버로 구성되는 시스템에서, 서버의 저장매체 또는 전자 장 치의 저장매체를 포함할 수 있다. 또는, 전자 장치와 통신 연결되는 제3 장치(예를 들어, 모바일 디 바이스 또는 웨어러블 디바이스)가 존재하는 경우, 컴퓨터 프로그램 제품은 제3 장치의 저장매체를 포함할 수 있다. 또는, 컴퓨터 프로그램 제품은 전자 장치으로부터 전자 장치 또는 제3 장치로 전송되거나, 제3 장치 로부터 전자 장치로 전송되는 소프트웨어 프로그램 자체를 포함할 수 있다. 이 경우, 전자 장치 및 제3 장치 중 적어도 하나가 컴퓨터 프로그램 제품을 실행하여 개시된 실시예들에 따른 방법을 수행할 수 있다. 또는, 전자 장치 및 제3 장치 중 어느 하나가 컴퓨터 프로그램 제품을 실행 하여 개시된 실시예들에 따른 방법을 분산하여 실시할 수 있다. 예를 들면, 전자 장치가 메모리(150, 도 2 참조)에 저장된 컴퓨터 프로그램 제품을 실행하여, 전자 장치 와 통신 연결된 타 전자 장치(예를 들어, 모바일 디바이스 또는 웨어러블 디바이스)가 개시된 실시예들에 따른 방법을 수행하도록 제어할 수 있다. 또 다른 예로, 제3 장치가 컴퓨터 프로그램 제품을 실행하여, 제3 장치와 통신 연결된 전자 장치가 개시된 실시 예에 따른 방법을 수행하도록 제어할 수 있다. 제3 장치가 컴퓨터 프로그램 제품을 실행하는 경우, 제3 장치는 전자 장치로부터 컴퓨터 프로그램 제품을 다운로드하고, 다운로드된 컴퓨터 프로그램 제품을 실행할 수 있다. 또는, 제3 장치는 프리로드(pre-load)된 상 태로 제공된 컴퓨터 프로그램 제품을 실행하여 개시된 실시예들에 따른 방법을 수행할 수도 있다."}
{"patent_id": "10-2022-0031647", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "이상과 같이 실시예들이 비록 한정된 실시예와 도면에 의해 설명되었으나, 해당 기술분야에서 통상의 지식을 가 진 자라면 상기의 기재로부터 다양한 수정 및 변형이 가능하다. 예를 들어, 설명된 기술들이 설명된 방법과 다 른 순서로 수행되거나, 및/또는 설명된 컴퓨터 시스템 또는 모듈 등의 구성요소들이 설명된 방법과 다른 형태로 결합 또는 조합되거나, 다른 구성요소 또는 균등물에 의하여 대치되거나 치환되더라도 적절한 결과가 달성될 수 있다. 도면 도면1 도면2 도면3 도면4 도면5 도면6a 도면6b 도면7 도면8 도면9 도면10a 도면10b 도면11 도면12 도면13"}
{"patent_id": "10-2022-0031647", "section": "도면", "subsection": "도면설명", "item": 1, "content": "본 개시는, 다음의 자세한 설명과 그에 수반되는 도면들의 결합으로 쉽게 이해될 수 있으며, 참조 번호 (reference numerals)들은 구조적 구성요소(structural elements)를 의미한다. 도 1은 본 개시의 일 실시예에 따른 전자 장치가 위상 마스크를 이용하여 부호화 이미지(coded image)를 획득하 고, 획득된 부호화 이미지로부터 깊이 맵을 획득하는 동작을 도시한 개념도이다. 도 2는 본 개시의 일 실시예에 따른 전자 장치의 구성 요소를 도시한 블록도이다. 도 3은 본 개시의 일 실시예에 따른 전자 장치의 동작 방법을 도시한 흐름도이다. 도 4는 본 개시의 일 실시예에 따른 전자 장치에 포함된 렌즈 어셈블리, 가변 마스크 패널, 및 이미지 센서의 구조를 도시한 도면이다. 도 5는 본 개시의 일 실시예에 따른 가변 마스크 패널의 위상 마스크를 도시한 도면이다. 도 6a는 본 개시의 일 실시예에 따른 전자 장치의 구성 요소인 가변 마스크 패널을 도시한 사시도이다. 도 6b는 본 개시의 일 실시예에 따른 전자 장치가 가변 마스크 패널의 복수의 개구(aperture)를 포함하는 부호 화 어퍼쳐 패턴을 형성하는 동작을 도시한 사시도이다. 도 7은 본 개시의 일 실시예에 따른 전자 장치가 학습 데이터를 생성하고, 학습 데이터를 이용하여 인공지능 모 델을 트레이닝(training)하는 동작을 도시한 개념도이다. 도 8은 본 개시의 일 실시예에 따른 전자 장치가 인공지능 모델을 이용하여 부호화 이미지로부터 깊이 맵을 획 득하는 동작을 도시한 개념도이다. 도 9는 본 개시의 일 실시예에 따른 가변 마스크 패널의 위상 마스크를 도시한 도면이다. 도 10a는 본 개시의 일 실시예에 따른 전자 장치가 가변 마스크 패널을 투과한 광을 이미지 센서를 이용하여 수 광하는 동작을 도시한 개념도이다. 도 10b는 본 개시의 일 실시예에 따른 전자 장치가 가변 마스크 패널을 투과한 광을 이미지 센서를 이용하여 수 광하는 동작을 도시한 단면도이다. 도 11은 본 개시의 일 실시예에 따른 전자 장치가 관심 영역에 대응되는 깊이 값을 획득하기 위한 부호화 어퍼 쳐 패턴(coded aperture pattern)을 생성하는 방법을 도시한 흐름도이다. 도 12는 본 개시의 일 실시예에 따른 전자 장치가 관심 영역에 대응되는 깊이 값을 획득하기 위한 위상 마스크를 생성하고, 생성된 위상 마스크를 이용하여 부호화 이미지를 획득하는 동작을 도시한 도면이다. 도 13은 본 개시의 일 실시예에 따른 전자 장치가 위상 마스크를 이용하여 부호화 이미지(coded image)를 획득 하고, 획득된 부호화 이미지로부터 깊이 맵을 획득하는 동작을 도시한 개념도이다."}
