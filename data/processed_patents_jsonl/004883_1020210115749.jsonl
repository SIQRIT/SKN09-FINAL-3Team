{"patent_id": "10-2021-0115749", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0032675", "출원번호": "10-2021-0115749", "발명의 명칭": "ＣＮＣ 공작기계를 이용한 데이터 수집 시스템", "출원인": "(주) 씨테크시스템", "발명자": "홍기수"}}
{"patent_id": "10-2021-0115749", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "CAD(Computer Aided Design) 및 CAM(Computer Aided Manufacturing)으로부터 입력 데이터를 수신하는 입력부;상기 입력 데이터에 의해 CNC(Computer Numerical Control) 공작기계가 구동되면, 에지컴퓨팅(Edge Computing)을 이용하여 상기 CNC 공작기계의 상태 데이터를 수집하는 에지(Edge) 모니터링부;상기 CNC 공작기계에서 가공된 제품이 출력되면, 상기 제품을 측정(Inspection)한 측정 데이터를 수집하는 출력부; 및상기 입력 데이터, 상태 데이터 및 측정 데이터를 매핑하여 데이터베이스에 저장하는 PLM(Product LifecycleManagement)부;를 포함하는 CNC 공작기계를 이용한 데이터 수집 시스템."}
{"patent_id": "10-2021-0115749", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서,상기 에지 모니터링부는, 상기 CNC 공작기계와 연결된 에지컴퓨터(EdgeComputer)을 이용하여 상기 상태 데이터를 수집하는 것을 특징으로 하는 CNC 공작기계를 이용한 데이터 수집 시스템."}
{"patent_id": "10-2021-0115749", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1 항에 있어서,상기 입력 데이터는,가공할 객체의 형상정보, 가공면적, 가공물의 크기, 상기 가공물의 밀도에 따른 무게를 포함하는 공간정보(Geometry Information) 데이터;이송간격(Stepover) 및 가공깊이(Depth)를 포함하는 가공전략(Cutting Strategy);공구의 길이, 크기 및 재질을 포함하는 공구 데이터(Tool Information);가공할 객체의 재료 데이터(Material Information);상기 CNC 공작기계의 운용 사이클(Cycle)을 포함하는 머시닝 파라미터(Machining Parameter); 및상기 가공할 객체의 가공 순서를 포함하는 프로세스 시퀀스(Process Sequence);를 포함하는 것을 특징으로 하는 CNC 공작기계를 이용한 데이터 수집 시스템."}
{"patent_id": "10-2021-0115749", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 1 항에 있어서,상기 상태 데이터는,상기 CNC 공작기계의 모드(Mode) 및 운영상황을 포함하는 머신 컨디션(Machine Condition);상기 CNC 공작기계 내 스핀들(Spindle)에 걸리는 부하량인 스핀들 로드(Spindle Load);가공할 객체를 제품으로 가공하는데 상기 CNC 공작기계에서 사용되는 전력량인 에너지(Energy);공개특허 10-2023-0032675-3-상기 스핀들의 속도인 스핀들 속도(Spindle Speed); 및상기 CNC 공작기계 내 피드(Feed)의 속도인 피드 속도(Feed Speed);를 포함하는 것을 특징으로 하는 CNC 공작기계를 이용한 데이터 수집 시스템."}
{"patent_id": "10-2021-0115749", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 1 항에 있어서,상기 측정 데이터는,상기 CNC 공작기계 내 공구의 마모도(Wear Information)와, 상기 CNC 공작기계에서 가공된 제품의 조도(Roughness), 피로강도(Fatigue Strength), 인장강도(Tensil Strength) 및 공차(Tolerance)를 포함하는 것을특징으로 하는 CNC 공작기계를 이용한 데이터 수집 시스템."}
{"patent_id": "10-2021-0115749", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 1 항에 있어서,상기 PLM부는, 상기 입력 데이터, 상태 데이터 및 측정 데이터를, 상기 CNC 공작기계를 운용(Operating)하는 운용파일 이름으로 매핑하여 저장하는 것을 특징으로 하는 CNC 공작기계를 이용한 데이터 수집 시스템."}
{"patent_id": "10-2021-0115749", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제 1 항에 있어서,상기 PLM부는,상기 CNC 공작기계로 인입되는 가공할 객체의 재료 및 상기 CNC 공작기계 내 포함된 적어도 하나의 공구의 정보를 입력하면, 상기 객체의 재료 및 공구의 정보에 기 매핑되어 저장된 스핀들 로드, 스핀들 속도 및 피드 속도를 추출하여 디스플레이하는 것을 특징으로 하는 CNC 공작기계를 이용한 데이터 수집 시스템."}
{"patent_id": "10-2021-0115749", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 7 항에 있어서,상기 PLM부는,상기 객체의 재료 및 공구의 정보를 이용하여 공구의 마모도 및 제품의 조도를 예측하는 것을 특징으로 하는CNC 공작기계를 이용한 데이터 수집 시스템."}
{"patent_id": "10-2021-0115749", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 1 항에 있어서,상기 CNC 공작기계를 이용한 데이터 수집 시스템은,상기 데이터베이스에 매핑되어 저장된 입력 데이터, 상태 데이터 및 측정 데이터를 포함하는 로우 데이터(RawData)를 병렬 및 분산하여 저장하고, 로우 데이터 내에 포함된 비정형(Unstructed) 데이터, 정형(Structured)데이터 및 반정형 데이터(Semi-structured)를 정제하고, 메타 데이터로 분류를 포함한 전처리를 실시하여 빅데이터를 구축하는 데이터 수집 서비스 제공 서버;공개특허 10-2023-0032675-4-를 더 포함하는 것을 특징으로 하는 CNC 공작기계를 이용한 데이터 수집 시스템."}
{"patent_id": "10-2021-0115749", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제 9 항에 있어서,상기 데이터 수집 서비스 제공 서버는,상기 빅데이터를 이용하여 학습 데이터셋(DataSet) 및 테스트 데이터셋을 생성하고, 적어도 하나의 인공지능 알고리즘에 질의(Query)로 입력하여 학습 및 테스트를 거쳐 모델링하는 인공지능부;를 포함하는 것을 특징으로 하는 CNC 공작기계를 이용한 데이터 수집 시스템."}
{"patent_id": "10-2021-0115749", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "CNC 공작기계를 이용한 데이터 수집 시스템이 제공되며, CAD(Computer Aided Design) 및 CAM(Computer Aided Manufacturing)으로부터 입력 데이터를 수신하는 입력부, 입력 데이터에 의해 CNC(Computer Numerical Control) 공작기계가 구동되면, 에지컴퓨팅(Edge Computing)을 이용하여 CNC 공작기계의 상태 데이터를 수집하는 에지 (Edge) 모니터링부, CNC 공작기계에서 가공된 제품이 출력되면, 제품을 측정(Inspection)한 측정 데이터를 수집 하는 출력부 및 입력 데이터, 상태 데이터 및 측정 데이터를 매핑하여 데이터베이스에 저장하는 PLM(Product Lifecycle Management)부를 포함한다."}
{"patent_id": "10-2021-0115749", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 CNC 공작기계를 이용한 데이터 수집 시스템에 관한 것으로, CNC 공작기계에 입력되는 입력 데이터, 가공 중 상태 데이터 및 제품을 측정한 측정 데이터를 매핑하여 저장함으로써 인공지능 알고리즘을 학습할 데이 터를 축적하기 위한 시스템을 제공한다."}
{"patent_id": "10-2021-0115749", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "스마트팩토리는 제조분야에 ICT를 적용하는 것으로 정밀도, 고속화, 내구도 등 기계 하드웨어 중심에서, 환경인 지, 장비 간 연결을 통한 기계장비 스마트화 기술 경쟁인 소프트웨어 중심으로 빠르게 전환되고 있다. 스마트 팩토리로 불리우는 최첨단 공장들은 장비에 연결된 각종 센서와 통신장비를 통해 실시간으로 현장의 데이터를 수집하여 제조 공정의 상태를 모니터링하고, ICT가 접목된 체계적인 분석 및 관리를 통해 생산성을 높이고 있다. 스마트팩토리를 구현하기 위해서는 기본적으로 공작기계에 CNC(Computerized Numerical Controlle r)를 내장하여 공작기계의 위치와 속도, 스핀들 회전 등과 같은 기능을 자동으로 제어할 수 있어야 한다. CNC 공작기계는 CAD(Computer Aided Design), CAM(Computer Aided Manufacturing), 가공 및 측정(Inspectio n)의 순서를 통하여 제품을 생산하는데, CNC 공작기계는 가공조건, 동작 및 형상 데이터를 입력(Input)으로 받 으면 컴퓨터에 의해 자동프로그래밍을 하는 CAM을 수행하여 NC(Numerical Control) 데이터로 변환하게 된다. 이때, CNC 공작기계의 상태를 모니터링하기 위하여 카메라를 이용한 비전 기반이나 전류를 이용한 PLC(Programmable Logic Controller) 기반으로 데이터를 수집하는 방법이 연구 및 개발되었는데, 이와 관련하여, 선행기술인 한국공개특허 제2020-0014574호(2020년02월11일 공개), 한국등록특허 제10-1999787호 (2019년07월12일 공고) 및 한국등록특허 제10-1473579호(2014년12월24일 공고)에는, 카메라를 통해 취득한 이미 지를 문자기호로 판독하며, 문자기호를 저장 및 작업자에게 제공함으로써 웹캠을 통해 사용자가 모니터링 대상 장비나 환경을 실시간으로 출력하는 구성과, CNC 공작기계 내 기구를 제어하는 명령코드, 작업이력 및 세팅정보 를 수집하고 무선태그를 통하여 모니터링 단말로 정보를 전송하는 구성과, NC 파라미터 파일 및 PLC 파라미터 파일을 로딩하여 타입을 식별하고, 파라미터 파일의 데이터베이스를 파서(Parser)를 이용하여 업데이트하며, 파 라미터 파일 및 마스터 파일을 비교하여 CNC 공작기계에 입력할 파라미터 업로드용 파일을 생성하는 구성이 각 각 개시되어 있다. 다만, 스마트팩토리의 기능요건은 크게 생산현장의 변화를 자동으로 감지(Sensor)하고, 감지된 변화를 판단하여 어떤 조치가 이루어지도록 판단(Control)하고, 판단결과에 따라 실행(Actuator)하는 3 단계로 구분되지만, 상술한 구성은 모두 모니터링 수준에 그치고 있어 감지 단계인 1 단계에서 머무르고 있다. 이에, 스마트팩토리 의 기능요건을 만족할 3 단계를 구성하기 위하여 CAD, CAM, 가공 및 측정에 이르는 각 프로세스별 데이터를 수 집하고 인공지능 알고리즘을 학습시킬 데이터셋을 마련하기 위한 데이터 축적 플랫폼의 연구 및 개발이 요구된 다."}
{"patent_id": "10-2021-0115749", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 일 실시예는, CNC 공작기계에 입력되는 CAD 및 CAM 입력 데이터, CNC 공작기계의 상태(Status) 데이 터 및 CNC 공작기계에서 가공된 제품의 측정(Inspection) 데이터를 입력 단계, 가공 단계 및 출력 단계에서 각 각 측정하고, 각 단계에서 측정된 데이터를 매핑하여 저장함으로써 적어도 하나의 인공지능 알고리즘을 학습시 킬 데이터셋을 생성할 수 있으며, CNC 공작기계 및 재료의 정보만으로도 스핀들(Spindle) 및 피드(Feed) 예측이 가능해지므로 작업자의 능률향상이 가능해지고, 공구의 마모(Wear) 및 최종 제품의 조도(Roughness) 예측을 통 하여 교환주기 예측이 가능해지는, CNC 공작기계를 이용한 데이터 수집 시스템을 제공할 수 있다. 다만, 본 실 시예가 이루고자 하는 기술적 과제는 상기된 바와 같은 기술적 과제로 한정되지 않으며, 또 다른 기술적 과제들 이 존재할 수 있다."}
{"patent_id": "10-2021-0115749", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상술한 기술적 과제를 달성하기 위한 기술적 수단으로서, 본 발명의 일 실시예는, CAD(Computer Aided Design) 및 CAM(Computer Aided Manufacturing)으로부터 입력 데이터를 수신하는 입력부, 입력 데이터에 의해 CNC(Computer Numerical Control) 공작기계가 구동되면, 에지컴퓨팅(Edge Computing)을 이용하여 CNC 공작기계 의 상태 데이터를 수집하는 에지(Edge) 모니터링부, CNC 공작기계에서 가공된 제품이 출력되면, 제품을 측정 (Inspection)한 측정 데이터를 수집하는 출력부 및 입력 데이터, 상태 데이터 및 측정 데이터를 매핑하여 데이 터베이스에 저장하는 PLM(Product Lifecycle Management)부를 포함한다."}
{"patent_id": "10-2021-0115749", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "전술한 본 발명의 과제 해결 수단 중 어느 하나에 의하면, CNC 공작기계에 입력되는 CAD 및 CAM 입력 데이터, CNC 공작기계의 상태(Status) 데이터 및 CNC 공작기계에서 가공된 제품의 측정(Inspection) 데이터를 입력 단계, 가공 단계 및 출력 단계에서 각각 측정하고, 각 단계에서 측정된 데이터를 매핑하여 저장함으로써 적어도 하나의 인공지능 알고리즘을 학습시킬 데이터셋을 생성할 수 있으며, CNC 공작기계 및 재료의 정보만으로도 스 핀들(Spindle) 및 피드(Feed) 예측이 가능해지므로 작업자의 능률향상이 가능해지고, 공구의 마모(Wear) 및 최 종 제품의 조도(Roughness) 예측을 통하여 교환주기 예측이 가능해질 수 있다."}
{"patent_id": "10-2021-0115749", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "아래에서는 첨부한 도면을 참조하여 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자가 용이하게 실시할 수 있도록 본 발명의 실시예를 상세히 설명한다. 그러나 본 발명은 여러 가지 상이한 형태로 구현될 수 있으며 여기에서 설명하는 실시예에 한정되지 않는다. 그리고 도면에서 본 발명을 명확하게 설명하기 위해서 설명과 관 계없는 부분은 생략하였으며, 명세서 전체를 통하여 유사한 부분에 대해서는 유사한 도면 부호를 붙였다. 명세서 전체에서, 어떤 부분이 다른 부분과 \"연결\"되어 있다고 할 때, 이는 \"직접적으로 연결\"되어 있는 경우뿐 아니라, 그 중간에 다른 소자를 사이에 두고 \"전기적으로 연결\"되어 있는 경우도 포함한다. 또한 어떤 부분이 어떤 구성요소를 \"포함\"한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다른 구성요소를 제외하는 것이 아 니라 다른 구성요소를 더 포함할 수 있는 것을 의미하며, 하나 또는 그 이상의 다른 특징이나 숫자, 단계, 동작, 구성요소, 부분품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해 되어야 한다. 명세서 전체에서 사용되는 정도의 용어 \"약\", \"실질적으로\" 등은 언급된 의미에 고유한 제조 및 물질 허용오차 가 제시될 때 그 수치에서 또는 그 수치에 근접한 의미로 사용되고, 본 발명의 이해를 돕기 위해 정확하거나 절 대적인 수치가 언급된 개시 내용을 비양심적인 침해자가 부당하게 이용하는 것을 방지하기 위해 사용된다. 본 발명의 명세서 전체에서 사용되는 정도의 용어 \"~(하는) 단계\" 또는 \"~의 단계\"는 \"~ 를 위한 단계\"를 의미하지 않는다. 본 명세서에 있어서 '부(部)'란, 하드웨어에 의해 실현되는 유닛(unit), 소프트웨어에 의해 실현되는 유닛, 양 방을 이용하여 실현되는 유닛을 포함한다. 또한, 1 개의 유닛이 2 개 이상의 하드웨어를 이용하여 실현되어도 되고, 2 개 이상의 유닛이 1 개의 하드웨어에 의해 실현되어도 된다. 한편, '~부'는 소프트웨어 또는 하드웨어 에 한정되는 의미는 아니며, '~부'는 어드레싱 할 수 있는 저장 매체에 있도록 구성될 수도 있고 하나 또는 그 이상의 프로세서들을 재생시키도록 구성될 수도 있다. 따라서, 일 예로서 '~부'는 소프트웨어 구성요소들, 객 체 지향 소프트웨어 구성요소들, 클래스 구성요소들 및 태스크 구성요소들과 같은 구성요소들과, 프로세스들, 함수들, 속성들, 프로시저들, 서브루틴들, 프로그램 코드의 세그먼트들, 드라이버들, 펌웨어, 마이크로코드, 회 로, 데이터, 데이터베이스, 데이터 구조들, 테이블들, 어레이들 및 변수들을 포함한다. 구성요소들과 '~부'들 안에서 제공되는 기능은 더 작은 수의 구성요소들 및 '~부'들로 결합되거나 추가적인 구성요소들과 '~부'들로 더 분리될 수 있다. 뿐만 아니라, 구성요소들 및 '~부'들은 디바이스 또는 보안 멀티미디어카드 내의 하나 또 는 그 이상의 CPU들을 재생시키도록 구현될 수도 있다. 본 명세서에 있어서 단말, 장치 또는 디바이스가 수행하는 것으로 기술된 동작이나 기능 중 일부는 해당 단말, 장치 또는 디바이스와 연결된 서버에서 대신 수행될 수도 있다. 이와 마찬가지로, 서버가 수행하는 것으로 기 술된 동작이나 기능 중 일부도 해당 서버와 연결된 단말, 장치 또는 디바이스에서 수행될 수도 있다. 본 명세서에서 있어서, 단말과 매핑(Mapping) 또는 매칭(Matching)으로 기술된 동작이나 기능 중 일부는, 단말 의 식별 정보(Identifying Data)인 단말기의 고유번호나 개인의 식별정보를 매핑 또는 매칭한다는 의미로 해석 될 수 있다. 이하 첨부된 도면을 참고하여 본 발명을 상세히 설명하기로 한다. 도 1은 본 발명의 일 실시예에 따른 CNC 공작기계를 이용한 데이터 수집 시스템을 설명하기 위한 도면이다. 도 1을 참조하면, CNC 공작기계를 이용한 데이터 수집 시스템은, 적어도 하나의 사용자 단말, 수집 서비스 제공 서버, 적어도 하나의 CNC 공작기계를 포함할 수 있다. 다만, 이러한 도 1의 CNC 공작기계를 이 용한 데이터 수집 시스템은, 본 발명의 일 실시예에 불과하므로, 도 1을 통하여 본 발명이 한정 해석되는 것 은 아니다. 이때, 도 1의 각 구성요소들은 일반적으로 네트워크(Network, 200)를 통해 연결된다. 예를 들어, 도 1에 도시 된 바와 같이, 적어도 하나의 사용자 단말은 네트워크를 통하여 수집 서비스 제공 서버와 연결 될 수 있다. 그리고, 수집 서비스 제공 서버는, 네트워크를 통하여 적어도 하나의 사용자 단말 , 적어도 하나의 CNC 공작기계와 연결될 수 있다. 또한, 적어도 하나의 CNC 공작기계는, 네트 워크를 통하여 수집 서비스 제공 서버와 연결될 수 있다. 여기서, 네트워크는, 복수의 단말 및 서버들과 같은 각각의 노드 상호 간에 정보 교환이 가능한 연결 구조를 의 미하는 것으로, 이러한 네트워크의 일 예에는 근거리 통신망(LAN: Local Area Network), 광역 통신망(WAN: Wide Area Network), 인터넷(WWW: World Wide Web), 유무선 데이터 통신망, 전화망, 유무선 텔레비전 통신망 등을 포함한다. 무선 데이터 통신망의 일례에는 3G, 4G, 5G, 3GPP(3rd Generation Partnership Project), 5GPP(5th Generation Partnership Project), LTE(Long Term Evolution), WIMAX(World Interoperability for Microwave Access), 와이파이(Wi-Fi), 인터넷(Internet), LAN(Local Area Network), Wireless LAN(Wireless Local Area Network), WAN(Wide Area Network), PAN(Personal Area Network), RF(Radio Frequency), 블루투스 (Bluetooth) 네트워크, NFC(Near-Field Communication) 네트워크, 위성 방송 네트워크, 아날로그 방송 네트워 크, DMB(Digital Multimedia Broadcasting) 네트워크 등이 포함되나 이에 한정되지는 않는다. 하기에서, 적어도 하나의 라는 용어는 단수 및 복수를 포함하는 용어로 정의되고, 적어도 하나의 라는 용어가 존재하지 않더라도 각 구성요소가 단수 또는 복수로 존재할 수 있고, 단수 또는 복수를 의미할 수 있음은 자명 하다 할 것이다. 또한, 각 구성요소가 단수 또는 복수로 구비되는 것은, 실시예에 따라 변경가능하다 할 것이다. 적어도 하나의 사용자 단말은, CNC 공작기계를 이용한 데이터 수집 서비스 관련 웹 페이지, 앱 페이지, 프 로그램 또는 애플리케이션을 이용하여 가공할 객체의 정보를 이용하여 공구의 마모도나 각 공구에 가해지는 부 하 또는 에너지, 소요 시간 등의 예측 데이터를 출력하는 단말일 수 있다. 이때, 사용자 단말은, CNC 공 작기계를 사용하는 작업자의 단말일 수도 있지만, CNC 공작기계로 입력되거나 CNC 공작기계로부 터 얻은 데이터를 이용하여 인공지능 알고리즘을 학습시키는 프로그래머, 직원 및 관리자의 단말일 수도 있다. 이에, 사용자 단말은, 인공지능 알고리즘을 학습시키기 위한 데이터셋을 라벨링하여 입력하는 단말일 수도있고, 학습 및 테스트 결과에 따라 정확도가 높은 인공지능 모델을 선택하는 단말일 수도 있다. 여기서, 적어도 하나의 사용자 단말은, 네트워크를 통하여 원격지의 서버나 단말에 접속할 수 있는 컴퓨터 로 구현될 수 있다. 여기서, 컴퓨터는 예를 들어, 네비게이션, 웹 브라우저(WEB Browser)가 탑재된 노트북, 데 스크톱(Desktop), 랩톱(Laptop) 등을 포함할 수 있다. 이때, 적어도 하나의 사용자 단말은, 네트워크를 통해 원격지의 서버나 단말에 접속할 수 있는 단말로 구현될 수 있다. 적어도 하나의 사용자 단말은, 예 를 들어, 휴대성과 이동성이 보장되는 무선 통신 장치로서, 네비게이션, PCS(Personal Communication System), GSM(Global System for Mobile communications), PDC(Personal Digital Cellular), PHS(Personal Handyphone System), PDA(Personal Digital Assistant), IMT(International Mobile Telecommunication)-2000, CDMA(Code Division Multiple Access)-2000, W-CDMA(W-Code Division Multiple Access), Wibro(Wireless Broadband Internet) 단말, 스마트폰(Smartphone), 스마트 패드(Smartpad), 타블렛 PC(Tablet PC) 등과 같은 모든 종류의 핸드헬드(Handheld) 기반의 무선 통신 장치를 포함할 수 있다. 수집 서비스 제공 서버는, CNC 공작기계를 이용한 데이터 수집 서비스 웹 페이지, 앱 페이지, 프로그램 또 는 애플리케이션을 제공하는 서버일 수 있다. 이때, 수집 서비스 제공 서버는, 적어도 하나의 CNC 공작기 계로 입력되는 입력 데이터, 가공될 객체가 인입된 후 CNC 공작기계에서 측정되는 각 공구 등의 상태 데이터, 제품 퀄리티를 측정하는 측정 데이터를 수집하여 매핑하여 저장하는 서버일 수 있다. [입력 데이터-상 태 데이터-측정 데이터] 간 매핑을 한 후 인공지능 알고리즘을 학습시킬 만큼 충분히 큰 수의 데이터셋 (DataSet)이 생성되면, 수집 서비스 제공 서버는 적어도 하나의 인공지능 알고리즘을 모델링하고 학습 및 테스트를 거쳐 정확도가 높은 인공지능 알고리즘을 선정할 수 있다. 선정된 인공지능 알고리즘으로, 수집 서비 스 제공 서버는 입력 데이터를 질의로 넣었을 때 가공 과정의 시간과 같은 상태 데이터나, 최종 제품의 가 공 상태나 거칠기(조도) 등과 같은 측정 데이터를 출력함으로써 데이터 예측이나 공구의 고장시기 등을 예측가 능한 서버일 수 있다. 이때, 예측에 오류가 발생하는 경우 수집 서비스 제공 서버는 사용자 단말로 부터 오류 원인 및 업데이트된 [입력 데이터-상태 데이터-측정 데이터]를 입력받고 재학습을 실시하는 서버일 수 있다. 여기서, 수집 서비스 제공 서버는, 네트워크를 통하여 원격지의 서버나 단말에 접속할 수 있는 컴퓨터로 구현될 수 있다. 여기서, 컴퓨터는 예를 들어, 네비게이션, 웹 브라우저(WEB Browser)가 탑재된 노트북, 데스 크톱(Desktop), 랩톱(Laptop) 등을 포함할 수 있다. 적어도 하나의 CNC 공작기계는, CNC 공작기계를 이용한 데이터 수집 서비스 관련 웹 페이지, 앱 페이지, 프로그램 또는 애플리케이션을 이용하여 [입력 데이터-상태 데이터-측정 데이터]를 데이터 수집 서비스 제공 서 버의 데이터베이스에 저장하는 장치일 수 있다. 이때, 입력 데이터는 사용자 단말로부터 입력된 CAD 및 CAM 데이터일 수 있고, 상태 데이터는 CNC 공작기계로부터 수집된 각 공구나 사용한 전력량 등의 데이 터일 수 있고, 측정 데이터는 제품의 퀄리티나 상태를 측정한 데이터일 수 있다. 여기서, 적어도 하나의 CNC 공작기계는, 네트워크를 통하여 원격지의 서버나 단말에 접속할 수 있는 컴퓨 터로 구현될 수 있다. 여기서, 컴퓨터는 예를 들어, 네비게이션, 웹 브라우저(WEB Browser)가 탑재된 노트북, 데스크톱(Desktop), 랩톱(Laptop) 등을 포함할 수 있다. 이때, 적어도 하나의 CNC 공작기계는, 네트워크 를 통해 원격지의 서버나 단말에 접속할 수 있는 단말로 구현될 수 있다. 적어도 하나의 CNC 공작기계는, 예를 들어, 휴대성과 이동성이 보장되는 무선 통신 장치로서, 네비게이션, PCS(Personal Communication System), GSM(Global System for Mobile communications), PDC(Personal Digital Cellular), PHS(Personal Handyphone System), PDA(Personal Digital Assistant), IMT(International Mobile Telecommunication)-2000, CDMA(Code Division Multiple Access)-2000, W-CDMA(W-Code Division Multiple Access), Wibro(Wireless Broadband Internet) 단말, 스마트폰(Smartphone), 스마트 패드(Smartpad), 타블렛 PC(Tablet PC) 등과 같은 모든 종류의 핸드헬드(Handheld) 기반의 무선 통신 장치를 포함할 수 있다. 도 2는 도 1의 시스템에 포함된 수집 서비스 제공 서버를 설명하기 위한 블록 구성도이고, 도 3 및 도 4는 본 발명의 일 실시예에 따른 CNC 공작기계를 이용한 데이터 수집 서비스가 구현된 일 실시예를 설명하기 위한 도면 이다. 도 2를 참조하면, 수집 서비스 제공 서버는, 수신부, 분류부, 추출부, 생성부, 전송 부, 빅데이터화부, 오류 검증부, 개인정보 보호부를 포함할 수 있다. 본 발명의 일 실시예에 따른 수집 서비스 제공 서버나 연동되어 동작하는 다른 서버(미도시)가 적어도 하 나의 사용자 단말, 적어도 하나의 CNC 공작기계, 및 적어도 하나의 정보제공 서버로 CNC 공작기 계를 이용한 데이터 수집 서비스 애플리케이션, 프로그램, 앱 페이지, 웹 페이지 등을 전송하는 경우, 적어도 하나의 사용자 단말, 적어도 하나의 CNC 공작기계, 및 적어도 하나의 정보제공 서버는, CNC 공 작기계를 이용한 데이터 수집 서비스 애플리케이션, 프로그램, 앱 페이지, 웹 페이지 등을 설치하거나 열 수 있 다. 또한, 웹 브라우저에서 실행되는 스크립트를 이용하여 서비스 프로그램이 적어도 하나의 사용자 단말 , 적어도 하나의 CNC 공작기계, 및 적어도 하나의 정보제공 서버에서 구동될 수도 있다. 여기 서, 웹 브라우저는 웹(WWW: World Wide Web) 서비스를 이용할 수 있게 하는 프로그램으로 HTML(Hyper Text Mark-up Language)로 서술된 하이퍼 텍스트를 받아서 보여주는 프로그램을 의미하며, 예를 들어 넷스케이프 (Netscape), 익스플로러(Explorer), 크롬(Chrome) 등을 포함한다. 또한, 애플리케이션은 단말 상의 응용 프로 그램(Application)을 의미하며, 예를 들어, 모바일 단말(스마트폰)에서 실행되는 앱(App)을 포함한다. 이하 도 2를 설명하기 이전에 CNC 공작기계의 기본개념을 설명하기로 한다. 이하에서 설명된 것들은 도 2에서 중복하여 설명하지 않는다. 공작기계(Mother Machine)란 기계를 만드는 데에 활용되는 기계로, 일반 기계 산업뿐만 아니라 자동차, 조선, 우주항공, IT, 반도체 디스플레이 등과 같은 다양한 수요 산업에서도 활용되어 제품의 품질에 큰 영향을 미친다. 이로 인해 공작기계를 생산하는 공작기계 산업이 전 산업 분야의 발전에 있어서 중요한 역할을 하는 동시에 한 국가의 산업 수준을 평가할 수 있는 중요한 척도의 의미를 가지고 있다고 할 수 있다. CNC 공작기계 는 CNC 선반, 머시닝센터, CNC 연삭기, 동시 5축 제어 머시닝센터, 복합가공기 등에 이르기까지 다양한 기능 및 성능을 보유하고 있는 공작기계로 발전하게 되었고 수요 산업의 국제 경쟁력 제고에도 상당 부분 기여했다. CNC 시스템이란 일반적으로 수치제어장치를 의미하며, 수치 입력 정보를 처리해 공작기계의 위치와 속도, 스핀 들 회전 등과 같은 기능을 자동으로 제어하는 방법을 NC(Numeric Control)라고 하고, NC에 마이크로 컴퓨터가 내장된 NC 컨트롤러를 CNC(Computerized Numeric Controller, 컴퓨터 수치 컨트롤러)라고 칭한다. CNC 시스템은 CNC 장치, 서보·스핀들 모터 및 드라이브로 구성되어 있는데, 이들 기기 간의 상호 보환성이 구 동에 영향을 미친다. CNC 시스템은 CNC 공작 기계의 두뇌 역할을 하는 CNC 선반, 머시닝센터, CNC 연삭기 등에 적용되는 핵심 요소로 공작기계 성능에 있어 매우 중요하다. CNC 시스템은 선반, 밀링머신, 머시닝센터, 다기 능 복합가공기, 방전가공기, 레이저가공기 등과 같은 공작기계의 동작을 가공 프로그램을 통해 생성시키고 구동 및 정밀 이송 제어 또한 수행한다. 이러한 특성은 CNC 시스템이 원하는 형상을 자유롭게 가공하는 일련의 소프 트웨어 및 하드웨어로 구성되어 있는 제어 장치 시스템임을 의미한다. CNC 시스템은 크게 NCK(Numerical Control Kernel, 수치 제어 커널), HMI(Human Machine Interface, 인간 기계 상호작용), PLC(Programmable Logic Controller, 프로그래밍 가능 로직 컨트롤러)를 포함하고 있는 CNC(Computer Numerical Control, 컴퓨터 수치 제어)부와 서보 드라이브 및 모터, 스핀들 드라이브 및 모터로 나뉘어 구성되어 있다. 이 중 CNC는 코드화된 데이터를 포함하는 가공 프로그램(NC 파트 프로그램)을 통해 공 작기계의 기능과 모션을 제어하는 고부가가치 장치이며, 공작물 또는 공구의 모션, 피드, 절삭 깊이, 속도와 같 은 입력 파라미터(매개변수), 스핀들 모터와 절삭유의 작동 및 정지 기능을 제어한다. NCK는 CNC의 핵심 부분으로, 사용자가 작성한 가공 프로그램을 해석해 축 동작 명령으로 변환시키고, 위치 제어, 오차보상 등을 수행함으로써 서보 시스템을 제어해 공작물 가공이 이뤄지도록 지원한다. HMI의 경우 기 계(제어기)와 작업자 간의 상호작용이 원활하게 이뤄지도록 조정하는 인터페이스로, 기계 조작 명령, 기계 상태 의 화면 표시, 가공 프로그램 작성, 외부와의 통신 등을 수행한다. PLC는 공구 및 공작물의 교환 제어와 기계 입출력 신호처리 등과 같은 시퀀스 제어를 담당하며, 축 동작을 제외한 각종 보조적인 기계 동작을 제어한다. 서보 모터 및 드라이브는 CNC의 지령에 따라 공작기계의 축이 정확한 위치로 이송되도록 하는 역할을 수행하는 장치이며, 스핀들 모터 및 드라이브는 공작물 또는 공구를 정·역방향으로 회전시키고, 회전 속도를 제어해 절 삭에 필요한 동력을 공급한다. 상술한 개념을 기반으로 도 2를 참조하면, 입력부는, CAD(Computer Aided Design) 및 CAM(Computer Aided Manufacturing)으로부터 입력 데이터를 수신할 수 있다. CNC 공작기계에서의 작업은 모델링 데이터 파일 을 선택하는 것에서 시작된다. 모델 디자이너(사용자)가 만든 모델링 데이터를 입력받아 자동으로 분석하여 소 재의 크기를 얻어내고 이를 바탕으로 소재의 실제 배치를 손쉽게 할 수 있도록 모델의 자동분석과 소재 좌표계 세팅을 진행할 수도 있다. 실제 소재의 배치를 확인한 후 작업 테이블을 참고하여 마우스로 소재를 드래그하면 실제 소재와 동일한 배치가 가능하도록 구현할 수 있다. CNC 공작기계에서 이 소재에 대해 측정작업을 수 행하면 화면에 배치된 위치에 따라 실제 소재에서의 위치를 감안하여 소재 좌표계가 자동으로 세팅되도록 설치할 수도 있다. 모델분석이 완료되면 CAM 연산을 수행하고, 좌표계 세팅을 하면 CAM 연산 결과에 대해 프로그램을 자동으로 작 성하여 NC로 전송하여 가공을 시작할 수 있다. 가공 중 다음 CAM 연산 결과가 나오면 다시 프로그램을 자동으 로 가동하여 진행중인 가공이 완료된 후 쉼 없이 가공이 시작되도록 하여 장비 가동률도 높일 수 있다. 일반적 인 금형 가공 공정에는 모델 디자이너, CAM 기술자, NC 조작자, EDM 기술자 등 다수의 인력이 필요하고, 각 작 업자마다 숙련도가 달라 작업에 소요되는 시간이나 품질이 달랐다. 상술한 스마트 표준 공정을 도입하면 언제 나 동일한 가공 품질과 생산성을 확보하고 예측 및 관리가 가능한 생산 계획을 수립할 수 있고, 가공 자동화를 구현하여 기술인력을 경쟁력있는 기술 개발에 집중시킴으로써 더 높은 가공 효율과 생산성을 통한 수익성 향상 의 돌파구가 될 수 있다. 상술한 바와 같이 CAD는 가공될 객체의 형상, 크기, 깊이, 높이 등의 데이터이고, CAD는 CAM을 통하여 NC 데이 터로 변환되어 CNC 공작기계로 입력되므로, CNC 공작기계는 이 데이터를 사용자 단말 등으로부 터 수신한 후, CNC 공작기계에 입력된 입력 데이터들을 PLM부로 전달하도록 입력받을 수 있다. 도 3 의 (a)에는 종래기술에 따른 CNC 공작기계의 데이터 흐름을 도시하는데, 이때에는 CAD/CAM의 데이터, 즉 입력 데이터와 출력 데이터인 측정 데이터를 수집하지 못했기 때문에, [입력-가공-출력] 데이터인 [입력 데이터-상태 데이터-측정 데이터]가 모두 수집되지 못했다. 이에, (b)와 같이 본 발명의 일 실시예에서는 각 프로세스별로 모두 데이터를 수집하고 매핑하여 저장함으로써 인공지능 알고리즘을 학습할 학습용 데이터, 즉 데이터셋 (DataSet)을 축적할 수 있도록 한다. 에지(Edge) 모니터링부는, 입력 데이터에 의해 CNC(Computer Numerical Control) 공작기계가 구동되면, 에지컴퓨팅(Edge Computing)을 이용하여 CNC 공작기계의 상태 데이터를 수집할 수 있다. 에지 모니터링부 는, CNC 공작기계와 연결된 에지컴퓨터(EdgeComputer)을 이용하여 상태 데이터를 수집할 수 있다. 최근 급속히 확산되고 있는 IoT 기기로 인해 기기-서버 간 데이터 통신량이 폭증하면서 클라우드 컴퓨팅에서의 지연율 발생과 일시적 네트워크 중단 등 기술적 한계가 표출되기 시작했고, 이를 해결하기 위한 기술로 에지컴 퓨팅이 등장했다. 에지컴퓨팅은 클라우드(Cloud) 컴퓨팅과 대조적 개념의 컴퓨팅 방식으로, 클라우드나 중앙이 아닌 네트워크 종단(Edge)에서 컴퓨팅이 이뤄지는 것을 의미한다. 에지컴퓨팅은 중앙서버에 의존하지 않고 IoT 기기 자체 또는 물리적으로 근거리 위치한 에지 서버를 주 매개로 하여 데이터 분석과 기기 동작이 이뤄지는 방 식이다. 이에, 에지컴퓨팅이란, CNC 공작기계와 가까운 거리의 컴퓨팅 자원을 활용함으로써 경량형의 CNC 공작기계 를 통하여 많은 양의 데이터 처리가 가능하다. 각각의 에지 서버는, 데이터를 공유하며 CNC 공작기계 의 요청에 실시간 응답 및 분산 컴퓨팅이 가능하여 네트워크 통신량을 분산할 수 있으며 빠른 응답의 서비 스가 가능하므로, 클라우드 데이터의 전송량을 및 병목 현상을 효율적으로 줄일 수 있다. 또, 데이터에 대한 보안을 향상할 수 있는데 중앙 집중식 네트워크 구조는 모든 데이터가 클라우드 센터로 전송되는 반면 분산식 에지 컴퓨팅 방식은 민감한 정보 및 데이터를 에지 서버에서 바로 처리하면 다수의 CNC 공작기계가 동시에 위협받는 확률을 낮출 수 있으며 필요한 정보만 암호화하여 처리할 수 있으며 중앙서버가 다운되더라도 에지 서 버에서 서비스할 수 있어 네트워크의 안정성도 보장받을 수 있다. 물론, 일반적인 클라우드 플랫폼을 이용하는 것을 배제하는 것은 아니다. <IIoT 에지 디바이스> 공장에서 운영되는 CNC 공작기계들은 자체적으로 생성하는 데이터를 다양한 방법을 통해 외부로 전송한다. 본 발명의 일 실시예에서는 예를 들어 IIoT(Industrial Internet of Things) 에지 디바이스가 OPC-UA(Open Platform Communication Unified Architecture)와 FOCAS(FANUC Open CNC API Specifications)는 라이브러리를 이용하여 CNC 공작기계의 데이터를 수집할 수 있다. 이때, OPC-UA는 IEC 62541 표준에 의해 명세되어 있 으며 서로 다른 산업용 자동화 장치간의 신뢰성 있고 안전하며 상호호환적인 데이터 교환을 가능하게 하는 기술 이다. OPC-UA는 이종 기기 간 표준화된 데이터 교환을 위해 정보 모델링의 개념을 채택하고 있으며, OPC-UA 정보 모델 은 속성(Attributes)과 참조(References)를 갖는 노드들(Nodes)로 정의된다. 참조는 노드들 간 연결을 표현한 다. 노드는 노드클래스(NodeClass)의 인스턴스를 지칭하며 노드클래스는 노드의 목적과 속성을 특징 짓는다. OPC-UA 표준은 기본적으로 객체(Object), 변수(Variable), 메소드(Method) 등과 같은 몇 개의 중요한 노드클래 스들을 정의하고 있다. 서버가 제공하는 객체들과 관련 정보들의 집합을 주소공간(Address Space)라고 하며 OPC-UA에서는 데이터 항목을 포함하는 계층적 구조의 주소 공간을 탐색하고 데이터 항목을 읽고 쓰거나 값의 변화를 모니터링 하기 위한 기능을 제공하고 있다. IIoT 에지 디바이스에서 수집한 데이터는 데이터의 양이 매우 많기 때문에 전송하는 네트워크 비용과 클라우드 의 저장 능력 및 분석능력을 고려하여 데이터를 필터링하여 클라우드 전송할 수 있다. IIoT 에지 디바이스에서 클라우드로의 데이터 전송은 TTP 방식으로 수행한다. IIoT 에지 디바이스와 클라우드 간의 통신방법은 전송 성 능, 보안성 등을 고려하여 kafka, OPC UA 등 다양한 방법으로 구성할 수 있으나 본 발명의 일 실시예에서는 HTTP 방식을 이용할 수 있다. IIoT 에지 디바이스는 CNC 공작기계로부터 각종 CNC 데이터를 OPC UA, FOCAS 라이브러리로 수집하고 이를 클라우드로 전송하는 역할을 수행한다. 이때 네트워크 비용 및 클라우드 분 석 대상 데이터 범위를 줄이기 위해 사전에 정의된 규칙에 의해 데이터를 필터링할 수 있다. 예를 들어, CNC 공작기계의 정지상태 유무, 프로그램 가동상태 유무, 툴 사용 유무, 모니터링 대상 이벤트 발생 유무 등의 규칙을 적용하운영에 의미있는 데이터만을 수집할 수 있다. 수집가능 데이터는 예를 들어, 장비 가동율, 장비 일가동 시간 등 장비들의 실시간 모니터링은 물론 스핀들 로 드의 한계값 분석, 특정 설비의 구간별 부하 분석, 스핀들 로드 적산 부하 분석을 수행할 수 있다. 알람 발생 이력 조회와 가공 설비 현황 조회도 가능할 수 있다. 상태 데이터는, CNC 공작기계의 상태(Status), 예를 들어, 가동, 정지, 알람 등을 포함할 수 있고, 스핀들 로드 그래프도 포함할 수 있다. CNC 공작기계의 가 동률인 운영률(Operating Rate, %)도 포함할 수 있고, Feed Speed와 같은 회전 스피드 데이터를 수집할 수도 있 다. IIoT 에지 디바이스는 초기 동작 시 클라우드에 저장되어 있는 암호화된 환경 설정 파일을 다운로드 받는다. 환경 설정 파일에는 수집할 CNC 공작기계의 IP주소 및 포트번호, 사용자 이름 및 비밀번호가 포함되며, CNC 공작기계로부터 수집한 CNC 데이터를 유효 데이터 산출을 위한 기본 알고리즘을 적용하여 그 용도와 타입에 맞게 클라우드로 전송할 수 있도록 구현할 수 있다. 수집하는 CNC 데이터는 크게 실시간 데이터와 상태 데이터로 나뉘며, 실시간 데이터에 대한 추가 및 변경은 최적화 문제 등으로 코드를 직접 변경하여 수행하며, 상태 데이터는 IIoT 에지 디바이스 내부의 설정 파일에서 변경할 수 있다. 예를 들어, IIoT 에지 디바이스는 CNC 공작기계로부터 OPC UA 또는 FOCAS로 전송받은 데이터를 종류에 따 라 분류(Data Collector)한 다음 JSON 형식으로 바꾸어(Data Converter) HTTP Protocol을 사용하여 클라우드로 전송할 수 있다. 웹서버(Web Server)는 사용자 편의를 제공하기 위한 것으로, CNC 공작기계로 파일 전송 및 다운로드, IIoT 에지 디바이스의 상태, 상태 데이터 파일 다운 및 전송 등의 기능을 제공할 수 있다. 시간 동기화 모듈(Time Synchronizer)은 1 초에 수 십 개의 데이터를 받아오는 실시간성을 보장하기 위해 시간 동기 화를 수행하는 모듈로, 서버로부터 정확한 시간을 받아 시간값을 파일에 쓰는 일을 수행할 수 있다. OPC-UA는 기본적으로 [클라이언트-서버] 구조를 가지며, 정보를 제공하는 쪽이 서버의 역할을 하고, 정보를 소비하는 쪽 이 클라이언트 역할을 한다. 클라이언트와 서버는 모두 동일한 OPC-UA 스택을 가지며, 서비스를 이용하고 싶은 클라이언트는 언제든지 해당하는 OPC UA 서버의 API를 호출하여 원하는 서비스 또는 정보를 이용할 수 있다. 이를 위해서 CNC 공작기계에서 OPC UA Server로 제공되는 각종 데이터, 예를 들어 Spindle Load, Feed Override, 각종 축 정보, 실행 G-code 등의 데이터를 추출할 수 있다. 현재 지원되는 OPC UA Server는 SIEMENS사의 CNC 모델이 기준이다. 이에, OPC UA 클라이언트는 IIoT 에지 디바이스 상에서 구현되고, OPC UA 서버는 CNC 공작기계 측에서 동작하도록 구현될 수도 있다. OPC UA 클라이언트 모듈로부터 요청받은 데이 터는 OPC UA 서버에서 제공되며, IIoT 에지 디바이스는 관리 대상이 되고 있는 CNC 공작기계로부터 각종 데이터를 수집하여 서버로 전송한다. FOCAS(FANUC Open CNC API Specifications)는 FANUC사의 NC(Numeric Controller)에서 데이터를 수집하기 위한 표준 프로토콜이다. FANUC의 NC는 많은 공작기계 회사에서 전 세계적 으로 사용되고 있다. FOCAS를 통해 FANUC의 대부분 CNC 정보에 접근할 수 있다. <실시간 모니터링> CNC 공작기계의 실시간 가동 모니터링이 가능할 수 있는데 이는, 사용자 단말, 예를 들어, PC와 모바 일 앱을 통해 실시간으로 CNC 공작기계의 가동 상태를 모니터링하고, 운전 이력의 저장 및 가동 효율 통계 기능을 제공하여 현업의 가공 장비의 운용 효율 향상과 생산성 향상을 제공할 수도 있다. 이때, 모니터링은 장 비의 실시간 가동 상태, 가동 효율 및 가공 이력을 조회할 수 있으며, 모니터링된 상태를 데이터베이스로 저장 하여 관리할 수도 있다. CNC 공작기계의 가동 상태는 실시간으로 확인이 가능하도록 가공 프로그램 번호, 가공 프로그램 내용, 이송속도, 스핀들 회전속도, 가공 좌표, 현재의 공구 번호, 알람 메시지 등을 실제 기계의 컨트롤러 화면에서 볼 수 있는 정보들을 표시할 수 있다.이렇게 구체적인 정보를 실시간으로 표시함으로써 작업자는 현재의 기계 가동 상태를 정확하고 구체적으로 확인 할 수 있다. 가동 모니터링을 통해 데이터베이스에 저장되는 정보의 종류는 시/분/초 단위로 구분된 운전 모드 와 알람 번호 및 메시지로 구성된 운전 이력 데이터베이스와 자동 운전 상태에서 실행된 가공 프로그램의 이름 과 주석문, 가공 시작 및 종료 시간이 기록된 가공 이력 데이터베이스일 수 있다. 저장된 데이터를 기준으로 각 장비별 가공 효율을 산출하며, 특정 시점 및 기간 동안에 실행된 가공 프로그램 이력을 조회 할 수 있다. 가공 효율의 통계를 통해 각 장비별로 운전 현황을 분석할 수 있으며, 원인 개선을 통해 장비의 가동률을 향상 시키는 결과를 기대할 수 있다. 모니터링을 하는 경우 CNC 공작기계가 다수인 상황에서 또 여러 공장에 존재하는 상황에서 장비 운용 상태 파악에 따른 다음 작업의 사전 준비 시간 단축, 장비 이상의 경우 모바일 앱을 통한 알림 수신 후 관계자의 빠 른 후속 조치, 공장 내·외부에서의 실시간 장비 가동 상태 확인 등으로 인해 장비 가동률을 향상시킬 수 있다. 출력부는, CNC 공작기계에서 가공된 제품이 출력되면, 제품을 측정(Inspection)한 측정 데이터를 수 집할 수 있다. 이때, 입력 데이터, 상태 데이터 및 측정 데이터의 수집은 사이클(Cycle)에 따라 수집되는 시간 과 속도가 서로 다를 수 있다. 입력 데이터 및 측정 데이터는 입력 데이터와 출력(측정) 데이터이므로 입력 시 또 출력 시에 1 회성으로 수집되지만, CNC 공작기계에 가공할 객체가 인입되고 입력 데이터가 입력된 후 가공 단계에서는 가공이 시작하면서 끝날 때까지 계속하여 데이터를 수집할 수 있으므로 가공하는 시간 동안에 는 실시간으로 수집할 수 있다. PLM(Product Lifecycle Management)부는, 입력 데이터, 상태 데이터 및 측정 데이터를 매핑하여 데이터베 이스에 저장할 수 있다. 이때, 입력 데이터는, ① 가공할 객체의 형상정보, 가공면적, 가공물의 크기, 가공물 의 밀도에 따른 무게를 포함하는 공간정보(Geometry Information) 데이터, ② 이송간격(Stepover) 및 가공깊이 (Depth)를 포함하는 가공전략(Cutting Strategy), ③ 공구의 길이, 크기 및 재질을 포함하는 공구 데이터(Tool Information), ④ 가공할 객체의 재료 데이터(Material Information), ⑤ CNC 공작기계의 운용 사이클 (Cycle)을 포함하는 머시닝 파라미터(Machining Parameter), ⑥ 가공할 객체의 가공 순서를 포함하는 프로세스 시퀀스(Process Sequence)를 포함할 수 있다. 상태 데이터는, ① CNC 공작기계의 모드(Mode) 및 운영상황을 포함하는 머신 컨디션(Machine Condition), ② CNC 공작기계 내 스핀들(Spindle)에 걸리는 부하량인 스핀들 로드(Spindle Load), ③ 가공할 객체를 제 품으로 가공하는데 CNC 공작기계에서 사용되는 전력량인 에너지(Energy), ④ 스핀들의 속도인 스핀들 속도 (Spindle Speed), ⑤ CNC 공작기계 내 피드(Feed)의 속도인 피드 속도(Feed Speed)를 포함할 수 있다. 측정 데이터는, ① CNC 공작기계 내 공구의 마모도(Wear Information)와, ② CNC 공작기계에서 가공 된 제품의 조도(Roughness), ③ 피로강도(Fatigue Strength), ④ 인장강도(Tensil Strength) 및 ⑤ 공차 (Tolerance)를 포함할 수 있다. PLM부는, 입력 데이터, 상태 데이터 및 측정 데이터를, CNC 공작기계를 운용(Operating)하는 운용파 일 이름으로 매핑하여 저장할 수 있고, 이는 표 1과 같다. 이때, CAD/CAM은 입력 데이터, CNC-Edge는 상태 데 이터, Inspection은 측정 데이터이다. 표 1 CAD/CAM CNC-Edge Inspection Geometry Information Machine Condition Roughness Cutting strategy Spindle Load Fatigue Strength Tool Information Energy Tensile Strength Material Information Spindle Speed Tolerance Machining Parameter Feed Wear Information Process Sequence PLM부는, CNC 공작기계로 인입되는 가공할 객체의 재료 및 CNC 공작기계 내 포함된 적어도 하나 의 공구의 정보를 입력하면, 객체의 재료 및 공구의 정보에 기 매핑되어 저장된 스핀들 로드, 스핀들 속도 및 피드 속도를 추출하여 디스플레이할 수 있다. 이때의 데이터들은 입력된 데이터와 유사 또는 동일한기 매핑되 어 저장된 데이터를 꺼내어 보여주는 것으로 기존 데이터들을 이용하여 현재 데이터를 추측해볼 수 있는 자료로 사용될 수 있다. 예를 들어, [입력 데이터-상태 데이터-측정 데이터]가 [X-Y-Z]였고, 질의할 현재 데이터가 X라면, 상태 데이터가 Y, 측정 데이터가 Z인 것을 보여주는 것이다. 만약 공구에 대해 데이터베이스를 만들어두 면 각 공구별 절삭시간을 기록하고 장비의 사용시간을 관리할 수 있다. 이러한 관리로 얻을 수 있는 이점은 가 공작업 후 일일이 공구 측정을 통해 조사하지 않아도 공구 교체 주기를 제시할 수 있다는 것이다. 또한, 공구 의 길이를 알 수 있고 현재 장비의 좌표를 알기 때문에 실시간 충돌감지 및 방지기술을 구현할 수 있다. 물론, 후술되는 것과 같이 각 데이터가 누적되어 빅데이터를 이루고, 빅데이터를 이용하여 인공지능 알고리즘을 모델 링하는 경우 예측도 가능해지는데, 이는 CNC 공작기계의 컴퓨팅 자원이나 네트워킹 자원이 부족한 경우 후 술할 데이터 수집 서비스 제공 서버에서 수행하게 된다. 물론, CNC 공작기계의 컴퓨팅 자원이나 네 트워킹 자원이 인공지능 알고리즘을 실시간으로 처리할 수 있을 만큼 충분한 경우에는 CNC 공작기계에서 직접 처리할 수도 있으며, 이 경우에는 후술할 데이터 수집 서비스 제공 서버는 구현 실시예에 따라 삭제 될 수도 있다. PLM부는, 객체의 재료 및 공구의 정보를 이용하여 공구의 마모도 및 제품의 조도를 예측할 수 있다. 이때 의 PLM부는 후술하는 인공지능 알고리즘을 학습 및 테스트하여 모델링이 완료된 경우에 예측 데이터를 출 력할 수 있다. 물론, 재료나 공구의 정보 뿐만 아니라 표 1과 같이 입력되었던 데이터들이 모두 학습 및 테스 트된 경우 표 1의 데이터들을 이용하여 예측 데이터를 출력할 수도 있다. 한편, 데이터 수집 서비스 제공 서버는, 데이터베이스에 매핑되어 저장된 입력 데이터, 상태 데이터 및 측 정 데이터를 포함하는 로우 데이터(Raw Data)를 병렬 및 분산하여 저장하고, 로우 데이터 내에 포함된 비정형 (Unstructed) 데이터, 정형(Structured) 데이터 및 반정형 데이터(Semi-structured)를 정제하고, 메타 데이터 로 분류를 포함한 전처리를 실시하여 빅데이터를 구축할 수 있다. 데이터 수집 서비스 제공 서버의 인공 지능부(미도시)는, 빅데이터를 이용하여 학습 데이터셋(DataSet) 및 테스트 데이터셋을 생성하고, 적어도 하나 의 인공지능 알고리즘에 질의(Query)로 입력하여 학습 및 테스트를 거쳐 모델링할 수 있으며, 후술할 실시예에 따른 예측이 가능해진다. <표면거칠기 예측모델> 가공제품의 품질을 측정하는 시스템은 품질관리를 위해 필수적으로 갖추어야할 시스템임에도 불구하고 생산속도 에 비해 지나치게 긴 측정시간으로 인해 기업의 생산성 높이는데 상당한 부담으로 작용하고 있다. 이에 따라, 본 발명의 일 실시예에서는, 딥러닝 기술 기반으로 표면거칠기를 예측하는 가공품질예측모델을 모델링할 수 있 다. 우선, 학습용 가공 데이터(학습 데이터셋)를 만들어야 하는데, 예를 들어, 두산공작기계 Mynx 5400을 사용 하여 가공을 수행하고, 소재는 AL6061-T6, 공구는 Alu-cut의 직경 8mm 3날의 엔드밀을 사용하여 가공을 한다고 가정하자. 가공을 위한 파라미터는 예를 들어, 날당이송량, WOC(Width of Cut), DOC(Depth of Cut)을 선정하 여 가공을 수행하고 가공된 결과의 표면거칠기는 Mitutoyo사의 SJ-210을 사용하여 측정하였다고 가정한다. 예측모델의 입력파라미터는 날당이송량, WOC, DOC, Load Information, MRR(Material Removal Rate), Tool 사용 회 차를 선정하여 6 개로 구성할 수 있고, 표면거칠기를 출력 파라미터로 구성할 수 있다. 여기서 Load Information은 Fanuc 0i 컨트롤러에서 수집된 데이터라고 가정한다. 데이터셋 중 학습용으로 N%, 테스트용으로 M%, 검증용(Validation)으로 Y%를 나누어두고 은닉 층, 노드 수를 정한 후 각 은닉 층에 교차 적용하여 비교할 수 있다. 인공지능 모델은 BPNN(Back Propagation Neural Network)를 이용할 수 있고, 예측모델 학습의 트레 이닝 알고리즘은 traingd, traingdm, traingdx, trainscg, traincgb, traincgf, traincgp, trainoss, trainrp 등을 비교할 수 있고, 활성함수(Activation Function)는, 예를 들어, Relu, Tanh, Linear의 3종을 사용하여 비 교할 수 있다. 이 중 가장 정확도가 높은 예측모델을 선정할 수 있고, 이러한 예측모델을 이용하는 경우 제조 공장 내 생산성에 영향을 주지 않는 측정시스템을 구축할 수 있으며, 작업자에게 작업명령의 기준을 제시해줄 수도 있다. <스핀들 고장예측모델> 인공지능 모델을 개발하는 단계는 상술한 바와 같이 데이터 수집, 데이터 탐색, 데이터 전처리, 인공지능 모델 링으로 구분할 수 있다. 각 과정은 인공지능 모델링에 필수적이며, 앞 단계에서 문제가 발생하면 인공지능 모 델 성능에 영향을 주기 때문에 다음 단계를 진행하기 이전에 현재 단계를 충분히 검토하는 과정이 필수적이다. 첫 번째 단계로 가속도 센서를 이용한 데이터 수집을 할 수 있다. 스핀들의 고장 진단용 인공지능 모델링을 위 해 시간 변화에 따라 스핀들에서 발생하는 진동 변화를 수집할 수 있다. 데이터 수집은 스핀들이 설정한 RPM에 수렴하고 상태가 안정되면, 3축 가속도 센서를 사용하여 실시간으로 3축의 진동 변화를 측정할 수 있다. 샘플링 속도가 높을수록 시간이 지남에 따라 저장되는 수집 데이터의 양이 급격하게 증가하기 때문에 데이터 수 집 주기 및 파일 저장 규칙을 데이터 수집 전에 명확하게 정하는 것이 중요하다. 실제 현장에서는 동일한 환경 에서 데이터를 수집하더라도 데이터의 특성이 다를 수 있기 때문에, 단일 환경에서 데이터를 오래 수집하는 것 대신 환경을 변경하면서 여러 번 반복하여 데이터를 수집하는 것이 바람직할 수 있다. 인공지능 모델의 성능을 평가하기 위해서는 학습, 검증, 테스트용 데이터를 분리해야 한다. 이와 같이 데이터를 추출하면 학습, 검증, 테스트용 데이터에 각각 유사한 패턴의 데이터가 포함될 수 있기 때문에 인공지능 모델링 과정에서는 정확도가 높게 나오지만, 새로운 데이터가 들어오면 정확도가 감소할 수 있다. 따라서 동일한 환경에서 수집한 데이터를 독립적으로 고려하여 학습, 검증, 테스트용 데이터로 분리함으로써, 학습, 검증, 테스트 과정에서 사용하는 데 이터의 독립성을 보장할 수 있다. 두 번째 단계는 데이터 탐색인데 진동 데이터는 데이터의 개수가 많으므로 전체 데이터를 시각화해서는 데이터 의 전체 흐름을 파악하기 어렵다. 이에, 시각화 과정에서 수집된 모든 데이터를 이용하지 않고 수집한 데이터 중 최댓값 및 최솟값을 시각화에 사용할 수 있다. 현장에서 발생하는 잡음은 외부의 충격이 센서나 케이블에 영향을 주거나 CNC 공작기계가 충분히 예열되지 않은 상태에서 발생할 수 있다. 다만, 학습 데이터에 잡 음이 포함되는 경우 인공지능 모델의 성능을 감소시킬 수 있으므로 데이터 전처리 과정에서 이를 제거해야 한다. 이에 따라 세 번째로 데이터 전처리 과정을 진행해야 하는데 데이터 전처리 과정은 다양한 종류의 센서 에서 수집한 원시 데이터(Raw Data)에서 불필요한 부분을 제거하거나 인공지능 모델에 적합한 형태로 데이터의 형태를 변환하는 등의 과정을 의미한다. 예를 들어, 이상치 제거를 위해 3-시그마룰을 적용할 수 있다. 3-시그마 룰이란 전체 데이터에서 3-시그마 (99.7%)를 벗어나는 데이터를 이상치로 판단하여 제거하는 것이다. 3축 센서에서 수집한 진동 데이터는 시계열 데이터이므로 해당 데이터를 인공지능 모델에 적합한 형태로 변환이 필요하다. 네 번째로는 인공지능 모델링인 데, 예를 들어 CNN을 이용하거나 시계열 데이터에 강한 특성을 보이는 LSTM을 이용할 수 있다. 다섯 번째로 검 증과정에서는 각 에포크(Epoch)마다 검증용 데이터를 이용해 인공지능 모델의 과적합 여부를 검증할 수 있다. 인공지능 모델 학습 및 검증 시간을 단축하기 위해 검증 손실(Validation Loss) 값을 모니터링하여 N 회 이상 검증 손실 값이 감소하지 않으면 학습 과정을 종료할 수 있다. 최종적으로 테스트 데이터를 이용해 정확도 및 혼동행렬(Confusion Matrix)을 통해 인공지능 모델의 성능을 검증할 수 있다. 스마트팩토리 내 기계의 고장을 정확하게 진단하여 고장으로 인한 오작동 및 공장 정지 상황에 빠르게 대처할 수 있고, 각 핵심 부품의 고장을 진단하거나 예측할 수 있게 된다. CNC 공작기계의 부품 중 하나인 스핀 들은 편심 불량 등이 발생하면 생산되는 공작품의 품질을 저하시키기 때문에 정확한 고장진단을 하는 것이 중요 하기 때문에, 가속도 센서를 통해 수집된 데이터를 전처리 후 분류(Classification) 문제에 주로 사용되는 인공 지능 모델을 학습하여 스핀들의 상태를 분류하는 정확도를 비교 분석하고 고장을 진단 및 예측할 수 있게 된다. 이하, 상술한 도 2의 수집 서비스 제공 서버의 구성에 따른 동작 과정을 도 3 및 도 4를 예로 들어 상세히 설명 하기로 한다. 다만, 실시예는 본 발명의 다양한 실시예 중 어느 하나일 뿐, 이에 한정되지 않음은 자명하다 할 것이다. 도 3을 참조하면, (a)는 일반적인 데이터 수집과정이고 (b)는 본 발명의 일 실시예에 따른 데이터 수집과정이다. (b)와 같이 입력 데이터, 출력(측정) 데이터를 함께 PLM부에서 수집하고 이를 표 1과 같이 매핑하여 데이터베이스에 저장함으로써 인공지능 알고리즘을 학습시키기 위한 학습용 데이터셋의 구축이 완료되 게 된다. 이를 위하여 도 4의 (a)와 같이 각 데이터를 수집하고 매핑하며, (b)와 같이 인공지능 알고리즘을 선 정하여 모델링을 수행한 후, (c)와 같이 새로 입력되는 입력 데이터를 질의로 입력함으로써 상태 데이터 및 측 정 데이터를 미리 확인할 수 있게 되고, (d) 더 나아가 예측도 가능하므로 미연에 가공을 준비할 수 있게 된다. 이와 같은 도 2 내지 도 4의 CNC 공작기계를 이용한 데이터 수집 서비스 제공 방법에 대해서 설명되지 아니한 사항은 앞서 도 1을 통해 CNC 공작기계를 이용한 데이터 수집 서비스 제공 방법에 대하여 설명된 내용과 동일하 거나 설명된 내용으로부터 용이하게 유추 가능하므로 이하 설명을 생략하도록 한다. 도 5는 본 발명의 일 실시예에 따른 도 1의 CNC 공작기계를 이용한 데이터 수집 시스템에 포함된 각 구성들 상 호 간에 데이터가 송수신되는 과정을 나타낸 도면이다. 이하, 도 5를 통해 각 구성들 상호간에 데이터가 송수 신되는 과정의 일 예를 설명할 것이나, 이와 같은 실시예로 본원이 한정 해석되는 것은 아니며, 앞서 설명한 다"}
{"patent_id": "10-2021-0115749", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "양한 실시예들에 따라 도 5에 도시된 데이터가 송수신되는 과정이 변경될 수 있음은 기술분야에 속하는 당업자 에게 자명하다. 도 5를 참조하면, CNC 공작기계의 입력부는, CAD(Computer Aided Design) 및 CAM(Computer Aided Manufacturing)으로부터 입력 데이터를 수신한다(S5100). 그리고, CNC 공작기계의 모니터링부는, 입력 데이터에 의해 CNC(Computer Numerical Control) 공작 기계가 구동되면, 에지컴퓨팅(Edge Computing)을 이용하여 CNC 공작기계의 상태 데이터를 수집하고 (S5200), CNC 공작기계의 출력부는 CNC 공작기계에서 가공된 제품이 출력되면, 제품을 측정 (Inspection)한 측정 데이터를 수집한다(S5300). CNC 공작기계의 PLM부는 입력 데이터, 상태 데이터 및 측정 데이터를 매핑하여 데이터베이스에 저장 한다(S5400). 상술한 단계들(S5100~S5400)간의 순서는 예시일 뿐, 이에 한정되지 않는다. 즉, 상술한 단계들(S5100~S5400)간 의 순서는 상호 변동될 수 있으며, 이중 일부 단계들은 동시에 실행되거나 삭제될 수도 있다. 이와 같은 도 5의 CNC 공작기계를 이용한 데이터 수집 서비스 제공 방법에 대해서 설명되지 아니한 사항은 앞서 도 1 내지 도 4를 통해 CNC 공작기계를 이용한 데이터 수집 서비스 제공 방법에 대하여 설명된 내용과 동일하거 나 설명된 내용으로부터 용이하게 유추 가능하므로 이하 설명을 생략하도록 한다. 도 5를 통해 설명된 일 실시예에 따른 CNC 공작기계를 이용한 데이터 수집 서비스 제공 방법은, 컴퓨터에 의해 실행되는 애플리케이션이나 프로그램 모듈과 같은 컴퓨터에 의해 실행가능한 명령어를 포함하는 기록 매체의 형 태로도 구현될 수 있다. 컴퓨터 판독 가능 매체는 컴퓨터에 의해 액세스될 수 있는 임의의 가용 매체일 수 있 고, 휘발성 및 비휘발성 매체, 분리형 및 비분리형 매체를 모두 포함한다. 또한, 컴퓨터 판독가능 매체는 컴퓨 터 저장 매체를 모두 포함할 수 있다. 컴퓨터 저장 매체는 컴퓨터 판독가능 명령어, 데이터 구조, 프로그램 모 듈 또는 기타 데이터와 같은 정보의 저장을 위한 임의의 방법 또는 기술로 구현된 휘발성 및 비휘발성, 분리형 및 비분리형 매체를 모두 포함한다. 전술한 본 발명의 일 실시예에 따른 CNC 공작기계를 이용한 데이터 수집 서비스 제공 방법은, 단말기에 기본적 으로 설치된 애플리케이션(이는 단말기에 기본적으로 탑재된 플랫폼이나 운영체제 등에 포함된 프로그램을 포함 할 수 있음)에 의해 실행될 수 있고, 사용자가 애플리케이션 스토어 서버, 애플리케이션 또는 해당 서비스와 관 련된 웹 서버 등의 애플리케이션 제공 서버를 통해 마스터 단말기에 직접 설치한 애플리케이션(즉, 프로그램)에 의해 실행될 수도 있다. 이러한 의미에서, 전술한 본 발명의 일 실시예에 따른 CNC 공작기계를 이용한 데이터 수집 서비스 제공 방법은 단말기에 기본적으로 설치되거나 사용자에 의해 직접 설치된 애플리케이션(즉, 프로그 램)으로 구현되고 단말기에 등의 컴퓨터로 읽을 수 있는 기록매체에 기록될 수 있다."}
{"patent_id": "10-2021-0115749", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "전술한 본 발명의 설명은 예시를 위한 것이며, 본 발명이 속하는 기술분야의 통상의 지식을 가진 자는 본 발명 의 기술적 사상이나 필수적인 특징을 변경하지 않고서 다른 구체적인 형태로 쉽게 변형이 가능하다는 것을 이해 할 수 있을 것이다. 그러므로 이상에서 기술한 실시예들은 모든 면에서 예시적인 것이며 한정적이 아닌 것으로 이해해야만 한다. 예를 들어, 단일형으로 설명되어 있는 각 구성 요소는 분산되어 실시될 수도 있으며, 마찬가 지로 분산된 것으로 설명되어 있는 구성 요소들도 결합된 형태로 실시될 수 있다. 본 발명의 범위는 상기 상세한 설명보다는 후술하는 특허청구범위에 의하여 나타내어지며, 특허청구범위의 의미 및 범위 그리고 그 균등 개념으로부터 도출되는 모든 변경 또는 변형된 형태가 본 발명의 범위에 포함되는 것으 로 해석되어야 한다.도면 도면1 도면2 도면3 도면4 도면5"}
{"patent_id": "10-2021-0115749", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 CNC 공작기계를 이용한 데이터 수집 시스템을 설명하기 위한 도면이다. 도 2는 도 1의 시스템에 포함된 수집 서비스 제공 서버를 설명하기 위한 블록 구성도이다. 도 3 및 도 4는 본 발명의 일 실시예에 따른 CNC 공작기계를 이용한 데이터 수집 서비스가 구현된 일 실시예를 설명하기 위한 도면이다. 도 5는 본 발명의 일 실시예에 따른 CNC 공작기계를 이용한 데이터 수집 서비스 제공 방법을 설명하기 위한 동 작 흐름도이다."}
