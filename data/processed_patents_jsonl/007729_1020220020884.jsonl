{"patent_id": "10-2022-0020884", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0123738", "출원번호": "10-2022-0020884", "발명의 명칭": "eSIM 기기 변경을 위한 Activation Code를 전달하고 저장하는 방법 및 장치", "출원인": "삼성전자주식회사", "발명자": "강수정"}}
{"patent_id": "10-2022-0020884", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "무선 통신 시스템에서 제어 신호 처리 방법에 있어서,기지국으로부터 전송되는 제1 제어 신호를 수신하는 단계;상기 수신된 제1 제어 신호를 처리하는 단계; 및상기 처리에 기반하여 생성된 제2 제어 신호를 상기 기지국으로 전송하는 단계를 포함하는 것을 특징으로 하는제어 신호 처리 방법."}
{"patent_id": "10-2022-0020884", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 개시는 보다 높은 데이터 전송률을 지원하기 위한 5G 또는 6G 통신 시스템에 관련된 것이다. 본 개시는 eUICC 프로파일을 설치하고 관리하는 방법 및 장치에 관한 것이다."}
{"patent_id": "10-2022-0020884", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 eUICC 프로파일을 설치하고 관리하는 방법 및 장치에 관한 것이다."}
{"patent_id": "10-2022-0020884", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "5G 이동통신 기술은 빠른 전송 속도와 새로운 서비스가 가능하도록 넓은 주파수 대역을 정의하고 있으며, 3.5 기가헤르츠(3.5GHz) 등 6GHz 이하 주파수('Sub 6GHz') 대역은 물론 28GHz와 39GHz 등 밀리미터파(㎜Wave)로 불 리는 초고주파 대역('Above 6GHz')에서도 구현이 가능하다. 또한, 5G 통신 이후(Beyond 5G)의 시스템이라 불리 어지는 6G 이동통신 기술의 경우, 5G 이동통신 기술 대비 50배 빨라진 전송 속도와 10분의 1로 줄어든 초저 (Ultra Low) 지연시간을 달성하기 위해 테라헤르츠(Terahertz) 대역(예를 들어, 95GHz에서 3 테라헤르츠(3THz) 대역과 같은)에서의 구현이 고려되고 있다. 5G 이동통신 기술의 초기에는, 초광대역 서비스(enhanced Mobile BroadBand, eMBB), 고신뢰/초저지연 통신 (Ultra-Reliable Low-Latency Communications, URLLC), 대규모 기계식 통신 (massive Machine-Type Communications, mMTC)에 대한 서비스 지원과 성능 요구사항 만족을 목표로, 초고주파 대역에서의 전파의 경로 손실 완화 및 전파의 전달 거리를 증가시키기 위한 빔포밍(Beamforming) 및 거대 배열 다중 입출력(Massive MIMO), 초고주파수 자원의 효율적 활용을 위한 다양한 뉴머롤로지 지원(복수 개의 서브캐리어 간격 운용 등)와 슬롯 포맷에 대한 동적 운영, 다중 빔 전송 및 광대역을 지원하기 위한 초기 접속 기술, BWP(Band-Width Part) 의 정의 및 운영, 대용량 데이터 전송을 위한 LDPC(Low Density Parity Check) 부호와 제어 정보의 신뢰성 높은 전송을 위한 폴라 코드(Polar Code)와 같은 새로운 채널 코딩 방법, L2 선-처리(L2 pre-processing), 특정 서 비스에 특화된 전용 네트워크를 제공하는 네트워크 슬라이싱(Network Slicing) 등에 대한 표준화가 진행되었다. 현재, 5G 이동통신 기술이 지원하고자 했던 서비스들을 고려하여 초기의 5G 이동통신 기술 개선(improvement) 및 성능 향상(enhancement)을 위한 논의가 진행 중에 있으며, 차량이 전송하는 자신의 위치 및 상태 정보에 기 반하여 자율주행 차량의 주행 판단을 돕고 사용자의 편의를 증대하기 위한 V2X(Vehicle-to-Everything), 비면허 대역에서 각종 규제 상 요구사항들에 부합하는 시스템 동작을 목적으로 하는 NR-U(New Radio Unlicensed), NR 단말 저전력 소모 기술(UE Power Saving), 지상 망과의 통신이 불가능한 지역에서 커버리지 확보를 위한 단말- 위성 직접 통신인 비 지상 네트워크(Non-Terrestrial Network, NTN), 위치 측위(Positioning) 등의 기술에 대 한 물리계층 표준화가 진행 중이다. 뿐만 아니라, 타 산업과의 연계 및 융합을 통한 새로운 서비스 지원을 위한 지능형 공장 (Industrial Internet of Things, IIoT), 무선 백홀 링크와 액세스 링크를 통합 지원하여 네트워크 서비스 지역 확장을 위한 노드를 제공하는 IAB(Integrated Access and Backhaul), 조건부 핸드오버(Conditional Handover) 및 DAPS(Dual Active Protocol Stack) 핸드오버를 포함하는 이동성 향상 기술(Mobility Enhancement), 랜덤액세스 절차를 간소화하 는 2 단계 랜덤액세스(2-step RACH for NR) 등의 기술에 대한 무선 인터페이스 아키텍쳐/프로토콜 분야의 표준 화 역시 진행 중에 있으며, 네트워크 기능 가상화(Network Functions Virtualization, NFV) 및 소프트웨어 정 의 네트워킹(Software-Defined Networking, SDN) 기술의 접목을 위한 5G 베이스라인 아키텍쳐(예를 들어, Service based Architecture, Service based Interface), 단말의 위치에 기반하여 서비스를 제공받는 모바일엣지 컴퓨팅(Mobile Edge Computing, MEC) 등에 대한 시스템 아키텍쳐/서비스 분야의 표준화도 진행 중이다. 이와 같은 5G 이동통신 시스템이 상용화되면, 폭발적인 증가 추세에 있는 커넥티드 기기들이 통신 네트워크에 연결될 것이며, 이에 따라 5G 이동통신 시스템의 기능 및 성능 강화와 커넥티드 기기들의 통합 운용이 필요할 것으로 예상된다. 이를 위해, 증강현실(Augmented Reality, AR), 가상현실(Virtual Reality, VR), 혼합 현실 (Mixed Reality, MR) 등을 효율적으로 지원하기 위한 확장 현실(eXtended Reality, XR), 인공지능(Artificial Intelligence, AI) 및 머신러닝(Machine Learning, ML)을 활용한 5G 성능 개선 및 복잡도 감소, AI 서비스 지 원, 메타버스 서비스 지원, 드론 통신 등에 대한 새로운 연구가 진행될 예정이다. 또한, 이러한 5G 이동통신 시스템의 발전은 6G 이동통신 기술의 테라헤르츠 대역에서의 커버리지 보장을 위한 신규 파형(Waveform), 전차원 다중입출력(Full Dimensional MIMO, FD-MIMO), 어레이 안테나(Array Antenna), 대규모 안테나(Large Scale Antenna)와 같은 다중 안테나 전송 기술, 테라헤르츠 대역 신호의 커버리지를 개선 하기 위해 메타물질(Metamaterial) 기반 렌즈 및 안테나, OAM(Orbital Angular Momentum)을 이용한 고차원 공 간 다중화 기술, RIS(Reconfigurable Intelligent Surface) 기술 뿐만 아니라, 6G 이동통신 기술의 주파수 효 율 향상 및 시스템 네트워크 개선을 위한 전이중화(Full Duplex) 기술, 위성(Satellite), AI(Artificial Intelligence)를 설계 단계에서부터 활용하고 종단간(End-to-End) AI 지원 기능을 내재화하여 시스템 최적화를 실현하는 AI 기반 통신 기술, 단말 연산 능력의 한계를 넘어서는 복잡도의 서비스를 초고성능 통신과 컴퓨팅 자 원을 활용하여 실현하는 차세대 분산 컴퓨팅 기술 등의 개발에 기반이 될 수 있을 것이다. 상술한 것과 같이 이 동통신 시스템의 발전에 따라 다양한 서비스를 제공할 수 있게 됨으로써, 이러한 서비스들을 효과적으로 제공하 기 위한 방안이 요구되고 있다. \"UICC(Universal Integrated Circuit Card)\"는 이동 통신 단말기 등에 삽입하여 사용하는 스마트카드(smart card)이고, UICC 카드라고도 한다. UICC에는 단말이 이동통신사업자의 망에 접속하기 위한 접속 제어 모듈이 포 함될 수 있다. 이러한 접속 제어 모듈의 예로는 USIM(Universal Subscriber Identity Module), SIM(Subscriber Identity Module), ISIM(IP Multimedia Service Identity Module) 등이 있다. USIM이 포함된 UICC를 통상 USIM 카드라고도 한다. 마찬가지로 SIM 모듈이 포함된 UICC를 통상적으로 SIM카드라고도 한다. UICC 카드 중 단말에 고정하여 사용하는 UICC를 eUICC(embedded UICC)라고 하는데, 통상적으로 eUICC는 단말에 고정하여 사용하고, 원격으로 SIM 모듈을 다운로드 받아서 선택할 수 있는 UICC 카드를 의미한다. 또한 다운로 드 받는 SIM 모듈정보를 통칭하여 eUICC 프로파일, 또는 더 간단히 프로파일 이라고도 한다."}
{"patent_id": "10-2022-0020884", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 목적은 이동통신 시스템에서 통신 서비스를 효과적으로 제공하는 것이다. 본 발명에 개시된 일 실시 예에 따르면, 통신 시스템에서 단말이 통신 서비스를 선택하여 네트워크에 연결하기 위한 방법 및 장치를 제공할 수 있다. 본 발명에 개시된 일 실시 예에 따르면, 통신 시스템에서 단말이 네트워크에 연결하기 위한 프로파일을 온라인 으로 다운로드 하여 설치하고 관리하는 방법 및 장치를 제공할 수 있다. 본 발명에 개시된 일 실시 예에 따르면, 통신 시스템에서 단말이 네트워크에 연결하기 위해 설치한 프로파일을 다른 단말이 효율적으로 다시 다운로드 받을 수 있는 방법 및 장치를 제공할 수 있다. 본 발명에서 이루고자 하는 기술적 과제들은 이상에서 언급한 기술적 과제들로 제한되지 않으며, 언급하지 않은"}
{"patent_id": "10-2022-0020884", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 2, "content": "또 다른 기술적 과제들은 아래의 기재로부터 본 발명이 속하는 기술분야에서 통상의 지식을 가진 자에게 명확하 게 이해될 수 있을 것이다."}
{"patent_id": "10-2022-0020884", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기와 같은 문제점을 해결하기 위한 본 발명은 무선 통신 시스템에서 제어 신호 처리 방법에 있어서, 기지국으 로부터 전송되는 제1 제어 신호를 수신하는 단계; 상기 수신된 제1 제어 신호를 처리하는 단계; 및 상기 처리에 기반하여 생성된 제2 제어 신호를 상기 기지국으로 전송하는 단계를 포함하는 것을 특징으로 한다. 상기와 같은 문제점을 해결하기 위한 본 발명은 사업자 또는 서버가 제1 단말의 프로파일 다운로드 처리 시 기 기 변경에 필요한 프로파일 재설치 정보를 추가로 생성할지를 판단하여 제공하는 단계; 제1 단말에서 사업자 또는 서버로부터 상기 기기 변경에 필요한 소정의 정보를 획득하여 처리하는 단계; 제1 단말에서 제2 단말로 프로 파일의 재설치를 위한 정보를 전달하는 단계; 제2 단말에서 수신된 해당 프로파일 재설치를 위한 정보를 사용하 여 서버로부터 프로파일을 다운로드하여 설치하는 단계를 포함하는 것을 특징으로 한다."}
{"patent_id": "10-2022-0020884", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 실시 예에 따르면, 이동통신 시스템에서 서비스를 효과적으로 제공할 수 있다. 본 발명의 일 실시 예에 따르면, 통신 시스템에서 단말은 단말에 프로파일을 최초 설치하기 위해 활성화 코드를 사업자 또는 프로파일 서버로부터 발급 받을 수 있으며, 프로파일 재설치를 위한 정보가 활성화 코드에 추가적 으로 포함되어 수신된 경우에, 기기 변경을 지원하는 단말의 경우에 상기 수신한 프로파일 재설치 정보를 저장 하여 가지고 있다가 특정 시점에 해당 설치한 프로파일의 이동 요청이 입력되면 해당 프로파일 재설치를 위한 정보 또는 해당 정보를 이용하여 재 생성한 정보를, 프로파일을 이동 설치할 단말에게 제공해 줄 수 있다. 필요 한 경우 단말은 이동할 프로파일을 우선 삭제하고, 프로파일의 삭제를 증명할 수 있는 프로파일 삭제 증빙을 서 버에게 전달하여, 서버의 정상 응답을 수신한 경우에 한해 앞서 프로파일 재설치를 위한 정보 또는 해당 정보를 이용하여 재 생성한 정보(본 특허에서는 프로파일 재설치를 위한 정보 또는 해당 정보를 이용하여 재 생성한 정 보를 기기 변경용 활성화 코드로 칭한다.)를 프로파일을 이동 설치할 단말에게 제공해 줄 수 있다. 상기 기기 변경용 활성화 코드를 수신 받은 다른 단말은 프로파일 서버에게 기기 변경 활성화 코드를 전송하여 이에 대한 결과로 프로파일을 효율적으로 다운로드 받아 설치하도록 할 수 있다. 본 발명의 일 실시 예에 따르면, 통신 시스템에서 프로파일 서버는 단말로부터 단말에 프로파일을 설치를 위한 활성화 코드를 수신할 때, 해당 활성화 코드에 추가적인 기기 변경을 지원 정보가 포함된 경우에 다운로드 하여 줄 프로파일의 정보로 해당 프로파일을 다른 단말로 이동 재 설치 하기 위해 프로파일 다운로드를 위해 사용한 활성화 코드를 저장하라는 요청을 회신하여, 단말이 기기 변경 시 사용할 수 있는 정보로써 해당 활성화 코드를 저장하게끔 처리할 수 있다. 이후 특정 시점에 프로파일 서버가 단말로부터 다른 단말로 프로파일을 이동 재 설 치 요청을 수신하면, 필요한 경우 사업자에게 프로파일의 이동이 가능한지 확인하는 요청을 송신하고, 필요한 경우 단말에게 사용자 인증을 위한 확인 번호 또는 문자열을 요청하고, 필요한 경우 단말에게 프로파일의 삭제 를 요청하고, 필요한 경우 단말에게 프로파일 삭제 증빙의 결과를 요청하고, 필요한 경우 준비된 프로파일을 다 운로드 불가능한 상태로 설정하여 준비하고, 필요한 경우 단말이 프로파일을 삭제한 것을 검증하여 성공 시 프 로파일을 다운로드해 줄 수 있는 상태로 변경하고, 수신된 활성화 코드를 확인하여 프로파일의 복제와 단말의 오류를 방지하여 안전하게 다른 단말에서 프로파일 다운로드를 처리할 수 있다. 본 발명에서 얻을 수 있는 효과는 이상에서 언급한 효과들로 제한되지 않으며, 언급하지 않은 또 다른 효과들은 아래의 기재로부터 본 개시가 속하는 기술 분야에서 통상의 지식을 가진 자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2022-0020884", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 본 개시의 실시 예를 첨부된 도면을 참조하여 상세하게 설명한다. 실시 예를 설명함에 있어서 본 개시가 속하는 기술 분야에 익히 알려져 있고 본 개시와 직접적으로 관련이 없는 기술 내용에 대해서는 설명을 생략한다. 이는 불필요한 설명을 생략함으로써 본 개시의 요지를 흐리지 않고 더 욱 명확히 전달하기 위함이다. 마찬가지 이유로 첨부 도면에 있어서 일부 구성요소는 과장되거나 생략되거나 개략적으로 도시되었다. 또한, 각 구성요소의 크기는 실제 크기를 전적으로 반영하는 것이 아니다. 각 도면에서 동일한 또는 대응하는 구성요소에 는 동일한 참조 번호를 부여하였다. 본 개시의 이점 및 특징, 그리고 그것들을 달성하는 방법은 첨부되는 도면과 함께 상세하게 후술되어 있는 실시 예들을 참조하면 명확해질 것이다. 그러나 본 개시는 이하에서 개시되는 실시 예들에 한정되는 것이 아니라 서 로 다른 다양한 형태로 구현될 수 있으며, 단지 본 실시 예들은 본 개시의 개시가 완전하도록 하고, 본 개시가"}
{"patent_id": "10-2022-0020884", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "속하는 기술분야에서 통상의 지식을 가진 자에게 개시의 범주를 완전하게 알려주기 위해 제공되는 것이며, 본 개시는 청구항의 범주에 의해 정의될 뿐이다. 개시 전체에 걸쳐 동일 참조 부호는 동일 구성 요소를 지칭한다. 이때, 처리 흐름도 도면들의 각 블록과 흐름도 도면들의 조합들은 컴퓨터 프로그램 인스트럭션들에 의해 수행될 수 있음을 이해할 수 있을 것이다. 이들 컴퓨터 프로그램 인스트럭션들은 범용 컴퓨터, 특수용 컴퓨터 또는 기 타 프로그램 가능한 데이터 프로세싱 장비의 프로세서에 탑재될 수 있으므로, 컴퓨터 또는 기타 프로그램 가능 한 데이터 프로세싱 장비의 프로세서를 통해 수행되는 그 인스트럭션들이 흐름도 블록(들)에서 설명된 기능들을 수행하는 수단을 생성하게 된다. 이들 컴퓨터 프로그램 인스트럭션들은 특정 방식으로 기능을 구현하기 위해 컴 퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비를 지향할 수 있는 컴퓨터 이용 가능 또는 컴퓨터 판독 가능 저장 매체에 저장되는 것도 가능하므로, 그 컴퓨터 이용가능 또는 컴퓨터 판독 가능 저장 매체에 저장된 인스트럭션들은 흐름도 블록(들)에서 설명된 기능을 수행하는 인스트럭션 수단을 내포하는 제조 품목을 생산하 는 것도 가능하다. 컴퓨터 프로그램 인스트럭션들은 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비 상에 탑재되는 것도 가능하므로, 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비 상에서 일련의 동작 단계들이 수행되어 컴퓨터로 실행되는 프로세스를 생성해서 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비를 수행하는 인스트럭션들은 흐름도 블록(들)에서 설명된 기능들을 실행하기 위한 단계들을 제공하는 것도 가능하다. 또한, 각 블록은 특정된 논리적 기능(들)을 실행하기 위한 하나 이상의 실행 가능한 인스트럭션들을 포함하는 모듈, 세그먼트 또는 코드의 일부를 나타낼 수 있다. 또, 몇 가지 대체 실행 예들에서는 블록들에서 언급된 기 능들이 순서를 벗어나서 발생하는 것도 가능함을 주목해야 한다. 예컨대, 잇달아 도시되어 있는 두 개의 블록들 은 사실 실질적으로 동시에 수행되는 것도 가능하고 또는 그 블록들이 때때로 해당하는 기능에 따라 역순으로 수행되는 것도 가능하다. 이 때, 본 실시예에서 사용되는 '~부'라는 용어는 소프트웨어 또는 FPGA 또는 ASIC과 같은 하드웨어 구성요소를 의미하며, '~부'는 어떤 역할들을 수행한다. 그렇지만 '~부'는 소프트웨어 또는 하드웨어에 한정되는 의미는 아 니다. '~부'는 어드레싱할 수 있는 저장매체에 있도록 구성될 수도 있고 하나 또는 그 이상의 프로세서들을 재 생시키도록 구성될 수도 있다. 따라서, 일 예로서 '~부'는 소프트웨어 구성요소들, 객체지향 소프트웨어 구성요 소들, 클래스 구성요소들 및 태스크 구성요소들과 같은 구성요소들과, 프로세스들, 함수들, 속성들, 프로시저들, 서브루틴들, 프로그램 코드의 세그먼트들, 드라이버들, 펌웨어, 마이크로코드, 회로, 데이터, 데이 터베이스, 데이터 구조들, 테이블들, 어레이들, 및 변수들을 포함한다. 구성요소들과 '~부'들 안에서 제공되는 기능은 더 작은 수의 구성요소들 및 '~부'들로 결합되거나 추가적인 구성요소들과 '~부'들로 더 분리될 수 있다. 뿐만 아니라, 구성요소들 및 '~부'들은 디바이스 또는 보안 멀티미디어카드 내의 하나 또는 그 이상의 CPU들을 재생시키도록 구현될 수도 있다. 이하의 설명에서 사용되는 특정 용어들은 본 개시의 이해를 돕기 위해서 제공된 것이며, 이러한 특정 용어의 사 용은 본 개시의 기술적 사상을 벗어나지 않는 범위에서 다른 형태로 변경될 수 있다. 본 개시에서 \"UICC (Universal Integrated Circuit Card)\"는 이동 통신 단말기 등에 삽입하여 사용하는 스마트 카드(smart card)이고 UICC 카드라고도 부른다. UICC는 이동통신 가입자의 네트워크 접속 인증 정보, 전화번호부, SMS와 같은 개인정보가 저장되어 GSM, WCDMA, LTE 등과 같은 이동통신 네트워크에 접속 시 가입자 인증 및 트래픽 보안 키 생성을 수행하여 안전한 이동통신 이용을 가능케 하는 칩을 의미한다. UICC에는 단말이 이동통신사업자의 망에 접속하기 위한 통신 어플리케이션 또는 접속 제어 모듈이 포함될 수 있다. 이러한 통신 어플리케이션 또는 접속 제어 모듈의 예로는 USIM(Universal Subscriber Identity Module), SIM(Subscriber Identity Module), ISIM(IP Multimedia Service Identity Module) 등이 있다. 또한 또한 UICC 는 전자지갑, 티켓팅, 전자여권 등과 같은 다양한 응용 어플리케이션의 탑재를 위한 상위 레벨의 보안 기능을 제공할 수 있다. USIM이 포함된 UICC를 통상 USIM 카드라고 부르기도 한다. 마찬가지로 SIM 모듈이 포함된 UICC를 통상적으로 SIM카드라고 부르기도 한다. 본 개시에서 \"SIM 카드\", \"UICC 카드\", \"USIM 카드\", \"ISIM이 포함된 UICC\"는 같은 의미로 사용될 수 있다. 즉, SIM 카드, USIM 카드, ISIM 카드 또는 일반적인 UICC 카드에 대해서는 본 개시의 내용이 동일하게 적용될 수 있다. SIM 카드는 이동 통신 가입자의 개인정보를 저장하고, 이동통신 네트워크에 접속 시 가입자 인증 및 트래픽 (traffic) 보안 키(key) 생성을 수행하여 안전한 이동통신 이용을 가능하게 한다. 일반적으로, SIM 카드는 특정 이동통신 사업자의 요청에 의해 해당 사업자를 위한 전용 카드로 제조되며, 해당 사업자의 네트워크 접속을 위한 인증 정보, 예를 들어, USIM(Universal Subscriber Identity Module) 어플리케 이션 및 IMSI(International Mobile Subscriber Identity), K 값, OPc 값 등이 사전에 카드에 탑재되어 출고된 다. 따라서 SIM 카드는 이동통신 사업자가 납품 받아 가입자에게 제공하며, 이후 필요에 따라 OTA(Over The Air) 등의 기술을 활용하여 UICC 내 어플리케이션의 설치, 수정, 삭제 등의 관리도 수행할 수 있다. 가입자는 소유한 이동통신 단말기에 UICC 카드를 삽입하여 이동통신 사업자의 네트워크 및 응용 서비스의 이용이 가능하 며, 단말기 교체 시 UICC 카드를 기존 단말기에서 새로운 단말기로 이동 삽입함으로써 UICC 카드에 저장된 인증 정보, 이동통신 전화번호, 개인 전화번호부 등을 새로운 단말기에서 그대로 사용할 수 있다. 그러나 SIM 카드는 이동통신 단말기 사용자가 다른 이동통신사업자의 서비스를 제공받는데 있어 불편한 점이 있 다. 이동통신 단말기 사용자는 이동통신사업자로부터 서비스를 받기 위해 SIM 카드를 물리적으로 획득해야 되는 불편함이 있다. 예를 들면, 다른 나라로 여행을 했을 때 현지 이동통신 서비스를 받기 위해서는 현지 SIM 카드 를 구해야 하는 불편함이 있다. 로밍 서비스의 경우 불편함을 어느 정도 해결해 주지만, 요금이 상대적으로 비 싸고, 통신사간 계약이 되어 있지 않은 경우 서비스를 받을 수 없는 문제도 있다. 한편, UICC 카드에 SIM 모듈을 원격으로 다운로드 받아서 설치할 경우, 이러한 불편함을 상당부분 해결할 수 있 다. 즉 사용자가 원하는 시점에 사용하고자 하는 이동통신 서비스의 SIM 모듈을 UICC 카드에 다운로드 받을 수 있다. 이러한 UICC 카드는 복수개의 SIM 모듈을 다운로드 받아서 설치하고, 그 중의 한 개의 SIM 모듈만을 선택 하는 방법으로 사용할 수도 있다. 이러한 UICC 카드는 단말에 고정하거나 고정하지 않을 수 있다. 특히 단말에 고정하여 사용하는 UICC를 eUICC (embedded UICC)라고 하는데, 통상적으로 eUICC는 단말에 고정하여 사용하고, 원격으로 SIM 모듈을 다운로드 받아서 선택할 수 있는 UICC 카드를 의미한다. 본 개시에서는 원격으로 SIM 모듈 을 다운로드 받아 선택할 수 있는 UICC 카드를 eUICC라 한다. 즉 원격으로 SIM 모듈을 다운로드 받아 선택할 수 있는 UICC 카드 중 단말에 고정하거나 고정하지 않는 UICC 카드를 통칭하여 eUICC로 사용한다. 또한 다운로드 받는 SIM 모듈정보를 통칭하여 eUICC 프로파일, 또는 더 간단히 프로파일 이라는 용어로 사용한다. 본 개시에서 \"eUICC(embedded UICC)\"는 단말에 삽입 및 탈거가 가능한 착탈식이 아닌, 단말에 내장된 칩 형태의 보안 모듈이다. eUICC는 OTA(Over The Air)기술을 이용하여 프로파일을 다운받아 설치할 수 있다. eUICC는 프로 파일 다운로드 및 설치가 가능한 UICC로 명명할 수 있다. 본 개시에서 eUICC에 OTA 기술을 이용하여 프로파일을 다운받아 설치하는 방법은 단말에 삽입 및 탈거가 가능한 착탈식 UICC에도 적용될 수 있다. 즉, 본 개시의 실시예에는 OTA 기술을 이용하여 프로파일을 다운 받아 설치 가능한 UICC에 적용될 수 있다. 본 개시에서 \"UICC\"는 \"SIM\"과 혼용될 수 있고, \"eUICC\"는 \"eSIM\"과 혼용될 수 있다. 본 개시에서 \"프로파일(Profile)\"은 UICC내에 저장되는 어플리케이션, 파일시스템, 인증키 값 등을 소프트웨어 형태로 패키징 한 것을 의미할 수 있다. 본 개시에서 \"USIM Profile\"은 \"프로파일\"과 동일한 의미이거나 또는 프로파일 내 USIM 어플리케이션에 포함된 정보를 소프트웨어 형태로 패키징 한 것을 의미할 수 있다. 본 개시에서 단말이 프로파일을 활성화(enable)하는 동작은, 해당 프로파일의 상태를 활성화 상태(enabled)로 변경하여 단말이 해당 프로파일을 제공한 통신사업자를 통해 통신서비스를 받을 수 있도록 설정하는 동작을 의미할 수 있다. 활성화 상태의 프로파일은 \"활성화된 프로파일(enabled Profile)\"로 표현될 수 있다. 본 개시에서 단말이 프로파일을 비활성화(disable)하는 동작은, 해당 프로파일의 상태를 비활성화 상태 (disabled)로 변경하여 단말이 해당 프로파일을 제공한 통신사업자를 통해 통신서비스를 받을 수 없도록 설정하 는 동작을 의미할 수 있다. 비활성화 상태의 프로파일은 \"비활성화된 프로파일(disabled Profile)\"로 표현될 수 있다. 본 개시에서 단말이 프로파일을 삭제(delete)하는 동작은, 해당 프로파일의 상태를 삭제 상태(deleted)로 변경 하여, 단말이 더 이상 해당 프로파일을 활성화 또는 비활성화할 수 없도록 설정하는 동작을 의미할 수 있다. 삭 제 상태의 프로파일은 \"삭제된 프로파일(deleted Profile)\"로 표현될 수 있다. 본 개시에서 단말이 프로파일을 활성화(enable), 비활성화(disable), 또는 삭제(delete)하는 동작은, 각 프로파 일의 상태를 활성화 상태(enabled), 비활성화 상태(disabled), 또는 삭제 상태(deleted)로 즉시 변경하지 않고, 각 프로파일을 활성화 예정 상태(to be enabled), 비활성화 예정 상태(to be disabled), 또는 삭제 예정 상태 (to be deleted)로 우선 표시(marking)만 해두고, 단말 내지 단말의 UICC가 특정 동작(예를 들면, 새로 고침 (REFRESH) 또는 초기화(RESET) 명령의 수행)을 수행한 이후에 각 프로파일을 활성화 상태(enabled), 비활성화 상태(disabled), 또는 삭제 상태(deleted)로 변경하는 동작을 의미할 수도 있다. 특정 프로파일을 예정 상태(즉 활성화 예정 상태(to be enabled), 비활성화 예정 상태(to be disabled), 또는 삭제 예정 상태(to be deleted))로 표시(marking)하는 동작은 반드시 하나의 프로파일에 대해서 하나의 예정 상태를 표시하는 것으로 제한되지 않으며, 하나 이상의 프로파일을 각각 서로 같거나 다른 예정 상태로 표시하거나, 하나의 프로파일을 하나 이상의 예정 상태로 표시하거나, 하나 이상의 프로파일을 각각 서로 같거나 다른 하나 이상의 예정 상태로 표시하는 것도 가능하다. 또한 단말이 임의의 프로파일에 대해 하나 이상의 예정 상태를 표시하는 경우, 두 개의 예정 상태 표시는 하나 로 통합될 수도 있다. 예를 들어, 임의의 프로파일이 비활성화 예정 상태(to be disabled) 및 삭제 예정 상태 (to be deleted)로 표시된 경우, 해당 프로파일은 비활성화 및 삭제 예정 상태(to be disabled and deleted)로 통합 표시될 수도 있다. 또한 단말이 하나 이상의 프로파일에 대해 예정 상태를 표시하는 동작은 순차적으로 혹은 동시에 수행될 수도 있다. 또한 단말이 하나 이상의 프로파일에 대해 예정 상태를 표시하고, 이후 실제 프로파일의 상태를 변경하는 동작은 순차적으로 혹은 동시에 수행될 수도 있다. 본 개시에서 \"프로파일 제공 서버\"는 프로파일을 생성하거나, 생성된 프로파일을 암호화 하거나, 프로파일 원격 관리 명령어를 생성하거나, 생성된 프로파일 원격관리 명령어를 암호화하는 기능을 포함할 수 있다. 프로파일 제공 서버는, SM-DP(Subscription Manager Data Preparation), SM-DP+(Subscription Manager Data Preparation plus), off-card entity of Profile Domain, 프로파일 암호화 서버, 프로파일 생성서버, 프로파일 서버, 프로파일 제공자(Profile Provisioner, PP), 프로파일 공급자(Profile Provider), PPC holder(Profile Provisioning Credentials holder)로 표현될 수 있다. 본 개시에서 \"프로파일 관리 서버\"는 프로파일을 관리하는 기능을 포함할 수 있다. 프로파일 관리 서버는 SM- SR(Subscription Manager Secure Routing), SM-SR+(Subscription Manager Secure Routing Plus), off-card entity of eUICC Profile Manager 또는 PMC holder(Profile Management Credentials holder), EM(eUICC Manager), PP(Profile Manager)등으로 표현될 수 있다. 본 개시에서 프로파일 제공 서버는 프로파일 관리 서버의 기능을 합친 것을 의미할 수도 있다. 따라서, 본 개시 의 다양한 일 실시 예에서, 프로파일 제공서버의 동작은 프로파일 관리 서버에서 수행될 수도 있다. 마찬가지로, 프로파일 관리서버 또는 SM-SR의 동작은 프로파일 제공서버에서 수행될 수도 있다. 본 개시에서 \"개통중개서버\"는 SM-DS(Subscription Manager Discovery Service), DS(Discovery Service), 근원 개통중개서버(Root SM-DS), 대체개통중개서버(Alternative SM-DS)로 표현될 수 있다. 개통중개서버는 하나 이상 의 프로파일 제공서버 내지 개통중개서버로부터 이벤트 등록 요청(Register Event Request, Event Register Request)을 수신할 수 있다. 또한, 하나 이상의 개통중개서버가 복합적으로 사용될 수 있으며, 이 경우, 제1 개 통중개서버는 프로파일 제공서버뿐만 아니라 제2 개통중개서버로부터 이벤트 등록 요청을 수신할 수도 있다. 본 개시에서 프로파일 제공 서버와 개통중개서버는 'RSP(Remote SIM Provisioning) 서버'라는 명칭으로 사용될 수 있다. RSP 서버는 SM-XX (Subscription Manager XX)로 표현될 수 있다.본 개시에서 '단말'은 이동국(MS), 사용자 장비(UE; User Equipment), 사용자 터미널(UT; User Terminal), 무 선 터미널, 액세스 터미널(AT), 터미널(terminal), 가입자 유닛(Subscriber Unit), 가입자 스테이션(SS; Subscriber Station), 무선 기기(wireless device), 무선 통신 디바이스, 무선 송수신 유닛(WTRU; Wireless Transmit/Receive Unit), 이동 노드, 모바일 또는 다른 용어들로서 지칭될 수 있다. 일 실시 예에서, 단말은 셀 룰러 전화기, 무선 통신 기능을 가지는 스마트 폰, 무선 통신 기능을 가지는 개인 휴대용 단말기(PDA), 무선 모 뎀, 무선 통신 기능을 가지는 휴대용 컴퓨터, 무선 통신 기능을 가지는 디지털 카메라와 같은 촬영장치, 무선 통신 기능을 가지는 게이밍 장치, 무선 통신 기능을 가지는 음악저장 및 재생 가전제품, 무선 인터넷 접속 및 브라우징이 가능한 인터넷 가전제품뿐만 아니라 그러한 기능들의 조합들을 통합하고 있는 휴대형 유닛 또는 단 말기들을 포함할 수 있다. 또한, 단말은 M2M(Machine to Machine) 단말, MTC(Machine Type Communication) 단 말/디바이스를 포함할 수 있으나, 이에 한정되는 것은 아니다. 본 개시에서 단말은 전자장치라 지칭할 수도 있 다. 본 개시에서 \"전자장치\"는 프로파일을 다운로드 하여 설치 가능한 UICC가 내장될 수 있다. UICC가 전자장치에 내장되지 않은 경우, 물리적으로 전자장치와 분리된 UICC는 전자장치에 삽입되어 전자장치와 연결될 수 있다. 예를 들어, 카드 형태로 UICC는 전자장치에 삽입될 수 있다. 전자 장치는 단말을 포함할 수 있고, 이때, 단말은 프로파일을 다운로드하여 설치 가능한 UICC를 포함하는 단말일 수 있다. 단말에 UICC는 내장될 수 있을 뿐만 아니라, 단말과 UICC가 분리된 경우 UICC는 단말에 삽입될 수 있고, 단말에 삽입되어 단말과 연결될 수 있다. 프로파일을 다운로드하여 설치 가능한 UICC는 예를 들어 eUICC라 지칭할 수 있다. 본 개시에서 단말 또는 전자장치는 UICC 또는 eUICC를 제어하도록 단말 또는 전자장치 내에 설치된 소프트웨어 또는 애플리케이션을 포함할 수 있다. UICC 또는 eUICC를 제어하도록 단말 또는 전자 장치 내에 설치된 소프트 웨어 또는 애플리케이션은, 예를 들어 Local Profile Assistant(LPA)라 지칭할 수 있다. 본 개시에서 \"프로파일 구분자\"는 프로파일 식별자(Profile ID), ICCID (Integrated Circuit Card ID), Matching ID, 이벤트 식별자(Event ID), 활성화 코드(Activation Code 또는 AC), 활성화 코드 토큰(Activation Code Token 또는 AC Token), 명령 코드(Command Code), 명령 코드 토큰(Command Code Token), 서명된 명령 코 드(Signed Command Code), 서명되지 않은 명령 코드(Unsigned Command Code), ISD-P 또는 프로파일 도메인 (Profile Domain, PD)과 매칭되는 인자로 지칭될 수 있다. 프로파일 식별자(Profile ID)는 각 프로파일의 고유 식별자를 나타낼 수 있다. 프로파일 구분자는 프로파일을 색인할 수 있는 프로파일 제공서버(SM-DP+)의 주소를 더 포함할 수 있다. 또한 프로파일 구분자는 프로파일 제공서버(SM-DP+)의 서명을 더 포함할 수 있다. Activation Code Token은 가입 정보를 참조하는 정보로 활성화 코드에 포함되는 정보로써 포함되어 전송될 수 있으며 RSP 서버는 Matching ID로 Activation Code Token 또는 EventID를 사용할 수도 있다. 본 개시에서 \"eUICC 식별자(eUICC ID)\"는, 단말에 내장된 eUICC의 고유 식별자일 수 있고, EID로 지칭될 수 있 다. 또한 eUICC에 프로비저닝 프로파일 (Provisioning Profile)이 미리 탑재되어 있는 경우, eUICC 식별자 (eUICC ID)는 해당 프로비저닝 프로파일의 식별자(Provisioning Profile의 Profile ID)일 수 있다. 또한 본 개 시의 일 실시예에서, 단말과 eUICC 칩이 분리되지 않을 경우, eUICC 식별자(eUICC ID)는 단말 ID일 수 있다. 또 한, eUICC 식별자(eUICC ID)는 eUICC칩의 특정 보안 도메인 (Secure Domain)을 지칭할 수도 있다. 본 개시에서 \"프로파일 컨테이너(Profile Container)\"는 프로파일 도메인(Profile Domain)으로 명명될 수 있다. 프로파일 컨테이너(Profile Container)는 보안 도메인(Security Domain)일 수 있다. 본 개시에서 \"APDU(application protocol data unit)\"는 단말이 eUICC와 연동하기 위한 메시지일 수 있다. 또 한 APDU는 PP(Profile Provider) 또는 PM(Profile Manager)이 eUICC와 연동하기 위한 메시지일 수 있다. 본 개시에서 \"PPC(Profile Provisioning Credentials)\"는 프로파일 제공서버와 eUICC 간 상호 인증 및 프로파 일 암호화, 서명을 하는데 이용되는 수단일 수 있다. PPC는 대칭키, RSA(Rivest Shamir Adleman) 인증서와 개인 키, ECC (elliptic curved cryptography) 인증서와 개인키, 최상위 인증 기관(Root certification authority (CA)) 및 인증서 체인(chain) 중 하나 이상을 포함할 수 있다. 또한 프로파일 제공서버가 복수개인 경우에는 복 수개의 프로파일 제공서버 별로 다른 PPC를 eUICC에 저장하거나 사용할 수 있다. 본 개시에서 \"PMC(Profile Management Credentials)\"는 프로파일 관리서버와 eUICC 간 상호 인증 및 전송 데 이터 암호화, 서명을 하는데 이용되는 수단일 수 있다. PMC는 대칭키, RSA 인증서와 개인키, ECC 인증서와 개인 키, Root CA 및 인증서 체인 중 하나 이상을 포함할 수 있다. 또한 프로파일 관리서버가 복수개인 경우에는 복 수개의 프로파일 관리서버 별로 다른 PMC를 eUICC에 저장하거나 사용할 수 있다.본 개시에서 \"AID\"는 어플리케이션 식별자(Application Identifier) 일 수 있다. 이 값은 eUICC 내에서 서로 다른 어플리케이션(Application)을 구분해주는 구분자일 수 있다. 본 개시에서 \"이벤트(Event)\"는 프로파일 다운로드(Profile Download), 또는 원격 프로파일 관리(Remote Profile Management), 또는 기타 프로파일이나 eUICC의 관리/처리 명령어를 통칭하는 용어일 수 있다. 이벤트 (Event)는 원격 SIM 제공 동작(Remote SIM Provisioning Operation, 또는 RSP 동작, 또는 RSP Operation) 또는 이벤트 기록(Event Record)으로 명명될 수 있으며, 각 이벤트(Event)는 그에 대응하는 이벤트 식별자(Event Identifier, Event ID, EventID) 또는 매칭 식별자(Matching Identifier, Matching ID, MatchingID)와, 해당 이벤트가 저장된 프로파일 제공서버(SM-DP+) 또는 개통중개서버(SM-DS)의 주소(FQDN, IP Address, 또는 URL)와, 프로파일 제공서버(SM-DP+) 또는 개통중개서버(SM-DS)의 서명과, 프로파일 제공서버(SM-DP+) 또는 개통 중개서버(SM-DS)의 디지털 인증서를 적어도 하나 이상 포함하는 데이터로 지칭될 수 있다. 이벤트(Event)에 대응하는 데이터는 \"명령코드(Command Code)\"로 지칭될 수 있다. 명령코드를 이용하는 절차의 일부 또는 전체를 \"명령코드 처리 절차\" 또는 \"명령코드 절차\" 또는 \"LPA API(Local Profile Assistant Application Programming Interface)\"라 지칭할 수 있다. 프로파일 다운로드(Profile Download)는 프로파일 설 치(Profile Installation)와 혼용될 수 있다. 또한 \"이벤트 종류(Event Type)\"는 특정 이벤트가 프로파일 다운로드인지 원격 프로파일 관리(예를 들어, 삭제, 활성화, 비활성화, 교체, 이동, 업데이트 등)인지 또는 기타 프로파일이나 eUICC 관리/처리 명령인지를 나타내 는 용어로 사용될 수 있으며, 동작 종류(Operation Type 또는 OperationType), 동작 분류(Operation Class 또 는 OperationClass), 이벤트 요청 종류(Event Request Type), 이벤트 분류(Event Class), 이벤트 요청 분류 (Event Request Class) 등으로 명명될 수 있다. 임의의 이벤트 식별자(EventID 또는 MatchingID)는 단말이 해 당 이벤트 식별자(EventID 또는 MatchingID)를 획득한 경로 또는 사용 용도(EventID Source 또는 MatchingID Source)가 지정되어 있을 수 있다. 본 개시에서 \"프로파일 패키지(Profile Package)\"는 프로파일과 혼용되거나 특정 프로파일의 데이터 객체(data object)를 나타내는 용어로 사용될 수 있으며, Profile TLV 또는 프로파일 패키지 TLV (Profile Package TLV) 로 명명될 수 있다. 프로파일 패키지가 암호화 파라미터를 이용해 암호화된 경우 보호된 프로파일 패키지 (Protected Profile Package(PPP)) 또는 보호된 프로파일 패키지 TLV(PPP TLV)로 명명될 수 있다. 프로파일 패 키지가 특정 eUICC에 의해서만 복호화 가능한 암호화 파라미터를 이용해 암호화된 경우 묶인 프로파일 패키지 (Bound Profile Package (BPP)) 또는 묶인 프로파일 패키지 TLV(BPP TLV)로 명명될 수 있다. 프로파일 패키지 TLV는 TLV(Tag, Length, Value) 형식으로 프로파일을 구성하는 정보를 표현하는 데이터 세트(set) 일 수 있다. 본 개시에서 \"로컬 프로파일 관리(Local Profile Management, LPM)\"는 프로파일 로컬관리(Profile Local Management), 로컬관리(Local Management), 로컬관리 명령(Local Management Command), 로컬 명령(Local Command), 로컬 프로파일 관리 패키지(LPM Package), 프로파일 로컬 관리 패키지(Profile Local Management Package), 로컬관리 패키지(LOCAL MANAGEMENT PACKAGE), 로컬관리 명령 패키지(Local Management Command Package), 로컬명령 패키지(Local Command Package)로 명명될 수 있다. LPM은 단말에 설치된 소프트웨어 등을 통해 특정 프로파일의 상태(Enabled, Disabled, Deleted)를 변경하거나, 특정 프로파일의 내용(예를 들면, 프로"}
{"patent_id": "10-2022-0020884", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "파일의 별칭(Profile Nickname), 또는 프로파일 요약 정보(Profile Metadata) 등)을 변경(update)하는 용도로 사용될 수 있다. LPM은 하나 이상의 로컬관리명령을 포함할 수도 있으며, 이 경우 각 로컬관리명령의 대상이 되 는 프로파일은 로컬관리명령마다 서로 같거나 다를 수 있다. 본 개시에서 \"원격 프로파일 관리(Remote Profile Management, RPM)\"는 프로파일 원격관리(Profile Remote Management), 원격관리(Remote Management), 원격관리 명령(Remote Management Command), 원격 명령(Remote Command), 원격 프로파일 관리 패키지(RPM Package), 프로파일 원격 관리 패키지(Profile Remote Management Package), 원격관리 패키지(Remote Management Package), 원격관리 명령 패키지(Remote Management Command Package), 원격명령 패키지(Remote Command Package)로 명명될 수 있다. RPM은 특정 프로파일의 상태(Enabled, Disabled, Deleted)를 변경하거나, 특정 프로파일의 내용(예를 들면, 프로파일의 별칭(Profile Nickname), 또"}
{"patent_id": "10-2022-0020884", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "는 프로파일 요약 정보(Profile Metadata) 등)을 변경(update)하는 용도로 사용될 수 있다. RPM은 하나 이상의 원격관리명령을 포함할 수도 있으며, 이 경우 각 원격관리명령의 대상이 되는 프로파일은 원격관리명령마다 서 로 같거나 다를 수 있다. 본 개시에서 \"인증서(Certificate)\" 또는 \"디지털 인증서(Digital Certificate)\"는 공개 키(Public Key, PK)와 비밀 키(Secret Key, SK)의 쌍으로 구성되는 비대칭 키(Asymmetric Key) 기반의 상호 인증(MutualAuthentication)에 사용되는 디지털 인증서(Digital Certificate)를 나타낼 수 있다. 각 인증서는 하나 또는 하나 이상의 공개 키(Public Key, PK)와, 각 공개 키에 대응하는 공개 키 식별자(Public Key Identifier, PKID)와, 해당 인증서를 발급한 인증서 발급자(Certificate Issuer, CI)의 식별자(Certificate Issuer ID) 및 디지털 서명(Digital Signature)을 포함할 수 있다. 또한 \"인증서 발급자(Certificate Issuer)는 인증 발급자(Certification Issuer), 인증서 발급기관 (Certificate Authority, CA), 인증 발급기관(Certification Authority) 등으로 명명될 수 있다. 본 개시에서 \"공개 키(Public Key, PK)\"와 \"공개 키 식별자(Public Key ID, PKID)\"는 특정 공개 키 내지 해당 공개 키가 포함된 인증서, 또는 특정 공개 키의 일부분 내지 해당 공개 키가 포함된 인증서의 일부분, 또는 특 정 공개 키의 연산 결과(예를 들면, 해시(Hash))값 내지 해당 공개 키가 포함된 인증서의 연산 결과(예를 들면, 해시(Hash))값, 또는 특정 공개 키의 일부분의 연산 결과(예를 들면, 해시(Hash))값 내지 해당 공개 키가 포함 된 인증서의 일부분의 연산 결과(예를 들면, 해시(Hash))값, 또는 데이터들이 저장된 저장 공간을 지칭하는 동 일한 의미로 혼용될 수 있다. 본 개시에서 하나의 인증서 발급자(Certificate Issuer)가 발급한 인증서들(1차 인증서)이 다른 인증서(2차 인 증서)를 발급하는데 사용되거나, 2차 인증서들이 3차 이상의 인증서들을 연계적으로 발급하는데 사용되는 경우, 해당 인증서들의 상관관계는 인증서 연쇄(Certificate Chain) 또는 인증서 계층구조(Certificate Hierarchy)로 명명될 수 있으며, 이 때 최초 인증서 발급에 사용된 CI 인증서는 인증서 근원(Root of Certificate), 최상위 인증서, 근원 CI(Root CI), 근원 CI 인증서(Root CI Certificate), 근원 CA(Root CA) 근원 CA 인증서(Root CA Certificate)등으로 명명될 수 있다. 본 개시에서 \"통신사업자(mobile operator)\"는 단말에 통신서비스를 제공하는 사업체를 나타낼 수 있으며, 통신 사업자의 사업지원시스템 (business supporting system: BSS), 운영지원시스템 (operational supporting system: OSS), POS 단말(point of sale terminal), 그리고 기타 IT 시스템을 모두 통칭할 수 있다. 또한 본 개 시에서 통신사업자는 통신서비스를 제공하는 특정 사업체를 하나만 표현하는데 한정되지 않고, 하나 이상의 사 업체의 그룹 또는 연합체(association 또는 consortium) 내지 해당 그룹 또는 연합체를 대표하는 대행사 (representative)를 지칭하는 용어로 사용될 수도 있다. 또한 본 개시에서 통신사업자는 사업자 (operator, OP, 또는 Op.), 모바일 네트워크 운영자 (mobile network operator: MNO), 모바일 가상 네트워크 운영자 (mobile virtual network operator: MVNO), 서비스 제공자(service provider 또는 SP), 프로파일 소유자 (profile owner: PO) 등으로 명명될 수 있으며, 각 통신사업자는 통신사업자의 이름 그리고/또는 고유 식별자(object identifier: OID)를 적어도 하나 이상 설정하거나 할당 받을 수 있다. 만일 통신사업자가 하나 이상의 사업체의 그룹 또는 연합체 또는 대행사를 지칭하는 경우, 임의의 그룹 또는 연합체 또는 대행사의 이름 또는 고유 식별 자는 해당 그룹 또는 연합체에 소속한 모든 사업체 내지 해당 대행사와 협력하는 모든 사업체가 공유하는 이름 또는 고유 식별자일 수 있다. 본 개시에서 \"AKA\"는 인증 및 키 합의(Authentication and Key agreement)를 나타낼 수 있으며, 3GPP 및 3GPP2 망에 접속하기 위한 인증 알고리즘을 나타낼 수 있다. 본 개시에서 \"K\" 는 AKA 인증 알고리즘에 사용되는 eUICC에 저장되는 암호키 값이다. 본 개시에서 \"OPc\"는 AKA 인증 알고리즘에 사용되는 eUICC에 저장될 수 있는 파라미터 값이다. 본 개시에서 \"NAA\"는 네트워크 접속 어플리케이션(Network Access Application) 응용프로그램으로, UICC에 저 장되어 망에 접속하기 위한 USIM 또는 ISIM과 같은 응용프로그램일 수 있다. NAA는 망접속 모듈일 수 있다. 본 개시에서 \"표지자(indicator)\"는 임의의 기능, 설정, 동작이 필요하거나 필요하지 않음을 표현하는 용도로 사용될 수 있고, 또는 해당 기능, 설정, 동작 자체를 표현하는 용도로도 사용될 수 있다. 또한, 본 개시에서 표 지자는 문자열이나 숫자열(alphanumeric string), 참/거짓을 나타내는 연산자(boolean - TRUE or FALSE), 비트 맵(bitmap), 어레이(array), 플래그(flag) 등 다양한 형태로 표현될 수 있으며, 동일한 의미를 가지는 다른 표 현법들이 혼용될 수 있다. 본 발명의 일 실시 예에 따른 무선 통신 시스템에서 eUICC(embedded universal integrated circuit card)를 이 용하여 네트워크에 연결하기 위한 프로파일을 관리하는 단말은, 송수신부; 및 사용자로부터 상기 프로파일의 이 동 요청을 입력 받고, 프로파일 이동 정보를 확인하고, 프로파일 서버에 프로파일 이동을 요청하는 메시지를 송 신하고, 필요한 경우 사용자 인증을 위한 확인 번호 또는 문자열을 프로파일 서버로 더 송신하고, 상기 프로파 일 서버로부터 활성화 코드 또는 이벤트 등록 여부 및 프로파일 삭제 필요 여부를 수신하고, 상기 프로파일을삭제하고, 상기 프로파일의 삭제 결과를 상기 프로파일 서버에 송신하고, 상기 활성화 코드 또는 프로파일 이동 요청 결과를 다른 단말로 전달하고, 다른 단말로부터 상기 활성화 코드 또는 프로파일 이동 요청 결과를 전달받 고, 상기 활성화 코드를 이용하여 프로파일 서버에 프로파일을 요청하는 메시지를 송신하고, 상기 프로파일 서 버로부터 프로파일 패키지를 수신하고, 상기 프로파일 패키지를 설치하도록 상기 단말을 제어하는 적어도 하나 의 프로세서를 포함할 수 있다. 일 실시 예에 따른 무선 통신 시스템에서 단말에 네트워크 연결을 위한 프로파일을 제공하는 프로파일 서버는, 송수신부; 및 상기 단말로부터 상기 프로파일의 이동 요청 메시지를 수신하고, 필요한 경우 단말로부터 사용자 인증을 위한 확인 번호 또는 문자열을 프로파일 서버로 더 수신하고, 상기 프로파일이 이동 가능한지 판단하고, 상기 프로파일 내지 신규 프로파일을 다운로드 할 수 있는 활성화 코드를 생성하고, 단말에서 상기 프로파일의 삭제 후 이동이 가능한 경우 준비된 프로파일의 상태를 다운로드 가능하지 않은 상태로 설정하고, 상기 단말로 상기 활성화 코드 및 상기 프로파일 삭제 필요 여부를 송신하고, 상기 단말로부터 상기 프로파일의 삭제 결과를 수신하고, 상기 프로파일을 다운로드 가능한 상태로 변경하고, 상기 단말로부터 프로파일 다운로드 요청 메시지 를 수신하고, 상기 프로파일이 다운로드 가능한 상태인지를 판단하고, 상기 프로파일이 다운로드 가능한 상태인 경우 상기 단말로 프로파일 패키지를 송신하고, 상기 프로파일이 다운로드 불가능한 상태인 경우 오류코드를 송 신하거나 상기 프로파일 다운로드 요청에 포함된 프로파일 삭제 결과를 검증하고, 상기 프로파일 삭제 결과가 존재하지 않거나 검증에 실패하는 경우 오류코드를 송신하도록 프로파일 서버를 제어하는 적어도 하나의 프로세 서를 포함할 수 있다. 본 발명의 일 실시 예는, eUICC를 탑재한 단말에서 가입자 정보인 프로파일을 제1 단말에서 제2 단말로 이동하 여 사용하도록 하는 방법 및 장치에 관련된 것이다. 특히 본 발명의 일 실시 예는 이를 위해 제1 프로파일의 다 운로드를 처리하는 과정에서 사용된 활성화 코드를 참조하여, 프로파일 서버가 제1 단말에게 제1 프로파일의 기 기 변경을 처리하기 위한 정보를 제1 프로파일의 다운로드 과정 중에 함께 전송하거나 또는 상기 다운로드 시 제시한 활성화 코드를 기기 변경 처리 시 사용을 위해 저장을 지시하는 메시지를 전송하여, 제1 단말로 하여금 해당 활성화 코드를 저장 또는 수신된 기기 변경 정보를 저장하게 하고, 다시 제 1 단말이 저장한 상기 정보들 로 활성화 코드를 구성하여 제2 단말에게 제공함으로써, 제2 단말에서 제2 단말이 제1 프로파일에 대응되는 프 로파일을 다운로드할 수 있도록 제공하는 방법 및 장치를 제공한다. 본 발명의 일 실시 예는, 사업자 또는 서버가 제1 단말의 프로파일 다운로드 처리 시 기기 변경에 필요한 프로 파일 재설치 정보를 추가로 생성할지를 판단하여 제공하는 단계; 제1 단말에서 사업자 또는 서버로부터 상기 기 기 변경에 필요한 소정의 정보를 획득하여 처리하는 단계; 제1 단말에서 제2 단말로 프로파일의 재설치를 위한 정보를 전달하는 단계; 제2 단말에서 수신된 해당 프로파일 재설치를 위한 정보를 사용하여 서버로부터 프로파 일을 다운로드하여 설치하는 단계를 포함할 수 있다. 본 발명의 일 실시 예에 따른 무선 통신 시스템에서 가입자 정보를 이동 처리 방법은, 단말이 기기변경 지원 정 보가 포함된 활성화 코드를 입력 받는 단계; 상기 프로파일 활성화 코드를 프로파일 서버에게 제시, 및 이에 응 답으로 프로파일 서버로부터 기기 변경을 위한 소정의 정보를 수신하는 단계; 상기 수신된 기기 변경 정보를 기 반으로 기기 변경 처리를 위한 활성화 코드를 생성하는 단계; 상기 생성된 코드를 다른 단말에게 전송하여 다른 단말로 하여금 해당 입력된 활성화 코드를 기반으로 프로파일 서버로부터 프로파일을 다운로드할 수 있도록 제 공하는 것을 포함할 수 있다. 본 발명의 일 실시 예에 따르면, 통신 시스템에서 단말은 단말에 프로파일을 최초 설치하기 위해 활성화 코드를 사업자 또는 프로파일 서버로부터 발급 받을 수 있으며, 프로파일 재설치를 위한 정보가 활성화 코드에 추가적 으로 포함되어 수신된 경우에, 기기 변경을 지원하는 단말의 경우에 상기 수신한 프로파일 재설치 정보를 저장 하여 가지고 있다가 특정 시점에 해당 설치한 프로파일의 이동 요청이 입력되면 해당 프로파일 재설치를 위한 정보 또는 해당 정보를 이용하여 재 생성한 정보를, 프로파일을 이동 설치할 단말에게 제공해 줄 수 있다. 필요 한 경우 단말은 이동할 프로파일을 우선 삭제하고, 프로파일의 삭제를 증명할 수 있는 프로파일 삭제 증빙을 서 버에게 전달하여, 서버의 정상 응답을 수신한 경우에 한해 앞서 프로파일 재설치를 위한 정보 또는 해당 정보를 이용하여 재 생성한 정보(본 특허에서는 프로파일 재설치를 위한 정보 또는 해당 정보를 이용하여 재 생성한 정 보를 기기 변경용 활성화 코드로 칭한다.)를 프로파일을 이동 설치할 단말에게 제공해 줄 수 있다. 상기 기기 변경용 활성화 코드를 수신 받은 다른 단말은 프로파일 서버에게 기기 변경 활성화 코드를 전송하여 이에 대한 결과로 프로파일을 효율적으로 다운로드 받아 설치하도록 할 수 있다. 본 발명의 일 실시 예에 따르면, 통신 시스템에서 프로파일 서버는 단말로부터 단말에 프로파일을 설치를 위한 활성화 코드를 수신할 때, 해당 활성화 코드에 추가적인 기기 변경을 지원 정보가 포함된 경우에 다운로드 하여 줄 프로파일의 정보로 해당 프로파일을 다른 단말로 이동 재 설치 하기 위해 프로파일 다운로드를 위해 사용한 활성화 코드를 저장하라는 요청을 회신하여, 단말이 기기 변경 시 사용할 수 있는 정보로써 해당 활성화 코드를 저장하게끔 처리할 수 있다. 이후 특정 시점에 프로파일 서버가 다른 단말로 프로파일 설치 요청을 수신하면, 필요한 경우 사업자에게 프로파일의 이동이 가능한지 확인하는 요청을 송신하고, 필요한 경우 단말에게 사용자 인증을 위한 확인 번호 또는 문자열을 요청하고, 필요한 경우단말로부터 프로파일 삭제 증빙의 결과를 수신하였 는지 확인하고, 필요한 경우 준비된 프로파일을 다운로드 불가능한 상태로 설정하여 준비하고, 필요한 경우 단 말이 프로파일을 삭제한 것을 검증하여 성공 시 프로파일을 다운로드해 줄 수 있는 상태로 변경하고, 수신된 활 성화 코드를 확인하여 프로파일의 복제와 단말의 오류를 방지하여 안전하게 다른 단말에서 프로파일 다운로드를 처리할 수 있다. 이하에서는 도 1 내지 도 6을 참조하여 본 개시의 프로파일을 설치하고 관리하는 방법 및 장치를 설명하도록 한 다. 도 1은 본 개시의 일 실시 예에 따른 단말에 고정된 프로파일이 탑재된 UICC를 이용한 단말의 이동통신 네트워 크 연결방법을 도시하는 도면이다. 도 1에서 도시한 바와 같이, UICC는 단말에 삽입될 수 있다. 예를 들면, UICC는 착탈형 일 수 도 있고 단말에 미리 내장된 것 일 수도 있다. 고정된 프로파일이 탑재된 UICC의 고정된 프로파일은 특정 통신사에 접속할 수 있는 '접속정보'가 고정되 어 있음을 의미한다. 예를 들면, 접속정보는 가입자 구분자인 IMSI 및 가입자 구분자와 함께 망에 인증하는데 필요한 K 또는 Ki 값일 수 있다. 다양한 실시 예에 따른 단말은 UICC를 이용하여 이동통신사업자의 인증처리시스템(예를 들면, HLR(home location register), AuC 등)과 인증을 수행할 수 있다. 예를 들면, 인증과정은 AKA(Authentication and Key Agreement) 과정일 수 있다. 단말은 인증에 성공하면 이동통신시스템의 이동통신사 네트워크(13 0)를 이용하여 전화나 모바일 데이터 이용 등의 이동통신 서비스를 이용할 수 있다. 도 2는 본 개시의 일 실시 예에 따른 단말이 사용자의 입력에 따라 제1 단말에 설치된 프로파일을 관리하고 제2 단말에 프로파일을 설치하는 시스템의 구성을 도시하는 도면이다. 도 2에 도시된 바와 같이, 단말(210, 220)에는 eSIM(211, 221)이 장착되어 있고, eSIM(211, 221)에는 프로파일 (미도시)이 설치되어 있을 수 있다. 또한 단말(210, 220)에는 LPA(212, 222)가 설치되어 있을 수 있다. eSIM(211, 221)은 LPA(212, 222)의 제어를 받을 수 있다. 사용자는 LPA(212, 222)를 통해 각 단말의 eSIM(211, 221)에 설치된 프로파일을 제어할 수 있다. 사용자는 서비스 제공자(이하 \"통신사업자\" 또는 \"사업자\", 250)로부터 통신서비스를 제공받을 수 있다. 이를 위해 제1 단말에는 사업자의 프로파일(미도시)이 설치되어 있을 수 있다. 사용자는, 예를 들어 제2 단말을 새로 구매한 경우, 제1 단말에 설치된 프로파일을 제2 단말에 다시 설치하려고 시도할 수 있다. 사업자는 제1 프로파일 서버 및 제2 프로파일 서버와 연결되어 있고, 제1 단말의 LPA(21 2)는 제1 프로파일 서버와 연결되어 있고, 제2 단말의 LPA는 제2 프로파일 서버와 연결되 어 있을 수 있다. 이때, 제1 프로파일 서버와 제2 프로파일 서버는 서로 같을 수도 있고 다를 수도 있다. 또한 하나 이상의 사업자 서버가 구성에 포함되는 경우, 각 사업자 서버는 별도의 각 프로파일 서버와 연 결되어 있을 수도 있고, 적어도 하나 이상의 사업자 서버가 동일한 프로파일 서버에 연결되어 있을 수도 있다. 또한, 도 2에는 편의상 프로파일 서버(230, 240) 각각이 단일 서버로 구성되는 경우를 도시하였으나, 구현 및 실시 예에 따라 하나 이상의 프로파일 서버(SM-DP+)가 서버 구성에 포함될 수 있다. 이와 같이 다양한 서버의 구성을 이하 도면에는 간략하게 단일 프로파일 서버로 표기할 수도 있음에 유의해야 한다. 본 개시의 일 실시 예에 따른 사용자, 사업자, 단말(210, 220), eSIM(211, 221), LPA(212, 222), 프 로파일 서버(230, 240)의 상세한 동작 및 메시지 교환 절차는 후술할 도면들을 참조하여 자세히 살펴보기로 한 다. 도 3은 본 개시의 일 실시 예에 따른 제2 단말이 프로파일을 다운로드 받기 위한 제1 단말, 제2 단말, 및 서버 간 절차의 일 예를 도시한 도면이다. 즉, 도 3은, 제1 단말이 프로파일 설치를 하는 과정에서 기기 변경 지원에 대한 정보가 포함된 활성화 코 드를 프로파일 서버에게 전송하여 이에 대한 정보로 회신된 기기 변경 지원 정보를 제1 단말에게 전 송하여 저장하고, 이후 특정 시점에 기기 변경을 요청받아 이를 수행하는 경우에, 저장한 기기 변경 정보에 요 구 시, 설치된 제1 프로파일을 제2 단말로 기기변경을 처리하기 위하여, 제1 프로파일의 삭제 또는 사용 불가 상태로 처리한 후 프로파일 서버에게 제1 프로파일의 삭제 또는 사용 불가 상태로 처리한 결과에 대 한 정보를 전송하고, 프로파일 서버로부터 정상 응답이 수신되는 경우 제1 단말이 활성화 코드를 생 성하여 제2 단말에게 전송하고, 제2 단말이 프로파일 서버에게 프로파일 다운로드를 요청하고, 프로파일 서버가 제2 단말로부터 수신된 활성화 코드를 검증하고, 추가적으로 필요 시 제1 단말(21 0)이 전달한 제1 프로파일의 삭제 또는 사용 불가 상태로 처리한 정보를 검증한 후, 프로파일 서버가 제2 단말에게 프로파일 이동을 위해 준비된 프로파일을 다운로드하여 제 2 단말이 이를 다운로드 및 설치 하여 제1 프로파일의 기기 변경을 처리하는 절차를 도시하는 도면이다. 도 3에서 사용자, 제1 단말, 제2 단말, 프로파일 서버, 사업자에 대한 구성과 설명은 도 2를 참조하기로 한다. 예를 들어, 사용자, 제1 단말, 제2 단말 프로파일 서버, 사업자 는 각각 도 2의 사용자, 제1 단말, 제2 단말, 제1 프로파일 서버, 사업자에 대 응될 수 있다. 도 3을 참조하면, 3001 단계에서 사업자는 프로파일 서버에게 제1 단말을 위한 프로파일 준비를 요청할 수 있다. 예를 들면, 상기 프로파일의 준비하는 요청을 위해 사업자는 사용자와 해당 프로파 일로 제공될 서비스에 대한 계약을 수행할 수 있다. 사용자는 제1 단말을 통해서 사업자가 제공 하는 서비스를 선택하고, 사업자와 서비스 예약 및 이에 대응하는 프로파일을 구매할 수 있다. 실시 예에 따라, 사업자는 ES2+.DownloadOrder 함수와 ES2+.ConfirmOrder함수를 이용하여 프로파일 서버에게 프로파일 준비를 요청할 수 있다. 3001 단계에서 프로파일 서버는 제1 단말에게 전달될 프로파일을 준비할 수 있다. 프로파일 서버 또는 사업자는 상기 준비된 프로파일에 대응되는 매칭 식별자(Matching ID)를 부여하고 관리할 수 있다. 사업자가 프로파일 준비 요청에서 프로파일 다운로드를 위한 확인 코드 또는 프로파일 이동을 위한 확인 코드를 포함하였다면, 프로파일 서버는 준비된 프로파일에 대응되도록 해당 확인 코드를 저장할 수 있다. 프로파일 서버는 해당 확인 코드 저장 시, 해당 확인 코드를 변경 없이 저장하거나, 확인 코드의 해 쉬 값을 선택적으로 생성할 수 있다. 해쉬는 SHA(Secure Hash Algorithm)-0, SHA-1, SHA-256 등의 알고리즘을 사용할 수 있다. 3001 단계에서 프로파일 서버 또는 사업자는 프로파일 다운로드를 위한 활성화 코드(Activation Code)를 생성하고 사용자에게 전달할 수 있다. 상기 활성화 코드는 프로파일이 준비된 프로파일 서버 주소의 FQDN(Fully Qualified Domain Name), 준비된 프로파일에 대응되는 매칭 식별자, 프로파일 다운로드 확인 코드 필요 지시자(Confirmation Code Required Flag), 프로파일 이동 확인 코드 필요 지시자(Confirmation Code for Device Change Required Flag), 기기변경 지원 지시자(Device Change Support), 기기변경 정보 (Device Change Info) 중 적어도 하나를 포함할 수 있다. 상기 사업자의 프로파일 준비 요청에서 프로파일 다운로드 확인 코드가 포함되었다면, 프로파일 다운로드 확인 코드 필요 지시자는 '1' 또는 'True'로 설정될 수 있다. 또한 상기 사업자의 프로파일 준비 요청에서 기기변경 정보(Device Change Info)가 포함되었다면, 추후 LPA(단말)가 저장하여 기기변경을 위해서 사용해야 하는 기기변경 정보로써, 신규 활성화 코드 토큰 값이 포함되어 설정될 수 있다. 3001 단계에서 또한 해당 프로파일의 이동 시 프로파일 서버에 제1 프로파일 이동을 위해 준비될 제2 단말 을 위한 제2 프로파일이 제2 단말에게 전달되기 전에 제1 프로파일의 삭제가 필요한 경우, 사업자 는 제1 프로파일 삭제 지시자(Delete Old Profile)를 프로파일 서버에게 회신할 수 있다. 또한 사업 자는 제1 프로파일을 이동하려는 사용자가 주지해야 할 정보를 프로파일 서버에게 전달할 수 있다. 3001 단계에서 실시 예에 따라, 프로파일 서버는 준비된 프로파일에 대응하는 이벤트를 제1 단말이 접근 가능한 개통중개서버(미도시)에 선택적으로 등록할 수 있다. 개통중개서버(미도시)에 등록되는 이벤트는 프로파일이 준비된 프로파일 서버 주소의 FQDN, 준비된 프로파일의 매칭 식별자(또는 이벤트 식별자) 중 적어도 하나를 포함할 수도 있다. 기기 변경 정보를 포함하는 활성화 코드는 일 예로 다음과 같은 형태일 수 있 으며 $는 구분자를 나타낸다 기기 변경 정보를 포함한 활성화 코드의 예: 1$SM-DP+Address(프로파일 서버 주소)$AC_Token(매칭 ID의 일 예로 활성화코드 토큰)$SM-DP+Oid(프로파일 서버 식별자)$DeviceChangeSupport(기기 변경 지원 표 기)$DeviceChangeInfo(기기변경을 위한 소정의 정보) 3003 단계에서 제1 단말은 프로파일 서버 또는 사업자가 제공한 활성화 코드 또는 개통중개서버(미도시)로부터 획득한 이벤트를 이용하여 프로파일 서버 에 준비된 프로파일을 다운로드하고 제1 단말의 eSIM(미도시, 도 2 211에 대응)에 설치할 수 있다. 본 실시 예에 따르면, 3003 단계에서 단말에게 제공되는 활성화 코드에는 전술한 바와 같이 기기변경 정보 (Device Change Info) 그리고/또는 기기변경 지원 지시자(Device Change Support)가 포함될 수 있다. 3005 단계에서 단말은 사용자가 획득한 활성화 코드를 입력 받아 프로파일 다운로드를 위한 절차를 시작할 수 있다. 이 때 단말은 프로파일 다운로드 요청에 기기 변경 지원 지시자(Device Change Support indication)를 포함하여 프로파일 서버에게 전송할 수 있다. 제1 단말은 Device Info 및 euicc Info 에 기기변경 기능을 지원 표기를 포함하여 프로파일 서버에게 전송할 수 있으며, 제1 단말은 제1 단 말에 설치된 LPA과 eUICC의 version(버전, v버전번호로 표기)의 조합에 따라 다음 중 하나의 방법으로 전 송할 수 있다. ● v3 LPA와 v2 eUICC의 조합: Device Info에 해당 정보를 포함하고 eUICC에 지원 버전 정보를 포함해 전송 ● v3 LPA와 v3 eUICC의 조합: Device Info에 해당 정보를 포함하고 eUICC에 지원 버전 정보와 기기 변경 지원 식별 정보를 포함하여 전송 일 예로 version은 GSMA SGP.22의 v2 또는 v3 규격을 따르며, 명시적인 규격 정보가 포함되어 프로파일 서버 에게 전송되는 경우에 프로파일 서버가 해당 규격 정보로 버전을 판단할 수도 있고 또는 버전 정보가 명시적으로 포함되어 있지 않다 하더라도 특정 버전, 예를 들어 v3에만 포함되는 파라미터, 일 예로 lpaRSPCapablity 등을 가지고 프로파일 서버가 버전을 판단하는 것도 가능할 수 있다. 또한, v3인 경우에 일 예로 기기변경의 지원 여부는 Device Info에 포함된 lpaRSPCapability, eUICC Info에 포함된 eUICCRSPCapability를 통해 프로파일 서버가 판단할 수도 있다. 이를 수신 받은 프로파일 서버는 기기변경 지원 식별 정보와 eUICC의 지원 버전을 확인하여 eUICC의 지원 버전이 v3이며, 기기 변경을 지원하는 경우에 다운로드를 처리할 프로파일의 메타테이터에 기기 변경을 위한 소 정의 정보를 포함하여 준비하고 다운로드를 처리해 줄 수 있다. 또한, 프로파일 서버는 향후 다른 단말에 서 해당 다운로드한 프로파일에 대응되는 다운로드 요청 시 사용할 수 있도록 Profile Package를 미리 준비해 둘 수도 있으며, 향후 기기 변경에 사용될 Profile Package와 AC_token을 맵핑하여 저장해 둘 수 있다. AC_token은 신규 생성 또는 기존 AC에 포함된 AC_token 일 수 있다. 한편, eUICC의 지원 버전이 v3이며, 기기 변경을 지원하지 않는 경우 프로파일 서버는 다음 중 한가지 방 법으로 결정하여 처리할 수 있다. ● 제1 단말이 기기 변경을 지원하지 않는 단말로 인지하여 기기 변경에 대한 정보를 프로파일 정보(메타 데이터 또는 Elementary File)에 포함하지 않고 제1 단말에게 전송. 프로파일 다운로드를 위한 절차를 완 료. ● LPA의 버전이 v3이며 기기변경 지원 식별 정보가 Device Info에 포함되어 수신된 경우, v3 LPA와 v2 eUICC의 조합으로 인지하여, Profile download 시, 기기 변경을 위해 사용할 신규 Activation Code와 해당 Activation Code를 단말에 저장하라는 명령을 함께 단말에게 전송하거나, 또는 기존 프로파일 다운로드를 위해 LPA가 프로파일 서버에 사용한 Activation Code를 저장하라고 단말에게 전송. 3007 단계에서 단말은 기기 변경을 처리하기 위한 정보를 저장할 수 있다. 정보의 저장은, 단말이 상 기 Profile Download를 성공적으로 수행한 후, 또는 Profile installation result를 성공적으로 전달한 이후일 수 있다. 저장하는 기기 변경을 처리하기 위한 정보는 앞서 수신한 3003 단계에서 제공 받은 활성화 코드 (Activation Code) 또는 3005 단계에서 프로파일 서버의 응답에 포함된 기기변경 정보, 즉 기존 활성화 코 드의 저장 및 재사용에 대한 지시자 또는 새로운 활성화 코드 정보와 해당 활성화 코드의 저장 사용에 대한 정 보 등을 포함할 수 있다. 단말은 단말의 eUICC(미도시) 또는 eUICC 외 단말의 저장 공간(미도시)에 해당 정보를 저장할 수 있다. 단말이 저장할 기기 변경에 대한 정보가 있는지 판단하는 방 법은, 활성화 코드에 기기변경 시 사용 가능 지시자(즉, 저장 필요를 의미)가 있는지 여부 또는 프로파일 서버 가 Profile Download를 처리하는 응답 메시지로, 향후 해당 단말에서 다른 단말로 기기 변경이 가능함을 포함하는 소정의 정보가 포함되었는지를 통해서 판단할 수 있다. 해당 소정의 정보로는 제2 프로파일(Profile 2)에 대응되는 활성화 코드(Activation Code, AC), 프로파일 삭제 지시자(Delete Profile Flag), 이벤트 등록여부 지시자(Event Registration Flag), 제1 프로파일(Profile 1)의 Download 시 제시한 활성화 코드를 기기 변경을 위해 저장에 대한 정보 중 적어도 하나가 선택적으로 포함될 수 있다. 상기 정보가 포함된 응답 메시지의 일 예는 단말 인증 요청(authenticate client) 메시지에 대한 프로파일 서버 의 응답 메시지 또는 Profile 정보로 Profile Metadata일 수도 있다. 또는 응답 메시지에 포함되어 내려줄, 설치 프로파일 패키지에서 프로파일 내부의 elementary file EFDCC under DFGSMA로 제공되는 값일 수도 있다. 한편, 단말은 기기변경 정보를 저장하는 방법으로, 3005 단계에서 프로파일 다운로드에 사용한 활성화 코 드를 저장하거나 또는 해당 활성화 코드의 정보 중에 기기변경 정보만을 추출하여 새로운 활성화 코드 포맷을 생성하여 저장하는 것도 가능하다. 일 예로 최초 수신된 활성화 코드가 아래 '기존'과 같은 포맷인 경우, 기존: 1$SM-DP+Address$AC_Token$SM-DP+Oid$DeviceChangeSupport$DeviceChangeInfo 단말은 상기 '기존' 활성화 코드에서 AC_Token 값을 DeviceChangeInfo에서 추출하여 AC_Token을 치환한 다음 아래의 '생성'에 예를 든 것과 같이 새로운 활성화 코드 포맷으로 저장하는 방법일 수도 있다. 생성: 1$SM-DP+Address$New AC_Token(DeviceChangeInfo에서 추출하여 치환)$SM-DP+Oid 3009 단계에서 사용자는 제1 단말에게 상기 3005 단계 및 3007 단계에서 다운로드한 제1 프로파일의"}
{"patent_id": "10-2022-0020884", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "이동(transfer)을 요청할 수 있다. 이를 위해 사용자는, 제1 프로파일에 대한 요약 정보(profile metadata)와, 제1 프로파일을 이동하려는 사용자가 주지해야 할 정보를, 제1 단말을 통해 확인할 수 있다. 제1 프로파일에 대한 정보와, 제1 프로파일을 이동하려는 사용자가 주지해야 할 정보는, 제1 단말 또는 제1 프로파일에 저장되어 있을 수 있다. 제1 프로파일에 대한 정보는, 예를 들면, 사업자의 이름이나 로고, 프로파일 정책(profile policy) 등을 포함할 수 있다. 제1 프로파일을 이동하려는 사용자가 주지해야 할 정보는, 예를 들면, 사업자가 허 용하는 프로파일 이동의 잔여 횟수나 프로파일 이동을 위해 사용자가 지불해야 하는 비용 등을 포함할 수 있다. 실시 예에 따라 제1 프로파일에 대한 정보는 기기변경 설정을 포함할 수 있고, 기기변경 설정에 대한 정 보의 일 예로 프로파일을 이동하려는 제2 단말의 정보를 획득을 요구하는 내용을 포함하거나 기기 변경을 처리하기 위해 해당 프로파일의 삭제가 요구됨을 나타내는 식별 정보, 또는 기기 변경 제공 여부 등을 포함할 수 있다. 제2 단말의 정보는 제2 단말에 설치된 eUICC 식별자, 제2 단말의 TAC(Type allocation Code), 제2 단말이 지원하는 개통중개서버(미도시)의 정보 중 적어도 하나를 선택적으로 포함 할 수 있으며, 제2 단말이 지원하는 개통중개서버의 정보는 적어도 하나 이상의 개통중개서버 주소의 FQDN 과 해당 개통중개서버가 푸쉬 알림을 지원하는지 여부를 나타내는 지시자를 포함할 수 있다. 또한, 제1 프로파 일에는, 프로파일의 이동을 위해 단말이 접속해야 하는 프로파일 서버의 주소가 적어도 하나 이상 저장되어 있 을 수 있다. 프로파일의 이동을 위해 단말이 접속해야 하는 프로파일 서버는, 예를 들면, 프로파일 서버일 수 있다. 3012 단계에서 단말은 해당 제1 프로파일이 기기 변경을 지원하고, 기기 변경 처리를 위해 저장한 활성화 코드가 있는 경우에 해당 활성화 코드를 준비해 둘 수 있다. 필요 시 단말은 Profile Download에 사용된 Activation Code 내의 기기변경 정보를 이용하여 다른 단말에서 Profile Download를 위해 사용할 Activation Code를 구성해 둘 수 있다. 또한, Activation Code가 Profile에 저장되어 있을 경우, 해당 값을 우 선적으로 처리할 수 있다. 앞서 절차에서 단말이 프로파일 및 단말에서 수집하여 저장된 정보를 통해 해당 제1 프로파일을 다른 단말로 변경 설치 처리가 가능하다고 판단한 경우에 있어서, 3015 단계에서 단말의 LPA(미도시)는 해 당 제1 프로파일을 삭제하는 명령을 eUICC(미도시)에게 전송하여 eUICC(미도시)로 하여금 선택된 해당 제1 프로 파일의 상태를 삭제 처리하거나 또는 unusable 상태로 변경 처리한 후, 처리 결과에 대한 notification을 생성 하여 준비해 둘 수 있다. Unusable 상태로 변경의 처리는 eUICC 내의 제1 프로파일의 상태는 그대로 유지한 채 로 단말에서 필요 시 해당 프로파일의 상태 변경에 대한 접근을 제어하는 형태로 처리하는 것도 일 예가 될 수 있다. 3018 단계에서 단말은 프로파일 서버에게 프로파일 삭제 또는 unused 상태로 변경 처리에 대한 notification을 전송해 주고, 3021 단계에서 프로파일 서버로부터 단말이 정상 응답을 수신할 수 있 다.프로파일 서버는 해당 제1 프로파일의 삭제 또는 unusable 명령을 수신하는 경우에, 기기 변경을 지원하는 프로파일인지를 확인하여, 기기 변경을 지원하는 프로파일인 경우에 다른 단말에서 3029 단계에서 Profile Download를 수행하는 경우에, 제1 프로파일을 대체하는 제2 프로파일 또는 앞서 설치했던 제1 프로파일을 다시 다운로드해 줄 수 있도록 설정해 둘 수 있다. 3023 단계에서 제1 단말은 사용자 또는 제2 단말에게 제2 프로파일(또는 제1 프로파일)을 다운 로드할 수 있는 활성화 코드가 준비 가능한 상태가 되었음을 알릴 수 있다. 예를 들어 프로파일 서버로부 터 제1 단말이 정상 응답을 수신하는 경우, 제1 단말은 제2 단말에서 사용할 수 있도록 활성화 코드를 표기하여 제공해 줄 수 있다. 이는 QR 코드 형태로 구성된 활성화 코드일 수 있으나, 제1 단말과 제2 단말 간 메시지 전송에 사용되는 어떤 프로토콜일 수도 있다. 제1 단말이 제2 단말에게 활 성화 코드를 전달하는 예로, 제1 단말은 활성화 코드를 QR 코드와 같은 이미지의 형태로 변환하거나 문자 열 형태로 변환하여 화면에 출력하고, 활성화 코드가 준비되었음을 사용자에게 공지할 수 있다. 사용자 는 제1 단말의 화면에 출력된 활성화 코드를 제2 단말에 입력할 수 있다. 예를 들면, 3023 단계에서 제1 단말는 화면에 제2 프로파일을 위한 활성화 코드가 준비되었음을 출력하거 나, 제2 단말로 활성화 코드를 유선 연결, WiFi, 블루투스, NFC 등의 연결을 통해 전달할 수도 있다. 3026 단계에서 본 발명에서는 발명의 논점을 흐리지 않기 위해서 QR 코드로 구성된 활성화 코드로 설명하고자 한다. QR 코드가 제1 단말의 사용자 화면에 표기 되거나 또는 표기되지 않아도 제2 단말에게 전송 가 능한 형태로 준비가 되면, 해당 활성화 코드 정보는 제2 단말에 입력될 수 있다. 이는 일 예로 든 QR 코드 형태인 경우에, 사용자가 제1 단말 또는 제2 단말에 표기된 사용자 안내 메시지에 따라서 제1 단말에 표기된 QR 코드를 제2 단말에서 스캔하여 입력 받는 방법일 수 있다. 제2 단말의 LPA(미 도시)가 제1 단말로부터 활성화 코드를 입력 받으면, 제2 단말은 Profile Download 절차를 시작할 수 있다. 3029 단계에서 제2 단말은 입력된 활성화 코드를 사용하여 Profile Download 절차를 수행할 수 있다. 상기 활성화 코드는 제2 프로파일이 저장된 프로파일 서버 주소의 FQDN, 제2 프로파일에 연결된 이벤트 식별자 (MatchingID) 등을 포함할 수 있다. 또한 프로파일 서버는 상기 활성화 코드에 이벤트 등록이 완료된 개통 중개서버 주소의 FQDN을 포함할 수 있다. 제2 프로파일을 위한 활성화 코드를 준비하기 전 특정 시점, 예 를 들어 3005 단계에서 하나 또는 하나 이상의 개통중개서버(미도시)에 이벤트가 등록되었다면, 프로파일 서버 는 상기 활성화 코드에 적어도 하나 이상의 개통중개서버 주소의 FQDN을 포함하거나, 하나의 개통중개서버 주소의 FQDN을 선택하여 포함 할 수 있다. 3029 단계에서 제2 단말은 프로파일 서버에게 프로파일 다운로드를 요청할 수 있다. 3029 단계는, 예 를 들면, 인증 시작(initiate authentication) 메시지나, 단말 인증 요청(authenticate client) 메시지 중 적 어도 하나 이상을 이용할 수 있고, 프로파일 다운로드(profile download)로 설정된 동작 종류(operation typ e)를 더 전송하여 수행될 수 있다. 3029 단계에서 프로파일 서버는 프로파일 다운로드를 처리하는 과정에서, 상기 Activation Code Token 값 이 앞서 3005 단계에서 프로파일 서버가 발급한 Token 값이거나 또는 3005에서 제1 단말이 프로파일 다운 로드를 위해 사용한 활성화 코드이나 재 사용을 허용하는지를 추가로 검증할 수 있다. 그리고, 제1 프로파일의 삭제 또는 unusable 상태로 변경에 대한 notification을 제1 단말으로부터 정상 수신했는지를 확인하여 제 1 프로파일 또는 제1 프로파일을 대체하여 준비한 제2 프로파일을 제2 단말에 다운로드하도록 release 할 지를 결정하는 것도 가능하다. 또한, 3029 단계에서 프로파일 서버는 필요한 경우 사업자에게 제1 프 로파일의 이동 가능성을 재 확인할 수 있다. 예를 들면 3029 단계는 프로파일 서버가 사업자에게 제1 단말으로부터 요청 받은 프로파일의 이동 가능 여부 확인을 요청하는 프로파일 이동 확인 요청 메시지 (Confirm Device Change Request)를 이용하여 수행될 수 있다. 상기 프로파일 이동 확인 요청 메시지는 요청 받 은 제1 프로파일의 프로파일 식별자를 포함할 수 있고, 제2 단말에 설치된 eUICC 식별자, 제2 단말의 TAC(Type allocation Code) 중 적어도 하나 이상을 선택적으로 포함할 수 있다. 3029 단계에서 프로파일 서버 로부터 프로파일 이동 확인 요청 메시지를 수신한 사업자는 프로파일 식별자를 이용하여 요청한 프로 파일을 식별하고, 해당 프로파일의 이동 가능 여부를 판단할 수 있다. 또한 제2 단말로 이동 시, 프로파일 서버가 제1 프로파일과 동일한 프로파일을 재사용할 수 있는지 여부 또는 새로운 프로파일을 준비해야 하 는지 여부를 결정하고 결과를 프로파일 서버에게 회신할 수 있다. 상기 3029 단계에서 제1 프로파일을 이동하는 가능성은 사업자와 연동 없이 프로파일 서버가 자체적 으로 판단할 수도 있다. 이 경우, 사업자는 3001 단계 혹은 30029 단계 이전에 제1 프로파일의 이동에 대 한 설정을 프로파일 서버에게 제공하고, 프로파일 서버는 이를 저장할 수 있다. 프로파일 서버 는 프로파일 식별자를 이용하여 이동 요청한 프로파일을 식별하고, 해당 프로파일의 이동 가능 여부를 판단할 수 있다. 또한 제2 단말로 프로파일의 이동 시, 프로파일 서버가 제1 프로파일과 동일한 프로파일을 재사용할 수 있는지 여부 또는 새로운 프로파일을 준비해야 하는지 여부를 결정할 수 있다.또한 프로파일 서버 는 프로파일 서버에 제1 프로파일 이동을 위해 준비될 제2 단말을 위한 제2 프로파일이 제2 단 말에게 전달되기 전에 제1 프로파일의 삭제가 필요한지 여부를 결정할 수 있다. 전술한 바와 같이, 3029 단계에서 제2 단말에서 프로파일 다운로드를 처리하는 경우제2 단말은 프로 파일 서버에게 앞서 3003 단계에서 전술한 바와 같이 프로파일 다운로드를 요청하는 메시지를 전송할 수 있다. 예를 들면, 3029 단계의 프로파일 다운로드 요청은 제2 단말 내 eUICC의 식별자(eUICC ID, EID)와 준비된 프로파일에 대응되는 매칭 식별자 중 적어도 하나 이상을 포함하는 단말 인증 요청 메시지(Authenticate Client Request)를 이용할 수 있다. 3029 단계에서 프로파일 서버는 매칭 식별자 또는 eUICC의 식별자에 대응하는 제2 프로파일을 제2 단말에게 제공할 수 있다. 예를 들면, 3029 단계는 제2 단말과 프로파 일 서버간 1회 이상의 메시지 교환을 더 포함할 수 있으며, 프로파일 서버가 제2 단말에게 회신 하는 최초의 메시지는 단말 인증 응답 메시지(Authenticate Client Response)일 수 있다. 필요에 따라, 프로파일 서버는 제1 단말에서 해당 제1 프로파일이 삭제 또는 unusable 상태로 변경되 었는지 notification 수신 했는지, 프로파일 1의 정보로 기기 변경을 허용하는 지, 그리고 3029 단계 이전의 특 정 시점에 기기 변경을 위해 프로파일 서버가 제공 또는 허용한 활성화 코드를 제2 단말이 제시했는 지 중 하나 또는 그 이상의 정보를 추가적으로 검증하여, 제2 단말에 프로파일 다운로드를 허용하거나 다 운로드에 대한 에러 메시지를 회신하여 종료할 수 있다. 도 4는 본 개시의 일 실시 예에 따른 단말의 구성요소를 도시하는 블록도이다. 본 개시에서 설명한 단말(제1 단말, 제2 단말 및 참조 번호를 붙이지 않고 설명한 단말) 각각은 도 2 에서 설명하는 제1 단말 또는 제2 단말에 대응될 수 있다. 제1 단말 및 제2 단말은 도 2의 단말의 일 실시 예일 수 있고, \"제1\", \"제2\"의 표현은 각 단말이 물리적으로 서로 다른 단말임을 나타내기 위해 사용되었 을 뿐이다. 도 4 에서 도시된 바와 같이, 단말은 송수신부 및 프로세서를 포함할 수 있다. 또한, 단말은 UICC를 포함할 수도 있다. 예를 들면, (e)UICC는 단말에 삽입될 수 있고, 단말에 내장된 (e)UICC 일 수도 있다. 송수신부는 프로파일 서버와 신호, 정보, 데이터 등을 송신 및 수신할 수 있다. 본 개시의 일 실시 예에 따른 송수신부는 프로파일 서버에게 프로파일 이동을 요청하는 메시지를 송신하고, 프로파일 서버로부터 프로파일 이동 확인 코드 필요 지시자를 수신하고, 프로파일 서버로 프로파일 이동 확인 코드를 송신하고, 프로파일 서버로부터 활성화 코드, 개통중개서버에 이벤트 등록 여부 및 프로파일 삭제 필요 여부를 수신하고, 프로파일 삭제 결과를 프로파일 서버에게 송신할 수 있다. 본 개시의 일 실시 예에 따른 송수신부는 활성화 코드를 이용하여 프로파일 서버에 프로파일을 요청하는 메시지를 송신하고, 프로파일 패키지를 수신할 수 있다. 본 개시의 일 실시 예에 따른 송수신부는 활성화 코드를 이용하여 기기 변경을 지원 그리고/또는 향후 기 기 변경을 위해서 사용해야 하는 기기 변경 정보를 프로파일 서버에 알리는 메시지를 송신하면서, 소정의 기기 변경 처리를 위한 정보가 포함된 프로파일 패키지를 수신하거나 응답 메시지를 수신할 수 있다. 한편, 프로세서는 단말을 전반적으로 제어하기 위한 구성요소이다. 프로세서는 본 개시의 다양한 실 시 예에 따라, 단말의 전반적인 동작을 제어할 수 있다. 프로세서는 제어부로 명명할 수 있다. 본 개시의 일 실시 예에 따르면, 프로세서는 적어도 하나 이상의 프로세서를 포함할 수 있다. 본 개시의 일 실시 예에 따른 프로세서는 사용자로부터 프로파일 설치를 입력 받고, 사용자로부터 프로파 일 설치를 위한 활성화 코드를 입력 받고, 프로파일 서버로부터 수신 받은 프로파일 패키지의 프로파일 정보 또 는 응답 메시지를 수신하고, 상기 수신된 프로파일 정보 또는 응답 메시지로부터 기기 변경을 위한 활성화 코드 재사용 또는 새롭게 사용할 활성화 코드가 정보가 있는지를 판단하고, 또한 해당 정보를 이를 저장부(미도시)에 저장하도록 처리하고, 프로파일 이동 요청을 입력 받고, 프로파일 이동 정보를 확인하고, 프로파일을 다른 단말에 다운로드하여 설치하기 위한 활성화 코드를 구성하고, 활성화 코드를 구성함에 있어 기존 프로파일의 삭제 또는 사용 불가 상태가 필요한지를 판단하여 요구되는 경우 변경을 처리하고, 해당 처리 결과를 송수신부 에 전달하고, 송수신부로부터 처리 결과에 대한 응답 값을 확인하여, 활성화 코드 또는 프로파일 이동 준 비 완료를 다른 단말로 전달하도록 단말을 제어할 수 있다. 본 개시의 일 실시 예에 따른 프로세서는 다른 단말로부터 활성화 코드를 전달받고, 활성화 코드를 이용하 여 프로파일 서버에 프로파일을 요청하는 메시지를 송신하고, 프로파일 서버로부터 프로파일 패키지를 수신하고, 프로파일 패키지를 설치하도록 단말을 제어할 수 있다.본 개시의 일 실시 예에 따른 UICC는 프 로파일을 다운로드하고, 프로파일을 설치할 수 있다. 또한, UICC는 프로파일을 관리할 수 있다. UICC는 프로세서의 제어에 따라 동작할 수 있다. 또는 UICC는 프로파일을 설치하기 위한 프로세 서 또는 컨트롤러를 포함하거나, 어플리케이션이 설치되어 있을 수도 있다. 어플리케이션의 일부는 프로세서 에 설치되어 있을 수도 있다. 한편, 단말은 저장부(미도시)를 더 포함할 수 있으며, 단말의 동작을 위한 기본 프로그램, 응용 프로그램, 설정 정보 등의 데이터를 저장할 수 있다. 본 개시의 일 실시 예에 따른 저장부(미도시)는 사용자 입력 또는 프로파 일 서버로부터 수신된 활성화 코드를 더 저장할 수 있다. 또한, 저장부는 플래시 메모리 타입(Flash Memory Type), 하드 디스크 타입(Hard Disk Type), 멀티미디어 카드 마이크로 타입(Multimedia Card Micro Type), 카 드 타입의 메모리(예를 들면, SD 또는 XD 메모리 등), 자기 메모리, 자기 디스크, 광디스크, 램(Random Access Memory, RAM), SRAM(Static Random Access Memory), 롬(Read-Only Memory, ROM), PROM(Programmable Read- Only Memory), EEPROM(Electrically Erasable Programmable Read-Only Memory) 중 적어도 하나의 저장 매체를 포함할 수 있다. 또한, 프로세서는 저장부에 저장된 각종 프로그램, 컨텐츠, 데이터 등을 이용하여 다양한 동작을 수행할 수 있다. 도 5은 본 개시의 일 실시 예에 따른 프로파일 서버의 구성요소를 도시하는 블록도이다. 본 개시에서 설명한 프로파일 서버(제1 프로파일 서버, 제2 프로파일 서버 및 참조 번호를 붙이지 않 고 설명한 서버) 각각은 도 2에서 설명하는 프로파일 서버에 대응될 수 있다. 제1 프로파일 서버 및 제2 프로파일 서버는 도 2의 서버의 일 실시예일 수 있고, \"제1\", \"제2\"의 표현은 각 프로파일 서버가 물리적 으로 서로 다른 프로파일 서버임을 나타내기 위해 사용되었을 뿐이다. 도 5을 참조하면, 프로파일 서버는 송수신부 및 프로세서를 포함할 수 있다. 송수신부는 단말, 개통중개서버 또는 사업자와 신호, 정보, 데이터 등을 송신 및 수신할 수 있다. 본 개시의 일 실시 예에 따른 송수신부는 단말로부터 프로파일 다운로드 요청 메시지를 수신하고, 단말로 부터 활성화 코드를 수신하고,프로파일이 다운로드 가능한 상태인 경우 단말에게 프로파일 패키지를 송신하고, 프로파일이 다운로드 불가능한 상태인 경우 단말에게 오류코드를 송신할 수 있고, 프로파일을 다른 단말에 재 설치하기 위해 기존 단말에서 제시한 활성화 코드의 저장 필요 여부를 포함하는 메시지를 송신하거나 또는 새로 운 활성화 코드를 송신하고, 다른 단말로 프로파일의 재 설치를 위한 기존 프로파일 삭제/사용 불가 상태로 변 경 필요 여부에 대한 정보를 송신할 수 있다. 또한, 본 개시의 일 실시 예에 따른 송수신부는 프로파일 이동 요청 메시지를 수신할 수 하고, 단말에게 프로파일 이동 확인 코드 필요 지시자를 송신하고, 단말로부터 프로파일 이동 확인 코드를 수신하고,단말로부터 프로파일 삭제 또는 사용 불가 메시지를 수신하고, 다른 단말로부터 프로파일 다운로드 요청 메시지를 수신하고, 프로파일이 다운로드 가능한 상태인 경우 다른 단말에게 프로파일 패키지를 송신하고, 프로파일이 다 운로드 불가능한 상태인 경우 다른 단말에게 오류코드를 송신할 수 있다. 한편, 프로세서는 프로파일 서버를 전반적으로 제어하기 위한 구성요소이다. 프로세서는 본 개시의 다양한 실시 예에 따라, 프로파일 서버의 전반적인 동작을 제어할 수 있다. 프로세서는 제어부로 명명할 수 있다. 본 개시의 일 실시 예에 따르면, 프로세서는 적어도 하나 이상의 프로세서를 포함할 수 있다. 본 개시의 일 실시 예에 따른 프로세서는 단말로부터 수신된 활성화 코드를 확인하여 이 활성화 코드에 매 칭된 프로파일을 다른 단말로 이동을 위해 이 활성화 코드를 재 사용 가능한지를 판단하고, 수신된 eUICC의 버 전 정보를 판단하여 단말로 앞서 전송한 활성화 코드를 저장하는 메시지를 포함하여 응답하거나 또는 새로운 활 성화 코드를 생성하여 응답하거나, 또는 다운로드를 처리해 줄 프로파일의 정보, 즉 메타데이터 또는 Elementary File로 기기 변경을 위한 소정의 정보를 포함하여 프로파일을 구성하도록 처리하고, 이를 송수신부를 통해서 단말에 전송해 주도록 제어할 수 있다. 또한, 단말로부터 특정 시점에 수신된 프로파일 이동 요 청 메시지를 가지고 프로파일이 이동 가능한지 판단하고, 단말에게 프로파일 이동 확인 코드 필요 지시자를 송 신하고, 단말로부터 프로파일 이동 확인 코드를 수신하고,기존 프로파일의 삭제가 필요한 경우 준비된 프로파일 의 상태를 다운로드 가능하지 않은 상태로 설정하고, 단말에게 활성화 코드 및 프로파일 삭제 또는 사용 불가 상태 필요 여부를 포함하는 메시지를 송신하고, 단말로부터 프로파일 삭제 또는 사용 불가 상태 처리 결과를 수 신하고, 단말에 다운로드하였던 프로파일과 동일 또는 이를 대체하는 프로파일을 다른 단말에서 다운로드 가능 한 상태로 변경하고, 다른 단말로부터 프로파일 다운로드 요청 메시지를 수신하고, 프로파일이 다운로드 가능한 상태인지를 판단하고, 프로파일이 다운로드 가능한 상태인 경우 다른 단말에게 프로파일 패키지를 송신하고, 프 로파일이 다운로드 불가능한 상태인 경우 다른 단말에게 오류코드를 송신하도록 프로파일 서버를 제어할 수 있 다. 한편, 프로파일 서버는 저장부(미도시)를 더 포함할 수 있으며, 프로파일 서버의 동작을 위한 기본 프로그램, 응용 프로그램, 설정 정보 등의 데이터를 저장할 수 있다. 또한 저장부는 본 개시의 일 실시 예에 따른 프로파 일 기기 변경을 위한 활성화 코드를 저장할 수 있다. 또한, 저장부는 플래시 메모리 타입(Flash Memory Type), 하드 디스크 타입(Hard Disk Type), 멀티미디어 카드 마이크로 타입(Multimedia Card Micro Type), 카드 타입 의 메모리(예를 들면, SD 또는 XD 메모리 등), 자기 메모리, 자기 디스크, 광디스크, 램(Random Access Memory, RAM), SRAM(Static Random Access Memory), 롬(Read-Only Memory, ROM), PROM(Programmable Read- Only Memory), EEPROM(Electrically Erasable Programmable Read-Only Memory) 중 적어도 하나의 저장 매체를 포함할 수 있다. 또한, 프로세서는 저장부에 저장된 각종 프로그램, 컨텐츠, 데이터 등을 이용하여 다양한 동작을 수행할 수 있다. 도 6은 본 개시의 일 실시 예에 따른 제1 단말에서 기기 변경을 지원하도록 업데이트하는 경우에 있어, 활성화 코드 저장 여부를 판단하여 처리하는 방법이다. 도 6에서 사용자, 제1 단말, 제2 단말, 프로파일 서버, 사업자에 대한 구성과 설명은 도 2를 참조하기로 한다. 예를 들어, 사용자, 제1 단말, 제2 단말 프로파일 서버, 사업자 는 각각 도 2의 사용자, 제1 단말, 제2 단말, 제1 프로파일 서버, 사업자에 대 응될 수 있다. 도 6에서 3001 단계, 3003 단계는 도 3에서 예사한 실시 예에허 해당 단계 설명을 참조하기로 한다 6000 단계, 6010 단계, 6020 단계, 및 6030 단계는 앞서 도 3에서 예시한 3005 단계에서 설명에서 프로파일 다 운로드를 위해 제1 단말에서 제시한 활성화 코드에 기기 변경 지원에 대한 정보가 포함되어 있었으나, 프 로파일 서버가 해당 수신된 활성화 코드 그리고/또는 제1 단말의 LPA와 eUICC의 버전과 지원 기능의 정보를 통해 기기 변경 지원을 판단할 수 없는 경우에 대한 처리를 나타내는 한 예이다. 6000 단계에서 사용자는 사업자 또는 프로파일 서버로부터 획득한 기기 변경 지원을 포함한 활 성화 코드를 제1 단말에 입력함으로써, 제1 단말로 하여금 프로파일 서버에 프로파일 다운로드 를 요청할 수 있도록 할 수 있다. 앞서 도 3의 3005 단계에서 언급한 바와 같이 6010 단계에서 제1 단말은 프로파일 다운로드 요청에 기기 변경 지원 지시자(Device Change Support indication)를 포함하여 프로파일 서 버에게 전송할 수 있다. 제1 단말은 Device Info 및 euicc Info에 기기변경 기능을 지원 표기를 포 함하여 프로파일 서버에게 전송할 수 있다. 6020 단계에서 이를 수신한 프로파일 서버는 제1 단말에 설치된 LPA과 eUICC의 version(버전, v버전 번호로 표기)의 조합, 기기 변경 기능의 지원 여부, 기기 변경 정보를 포함한 프로파일 정보의 실시간 구성 가 능 여부 중의 하나 이상의 정보로 기기변경에 대한 정보를 포함한 프로파일 정보 또는 응답 메시지를 구성할지 를 결정할 수 있다. 6030 단계에서 앞서 판단의 결과로, 프로파일 서버는 제1 단말에 준비한 프로파일 다운로드 시 단말에게 응답하는 메시지 또는 프로파일 정보로 기기 변경 지원 지시자를 포함하지 않고 다운로드해 줄 수 있다. 기기 변경 지원 지시자를 포함하지 않고 다운로드해 주는 경우는 아래 [표 1]에서 기기 변경 정보 회 신 여부 열의 \"미지원\"인 경우 중 하나일 수 있다. 참고로 아래 [표 1]에서 일 예를 들어 첫 번째 행은 버전 3 의 LPA 기기변경 지원과 버전 3 eUICC로 기기변경 지원하는 경우를 나타내고자 하였다. 또한, 기기 변경 지원 지시자를 포함하지 않고 다운로드해 주는 경우는, LPA와 eUICC가 모두 버전 3이고 기기변경을 지원하는 첫 번째 행의 경우라도 프로파일 정보에 기기 변경에 대한 정보를 실시간으로 포함하여 내려 주지 못하는 경우에 있어기기 변경에 대한 정보를 포함하지 않고 프로파일 패키지를 다운로드해 줄 수도 있다. 표 1 LPA eUICC 기기 변경 정보 회신 여부 버전 3기기변경 지원 기기변경 지원 지원:프로파일 정보(메타데이터 또는 프 로파일의 속성 파일(예.EFDCC under DFGSMA)등), 또는 프로파일 다운로드 시에 응답 메시지에 포함 기기변경 지원 기기변경 미지원 미지원 또는 사용한 활성화 코드 저장 지 시하는 형태로 지원 (v2 LPA 기기 변경 지원 경우에 해당) 기기변경 미지원 기기변경 지원 미지원 기기변경 미지원 기기변경 미지원 미지원 버전 2기기변경 지원 기기변경 미지원 지원:사용한 활성화 코드 저장 지시 기기변경 미지원 기기변경 미지원 미지원 <표 1. LPA 및 eUICC 버전 및 기기변경 지원 여부에 따른 기기변경 정보 회신 여부> 프로파일 패키지를 다운로드 받은 단말은 포함된 기기 변경 정보가 있는지를 추가로 판단할 수 있고, 해당 정보가 포함되지 않은 경우 기기 변경 정보의 저장에 대한 추가 동작 없이 프로파일 다운로드를 완료할 수 있다. 프로파일 서버에서 eUICC가 기기 변경을 지원하고 프로파일 다운로드를 위해 수신되 활성화 코드에 기기변경 지원 정보가 포함된 경우에, 프로파일 서버는 추가적으로 사용자에게 추후 LPA 업데이트 시 기기 변경을 지원 가능함에 대한 안내하고, 이를 위한 사용자가 프로파일 다운로드 시 사용했던 활성화 코 드를 저장을 권고하는 Service Provider Message를 구성하여 회신해 줄 수도 있다. 6040 단계에서, 기기 변경 정보 저장 지시자를 받지 못한 경우에 제1 단말은 앞서 구성된 Service Provider Message를 사용자에게 표시하여 저장 여부를 입력받아 활성화 코드를 저장할 수도 있다. 또는 Service Provider Message가 없는 경우라 하더라도, 제1 단말의 설정에 따라 사용자에게 사용한 활 성화 코드를 제1 단말에 저장할 지에 대한 추가 입력을 받아서 저장하는 것도 가능할 수 있다 6050 단계에서, 제1 단말에 제1 프로파일이 다운로드된 시점 이후 특정 시점에 제1 단말은 제1 단말 의 LPA(미도시)가 기기변경을 지원하도록 업데이트할 수 있다. 또한, 6060 단계에서 서비스 사업자는 앞서 다운로드해 준 제1 프로파일의 프로파일 정보로 기기 변경 정보를 포함하지 않고 다운로드를 처리해 준 경 우(6030 단계)에 기기 변경을 위해 앞서 도 3의 예시에서 설명된 3005 단계에서 제공할 수 있는 정보들을 ES6+ interface를 사용해서 제1 프로파일의 elementary file(예를 들어, EFDCC under DFGSMA)에 다운로드 해 줄 수도 있다. 6060 단계를 6050 단계 이후로 표기하였으나, 6060 단계는 6030 단계 이후에 다른 단말에 제1 프로 파일(또는 제2 프로파일)의 이동을 위한 활성화 코드를 생성하여 제공해 주기 전(6070 단계에서 3012 단계에 대 응)의 특정 시점일 수도 있다. 6070 단계는 앞서 도 3의 예시에서 설명된 3009 단계 이후의 절차와 설명이 절차를 참조하여 추가 설명을 생략 한다. 상술한 본 개시의 구체적인 실시 예들에서, 개시에 포함되는 구성 요소는 제시된 구체적인 실시 예에 따라 단수 또는 복수로 표현되었다. 그러나, 단수 또는 복수의 표현은 설명의 편의를 위해 제시한 상황에 적합하게 선택된 것으로서, 본 개시가 단수 또는 복수의 구성 요소에 제한되는 것은 아니며, 복수로 표현된 구성 요소라 하더라 도 단수로 구성되거나, 단수로 표현된 구성 요소라 하더라도 복수로 구성될 수 있다. 한편 본 개시의 상세한 설명에서는 구체적인 실시 예에 관해 설명하였으나, 본 개시의 범위에서 벗어나지 않는 한도 내에서 여러 가지 변형이 가능함은 물론이다. 그러므로 본 개시의 범위는 설명된 실시 예에 국한되어 정해 져서는 아니 되며 후술하는 특허청구의 범위뿐만 아니라 이 특허청구의 범위와 균등한 것들에 의해 정해져야 한 다. 본 개시의 다양한 실시 예들 및 이에 사용된 용어들은 본 개시에 기재된 기술을 특정한 실시 형태에 대해 한정 하려는 것이 아니며, 해당 실시예의 다양한 변경, 균등물, 및/또는 대체물을 포함하는 것으로 이해되어야 한다. 도면의 설명과 관련하여, 유사한 구성요소에 대해서는 유사한 참조 부호가 사용될 수 있다. 단수의 표현은 문맥 상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함할 수 있다. 본 개시에서, \"A 또는 B\", \"A 및/또는 B중 적어도 하나\", \"A, B 또는 C\" 또는 \"A, B 및/또는 C 중 적어도 하나\" 등의 표현은 함께 나열된 항목들의 모 든 가능한 조합을 포함할 수 있다. \"제1\", \"제2\", \"첫째\" 또는 \"둘째\" 등의 표현들은 해당 구성요소들을, 순서 또는 중요도에 상관없이 수식할 수 있고, 한 구성요소를 다른 구성요소와 구분하기 위해 사용될 뿐 해당 구성요 소들을 한정하지 않는다. 어떤(예: 제1) 구성요소가 다른(예: 제2) 구성요소에 \"(기능적으로 또는 통신적으로) 연결되어\" 있다거나 \"접속되어\" 있다고 언급된 때에는, 어떤 구성요소가 다른 구성요소에 직접적으로 연결되거 나, 다른 구성요소(예: 제3 구성요소)를 통하여 연결될 수 있다. 본 개시에서 사용된 용어 \"모듈\"은 하드웨어, 소프트웨어 또는 펌웨어로 구성된 유닛을 포함하며, 예를 들면, 로직, 논리 블록, 부품, 또는 회로 등의 용어와 상호 호환적으로 사용될 수 있다. 모듈은, 일체로 구성된 부품 또는 하나 또는 그 이상의 기능을 수행하는 최소 단위 또는 그 일부가 될 수 있다. 예를 들면, 모듈은 ASIC(application-specific integrated circuit)으로 구성될 수 있다. 본 개시의 다양한 실시예들은 기기(machine)(예: 컴퓨터)로 읽을 수 있는 저장 매체(machine-readable storage media)(예: 내장 메모리 또는 외장 메모리에 저장된 명령어를 포함하는 소프트웨어(예: 프로그램)로 구현될 수 있다. 기기는, 저장 매체로부터 저장된 명령어를 호출하고, 호출된 명령어에 따라 동작이 가능한 장치로서, 본 개시의 다양한 실시예들에 따른 단말(예: 제1 단말, 제2 단말)을 포함할 수 있다. 명령이 프로세서 (예: 도 9의 프로세서 또는 도 10의 프로세서)에 의해 실행될 경우, 프로세서가 직접, 또는 프로세서 의 제어 하에 다른 구성요소들을 이용하여 명령에 해당하는 기능을 수행할 수 있다. 명령은 컴파일러 또는 인터 프리터에 의해 생성 또는 실행되는 코드를 포함할 수 있다. 기기로 읽을 수 있는 저장 매체는, 비일시적(non-transitory) 저장 매체의 형태로 제공될 수 있다. 여기서, '비 일시적'은 저장 매체가 신호(signal)를 포함하지 않으며 실재(tangible)한다는 것을 의미할 뿐 데이터가 저장 매체에 반영구적 또는 임시적으로 저장됨을 구분하지 않는다. 본 개시에 개시된 다양한 실시 예들에 따른 방법은 컴퓨터 프로그램 제품(computer program product)에 포함되 어 제공될 수 있다. 컴퓨터 프로그램 제품은 상품으로서 판매자 및 구매자 간에 거래될 수 있다. 컴퓨터 프로그 램 제품은 기기로 읽을 수 있는 저장 매체(예: compact disc read only memory (CD-ROM))의 형태로, 또는 어플 리케이션 스토어(예: 플레이 스토어TM)를 통해 온라인으로 배포될 수 있다. 온라인 배포의 경우에, 컴퓨터 프로 그램 제품의 적어도 일부는 제조사의 서버, 어플리케이션 스토어의 서버, 또는 중계 서버의 메모리와 같은 저장 매체에 적어도 일시 저장되거나, 임시적으로 생성될 수 있다. 다양한 실시 예들에 따른 구성 요소(예: 모듈 또는 프로그램) 각각은 단수 또는 복수의 개체로 구성될 수 있으 며, 전술한 해당 서브 구성 요소들 중 일부 서브 구성 요소가 생략되거나, 또는 다른 서브 구성 요소가 다양한 실시예에 더 포함될 수 있다. 대체적으로 또는 추가적으로, 일부 구성 요소들(예: 모듈 또는 프로그램)은 하나 의 개체로 통합되어, 통합되기 이전의 각각의 해당 구성 요소에 의해 수행되는 기능을 동일 또는 유사하게 수행 할 수 있다. 다양한 실시예들에 따른, 모듈, 프로그램 또는 다른 구성 요소에 의해 수행되는 동작들은 순차적, 병렬적, 반복적 또는 휴리스틱하게 실행되거나, 적어도 일부 동작이 다른 순서로 실행되거나, 생략되거나, 또는 다른 동작이 추가될 수 있다.도면 도면1 도면2 도면3 도면4 도면5 도면6"}
{"patent_id": "10-2022-0020884", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 개시의 일 실시 예에 따른 단말이 고정된 프로파일이 탑재된 UICC(Universal Integrated Circuit Card)를 이용하여 이동통신 네트워크에 연결하는 방법을 도시하는 도면이다. 도 2는 본 개시의 일 실시 예에 따른 단말이 사용자의 입력에 따라 제1 단말에 설치된 프로파일을 관리하고 제2 단말에 프로파일을 설치하는 시스템의 구성을 도시하는 도면이다. 도 3은 본 개시의 일 실시 예에 따른 제2 단말이 프로파일을 다운로드 받기 위한 제1 단말, 제2 단말, 및 서버 간 절차의 일 예를 도시한 도면이다. 도 4는 본 개시의 일 실시 예에 따른 단말의 구성요소를 도시하는 블록도이다. 도 5는 본 개시의 일 실시 예에 따른 프로파일 서버의 구성요소를 도시하는 블록도이다. 도 6은 본 개시의 일 실시 예에 따른 제1 단말에서 기기 변경을 지원하도록 업데이트하는 경우에 있어, 활성화 코드 저장 여부를 판단하여 처리하는 방법이다."}
