{"patent_id": "10-2022-0052073", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0152388", "출원번호": "10-2022-0052073", "발명의 명칭": "VILS 시스템 및 VILS 테스트 방법", "출원인": "한국자동차연구원", "발명자": "이희승"}}
{"patent_id": "10-2022-0052073", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "VILS(Vehicle-In-The-Loop-Simulation) 시나리오를 실행하는 컴퓨팅 장치로서, 상기 VILS 시나리오에 기반한VILS 테스트 방법에서,동일한 주행 시험장 내에서 상기 VILS 시나리오에 따른 검증을 수행하는 테스트 차량과 주변 테스트 차량의 거동 정보를 획득하는 단계;상기 거동 정보를 기반으로 상기 테스트 차량과 상기 주변 테스트 차량의 충돌 위험 레벨을 판단하는 단계; 및상기 판단한 충돌 위험 레벨에 따라 상기 VILS 시나리오의 실행을 지연 또는 정지시키는 단계를 포함하는 VILS 테스트 방법."}
{"patent_id": "10-2022-0052073", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에서,상기 VILS 시나리오의 실행을 지연 또는 정지시키는 단계 이후,상기 판단한 충돌 위험 레벨이 상기 테스트 차량과 상기 주변 테스트 차량의 충돌 위험 정도가 낮은 안전 레벨또는 주의 레벨로 변경되면, 상기 지연 또는 정지된 VILS 시나리오의 실행을 재개하는 단계를 더 포함하는 것인 VILS 테스트 방법."}
{"patent_id": "10-2022-0052073", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에서, 상기 판단된 충돌 위험 레벨은 상기 테스트 차량과 상기 주변 테스트 차량의 충돌 위험 정도가 높은 경고 레벨과 상기 충돌 위험 정도가 더 높은 위험 레벨을 포함하고,상기 VILS 시나리오의 실행을 지연 또는 정지시키는 단계는,상기 경고 레벨에 따라 상기 VILS 시나리오의 실행을 지연시키는 단계; 및상기 위험 레벨에 따라 상기 VILS 시나리오의 실행을 정지시키는 단계를 포함하는 것인 VILS 테스트 방법."}
{"patent_id": "10-2022-0052073", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에서,상기 VILS 시나리오의 실행을 정지시키는 단계는,상기 VILS 시나리오의 실행을 정지시킨 후, 차량에 탑재된 검증 대상 로직의 제어에 따라 상기 테스트 차량의자율 주행을 정지시키는 단계를 더 포함하는 것인 VILS 테스트 방법."}
{"patent_id": "10-2022-0052073", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에서,상기 VILS 시나리오의 실행을 지연 또는 정지시키는 단계는,가상 시뮬레이션 환경에서 인접 차선을 주행하는 가상의 주변 차량이 상기 테스트 차량의 주행 차선으로 진입하는 상기 VILS 시나리오의 실행을 지연 또는 정지시키는 단계인 것인 VILS 테스트 방법.공개특허 10-2023-0152388-3-청구항 6 개방된 동일한 주행 시험장 내에서 테스트 차량과 주변 테스트 차량을 포함하는 복수의 테스트 차량이 VILS 시나리오에 기반한 테스트를 수행하는 VILS 테스트 방법에서,데이터 획득부가, 상기 테스트 차량과 상기 주변 테스트 차량의 거동 정보를 획득하는 단계;시뮬레이션 동기화부가, 상기 VILS 시나리오에 따른 가상 시뮬레이션 환경에서 사용하는 시뮬레이션 맵에 상기거동 정보를 맵핑하는 단계;위험 판단부가, 상기 시뮬레이션 맵에 맵핑된 상기 거동 정보를 기반으로 상기 테스트 차량과 상기 주변 테스트차량의 충돌 위험 레벨을 판단하는 단계; 및상기 판단된 충돌 위험 레벨에 따라 상기 VILS 시나리오에서 정의한 가상 장애물의 이동 시나리오를 지연 또는정지시키는 단계를 포함하는 VILS 테스트 방법."}
{"patent_id": "10-2022-0052073", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에서,상기 거동 정보를 획득하는 단계는,상기 테스트 차량에 설치된 측위 센서를 이용하여 상기 테스트 차량의 거동 정보를 획득하는 단계; 및상기 주변 테스트 차량과의 무선 통신을 이용하여 상기 주변 테스트 차량의 거동 정보를 획득하는 단계를 포함하는 VILS 테스트 방법."}
{"patent_id": "10-2022-0052073", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7항에서,상기 거동 정보를 획득하는 단계는,상기 테스트 차량에 포함된 통신 단말을 이용하여 상기 주변 테스트 차량의 거동 정보를 상기 주변 테스트 차량으로부터 직접 획득하거나 상기 주행 시험장의 관제 센터를 경유하여 상기 주변 테스트 차량의 거동 정보를 획득하는 단계인 것인 VILS 테스트 방법."}
{"patent_id": "10-2022-0052073", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제6항에서,상기 충돌 위험 레벨을 판단하는 단계는,상기 거동 정보를 기반으로 상기 테스트 차량과 상기 주변 테스트 차량의 충돌 위험성이 낮은 레벨 0 또는 1,상기 충돌 위험성이 높은 레벨 2 및 상기 충돌 위험성이 더 높은 레벨 3을 판단하는 단계인 것인 VILS 테스트방법."}
{"patent_id": "10-2022-0052073", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에서,상기 가상 장애물의 이동 시나리오를 지연 또는 정지시키는 단계는,상기 레벨 2에 따라 상기 가상 장애물의 이동 시나리오를 지연시키는 단계; 및상기 레벨 3에 따라 상기 가상 장애물의 이동 시나리오를 정지시키는 단계를 포함하는 것인 VILS 테스트 방법."}
{"patent_id": "10-2022-0052073", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제10항에서,공개특허 10-2023-0152388-4-상기 레벨 2 또는 상기 레벨 3이 상기 레벨 0 또는 1로 변경된 경우, 상기 지연 또는 정지된 가상 장애물의 이동 시나리오를 재개하는 단계를 더 포함하는 것인 VILS 테스트 방법."}
{"patent_id": "10-2022-0052073", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제6항에서,상기 가상 장애물의 이동 시나리오는 상기 테스트 차량의 인접 차선을 주행하는 상기 가상 장애물이 상기 테스트 차량의 주행 차선으로 진입하는 시나리오인 것인 VILS 테스트 방법."}
{"patent_id": "10-2022-0052073", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "VILS 시나리오를 실행하는 VILS 시스템에서,개방된 동일한 주행 시험 장내에서 VILS 테스트를 수행하는 테스트 차량과 주변 테스트 차량의 거동 정보를 획득하는 데이터 획득부;상기 VILS 시나리오에서 정의한 가상 시뮬레이션 환경을 나타내는 시뮬레이션 맵에 상기 거동 정보를 동기화하는 시뮬레이션 동기화부;상기 시뮬레이션 맵에 맵핑된 상기 거동 정보를 기반으로 상기 테스트 차량과 상기 주변 테스트 차량의 충돌 위험 레벨을 판단하는 위험 판단부;상기 판단된 충돌 위험 레벨에 따라 상기 VILS 시나리오에서 정의한 가상 차량의 교통 시나리오의 실행에 대한지연 명령 또는 정지 명령을 생성하는 시나리오 제어부; 및상기 지연 명령 또는 정지 명령에 따라 상기 가상 차량의 교통 시나리오의 실행을 지연 또는 정지시키는 VILS실행부를 포함하는 VILS 시스템."}
{"patent_id": "10-2022-0052073", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제13항에서,상기 시나리오 제어부는,상기 위험 판단부로부터 전달된 상기 판단된 충돌 위험 레벨이 상기 테스트 차량과 상기 주변 테스트 차량의 충돌 위험 정도가 낮은 충돌 위험 레벨로 변경된 경우, 가상 차량의 교통 시나리오의 실행에 대한 진행 명령을 생성하는 것인 VILS 시스템."}
{"patent_id": "10-2022-0052073", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제14항에서,상기 VILS 실행부는,상기 시나리오 제어부로부터 전달된 상기 진행 명령에 따라 지연 또는 정지된 가상 차량의 교통 시나리오의 실행을 재개하는 것인 VILS 시스템."}
{"patent_id": "10-2022-0052073", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "VILS 테스트 방법이 개시된다. 이 방법은 동일한 주행 시험장 내에서 상기 VILS 시나리오에 따른 검증을 수행하 는 테스트 차량과 주변 테스트 차량의 거동 정보를 획득하는 단계; 상기 거동 정보를 기반으로 상기 테스트 차량 과 상기 주변 테스트 차량의 충돌 위험 레벨을 판단하는 단계; 및 상기 판단한 충돌 위험 레벨에 따라 상기 VILS 시나리오의 실행을 지연 또는 정지시키는 단계를 포함한다."}
{"patent_id": "10-2022-0052073", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 VILS(Vehicle-In-The-Loop-Simulation) 시스템에 관한 것으로 더욱 상세하게는, VILS 시스템을 이용 하여 차량의 검증 대상 로직을 검증하는 기술에 관한 것이다."}
{"patent_id": "10-2022-0052073", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "차량의 ECU(Electronic Control Unit)와 부품 및 소프트웨어가 점점 다양화, 복잡화되고 있는 현실에서 더 이 상 수작업으로 차량 성능을 시험하거나 실차 환경에서 테스트하기에는 시간과 비용의 한계가 있다. 이러한 한계를 극복하기 위해, 개발된 VILS 시스템은 실제 차량과 시뮬레이션 환경이 융합되어 주행시험장 내에 서 개발 시스템에 대하여 검증 및 평가를 수행할 수 있다. 이러한 VILS 시스템은 시뮬레이션 환경에서 안전에 직결되는 차량 ADAS 성능을 테스트하고, 증강현실(Augmented Reality)을 통해 자율주행차의 실제 주행과 시뮬레이션 요소를 합성하여 성능테스트 구현이 가능하고, 원하는 방식으로 자율주행 시나리오를 재현하고 검증할 수 있다. VILS 시스템은 차량과 VILS 시뮬레이션이 동기화되어 차량의 거동 정보가 시뮬레이션으로 반영되고, 차량의 거 동 정보에 따라 VILS 소프트웨어(SW)에서 미리 정의한 시나리오가 실행되어 시나리오에 따른 모든 가상 장애물 정보를 검증 대상(예, 차량 내의 ECU와 같은 제어 로직)으로 전송한다. 검증 대상은 차량의 거동 정보와 전송받 은 가상 객체 정보를 기반으로 동작하여 테스트를 진행하게 된다. 한편, VILS 환경에는 실제 주행이 가능한 차량과 시뮬레이션 상의 맵에 대응하는 주행 시험장이 필요한데, 주행 시험장 내에 한 대의 테스트 차량만이 VILS 테스트를 진행하는 경우에는 문제가 되지 않으나, 실제 주행시험장 에는 복수의 차량들이 동시에 VILS 테스트를 진행할 수 있다. 기존 VILS 시스템은 자체적으로 주행 시험장 내의 자차량 이외의 다른 차량에 대해 고려하지 않아 사고 발생 가 능성이 있으며, 이러한 현장관리에 대해서는 운영자에게만 의존하는 한계가 있다. [선행 특허] 출원번호: 10-2019-0156179(등록번호: 10-2139513) 출원인: 국민대학교 산학협력단 발명의 명칭: 인공지능 VILS 기반의 자율 주행 제어 장치 및 방법"}
{"patent_id": "10-2022-0052073", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "상술한 문제점을 해결하기 위한 본 발명의 목적은, 개방된 주행 시험장 내에서 복수의 테스트 차량들이 VILS 시 스템에 기반한 검증 대상 로직의 검증(및/또는 평가)를 수행하는 테스트 환경에서, 테스트 차량들 간의 충돌 등 과 같은 사고 위험도를 낮춘 상태에서 차량 제어 로직의 검증을 수행하기 위한 차량-인-더 루프-시뮬레이션 (VILS) 시스템 및 이에 기반한 차량 제어 로직의 검증 방법을 제공하는 데 있다."}
{"patent_id": "10-2022-0052073", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상술한 목적을 달성하기 위한 본 발명의 일측면에 따른 VILS 테스트 방법은, VILS(Vehicle-In-The-Loop- Simulation) 시나리오를 실행하는 컴퓨팅 장치로서, 상기 VILS 시나리오에 기반한 VILS 테스트 방법으로서, 동 일한 주행 시험장 내에서 상기 VILS 시나리오에 따른 검증을 수행하는 테스트 차량과 주변 테스트 차량의 거동 정보를 획득하는 단계; 상기 거동 정보를 기반으로 상기 테스트 차량과 상기 주변 테스트 차량의 충돌 위험 레 벨을 판단하는 단계; 및 상기 판단한 충돌 위험 레벨에 따라 상기 VILS 시나리오의 실행을 지연 또는 정지시키 는 단계를 포함한다. 실시 예에서, 상기 VILS 시나리오의 실행을 지연 또는 정지시키는 단계 이후, 상기 판단한 충돌 위험 레벨이 상 기 테스트 차량과 상기 주변 테스트 차량의 충돌 위험 정도가 낮은 안전 레벨 또는 주의 레벨로 변경되면, 상기 지연 또는 정지된 VILS 시나리오의 실행을 재개하는 단계를 더 포함할 수 있다. 실시 예에서, 상기 판단된 충돌 위험 레벨은 상기 테스트 차량과 상기 주변 테스트 차량의 충돌 위험 정도가 높 은 경고 레벨과 상기 충돌 위험 정도가 더 높은 위험 레벨을 포함하고, 상기 VILS 시나리오의 실행을 지연 또는 정지시키는 단계는, 상기 경고 레벨에 따라 상기 VILS 시나리오의 실행을 지연시키는 단계; 및 상기 위험 레벨 에 따라 상기 VILS 시나리오의 실행을 정지시키는 단계를 포함한다. 실시 예에서, 상기 VILS 시나리오의 실행을 정지시키는 단계는, 상기 VILS 시나리오의 실행을 정지시킨 후, 차 량에 탑재된 검증 대상 로직의 제어에 따라 상기 테스트 차량의 자율 주행을 정지시키는 단계를 더 포함할 수 있다. 실시 예에서, 상기 VILS 시나리오의 실행을 지연 또는 정지시키는 단계는, 가상 시뮬레이션 환경에서 인접 차선 을 주행하는 가상의 주변 차량이 상기 테스트 차량의 주행 차선으로 진입하는 상기 VILS 시나리오의 실행을 지 연 또는 정지시키는 단계일 수 있다. 본 발명의 다른 일면에 따른 VILS 테스트 방법은 개방된 동일한 주행 시험장 내에서 테스트 차량과 주변 테스트 차량을 포함하는 복수의 테스트 차량이 VILS 시나리오에 기반한 테스트를 수행하는 VILS 테스트 방법으로서, 데 이터 획득부가, 상기 테스트 차량과 상기 주변 테스트 차량의 거동 정보를 획득하는 단계; 시뮬레이션 동기화부 가, 상기 VILS 시나리오에 따른 가상 시뮬레이션 환경에서 사용하는 시뮬레이션 맵에 상기 거동 정보를 맵핑하 는 단계; 위험 판단부가, 상기 시뮬레이션 맵에 맵핑된 상기 거동 정보를 기반으로 상기 테스트 차량과 상기 주 변 테스트 차량의 충돌 위험 레벨을 판단하는 단계; 및 상기 판단된 충돌 위험 레벨에 따라 상기 VILS 시나리오 에서 정의한 가상 장애물의 이동 시나리오를 지연 또는 정지시키는 단계를 포함할 수 있다. 실시 예에서, 상기 거동 정보를 획득하는 단계는, 상기 테스트 차량에 설치된 측위 센서를 이용하여 상기 테스 트 차량의 거동 정보를 획득하는 단계; 및 상기 주변 테스트 차량과의 무선 통신을 이용하여 상기 주변 테스트 차량의 거동 정보를 획득하는 단계를 포함할 수 있다. 실시 예에서, 상기 거동 정보를 획득하는 단계는, 상기 테스트 차량에 포함된 통신 단말을 이용하여 상기 주변 테스트 차량의 거동 정보를 상기 주변 테스트 차량으로부터 직접 획득하거나 상기 주행 시험장의 관제 센터를 경유하여 상기 주변 테스트 차량의 거동 정보를 획득하는 단계일 수 있다. 실시 예에서, 상기 충돌 위험 레벨을 판단하는 단계는, 상기 거동 정보를 기반으로 상기 테스트 차량과 상기 주 변 테스트 차량의 충돌 위험성이 낮은 레벨 0 또는 1, 상기 충돌 위험성이 높은 레벨 2 및 상기 충돌 위험성이 더 높은 레벨 3을 판단하는 단계일 수 있다. 실시 예에서, 상기 가상 장애물의 이동 시나리오를 지연 또는 정지시키는 단계는, 상기 레벨 2에 따라 상기 가 상 장애물의 이동 시나리오를 지연시키는 단계; 및 상기 레벨 3에 따라 상기 가상 장애물의 이동 시나리오를 정 지시키는 단계를 포함할 수 있다. 실시 예에서, 상기 레벨 2 또는 상기 레벨 3이 상기 레벨 0 또는 1로 변경된 경우, 상기 지연 또는 정지된 가상 장애물의 이동 시나리오를 재개하는 단계를 더 포함할 수 있다. 실시 예에서, 상기 가상 장애물의 이동 시나리오는 상기 테스트 차량의 인접 차선을 주행하는 상기 가상 장애물 이 상기 테스트 차량의 주행 차선으로 진입하는 시나리오일 수 있다. 본 발명의 또 다른 일면에 따른 VILS 시나리오를 실행하는 VILS 시스템은 개방된 동일한 주행 시험 장내에서 VILS 테스트를 수행하는 테스트 차량과 주변 테스트 차량의 거동 정보를 획득하는 데이터 획득부; 상기 VILS 시 나리오에서 정의한 가상 시뮬레이션 환경을 나타내는 시뮬레이션 맵에 상기 거동 정보를 동기화하는 시뮬레이션 동기화부; 상기 시뮬레이션 맵에 맵핑된 상기 거동 정보를 기반으로 상기 테스트 차량과 상기 주변 테스트 차량 의 충돌 위험 레벨을 판단하는 위험 판단부; 상기 판단된 충돌 위험 레벨에 따라 상기 VILS 시나리오에서 정의 한 가상 차량의 교통 시나리오의 실행에 대한 지연 명령 또는 정지 명령을 생성하는 시나리오 제어부; 및 상기 지연 명령 또는 정지 명령에 따라 상기 가상 차량의 교통 시나리오의 실행을 지연 또는 정지시키는 VILS 실행부 를 포함한다. 실시 예에서, 상기 시나리오 제어부는, 상기 위험 판단부로부터 전달된 상기 판단된 충돌 위험 레벨이 상기 테 스트 차량과 상기 주변 테스트 차량의 충돌 위험 정도가 낮은 충돌 위험 레벨로 변경된 경우, 가상 차량의 교통 시나리오의 실행에 대한 진행 명령을 생성할 수 있다. 실시 예에서, 상기 VILS 실행부는, 상기 시나리오 제어부로부터 전달된 상기 진행 명령에 따라 지연 또는 정지 된 가상 차량의 교통 시나리오의 실행을 재개할 수 있다."}
{"patent_id": "10-2022-0052073", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따르면, 실제 주행 시험장 내에서 복수의 테스트 차량들이 차량 제어 로직에 대한 검증을 수행하는 환경에서 테스트 차량들 간의 사고 위험도를 줄일 수 있는 새로운 VILS 시나리오(정지 시나리오 및/또는 지연시나리오)를 제공함으로써, VILS 시스템 사용 중의 사고 위험도를 낮추어 보다 안전하게 VILS 시스템 기반으로 차량 제어 로직에 대한 검증 및/또는 평가를 수행할 수 있다."}
{"patent_id": "10-2022-0052073", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 명세서에서 사용한 용어는 단지 특정한 실시예를 설명하기 위해 사용된 것으로, 본 발명을 한정하려는 의도 가 아니다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 출원에서, \"포 함하다\" 또는 \"가지다\" 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 이하, 첨부한 도면들을 참조하여, 본 발명의 바람직한 실시예를 보다 상세하게 설명하고자 한다. 본 발명을 설 명함에 있어 전체적인 이해를 용이하게 하기 위하여 도면상의 동일한 구성요소에 대해서는 동일한 참조부호를 사용하고 동일한 구성요소에 대해서 중복된 설명은 생략한다. 도 1은 본 발명의 실시 예에 따른 VILS 시스템의 개략적인 블록 구성도이다. 도 1을 참조하면, 본 발명의 실시 예에 따른 VILS 시스템은 개방된 주행 시험장 내에서 복수의 테스트 차 량들이 VILS에 기반한 검증 대상 로직의 검증(및/또는 평가)를 수행하는 테스트 환경에서, 테스트 차량들 간의 충돌 등과 같은 사고 위험도를 낮춘 상태에서 검증 대상 로직의 검증을 수행할 수 있는 VILS 시나리오를 제공한 다. 이를 위해, VILS 시스템은 측위 센서, 컴퓨팅 장치, 검증 대상 로직, 차량 제어 장치 및 통신 단말을 포함한다. 측위 센서는 차량에 장착되어, 테스트 차량의 측위 정보를 생성한다. 센서는 VILS 테스트 수행시에 차량 루프에 장착되고, VILS 테스트를 종료하면 차량 루프에서 제거될 수 있다. 물론 측위 센서는 차량 생 산시에 이미 장착된 장치일 수 있다. 측위 정보는 GPS 정보 및 IMU(Inertial Measurement Unit) 정보를 포함할 수 있다. GPS 정보는 위도 정보, 경 도 정보 및 고도 정보를 포함할 수 있다. IMU 정보는 테스트 차량의 횡가속도 정보, 요잉(Yawing) 정보 등을 포 함할 수 있다. 이러한 측위 정보를 생성하기 위해, 측위 센서는 GPS 정보를 제공하는 GPS 센서 및 IMU 정보를 제공하는 IMU 센서를 포함할 수 있다. IMU 센서는 가속도 센서, 각속도 센서(자이로스코프), 지자기 센서(Magnetometer) 등을 포함할 수 있다. 도 1에는 도시하지 않았으나, VILS 시스템은 주변 테스트 차량의 측위 정보를 측정하기 위한 센서를 더 포 함할 수 있다. 주변 테스트 차량의 측위 정보를 측정하기 위한 센서로서, 라이다(Lidar) 센서, 카메라 등을 예 로 들 수 있다. 라이다(Lidar) 센서, 카메라 등으로부터 획득한 정보(예, 라이다 정보, 영상 정보)는 주변 테스 트 차량의 거동 상태를 파악하기 위한 측위 정보로 가공될 수 있다.컴퓨팅 장치는 VILS 시나리오(또는 검증을 위한 자율 주행 시나리오)를 실행하여, 가상 시뮬레이션 환경에 서 출현하는 가상 장애물의 거동 정보를 생성하는 장치로서, 실행된 VILS 시나리오에 따라 검증 대상 로직(13 0)에 대한 테스트를 수행하는 장치일 수 있다. 이러한 컴퓨팅 장치는 시험 운전자가 소지한 상태로 테스트 차량 내부에 탑승할 수 있도록 구현된 휴대용 장치일 수 있으며, 노트북, 태블릿 PC 등을 예로 들 수 있다. 무엇보다도 컴퓨팅 장치는 테스트 차량의 거동 정보(위치 정보)와 주변 테스트 차량의 거동 정보(위치 정 보)를 기반으로 VILS 시나리오의 특정 교통 시나리오를 일시적으로 지연 또는 정지시킴을 특징으로 한다. 여기 서, 특정 교통 시나리오는 가상 시뮬레이션 환경에서 가상 장애물의 출현 시나리오를 의미할 수 있다. 이처럼 본 발명은 동일 주행 시험장 내에서 테스트 차량과 주변 테스트 차량이 VILS 테스트를 동시에 수행하는 환경에서 특정 교통 시나리오의 실행을 일시적으로 지연 또는 정지시켜서 테스트 차량의 시험 운전자가 주변 테 스트 차량의 출현에 대한 주의 집중을 방해하는 요소를 제거함으로써, 테스트 차량과 주변 테스트 차량의 사고 발생을 줄일 수 있다. 이러한 컴퓨팅 장치에 대한 설명은 후술하기로 한다. 검증 대상 로직은 LCS(Lane Change Warning)과 SCW(Side Collision Warning)의 ADAS 및 자율 주행과 직접 관련된 각 기능별 ECU(Electronic Control Unit)와 소프트웨어 등으로 구현될 수 있다. 이러한 검증 대상 로직은 컴퓨팅 장치로부터 전달된 가상 장애물의 거동 정보에 따라 자율 주행 경로 정보 및/또는 차량 제어 정보(예, 브레이크 제어 정보, 가속 페달 제어 정보, 스티어링 휠 제어 정보 등) 등을 생성하여, 이를 차량 제어 장치로 전달한다. 차량 제어 장치는 검증 대상 로직로부터 전달된 자율 주행 경로 정보 및/또는 차량 제어 정보에 따라 테스트 차량의 주행을 제어하는 장치로서, 엔진 제어 유닛, 변속기 제어 유닛, 브레이크 제어 유닛, 가속 페달 제어 유닛 등을 예로 들 수 있다. 이하, 컴퓨팅 장치에 대해 상세히 설명하기로 한다. 전술한 바와 같이, 컴퓨팅 장치는 VILS 시나리오를 실행하고, 무엇보다도 주변 테스트 차량의 거동 정보를 기반으로 VILS 시나리오의 특정 교통 시나리오에 대한 정지 및/또는 지연 시나리오를 제공한다. 이를 위해, 컴퓨팅 장치는 데이터 획득부, VILS 실행부, 시뮬레이션 동기화부, 위험 판단 부 및 시나리오 제어부를 포함하도록 구성될 수 있다. 데이터 획득부 데이터 획득부는 테스트 차량의 거동 정보 및 주변 테스트 차량의 거동 정보를 수집하는 장치로서, 테스트 차량의 거동 정보는 측위 센서로부터 전달되는 측위 정보(GPS 정보 및/또는 IMU 정보) 및 차량 제어 장치 로부터의 테스트 차량의 주행 상태 정보를 포함한다. 테스트 차량의 거동 정보는 테스트 차량의 위치 정보(위도 정보, 경도 정보 및 고도 정보), 속도, 가속도, 각속 도, 횡가속도, 요잉(Yawing) 정보 등과 같이 테스트 차량의 거동 상태를 파악할 수 있는 모든 종류의 정보를 포 괄하는 의미로 사용될 수 있다. 마찬가지로, 주변 테스트 차량의 거동 정보 역시 주변 테스트 차량의 위치 정보(위도 정보, 경도 정보 및 고도 정보), 속도, 가속도, 각속도, 횡가속도, 요잉(Yawing) 정보 등과 같이 주변 테스트 차량의 거동 상태를 파악할 수 있는 모든 종류의 정보를 포괄하는 의미로 사용될 수 있다. 이러한 주변 테스트 차량의 거동 정보는 전술한 바와 같이 테스트 차량에 장착된 라이다 센서 및 카메라 등으로 부터 획득한 정보를 가공하여 획득되거나 앞에서 언급하지 않은 통신 단말을 이용하여 관제 센터를 통해 주변 테스트 차량으로부터 획득할 수 있다. 또한, 주변 테스트 차량의 거동 정보는 V2V 통신을 이용 하여 관제 센터를 경유하지 않고, 주변 테스트 차량으로부터 직접 획득할 수도 있다. VILS 실행부 VILS 실행부는 전술한 바와 같이 VILS 시나리오를 실행하고, 실행된 VILS 시나리오에서 정의한 가상 장애 물의 거동 정보를 포함하는 가상 시뮬레이션 환경을 재현하는 모듈로서, 하드웨어 모듈, 소프트웨어 모듈 또는이들의 조합으로 구현될 수 있다. 이러한 VILS 실행부는 가상 시뮬레이션 환경에 출현하는 가상 장애물의 거동 정보를 포함하는 VILS 시나리 오 정보를 검증 대상 로직 및 후술하는 위험 판단부로 전달한다. 가상 장애물은 가상 시뮬레이션 환경에서 출현(재현)되는 가상의 주변 차량, 가상의 보행자, 가상의 빌딩, 가상 의 교통 표지판, 기타 가상의 장애물 등을 포함한다. 이러한 가상 장애물의 거동 정보는 가상 장애물의 위치 정보, 속도, 가속도, 각속도, 횡가속도, 요잉(Yawing) 정보, 테스트 차량으로부터의 가상 장애물까지의 거리 정보 등을 포함할 수 있다. 또한, VILS 실행부는 가상 시뮬레이션 환경에서 사용하는 시뮬레이션 맵 정보를 후술하는 시뮬레이션 동기 화부로 전달한다. 이러한 시뮬레이션 맵(SIM Map) 정보는 실제 주행 환경에 대한 건물 정보, 도로 정보, 차선 정보 등을 포함할 수 있다. 시뮬레이션 동기화부 시뮬레이션 동기화부는 데이터 획득부에 의해 획득 및 수집된 테스트 차량의 거동 정보와 주변 테스 트 차량의 거동 정보와 VILS 실행부로부터의 시뮬레이션 맵 정보를 동기화한다. 이러한 동기화는 테스트 차량의 거동 정보와 주변 테스트 차량의 거동 정보를 시뮬레이션 맵 정보에 맵핑하는 프로세스를 의미한다. 이러한 맵핑 프로세스는, 예를 들면, 테스트 차량의 거동 정보에 포함된 테스트 차량의 위치 좌표와 주변 테스 트 차량의 거동 정보에 포함된 주변 테스트 차량의 위치 좌표를 시뮬레이션 맵의 좌표계에서 표현할 수 있는 위 치 좌표로 변환하는 프로세스일 수 있다. 위험 판단부 위험 판단부는 시뮬레이션 맵 정보(또는 시뮬레이션 맵)에 동기화된 테스트 차량의 거동 정보와 주변 테스 트 차량의 거동 정보, VILS 실행부로부터의 VILS 시나리오 정보에 포함된 가상 장애물의 거동 정보 및/또 는 검증 대상 로직으로부터의 자율 주행 경로 정보를 기반으로, 테스트 차량과 주변 테스트 차량 간의 충 돌 위험 레벨을 예측하여 판단한다. 본 발명의 실시 예에 따르면, 충돌 위험 레벨은 크게 4개의 레벨로 나눌 수 있다. 레벨 0(LV 0)은 안전 레벨로서, 테스트 차량의 주변에 주변 테스트 차량이 없거나 기 설정된 충돌 위험 반경 밖 에 존재하여, 테스트 차량과 주변 테스트 차량 간의 충돌 위험이 없는 레벨을 의미한다. 레벨 1(LV 1)은 주의 레벨로서, 주변 테스트 차량이 기 설정된 충돌 위험 반경 내에 존재하지만, 테스트 차량의 예측 주행 경로와 주변 테스트 차량의 예측 주행 경로가 중첩되지 않아 충돌 위험이 없는 레벨을 의미한다. 레벨 2(LV 2)는 경고 레벨로서, 주변 테스트 차량이 충돌 위험 반경 내에 존재하여 테스트 차량의 예측 주행 경 로 내에 주변 테스트 차량의 예측 주행 경로가 중첩되어 충돌 위험은 있지만, 충돌 위험이 높지 않은 레벨을 의 미한다. 후술하겠지만, 레벨 2에서는 VILS 시나리오의 특정 교통 시나리오가 지연될 수 있다. 레벨 3(LV 3)은 위험 레벨로서 주변 테스트 차량이 충돌 위험 반경 내에 존재하여 테스트 차량의 예측 주행 경 로와 주변 테스트 차량의 예측 주행 경로가 중첩되고 충돌 위험이 높은 레벨을 의미한다. 후술하겠지만, 레벨 3 에서는 VILS 시나리오 자체의 실행이 정지되고, 테스트 차량의 속도가 감속되거나 정지될 수 있다. 시나리오 제어부 시나리오 제어부는 위험 판단부로부터의 충돌 위험 레벨에 따른 시나리오 제어 명령을 생성하여 이를 VILS 실행부로 전달한다. 시나리오 제어 명령은 VILS 시나리오의 계속 진행을 명령하는 진행 명령, VILS 시나리오에서 정의한 특정 교통 시나리오의 진행을 지연시키는 지연 명령 및 VILS 시나리오 자체의 실행을 정지시키는 정지 명령을 포함한다. 본 발명의 실시 예에 따르면, 시나리오 제어부는 위험 판단부로부터의 충돌 위험 레벨 0 또는 1에 따 라 진행 명령을 VILS 실행부로 전달할 수 있다. 본 발명의 실시 예에 따르면, 시나리오 제어부는 위험 판단부로부터의 충돌 위험 레벨 2에 따라 지연 명령을 VILS 실행부로 전달할 수 있다.본 발명의 실시 예에 따르면, 시나리오 제어부는 위험 판단부로부터의 충돌 위험 레벨 3에 따라 정지 명령을 VILS 실행부로 전달할 수 있다. VILS 실행부가 시나리오 제어부로부터 지연 명령을 수신하는 경우 특정 교통 시나리오의 진행을 지연 시킨다. 여기서, 특정 교통 시나리오는, 예를 들면, 가상 시뮬레이션 환경에서 테스트 차량의 전방에 인접 차선 을 주행하는 가상의 주변 차량(가상의 장애물)이 테스트 차량의 주행 차선으로 진입하는 시나리오일 수 있다. 즉, VILS 실행부는 시나리오 제어부로부터의 지연 명령에 따라 위에서 예로 든 특정 교통 시나리오의 실행을 일시적으로 지연시키고, 이러한 특정 교통 시나리오의 실행 지연은 충돌 위험 레벨 2가 충돌 위험 레벨 0 또는 1로 변경될 때까지 유지된다. 예를 들면, VILS 실행부는 주변 테스트 차량이 테스트 차량을 기준으로 하는 충돌 위험 반경 밖으로 이동 하거나, 테스트 차량의 주행 차선에서 인접 차선으로 이동하거나, 테스트 차량과의 기 설정된 안전 거리를 유지 할 때까지 특정 교통 시나리오의 실행을 계속 지연시킨다. 충돌 위험 레벨 2가 충돌 위험 레벨 0 또는 1로 변경되면, 시나리오 제어부는 진행 명령을 VILS 실행부 로 전달하고 지연된 특정 교통 시나리오의 실행을 재개한다. 도 2은 본 발명의 실시 예에 따른 VILS 시스템에 의해 실행되는 기본 VILS 시나리오를 설명하기 위한 개념도이 다. 도 2를 참조하면, 도 1에 도시된 VILS 실행부에 의해 실행되는 기본 시나리오는 충돌 위험 레벨 0 또는 1 에 따른 VILS 사나리오로서, 주행 시험장 내에 다른 주변 테스트 차량이 없는 경우에서 실행될 수 있다. 기본 시나리오는 크게 단계 (A), (B) 및 (C) 단계로 이루어질 수 있다. 단계 (A)는 시나리오의 시작 단계로서, 가상 시뮬레이션 환경에서 테스트 차량과 가상 차량(가상 장애 물)이 출현한다. 단계 (B)는 가상 차량의 차선 변경을 시작하는 단계이다. 단계 (C)는 가상 차량의 차선 변경 시나리오에 따라 테스트 차량의 감속 및 가상 차량의 추종 주행 을 수행하는 단계이다. 이처럼 기본 시나리오는 주행 시험장 내에 다른 주변 테스트 차량이 없는 경우 또는 충돌 위험 레벨 0 또는 1이 경우 단계 (A), (B) 및 (C)의 지연 또는 정지 없이 순차척으로 진행된다. 도 3은 본 발명의 다른 실시 예에 따른 VILS 시스템에 의해 실행되는 지연 시나리오를 설명하기 위한 개념도이 다. 도 3을 참조하면, 도 1에 도시된 VILS 실행부에 의해 실행되는 지연 시나리오는 충돌 위험 레벨 2에 따른 VILS 사나리오로서, 주행 시험장 내에 주변 테스트 차량이 존재하는 경우에서 실행될 수 있다. 즉, 지연 시 나리오는 테스트 차량의 예측 주행 경로와 주변 테스트 차량의 예측 주행 경로가 중첩되거나 동일 차선을 주행하고 있지만, 충돌 위험이 높지 않은 레벨에서 실행될 수 있다. 지연 시나리오는 (A), (B), (C) 및 (D) 단계로 이루어질 수 있다 단계 (A)는 주변 테스트 차량의 출현에 따라 위험 판단부(도 1의 123)가 충돌 위험 레벨 2(경고 레벨)을 판단하 고, 시나리오 제어부(도 1의 129)가 충돌 위험 레벨 2에 따라 시나리오 지연 명령을 VILS 실행부로 전달하 는 단계이다. 단계 (B)는 VILS 실행부가 시나리오 제어부(도 1의 129)로부터의 지연 명령에 따라 충돌 위험 레벨 2가 충 돌 위험 레벨 0 또는 1로 변경될 때까지 단계(C) 및 (D)로 이루어진 특정 교통 시나리오의 실행을 지연시키는 단계이다. 예를 들면, 단계 (B)는 주변 테스트 차량이 테스트 차량의 주행 차선에서 가상 차량이 출현하 지 않는 인접 차선으로 이동하는지 확인하는 단계일 수 있다.주변 테스트 차량이 인접 차선으로 이동함을 확인하면, 충돌 위험 레벨 2는 충돌 위험 레벨 0 또는 1로 변경되고, 이에 따라, 시나리오 제어부(도 1`의 129)는 진행 명령을 VILS 실행부로 전달하고, 이에 따라, VILS 실행부는 지연된 단계(C) 및 (D)로 이루어진 특정 교통 시나리오의 실행을 재개한다. 여기서, 단계 (C) 및 (D)는 도 1의 단계 (B) 및 (C)와 동일한 단계로서, 이에 대한 설명은 전술한 도 1의 단계 (B) 및 (C)에 대한 설명으로 대신하다. 도 4는 본 발명의 실시 예에 따른 VILS 테스트 방법을 설명하기 위한 흐름도이다. 도 4를 참조하면, 우선 S410에서, 컴퓨팅 장치 또는 데이터 획득부에서, 동일한 주행 시험장 내에서 상기 VILS 시나리오에 따른 검증을 수행하는 테스트 차량과 주변 테스트 차량의 거동 정보를 획득한다. 일 실시 예에서, 상기 테스트 차량에 설치된 측위 센서(도 1의 110)를 이용하여 상기 테스트 차량의 거동 정보 를 획득하고, 상기 주변 테스트 차량과의 무선 통신을 이용하여 상기 주변 테스트 차량의 거동 정보를 획 득할 수 있다. 다른 실시 예에서, 상기 테스트 차량에 포함된 통신 단말(도 1의 150)을 이용하여 상기 주변 테스트 차량의 거 동 정보를 상기 주변 테스트 차량으로부터 직접 획득하거나 상기 주행 시험장의 관제 센터를 경유하여 상 기 주변 테스트 차량의 거동 정보를 획득 이어, S420에서, 컴퓨팅 장치 또는 위험 판단부에서, 상기 거동 정보를 기반으로 상기 테스트 차량과 상기 주변 테스트 차량의 충돌 위험 레벨을 산출한다. 실시 예에서, S410과 S420 사이에서 컴퓨팅 장치 또는 시뮬레이션 동기화부에서, 상기 VILS 시나리오 에 따른 가상 시뮬레이션 환경에서 사용하는 시뮬레이션 맵에 상기 거동 정보를 맵핑하는 단계를 더 수행할 수 있다. 이어, S430에서, 컴퓨팅 장치 또는 위험 판단부에서, 충돌 위험 레벨이 경고 레벨(LV2) 또는 위험 레 벨(LV3)인지를 판단한다. 이어, S440에서, 충돌 위험 레벨이 경고 레벨(LV2) 또는 위험 레벨(LV3)이 아닌 경우, 즉, 안전 레벨(LV0) 또는 주의 레벨(LV1)인 경우, VILS 실행부에서 시나리오 제어부로부터의 진행 명령에 따라 VILS 시나리오 를 실행한다. 실시 예에서, VILS 시나리오는 가상 시뮬레이션 환경에 출현하는 가상 장애물(예, 가상의 주행 차량, 가상의 보 행자, 가상의 물체 등)에 대한 VILS 시나리오 또는 이동 시나리오일 수 있다. 가상 장애물이 가상 주행 차량인 경우, 가상 장애물에 대한 VILS 시나리오 또는 이동 시나리오는, 예를 들면, 가상 시뮬레이션 환경에서 인접 차 선을 주행하는 가상의 주변 차량이 상기 테스트 차량의 주행 차선으로 진입하는 시나리오일 수 있다. 이어, S450에서, 충돌 위험 레벨이 경고 레벨(LV2) 또는 위험 레벨(LV3)인 경우, 컴퓨팅 장치 또는 VILS 실행부에서, VILS 시나리오의 실행을 지연 또는 정지시킨다. 일 실시 예에서, 충돌 위험 레벨이 경고 레벨(LV2)인 경우, 컴퓨팅 장치 또는 VILS 실행부에서, VILS 시나리오의 실행을 지연시킨다. 다른 실시 예에서, 충돌 위험 레벨이 위험 레벨(LV3)인 경우, 컴퓨팅 장치 또는 VILS 실행부에서, VILS 시나리오의 실행을 정지시킨다. 또 다른 실시 예에서, VILS 시나리오의 실행의 정지는 상기 VILS 시나리오의 실행을 정지시킨 후, 차량에 탑재 된 검증 대상 로직의 제어에 따라 차량 제어 장치가 상기 테스트 차량의 자율 주행을 정지시키는 것 일 수 있다. 이어, S460에서, 컴퓨팅 장치, 위험 판단부 또는 시나리오 제어부에서, 상기 판단한 충돌 위험 레벨이 상기 테스트 차량과 상기 주변 테스트 차량의 충돌 위험 정도가 낮은 안전 레벨(LV0) 또는 주의 레벨 (LV1)로 변경되었는지를 판단한다. 상기 판단한 충돌 위험 레벨이 변경된 경우, S470에서, 컴퓨팅 장치 또는 VILS 실행부에서, 지연 또 는 정지된 VILS 시나리오의 실행을 재개한다.상기 판단한 충돌 위험 레벨이 변경되지 않은 경우, S430으로 돌아가서, S430 내지 S450을 반복 수행한다. 도 5는 도 1에 도시된 컴퓨팅 장치 또는 도 4에 도시된 방법을 수행하기 위한 컴퓨팅 장치의 구성도이다. 도 5를 참조하면, 컴퓨팅 장치는 VILS 시나리오의 실행, 지연 또는 정지를 위해 버스를 통해 통신 하는 프로세서, 메모리, 입력 인터페이스 장치, 출력 인터페이스 장치, 및 저장 장치 중 적어도 하나를 포함할 수 있다. 또한 휴대용 컴퓨터는 네트워크에 결합된 통신 장치를 포함할 수 있다. 프로세서는 적어도 하나의 CPU 및/또는 적어도 하나의 GPU를 포함하며, 메모리 또는 저장 장치 에 저장된 명령을 실행하는 반도체 장치일 수 있다. 적어도 하나의 CPU 및/또는 적어도 하나의 GPU는 도 1에 도시된 구성들(160, 170, 180 및 190)이 소프트웨어 모 듈로 구현된 경우, 저장 매체로부터 해당 소프트웨어 모듈을 호출하고, 호출한 소프트웨어 모듈을 실행하고, 실 행된 소프트웨어 모듈에 의해 처리된 중간 데이터 및/또는 결과 데이터를 적절히 처리할 수 있다. 메모리 및 저장 장치는 다양한 형태의 휘발성 또는 비휘발성 저장 매체를 포함할 수 있다. 예를 들 어, 메모리는 ROM(read only memory) 및 RAM(random access memory)를 포함할 수 있다. 통신 장치는 유선 또는/및 무선 통신을 지원하는 통신 모듈일 수 있다. 도 1에 도시된 저장소들(110 ~ 150)이 원격에 위치한 경우, 통신 장치는 프로세서의 제어에 따라, 도 1에 도시된 저장소들(110 ~ 150)로부터 필요한 데이터들, 예를 들면, 의료 데이터, 생체 신호에 기반한 생체 데이터, 예측 모델, 표준 진료 지침 데이터 및 의료 지식 정도들을 수신할 수 있다. 저장 장치는 도 1에 도시된 저장소들(110 ~ 150)을 포함할 수 있다. 입력 인터페이스 장치와 출력 인터페이스는 터치 기능을 갖는 표시부로 구현될 수 있다. 이상에서 본 발명의 실시 예에 대하여 상세하게 설명하였지만 본 발명의 권리 범위는 이에 한정되는 것은 아니 고 다음의 청구범위에서 정의하고 있는 본 발명의 기본 개념을 이용한 당업자의 여러 변형 및 개량 형태 또한 본 발명의 권리 범위에 속하는 것이다.도면 도면1 도면2 도면3 도면4 도면5"}
{"patent_id": "10-2022-0052073", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 실시 예에 따른 VILS 시스템의 개략적인 블록 구성도이다. 도 2은 본 발명의 실시 예에 따른 VILS 시스템에 의해 실행되는 기본 VILS 시나리오를 설명하기 위한 개념도이 다. 도 3은 본 발명의 다른 실시 예에 따른 VILS 시스템에 의해 실행되는 지연 시나리오를 설명하기 위한 개념도이 다. 도 4는 본 발명의 실시 예에 따른 VILS 테스트 방법을 설명하기 위한 흐름도이다. 도 5는 도 1에 도시된 컴퓨팅 장치 또는 도 4에 도시된 방법을 구현하기 위한 컴퓨팅 장치의 구성도이다."}
