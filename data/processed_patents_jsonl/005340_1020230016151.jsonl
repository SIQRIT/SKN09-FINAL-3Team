{"patent_id": "10-2023-0016151", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0123600", "출원번호": "10-2023-0016151", "발명의 명칭": "대혈관 협착 또는 폐색 탐지 장치 및 방법", "출원인": "서울대학교산학협력단", "발명자": "홍석우"}}
{"patent_id": "10-2023-0016151", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "대혈관 협착 탐지 장치에 있어서,통신 모듈;협착 탐지 프로그램이 저장된 메모리;상기 협착 탐지 프로그램의 실행을 제어하는 프로세서를 포함하되,상기 협착 탐지 프로그램은, 뇌혈관에 대한 MRA영상을 전처리하여 혈관 특징을 추출하고, 혈관의 스팟별로 혈관특징을 분류 모델에 입력하여, 각 스팟이 속한 청크 또는 분지를 분류하고, 각 스팟을 정의하는 벡터 정보와 스팟의 분류 결과를 협착 탐지 모델에 입력하여 협착 탐지를 수행하고,상기 협착 탐지 모델은 협착의 발생 위치에 따라 내경동맥(internal carotid artery, ICA)의 협착, 제 1 중뇌동맥 (MCA-M1, Middle cerebral artery)의 협착 또는 제 2 중뇌동맥(MCA-M2, Middle cerebral artery)의 협착을탐지하는 것인, 대혈관 협착 탐지 장치."}
{"patent_id": "10-2023-0016151", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서, 상기 협착 탐지 모델은, 상기 스팟이 속한 청크의 엔트로피, 상기 스팟이 속한 분지의 엔트로피, 각 스팟을 나타내는 벡터 크기의 엔트로피, 벡터 크기, 벡터 방향(X, Y, Z), 혈관의 양측의 균형 정도(bilateral balance)를 기초로 협착 탐지를 수행하는 것인, 대혈관 협착 탐지 장치."}
{"patent_id": "10-2023-0016151", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1 항에 있어서, 상기 협착 탐지 모델은, 상기 내경동맥을 구성하는 스팟들을 대상으로 산출한 엔트로피가 제 1 임계값 이하이면 내경동맥의 협착으로 판단하고, 상기 제 1 중뇌동맥을 구성하는 스팟들을 대상으로 산출한 엔트로피가 제 2 임계값 이하이면 내경동맥의 협착으로 판단하고,상기 제 2 중뇌동맥을 구성하는 스팟들을 대상으로 산출한 엔트로피가 제 3 임계값 이하이면 내경동맥의 협착으로 판단하는 것인, 대혈관 협착 탐지 장치."}
{"patent_id": "10-2023-0016151", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 1 항에 있어서, 상기 협착 탐지 모델은 상기 협착의 발생 위치 정보를 기초로 협착 위험 점수를 산출하되,상기 내경동맥의 협착이나 제 1 중뇌동맥의 협착인 경우 제 1 페널티 점수를 부여하고, 제 2 중뇌동맥의 협착인경우 제 2 페널티 점수를 부여하되, 상기 제 1 페널티 점수는 상기 제 2 페널티 점수보다 작은 것이고,각 페널티 점수를 합산하여 상기 협착 위험 점수를 산출하는 것인, 대혈관 협착 탐지 장치."}
{"patent_id": "10-2023-0016151", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 1 항에 있어서, 공개특허 10-2024-0123600-3-상기 분류 모델은 스팟의 특징을 나타내는 혈관 특징 벡터를 이용하여, 해당 스팟이 속한 청크를 분류하는 제 1학습 모델 및상기 제 1 학습 모델에 의해 분류된 청크 분류 결과를 토대로, 스팟의 특징을 나타내는 혈관 특징 벡터를 이용하여, 청크 보다 하위 레벨인 분지 또는 세그먼트를 분류하는 제 2 학습 모델을 포함하되,상기 제 1 학습 모델은 혈관의 특징 벡터와 이에 매칭된 청크 분류 정보를 포함하는 학습 데이터를 기초로 지도학습을 통해 학습된 것이고,상기 제 2 학습 모델은 혈관의 특징 벡터와 이에 매칭된 청크 하위 분류 정보를 포함하는 학습 데이터를 기초로지도 학습을 통해 학습된 것인, 대혈관 협착 탐지 장치."}
{"patent_id": "10-2023-0016151", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "대혈관 협착 탐지 장치의 대혈관 협착 탐지 방법에 있어서,(a) 뇌혈관에 대한 MRA영상을 수신하는 단계;(b) 혈관의 스팟별로 혈관 특징을 분류 모델에 입력하여, 각 스팟이 속한 청크 또는 분지를 분류하는 단계; (c) 각 스팟을 정의하는 벡터 정보와 스팟의 분류 결과를 협착 탐지 모델에 입력하여 협착 탐지를 수행하되,상기 협착 탐지 모델은 협착의 발생 위치에 따라 내경동맥(internal carotid artery, ICA)의 협착, 제 1 중뇌동맥 (MCA-M1, Middle cerebral artery)의 협착 또는 제 2 중뇌동맥(MCA-M2, Middle cerebral artery)의 협착을탐지하는 것인, 대혈관 협착 탐지 방법."}
{"patent_id": "10-2023-0016151", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제 6 항에 있어서, 상기 (c) 단계에서,상기 협착 탐지 모델은, 상기 스팟이 속한 청크의 엔트로피, 상기 스팟이 속한 분지의 엔트로피, 각 스팟을 나타내는 벡터 크기의 엔트로피, 벡터 크기, 벡터 방향(X, Y, Z), 혈관의 양측의 균형 정도(bilateral balance)를기초로 협착 탐지를 수행하는 것인, 대혈관 협착 탐지 방법."}
{"patent_id": "10-2023-0016151", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 6 항에 있어서, 상기 (c) 단계에서,상기 협착 탐지 모델은, 상기 내경동맥을 구성하는 스팟들을 대상으로 산출한 엔트로피가 제 1 임계값 이하이면내경동맥의 협착으로 판단하고, 상기 제 1 중뇌동맥을 구성하는 스팟들을 대상으로 산출한 엔트로피가 제 2 임계값 이하이면 내경동맥의 협착으로 판단하고,상기 제 2 중뇌동맥을 구성하는 스팟들을 대상으로 산출한 엔트로피가 제 3 임계값 이하이면 내경동맥의 협착으로 판단하는 것인, 대혈관 협착 탐지 방법."}
{"patent_id": "10-2023-0016151", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 6 항에 있어서, (d) 상기 협착 탐지 모델을 통해 협착의 발생 위치 정보를 기초로 협착 위험 점수를 산출하는 단계를 더 포함하되,상기 내경동맥의 협착이나 제 1 중뇌동맥의 협착인 경우 제 1 페널티 점수를 부여하고, 제 2 중뇌동맥의 협착인경우 제 2 페널티 점수를 부여하되, 상기 제 1 페널티 점수는 상기 제 2 페널티 점수보다 작은 것이고,각 페널티 점수를 합산하여 상기 협착 위험 점수를 산출하는 것인, 대혈관 협착 탐지 방법.공개특허 10-2024-0123600-4-청구항 10 제 6 항에 있어서, 상기 분류 모델은 스팟의 특징을 나타내는 혈관 특징 벡터를 이용하여, 해당 스팟이 속한 청크를 분류하는 제 1학습 모델 및상기 제 1 학습 모델에 의해 분류된 청크 분류 결과를 토대로, 스팟의 특징을 나타내는 혈관 특징 벡터를 이용하여, 청크 보다 하위 레벨인 분지 또는 세그먼트를 분류하는 제 2 학습 모델을 포함하되,상기 제 1 학습 모델은 혈관의 특징 벡터와 이에 매칭된 청크 분류 정보를 포함하는 학습 데이터를 기초로 지도학습을 통해 학습된 것이고,상기 제 2 학습 모델은 혈관의 특징 벡터와 이에 매칭된 청크 하위 분류 정보를 포함하는 학습 데이터를 기초로 지도 학습을 통해 학습된 것인, 대혈관 협착 탐지 방법."}
{"patent_id": "10-2023-0016151", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제 6 항 내지 제 10 항 중 어느 한 항에 따른 대혈관 협착 탐지 방법을 수행하기 위한 컴퓨터 프로그램이 기록된 비일시적 컴퓨터 판독가능 기록매체."}
{"patent_id": "10-2023-0016151", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명에 따른 대혈관 협착 탐지 장치는, 통신 모듈, 협착 탐지 프로그램이 저장된 메모리, 상기 협착 탐지 프 로그램의 실행을 제어하는 프로세서를 포함하되, 상기 협착 탐지 프로그램은, 뇌혈관에 대한 MRA영상을 전처리하 여 혈관 특징을 추출하고, 혈관의 스팟별로 혈관 특징을 분류 모델에 입력하여, 각 스팟이 속한 청크 또는 분지 를 분류하고, 각 스팟을 정의하는 벡터 정보와 스팟의 분류 결과를 협착 탐지 모델에 입력하여 협착 탐지를 수행 하고, 상기 협착 탐지 모델은 협착의 발생 위치에 따라 내경동맥(internal carotid artery, ICA)의 협착, 제 1 중뇌동맥 (MCA-M1, Middle cerebral artery)의 협착 또는 제 2 중뇌동맥(MCA-M2, Middle cerebral artery)의 협 착을 탐지하는 것이다."}
{"patent_id": "10-2023-0016151", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 이미지 분석을 통해 대혈관 협착 또는 폐색을 탐지할 수 있는 장치 및 방법에 관한 것이다."}
{"patent_id": "10-2023-0016151", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "혈관 협착(stenosis) 또는 폐색(occlusion)은 응급 의료 현장에서 급성 허혈성 뇌졸중(AIS)을 신속하게 관리하 기 위해 가장 우선적으로 고려되는 요소이다. 이하 에서는 설명의 간단을 위해 협착이 폐색을 포함하는 것으로 정의하여, 혈관 협착으로 설명하도록 한다. 혈관내 혈전제거술은 협착이 동반된 급성 뇌졸중 환자에서 뇌관류 를 회복시킬 수 있는 필수적인 치료법으로 현재 임상진료지침에 의해 뒷받침되고 있다. 그러나 혈관 협착이 있 는 급성 뇌졸중 환자에서 더 나은 임상 결과를 얻기 위해서는 혈관 내 혈전 제거술의 적극적인 적용이 첨단 신 경 영상 및 관리 프로세스의 개선에 의해 뒷받침되어야 한다. 그런 맥락에서 연구자들은 혈관 이미지를 사용하 여 자동 협착 예측을 위한 알고리즘을 개발하고 있다. 본 발명에서는 종래 연구들의 성능을 더욱 개선하기 위하여, 인공 신경망 기술을 이용한 새로운 모델을 제안한 다. 특히, 신경 혈관 분석에서 협착을 예측하기 위한 방법으로서 엔트로피를 추가로 고려하여, 예측 정확성을 향상시키고자 한다. 선행기술문헌 특허문헌 (특허문헌 0001) 대한민국 등록특허공보 제10-2189624호(발명의 명칭: 뇌 대혈관폐색 환자인지 여부를 판단하는 인공지능 기반 뇌졸중 진단 장치)"}
{"patent_id": "10-2023-0016151", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 전술한 문제점을 해결하기 위한 것으로, 뇌혈관을 촬영한 MRA 영상으로부터 대혈관의 협착을 탐지하 고, 협착의 하위 분류를 탐지할 수 있는 대혈관 협착 탐지 장치 및 방법을 제안하는 것을 기술적 과제로 한다. 다만, 본 실시예가 이루고자 하는 기술적 과제는 상기된 바와 같은 기술적 과제로 한정되지 않으며, 또 다른 기 술적 과제들이 존재할 수 있다."}
{"patent_id": "10-2023-0016151", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상술한 기술적 과제를 해결하기 위한 기술적 수단으로서, 본 발명의 제 1측면에 따른 대혈관 협착 탐지 장치는, 통신 모듈; 협착 탐지 프로그램이 저장된 메모리; 상기 협착 탐지 프로그램의 실행을 제어하는 프로세서를 포함 하되, 상기 협착 탐지 프로그램은, 뇌혈관에 대한 MRA영상을 전처리하여 혈관 특징을 추출하고, 혈관의 스팟별 로 혈관 특징을 분류 모델에 입력하여, 각 스팟이 속한 청크 또는 분지를 분류하고, 각 스팟을 정의하는 벡터 정보와 스팟의 분류 결과를 협착 탐지 모델에 입력하여 협착 탐지를 수행하고, 상기 협착 탐지 모델은 협착의 발생 위치에 따라 내경동맥(internal carotid artery, ICA)의 협착, 제 1 중뇌동맥 (MCA-M1, Middle cerebral artery)의 협착 또는 제 2 중뇌동맥(MCA-M2, Middle cerebral artery)의 협착을 탐지하는 것이다. 또한, 본 발명의 제 2 측면에 따른 대혈관 협착 탐지 장치의 대혈관 협착 탐지 방법은, (a) 뇌혈관에 대한 MRA 영상을 수신하는 단계; (b) 혈관의 스팟별로 혈관 특징을 분류 모델에 입력하여, 각 스팟이 속한 청크 또는 분 지를 분류하는 단계; (c) 각 스팟을 정의하는 벡터 정보와 스팟의 분류 결과를 협착 탐지 모델에 입력하여 협착 탐지를 수행한되, 상기 협착 탐지 모델은 협착의 발생 위치에 따라 내경동맥(internal carotid artery, ICA)의 협착, 제 1 중뇌동맥 (MCA-M1, Middle cerebral artery)의 협착 또는 제 2 중뇌동맥(MCA-M2, Middle cerebral artery)의 협착을 탐지하는 것이다."}
{"patent_id": "10-2023-0016151", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "전술한 본원의 과제 해결 수단에 따르면, 혈관의 상세 구조와 각 혈관의 상태에 대한 정보를 분석하는 협착 탐 지 모델을 통해, 내경동맥의 협착, 제 1 중뇌동맥의 협착, 제 2 중뇌동맥의 협착을 구분하여 탐지할 수 있다."}
{"patent_id": "10-2023-0016151", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "아래에서는 첨부한 도면을 참조하여 본원이 속하는 기술 분야에서 통상의 지식을 가진 자가 용이하게 실시할 수 있도록 본원의 실시예를 상세히 설명한다. 그러나 본원은 여러 가지 상이한 형태로 구현될 수 있으며 여기에서 설명하는 실시예에 한정되지 않는다. 그리고 도면에서 본원을 명확하게 설명하기 위해서 설명과 관계없는 부분 은 생략하였으며, 명세서 전체를 통하여 유사한 부분에 대해서는 유사한 도면 부호를 붙였다. 본원 명세서 전체에서, 어떤 부분이 다른 부분과 \"연결\"되어 있다고 할 때, 이는 \"직접적으로 연결\"되어 있는 경우뿐 아니라, 그 중간에 다른 소자를 사이에 두고 \"전기적으로 연결\"되어 있는 경우도 포함한다. 본원 명세서 전체에서, 어떤 부재가 다른 부재 “상에” 위치하고 있다고 할 때, 이는 어떤 부재가 다른 부재에 접해 있는 경우뿐 아니라 두 부재 사이에 또 다른 부재가 존재하는 경우도 포함한다. 이하 첨부된 도면을 참고하여 본 발명의 일 실시예를 상세히 설명하기로 한다. 도 1은 본 발명의 일 실시예에 따른 대혈관 협착 탐지 장치의 구성을 도시한 블록도이다. 대혈관 협착 탐지 장치는 외부 컴퓨팅 장치와 데이터 교환을 수행하는 통신 모듈, 메모리, 프로 세서 및 데이터베이스(DB, 140)를 포함한다. 대혈관 협착 탐지 장치는 뇌혈관에 대한 MRA 영상의 처리를 통해 대혈관의 협착 여부를 탐지한다. 대혈관 협착 탐지 장치는 네트워크에 접속할 수 있는 컴퓨터나 휴대용 단말기로 구현될 수 있다. 여기서, 컴퓨터 는 예를 들어, 노트북, 데스크톱(desktop), 랩톱(laptop) 등을 포함하고, 휴대용 단말기는 예를 들어, 휴대성과 이동성이 보장되는 무선 통신 장치로서, 각종 스마트폰, 태블릿 PC, 스마트 워치 등과 같은 모든 종류의 핸드헬 드(Handheld) 기반의 무선 통신 장치를 포함할 수 있다. 또한, 대혈관 협착 탐지 장치는 대혈관 협착 여부의 탐지 결과를 외부 컴퓨팅 장치에 제공하는 서버로서 기능할 수 있으며, 이때 서버는 SaaS (Software as a Service), PaaS (Platform as a Service) 또는 IaaS (Infrastructure as a Service)와 같은 클라우드 컴퓨팅 서비스 모델에서 동작하거나, 사설(private) 클라우드, 공용(public) 클라우드 또는 하이브리드(hybrid) 클라우드와 같은 형태로 구축될 수 있다. 통신 모듈은 외부 컴퓨팅 장치 또는 자기공명영상 장치로부터 뇌혈관을 촬영한 자기공명 혈관영상(MRA: Magnetic Resonance Angiography)을 수신한다. 이때, MRA 영상은 DICOM(Digiral Imaging and Communications in Medicine) 방식의 의료 영상일 수 있다. 통신 모듈은 다른 네트워크 장치와 유무선 연결을 통해 제어 신호 또는 데이터 신호와 같은 신호를 송수신하기 위해 필요한 하드웨어 및 소프트웨어를 포 함하는 장치일 수 있다. 메모리에는 협착 탐지 프로그램이 저장된다. 협착 탐지 프로그램은 프로세서에 의해 실행이 구동되 며, 뇌혈관에 대한 MRA영상을 전처리하여 혈관 특징을 추출하고, 혈관의 스팟별로 혈관 특징을 분류 모델에 입 력하여, 각 스팟이 속한 청크 또는 분지를 분류하고, 각 스팟을 정의하는 벡터 정보와 스팟의 분류 결과를 협착 탐지 모델에 입력하여 협착 탐지를 수행한다. 그리고, 협착 탐지 모델은 협착의 발생 위치에 따라 내경동맥 (internal carotid artery, ICA)의 협착, 제 1 중뇌동맥 (MCA-M1, Middle cerebral artery)의 협착 또는 제 2 중뇌동맥(MCA-M2, Middle cerebral artery)의 협착을 탐지한다. 한편, 메모리는 전원이 공급되지 않아도 저장된 정보를 계속 유지하는 비휘발성 저장장치 및 저장된 정보 를 유지하기 위하여 전력을 필요로 하는 휘발성 저장장치를 통칭하는 것으로 해석되어야 한다. 메모리는 저장된 정보를 유지하기 위하여 전력이 필요한 휘발성 저장장치 외에 자기 저장 매체(magnetic storage media) 또는 플래시 저장 매체(flash storage media)를 포함할 수 있으나, 본 발명의 범위가 이에 한정되는 것은 아니 다. 프로세서는 대혈관 협착 탐지 장치의 일반적인 컴퓨팅 동작을 제어하는데, 예를 들면, 운영체제를 실 행시키거나, 인터페이스 모듈을 통해 외부 장치로부터 수신되는 데이터를 관리하는 등의 동작을 수행할 수 있다. 또한, 관리자의 실행 요청에 따라 메모리에 저장된 협착 탐지 프로그램의 실행을 시작하고, 협착 탐지 프로그램의 실행 결과가 통신 모듈을 통해 외부 장치로 전송되도록 한다. 프로세서는 데이터를 처리할 수 있는 모든 종류의 장치를 포함할 수 있다. 예를 들어 프로그램 내에 포함 된 코드 또는 명령으로 표현된 기능을 수행하기 위해 물리적으로 구조화된 회로를 갖는, 하드웨어에 내장된 데 이터 처리 장치를 의미할 수 있다. 이와 같이 하드웨어에 내장된 데이터 처리 장치의 일 예로써, 마이 크로프로 세서(microprocessor), 중앙처리장치(central processing unit: CPU), 프로세서 코어(processor core), 멀티프 로세서(multiprocessor), ASIC(application-specific integrated circuit), FPGA(field programmable gate array) 등의 처리 장치를 망라할 수 있으나, 본 발명의 범위가 이에 한정되는 것은 아니다. 데이터베이스는 프로세서의 제어에 따라, 대혈관 협착 탐지 장치에 필요한 데이터를 저장 또는 제공한다. 예시적으로, 데이터베이스는 각 환자의 기본 정보와 MRA 영상 정보를 저장할 수 있다. 또한, 협 착 탐지 프로그램의 실행에 따라 생성된 협착 탐지 결과를 저장할 수 있다. 이러한 데이터베이스는 메모리 와는 별도의 구성 요소로서 포함되거나, 또는 메모리의 일부 영역에 구축될 수도 있다. 도 2는 본 발명의 일 실시예에 따른 대혈관 협착 탐지 방법을 도시한 순서도이다. 먼저, 대혈관 협착 탐지의 대상이 되는 뇌혈관 MRA 영상을 수신한다(S210). 다음으로, 수신된 뇌혈관 MRA 영상에 대해 혈관 분류 모델을 이용한 청크 및 분지의 분류 동작을 수행한다 (S220). 이를 위해, 수신한 뇌혈관 MRA 영상을 전처리하여 뇌혈관 MAR영상을 복셀화하고, 스팟에 대한 정보를 생성하고, 각 스팟에 대해 혈관 특징을 추출한다. 이에 대해서는 도 3을 참조하여 상세한 내용을 살펴보기로 한다. 도 3은 본 발명의 일 실시예에 따른 대혈관 협착 탐지 장치가 영상으로부터 혈관 구조 정보를 추출하는 과정을 설명하기 위한 도면이다. 대혈관 협착 탐지 장치는 뇌혈관을 촬영한 자기공명 혈관영상(MRA: Magnetic Resonance Angiography)을 수신하면(S310), 영상처리 프로그램을 이용하여 혈관 구조를 추출하고(S320), 혈관 구조의 3D 모델을 재구성하 는 기하학적(geometric) 처리를 수행한 후(S330), 혈관 구조의 특징을 추출한다(S340). 그리고, 혈관 구조의 특징을 청크 분류 모델 또는 하위 청크 분류 모델에 입력하여, 혈관의 분류를 수행하고(S350, S352), 각 분류 결과를 기초로 구조적 혈관 라벨링(S360)을 수행한다. 먼저, 혈관 구조에 대하여 살펴보면, 혈관 구조는 가장 작은 단위인 스팟(spot), 여러 개의 스팟을 포함하는 세 그먼트(segment), 하나 이상의 세그먼트를 포함하는 분지(branch), 하나 이상의 분지를 포함하는 청크(chunk)의 형태로 구조화될 수 있다. 스팟은 동맥 중심선에서 일정한 간격(크기)을 갖는 3D 대뇌 동맥 트리 입방 셀 (cubic cell)의 기본 단위로서, 예를 들면, 동맥 중심선에서 0.2801mm 간격을 갖는 입방 셀로 스팟을 정의할 수 있다. 세그먼트는 혈관 구조에 서 분기점을 기준으로 구분되는 다수의 스팟들로 이루어지는 것으로, 세그먼트는 혈관의 분기점과 분기점 사이 에서 연속된 다수의 스팟들의 집합에 해당한다. 혈관 분지(vessel branch)는 복수의 세그먼트들로 이루어진다. 혈관 분지는 혈관 분기점의 기하 구조에 따라 세그먼트를 기준으로 특정 유형들 중 어느 하나로 식별될 수 있다. 본 발명에서는 혈관 분지를 혈관 분기점의 기하 구조에 따라 62개의 분지 유형으로 구분하였으며, 상세한 분류 기준은 도 4 및 도 5에 도시된 바와 같다. 즉, 혈관 분지의 분류 기준에 따라, 혈관 분지가 일관되게 분류 될 수 있다. 한편, 혈관 분지는 임상분야에서 전통적으로 사용되던 명명법으로 식별될 수 있다. 혈관 분지는 임상적 기준에 따라 (i) 대칭(symmetry), (ii) 전방(anterior) 또는 후방(posterior), (iii) 기저 (basal) 또는 뇌연막(pial), (iv)중뇌동맥(middle cerebral arteries, MCA), 전대뇌동맥(anterior cerebral arteries, ACA) 또는 후대뇌동맥(posterior cerebral arteries, PCA)으로 구분되어 재구성될 수 있다. 또한, 이러한 분지을 포함하는 상위 개념의 구조로서 도 4 및 도 5에 도시된 바와 같은 청크를 정의한다. 청크는 (i) 대칭(symmetry), (ii) 전방(anterior) 또는 후방(posterior), (iii) 기저(basal) 또는 뇌연막(pial) 및 (iv) 중뇌동맥(middle cerebral arteries, MCA), 전대뇌동맥(anterior cerebral arteries, ACA) 및 후대뇌동맥 (posterior cerebral arteries, PCA)의 기준들을 포함하는 그룹 중 적어도 하나의 기준을 이용하여 유형이 분류 될 수 있다. 즉, 청크는 혈관 분지를 임상적 기준으로 보다 상위 덩어리로 구분한 것이다. 청크를 정의한 이유 는 혈관 분지가 세부적인 구조로 분지 단위를 한 번에 분류하기 어렵기 때문이다. 본 발명에서는 혈관 구조의 최소 단위인 스팟의 특징 정보를 추출하고, 이를 분류 모델에 입력하여 해당 스팟 이 속한 분지 또는 청크를 분류한다. 이를 위해, 혈관 구조 추출(S320) 단계에서는 복셀화된 MRA 영상으로부터 스팟, 세그먼트 등의 구조를 추출한다. 특히, 뇌혈관 MRA에서 혈관의 표면을 추출하는 과정을 설명하면, 종래에 알려진 VMTK(vascular modeling toolkit) 라이브러리를 사용하여 혈관 표면 모델 생성을 위한 등표면(isosuface)의 절개를 수행한다. 그리고, 바이큐빅 보간법(bicubic interpolation)을 이용하여 아티팩트를 제거하고 규칙적인 평면 그리드 상에 서 거친 영상을 리샘플한다. 이를 통해 z-축 복셀은 이소복셀(isovoxel) 이미지 스케일에 맞추어진다. 연속적인 3D 공간은 등표면들의 각 정점을 기준으로 다수의 셀들로 분할될 수 있다. 이와 같은 과정을 통해 뇌혈관 MRA에 서 각 세포의 경계 표면으로부터 주요 동맥(artery)의 중심선(centerline)을 추출할 수 있다. 또한, 대혈관 협착 탐지 장치는 뇌혈관 MRA 영상에서 혈관 표면을 일정 크기의 셀들로 구분하고, 혈관의 표면을 기준으로 뇌 동맥의 중심선의 시작점 및 골격을 추출할 수 있다. 또한, 대혈관 협착 탐지 장치는 혈관 골격 미세화를 수행하여 중심선의 종결점을 보다 뚜렷하게 할 수 있다. 구체적으로 살펴보면, 대혈관 협 착 탐지 장치는 (i) 뇌혈관 영역 및 표면을 골격화하고, (ii) 미리 설정된 임계치 하에서 가지를 잘라내고, (iii) 정제된 골격 구조에 기초하여 트리 구조의 링크된 리스트를 생성하고, (iv) 링크된 리스트로부 터 리프 노드를 지정하여 종결점을 결정할 수 있다. 대혈관 협착 탐지 장치는 결정된 시작점과 종결점을 연결하는 셀의 경계면을 추적하여 혈관의 중심선(centerline)을 추출할 수 있다. 혈관 구조에 대한 기하학적 처리(S330)을 통해, 대혈관 협착 탐지 장치는 중심선의 분기점에 기초하여 구 획된 그룹에 대한 혈관 특징을 추출한다. 중심점에서 도 3에 도시된 혈관의 단면적의 중심점 좌표(X, Y, Z)를 연결하는 각각의 벡터를 설정할 수 있 다. 그리고, 각 중심점 좌표 별로 스팟이 생성될 수 있다. 이때, 각 스팟의 특징을 나타내는 혈관 특징은 중 심점 좌표, 혈관 단면적(area), 혈관 단면의 지름(diameter), 최대 내접 구 반경(maximally inscribed sphere radius), 최소 및 최대 직경, 최대-최소 반경 비율, 표면 원주(surface circumference), 왜곡(torsion), 곡률 (curvature), 내강 진원도(luminal circularity) 또는 스팟 영역의 밝기값(brightness)을 포함할 수 있으며, 이와 같은 혈관 특징을 각 스팟별로 추출할 수 있다. 참고로, 곡률은 중심점 좌표를 연결하는 곡선을 한번 미 분하여 산출하고, 왜곡은 중심점 좌표를 연결하는 곡선을 두번 미분하여 산출할 수 있다. 다음으로, 청크 또는 하위 청크(분지, 세그먼트 등)를 분류하는 분류 모델에 대하여 살펴본다. 분류 모델은 스 팟의 특징을 나타내는 혈관 특징을 기초로, 각 스팟이 속한 청크 또는 하위 청크를 분류하고, 그 라벨링 결과를 출력한다. 이를 위해, 대혈관 협착 탐지 장치는 사전에 구축된 제1 학습 모델을 이용하여 청크 수준으로 혈관 구조를 분류하고, 제2 학습 모델을 이용하여 각 청크를 특정 분지(뇌동맥 분지)로 분류한다(S350, S352). 제 1 학습 모델과 제 2 학습 모델로는 지도 학습 모델이 사용되며, 예를 들면, MLP(multi-layer perceptron), RF(random forest)등이 사용될 수 있다. 또는, 제 1 학습 모델과 제 2 학습 모델로 결정 트리, KNN(K-nearest neighbor), 나이브 베이즈(Naive Bayes), SVM(support vector machine), ANN(artificial neural network), DNN(deep learning network) 등이 사용될 있다. 이때, DNN 모델로는 CNN(Convolutional Neural Network), RNN(Recurrent Neural Network), RBM(Restricted Boltzmann Machine), DBN(Deep Belief Network), GAN(Generative Adversarial Network), RL(Relation Networks) 등이 사용될 수 있다. 제 1 학습 모델은 스팟의 특징을 나타내는 혈관 특징 벡터를 이용하여, 해당 스팟이 속한 청크를 분류한다. 다음으로, 제 2 학습 모델은 제 1 학습 모델에 의해 분류된 청크 분류 결과를 토대로, 스팟의 특징을 나타내는 혈관 특징 벡터를 이용하여, 청크 보다 하위 레벨인 분지 또는 세그먼트를 분류한다. 이를 통해, 대혈관 협착 탐지 장치는 각 스팟의 혈관 특징 벡터를 기초로, 제 1 학습 모델과 제 2 학습 모 델로부터 해당 스팟이 속한 청크 또는 분지에 대한 정보를 산출할 수 있으며, 이는 도 3에 도시된 바와 같은 라 벨 정보나 도 5와 도 6에 도시된 바와 같은 청크 코드 또는 분지 코드와 같은 형태로 산출될 수 있다. 참고로, 도 3에서는 혈관의 각 요소를 색상별로 구분하고, 각 요소에 대한 라벨 정보를 매칭할 수 있다. 이를 위해, 제 1 학습 모델은 혈관의 특징 벡터와 이에 매칭된 청크 분류 정보(청크 라벨, 청크 코드)를 포함하 는 학습 데이터를 기초로 지도 학습을 통해 학습된다. 그리고, 제1 학습 모델이 출력하는 청크 분류의 확률값과 해당 스팟에 매칭된 청크 분류 정보를 비교하여 제1 학습 모델의 파라미터를 갱신하는 과정을 반복 수행하여 학습 모델을 구축한다. 마찬가지로, 제 2 학습 모델은 혈관의 특징 벡터와 이에 매칭된 청크 하위 분류 정보(분지 라벨, 분지 코드 등)를 포함하는 학습 데이터를 기초로 지도 학습 을 통해 학습된다. 그리고, 제2 학습 모델이 출력하는 청크 하 위 분류의 확률값과 해당 스팟에 매칭된 청크 하위 분류 정보를 비교하여 제2 학습 모델의 파라미터를 갱신하 는 과정을 반복 수행하여 학습 모델을 구축한다. 참고로, 본 발명의 발명자는 임상적으로 확인된 뇌졸중 환자들을 대상으로 학습 데이터를 수집하고, 학습 모델 을 구축하였다. 대조 코호트는 MRA 촬영을 한 정상인 들을 대상으로 하였다. 발명자는 건강한 대조군(control), 동맥협착증(intracranial atherosclerosis, ICAS)을 갖은 뇌졸중 환자(Stroke with ICAS, ICAS군) 및 일반 뇌 졸중 환자(Stroke)를 대상으로 학습 데이터를 수집하고 학습 모델을 검증하였다. 20세~94세의 157명의 참여 자 들을 대상으로 하였으며, 157명은 42명의 대조군, 46명의 ICAS군 및 69명의 혼성군(일반 뇌졸중 환자(Stroke) 와 정상인으로 구성)으로 구분된다. 혼성군은 모델 학습 및 검증을 위하여 사용하였다. 발명자는 혼성군에서 70%를 학습 데이터로 이용하고, 30%를 검증 데이터로 이용하였다. 학습 모델의 검증을 위해, 참여자들의 MRA를 분석하여 뇌동맥 혈관의 구조를 사전에 파악하였다(전문가를 활용 한 영상 판별). 즉, 발명자는 사전에 학습데이터 및 검증데이터에서 뇌동맥 분지를 분류하였고, 이를 분류 정보 로서 활용하였다. 그리고, 학습 모델의 검증을 위해, 학습 데이터와 검증 데이터를 마련하였는데, 이는 각각 특정 대상자의 뇌 MRA 영 상과 해당 영상에 대한 분류 정보를 포함한다. 다시도 2를 참조하면, 단계(S220)를 통해 대상 영상에 포함된 뇌혈관에 대하여 청크 및 분지의 분류를 수행한 후, 이를 협착 탐지 모델에 적용하여, 협착 탐지를 수행한다(S230). 협착 탐지 모델의 동작은 도 7을 통 해 설명하기로 한다.도 6은 본 발명의 일 실시예에 따른 협착 탐지 모델의 동작을 도시한 도면이다. 협착 탐지 모델은 뇌혈관의 청크 및 분지 분류 결과를 이용하여, 청크의 엔트로피, 분지의 엔트로피, 각 스팟을 나타내는 벡터 크기의 엔트로피, 벡터 크기, 벡터 방향(X, Y, Z), 혈관의 양측의 균형 정도(bilateral balance)를 기초로, 협착의 상태를 분석한다. 특히, 협착 탐지 모델은 협착의 발생 위치에 따라 내경동맥 (internal carotid artery, ICA)의 협착, 제 1 중뇌동맥 (MCA-M1, Middle cerebral artery)의 협착 또는 제 2 중뇌동맥(MCA-M2, Middle cerebral artery)의 협착을 탐지할 수 있다. 예를 들어, 청크 또는 분지의 분류 결 과를 기초로, ICA를 구성하는 스팟들을 대상으로 산출한 엔트로피가 제 1임계값 이하이면, ICA의 협착으로 판단 할 수 있다. 또한, 청크 또는 분지의 분류 결과를 기초로, MCA-M1을 구성하는 스팟들을 대상으로 산출한 엔트 로피가 제 2 임계값 이하이면, MCA-M1의 협착으로 판단할 수 있다. 또한, 청크 또는 분지의 분류 결과를 기초 로, MCA-M2를 구성하는 스팟들을 대상으로 산출한 엔트로피가 제 3 임계값 이하이면, MCA-M2의 협착으로 판단할 수 있다. 참고로, 제 1 내지 제 3 임계값은 각각 내경동맥 협착, MCA-M1 협착 또는 MCA-M1 협착을 탐지하는 임 계값이 각각 독립적으로 설정될 수 있음을 의미하며, 각 임계값의 크기 역시 개별적으로 설정될 수 있다. 혈관의 복잡성이 높을수록 불확실성이 높기 때문에 엔트로피가 높게 산출되고, 혈관이 협착 또는 협착되어 복잡 성이 낮으면 불확실성이 낮기 때문에 엔트로피가 낮게 산출된다. 이때, 엔트로피는 H(X) = E[-log(p(X))]를 이 용하여 산출될 수 있으며, X는 뇌혈관 영상의 청크 또는 분지 등의 뇌혈관 분포로 이루어진 이산 랜덤 변수를 나타낸다. 앞서 설명한 바와 같이, 뇌혈관 영상은 복셀화되고, 이를 이용하여 각 스팟의 좌표를 이용하여 벡터를 결정할 수 있으며, 이러한 벡터 정보를 이용하여, 뇌혈관에 대한 청크 및 분지를 분류할 수 있었다. 각 스팟의 벡터는 아래 수학식의 형태로 결정될 수 있다."}
{"patent_id": "10-2023-0016151", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "그리고, 각 스팟의 벡터의 크기는 아래와 같이 산출될 수 있다."}
{"patent_id": "10-2023-0016151", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "그리고, 각 스팟의 벡터의 합은 아래와 같이 산출될 수 있다."}
{"patent_id": "10-2023-0016151", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "그리고, 협착 탐지 모델은 협착의 발생 위치를 기초로 협착 위험 점수를 산출할 수 있다. 예를 들어, 내 경동맥(ICA)의 협착이나 제 1 중뇌동맥(MCA-M1)의 페색에 대해서는 제 1 페널티 점수를 부여하고, 제 2 중뇌동 맥(MCA-M2)의 협착에 대해서는 제 2 점의 페널티 점수를 부여한다. 이때, 제 2 페널티 점수는 제 1 페널티 점 수보다 작게 설정된다. 예를 들면, 제 1 페널티 점수로는 -2점을 부여하고, , 제 2 페널티 점수로는 -1점을 부 여할 수 있다. 이와 같이, 협착이 발생한 위치에 따라 각 페널티 점수를 합산하여 협착 위험 점수를 산출할 수 있다. 특히, 급성 허혈성 뇌졸중에 좀더 치명적인 것으로 알려져 있는 내경동맥의 협착이나 제 1 중뇌동맥의 협착에 대해 페널티 점수의 비중을 더 크게 하여, 신속하고 정확한 판단을 가능하게 한다. 도 7내지 도 10은 본 발명의 일 실시예에 따른 협착 탐지 과정을 설명하기 위한 도면이다. 도 7의 (a)에 도시된 바와 같이, 청크 분류 결과에 따라, 각 청크에 해당하는 스팟의 개수가 적으므로, 엔트로 피가 작아져 혈관 협착이 발생한 것으로 판단될 가능성이 높아진다. 이와 달리, (b)에 도시된 바와 같이, 각 청크에 해당하는 스팟의 개수가 많으면, 엔트로피가 작아져 혈관 협착이 발생한 것으로 판단될 가능성이 낮아진 다. 도 8은 LVO 협착이 없는 LVO 음성인 경우의 벡터 크기, 분지의 엔트로피, 벡터 크기의 엔트로피, 벡터 방향 X, 벡터 방향 Y, 벡터 방향 Z의 분포와, LVO 협착이 있는 LVO 양성인 경우의 벡터 크기, 분지의 엔트로피, 벡터 크 기의 엔트로피, 벡터 방향 X, 벡터 방향 Y, 벡터 방향 Z의 분포를 각각 도시한 것이다. 도시된 바와 같이, 협착 이 있는 경우의 엔트로피가 대체로 더 작게 산출되는 것을 확인할 수 있다. 도 9는 ICA, MCA-M1, MCA-M2에서 협착이 발생한 경우를 각각 도식화한 것이다. 본 발명의 일 실시예에 따른 방법은 컴퓨터에 의해 실행되는 프로그램 모듈과 같은 컴퓨터에 의해 실행가능한 명령어를 포함하는 기록 매체의 형태로도 구현될 수 있다. 컴퓨터 판독 가능 매체는 컴퓨터에 의해 액세스될 수 있는 임의의 가용 매체일 수 있고, 휘발성 및 비휘발성 매체, 분리형 및 비분리형 매체를 모두 포함한다. 또한, 컴퓨터 판독가능 매체는 컴퓨터 저장 매체를 포함할 수 있다. 컴퓨터 저장 매체는 컴퓨터 판독가능 명령어, 데 이터 구조, 프로그램 모듈 또는 기타 데이터와 같은 정보의 저장을 위한 임의의 방법 또는 기술로 구현된 휘발 성 및 비휘발성, 분리형 및 비분리형 매체를 모두 포함한다. 본 발명의 방법 및 시스템은 특정 실시예와 관련하여 설명되었지만, 그것들의 구성 요소 또는 동작의 일부 또는 전부는 범용 하드웨어 아키텍쳐를 갖는 컴퓨터 시스템을 사용하여 구현될 수 있다."}
{"patent_id": "10-2023-0016151", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "전술한 본원의 설명은 예시를 위한 것이며, 본원이 속하는 기술분야의 통상의 지식을 가진 자는 본원의 기술적 사상이나 필수적인 특징을 변경하지 않고서 다른 구체적인 형태로 쉽게 변형이 가능하다는 것을 이해할 수 있을 것이다. 그러므로 이상에서 기술한 실시예들은 모든 면에서 예시적인 것이며 한정적이 아닌 것으로 이해해야만 한다. 예를 들어, 단일형으로 설명되어 있는 각 구성 요소는 분산되어 실시될 수도 있으며, 마찬가지로 분산된 것으로 설명되어 있는 구성 요소들도 결합된 형태로 실시될 수 있다. 본원의 범위는 상기 상세한 설명보다는 후술하는 특허청구범위에 의하여 나타내어지며, 특허청구범위의 의미 및 범위 그리고 그 균등 개념으로부터 도출되는 모든 변경 또는 변형된 형태가 본원의 범위에 포함되는 것으로 해 석되어야 한다."}
{"patent_id": "10-2023-0016151", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 대혈관 협착 탐지 장치의 구성을 도시한 블록도이다. 도 2는 본 발명의 일 실시예에 따른 대혈관 협착 탐지 방법을 도시한 순서도이다. 도 3은 본 발명의 일 실시예에 따른 대혈관 협착 탐지 장치가 영상으로부터 혈관 구조 정보를 추출하는 과정을 설명하기 위한 도면이다. 도 4는 본 발명의 일 실시예에 따른 대혈관 협착 탐지 장치가 산출하는 혈관의 청크 코드의 일부를 도시한 것이다. 도 5은 본 발명의 일 실시예에 따른 대혈관 협착 탐지 장치가 산출하는 혈관의 분지 코드의 일부를 도시한 것이다. 도 6은 본 발명의 일 실시예에 따른 협착 탐지 모델의 동작을 도시한 도면이다. 도 7 내지 도 9는 본 발명의 일 실시예에 따른 협착 탐지 과정을 설명하기 위한 도면이다."}
