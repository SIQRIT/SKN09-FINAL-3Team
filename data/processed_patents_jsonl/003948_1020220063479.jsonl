{"patent_id": "10-2022-0063479", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0163763", "출원번호": "10-2022-0063479", "발명의 명칭": "데이터 처리 시스템 및 그 동작 방법과, 이를 이용한 컴퓨팅 시스템", "출원인": "에스케이하이닉스 주식회사", "발명자": "이석민"}}
{"patent_id": "10-2022-0063479", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "복수의 로우라인 및 복수의 컬럼라인 간에 접속된 복수의 메모리 셀을 포함하는 복수의 서브 어레이를 구비하는연산 메모리; 및상기 연산 메모리를 제어하며, 외부로부터 수신된 디지털 레벨의 제 1 피연산자로부터 유효 성분을 검출하여 상기 디지털 레벨의 유효 성분에 대응하는 전압을 적어도 하나의 서브 어레이의 로우라인에 인가하고, 상기 외부로부터 수신된 제 2 피연산자를 적어도 하나의 서브 어레이에 저장하는 컨트롤러;를 포함하도록 구성되는 데이터 처리 시스템."}
{"patent_id": "10-2022-0063479", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서,상기 연산 메모리는, 상기 제 1 피연산자와 상기 제 2 피연산자의 원소별 합산 연산을 수행하도록 구성되는 데이터 처리 시스템."}
{"patent_id": "10-2022-0063479", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1 항에 있어서,상기 복수의 서브 어레이 각각에 접속되는 아날로그-디지털 변환기; 및상기 아날로그-디지털 변환기의 출력 신호를 합산하는 누적부;를 더 포함하도록 구성되는 데이터 처리 시스템."}
{"patent_id": "10-2022-0063479", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 1 항에 있어서,상기 제 1 피연산자 및 상기 제 2 피연산자는 행렬로 구성되고, 상기 컨트롤러는, 상기 제 1 피연산자 및 상기제 2 피연산자를 제 1 개수의 행 단위로 그룹핑하여 상기 제 1 개수의 서브 어레이에 각각 제공하도록 구성되는데이터 처리 시스템."}
{"patent_id": "10-2022-0063479", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 4 항에 있어서,상기 복수의 서브 어레이 각각의 상기 컬럼라인에 공통 접속되는 공유 아날로그-디지털 변환기; 및상기 공유 아날로그-디지털 변환기의 출력 신호를 합산하는 누적부;를 더 포함하도록 구성되는 데이터 처리 시스템."}
{"patent_id": "10-2022-0063479", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 1 항에 있어서,상기 복수의 메모리 셀 각각은 멤리스터 소자를 포함하는 데이터 처리 시스템."}
{"patent_id": "10-2022-0063479", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제 1 항에 있어서,상기 제 1 피연산자는 임베딩 행렬을 포함하고, 상기 제 2 피연산자는 가중치 행렬을 포함하도록 구성되는 데이터 처리 시스템.공개특허 10-2023-0163763-3-청구항 8 복수의 로우라인 및 복수의 컬럼라인 간에 접속된 복수의 메모리 셀을 포함하는 서브 어레이를 적어도 하나 구비하는 연산 메모리가 제공되는 단계;상기 연산 메모리를 제어하는 컨트롤러가, 외부로부터 디지털 레벨의 제 1 피연산자 및 제 2 피연산자를 수신하는 단계;상기 컨트롤러가, 상기 제 1 피연산자로부터 유효 성분을 검출하는 단계; 및상기 컨트롤러가, 상기 유효 성분에 대응하는 전압을 적어도 하나의 서브 어레이의 로우라인에 인가하고, 상기제 2 피연산자를 상기 적어도 하나의 서브 어레이에 저장하는 단계;를 포함하는 데이터 처리 시스템의 동작 방법."}
{"patent_id": "10-2022-0063479", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 8 항에 있어서,상기 연산 메모리가, 상기 제 1 피연산자와 상기 제 2 피연산자의 원소별 합산 연산을 수행하는 단계를 더 포함하도록 구성되는 데이터 처리 시스템의 동작 방법."}
{"patent_id": "10-2022-0063479", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제 9 항에 있어서,상기 서브 어레이 각각의 합산 연산 결과를 디지털 값으로 변환하는 단계를 더 포함하도록 구성되는 데이터 처리 시스템의 동작 방법."}
{"patent_id": "10-2022-0063479", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제 10 항에 있어서,상기 디지털 값을 합산하는 단계를 더 포함하도록 구성되는 데이터 처리 시스템의 동작 방법."}
{"patent_id": "10-2022-0063479", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제 8 항에 있어서,상기 제 1 피연산자 및 상기 제 2 피연산자는 행렬로 구성되고,상기 컨트롤러가, 상기 외부로부터 제공된 상기 제 1 피연산자 및 상기 제 2 피연산자를 제 1 개수의 행 단위로그룹핑하여 상기 제 1 개수의 서브 어레이에 각각 제공하는 단계를 더 포함하도록 구성되는 데이터 처리 시스템의 동작 방법."}
{"patent_id": "10-2022-0063479", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제 8 항에 있어서,상기 제 1 피연산자는 임베딩 행렬을 포함하고, 상기 제 2 피연산자는 가중치 행렬을 포함하도록 구성되는 데이터 처리 시스템의 동작 방법."}
{"patent_id": "10-2022-0063479", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "외부 장치;상기 외부 장치의 요청에 따라 어플리케이션의 연산을 처리하는 데이터 처리 시스템에 구비되고, 복수의 로우라인 및 복수의 컬럼라인 간에 접속된 복수의 메모리 셀을 포함하는 복수의 서브 어레이를 구비하는 연산 메모리;및상기 연산 메모리를 제어하며, 외부로부터 수신된 디지털 레벨의 제 1 피연산자로부터 유효 성분을 검출하여 상기 디지털 레벨의 유효 성분에 대응하는 전압을 적어도 하나의 서브 어레이의 로우라인에 인가하고, 상기 외부로부터 수신된 제 2 피연산자를 적어도 하나의 서브 어레이에 저장하는 컨트롤러;공개특허 10-2023-0163763-4-를 포함하도록 구성되는 컴퓨팅 시스템."}
{"patent_id": "10-2022-0063479", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제 14 항에 있어서,상기 연산 메모리는, 상기 제 1 피연산자와 상기 제 2 피연산자의 원소별 합산 연산을 수행하도록 구성되는 컴퓨팅 시스템."}
{"patent_id": "10-2022-0063479", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제 14 항에 있어서,상기 복수의 서브 어레이 각각에 접속되는 아날로그-디지털 변환기; 및상기 아날로그-디지털 변환기의 출력 신호를 합산하는 누적부;를 더 포함하도록 구성되는 컴퓨팅 시스템."}
{"patent_id": "10-2022-0063479", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제 14 항에 있어서,상기 제 1 피연산자 및 상기 제 2 피연산자는 행렬로 구성되고, 상기 컨트롤러는, 상기 제 1 피연산자 및 상기제 2 피연산자를 제 1 개수의 행 단위로 그룹핑하여 상기 제 1 개수의 서브 어레이에 각각 제공하도록 구성되는컴퓨팅 시스템."}
{"patent_id": "10-2022-0063479", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "제 17 항에 있어서,상기 복수의 서브 어레이 각각의 상기 컬럼라인에 공통 접속되는 공유 아날로그-디지털 변환기; 및상기 공유 아날로그-디지털 변환기의 출력 신호를 합산하는 누적부;를 더 포함하도록 구성되는 컴퓨팅 시스템."}
{"patent_id": "10-2022-0063479", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_19", "content": "제 14 항에 있어서,상기 복수의 메모리 셀 각각은 멤리스터 소자를 포함하는 컴퓨팅 시스템."}
{"patent_id": "10-2022-0063479", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_20", "content": "제 14 항에 있어서,상기 제 1 피연산자는 임베딩 행렬을 포함하고, 상기 제 2 피연산자는 가중치 행렬을 포함하도록 구성되는 컴퓨팅 시스템."}
{"patent_id": "10-2022-0063479", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "일 실시예에 의한 데이터 처리 시스템은 복수의 서브 어레이를 구비하는 연산 메모리 및, 연산 메모리를 제어하 며, 외부로부터 수신된 디지털 레벨의 제 1 피연산자로부터 유효 성분을 검출하여 디지털 레벨의 유효 성분에 대 응하는 전압을 적어도 하나의 서브 어레이의 로우라인에 인가하고, 외부로부터 수신된 제 2 피연산자를 적어도 하나의 서브 어레이에 저장하는 컨트롤러를 포함하도록 구성될 수 있다."}
{"patent_id": "10-2022-0063479", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 기술은 데이터 처리 기술에 관한 것으로, 보다 구체적으로는 데이터 처리 시스템 및 그 동작 방법과, 이를 이용한 컴퓨팅 시스템 에 관한 것이다."}
{"patent_id": "10-2022-0063479", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "인공지능 어플리케이션 및 빅데이터 분석에 대한 관심과 중요성이 높아지면서, 대용량의 데이터를 효율적으로 처리할 수 있는 컴퓨팅 시스템에 대한 요구가 증가하고 있다. 메모리 장치의 대용량화 및 컴퓨팅 속도의 향상에 따라, 메모리 내에서 데이터의 저장뿐 아니라 데이터의 연산 까지 수행하는 메모리 내 컴퓨팅 기술이 대두되었다.메모리 내 컴퓨팅 기술은 인공지능 어플리케이션을 처리하기 위한 기술로 주목받고 있으며, 데이터를 보다 정확 하고 고속으로 처리하기 위한 다양한 방법이 연구되고 있다."}
{"patent_id": "10-2022-0063479", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 기술의 실시예는 메모리 내 연산 장치에서 임베딩 연산을 처리할 수 있는 데이터 처리 시스템 및 그 동작 방 법과, 이를 이용한 컴퓨팅 시스템을 제공할 수 있다."}
{"patent_id": "10-2022-0063479", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 기술의 일 실시예에 의한 데이터 처리 시스템은 복수의 로우라인 및 복수의 컬럼라인 간에 접속된 복수의 메 모리 셀을 포함하는 복수의 서브 어레이를 구비하는 연산 메모리; 및 상기 연산 메모리를 제어하며, 외부로부터 수신된 디지털 레벨의 제 1 피연산자로부터 유효 성분을 검출하여 상기 디지털 레벨의 유효 성분에 대응하는 전 압을 적어도 하나의 서브 어레이의 로우라인에 인가하고, 상기 외부로부터 수신된 제 2 피연산자를 적어도 하나 의 서브 어레이에 저장하는 컨트롤러;를 포함하도록 구성될 수 있다. 본 기술의 일 실시예에 의한 데이터 처리 시스템의 동작 방법은 복수의 로우라인 및 복수의 컬럼라인 간에 접속 된 복수의 메모리 셀을 포함하는 서브 어레이를 적어도 하나 구비하는 연산 메모리가 제공되는 단계; 상기 연산 메모리를 제어하는 컨트롤러가, 외부로부터 디지털 레벨의 제 1 피연산자 및 제 2 피연산자를 수신하는 단계; 상기 컨트롤러가, 상기 제 1 피연산자로부터 유효 성분을 검출하는 단계; 및 상기 컨트롤러가, 상기 유효 성분 에 대응하는 전압을 적어도 하나의 서브 어레이의 로우라인에 인가하고, 상기 제 2 피연산자를 상기 적어도 하 나의 서브 어레이에 저장하는 단계;를 포함할 수 있다. 본 기술의 일 실시예에 의한 컴퓨팅 시스템은 외부 장치; 상기 외부 장치의 요청에 따라 어플리케이션의 연산을 처리하는 데이터 처리 시스템에 구비되고, 복수의 로우라인 및 복수의 컬럼라인 간에 접속된 복수의 메모리 셀 을 포함하는 복수의 서브 어레이를 구비하는 연산 메모리; 및 상기 연산 메모리를 제어하며, 외부로부터 수신된 디지털 레벨의 제 1 피연산자로부터 유효 성분을 검출하여 상기 디지털 레벨의 유효 성분에 대응하는 전압을 적 어도 하나의 서브 어레이의 로우라인에 인가하고, 상기 외부로부터 수신된 제 2 피연산자를 적어도 하나의 서브 어레이에 저장하는 컨트롤러;를 포함하도록 구성될 수 있다."}
{"patent_id": "10-2022-0063479", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 기술에 의하면 메모리 접근 횟수를 최소화할 수 있고, 데이터 처리 시스템 내의 회로 성분을 최소화하면서도 연산 속도를 향상시킬 수 있다."}
{"patent_id": "10-2022-0063479", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면을 참조하여 본 기술의 실시예를 보다 구체적으로 설명한다. 도 1은 일 실시예에 의한 컴퓨팅 시스템의 구성도이다. 도 1을 참조하면, 일 실시예에 의한 컴퓨팅 시스템은 호스트 장치 및 데이터 처리 시스템을 포함 할 수 있다. 데이터 처리 시스템은 호스트 장치의 요청에 따라 어플리케이션의 연산을 처리하는 신 경망 프로세서를 포함할 수 있다. 호스트 장치는 적어도 메인 프로세서, RAM, 메모리, 입출력(IO) 장치 및, 도시하지 않은 다른 범용적인 구성요소들을 더 포함할 수 있다. 실시예에 있어서, 호스트 장치의 구성요소들은 하나의 반도체 칩으로 집적되어 시스템 온 칩(SoC)으로 구 현될 수 있으나 이에 한정되지 않으며, 복수의 반도체 칩으로 구현될 수도 있다. 메인 프로세서는 컴퓨팅 시스템의 전반적인 동작을 제어할 수 있으며, 예를 들어 중앙처리장치 (Central Processing Unit; CPU)일 수 있다. 메인 프로세서는 하나 또는 복수의 코어를 포함할 수 있다. 메인 프로세서는 RAM 및 메모리에 저장된 프로그램들, 데이터, 및/또는 명령어(instructions)를 처리 또는 실행할 수 있다. 예를 들어, 메인 프로세서는 메모리에 저장된 프로그램들을 실행함으로 써 컴퓨팅 시스템의 기능들을 제어할 수 있다. RAM은 프로그램들, 데이터, 또는 명령들을 일시적으로 저장할 수 있다. 메모리에 저장된 프로그램들 및/또는 데이터는 메인 프로세서의 제어 또는 부팅 코드에 따라 RAM에 일시적으로 로딩될 수 있다. RAM은 DRAM(Dynamic RAM) 또는 SRAM(Static RAM) 등의 메모리를 이용하여 구현될 수 있다. 메모리는 데이터를 저장하기 위한 저장 장소로서, 예를 들어, OS(Operating System), 각종 프로그램들 및 각종 데이터를 저장할 수 있다. 메모리는 휘발성 메모리(volatile memory) 또는 비휘발성 메모리(non- volatile memory) 중 적어도 하나를 포함할 수 있다. 비휘발성 메모리는 ROM(Read Only Memory), PROM(Programmable ROM), EPROM(Electrically Programmable ROM), EEPROM(Electrically Erasable and Programmable ROM), 플래시 메모리, PRAM(Phase-change RAM), MRAM(Magnetic RAM), RRAM(Resistive RAM), FRAM(Ferroelectric RAM) 등에서 선택될 수 있다. 휘발성 메모리는 DRAM(Dynamic RAM), SRAM(Static RAM), SDRAM(Synchronous DRAM) 등에서 선택될 수 있다. 또한 일 실시 예에 있어서, 메모리는 HDD(Hard Disk Drive), SSD(Solid-State Drive), CF(Compact Flash), SD(Secure Digital), Micro-SD(Micro Secure Digital), Mini-SD(Mini Secure Digital), xD(extreme digital) 또는 메모리 스틱(Memory Stick) 등과 같은 저장 장치로 구현될 수 있다. 입출력 장치는 사용자 입력 또는 외부로부터의 입력 데이터를 수신하고, 컴퓨팅 시스템의 처리 결과를 출력할 수 있다. 입출력 장치는 터치 스크린 패널, 키보드, 다양한 종류의 센서 등으로 구현될 수 있다. 실시예에 있어서, 입출력 장치는 컴퓨팅 시스템 주변의 정보를 수집할 수 있다. 예를 들어 입출력 장 치는 촬상 장치와 이미지 센서를 포함하여 데이터 처리 시스템 외부로부터 이미지 신호를 센싱 또는 수신할 수 있고, 센싱 또는 수신된 이미지 신호를 이미지 데이터로 변환하여 메모리에 저장하거나, 데이터 처리 시스템에 제공할 수 있다. 데이터 처리 시스템은 외부, 예를 들어 호스트 장치의 요청에 응답하여 어플리케이션의 연산을 처리 할 수 있다. 특히, 데이터 처리 시스템은 인공 신경망을 기초로 입력 데이터를 분석하여 유효한 정보를 추출하고, 추출된 정보를 기초로 상황을 판단하거나 데이터 처리 시스템이 탑재되는 전자 장치의 구성들을 제어할 수 있다. 예를 들어, 데이터 처리 시스템은 드론(drone), 첨단 운전자 보조 시스템(Advanced Drivers Assistance System; ADAS), 스마트 TV, 스마트 폰, 의료 장치, 모바일 장치, 영상 표시 장치, 계측 장 치, IoT(Internet of Things) 장치 등에 적용될 수 있으며, 이외에도 다양한 종류의 컴퓨팅 시스템 중 하나 에 탑재될 수 있다. 일 실시예에서, 호스트 장치는 신경망 연산을 데이터 처리 시스템에 오프로드할 수 있고, 이를 위한 초기 파라미터, 예를 들어 입력 행렬 또는 입력 벡터와 가중치 행렬을 데이터 처리 시스템으로 제공할 수 있다. 입력 행렬은 입력 특징 맵(Input feature map)이라 지칭할 수 있다. 일 실시예에서, 데이터 처리 시스템은 모바일 장치에 탑재되는 어플리케이션 프로세서일 수 있다. 데이터 처리 시스템은 적어도 신경망 프로세서를 포함할 수 있다. 신경망 프로세서는 입력 데이터를 훈련 또는 학습하여 신경망 모델을 생성할 수 있다. 신경망 프로세서 는 신경망 모델에 따라 입력 데이터를 추론하여 정보 신호(information signal)를 생성하고, 신경망 모델 을 재훈련(retrain)할 수 있다. 신경망은 CNN(Convolution Neural Network), R-CNN(Region with ConvolutionNeural Network), RPN(Region Proposal Network), RNN(Recurrent Neural Network), S-DNN(Stacking-based deep Neural Network), S-SDNN(State-Space Dynamic Neural Network), Deconvolution Network, DBN(Deep Belief Network), RBM(Restricted Boltzmann Machine), Fully Convolutional Network, LSTM(Long Short-Term Memory) Network, Classification Network 등 다양한 종류의 신경망 모델들을 포함할 수 있으나 이에 한정되지 않는다. 도 2는 일 실시예에 의한 신경망 프로세서의 구성도이다. 신경망 프로세서는 신경망 연산에 특화된 프로세서 또는 가속기일 수 있다. 신경망 프로세서는 도 2 에 도시한 것과 같이 메모리 내 연산장치, 컨트롤러 및 RAM을 포함할 수 있다. 일 실시예에서 신경망 프로세서는 하나의 반도체 칩으로 집적된 시스템 온 칩(SoC)으로 구현될 수 있으나 이에 한정되지 않으며, 복수의 반도체 칩으로 구현될 수도 있다. 컨트롤러는 신경망 프로세서의 전반적인 동작을 제어할 수 있다. 컨트롤러는 메모리 내 연산장 치가 신경망 연산을 정상적으로 실행할 수 있도록 신경망 연산과 관련된 파라미터들을 설정하고 관리할 수 있다. 컨트롤러는 하드웨어, 소프트웨어(또는 펌웨어) 또는 하드웨어에서 실행되는 소프트웨어가 조합된 형태로 구현될 수 있다. 컨트롤러는 적어도 하나의 프로세서, 예컨대 CPU(central processing unit), 마이크로 프로세서 등으로 구 현될 수 있으며, RAM에 저장된 다양한 기능들을 구성하는 인스트럭션을 실행할 수 있다. 호스트 장치가 신경망 프로세서로 초기 파라미터인 제 1 피연산자와 제 2 피연산자를 전송하여 신경 망 연산을 오프로드함에 따라, 컨트롤러는 메모리 내 연산 장치로 피연산자 및 이를 제공받을 메모리 내 연산 장치의 어드레스를 전송할 수 있다. 일 실시예에서, 제 1 피연산자는 입력 행렬 또는 입력 벡터 일 수 있고, 제 2 피연산자는 가중치 행렬일 수 있으나, 이에 한정되지 않는다. RAM은 DRAM, SRAM 등으로 구현될 수 있으며, 컨트롤러의 동작을 위한 각종 프로그램들 및 데이터와, 컨트롤러에서 생성되는 데이터를 일시 저장할 수 있다. 메모리 내 연산장치는 컨트롤러의 제어에 따라 신경망 연산을 수행하도록 구성될 수 있다. 메모리 내 연산장치는 연산 메모리, 글로벌 버퍼, 누적부(ACCU, 315), 활성화부(ACTIV, 317) 및 풀링 부(POOL, 319) 를 포함할 수 있다. 연산 메모리는 복수의 연산 처리부(Processing Element; PE)를 포함할 수 있다. 각 연산 처리부(PE)는 글로벌 버퍼로부터 피연산자를 제공받아 연산할 수 있다. 일 실시예에서, 연산 처리부(PE)에서 수행하는 연산은 제 1 피연산자와 제 2 피연산자의 원소별 합산(Element-Wise summation) 연산을 포함할 수 있다. 이 외 에도, 연산 처리부(PE)는 벡터-행렬 곱셈(Vector-Matrix Multiplication; VMM) 연산을 수행할 수 있다. 일 실시예에서, 연산 처리부(PE)에서 수행하는 연산은 제 1 피연산자인 임베딩(Embedding) 행렬과 제 2 피연산 자인 가중치 행렬 간의 원소별 합산 연산을 포함하는 임베딩 연산(Embedding operation)일 수 있다. 임베딩이란 자연어와 같은 비수치 데이터를 기계가 이해할 수 있는 수치형 벡터로 바꾼 결과 또는 그 과정을 의 미한다. 임베딩 연산은 고차원의 희소 행렬인 임베딩 행렬에 가중치 행렬을 적용하여 저차원의 임베딩 벡터를 생성하는 과정일 수 있다. 일 실시예에서, 임베딩 행렬은 학습 또는 추론하고자 하는 입력 데이터를 설정된 방 식으로 인코딩한 결과일 수 있다. 인코딩 방식의 일 예로, 원-핫 인코딩(One-Hot Encodeing)을 들 수 있으나 이에 한정되지 않는다. 연산 처리부(PE) 각각은 복수의 서브 어레이를 포함할 수 있다. 각 서브 어레이는 복수의 로우라인과 복수의 컬럼라인 간에 접속된 복수의 메모리 셀을 포함할 수 있다. 제 2 피연산자인 가중치 행렬이 서브 어레이의 메 모리 셀에 저장되고, 제 1 피연산자인 입력 행렬이 서브 어레이의 로우라인에 인가됨에 따라 메모리 내 연산, 예를 들어 임베딩 연산이 수행될 수 있다. 일 실시예에서, 서브 어레이는 멤리스터 소자를 포함하는 메모리 소자의 크로스바 어레이일 수 있다. 크로스바 어레이의 교차점에 배치된 멤리스터 메모리 셀이 가중치 행렬(제 2 피연산자)의 원소값에 대응하는 컨덕턴스를 갖도록 서브 어레이를 프로그래밍할 수 있고, 입력 벡터(제 1 피연산자)의 각 원소를 로우라인에 인가할 수 있 다. 크로스바 어레이의 각 로우라인에 인가된 입력 행렬의 각 원소에 대응하는 입력 전압은 멤리스터 메모리 셀의 컨덕턴스에 의해 가중되고 컬럼라인 별로 전류값이 누적되어 출력된다.글로벌 버퍼는 피연산자를 저장한 후 연산 메모리로 제공하거나, 연산 메모리로부터 연산 결과 를 제공받아 저장할 수 있다. 글로벌 버퍼는 DRAM, SRAM 등으로 구현될 수 있다. 누적부는 각 연산 처리부(PE)의 처리 결과를 누적하여 가중합을 도출하도록 구성될 수 있다. 활성화부는 누적부의 가중합 결과를 ReLU 등과 같은 활성화 함수에 적용하여 비선형성을 추가하도록 구성될 수 있다. 풀링부는 활성화부의 출력값을 샘플링하여 차원을 축소하고 최적화한다. 메모리 내 연산장치를 통한 데이터 처리 과정은 입력 데이터로부터 신경망 모델을 학습 또는 재학습하는 과정, 또는 입력 데이터를 추론하는 과정일 수 있다. 본 기술의 일 실시예에 의한 컨트롤러는 입력행렬 처리부를 포함할 수 있다. 입력행렬 처리부는 제 1 피연산자로부터 유효 성분을 검출하도록 구성될 수 있다. 일 실시예에서, 제 1 피연산자는 각 원소가 제 1 논리 레벨, 예를 들어 \"1\" 또는 제 2 논리 레벨, 예를 들어 \"0\"을 갖는 희소 행렬 또는 임베딩 행렬일 수 있다. 입력행렬 처리부는 제 1 피연산자로부터 제 1 논리 레벨의 원소가 포함된 행을 유효 성분으로서 검출하고, 메모리 내 연산 장치 내의 유효 성분을 제공할 어드레스, 예를 들어 서브 어레이의 로우라인 어드레스와 함께 메모리 내 연산장치로 제공할 수 있다. 입력행렬 처리부는 제 1 피연산자 및 제 2 피연산자가 제공될 메모리 내 연산 장치의 어드레스에 따 라 제 1 피연산자 및 제 2 피연산자를 복수개, 예를 들어 제 1 개수로 그룹핑할 수 있다. 제 1 개수는 신경망 프로세서 또는 이것이 탑재되는 데이터 처리 시스템의 제조시 설정될 수 있고, 사용자에 의해 변경 가능하게 구성될 수 있다. 그룹핑된 제 1 및 제 2 피연산자는 제 1 개수의 서브 어레이에 각각 제공될 수 있다. 일 실시예에서, 입력행렬 처리부는 서브 어레이의 로우라인 어드레스를 기준으로 제 1 및 제 2 피연산자를 그룹핑할 수 있다. 즉, 제 1 및 제2 피연산자는 복수의 행 단위로 그룹핑될 수 있다. 따라서, 복수의 서브 어레이에서 신경망 연산이 분산 및 병렬 처리될 수 있다. 서브 어레이 내의 로우라인 수가 증가할수록 서브 어레이의 로우라인에 인가되는 리드 전압이 강하하는 현상이 발생한다. 모든 입력 벡터를 단일 서브 어레이에 인가하여 신경망 연산을 수행하면 리드 전압 강하 현상이 가 중되나, 제 1 및 제 2 피연산자를 복수의 어스 어레이에서 분산 연산함으로써 서브 어레이별 전압 강하 현상을 최소화할 수 있다. 일 실시예에서, 글로벌 버퍼는 유효 성분 저장부 및 연산 결과 저장부를 포함할 수 있다. 유 효 성분 저장부는 입력행렬 처리부로부터 전송되는 제 1 피연산자의 유효 성분 및 제 2 피연산자를 저장할 수 있다. 연산 결과 저장부는 연산 메모리의 연산 결과를 제공받아 저장할 수 있다. 유효 성분 저장부에 저장된 제 2 피연산자를 구성하는 원소들은 컨트롤러로부터 제공된 어드레스에 대응하는 서브 어레이 내의 메모리 셀에 저장(프로그래밍)될 수 있다. 유효 성분 저장부에 저장된 제 1 피연산자의 유효 성분에 대응하는 기 설정된 레벨의 제 1 입력전압이 컨트롤러로부터 제공된 어드레스에 대응하는 서브 어레이 내의 로우라인에 인가될 수 있다. 제 1 피연산자의 유효 성분을 제외한 나머지 성분인 무효 성분에 대응하는 입력전압이 컨트롤러로부터 제공된 어드레스에 대응하는 서브 어레이 내의 로우라인 에 인가될 수 있다. 임베딩 행렬의 각 원소는 제 1 논리 레벨 또는 제 2 논리 레벨을 갖는 희소 행렬이다. 일 실시예에서, 글로벌 버퍼의 유효 성분 저장부에 버퍼링된 제 1 피연산자의 유효 성분은 임베딩 행렬 중 논리 하이 레벨 인 원소의 위치 정보(행 번호)일 수 있다. 임베딩 행렬 중 논리 로우 레벨인 원소인 무효 성분은 설정된 크기 를 갖는 임베딩 행렬 에서 유효 성분을 제외한 성분이므로, 글로벌 버퍼에 저장하지 않아도 무방하다. 컨 트롤러는 입력 행렬이 인가될 로우라인 어드레스와 그 중 유효 성분이 인가될 어드레스(행 번호)를 메모리 내 연산장치로 제공함에 의해 대응하는 서브 어레이의 로우라인에 입력 행렬의 각 원소에 대응하는 전압을 인가할 수 있다. 나아가, 입력 행렬인 제 1 피연산자가 디지털 레벨로 제공되므로, 서브 어레이에 인가하기 전 제 1 피연산자의 원소들을 디지털 신호로 변환되는 과정 없이 디지털 레벨의 원소에 대응하는 전압을 서브 어레이의 로우 라인에 인가될 수 있다.입력행렬 처리부가 제 1 및 제 2 피연산자를 복수개로 그룹핑하여 복수의 서브 어레이에서 분산 연산하도 록 제어하는 경우, 연산결과 저장부에는 복수의 서브 어레이 각각으로부터 출력된 부분 연산결과가 저장 될 수 있다. 연산결과 저장부에 저장된 부분 연산결과는 누적부에서 합산되어 최종 연산결과로 도 출된 후 연산 결과 저장부에 저장될 수 있다. 각 서브 어레이는 원소별 합산 결과를 아날로그 레벨로 출력하고, 이는 아날로그-디지털 변환기에서 디지털화되 어 연산 결과 저장부에 저장될 수 있다. 일 실시예에서, 아날로그-디지털 변환기는 각 서브 어레이마다 접속되거나, 복수의 서브 어레이에 공통 접속될 수 있다. 도 3은 일 실시예에 의한 연산 메모리의 구성도이다. 도 3을 참조하면, 일 실시예에 의한 연산 메모리는 복수의 타일(Tile)로 구분될 수 있다. 각각의 타일(Tile)은 타일 입력 버퍼(Tile Input Buffer, 410), 복수의 연산 처리부(PE) 및 누적 및 타일 출력 버퍼(Accumulation and Tile Output Buffer, 420)를 포함할 수 있다. 각각의 연산 처리부(PE)는 PE 입력 버퍼(PE Input Buffer, 430), 복수의 서브 어레이(SA) 및 누적/PE 출력 버 퍼(Accumulation and PE Output Buffer, 440)를 포함할 수 있다. 서브 어레이(SA)는 시냅스(Synapse) 어레이라 칭할 수 있으며, 복수의 워드 라인들(WL1, WL2, ..., WLN), 복수 의 비트 라인들(BL1, BL2, ..., BLM) 및 복수의 메모리 셀들(MC)을 포함한다. 워드라인(WL1, WL2, ..., WLN) 은 로우라인, 비트 라인들(BL1, BL2, ..., BLM)은 컬럼라인이라 칭할 수 있다. 일 실시예에서, 메모리 셀들 (MC)은 저항성 메모리 소자(RE), 바람직하게는 멤리스터(Memristor) 소자를 포함할 수 있으나 이에 한정되지 않 는다. 메모리 셀(MC)은 복수의 워드 라인들(WL1, WL2, ..., WLN) 또는 복수의 비트 라인들(BL1, BL2, ..., BLM)을 통해 인가되는 기입 전압에 의해 컨덕턴스 즉, 저장되는 데이터 값이 변화하며, 저항성 메모리 셀들은 이러한 저항 변화에 의해 데이터를 저장할 수 있다. 일 실시예에서, 각 저항성 메모리 셀은 PRAM(Phase change Random Access Memory) 셀, RRAM(Resistance Random Access Memory) 셀, MRAM(Magnetic Random Access Memory) 셀, FRAM(Ferroelectric Random Access Memory) 셀 등과 같은 저항성 메모리 셀을 포함하여 구현될 수 있다. 저항성 메모리 셀을 구성하는 저항성 소자는 전류량에 따라 결정 상태가 변화하는 상변화 물질(phase-change material), 페로브스카이트(perovskite) 화합물들, 전이 금속 산화물(transition metal oxide), 자성체 물질 (magnetic materials), 강자성(ferromagnetic) 물질들 또는 반강자성(antiferromagnetic) 물질들을 포함할 수 도 있으나 이에 한정되지 않는다. 서브 어레이(SA)의 단위 셀이 멤리스터 소자로 구성됨에 따라, 연산 처리부(PE)는 멤리스터 소자에 가중치 행렬 의 각 원소에 해당하는 데이터를 저장하고, 워드라인들(WL1, WL2, ..., WLN)에 입력 행렬의 각 원소에 대응하는 전압들을 인가하여 키르히호프의 법칙, 옴의 법칙을 활용하여 메모리 내 연산을 수행할 수 있다. 각 비트라인(BL1, BL2, ..., BLM)은 출력 채널로 지칭될 수 있다. 각각의 서브 어레이(SA)는 비트라인(BL1, BL2, ..., BLM)의 일 종단에 접속되는 아날로그-디지털 변환기를 구비 할 수 있고, 이에 대해서는 도 4를 참조하여 설명하기로 한다. 다른 실시예에서, 설정된 개수의 서브 어레이(SA)가 하나의 아날로그-디지털 변환기를 공유할 수 있고, 이에 대 해서는 도 6을 참조하여 설명하기로 한다. 도 4는 일 실시예에 의한 메모리 내 임베딩 연산 과정을 설명하기 위한 개념도이다. 데이터 처리 시스템내에 구비될 수 있는 신경망 프로세서의 RAM에 외부로부터 제공된 K-행의 입 력 행렬이 입력 행렬 테이블로 저장될 수 있다. 컨트롤러의 입력행렬 처리부는 입력 행렬 테이블을 참조하여 유효 성분(1행, 4행의 입력 행렬)을 검 출할 수 있다. 유효 성분은 메모리 내 연산장치의 유효성분 저장부에 유효 성분 테이블로 저장될 수 있다. 컨트롤러는 메모리 내 연산을 수행할 위치로 서브 어레이 A(SA_A)를 지정하고, 제 1 및 제 2 피연산자와 이를 인가할 로우라인 어드레스와 컬럼라인 어드레스를 메모리 내 연산장치로 전송할 수 있다.이에 따라, 서브 어레이 A(SA_A)의 멤리스터 메모리 셀이 제 2 피연산자의 원소값에 대응하는 컨덕턴스를 갖도 록 프로그래밍될 수 있고, 제 1 피연산자의 각 원소에 대응하는 입력전압이 로우라인에 인가할 수 있다. 특히, 본 기술에서는 유효 성분 저장부에 저장된 유효성분의 행 번호에 기초하여, 유효성분에 대응하는 로우라 인에는 기 설정된 레벨의 제 1 입력전압이, 그 외의 로우라인에는 기 설정된 레벨의 제 2 입력전압이 인가될 수 있다. 각 로우라인에 인가된 제 1 및 제 2 입력 전압은 멤리스터 메모리 셀의 컨덕턴스에 의해 가중되고 컬럼 라인 별로 전류값이 누적된다. 컬럼라인 일 종단에 접속된 아날로그-디지털 변환기(ADC)가 컬럼라인별 누적 전 류값을 디지털 값으로 변환함에 따라 서브 어레이 A(SA_A)로부터 최종 연산결과가 출력될 수 있다. 서브 어레이 A(SA_A)의 최종 연산결과는 연산결과 저장부에 저장될 수 있다. 연산결과 저장부의 최종 연산결과는 연산 메모리에 재입력되거나, 외부로 출력될 수 있다. 도 5는 일 실시예에 의한 메모리 내 임베딩 연산 과정을 설명하기 위한 개념도이다. 데이터 처리 시스템내에 구비될 수 있는 신경망 프로세서의 RAM에 외부로부터 제공된 K-행의 입 력 행렬이 입력 행렬 테이블로 저장될 수 있다. 컨트롤러의 입력행렬 처리부는 입력 행렬 테이블을 참조하여 유효 성분(1행, 4행의 입력 행렬)을 검 출할 수 있다. 유효 성분은 메모리 내 연산장치의 유효성분 저장부에 유효 성분 테이블로 저장될 수 있다. 컨트롤러의 입력행렬 처리부는 제 1 피연산자 및 제 2 피연산자가 제공될 서브 어레이의 로우라인 어드레스를 기준으로 즉, 복수의 행 단위로 제 1 및 제 2 피연산자를 그룹핑할 수 있다. 컨트롤러가 메모리 내 연산을 수행할 위치로 L개의 서브 어레이(SA_1~SA_L)를 지정한 경우, 제 1 및 제 2 피연산자 각각은 L개로 그룹핑될 수 있다. 이 때, 그룹핑된 제 1 및 제 2 피연산자 각각은 K/L개의 원소를 포 함할 수 있다. 컨트롤러는 그룹핑된 제 1 및 제 2 피연산자, 이를 인가할 복수의 서브 어레이(SA_1~SA_L) 각각의 로우라 인 어드레스 및 컬럼라인 어드레스를 메모리 내 연산장치로 전송할 수 있다. 이에 따라, 각 서브 어레이 A(SA_1~SA_L)의 멤리스터 메모리 셀이 대응하는 제 2 피연산자 그룹의 원소값에 대 응하는 컨덕턴스를 갖도록 프로그래밍될 수 있고, 제 1 피연산자 그룹의 각 원소에 대응하는 입력전압이 로우라 인에 인가할 수 있다. 특히, 본 기술에서는 유효 성분 저장부에 저장된 유효성분의 행 번호에 기초하여, 유효성분에 대응하는 로우라인에는 제 1 입력전압이, 그 외의 로우라인에는 제 2 입력전압이 인가될 수 있다. 각 로우라인에 인가된 제 1 및 제 2 입력 전압은 멤리스터 메모리 셀의 컨덕턴스에 의해 가중되고 컬럼라인 별 로 전류값이 누적된다. 각 서브 어레이(SA_1~SA_L)의 컬럼라인 일 종단에 접속된 아날로그-디지털 변환기(ADC 1~ADC L)이 컬럼라인별 누적 전류값을 디지털 값으로 변환함에 따라 각 서브 어레이(SA_1~SA_L)로부터 부분 연 산결과가 출력될 수 있다. 부분 연산결과는 연산결과 저장부에 저장된 후, 누적부에서 합산되어 최종 연산결과로 도출될 수 있 다. 최종 연산결과는 연산결과 저장부에 저장될 수 있다. 연산결과 저장부의 최종 연산결과는 연산 메 모리에 재입력되거나, 외부로 출력될 수 있다. 도 6은 일 실시예에 의한 메모리 내 임베딩 연산 과정을 설명하기 위한 개념도이다. 도 6에는 설정된 개수의 서브 어레이(SA_1~SA_L)가 하나의 아날로그-디지털 변환기(SADC)를 공유하는 예를 도시 한다. 도 5를 참조하여 설명한 것과 유사하게 그룹핑된 제 1 및 제 2 피연산자가 복수의 서브 어레이(SA_1~SA_L)에 제 공되어, 각 서브 어레이(SA_1~SA_L)마다 컬럼라인별로 전류값이 합산될 수 있다. 각 서브 어레이(SA_1~SA_L)의 컬럼라인은 설정된 순서로 공유 ADC(SADC)에 접속되고, 공유 ADC(SADC)는 서브 어 레이(SA_1~SA_L)별 부분 연산결과를 디지털 값으로 변환하여 연산결과 저장부에 저장할 수 있다. 연산결 과 저장부에 저장된 부분 연산결과는 누적부에서 합산되어 최종 연산결과로 도출될 수 있다. 도 7은 일 실시예에 의한 데이터 처리 시스템의 동작 방법을 설명하기 위한 흐름도이다. 데이터 처리 시스템내에 구비될 수 있는 신경망 프로세서의 RAM에 외부로부터 제공된 제 1 피연 산자 및 제 2 피연산자가 저장될 수 있다(S101). 제 1 피연산자는 입력 행렬일 수 있고, 제 2 피연산자는 가중 치 행렬일 수 있다. 컨트롤러는 RAM에 저장된 제 1 피연산자로부터 유효 성분을 검출할 수 있다(S103). 컨트롤러는 제 1 피연산자의 유효 성분과 제 2 피연산자를 메모리 내 연산장치내의 적어도 하나의 서 브 어레이에 제공할 수 있다(S105). 구체적으로, 컨트롤러가 지정한 서브 어레이의 멤리스터 메모리 셀이 제 2 피연산자의 원소값에 대응하는 컨덕턴스를 갖도록 프로그래밍될 수 있다. 또한, 제 1 피연산자의 원소 중 유효성분에 대응하는 로우라인에는 제 1 입력전압이, 그 외의 로우라인에는 제 2 입력전압이 인가될 수 있다. 각 로우라인에 인가된 제 1 및 제 2 입력 전압은 멤리스터 메모리 셀의 컨덕턴스에 의해 가중되고 컬럼라인 별 로 전류값이 누적되어 메모리 내 연산이 수행될 수 있다(S107). 컬럼라인별로 누적된 전류값은 컬럼라인 일 종단에 접속된 아날로그-디지털 변환기(ADC)에 의해 디지털 값으로 변환되어(S109) 최종 연산결과가 출력될 수 있다(S111). 서브 어레이의 최종 연산결과는 글로벌 버퍼에 저장된 후 메모리 내 연산에 대사용되거나 외부로 출력될 수 있다. 도 8은 일 실시예에 의한 데이터 처리 시스템의 동작 방법을 설명하기 위한 흐름도이다. 데이터 처리 시스템내에 구비될 수 있는 신경망 프로세서의 RAM에 외부로부터 제공된 제 1 피연 산자 및 제 2 피연산자가 저장될 수 있다(S201). 제 1 피연산자는 입력 행렬일 수 있고, 제 2 피연산자는 가중 치 행렬일 수 있다. 컨트롤러는 RAM에 저장된 제 1 피연산자로부터 유효 성분을 검출할 수 있다(S203). 컨트롤러는 제 1 피연산자 및 제 2 피연산자가 제공될 서브 어레이의 로우라인 어드레스를 기준으로 즉, 복수의 행 단위로 제 1 및 제 2 피연산자를 제 1 개수로 그룹핑할 수 있다(S205). 컨트롤러는 그룹핑된 제 1 피연산자의 유효 성분과 그룹핑된 제 2 피연산자를 메모리 내 연산장치 내 제 1 개수의 서브 어레이에 제공할 수 있다(S207). 구체적으로, 컨트롤러가 지정한 제 1 개수의 서브 어레이 각각의 멤리스터 메모리 셀이 대응하는 제 2 피 연산자 그룹의 원소값에 대응하는 컨덕턴스를 갖도록 프로그래밍될 수 있다. 또한, 제 1 피연산자 그룹의 원소 중 유효성분에 대응하는 로우라인에는 제 1 입력전압이, 그 외의 로우라인에는 제 2 입력전압이 인가될 수 있다. 각 로우라인에 인가된 제 1 및 제 2 입력 전압은 멤리스터 메모리 셀의 컨덕턴스에 의해 가중되고 컬럼라인 별 로 전류값이 누적되어 메모리 내 연산이 수행되어, 제 1 개수의 서브 어레이 별로 부분 연산결과가 도출될 수 있다(S209). 제 1 개수의 서브 어레이 각각의 컬럼라인별로 누적된 전류값인 부분 연산 결과는 아날로그-디지털 변환기(AD C)에 의해 디지털 값으로 변환된다(S211). 일 실시예에서, 복수의 서브 어레이 각각이 아날로그-디지털 변환기 (ADC)를 구비하여, 서브 어레이 별로 부분 연산결과가 디지털화될 수 있다. 일 실시예에서, 복수의 서브 어레 이가 단일의 아날로그-디지털 변환기(ADC)를 공유하여, 복수의 서브 어레이 각각의 부분 연산 결과가 공유 아날 로그-디지털 변환기(ADC)에서 차례로 디지털화될 수 있다. 디지털화된 부분 연산 결과는 누적부에서 합산되어 최종 연산결과로 출력될 수 있다(S213). 최종 연산결 과는 글로벌 버퍼에 저장된 후 메모리 내 연산에 대사용되거나 외부로 출력될 수 있다. 저항과 전압으로 아날로그 연산이 수행되는 크로스바 어레이에서, 본 기술에 의하면, 각 원소가 제 1 논리 또는 제 2 논리 레벨을 갖는 희소 행렬 형태로 제공되는 제 1 피연산자에 대하여, 유효 성분에 해당하는 원소를 아날 로그 형태로 변환하는 과정 없이 서브 어레이에 인가하여 연산을 수행할 수 있다. 따라서, 서브 어레이의 입력 단에 디지털-아날로그 변환기를 구현할 필요가 없어 회로 성분을 최소화할 수 있다. 또한, 피연산자를 복수의 서브 어레이에서 분산 연산함에 의해 서브 어레이 내에서 발생하는 잡음과 전력 소모"}
{"patent_id": "10-2022-0063479", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "를 최소화할 수 있어, 효율적인 신경망 연산이 가능하게 된다.이와 같이, 본 발명이 속하는 기술분야의 당업자는 본 발명이 그 기술적 사상이나 필수적 특징을 변경하지 않고 서 다른 구체적인 형태로 실시될 수 있다는 것을 이해할 수 있을 것이다. 그러므로 이상에서 기술한 실시예들 은 모든 면에서 예시적인 것이며 한정적인 것이 아닌 것으로서 이해해야만 한다. 본 발명의 범위는 상기 상세 한 설명보다는 후술하는 특허청구범위에 의하여 나타내어지며, 특허청구범위의 의미 및 범위 그리고 그 등가개 념으로부터 도출되는 모든 변경 또는 변형된 형태가 본 발명의 범위에 포함되는 것으로 해석되어야 한다."}
{"patent_id": "10-2022-0063479", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 일 실시예에 의한 컴퓨팅 시스템의 구성도이다. 도 2는 일 실시예에 의한 신경망 프로세서의 구성도이다. 도 3은 일 실시예에 의한 연산 메모리의 구성도이다. 도 4는 일 실시예에 의한 메모리 내 임베딩 연산 과정을 설명하기 위한 개념도이다. 도 5는 일 실시예에 의한 메모리 내 임베딩 연산 과정을 설명하기 위한 개념도이다. 도 6은 일 실시예에 의한 메모리 내 임베딩 연산 과정을 설명하기 위한 개념도이다. 도 7은 일 실시예에 의한 데이터 처리 시스템의 동작 방법을 설명하기 위한 흐름도이다. 도 8은 일 실시예에 의한 데이터 처리 시스템의 동작 방법을 설명하기 위한 흐름도이다."}
