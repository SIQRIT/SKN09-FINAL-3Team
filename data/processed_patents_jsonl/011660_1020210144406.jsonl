{"patent_id": "10-2021-0144406", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0060112", "출원번호": "10-2021-0144406", "발명의 명칭": "관성센서를 이용한 위치 추정 방법", "출원인": "에이엠텔레콤주식회사", "발명자": "여민기"}}
{"patent_id": "10-2021-0144406", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "GPS신호 미수신 지역에서의 차량 위치 추정 방법에 있어서,정지 여부를 판정하는 기준값(Ref1)을 정하는 정지 여부 판정용 기준값 결정 단계; 차량의 최대 진동값이 제1 기준값(Ref1) 미만이면 차량이 정지해 있는 것으로 판정하는 정지 여부 판정 단계;수신된 GPS값을 통해 차량의 평균 속도(Vave)를 계산하는 평균속도 계산 단계;GPS신호 미수신 직전의 차량의 평균 속도(Vave)가 제2 기준값(Ref2) 미만이면 타이머(7)에 제1 시간을설정하고, 제2 기준값(Ref2) 이상이면 타이머(7)에 상기 제1시간보다 긴 시간을 설정하는 타이머 설정 단계;GPS신호를 미수신하게 되면 그 직전의 GPS신호 수신을 통해 얻어진 차량의 최종 위치, 최종 평균속도 및 최종방향(heading)을 적용시켜서 위치 추정 작업을 시작하는 위치 추정 시작 단계;위치 추정 작업이 시작된 후에 상기 타이머(7)에 설정된 시간이 되지 않았더라도 차량 정지가 감지되면 상기의위치 추정 작업을 중단하고, 위치 추정 작업이 시작된 후에 차량 정지가 감지되지 않았더라도 상기 타이머(7)에설정된 시간이 되었을 때에 위치 추정 작업을 중단하여, 최종적인 추정 위치를 차량의 위치로 정하는 차량의 추정 위치 결정 단계를 포함하는 것을 특징으로 하는 GPS신호 미수신 지역에서의 차량 위치 추정 방법."}
{"patent_id": "10-2021-0144406", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서, 상기 기준값(Ref1)은, 차량을 고정된 자세로 정지시켜 놓고 시동을 걸어서 특정 주기마다 관성센서(1)에서 센싱 정보를 수신하여 차량의 진동값을 구하는 방법을 일정 기간 동안 적용하여 얻은 최대 진동값(OSCmax)에 추가적으로 마진을 부여하여 구해지는 것을 특징으로 하는 GPS신호 미수신 지역에서의 차량 위치 추정 방법."}
{"patent_id": "10-2021-0144406", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 센싱 정보는 X, Y, Z축의 가속도 값인 것을 특징으로 하는 GPS신호 미수신 지역에서의 차량 위치 추정 방법."}
{"patent_id": "10-2021-0144406", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제2항에 있어서,상기 마진은 50%인 것을 특징으로 하는 GPS신호 미수신 지역에서의 차량 위치 추정 방법."}
{"patent_id": "10-2021-0144406", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서,상기 최대 진동값은 특정기간 동안의 최대 진동값인 것을 특징으로 하는 GPS신호 미수신 지역에서의 차량 위치추정 방법."}
{"patent_id": "10-2021-0144406", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 관성 센서를 이용하여 GPS신호 미수신 지역에서 차량 위치를 추정하는 방법에 관한 것이다. 본 발명은, GPS신호 미수신 지역에서의 차량 위치 추정 방법에 있어서, 정지 여부를 판정하는 기준값(Ref1)을 정하는 정지 여부 판정용 기준값 결정 단계; (뒷면에 계속)"}
{"patent_id": "10-2021-0144406", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 관성 센서를 이용하여 GPS신호 미수신 지역에서 차량 위치를 추정하는 방법에 관한 것이다."}
{"patent_id": "10-2021-0144406", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "차량에 탑재된 최근의 차량 단말기는, 원격 서버에서 제어 데이터를 수신하여 차량을 목적지까지 자율 주행하게 하는 자율 주행 기능을 수행하게 하거나, 원격 서버에서 안내 데이터를 수신하여 운전자가 안내 데이터에 따른 영상 및 음성 안내에 따라 운전하게 하는 네비게이션 기능을 수행하게 하거나, 차량 추돌 또는 전복 등의 차량 사고시에 이를 감지하여 원격 서버에 구조 요청을 하는 구조 요청 기능 등의 다양한 기능들을 수행하게 되는데, 이러한 다양한 기능을 차량 단말기가 수행하기 위해서는 차량의 현재 위치를 정확히 파악하여 원격 서버에 이동 통신을 이용하여 전송하게 된다. 그런데, GPS신호 수신이 가능한 건물 외부나 터널 외부에 차량이 존재하는 경우에는 차량 단말기가 GPS신호를 수신하여 차량의 정확한 위치 파악이 가능하지만, 건물 내부(특히 지하 주차장)이나 터널 내부에서는 GPS신호 수신이 불가능하여 정확한 차량 위치를 파악하는 것이 불가능하다. 그래서, GPS신호 수신이 불가능한 건물 내부나 터널 내부에서의 차량의 위치를 어느 정도 파악하기 위하여 종래 기술에서는 예를 들면, 차량에 관성 센서를 고정 부착하여 관성 센서에서 출력되는 가속도값을 적분하여 차량 속도를 도출하여 차량의 위치를 추정하는 방법을 사용하지만 적분에 의해 시간이 경과함에 따라 속도 오차가 기 하급수적으로 증가하는 문제점이 발생한다. 그래서 이러한 관성 센서를 이용한 차량 위치 추정 방법의 단점을 감안하여, 다른 종래기술에서는 차량 내부의 오도메터(odometer) 정보에서 출력되는 타이어(회정축) 1회전시 마다의 펄스 정보와 핸들의 조향각도 정보를 이 용하여, GPS신호 미수신 지역에서의 차량의 속도를 지속적으로 보정하여 차량의 위치를 추정하는 Automotive DR(Dead Reckoning) 방법을 사용한다. 그런데, 이 Automotive DR 방법은 오도메터 정보를 얻기 위해서는 차량에 내재된 OBD 포트에 차량 단말기를 직 접 연결하는 것이 편리한데 오래된 차량에는 OBD 포트가 제공되지 않아 연결이 불가능하며, 설령 OBD포트나 다 른 수단에 의해 연결 가능하다고 해도 OBD포트를 통해 출력되는 오도메터 정보는 차량의 바퀴가 1회전시마다 나 오는 펄스 정보이기 때문에 차량 바퀴 사이즈를 변경 장착하거나 타이어의 공기압의 차이로 인하여 동일한 펄스 시간 간격이라고 해도 차량 속도가 상이하게 되는 오차가 발생하여 이러한 오차가 누적되어 위치 추정 시간이 상당히 경과하면 상당한 위치 추정 오차가 발생한다. 이러한 Automotive DR 방법의 오차 누적 문제를 감안하여 오도메터 정보 및 인공지능 방식을 적용하여 운행중 에 실시간으로 계속 학습을 하여 보정을 하여 오차 누적을 방지하는 AI-IMU DR 방식도 있지만, 이 방식은 운행 중에 계속 인공지능 학습을 하게 되므로 매우 큰 부하를 초래하고 정확한 속도 계산을 위해 설치 자세에 제약이 비교적 많다. 선행기술문헌 특허문헌 (특허문헌 0001) 대한민국 특허공개번호 10-2018-24684호(2018.3.8일 공개)"}
{"patent_id": "10-2021-0144406", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "이상과 같은 종래기술의 문제점을 감안하여, 본 발명은 관성 센서를 이용하는 경우에 간단한 방법을 적용하여 GPS신호 미수신 지역에서의 위치 추정 오차를 최소화하는 위치 추정 방법을 제공한다."}
{"patent_id": "10-2021-0144406", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상술한 과제를 해결하기 위한 본 발명은, GPS신호 미수신 지역에서의 차량 위치 추정 방법에 있어서, 정지 여부를 판정하는 기준값(Ref1)을 정하는 정지 여부 판정용 기준값 결정 단계; 차량의 진동값이 제1 기준값(Ref1) 미만이면 차량이 정지해 있는 것으로 판정하는 정지 여부 판정 단계; 수신된 GPS값을 통해 차량의 평균 속도(Vave)를 계산하는 평균속도 계산 단계; GPS신호 미수신 직전의 차량의 평균 속도(Vave)가 제2 기준값(Ref2) 미만이면 타이머에 제1 시간을 설정하고, 제2 기준값(Ref2) 이상이면 타이머에 상기 제1시간보다 긴 시간을 설정하는 타이머 설정 단계; GPS신호를 미수신하게 되면 그 직전의 GPS신호 수신을 통해 얻어진 차량의 최종 위치, 최종 평균속도 및 최종 방향(heading)을 적용시켜서 위치 추정 작업을 시작하는 위치 추정 시작 단계; 위치 추정 작업이 시작된 후에 상기 타이머에 설정된 시간이 되지 않았더라도 차량 정지가 감지되면 상기의 위치 추정 작업을 중단하고, 위치 추정 작업이 시작된 후에 차량 정지가 감지되지 않았더라도 상기 타이머에 설정된 시간이 되었을 때에 위치 추정 작업을 중단하여 최종적인 추정 위치를 차량의 위치로 정하는 차량의 추 정 위치 결정 단계를 포함하는 것을 특징으로 한다."}
{"patent_id": "10-2021-0144406", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "이상과 같은 본 발명을 이용하면, 본 발명은 관성 센서를 이용하는 경우에 간단한 방법을 적용하여 GPS신호 미 수신 지역에서의 위치 추정 오차를 최소화하는 위치 추정 시스템을 제공한다."}
{"patent_id": "10-2021-0144406", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "먼저, 본 발명에서 건물 내부에서의 주행시와 터널 내부에서의 주행시의 속도 차이에 따라 상이한 위치 추정 기 간을 부여하는 것에 대해 설명한다. 차량이 주차를 위해 주차 건물 내부로 진입하는 경우에는 저속 주행(예:40km/h 미만)을 하게 되고, 건물 내부 주차 공간은 다른 차량들도 많이 주차되어 있어서 복잡하여 추정 위치 오차가 크면 구조 요청 차량의 발견이 어 려워지고 진입후 대략적으로 10-20초 정도이면 충분히 주차 가능 위치 근처에 도달하게 되므로 위치 추정 오차 의 누적으로 인하여 추정 위치 오차가 크게 되는 것을 방지하기 위해 GPS신호 미수신시에 차량 정지가 이루어지 지 않았더라도 단기간(예:10-20초 정도)에만 위치 추정 방법을 적용하는 것이 바람직하다. 반면에, 차량이 터널에 진입하는 경우에는 고속 주행(예:40km/h 이상)을 하게 되고, 터널의 길이가 긴 경우가 많으며(예: 수백 m 이상), 길이 방향만 존재하여 차량 탐색이 용이하여 누적 오차가 어느 정도 커지더라도 구조 시에 차량이 전체 터널 내부의 어느 정도 위치(예: 앞쪽, 중간, 뒤쪽)에 위치하는지 추정하는 것이 중요하므로 차량이 정지하지 않았다면 장기간(예: 60초 정도)에 걸쳐서 대략적인 위치 추정을 하는 것이 바람직하다. 따라서, 본 발명에서는 차량의 진입 속도를 감안하여 GPS신호 미수신시 차량 정지가 되지 않는 경우에 위치 추 정 기간을 조정하게 된다. 다음으로, 도1을 참고로 하여 본 발명의 전체적인 구성을 설명하기로 한다 먼저, 관성 센서에서 출력되는 X, Y, Z 방향의 가속도 Ax, Ay, Az값을 이용하여 관성 센서 연산부에서는 차량의 진동 세기 값(흔들림 폭)을 계산하게 되는데 진동세기는 X, Y, Z 방향으로 가속도 벡터 값Ax, Ay, Az을 가진 경우의 합성 벡터 크기값에 비례하게 된다. 이 합성 벡터 크기 값을 통해 차량의 진동 세기(진동값)를 구 하고 정지 판단부에서는 이 진동세기를 감안한 기준치(ref1) 미만이면 차량이 정지해 있는 것으로 판단하고 기준치(ref1) 이상이면 차량이 이동 중인 것으로 판단하여 정지 여부를 판정하게 된다. 또한, GPS 수신장치에서는 GPS신호를 수신하여 차량의 위치 정보(위도/경도)를 주기적으로 획득하여 GPS 센 서 연산부로 보내면 GPS 센서 연산부에서는 위치 정보의 주기적인 변화를 통해 이동 방향(heading) 및 이동 속도를 주기적으로 연산하여 더 이상 GPS 수신장치에서 GPS신호가 전송되지 않으면 직전의 최종적인 속 도를 건물이나 터널에 진입하는 최종 속도로 간주하여 이 최종 속도를 저/고속 판단부으로 보내면 저/고속판단부에서는 기준 속도(ref2)(예:50km/s) 미만이면 저속 주행으로 판단하고 이상이면 고속 주행으로 판단한 다. 이러한 속도 판단 결과에 따라 저/고속 판단부은 저속인 경우에는 타이머의 시간을 짧게(예:10-20초)설정 하고 고속인 경우에는 길게(예:60초) 설정한다. 또한, 관성 센서 연산부에서는 관성센서에서 입력되는 Z축의 값을 적분하는 방법으로 Yaw값을 도출하여 이를 추정 위치 연산부로 보내고, GPS센서 연산부에서 GPS신호 미수신되기 시작하는 순간의 최종적인 위/ 경도 정보, 이동 방향정보(Heading) 및 진입속도 정보와 상기의 Yaw값을 수신하여 타이머에 설정된 위치 추 정 기간 동안 차량의 추정 위치를 추정하여 최종적인 차량의 추정 위/경도 정보를 추출하게 되는데, 타이머 에 의해 설정된 위치 추정 기간이 되지 않더라도 차량 정지 판단부에서 차량이 정지한 것으로 판정되면 차량 이 주차공간에 주차가 완료되어 정지하였거나 차량이 터널 내부에서 사고로 정지한 것이므로 추정 위치 연산부 에서 위치 추정 연산을 중단하여 오차가 누적되는 것을 중단하게 된다. 다음으로, 도2를 참고로 하여 본 발명에 따라 정기 감지 판단부에서 정지 여부를 판정하는 방법에 대해 설명 한다. 먼저, 차량을 고정된 자세로 정지(P위치)시켜 놓고 시동을 걸어서 특정 주기(예:1초)마다 관성센서에서 센싱 정보를 수신하여 상기에서 설명한 방법에 따라 진동값을 구하여(S1), 이러한 방법을 일정 기간(예: 10초) 동안 적용하여 최대 진동값(OSCmax)을 도출한다(S2). 이러한 최대 진동값(OSCmax)은 차량 종류 및 차량 시동 후 경과 시간에 따라 상이하므로 다양한 차량 및 시동 후 경과 시간에 따라 측정하여 최대 진동값(OSCmax)을 정하게 된 다. 다음으로, 최대 진동값(OSCmax)에 추가적으로 마진(Margin)(예:50%)을 부여하여 정지 여부를 판정하는 기준값 (Ref1)을 최대 진동값(OSCmax) X 1.5 정도로 정한다(S3). 이제, 특정 기간(예:1초) 동안 차량의 최대 진동값이 기준값(Ref1) 미만이면 차량이 정지해 있는 것으로 판정하 고, 기준값(Ref1) 이상의 최대 진동값이면 차량이 이동 중인 것으로 판정된다(S4). 다음으로, 차량이 이동을 시작하는 경우에 건물이나 터널에 진입하여 GPS신호 미수신이 되는 경우에 추정 위치 연산부에서 차량의 위치를 추정하는 경우를 도3을 참고로 하여 설명하기로 한다. 물론, 차량이 이동을 시작하는 경우에 건물이나 터널 외부에 있어서 GPS신호 수신이 가능한 경우에는 당연히 GPS값이 정확한 차량의 위치이므로 이때에는 위치 추정 작업은 수행되지 않는다. GPS센서 연산부를 통해 수신한 각 주기별 차량속도를 일정 시간 동안(예:10초)의 평균값을 구하여 평균 속도 (Vave)를 계산한다(S10). 이제, 평균 속도(Vave)가 기준값(Ref2)(예:40km/h) 미만이면 저속으로 판정하여 타이머를 짧은 시간(예;10- 20초 정도)로 설정하여 추정 위치 오차 누적이 작게 하고, 고속이면 타이머를 긴 시간(예:60초)로 설정하여 터널을 충분히 주행할 정도의 기간 동안 위치 추정을 수행하고 설정된 시간(60초)을 경과하면 위치 추정을 중단 하여 더 이상 위치 추정 오차가 누적되는 것을 방지한다(S11). 또한, GPS 센서 연산부에서 수신한 위치/경도 정보, 방향정보 및 속도정보를 통해 차량의 최종 위치, 최종 방향 및 최종 속도를 갱신한다(S12). 그리고, 관성 센서 연산부에서 도출되는 Yaw값을 참조하여 GPS에서 제공한 최종 방향 정보(GPS 정보 중 방향 정보는 정북, 정동, 정남, 정서 방향을 각각 0도, 90도, 180도, 270도로 표현) 참조하여 최종 방향(heading) 정 보에 Yaw 값을 더하여 반영한다(S13).이제, 차량이 건물 내부로 진입하거나 터널 내부로 진입하여 GPS신호를 미수신하게 되면 그 직전의 차량의 최종 위치, 최종 평균속도 및 최종 방향(heading)을 적용시켜서 위치 추정 작업을 시작한다(S14). 다음으로, 위치 추정 작업이 시작된 후에는 차량의 최종적인 평균속도(진입속도)에 따라 타이머에 설정된 시 간이 되지 않았더라도 차량 정지가 감지되면 상기의 위치 추정 작업을 중단하여 위치 추정 오차의 누적을 최소 화하고, 위치 추정 작업이 시작된 후에 차량 정지가 감지되지 않았더라도 타이머에 설정된 시간이 되었을 때 에 위치 추정 작업을 중단하여 위치 추정 오차의 누적을 최소화하게 된다(S15). 이때 중단 직전의 최종 추정 위 치가 차량의 추정 위치가 된다. 결국, GPS신호 미수신시부터 위치 추정 연산을 시작하여 차량이 정지되거나 차량이 정지하지 않더라도 타이머 에 설정된 시간이 되면, 위치 추정을 정지하여 위치 추정 시간을 최소화하여 위치 추정 오차의 누적을 최소 화할 수 있게 된다. 또한, 본 발명은 오도메터 정보를 얻기 위해 OBD 포트에 연결할 필요가 없으며 Automotive DR 방식이나 AI-IMU DR에 비해 설치가 자유롭다. 그리고 AI-IMU DR방식에서는 GPS미수신 지역에서 정확한 속도를 계산하기 위해 자세에 상당한 제약이 있지만, 본 발명에서는 GPS미수신 지역에서 속도를 계산하지 않기 때문에 설치 자세에 있어서 제약이 없다. 또한, 본 발명은 GPS미수신 구간에 진입하면 상기와 같은 간단한 방법으로 차량 위치를 추정하므로, 위치 추정 이 간단하여 차량 단말기에 작은 부하만을 초래하게 된다. 그리고, 이렇게 추정된 최종적인 추정 위치를 원격 서버에 전송하여 사고시에 구조 요원에게 이 최종적인 추정 위치 정보가 전달되어 구조 요원은 이 최종적인 추정 위치 정보를 감안하여 구조 작업을 수행하게 된다. 한편, 이상에서는 본 발명의 바람직한 실시예를 설명하였지만, 본 발명은 이러한 실시예에 한정되는 것이 아니 라 본 발명의 정신을 벗어나지 않는 범위 내에서 다양한 변형과 변경이 가능하다는 점에 유의해야 한다. 예를 들면, 상기에서의 위치 추정 작업이 차량의 단말기에서 수행하는 것으로 설명하였으나, 차량 단말기의 부 하를 경감시켜서 저가의 차량 단말기에서도 수행 가능하게 하면서 건물 및 터널 내부에서의 이동 통신 불량 문 제로 인한 최종 추정 위치 전송이 불가능하게 되는 문제를 해결하기 위해 원격서버가 차량 단말기로부터 관성 센서 정보 및 GPS 정보를 수신하여 GPS정보가 수신되지 않는 시점부터 상기의 방법에 따라 위치 추정을 하게 하 는 것도 가능하다.도면 도면1 도면2 도면3"}
{"patent_id": "10-2021-0144406", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도1은 본 발명에 따른 위치 추정 시스템의 전체적인 구성도를 도시함. 도2는 본 발명에서 정지 감지 방법을 설명하는 흐름도. 도3은 본 발명에 따른 GPS신호 미수신 지역에서의 위치 추정 방법을 설명하는 흐름도."}
