{"patent_id": "10-2022-0025849", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0128683", "출원번호": "10-2022-0025849", "발명의 명칭": "라이다의 감지 정확도 향상을 위한 거리 왜곡 보정 방법 및 장치", "출원인": "주식회사 에이치엘클레무브", "발명자": "강기문"}}
{"patent_id": "10-2022-0025849", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "라이다의 감지 정확도 향상을 위한 거리 왜곡 보정 방법에 있어서,상기 라이다가 타겟을 감지한 측정 데이터를 획득하는 단계;상기 측정 데이터와 참조 데이터간 비교를 통해 거리 오프셋의 범위를 추정하는 단계;상기 거리 오프셋의 범위에서 상기 측정 데이터와 상기 참조 데이터 간의 상관 계수에 기초하여 거리 오프셋을추정하는 단계;상기 추정된 거리 오프셋을 이용하여 상기 측정 데이터를 보정하는 단계;를 포함하는 보정 방법."}
{"patent_id": "10-2022-0025849", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 측정 데이터를 보정하는 단계는,채널 별 추정된 거리 오프셋을 이용하여 채널 별 획득한 측정 데이터를 보정하는 단계를 포함하는 보정 방법."}
{"patent_id": "10-2022-0025849", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 거리 오프셋의 범위를 추정하는 단계는,거리 오프셋 별로 마련된 상기 참조 데이터를 이용하여 상기 거리 오프셋의 범위를 추정하는 단계를 포함하는보정 방법."}
{"patent_id": "10-2022-0025849", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,상기 거리 오프셋의 범위를 추정하는 단계는,상기 측정 데이터의 특정 픽셀과 상기 참조 데이터의 특정 픽셀 간 거리 오프셋의 차이가 가장 적은 상기 거리오프셋의 범위를 식별하는 단계;를 포함하는 보정 방법."}
{"patent_id": "10-2022-0025849", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서,상기 거리 오프셋을 추정하는 단계는,상기 거리 오프셋의 범위에서 상기 측정 데이터와 상기 참조 데이터 간의 상관 계수가 가장 높은 거리 오프셋을추정하는 단계를 포함하는 보정 방법."}
{"patent_id": "10-2022-0025849", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에 있어서,상기 측정 데이터를 보정하는 단계는,상기 측정 데이터에서 상기 추정된 거리 오프셋을 제거하여 상기 측정 데이터를 보정하는 단계를 포함하는 보정방법."}
{"patent_id": "10-2022-0025849", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "공개특허 10-2023-0128683-3-라이다의 감지 정확도 향상을 위한 거리 왜곡 보정 장치에 있어서,상기 라이다가 타겟을 감지한 측정 데이터를 획득하고,상기 측정 데이터와 참조 데이터간 비교를 통해 거리 오프셋의 범위를 추정하고,상기 거리 오프셋의 범위에서 상기 측정 데이터와 상기 참조 데이터 간의 상관 계수에 기초하여 거리 오프셋을추정하고,상기 추정된 거리 오프셋을 이용하여 상기 측정 데이터를 보정하는 프로세서;를 포함하는 보정 장치."}
{"patent_id": "10-2022-0025849", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7항에 있어서,상기 프로세서는,채널 별 추정된 거리 오프셋을 이용하여 채널 별 획득한 측정 데이터를 보정하는 보정 장치."}
{"patent_id": "10-2022-0025849", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제7항에 있어서,상기 프로세서는,거리 오프셋 별로 마련된 상기 참조 데이터를 이용하여 상기 거리 오프셋의 범위를 추정하는 보정 장치."}
{"patent_id": "10-2022-0025849", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서,상기 프로세서는,상기 측정 데이터의 특정 픽셀과 상기 참조 데이터의 특정 픽셀 간 거리 오프셋의 차이가 가장 적은 상기 거리오프셋의 범위를 식별하는 보정 장치."}
{"patent_id": "10-2022-0025849", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제7항에 있어서,상기 프로세서는,상기 거리 오프셋의 범위에서 상기 측정 데이터와 상기 참조 데이터 간의 상관 계수가 가장 높은 거리 오프셋을추정하는 보정 장치."}
{"patent_id": "10-2022-0025849", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제7항에 있어서,상기 프로세서는,상기 측정 데이터에서 상기 추정된 거리 오프셋을 제거하여 상기 측정 데이터를 보정하는 보정 장치."}
{"patent_id": "10-2022-0025849", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명의 일 실시예에 따른 라이다의 감지 정확도 향상을 위한 거리 왜곡 보정 방법에 있어서, 상기 라이다가 타겟을 감지한 측정 데이터를 획득하는 단계; 상기 측정 데이터와 참조 데이터간 비교를 통해 거리 오프셋의 범 위를 추정하는 단계; 상기 거리 오프셋의 범위에서 상기 측정 데이터와 상기 참조 데이터 간의 상관 계수에 기초 하여 거리 오프셋을 추정하는 단계; 상기 추정된 거리 오프셋을 이용하여 상기 측정 데이터를 보정하는 단계;를 포함한다."}
{"patent_id": "10-2022-0025849", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 라이다의 거리 왜곡 보정 방법 및 장치에 관한 것이다."}
{"patent_id": "10-2022-0025849", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "라이다(LiDAR, Light Detection And Ranging) 수신 신호에는 필연적으로 발생하는 거리 왜곡들이 있다. 예를 들어, 라이다의 송신부에서 송신 트리거 시점과 실제 발화 시점 간 차이에 의한 지연, 신호 수신 이후 신호의 전송 지연은 타겟 감지에 있어 거리 오프셋을 발생시킨다. 또 다른 예로, 시간-디지털 변환(Time-to-Digital- Converter, TDC) 과정에 존재하는 거리 해상도로 인해 평면이 여러 개의 절단된 호로 나타나는 왜곡이발생한다. 거리 오프셋과 절단된 호는 평면을 곡면으로 왜곡 시키며, 부정확한 거리 추정을 야기한다. 거리 왜곡은 타겟의 정확한 감지 정보를 요하는 자율 주행과 같은 라이다 응용분야에서 치명적인 방해요소가 된다. 한편, 라이다에서 발생하는 거리 오프셋은 동일한 라이다에서 획득하는 데이터라 하더라도 채널 별로 값의 편차 가 존재한다. 이에 따라 단일 채널에서 발생하는 왜곡뿐 아니라 다중 채널의 신호에서 수직방향으로 편차가 심 한 면으로 왜곡이 발생할 수 있다. 라이다에서 발생하는 절단된 호는 평평한 타겟과 라이다 간 수직 거리와 수평 각도에 따라 다른 형태를 띈다. 라이다는 이와 같이 거리, 각도에 영향을 받는 특징 때문에 시야(Field of View, FOV)나 라이다 이동에 의한 거 리 변화로 인해 동일한 평면도 다른 형태로 변형 시키는 왜곡이 발생한다. 본 발명에서는 거리 왜곡 중 거리 오프셋을 보정하는 방법, 나아가 단일 채널의 왜곡뿐 아니라 다중 채널의 왜 곡을 보정할 수 있는 거리 오프셋 보정 방법에 대해 제안한다."}
{"patent_id": "10-2022-0025849", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 목적은 라이다의 감지 성능을 보다 향상시키는 거리 왜곡 보정 방법 및 장치를 제공하는 것이다. 본 발명의 목적은 단일 채널뿐 아니라 다중 채널에 대해서 거리 오프셋을 보정하는 거리 왜곡 보정 방법 및 장 치를 제공하는 것이다."}
{"patent_id": "10-2022-0025849", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 일 실시예에 따른 라이다의 감지 정확도 향상을 위한 거리 왜곡 보정 방법에 있어서, 상기 라이다가 타겟을 감지한 측정 데이터를 획득하는 단계; 상기 측정 데이터와 참조 데이터간 비교를 통해 거리 오프셋의 범 위를 추정하는 단계; 상기 거리 오프셋의 범위에서 상기 측정 데이터와 상기 참조 데이터 간의 상관 계수에 기 초하여 거리 오프셋을 추정하는 단계; 상기 추정된 거리 오프셋을 이용하여 상기 측정 데이터를 보정하는 단 계;를 포함한다. 상기 측정 데이터를 보정하는 단계는, 채널 별 추정된 거리 오프셋을 이용하여 채널 별 획득한 측정 데이터를 보정하는 단계를 포함할 수 있다. 상기 거리 오프셋의 범위를 추정하는 단계는, 거리 오프셋 별로 마련된 상기 참조 데이터를 이용하여 상기 거리 오프셋의 범위를 추정하는 단계를 포함할 수 있다. 상기 거리 오프셋의 범위를 추정하는 단계는, 상기 측정 데이터의 특정 픽셀과 상기 참조 데이터의 특정 픽셀 간 거리 오프셋의 차이가 가장 적은 상기 거리 오프셋의 범위를 식별하는 단계;를 포함할 수 있다. 상기 거리 오프셋을 추정하는 단계는, 상기 거리 오프셋의 범위에서 상기 측정 데이터와 상기 참조 데이터 간의 상관 계수가 가장 높은 거리 오프셋을 추정하는 단계를 포함할 수 있다. 상기 측정 데이터를 보정하는 단계는, 상기 측정 데이터에서 상기 추정된 거리 오프셋을 제거하여 상기 측정 데 이터를 보정하는 단계를 포함할 수 있다. 본 발명의 일 실시예에 따른 라이다의 감지 정확도 향상을 위한 거리 왜곡 보정 장치에 있어서, 상기 라이다가 타겟을 감지한 측정 데이터를 획득하고, 상기 측정 데이터와 참조 데이터간 비교를 통해 거리 오프셋의 범위를 추정하고, 상기 거리 오프셋의 범위에서 상기 측정 데이터와 상기 참조 데이터 간의 상관 계수에 기초하여 거리 오프셋을 추정하고, 상기 추정된 거리 오프셋을 이용하여 상기 측정 데이터를 보정하는 프로세서;를 포함한다. 상기 프로세서는, 채널 별 추정된 거리 오프셋을 이용하여 채널 별 획득한 측정 데이터를 보정할 수 있다. 상기 프로세서는, 거리 오프셋 별로 마련된 상기 참조 데이터를 이용하여 상기 거리 오프셋의 범위를 추정할 수 있다. 상기 프로세서는, 상기 측정 데이터의 특정 픽셀과 상기 참조 데이터의 특정 픽셀 간 거리 오프셋의 차이가 가 장 적은 상기 거리 오프셋의 범위를 식별할 수 있다.상기 프로세서는, 상기 거리 오프셋의 범위에서 상기 측정 데이터와 상기 참조 데이터 간의 상관 계수가 가장 높은 거리 오프셋을 추정할 수 있다. 상기 프로세서는, 상기 측정 데이터에서 상기 추정된 거리 오프셋을 제거하여 상기 측정 데이터를 보정할 수 있 다."}
{"patent_id": "10-2022-0025849", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 일 실시예에 따르면, 참조 데이터를 이용한 거리 오프셋의 범위를 압축하는 단계, 압축된 거리 오프 셋의 범위 내에서 상관 계수를 이용한 정확한 거리 오프셋 추정하는 단계로 나누어 수행하므로 보다 정밀하게 거리 오프셋을 추정할 수 있다. 본 발명의 일 실시예에 따르면, 각 채널 별로 정밀하게 거리 오프셋을 추정 및 보정하는 바 전체 측정 데이터의 정밀한 보정이 가능하다. 본 발명의 일 실시예에 따르면, 거리 오프셋의 범위를 압축하여 보다 신속하고, 낮은 데이터 처리량으로 최종 거리 오프셋을 추정할 수 있다."}
{"patent_id": "10-2022-0025849", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 본 발명에 따른 바람직한 실시 형태를 첨부된 도면을 참조하여 상세하게 설명한다. 첨부된 도면과 함께 이하에 개시될 상세한 설명은 본 발명의 예시적인 실시형태를 설명하고자 하는 것이며, 본 발명이 실시될 수 있 는 유일한 실시형태를 나타내고자 하는 것이 아니다. 도면에서 본 발명을 명확하게 설명하기 위해서 설명과 관 계없는 부분은 생략할 수 있고, 명세서 전체를 통하여 동일 또는 유사한 구성 요소에 대해서는 동일한 참조 부 호를 사용할 수 있다. 도 1은 본 발명의 일 실시예에 따른 거리 오프셋에 의한 왜곡을 도시한 도면이다. 도 1은 본 발명의 일 실시예에 따른 라이다 수신 신호에서 나타나는 거리 오프셋에 의한 왜곡을 나타낸다. 도 1 에서 본 발명의 일 실시예에 따른 라이다는 수평 화각()이 -60도에서 60도 사이이고, 실제 타겟은 라이 다와의 수직거리가 a인 실선으로 표시된 지점에 놓인 것으로 가정한다. 라이다의 측정 데이터는 앞서 서술한 바와 같이, 라이다의 송신부에서 송신 트리거 시점과 실제 발화 시점 간 차이에 의한 지연, 신호 수신 이후 신호의 전송 지연 등 다양한 이유로 거리 오프셋에 따른 왜곡이 발생할 수 있다. 따라서, 라이다는 도 1의 점선으로 표시된 바와 같이 실제 타겟과 비교하여 거리 오프셋(c)만큼 왜곡된 측정 타겟의 데이터(이하, 측정 데이터라 한다.)를 획득할 수 있다. 이때, 거리 오프셋(c)은 단일 채널에 대해서 픽셀에 관계없이 동일한 상수이다. 따라서 개별 채널에 대해서 수 신된 라이다 신호로부터 추정한 거리 오프셋()을 제거함으로써 왜곡 보정을 할 수 있다. 따라서, 채널 별 정확한 거리 오프셋()의 추정이 필요하다. 도 2는 본 발명의 일 실시예에 따른 거리 왜곡된 측정 데이터의 조감도(bird-eye view) 및 정면도를 도시한 도면이다. 조감도는 포인트 클라우드(point cloud) 상 상공에서 지면을 바라보는 방향으로 도시한 도면으로, 전체 채 널에 대하여 평면 타겟이 실제 위치한 지점보다 먼 곳에 더 두껍고 왜곡된 곡면 타겟으로 나타난다. 이는 정면도를 통해서도 실제 타겟인 평면 타겟이 실제 위치한 지점보다 먼 곳에 더 두껍고 왜곡된 곡면 타겟으로 나타남을 알 수 있다. 이때, 곡면 타겟은 자세히 살펴보면 수평방향으로 형성된 측정 데이터들이 겹쳐서 전체 데이터를 형성함을 알 수 있다. 즉, 도 1에 도시된 측정 타겟은 하나의 채널에 대해 수행한 측정 데이터이고, 이를 각 채널 별 로 측정하여 전체 채널에 대해 도시한 것이 도 2의 곡면 타겟이다. 본 발명에서는, 단일 채널에 대한 거리 오프셋을 추정할 뿐 아니라, 이를 각 채널 별로 수행하여 전체 측정 데 이터를 보정하여 거리 왜곡을 감소시킬 수 있다. 이하, 도 3 내지 도 8을 참조하여 이를 수행하는 방법 및 장치에 대해 구체적으로 설명한다. 도 3은 본 발명의 일 실시예에 따른 라이다 및 보정 장치의 구성을 도시한 블럭도이다. 도 3을 참조하면, 본 발명의 일 실시예에 따른 라이다는 송신부와 수신부를 포함하고, 보정 장치 는 프로세서를 포함한다. 본 발명의 일 실시예에 따르면, 라이다는 차량의 전방 및/또는 후방에 설치되어 차량의 주행 반경 내에 존 재하는 타겟을 감지한다. 이때, 라이다가 설치되는 위치나, 설치되는 개수에 한정되지 않는다. 본 발명의 일 실시예에 따르면, 라이다는 광신호를 송신부를 통해 펄스형으로 조사하고, 타겟으로부터 반사되어 돌아오는 반사광을 수신부를 통해 수신하여 송수신 신호간 시간측정을 통해 타겟까지의 거리를 계 산할 수 있다. 이때, 라이다는 수신부를 통해 수신한 신호를 위치 별로 분리함으로써 채널 별 측정 데 이터를 획득할 수 있다. 도 2에서 라이다는 송신부와 수신부만 도시하였으나, 이 외에도 광원부, 반사경, 반사경을 구동하는 전동기, 신호 증폭부, MCU, ECU와 같은 제어부를 포함할 수 있다. 본 발명의 일 실시예에 따르면, 보정 장치는 라이다가 측정한 측정 데이터를 수신하여 거리 오프셋을 설정할 수 있다. 이때, 라이다의 양산 과정에서 거리 오프셋을 설정하는 경우, 보정 장치는 라이다 와 별도의 장치로써 컴퓨터, 서버 등으로 구현될 수 있다. 이 경우, 보정 장치는 프로세서 외에 도 사용자 입력을 수신하는 입력부, 라이다 등 외부장치와 데이터를 송수신하는 통신부, 디스플레이 화면을 포함하는 표시부, 데이터나 동작 프로그램 등을 저장하는 메모리를 더 포함할 수 있다. 다만, 이에 한정되지 않으며, 라이다 자체가 거리 오프셋을 추정하고 왜곡된 측정 데이터를 보정할 수 있다. 이 경우 보정 장치는 라이다 내에 장착되어 동작하는 마이크로 제어 유닛(Micro control unit, MCU), 마이크로 프로세서일 수 있으며, 라이다를 제어하는 전반적인 동작을 수행한다. 본 발명의 일 실시예에 따른 프로세서는 프로그램 등 소프트웨어를 실행하여 보정 장치의 적어도 하 나의 다른 구성요소(예: 하드웨어 또는 소프트웨어 구성요소)를 제어할 수 있고, 다양한 데이터 처리 또는 연산 을 수행할 수 있다. 본 발명의 일 실시예에 따른 프로세서는 라이다가 타겟을 감지한 측정 데이터를 획득하고, 측정 데이 터와 참조 데이터간 비교를 통해 거리 오프셋의 범위를 추정하고, 거리 오프셋의 범위에서 측정 데이터와 참조 데이터 간의 상관 계수에 기초하여 거리 오프셋을 추정하고, 추정된 거리 오프셋을 이용하여 측정 데이터를 보 정할 수 있다. 한편, 프로세서는 라이다가 타겟을 감지한 측정 데이터를 획득하고, 측정 데이터와 참조 데이터간 비 교를 통해 거리 오프셋의 범위를 추정하고, 거리 오프셋의 범위에서 측정 데이터와 참조 데이터 간의 상관 계수 에 기초하여 거리 오프셋을 추정하고, 추정된 거리 오프셋을 이용하여 측정 데이터를 보정하기 위한 데이터 분 석, 처리, 및 결과 정보 생성 중 적어도 일부를 규칙 기반 또는 인공지능(Artificial Intelligence) 알고리즘으 로서 기계학습, 신경망 네트워크(neural network), 또는 딥러닝 알고리즘 중 적어도 하나를 이용하여 수행할 수 있다. 신경망 네트워크의 예로는, CNN (Convolutional Neural Network), DNN (Deep Neural Network), RNN(Recurrent Neural Network)과 같은 모델을 포함할 수 있다. 도 4는 본 발명의 일 실시예에 따른 보정 장치의 동작 흐름도를 도시한 도면이다. 본 발명의 일 실시예에 따르면, 프로세서는 라이다가 타겟을 감지한 측정 데이터를 획득할 수 있다 (S10). 이때, 획득된 측정 데이터는 거리 오프셋(c)을 가지고 왜곡된 데이터로 가정한다. 보정 장치는 라이다(1 0)와 별도의 장치로 구비된 경우, 통신부를 통해 라이다로부터 측정 데이터를 수신할 수 있다. 혹은, 라이 다 내에 구비된 경우, CAN 통신, LIN 통신 등을 이용하여 수신부로부터 측정 데이터를 수신할 수 있다. 본 발명의 일 실시예에 따르면, 프로세서는 측정 데이터와 참조 데이터간 비교를 통해 거리 오프셋의 범위 를 추정할 수 있다(S20). 본 발명의 일 실시예에 따른 참조 데이터는 타겟의 정확한 위치에서 특정 거리 오프셋을 가지는 경우 나타나는 왜곡 데이터를 의미한다. 본 발명에 따르면, 참조 데이터는 측정 데이터의 거리 오프셋의 범위를 추정하기 위해 거리 오프셋 별로 마련될 수 있다. 예를 들어, 참조 데이터는 거리 오프셋이 0.01m 인 경우부터 10m 인 경우까지 0.01m 간격으로 마련될 수 있다. 다만, 참조 데이터의 거리 오프셋의 범위나, 거리 오프셋의 간격은 본 발명을 한정하지 않는다. 또한, 참조 데이터는 프로세서가 마련하거나, 기 마련된 참조 데이터를 외부 장치로부터 수신할 수 있다. 프로세서는 측정 데이터와 참조 데이터간 비교를 통해 거리 오프셋의 차이가 가장 적은 거리 오프셋의 범 위를 추정한다. 이때, 측정 데이터와 참조 데이터 모두 극좌표계 상의 거리 정보를 거리 오프셋 추정에 사용한 다. 보다 구체적으로, 거리 오프셋의 범위를 추정하기 위해 수식 1과 같이 이용하여 측정 데이터와 참조 데이터의 거리 오프셋 차를 활용할 수 있다. 수학식 1"}
{"patent_id": "10-2022-0025849", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "(: n번 픽셀에서 측정 데이터와 참조 데이터의 거리 오프셋 차, : n번 픽셀에서 라이다와 측정 데이터 간 거리, : n번 픽셀에서 라이다와 참조 데이터 간 거리) 측정 데이터와 참조 데이터의 거리 오프셋 차()를 이용하는 경우, 이 가장 적은 참조 데이터의 거리 오 프셋을 통해 측정 데이터의 거리 오프셋을 알 수 있다. 이 적을수록 측정 데이터와 참조 데이터의 거리 오프 셋이 유사하다는 것을 의미하는 바, 이 가장 적은 참조 데이터에 대응하는 거리 오프셋을 통해 측정 데이터 의 거리 오프셋을 추정할 수 있다. 본 발명에서는, 보다 정확한 거리 오프셋을 추정하기 위해 먼저 거리 오프셋의 차()가 적은 거리 오프셋의 범위를 압축한다. 수학식 2"}
{"patent_id": "10-2022-0025849", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "즉, 프로세서는 수학식 2를 이용하여 측정 데이터의 특정 픽셀과 참조 데이터의 특정 픽셀 간 거리 오프셋 의 차이가 가장 적은 거리 오프셋의 범위를 식별할 수 있다. 보다 자세한 내용은 도 6과 관련하여 후술한다.본 발명의 일 실시예에 따르면, 프로세서는 거리 오프셋의 범위에서 측정 데이터와 참조 데이터 간의 상관 계수에 기초하여 거리 오프셋()을 추정할 수 있다(S30). 이때, 상관 계수는 측정 데이터의 데이터 양상과 참조 데이터 간의 데이터 양상의 관계를 의미한다. 보다 구체 적으로, 상관 계수는 측정 데이터의 증감 추이에 따른 참조 데이터 간의 증감 추이의 관계를 나타내는 것으로, 0에서 1사이의 값을 가지고, 그 값이 1에 가까워질수록 측정 데이터와 참조 데이터의 데이터 양상이 일치하는 것을 의미한다. 상관 계수()는 다음과 같이 수학식 3에 의해 결정될 수 있다. 수학식 3"}
{"patent_id": "10-2022-0025849", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "본 발명의 일 실시예에 따르면, 프로세서는 앞서 S20에서 압축한 거리 오프셋의 범위 내에서 상관 계수 ()가 가장 높은 거리 오프셋을 최종 거리 오프셋()으로 추정할 수 있다. 상관 계수가 가장 높은 최종 거리 오프셋()을 추정하는 모습은 도 7과 관련하여 자세히 후술한다. 본 발명의 일 실시예에 따르면, 프로세서는 추정된 거리 오프셋()을 이용하여 측정 데이터를 보정할 수 있다(S40). 본 발명의 일 실시예에 따르면, 수학식 4와 같이 프로세서는 측정 데이터에서 추정된 거리 오프셋()을 제거하여 측정 데이터를 보정할 수 있다. 이때, 측정 데이터의 보정은 각 픽셀 별로 이루어지고, 동일 채널 내 에서는 동일한 거리 오프셋을 가진다. 따라서, 프로세서는 동일 채널 내의 모든 픽셀의 측정 데이터에 대 해 동일한 거리 오프셋()을 제거함으로써 측정 데이터를 보정할 수 있다. 수학식 4"}
{"patent_id": "10-2022-0025849", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "(: 보정된 거리, : 라이다와 측정 데이터 간 거리, : 추정된 거리 오프셋) 또한, 프로세서는 채널 별 추정된 거리 오프셋을 이용하여 채널 별 획득한 측정 데이터를 보정할 수 있다. 보다 자세한 내용은 도 8을 참조하여 후술한다. 본 발명의 일 실시예에 따르면, 측정 데이터의 왜곡 보정 방법은 참조 데이터를 이용한 거리 오프셋의 범위를 압축하는 단계, 압축된 거리 오프셋의 범위 내에서 상관 계수를 이용한 정확한 거리 오프셋 추정하는 단계로 나 누어 수행하므로 보다 정밀하게 거리 오프셋을 추정할 수 있다. 또한, 각 채널 별로 정밀하게 거리 오프셋을 추 정하고, 이를 이용하여 보정하는 바 전체 측정 데이터의 정밀한 보정이 가능하다. 도 5는 본 발명의 일 실시예에 따른 참조 데이터와 측정 데이터를 도시한 도면이다. 도 5는 도 3의 S20에서 서술한 참조 데이터와 측정 데이터를 도시한다. 참조 데이터와 측정 데 이터는 가로축은 픽셀 인덱스, 세로축은 라이다와 측정 데이터 간의 거리를 나타낸다. 즉, 라이다와 측정데이터 간의 거리를 픽셀 별로 나타낸 것이다. 이때, 픽셀 인덱스는 도 1에 도시된 라이다의 측정 데이터의 좌 측에서부터 우측까지 대응하는 픽셀에 번호를 매긴 것을 의미한다. 따라서, 대략적인 데이터의 양상을 살펴보면 측정 데이터의 중심으로 갈수록 라이다와 측정 데이터 간의 거리가 좁아지는 것을 알 수 있다. 이때, 참조 데이터는 하나만 표시되었으나, 실제로는 거리 오프셋 별로 복수의 참조 데이터가 존재하 고, 복수의 참조 데이터 중 측정 데이터와 유사한 혹은 동일한 참조 데이터를 식별한다. 이때, 보다 정확한 최종 거리 오프셋을 추정하기 위해 본 단계에서는 측정 데이터와 유사한 참조 데이터를 기초로 거리 오프셋의 범위를 추정한다. 따라서, 거리 오프셋의 간격이 미세할수록 보다 정밀하게 거리 오프셋의 범위를 추정할 수 있다. 예를 들어, 참조 데이터는 거리 오프셋이 0.01m 인 경우부터 10m 인 경우까지 0.01m 간격으로 마련된 경우보다, 거리 오프셋이 0.001m인 경우부터 10m인 경우까지 0.001m 간격으로 마련된 경우 거리 오프셋의 범위는 0.001m 단위로 설정될 수 있으므로 보다 정밀하게 거리 오프셋의 범위를 추정할 수 있다. 도 6은 본 발명의 일 실시예에 따른 거리 오프셋의 범위를 추정하는 모습을 도시한 도면이다. 거리 오프셋의 범위 추정은 앞서 도 3의 S20에서 설명한 바와 같이, 참조 데이터와 측정 데이터의 거리 오프셋 의 차이를 활용한다. 도 6의 그래프는 가로축은 거리 오프셋을 나타내고, 세로축은 참조 데이터와 측정 데이터의 거리 오프셋의 차이를 나타낸다. 따라서, 프로세서는 측정 데이터의 특정 픽셀과 참조 데이터의 특정 픽셀 간 거리 오프셋의 차이가 가장 적은 거리 오프셋의 범위를 식별할 수 있다. 이때, 특정 픽셀은 단일 채널 내 중앙에 위치하는 픽셀일 수 있다. 다만, 본 발명은 이에 한정되지 않고, 측정 데이터의 특정 픽셀과 참조 데이터의 특정 픽셀 간 거리 오프셋의 차이를 모든 픽셀에 대해 계산하여 그 평균값을 이용하는 등 다양하게 적용될 수 있다. 즉, 프로세서는 측정 데이터과 참조 데이터 간 거리 오프셋의 차이가 가장 적은 거리 오프셋의 범위를 식 별할 수 있다. 도 6을 참조하면, 참조 데이터의 거리 오프셋이 9.5m에서부터 10.5m 사이인 경우에 대해 거리 오프셋의 차이를 계산하였다. 거리 오프셋의 차이는 제1거리 오프셋(offset_a)과 제2거리 오프셋(offset_b)에서 가장 적은 것으로 식별되었고, 프로세서는 제1거리 오프셋(offset_a)과 제2거리 오프셋(offset_b) 사이의 범위를 거리 오프 셋의 범위로 추정할 수 있다. 본 발명의 일 실시예에 따르면, 거리 오프셋의 범위를 압축하여 보다 신속하고, 낮은 데이터 처리량으로 최종 거리 오프셋을 추정할 수 있다. 도 7은 본 발명의 일 실시예에 따른 거리 오프셋을 추정하는 모습을 도시한 도면이다. 최종 거리 오프셋의 추정은, 도 3의 S30에서 설명한 바와 같이 상관 계수를 이용하여 추정한다. 도 7의 그래프는 가로축은 거리 오프셋을 나타내고, 세로축은 참조 데이터와 측정 데이터의 상관 계수를 나타낸다. 이때, 그래프은 도 6과 동일한 상황에서의 데이터 인바, 도 6과 도 7에서 제1거리 오프셋 (offset_a)과 제2거리 오프셋(offset_b)은 같은 값을 가진다. 또한, 도 6과 관련하여 서술한 바와 같이, 거리 오프셋의 범위를 제1거리 오프셋(offset_a)과 제2거리 오프셋(offset_b)로 압축하였는 바, 데이터 처리량을 보 다 줄이기 위해 상관 계수는 압축된 거리 오프셋의 범위 내에서만 식별하여도 된다. 상관 계수는 앞서 서술한 바와 같이 수학식 4를 이용하여 계산하고, 그 결과 그래프를 참조하면 거리 오프 셋의 범위 중 제1거리 오프셋(offset_a)에서 가장 큰 상관 계수(Coef_a)를 가지는 것을 알 수 있다. 프로세서는 상관 계수를 계산하고, 가장 큰 상관 계수를 가지는 제1상관 계수(Coef_a)에 대응하는 제1거리 오프셋(offset_a)을 최종 거리 오프셋으로 추정할 수 있다. 도 8은 각 채널 별로 측정 데이터를 보정한 결과를 도시한 도면이다. 도 8은 채널 1(Ch 1)부터 채널 8(Ch 8)까지의 왜곡된 측정 데이터 및 이를 보상한 데이터를 표시한다. 본 발명의 일 실시예에 따르면, 도 3의 S40과 관련하여 서술한 바와 같이, 프로세서는 추정된 거리 오프셋 ()을 이용하여 측정 데이터를 보정할 수 있다. 프로세서는 측정 데이터에서 추정된 거리 오프셋()을 제거하여 측정 데이터를 보정할 수 있다. 대표적으로 도 8의 채널 1(Ch 1)에서의 데이터를 살펴보면 측정 데이터를 본 발명에 따른 왜곡 보정 방법 을 이용하여 보정한 보정 데이터를 나타내고 있다. 프로세서는 채널 별 추정된 거리 오프셋을 이용하여 채널 별 획득한 측정 데이터를 보정할 수 있다. 본 발명의 일 실시예에 따르면, 각 채널 별로 거리 오프셋을 보정하는 바 전체 측정 데이터의 정밀한 보정이 가 능하다."}
{"patent_id": "10-2022-0025849", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 거리 오프셋에 의한 왜곡을 도시한 도면이다. 도 2는 본 발명의 일 실시예에 따른 거리 왜곡된 측정 데이터의 조감도 및 정면도를 도시한 도면이다. 도 3은 본 발명의 일 실시예에 따른 라이다 및 보정 장치의 구성을 도시한 블럭도이다. 도 4는 본 발명의 일 실시예에 따른 보정 장치의 동작 흐름도를 도시한 도면이다. 도 5는 본 발명의 일 실시예에 따른 참조 데이터와 측정 데이터를 도시한 도면이다. 도 6은 본 발명의 일 실시예에 따른 거리 오프셋의 범위를 추정하는 모습을 도시한 도면이다. 도 7은 본 발명의 일 실시예에 따른 거리 오프셋을 추정하는 모습을 도시한 도면이다. 도 8은 각 채널 별로 측정 데이터를 보정한 결과를 도시한 도면이다."}
