{"patent_id": "10-2023-0106401", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0025214", "출원번호": "10-2023-0106401", "발명의 명칭": "당뇨병의 발생을 예측하는 방법", "출원인": "한국수력원자력 주식회사", "발명자": "김상돈"}}
{"patent_id": "10-2023-0106401", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "당뇨병의 발생을 예측하는 방법에 있어서,적어도 2개의 주기에 걸친 복수의 대상자의 정보를 입력하는 단계, 여기서 상기 정보는 대상자별로의 당뇨병 발생 여부 및 의료변수에 대한 값을 포함한다;상기 정보를 기초로 양방향 시계열 인공지능을 이용하여 예측모델을 형성하는 단계;및상기 예측모델에서 당뇨병의 발생을 예측하고 상기 의료변수 별로 가중치를 제공하는 단계를 포함하는 방법."}
{"patent_id": "10-2023-0106401", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 의료변수는,연속형 변수와 범주형 변수를 포함하며,상기 가중치는 상기 연속형 변수 내에서의 가중치와 상기 범주형 변수 내에서의 가중치로 구별하여 제공되는 방법."}
{"patent_id": "10-2023-0106401", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 범주형 변수는 이진화되어 입력되는 방법."}
{"patent_id": "10-2023-0106401", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제2항에 있어서,상기 가중치는,몬테카를로 시뮬레이션을 이용하여 얻어지는 방법."}
{"patent_id": "10-2023-0106401", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서,상기 가중치는,변수별 가우스 노이즈 추가 유무에 따른 예측 결과의 분산에 기초하여 산출하는 방법."}
{"patent_id": "10-2023-0106401", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5항에 있어서,상기 가중치는,변수별 가우스 노이즈를 추가하지 않고 예측한 원시 발생확률 및 변수별 가우스 노이즈를 추가하고 예측한 수정발생확률 간의 분산을 얻는 단계; 및상기 변수별 분산의 각 변수별 예측 분산합에 대한 상대비를 상기 가중치로 도출하는 단계를 통해 얻어지는 방법."}
{"patent_id": "10-2023-0106401", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제4항에 있어서,공개특허 10-2025-0025214-3-상기 예측모델은,현재 시점에서의 당뇨병의 발생을 예측하는 제1예측모델; 및향후 시점에서의 당뇨병의 발생을 예측하는 제2예측모델을 포함하며,상기 가중치는 상기 제1예측모델과 상기 제2예측모델에서 각각 제공하는 방법."}
{"patent_id": "10-2023-0106401", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7항에 있어서,상기 제1예측모델은 제1개수의 최근의 연속된 주기의 정보에 기초하여 형성되며,상기 제2예측모델은 상기 제1개수보다 작은 최근의 제2개수의 연속된 주기의 정보에 기초하여 형성되며,상기 제2예측모델에서 배제된 주기는 최근 순서대로 배제되는 방법."}
{"patent_id": "10-2023-0106401", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에 있어서, 상기 제1개수는 상기 제2개수보다 2개 내지 4개가 큰 방법."}
{"patent_id": "10-2023-0106401", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서,상기 주기는 1년 단위인 방법."}
{"patent_id": "10-2023-0106401", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 당뇨병의 발생을 예측하는 방법에 관한 것으로, 적어도 2개의 주기에 걸친 복수의 대상자의 정보를 입 력하는 단계, 여기서 상기 정보는 대상자별로의 당뇨병 발생 여부 및 의료변수에 대한 값을 포함한다; 상기 정보 를 기초로 양방향 시계열 인공지능을 이용하여 예측모델을 형성하는 단계; 및 상기 예측모델에서 당뇨병의 발생 을 예측하고 상기 의료변수 별로 가중치를 제공하는 단계를 포함한다."}
{"patent_id": "10-2023-0106401", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 당뇨병의 발생을 예측하는 방법에 관한 것이다."}
{"patent_id": "10-2023-0106401", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "한국인 당뇨병 예측 대표 통계모형은 건강보험공단에서 2018년에 개발한 콕스모형이 있다. 콕스모형은 이론적 한계로 인해 위험인자의 최종 상태에 대한 상대위험비에 비례한 당뇨병 발생 위험확률을 제공하기 때문에 위험 인자의 시계열적 변화율을 반영한 실질적인 미래 발생확률을 제공할 수 없는 문제가 있다. 따라서, 시계열적 변화율을 반영할 수 있는 당뇨병 발생 예측 방법의 개발이 필요하다. 선행기술문헌 특허문헌 (특허문헌 0001) 미국특허공개 제2023-0035564호(2023년 02월 02일 공개)"}
{"patent_id": "10-2023-0106401", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "따라서 본 발명의 목적은 본 발명은 당뇨병의 발생을 예측하는 방법을 제공하는 것이다."}
{"patent_id": "10-2023-0106401", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 본 발명의 목적은 당뇨병의 발생을 예측하는 방법에 있어서, 적어도 2개의 주기에 걸친 복수의 대상자의 정보를 입력하는 단계, 여기서 상기 정보는 대상자별로의 당뇨병 발생 여부 및 의료변수에 대한 값을 포함한다; 상기 정보를 기초로 양방향 시계열 인공지능을 이용하여 예측모델을 형성하는 단계; 및 상기 예측모델에서 당뇨 병의 발생을 예측하고 상기 의료변수 별로 가중치를 제공하는 단계를 포함하는 것에 의해 달성된다. 상기 의료변수는, 연속형 변수와 범주형 변수를 포함하며, 상기 가중치는 상기 연속형 변수 내에서의 가중치와 상기 범주형 변수 내에서의 가중치로 구별하여 제공될 수 있다. 상기 범주형 변수는 이진화되어 입력될 수 있다. 상기 가중치는, 몬테카를로 시뮬레이션을 이용하여 얻어질 수 있다. 상기 가중치는, 변수별 가우스 노이즈 추가 유무에 따른 예측 결과의 분산에 기초하여 산출할 수 있다. 상기 가중치는, 변수별 가우스 노이즈를 추가하지 않고 예측한 원시 발생확률 및 변수별 가우스 노이즈를 추가 하고 예측한 수정 발생확률 간의 분산을 얻는 단계; 및 상기 변수별 분산의 각 변수별 예측 분산합에 대한 상대 비를 상기 가중치로 도출하는 단계를 통해 얻어질 수 있다. 상기 예측모델은, 현재 시점에서의 당뇨병의 발생을 예측하는 제1예측모델; 및 향후 시점에서의 당뇨병의 발생 을 예측하는 제2예측모델을 포함하며, 상기 가중치는 상기 제1예측모델과 상기 제2예측모델에서 각각 제공할 수 있다. 상기 제1예측모델은 제1개수의 최근의 연속된 주기의 정보에 기초하여 형성되며, 상기 제2예측모델은 상기 제1 개수보다 작은 최근의 제2개수의 연속된 주기의 정보에 기초하여 형성되며, 상기 제2예측모델에서 배제된 주기 는 최근 순서대로 배제될 수 있다. 상기 제1개수는 상기 제2개수보다 2개 내지 4개가 클 수 있다. 상기 주기는 1년 단위일 수 있다."}
{"patent_id": "10-2023-0106401", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따르면 당뇨병의 발생을 예측하는 방법이 제공된다."}
{"patent_id": "10-2023-0106401", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하 도면을 참조하여 본 발명을 더욱 상세히 설명한다. 첨부된 도면은 본 발명의 기술적 사상을 더욱 구체적으로 설명하기 위하여 도시한 일 예에 불과하므로 본 발명 의 사상이 첨부된 도면에 한정되는 것은 아니다. 또한 첨부된 도면은 각 구성요소 간의 관계를 설명하기 위해 크기와 간격 등이 실제와 달리 과장되어 있을 수 있다. 이하의 설명 내지 실시예에서는 한국 남성 직장인을 예시하여 설명하며, 특히 2013년부터 2021년 까지의 한국수 력원자력의 20세 ~ 60세 남성 직장인을 대상으로 한 딥러닝(LSTM) 모형을 예시한다. 본 발명은 20세 ~ 60세 남 성 직장인을 위한 당뇨병 예측 통계모형을 개발함으로써 약 10년(2002년-2013년)이나 지난 건강검진 코호트를 이용하여 개발한 한국인 당뇨병 예측모형에 비해 식습관이 더 서구화된 현대 직장인의 건강 위험을 예측할 수 있고 더 다양한 위험요인에 근거한 개인 맞춤형 예방 및 치료 관리를 제시할 수 있다. 그러나, 본 발명은 이에 한정되지 않는다. 즉, 본 발명은 국적, 인종, 성별, 연령 및 직장인 여부 등에 한정되지 않고, 다양한 대상자에 대해 적용될 수 있다. 본 발명에서 개발한 당뇨병 미래/현재 예측모형은 위험요인별 시계열적 변화율을 포함한 질환 발생확률을 제공 한다. 건강보험공단 통계모형의 예측력(C-Statistics) 71%에 비해 96%의 정확도를 가지므로 현대 남성 직장인에 대한 훨씬 정확하고 좀 더 다양한 위험인자[허리둘레, 당화혈색소, 간기능(AST, ALT, GGT) 등]를 근거한 정량적 위험(요인)관리를 할 수 있는 기회를 제공할 수 있다. 이하에 따른 당뇨병 발생의 예측은 컴퓨터 및 통신수단을 통해 수행될 수 있다. 통신수단은 유선 및 무선 수단 을 모두 포함한다. 도 1을 참조하여 본 발명의 일실시예에 따른 당뇨병의 발생을 예측하는 방법을 설명한다. 먼저, 적어도 2개의 주기에 걸친 복수의 대상자의 정보를 입력한다(S100). 정보는 대상자별로의 당뇨병 발생 여부 및 의료변수에 대한 값을 포함한다. 의료 변수는 도 2와 같은 다양한 변수를 포함한다. 의료 변수는 연속형 변수와 범주형 변수로 나누어진다. 도 2 에서 색상표시된 상부의 의료변수가 범주형 변수이며, 색상표시가 없는 하부의 의료변수가 연속형 변수이다. 범주형 변수는 가족력, 운동, 음주 및 흡연 등을 포함한다. 본 발명에서 범주형 변수는 이진화(예를 들어, 0 또 는 1)의 형태로 입력된다. 연속형 변수는 몸무게, 혈당 및 콜레스테롤 수치 등을 포함한다. 범주형 변수 및 연속형 변수를 총합은 이에 한정되지 않으나, 20개 내지 200개, 30개 내지 150개 또는 40개 내 지 100개일 수 있다. 대상자의 숫자는 한정되지 않으며, 예를 들어, 100명 내지 1000만명, 100명 내지 100만명 및 1000명 내지 10만 명 등 다양하게 설정될 수 있다. 주기는 연속되어 있으며, 2개 내지 20개 주기, 5개 내지 20개 주기, 5개 내지 15개 주기 및 7개 내지 15개 주기 등 다양할 수 있다. 대상자의 정보는 가장 최근의 주기를 포함할 수 있다. 주기는 1년일 수 있으며, 다른 실시예에서는 6개월 또는 2년 등 다양하게 변형될 수 있다. 다음으로 정보를 기초로 양방향 시계열 인공지능을 이용하여 예측모델을 형성(S200)한다. 도 3 및 도 4는 본 발명의 일실시예에 따른 당뇨병의 발생을 예측하는 방법에서 사용되는 양방향 시계열 인공지 능을 나타낸 것이다. 본 발명의 예측모델은 당뇨병 미래예측 딥러닝 모형으로 도 3과 같이 시계열적 특성을 학습할 수 있는 순환신경 망(Recurrent-Neural-Networks)의 한 종류인 LSTM(Long Short Term Memory)을 가지고 개발하였다. 당뇨병 발병 의 위험인자로 를 기준시점(t)과 다음시점(t+1)에 네트워크를 연결하여 이전 시점에 대한 학습된 특성이 다음 시점에 전달되기 때문에 시간적 변화율 또한 학습되고 원하는 최종 예측시점에 당뇨병이 발 병할 위험도를 추정할 수 있다. 또한 딥러닝 예측모형의 신경망 구조는 텐서플로 프레임워크를 사용하여 당뇨병 발병과 관련된 위험인자의 시계열적 특성이 충분이 학습되도록 도 4와 같이 설계하여 개발하였다. 또한 본 발명에서는 LSTM 모형의 중요 단점 중에 하나인 Vanishing Gradient에 의한 학습 약화를 보완하기 위해 양방향(Bidirectional) LSTM Layer 3개의 층에 투입하였다. 기존 콕스 통계모형은 시계열 자료의 시점별 입력값을 받지 않고 당뇨병 발생시점의 (단일)상태값에 대한 상대 위험비를 이용하기 때문에 시계열적 변화량을 반영한 예측이 불가능하다. 그와 달리 본 발명에서는 도 3의 v 부 분이 시간적 흐름에 따라 순환하면서 현재 입력변수 외 이전 입력 변수(상태)에서 학습된 비선형 잠재변위(시계 열 특성 추상화 매트릭스)와 함께 최종 시점의 당뇨병 발병위험도를 예측할 수 있다. 마지막으로 예측모델을 이용하여 당뇨병 발생을 예측하고 의료변수 별로 가중치를 제공한다(S300). 가중치는 연속형 변수 내에서의 가중치와 범주형 변수 내에서의 가중치로 구별하여 제공된다. 가중치는, 몬테카를로 시뮬레이션을 이용하여 얻어지며, 변수별 가우스 노이즈 추가 유무에 따른 예측 결과의 분산에 기초하여 산출할 수 있다. 즉, 가중치는 변수별 가우스 노이즈를 추가하지 않고 예측한 원시 발생확률 및 변수별 가우스 노이즈를 추가하고 예측한 수정 발생확률 간의 분산을 얻는 단계; 및 변수별 분산의 각 변수 별 예측 분산합에 대한 상대비를 가중치로 도출하는 단계를 통해 얻어질 수 있다. 가중치를 구하는 방법을 좀 더 자세히 설명하면 다음과 같다. 모형 개발에 사용된 데이터( )를 입력하여 추정한 당뇨병 발생확률()과 각 입력 변수별 연도별 가 우스 랜덤 노이즈를 추가( )하여 추정한 발생확률과()의 분산( )을 각 변수별 몬테카를로 시뮬레이션하여 추정한 분산 합에 대한 상대비( )를 변수의 상대 중요도로 추 정한다. 본 발명에서는 다수 주기에 걸친 시계열적, 비선형적 영향이 예측모형에 학습된다. 또한, 기존의 LSTM(시계열 인공신경망)은 순방향(오랫된 정보순)으로 정보의 특성을 학습하지만 Bidirectional LSTM 추가하여 양방향(순방향 외 역순으로도 학습)으로 중요 정보를 추출하기 때문에 더 많은 비선형적 특성에 기인한 예측이 가능하다. 또한, 기존 콕스 통계모형의 범주형 변수는 더미(Dummy)변환 기법을 사용하여 변수별 기준 수준 대비 상대위험 도를 제공하기 때문에 더미변수 간 비교는 불가능하고 기존 딥러닝 모형에서는 범주형 변수를 단순 순위 정수화 (1~10) 하여 개발하기 때문에 통계모형과 같이 범주형 변수간 상대중요도를 비교하기에는 한계가 있다. 이에 비 해, 본 발명에서는 모든 범주에 대해 0 또는 1로 변환 할당함으로써 각 범주의 고유의 특성이 예측에 사용되었 다. 이로 인해 변수별 상대 위험도를 각 변수의 범주별 상대가중합으로 추정할 수 있어 범주의 개수와 무관하게 변수별 상대 중요도를 산출할 수 있다. 한편, 예측모델은, 현재 시점에서의 당뇨병의 발생을 예측하는 제1예측모델 및 향후 시점에서의 당뇨병의 발생 을 예측하는 제2예측모델을 포함할 수 있다. 제1예측모델은 제1개수의 최근의 연속된 주기의 정보에 기초하여 형성되며, 제2예측모델은 제1개수보다 작은 최 근의 제2개수의 연속된 주기의 정보에 기초하여 형성되며, 상기 제2예측모델에서 배제된 주기는 최근 순서대로 배제된다. 상기 제1개수는 상기 제2개수보다 2개 내지 4개가 클 수 있다. 즉 제2예측모델에서는 제1예측모델에 서 사용한 주기 정보 중 최근의 2주기 정보, 3주기 정보 또는 4주기 정보를 배제할 수 있는 것이다. 예를 들어, 제1예측모델은 당해(2023년) 검진결과까지 입력데이터로 개발하고 제2예측모델은 최근 3년 검진자료 를 제외(2021년부터 2023년 검진자료 제외)하여 생성한 데이터로 개발할 수 있다. 제2예측모델을 통해 미래(3년 후) 발생 확률을 예측할 수 있다. 미래 발생 확률의 예측에서 미래는 3년 이외에, 1년, 2년, 4년, 5년 및 6년 등 다양할 수 있다. 이 경우 가중치는 제1예측모델과 제2예측모델에서 각각 제공한다. 도 5 및 도 6은 본 발명의 일실시예에 따른 당뇨병의 발생을 예측하는 방법에서 의료변수 별의 가중치를 나타낸 것이다. 도 5는 연속형 변수에 대해 현재 예측과 미래 예측을 나타낸 것이고, 도 6은 범주형 변수에 대해 현재 예측과 미래 예측을 나타낸 것이다. 도 5 및 도 6의 각각에서 상대중요도의 합은 1이다. 도 5 및 도 6과 같은 결과를 통해 예측 시점별(당해, 3년 후 미래) 상대 중요변수의 차이를 확인할 수 있고 시 점별 우선 순위에 근거한 위험인자를 지정할 수 있어 더욱 효과적인 새로운 당뇨병 예방관리 서비스를 제공할 수 있다. 그 결과 예측 시점별(당해, 3년 후 미래) 상대 중요변수의 차이를 확인할 수 있고 시점별 우선 순위에 근거한 위험인자를 지정할 수 있어 더 효과적인 새로운 당뇨병 예방관리 서비스를 제공할 수 있다. 도 7 및 도 8은 본 발명의 일실시예에 따른 당뇨병의 발생을 예측하는 방법의 성능을 나타낸 것이다. 도 7은 현재 당뇨병 발생 예측모델의 성능을 정리한 것이고, 도 8은 미래 당뇨병 발생 예측모델의 성능을 정리 한 것이다. 예측 방법(예측 모델)의 성능은 대상자 정보 중 일부를 학습용과 검증용(대략 10% 정도)으로 나누어 얻었다. 도 7을 보면 정확도는 96%, ROC(Receiver Operating Characteristic curve) 91%로 매우 우수한 예측 성능을 보 여준다. 도 8을 보면 정확도는 94%, 수신감도(ROC)가 88%로 미래 예측임에도 불구하고 탁월한 성능을 보여주고 있다. 이로부터 공단의 현재 예측 정확도인 71% 대비하여 3년 미래 예측기(예보기)로 충분히 활용할 수 있는 성 능을 보유하고 있음을 확인할 수 있다. 기존 모형은 시계열 자료의 횡단(특정 시점, 1회) 상태에 의존해서 질환을 예측한다. 예를 들어, 과거 흡연의 기간과 상관없이 예측 시점의 흡연 유무에 따라 예측확률을 추정한다. 이에 비해, 본 발명은 양방향 시계열적 인공지능을 사용하여 시계열 자료를 반영한 에측확률을 추정한다. 최종 관측 데이터를 기반으로 예측하는 모형과 3년 후 미래를 예측하는 모형에서 중요한 변수는 상이할 수 있다. 예를 들어, 운동을 하지 않는 비환자의 대부분은 3년 후 혈압 관리가 되지 않아 항고혈압약을 복용할 가 능성이 높다. 따라서 현 시점에서 혈압약을 복용하는 사람은 운동도 하지 않은 과거의 습관이 누적되어 발생하 므로 미래 예측에서 상대적으로 더 큰 영향력을 준다. 기존 모형은 시계열 자료의 횡단(단면적) 결과인 위험인자의 최종 상태값을 기준으로 예측하기에 위험인자의 시 간적 변화율을 반영한 예측에는 한계가 있다. 본 발명에서는 시계열 인공신경망인 LSTM을 활용하여 위험인자별 연간 변화율을 기반한 현재 질환 발생률 뿐만 아니라 3년후 미래 발생 확률까지 제공함으로써 현재 당뇨병 발생 고위험군 뿐만 아니라 3년 미래 발생 고위험군을 사전에 효과적으로 선별하여 당뇨병 관리 서비스를 제공할 수 있다. 전술한 실시예들은 본 발명을 설명하기 위한 예시로서, 본 발명이 이에 한정되는 것은 아니다. 본 발명이 속하"}
{"patent_id": "10-2023-0106401", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "는 기술분야에서 통상의 지식을 가진 자라면 이로부터 다양하게 변형하여 본 발명을 실시하는 것이 가능할 것이 므로, 본 발명의 기술적 보호범위는 첨부된 특허청구범위에 의해 정해져야 할 것이다."}
{"patent_id": "10-2023-0106401", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일실시예에 따른 당뇨병의 발생을 예측하는 방법의 순서도이고, 도 2는 본 발명의 일실시예에 따른 당뇨병의 발생을 예측하는 방법에서 입력되는 정보를 예시한 것이고, 도 3 및 도 4는 본 발명의 일실시예에 따른 당뇨병의 발생을 예측하는 방법에서 사용되는 양방향 시계열 인공지 능을 나타낸 것이고, 도 5 및 도 6은 본 발명의 일실시예에 따른 당뇨병의 발생을 예측하는 방법에서 의료변수 별의 가중치를 나타낸 것이고, 도 7 및 도 8은 본 발명의 일실시예에 따른 당뇨병의 발생을 예측하는 방법의 성능을 나타낸 것이다."}
