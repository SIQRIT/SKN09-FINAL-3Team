{"patent_id": "10-2023-0013695", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0121002", "출원번호": "10-2023-0013695", "발명의 명칭": "3차원 증강현실 헤드업 디스플레이와 모노 카메라를 이용한 동공 사이 거리와 카메라 좌표계", "출원인": "에피톤 인코포레이티드", "발명자": "박준기"}}
{"patent_id": "10-2023-0013695", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "3차원 증강현실 헤드업 디스플레이를 사용자가 착용하고, 눈의 초점을 투영체 보다 먼 배경패턴에 맞추는 측정준비단계;제어부에 의해 투영체의 좌측 및 우측에 실측패턴이 각각 투영되는 동공 사이 거리 준비단계;조작버튼에 의해 제어부는 실측패턴과 실측패턴 사이의 거리를 일정 간격 만큼 멀어지거나 또는 모여지도록 이동시키는 실측패턴 조작단계;사용자의 좌안 및 우안이 배경패턴에 초점이 맞춰진 상태에서 상기 실측패턴 조작단계를 통해 이동하는 실측패턴이 하나의 결합패턴으로 합쳐지는 구간을 선택하는 결합패턴 확인단계; 상기 결합패턴 확인단계에서 선택된 좌측 및 우측의 실측패턴 사이의 거리를 측정하는 동공 사이 거리 측정단계를 포함하는 것을 특징으로 하는 3차원 증강현실 헤드업 디스플레이와 모노 카메라를 이용한 동공 사이 거리와 카메라 좌표계의 원점부터 동공까지 거리 측정방법."}
{"patent_id": "10-2023-0013695", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1항에 있어서, 동공 사이 거리 측정단계에서, 동공 사이의 거리(IPD)는, d는 실측패턴 사이의 거리, L은 사용자의 동공으로부터 배경패턴까지의 거리, fx는동공과 투영체(M) 사이의 거리를 의미하는, 아래의 수학식 1을 통해 계산되는 것을 특징으로 하는 3차원 증강현실 헤드업 디스플레이와 모노 카메라를 이용한 동공 사이 거리와 카메라 좌표계의 원점부터 동공까지 거리 측정방법.[수학식 1]"}
{"patent_id": "10-2023-0013695", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1항에 있어서, 동공 사이 거리 측정단계 이후에는,IPD는 동공 사이의 거리, fx는 카메라의 초점거리(카메라의 intrinsic parameters 중의 하나. 단위는 픽셀), d는 카메라의 image plane에서의 실측패턴 사이의 거리(단위는 픽셀)를 의미하는 아래의 수학식 3을 통해 계산되어 카메라 좌표계의 원점부터 동공까지 거리를 계산하는 카메라 좌표계의 원점부터 동공까지 거리 측정단계를포함하는 것을 특징으로 하는 3차원 증강현실 헤드업 디스플레이와 모노 카메라를 이용한 동공 사이 거리와 카메라 좌표계의 원점부터 동공까지 거리 측정방법.공개특허 10-2024-0121002-3-[수학식 3]"}
{"patent_id": "10-2023-0013695", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 1항에 있어서, 측정 준비단계와 동공 사이 거리 준비단계에서, 동공 사이 거리 준비단계는, 보정 안경을 착용하고, 모노카메라를 이용해 동공 사이의 거리를 측정하는 카메라측정단계로 대체되는 것을 특징으로 하는 3차원 증강현실 헤드업 디스플레이와 모노 카메라를 이용한 동공 사이거리와 카메라 좌표계의 원점부터 동공까지 거리 측정방법."}
{"patent_id": "10-2023-0013695", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 4항에 있어서, 상기 카메라 측정단계는, 안경테의 전면부 좌측과 우측에 안경패턴이 형성된 보정 안경을 사용자가 착용하는 안경 준비단계;모노카메라에 촬영된 영상의 안경패턴과 안경패턴 사이의 거리와 제어부에 입력된 실측 안경패턴 사이의 거리를비교한 오차 비율을 제어부에서 연산하는 안경패턴 거리측정단계;모노카메라에 촬영된 사용자의 영상 동공 사이 거리에 상기 안경패턴 거리측정단계에서 연산된 오차 비율로 보정해 실측 동공사이의 거리를 연산하는 동공 사이 거리 계산단계;를 포함하는 것을 특징으로 하는 3차원 증강현실 헤드업 디스플레이와 모노 카메라를 이용한 동공 사이 거리와 카메라 좌표계의 원점부터 동공까지 거리 측정방법."}
{"patent_id": "10-2023-0013695", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 1항에 있어서, 상기 실측패턴은, 투영체에 투영되는 형상의 양측에 수직 방향의 비교선이 배치되는 것을 특징으로 하는 3차원 증강현실 헤드업디스플레이와 모노 카메라를 이용한 동공 사이 거리와 카메라 좌표계의 원점부터 동공까지 거리 측정방법."}
{"patent_id": "10-2023-0013695", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제 6항에 있어서, 상기 비교선은, 일(l)자형, 반복(ㄹ)형, 요철(凹凸)형 중에서 어느 하나의 형상을 갖고 투영되어, 배경패턴에 시야 초점을 맞추는 과정에서 좌측 및 우측의 실측패턴이 합쳐지는 상태를 인지하도록 구성한 것을 특징으로 하는 3차원 증강현실 헤드업 디스플레이와 모노 카메라를 이용한 동공 사이 거리와 카메라 좌표계의 원점부터 동공까지 거리 측정방법."}
{"patent_id": "10-2023-0013695", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "공개특허 10-2024-0121002-4-제 1항 내지 제 7항 중에서 어느 한 항에 따라서 제작된 것을 특징으로 하는 3차원 증강현실 헤드업 디스플레이와 모노 카메라를 이용한 동공 사이 거리와 카메라 좌표계의 원점부터 동공까지 거리 측정장치."}
{"patent_id": "10-2023-0013695", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 3차원 증강현실 헤드업 디스플레이와 모노 카메라를 이용한 동공 사이 거리와 카메라 좌표계의 원점부 터 동공까지 거리 측정방법 및 그 장치에 관한 것으로, 보다 상세하게는 모노 카메라를 이용하여 동공 사이 거리 및 거리를 간편하고 정확하게 측정하기 위한 방법 및 장치에 관한 것이다. (뒷면에 계속)"}
{"patent_id": "10-2023-0013695", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 3차원 증강현실 헤드업 디스플레이와 모노 카메라를 이용한 동공 사이 거리와 카메라 좌표계의 원점 부터 동공까지 거리 측정방법 및 그 장치에 관한 것으로, 보다 상세하게는 모노 카메라를 이용하여 동공 사이 거리 및 거리(뎁스; depth; z)를 간편하고 정확하게 측정하기 위한 방법 및 장치에 관한 것이다."}
{"patent_id": "10-2023-0013695", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "3D(3-Dimensional; 3차원) AR(Augmented Reality; 증강현실) HUD((Head-up Display; 헤드업 디스플레이)(이하, 3D AR HUD라 통칭합니다)에서, 사용자 눈의 3D 초점 위치를 정확히 아는 것은 매우 중요하다. 2D(x,y)의 위치는 카메라를 이용한 비젼(Vision) 알고리즘, 인공지능 알고리즘 등으로 쉽게 측정이 가능하다. 그리고, 3D(x, y, z)의 위치는 카메라 좌표계의 원점부터 동공까지 거리(z)를 측정할 수 있는 ToF(Time of Flight) 센서 또는 스테레오(Stereo) 비전 카메라를 통해서 쉽게 측정이 가능한데, 이는 모노 카메라를 사용하 는 것에 비해 부가적인 비용이 발생하게 된다. 더욱이, 정확한 카메라 좌표계의 원점부터 동공까지 거리(z; 뎁스; depth)는 3D 그래픽이 흔들림 없고, 상이 두 개로 보이는 간섭(크로스톡, crosstalk)이 발생되지 않도록 하는데 매우 중요한 요소이다. 도 1에서와 같이 3D를 제대로 보기 위해서는 좌안(파란 영상)과 우안(빨간 영상)에 정확이 분리된 영상이 들어 가야 한다. 그렇기 위해서는 좌안과 우안이 각각 마름모꼴로 생긴 영역 내에 위치해야 한다. 만약 눈이 그 영역 을 벗어나면 좌안 우안의 영상이 섞여서 보이게 된다. 카메라 좌표계의 원점부터 동공까지 거리(distance of pupils from origin of camera coodinates) 좌표를 정확이 알고 있으면 표시지역(marked region)에 초점을 맞 춰 Margin(눈이 좌우로 움직여도 크로스톡(crosstalk)이 발생하지 않는 거리)이 가장 넓게 확보될 수 있도록 그 래픽을 랜더링해 보여 줄 수 있다. 그러나, 눈의 좌표가 정확하지 않으면 눈은 해당 영역을 벗어나게 되고, 이는 여러 좋지 않은 허상(visual artifact)의 원인이 되며 간섭여유(crosstalk margin)구간이 줄어들게 된다. 일반적으로, 카메라 좌표계의 원점부터 동공까지 거리(Origin of camera coodinates)를 측정하기 위한 대표적인 방법은, ToF(Time of Flight) 센서(sensor)를 이용해 방출된 빛이 되돌아오는 시간을 이용한 거리를 얻는 방법 과, 스테레오 비전(Stereo vision)을 이용해 2개의 카메라를 사용하여 2개의 이미지의 불일치에서 거리를 얻는 방법이 있었지만, 상기의 방법들은 카메라 좌표계의 원점부터 동공까지 거리를 측정하는데 시스템의 전체 비용 을 증가시키는 문제점이 있었다. 그리고, 이미지의 불일치를 방지하기 위해서는 정확한 동공 거리(IPD; Interpupillary Distance)를 측정하는 것 이 무엇보다 중요하며, 상기 동공 거리측정은 별도의 측정장비를 사용하거나 줄자를 이용하여 직접 거울을 보고 재는 방법이 있을 수 있다. 그러나, 상기한 동공 거리 측정장비 및 줄자를 이용해 직접 재는 방식은 사용자 경험(UX; User Experience)측면 에서 매우 불편하여 상품으로서의 가치가 저하되는 문제점이 있었다. 선행기술문헌 특허문헌 (특허문헌 0001) 대한민국 공개특허공보 제10-2001-0008536호. 3차원 입체영상장치 및 그 제작방법 (공개일자 2001년 02월 05일)"}
{"patent_id": "10-2023-0013695", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 2, "content": "발명의 내용"}
{"patent_id": "10-2023-0013695", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "상기와 같은 종래기술의 문제점을 해결하기 위한 것으로서, 본 발명은 3D AR HUD의 디스플레이에 패턴을 이동시 켜 사용자의 동공 사이 거리 및 카메라 좌표계의 원점부터 동공까지 거리를 간편하게 측정하도록 구성하는데 그 목적이 있다. 또, 본 발명은 모노 카메라를 이용하여, 사용자의 동공 거리 및 거리(뎁스; depth; z)를 간편하게 측정하여 상 이 두 개로 보이는 간섭현상(crosstalk)을 방지되게 구성하여 편의성 향상과 비용을 절감할 수 있도록 하는데 그 목적이 있다."}
{"patent_id": "10-2023-0013695", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "이와 같은 기술적 과제를 해결하기 위한 본 발명은, 3차원 증강현실 헤드업 디스플레이를 사용자가 착용하고, 눈의 초점을 투영체(M) 보다 먼 배경패턴(C1)에 맞추 는 측정 준비단계(S10); 제어부에 의해 투영체(M)의 좌측 및 우측에 실측패턴(C2)이 각각 투영되는 동공 사이 거리 준비단계(S20); 조작버튼에 의해 제어부는 실측패턴(C2)과 실측패턴(C2) 사이의 거리를 일정 간격 만큼 멀어지거나 또는 모여지 도록 이동시키는 실측패턴 조작단계(S30); 사용자의 좌안 및 우안이 배경패턴(C1)에 초점이 맞춰진 상태에서 상기 실측패턴 조작단계(S30)를 통해 이동하 는 실측패턴(C2)이 하나의 결합패턴(C3)으로 합쳐지는 구간을 선택하는 결합패턴 확인단계(S40); 상기 결합패턴 확인단계(S40)에서 선택된 좌측 및 우측의 실측패턴 사이의 거리(d)를 측정하는 동공 사이 거리 측정단계(S50)를 포함하여 달성된다. 또, 동공 사이 거리 측정단계(S50)에서, 동공 사이의 거리(IPD)는, d는 실측패턴 사이의 거리, L은 사용자의 동 공으로부터 배경패턴까지의 거리, z는 동공과 투영체(M) 사이의 거리를 의미하며, 카메라 캘리브레이션(Camera Calibration)을 통해 구해낼 수 있다. 또한, 상기 동공 사이 거리 측정단계(S50) 이후에는, IPD는 동공 사이의 거리, fx는 카메라의 초점거리(카메라 의 intrinsic parameters 중의 하나. 단위는 픽셀), d는 카메라의 image plane에서의 실측패턴 사이의 거리(단 위는 픽셀)를 의미하는 아래의 수학식 2를 통해 계산되어 카메라 좌표계의 원점부터 동공까지 거리(L)를 계산하 는 카메라 좌표계의 원점부터 동공까지 거리 측정단계(S70)를 포함할 수 있다. 또, 상기 측정 준비단계(S10)와 동공 사이 거리 준비단계(S20)에서, 상기 동공 사이 거리 준비단계(S20)는 보정 안경을 착용하고, 모노카메라를 이용해 동공 사이의 거리를 측정하는 카메라 측정단계(S60)로 대체될 수 있다. 또한, 상기 카메라 측정단계(S60)는, 안경테의 전면부 좌측과 우측에 안경패턴(C4)이 형성된 보정 안경을 사용 자가 착용하는 안경 준비단계(S61); 모노카메라에 촬영된 영상의 안경패턴과 안경패턴 사이의 거리(T2)와 제어 부에 입력된 실측 안경패턴 사이의 거리(T1)를 비교한 비율을 제어부에서 연산하는 안경패턴 거리측정단계 (S62); 모노카메라에 촬영된 사용자의 영상 동공 사이 거리에 상기 안경패턴 거리측정단계(S62)에서 연산된 비 율로 보정해 실측 동공 사이 거리를 연산하는 동공 사이 거리 계산단계(S63);를 포함할 수 있다. 또, 상기 실측패턴(C2)은, 투영체(M)에 투영되는 형상의 양측에 수직 방향의 비교선(a)이 배치되게 구성할 수 있다. 또한, 상기 비교선(a)은, 일(l)자형, 반복(ㄹ)형, 요철(凹凸)형 중에서 어느 하나의 형상을 갖고 투영되어, 배 경패턴(C1)에 시야 초점을 맞추는 과정에서 좌측 및 우측의 실측패턴(C2)이 합쳐지는 상태를 인지하도록 구성할 수 있다. 그리고, 본 발명은 상기의 방법에 의해 제작되는 동공 사이 거리와 카메라 좌표계의 원점부터 동공까지 거리를 측정하는 장치도 제공한다."}
{"patent_id": "10-2023-0013695", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "이러한 본 발명에 의하면, 3D AR HUD의 투영체에 패턴을 이동시켜 사용자의 동공 사이 거리 및 카메라 좌표계의 원점부터 동공까지 거리를 간편하게 측정하도록 구성하거나, 모노 카메라를 이용하여, 사용자의 동공 거리 및거리(depth; z)를 간편하게 측정하여 상이 두 개로 보이는 간섭현상을 방지해 증강현실(AR) 영상을 자유롭게 표 시하고 시청 피로를 방지할 수 있는 효과가 있다."}
{"patent_id": "10-2023-0013695", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명의 이점 및 특징, 그리고 그것들을 달성하는 방법은 첨부되는 도면과 함께 상세하게 설명되는 실시 예들 을 참조하면 명확해질 것이다. 그러나 본 발명은 아래에서 제시되는 실시 예들로 한정되는 것이 아니라, 서로 다른 다양한 형태로 구현될 수 있고, 본 발명의 사상 및 기술 범위에 포함되는 모든 변환, 균등물 내지 대체물 을 포함하는 것으로 이해되어야 한다. 아래에 제시되는 실시 예들은 본 발명의 개시가 완전하도록 하며, 본 발"}
{"patent_id": "10-2023-0013695", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "명이 속하는 기술분야에서 통상의 지식을 가진 자에게 발명의 범주를 완전하게 알려주기 위해 제공되는 것이다. 본 발명을 설명함에 있어서 관련된 공지 기술에 대한 구체적인 설명이 본 발명의 요지를 흐릴 수 있다고 판단되 는 경우 그 상세한 설명은 생략한다. 본 출원에서 사용한 용어는 단지 특정한 실시 예를 설명하기 위해 사용된 것으로, 본 발명을 한정하려는 의도가 아니다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 출원에서, \"포함한다\" 또는 \"가지다\" 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 동작, 구성요소, 부 품 또는 이들을 조합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되 어야 한다. 제1, 제2 등의 용어는 다양한 구성요소들을 설명하는데 사용될 수 있지만, 구성요소들은 상기 용어 들에 의해 한정되어서는 안된다. 상기 용어들은 하나의 구성요소를 다른 구성요소로부터 구별하는 목적으로만 사용된다. 이하, 본 발명에 따른 실시 예들을 첨부된 도면을 참조하여 상세히 설명하기로 하며, 첨부 도면을 참조하여 설 명함에 있어, 동일하거나 대응하는 구성요소는 동일한 도면부호를 부여하고 이에 대한 중복되는 설명은 생략한 다. 도 2는 본 발명인 3차원 증강현실 헤드업 디스플레이를 이용한 동공 사이 거리 및 카메라 좌표계 원점으로부터 동공까지 거리 측정방법에 대한 순서도이고, 도 3은 3D AR HUD의 허상 구현 원리를 도시한 개략도이며, 도 4는 본 발명에 따른 동공 사이의 거리를 측정하기 위한 개략도이고, 도 5은 본 발명에 따른 디스플레이의 실측 패턴 구성을 도시한 개략도이다. 도 6은 본 발명에 따른 허상 패턴이 IPD가 맞으면서 하나의 패턴으로 결합하는 과정을 도시한 개략도이고, 도 7 은 본 발명인 3차원 증강현실 헤드업 디스플레이를 이용한 동공 사이 거리 측정방법에 대한 개략도 이며, 도 8은 헤드 이동에 따른 카메라 좌표계의 원점부터 동공까지 거리(z; 뎁스; depth) 변화에 대한 개략도이고, 도 9 는 본 발명인 모노 카메라를 이용한 동공 사이 거리 측정방법 에 대한 개략도이고, 도 10은 본 발명에 따른 동 공 사이 거리를 이용한 카메라 좌표계의 원점부터 동공까지 거리 측정방법에 대한 개략도이다. 먼저 도 2에서와 같이 본원 발명은 측정 준비단계(S10)와, 동공 사이 거리 준비단계(S20), 실측패턴 조작단계 (S30), 결합패턴 확인단계(S40), 동공 사이 거리 측정단계(S50) 카메라 좌표계의 원점부터 동공까지 거리 측정 단계(S70)로 구분할 수 있다. 측정 준비단계(S10)는, 3차원 증강현실 헤드업 디스플레이를 사용자가 착용하고, 눈의 초점을 디스플레이 보다 먼 배경패턴(C1)에 맞추는 단계이며, 이는 도 2에서 디스플레이를 이용하여 허상(virtual image)이 형성되는 지 점 보다 더 먼 지점에 위치한 배경패턴(C1)에 초점을 맞추도록 한다. 상기 도 3은 허상 구현 원리를 설명하는 그림이며, 허상은 디스플레이(E)와 투영체(M) 사이의 거리와 동일한 거 리로 투영체 바깥쪽에 형성된다. 도 3에는 투영체가 평평하게 표현되어 있지만, 굴곡이 있는 유리도 가능하며, 이 경우에는 굴곡에 의한 왜곡을 보정하기 위한 작업이 추가되어야 하며, 허상의 거리도 디스플레이(E)와 투영 체(M) 사이의 거리와 다를 수 있다. 한편, 투영체(M)를 통해 영상이 허상으로 표시되므로 운전자는 투영체 건너 편의 실제물체인 배경패턴(C1)도 동시에 볼 수 있다. 동공 사이 거리 준비단계(S20)는, 제어부에 의해 도 4에서와 같이 투영체의 좌측 및 우측에 실측패턴(C2)이 각 각 투영되게 한 것으로, 상기 실측패턴(C2)은 좌측 및 우측에 소정의 폭을 갖고 서로 대비되는 색상(예로서 녹 색과 적색)을 구비한 수직선으로 형성되는데, 상기 실측패턴(C2)의 명확성을 위해 투영체에 투영되는 수직선 양 측에 수직 방향의 비교선(a)(예로서 흑색)이 배치되게 구성할 수 있다. 또한, 상기 비교선(a)은, 일(l)자형, 반복(ㄹ)형, 요철(凹凸)형 중에서 어느 하나의 형상을 갖고 투영되게 하여, 배경패턴(C1)에 초점을 맞추는 과정에서 상기 좌측 및 우측의 실측패턴(C2)이 하나로 합쳐지는 상태를 명 확히 인지할 수 있게 한다. 실측패턴 조작단계(S30)는, 상기 실측패턴(C2)을 좌,우 방향으로 이동시키는 단계이며, 사용자가 조작버튼을 누 르게 되면 제어부는 실측패턴(C2)과 실측패턴(C2) 사이의 거리를 일정 간격 만큼 멀어지거나 또는 모여지도록 이동시키는 단계이다. 결합패턴 확인단계(S40)는, 사용자의 좌안 및 우안이 배경패턴(C1)에 초점이 맞춰진 상태에서 도 5에서와 같이 멀리있는 배경패턴(C1)을 사용자가 볼 때 좌안,우안의 광축은 평행한 상태가 되므로, 투영체(M)에 투영되는 실 측패턴(C2)의 간격을 줄여가다 보면, 도 6에서와 같이 머리에 들어오는 좌,우측의 실측패턴(C2) 이미지가 하나 로 합쳐지는 순간이 발생되는데, 이때 조작버튼의 조작을 멈추면 두 눈의 간격(동공 사이의 간격)과 동일해지는 두 선의 간격을 획득할 수 있다. 동공 사이 거리 측정단계(S50)는, 도 7에서와 같이 상기 결합패턴 확인단계(S40)에서 선택된 좌측 및 우측의 실 측패턴 사이의 거리(d)를 측정하는 단계이며, 동공 사이의 거리(IPD)는 [수학식 1]과 같이 계산할 수 있다. 수학식 1"}
{"patent_id": "10-2023-0013695", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "여기에서, 동공 사이의 거리(IPD)는 사용자의 좌안 및 우안 사이의 거리이고, d는 결합패턴 확인단계(S40)에서 측정된 좌측 실측패턴과 우측 실측패턴 사이의 거리이며, L은 사용자의 동공으로부터 배경패턴까지의 거리, z는 동공과 투영체(M) 사이의 거리를 의미하며, 카메라 캘리브레이션(Camera Calibration)을 통해 구해낼 수 있다. 또, 도 8에서와 같이 헤드 이동에 따른 카메라 좌표계의 원점부터 동공까지 거리(z; 뎁스; depth) 변화에 대한 거리를 계산할 수 있다.사용자의 머리가 롤(Roll;x축)방향으로 rotation하거나 피치(Pitch; y축)방향으로 tilt하는 경우에는 좌표계의 원점부터 동공까지 거리(z; 뎁스; depth) 변화를 무시할 수 있는데, 사용자가 백미러나 사이드미러를 바라보기 위해 요(Yaw; z축) 방향으로 회전하는 경우에는 좌표계의 원점부터 동공까지 거리(z; 뎁스; depth) 변화가 증가 하여 [수학식 2]와 같이 계산된 보정이 필요하다. 수학식 2"}
{"patent_id": "10-2023-0013695", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "여기에서, 사용자의 머리가 요(Yaw; z축) 방향으로 회전하면 기존의 거리값에서 코사인 값만 곱하여 계산할 수 있다. 즉, P'은 원래 거리값이고, P는 보정된 값이다. 따라서, 사용자의 머리를 돌리면 코사인값이 작아지므로 거리가 늘어나게 되는데, 상기 값을 보정값에 반영하여 head yaw값의 세타값은 실시예에 따라서 헤드 트래깅 카메라 등에 의하여 구할 수 있다. 그리고, 상기 측정 준비단계(S10)와 동공 사이 거리 준비단계(S20)에서, 동공 사이의 거리는 보정 안경을 착용 하고, 모노카메라를 이용해 동공 사이의 거리를 측정하는 카메라 측정단계(S60)가 포함되는 것도 가능하다. 상기 카메라 측정단계(S60)는, 안경패턴(C4)이 전면 좌,우측에 구비된 안경을 사용자가 착용하고 이를 측정해 비율을 자동 계산하여 실제 거리를 연산하는 방식으로 안경 준비단계(S61)와, 안경패턴 거리측정단계(S62), 동 공 사이 거리 계산단계(S63)가 포함된다. 상기 안경 준비단계(S61)는, 도 9에서와 같이 안경테의 전면부 좌측과 우측에 안경패턴(C4)이 형성된 보정 안경 을 사용자가 착용하는 단계이며, 안경패턴 거리측정단계(S62)는, 준비된 모노카메라를 이용해 사용자가 착용하 고 있는 상태를 촬영한 영상에서 좌,우측에 구비된 안경패턴과 안경패턴 사이의 거리(T2)를 비젼(Vision) 측정 하여 제어부에서 입력된 실측 안경패턴 사이의 거리(T1)와 측정된 안경패턴과 안경패턴 사이의 거리(T2)를 비교 한 비율을 연산하는 단계이다. 동공 사이 거리 계산단계(S63)는, 상기 안경패턴 거리측정단계(S62)에서 모노카메라에 촬영된 사용자의 영상 동 공 사이 거리를, 상기 안경패턴 거리측정단계(S62)에서 연산된 비율로 보정해 실제 동공 사이의 거리(IPD)를 연 산해 제공하는 단계이며, 상기 동공 사이의 거리(IPD)를 이용해 도 10의 카메라 좌표계의 원점부터 동공까지 거 리(L)를 계산하도록 한다. 카메라 좌표계의 원점부터 동공까지 거리 측정단계(S70)는, 도 10에서와 같이 동공 사이 거리 측정단계(S50)에 서 얻어진 동공 사이의 거리(IPD)를 이용해 실측패턴 사이의 거리(d)를 [수학식 3]와 같이 계산할 수 있다. 수학식 3"}
{"patent_id": "10-2023-0013695", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "여기에서, L은 사용자의 동공으로부터 배경패턴까지의 거리이고, d는 카메라의 image plane에서의 실측패턴 사 이의 거리(단위는 픽셀)이며, IPD는 동공 사이 거리 측정단계(S50)에서 측정된 동공 사이의 거리이고, fx는 카 메라의 초점거리(카메라의 intrinsic parameters 중의 하나; 단위는 픽셀)를 의미한다.본 발명은 상기의 방법에 의해 제작되는 동공 사이 거리와 카메라 좌표계의 원점부터 동공까지 거리를 측정하는 장치도 제공하는 것도 포함할 수 있는데, 상기 측정 장치를 이용하여 동공 사이의 거리(IPD)를 측정한 비교표를 설명하면 다음과 같다. 도 11은, 3차원 증강현실 헤드업 디스플레이를 이용하여, 12명의 사용자에 대해 IPD를 측정한 값은 주황색으로 표시하였고, 실제 사용자의 IPD를 측정한 값은 청색으로 표시하여 이를 비교하였다. 이를 통해 본 발명에 의한 측정값과 실제 측정값은 평균적으로 대략 3mm 차이가 발생되었지만, 먼 거리의 배경 패턴에 집중하지 못하여 동공이 흔들리는 사용자에 의한 차이임으로 실제 IPD값과 비교해 정확한 결과를 보였 다. 도 12는, 보정안경을 이용하여 13명의 사용자에 대해서 측정한 값과 실제 사용자의 IPD 측정값의 차이값을 청색 으로 표시하고, 실제 사용자의 IPD 측정값과 평균 IPD의 차이값을 주황색으로 표시하였다. 이를 통해 본 발명에 의한 측정값 평균 격차(Gap)는 0.88mm, 평균 IPD에 의한 측정값 평균 격차는 3.7mm의 차이 가 있음을 알 수 있어, 본 발명이 제안하는 방법이 더 정확한 IPD 값을 측정하는 결과를 보였다. 이상의 설명은 본 발명의 기술 사상을 예시적으로 설명한 것에 불과한 것으로서, 본 발명이 속하는 기술 분야에 서 통상의 지식을 가진 자라면 본 발명의 본질적인 특성에서 벗어나지 않는 범위에서 다양한 수정 및 변형이 가 능하다. 본 발명에 개시된 실시예는 본 발명의 기술 사상을 한정하기 위한 것이 아니라 설명하기 위한 것이고, 이러한 실시예에 의하여 본 발명의 기술 사상의 범위가 한정되는 것은 아니다. 따라서, 본 발명의 사상은 상기 설명된 실시 예에 국한되어 정해져서는 아니 되며, 후술하는 특허청구범위뿐만 아니라 이 특허청구범위와 균등한 또는 이로부터 등가적으로 변경된 모든 범위는 본 발명의 사상의 범주에 속한 다고 할 것이다."}
{"patent_id": "10-2023-0013695", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 종래 3차원 증강현실 헤드업 디스플레이 장치의 영상간섭 상태를 도시한 개략도. 도 2는 본 발명인 3차원 증강현실 헤드업 디스플레이를 이용한 동공 사이 거리 및 카메라 좌표계 원점으로부터 동공까지 거리 측정방법에 대한 순서도. 도 3은 3D AR HUD의 허상 구현 원리를 도시한 개략도. 도 4는 본 발명에 따른 동공 사이의 거리를 측정하기 위한 개략도. 도 5는 본 발명에 따른 디스플레이의 실측 패턴 구성을 도시한 개략도. 도 6은 본 발명에 따른 허상 패턴이 IPD가 맞으면서 하나의 패턴으로 결합하는 과정을 도시한 개략도. 도 7은 본 발명인 3차원 증강현실 헤드업 디스플레이를 이용한 동공 사이 거리 측정방법에 대한 개략도. 도 8은 헤드 이동에 따른 카메라 좌표계의 원점부터 동공까지 거리(z; 뎁스; depth) 변화에 대한 개략도. 도 9는 본 발명인 모노 카메라를 이용한 동공 사이 거리 측정방법 에 대한 개략도. 도 10은 본 발명에 따른 동공 사이 거리를 이용한 카메라 좌표계의 원점부터 동공까지 거리 측정방법에 대한 개 략도. 도 11은 본 발명인 3차원 증강현실 헤드업 디스플레이를 이용한 동공 사이 거리 측정방법에 대한 비교표. 도 12는 본 발명인 모노 카메라를 이용한 동공 사이 거리 측정방법에 대한 비교표."}
