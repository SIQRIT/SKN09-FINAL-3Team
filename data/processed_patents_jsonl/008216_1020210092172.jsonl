{"patent_id": "10-2021-0092172", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0011655", "출원번호": "10-2021-0092172", "발명의 명칭": "질환 자동 진단을 위한 학습 데이터 생성 방법 및 그를 이용한 질환 자동 진단 시스템", "출원인": "주식회사 아이도트", "발명자": "정재훈"}}
{"patent_id": "10-2021-0092172", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "환자의 대변에 포함된 장내 미생물의 각 종(species)별 장내 분포량을 입력받아, 동일 종에 대해 환자별 장내분포량의 상대적 분포 위치를 분석하여 상기 각 종별 장내 분포량을 종별 컬러 패치들로 변환하는 단계와;상기 변환된 종별 컬러 패치들에서 생물 분류 체계 중 동일한 그룹에 속하는 종별 컬러 패치들을 취합하여 인공신경망 모델의 학습용 컬러 패치 이미지들로 생성하는 단계;를 포함함을 특징으로 하는 질환 자동 진단을 위한학습 데이터 생성 방법."}
{"patent_id": "10-2021-0092172", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "환자의 대변에 포함된 장내 미생물의 종(species)별 장내 분포량 정보를 입력받는 단계와;환자의 상기 장내 미생물의 각 종(species)별 장내 분포량을 종별 컬러 패치들로 변환하는 단계와;상기 변환된 상기 컬러 패치들에서 각 문(Phylum)에 속하는 종(species)들의 컬러 패치들로 구성되는 컬러 패치이미지를 생성하는 방식으로 각 환자에 대한 문(Phylum)별 컬러 패치 이미지들을 생성하는 단계와;각 환자에 대해 생성된 문(Phylum)별 컬러 패치 이미지들을 질환 진단을 위한 인공 신경망 모델의 학습 데이터로 저장하거나 학습 진행하는 단계;를 포함함을 특징으로 하는 질환 자동 진단을 위한 학습 데이터 생성 방법."}
{"patent_id": "10-2021-0092172", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "청구항 1 또는 청구항 2에 있어서, 상기 종별 컬러 패치들의 각각은,상기 장내 미생물의 각 종별 장내 분포량을 다른 환자의 장내 분포량과 비교했을 때의 상대적 분포 위치를 정규분포에서 찾아 그 상대적 분포 위치에 매칭되어 있는 컬러를 가짐을 특징으로 하는 질환 자동 진단을 위한 학습데이터 생성 방법."}
{"patent_id": "10-2021-0092172", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "청구항 2에 있어서, 상기 문(Phylum)별 컬러 패치 이미지는 최대 23개이며, 각 컬러 패치 이미지는 최대 64개의종(species)과 관련된 컬러 패치들을 포함함을 특징으로 하는 질환 자동 진단을 위한 학습 데이터 생성 방법."}
{"patent_id": "10-2021-0092172", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "청구항 2에 있어서, 상기 문(Phylum)별 컬러 패치 이미지들은 간염, 간경화 및 간암을 자동 진단하기 위한 인공신경망 모델을 학습시키기 위한 학습 데이터임을 특징으로 하는 질환 자동 진단을 위한 학습 데이터 생성 방법."}
{"patent_id": "10-2021-0092172", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "환자의 대변에 포함된 장내 미생물의 종(species)별 장내 분포량을 입력받아 종별 컬러 패치들로 변환하고, 변환된 상기 컬러 패치들에서 각 문(Phylum)에 속하는 종(species)들의 컬러 패치들로 구성되는 컬러 패치 이미지를 생성하는 방식으로 각 환자에 대한 다수의 문(Phylum)별 컬러 패치 이미지들을 학습 혹은 진단 데이터로 생성하는 질환 진단용 데이터 생성부와;서로 다른 경로로 입력되는 상기 문(Phylum)별 컬러 패치 이미지 각각을 입력 데이터 셋으로 하여 기계학습하기위한 학습모듈들과, 상기 학습모듈들에서 학습된 결과를 바탕으로 새로운 환자에 대한 다수의 문별 컬러 패치이미지들이 입력되었을 때 질환을 예측하여 출력하는 예측모듈을 포함하는 질환 진단부;를 포함함을 특징으로하는 질환 자동 진단 시스템."}
{"patent_id": "10-2021-0092172", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "청구항 6에 있어서, 상기 질환 진단용 데이터 생성부는,상기 장내 미생물의 각 종별 장내 분포량을 다른 환자의 장내 분포량과 비교했을 때의 상대적 분포 위치를 정규공개특허 10-2023-0011655-3-분포에서 찾아 그 상대적 분포 위치에 매칭되어 있는 컬러를 설정하는 방식으로 각 컬러 패치의 컬러를 설정함을 특징으로 하는 질환 자동 진단 시스템."}
{"patent_id": "10-2021-0092172", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "청구항 6에 있어서, 상기 학습모듈들 각각은 비젼 트랜스포머 알고리즘에 기반하여 기계학습하는 학습모듈임을특징으로 하는 질환 자동 진단 시스템."}
{"patent_id": "10-2021-0092172", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "청구항 6 내지 청구항 8중 어느 한 항에 있어서, 상기 질환 진단부는 상기 예측모듈의 예측 결과로서 알콜성 간염, 알콜성 간경화, 간암 중 하나를 출력함을 특징으로 하는 질환 자동 진단 시스템."}
{"patent_id": "10-2021-0092172", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 마이크로바이옴(microbiome)에 기반해 질환 자동 진단을 위한 학습 데이터를 생성하는 방법과 그에 의해 생성된 학습 데이터를 학습하여 질환을 자동 진단하는 시스템에 관한 것으로, 환자의 대변에 포함된 장내 미생물의 각 종(species)별 장내 분포량을 입력받아, 동일 종에 대해 환자별 장내 분포량의 상대적 분포 위치를 분석하여 상기 각 종별 장내 분포량을 종별 컬러 패치들로 변환하는 단계와; 상기 변환된 종별 컬러 패치들에서 생물 분류 체계 중 동일한 그룹에 속하는 종별 컬러 패치들을 취합하여 인공 신경망 모델의 학습용 컬러 패치 이 미지들로 생성하는 단계;를 포함함을 특징으로 한다."}
{"patent_id": "10-2021-0092172", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 인공 신경망을 이용한 질환 자동 진단 시스템에 관한 것으로, 특히 마이크로바이옴(microbiome)에 기 반해 질환 자동 진단을 위한 학습 데이터를 생성하는 방법과 그에 의해 생성된 학습 데이터를 학습하여 질환을 자동 진단하는 시스템에 관한 것이다."}
{"patent_id": "10-2021-0092172", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "인간은 인체 세포와 유전체 외에도 공생하고 있는 수많은 미생물의 세포와 유전자 특성을 섞어 놓은 초유기체 (super-organism)로서[Nature 2007; 449:804-810], 인체에 자연적으로 존재하는 모든 미생물 군의 집합체를 인 간 마이크로바이옴(human microbiome)이라 한다. 인체 미생물(human microbiota)은 피부, 구강, 치아, 생식기, 호흡기, 위장관 등 여러 신체 부위에 존재하나, 이 중 가장 많고 다양한 종류의 미생물을 보유하고 있는 곳은 위장관(gastrointestinal tract)이다[Nature 2012; 486:215-221]. 이러한 위장관은 약 4,000종(species)에서 10,000종 정도의 각기 다른 미생물 군집에 안정된 거주지를 제공하는 데, 이중에 간질환과 관련되었다고 알려진 미생물 종의 수는 약 1565개이다. 위장관 내 미생물(특히, 박테리아) 군집의 농도 및 다양성은 위치별로 상당한 차이가 있는데, 위(stomach) 내의 경우 가장 적은 분포를 보이는 반 면, 대장(large intestine)의 경우는 가장 많은 미생물이 분포한다. 인간 마이크로바이옴의 기본 구조와 변화 양상, 다양성 및 안정성(stability)에 관한 이해는 전세계적 마이크로 바이옴 컨소시엄에 의해 주도된 대규모 연구의 역할이 크다. 이 중 대표적인 것들로 미국국립보건원(US National Institutes of Health, NIH)에서 지원을 받는 HMP(Human Microbiome Project), 유럽 연합 집행 기관 (European Commission)의 지원을 받는 Meta-HIT (Metagenomics of the human intestinal tract), 인간 마이크 로바이옴 연구를 통한 데이터 자원 공유를 목적으로 구성된 IHMC(International Human Microbiome Consortiu m)등을 들 수 있다. 예시한 여러 기관들의 연구결과를 참조해 보면, 인체 내의 각종 미생물은 생체대사 조절 및 소화능력이나 각종 질병에 영향을 미치고, 환경변화에 따른 유전자 변형 및 다음 세대로 전달되는 과정 등 인체의 모든 기능에 영 향을 미치는 것으로 알려져 있다. 특히 알레르기나 비염, 아토피, 비만과 관련된 각종 대사, 면역질환, 장염, 심장병, 간질환 등이 마이크로바이옴과 관련된 것으로 보고되고 있다. 이러한 여러 기관의 보고들을 통해 알 수 있는 것은 마이크로바이옴이 특정 질병에 영향을 미치거나 질병과 상 관성이 있다는 것이기 때문에, 특정 질병과 관련성 있거나 질병에 영향을 미치는 마이크로바이옴을 식별해 낼 수 있다면 그만큼 질병 진단 및 질병 예방에 기여할 수 있을 것이다. 특히 인공 신경망을 이용한 질병(환) 진단 시스템을 구축함에 있어 질병에 영향을 미치는 마이크로바이옴(이하 미생물이라 함)을 식별하여 이를 이용해 인 공 신경망 모델을 사전 학습시켜 놓는다면, 보다 신속하고 편리하게 질병을 진단할 수 있는 시스템을 구축할 수 있을 것이다. 선행기술문헌특허문헌 (특허문헌 0001) 대한민국 공개특허공보 10-2021-0028765호 (특허문헌 0002) 대한민국 공개특허공보 제10-2020-0133067호"}
{"patent_id": "10-2021-0092172", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "이에 본 발명은 상술한 필요성에 따라 창안된 발명으로써, 본 발명의 주요 목적은 간질환에 영향을 미치는 장내 미생물을 식별하여 인공 신경망 모델을 학습시킬 수 있는 학습 데이터로 사용할 수 있는 간질환 자동 진단을 위 한 학습 데이터 생성 방법 및 그를 이용한 질환 진단 시스템을 제공함에 있으며, 더 나아가 본 발명의 또 다른 목적은 장내 미생물의 분포량에 따라 서로 다른 컬러 속성을 부여하되 장내에 존 재하는 모든 종류의 미생물을 식별할 수 있는 컬러 패치 이미지를 생성하여 인공 신경망 모델의 질환 학습용 데 이터로 사용할 수 질환 자동 진단을 위한 학습 데이터 생성 방법을 제공함에 있다."}
{"patent_id": "10-2021-0092172", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "전술한 목적을 달성하기 위한 본 발명의 실시예에 따른 질환 자동 진단을 위한 학습 데이터 생성 방법은 컴퓨터 시스템에서 실행 가능한 방법으로서, 환자의 대변에 포함된 장내 미생물의 각 종(species)별 장내 분포량을 입력받아, 동일 종에 대해 환자별 장내 분포량의 상대적 분포 위치를 분석하여 상기 각 종별 장내 분포량을 종별 컬러 패치들로 변환하는 단계와; 상기 변환된 종별 컬러 패치들에서 생물 분류 체계 중 동일한 그룹에 속하는 종별 컬러 패치들을 취합하여 인공 신경망 모델의 학습용 컬러 패치 이미지들로 생성하는 단계;를 포함함을 특징으로 한다. 본 발명의 또 다른 실시예에 따른 질환 자동 진단을 위한 학습 데이터 생성 방법 역시 컴퓨터 시스템에서 실행 가능한 방법으로서, 환자의 대변에 포함된 장내 미생물의 종(species)별 장내 분포량 정보를 입력받는 단계와; 환자의 상기 장내 미생물의 각 종(species)별 장내 분포량을 종별 컬러 패치들로 변환하는 단계와; 상기 변환된 상기 컬러 패치들에서 각 문(Phylum)에 속하는 종(species)들의 컬러 패치들로 구성되는 컬러 패치 이미지를 생성하는 방식으로 각 환자에 대한 문(Phylum)별 컬러 패치 이미지들을 생성하는 단계와; 각 환자에 대해 생성된 문(Phylum)별 컬러 패치 이미지들을 질환 진단을 위한 인공 신경망 모델의 학습 데이터 로 저장하거나 학습 진행하는 단계;를 포함함을 특징으로 한다. 상술한 구성을 포함하는 학습 데이터 생성 방법에 있어서, 상기 종별 컬러 패치들의 각각은, 상기 장내 미생물의 각 종별 장내 분포량을 다른 환자의 장내 분포량과 비교했을 때의 상대적 분포 위치를 정규 분포에서 찾아 그 상대적 분포 위치에 매칭되어 있는 컬러를 가짐을 특징으로 하며, 상기 문(Phylum)별 컬러 패치 이미지는 최대 23개이며, 각 컬러 패치 이미지는 최대 64개의 종(species)과 관련 된 컬러 패치들을 포함함을 또 다른 특징으로 한다. 더 나아가 상기 문(Phylum)별 컬러 패치 이미지들은 간염과 간경화, 간암과 같은 간질환을 자동 진단하기 위한 인공 신경망 모델을 학습시키기 위한 학습 데이터임을 특징으로 한다. 한편 본 발명의 또 다른 실시예에 따른 질환 자동 진단 시스템은, 환자의 대변에 포함된 장내 미생물의 종(species)별 장내 분포량을 입력받아 종별 컬러 패치들로 변환하고, 변 환된 상기 컬러 패치들에서 각 문(Phylum)에 속하는 종(species)들의 컬러 패치들로 구성되는 컬러 패치 이미지 를 생성하는 방식으로 각 환자에 대한 다수의 문(Phylum)별 컬러 패치 이미지들을 학습 데이터 혹은 진단 데이 터로 생성하는 질환 진단용 데이터 생성부와;서로 다른 경로로 출력되는 상기 문(Phylum)별 컬러 패치 이미지 각각을 입력 데이터 셋으로 하여 기계학습하기 위한 학습모듈들과, 상기 학습모듈들에서 학습된 결과를 바탕으로 새로운 환자에 대한 다수의 문별 컬러 패치 이미지들이 입력되었을 때 질환을 예측하여 출력하는 예측모듈을 포함하는 질환 진단부;를 포함함을 특징으로 하며, 상기 질환 진단용 데이터 생성부는 상기 장내 미생물의 각 종별 장내 분포량을 다른 환자의 장내 분포량과 비교 했을 때의 상대적 분포 위치를 정규 분포에서 찾아 그 상대적 분포 위치에 매칭되어 있는 컬러를 설정하는 방식 으로 각 컬러 패치의 컬러를 설정함을 특징으로 한다. 더 나아가 상기 학습모듈들 각각은 비젼 트랜스포머 알고리즘에 기반하여 기계학습하는 학습모듈임을 특징으로 한다."}
{"patent_id": "10-2021-0092172", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "상술한 기술적 과제 해결 수단에 따르면, 본 발명의 실시예에 따른 질환 자동 진단을 위한 학습 데이터 생성 방 법은 수치로 표현된 장내 미생물의 종류와 분포량을 컬러 비쥬얼 이미지로 전환하여 인공지능 학습에 이용할 수 있기 때문에, 진단을 필요로 하는 자의 대변 채취만으로도 간경화, 알콜성 간염과 같은 간질환을 자동 진단할 수 있는 시스템을 구축할 수 있는 장점이 있다. 또한 본 발명의 실시예에 따른 질환 자동 진단 시스템 역시 질환을 앓고 있는 환자들의 각 장내에 서식하는 모 든 미생물의 분포량을 서로 다른 컬러 패치로 변환하고, 이들 컬러 패치들을 하나의 이미지로 만들어 모든 종류 의 미생물 분포량을 담고 있는 복수의 이미지들을 학습해 놓으면, 일반인의 대변 채취만으로도 선 학습된 인공 신경망 모델을 이용해 환자의 간경화, 간염, 간암과 같은 질환을 자동 진단할 수 있는 편리함이 있다."}
{"patent_id": "10-2021-0092172", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "후술하는 본 발명에 대한 상세한 설명은, 본 발명의 목적들, 기술적 해법들 및 장점들을 분명하게 하기 위하여 본 발명이 실시될 수 있는 특정 실시예를 예시로서 도시하는 첨부 도면을 참조한다. 이들 실시예는 통상의 기술 자가 본 발명을 실시할 수 있기에 충분하도록 상세히 설명된다. 또한 본 발명의 상세한 설명 및 청구항들에 걸 쳐, '포함하다'라는 단어 및 그 변형은 다른 기술적 특징들, 부가물들, 구성요소들 또는 단계들을 제외하는 것으로 의도된 것이 아니다. 통상의 기술자에게 본 발명의 다른 목적들, 장점들 및 특성들이 일부는 본 설명서로 부터, 그리고 일부는 본 발명의 실시로부터 드러날 것이다. 아래의 예시 및 도면은 실례로서 제공되며, 본 발명 을 한정하는 것으로 의도된 것이 아니다. 더욱이 본 발명은 본 명세서에 표시된 실시예들의 모든 가능한 조합들 을 망라한다. 본 발명의 다양한 실시예는 서로 다르지만 상호 배타적일 필요는 없음이 이해되어야 한다. 또한, 각각의 개시된 실시예 내의 개별 구성요소의 위치 또는 배치는 본 발명의 사상 및 범위를 벗어나지 않으면서 변 경될 수 있음이 이해되어야 한다. 따라서, 후술하는 상세한 설명은 한정적인 의미로서 취하려는 것이 아니며, 본 발명의 범위는, 적절하게 설명된다면, 그 청구항들이 주장하는 것과 균등한 모든 범위와 더불어 첨부된 청구 항에 의해서만 한정된다. 아울러 본 명세서에서 달리 표시되거나 분명히 문맥에 모순되지 않는 한, 단수로 지칭 된 항목은, 그 문맥에서 달리 요구되지 않는 한, 복수의 것을 아우른다. 또한, 본 발명을 설명함에 있어, 관련 된 공지 구성 또는 기능에 대한 구체적인 설명이 본 발명의 요지를 흐릴 수 있다고 판단되는 경우에는 그 상세 한 설명은 생략하기로 한다. 도 1은 본 발명의 일 실시예에 따른 질환 자동 진단 시스템의 구성도를 예시한 것이며, 도 2는 도 1 중 질환 진 단부의 구성을 보다 구체적으로 예시한 것이다. 도 1을 설명하기에 앞서, 본 발명의 실시예에 따른 질환 자동 진단 시스템은 컴퓨터 시스템의 저장수단에 설치되어 메인 프로세서에 의해 실행 가능한 응용 프로그램 데 이터의 집합체로 구현될 수 있다. 이에 하기에서는 컴퓨터 시스템의 하드웨어적 구성에 대한 상세 설명은 생략하기로 하고, 논리적으로 다수의 모듈과 기능 블럭들을 구획 가능한 질환 자동 진단 시스템의 구성에 대해 부연 설명하기로 한다. 아울러 본 발명의 실시예에서는 간경화, 알콜성 간염과 같은 간질환을 자동 진단할 수 있는 시스템을 가정하여 본 발명의 실시예를 설명하기로 한다. 도 1을 참조하면, 본 발명의 실시예에 따른 질환 자동 진단 시스템은, 환자의 대변에 포함된 장내 미생물의 종(species)별 장내 분포량을 입력받아 종별 컬러 패치(patch)들로 변환하 고, 변환된 상기 컬러 패치들에서 생물 분류 체계인 '종속과목강문계' 체계에서의 동일한 그룹, 예를 들면 각 문(Phylum)에 속하는 종(species)들의 컬러 패치들(C1, C2, ..Cn)로 구성되는 컬러 패치 이미지를 생성하는 방 식으로 각 환자에 대한 다수의 문(Phylum)별 컬러 패치 이미지들을 학습 데이터(도 1에 예시) 혹은 질환 진단용 데이터로 생성하는 질환 진단용 데이터 생성부와, 서로 다른 경로로 입력되는 상기 문(Phylum)별 컬러 패치 이미지 각각을 입력 데이터 셋으로 하여 기계학습하기 위한 학습모듈들(105-120)과, 상기 학습모듈들(105-120)에서 학습된 결과를 바탕으로 새로운 환자에 대한 다수 의 문별 컬러 패치 이미지들이 입력되었을 때 질환을 예측하여 표시장치로 출력하는 예측모듈을 포함하는 질환 진단부를 포함한다. 이러한 질환 진단부는 기계학습에 의해 학습된 결과를 바탕으로 입력 데이 터에 대한 질환을 예측할 수 있어 하나의 인공 신경망 모델이라 할 수도 있을 것이다. 참고적으로 상기 질환 진단용 데이터 생성부는 장내 미생물의 각 종(species)별 장내 분포량을 다른 환자 의 장내 분포량과 비교했을 때의 상대적 분포 위치를 정규 분포에서 찾아 그 상대적 분포 위치에 매칭되어 있는 컬러를 설정하는 방식으로 각 컬러 패치의 컬러를 설정할 수 있다. 또한 도 1에 도시한 질환 진단용 데이터 생성부는 학습 모드에서는 학습 데이터를 생성하지만 일반 진단 모드에서는 각 환자에 대한 다수의 문별 컬러 패치 이미지들(질환 진단용 데이터에 해당함)을 생성하여 다수의 학습모듈들(105-120)로 전달한다. 한편 질환 진단부를 구성하는 학습모듈(105-120)들 각각은 도 2에 도시한 바와 같이 비젼 트랜스포머 (Vision Transformer) 알고리즘에 기반하여 기계학습하는 학습모듈일 수 있다. 상기 비젼 트랜스포머는 구글 리 서치에서 ICLR에 제출하여 공개된 논문(An Image is Worth 16*16 Words:Transformers for Image Recognition at scale)에 게시된 기술을 활용할 수 있다. 즉, 본 발명의 실시예에 따른 질환 자동 진단 시스템은 질환을 앓고 있는 환자들의 각 장내에 서식하는 모든 미 생물의 분포량을 서로 다른 컬러 패치로 표시하고, 이들 컬러 패치들을 하나의 이미지로 만들어 모든 종류의 미 생물 분포량을 담고 있는 복수의 이미지들을 학습해 만들어지는 인공 신경망 모델을 이용해 특정 질환을 진단하 는 시스템이라 할 수 있다. 참고적으로, 각 환자의 대변에 포함된 장내 미생물의 종(species)별 장내 분포량은 통신망을 통해 컴퓨터 시스템에 전달되는 방식으로 입력될 수도 있고, 외부 저장매체(ex:USB)에 저장되어 컴퓨 터 시스템에 의해 액세스될 수도 있으며, 사전에 컴퓨터 시스템의 메모리에 저장되어 액세스될 수 있다. 이하 장내 미생물 분포량을 담고 있는 복수의 이미지들, 즉 컬러 이미지 형태의 학습 데이터를 생성하는 방법을 보다 구체적으로 설명하기로 한다. 우선 도 3은 본 발명의 일 실시예에 따른 질환 자동 진단을 위한 학습 데이터 생성 흐름도를 도시한 것이며, 도 4는 본 발명의 실시예에 따른 종(species)별 컬러 패치의 생성 예시도를, 도 5는 본 발명의 실시예에 따른 문 (Pehylum)별 컬러 패치 이미지를 각각 예시한 것이다. 도 3을 참조하면, 우선 본 발명의 실시예에 따른 질환 진단용 데이터 생성부는 환자의 대변에 포함된 장내 미생물의 각 종(species)별 장내 분포량 정보를 입력(수신)받는다(S100단계). 보통 1건의 대변에 포함된 장내 미생물의 분포를 수치(이하 분포량이라 함)로 표현하면 장내 미생물의 '종속과 목강문계' 체계에서 가장 세분화된 종(species)을 포함해 속(Genus), 문(Phylum) 그룹으로 쪼개어 수치로 표현 된다. 의학계의 보고에 따르면 1건의 대변에 간질환과 관련된 장내 미생물은 약 1,565종이고, 이를 문(Phylum) 으로 분류하면 약 23문(Phylum)이 존재하며, 각 문 안에는 다양한 종(약 68종/문당)이 존재한다고 한다. 아울러 간질환을 앓고 있는 환자들의 장내 미생물을 분석한 결과 하기와 같은 결과를 얻을 수 있었다고 한다. 표 1 비알콜 정상 알콜성 간염 알콜성 간경화 Phylum(문) 23 categories 15 categories 18 categoriesGenus(속) 575 categories 454 categories 420 categories Species(종) 1565 categories 1398 categories 1161 categories 이러한 의학계의 보고자료를 참조해 볼 때, 이미지 한 장이 하나의 문(Phylum)이라고 가정했을 때, 그리고 각 문에 해당하는 이미지를 64개의 패치로 구성한다면 약 23개의 이미지로 간질환과 관련된 모든 종의 분포량 정보 를 표현할 수 있다. 이에 질환 진단용 데이터 생성부는 다수 환자들의 대변을 채취하여 얻어진 각 환자의 장내 미생물의 종별 장내 분포량 정보를 입력받아 각 종(species)별 장내 분포량을 표현할 수 있는 컬러 패치로 우선 변환(S110단계)한다. 하기에서 각 패치는 하나의 종을 나타내는 것이며, 컬러는 동일 장내 미생물 종에 대하여 다른 환자들과의 장내 분포량 차이를 나타내는 것으로 이해하는 것이 바람직하다. 각 장내 미생물의 종별 장내 분포량을 컬러 패치로 변환(혹은 생성)하는 방법은 정규 분포상의 상대적 위치를 이용할 수 있다. 즉, 도 4에 도시한 바와 같이 장내 미생물의 각 종별(미생물 1, 미생물 2, 미생물 64,..) 장내 분포량을 다른 환자의 장내 분포량과 비교했을 때의 상대적 분포 위치를 정규 분포에서 찾아 그 상대적 분포 위 치에 매칭되어 있는 컬러를 설정해 주는 방식으로 각 종별 컬러 패치를 생성할 수 있다. 이후 질환 진단용 데이터 생성부는 상기 변환된 컬러 패치들에서 동일 그룹, 예를 들면 동일 문(Phylum)에 속하는 종(species)들의 컬러 패치들로 구성되는 컬러 패치 이미지를 생성하는 방식으로 각 환자에 대한 문 (Phylum)별 컬러 패치 이미지들을 생성(S120단계)한다. 이와 같이 생성된 각 문(Phylum)별 컬러 패치 이미지의 하나를 도 5에 도시하였다. 도 5를 참조해 보면, 환자 1의 대변에 포함되어 있는 장내 미생물 1 내지 장내 미생물 64는 하나의 문(Phylum) 에 속하는 종들이며, 이들 각 종의 장내 분포량은 왼쪽에 기재한 수치와 같고, 이들 각 종의 장내 분포량을 다 른 환자의 장내 분포량과 비교했을 때의 상대적 분포 위치를 정규 분포에서 찾아 그 상대적 분포 위치에 매칭되 어 있는 컬러가 C1, C2,..C64인 것을 도시한 것이며, 이들을 취합해 하나의 컬러 패치 이미지로 만든 것이 바로 우측에 도시한 환자 1의 문(Phylum) 3 이미지이다. 23개의 문(Phylum)에 대해 상술한 방식으로 컬러 패치 이미지를 생성한 질환 진단용 데이터 생성부는 이후 각 환자에 대해 생성된 문(Phylum)별 컬러 패치 이미지들을 질환 진단을 위한 인공 신경망 모델의 학습 데이터 로 저장(S130단계)하거나 인공 신경망 모델로 전달하여 학습 진행한다. 이상에서 설명한 본 발명의 실시예에 따른 질환 자동 진단을 위한 학습 데이터 생성 방법은 수치로 표현된 장내 미생물의 종류와 분포량을 비쥬얼 이미지로 전환하여 인공지능 학습에 이용할 수 있기 때문에, 진단을 필요로 하는 자의 대변 채취만으로도 간경화, 알콜성 간염과 같은 간질환을 자동 진단할 수 있는 시스템을 구축할 수 있는 장점이 있다. 이하 상술한 바와 같은 학습 데이터를 이용해 인공 신경망 모델을 학습시키고 그에 기반하여 질환을 자동 진단 하는 시스템의 동작을 도 1과 도 2를 참조하여 부연 설명하기로 한다. 우선 도 1에서 인공 신경망 모델인 질환 진단부는 다수의 학습모듈(105-120)과 예측모듈을 포함한다. 학습모듈(105-120)은 23문의 컬러 패치 이미지들을 각각 독립적으로 처리하기 위해 문별 컬러 패치 이미지들의 수와 동 수로 존재한다. 본 발명의 실시예에서 상기 학습모듈들(105-120) 각각은 도 2에 상세 도시한 바와 같이 비젼 트랜스포머 알고리즘에 기반하여 기계 학습하는 학습모듈이다. 구글 리서치에서 ICLR에 제출하여 공개된 논문(An Image is Worth 16*16 Words:Transformers for Image Recognition at scale)에 게시되어 있는 바와 같이, 비젼 트랜스포머는 패치 임베딩과 스택형 트랜스포머 인코 더를 통한 특징 추출, 분류 헤드를 포함한다. 이에 비젼 트랜스포머는 우선 컬러 패치 이미지를 패치 단위로 분 리하여 평탄화 처리하며 평탄화 처리된 패치를 선형으로 투영하는 방법으로 학습 진행한다. 또한 비젼 트랜스포 머는 임베딩된 패치들의 맨 앞에 하나의 학습 가능한 클라스 토큰 임베딩 벡터를 추가하며 포지션 임베딩이 더 해진다. 이러한 트랜스포머의 상세 동작은 논문 내용을 참조하기로 하고, 주요한 것은 각 학습모듈이 앞단에서 생성된 입력 데이터셋(학습용 문별 컬러 패치 이미지들)에 대하여 기계학습을 실행함으로써, 각각의 학습모듈은 각 문 별 컬러 패치 이미지를 구성하는 컬러 패치의 분포에 대해 간질환 여부를 나타내는 클라스 결과값(간염, 간암,간경화 등)을 학습한다는 것이다. 이와 같이 질환 진단용 데이터 생성부에서 생성된 문(Phylum)별 컬러 패치 이미지들에 대해서 학습모듈 (105-120)의 학습이 완료되면, 이후 진단모드에서는 질환 진단을 위한 데이터, 즉 질환 진단용 데이터 생성부 에서 생성된 각 문별 컬러 패치 이미지가 학습모듈(105-120)로 입력된다. 이에 각각의 학습모듈에서는 입 력되는 각 문별 컬러 패치 이미지에 학습에 의한 중간 결과값이 출력되고, 이러한 중간 결과값들은 도 2에 도시 한 바와 같이 완전 연결층(fully connected)을 구성하는 노드들에 전달됨으로써, 예측모듈은 완전 연결층 의 출력값을 분석하여, 예를 들면 회귀 분석을 통해 진단 데이터에 대해 알콜성 간염 혹은 알콜성 간경화 혹은 간암 등을 진단 결과로서 예측 출력한다. 따라서, 본 발명의 실시예에 따른 질환 자동 진단 시스템 역시 질환을 앓고 있는 환자들의 각 장내에 서식하는 모든 미생물의 분포량을 서로 다른 컬러 패치로 변환하고, 이들 컬러 패치들을 하나의 이미지로 만들어 모든 종 류의 미생물 분포량을 담고 있는 복수의 이미지들을 학습해 놓으면, 일반인의 대변 채취만으로도 학습된 인공 신경망 모델을 이용해 환자의 간경화, 간염과 같은 질환을 자동 진단할 수 있는 편리함이 있다"}
{"patent_id": "10-2021-0092172", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "이상 본 발명은 도면에 도시된 실시예들을 참고로 설명하였으나 이는 예시적인 것에 불과하며, 당해 기술분야에 서 통상의 지식을 가진자라면 이로부터 다양한 변형 및 균등한 타실시예가 가능하다는 점을 이해할 것이다. 예 를 들면 본 발명의 실시예에서는 간질환을 진단하는 시스템을 가정해 본 발명의 실시예를 설명하였으나, 별다른 변형 없이 장내 미생물의 종별 분포량을 분석하여 질환을 진달할 수 있는 모든 경우에 동일하게 적용할 수 있다. 따라서 본 발명의 진정한 기술적 보호범위는 첨부된 특허청구범위에 의해서만 정해져야 할 것이다.도면 도면1 도면2 도면3 도면4 도면5"}
{"patent_id": "10-2021-0092172", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 질환 자동 진단 시스템의 구성 예시도. 도 2는 도 1 중 질환 진단부의 구성 예시도. 도 3은 본 발명의 일 실시예에 따른 질환 자동 진단을 위한 학습 데이터 생성 흐름도. 도 4는 본 발명의 실시예에 따른 종(species)별 컬러 패치의 생성 예시도. 도 5는 본 발명의 실시예에 따른 문(Pehylum)별 컬러 패치 이미지의 예시도."}
