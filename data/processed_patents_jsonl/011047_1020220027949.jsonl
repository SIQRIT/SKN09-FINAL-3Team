{"patent_id": "10-2022-0027949", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2022-0149414", "출원번호": "10-2022-0027949", "발명의 명칭": "이종의 센서로 제공되는 이종의 데이터를 처리하기 위한 퓨전-인공신경망을 위해 구현되는", "출원인": "주식회사 딥엑스", "발명자": "김녹원"}}
{"patent_id": "10-2022-0027949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "컴파일된 퓨전-인공신경망의 머신 코드를 입력받도록 구성된 제어부;상기 퓨전-인공신경망에 대응되는 복수의 입력 신호를 수신받도록 구성된 입력부;상기 퓨전-인공신경망 연산을 수행하도록 구성된 프로세싱 엘리먼트 어레이;상기 퓨전-인공신경망 연산의 특수 기능을 수행하도록 구성된 특수 기능 유닛; 및 상기 퓨전-인공신경망 연산 데이터를 저장하도록 구성된 온-칩 메모리;를 포함하고,상기 제어부는, 상기 머신-코드에 포함된 인공신경망 데이터 지역성 정보에 따라 상기 퓨전-인공신경망의 모든연산 순서가 기 설정된 순서대로 처리되도록, 상기 프로세싱 엘리먼트 어레이, 상기 특수 기능 유닛 및 상기 온-칩 메모리를 제어하도록 구성된 스케줄러를 포함하는, 신경 프로세싱 유닛."}
{"patent_id": "10-2022-0027949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 입력부는, 카메라, 편광 카메라, 3D 카메라, 근적외선 카메라, 열화상 카메라, 레이더, 라이다, 및 초음파센서 중 적어도 하나로부터 감지된 신호를 입력받도록 구성된, 신경 프로세싱 유닛."}
{"patent_id": "10-2022-0027949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 퓨전-인공신경망은, 스마트 크루즈 컨트롤, 자동 긴급 제동 시스템, 주차 조향 보조 시스템, 차선 이탈 경보 시스템, 차선 유지 지원 시스템, 졸음 감지, 음주 감지, 더위 및 추위 감지, 부주의 감지 등을 추론하도록학습된 퓨전-인공신경망인 것을 특징으로 하는, 신경 프로세싱 유닛."}
{"patent_id": "10-2022-0027949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 입력부는, 이종의 데이터를 입력받도록 구성된, 신경 프로세싱 유닛."}
{"patent_id": "10-2022-0027949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서,상기 특수 기능 유닛은 인공신경망 퓨전을 위한, Skip-connection 및 Concatenation 중 적어도 하나의 기능을더 포함하는, 신경 프로세싱 유닛."}
{"patent_id": "10-2022-0027949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에 있어서,상기 스케줄러는, 상기 인공신경망 데이터 지역성 정보에 기초하여 상기 온-칩 메모리에 저장된 특정 데이터를상기 퓨전-인공신경망의 특정 연산 단계까지 보호하도록, 상기 온-칩 메모리를 제어하도록 구성된, 신경 프로세싱 유닛."}
{"patent_id": "10-2022-0027949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제1항에 있어서,공개특허 10-2022-0149414-3-상기 프로세싱 엘리먼트 어레이에 의해서 Classification, Semantic segmentation, Object detection, 및Pridection 중 적어도 하나의 추론 연산을 처리하도록 학습된 상기 퓨전-인공신경망의 적어도 하나의 추론 결과를 출력하도록 구성된 출력부를 더 포함하는, 신경 프로세싱 유닛."}
{"patent_id": "10-2022-0027949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제1항에 있어서,상기 프로세싱 엘리먼트 어레이는 복수의 쓰레드를 더 포함하고,상기 제어부는 상기 인공신경망 데이터 지역성에 기초하여 상기 퓨전-인공신경망의 병렬 구간을 처리하도록 상기 복수의 쓰레드를 제어하도록 구성된, 신경 프로세싱 유닛."}
{"patent_id": "10-2022-0027949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "퓨전-인공신경망의 머신 코드를 입력받도록 구성된 제어부;상기 머신 코드에 기초하여 상기 퓨전-인공신경망의 연산을 수행하도록 구성된 프로세싱 엘리먼트 어레이; 및상기 프로세싱 엘리먼트 어레이에서 처리된 합성곱 연산값을 입력받아 대응되는 특수 기능을 연산하도록 구성된특수 기능 유닛을 포함하고,상기 특수 기능 유닛은 복수의 기능 유닛들을 포함하고,상기 특수 기능 유닛은 상기 머신-코드에 포함된 인공신경망 데이터 지역성 정보에 따라 복수의 기능 유닛들 중적어도 일부를 선택적으로 제어하도록 구성된, 신경 프로세싱 유닛."}
{"patent_id": "10-2022-0027949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서,상기 복수의 기능 유닛들은 파이프라인 구조로 구성된, 신경 프로세싱 유닛."}
{"patent_id": "10-2022-0027949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제9항에 있어서,상기 복수의 기능 유닛들은 제어부에 의해서 선택적으로 활성화 되도록 구성된, 신경 프로세싱 유닛."}
{"patent_id": "10-2022-0027949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제9항에 있어서,상기 복수의 기능 유닛들은 제어부에 의해서 선택적으로 비활성화 되도록 구성된, 신경 프로세싱 유닛."}
{"patent_id": "10-2022-0027949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제9항에 있어서,상기 복수의 기능 유닛들 각각은 제어부에 의해서 특정 연산 단계마다 선택적으로 클럭 게이팅 및/또는 파워 게이팅 되도록 구성된, 신경 프로세싱 유닛."}
{"patent_id": "10-2022-0027949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제9항에 있어서,상기 퓨전-인공신경망에 대응되는 복수의 입력 신호를 수신받도록 구성된 입력부; 및 상기 퓨전-인공신경망 연산 데이터를 저장하도록 구성된 온-칩 메모리;를 더 포함하는, 신경 프로세싱 유닛."}
{"patent_id": "10-2022-0027949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제9항에 있어서,상기 퓨전-인공신경망에 대응되는 복수의 입력 신호를 배치 모드로 수신받도록 구성된 배치 입력부;공개특허 10-2022-0149414-4-상기 퓨전-인공신경망 연산 데이터를 배치 모드로 저장하도록 구성된 온-칩 메모리; 및상기 프로세싱 엘리먼트 어레이에 의해서 Classification, Semantic segmentation, Object detection, 및Pridection 중 적어도 하나의 추론 연산을 배치 모드로 처리한 추론 결과를 출력하도록 구성된 출력부를 더 포함하는, 신경 프로세싱 유닛."}
{"patent_id": "10-2022-0027949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "퓨전-인공신경망의 머신 코드를 입력받도록 구성된 제어부, 적어도 하나의 입력 신호를 수신받도록 구성된 입력부, 합성곱 연산을 수행하도록 구성된 프로세싱 엘리먼트 어레이 및 상기 합성곱 연산 결과를 저장하도록 구성된 온-칩 메모리를 포함하는 적어도 하나의 신경 프로세싱 유닛; 및 상기 적어도 하나의 신경 프로세싱 유닛의 연속된 메모리 오퍼레이션 요청들을 예측할 수 있는 상기 퓨전-인공신경망의 인공신경망 데이터 지역성 정보를 제공받도록 구성되고, 상기 인공신경망 데이터 지역성 정보에 기초하여, 대응되는 상기 적어도 하나의 신경 프로세싱 유닛이 요청할 상기 다음 메모리 오퍼레이션 요청을 사전에캐싱하도록 구성된 메모리를 포함하는, 메모리 제어부;를 포함하는, 시스템."}
{"patent_id": "10-2022-0027949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제16항에 있어서,상기 신경 프로세싱 유닛은 복수개이고, 각각의 신경 프로세싱 유닛의 제어부에 입력되는 상기 퓨전-인공신경망의 머신 코드는 상기 복수의 신경 프로세싱 유닛에서 병렬 처리되도록 구성된, 시스템."}
{"patent_id": "10-2022-0027949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "제16항에 있어서,상기 신경 프로세싱 유닛은 복수개이고, 상기 메모리 제어부는 상기 복수의 신경 프로세싱 유닛의 병렬처리를 직접 제어하도록 구성된, 시스템."}
{"patent_id": "10-2022-0027949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_19", "content": "제16항에 있어서,상기 신경 프로세싱 유닛은 복수개이고, 상기 머신 코드는 상기 복수의 신경 프로세싱 유닛에서 병렬처리되도록 컴파일된, 시스템."}
{"patent_id": "10-2022-0027949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_20", "content": "제16항에 있어서,적외선 광원 및 가시광선 광원을 더 포함하고,상기 입력부는 가시광선 영상 및 적외선 영상을 입력 받도록 구성되고,상기 머신 코드는 상기 가시광선 영상과 상기 적외선 영상을 퓨전하도록 구성된 퓨전-인공신경망의 머신코드인, 시스템."}
{"patent_id": "10-2022-0027949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_21", "content": "제20항에 있어서,상기 적외선 광원은 PWM 구동되도록 구성되고,상기 적외선 영상은 상기 적외선 광원과 동기화된, 시스템."}
{"patent_id": "10-2022-0027949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_22", "content": "제20항에 있어서,상기 적외선 광원의 조사각과 상기 가시광선 광원의 조사각은 서로 일부 중첩되도록 구성된, 시스템.공개특허 10-2022-0149414-5-"}
{"patent_id": "10-2022-0027949", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 명세서의 일 개시에 따르면, 신경 프로세싱 유닛(NPU)가 제공된다. 상기 NPU는 컴파일된 퓨전-인공신경망의 머신 코드를 입력받도록 구성된 제어부; 상기 퓨전-인공신경망에 대응되는 복수의 입력 신호를 수신받도록 구성 된 입력부(또는 센서); 상기 퓨전-인공신경망 연산을 수행하도록 구성된 프로세싱 엘리먼트(PE) 어레이; 상기 퓨 전-인공신경망 연산의 특수 기능을 수행하도록 구성된 특수 기능 유닛(SFU); 및 상기 퓨전-인공신경망 연산 데이 터를 저장하도록 구성된 온-칩 메모리를 포함할 수 있다. 상기 제어부는, 상기 머신-코드에 포함된 인공신경망 데이터 지역성 정보에 따라 상기 퓨전-인공신경망의 모든 연산 순서가 기 설정된 순서대로 처리되도록, 상기 프 로세싱 엘리먼트 어레이, 상기 특수 기능 유닛 및 상기 온-칩 메모리를 제어하도록 구성된 스케줄러를 포함할 수 있다."}
{"patent_id": "10-2022-0027949", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 개시는 인공신경망(artificial neural network)에 관한 것이다."}
{"patent_id": "10-2022-0027949", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "인간은 인식(Recognition), 분류(Classification), 추론(Inference), 예측(Predict), 조작/의사결정 (Control/Decision making) 등을 할 수 있는 지능을 갖추고 있다. 인공지능(artificial intelligence: AI)은 인간의 지능을 인공적으로 모방하는 것을 의미한다. 인간의 뇌는 뉴런(Neuron)이라는 수많은 신경세포로 이루어져 있으며, 각각의 뉴런은 시냅스(Synapse)라고 불리 는 연결부위를 통해 수백에서 수천 개의 다른 뉴런들과 연결되어 있다. 인간의 지능을 모방하기 위하여, 생물학 적 뉴런의 동작원리와 뉴런 간의 연결 관계를 모델링한 것을, 인공신경망(Artificial Neural Network, ANN) 모 델이라고 한다. 즉, 인공신경망은 뉴런들을 모방한 노드들을 레이어(Layer: 계층) 구조로 연결시킨, 시스템이다. 이러한 인공신경망 모델은 레이어 수에 따라 '단층 신경망'과 '다층 신경망'으로 구분한다. 일반적인 다층신경 망은 입력 레이어와 은닉 레이어, 출력 레이어로 구성된다. 여기서 입력 레이어(input layer)은 외부의 자 료들을 받아들이는 레이어로서, 입력 레이어의 뉴런 수는 입력되는 변수의 수와 동일하다. 은닉 레이어 (hidden layer)은 입력 레이어와 출력 레이어 사이에 위치하며 입력 레이어로부터 신호를 받아 특성을 추출하여 출력층으로 전달한다. 출력 레이어(output layer)은 은닉 레이어로부터 신호를 받아 외부로 출력한다. 뉴런 간의 입력신호는 0에서 1 사이의 값을 갖는 각각의 연결강도와 곱해진 후 합산되며 이 합이 뉴런의 임계치보다 크면 뉴런이 활성화되어 활성화 함수를 통하여 출력 값으로 구현된다. 한편, 보다 높은 인공 지능을 구현하기 위하여, 인공신경망의 은닉 레이어의 개수를 늘린 것을 심층 신경망 (Deep Neural Network, DNN)이라고 한다. 다른 한편, 차량의 자율 주행을 위하여, 차량에 다양한 센서, 예컨대 라이다(Light Detection And Ranging, LiDAR), 레이더(RADAR), 카메라, GPS, 초음파 센서, NPU 등이 장착될 수 있다. 이와 같은 다양한 센서로부터 제 공되는 데이터는 크기가 방대하기 때문에, 처리 시간이 상당히 오래 걸리는 단점이 있다. 그러나, 자율 주행을 위해서는 방대한 크기의 데이터가 거의 실시간으로 처리되어야 하기 때문에, 최근 인공신 경망이 해결방안으로 대두되고 있다. 그러나, 이종의 센서 데이터들 각각을 위해 전용 인공신경망을 구현하는 것은, 매우 비효율적인 문제점이 있다."}
{"patent_id": "10-2022-0027949", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "따라서, 본 특허의 발명자는 이종 센서로부터 제공되는 서로 다른 데이터를 퓨전 신경망을 통하여 효과적으로 처리하기 위한 신경 프로세싱 유닛(Neural Processing Unit, NPU)에 대하여 연구하였다."}
{"patent_id": "10-2022-0027949", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 명세서의 일 개시에 따르면, 신경 프로세싱 유닛(NPU)가 제공된다. 상기 NPU는 컴파일된 퓨전-인공신경망의 머신 코드를 입력 받도록 구성된 제어부; 상기 퓨전-인공신경망에 대응되는 복수의 입력 신호를 수신 받도록 구 성된 입력부(또는 센서); 상기 퓨전-인공신경망 연산을 수행하도록 구성된 프로세싱 엘리먼트(PE) 어레이; 상기 퓨전-인공신경망 연산의 특수 기능을 수행하도록 구성된 특수 기능 유닛(SFU); 및 상기 퓨전-인공신경망 연산 데이터를 저장하도록 구성된 온-칩 메모리를 포함할 수 있다. 상기 제어부는, 상기 머신-코드에 포함된 인공신 경망 데이터 지역성 정보에 따라 상기 퓨전-인공신경망의 모든 연산 순서가 기 설정된 순서대로 처리되도록, 상 기 프로세싱 엘리먼트 어레이, 상기 특수 기능 유닛 및 상기 온-칩 메모리를 제어하도록 구성된 스케줄러를 포 함할 수 있다. 본 명세서의 다른 일 개시에 따르면, 신경 프로세싱 유닛(NPU)가 제공된다. 상기 NPU는 퓨전-인공신경망의 머신 코드를 입력받도록 구성된 제어부; 상기 머신 코드에 기초하여 상기 퓨전-인공신경망의 연산을 수행하도록 구성된 프로세싱 엘리먼트(PE) 어레이; 및 상기 PE 어레이에서 처리된 합성곱 연산값을 입력받아 대응되는 특수 기 능을 연산하도록 구성된 특수 기능 유닛(SFU)을 포함할 수 있다. 상기 SFU는 복수의 기능 유닛들을 포함할 수 있다. 상기 SFU는 상기 머신-코드에 포함된 인공신경망 데이터 지역성 정보에 따라 복수의 기능 유닛들 중 적어 도 일부를 선택적으로 제어할 수 있다. 본 명세서의 또 다른 일 개시에 따르면, 시스템이 제공된다. 상기 시스템은 퓨전-인공신경망의 머신 코드를 입 력받도록 구성된 제어부, 적어도 하나의 입력 신호를 수신받도록 구성된 입력부, 합성곱 연산을 수행하도록 구 성된 프로세싱 엘리먼트 어레이 및 상기 합성곱 연산 결과를 저장하도록 구성된 온-칩 메모리를 포함하는 적어 도 하나의 신경 프로세싱 유닛(NPU); 그리고 상기 적어도 하나의 신경 프로세싱 유닛의 연속된 메모리 오퍼레이 션 요청들을 예측할 수 있는 상기 퓨전-인공신경망의 인공신경망 데이터 지역성 정보를 제공받도록 구성되고, 상기 인공신경망 데이터 지역성 정보에 기초하여, 대응되는 상기 적어도 하나의 신경 프로세싱 유닛이 요청할 상기 다음 메모리 오퍼레이션 요청을 사전에 캐싱하도록 구성된 메모리를 포함하는, 메모리 제어부를 포함할 수 있다."}
{"patent_id": "10-2022-0027949", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 명세서의 개시들에 따라 제시되는 NPU를 활용하면, 이종 센서로부터 제공되는 서로 다른 데이터를 처리하기 위한 퓨전(fusion) 인공신경망의 성능을 향상시킬 수 있다. 본 명세서의 개시들에 따르면, 연접(CONCATANATION) 동작 그리고 건너뛰고 연결하기(SKIP-CONNECTION) 동작을 통하여, 퓨전 인공신경망은 이종 센서로부터 제공되는 서로 다른 데이터를 효과적으로 처리할 수 있다. 이를 위 하여, NPU는 복수의 기능 유닛들이 파이프라인으로 연결된 SFU(special function unit)을 포함하고, 상기 복수 의 기능 유닛들이 선택적으로 턴-오프됨으로써, 전력 소모를 절감할 수 있다. 본 명세서의 일 개시에 의하면, NIR 광원을 턴-온 그리고 턴-오프함으로써, 재귀반사(retro-reflector) 특성을 가진 표지판들로부터 반사되는 근적외선 반사광을 근적외선 센서를 통해 검출함으로써, 도로 표지판을 효과적으 로 검출할 수 있다."}
{"patent_id": "10-2022-0027949", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 명세서 또는 출원에 개시되어 있는 본 개시의 개념에 따른 실시 예들에 대해서 특정한 구조적 내지 단계적 설명들은 단지 본 개시의 개념에 따른 실시 예를 설명하기 위한 목적으로 예시된 것이다. 본 개시의 개념에 따른 실시 예들은 다양한 형태로 실시될 수 있으며 본 개시의 개념에 따른 실시 예들은 다양 한 형태로 실시될 수 있으며 본 명세서 또는 출원에 설명된 실시 예들에 한정되는 것으로 해석되어서는 아니 된 다. 본 개시의 개념에 따른 실시 예는 다양한 변경을 가할 수 있고 여러 가지 형태를 가질 수 있으므로 특정 실시 예들을 도면에 예시하고 본 명세서 또는 출원에 상세하게 설명하고자 한다. 그러나, 이는 본 개시의 개념에 따 른 실시 예를 특정한 개시 형태에 대해 한정하려는 것이 아니며, 본 개시의 사상 및 기술 범위에 포함되는 모든 변경, 균등물 내지 대체물을 포함하는 것으로 이해되어야 한다. 제1 및/또는 제2 등의 용어는 다양한 구성 요소들을 설명하는데 사용될 수 있지만, 상기 구성 요소들은 상기 용 어들에 의해 한정되어서는 안 된다. 상기 용어들은 하나의 구성 요소를 다른 구성 요소로부터 구별하는 목적으 로만, 예컨대 본 개시의 개념에 따른 권리 범위로부터 이탈되지 않은 채, 제1 구성요소는 제2 구성요소로 명명 될 수 있고, 유사하게 제2 구성요소는 제1 구성요소로도 명명될 수 있다. 어떤 구성요소가 다른 구성요소에 \"연결되어\" 있다거나 \"접속되어\" 있다고 언급된 때에는, 그 다른 구성요소에 직접적으로 연결되어 있거나 또는 접속되어 있을 수도 있지만, 중간에 다른 구성요소가 존재할 수도 있다고 이 해되어야 할 것이다. 반면에, 어떤 구성요소가 다른 구성요소에 \"직접 연결되어\" 있다거나 \"직접 접속되어\" 있 다고 언급된 때에는, 중간에 다른 구성요소가 존재하지 않는 것으로 이해되어야 할 것이다. 구성요소들 간의 관 계를 설명하는 다른 표현들, 즉 \"~사이에\"와 \"바로 ~사이에\" 또는 \"~에 이웃하는\"과 \"~에 직접 이웃하는\" 등도 마찬가지로 해석되어야 한다.본 명세서에서 사용한 용어는 단지 특정한 실시 예를 설명하기 위해 사용된 것으로, 본 개시를 한정하려는 의도 가 아니다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 명세서에서, \"포함하다\" 또는 \"가지다\" 등의 용어는 서술된 특징, 숫자, 단계, 동작, 구성요소, 부분품 또는 이들을 조합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성요소, 부분품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 다르게 정의되지 않는 한, 기술적이거나 과학적인 용어를 포함해서 여기서 사용되는 모든 용어들은 본 개시가 속하는 기술 분야에서 통상의 지식을 가진 자에 의해 일반적으로 이해되는 것과 동일한 의미를 가지고 있다. 일 반적으로 사용되는 사전에 정의되어 있는 것과 같은 용어들은 관련 기술의 문맥상 가지는 의미와 일치하는 의미 를 가지는 것으로 해석되어야 하며, 본 명세서에서 명백하게 정의하지 않는 한, 이상적이거나 과도하게 형식적 인 의미로 해석되지 않는다. 실시 예를 설명함에 있어서 본 개시가 속하는 기술 분야에 익히 알려져 있고 본 개시와 직접적으로 관련이 없는 기술 내용에 대해서는 설명을 생략한다. 이는 불필요한 설명을 생략함으로써 본 개시의 요지를 흐리지 않고 더 욱 명확히 전달하기 위함이다. <용어의 정의> 이하, 본 명세서에서 제시되는 개시들의 이해를 돕고자, 본 명세서에서 사용되는 용어들에 대하여 간략하게 정 리하기로 한다. NPU: 신경 프로세싱 유닛(Neural Processing Unit)의 약어로서, CPU(Central processing unit)과 별개로 인공 신경망 모델의 연산을 위해 특화된 프로세서를 의미할 수 있다. ANN: 인공신경망(artificial neural network)의 약어로서, 인간의 지능을 모방하기 위하여, 인간 뇌 속의 뉴런 들(Neurons)이 시냅스(Synapse)를 통하여 연결되는 것을 모방하여, 노드들을 레이어(Layer: 계층) 구조로 연결 시킨, 네트워크를 의미할 수 있다. 예를 들면, 인공신경망모델은 Bisenet, Shelfnet, Alexnet, Densenet, Efficientnet, EfficientDet, Googlenet, Mnasnet, Mobilenet, Resnet, Shufflenet, Squeezenet, VGG, Yolo, RNN, CNN, DBN, RBM, LSTM 등 의 모델일 수 있다. 단, 본 개시는 이에 제한되지 않으며, NPU에서 동작할 새로운 인공신경망모델이 꾸준 히 발표되고 있다. 인공신경망의 구조에 대한 정보: 레이어의 개수에 대한 정보, 레이어 내의 노드의 개수, 각 노드의 값, 연산 처 리 방법에 대한 정보, 각 노드에 적용되는 가중치 행렬에 대한 정보 등을 포함하는 정보이다. 인공신경망의 데이터 지역성에 대한 정보: 인공신경망 및 상기 인공신경망을 처리하는 신경 프로세싱 유닛의 구 조에 기초하여 결정된 메모리에 요청하는 데이터 접근 요청 순서를 포함하는 정보이다. DNN: 심층 신경망(Deep Neural Network)의 약어로서, 보다 높은 인공 지능을 구현하기 위하여, 인공신경망의 은 닉 레이어의 개수를 늘린 것을 의미할 수 있다. CNN: 컨볼류션 신경망(Convolutional Neural Network)의 약어로서, 인간 뇌의 시각 피질에서 영상을 처리하는 것과 유사한 기능을 하는 신경망이다. 컨볼류션 신경망은 영상처리에 적합한 것으로 알려져 있으며, 입력 데이 터의 특징들을 추출하고, 특징들의 패턴을 파악하기에 용이한 것으로 알려져 있다. 커널: CNN에 적용되는 가중치 행렬을 의미할 수 있다. 칩-외부 메모리: NPU 내부에는 메모리 크기가 한정적일 수 있다. 따라서 용량이 큰 데이터 저장을 위해서 칩 외 부에 메모리가 배치될 수 있다. 칩-외부 메모리는 ROM, SRAM, DRAM, Resistive RAM, Magneto-resistive RAM, Phase-change RAM, Ferroelectric RAM, Flash Memory, HBM 등과 같은 메모리 중 하나의 메모리를 포함할 수 있 다. 칩-외부 메모리는 적어도 하나의 메모리 유닛으로 구성될 수 있다. 칩-외부 메모리는 단일(homogeneous) 메 모리 유닛 또는 이종(heterogeneous) 메모리 유닛으로 구성될 수 있다. 칩-내부 메모리: NPU는 칩-내부 메모리를 포함할 수 있다. 칩-내부 메모리는 휘발성 메모리 및/또는 비휘발성 메모리를 포함할 수 있다. 예를 들면, 칩-내부 내부 메모리는 ROM, SRAM, DRAM, Resistive RAM, Magneto- resistive RAM, Phase-change RAM, Ferroelectric RAM, Flash Memory, HBM 등과 같은 메모리 중 하나의 메모리 를 포함할 수 있다. 칩-내부 메모리는 적어도 하나의 메모리 유닛으로 구성될 수 있다. 칩-내부 메모리는 단일(homogeneous) 메모리 유닛 또는 이종(heterogeneous) 메모리 유닛으로 구성될 수 있다. 이하, 첨부한 도면을 참조하여 본 개시의 바람직한 실시 예를 설명함으로써, 본 개시를 상세히 설명한다. 이하, 본 개시의 실시 예를 첨부된 도면을 참조하여 상세하게 설명한다. 도 1은 본 개시에 따른 신경 프로세싱 유닛을 설명하는 개략적인 개념도이다. 도 1에 도시된 신경 프로세싱 유닛(neural processing unit, NPU)은 인공신경망을 위한 동작을 수행하도록 특화된 프로세서이다. 인공신경망은 여러 입력 또는 자극이 들어오면 각각 가중치를 곱해 더해주고, 추가적으로 편차를 더한 값을 활 성화 함수를 통해 변형하여 전달하는 인공 뉴런들이 모인 네트워크를 의미한다. 이렇게 학습된 인공신경망은 입 력 데이터로부터 추론(inference) 결과를 출력하는데 사용될 수 있다. 상기 NPU은 전기/전자 회로로 구현된 반도체일 수 있다. 상기 전기/전자 회로라 함은 수많은 전자 소자, (예컨대 트렌지스터, 커패시터)를 포함하는 것을 의미할 수 있다. 상기 NPU은 프로세싱 엘리먼트 (processing element: PE) 어레이, NPU 내부 메모리, NPU 스케줄러, 및 NPU 인터페이스를 포함할 수 있다. 프로세싱 엘리먼트 어레이, NPU 내부 메모리, NPU 스케줄러, 및 NPU 인터페이 스 각각은 수많은 트렌지스터들이 연결된 반도체 회로일 수 있다. 따라서, 이들 중 일부는 육안으로는 식 별되어 구분되기 어려울 수 있고, 동작에 의해서만 식별될 수 있다. 예컨대, 임의 회로는 프로세싱 엘리먼트 어 레이으로 동작하기도 하고, 혹은 NPU 스케줄러로 동작될 수도 있다. NPU 스케줄러는 NPU의 인공신경망 추론 동작을 제어하도록 구성된 제어부의 기능을 수행하도록 구성될 수 있다. 상기 NPU은 프로세싱 엘리먼트 어레이, 프로세싱 엘리먼트 어레이에서 추론될 수 있는 인공신경 망모델을 저장하도록 구성된 NPU 내부 메모리, 및 인공신경망모델의 데이터 지역성 정보 또는 구조에 대한 정보에 기초하여 프로세싱 엘리먼트 어레이 및 NPU 내부 메모리를 제어하도록 구성된 NPU 스케줄러 를 포함할 수 있다. 여기서, 인공신경망모델은 인공신경망모델의 데이터 지역성 정보 또는 구조에 대한 정 보를 포함할 수 있다. 인공신경망모델은 특정 추론 기능을 수행하도록 학습된 AI 인식모델을 의미할 수 있다. 프로세싱 엘리먼트 어레이는 인공신경망을 위한 동작을 수행할 수 있다. NPU 인터페이스는 시스템 버스를 통해서 NPU와 연결된 다양한 구성요소들, 예컨대 메모리와 통신할 수 있다. NPU 스케줄러는 신경 프로세싱 유닛의 추론 연산을 위한 프로세싱 엘리먼트 어레이의 연산 및 NPU 내부 메모리의 읽기 및 쓰기 순서를 제어하도록 구성된다. NPU 스케줄러는 인공신경망모델의 데이터 지역성 정보 또는 구조에 대한 정보에 기초하여 프로세싱 엘리먼 트 어레이 및 NPU 내부 메모리을 제어하도록 구성될 수 있다. NPU 스케줄러는 프로세싱 엘리먼트 어레이에서 작동할 인공신경망모델의 구조를 분석하거나 또는 이 미 분석된 정보를 제공받을 수 있다. 예를 들면, 인공신경망모델이 포함할 수 있는 인공신경망의 데이터는 각각 의 레이어의 노드 데이터(즉, 특징맵), 레이어들의 배치 데이터, 지역성 정보 또는 구조에 대한 정보, 각각의 레이어의 노드를 연결하는 연결망 각각의 가중치 데이터 (즉, 가중치 커널) 중 적어도 일부를 포함할 수 있다. 인공신경망의 데이터는 NPU 스케줄러 내부에 제공되는 메모리 또는 NPU 내부 메모리에 저장될 수 있 다. NPU 스케줄러는 인공신경망모델의 데이터 지역성 정보 또는 구조에 대한 정보에 기초하여 NPU가 수행 할 인공신경망모델의 연산 순서를 스케줄링 할 수 있다. NPU 스케줄러는 인공신경망모델의 데이터 지역성 정보 또는 구조에 대한 정보에 기초하여 인공신경망모델 의 레이어의 특징맵 및 가중치 데이터가 저장된 메모리 어드레스 값을 획득할 수 있다. 예를 들면, NPU 스케줄 러는 메모리에 저장된 인공신경망모델의 레이어의 특징맵 및 가중치 데이터가 저장된 메모리 어드레스 값 을 획득할 수 있다. 따라서 NPU 스케줄러는 구동할 인공신경망모델의 레이어의 특징맵 및 가중치 데이터를 메모리에서 가져와서 NPU 내부 메모리에 저장할 수 있다. 각각의 레이어의 특징맵은 대응되는 각각의 메모리 어드레스 값을 가질 수 있다. 각각의 가중치 데이터는 대응되는 각각의 메모리 어드레스 값을 가질 수 있다. NPU 스케줄러는 인공신경망모델의 데이터 지역성 정보 또는 구조에 대한 정보, 예를 들면, 인공신경망모델 의 인공신경망의 레이어들의 배치 데이터 지역성 정보 또는 구조에 대한 정보에 기초해서 프로세싱 엘리먼트 어 레이의 연산 순서를 스케줄링 할 수 있다. NPU 스케줄러는 인공신경망모델의 데이터 지역성 정보 또는 구조에 대한 정보에 기초하여 스케줄링 하기 때문에, 일반적인 CPU의 스케줄링 개념과 다르게 동작할 수 있다. 일반적인 CPU의 스케줄링은 공평성, 효율성, 안정성, 반응 시간 등을 고려하여, 최상의 효율을 낼 수 있도록 동작한다. 즉, 우선 순위, 연산 시간 등을 고려 해서 동일 시간내에 가장 많은 프로세싱을 수행하도록 스케줄링 한다. 종래의 CPU는 각 프로세싱의 우선 순서, 연산 처리 시간 등의 데이터를 고려하여 작업을 스케줄링 하는 알고리 즘을 사용하였다. 이와 다르게 NPU 스케줄러는 인공신경망모델의 데이터 지역성 정보 또는 구조에 대한 정보에 기초하여 결 정된 NPU의 프로세싱 순서대로 NPU를 제어할 수 있다. 더 나아가면, NPU 스케줄러는 인공신경망모델의 데이터 지역성 정보 또는 구조에 대한 정보 및/또는 사용 하려는 신경 프로세싱 유닛의 데이터 지역성 정보 또는 구조에 대한 정보에 기초하여 결정된 프로세싱 순 서대로 NPU를 구동할 수 있다. 단, 본 개시는 NPU의 데이터 지역성 정보 또는 구조에 대한 정보에 제한되지 않는다. NPU 스케줄러는 인공신경망의 데이터 지역성 정보 또는 구조에 대한 정보를 저장하도록 구성될 수 있다. 즉, NPU 스케줄러는 적어도 인공신경망모델의 인공신경망의 데이터 지역성 정보 또는 구조에 대한 정보만 활용하더라도 프로세싱 순서를 결정할 수 있다. 더 나아가서, NPU 스케줄러는 인공신경망모델의 데이터 지역성 정보 또는 구조에 대한 정보 및 NPU의 데이터 지역성 정보 또는 구조에 대한 정보를 고려하여 NPU의 프로세싱 순서를 결정할 수 있다. 또한, 결 정된 프로세싱 순서대로 NPU의 프로세싱 최적화도 가능하다. 프로세싱 엘리먼트 어레이는 인공신경망의 특징맵과 가중치 데이터를 연산하도록 구성된 복수의 프로세싱 엘리먼트들(PE1 to PE12)이 배치된 구성을 의미한다. 각각의 프로세싱 엘리먼트는 MAC (multiply and accumulate) 연산기 및/또는 ALU (Arithmetic Logic Unit) 연산기를 포함할 수 있다. 단, 본 개시에 따른 예시 들은 이에 제한되지 않는다. 도 1에서는 예시적으로 복수의 프로세싱 엘리먼트들이 도시되었지만, 하나의 프로세싱 엘리먼트 내부에 MAC을 대체하여, 복수의 곱셈기(multiplier) 및 가산기 트리(adder tree)로 구현된 연산기들이 병렬로 배치되어 구성 되는 것도 가능하다. 이러한 경우, 프로세싱 엘리먼트 어레이는 복수의 연산기를 포함하는 적어도 하나의 프로세싱 엘리먼트로 지칭되는 것도 가능하다. 프로세싱 엘리먼트 어레이는 복수의 프로세싱 엘리먼트들(PE1 to PE12)을 포함하도록 구성된다. 도 1에 도 시된 복수의 프로세싱 엘리먼트들(PE1 to PE12)은 단지 설명의 편의를 위한 예시이며, 복수의 프로세싱 엘리먼 트들(PE1 to PE12)의 개수는 제한되지 않는다. 복수의 프로세싱 엘리먼트들(PE1 to PE12)의 개수에 의해서 프로 세싱 엘리먼트 어레이의 크기 또는 개수가 결정될 수 있다. 프로세싱 엘리먼트 어레이의 크기는 N x M 행렬 형태로 구현될 수 있다. 여기서 N 과 M은 0보다 큰 정수이다. 프로세싱 엘리먼트 어레이는 N x M 개의 프로세싱 엘리먼트를 포함할 수 있다. 즉, 프로세싱 엘리먼트는 1개 이상일 수 있다. 프로세싱 엘리먼트 어레이의 크기는 NPU이 작동하는 인공신경망모델의 특성을 고려하여 설계할 수 있 다. 프로세싱 엘리먼트 어레이는 인공신경망 연산에 필요한 덧셈, 곱셈, 누산 등의 기능을 수행하도록 구성된 다. 다르게 설명하면, 프로세싱 엘리먼트 어레이는 MAC(multiplication and accumulation) 연산을 수행하 도록 구성될 수 있다. 이하 프로세싱 엘리먼트 어레이 중 제1 프로세싱 엘리먼트(PE1)를 예를 들어 설명한다. 도 2는 본 개시에 적용될 수 있는 프로세싱 엘리먼트 어레이 중 하나의 프로세싱 엘리먼트를 설명하는 개략적인 개념도이다. 본 개시의 일 예시에 따른 NPU은 프로세싱 엘리먼트 어레이, 프로세싱 엘리먼트 어레이에서 추 론될 수 있는 인공신경망모델을 저장하도록 구성된 NPU 내부 메모리 및 인공신경망모델의 데이터 지역성 정보 또는 구조에 대한 정보에 기초하여 프로세싱 엘리먼트 어레이 및 NPU 내부 메모리을 제어하도록 구성된 NPU 스케줄러를 포함하고, 프로세싱 엘리먼트 어레이는 MAC 연산을 수행하도록 구성되고, 프 로세싱 엘리먼트 어레이는 MAC 연산 결과를 양자화해서 출력하도록 구성될 수 있다. 단, 본 개시의 예시들 은 이에 제한되지 않는다. NPU 내부 메모리은 메모리 크기와 인공신경망모델의 데이터 크기에 따라 인공신경망모델의 전부 또는 일부 를 저장할 수 있다. 제1 프로세싱 엘리먼트(PE1)는 곱셈기, 가산기, 누산기, 및 비트 양자화 유닛을 포함할 수 있다. 단, 본 개시에 따른 예시들은 이에 제한되지 않으며, 프로세싱 엘리먼트 어레이는 인공신경망의 연 산 특성을 고려하여 변형 실시될 수도 있다. 곱셈기는 입력 받은 (N)bit 데이터와 (M)bit 데이터를 곱한다. 곱셈기의 연산 값은 (N+M)bit 데이터 로 출력된다. 곱셈기는 하나의 변수와 하나의 상수를 입력 받도록 구성될 수 있다. 누산기는 (L)loops 횟수만큼 가산기를 사용하여 곱셈기의 연산 값과 누산기의 연산 값을 누산 한다. 따라서 누산기의 출력부와 입력부의 데이터의 비트 폭은 (N+M+log2(L))bit로 출력될 수 있다. 여기서 L은 0보다 큰 정수이다. 누산기는 누산이 종료되면, 초기화 신호(initialization reset)를 인가받아서 누산기 내부에 저장된 데이터를 0으로 초기화 할 수 있다. 단, 본 개시에 따른 예시들은 이에 제한되지 않는다. 비트 양자화 유닛은 누산기에서 출력되는 데이터의 비트 폭을 저감할 수 있다. 비트 양자화 유닛 은 NPU 스케줄러에 의해서 제어될 수 있다. 양자화된 데이터의 비트 폭은 (X)bit로 출력될 수 있다. 여기서 X는 0보다 큰 정수이다. 상술한 구성에 따르면, 프로세싱 엘리먼트 어레이는 MAC 연산을 수행하도 록 구성되고, 프로세싱 엘리먼트 어레이는 MAC 연산 결과를 양자화해서 출력할 수 있는 효과가 있다. 특히 이러한 양자화는 (L)loops가 증가할수록 소비 전력을 더 절감할 수 있는 효과가 있다. 또한 소비 전력이 저감되 면 발열도 저감할 수 있는 효과가 있다. 특히 발열을 저감하면 NPU의 고온에 의한 오동작 발생 가능성을 저감할 수 있는 효과가 있다. 비트 양자화 유닛의 출력 데이터(X)bit은 다음 레이어의 노드 데이터 또는 합성곱의 입력 데이터가 될 수 있다. 만약 인공신경망모델이 양자화되었다면, 비트 양자화 유닛은 양자화된 정보를 인공신경망모델에서 제공받도록 구성될 수 있다. 단, 이에 제한되지 않으며, NPU 스케줄러는 인공신경망모델을 분석하여 양자 화된 정보를 추출하도록 구성되는 것도 가능하다. 따라서 양자화된 데이터 크기에 대응되도록, 출력 데이터 (X)bit를 양자화 된 비트 폭으로 변환하여 출력될 수 있다. 비트 양자화 유닛의 출력 데이터(X)bit는 양자 화된 비트 폭으로 NPU 내부 메모리에 저장될 수 있다. 본 개시의 일 예시에 따른 NPU의 프로세싱 엘리먼트 어레이는 곱셈기, 가산기, 누산기 , 및 비트 양자화 유닛을 포함한다. 도 3은 도 1에 도시된 NPU의 변형예를 나타낸 예시도이다. 도 3에 도시된 NPU은 도 1에 예시적으로 도시된 프로세싱 유닛과 비교하면, 프로세싱 엘리먼트 어레 이를 제외하곤 실질적으로 동일하기 때문에, 이하 단지 설명의 편의를 위해서 중복 설명은 생략할 수 있다. 도 3에 예시적으로 도시된 프로세싱 엘리먼트 어레이는 복수의 프로세싱 엘리먼트들(PE1 to PE12) 외에, 각각의 프로세싱 엘리먼트들(PE1 to PE12)에 대응되는 각각의 레지스터 파일들(RF1 to RF12)을 더 포함할 수 있 다. 도 3에 도시된 복수의 프로세싱 엘리먼트들(PE1 to PE12) 및 복수의 레지스터 파일들(RF1 to RF12)은 단지 설명 의 편의를 위한 예시이며, 복수의 프로세싱 엘리먼트들(PE1 to PE12) 및 복수의 레지스터 파일들(RF1 to RF12) 의 개수는 제한되지 않는다. 복수의 프로세싱 엘리먼트들(PE1 to PE12) 및 복수의 레지스터 파일들(RF1 to RF12)의 개수에 의해서 프로세싱 엘리먼트 어레이의 크기 또는 개수가 결정될 수 있다. 프로세싱 엘리먼트 어레이 및 복수의 레지스터파일들(RF1 to RF12)의 크기는 N x M 행렬 형태로 구현될 수 있다. 여기서 N 과 M은 0보다 큰 정수이다. 프로세싱 엘리먼트 어레이의 어레이 크기는 NPU이 작동하는 인공신경망모델의 특성을 고려하여 설계 할 수 있다. 부연 설명하면, 레지스터 파일의 메모리 크기는 작동할 인공신경망모델의 데이터 크기, 요구되는 동작 속도, 요구되는 소비 전력 등을 고려하여 결정될 수 있다. NPU의 레지스터 파일들(RF1 to RF12)은 프로세싱 엘리먼트들(PE1 to PE12)과 직접 연결된 정적 메모리 유 닛이다. 레지스터 파일들(RF1 to RF12)은 예를 들면, 플립플롭, 및/또는 래치 등으로 구성될 수 있다. 레지스터 파일들(RF1 to RF12)은 대응되는 프로세싱 엘리먼트들(PE1 to PE12)의 MAC 연산 값을 저장하도록 구성될 수 있 다. 레지스터 파일들(RF1 to RF12)은 NPU 내부 메모리와 가중치 데이터 및/또는 노드 데이터를 제공하거나 제공받도록 구성될 수 있다. 레지스터 파일들(RF1 to RF12)은 MAC 연산 시 누산기의 임시 메모리의 기능을 수행하도록 구성되는 것도 가능하 다. 도 4는 예시적인 인공신경망모델을 설명하는 개략적인 개념도이다. 이하 NPU에서 작동될 수 있는 예시적인 인공신경망모델(110-10)의 연산에 대하여 설명한다. 도 4의 예시적인 인공신경망모델(110-10)은 도 1 또는 도 3에 도시된 NPU에서 학습되거나 별도의 기계 학 습 장치에서 학습된 인공신경망일 수 있다. 인공신경망 모델은 객체 인식, 음성 인식 등 다양한 추론 기능을 수 행하도록 학습된 인공신경망일 수 있다. 인공신경망모델(110-10)은 심층 신경망(DNN, Deep Neural Network)일 수 있다. 단, 본 개시의 예시들에 따른 인공신경망모델(110-10)은 심층 신경망에 제한되지 않는다. 예를 들면, 인공신경망모델은 Object Detection, Object Segmentation, Image/Video Reconstruction, Image/Video Enhancement, Object Tracking, Event Recognition, Event Prediction, Anomaly Detection, Density Estimation, Event Search, Measurement 등의 추론을 수행하도록 학습될 모델일 수 있다. 예를 들면, 인공신경망모델은 Bisenet, Shelfnet, Alexnet, Densenet, Efficientnet, EfficientDet, Googlenet, Mnasnet, Mobilenet, Resnet, Shufflenet, Squeezenet, VGG, Yolo, RNN, CNN, DBN, RBM, LSTM 등 의 모델일 수 있다. 단, 본 개시는 이에 제한되지 않으며, NPU에서 동작할 새로운 인공신경망모델이 꾸준히 발 표되고 있다. 단, 본 개시는 상술한 모델들에 제한되지 않는다. 또한 인공신경망모델(110-10)은 적어도 두 개의 서로 다른 모 델들에 기초한 앙상블 모델일 수도 있다. 인공신경망모델(110-10)은 NPU의 NPU 내부 메모리에 저장될 수 있다. 이하 도 4를 참조하여 예시적인 인공신경망모델(110-10)에 의환 추론 과정이 NPU에 의해서 수행되는 것에 관해 설명한다. 인공신경망모델(110-10)은 입력 레이어(110-11), 제1 연결망(110-12), 제1 은닉 레이어(110-13), 제2 연결망 (110-14), 제2 은닉 레이어(110-15), 제3 연결망(110-16), 및 출력 레이어(110-17)을 포함하는 예시적인 심층 신경망 모델이다. 단, 본 개시는 도 4에 도시된 인공신경망모델에만 제한되는 것은 아니다. 제1 은닉 레이어 (110-13) 및 제2 은닉 레이어(110-15)는 복수의 은닉 레이어로 지칭되는 것도 가능하다. 입력 레이어(110-11)는 예시적으로, x1 및 x2 입력 노드를 포함할 수 있다. 즉, 입력 레이어(110-11)는 2개의 입력 값에 대한 정보를 포함할 수 있다. 도 1 또는 도 3에 도시된 NPU 스케줄러는 입력 레이어(110-11)로 부터의 입력 값에 대한 정보가 저장되는 메모리 어드레스를 도 1 또는 도 3에 도시된 NPU 내부 메모리에 설정할 수 있다. 제1 연결망(110-12)은 예시적으로, 입력 레이어(110-11)의 각각의 노드를 제1 은닉 레이어(110-13)의 각각의 노 드로 연결시키기 위한 6개의 가중치 값에 대한 정보를 포함할 수 있다. 도 1 또는 도 3에 도시된 NPU 스케줄러 는 제1 연결망(110-12)의 가중치 값에 대한 정보가 저장되는 메모리 어드레스를 NPU 내부 메모리에 설정할 수 있다. 각각의 가중치 값은 입력 노드 값과 곱해지고, 곱해진 값들의 누산된 값이 제1 은닉 레이어 (110-13)에 저장된다. 여기서 노드들은 특징맵으로 지칭될 수 있다. 제1 은닉 레이어(110-13)는 예시적으로 a1, a2, 및 a3 노드를 포함할 수 있다. 즉, 제1 은닉 레이어(110-13)는 3개의 노드 값에 대한 정보를 포함할 수 있다. 도 1 또는 도 3에 도시된 NPU 스케줄러는 제1 은닉 레이어 (110-13)의 노드 값에 대한 정보를 저장시키기 위한 메모리 어드레스를 NPU 내부 메모리에 설정할 수 있다. NPU 스케줄러는 제1 프로세싱 엘리먼트(PE1)가 제1 은닉 레이어(110-13)의 a1 노드의 MAC 연산을 수행하도 록 연산 순서를 스케줄링 하도록 구성될 수 있다. NPU 스케줄러는 제2 프로세싱 엘리먼트(PE2)가 제1 은닉 레이어(110-13)의 a2 노드의 MAC 연산을 수행하도록 연산 순서를 스케줄링 하도록 구성될 수 있다. NPU 스케줄 러는 제3 프로세싱 엘리먼트(PE3)가 제1 은닉 레이어(110-13)의 a3 노드의 MAC 연산을 수행하도록 연산 순 서를 스케줄링 하도록 구성될 수 있다. 여기서 NPU 스케줄러는 3개의 프로세싱 엘리먼트들이 병렬로 동시 에 MAC 연산을 각각 수행하도록 연산 순서를 미리 스케줄링 할 수 있다. 제2 연결망(110-14)은 예시적으로, 제1 은닉 레이어(110-13)의 각각의 노드를 제2 은닉 레이어(110-15)의 각각 의 노드로 연결시키기 위한 9개의 가중치 값에 대한 정보를 포함할 수 있다. 도 1 또는 도 3에 도시된 NPU 스케 줄러는 제2 연결망(110-14)의 가중치 값에 대한 정보를 저장시키기 위한 메모리 어드레스를 NPU 내부 메모 리에 설정할 수 있다. 상기 제2 연결망(110-14)의 가중치 값은 제1 은닉 레이어(110-13)로부터 입력되는 노드 값과 각기 곱해지고, 곱해진 값들의 누산된 값이 제2 은닉 레이어(110-15)에 저장된다. 제2 은닉 레이어(110-15)는 예시적으로 b1, b2, 및 b3 노드를 포함할 수 있다. 즉, 제2 은닉 레이어(110-15)는 3개의 노드 값에 대한 정보를 포함할 수 있다. NPU 스케줄러는 제2 은닉 레이어(110-15)의 노드 값에 대한 정보를 저장시키기 위한 메모리 어드레스를 NPU 내부 메모리에 설정할 수 있다. NPU 스케줄러는 제4 프로세싱 엘리먼트(PE4)가 제2 은닉 레이어(110-15)의 b1 노드의 MAC 연산을 수행하도 록 연산 순서를 스케줄링 하도록 구성될 수 있다. NPU 스케줄러는 제5 프로세싱 엘리먼트(PE5)가 제2 은닉 레이어(110-15)의 b2 노드의 MAC 연산을 수행하도록 연산 순서를 스케줄링 하도록 구성될 수 있다. NPU 스케줄 러는 제6 프로세싱 엘리먼트(PE6)가 제2 은닉 레이어(110-15)의 b3 노드의 MAC 연산을 수행하도록 연산 순 서를 스케줄링 하도록 구성될 수 있다. 여기서 NPU 스케줄러는 3개의 프로세싱 엘리먼트들이 병렬로 동시에 MAC 연산을 각각 수행하도록 연산 순 서를 미리 스케줄링 할 수 있다. 여기서 NPU 스케줄러는 인공신경망모델의 제1 은닉 레이어(110-13)의 MAC 연산 이후 제2 은닉 레이어(110- 15)의 연산이 수행되도록 스케줄링을 결정할 수 있다. 즉, NPU 스케줄러는 인공신경망모델의 데이터 지역성 정보 또는 구조에 대한 정보에 기초하여 프로세싱 엘 리먼트 어레이 및 NPU 내부 메모리을 제어하도록 구성될 수 있다. 제3 연결망(110-16)은 예시적으로, 제2 은닉 레이어(110-15)의 각각의 노드와 출력 레이어(110-17)의 각각의 노 드를 연결하는 6개의 가중치 값에 대한 정보를 포함할 수 있다. NPU 스케줄러는 제3 연결망(110-16)의 가 중치 값에 대한 정보를 저장시키기 위한 메모리 어드레스를 NPU 내부 메모리에 설정할 수 있다. 제3 연결 망(110-16)의 가중치 값은 제2 은닉 레이어(110-15)로부터 입력되는 노드 값과 각기 곱해지고, 곱해진 값들의 누산된 값이 출력 레이어(110-17)에 저장된다. 출력 레이어(110-17)는 예시적으로 y1, 및 y2 노드를 포함할 수 있다. 즉, 출력 레이어(110-17)는 2개의 노드 값에 대한 정보를 포함할 수 있다. NPU 스케줄러는 출력 레이어(110-17)의 노드 값에 대한 정보를 저장시 키기 위해 메모리 어드레스를 NPU 내부 메모리에 설정할 수 있다. NPU 스케줄러는 제7 프로세싱 엘리먼트(PE7)가 출력 레이어(110-17)의 y1 노드의 MAC 연산을 수행하도록 연산 순서를 스케줄링 하도록 구성될 수 있다. NPU 스케줄러는 제8 프로세싱 엘리먼트(PE8)가 출력 레이어 (110-15)의 y2 노드의 MAC 연산을 수행하도록 연산 순서를 스케줄링 하도록 구성될 수 있다. 여기서 NPU 스케줄러는 2개의 프로세싱 엘리먼트들이 병렬로 동시에 MAC 연산을 각각 수행하도록 연산 순 서를 미리 스케줄링 할 수 있다. 여기서 NPU 스케줄러는 인공신경망모델의 제2 은닉 레이어(110-15)의 MAC 연산 이후 출력 레이어(110- 17)의 연산이 수행되도록 스케줄링을 결정할 수 있다. 즉, NPU 스케줄러는 인공신경망모델의 데이터 지역성 정보 또는 구조에 대한 정보에 기초하여 프로세싱 엘 리먼트 어레이 및 NPU 내부 메모리을 제어하도록 구성될 수 있다.즉, NPU 스케줄러는 프로세싱 엘리먼트 어레이에서 작동할 인공신경망모델의 구조를 분석하거나 또는 분석된 정보를 제공받을 수 있다. 인공신경망모델이 포함할 수 있는 인공신경망의 정보는 각각의 레이어의 노드 값에 대한 정보, 레이어들의 배치 데이터 지역성 정보 또는 구조에 대한 정보, 각각의 레이어의 노드를 연결하 는 연결망 각각의 가중치 값에 대한 정보를 포함할 수 있다. NPU 스케줄러는 예시적인 인공신경망모델(110-10)의 데이터 지역성 정보 또는 구조에 대한 정보를 제공받 았기 때문에, NPU 스케줄러는 인공신경망모델(110-10)의 입력부터 출력까지의 연산 순서를 파악할 수 있다. 따라서, NPU 스케줄러는 각각의 레이어의 MAC 연산 값들이 저장되는 메모리 어드레스를 스케줄링 순서를 고려해서 NPU 내부 메모리에 설정할 수 있다. NPU 내부 메모리는 NPU의 추론 연산이 지속되는 동안 NPU 내부 메모리에 저장된 연결망들의 가 중치 데이터를 보존하도록 구성될 수 있다. 따라서 메모리 읽기 쓰기 동작을 저감할 수 있는 효과가 있다. 즉, NPU 내부 메모리는 추론 연산이 지속되는 동안 NPU 내부 메모리에 저장된 MAC 연산 값을 재사용 하도록 구성될 수 있다. 도 5는 컨볼류션 신경망의 기본 구조를 설명하기 위한 도면이다. 도 5를 참조하면, 컨볼류션 신경망은 하나 또는 여러 개의 컨볼류션 레이어(convolutional layer)와 통합 레이 어(pooling layer), 완전하게 연결된 레이어(fully connected layer)들의 조합일 수 있다. 컨볼류션 신경망은 2차원 데이터의 학습 및 추론에 적합한 구조를 가지고 있으며, 역전달(Backpropagation algorithm)을 통해 학습 될 수 있다. 본 개시의 예시에서, 컨볼류션 신경망은 채널마다 채널의 입력 영상의 특징을 추출하는 커널이 존재한다. 커널 은 2차원 행렬로 구성될 수 있으며, 입력 데이터를 순회하면서 합성곱 연산 수행한다. 커널의 크기는 임의로 결 정될 수 있으며, 커널이 입력 데이터를 순회하는 간격(stride) 또한 임의로 결정될 수 있다. 커널 하나당 입력 데이터 전체에 대한 합성곱 결과는 특징맵(feature map) 또는 활성화 맵으로 지칭될 수 있다. 이하에서 커널은 일 세트의 가중치 값들 또는 복수의 세트의 가중치 값들을 포함할 수 있다. 각 레이어 별 커널의 개수는 채널의 개수로 지칭될 수 있다. 이처럼 합성곱 연산은 입력 데이터와 커널의 조합으로 이루어진 연산이므로, 이후 비선형성을 추가하기 위한 활 성화 함수가 적용될 수 있다. 합성곱 연산의 결과인 특징맵에 활성화 함수가 적용되면 활성화 맵으로 지칭될 수 있다. 구체적으로 도 5를 참조하면, 컨볼류션 신경망은 적어도 하나의 컨볼류션 레이어, 적어도 하나의 풀링 레이어, 및 적어도 하나의 완전 연결 레이어를 포함한다. 예를 들면, 합성곱(컨볼류션)은, 입력 데이터의 크기(통상적으로 1Х1, 3Х3 또는 5Х5 행렬)와 출력 피처 맵 (Feature Map)의 깊이(커널의 수)와 같은 두 개의 주요 파라미터에 의해 정의될 수 있다. 이러한 주요 파라미터 는 합성곱에 의해 연산 될 수 있다. 이들 합성곱은, 깊이 32에서 시작하여, 깊이 64로 계속되며, 깊이 128 또는 256에서 종료될 수 있다. 합성곱 연산은, 입력 데이터인 입력 이미지 행렬 위로 3Х3 또는 5Х5 크기의 커널 (kernel)을 슬라이딩하여 커널의 각 가중치와 겹쳐지는 입력 이미지 행렬의 각 원소를 곱한 후 이들을 모두 더 하는 연산을 의미할 수 있다. 이와 같이 생성된 출력 특징맵에 활성화 함수가 적용되어 활성화 맵이 최종적으로 출력될 수 있다. 또한, 현재 레이어에서의 사용된 가중치는 합성곱을 통해 다음 레이어에 전달될 수 있다. 풀링 레이어는 출력 데이터(즉, 활성화 맵)을 다운 샘플링하여 특징맵의 크기를 줄이는 풀링 연산을 수행할 수 있다. 예를 들어, 풀링 연산은 최대 풀링(max pooling) 및/또는 평균 풀링(average pooling)을 포함할 수 있으나, 이에 한정되지 않는다. 최대 풀링 연산은 커널을 이용하며, 특징맵과 커널이 슬라이딩되어 커널과 겹쳐지는 특징맵의 영역에서 최대 값 을 출력한다. 평균 풀링 연산은 특징맵과 커널이 슬라이딩되어 커널과 겹쳐지는 특징맵의 영역 내에서 평균값을 출력한다. 이처럼 풀링 연산에 의해 특징맵의 크기가 줄어들기 때문에 특징맵의 가중치 개수 또한 줄어든다. 완전 연결 레이어는 풀링 레이어를 통해서 출력된 데이터를 복수의 클래스(즉, 추정값)로 분류하고, 분류된 클 래스 및 이에 대한 점수(score)를 출력할 수 있다. 풀링 레이어를 통해서 출력된 데이터는 3차원 특징맵 형태를 이루며, 이러한 3차원 특징맵이 1차원 벡터로 변환되어 완전 연결 레이어로 입력될 수 있다.도 6은 컨볼류션 레이어의 입력 데이터와 합성곱 연산에 사용되는 커널을 설명하기 위한 도면이다. 입력 데이터는, 특정 크기의 행과 특정 크기의 열로 구성된 2차원적 행렬로 표시되는 이미지 또 는 영상일 수 있다. 입력 데이터는 특징맵으로 지칭될 수 있다. 입력 데이터는 복수의 채널을 가질 수 있는데, 여기서 채널은 입력 데이터 이미지의 컬러 RGB채널을 나타낼 수 있다. 한편, 커널은, 입력 데이터의 일정 부분을 스캐닝하면서 해당 부분의 특징을 추출하기 위한 합성곱에 사용되는 가중치 파라미터일 수 있다. 커널은, 입력 데이터 이미지와 마찬가지로 특정 크기의 행, 특 정 크기의 열, 특정 수의 채널을 갖도록 구성될 수 있다. 일반적으로 커널의 행, 열 의 크기는 동일하도록 설정되며, 채널의 수는 입력 데이터 이미지의 채널의 수와 동일할 수 있다. 도 7은 커널을 사용하여 특징 맵을 생성하는 컨볼류션 신경망의 동작을 설명하기 위한 도면이다. 커널은, 입력 데이터를 지정된 간격으로 순회하며 합성곱을 실행함으로써, 최종적으로 특징맵을 생성할 수 있다. 합성곱은, 입력 데이터의 일 부분에 커널을 적용하였을 때, 그 부분의 특정 위치의 입력 데이터 값들과 커널의 해당 위치의 값들을 각각 곱한 뒤 생성된 값들을 모두 더하여 실행될 수 있다. 이러한 합성곱 과정을 통해, 특징맵의 계산 값들이 생성되며, 커널이 입력 데이터를 순회할 때마다 이러한 합성곱의 결과값들이 생성되어 특징맵을 구성할 수 있다. 특징맵의 각 구성요소 값들은 컨볼류션 레이어의 활성화 함수를 통해 활성화맵으로 변환될 수 있다. 도 7에서 컨볼류션 레이어에 입력되는 입력 데이터는 4 x 4의 크기를 갖는 2차원적 행렬로 표시되며, 커널 은 3 x 3 크기를 갖는 2차원적 행렬로 표시된다. 그러나, 컨볼류션 레이어의 입력 데이터 및 커널 의 크기는, 이에 한정되는 것은 아니며, 컨볼류션 레이어가 포함되는 컨볼류션 신경망의 성능 및 요구사항 에 따라 다양하게 변경될 수 있다. 도시된 바와 같이, 컨볼류션 레이어에 입력 데이터가 입력되면, 커널이 입력 데이터 상에서 사 전 결정된 간격(예를 들어, stride = 1)으로 순회하며, 입력 데이터와 커널의 동일 위치의 값들을 각 각 곱하고 각각의 값들을 더하는 MAC 연산을 수 있다. 구체적으로, 커널이 입력 데이터의 특정 위치에서 계산한 MAC 연산 값 \"15\"를 특징맵의 대 응 요소에 배정한다. 커널이 입력 데이터의 다음 위치에서 계산한 MAC 연산 값 \"16\"을 특 징맵의 대응 요소에 배정한다. 커널이 입력 데이터의 다음 위치에서 계산한 MAC 연산 값 \"6\"을 특징맵의 대응 요소에 배정한다. 다음으로, 커널이 입력 데이터의 다음 위치 에서 계산한 MAC 연산 값 \"15\"를 특징맵의 대응 요소에 배정한다. 이와 같이 커널이 입력 데이터 상을 순회하면서 계산한 MAC 연산 값들을 특징맵에 모두 배정하 면, 2 x 2 크기의 특징맵이 완성될 수 있다. 이때, 입력 데이터가 예를 들어 3가지 채널(R채널, G채널, B채널)로 구성된다면, 동일 커널 또는 채널 별 상이한 채널을 각각 입력 데이터의 각 채널 별 데이터 상을 순회하며 다중 곱과 합을 진행하는 합성곱을 통해 채널 별 특징맵을 생성할 수 있다. 상기 MAC 연산을 위해서 스케줄러는 기 설정된 연산 순서를 기초로 각각의 MAC 연산을 수행할 프로세싱 엘 리먼트들(PE1 to PE12)을 할당하고, MAC 연산 값들이 저장되는 메모리 어드레스를 스케줄링 순서를 고려해서 NPU 내부 메모리에 설정할 수 있다. 도 8은 컨볼류션 신경망의 동작을 이해하기 쉽게 나타낸 종합도이다. 도 8을 참조하면, 예시적으로 입력 이미지가 5 x 5 크기를 갖는 2차원적 행렬인 것으로 나타나 있다. 또한, 도 9에는 예시적으로 3개의 노드, 즉 채널 1, 채널 2, 채널 3이 사용되는 것으로 나타내었다. 먼저, 레이어 1의 합성곱 동작에 대해서 설명하기로 한다. 입력 이미지는 레이어 1의 첫 번째 노드에서 채널 1을 위한 커널 1과 합성곱되고, 그 결과로서 특징맵1이 출력 된다. 또한, 상기 입력 이미지는 레이어 1의 두 번째 노드에서 채널 2를 위한 커널 2와 합성곱되고 그 결과로서 특징맵 2가 출력된다. 또한, 상기 입력 이미지는 세 번째 노드에서 채널 3을 위한 커널 3과 합성곱되고, 그 결 과로서 특징맵3이 출력된다. 다음으로, 레이어 2의 폴링(pooling) 동작에 대해서 설명하기로 한다. 상기 레이어 1 로부터 출력되는 특징맵1, 특징맵2, 특징맵3은 레이어 2의 3개의 노드로 입력된다. 레이어 2는 레이어 1로부터 출력되는 특징맵들을 입력으로 받아서 폴링(pooling)을 수행할 수 있다. 상기 폴링이라 함은 크 기를 줄이거나 행렬 내의 특정 값을 강조할 수 있다. 폴링 방식으로는 최대값 폴링과 평균 폴링, 최소값 폴링이 있다. 최대값 폴링은 행렬의 특정 영역 안에 값의 최댓값을 모으기 위해서 사용되고, 평균 폴링은 특정 영역내 의 평균을 구하기 위해서 사용될 수 있다. 각각의 합성곱을 처리하기 위해서 NPU의 프로세싱 엘리먼트들(PE1 to PE12)은 MAC 연산을 수행하도록 구성 된다. 도 8의 예시에서는 5 x 5 행렬의 피처맵이 폴링에 의하여 4x4 행렬로 크기가 줄어지는 것으로 나타내었다. 구체적으로, 레이어 2의 첫 번째 노드는 채널 1을 위한 특징맵1을 입력으로 받아 폴링을 수행한 후, 예컨대 4x4 행렬로 출력한다. 레이어 2의 두 번째 노드는 채널 2을 위한 특징맵2을 입력으로 받아 폴링을 수행한 후, 예컨 대 4x4 행렬로 출력한다. 레이어 2의 세 번째 노드는 채널 3을 위한 특징맵3을 입력으로 받아 폴링을 수행한 후, 예컨대 4x4 행렬로 출력한다. 다음으로, 레이어 3의 합성곱 동작에 대해서 설명하기로 한다. 레이어 3의 첫 번째 노드는 레이어 2의 첫 번째 노드로부터의 출력을 입력으로 받아, 커널 4와 합성곱을 수행하 고, 그 결과를 출력한다. 레이어 3의 두 번째 노드는 레이어 2의 두 번째 노드로부터의 출력을 입력으로 받아, 채널 2를 위한 커널 5와 합성곱을 수행하고, 그 결과를 출력한다. 마찬가지로, 레이어 3의 세 번째 노드는 레이 어 2의 세 번째 노드로부터의 출력을 입력으로 받아, 채널 3을 위한 커널 6과 합성곱을 수행하고, 그 결과를 출 력한다. 이와 같이 합성곱과 폴링이 반복되고 최종적으로는, 도 7과 같이 fully connected layer로 입력될 수 있다. 전술한 CNN은 자율 주행 분야에서도 널리 사용된다 도 9a는 본 명세서의 개시들이 적용되는 자율주행차량의 일 예를 나타내고, 도 9b는 국제 자동차 기술자 협회에 서 정한 자율주행 레벨을 나타낸다. 도 9a를 참조하면, 자율 주행 차량(vehicle)에는 라이다(Light Detection And Ranging, LiDAR), 레이더 (RADAR), 카메라, GPS, 초음파 센서, NPU 등이 장착될 수 있다. 이 특허의 발명자는 딥러닝을 활용하여 자율 주행을 보조할 수 있는 NPU에 대하여 연구하였다. 자율주행을 위하여, NPU는 4개의 핵심 기술 요구 사항을 만족해야 한다. 1. Perception: NPU는 센서들을 사용하여 다른 차량, 보행자, 도로 표지판, 교통 신호 및 도로 연석과 같은 정 적 및 동적 장애물을 포함하여 주변 환경을 감지, 이해 및 해석할 수 있어야 한다. 2. Localization & Mapping: NPU는 차량 위치를 찾고, 차량 주변의지도를 작성하고 해당지도와 관련하여 차량의 위치를 지속적으로 추적할 수 있어야 한다. 3. Path planning: NPU는 이전 두 작업의 출력을 활용하여 차량이 목적지에 도달할 수 있는 최적의 안전하고 실 현 가능한 경로를 채택하고, 도로의 장애물을 고려할 수 있어야 한다. 4. Control: NPU는 선택한 경로를 기반으로 제어 요소는 차량이 선택한 경로를 따라가는 데 필요한 가속, 토크 및 조향 각도 값을 출력할 수 있어야 한다. 한편, 자율 주행 기술은 첨단 운전자 보조 시스템(ADAS, Advanced Driver Assistance System) 및/또는 DSM(Driver's Statuis Monitoring)을 요구한다. ADAS & DSM은 하기의 기술 등을 포함한다 - 스마트 크루즈 컨트롤(Smart Cruise Control, SCC) - 자동 긴급 제동 시스템(Autonomous Emergency Braking, AEB) - 주차 조향 보조 시스템(Smart Parking Assistance System, SPAS) - 차선 이탈 경보 시스템(Lane Departure Warning System, LDWS) - 차선 유지 지원 시스템(Lane Keeping Assist System, LKAS) - 졸음 감지, 음주 감지, 더위 및 추위 감지, 부주의 감지, 영유아 방치 감지 등 상기 ADAS 기술에는 다양한 센서들이 활용되고, 해당 센서들을 딥러닝의 입력신호로 활용할 수 있다. - RGB CAMERA SENSOR (380nm~680nm) - RGB CAMERA with Polarizer - DEPTH CAMERA SENSOR - NIR CAMERA SENSOR (850nm~940nm) - THERMAL CAMERA SENSOR (9,000nm-14,000nm) - RGB+IR HYBRID SENSOR (380nm~940nm) - RADAR SENSOR - LIDAR SENSOR - ULTRASOUND SENSOR 한편, 도 9b를 참조하여, 국제 자동차 기술자 협회에서 정한 자율주행 레벨을 기준으로 각 레벨에 대하여 설명 하면 다음과 같다. 0 단계인 비자동화 단계는, V2X(Vehicle to everything) 통신 기능이 제공되지 않는 수동주행 차량이, 주행 중 안전을 위해 시스템이 단순히 경고하고 일시 개입하는 전방 충돌방지 보조(Forward Collision-Avoidance Assist, FCA), 후측 방 충돌경고(Blind-Spot Collision Warning, BCW)를 제공한다. 따라서, 0 단계에 있어서는, 운전자가 차량 제어를 전부 수행해야 한다. 1 단계인 운전자 보조 단계는, 특정 주행모드에서 시스템이 조향 또는 감·가속 중 하나를 수행하는 수동주행 차량이, 차로 유지 보조(Lane Following Assist, LFA), 스마트 크루즈 컨트롤(Smart Cruise Control, SCC) 등 을 제공한다. 따라서, 1 단계에 있어서는, 운전자가 속도 등을 인지하고 있어야 한다. 2 단계인 부분 자동화 단계는, 특정 주행모드에서 시스템이 조향 및 감·가속을 모두 수행하는 자율주행 차량이, 고속도로 주행 보조(Highway Driving Assist, HDA) 등을 제공한다. 따라서, 2 단계에 있어서는, 운전자 가 물체 등을 인지하고 있어야 한다. 2 단계까지는 시스템이 차량의 일부 주행을 보조하나(어시스트), 3 단계부터는 시스템이 전체 주행을 수행할 수 있다(파일럿). 즉, 차량은 스스로 차선을 변경하거나 앞 차량을 추월할 수 있고, 장애물도 피할 수 있다. 3 단계인 조건부 자동화 단계는, 차량을 제어하는 동시에 주행 환경을 인식하지만, 비상 상황 시 운전 제어권 이양을 운전자에게 요청해야 할 수 있다. 따라서, 3 단계에 있어서는, 운전자가 특정 도로 상황 등을 인지하고 있어야 한다. 4 단계인 고등 자동화 단계는, 3 단계와 동일하게 시스템이 전체 주행을 수행함과 아울러 위험 상황 발생 시에 도 안전하게 대응할 수 있는 단계를 의미한다. 따라서, 4 단계에 있어서는, 운전자가 날씨, 재난, 사고에 대해 인지하고 있어야 한다. 5 단계인 완전 자동화 단계는, 4 단계와는 달리 자율주행을 할 수 있는 지역에 제한이 없는 단계를 의미한다. 5 단계에 있어서는, 운전자의 인식이 불필요하다. <이종 센서로부터 제공되는 서로 다른 데이터 신호의 처리> 자율주행 성능 향상을 위해서 이종 센서로부터 제공되는 서로 다른 데이터를 처리하기 위한 퓨전(fusion) 알고 리즘 필요성이 대두되고 있다. 이하, 퓨전 알고리즘들에 대해서 소개한다. 도 10은 퓨전 알고리즘을 나타낸 예시도이다. 도 10에 도시된 바와 같이, 이종 센서로부터 제공되는 서로 다른 데이터를 처리하기 위해서 예시적으로 CNN(Convolutional Neural Network)과 RNN(Recurrent Neural Network)가 사용될 수 있다. CNN은 하나의 이미지 내의 오브젝트(object)를 검출하는데 사용될 수 있고, RNN은 시간 개념을 활용하여 오브젝트를 예측하기 위해서사용될 수 있다. 그 밖에 R-CCN(Region-based CNN), SPP-Net (Spatial Pyramid Pooling network), YOLO (You only look once), SSD (Single-Shot Multibox Detector), DSSD (Deconvolutional Single-Shot Multibox Detector), LTSM (Long-Short Term Memory), GRU (Gated Recurrent Unit) 등이 사용될 수 있다. 도 11a는 오브젝트를 인식하는 예를 나타낸 예시도이고, 도 11b는 SSD의 구조를 나타낸 예시도이다. 도 11a를 참고하여 알 수 있는 바와 같이, SSD 인공신경망 모델을 이용하면 이미지 내에서 다수의 오프젝트를 검출할 수 있다. 도 11b를 참고하면, SSD는 각 단계 별 피쳐맵에서 오브젝트를 검출할 수 있다. 예를 들면, SSD 는 VGG 구조 또는 Mobilenet 구조의 백본(backbone)과 결합될 수 있다. 도 12a는 차량에 장착되는 레이더를 이용하는 인공신경망의 예를 나타내고, 도 12b는 레이더와 카메라를 활용하 는 퓨전 처리 방식의 예를 나타낸다. 레이더로부터 제공되는 신호를 처리하기 위하여, 도 12a에 도시된 인공신경망은 컨볼류션, 풀링 그리고 ResNet 등을 포함할 수 있다. 레이더로부터 제공되는 신호와 카메라로부터 제공되는 RGB 신호를 처리하기 위하여, 도 12b에 도시된 퓨전 (fusion) 인공신경망이 사용될 수도 있다. 도 13은 라이다와 카메라를 활용하는 퓨전(fusion) 인공신경망의 예를 나타낸다. 도 13을 참고하면, 카메라로부터 제공되는 RGB 신호와 라이다로부터 제공되는 신호를 병렬 프로세싱을 통해 처 리하는 예가 나타나 있다. 병렬 프로세싱 도중에, 트랜스포머를 통해서 서로 다른 정보가 교환될 수 있다. 상기 방식은 도 14에 도시된 심층 퓨전 방식일 수 있다. 한편, 도시되지는 않았으나, 이종 센서로부터 제공되는 서로 다른 데이터를 처리하기 위해 인공신경망은 연접 (Concatenation) 동작과 건너뛰고 연결하기 (Skip-connection) 동작을 포함할 수 있다. 연접 동작은 특정 레이 어의 출력 결과를 서로 합치는 것을 의미하고, 건너뛰고 연결하기 동작은 특정 레이어의 출력 결과를 후속 레이 어를 건너뛰고, 다른 레이어로 전달하는 것을 의미한다. 이러한, 연접 동작과 건너뛰고 연결하기 동작은 NPU의 내부 메모리의 제어 난이도 증가 및 사용량을 증가시킬 수 있다. 지금까지는, 이종 센서로부터 제공되는 서로 다른 데이터를 퓨전하여 처리하기 위한 인공신경망에 대해서 설명 하였으나, 위 설명된 내용들만으로는, 인공신경망의 성능 향상을 꾀할 수 없는 약점이 있었다. 따라서, 이하에 서는 최적화된 인공신경망 및 NPU 구조에 대해서 설명하기로 한다. <이종 센서로부터의 서로 다른 데이터를 처리하기 위해 최적화된 퓨전(fusion) 인공신경망 및 NPU 구조> 먼저, 본 특허의 발명자는 이종 센서로부터의 서로 다른 데이터를 처리하기 위한 NPU에 대하여 연구하였다. 상기 NPU의 설계에 있어서 하기의 구성을 고려해야 한다: i. 이종 데이터 신호 처리(예컨대, RGB 카메라 + 레이더)에 적합한 NPU 구조를 가지는 것이 필요하다. ii. 이종 입력 신호 처리(예컨대, RGB 카메라 + 레이더)에 적합한 NPU 메모리 제어가 필요하다. iii. 다중 입력 채널(ADAS 및 DSM)에 적합한 NPU 구조를 가지는 것이 필요하다. iv. 다중 입력 채널(ADAS & DSM)에 적합한 NPU 메모리 제어가 필요하다. v. 퓨전(fusion) 인공신경망 모델 연산에 적합한 NPU 구조를 가지는 것이 필요하다. vi. 실시간 적용을 위해서 16ms 이하의 빠른 처리 속도가 필요하다 vii. 배터리 구동을 위해서 저소비 전력 달성이 필요하다. 퓨전(fusion) 인공신경망을 구현하기 위한 NPU는 하기의 기능을 지원해야 한다. 예상되는 요구 사항들은 아래와 같다: i. CNN 기능 지원: 합성곱에 최적화된 PE 어레이 및 메모리를 제어할 수 있어야 한다. ii. Depthwise-separable convolution을 효율적으로 처리할 수 있어야 한다. PE 이용률 및 성능(throughput)을 향상시키는 구조를 가져야 한다. iii. Batch mode 기능 지원 : 다중 채널(카메라 1~6), 이종 센서를 동시에 처리할 수 있도록 메모리 구성이 필 요하다.(PE 어레이의 크기와 메모리 크기가 적정한 비율이어야 한다) iv. 연접(Concatenation) 기능 지원 : 퓨전(fusion) 인공신경망을 위한 NPU는 이종 입력 데이터 신호를 연접 (Concatenation) 기능으로 처리할 수 있어야 한다. v. 건너뛰고 연결하기(Skip) 연결 기능 지원 : 퓨전(fusion) 인공신경망을 위한 NPU는 건너뛰고 연결하기(skip) 기능을 제공할 수 있는 SFU(Special Function Unit)를 포함할 수 있다. vi. 딥러닝 영상 전처리 기능 지원 : 퓨전(fusion) 인공신경망을 위한 NPU는 서로 다른 데이터 신호를 전처리하 는 기능을 제공할 수 있어야 한다. vii. 퓨전(fusion) 인공신경망을 효율적으로 컴파일 할 수 있는 컴파일러가 제공되어야 한다. 본 특허의 발명자는 다음과 같은 특징을 가진 NPU를 제안한다. i. NPU는 늦은 퓨전(Late Fusion), 조기 퓨전(Early Fusion), 심층 퓨전(Deep Fusion) 등, 인공신경망의 ANN 데이터 지역성 정보를 분석하는 컴파일러를 포함할 수 있다. ii. NPU는 ADC(artificial neural network data locality controller)에 기초하여 이종의 센서 데이터를 처리 하도록 PE 어레이를 제어하도록 구성될 수 있다. 즉, 퓨전(fusion)된 인공신경망은 센서에 따라 다양한 구조로 퓨전되며, 상기 구조에 대응되는 NPU를 제공함에 따라 PE 가동률(utilization rate)을 향상 시킬 수 있다. iii. ANN 데이터 지역성 정보에 기초하여 이종의 센서 데이터를 처리하도록 칩-내부 메모리의 크기를 적절 히 설정하도록 구성될 수 있다. 즉, ANN 데이터 지역성 정보를 분석하면 퓨전(fusion) 인공신경망을 처리하는 NPU의 메모리 대역폭을 개선할 수 있다. iv. NPU는 퓨전(fusion) 인공신경망에서 필요한 쌍선형 보간(Bilinear interpolation), 연접(Concatenation) 및 건너뛰고 연결하기(skip-connection 등)을 효율적으로 처리할 수 있는 SFU(Special Function Unit)를 포함 할 수 있다. 도 14는 늦은 퓨전(Late Fusion), 조기 퓨전(Early Fusion), 심층 퓨전(Deep Fusion)을 나타낸 예시도이다. 도 14를 참조하면, F\"는 퓨전 연산을 의미하며, 각각의 블록은 각각의 레이어를 의미한다. 도 14를 참고하여 알 수 있는 바와 같이, 늦은 퓨전은 각 레이어 별로 연산을 수행한 후, 마지막 과정에서 연산 결과를 퓨전하는 것 을 의미하고, 조기 퓨전은 조기에 서로 다른 데이터를 퓨전한 후, 레이어 별로 연산을 수행하는 것을 의미한다. 심층 퓨전은 서로 다른 데이터를 퓨전한 후, 서로 다른 레이어에서 연산을 수행하고, 연산 수행 결과를 다시 퓨 전한 후, 레이어 별로 연산을 수행하는 것을 의미한다. 도 15는 제1 예시에 따른 NPU 아키텍처를 포함하는 시스템 나타낸 예시도이다. 도 15에 도시된 바와 같이, 상기 NPU는 퓨전(fusion) 인공신경망을 위한 PE 어레이와, 칩-내부(On- chip) 메모리와, NPU 스케줄러과, SFU(special function unit)을 포함할 수 있다. 도 15을 설 명함에 있어서 중복되는 설명은 단지 설명의 편의를 위해 생략될 수 있다. 퓨전 인공신경망을 위한 PE 어레이는 적어도 하나의 퓨전 레이어를 가지는 다층 구조의 인공신경망모델의 합성곱을 처리하도록 구성된 PE 어레이를 의미할 수 있다. 즉, 퓨전 레이어는 이종 센서의 데이터가 퓨전 된 특징맵을 출력하도록 구성될 수 있다. 부연 설명하면 NPU의 SFU 다중 센서를 입력 받아 각각의 센 서 입력을 퓨전 시키는 기능을 제공하도록 구성될 수 있다. 퓨전 인공신경망을 위한 PE 어레이는 SFU(16 0)에서 퓨전 된 데이터를 입력 받아 합성곱을 처리하도록 구성될 수 있다. NPU는 M개의 이종 센서들(311, 312)로부터 서로 다른 데이터를 수신할 수 있다. 상기 이종의 센서들은 카 메라, 레이더, 라이다, 초음파, 열화상 카메라 등을 포함할 수 있다. 상기 NPU는 컴파일러로부터 퓨전(fusion) 인공신경망(ANN) 데이터 지역성 정보를 획득할 수 있다. 상기 퓨전 인공신경망의 적어도 하나의 레이어는 복수의 센서의 입력 데이터가 퓨전 된 레이어일 수 있다. 상기 NPU는 이종 센서 입력 데이터의 퓨전을 위해서 적어도 하나의 레이어에 연접 기능을 제공하도록 구성 될 수 있다. 연접된 레이어의 이종 센서들의 각각의 특징맵은 서로 연접되기 위해서 적어도 하나의 축의 크기는 서로 동일하게 처리될 수 있다. 예를 들면, X-축으로 이종 센서 데이터의 연접을 위해서 이종 센서 데이터 각각 의 X-축의 크기는 서로 동일할 수 있다. 예를 들면, Y-축으로 이종 센서 데이터의 연접을 위해서 이종 센서 데 이터 각각의 Y-축의 크기는 서로 동일할 수 있다. 예를 들면, Z-축으로 이종 센서 데이터의 연접을 위해서 이종 센서 데이터 각각의 Z-축의 크기는 서로 동일할 수 있다. 상기 이종 센서들(311, 312)로부터 서로 다른 데이터를 제공받아 처리하기 위하여, 상기 NPU 스케줄러는 퓨전(fusion) 인공신경망 모델의 추론을 처리할 수 있다. 상기 NPU 스케줄러는 도시된 바와 같이 제어부 내에 포함될 수 있다. 상기 NPU 스케줄러는 컴파일러으로부터 퓨전(fusion) 인공신경망의 데이터 지역성 정보를 획득 분석 하고, 상기 칩-내부 메모리의 동작을 제어할 수 있다. 구체적으로 설명하면, 다음과 같다. 상기 컴파일러는 상기 NPU에서 처리할 퓨전(fusion) 인공신경망 의 데이터 지역성 정보를 생성할 수 있다. 상기 NPU 스케줄러는 상기 퓨전(fusion) 인공신경망에 필요한 특수 기능(special function)에 대한 목록을 생성할 수 있다. 특수 기능은 합성곱 이외의 인공신경망 연산에 필요한 다양한 기능 등을 의미할 수 있다. 상기 퓨전(fusion) 인공신경망 데이터 지역성 정보를 잘 활용하면, non-maximum suppression(NMS), 건너뛰고 연결하기(SKIP-CONNECTION), 병목(Bottleneck), 쌍선형 보간(Bilinear interpolation) 등 퓨전(fusion) 인공신 경망에서 자주 발생하는 메모리 접근 증가 문제를 효율적으로 제어할 수 있다. 상기 퓨전(fusion) 인공신경망 데이터 지역성 정보를 활용하면, 먼저 연산된 제1 출력 특징맵 정보와 그리고 더 늦게 처리되는 제2 출력 특징맵 정보가 퓨전될 때까지, 저장해야 하는 데이터(예컨대, 제1 출력 특징맵)의 크기, 저장 기간 등을 컴파일 단계에서 알 수 있기 때문에, 칩-내부(on-chip) 메모리를 위한 메모리 맵을 사전에 효율적으로 설정할 수 있다. 상기 SFU은 퓨전(fusion) 인공신경망에 필요한 건너뛰고 연결하기(skip-connection) 그리고 연접 (concatenation)을 수행할 수 있다. 부연 설명하면, 연접은 이종의 센서 데이터를 퓨전하는데 활용될 수 있다. 연접을 위해서 각각의 센서 데이터의 크기는 재조정될 수 있다. 예를 들면, NPU는 크기조정(resize), 보간 법(interpolation) 등의 기능을 제공하여 퓨전 인공신공망의 연접을 처리하도록 구성될 수 있다. 상기 NPU의 칩-내부 메모리는 인공신경망 데이터 지역성 정보에 기초하여 PE 어레이 또는 SFU에 따른 특정 데이터를 특정 기간동안 선택적으로 보존할 수 있다. 상기 선택적 보존 여부는 제어부 에 의해서 제어될 수 있다. 또한 PE 어레이는 이종 센서의 개수에 대응되는 쓰레드(thread)의 개수를 가지도록 구성될 수 있다. 즉, 2 개의 센서 데이터를 입력 받도록 구성된 NPU의 어레이는 2개의 쓰레드를 가지도록 구성될 수 있다. 즉 하나의 쓰레드가 N x M 개의 프로세싱 엘리먼트들로 구성되면, 2개의 쓰레드는 N x M x 2 개의 프로세싱 엘 리먼트들로 구성될 수 있다. 예를 들면, PE 어레이의 각각의 쓰레드는 각각의 이종 센서의 특징맵을 처리 하도록 구성될 수 있다. 상기 NPU는 상기 퓨전 인공신경망의 연산 결과를 출력부를 통해 출력할 수 있다. 전술한 제1 예시에 따른 NPU 아키텍처는 다양하게 변형될 수 있다. 도 16a는 건너뛰고 연결하기(skip-connection)을 포함하는 인공신경망의 모델을 예시적으로 나타낸 예시도이고, 도 16b는 건너뛰고 연결하기(skip-connection)을 포함하는 인공신경망의 데이터 지역성 정보를 나타낸 예시도이 다. 도 16a에 도시된 바와 같이, 건너뛰고 연결하기(Skip-connection) 동작을 포함하는 5개의 레이어를 연산하기 위 해서, 도 16b에 도시된 바와 같이 예를 들면, 컴파일러는 16개 단계의 순서를 가지는 인공신경망 데이터 지역성 정보를 생성할 수 있다. NPU는 인공신경망 데이터 지역성 정보 순서 대로 칩-내부(On-chip) 메모리에 데이터 오퍼레이션을 요 청한다 건너뛰고 연결하기(Skip-connection) 동작의 경우, 제1 레이어의 출력 특징맵(OFMAP)은 제4 레이어의 출력 특징 맵(OFMAP)과 더해질 수 있다. 이와 같은, 건너뛰고 연결하기(Skip-connection) 동작을 위해서 제1 레이어의 출력 특징맵을 제5 레이어 연산까 지 보존해야 한다. 하지만, 다른 데이터들은 메모리 공간 활용을 위해서 연산 이후 삭제되어도 무방하다. 삭제된 메모리 영역에는 인공신경망 데이터 지역성 정보 순서를 기초로 이후에 연산 될 데이터가 저장될 수 있 다. 따라서, 인공신경망 데이터 지역 정보 순서를 따라 필요한 데이터를 칩-내부 메모리로 순차적으로 가 져오고, 재사용되지 않는 데이터를 삭제할 수 있기 때문에, 칩-내부(On-chip) 메모리의 메모리 크기가 작 더라도 칩-내부 메모리의 동작 효율을 향상시킬 수 있다. 따라서 NPU는 인공신경망 데이터 지역성 정보에 기초하여 일정 기간 동안 칩-내부 메모리의 특정 데 이터를 선택적으로 보존하거나, 삭제할 수 있다. 이러한 메커니즘은 건너뛰고 연결하기(Skip-connection) 동작 뿐만 아니라, 연접(concatenation), non-maximum suppression(NMS), 쌍선형 보간(Bilinear interpolation) 등 다양한 동작에 적용될 수도 있다. 예를 들면, NPU는 칩-내부 메모리의 효율적인 제어를 위해서 제2 레이어의 합성곱 연산을 수행한 후, 제1 레이어의 출력 특징맵(OFMAP)을 제외한 제1 레이어의 데이터가 삭제되도록 할 수 있다. 또 다른 예를 들어, NPU는 칩-내부 메모리의 효율적인 제어를 위해서 제3 레이어의 연산을 수행한 후, 제1 레이어의 출력 특징맵(OFMAP)을 제외한 제2 레이어의 데이터가 삭제되도록 할 수 있다. 또 다른 예를 들어, NPU는 칩-내 부 메모리의 효율적인 제어를 위해서 제4 레이어의 연산을 수행한 후, 제1 레이어의 출력 특징맵(OFMAP)을 제외한 제3 레이어의 데이터가 삭제되도록 할 수 있다. 또한, NPU는 칩-내부 메모리의 효율적인 제어 를 위해서 제5 레이어의 연산을 수행한 후, 제1 레이어의 출력 특징맵(OFMAP)을 포함한 제4 레이어의 데이터가 삭제되도록 할 수 있다. 상기 인공신경망 데이터 지역성 정보는 하기에 나열된 조건들을 고려하여 컴파일러가 생성하고 NPU가 수행할 데이터 처리 순서를 의미한다 1. ANN 모델의 구조 (이종 센서 데이터를 입력 받도록 설계된 Resnet, YOLO, SSD, 등 퓨전(fusion) 인공신경망) 2. 프로세서의 구조 (예컨대, CPU, GPU, NPU 등의 아키텍처) NPU의 경우 PE 개수, PE의 구조(예컨대, 입력 고정(input stationary), 출력 고정(output stationary), 가중치 고정(weight stationary) 등), PE 어레이와 유기적으로 동작하도록 구성된 SFU 구조 등 3. 칩-내부 메모리 크기(예컨대, 캐시가 데이터 보다 작을 때, 타일링(tiling) 알고리즘 적용 필요 등) 4. 처리할 퓨전-인공신경망모델의 각 레이어의 데이터 사이즈 5. 프로세싱 정책. 즉, NPU가 입력특징맵(IFMAP) 먼저 읽기 요청 또는 커널(Kernel) 먼저 읽기 요청할지에 대한 순서 등을 결정. 이는, 프로세서 또는 컴파일러에 따라 다양해질 수 있다. 도 17은 제2 예시에 따른 NPU 아키텍처를 포함하는 시스템 나타낸 예시도이다. 도 17을 참고하여 알 수 있는 바와 같이, 상기 NPU는 퓨전(fusion) 인공신경망을 위한 PE 어레이와, 칩-내부(On-chip) 메모리와, NPU 스케줄러과, SFU(special function unit)을 포함할 수 있다. 도 17을 설명함에 있어서 중복되는 설명은 단지 설명의 편의를 위해 생략될 수 있다. 상기 NPU 스케줄러는 도시된 바와 같이 제어부 내에 포함될 수 있다. 상기 NPU는 M개의 이종 센서들(311, 312)로부터 서로 다른 데이터를 수신할 수 있다. 상기 이종의 센서들 은 카메라, 레이더, 라이다, 초음파, 열화상 카메라 등을 포함할 수 있다. 상기 NPU는 컴파일러로부터 퓨전(fusion) 인공신경망(ANN) 데이터 지역성 정보를 획득할 수 있다. 상기 NPU는 N개의 출력부를 통하여 N개의 결과(예컨대, 이종의 추론 결과)를 출력할 수 있다. 상기 NPU로부터 출력되는 이종의 데이터는 분류(Classification), 시맨틱 세그멘테이션(Semantic segmentation), 오브젝트 검출(Object detection), 예측 등일 수 있다. 도 18은 제3 예시에 따른 NPU 아키텍처를 포함하는 시스템 나타낸 예시도이다. 도 18을 참고하여 알 수 있는 바와 같이, 상기 NPU는 퓨전(fusion) 인공신경망을 위한 PE 어레이와, 칩-내부(On-chip) 메모리와, NPU 스케줄러과, SFU(special function unit)을 포함할 수 있다. 도 18을 설명함에 있어서 중복되는 설명은 단지 설명의 편의를 위해 생략될 수 있다. 상기 NPU 스케줄러는 도시된 바와 같이 제어부 내에 포함될 수 있다. NPU는 M개의 이종 센서들(311, 312)로부터 서로 다른 데이터를 수신할 수 있다. 상기 이종의 센서들은 카 메라, 레이더, 라이다, 초음파, 열화상 카메라 등을 포함할 수 있다. 상기 NPU는 컴파일러로부터 퓨전(fusion) 인공신경망(ANN) 데이터 지역성 정보를 획득할 수 있다. 상기 NPU는 ADC(artificial neural network data locality controller)를 통해 칩-외부 메모리(50 0)로부터 인공신경망 연산에 필요한 데이터를 제공받을 수 있다. 상기 ADC는 상기 컴파일러로부터 제공되는 인공신경망 데이터 지역성 정보에 기초하여, 데이터를 미 리 관리할 수 있다. 구체적으로, ADC는 상기 컴파일러로부터 퓨전(fusion) 인공신경망의 인공신경망 데이터 지역성 정보 를 제공받아 분석하거나 또는 상기 컴파일러로부터 분석된 정보를 제공받아, 상기 칩-외부 메모리의 동작을 제어할 수 있다. 상기 ADC는 상기 퓨전 인공신경망 데이터 지역성 정보에 따라, 상기 칩-외부 메모리 내에 저장된 데 이터를 읽어와서 내부 버퍼 메모리에 사전에 캐싱할 수 있다. 칩-외부 메모리는 상기 퓨전 인공신경망의 모든 가중치 커널이 저장될 수 있으며, 칩-내부 메모리는 칩-외부 메모리에 저장된 모든 가중치 커널 중 인공신경망 데이터 지역성 정보에 따라 필요한 적어도 일부의 가중치 커널만 저장할 수 있다. 칩-외부 메모 리의 메모리 용량은 칩-내부 메모리의 메모리 용량보다 더 클 수 있다. ADC는 인공신경망 데이터 지역성 정보에 기초하여 NPU와 연동하거나 또는 독립적으로 NPU에 필 요한 데이터를 칩-외부 메모리로부터 사전에 준비하여, NPU의 추론 동작의 레이턴시를 저감하거나 또 는 동작 속도를 향상하도록 구성될 수 있다. 상기 NPU는 N개의 출력부를 통하여 N개의 결과(예컨대, 이종의 추론 결과)를 출력할 수 있다. 도 19는 제4 예시에 따른 NPU 아키텍처를 포함하는 시스템 나타낸 예시도이고, 도 20은 도 13에 도시된 퓨전 (fusion) 인공신경망을 도 19에 도시된 제4 예시에 따라 쓰레드로 구분한 예를 나타낸다. 도 19를 참고하여 알 수 있는 바와 같이, 상기 NPU는 퓨전(fusion) 인공신경망을 위한 PE 어레이와, 칩-내부(On-chip) 메모리와, NPU 스케줄러과, SFU(special function unit)을 포함할 수 있다. 상기 NPU 스케줄러는 도시된 바와 같이 제어부 내에 포함될 수 있다. 상기 NPU는 M개의 이종 센서들(311, 312)로부터 서로 다른 데이터를 수신할 수 있다. 상기 이종의 센서들 은 카메라, 레이더, 라이다, 초음파, 열화상 카메라 등을 포함할 수 있다. 상기 NPU는 컴파일러로부터 퓨전(fusion) 인공신경망(ANN) 데이터 지역성 정보를 획득할 수 있다. 상기 NPU는 N개의 이종 데이터(예컨대, 이종의 추론 결과)를 출력할 수 있다. 상기 NPU로부터 출력되 는 이종의 데이터는 분류(Classification), 시맨특 세그멘테이션(Semantic segmentation), 오브젝트 검출 (Object detection), 예측 등일 수 있다. 상기 PE 어레이는 다중 쓰레드를 처리할 수 있다. 도 20에 도시된 바와 같이, 카메라로부터 얻은 RGB 이미 지 데이터를 쓰레드 #1을 통해서 처리하고, 변환은 쓰레드 #2를 통해서 처리하고, 라이더로부터 얻은 데이터는 쓰레드 #3을 통해서 처리할 수 있다. 이를 위해, 컴파일러는 인공신경망 모델을 분석하고, 병렬 연산 흐름을 기초로, 쓰레드를 구분할 수 있다. NPU의 PE 어레이는 퓨전(fusion) 인공신경망의 병렬 처리 연산이 가능한 레이어를 다중 쓰레드를 통 해서 연산 효율을 향상시킬 수 있다. NPU의 PE 어레이는 미리 설정된 쓰레드를 포함할 수 있다. NPU는 PE 어레이 내의 각 쓰레드가 칩-내부(On-chip) 메모리와 통신할 수 있도록 제어할 수 있 다. NPU는 쓰레드 별 칩-내부(On-chip) 메모리 내부 공간을 선택적으로 할당할 수 있다. NPU는 쓰레드 별로 적절한 칩-내부(On-chip) 메모리를 할당할 수 있다. 칩-내부 메모리의 메모 리 할당은 퓨전 인공신경망의 인공신경망 데이터 지역성 정보에 기초하여 제어부가 결정할 수 있다. NPU는 퓨전(fusion) 인공신경망에 기초하여, PE 어레이 내에 쓰레드를 설정할 수 있다. 상기 NPU는 N개의 출력부를 통하여 N개의 결과(예컨대, 이종의 추론 결과)를 출력할 수 있다. 도 21은 제5 예시에 따른 NPU 아키텍처를 포함하는 시스템 나타낸 예시도이고, 도 22는 도 21에 도시된 SFU의 파이프라인 구조의 제1 예시를 나타낸 예시도이다. 도 21을 참고하여 알 수 있는 바와 같이, 상기 NPU는 퓨전(fusion) 인공신경망을 위한 PE 어레이와, 칩-내부(On-chip) 메모리와, NPU 스케줄러과, SFU(special function unit)을 포함할 수 있다. 상기 NPU는 M개의 이종 센서들(311, 312)로부터 서로 다른 데이터를 수신할 수 있다. 상기 이종의 센서들 은 카메라, 레이더, 라이다, 초음파, 열화상 카메라 등을 포함할 수 있다. 상기 NPU는 컴파일러로부터 퓨전(fusion) 인공신경망(ANN) 데이터 지역성 정보를 획득할 수 있다. 상기 NPU는 N개의 이종 데이터(예컨대, 이종의 추론 결과)를 출력할 수 있다. 상기 NPU로부터 출력되 는 이종의 데이터는 분류(Classification), 시맨틱 세그멘테이션(Semantic segmentation), 오브젝트 검출 (Object detection), 예측 등일 수 있다. 도 22에 도시된 바와 같이, 상기 SFU은 여러 기능 유닛을 포함한다. 각각의 기능 유닛은 선택적으로 동작 될 수 있다. 각각의 기능 유닛은 선택적으로 턴-온되거나 턴-오프될 수 있다. 즉, 각각의 기능 유닛은 설정이 가능하다. 다시 말해서, 상기 SFU은 퓨전(fusion) 인공신경망 추론에 필요한 다양한 기능 유닛들을 포함할 수 있다. 예를 들면, 상기 SFU의 기능 유닛들은 건너뛰고 연결하기(skip-connection) 동작을 위한 기능 유닛, 활성 화 함수(activation function) 동작을 위한 기능 유닛, 풀링(pooling) 동작을 위한 기능 유닛, 양자화 (quantization) 동작을 위한 기능 유닛, NMS(non-maximum suppression) 동작을 위한 기능 유닛, 정수 및 부동 소수점 변환(INT to FP32) 동작을 위한 기능 유닛, 배치 정규화(batch-normalization) 동작을 위한 기능 유닛, 보간법(interpolation) 동작을 위한 기능 유닛, 연접(concatenation) 동작을 위한 기능 유닛, 및 바이아스 (bias) 동작을 위한 기능 유닛 등을 포함할 수 있다. 상기 SFU의 기능 유닛들은 인공신경망 데이터 지역성 정보에 의해서 선택적으로 턴-온되거나 혹은 턴-오프 될 수 있다. 인공신경망 데이터 지역성 정보는 특정 레이어를 위한 연산이 수행될 때, 해당 기능 유닛의 턴-오 프 혹은 턴-오프와 관련된 제어 정보를 포함할 수 있다. 도 23a는 도 21에 도시된 SFU의 일 예시를 나타낸 예시도이고, 도 23b는 도 21에 도시된 SFU의 다른 예시를 나 타낸 예시도이다. 도 23a 및 도 23b에 도시된 바와 같이, 상기 SFU의 기능 유닛들 중 활성화된 유닛은 턴-온 될 수 있다. 구체적으로 도 23a에 도시된 바와 같이, SFU는 건너뛰고 연결하기(skip-connection) 동작과 연접 (concatenation) 동작을 선택적으로 활성화 할 수 있다. 예시적으로, 활성화된 각각의 기능 유닛은 해칭 (hatching)으로 표기될 수 있다. 예를 들면, SFU는 퓨전 동작을 위해서 이종 센서 데이터를 연접할 수 있다. 예를 들면, SFU의 건너뛰 고 연결하기 동작을 위해서 제어부는 칩-내부 메모리와 SFU를 제어할 수 있다. 구체적으로 도 23b에 도시된 바와 같이, 양자화(quantization) 동작과 바이아스(bias) 동작을 선택적으로 활성 화할 수 있다. 예를 들면, PE 어레이에서 출력되는 특징맵 데이터의 크기를 저감하기 위해서 PE 어레이 에서 출력되는 특징맵을 SFU의 양자화 기능 유닛이 입력 받아 특징맵을 특정 비트폭으로 양자화 할 수 있다. 그리고 양자화된 특징맵을 칩-내부 메모리에 저장할 수 있다. 일련의 동작들은 제어부를 통해서 순차적으로 할 수 있으며, NPU 스케쥴러가 상기 동작들의 동작 순서를 제어하도록 구성될 수 있다. 이와 같이 SFU의 일부 기능 유닛을 선택적으로 턴-오프하는 경우, NPU의 소비 전력을 절감할 수 있다. 한편, 일부 기능 유닛을 턴-오프하기 위하여, 파워 게이팅(power gating)을 이용할 수 있다. 또는, 일부 기능 유닛을 턴-오프하기 위하여, 클럭 게이팅(clock gating)을 수행할 수도 있다. 도 24는 제6 예시에 따른 NPU 아키텍처를 포함하는 시스템 나타낸 예시도이다. 도 24에 도시된 바와 같이, NPU 배치 모드(Batch mode)가 적용될 수 있다. 상기 NPU는 퓨전(fusion) 인공신경망을 위한 PE 어레이와, 칩-내부(On-chip) 메모리와, NPU 스 케줄러과, SFU(special function unit)을 포함할 수 있다. 상기 NPU 스케줄러는 도시된 바와 같이 제어부 내에 포함될 수 있다. 상기 NPU는 컴파일러로부터 퓨전(fusion) 인공신경망(ANN) 데이터 지역성 정보를 획득할 수 있다. 본 예시에서 개시하는 배치 모드는 하나의 인공신경망모델로 다수의 동일 센서를 순차적으로 처리하여 상기 하 나의 인공신경망모델의 가중치를 상기 다수의 동일 센서의 개수만큼 재사용하도록 하여 저전력을 달성하도록 구 성된 모드를 의미한다. 배치 모드 동작을 위해서 NPU의 제어부는 칩-내부 메모리에 저장되는 가중치가 각각의 배치 채널에 입력되 는 센서의 개수만큼 재사용되도록 NPU 스케줄러를 제어하도록 구성될 수 있다. 즉, 예시적으로, NPU 가 M개의 센서로 배치 모드로 동작되도록 구성될 수 있다. 이때, NPU의 상기 배치 모드 동작은 퓨전-인공 신경망모델로 동작하도록 구성될 수 있다. 퓨전-인공신경망의 동작을 위해서 NPU는 퓨전을 위한 복수의 배치 채널들(BATCH CH#1, BATCH CH#2)을 가지 도록 구성될 수 있다. 각각의 배치 채널은 동일한 복수의 센서들을 포함하도록 구성될 수 있다. 제1 배치 채널 (BATCH CH#1)은 복수의 제1 센서들로 구성될 수 있다. 이때, 제1 센서들은 M개일 수 있다. 제K 배치 채널(BATCH CH#K)은 복수의 제2 센서들로 구성될 수 있다. 이때, 제2 센서들은 M개일 수 있다. 상기 NPU는 제1 배치 채널을 통해 센서들(311, 312)로부터의 입력을위해 대응되는 가중치를 칩-내부 메모 리에서 재사용하며 처리할 수 있다. 그리고, 상기 NPU는 제2 배치 채널을 통해 센서들(321, 322)로부 터의 입력을위해 대응되는 가중치를 칩-내부 메모리에서 재사용하며 처리할 수 있다. 이와 같이, 상기 NPU는 복수의 배치 채널을 통해 여러 센서들로부터의 입력을 제공받고 가중치를 재사용하 며 배치 모드로 퓨전-인공신경망을 처리할 수 있다. 상기 복수의 배치 채널들 중 적어도 하나의 채널의 센서와 다른 적어도 하나의 채널의 센서는 서로 상이할 수 있다. 상기 NPU 내의 칩-내부(On-chip) 메모리는 복수의 배치 채널에 대응되는 저장 공간을 가지도록 설정 될 수 있다. 상기 NPU 내의 NPU 스케줄러는 배치 모드에 따라 PE 어레이를 동작시킬 수 있다. 상기 NPU 내의 SFU는 적어도 하나의 퓨전 동작을 처리하기 위한 특수 기능을 제공할 수 있다. 상기 NPU는 복수의 배치 채널들을 통해 각각의 출력을 전달할 수 있다. 상기 복수의 배치 채널들 중 적어도 하나의 채널은 퓨전(fusion) 인공신경망의 추론 데이터일 수 있다. 도 25는 제7 예시에 따라 복수의 NPU를 활용하는 예를 나타낸 예시도이고, 도 26은 도 13에 도시된 퓨전 (fusion) 인공신경망을 도 25에 도시된 복수의 NPU를 통해 처리하는 예를 나타낸 예시도이다. 도 25에 도시된 바와 같이, 자율 주행을 위하여 복수개의, 예시적으로 M개의 NPU가 사용될 수 있다. M개의 NPU 중에서 제1 NPU(100-1)는 예컨대 센서#1로부터 제공되는 데이터를 처리할 수 있고, M번째 NPU(100-M)는 예 컨대 센서#M로부터 제공되는 데이터를 처리할 수 있다. 상기 복수의 NPU(예컨대 100-1, 100-2)는 ADC/DMA(Direct Memory Access)을 통하여 칩-외부 메모리에 접근할 수 있다. 상기 복수의 NPU(예컨대 100-1, 100-2)는 컴파일러로부터 퓨전(fusion) 인공신경망 데이터 지역성 정보를 획득할 수 있다. 각각의 NPU는 퓨전(fusion) 인공신경망을 처리하고 퓨전(fusion)을 위한 연산을 ADC/DMA를 통해서 서로 다 른 NPU로 전달할 수 있다. 상기 ADC/DMA는 상기 컴파일러로부터 퓨전(fusion) 인공신경망을 위한 데이터 지역성 정보를 획득할 수 있다. 상기 컴파일러는 인공신경망 데이터 지역성 정보에 따른 연산들 중에서 병렬 처리되어야 하는 연산들이 각 NPU에서 처리될 수 있도록, 인공신경망 데이터 지역성 정보를 데이터 지역성 정보 #1 그리고 데이터 지역성 정 보#M으로 분리하여 생성할 수 있다. 상기 칩-외부 메모리는 복수의 NPU들이 공유가능한 데이터를 저장하고, 각각의 NPU에 전달할 수 있다. 도 26에 도시된 바와 같이, 카메라로부터 제공되는 데이터를 처리하기 위한 제1 인공신경망을 NPU#1가 담당할 수 있고, 라이다로부터 제공되는 데이터를 처리하기 제2 인공신경망을 NPU#2가 담당할 수 있다. 또한, 상기 NPU#2는 제1 인공신경망과 제2 인공신경망의 퓨전을 위한 변환을 담당할 수 있다. 도 27a 내지 27c는 근적외선(near-infrared) 센서와 카메라를 사용하는 퓨전(fusion) 인공신경망의 활용 예를 나타낸다. 도 27a에 도시된 바와 같이, 일반적으로 차량에는 일반 헤드라이트가 가시 광선을 수평선 이하의 각도로 조사하 도록 설치되어 있다. 그러나, 본 특허의 발명자는 전방 방향으로 근적외선(near-infrared, NIR)을 조사하는 광 원을 추가 설치하고, NIR 센서를 차량에 설치하는 것을 제안한다. 일반적인 카메라는 일반적으로 380nm~680nm 파장의 RGB 이미지를 촬영할 수 있다. 반면, 상기 NIR 센서는 850nm~940nm 파장의 이미지를 촬영할 수 있다. 이와 같이, NIR 광원과 NIR 센서를 추가하면, 야간에 맞은편 차량을 주행하는 운전자의 시야에 방해를 주지 않 으며, 고품질의 이미지를 얻을 수 있다. 상기 NIR 센서는 대응되는 NIR 광원과 동기화 되고 PWM(Pulse Width Modulation)에 따라 구동될 수 있다. 따라 서, 소비 전력과 SNR이 향상될 수 있다. 한편, NIR 광원은 프레임마다 턴-온되거나 턴-오프될 수 있다. 도 27b에 도시된 바와 같이, NIR 광원이 턴-온되 거나 턴-오프되는 경우, 재귀반사(retro-reflector) 특성을 가진 표지판들이, 전체 이미지 내에서 구분될 수 있 다. 도 27c는 재귀반사의 특성이 나타나 있다. 이와 같이 NIR 광원을 턴-온 그리고 턴-오프함으로써, 재귀반사(retro-reflector) 특성을 가진 표지판들을 구분 해낼 수 있다. 부연 설명하면, NIR 광원과 NIR 센서가 인접할 경우, NIR 광원이 재귀반사판에 반사된 광량은 일 반적인 물체에 반사된 광량 대비 300 이상 더 밝게 감지될 수 있다. 따라서 온-오프 할때, 재귀 반사 물체를 감 지할 수 있다. NIR 센서는 NIR 반사광을 감지할 수 있지만, 일반 신호등 불빛 등은 감지되지 않으므로, 퓨전(fusion) 인공신경 망은 조명과 NIR 반사광을 구분할 수 있도록, 학습될 수 있다. 이상에서 설명한 바와 같이, RGB 영상과 NIR 영상을 혼합하여, 야간 자율주행을 가능하게 할 수 있다. 이러한 활용예는 다른 방식으로 확장될 수 있다. 예를 들어, NIR 광원을 차량 전조등에 추가 설치하고, 가시광선 380nm~680nm 파장 및 근적외선 850nm~940nm 파 장을 감지할 수 있는 이미지 센서를 포함하는 카메라를 설치할 수 있다. 퓨전(fusion) 인공신경망은 영상에서 전방 및 후방 접근 차량, 신호등, 장애물, 노면 상태, 보행자를 구분할 수 있다. 또 다른 예를 들어, 야간에 차량 실내를 촬영하기 위하여, NIR 광원과 NIR 센서가 차량 실내에 설치될 수 있다. 예를 들어, NIR 광원은 운전자 및 동승자의 상태를 촬영하도록 복수개가 서로 다른 최적의 위치에 설치될 수 있 다. 이를 통하여, 운전자 및 동승자의 건강 상태 등을 모니터링할 수 있다. 도 28은 제8 예시에 따라 편광기를 활용하는 예를 나타내고, 도 29a 및 도 29b는 편광기의 성능을 나타낸 예시 도이다. 도 28에 도시된 바와 같이, 이미지 센서#1에 편광기가 추가적으로 연결되고, 상기 편광기로부터의 출력이 상기 NPU#1로 입력된다. 상기 이미지 센서#1에 편광기를 추가하면, 태양광 반사를 저감할 수 있다. 도 29a 및 도 29b에 도시된 바 와 같이, 편광기를 활용하면, 차량 도장, 유리, 물, 직광 등에 반사되는 광을 필터링될 수 있다, 다만, 편광기 를 활용하면, 영상의 밝기가 25%정도 어두워질 수 있다. 따라서, 상기 NPU에 의해서 구동되는 인공신경망은 상기 편광기로 인해 저감된 밝기를 보상하도록 학습될 수 있다. 본 개시의 다양한 예시들은 AI 연산 속도 및 전력 소모를 최소화 하기 위해서 PE 어레이는 추론 전용 PE 어레이로 구성될 수 있다. 추론 전용 PE 어레이는 인공신경망의 학습 기능을 배제하도록 구성될 수 있다. 즉, 추론 전용 PE 어레이는 부동 소수점 연산기를 배제하도록 구성될 수 있다. 따라서 인공신경망 학습을 위해서는 별도의 학습 전용 하드웨어를 구비할 수 있다. 예를 들면, 본 개시의 다양한 예시들에 따른 PE 어레이는 8 비트 정수만 처리하도록 구성될 추론 전용 PE 어레이로 구성될 수 있다. 상술한 구성에 따르면 PE 어레이 는 부동 소수점 대비 소비전력을 대폭 절감할 수 있는 효과가 있다. 이때, SFU는 부동 소수점 연산이 필요 한 몇몇 특수 기능을 위해서 정수 및 부동 소수점 변환(INT to FP32) 동작을 위한 기능 유닛을 활용하도록 구성 될 수 있다. 즉, 몇몇 예시에 따르면, PE 어레이는 정수 연산만 가능하도록 구성되고, SFU에서 부동 소수점 연산 이 가능하도록 구성될 수 있다. 즉, 몇몇 예시에 따르면, 칩-내부 메모리 효율적인 운용을 위해서 NPU의 제어부는 SFU에서 칩- 내부 메모리로 저장되는 모든 데이터가 정수가 되도록 제어할 수 있다. <본 명세서의 개시들의 간략 정리> 본 명세서의 일 개시에 따르면, 신경 프로세싱 유닛(NPU)가 제공된다. 상기 NPU는 컴파일된 퓨전-인공신경망의 머신 코드를 입력받도록 구성된 제어부; 상기 퓨전-인공신경망에 대응되는 복수의 입력 신호를 수신받도록 구성 된 입력부(또는 센서); 상기 퓨전-인공신경망 연산을 수행하도록 구성된 프로세싱 엘리먼트(PE) 어레이; 상기 퓨전-인공신경망 연산의 특수 기능을 수행하도록 구성된 특수 기능 유닛(SFU); 및 상기 퓨전-인공신경망 연산 데이터를 저장하도록 구성된 온-칩 메모리를 포함할 수 있다. 상기 제어부는, 상기 머신-코드에 포함된 인공신 경망 데이터 지역성 정보에 따라 상기 퓨전-인공신경망의 모든 연산 순서가 기 설정된 순서대로 처리되도록, 상 기 프로세싱 엘리먼트 어레이, 상기 특수 기능 유닛 및 상기 온-칩 메모리를 제어하도록 구성된 스케줄러를 포 함할 수 있다. 상기 입력부는, 카메라, 편광 카메라, 3D 카메라, 근적외선 카메라, 열화상 카메라, 레이더, 라이다, 및 초음파 센서 중 적어도 하나로부터 감지된 신호를 입력받도록 설정될 수 있다. 상기 퓨전-인공신경망은, 스마트 크루즈 컨트롤, 자동 긴급 제동 시스템, 주차 조향 보조 시스템, 차선 이탈 경 보 시스템, 차선 유지 지원 시스템, 졸음 감지, 음주 감지, 더위 및 추위 감지, 부주의 감지 등을 추론하도록 학습된 퓨전-인공신경망일 수 있다. 상기 입력부는, 이종의 데이터를 입력받도록 설정될 수 있다. 상기 SFU는 인공신경망 퓨전을 위한, 건너띄고 연결하기(Skip-connection) 및 연접(Concatenation) 중 적어도 하나의 기능을 수행할 수 있다. 상기 스케줄러는, 상기 인공신경망 데이터 지역성 정보에 기초하여 상기 온-칩 메모리에 저장된 특정 데이터를 상기 퓨전-인공신경망의 특정 연산 단계까지 보호하도록, 상기 온-칩 메모리를 제어할 수 있다. 상기 NPU는, 상기 PE 어레이에 의해서 Classification, Semantic segmentation, Object detection, 및 Prediction 중 적어도 하나의 추론 연산을 처리하도록 학습된 상기 퓨전-인공신경망의 적어도 하나의 추론 결과 를 출력하도록 구성된 출력부를 더 포함할 수 있다. 상기 PE 어레이는 복수의 쓰레드를 더 포함할 수 있다. 상기 제어부는 상기 인공신경망 데이터 지역성에 기초하 여 상기 퓨전-인공신경망의 병렬 구간을 처리하도록 상기 복수의 쓰레드를 제어할 수 있다. 본 명세서의 다른 일 개시에 따르면, 신경 프로세싱 유닛(NPU)가 제공된다. 상기 NPU는 퓨전-인공신경망의 머신 코드를 입력받도록 구성된 제어부; 상기 머신 코드에 기초하여 상기 퓨전-인공신경망의 연산을 수행하도록 구성 된 프로세싱 엘리먼트(PE) 어레이; 및 상기 PE 어레이에서 처리된 합성곱 연산값을 입력받아 대응되는 특수 기 능을 연산하도록 구성된 특수 기능 유닛(SFU)을 포함할 수 있다. 상기 SFU는 복수의 기능 유닛들을 포함할 수 있다. 상기 SFU는 상기 머신-코드에 포함된 인공신경망 데이터 지역성 정보에 따라 복수의 기능 유닛들 중 적어 도 일부를 선택적으로 제어할 수 있다. 상기 복수의 기능 유닛들은 파이프라인 구조로 연결될 수 있다. 상기 복수의 기능 유닛들은 제어부에 의해서 선택적으로 활성화될 수 있다. 상기 복수의 기능 유닛들은 제어부에 의해서 선택적으로 비활성화될 수 있다. 상기 복수의 기능 유닛들 각각은 제어부에 의해서 특정 연산 단계마다 선택적으로 클럭 게이팅 및/또는 파워 게 이팅 될 수 있다. 상기 NPU는 상기 퓨전-인공신경망에 대응되는 복수의 입력 신호를 수신받도록 구성된 입력부; 및 상기 퓨전-인 공신경망 연산 데이터를 저장하도록 구성된 온-칩 메모리를 더 포함할 수 있다. 상기 NPU는, 상기 퓨전-인공신경망에 대응되는 복수의 입력 신호를 배치 모드로 수신받도록 구성된 배치 입력부; 상기 퓨전-인공신경망 연산 데이터를 배치 모드로 저장하도록 구성된 온-칩 메모리; 및 상기 프로세싱 엘리먼트 어레이에 의해서 Classification, Semantic segmentation, Object detection, 및 Pridection 중 적어 도 하나의 추론 연산을 배치 모드로 처리한 추론 결과를 출력하도록 구성된 출력부를 더 포함할 수 있다. 본 명세서의 또 다른 일 개시에 따르면, 시스템이 제공된다. 상기 시스템은 퓨전-인공신경망의 머신 코드를 입 력받도록 구성된 제어부, 적어도 하나의 입력 신호를 수신받도록 구성된 입력부, 합성곱 연산을 수행하도록 구 성된 프로세싱 엘리먼트 어레이 및 상기 합성곱 연산 결과를 저장하도록 구성된 온-칩 메모리를 포함하는 적어 도 하나의 신경 프로세싱 유닛(NPU); 그리고 상기 적어도 하나의 신경 프로세싱 유닛의 연속된 메모리 오퍼레이 션 요청들을 예측할 수 있는 상기 퓨전-인공신경망의 인공신경망 데이터 지역성 정보를 제공받도록 구성되고, 상기 인공신경망 데이터 지역성 정보에 기초하여, 대응되는 상기 적어도 하나의 신경 프로세싱 유닛이 요청할 상기 다음 메모리 오퍼레이션 요청을 사전에 캐싱하도록 구성된 메모리를 포함하는, 메모리 제어부를 포함할 수 있다. 상기 NPU는 복수개이고, 각각의 NPU의 제어부에 입력되는 상기 퓨전-인공신경망의 머신 코드는 상기 복수의 NPU 에서 병렬 처리될 수 있다. 상기 NPU는 복수개이고, 상기 메모리 제어부는 상기 복수의 NPU의 병렬처리를 직접 제어할 수 있다. 상기 NPU는 복수개이고, 상기 머신 코드는 상기 복수의 NPU에서 병렬처리되도록 컴파일될 수 있다. 상기 시스템은 적외선 광원 및 가시광선 광원을 더 포함할 수 있다. 상기 입력부는 가시광선 영상 및 적외선 영 상을 입력 받도록 설정될 수 있다. 상기 머신 코드는 상기 가시광선 영상과 상기 적외선 영상을 퓨전하도록 설 정될 수 있다. 상기 적외선 광원은 PWM 구동되도록 설정되고, 상기 적외선 영상은 상기 적외선 광원과 동기화될 수 있다. 상기 적외선 광원의 조사각과 상기 가시광선 광원의 조사각은 서로 일부 중첩될 수 있다. 본 명세서와 도면에 게시된 본 개시의 예시들은 본 개시의 기술내용을 쉽게 설명하고 본 개시의 이해를 돕기 위 해 특정 예를 제시한 것뿐이며, 본 명의 범위를 한정하고자 하는 것은 아니다. 여기에 게시된 예시들 이외에도 발명의 기술적 사상에 바탕을 둔 다른 변형 예들이 실시 가능하다는 것은 본 개시가 속하는 기술 분야에서 통상 의 지식을 가진 자에게 자명한 것이다."}
{"patent_id": "10-2022-0027949", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 개시에 따른 신경 프로세싱 유닛을 설명하는 개략적인 개념도이다. 도 2는 본 개시에 적용될 수 있는 프로세싱 엘리먼트 어레이 중 하나의 프로세싱 엘리먼트를 설명하는 개략적인 개념도이다. 도 3은 도 1에 도시된 NPU의 변형예를 나타낸 예시도이다. 도 4는 예시적인 인공신경망모델을 설명하는 개략적인 개념도이다. 도 5는 컨볼류션 신경망의 기본 구조를 설명하기 위한 도면이다. 도 6은 컨볼류션 레이어의 입력 데이터와 합성곱 연산에 사용되는 커널을 설명하기 위한 도면이다. 도 7은 커널을 사용하여 활성화 맵을 생성하는 컨볼류션 신경망의 동작을 설명하기 위한 도면이다. 도 8은 컨볼류션 신경망의 동작을 이해하기 쉽게 나타낸 종합도이다. 도 9a는 본 명세서의 개시들이 적용되는 자율주행차량의 일 예를 나타낸다. 도 9b는 국제 자동차 기술자 협회에서 정한 자율주행 레벨을 나타낸다. 도 10은 퓨전 알고리즘을 나타낸 예시도이다. 도 11a는 오브젝트를 인식하는 예를 나타낸 예시도이고, 도 11b는 SSD의 구조를 나타낸 예시도이다. 도 12a는 차량에 장착되는 레이더를 이용하는 인공신경망의 예를 나타낸다. 도 12b는 레이더와 카메라를 활용하는 퓨전 처리 방식의 예를 나타낸다. 도 13은 라이다와 카메라를 활용하는 퓨전(fusion) 인공신경망의 예를 나타낸다. 도 14는 늦은 퓨전(Late Fusion), 조기 퓨전(Early Fusion), 심층 퓨전(Deep Fusion)을 나타낸 예시도이다.도 15는 제1 예시에 따른 NPU 아키텍처를 포함하는 시스템 나타낸 예시도이다. 도 16a는 건너뛰고 연결하기(skip-connection)을 포함하는 인공신경망의 모델을 예시적으로 나타낸 예시도이다. 도 16b는 건너뛰고 연결하기(skip-connection)을 포함하는 인공신경망의 데이터 지역성 정보를 나타낸 예시도이 다. 도 17은 제2 예시에 따른 NPU 아키텍처를 포함하는 시스템 나타낸 예시도이다. 도 18은 제3 예시에 따른 NPU 아키텍처를 포함하는 시스템 나타낸 예시도이다. 도 19는 제4 예시에 따른 NPU 아키텍처를 포함하는 시스템 나타낸 예시도이다. 도 20은 도 13에 도시된 퓨전(fusion) 인공신경망을 도 19에 도시된 제4 예시에 따라 쓰레드로 구분한 예를 나 타낸다. 도 21은 제5 예시에 따른 NPU 아키텍처를 포함하는 시스템 나타낸 예시도이다. 도 22는 도 21에 도시된 SFU의 파이프라인 구조의 제1 예시를 나타낸 예시도이다. 도 23a는 도 21에 도시된 SFU의 파이프라인 구조의 제2 예시를 나타낸 예시도이다. 도 23b는 도 21에 도시된 SFU의 파이프라인 구조의 제3 예시를 나타낸 예시도이다. 도 24는 제6 예시에 따른 NPU 아키텍처를 포함하는 시스템 나타낸 예시도이다. 도 25는 제7 예시에 따라 복수의 NPU를 활용하는 예를 나타낸 예시도이다. 도 26은 도 13에 도시된 퓨전(fusion) 인공신경망을 도 25에 도시된 복수의 NPU를 통해 처리하는 예를 나타낸 예시도이다. 도 27a 내지 27c는 근적외선(near-infrared) 센서와 카메라를 사용하는 퓨전(fusion) 인공신경망의 활용 예를 나타낸다. 도 28은 제8 예시에 따라 편광기를 활용하는 예를 나타낸다. 도 29a 및 도 29b는 편광기의 성능을 나타낸 예시도이다."}
