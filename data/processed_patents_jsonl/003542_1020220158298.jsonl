{"patent_id": "10-2022-0158298", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0076112", "출원번호": "10-2022-0158298", "발명의 명칭": "인공지능 기반의 영상 화질 평가장치, 방법 및 이를 위한 컴퓨터 판독가능 프로그램", "출원인": "이화여자대학교 산학협력단", "발명자": "최장환"}}
{"patent_id": "10-2022-0158298", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "영상이미지의 화질을 평가하는 인공지능 기반의 영상 화질 평가장치로서,영상 화질 평가의 대상이 되는 테스트 이미지에 대한 다수의 입력 데이터를 생성하되, 상기 테스트 이미지에 적어도 하나 이상의 타겟 객체들을 삽입하여 상기 다수의 입력데이터를 생성하는 입력데이터 생성부;상기 다수의 입력데이터를 미리 마련된 디텍터 모델에 입력하고, 상기 디텍터 모델로부터 출력된 데이터를 기초로 상기 테스트 이미지의 화질을 평가하는 영상 화질 평가부를 포함하는, 인공지능 기반의 영상 화질 평가장치."}
{"patent_id": "10-2022-0158298", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서,상기 입력데이터 생성부는,상기 테스트 이미지의 원본인 원본-영상이미지에 랜덤하게 타겟 객체들을 삽입하여 상기 영상 화질 평가를 위한다수의 변조-영상이미지를 생성하고 이들의 집합을 상기 입력데이터로 생성하는 것인, 인공지능 기반의 영상 화질 평가장치."}
{"patent_id": "10-2022-0158298", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 2 항에 있어서,상기 입력데이터 생성부는,상기 원본-영상이미지의 전경영역만을 추출하여 관심맵을 생성하는 관심맵 생성부;상기 관심맵 상에 타겟 객체들을 랜덤하게 삽입하여 형상맵을 생성하는 형상맵 생성부; 및상기 형상맵을 상기 원본-영상이미지에 결합하여 상기 변조-영상이미지를 출력하는 변조-영상이미지 출력부를포함하는, 인공지능 기반의 영상 화질 평가장치."}
{"patent_id": "10-2022-0158298", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 3 항에 있어서,상기 형상맵 생성부는,상기 삽입되는 타겟 객체의 특징과 상기 타겟 객체가 삽입된 위치에 따라 서로 다른 다수의 형상맵을 생성하는것이고,상기 삽입된 타겟 객체들의 에지를 블러(blur) 처리하는, 인공지능 기반의 영상 화질 평가장치."}
{"patent_id": "10-2022-0158298", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 1 항에 있어서,상기 테스트 이미지는 의료영상 이미지이고, 상기 의료영상 이미지는 CT(Computed Tomography), MRI(MagneticResonance Imager), 초음파, PET(Positron Emission Tomography) 및 SPECT(Single Photon Emission ComputedTomography) 를 포함하는 이미지 모달리티들 중 어느 하나로부터 획득되는, 인공지능 기반의 영상 화질 평가장치."}
{"patent_id": "10-2022-0158298", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 1 항에 있어서,상기 영상 화질 평가부는,공개특허 10-2023-0076112-3-상기 다수의 입력데이터를 상기 디텍터 모델에 입력하여 mAP(mean Average Precision) 값을 산출하며,기 설정된 횟수만큼 상기 mAP값을 산출하는 것을 반복하여 얻어진 복수의 mAP값에 대한 평균값을 산출하여 이를상기 테스트 이미지에 대한 최종 영상 화질 평가값으로서 산출하는, 인공지능 기반의 영상 화질 평가장치."}
{"patent_id": "10-2022-0158298", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "영상이미지의 화질을 평가하기 위해 인공지능 기반의 영상 화질 평가장치에서 수행되는, 인공지능 기반의 영상화질 평가방법으로서,영상 화질 평가의 대상이 되는 테스트 이미지에 대한 다수의 입력 데이터를 생성하는 단계로서, 상기 테스트 이미지에 적어도 하나 이상의 타겟 객체들을 삽입하여 상기 다수의 입력 데이터를 생성하는, 상기 입력데이터를생성하는 단계; 및상기 다수의 입력데이터를 미리 마련된 디텍터 모델에 입력하고, 상기 디텍터 모델로부터 출력된 데이터를 기초로 상기 테스트 이미지의 화질을 평가하는 화질 평가 단계를 포함하는, 인공지능 기반의 영상 화질 평가방법."}
{"patent_id": "10-2022-0158298", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 7 항에 있어서,상기 입력데이터를 생성하는 단계는,상기 테스트 이미지의 원본인 원본-영상이미지에 랜덤하게 타겟 객체들을 삽입하여 상기 영상 화질 평가를 위한다수의 변조-영상이미지를 생성하고 이들의 집합을 상기 입력데이터로 생성하는 것인, 인공지능 기반의 영상 화질 평가방법."}
{"patent_id": "10-2022-0158298", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 8 항에 있어서,상기 입력데이터를 생성하는 단계는,상기 원본-영상이미지의 전경영역만을 추출하여 관심맵을 생성하는 단계;상기 관심맵 상에 타겟 객체들을 랜덤하게 삽입하여 형상맵을 생성하는 단계; 및상기 형상맵을 상기 원본-영상이미지에 결합하여 상기 변조-영상이미지를 출력하는 단계를 포함하는, 인공지능기반의 영상 화질 평가방법."}
{"patent_id": "10-2022-0158298", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제 9 항에 있어서,상기 형상맵을 생성하는 단계는,상기 삽입되는 타겟 객체의 특징과 상기 타겟 객체가 삽입된 위치에 따라 서로 다른 다수의 형상맵을 생성하는것이고,상기 삽입된 타겟 객체들의 에지를 블러(blur) 처리하는 단계를 포함하는, 인공지능 기반의 영상 화질평가방법."}
{"patent_id": "10-2022-0158298", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제 7 항에 있어서,상기 테스트 이미지는 의료영상 이미지이고, 상기 의료영상 이미지는 CT(Computed Tomography), MRI(MagneticResonance Imager), 초음파, PET(Positron Emission Tomography) 및 SPECT(Single Photon Emission ComputedTomography) 를 포함하는 이미지 모달리티들 중 어느 하나로부터 획득되는, 인공지능 기반의 영상 화질 평가방법."}
{"patent_id": "10-2022-0158298", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "공개특허 10-2023-0076112-4-제 7 항에 있어서,상기 테스트 이미지의 화질을 평가하는 단계는,상기 다수의 입력데이터를 상기 디텍터 모델에 입력하여 mAP(mean Average Precision) 값을 산출하는 단계; 및기 설정된 횟수만큼 상기 mAP 값을 산출하는 단계를 반복하여 얻어진 복수의 mAP값에 대한 평균값을 산출하여이를 상기 테스트 이미지에 대한 최종 영상 화질 평가값으로서 산출하는 단계를 포함하는, 인공지능 기반의 영상 화질 평가방법."}
{"patent_id": "10-2022-0158298", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제 7 항 내지 제 12 항 중 어느 한 항에 따른 인공지능 기반의 영상 화질 평가방법을 실행하도록 구성된, 컴퓨터로 판독가능한 기록매체에 저장된 컴퓨터 판독가능한 프로그램."}
{"patent_id": "10-2022-0158298", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "인공지능 기반의 영상 화질 평가장치, 방법 및 이를 위한 컴퓨터 판독가능 프로그램이 개시된다. 본 발명에 따른 인공지능 기반의 영상 화질 평가장치는 영상이미지의 화질을 평가하는 인공지능 기반의 영상 화질 평가장치로서, 영상 화질 평가의 대상이 되는 테스트 이미지에 대한 다수의 입력 데이터를 생성하되, 상기 테스트 이미지에 적 어도 하나 이상의 타겟 객체들을 삽입하여 상기 다수의 입력데이터를 생성하는 입력데이터 생성부 및 상기 다수 의 입력데이터를 미리 마련된 디텍터 모델에 입력하고, 상기 디텍터 모델로부터 출력된 데이터를 기초로 상기 테 스트 이미지의 화질을 평가하는 영상 화질 평가부를 포함한다. 상술한 본 발명에 따르면, 하나의 영상이미지로부 터 다수의 입력데이터들을 생성하여 이를 기반으로 영상 화질 평가를 수행할 수 있다. 따라서, 레퍼런스 이미지 의 양이 절대적으로 부족한 의료 분야에서도 의료 이미지의 화질을 정확도 높게 평가할 수 있는 이점을 갖는다."}
{"patent_id": "10-2022-0158298", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 인공지능 기반의 영상 화질 평가장치, 방법 및 이를 위한 컴퓨터 판독가능 프로그램에 관한 것으로서, 보다 상세하게는 인공지능 알고리즘을 기반으로 영상이미지의 화질을 평가하는 인공지능 기반의 영상 화질 평가장치, 방법 및 이를 위한 컴퓨터 판독가능 프로그램이다."}
{"patent_id": "10-2022-0158298", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "영상정보는 어떠한 프로세스, 예컨대 부호화 또는 네트워크 전송을 거치게 되면 일반적으로 그 품질이 열화된다. 이와 같은 열화된 영상에 대해 인간이 실제로 보고 느끼는 열화의 정도를 주관적 품질이라고 한다. 종래에는 그 주관적 품질을 평가하는 방법으로서, 인간이 실제로 영상을 보는 것에 의한 주관적 품질 평가 시험 을 하였다. 그러나, 인간이 실제로 영상을 보고 그 영상의 품질을 평가하는 것은 노력을 요하고, 영상의 품질평 가에 시간이 걸린다는 문제가 있다. 또한 영상의 품질평가에 정통한 사람과 그렇지 않은 초보자는 서로 다른 평 가를 내리는 객관성이 결여되는 문제가 있다. 그래서, 물리적인 측정을 이용하여 영상의 품질을 추정하는 방법으로서, 기준영상신호와 열화된 열화영상신호와 의 물리적 특성값의 차이에 따라, 또는 오직 열화영상신호의 물리적 특성값만을 이용하여 얻게되는 열화량에 따 라 영상 품질의 열화정도를 평가하는 방법이 있다. 그러나, 이러한 경우에도 인간이 그 영상을 실제로 보고 그 품질을 평가하여 주관적 평가시험을 행해야 하는 기 술적 상황이 여전히 존재한다. 한편, 의료영상의 화질평가 기술은 적절한 방사선 사용량 정의와 새로운 의료영상 기술을 개발하기 위해 요구되 고 있다. 특히 의료영상의 경우 자연이미지와 달리 영상을 사용하여 얼마나 의료진이 클리니컬 태스크를 잘 수 행할 수 있는지에 따라 화질 평가의 중요한 지표이므로 의료진이 직접 평가하는 것이 바람직한 것으로 여겨지고 있다. 그러나, 의료진의 비싼 인건비와 한정된 시간으로 인하여 대량의 의료영상 화질평가는 제한될 수밖에 없 는 실정이다. 이로 인해 자동으로 영상의 화질을 객관적으로 평가해주는 Image Quality Metric(IQM) 기술이 등장하게 되었고, 그 결과 많은 IQM 들이 개발되었다. 대표적인 것으로는 PSNR, SSIM 등이 있으며, 최근에는 분류 태스크를 수행 하는 딥러닝 모델 또한 영상 화질 평가에 활용되고 있다. 그러나, 이 또한 대부분의 IQA 연구가 의료이미지 보 다는 자연이미지에 더 집중되어 있다는 문제점이 있다. 따라서, CT 분야의 경우 의료 이미지에 더욱 더 최적화 된 방법으로 화질을 평가하는 Model Observer(MO) 가 활발히 연구되었다. MO는 좋은 품질의 의료 이미지는 의료 진이 이미지 내 병변을 잘 디텍하여 클리니컬 태스크(clinical task)를 수행할 수 있다는 아이디어에 기반하여 디텍터를 통해 의료 이미지의 화질 평가를 계산하는 task-based approach를 보여준다. 하지만 이러한 MO 도 No- reference인 경우에 그 정확도가 현저히 떨어지므로 자연이미지와 달리 레퍼런스 이미지가 많지 않은 의료 환경 에 부합하지 않는다는 문제점이 있다. 따라서, 자연이미지 뿐만 아니라 레퍼런스 이미지가 많지 않은 의료이미지에도 정확도 높게 화질을 평가할 수 있는 영상 화질 평가 장치가 요구되는 실정이다. 선행기술문헌 특허문헌 (특허문헌 0001) 한국공개특허공보 제10-2006-0033717호"}
{"patent_id": "10-2022-0158298", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 일 측면에 따르면, 영상이미지에 타겟 객체들을 삽입하여 다수의 입력데이터를 생성하고, 이를 학습 하여 디텍터 모델을 생성하며, 영상 화질 평가의 대상이 되는 테스트 이미지에 대한 다수의 입력데이터를 상기 생성된 디텍터 모델에 입력하여 테스트 이미지에 대한 화질을 평가하는 인공지능 기반의 영상 화질 평가장치, 방법 및 이를 위한 컴퓨터 판독가능 프로그램을 제공하는데 그 목적이 있다."}
{"patent_id": "10-2022-0158298", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 일 실시예에 따른 인공지능 기반의 영상 화질 평가장치는 영상이미지의 화질을 평가하는 인공지능 기 반의 영상 화질 평가장치로서, 영상 화질 평가의 대상이 되는 테스트 이미지에 대한 다수의 입력 데이터를 생성 하되, 상기 테스트 이미지에 적어도 하나 이상의 타겟 객체들을 삽입하여 상기 다수의 입력데이터를 생성하는 입력데이터 생성부 및 상기 다수의 입력데이터를 미리 마련된 디텍터 모델에 입력하고, 상기 디텍터 모델로부터 출력된 데이터를 기초로 상기 테스트 이미지의 화질을 평가하는 영상 화질 평가부를 포함한다. 한편, 입력데이터 생성부는, 상기 테스트 이미지의 원본인 원본-영상이미지에 랜덤하게 타겟 객체들을 삽입하여 상기 영상 화질 평가를 위한 다수의 변조-영상이미지를 생성하고 이들의 집합을 상기 입력데이터로 생성하는 것 일 수 있다. 또한, 입력데이터 생성부는, 상기 원본-영상이미지의 전경영역만을 추출하여 관심맵을 생성하는 관심맵 생성부, 상기 관심맵 상에 타겟 객체들을 랜덤하게 삽입하여 형상맵을 생성하는 형상맵 생성부 및 상기 형상맵을 상기 원본-영상이미지에 결합하여 상기 변조-영상이미지를 출력하는 변조-영상이미지 출력부를 포함할 수 있다. 또한, 형상맵 생성부는, 상기 삽입되는 타겟 객체의 특징과 상기 타겟 객체가 삽입된 위치에 따라 서로 다른 다 수의 형상맵을 생성하는 것이고, 상기 삽입된 타겟 객체들의 에지를 블러(blur) 처리할 수 있다. 또한, 상기 테스트 이미지는 의료영상 이미지이고, 상기 의료영상 이미지는 CT(Computed Tomography), MRI(Magnetic Resonance Imager), 초음파, PET(Positron Emission Tomography) 및 SPECT(Single Photon Emission Computed Tomography) 를 포함하는 이미지 모달리티들 중 어느 하나로부터 획득될 수 있다. 또한, 영상 화질 평가부는, 상기 다수의 입력데이터를 상기 디텍터 모델에 입력하여 mAP(mean Average Precision) 값을 산출하며, 기 설정된 횟수만큼 상기 과정을 반복하여 얻어진 복수의 mAP값에 대한 평균값을 산 출하여 이를 상기 테스트 이미지에 대한 최종 영상 화질 평가값으로서 산출할 수 있다. 본 발명의 다른 실시예에 따른 인공지능 기반의 영상 화질 평가방법은 영상이미지의 화질을 평가하기 위해 인공 지능 기반의 영상 화질 평가장치에서 수행되는, 인공지능 기반의 영상 화질 평가방법으로서, 영상 화질 평가의 대상이 되는 테스트 이미지에 대한 다수의 입력 데이터를 생성하는 단계로서, 상기 테스트 이미지에 적어도 하 나 이상의 타겟 객체들을 삽입하여 상기 다수의 입력 데이터를 생성하는, 상기 입력데이터를 생성하는 단계 및 상기 다수의 입력데이터를 미리 마련된 디텍터 모델에 입력하고, 상기 디텍터 모델로부터 출력된 데이터를 기초 로 상기 테스트 이미지의 화질을 평가하는 화질 평가 단계를 포함한다. 한편, 입력데이터를 생성하는 단계는, 상기 테스트 이미지의 원본인 원본-영상이미지에 랜덤하게 타겟 객체들을 삽입하여 상기 영상 화질 평가를 위한 다수의 변조-영상이미지를 생성하고 이들의 집합을 상기 입력데이터로 생 성하는 것일 수 있다. 또한, 입력데이터를 생성하는 단계는, 상기 원본-영상이미지의 전경영역만을 추출하여 관심맵을 생성하는 단계, 상기 관심맵 상에 타겟 객체들을 랜덤하게 삽입하여 형상맵을 생성하는 단계 및 상기 형상맵을 상기 원본-영상이미지에 결합하여 상기 변조-영상이미지를 출력하는 단계를 포함할 수 있다. 또한, 형상맵을 생성하는 단계는, 상기 삽입되는 타겟 객체의 특징과 상기 타겟 객체가 삽입된 위치에 따라 서 로 다른 다수의 형상맵을 생성하는 것이고, 상기 삽입된 타겟 객체들의 에지를 블러(blur) 처리하는 단계를 포 함할 수 있다. 또한, 상기 테스트 이미지는 의료영상 이미지이고, 상기 의료영상 이미지는 CT(Computed Tomography), MRI(Magnetic Resonance Imager), 초음파, PET(Positron Emission Tomography) 및 SPECT(Single Photon Emission Computed Tomography)를 포함하는 이미지 모달리티들 중 어느 하나로부터 획득될 수 있다. 또한, 테스트 이미지의 화질을 평가하는 단계는, 상기 다수의 입력데이터를 상기 디텍터 모델에 입력하여 mAP(mean Average Precision) 값을 산출하는 단계 및 기 설정된 횟수만큼 상기 다수의 입력데이터를 얻는 단계 및 상기 mAP 값을 산출하는 단계를 반복하여 얻어진 복수의 mAP값에 대한 평균값을 산출하여 이를 상기 테스트 이미지에 대한 최종 영상 화질 평가값으로서 산출하는 단계를 포함할 수 있다. 또한, 본 발명의 또 다른 실시예는 인공지능 기반의 영상 화질 평가방법을 실행하도록 구성된, 컴퓨터로 판독가 능한 기록매체에 저장된 컴퓨터 판독가능한 프로그램을 포함할 수 있다."}
{"patent_id": "10-2022-0158298", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "상술한 본 발명에 따르면, 하나의 영상이미지로부터 다수의 입력데이터들을 생성하여 이를 기반으로 영상 화질 평가를 수행할 수 있다. 따라서, 레퍼런스 이미지의 양이 절대적으로 부족한 의료 분야에서도 의료 이미지의 화 질을 정확도 높게 평가할 수 있는 이점을 갖는다."}
{"patent_id": "10-2022-0158298", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "후술하는 본 발명에 대한 상세한 설명은, 본 발명이 실시될 수 있는 특정 실시예를 예시로서 도시하는 첨부 도 면을 참조한다. 이들 실시예는 당업자가 본 발명을 실시할 수 있기에 충분하도록 상세히 설명된다. 본 발명의 다양한 실시예는 서로 다르지만 상호 배타적일 필요는 없음이 이해되어야 한다. 예를 들어, 여기에 기재되어 있 는 특정 형상, 구조 및 특성은 일 실시예와 관련하여 본 발명의 정신 및 범위를 벗어나지 않으면서 다른 실시예 로 구현될 수 있다. 또한, 각각의 개시된 실시예 내의 개별 구성요소의 위치 또는 배치는 본 발명의 정신 및 범 위를 벗어나지 않으면서 변경될 수 있음이 이해되어야 한다. 따라서, 후술하는 상세한 설명은 한정적인 의미로 서 취하려는 것이 아니며, 본 발명의 범위는, 적절하게 설명된다면, 그 청구항들이 주장하는 것과 균등한 모든 범위와 더불어 첨부된 청구항에 의해서만 한정된다. 도면에서 유사한 참조부호는 여러 측면에 걸쳐서 동일하거 나 유사한 기능을 지칭한다. 이하, 도면들을 참조하여 본 발명의 바람직한 실시예들을 보다 상세하게 설명하기로 한다. 도 1 은 본 발명의 일 실시예에 따른 인공지능 기반의 영상 화질 평가장치의 블록도이고, 도 2 는 도 1 에 도시 된 영상 화질 평가장치에서 영상 화질을 평가하는 일련의 과정을 도시한 도면이고, 도 3 은 도 1 에 도시된 영상 화질 평가장치에서 CT 영상 이미지를 평가하는 일련의 과정을 도시한 도면이다. 본 실시예에 따른 인공지능 기반의 영상 화질 평가장치는 영상이미지의 화질을 평가하는 인공지능 기반의 영상 화질 평가장치로서, 입력데이터 생성부 및 영상 화질 평가부를 포함한다. 입력데이터 생성부는 영상 화질 평가의 대상이 되는 테스트 이미지에 대한 다수의 입력 데이터를 생성하되, 상기 테스트 이미지에 적어도 하나 이상의 타겟 객체들을 삽입하여 상기 다수의 입력데이터를 생성한 다. 입력데이터 생성부는 테스트 이미지의 원본인 원본-영상이미지에 랜덤하게 타겟 객체들을 삽입하여 영상 화질 평가를 위한 다수의 변조-영상이미지를 생성하고 이들의 집합을 상기 입력데이터로 생성하는 것일 수 있다. 즉, 입력데이터 생성부는 적어도 하나의 원본-영상이미지로부터 변조된 다수의 영상이미지 세트를 입력데이터로 생성하는 것이다. 이로써, 적은 레퍼런스 데이터만으로도 자체적으로 디텍터 모델을 학습하거나 영상 화질을 평가하기 위한 다수의 입력데이터의 생성이 가능하다. 한편, 상기 테스트 이미지는 의료영상 이미지이고, 의료영상 이미지는 CT(Computed Tomography), MRI(Magnetic Resonance Imager), 초음파, PET(Positron Emission Tomography) 및 SPECT(Single Photon Emission Computed Tomography) 등 다양한 이미지 모달리티들 중 어느 하나로부터 획득될 수 있으며, 이에 한정되지 않는다. 입력데이터 생성부는 관심맵 생성부, 형상맵 생성부 및 변조-영상이미지 출력부를 포함한 다. 입력데이터 생성부는 도 3 에서와 같이, 의료 영상에 가상의 오브젝트를 삽입하는 데이터 생성기(Data Generator)로 구성될 수 있다. 먼저, 관심맵 생성부는 상기 원본-영상이미지의 전경영역만을 추출하여 관심맵을 생성한다. 이를 위해, 관 심맵 생성부는 원본-영상이미지의 배경영역은 제외하고 전경부분만을 추출하는 기설정된 알고리즘을 이용 하여 관심맵을 생성할 수 있다. 상기 기설정된 알고리즘은, 도 3 의 'saliency detection' 과 'thresholding' 에 대응할 수 있다. 즉, 관심맵 생성부는 각 CT 이미지의 돌출맵(saliency map)을 획득하는 과정을 통해, CT 이미지에서 풍부 한 질감 세부 정보를 가진 환자의 해부학적 신체를 이미지 배경으로부터 구별하고, 이 돌출맵을 이진맵으로 변 환하여 해부학적 배경을 식별할 수 있다. 이렇게 관심맵 생성부에 의해 추출된 관심맵의 일 예는 도 2 의 \" saliency detection 단계\"를 거친 이 후의 모습일 수 있으며, 도 2 에 따르면, 원본-영상이미지가 사람의 신체를 촬영한 CT(computed tomography)이 미지일 경우, 해당 원본-영상이미지에서 추출한 관심맵은 사람의 몸체영역일 수 있다. 또한, 앞선 단락에서 이해를 돕기 위해 CT 이미지로 한정하여 설명하였으나, 반드시 CT 이미지로 한정되는 것은 아니며 유사한 기술적 사상이 CT 이미지와 상이한 다른 의료 영상 혹은 의료 이미지에 적용될 수 있음은 당연하 다. 형상맵 생성부는 상기 관심맵 상에 타겟 객체들을 랜덤하게 삽입하여 형상맵을 생성한다. 이러한 형상맵을 생성하는 구체적인 과정은 도 3 에서와 같이, 'Determine Location'과 'Choose Configuration', 'Gaussian Blur', 'Insert Objects'에 대응할 수 있다. 보다 구체적으로, 형상맵 생성부는 관심맵 상에 타겟 객체들이 삽입될 위치를 선정할 수 있다('Determine Location'). 이때, 타겟 객체들이 삽입될 위치는 이진맵에서 상대적으로 높은 값의 인덱스의 위치일 수 있다. 다음으로, 형상맵 생성부는 타겟 객체의 특징을 고려하여 타겟 객체들을 선택할 수 있다('Choose Configuration'). 이때, 상기 타겟 객체의 특징은 모양(Shape), 대비(Contrast), 크기(Shape), 컬러(RGB 색상 코드 등) 을 포함할 수 있으며, 이에 한정되지 않는다. 형상맵 생성부는 상기 타겟 객체의 특징과 타겟 객체의 수에 따라 다르게 구성될 수 있는 타겟 객체의 세 트를 무작위로 마련할 수 있다. 예컨대, 타겟 객체의 수 2~5개, 크기 7~10 픽셀, 대비 8~10%의 범위 내에서 타 겟 객체의 세트가 선택될 수 있다. 또한, 형상맵 생성부는 상기 삽입된 타겟 객체들의 에지(edge)를 블러(blur) 처리할 수 있다('Gaussian Blur'). 이때, 형상맵 생성부는 가우시안 필터(gaussian filter)를 적용하여 삽입된 타겟 객체들의 에지 영역을 블러되도록 만들 수 있다. 예컨대, 타겟 객체들은 5 x 5 커널로 가우스 블러에 의해 흐리게 처리되어 가장 자리가 배경 텍스처와 잘 혼합될 수 있다. 이로써, 후술할 디텍터 모델이 인간 장기에 존재하지 않는 고주파 성분의 날카로운 에지 텍스처에 의존하여 훈련되는 것을 방지할 수 있다. 마지막으로, 형상맵 생성부는 각 타겟 객체들을 상기 타겟 객체들이 삽입될 위치에 삽입할 수 있다 ('Insert Objects'). 이때, 형상맵 생성부는 각 타겟 객체들을 샘플링된 좌표에 삽입하고 임의의 각도로 회전시킬 수 있다. 이때, 형상맵 생성부는 타겟 객체 간 거리가 미리 설정된 간격 이상으로 이격되도록 배 치할 수 있다. 예컨대, 형상맵 생성부는 각 타겟 객체를 최소 50픽셀 간격으로 배치하여 타겟 객체간에 중 복되지 않게 삽입할 수 있다. 이렇게 형상맵 생성부에 의해 생성된 형상맵의 일 예는 도 2 의 \" shape map 생성 단계\"를 거친 이후의 모습일 수 있으며, 도 2 에 따르면, 형상맵은 관심맵 상에 적어도 하나 이상의 도형을 랜덤하게 삽입한 형태일 수 있다. 한편, 상기 삽입되는 타겟 객체의 특징과 상기 타겟 객체가 삽입된 위치에 따라 서로 다른 다수의 형상맵이 생 성될 수 있다. 보다 구체적으로, 형상맵 생성부는 타겟 객체의 세트를 무작위로 구성하고, 해당 타겟 객체가 삽입되는 위 치를 달리 구성함으로써 서로 다른 다수의 형상맵을 생성할 수 있다. 예컨대, 타겟 객체가 도형일 경우, 형상맵 생성부는 도형의 종류, 크기, 밝기 등 여러 옵션을 지정하여 무작위로 도형을 선택하고, 선택된 도형을 관 심맵 상에 위치를 달리 구성하여 배치하는 것이다. 변조-영상이미지 출력부는 형상맵 생성부로부터 생성된 형상맵을 원본-영상이미지에 결합하여 변조- 영상이미지를 출력한다. 이렇게 변조-영상이미지 출력부에 의해 출력된 변조-영상이미지의 일 예는 도 2 의 \" shape map과 원본이미지를 더해 output 이미지 생성 단계\"를 거친 이후의 모습일 수 있으며, 도 2 에 따르면, 원본-영상이미지에 형상맵의 타겟 객체가 삽입된 형태가 변조-영상이미지일 수 있다. 한편, 형상맵 생성부로부터 다수의 형상맵이 생성될 수 있으므로, 변조-영상이미지 출력부는 원본-영 상이미지에 서로 다른 다수의 형상맵을 결합하여 다수의 변조-영상이미지를 출력하고 이들의 집합을 입력데이터 로서 출력하는 것이다. 영상 화질 평가부는 영상 화질 평가의 대상이 되는 테스트 이미지를 디텍터 모델을 적용한 결과를 기초로 화질을 평가한다. 이때, 디텍터 모델은 입력데이터로부터 타겟 객체들을 검출하도록 기학습된 모델로 마련될 수 있다. 한편, 디텍터 모델은 인공지능의 일 종류로서 딥러닝 네트워크로 구성될 수 있으며, 바람직하게는, CNN(Convolutional Neural Network)일 수 있으나 이에 한정되지 않는다. 이러한 디텍터 모델은, 레퍼런스 이미지가 없는 환경에서도 강인한 검출성능을 갖기 위해, 자기지도적 학습 방 식을 통해 마련될 수 있다. 보다 구체적으로, 미리 마련된 디텍터 모델에 입력 데이터가 입력되어 출력된 타겟 객체들의 디텍된 결과가 미리 마련된 정답데이터와 같아지도록 학습될 수 있다. 이때, 상기 정답데이터는 입력 데이터에 삽입된 타겟 객체의 좌표값일 수 있다. 즉, 디텍된 타겟 객체의 바운더리 박스의 좌표값과 정답데이터 의 좌표값의 비교를 통해 손실값이 계산되고 상기 손실값을 기초로 상기 디텍터 모델의 파라미터가 조정되어 디 텍터 모델이 학습되는 것이다. 영상 화질 평가부는 테스트 이미지로부터 생성된 입력 데이터를 디텍터 모델에 적용한 결과를 기초로 최종 영상 화질 평가값을 산출한다. 영상 화질 평가부는 먼저, 테스트 이미지로부터 생성된 입력 데이터를 디텍터 모델에 적용하고, 이로부터 출력된 타겟 객체의 존재(presence), 타입(type), 위치(location)를 기초로 mAP(mean Average Precision) 값을 산출할 수 있다. 이하에서는, mAP 값을 산출하는 구체적인 과정을 설명한다. 먼저, mAP 값은 하기 수학식 1 로 정의된다. [수학식 1]"}
{"patent_id": "10-2022-0158298", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "여기서, IoU(Intersection of Union)는 바운딩 박스를 평가하기 위해 사용되는 지표로서, 모델이 예측한 바운딩 박스와 타겟 객체의 바운딩 박스의 겹친 영역을 두 바운딩 박스의 전체 합영역으로 나눈 값인 아래 수학식 2 와 같이 정의될 수 있다. [수학식 2]"}
{"patent_id": "10-2022-0158298", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "이렇게 산출된 특정 값을 IoU 임계값으로 지정함으로써, 예측한 바운딩 박스가 상기 IoU 임계값을 넘었는지 여 부를 기초로 True Positive 또는 False Positive 가 결정될 수 있는 것이다. 즉, mAP 값은 IoU 에 따라 정해지는 AP 값들의 평균으로 정의되며, IoU 임계값은 0.5 부터 0.95 까지 0.05의 간 격으로 10 개의 값으로 구성된다. 한편, AP 값은 101 point interpolation 을 통해 획득된 Precision-Recall Curve 를 통해 산출될 수 있으며, 이는 아래 수학식 3 과 같다. [수학식 3]"}
{"patent_id": "10-2022-0158298", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "여기서, 은 interpolation 된 precision을 나타내며 은 recall을 나타내고, precision 과 recall 은 아 래와 같이 정의될 수 있다."}
{"patent_id": "10-2022-0158298", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "이렇게 산출된 mAP 값은 디텍터 모델의 디텍 성능이자 영상 화질 평가의 지표가 될 수 있으며, 이에 한정되지 않고 다른 지표값이 디텍터 모델의 디텍 성능과 영상 화질 평가의 지표로 사용될 수 있음은 물론이다. 한편, 디텍터 모델의 디텍 성능은 타겟 객체의 주변과의 대비정도, 크기, 위치에 따라 다르게 산출되며, 보다 상세하게는, 타겟 객체가 주변과 대비되는 정도가 낮고 크기가 작을수록 그리고 타겟 객체의 주변이 복잡할수록 디텍터 모델의 성능이 낮게 산출된다. 따라서, 본 실시예에 따른 영상 화질 평가부는 테스트 이미지로부터의 입력 데이터를 디텍터 모델에 적용 하고 mAP 값을 산출하는 과정을 기설정된 횟수만큼 반복한다. 또한, 영상 화질 평가부는 이렇게 얻어진 복 수의 mAP 값을 평균하여 이를 최종적인 영상 화질 평가값으로서 산출할 수 있다. 예컨대, 영상 화질 평가부는 도 2 에서와 같이, 입력데이터 생성부를 통해 테스트 이미지로부터 약 500개의 변조-영상이미지의 집합인 입력데이터를 얻고, 이러한 변조-영상이미지를 100개씩 디텍터 모델에 적용 하여 하나의 mAP 값을 산출하는 과정을 1 세트로 한다면, 1세트를 다섯번 반복하여 얻어진 5 개의 Map 값을 평 균하여 최종 영상 화질 평가값인 Quality Score 를 산출할 수 있다. 도 4 는 타겟 객체 3개가 삽입된 입력 데이터로부터 디텍한 결과를 도시한 도면이고, 도 5 는 타겟 객체 2개가 삽입된 입력 데이터로부터 디텍한 결과를 도시한 도면이다. 도 4 및 도 5 에 따르면, 입력 데이터의 노이즈 수준이 증가함에 따라 디텍터 모델의 디텍 성능이 점차 감소하 는 점을 알 수 있다. 구체적으로, 도 4 및 도 5의 가장 우측 도면은 실제 삽입된 타겟 객체를 나타내고, 왼쪽 4 개 도면은 디텍한 결과(타겟 객체의 모양 및 정확도(accuracy))를 도시한다. 왼쪽 4개 도면은 왼쪽으로 갈수록이미지 품질(예를 들어, 해상도)이 높아질 수 있다. 예를 들어 왼쪽으로 갈수록 5% dose, 12% dose, Quarter- dose, Full-dose의 이미지 품질에 대응할 수 있다. 도 4 및 도 5에서 확인할 수 있듯이, 이미지 품질이 낮아지 면서 타겟 객체의 위치, 모양 등을 잘못 검출하거나, 검출하더라도 그 정확도가 낮아지는 것을 확인할 수 있다. 즉, 고화질(좌)에서 저화질(우)로 갈수록 디텍터 모델이 타겟 객체의 유형을 잘못 인식하거나 타겟 객체를 전혀 감지하지 못할 가능성이 높은 것이다. 이에 따르면, 고품질 선량의 CT 영상에서는 타겟 객체를 탐지하는 정확도 가 가장 높을 것이며, 노이즈로 인해 왜곡된 타겟 객체는 그 탐지 정확도를 저하시킬 것이다. 도 6 은 본 발명의 다른 실시예에 따른 인공지능 기반의 영상 화질 평가방법을 도시한 순서도이다. 본 실시예에 따른 인공지능 기반의 영상 화질 평가방법은 영상이미지의 화질을 평가하기 위해 인공지능 기반의 영상 화질 평가장치에서 수행되는, 인공지능 기반의 영상 화질 평가방법으로서, 입력데이터 생성부에서 영상 화 질 평가의 대상이 되는 테스트 이미지에 대한 다수의 입력 데이터를 생성하는 단계로서, 상기 테스트 이미지에 적어도 하나 이상의 타겟 객체들을 삽입하여 상기 다수의 입력 데이터를 생성하는, 상기 입력데이터를 생성하는 단계 (S10), 영상화질 평가부에서 상기 다수의 입력데이터를 미리 마련된 디텍터 모델에 입력하고, 상기 디텍터 모델로부터 출력된 데이터를 기초로 상기 테스트 이미지의 화질을 평가하는 화질 평가 단계 (S30)를 포함한다. 한편, 입력데이터를 생성하는 단계(S10)는, 상기 영상이미지의 원본에 랜덤하게 타겟 객체들을 삽입하여 원본- 영상이미지로부터 상기 디텍터 모델의 학습과 상기 영상 화질 평가를 위한 다수의 변조-영상이미지를 생성하고 이들의 집합을 상기 입력데이터로 생성하는 것일 수 있다. 또한, 입력데이터를 생성하는 단계(S10)는, 상기 원본-영상이미지의 전경영역만을 추출하여 관심맵을 생성하는 단계, 상기 관심맵 상에 타겟 객체들을 랜덤하게 삽입하여 형상맵을 생성하는 단계 및 상기 형상맵을 상기 원본 -영상이미지에 결합하여 상기 변조-영상이미지를 출력하는 단계를 포함할 수 있다. 또한, 형상맵을 생성하는 단 계는, 상기 삽입되는 타겟 객체의 특징과 상기 타겟 객체가 삽입된 위치에 따라 서로 다른 다수의 형상맵을 생 성하는 것이고, 상기 삽입된 타겟 객체들의 에지를 블러(blur) 처리하는 단계를 포함할 수 있다. 또한, 테스트 이미지의 화질을 평가하는 단계(S30)는, 상기 테스트 이미지에 대한 다수의 입력 데이터를 얻는 단계, 상기 입력데이터를 상기 디텍터 모델에 입력하여 mAP(mean Average Precision) 값을 산출하는 단계 및 상 기 다수의 입력데이터를 얻는 단계 및 상기 mAP 값을 산출하는 단계를 기 설정된 횟수만큼 반복하여 얻어진 복 수의 mAP값에 대한 평균값을 산출하여 이를 상기 테스트 이미지에 대한 최종 영상 화질 평가값으로서 산출하는 단계를 포함할 수 있다. 상술한 본 발명에 따르면, 하나의 영상이미지로부터 다수의 입력데이터들을 생성하여 이를 기반으로 영상 화질 평가를 수행할 수 있다. 따라서, 레퍼런스 이미지의 양이 절대적으로 부족한 의료 분야에서도 의료 이미지의 화 질을 정확도 높게 평가할 수 있는 이점을 갖는다. 도 7a 및 도 7b는 CT 영상 이미지에 대해 본 발명에 따른 영상 화질 평가방법을 적용한 결과를 도시한 도면이다. 7개의 서로 다른 노이즈 레벨에 따른 150개의 테스트 이미지를 활용하였다. 먼저, 도 7a 는 레퍼런스 이미지가 있는 경우로서, 기존 모델을 통한 평가결과(x축)와 의료진 평가결과(y축) 간 의 상관도를 나타내는 그래프이다. 또한, 도 7b 는 레퍼런스 이미지가 없는 경우에서의 기존 모델 및 본 발명에 따른 영상 화질 평가방법(우측 최하단)을 통한 평가결과(x축)와 의료진 평가결과(y축) 간의 상관도를 나타내는 그래프이다. 도 7a 및 도 7b 에 따르면, 본 발명에 따른 영상 화질 평가방법은 레퍼런스 이미지가 없는 경우라 하더라도 레 퍼런스 이미지가 있는 경우의 기존 모델과 유사하거나 오히려 더 나은 상관도를 보인다는 점을 알 수 있다. 도 8a 및 도 8b 는 MRI 영상 이미지에 대해 본 발명에 따른 영상 화질 평가방법을 적용한 결과를 도시한 도면이 다. 도 8a 는 의료진 평가결과(x축)와 기존 SNR 모델을 통한 평가결과(y축) 간의 상관도를 나타내는 그래프이며, 도 8b 는 의료진 평가결과(x축)와 본 발명에 따른 영상 화질 평가방법(y축) 간의 상관도를 나타내는 그래프이다. 도 8a 및 도 8b 에 따르면, 본 발명에 따른 영상 화질 평가방법은 기존 SNR 모델 대비 더 나은 상관도를 보인다 는 점을 알 수 있다. . 이상에서 설명한 실시예들에 따른 인공지능 기반의 영상 화질 평가방법에 의한 동작은 적어도 부분적으로 컴퓨 터 프로그램으로 구현되고 컴퓨터로 읽을 수 있는 기록매체에 기록될 수 있다. 실시예들에 따른 인공지능 기반 의 영상 화질 평가동작을 구현하기 위한 프로그램이 기록되고 컴퓨터가 읽을 수 있는 기록매체는 컴퓨터에 의하 여 읽혀질 수 있는 데이터가 저장되는 모든 종류의 기록장치를 포함한다. 컴퓨터가 읽을 수 있는 기록매체의 예 로는 ROM, RAM, CD-ROM, 자기 테이프, 플로피디스크, 광 데이터 저장장치 등이 있다. 또한 컴퓨터가 읽을 수 있 는 기록매체는 네트워크로 연결된 컴퓨터 시스템에 분산되어, 분산 방식으로 컴퓨터가 읽을 수 있는 코드가 저 장되고 실행될 수도 있다. 또한, 본 실시예를 구현하기 위한 기능적인 프로그램, 코드 및 코드 세그먼트 (segment)들은 본 실시예가 속하는 기술 분야의 통상의 기술자에 의해 용이하게 이해될 수 있을 것이다. 이상에서는 실시예들을 참조하여 설명하였지만, 해당 기술 분야의 숙련된 당업자는 하기의 특허 청구범위에 기 재된 본 발명의 사상 및 영역으로부터 벗어나지 않는 범위 내에서 본 발명을 다양하게 수정 및 변경시킬 수 있 음을 이해할 수 있을 것이다."}
{"patent_id": "10-2022-0158298", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1 은 본 발명의 일 실시예에 따른 인공지능 기반의 영상 화질 평가장치의 블록도이다. 도 2 는 도 1 에 도시된 영상 화질 평가장치에서 영상 화질을 평가하는 일련의 과정을 도시한 도면이다. 도 3 은 도 1 에 도시된 영상 화질 평가장치에서 CT 영상 이미지를 평가하는 일련의 과정을 도시한 도면이다. 도 4 는 타겟 객체 3개가 삽입된 입력 데이터로부터 디텍한 결과를 도시한 도면이다. 도 5 는 타겟 객체 2개가 삽입된 입력 데이터로부터 디텍한 결과를 도시한 도면이다. 도 6 은 본 발명의 다른 실시예에 따른 인공지능 기반의 영상 화질 평가방법을 도시한 순서도이다. 도 7a 및 도 7b는 CT 영상 이미지에 대해 본 발명에 따른 영상 화질 평가방법을 적용한 결과를 도시한 도면이다. 도 8a 및 도 8b는 MRI 영상 이미지에 대해 본 발명에 따른 영상 화질 평가방법을 적용한 결과를 도시한 도면이 다."}
