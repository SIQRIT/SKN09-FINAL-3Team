{"patent_id": "10-2018-0168313", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2020-0084419", "출원번호": "10-2018-0168313", "발명의 명칭": "모아레 제거 모델을 생성하기 위한 장치, 모아레를 제거하기 위한 방법 및 모아레를 제거하기", "출원인": "엘지디스플레이 주식회사", "발명자": "심연심"}}
{"patent_id": "10-2018-0168313", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "이미지에 포함된 모아레(moire)를 제거하는 모아레 제거 모델을 생성하기 위한 장치에 있어서,모아레 이미지 및 상기 모아레 이미지에 대응하는 비-모아레 이미지를 수신하는 학습 데이터 수신 모듈;상기 모아레 이미지로부터 상기 모아레 이미지를 대표하는 제1특징들을 추출하고, 상기 비-모아레 이미지로부터상기 비-모아레 이미지를 대표하는 제2특징들을 추출하는 특징 추출 모듈; 및상기 제1특징들 및 상기 제2특징들을 이용하는 학습을 통해, 상기 모아레 제거 모델을 생성하는 모델 학습 모듈을 포함하고,상기 제1특징들 및 상기 제2특징들은, 이미지 도메인, 주파수 도메인 및 인지 도메인 중 적어도 하나의 도메인에서 추출된 특징들을 포함하는 것인,장치."}
{"patent_id": "10-2018-0168313", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 모아레 이미지 및 대응하는 상기 비-모아레 이미지는 동일한 피사체를 촬영하여 생성되고,상기 비-모아레 이미지는 shift-dot 기법에 따라 촬영함으로써 획득되는,장치."}
{"patent_id": "10-2018-0168313", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서, 상기 모델 학습 모듈은,상기 제1특징들을 입력으로 하고 상기 제2특징들을 출력으로 하는 지도 학습에 따라 상기 모아레 제거 모델을생성하는,장치."}
{"patent_id": "10-2018-0168313", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서, 상기 장치는,상기 제1특징들에 대응하는 상기 모아레 제거 모델의 출력을 계산하고, 상기 출력과 상기 제2특징들 사이의 차이를 계산하는 모델 평가 모듈을 더 포함하는,장치."}
{"patent_id": "10-2018-0168313", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서,상기 모델 평가 모듈은 상기 차이를 포함하는 피드백 정보를 상기 모델 학습 모듈로 전송하고,상기 모델 학습 모듈은 상기 피드백 정보를 추가적으로 이용하여 상기 모아레 제거 모델을 생성하는,장치."}
{"patent_id": "10-2018-0168313", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5항에 있어서, 상기 제1특징들 및 상기 제2특징들은 상기 이미지 도메인 및 상기 주파수 도메인에서 추출된 특징들을공개특허 10-2020-0084419-3-포함하고,상기 모델 평가 모듈은, 상기 이미지 도메인에서, 상기 제1특징들에 대응하는 상기 모아레 제거 모델의 출력과 상기 제2특징들 사이의제1차이를 계산하고, 상기 주파수 도메인에서, 상기 제1특징들에 대응하는 상기 모아레 제거 모델의 출력과 상기 제2특징들 사이의 제2차이를 계산하고, 상기 제1차이 및 상기 제2차이의 선형 결합을 상기 차이로서 계산하는,장치."}
{"patent_id": "10-2018-0168313", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "이미지에 포함된 모아레(moire)를 제거하기 위한 방법에 있어서,모아레가 포함된 제1이미지 데이터를 수신하는 단계;상기 제1이미지 데이터로부터, 이미지 도메인, 주파수 도메인 및 인지 도메인 중 적어도 하나의 도메인에서의특징들을 추출 하는 단계;상기 추출된 특징들을 입력으로하는 모아레 제거 모델의 출력을 계산하는 단계; 및상기 모아레 제거 모델의 출력에 기초하여 상기 제1이미지 데이터로부터 모아레가 제거된 제2이미지 데이터를생성하는 단계를 포함하고,상기 모아레 제거 모델은, 모아레 이미지 및 상기 모아레 이미지에 대응하는 비-모아레 이미지를 학습 데이터로서 사용하여 사전에 생성된모델인,방법."}
{"patent_id": "10-2018-0168313", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7항에 있어서, 상기 방법은,상기 제1이미지 데이터를 수신하고, 상기 제1이미지 데이터에 상기 모아레가 있는지 여부를 판단하는 단계; 및상기 제1이미지 데이터에 상기 모아레가 있을 때, 상기 제1이미지 데이터로부터 상기 제2이미지 데이터를 생성하는 단계를 더 포함하는,방법."}
{"patent_id": "10-2018-0168313", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "모아레(moire) 제거 기능을 가지는 촬상 장치에 있어서,피사체로부터 반사된 빛을 수집하는 렌즈;상기 렌즈로부터 전달된 빛을 이용하여 제1이미지 데이터를 생성하는 이미지 센서;상기 제1이미지 데이터를 수신하고, 상기 제1이미지 데이터로부터 모아레(moire)를 제거하고, 상기 모아레가 제거된 제2이미지 데이터를 생성하는 이미지 신호 처리 회로; 및모아레 제거 모델을 저장하는 메모리를 포함하고,상기 이미지 신호 처리 회로는,상기 메모리에 저장된 상기 모아레 제거 모델을 실행시키고,상기 제1이미지 데이터로부터 상기 제1이미지 데이터를 대표하는 특징들을 추출하고,상기 추출된 제1이미지 데이터를 상기 모아레 제거 모델에 기초하여 조절함으로써 상기 제2이미지 데이터를 생성하는,촬상 장치.공개특허 10-2020-0084419-4-청구항 10 제9항에 있어서, 상기 이미지 신호 처리 회로는,상기 제1이미지 데이터에 대하여, 이미지 도메인, 주파수 도메인 및 인지 도메인 중 적어도 하나의 도메인에서의 특징들을 추출하고, 추출된 특징들에 대하여 상기 모아레 제거 모델을 적용하여 상기 제2이미지 데이터를 생성하는 모아레 제거 모듈을 포함하는,촬상 장치."}
{"patent_id": "10-2018-0168313", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제10항에 있어서, 추출된 특징들은 상기 이미지 도메인, 상기 주파수 도메인 및 상기 인지 도메인에서의 특징들을 모두 포함하고,상기 모아레 제거 모듈은,추출된 이미지 도메인에서의 특징들, 주파수 도메인에서의 특징들, 및 인지 도메인에서의 특징들에 대하여 상기모아레 제거 모델을 적용하고,적용 결과에 대해, 특징 추출 과정에 사용된 연산의 역(inverse) 연산을 통해 상기 제2이미지 데이터를 생성하는,촬상 장치."}
{"patent_id": "10-2018-0168313", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제9항에 있어서, 상기 이미지 신호 처리 회로는,상기 제1이미지 데이터를 수신하고, 상기 제1이미지 데이터에 상기 모아레가 있는지 여부를 판단하고, 상기 제1이미지 데이터에 상기 모아레가 있을 때, 상기 제1이미지 데이터로부터 상기 제2이미지 데이터를 생성하는 모아레 판정 모듈을 포함하는.촬상 장치."}
{"patent_id": "10-2018-0168313", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제12항에 있어서, 상기 모아레 판정 모듈은,제1시점에 수신되는 제1이미지 데이터와, 상기 제1시점 이후의 제2시점에 수신되는 제1이미지 데이터를 비교하고, 비교 결과에 따라 상기 모아레가 있는지 여부를 판단하는,촬장 장치."}
{"patent_id": "10-2018-0168313", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "이미지에 포함된 모아레(moire)를 제거하는 모아레 제거 모델을 생성하기 위한 장치가 개시된다. 상기 장치는, 모아레 이미지 및 상기 모아레 이미지에 대응하는 비-모아레 이미지를 수신하는 학습 데이터 수신 모듈, 상기 모 아레 이미지로부터 상기 모아레 이미지를 대표하는 제1특징들을 추출하고, 상기 비-모아레 이미지로부터 상기 비 -모아레 이미지를 대표하는 제2특징들을 추출하는 특징 추출 모듈 및 상기 제1특징들 및 상기 제2특징들을 이용 하는 학습을 통해, 상기 모아레 제거 모델을 생성하는 모델 학습 모듈을 포함하고, 상기 제1특징들 및 상기 제2 특징들은, 이미지 도메인, 주파수 도메인 및 인지 도메인 중 적어도 하나의 도메인에서 추출된 특징들을 포함한 다."}
{"patent_id": "10-2018-0168313", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명의 실시 예들은 모아레 제거 모델을 생성하기 위한 장치, 모아레를 제거하기 위한 방법 및 모아레를 제 거하기 위한 촬상 장치에 관한 것이다."}
{"patent_id": "10-2018-0168313", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "모아레(moire) 간섭은 주기적인 패턴(또는 무늬)가 겹쳐지는 경우, 겹치기 전 무늬보다 더 큰 무늬가 생성되는 현상을 의미하고, 이 경우 발생하는 무늬를 모아레 무늬라고 한다. 실제로, 도 1에 도시된 바와 같이, 좁은 간 격을 가지는 무늬들이 서로 겹쳐지는 경우, 물결 모양의 무늬가 나타날 수 있고, 상기 물결 모양의 무늬를 모아 레 무늬라고 한다. 한편, 이미지 센서는 피사체로부터 반사된 빛을 전기적 신호로 변환할 수 있는 회로 또는 소자이다. 일반적으로, 이미지 센서는 격자 구조로 배치된 다수의 촬상 소자를 포함하기 때문에, 특정 패턴을 가지는 피사 체를 촬영하는 경우 고주파 성분들이 간섭을 일으킬 수 있고, 이 때, 무늬가 발생할 수 있다. 예컨대, 디스플레이 패널 또한 격자 구조로 배열된 화소들을 포함하기 때문에, 이미지 센서를 통해 디스플레이 패널을 촬영하는 경우 패널의 격자와 이미지 센서의 격자가 불일치하여 모아레 무늬가 발생할 수 있다. 이미지에 상기 모아레 무늬가 포함되는 경우, 상기 이미지를 정확하게 해석하기 어렵다. 따라서 상기 모아레 무 늬를 제거할 필요가 있다. De-focus 방식은 카메라의 초점을 일부러 흐릿하게 하여 촬영하는 방식이다. 상기 de-focus 방식에 따르면 초점이 흐려짐에 따라 패턴의 간섭이 상대적으로 잘 나타나지 않게 되어 결과적으로 무 아레 무늬가 감소하는 장점은 있으나, 상기 무늬를 포함한 이미지 전체의 질(quality)이 저하되어 정보가 손실 되는 단점이 있다."}
{"patent_id": "10-2018-0168313", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명이 해결하고자 하는 과제는 이미지에 포함된 모아레를 제거하기 위한 인공지능 기반의 모아레 제거 모델 을 생성하기 위한 장치, 모아레를 제거하기 위한 방법 및 모아레를 제거하기 위한 촬상 장치를 제공하는 것에 있다."}
{"patent_id": "10-2018-0168313", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 실시 예들에 따른 이미지에 포함된 모아레(moire)를 제거하는 모아레 제거 모델을 생성하기 위한 장 치는, 모아레 이미지 및 상기 모아레 이미지에 대응하는 비-모아레 이미지를 수신하는 학습 데이터 수신 모듈, 상기 모아레 이미지로부터 상기 모아레 이미지를 대표하는 제1특징들을 추출하고, 상기 비-모아레 이미지로부터 상기 비-모아레 이미지를 대표하는 제2특징들을 추출하는 특징 추출 모듈 및 상기 제1특징들 및 상기 제2특징들 을 이용하는 학습을 통해, 상기 모아레 제거 모델을 생성하는 모델 학습 모듈을 포함하고, 상기 제1특징들 및 상기 제2특징들은, 이미지 도메인, 주파수 도메인 및 인지 도메인 중 적어도 하나의 도메인에서 추출된 특징들 을 포함한다. 본 발명의 실시 예들에 따른 이미지에 포함된 모아레(moire)를 제거하기 위한 방법은, 모아레가 포함된 제1이미 지 데이터를 수신하는 단계, 상기 제1이미지 데이터로부터, 이미지 도메인, 주파수 도메인 및 인지 도메인 중 적어도 하나의 도메인에서의 특징들을 추출 하는 단계, 상기 추출된 특징들을 입력으로하는 모아레 제거 모델의 출력을 계산하는 단계 및 상기 모아레 제거 모델의 출력에 기초하여 상기 제1이미지 데이터로부터 모아레가 제 거된 제2이미지 데이터를 생성하는 단계를 포함하고, 상기 모아레 제거 모델은, 모아레 이미지 및 상기 모아레 이미지에 대응하는 비-모아레 이미지를 학습 데이터로서 사용하여 사전에 생성된 모델이다. 본 발명의 실시 예들에 따른 모아레(moire) 제거 기능을 가지는 촬상 장치는, 피사체로부터 반사된 빛을 수집하 는 렌즈, 상기 렌즈로부터 전달된 빛을 이용하여 제1이미지 데이터를 생성하는 이미지 센서, 상기 제1이미지 데 이터를 수신하고, 상기 제1이미지 데이터로부터 모아레(moire)를 제거하고, 상기 모아레가 제거된 제2이미지 데 이터를 생성하는 이미지 신호 처리 회로 및 모아레 제거 모델을 저장하는 메모리를 포함하고, 상기 이미지 신호 처리 회로는, 상기 메모리에 저장된 상기 모아레 제거 모델을 실행시키고, 상기 제1이미지 데이터로부터 상기 제1이미지 데이터를 대표하는 특징들을 추출하고, 상기 추출된 제1이미지 데이터를 상기 모아레 제거 모델에 기 초하여 조절함으로써 상기 제2이미지 데이터를 생성한다."}
{"patent_id": "10-2018-0168313", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 실시 예들에 따른 모아레 제거 모델은 모아레 성분을 포함한 이미지를 처리함으로써 모아레 성분을 제거할 수 있는 효과가 있다. 본 발명의 실시 예들에 따른 모아레 제거 모델에 따르면, 사전에 물리적 조작 없이 피사체를 on-focus 하여 촬 영하더라도, 촬영된 이미지에 포함된 모아레를 효과적으로 제거할 수 있고, 그 결과, 이미지의 화질의 열화 없 이, 또한 비용 및 시간의 증가 없이 모아레를 효과적으로 제거할 수 있는 효과가 있다."}
{"patent_id": "10-2018-0168313", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면들을 참조하여 본 발명의 실시 예들을 설명한다. 도 2는 본 발명의 실시 예들에 따른 모아레 제거 모델을 도출하기 위한 모아레 제거 모델 도출 장치를 나타낸다. 도 2를 참조하면, 모아레 제거 모델 도출 장치는 모아레가 포함된 모아레 이미지(M) 및 모아레 이미지(M)에 대응하는 모아레가 제거된 비-모아레 이미지(NM)를 이용하여 학습을 수행하고, 학습의 결과에 따라 모아레 제거 기능을 가지는 모아레 제거 모델(MRM)을 생성할 수 있다. 모아레 제거 모델(MRM)은 모아레가 포함된 이미지(M)로부터 모아레를 제거하기 위한 알고리즘, 소프트웨어, 프 로그램 또는 상기 알고리즘, 소프트웨어, 프로그램이 저장된 데이터 또는 저장 매체를 의미한다. 실시 예들에 따라, 모아레 제거 모델(MRM))은 모아레가 포함된 이미지(M)로부터 모아레를 제거하기 위한 계산식 또는 관계식 을 포함할 수 있고, 프로세서 등의 연산 장치는 모아레 제거 모델(MRM)의 실행에 따라 모아레가 포함된 이미지 (M)로부터 모아레를 제거하는 작업을 수행할 수 있다. 예컨대, 모아레 제거 모델(MRM)은 모아레가 포함된 이미 지(M)로부터 모아레를 제거하기 위한 작업을 지시하기 위한 명령들을 포함할 수 있다. 모아레 제거 모델 도출 장치는 합성곱 신경망(convolution neural network (CNN))에 기초하여 모아레 제 거 모델(MRM)을 도출할 수 있다. 예컨대, 모아레 제거 모델 도출 장치는 U-Net 구조의 CNN에 기초하여 모 아레 제거 모델(MRM)을 도출할 수 있다. 상기 CNN은 콘볼루션-풀링층(convolution-pooling layer)과 완전 연결층(fully connected layer)을 포함할 수 있다. 콘볼루션-풀링층은 입력 값들에 대하여, 입력 값들을 대표하는 특징 맵을 추출할 수 있는 층이다. 예컨대, 콘볼 루션-풀링층은 입력 값들을 포함하는 입력 행렬(matrix)에 대하여 콘볼루션 연산을 수행하여 입력 행렬을 대표 하는 특징 맵들을 추출할 수 있다. 또한, 콘볼루션-풀링층은추출된 특징 맵에 대하여 상기 특징 맵의 차원을 감 소시키는 서브 샘플링을 수행하여 샘플링된 특징 맵을 생성할 수 있다. 예컨대, 본 발명의 실시 예들에 사용되 는 CNN은 11 개의 콘볼루션-풀링층을 포함할 수 있다. 완전 연결층은 콘볼루션-풀링층의 결과를 이용하여, 입력 값들 및 출력 값들에 대한 웨이트와 바이어스를 도출 할 수 있다. 모아레 제거 모델 도출 장치는 연산 능력을 가진 하드웨어로 구성될 수 있다. 실시 예들에 따라, 모아레 제거 모델 도출 장치는 CPU(central processing unit), MCU(micro controller unit), MPU(micro processor unit), FPU(floating point unit), DSP(digital signal processor), 프로그램 가능 논리 회로, 필드 프로그래머블 게이트 어레이(field-programmable gate array, FPGA) 또는 프로그램 가능 논리 어레이 (programmable logic array, PLA)를 포함할 수 있으나, 이에 한정되는 것은 아니다. 모아레 제거 모델 도출 장치는 학습 데이터 수신 모듈, 특징 추출 모듈, 모델 학습 모듈 및 모델 평가 모듈을 포함할 수 있다. 학습 데이터 수신 모듈은 모아레 이미지(M) 및 비-모아레 이미지(NM)를 수신할 수 있다. 이 때, 모아레 이 미지(M)와 비-모아레 이미지(NM)은 모아레 제거 모델 도출 장치의 학습용 데이터로서 사용될 수 있다. 한 편, 별도의 언급이 없더라도, 모아레 제거 모델 도출 장치에서 사용되는 모아레 이미지(M) 및 비-모아레 이미지(NM)는 디지털 데이터의 형식일 수 있다. 모아레 이미지(M)와 비-모아레 이미지(NM)는 동일한 피사체(예컨대, 디스플레이 패널)를 동일한 조건(예컨대, 해상도, 거리, 초점 거리 또는 MTF(module transfer function))에 따라 촬영하여 생성될 수 있다. 실시 예들에 따라, 모아레 이미지(M)와 비-모아레 이미지(NM)는 하나의 피사체를 조건을 달리하여 촬영함으로써 쌍으로 생성된 것일 수 있다. 다만, 비-모아레 이미지(NM)는 모아레 이미지(M)에 포함된 모아레 성분이 제거된 이미지일 수 있다. 실시 예들 에 따라, 비-모아레 이미지(NM)는 shift-dot 촬영에 따라 모아레가 제거된 이미지일 수 있다. shift-dot 방식(또는 픽셀 시프트 멀티 촬영 방식)은 이미지 센서의 픽셀들 중 일부 픽셀들만을 활성화하여 다 수의 촬영을 수행한 다음, 상기 촬영 결과들을 종합하여 전체 픽셀들에 따른 이미지를 획득하는 방식이다. 모아레 이미지(M)는 \"문제\"에 해당하고, 비-모아레 이미지(NM)는 \"정답\"에 해당할 수 있다. 즉, 모아레 제거 모델(MRM)은 지도 학습에 따라 생성될 수 있다. 도 3는 shift-dot 촬영을 예시적으로 나타낸다. 도 3에 도시된 바와 같이, 하나의 피사체(OBJ)를 촬영 할 때, 이미지 센서의 픽셀들 중 일부 픽셀 영역들(A1, A2, A3 및 A4)을 이용하여 피사체(OBJ)의 일부를 촬영하면 (즉, 크롭(crop) 촬영), 복수의 멀티 이미지들(M1~M4)을 획득할 수 있다. 이 때, 각 멀티 이미지(M1~M4)는 피사 체(OBJ)의 일부를 나타내나, 모아레 무늬가 포함되지 않을 수 있다. 이렇나 모아레 무늬가 없는 멀티 이미지들 (M1~M4)을 합성하면, 결과적으로 모아레 무늬가 제거된 전체 피사체(OBJ)의 이미지가 생성될 수 있고, 이를 비- 모아레 이미지(NM)으로 이용할 수 있다. 한편, 이러한 shift-dot 방식은 학습 데이터를 생성하기 위해 사용되며, 본 발명의 실시 예들에 따른 모아레 제 거 모델(MRM) 및 이를 이용하는 촬상 장치는 shift-dot 방식을 사용하지 않더라도 실시간으로 모아레 이미 지(M)로부터 모아레를 제거할 수 있는 효과가 있다. 예컨대, 모아레 제거 모델(MRM)을 이용하는 촬상 장치(10 0)는 포함된 모든 픽셀들이 턴-온된 상태에서 촬영하더라도, 모아레가 제거된 이미지를 획득할 수 있다. 학습 데이터 수신 모듈은 모아레 이미지(M)와 비-모아레 이미지(NM)를 포함하는 학습용 데이터(LD)를 특징 추출 모듈로 전송할 수 있다. 실시 예들에 따라, 학습 데이터 수신 모듈은 모아레 이미지(M)와 비-모 아레 이미지(NM)를 적절한 사이즈를 가지는 패치들로 분할할 수 있다. 상기 패치의 크기는 모아레 제거 모델 도 출 장치의 성능에 따라 달라질 수 있다. 모아레 이미지(M)와 비-모아레 이미지(NM)는 패치 단위로 대응될 수 있다. 즉, 모아레 이미지(M)의 제1위치에 위치한 패치는 비-모아레 이미지(M)의 상기 제1위치에 위치한 패치 와 대응될 수 있다. 실시 예들에 따라, 학습 데이터 수신 모듈은 모아레 이미지(M)와 비-모아레 이미지(NM)를 상하 및/또는 좌 우로 반전시킴으로써 학습을 위한 데이터를 확장할 수 있다. 이미지의 반전에 따라 모아레의 위치가 달라지게 되고, 이는 학습용 데이터가 확장(예컨대, 4배로)되는 효과를 야기한다. 다만, 학습의 방법은 학습 데이터의 확장 여부와 무관하므로, 편의상 이하에서는 학습용 데이터(LD)가 모아레 이미지(M)와 비-모아레 이미지(NM)를 포함하는 것으로 가정하고 설명한다. 특징 추출 모듈은 \"문제\"에 해당하는 모아레 이미지(M)와 \"정답\"에 해당하는 비-모아레 이미지(NM) 각각으 로부터 모아레 이미지(M)와 비-모아레 이미지(NM) 각각을 대표하는 특징들을 추출할 수 있다. 예컨대, 특징 추출 모듈은 합성곱(convolution) 연산을 이용하여 모아레 이미지(M)와 비-모아레 이미지 (NM) 각각을 대표하는 특징들을 추출할 수 있다. 예컨대, 특징 추출 모듈은 적어도 하나의 합성곱 연산 및 서브샘플링 연산에 따라, 모아레 이미지(M)와 비-모아레 이미지(NM) 각각을 대표하는 특징들을 추출할 수 있다. 특징 추출 모듈은 모아레 이미지(M)를 대표하는 제1특징들(iM_1~iM_k, fM_1~fM_k 및 vM_1~vM_k; k는 2이 상의 자연수)을 추출할 수 있고, 비-모아레 이미지(NM)를 대표하는 제2특징들(iNM_1~iM_k, fNM_1~fM_k 및 vNM_1~vM_k)을 추출할 수 있다. 제1특징들(iM_1~iM_k, fM_1~fM_k 및 vM_1~vM_k) 및 제2특징들(iNM_1~iNM_k, fNM_1~fNM_k 및 vNM_1~vNM_k) 각각은, 이미지 도메인에서의 특징들(iM_1~iM_k 및 iNM_1~iNM_k), 주파수 도메인 에서의 특징들(fM_1~fM_k 및fNM_1~fNM_k), 및 인지 도메인에서의 특징들(vM_1~vM_k 및 vNM_1~vM_k) 중 적어도 하나를 포함할 수 있다. 다만, 이하에서는 제1특징들(iM_1~iM_k, fM_1~fM_k 및 vM_1~vM_k) 및 제2특징들 (iNM_1~iNM_k, fNM_1~fNM_k 및 vNM_1~vNM_k) 각각이 이미지 도메인, 주파수 도메인 및 인지 도메인에서의 특징 들을 포함하는 것으로 가정하고 설명한다. 실시 예들에 따라, 모아레 이미지(M)와 비-모아레 이미지(NM)가 복수의 패치들로 분할된 경우, 특징 추출 모듈 은 패치들 마다 특징들을 추출할 수 있다. 예컨대, k는 패치들의 수일 수 있다. 이 때, 모아레 이미지(M) 의 특정 패치에서 추출된 특징과 비-모아레 이미지(NM)의 동일한 위치의 패치에서 추출된 특징은 서로 쌍을 이 룬다.예컨대, 특징(iM_1)은 모아레 이미지(M)의 첫 번째 패치의 이미지 도메인에서의 특징이고, 특징(iNM_1)은 비-모 아레 이미지(NM)의 첫 번째 패치(동일 위치)의 이미지 도메인에서의 특징이며, 이 두 특징들은 서로 대응되며, \"문제\"-\"정답\"의 관계를 가진다. 이미지 도메인이라 함은, 모아레 이미지(M) 및 비-모아레 이미지(NM)를 계조(gray) 값으로 나타내는 도메인을 의미한다. 즉, 이미지 도메인에서의 특징들(iM_1~iM_k 및 iNM_1~iNM_k)은 모아레 이미지(M) 및 비-모아레 이미 지(NM)에 해당하는 계조 값을 대표하는 특징들일 수 있다. 주파수 도메인이라 함은, 모아레 이미지(M) 및 비-모아레 이미지(NM)를 주파수 값으로 나타내는 도메인을 의미 한다. 즉, 주파수 도메인에서의 특징들(fM_1~fM_k 및fNM_1~fNM_k)은 모아레 이미지(M) 및 비-모아레 이미지(N M)에 해당하는 주파수 값을 대표하는 특징들일 수 있다. 실시 예들에 따라, 이미지 도메인으로부터 주파수 도메 인으로의 변환은 푸리에 변환에 따라 이루어질 수 있다. 인지 도메인에서의 특징들(vM_1~vM_k 및 vNM_1~vNM_k)은 VGG Net(Visual Geometry Group at Oxford university networks)에 따라 모아레 이미지(M) 및 비-모아레 이미지(NM)로부터 추출된 특징들일 수 있다. 모델 학습 모듈은 추출된 제1특징들(iM_1~fM_k, fM_1~fM_k 및 vM_1~vM_k) 및 제2특징들(iNM_1~iM_k, fNM_1~fM_k 및 vNM_1~vM_k)을 이용하여 모델을 설계하고, 설계된 모델을 학습시킬 수 있다. 실시 예들에 따라, 모델 학습 모듈은 제1특징들(iM_1~fM_k, fM_1~fM_k 및 vM_1~vM_k)을 입력으로 하고 제2특징들 (iNM_1~iM_k, fNM_1~fM_k 및 vNM_1~vM_k)을 출력으로 하는 모아레 제거 모델(MRM)을 생성하고, 모아레 제거 모 델(MRM)을 학습시킬 수 있다. 모아레 제거 모델(MRM)은 복수의 노드들을 포함하고, 각 노드들에는 웨이트(WGT)와 바이어스(BS)가 할당될 수 있다. 모아레 제거 모델(MRM)은 웨이트(WGT)와 바이어스(BS)에 기초하여 입력에 대해 계산을 수행하고, 출력을 생성할 수 있다. 즉, 모델 학습 모듈은 모아레 제거 모델(MRM)을 구성하는 웨이트(WGT)와 바이어스(BS)를 도출할 수 있다. 실시 예들에 따라, 모델 학습 모듈은 제1특징들(iM_1~fM_k, fM_1~fM_k 및 vM_1~vM_k)을 입력으로 할 때, 제2특징들(iNM_1~iM_k, fNM_1~fM_k 및 vNM_1~vM_k)을 출력으로서 생성하는 웨이트(WGT)와 바이어스(BS)를 도출 할 수 있다. 예컨대, 모델 학습 모듈은 제1특징들(iM_1~fM_k, fM_1~fM_k 및 vM_1~vM_k) 각각을 입력으로 했을 때, 제2특징들(iNM_1~iM_k, fNM_1~fM_k 및 vNM_1~vM_k) 각각과 유사한 출력을 생성하는 웨이트(WGT)와 바 이어스(BS)를 도출할 수 있다. 그 결과, 모아레 제거 모델(MRM)은 특징(iM_1)에 대해 특징(iNM_1)과 유사한 출 력을 생성할 수 있다. 앞에서 설명한 바와 같이, 제1특징들(iM_1~fM_k, fM_1~fM_k 및 vM_1~vM_k)은 모아레가 포함된 모아레 이미지 (M)를 대표하는 특징들이고, 제2특징들(iNM_1~iM_k, fNM_1~fM_k 및 vNM_1~vM_k)은 모아레 이미지(M)에 대응하 는 비-모아레 이미지(NM)를 대표하는 특징들이다. 따라서, 제1특징들(iM_1~fM_k, fM_1~fM_k 및 vM_1~vM_k)과 제2특징들(iNM_1~iM_k, fNM_1~fM_k 및 vNM_1~vM_k) 사이의 관계를 설명하는(또는 나타내는) 모델은 모아레를 제거할 수 있는 모아레 제거 모델이 될 수 있다. 모델 평가 모듈은 생성된 웨이트(WGT) 및 바이어스(BS)를 평가하고, 평과 결과를 포함하는 피드백 정보 (FI)를 모델 학습 모듈로 출력할 수 있다. 모델 평가 모듈은 생성된 웨이트(WGT) 및 바이어스(BS)를 이용하여 제1특징들(iM_1~fM_k, fM_1~fM_k 및 vM_1~vM_k)을 입력으로 하는 출력 값들(즉, 제1특징들에 대응하는 웨이트(WGT) 및 바이어스(BS)의 출력)을 계산 하고, 출력 값들과 제2특징들(iNM_1~iM_k, fNM_1~fM_k 및 vNM_1~vM_k) 사이의 차이(이하, 이를 \"오차\"로 정의 함)를 계산할 수 있다. 실시 예들에 따라, 모델 학습 모듈은 학습에 사용된 데이터가 아닌 별도로 입력된 검증용 데이터에 포함된 모아레 영상과 해당하는 비-모아레 영상을 이용하여 오차를 계산할 수 있다(즉, 교차 검증). 예컨대, 상기 오차는 평균 오차(mean error (ME)), 평균 절대 오차(mean absolute error (MAE)), 평균 제곱 오 차(mean squared error (MSE)), 평균 절대 퍼센트 오차(mean absolute percent error (MAPE)) 또는 평균 자승 제곱 오차(root mean squared error (RMSE))일 수 있으나, 이에 한정되는 것은 아니다. 실시 예들에 따라, 모델 평가 모듈은 이미지 도메인에서의 오차, 주파수 도메인에서의 오차 및 인지 도메 인에서의 오차들을 계산하고, 상기 오차들을 포함하는 피드백 정보(FI)를 모델 학습 모듈로 전송할 수 있 다.모델 학습 모듈은 피드백 정보(FI)에 기초하여 오차들을 최소로 하거나 또는 상기 오차들의 선형 결합이 최소가 되도록, 모아레 제거 모델(MRM)을 수정할 수 있다. 실시 예들에 따라, 모델 학습 모듈은 수신된 오 차가 기준 값 이상일 때, 모아레 제거 모델(MRM)을 수정하거나 또는 새롭게 도출할 수 있다. 예컨대, 모델 학습 모듈은 수신된 오차가 기준 값 이상일 때 추가적인 학습 데이터를 이용하여 모아레 제거 모델(MRM)을 도출 할 수 있다. 따라서, 모델 학습 모듈은 오차가 최소가 되도록 지속적으로 학습을 수행함으로써 모아레 제 거 모델(MRM)을 도출할 수 있다. 예컨대, 편의상, 웨이트(WGT) 및 바이어스(BS)로 구성되는 모아레 제거 모델(MRM)을 f라 할 때, f에 대한 이미 지 도메인에서의 오차(예시적으로, MSE)는 아래와 같이 계산될 수 있다."}
{"patent_id": "10-2018-0168313", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "주파수 도메인에서의 오차는 아래와 같이 계산될 수 있다."}
{"patent_id": "10-2018-0168313", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "인지 도메인에서의 오차는 아래와 같이 계산될 수 있다."}
{"patent_id": "10-2018-0168313", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "앞에서 설명한 바와 같이, 모아레 제거 모델(MRM)은 아래의 값이 최소인 모델일 수 있다."}
{"patent_id": "10-2018-0168313", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "(여기서, a, b 및 c는 0 내지 1인 상수) 그러므로, 모아레 제거 모델(MRM)은 주어진 모아레 성분을 포함한 이미지에 대하여, 상기 이미지를 모아레가 제 거된 이미지와 가장 가까운 이미지로 변환시킬 수 있으므로, 결과적으로, 모아레 성분을 제거할 수 있는 효과가 있다. 도 4는 본 발명의 실시 예들에 따른 모아레 제거 모델을 도출하는 방법을 나타내는 플로우 차트이다. 도 2 내지 도 4를 참조하면, 모아레 제거 모델 도출 장치는 모아레 이미지(M)와 비-모아레 이미지(NM)를 수신한다 (S110). 모아레 제거 모델 도출 장치는 모아레 이미지(M)를 대표하는 제1특징들(iM_1~iM_k, fM_1~fM_k 및 vM_1~vM_k; k는 2이상의 자연수) 추출할 수 있고, 비-모아레 이미지(NM)를 대표하는 제2특징들(iNM_1~iM_k, fNM_1~fM_k 및 vNM_1~vM_k)을 추출할 수 있다. 모아레 제거 모델 도출 장치는 모아레 이미지(M) 및 비-모아레 이미지(NM)의 이미지 도메인에서의 특징들 (iM_1~iM_k 및 iNM_1~iNM_k)을 추출한다(S120). 모아레 제거 모델 도출 장치는 모아레 이미지(M) 및 비-모아레 이미지(NM)의 주파수 도메인에서의 특징들 (fM_1~fM_k 및 fNM_1~fNM_k)을 추출한다(S130). 모아레 제거 모델 도출 장치는 모아레 이미지(M) 및 비-모아레 이미지(NM)의 인지 도메인에서의 특징들 (vM_1~vM_k 및 vNM_1~vM_k)을 추출한다(S140). 그 후, 모아레 제거 모델 도출 장치는 추출된 제1특징들(iM_1~iM_k, fM_1~fM_k 및 vM_1~vM_k) 및 제2특징 들(iNM_1~iNM_k, fNM_1~fNM_k 및 vNM_1~vNM_k)을 이용하여 모아레 제거 모델(MRM)을 도출할 수 있다(S150). 모 아레 제거 모델(MRM)을 도출하는 과정에 대해서는 도 4를 참조하여 상세히 설명하였으므로, 이하 설명을 생략한 다. 즉, 본 발명의 실시 예들에 따른 모아레 제거 모델(MRM) 및 이를 이용하는 촬상 장치는 사전에 물리적 조 작 없이 피사체(OBJ)를 on-focus 하여 촬영하더라도, 촬영된 이미지에 포함된 모아레를 효과적으로 제거할 수있다(즉, 후처리). 따라서, 이미지의 화질의 열화 없이, 또한 비용 및 시간의 증가 없이 모아레를 효과적으로 제거할 수 있는 효과가 있다. 도 5는 본 발명의 실시 예들에 따른 모아레 제거 기능을 가지는 촬상 장치를 나타낸다. 도 2 내지 도 5를 참조 하면, 촬상 장치는 피사체(OBJ)로부터 반사된 빛을 이용하여 피사체(OBJ)를 나타내기 위한 이미지(IMG)를 생성할 수 있다. 즉, 촬상 장치는 피사체(OBJ)를 촬영하고, 촬영 결과에 따라 이미지(IMG)를 생성할 수 있 다. 실시 예들에 따라, 촬상 장치는 스틸 이미지 카메라, 비디오 카메라, 폐쇄회로 TV(CCTV), 캠코더, 모바일 디바이스에 탑재된 카메라, 차량에 탑재된 카메라, 노트북 또는 컴퓨터에 탑재된 카메라 등 피사체(OBJ)를 촬영 하고 이에 해당하는 이미지 또는 동영상을 생성할 수 있는 임의의 장치를 의미한다. 촬상 장치는 디스플레이 패널의 검사 공정에 사용되는 검사 공정용 촬상 장치일 수 있다. 촬상 장치는 렌즈, 이미지 센서, 이미지 신호 처리 회로, 출력 회로 및 메모리(25 0)를 포함한다. 실시 예들에 따라, 촬상 장치는 보상 회로를 더 포함할 수 있다. 이러한 촬상 장치를 사용하여 피사체(OBJ)를 촬영하는 경우, 외부의 빛은 렌즈를 거쳐 이미지 센서 에 결상되고, 이미지 센서는 결상된 빛을 전기적인 신호로 변환할 수 있다. 변환된 영상 신호는 이미 지 신호 처리 회로에서 영상 처리 과정을 거친 후 출력 회로를 통해 출력되거나 또는 메모리에 저장될 수 있다. 렌즈는 피사체(OBJ)로부터 반사된 빛을 수집하고, 수집된 빛을 이미지 센서로 전달할 수 있다. 즉, 피사체(OBJ)로부터 반사된 빛은 렌즈를 통해 이미지 센서로 입사될 수 있다. 이미지 센서는 픽셀들을 포함하고, 이미지 센서로 유입되는 빛의 양을 측정하고, 측정 결과에 따라 전기적인 영상 신호를 생성할 수 있다. 실시 예들에 따라, 이미지 센서는 피사체(OBJ)로부터 반사되어 렌 즈를 통해 수신된 빛을 이용하여 피사체(OBJ)를 촬영하여 제1이미지 데이터(DATA1)를 생성할 수 있다. 예 컨대, 이미지 센서는 CCD(charge coupled device) 이미지 센서 또는 CMOS(complementary metal-oxide- semiconductor) 이미지 센서일 수 있다. 제1이미지 데이터(DATA1)는 on-focus된 이미지 데이터일 수 있다. 이미지 신호 처리 회로는 이미지 센서로부터 출력된 이미지 신호를 처리할 수 있다. 실시 예들에 따 라, 이미지 신호 처리 회로는 제1이미지 데이터(DATA1)에 대하여 적어도 하나의 이미지 처리를 수행할 수 있다. 실시 예들에 따라, 이미지 신호 처리 회로는 제1이미지 데이터(DATA1)를 수신하고, 제1이미지 데이 터(DATA1)에 해당하는 제2이미지 데이터(DATA2)를 생성할 수 있다. 이미지 신호 처리 회로는 제1이미지 데이터(DATA1)에 포함된 모아레 성분을 제거하고, 모아레 성분이 제거 된 이미지 데이터(DATA2)를 생성할 수 있다. 실시 예들에 따라, 이미지 신호 처리 회로는 제2이미지 데이터(DATA2)를 메모리에 저장할 수 있다. 예컨대, 이미지 신호 처리 회로는 프로세서, CPU(central processing unit), MCU(micro controller unit), GPU(graphic processing unit), 이미지 신호 프로세서(image signal processor (ISP)) 또는 디지털 신 호 프로세서(digital signal processor (DSP))를 포함할 수 있다. 출력 회로는 이미지 신호 처리 회로로부터 출력된 제2이미지 데이터(DATA2)에 해당하는 이미지를 출 력할 수 있다. 실시 예들에 따라, 출력 회로는 제2이미지 데이터(DATA2)를 데이터의 형태 또는 영상의 형 태로 출력할 수 있다. 예컨대, 출력 회로는 버퍼, 통신 회로 또는 디스플레이일 수 있으나, 이에 한정되는 것은 아니다. 메모리는 촬상 장치의 작동에 필요한 데이터를 저장할 수 있다. 실시 예들에 따라, 메모리는 이 미지 신호 처리 회로로부터 출력된 제2이미지 데이터(DATA2)를 저장할 수 있고, 모아레 제거 모델(MRM)을 저장할 수 있다. 예컨대, 메모리는 비휘발성 메모리 및 휘발성 메모리 중 적어도 하나를 포함할 수 있다. 모아레 제거 모델(MRM)은 인공지능에 기초하여 도출된 모델일 수 있다. 실시 예들에 따라, 모아레 제거 모델 (MRM)은 지도 학습 기반의 인공 신경망 모델일 수 있다. 모아레 제거 모델(MRM)은 모아레 제거 모델 도출 장치 로부터 전송될 수 있다. 모아레 제거 모델(MRM)에 대해서는 상술하도록 한다.본 발명의 실시 예들에 따른 이미지 신호 처리 회로는 제1이미지 데이터(DATA1; 또는, 이미지)에 포함된 모아레(moire)를 제거할 수 있다. 이미지 센서는 격자 구조로 배치된 다수의 촬상 소자(예컨대, CCD 센서 또는 CMOS 센서 등)를 포함하기 때문에, 특정 패턴을 가지는 피사체(OBJ)를 촬영하는 경우 이미지 센서가 영상 신호들을 디지털화하는 과정에서 고주파 성분들이 간섭을 일으킬 수 있고, 이 때, 무늬가 발생할 수 있다. 상기 무늬를 모아레(moire)라 한다. 즉, 이미지 신호 처리 회로는 제1이미지 데이터(DATA1)에 포함된 모아 레 성분을 제거함으로써 제2이미지 데이터(DATA2)를 생성할 수 있다. 보상 회로는 제2이미지 데이터(DATA2)를 이용하여 제2이미지 데이터(DATA)를 보상하기 위한 보상 값을 생 성할 수 있다. 실시 예들에 따라, 촬상 장치가 디스플레이 패널의 휘도 보상을 위한 촬상 장치인 경우, 보 상 회로는 테스트 영상의 촬영 결과 생성된 제2이미지 데이터(DATA2)에 기초하여, 디스플레이 패널의 얼룩 (무라)을 보상하기 위한 보상 값들을 생성할 수 있다 .예컨대, 보상 회로는 제2이미지 데이터(DATA2)를 분 석하고, 분석 결과 제2이미지 데이터(DATA2) 중 휘도가 상대적으로 낮은 데이터를 보상하기 위한 보상 값들을 생성할 수 있다. 디스플레이 패널의 휘도 보상을 위한 보상 값들을 생성하기 위해서는, 테스트 이미지가 출력되는 디스플레이 패 널을 정확하게 촬영하는 것이 중요하다. 그러나, 앞에서 설명한 바와 같이, 디스플레이 패널 또한 격자 구조로 배열된 화소들을 포함하기 때문에, 이미지 센서를 통해 디스플레이 패널을 촬영하는 경우 패널의 격자와 이미지 센서의 격자가 불일치하여 모아레 무늬가 발생할 수 있다. 본 발명의 실시 예들에 따르면, 제2이미지 데이터(DATA2)는 이미 모아레 무늬가 제거된 이미지이므로, 보상 회 로는 모아레 무늬가 제거된 제2이미지 데이터(DATA2)에 기초하여 디스플레이 패널의 휘도 보상을 위한 보 상 값들을 생성할 수 있으므로, 상기 보상 값들의 정확도가 높아 휘도 보상 성능이 증대될 수 있다. 도 6은 본 발명의 실시 예들에 따른 이미지 신호 처리 회로를 나타낸다. 도 2 내지 도 6을 참조하면, 이미지 신 호 처리 회로는 모아레 판정 모듈 및 모아레 제거 모듈을 포함한다. 이하, 본 명세서에서 언급되는 모듈(module)은 적어도 하나의 기능을 수행할 수 있는 하드웨어, 또는 소프트웨 어를 포함하는 하드웨어를 의미한다. 즉, 본 명세서에서 설명되는 특정 모듈은, 해당하는 기능을 수행할 수 있 는 장치 또는 회로를 의미할 수 있고, 또는, 상기 기능을 수행할 수 있는 소프트웨어가 실행되는 장치를 의미할 수 있다. 모아레 판정 모듈은 제1이미지 데이터(DATA1)를 수신하고, 제1이미지 데이터(DATA1)에 모아레 성분이 포함 되는지 여부를 판단할 수 있다. 실시 예들에 따라, 순차적으로 제1이미지 데이터(DATA1)가 수신될 때, 모아레 판정 모듈은 제1시점에 수신되는 제1이미지 데이터(DATA1)와, 제2시점에 수신되는 제1이미지 데이터 (DATA1)를 비교하고, 비교 결과에 따라 제1이미지 데이터(DATA1)에 모아레 성분이 포함되는지 여부를 판단할 수 있다. 모아레 판정 모듈은 제1이미지 데이터(DATA1)에 모아레 성분이 포함된 것으로 판단되었을 때, 상기 모아레 성분에 대한 모아레 정보(MINFO)를 생성할 수 있다. 모아레 정보(MINFO)는 제1이미지 데이터(DATA1)에 포함된 모아레 성분의 위치, 크기, 성질 또는 개수 등 모아레 성분에 대한 전반적인 정보를 포함할 수 있다. 모아레 판정 모듈은 제1이미지 데이터(DATA1)에 모아레 성분이 포함될 때, 제1이미지 데이터(DATA1)를 모 아레 제거 모듈로 전송할 수 있다. 실시 예들에 따라, 모아레 판정 모듈은 제1이미지 데이터(DATA1) 와 함께 모아레 정보(MINFO) 또한 전송할 수 있다. 모아레 제거 모듈은 제1이미지 데이터(DATA1)를 수신하고, 제1이미지 데이터(DATA1)에 포함된 모아레 성분 을 제거하고, 모아레 성분이 제거된 제2이미지 데이터(DATA2)를 생성할 수 있다. 실시 예들에 따라, 모아레 제 거 모듈은 모아레 정보(MINFO)에 기초하여 제1이미지 데이터(DATA1)에 포함된 모아레 성분을 제거할 수 있 다. 모아레 제거 모듈은 제1이미지 데이터(DATA1)에 포함된 R(red) 계조 데이터(R), G(green) 계조 데이터(G) 및 B(blue) 계조 데이터(B)를 추출하고, 각 계조 데이터(R, G, B)를 조절하고, 조절된 계조 데이터(R', G', B')를 포함하는 제2이미지 데이터(DATA2)를 생성할 수 있다. 제2이미지 데이터(DATA2)는 모아레 성분이 제거된 데이터일 수 있다. 예컨대, 모아레 제거 모듈은 제1이미지 데이터(DATA1)에 각 계조 데이터(R, G, B)에 대 하여 모아레 제거 모델(MRM)에 따른 연산을 수행함으로써 각 계조 데이터(R, G, B)를 조절할 수 있고, 조절의 결과에 따라 모아레 성분이 제거된 제2이미지 데이터(DATA2)를 생성할 수 있다.실시 예들에 따라, 모아레 제거 모듈은 메모리에 저장된 모아레 제거 모델(MRM)을 실행시키고, 실행 된 모아레 제거 모델(MRM)에 따라 제1이미지 데이터(DATA1)에 포함된 모아레 성분을 자동으로 제거할 수 있다. 이하, 설명되는 모아레 제거 모듈의 작동은 모아레 제거 모델(MRM)의 실행에 따라 이루어지는 것으로 이해 될 수 있다. 즉, 본 발명의 실시 예들에 따른 이미지 신호 처리 회로는 학습된 모아레 제거 모델(MRM)을 이용하여 모아 레 성분을 제거할 수 있기 때문에, 이미지 센서가 피사체(OBJ)에 초첨을 맞추어 촬영하거나 또는 이미지 센서에 포함된 모든 픽셀들을 이용하여 촬영하더라도, 생성된 제1이미지 데이터(DATA1)에 포함된 모아레를 제거할 수 있는 효과가 있다. 도 7은 본 발명의 실시 예들에 따른 모아레 제거 방법을 나타내는 플로우 차트이다. 도 2 내지 도 7을 참조하면, 모아레 제거 모듈은 제1이미지 데이터(DATA1)를 수신한다(S210). 실시 예들에 따라, 모아레 제 거 모듈은 모아레 판정 모듈로부터 제1이미지 데이터(DATA1) 및 모아레 정보(MINFO)를 수신할 수 있 다. 예컨대, 제1이미지 데이터(DATA1)는 모아레가 포함된 이미지 데이터일 수 있다. 모아레 제거 모듈은 제1이미지 데이터(DATA1)로부터 제1이미지 데이터(DATA1)를 대표하는 특징들을 추출할 수 있다(S220). 실시 예들에 따라, 모아레 제거 모듈은 제1이미지 데이터(DATA1)로부터 이미지 도메인에서 의 특징들, 주파수 도메인에서의 특징들, 및 인지 도메인에서의 특징들을 추출할 수 있다. 예컨대, 모아레 제거 모듈은 콘볼루션 연산 또는 서브 샘플링 연산을 통해 제1이미지 데이터(DATA1)를 대표하는 특징들을 추출 할 수 있다. 모아레 제거 모듈은 모아레 제거 모델(MRM)에 포함된 웨이트(WGT) 및 바이어스(BS)에 기초하여 추출된 특 징들을 입력으로 하는 모아레 제거 모델(MRM)의 출력(이하, 출력 특징)을 계산할 수 있다(S230). 실시 예들에 따라, 모아레 제거 모듈은 추출된 특징들을 입력으로 하는 모아레 제거 모델(MRM)의 출력을 계산할 수 있 다. 즉, 모아레 제거 모듈은 추출된 특징들 각각에 대하여 모아레 제거 모델(MRM)에 포함된 웨이트(WGT) 및 바이어스(BS)를 적용하여 출력 특징을 계산할 수 있다. 모아레 제거 모듈은 단계 S230에서 계산된, 모아레 제거 모델(MRM)의 출력(즉, 출력 특징)을 이용하여 제2 이미지 데이터(DATA2)를 생성할 수 있다(S240). 실시 예들에 따라, 모아레 제거 모듈은 출력 특징을 변환 하고, 변환의 결과에 따라 제2이미지 데이터(DATA2)를 생성할 수 있다. 이 때, 모아레 제거 모듈은 특징 추출 단계에서 사용한 연산에 대한 역(inverse) 연산에 따라 출력 특징을 변환할 수 있다. 제2이미지 데이터(DATA2)는 모아레 제거 모델(MRM)에 의해 제1이미지 데이터(DATA1)로부터 모아레가 제거된 이 미지 데이터일 수 있다. 즉, 모아레 제거 모듈은 모아레 제거 모델(MRM)을 이용하여 제1이미지 데이터 (DATA1)로부터 제2이미지 데이터(DATA2)를 생성할 수 있다. 본 발명의 실시 예들에 따른 모아레 제거 모델(MRM)을 도출하는 방법, 모아레 제거 모델(MRM) 및 이를 이용하는 모아레 제거 방법은 컴퓨터로 판독 가능한 저장 매체에 저장되어 프로세서에 의해 실행될 수 있는 명령어들로 구현될 수 있다. 저장 매체는, 직접 및/또는 간접적이든, 원시 상태, 포맷화된 상태, 조직화된 상태 또는 임의의 다른 액세스 가 능한 상태이든 관계없이, 관계형 데이터베이스, 비관계형 데이터베이스, 인-메모리(in-memory) 데이터베이스, 또는 데이터를 저장할 수 있고 저장 제어기를 통해 이러한 데이터에 대한 액세스를 허용할 수 있는 다른 적절한 데이터베이스와 같이 분산형을 포함하는 데이터베이스를 포함할 수 있다. 또한, 저장 매체는, 1차 저장 장치 (storage), 2차 저장 장치, 3차 저장 장치, 오프라인 저장 장치, 휘발성 저장 장치, 비휘발성 저장 장치, 반도 체 저장 장치, 자기 저장 장치, 광학 저장 장치, 플래시 저장 장치, 하드 디스크 드라이브 저장 장치, 플로피 디스크 드라이브, 자기 테이프, 또는 다른 적절한 데이터 저장 매체와 같은 임의의 타입의 저장 장치를 포함할 수 있다. 본 명세서에서, 명령어는 어셈블러 명령어, 명령어 세트 아키텍처(instruction-set-architecture, ISA) 명령어, 머신 명령어, 머신 의존 명령어, 마이크로 코드, 펌웨어 명령어, 상태 설정 데이터, 또는 Smalltalk, C ++ 등과 같은 객체 지향 프로그래밍 언어 및 \"C\" 프로그래밍 언어 또는 유사한 프로그래밍 언어와 같은 종래의 절차적 프로그래밍 언어를 포함하는 하나 이상의 프로그래밍 언어의 임의의 조합으로 작성된 소스 코드 또는 객 체 코드 중 어느 하나일 수 있다. 본 발명은 도면에 도시된 실시 예를 참고로 설명되었으나 이는 예시적인 것에 불과하며, 본 기술 분야의 통상의 지식을 가진 자라면 이로부터 다양한 변형 및 균등한 타 실시 예가 가능하다는 점을 이해할 것이다. 따라서, 본 발명의 진정한 기술적 보호 범위는 첨부된 등록청구범위의 기술적 사상에 의해 정해져야 할 것이다."}
{"patent_id": "10-2018-0168313", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 일반적인 모아레 무늬를 개념적으로 나타낸다. 도 2는 본 발명의 실시 예들에 따른 모아레 제거 모델을 도출하기 위한 모아레 제거 모델 도출 장치를 나타낸다. 도 3는 shift-dot 촬영을 예시적으로 나타낸다. 도 4는 본 발명의 실시 예들에 따른 모아레 제거 모델을 도출하는 방법을 나타내는 플로우 차트이다. 도 5는 본 발명의 실시 예들에 따른 모아레 제거 기능을 가지는 촬상 장치를 나타낸다. 도 6은 본 발명의 실시 예들에 따른 이미지 신호 처리 회로를 나타낸다. 도 7은 본 발명의 실시 예들에 따른 모아레 제거 방법을 나타내는 플로우 차트이다."}
