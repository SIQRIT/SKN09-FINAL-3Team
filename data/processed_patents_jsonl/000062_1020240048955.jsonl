{"patent_id": "10-2024-0048955", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0164747", "출원번호": "10-2024-0048955", "발명의 명칭": "생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 장치 및 방법", "출원인": "서울대학교병원", "발명자": "김명주"}}
{"patent_id": "10-2024-0048955", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "하나 이상의 프로세서; 및 상기 하나 이상의 프로세서에 의해 실행되는 하나 이상의 프로그램을 저장한 메모리를 포함하는 장치에 의해 수행되는 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 방법으로서,사용자 입력과 명령에 기초하여 프롬프트를 생성하는 단계; 및생성형 인공지능 모델에 상기 프롬프트를 입력하여 대응하는 응답을 출력하는 단계를 포함하는, 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 방법."}
{"patent_id": "10-2024-0048955", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 사용자 입력은, 사람 또는 동물에 대한 수술 기록지, 검사 결과지, 입원 기록, 퇴원 기록, 초진 기록, 재진 기록, 간호 기록 및 처방전 중 적어도 하나를 포함하는 의무 기록에 관한 텍스트 입력 및 이미지 입력 중 적어도 하나를 포함하는, 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 방법."}
{"patent_id": "10-2024-0048955", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 명령은 제1 명령을 포함하고,상기 프롬프트는 제1 프롬프트를 포함하고,상기 프롬프트를 생성하는 단계는, 상기 사용자 입력과 제1 명령에 기초하여 상기 제1 프롬프트를 생성하는 단계를 포함하고,상기 제1 명령은, 상기 생성형 인공지능 모델에 상기 사용자 입력에 포함된 개인 정보 -상기 개인 정보는 환자명, 환자번호, 생년월일, 병원명, 병원주소, 담당의 및 담당의 전화번호 중 적어도 하나를 포함함- 를제외하고, 상기 사용자 입력에 포함된 의무기록에 의학 전문적인 태도로 응답할 것을 요청하도록 구성되는, 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 방법."}
{"patent_id": "10-2024-0048955", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 명령은 제2 명령을 포함하고,상기 프롬프트는 제2 프롬프트를 포함하고,상기 프롬프트를 생성하는 단계는, 상기 사용자 입력과 제2 명령에 기초하여 상기 제2 프롬프트를 생성하는 단계를 포함하고,상기 제2 명령은, 페르소나 별 정의된 역할과 특징을 부여하도록 구성되고, 상기 역할은 의사, 수의사, 간호사,부모, 자식 또는 친구이고, 상기 역할에 대응하는 특징은 전문적인 태도, 다정한 태도, 진실한 태도 또는 친근한 태도를 포함하는, 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 방법.공개특허 10-2024-0164747-3-청구항 5 제1항에 있어서,상기 명령은 제3 명령을 포함하고,상기 프롬프트는 제3 프롬프트를 포함하고,상기 프롬프트를 생성하는 단계는, 상기 사용자 입력에 사용자와 생성형 인공지능 모델 교환한 이전 채팅 기록을 포함시켜 새로운 사용자 입력을생성하는 단계;상기 새로운 사용자 입력과 상기 제3 명령에 기초하여 상기 제3 프롬프트를 생성하는 단계를 포함하고,상기 제3 명령은, 상기 이전 채팅 기록의 맥락을 유지하며 환자에게 유용한 질문을 생성하도록 구성되는, 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 방법."}
{"patent_id": "10-2024-0048955", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에 있어서,상기 명령은 제4 명령을 포함하고,상기 프롬프트는 제4 프롬프트를 포함하고,상기 프롬프트를 생성하는 단계는, 상기 사용자 입력이 질문인지 여부를 식별하는 단계; 및상기 사용자 입력이 질문인 경우, 상기 사용자 입력과 제4 명령에 기초하여 상기 제4 프롬프트를 생성하는 단계를 포함하고,상기 제4 명령은 상기 질문에 대하여 상기 생성형 인공지능 모델이 기 정의된 분량의 응답을 출력할 것을 요청하도록 구성되는, 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 방법."}
{"patent_id": "10-2024-0048955", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서,상기 제4 명령은,상기 생성형 인공지능 모델이 상기 응답에 특정 응답이 포함되지 않게 응답할 것을 요청하도록 구성되고, 상기 특정 응답은 의료행위 또는 그에 준하는 행위를 제안하는 응답 및/또는 중복된 내용의 응답을 포함하는,생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 방법."}
{"patent_id": "10-2024-0048955", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제1항에 있어서,상기 방법은,상기 사용자 입력에서 개인 정보를 감지하는 단계; 및상기 개인 정보가 감지되는 경우, 상기 사용자 입력에서 상기 개인 정보를 제외할 것을 안내하는 메시지 및/또는 경고 신호를 출력하는 단계를 포함하는, 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 방법.공개특허 10-2024-0164747-4-청구항 9 제4항에 있어서,상기 제2 프롬프트를 생성하는 단계는, 상기 장치의 디스플레이에 상기 페르소나의 옵션을 선택할 수 있는 메뉴를 표시하는 단계; 및상기 페르소나의 옵션에 대한 선택을 수신하면, 상기 옵션에 대한 선택을 제외한 나머지 사용자 입력과 선택된페르소나에 기초하여 상기 제2 프롬프트를 생성하는 단계를 포함하는, 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 방법."}
{"patent_id": "10-2024-0048955", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제1항에 있어서,상기 생성형 인공지능 모델은 평가 지표가 라벨링된 학습 데이터에 의하여 학습되고,상기 학습 데이터는 의무 기록이 포함된 입력 데이터에 대해 생성형 인공지능 모델이 출력한 예측 값에 대해 의료 분야 종사자가 기록한 선호도, 정확도 및 논쟁 가능성 중 적어도 하나에 대한 평가 지표가 라벨링되어 구축되는, 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 방법."}
{"patent_id": "10-2024-0048955", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제1항에 있어서,상기 응답을 출력하는 단계는, 의학 정보가 코퍼스로 구축된 벡터 데이터베이스에서 검색 증강 생성 기법(RAG; Retrieval-AugmentedGeneration)을 이용하여 상기 프롬프트에 대응하는 보완 응답을 출력하는 단계; 및상기 생성형 인공지능 모델을 이용하여 출력된 응답과 상기 증강 생성 기법을 이용하여 출력된 보완 응답에 기초하여 최종 응답을 제공하는 단계를 포함하는, 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 방법."}
{"patent_id": "10-2024-0048955", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "하나 이상의 프로세서; 및 상기 하나 이상의 프로세서에 의해 실행되는 하나 이상의 프로그램을 저장한 메모리를 포함하는 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 장치로서,상기 하나 이상의 프로세서는:사용자 입력과 명령에 기초하여 프롬프트를 생성하고,생성형 인공지능 모델에 상기 프롬프트를 입력하여 대응하는 응답을 출력하는, 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 장치."}
{"patent_id": "10-2024-0048955", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "일 실시예에 따른 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 장치 및 방법이 개시된다. 일 실시예에 따른 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 장치는 하나 이상의 프로세서; 및 상기 하나 이상의 프로세서에 의해 실행되는 하나 이상의 프로그램을 저장한 메모리를 포함하는 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 장치로서, 상기 하나 이상의 프로세서는: 사용자 입력과 명령에 기초하여 프롬프트를 생성하 고, 생성형 인공지능 모델에 상기 프롬프트를 입력하여 대응하는 응답을 출력한다."}
{"patent_id": "10-2024-0048955", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "개시되는 실시예들은 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 장치 및 방법에 관한 것이다. 구체 적으로, 개시되는 실시예들은 생성형 인공지능을 이용하여 의무 기록에 대한 사용자의 질문에 채팅 형식으로 답 변을 제공하는 기술에 관한 것이다."}
{"patent_id": "10-2024-0048955", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "헬스케어 분야와 인공지능 산업을 결합한 '웰케어' 산업이 부상하고 있으며, 여러 의료 AI 솔루션들이 개발되었 다. 그러나, 개인정보 보호법 등 규제로 인해 기술 활용이 제한적으로 이루어지고 있는 실정이다. 더하여, Chat GPT의 등장과 함께 초거대 AI 시대가 도래하였다. 특정 도메인 지식만을 학습한 자연어 처리 알고리즘 보다 인 간의 언어를 이해한 초거대 생성 AI를 정확한 전문지식을 기반으로 하는 데이터셋으로 미세 조정(fine tuning) 하는 것이 보다 높은 성능을 보일 것으로 예상되고 있다. 최근 환자들의 낮은 건강 문해력이 이슈가 되고 있다. 한국보건사회연구원의 <보건복지포럼>‘한국의료패널로 본 헬스 리터러시 실태와 정책적 시사점'에서 10명 중 3명은 건강 문해력이 부족하다고 전한다. 특히 고령층일 수록, 사회경제적 위치가 취약할수록 건강 문해력은 낮아지는 경향을 보인다. 대학병원의 경우 외래 3분 정도로 진료 시간이 매우 짧아 의사에게 자세한 설명을 듣기 어려운 상황이다. 의무 기록은 수술 기록지, 초진 기록지, 재진 기록지, 입퇴원 기록, 영상 검사 판독문 등 환자가 외래, 입원 등 병원에 방문할 시 작성되는 모든 기록이다. 주로 보험사에 증빙자료로 제출할 목적 혹은 타병원 전원시 활용하 기 위해 발급되고 있다. 환자가 직접 요청하여 발급할 수 있으며 의사의 승인 없이도 발급이 가능하다. 최근 여 러 병원에서 온라인으로 의무기록 사본을 발급해주고 있으며, 점차 그 건수가 증가하는 추세이다. 또한 일부 병 원에서는 모바일로도 의무기록 사본을 발급하는 서비스를 출시한다. 환자들은 자기자신의 건강상태를 이해하기 위해 의무기록을 해석하고자 하나, 대부분의 의무기록이 영어, 한글 이 혼용되어 있고 의학 용어도 많아 이해하기 쉽지 않다. 또한 인터넷 검색을 하더라도 의학 약어의 경우 검색 이 용이하지 않아 의무기록의 해석이 불가능한 경우도 많다. 한편 기존 자연어 처리 알고리즘은 의무기록은 전 혀 해석하지 못하는 등 우수한 성능을 보이지 않는다. 선행기술문헌 특허문헌 (특허문헌 0001) 대한민국 등록특허공보 제10-2418558호(2022.7.7.공고)"}
{"patent_id": "10-2024-0048955", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "개시되는 실시예들은 생성형 인공지능을 이용하여 의무기록에 대한 사용자의 질문에 답변을 채팅 형식으로 제공 하기 위한 것이다."}
{"patent_id": "10-2024-0048955", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "일 실시예에 따른 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 방법은 하나 이상의 프로세서; 및 상기 하나 이상의 프로세서에 의해 실행되는 하나 이상의 프로그램을 저장한 메모리를 포함하는 장치에 의해 수행되 는 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 방법으로서, 사용자 입력과 명령에 기초하여 프롬프트 를 생성하는 단계; 및 생성형 인공지능 모델에 상기 프롬프트를 입력하여 대응하는 응답을 출력하는 단계를 포 함한다. 상기 사용자 입력은, 사람 또는 동물에 대한 수술 기록지, 검사 결과지, 입원 기록, 퇴원 기록, 초진 기록, 재 진 기록, 간호 기록 및 처방전 중 적어도 하나를 포함하는 의무 기록에 관한 텍스트 입력 및 이미지 입력 중 적 어도 하나를 포함할 수 있다. 상기 명령은 제1 명령을 포함하고, 상기 프롬프트는 제1 프롬프트를 포함하고, 상기 프롬프트를 생성하는 단계 는, 상기 사용자 입력과 제1 명령에 기초하여 상기 제1 프롬프트를 생성하는 단계를 포함하고, 상기 제1 명령은, 상기 생성형 인공지능 모델에 상기 사용자 입력에 포함된 개인 정보 -상기 개인 정보는 환자명, 환자번 호, 생년월일, 병원명, 병원주소, 담당의 및 담당의 전화번호 중 적어도 하나를 포함함- 를 제외하고, 상기 사 용자 입력에 포함된 의무기록에 의학 전문적인 태도로 응답할 것을 요청하도록 구성될 수 있다. 상기 명령은 제2 명령을 포함하고, 상기 프롬프트는 제2 프롬프트를 포함하고, 상기 프롬프트를 생성하는 단계 는, 상기 사용자 입력과 제2 명령에 기초하여 상기 제2 프롬프트를 생성하는 단계를 포함하고, 상기 제2 명령은, 페르소나 별 정의된 역할과 특징을 부여하도록 구성되고, 상기 역할은 의사, 수의사, 간호사, 부모, 자식 또는 친구이고, 상기 역할에 대응하는 특징은 전문적인 태도, 다정한 태도, 진실한 태도 또는 친근한 태도를 포함할 수 있다. 상기 명령은 제3 명령을 포함하고, 상기 프롬프트는 제3 프롬프트를 포함하고, 상기 프롬프트를 생성하는 단계 는, 상기 사용자 입력에 사용자와 생성형 인공지능 모델 교환한 이전 채팅 록을 포함시켜 새로운 사용자 입력을 생성하는 단계; 상기 새로운 사용자 입력과 상기 제3 명령에 기초하여 상기 제3 프롬프트를 생성하는 단계를 포 함하고, 상기 제3 명령은, 상기 이전 채팅 기록의 맥락을 유지하며 환자에게 유용한 질문을 생성하도록 구성될 수 있다. 상기 명령은 제4 명령을 포함하고, 상기 프롬프트는 제4 프롬프트를 포함하고, 상기 프롬프트를 생성하는 단계 는, 상기 사용자 입력이 질문인지 여부를 식별하는 단계; 및 상기 사용자 입력이 질문인 경우, 상기 사용자 입 력과 제4 명령에 기초하여 상기 제4 프롬프트를 생성하는 단계를 포함하고, 상기 제4 명령은 상기 질문에 대하 여 상기 생성형 인공지능 모델이 기 정의된 분량의 응답을 출력할 것을 요청하도록 구성될 수 있다. 상기 제4 명령은, 상기 생성형 인공지능 모델이 상기 응답에 특정 응답이 포함되지 않게 응답할 것을 요청하도 록 구성되고, 상기 특정 응답은 의료행위 또는 그에 준하는 행위를 제안하는 응답 및/또는 중복된 내용의 응답 을 포함할 수 있다. 상기 방법은, 상기 사용자 입력에서 개인 정보를 감지하는 단계; 및 상기 개인 정보가 감지되는 경우, 상기 사 용자 입력에서 상기 개인 정보를 제외할 것을 안내하는 메시지 및/또는 경고 신호를 출력하는 단계를 포함할 수 있다. 상기 제2 프롬프트를 생성하는 단계는, 상기 장치의 디스플레이에 상기 페르소나의 옵션을 선택할 수 있는 메뉴 를 표시하는 단계; 및 상기 페르소나의 옵션에 대한 선택을 수신하면, 상기 옵션에 대한 선택을 제외한 나머지 사용자 입력과 선택된 페르소나에 기초하여 상기 제2 프롬프트를 생성하는 단계를 포함할 수 있다. 상기 생성형 인공지능 모델은 평가 지표가 라벨링된 학습 데이터에 의하여 학습되고, 상기 학습 데이터는 의무 기록이 포함된 입력 데이터에 대해 생성형 인공지능 모델이 출력한 예측 값에 대해 의료 분야 종사자가 기록한 선호도, 정확도 및 논쟁 가능성 중 적어도 하나에 대한 평가 지표가 라벨링되어 구축될 수 있다. 상기 응답을 출력하는 단계는, 의학 정보가 코퍼스로 구축된 벡터 데이터베이스에서 검색 증강 생성 기법(RAG; Retrieval-Augmented Generation)을 이용하여 상기 프롬프트에 대응하는 보완 응답을 출력하는 단계; 및 상기 생성형 인공지능 모델을 이용하여 출력된 응답과 상기 증강 생성 기법을 이용하여 출력된 보완 응답에 기초하여 최종 응답을 제공하는 단계를 포함할 수 있다. 일 실시예에 따른 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 장치는 하나 이상의 프로세서; 및 상기 하나 이상의 프로세서에 의해 실행되는 하나 이상의 프로그램을 저장한 메모리를 포함하는 생성형 인공지능 기 반의 의료 채팅 서비스를 제공하는 장치로서, 상기 하나 이상의 프로세서는: 사용자 입력과 명령에 기초하여 프 롬프트를 생성하고, 생성형 인공지능 모델에 상기 프롬프트를 입력하여 대응하는 응답을 출력한다."}
{"patent_id": "10-2024-0048955", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "개시되는 실시예들은 생성형 인공지능을 이용하는 바, 사용자의 의무 기록에 대한 질문에 즉각적인 답변을 제공 할 수 있다. 개시되는 실시예들은 프롬프트 엔지니어링을 통해 사용자의 의무 기록에 대한 질문을 보다 명확하게 변형하여 답변에 일관성을 제공할 수 있다. 개시되는 실시예들은 프롬프트 엔지니어링을 통해 사용자가 지정한 페르소나가 답변에 적용함으로써, 커스터마 이징 된 답변을 제공할 수 있다."}
{"patent_id": "10-2024-0048955", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 도면을 참조하여 일 실시예의 구체적인 실시형태를 설명하기로 한다. 이하의 상세한 설명은 본 명세서에 서 기술된 발명에 대한 포괄적인 이해를 돕기 위해 제공된다. 그러나 이는 예시에 불과하며 본 발명은 이에 제 한되지 않는다. 일 실시예들을 설명함에 있어서, 본 발명과 관련된 공지기술에 대한 구체적인 설명이 일 실시예의 요지를 불필 요하게 흐릴 수 있다고 판단되는 경우에는 그 상세한 설명을 생략하기로 한다. 또한, 실시예의 설명 과정에서 이용되는 숫자(예를 들어, 제 1, 제 2 등)는 하나의 구성요소를 다른 구성요소와 구분하기 위한 식별기호에 불 과하다. 후술되는 용어들은 본 발명에서의 기능을 고려하여 정의된 용어들로서 이는 사용자, 운용자의 의도 또는 관례 등에 따라 달라질 수 있다. 그러므로 그 정의는 본 명세서 전반에 걸친 내용을 토대로 내려져야 할 것이다. 상 세한 설명에서 사용되는 용어는 단지 일 실시예들을 기술하기 위한 것이며, 결코 제한적이어서는 안 된다. 명확 하게 달리 사용되지 않는 한, 단수 형태의 표현은 복수 형태의 의미를 포함한다. 본 설명에서, \"포함\" 또는 \"구 비\"와 같은 표현은 어떤 성분들, 숫자들, 단계들, 동작들, 요소들, 이들의 일부 또는 조합을 가리키기 위한 것 이며, 기술된 것 이외에 하나 또는 그 이상의 다른 성분, 숫자, 단계, 동작, 요소, 이들의 일부 또는 조합의 존 재 또는 가능성을 배제하도록 해석되어서는 안 된다. 또한, 본 명세서에 기술된 실시예는 전적으로 하드웨어이거나, 부분적으로 하드웨어이고 부분적으로 소프트웨어 이거나, 또는 전적으로 소프트웨어인 측면을 가질 수 있다. 본 명세서에서 \"부(unit)\", \"장치(apparatus) \", 모 듈(module)\", \"장비(device)\", \"서버(server)\" 또는 \"시스템(system)\" 등은 하드웨어, 하드웨어와 소프트웨어 의 조합, 또는 소프트웨어 등 컴퓨터 관련 엔티티(entity)를 지칭한다. 예컨대, 부, 장치, 모듈, 장치, 서버 또 는 시스템은 플랫폼(platform)의 일부 또는 전부를 구성하는 하드웨어 및/또는 상기 하드웨어를 구동하기 위한 애플리케이션(application) 등의 소프트웨어를 지칭하는 것일 수 있다. 구체적인 예로, 부, 장치, 모듈, 장비, 서버 또는 시스템은 프로세서에 의해 구현될 수 있다. 용어 정의 본 명세서에서 사용자 입력은 생성형 인공지능 모델과 상호작용하기 위해, 사용자가 제공하는 정보 및/또는 요 청을 의미할 수 있다. 즉, 사용자 입력은 프롬프트 생성 전 사용자가 생성형 인공지능 모델에 제공하는 초기 입 력을 의미할 수 있다. 본 명세서에서 명령은 생성형 인공지능 모델의 응답이 원하는 방향으로 응답할 수 있도록, 프롬프트에 통합된 추가 지침 사항을 의미할 수 있다. 즉, 명령은 사용자 입력에 기초하여 생성형 인공지능 모델로 하여금 원하는 정보를 원하는 방향으로 또는 최적화하여 출력할 수 있도록, 프롬프트에 포함된 추가 지침사항을 의미할 수 있 다.본 발명의 예시적인 실시예들의 설명 도 1은 일 실시예에 따른 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 시스템을 설명하기 위한 도 면이다. 도 1을 참조하면, 일 실시예에 따른 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 시스템은 서버 와 장치를 포함할 수 있다. 서버는 통신 네트워크를 통해 장치에 생성형 인공지능 모델을 이용하여 채팅 서비스를 제공하고, 채 팅 서비스를 전체적으로 관리하는 서버 컴퓨터를 나타낼 수 있다. 서버는 입력 데이터와 명령을 포함하는 프롬프트를 장치로부터 수신할 수 있다. 이때, 입력 데이터는 의무 기록과 관련된 텍스트 및 이미지 중 적어도 하나를 포함할 수 있다. 서버는 생성형 인공지능 모델을 이용하여 입력 데이터에 대한 분석 요청에 대응한 설명을 장치에 제공할 수 있다. 이때, 서버는 채팅 형식에 기반하여 설명을 제공할 수 있다. 장치는 서버와 사용자 간의 상호작용에서 이해력을 돕기 위해, 입력 데이터에 명령을 덧붙인 프롬프 트의 처리를 서버에 요청할 수 있다. 이때, 장치는 사용자에게 용이한 이해를 돕기 위해, 프롬프트에 사용자 입력에 대응하는 설명에 보다 간결성을 요청하는 명령을 포함시킬 수 있다. 다른 예로, 장치는 생 성형 인공지능 모델이 채팅에서 수행해야 하는 역할을 부여하기 위해, 프롬프트에 페르소나 적용을 요청하는 명 령을 포함시킬 수 있다. 이때, 장치는 휴대폰, 태블릿 PC, 디지털 카메라, 캠코더, 노트북 컴퓨터(laptop computer), 태블릿 PC, 데스크탑, 전자책 단말기, 디지털 방송용 단말기, PDA(Personal Digital Assistants), PMP(Portable Multimedia Player), 내비게이션, MP3 플레이어, 착용형 기기(wearable device) 등과 같은 다양한 전자 기기로 구현될 수 있다. 이하, 도 2에서는 장치가 생성형 인공지능 모델과 사용자 입력 간의 상호작용을 보다 효과적이게 하는 프 롬프트 생성 방법을 설명한다. 도 2는 일 실시예에 따른 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 장치를 설명하기 위한 블 록도이다. 도 2를 참조하면, 장치는 프로세서와 메모리를 포함한다. 프로세서는 사용자 입력과 명령에 기초하여 프롬프트를 생성한다. 여기서, 사용자 입력은 구체적으로, 사용자 입력은 제1 입력 데이터로서, 의무 기록에 대한 분석 대상 데이터와 제2 입력 데이터로서, 분석 대상 데이터에 대한 분석 요청을 포함할 수 있다. 일 예로, 제1 입력 데이터는 의료 분야 종사자에 의해 진단된 의무 기록으로, 인쇄된 의무 기록을 촬영하여 생 성된 이미지를 포함할 수 있다. 다른 예로, 제1 입력 데이터는 발급된 의무 기록에 기초하여 환자가 받아 적거 나 발췌하여 타이핑 한 텍스트를 포함할 수 있다. 제2 입력 데이터는 생성형 인공지능 모델에 제1 입력 데이터에 대한 의료적 분석을 요청하는 사용자의 쿼리를 포함할 수 있다. 여기서, 제2 입력 데이터에는 의료적 분석의 요청 중 의료 행위로 해석될 수 있는 사항은 배제 될 수 있다. 일 예로, 제2 입력 데이터는 제1 입력 데이터에 대한 설명 요청 및/또는 제1 입력 데이터에 기반하여 현재 건강 상태에서 가능한 경과 및/또는 보유 질환을 예방하고 관리할 수 있는 지침 사항에 대한 질의 등을 포함할 수 있 다. 이때, 의무 기록이란, 기록사람 또는 동물에 대한 수술 기록지, 검사 결과지, 입원 기록, 퇴원 기록, 초진 기록, 재진 기록, 간호 기록 및 처방전 중 적어도 하나를 포함할 수 있다. 명령은, 사용자와 생성형 인공지능 모델 간의 효과적인 의사소통을 촉진하도록, 생성형 인공지능 모델에 요청하 는 추가 지침 사항을 포함할 수 있다. 구체적인 예로, 명령은 사용자의 잠재적인 요청을 처리할 수 있도록, 사 용자 입력에 대한 보완 사항을 포함할 수 있다. 즉, 프로세서는 사용자 입력에 명령을 덧붙여 생성형 인공지능 모델에 입력할 프롬프트를 생성할 수 있다. 일 예로, 프로세서는 사용자 입력과 제1 명령에 기초하여 생성형 인공지능 모델에 입력할 프롬프트를 생성 할 수 있다. 여기서, 제1 명령은 생성형 인공지능 모델에게 사용자 입력에 포함된 개인 정보를 제외하고 의무 기록에 대해 의학 전문적으로 응답할 것을 요청하도록 구성될 수 있다. 구체적인 예로, 제1 명령은 \"모든 응답에는 병원명, 주소, 의사 이름, 전화번호를 제외하고 응답하십시오. 질문 에 대한 답변을 하십시오.\"와 같은 명령을 포함할 수 있다. 한편, 개인 정보는 환자명, 환자번호, 생년월일, 병원명, 병원주소, 담당의 및 담당의 전화번호 중 적어도 하나 를 포함할 수 있으나, 이는 예시적인 것으로서 상술한 예시에 한정되는 것은 아니다. 즉, 프로세서는 사용자 입력에서는 나타나지 않았으나, 사용자가 잠재적으로 요청할 수 있었던 사항(예: 개인 정보 보안 요청, 개인 정보 처리 규정 준수 요청, 주요 컨텐츠 집중 요청)을 보완하여 프롬프트를 생성할 수 있다. 다른 예로, 프로세서는 사용자 입력과 제2 명령에 기초하여 생성형 인공지능 모델에 입력할 프롬프트를 생 성할 수 있다. 여기서, 제2 명령은 생성형 인공지능 모델에게 페르소나 별 정의된 역할과 특징에 기초하여 응답할 것을 요청하 도록 구성될 수 있다. 이때, 역할은, 의사, 수의사, 간호사, 부모, 자식 또는 친구이고, 역할에 대응하는 특징으로, 전문적인 태도, 다정한 태도, 진실한 태도 또는 친근한 태도를 포함할 수 있다. 구체적인 예로, 제2 명령은 \"의사가 환자에게 말하는 것처럼 전문적이면서도 친절하게 응답해주십시오.\"와 같은 명령을 포함할 수 있다. 다른 예로, 프로세서는 새로운 사용자 입력과 제3 명령에 기초하여 생성형 인공지능 모델에 입력할 프롬프 트를 생성할 수 있다. 여기서, 새로운 사용자 입력이란, 이전의 사용자 입력과 대응하는 생성형 인공지능 모델 사이에 교환된 채팅 기 록을 포함한 입력 데이터를 의미할 수 있다. 여기서, 제3 명령은, 이전 채팅 기록의 맥락을 유지하며 생성형 인공지능 모델이 환자에게 유용할 질문을 생성 할 것을 요청하도록 구성될 수 있다. 여기서, 유용할 질문은 사용자 입력에 포함된 요청사항과 관련하여 사용자가 궁금해할 질문을 포함할 수 있다. 즉, 유용할 질문은 사용자 입력에 비추어볼 때, 사용자가 알았다면, 질의하였을 것 같은 질문을 포함할 수 있다. 일 예로, 유용한 질문은 사용자 입력에 포함된 질문이 당면한 주제를 이해하는데 도움이 되는 질문을 포함할 수 있다. 다른 예로, 유용한 질문은 사용자 입력에 포함된 질문을 해결하는데 도움이 되는 질문을 포함할 수 있다. 다른 예로, 프로세서는 사용자 입력과 제4 명령에 기초하여 생성형 인공지능 모델에 입력할 프롬프트를 생 성할 수 있다. 여기서, 프로세서는 사용자 입력에 질문이 포함되어 있는 경우, 사용자 입력과 제4 명령에 기초하여 제4 프롬프트를 생성할 수 있다. 이때, 제4 명령은 사용자 입력에 포함되어 있는 질문에 대하여 생성형 인공지능 모델이 기 정의된 분량으로 응 답할 것을 요청하도록 구성될 수 있다. 프로세서는 생성형 인공지능 모델로 하여금 사용자에게 명확하고 간결한 설명의 제공을 돕기 위해, 응답은 예컨대, 한 줄의 분량을 가질 것을 요청할 수 있다. 또한, 제4 명령은 생성형 인공지능 모델이 응답 시 특정 응답을 포함하지 않도록 요청하도록 구성될 수 있다. 상기 특정 응답은 의료행위 또는 그에 준하는 행위를 제안하는 응답 및/또는 중복된 내용의 응답을 포함하는 것 일 수 있다. 이를 통해, 프로세서는 생성형 인공지능 모델로 하여금 중복된 응답을 회피하게 할 수 있다. 또한 응답이 의료 행위 또는 이에 준하는 행위로 해석되지 않도록 특정 응답을 제외할 수 있다. 또한, 프로세서는 생성형 인공지능 모델을 이용할 뿐만 아니라, 의학 도메인의 정보가 임베딩 된 벡터들이 저장된 데이터베이스를 이용하여 보완 답변을 더 제공할 수 있다. 이때, 프로세서는 데이터베이스에서 검색 증강 생성 기법(RAG, Retrieval-Augmented Generation)을 통해 보완 답변을 산출할 수 있다. 즉, 프로세서는 데이터베이스를 이용하여 산출한 보완 응답과 생성형 인공지능 모델을 이용하여 산출한 응 답에 기초하여 의학적 정확도가 제고된 최종 응답을 제공할 수 있다. 생성형 인공지능 모델은 평가 지표가 라벨링된 학습 데이터에 의하여 학습됨이 바람직하다. 이때, 학습 데이터는 의무 기록이 포함된 샘플 데이터에 대해 생성형 인공지능 모델이 출력한 예측 값에 대해 의료 분야 종사자가 기록한 선호도, 정확도 및 논쟁 가능성 중 적어도 하나에 대한 평가 지표가 라벨링되어 구 축될 수 있다. 예를 들어, 학습 데이터는 의무 기록에 관한 하나의 설명과, 의무 기록과 관련하여 제시된 질문에 대한 5개의 응답에 대한 선호도, 정확도 및 논쟁 가능성을 측정하여 하나의 의무기록에 대하여 총 18개의 라벨이 부여되도 록 구축될 수 있다. 이때, 선호도란, 의료 종사자가 해당 설명에 관한 응답으로 가장 적절하다고 판단되는 순서에 비례하여 클래스 가 매겨질 수 있다. 정확도란, 해당 응답이 의학적으로 타당한지, 타당하지 않은지, 그 외의 의견을 갖는지 여 부를 평가하기 위한 지표로, 3개의 클래스로 평가될 수 있다. 논쟁 가능성은 0부터 10점 사이의 범위에서 평가 될 수 있다. 이때, 논쟁 가능성은 의료 분야 종사자 사이에서 합의가 이루어지지 않고 다양한 관점을 가질 응답 에 대해 높은 점수가 부여될 수 있다. 한편, 정확도와 논쟁 가능성은 선호도가 3지 선다 형식으로 출력된 설명과 응답에 대하여 가장 높은 것에 대해 평가함이 바람직하다. 메모리는 프로세서에 의해 실행되는 명령어를 저장한다. 도 3은 일 실시예에 따라, 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 장치가 사용자 입력을 위 한 화면을 제공하는 예시를 나타내는 도면이다. 프로세서는 서버와 연동된 어플리케이션을 통해 수신된 사용자 입력을 서버에 송신할 수 있다. 프로세서는 장치의 디스플레이에 표시된 어플리케이션 제1 UI를 통해 사용자의 입력을 수신할 수 있 다. 예컨대, 프로세서는 제1 UI로서, 텍스트 입력란을 통해 획득되는 사용자 입력을 수신할 수 있다. 프로 세서는 제1 UI로서, 이미지 업로드 아이콘을 통해 사용자 입력을 수신할 수 있다. 프로세서는 사용자 입력이 완료되면, 사용자의 요청에 따라 서버에 분석 요청 또는 송신 요청을 보낼 수 있다. 예를 들어, 프로세서는 장치의 디스플레이에 표시된 어플리케이션 제2 UI가 사용자에 의해 터치되면, 서버에 사용자 입력을 통해 업로드 된 의무 기록의 분석을 요청하거나, 외부의 다른 장치 로 송신할 것을 요청할 수 있다. 도 4는 일 실시예에 따라, 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 장치가 사용자 입력에 경 고 신호를 제공하는 예시를 나타내는 도면이다. 프로세서는 업로드 된 이미지가 부적절한 정보를 포함하는 경우, 경고 신호를 출력할 수 있다. 도 4의 좌측에 도시된 의무기록 이미지와 같이, 업로드 된 이미지에 성명, ID, 나이, 성별 및 생년월일 중 적어 도 하나를 포함하는 개인 정보가 존재하는 경우, 프로세서는 이를 인식한 경우, 개인 정보를 제외할 것을 안내하는 메시지를 경고 신호로서 출력할 수 있다. 반면, 프로세서는 이미지에 부적절한 정보가 포함되지 않을 경우, 완료 신호를 출력할 수 있다. 도 4의 우측에 도시된 의무기록 이미지와 같이, 업로드 된 이미지에 개인 정보가 존재하지 않는 경우에 프로세 서는 완료 신호를 출력함으로써 이미지의 업로드가 성공적으로 이루어졌다는 정보를 안내할 수 있다. 이때, 경고 신호 및/또는 안내 신호는 장치의 디스플레이에 시각적으로 출력된 것으로 설명되었으나 이는 예시적인 것으로서, 시각을 포함하여 청각, 촉각적으로 출력될 수도 있는 것이지 반드시 상술한 예시에 한정되 는 것은 아니다. 도 5는 일 실시예에 따라, 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 장치가 페르소나를 적용 하여 답변을 제공하는 예시를 나타내는 도면이다. 프로세서는 서버와 연동된 어플리케이션을 통해 서버에 송신한 사용자 입력에 대해 답변을 제공 할 수 있다. 도 5에서, 프로세서는 '자녀' 페르소나를 적용하여 답변을 제공한다. 이때, 프로세서는 이전에 사용 자가 기 선택한 '자녀' 페르소나 또는 설정 환경에서 세팅된 '자녀' 페르소나로 답변을 제공할 것을 요청하는 프롬프트를 제공하여, '진실한' 어조로 채팅 메시지를 제공한다. 이때, 프로세서는 다음 답변에 적용할 페르소나의 선택을 위해 페르소나 설정을 위한 제3 UI를 장치 의 디스플레이에 표시할 수 있다. 이때, 페르소나의 역할과 성격은 디스플레이에 안내되어 사용자에게 페르소나 의 변경을 용이하게 도울 수 있다. 한편, 프로세서는 사용자에 의해 제3 UI가 터치되면, 생성형 인공지능 모델로 하여금 새롭게 선택된 페르 소나를 적용하여 답변을 제공하라는 명령을 새 사용자 입력에 덧붙여 다음 프롬프트를 생성할 수 있다. 도 6은 일 실시예에 따라, 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 장치가 사용자 질문에 대 한 추천 질문을 제안하는 예시를 나타내는 도면이다. 도 6에서, 프로세서는 사용자에게 유용할 질문을 제안한다. 이때, 프로세서는 사용자가 생성형 인공 지능 모델과 나눈 대화에 기반하여 사용자에게 유용할 질문을 제안할 수 있다. 구체적으로, 프로세서는 이전까지 사용자가 생성형 인공지능 모델과 나눈 대화에서의 맥락을 유지하며 사 용자에게 유용할 질문을 추천할 수 있다. 예시에서, 사용자는 '방사선 굴절체'를 주제로 질문을 하는 바, 프로 세서는 다음 추천 질문으로 해당 사용자의 방사선 굴절체가 '어느 신체 부위에 위치하는지', 해당 사용자 의 방사선 굴절체 '상태가 심각한지 여부'를 알려주기 위해 새로운 질문을 유도할 수 있다. 즉, 프로세서는 사용자가 생성형 인공지능 모델과 나눈 대화에서의 주제, 분량, 범위, 배경 정보, 목적, 목표, 관련성, 사용자의 사전 지식, 경험, 감정적 맥락, 문화적 맥락 등을 유지하여 다음 답변을 제공할 수 있 다. 도 7은 일 실시예에 따라, 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 장치가 외부 장치로 채팅 기록을 발송하는 예시를 나타내는 도면이다. 프로세서는 어플리케이션을 통해 외부 장치로 채팅 기록을 전송할 수 있다. 우선, 프로세서는 외부 장치로 전송할 수 있는 채팅 기록의 목록을 장치의 디스플레이에 표시할 수 있다. 이후, 프로세서는 사용자가 외부로 전송하기 위해 선택한 채팅 기록을 외부 장치에 송신할 수 있다. 프로세서는 데이터 전송이 완료되면, 전송이 성공적이었음을 나타내는 확인 메시지 또는 전송이 실패하였음을 나타내는 오류 메시지를 디스플레이에 표시할 수 있다. 도 8은 일 실시예에 따라, 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 장치가 이전 입력과의 비 교결과를 설명하는 예시를 나타내는 도면이다. 프로세서는 비교를 요청하는 사용자 쿼리를 처리하기 위해, 새로 업로드 된 의무기록과 이전에 업로드 된 의무기록을 비교하는 쿼리를 서버에 제공할 수 있다. 이때, 프로세서는 업로드 된 이미지와 업로드 된 날짜를 메타데이터와 함께 저장함으로써, 서버에 원하는 날짜의 기록과의 비교를 요청할 수 있다. 프로세서는 해당 사용자 쿼리에 대응하여 비교의 항목으로 질환 환부의 크기 변화, 상태 변화를 요청하는 명령을 서버에 제공할 수 있다. 한편, 프로세서는 해당 사용자의 쿼리 외에 권고사항을 더 요청하는 명령을 포함시킨 프롬프트를 서버에 제공할 수 있다. 도 9는 일 실시예에 따른 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 방법을 설명하는 흐름도이다. 도 9의 방법은 도 2에 설명된 생성형 인공지능 모델 기반의 의료 채팅 서비스를 제공하는 장치에 의해 수 행될 수 있다. 우선, 인공지능 모델 기반의 의료 채팅 서비스를 제공하는 장치는 사용자 입력과 기 정의된 명령에 기초하 여 프롬프트를 생성한다. 이후, 인공지능 모델 기반의 의료 채팅 서비스를 제공하는 장치는 생성형 인공지능 모델에 프롬프트를 입 력하여 대응하는 응답을 출력한다. 한편, 도 1에서 장치는 서버의 생성형 인공지능 모델과 통신함으로써, 채팅 서비스를 제공하는 것으 로 설명하였으나, 설명과 다르게 장치에 내장된 생성형 인공지능 모델을 통해 자체적으로 채팅 서비스를 제공할 수도 있다. 상기 도시된 도 9는 도면에 제시된 순서를 참조로 하여 설명되었다. 설명을 위하여 상기 방법은 일련의 블록들 로 도시되고 설명되었으나, 본 발명은 상기 블록들의 순서에 한정되지 않고, 몇몇 블록들은 다른 블록들과 본 명세서에서 도시되고 기술된 것과 상이한 순서로 또는 동시에 일어날 수도 있으며, 동일한 또는 유사한 결과를 달성하는 다양한 다른 분기, 흐름 경로, 및 블록의 순서들이 구현될 수 있다. 또한, 본 명세서에서 기술되는 방 법의 구현을 위하여 도시된 모든 블록들이 요구되지 않을 수도 있다. 한편, 본 발명의 실시예는 본 명세서에서 기술한 방법들을 컴퓨터상에서 수행하기 위한 프로그램, 및 상기 프로 그램을 포함하는 컴퓨터 판독 가능 기록매체를 포함할 수 있다. 상기 컴퓨터 판독 가능 기록매체는 프로그램 명 령, 로컬 데이터 파일, 로컬 데이터 구조 등을 단독으로 또는 조합하여 포함할 수 있다. 상기 매체는 본 발명을 위하여 특별히 설계되고 구성된 것들이거나, 또는 컴퓨터 소프트웨어 분야에서 통상적으로 사용 가능한 것일 수 있다. 컴퓨터 판독 가능 기록매체의 예에는 하드 디스크, 플로피 디스크 및 자기 테이프와 같은 자기 매체, CD- ROM, DVD와 같은 광 기록 매체, 및 롬, 램, 플래시 메모리 등과 같은 프로그램 명령을 저장하고 수행하도록 특 별히 구성된 하드웨어 장치가 포함된다. 상기 프로그램의 예에는 컴파일러에 의해 만들어지는 것과 같은 기계어 코드뿐만 아니라 인터프리터 등을 사용해서 컴퓨터에 의해서 실행될 수 있는 고급 언어 코드를 포함할 수 있다."}
{"patent_id": "10-2024-0048955", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "이상에서 본 발명의 대표적인 실시예들을 상세하게 설명하였으나, 본 발명이 속하는 기술분야에서 통상의 지식 을 가진 자는 상술한 실시예에 대하여 본 발명의 범주에서 벗어나지 않는 한도 내에서 다양한 변형이 가능함을 이해할 것이다. 그러므로 본 발명의 권리범위는 설명된 실시예에 국한되어 정해져서는 안 되며, 후술하는 청구 범위뿐만 아니라 이 청구범위와 균등한 것들에 의해 정해져야 한다."}
{"patent_id": "10-2024-0048955", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 일 실시예에 따른 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 시스템을 설명하기 위한 도면이 다. 도 2는 일 실시예에 따른 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 장치를 설명하기 위한 블록도이 다.도 3은 일 실시예에 따라, 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 장치가 사용자 입력을 위한 화 면을 제공하는 예시를 나타내는 도면이다. 도 4는 일 실시예에 따라, 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 장치가 사용자 입력에 경고 신 호를 제공하는 예시를 나타내는 도면이다. 도 5는 일 실시예에 따라, 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 장치가 페르소나를 적용하여 답변을 제공하는 예시를 나타내는 도면이다. 도 6은 일 실시예에 따라, 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 장치가 사용자 질문에 대한 추 천 질문을 제안하는 예시를 나타내는 도면이다. 도 7은 일 실시예에 따라, 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 장치가 외부 장치로 채팅 기록 을 발송하는 예시를 나타내는 도면이다. 도 8은 일 실시예에 따라, 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 장치가 이전 입력과의 비교결 과를 설명하는 예시를 나타내는 도면이다. 도 9는 일 실시예에 따른 생성형 인공지능 기반의 의료 채팅 서비스를 제공하는 방법을 설명하는 흐름도이다."}
