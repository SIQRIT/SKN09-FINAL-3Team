{"patent_id": "10-2023-0115243", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0032431", "출원번호": "10-2023-0115243", "발명의 명칭": "개인별 맞춤형 색상 추전 장치", "출원인": "주식회사 더발라", "발명자": "임관령"}}
{"patent_id": "10-2023-0115243", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "개인별 사진 이미지를 입력받아 상기 사진 이미지에 포함된 적어도 3개의 얼굴 특징 영역을 추출 및 마스크 분할하여 순차적으로 색상을 변환하고, 상기 얼굴 특징 영역에 색상이 변경 적용된 사진 이미지를 생성 제공하는색상 변환 제공부,상기 색상 변환 제공부에서 제공한 상기 얼굴 특징 영역에 색상이 변경된 사진 이미지를 2분할된 화면에 서로사진 이미지를 대비하여 순차적으로 제공함으로써 서로 대비되는 사진 이미지를 사용자가 순차적으로 선택할 수있도록 하는 이미지 선택 제공부,상기 이미지 선택 제공부에서 제공한 대비되는 사진 이미지의 선택이 유저에 의해 완료되면 선택된 사진 이미지를 기초로 개인 색상 추천 알고리즘에 의해 개인별 어울리는 색상과 어울리지 않는 색상을 추천하고, 상기 사진이미지의 분할 표시된 일 영역에는 어울리는 색상을 3개의 얼굴 특징에 적용하여 표시하고, 나머지 분할 표시된일 영역에는 어울리지 않는 색상을 3개의 얼굴 특징에 적용하여 표시하는 개인 색상 추천부를 포함하는 것을 특징으로 하는 개인별 맞춤형 색상 추전 장치."}
{"patent_id": "10-2023-0115243", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서,색상 변환 제공부는,상기 개인별 사진 이미지로부터 개인별 피부 톤을 감지하고, 감지된 개인별 피부 톤에 어울리는 색상을 데이터베이스에 저장된 개인별 퍼스널 컬러로부터 추출하여 3개의 얼굴 특징 영역에 적용 변환하는 것을 특징으로 하는 개인별 맞춤형 색상 추전 장치."}
{"patent_id": "10-2023-0115243", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1 항에 있어서,상기 색상 변환 제공부는,상기 개인별 사진 이미지를 입력받아 기 정의된 사이즈로 재조정하는 이미지 리사이징부,리사이즈된 개인별 사진 이미지를 입력받아 3개의 얼굴 특징 영역에 대한 마스크 이지미를 각각 분할 생성하고,상기 마스크 이미지에 포함된 오류 블롭을 제거하는 마스크 생성부,상기 마스크 생성부에서 생성된 3개의 얼굴 특징 영역에 대한 마스크 이미지를 기초로 얼굴 액세서리 조건을 감지하고, 감지된 얼굴 액세서리 조건에 따라 3가지 얼굴 특징 영역의 색상 변환 적용 여부를 판단하는 이미지 유효성 감지부,상기 이미지 유효성 감지부의 판단에 기초하여 상기 3가지 얼굴 특징 영역의 마스크 이미지의 색상 변환을 적용하고, 상기 색상 변환이 결정된 상기 마스크 이미지로부터 윤곽을 추출하고 병합한 후에 색상을 적용 및 순차변환하는 색상 변환부,상기 색상 변환부로부터 입력된 색상이 변경 적용된 이미지의 배경을 기 정의된 알고리즘에 따라 부드럽고 밝은색상으로 변환하는 배경 제거부를 포함하는 것을 특징으로 하는 개인별 맞춤형 색상 추전 장치."}
{"patent_id": "10-2023-0115243", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "공개특허 10-2025-0032431-3-제 3 항에 있어서,상기 마스크 생성부는,상기 리사이즈된 개인별 풀 사진 이미지를 입력받아 얼굴 영역을 인식하고, 인식된 얼굴 영역을 크롭한 얼굴 크롭 사진 이미지를 생성하는 얼굴 크롭부,상기 개인별 풀 사진 이미지를 기초로 3개의 얼굴 특징 영역 중 헤어와 옷을 인식하여 헤어 마스크 분할 이미지와 옷 마스크 분할 이미지를 생성하고, 개인별 얼굴 크롭 사진 이미지를 기초로 3개의 얼굴 특징 영역 중 입술을 인식하여 입술 마스크 분할 이미지를 생성하는 복수의 마스크 분할부,상기 입술 마스크 분할 이미지와 헤어 마스크 분할 이미지를 입력받아 각각의 경계 픽셀의 두께를 기 정의된 완화 알고리즘에 따라 얇게 하여 자연스러운 마스크 분할 이미지를 생성하는 복수의 경계 완화부,3개의 얼굴 특징 영역과는 무관한 3개의 마스크 분할 이미지에 마스킹시 포함된 오류 블롭을 인식 및 제거하는복수의 폴스 포지티브 교정부,상기 오류 블롭이 제거된 각각의 입술 마스크 이미지, 헤어 마스크 이미지 및 옷 마스크 이미지를 생성하는 복수의 마스크 이미지 생성부를 포함하는 것을 특징으로 하는 개인별 맞춤형 색상 추전 장치."}
{"patent_id": "10-2023-0115243", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 4 항에 있어서,상기 색상 변환부는,상기 복수의 마스크 이미지 생성부로부터 입술 마스크 이미지, 헤어 마스크 이미지 및 옷 마스크 이미지를 입력받아 다운 스케일링한 마스크 이미지를 생성하는 다운 사이즈부,다운 스케일링 된 입술 마스크 이미지, 헤어 마스크 이미지 및 옷 마스크 이미지 각각의 윤곽 블롭을 감지하여윤곽 블롭 박스 및 윤곽 블롭 박스 좌표를 추출 및 생성하는 윤곽 추출부,상기 윤곽 추출부에서 감지한 상기 윤곽 블롭 또는 윤곽 블롭 박스가 동일 객체에 대해 서로 떨어져 있는 경우,서로 떨어져 있는 동일 객체의 복수의 윤곽 블롭 박스를 서로 병합함으로써 동일 객체의 복수의 윤곽 블롭이 서로 병합되어 하나의 윤곽 블롭으로 병합된 병합 윤곽 블롭 박스 및 병합 윤곽 블롭 박스 좌표를 추출 및 생성하는 블롭 병합부,상기 블롭 병합부로부터 입력된 상기 병합 윤곽 블롭 박스와 상기 병합 윤곽 블롭 박스와 동일한 객체의 상기다운 사이즈부에서 입력된 다운 스케일링한 마스크 이미지를 서로 병합하여 하나의 윤곽 블롭으로 병합된 새로운 마스크 이미지를 재 생성하는 재마스킹부,상기 이미지 유효성 감지부의 판단에 기초하여 상기 색상 변환이 결정된 마스킹 이미지 또는 재마스킹된 이미지각각에 선택된 색상을 적용하여 입술, 헤어 및 옷에 대한 컬러 마스크 이미지를 각각 생성하는 색상 적용부,상기 색상 적용부의 상기 컬러 마스크 이미지를 입력받으며, 피부와 헤어 및 입술과 피부의 각각의 경계를 만들기 위해 각 경계에서 기 선택된 픽셀을 일부 제거한 후에 스무딩 필터를 적용하여 피부와 헤어, 입술과 피부의각 경계의 색상을 매끄럽게 피부 톤과 섞이도록 하여 컬러 마스크 이미지를 생성하는 이로드 및 필터부,상기 이로드 및 필터부로부터 입력된 컬러 마스크 이미지와 얼굴 크롭부로부터 입력된 얼굴 크롭 사진 이미지또는 이미지 리사이징부로부터 입력된 풀 사진 이미지를 혼합(color blending)하여 혼합된 컬러 사진 이미지를생성하는 색상 혼합부를 포함하는 것을 특징으로 하는 개인별 맞춤형 색상 추전 장치."}
{"patent_id": "10-2023-0115243", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 5 항에 있어서,상기 색상 혼합부는,상기 컬러 마스크 이미지를 RGB 색상 공간에서 HSV 색상 공간으로 변환하는 제1 컬러 변환부,공개특허 10-2025-0032431-4-상기 얼굴 크롭 사진 이미지 또는 풀 사진 이미지를 RGB 색상 공간에서 HS 색상 공간으로 변환하는 제2 컬러 변환부,상기 제1 컬러 변환부에서 변환한 컬러 마스크 이미지의 HSV 색상 공간 값을 제2 컬러 변환부에서 변환한 얼굴크롭 사진 이미지 또는 풀 사진 이미지의 HSV 색상 공간 값에 대체하는 컬러 대체부,상기 컬러 대체부에서 생성한 얼굴 크롭 사진 이미지 또는 풀 사진 이미지의 대체된 HSV 색상 공간을 RGB 색상공간으로 변환하는 제3 컬러 변환부를 포함하는 것을 특징으로 하는 개인별 맞춤형 색상 추전 장치."}
{"patent_id": "10-2023-0115243", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 개인별 맞춤형 색상 추천 장치에 관한 것으로서, 얼굴 특징 영역의 적어도 3개 영역에 색상을 변환하 고, 대비되는 서로 다른 색상을 적용하여 유저에게 선택하도록 함으로써 유저에게 어울리는 색상과 어울리지 않 는 색상을 추천해 주는 개인별 맞춤형 색상 추전 장치에 관한 것이다. 이를 위해 개인별 사진 이미지를 입력받아 (뒷면에 계속)"}
{"patent_id": "10-2023-0115243", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 개인별 맞춤형 색상 추천 장치에 관한 것으로서, 보다 상세하게는 얼굴 특징 영역의 적어도 3개 영역 에 색상을 변환하고, 대비되는 서로 다른 색상을 적용하여 유저에게 선택하도록 함으로써 유저에게 어울리는 색 상과 어울리지 않는 색상을 추천해 주는 개인별 맞춤형 색상 추전 장치에 관한 것이다."}
{"patent_id": "10-2023-0115243", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "선행특허문헌인 KR 10-2022-0126909(발명의 명칭 : 인공지능 기반 맞춤형 퍼스널 컬러 진단에 따른 화장품 추천 시스템)에는 고객의 안면 이미지를 추출한 후에 안면 이미지를 이용하여 적합한 맞춤형 퍼스널 컬러 진단을 하 고, 고객의 니즈와 부합하는 최적의 화장품을 추천할 수 있는 인공지능 기반 맞춤형 퍼스널 컬러 진단에 따른 화장품 추천 시스템에 관한 기술이 공지되어 있다. 선행특허문헌에는 인식된 안면의 RGB 컬러를 추출하여 퍼스널 컬러를 진단하는 것으로서, 단지 RGB 컬러를 통해 인식된 유저의 피부톤에 맞는 퍼스널 컬러를 추천함으로써 피부톤과 더불어 사용자 또는 유저가 선호하는 색상 을 바탕으로 퍼스널 컬러를 추천할 수 없는 문제점이 있다. 선행기술문헌 특허문헌 (특허문헌 0001) KR 10-2022-0126909(발명의 명칭 : 인공지능 기반 맞춤형 퍼스널 컬러 진단에 따른 화장품 추 천 시스템)"}
{"patent_id": "10-2023-0115243", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "따라서, 본 발명은 전술한 바와 같은 문제점을 해결하기 위하여 창출된 것으로서, 사용자 또는 유저의 선호하는 색상을 추천할 수 있는 발명을 제공하는데 그 목적이 있다. 그러나, 본 발명의 목적들은 상기에 언급된 목적으로 제한되지 않으며, 언급되지 않은 또 다른 목적들은 아래의 기재로부터 당업자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2023-0115243", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "전술한 본 발명의 목적은, 개인별 사진 이미지를 입력받아 사진 이미지에 포함된 적어도 3개의 얼굴 특징 영역 을 추출 및 마스크 분할하여 순차적으로 색상을 변환하고, 얼굴 특징 영역에 색상이 변경 적용된 사진 이미지를 생성 제공하는 색상 변환 제공부, 색상 변환 제공부에서 제공한 얼굴 특징 영역에 색상이 변경된 사진 이미지를 2분할된 화면에 서로 사진 이미지를 대비하여 순차적으로 제공함으로써 서로 대비되는 사진 이미지를 사용자가 순차적으로 선택할 수 있도록 하는 이미지 선택 제공부, 이미지 선택 제공부에서 제공한 대비되는 사진 이미지 의 선택이 유저에 의해 완료되면 선택된 사진 이미지를 기초로 개인 색상 추천 알고리즘에 의해 개인별 어울리 는 색상과 어울리지 않는 색상을 추천하고, 사진 이미지의 분할 표시된 일 영역에는 어울리는 색상을 3개의 얼 굴 특징에 적용하여 표시하고, 나머지 분할 표시된 일 영역에는 어울리지 않는 색상을 3개의 얼굴 특징에 적용하여 표시하는 개인 색상 추천부를 포함하는 것을 특징으로 하는 개인별 맞춤형 색상 추전 장치를 제공함으로써 달성될 수 있다. 또한, 색상 변환 제공부는, 개인별 사진 이미지로부터 개인별 피부 톤을 감지하고, 감지된 개인별 피부 톤에 어 울리는 색상을 데이터베이스에 저장된 개인별 퍼스널 컬러로부터 추출하여 3개의 얼굴 특징 영역에 적용 변환한 다. 또한, 색상 변환 제공부는, 개인별 사진 이미지를 입력받아 기 정의된 사이즈로 재조정하는 이미지 리사이징부, 리사이즈된 개인별 사진 이미지를 입력받아 3개의 얼굴 특징 영역에 대한 마스크 이지미를 각각 분할 생성하고, 마스크 이미지에 포함된 오류 블롭을 제거하는 마스크 생성부, 마스크 생성부에서 생성된 3개의 얼굴 특징 영역 에 대한 마스크 이미지를 기초로 얼굴 액세서리 조건을 감지하고, 감지된 얼굴 액세서리 조건에 따라 3가지 얼 굴 특징 영역의 색상 변환 적용 여부를 판단하는 이미지 유효성 감지부, 이미지 유효성 감지부의 판단에 기초하 여 3가지 얼굴 특징 영역의 마스크 이미지의 색상 변환을 적용하고, 색상 변환이 결정된 마스크 이미지로부터 윤곽을 추출하고 병합한 후에 색상을 적용 및 순차 변환하는 색상 변환부, 색상 변환부로부터 입력된 색상이 변 경 적용된 이미지의 배경을 기 정의된 알고리즘에 따라 부드럽고 밝은 색상으로 변환하는 배경 제거부를 포함한 다. 또한, 마스크 생성부는, 리사이즈된 개인별 풀 사진 이미지를 입력받아 얼굴 영역을 인식하고, 인식된 얼굴 영 역을 크롭한 얼굴 크롭 사진 이미지를 생성하는 얼굴 크롭부, 개인별 풀 사진 이미지를 기초로 3개의 얼굴 특징 영역 중 헤어와 옷을 인식하여 헤어 마스크 분할 이미지와 옷 마스크 분할 이미지를 생성하고, 개인별 얼굴 크 롭 사진 이미지를 기초로 3개의 얼굴 특징 영역 중 입술을 인식하여 입술 마스크 분할 이미지를 생성하는 복수 의 마스크 분할부, 입술 마스크 분할 이미지와 헤어 마스크 분할 이미지를 입력받아 각각의 경계 픽셀의 두께를 기 정의된 완화 알고리즘에 따라 얇게하여 자연스러운 마스크 분할 이미지를 생성하는 복수의 경계 완화부, 3개 의 얼굴 특징 영역과는 무관한 3개의 마스크 분할 이미지에 마스킹시 포함된 오류 블롭을 인식 및 제거하는 복 수의 폴스 포지티브 교정부, 오류 블롭이 제거된 각각의 입술 마스크 이미지, 헤어 마스크 이미지 및 옷 마스크 이미지를 생성하는 복수의 마스크 이미지 생성부를 포함한다. 또한, 색상 변환부는, 복수의 마스크 이미지 생성부로부터 입술 마스크 이미지, 헤어 마스크 이미지 및 옷 마스 크 이미지를 입력받아 다운 스케일링한 마스크 이미지를 생성하는 다운 사이즈부, 다운 스케일링 된 입술 마스 크 이미지, 헤어 마스크 이미지 및 옷 마스크 이미지 각각의 윤곽 블롭을 감지하여 윤곽 블롭 박스 및 윤곽 블 롭 박스 좌표를 추출 및 생성하는 윤곽 추출부, 윤곽 추출부에서 감지한 윤곽 블롭 또는 윤곽 블롭 박스가 동일 객체에 대해 서로 떨어져 있는 경우, 서로 떨어져 있는 동일 객체의 복수의 윤곽 블롭 박스를 서로 병합하여 동 일 객체의 복수의 윤곽 블롭이 서로 병합되어 하나의 윤곽 블롭으로 병합된 병합 윤곽 블롭 박스 및 병합 윤곽 블롭 박스 좌표를 추출 및 생성하는 블롭 병합부, 블롭 병합부로부터 입력된 병합 윤곽 블롭 박스와 병합 윤곽 블롭 박스와 동일한 객체의 다운 사이즈부에서 입력된 다운 스케일링한 마스크 이미지를 서로 병합하여 하나의 윤곽 블롭으로 병합된 새로운 마스크 이미지를 재 생성하는 재마스킹부, 이미지 유효성 감지부의 판단에 기초하 여 색상 변환이 결정된 마스킹 이미지 또는 재마스킹된 이미지 각각에 선택된 색상을 적용하여 입술, 헤어 및 옷에 대한 컬러 마스크 이미지를 각각 생성하는 색상 적용부, 색상 적요부의 컬러 마스크 이미지를 입력받으며, 피부와 헤어 및 입술과 피부의 각각의 경계를 만들기 위해 각 경계에서 기 선택된 픽셀을 일부 제거한 후에 스 무딩 필터를 적용하여 피부와 헤어, 입술과 피부의 각 경계의 색상을 매끄럽게 피부 톤과 섞이도록 하여 컬러 마스크 이미지를 생성하는 이로드 및 필터부, 이로드 및 필터부로부터 입력된 컬러 마스크 이미지와 얼굴 크롭 부로부터 입력된 얼굴 크롭 사진 이미지 또는 이미지 리사이징부로부터 입력된 풀 사진 이미지를 혼합(color blending)하여 혼합된 컬러 사진 이미지를 생성하는 색상 혼합부를 포함한다. 또한, 색상 혼합부는, 컬러 마스크 이미지를 RGB 색상 공간에서 HSV 색상 공간으로 변환하는 제1 컬러 변환부, 얼굴 크롭 사진 이미지 또는 풀 사진 이미지를 RGB 색상 공간에서 HSV 색상 공간으로 변환하는 제2 컬러 변환 부, 제1 컬러 변환부에서 변환한 컬러 마스크 이미지의 HSV 색상 공간 값을 제2 컬러 변환부에서 변환한 얼굴 크롭 사진 이미지 또는 풀 사진 이미지의 HSV 색상 공간 값에 대체하는 컬러 대체부, 컬러 대체부에서 생성한 얼굴 크롭 사진 이미지 또는 풀 사진 이미지의 대체된 HSV 색상 공간을 RGB 색상 공간으로 변환하는 제3 컬러 변환부를 포함한다."}
{"patent_id": "10-2023-0115243", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "전술한 바와 같은 본 발명에 의하면 사용자 또는 유저의 선호하는 색상을 인공지능 AI의 분석을 통해 추천할 수 있는 효과가 있다."}
{"patent_id": "10-2023-0115243", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 도면을 참조하여 본 발명의 바람직한 일실시예에 대해서 설명한다. 또한, 이하에 설명하는 일실시예는 특"}
{"patent_id": "10-2023-0115243", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "허청구범위에 기재된 본 발명의 내용을 부당하게 한정하지 않으며, 본 실시 형태에서 설명되는 구성 전체가 본 발명의 해결 수단으로서 필수적이라고는 할 수 없다. 또한, 종래 기술 및 당업자에게 자명한 사항은 설명을 생 략할 수도 있으며, 이러한 생략된 구성요소(방법) 및 기능의 설명은 본 발명의 기술적 사상을 벗어나지 아니하 는 범위내에서 충분히 참조될 수 있을 것이다. 본 발명의 일실시예에 따른 개인별 맞춤형 색상 추천 장치는 21 단계에 걸쳐 얼굴 특징 영역의 색상을 변환하고, 비교 대상 색상을 사용자에게 보여주어 선택을 하도록 함으로써 퍼스널 컬러를 추천하는 장치이다. 이하에서는 첨부된 도면을 참고하여 본 발명의 일실시예에 따른 개인별 맞춤형 색상 추천 장치에 대해 상세히 설명하기로 한다. 본 발명의 일실시예에 따른 이미지 촬영부, 색상 변환 제공부, 이미지 선택 제공부는 스마트폰 또는 태블릿 단말기에 설치된 애플리케이션과 함께 구동되어 퍼스널 컬러를 유저에게 추천해 줄 수 있다. 단말기는 설치된 애플리케이션을 통해 연결 접속된 서버(도면 미도시)와 데이터를 주고받을 수 있다. 도 1을 참고하면, 본 발명의 일실시예에 따른 이미지 촬영부는 스마트폰 또는 태블릿 단말기에 포함된 카 메라일 수 있으나 꼭 이에 한정되는 것은 아니며 퍼스널 사진 이미지를 획득할 수 있는 카메라는 모두 포함될 수 있다. 이미지 촬영부는 유저의 헤어, 입술 및 옷(좀 더 상세하게는 상반신 옷)이 포함된 상반신이 촬영 된 증명사진과 동일한 사진 이미지를 획득한다. 획득된 개인별 사진 이미지는 색상 변환 제공부에 입력된 다.본 발명의 일실시예에 따른 색상 변환 제공부는 개인별 사진 이미지를 입력받아 사진 이미지에 포함된 적 어도 3개의 얼굴 특징 영역을 추출 및 마스크 분할하여 순차적으로 색상을 변환하고, 얼굴 특징 영역에 색상이 변경 적용된 사진 이미지를 생성 제공한다. 얼굴 특징 영역은 헤어, 입술 및 옷(상반신이 포함된 옷)일 수 있고, 필요에 따라 피부, 눈썹, 눈, 귀와 같은 얼굴의 특징도 포함할 수 있다. 즉, 선택된 얼굴 특징 영역은 마스킹 되어 색상이 변경되고, 유저에게 변경된 색상이 순차적으로 비교 제공된다. 색상 변환 제공부의 추가적인 자세한 설명은 후술하기로 한다. 또한, 색상 변환 제공부는 개인별 사진 이미지로부터 개인별 피부 톤을 감지하고, 감지된 개인별 피부 톤 에 어울리는 색상을 데이터베이스에 저장된 개인별 퍼스널 컬러로부터 추출하여 3개의 얼굴 특징 영역에 적용한 다. 즉, 유저 자신의 피부 톤과 어울리는 색상을 3개의 얼굴 특징 영역에 적용하며, 이와 같이 유저 자신의 피 부 톤과 어울리는 색상을 적용한 경우에도, 후술하는 바와 같이 이미지 선택 제공부에서 서로 다른 사진 이미지를 유저에게 보여주며, 유저 자신이 선호하는 사진 이미지를 서로 다른 2개의 이미지 중 선택하도록 한다. 본 발명의 일실시예에 따른 이미지 선택 제공부는 색상 변환 제공부에서 제공한 적어도 3가지 얼굴 특징 영역에 색상이 변경된 사진 이미지를 2 분할된 화면에 서로 사진 이미지를 대비하여 순차적으로 제공함으 로써 서로 대비되는 사진 이미지를 사용자가 순차적으로 선택할 수 있도록 제공한다. 일예로서, 도 8을 참고하 면, 스마트폰 단말기의 2 분할된 화면(51a)에 색상 적용부에서 적용된 제1 컬러 사진 이미지(52a)와 서로 대비되는 제2 컬러 사진 이미지(52b)를 유저에게 대비 제공한다. 유저는 제1,2 컬러 사진 이미지 중 자신 이 선호하는 이미지를 선택하며, 이러한 과정을 21 단계에 겇려 반복한다. 각 단계마다 얼굴 특징 영역의 색상 이 변경될 수 있다. 즉, 색상 변환 제공부는 3가지 얼굴 특징 영역에 대한 색상을 기 설정된 기준을 따라 변경하며, 이미지 선 택 제공부는 색상 변환 제공부로부터 입력된 색상이 변경된 사진 이미지를 스마트폰 단말기의 좌측 화면 및 우측 화면에 각각 서로 다른 색상이 적용된 이미지를 보여주어 유저가 두 개 중 어느 하나를 선택 하도록 제공한다. 일예로서, 스마트폰 단말기의 좌측 화면에는 3가지 얼굴 특징 영역에 대한 색상이 제1 그룹 컬러로 적용된 제1 사진 이미지가 표시되며(제1 그룹 컬러 중 헤어, 입술, 옷에 대한 색상은 서로 다를 수 있음), 우측 화면에는 3가지 얼굴 특징 영역에 대한 색상이 제2 그룹 컬러로 적용된 제2 사진 이미지가 표시될 수 있다(제2 그룹 컬러 중 헤어, 입술, 옷에 대한 색상은 서로 다를 수 있음). 유저는 제1 그룹 컬러가 적용된 제1 사진 이미지와 제2 그룹 컬러가 적용된 제2 사진 이미지 중 자신이 선호하는 사진 이미지를 선택한다. 이와 같은 비교 선택 과정을 기 정해진 횟수 동안 반복하며, 일예로서 유저는 21번의 비교 선택을 할 수 있다. 이미 지 선택 제공부는 단말기에 설치된 어플에 의해 동작되어 유저에게 단말기의 화면에 2 분할로 서로 다른 색상 이미지를 보여주고 선택하도록 한다. 본 발명의 일실시예에 따른 개인 색상 추천부는 이미지 선택 제공부에서 제공한 대비되는 제1,2 사진 이미지의 선택이 21번에 걸쳐 유저에 의해 선택 완료되면 선택된 사진 이미지를 기초로 개인 색상 추천 알고리 즘에 의해 개인별 어울리는 색상과 어울리지 않는 색상을 추천하고, 단말기의 사진 이미지의 분할 표시된 일 영역에는 어울리는 색상을 3개의 얼굴 특징에 적용하여 표시하고, 나머지 분할 표시된 일 영역에는 어울리지 않는 색상을 3개의 얼굴 특징에 적용하여 표시한다. 즉, 도 9를 참조하면, 개인 색상 추천부는 스마트폰 단말기의 화면에 증명사진 이미지를 표시한다. 이때, 증명사진 이미지의 수직 기준선을 기준으로 일예로서 왼쪽 영역(61a)에는 어울리는 색상을 3개의 얼 굴 특징 영역에 적용하여 표시하고, 대비되는 오른쪽 영역(61b)에는 어울리지 않는 색상을 3개의 얼굴 특징 영 역에 적용하여 표시함으로써 유저가 자신에게 어울리는 색상과 어울리지 않는 색상을 한눈에 알아볼 수 있도록 대비 표시한다(도 9(a) 참조). 이때, 애플리케이션의 기능에 따라 수직 기준선(62')의 기준 위치가 좌측 또는 우측으로 이동할 수 있으며, 수직 기준선의 기준 위치가 우측으로 이동할수록 어울리는 색상이 적용된 이미 지의 표시 영역(61a)이 늘어나고, 어울리지 않는 색상이 적용된 이미지의 표시 영역(61b)이 줄어든다(도 9(b) 참조). 도 2를 참고하면, 본 발명의 일실시예에 따른 색상 변환 제공부(120,200)는 이미지 리사이징부, 마스크 생 성부, 이미지 유효성 감지부, 색상 변환부, 배경 제거부을 포함한다. 본 발명의 일실시예에 따른 이미지 리사이징부는 개인별 사진 이미지를 이미지 촬영부로부터 입력받 아 기 정의된 사이즈로 사이즈 재조정 하여 출력한다. 본 발명의 일실시예에 따른 마스크 생성부는 리사이즈된 개인별 사진 이미지를 입력받아 3개의 얼굴 특징 영역에 대한 마스크 이지미를 각각 분할 생성하고, 마스크 이미지에 포함된 오류 블롭을 제거하여 출력한다. 도 3을 참고하면, 오류 블롭(false positives,10)은 마스킹 시의 오류로 포함된 블롭으로서, 입술 영역으로부 터 떨어진 입술 마스크가 아닌 블롭이다. 이러한 오류 블롭을 제거하여 출력한다. 마스크 생성부의 자세한 내용은 후술하기로 한다. 마스크 생성부는 도 3의 출력과 같은 마스크 이미지를 입술, 헤어 및 옷에 대해 각각 생성한다. 본 발명의 일실시예에 따른 이미지 유효성 감지부는 마스크 생성부에서 생성된 3개의 얼굴 특징 영역 에 대한 각각의 마스크 이미지(입술 마스크 이미지, 헤어 마스크 이미지, 옷 마스크 이미지)를 기초로 얼굴 액 세서리 조건을 감지하고, 감지된 얼굴 액세서리 조건에 따라 3가지 얼굴 특징 영역의 색상 변환 적용 여부를 판 단한다. 얼굴 액세서리 조건을 후술하는 색상 변환부에 전송하고, 색상 변환부는 얼굴 액세서리 조건 의 설정 조건에 따라 얼굴 특징 영역의 색상 적용을 결정한다. 이때, 얼굴 액세서 조건은 다음과 같다. 입술 마스크 이미지를 기초로 유저가 마스크를 착용하였는지를 감지한다. 마스크 착용을 감지하면, 헤어와 옷의 색상은 변환하도록 조건을 설정하고, 입술 색상은 변환하지 않도록 조건을 설정한다. 헤어 마스크 이미지를 기초로 유저가 모자(cap or hat)를 착용하였는지를 감지한다. 모자 착용을 감지하면, 입 술과 옷 색상은 변환하도록 조건을 설정하고, 헤어 색상은 변환하지 않도록 조건을 설정한다. 입술, 헤어 및 옷 이외의 얼굴 특징 영역을 추가적으로 더 감지한다면, 유저가 선글라스 또는 안경을 착용하였 는지 여부도 감지할 수 있으며, 선글라스 또는 안경의 착용을 감지하더라도 입술, 헤어 및 옷의 색상은 모두 변 환하도록 조건을 설정한다. 또한, 남성 또는 여성에 대해서도 감지할 수 있으며, 남성 또는 여성에 따라 입술 색상의 변형을 방지할 수도 있다. 본 발명의 일실시예에 따른 색상 변환부는 이미지 유효성 감지부의 색상 설정 조건에 기초하여 3가지 얼굴 특징 영역의 마스크 이미지의 색상 변환을 선택적으로 적용하고, 색상 변환이 선택적으로 결정된 마스크 이미지로부터 윤곽을 추출하고 병합한 후에 색상을 적용 및 순차 변환한다. 색상 변환부의 자세한 설명은 후술하기로 한다. 본 발명의 일실시예에 따른 배경 제거부는 색상 변환부로부터 입력된 색상이 변경 적용된 이미지의 배경을 기 정의된 알고리즘에 따라 부드럽고 밝은 색상으로 변환하여 최종적으로 출력한다. 배경 제거부를 통해 최종적으로 출력된 사진 이미지가 이미지 선택 제공부를 통해 유저에게 표시되며, 색상을 순차적으로 색상 변경하면서 21번의 선택을 유저에게 요청한다. 도 4를 참조하면, 본 발명의 일실시예에 따른 마스크 생성부는 얼굴 크롭부, 복수의 마스크 분할부 (321,322,323), 복수의 경계 완화부(331,332), 복수의 폴스 포지티브 교정부(341,342,343), 복수의 마스크부 (351,352,353)를 포함한다.본 발명의 일실시예에 따른 얼굴 크롭부는 리사이즈된 개인별 풀 사진 이미지를 이미지 리사이징부로 부터 입력받아 얼굴 영역을 인식하고, 인식된 얼굴 영역을 크롭한 얼굴 크롭 사진 이미지를 생성한다. 얼굴 크 롭 사진 이미지는 입술의 인식률을 높이기 위해 입술 감지에서만 사용하고, 헤어와 옷 감지는 이미지 리사이징 부로부터 입력된 풀 사진 이미지를 사용한다. 얼굴 크롭부에서 생성한 얼굴 크롭 사진 이미지는 후술하는 입술 마스크 분할부로 입력되고, 이미지 리사이징부로부터 입력된 풀 사진 이미지는 헤어 마스크 분할부 및 옷 마스크 분할부로 입력된 다. 본 발명의 일실시예에 따른 복수의 마스크 분할부는 입술 마스크 분할부, 헤어 마스크 분할부 및 옷 마스크 분할부를 포함한다. 헤어 및 옷 마스크 분할부(322,323)는 이미지 리사이징부로부터 입력받은 풀 사진 이미지를 기초로 3개의 얼굴 특징 영역 중 헤어와 옷을 인식하여 헤어 마스크 분할 이미지와 옷 마스크 분할 이미지를 각각 생성하고, 얼굴 크롭부로부터 입력받은 얼굴 크롭 사진 이미지를 기초로 3개의 얼굴 특징 영역 중 입술을 인식하여 입술 마스크 분할 이미지를 생성한다. 이때, 생성되는 마스크 이미지의 픽셀은 흰색과 검은색으로 할당되며, 관심 영역에 대한 픽셀은 흰색으로 마스킹 되고, 관심 영역이 아닌 다른 영역에 대한 픽셀은 검은색으로 마스킹 된다. 일예로서 입술의 경우, 입술 영역의 픽셀은 흰색으로 나머지 픽셀 부분은 검은색으로 픽셀이 할당된다. 복수의 마스크 분할부는 흰색과 검은색으로 마스킹된 입술 마스크 분할 이미지, 헤어 마스크 분할 이미지 및 옷 마스크 분할 이미지를 출력한다. 이때, 분할의 의미는 입술, 헤어 및 옷에 대한 마스크 이미지가 각각 만들어지는 것을 의미할 수 있다. 본 발명의 일실시예에 따른 복수의 경계 완화부는 입술 경계 완화부 및 헤어 경계 완화부를 포함한다. 입술 경계 완화부는 입술 마스크 분할 이미지를 입력받으며, 헤어 경계 완화부는 헤어 마 스크 분할 이미지를 입력받아 각각의 경계 픽셀의 두께를 기 정의된 완화 알고리즘(post processing algorith m)에 따라 얇게하여 자연스러운 마스크 분할 이미지를 생성한다. 본 발명의 일실시예에 따른 복수의 폴스 포지티브 교정부는 입술 폴스 포지티브 교정부, 헤어 폴스 포지티브 교정부 및 옷 폴스 포지티브 교정부를 포함한다. 입술 폴스 포지티브 교정부 및 헤어 폴스 포지티브 교정부는 입술 경계 완화부 및 헤어 경계 완화부로부터 각각 입력된 경계가 완화 된 마스크 분할 이미지를 검토하여 마스킹시의 오류로 포함된 오류 블롭을 인식 및 제거한다. 또한, 옷 폴 스 포지티브 교정부는 옷 마스크 분할부로부터 입력된 마스크 분할 이미지를 검토하여 마스킹시의 오 류로 포함된 오류 블룹을 인식 및 제거한다. 본 발명의 일실시예에 따른 복수의 마스크 이미지 생성부는 입술 마스크 이미지 생성부, 헤어 마스크 이미 지 생성부 및 옷 마스크 이미지 생성부를 포함한다. 각각의 마스크 이미지 생성부(351,352,353)는 각 각의 폴스 포지티브 교정부(341,342,343)로부터 각각 오류 블롭이 제거된 마스크 분할 이미지를 입력받아 최종 적으로 입술, 헤어 및 옷 마스크 이미지를 생성하고 이를 색상 변환부로 입력시킨다. 도 5를 참조하면, 본 발명의 일실시예에 따른 색상 변환부는 다운 사이즈부, 윤관 추출부, 블롭 병합부, 재마스킹부, 색상 적용부, 이로드 및 필터부(erod and filter,460) 및 색상 혼합부 를 포함한다. 본 발명의 일실시예에 따른 다운 사이즈부는 복수의 마스크 이미지 생성부(351,352,353)로부터 512 x 512 스케일의 입술 마스크 이미지, 헤어 마스크 이미지 및 옷 마스크 이미지를 입력받아 200 x 200 스케일로 다운 스케일링한 각각의 마스크 이미지를 생성한다. 복수의 마스크 이미지 생성부(351,352,353)로부터 입술 마스크 이미지, 헤어 마스크 이미지 및 옷 마스크 이미지는 로서 본 발명의 일실시예에 따른 윤곽 추출부는 다운 스케일링 된 입술 마스크 이미지, 헤어 마스크 이미지 및 옷 마스크 이미지 각각을 다운 사이즈부로부터 입력받아 각 마스크 이미지의 윤곽 블롭을 감지하여 윤곽 블롭 박스 및 윤곽 블롭 박스 좌표를 추출 및 생성한다. 일예로서, 도 6을 참조하면, 윤곽 추출부는 입술 마스크 이미지를 다운 사이즈부로부터 입력받아 입술 윤곽 또는 입술 윤곽 마스크를 감지 및 추출한다. 입술의 윤곽 블롭 박스는 감지된 입술 윤곽을 포함한 직사각형 타입의 마스크일 수 있으며, 입술의 윤곽 블롭 박스 좌표는 감지된 입술 윤곽의 좌표 또는 박스 좌표일 수 있다. 본 발명의 일실시예에 따른 블롭 병합부는 윤곽 추출부에서 감지한 윤곽 블롭 또는 윤곽 블롭 박스가 동일 객체(이때, 동일 객체는 헤어일 수 있다)에 대해 서로 떨어져 있는 경우, 서로 떨어져 있는 동일 객체의 복수의 윤곽 블롭 박스를 서로 병합함으로써 동일 객체의 복수의 윤곽 블롭이 서로 병합되어 하나의 윤곽 블롭 으로 병합된 병합 윤곽 블롭 박스 및 병합 윤곽 블롭 박스 좌표를 추출 및 생성한다. 블롭 병합부는 윤곽 추출부에서 감지한 동일 객체의 윤곽 블롭이 서로 떨어져 있는 경우에 윤곽 추출부의 병합 신호에 따 라 이를 병합하는 것으로서, 예를 들면 헤어의 경우 윤곽 블롭을 병합할 수 있다. 입술이나 옷의 윤곽 블롭의 경우에는 블롭 병합이 필요 없을 수 있다. 블롭 병합부는 동일한 객체의 윤곽 블롭이 서로 떨어져 있는 경우 서로 다른 윤곽 블롭(또는 윤곽 블롭 마 스크)을 병합하여 하나의 윤곽 블롭(또는 윤곽 블롭 마스크)으로 병합하는 것이다. 도 7을 참조하면, 일예로서 윤곽 추출부에서 감지한 헤어 마스크 이미지에는 제1 헤어 윤곽 블롭(41a)과 제2 헤어 윤곽 블롭(41 b)이 서로 떨어져 있다. 블롭 병합부는 제1 헤어 윤곽 블롭(41a)과 제2 헤어 윤곽 블롭(41b) 또는 제1 헤 어 윤곽 블롭 박스(41c)과 제2 헤어 윤곽 블롭 박스(41d)를 병합하여 하나로 병합된 병합 윤곽 블롭(42a) 또는 병합된 병합 윤곽 블롭 박스(42b)를 생성한다. 본 발명의 일실시예에 따른 재마스킹부는 블롭 병합부로부터 입력된 병합 윤곽 블롭 박스(42b)와 병 합 윤곽 블롭 박스(42b)와 동일한 객체의 다운 사이즈부에서 입력된 다운 스케일링한 마스크 이미지를 서 로 병합하여 하나의 윤곽 블롭으로 병합된 새로운 마스크 이미지를 재생성한다. 즉, 도 7을 참조하면, 재마스킹 부는 다운 사이즈부에서 입력된 헤어 마스크 이미지와 블롭 병합부에서 입력된 병합 윤곽 블롭 박스(42b)를 서로 병합하여 하나의 윤곽 블롭으로 병합된 새로운 마스크 이미지를 재 생성한다. 상술한 블롭 병합부 및 재마스킹부는 윤곽 추출부의 윤곽 블롭 감지 결과에 따라 동일한 객체의 제1,2 윤곽 블롭이 서로 떨어져 있는 경우에 하나의 윤곽 블롭으로 병합된 새로운 마스크 이미지를 생성한다. 이와 달리, 입술이나 옷은 동일 객체의 윤곽 블롭이 서로 떨어져 있지 않은 경우(일예로서 단일의 윤곽 블롭으 로 감지된 경우)에는 다운 사이즈부의 출력이 색상 적용부로 바로 입력될 수 있다. 본 발명의 일실시예에 따른 색상 적용부는 이미지 유효성 감지부의 판단 결과에 따라 색상 변환이 결 정된 마스킹 이미지(일예로서 옷이나 입술의 은 다운 사이즈부에서 입력된 마스크 이미지) 또는 색상 변환 이 결정된 재마스킹된 이미지(일예로서 헤어의 경우 복수의 윤곽 블롭으로 인해 블롭을 병합한 재마스크 이미지) 각각에 기 설정된 퍼스널 컬러 중에서 선택된 색상을 적용하여 입술, 헤어 및 옷에 대한 컬러 마스크 이미지를 각각 생성한다. 색상 적용부는 입술, 헤어 및 옷의 얼굴 특징 영역에 기 설정된 21번의 색상을 순차적으로 변경시켜 유저에게 보여준다. 본 발명의 일실시예에 따른 이로드 및 필터부는 색상 적용부에서 출력된 컬러 마스크 이미지를 입력 받으며, 피부와 헤어 및 입술과 피부의 각각의 경계를 만들기 위해 각 경계에서 기 선택된 픽셀을 일부 제거한 후에 스무딩 필터를 적용하여 피부와 헤어, 입술과 피부의 각 경계의 색상을 매끄럽게 피부 톤과 섞이도록 하여 이로드 및 필터가 적용된 컬러 마스크 이미지를 생성한다.본 발명의 일실시예에 따른 색상 혼합부는 이로드 및 필터부로부터 입력된 이로드 및 필터가 적용된 컬러 마스크 이미지와 얼굴 크롭부로부터 입력된 얼굴 크롭 사진 이미지 또는 이미지 리사이징부로부 터 입력된 풀 사진 이미지를 혼합(color blending)하여 혼합된 컬러 사진 이미지를 생성한다. 이로드 및 필터가 적용된 컬러 마스크 이미지와 얼굴 크롭 사진 이미지(원본 이미지임) 또는 이로드 및 필터가 적용된 컬러 마스 크 이미지와 풀 사진 이미지(원본 이미지임)를 서로 혼합함으로써 실제 원본 이미지의 질감과 동일하거나 유사 한 질감을 생성할 수 있다. 이하에서는 색상의 혼합 과정을 설명하기로 한다. 색상 혼합부는 제1,2,3 컬러 변환부 및 컬러 대체부(도면 미도시)를 포함한다. 제1 컬러 변환부는 이로드 및 필터가 적용된 컬러 마스크 이미지를 RGB 색상 공간에서 HSV 색상 공간으로 변환한다. 제2 컬러 변환부는 얼 굴 크롭 사진 이미지 또는 풀 사진 이미지를 RGB 색상 공간에서 HSV 색상 공간으로 변환한다. 컬러 대체부는 제1 컬러 변환부에서 변환한 컬러 마스크 이미지의 HSV 색상 공간 값을 제2 컬러 변환부에서 변 환한 얼굴 크롭 사진 이미지 또는 풀 사진 이미지의 HSV 색상 공간 값에 대체한다. 제3 컬러 변환부는 컬러 대 체부에서 생성한 얼굴 크롭 사진 이미지 또는 풀 사진 이미지의 대체된 HSV 색상 공간을 RGB 색상 공간으로 변 환하여 최종적으로 혼합된 컬러 사진 이미지를 생성한다. 혼합된 컬러 사진 이미지는 원본 이미지의 질감 (texture)과 동일 또는 유사한 질감이 표현될 수 있다. 본 발명을 설명함에 있어 종래 기술 및 당업자에게 자명한 사항은 설명을 생략할 수도 있으며, 이러한 생략된 구성요소(방법) 및 기능의 설명은 본 발명의 기술적 사상을 벗어나지 아니하는 범위내에서 충분히 참조될 수 있 을 것이다. 또한, 상술한 본 발명의 구성요소는 본 발명의 설명의 편의를 위하여 설명하였을 뿐 여기에서 설명 되지 아니한 구성요소가 본 발명의 기술적 사상을 벗어나지 아니하는 범위내에서 추가될 수 있다. 상술한 각부의 구성 및 기능에 대한 설명은 설명의 편의를 위하여 서로 분리하여 설명하였을 뿐 필요에 따라 어 느 한 구성 및 기능이 다른 구성요소로 통합되어 구현되거나, 또는 더 세분화되어 구현될 수도 있다. 이상, 본 발명의 일실시예를 참조하여 설명했지만, 본 발명이 이것에 한정되지는 않으며, 다양한 변형 및 응용 이 가능하다. 즉, 본 발명의 요지를 일탈하지 않는 범위에서 많은 변형이 가능한 것을 당업자는 용이하게 이해 할 수 있을 것이다. 또한, 본 발명과 관련된 공지 기능 및 그 구성 또는 본 발명의 각 구성에 대한 결합관계에 대한 구체적인 설명이 본 발명의 요지를 불필요하게 흐릴 수 있다고 판단되는 경우에는, 그 구체적인 설명을 생 략하였음에 유의해야 할 것이다."}
{"patent_id": "10-2023-0115243", "section": "도면", "subsection": "도면설명", "item": 1, "content": "본 명세서에 첨부되는 다음의 도면들은 본 발명의 바람직한 일실시예를 예시하는 것이며, 발명의 상세한 설명과 함께 본 발명의 기술적 사상을 더욱 이해시키는 역할을 하는 것이므로, 본 발명은 그러한 도면에 기재된 사항에 만 한정되어 해석 되어서는 아니 된다. 도 1은 본 발명의 일실시예에 따른 개인별 맞춤형 색상 추전 장치의 스마트폰 단말기의 구성을 대략적으로 도시 한 도면이고, 도 2는 본 발명의 일실시예에 따른 색상 변환 제공부의 구성을 대략적으로 도시한 도면이고, 도 3은 본 발명의 일실시예에 따른 폴스 포지티브 교정부의 입력 및 출력을 도시한 것으로서, 오류 블롭이 제거 된 마스크 이미지를 출력하고, 도 4는 본 발명의 일실시예에 따른 마스크 생성부의 구성을 대략적으로 도시한 도면이고, 도 5는 본 발명의 일실시예에 따른 색상 변환부의 구성을 대략적으로 도시한 도면이고, 도 6은 본 발명의 일실시예에 따른 윤곽 추출부의 입력 및 출력을 도시한 것으로서, 윤곽 블롭이 윤곽 추출부에 의해 감지되고, 도 7은 본 발명의 일실시예에 따른 블롭 병합부의 입력 및 출력을 도시한 것으로서, 복수의 윤곽 블롭이 하나의 윤곽 블롭으로 병합되어 출력되고, 도 8은 본 발명의 일실시예에 따른 스마트폰 단말기의 2 분할된 화면에 서로 대비되는 색상이 표시되는 것을 도 시한 도면이고, 도 9는 본 발명의 일실시예에 따른 21 단계를 거쳐 최종적으로 도출된 퍼스널 컬러에 어울리는 색상과 어울리지 않는 색상을 대비 표시하는 것을 도시한 도면이다."}
