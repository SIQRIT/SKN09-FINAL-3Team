{"patent_id": "10-2019-0132655", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2021-0048697", "출원번호": "10-2019-0132655", "발명의 명칭": "실내측위 장치 및 방법", "출원인": "파파야 주식회사", "발명자": "최원익"}}
{"patent_id": "10-2019-0132655", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "사용자 단말로부터 현재 위치의 별자리 정보를 수신하는 데이터 수신부; 및퍼셉트론별로 2개의 입력을 받도록 설계된 포지셔닝 신경망(PNN; Positioning Neural Network)을 탑재하고, 상기 데이터 수신부를 통한 사용자 단말로부터의 별자리 정보와 데이터베이스에서 검색된 일정 범위내의 별자리정보를 비교하여 상호간의 유사도를 산출하고 이를 근거로 가까운 거리에 있는 다수의 별자리 정보를 계산해 내고, 계산된 다수의 별자리 정보를 근거로 상기 사용자 단말의 현재 위치를 추정하는 측위부;를 포함하는 것을특징으로 하는 실내측위 장치."}
{"patent_id": "10-2019-0132655", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "청구항 1에 있어서,상기 포지셔닝 신경망은,입력층과 출력층 사이에 은닉층을 포함하는 인공신경망인 심층 신경망(DNN; Deep Neural Network)을 근간으로하는 것을 특징으로 하는 실내측위 장치."}
{"patent_id": "10-2019-0132655", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "청구항 1에 있어서,상기 퍼셉트론에는,2개의 입력을 받아서 1개의 출력을 반환하는 함수 형태인 3차원 활성화 함수가 적용된 것을 특징으로 하는 실내측위 장치."}
{"patent_id": "10-2019-0132655", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "청구항 3에 있어서,상기 퍼셉트론은,상기 데이터 수신부를 통한 사용자 단말로부터의 별자리 정보를 일 입력측으로 입력받고, 다른 입력측으로는 상기 데이터베이스에서 검색된 별자리 정보중에서 하나를 입력받는 것을 특징으로 하는 실내측위 장치."}
{"patent_id": "10-2019-0132655", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "청구항 3에 있어서,상기 3차원 활성화 함수는, 이산 구배 하강 알고리즘(Discrete gradient descent algorithm)을 통해 최적화되는 것을 특징으로 하는 실내측위 장치."}
{"patent_id": "10-2019-0132655", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "청구항 1에 있어서,상기 측위부는,상기 계산된 다수의 별자리 정보를 근거로 다변측량을 통해 상기 사용자 단말의 현재 위치를 추정하는 것을 특징으로 하는 실내측위 장치."}
{"patent_id": "10-2019-0132655", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "공개특허 10-2021-0048697-2-청구항 1에 있어서,상기 측위부는,상기 추정된 위치를 사용자 단말에게로 전송하는 것을 특징으로 하는 실내측위 장치."}
{"patent_id": "10-2019-0132655", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "실내측위 장치에서 수행되는 실내측위 방법으로서,사용자 단말로부터 현재 위치의 별자리 정보를 수신하는 단계;퍼셉트론별로 2개의 입력을 받도록 설계된 포지셔닝 신경망(PNN; Positioning Neural Network)으로 상기 사용자단말로부터의 별자리 정보와 데이터베이스에서 검색된 일정 범위내의 별자리 정보를 비교하여 상호간의 유사도를 산출하고 이를 근거로 가까운 거리에 있는 다수의 별자리 정보를 계산해 내는 단계; 및상기 계산된 다수의 별자리 정보를 근거로 상기 사용자 단말의 현재 위치를 추정하는 단계;를 포함하는 것을 특징으로 하는 실내측위 방법."}
{"patent_id": "10-2019-0132655", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "청구항 8에 있어서,상기 포지셔닝 신경망은,입력층과 출력층 사이에 은닉층을 포함하는 인공신경망인 심층 신경망(DNN; Deep Neural Network)을 근간으로하는 것을 특징으로 하는 실내측위 방법."}
{"patent_id": "10-2019-0132655", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "청구항 8에 있어서,상기 퍼셉트론에는,2개의 입력을 받아서 1개의 출력을 반환하는 함수 형태인 3차원 활성화 함수가 적용된 것을 특징으로 하는 실내측위 방법."}
{"patent_id": "10-2019-0132655", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "청구항 10에 있어서,상기 퍼셉트론은,상기 데이터 수신부를 통한 사용자 단말로부터의 별자리 정보를 일 입력측으로 입력받고, 다른 입력측으로는 상기 데이터베이스에서 검색된 별자리 정보중에서 하나를 입력받는 것을 특징으로 하는 실내측위 방법."}
{"patent_id": "10-2019-0132655", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "청구항 10에 있어서,상기 3차원 활성화 함수는, 이산 구배 하강 알고리즘(Discrete gradient descent algorithm)을 통해 최적화되는 것을 특징으로 하는 실내측위 방법."}
{"patent_id": "10-2019-0132655", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "청구항 8에 있어서,상기 추정하는 단계는,상기 계산된 다수의 별자리 정보를 근거로 다변측량을 통해 상기 사용자 단말의 현재 위치를 추정하는 것을 특징으로 하는 실내측위 방법."}
{"patent_id": "10-2019-0132655", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "공개특허 10-2021-0048697-3-청구항 8에 있어서,상기 추정된 위치를 사용자 단말에게로 전송하는 단계;를 추가로 포함하는 것을 특징으로 하는 실내측위 방법."}
{"patent_id": "10-2019-0132655", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "두 개의 별자리 정보를 입력으로 하는 인공신경망을 통해 실내에서의 사용자의 현재 위치를 계산해 내는 실내측 위 장치 및 방법을 제시한다. 제시된 장치는 사용자 단말로부터 현재 위치의 별자리 정보를 수신하는 데이터 수 신부; 및 퍼셉트론별로 2개의 입력을 받도록 설계된 포지셔닝 신경망(PNN; Positioning Neural Network)을 탑재 하고, 상기 데이터 수신부를 통한 사용자 단말로부터의 별자리 정보와 데이터베이스에서 검색된 일정 범위내의 별자리 정보를 비교하여 상호간의 유사도를 산출하고 이를 근거로 가까운 거리에 있는 다수의 별자리 정보를 계 산해 내고, 계산된 다수의 별자리 정보를 근거로 상기 사용자 단말의 현재 위치를 추정하는 측위부;를 포함한다."}
{"patent_id": "10-2019-0132655", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 실내측위 장치 및 방법에 관한 것으로, 보다 상세하게는 별자리 정보를 이용하여 실내측위를 하는 장 치 및 방법에 관한 것이다."}
{"patent_id": "10-2019-0132655", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "이동통신단말기는 이동통신망의 발달과 단말기 사양의 발전에 따라 종래의 단순한 통신장치 또는 정보 제공 장 치의 범주를 벗어나 현대인의 필수 소지품이 되었고, 토탈 엔터테인먼트 기기로 진화해 가고 있는 추세에 있다. 이와 함께, 최근에는 통신 단말기의 기능 및 PDA(Personal Digital Assistant)의 기능을 결합시킨 스마트폰 (Smart Phone)의 사용이 대중화되어 있다. 이러한 스마트폰은 휴대전화기에 인터넷 통신과 정보 검색 등의 컴퓨터 지원 기능을 추가한 지능형 단말기이다. 스마트폰은 기존의 통신 단말기에 비해 대용량의 메모리와 고성능 CPU(Central Processing Unit)가 탑재되며, 다양한 어플리케이션 실행, 음성/데이터 통신 및 PC(Personal Computer) 연동 등을 지원하기 위한 운영체제(OS, Operating System)가 탑재된다. 이러한 스마트폰을 이용한 응용기술의 하나로, 사용자들에게 편의성을 제공하는 다양한 위치 기반 서비스(예를 들어, 차량용 네비게이션, 지도, 길찾기, 실내 매장 안내 등)들이 선보여지며 많은 관심을 받고 있다. 위치 기반 서비스에서 중요한 부분은 사용자의 위치가 어떤 방법으로 정밀하게 측정될 수 있는가에 관한 것이다. 일반적으로, 실외에서 이용되는 위치 기반 서비스는 GPS(Global Positioning System)를 이용한 위치 추적이 이 용되고 있으나, GPS의 경우 실내에서는 위성과의 통신이 어려워 사용이 이루어지지 않는다. 이에 따라, 실내에 서는 RFID, Bluetooth, Wi-Fi와 같은 네트워크 기반 측위 기술이 주로 이용된다. 이러한 추적 기술에는 Cell-ID, 삼각측량, 핑거프린트(fingerprint) 기법 등이 있으며, 이 중 핑거프린트 기법 은 서비스 지역에서 미리 임의로 여러 개의 위치를 선정하고 선정한 위치에서 수집한 신호 세기 정보(RSS, Received Signal Strength)를 이용하여 위치를 추정한다. 이 방법은 채널의 환경적 요소를 사전 정보 수집을 통해 경감시키는 장점이 있으나, 위치 추정에 사용할 참조위 치가 다수 필요하며, 이러한 수집 과정이 서비스 관리자에 의해 수동으로 이루어져야 하므로 시간과 비용이 소 모된다. 또한, 실내공간의 배치에 따라 신호 세기의 변화가 크기 때문에 공간적 배치가 변경되는 경우 그 주변에서 핑거 프린트를 다시 측정해야 하며, 다양한 오차 요인이 존재하여 정확한 위치를 측정하기 어려운 문제가 있다. 선행기술문헌 특허문헌 (특허문헌 0001) 선행기술 1 : 대한민국 등록특허 제10-1767743호(센서 영상에 기반한 실내측위 장치 및 실내측 위 방법) (특허문헌 0002) 선행기술 2 : 대한민국 공개특허 제10-2015-0089633호(와이파이 핑거프린트 기반 실내측위 장 치 및 방법) (특허문헌 0003) 선행기술 3 : 대한민국 공개특허 제10-2017-0078116호(무선 핑거프린트 맵 구축 및 위치 측위"}
{"patent_id": "10-2019-0132655", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 2, "content": "방법 및 이를 위한 장치, 이를 수행하는 컴퓨터 프로그램을 기록한 기록매체) 발명의 내용"}
{"patent_id": "10-2019-0132655", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 상기한 종래의 문제점을 해결하기 위해 제안된 것으로, 두 개의 별자리 정보를 입력으로 하는 인공신 경망을 통해 실내에서의 사용자의 현재 위치를 계산해 내는 실내측위 장치 및 방법을 제공함에 그 목적이 있다."}
{"patent_id": "10-2019-0132655", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기와 같은 목적을 달성하기 위하여 본 발명의 바람직한 실시양태에 따른 실내측위 장치는, 사용자 단말로부터 현재 위치의 별자리 정보를 수신하는 데이터 수신부; 및 퍼셉트론별로 2개의 입력을 받도록 설계된 포지셔닝 신 경망(PNN; Positioning Neural Network)을 탑재하고, 상기 데이터 수신부를 통한 사용자 단말로부터의 별자리 정보와 데이터베이스에서 검색된 일정 범위내의 별자리 정보를 비교하여 상호간의 유사도를 산출하고 이를 근거 로 가까운 거리에 있는 다수의 별자리 정보를 계산해 내고, 계산된 다수의 별자리 정보를 근거로 상기 사용자 단말의 현재 위치를 추정하는 측위부;를 포함한다. 상기 포지셔닝 신경망은, 입력층과 출력층 사이에 은닉층을 포함하는 인공신경망인 심층 신경망(DNN; Deep Neural Network)을 근간으로 할 수 있다. 상기 퍼셉트론에는, 2개의 입력을 받아서 1개의 출력을 반환하는 함수 형태인 3차원 활성화 함수가 적용될 수 있다. 상기 퍼셉트론은, 상기 데이터 수신부를 통한 사용자 단말로부터의 별자리 정보를 일 입력측으로 입력받고, 다 른 입력측으로는 상기 데이터베이스에서 검색된 별자리 정보중에서 하나를 입력받을 수 있다. 상기 3차원 활성화 함수는, 이산 구배 하강 알고리즘(Discrete gradient descent algorithm)을 통해 최적화될 수 있다. 상기 측위부는, 상기 계산된 다수의 별자리 정보를 근거로 다변측량을 통해 상기 사용자 단말의 현재 위치를 추 정할 수 있다. 상기 측위부는, 상기 추정된 위치를 사용자 단말에게로 전송할 수 있다. 한편, 본 발명의 바람직한 실시양태에 따른 실내측위 방법은, 실내측위 장치에서 수행되는 실내측위 방법으로서, 사용자 단말로부터 현재 위치의 별자리 정보를 수신하는 단계; 퍼셉트론별로 2개의 입력을 받도록 설계된 포지셔닝 신경망(PNN; Positioning Neural Network)으로 상기 사용자 단말로부터의 별자리 정보와 데이 터베이스에서 검색된 일정 범위내의 별자리 정보를 비교하여 상호간의 유사도를 산출하고 이를 근거로 가까운 거리에 있는 다수의 별자리 정보를 계산해 내는 단계; 및 상기 계산된 다수의 별자리 정보를 근거로 상기 사용 자 단말의 현재 위치를 추정하는 단계;를 포함한다."}
{"patent_id": "10-2019-0132655", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "이러한 구성의 본 발명에 따르면, 사용자로부터의 별자리 정보와 데이터베이스에서 검색된 별자리 정보를 입력 으로 하는 인공신경망을 통해 두 별자리의 유사도 차이를 거리로 환산하여 실내에 있는 사용자의 현재 위치를 추정해 낼 수 있다. 특히, 인공신경망의 퍼셉트론 단위에서 2개의 입력 및 1개의 출력을 사용하도록 하고, 2입력 1출력이 가능하도 록 하기 위해 인공신경망의 퍼셉트론에 3차원의 활성화 함수를 적용하고, 인공신경망에서 불연속적으로 나타나 는 비용함수의 값을 이산 구배 하강 알고리즘(Discrete gradient descent algorithm)을 이용하여 최적화시킴으 로써, 실내에 있는 사용자의 현재 위치를 보다 정확하게 추정해 낼 수 있다."}
{"patent_id": "10-2019-0132655", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명은 다양한 변경을 가할 수 있고 여러 가지 실시예를 가질 수 있는 바, 특정 실시 예들을 도면에 예시하 고 상세하게 설명하고자 한다. 그러나, 이는 본 발명을 특정한 실시 형태에 대해 한정하려는 것이 아니며, 본 발명의 사상 및 기술 범위에 포 함되는 모든 변경, 균등물 내지 대체물을 포함하는 것으로 이해되어야 한다. 본 출원에서 사용한 용어는 단지 특정한 실시예를 설명하기 위해 사용된 것으로, 본 발명을 한정하려는 의도가 아니다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 출원에서, \"포함 하다\" 또는 \"가지다\" 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조 합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성요소, 부 품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 다르게 정의되지 않는 한, 기술적이거나 과학적인 용어를 포함해서 여기서 사용되는 모든 용어들은 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에 의해 일반적으로 이해되는 것과 동일한 의미를 가지고 있다. 일 반적으로 사용되는 사전에 정의되어 있는 것과 같은 용어들은 관련 기술의 문맥상 가지는 의미와 일치하는 의미 를 가진 것으로 해석되어야 하며, 본 출원에서 명백하게 정의하지 않는 한, 이상적이거나 과도하게 형식적인 의 미로 해석되지 않는다. 이하, 첨부한 도면들을 참조하여, 본 발명의 바람직한 실시예를 보다 상세하게 설명하고자 한다. 본 발명을 설 명함에 있어 전체적인 이해를 용이하게 하기 위하여 도면상의 동일한 구성요소에 대해서는 동일한 참조부호를 사용하고 동일한 구성요소에 대해서 중복된 설명은 생략한다. 도 1은 본 발명의 실시예에 따른 실내측위 장치의 구성도이고, 도 2는 도 1에 도시된 측위부에서 사용하는 포지 셔닝 신경망의 설계도이고, 도 3은 도 1에 도시된 측위부에서의 측위를 위해 퍼셉트론에 사용하는 3차원 활성화 함수를 예시한 도면이고, 도 4는 3차원 활성화 함수의 최적화의 대상이 되는 항목을 설명하기 위한 도면이고, 도 5는 본 발명의 실시예에 채용되는 이산 구배 하강 알고리즘(Discrete gradient descent algorithm)의 과정 설명에 채용되는 도면이다. 본 발명의 실시예에 따른 실내측위 장치는, 데이터 수신부, 및 측위부를 포함할 수 있다. 데이터 수신부는 사용자 단말로부터 전송되어 오는 현재 위치의 별자리 정보를 수신할 수 있다. 여기서, 사용자 단말로부터 전송되어 오는 현재 위치의 별자리 정보는 사용자 단말에서 측정되는 다중 신호(예 컨대, 와이파이 신호, 모바일 네트워크 신호, 지자기 센서의 신호)의 세기 강도를 근거로 형성된 현재 위치에 대한 별자리 정보일 수 있다. 그리고, 다중 신호를 이미지화하여 별자리 정보로 만드는 방법은 동종업계에 종사 하는 자라면 주지의 여러 기술(예컨대, 대한민국 등록특허 제10-1767743호 등을 참조)로 충분히 이해할 수 있으 리라 본다. 예를 들어, 데이터 수신부는 도 2에서 하부에 위치한 두개의 별자리 정보중에서 왼쪽의 별자리 정보를 사용 자 단말로부터 제공받을 수 있다. 사용자 단말은 휴대용 단말기 또는 휴대용 컴퓨터로 구현될 수 있다. 여기서, 휴대용 단말기는 휴대성과 이동성 이 보장되는 무선 통신 장치로서, PCS(Personal Communication System), GSM(Global System for Mobile communications), PDC(Personal Digital Cellular), PHS(Personal Handyphone System), PDA(Personal Digital Assistant), IMT(International Mobile Telecommunication)-2000, CDMA(Code Division Multiple Access)- 2000, W-CDMA(W-Code Division Multiple Access), Wibro(Wireless Broadband Internet), 와이파이(Wi-Fi), LTE(Long Term Evolution) 단말 등과 같은 모든 종류의 핸드헬드(Handheld) 기반의 무선 통신 장치를 포함할 수 있다. 휴대용 컴퓨터는 노트북, 랩톱(laptop) 등을 포함할 수 있다. 또한, 사용자 단말은 스마트폰, 스마트 노트, 태블릿 PC, 웨어러블(wearable) 컴퓨터 등의 각종 스마트 기기일 수도 있다.측위부는 퍼셉트론(뉴런, 신경세포) 단위에서 2개의 입력을 받도록 설계된 포지셔닝 신경망(PNN; Positioning Neural Network)을 탑재하고 있다. 여기서, 포지셔닝 신경망은 입력층과 출력층 사이에 은닉층을 포함하는 인공신경망인 심층 신경망(DNN; Deep Neural Network)을 근간으로 할 수 있다. 측위부는 데이터 수신부를 통해 사용자 단말로부터의 현재 위치의 별자리 정보를 입력받게 되면 데이터 베이스에서 검색된 일정 범위내의 별자리 정보중에서 하나를 또다른 입력으로 한다. 여기서, 데이터베이스 에는 실내의 각 지점을 대표하는 별자리 정보가 미리 저장되어 있다. 즉, 측위부는 사용자 단말로부터의 현재 위치의 별자리 정보를 제 1 입력 정보로 하고, 데이터베이스에 서 검색된 별자리 정보를 제 2 입력 정보로 한다. 다시 말해서, 측위부에 탑재된 포지셔닝 신경망은 도 2와 같이 구성될 수 있는데, 포지셔닝 신경망의 각각 퍼셉트론은 사용자 단말로부터의 별자리 정보(예컨대, 하부에 위치한 두개의 별자리 정보중에서 왼쪽의 별자리 정보)를 제 1 입력으로 하고, 데이터베이스에서 검색된 별자리 정보(예컨대, 하부에 위치한 두개의 별자리 정보중에서 오른쪽의 별자리 정보)를 제 2 입력으로 한다. 측위부는 사용자 단말에서 생성되어 실시간으로 전송되어 오는 별자리 정보(즉, 위치를 모르는 정보임)와 데이터베이스내에서 검색된 별자리 정보를 비교함으로써, 사용자(보다 구체적으로는, 사용자 단말)의 현재 위치를 추정해 낼 수 있다. 만약, 와이파이 액세스 포인트(wifi AP(Access Point))들의 신호를 그대로 DNN에 입력하는 기존의 인공신경망 알고리즘을 측위부에 그대로 적용하면 정상적인 위도와 경도를 출력할 수 없다. 따라서, 측위부(보다 구체적으로는 측위부의 포지셔닝 신경망)는 사용자 단말로부터의 별자리 정보와 데이 터베이스에서 검색된 일정 범위내의 별자리 정보(즉, 1개 이상일 수 있음)와의 일대일 비교에 의해 상호간 의 유사도 차이를 정량적인 거리로 환산하여 가까운 거리에 있는 3 ~ 5개 정도의 별자리를 계산한다. 이어, 측 위부는 계산된 3 ~ 5개 정도의 별자리를 근거로 다변측량을 통해 사용자의 현재 위치를 추정한다. 이후, 측 위부는 추정된 위치를 사용자 단말에게로 전송한다. 물론, 서로 다른 두 별자리의 유사도 차이를 거리로 환 산하여 가까운 위치의 별자리 3 ~ 5개 정도를 계산해 내기 위해, 측위부는 후술할 3차원 활성화 함수를 측 위부의 포지셔닝 신경망(PNN)의 퍼셉트론에 적용시켰고, 포지셔닝 신경망(PNN)의 학습에서 발생되는 비용 함수의 값(즉, 3차원 활성화 함수의 결과값)의 불연속을 이산 구배 하강 알고리즘(Discrete gradient descent algorithm)을 통해 최적화시켰다. 측위부의 포지셔닝 신경망은 입력이 둘이고 출력이 하나인 인공신경망(예컨대, 심층 신경망(DNN)을 근간으 로 할 수 있음)으로 구성됨으로써, 서로 다른 두 별자리의 유사도 차이를 정량적인 거리로 환산해 낼 수 있다. 물론, 기존 인공신경망의 퍼셉트론도 여러 개의 입력을 받을 수 있다. 그러나, 기존의 인공신경망의 퍼셉트론은 모든 입력에 대해 가중합을 구한 후 sigmoid 등의 함수를 이용하여 단일 입력-단일 출력의 형태로 처리하므로, 상술한 측위부에서와 같이 두 개의 입력을 비교하기는 어렵다. 단적으로, 기존 인공신경망은 가중치가 모두 1이라고 가정했을 때 {0.5, 0.5}, {1.0, 0.0}, {0.3, 0.7}에 대해 모두 같은 결과를 출력하게 된다. 설령 가중 치에 대한 학습이 완료되었다고 하여도 입력 순서가 바뀌면 원래 기대했던 결과와는 다른 결과를 낼 수밖에 없 게 된다. 또한, 학습을 시키는 과정에서도 매우 편중이 심한 가중치가 나와야만 하기 때문에 학습 시간도 매우 오래 걸리게 된다. 이러한 문제를 해결하기 위해, 본 발명의 실시예에서는 활성화 함수(activation function)를 다시 설계하였다. 즉, 기존의 sigmoid, ReLU 등의 활성화 함수로는 측위가 안되므로, 3차원 활성화 함수를 새로 설계하여 측위부 의 포지셔닝 신경망(PNN)의 퍼셉트론에 적용시켰다. 측위부의 포지셔닝 신경망(PNN)에서 사용하는 퍼셉트론은 두 입력을 받을 수 있도록 설계되었으므로, 3차원 활성화 함수는 2개의 입력(x, y)을 받아서 1개의 출력(z)을 반환하도록 하는 z = f(x, y)형태의 함수이어야 한 다. 예를 들어, 측위를 위해 퍼셉트론에 사용하는 3차원 활성화 함수는 도 3과 같을 수 있다. 도 3에서, x 및 y 는 입력 정보인 별자리 정보이고, z는 출력이다. 예를 들어, x는 사용자 단말로부터 제공받은 현재 위치의 별자 리 정보인 제 1 입력 정보일 수 있고, y는 데이터베이스에서 검색된 별자리 정보인 제 2 입력 정보일 수 있 다. 도 3에서와 같은 3차원 활성화 함수는 2개의 입력(x, y)을 받아서 1개의 출력(z)을 반환함에 따라 x와 y 픽셀의 값 비교에 따른 유사도를 정의할 수 있다. 예를 들어, x가 0이고 y가 1인 경우 혹은 반대의 경우의 유사도 가중치는 음수를 갖는다(이 경우는 별자리에서 한 쪽에만 AP(Access Point)가 잡혀있는 경우로서, 가까운 위치일 가 능성이 매우 낮은 것을 의미한다). 반대로, x와 y픽셀의 밝기가 비슷한 경우에는 큰 양수 값을 갖게 되며 이는 가까운 거리임을 의미한다. 다시 말해서, 두 별자리의 신호 세기(x와 y 값)가 차이가 많이 날수록 유사도 결과값인 z는 작아진다. 또한, 두 별자리의 모든 픽셀에 대한 z값을 합하면 최종적인 별자리 유사도가 나온다. 이를 기반으로 가까운 위치의 별자 리를 찾아내는 알고리즘이 측위부의 포지셔닝 알고리즘이다. 그리고, 3차원 활성화 함수에 대한 최적화가 필요하다. 3차원 활성화 함수의 최적화의 대상이 되는 항목은 도 4에 예시한 바와 같이 4개의 파라미터이다. 도 4에서, 은 양수 출력의 최대값이고, 는 음수 출력의 최소값이고, 은 x=y 선에서 0보다 큰 값을 갖 게 되는 시작점이고, 는 x=0이거나 y=0인 선에서 0보다 작은 값을 갖게 되는 시작점을 의미한다. 기존 신경망 학습은 비용 함수(cost function)가 연속이고 미분가능한 것을 가정하고 있지만, 측위부의 포 지셔닝 신경망에서의 비용 함수의 값(즉, 3차원 활성화 함수의 결과값)을 그래프로 표현하면 불연속적 (discrete)인 형태로 나타난다. 따라서, 기존의 경사하강 알고리즘(Gradient descent algorithm)을 그대로 쓸 수가 없다. 이 문제를 해결하기 위하여 본 발명의 실시예에서는 이산 구배 하강 알고리즘(Discrete gradient descent algorithm)을 개발하였다. 본 발명의 실시예에서의 이산 구배 하강 알고리즘의 과정은 하기의 순번대로 행해질 수 있다. 1) 도 5에서와 같이 랜덤하게 시작점(start point)을 고르고 그 지점에서의 비용 함수를 계산한다. 2) 시작점에서 양방향으로 n개의 점(즉, 후보 점)을 무작위로 선정한다. 이때, n개의 점은 시작점에 가까울수록 밀도가 높고 멀수록 밀도가 낮다. 3) 이렇게 선정된 후보 점마다 모두 비용 함수를 계산한다. 4) 가장 낮은 비용 함수를 보인 위치로 이동한다. 5) 상술한 과정을 충분한 횟수 동안 반복한다. 도 5에서와 같이, 랜덤하게 잡은 시작점에서 양방향으로 n개의 점을 선정한 후, 이중에서 가장 낮은 비용 함수 의 점으로 이동하는 것을 반복하면 최저점(즉, 최적화된 점(optimum point))을 찾을 수 있다. 이와 같이 이산 구배 하강 알고리즘(Discrete gradient descent algorithm)은 불연속이고 미분 불가능한 비용 함수에 대해서도 최저점(최적화된 점)을 찾을 수 있다. 결국, 상술한 이산 구배 하강 알고리즘(Discrete gradient descent algorithm)을 통해 3차원 활성화 함수를 최적화시킬 수 있다. 측위부는 상술한 바와 같은 3차원 활성화 함수의 최적화를 통해 얻은 결과를 근거로 다변측량을 실시하여 사용자(보다 구체적으로는, 사용자 단말)의 현재 위치를 추정할 수 있다. 상술한 바와 같이, 측위부의 포지셔닝 신경망의 퍼셉트론 단위에서 2개의 입력 및 1개의 출력을 사용하도록 하고, 2입력 1출력이 가능하도록 하기 위해 포지셔닝 신경망의 퍼셉트론에 3차원의 활성화 함수를 적용하고, 포 지셔닝 신경망에서 불연속적으로 나타나는 비용함수의 값을 이산 구배 하강 알고리즘(Discrete gradient descent algorithm)을 이용하여 최적화시킴으로써, 실내에 있는 사용자의 현재 위치를 보다 정확하게 추정해 낼 수 있다. 도 6은 본 발명의 실시예에 따른 실내측위 방법을 설명하기 위한 플로우차트이다. 먼저, 실내측위 장치는 사용자 단말로부터 전송되어 오는 현재 위치의 별자리 정보를 실시간으로 수신한다 (S10). 여기서, 사용자 단말로부터 전송되어 오는 현재 위치의 별자리 정보는 사용자 단말에서 측정되는 다중 신호(예컨대, 와이파이 신호, 모바일 네트워크 신호, 지자기 센서의 신호)의 세기 강도를 근거로 형성된 현재 위치에 대한 별자리 정보일 수 있다. 그리고, 실내측위 장치는 사용자 단말로부터의 현재 위치의 별자리 정보를 입력받게 됨에 따라, 데이터베이 스에서 검색된 일정 범위내의 별자리 정보중에서 하나를 또다른 입력받는다(S12). 즉, 실내측위 장치는 사용자 단말로부터의 별자리 정보와 데이터베이스에서 검색된 일정 범위내의 별자리 정보(즉, 1개 이상일 수 있음)와의 일대일 비교(즉, 상호간의 유사도 차이 비교)를 하기 위해, 사용자 단말로부터의 현재 위치의 별자리 정보를 제 1 입력 정보로 하고, 데이터베이스에서 검색된 별자리 정보를 제 2 입력 정보로 한다. 이후, 실내측위 장치는 포지셔닝 신경망으로 두 별자리의 유사도 차이를 정량적인 거리로 환산하여 가까운 위치의 별자리 3 ~ 5개 정도를 계산해 낸다(S14). 즉, 실내측위 장치는 사용자 단말에서 생성되어 실시간으 로 전송되어 오는 별자리 정보(즉, 위치를 모르는 정보임)와 데이터베이스내의 별자리들과의 일대일 비교를 수행하여, 서로 다른 두 별자리의 유사도 차이를 정량적인 거리로 환산하여 가까운 위치의 별자리 3 ~ 5개 정도 를 계산해 낸다. 예를 들어, 데이터베이스에서 검색된 일정 범위내의 별자리 정보가 3개라면 실내측위 장치 는 이들 각각과 사용자 단말로부터의 별자리 정보와의 유사도 차이를 산출하여 가까운 위치의 별자리 3 ~ 5 개 정도를 계산해 낼 것이다. 한편, 서로 다른 두 별자리의 유사도 차이를 거리로 환산하여 가까운 위치의 별자 리 3 ~ 5개 정도를 계산해 내기 위해, 실내측위 장치에서는 2개의 입력(x, y)을 받아서 1개의 출력(z)을 반 환하도록 하는 z = f(x, y)형태의 함수인 3차원 활성화 함수를 포지셔닝 신경망(PNN)의 퍼셉트론에 적용시켰고, 포지셔닝 신경망(PNN)의 학습에서 발생되는 비용 함수의 값(즉, 3차원 활성화 함수의 결과값)의 불연속을 이산 구배 하강 알고리즘(Discrete gradient descent algorithm)을 통해 최적화시켰다. 그리고, 실내측위 장치는 찾아낸 가까운 별자리 3 ~ 5개 정도를 근거로 다변측량기법을 통해 사용자 단말의 현재 위치를 추정(즉, 측정)한다(S16). 이후, 실내측위 장치는 추정된 위치를 사용자 단말에게 전송한다(S18). 그에 따라, 사용자의 현재 위치가 사용자 단말상에 표시됨으로써, 사용자는 자신의 현재 위치를 확인할 수 있다. 또한, 상술한 본 발명의 실내측위 방법은, 컴퓨터로 읽을 수 있는 기록매체에 컴퓨터가 읽을 수 있는 코드로서 구현하는 것이 가능하다. 컴퓨터가 읽을 수 있는 기록매체는 컴퓨터 시스템에 의하여 읽혀질 수 있는 데이터가 저장되는 모든 종류의 기록 장치를 포함한다. 컴퓨터가 읽을 수 있는 기록매체의 예로는 ROM, RAM, CD-ROM, 자 기 테이프, 플로피디스크, 광데이터 저장장치 등이 있다. 또한, 컴퓨터가 읽을 수 있는 기록매체는 네트워크로 연결된 컴퓨터 시스템에 분산되어, 분산방식으로 컴퓨터가 읽을 수 있는 코드가 저장되고 실행될 수 있다. 그리 고, 상기 방법을 구현하기 위한 기능적인(function) 프로그램, 코드 및 코드 세그먼트들은 본 발명이 속하는 기 술분야의 프로그래머들에 의해 용이하게 추론될 수 있다. 이상에서와 같이 도면과 명세서에서 최적의 실시예가 개시되었다. 여기서 특정한 용어들이 사용되었으나, 이는 단지 본 발명을 설명하기 위한 목적에서 사용된 것이지 의미 한정이나 청구범위에 기재된 본 발명의 범위를 제 한하기 위하여 사용된 것은 아니다. 그러므로, 본 기술 분야의 통상의 지식을 가진자라면 이로부터 다양한 변형 및 균등한 타 실시예가 가능하다는 점을 이해할 것이다. 따라서, 본 발명의 진정한 기술적 보호범위는 첨부된 청구범위의 기술적 사상에 의해 정해져야 할 것이다."}
{"patent_id": "10-2019-0132655", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 실시예에 따른 실내측위 장치의 구성도이다. 도 2는 도 1에 도시된 측위부에서 사용하는 포지셔닝 신경망의 설계도이다. 도 3은 도 1에 도시된 측위부에서의 측위를 위해 퍼셉트론에 사용하는 3차원 활성화 함수를 예시한 도면이다. 도 4는 3차원 활성화 함수의 최적화의 대상이 되는 항목을 설명하기 위한 도면이다.도 5는 본 발명의 실시예에 채용되는 이산 구배 하강 알고리즘(Discrete gradient descent algorithm)의 과정 설명에 채용되는 도면이다. 도 6은 본 발명의 실시예에 따른 실내측위 방법을 설명하기 위한 플로우차트이다."}
