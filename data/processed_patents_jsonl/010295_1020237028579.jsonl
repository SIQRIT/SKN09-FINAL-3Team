{"patent_id": "10-2023-7028579", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0147095", "출원번호": "10-2023-7028579", "발명의 명칭": "오프-네트워크에서 위치 관리를 위한 방법 및 단말", "출원인": "삼성전자주식회사", "발명자": "샤 사판 프라모드쿠마르"}}
{"patent_id": "10-2023-7028579", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "오프-네트워크에서의 위치 관리 방법에 있어서,제1 단말(100A)이 오프-네트워크 위치 보고 트리거 설정을 포함하는 오프-네트워크 위치 보고 트리거 설정 메시지를 제2 단말(100B)로 전송하는 단계, 여기서 상기 오프-네트워크 위치 보고 트리거 설정은 상기 제2 단말(100B)이 상기 제2 단말(100B)의 위치 정보를 상기 제1 단말(100A)로 보고하도록 함;상기 제1 단말(100A)이 상기 제2 단말(100B)로부터 오프-네트워크 위치 보고 트리거 설정 응답 메시지를 수신하는 단계;상기 제1 단말(100A)이 상기 제2 단말(100B)로 오프-네트워크 위치 관리 확인응답(ACK) 메시지를 전송하는단계;상기 제2 단말(100B)에서 위치 보고 이벤트가 트리거되면, 상기 제1 단말(100A)이 상기 제2 단말(100B)로부터상기 제2 단말(100B)의 위치 정보를 포함하는 오프-네트워크 위치 보고 메시지를 수신하는 단계; 및상기 제1 단말(100A)이 상기 위치 정보를 수신하기 위한 상기 오프-네트워크 위치 관리 확인응답 메시지를 제2단말(100B)로 전송하는 단계를 포함하는 방법."}
{"patent_id": "10-2023-7028579", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 오프-네트워크 위치 보고 트리거 설정은 상기 제2 단말(100B) 또는 상기 제2 단말(100B)의 사용자의 식별자, 상기 오프-네트워크 위치 보고 트리거 설정 메시지의 식별자, 요청된 위치 정보, 트리거 기준(들)의 목록,연속적인 보고들 사이의 최소 시간, 및 상기 설정의 수명 시간을 포함하고,상기 오프-네트워크 위치 보고 트리거 설정 응답 메시지는 동작의 성공 또는 실패를 나타내는 결과, 상기 오프-네트워크 위치 보고 트리거 설정 응답 메시지의 식별자, 상기 오프-네트워크 위치 보고 트리거 설정 메시지의식별자, 및 상기 실패의 이유를 포함하고,상기 오프-네트워크 위치 관리 확인응답 메시지는 상기 제1 단말(100A)에서 수신된 이전 오프-네트워크 위치 관리 메시지의 식별자를 포함하고,상기 오프-네트워크 위치 보고 메시지는 상기 오프-네트워크 위치 보고 메시지의 식별자, 트리거 이벤트, 상기위치 정보, 및 확인응답(ACK) 요구사항을 포함하는 것을 특징으로 하는 방법."}
{"patent_id": "10-2023-7028579", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 제1 단말(100A)과 상기 제2 단말(100B)은 서로의 PC5 통신 범위 내에 있고, 서로의 계층-2 식별자(ID:Identifier)를 알고 알고 있으며, 상기 제1 단말(100A)의 수직 어플리케이션 계층(VAL: Vertical ApplicationLayer) 서비스 사용자는 상기 제2 단말(100B)로 위치 보고 트리거를 설정할 권한이 있고, 상기 제1 단말(100A)의 VAL 서비스 사용자는 상기 제2 단말(100B)로 상기 위치 보고 트리거를 설정하도록 요청하는 것을 특징으로하는 방법."}
{"patent_id": "10-2023-7028579", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서, 상기 방법은:상기 제1 단말(100A)이 상기 제2 단말(100B)로 오프-네트워크 위치 보고 트리거 취소 메시지를 전송하는 단계,여기서 상기 오프-네트워크 위치 보고 트리거 취소 메시지는 상기 제2 단말(100B)이 상기 제1 단말(100A)로의공개특허 10-2023-0147095-3-상기 제2 단말(100B)의 위치 정보 보고를 취소하도록 함;상기 제1 단말(100A)이 상기 제2 단말(100B)로부터 오프-네트워크 위치 보고 트리거 취소 응답 메시지를 수신하는 단계; 및상기 제1 단말(100A)이 상기 오프-네트워크 위치 보고 트리거 취소 응답 메시지를 수신하였음을 나타내기 위해상기 제1 단말(100A)이 상기 제2 단말(100B)로 상기 오프-네트워크 위치 관리 확인응답 메시지를 전송하는 단계를 포함하고,상기 오프-네트워크 위치 보고 트리거 취소 메시지는 상기 제2 단말(100B) 또는 상기 제2 단말(100B)의 사용자의 식별자, 및 상기 오프-네트워크 위치 보고 트리거 취소 메시지의 식별자를 포함하며, 상기 오프-네트워크 위치 보고 트리거 취소 응답 메시지는 동작의 성공 또는 실패를 나타내는 결과, 상기 오프-네트워크 위치 보고 트리거 취소 메시지의 식별자, 및 상기 오프-네트워크 위치 보고 트리거 취소 응답 메시지의 식별자를 포함하는것을 특징으로 하는 방법."}
{"patent_id": "10-2023-7028579", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서,상기 제1 단말(100A)이 상기 오프-네트워크 위치 관리 확인응답 메시지를 전송하는 단계는:상기 제1 단말(100A)이 상기 오프-네트워크 위치 관리 메시지의 메시지 유형 정보 요소(IE: InformationElement)를 LOCATION MANAGEMENT ACK로, 상기 오프-네트워크 위치 관리 메시지의 발신 VAL 사용자 ID IE를 자신의 VAL 사용자 ID로, 상기 오프-네트워크 위치 관리 메시지의 착신 VAL 사용자 ID IE를 타깃 VAL 사용자의VAL 사용자 ID로 설정함으로써 상기 오프-네트워크 위치 관리 메시지를 생성하는 단계; 및상기 제1 단말(100A)이 상기 오프-네트워크 위치 관리 메시지를 상기 제2 단말(100B)로 전송하는 단계를 포함하는 것을 특징으로 하는 방법."}
{"patent_id": "10-2023-7028579", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에 있어서, 상기 방법은:상기 제1 단말(100A)이 상기 제2 단말(100B)의 위치 정보를 즉시 수신하기 위해 상기 제2 단말(100B)로 오프-네트워크 위치 요청 메시지를 전송하는 단계;상기 제1 단말(100A)이 상기 제2 단말(100B)로부터 상기 제2 단말(100B)의 상기 위치 정보를 포함하는 오프-네트워크 위치 응답 메시지를 수신하는 단계, 여기서 상기 제2 단말(100B)은 상기 위치 정보를 상기 제1 단말(100A)에 공유하기 위해 VAL 사용자로부터 허가를 획득함; 및상기 제1 단말(100A)이 상기 오프-네트워크 위치 관리 확인응답 메시지를 상기 제2 단말(100B)로 전송하는 단계를 포함하고,상기 오프-네트워크 위치 요청 메시지는 상기 제1 단말(100A)에 저장된 주기적 위치 정보 타이머를 포함하는 설정에 기초하여 전송되며,상기 오프-네트워크 위치 요청 메시지는 상기 제2 단말(100B) 또는 상기 제2 단말(100B)의 사용자의 식별자, 상기 오프-네트워크 위치 요청 메시지의 식별자, 및 요청된 위치 정보를 포함하고, 상기 오프-네트워크 위치 응답메시지는 동작의 성공 또는 실패를 나타내는 결과, 상기 오프-네트워크 위치 응답 메시지의 식별자, 상기 오프-네트워크 위치 요청 메시지의 식별자, 및 상기 위치 정보를 포함하는 것을 특징으로 하는 방법."}
{"patent_id": "10-2023-7028579", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제1항에 있어서,상기 제1 단말(100A)과 상기 제2 단말(100B)은 서로의 PC5 통신 범위 내에 있고, 서로의 계층-2 ID를 알고 알고있으며, 상기 제1 단말(100A)의 VAL 서비스 사용자는 상기 제2 단말(100B)로 위치 보고를 요청할 권한이 있고,상기 제1 단말(100A)의 VAL 서비스 사용자는 상기 제2 단말(100B)로 즉각적인 위치 보고를 요청하는 것을 특징으로 하는 방법.공개특허 10-2023-0147095-4-청구항 8 제1항에 있어서,상기 오프-네트워크 위치 보고 트리거 설정 요청 메시지의 메시지 유형 정보 요소의 값 부분은 00000001이고,상기 오프-네트워크 위치 보고 트리거 설정 응답 메시지는 00000010이고, 상기 오프-네트워크 위치 관리 확인응답 메시지는 00000011이고, 오프-네트워크 위치 보고 메시지는 00000100이고, 오프-네트워크 위치 보고 트리거취소 메시지는 00000101이고, 오프-네트워크 위치 보고 트리거 취소 응답 메시지는 00000110이고, 오프-네트워크 위치 요청 메시지는 00000111이고, 오프-네트워크 위치 응답 메시지는 00001000인 것을 특징으로 하는 방법."}
{"patent_id": "10-2023-7028579", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제1항에 있어서, 상기 방법은:상기 제1 단말(100A)이 카운터의 현재 값 및 상기 카운터의 최대값을 설정하는 단계;상기 제1 단말(100A)이 상기 타이머를 초기화하는 단계;상기 제1 단말(100A)이 상기 제2 단말(100B)로 요청 메시지를 전송하고 상기 카운터 및 상기 타이머의 만료 시까지 상기 제2 단말(100B)로부터 응답 메시지를 수신하기 위해 대기하는 단계; 및상기 제1 단말(100A)이:상기 카운터 및 상기 타이머의 만료 시간 내에 상기 응답 메시지를 수신하고, 상기 응답 메시지를 수신하면 상기 카운터 및 상기 타이머를 종료하고, 상기 요청 메시지가 상기 제2 단말(100B)에 성공적으로 전달되었다고 판단하는 단계, 및상기 카운터 및 상기 타이머의 만료 시간 내에 상기 응답 메시지를 수신하지 못하고, 상기 카운터 및 상기 타이머의 만료를 검출하면 상기 카운터 및 상기 타이머를 종료하고, 상기 요청 메시지가 상기 제2 단말(100B)에 전달되지 못하였다고 판단하는 단계 중 하나를 수행하는 단계를 포함하고,상기 카운터 및 상기 타이머의 만료는:상기 타이머가 만료되었음을 검출하고;상기 타이머가 만료될 때마다 상기 카운터의 현재 값을 증가시키고;상기 카운터의 현재 값을 증가시키면서 상기 타이머를 재시작하고; 그리고상기 카운터의 현재 값이 최대값 이상임을 검출하면 상기 카운터가 만료된 것으로 검출함으로써 결정되는 것을특징으로 하는 방법."}
{"patent_id": "10-2023-7028579", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "오프-네트워크에서의 위치 관리 방법에 있어서,제2 단말(100B)이 오프-네트워크 위치 보고 트리거 설정을 포함하는 오프-네트워크 위치 보고 트리거 설정 메시지를 제1 단말(100A)로부터 수신하는 단계, 여기서 상기 오프-네트워크 위치 보고 트리거 설정은 상기 제2 단말(100B)이 상기 제2 단말(100B)의 위치 정보를 상기 제1 단말(100A)로 보고하도록 함;상기 제2 단말(100B)이 상기 오프-네트워크 위치 보고 트리거 설정을 메모리(120B)에 저장하는 단계;상기 제2 단말(100B)이 상기 제1 단말(100A)로 오프-네트워크 위치 보고 트리거 설정 응답 메시지를 전송하는단계;상기 제2 단말(100B)이 상기 제1 단말(100A)로부터 오프-네트워크 위치 관리 확인응답(ACK) 메시지를 수신하는단계;상기 제2 단말(100B)이 상기 오프-네트워크 위치 보고 트리거 설정에 기초하여 위치 보고 이벤트의 트리거를 검출하는 단계;상기 제2 단말(100B)이 상기 제1 단말(100A)로 상기 제2 단말(100B)의 위치 정보를 포함하는 오프-네트워크 위치 보고 메시지를 전송하는 단계; 및공개특허 10-2023-0147095-5-상기 제2 단말(100B)이 상기 제1 단말(100A)로부터 오프-네트워크 위치 관리 확인응답 메시지를 수신하는 단계를 포함하는 방법."}
{"patent_id": "10-2023-7028579", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제10항에 있어서,상기 제2 단말(100B)은 상기 오프-네트워크 위치 보고 트리거 설정 메시지를 수신하면서 초기 위치 보고 이벤트트리거 설정을 저장하고,상기 방법은:상기 제2 단말(100B)이 상기 제1 단말(100A)로부터 오프-네트워크 위치 보고 트리거 취소 메시지를 수신하는 단계, 여기서 상기 오프-네트워크 위치 보고 트리거 취소 메시지는 상기 제2 단말(100B)이 상기 제1 단말(100A)로의 상기 제2 단말(100B)의 위치 정보 보고를 취소하도록 함;상기 제2 단말(100B)이 상기 메모리(120B)에서 상기 오프-네트워크 위치 보고 트리거 설정을 삭제하는 단계;상기 제2 단말(100B)이 상기 제1 단말(100A)로 오프-네트워크 위치 보고 트리거 취소 응답 메시지를 전송하는단계; 및상기 제2 단말(100B)이 상기 제1 단말(100A)로부터 상기 오프-네트워크 위치 관리 확인응답 메시지를 수신하는단계를 포함하는 것을 특징으로 하는 방법."}
{"patent_id": "10-2023-7028579", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제10항에 있어서, 상기 방법은:상기 제2 단말(100B)이 상기 제1 단말(100A)로부터 상기 제2 단말(100B)의 상기 위치 정보를 즉시 전송하기 위한 오프-네트워크 위치 요청 메시지를 수신하는 단계;상기 제2 단말(100B)이 상기 제2 단말(100B)의 상기 위치 정보를 상기 제1 단말(100A)에 공유하기 위해 VAL 사용자로부터 허가를 획득하는 단계;상기 제2 단말(100B)이 상기 제1 단말(100A)로 상기 제2 단말(100B)의 상기 위치 정보를 포함하는 오프-네트워크 위치 응답 메시지를 전송하는 단계; 및상기 제2 단말(100B)이 상기 제1 단말(100A)로부터 상기 오프-네트워크 위치 관리 확인응답 메시지를 수신하는단계를 포함하는 것을 특징으로 하는 방법."}
{"patent_id": "10-2023-7028579", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제10항에 있어서, 상기 방법은:상기 제2 단말(100B)이 카운터의 현재 값 및 상기 카운터의 최대값을 설정하는 단계;상기 제2 단말(100B)이 상기 타이머를 초기화하는 단계;상기 제2 단말(100B)이 상기 제1 단말(100A)로 응답 메시지를 전송하고 상기 카운터 및 상기 타이머의 만료 시까지 상기 제1 단말(100A)로부터 확인응답 메시지를 수신하기 위해 대기하는 단계; 및상기 제2 단말(100B)이:상기 카운터 및 상기 타이머의 만료 시간 내에 상기 확인응답 메시지를 수신하고, 상기 확인응답 메시지를 수신하면 상기 카운터 및 상기 타이머를 종료하고, 상기 응답 메시지가 상기 제1 단말(100A)에 성공적으로 전달되었다고 판단하는 단계, 및상기 카운터 및 상기 타이머의 만료 시간 내에 상기 확인응답 메시지를 수신하지 못하고, 상기 카운터 및 상기타이머의 만료를 검출하면 상기 카운터 및 상기 타이머를 종료하고, 상기 응답 메시지가 상기 제1 단말(100A)에전달되지 못하였다고 판단하는 단계 중 하나를 수행하는 단계를 포함하고,상기 카운터 및 상기 타이머의 만료는:공개특허 10-2023-0147095-6-상기 타이머가 만료되었음을 검출하고;상기 타이머가 만료될 때마다 상기 카운터의 현재 값을 증가시키고;상기 카운터의 현재 값을 증가시키면서 상기 타이머를 재시작하고; 그리고상기 카운터의 현재 값이 최대값 이상임을 검출하면 상기 카운터가 만료된 것으로 검출함으로써 결정되는 것을특징으로 하는 방법."}
{"patent_id": "10-2023-7028579", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "오프-네트워크에서의 위치 관리를 위한 제1 단말(100A)에 있어서,메모리(120A);프로세서(130A); 및상기 메모리(120A) 및 상기 프로세서(130A)에 동작 가능하게 연결되는 위치 관리 클라이언트 컨트롤러(110A)를포함하고,상기 위치 관리 클라이언트 컨트롤러(110A)는:오프-네트워크 위치 보고 트리거 설정을 포함하는 오프-네트워크 위치 보고 트리거 설정 메시지를 제2 단말(100B)로 전송하고, 여기서 상기 오프-네트워크 위치 보고 트리거 설정은 상기 제2 단말(100B)이 상기 제2 단말(100B)의 위치 정보를 상기 제1 단말(100A)로 보고하도록 함,상기 제2 단말(100B)로부터 오프-네트워크 위치 보고 트리거 설정 응답 메시지를 수신하고,상기 제2 단말(100B)로 오프-네트워크 위치 관리 확인응답(ACK) 메시지를 전송하고,상기 제2 단말(100B)에서 위치 보고 이벤트가 트리거되면, 상기 제2 단말(100B)로부터 상기 제2 단말(100B)의위치 정보를 포함하는 오프-네트워크 위치 보고 메시지를 수신하며, 그리고상기 위치 정보를 수신하기 위한 상기 오프-네트워크 위치 관리 확인응답 메시지를 제2 단말(100B)로 전송하도록 구성되는 것을 특징으로 하는 제1 단말."}
{"patent_id": "10-2023-7028579", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "오프-네트워크에서의 위치 관리를 위한 제2 단말(100B)에 있어서,메모리(120B);프로세서(130B); 및상기 메모리(120B) 및 상기 프로세서(130B)에 동작 가능하게 연결되는 위치 관리 클라이언트 컨트롤러(110B)를포함하고,상기 위치 관리 클라이언트 컨트롤러(110B)는:오프-네트워크 위치 보고 트리거 설정을 포함하는 오프-네트워크 위치 보고 트리거 설정 메시지를 제1 단말(100A)로부터 수신하고, 여기서 상기 오프-네트워크 위치 보고 트리거 설정은 상기 제2 단말(100B)이 상기 제2단말(100B)의 위치 정보를 상기 제1 단말(100A)로 보고하도록 함,상기 오프-네트워크 위치 보고 트리거 설정을 상기 메모리(120B)에 저장하고,상기 제1 단말(100A)로 오프-네트워크 위치 보고 트리거 설정 응답 메시지를 전송하고,상기 제1 단말(100A)로부터 오프-네트워크 위치 관리 확인응답(ACK) 메시지를 수신하고,상기 오프-네트워크 위치 보고 트리거 설정에 기초하여 위치 보고 이벤트의 트리거를 검출하고,상기 제1 단말(100A)로 상기 제2 단말(100B)의 위치 정보를 포함하는 오프-네트워크 위치 보고 메시지를 전송하며, 그리고공개특허 10-2023-0147095-7-상기 제1 단말(100A)로부터 오프-네트워크 위치 관리 확인응답 메시지를 수신하도록 구성되는 것을 특징으로 하는 제2 단말."}
{"patent_id": "10-2023-7028579", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 보다 높은 데이터 전송률을 지원하기 위한 5G 또는 6G 통신 시스템에 관한 것이다. 실시예들은 오프- 네트워크에서의 위치 관리 방법을 제공한다. 이 방법은 제1 단말(100A)이 설정을 포함하는 요청을 제2 단말 (100B)로 전송하는 단계를 포함하고, 여기서 상기 설정은 상기 제2 단말(100B)이 상기 제2 단말(100B)의 위치 정 (뒷면에 계속)"}
{"patent_id": "10-2023-7028579", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 무선 통신 시스템에 관한 것으로, 특히 오프-네트워크 통신을 통한 위치 관리를 위한 방법 및 단말에 관한 것이다."}
{"patent_id": "10-2023-7028579", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "5G 이동통신 기술은 빠른 전송 속도와 새로운 서비스가 가능하도록 넓은 주파수 대역을 정의하고 있으며, 3.5 기가헤르츠(3.5GHz) 등 6GHz 이하 주파수('Sub 6GHz') 대역은 물론 28GHz와 39GHz 등 밀리미터파(㎜Wave)로 불 리는 초고주파 대역('Above 6GHz')에서도 구현이 가능하다. 또한, 5G 통신 이후(Beyond 5G)의 시스템이라 불리 어지는 6G 이동통신 기술의 경우, 5G 이동통신 기술 대비 50배 빨라진 전송 속도와 10분의 1로 줄어든 초저 (Ultra Low) 지연시간을 달성하기 위해 테라헤르츠(Terahertz) 대역(예를 들어, 95GHz에서 3 테라헤르츠(3THz) 대역과 같은)에서의 구현이 고려되고 있다. 5G 이동통신 기술의 초기에는, 초광대역 서비스(enhanced Mobile BroadBand, eMBB), 고신뢰/초저지연 통신 (Ultra-Reliable Low-Latency Communications, URLLC), 대규모 기계식 통신 (massive Machine-Type Communications, mMTC)에 대한 서비스 지원과 성능 요구사항 만족을 목표로, 초고주파 대역에서의 전파의 경로 손실 완화 및 전파의 전달 거리를 증가시키기 위한 빔포밍(Beamforming) 및 거대 배열 다중 입출력(Massive MIMO), 초고주파수 자원의 효율적 활용을 위한 다양한 뉴머롤로지 지원(복수 개의 서브캐리어 간격 운용 등)와 슬롯 포맷에 대한 동적 운영, 다중 빔 전송 및 광대역을 지원하기 위한 초기 접속 기술, BWP(Band-Width Part) 의 정의 및 운영, 대용량 데이터 전송을 위한 LDPC(Low Density Parity Check) 부호와 제어 정보의 신뢰성 높은 전송을 위한 폴라 코드(Polar Code)와 같은 새로운 채널 코딩 방법, L2 선-처리(L2 pre-processing), 특정 서 비스에 특화된 전용 네트워크를 제공하는 네트워크 슬라이싱(Network Slicing) 등에 대한 표준화가 진행되었다. 현재, 5G 이동통신 기술이 지원하고자 했던 서비스들을 고려하여 초기의 5G 이동통신 기술 개선(improvement) 및 성능 향상(enhancement)을 위한 논의가 진행 중에 있으며, 차량이 전송하는 자신의 위치 및 상태 정보에 기 반하여 자율주행 차량의 주행 판단을 돕고 사용자의 편의를 증대하기 위한 V2X(Vehicle-to-Everything), 비면허 대역에서 각종 규제 상 요구사항들에 부합하는 시스템 동작을 목적으로 하는 NR-U(New Radio Unlicensed), NR 단말 저전력 소모 기술(UE Power Saving), 지상 망과의 통신이 불가능한 지역에서 커버리지 확보를 위한 단말- 위성 직접 통신인 비 지상 네트워크(Non-Terrestrial Network, NTN), 위치 측위(Positioning) 등의 기술에 대 한 물리계층 표준화가 진행 중이다. 뿐만 아니라, 타 산업과의 연계 및 융합을 통한 새로운 서비스 지원을 위한 지능형 공장 (Industrial Internet of Things, IIoT), 무선 백홀 링크와 액세스 링크를 통합 지원하여 네트워크 서비스 지역 확장을 위한 노드를 제공하는 IAB(Integrated Access and Backhaul), 조건부 핸드오버(Conditional Handover) 및 DAPS(Dual Active Protocol Stack) 핸드오버를 포함하는 이동성 향상 기술(Mobility Enhancement), 랜덤액세스 절차를 간소화하 는 2 단계 랜덤액세스(2-step RACH for NR) 등의 기술에 대한 무선 인터페이스 아키텍쳐/프로토콜 분야의 표준 화 역시 진행 중에 있으며, 네트워크 기능 가상화(Network Functions Virtualization, NFV) 및 소프트웨어 정 의 네트워킹(Software-Defined Networking, SDN) 기술의 접목을 위한 5G 베이스라인 아키텍쳐(예를 들어, Service based Architecture, Service based Interface), 단말의 위치에 기반하여 서비스를 제공받는 모바일 엣지 컴퓨팅(Mobile Edge Computing, MEC) 등에 대한 시스템 아키텍쳐/서비스 분야의 표준화도 진행 중이다. 이와 같은 5G 이동통신 시스템이 상용화되면, 폭발적인 증가 추세에 있는 커넥티드 기기들이 통신 네트워크에 연결될 것이며, 이에 따라 5G 이동통신 시스템의 기능 및 성능 강화와 커넥티드 기기들의 통합 운용이 필요할 것으로 예상된다. 이를 위해, 증강현실(Augmented Reality, AR), 가상현실(Virtual Reality, VR), 혼합 현실 (Mixed Reality, MR) 등을 효율적으로 지원하기 위한 확장 현실(eXtended Reality, XR), 인공지능(Artificial Intelligence, AI) 및 머신러닝(Machine Learning, ML)을 활용한 5G 성능 개선 및 복잡도 감소, AI 서비스 지 원, 메타버스 서비스 지원, 드론 통신 등에 대한 새로운 연구가 진행될 예정이다. 또한, 이러한 5G 이동통신 시스템의 발전은 6G 이동통신 기술의 테라헤르츠 대역에서의 커버리지 보장을 위한 신규 파형(Waveform), 전차원 다중입출력(Full Dimensional MIMO, FD-MIMO), 어레이 안테나(Array Antenna), 대규모 안테나(Large Scale Antenna)와 같은 다중 안테나 전송 기술, 테라헤르츠 대역 신호의 커버리지를 개선 하기 위해 메타물질(Metamaterial) 기반 렌즈 및 안테나, OAM(Orbital Angular Momentum)을 이용한 고차원 공 간 다중화 기술, RIS(Reconfigurable Intelligent Surface) 기술 뿐만 아니라, 6G 이동통신 기술의 주파수 효 율 향상 및 시스템 네트워크 개선을 위한 전이중화(Full Duplex) 기술, 위성(Satellite), AI(Artificial Intelligence)를 설계 단계에서부터 활용하고 종단간(End-to-End) AI 지원 기능을 내재화하여 시스템 최적화를 실현하는 AI 기반 통신 기술, 단말 연산 능력의 한계를 넘어서는 복잡도의 서비스를 초고성능 통신과 컴퓨팅 자 원을 활용하여 실현하는 차세대 분산 컴퓨팅 기술 등의 개발에 기반이 될 수 있을 것이다."}
{"patent_id": "10-2023-7028579", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "3GPP(3rd Generation Partnership Project)는 현재 V2X(Vehicle-to-Everything) 어플리케이션에 대한 인에이블 러(enabler) 계층 지원을 정의하고 있다. 자동차, RSU(Road Side Unit) 등과 같은 V2X 장치들은 일반적으로 네 트워크를 통해 통신하는 대신 서로 직접 통신한다. V2X 어플리케이션에는 적절한 결정을 내리기 위해 하나의 V2X 장치가 다른 V2X 장치의 위치 정보를 필요로 하는 많은 사용 케이스들이 있다. 모든 차량들은 더 나은 차량 교통 관리를 위해 근접한 다른 차량들의 정확한 위치 정보로 업데이트된 상태를 유 지해야 한다. V2X 장치(예를 들어, 자동차)의 위치는 V2X 어플리케이션에서 가장 중요한 정보이다. 도로 운송에 서, 자동차, 보행자, 교통 신호 및 그 밖의 움직이는 물체들의 위치를 아는 것은 도로에 있는 모든 사람의 안전 에 매우 중요하다. V2X 장치들의 위치 정보는 교차로 안전 프로비저닝(provisioning), 자율 차량들의 협력 차선 변경(CLC: Cooperative Lane Change), 자율 주행, 원격 주행, 군집주행(platoon) 관리 등과 같은 다양한 시나 리오들에서 많이 사용된다. 기동 시작 여부, 차선 변경 여부 등과 같은 많은 중요한 결정들은 다른 차량들 및 차량 주변의 기타 인프라의 위치를 기반으로 이루어진다. 중요한 사용 케이스들 중 하나는 차량이 사고를 피하 기 위해 주변 차량들의 위치에 따라 브레이크를 적용할지 결정하는 사전 충돌 감지 경고이다. 또한, 차량들의 그룹에서 신뢰할 수 있는 위치 정보를 수신해야 한다. 신뢰할 수 있는 정보는 제어 작업을 동시 에 실행하기 위해 선두 차량들과 모든 협력 차량들 간에 메시지들을 교환하기 위해 사용된다. 차량들이 주위 차 량들의 위치 및 기타 관련 정보(예를 들어 궤적)를 업데이트 상태로 유지하는 것이 중요하다. 또한, 서로 다른 기준들에 기초하여 지속적으로 위치 보고들을 수신하기 위해 근접한 다른 차량들의 위치를 관리해야 한다. 이는 V2X 장치들이 항상 서버에 연결되어 있는 것은 불가능하기 때문이다. 매우 낮은 종단간(end-to-end) 지연 요구 사항으로 인해, V2X 장치들은 오프-네트워크 통신 절차를 통해 서로 직접 통신할 필요가 있다. 장치들이 오프- 네트워크를 통해 통신하는 경우, 네트워크의 사용 불가로 인해 장치들 간의 위치 관리는 이용 가능하지 않다. 서로 직접 통신하는 두 장치들 간의 위치 관리가 필요하다. 또한, 오프-네트워크 통신에서 한 장치의 신뢰할 수 있는 위치 정보를 다른 장치에 제공해야 한다. V2X 장치들이 오프-네트워크를 통해 통신하는 경우, 장치들 간의 위치 관리를 사용할 수 없다. 따라서, V2X 장치들간의 오프-네트워크 위치 관리를 위한 해결 수단을 제공하는 것이 바람직하다."}
{"patent_id": "10-2023-7028579", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "따라서, 실시예들은 오프-네트워크에서의 위치 관리 방법을 제공한다. 상기 방법은 제1 단말이 오프-네트워크 위치 보고 트리거 설정을 포함하는 오프-네트워크 위치 보고 트리거 설정 메시지를 제2 단말로 전송하는 단계를 포함하고, 여기서 상기 오프-네트워크 위치 보고 트리거 설정은 상기 제2 단말이 상기 제2 단말의 위치 정보를 상기 제1 단말로 보고하도록 한다. 상기 방법은 상기 제1 단말이 상기 제2 단말로부터 오프-네트워크 위치 보고 트리거 설정 응답 메시지를 수신하는 단계를 포함한다. 상기 방법은 상기 제1 단말이 상기 제2 단말로 오프-네 트워크 위치 관리 확인응답(ACK) 메시지를 전송하는 단계를 포함한다. 상기 방법은 상기 제2 단말에서 위치 보 고 이벤트가 트리거되면, 상기 제1 단말이 상기 제2 단말로부터 상기 제2 단말의 위치 정보를 포함하는 오프-네 트워크 위치 보고 메시지를 수신하는 단계를 포함한다. 상기 방법은 상기 제1 단말이 상기 위치 정보를 수신하 기 위한 상기 오프-네트워크 위치 관리 확인응답 메시지를 제2 단말로 전송하는 단계를 포함한다. 실시예에서, 상기 오프-네트워크 위치 보고 트리거 설정은 상기 제2 단말 또는 상기 제2 단말의 사용자의 식별 자, 상기 오프-네트워크 위치 보고 트리거 설정 메시지의 식별자, 요청된 위치 정보, 트리거 기준(들)의 목록, 연속적인 보고들 사이의 최소 시간, 및 상기 설정의 수명 시간을 포함하고, 상기 오프-네트워크 위치 보고 트리거 설정 응답 메시지는 동작의 성공 또는 실패를 나타내는 결과, 상기 오프-네트워크 위치 보고 트리거 설정 응 답 메시지의 식별자, 상기 오프-네트워크 위치 보고 트리거 설정 메시지의 식별자, 및 상기 실패의 이유를 포함 하고, 상기 오프-네트워크 위치 관리 확인응답 메시지는 상기 제1 단말에서 수신된 이전 오프-네트워크 위치 관 리 메시지의 식별자를 포함하고, 상기 오프-네트워크 위치 보고 메시지는 상기 오프-네트워크 위치 보고 메시지 의 식별자, 트리거 이벤트, 상기 위치 정보, 및 확인응답(ACK) 요구사항을 포함한다. 실시예에서, 상기 제1 단말과 상기 제2 단말은 서로의 PC5 통신 범위 내에 있고, 서로의 계층-2 식별자(ID: Identifier)를 알고 알고 있으며, 상기 제1 단말의 수직 어플리케이션 계층(VAL: Vertical Application Layer) 서비스 사용자는 상기 제2 단말로 위치 보고 트리거를 설정할 권한이 있고, 상기 제1 단말의 VAL 서비스 사용자 는 상기 제2 단말로 상기 위치 보고 트리거를 설정하도록 요청한다. 실시예에서, 상기 방법은 상기 제1 단말이 상기 제2 단말로 오프-네트워크 위치 보고 트리거 취소 메시지를 전 송하는 단계를 포함하고, 여기서 상기 오프-네트워크 위치 보고 트리거 취소 메시지는 상기 제2 단말이 상기 제 1 단말로의 상기 제2 단말의 위치 정보 보고를 취소하도록 한다. 상기 방법은 상기 제1 단말이 상기 제2 단말로 부터 오프-네트워크 위치 보고 트리거 취소 응답 메시지를 수신하는 단계를 포함한다. 상기 방법은 상기 제1 단 말이 상기 오프-네트워크 위치 보고 트리거 취소 응답 메시지를 수신하였음을 나타내기 위해 상기 제1 단말이 상기 제2 단말로 상기 오프-네트워크 위치 관리 확인응답 메시지를 전송하는 단계를 포함한다. 실시예에서, 상기 오프-네트워크 위치 보고 트리거 취소 메시지는 상기 제2 단말 또는 상기 제2 단말의 사용자 의 식별자, 및 상기 오프-네트워크 위치 보고 트리거 취소 메시지의 식별자를 포함하며, 상기 오프-네트워크 위 치 보고 트리거 취소 응답 메시지는 동작의 성공 또는 실패를 나타내는 결과, 상기 오프-네트워크 위치 보고 트 리거 취소 메시지의 식별자, 및 상기 오프-네트워크 위치 보고 트리거 취소 응답 메시지의 식별자를 포함한다. 실시예에서, 상기 제1 단말이 상기 오프-네트워크 위치 관리 확인응답 메시지를 전송하는 단계는 상기 제1 단말 (100A)이 상기 오프-네트워크 위치 관리 메시지의 메시지 유형 정보 요소(IE: Information Element)를 LOCATION MANAGEMENT ACK로, 상기 오프-네트워크 위치 관리 메시지의 발신 VAL 사용자 ID IE를 자신의 VAL 사 용자 ID로, 상기 오프-네트워크 위치 관리 메시지의 착신 VAL 사용자 ID IE를 타깃 VAL 사용자의 VAL 사용자 ID 로 설정함으로써 상기 오프-네트워크 위치 관리 메시지를 생성하는 단계, 및 상기 제1 단말이 상기 오프-네트워 크 위치 관리 메시지를 상기 제2 단말로 전송한다. 실시예에서, 상기 방법은 상기 제1 단말이 상기 제2 단말의 위치 정보를 즉시 수신하기 위해 상기 제2 단말로 오프-네트워크 위치 요청 메시지를 전송하는 단계를 포함한다. 상기 방법은 상기 제1 단말이 상기 제2 단말로부 터 상기 제2 단말의 상기 위치 정보를 포함하는 오프-네트워크 위치 응답 메시지를 수신하는 단계를 포함하고, 여기서 상기 제2 단말은 상기 위치 정보를 상기 제1 단말에 공유하기 위해 VAL 사용자로부터 허가를 획득한다. 상기 방법은 상기 제1 단말이 상기 오프-네트워크 위치 관리 확인응답 메시지를 상기 제2 단말로 전송하는 단계 를 포함한다. 실시예에서, 상기 오프-네트워크 위치 요청 메시지는 상기 제1 단말에 저장된 주기적 위치 정보 타이머를 포함 하는 설정에 기초하여 전송된다. 실시예에서, 상기 오프-네트워크 위치 요청 메시지는 상기 제2 단말 또는 상기 제2 단말의 사용자의 식별자, 상 기 오프-네트워크 위치 요청 메시지의 식별자, 및 요청된 위치 정보를 포함하고, 상기 오프-네트워크 위치 응답 메시지는 동작의 성공 또는 실패를 나타내는 결과, 상기 오프-네트워크 위치 응답 메시지의 식별자, 상기 오프- 네트워크 위치 요청 메시지의 식별자, 및 상기 위치 정보를 포함한다. 실시예에서, 상기 제1 단말과 상기 제2 단말은 서로의 PC5 통신 범위 내에 있고, 서로의 계층-2 ID를 알고 알고 있으며, 상기 제1 단말의 VAL 서비스 사용자는 상기 제2 단말로 위치 보고를 요청할 권한이 있고, 상기 제1 단 말의 VAL 서비스 사용자는 상기 제2 단말로 즉각적인 위치 보고를 요청한다. 실시예에서, 상기 메시지 유형 정보 요소는 요청 또는 응답 또는 확인응답을 식별하는 데 사용된다. 상기 메시 지 유형은 상기 오프-네트워크 위치 관리 메시지이고, 상기 메시지 유형은 하나의 단말로부터 다른 단말로 상기 오프-네트워크 위치 관리 메시지를 전송하는 방향을 지시한다. 상기 오프-네트워크 위치 보고 트리거 설정 요청 메시지의 메시지 유형 정보 요소의 값 부분은 00000001(숫자 번호 1)이고, 상기 오프-네트워크 위치 보고 트리 거 설정 응답 메시지는 00000010(숫자 번호 2)이고, 상기 오프-네트워크 위치 관리 확인응답 메시지는 00000011(숫자 번호 3)이고, 오프-네트워크 위치 보고 메시지는 00000100(숫자 번호 4)이고, 오프-네트워크 위 치 보고 트리거 취소 메시지는 00000101(숫자 번호 5)이고, 오프-네트워크 위치 보고 트리거 취소 응답 메시지는 00000110(숫자 번호 6)이고, 오프-네트워크 위치 요청 메시지는 00000111(숫자 번호 7)이고, 오프-네트워크 위치 응답 메시지는 00001000(숫자 번호 8)이다. 실시예에서, 상기 방법은 상기 제1 단말이 카운터의 현재 값 및 상기 카운터의 최대값을 설정하는 단계를 포함 한다. 상기 방법은 상기 제1 단말이 상기 타이머를 초기화하는 단계를 포함한다. 상기 방법은 상기 제1 단말이 상기 제2 단말로 요청 메시지를 전송하고 상기 카운터 및 상기 타이머의 만료 시까지 상기 제2 단말로부터 응답 메시지를 수신하기 위해 대기하는 단계를 포함한다. 상기 방법은 상기 제1 단말이 상기 카운터 및 상기 타이머 의 만료 시간 내에 상기 응답 메시지를 수신하고, 상기 응답 메시지를 수신하면 상기 카운터 및 상기 타이머를 종료하고, 상기 요청 메시지가 상기 제2 단말에 성공적으로 전달되었다고 판단하는 단계, 및 상기 카운터 및 상 기 타이머의 만료 시간 내에 상기 응답 메시지를 수신하지 못하고, 상기 카운터 및 상기 타이머의 만료를 검출 하면 상기 카운터 및 상기 타이머를 종료하고, 상기 요청 메시지가 상기 제2 단말(100B)에 전달되지 못하였다고 판단하는 단계 중 하나를 수행하는 단계를 포함한다. 실시예에서, 상기 카운터 및 상기 타이머의 만료는 상기 타이머가 만료되었음을 검출하고, 상기 타이머가 만료 될 때마다 상기 카운터의 현재 값을 증가시키고, 상기 카운터의 현재 값을 증가시키면서 상기 타이머를 재시작 하고, 그리고 상기 카운터의 현재 값이 최대값 이상임을 검출하면 상기 카운터가 만료된 것으로 검출함으로써 결정된다. 따라서, 실시예들은 오프-네트워크에서의 위치 관리 방법을 제공한다. 상기 방법은 제2 단말이 오프-네트워크 위치 보고 트리거 설정을 포함하는 오프-네트워크 위치 보고 트리거 설정 메시지를 제1 단말로부터 수신하는 단 계를 포함하고, 여기서 상기 오프-네트워크 위치 보고 트리거 설정은 상기 제2 단말이 상기 제2 단말의 위치 정 보를 상기 제1 단말로 보고하도록 한다. 상기 방법은 상기 제2 단말이 상기 오프-네트워크 위치 보고 트리거 설 정을 메모리에 저장하는 단계를 포함한다. 상기 방법은 상기 제2 단말이 상기 제1 단말로 오프-네트워크 위치 보고 트리거 설정 응답 메시지를 전송하는 단계를 포함한다. 상기 방법은 상기 제2 단말이 상기 제1 단말로부터 오프-네트워크 위치 관리 확인응답(ACK) 메시지를 수신하는 단계를 포함한다. 상기 방법은 상기 제2 단말이 상 기 오프-네트워크 위치 보고 트리거 설정에 기초하여 위치 보고 이벤트의 트리거를 검출하는 단계를 포함한다. 상기 방법은 상기 제2 단말이 상기 제1 단말로 상기 제2 단말의 위치 정보를 포함하는 오프-네트워크 위치 보고 메시지를 전송하는 단계를 포함한다. 상기 방법은 상기 제2 단말이 상기 제1 단말로부터 오프-네트워크 위치 관 리 확인응답 메시지를 수신하는 단계를 포함한다. 실시예에서, 상기 제2 단말은 상기 오프-네트워크 위치 보고 트리거 설정 메시지를 수신하면서 초기 위치 보고 이벤트 트리거 설정을 저장한다. 실시예에서, 상기 방법은 상기 제2 단말이 상기 제1 단말로부터 오프-네트워크 위치 보고 트리거 취소 메시지를 수신하는 단계를 포함하고, 여기서 상기 오프-네트워크 위치 보고 트리거 취소 메시지는 상기 제2 단말이 상기 제1 단말로의 상기 제2 단말의 위치 정보 보고를 취소하도록 한다. 상기 방법은 상기 제2 단말이 상기 메모리에 서 상기 오프-네트워크 위치 보고 트리거 설정을 삭제하는 단계를 포함한다. 상기 방법은 상기 제2 단말이 상기 제1 단말로 오프-네트워크 위치 보고 트리거 취소 응답 메시지를 전송하는 단계를 포함한다. 상기 방법은 상기 제2 단말이 상기 제1 단말로부터 상기 오프-네트워크 위치 관리 확인응답 메시지를 수신하는 단계를 포함한다. 실시예에서, 상기 방법은 상기 제2 단말이 상기 제1 단말로부터 상기 제2 단말의 상기 위치 정보를 즉시 전송하 기 위한 오프-네트워크 위치 요청 메시지를 수신하는 단계를 포함한다. 상기 방법은 상기 제2 단말이 상기 제2 단말의 상기 위치 정보를 상기 제1 단말에 공유하기 위해 VAL 사용자로부터 허가를 획득하는 단계를 포함한다. 상기 방법은 상기 제2 단말이 상기 제1 단말로 상기 제2 단말의 상기 위치 정보를 포함하는 오프-네트워크 위치 응답 메시지를 전송하는 단계를 포함한다. 상기 방법은 상기 제2 단말이 상기 제1 단말로부터 상기 오프-네트워 크 위치 관리 확인응답 메시지를 수신하는 단계를 포함한다. 실시예에서, 상기 방법은 상기 제2 단말이 카운터의 현재 값 및 상기 카운터의 최대값을 설정하는 단계를 포함 한다. 상기 방법은 상기 제2 단말이 상기 타이머를 초기화하는 단계를 포함한다. 상기 방법은 상기 제2 단말이 상기 제1 단말로 응답 메시지를 전송하고 상기 카운터 및 상기 타이머의 만료 시까지 상기 제1 단말로부터 확인 응답 메시지를 수신하기 위해 대기하는 단계를 포함한다. 상기 방법은 상기 제2 단말이 상기 카운터 및 상기 타 이머의 만료 시간 내에 상기 확인응답 메시지를 수신하고, 상기 확인응답 메시지를 수신하면 상기 카운터 및 상 기 타이머를 종료하고, 상기 응답 메시지가 상기 제1 단말에 성공적으로 전달되었다고 판단하는 단계, 및 상기 카운터 및 상기 타이머의 만료 시간 내에 상기 확인응답 메시지를 수신하지 못하고, 상기 카운터 및 상기 타이 머의 만료를 검출하면 상기 카운터 및 상기 타이머를 종료하고, 상기 응답 메시지가 상기 제1 단말에 전달되지못하였다고 판단하는 단계 중 하나를 수행하는 단계를 포함한다. 따라서, 실시예들은 오프-네트워크에서의 위치 관리를 위한 제1 단말을 제공한다. 상기 제1 단말은 위치 관리 클라이언트 컨트롤러, 메모리, 프로세서를 포함하고, 상기 위치 관리 클라이언트 컨트롤러는 상기 메모리 및 상 기 프로세서에 연결된다. 상기 위치 관리 클라이언트 컨트롤러는 오프-네트워크 위치 보고 트리거 설정을 포함 하는 오프-네트워크 위치 보고 트리거 설정 메시지를 제2 단말로 전송하도록 구성되고, 여기서 상기 오프-네트 워크 위치 보고 트리거 설정은 상기 제2 단말이 상기 제2 단말의 위치 정보를 상기 제1 단말로 보고하도록 한다. 상기 위치 관리 클라이언트 컨트롤러는 상기 제2 단말로부터 오프-네트워크 위치 보고 트리거 설정 응답 메시지를 수신하도록 구성된다. 상기 위치 관리 클라이언트 컨트롤러는 상기 제2 단말로 오프-네트워크 위치 관 리 확인응답(ACK) 메시지를 전송하도록 구성된다. 상기 위치 관리 클라이언트 컨트롤러는 상기 제2 단말에서 위 치 보고 이벤트가 트리거되면 상기 제2 단말로부터 상기 제2 단말의 위치 정보를 포함하는 오프-네트워크 위치 보고 메시지를 수신하도록 구성된다. 상기 위치 관리 클라이언트 컨트롤러는 상기 위치 정보를 수신하기 위한 상기 오프-네트워크 위치 관리 확인응답 메시지를 제2 단말로 전송하도록 구성된다. 따라서, 실시예들은 오프-네트워크에서의 위치 관리를 위한 제2 단말을 제공한다. 상기 제2 단말은 위치 관리 클라이언트 컨트롤러, 메모리, 프로세서를 포함하고, 상기 위치 관리 클라이언트 컨트롤러는 상기 메모리 및 상 기 프로세서에 연결된다. 상기 위치 관리 클라이언트 컨트롤러는 오프-네트워크 위치 보고 트리거 설정을 포함 하는 오프-네트워크 위치 보고 트리거 설정 메시지를 제1 단말로부터 수신하도록 구성되고, 여기서 상기 오프- 네트워크 위치 보고 트리거 설정은 상기 제2 단말이 상기 제2 단말의 위치 정보를 상기 제1 단말로 보고하도록 한다. 상기 위치 관리 클라이언트 컨트롤러는 상기 오프-네트워크 위치 보고 트리거 설정을 상기 메모리에 저장 하도록 구성된다. 상기 위치 관리 클라이언트 컨트롤러는 상기 제1 단말로 오프-네트워크 위치 보고 트리거 설 정 응답 메시지를 전송하도록 구성된다. 상기 위치 관리 클라이언트 컨트롤러는 상기 제1 단말로부터 오프-네트 워크 위치 관리 확인응답(ACK) 메시지를 수신하도록 구성된다. 상기 위치 관리 클라이언트 컨트롤러는 상기 오 프-네트워크 위치 보고 트리거 설정에 기초하여 위치 보고 이벤트의 트리거를 검출하도록 구성된다. 상기 위치 관리 클라이언트 컨트롤러는 상기 제1 단말로 상기 제2 단말의 위치 정보를 포함하는 오프-네트워크 위치 보고 메시지를 전송하도록 구성된다. 상기 위치 관리 클라이언트 컨트롤러는 상기 제1 단말로부터 오프-네트워크 위 치 관리 확인응답 메시지를 수신하도록 구성된다. 실시예들의 이러한 측면들 및 그 밖의 측면들은 다음의 설명 및 첨부된 도면과 함께 고려될 때 더 잘 이해될 것 이다. 그러나, 이하의 설명은 바람직한 실시예들 및 그의 구체적인 세부사항을 나타내기는 하지만, 예시로서 제 공될 뿐이고 한정을 위한 것이 아님을 이해해야 한다. 실시예들의 범위 내에서 많은 변경들과 수정들이 이루어 질 수 있으며, 실시예들은 이러한 모든 변경들과 수정들을 포함한다."}
{"patent_id": "10-2023-7028579", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "실시예들의 주요 목적은 오프-네트워크에서 위치 관리를 위한 방법 및 단말을 제공하는 것이다. 실시예들의 다른 목적은 제1 단말이 설정에서 정의된 시간까지 제2 단말의 위치 정보를 획득하기 위해 제2 단말 에서 오프-네트워크 위치 보고 트리거 설정을 설정하는 것이다. 실시예들의 또 다른 목적은 제2 단말이 제1 단말로부터 요청을 수신하면 제2 단말의 위치 정보 보고를 취소하는 것이다. 실시예들의 또 다른 목적은 제1 단말로부터 수신된 주문형 요청에 기초하여 제2 단말의 위치 정보를 제1 단말로 제공하는 것이다. 실시예들의 또 다른 목적은 단말들 간의 메시지 전송의 성공 또는 실패를 결정하기 위한 타이머를 설정하는 것 이다. 실시예들의 또 다른 목적은 상이한 오프-네트워크 위치 관리 메시지들의 인코딩을 정의하는 것이다."}
{"patent_id": "10-2023-7028579", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명의 실시예들 및 그의 다양한 특징들과 세부사항들은 첨부된 도면에 도시되고 아래에서 상세히 설명되는 비-제한적인 실시예들을 참조하여 충분히 설명된다. 이때 실시예들을 불필요하게 모호하게 하지 않도록 하기 위 해 잘 알려진 구성요소들과 프로세싱 기술들에 대한 설명은 생략된다. 또한, 여기에 설명된 다양한 실시예들은 일부 실시예들이 하나 이상의 다른 실시예들과 결합하여 새로운 실시예들을 형성할 수 있기 때문에 반드시 상호 배타적인 것은 아니다. 본 명세서에서 사용된 용어 \"또는\"은 달리 나타내지 않는 한 비-배타적인 \"또는\"을 의미 한다. 여기에 사용된 예들은 단지 실시예들이 실행될 수 있는 방식을 쉽게 이해할 수 있도록 하고 통상의 기술 자가 실시예들을 실행할 수 있도록 하기 위한 것일 뿐이다. 따라서, 그러한 예들은 본 발명의 실시예들의 범위 를 한정하는 것으로 해석되어서는 안 된다. 해당 분야에서 전통적인 것처럼, 실시예들은 설명된 기능 또는 기능들을 수행하는 블록의 관점에서 설명되고 도 시될 수 있다. 본 명세서에서 매니저, 부(unit), 모듈, 하드웨어 구성요소 등으로 지칭될 수 있는 이들 블록은 논리 게이트, 집적 회로, 마이크로프로세서, 마이크로컨트롤러, 메모리 회로, 수동 전자 부품, 능동 전자 부품, 광학 부품, 유선 회로 등과 같은 아날로그 및/또는 디지털 회로에 의해 물리적으로 구현되며, 선택적으로 펌웨 어 및 소프트웨어에 의해 구동될 수 있다. 회로는 예를 들어 하나 이상의 반도체 칩 내에 또는 인쇄 회로 기판 등과 같은 기판 상에 구현될 수 있다. 블록을 구성하는 회로는 전용 하드웨어에 의해, 또는 프로세서(예: 하나 이상의 프로그래밍된 마이크로프로세서 및 관련 회로)에 의해, 또는 블록의 일부 기능을 수행하는 전용 하드웨 어와 블록의 다른 기능을 수행하는 프로세서의 조합에 의해 구현될 수 있다. 실시예의 각 블록은 본 발명의 범 위를 벗어나지 않고 2개 이상의 상호 작용하는 별개의 블록들로 물리적으로 분리될 수 있다. 마찬가지로, 실시 예의 블록은 본 발명의 범위를 벗어나지 않고 더 복잡한 블록으로 물리적으로 결합될 수 있다. 첨부된 도면은 다양한 기술적 특징들을 쉽게 이해할 수 있도록 하기 위해 사용된 것으로, 본 명세서에 제시된 실시예들은 첨부된 도면에 의해 한정되지 않는다. 이와 같이, 본 발명은 첨부된 도면에 특별히 기재된 것들 외 에도 모든 변경들, 균등물들 및 대체물들로 확장되는 것으로 해석되어야 한다. 본 명세서에서 제1, 제2 등의 용 어가 다양한 구성요소들을 설명하기 위해 사용될 수 있지만, 이러한 용어가 그 구성요소들을 한정하는 것은 아 니다. 이러한 용어는 일반적으로 하나의 구성요소를 다른 구성요소와 구별하기 위해 사용될 뿐이다.본 명세서 전반에 걸쳐, \"제1 단말\" 및 \"단말-1\"이라는 용어는 동일한 의미로 혼용되어 사용되며, \"제2 단말\" 및 \"단말-2\"라는 용어는 동일한 의미로 혼용되어 사용된다. \"단말\" 및 \"VAL 단말\"이라는 용어는 동일한 의미로 혼용되어 사용되며, \"위치 관리 클라이언트\" 및 \"위치 관리 클라이언트 컨트롤러\"라는 용어는 동일한 의미로 혼 용되어 사용된다. 여기에서의 실시예들은 오프-네트워크에서 위치 관리를 위한 방법을 제공한다. 이 방법은 제1 단말이 설정(즉, 오프-네트워크 위치 보고 트리거 설정)을 포함하는 요청(즉, 오프-네트워크 위치 보고 트리거 설정 메시지)을 제2 단말로 전송하는 단계를 포함하며, 이 설정은 제2 단말이 오프-네트워크에서 제2 단말의 위치 정보를 제1 단말로 보고하도록 한다. 이 방법은 제2 단말이 설정을 저장하고 응답(즉, 오프-네트워크 위치 보고 트리거 설 정 응답 메시지)을 제1 단말로 전송하는 단계를 포함한다. 이 방법은 제2 단말로부터 응답을 수신하면 제1 단말 이 오프-네트워크 위치 관리 확인응답(ACK: Acknowledgment) 메시지를 제2 단말로 전송하는 단계를 포함한다. 이 방법은 제2 단말이 설정에 기초하여 위치 보고 이벤트의 트리거를 검출하는 단계를 포함한다. 또한, 이 방법 은 제2 단말이 제2 단말의 위치 정보를 포함하는 오프-네트워크 위치 보고 메시지를 오프-네트워크에서 제1 단 말로 전송하는 단계를 포함한다. 이 방법은 오프-네트워크 위치 보고 메시지를 수신하면 제1 단말이 오프-네트 워크 위치 관리 확인응답 메시지를 제2 단말로 전송하는 단계를 포함한다. 주변 차량들의 신뢰할 수 있는 위치를 수신하는 것은 V2X 사용 케이스들에서 중요한 측면이다. 오프-네트워크 통신에서 주변 차량들의 위치 정보를 얻고 관리하는 것은 더욱 어렵다. 제안된 방법은 제1 단말이 제2 단말에 대한 트리거를 설정하고, 설정을 취소하고, 제2 단말의 위치 정보에 대한 트리거 및 주문형 요청에 기초하여 위 치 보고를 전송하도록 함으로써, 오프-네트워크 통신에서 위치 정보를 관리하는 것을 포함한다. 또한, 제안된 방법은 두 단말들이 메시지들을 파싱하고 이해하여 응답할 수 있도록 하는 상이한 오프-네트워크 위치 관리 메 시지들의 인코딩을 포함한다. 이제 도면(특히 도 1 내지 도 15)을 참조하면, 바람직한 실시예들이 도시되어 있다. 도 1은 본 명세서에 개시된 실시예에 따른, 오프-네트워크에서의 위치 관리를 위한 단말의 블록도이다. 단 말은 예를 들어 스마트폰, 태블릿 컴퓨터, PDA(Personal Digital Assistance), 데스크탑 컴퓨터, IoT(Internet of Things), 웨어러블 장치 등을 포함하나, 이에 한정되지는 않는다. 실시예에서, 단말은 위 치 관리 클라이언트 컨트롤러, 메모리, 프로세서, 및 통신부를 포함한다. 위치 관리 클라 이언트 컨트롤러는 논리 게이트, 집적 회로, 마이크로 프로세서, 마이크로 컨트롤러, 메모리 회로, 수동 전자 부품, 능동 전자 부품, 광학 부품, 하드와이어 회로 등과 같은 처리 회로에 의해 구현되며, 선택적으로 펌 웨어에 의해 구동된다. 이 회로는 예를 들어 하나 이상의 반도체 칩 내에, 또는 인쇄 회로 기판 등과 같은 기판 지지체 상에 구현될 수 있다. 메모리는 초기 위치 보고 이벤트 트리거 설정, 및 주기적인 위치 정보 타이머를 포함하는 설정을 저장한다. 메모리는 오프-네트워크 위치 보고 트리거 설정 메시지를 수신하면 오프-네트워크 위치 보고 트 리거 설정을 저장한다. 메모리는 프로세서에 의해 실행될 명령들을 저장한다. 메모리는 비휘발 성 저장 소자를 포함할 수 있다. 비휘발성 저장 소자들은 예를 들어 자기 하드 디스크, 광 디스크, 플로피 디스 크, 플래시 메모리, 또는 EPROM(electrically programmable memory) 또는 EEPROM(electrically erasable and programmable) 메모리의 형태를 포함할 수 있다. 또한, 메모리는 일부 예들에서 비-일시적 저장 매체로 간 주될 수 있다. \"비-일시적(non-transitory)\"이라는 용어는 저장 매체가 반송파 또는 전파되는 신호로 구현되지 않음을 나타낼 수 있다. 그러나 \"비-일시적\"이라는 용어는 메모리가 움직이지 않는 것으로 해석되어서는 안 된다. 일부 예들에서, 메모리는 메모리보다 많은 양의 정보를 저장하도록 구성될 수 있다. 특정 예들에 서, 비-일시적 저장 매체는 시간이 지남에 따라 변경될 수 있는 데이터를 저장할 수 있다(예를 들어, 램(RAM: random access memory) 또는 캐시(cache)). 메모리는 내부 저장 장치일 수 있거나 단말의 외부 저장 장치, 클라우드 스토리지, 또는 그 밖의 다른 유형의 외부 스토리지일 수 있다. 프로세서는 메모리에 저장된 명령들을 실행하도록 구성된다. 프로세서는 CPU(Central Processing Unit), AP(Application Processor) 등과 같은 범용 프로세서, GPU(Graphics Processing Unit), VPU(Visual Processing Unit) 등과 같은 그래픽 전용 처리 장치일 수 있다. 프로세서는 명령들을 실행하기 위해 다수의 코어들을 포함할 수 있다. 통신부는 단말의 하드웨어 구성요소들 사이에서 내부적으로 통신하도록 구성된다. 또한, 통신부는 하나 이상의 네트워크들(예를 들어, 무선 기술)을 통해 단말과 다른 장치들 사이의 통신을 용이하게 하도록 구성된다. 통신부는 유무선 통신을 가능하게 하는 규격에 특 화된 전자회로를 포함한다.실시예에서, 제1 단말(100A)과 제2 단말(100B)은 서로의 PC5 통신 범위 내에서 V2X 기술을 사용하여 통신하고, 서로의 계층-2 식별자(ID: Identifier)를 알고 있다. 제1 단말(100A)의 수직 어플리케이션 계층(VAL: Vertical Application Layer) 서비스 사용자는 제2 단말(100B)로 위치 보고 트리거를 설정할 권한이 있다. 제1 단말 (100A)의 VAL 서비스 사용자는 제2 단말(100B)로 위치 보고 트리거를 설정하도록 요청한다. 제1 단말(100A)과 제2 단말(100B)은 모두 동일한 단말의 아키텍처를 가지지만, 제1 단말(100A)의 위치 관리 클라이언트 컨트 롤러(110A)와 제2 단말(100B)의 위치 관리 클라이언트 컨트롤러(110B)의 기능들은 서로 다르며, 그 기능들에 대 해서는 후술한다. 위치 관리 클라이언트 컨트롤러(110A)는 오프-네트워크 위치 보고 트리거 설정을 포함하는 오프-네트워크 위치 보고 트리거 설정 메시지를 제2 단말(100B)로 전송하고, 여기서 오프-네트워크 위치 보고 트리거 설정은 제2 단 말(100B)이 제2 단말(100B)의 위치 정보를 제1 단말(100A)로 보고하도록 한다. 실시예에서, 오프-네트워크 위치 보고 트리거 설정은 제2 단말(100B) 또는 제2 단말(100B)의 사용자의 식별자, 오프-네트워크 위치 보고 트리거 설정 메시지의 식별자, 요청된 위치 정보, 트리거 기준(들)의 목록, 연속적인 보고들 사이의 최소 시간, 및 설 정의 수명 시간을 포함한다. 제2 단말(100B)이 오프-네트워크 위치 보고 트리거 설정 메시지를 수신하면, 위치 관리 클라이언트 컨트롤러(110B)는 메모리(120B)에 오프-네트워크 위치 보고 트리거 설정을 저장한다. 실시예에 서, 위치 관리 클라이언트 컨트롤러(110B)는 오프-네트워크 위치 보고 트리거 설정 메시지를 수신하는 동안 초 기 위치 보고 이벤트 트리거 설정을 저장한다. 또한, 위치 관리 클라이언트 컨트롤러(110B)는 제1 단말(100A)로 오프-네트워크 위치 보고 트리거 설정 응답 메 시지를 전송한다. 실시예에서, 오프-네트워크 위치 보고 트리거 설정 응답 메시지는 동작의 성공 또는 실패를 나타내는 결과, 오프-네트워크 위치 보고 트리거 설정 응답 메시지의 식별자, 오프-네트워크 위치 보고 트리거 설정 메시지의 식별자, 및 실패 이유를 포함한다. 제1 단말(100A)이 오프-네트워크 위치 보고 트리거 설정 응답 메시지를 수신하면, 위치 관리 클라이언트 컨트롤러(110A)는 오프-네트워크 위치 관리 확인응답(ACK) 메시지를 제2 단말(100B)로 전송한다. 실시예에서, 오프-네트워크 위치 관리 확인응답 메시지는 제1 단말(100A)에서 수신 된 이전 오프-네트워크 위치 관리 메시지의 식별자를 포함한다. 위치 관리 클라이언트 컨트롤러(110B)는 오프- 네트워크 위치 관리 확인응답 메시지를 수신한다. 실시예에서, 위치 관리 클라이언트 컨트롤러(110A)는 오프-네트워크 위치 관리 메시지의 메시지 유형 정보 요소 (IE: Information Element)를 LOCATION MANAGEMENT ACK로, 오프-네트워크 위치 관리 메시지의 발신 (originating) VAL 사용자 ID IE를 자신의 VAL 사용자 ID로, 오프-네트워크 위치 관리 메시지의 착신 (terminating) VAL 사용자 ID IE를 타깃 VAL 사용자의 VAL 사용자 ID로 설정함으로써 오프-네트워크 위치 관리 메시지를 생성한다. 또한, 위치 관리 클라이언트 컨트롤러(110A)는 제2 단말(100B)로 확인응답하기 위해 오프- 네트워크 위치 관리 메시지를 제2 단말(100B)로 전송한다. 위치 관리 클라이언트 컨트롤러(110B)는 오프-네트워크 위치 보고 트리거 설정에 기초하여 위치 보고 이벤트의 트리거를 검출한다. 또한, 위치 관리 클라이언트 컨트롤러(110B)는 제2 단말(100B)의 위치 정보를 포함하는 오 프-네트워크 위치 보고 메시지를 제1 단말(100A)로 전송한다. 실시예에서, 오프-네트워크 위치 보고 메시지는 오프-네트워크 위치 보고 메시지의 식별자, 트리거 이벤트, 위치 정보, 및 확인응답(ACK) 요구사항을 포함한다. 제1 단말(100A)이 오프-네트워크 위치 보고 메시지를 수신하면, 위치 관리 클라이언트 컨트롤러(110A)는 오프- 네트워크 위치 관리 확인응답 메시지를 제2 단말(100B)로 전송한다. 실시예에서, 위치 정보를 공유하기 위해 제2 단말(100B)를 설정한 후, 위치 관리 클라이언트 컨트롤러(110A)는 제2 단말(100B)로 오프-네트워크 위치 보고 트리거 취소 메시지를 전송할 수 있으며, 여기서 오프-네트워크 위 치 보고 트리거 취소 메시지는 제2 단말(100B)이 제1 단말(100A)로의 제2 단말(100B)의 위치 정보 보고를 취소 하도록 한다. 실시예에서, 오프-네트워크 위치 보고 트리거 취소 메시지는 제2 단말(100B) 또는 제2 단말(100 B)의 사용자의 식별자, 및 오프-네트워크 위치 보고 트리거 취소 메시지의 식별자를 포함한다. 제2 단말(100B) 이 오프-네트워크 위치 보고 트리거 취소 메시지를 수신하면, 위치 관리 클라이언트 컨트롤러(110B)는 메모리 (120B)에서 오프-네트워크 위치 보고 트리거 설정을 삭제한다. 또한, 위치 관리 클라이언트 컨트롤러(110B)는 제1 단말(100A)로 오프-네트워크 위치 보고 트리거 취소 응답 메시지를 전송한다. 실시예에서, 오프-네트워크 위치 보고 트리거 취소 응답 메시지는 동작의 성공 또는 실패를 나타내는 결과, 오프-네트워크 위치 보고 트리 거 취소 메시지의 식별자, 및 오프-네트워크 위치 보고 트리거 취소 응답 메시지의 식별자를 포함한다. 제1 단 말(100A)이 오프-네트워크 위치 보고 트리거 취소 응답 메시지를 수신하면, 위치 관리 클라이언트 컨트롤러 (110A)는 제1 단말(100A)이 오프-네트워크 위치 보고 트리거 취소 응답 메시지를 수신하였음을 나타내기 위해제2 단말(100B)로 오프-네트워크 위치 관리 확인응답 메시지를 전송한다. 다른 실시예에서, 제1 단말(100A)과 제2 단말(100B)은 서로의 PC5 통신 범위 내에서 V2X 기술을 사용하여 통신 하고, 서로의 계층-2 ID를 알고 있다. 제1 단말(100A)의 VAL 서비스 사용자는 제2 단말(100B)로 위치 보고를 요 청할 권한이 있다. 제1 단말(100A)의 VAL 서비스 사용자는 제2 단말(100B)에게 즉각적인 위치 보고를 요청한다. 제1 단말(100A)과 제2 단말(100B)은 모두 동일한 단말의 아키텍처를 가지지만, 제1 단말(100A)의 위치 관 리 클라이언트 컨트롤러(110A)와 제2 단말(100B)의 위치 관리 클라이언트 컨트롤러(110B)의 기능들은 서로 다르 며, 그 기능들에 대해서는 후술한다. 위치 관리 클라이언트 컨트롤러(110A)는 제2 단말(100B)의 위치 정보를 즉시 수신하기 위해 제2 단말(100B)로 오프-네트워크 위치 요청 메시지를 전송한다. 실시예에서, 오프-네트워크 위치 요청 메시지는 제2 단말(100B) 또는 제2 단말(100B)의 사용자의 식별자, 오프-네트워크 위치 요청 메시지의 식별자, 및 요청된 위치 정보를 포 함한다. 실시예에서, 오프-네트워크 위치 요청 메시지는 제1 단말(100A)에 저장된 주기적 위치 정보 타이머를 포함하는 설정에 기초하여 전송된다. 오프-네트워크 위치 응답 메시지를 수신하면, 위치 관리 클라이언트 컨트 롤러(110B)는 제2 단말(100B)의 위치 정보를 제1 단말(100A)에 공유하기 위해 VAL 사용자로부터 허가를 획득한 다. 또한, 위치 관리 클라이언트 컨트롤러(110B)는 제2 단말(100B)의 위치 정보를 포함하는 오프-네트워크 위치 응 답 메시지를 제1 단말(100A)로 전송한다. 실시예에서, 오프-네트워크 위치 응답 메시지는 동작의 성공 또는 실 패를 나타내는 결과, 오프-네트워크 위치 응답 메시지의 식별자, 오프-네트워크 위치 요청 메시지의 식별자, 및 위치 정보를 포함한다. 제1 단말(100A)이 오프-네트워크 위치 응답 메시지를 수신하면, 위치 관리 클라이언트 컨트롤러(110A)는 오프-네트워크 위치 관리 확인응답 메시지를 제2 단말(100B)로 전송한다. 실시예에서, 위치 관리 클라이언트 컨트롤러(110A)는 카운터의 현재 값과 카운터의 최대값을 설정한다. 또한, 위치 관리 클라이언트 컨트롤러(110A)는 타이머를 초기화한다. 또한, 위치 관리 클라이언트 컨트롤러(110A)는 요청 메시지(즉, 오프-네트워크 위치 보고 트리거 설정 요청 메시지, 오프-네트워크 위치 보고 트리거 취소 메 시지, 및 오프-네트워크 위치 요청 메시지)를 제2 단말(100B)로 전송하고, 카운터 및 타이머의 만료 시까지 제2 단말(100B)로부터 응답 메시지(즉, 오프-네트워크 위치 보고 트리거 설정 응답 메시지, 오프-네트워크 위치 보 고 메시지, 오프-네트워크 위치 보고 트리거 취소 응답 메시지, 및 오프-네트워크 위치 응답 메시지)를 수신하 기 위해 대기한다. 카운터 및 타이머의 만료 시간 내에 응답 메시지를 수신하면, 위치 관리 클라이언트 컨트롤러(110A)는 카운터 및 타이머를 종료하고, 요청 메시지가 제2 단말(100B)에 성공적으로 전달되었다고 판단한다. 카운터 및 타이머 만료 시간 내에 응답 메시지를 수신하지 못하면, 위치 관리 클라이언트 컨트롤러(110A)는 카운터 및 타이머 만 료 시에 카운터 및 타이머를 종료하고, 요청 메시지가 제2 단말(100B)에 전달되지 못하였다고 판단한다. 실시예에서, 위치 관리 클라이언트 컨트롤러(110B)는 카운터의 현재 값과 카운터의 최대값을 설정한다. 또한, 위치 관리 클라이언트 컨트롤러(110B)는 타이머를 초기화한다. 또한, 위치 관리 클라이언트 컨트롤러(110B)는 응답 메시지를 제1 단말(100A)로 전송하고, 카운터와 타이머의 만료 시까지 제1 단말(100A)로부터 확인응답 메 시지(즉, 오프-네트워크 위치 관리 확인응답 메시지)를 수신하기 위해 대기한다. 카운터 및 타이머의 만료 시간 내에 확인응답 메시지를 수신하면, 위치 관리 클라이언트 컨트롤러(110B)는 카운터 및 타이머를 종료하고, 응답 메시지가 제1 단말(100A)에 성공적으로 전달되었다고 판단한다. 카운터 및 타이머 만료 시간 내에 확인응답 메 시지를 수신하지 못하면, 위치 관리 클라이언트 컨트롤러(110B)는 카운터 및 타이머 만료 시에 카운터 및 타이 머를 종료하고, 응답 메시지가 제1 단말(100A)에 전달되지 못하였다고 판단한다. 실시예에서, 타이머의 만료를 검출하면, 위치 관리 클라이언트 컨트롤러(110A, 110B)는 타이머가 만료될 때마다 카운터의 현재 값을 증가시킨다. 또한, 위치 관리 클라이언트 컨트롤러(110A, 110B)는 카운터의 현재 값을 증가 시키면서 타이머를 재시작한다. 또한, 위치 관리 클라이언트 컨트롤러(110A, 110B)는 카운터의 현재 값이 최대 값 이상임을 검출하면 카운터가 만료된 것으로 검출한다. 실시예에서, 오프-네트워크 위치 보고 트리거 설정 요청 메시지의 메시지 유형 정보 요소의 값 부분은 00000001(숫자 번호 1)이고, 오프-네트워크 위치 보고 트리거 설정 응답 메시지는 00000010(숫자 번호 2)이고, 오프-네트워크 위치 관리 확인응답 메시지는 00000011(숫자 번호 3)이고, 오프-네트워크 위치 보고 메시지는 00000100(숫자 번호 4)이고, 오프-네트워크 위치 보고 트리거 취소 메시지는 00000101(숫자 번호 5)이고, 오프- 네트워크 위치 보고 트리거 취소 응답 메시지는 00000110(숫자 번호 6)이고, 오프-네트워크 위치 요청 메시지는00000111(숫자 번호 7)이고, 오프-네트워크 위치 응답 메시지는 00001000(숫자 번호 8)이다. 도 1은 단말의 하드웨어 구성요소들을 도시하지만, 다른 실시예들은 이에 한정되지 않는다. 다른 실시예들 에서, 단말은 더 적거나 더 많은 수의 구성요소들을 포함할 수 있다. 또한, 구성요소들의 명칭은 예시 목 적으로만 사용되며 본 발명의 범위를 한정하지 않는다. 하나 이상의 구성요소들이 함께 결합되어 오프-네트워크 에서의 위치 관리를 위해 동일하거나 실질적으로 유사한 기능을 수행할 수 있다. 도 2는 본 명세서에 개시된 실시예에 따른, 오프-네트워크에서의 위치 관리 방법을 도시하는 흐름도이다. 실시예에서, 이 방법은 위치 관리 클라이언트 컨트롤러(110A)가 흐름도의 단계들 201, 204, 207을 수행하 도록 한다. 실시예에서, 이 방법은 위치 관리 클라이언트 컨트롤러(110B)가 흐름도의 단계들 202, 203, 205, 206을 수행하도록 한다. 단계 201에서, 이 방법은 오프-네트워크 위치 보고 트리거 설정을 포함하는 오프- 네트워크 위치 보고 트리거 설정 메시지를 제2 단말로 전송하는 단계를 포함하고, 여기서 오프-네트워크 위치 보고 트리거 설정은 제2 단말이 자신의 위치 정보를 제1 단말로 보고하도록 한다. 단계 202에서, 이 방법은 오 프-네트워크 위치 보고 트리거 설정을 메모리(120B)에 저장하는 단계를 포함한다. 단계 203에서, 이 방법은 오프-네트워크 위치 보고 트리거 설정 응답 메시지를 제1 단말로 전송하는 단계를 포 함한다. 단계 204에서, 이 방법은 오프-네트워크 위치 보고 트리거 설정 응답 메시지를 수신하면 오프-네트워크 위치 관리 확인응답 메시지를 제2 단말로 전송하는 단계를 포함한다. 단계 205에서, 이 방법은 오프-네트워크 위치 보고 트리거 설정을 기반으로 위치 보고 이벤트의 트리거를 검출하는 단계를 포함한다. 단계 206에서, 이 방법은 제2 단말의 위치 정보를 포함하는 오프-네트워크 위치 보고 메시지를 제1 단말로 전송하는 단계를 포함 한다. 단계 207에서, 이 방법은 위치 정보를 수신하기 위한 오프-네트워크 위치 관리 확인응답 메시지를 제2 단 말로 전송하는 단계를 포함한다. 흐름도에서 다양한 동작들, 작용들, 블록들, 단계들 등은 제시된 순서로 수행되거나, 다른 순서로 수행되 거나, 또는 동시에 수행될 수 있다. 또한, 일부 실시예들에서, 그러한 동작들, 작용들, 블록들, 단계들 등의 일 부는 본 발명의 범위를 벗어나지 않고 제외되거나, 추가되거나, 수정되거나, 생략될 수 있다. 도 3은 본 명세서에 개시된 실시예들에 따라, 제2 단말의 위치 정보를 제1 단말로 보고하도록 제2 단말을 설정 하기 위한 제1 단말과 제2 단말 사이의 시그널링을 도시하는 순서도이다. 도 3은 제1 단말(100A)에 상주하는 위 치 관리 클라이언트 컨트롤러(110A)로부터 제2 단말(100B)에 상주하는 위치 관리 클라이언트 컨트롤러(110B)로 위치 보고 트리거를 설정하는 제안된 절차를 도시한다. 제1 단말(100A)과 제2 단말(100B)은 서로의 PC5 통신 범 위 내에 있고 서로의 계층-2 ID를 알고 있다고 가정한다. 제1 단말(100A)의 VAL 서비스 사용자는 제2 단말 (100B)로 위치 보고 트리거를 설정할 권한이 있다. 제1 단말(100A)의 VAL 서비스 사용자는 제2 단말(100B)로 위 치 보고 트리거를 설정하도록 요청한다. 301에서, 제1 단말(100A)의 위치 관리 클라이언트 컨트롤러(110A)는 초기 위치 보고 이벤트 트리거 설정 또는 VAL 단말(100B)의 위치를 보고하기 위한 후속 업데이트를 포함하는 오프-네트워크 위치 보고 트리거 설정 메시 지를 제2 단말(100B)의 위치 관리 클라이언트 컨트롤러(110B)로 전송한다. 오프-네트워크 위치 보고 트리거 설 정 메시지는 표 1에 명시된 바와 같은 정보 요소들을 포함한다. 표 1 정보 요소 상태 설명 식별자 M 위치 보고 설정이 타겟팅되는 VAL 사용자의 식별자 또는 VAL 단말의 식 별자 메시지 ID M 메시지의 식별자; 위치 관리 클라이언트 컨트롤러들의 쌍 간에 고유함 요청된 위치 정보 M 요청된 위치 정보를 식별함 트리거 기준(들)의 목록M위치 관리 클라이언트 컨트롤러가 위치 보고를 보낼 시점을 식별하는 하 나 이상의 트리거 기준. 각 트리거 기준은 trigger-id로 식별됨 연속된 보고들 간의 최소 시간O없는 경우 기본값은 0이고 그렇지 않으면 연속된 보고들 사이의 시간 간 격을 나타냄 설정의 수명 시간 O 위치 보고 설정이 유효한 때까지의 시간 302에서, 위치 관리 클라이언트 컨트롤러(110B)는 위치 보고 설정을 저장하고, 오프-네트워크 위치 보고 트리거 설정 응답 메시지를 위치 관리 클라이언트 컨트롤러(110A)로 전송한다. 오프-네트워크 위치 보고 트리거 설정 응답 메시지는 위치 관리 클라이언트 컨트롤러(110A)에게 확인응답의 역할을 한다.오프-네트워크 위치 보고 트리거 설정 응답 메시지는 표 2에 명시된 바와 같은 정보 요소들을 포함한다. 표 2 정보 요소 상태 설명 결과 M 동작에 대한 성공 또는 실패를 나타냄 메시지 ID M 이 메시지의 식별자; 위치 관리 클라이언트 컨트롤러들의 쌍 간에 고유 함 회신용 메시지 ID M 이 응답 메시지가 전송되기 위한 요청 메시지의 식별자 원인 O 실패의 이유를 제공함 303에서, 위치 관리 클라이언트 컨트롤러(110A)는 오프-네트워크 위치 보고 트리거 설정 응답 메시지를 수신하 면 오프-네트워크 위치 관리 확인응답(ACK) 메시지를 위치 관리 클라이언트 컨트롤러(110B)로 전송한다. 오프- 네트워크 위치 관리 확인응답 메시지는 표 3에 명시된 바와 같은 정보 요소들을 포함한다. 표 3 정보 요소 상태 설명 메시지 ID M 이 확인응답이 전송되기 위한 메시지의 식별자 실시예에서, 오프-네트워크 위치 보고 트리거 설정 응답 메시지를 전송하는 단말(100B)은 이 응답 메시지에 대 한 확인응답을 전송하지 않도록 지시할 수 있다. 다른 실시예에서, 응답 메시지에 대한 확인응답을 전송하는 것 은 선택사항이다. 발신 클라이언트(즉, 제1 단말(100A))의 프로토콜 측면은 다음과 같다. VAL 사용자로부터 다른 VAL 사용자에 대 한 오프-네트워크 위치 정보 트리거를 설정하기 위한 요청을 수신하면, 서비스 인에이블러 아키텍처 계층 오프- 네트워크 위치 관리 클라이언트 컨트롤러(SLM-C: Service enabler architecture layer off-network Location management client controller)는 오프-네트워크 위치 관리 메시지를 생성한다. 오프-네트워크 위치 관리 메시 지에서, SLM-C는 메시지 유형 IE를 \"LOCATION REPORTING TRIGGER CONFIGURATION REQUEST\"로 설정하고, 발신 VAL 사용자 ID IE를 자신의 VAL 사용자 ID로 설정하고, 착신 VAL 사용자 ID IE를 타깃 VAL 사용자의 VAL 사용자 ID로 설정하고, 메시지 ID IE를 이 메시지의 고유 식별자로 설정하고, application/vnd.3gpp.seal-location- info+xml MIME 본문을 생성한다. <location-info> 루트 요소(root element)에서, SLM-C는 요청된 위치 보고 요소들, 위치 보고를 전송하기 위해 지정된 위치 트리거 기준을 나타내는 <triggering-criteria> 하위 요소(child element), 연속된 보고들 사이의 최소 시간(초)을 지정하는 <minimum- interval-length> 하위 요소를 포함시킨다. SLM-C는 위치 관리 데이터 IE 를 application/vnd.3gpp.seal-location-info+xml MIME 본문으로 설정하고, 메시지 전송 시나리오에 명시된 바 와 같이 메시지를 전송한다. \"LOCATION REPORTING TRIGGER CONFIGURATION RESPONSE\"로 설정된 메시지 유형 IE 를 포함하는 오프-네트워크 위치 관리 메시지를 수신하면, SLM-C는 확인응답 전송 시나리오에 명시된 바와 같이 확인응답 메시지를 전송한다. 착신 클라이언트(즉, 제2 단말(100B))의 프로토콜 측면은 다음과 같다. \"LOCATION REPORTING TRIGGER CONFIGURATION REQUEST\"로 설정된 메시지 유형 IE를 포함하는 오프-네트워크 위치 관리 메시지를 수신하면, SLM-C는 <configuration> 요소들의 내용을 저장하고, 그에 따라 위치 보고 트리거를 설정하고, 최소 보고 간격 타이머를 시작하고, 오프-네트워크 위치 관리 메시지를 생성한다. 오프-네트워크 위치 관리 메시지에서, SLM- C는 메시지 유형 IE를 \"LOCATION REPORTING TRIGGER CONFIGURATION RESPONSE\"로 설정하고, 발신 VAL 사용자 ID IE를 자신의 VAL 사용자 ID로 설정하고, 착신 VAL 사용자 ID IE를 발신 VAL 사용자의 VAL 사용자 ID로 설정하고, 메시지 ID IE를 이 메시지의 고유 식별자로 설정하고, 회신용 메시지 ID IE를 수신된 메시지의 메시 지 ID IE 값으로 설정하고, 메시지 전송 시나리오에 명시된 바와 같이 메시지를 전송한다. 도 4는 본 명세서에 개시된 실시예들에 따라, 제2 단말이 제1 단말로 위치 정보를 보고하는 것을 도시하는 순서 도이다. 도 4는 제2 단말(100B)에 상주하는 위치 관리 클라이언트 컨트롤러(110B)로부터 제1 단말(100A)에 상주 하는 위치 관리 클라이언트 컨트롤러(110A)로 오프-네트워크 위치 보고를 전송하는 제안된 절차를 도시한다. 제 1 단말(100A)과 제2 단말(100B)은 서로의 PC5 통신 범위 내에 있고 서로의 계층-2 ID를 알고 있다고 가정한다. 위치 관리 클라이언트 컨트롤러(110A)는 위치 보고 트리거 설정에 명시된 바와 같이 위치 관리 클라이언트 컨트롤러(110B)로 오프-네트워크 위치 보고 트리거를 미리 설정하였다. 401에서, 위치 관리 클라이언트 컨트롤러(110B)는 위치 보고 트리거를 모니터링하고 이벤트 중 하나가 발생한다. 402에서, 위치 관리 클라이언트 컨트롤러(110B)는 오프-네트워크 위치 보고 메시지를 전송한다. 오프 -네트워크 위치 보고 메시지는 표 4에 명시된 바와 같은 정보 요소들을 포함한다. 표 4 정보 요소 상태 설명 메시지 ID M 메시지의 식별자; 위치 관리 클라이언트 컨트롤러들의 쌍 간에 고유함 트리거 이벤트 M 보고 전송을 트리거한 이벤트의 식별자 위치 정보 M 위치 정보 403에서, 위치 관리 클라이언트 컨트롤러(110A)는 오프-네트워크 위치 보고 메시지를 수신하면 위치 관리 클라 이언트 컨트롤러(110B)로 오프-네트워크 위치 관리 확인응답 메시지를 전송한다. 오프-네트워크 위치 관리 확인 응답 메시지는 표 3에 명시된 바와 같은 정보 요소들을 포함한다. 실시예에서, 오프-네트워크 위치 보고를 전송하는 단말(100B)은 이 보고 메시지에 대한 확인응답을 전송하지 않 도록 지시할 수 있다. 다른 실시예에서, 보고 메시지에 대한 확인응답을 전송하는 것은 선택사항이다. 발신 클라이언트(즉, 제1 단말(100A))의 프로토콜 측면은 다음과 같다. 오프-네트워크 위치 정보를 보고하기 위 해, SLM-C는 오프-네트워크 위치 관리 메시지를 생성한다. 오프-네트워크 위치 관리 메시지에서, SLM-C는 메시 지 유형 IE를 \"LOCATION REPORT\"로 설정하고, 발신 VAL 사용자 ID IE를 자신의 VAL 사용자 ID로 설정하고, 착 신 VAL 사용자 ID IE를 타깃 VAL 사용자의 VAL 사용자 ID로 설정하고, 메시지 ID IE를 이 메시지의 고유 식별자 로 설정하고, application/vnd.3gpp.seal-location-info+xml MIME 본문을 생성한다. <location-info> 루트 요 소에서, SLM-C는 <report> 요소를 포함시키고, 보고가 위치 요청에 의해 트리거되었다면, 수신된 요청 내의 <request-id> 속성의 값으로 설정된 <report-id> 속성을 추가한다. <report> 요소에서, SLM-C는 충족된 트리거 들의 각 <trigger-id> 값으로 설정된 <trigger-id> 하위 요소를 추가하고, 충족된 트리거들에 해당하는 위치 보 고 요소들을 추가한다. SLM-C는 위치 관리 데이터 IE를 application/vnd.3gpp.seal-location-info+xml MIME 본 문으로 설정하고, 메시지 전송 시나리오에 명시된 바와 같이 메시지를 전송하고, 최소 보고 간격 타이머를 최소 -보고-간격 시간으로 설정하고, 이 타이머를 시작하고, 위치 보고를 위한 모든 트리거 기준을 재설정한다. 착신 클라이언트(즉, 제2 단말(100B))의 프로토콜 측면은 다음과 같다. \"LOCATION REPORT\"로 설정된 메시지 유 형 IE를 포함하는 오프-네트워크 위치 관리 메시지를 수신하면, SLM-C는 확인응답 전송 시나리오에 명시된 바와 같이 확인응답 메시지를 전송하고, 수신된 보고 SLM-C의 위치 정보를 저장하고, 필요에 따라 위치 정보를 사용 한다. 도 5는 본 명세서에 개시된 실시예들에 따라, 제2 단말의 위치 정보를 제1 단말로 보고하는 것을 취소하기 위한 제1 단말과 제2 단말 사이의 시그널링을 도시하는 순서도이다. 도 5는 제1 단말(100A)에 상주하는 위치 관리 클 라이언트 컨트롤러(110A)로부터 제2 단말(100B)에 상주하는 위치 관리 클라이언트 컨트롤러(110B)로 오프-네트 워크 위치 보고 트리거 취소를 전송하는 제안된 절차를 도시한다. 제1 단말(100A)과 제2 단말(100B)은 서로의 PC5 통신 범위 내에 있고 서로의 계층-2 ID를 알고 있다고 가정한다. 위치 관리 클라이언트 컨트롤러(110A)는 위치 보고 트리거 설정에 명시된 바와 같이 위치 관리 클라이언트 컨트롤러(110B)로 오프-네트워크 위치 보고 트리거를 미리 설정하였다. 501에서, 제1 단말(100A)의 위치 관리 클라이언트 컨트롤러(110A)는 제2 단말(100B)의 위치 관리 클라이언트 컨 트롤러(110B)로 위치 보고 트리거 설정을 취소하도록 오프-네트워크 위치 보고 트리거 취소 메시지를 전송한다. 오프-네트워크 위치 보고 트리거 취소 메시지는 표 5에 명시된 바와 같은 정보 요소들을 포함한다. 표 5 정보 요소 상태 설명 식별자 M 위치 보고 트리거 취소가 타겟팅되는 VAL 사용자의 식별자 또는 VAL 단 말의 식별자 메시지 ID M 메시지의 식별자; 위치 관리 클라이언트 컨트롤러들의 쌍 간에 고유함502에서, 위치 관리 클라이언트 컨트롤러(110B)는 위치 보고 설정을 제거하고, 오프-네트워크 위치 보고 트리거 취소 응답을 위치 관리 클라이언트 컨트롤러(110A)로 전송한다. 오프-네트워크 위치 보고 트리거 취소 응답은 표 6에 명시된 바와 같은 정보 요소들을 포함한다. 표 6 정보 요소 상태 설명 결과 M 동작에 대한 성공 또는 실패를 나타냄 메시지 ID M 이 메시지의 식별자; 위치 관리 클라이언트 컨트롤러들의 쌍 간에 고유 함 회신용 메시지 ID M 이 응답 메시지가 전송되기 위한 요청 메시지의 식별자 503에서, 오프-네트워크 위치 보고 트리거 취소 응답을 수신하면, 위치 관리 클라이언트 컨트롤러(110A)는 오프 -네트워크 위치 관리 확인응답 메시지를 전송한다. 오프-네트워크 위치 보고 트리거 확인응답 메시지는 표 3에 명시된 바와 같은 정보 요소들을 포함한다. 오프-네트워크 위치 보고 트리거 취소 응답은 위치 관리 클라이언트 컨트롤러(110A)에게 확인응답의 역할을 한다.실시예에서, 오프-네트워크 위치 보고 트리거 취소 응답을 전송하 는 단말(100B)는 오프-네트워크 위치 보고 트리거 취소 응답에 대한 확인응답을 전송하지 않도록 지시할 수 있 다. 다른 실시예에서, 응답 메시지에 대한 확인응답을 전송하는 것은 선택사항이다. 발신 클라이언트(즉, 제1 단말(100A))의 프로토콜 측면은 다음과 같다. VAL 사용자로부터 다른 VAL 사용자에 대 한 위치 정보 트리거 취소 요청을 수신하면, SLM-C는 오프-네트워크 위치 관리 메시지를 생성한다. 오프-네트워 크 위치 관리 메시지에서, SLM-C는 메시지 유형 IE를 \"LOCATION REPORTING TRIGGER CANCEL REQUEST\"로 설정하 고, 발신 VAL 사용자 ID IE를 자신의 VAL 사용자 ID로 설정하고, 착신 VAL 사용자 ID IE를 타깃 VAL 사용자의 VAL 사용자 ID로 설정하고, 메시지 ID IE를 이 메시지의 고유 식별자로 설정하고, application/vnd.3gpp.seal- location-info+xml MIME 본문을 생성하고, <location-info> 루트 요소에서, 하위 요소를 포함하지 않는 <configuration> 요소를 추가하고, 위치 관리 데이터 IE를 application/vnd.3gpp.seal-location-info+xml MIME 본문으로 설정하고, 메시지 전송 시나리오에 명시된 바와 같이 메시지를 전송한다. \"LOCATION REPORTING TRIGGER CANCEL RESPONSE\"로 설정된 메시지 유형 IE를 포함하는 오프-네트워크 위치 관리 메시지를 수신하면, SLM-C는 확인응답 전송 시나리오에 명시된 바와 같이 확인응답 메시지를 전송한다. 착신 클라이언트(즉, 제2 단말(100B))의 프로토콜 측면은 다음과 같다. \"LOCATION REPORTING TRIGGER CANCEL REQUEST\"로 설정된 메시지 유형 IE를 포함하는 오프-네트워크 위치 관리 메시지를 수신하면, SLM-C는 <configuration> 요소들의 내용을 삭제하고, 위치 보고를 중지하고, 오프-네트워크 위치 관리 메시지를 생성한 다. 오프-네트워크 위치 관리 메시지에서, SLM-C는 메시지 유형 IE를 \"LOCATION REPORTING TRIGGER CANCEL RESPONSE\"로 설정하고, 발신 VAL 사용자 ID IE를 자신의 VAL 사용자 ID로 설정하고, 착신 VAL 사용자 ID IE를 발신 VAL 사용자의 VAL 사용자 ID로 설정하고, 메시지 ID IE를 이 메시지의 고유 식별자로 설정하고, 회신용 메 시지 ID IE를 수신된 메시지의 메시지 ID IE 값으로 설정하고, 메시지 전송 시나리오에 명시된 바와 같이 메시 지를 전송한다. 도 6은 본 명세서에 개시된 실시예들에 따라, 제2 단말의 위치 정보를 제1 단말로 주문형(on-demand) 보고하기 위한 제1 단말과 제2 단말 사이의 시그널링을 도시하는 순서도이다. 도 6은 제1 단말(100A)에 상주하는 위치 관 리 클라이언트 컨트롤러(110A)로부터 제2 단말(100B)에 상주하는 위치 관리 클라이언트 컨트롤러(110B)로 주문 형 위치 보고를 위한 제안된 절차를 도시한다. 제1 단말(100A)과 제2 단말(100B)은 서로의 PC5 통신 범위 내에 있고, 서로의 계층-2 ID를 알고 있다. 제1 단말(100A)의 VAL 서비스 사용자는 제2 단말(100B)로 위치 보고를 요 청할 권한이 있다. 제1 단말(100A)의 VAL 서비스 사용자는 제2 단말(100B)에게 즉각적인 위치 보고를 요청한다. 601에서, 위치 관리 클라이언트 컨트롤러(110A)는 위치 관리 클라이언트 컨트롤러(110B)로 오프-네트워크 위치 요청 메시지를 전송함으로써 주기적 위치 정보 타이머와 같은 설정에 기초하여 위치 관리 클라이언트 컨트롤러 (110B)로부터 즉시 요청 위치 정보를 시작한다. 오프-네트워크 위치 요청 메시지는 표 7에 명시된 바와 같은 정 보 요소들을 포함한다. 표 7 정보 요소 상태 설명 식별자 M 위치 요청이 타겟팅되는 VAL 사용자의 식별자 또는 VAL 단말의 식별자 메시지 ID M 메시지의 식별자; 위치 관리 클라이언트 컨트롤러들의 쌍 간에 고유함요청된 위치 정보 M 요청된 위치 정보를 식별함 602에서, VAL 사용자 또는 VAL 단말은 자신의 위치를 공유할 수 있는 권한에 대하여 통지되고 요청된다. VAL 사 용자는 요청을 수락하거나 거부할 수 있다. 603에서, 위치 관리 클라이언트 컨트롤러(110B)는 오프-네트워크 위 치 응답 메시지를 통해 위치 관리 클라이언트 컨트롤러(110A)에 즉시 응답한다. VAL 사용자로부터 권한을 받은 경우, 위치 관리 클라이언트 컨트롤러(110B)는 위치 관리 클라이언트 컨트롤러(110A)가 식별하고 위치 관리 클 라이언트 컨트롤러(110B)에 이용가능한 위치 정보를 포함하는 오프-네트워크 위치 응답 메시지를 포함시킨다. 오프-네트워크 위치 응답 메시지는 표 8에 명시된 바와 같은 정보 요소들을 포함한다. 표 8 정보 요소 상태 설명 식별자 M 동작에 대한 성공 또는 실패를 나타냄 메시지 ID M 이 메시지의 식별자; 위치 관리 클라이언트 컨트롤러들의 쌍 간에 고유 함 회신용 메시지 ID M 이 응답 메시지가 전송되기 위한 요청 메시지의 식별자 위치 정보 M 위치 정보 오프-네트워크 위치 응답 메시지를 수신하면, 위치 관리 클라이언트 컨트롤러(110A)는 위치 관리 클라이언트 컨 트롤러(110B)로 오프-네트워크 위치 관리 확인응답 메시지를 전송한다. 오프-네트워크 위치 관리 확인응답 메시 지는 표 3에 명시된 바와 같은 정보 요소들을 포함한다. 오프-네트워크 위치 응답 메시지는 위치 관리 클라이언 트 컨트롤러(110A)에게 확인응답의 역할을 한다. 실시예에서, 오프-네트워크 위치 응답 메시지를 전송하는 단말 (100B)은 이 메시지에 대한 확인응답을 전송하지 않도록 지시할 수 있다. 다른 실시예에서, 오프-네트워크 위치 응답 메시지에 대한 확인응답을 전송하는 것은 선택사항이다.발신 클라이언트(즉, 제1 단말(100A))의 프로토콜 측면은 다음과 같다. VAL 사용자로부터 다른 VAL 사용자에게 오프-네트워크 위치 정보를 요청하는 요청을 수신 하면, SLM-C는 오프-네트워크 위치 관리 메시지를 생성한다. 오프-네트워크 위치 관리 메시지에서, SLM-C는 메 시지 유형 IE를 \"ON-DEMAND LOCATION REQUEST\"로 설정하고, 발신 VAL 사용자 ID IE를 자신의 VAL 사용자 ID로 설정하고, 착신 VAL 사용자 ID IE를 타깃 VAL 사용자의 VAL 사용자 ID로 설정하고, 메시지 ID IE를 이 메시지의 고유 식별자로 설정하고, <location-info> 루트 요소에서 application/vnd.3gpp.seal-location-info+xml MIME 본문을 생성한다. <report-request> 요소에서 SLM-C는 즉각적인 위치 보고가 필요함을 나타내는 <immediate- report-indicator> 하위 요소, 요청된 위치 보고 요소들 중 적어도 하나를 추가한다. SLM-C는 위치 관리 데이터 IE를 application/vnd.3gpp.seal-location-info+xml MIME 본문으로 설정하고, 메시지 전송 시나리오에 명시된 바와 같이 메시지를 전송한다. \"ON-DEMAND LOCATION RESPONSE\"로 설정된 메시지 유형 IE를 포함하는 오프-네트 워크 위치 관리 메시지를 수신하면, SLM-C는 확인응답 전송 시나리오에 명시된 바와 같이 확인응답 메시지를 전 송한다. 착신 클라이언트(즉, 제2 단말(100B))의 프로토콜 측면은 다음과 같다. \"ON-DEMAND LOCATION RESPONSE\"로 설정 된 메시지 유형 IE를 포함하는 오프-네트워크 위치 관리 메시지를 수신하면, SLM-C는 오프-네트워크 위치 관리 메시지를 생성한다. 오프-네트워크 위치 관리 메시지에서, SLM-C는 메시지 유형 IE를 \"ON-DEMAND LOCATION RESPONSE\"로 설정하고, 발신 VAL 사용자 ID IE를 자신의 VAL 사용자 ID로 설정하고, 착신 VAL 사용자 ID IE를 발신 VAL 사용자의 VAL 사용자 ID로 설정하고, 메시지 ID IE를 이 메시지의 고유 식별자로 설정하고, 회신용 메 시지 ID IE를 수신된 메시지의 메시지 ID IE 값으로 설정하고, application/vnd.3gpp.seal-location-info+xml MIME 본문 및 <location-info> 루트 요소를 생성한다. <report> 요소에서 그리고 보고가 위치 요청에 의해 트리 거되었다면, SLM-C는 수신된 요청 내의 <request-id> 속성 값으로 설정된 <report-id> 속성을 추가한다. <report> 요소는 충족된 트리거들의 각 <trigger-id> 값으로 설정된 <trigger-id> 하위 요소, 및 충족된 트리 거들에 해당하는 위치 보고 요소들을 포함한다. SLM-C는 위치 관리 데이터 IE를 application/vnd.3gpp.seal- location-info+xml MIME 본문으로 설정하고, 메시지 전송 시나리오에 명시된 바와 같이 메시지를 전송한다. 다음은 SEAL 오프-네트워크 위치 관리(SLM: Off-network Location Management) 메시지 기능 정의 및 내용을 설 명한다. SLM 메시지는 제1 단말(100A)과 제2 단말(100B)의 위치 관리 클라이언트 컨트롤러들 간에 요청, 응답 또는 확인응답을 보내는 데 사용된다. 메시지 유형 IE는 요청 또는 응답 또는 확인응답을 식별한다. SLM 메시지 의 내용은 표 9와 같다. 메시지 유형은 오프-네트워크 위치 관리 메시지이고, 오프-네트워크 위치 관리 메시지를 전송하는 방향은 하나의 단말로부터 다른 단말까지이다. 표 9 IEI 정보 요소 유형/참조 존재 포맷 길이 메시지 유형 메시지 유형 5.2.2 M V 1 발신 VAL 사용자 IDVAL 사용자 ID 5.2.5 M LV-E 3-x 착신 VAL 사용자 IDVAL 사용자 ID 5.2.5 M LV-E 3-x 메시지 ID 메시지 ID 5.2.3 M V 16 X회신용 메시지 ID회신용 메시지 ID 5.2.4 O TV 17 Z위치 관리 데이터 메시지 데이터 5.2.6 O TLV-E 4-x A 원인 원인 5.2.7 O TLV-E 3-x 도 7은 본 명세서에 개시된 실시예들에 따른, 필드(즉, 비트 순서의 일반적인 배열)의 예를 도시한다. 필드의 최상위 비트는 MSB(most significant bit)로 표시되고 필드의 최하위 비트는 LSB(least significant bit)로 표 시된다. 필드의 LSB는 필드의 가장 높은 번호 옥텟(octet)의 가장 낮은 번호 비트로 표시된다. 필드가 하나의 옥텟을 넘어 확장되면, 옥텟 수가 증가함에 따라 비트 값들의 순서가 점진적으로 감소한다. 본 발명에서 정의된 프로토콜들 내에서, 메시지는 메시지 유형 정보 요소, 및 필요에 따른 기타 정보 요소들로 이루어진다.도 8은 본 명세서에 개시된 실시예들에 따른, 시그널링 메시지의 구성을 도시한다. 정의들의 메시지 설명에 달리 명시 되지 않는 한, 특정 정보 요소는 소정의 메시지에 두 번 이상 나타나지 않아야 한다. 송신 엔터티는 예비 비트 값을 0으로 설정해야 한다. 수신 엔터티는 예비 비트 값을 무시한다. 송신 엔터티는 정보 요소의 값을 예비 값 으로 설정해서는 안 된다. 수신 엔터티는 예비 값으로 설정된 정보 요소를 포함하는 메시지를 폐기해야 한다. 메시지 유형 정보 요소의 값 부분은 표 10에 주어진다. 메시지 유형 정보 요소의 목적은 메시지 유형을 식별하 는 것이다. 메시지 유형 정보 요소는 1 옥텟의 길이를 갖는 유형 3 정보 요소이다. 표 10에 주어진 값들 이외의 모든 값들은 예비이다. 표 10 비트 메시지 87654321 00000001 위치 보고 트리거 설정 요청 00000010 위치 보고 트리거 설정 응답 00000011 위치 관리 확인응답 00000100 위치 보고 00000101 위치 보고 트리거 취소 요청 00000110 위치 보고 트리거 취소 응답 00000111 주문형 위치 요청 00001000 주문형 위치 응답 도 9는 본 명세서에 개시된 실시예들에 따른, 코딩된 메시지 ID 정보 요소를 도시한다. 메시지 ID 정보 요소는 메시지를 고유하게 식별한다. 메시지 ID 정보 요소는 표 11에 주어지고 도 9에 도시되어 있다. 메시지 ID 정보 요소는 16 옥텟의 길이를 갖는 유형 3 정보 요소이다. 표 11 메시지 ID 값 (옥텍 1 내지 16): 메시지 ID는 메시지를 고유하게 식별하는 수를 포함한다. 그 값은 IETF RFC 4122에 명시된 바와 같은 보편적으로 고유한 식별자이다. 도 10은 본 명세서에 개시된 실시예들에 따른, 코딩된 회신용(Reply-to) 메시지 ID 정보 요소를 도시한다. 회신 용 메시지 ID 정보 요소는 대화에서 기존 메시지에 대한 회신인 대화 내 메시지를 연결하는 데 사용된다. 회신 용 메시지 ID 정보 요소는 표 12에 주어지고 도 10에 도시되어 있다. 회신용 메시지 ID 정보 요소는 17 옥텟의 길이를 갖는 유형 3 정보 요소이다.표 12 회신용 메시지 ID 값 (옥텍 2 내지 17): 회신용 메시지 ID는 메시지를 고유하게 식별하는 수를 포함한다. 그 값은 IETF RFC 4122에 명시된 바 와 같은 보편적으로 고유한 식별자이다. 도 11은 본 명세서에 개시된 실시예들에 따른, 코딩된 VAL 사용자 ID 정보 요소를 도시한다. VAL 사용자 ID 정 보 요소는 VAL 사용자 ID를 나타내는 데 사용된다. VAL 사용자 ID 정보 요소는 표 13에 주어지고 도 11에 도시 되어 있다. VAL 사용자 ID 정보 요소는 유형 6 정보 요소이다. 표 13 VAL 사용자 ID는 옥텟 3 내지 옥텟 n에 포함된다; 최대값은 65535 옥텟 도 12는 본 명세서에 개시된 실시예들에 따른, 코딩된 메시지 데이터 정보 요소를 도시한다. 메시지 데이터 정 보 요소는 메시지 유형 IE를 기반으로 메시지 특정 데이터를 전송하는 데 사용된다. 메시지 데이터 정보 요소는 표 14에 주어지고 도 12에 도시되어 있다. 메시지 데이터 정보 요소는 유형 6 정보 요소이다. 메시지 데이터 정 보 요소는 3GPP TS 24.545에 정의된 바와 같이 seal-location-info+xml을 포함한다. 표 14 메시지 데이터는 옥텟 4 내지 옥텟 n에 포함된다; 최대값은 65535 옥텟 도 13은 본 명세서에 개시된 실시예들에 따른, 코딩된 원인 요소를 도시한다. 원인 정보 요소는 실패의 짧은 원 인을 제공하는 데 사용된다. 원인 정보 요소는 표 15에 주어지고 도 13에 도시되어 있다. 원인 정보 요소는 유 형 6 정보 요소이다. 표 15 메시지 데이터는 옥텟 3 내지 옥텟 n에 포함된다; 최대값은 127 옥텟 도 14는 본 명세서에 개시된 실시예들에 따른, 코딩된 필요 확인응답을 도시한다. 확인응답 필요 정보 요소의 목적은 메시지 발신자가 메시지의 확인응답을 기대하고 있음을 메시지 수신자에게 알리는 것이다. 필요 확인응 답은 유형 2 정보 요소이다. 도 15는 본 명세서에 개시된 실시예들에 따른, 단말 간 메시지 전송의 성공 또는 실패를 결정하기 위한 타이머 설정 방법을 도시한다. 도 15는 SEAL 오프-네트워크 위치 관리 메시지들을 전송하기 위한 단말 상의 주요 상태들 및 전환들의 개요를 도시한다. SLM-C가 SEAL 오프-네트워크 위치 관리 메시지를 전송하기로 결정하는 경 우 SLM-C에 대하여 시작 상태가 존재한다. SLM-C가 타깃 단말로부터의 응답 또는 확인응답을 기대하는 SEAL 오 프-네트워크 위치 관리 메시지를 전송할 때, SLM-C는 카운터 CX01을 값 1로 설정하고, 타이머 TX01을 시작하고 (확인응답/응답 대기), 메시지를 타겟 단말로 전송하고, \"확인응답/응답 대기\" 상태에 진입한다. 메시지를 전송 하는 단말이 확인응답 메시지를 보내지 않도록 요청한 경우, 단말은 바로 \"중지\" 상태로 진입할 것이다. \"확인 응답/응답 대기\"상태는 SLM-C가 이미 SEAL 오프-네트워크 위치 관리 메시지를 전송하고 응답 또는 확인응답 수 신을 기다리는 경우 SLM-C에 대하여 존재한다. 카운터 CX01의 현재 값이 N보다 작은 타이머 TX01의 만료 시, SLM-C는 카운터 CX01의 값을 1만큼 증가시키고, 타이머 TX01을 재시작하고(확인응답/응답 대기), 메시지를 타깃 단말로 전송하고, \"확인응답/응답 대기\" 상태를 유지한다. 카운터 CX01의 현재 값이 N보다 크거나 같은 타이머 TX01의 만료 시, SLM-C는 메시지 전송을 실패로 간주하고, 타이머 TX01을 중지하고(확인응답/응답 대기), 메시지 실패를 VAL 사용자에게 알리고, \"중지\" 상태로 진입한다. 메시지 응답 또는 메시지 확인응답을 수신하면, SLM-C는 타이머 TX01(확인응답/응답 대기)을 중지하 고, \"중지\" 상태로 진입한다. SEAL 오프-네트워크 위치 관리 메시지를 전송하는 절차가 완료되는 경우 SLM-C에 대하여 '중지' 상태가 존재하 고, 더 이상의 응답이나 확인응답은 기대되지 않는다. 위치 관리 확인응답을 전송하는 절차는 다음과 같다.SLM-C는 오프-네트워크 위치 관리 메시지를 생성한다. 오프-네트워크 위치 관리 메시지에서, SLM-C는 메시지 유 형 IE를 \"LOCATION MANAGEMENT ACK\"로 설정하고, 발신 VAL 사용자 ID IE를 자신의 VAL 사용자 ID로 설정하고, 착신 VAL 사용자 ID IE를 타깃 VAL 사용자의 VAL 사용자 ID로 설정하고, 메시지 ID IE를 수신된 메시지의 메시 지 ID IE 값으로 설정하고, 메시지 전송 시나리오에 명시된 바와 같이 메시지를 전송한다. 본 명세서에 개시된 실시예들은 적어도 하나의 하드웨어 장치를 사용하여 그리고 구성요소들을 제어하기 위해 네트워크 관리 기능들을 수행하여 구현될 수 있다. 특정 실시예들에 대한 상기 설명은 그 실시예들의 일반적인 특성을 나타내는 것이며, 이에 따라 현재 지식을 적 용함으로써 일반적인 개념에서 벗어나지 않고 이러한 실시예들의 다양한 응용들에 대한 변형 및/또는 적응을 용 이하게 할 수 있다. 따라서, 이러한 변형 및 적응은 개시된 실시예들의 균등물의 의미 및 범위 내에서 이해되도 록 의도된 것이다. 본 명세서에서 사용된 표현 내지 용어는 설명을 위한 것일 뿐 한정을 위한 것이 아니다. 따 라서, 본 발명의 실시예들은 바람직한 실시예들의 관점에서 설명되었지만, 통상의 기술자라면 본 발명의 실시예 들이 본 명세서에 기재된 바와 같은 실시예들의 범위 내에서 변형되어 실시될 수 있음을 인식할 것이다."}
{"patent_id": "10-2023-7028579", "section": "도면", "subsection": "도면설명", "item": 1, "content": "방법 및 단말이 첨부된 도면에 도시되어 있으며, 다양한 도면들에서 동일한 참조 문자들은 대응하는 부분들을 나타낸다. 실시예들은 도면을 참조한 다음의 설명으로부터 더 잘 이해될 것이다. 도 1은 본 명세서에 개시된 실시예에 따른, 오프-네트워크에서의 위치 관리를 위한 단말의 블록도이다.도 2는 본 명세서에 개시된 실시예에 따른, 오프-네트워크에서의 위치 관리 방법을 도시하는 흐름도이다. 도 3은 본 명세서에 개시된 실시예들에 따라, 제2 단말의 위치 정보를 제1 단말로 보고하도록 제2 단말을 설정 하기 위한 제1 단말과 제2 단말 사이의 시그널링을 도시하는 순서도이다. 도 4는 본 명세서에 개시된 실시예들에 따라, 제2 단말이 제1 단말로 위치 정보를 보고하는 것을 도시하는 순서 도이다. 도 5는 본 명세서에 개시된 실시예들에 따라, 제2 단말의 위치 정보를 제1 단말로 보고하는 것을 취소하기 위한 제1 단말과 제2 단말 사이의 시그널링을 도시하는 순서도이다. 도 6은 본 명세서에 개시된 실시예들에 따라, 제2 단말의 위치 정보를 제1 단말로 주문형(on-demand) 보고하기 위한 제1 단말과 제2 단말 사이의 시그널링을 도시하는 순서도이다. 도 7은 본 명세서에 개시된 실시예들에 따른, 필드의 예를 도시한다. 도 8은 본 명세서에 개시된 실시예들에 따른, 시그널링 메시지의 구성을 도시한다. 도 9는 본 명세서에 개시된 실시예들에 따른, 코딩된 메시지 ID 정보 요소를 도시한다. 도 10은 본 명세서에 개시된 실시예들에 따른, 코딩된 회신용(Reply-to) 메시지 ID 정보 요소를 도시한다. 도 11은 본 명세서에 개시된 실시예들에 따른, 코딩된 VAL 사용자 ID 정보 요소를 도시한다. 도 12는 본 명세서에 개시된 실시예들에 따른, 코딩된 메시지 데이터 정보 요소를 도시한다. 도 13은 본 명세서에 개시된 실시예들에 따른, 코딩된 원인 요소를 도시한다. 도 14는 본 명세서에 개시된 실시예들에 따른, 코딩된 필요 확인응답을 도시한다. 도 15는 본 명세서에 개시된 실시예들에 따른, 단말 간 메시지 전송의 성공 또는 실패를 결정하기 위한 타이머 설정 방법을 도시한다."}
