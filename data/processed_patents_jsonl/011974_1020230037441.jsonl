{"patent_id": "10-2023-0037441", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0142867", "출원번호": "10-2023-0037441", "발명의 명칭": "CNN의 컨볼루션 연산 장치 및 그 제어방법", "출원인": "재단법인 구미전자정보기술원", "발명자": "변상봉"}}
{"patent_id": "10-2023-0037441", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "CNN에 적용되는 영상데이터를 수신받아 저장하는 메모리부와; 상기 메모리부의 영상데이터 전송을 설정된 방식으로 제어하는 메모리 컨트롤러부와; 상기 메모리 컨트롤러부의 기능제어하에 메모리부에 저장된 영상데이터를 설정된 픽셀단위로 읽어 저장한 다음이들을 한번에 시프트시키는 버퍼부와; 상기 버퍼부로부터 전송되는 일정단위의 영상데이터를 컨볼루션 연산을 수행하는 컨볼루션 연산부를 포함하는CNN의 컨볼루션 연산 장치."}
{"patent_id": "10-2023-0037441", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서, 상기 메모리 컨트롤러부는 버퍼부에서 컨볼루션 연산부로 전송되는 영상데이터의 전송 크기가 마스크 크기 기준으로 (H, W+1)로서, 컨볼루션 연산부의 1클럭 동안 메모리부에서 설정된 픽셀값만큼 불러오는 버퍼의 주소값을생성하여 전송하는 크기로 설정되는 것을 더 포함하는 것을 특징으로 하는 CNN의 컨볼루션 연산 장치."}
{"patent_id": "10-2023-0037441", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서, 상기 컨볼루션 연산부는 마스크된 영역의 픽셀 값에 가중치를 곱하여 산출된 이 값들을 설정된 논리게이트에 넣어 각각 더한 컨볼루션 결과 값을 산출하는 기능을 더 포함하는 것을 특징으로 하는 CNN의 컨볼루션 연산 장치."}
{"patent_id": "10-2023-0037441", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서, 상기 컨볼루션 연산부는 입력되는 영상데이터의 픽셀값을 덧셈연산하는 복수개의 덧셈기와 이들 덧셈기의 출력값을 곱셈연산하여 그 결과값을 출력시키는 논리연산구조를 더 포함하는 것을 특징으로 하는 CNN의 컨볼루션 연산 장치."}
{"patent_id": "10-2023-0037441", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "CNN의 메모리 컨트롤러부가 메모리부의 저장공간을 파악하여 분석하고자하는 전체 영상의 한 프레임 혹은 최소한 하나의 마스크가 포함된 라인의 픽셀 데이터를 저장시키는 제1 단계와;상기 제1 단계후에 메모리 컨트롤러부가 메모리부에 저장된 영상데이터 중 컨볼루션 연산에 필요한 데이터를 설정된 일정크기만큼 버퍼부로 전송하는 제2 단계와;상기 제2 단계후에 컨볼루션 연산부가 버퍼부로부터 영상데이터를 일정단위로 전송받아 컨볼루션 연산을 실행하는 제3 단계를 포함하는 CNN의 컨볼루션 연산 장치의 제어방법."}
{"patent_id": "10-2023-0037441", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5항에 있어서, 상기 제2 단계는 메모리 컨트롤러가 메모리부의 픽셀이 n*n 일 경우 (W*H+m, 여기서 m은 기준이 되는 픽셀)픽셀을 기준으로 그 주변 n개의 픽셀을 매 사이클에서 버퍼부로 시프트시키는 반면 일부 픽셀 (W*H+R, 여기서 R은남아있는 중간픽셀,그리고 상기 R의 상,하 픽셀)은 전송 대기시키는 방식으로 설정된 사이클동안 계속 영상데이터를 시프트시키는 스케쥴링단계를 더 포함하는 것을 특징으로 하는 CNN의 컨볼루션 연산 장치의 제어방법. 공개특허 10-2024-0142867-3-청구항 7 제5항에 있어서, 상기 제3 단계에는 상기 메모리 컨트롤러부가 메모리부의 영상데이터 중 컨볼루션 연산부에서 사용할 영상데이터를 스케쥴링하여 버퍼부로 전송하고 다시 버퍼부에서 영상데이터를 컨볼루션 연산부로 전송할 경우 컨볼루션연산처리가 가능한 단위를 한번에 모두 전송시키는 묶음전송단계를 더 포함하는 것을 특징으로 하는 CNN의 컨볼루션 연산 장치의 제어방법."}
{"patent_id": "10-2023-0037441", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제5항에 있어서, 상기 묶음전송단계에는 버퍼부에서 컨볼루션 연산부로 전송되는 영상데이터의 전송 크기가 마스크 크기 기준으로 (H, W+1)로서, 컨볼루션 연산부의 1클럭 동안 메모리부에서 설정된 픽셀값만큼 불러오는 버퍼의 주소값을 생성하여 전송하는 크기로 설정되는 마스크 크기기준 전송단계를 더 포함하는 것을 특징으로 하는 CNN의 컨볼루션연산 장치의 제어방법."}
{"patent_id": "10-2023-0037441", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제5항에 있어서, 상기 제3 단계에는 상기 컨볼루션 연산부가 마스크된 영역의 픽셀 값에 가중치를 곱하여 산출된 이 값들을 설정된 논리게이트에 넣어 각각 더한 컨볼루션 결과 값을 산출하는 컨볼루션 결과값 산출단계를 더 포함하는 것을특징으로 하는 CNN의 컨볼루션 연산 장치의 제어방법."}
{"patent_id": "10-2023-0037441", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제5항에 있어서, 상기 컨볼루션 결과값 산출단계는 버퍼부로부터 입력되는 픽셀값을 덧셈연산하는 복수의 덧셈기와, 이들 복수의덧셈기의 출력값을 모두 곱셈연산하여 출력시키는 곱셈기의 구조로 되어 컨볼루션 연산을 실행하는 컨볼루션 논리연산단계를 더 포함하는 것을 특징으로 하는 CNN의 컨볼루션 연산 장치의 제어방법."}
{"patent_id": "10-2023-0037441", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제5항에 있어서, 상기 제3 단계에는 상기 컨볼루션 연산부가 마스크된 영역에서 픽셀 값에 가중치를 곱한 다음 이 값을 각각 더한 컨볼루션 결과 값을 출력시키는 가중치산출단계를 더 포함하는 것을 특징으로 하는 CNN의 컨볼루션 연산 장치의 제어방법."}
{"patent_id": "10-2023-0037441", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제5항에 있어서, 상기 가중치산출단계에는 컨볼루션 연산부의 후단에 연결된 인공신경망 형태의 프로세서가 컨볼루션 연산부로부터 컨볼루션 연산하여 출력된 결과값을 기준으로 계산하여 전송오차를 산출하고 그 산출된 오차를 보정하기위한가중치를 산출하여 컨볼루션 연산부로 전송하는 가중치 오차산출단계를 더 포함하는 것을 특징으로 하는 CNN의컨볼루션 연산 장치의 제어방법."}
{"patent_id": "10-2023-0037441", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제5항에 있어서, 상기 가중치 오차산출단계에는 컨볼루션 연산부가 산출된 가중치를 마스크값에 곱하여 기준값 1에 이르도록 보정하는 보정단계를 더 포함하는 것을 특징으로 하는 CNN의 컨볼루션 연산 장치의 제어방법."}
{"patent_id": "10-2023-0037441", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "CNN의 메모리 컨트롤러부가 메모리부의 저장공간을 파악하여 분석하고자하는 전체 영상의 한 프레임 혹은 최소공개특허 10-2024-0142867-4-한 하나의 마스크가 포함된 라인의 픽셀 데이터를 저장시키는 제1 단계와;상기 제1 단계후에 메모리 컨트롤러부가 메모리부에 저장된 영상데이터 중 컨볼루션 연산에 필요한 데이터를 설정된 일정크기만큼 버퍼부로 전송하는 제2 단계와;상기 제2 단계후에 컨볼루션 연산부가 버퍼부로부터 영상데이터를 일정단위로 전송받아 컨볼루션 연산을 실행하는 제3 단계와;상기 제3 단계중에 상기 컨볼루션 연산부의 후단에 연결된 인공신경망 형태의 프로세서가 컨볼루션 연산부로부터 컨볼루션 연산하여 출력된 결과값을 기준으로 계산하여 전송오차를 산출하고 그 산출된 오차를 보정하기위한가중치를 산출하여 컨볼루션 연산부로 전송하는 가중치 오차산출단계를 포함하는 CNN의 컨볼루션 연산 장치의제어방법."}
{"patent_id": "10-2023-0037441", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 CNN의 컨볼루션 연산 장치 및 그 제어방법에 관한 것으로, 메모리부와 컨볼루션 연산부 사이에 버퍼부 를 구비하고 메모리부터로 전송되는 영상데이터를 스케쥴링을 하여 설정된 사이클마다 버퍼부에 다량으로 미리 저장하였다가 컨볼루션 연산부로 전송하여 연산하게 함으로써, 영상데이터를 순차방식으로 전송 처리하지않고 버 퍼부에 미리 설정된 픽셀량만큼 저장한후 처리하기때문에 영상데이터를 안정적으로 전송할 수 있음은 물론 CNN 연산의 속도도 상당히 향상시킬 수 있음은 물론, 메모리 컨트롤러가 메모리부에 저장된 영상데이터를 기준픽셀을 중심으로 주변의 설정된 픽셀값 만큼 불러와 버퍼부에 저장한 다음 컨볼루션 연산부로 한번에 출력되는 구조로 형성됨으로써, CNN의 컨볼루션 연산을 고속으로 실행되게 하기때문에 메모리의 활용도를 극대화시킬 수 있다."}
{"patent_id": "10-2023-0037441", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 CNN의 컨볼루션 연산 장치 및 그 제어방법에 관한 것으로, 특히 메모리부와 컨볼루션 연산부 사이에 버퍼부를 구비하고 메모리부터로 전송되는 영상데이터를 스케쥴링을 하여 설정된 사이클마다 버퍼부에 다량으로 미리 저장하였다가 컨볼루션 연산부로 전송하여 연산하게 함으로써, 영상데이터를 순차방식으로 전송 처리하지 않고 버퍼부에 미리 설정된 픽셀량만큼 저장한후 처리하므로 CNN 연산의 속도를 상당히 향상시키는 CNN의 컨볼 루션 연산 장치 및 그 제어방법에 관한 것이다."}
{"patent_id": "10-2023-0037441", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "일반적으로 심화 학습(DL)은 다중 처리 계층을 갖는 심화 그래프(deep graph)를 이용하여 데이터에서 높은 레벨 의 추상화를 모델링하려는 알고리즘 집합에 기초한 기계 학습 및 인공 뉴트럴 네트워크의 한 분야이다. 상기와 같은 DL 아키텍처는 많은 신경 계층과 수백만 개의 파라미터를 포함할 수 있다. 이러한 파라미터는 정류 선형 유닛(ReLU), 드롭 아웃, 데이터 증강 및 SGD(Stochastic Gradient descent)와 같이, 많은 계층과 함께 작동할 수 있는 새로운 교육 기법을 통해 고속 GPU가 장착된 컴퓨터 상에서 대용량 데이터로부터 학습될 수 있다. 기존 의 DL 아키텍처 중에서, CNN(convolutional neural network)은 가장 널리 사용되는 DL 아키텍처 중 하나이다. 상기와 같은 CNN의 개념은 20년 이상 알려져 왔지만 CNN의 진정한 힘은 최근의 심화 학습 이론이 발달한 후에야 인식되었다. 현재 CNN은 얼굴 인식, 이미지 분류, 이미지 캡션 생성, 시각적 질문 응답 및 자동 운전 차량과 같 은, 많은 인공 지능 및 기계 학습 응용프로그램에서 많은 성공을 거두었다.특히 상기와 같은 CNN의 연산은 인공 지능을 탑재한 프로세서에서 영상신호를 처리하는데 사용되는데, 주로 GPU(Graphic Processing Unit)나 인공지 능 프로세서(혹은 인공신경망처리장치)라 불리는 NPU(Neural Processing Unit)를 통해 수행된다. 이때 CNN에서 는 영상신호를 처리하기위해 컨불류션 연산장치를 사용한다. 그러면 상기와 같은 종래 CNN의 연산장치를 도 1을 참고로 살펴보면, 영상신호를 저장하는 메모리와; 상기 메모리의 데이터 전송을 제어하는 메모리 컨트롤러와; 상기 메모리에 저장된 영상신호를 이송하여 컨볼루션 연산을 수행하는 컨볼루션 연산부를 포함하여 구성된다. 한편 상기와 같은 종래 CNN의 연산장치의 동작은 CNN에서 컨불류션 연산을 위해 먼저, 영상신호가 입력되면 메 모리 컨트롤러가 이를 메모리에 순차적으로 저장시킨다. 그리고 상기 메모리 컨트롤러는 CNN의 컨 불류션 연산위해 메모리의 스케쥴링을 실해아는데, 이때 상기 메모리 컨트롤러는 메모리에 저장된 영상 신호 예컨대, 3*3 영상픽셀을 순차적으로 컨볼루션 연산부로 이송 혹은 시프트시켜 킨다. 그러면 상기 컨볼루션 연산부는 입력되는 메모리의 영상신호들을 컨볼루션 연산을 수행하고 그 결과값들을 후단의 프로세서 로 전송하게 된다. 그러나 상기 종래 CNN의 연산장치는 종래의 CNN 연산이 주로 GPU나 인공지능 프로세서라 불리는 NPU를 통해 수 행 되기때문에 CPU를 활용하는 방식보단 상대적으로 빠르고 효율적이나 CNN 연산에 특화된 프로세서가 아니기 때문에 최적의 연산 효율을 나타내는데 한계가 있었으며,또한 병렬화된 CNN 연산은 메모리에 저장된 영상 데이 터가 순차적으로 전송되어서는 안되고 각각의 연산장치에 맞는 영상신호를 개별적으로 전송 받아야 하기때문에 외부 메모리에서 한번에 전송할 수 있는 데이터의 양이 한계가 있었으며, 특히 메모리에서 컨볼루션 연산부로 영상신호가 순차적으로 입력되므로 그에 따라 CNN 연산의 처리속도가 상당히 저하된다는 문제점이 유발되었다.[선행기술문헌] [특허문헌] 국내 공개특허공보 제10-2023-0022509호"}
{"patent_id": "10-2023-0037441", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "이에 본 발명은 상기와 같은 종래기술의 제반 문제점을 해결하기위해 발명된 것으로, 영상데이터를 순차방식으 로 전송 처리하지않고 메모리부의 영상데이터들을 스케쥴링하여 버퍼부에 미리 설정된 픽셀량만큼 저장한후 한 번에 전송되도록 처리하기때문에 영상데이터를 안정적으로 전송할 수 있음은 물론 CNN 연산의 속도도 상당히 향 상시키는 CNN의 컨볼루션 연산 장치 및 그 제어방법을 제공함에 그 목적이 있다. 또한 상기와 같은 본발명의 또 다른 목적은 메모리 컨트롤러가 메모리부에 저장된 영상데이터를 기준픽셀을 중 심으로 주변의 설정된 픽셀값만큼을 불러와 버퍼부에 저장한 다음 컨볼루션 연산부로 한번에 출력되는 구조로 형성됨으로써, CNN의 컨볼루션 연산을 고속으로 실행되게 하기때문에 메모리의 활용도를 극대화시킬 수 있는 CNN의 컨볼루션 연산 장치 및 그 제어방법을 제공하는 것이다."}
{"patent_id": "10-2023-0037441", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기와 같은 목적을 달성하기 위한 본 발명은, CNN에 적용되는 영상데이터를 수신받아 저장하는 메모리부와; 상기 메모리부의 영상데이터 전송을 설정된 방식으로 제어하는 메모리 컨트롤러부와; 상기 메모리 컨트롤러부의 기능제어하에 메모리부에 저장된 영상데이터를 설정된 픽셀단위로 읽어 저장한 다음 이들을 한번에 시프트시키는 버퍼부와; 상기 버퍼부로부터 전송되는 일정단위의 영상데이터를 컨볼루션 연산을 수행하는 컨볼루션 연산부를 포함하는 CNN의 컨볼루션 연산 장치를 제공하는데 있다. 또한, 상기와 같은 본 발명의 또 다른 특징은, 상기 메모리 컨트롤러부는 버퍼부에서 컨볼루션 연산부로 전송되는 영상데이터의 전송 크기가 마스크 크기 기준 으로 (H, W+1)로서, 컨볼루션 연산부의 1클럭 동안 메모리부에서 설정된 픽셀값만큼 불러오는 버퍼의 주소값을 생성하여 전송하는 크기로 설정되는 것을 더 포함하는 것을 특징으로 하는 CNN의 컨볼루션 연산 장치를 포함하 는 것을 특징으로 한다. 또한, 상기와 같은 본 발명의 또 다른 특징은, 상기 컨볼루션 연산부는 마스크된 영역의 픽셀 값에 가중치를 곱하여 산출된 이 값들을 설정된 논리게이트에 넣 어 각각 더한 컨볼루션 결과 값을 산출하는 기능을 더 포함하는 것을 특징으로 하는 CNN의 컨볼루션 연산 장치 를 포함하는 것을 특징으로 한다. 또한, 상기와 같은 본 발명의 또 다른 특징은, 상기 컨볼루션 연산부는 입력되는 영상데이터의 픽셀값과 이에 매칭되는 마스크값을 곱하고 이 값들을 모두 더 해 그 결과값을 출력시키는 논리연산구조를 더 포함하는 것을 특징으로 하는 CNN의 컨볼루션 연산 장치를 포함 하는 것을 특징으로 한다. 또한, 상기와 같은 본 발명의 또 다른 특징은, CNN의 메모리 컨트롤러부가 메모리부의 저장공간을 파악하여 분석하고자하는 전체 영상의 한 프레임 혹은 최소 한 하나의 마스크가 포함된 라인의 픽셀 데이터를 저장시키는 제1 단계와; 상기 제1 단계후에 메모리 컨트롤러부가 메모리부에 저장된 영상데이터 중 컨볼루션 연산에 필요한 데이터를 설 정된 일정크기만큼 버퍼부로 전송하는 제2 단계와; 상기 제2 단계후에 컨볼루션 연산부가 버퍼부로부터 영상데이터를 일정단위로 전송받아 컨볼루션 연산을 실행 하는 제3 단계를 포함하는 CNN의 컨볼루션 연산 장치의 제어방법을 포함하는 것을 특징으로 한다. 또한, 상기와 같은 본 발명의 또 다른 특징은, 상기 제2 단계는 메모리 컨트롤러가 메모리부의 픽셀이 n*n 일 경우 (W*H+m, 여기서 m은 기준이 되는 픽셀)픽셀 을 기준으로 그 주변 n개의 픽셀을 매 사이클에서 버퍼부로 시프트시키는 반면 일부 픽셀 (W*H+R, 여기서 R은 남아있는 중간픽셀,그리고 상기 R의 상,하 픽셀)은 전송 대기시키는 방식으로 설정된 사이클동안 계속 영상데이 터를 시프트시키는 스케쥴링단계를 더 포함하는 것을 특징으로 하는 CNN의 컨볼루션 연산 장치의 제어방법을 포 함하는 것을 특징으로 한다. 또한, 상기와 같은 본 발명의 또 다른 특징은, 상기 제3 단계에는 상기 메모리 컨트롤러부가 메모리부의 영상데이터 중 컨볼루션 연산부에서 사용할 영상데이 터를 스케쥴링하여 버퍼부로 전송하고 다시 버퍼부에서 영상데이터를 컨볼루션 연산부로 전송할 경우 컨볼루션 연산처리가 가능한 단위를 한번에 모두 전송시키는 묶음전송단계를 더 포함하는 것을 특징으로 하는 CNN의 컨볼 루션 연산 장치의 제어방법을 포함하는 것을 특징으로 한다. 또한, 상기와 같은 본 발명의 또 다른 특징은, 상기 묶음전송단계에는 버퍼부에서 컨볼루션 연산부로 전송되는 영상데이터의 전송 크기가 마스크 크기 기준으 로 (H, W+1)로서, 컨볼루션 연산부의 1클럭 동안 메모리부에서 설정된 픽셀값만큼 불러오는 버퍼의 주소값을 생 성하여 전송하는 크기로 설정되는 마스크 크기기준 전송단계를 더 포함하는 것을 특징으로 하는 CNN의 컨볼루션 연산 장치의 제어방법을 포함하는 것을 특징으로 한다. 또한, 상기와 같은 본 발명의 또 다른 특징은, 상기 제3 단계에는 상기 컨볼루션 연산부가 마스크된 영역의 픽셀 값에 가중치를 곱하여 산출된 이 값들을 설정 된 논리게이트에 넣어 각각 더한 컨볼루션 결과 값을 산출하는 컨볼루션 결과값 산출단계를 더 포함하는 것을 특징으로 하는 CNN의 컨볼루션 연산 장치의 제어방법을 포함하는 것을 특징으로 한다. 또한, 상기와 같은 본 발명의 또 다른 특징은, 상기 컨볼루션 결과값 산출단계는 버퍼부로부터 입력되는 픽셀값을 매칭되는 마스크값과 곱하고 이 값들을 모두 더해 출력시키는 구조로 되어 컨볼루션 연산을 실행하는 컨볼루션 논리연산단계을 더 포함하는 것을 특징으로 하는 CNN의 컨볼루션 연산 장치의 제어방법.를 포함하는 것을 특징으로 한다. 또한, 상기와 같은 본 발명의 또 다른 특징은, 상기 제3 단계에는 상기 컨볼루션 연산부가 마스크된 영역에서 픽셀 값에 가중치를 곱한 다음 이 값을 각각 더 한 컨볼루션 결과 값을 출력시키는 가중치산출단계를 더 포함하는 것을 특징으로 하는 CNN의 컨볼루션 연산 장 치의 제어방법을 포함하는 것을 특징으로 한다. 또한, 상기와 같은 본 발명의 또 다른 특징은, 상기 가중치산출단계에는 컨볼루션 연산부의 후단에 연결된 인공신경망 형태의 프로세서가 컨볼루션 연산부로부 터 컨볼루션 연산하여 출력된 결과값을 기준으로 계산하여 전송오차를 산출하고 그 산출된 오차를 보정하기위한 가중치를 산출하여 컨볼루션 연산부로 전송하는 가중치 오차산출단계를 더 포함하는 것을 특징으로 하는 CNN의 컨볼루션 연산 장치의 제어방법을 포함하는 것을 특징으로 한다. 또한, 상기와 같은 본 발명의 또 다른 특징은, 상기 가중치 오차산출단계에는 컨볼루션 연산부가 산출된 가중치를 마스크값에 곱하여 기준값 1에 이르도록 보 정하는 보정단계를 더 포함하는 것을 특징으로 하는 CNN의 컨볼루션 연산 장치의 제어방법을 포함하는 것을 특 징으로 한다. 또한, 상기와 같은 본 발명의 또 다른 특징은, CNN의 메모리 컨트롤러부가 메모리부의 저장공간을 파악하여 분석하고자하는 전체 영상의 한 프레임 혹은 최소 한 하나의 마스크가 포함된 라인의 픽셀 데이터를 저장시키는 제1 단계와; 상기 제1 단계후에 메모리 컨트롤러부가 메모리부에 저장된 영상데이터 중 컨볼루션 연산에 필요한 데이터를 설 정된 일정크기만큼 버퍼부로 전송하는 제2 단계와;상기 제2 단계후에 컨볼루션 연산부가 버퍼부로부터 영상데이터를 일정단위로 전송받아 컨볼루션 연산을 실행 하는 제3 단계와; 상기 제3 단계중에 상기 컨볼루션 연산부의 후단에 연결된 인공신경망 형태의 프로세서가 컨볼루션 연산부로부 터 컨볼루션 연산하여 출력된 결과값을 기준으로 계산하여 전송오차를 산출하고 그 산출된 오차를 보정하기위한 가중치를 산출하여 컨볼루션 연산부로 전송하는 가중치 오차산출단계를 포함하는 CNN의 컨볼루션 연산 장치의 제어방법을 를 포함하는 것을 특징으로 한다. 기타 실시 예의 구체적인 사항은 \""}
{"patent_id": "10-2023-0037441", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 의하면, 메모리부와 컨볼루션 연산부 사이에 버퍼부를 구비하고 메모리부터로 전송되는 영상데이터를 스케쥴링을 하여 설정된 사이클마다 버퍼부에 다량으로 미리 저장하였다가 컨볼루션 연산부로 전송하여 연산하 게 함으로써, 영상데이터를 순차방식으로 전송 처리하지않고 버퍼부에 미리 설정된 픽셀량만큼 저장한후 한번에 전송처리하기때문에 영상데이터를 안정적으로 전송할 수 있음은 물론 CNN 연산의 속도도 상당히 향상시키는 효 과가 있다. 또한 상기와 같은 본발명은 메모리 컨트롤러가 메모리부에 저장된 영상데이터를 기준픽셀을 중심으로 주변의 설 정된 픽셀값만큼 불러와 버퍼부에 저장한 다음 컨볼루션 연산부로 한번에 출력되는 구조로 형성됨으로써, CNN의 컨볼루션 연산을 고속으로 실행되게 하기때문에 메모리의 활용도를 극대화시킬 수 있는 효과도 있다."}
{"patent_id": "10-2023-0037441", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "\" 및 첨부 \"도면\"에 포함되어 있다. 본 발명의 이점 및/또는 특징, 그리고 그것들을 달성하는 방법은 첨부되는 도면과 함께 상세하게 후술되어 있는 각종 실시 예를 참조하면 명확해질 것이다. 그러나 본 발명은 이하에서 개시되는 각 실시 예의 구성만으로 한정되는 것이 아니라 서로 다른 다양한 형태로 도 구현될 수도 있으며, 단지 본 명세서에서 개시한 각각의 실시 예는 본 발명의 개시가 완전하도록 하며, 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에게 본 발명의 범주를 완전하게 알려주기 위해 제공되는 것이며, 본 발명은 청구범위의 각 청구항의 범주에 의해 정의될 뿐임을 알아야 한다."}
{"patent_id": "10-2023-0037441", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "발명의 효과 본 발명에 의하면, 메모리부와 컨볼루션 연산부 사이에 버퍼부를 구비하고 메모리부터로 전송되는 영상데이터를 스케쥴링을 하여 설정된 사이클마다 버퍼부에 다량으로 미리 저장하였다가 컨볼루션 연산부로 전송하여 연산하 게 함으로써, 영상데이터를 순차방식으로 전송 처리하지않고 버퍼부에 미리 설정된 픽셀량만큼 저장한후 한번에 전송처리하기때문에 영상데이터를 안정적으로 전송할 수 있음은 물론 CNN 연산의 속도도 상당히 향상시키는 효 과가 있다. 또한 상기와 같은 본발명은 메모리 컨트롤러가 메모리부에 저장된 영상데이터를 기준픽셀을 중심으로 주변의 설 정된 픽셀값만큼 불러와 버퍼부에 저장한 다음 컨볼루션 연산부로 한번에 출력되는 구조로 형성됨으로써, CNN의 컨볼루션 연산을 고속으로 실행되게 하기때문에 메모리의 활용도를 극대화시킬 수 있는 효과도 있다."}
{"patent_id": "10-2023-0037441", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "도면의 간단한 설명 도 1은 종래 CNN의 연산장치의 일례를 설명하는 도면. 도 2는 본 발명에 따른 CNN의 컨볼루션 연산 장치를 개략적으로 설명하는 도면. 도 3의 (a-e)는 본 발명의 메모리 컨트롤러부의 스케쥴링 순서를 보여주는 도면. 도 4는 본 발명의 컨볼루션 연산부에 구비되는 논리게이트구조를 설명하는 도면. 도 5는 본 발명의 컨볼루션 연산부가 연산하는 일례를 설명하는 도면. 도 6은 본 발명에 따른 CNN의 컨볼루션 연산 장치의 플로우차트를 설명하는 도면."}
{"patent_id": "10-2023-0037441", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "발명을 실시하기 위한 구체적인 내용 본 발명을 상세하게 설명하기 전에, 본 명세서에서 사용된 용어나 단어는 통상적이거나 사전적인 의미로 무조건 한정하여 해석되어서는 아니 되며, 본 발명의 발명자가 자신의 발명을 가장 최선의 방법으로 설명하기 위해서 각종 용어의 개념을 적절하게 정의하여 사용할 수 있고, 더 나아가 이들 용어나 단어는 본 발명의 기술적 사상 에 부합하는 의미와 개념으로 해석되어야 함을 알아야 한다. 즉, 본 명세서에서 사용된 용어는 본 발명의 바람직한 실시 예를 설명하기 위해서 사용되는 것일 뿐이고, 본 발 명의 내용을 구체적으로 한정하려는 의도로 사용된 것이 아니며, 이들 용어는 본 발명의 여러 가지 가능성을 고 려하여 정의된 용어임을 알아야 한다. 또한, 본 명세서에서, 단수의 표현은 문맥상 명확하게 다른 의미로 지시하지 않는 이상, 복수의 표현을 포함할 수 있으며, 유사하게 복수로 표현되어 있다고 하더라도 단수의 의미를 포함할 수 있음을 알아야 한다. 본 명세서의 전체에 걸쳐서 어떤 구성 요소가 다른 구성 요소를 \"포함\"한다고 기재하는 경우에는, 특별히 반대 되는 의미의 기재가 없는 한 임의의 다른 구성 요소를 제외하는 것이 아니라 임의의 다른 구성 요소를 더 포함 할 수도 있다는 것을 의미할 수 있다. 더 나아가서, 어떤 구성 요소가 다른 구성 요소의 \"내부에 존재하거나, 연결되어 설치된다\"라고 기재한 경우에 는, 이 구성 요소가 다른 구성 요소와 직접적으로 연결되어 있거나 접촉하여 설치되어 있을 수 있고, 일정한 거 리를 두고 이격되어 설치되어 있을 수도 있으며, 일정한 거리를 두고 이격되어 설치되어 있는 경우에 대해서는 해당 구성 요소를 다른 구성 요소에 고정 내지 연결하기 위한 제 3의 구성 요소 또는 수단이 존재할 수 있으며, 이 제 3의 구성 요소 또는 수단에 대한 설명은 생략될 수도 있음을 알아야 한다. 반면에, 어떤 구성 요소가 다른 구성 요소에 \"직접 연결\"되어 있다거나, 또는 \"직접 접속\"되어 있다고 기재되는 경우에는, 제 3의 구성 요소 또는 수단이 존재하지 않는 것으로 이해하여야 한다. 마찬가지로, 각 구성 요소 간의 관계를 설명하는 다른 표현들, 즉 \" ~ 사이에\"와 \"바로 ~ 사이에\", 또는 \" ~ 에 이웃하는\"과 \" ~ 에 직접 이웃하는\" 등도 마찬가지의 취지를 가지고 있는 것으로 해석되어야 한다. 또한, 본 명세서에서 \"일면\", \"타면\", \"일측\", \"타측\", \"제 1\", \"제 2\" 등의 용어는, 사용된다면, 하나의 구성 요소에 대해서 이 하나의 구성 요소가 다른 구성 요소로부터 명확하게 구별될 수 있도록 하기 위해서 사용되며, 이와 같은 용어에 의해서 해당 구성 요소의 의미가 제한적으로 사용되는 것은 아님을 알아야 한다. 또한, 본 명세서에서 \"상\", \"하\", \"좌\", \"우\" 등의 위치와 관련된 용어는, 사용된다면, 해당 구성 요소에 대해 서 해당 도면에서의 상대적인 위치를 나타내고 있는 것으로 이해하여야 하며, 이들의 위치에 대해서 절대적인 위치를 특정하지 않는 이상은, 이들 위치 관련 용어가 절대적인 위치를 언급하고 있는 것으로 이해하여서는 아 니된다. 또한, 본 명세서에서는 각 도면의 각 구성 요소에 대해서 그 도면 부호를 명기함에 있어서, 동일한 구성 요소에 대해서는 이 구성 요소가 비록 다른 도면에 표시되더라도 동일한 도면 부호를 가지고 있도록, 즉 명세서 전체에 걸쳐 동일한 참조 부호는 동일한 구성 요소를 지시하고 있다. 본 명세서에 첨부된 도면에서 본 발명을 구성하는 각 구성 요소의 크기, 위치, 결합 관계 등은 본 발명의 사상 을 충분히 명확하게 전달할 수 있도록 하기 위해서 또는 설명의 편의를 위해서 일부 과장 또는 축소되거나 생략 되어 기술되어 있을 수 있고, 따라서 그 비례나 축척은 엄밀하지 않을 수 있다. 또한, 이하에서, 본 발명을 설명함에 있어서, 본 발명의 요지를 불필요하게 흐릴 수 있다고 판단되는 구성, 예 를 들어, 종래 기술을 포함하는 공지 기술에 대해 상세한 설명은 생략될 수도 있다. 이하, 본 발명의 실시 예에 대해 관련 도면들을 참조하여 상세히 설명하기로 한다. 도 2는 본 발명에 따른 CNN의 컨볼루션 연산 장치를 개략적으로 설명하는 도면이다. 도 2를 참조하면, 본 발명에 따른 CNN의 컨볼루션 연산 장치는 컨볼루션 뉴럴 네트워크(CNN)에 적용되는 영상데 이터를 수신받아 저장하는 메모리부와; 상기 메모리부의 영상데이터 전송을 설정된 방식으로 제어하는 메모리 컨트롤러부와; 상기 메모리 컨트롤러부의 기능제어하에 메모리부에 저장된 영상데이터를 설정된 픽셀단위로 읽어 저장한 다음 이들을 한번에 시프트시키는 버퍼부와; 상기 버퍼부로부터 전송되는 일정단위의 영상데이터를 컨볼루션 연산을 수행하는 컨볼루션 연산부를 포함 하여 구성된다. 그리고 상기 메모리부는 분석하고자하는 전체 영상의 한 프레임 혹은 최소한 하나의 마스크가 포함된 라인의 픽셀 데이터를 저장하는 기능을 포함하도록 구성된다. 또한 상기 메모리 컨트롤러부는 메모리부를 제어하 여 순차적으로 영상 데이터가 메모리부에 저장되게 하고 상기 메모리부의 영상데이터 중 연산에 필요한 데이터를 설정된 일정크기만큼 버퍼부로 전송하며, 상기 컨볼루션 연산부에서 필요로 하는 영상데이터를 버퍼부에서 컨볼루션 연산부로 전송하도록 제어한다. 더 나아가 상기 컨볼루션 연산부는 마스크된 영역의 픽셀 값에 가중치를 곱하여 산출된 이 값들을 설정된 논리게이트에 넣어 각각 더한 컨볼루션 결과 값을 산출하는 기능을 수행한다. 즉 상기 메모리부는 외부로부 터 입력되는 영상데이터의 프레임 전체 혹은 연산에 필요한 부분을 저장하는데, 이때 메모리 컨트롤러부의 기능제어하에 그 입력되는 영상 데이터를 순차적으로 입력 받아 저장한 다음 컨볼루션 연산에 필요한 데이터를순차적으로 출력하여 버퍼부로 전송시킨다. 이 과정에서 상기 메모리 컨트롤러부는 메모리부의 영상데이터 중 컨볼루션 연산부에서 사용할 영상데 이터를 버퍼부로 전송하고 다시 버퍼부에서 영상데이터를 컨볼루션 연산부로 전송할 경우 한번에 모두 전송하는데, 그 전송 크기는 도 3의 (a-e)에 도시된 바와같이 예컨대, 마스크 크기 기준으로 (H, W+1)인, 즉, 컨볼루션 연산부의 1클럭 동안 메모리부에서 예컨대, 3개의 픽셀값을 불러오는 버퍼의 주소값을 생성 한다. 여기서 상기 컨볼루션 연산부는 메모리 컨트롤러부에 의해 버퍼부에서 전송된 영상데이터를 컨 볼루션 연산을 수행한 다음 후단에 있는 프로세서로 전송하게 되는데, 이때 입력된 영상 값을 바탕으로 컨볼 루션을 수행하고 결과 값을 출력하며 병렬 연산이 가능한 구조를 구비하게 된다. 한편, 상기 프로세서는 적어도 하나의 단계를 수행하도록 지시하는 명령어들(instructions)을 저장하는 메모 리(memory:도시 안됨)를 포함하며, 상기 프로세서는 인공신경망(도시안됨)을 구축하여 상기 적어도 하나의 단계 를 수행하도록 한다. 상기 인공신경망은 학습, 추리, 논증, 적응 등의 기능을 갖추고 있음은 물론이다. 여기서 상기 메모리 컨트롤러부는 메모리부의 영상데이터를 버퍼부로 시프트시킬시 메모리 스케쥴링을 수행하여 시프트시키게된다. 예컨대, 상기 메모리 컨트롤러부는 메모리부의 픽셀이 4*3이라고 가정할 경우 도 3의 (a)에 도시된 바와 같이 먼저 (W*H+2)픽셀을 기준으로 그 주변 8개의 픽셀을 1번 사이클에서 버퍼부로 시프트시키는 반면, (W*H+4)와 그 상,하 픽셀 2개는 전송대기시킨다. 그리고 상기 메모리 컨트롤러부는 도 3의 (b)에 도시된 바 와같이 2번 사이클에서 메모리부의 (W*H+3)픽셀을 기준으로 그 주변 8개의 픽셀을 버퍼부로 시프트시키는 반면, (W*H+5)와 그 상,하 픽셀 2개는 전송대기시킨다. 또한 상기 메모리 컨트롤러부는 도 3의 (c)에 도시된 바와같이 3번 사이클에서 메모리부의 (W*H+4)픽셀을 기준으로 그 주변 8개의 픽셀을 버퍼부로 시프트시키 는 반면, (W*H+6)와 그 상,하 픽셀 2개는 대기시킨다. 그리고 상기 메모리 컨트롤러부는 도 3의 (d)에 도시 된 바와같이 4번 사이클에서 메모리부의 (W*H+5)픽셀을 기준으로 그 주변 8개의 픽셀을 버퍼부로 시프트 시키는 반면, (W*H+7)와 그 상,하 픽셀 2개는 대기시킨다. 여기서 상기 설명을 메모리부의 픽셀이 4*3이라고 가정한 경우에 대해서만 설명하였으나, 본 발명의 시스템 은 이에 국한되지 않고 다양한 m*n 픽셀의 형태를 구성될 수 있고, 그에 따라 매사이클마다 설정된 픽셀들을 모 두 버퍼부로 전송되나 설정된 일부 픽셀들을 계속 전송대기하는 방식으로 영상데이터가 시프트된다(도 3의 (e) 참조). 한편, 상기 컨볼루션 연산부는 도 4에 도시된 바와같이 입력되는 영상데이터의 픽셀값을 복수개의 2 입력 덧 셈기와 9 입력 곱셈기로구성된다. 즉, 상기 컨볼루션 연산부는 버퍼부로부터 입력되는 픽셀 값을 덧셈연 산하는 복수의 덧셈기(7a-n)와, 이들 복수의 덧셈기(7a-n)의 출력값을 모두 곱하여 출력시키는 곱셈기로 구 성되는 논리연산구조를 더 포함한다. 그리고 상기 컨볼루션 연산부는 도 5에 도시된 바와같이 마스크된 영역에서 픽셀 값에 가중치를 곱한 다 음 이 값을 각각 더한 컨볼루션 결과 값을 출력시키는 기능을 수행한다. 더나아가 상기 프로세서는 컨볼루션 연산부로부터 컨볼루션 연산하여 출력된 결과값을 기준으로 계산하여 전송오차를 산출하고 그 산출된 오차를 보정하기위한 가중치를 산출하여 컨볼루션 연산부로 전송한다. 그러 면 상기 컨볼루션 연산부는 도 5에 도시된 바와같이 상기 산출된 가중치를 마스크값에 곱하여 예컨대 기준값 1에 이르도록 보정한다. 여기서 상기 기준값 1에 이르도록 보정하는 것은 주변 픽셀값들이 기준이 되는 픽셀의 값 1과 유사하도록 설정 하기 위해서이다. 다음에는 상기와 같은 구성으로 된 본 발명 일실시예의 제어방법을 설명한다. 도 6은 본 발명에 따른 CNN의 컨볼루션 연산 장치의 제어방법을 나타내는 플로우차트를 설명하는 도면이다. 도 6을 참조하면, 본 발명의 방법은 먼저 메모리 컨트롤러부가 메모리부의 저장공간을 파악하여 분석하고자하는 전체 영상의 한 프레임 혹은 최소한 하나의 마스크가 포함된 라인의 픽셀 데이터를 저장시키는 제1 단계(S101) 와; 상기 제1 단계(S101)후에 메모리 컨트롤러부가 메모리부에 저장된 영상데이터 중 컨볼루션 연산에 필요한 데이 터를 설정된 일정크기만큼 버퍼부로 전송하는 제2 단계(S102)와; 상기 제2 단계(S102)후에 컨볼루션 연산부가 버퍼부로부터 영상데이터를 일정단위로 전송받아 컨볼루션 연산을 실행하는 제3 단계(S103)를 포함하여 구성된다. 그리고 상기 제2 단계(S102)는 메모리 컨트롤러부가 메모리부의 픽셀이 n*n 일 경우 (W*H+m, 여기서 m은 기준이 되는 픽셀)픽셀을 기준으로 그 주변 n개의 픽셀을 1번 사이클에서 버퍼부로 시프트시키는 반면 일부 픽셀 (W*H+R, 여기서 R은 남아있는 중간픽셀,그리고 상기 R의 상,하 픽셀)은 전송 대기시키는 방식으로 설정된 사이 클동안 계속 영상데이터를 시프트시키는 스케쥴링단계를 더 포함한다. 즉 상기 스케쥴링단계에서는 메모리 컨트롤러부가 메모리부의 픽셀이 4*3이라고 가정할 경우 도 3의 (a)에 도시 된 바와같이 먼저 (W*H+2)픽셀을 기준으로 그 주변 8개의 픽셀을 1번 사이클에서 버퍼부로 시프트시키는 반면, (W*H+4)와 그 상,하 픽셀 2개는 전송대기시킨다. 그리고 상기 메모리 컨트롤러부는 도 3의 (b)에 도시된 바와같 이 2번 사이클에서 메모리부의 (W*H+3)픽셀을 기준으로 그 주변 8개의 픽셀을 버퍼부로 시프트시키는 반면, (W*H+5)와 그 상,하 픽셀 2개는 전송대기시킨다. 또한 상기 메모리 컨트롤러부는 도 3의 (c)에 도시된 바와같이 3번 사이클에서 메모리부의 (W*H+4)픽셀을 기준으로 그 주변 8개의 픽셀을 버퍼부로 시프트시키는 반면, (W*H+6)와 그 상,하 픽셀 2개는 대기시킨다. 그리고 상기 메모리 컨트롤러부는 도 3의 (d)에 도시된 바와같이 4 번 사이클에서 메모리부의 (W*H+5)픽셀을 기준으로 그 주변 8개의 픽셀을 버퍼부로 시프트시키는 반면, (W*H+ 7)와 그 상,하 픽셀 2개는 대기시킨다. 한편 상기 제3 단계(S103)에는 상기 메모리 컨트롤러부가 메모리부의 영상데이터 중 컨볼루션 연산부에서 사용 할 영상데이터를 스케쥴링하여 버퍼부로 전송하고 다시 버퍼부에서 영상데이터를 컨볼루션 연산부로 전송할 경 우 컨볼루션 연산처리가 가능한 단위를 한번에 모두 전송시키는 묶음전송단계를 더 포함한다. 또한 상기 묶음전송단계에는 버퍼부에서 컨볼루션 연산부로 전송되는 영상데이터의 전송 크기가 마스크 크기 기 준으로 (H, W+1)로서, 컨볼루션 연산부의 1클럭 동안 메모리부에서 설정된 픽셀값만큼 불러오는 버퍼의 주소값 을 생성하여 전송하는 크기로 설정되는 마스크 크기기준 전송단계를 더 포함한다. 더 나아가 상기 제3 단계(S103)에는 상기 컨볼루션 연산부가 마스크된 영역의 픽셀 값에 가중치를 곱하여 산출 된 이 값들을 설정된 논리게이트에 넣어 각각 더한 컨볼루션 결과 값을 산출하는 컨볼루션 결과값 산출단계를 더 포함한다. 여기서 상기 컨볼루션 결과값 산출단계는 버퍼부로부터 입력되는 픽셀값을 덧셈연산하는 복수의 덧셈기와, 이들 복수의 덧셈기의 출력값을 모두 곱셈연산하여 출력시키는 곱셈의 구조로 되어 컨볼루션 연산을 실행하는 컨볼루 션 논리연산단계를 더 포함한다. . 그리고 상기 제3 단계(S103)에는 상기 컨볼루션 연산부가 마스크된 영역에서 픽셀 값에 가중치를 곱한 다음 이 값을 각각 더한 컨볼루션 결과 값을 출력시키는 가중치산출단계를 더 포함한다. 또한 상기 가중치산출단계에는 컨볼루션 연산부의 후단에 연결된 인공신경망 형태의 프로세서가 인공신경망의 기능을 사용하는 컨볼루션 연산부로부터 컨볼루션 연산하여 출력된 결과값을 기준으로 계산하여 전송오차를 산 출하고 그 산출된 오차를 보정하기위한 가중치를 산출하여 컨볼루션 연산부로 전송하는 가중치 오차산출단계를 더 포함한다. 그리고 상기 가중치 오차산출단계에는 컨볼루션 연산부가 산출된 가중치를 마스크값에 곱하여 기준값 1에 이르 도록 보정하는 보정단계를 더 포함한다."}
{"patent_id": "10-2023-0037441", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "환언하면, 본 발명에 따른 CNN의 컨볼루션 연산 장치의 동작은 먼저 메모리 컨트롤러부()가 메모리부의 저장 공간을 파악하여 분석하고자하는 전체 영상의 한 프레임 혹은 최소한 하나의 마스크가 포함된 라인의 픽셀 데이 터를 저장시킨다. 이때 상기 메모리 컨트롤러부는 메모리부에 저장된 영상데이터 중 컨볼루션 연산에 필 요한 데이터를 설정된 일정크기만큼 버퍼부로 전송시킨다. 또한 상기 컨볼루션 연산부는 버퍼부로부터 영상데이터를 일정단위로 전송받아 컨볼루션 연산을 실행하는 방식으로 CNN의 컨볼루션 연산을 실행한다. 이과정에서, 상기 메모리 컨트롤러부는 메모리부의 픽셀이 n*n 일 경우 (W*H+m, 여기서 m은 기준이 되는 픽셀)픽셀을 기준으로 그 주변 n개의 픽셀을 1번 사이클에서 버퍼부로 시프트시키는 반면 일부 픽셀(W*H+R, 여기서 R은 남아있는 중간픽셀,그리고 상기 R의 상,하 픽셀)은 전송 대기시키는 방식으로 설정된 사이 클동안 계속 영상데이터를 시프트시키는 스케쥴링과정을 수행하게된다. 즉, 상기 스케쥴링과정에서는 메모리 컨트롤러부가 메모리부의 픽셀이 4*3이라고 가정할 경우 도 3의 (a)에 도시된 바와같이 먼저 (W*H+2)픽셀을 기준으로 그 주변 8개의 픽셀을 1번 사이클에서 버퍼부로 시프트 시키는 반면, (W*H+4)와 그 상,하 픽셀 2개는 전송대기시킨다. 그리고 상기 메모리 컨트롤러부는 도 3의 (b)에 도시된 바와같이 2번 사이클에서 메모리부의 (W*H+3)픽셀을 기준으로 그 주변 8개의 픽셀을 버퍼부 로 시프트시키는 반면, (W*H+5)와 그 상,하 픽셀 2개는 전송대기시킨다. 또한 상기 메모리 컨트롤러부는 도 3의 (c)에 도시된 바와같이 3번 사이클에서 메모리부의 (W*H+4)픽셀을 기준으로 그 주변 8개의 픽셀을 버 퍼부로 시프트시키는 반면, (W*H+6)와 그 상,하 픽셀 2개는 대기시킨다. 그리고 상기 메모리 컨트롤러부 는 도 3의 (d)에 도시된 바와같이 4번 사이클에서 메모리부의 (W*H+5)픽셀을 기준으로 그 주변 8개의 픽셀을 버퍼부로 시프트시키는 반면, (W*H+7)와 그 상,하 픽셀 2개는 대기시킨다. 한편 상기 과정중에 상기 메모리 컨트롤러부는 메모리부의 영상데이터 중 컨볼루션 연산부에서 사용할 영상데이터를 스케쥴링하여 버퍼부로 전송하고 다시 버퍼부에서 영상데이터를 컨볼루션 연산부로 전송 할 경우 컨볼루션 연산처리가 가능한 단위를 한번에 모두 전송시킨다. 이때 상기 버퍼부에서 컨볼루션 연산 부로 전송되는 영상데이터의 전송 크기는 마스크 크기 기준으로 (H, W+1)로서, 컨볼루션 연산부의 1클럭 동안 메모리부에서 설정된 픽셀값만큼 불러오는 버퍼의 주소값을 생성하여 전송하는 크기로 설정된다. 더 나아가 상기 컨볼루션 연산부는 마스크된 영역의 픽셀 값에 가중치를 곱하여 산출된 이 값들을 설정된 논리게이트에 넣어 각각 더한 컨볼루션 결과 값을 산출한다. 즉 상기 컨볼루션 결과 값을 산출과정에서 상기 컨 볼루션 연산부는 버퍼부로부터 입력되는 픽셀값을 앤드연산하는 복수의 덧셈기(7a-n)와, 이들 복수의 덧 셈기(7a-n)의 출력값을 모두 논리연산하여 출력시키는 곱셈기의 구조를 구비하여 컨볼루션 연산을 실행한다. 이 과정에서, 상기 상기 컨볼루션 연산부는 마스크된 영역의 픽셀 값에 가중치를 곱하여 산출된 이 값들 을 설정된 논리게이트에 넣어 각각 더한 컨볼루션 결과 값을 산출하는 기능을 수행한다. 또한 상기 컨볼루션 연산부의 후단에 연결된 인공신경망 형태의 프로세서는 컨볼루션 연산부로부터 컨 볼루션 연산하여 출력된 결과값을 기준으로 계산하여 전송오차를 산출하고 그 산출된 오차를 보정하기위한 가중 치를 산출하여 컨볼루션 연산부로 전송한다. 그리고 상기 컨볼루션 연산부는 산출된 가중치를 마스크값에 곱하여 기준값 1에 이르도록 보정하는데, 이와같이 기준값 1에 이르도록 보정하는 것은 주변 픽셀값들이 기준이 되는 픽셀의 값 1과 유사하도록 설정하기 위해서이다. 이와 같이 본 발명에 의하면, 메모리부와 컨볼루션 연산부 사이에 버퍼부를 구비하고 메모리부터로 전송되는 영 상데이터를 스케쥴링을 하여 설정된 사이클마다 버퍼부에 다량으로 미리 저장하였다가 컨볼루션 연산부로 전송 하여 연산하게 함으로써, 영상데이터를 순차방식으로 전송 처리하지않고 버퍼부에 미리 설정된 픽셀량만큼 저장 한후 한번에 전송처리하기때문에 영상데이터를 안정적으로 전송할 수 있음은 물론 CNN 연산의 속도도 상당히 향 상시킬 수 있다. 또한 상기와 같은 본발명은 메모리 컨트롤러가 메모리부에 저장된 영상데이터를 기준픽셀을 중심으로 주변의 설 정된 픽셀값만큼 불러와 버퍼부에 저장한 다음 컨볼루션 연산부로 한번에 출력되는 구조로 형성됨으로써, CNN의 컨볼루션 연산을 고속으로 실행되게 하기때문에 메모리의 활용도를 극대화시킬 수 있다. 이상, 일부 예를 들어서 본 발명의 바람직한 여러 가지 실시 예에 대해서 설명하였지만, 본 \"발명을 실시하기 위한 구체적인 내용\" 항목에 기재된 여러 가지 다양한 실시 예에 관한 설명은 예시적인 것에 불과한 것이며, 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자라면 이상의 설명으로부터 본 발명을 다양하게 변형하여 실 시하거나 본 발명과 균등한 실시를 행할 수 있다는 점을 잘 이해하고 있을 것이다. 또한, 본 발명은 다른 다양한 형태로 구현될 수 있기 때문에 본 발명은 상술한 설명에 의해서 한정되는 것이 아 니며, 이상의 설명은 본 발명의 개시 내용이 완전해지도록 하기 위한 것으로 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에게 본 발명의 범주를 완전하게 알려주기 위해 제공되는 것일 뿐이며, 본 발명은 청구범 위의 각 청구항에 의해서 정의될 뿐임을 알아야 한다.부호의 설명 1 : 메모리부 2 : 메모리 컨트롤러부 3 : 버퍼부 4 : 컨볼루션 연산부 5 : 마스크된 영역 6 : 프로세서 7a-n: 덧셈기 8 : 곱셈기"}
{"patent_id": "10-2023-0037441", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 종래 CNN의 연산장치의 일례를 설명하는 도면. 도 2는 본 발명에 따른 CNN의 컨볼루션 연산 장치를 개략적으로 설명하는 도면. 도 3의 (a-e)는 본 발명의 메모리 컨트롤러부의 스케쥴링 순서를 보여주는 도면. 도 4는 본 발명의 컨볼루션 연산부에 구비되는 논리게이트구조를 설명하는 도면. 도 5는 본 발명의 컨볼루션 연산부가 연산하는 일례를 설명하는 도면. 도 6은 본 발명에 따른 CNN의 컨볼루션 연산 장치의 플로우차트를 설명하는 도면."}
