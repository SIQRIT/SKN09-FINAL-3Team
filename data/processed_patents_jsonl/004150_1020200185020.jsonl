{"patent_id": "10-2020-0185020", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2022-0094286", "출원번호": "10-2020-0185020", "발명의 명칭": "인공지능 기반 실시간 자동 엑스레이 폐결절 판독 방법 및 시스템", "출원인": "주식회사 래디센", "발명자": "심우정"}}
{"patent_id": "10-2020-0185020", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "환자의 엑스레이 영상을 획득하는 영상획득부;영상획득부로부터 수신되는 엑스레이 영상을 복수로 분할하고, 분할된 영상 중 관심영역에 해당하는 영상을 기반으로 폐결절 여부를 판독하는 영상판독부; 및영상판독부로부터 판독 결과를 수신하여, 화면에 표시하는 이미지 뷰어부;를 포함하는 실시간 자동 엑스레이 폐결절 판독 시스템."}
{"patent_id": "10-2020-0185020", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "청구항 1에 있어서,영상판독부는, 영상획득부로부터 수신되는 엑스레이 영상에 대하여 전처리 절차를 수행하여 제1 영상을 생성하는 전처리 프로세서;제1 영상을 분할하여, 복수의 영상을 생성하고, 분할된 영상에 이미지 처리 절차를 수행하여 제2 영상을 생성하는 이미지 처리 프로세서; 및제2 영상을 병합하여 제3 영상을 생성하고, 인공지능 기반의 학습모델에 제3 영상을 입력하여, 폐결절 여부를판독하는 판독 프로세서;를 포함하는 것을 특징으로 하는 실시간 자동 엑스레이 폐결절 판독 시스템."}
{"patent_id": "10-2020-0185020", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "청구항 2에 있어서,전처리 프로세서는,엑스레이 영상이 수신되면, 수신되는 엑스레이 영상에 대한 히스토그램(Histogram)을 생성하고, Otsu 알고리즘을 기반으로 영상 내 배경(background)과 전경(foreground)을 구분하는 임계 픽셀 값(Threshold Pixel Value)을 산출하고,임계 픽셀 값이 산출되면, 픽셀 값(Pixel Value)이 산출된 임계 픽셀 값보다 작은 영역을 전경으로 구분하여,전경 영역의 픽셀 평균치인 EI(Exposure Index) 값을 산출하고, 전경 영역의 픽셀당 빈도수(Frequency) 확률을 산출하여, 엑스레이 영상의 엔트로피(Entropy) 값을 산출하고, EI 평균값에 따라 선정되는 EI_Target를 이용하여 편차 인덱스(Deviation Index)인 DI 값을 산출하는 것을 특징으로 하는 실시간 자동 엑스레이 폐결절 판독 시스템."}
{"patent_id": "10-2020-0185020", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "에 있어서,이미지 처리 프로세서는, 제1 영상이 분할되어 생성된 복수의 영상 중 전경(foreground)의 전부 또는 일부가 포함된 영상을 선별하여 제2영상을 생성하는 것을 특징으로 하는 실시간 자동 엑스레이 폐결절 판독 시스템."}
{"patent_id": "10-2020-0185020", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "청구항 4에 있어서,이미지 처리 프로세서는,판독 프로세서가 분할된 영상을 병합하는 과정에서 누락되거나 중복되는 부분이 발생하는 것을 방지하도록, 제1영상을 분할하는 경우, 서로 다른 격자 사이즈로 분할하고, 각각의 격자 사이즈로 분할된 영상을 대상으로 이미지 처리 절차를 수행하여 제2 영상을 생성하는 것을 특징으로 하는 실시간 자동 엑스레이 폐결절 판독 시스템."}
{"patent_id": "10-2020-0185020", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "청구항 6에 있어서,이미지 처리 프로세서는, 1cm 이하의 폐결절 판독을 위해, 제1 영상이 2500X3050 또는 3072X3072의 화소로 구성된 해상도인 경우, 제1 영상을 서로 다른 격자 사이즈로 분할하여, 각각 6X5 및 5X4 개로 분할하고, 분할된 영상 중 관심영역에 해당하는하나 이상의 영상을 격자 사이즈 별로 각각 선별하는 것을 특징으로 하는 실시간 자동 엑스레이 폐결절 판독 시스템."}
{"patent_id": "10-2020-0185020", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "청구항 2에 있어서,판독 프로세서는,이미지 처리 절차를 거친 영상들을 병합하는 경우, 영상획득부를 통해 획득된 엑스레이 영상과 비교하여, 각 영상들을 배치시키는 것을 특징으로 하는 실시간 자동 엑스레이 폐결절 판독 시스템."}
{"patent_id": "10-2020-0185020", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "영상획득부가 환자의 엑스레이 영상을 획득하는 단계;영상판독부가 영상획득부로부터 수신되는 엑스레이 영상을 복수로 분할하고, 분할된 영상 중 관심영역에 해당하는 영상을 기반으로 폐결절 여부를 판독하는 단계; 및이미지 뷰어부가, 영상판독부로부터 판독 결과를 수신하여, 화면에 표시하는 단계;를 포함하는 실시간 자동 엑스레이 폐결절 판독 방법."}
{"patent_id": "10-2020-0185020", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "의료현장에서 디지털 엑스레이 검출 센서(Digital Radiographic Flat Panel Detector)로 획득된 의료 원시 영상 에서 폐결절(Lung Nodule)을 검출하기 위한 이미지 향상을 포함한 이미지 전처리 과정이 포함된 인공지능 기반의 엑스레이 판독 방법 및 시스템이 제공된다. 본 발명의 실시예에 따른 실시간 자동 엑스레이 폐결절 판독 시스템 (뒷면에 계속)"}
{"patent_id": "10-2020-0185020", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 인공지능 기반의 엑스레이 판독 방법 및 시스템에 관한 것으로, 더욱 상세하게는 의료현장에서 디지 털 엑스레이 검출 센서(Digital Radiographic Flat Panel Detector)로 획득된 의료 원시 영상에서 폐결절(Lung Nodule)을 검출하기 위한 이미지 향상을 포함한 이미지 전처리 과정이 포함된 인공지능 기반의 엑스레이 판독 방법 및 시스템에 관한 것이다."}
{"patent_id": "10-2020-0185020", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "병리학(pathology)이란, 조직 샘플을 육안이나 현미경을 통해 검사하고 이를 분석하여 이상 여부를 판별하는 의 학의 분야이다. 예컨대, 암 진단 여부를 위해서는 해당 의심 조직의 조직 샘플을 현미경을 통해 병리학과 의사 가 검사하고 암세포의 존재 여부를 판단함으로써 암 진단을 내리게 된다. 이러한 종래의 병리 진단에는 의료용 스캐너와 현미경 카메라 등이 사용되고 있는데, 이들은 조직 샘플을 초고 해상도로 스캔하고 스캔된 영상을 처리해야 하기 때문에 매우 고가의 장비이므로 실제 현장에서 사용되기가 어 려운 점이 있다. 또한, 이러한 장비들은 초고해상도의 작업을 수행하기 때문에 하나의 조직 샘플에 대해 수백 메가~수기가바이트 단위의 영상을 생성하게 되는데 이는 매우 오랜 시간을 필요로 하게 된다. 한편, 단순 흉부 X선 촬영은 가장 흔한 방사선 검사로 양쪽 폐와 종격동(양쪽 폐 사이의 공간), 흉부의 각종 뼈 등에 대한 정보를 얻을 수 있으며. 방사선의 양이 매우 적어서 인체에 특별한 해는 없다. 그러나 크기 1cm 미만의 작은 결절은 놓치기 쉽고, 심장과 큰 혈관들, 횡경막, 뼈 등에 가려진 부위에 발생한 폐병변도 찾아내기가 어렵다. 또한 폐암 중 일부는 CT 상'간유리 음영'이라 해서 안개처럼 흐린 모양으로 관찰 되는데, 단순흉부X선촬영에서는 이것이 전혀 보이지 않는 경우도 있다. 따라서, 종래 기술들은 폐암과 같이 초기증상이 별로 없는 증상의 조기 진단에 적합하지 않아, 그 한계가 존재 한다."}
{"patent_id": "10-2020-0185020", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 상기와 같은 문제점을 해결하기 위하여 안출된 것으로서, 본 발명의 목적은, 의료현장에서 디지털 엑 스레이 검출 센서(Digital Radiographic Flat Panel Detector)로 획득된 의료 원시 영상을 이용하여 폐결절 (Lung Nodule)을 검출할 수 있는 인공지능 기반 실시간 자동 엑스레이 폐결절 판독 방법 및 시스템을 제공함에 있다. 본 발명의 다른 목적은, 인공지능 기반 학습 모델을 이용한 영상 판독을 위한 이미지 처리 과정에서 정보량의 손실을 방지하고, 크기가 1.5 내지 3mm 정도로 작은 결절의 검출 효율을 극대화할 수 있는 인공지능 기반 실시 간 자동 엑스레이 폐결절 판독 방법 및 시스템을 제공함에 있다."}
{"patent_id": "10-2020-0185020", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 목적을 달성하기 위한 본 발명의 일 실시예에 따른, 실시간 자동 엑스레이 폐결절 판독 시스템은, 환자의 엑스레이 영상을 획득하는 영상획득부; 영상획득부로부터 수신되는 엑스레이 영상을 복수로 분할하고, 분할된 영상 중 관심영역에 해당하는 영상을 기반으로 폐결절 여부를 판독하는 영상판독부; 및 영상판독부로부터 판독 결과를 수신하여, 화면에 표시하는 이미지 뷰어부;를 포함한다. 그리고 영상판독부는, 영상획득부로부터 수신되는 엑스레이 영상에 대하여 전처리 절차를 수행하여 제1 영상을 생성하는 전처리 프로세서; 제1 영상을 분할하여, 복수의 영상을 생성하고, 분할된 영상에 이미지 처리 절차를 수행하여 제2 영상을 생성하는 이미지 처리 프로세서; 및 제2 영상을 병합하여 제3 영상을 생성하고, 인공지능 기반의 학습모델에 제3 영상을 입력하여, 폐결절 여부를 판독하는 판독 프로세서;를 포함할 수 있다. 또한, 전처리 프로세서는, 엑스레이 영상이 수신되면, 수신되는 엑스레이 영상에 대한 히스토그램(Histogram)을 생성하고, Otsu 알고리즘을 기반으로 영상 내 배경(background)과 전경(foreground)을 구분하는 임계 픽셀 값(Threshold Pixel Value)을 산출하고, 임계 픽셀 값이 산출되면, 픽셀 값(Pixel Value)이 산출된 임계 픽셀 값 보다 작은 영역을 전경으로 구분하여, 전경 영역의 픽셀 평균치인 EI(Exposure Index) 값을 산출하고, 전경 영 역의 픽셀당 빈도수(Frequency) 확률을 산출하여, 엑스레이 영상의 엔트로피(Entropy) 값을 산출하고, EI 평균 값에 따라 선정되는 EI_Target를 이용하여 편차 인덱스(Deviation Index)인 DI 값을 산출할 수 있다. 그리고 전처리 프로세서는, DI 값이 산출되면, 산출되는 DI 값이 기설정된 타겟 범위(-0.5 내지 0.5)를 만족하 도록, 영상을 가우스 필터(Gaussian Filter)에 적용하여 엔트로피 값 및 EI 값을 조정하여, 제1 영상을 생성할 수 있다. 또한, 이미지 처리 프로세서는, 제1 영상이 분할되어 생성된 복수의 영상 중 전경(foreground)의 전부 또는 일 부가 포함된 영상을 선별하여 제2 영상을 생성할 수 있다. 그리고 이미지 처리 프로세서는, 판독 프로세서가 분할된 영상을 병합하는 과정에서 누락되거나 중복되는 부분 이 발생하는 것을 방지하도록, 제1 영상을 분할하는 경우, 서로 다른 격자 사이즈로 분할하고, 각각의 격자 사 이즈로 분할된 영상을 대상으로 이미지 처리 절차를 수행하여, 제2 영상을 생성할 수 있다. 또한, 이미지 처리 프로세서는, 1cm 이하의 폐결절 판독을 위해, 제1 영상이 2500X3050 또는 3072X3072의 화소 로 구성된 해상도인 경우, 제1 영상을 서로 다른 격자 사이즈로 분할하여, 각각 6X5 및 5X4 개로 분할하고, 분 할된 영상 중 관심영역에 해당하는 하나 이상의 영상을 격자 사이즈 별로 각각 선별할 수 있다. 그리고 판독 프로세서는, 이미지 처리 절차를 거친 영상들을 병합하는 경우, 영상획득부를 통해 획득된 엑스레 이 영상과 비교하여, 각 영상들을 배치시킬 수 있다. 한편, 본 발명의 다른 실시예에 따른, 실시간 자동 엑스레이 폐결절 판독 방법은, 영상획득부가 환자의 엑스레 이 영상을 획득하는 단계; 영상판독부가 영상획득부로부터 수신되는 엑스레이 영상을 복수로 분할하고, 분할된 영상 중 관심영역에 해당하는 영상을 기반으로 폐결절 여부를 판독하는 단계; 및 이미지 뷰어부가, 영상판독부 로부터 판독 결과를 수신하여, 화면에 표시하는 단계;를 포함한다."}
{"patent_id": "10-2020-0185020", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "이상 설명한 바와 같이, 본 발명의 실시예들에 따르면, 의료현장에서 디지털 엑스레이 검출 센서(Digital Radiographic Flat Panel Detector)로 획득된 의료 원시 영상을 이용하여 폐결절(Lung Nodule)을 검출할 수 있 다. 또한, 본 발명의 실시예들에 따르면, 인공지능 기반 학습 모델을 이용한 영상 판독을 위한 이미지 처리 과정에 서 정보량의 손실을 방지하고, 크기가 1.5 내지 3mm 정도로 작은 결절의 검출 효율을 극대화시킬 수 있다."}
{"patent_id": "10-2020-0185020", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하에서는 도면을 참조하여 본 발명을 보다 상세하게 설명한다. 도 1은, 본 발명의 일 실시예에 따른 실시간 자동 엑스레이 폐결절 판독 방법 시스템의 설명에 제공된 도면이고, 도 2는, 본 발명의 일 실시예에 따른 실시간 자동 엑스레이 폐결절 판독 방법 시스템의 구성 설명에 제공된 도면이다. 본 실시예에 따른 실시간 자동 엑스레이 폐결절 판독 방법 시스템은, 의료현장에서 디지털 엑스레이 검출 센서 (Digital Radiographic Flat Panel Detector)로 획득된 의료 원시 영상을 이용하여 폐결절(Lung Nodule)을 검 출하기 위해 마련된다. 더불어, 본 실시간 자동 엑스레이 폐결절 판독 방법 시스템은, 인공지능 기반 학습 모델을 이용한 영상 판독을 위한 이미지 처리 과정에서 정보량의 손실을 방지하고, 크기가 1.5 내지 3mm 정도로 작은 결절의 검출 효율을 극대화시킬 수 있다. 이를 위해, 본 실시간 자동 엑스레이 영상 판독 시스템은, 영상획득부, 영상판독부 및 이미지 표시부 를 포함할 수 있다. 영상획득부는, 환자로부터 엑스레이 영상을 획득하기 위한 엑스레이 발생기, 디지털 평판 엑스레이 디텍터 및 제어 판넬 등으로 구성되어, 환자의 엑스레이 영상을 획득할 수 있다. 영상판독부는, 인공지능 기반의 학습모델을 이용하여, 영상획득부로부터 수신되는 엑스레이 영상을 복수로 분할하고, 분할된 영상 중 관심영역에 해당하는 영상을 기반으로 폐결절 여부를 판독할 수 있다. 이미지 표시부는, 영상판독부로부터 판독결과를 수신하여, 화면에 표시할 수 있다. 이때, 이미지 표시부의 화면에 표시되는 판독결과는, 이미지 또는 문자 및 숫자로 변환되어, 기존 의료 영 상 이미지에 중첩되는 결과물을 의미한다. 도 3은, 본 발명의 일 실시예에 따른 영상판독부의 설명에 제공된 도면이다. 영상판독부는, 인공지능 기반의 학습모델을 이용하여, 영상획득부로부터 수신되는 엑스레이 영상을 복수로 분할하고, 분할된 영상 중 관심영역에 해당하는 영상을 기반으로 폐결절 여부를 판독하기 위해, 전처리 프로세 서, 이미지 처리 프로세서 및 판독 프로세서를 포함할 수 있다. 전처리 프로세서는, 영상획득부로부터 수신되는 엑스레이 영상에 대하여 전처리 절차를 수행하여 제1 영상 을 생성할 수 있다. 구체적으로, 전처리 프로세서는, 엑스레이 영상이 수신되면, 수신되는 엑스레이 영상에 대한 히스토그램 (Histogram)을 생성하고, Otsu 알고리즘을 기반으로 영상 내 배경과 전경을 구분하는 임계 픽셀 값(Threshold Pixel Value)을 산출할 수 있다. 이때, 엑스레이 영상은, 다이콤 파일(DICOM File) 형태의 의료 영상이 아닌 일정 수준 이상의 원시 파일(RAW File)일 수 있다. 그리고 전처리 프로세서는, 임계 픽셀 값이 산출되면, 픽셀 값(Pixel Value)이 산출된 임계 픽셀 값보다 작은 영역을 전경으로 구분하여, 전경 영역의 픽셀 평균치인 EI(Exposure Index) 값을 산출하고, 전경 영역의 픽셀당 빈도수(Frequency) 확률을 산출하여, 엑스레이 영상의 엔트로피(Entropy) 값을 산출하고, EI 평균값에 따라 선정되는 EI_Target를 이용하여 편차 인덱스(Deviation Index)인 DI 값을 산출할 수 있다. 또한, 전처리 프로세서는, DI 값이 산출되면, 산출되는 DI 값이 기설정된 타겟 범위(-0.5 내지 0.5)를 만 족하도록, 영상을 가우스 필터(Gaussian Filter)에 적용하여 엔트로피 값 및 EI 값을 조정하여, 제1 영상을 생 성할 수 있다. 구체적으로, 전처리 프로세서는, DI 값이 기설정된 타겟 범위(Target Range)를 벗어나고, EI/EI_Target 비율인 EI_Ratio가 1보다 큰 경우, 원시 영상을 가우스 필터(Gaussian Filter)에 적용하여 엔트로피 값 및 EI 값을 조정할 수 있다. 예를 들면, 전처리 프로세서는, DI가 Target 범위 (-0.5~0.5) 영역밖이고 EI/EI_Target 비율인 EI_Ratio 가 1보다 크면 원시 영상(Raw Image)에 곱하여 Scaled Image을 생성한 후 Gaussian Filter를 적용하여 Pixel Value가 65535를 초과여부를 Check 하고 65535로 Clamping할 수 있다. 그리고 전처리 프로세서는, 원시 영상의 EI 값과 엔트로피 값을 기설정된 EI 기준값 및 엔트로피 기준값과 비교하여, 어느 하나라도 미달되면, 영상획득부에 원시 영상의 재획득을 요청할 수 있다. 이미지 처리 프로세서는, 제1 영상을 분할하여, 복수의 영상을 생성하고, 분할된 영상에 이미지 처리 절차 를 수행하는 제2 영상(Sub-image)을 생성할 수 있다. 예를 들면, 이미지 처리 프로세서는, 제1 영상이 분할되어 생성된 복수의 영상 중 전경(foreground)의 전 부 또는 일부가 포함된 영상을 선별하여 제2 영상을 생성할 수 있다. 판독 프로세서는, 제2 영상을 병합하여 제3 영상을 생성하고, 인공지능 기반의 학습모델에 제3 영상을 입 력하여, 폐결절 여부를 판독할 수 있다. 구체적으로, 판독 프로세서는, 이미지 처리 절차를 거친 영상들을 병합하는 경우, 영상획득부를 통해 획득 된 엑스레이 영상과 비교하여, 각 영상들을 배치시켜 병합할 수 있다. 도 4는, 엑스레이 영상의 전처리 과정의 설명에 제공된 도면이다. 전처리 프로세서는, 엑스레이 영상이 수신되면, 수신되는 엑스레이 영상을 읽어(S410), 엑스레이 영상에 대한 히스토그램(Histogram)을 생성하고, Otsu 알고리즘을 기반으로 영상 내 배경과 전경을 구분하는 임계 픽셀 값(Threshold Pixel Value)을 산출할 수 있다. 그리고 전처리 프로세서는, 임계 픽셀 값이 산출되면, 픽셀 값(Pixel Value)이 산출된 임계 픽셀 값보다 작은 영역을 전경으로 구분하여, 전경 영역의 픽셀 평균치인 EI(Exposure Index) 값을 산출하고, 전경 영역의 픽셀당 빈도수(Frequency) 확률을 산출하여, 엑스레이 영상의 엔트로피(Entropy) 값을 산출하고, EI 평균값에 따라 선정되는 EI_Target를 이용하여 편차 인덱스(Deviation Index)인 DI 값을 산출할 수 있다(S420). 이때, EI_Target은, 도 12에 예시된 바와 같이 EI 평균값인 3,337로 산출될 수 있다. 또한, 전처리 프로세서는, DI 값이 기설정된 타겟 범위(-0.5 내지 0.5)를 만족하는지 여부를 판단하고 (S430), DI 값이 기설정된 타겟 범위(-0.5 내지 0.5)를 벗어나면(S430-N), EI_Ratio(EI 비율)을 산출하여 (S440), 원시 영상을 EI 비율로 스케일링할 수 있다(S450). 그리고 전처리 프로세서는, EI 비율이 1보다 큰 경우(S450-Y), 원시 영상을 가우스 필터(Gaussian Filter)에 적용하여(S480), Pixel Value가 65535를 초과여부를 Check하고 65535로 Clamping하여, Pixel Value 가 65535로 Clamping된 영상을 이미지 처리 프로세서에 전달할 수 있다. 반대로, 전처리 프로세서는, DI 값이 기설정된 타겟 범위(-0.5 내지 0.5)를 만족하거나(S430-Y), 또는 원 시 영상이 EI 비율로 스케일링된 이후, EI 비율이 1보다 작은 경우(S460-N), 해당 영상을 정규화 표준이미지로 입력하여(S470), 이미지 처리 프로세서에 전달할 수 있다. 도 5는, 원시 파일(Raw File)이 시각화되어 출력되는 원시 영상(Raw Image)이 예시된 도면이다. 도 5에 예시된 원시 파일(RAW File)은 Digital Radiographic Flat Panel Detector(X-ray Image Sensor)의 출력 으로 3072 by 3072 Size의 16 bit Data이다. 도 5a는 Grid를 적용하지 않고, X-ray Source와 Detector까지의 거리는 180cm, 인가전압은 110kV, 인가전류X시 간을 나타내는 mAs는 1.0 인 조건에서 획득한 Chest Phantom에 대한 Sensor 출력을 Visualization 한 것이고, 도 5c 도 5 a에 대한 히스토그램(Histogram)을 나타낸 것이다. 이때, 도 5c에는 Peak Value와 Peak Frequency,원시 영상(Raw Image)의 Exposure Index와 엔트로피(Entropy)가 산출되어 함께 기입되었다. EI(Exposure Index)는 노출지수로서 배경을 제외한 피사체의 Pixel 평균치로 정의된다. Exposure Index는 노출 이 Normal-exposed, Under-exposed, Over-exposed 여부를 판단하는 척도가 되며, 엔트로피(Entropy)는 Image의 정보량을 나타내는 척도로 이미지가 얼마의 정보를 가지고 있는지를 나타낸 것이다. 도 5b는, Grid를 적용하지 않고, X-ray Source와 Detector까지의 거리는 180cm, 인가전압은 110kV, 인가전류X 시간을 나타내는 mAs는 8.0 인 조건에서 획득한 Chest Phantom에 대한 Sensor 출력을 Visualization 한 것이다. 도 5d는 도 5b에 대한 히스토그램(Histogram)을 나타낸 것이며, 원시 영상(Raw Image)이 특성치인 Peak Value, Peak Frequency, EI, 엔트로피(Entropy) 값이 기입된 것이다. 도 6은, 원시 영상(Raw Image)의 특성치 및 히스토그램(Histogram) 비교 설명에 제공된 도면이다. 도 6은 조사되는 방사선의 양이 상대적으로 적어, 우측의 이미지는 상대적으로 크다. 따라서 폐 부의의 음영이 상대적으로 밝게 보인다. 이때, 16 bit Image이므로 Pixel Value의 Max Value는 65535이며, Pixel 값이 0에 근접할수록 어둡게 보이고, 65535에 근접할수록 밝게 보일 수 있다. 이러한 특성치를 분석하여 원시 영상(Raw Image) 품질평가가 가능하기 때문에, 본 실시예에 따른 이미지 처리 프로세서는, 특성치의 변화에 따라 목표 특성치의 값이 나올 수 있도록 원시 영상의 이미지 전처리를 수행 하게 된다. 도 7은, Extremely Low Dose Raw Image Filtering의 설명에 제공된 도면이다. 도 7의 좌측 이미지는, Low dose Image에 대해서 Contrast, Gamma, Histogram, De-noising, Invert, multi- frequency processing 등의 이미지 처리한 결과가 예시된 것이고, 우측 그래프는, EI 분포를 나타낸 것이다. 우측 그래프의 Red Line 좌측에 해당하는 원시 파일(RAW File)은 Image Quality가 Poor 하여 Retake(재촬영)가 필요할 수 있다. 따라서, 전처리 프로세서는, 원시 영상의 EI 값과 엔트로피 값을 기설정된 EI 기준값 및 엔트로피 기준값 과 비교하여, 어느 하나라도 미달되면, 영상획득부에 원시 영상의 재획득을 요청할 수 있다. 도 8 및 도 9는, 각각 Grid On/Off 상태에서 mAs를 변경하면서 EI 및 엔트로피(Entropy)를 산출한 결과가 예시 된 도면이다. 구체적으로, 도 8은, Grid를 적용하지 않은 경우와 Grid를 적용을 한 경우에 있어서, EI와 mAs간 상관관계를 나타낸 도면이고, 도 9는, Grid를 적용하지 않은 경우와 Grid를 적용을 한 경우에 있어서, 이미지 정보 엔트로피와 mAs간 상관관계를 나타낸 도면이다. 도 10는, 원시 영상(Raw Image)의 DI 산출 과정의 설명에 제공된 도면이고, 도 11은, DI의 타겟 범위(Target Range)의 설명에 제공된 도면이며, 도 12는, 전처리 과정을 거친 영상의 DI 분포가 예시된 도면이다. 도 8 내지 도 9는, 각각 Grid On/Off 상태에서 mAs를 변경하면서 EI 및 엔트로피(Entropy)를 산출한 결과가 예 시된 도면이다. EI는, 전처리 프로세서가, Otsu 알고리즘으로 히스토그램(Histogram)에서 피사체와 배경을 구분하는 임계 값(Threshold)을 산출할 수 있으며, 이미지에 임계값(Threshold)보다 작은 피사체 영역의 Pixel Average를 산 출할 수 있다. 이때, EI는 도 7에 예시된 바와 같이 mAs 뱐화에 대해 선형성이 있음을 확인할 수 있다. 엔트로피(Entropy)는, 전처리 프로세서가, Otsu Algorithm으로 히스토그램(Histogram)에서 피사체와 배경 을 구분하는 임계값(Threshold)를 산출하고, 피사체의 Pixel Frequency를 피사체 면적으로 나누어 확률을 구하 고 엔트로피(Entropy)를 계산할 수 있다. 여기서, Deviation Index는 전처리 프로세서가, 산출한 EI에서 EI_Target를 나누어 Log를 취하여 산출을 할 수 있으며, DI가 0일 때, 가장 이상적인 값이며, 0보다 크면 클수록 방사선 노출량이 많음을 의미하고, 0보 다 작으면, 작을수록 방사선 노출량이 적음을 나타낸다. DI가 0보다 크면 클수록 원시 영상(Raw Image)의 정보량이 증가하나 환자의 피폭량도 같이 증가하고 반면에, 0 보다 작으면 작을 수록 방사선 노출량이 감소하나 Image 엔트로피(Entropy)도 감소하여 Image Quality가 저하될수 있다. 전처리 프로세서는, 도 11에 예시된 바와 같이 DI 구간을 5구간으로 나누어 Range Action을 취할 수 있으 며, DI가 기설정된 범위(-0.5 내지 0.5)에 포함되도록 한다. 즉, 전처리 프로세서는, DI 값이 기설정된 타겟 범위(-0.5 내지 0.5)를 벗어나고, EI/EI_Target 비율인 EI_Ratio가 1보다 큰 경우, 원시 영상을 가우스 필터(Gaussian Filter)에 적용하여 엔트로피 값 및 EI 값을 조 정하게 된다. 정리하면, 전처리 프로세서는, 임계 픽셀 값이 산출되면, 픽셀 값(Pixel Value)이 산출된 임계 픽셀 값보 다 작은 영역을 전경으로 구분하여, 전경 영역의 픽셀 평균치인 EI(Exposure Index) 값을 산출하고, 전경 영역 의 픽셀당 빈도수(Frequency) 확률을 산출하여, 엑스레이 영상의 엔트로피(Entropy) 값을 산출하고, EI 평균값 에 따라 선정되는 EI_Target를 이용하여 편차 인덱스(Deviation Index)인 DI 값을 산출할 수 있다. 이때, EI_Target은, 도 12에 예시된 바와 같이 EI 평균값인 3,337로 산출될 수 있다. 도 13은, 전처리 과정을 거친 영상을 복수로 분할하는 과정의 설명에 제공된 도면이고, 도 14는, 분류된 복수의 영상 중 관심영역에 해당하는 영상을 선별하는 과정의 설명에 제공된 도면이다. 이미지 처리 프로세서는, 제1 영상을 분할하여, 복수의 영상을 생성하고, 분할된 영상 중 관심영역에 해당 하는 하나 이상의 제2 영상을 선별하여, 이미지 처리 절차를 수행할 수 있다. 예를 들면, 이미지 처리 프로세서는, 제1 영상을 분할하여, 복수의 영상을 생성하고, 분할된 영상에 이미 지 처리 절차를 수행하는 제2 영상을 생성할 수 있다. 또한, 이미지 처리 프로세서는, 판독 프로세서가 분할된 영상을 병합하는 과정에서 누락되거나 중복 되는 부분이 발생하는 것을 방지하도록, 제1 영상을 분할하는 경우, 서로 다른 격자 사이즈로 분할하고, 각각의 격자 사이즈로 분할된 영상을 대상으로 이미지 처리 절차를 수행하여, 제2 영상을 생성할 수 있다. 여기서, 서로 다른 격자 사이즈로 분할된 영상은, 제1 영상이 2500X3050 또는 3072X3072의 화소로 구성된 해상 도인 경우, 1cm 이하의 폐결절 판독을 위해, 제1 영상이 6X5개로 분할되는 제1 격자 사이즈 및 제1 영상이 5X4 개로 분할되는 제2 격자 사이즈일 수 있다. 즉, 이미지 처리 프로세서는, 1cm 이하의 폐결절 판독을 위해, 제1 영상이 2500X3050 또는 3072X3072의 화 소로 구성된 해상도인 경우, 제1 영상을 서로 다른 격자 사이즈로 분할하여, 각각 6X5 및 5X4 개로 분할하고, 이때, 분할된 영상 중 관심영역에 해당하는 하나 이상의 영상을 격자 사이즈 별로 각각 선별할 수 있다. 이미지 처리 프로세서는, 학습 모델 학습 시, 폐결절이 검출된 제2 영상을 학습 데이터로 이용할 수 있으 며, 이때, 도 14에 예시된 바와 같이 학습 데이터를 대상으로 Image Shift, Image Rotation 등을 수행하여, 학 습 데이터의 수를 증가시킬 수 있다. 이때, 학습 데이터로 이용되는 제2 영상은, 해상도(resolution)의 절반에 해당하는 값만큼 상, 하, 좌, 우, 좌 상, 좌하, 우상, 우하 등의 방향으로 시프트(Shift)시켜, 경계선에 있는 폐결절을 적어도 둘 중 하나가 포함된 영상일 수 있다. 도 15는, 선별된 영상을 병합하여 이미지 처리하는 과정의 설명에 제공된 도면이다. 도 15를 참조하면, 이미지 처리 프로세서는, 전처리 프로세서로부터 수신되는 영상에 LDIEA(Low Dose Image Enhancing algorithm)를 적용하여, 정규화 표준이미지(Standard Image)를 생성할 수 있다(S1510). 여기서, LDIEA은, 원시 영상(Raw Image)의 전처리 과정에 적용되어, 영상의 DI 값이 기설정된 타겟 범위(-0.5 내지 0.5)에 포함되도록 하는 알고리즘이다. 즉, 이미지 처리 프로세서는, 전처리 프로세서로부터 수신되는 영상에 LDIEA를 적용하여, 영상의 DI 값이 기설정된 타겟 범위(-0.5 내지 0.5)에 포함되도록 할 수 있다. 이미지 처리 프로세서는, 영상에 LDIEA를 적용한 이후, 선형 또는 비선형 함수를 적용하여 영상(Image Pixel)의 Pixel 값을 조정함으로써, 영상의 Max와 Min의 차이 값인 Contrast를 조정할 수 있다(S1520). 예를 들면, 이미지 처리 프로세서는, 영상의 Pixel 값을 전체적으로 조정함으로써 Global Contrast를 조정 하거나 또는 영상을 분할하고 분할된 이미지 각각에 대하여 Pixel 값을 조정함으로써 Local Contrast를 조정할수 있다. 이미지 처리 프로세서는, Contrast 조정 작업을 수행한 이후, 제반 필터를 기반으로 이미지 픽셀 값을 조 정하여, Image Brightness 등의 이미지 특성을 조정하는 Image Conversion 작업을 수행할 수 있다(S1530). 그리고 이미지 처리 프로세서는, Image Conversion 작업을 수행한 이후, 원본 이미지에 대해 Sigma 값이 다른 복수의 Gaussian Filter를 적용하고 원본 이미지에는 Gaussian Filter를 적용하여 얻은 이미지와의 차이를 산출하여 각각의 차이 이미지에 가중치를 곱하여 Summation을 하는 Multi-frequency Processing(다중 주파수 처리) 작업을 수행할 수 있다(S1540). 구체적으로, 이미지 처리 프로세서는, Multi-frequency Processing 작업 시, Cutoff Frequency가 서로 다 른 Low Pass Filter을 적용하여 얻은 이미지로 원본영상에서 차를 구하여 High Pass Filter 이미지를 얻어 가중 치의 합을 적용하여 원본 이미지의 정보량을 증가시켜 이미지를 향상시키는 알고리즘을 이용할 수 있다. 이미지 처리 프로세서는, Multi-frequency Processing 작업을 수행한 이후, 병변을 잘 판별할 수 있도록 Image 밝기, 콘트라스트, 선명도 등을 최적화하는 Image Enhancing(이미지 향상) 작업을 수행할 수 있다 (S1550). 구체적으로, Image Enhancing 작업에는, Canny Filter, Sobel Filter, Gaussian Filter, Median Filter, Gabo Filter 등이 이용될 수 있다. 이미지 처리 프로세서는, Image Enhancing 작업을 수행한 이후, Signal to Noise Ratio를 극대화하는 방 식으로 신호를 최대한 살리고, 노이즈를 제거하는 Image De-noising 작업을 수행할 수 있다(S1560). 도 16은, 복수의 영상을 병합하는 과정의 설명에 제공된 도면이다. 이미지 처리 프로세서는, 전술한 바와 같이 제1 영상을 대상으로 이미지 전처리 및 이미지 처리한 이후, 제1 영상을 분할하기 전에, 제1 영상의 사이즈 및 제1 영상을 분할하여 생성하고자 하는 제2 영상의 사이즈를 고려하여, 격자 사이즈가 다른 제1 격자 및 제2 격자의 개수를 산출하게 된다(S1610). 그리고 이미지 처리 프로세서는, 산출된 제1 격자 및 제2 격자의 개수에 따라 서로 다른 크기로, 영상을 분할하여, 제1 격자 사이즈의 제2 영상과 제2 격자 사이즈의 제2 영상을 생성할 수 있다(S1620). 이미지 처리 프로세서는, 각각의 격자 사이즈로 생성된 제2 영상이 입력 영상 사이즈와 동일한지 판단하여 (S1630), 입력 영상의 사이즈보다 작으면(S1630-N), 업 샘플링을 수행하여(S1640), 입력 영상과 동일한 사이즈 로 만들어, 병합할 수 있다(S1650). 반대로, 이미지 처리 프로세서는, 제2 영상이 입력 영상과 동일한 사이즈인 경우(S1630-Y), 그대로 병합하 여, 제3 영상을 생성할 수 있다(S1650). 이를 통해, 인공지능 기반 학습 모델을 이용한 영상 판독을 위한 이미지 처리 과정에서 정보량의 손실을 방지하 고, 크기가 1.5 내지 3mm 정도로 작은 결절의 검출 효율을 극대화시킬 수 있다. 한편, 본 실시예에 따른 장치와 방법의 기능을 수행하게 하는 컴퓨터 프로그램을 수록한 컴퓨터로 읽을 수 있는 기록매체에도 본 발명의 기술적 사상이 적용될 수 있음은 물론이다. 또한, 본 발명의 다양한 실시예에 따른 기 술적 사상은 컴퓨터로 읽을 수 있는 기록매체에 기록된 컴퓨터로 읽을 수 있는 코드 형태로 구현될 수도 있다. 컴퓨터로 읽을 수 있는 기록매체는 컴퓨터에 의해 읽을 수 있고 데이터를 저장할 수 있는 어떤 데이터 저장 장 치이더라도 가능하다. 예를 들어, 컴퓨터로 읽을 수 있는 기록매체는 ROM, RAM, CD-ROM, 자기 테이프, 플로피 디스크, 광디스크, 하드 디스크 드라이브, 등이 될 수 있음은 물론이다. 또한, 컴퓨터로 읽을 수 있는 기록매체 에 저장된 컴퓨터로 읽을 수 있는 코드 또는 프로그램은 컴퓨터간에 연결된 네트워크를 통해 전송될 수도 있다. 또한, 이상에서는 본 발명의 바람직한 실시예에 대하여 도시하고 설명하였지만, 본 발명은 상술한 특정의 실시"}
{"patent_id": "10-2020-0185020", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "예에 한정되지 아니하며, 청구범위에서 청구하는 본 발명의 요지를 벗어남이 없이 당해 발명이 속하는 기술분야 에서 통상의 지식을 가진자에 의해 다양한 변형실시가 가능한 것은 물론이고, 이러한 변형실시들은 본 발명의 기술적 사상이나 전망으로부터 개별적으로 이해되어져서는 안될 것이다. 부호의 설명100 : 영상획득부 200 : 영상판독부 210 : 전처리 프로세서 220 : 이미지 처리 프로세서 230 : 판독 프로세서 300 : 이미지 표시부"}
{"patent_id": "10-2020-0185020", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은, 본 발명의 일 실시예에 따른 실시간 자동 엑스레이 폐결절 판독 방법 시스템의 설명에 제공된 도면, 도 2는, 본 발명의 일 실시예에 따른 실시간 자동 엑스레이 폐결절 판독 방법 시스템의 구성 설명에 제공된 도 면, 도 3은, 본 발명의 일 실시예에 따른 영상판독부의 설명에 제공된 도면, 도 4는, 엑스레이 영상의 전처리 과정의 설명에 제공된 도면, 도 5는, 원시 파일(Raw File)이 시각화되어 출력되는 원시 영상(Raw Image)이 예시된 도면, 도 6은, 원시 영상(Raw Image)의 특성치 및 히스토그램(Histogram) 비교 설명에 제공된 도면, 도 7은, Extremely Low Dose Raw Image Filtering의 설명에 제공된 도면, 도 8 내지 도 9는, 각각 Grid On/Off 상태에서 mAs를 변경하면서 EI 및 엔트로피(Entropy)를 산출한 결과가 예 시된 도면, 도 10는, 원시 영상(Raw Image)의 DI 산출 과정의 설명에 제공된 도면, 도 11은, DI의 타겟 범위(Target Range)의 설명에 제공된 도면, 도 12는, 전처리 과정을 거친 영상의 DI 분포가 예시된 도면, 도 13은, 전처리 과정을 거친 영상을 복수로 분할하는 과정의 설명에 제공된 도면, 도 14는, 분류된 복수의 영상 중 관심영역에 해당하는 영상을 선별하는 과정의 설명에 제공된 도면, 도 15은, 선별된 영상을 병합하여 이미지 처리하는 과정의 설명에 제공된 도면, 그리고 도 16은, 복수의 영상을 병합하는 과정의 설명에 제공된 도면이다."}
