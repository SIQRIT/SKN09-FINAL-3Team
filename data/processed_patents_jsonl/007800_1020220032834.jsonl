{"patent_id": "10-2022-0032834", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0135405", "출원번호": "10-2022-0032834", "발명의 명칭": "이미지 내 사람의 속성 추정 방법 및 장치", "출원인": "에스케이텔레콤 주식회사", "발명자": "강충헌"}}
{"patent_id": "10-2022-0032834", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "이미지 내 사람의 속성을 추정하기 위한 방법에 있어서,입력 이미지 내 적어도 한 사람의 전신 영역(region), 가시적 신체 영역 및 머리 영역을 포함하는 객체 영역을검출하는 단계;상기 전신 영역에 대한 상기 머리 영역의 상대적 위치, 또는 상기 전신 영역과 상기 가시적 신체 영역이 겹쳐진영역의 비율 중 적어도 하나에 기초하여 상기 사람의 속성을 추정할 것인지 여부를 판단하는 단계; 및상기 사람의 속성을 추정하는 것으로 판단된 경우, 상기 입력 이미지에 기초하여 상기 사람의 속성을 추정하는단계를 포함하는 방법."}
{"patent_id": "10-2022-0032834", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 사람의 속성을 추정할 것인지 여부를 판단하는 단계는,상기 전신 영역 내 관심 영역을 설정하는 단계; 및상기 머리 영역의 일부가 상기 관심 영역 내에 위치하는 경우, 상기 사람의 속성을 추정하는 것으로 결정하는단계를 포함하는 방법."}
{"patent_id": "10-2022-0032834", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 사람의 속성을 추정할 것인지 여부를 판단하는 단계는,상기 겹쳐진 영역의 비율이 기 설정된 비율보다 높은 경우, 상기 사람의 속성을 추정하는 것으로 결정하는 단계를 포함하는 방법."}
{"patent_id": "10-2022-0032834", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 사람의 속성을 추정하는 단계는,상기 입력 이미지 내 상기 사람의 몸통(torso) 영역을 검출하는 단계;상기 몸통 영역에 기초하여 상기 사람의 속성을 추정하는 단계를 포함하는 방법."}
{"patent_id": "10-2022-0032834", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서,상기 사람의 속성은,상기 사람의 성별 또는 연령 중 적어도 하나를 포함하는 것인 방법."}
{"patent_id": "10-2022-0032834", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "공개특허 10-2023-0135405-3-제1항에 있어서,이전 입력 이미지로부터 검출된 적어도 하나의 이전 객체 영역 중에서 상기 객체 영역에 대응되는 이전 객체 영역이 있는지 판단하는 단계;상기 이전 객체 영역이 없는 경우, 상기 전신 영역의 위치 정보 및 상기 추정된 속성에 기초하여 상기 사람의추적 정보를 생성하는 단계; 및상기 이전 객체 영역이 있는 경우, 상기 전신 영역의 위치 정보 및 상기 추정된 속성에 기초하여 상기 이전 객체 영역에 대응되는 사람의 추적 정보를 갱신하는 단계를 더 포함하는 방법."}
{"patent_id": "10-2022-0032834", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서,상기 추정된 속성의 신뢰도를 획득하는 단계를 더 포함하고,상기 대응되는 사람의 추적 정보를 갱신하는 단계는,상기 대응되는 사람의 추적 정보에 포함된 이전 속성의 신뢰도 및 상기 추정된 속성의 신뢰도 간 비교에 기초하여, 상기 추정된 속성을 이용하여 상기 대응되는 사람의 추적 정보에 포함된 이전 속성을 갱신하는 단계를 포함하는 방법."}
{"patent_id": "10-2022-0032834", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "이미지 내 사람의 속성을 추정하기 위한 장치에 있어서,입력 이미지 내 적어도 한 사람의 전신 영역, 가시적 신체 영역 및 머리 영역을 포함하는 객체 영역을 검출하는객체 영역 검출부;상기 전신 영역에 대한 상기 머리 영역의 상대적 위치, 또는 상기 전신 영역과 상기 가시적 신체 영역이 겹쳐진영역의 비율 중 적어도 하나에 기초하여 상기 사람의 속성을 추정할 것인지 여부를 판단하는 추정 여부 판단부;및상기 사람의 속성을 추정하는 것으로 판단된 경우, 상기 입력 이미지에 기초하여 상기 사람의 속성을 추정하는속성 추정부를 포함하는 장치."}
{"patent_id": "10-2022-0032834", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에 있어서,상기 사람의 추적 정보를 관리하는 추적 정보 관리부를 더 포함하고,상기 추적 정보 관리부는,이전 입력 이미지로부터 검출된 적어도 하나의 이전 객체 영역 중에서 상기 객체 영역에 대응되는 이전 객체 영역이 있는지 판단하고,상기 이전 객체 영역이 없는 경우, 상기 전신 영역의 위치 정보 및 상기 추정된 속성에 기초하여 상기 사람의추적 정보를 생성하고,상기 이전 객체 영역이 있는 경우, 상기 전신 영역의 위치 정보 및 상기 추정된 속성에 기초하여 상기 이전 객체 영역에 대응되는 사람의 추적 정보를 갱신하는 것인 장치."}
{"patent_id": "10-2022-0032834", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제1항 내지 제7항 중 어느 한 항의 방법을 실행하기 위한 컴퓨터 프로그램을 기록한 컴퓨터로 판독 가능한 기록매체.공개특허 10-2023-0135405-4-"}
{"patent_id": "10-2022-0032834", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "이미지 내 사람의 속성 추정 방법 및 장치를 개시한다. 본 발명의 일 측면에 의하면, 이미지 내 사람의 속성을 추정하기 위한 방법에 있어서, 입력 이미지 내 사람의 전 신 영역(region), 가시적 신체 영역 및 머리 영역을 포함하는 객체 영역을 검출하는 단계; 상기 전신 영역에 대 한 상기 머리 영역의 상대적 위치, 또는 상기 전신 영역과 상기 가시적 신체 영역이 겹쳐진 영역의 비율 중 적어 도 하나에 기초하여 상기 사람의 속성을 추정할 것인지 여부를 판단하는 단계; 및 상기 사람의 속성을 추정하는 것으로 판단된 경우, 상기 입력 이미지에 기초하여 상기 사람의 속성을 추정하는 단계를 포함하는 방법을 제공한 다."}
{"patent_id": "10-2022-0032834", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명의 실시예들은 이미지 내 사람의 속성 추정 방법 및 장치에 관한 것이다. 특히, 본 발명의 실시예들은 사람의 연령 또는 성별을 추정하는 방법 및 장치에 관한 것이다."}
{"patent_id": "10-2022-0032834", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "이하에 기술되는 내용은 단순히 본 실시예와 관련되는 배경 정보만을 제공할 뿐 종래기술을 구성하는 것이 아니 다. 최근 영상 인식 기술을 통하여 신원, 성별, 방문객 수, 체류시간 등을 측정하고, 이를 저장 및 분석하여 마케팅 데이터 및 얼굴 인식 포토앨범, 출입통제, 범죄자 추적, 비디오 해석으로 활용하기 위한 연구가 활발히 진행되 고 있다. 기존의 성별 인식 기술은 얼굴 영상을 캡처하고, 얼굴 영상에서 단일 얼굴 영역을 검출하고, 검출된 단일 얼굴 영역을 성별을 인식하는 데 사용한다. 하지만, Closed-circuit Television(CCTV)와 같이, 이미지가 넓은 영역의 장면을 캡처한 것이라면, 이미지 내 사람들 각각의 단일 얼굴 영역을 검출하는 데 어려움이 있다. 다른 성별 인식 기술은 사람의 전신 이미지로부터 사람의 성별을 인식한다. 구체적으로, 종래 기술은 이미지 내 여러 사람들 각각에 대한 신체 이미지를 추출하고, 신체 이미지로부터 사람의 성별을 추정한다. 종래 기술은 사 람이 정면을 바라보는 이미지를 이용할 때, 사람의 성별을 정확하게 추정할 수 있다. 하지만, 고정된 카메라에 의해 캡처된 이미지 내에서는 사람의 자세가 성별을 추정하는 데 부적합한 자세일 수 있고, 또한 사람이 장애물 에 의해 가려지는 가려짐(occlusion) 현상이 발생할 수 있다. 기존의 성별 인식 기술에 의하면 이러한 다양한 요소들을 고려하지 않아 성별 인식의 정확도가 좋지 못한 문제 점이 있다."}
{"patent_id": "10-2022-0032834", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 실시예들은, 이미지에 포함된 사람들 중 사람의 속성을 추정하는 데 적합한 자세를 취하는 사람들에 대해서만 속성을 추정함으로써, 사람의 속성을 정확하게 추정하기 위한 사람의 속성 추정 방법 및 장치를 제공 하는 데 주된 목적이 있다. 본 발명의 다른 실시예들은, 이미지 내 사람이 장애물에 의해 가려진 정도가 적은 사람들에 대해서만 속성을 추 정함으로써, 사람의 속성을 정확하게 추정하기 위한 사람의 속성 추정 방법 및 장치를 제공하는 데 일 목적이 있다. 본 발명의 다른 실시예들은, 이미지들의 객체 추적을 이용하여 사람의 추적 정보를 관리하기 위한 사람의 속성 추정 방법 및 장치를 제공하는 데 일 목적이 있다."}
{"patent_id": "10-2022-0032834", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 일 측면에 의하면, 이미지 내 사람의 속성을 추정하기 위한 방법에 있어서, 입력 이미지 내 사람의 전신 영역(region), 가시적 신체 영역 및 머리 영역을 포함하는 객체 영역을 검출하는 단계; 상기 전신 영역에 대한 상기 머리 영역의 상대적 위치, 또는 상기 전신 영역과 상기 가시적 신체 영역이 겹쳐진 영역의 비율 중 적어도 하나에 기초하여 상기 사람의 속성을 추정할 것인지 여부를 판단하는 단계; 및 상기 사람의 속성을 추정 하는 것으로 판단된 경우, 상기 입력 이미지에 기초하여 상기 사람의 속성을 추정하는 단계를 포함하는 방법을 제공한다. 본 실시예의 다른 측면에 의하면, 이미지 내 사람의 속성을 추정하기 위한 장치에 있어서, 입력 이미지 내 사람 의 전신 영역, 가시적 신체 영역 및 머리 영역을 포함하는 객체 영역을 검출하는 객체 영역 검출부; 상기 전신 영역에 대한 상기 머리 영역의 상대적 위치, 또는 상기 전신 영역과 상기 가시적 신체 영역이 겹쳐진 영역의 비 율 중 적어도 하나에 기초하여 상기 사람의 속성을 추정할 것인지 여부를 판단하는 추정 여부 판단부; 및 상기 사람의 속성을 추정하는 것으로 판단된 경우, 상기 입력 이미지에 기초하여 상기 사람의 속성을 추정하는 속성추정부를 포함하는 장치를 제공한다."}
{"patent_id": "10-2022-0032834", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "이상에서 설명한 바와 같이 본 발명의 일 실시예에 의하면, 이미지에 포함된 사람들 중 사람의 속성을 추정하는 데 적합한 자세를 취하는 사람들에 대해서만 속성을 추정함으로써, 사람의 속성을 정확하게 추정할 수 있다. 본 발명의 다른 실시예에 의하면, 이미지 내 사람이 장애물에 의해 가려진 정도가 적은 사람들에 대해서만 속성 을 추정함으로써, 사람의 속성을 정확하게 추정할 수 있다. 본 발명의 다른 실시예에 의하면, 이미지들의 객체 추적을 이용하여 사람의 추적 정보를 관리할 수 있다."}
{"patent_id": "10-2022-0032834", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 본 개시의 일부 실시예들을 예시적인 도면을 이용해 상세하게 설명한다. 각 도면의 구성 요소들에 참조 부호를 부가함에 있어서, 동일한 구성 요소들에 대해서는 비록 다른 도면 상에 표시되더라도 가능한 한 동일한 부호를 가지도록 하고 있음에 유의해야 한다. 또한, 본 개시를 설명함에 있어, 관련된 공지 구성 또는 기능에 대한 구체적인 설명이 본 개시의 요지를 흐릴 수 있다고 판단되는 경우에는 그 상세한 설명은 생략한다. 본 개시에 따른 실시예의 구성요소를 설명하는 데 있어서, 제1, 제2, i), ii), a), b) 등의 부호를 사용할 수 있다. 이러한 부호는 그 구성요소를 다른 구성 요소와 구별하기 위한 것일 뿐, 그 부호에 의해 해당 구성요소의 본질 또는 차례나 순서 등이 한정되지 않는다. 명세서에서 어떤 부분이 어떤 구성요소를 '포함' 또는 '구비'한 다고 할 때, 이는 명시적으로 반대되는 기재가 없는 한 다른 구성요소를 제외하는 것이 아니라 다른 구성요소를 더 포함할 수 있는 것을 의미한다. 본 발명에 따른 장치 또는 방법의 각 구성요소는 하드웨어 또는 소프트웨어로 구현되거나, 하드웨어 및 소프트 웨어의 결합으로 구현될 수 있다. 또한, 각 구성요소의 기능이 소프트웨어로 구현되고 마이크로프로세서가 각 구성요소에 대응하는 소프트웨어의 기능을 실행하도록 구현될 수도 있다. 도 1은 다양한 자세 및 상황에서 촬영된 사람들을 나타낸 도면이다. 도 1을 참조하면, 이미지 내에서 카메라를 향해 정면으로 바라보고 있는 사람에 관한 제1 객체, 상체를 숙 이고 있는 사람에 관한 제2 객체, 장애물에 의해 하체가 가려진 사람에 관한 제3 객체가 도시되 어 있다. 이미지 내 사람의 연령, 성별 등 속성을 추정하는 추정 장치는 이미지 내에서 사람에 대응되는 객체를 검출하고, 검출된 객체에 기초하여 사람의 속성을 추정한다. 이때, 객체가 카메라를 정면으로 바라보는 자세가 아니거나 객체가 장애물에 의해 가려진 경우, 추정 장치는 객체에 대응되는 사람의 속성을 정확하게 추정하기 어렵다. 도 1에서, 제2 객체는 카메라를 바라보지 않고 제3 객체는 장애물에 의해 가려져 있으므로, 추 정 장치는 제2 객체 및 제3 객체 각각의 속성을 잘못 판단할 확률이 높다. 이는, 객체 속성에 대한 인식 성능을 저하시킨다. 반면, 추정 장치는 카메라를 정면으로 바라보는 제1 객체의 속성을 제2 객체 및 제3 객체의 속 성에 비해 정확하게 추정할 수 있다.이와 같이, 추정 장치는 사람의 자세 및 가려짐 정도에 기초하여 속성 추정의 대상이 되는 사람과 그렇지 않은 사람을 구분한다면, 속성 추정의 대상이 되지 않는 사람에 관한 잘못된 정보를 제공하는 것을 방지할 수 있다. 즉, 전체적인 속성 인식 성능이 개선될 수 있다. 도 2는 본 발명의 일 실시예에 따른 속성 추정 장치의 블록 구성도이다. 도 2를 참조하면, 속성 추정 장치는 객체 영역 검출부, 추정 여부 판단부 및 속성 추정부를 포함한다. 속성 추정 장치는 이미지 획득부, 추적 정보 관리부 또는 모델 훈련부 중 적어도 하나를 더 포함할 수 있다. 이미지 획득부는 카메라를 이용하여 사람이 포함된 장면을 캡처함으로써, 입력 이미지를 획득한다. 여기서, 카메라는 장면을 촬영하고, 촬영된 이미지를 처리하는 인공지능 카메라일 수 있다. 이하에서, 이미지 내 임의로 선택된 한 명의 특정인의 속성을 추정하는 동작을 설명하지만, 상기 동작은 이미지 내 여러 사람에 동일하게 적용될 수 있다. 객체 영역 검출부는 입력 이미지 내 사람들 중 특정인의 일부 또는 전부를 포함하는 영역(region)을 검출 한다. 구체적으로, 객체 영역 검출부는 입력 이미지 내 특정인의 전신(whole body) 영역, 가시적 신체(visible body) 영역 및 머리 영역을 포함하는 객체 영역을 검출한다. 여기서, 머리 영역은 특정인의 머리를 포함하는 영 역이다. 가시적 신체 영역은 특정인의 신체 부위들 중 장애물에 의해 가려지지 않은 부위들을 포함하는 영역이 다. 전신 영역은 특정인의 전신을 포함하는 영역으로서, 특정인이 장애물에 의해 가려진 영역과 가려지지 않은 영역 모두를 포함하는 영역이다. 각각의 영역은 서로 독립적으로 검출된다. 본 발명의 일 실시예에 의하면, 객체 영역 검출부는 심층 신경망(deep neural network) 기반의 검출 모델 을 이용하여 객체 영역을 검출할 수 있다. 검출 모델은 사람을 포함하는 입력 이미지를 입력 받으면, 사람의 전신 영역, 가시적 신체 영역 또는 머리 영역 중 적어도 하나에 관한 모서리 좌표들을 제공한다. 예를 들면, 검출 모델은 사람의 전신 영역의 왼쪽 상단 좌표, 왼쪽 하단 좌표, 오른쪽 상단 좌표 및 오른쪽 하단 좌표를 제공한다. 나아가, 검출 모델은 각 영역에 대 한 신뢰도를 제공할 수도 있다. 신뢰도는 0 내지 1 사이 값으로 수치화될 수 있다. 이때, 신뢰도가 낮은 영역은 이용되기 어렵다. 검출 모델의 생성을 위해, 모델 훈련부는 검출 모델이 입력 이미지를 입력 받으면 입력 이미지 내 객체 영 역을 검출하도록 검출 모델을 훈련시킨다. 검출 모델은 지도 학습될 수 있다. 모델 훈련부는 사람들을 포함하는 이미지들을 준비하고, 사람들 각각을 포함하는 영역을 레이블링(labeling)한다. 레이블링된 이미지들은 훈련 데이터 셋으로서, 검출 모델에 입력된다. 검출 모델이 사람들 각각을 포함하는 영역을 검출하도록 신경망 파라미터들이 업데이트된다. 대체적 으로, 또는 보완적으로 모델 훈련부는 비지도 학습, 또는 강화학습 등 다른 훈련 방법을 이용하여 검출 모 델을 훈련시킬 수 있다. 검출 모델은 심층 신경망으로 구성될 수 있으며, 다양한 신경망 구조를 가질 수 있다. 예를 들면, 검출 모델은 순환 신경망(Recurrent Neural Network, RNN), 합성곱 신경망(Convolutional Neural Network, CNN) 또는 RNN과 CNN의 결합구조 등과 같이 영상 처리 기법을 구현하는 것이 가능한 다양한 신경망 구조를 가질 수 있다. 객체 영역 검출부는 검출 모델을 이용하기 위해 입력 이미지의 크기를 조정할 수 있다. 한편, 객체 영역 검출부 특정인의 몸통 영역을 검출할 수 있다. 객체 영역 검출부는 몸통 영역을 추 정하는 데 심층 신경망 기반의 검출 모델을 이용할 수 있다. 추정 여부 판단부는 특정인의 자세 또는 가려짐 정도 중 적어도 하나에 기초하여 특정인의 속성을 추정할 것인지 여부를 판단한다. 입력 이미지 내 특정인의 자세를 판단하기 위해, 추정 여부 판단부는 특정인의 전신 영역에 대한 머리 영 역의 상대적 위치를 이용한다. 구체적으로, 추정 여부 판단부는 전신 영역 내에서 관심 영역을 설정한다. 여기서, 관심 영역은 전신 영역을 기준으로 적절한 머리 위치로서, 전신 영역의 상단 영역일 수 있다. 추정 여 부 판단부는 관심 영역과 머리 영역의 겹침 또는 겹침 면적에 기초하여 특정인의 자세가 적절한지, 즉 특정인의 속성을 추정할 것인지 여부를 판단한다. 제1 예로서, 머리 영역의 일부가 관심 영역 내에 위치하는 경우, 추정 여부 판단부는 특정인의 속성을 추 정하기로 결정할 수 있다. 제2 예로서, 머리 영역 전부가 관심 영역 내에 위치하는 경우, 추정 여부 판단부 는 특정인의 속성을 추정하기로 결정할 수 있다. 제3 예로서, 머리 영역의 일부가 관심 영역 밖에 위치한 경우, 추정 여부 판단부는 특정인의 속성을 추정하지 않기로 결정할 수 있다. 제4 예로서, 머리 영역의 전 부가 관심 영역 밖에 위치한 경우, 추정 여부 판단부는 특정인의 속성을 추정하지 않기로 결정할 수 있다. 한편, 특정인의 가려짐 정도를 판단하기 위해, 추정 여부 판단부는 전신 영역과 가시적 신체 영역이 겹쳐 진 영역의 비율을 이용한다. 구체적으로, 추정 여부 판단부는 전신 영역과 가시적 신체 영역 간 IoU(Intersection over Union)를 계산한다. 여기서, IoU는 두 영역이 겹쳐진 면적을 두 영역을 합한 전체 면적으로 나눈 값이다. A 영역과 B 영역 간 IoU는 수학식 1과 같이 표현될 수 있다. 수학식 1"}
{"patent_id": "10-2022-0032834", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "전신 영역과 가시적 신체 영역이 겹쳐진 영역의 비율이 기 설정된 비율보다 높은 경우, 추정 여부 판단부 는 특정인의 속성을 추정하기로 결정할 수 있다. 즉, 특정인이 장애물에 의해 가려진 정도가 낮은 경우, 추정 여부 판단부는 특정인의 속성을 추정하기로 결정한다. 반대로, 특정인이 장애물에 의해 가려진 정도가 높 은 경우, 추정 여부 판단부는 특정인의 속성을 추정하지 않기로 결정한다. 속성 추정부는 특정인의 속성을 추정하는 것으로 판단된 경우, 입력 이미지에 포함된 특정인의 속성을 추 정한다. 여기서, 속성은 성별 또는 연령 중 적어도 하나를 포함한다. 즉, 속성 추정부는 특정인의 성별 또는 연령 중 적어도 하나를 추정할 수 있다. 여기서, 성별은 여자 또는 남자 중 어느 하나를 지칭한다. 연령은 구체적인 숫자로 추정될 수도 있고, 10대, 20대, 30대, 40대 등 연령대로 추정될 수도 있다. 이 외에, 특정인의 속성은 인종, 민족 또는 감정 등 다양한 신체 정보를 포함할 수 있다. 속성 추정부는 특정인의 몸통(torso) 영역에 기초하여 특정인의 성별 또는 연령을 추정할 수 있다. 본 발명의 일 실시예에 의하면, 속성 추정부는 심층 신경망 기반의 추정 모델을 이용하여 특정인의 속성을 추정할 수 있다. 추정 모델은 사람의 몸통 이미지를 입력 받으면, 성별 또는 연령 중 적어도 하나를 제공한다. 추정 모델은 성별 또는 연령 중 적어도 하나에 대한 신뢰도를 더 제공할 수 있다. 신뢰도는 0 내지 1 사이 값으 로 수치화될 수 있다. 추정 모델의 생성을 위해, 모델 훈련부는 추정 모델이 몸통 이미지를 입력 받으면 성별 또는 연령 중 적어 도 하나를 출력하도록 추정 모델을 훈련시킨다. 추정 모델은 지도 학습, 비지도 학습 또는 강화학습 등 다양한 학습 방법에 의해 학습될 수 있다. 추정 모델은 RNN 또는 CNN 등 다양한 신경망 구조를 가질 수 있다. 추정 모델은 사람이 정면을 바라보고, 장애물에 의해 가려지는 정도가 적을 때 사람의 속성을 더욱 정확하게 추 정한다. 전술한 바와 같이, 속성 추정 장치는 이미지 내 사람의 자세 및 가려짐 정도에 기초하여 속성을 추정할 사 람을 필터링함으로써, 이미지 내 사람들의 속성의 전체적인 추정 정확도를 향상시킬 수 있다. 한편, 본 발명의 일 실시예에 의하면, 속성 추정 장치는 복수의 이미지들 내에서 사람의 움직임을 추적하고, 추적 정보를 관리하기 위해 추적 정보 관리부를 포함할 수 있다. 현재 입력 이미지 내 특정인의 속성 추정 후, 추적 정보 관리부는 이미지 획득부에 의해 획득된 입력 이미지가 최초 이미지인지 확인한다. 입력 이미지가 최초 이미지이면, 추적 정보 관리부는 특정인의 전신 영역의 위치 정보 및 추정된 속성에 기초하여 추적 정보를 생성한다. 생성된 추적 정보는 특정인의 식별 정보, 전신 영역의 좌표들, 좌표들의 신뢰 도 추정된 연령, 추정된 연령의 신뢰도, 추정된 성별 또는 추정된 성별의 신뢰도 중 적어도 하나를 포함한다. 입력 이미지가 최초 이미지가 아니면, 추적 정보 관리부는 이전 입력 이미지 내 사람들 중 특정인에 대응 되는 사람이 있는지 판단한다. 이를 위해, 추적 정보 관리부는 이전 입력 이미지로부터 검출된 적어도 하 나의 이전 객체 영역 중에서 특정인의 객체 영역에 대응되는 영역이 있는지 판단할 수 있다. 구체적으로, 추적 정보 관리부는 이전 입력 이미지로부터 검출된 적어도 하나의 이전 객체 영역 중 하나를 선택한다. 추적 정보 관리부는 선택된 이전 객체 영역과 현재 입력 이미지 내 특정인의 객체 영역 간 IoU 값을 계산한다. 계산된 IoU 값이 소정의 기준값보다 클 때, 추적 정보 관리부는 선택된 이전 객체 영역이 특정인의 객체 영역에 대응되는 것으로 판단한다. 즉, 추적 정보 관리부는 선택된 이전 객체 영역에 대응 되는 사람과 특정인이 동일 인물인 것으로 판단한다. 일 예로서, 추적 정보 관리부는 이전 객체 영역에 포 함된 이전 전신 영역과 현재 입력 이미지 내 특정인의 전신 영역 간 IoU 값을 이용하여 이전 전신 영역에 대응 되는 사람과 특정인이 동일 인물인 것으로 판단할 수 있다. 특정인의 객체 영역에 대응되는 이전 객체 영역이 있는 경우, 추적 정보 관리부는 특정인의 전신 영역의 위치 정보 및 추정된 속성에 기초하여 이전 객체 영역에 대응되는 사람의 추적 정보를 갱신한다. 추적 정보에 포함된 전신 영역의 좌표들, 연령 및 성별이 갱신된다. 본 발명의 일 실시예에 의하면, 추적 정보 관리부는 속성의 신뢰도에 기초하여 추적 정보를 갱신할 수 있 다. 구체적으로, 추적 정보 관리부는 이전 객체 영역에 대응되는 사람의 추적 정보에 포함된 이전 속성의 신뢰도를 획득한다. 추적 정보 관리부는 이전 속성의 신뢰도를 특정인의 추정된 속성의 신뢰도와 비교한다. 추정된 속성의 신뢰도가 이전 속성의 신뢰도보다 높을 때, 추적 정보 관리부는 추적 정보가 특 정인의 전신 영역의 위치 정보 및 특정인의 추정된 속성을 포함하도록 추적 정보를 갱신한다. 일 예로서, 특정 인에 대해 추정된 연령의 신뢰도 및 추정된 성별의 신뢰도 중 적어도 하나가 이전 연령의 신뢰도 및 이전 성별 의 신뢰도 중 적어도 하나보다 높을 때, 추적 정보 관리부가 추적 정보를 갱신할 수 있다. 한편, 현재 입력 이미지 내에서 이전 객체 영역에 대응되는 사람이 없는 경우, 추적 정보 관리부는 대응되 는 사람의 추적을 중단한다. 전술한 과정을 통해, 속성 추정 장치는 카메라에 의해 촬영되는 비디오 내에서 특정인의 움직임과 속성을 추적함으로써, 카메라가 설치된 장소를 드나드는 인구의 특징들을 분석할 수 있다. 도 3은 본 발명의 일 실시예에 따른 객체 영역을 설명하기 위한 도면이다. 도 3을 참조하면, 사람의 전신 영역, 가시적 신체 영역 및 머리 영역이 도시되어 있다. 본 발명의 일 실시예에 의하면, 속성 추정 장치는 객체 영역으로서, 입력 이미지로부터 전신 영역, 가시적 신체 영역 및 머리 영역을 검출한다. 전신 영역은 사람의 머리, 몸통, 양팔, 양다리 및 양발 모두를 포함한다. 특히, 전신 영역은 의자에 의해 가려진 사람의 하체를 포함한다. 가려진 하체를 포함하는 전신 영역은 딥러닝 기반의 검출 모델에 의 해 검출될 수 있다. 가시적 신체 영역은 사람의 전신 중 의자에 의해 가려지지 않는 몸통, 양팔 및 머리를 포함한다. 머리 영역은 사람의 머리를 포함한다. 도 3에서 전신 영역, 가시적 신체 영역 및 머리 영역 각각은 대응되는 객체의 윤곽에 접한 네 개의 변을 가지는 바운딩 박스로 표현된다. 하지만, 다른 예에서, 전신 영역, 가시적 신체 영역 및 머리 영역 각각은 다양한 형태를 가질 수 있고, 수많은 좌표들로 구성될 수 있다. 도 4a 및 도 4b는 본 발명의 일 실시예에 따른 사람의 적절한 자세를 설명하기 위한 도면이다. 도 4a 및 도 4b를 참조하면, 제1 전신 영역, 제1 머리 영역, 제2 전신 영역 제2 머리 영역 이 도시되어 있다. 관심 영역을 설정하기 위해, 속성 추정 장치는 제1 전신 영역 및 제2 전신 영역 각각을 복수의 서브 영역들로 분할할 수 있다. 예를 들면, 속성 추정 장치는 제1 전신 영역 및 제2 전신 영역을 제1 영역내지 제9 영역으로 분할할 수 있다. 속성 추정 장치는 분할된 영역들 중에서 일부를 관심 영역으로 설정한다. 여기서, 관심 영역은 사람의 머리가 위치할 수 있는 영역을 나타낸다. 일반적으로, 사람의 머리는 가운데 위쪽에 위치하고, 소정의 이동 범위를 갖 는다. 따라서, 속성 추정 장치는 제1 영역 내지 제3 영역 및 제5 영역을 관심 영역으로 설정할 수 있다. 속성 추정 장치는 관심 영역에 대한 제1 머리 영역의 상대적 위치를 고려하여, 사람이 적절한 자세를 가지 는지 판단할 수 있다. 구체적으로, 속성 추정 장치는 제1 머리 영역 내부에 9 개의 점들을 설정한다. 설정된 9 개의 점들 중 6개 이상이 관심 영역 내에 위치할 때, 속성 추정 장치는 사람의 자세가 적절한 것으로 판단한다. 도 4a에서, 제1 머리 영역 내 9 개의 점들이 모두 관심 영역 내에 있으므로, 속성 추정 장치는 사람의 자 세가 적절한 자세인 것으로 판단한다. 반면, 도 4b에서, 제2 머리 영역 내 9 개의 점들 중 5개의 점들만 관심 영역 내에 있으므로, 속성 추정 장 치는 사람의 자세가 부적절한 자세인 것으로 판단한다. 이후, 속성 추정 장치는 적절한 자세를 가지는 것으로 판단된 사람에 한해 속성을 추정한다. 속성 추정 장치는 부적절한 자세를 가지는 것으로 판단된 사람의 속성을 추정하지 않음으로써, 그 사람의 속성을 잘못 판단할 가 능성을 줄일 수 있다. 도 5a, 도 5b 및 도 5c는 본 발명의 일 실시예에 따른 사람의 다양한 자세를 예시적으로 나타낸 도면이다. 도 5a를 참조하면, 사람의 머리 영역이 전신 영역 내에서 상단 영역 및 중간 상단 영역에 위치한다. 속성 추정 장치는 사람의 자세가 적절한 것으로 판단하고, 사람의 속성 추정을 진행한다. 도 5b를 참조하면, 사람의 머리 영역이 전신 영역 내에서 왼쪽 영역과 왼쪽 상단 영역에 치우쳐져 있다. 속성 추정 장치는 사람의 자세가 부적절한 것으로 판단하고, 사람의 속성 추정을 진행하지 않는다. 도 5c를 참조하면, 사람의 머리 영역이 전신 영역 내에서 중간 영역, 상단 영역 및 오른쪽 상단 영역뿐만 아니 라, 오른쪽 중간 영역까지 위치한다. 속성 추정 장치는 사람의 자세가 부적절한 것으로 판단하고, 사람의 속성 추정을 진행하지 않는다. 도 6a 및 도 6b는 본 발명의 일 실시예에 따른 사람의 가려짐 정도를 설명하기 위한 도면이다. 도 6a를 참조하면, 제1 전신 영역, 제1 가시적 신체 영역이 도시되어 있다. 속성 추정 장치는 제1 전신 영역과 제1 가시적 신체 영역이 겹쳐진 면적의 비율에 기초하여 가려짐 정도를 판단한다. 먼저, 속성 추정 장치는 제1 전신 영역과 제1 가시적 신체 영역이 겹쳐진 면적의 비율로서, 제1 전신 영역과 제1 가시적 신체 영역 간 IoU를 계산한다. 도 6a에서 사람이 장애물에 의해 가려져 있지 않으 므로, 제1 전신 영역과 제1 가시적 신체 영역이 거의 동일하다. 제1 전신 영역과 제1 가시적 신 체 영역 간 IoU는 1에 가까운 0.9로 계산될 수 있다. 제1 전신 영역과 제1 가시적 신체 영역 간 IoU가 클수록 가려짐 정도가 적음을 나타낸다. 속성 추정 장치는 가려짐 정도, 즉 제1 전신 영역과 제1 가시적 신체 영역 간 IoU에 기초하여 해당 사람의 속성을 추정할 것인지 여부를 판단한다. 구체적으로, 제1 전신 영역과 제1 가시적 신체 영역 간 IoU가 기 설정된 기준값보다 크면, 속성 추정 장치는 사람의 속성을 추정하는 데 적절한 것으로 판단한다. 일 예로서, 기준값은 0.7일 수 있다. 제1 전신 영역과 제1 가시적 신체 영역 간 IoU가 0.7보다 큰 0.9이므로, 속성 추정 장치는 사람의 속성을 추정하기로 결정한다. 반면, 도 6b를 참조하면, 제2 전신 영역 및 제2 가시적 신체 영역이 도시되어 있다. 속성 추정 장치는 제2 전신 영역 및 제2 가시적 신체 영역 간 IoU를 계산한다. 사람의 하체가 의자에 의해 가려져 있으므로, 제2 전신 영역과 제2 가시적 신체 영역 간 차이가 있다. 제2 전신 영역 및 제2 가시적 신체 영역 간 IoU는 0.6으로 계산될 수 있다. 제2 전신 영역 및 제2 가시적 신체 영역 간 IoU가 0.7보다 작은 0.6이므로, 속성 추정 장치는 사람의 속성을 추정하지 않기로 결정한다. 사람이 장애물에 의해 많이 가려져 있음에도 사람의 속성을 추정하는 경우,사람의 속성을 잘못 판단할 확률이 높기 때문이다. 도 7는 본 발명의 일 실시예에 따른 속성 추정 방법의 순서도이다. 도 7을 참조하면, 속성 추정 장치는 입력 이미지 내 적어도 한 사람의 전신 영역(region), 가시적 신체 영역 및 머리 영역을 포함하는 객체 영역을 검출한다(S700). 본 발명의 일 실시예에 의하면, 속성 추정 장치는 훈련된 검출 모델을 이용하여 객체 영역을 검출한다. 이때, 속성 추정 장치는 검출 모델로부터 각 영역에 관한 신뢰도를 함께 얻을 수 있다. 속성 추정 장치는 전신 영역에 대한 머리 영역의 상대적 위치, 또는 전신 영역과 가시적 신체 영역이 겹쳐진 영 역의 비율 중 적어도 하나에 기초하여 사람의 속성을 추정할 것인지 여부를 판단한다(S702). 본 발명의 일 실시예에 의하면, 속성 추정 장치는 전신 영역 내 관심 영역을 설정하고, 머리 영역의 일부가 관 심 영역 내에 위치하는 경우, 사람의 속성을 추정하는 것으로 결정한다. 본 발명의 일 실시예에 의하면, 속성 추정 장치는 전신 영역과 가시적 신체 영역이 겹쳐진 영역의 비율이 기 설 정된 비율보다 높은 경우, 사람의 속성을 추정하는 것으로 결정한다. 속성 추정 장치는 전신 영역에 대한 머리 영역의 상대적 위치에 따른 자세를 먼저 판단하고, 이후에 가려짐 정 도를 판단할 수 있다. 반대 순서도 가능하다. 이후, 속성 추정 장치는 사람의 속성을 추정하는 것으로 판단된 경우, 입력 이미지에 기초하여 사람의 속성을 추정한다(S704). 여기서, 사람의 속성은 사람의 성별 또는 연령 중 적어도 하나를 포함한다. 본 발명의 일 실시예에 의하면, 속성 추정 장치는 입력 이미지 내 사람의 몸통(torso) 영역을 검출하고, 몸통 영역에 기초하여 사람의 속성을 추정한다. 이때, 속성 추정 장치는 훈련된 추정 모델을 이용하여 사람의 속성을 추정할 수 있다. 한편, 속성 추정 장치는 복수의 이미지들 내에서 사람의 움직임 및 속성을 추적할 수 있다. 속성 추정 장치는 이전 입력 이미지로부터 검출된 적어도 하나의 이전 객체 영역 중에서 객체 영역에 대응되는 이전 객체 영역이 있는지 판단한다. 대응되는 이전 객체 영역이 없는 경우, 속성 추정 장치는 전신 영역의 위치 정보 및 추정된 속성에 기초하여 사 람의 추적 정보를 생성한다. 대응되는 이전 객체 영역이 있는 경우, 속성 추정 장치는 전신 영역의 위치 정보 및 추정된 속성에 기초하여 이 전 객체 영역에 대응되는 사람의 추적 정보를 갱신한다. 이때, 갱신 과정에서, 속성 추정 장치는 신뢰도를 고려하여 추적 정보를 갱신할 수 있다. 구체적으로, 속성 추 정 장치는 이전 객체 영역에 대응되는 사람의 추적 정보에 포함된 이전 속성의 신뢰도 및 현재 추정된 속성의 신뢰도를 비교한다. 추정된 속성의 신뢰도가 이전 속성의 신뢰도보다 높은 경우, 속성 추정 장치는 사람의 추적 정보에 포함된 이전 속성을 추정된 속성으로 대체한다. 본 명세서에 설명되는 시스템들 및 기법들의 다양한 구현예들은, 디지털 전자 회로, 집적회로, FPGA(field programmable gate array), ASIC(application specific integrated circuit), 컴퓨터 하드웨어, 펌웨어, 소프 트웨어, 및/또는 이들의 조합으로 실현될 수 있다. 이러한 다양한 구현예들은 프로그래밍가능 시스템 상에서 실 행 가능한 하나 이상의 컴퓨터 프로그램들로 구현되는 것을 포함할 수 있다. 프로그래밍가능 시스템은, 저장 시 스템, 적어도 하나의 입력 디바이스, 그리고 적어도 하나의 출력 디바이스로부터 데이터 및 명령들을 수신하고 이들에게 데이터 및 명령들을 전송하도록 결합되는 적어도 하나의 프로그래밍가능 프로세서(이것은 특수 목적 프로세서일 수 있거나 혹은 범용 프로세서일 수 있음)를 포함한다. 컴퓨터 프로그램들(이것은 또한 프로그램들, 소프트웨어, 소프트웨어 애플리케이션들 혹은 코드로서 알려져 있음)은 프로그래밍가능 프로세서에 대한 명령어 들을 포함하며 \"컴퓨터가 읽을 수 있는 기록매체\"에 저장된다. 컴퓨터가 읽을 수 있는 기록매체는, 컴퓨터 시스템에 의하여 읽혀질 수 있는 데이터가 저장되는 모든 종류의 기 록장치를 포함한다. 이러한 컴퓨터가 읽을 수 있는 기록매체는 ROM, CD-ROM, 자기 테이프, 플로피디스크, 메모 리 카드, 하드 디스크, 광자기 디스크, 스토리지 디바이스 등의 비휘발성(non-volatile) 또는 비일시적인(non- transitory) 매체일 수 있으며, 또한 데이터 전송 매체(data transmission medium)와 같은 일시적인(transitory) 매체를 더 포함할 수도 있다. 또한, 컴퓨터가 읽을 수 있는 기록매체는 네트워크로 연결된 컴퓨터 시스템에 분산되어, 분산방식으로 컴퓨터가 읽을 수 있는 코드가 저장되고 실행될 수도 있다. 본 명세서의 흐름도/타이밍도에서는 각 과정들을 순차적으로 실행하는 것으로 기재하고 있으나, 이는 본 개시의 일 실시예의 기술 사상을 예시적으로 설명한 것에 불과한 것이다. 다시 말해, 본 개시의 일 실시예가 속하는 기 술 분야에서 통상의 지식을 가진 자라면 본 개시의 일 실시예의 본질적인 특성에서 벗어나지 않는 범위에서 흐 름도/타이밍도에 기재된 순서를 변경하여 실행하거나 각 과정들 중 하나 이상의 과정을 병렬적으로 실행하는 것으로 다양하게 수정 및 변형하여 적용 가능할 것이므로, 흐름도/타이밍도는 시계열적인 순서로 한정되는 것은 아니다. 이상의 설명은 본 실시예의 기술 사상을 예시적으로 설명한 것에 불과한 것으로서, 본 실시예가 속하는 기술 분 야에서 통상의 지식을 가진 자라면 본 실시예의 본질적인 특성에서 벗어나지 않는 범위에서 다양한 수정 및 변 형이 가능할 것이다. 따라서, 본 실시예들은 본 실시예의 기술 사상을 한정하기 위한 것이 아니라 설명하기 위 한 것이고, 이러한 실시예에 의하여 본 실시예의 기술 사상의 범위가 한정되는 것은 아니다. 본 실시예의 보호 범위는 아래의 청구범위에 의하여 해석되어야 하며, 그와 동등한 범위 내에 있는 모든 기술 사상은 본 실시예의 권리범위에 포함되는 것으로 해석되어야 할 것이다."}
{"patent_id": "10-2022-0032834", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 다양한 자세 및 상황에서 촬영된 사람들을 나타낸 도면이다. 도 2는 본 발명의 일 실시예에 따른 속성 추정 장치의 블록 구성도이다. 도 3은 본 발명의 일 실시예에 따른 객체 영역을 설명하기 위한 도면이다. 도 4a 및 도 4b는 본 발명의 일 실시예에 따른 사람의 적절한 자세를 설명하기 위한 도면이다. 도 5a, 도 5b 및 도 5c는 본 발명의 일 실시예에 따른 사람의 다양한 자세를 예시적으로 나타낸 도면이다. 도 6a 및 도 6b는 본 발명의 일 실시예에 따른 사람의 가려짐 정도를 설명하기 위한 도면이다. 도 7는 본 발명의 일 실시예에 따른 속성 추정 방법의 순서도이다."}
