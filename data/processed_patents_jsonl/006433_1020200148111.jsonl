{"patent_id": "10-2020-0148111", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2022-0061760", "출원번호": "10-2020-0148111", "발명의 명칭": "탐색자 상황인지에 따른 탐색자의 위치 측위 방법", "출원인": "에이엠텔레콤주식회사", "발명자": "여민기"}}
{"patent_id": "10-2020-0148111", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "탐색자의 위치 측위 방법에 있어서,탐색자가 소지하고 있는 위치측위 장치에 내장된 스탭 카운터(12)에서 출력되는 스탭 카운트값이 스탭 카운터시간 간격 체크 모듈(21)에 전달되어 스탭 카운트 시간 간격이 산출되는 단계;산출된 스탭 카운트 시간 간격과 센서들(11)의 센싱값이 상황인지 모듈(22)에 전달되는 단계;수신된 스탭 카운트 시간 간격과 센싱값을 통해 상황인지 모듈(22)에서 탐색자의 상황을 인지하는 단계;인지된 탐색자의 상황에 따른 보폭이 보폭 결정 모듈(23)에서 결정되는 단계;결정된 탐색자의 상황에 따른 보폭과 센싱값을 이용하여 위치 결정 모듈(24)에서 탐색자의 3차원 위치가 계산되는 단계를 포함하는 것을 특징으로 하는 탐색자의 위치 측위 방법."}
{"patent_id": "10-2020-0148111", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 센서들(11)은 가속도계, 자이로스코프, 나침반 및 기압계를 포함하는 것을 특징으로 하는 탐색자의 위치측위 방법."}
{"patent_id": "10-2020-0148111", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 보폭 결정은, 등록되어 있는 각 탐색자가 다양한 상황에 대해 사전 실습되어 학습된 각 상황별 보폭 데이터 매핑 테이블 또는공식에서, 인식된 탐색자의 상황에 따른 보폭이 도출되어 결정되는 것을 특징으로 하는 탐색자의 위치 측위 방법."}
{"patent_id": "10-2020-0148111", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,상기 학습은 인공지능 알고리즘에 의해 수행되는 것을 특징으로 하는 탐색자의 위치 측위 방법."}
{"patent_id": "10-2020-0148111", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서,상기 인공지능 알고리즘은 Random Forest알고리즘인 것을 특징으로 하는 탐색자의 위치 측위 방법."}
{"patent_id": "10-2020-0148111", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 건물 내의 탐색자의 상황을 인지하고 그 상황에 따른 학습된 보폭을 추출하여 사용함으로써 탐색자가 건물 내부를 장시간 탐색해도 위치 측위의 정확도를 유지할 수 있게 하는, 탐색자 상황인지에 따른 탐색자의 위 치 측위 방법을 제공한다. (뒷면에 계속)"}
{"patent_id": "10-2020-0148111", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 탐색자 상황인지에 따른 탐색자의 위치 측위 방법에 관한 것이다."}
{"patent_id": "10-2020-0148111", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "빌딩 내부 화재 등의 재난 상황이 발생하면 구조 필요자가 의식이 있는 경우에는 이동통신 단말기를 통해 구조 기관(예:119)에 구조를 요청하여 구조 요청자의 정확한 3차원 위치(예:어느 빌딩 내의 몇 층의 어디에 있다고할 정도의 정확한 위치)를 알려 주게 되어 신속하고 용이한 구조가 가능하다. 그러나, 의식이 없거나 경황이 없어서 구조 필요자 자신이 구조 요청 신고를 하지 못하고 지인 등이 추정 신고 (예: 가족이 구조 필요자가 화재 빌딩에 근무하여 그 빌딩 내부에 있는 것 같다는 신고)를 하는 경우에는 이동 통신사의 기지국들을 이용하여 해당자의 대략적인 위치를 파악하여 그 빌딩 내부에 있는 것으로 추정되면 구조 요원(탐색자)을 신속히 현장에 파견하게 된다. 이때, 탐색자는 현장 파견시에 위치 측위 장치 및 스마트폰을 소지하게 되는데, 위치 측위 장치에 의해 파악되 는 탐색자의 위치 정보가 탐색자의 스마트폰으로 근거리 통신 방식(예:와이파이)으로 전달되고 다시 탐색자의 스마트폰에서 이동통신망으로 탐색자의 위치 정보가 구조기관 서버로 전달되면, 구조기관의 모니터링 요원이 탐 색자의 스마트폰으로 발성 또는 영상 표시로 관련 지시(예: 스마트폰 화면에 화살표들로 탐색자의 현재 위치로 부터의 이동 방향과 수색 경로를 표시함, 구조 필요자의 정확한 위치가 파악되는 경우에는 스마트폰 화면에 탐 색자의 위치로부터 어느 방향과 어느 정도 거리에 구조 필요자가 위치하는지 표시함, 모니터링 요원이 지시 사 항을 스마트폰을 통해 음성으로 전달함)를 하여 수색 작업을 수행하게 되므로, 탐색자에게 정확한 관련 지시를 하기 위해서는 탐색자의 정확한 3차원 위치 파악이 필수적이다. 그런데, 종래 기술에 따른 위치 측위 장치에서는 GPS위성으로부터 수신되는 GPS신호를 수신하여 탐색자의 위치 를 파악하는데, 이러한 방법은 건물 내부에서는 GPS신호가 수신되지 않거나 약하게 수신되거나 GPS신호가 왜곡 이 되어 사용하기 곤란하다. 이러한 건물 내부에서의 문제점을 감안하여 다른 종래기술에서는 건물 내부의 탐색자의 정확한 위치를 파악하기 위하여 가속도계(Accelerometer)나 자이로스코프 등의 센서들을 위치 측위 장치에 추가로 내장시켜서 이 센서들 의 센싱값을 이용하여 건물 내의 탐색자의 위치를 추정하는 방법인 보행자 기반 추측 항법 알고리즘(PDR: Pedestrian Dead Reckoning)을 사용하는데, 이러한 PDR알고리즘이 적용된 PDR시스템에서는 가속도 센서의 가속 도값을 이용하여 각 스탭의 길이(보폭)를 추정하는 방식을 사용하므로, 탐색자의 다양한 상황(예: 평지에 있는 지 계단에 있는지, 뛰고 있는지 걷고 있는지 등의 다양한 상황)에 따라 보폭이 크게 상이하게 되는 것을 반영하 지 못하여 시간이 경과함에 따라 보폭 오차가 누적되어 건물 내의 실제 탐색자의 위치와는 동떨어진 위치를 추 정하게 된다. 선행기술문헌 특허문헌 (특허문헌 0001) 대한민국 특허공개번호 10-2018-24684호(2018.3.8일 공개)"}
{"patent_id": "10-2020-0148111", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "이상과 같은 종래기술의 PDR시스템에 따른 문제점을 감안하여, 본 발명은 건물 내의 탐색자의 상황을 인지하고 그 상황에 따른 학습된 보폭(step length)을 추출하여 사용함으로써 탐색자가 건물 내부를 장시간 탐색해도 위 치 측위의 정확도를 유지할 수 있게 하는, 탐색자 상황인지에 따른 탐색자의 위치 측위 방법을 제공한다."}
{"patent_id": "10-2020-0148111", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상술한 기술적 과제를 해결하기 위한 본 발명은, 탐색자의 위치 측위 방법에 있어서, 탐색자가 소지하고 있는 위치측위 장치에 내장된 스탭 카운터에서 출력되는 스탭 카운트값이 스탭 카운터 시간 간격 체크 모듈에 전달되어 스탭 카운트 시간 간격이 산출되는 단계; 산출된 스탭 카운트 시간 간격과 센서들의 센싱값이 상황인지 모듈에 전달되는 단계; 수신된 스탭 카운트 시간 간격과 센싱값을 통해 상황인지 모듈에서 탐색자의 상황을 인지하는 단계; 인지된 탐색자의 상황에 따른 보폭이 보폭 결정 모듈에서 결정되는 단계; 결정된 탐색자의 상황에 따른 보폭과 센싱값을 이용하여 위치 결정 모듈에서 탐색자의 3차원 위치가 계산되 는 단계를 포함하는 것을 특징으로 한다."}
{"patent_id": "10-2020-0148111", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "이상과 같은 본 발명을 이용하면, 건물 내의 탐색자의 상황을 인지하고 그 상황에 따른 학습된 보폭(step length)을 추출하여 사용함으로써 탐색자가 건물 내부를 장시간 탐색해도 위치 측위의 정확도를 유지할 수 있게 수 있게 된다."}
{"patent_id": "10-2020-0148111", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "먼저, 탐색자의 다양한 상황 및 보폭에 대해 도1을 참고로 하여 설명한다. 탐색자의 현재 상황은 도1에 도시된 바와 같이 다양한데, 평지(Ground)에 있을 수도 있고, 계단(Stairs)에 있을 수도 있으며, 로우프에 매달려 있는 등의 기타 상황에 있을 수도 있다. 또한, 뛰는 상황(Run)에서도 빠르게 뛰는 상황(Fast Run)일 수도 있고 느리게 뛰는 상황(Slow Run)일 수도 있으 며, 걷는 상황(Walk)에서도 빠르게 걷는 상황(Fast Walk)일 수도 있고 보통의 걷는 상황(Normal Walk)일 수도 있으며 장애물을 헤치고 조심스럽게 걷는 상황(Slow Walk)일 수도 있다. 그래서, 이러한 다양한 상황에 따라 탐색자의 보폭은 전혀 상이하게 된다. 다음으로, 각 상황별 사전 학습을 통해 각 상황별 보폭 데이터를 획득하는 과정을 도2를 참고로 하여 설명하기 로 한다. 등록되어 있는 각 탐색자는 사전에 상기 도1와 같은 다양한 상황에 대해 사전 실습하여 보폭 패턴이 분석되고 학습(Training)되어 각 탐색자에 대하여 각 상황별 보폭(Step length) 데이터가 획득되어 매핑 테이블(Mapping Table) 또는 공식 형태로 저장된다. 물론 사전 실습하여 수집된 각종 센서 데이터는 상자 그림(Box Plot)분석이나 이상치 검출 등의 방법에 의해 분 석되어 이상치를 제거하는 과정을 수행하는 것이 바람직하다. 또한, 이러한 학습을 위해 인공지능 알고리즘(예: Random Forest알고리즘)을 사용하게 되는데, 각 탐색자의 각 상황시의 각종 센서 데이터(가속도 센서, 자이로스코프 등의 센서 데이터) 및 보폭 수(step counter)가 입력되 어 데이터 학습(Data Training)하여 인공지능 모델(AI Model)을 생성되고, 이 모델에서 각 상황에서의 보폭 (Step Length) 데이터가 출력된다. 여기서, Random forest 알고리즘은 많은 Decision Tree로 구성되며, Data set에서 랜덤으로 추출한 일부 데이 터를 가지고 학습을 진행하고, Tree의 Node를 분할할 때 전체 특성 중 최선의 특성을 찾는 것이 아니라 무작위 로 선택한 특성 후보 중 최적의 특성을 찾는 무작위성을 주입하는데, 과적합(Overfitting)을 줄일 수 있고 높은 정확성을 가진다는 장점이 있지만, 단일 모델에 비해 시간이 오래 걸리는 단점이 있다. 또한, KPI(Key Performance Indicator)인 정확도(Accuracy)(모델에서 출력되는 보폭과 실제 보폭 사이의 차이 에 따른 정확도), 지연속도(latency) 및 모델 크기(Model Size)가 측정되고 측정된 결과를 분석되어 분석 결과 에 따라 성능 향상을 위한 알고리즘의 파라메타 튜닝을 하여 최종적인 학습 모델(Training Model)이 확정된다.이제, 도3을 참고로 하여 본 발명의 전체적인 구성을 설명하기로 한다. 탐색자가 소지하고 있는 위치 측위 장치의 센서 모듈에는 가속도 센서/자이로스코프/나침반/기압계를 포함하 는 센서들과, 탐색자의 걸음수를 카운트하는 스탭 카운터가 포함되어 있다. 여기서 스탭 카운터는 가속도 센서의 가속도 값을 이용하여 탐색자의 걸음을 감지하여 걸음수(스탭수)를 카 운트하게 된다. 또한, 본 발명의 PDR시스템(MCU모듈)에는, 스탭카운터로부터 스탭 카운트 값을 수신하여 스탭 카운터 시 간 간격을 체크하는 시간 간격 체크 모듈과, 센서들에서의 센싱 데이터와 시간 간격 체크 모듈에서 의 스탭 시간 간격 데이터를 통해 탐색자의 상황을 인지하는 상황인지 모듈과, 상황인지 모듈에서 인식 된 상황에 대응하는 보폭을 결정하는 보폭결정 모듈과, 센서들에서의 센싱 데이터들과 보폭 결정 모듈 에서의 보폭값을 통해 탐색자의 3차원 위치를 결정하는 위치결정 모듈이 포함되어 있다. 여기서,보폭 시간 간격은 인터럽트나 폴링(20-50ms 간격으로 주기적인 체크)방식으로 스탭 카운터의 레지스터 값을 확인하여 스탭 카운터의 증가속도를 통해 체크 가능하다. 또한, 보폭 결정은 상황인지 모듈을 통해 탐색자의 상황이 인지되면 이러한 탐색자의 상황에 맞는 보폭 길 이가 상기 상황별 보폭 매핑 테이블 또는 공식에서 도출된다. 다음으로 상황인지 모듈에서 탐색자의 상황을 인식하는 방법에 대해 설명하기로 한다. 본 발명에서는 스탭 카운터의 증가속도와 가속도/각속도/압력 센서 데이터들을 모두 활용하여 사용자의 상황을 인식하게 된다. 그래서, 예를 들어 차량으로 이동하는 경우에는 걸음 수를 인지하는 스탭 카운터는 증가되지 않고 가속도 센서 값만 변화하므로 이때에는 차량으로의 이동으로 인식하고, 로프를 타고 벽을 내려 올 경우에는 스탭 카운터는 증가되지 않고 압력 센서(기압 센서)만 변화하므로 기타 상황으로 인지할 수 있다. 반면에, 걷거나(Walk) 뛰는(Run) 경우에는 스탭 카운터는 증가하고 걸음 간 의 시간 간격(time interval)이 변 화되므로, 걸음 간의 시간 간격 즉 스탭 카운터의 증가속도를 이용하면 걷거나 뛰는 상황을 인지할 수 있으며, 가속도/각속도 센서와 압력 센서를 활용하면 보다 세밀하게 상황 인지가 가능하다. 예를 들어, 걷는 상황에서는 걸음 간의 시간 간격이 300ms라면 뛰는 상황에서는 걸음 간의 시간 간격이 80ms가 되므로 이러한 시간 간격(스탭 카운터의 증가속도)을 통해 걷고 있는지 또는 뛰고 있는지를 감지 할 수 있으며, 걷을 때와 뛸 때 가속도의 값이 달라지므로 가속도 값을 통해서 보다 정확한 상황 인지가 가능하다. 또한, 계단을 오르거나 내려가는 상황에서는 각속도에서의 z값과 압력 센서 값의 변화로써 상황 인지가 가능하 다. 마지막으로, 특정 탐색자가 건물 내로 진입하는 경우에 탐색자의 3차원 위치를 추정하는 방법에 대해 도3, 4를 참고로 하여 설명하기로 한다. 먼저, 위치측위 장치 내의 센서모듈 내 포함된 스탭 카운터에서 출력되는 스탭 카운트 값이 스탭 카운터 시간 간격 체크 모듈에 전달되어 스탭 카운트 값의 증가속도(스탭 카운트 시간 간격)가 산출된다(S1). 그리고 나서, 산출된 스탭 카운트 시간 간격과 센서들(가속도 센서, 자이로스코프, 나침반 및 기압계)에서 출력되는 센싱값(가속도 값, 각속도 값, 방향값, 대기압 값)이 PDR시스템의 상황인지 모듈에 전달한다 (S2). 상황인지 모듈에서는 수신된 스탭 카운트 시간 간격과 센싱값(가속도 값, 각속도 값, 방향값, 대기압 값)을 통해 상기에서 설명한 상황인지 방법에 따라 탐색자의 상황을 인지한다(S3). 또한, 인지된 탐색자의 상황이 보폭 결정 모듈에 전달되면 보폭 결정 모듈은 인지된 탐색자의 상황에 대응하는 보폭을 상기의 상황별 보폭 매핑 테이블 또는 공식에서 도출한다(S4). 이제, 이렇게 도출된 탐색자의 상황에 따른 보폭은 위치 결정 모듈로 전달되고, 위치 결정 모듈에서는 가속도 값과 각속도 값과 방향값을 이용하여 탐색자의 자세 및 향하는 방향(Heading)을 추정하여 탐색자의 2차 원 위치를 계산한다(S5). 또한, 위치 결정 모듈에서는 기압계에서 수신한 대기압 값을 근거로 상대 높이를 계산한다(S6). 마지막으 로, 위치 결정 모듈에서는 계산된 탐색자의 2차원 위치 정보와 상대 높이 정보를 이용하여 탐색자의 3차원 위치를 계산한다(S7). 결국, 이상과 같은 본 발명을 이용하면, 탐색자의 위치 결정시에 탐색자의 상황에 따른 보폭값이 사용되므로, 가속도 값에 따라 보폭을 결정하는 종래기술이 비해 보폭의 정확도가 크게 향상되어 탐색자가 건물 내부를 장시 간 탐색해도 위치 측위의 정확도를 유지할 수 있게 된다. 한편, 이상에서는 본 발명의 바람직한 실시예를 설명하였지만, 본 발명은 이러한 실시예에 한정되는 것이 아니 라 본 발명의 정신을 벗어나지 않는 범위 내에서 다양한 변형과 변경이 가능하다는 점에 유의해야 한다."}
{"patent_id": "10-2020-0148111", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도1은 탐색자의 다양한 상황을 설명하는 도면. 도2는 본 발명에서 사전학습에 따른 상황별 보폭 데이터의 획득을 도시함. 도3은 본 발명의 전체적인 구성을 도시함. 도4는 본 발명에 따라 건물 내의 탐색자의 3차원 위치를 추정하는 순서를 도시함."}
