{"patent_id": "10-2021-0151953", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0066696", "출원번호": "10-2021-0151953", "발명의 명칭": "교차 언어 지식 기반 대화 모델을 활용한 대화 시스템 및 방법", "출원인": "한국전자기술연구원", "발명자": "김산"}}
{"patent_id": "10-2021-0151953", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "대화 생성에 이용할 지식들과 대화 히스토리를 입력 받아 대화 히스토리와 연관성이 가장 높은 지식을 선택하는단계;선택한 지식과 대화 히스토리를 연결하는 단계;연결된 지식과 대화 히스토리를 이용하여, 다음 대화를 생성하는 단계;를 포함하는 것을 특징으로 하는 대화 생성 방법."}
{"patent_id": "10-2021-0151953", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "청구항 1에 있어서,대화 히스토리는,제1 언어로 되어 있고,지식들은,제1 언어와 다른 제2 언어로 되어 있는 것을 특징으로 하는 대화 생성 방법."}
{"patent_id": "10-2021-0151953", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "청구항 2에 있어서,다음 대화는,제1 언어로 된 다음 대화인 것을 특징으로 하는 대화 생성 방법."}
{"patent_id": "10-2021-0151953", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "청구항 3에 있어서,선택 단계는,자연어를 입력받아 의미 벡터를 생성하는 인코더 모델이, 지식들을 인코딩하여 의미 벡터들을 생성하는 단계;인코더 모델이, 대화 히스토리를 인코딩하여 의미 벡터를 생성하는 단계;대화 히스토리의 의미 벡터와 지식들의 의미 벡터들 간 Inner product 값이 가장 큰 지식을 선택하는 단계;를포함하는 것을 특징으로 하는 대화 생성 방법."}
{"patent_id": "10-2021-0151953", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "에 있어서,인코더 모델과 Encoder-Decoder 모델은,인코더 모델에 모델에 대화 히스토리와 지식들을 입력하는 경우에 Encoder-Decoder 모델에서 생성되는 다음 대화와 GT(Ground Truth) 다음 대화 간의 Loss를 줄이는 방향으로 학습되는 것을 특징으로 하는 대화 생성 방법."}
{"patent_id": "10-2021-0151953", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "청구항 2에 있어서,지식들은,제1 언어로 된 지식들과 제2 언어로 된 지식들을 포함하는 것을 특징으로 하는 대화 생성 방법."}
{"patent_id": "10-2021-0151953", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "청구항 2에 있어서,제2 언어로 된 대화 히스토리를 제1 언어로 자동 번역하는 단계;를 더 포함하고,선택 단계는,자동 번역 단계에서 번역된 대화 히스토리를 입력 받는 것을 특징으로 하는 대화 생성 방법."}
{"patent_id": "10-2021-0151953", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "청구항 8에 있어서,제1 언어로 된 다음 대화를 제2 언어로 자동 번역하는 단계;를 더 포함하는 것을 특징으로 하는 대화 생성방법."}
{"patent_id": "10-2021-0151953", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "대화 생성에 이용할 지식들과 대화 히스토리를 입력 받아 대화 히스토리와 연관성이 가장 높은 지식을선택하고, 선택한 지식과 대화 히스토리를 연결하는 선택부;선택부에 의해 연결된 지식과 대화 히스토리를 이용하여, 다음 대화를 생성하는 생성부;를 포함하는 것을 특징으로 하는 대화 생성 시스템."}
{"patent_id": "10-2021-0151953", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "대화 히스토리와 연관성이 가장 높은 지식을 선택하는 단계; 및선택한 지식과 대화 히스토리를 이용하여, 다음 대화를 생성하는 단계;를 포함하는 것을 특징으로 하는 대화 생성 방법."}
{"patent_id": "10-2021-0151953", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "대화 히스토리와 연관성이 가장 높은 지식을 선택하는 선택부; 및공개특허 10-2023-0066696-4-선택부에 의해 선택된 지식과 대화 히스토리를 이용하여, 다음 대화를 생성하는 생성부;를 포함하는 것을 특징으로 하는 대화 생성 시스템."}
{"patent_id": "10-2021-0151953", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "교차 언어 지식 기반 대화 모델을 활용한 대화 시스템 및 방법이 제공된다. 본 발명의 실시예에 따른 대화 생성 방법은 대화 생성에 이용할 지식들과 대화 히스토리를 입력 받아 대화 히스토리와 연관성이 가장 높은 지식을 선 택하고, 선택한 지식과 대화 히스토리를 연결하는 단계; 연결된 지식과 대화 히스토리를 이용하여 다음 대화를 생성한다. 이에 의해 대화 생성에 사용할 수 있는 문서/지식의 영역이 다른 언어로 된 문서/지식들까지로 확대되 므로 더 넓은 도메인의 informative chit-chat이 가능해진다."}
{"patent_id": "10-2021-0151953", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 인공지능 관련 기술에 관한 것으로, 더욱 상세하게는 문서/지식 기반으로 대화를 생성하는 딥러닝 모 델을 이용한 대화 시스템 및 방법에 관한 것이다."}
{"patent_id": "10-2021-0151953", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "선택 기반 칫챗 봇은 답변 후보들 사이에서 답변을 선택하거나 패턴을 기반으로 대화하기 때문에 답변의 다양성 이 떨어지며, 대화할 수 있는 범위가 제한적이다. 이를 해결하기 위하여 생성 기반 칫챗 봇이 개발되었으나, 생성할 수 있는 대화의 범위가 너무 넓기 때문에 그 럴듯 하지만 대화의 흐름과는 상관없는 발화가 자주 생성되어 대화가 부자연스러운 단점이 있다. 이에 따라 대화로부터 감정/의도/전략 등의 특징을 추출하여 추출된 특징을 기반으로 대화를 생성하는 연구가 진행되고 있으며, 여기에 더 나아가 좀 더 정보를 주는(informative) 발화를 생성하기 위하여 문서/지식 기반 대화 연구가 진행되고 있다. 하지만 이러한 문서/지식 기반 대화는 데이터를 구축하는데 비용이 많이 든다. 특히 웹에서 구할 수 있는 많은 문서/지식들이 영어이고, 한국어는 매우 적은 비율을 차지하는데, 문서/지식 기반 대화 데이터 셋에서 발화에 비하여 문서/지식은 양이 매우 많기 때문에 번역비용도 많이 소요된다."}
{"patent_id": "10-2021-0151953", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 상기와 같은 문제점을 해결하기 위하여 안출된 것으로서, 본 발명의 목적은, 문서/지식 기반 대화 데 이터 생성에 소모되는 비용을 줄이고, 가용한 문서/지식의 양을 늘이기 위한 방안으로, 교차 언어 지식 기반 대 화 모델을 활용한 대화 시스템 및 방법을 제공함에 있다."}
{"patent_id": "10-2021-0151953", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 목적을 달성하기 위한 본 발명의 일 실시예에 따른 대화 생성 방법은 대화 생성에 이용할 지식들과 대화 히스토리를 입력 받아 대화 히스토리와 연관성이 가장 높은 지식을 선택하는 단계; 선택한 지식과 대화 히스토 리를 연결하는 단계; 연결된 지식과 대화 히스토리를 이용하여, 다음 대화를 생성하는 단계;를 포함한다. 대화 히스토리는 제1 언어로 되어 있고, 지식들은 제1 언어와 다른 제2 언어로 되어 있을 수 있다. 다음 대화는, 제1 언어로 된 다음 대화일 수 있다. 선택 단계는, 자연어를 입력받아 의미 벡터를 생성하는 인코더 모델이, 지식들을 인코딩하여 의미 벡터들을 생 성하는 단계; 인코더 모델이, 대화 히스토리를 인코딩하여 의미 벡터를 생성하는 단계; 대화 히스토리의 의미 벡터와 지식들의 의미 벡터들 간 Inner product 값이 가장 큰 지식을 선택하는 단계;를 포함할 수 있다. 생성 단계는, 입력되는 연결된 지식과 대화 히스토리를 분석하여 다음 대화를 생성하는 Encoder-Decoder 모델을 이용하여 다음 대화를 생성할 수 있다. 인코더 모델과 Encoder-Decoder 모델은, 인코더 모델에 모델에 대화 히스토리와 지식들을 입력하는 경우에 Encoder-Decoder 모델에서 생성되는 다음 대화와 GT(Ground Truth) 다음 대화 간의 Loss를 줄이는 방향으로 학습될 수 있다. 그리고 지식들은 제1 언어로 된 지식들과 제2 언어로 된 지식들을 포함할 수 있다. 제2 언어로 된 대화 히스토리를 제1 언어로 자동 번역하는 단계;를 더 포함하고, 선택 단계는, 자동 번역 단계 에서 번역된 대화 히스토리를 입력 받을 수 있다. 본 발명의 실시예에 따른 대화 생성 방법은 제1 언어로 된 다음 대화를 제2 언어로 자동 번역하는 단계;를 더 포함할 수 있다. 본 발명의 다른 실시예에 따른 대화 생성 시스템은 대화 생성에 이용할 지식들과 대화 히스토리를 입력 받아 대 화 히스토리와 연관성이 가장 높은 지식을 선택하고, 선택한 지식과 대화 히스토리를 연결하는 선택부; 선택부 에 의해 연결된 지식과 대화 히스토리를 이용하여, 다음 대화를 생성하는 생성부;를 포함한다. 본 발명의 다른 실시예에 따른, 대화 생성 방법은 대화 히스토리와 연관성이 가장 높은 지식을 선택하는 단계; 및 선택한 지식과 대화 히스토리를 이용하여, 다음 대화를 생성하는 단계;를 포함한다. 본 발명의 다른 실시예에 따른 대화 생성 시스템은 대화 히스토리와 연관성이 가장 높은 지식을 선택하는 선택 부; 및 선택부에 의해 선택된 지식과 대화 히스토리를 이용하여, 다음 대화를 생성하는 생성부;를 포함한다."}
{"patent_id": "10-2021-0151953", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "이상 설명한 바와 같이, 본 발명의 실시예들에 따르면, 대화 생성에 사용할 수 있는 문서/지식의 영역이 다른 언어로 된 문서/지식들까지로 확대되므로 더 넓은 도메인의 informative chit-chat이 가능해진다. 또한 본 발명의 실시예들에 따르면, 문서/지식 영역을 다른 언어로 된 문서/지식 후보들 중에서도 선택할 수 있 으며, 다른 언어로 된 문서/지식을 기반으로 한국어 발화를 생성할 수 있다. 뿐만 아니라 기존 document-grounded dialog는 학습 데이터 생성에 많은 비용이 발생하는데 비해, 본 발명의 실 시예들에 따르면 양이 많은 문서/지식에 대해서는 번역이 필요 없이 발화만 번역하면 되므로 매우 적은 비용으 로 학습 데이터를 확보할 수 있게 된다."}
{"patent_id": "10-2021-0151953", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하에서는 도면을 참조하여 본 발명을 보다 상세하게 설명한다. 도 1은 본 발명의 일 실시예에 따른 자동 대화 시스템의 구조를 도시한 도면이다. 본 발명의 실시예에 따른 자 동 대화 시스템은 인공지능 모델을 이용하여 사람과 대화하는 시스템이다. 본 발명의 실시예에서, 인공지능 모델로 사용하는 문서/지식 기반 대화 모델은 대화 언어와 다른 언어로 된 문 서/지식을 사용함으로써 가용한 문서/지식의 범위를 넓혀 informative한 발화 생성을 가능하게 하고, 나아가 모 델 학습 데이터 생성 시 대화만 번역을 요구하여 경제적이다. 본 발명의 실시예에 따른 자동 대화 시스템은, 도시된 바와 같이, 대화 입력부, 문서/지식 입력부, 문서/지식 선택부, 대화 생성부 및 대화 출력부를 포함하여 구성된다.대화 입력부는 사용자와의 대화 히스토리를 문서/지식 선택부로 인가한다. 대화 입력부에 의해 입력되는 대화 히스토리는 한국어로 된 것이다. 문서/지식 입력부는 대화 히스토리로부터 다음 대화 생성에 이용할 문서/지식들을 획득하여 문서/지식 선 택부로 인가한다. 문서/지식 입력부는 내부 DB는 물론이고 웹 상에 존재하는 개방된 다양한 지식베이 스로부터 문서/지식을 획득할 수 있다. 또한 문서/지식 입력부는 문서/지식들의 후보셋을 구성하여 도메인을 변경할 수 있으며, 도메인에 관계없 이 문서/지식 셋을 구성하여 대화 생성에 활용할 수도 있다. 본 발명의 실시예에서 한국어로 된 대화 히스토리와 달리, 문서/지식은 영어로 된 것을 이용한다. 현재 웹상에 공개되어 있는 문서/지식이 한국어로 된 것 보다 영어로 된 것이 훨씬 많기 때문이다. 문서/지식 선택부는 문서/지식 입력부에서 입력되는 문서/지식들 중 대화 입력부에서 입력되는 대화 히스토리와 연관성이 가장 높은 문서/지식을 선택한다. 그리고 문서/지식 선택부는 선택한 문서/지식과 대화 입력부에서 입력된 대화 히스토리를 연결하여 대화 생성부로 전달한다. 대화 생성부는 문서/지식 선택부로부터 입력되는 연결된 문서/지식과 대화 히스토리 시퀸스로부터 다 음 대화를 생성한다. 대화 출력부는 대화 생성부에 의해 생성된 다음 대화를 출력한다. 다음 대화는 한국어로 되어 있다. 문서/지식 선택부와 대화 생성부는 딥러닝 모델로 구성한다. 이하에서 도 2를 참조하여 문서/지식 선 택부와 대화 생성부의 모델 구조에 대해 설명한다. 도시된 바와 같이, 문서/지식 선택부는 인코더, 어텐션 모듈 및 연결(concatenateation) 모듈 로 구현하고, 대화 생성부는 인코더-디코더 모델로 구현할 수 있다. 인코더는 자연어를 입력받아 의미 벡터(representation vector)를 생성하는 딥러닝 모델로, 입력되는 문서 /지식(knowledge)들을 인코딩하여 의미 벡터들을 생성하고, 입력되는 대화 히스토리(dialogue context)를 인코 딩하여 의미 벡터를 생성한다. 어텐션 모듈은 인코더에서 생성된 대화 히스토리의 의미 벡터와 지식들의 의미 벡터들 간 Inner product를 계산하고, 계산된 Inner product 값이 가장 큰 지식을 선택한다. 연결 모듈은 어텐션 모듈이 선택한 지식과 대화 히스토리 토큰을 연결한 토큰 시퀀스(concatenated token sequence)를 인코더-디코더 모델로 전달한다. 인코더-디코더 모델은 연결 모듈로부터 입력되는 연결된 지식과 대화 히스토리를 분석하여 다음 대화를 생성하는 딥러닝 모델이다. 도 2에 도시된 문서/지식 선택부와 대화 생성부는 End-to-End 방식으로 학습된다. 즉 인코더에 대화 히스토리와 지식들을 입력하는 경우에 인코더-디코더 모델에서 생성되는 다음 대화와 GT(Ground Truth) 다음 대화 간의 Loss를 줄이는 방향으로 학습된다. 본 발명의 실시예에 따른 교차 언어 지식에 기반한 대화 생성 결과를 도 3에 예시하였다. 도 3의 'Response of the Models'에서 볼 수 있듯이 발화 생성에 기존 대화 히스토리만 사용하였을 경우, 기존 생성 기반 대화 모델 은 \"예, 그는 1977년에 설립되었습니다\"라는 거짓 정보를 그럴 듯하게 지어내는 문제를 보인다. 하지만 한국어 또는 영어 지식을 이용한 대화 생성은 정확한 정보를 생성하는 것을 확인할 수 있는데, 여기서 한국어/영어 지식 기반 대화 생성의 결과가 큰 차이가 없는 것을 확인할 수 있다. 즉 본 발명의 실시예에 따른 대화 시스템은 한국어 대화 생성에 사용할 지식으로 영어와 한국어 모두가 사용가 능함을 알 수 있다. 그러므로 본 발명의 실시예에 따른 자동 대화 시스템은 영어 문서/지식 대신 한국어 문서/지식을 이용하는 것도 가능할 뿐만 아니라 양자를 모두 이용하는 것으로 구현하는 것이 가능하다. 나아가 다양한 언어의 문서/지식들이 존재하는 경우 자동 대화 시스템이 이용할 언어의 문서/지식들을 선택할 수 있도록 구현할 수 있다.도 4에는 교차 언어 지식 기반 대화 모델의 지식-발화 언어 페어에 따른 대화 생성의 다른 예들을 제시하였다. 도 5은 본 발명의 다른 실시예에 따른 자동 대화 시스템의 구조를 도시한 도면이다. 본 발명의 실시예에 따른 자동 대화 시스템은, 대화 입력부와 문서/지식 선택부의 사이에 영/한 번역부가 더 포함되어 있 다는 점에서, 도 1에 도시된 자동 대화 시스템과 차이가 있다. 영/한 번역부는 대화 입력부를 통해 입력되는 영어 대화 히스토리를 한국어 대화 히스토리로 자동 번 역하여 문서/지식 선택부로 인가하기 위한 수단이다. 문서/지식 선택부와 대화 생성부의 학습에 필요한 영어 문서/지식을 확보하였지만 한국어 대화 히스 토리를 확보하지 못한 경우에 유용한 구조이다. 학습이 완료되면 영/한 번역부는 제거할 수 있다. 도 6은 본 발명의 또 다른 실시예에 따른 자동 대화 시스템의 구조를 도시한 도면이다. 본 발명의 실시예에 따른 자동 대화 시스템은, 대화 입력부와 문서/지식 선택부의 사이에 영/한 번역 부가 더 포함되어 있고, 대화 생성부와 대화 출력부의 사이에 한/영 번역부가 더 포함되어 있다는 점에서, 도 1에 도시된 자동 대화 시스템과 차이가 있다. 영/한 번역부는 대화 입력부를 통해 입력되는 영어 대화 히스토리를 한국어 대화 히스토리로 자동 번 역하여 문서/지식 선택부로 인가하기 위한 수단이다. 한/영 번역부는 대화 생성부에서 생성된 한국어로 된 다음 대화를 영어로 자동 번역하여 대화 출력부 로 인가하기 위한 수단이다. 영어 대화 히스토리와 영어 문서/지식으로부터 영어 대화를 생성하는 모델을 구성할 수 없거나 구성하더라도 성 능이 기대에 못미치는 경우에 위 시스템을 활용할 수 있다. 지금까지 교차 언어 지식 기반 대화 모델을 활용한 대화 시스템 및 방법에 대해 바람직한 실시예들을 들어 상세 히 설명하였다. 본 발명의 실시예에서는 많은 문서들로부터 현재 대화와 관련된 문서/지식을 선택하고 선택된 문서/지식와 대화 히스토리를 이용하여 발화를 생성함에 있어, 문서/지식을 선택할 때 기존 모델들과 달리 다른 언어로 된 문서 후보들 중에서도 선택할 수 있으며, 다른 언어로 된 문서를 기반으로 한국어 발화를 생성할 수 있도록 하였다. 다른 언어인 문서/지식을 이용하여 한국어로 대화를 할 수 있으면, 데이터 번역 시 발화만 번역을 하면 되며, 많은 양의 영어 문서/지식을 이용할 수 있다는 점을 이용한 것이다. 우리가 영어로 된 문서를 읽고 한국말로 대 화하는 것과 같은 맥락이다. 따라서 대화 생성에 사용할 수 있는 문서/지식의 영역이 다른 언어로 된 문서들까지 넓어지므로 더 넓은 도메인 의 informative chit-chat이 가능해진다. 또한 학습 데이터 생성에 많은 비용이 발생하는 기존과 달리 대화 히 스토리만 번역하는 것으로 학습 데이터 확보가 가능하므로 매우 적은 비용이 소요된다. 또한 문서/지식들의 후보셋 구성에 따라 도메인을 변경할 수 있으며 도메인에 관계없이 문서/지식 셋을 구성하 여 대화 생성에 활용할 수 있으므로 오픈 도메인이다. 본 발명의 실시예에 따른 교차 언어 지식 기반 대화 모델은 오픈 도메인 chit-chat 봇, 지식 기반 대화 시스템 등에 널리 활용될 수 있다. 한편, 본 실시예에 따른 장치와 방법의 기능을 수행하게 하는 컴퓨터 프로그램을 수록한 컴퓨터로 읽을 수 있는 기록매체에도 본 발명의 기술적 사상이 적용될 수 있음은 물론이다. 또한, 본 발명의 다양한 실시예에 따른 기 술적 사상은 컴퓨터로 읽을 수 있는 기록매체에 기록된 컴퓨터로 읽을 수 있는 코드 형태로 구현될 수도 있다. 컴퓨터로 읽을 수 있는 기록매체는 컴퓨터에 의해 읽을 수 있고 데이터를 저장할 수 있는 어떤 데이터 저장 장 치이더라도 가능하다. 예를 들어, 컴퓨터로 읽을 수 있는 기록매체는 ROM, RAM, CD-ROM, 자기 테이프, 플로피 디스크, 광디스크, 하드 디스크 드라이브, 등이 될 수 있음은 물론이다. 또한, 컴퓨터로 읽을 수 있는 기록매체 에 저장된 컴퓨터로 읽을 수 있는 코드 또는 프로그램은 컴퓨터간에 연결된 네트워크를 통해 전송될 수도 있다. 또한, 이상에서는 본 발명의 바람직한 실시예에 대하여 도시하고 설명하였지만, 본 발명은 상술한 특정의 실시"}
{"patent_id": "10-2021-0151953", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "예에 한정되지 아니하며, 청구범위에서 청구하는 본 발명의 요지를 벗어남이 없이 당해 발명이 속하는 기술분야 에서 통상의 지식을 가진자에 의해 다양한 변형실시가 가능한 것은 물론이고, 이러한 변형실시들은 본 발명의 기술적 사상이나 전망으로부터 개별적으로 이해되어져서는 안될 것이다.부호의 설명 110 : 대화 입력부 120 : 문서/지식 입력부 130 : 문서/지식 선택부 140 : 대화 생성부 150 : 대화 출력부"}
{"patent_id": "10-2021-0151953", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 자동 대화 시스템의 구조를 도시한 도면, 도 2는 문서/지식 입력부와 문서/지식 선택부의 모델 구조를 도시한 도면, 도 3은 본 발명의 실시예에 따른 교차 언어 지식에 기반한 대화 생성 결과를 예시한 도면, 도 4는 교차 언어 지식 기반 대화 모델의 지식-발화 언어 페어에 따른 대화 생성의 다른 예들을 제시한 도면, 도 5은 본 발명의 다른 실시예에 따른 자동 대화 시스템의 구조를 도시한 도면, 그리고, 도 6은 본 발명의 또 다른 실시예에 따른 자동 대화 시스템의 구조를 도시한 도면이다."}
