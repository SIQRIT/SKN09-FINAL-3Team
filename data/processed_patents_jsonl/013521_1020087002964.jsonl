{"patent_id": "10-2008-7002964", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2008-0055789", "출원번호": "10-2008-7002964", "출원인": "브룩스 오토메이션 인코퍼레이티드", "발명자": "호섹 마틴"}}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "상태 감시 및 결함 진단을 위한 시스템으로서:하나 이상의 요소들에 관한 선택된 변수들(variables)의 시간 이력들을 획득하는, 데이터 수집 기능;시간 이력의 특정 특성들을 계산하는, 전처리 기능(pre-process function);하나 이상의 요소들의 상태에 관한 하나 이상의 가정(hypotheses)을 생성하기 위해 특성들을 평가하는, 분석 기능; 및하나 이상의 가정으로부터 하나 이상의 요소들의 상태를 결정하기 위한, 추론 기능;을 포함하는, 상태 감시 및결함 진단 시스템."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,요소들에 대한 예방적 정비 효과를 주기 위해 하나 이상의 요소의 결정된 상태를 이용하는 기능을 포함하는, 상태 감시 및 결함 진단 시스템."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,추론 기능은 하나 이상의 요소들이 하나 이상의 가정으로부터 작동하는 시스템의 상태를 결정하는, 상태 감시및 결함 진단 시스템."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,데이터 수집 기능은 샘플링 주기(sampling period)와, 트리거 모드(trigger mode)와, 선택된 변수들에 관하여기록될 샘플들의 개수를 설정하는, 상태 감시 및 결함 진단 시스템."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서,데이터 수집 기능, 전처리 기능, 분석 기능, 추론 기능의 각각은 하나 이상의 요소들이 제어기 내에 존재하는것을 용이하게 하는, 상태 감시 및 결함 진단 시스템."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에 있어서,전처리 기능은 시간 이력에 대해 수학적인 연산을 수행함으로써 시간 이력의 특정한 특성들을 계산하는, 상태감시 및 결함 진단 시스템."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제1항에 있어서,분석 기능은 하나 이상의 알고리즘들(algorithms)과 분석 기술들을 시간 이력들의 계산된 특정한 특성들에 적용함으로써 하나 이상의 가정들을 생성하는, 상태 감시 및 결함 진단 시스템."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제1항에 있어서,추론 기능은 하나 이상의 가정들로부터 하나 이상의 요소들의 상태를 결정하기 위한 전문가 진단 시스템(expert- 2 -공개특허 10-2008-0055789diagnostic system)을 포함하는, 상태 감시 및 결함 진단 시스템."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "요소 상태의 감시 및 결함 진단 방법으로서, 하나 이상의 요소들에 관한 선택된 변수들의 시간 이력을 획득하는 단계;시간 이력들의 특정한 특성들을 계산하는 단계;하나 이상의 요소들의 상태의 하나 이상의 가정을 생성하기 위해 특성들을 평가하는 단계; 및하나 이상의 가정으로부터 하나 이상의 요소들의 상태를 결정하는 단계;를 포함하는, 요소 상태의 감시 및 결함진단 방법."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서,요소들에 관한 예방적인 정비 효과를 주기 위해 하나 이상의 요소들의 결정된 상태를 이용하는 단계를포함하는, 요소 상태의 감시 및 결함 진단 방법."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제9항에 있어서,하나 이상의 요소들이 하나 이상의 가정들로부터 동작하는 시스템의 상태를 결정하는 단계를 포함하는, 요소 상태의 감시 및 결함 진단 방법."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제9항에 있어서,시간 이력을 획득하는 단계는, 샘플링 주기(sampling period)와, 트리거 모드(trigger mode)와, 선택된 변수들에 관하여 기록될 샘플들의 개수를 설정하는, 요소 상태의 감시 및 결함 진단 방법."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제9항에 있어서,시간 이력을 획득하는 단계는 하나 이상의 요소들의 제어기에 의해 수행되는, 요소 상태의 감시 및 결함 진단방법."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제9항에 있어서,시간 이력들의 특정한 특성들을 계산하는 단계는 시간 이력들에 수학적인 연산을 수행하는 단계를 포함하는, 요소 상태의 감시 및 결함 진단 방법."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제9항에 있어서,하나 이상의 요소들의 조건의 하나 이상의 가정들을 생성하기 위해 특성들을 평가하는 단계는, 시간 이력들의계산된 특정한 특성들에 하나 이상의 알고리즘들(algorithms)과 분석 기술들을 적용하는 단계를 포함하는, 요소상태의 감시 및 결함 진단 방법."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제9항에 있어서,하나 이상의 가정들로부터 하나 이상의 요소들의 상태를 결정하는 단계는, 전문가 진단 시스템을 포함하는, 요소 상태의 감시 및 결함 진단 방법.- 3 -공개특허 10-2008-0055789청구항 17 요소의 상태 감시와 결함 진단을 위해 컴퓨터가 사용 가능한 프로그램 코드를 갖는 컴퓨터가 사용 가능한 매체를 포함하는 컴퓨터 프로그램 제품으로서, 컴퓨터에서 실행되어, 컴퓨터가, 하나 이상의 요소들의 선택된 변수들의 시간 이력을 획득하는 단계;시간 이력들의 특정한 특성들을 계산하는 단계;하나 이상의 요소들의 조건의 하나 이상의 가정을 생성하기 위해 특성들을 평가하는 단계; 및하나 이상의 가정들로부터 하나 이상의 요소들의 상태를 결정하는 단계;를 실행하게 하는, 컴퓨터 프로그램 제품."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "제17항에 있어서,컴퓨터 상에서 실행되면 요소들에 관한 예방적 관리의 효과를 주기 위해 컴퓨터가 하나 이상의 요소들의 결정된상태를 이용하게 하는, 컴퓨터 프로그램 제품."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_19", "content": "제17항에 있어서,컴퓨터 상에서 실행되면, 컴퓨터가 하나 이상의 요소들이 하나 이상의 가정들로부터 동작하는 시스템의 상태를결정하게 하는, 컴퓨터 프로그램 제품."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_20", "content": "제17항에 있어서,시간 이력을 획득하는 단계는, 샘플링 주기(sampling period)와, 트리거 모드(trigger mode)와, 선택된 변수들에 관하여 기록될 샘플들의 개수를 설정하는, 컴퓨터 프로그램 제품."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_21", "content": "제17항에 있어서,시간 이력들의 특정한 특성들을 계산하는 단계는 시간 이력들에 수학적인 연산을 수행하는 단계를 포함하는, 컴퓨터 프로그램 제품."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_22", "content": "제17항에 있어서,하나 이상의 요소들의 상태의 하나 이상의 가정들을 생성하기 위해 특성들을 평가하는 단계는, 시간 이력들의계산된 특정한 특성들에 하나 이상의 알고리즘들(algorithms)과 분석 기술들을 적용하는 단계를 포함하는, 컴퓨터 프로그램 제품."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_23", "content": "제17항에 있어서,하나 이상의 가정들로부터 하나 이상의 요소들의 상태를 결정하는 단계는, 전문가 진단 시스템을 포함하는, 컴퓨터 프로그램 제품."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_24", "content": "요소의 상태 감시 및 결함 진단을 위한 시스템으로서,하나 이상의 요소들에 관한 선택된 변수들의 시간 이력을 획득하는 데이터 수집 기능;시간 이력들의 특정한 특성들을 계산하는 전처리 기능(pre-processing function);- 4 -공개특허 10-2008-0055789하나 이상의 요소들의 상태의 하나 이상의 가정(hypotheses)을 생성하기 위해 특성들을 평가하는 분석 기능;하나 이상의 가정들로부터 하나 이상의 요소들의 상태를 결정하기 위한 추론 기능; 및데이터 수집 기능에 의해 획득된 선택된 변수들을 결정하고, 특정한 특성들을 계산하기 위한 전처리 기능 내에서 데이터 처리를 발생시키고, 가정을 산출하기 위해 분석 기능에 의해 특성들의 평가를 시작하며, 추론 기능에의해 요소 상태의 편이(deviation)를 일으키는, 관리 기능;을 포함하는, 상태 감시 및 결함 진단 시스템."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_25", "content": "제24항에 있어서,관리 기능은, 요소들에 관한 예방적인 정비 효과를 주기 위해 하나 이상의 요소들의 결정된 상태를 이용하는,상태 감시 및 결함 진단 시스템."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_26", "content": "제24항에 있어서,추론 기능은, 하나 이상의 요소들이 하나 이상의 가정들로부터 동작하는 시스템의 상태를 결정하는, 상태 감시및 결함 진단 시스템."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_27", "content": "제24항에 있어서,데이터 수집 기능은, 관리 기능의 제어 하에서 샘플링 주기(sampling period)와, 트리거 모드(trigger mode)와,선택된 변수들에 관하여 기록될 샘플들의 개수를 설정하는, 상태 감시 및 결함 진단 시스템."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_28", "content": "제24항에 있어서,전처리 기능은, 시간 이력들에 수학적인 연산들을 수행함으로써 시간 이력들의 특정한 특성들을 계산하고, 수학적인 연산들은 요소들의 형태에 기초한 관리 기능에 의해 정해지는, 상태 감시 및 결함 진단 시스템."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_29", "content": "제24항에 있어서,분석 기능은, 메카트로닉 장치(mechatronic device)로서 함께 작동하는 요소들의 그룹의 시간 이력의 계산된 특정한 특성들에 하나 이상의 알고리즘들(algorithms)과 분석 기술들을 적용함으로써 하나 이상의 가정들을 생성하는, 상태 감시 및 결함 진단 시스템."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_30", "content": "제29항에 있어서,추론 기능은, 하나 이상의 가정들로부터 메카트로닉 장치의 상태를 결정하기 위해 전문가 진단 시스템을 포함하는, 상태 감시 및 결함 진단 시스템."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_31", "content": "반도체 생산 기계의 요소 상태들을 감시하기 위한 시스템으로서, 하나 이상의 요소들의 선택된 변수들의 시간 이력을 획득하는 데이터 수집 기능을 갖는, 요소 제어기;메카트로닉 장치로 함께 작동하는 하나 이상의 요소들의 변수들의 시간 이력의 특정한 특성들을 계산하는 전처리 기능(pre-processing function)을 갖는, 메카트로닉(mechatronic) 장치;하나 이상의 요소들의 상태의 하나 이상의 가정들을 생성하기 위해 특성들을 평가하는 분석 기능을 갖는 메카트로닉 장치들의 그룹을 위한, 그룹(group) 제어기; 및하나 이상의 가정들로부터 하나 이상의 요소들의 상태를 결정하는 추론 기능과, 데이터 수집 기능에 의해 획득- 5 -공개특허 10-2008-0055789된 선택된 변수들을 결정하고, 특정한 특성들을 계산하기 위한 전처리 기능 내에서 데이터 처리를 일으키며, 가정을 생성하기 위해 분석 기능에 의해 특성들의 평가를 시작하고, 추론 기능에 의해 요소들의 상태의 편이(deviation)를 일으키는, 관리 기능을 갖는, 시스템 제어기;를 구비하는, 요소 상태 감시 시스템."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_32", "content": "제31항에 있어서,관리 기능은, 요소들에 관한 예방적인 정비 효과를 주기 위해 하나 이상의 요소들의 결정된 상태를 이용하는,요소 상태 감시 시스템."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_33", "content": "제31항에 있어서,추론 기능은, 하나 이상의 요소들이 하나 이상의 가정들로부터 동작하는 시스템의 상태를 결정하는, 요소 상태감시 시스템."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_34", "content": "제31항에 있어서,데이터 수집 기능은, 관리 기능의 제어 하에서 샘플링 주기(sampling period)와, 트리거 모드(trigger mode)와,선택된 변수들에 관하여 기록될 샘플들의 개수를 설정하는, 요소 상태 감시 시스템."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_35", "content": "제31항에 있어서,전처리 기능은, 시간 이력들에 수학적인 연산들을 수행함으로써 시간 이력들의 특정한 특성들을 계산하고, 수학적인 연산들은 요소들과 메카트로닉 장치의 형태(type)에 기초한 관리 기능에 의해 정해지는, 요소 상태 감시시스템."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_36", "content": "제31항에 있어서,분석 기능은, 메카트로닉 장치로서 함께 작동하는 요소들의 그룹의 시간 이력의 계산된 특정한 특성들에 하나이상의 알고리즘들(algorithms)과 분석 기술들을 적용함으로써 하나 이상의 가정들을 생성하는, 요소 상태 감시시스템."}
{"patent_id": "10-2008-7002964", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_37", "content": "제31항에 있어서,추론 기능은, 하나 이상의 가정들로부터 메카트로닉 장치의 상태를 결정하기 위해 전문가 진단 시스템을 포함하는, 요소 상태 감시 시스템.명 세 서기 술 분 야개시된 실시예들은 상태 감시 및 결함 진단 시스템에 관한 것이다. <1>배 경 기 술반도체 장치의 생산을 위해 로봇화된 소재 취급 플랫폼(platforms)과 같은 자동화된 제조 기계에 사용되는 로봇 <2>의 머니퓰레이터(manipulator)나 기타 메카트로닉 장치들(mechatronic devices)의 고장으로 인한 원자재 손실이나 예기치 않은 정지(downtime)는 제조 기계의 사용자에게 상당한 원가 부담을 의미하는 통상적인 문제점이다.많은 상태 감시 및 결함 진단 방법들(health-monitoring and fault diagnostic; HMFD methods)이, 산업 <3>분야와, 자동화 분야와 항공우주 분야를 위해 개발되었다. 현존하는 시스템들은, 감시되는 시스템 내에서 무언- 6 -공개특허 10-2008-0055789가가 잘못되었다는 것을 나타내는 에러 탐지와, 결함의 정확한 위치를 정확히 결정하기 위한 결함(즉, 불완전한요소)의 분리(fault isolation)와, 결함의 양을 결정하기 위한 결함 식별(fault identification)을 전형적으로구현한다. 분리와 식별(isolation and identification)의 작업은 종종 결함 진단(fault diagnosis)으로 함께 불린다. 많 <4>은 현존하는 시스템들은 결함 탐지 및 분리(fault detection and isolation)의 단계들만을 구현한다. 일반적으로, HMFD에 사용되는 방법들은 두 가지 중요 그룹들로 구분되는데, 플랜트(plant)라고도 불리는 감시와 진단의대상이 되는 시스템의 수학적인 모델을 사용하지 않는 그룹과, 사용하는 그룹으로 구분된다. 플랜트의 수학적인모델을 이용하지 않는 방법들은, 물리적 잉여법(physical redundancy)과, 특별한 센서들의 이용과, 한계 검사(limit checking)와, 스펙트럼 분석(spectrum analysis)과, 논리적 추론(logical reasoning) 등을 포함한다.물리적 잉여 접근법에서는 동일한 물리량을 측정하기 위해 복수 개의 센서들이 설치된다. 측정량들 사이의 어떤 <5>심한 차이점은 센서 결함을 의미한다. 두 개의 병렬 센서들만을 가지고서는 결함 분리는 불가능할 수 있다. 그러나 세 개나 그 이상의 센서들을 가지면 불완전한 센서를 분리시키는 투표법(voting scheme)이 형성될 수있다. 물리적 잉여법(physical redundancy)은 일반적으로 추가적인 하드웨어 비용과 추가적인 중량을 수반한다.탐지 및 진단을 위해 특별한 센서들이 일부러 설치될 수도 있다. 이러한 센서들은 리미트 센서들(예를 들어, 온 <6>도나 압력을 측정함)일 수 있으며, 하드웨어에서의 한계 검사(이하를 참조)를 수행한다. 다른 특별한 센서들은때로는 소리, 진동, 신장(elongation) 등과 같이 결함을 나타내는 물리량을 측정할 수도 있다.실무상 널리 사용되는 한계 검사(limit checking) 접근법에서는, 플랜트 계측량들이 컴퓨터에 의해 미리 정해진 <7>한계값들과 비교된다. 많은 시스템에서 두 단계의 한계점이 있는데, 첫 번째는 미리 경고하는 기능을 하지만,두 번째는 비상 작용(emergency reaction)을 일으킨다. 한계 검사는 선택된 변수들(variables)의 시간 추이에대한 검사에까지 확장될 수 있다. 단순하고도 직접적이기는 하지만, 한계 검사 접근법은 두 가지 단점을갖는다. (a) 플랜트 변수들은 일반적인 입력의 변동에 의해 광범위하게 변화할 수 있으므로, 시험 임계값(testthresholds)은 상당히 보수적으로 설정되어야 할 필요가 있다. (b) 하나의 요소의 결함의 효과가 많은 플랜트변수들에 전달되어, 복잡한 많은 경고들을 일으키고 분리를 대단히 어렵게 만든다.탐지와 분리(detection and isolation)를 위해 플랜트 계측량의 스펙트럼 분석이 사용될 수도 있다. 대부분의 <8>플랜트 변수들은 정상 작동 조건 하에서 전형적인 주파수 스펙트럼을 나타내며, 전형적인 주파수 스펙트럼에서벗어나는 것은 비정상임을 나타내는 것일 수 있다. 어떤 형태의 결함은 스펙트럼 내에서 자신만의 특징적인 신호를 가질 수도 있어서, 결함 분리(fault isolation)를 용이하게 한다.발명의 상세한 설명논리적 추론 기법(logical reasoning techniques)은 탐지 하드웨어와 소프트웨어에 의해 얻은 증상들을 평가하 <9>는 데 중점을 둔다는 점에서 상기 간략하게 설명된 방법들에 대해 보완적인 넓은 범주(class)를 형성한다. 가장단순한 기술은 \"증상과 증상의 조건에 의한 결론(if-symptom-and-symptom-then-conclusion)\"의 형태이다. 각결론은 최종 결론에 도달할 때까지 다음의 규칙 하에서 차례로 증상(symptom)으로 기능할 수 있다. 시스템은 탐지 하드웨어 및 소프트웨어에 의해 제공되는 정보를 가질 수 있거나, 또는 인간 조작자에게 특별한 증상에 대해질문하고 전체 논리적 과정에 걸쳐 인간 조작자를 안내하며 인간 조작자와 상호 작용할 수 있다.플랜트의 수학적인 모델을 이용하는 방법들을 살펴보면, 이와 같은 모델에 기초한 상태 감시법(condition- <10>monitoring method)과 결함 진단법(fault-diagnostic method)은 일반적으로 해석적인 잉여(analyticalredundancy)의 개념에 의존한다. 물리적인 잉여 접근법과는 대조적으로, 대응하는 센서들이 서로 비교되고, 감지된 측정값들이 각각의 변수들의 해석적으로 계산된 값들에 비교된다. 이와 같은 계산은 현재 및/또는 기타 변수들의 이전의 측정값들과, 현재와 이전의 변수들의 측정된 변수들에 대한 명목상의 관계(nominalrelationship)를 설명하는 수학적인 플랜트 모델을 이용한다. 이와 같은 사상은 다른 변수들의 집합으로부터 얻어지는 해석적으로 생성된 두 개의 물리량들의 비교에까지 연장될 수 있다. 어떤 경우이든지 잔류값(residuals)으로 불리는 결론적인 차이점들은 시스템 내의 결함을 나타낸다. 다른 범주의 모델에 기초한 방법은 매개 변수 추정(parameter estimation)에 직접적으로 의존한다.탐지 및 분리의 결정에 도달하기 위해서는 잔류값들의 생성에 잉여 평가(residual evaluation)가 뒤따라야 <11>한다. 노이즈와 모델 오차의 존재로 인해, 결함이 존재하지 않는 경우에도 잔류값들은 제로(zero)가 될 수없다. 그러므로 탐지 결정(detection decision)은 경험적으로 획득되거나 또는 이론적 고찰에 의해 획득되는 임계값(thresholds)에 대한 잔류값들의 시험을 필요로 한다. 결함 분리(fault isolation)를 용이하게 하기- 7 -공개특허 10-2008-0055789위해서, 일반적으로 잔류값 발생기들(residual generators)은 구조적 또는 방향적 특성을 나타내는 분리가 향상된 잔류값으로 설계된다(isolation enhanced residuals). 그 이후에 분리 결정(isolation decisions)은 통계적인 요소들과 함께 또는 통계적인 요소들 없이 구조적(대수적; boolean)이나, 방향적(수열적; geometric)인 틀에서 획득된다.모델에 기초한 상태 감시 및 결함 진단에 있어서 잉여 생성법과 다소 중복되는 접근법들이 존재하는데, 이들은, <12>칼만 필터(Kalman filter), 진단 관측기법(diagnostic observers); 매개 변수 추정(parameter estimation) 및패리티 관계(parity relations)이다. 칼만 필터(Kalman filter)의 예측 오차(prediction error)는 결함 탐지 잔류값(fault detection residual)으로 <13>사용될 수 있다. 아무런 결함(fault)(및 외란; disturbance)이 존재하지 않더라도 예측 오차의 평균값은 0이고,결함이 존재할 때에 0이 되지 않는다. 혁신적인 수열은 흰색이므로(innovation sequence is white), 통계적인시험은 만들기가 상대적으로 용이하다. 그러나 칼만 필터에 있어서 결함 분리는 다소 미숙하므로, 하나의 필터가 각각의 의심되는 결함 및 각각의 가능한 도착 시간에 대응되는\"대응되는 필터들(matched filters)\"의 배열을운용할 필요가 있으며, 어떤 필터 출력이 실제 관측과 일치될 수 있는지를 검사해야 한다.진단 관측기(diagnostic observer)도 또한 결함 탐지 잔류값으로 적합하다. 잔류값을 제한된 수의 외란으로부터 <14>단절시키기 위해 \"미지의 입력(unknown input)\"설계 기술이 사용될 수 있다. 잉여 수열은 착색되며(residualsequence is colored), 이는 통계적인 검사를 다소 복잡하게 한다. 분리를 위한 잔류값을 향상시키기 위해 관측기의 설계에서의 자유가 이용될 수 있다. 관측기의 극값들을 배치함으로써 결함 응답(fault response)의 동역학이 특정 한계값들 내로 제어될 수 있다.매개 변수 추정(parameter estimation)은 매개 변수(배수형; multiplicative)의 결함의 탐지 및 분리에 대한 <15>자연적인 접근법이다. 기준 모델(reference model)은 먼저, 결함이 없는 환경 내에서 플랜트를 식별함으로써 획득된다. 그리고 매개 변수들은 반복적으로 온라인으로 재식별된다. 기준 모델로부터의 편차는 탐지 및 분리를위한 기준으로서 기능한다. 매개 변수 추정은 해석적인 잉여 방법보다 더 신뢰할 수 있지만, 온라인 계산과 입력 자극 요건(input excitation requirements)에 있어서는 더 까다롭다.패리티(일관성; consistency) 관계(parity relations)는 선형 동역학 변환에 의해 재설정된 직접 입출력 모델 <16>방정식이다. 변환된 잔류값들은 탐지 및 분리를 위해 기능한다. 관측기에서의 경우와 마찬가지로 잉여 수열은채색된다. 변환에 의해 제공되는 설계 자유는 외란 단절(disturbance decoupling) 및 결함 분리 향상을 위해 사용될 수 있다. 또한 응답의 동역학은 인과성(causality) 및 안정도(stability)의 요구 조건에 의해 고정되는 한계값들 내에 할당될 수 있다.반도체 제조 시스템에 직접 적용할 수 있는 상태 감시(health-monitoring) 및 결함 진단(fault-diagnostic) 방 <17>법은 일반적으로 적은 수의 결함들, 예를 들어 연결부 백래쉬(joint backlash)와 연관된 결함들에만 제한된다.이는, 결함의 변동(variability of faults), 불안정하고 균일하지 않은 작동 조건들(unsteady and non-uniformoperating conditions) 및 시간에 걸쳐 수집된 요소 특성들의 제한된 가용성들(limited availability ofcomponent characteristic)과 같은 부가적인 제한 사항들이 이와 같은 영역 내에 존재하기 때문일 수 있다. 상술한 해석적인 방법들은 선형 방정식에 의해 정의되는 시스템들에 주로 적용되어 왔으며, 동역학이 비선형적인시스템들에는 직접 적용되지 않는다. 그러나 매개 변수 식별(parameter identification)과, 칼만 필터(Kalmanfilter) 접근법과, 로봇 결함 진단을 위한 복수 개의 선형 신경망(neural network) 모델의 사용과, 가상의 전자-유압 액추에이터에서의 결함을 탐지하기 위한 진단 관측기의 사용을 이용한, 로봇 시스템 분야의 몇 가지 예가존재한다. 상태 감시 및 결함 진단을 위한 개선된 시스템을 제공하는 것이 바람직하다. <18>실 시 예여기에 개시되는 실시예들은, 상태 감시 및 결함 진단을 위한 시스템에 관한 것으로, 하나 이상의 요소들에 관 <40>한 선택된 변수들(variables)의 시간 이력들을 획득하는 데이터 수집 기능과, 시간 이력의 특정 특성들을 계산하는 전처리 기능(pre-processing function)과, 하나 이상의 요소들의 상태에 관한 하나 이상의 가정을 생성하기 위해 특성들을 평가하는 분석 기능과, 하나 이상의 가정으로부터 하나 이상의 요소들의 상태를 결정하기 위한 추론 기능을 포함한다. 다른 실시예는 요소 상태의 감시 및 결함 진단 방법으로서, 하나 이상의 요소들에 관한 선택된 변수들의 시간을 <41>- 8 -공개특허 10-2008-0055789획득하는 단계와, 시간 이력들의 특정한 특성들을 계산하는 단계와, 하나 이상의 요소들의 상태의 하나 이상의가정을 생성하기 위해 특성들을 평가하는 단계와, 하나 이상의 가정으로부터 하나 이상의 요소들의 상태를 결정하는 단계를 포함한다.또 다른 실시예는 요소의 상태 감시와 결함 진단을 위해 컴퓨터가 사용 가능한 프로그램 코드를 갖는 컴퓨터가 <42>사용 가능한 매체를 포함하는 컴퓨터 프로그램 제품으로서, 컴퓨터에서 실행되어, 컴퓨터가, 하나 이상의 요소들의 선택된 변수들의 시간 이력을 획득하는 단계와, 시간 이력들의 특정한 특성들을 계산하는 단계와, 하나 이상의 요소들의 조건의 하나 이상의 가정을 생성하기 위해 특성들을 평가하는 단계와, 하나 이상의 가정들로부터하나 이상의 요소들의 상태를 결정하는 단계를 실행하게 한다.또 다른 실시예는 요소의 상태 감시 및 결함 진단을 위한 시스템으로서, 하나 이상의 요소들에 관한 선택된 변 <43>수들의 시간 이력을 획득하는 데이터 수집 기능과, 시간 이력들의 특정한 특성들을 계산하는 전처리 기능과, 하나 이상의 요소들의 상태의 하나 이상의 가정을 생성하기 위해 특성들을 평가하는 분석 기능과, 하나 이상의 가정들로부터 하나 이상의 요소들의 상태를 결정하기 위한 추론 기능과, 데이터 수집 기능에 의해 획득된 선택된변수들을 결정하고 특정한 특성들을 계산하기 위한 전처리 기능 내에서 데이터 처리를 발생시키고 가정을 산출하기 위해 분석 기능에 의해 특성들의 평가를 시작하며 추론 기능에 의해 요소 상태의 편이(deviation)를 일으키는 관리 기능을 포함한다. 여기에서 개시되는 실시예들의 상술한 특징들 및 다른 특징들은, 첨부되는 도면들과 관련하여 이하의 상세한 설 <44>명에서 설명된다.도 1a 와 도 1b는 여기에서 개시된 기계의 상태 감시와 결함 진단에 적합한 시스템(100)의 블록 다이어그램을 <45>도시한다. 개시된 실시예들이 도면을 참조하여 설명되지만, 많은 대체 형태로 구현될 수 있음을 이해하여야 할것이다. 나아가, 어떤 적절한 유형, 형식, 또는 요소들의 물리적 형상들이나 소재들도 사용될 수 있다.개시된 실시예들은, 상태 감시(health monitoring)로 칭하는 시스템 요소들의 상태를 평가(assessing)하고, 결 <46>함 진단(fault diagnosis) 기능을 수행하기 위한, 시스템과 방법에 관한 것이다. 상태 감시와 결함 진단 기능의결과로서, 시스템은 또한 예보적인 정비나 필요한 서비스를 계획할 수 있고, 수리나 서비스가 수행될 때까지 작동을 유지하도록 하기 위해서 시스템 단계들을 조정할 수 있다.상태 평가는 시스템의 상태를 결정하기 위해 특성들(characteristics)과, 성능(performance)과, 출력(output <47>s)과, 시스템 요소의 작동을 나타내는 기타 지시 인자(indicators)를 측정하는 것을 말한다. 결함 진단(faultdiagnosis)은 작동의 지시 인자들이나, 기타 요소 특성들이나, 또는 시스템 작동으로부터 요소의 결함을 식별하는 능력을 말한다. 자동화된 결함 진단은 조작자의 결함 분류(fault classification)와 고장 수리 작업(troubleshooting tasks)을 보완하거나 경감시킬 수 있는데, 여기에는 진단 에러 코드들과 쌍방향 진단 화면들(interactive diagnostic screens)이 포함된다.서비스(services)는 작동하고 있지 않은 요소들에 대해 수행되어 작동 상태로 복귀시키기 위한 작업들을 지칭하 <48>는 반면, 예보적인 정비(predictive maintenance)는 적절한 작동을 유지하기 위해 수행되는 작업들을 지칭한다.도 1a 및 도 1b에 도시된 것과 같이, 현재의 시스템은, 데이터 수집 기능(105; data collection function)과, <49>전처리 기능(110; pre-processing function)과, 분석 기능(115; analysis function)과, 추론 기능(120;reasoning function)의 4 가지의 기능들을 포함할 수 있다. 나아가, 기능들(105, 110, 115, 120)의 작동은 상태 감시 및 결함 진단 관리기(130; health-monitoring and fault-diagnostic manager) 에 의해 조화될 수있다. 4 개의 기능들(105, 110, 115, 120)과 관리기(130)의 각각은 소프트웨어, 하드웨어, 또는 이들의 조합 내에서 구현될 수 있다.시스템(100)의 소프트웨어 구현부들은 컴퓨터 프로그램, 예를 들어 기계 가독성 프로그램 소스 코드(machine <50>readable program source code)로 부호화되어 하나 이상의 프로그램 저장 장치에 존재할 수 있다. 컴퓨터 프로그램은 하나 이상의 컴퓨터들이 개시된 실시예들에 설명된 동작들을 수행하게 하도록 응용될 수 있다. 프로그램저장 장치는 테이프, 디스크, 또는 컴퓨터 하드 드라이브와 같은 자기 매체나, 광학 매체나, 반도체 매체나, 또는 컴퓨터 프로그램을 저장하기에 적합한 기타 장치를 포함할 수 있다.감시되는 기계가 동작하는 동안 데이터 수집 기능이 선택된 변수들(variables)의 시간 이력을 획득하고, 전처리 <51>기능이 획득된 시간 이력의 특정한 특성들을 계산하고, 분석 기능이 변수들과 관련되는 개별적인 요소들의 특성들을 평가하여 각 요소들의 상태에 관한 하나 이상의 가정들을 생성하고, 추론 기능이 기계의 개별적인 요소들의 상태와 기계가 양호한 작동 상태에 있다는 것의 확신의 정도를 포함하는 기계의 전체적인 평가(assessment)- 9 -공개특허 10-2008-0055789를 도출하는 것이 개시된 실시예들의 특징이다. 개시된 실시예들의 목적을 위하여, 기계는 광학 장치, 기계 장치, 전기 장치, 또는 전자기계적 장치이거나, 컴퓨터 소프트웨어 프로그램이나, 이들 항목들의 조합일 수 있으며, 작동이 감시될 수 있는 어떠한 개체(entity)를 포함할 수 있다.시스템이 계층적으로(hierarchically) 분산된 방식으로 구현될 수 있다는 점이 개시된 실시예들의 다른 특징이 <52>다. 예를 들어, 상태 감시와 결함 진단의 목적으로 획득된 데이터들이 데이터를 처리하기에 충분한 지능이 존재하는 수준에서 사용되도록, 각각의 기능의 복수 객체들(instances)이 기계 내의 단계적으로 더 높은 수준의 제어기 내에 존재하거나 연결될 수 있다. 다른 예로서, 기계는 복수 개의 로봇 머니퓰레이터(manipulators)를 구비하여 대기 영역(atmospheric sectio <53>n)을 감시하는 주제어기(master controller)를 구비하는 반도체 생산 시스템일 수 있다. 각각의 머니퓰레이터는복수 개의 모터들을 구비할 수 있다. 데이터 수집 기능의 객체는 각각의 모터 제어기 내에 존재할 수 있고, 전처리 기능의 객체는 모터 제어기들의 그룹을 제어하는 각각의 로봇 제어기 내에 존재할 수 있다. 대기 영역을위한 제어기는 분석 기능의 객체를 보유할 수 있으며, 주제어기는 추론 기능의 객체를 보유할 수 있다. 이와 같은 계층적인 접근법은, 각각의 개별적인 장치 제어기로부터 시스템 아키텍쳐(system architecture)를 통해 올라가 주제어기를 향하는 각각의 데이터 포인트들(data points)의 실시간 스트리밍(real-time streaming)을 위한필요를 제거함으로써 네트워크 병목을 감소시킨다. 또한 이러한 접근법은, 감시해야 하는 다른 형태의 변수들을갖는 여러 가지 장치들에 대해 상위 제어기들이 상이한 처리 알고리즘들을 필요로 하는 데이터 수집 단계들을구성해야 할 필요성을 제거하기 때문에 바람직하다.계층적 접근법 또는 분산적 접근법은 e-진단법(e-diagnostics)이라고 불리는 현존하는 중심적 경향과는 다르다 <54>는 것을 주목하여야 한다. e-진단법에서는, 상태 감시 및 결함 진달을 위하여 필요한 모든 필요한 데이터가 상술한 주제어기와 같은 상위 레벨의 제어기로 전송되어, 이러한 상위 레벨에서 분석된다. 이러한 접근법은 하위레벨의 제어기로부터 상위 레벨의 제어기까지 계속하여 전달되는 대단히 많은 양의 데이터를 필요로 하며, 때로는 실시간으로 전달되어야 한다. 게다가, 상위 레벨의 제어기는 수집된 데이터를 처리할 수 있기 위해서, 로봇화된 시스템의 모든 요소들의 특성들, 모터 매개 변수들이나 로봇들의 운동학(kinematic) 및 동역학(dynamic)모델과 같은 특성들을 저장해야 할 필요가 있다.도 1a 및 도 1b로 돌아가면, 각각의 기능은 일반적으로 하위 레벨로부터 데이터를 받아, 그 데이터를 처리하여 <55>처리된 데이터를 다음 기능이나 궁극적으로는 사용자나 더 높은 수준의 시스템으로 전달한다.도 2는 4 가지 기능들(105, 110, 115, 120)의 각각과 관리기(130)가 실현된 예시적인 기능 제어기(200)를 도시 <56>한다. 기능들의 각각은 시스템(100) 내에 존재하는 하드웨어 또는 소프트웨어 내에서 작동할 수 있다. 각각의기능은, 예를 들어, 요소 제어기나, 많은 요소들의 작동을 지시하는 제어기나, 서브 시스템(sub-system)을 제어하는 제어기나, 시스템 제어기 내에 존재할 수 있다. 각각의 기능은 전용 하드웨어 또는 소프트웨어 내에서 구현될 수 있다.일반적으로 기능 제어기(200)는 프로세서(205)와, 롬(205; read only memory; ROM)과, 램(215; random access <57>memory)과, 프로그램 저장소(220)와, 사용자 인터페이스(225)와, 네트워크 인터페이스(230)를 포함할 수 있다.프로세서(205)는 온보드 캐쉬(235; on board cache)를 포함할 수 있으며, 예를 들어, 온 보드 캐쉬(235)와, 롬 <58>(210)과, 램(215)과, 프로그램 저장소(220)와 같은 컴퓨터가 이용 가능한 매체로부터 정보와 프로그램을 읽기위해 작동될 수 있다.전원이 들어오면, 프로세서(205)는 초기화 이후에 롬(210)에서 발견되는 운영 프로그램을 개시할 수 있고, 프로 <59>그램 저장소(220)로부터의 명령들을 램(215)으로 넣어, 이러한 프로그램들의 제어 하에서 작동할 수 있다. 자주사용되는 명령들은 온 보드 캐쉬(235) 내에 임시적으로 저장될 수 있다. 롬(210)과 램(215)은 반도체 기술을 이용할 수 있고, 또는 기타 적절한 소재들과 기술들을 이용할 수 있다. 프로그램 저장소(220)는 디스켓이나, 컴퓨터 하드 드라이브나, 컴팩트 디스크(CD; compact disk)나, DVD(digital versatile disk)나, 광 디스크나, 칩이나, 반도체나, 또는 컴퓨터가 읽을 수 있는 코드 형태의 프로그램들을 저장할 수 있는 기타 장치들을 포함할 수있다.온 보드 캐쉬(235)와, 롬(210)과, 램(215)과, 프로그램 저장소(220)는 개별적으로, 또는 조합되어 운영 시스템 <60>프로그램들을 포함할 수 있다. 운영 시스템 프로그램들은 기능 제어기(200)에 의해 제공되는 데이터의 질을 향상시켜, 기능 제어기(200)가 보장된 응답 시간을 제공하도록 부가적인 실시간 운영 시스템으로 보완될 수도 있다.- 10 -공개특허 10-2008-0055789특별히, 온 보드 캐쉬(235), 롬(210), 램(215), 및 프로그램 저장소(220)는 개별적으로 또는 서로 조합되어, 프 <61>로세서(205)가 데이터 수집 기능, 전처리 기능, 분석 기능, 추론 기능, 및 이하에서 설명될 상태 감시 및 결함진단 기능 관리기의 동작을 수행하도록 하는 프로그램들을 포함할 수 있다. 나아가, 온 보드 캐쉬(235)와, 롬(210)과, 램(215)과, 프로그램 저장소(220)에는, 예를 들어 프로세서(205)에 의해 네트워크 인터페이스(230)를통하여서, 새로운 프로그램이나 업그레이드된 프로그램이 탑재될 수 있다. 네트워크 인터페이스(230)는 일반적으로 기능 제어기(200)와 다른 기능 제어기들이나, 시스템 제어기들이나, 또 <62>는 기타 시스템들과의 사이의 인터페이스를 제공하도록 이루어질 수 있다. 네트워크 인터페이스(230)는 하나 이상의 부가 기능 제어기로부터 데이터를 받아 동일한 기능 제어기들 또는 기타 기능 제어기들로 데이터를 전달하도록 작동할 수 있다. 또한 네트워크 인터페이스(230)는 원격 감시 및 진단 서비스를 제공할 수 있는 글로벌 진단 시스템(global diagnostic system)에 인터페이스를 제공할 수 있다.통신 네트워크(120)는 공중전화 교환망(public switched telephone network; PSTN)과, 인터넷(internet)과, 무 <63>선 네트워크(wireless network)와, 유선 네트워크(wired network)와, 근거리 통신망(local area network; LAN)과, 광역 통신망(wide area network; WAN)과, 가상 사설 통신망(virtual private network; VPN) 등을 포함할수 있고, x.25, TCP/IP, ATM 등의 다른 유형의 네트워크들을 더 포함할 수 있다. 하나의 실시예로서, 통신 네트워크(120)는 파이어와이어(firewire)라고도 불리는 IEEE 1349 네트워크일 수 있다. 기능 제어기(200)는 디스플레이(240)와 키보드(255)나 마우스(245)와 같은 입력 장치를 갖는 사용자 인터페이스 <64>(225)를 포함할 수 있다. 사용자 인터페이스는 프로세서(205)의 제어 하에 사용자 인터페이스 제어기(250)에 의해 작동될 수 있으며, 상태 감시 및 결함 진단의 결과를 시각화한 그래픽 유저 인터페이스를 사용자에게 제공할수도 있다. 또한 사용자 인터페이스는 고장 수리 작업들이나 복구 과정을 통해 수리 직원들을 안내하는 데 사용될 수도 있다. 나아가, 사용자 인터페이스 제어기는 또한 다른 기능 제어기들이나, 외부 네트워크나, 기타 제어시스템이나, 또는 호스트 컴퓨터와의 통신을 위한 연결이나 인터페이스(255)를 제공할 수 있다.도 1a 및 도 1b로 돌아가면, 데이터 수집 기능(105)은 감시되는 장치들의 작동과 관련된 선택된 변수들 <65>(variables)의 시간 이력들(time history)을 획득하도록 작동한다. 시간 이력은 시간에 따른 특정 변수나 변수들의 집합에 대한 값들의 집합을 말한다. 상술한 기능 제어기(200)의 요소들에 부가하여, 데이터 집합 기능(105)은 선택된 변수들의 값들을 수집하기 위한, 하나 이상의 버퍼들(125)을 포함한다. 또한 데이터 수집 기능(105)은, 기록될 장치 신호들과 변수들을 특정하고, 데이터 기록의 샘플링 주기(sampling period)를 설정하고,데이터 기록을 위한 트리거 모드(trigger mode)(예를 들어, 이벤트 발생시(on event), 동작을 개시할 때, 동작을 종료할 때, 임계값 이상일 때, 임계값 이하일 때, 지연이 있을 때)를 설정하고, 기록될 샘플들의 개수를 설정하며, 데이터 기록을 정지할 메커니즘(mechanism)(예를 들어, 특정되었을 때, 이벤트 발생시(on event), 동작을 개시할 때, 동작을 종료할 때, 임계값 이상일 때, 임계값 이하일 때, 지연이 있을 때)을 설정하기 위한 프로그램 및 회로(135)를 구비한다.전처리 기능(pre-processing function; 115)은 획득된 시간 이력들의 특정된 특성들을 결정한다. 예를 들어, 특 <66>정된 특성은 평균 신호값이나 최대 동력 소모를 포함할 수 있다. 전처리 기능에 의해 수행되는 예시적인 계산들은, 더하기와, 빼기와, 곱하기와, 나누기와, 최대값, 최소값, 및 평균값들의 계산과 같은 단순한 수학적 연산들과, 푸리에 변환(Fourier transformation)과, 웨이블릿 변환(wavelet transformation)과, 여러 가지 수학적인모델들의 평가를 포함할 수 있다. 상술한 기능 제어기(200)의 요소들에 부가하여, 전처리 기능(115)은 데이터수집 기능(105)으로부터 시간 이력을 입력 받고, 필요한 단순 계산들을 수행하기 위한 프로그램 및 회로(140)를포함한다. 분석 기능(120)은 많은 개별적 요소들의 특성들을 분석하고, 각각의 요소들의 상태에 관한 하나 이상의 가정들 <67>을 생성하기 위한 알고리즘을 포함한다. 예를 들어, 분석 기능(120)은 전압, 전류, 토크, 신호 변동 등과 같이검사되는 특성들의 유형에 특별히 맞추어진 다양한 분석 알고리즘들(145)을 포함할 수 있다. 다른 실시예로서,분석 기능(120)은, 로봇화된 생산 기계 내에서 구현되는 경우, 인코더 신호 분석, 모터 PWM 및 전류 분석, 전원전압 분석, 추종 에러 분석(tracking error analysis), 및 로봇 토크 분석을 위한 알고리즘들을 포함할 수있다. 알고리즘들은 단순한 임계값 규칙들(155)과, 퍼지 로직(fuzzy logic; 160)과, 신경망(neural networks;165)과, 회귀 분석(regression analysis; 170)과, 패턴 인식 기술(pattern recognition techniques; 175)을 포함하는 다양한 분석 방법들의 라이브러리(library; 150)에 접근할 수 있고 이용할 수 있다.추론 기능(125)은 분석 기능(120)으로부터 얻은 가정들에 기초하여, 개별적인 요소들의 상태와 하나 이상의 감 <68>시되는 장치들이 양호한 상태에 있는 것에 관한 확신의 정도(degree of confidence)를 포함하는 시스템(100)의- 11 -공개특허 10-2008-0055789최종 응답을 도출한다. 추론 기능(125)은, 예를 들어, 시스템 요소들과 서브 시스템들의 주어진 매개 변수들의집합과 관련된 규칙 기반 정보(rule-based information)를 갖는 지식 베이스(knowledge base; 197)를 구비할수 있는 전문가 진단 시스템(180)을 포함할 수 있다. 전문가 진단 시스템(108)은, 예를 들어 불리언 논리(boolean logic; 185)나, 퍼지 로직(fuzzy logic; 190)이나 또는 신경망(neural networks; 195)에 기초한 다양한 방법들을 이용할 수 있다.본 시스템(100)의 기능들은 상태 감시 및 결함 진단(health-monitoring and fault-diagnostic) 관리기 <69>(manager; 130)에 의해 조합된다. 관리기(130)는 다수의 주어진 감시되는 장치들을 위해 작동하는 데이터 수집기능과, 전처리 기능과, 분석 기능과, 및 추론 기능의 각각을 구성하고 시동할 수 있다.예를 들어, 관리기(130)는 전처리 기능이 하나 이상의 시간 이력들을 생성시키도록 하기 위해 개시 정보 <70>(triggering information) 및 기록할 다수의 샘플들과 함께 기록할 다수의 변수들로 데이터 수집 기능(105)을시동할 수 있다. 관리기(130)는 데이터 수집 기능(105)의 작동을 많은 수집 모드들의 어느 하나로 조정할 수 있다. 예를 들어, 감시되는 장치가 정상 작동하는 동안 데이터 수집이 계속 이루어질 수 있고, 또는 장치가 현재의 신호들을 정상적인 기준 특성(normal baseline profile)과 비교할 때 편리한 정상 작동의 일부인 미리 정해진 특정한 작동들을 수행할 때에만 데이터 수집이 이루어질 수도 있다. 선택적으로, 감시되는 장치가 상태 감시및 결함 진단의 목적으로 특별하게 미리 정해진 일련의 모형 작동들(template operations)을 수행할 때에 규칙적인 간격으로 데이터 수집이 구동될 수 있다. 하나의 실시예로서, 관리기는 데이터 수집 작동 동안에 기록되는데이터의 양을 감시되는 장치의 악화되는 상태(deteriorating health)를 탐지하거나 결함들을 진단하기 위한 최소량으로 제한할 수 있다. 어떤 실시예들에서는, 잠재적인 문제가 탐지되면 관리기(130)는 정확한 결함 진단을 위해 데이터 수집 기능 <71>(105)에 의한 부가적 데이터 수집을 개시할 수 있다. 또한 관리기(130)는 상태 감시 및 결함 진단의 목적으로특별히 미리 정해진 모형 시퀀스(template sequence)를 개시할 수 있다.관리기(130)는 시간 이력들이 전처리 기능(110)으로 보내지면 이루어질 전처리의 유형을 지정함으로써 전처리 <72>기능(110)을 개시하도록 작동할 수 있다. 나아가, 관리기(130)는 전처리 기능(110)으로부터 받는 다양한 데이터특성들을 위해 데이터에 대해 수행될 분석의 유형들을 가지고 분석 기능(115)을 미리 설정할 수 있다. 또한 관리기(130)는 라이브러리(150)를 미리 탑재하고, 다른 분석들에서 사용되는 방법들을 지정할 수 있다. 나아가,관리기(130)는 분석들이 종료될 때 추론 기능(125) 내에서의 의사 결정(decision making)을 시작할 수 있다.상술한 바와 같이, 시스템(100)은 적어도 두 개의 구별되는 기능들(상태 감시 및 결함 진단)을 제공한다. 상태 <73>감시(health monitoring)의 목적은 로봇화된 기계의 개별적인 요소들의 상태 평가(condition assessment)를 수행하고, 요소들 가운데 어떤 요소의 문제가 되는 상태가 식별되었을 때 서비스 요청을 보고하는 데 있다. 이와같은 정보는 예방적인 정비와, 보이지 않는 고장들로 인한 원자재 손실(material damage) 및 예정되지 않은 정지(downtime)를 저감시키기 위해 사용될 수 있다. 부가적으로, 본 시스템은 가능하다면 기계가 기능을 하도록유지시키고, 주요 성능 특성들(key performance characteristics)에 관해 진행되는 고장의 효과를 감소시키고,및/또는 기계가 수리될 때까지 (예를 들어, 다음 일정의 수리 작업이 이루어질 때까지) 기계가 작동하도록 하기위해 치명적 고장까지 이르는 시간을 증가시키기 위해, 로봇화된 기계의 동작을 조정할 수 있다. 한편, 결함 진단의 목적은 조작자의 결함 분류(fault classification)와 고장 수리 작업(troubleshooting <74>tasks)을 보완하거나 경감시킬 수 있는데, 여기에는 진단 에러 코드들과 쌍방향 진단 화면들(interactivediagnostic screens)이 포함되어, 서비스의 응답성과, 질과 비용을 향상시킨다. 본 상태 감시 및 결함 진단 시스템이 구현되는 예시적인 실시예로서, 반도체 장치의 생산을 위한 자동화된 소재 <75>취급 플랫폼이 사용될 수 있다. 반도체 장치들의 생산을 위한 예시적인 소재 취급 플랫폼(material-handling platform)이 도 3에 개략적으로 도 <76>시되며, 주요 구성 요소들을 설명하는 요지가 표 1에 나열된다.[도 3의 자동화된 소재 취급 플랫폼을 위한 예시적 요지] <77>- 12 -공개특허 10-2008-0055789표 1<78>플랫폼은 대기 영역(atmospheric section; 301)과, 진공 영역(vacuum section; 302)과, 하나 또는 복수 개의 <79>공정 모듈들(process modules; 303)을 구비한다.대기 영역(301)은 칸막이(304)와, 하나 또는 복수 개의 로드포트들(loadports; 305)과, 하나 또는 복수 개의 로 <80>봇 머니퓰레이터들(robotic manipulators; 306)과, 하나 또는 복수 개의 기판 얼라이너들(aligners; 307)과,팬 필터 유닛(fan-filter unit; 308)을 구비한다. 또한 대기 영역은 하나 이상의 이온화 유닛들(미도시)을 구비할 수 있다. 진공 영역은 진공 챔버(309)와, 하나 또는 복수 개의 로드 락들(load-locks; 310)과, 하나 또는 복수 개의 로봇 머니퓰레이터들(311)과, 하나 또는 복수 개의 진공 펌프들(312)과, 복수 개의 슬릿 밸브들(slitvalves; 313)을 구비할 수 있다. 슬릿 밸브들은 로드 락들(310)과 진공 챔버(309)의 사이와, 진공 챔버(309)와공정 모듈(303)의 사이에서, 로드 락들(310)과 함께 대기 영역(301)의 경계면에 전형적으로 배치된다. 플랫폼의 작동은 기계 제어기(34)에 의해 제어되며, 기계 제어기는 대기 영역 제어기(315)와, 진공 영역 제어기 <81>(316)와, 하나 또는 복수 개의 공정 제어기들(317)을 감독한다. 대기 영역 제어기(315)는 하나 또는 복수 개의로드포트 제어기들(318)과, 하나 또는 복수 개의 대기 로봇 제어기들(319)과, 하나 또는 복수 개의 얼라이너 제어기들(320)과, 팬 필터 유닛 제어기(321)를 담당한다. 로드포트 제어기들(318)과 대기 로봇 제어기들(319)과얼라이너 제어기들(320)의 각각은 교대로 하나 또는 복수 개의 모터 제어기들(322)을 담당한다. 진공 영역 제어기(316)는 하나 또는 복수 개의 진공 로봇 제어기들(323)을 담당하고, 진공 펌프(312)를 제어하고, 슬릿 밸브들(313)을 작동시킨다. 공정 제어기(317)의 기능은 공정 모듈들(303)에서 수행되는 작동들에 따른다. 어떤 경우들에 있어서, 하나의 제어기에 두 개 또는 그 이상의 제어층들(layers of control)을 병합시키는 것이 <82>실용적일 수 있다. 예를 들어, 대기 로봇 제어기(119)와 그에 대응하는 모터 제어기들(122)은 하나의 중앙 로봇제어기에 병합될 수 있고, 또는 대기 영역 제어기(115)는 두 개의 독립적인 제어기 유닛들의 필요성을 제거하기위하여 대기 로봇 제어기와 함께 병합될 수 있다.- 13 -공개특허 10-2008-00557895축 직접 구동(five-axis direct-drive) 로봇 머니퓰레이터가 도 3에 도시된 플랫폼에 채택될 수 있다. 이와 같 <83>은 로봇 머니퓰레이터의 단순화된 개략도가 도 4에 제공된다. 주요 구성 요소들을 설명하는 요지가 표 2에 나열된다.[도 4의 로봇 머니퓰레이터를 위한 예시적인 요지] <84>표 2<85>- 14 -공개특허 10-2008-0055789<86>도 4를 참조하면, 로봇 머니퓰레이터는 원형의 마운팅 플랜지(402)에 매달린 중공 원통형 프레임(401)의 둘레에 <87>설치된다. 프레임(401)은 수직 레일(403)과 선형 베어링(404)을 결합하여 볼 스크류 메커니즘(407)을 통해 브러시리스 DC 모터(brushless DC motor)에 의해 구동되는 캐리지(405; carriage)에 대한 안내를 제공한다. 캐리지(405)는 광학 인코더들(410, 411)이 장착된 한 쌍의 동축 브러시리스 DC 모터들(408, 409)을 둘러싼다. 상부 모터(408)는 로봇 아암(arm)의 제1 링크(414)에 연결된 중공의 외부축(412)을 구동한다. 하부 모터(409)는 벨트구동(415)을 통해 제2 링크(416)에 연결되는 동축의 내부축(413)에 연결된다. 제1 링크(414)는 2단의 벨트 배치(418A, 419A)를 통해 상부 엔드 이펙터(420A)를 구동하는 브러시리스 DC 모터(417A)를 둘러싼다. 다른 DC 브러시리스 모터(417B)와 2단의 벨트 구동(418B, 419B)은 하부 엔드 이펙터(420B)를 구동하도록 채택된다. 각 스테이지들(stages; 418A, 418B, 419A, 419B)은 입력 풀리와 출력 풀리의 사이에서 1:2의 비율로 설계된다. 기판들(421A, 421B)은, 진공에 의해 작동되는 가장자리 접촉식 그리퍼들(edge-contact grippers)이나 표면 접촉식 흡착 그리퍼들(surface-contact suction grippers)의 수단에 의해 엔드 이펙터들(420A, 420B)에 각각 부착되어지지된다. 예시적인 그리퍼 설계들에 관해서는 도 5 및 도 6을 참조하시오.제1 링크(414)와, 제2 링크(416)와, 상부 엔드 이펙터(420A)와, 하부 엔드 이펙터(420b)는 또한, 문장들에서 상 <88>박(upper arm), 전박(forearm), 엔드 이펙터 A와, 엔드 이펙터 B로도 불린다. 지점들 A, B, C 는, 각각 쇼울더조인트(shoulder joint), 엘보우 조인트(elbow joint), 손목 조인트(wrist joint)로 불리는 감기는 커플링(revolute coupling)을 지시한다. 지점 D는 대응하는 엔드 이펙터 상에서 기판의 중심의 바람직한 위치를 지시하는 기준점을 나타낸다.예시적인 로봇 머니퓰레이터의 제어 시스템은 분산형일 수 있다. 제어 시스템은 전원(429), 주제어기(422), 및 <89>모터 제어기들(423A, 423B, 423C)을 포함한다. 주제어기(422)는 감독 업무와 경로 계획(trajectory planning)을 담당한다. 모터 제어기들(423A, 423B, 423C)의 각각은 하나 또는 두 개의 모터들에 관한 위치 및 전류 피드백 루프(position and current feedback loops)를 실행한다. 도 4에 있어서, 제어기(423A)는 모터들(408, 40- 15 -공개특허 10-2008-00557899)을 제어하고, 제어기(423B)는 모터들(417A, 417B)을 제어하며, 제어기(423C)는 모터(406)를 제어한다. 나아가피드백 루프를 실행하기 위해서, 모터 제어기들은 또한 모터 전류, 모터 위치, 모터 속도와 같은 데이터를 수집하여, 데이터를 주제어기에 보낸다. 모터 제어기들(423A, 423B, 423C)은 고속 통신 네트워크(425)를 통해 주제어기에 연결된다. 조인트 A가 무한 회전 조인트이므로, 통신 네트워크는 슬립링(slip-ring; 426)을 통해서 연결된다. 엔드 이펙터들(420A, 420B)의 가장자리 접촉식 그리퍼들을 지원하기 위해 부가적인 전자 유닛들(424A,424B)이 각각 사용될 수 있다.도 5는 진공에 의해 작동되는 가장자리 접촉식 그리퍼 시스템의 개략도를 도시한다. 그리퍼 시스템은 진공 라인 <90>의 일단에 부착되는 벨로우즈(501; bellows)와, 타단에 부착되는 플런저(503; plunger)를 포함한다. 진공이 없으면 스프링이 장착된 플런저가 기판(505)을 정지단(stationary stop; 504)을 향해 밀어서 기판을 위치에 유지한다. 진공이 존재하면, 플런저가 후퇴하여 기판의 지지가 해제된다. 플래그(flag; 507)의 위치는 플런저의 위치를 결정하기 위해 사용되며, 플런저의 위치는 다음의 세 상태들, 해제됨(플런저(503)가 후퇴함)과, 적절히 고정됨(플런저(503)가 일부 연장됨)과, 고정 실패(플런저(503)가 완전히 연장됨)의 하나를 차례로 나타낸다. 그리퍼는 도 4의 431A 또는 431B와 같은 진공 밸브를 개방시키고 폐쇄시킴으로써 작동된다. 진공 압력은 도 4의432A 또는 432B와 같은 압력 센서에 의해 측정될 수 있다.도 6은 표면 접촉식 흡착 그리퍼의 단면도를 도시한다. 로봇 엔드 이펙터(603)는 진공 라인(604)에 연결되는 두 <91>개 또는 그 이상의 오리피스들(orifices; 605)을 구비한다. 진공이 존재하면 기판(601)은 엔드 이펙터(403)을향하여 당겨지고, 마찰에 의해 위치로 유지된다. 그리퍼 작용은 도 4의 431A 또는 431B와 같은 진공 밸브에 의해 개시된다. 엔드 이펙터(603) 위에 기판(601)이 존재하는지 또는 없는지는 도 4의 432A 또는 432B와 같은 압력 센서에 의해 결정될 수 있다. 기판(601)이 존재하면, 압력 센서(432A 또는 432B)는 진공을 탐지한다.상기 나타난 것과 같이, 그리퍼들의 두 가지 유형은 모두 진공 라인을 개방하거나 폐쇄하는 도 4의 431A 및 <92>431B와 같은 진공 밸브를 필요로 한다. 진공 밸브들은 주제어기 또는 모터 제어기들(422, 423A-C)에 의해 제어될 수 있다. 나아가, 또한 진공 시스템은 진공 시스템 내의 진공의 수준을 결정하는 데 사용되는 압력 센서들을구비할 수 있다.진공에 의해 작동되는 가장자리 접촉식 그리퍼 또는 표면 접촉식 흡착 그리퍼를 위한 진공의 사용은, 조인트들 <93>을 통과하여 배치되어 진공 펌프와 같은 외부 진공 공급원을 엔드 이펙터에 연결하는 진공 라인을 필요로 한다.조인트들 A 와 C는 연속적인 회전 조인트이고, 조인트들 A 및 C를 가로질러 진공을 전달하기 위해 립 실(lipseals; 433, 434A, 434B)이 사용된다.어떤 경우들에 있어서, 로봇 엔드 이펙터들(420A, 420B)의 각각에는 기판 감지 센서가 장착될 수 있다. 이와 같 <94>은 센서는 도 5의 진공에 의해 작동되는 가장자리 접촉식 그리퍼와 도 6의 표면 접촉식 흡착 그리퍼의 상술한기판 존재 감지 방법을 보완하거나, 기판이 엔드 이펙터 상에 수동적으로 존재할 때, 예를 들어 기판과 엔드 이펙터의 사이의 마찰력에 의해 존재할 때, 기판 존재를 감지하는 유일한 수단으로서 기능할 수 있다.또한 엔드 이펙터들(420A, 420B)의 각각에는 도 4의 428A 및 428B와 같은 기판 매퍼 센서(substrate mapper <95>sensor)가 장착될 수 있다. 각각의 매퍼 센서는 도 7에 도시된 것과 같이 발광기(701)와 수광기(702)를 구비한다. 로봇이 기판 캐리어(carrier)를 스캔할 때에, 광 검출기의 이진 출력이 상태를 바꾸므로 기판 캐리어의 각각의 슬롯들에 웨이퍼가 존재하는지 없는지를 결정하는 제어기에 의해 광 검출기의 이진 출력이 읽힌다. 또한제어기는 이진 출력이 상태를 바꿀 때에 로봇 축들의 위치들을 기록하고, 이와 같은 정보를 로드포트(loadport) 내에 경사지게 꽂힌 (cross-slotted) 웨이퍼들과 겹치게 꽂힌(doubly placed) 웨이퍼들을 검출하는 데사용한다.로봇의 수직 운동을 제어하는 모터(도 4의 모터(406))에는 솔레노이드에 의해 작동되는 브레이크(435)가 장착된 <96>다. 모터 토크가 없는 경우, 로봇의 자유 낙하를 방지하기 위해 브레이크가 결합한다. 또한 수직축에는 캐리지(405)가 수직 운동의 허용 가능한 범위를 벗어나는 것을 탐지하는 리미트 스위치들과 같은 초과 이동 센서들(over-travel)이 장착될 수 있다.로봇 머니퓰레이터는 모터들과 전자 장치들에 의해 발생되는 열을 제거하기 위한 냉각팬들과 같은 부가적인 요 <97>소들을 포함할 수 있다. 어떤 분야에서는, 로봇 머니퓰레이터는 수평 방향의 횡단기(horizontal traverser)에설치될 수도 있다.도 4의 410 및 411과 같은 광학 인코더들은 로봇의 적절한 작동을 위해 중요하며, 상태 감시 및 결함 진단을 위 <98>한 정보의 귀중한 공급원을 나타난다. 엔코더들의 기능성에 관한 더 상세한 설명을 한다. 회전식 광학 인코더는- 16 -공개특허 10-2008-0055789회전 운동을 제어기와 쉽게 연결되는 디지털 출력으로 변환하는 장치이다. 광학 인코더들에는 증가형(incremental)과 절대치형(absolute)의 두 가지 유형이 있다.회전식 증가형 광학 인코더(도 8)는 이하의 요소들, 즉 광원, 회전 인코더 디스크, 정지 마스크(stationary <99>mask), 광검출기(photo-detector), 광검출기의 출력 신호들을 증폭시키고 사각화시키는(square) 전자 기기들을구비할 수 있다. 인코더 디스크가 마스크 앞에서 회전할 때 마스크가 광원으로부터의 광을 차단한다. 마스크를통과하는 광은 유사 정현파(quasi-sine wave) 출력의 형태의 펄스들을 생성하는 광검출기에 의해 수광된다. 인코더 전자 기기들은 이 출력을 카운터로 전달하기에 적합한 사각파(square wave) 형태로 변환한다. 카운트의 개수는 인코더 디스크의 회전 위치에 정확하게 비례한다. 또한 많은 인코더들은, 예를 들어 초기 위치를 결정하기위한 기준점으로서 기계적인 매회전마다 하나의 펄스를 제공하는 하나의 제로 표시(zero mark)를 구비한다.이론상, 회전식 절대치형 광학 인코더들(도 9)은 회전하는 디스크가 출력 신호를 생성하기 위해 광원과 광검출 <100>기의 사이에서 광을 가로막는다는 점에서 증가형 인코더와 유사하다. 그러나 하나의 트랙(single track)의 증가형 인코더와는 달리 절대치형 인코더 디스크는 복수 개의 동심원 트랙들을 형성한다. 각각의 트랙은 투명 영역과 불투명 영역을 갖는다. 이와 같은 독립적인 트랙들은 각각의 분해 가능한 위치(resolvable position)를 위한고유한 조합을 제공한다. 절대치형 인코더의 모든 위치는 고유하므로, 절대치형 인코더들은 전원이 제거되어도위치를 잃지 않는다. 그러므로 제로 위치나 홈 위치로 복귀시킴으로써 시스템을 초기화할 필요도 없다. 대부분의 적용 분야에 있어서, 절대 위치는 장치가 켜질 때 결정된다. 절대 위치가 정해지는 것으로부터 고속에서 고분해능을 얻는 것이 가능하기 위해서 아날로그 사인/코사인 신호들에 기초하여 증가형 방식으로 위치가 결정된다.예시적인 로봇 머니퓰레이터는 고장을 일으킬 수 있는 수많은 구성 요소들을 갖는 복잡한 메카트로닉 <101>(mechatronic) 시스템이다. 이러한 구성 요소들은 전원, 모터들, 인코더들, 벨트들, 베어링들, 볼스크류들, 브레이크들, 진공 시스템 요소들, 통신 시스템 요소들, 주제어기, 모터 제어기들, 및 냉각팬들을 포함한다.본 상태 감시 및 결함 진단 시스템은 개별적인 시스템 구성 요소들의 상태 평가를 수행하기 위해 선택된 신호들 <102>의 시간 이력들을 이용한다. 신호들은 기계 내에 이미 존재하는 신호원으로부터 구할 수도 있고, 상태 감시 및결함 진단의 목적으로 특별히 부설된 부가적인 센서들로부터 올 수도 있다.일반적으로 기계 내에 이미 존재하는 신호원들로부터 가능하면 많은 정보를 추출하는 것이 바람직하다. 즉, 이 <103>러한 신호원들은 원하는 기능을 달성하기 위해 로봇과 기타 장치들에 의해 사용되는 것이다. 이는 부가적인 센서들이 복잡성과 비용을 증가시키기 때문이다. 그러나 많은 경우들에 있어서, 존재하는 신호들로부터 모든 정보를 추출하는 것은 불가능하고 더 강력하고 값비싼 프로세서들에서 실행되어야 하므로 개발하고 지원하는 데 비용이 많이 드는 복잡한 알고리즘들을 필요로 하므로 상태 감시 및 결함 진단의 목적으로 특별히 센서들을 부가하는 것이 바람직하다. 존재하는 측정 가능한 신호들 <104>전형적으로, 다음과 같은 신호들은 로봇화된 제조 기계 내에 존재하며, 상태 감시 및 결함 진단을 위해 이용될 <105>수 있다. (a) 모터 PWM 듀티(motor PWM duty): 모터의 PWM 듀티는 어떤 주어진 시간에 각각의 모터 상(motorphase)에 공급되는 입력 전압의 백분율이다. 모터 상들의 각각에서의 듀티 주기(duty cycle)는 상태 감시 및 결함 진단 시스템에서 이용 가능하다. (b) 모터 전류(motor current): 모터 전류는 각 모터들의 세 개의 상들의각각을 통과하는 전류를 나타낸다. 모터 전류는 절대값으로 얻을 수 있거나 최대 전류의 백분율로 얻을 수있다. 절대값으로 얻어진 경우 전류는 앰프(Amps)의 단위를 갖는다. 모터 전류값은 모터 토크와 전류의 관계를이용하여 모터 토크를 계산하는 데 교대로 사용될 수 있다. (c) 실제 위치, 속도, 및, 가속도: 이들은 각각의모터 축들의 위치, 속도, 및 가속도이다. 회전축(rotational axes)에 대해서, 위치, 속도, 및 가속도 값들은 각각 각도(degree), 각도/초(degree/sec), 및 각도/제곱초(degree/sec2)의 단위이다. 병진축(translationalaxes)에 대해서, 위치, 속도, 및 가속도 값들은 각각 mm, mm/sec, 및 mm/sec2 의 단위이다. (d) 원하는 위치,속도 및, 가속도: 이들은 제어기가 모터에게 갖도록 명령한 위치, 속도, 및 가속도 값들이다. 이들 특성들은 상기한 실제 위치, 속도, 및 가속도와 유사한 단위를 갖는다. (e) 위치 및 속도 추종 에러(tracking error; 추종오차): 이들은 각각의 원하는 값들과 실제 값들의 사이의 차이다. 이들 특성들은 상기한 실제 위치, 속도, 및가속도와 유사한 단위를 갖는다. (f) 정착 시간(settling time): 정착 시간은 위치 및 속도 추종 에러들이 동작의 말미에 정해진 창 안에 안정하는 데 걸리는 시간이다. (g) 인코더의 아날로그 출력 및 절대 위치 출력: 모터위치는 두 가지 유형의 신호들(아날로그 신호들과 절대 위치 신호들)을 출력하는 인코더들에 의해 정해진다. 아- 17 -공개특허 10-2008-0055789날로그 신호들은 밀리 볼트(mVolts) 단위의 사인 신호와 코사인 신호들이다. 절대 위치 신호들은 지나간 아날로그 사인 주기들의 개수 또는 지나간 아날로그 사인 주기들의 정수배를 나타내는 지워지지 않는 정수값들이다.전형적으로, 디지털 출력은 전원이 켜지면 읽혀지고, 그 이후에 축의 위치가 아날로그 신호들로부터 유일하게정해진다. (h) 그리퍼 상태: 이는 그리퍼의 상태(개방 또는 폐쇄)이다. 진공에 의해 작동하는 가장자리 접촉식그리퍼의 경우에 있어서의 그리퍼 상태는 하나 이상의 센서들의 차단/해제의 상태이다. (i) 진공 시스템 압력:진공 시스템 압력은 진공 센서에 의해 측정되는 진공의 수준이다. 진공 센서는 출력이 아날로그-디지털 변환기에 의해 디지털화되는 아날로그 센서이다. 흡착 그리퍼(suction gripper)의 경우에 있어서, 진공의 수준은 웨이퍼가 파지되었는지를 나타낸다. (j) 기판 감지 센서 상태: 수동적 파지 엔드 이펙터에 있어서, 웨이퍼 감지 센서 출력은 이진 출력(binary output)이다. 진공에 의해 작동하는 가장자리 접촉식 파지 엔드 이펙터에 있어서,웨이퍼의 존재는 두 개 또는 그 이상의 센서들의 출력 상태로부터 결정된다. 이들 출력 상태의 각각은 이진(binary)이다. (k) 매퍼 센서 상태(mapper sensor state): 이는 매퍼 센서의 상태(어떤 주어진 상황에서 차단되거나, 해제된 상태)이다. (l) 매퍼/얼라이너 검출 광 강도: 이는 광검출기(light detector; 도 3의 503)에 의해 검출되는 광의 강도의 측정값이다. 이와 같은 신호는 전형적으로 정수값으로 얻을 수 있는데, 예를 들어 0내지 1024의 범위를 가질 수 있다. (m) 매퍼 센서 위치 포착 데이터: 이는 매퍼 센서가 상태를 바꾸는 로봇 축위치값들의 배열이다. (n) 진공 밸브 상태: 이는 진공 밸브의 명령이 내려진 상태이다. 이는 진공 밸브를 작동시키는 솔레노이드가 활성화되는지는 설정한다. (o) 퓨즈 출력 단자들(fuse output terminals)에서의 전압: 모터 제어 회로 내의 각각의 퓨즈들의 출력 단자들의 전압들이 감시된다. 끊어진 퓨즈는 낮은 출력 단자 전압을일으킨다. (p) 기판 위치 정렬 데이터: 이들은 얼라이너에 의해 보고되는 기판 편심 벡터(eccentric vector)와기판의 정렬 피두셜(alignment fiducial)의 각도 방향이다. (q) 외부 기판 센서들이 이동할 때의 위치 데이터:어떤 경우들에 있어서, 기계의 대기 영역과 진공 영역들에는 로봇에 의해 이송되는 기판의 선단 가장자리(leading edge)와 후단 가장자리(trailing edge)를 검출하는 광학 센서들이 장착된다. 이들 이벤트들에 대응하는 로봇 위치 데이터는 이송중의(on the fly) 로봇 엔드 이펙터 상에서의 기판의 편심도(eccentricity)의 인식을 위해 사용된다. (r) 기판 주기 시간: 이는 하나의 기판이 기계에 의해 처리되는 데 소요되는 시간으로, 전형적으로 정상 흐름 조건하에서 측정된다. (s) 소형 환경 압력(mini-environment pressure): 이는 기계의 대기 영역에서 압력 센서에 의해 측정되는 압력이다.HMFD를 위한 부가적인 센서들 <106>상술한 바와 같이, 기계 내에서 이미 얻을 수 있는 신호들을 상태 감시 및 결함 진단을 위한 목적으로 특별히 <107>부가되는 정보 공급원에 의해 보완하는 것이 때로는 바람직하다. 이러한 정보 공급원들은 이하를 포함할 수 있다. (a) 모터 토크의 직접 측정: 모터 토크는 모터 전류로부터 추정되는 대신 직접 측정될 수 있다. 모터 토크의 측정은 전기가 가해지는 모터를 고정으로 유지하는 데 필요한 외부 힘/토크를 측정하는 힘 게이지(forcegauge)나 토크 게이지(torque gauge)를 이용하여 이루어진다. (b) 모터 온도: 이는 모터의 온도를 말하며, 모터에 장착되는 온도 센서에 의해 측정된다. 온도는 화씨 도(degree C)의 단위로 얻을 수 있다. (c) 초과 이동 센서들(over-travel sensors): 이들은 센서들과 연관된 운동축이 허용 가능한 이동 범위를 벗어나는 것을 나타내는 리미트 스위치들과 같은 센서들이다. (d) 음향 및 진동 센서 데이터: 이는 로봇의 다양한 지점이나 로봇 가까이 배치되는 마이크로폰(microphones)과 가속도계(accelerometer)로부터 얻어지는 전기적인 신호들을 나타낸다. (e) 적외선 센서 데이터: 이는 온도 변동을 감시하기 위해 기계 내의 다양한 지점들에 배치되는 적외선 센서들로부터 얻는 온도 수치를 나타낸다. (f) 동력 소모: 모터 전류들, 속도들, 듀티 주기 값들은 어떤 주어진시간에서 각 모터에 의해 소모되는 전기적인 동력을 계산하는 데 사용될 수 있다. (g) 편향(deflection): 이는편향을 측정하기 위해 로봇의 다양한 지점들에 배치되는 스트레인 게이지들(strain gauges)로부터 얻는 전기적인 신호들을 나타낸다. (h) 벨트 장력(belt tension): 벨트 장력 조절기(belt tensioner)에 부착되는 힘을 감지하는 장치의 출력은 벨트 장력의 측정값으로 기능한다. 벨트 장력은 뉴턴(Newtons)의 단위를 갖는다. (i) 냉각팬들의 작동의 지속시간(duration): 냉각팬들은 연속적으로 작동하거나, 온도조절기(thermostat)에 의해 제어될 수 있다. 로봇으로부터의 열 발산을 훌륭하게 지시하는 것은, 온도조절기에 의해 제어되는 냉각팬의 작동의지속시간이다. (j) 기판의 정전기 전하(electrostatic charge): 기타 방법들 중에, 기판의 제어된 방전을 통해기판 전하의 수준이 정해질 수 있다. (k) 외부 센서들이 이동할 때의 위치 데이터: 이동하는 제어기가 대응하는로봇 위치 데이터를 포착하고 결과 정보(예를 들어, 로봇과 기판의 반복 재현성(repeatability) 검사를 위한 정보)를 이용하도록 하기 위해 기판들의 가장자리와 로봇 구성 요소들을 검출하는 부가적인 외부 센서들이 사용될수 있다. (l) 비디오 이미지들(video images): 이는 로봇이 주기적으로 도달하는 특정 위치에 고정적으로 설치되는 비디오 카메라나 로봇에 의해 이동하는 카메라로부터 얻는 비디오 이미지들을 나타낸다. 로봇에 의해 이동하는 카메라의 경우에, 카메라들은 엔드 이펙터를 향하거나, 고정 표지(stationary markers)를 향할 수 있다.- 18 -공개특허 10-2008-0055789(m) 충만 압력(plenum pressure): 이는 팬 필터 유닛 내의 필터의 입력측의 압력 센서에 의해 측정되는 압력이다.예시적인 고장의 모드들(modes) <108>구성 요소들의 고장은 크게 두 가지 유형, 점진적으로 형성되는 만성 고장(chronic failure)과, 갑자기 발생하 <109>는 급성 결함(acute fault)으로 분류될 수 있다. 첫 번째 종류의 결함은 상태 감지 시스템에 의해 초기 형성 시기에 탐지될 수 있다. 빠른 탐지 및 수리는 작동되는 동안의 예기치 않은 고장을 피하는 데 도움이 될 것이다.반면, 두 번째 유형의 결함들은 빠른 탐지를 불가능하게 한다. 그러나 결함 진단 시스템은 이들 결함들이 발생할 때에 진단하는 것을 도울 수 있고, 그로 인해 기계가 다시 작동되게 하기 위한 시간을 단축시킬 수 있다. 발생할 수 있는 다른 유형의 결함들이 이하에 열거되며 표 3에 요약된다.[예시적인 고장의 모드와 그 증상들] <110>표 3<111><112>- 19 -공개특허 10-2008-0055789<113><114><115>- 20 -공개특허 10-2008-0055789<116><117><118>- 21 -공개특허 10-2008-0055789<119>- 22 -공개특허 10-2008-0055789<120>로봇 및 얼라이너(robot and aligner) <121>모터 결함 <122>모터들은 로봇의 핵심 구성 요소들이며, 준최적 동작(sub-optimal operation)을 가져오는 많은 방법들의 하나에 <123>서 고장이 날 수 있다. 이하는 점진적으로 형성되며 형성될 때 예측될 수 있는 고장 모드들의 일부이다. (a) 영구 자석들의 약화: 영구 자석들의 약화(예를 들어, 독성 환경(aggressive environment)에서의 자성 소재의 붕괴(disintegration)는 자기장 세기의 손실을 가져오고, 그 다음에는 주어진 전류에 대한 낮은 토크 출력을 가져온다. 동일한 토크 출력을 유지하기 위해서는 더 높은 권선 전류가 필요하다. 더 높은 전류는 더 높은 저항 에너지 손실을 가져오고, 그 다음에는 전체적인 동력 소모의 증가와 모터 온도의 증가를 가져온다. (b) 고정자(stator)의 슬립/정렬불량(slipping/misalignment)과, 부정확한 위상각: 고정자를 제 위치에 유지하는 클램프들이 느슨해지는 것은 고정자의 슬립과 정렬 불량을 가져온다. 이는 유효 모터 위상 각도를 변화시키고, 이로 인해 부정확한 정류(commutation)가 야기된다. 부정확한 모터 위상각은 위상각 추정 단계의 부정확한 이행으로부터 발생할 수도 있다. 증상들은 상기한 약화된 자석들의 증상들, 즉 높아진 권선 전류, 모터 온도, 및 동력 손실과 유사하다. (c) 높은 연결 저항: 모터 연결 단자의 오염 및/또는 부식은 더 높은 유효 저항을 야기한다. 이로 인해 듀티 사이클(duty cycle)과 전체적인 동력 손실과 모터 온도 의 증가를 가져온다.이하의 모터 결함들은 갑자기 발생할 수 있다. (a) 타버린 모터 위상: 갑작스럽게 발생하는 모터 결함의 하나의 <124>예는 타버린 모터 위상(burnt motor phase)이다. 이 결함은 일반적으로 영향을 받은 위상의 갑작스런 전류 강하만을 감지하는 모터 제어기에 의해 표시된다. (b) 끊어진 퓨즈: 끊어진 퓨즈는 모터 증폭기에 대한 동력 공급을차단하여, 그 결과 모든 모터 위상들에 대한 동력 공급을 차단한다. 끊어진 퓨즈는 퓨즈의 출력 단자의 갑작스런 전압 강하를 일으킨다.인코더 결함들(encoder faults)인코더 결함들은 잘못된 위치 독출을 일으킬 수 있다. 인코더 결합들은 이하의 유형들을 포함할 수 있다. (a) <125>광학 디스크 오염: 먼지의 축적이나, 인코더 디스크나 독출 헤드(read head) 상의 베어링 그리스(grease)의 이동은, 인코더로부터의 아날로그 사인 신호 출력의 약화를 가져온다. 이는 점진적으로 발생하는 결함이며, 인코더 사인 신호들의 진폭을 감시함으로써 예측될 수 있다. 신호 약화의 정도는 인코더 위치의 함수로 변화한다.(b) 독출 헤드 정렬 불량(read-head misalignment): 인코더의 두 개의 사인/코사인 신호들은 일반적으로 90도의위상 차이가 있다. 그러나 잘못 정렬된 독출 헤드는 신호들의 약화에 부가하여 두 개의 신호들의 사이의 위상차이의 변화를 가져올 수 있다. 그러므로 이러한 결함은 신호들 사이의 위상 차이를 감시함으로써 검출될 수 있- 23 -공개특허 10-2008-0055789다. 이러한 결함은 점진적으로 또는 갑작스럽게 발생할 수 있다. (c) 전기적인 노이즈: 신호들의 전기적인 노이즈는 인코더의 아날로그 신호 내에서 낮은 신호대 잡음비(signal to noise ration)를 가져온다. 이러한 결함은외부 이벤트들에 대한 응답이나 하네스(harness) 작동 불량으로 인해 간헐적으로 발생할 수 있으므로, 인코더아날로그 신호의 신호대 잡음비를 감시함으로써 검출될 수 있다. (d) 잘못된 인코더 카운트: 전형적으로 전원이들어오면 절대 위치가 읽히고, 그 이후에 라인 개수(line count)와 아날로그 신호들이 축 위치를 결정하기 위해사용된다. 라인 개수와 가능한 경우 아날로그로부터 도출되는 축 위치가 인코더 절대 위치에 대해 주기적으로검사될 수 있다. 잘못된 인코더 카운트는 축 위치와 절대 위치(축 위치와 절대 위치는 동일한 시간의 순간에 독출된다)의 사이의 차이에 의해 표시된다.구동 벨트 결함들타이밍 벨트(timing belts)는 동력 전달 장치로 기능하며, 다음과 같은 방식으로 고장이 날 수 있다. (a) 부정 <126>확한 벨트 장력: 늘어남으로 인해, 벨트 장력은 점점 감소한다. 낮은 밸트 장력은 위치 서보 루프(positionservo loop)의 점진적인 불안정화를 일으킨다. 부정확한 벨트 장력은 증가하는 요동 위치 및 속도의 추종 에러들 뿐만 아니라 감소된 안정도 여유(stability margin)로 나타난다. 벨트 장력 조절기의 지나친 조정은 정상적인 벨트 장력보다 높은 장력을 가져올 수도 있다. 높거나 낮은 벨트 장력은 또한 벨트 장력 조절기에 장착된 힘센서들에 의해 측정되는 힘의 증가나 감소를 가져온다. 벨트 장력의 변화는 또한 벨트 가까운 지점에서 측정된음향 및 구조적 진동 신호들의 주파수 스펙트럼의 변화를 가져온다. 나아가, 벨트 장력의 변화는 메커니즘의 주파수 응답의 변화를 통해 검출될 수 있다. (b) 구성 요소들에 대한 벨트 마찰: 부정확한 벨트 조립이나, 기계적인 문제로 인한 벨트 요동(walking)은 이웃하는 구성 요소에 대한 마찰을 가져온다. 과도한 벨트 마찰은 마찰력과, 동력 소모, 전류 소모, 열 발산 및 모터 온도의 증가를 가져온다. (c) 벨트 슬립: 벨트는 타이밍 기어(timing gear)에 대해 미끄러질 수 있고, 이와 같은 슬립은 충돌의 결과로 갑자기 발생할 수 있다. 미끄러진 벨트는 추종 에러의 증가를 가져오고, 또한 외부 위치 센서 수치의 상당한 변이를 일으킨다. 외부 위치 센서의 하나의 예는 외부에 장착된 비디오 카메라일 수 있다. 미끄러진 벨트는 로봇 관절부의 인코더와 같은 여유 위치센서들과, 모터에 연결된 인코더와 같은 주된 위치 센서들의 사이의 일치하지 않는 수치로 나타날 수 있다.진공 시스템 결함 <127>진공 압력은 웨이퍼를 붙잡기 위해 사용된다. 두 가지 유형의 진공에 기초한 웨이퍼 그리퍼들이 있는데, 즉 도 <128>6의 표면 접촉식 흡착 그리퍼(surface-contact suction gripper)와, 도 5의 가장자리 접촉식 진공 작동 그리퍼(edge-contact vacuum actuated gripper)이다. 진공 시스템에서 발생할 수 있는 예시적인 결함들은 이하를 포함한다. (a) 진공 누설: 립 실(lip seal)의 마모와 찢어짐으로 인해 진공 누설이 발생할 수 있다. 진공 라인의누설은 (표면 접촉식 흡착 그리퍼의 경우에, 진공 밸브가 개방되고, 기판이 엔드 이펙터 위에 있을 때) 낮은 진공 압력을 가져오고, 진공 센서들(302,402)의 수치의 강하를 통해 검출될 수 있다. 나아가, 파지 작용은 파지불능이나 또는 그리퍼 작동 시간의 증가를 가져온다. 진공에 의해 작동되는 가장자리 접촉식 그리퍼에대해서는, 파지 작동 시간이 밸브(306, 406)가 개방되도록 명령을 받은 순간과, 위치 감지 표지(308)가 개방 위치를 탐지한 시간의 사이에 측정된다. 표면 접촉식 흡착 그리퍼에 대해서는, 파지 작동 시간은 밸브가 개방되도록 명령을 받은 순간과, 진공 센서 치수가 허용 가능한 진공 수준에 도달한 때의 사이에 측정된다. (b) 진공 장애(obstruction): 진공 센서와 액추에이터의 사이의 진공 라인의 장애는 짧은 진공 변화 시간뿐만 아니라 진공이 켜질 때에 진공에 의해 작동되는 가장자리 접촉식 그리퍼의 긴 작동 시간을 가져온다. 진공에 의해 작동되는 가장자리 접촉식 그리퍼 <129>도 5 및 도 6에 도시되는 기판 그리퍼들은 다음과 같은 방식의 어느 하나에 의해 고장이 날 수 있다. (a) 파손 <130>된 스프링: 진공이 없을 때에, 기판을 위치에 파지하기 위해 스프링에 의해 지지되는 플런저가 기판을 향해 밀린다. 파손된 스프링은 그리퍼가 항상 해제된 상태에 있게 한다. (b) 중간에 끼인 플런저: 플런저는 중간에 끼일 수 있으며, 이로 인해 진공 라인의 개방 또는 폐쇄에 응답하여 그리퍼의 상태가 변화하지 않는다. 베어링과 볼 스크류 <131>베어링과 볼 스크류는 다음과 같은 방식의 어느 하나에 의해 점진적으로 고장이 날 수 있다. (a) 고착 <132>(binding): 볼 베어링들의 고착은 운동에 대한 저항의 증가를 일으킨다. 고착은 모터 전류, 모터 온도, 및 에너지 손실과 추종 에러의 증가를 가져온다. 또한 볼 베어링들의 고착은 영향을 받는 조인트들을 구동하는 벨트의장력의 증가를 가져온다. (b) 헛돌기(play): 베어링의 헛돌기는 외부에 장착되는 비디오 카메라들과 같은 외부위치 센서들에 의해 기록되는 위치의 에러를 일으킨다. 베어링이 모터의 일부분이라면, 헛돌기는 또한 고정자의정렬 불량을 일으키고, 이전에 논의된 증상들을 일으킨다. 헛돌기는 또한 진동하는 상태를 가져와 안정도 여유를 감소시킬 수 있다.- 24 -공개특허 10-2008-0055789통신 시스템 <133>통신 네트워크는 주제어기와 모터 제어기의 사이에 데이터를 전달한다. 통신 네트워크에 대한 고장 모드는 이하 <134>를 포함할 수 있다. (a) 슬립링 고장(slip ring failure): 슬립링들은 회전 조인트들을 지나 데이터를전달하며, 마모와 찢어짐으로 인해 점진적으로 악화된다. 슬립링의 악화는 개별적인 제어기들에 의해 수신되는데이터의 에러율의 증가를 통해 검출된다. (b) 모터 제어기들의 통신 모듈의 고장: 주제어기는 모터 제어기들로부터 상태 메시지를 듣는다. 주제어기는 모터 제어기로부터의 상태 메시지가 없는 것을 검출함으로써 모터 제어기의 고장을 검출할 수 있다. 이와 같은 과정은 또한 노드 경비(node guarding)로도 불린다. (c) 주제어기에서의 통신 모듈의 고장: 모터 제어기들은 주제어기로부터 정상 경로 정보를 받는다. 주제어기의 고장은 어떤 경로정보가 존재하지 않는 것으로부터 탐지된다. 이러한 과정은 박동 감시(heart beat monitoring)라고도 불린다.(d) 두 개의 인접한 모터 제어기들 사이의 통신 연결의 단절: 이와 같은 종류의 결함은 이하의 두 개의 증상 중의 하나를 가져온다. 네트워크에 중복성(redundancy)이 존재한다면, 호스트 제어기는 네트워크를 재편성(re-map)할 수 있고, 다른 네트워크 토폴로지(topology)로 작동한다. 중복성이 존재하지 않는다면, 호스트는 네트워크를 재편성할 수 없다. 고장이 난 연결의 위치는 전자의 경우에 있어서는 새로운 네트워크 토폴로지에 기초하여 결정될 수 있고, 후자의 경우에 있어서는 노드들의 목록은 배치될 수 없다.기판 매퍼(substrate mapper) <135>일반적으로 기판 매퍼는 위치가 확인되는 각각의 기판들에 관한 두 가지 상태 변동을 기록하는 온오프 <136>센서이다. 고장 모드들은 이하의 유형들을 포함할 수 있다. (a) 노이즈가 있는 센서 출력: 이는 기판마다 복수개(두개보다 많음)의 상태 변동을 가져오거나, 및/또는 홀수 개의 상태 변동을 가져온다. (b) 결함 있는 매퍼센서: 결함 있는 센서는 어떠한 상태 변동도 가져오지 않는다.브레이크 고장 <137>일반적으로 모터 브레이크들은 전자 기계식으로 작동되며, 다음과 같은 고장들의 하나 이상을 가질 수 있다. <138>(a) 브레이크가 해제되지 않음: 이는 로터(rotor)에 대한 브레이크 패드의 연속적인 마찰을 일으켜, 모터 전류의 위치에 의존적인 변화를 야기한다. 또한 추종 에러와, 에너지 손실과, 열 발산의 전체적인 증가와, 음향 및진동 스펙트럼에서의 변화가 존재한다. (b) 브레이크가 부분적으로 해제됨: 이는 로터에 대한 브레이크 패드의간헐적인 마찰을 일으켜, 위치에 의존하는 모터 전류의 변동을 야기한다. 또한 에너지 손실과, 열 발산의 전체적인 증가와, 음향 및 진동 스펙트럼에서의 변화가 존재한다.외부 장애(obstruction) <139>외부 장애는 모터 전류의 급속한 증가를 가져오며, 실제 모터 전류(actual motor current)와 모델 예측 모터 전 <140>류의 사이의 차이의 증가를 가져온다. 모터 전류의 증가 속도는 장애의 유형에 의존한다. 부드러운 장애(softobstruction)는 모터 전류가 점진적으로 증가하는 장애이다. 부드러운 장애의 예는 로봇 아암이 펼쳐진 채로 z방향으로 이동하는 중에 로봇 엔드 이펙터(도 4)가 만나는 장애이다. 아암의 유연성은 변위에 대해 선형적으로증가하는 모터 전류를 가져온다. 거친 장애(hard obstruction)의 경우, 모터 전류는 갑자기 증가한다. 거친 장애의 예는 방사 방향으로 움직이는 로봇 엔드 이펙터(도 4)가 만나는 장애이다.외부 장애와의 간섭의 더 직접적인 증상은, 이용할 수 있다면 스트레인 게이지에 의해 표시되는 변형 <141>(deflection)의 증가이다.냉각팬 <142>모터와 전자 장치들을 냉각시키기 위해 사용되는 팬(fans)은 작동하지 않을 수 있으며, 모터 전류 수준의 증가 <143>를 수반하며 전체 시스템 온도의 증가를 가져온다.전원 공급 <144>전원 공급 불량으로부터 발생하는 고장의 전형적인 모드들은 이하에 열거된다. (a) 사양 이하의 전압: 모터 제 <145>어기들의 전압 센서들은 \"저전압\" 결함(under voltage fault)을 뚜렷이 표시한다. 이와 같은 센서들이 없는 경우, 이러한 상태는 더 높은 듀티 주기와 위치 추종 에러의 특징을 갖는다. (b) 사양 이상의 전압: 모터 제어기들 내의 전압 센서들은 \"고전압\" 결함(over voltage fault)을 뚜렷이 표시한다. 이와 같은 센서들이 없는 경우,이러한 상태는 정상보다 낮은 듀티 주기의 특징을 갖는다. (c) 끊어진 퓨즈: 이는 퓨즈 출력 단자에서 감지하는전압을 통해 탐지된다. 퓨즈가 끊어질 때 전압은 0에 가깝다.- 25 -공개특허 10-2008-0055789로봇 수준의 고장(a) 반복 재현성 악화: 로봇은 엔드 이펙터를 반복적으로 정해진 장소에 위치시킬 수 있는 능 <146>력을 잃는다. 전형적으로 이러한 고장은 점진적으로 형성되며, 로봇 엔드 이펙터가 작동 중에 외부 센서에 의해포착될 때 포착되는 위치 데이터의 변동으로 탐지될 수 있거나, 또는 주어진 장소를 향해 반복적으로 명령을 받는 로봇 엔드 이펙터의 비디오 이미지들을 이용하여 탐지될 수 있다. (b) 잘못된 수거 및 투입(mispick andmisplace): 이와 같은 결함은 로봇 아암에 설치되거나 수거 및 투입 동작이 이루어지는 장소에 설치되는 비디오카메라(들)에 의한 로봇의 수거 및 투입(pick and place) 동작들의 비디오 기록을 이용하여 진단될 수 있다.얼라이너/매퍼 광 강도 요동(fluctuation) <147>얼라이너 또는 매퍼의 발광기(light emitter)의 광 강도는 긴 주기의 시간동안 점진적으로 요동(저하)할 수 있 <148>다. 매퍼의 경우, 상당한 강도의 저하는 발광기와 광 검출기의 사이의 기판의 존재 또는 부재에 관한 잘못된 데이터를 가져올 수 있다. 얼라이너의 경우, 발광기가 차단되는 정도에 관한 잘못된 데이터를 가져올 수 있다. 이는 또한 결함이 있거나 범위를 벗어난 웨이퍼 가장자리 위치 데이터를 가져온다. 광 강도 요동은 전형적으로 점진적으로 발생하며, 고장은 광원에 충분히 노출되었을 때의 센서 출력의 변동(감소)으로 탐지될 수 있다.지원 시스템들(supporting systems) <149>팬 필터 유닛(fan filter unit) <150>팬 필터 유닛은, 기계의 대기 영역의 상측 단면 영역의 대부분을 덮는 필터를 포함한다. 점진적인 필터 막힘 <151>(clogging)은 기계의 대기 영역의 내측(소형 환경 압력; mini-environment pressure)에 동일한 압력을 유지하기 위한 필터 입력 측의 충만 압력(plenum pressure)에 의해 표시된다.이온화 장치 고장 <152>이온화 장치(ionizer)는 기계의 대기 영역에서 운반되는 기판들 위에 축적되는 전하들을 중화시키기 위해 사용 <153>된다. 이온화 장치의 고장은 기판의 지나친 전하 축적을 가져온다.기계 수준의 고장들 <154>반복 재현성 열화(repeatability deterioration) <155>기계 수준(tool-level)의 고장들은 기판 반복 재현성 열화와, 로봇 스테이션 정렬 불량, 및 처리량(throughput) <156>감소를 포함한다.기판 반복 재현성 열화 <157>기판 반복 재현성 열화는 정해진 공차 내에서 기판들을 반복적으로 하나 이상의 스테이션으로 이송하는 기계의 <158>능력의 손실이다. 이 결함은, 몇 가지 예를 들면 로봇 엔드 이펙터에서의 기판 미끄러짐(slippage)이나 얼라이너의 불량으로 인한 로봇 반복 재현성 열화의 부작용일 수 있다. 전형적으로 이러한 고장은 점진적으로 형성되며, 동작 중에 기판 가장자리가 외부 센서들에 의해 탐지될 때에 포착되는 위치 데이터의 변동으로 탐지되거나,기판들이 주어진 장소로 이송될 때에 비디오 이미지들에 의해 기초하여 탐지될 수 있다.로봇 스테이션 정렬 불량(robot station misalignment) <159>로봇에 대한 스테이션들의 올바른 정렬은 기계의 올바른 작동을 위해 중요하다. 정렬 불량은 자동 티치(auto- <160>teach) 및 자동 높이 조정(auto-level) 결과들의 변동으로 탐지될 수 있다.처리량 감소 <161>처리량은 시간당 기계에 의해 처리되는 기판들의 개수로 측정된다. 처리량 감소는 기판 주기 시간의 증가로 나 <162>타난다.HMFD를 위한 기술들 <163>데이터 수집(data collection), 전처리(pre-processing), 분석(analysis), 및 추론(reasoning)의 네 가지 기본 <164>기능들을 구현하는 방법들이 이하에서 더욱 상세히 설명될 것이다. 데이터 수집, 전처리, 분석 및 추론(inference)을 위해 이용 가능한 여러 가지 상이한 유형의 많은 방법들이 존재한다. 에너지 손실의 감시 및 분석 <165>이러한 접근법은 로봇 결함을 위한 초기 탐지 시스템 구현에 적절하다. 이러한 접근법의 주요한 원리는, 로봇의 <166>- 26 -공개특허 10-2008-0055789기계적 또는 전기적 구성 요소들의 기능 저하로부터 발생하는 결함들이 로봇 작동의 전체적인 효율 저하를 가져올 것이라는 점이다. 그러므로 이와 같은 결함들은 발생의 초기 단계에서 로봇의 에너지 손실의 특정한 측정값들을 감시함으로써 탐지될 수 있다. 효율의 감소를 일으키는 결함들의 예는: 손상되거나 정렬 불량의 베어링들과, 윤활 손실(loss of lubrication)과, 로봇 운동의 장해(obstruction)와, 로터(rotor)의 영구 자석의열화와, 모터 브레이크의 불량이다. 로봇 작동 중에 감시될 수 있는 에너지 손실의 몇 가지 유형이 있다.기계적 에너지 손실 <167>에너지 손실의 하나의 측정치는 일련의 로봇 동작 중의 기계적 에너지의 전체 손실이다. 이는 다음 수학식 1에 <168>의해 주어진다.수학식 1<169>여기에서, τi와 θi는 각각의 모터들의 출력 토크와 각속도이고, N은 로봇의 모터들의 개수를 나타내며, ΔT는 <170>일련의 로봇 동작의 시간 지속이고, ΔEpot 는 로봇의 위치 에너지의 변화이다.ΔEpot의 항은 중력 위치 에너지 및 스프링과 벨로우즈(bellows)와 같은 컴플라이언트(compliant) 요소들에 저장 <171>된 에너지를 포함한다. 위치 에너지의 변화는 주어진 일련의 작동들에 대해서는 일정하고, 로봇의 시작 위치와종료 위치의 사이에서의 위치 에너지의 차이로부터 계산될 수 있다. 시간에 대한 기계적 에너지 전체 손실은 기계적 요소들의 기능 저하로부터 발생하는 결함을 나타낸다.전기적 에너지 손실 <172>에너지 손실의 다른 측정치는 일련의 로봇 동작 중에 모터들에서 손실되는 전체 전기적 에너지이다. 이는 이하 <173>의 수학식 2에 의해 주어진다. 수학식 2<174>여기에서, Vi는 모터에 대한 입력 전압이고, Ii는 모터의 입력 전류이다. <175>전체 전기 에너지 손실의 증가는 로봇의 전기적 또는 기계적 요소들의 기능 저하로부터 발생하는 결함을 나타낸 <176>다.각각의 조인트들에서의 에너지 손실 <177>오작동하는 구성 요소들의 위치에 관한 유용한 정보는 로봇의 각각의 조인트들에서의 에너지 손실을 감시함으로 <178>써 얻을 수 있다. 예를 들어, 각각의 조인트들에서의 기계적 에너지 손실은 특정 조인트에서 오작동하는 베어링이나 브레이크에 관한 유용한 정보를 제공한다. 하기의 수학식 3은 로봇의 조인트 i 에서의 기계적 에너지 손실을 제공한다.수학식 3<179>기계적 에너지 손실과 유사하게, 각각의 모터들에서의 전기적 에너지 손실의 변동도 특정 모터의 시작되는 고장 <180>에 관한 유용한 정보를 제공한다.- 27 -공개특허 10-2008-0055789수학식 4<181>에너지 손실에 기초한 상태 감시는 이하의 두 가지 방법의 하나로 실제 시스템 내에 구현될 수 있다. 첫 번째 <182>접근법은 로봇이 연장된 주기의 시간에 걸쳐 반복하는 움직임의 시퀀스들이 존재한다는 것을 가정한다. 이와 같은 움직임 시퀀스들은 상태 감시 및 결함 진단을 위한 모형(templates)으로 사용될 수 있다. 정상적인 로봇에대하여 에너지 손실과, 토크 및 기타 운동 특성들의 데이터가 측정될 수 있고, 장래에 사용되도록 저장될 수 있다. 기판 취급 로봇들은 일군의 스테이션들의 사이에서 연속적으로 기판의 이송을 담당하기 때문에, 하나의 스테이션으로부터 다른 스테이션으로 기판의 이동을 수행하는 운동 시퀀스는 상태 감시를 위한 모형적인 시퀀스로서 적합할 수 있다. 두 번째 접근법은 정상 로봇 모델(normal robot model), 예를 들어 뉴럴 네트워크를 이용한모델의 개발과, 정상 로봇 내에서의 에너지 손실을 계산하기 위해 이와 같은 모델을 이용하는 것을 수반한다.시간에 걸쳐 에너지 손실의 증가가 존재하는지를 결정하기 위해, 이와 같은 모델 계산에 의한 에너지 손실이 실제 에너지 손실과 비교될 수 있다.다음과 같은 결함의 유형들은 이러한 접근법을 통해 탐지될 수 있다. 모터 자석들의 붕괴(disintegration), 고 <183>정자(stator) 정렬 불량, 높은 연결 저항, 높은 벨트 장력, 움직이는 요소들의 어떤 요소에서의 마찰 증가, 결함이 있는 볼 베어링들, 브레이크 저항(drag)의 존재, 위상의 부정확한 각도 및 오작동.잔류 토크값(torque residual)의 감시 및 분석 <184>잔류 토크값은 실제 모터 토크와 기준 추정치의 사이의 차이의 측정치이다. 잔류 토크값의 분석은 로봇에서 발 <185>생하는 특정한 유형의 결함을 식별할 수 있다. 이와 같은 접근법은 로봇의 작동 중에 얻은 토크 데이터와 로봇의 정상적인 거동을 나타내는 토크 데이터의 비교에 기초한다. 기준 토크 데이터(정상 거동을 나타내는 데이터)는 선택된 운동 시퀀스 모형에 대해 초기에 저장된 원시 데이터(raw data)로 얻을 수 있거나, 로봇의 모델로부터 얻을 수 있다. 잔류 토크값의 원시값에 부가하여, 주어진 움직임 시퀀스에 관한 절대적인 잔류값의 전체도또한 모든 로봇의 상태에 관한 유용한 지표이다.선택된 운동 시퀀스 모형(move sequence templates)에 관한 원시 데이터 저장 <186>이와 같은 접근법은 로봇이 연장된 주기의 시간에 걸쳐 로봇이 반복하는 운동 시퀀스들이 존재한다는 것을 가정 <187>한다. 이와 같은 운동 시퀀스들은 상태 감시 및 결함 진단을 위한 모형들로 사용될 수 있다. 에너지 손실에 관한 데이터, 토크, 및 기타 운동 특성들이 정상적인 로봇에 대해 측정될 수 있으며, 장래에 사용되도록 저장될수 있다. 기판 취급 로봇들은 일군의 스테이션들의 사이에서 연속적으로 기판의 이송을 담당하기 때문에, 하나의 스테이션으로부터 다른 스테이션으로 기판의 이동을 수행하는 운동 시퀀스는 상태 감시를 위한 모형적인 시퀀스로서 적합할 수 있다. 연장 위치의 \"정착(settle)\" 이벤트는 모형 운동 시퀀스의 시작을 일으킬 수 있고,다음 스테이션에서의 연장 위치에서의 정착 이벤트는 상태 감시 운동 시퀀스의 종료를 일으킬 수 있다. 그러므로 복수 개의 모형 시퀀스들을 갖는 것이 가능한데, 하나의 모형 시퀀스가 한 쌍의 스테이션의 각각을 위한다.이와 같은 접근법의 주된 단점은 운동 시퀀스에 대해 수집된 기준 데이터는 운동 매개 변수가 바뀌지 않을 때에만 유효하다는 것이다.해석적인 로봇 모델(analytical robot model) <188>로봇의 정상적인 거동은 주어진 기계적 디자인에 대해 해석적으로 추론된 동역학 모델(dynamic model)에 의해 <189>표현될 수 있다. 모델의 구조가 추출되면, 모델의 매개 변수들이 종종 CAD 모델의 도움을 받아 관련된 기계적인요소들의 물리적 특성들에 기초하여 계산되거나, 매개 변수 추정 기법(parameter estimation techniques)을 이용하여 실험적으로 구해질 수 있다. 이와 같은 접근법의 단점은 로봇 아암 메커니즘의 다른 형상들과, 마찰과같은 어떤 물리적 현상들에 대해 유도되어야 할 필요가 있는 독립적인 동역할 모델들을 요구되는 정밀도를 가지고 해석적으로 기술하기가 어렵다는 점이다. 신경망에 기초한 로봇 모델(neural network based robot model) <190>해석적인 모델의 대안으로서, 정상적인 로봇으로부터 얻은 데이터가 로봇 동역학의 신경망 모델을 제작하는 데 <191>사용될 수 있다. 편리하게도 로봇 아암 메커니즘의 복수 개의 형상들에 대해 동일한 유형의 신경망이 사용될 수- 28 -공개특허 10-2008-0055789있고, 모델의 훈련은 쉽게 자동화될 수 있으며, 전형적으로 신경망 모델은 해석적으로 기술하기에는 때로 어려운 복잡한 물리적 현상들을 잘 표현한다.잔류 토크값들의 분석에 기초해 식별될 수 있는 예시적인 결함들은 실효 모터 용량의 감소와 주기적인 저항을 <192>포함한다.외란 관측기(disturbance observers) <193>외란 관측기들은 보통 로봇 머니퓰레이터의 서보 제어에 사용된다. 관측기들은 로봇 모델에서 설명되지 않는 외 <194>란들의 추정치들을 제공한다. 이러한 관측기들은 위치 서보들에 비교하여 더 높은 대역폭(bandwidths)에서 안정하도록 설계될 수 있으므로, 로봇 머니퓰레이터의 우수한 추종 제어(tracking control)를 가능하게 한다. 로봇내의 각각의 모터에 대해 외란 관측기에 의해 제공되는 외란 추정치는 이상을 탐지하도록 감시될 수 있는 편리한 특성으로 기능한다. 외란 관측기는 갑자기 발생하거나 간헐적으로 발생하는 결함들을 탐지하기 위해 사용될수 있다. 이와 같은 결함들의 예는, 어떤 모터 위치들에서 발생하는 브레이크 저항(brake drag), 어떤 모터 위치에서 발생하는 벨트 마찰, 입력 전압의 갑작스런 변동이다. 모터 동력 소모의 감시 및 분석 <195>모터 동력 소모는 로봇의 전체적인 상태의 유용한 표지이다. 상술한 에너지 손실과 같이, 동력 소모의 증가는 <196>로봇 내의 잠재적인 결함을 가리킨다. 모터 토크와 같이, 동력 소모는 로봇의 현재 상태의 특성이며, 동력 소모의 변동은 결함의 유형에 대한 유용한 정보를 만들 수 있다.추종 에러들의 감시와 분석 <197>추종 에러들의 감시와 분석은 상태 문제점을 밝힐 수 있는 접근법이다. 추종 에러는 로봇의 주어진 축이나 구성 <198>요소의 실제 위치와 이러한 위치와 구성 요소의 명령이 주어진(요구된) 위치의 사이의 차이로 정의된다. 이러한상태 감시 접근법은, 선택된 모형 시퀀스들에 관해 로봇의 정상 작동 동안에 수집된 추종 에러와, 로봇이 정상상태에 있을 때 초기에 얻은 기준 데이터의 비교에 기초한다. 다른 동일한 작동 조건 하에서의 추종 에러들의변화나 흐름은 상태 문제점들을 나타낸다.원시 추종 에러에 부가하여, 추종 에러의 다음 두 가지 추론양(derived quantity)들, 정규화된 추종 에러와 운 <199>동 시퀀스에 대한 추종 에러 절대값의 적분치는 유용한 상태 표지로 기능한다. (a) 정규화된 추종 에러(normalized tracking error) : 추종 에러는 모터의 가속도와 가속도 변화율에 강하게 연관되는 경향이 있으며,비례하여 증가할 수 있다. 로봇 상태의 더 나은 표지는 다른 운동 매개 변수들의 영향은 고려에서 제외된 정규화된 추종 에러일 수 있다. (b) 추종 에러의 적분치: 전체 운동 시퀀스에 대한 추종 에러의 크기(절대값)의 적분치는 운동하는 동안의 전체적인 추종 에러의 측정치이다.인코더 신호들의 감시 및 분석 <200>각 인코더의 아날로그 신호 출력은 동일한 진폭(amplitude)이지만 위상이 90도만큼 서로 반전된 두 개의 사인 <201>신호들을 포함한다. 이하의 결함들이 신호들의 진폭과 위상 특성에서의 변이를 감시함으로써 탐지될 수 있다.위상 차이의 변화는 인코더 독출 헤드(read head)의 정렬 불량이나 인코더 디스크의 흔들림(wobbling)을 나타낸다. 진폭의 변화는 인코더 디스크들의 파편(debris)의 존재를 나타낸다. 아날로그 인코더 신호들은 정상 작동 중에 또는 결함 진단의 목적으로 유도된 특별한 운동 패턴 중에 감시될 수 <202>있다. 바람직한 운동 패턴은 일정한 주파수 사인 신호들을 가져오는 등속도 운동이다.열 발산(heat dissipation)의 감시 및 분석 <203>열 발산은 에너지 손실의 다른 형태이다. 로봇의 다양한 지점에서의 열 발산의 양은 곧 발생하는 결함들을 예측 <204>하는 데 사용될 수 있다. 움직이는 요소들 사이의 큰 마찰을 가져오는 어떤 결함은 높은 수준의 열 발산을 가져올 것이다. 나아가, 모터들과 솔레노이드 스위치들에서의 높은 전류 수준도 높은 열 발산을 가져올 것이다. 높은 모터 전류 수준은 또한 많은 다양한 유형의 결함의 결과이다.열 발산은 기계의 전략적인 지점들에 로봇을 향하도록 설치된 적외선 센서들을 통해 감시될 수 있다. 온도는 모 <205>터 내부와 모터 제어기에 존재하는 온도 센서들을 이용하여 측정될 수 있다. 이러한 방법은 다음과 같은 유형의결함들, 모터 자석들의 붕괴(disintegration), 부정확한 모터 위상각, 고정자의 정렬 불량, 메어링 마찰과 브레이크 저항의 증가를 탐지하는 데 사용될 수 있다. - 29 -공개특허 10-2008-0055789구조적 진동의 감시 및 분석 <206>곧 발생할 결함들의 탐지를 향상시키기 위한 다른 접근법은 로봇의 다양한 지점들에서 구조적 진동들을 감시하 <207>는 것이다. 구조적인 진동들은 가속도계와 스트레인 게이지들을 통해 직접 감시되거나, 음향 신호들을 통해 간접적으로 감시될 수 있다. 곧 발생할 고장은 음향 신호들과 구조적인 진동 신호들의 파워 스펙트럼에서의 심각한 변이를 탐지함으로써 예견될 수 있다. 예를 들어, 결함이 있는 베어링이나 마찰하는 벨트는 음향 에너지 수준의 증가와, 신호 파워 스펙트럼에 새로운 정점들(peaks)의 도입을 야기할 것이다. 벨트 장력의 변화는 파워스펙트럼의 정점들의 변이에 의해 탐지될 수 있다.음향 에너지는 로봇의 다양한 지점들에 배치되는 마이크로폰을 이용하여 측정될 수 있다. 구조적인 진동은 로봇 <208>의 다양한 지점들에 가속도계를 장착함으로써 측정될 수 있다. 상술한 에너지 손실 접근법과 유사하게, 일 주기의 시간에 대해 로봇이 반복하는 어떠한 운동 시퀀스들은 모형 시퀀스들로 사용될 수 있으며, 이에 기초하여 정상적인 로봇의 파워 스펙트럼이 결함이 있는 로봇의 파워 스펙트럼과 비교될 수 있다. 신호들은 또한 로봇의 특정한 방향에서 구조체의 제어된 진동에 응답하여 측정될 수 있다. 다음과 같은 유형의 결함들, 벨트 장력의 증가 또는 감소, 느슨해진 체결부들(fasteners), 베어링 마찰의 증가, 및 움직이는 요소들의 마찰이 이러한 방법을 이용하여 분석될 수 있다.주파수 응답 분석(frequency response analysis) <209>상태 문제와 관련될 수 있는 로봇 머니퓰레이터의 특성들의 변화는, 주파수 응답 분석을 이용하여 식별될 수 있 <210>다. 이와 같은 접근법에 있어서, 로봇의 주파수 응답은 정상 상태에 있는 로봇에 대해 최초로 구한 기준 주파수응답과 비교된다. 비교는 원시 데이터에 기초하거나, 전달 함수들(transfer functions)과 매개변수 추정 기술에의해 원시 데이터로부터 얻는 기타 수학적인 표현들에 기초할 수 있다.전형적으로, 운동의 윤곽은 일반적으로 로봇 구조물의 진동을 최소화하도록 설계되므로, 주파수 응답 분석에 필 <211>요한 데이터는 로봇의 정상 동작 동안에는 얻을 수 없다. 결과적으로, 데이터 수집 단계는 일반적인 작동을 위해 로봇이 이용되지 않을 때 이루어져야 할 필요가 있다. 데이터는, 각 위치들에서의 인코더 수치들을 통해 로봇의 응답을 감시하는 동안, 로봇에 미리 정해진 격자의 위치들로 명령을 내리고, 로봇의 모터들에 자극 신호들을 투입함으로써 얻어질 수 있다. 진동(excitation)은 화이트 노이즈(white noise), 핑크 노이즈(pink noise),의 형태일 수 있고, 관심 있는 주파수 범위에 대해 정해진 단계들에서 주파수가 증가적으로 변화하는 소인 주파수(swept frequency)의 조파신호(harmonic signal)나 단일 주파수(single-frequency)의 조파 신호(harmonicsignal)의 형태일 수 있다.주파수 응답 분석에 의해 식별될 수 있는 상태 문제점은 느슨해진 기계적 하드웨어나, 마모된 부품이나, 부정확 <212>한 벨트 장력을 포함할 수 있다.벨트 장력의 감시 <213>로봇화된 제작 기계 내의 로봇 링크들과 기타 구성 요소들을 구동하는 도 4의 벨트들(415, 418A, 418B, 419A, <214>419B)과 같은 벨트들의 장력은, 벨트와 이에 대응하는 벨트 장력 조절기의 사이의 힘을 감지하는 센서들을 통해감시될 수 있다. 힘들은 주어진 위치에 로봇이 정지하였을 때 전형적으로 읽힌다. 힘들의 변화나 또는 흐름은상태 문제점을 나타낸다. 나아가, 로봇 작동 중에 센서들에 의해 탐지되는 힘은 대응하는 벨트 구동에 의해 전달되는 토크를 추정하기 위 <215>해 사용될 수 있다. 이러한 정보는 기계적인 속박(binding)과 같은 문제점을, 로봇 내의 특정한 구성 요소로 범위를 좁히기 위해 사용될 수 있다.예를 들어, 도 4의 벨트들(418A, 419A)을 구비하는 모터(417A)와 같이 2단의 벨트 구동을 구비하는 모터는 예상 <216>보다 강한 토크를 출력하고, 2단에 의해 전달되는 토크가 정상으로 유지된다면, 문제점은 벨트 구동의 1단의 이전의 구조에 존재한다. 그러나 1단이 정상 토크보다 큰 토크를 전달하면, 문제점은 벨트 구동의 2단들의 사이에서 찾아야 한다. 최종적으로, 모든 단들이 이상 토크 수준을 전달한다면, 문제점은 벨트 구동의 2단 이후의 요소들에 존재한다.정지 힘 균형 분석(static force balance analysis) <217>모터 전류와 모터 토크의 사이의 관계는 모터 토크 전류 관계(motor torque-current relationship; 모터 토크 <218>용량으로도 불림)에 의해 결정된다. 모터 자석의 약화와 같은 결함은 모터 토크 용량의 저하를 가져온다. 이와같은 결함은 모터 토크와 모터 전류를 직접 측정함으로써 식별될 수 있다. 모터 토크의 직접적인 측정은 정적- 30 -공개특허 10-2008-0055789부하(static load) 조건하에서 가능하다. 정적 부하 조건의 예는 로봇 아암이 고정되지만 외부 힘에 저항하는조건이다. 외부 힘이 힘 게이지를 통해 측정될 수 있다면, 개별적인 모터들의 토크가 정해질 수 있다.외부 힘의 양이 알려져 있지 않을 지라도, 모터 토크들 사이의 비율을 구하기 위해 해석적인 정지 힘 모델이 사 <219>용될 수 있다. 모터 토크비(torque ratio)는 모터 전류비와 비교될 수 있고, 모터 용량의 저하를 가져오는 결함이 식별될 수 있다. 이하의 결함들, 즉 모터 자석들의 약화, 모터 베어링들의 헛돌기가 이와 같은 접근법을 이용하여 식별될 수 있다. 3상 모터에서의 모터 토크 T와 최대 모터 전류 Iphase의 사이의 관계는 하기의 수학식 5에 의해 주어진다.수학식 5<220>여기에서 L은 모터 축 둘레의 권선 길이이고, R은 코일 권선의 반지름이며, B는 코일에 수직한 자기장이며, Kt <221>는 모터 토크 상수 또는 모터 토크 용량이다.모터 토크 상수를 측정하는데 더하여, 모터 권선 저항의 변화를 식별하기 위해 정적 분석(static analysis)이 <222>사용될 수 있다. 정지 조건하에서 모터의 단자에서 단자의 권선 저항과, 모터 단자 전압과 모터 단자 전류의 사이의 관계가 델타 권선(delta wound) 모터와 와이 권선(Wye wound) 모터의 모두에 대해 이하의 수학식 6에 의해주어진다.수학식 6<223>디지털 센서 출력의 감시 및 분석 <224>디지털 센서들은 로봇의 상이한 하부 요소들에 배치되는 온/오프 센서들이다. 상태 천이 시간을 감시하고 기록 <225>함으로써, 특정한 유형의 결함들이 탐지될 수 있다. 상태 천이 시간은 정상 동작 동안 또는 진단을 위해 특별히설계된 특정한 동작 동안에 기록될 수 있다.진공에 의해 작동되는 가장자리 접촉식 그리퍼들은 플런저의 위치를 탐지하는 부가적인 센서들을 구비할 수 있 <226>다(도 5). 진공 누설이 존재하거나 진공 시스템에 장애물이 존재하는 경우 이러한 센서에 대한 파지 천이 시간(grip-on transition time)이 증가한다.본 출원 명세서를 위해, 끊어진 퓨즈의 탐지를 위한 전기회로 또한 디지털 센서들의 항목에 들어간다. <227>아날로그 센서 출력들의 감시 및 분석 <228>기판 얼라이너 내에 기판들을 정렬하기 위해 아날로그 광학 센서들이 사용된다. 이러한 센서들의 아날로그 출력 <229>은 아날로그-디지털 변환기를 통과하고, 제어기에 의해 읽힌다. 신호 진폭은 얼라이너 내의 웨이퍼의 편심의 정도를 결정한다. LED인 신호원으로부터 나오는 신호 강도의 어떠한 약화(attenuation)는 탐지되어야 하고 고려되어야 할 필요가 있다. 이러한 약화는 LED 신호원의 열화 때문일 수 있다.얼라이너 센서의 상태를 감시하기 위해, 얼라이너에 기판이 없을 때 LED 신호원의 교정(calibration)이 주기적 <230>으로 이루어질 수 있다. LED 신호원의 약화는 제어기 소프트웨어 내에서 보상될 수 있고, 및/또는 LED 신호원에공급되는 전압이 조정될 수 있다. 유사한 감시 및 분석 접근법이 기판 매퍼 센서에 적용될 수 있다.대안으로서, 기판이 항상 얼라이너 위에 존재하면, LED 신호원의 교정이 기판의 알려진 지름을 기초하여 이루어 <231>질 수 있다. 기판의 편심도에 불구하고 편심을 갖지 않은 기판의 반지름을 나타내는 한 쌍의 수치가 수집된 데이터 내에서 발견될 수 있다. 이러한 두 가지 지점들에서의 센서 수치들이 기판 반지름의 예상되는 명목 값에대해 검사될 수 있다.- 31 -공개특허 10-2008-0055789진공 압력 센서들은 진공 수준을 나타내는 아날로그 센서들이다. 이와 같은 진공 압력은 요구되는 진공 상태에 <232>도달되었는지를 결정하기 위해 압력 문턱값에 대해 비교된다. 요구되는 진공 상태에 도달하는 데 걸리는시간인, 진공 변동 시간(vacuum transition time)은 특정 결함들을 결정하기 위해 사용될 수 있다. 진공에 의해작동되는 가장자리 접촉식 그리퍼 또는 표면 접촉식 흡착 그리퍼의 경우(도 5 및 도 6), 파지 동작 중 및 파지해제 동작 중의 상태 천이 시간의 변화는 진공 시스템의 특정한 영역 내의 누설이나 차단을 나타낸다.비디오 신호들의 감시 및 분석 <233>비디오 카메라는 로봇의 작업 영역 내에 설치될 수 있으며, 제어기에 연결될 수 있다. 제어기는 비디오 이미지 <234>들을 처리하여, 특정 유형의 결함들을 탐지할 수 있다. 예를 들어, 비디오 신호들은 로봇의 반복 재현성을 결정하기 위해 사용될 수 있다. 로봇이 특정한 장소에 있을 때, 로봇 엔드 이펙터의 비디오 이미지가 포착되어 분석될 수 있다. 엔드 이펙터의 특정 형상의 위치에 있어서 큰 변이가 존재하는지를 결정하기 위해 패턴 인식 수단들을 이용하여 이미지가 분석될 수 있다.가장자리 접촉식 그리퍼의 동작을 포함하는, 로봇에 의해 수행되는 수거 및 투입(pick and place) 동작들을 감 <235>시하기 위해 로봇 엔드 이펙터에 비디오 카메라가 직접 설치될 수도 있다. 결과 비디오는 기록되어 수거 및 투입 작동 중의 고장의 진단에 있어서 역할을 할 수 있다. 이는 가끔 발생하므로 조작자가 관찰할 수 없고, 및/또는 다시 발생시키기가 어려운 고장들을 위한 아주 소중한 수단이다. 비디오 신호들은 로봇의 위치 반복 재현성에 영향을 미치는 결함들을 식별하기 위해 사용될 수 있다. 반복 재현성에 영향을 미치는 전형적인 결함은 타이밍 벨트의 슬립(slipping)과, 히스테리시스(hysteresis)를 일으키는 벨트 늘어남과, 베어링 클램프의 느슨해짐이다.통신 네트워크 흐름의 감시 및 분석 <236>통신 네트워크의 상태는 통신 네트워크의 각 링크들에 대한 에러율(error rates, 즉 전송되는 데이터의 정해진 <237>양 마다의 에러의 개수)을 통해 감시될 수 있다. 이러한 접근법은 통신 신호들을 전달하는 슬립링의 상태를 감시하는 데 특별히 유용하다. 나아가, 모터 제어기들에서의 치명적인 통신 네트워크 고장은 네트워크 노드 경비(node guarding)를 통해 주제 <238>어기에 의해 감시될 수 있다. 이러한 접근법에 있어서, 주제어기는 예를 들어 각 모터 제어기들에 의해 전달되는 주기적인 상태 메시지들의 존재를 감시한다.유사하게, 주제어기에서의 치명적인 통신 네트워크 고장은 박동 감시(heartbeat monitoring)를 통해 모터 제어 <239>기에 의해 탐지될 수 있다. 이와 같은 경우에 있어서, 모터 제어기들은 예를 들어 주제어기로부터의 주기적인궤적 프레임들(trajectory frames)의 발생을 감시한다.변화 탐지 방법들 <240>상술한 결함 진단 방법들은, 로봇의 다양한 물리적 특성들, 몇 가지를 열거하면 에너지 손실, 모터 토크, 잔류 <241>토크값, 추종 에러들, 벨트 장력과 최대 진동 주파수들과 같은 특성들의 감시를 수반한다. 이러한 특성들의 감시는 특정 문턱값과 이러한 특성들을 비교하는 것과, 특성들이 문턱값을 초과하거나 문턱값 밑으로 떨어지는 경우 결함을 신호로 알리는 것을 수반한다. 이와 같은 기술은 통계적 품질 제어(statistical quality control)에사용되며, 관리도(control chart)라고도 불린다. 관리도를 위한 몇 가지 통계적 기법이 개발되었으며, 이러한방법들은 상태 감시에도 적용될 수 있다.관리도의 사용을 위해 기초적인 요구 조건들이 충족되어야 한다. 첫 번째는 알려진 통계 분산 모델(statistical <242>distribution model)을 가지고 상기 정의된 물리적 특성들의 관점에서의 성능 평가 기준(performance metric)의 정의이다. 두 번째는 성능 평가 기준에서의 변화가 예측될 수 있는 확신도의 수준(확신 계수(confidencecoefficient)로도 불림)으로부터 추출되는 문턱값의 정의이다. 평가 기준의 변동은 감시되어 문턱값과비교된다. 사용되는 평가 기준에 따라 관리도는 여러 가지 유형으로 분류된다. 슈하르츠 관리도(shewhartcontrol chart)는 최종 관측을 성능 평가 기준으로 사용한다. 99.7%의 확신 계수를 위해 상한 제어 한계와 하한제어 한계가 (μ+3σ) 및 (μ-3σ)로 선택된다. 여기에서 μ는 예측 평균값이고, σ는 예측 표준 편차이다. 슈하르츠 관리도는, 물리적 특성들, 몇 가지 열거하면 모터 토크의 순간적인 스파이크(spike)나 추종 에러 또는동력 소모와 같은 특성들 값의 갑작스런 변화의 탐지를 위해 이상적이다. 한편, 지수 가중 이동 평균(exponentially weighted moving average; EWMA)이 물리적 특성들, 몇 가지를 열거하면, 에너지 손실, 벨트 장력과 같은 특성들 값의 느린 흐름을 탐지하기 위해 평가 기준으로 사용된다. EWMA는 하기 수학식 7로 정의된다.- 32 -공개특허 10-2008-0055789수학식 7<243>여기에서 Xi 는 반복값 i 와 0≤λ≤1에서의 측정값이고, EWMA0는 감시 단계의 시작에서의 추정 평균값이다. <244>EWMA의 표준 편차(standard deviation)는 에 의해 주어지고, 여기에서 σ는 감시되는 특성의 추정 표준 <245>편차이다.대부분의 결함들은 서로 강하게 연관되는 둘 이상의 물리적 특성들의 값의 변화에 의한 특징을 갖는다. 이와 같 <246>은 경우, 갑작스런 변화들을 탐지하기 위해 호텔링의 T 제곱 통계량(Hotelling's T-square statistic)이 성능평가 기준으로 사용될 것이다. 다변량 구조(multivariate framework)에서의 느린 흐름(slow drift)을 탐지하기위해 다변량 EWMA 관리도(multivariate EWMA charts)가 사용될 것이다. 이러한 두 가지 방법들 모두는 명목값으로부터의 편차의 제곱의 측정값인 단일 스칼라량(single scalar quantity)을 산출하며, 다변량 구조에서의 변수들 사이의 공분산(covariance)을 설명한다.정상 거동의 기준잡기 <247>변화 탐지 알고리즘들은 감시되는 물리적 특성들의 기준 추정치들(baseline estimates)의 존재를 가정한다. 기 <248>준 추정치는 특정한 운동 시퀀스 동안에 손실된 에너지의 평균값이다. 기준잡기(baselining)는 결함 탐지에 있어서 중요한 단계이며, 물리적 특성들의 추정치를 구하기 위해서 데이터 수집과 처리를 수반할 것이다. 데이터수집은 정상 작동 상태 하에서 수행될 것인데, 정상 작동 상태는 로봇이 아무런 결함을 가지지 않을 때의 상태를 말한다. 데이터 수집은 동일한 작동 조건 하에서 구해지는 몇 가지 반복되는 측정치들에 대한 평균화를 수반한다. 측정치는 특정한 동작 동안에 손실된 전체 에너지나, 추종 에러의 최대 절대값이나, 모터 토크의 최대 절대값이나, 특정한 작동 중에 규칙적인 간격으로 측정되는 모터 토크 값들과 같은 일련의 값들과 같은 단일한 값(single value)일 수 있다. 측정된 값은 데이터가 수집된 조건에 대한 사양(specification)과 함께 데이터베이스에 저장될 것이다. 데이터 처리는 몇 가지 형태들 중의 한 형태를 취할 수 있다. 하나의 형태는 시스템 식별인데, 이는 시스템의 <249>해석적인 모델을 포함하는 일군의 기초 매개 변수들의 추정을 수반한다. 다른 형태는 전체 시스템을 모델로 만들거나 해석적인 모델을 갖지 않는 특정 비선형적인 효과만을 모델로 만드는 신경망 모델의 형성이다.데이터 정규화와 추세 제거(trend cancellation)는 필요한 다른 형태의 데이터 처리이다. 변화 탐지를 위해 관 <250>리도를 적용하기 위해서는, 감시되는 평가 기준이 정상 작동 상태 하에서 일정한 명목값을 가질 필요가 있다.그러나 사실상 감시되는 물리량은 정상 작동 하에서도 점진적인 임시적 흐름을 나타낸다. 하나의 예는, 시간의함수로 점진적인 하향 추세를 나타내는, 관측되는 에너지 손실이다. 이러한 물리량을 관리도에 효과적으로 사용하기 위해서는, 추세가 모델로 만들어져 관측된 데이터 내에서 제거되어야 한다. 이러한 목적에 적용될 수 있는확립된 시계열 분석(time series analysis) 기술이 존재한다. 장기간의 점진적인 추세를 모델화하기 위해 적용될 수 있는 하나의 방법은 홀트-윈터법(Holt-Winters methods)이나 이중지수 평활법(double exponentialsmoothing method)이다. 물리량들과 작동 속도 설정들과 같은 작동 조건들의 사이에 상관 관계가 존재한다면 데이터 정규화도 필수적이다.특정 HMFD 작동들 <251>본 상태 감시 및 결함 진단 시스템의 특정한 작동에 대해 설명될 것이다. 이러한 작동들은 네 가지의 구분되는 <252>범주들, 즉 상태 및 이력 정보, 연속적인 상태 감시, 요구형 상태 감시(on-demand health monitoring), 및 진단 기능들로 나누어질 수 있다. 상태 및 이력 정보(status and history information) <253>본 상태 감시 및 결함 진단 시스템은 일 주기의 시간에 걸쳐 발생하는 사용의 정도와 결함의 이력 정보를 사용 <254>자에게 제공한다. 이하는 시스템이 사용자에게 이용 가능하게 제공하는 물리량들의 목록이다. (a) 현재의 로봇서보 상태(current robot servo state): 이는 위치 피드백 서보가 각각의 모터에 대해 동작하는지를 가리킨다.모든 모터들의 피드백 서보가 동작한다면, 로봇은 \"서보-작동\"(servo-active) 상태에 있고, 그렇지 않다면, 로봇은 \"서보-비작동\"(servo-inactive) 상태에 있다. (b) 로봇 서보 작동 상태의 전체 지속시간: 이는, 로봇이 처- 33 -공개특허 10-2008-0055789음 작동하였을 때부터 로봇이 서보-작동 상태에 존재하는, 일(day), 시간(hour), 분, 및 초의 시간의 전체적인지속 시간을 말한다. (c) 현재 서보-작동 세션의 지속: 이는 현재의 서보-작동 세션의 일(day), 시간(hour),분, 및 초의 지속을 말한다. 로봇이 현재 서보-작동 상태에 있지 않다면, 이러한 물리량은 최종 서보-작동 세션의 지속을 지칭한다. (d) 로봇 운동의 지속: 이는 로봇이 정상 동작의 일부로서 운동하는 지속 시간을 말한다.(e) 운동 오차들의 개수: 이는 오차 조건으로 인하여 로봇 서보 상태가 작동(active)에서 비작동(inactive)으로변화하는 시점들의 개수를 말한다. (f) 오차들 사이의 평균 운동 지속: 이는 연속적인 운동 오차들 사이의 지속시간의 평균값을 말한다. (g) 모터 총 작동(마일리지; mileage): 이는 각 모터가 운동한 각도나 mm의 단위의 거리를 말한다. (h) 기판 획득/배출 작동들의 횟수: 이는 로봇이 얼마나 많은 수거/투입(pick/ place) 작동들을수행하였는지를 나타낸다.표 4에서 발견될 수 있는 상태 및 이력 데이터의 요약 <255>[이력 및 상태 정보] <256>표 4<257>- 34 -공개특허 10-2008-0055789<258><259>본 상태 감시 시스템은 또한 에러의 발생 시간과 날짜와, 에러의 이후에 실행된 진단 방법들의 결과를 포함하는 <260>에러 기록을 제공할 수 있다. 에러를 보고하고 기록하는 것에 관한 더 많은 정보들이 이하에서 제공된다.에러 보고: 정상적인 작동을 중단시키는 하드웨어 또는 소프트웨어 에러가 발생하는 경우, 감시 시스템은 사용 <261>자에게 에러를 보고한다. 각각의 에러 보고는 다음의 정보, 즉 에러의 주된 발생원과, 대응하는 에러 코드와,- 35 -공개특허 10-2008-0055789에러의 설명을 포함한다. 적용 가능하다면, 정보는 에러의 2차적인 발생원과, 대응하는 에러 코드와, 에러의 설명을 포함할 수 있다.진단 정보의 기록(logging) <262>모든 시스템 동작들의 정보와, 시스템 상태 및 시스템 에러들의 변화가 파일에 기록된다. 이러한 파일의 입력 <263>포맷은 설정 가능하며, 이하의 정보, 즉 발생 시간(time of origination)과, 발생원과, 설명을 포함할 수 있다.기록(logging)은 다음과 같은 방식으로 더 구성될 수 있다. 즉 발생원이 목록으로부터 선택될 수 있고, 발생원으로부터의 정보의 다변도(verbosity)의 수준이 설정될 수 있고, 발생원을 분류(grouping)하고, 각각의 발생원을 위한 목적 파일을 설정할 수 있다.연속적인 상태 진단 <264>로봇과 기계 내의 기타 장치들의 연속적인 상태 진단이 정상 작동 중의 측정 가능한 신호들의 일부 또는 전부를 <265>측정함으로써 수행된다. 측정과 분석 기능은 연속적으로 또는 주기적으로 발생할 수 있으나, 항상 정상 작동과병렬적으로 발생한다. 연속적인 감시의 목적은 상태 악화의 징후를 탐지하고, 이러한 악화를 야기할 수 있는 하부 요소들을 지정하는 데 있다. 그러나 이러한 기능들은 문제점의 특정 원인을 지적하지는 않는다. 로봇/얼라이너의 전체 상태에 기초한 에너지 손실 <266>이 방법은 로봇 상태의 악화를 탐지하기 위해 에너지 손실의 이용을 수반한다. 중요한 원리는 로봇 상태의 악화 <267>는 로봇 작동 효율의 감소를 가져오며, 그로 인해 에너지 손실을 가져온다.목적(purpose) <268>에너지 손실 감시의 목적은 에너지 효율의 감소를 일으키는 로봇에서의 결함의 개시를 탐지하기 위함이다. <269>개요(overview) <270>특정한 운동 시퀀스 동안에 손실되는 에너지는 전체 로봇을 위해서뿐만 아니라 로봇 내의 각각의 조인트들을 위 <271>해 계산된다. 이와 같이 계산된 손실은 정상 로봇에 관한 에너지 손실과 비교된다. 에너지 손실의 증가는 로봇상태의 악화를 나타낸다. 이러한 방법은 로봇의 에너지 효율의 감소를 일으키는 결함의 개시를 탐지하는 데 이상적이다.계층적 수준(hierarchical level) <272>이 방법은 전체 운동을 제어하는 주제어기 내에서 구현될 수 있다. 각각의 모터 제어기들은 각각의 모터들의 권 <273>선 전류와, 전압 및 속도에 관한 데이터를 주제어기에 전달할 수 있다. 데이터 수집, 전처리, 분석 및 추론 동작들은 주제어기 내에서 수행될 수 있다.단계들의 순서(sequence of steps) <274>(a) 관리기(manager)는 데이터 수집기(data collector)가 에너지 손실을 계산하기 위해 필요한 데이터의 기록을 <275>시작하거나 종료하도록 신호를 준다. 데이터 수집의 시작과 종료는 로봇이 완전히 정지할 때의 단계와 일치할필요가 있다. 로봇은 기판을 수거하거나 투입할 때 완전히 정지한다. (b) 데이터 수집 층(data collection layer)은 모터 전압과, 모터 전류와, 모터 속도와, 모터 위치와, 시스템 <276>내의 각 모터들을 위해 모터에 명령 내려진 가속도를 기록한다. 나아가, 데이터 수집 층은 또한 각각의 데이터집합에 관한 시간을 기록한다.(c) 전처리 층은(pre-processing layer)은 상기 적분 에너지 방정식을 이용하여 각 모터들에서의 에너지 손실을 <277>계산한다. 전처리 층은 상술한 하나 이상의 방법들에 기초한 모델을 이용하여 에너지 손실의 기준값을계산한다. 전처리 층은 두 가지 유형의 감시 평가 기준들(monitoring metrics), 즉 계산된 값과 기준값의 사이의 차이점과, 차이의 지수 가중 이동 평균(exponentially weighted moving average)을 계산한다. 전처리 층은또한 확신 계수(confidence coefficient)에 기초하여 상부 문턱값들을 계산한다.(d) 분석 층(analysis layer)은 운동 시퀀스들의 각각에 관한 평가 기준들을 감시한다. 분석 층은 감시되는 평 <278>가 기준들이 대응하는 미리 정해진 상부 문턱값들을 초과하는지를 탐지한다.(e) 추론 층(reasoning layer)은 복수 개의 운동 시퀀스들을 위한 개별적인 모터 에너지 손실 정보를 이용하고, <279>문제점을 갖는 로봇의 하부 구성 요소(sub-component)를 식별한다.- 36 -공개특허 10-2008-0055789(f) 문제점이 발견되면, 관리기는 문제점의 원인을 좁히기 위해 심화된 진단 작업들을 개시한다. <280>설정 데이터(configuration data) <281>(a) 에너지 손실이 계산되는 작동들의 시퀀스들의 시작점 및 종료점이 계산된다. <282>(b) 상술한 동작들의 시퀀스에 대한 에너지 손실을 위한 기준값이나, 명목 토크(nominal torque)의 계산을 가능 <283>하게 하는 모델 매개 변수들의 집합.(c) 이동 평균의 샘플(moving average sample)의 크기(EWMA를 이용하면 불필요하다). <284>(d) 문턱값들을 계산하는 데 사용되는 확신 계수(confidence coefficients). <285>(e) 데이터 수집 비율 - 작동 순간마다의 데이터 지점의 개수 <286>고장 모드들(failure modes) <287>에너지 손실의 감시는 다음 결함들, 즉 부정확한 모터 위상각, 인코더와 모터 로터의 사이의 상대적인 운동, 모 <288>터 자석의 약화(붕괴), 높은 연결 저항, 베어링 고착, 베어링들의 헛돌기, 볼 스크류 고착, 벨트 마찰(beltrubbing), 및 완전히 해제되지 않는 브레이크의 개시의 탐지를 가능하게 한다. 토크/전류 잔류값(residual)에 기초한 로봇/얼라이너의 전체 상태 <289>이 접근법은 모터 잔류 토크값과 모터 잔류 전류값의 감시를 수반한다. 잔류값의 큰 변화는 로봇의 전체적인 상 <290>태의 악화를 나타낸다. 상술한 정지된 경우를 제외하고는 모터 토크들이 쉽게 측정 가능하지 않으므로, 모터 토크는 모터 권선 전류 및 모터 토크 모델로부터 추정될 필요가 있다. 그 결과, 모터 모델의 토크-전류 관계에서의 변화는 추정 잔류 토크값에 영향을 가질 것이다. 목적 <291>이 방법은 모터들의 회전에 대한 저항의 증가를 가져오는 결함들을 탐지하는 데 적합하다. 나아가, 모터 토크가 <292>모터 전류로부터 추정된다면, 모터 토크 용량의 감소를 가져오는 결함들도 탐지될 것이다.개요 <293>이 방법은 일군의 저장된 모터 전류 데이터가 존재하는 것과 현재 또는 과거의 로봇 상태에 기초하여 모터 전류 <294>를 예측할 수 있는 이용 가능한 로봇 동역학 모델이 존재하는 것을 가정한다. 그러므로 예측된 전류는 전류 잔류값을 얻기 위해 개별적인 모터들에서 측정된 전류와 비교된다. 잔류값은 시간에 걸쳐 감시되고, 잔류값의 심한 변동은 결함의 개시를 나타낸다. 전류 잔류값의 변화는 다음과 같은 두 가지 원인의 결과일 수 있다. 잔류값의 변화는 위상각, 소자(demagnetization), 또는 정렬 불량과 같은 모터의 물리적 특징들의 변화를 반영한다.또한 잔류값의 변화는 모터로부터의 높은 토크 출력을 필요로 하는 모터 회전에 대한 외부 저항의 변화를 반영할 수 있다. 잔류 토크값에 부가하여, 전체 이동 시퀀스에 걸쳐 잔류 토크값의 적분치(integral)가 또한 감시된다.계층적 수준(hierarchical level) <295>이 방법은 전체 운동을 제어하는 주제어기 내에서 구현될 수 있다. 각각의 모터 제어기들은 각각의 모터들의 권 <296>선 전류와, 전압 및 속도에 관한 데이터를 주제어기에 전달할 수 있다. 데이터 수집, 전처리, 분석 및 추론 동작들은 주제어기 내에서 수행될 수 있다.단계들의 순서(sequence of steps) <297>(a) 관리기(manager)는 각각의 모터를 위한 데이터 수집기(data collector)의 시작과 종료의 신호를 준다. 원격 <298>제어기로부터의 스트리밍 데이터(streaming data)를 위한 한정된 대역폭만이 존재한다면, 데이터 수집은 한 번에 하나의 모터에 대해 수행될 수 있다. 데이터 수집은 또한 특정하게 미리 정해진 모터 위치나 이동 시퀀스들에서 시작될 수 있다. 데이터 수집의 지속은 로봇 상태에 따라 변동될 수 있다. (b) 데이터 수집 층(data collection layer)은 모터 전류를 기록하고, 또한 동역학 모델이 사용된다면 위치와, <299>속도와, 가속도를 기록할 수도 있다. (c) 동역학 모델이 사용된다면, 전처리 층은(pre-processing layer)은 모델에 기초한 토크를 계산한다. 토크 데 <300>이터가 특정 모터 위치에서 수집되면, 전처리 층은 감시 평가 기준으로서 잔류 토크값을 계산할 것이다. 한편,- 37 -공개특허 10-2008-0055789토크 데이터가 전체 운동 시퀀스에 대하여 수집되면, 전처리 층은 감시 평가 기준으로서 운동 시퀀스에 대한 토크 잉여의 절대값의 적분치를 계산할 것이다. 또한 전처리 층은 부가적인 감시 평가 기준으로서 상술한 각각의이동 평균을 계산할 것이다. 나아가, 전처리 층은 상술한 각각의 평가 기준들에 관한 문턱값 한계치들을 계산할것이다. 전처리 층은 또한 원시 토크 데이터의 영역들에서 신속한 푸리에 변환(Fourier transformation)을 수행할 것이다.(d) 분석 층(analysis layer)은 상기 정의된 평가 기준들을 감시하여, 문턱값 한계치들을 넘는 평가 기준들의 <301>편차들을 탐지한다. 또한 분석 층은 주파수 스펙트럼 내의 정점들(peaks)의 천이의 출현을 감시한다. (e) 추론 층(reasoning layer)은 다른 시간에 다른 모터들의 데이터를 평가하고, 결함이 있는 로봇의 하부 구성 <302>요소들을 식별한다. 또한 추론 층은 이상(abnormality)이 최대로 관측되는 로봇의 위치를 식별한다. (f) 관리기는 특정한 진단 방법들을 시작하기 위해 추론 층으로부터의 정보를 이용한다. <303>설정 데이터(configuration data) <304>(a) 로봇 운동 시퀀스, 각 모터의 데이터 수집을 위한 시작 지점 및 종료 지점. 각각의 모터를 위한 복수 개의 <305>시작 지점들과 종료 지점들이 존재할 수 있다.(b) 문턱값 계산을 위한 확신 계수(confidence coefficients) <306>(c) 이동 평균의 샘플(moving average sample)의 크기 <307>(d) 데이터 수집 비율 - 작동 순간마다의 데이터 지점의 개수 <308>(e) 정상 로봇으로부터의 측정치들에 기초한 토크 기준값이나, 명목 토크의 계산을 가능하게 하는 매개 변수들 <309>의 집합고장 모드들(failure modes) <310>모터 토크 및 전류의 감시는 다음 결함들, 즉 부정확한 모터 위상각, 인코더와 모터 로터의 사이의 상대적인 운 <311>동, 모터 권선들과 하우징의 사이의 상대적인 운동, 모터 자석의 붕괴(disintegration), 높은 연결 저항, 베어링 고착, 볼 스크류 고착, 벨트 마찰(belt rubbing), 및 브레이크 저항, 등의 개시의 탐지를 가능하게 한다. 동력 소모에 기초한 로봇/얼라이너의 전체 상태 <312>상술한 모터 토크의 감시 및 분석과 유사한 방식으로 동력 소모가 감시되고 분석될 수 있다. 토크 감시에 비교 <313>한 동력 소모 감시의 장점은 소모되는 동력은 일반적으로 결함이 존재할 때에만 증가한다는 점이다. 이러한 동력 소모의 특성이 결함 탐지의 문턱값들의 적용을 단순화한다.추종 에러들에 기초한 로봇/얼라이너의 전체 상태 <314>이 접근법은 추종 에러들의 감시를 수반한다. 정상적인 추종 에러보다 높은 에러는 문제점의 존재를 나타낸다. <315>목적(purpose) <316>이 접근법은 각각의 모터들의 회전에 대한 저항의 증가를 가져오는 결함들과 서보 불안정을 가져오는 결함들을 <317>탐지하는 데 적합하다.개요(overview) <318>추종 에러는 요구되는 모터 위치와 실제 위치의 사이의 차이점이다. 높은 추종 에러의 수준은 하나 또는 많은 <319>결함 조건들로 인해 모터의 움직임에 대한 정상 저항보다 큰 저항을 모터가 경험하고 있음을 나타낸다. 나아가,추종 에러의 큰 진동은 하나 또는 많은 결함 조건들 때문에 발생하는 서보 루프의 불안정함을 나타낸다. 계층적 수준(hierarchical level) <320>이 방법은 로봇 운동을 제어하는 주제어기 내에서 구현될 수 있다. 각각의 모터 제어기들은 요구되는 위치와, <321>실제 위치와, 각각의 모터들의 속도를 주제어기에 전달할 것이다. 데이터 수집, 전처리, 분석 및 추론 동작들은주제어기 내에서 수행될 것이다.단계들의 순서(sequence of steps) <322>(a) 관리기(manager)는 각각의 모터를 위한 데이터 수집기(data collector)의 시작과 종료의 신호를 준다. 원격 <323>- 38 -공개특허 10-2008-0055789제어기들로부터의 스트리밍 데이터(streaming data)를 위한 한정된 대역폭만이 존재한다면, 데이터 수집은 한번에 하나의 모터에 대해 수행될 수 있다. 데이터 수집은 또한 특정하게 미리 정해진 모터 위치나 이동 시퀀스들에서 시작될 수 있다. 데이터 수집의 지속은 로봇 상태에 따라 변동될 수 있다. (b) 데이터 수집 층(data collection layer)은 각각의 모터를 위한 요구되는 위치와 실제 위치를 기록한다. <324>(c) 전처리 층은(pre-processing layer)은 추종 에러에 기초하여 몇 가지 감시 평가 기준들을 계산한다. 미리 <325>정해진 특정한 모터 위치들에서 데이터가 수집되면, 정점의 추종 에러의 절대값이 감시 평가 기준으로기능한다. 한편, 미리 정해진 특정한 시퀀스들의 길이에 걸쳐 데이터가 수집되면, 추종 에러의 제곱값의 적분치가 감시 평가 기준으로 기능한다. 나아가, 전처리 층은 또한 원시 추종 에러 영역들에서 신속한 푸리에 변환(Fourier transformation)을 수행한다.(d) 분석 층(analysis layer)은 최대 추종 에러의 양과, 추종 에러의 제곱값의 적분치에서의 전체적인 증가를 <326>탐지하고, 이들을 문턱값들과 비교한다. 또한 분석 층은 추종 에러 신호 내의 새로운 우세 주파수 요소들(dominant frequency components)을 탐지한다. (e) 추론 층(reasoning layer)은 데이터 집합의 복수 개의 객체들에 관한 분석 결과들을 이용하고, 로봇 특성의 <327>변화를 확인한다. 또한 추론 층은 추종 에러에 이상(abnormality)이 존재하는 로봇 위치들과 속도를 관리기에보고한다.(f) 관리기는 특정한 진단 방법들을 시작하기 위해 추론 층으로부터의 정보를 이용한다. <328>설정 데이터(configuration data) <329>(a) 각각의 모터의 데이터 수집을 위한 시작 지점들과 종료 지점들과 운동 시퀀스들. 각각의 모터를 위한 복수 <330>개의 시작 지점들과 종료 지점들이 존재할 수 있다.(b) 추종 에러에 관한 문턱값 수준, 각각의 모터와 각각의 운동 시퀀스에 관한 추종 에러의 제곱의 적분치에 관 <331>한 문턱값.(c) FFT 분석을 위한 샘플 크기 <332>(d) 데이터 수집 비율 - 작동 순간마다의 데이터 지점의 개수 <333>고장 모드들(failure modes) <334>추종 에러의 감시는 다음 결함들, 즉 부정확한 모터 위상각, 인코더와 모터 로터의 사이의 상대적인 운동, 모터 <335>권선들과 하우징의 사이의 상대적인 운동, 모터 자석들의 붕괴(disintegration), 베어링 고착, 볼 스크류 고착,벨트 마찰(belt rubbing), 및 브레이크 저항, 등의 개시의 탐지를 가능하게 한다. 로봇/얼라이너 모터 모델의 검증(robot/aligner motor model validity) <336>이 방법은 모터 모델에 대한 모터 전압, 전류, 위치, 및 속도의 일치성(conformance)의 감시를 수반한다. 모터 <337>모델 예측으로부터의 어떠한 편차는 모터의 하나 또는 많은 물리적 특징들에서의 변화를 가져오는 결함들을 가리킨다.목적(purpose) <338>이 접근법의 목적은 모터의 하나 또는 많은 물리적 특징들에서의 변화를 가져올 수 있는 결함들을 탐지하는 데 <339>있다.개요(overview) <340>모터 모델은 자계 강도(field strength)와, 권선 전류와, 유도계수(inductance)와 자계 간극 폭(field gap <341>width)과 같은 물리적 특성들을 모터 전류, 모터 전압, 위치, 및 속도와 같은 특성들과 연관시킨다. 정지 상태에 있는 모터 모델을 정의하는 방정식은 상세하게 상술되었다. 동적인 조건 하에서 입력 전압은 모터 속도에 비례하는 역기전력(back emf)을 극복해야 할 것이다. 결함은 물리적 특성들의 어느 하나에서의 변화를 가져올 수있다. 상기 특성들의 모터 모델에 대한 일치성의 감시는 물리적 특성들의 변화의 탐지를 가능하게 한다.계층적 수준(hierarchical level) <342>이 방법은 로봇 운동을 제어하는 주제어기 내에서 구현될 수 있다. 각각의 모터 제어기들은 각각의 모터들의 위 <343>- 39 -공개특허 10-2008-0055789치와, 속도와, 전류와 전압에 관한 데이터를 주제어기에 전달할 것이다. 데이터 수집, 전처리, 분석 및 추론 동작들은 주제어기 내에서 수행될 것이다.단계들의 순서(sequence of steps) <344>(a) 관리기(manager)는 각각의 모터를 위한 데이터 수집의 시작과 종료의 신호를 준다. 원격 제어기들로부터의 <345>스트리밍 데이터(streaming data)를 위한 한정된 대역폭만이 존재한다면, 데이터 수집은 한 번에 하나의 모터에대해 수행될 수 있다. 데이터 수집은 또한 미리 정해진 특정한 모터 위치나 이동 시퀀스들에서 시작될 수 있다.데이터 수집의 지속 시간과 주파수는 로봇 상태에 따라 변동될 수 있다. (b) 데이터 수집 층(data collection layer)은 모터 전압과, 모터 전류와, 모터 속도와, 모터 위치를 기록한다. <346>(c) 전처리 층은(pre-processing layer)은 기록된 전압과 전류에 기초하여 모델화된 전류를 계산하고, 실제 전 <347>류와 모델화된 전류의 사이의 차이로서 잔류값을 계산하고, 최대 변동값을 결정한다. (d) 분석 층(analysis layer)은 최대 변동값을 허용 가능한 문턱값과 비교한다. <348>(e) 추론 층(reasoning layer)은 데이터 집합의 복수 개의 객체들에 관한 분석 결과들을 이용하고, 로봇 특성의 <349>변화를 확인한다. 또한 추론 층은 변동값에 이상(abnormality)이 존재하는 로봇 위치들과 속도를 관리기에 보고한다.설정 데이터(configuration data) <350>(a) 저항과 유도계수와 역기전력 상수를 포함하는 모터 특성들 <351>(b) 잔류값을 위한 허용 가능한 범위 <352>고장 모드들(failure modes) <353>모터와 케이블과 모터 구동 회로의 전기적 특성들의 변화(커넥터 문제로 인한 저항 증가와 같은 문제)와, 모터 <354>의 자기적 특성의 변화(약해진 자석은 역기전력 상수에 영향을 미친다)와, 부정확한 버스 전압(모터 전압은 명령을 받은 PWM의 단위로 측정되기가 가장 쉽기 때문임)과, 인코더 또는 모터 코일 하우징의 슬립(slipping).로봇/얼라이너 인코더 데이터의 데이터 무결성(data integrity) - 증가형 인코더 <355>목적(purpose) <356>이 방법의 목적은 인코더 내의 위치 독출 메커니즘의 문제를 식별하는 데 있다. <357>개요(overview) <358>인코더는 증가형(incremental)과 절대치형(absolute)의 두 가지 유형이 있고, 결함 진단을 위함 메커니즘은 인 <359>코더의 유형에 따른다.증가형 인코더에 있어서, 위치는 독출 헤드(read head)를 통과하는 인코더의 카운터 개수를 계수함으로써 측정 <360>된다. 어떤 이유로든 빠트린 카운트가 있다면, 보고된 위치는 부정확할 것이다. 증가형 인코더들은 매 회전마다한 번 발생하는 인덱스 펄스(index pulse)를 갖는다. 제어기는 각 인덱스 펄스의 도착을 읽어 증가하는 위치(incremental position)를 기록한다. 빠트린 카운트가 없다면, 어떤 두 개의 인덱스 펄스들에서의 위치의 수치는 인코더 회전 당 증가하는 카운트(incremental counts)의 개수의 정수 배가 될 것이다. 사실상 몇 개의 놓치는 카운트는 어쩔 수 없으며, 놓친 카운트의 개수가 문턱값의 수준을 넘는다면 경고가 기록된다.계층적 수준(hierarchical level) <361>이 방법은 원격 모터 제어기들에서 가장 잘 구현된다. <362>단계들의 순서(sequence of steps) <363>도 10의 순서도를 참조하시오. <364>(a) 관리기는 인덱스 펄스가 독출되는 이벤트(event)를 발생시키기 위한 메커니즘을 설정한다. <365>(b) 이벤트가 발생되면, 데이터 수집 층(data collection layer)이 증가형 위치를 기록한다. <366>(c) 분석 층은 연속된 인덱스 펄스들에서의 위치들의 차이를 계산하고, 차이가 매 회전의 증가하는 복수 개의 <367>- 40 -공개특허 10-2008-0055789카운트 개수의 공차 범위에 있는지를 결정한다.(d) 추론 층은 인코더 결함의 발생을 보고한다. <368>설정 데이터(configuration data) <369>(a) 빠트린 인코더 개수들에 관한 공차. <370>고장 모드들(failure modes) <371>빠트린 카운트들은 인코더 디스크 상의 먼지가 인코더들이 정확하게 독출되는 것을 방해할 때 보고된다. <372>로봇/얼라이너 인코더 데이터의 데이터 무결성(data integrity) - 절대치형 인코더 <373>목적(purpose) <374>이 방법의 목적은 절대치형 인코더 내의 위치 독출 메커니즘의 문제를 식별하는 데 있다. <375>개요(overview) <376>인코더는 증가형(incremental)과 절대치형(absolute)의 두 가지 유형이 있고, 결함 진단을 위함 메커니즘은 인 <377>코더의 유형에 따른다.절대치형 인코더에 있어서, 절대 위치(absolute position)는 초기화할 때 또는 강제적인 절대 위치 독출 명령에 <378>대한 응답으로 독출된다. 인코더는 절대 위치를 읽고, 그 이후에 증가형 인코더와 유사한 방식으로 실제 위치를증가시킨다. 인코더의 결함이 존재하지 않는다면, 정지한 인코더에 대해 인코더를 갱신하여 얻은 위치는 독출된강제 절대 위치(forced absolute position)에 의해 얻은 위치와 일치하여야 한다.단계들의 순서(sequence of steps) <379>도 11a 및 도 11b의 순서도를 참조하시오. <380>(a) 관리기는 규칙적인 간격으로 절대 위치를 읽기 위한 메커니즘을 설정할 것이고, 절대 위치가 독출되기 전과 <381>후에 실제 위치를 독출한다. (b) 분석 층은 두 개의 실제 위치들의 사이의 차이를 계산한다. 분석 층은 실제 위치들에서의 차이가 공차보다 <382>작은 경우 엔코더가 정지하고 있는지를 검사한다. (c) 인코더가 정지하고 있다면, 분석 층은 절대 위치와 실제 위치들의 평균값의 사이의 차이를 계산한다. <383>(d) 추론 층은 인코더 결함의 발생을 보고한다. <384>계층적 수준(hierarchical level) <385>이 방법은 주제어기나 원격 모터 제어기들에서 구현될 수 있다. <386>설정 데이터(configuration data) <387>(a) 정지 상태에 관한 공차. <388>(b) 에러 상태에 관한 공차. <389>고장 모드들(failure modes) <390>절대치형 인코더의 에러들은 인코더 디스크 상의 먼지뿐만 아니라 소프트웨어 또는 하드웨어의 기능 이상으로 <391>인해 발생한다.연속적인 벨트 장력 감시 <392>아암들을 구동하는 벨트들의 장력은 (벨트 장력 조절기의) 아이들러 풀리들(idler pulleys)에 장착되는 힘 센서 <393>들을 이용하여 벨트 장력을 직접 측정함으로써 연속적으로 감시될 수 있다. 벨트 장력의 심한 저하나 증가는 잠재적인 문제로 보고된다.구조적인 진동의 감시 <394>구조적인 진동의 감시는 결함들의 개시를 탐지하는 데 도움이 된다. 구조적인 진동은 가속도계들이나 스트레인 <395>게이지들(strain gauges)을 통해 직접 감시되거나, 음향 신호들을 통해 간접적으로 감시될 수 있다. 음향 신호- 41 -공개특허 10-2008-0055789들과 구조적 진동 신호들에서의 파워 스펙트럼에서의 심한 변화들을 탐지함으로써 임박한 결함들이 예측될 수있다. 파워 스펙트럼 내의 변화는 정점(peak)의 크기의 변화나 정점 주파수(peak frequency)의 천이의 형태일수 있다. 음향 에너지는 로봇의 다양한 지점들에 배치되는 마이크로폰을 이용하여 측정될 수 있다. 구조적인 진동은 로봇의 다양한 지점들에 가속도계들을 설치함으로써 측정될 수 있다. 다음과 유형의 결함들, 즉 벨트 장력의 증가 또는 감소, 느슨해진 체결구들(fasteners), 베어링 마찰 또는 운동하는 구성 요소의 간섭의 증가가 이와 같은 방법을 이용하여 분석될 수 있다.열 발산의 감시 <396>열 발산은 에너지 손실의 다른 형태이다. 로봇의 여러 가지 지점에서의 열 발산의 양은 임박한 결함들을 예측하 <397>는 데 사용될 수 있다. 운동하는 구성 요소들의 사이의 높은 마찰을 가져오는 어떠한 결함은 높은 수준의 열 발산을 가져온다. 나아가, 모터들과 솔레노이드 스위치들에서의 높은 전류 수준들은 높은 열 발산을 가져온다.열 발산은 로봇의 여러 가지 구성 요소들의 온도 상승을 측정함으로써 감시될 수 있다. 온도의 증가는 로봇의 <398>전략적 지점들을 향하는 적외선 센서들에 의하거나, 모터들 내부의 온도 측정 센서들을 통해 측정될 수 있다.열 발산 감시는 주제어기에 의해 수행된다. 다음은 수반되는 단계들이다. <399>(a) 데이터 수집 층은 일 주기의 시간에 걸쳐 로봇의 여러 가지 지점에서의 온도를 기록한다. <400>(b) 분석 층은 온도를 문턱값과 비교한다. <401>(c) 문턱값이 초과되면, 추론 층은 그 구성 요소의 문제점을 보고한다. <402>(d) 관리기는 문제점의 원인을 결정하기 위해 심화된 시험을 지시한다. <403>다음과 같은 유형의 결함들, 모터 자석들의 붕괴(disintegration), 부정확한 모터 위상 각도, 고정자(stator)의 <404>정렬 불량, 및 베어링 마찰과 브레이크 저항의 증가는, 열 발산을 감시함으로써 탐지될 수 있다.냉각팬들의 감시 <405>모터들과 전자 장치들에 발생된 열을 제거하기 위해 냉각팬들이 종종 이용된다. 냉각이 이루어지는 모터들과 전 <406>자 장치들의 에너지 손실과, 모터 및 전자 장치들의 온도의 사이에는 관계성이 있으므로, 냉각이 이루어지는 모터들 및 전자 장치들의 온도를 통해 냉각팬들의 상태와 공기 통로가 감시될 수 있다.초과 이동(over-travel) 스위치들에 대한 로봇/얼라이너의 감시 <407>목적(purpose) <408>목적은 소프트웨어 기능 불량이나, 위치 피드백의 문제나, 모터 증폭기 문제나, 인코더나 벨트 미끄러짐 <409>(slippage)과 같은 기계적인 고장으로부터 기인할 수 있는 초과 이동을 탐지하는 데 있다.개요(overview) <410>초과 이동 스위치들은 로봇 축이 초과 이동 스위치의 미리 정해진 한계를 넘어 이동할 때에 작동되는 기계적 또 <411>는 광학적 센서들이다. 이러한 센서들의 상태의 변화는 로봇 제어기에 의해 즉시 탐지되고, 그 이후에 필요한후속 단계들이 취해진다.계층적 수준(hierarchical level) <412>이러한 진단 루틴(routine)은 로봇 제어기 내에 또는 주제어기 PC 내에 존재할 수 있다. <413>단계들의 순서(sequence of steps) <414>초과 이동 상태가 탐지되면 다음 단계들이 발생된다. <415>(a) 관리기(manager)는 로봇과 관련된 모든 운동 축들을 불능화한다. <416>(b) 관리기는 브레이크가 설치된 모든 축들을 정지시킨다. <417>(c) 관리기는 에러를 발생시키고, 경계를 침범한 축과 축의 위치를 식별한다. <418>설정 데이터(configuration data) <419>(a) 초과 이동 스위치들과 운동 축들의 연관성. <420>- 42 -공개특허 10-2008-0055789고장 모드들(failure modes) <421>탐지될 수 있는 고장 모드들은 다음과 같다. 작동 불량의 인코더들, 벨트 미끄러짐, 및 작동 불량의 <422>소프트웨어.로봇/얼라이너 그리퍼 및 진공 시스템 상태 <423>웨이퍼 그리퍼들의 작동은 진공 시스템에 의해 가능하게 된다. 진공 시스템의 문제는 파지(gripping) 동작을 감 <424>시함으로써 진단될 수 있다. 두 가지 유형의 진공에 기초한 웨이퍼 그리퍼들이 있는데, 즉 도 6의 표면 접촉식흡착 그리퍼(surface-contact suction gripper)와, 도 5의 가장자리 접촉식 진공 작동 그리퍼(edge-contactsuction gripper)이다. 두 가지 유형의 진공 문제점이 발생할 수 있는데, 진공 누설(vacuum leak) 및 진공 라인차단(vacuum line obstruction)이다. 진공 누설은 립 실(lip seal)의 마모나 찢어짐으로 인해 발생할 수 있다.진공 라인의 누설은 낮은 진공압을 가져오고(표면 접촉식 흡착 그리퍼의 경우에 있어서, 진공 밸브가 개방되고,기판이 엔드 이펙터 위에 존재할 때), 진공 센서(502, 502)의 수치의 강하를 통해 탐지될 수 있다. 나아가, 파지 동작은 파지 불능(no gripping)이나 파지 동작 시간의 증가를 가져온다. 진공 작동 가장자리 접촉식 그리퍼에 관해, 진공 작동 시간은 밸브(506, 606)가 개방되도록 명령을 받은 순간과, 위치 감지 표지(508)가 그리퍼의개방 상태를 탐지한 시간의 사이에서 측정된다. 표면 접촉식 흡착 그리퍼에 관해, 파지 동작 시간은 밸브가 개방되도록 명령을 받은 순간과, 진공 센서 수치가 허용 가능한 진공 수준에 도달한 시간의 사이에서 측정된다.진공 센서 및 액추에이터의 사이의 진공 라인의 차단은 낮은 진공 변동 시간과 함께 진동이 투입되었을 때 진공작동 가장자리 접촉식 그리퍼의 긴 작동 시간을 가져올 것이다. 진공 라인 문제점에 부가하여, 중간에 끼인 플런저나 파손된 스프링과 같은 기계적인 문제점들도 또한 그리퍼의 기능 불량을 가져올 수 있다.통신 네트워크 상태 <425>목적(purpose) <426>이 방법의 목적은 데이터 통신 네트워크의 문제점들을 탐지하는 데 있다. <427>개요(overview) <428>주제어기와 원격 제어기들의 사이에는 일정한 데이터 흐름이 존재한다. 원격 제어기들은 자신들의 상태를 거의 <429>주기적인 간격으로 주제어기에 전송하고, 주제어기는 거의 주기적인 간격으로 제어 정보를 원격 제어기들에 전송한다. 이러한 메시지들의 도착 횟수(frequency)가 감시된다. 이들 메시지들의 도착 횟수의 감소는 제어기가네트워크의 흐름(traffic)의 가능한 속도 저하에 관한 경고를 발하도록 한다. 에러 메시지들의 감시 횟수에 부가하여, 각 모터 제어기의 통신 포트는 일 주기의 시간에 걸쳐 그 포트에서 발 <430>생한 에러들의 개수의 기록을 갖는다. 이러한 개수는 네트워크의 전체적인 상태의 추정을 제공한다.네트워크 흐름의 단절의 일반적인 원인은 슬립 링(slip rings)에서의 통신 손실(communication loss)이다. <431>계층적 수준(hierarchical level) <432>진단 루틴(routine)은 로봇 제어기 내에 존재한다. 융합되면(in fusion) 로봇 제어기는 주제어기 PC이다. <433>단계들의 순서(sequence of steps) <434>(a) 데이터 수집기(data collector)는 노드로부터 상태 메시지가 도착한 시간을 기록한다. 또한 데이터 수집기 <435>는 각 제어기들의 통신 포트에 저장된 에러 카운트를 기록한다. (b) 분석 층(analysis layer)은 연속적인 상태 패킷들(packets)의 사이의 간격이 특정 문턱값을 넘었는지를 결 <436>정하고, 이러한 범주로 들어온 노드들을 식별한다. 또한 분석 층은 각각의 제어기들의 통신 포트에서의 새로운에러들의 발생 빈도를 계산한다.(c) 문턱값을 넘으면, 상태 패킷이 빠진 노드들에 기초하여 추론 층(reasoning layer)이 네트워크 토폴로지 <437>(topology) 내의 문제점을 지닌 브랜치(branch)와 링크(link)를 식별한다. 설정 데이터(configuration data) <438>(a) 상태 메시지들의 수신에 있어서의 최대 허용 가능한 지연에 관한 문턱값. <439>(b) 네트워크 설정(configuration). <440>- 43 -공개특허 10-2008-0055789고장 모드들(failure modes) <441>슬립 링들(slip rings)에서의 통신 고장, 원격 제어기들의 기능이 불량한 통신 프로세서들, 네트워크 커넥터들 <442>의 느슨한 접촉.연속적인 로봇 반복 재현성(repeatability) 감시 <443>로봇의 위치 반복 재현성은 외부의 정지된 센서들을 통해 감시될 수 있다. 센서는 로봇 엔드 이펙터가 일상적인 <444>동작 중에 정지하였을 때 로봇 엔드 이펙터의 위치를 감지할 수 있다. 대안으로, 카메라가 외부의 고정 장치로서 이용되거나, 로봇에 의해 이동될 수 있다. 반복 재현성에 영향을 미치는 전형적인 결함들은 타이밍 벨트들의슬립(slipping)과, 히스테리시스(hysteresis)를 일으키는 벨트 늘어남과, 베어링 클램프(clamp)의헐거워짐이다. 기판 반복 재현성 검사 <445>유사하게, 기판 위치 반복 재현성이 외부 고정 센서들을 이용하여 검사될 수 있다. 이와 같은 검사는, 기판 얼 <446>라이너의 문제점들과, 예를 들어, 지지 패드 위의 먼지나 지지 패드들의 소재의 열화로 인한 로봇 엔드 이펙터위에서의 기판 미끄러짐과, 그리퍼의 기능 이상과, 기판이 수거되고 및/또는 투입되는 스테이션들에 대한 로봇엔드 이펙터의 정렬 불량(기판의 이동(walking) 등을 야기함)의 문제점들을 밝힐 수 있다. 대안으로, 이와 같은목적으로 카메라가 사용될 수 있다.수거/투입(pick/place) 동작의 감시 <447>이 방법은 로봇 아암에 설치되어 로봇이 수거 및 투입 동작을 수행할 때 로봇 엔드 이펙터의 전체 시계(view)를 <448>갖는 비디오 카메라를 이용한다. 작동하는 동안 비디오 데이터는 로봇 제어기로 연속적으로 전달된다. 비디오기록의 미리 정해진 지속 시간은 제어기에 의해 저장된다. 오류 수거나 오류 투입의 고장이 발생할 때, 비디오기록은 정지한다. 그리고 제어기에 저장된 비디오 데이터가 진단의 목적을 위한 정보의 소중한 제공원으로 기능할 수 있다. 계속적인 바이러스 검사 <449>이 방법의 목적은 시스템 내에 존재하여 데이터 손실이나 성능 저하를 일으킬 수 있는 소프트웨어 바이러스의 <450>존재를 식별하는 데 있다.로봇 제어기는 소프트웨어 바이러스에 의해 이용될 수도 있는 보안 허점(security loopholes)을 가질 수 있는 <451>보안 운영 시스템을 실행할 수 있다. 주기적인 바이러스 검사는 데이터 손실과 성능의 저하를 가져오기 전에 소프트웨어 바이러스의 탐지를 가능하게 할 수 있다. 바이러스 검사는 예약되어 운영 시스템 자신에 의해 실행되거나, 제3자의 수단에 의해 실행될 수 있다.팬 필터 유닛 필터의 감시 <452>이러한 구성의 목적은 팬 필터 유닛 내의 필터의 막힘을 감시하는 데 있다. 막힘은 동시에 이루어지는 충만 압 <453>력(plenum pressure; 필터의 입력 측에서)과 소형 환경 압력(mini-environment pressure; 기계의 대기 영역에서)의 검사에 의해 탐지된다. 다른 경우에서의 똑같은 조건들(폐쇄된 문, 변하지 않은 공기 배출 특성들) 하에서 동일한 소형 환경 압력을 유지하기 위해 증가된 충만 압력이 필요하다면, 이는 필터 막힘을 나타낸다.이온화 장치 기능의 감시 <454>이온화 장치(ionizer)는 기계의 대기 영역에서 이송된 기판들 위에 축적된 전하들을 중화시키기 위해 사용되는 <455>장치이다. 이온화 장치의 고장은 기판 위에 심한 전하 축적을 가져온다. 이온화기 고장은 분위기 내의 전하를측정함으로써 탐지될 수 있다. 측정된 전하가 양의 문턱값이나 음의 문턱값을 초과한다면, 이온화 장치는 오작동하기가 쉽다.연속적인 상태 감시 기능들의 요약이 표 5에 제공된다. <456>[연속적인 상태 감시] <457>- 44 -공개특허 10-2008-0055789표 5<458>자동 결함 진단(automatic fault diagnostic) <459>어떤 상태 감시 방법이 로봇 동작의 열화를 보고한다면, 다음 단계는 문제점의 주요 원인을 식별하는 것이다. <460>로봇의 정상 작동 중에 얻은 데이터를 가지고 결함들을 진단하기 위해 주로 사용될 수 있는 방법들은 다음과 같다.잔류 전류값/토크값 분석 <461>잔류 토크값 분석은 실제 토크와 명목 토크(nominal torque)의 사이의 차이의 변동의 분석을 수반한다. 성능 저 <462>하를 일으키는 결함의 유형을 결정하기 위해 변동 패턴(variation pattern)이 사용된다.목적(purpose) <463>이 방법의 목적은 뚜렷한 토크 신호(torque signature)를 갖는 결함들을 진단하는 데 있다. 잔류 토크값에 대한 <464>시계열 데이터를 분석함으로써 진단이 이루어진다. 에너지 손실이나 추종 에러의 증가 또는 잔류 토크값의 변화가 보고되고, 모터 특성 진단 검사가 모터 특성에 아무런 문제를 발견하지 못하는 경우, 이 방법이 실행될 것이다.개요(overview) <465>특정 결함들은 뚜렷한 결함 시그너쳐들(signatures)을 가지며, 그러한 결함들은 잔류 토크값(torque residual) <466>을 분석함으로서 진단될 수 있다. 잔류 토크값은 실제 토크와 명목 토크 신호들의 사이의 차이이다. 위치에 대한 잔류 토크값의 변동의 특성은 특정한 유형의 결함들을 나타낼 수 있다. 예를 들어, 모터 위치에 대한 주기적인 잔류값의 변동은 문제점의 원인이 브레이크의 정렬 불량으로 인한 주기적인 브레이크 저항(brake drag)과 같은 위치에 의존하는 저항력(drag force)이다.계층적 수준(hierarchical level) <467>- 45 -공개특허 10-2008-0055789이 방법은 로봇 운동을 제어하는 주제어기 내에서 구현될 수 있다. 각각의 모터 제어기들은 각각의 모터들의 위 <468>치와, 속도와, 전류에 관한 정보를 주제어기에 전달할 것이다. 데이터 수집, 전처리, 분석 및 추론 동작들은 주제어기 내에서 수행될 것이다.단계들의 순서(sequence of steps) <469>(a) 관리기(manager)는 의심이 가는 모터를 위한 데이터 수집의 시작과 종료를 개시한다. 데이터 수집은 운동의 <470>연속적인 속도 영역에서 시작되어야 한다. 잘 조절된 데이터를 얻기 위해서는, 운동 시퀀스들(move sequences)이 위치에서의 충분한 변동을 수반하여야 한다.(b) 데이터 수집 층(data collection layer)은 모터 전압과, 모터 토크와, 모터 속도와, 모터 위치를 기록한다. <471>(c) 전처리 층은(pre-processing layer)은 먼저 위치 데이터가 충분한 범위를 갖는 것과 특정한 최소 변동을 갖 <472>는 것을 확인한다. 그렇지 않은 경우 전처리 층은 가능하다면 관리기가 다른 개시 지점과 긴 지속 시간을 이용하여 새로운 데이터 수집 명령을 발하도록 신호를 준다. 전처리 층은 또한 연속적인 속도 위상(constantvelocity phase) 동안에 수집된 데이터만을 분리하고 이용한다. 전처리 층은 모터 모델에 기초하여 명목토크와, 실제 토크와 명목 토크의 사이의 차이점으로서의 잔류값을 계산한다. 전처리 층은 잔류값의 평균과 평방 편차(variance)를 계산한다. 전처리 층은 또한 위치에 대한 잔류값의 변환(Fourier transform)을 계산한다.자기 상관(auto-correlation)에 대해서는 어떠할 것인가.(d) 분석 층(analysis layer)은 잔류값이 특정 문턱값의 위에 있는지를 결정한다. 분석 층은 푸리에 스펙트럼에 <473>서의 정점들을 검사하고, 정점 주파수들을 보고한다. 분석 층은 또한 잔류값의 진동의 주기에 일치하는 거리를결정한다.(e) 문턱값의 이하라면, 추론 층(reasoning layer)은 잔류값이 진단 받을 결함을 갖지 않는 것으로 보고한다. <474>푸리에 변환 내에 정점들이 존재하고, 정점에 대응하는 주기가 모터의 일회전에 의해 지나가는 거리와 일치한다면, 추론 층은 위치에 대하여 주기적인 저항력(drag force)이 결함이라고 보고한다.본 HMFD 시스템의 자동 결함 진단 기능의 요약이 표 6에 제공된다. <475>[자동 결함 진단] <476>표 6<477>모터 동력 소모 분석 <478>소모되는 모터 동력은 모터의 전체적인 상태의 유용한 표지이다. 상술한 에너지 손실과 같이 동력 소모의 증가 <479>는 로봇의 잠재적인 결함을 가리킨다. 특정 조인트들에서의 높은 마찰의 존재는 모터 구동 조인트에서의 동력소모의 증가를 가져온다. 또한 마찰하는 브레이크들로 인한 주기적인 저항은 주기적으로 변화하는 동력 손실을낳는다.추종 에러 분석 <480>추종 에러의 문턱값을 넘어서는 증가는 문제점의 표지이다. 나아가, 추종 에러의 신속한 푸리에 변환은 특정 진 <481>동 모드들의 진폭에 관한 정보를 준다. 장애 데이터 <482>- 46 -공개특허 10-2008-0055789로봇 아암이 만나는 장애들은 모터 힘과 추종 에러를 분석함으로써 탐지될 수 있다. <483>외란 관측기 데이터의 분석 <484>외란 관측기(disturbance observer)의 출력은 액추에이터의 외란 력(disturbance force)의 측정치이다. 이러한 <485>출력의 변동의 분석은 결함의 특성에 대한 통찰력을 낳을 것이다. 예를 들어, 마찰하는 브레이크로 인한 주기적인 저항력의 존재는 주기적으로 변동하는 외란 관측기 출력을 가져온다. 장애의 존재는 변이와 함께 증가하는출력을 가져올 것이다.벨트 장력 분석 <486>벨트 장력은 힘 센서들을 이용하여 연속적으로 측정될 수 있고, 문제점들을 탐지하기 위해 분석될 수 있다. 특 <487>정 조인트에서의 높은 마찰력은 그 조인트를 구동하는 벨트에서의 높은 장력을 가져온다. 주파수 도메인 분석 <488>이 방법의 목적은 특정 주파수-도메인 시그너쳐(signature)를 갖는 결함들을 진단하는 데 있다. 이러한 시그너 <489>쳐는 다양한 신호들 내에 존재할 수 있다. 예로서, 로봇의 여러 가지 지점들에서의 구조적인 진동의 분석은 이러한 문제점의 원인에 대한 유용한 지시자들(pointers)을 가져올 수 있다. 예를 들어, 느슨한 베어링들은 어떤주파수 정점에 대해 큰 진폭을 가져온다. 나아가, 느슨한 볼트에서의 증가된 마찰은 어떤 진동 모드들에 대해높은 감쇠(damping)를 가져온다. 변동 스펙트럼에서의 특정한 변화들은 문제점의 원인을 정확하게 지정하는 데도움이 될 수 있다.요구형 HMFD 루틴들 <490>여기에 설명되는 기능들은 상술한 연속적인 상태 감시 및 결함 진단 특성들을 보완한다. 이 기능들은 특별한 시 <491>퀀스들을 요구하고 및/또는 기판을 위험하게 만들 수 있으므로, 로봇의 정상 작동 중에는 수행될 수 없다. 연속적인 감시 및 자동 진단과는 반대가 되어, 이러한 기능들은 다음과 같은 상황에서 요구되면 사용된다.(a) 기계가 사용되지 않을 때 또는 기계가 예약된 정비 동안에 수리되고 있을 때, 상태 감시의 목적. <492>(b) 상태의 문제점이나 결함이 다른 방법에 의해 탐지되었을 때, 원인을 좁히고 및/또는 의심이 가는 구성 요소 <493>를 확인/제거하기 위한, 진단의 목적.로봇/얼라이너 모델의 식별 <494>이러한 요구형 루틴의 목적은 로봇이나 얼라이너의 강체 동력한 모델의 매개 변수들을 식별하는 데 있다. 매개 <495>변수들에서의 차이는 로봇(얼라이너) 특성들의 변화하는 특성들, 때로는 진행되고 있는 결함으로 인한 특성들을가리킨다.식별 단계는 자동적이다. HMFD 시스템은 로봇으로 하여금 미리 정해진 경로를 따라 가도록 명령하고, 로봇 운동 <496>중의 위치들과 토크들을 감시한다. 동역학 모델의 구조는 시스템의 모든 중요한 기계적인 구성 요소들을 반영하고 로봇의 모터들과 관련된 액추에이터 동력학들을 포함하도록 선택된다. 신뢰할 만한 결과들을 얻기 위해서는모델은 기준 매개 변수들의 항으로 공식화되고, 동역학 모델의 결과적인 구조를 위해 경로들이 최적화된다.로봇/얼라이너 주파수 반응 <497>주파수 반응 식별의 목적은, 느슨해진 기계적 커플링들(coupling)을 포함하는 로봇의 구조적인 특성들의 변화를 <498>나타내는, 고유 주파수들의 변화와 감쇠 수준을 결정하는 데 있다. 주파수 응답은 로봇의 복수 개의 위치들의크기와 위상 특성들을 제공한다.주파수 응답을 구성하기 위해, HMFD 시스템은 로봇 머니퓰레이터를 로봇 머니퓰레이터의 작업 영역 내에 균일하 <499>게 분포되는 위치들의 격자로 이동시키고, 소인 주파수(swept frequency) 조파신호(harmonic signal)에 의해 로봇 머니퓰레이터를 자극시키고, 각각의 위치에서의 로봇 머니퓰레이터의 응답을 기록한다. 그리고 제어기는 복소 최소 자승 곡선 기법(complex least square fit technique)을 이용함으로써 로봇 머니퓰레이터의 각각의 위치에서의 전달 함수들의 매개 변수들을 계산하기 위해 기록된 데이터를 이용한다.HMFD 시스템은 주파수 응답의 크기와 위상 특성들을 그래프로 그림으로써 결과 주파수 응답을 시각화할 수 <500>있다.로봇/얼라이너 조인트 조건 검사 <501>- 47 -공개특허 10-2008-0055789이러한 요구형 루틴의 목적은 기계적 조인트들의 상태를 검사하는 데 있다. 첫째, HMFD 시스템은 로봇이나 얼라 <502>이너의 강체 동력학의 식별을 수행한다. 두 번째 단계에서, 감쇠나 마찰과 같은 조인트 특성들을 나타내는 식별결과들은 기준값들과 비교된다. 예상되는 값들의 특정한 범위를 벗어난 변화들은 대응하는 조인트의 문제점을나타낸다.로봇/얼라이너 벨트 장력 검사 <503>목적(purpose) <504>이러한 요구형 루틴의 목적은 로봇 아암들에서 사용될 수 있는 벨트들의 장력을 사양과 비교한다. <505>개요(overview) <506>로봇 내에서 사용되는 벨트들의 장력은 정확하게 설정되지 않을 수도 있고, 생산/수리 직원의 실수나, 벨트 소 <507>재의 크리프(creep)나, 벨트 장력 조절 기구의 오작동으로 인해 시간에 따라 변화할 수 있다. 벨트 장력의 변화는 피드백 제어의 안정도를 포함하는 로봇의 성능에 영향을 미친다. 벨트 장력은 로봇의 주파수 응답에 의해 기초하여 검사될 수 있다. 주파수 응답 분석을 위해 필요한 데이터는 통상의 동작 중에는 얻을 수 없고, 그러므로특별한 요구형 루틴이 필요하다.계층적 수준(hierarchical level) <508>이러한 루틴은 로봇 제어기 내 또는 주제어기 PC에 존재할 수 있다. <509>단계들의 순서(sequence of steps) <510>(a) 관리기는 로봇 엔드 이펙터들 위에 기판들이 존재하지 않는 것을 검사한다. 기판이 존재한다면 에러가 표시 <511>된다. 로봇이 기판 존재 감지를 지원하지 않는 경우에 관리기는 조작자가 로봇 엔드 이펙터에 기판이 존재하지않는 것을 확인하도록 하는 요청을 표시한다.(b) 관리기는 로봇으로 하여금 로봇의 원 위치(home position)로 이동하도록 명령한다. 이 동작이 실패하면 에 <512>러가 표시된다.(c) 관리기는 주파수 응답 식별을 위해 미리 정해진 서보 매개 변수들로 서보 제어기를 전환한다. <513>(d) 관리기는 관심 대상인 벨트 구동과 관련된 모터의 여자(excitation)를 개시한다. 데이터 수집 층은 대응하 <514>는 인코더들의 여자 및 응답을 기록한다.(e) 전처리 층은 데이터 수집 층으로부터 얻은 데이터에 기초하여 로봇의 주파수 응답을 계산한다. 주파수 응답 <515>이 계산될 수 없으면 에러가 표시된다.(f) 분석 층은 전처리 층으로부터 얻은 주파수 응답 내의 관심 대상인 벨트들의 횡방향 진동에 대응하는 주파수 <516>들을 식별한다. 주파수들이 식별될 수 없다면 에러가 표시된다. (벨트 상태 검사를 목적으로 길이 방향의 진동에 대응하는 주파수들도 식별해야 할 것인가)(g) 추론 층은 결과 주파수들을 관심 대상이 되는 각 벨트 구동을 위한 허용 가능한 범위들과 비교한다. (이러 <517>한 비교가 분석 층에서 이루어져야 하는가)(h) 관리기는 결과들을 표시한다. 문제점이 존재한다면, 관리기는 벨트 장력 조정을 위한 지시와 함께 점검 화 <518>면을 제공한다.설정 데이터(configuration data) <519>(a) 벨트 구동들과 모터들의 사이의 관련성. <520>(b) 주파수 응답 식별을 위한 서보 매개 변수들. <521>(c) 주파수 응답 식별을 위한 여자 신호들의 매개 변수들. <522>(d) 각 벨트 구동을 위한 허용 가능한 고유 주파수 범위. <523>정지 부하 조건 하에서의 모터 모델의 확인 <524>목적(purpose) <525>- 48 -공개특허 10-2008-0055789이 방법의 목적은 모터 토크 상수를 확인하는 데 있다. <526>개요(overview) <527>모터 모델의 방정식들은 정지 부하 조건 하에서 단순화된다. 상술한 바와 같이 모터들이 정지 상태 하에서 알려 <528>진 외력에 저항한다면, 역기전력, 점성효과(viscous effects), 및 관성 효과(inertial effects)가 없는 경우모터 토크 상수들은 측정된 전류로부터 직접 유도될 수 있다. 외력의 크기가 알려져 있지 않아도, 해석적인 정지 힘의 모델들이 모터 토크비를 얻기 위해 사용될 수 있다. 모터 토크비(motor torque ratios)는 모터 전류비(current ratios)와 비교될 수 있고, 모터 용량의 저하를 가져오는 결함이 식별될 수 있다. 이러한 접근법을 이용하여 다음과 같은 결함들, 즉 모터 자석들의 약화, 모터 베어링들의 헛돌기가 식별될 수 있다. 나아가 상기전압 전류 관계식을 이용하여 측정된 전류와 전압으로부터 모터 권선 저항이 유도될 수 있다.계층적 수준(hierarchical level) <529>이러한 진단 루틴은 로봇 제어기나 주제어기 PC 내에 존재한다. <530>단계들의 순서(sequence of steps) <531>(a) 관리기는 로봇 엔드 이펙터가 외력의 적용 지점을 살짝 접촉하도록 로봇에게 명령할 것이다. 외력은 로봇이 <532>풀리 기구나 레버 기구를 통해 밀거나 당기는 공지의 무게일 수 있다. 아무런 외력도 존재하지 않는다면, 로봇은 딱딱한 표면에 대해 가압할 것이다.(c) 데이터 수집 층은 각 모터들에서의 정상 상태 전류와 전압 값들을 기록할 것이다. <533>(d) 분석 층은 각 모터들에서의 권선 저항값들을 계산할 것이다. 나아가, 분석 층은 전류 값과 외력 값들을 정 <534>적 평형 방정식(static equilibrium equations)에 대입한 후에 잔류값들을 계산할 것이다.(e) 추론 층은 잉여값들을 문턱값들과 비교하고, 문턱값들에 대한 위반을 식별할 것이다. <535>(f) 관리기는 모터 모델의 어떤 위반을 보고할 것이다. <536>설정 데이터(configuration data) <537>(a) 모터 권선 저항 및 모터 토크 상수들의 명목 값들. <538>(b) 잔류값들에 대한 허용 가능한 문턱값 한계들. <539>로봇/얼라이너 인코더 신호 검사 <540>목적(purpose) <541>이러한 요구형 루틴의 목적은 광학 절대치형 인코더들이나 가상 절대치형 인코더들의 사인 코사인 신호 출력의 <542>질을 사양에 대해 검사하는 데 있다. 개요(overview) <543>인코더 독출 헤드들(read-heads)과 광학 디스크들은 생산/수리 직원의 오류로 인해 적절하게 정렬되지 않을 수 <544>있고, 또한 작동 중의 손상으로 인해 독출 헤드들과 광학 디스크의 정렬이 시간에 따라 변화할 수 있다. 먼지나그리스와 같은 이물질은 인코더의 광학 디스크를 오염시킬 수 있다. 그와 같은 정렬 불량이나 오염은 인코더의사인/코사인 신호 출력을 왜곡시킬 수 있다. 신호들의 질은 신호의 크기와 위상 특성에 기초하여 검사될 수 있다. 신호들은 낮은 일정한 속도에서 기록될 필요가 있는데, 낮은 일정한 속도는 통상적인 작동 중에는 발생하지않는다. 그러므로 특별한 요구형 루틴이 필요하다.계층적 수준(hierarchical level) <545>이러한 진단 루틴은 로봇 제어기나 주제어기 PC 내에 존재할 수 있다. <546>단계들의 순서(sequence of steps) <547>(a) 관리기는 로봇 엔드 이펙터들 위에 기판들이 존재하지 않는 것을 검사한다. 기판이 존재한다면 에러가 표시 <548>된다. 로봇이 기판 존재 감지를 지원하지 않는 경우에 관리기는 조작자가 로봇 엔드 이펙터에 기판이 존재하지않는 것을 확인하도록 하는 요청을 표시한다.(b) 관리기는 로봇으로 하여금 로봇의 안전한 위치(safe position)로 이동하도록 명령한다. <549>- 49 -공개특허 10-2008-0055789(c) 관리기는 축이 요구되는 범위만큼 일정한 속도로 이동하도록 명령한다. 요구되는 범위는 인코더의 완전한 <550>일회전에 대응한다.(d) 데이터 수집 층은 특정한 속도로 사인 신호값과 코사인 신호값들을 기록한다. <551>(e) 전처리 층은 수직 성분들(cartesian components)이 사인 및 코사인 신호값인 가상 벡터들의 크기를 계산한 <552>다.(f) 분석 층은 사인 신호 및 코사인 신호들 및 가상 벡터들의 최대값과 최소값을 기록한다. <553>(g) 추론 층은 최대값과 최소값을 미리 설정된 문턱값과 비교한다. <554>(h) 어떤 문턱값이 위반되었다면, 관리기는 그 위치를 보고한다. <555>설정 데이터(configuration data) <556>(a) 최대 및 최소 문턱값 수준들 <557>(b) 데이터 수집 속도 <558>(c) 각각의 로봇 축에 관한 안전한 위치 <559>(d) 기록 중의 축 속도 <560>로봇/얼라이너 그리퍼의 요구형 검사 <561>이 루틴의 목적은 도 5 및 도 6에 도시된 것과 같은 로봇이나 얼라이너의 진공에 의해 동작하는 기판 그리퍼들 <562>의 적절한 작동을 확인하는 데 있다. 요구가 있으면, HMFD 시스템은 이동 시간을 감시하며 그리퍼를 연습 작동시키고, 주어진 사양과 이를 비교한다. 매퍼/얼라이너 센서 검사 <563>이 루틴의 목적은 로봇 매퍼나 광학 센서 기능을 검사하는 데 있다. HMFD 시스템은 센서들로 하여금 발광부 <564>(ling emitter)를 작동시키도록 명령하고, 수광부(light receiver)가 발광되는 광에 충분히 노출되었을 때에 수광부의 출력을 읽는다. 결과 출력은 주어진 사양과 비교된다.로봇 매퍼(mapper) 기능 검사 <565>이 루틴의 목적은 매퍼(도 7)가 적절하게 기능하는지를 확인하는데 있다. HMFD 시스템은 로봇으로 하여금 알려 <566>진 지름을 갖는 원형 단면의 전선이나 핀과 같은 알려진 치수를 갖는 부분을 검사하도록 매퍼에 명령한다. 그리고 결과가 검사된 부분의 알려진 치수와 비교된다.로봇/얼라이너 제어 안정도 검사(control stability verification) <567>이 루틴의 목적은 로봇이나 얼라이너의 제어기 동조(controller tuning)의 안정도를 검사하는 데 있다. HMFD 시 <568>스템은 로봇의 작업 영역에 균일하게 분포된 위치들의 격자로 로봇을 이동시키고, 임펄스 신호(impulse signal)나 계단 신호(step signal)나, 소인 주파수(swept frequency) 조파신호(harmonic signal)를 주고 각 위치에서의 응답을 기록한다. 그리고 제어기는 수집된 데이터에 기초하여 안정도 여유(stability margin)를 평가한다.통신 네트워크 토폴로지 검사 <569>이 검사는 통신 네트워크의 결정과 표시를 수반한다. <570>요구형 로봇 반복 재현성 검사 <571>목적(purpose) <572>이 검사의 목적은 로봇 반복 재현성의 어떤 악화를 탐지하는 데 있다. <573>개요(overview) <574>로봇의 반복 재현성은 로봇 엔드 이펙터로 하여금 어떤 공차 범위 내에서 작업 영역 내의 동일한 지점으로 이동 <575>하게 명령할 수 있는 능력을 말한다. 로봇 반복 재현성의 척도는 이러한 공차 창문(tolerance window)의 엄격함(tightness)이다. 반복 재현성 손실은, 베어링에서의 헛돌기와 미끄러지는 벨트와 같은 미끄러운 기계적 연결(coupling)로 인하여 발생한다. 반복 재현성 손실은 이동 명령의 수행 중의 로봇 엔드 이펙터의 위치의 반복적- 50 -공개특허 10-2008-0055789인 외부의 측정을 통해 탐지될 수 있다. 하나의 선택은 로봇 엔드 이펙터에 관통형 광선 매퍼(through beammapper)를 사용하는 데 있다(도 7). 로봇은 수직 방향의 날 가장자리(vertical knife edge)와 같은 고정된 부분이 광선을 자르도록 엔드 이펙터를 이동시킬 것이다. 광선이 잘리는 정확한 로봇 위치가 기록된다. 이 위치의점진적인 이동은 로봇의 반복 재현성의 문제를 나타낸다. 로봇의 반복 재현성을 충분히 검증하기 위해서는, 로봇에 의하여 복수 개의 방향으로부터 상기 부분이 접근되거나, 복수 개의 부분들이 사용될 수 있다. 두 번째 선택은 엔드 이펙터의 직선 가장자리(straight edge)가 작업 셀(cell)에 대하여 고정된 광선을 자르는 로봇 위치를 기록하는 것이다.계층적 수준(hierarchical level) <576>이러한 루틴은 로봇 제어기 내 또는 주제어기 PC에 존재할 수 있다. <577>단계들의 순서(sequence of steps) <578>(a) 주제어기는 로봇을 식별하여 하나 이상의 관통 광선(through beams)이 잘리도록 하는 로봇이 특정한 운동 <579>시퀀스를 수행하도록 명령을 내릴 것이다.(b) 데이터 수집 층은 관통 광선이 잘리는 로봇 위치들을 기록할 것이다. <580>(c) 분석 층은 기록된 위치들의 변이를 탐지한다. 변이가 공차 한계를 넘어서는 경우, 반복 재현성의 손실이 보 <581>고된다.설정 데이터(configuration data) <582>(a) 반복 재현성에 대한 허용 가능한 공차 <583>로봇-스테이션(station) 정렬 검사 <584>목적(purpose) <585>이 방법의 목적은 로봇에 대한 스테이션의 위치나 방향의 어떠한 변이를 검사하는 데 있다. <586>개요(overview) <587>로봇에 대한 스테이션의 위치와 스테이션의 방향(orientation)을 자동적으로 결정하기 위한 방법이 설명된다. <588>이 방법은 로봇 엔드 이펙터나 얼라이너 위의 관통 광선 매퍼(428A, 428B)를 이용하는 일련의 단계들을 기술한다. 로봇은 요구되는 경우 이러한 단계들을 수행하여, 스테이션 위치 또는 방향에 심한 변이가 존재하는지를 검사한다.계층적 수준(hierarchical level) <589>이 검사는 주 로봇 제어기(main robot controller) 내에 구현될 수 있다. <590>단계들의 순서(sequence of steps) <591>(a) 관리기는 티칭(teaching)을 가능하게 하는 모든 스테이션들과 스테이션들의 부분들이 접근 가능한 것을 확 <592>인한다.(b) 매퍼(428A, 428B)가 티칭을 위해 사용되는 경우, 관리기는 로봇 엔드 이펙터 위에 웨이퍼가 존재하는지를 <593>확인하기 위해 검사한다.(c) 관리기는 티치(teach) 시퀀스의 개시를 명령한다. <594>(d) 관리기는 스테이션 위치들과 방향들의 변이를 기록하고, 정상에서 벗어남을 사용자에게 경고한다. <595>요구형 바이러스 검사(on-demand virus scan) <596>이 검사는, 제어기의 작업의 적절한 실행을 방해하는 바이러스나 기타 작용들을 위해, 주제어기의 하드 드라이 <597>브와 같은 하드 드라이브들의 검사를 수반한다.예시적인 요구형 상태 감시 및 결함 진단 루틴들의 요약이 표 7에 제공된다. <598>[예시적인 요구형 HMFD 루틴들] <599>- 51 -공개특허 10-2008-0055789표 7<600>시험 데이터의 예 <601>본 상태 감시 및 결함 진단 시스템의 선택된 방법들에 관한 예시적인 시험 데이터가 이제 설명될 것이다. <602>에너지 손실의 진단 및 분석 <603>상기 설명된 것과 같이, 이 방법에서의 중요한 원리는 로봇의 기계적 구성 요소나 전기적 구성 요소들의 열화로 <604>부터 기인하는 결함들은 로봇 동작의 전체적인 효율의 감소를 가져올 것이라는 점이다. 그러므로 로봇 내의 에너지 손실의 특정한 척도들을 감시함으로써 그와 같은 결함들이 발생의 초기 단계에서 탐지될 수 있다. 효율의감소를 가져오는 결함들의 몇몇 예들은, 손상되거나 정렬이 불량한 베어링들과, 윤활 손실(loss oflubrication)과, 로봇 운동에 대한 장애와, 로터 상의 영구 자석들의 열화와, 모터 브레이크들의 오작동이다.나아가, 위치 및 전류 피드백 제어 루프 내에서의 임계적 불안정(marginal instability)에 의해 유발되는 진동도 또한 에너지 손실의 증가를 가져오는데, 이러한 접근법을 이용하여 탐지될 수 있다. 에너지 손실 지표들(energy loss indices)은 로봇 내와 각 조인트들에서의 결함들의 존재를 나타내기만 한다. 결함의 원인을 좁히기 위해 보완적인 방법들이 사용될 필요가 있을 수 있다.정상 작동 중의 에너지 손실에 대한 데이터를 수집하기 위해 5축 의존형 로봇(5 axis reliance robot)이 사용되 <605>었다. 이 로봇은 도 4의 예시적 로봇에 유사하다. 로봇 제어기에 내장된 추적 메커니즘(trace mechanism)을 이용하여, 로봇이 비 원형 스테이션(non-radial station)으로부터 기판을 수거하기 위해 연장 운동(extend move)을 수행할 때마다 모터 토크와 모터 속도 데이터가 다운로드된다. 토크 및 속도 데이터는 정지 상태에서 시작하여 이동의 종료 시에 정지하게 될 때까지의 로봇의 지속 시간을 포함하는 전체 이동에 대하여 수집되었다. 이러한 특정한 이동이 Z 축의 운동을 수반하지 않았으므로, 중력 위치 에너지에는 변화가 없으며, 마찰이 없는 이상적인 상태 하에서 에너지 순손실(net energy dissipation)은 0이 될 것이다. 한편, 실제 로봇에 대해서는 로봇이 동일한 평면 상의 두 개의 지점들의 사이에서 이동할 때 양의 에너지 순손실(net positive energydissipation)이 존재한다. 이러한 에너지 손실은 베어링들과 액추에이터들과 같은 기계 요소들 내의 마찰 때문이다.일반 로봇에 대한 에너지 손실 <606>도 12는 정상 상태에 있는 로봇에 관하여 중심에서 벗어난 스테이션으로의 연속된 연장 움직임에 대한 에너지 <607>손실의 그래프이다.- 52 -공개특허 10-2008-0055789부정확한 위상 각을 갖는 로봇에 대한 에너지 손실 <608>t1 모터(도 4의 모터(409))의 위상각을 변화시킴으로써, 결함의 상태가 인공적으로 유발되었다. 부정확한 위상 <609>각은 동일한 권선 전류에 대해 낮은 모터 토크 출력을 가져온다. 모터의 요구되는 실제 토크 출력은 동일하게머무르므로, 모터 전류는 증가되어야 한다. 이는 또한 높은 저항 에너지 손실(resistive energy loss)을 가져온다. 결과로 발생하는 높은 전압은 그 자체가 피드백 제어기 내의 높은 값의 실제 토크(actual torque)를 증명한다. 도 13은 상이한 위상각들에 대하여 연속적인 연장 운동에 관한 에너지 손실값들을 비교한다.시간에 따른 에너지 손실의 변동 <610>도 12 및 도 13에서 볼 수 있는 바와 같이, 에너지 손실 값은 연속적인 연장 운동에 대한 작은 변동을 <611>나타낸다. 그러나 고려되는 로봇에 관하여 에너지 손실은 긴 주기의 시간에 걸쳐 줄어드는 추세를 보인다. 도14는 동일한 로봇에 대해 30일의 간격 이후의 에너지 손실을 나타낸다. 도 15는 30일 벌어진 정상 로봇에서의에너지 손실을 비교한다. 에너지 손실의 전체 범주에 있어서 5%의 감소가 존재한다. 에너지 손실에서의 이러한강하는 아직 결정되지 않았다. 이 주제에 대해 분석이 더 필요하다.에너지 손실의 감시에 의해 탐지될 수 없는 결함들 <612>에너지 손실의 식별 가능한 증가를 가져오지 않으므로, 에너지 손실을 감시함으로써 탐지될 수 없는, 어떤 유형 <613>의 결함들이 존재한다. 다음의 두 가지 예가 있다.(a) 부정확한 위치 독출을 가져오는 인코더 디스크 위의 이물질. <614>(b) 임계적으로 안정적인 서보로 인한 진동: 에너지 손실은 증가하지만, 탐지될 만큼 충분히 심하지는 않다. <615>잔류 토크값들(torque residuals)의 감시 및 분석 <616>로봇으로부터 수집되어 전체 상태의 쇠퇴를 보이는 데이터는, 상태의 쇠퇴를 야기하는 특정 결함을 결정하기 위 <617>하여 더 분석될 수 있다. 상기에서 나타난 바와 같이, 잔류 토크값들에 기초한 분석 기법은 로봇 내에서 발생할수 있는 특정한 유형의 결함들을 식별할 수 있다.유효 모터 용량의 감소 <618>부정확한 모터 위상각이나 영구 자석들의 소자(demagnetization)와 같은 결함들은 모터의 유효 토크 상수의 감 <619>소를 가져온다. 동일한 토크 출력을 위해서는 높은 모터 전류가 필요하다. 잔류 토크값은, 결함 상태에 있는 토크와 정상 상태에 있는 토크의 사이의 차이로 정의되며, 정상 상태의 토크에 비례할 것이다. 이는 날 운반기(razor traverser)에 대해 얻은 도 16에 도시된 데이터에 의해 설명된다. 데이터는 운반기가 4,500 mm/s2 의 최대 가속도와, 900 ㎜/s 의 최대 속도와, x = 0 에서의 시작점과, x = 1,000 에서의 종료점에 의해 정의되는 운동의 윤곽을 완료하였을 때 수집되었다. 도 17은 명목 토크에 대한 잔류 토크값의 변동을 나타낸다. 그래프가토크에 비례하는 모터 전류를 나타냄을 주목하시오.선형 회귀계수(linear regression coefficient)는 모터의 토크 상수가 감소한 정도를 나타낸다. 도 17의 데이터 <620>는, 잘못된 위상각으로, 요구되는 토크가 명목 토크보다 평균 33.7% 크다는 것을 나타낸다. 한편, 도 18에 도시된 것과 같이 잔류 토크값과 모터의 속도의 사이에는 상관관계가 없다.주기적인 저항(periodic drag) <621>브레이크 저항과 같은 결함들은 모터에 주기적인 저항을 유발한다. 도면은 아암이 없는 의존형 로봇(reliance <622>robot)의 z 축(수직 상승)으로부터 얻은 데이터를 도시한다. 데이터는 320 ㎜/s 의 최대 속도를 갖는 300 ㎜의z 운동에 관한 토크값을 나타낸다. 브레이크 슈가 완전히 분리되는 것을 방지함으로써 브레이크 저항이 유발되었다. 이는 모터 위치에 주기적인 저항을 가져왔다. 주기적인 저항은 위치에 대한 토크 잔류값의 변동을 나타내는 도 20으로부터 명백하다. 잔류 토크값의 변동의 주기는 z 볼 스크류의 피치인 약 16mm 이다. 로봇 기준 모델(robot reference model) <623>이전의 토의들은 정상 동작 상태 하의 로봇의 동역학적인 거동을 정의하는 로봇의 기준 동역학 모델이 존재한다 <624>는 것을 가정하였다. 이와 같은 모델은 로봇 상태의 형편을 결정하기 위해 현재 에너지 손실값이 비교되는 에너지 손실에 관한 기준값을 만들 것이다. 이 모델은 또한, 잔류 토크값을 계산하기 위해 사용될 수 있는 주어진운동 시퀀스에 관한 명목 토크의 변동값을 만들 것이다. 이와 같은 모델은 반드시 상태 문제점을 나타내지는 않는 로봇 특성들의 상당히 장기적인 흐름을 설명하기 위해 주기적으로 업데이트될 필요가 있을 수 있다. 상술한- 53 -공개특허 10-2008-0055789바와 같이, 기준 로봇 거동을 결정하기 위한 가능한 선택들 중의 하나는 로봇의 정상적인 동역학적 거동을 나타내는 신경망 모델의 사용이다.정상 로봇으로부터 얻은 데이터는 로봇 동역학의 신경망 모델을 구축하기 위해 사용될 수 있고, 이러한 모델은 <625>상태 감시 및 결함 진단을 위한 기준 모델로 사용될 수 있다. 도 21은 모델에 의해 예측된 z 축 토크와 실제 토크의 비교를 나타낸다. 10 개의 뉴런들(neurons)을 갖는 방사 기저 네트워크(radial basis network)를 이용하여신경망 모델이 구축되었다. 이러한 목적을 위해 매트랩(Matlab)에 의해 방사 기저 네트워크 도구가 제공되었다.네트워크를 위한 트레이닝 데이터는 1,300 상태들에서의 위치, 속도, 가속도, 및 토크값들을 포함하였다.본 상태 감시 및 결함 진단 시스템(100)은 브룩스 오토메이션 사(Brooks Automation, Inc.)의 GOLDLINKTM 글로 <626>벌 진단 도구(global diagnostic tool)와 같은 글로벌 진단 도구와 통합될 수도 있다.상태 감시 및 결함 진단 시스템(100)의 각 기능은 출력이나 결과를 부가적 기능들을 수행할 수 있는 하나 이상 <627>의 원격 연산 장치(remote computing devices)로 전송할 수 있다. 예를 들어, 데이터 수집 기능(105)은 전처리기능, 분석 기능, 및 추론 기능들을 수행할 수 있는 원격 서버에 시간 이력들을 보고할 수 있다. 시스템 내의다른 기능들도 또한 시스템(100) 내의 연산과 흐름양 부하를 최소화하기 위하여 더 많은 연산을 위한 원격 기능들에게 데이터를 보낼 수 있다.이는 원격지에서 분석 및 추론의 알고리즘을 개발하고 검증할 기회를 제공하며 현장에서 필요한 지원을 최소화 <628>함으로써, 현장에서 시스템에 의해 직접 보고되는 잘못된 경고의 위험을 줄인다.원격 기능들에 전송되는 정보는 주기적인 상태 감시 데이터와, 자동적인 상태 통지와, 요구된 정보(on-demand <629>information)를 포함할 수 있다.주기적인 상태 감시 데이터 <630>하나 이상의 로컬(local) 기능들(105, 110, 115, 120)은 선택된 신호들을 높은 샘플링 속도(sampling rate)로 <631>실시간으로 연속적으로 기록할 수 있고, 특성들을 처리하고, 분석 기능을 수행하거나 또는 추론 기능을 수행하고, 심화된 처리를 위해 데이터를 원격지로 전송할 수 있다.예를 들어, 데이터 수집 기능(105)은 운동의 각 축을 위한 다음 신호들을 기록할 수 있다. <632>(a) 모터 전압(PWM 듀티 주기의 단위로) <633>(b) 모터 전류 <634>(c) 명령된 실제 위치 <635>(d) 실제 속도 <636>(e) 모터 온도 <637>로컬 전처리 기능(110)은 매회전마다 및 모터 축마다의 다음과 같은 특성들의 집합을 결정하기 위해 각각의 작 <638>동에 관한 일군의 특징들을 계산하기 위해 계산한다.(a) 데이터/시간 표시(stamp) <639>(b) 정보로부터 또는 정보를 향해 <640>(c) 손실된 에너지 <641>(d) 최대 전류 <642>(e) 최대 위치 에러 <643>(f) 정착 위치 에러(settling position error) <644>(g) 정착 시간(settling time) <645>(h) 최대 온도 <646>상기 특성들의 집합은 주기적인 일괄 작업들(periodic batches)에 의해 분석 기능, 추론 기능, 또는 기타 기능 <647>들을 위한 원격 서버나 기타 연산 장치로 전송될 수 있다.- 54 -공개특허 10-2008-0055789원격 서버는 또한 로컬 기능들(105, 110, 115, 120)이나 관리기(130)로부터의 자동 상태 고지(status <648>notification)를 구현하기 위해 사용될 수도 있다. 고지 정보는 다음을 포함할 수 있다.(a) 작동 변동 대 수리 변동(operation vs. maintenance change) <649>(b) 설정 변동의 고지(notification) <650>(c) 치명적 에러들의 고지(notification) <651>(d) 미리 정해진 간격으로 전송되는 주기 카운트 데이터(cycle count data) <652>나아가, 원격 서버나 컴퓨터 연결은 지원 및 진단의 목적을 위해 요구되는 경우 정보의 업로드(upload)를 허용 <653>할 수도 있다. 예시적인 정보는 이하를 포함할 수 있다.(a) 설정(작업 영역, workspace) 정보 <654>(b) 시간이 표시된 명령/응답/에러 기록 <655>(c) 데이터 기록(데이터 수집 층으로부터의 기록) <656>나아가, 원격 시스템으로부터 다른 특징들, 예를 들어 바이러스 방지 소프트웨어와 제어 소프트웨어의 원격 업 <657>그레이드를 원격 시스템으로부터 제공하는 것이 바람직할 수 있다.설명된 시스템은 상태 감시 및 결함 진단을 위한 기능들의 고유한 집합을 제공하므로 바람직하다. 데이터 수집 <658>기능은, 감시되는 기계들이 작동하는 동안, 선택된 변수들의 시간 이력들을 획득하고, 전처리 기능은 획득된 시간 이력들의 특정한 특성들을 계산하고, 분석 기능은 변수들이 관련된 개별적인 구성 요소들의 특성들을 평가하고 각 구성 요소들의 상태에 관한 하나 이상의 가정들을 생산하며, 추론 기능은 기계의 각 구성 요소들의 상태와 기계가 양호한 작동 조건에 있는 확신의 정도를 포함하는 기계의 전체적인 평가를 도출한다.시스템은 계층적으로 분산된(hierarchically distributed) 방식으로 구현될 수도 있다. 예를 들어, 상태 감시 <659>및 결함 진단의 목적으로 획득되는 데이터가 데이터를 처리하기에 충분한 지능이 존재하는 수준에서처리되도록, 각 기능의 복수 개의 객체들이 기계 내의 단계적으로 더 높은 수준의 제어기들 내에 존재하거나 연결될 수 있다. 시스템은, 자동화된 제조 기계 내에서 작동하는 로봇 머니퓰레이터들의 예상되지 않은 고장으로 인한 소재의 손 <660>상과 예기치 않은 정지(downtime)를 실질적으로 감소시키거나 또는 완전히 제거할 것으로 기대된다. 나아가, 고장이 발생하는 경우, 시스템의 결함 진단 성능은 수리의 응답성, 질, 및 비용을 향상시킬 것으로 기대된다. 앞서 말한 설명은 오로지 여기에서 개시되는 실시예들을 설명하기 위한 것임을 이해하여야 할 것이다. 실시예들 <661>로부터 벗어나지 않으면서도 여러 가지 다른 방법들과 변형들이 본 발명의 분야의 숙련된 자에 의해 고안될 수있다. 따라서 현재 개시된 실시예들은 청구된 청구범위의 범위 내에 들어오는 이와 같은 모든 방법들과 변형들을 포함하도록 의도되었다.도면의 간단한 설명도 1a와 도 1b는 개시된 실시예들에 따른 상태 감시 및 결함 진단 시스템을 도시한다. <19>도 2는 개시된 실시예들을 구현하기 위한 예시적인 기능 제어기를 도시한다. <20>도 3은 반도체 장치들의 생산을 위한 자동화된 소재 취급 플랫폼을 도시한다. <21>도 4는 5축 직접 구동 로봇 머니퓰레이터를 도시한다. <22>도 5는 진공에 의해 작동되는 가장자리 접촉식 그리퍼(gripper)를 도시한다. <23>도 6은 표면 접촉식 흡착 그리퍼를 도시한다. <24>도 7은 하나 이상의 매퍼(mapper) 센서들을 구비하는 엔드 이펙터(end-effector)를 도시한다. <25>도 8은 증가형 회전식 광학 인코더(incremental rotary optical encoder)를 도시한다. <26>도 9는 절대치형 회전식 광학 인코더(absolute rotary optical encoder)를 도시한다. <27>도 10은 증가형 인코더의 데이터 무결성(data integrity) 검사를 위한 방법을 나타낸다. <28>- 55 -공개특허 10-2008-0055789도 11a와 도 11b는 절대치형 인코더의 데이터 무결성(data integrity) 검사를 위한 방법을 나타낸다. <29>도 12는 정상 상태에 있는 로봇에 관하여 중심에서 벗어난 스테이션으로의 연속된 연장 움직임에 대한 에너지 <30>손실의 그래프이다.도 13은 다른 위상각에 관하여 연속된 연장 움직임에 따른 에너지 손실 값들을 비교한다. <31>도 14는 30일의 간격 이후에 동일한 로봇 내에서 두 개의 상이한 모터 위상각에 관한 에너지 손실 데이터를 도 <32>시한다.도 15는 30일 벌어진 정상 로봇에서의 에너지 손실을 비교한다. <33>도 16은 시간에 따른 두 개의 상이한 위상각에 대한 횡단기의 모터(traverser motor) 전류를 도시한다. <34>도 17은 명목 전류(nominal current)에 대한 모터 전류 잔류값(residue)의 변동을 도시한다. <35>도 18은 속도에 대한 잔류 토크값의 변동을 도시한다. <36>도 19는 브레이크 저항(drag)이 없는 Z 모터 토크와 저항이 있는 Z 모터 토크의 비교를 도시한다. <37>도 20은 Z 모터 잔류 토크값의 도표를 도시한다. <38>도 21은 실제 토크값과 모델 예측치의 비교를 도시한다. <39>- 56 -공개특허 10-2008-0055789도면 도면1a- 57 -공개특허 10-2008-0055789 도면1b- 58 -공개특허 10-2008-0055789 도면2- 59 -공개특허 10-2008-0055789 도면3- 60 -공개특허 10-2008-0055789 도면4 도면5 도면6- 61 -공개특허 10-2008-0055789 도면7 도면8- 62 -공개특허 10-2008-0055789 도면9 도면10- 63 -공개특허 10-2008-0055789 도면11a- 64 -공개특허 10-2008-0055789 도면11b 도면12- 65 -공개특허 10-2008-0055789 도면13 도면14- 66 -공개특허 10-2008-0055789 도면15 도면16- 67 -공개특허 10-2008-0055789 도면17 도면18- 68 -공개특허 10-2008-0055789 도면19 도면20- 69 -공개특허 10-2008-0055789 도면21- 70 -공개특허 10-2008-0055789"}
{"patent_id": "10-2008-7002964", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "상태 감시 및 결함 진단을 위한 시스템으로서, 하나 이상의 구성 요소들에 관해 선택된 데이터들의 시간 이력들 을 획득하는 데이터 수집 기능과, 시간 이력들의 특정 특성들을 계산하는 전처리 기능과, 하나 이상의 구성 요소 들의 상태의 하나 이상의 가정을 생성하기 위해 특성들을 평가하는 분석 기능과, 하나 이상의 가정들로부터 하나 이상의 구성 요소들의 상태를 결정하는 추론 기능을 포함한다."}
{"patent_id": "10-2008-7002964", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "개시된 실시예들은 상태 감시 및 결함 진단 시스템에 관한 것이다. <1>"}
{"patent_id": "10-2008-7002964", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "반도체 장치의 생산을 위해 로봇화된 소재 취급 플랫폼(platforms)과 같은 자동화된 제조 기계에 사용되는 로봇 <2> 의 머니퓰레이터(manipulator)나 기타 메카트로닉 장치들(mechatronic devices)의 고장으로 인한 원자재 손실이 나 예기치 않은 정지(downtime)는 제조 기계의 사용자에게 상당한 원가 부담을 의미하는 통상적인 문제점이다. 많은 상태 감시 및 결함 진단 방법들(health-monitoring and fault diagnostic; HMFD methods)이, 산업 <3> 분야와, 자동화 분야와 항공우주 분야를 위해 개발되었다. 현존하는 시스템들은, 감시되는 시스템 내에서 무언 - 6 -공개특허 10-2008-0055789가가 잘못되었다는 것을 나타내는 에러 탐지와, 결함의 정확한 위치를 정확히 결정하기 위한 결함(즉, 불완전한 요소)의 분리(fault isolation)와, 결함의 양을 결정하기 위한 결함 식별(fault identification)을 전형적으로 구현한다. 분리와 식별(isolation and identification)의 작업은 종종 결함 진단(fault diagnosis)으로 함께 불린다. 많 <4> 은 현존하는 시스템들은 결함 탐지 및 분리(fault detection and isolation)의 단계들만을 구현한다. 일반적으 로, HMFD에 사용되는 방법들은 두 가지 중요 그룹들로 구분되는데, 플랜트(plant)라고도 불리는 감시와 진단의 대상이 되는 시스템의 수학적인 모델을 사용하지 않는 그룹과, 사용하는 그룹으로 구분된다. 플랜트의 수학적인 모델을 이용하지 않는 방법들은, 물리적 잉여법(physical redundancy)과, 특별한 센서들의 이용과, 한계 검사 (limit checking)와, 스펙트럼 분석(spectrum analysis)과, 논리적 추론(logical reasoning) 등을 포함한다. 물리적 잉여 접근법에서는 동일한 물리량을 측정하기 위해 복수 개의 센서들이 설치된다. 측정량들 사이의 어떤 <5> 심한 차이점은 센서 결함을 의미한다. 두 개의 병렬 센서들만을 가지고서는 결함 분리는 불가능할 수 있다. 그 러나 세 개나 그 이상의 센서들을 가지면 불완전한 센서를 분리시키는 투표법(voting scheme)이 형성될 수 있다. 물리적 잉여법(physical redundancy)은 일반적으로 추가적인 하드웨어 비용과 추가적인 중량을 수반한다. 탐지 및 진단을 위해 특별한 센서들이 일부러 설치될 수도 있다. 이러한 센서들은 리미트 센서들(예를 들어, 온 <6> 도나 압력을 측정함)일 수 있으며, 하드웨어에서의 한계 검사(이하를 참조)를 수행한다. 다른 특별한 센서들은 때로는 소리, 진동, 신장(elongation) 등과 같이 결함을 나타내는 물리량을 측정할 수도 있다. 실무상 널리 사용되는 한계 검사(limit checking) 접근법에서는, 플랜트 계측량들이 컴퓨터에 의해 미리 정해진 <7> 한계값들과 비교된다. 많은 시스템에서 두 단계의 한계점이 있는데, 첫 번째는 미리 경고하는 기능을 하지만, 두 번째는 비상 작용(emergency reaction)을 일으킨다. 한계 검사는 선택된 변수들(variables)의 시간 추이에 대한 검사에까지 확장될 수 있다. 단순하고도 직접적이기는 하지만, 한계 검사 접근법은 두 가지 단점을 갖는다. (a) 플랜트 변수들은 일반적인 입력의 변동에 의해 광범위하게 변화할 수 있으므로, 시험 임계값(test thresholds)은 상당히 보수적으로 설정되어야 할 필요가 있다. (b) 하나의 요소의 결함의 효과가 많은 플랜트 변수들에 전달되어, 복잡한 많은 경고들을 일으키고 분리를 대단히 어렵게 만든다. 탐지와 분리(detection and isolation)를 위해 플랜트 계측량의 스펙트럼 분석이 사용될 수도 있다. 대부분의 <8> 플랜트 변수들은 정상 작동 조건 하에서 전형적인 주파수 스펙트럼을 나타내며, 전형적인 주파수 스펙트럼에서 벗어나는 것은 비정상임을 나타내는 것일 수 있다. 어떤 형태의 결함은 스펙트럼 내에서 자신만의 특징적인 신 호를 가질 수도 있어서, 결함 분리(fault isolation)를 용이하게 한다. 발명의 상세한 설명 논리적 추론 기법(logical reasoning techniques)은 탐지 하드웨어와 소프트웨어에 의해 얻은 증상들을 평가하 <9> 는 데 중점을 둔다는 점에서 상기 간략하게 설명된 방법들에 대해 보완적인 넓은 범주(class)를 형성한다. 가장 단순한 기술은 \"증상과 증상의 조건에 의한 결론(if-symptom-and-symptom-then-conclusion)\"의 형태이다. 각 결론은 최종 결론에 도달할 때까지 다음의 규칙 하에서 차례로 증상(symptom)으로 기능할 수 있다. 시스템은 탐 지 하드웨어 및 소프트웨어에 의해 제공되는 정보를 가질 수 있거나, 또는 인간 조작자에게 특별한 증상에 대해 질문하고 전체 논리적 과정에 걸쳐 인간 조작자를 안내하며 인간 조작자와 상호 작용할 수 있다. 플랜트의 수학적인 모델을 이용하는 방법들을 살펴보면, 이와 같은 모델에 기초한 상태 감시법(condition- <10> monitoring method)과 결함 진단법(fault-diagnostic method)은 일반적으로 해석적인 잉여(analytical redundancy)의 개념에 의존한다. 물리적인 잉여 접근법과는 대조적으로, 대응하는 센서들이 서로 비교되고, 감 지된 측정값들이 각각의 변수들의 해석적으로 계산된 값들에 비교된다. 이와 같은 계산은 현재 및/또는 기타 변 수들의 이전의 측정값들과, 현재와 이전의 변수들의 측정된 변수들에 대한 명목상의 관계(nominal relationship)를 설명하는 수학적인 플랜트 모델을 이용한다. 이와 같은 사상은 다른 변수들의 집합으로부터 얻 어지는 해석적으로 생성된 두 개의 물리량들의 비교에까지 연장될 수 있다. 어떤 경우이든지 잔류값(residual s)으로 불리는 결론적인 차이점들은 시스템 내의 결함을 나타낸다. 다른 범주의 모델에 기초한 방법은 매개 변 수 추정(parameter estimation)에 직접적으로 의존한다. 탐지 및 분리의 결정에 도달하기 위해서는 잔류값들의 생성에 잉여 평가(residual evaluation)가 뒤따라야 <11> 한다. 노이즈와 모델 오차의 존재로 인해, 결함이 존재하지 않는 경우에도 잔류값들은 제로(zero)가 될 수 없다. 그러므로 탐지 결정(detection decision)은 경험적으로 획득되거나 또는 이론적 고찰에 의해 획득되는 임 계값(thresholds)에 대한 잔류값들의 시험을 필요로 한다. 결함 분리(fault isolation)를 용이하게 하기 - 7 -공개특허 10-2008-0055789위해서, 일반적으로 잔류값 발생기들(residual generators)은 구조적 또는 방향적 특성을 나타내는 분리가 향상 된 잔류값으로 설계된다(isolation enhanced residuals). 그 이후에 분리 결정(isolation decisions)은 통계적 인 요소들과 함께 또는 통계적인 요소들 없이 구조적(대수적; boolean)이나, 방향적(수열적; geometric)인 틀에 서 획득된다. 모델에 기초한 상태 감시 및 결함 진단에 있어서 잉여 생성법과 다소 중복되는 접근법들이 존재하는데, 이들은, <12> 칼만 필터(Kalman filter), 진단 관측기법(diagnostic observers); 매개 변수 추정(parameter estimation) 및 패리티 관계(parity relations)이다. 칼만 필터(Kalman filter)의 예측 오차(prediction error)는 결함 탐지 잔류값(fault detection residual)으로 <13> 사용될 수 있다. 아무런 결함(fault)(및 외란; disturbance)이 존재하지 않더라도 예측 오차의 평균값은 0이고, 결함이 존재할 때에 0이 되지 않는다. 혁신적인 수열은 흰색이므로(innovation sequence is white), 통계적인 시험은 만들기가 상대적으로 용이하다. 그러나 칼만 필터에 있어서 결함 분리는 다소 미숙하므로, 하나의 필터 가 각각의 의심되는 결함 및 각각의 가능한 도착 시간에 대응되는\"대응되는 필터들(matched filters)\"의 배열을 운용할 필요가 있으며, 어떤 필터 출력이 실제 관측과 일치될 수 있는지를 검사해야 한다. 진단 관측기(diagnostic observer)도 또한 결함 탐지 잔류값으로 적합하다. 잔류값을 제한된 수의 외란으로부터 <14> 단절시키기 위해 \"미지의 입력(unknown input)\"설계 기술이 사용될 수 있다. 잉여 수열은 착색되며(residual sequence is colored), 이는 통계적인 검사를 다소 복잡하게 한다. 분리를 위한 잔류값을 향상시키기 위해 관측 기의 설계에서의 자유가 이용될 수 있다. 관측기의 극값들을 배치함으로써 결함 응답(fault response)의 동역학 이 특정 한계값들 내로 제어될 수 있다. 매개 변수 추정(parameter estimation)은 매개 변수(배수형; multiplicative)의 결함의 탐지 및 분리에 대한 <15> 자연적인 접근법이다. 기준 모델(reference model)은 먼저, 결함이 없는 환경 내에서 플랜트를 식별함으로써 획 득된다. 그리고 매개 변수들은 반복적으로 온라인으로 재식별된다. 기준 모델로부터의 편차는 탐지 및 분리를 위한 기준으로서 기능한다. 매개 변수 추정은 해석적인 잉여 방법보다 더 신뢰할 수 있지만, 온라인 계산과 입 력 자극 요건(input excitation requirements)에 있어서는 더 까다롭다. 패리티(일관성; consistency) 관계(parity relations)는 선형 동역학 변환에 의해 재설정된 직접 입출력 모델 <16> 방정식이다. 변환된 잔류값들은 탐지 및 분리를 위해 기능한다. 관측기에서의 경우와 마찬가지로 잉여 수열은 채색된다. 변환에 의해 제공되는 설계 자유는 외란 단절(disturbance decoupling) 및 결함 분리 향상을 위해 사 용될 수 있다. 또한 응답의 동역학은 인과성(causality) 및 안정도(stability)의 요구 조건에 의해 고정되는 한 계값들 내에 할당될 수 있다. 반도체 제조 시스템에 직접 적용할 수 있는 상태 감시(health-monitoring) 및 결함 진단(fault-diagnostic) 방 <17> 법은 일반적으로 적은 수의 결함들, 예를 들어 연결부 백래쉬(joint backlash)와 연관된 결함들에만 제한된다. 이는, 결함의 변동(variability of faults), 불안정하고 균일하지 않은 작동 조건들(unsteady and non-uniform operating conditions) 및 시간에 걸쳐 수집된 요소 특성들의 제한된 가용성들(limited availability of component characteristic)과 같은 부가적인 제한 사항들이 이와 같은 영역 내에 존재하기 때문일 수 있다. 상 술한 해석적인 방법들은 선형 방정식에 의해 정의되는 시스템들에 주로 적용되어 왔으며, 동역학이 비선형적인 시스템들에는 직접 적용되지 않는다. 그러나 매개 변수 식별(parameter identification)과, 칼만 필터(Kalman filter) 접근법과, 로봇 결함 진단을 위한 복수 개의 선형 신경망(neural network) 모델의 사용과, 가상의 전자 -유압 액추에이터에서의 결함을 탐지하기 위한 진단 관측기의 사용을 이용한, 로봇 시스템 분야의 몇 가지 예가 존재한다. 상태 감시 및 결함 진단을 위한 개선된 시스템을 제공하는 것이 바람직하다. <18> 실 시 예 여기에 개시되는 실시예들은, 상태 감시 및 결함 진단을 위한 시스템에 관한 것으로, 하나 이상의 요소들에 관 <40> 한 선택된 변수들(variables)의 시간 이력들을 획득하는 데이터 수집 기능과, 시간 이력의 특정 특성들을 계산 하는 전처리 기능(pre-processing function)과, 하나 이상의 요소들의 상태에 관한 하나 이상의 가정을 생성하 기 위해 특성들을 평가하는 분석 기능과, 하나 이상의 가정으로부터 하나 이상의 요소들의 상태를 결정하기 위 한 추론 기능을 포함한다. 다른 실시예는 요소 상태의 감시 및 결함 진단 방법으로서, 하나 이상의 요소들에 관한 선택된 변수들의 시간을 <41> - 8 -공개특허 10-2008-0055789획득하는 단계와, 시간 이력들의 특정한 특성들을 계산하는 단계와, 하나 이상의 요소들의 상태의 하나 이상의 가정을 생성하기 위해 특성들을 평가하는 단계와, 하나 이상의 가정으로부터 하나 이상의 요소들의 상태를 결정 하는 단계를 포함한다. 또 다른 실시예는 요소의 상태 감시와 결함 진단을 위해 컴퓨터가 사용 가능한 프로그램 코드를 갖는 컴퓨터가 <42> 사용 가능한 매체를 포함하는 컴퓨터 프로그램 제품으로서, 컴퓨터에서 실행되어, 컴퓨터가, 하나 이상의 요소 들의 선택된 변수들의 시간 이력을 획득하는 단계와, 시간 이력들의 특정한 특성들을 계산하는 단계와, 하나 이 상의 요소들의 조건의 하나 이상의 가정을 생성하기 위해 특성들을 평가하는 단계와, 하나 이상의 가정들로부터 하나 이상의 요소들의 상태를 결정하는 단계를 실행하게 한다. 또 다른 실시예는 요소의 상태 감시 및 결함 진단을 위한 시스템으로서, 하나 이상의 요소들에 관한 선택된 변 <43> 수들의 시간 이력을 획득하는 데이터 수집 기능과, 시간 이력들의 특정한 특성들을 계산하는 전처리 기능과, 하 나 이상의 요소들의 상태의 하나 이상의 가정을 생성하기 위해 특성들을 평가하는 분석 기능과, 하나 이상의 가 정들로부터 하나 이상의 요소들의 상태를 결정하기 위한 추론 기능과, 데이터 수집 기능에 의해 획득된 선택된 변수들을 결정하고 특정한 특성들을 계산하기 위한 전처리 기능 내에서 데이터 처리를 발생시키고 가정을 산출 하기 위해 분석 기능에 의해 특성들의 평가를 시작하며 추론 기능에 의해 요소 상태의 편이(deviation)를 일으 키는 관리 기능을 포함한다. 여기에서 개시되는 실시예들의 상술한 특징들 및 다른 특징들은, 첨부되는 도면들과 관련하여 이하의 상세한 설 <44> 명에서 설명된다. 도 1a 와 도 1b는 여기에서 개시된 기계의 상태 감시와 결함 진단에 적합한 시스템의 블록 다이어그램을 <45> 도시한다. 개시된 실시예들이 도면을 참조하여 설명되지만, 많은 대체 형태로 구현될 수 있음을 이해하여야 할 것이다. 나아가, 어떤 적절한 유형, 형식, 또는 요소들의 물리적 형상들이나 소재들도 사용될 수 있다. 개시된 실시예들은, 상태 감시(health monitoring)로 칭하는 시스템 요소들의 상태를 평가(assessing)하고, 결 <46> 함 진단(fault diagnosis) 기능을 수행하기 위한, 시스템과 방법에 관한 것이다. 상태 감시와 결함 진단 기능의 결과로서, 시스템은 또한 예보적인 정비나 필요한 서비스를 계획할 수 있고, 수리나 서비스가 수행될 때까지 작 동을 유지하도록 하기 위해서 시스템 단계들을 조정할 수 있다. 상태 평가는 시스템의 상태를 결정하기 위해 특성들(characteristics)과, 성능(performance)과, 출력(output <47> s)과, 시스템 요소의 작동을 나타내는 기타 지시 인자(indicators)를 측정하는 것을 말한다. 결함 진단(fault diagnosis)은 작동의 지시 인자들이나, 기타 요소 특성들이나, 또는 시스템 작동으로부터 요소의 결함을 식별하 는 능력을 말한다. 자동화된 결함 진단은 조작자의 결함 분류(fault classification)와 고장 수리 작업 (troubleshooting tasks)을 보완하거나 경감시킬 수 있는데, 여기에는 진단 에러 코드들과 쌍방향 진단 화면들 (interactive diagnostic screens)이 포함된다. 서비스(services)는 작동하고 있지 않은 요소들에 대해 수행되어 작동 상태로 복귀시키기 위한 작업들을 지칭하 <48> 는 반면, 예보적인 정비(predictive maintenance)는 적절한 작동을 유지하기 위해 수행되는 작업들을 지칭한다. 도 1a 및 도 1b에 도시된 것과 같이, 현재의 시스템은, 데이터 수집 기능(105; data collection function)과, <49> 전처리 기능(110; pre-processing function)과, 분석 기능(115; analysis function)과, 추론 기능(120; reasoning function)의 4 가지의 기능들을 포함할 수 있다. 나아가, 기능들(105, 110, 115, 120)의 작동은 상 태 감시 및 결함 진단 관리기(130; health-monitoring and fault-diagnostic manager) 에 의해 조화될 수 있다. 4 개의 기능들(105, 110, 115, 120)과 관리기의 각각은 소프트웨어, 하드웨어, 또는 이들의 조합 내 에서 구현될 수 있다. 시스템의 소프트웨어 구현부들은 컴퓨터 프로그램, 예를 들어 기계 가독성 프로그램 소스 코드(machine <50> readable program source code)로 부호화되어 하나 이상의 프로그램 저장 장치에 존재할 수 있다. 컴퓨터 프로 그램은 하나 이상의 컴퓨터들이 개시된 실시예들에 설명된 동작들을 수행하게 하도록 응용될 수 있다. 프로그램 저장 장치는 테이프, 디스크, 또는 컴퓨터 하드 드라이브와 같은 자기 매체나, 광학 매체나, 반도체 매체나, 또 는 컴퓨터 프로그램을 저장하기에 적합한 기타 장치를 포함할 수 있다. 감시되는 기계가 동작하는 동안 데이터 수집 기능이 선택된 변수들(variables)의 시간 이력을 획득하고, 전처리 <51> 기능이 획득된 시간 이력의 특정한 특성들을 계산하고, 분석 기능이 변수들과 관련되는 개별적인 요소들의 특성 들을 평가하여 각 요소들의 상태에 관한 하나 이상의 가정들을 생성하고, 추론 기능이 기계의 개별적인 요소들 의 상태와 기계가 양호한 작동 상태에 있다는 것의 확신의 정도를 포함하는 기계의 전체적인 평가(assessment) - 9 -공개특허 10-2008-0055789를 도출하는 것이 개시된 실시예들의 특징이다. 개시된 실시예들의 목적을 위하여, 기계는 광학 장치, 기계 장 치, 전기 장치, 또는 전자기계적 장치이거나, 컴퓨터 소프트웨어 프로그램이나, 이들 항목들의 조합일 수 있으 며, 작동이 감시될 수 있는 어떠한 개체(entity)를 포함할 수 있다. 시스템이 계층적으로(hierarchically) 분산된 방식으로 구현될 수 있다는 점이 개시된 실시예들의 다른 특징이 <52> 다. 예를 들어, 상태 감시와 결함 진단의 목적으로 획득된 데이터들이 데이터를 처리하기에 충분한 지능이 존재 하는 수준에서 사용되도록, 각각의 기능의 복수 객체들(instances)이 기계 내의 단계적으로 더 높은 수준의 제 어기 내에 존재하거나 연결될 수 있다. 다른 예로서, 기계는 복수 개의 로봇 머니퓰레이터(manipulators)를 구비하여 대기 영역(atmospheric sectio <53> n)을 감시하는 주제어기(master controller)를 구비하는 반도체 생산 시스템일 수 있다. 각각의 머니퓰레이터는 복수 개의 모터들을 구비할 수 있다. 데이터 수집 기능의 객체는 각각의 모터 제어기 내에 존재할 수 있고, 전 처리 기능의 객체는 모터 제어기들의 그룹을 제어하는 각각의 로봇 제어기 내에 존재할 수 있다. 대기 영역을 위한 제어기는 분석 기능의 객체를 보유할 수 있으며, 주제어기는 추론 기능의 객체를 보유할 수 있다. 이와 같 은 계층적인 접근법은, 각각의 개별적인 장치 제어기로부터 시스템 아키텍쳐(system architecture)를 통해 올라 가 주제어기를 향하는 각각의 데이터 포인트들(data points)의 실시간 스트리밍(real-time streaming)을 위한 필요를 제거함으로써 네트워크 병목을 감소시킨다. 또한 이러한 접근법은, 감시해야 하는 다른 형태의 변수들을 갖는 여러 가지 장치들에 대해 상위 제어기들이 상이한 처리 알고리즘들을 필요로 하는 데이터 수집 단계들을 구성해야 할 필요성을 제거하기 때문에 바람직하다. 계층적 접근법 또는 분산적 접근법은 e-진단법(e-diagnostics)이라고 불리는 현존하는 중심적 경향과는 다르다 <54> 는 것을 주목하여야 한다. e-진단법에서는, 상태 감시 및 결함 진달을 위하여 필요한 모든 필요한 데이터가 상 술한 주제어기와 같은 상위 레벨의 제어기로 전송되어, 이러한 상위 레벨에서 분석된다. 이러한 접근법은 하위 레벨의 제어기로부터 상위 레벨의 제어기까지 계속하여 전달되는 대단히 많은 양의 데이터를 필요로 하며, 때로 는 실시간으로 전달되어야 한다. 게다가, 상위 레벨의 제어기는 수집된 데이터를 처리할 수 있기 위해서, 로봇 화된 시스템의 모든 요소들의 특성들, 모터 매개 변수들이나 로봇들의 운동학(kinematic) 및 동역학(dynamic) 모델과 같은 특성들을 저장해야 할 필요가 있다. 도 1a 및 도 1b로 돌아가면, 각각의 기능은 일반적으로 하위 레벨로부터 데이터를 받아, 그 데이터를 처리하여 <55> 처리된 데이터를 다음 기능이나 궁극적으로는 사용자나 더 높은 수준의 시스템으로 전달한다. 도 2는 4 가지 기능들(105, 110, 115, 120)의 각각과 관리기가 실현된 예시적인 기능 제어기를 도시 <56> 한다. 기능들의 각각은 시스템 내에 존재하는 하드웨어 또는 소프트웨어 내에서 작동할 수 있다. 각각의 기능은, 예를 들어, 요소 제어기나, 많은 요소들의 작동을 지시하는 제어기나, 서브 시스템(sub-system)을 제어 하는 제어기나, 시스템 제어기 내에 존재할 수 있다. 각각의 기능은 전용 하드웨어 또는 소프트웨어 내에서 구 현될 수 있다. 일반적으로 기능 제어기는 프로세서와, 롬(205; read only memory; ROM)과, 램(215; random access <57> memory)과, 프로그램 저장소와, 사용자 인터페이스와, 네트워크 인터페이스를 포함할 수 있다. 프로세서는 온보드 캐쉬(235; on board cache)를 포함할 수 있으며, 예를 들어, 온 보드 캐쉬와, 롬 <58> 과, 램과, 프로그램 저장소와 같은 컴퓨터가 이용 가능한 매체로부터 정보와 프로그램을 읽기 위해 작동될 수 있다. 전원이 들어오면, 프로세서는 초기화 이후에 롬에서 발견되는 운영 프로그램을 개시할 수 있고, 프로 <59> 그램 저장소로부터의 명령들을 램으로 넣어, 이러한 프로그램들의 제어 하에서 작동할 수 있다. 자주 사용되는 명령들은 온 보드 캐쉬 내에 임시적으로 저장될 수 있다. 롬과 램은 반도체 기술을 이 용할 수 있고, 또는 기타 적절한 소재들과 기술들을 이용할 수 있다. 프로그램 저장소는 디스켓이나, 컴퓨 터 하드 드라이브나, 컴팩트 디스크(CD; compact disk)나, DVD(digital versatile disk)나, 광 디스크나, 칩이 나, 반도체나, 또는 컴퓨터가 읽을 수 있는 코드 형태의 프로그램들을 저장할 수 있는 기타 장치들을 포함할 수 있다. 온 보드 캐쉬와, 롬과, 램과, 프로그램 저장소는 개별적으로, 또는 조합되어 운영 시스템 <60> 프로그램들을 포함할 수 있다. 운영 시스템 프로그램들은 기능 제어기에 의해 제공되는 데이터의 질을 향 상시켜, 기능 제어기가 보장된 응답 시간을 제공하도록 부가적인 실시간 운영 시스템으로 보완될 수도 있 다. - 10 -공개특허 10-2008-0055789특별히, 온 보드 캐쉬, 롬, 램, 및 프로그램 저장소는 개별적으로 또는 서로 조합되어, 프 <61> 로세서가 데이터 수집 기능, 전처리 기능, 분석 기능, 추론 기능, 및 이하에서 설명될 상태 감시 및 결함 진단 기능 관리기의 동작을 수행하도록 하는 프로그램들을 포함할 수 있다. 나아가, 온 보드 캐쉬와, 롬 과, 램과, 프로그램 저장소에는, 예를 들어 프로세서에 의해 네트워크 인터페이스를 통하여서, 새로운 프로그램이나 업그레이드된 프로그램이 탑재될 수 있다. 네트워크 인터페이스는 일반적으로 기능 제어기와 다른 기능 제어기들이나, 시스템 제어기들이나, 또 <62> 는 기타 시스템들과의 사이의 인터페이스를 제공하도록 이루어질 수 있다. 네트워크 인터페이스는 하나 이 상의 부가 기능 제어기로부터 데이터를 받아 동일한 기능 제어기들 또는 기타 기능 제어기들로 데이터를 전달하 도록 작동할 수 있다. 또한 네트워크 인터페이스는 원격 감시 및 진단 서비스를 제공할 수 있는 글로벌 진 단 시스템(global diagnostic system)에 인터페이스를 제공할 수 있다. 통신 네트워크는 공중전화 교환망(public switched telephone network; PSTN)과, 인터넷(internet)과, 무 <63> 선 네트워크(wireless network)와, 유선 네트워크(wired network)와, 근거리 통신망(local area network; LA N)과, 광역 통신망(wide area network; WAN)과, 가상 사설 통신망(virtual private network; VPN) 등을 포함할 수 있고, x.25, TCP/IP, ATM 등의 다른 유형의 네트워크들을 더 포함할 수 있다. 하나의 실시예로서, 통신 네트 워크는 파이어와이어(firewire)라고도 불리는 IEEE 1349 네트워크일 수 있다. 기능 제어기는 디스플레이와 키보드나 마우스와 같은 입력 장치를 갖는 사용자 인터페이스 <64> 를 포함할 수 있다. 사용자 인터페이스는 프로세서의 제어 하에 사용자 인터페이스 제어기에 의 해 작동될 수 있으며, 상태 감시 및 결함 진단의 결과를 시각화한 그래픽 유저 인터페이스를 사용자에게 제공할 수도 있다. 또한 사용자 인터페이스는 고장 수리 작업들이나 복구 과정을 통해 수리 직원들을 안내하는 데 사용 될 수도 있다. 나아가, 사용자 인터페이스 제어기는 또한 다른 기능 제어기들이나, 외부 네트워크나, 기타 제어 시스템이나, 또는 호스트 컴퓨터와의 통신을 위한 연결이나 인터페이스를 제공할 수 있다. 도 1a 및 도 1b로 돌아가면, 데이터 수집 기능은 감시되는 장치들의 작동과 관련된 선택된 변수들 <65> (variables)의 시간 이력들(time history)을 획득하도록 작동한다. 시간 이력은 시간에 따른 특정 변수나 변수 들의 집합에 대한 값들의 집합을 말한다. 상술한 기능 제어기의 요소들에 부가하여, 데이터 집합 기능 은 선택된 변수들의 값들을 수집하기 위한, 하나 이상의 버퍼들을 포함한다. 또한 데이터 수집 기능 은, 기록될 장치 신호들과 변수들을 특정하고, 데이터 기록의 샘플링 주기(sampling period)를 설정하고, 데이터 기록을 위한 트리거 모드(trigger mode)(예를 들어, 이벤트 발생시(on event), 동작을 개시할 때, 동작 을 종료할 때, 임계값 이상일 때, 임계값 이하일 때, 지연이 있을 때)를 설정하고, 기록될 샘플들의 개수를 설 정하며, 데이터 기록을 정지할 메커니즘(mechanism)(예를 들어, 특정되었을 때, 이벤트 발생시(on event), 동작 을 개시할 때, 동작을 종료할 때, 임계값 이상일 때, 임계값 이하일 때, 지연이 있을 때)을 설정하기 위한 프로 그램 및 회로를 구비한다. 전처리 기능(pre-processing function; 115)은 획득된 시간 이력들의 특정된 특성들을 결정한다. 예를 들어, 특 <66> 정된 특성은 평균 신호값이나 최대 동력 소모를 포함할 수 있다. 전처리 기능에 의해 수행되는 예시적인 계산들 은, 더하기와, 빼기와, 곱하기와, 나누기와, 최대값, 최소값, 및 평균값들의 계산과 같은 단순한 수학적 연산들 과, 푸리에 변환(Fourier transformation)과, 웨이블릿 변환(wavelet transformation)과, 여러 가지 수학적인 모델들의 평가를 포함할 수 있다. 상술한 기능 제어기의 요소들에 부가하여, 전처리 기능은 데이터 수집 기능으로부터 시간 이력을 입력 받고, 필요한 단순 계산들을 수행하기 위한 프로그램 및 회로를 포함한다. 분석 기능은 많은 개별적 요소들의 특성들을 분석하고, 각각의 요소들의 상태에 관한 하나 이상의 가정들 <67> 을 생성하기 위한 알고리즘을 포함한다. 예를 들어, 분석 기능은 전압, 전류, 토크, 신호 변동 등과 같이 검사되는 특성들의 유형에 특별히 맞추어진 다양한 분석 알고리즘들을 포함할 수 있다. 다른 실시예로서, 분석 기능은, 로봇화된 생산 기계 내에서 구현되는 경우, 인코더 신호 분석, 모터 PWM 및 전류 분석, 전원 전압 분석, 추종 에러 분석(tracking error analysis), 및 로봇 토크 분석을 위한 알고리즘들을 포함할 수 있다. 알고리즘들은 단순한 임계값 규칙들과, 퍼지 로직(fuzzy logic; 160)과, 신경망(neural networks; 165)과, 회귀 분석(regression analysis; 170)과, 패턴 인식 기술(pattern recognition techniques; 175)을 포 함하는 다양한 분석 방법들의 라이브러리(library; 150)에 접근할 수 있고 이용할 수 있다. 추론 기능은 분석 기능으로부터 얻은 가정들에 기초하여, 개별적인 요소들의 상태와 하나 이상의 감 <68> 시되는 장치들이 양호한 상태에 있는 것에 관한 확신의 정도(degree of confidence)를 포함하는 시스템의 - 11 -공개특허 10-2008-0055789최종 응답을 도출한다. 추론 기능은, 예를 들어, 시스템 요소들과 서브 시스템들의 주어진 매개 변수들의 집합과 관련된 규칙 기반 정보(rule-based information)를 갖는 지식 베이스(knowledge base; 197)를 구비할 수 있는 전문가 진단 시스템을 포함할 수 있다. 전문가 진단 시스템은, 예를 들어 불리언 논리 (boolean logic; 185)나, 퍼지 로직(fuzzy logic; 190)이나 또는 신경망(neural networks; 195)에 기초한 다양 한 방법들을 이용할 수 있다. 본 시스템의 기능들은 상태 감시 및 결함 진단(health-monitoring and fault-diagnostic) 관리기 <69> (manager; 130)에 의해 조합된다. 관리기는 다수의 주어진 감시되는 장치들을 위해 작동하는 데이터 수집 기능과, 전처리 기능과, 분석 기능과, 및 추론 기능의 각각을 구성하고 시동할 수 있다. 예를 들어, 관리기는 전처리 기능이 하나 이상의 시간 이력들을 생성시키도록 하기 위해 개시 정보 <70> (triggering information) 및 기록할 다수의 샘플들과 함께 기록할 다수의 변수들로 데이터 수집 기능을 시동할 수 있다. 관리기는 데이터 수집 기능의 작동을 많은 수집 모드들의 어느 하나로 조정할 수 있 다. 예를 들어, 감시되는 장치가 정상 작동하는 동안 데이터 수집이 계속 이루어질 수 있고, 또는 장치가 현재 의 신호들을 정상적인 기준 특성(normal baseline profile)과 비교할 때 편리한 정상 작동의 일부인 미리 정해 진 특정한 작동들을 수행할 때에만 데이터 수집이 이루어질 수도 있다. 선택적으로, 감시되는 장치가 상태 감시 및 결함 진단의 목적으로 특별하게 미리 정해진 일련의 모형 작동들(template operations)을 수행할 때에 규칙 적인 간격으로 데이터 수집이 구동될 수 있다. 하나의 실시예로서, 관리기는 데이터 수집 작동 동안에 기록되는 데이터의 양을 감시되는 장치의 악화되는 상태(deteriorating health)를 탐지하거나 결함들을 진단하기 위한 최 소량으로 제한할 수 있다. 어떤 실시예들에서는, 잠재적인 문제가 탐지되면 관리기는 정확한 결함 진단을 위해 데이터 수집 기능 <71> 에 의한 부가적 데이터 수집을 개시할 수 있다. 또한 관리기는 상태 감시 및 결함 진단의 목적으로 특별히 미리 정해진 모형 시퀀스(template sequence)를 개시할 수 있다. 관리기는 시간 이력들이 전처리 기능으로 보내지면 이루어질 전처리의 유형을 지정함으로써 전처리 <72> 기능을 개시하도록 작동할 수 있다. 나아가, 관리기는 전처리 기능으로부터 받는 다양한 데이터 특성들을 위해 데이터에 대해 수행될 분석의 유형들을 가지고 분석 기능을 미리 설정할 수 있다. 또한 관 리기는 라이브러리를 미리 탑재하고, 다른 분석들에서 사용되는 방법들을 지정할 수 있다. 나아가, 관리기는 분석들이 종료될 때 추론 기능 내에서의 의사 결정(decision making)을 시작할 수 있다. 상술한 바와 같이, 시스템은 적어도 두 개의 구별되는 기능들(상태 감시 및 결함 진단)을 제공한다. 상태 <73> 감시(health monitoring)의 목적은 로봇화된 기계의 개별적인 요소들의 상태 평가(condition assessment)를 수 행하고, 요소들 가운데 어떤 요소의 문제가 되는 상태가 식별되었을 때 서비스 요청을 보고하는 데 있다. 이와 같은 정보는 예방적인 정비와, 보이지 않는 고장들로 인한 원자재 손실(material damage) 및 예정되지 않은 정 지(downtime)를 저감시키기 위해 사용될 수 있다. 부가적으로, 본 시스템은 가능하다면 기계가 기능을 하도록 유지시키고, 주요 성능 특성들(key performance characteristics)에 관해 진행되는 고장의 효과를 감소시키고, 및/또는 기계가 수리될 때까지 (예를 들어, 다음 일정의 수리 작업이 이루어질 때까지) 기계가 작동하도록 하기 위해 치명적 고장까지 이르는 시간을 증가시키기 위해, 로봇화된 기계의 동작을 조정할 수 있다. 한편, 결함 진단의 목적은 조작자의 결함 분류(fault classification)와 고장 수리 작업(troubleshooting <74> tasks)을 보완하거나 경감시킬 수 있는데, 여기에는 진단 에러 코드들과 쌍방향 진단 화면들(interactive diagnostic screens)이 포함되어, 서비스의 응답성과, 질과 비용을 향상시킨다. 본 상태 감시 및 결함 진단 시스템이 구현되는 예시적인 실시예로서, 반도체 장치의 생산을 위한 자동화된 소재 <75> 취급 플랫폼이 사용될 수 있다. 반도체 장치들의 생산을 위한 예시적인 소재 취급 플랫폼(material-handling platform)이 도 3에 개략적으로 도 <76> 시되며, 주요 구성 요소들을 설명하는 요지가 표 1에 나열된다. [도 3의 자동화된 소재 취급 플랫폼을 위한 예시적 요지] <77> - 12 -공개특허 10-2008-0055789표 1 <78> 플랫폼은 대기 영역(atmospheric section; 301)과, 진공 영역(vacuum section; 302)과, 하나 또는 복수 개의 <79> 공정 모듈들(process modules; 303)을 구비한다. 대기 영역은 칸막이와, 하나 또는 복수 개의 로드포트들(loadports; 305)과, 하나 또는 복수 개의 로 <80> 봇 머니퓰레이터들(robotic manipulators; 306)과, 하나 또는 복수 개의 기판 얼라이너들(aligners; 307)과, 팬 필터 유닛(fan-filter unit; 308)을 구비한다. 또한 대기 영역은 하나 이상의 이온화 유닛들(미도시)을 구비 할 수 있다. 진공 영역은 진공 챔버와, 하나 또는 복수 개의 로드 락들(load-locks; 310)과, 하나 또는 복 수 개의 로봇 머니퓰레이터들과, 하나 또는 복수 개의 진공 펌프들과, 복수 개의 슬릿 밸브들(slit valves; 313)을 구비할 수 있다. 슬릿 밸브들은 로드 락들과 진공 챔버의 사이와, 진공 챔버와 공정 모듈의 사이에서, 로드 락들과 함께 대기 영역의 경계면에 전형적으로 배치된다. 플랫폼의 작동은 기계 제어기에 의해 제어되며, 기계 제어기는 대기 영역 제어기와, 진공 영역 제어기 <81> 와, 하나 또는 복수 개의 공정 제어기들을 감독한다. 대기 영역 제어기는 하나 또는 복수 개의 로드포트 제어기들과, 하나 또는 복수 개의 대기 로봇 제어기들과, 하나 또는 복수 개의 얼라이너 제 어기들과, 팬 필터 유닛 제어기를 담당한다. 로드포트 제어기들과 대기 로봇 제어기들과 얼라이너 제어기들의 각각은 교대로 하나 또는 복수 개의 모터 제어기들을 담당한다. 진공 영역 제어 기는 하나 또는 복수 개의 진공 로봇 제어기들을 담당하고, 진공 펌프를 제어하고, 슬릿 밸브들 을 작동시킨다. 공정 제어기의 기능은 공정 모듈들에서 수행되는 작동들에 따른다. 어떤 경우들에 있어서, 하나의 제어기에 두 개 또는 그 이상의 제어층들(layers of control)을 병합시키는 것이 <82> 실용적일 수 있다. 예를 들어, 대기 로봇 제어기와 그에 대응하는 모터 제어기들은 하나의 중앙 로봇 제어기에 병합될 수 있고, 또는 대기 영역 제어기는 두 개의 독립적인 제어기 유닛들의 필요성을 제거하기 위하여 대기 로봇 제어기와 함께 병합될 수 있다. - 13 -공개특허 10-2008-00557895축 직접 구동(five-axis direct-drive) 로봇 머니퓰레이터가 도 3에 도시된 플랫폼에 채택될 수 있다. 이와 같 <83> 은 로봇 머니퓰레이터의 단순화된 개략도가 도 4에 제공된다. 주요 구성 요소들을 설명하는 요지가 표 2에 나열 된다. [도 4의 로봇 머니퓰레이터를 위한 예시적인 요지] <84> 표 2 <85> - 14 -공개특허 10-2008-0055789<86> 도 4를 참조하면, 로봇 머니퓰레이터는 원형의 마운팅 플랜지에 매달린 중공 원통형 프레임의 둘레에 <87> 설치된다. 프레임은 수직 레일과 선형 베어링을 결합하여 볼 스크류 메커니즘을 통해 브러 시리스 DC 모터(brushless DC motor)에 의해 구동되는 캐리지(405; carriage)에 대한 안내를 제공한다. 캐리지 는 광학 인코더들(410, 411)이 장착된 한 쌍의 동축 브러시리스 DC 모터들(408, 409)을 둘러싼다. 상부 모 터는 로봇 아암(arm)의 제1 링크에 연결된 중공의 외부축을 구동한다. 하부 모터는 벨트 구동을 통해 제2 링크에 연결되는 동축의 내부축에 연결된다. 제1 링크는 2단의 벨트 배치 (418A, 419A)를 통해 상부 엔드 이펙터(420A)를 구동하는 브러시리스 DC 모터(417A)를 둘러싼다. 다른 DC 브러 시리스 모터(417B)와 2단의 벨트 구동(418B, 419B)은 하부 엔드 이펙터(420B)를 구동하도록 채택된다. 각 스테 이지들(stages; 418A, 418B, 419A, 419B)은 입력 풀리와 출력 풀리의 사이에서 1:2의 비율로 설계된다. 기판들 (421A, 421B)은, 진공에 의해 작동되는 가장자리 접촉식 그리퍼들(edge-contact grippers)이나 표면 접촉식 흡 착 그리퍼들(surface-contact suction grippers)의 수단에 의해 엔드 이펙터들(420A, 420B)에 각각 부착되어 지지된다. 예시적인 그리퍼 설계들에 관해서는 도 5 및 도 6을 참조하시오. 제1 링크와, 제2 링크와, 상부 엔드 이펙터(420A)와, 하부 엔드 이펙터(420b)는 또한, 문장들에서 상 <88> 박(upper arm), 전박(forearm), 엔드 이펙터 A와, 엔드 이펙터 B로도 불린다. 지점들 A, B, C 는, 각각 쇼울더 조인트(shoulder joint), 엘보우 조인트(elbow joint), 손목 조인트(wrist joint)로 불리는 감기는 커플링 (revolute coupling)을 지시한다. 지점 D는 대응하는 엔드 이펙터 상에서 기판의 중심의 바람직한 위치를 지시 하는 기준점을 나타낸다. 예시적인 로봇 머니퓰레이터의 제어 시스템은 분산형일 수 있다. 제어 시스템은 전원, 주제어기, 및 <89> 모터 제어기들(423A, 423B, 423C)을 포함한다. 주제어기는 감독 업무와 경로 계획(trajectory planning) 을 담당한다. 모터 제어기들(423A, 423B, 423C)의 각각은 하나 또는 두 개의 모터들에 관한 위치 및 전류 피드 백 루프(position and current feedback loops)를 실행한다. 도 4에 있어서, 제어기(423A)는 모터들(408, 40 - 15 -공개특허 10-2008-00557899)을 제어하고, 제어기(423B)는 모터들(417A, 417B)을 제어하며, 제어기(423C)는 모터를 제어한다. 나아가 피드백 루프를 실행하기 위해서, 모터 제어기들은 또한 모터 전류, 모터 위치, 모터 속도와 같은 데이터를 수집 하여, 데이터를 주제어기에 보낸다. 모터 제어기들(423A, 423B, 423C)은 고속 통신 네트워크를 통해 주제 어기에 연결된다. 조인트 A가 무한 회전 조인트이므로, 통신 네트워크는 슬립링(slip-ring; 426)을 통해서 연결 된다. 엔드 이펙터들(420A, 420B)의 가장자리 접촉식 그리퍼들을 지원하기 위해 부가적인 전자 유닛들(424A, 424B)이 각각 사용될 수 있다. 도 5는 진공에 의해 작동되는 가장자리 접촉식 그리퍼 시스템의 개략도를 도시한다. 그리퍼 시스템은 진공 라인 <90> 의 일단에 부착되는 벨로우즈(501; bellows)와, 타단에 부착되는 플런저(503; plunger)를 포함한다. 진공이 없 으면 스프링이 장착된 플런저가 기판을 정지단(stationary stop; 504)을 향해 밀어서 기판을 위치에 유지 한다. 진공이 존재하면, 플런저가 후퇴하여 기판의 지지가 해제된다. 플래그(flag; 507)의 위치는 플런저의 위 치를 결정하기 위해 사용되며, 플런저의 위치는 다음의 세 상태들, 해제됨(플런저가 후퇴함)과, 적절히 고 정됨(플런저가 일부 연장됨)과, 고정 실패(플런저가 완전히 연장됨)의 하나를 차례로 나타낸다. 그리 퍼는 도 4의 431A 또는 431B와 같은 진공 밸브를 개방시키고 폐쇄시킴으로써 작동된다. 진공 압력은 도 4의 432A 또는 432B와 같은 압력 센서에 의해 측정될 수 있다. 도 6은 표면 접촉식 흡착 그리퍼의 단면도를 도시한다. 로봇 엔드 이펙터는 진공 라인에 연결되는 두 <91> 개 또는 그 이상의 오리피스들(orifices; 605)을 구비한다. 진공이 존재하면 기판은 엔드 이펙터을 향하여 당겨지고, 마찰에 의해 위치로 유지된다. 그리퍼 작용은 도 4의 431A 또는 431B와 같은 진공 밸브에 의 해 개시된다. 엔드 이펙터 위에 기판이 존재하는지 또는 없는지는 도 4의 432A 또는 432B와 같은 압 력 센서에 의해 결정될 수 있다. 기판이 존재하면, 압력 센서(432A 또는 432B)는 진공을 탐지한다. 상기 나타난 것과 같이, 그리퍼들의 두 가지 유형은 모두 진공 라인을 개방하거나 폐쇄하는 도 4의 431A 및 <92> 431B와 같은 진공 밸브를 필요로 한다. 진공 밸브들은 주제어기 또는 모터 제어기들(422, 423A-C)에 의해 제어 될 수 있다. 나아가, 또한 진공 시스템은 진공 시스템 내의 진공의 수준을 결정하는 데 사용되는 압력 센서들을 구비할 수 있다. 진공에 의해 작동되는 가장자리 접촉식 그리퍼 또는 표면 접촉식 흡착 그리퍼를 위한 진공의 사용은, 조인트들 <93> 을 통과하여 배치되어 진공 펌프와 같은 외부 진공 공급원을 엔드 이펙터에 연결하는 진공 라인을 필요로 한다. 조인트들 A 와 C는 연속적인 회전 조인트이고, 조인트들 A 및 C를 가로질러 진공을 전달하기 위해 립 실(lip seals; 433, 434A, 434B)이 사용된다. 어떤 경우들에 있어서, 로봇 엔드 이펙터들(420A, 420B)의 각각에는 기판 감지 센서가 장착될 수 있다. 이와 같 <94> 은 센서는 도 5의 진공에 의해 작동되는 가장자리 접촉식 그리퍼와 도 6의 표면 접촉식 흡착 그리퍼의 상술한 기판 존재 감지 방법을 보완하거나, 기판이 엔드 이펙터 상에 수동적으로 존재할 때, 예를 들어 기판과 엔드 이 펙터의 사이의 마찰력에 의해 존재할 때, 기판 존재를 감지하는 유일한 수단으로서 기능할 수 있다. 또한 엔드 이펙터들(420A, 420B)의 각각에는 도 4의 428A 및 428B와 같은 기판 매퍼 센서(substrate mapper <95> sensor)가 장착될 수 있다. 각각의 매퍼 센서는 도 7에 도시된 것과 같이 발광기와 수광기를 구비한 다. 로봇이 기판 캐리어(carrier)를 스캔할 때에, 광 검출기의 이진 출력이 상태를 바꾸므로 기판 캐리어의 각 각의 슬롯들에 웨이퍼가 존재하는지 없는지를 결정하는 제어기에 의해 광 검출기의 이진 출력이 읽힌다. 또한 제어기는 이진 출력이 상태를 바꿀 때에 로봇 축들의 위치들을 기록하고, 이와 같은 정보를 로드포트(load port) 내에 경사지게 꽂힌 (cross-slotted) 웨이퍼들과 겹치게 꽂힌(doubly placed) 웨이퍼들을 검출하는 데 사용한다. 로봇의 수직 운동을 제어하는 모터(도 4의 모터)에는 솔레노이드에 의해 작동되는 브레이크가 장착된 <96> 다. 모터 토크가 없는 경우, 로봇의 자유 낙하를 방지하기 위해 브레이크가 결합한다. 또한 수직축에는 캐리지 가 수직 운동의 허용 가능한 범위를 벗어나는 것을 탐지하는 리미트 스위치들과 같은 초과 이동 센서들 (over-travel)이 장착될 수 있다. 로봇 머니퓰레이터는 모터들과 전자 장치들에 의해 발생되는 열을 제거하기 위한 냉각팬들과 같은 부가적인 요 <97> 소들을 포함할 수 있다. 어떤 분야에서는, 로봇 머니퓰레이터는 수평 방향의 횡단기(horizontal traverser)에 설치될 수도 있다. 도 4의 410 및 411과 같은 광학 인코더들은 로봇의 적절한 작동을 위해 중요하며, 상태 감시 및 결함 진단을 위 <98> 한 정보의 귀중한 공급원을 나타난다. 엔코더들의 기능성에 관한 더 상세한 설명을 한다. 회전식 광학 인코더는 - 16 -공개특허 10-2008-0055789회전 운동을 제어기와 쉽게 연결되는 디지털 출력으로 변환하는 장치이다. 광학 인코더들에는 증가형 (incremental)과 절대치형(absolute)의 두 가지 유형이 있다. 회전식 증가형 광학 인코더(도 8)는 이하의 요소들, 즉 광원, 회전 인코더 디스크, 정지 마스크(stationary <99> mask), 광검출기(photo-detector), 광검출기의 출력 신호들을 증폭시키고 사각화시키는(square) 전자 기기들을 구비할 수 있다. 인코더 디스크가 마스크 앞에서 회전할 때 마스크가 광원으로부터의 광을 차단한다. 마스크를 통과하는 광은 유사 정현파(quasi-sine wave) 출력의 형태의 펄스들을 생성하는 광검출기에 의해 수광된다. 인 코더 전자 기기들은 이 출력을 카운터로 전달하기에 적합한 사각파(square wave) 형태로 변환한다. 카운트의 개 수는 인코더 디스크의 회전 위치에 정확하게 비례한다. 또한 많은 인코더들은, 예를 들어 초기 위치를 결정하기 위한 기준점으로서 기계적인 매회전마다 하나의 펄스를 제공하는 하나의 제로 표시(zero mark)를 구비한다. 이론상, 회전식 절대치형 광학 인코더들(도 9)은 회전하는 디스크가 출력 신호를 생성하기 위해 광원과 광검출 <100> 기의 사이에서 광을 가로막는다는 점에서 증가형 인코더와 유사하다. 그러나 하나의 트랙(single track)의 증가 형 인코더와는 달리 절대치형 인코더 디스크는 복수 개의 동심원 트랙들을 형성한다. 각각의 트랙은 투명 영역 과 불투명 영역을 갖는다. 이와 같은 독립적인 트랙들은 각각의 분해 가능한 위치(resolvable position)를 위한 고유한 조합을 제공한다. 절대치형 인코더의 모든 위치는 고유하므로, 절대치형 인코더들은 전원이 제거되어도 위치를 잃지 않는다. 그러므로 제로 위치나 홈 위치로 복귀시킴으로써 시스템을 초기화할 필요도 없다. 대부분 의 적용 분야에 있어서, 절대 위치는 장치가 켜질 때 결정된다. 절대 위치가 정해지는 것으로부터 고속에서 고 분해능을 얻는 것이 가능하기 위해서 아날로그 사인/코사인 신호들에 기초하여 증가형 방식으로 위치가 결정된 다. 예시적인 로봇 머니퓰레이터는 고장을 일으킬 수 있는 수많은 구성 요소들을 갖는 복잡한 메카트로닉 <101> (mechatronic) 시스템이다. 이러한 구성 요소들은 전원, 모터들, 인코더들, 벨트들, 베어링들, 볼스크류들, 브 레이크들, 진공 시스템 요소들, 통신 시스템 요소들, 주제어기, 모터 제어기들, 및 냉각팬들을 포함한다. 본 상태 감시 및 결함 진단 시스템은 개별적인 시스템 구성 요소들의 상태 평가를 수행하기 위해 선택된 신호들 <102> 의 시간 이력들을 이용한다. 신호들은 기계 내에 이미 존재하는 신호원으로부터 구할 수도 있고, 상태 감시 및 결함 진단의 목적으로 특별히 부설된 부가적인 센서들로부터 올 수도 있다. 일반적으로 기계 내에 이미 존재하는 신호원들로부터 가능하면 많은 정보를 추출하는 것이 바람직하다. 즉, 이 <103> 러한 신호원들은 원하는 기능을 달성하기 위해 로봇과 기타 장치들에 의해 사용되는 것이다. 이는 부가적인 센 서들이 복잡성과 비용을 증가시키기 때문이다. 그러나 많은 경우들에 있어서, 존재하는 신호들로부터 모든 정보 를 추출하는 것은 불가능하고 더 강력하고 값비싼 프로세서들에서 실행되어야 하므로 개발하고 지원하는 데 비 용이 많이 드는 복잡한 알고리즘들을 필요로 하므로 상태 감시 및 결함 진단의 목적으로 특별히 센서들을 부가 하는 것이 바람직하다. 존재하는 측정 가능한 신호들 <104> 전형적으로, 다음과 같은 신호들은 로봇화된 제조 기계 내에 존재하며, 상태 감시 및 결함 진단을 위해 이용될 <105> 수 있다. (a) 모터 PWM 듀티(motor PWM duty): 모터의 PWM 듀티는 어떤 주어진 시간에 각각의 모터 상(motor phase)에 공급되는 입력 전압의 백분율이다. 모터 상들의 각각에서의 듀티 주기(duty cycle)는 상태 감시 및 결 함 진단 시스템에서 이용 가능하다. (b) 모터 전류(motor current): 모터 전류는 각 모터들의 세 개의 상들의 각각을 통과하는 전류를 나타낸다. 모터 전류는 절대값으로 얻을 수 있거나 최대 전류의 백분율로 얻을 수 있다. 절대값으로 얻어진 경우 전류는 앰프(Amps)의 단위를 갖는다. 모터 전류값은 모터 토크와 전류의 관계를 이용하여 모터 토크를 계산하는 데 교대로 사용될 수 있다. (c) 실제 위치, 속도, 및, 가속도: 이들은 각각의 모터 축들의 위치, 속도, 및 가속도이다. 회전축(rotational axes)에 대해서, 위치, 속도, 및 가속도 값들은 각 각 각도(degree), 각도/초(degree/sec), 및 각도/제곱초(degree/sec2)의 단위이다. 병진축(translational axes)에 대해서, 위치, 속도, 및 가속도 값들은 각각 mm, mm/sec, 및 mm/sec2 의 단위이다. (d) 원하는 위치, 속도 및, 가속도: 이들은 제어기가 모터에게 갖도록 명령한 위치, 속도, 및 가속도 값들이다. 이들 특성들은 상 기한 실제 위치, 속도, 및 가속도와 유사한 단위를 갖는다. (e) 위치 및 속도 추종 에러(tracking error; 추종 오차): 이들은 각각의 원하는 값들과 실제 값들의 사이의 차이다. 이들 특성들은 상기한 실제 위치, 속도, 및 가속도와 유사한 단위를 갖는다. (f) 정착 시간(settling time): 정착 시간은 위치 및 속도 추종 에러들이 동작 의 말미에 정해진 창 안에 안정하는 데 걸리는 시간이다. (g) 인코더의 아날로그 출력 및 절대 위치 출력: 모터 위치는 두 가지 유형의 신호들(아날로그 신호들과 절대 위치 신호들)을 출력하는 인코더들에 의해 정해진다. 아 - 17 -공개특허 10-2008-0055789날로그 신호들은 밀리 볼트(mVolts) 단위의 사인 신호와 코사인 신호들이다. 절대 위치 신호들은 지나간 아날로 그 사인 주기들의 개수 또는 지나간 아날로그 사인 주기들의 정수배를 나타내는 지워지지 않는 정수값들이다. 전형적으로, 디지털 출력은 전원이 켜지면 읽혀지고, 그 이후에 축의 위치가 아날로그 신호들로부터 유일하게 정해진다. (h) 그리퍼 상태: 이는 그리퍼의 상태(개방 또는 폐쇄)이다. 진공에 의해 작동하는 가장자리 접촉식 그리퍼의 경우에 있어서의 그리퍼 상태는 하나 이상의 센서들의 차단/해제의 상태이다. (i) 진공 시스템 압력: 진공 시스템 압력은 진공 센서에 의해 측정되는 진공의 수준이다. 진공 센서는 출력이 아날로그-디지털 변환기 에 의해 디지털화되는 아날로그 센서이다. 흡착 그리퍼(suction gripper)의 경우에 있어서, 진공의 수준은 웨이 퍼가 파지되었는지를 나타낸다. (j) 기판 감지 센서 상태: 수동적 파지 엔드 이펙터에 있어서, 웨이퍼 감지 센 서 출력은 이진 출력(binary output)이다. 진공에 의해 작동하는 가장자리 접촉식 파지 엔드 이펙터에 있어서, 웨이퍼의 존재는 두 개 또는 그 이상의 센서들의 출력 상태로부터 결정된다. 이들 출력 상태의 각각은 이진 (binary)이다. (k) 매퍼 센서 상태(mapper sensor state): 이는 매퍼 센서의 상태(어떤 주어진 상황에서 차단 되거나, 해제된 상태)이다. (l) 매퍼/얼라이너 검출 광 강도: 이는 광검출기(light detector; 도 3의 503)에 의 해 검출되는 광의 강도의 측정값이다. 이와 같은 신호는 전형적으로 정수값으로 얻을 수 있는데, 예를 들어 0 내지 1024의 범위를 가질 수 있다. (m) 매퍼 센서 위치 포착 데이터: 이는 매퍼 센서가 상태를 바꾸는 로봇 축 위치값들의 배열이다. (n) 진공 밸브 상태: 이는 진공 밸브의 명령이 내려진 상태이다. 이는 진공 밸브를 작동 시키는 솔레노이드가 활성화되는지는 설정한다. (o) 퓨즈 출력 단자들(fuse output terminals)에서의 전압: 모 터 제어 회로 내의 각각의 퓨즈들의 출력 단자들의 전압들이 감시된다. 끊어진 퓨즈는 낮은 출력 단자 전압을 일으킨다. (p) 기판 위치 정렬 데이터: 이들은 얼라이너에 의해 보고되는 기판 편심 벡터(eccentric vector)와 기판의 정렬 피두셜(alignment fiducial)의 각도 방향이다. (q) 외부 기판 센서들이 이동할 때의 위치 데이터: 어떤 경우들에 있어서, 기계의 대기 영역과 진공 영역들에는 로봇에 의해 이송되는 기판의 선단 가장자리 (leading edge)와 후단 가장자리(trailing edge)를 검출하는 광학 센서들이 장착된다. 이들 이벤트들에 대응하 는 로봇 위치 데이터는 이송중의(on the fly) 로봇 엔드 이펙터 상에서의 기판의 편심도(eccentricity)의 인식 을 위해 사용된다. (r) 기판 주기 시간: 이는 하나의 기판이 기계에 의해 처리되는 데 소요되는 시간으로, 전형 적으로 정상 흐름 조건하에서 측정된다. (s) 소형 환경 압력(mini-environment pressure): 이는 기계의 대기 영 역에서 압력 센서에 의해 측정되는 압력이다. HMFD를 위한 부가적인 센서들 <106> 상술한 바와 같이, 기계 내에서 이미 얻을 수 있는 신호들을 상태 감시 및 결함 진단을 위한 목적으로 특별히 <107> 부가되는 정보 공급원에 의해 보완하는 것이 때로는 바람직하다. 이러한 정보 공급원들은 이하를 포함할 수 있 다. (a) 모터 토크의 직접 측정: 모터 토크는 모터 전류로부터 추정되는 대신 직접 측정될 수 있다. 모터 토크 의 측정은 전기가 가해지는 모터를 고정으로 유지하는 데 필요한 외부 힘/토크를 측정하는 힘 게이지(force gauge)나 토크 게이지(torque gauge)를 이용하여 이루어진다. (b) 모터 온도: 이는 모터의 온도를 말하며, 모터 에 장착되는 온도 센서에 의해 측정된다. 온도는 화씨 도(degree C)의 단위로 얻을 수 있다. (c) 초과 이동 센 서들(over-travel sensors): 이들은 센서들과 연관된 운동축이 허용 가능한 이동 범위를 벗어나는 것을 나타내 는 리미트 스위치들과 같은 센서들이다. (d) 음향 및 진동 센서 데이터: 이는 로봇의 다양한 지점이나 로봇 가 까이 배치되는 마이크로폰(microphones)과 가속도계(accelerometer)로부터 얻어지는 전기적인 신호들을 나타낸 다. (e) 적외선 센서 데이터: 이는 온도 변동을 감시하기 위해 기계 내의 다양한 지점들에 배치되는 적외선 센 서들로부터 얻는 온도 수치를 나타낸다. (f) 동력 소모: 모터 전류들, 속도들, 듀티 주기 값들은 어떤 주어진 시간에서 각 모터에 의해 소모되는 전기적인 동력을 계산하는 데 사용될 수 있다. (g) 편향(deflection): 이는 편향을 측정하기 위해 로봇의 다양한 지점들에 배치되는 스트레인 게이지들(strain gauges)로부터 얻는 전기적 인 신호들을 나타낸다. (h) 벨트 장력(belt tension): 벨트 장력 조절기(belt tensioner)에 부착되는 힘을 감 지하는 장치의 출력은 벨트 장력의 측정값으로 기능한다. 벨트 장력은 뉴턴(Newtons)의 단위를 갖는다. (i) 냉 각팬들의 작동의 지속시간(duration): 냉각팬들은 연속적으로 작동하거나, 온도조절기(thermostat)에 의해 제어 될 수 있다. 로봇으로부터의 열 발산을 훌륭하게 지시하는 것은, 온도조절기에 의해 제어되는 냉각팬의 작동의 지속시간이다. (j) 기판의 정전기 전하(electrostatic charge): 기타 방법들 중에, 기판의 제어된 방전을 통해 기판 전하의 수준이 정해질 수 있다. (k) 외부 센서들이 이동할 때의 위치 데이터: 이동하는 제어기가 대응하는 로봇 위치 데이터를 포착하고 결과 정보(예를 들어, 로봇과 기판의 반복 재현성(repeatability) 검사를 위한 정 보)를 이용하도록 하기 위해 기판들의 가장자리와 로봇 구성 요소들을 검출하는 부가적인 외부 센서들이 사용될 수 있다. (l) 비디오 이미지들(video images): 이는 로봇이 주기적으로 도달하는 특정 위치에 고정적으로 설치 되는 비디오 카메라나 로봇에 의해 이동하는 카메라로부터 얻는 비디오 이미지들을 나타낸다. 로봇에 의해 이동 하는 카메라의 경우에, 카메라들은 엔드 이펙터를 향하거나, 고정 표지(stationary markers)를 향할 수 있다. - 18 -공개특허 10-2008-0055789(m) 충만 압력(plenum pressure): 이는 팬 필터 유닛 내의 필터의 입력측의 압력 센서에 의해 측정되는 압력이 다. 예시적인 고장의 모드들(modes) <108> 구성 요소들의 고장은 크게 두 가지 유형, 점진적으로 형성되는 만성 고장(chronic failure)과, 갑자기 발생하 <109> 는 급성 결함(acute fault)으로 분류될 수 있다. 첫 번째 종류의 결함은 상태 감지 시스템에 의해 초기 형성 시 기에 탐지될 수 있다. 빠른 탐지 및 수리는 작동되는 동안의 예기치 않은 고장을 피하는 데 도움이 될 것이다. 반면, 두 번째 유형의 결함들은 빠른 탐지를 불가능하게 한다. 그러나 결함 진단 시스템은 이들 결함들이 발생 할 때에 진단하는 것을 도울 수 있고, 그로 인해 기계가 다시 작동되게 하기 위한 시간을 단축시킬 수 있다. 발"}
{"patent_id": "10-2008-7002964", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 2, "content": "생할 수 있는 다른 유형의 결함들이 이하에 열거되며 표 3에 요약된다. [예시적인 고장의 모드와 그 증상들] <110> 표 3 <111> <112> - 19 -공개특허 10-2008-0055789<113> <114> <115>- 20 -공개특허 10-2008-0055789<116> <117> <118> - 21 -공개특허 10-2008-0055789<119> - 22 -공개특허 10-2008-0055789<120> 로봇 및 얼라이너(robot and aligner) <121> 모터 결함 <122> 모터들은 로봇의 핵심 구성 요소들이며, 준최적 동작(sub-optimal operation)을 가져오는 많은 방법들의 하나에 <123> 서 고장이 날 수 있다. 이하는 점진적으로 형성되며 형성될 때 예측될 수 있는 고장 모드들의 일부이다. (a) 영 구 자석들의 약화: 영구 자석들의 약화(예를 들어, 독성 환경(aggressive environment)에서의 자성 소재의 붕괴 (disintegration)는 자기장 세기의 손실을 가져오고, 그 다음에는 주어진 전류에 대한 낮은 토크 출력을 가져온 다. 동일한 토크 출력을 유지하기 위해서는 더 높은 권선 전류가 필요하다. 더 높은 전류는 더 높은 저항 에너 지 손실을 가져오고, 그 다음에는 전체적인 동력 소모의 증가와 모터 온도의 증가를 가져온다. (b) 고정자 (stator)의 슬립/정렬불량(slipping/misalignment)과, 부정확한 위상각: 고정자를 제 위치에 유지하는 클램프들 이 느슨해지는 것은 고정자의 슬립과 정렬 불량을 가져온다. 이는 유효 모터 위상 각도를 변화시키고, 이로 인 해 부정확한 정류(commutation)가 야기된다. 부정확한 모터 위상각은 위상각 추정 단계의 부정확한 이행으로부 터 발생할 수도 있다. 증상들은 상기한 약화된 자석들의 증상들, 즉 높아진 권선 전류, 모터 온도, 및 동력 손 실과 유사하다. (c) 높은 연결 저항: 모터 연결 단자의 오염 및/또는 부식은 더 높은 유효 저항을 야기한다. 이 로 인해 듀티 사이클(duty cycle)과 전체적인 동력 손실과 모터 온도 의 증가를 가져온다. 이하의 모터 결함들은 갑자기 발생할 수 있다. (a) 타버린 모터 위상: 갑작스럽게 발생하는 모터 결함의 하나의 <124> 예는 타버린 모터 위상(burnt motor phase)이다. 이 결함은 일반적으로 영향을 받은 위상의 갑작스런 전류 강하 만을 감지하는 모터 제어기에 의해 표시된다. (b) 끊어진 퓨즈: 끊어진 퓨즈는 모터 증폭기에 대한 동력 공급을 차단하여, 그 결과 모든 모터 위상들에 대한 동력 공급을 차단한다. 끊어진 퓨즈는 퓨즈의 출력 단자의 갑작스 런 전압 강하를 일으킨다.인코더 결함들(encoder faults) 인코더 결함들은 잘못된 위치 독출을 일으킬 수 있다. 인코더 결합들은 이하의 유형들을 포함할 수 있다. (a) <125> 광학 디스크 오염: 먼지의 축적이나, 인코더 디스크나 독출 헤드(read head) 상의 베어링 그리스(grease)의 이 동은, 인코더로부터의 아날로그 사인 신호 출력의 약화를 가져온다. 이는 점진적으로 발생하는 결함이며, 인코 더 사인 신호들의 진폭을 감시함으로써 예측될 수 있다. 신호 약화의 정도는 인코더 위치의 함수로 변화한다. (b) 독출 헤드 정렬 불량(read-head misalignment): 인코더의 두 개의 사인/코사인 신호들은 일반적으로 90도의 위상 차이가 있다. 그러나 잘못 정렬된 독출 헤드는 신호들의 약화에 부가하여 두 개의 신호들의 사이의 위상 차이의 변화를 가져올 수 있다. 그러므로 이러한 결함은 신호들 사이의 위상 차이를 감시함으로써 검출될 수 있 - 23 -공개특허 10-2008-0055789다. 이러한 결함은 점진적으로 또는 갑작스럽게 발생할 수 있다. (c) 전기적인 노이즈: 신호들의 전기적인 노이 즈는 인코더의 아날로그 신호 내에서 낮은 신호대 잡음비(signal to noise ration)를 가져온다. 이러한 결함은 외부 이벤트들에 대한 응답이나 하네스(harness) 작동 불량으로 인해 간헐적으로 발생할 수 있으므로, 인코더 아날로그 신호의 신호대 잡음비를 감시함으로써 검출될 수 있다. (d) 잘못된 인코더 카운트: 전형적으로 전원이 들어오면 절대 위치가 읽히고, 그 이후에 라인 개수(line count)와 아날로그 신호들이 축 위치를 결정하기 위해 사용된다. 라인 개수와 가능한 경우 아날로그로부터 도출되는 축 위치가 인코더 절대 위치에 대해 주기적으로 검사될 수 있다. 잘못된 인코더 카운트는 축 위치와 절대 위치(축 위치와 절대 위치는 동일한 시간의 순간에 독 출된다)의 사이의 차이에 의해 표시된다.구동 벨트 결함들 타이밍 벨트(timing belts)는 동력 전달 장치로 기능하며, 다음과 같은 방식으로 고장이 날 수 있다. (a) 부정 <126> 확한 벨트 장력: 늘어남으로 인해, 벨트 장력은 점점 감소한다. 낮은 밸트 장력은 위치 서보 루프(position servo loop)의 점진적인 불안정화를 일으킨다. 부정확한 벨트 장력은 증가하는 요동 위치 및 속도의 추종 에러 들 뿐만 아니라 감소된 안정도 여유(stability margin)로 나타난다. 벨트 장력 조절기의 지나친 조정은 정상적 인 벨트 장력보다 높은 장력을 가져올 수도 있다. 높거나 낮은 벨트 장력은 또한 벨트 장력 조절기에 장착된 힘 센서들에 의해 측정되는 힘의 증가나 감소를 가져온다. 벨트 장력의 변화는 또한 벨트 가까운 지점에서 측정된 음향 및 구조적 진동 신호들의 주파수 스펙트럼의 변화를 가져온다. 나아가, 벨트 장력의 변화는 메커니즘의 주 파수 응답의 변화를 통해 검출될 수 있다. (b) 구성 요소들에 대한 벨트 마찰: 부정확한 벨트 조립이나, 기계적 인 문제로 인한 벨트 요동(walking)은 이웃하는 구성 요소에 대한 마찰을 가져온다. 과도한 벨트 마찰은 마찰력 과, 동력 소모, 전류 소모, 열 발산 및 모터 온도의 증가를 가져온다. (c) 벨트 슬립: 벨트는 타이밍 기어 (timing gear)에 대해 미끄러질 수 있고, 이와 같은 슬립은 충돌의 결과로 갑자기 발생할 수 있다. 미끄러진 벨 트는 추종 에러의 증가를 가져오고, 또한 외부 위치 센서 수치의 상당한 변이를 일으킨다. 외부 위치 센서의 하 나의 예는 외부에 장착된 비디오 카메라일 수 있다. 미끄러진 벨트는 로봇 관절부의 인코더와 같은 여유 위치 센서들과, 모터에 연결된 인코더와 같은 주된 위치 센서들의 사이의 일치하지 않는 수치로 나타날 수 있다. 진공 시스템 결함 <127> 진공 압력은 웨이퍼를 붙잡기 위해 사용된다. 두 가지 유형의 진공에 기초한 웨이퍼 그리퍼들이 있는데, 즉 도 <128> 6의 표면 접촉식 흡착 그리퍼(surface-contact suction gripper)와, 도 5의 가장자리 접촉식 진공 작동 그리퍼 (edge-contact vacuum actuated gripper)이다. 진공 시스템에서 발생할 수 있는 예시적인 결함들은 이하를 포 함한다. (a) 진공 누설: 립 실(lip seal)의 마모와 찢어짐으로 인해 진공 누설이 발생할 수 있다. 진공 라인의 누설은 (표면 접촉식 흡착 그리퍼의 경우에, 진공 밸브가 개방되고, 기판이 엔드 이펙터 위에 있을 때) 낮은 진 공 압력을 가져오고, 진공 센서들(302,402)의 수치의 강하를 통해 검출될 수 있다. 나아가, 파지 작용은 파지 불능이나 또는 그리퍼 작동 시간의 증가를 가져온다. 진공에 의해 작동되는 가장자리 접촉식 그리퍼에 대해서는, 파지 작동 시간이 밸브(306, 406)가 개방되도록 명령을 받은 순간과, 위치 감지 표지가 개방 위 치를 탐지한 시간의 사이에 측정된다. 표면 접촉식 흡착 그리퍼에 대해서는, 파지 작동 시간은 밸브가 개방되도 록 명령을 받은 순간과, 진공 센서 치수가 허용 가능한 진공 수준에 도달한 때의 사이에 측정된다. (b) 진공 장 애(obstruction): 진공 센서와 액추에이터의 사이의 진공 라인의 장애는 짧은 진공 변화 시간뿐만 아니라 진공 이 켜질 때에 진공에 의해 작동되는 가장자리 접촉식 그리퍼의 긴 작동 시간을 가져온다. 진공에 의해 작동되는 가장자리 접촉식 그리퍼 <129> 도 5 및 도 6에 도시되는 기판 그리퍼들은 다음과 같은 방식의 어느 하나에 의해 고장이 날 수 있다. (a) 파손 <130> 된 스프링: 진공이 없을 때에, 기판을 위치에 파지하기 위해 스프링에 의해 지지되는 플런저가 기판을 향해 밀 린다. 파손된 스프링은 그리퍼가 항상 해제된 상태에 있게 한다. (b) 중간에 끼인 플런저: 플런저는 중간에 끼 일 수 있으며, 이로 인해 진공 라인의 개방 또는 폐쇄에 응답하여 그리퍼의 상태가 변화하지 않는다. 베어링과 볼 스크류 <131> 베어링과 볼 스크류는 다음과 같은 방식의 어느 하나에 의해 점진적으로 고장이 날 수 있다. (a) 고착 <132> (binding): 볼 베어링들의 고착은 운동에 대한 저항의 증가를 일으킨다. 고착은 모터 전류, 모터 온도, 및 에너 지 손실과 추종 에러의 증가를 가져온다. 또한 볼 베어링들의 고착은 영향을 받는 조인트들을 구동하는 벨트의 장력의 증가를 가져온다. (b) 헛돌기(play): 베어링의 헛돌기는 외부에 장착되는 비디오 카메라들과 같은 외부 위치 센서들에 의해 기록되는 위치의 에러를 일으킨다. 베어링이 모터의 일부분이라면, 헛돌기는 또한 고정자의 정렬 불량을 일으키고, 이전에 논의된 증상들을 일으킨다. 헛돌기는 또한 진동하는 상태를 가져와 안정도 여유 를 감소시킬 수 있다. - 24 -공개특허 10-2008-0055789통신 시스템 <133> 통신 네트워크는 주제어기와 모터 제어기의 사이에 데이터를 전달한다. 통신 네트워크에 대한 고장 모드는 이하 <134> 를 포함할 수 있다. (a) 슬립링 고장(slip ring failure): 슬립링들은 회전 조인트들을 지나 데이터를 전달하며, 마모와 찢어짐으로 인해 점진적으로 악화된다. 슬립링의 악화는 개별적인 제어기들에 의해 수신되는 데이터의 에러율의 증가를 통해 검출된다. (b) 모터 제어기들의 통신 모듈의 고장: 주제어기는 모터 제어기들로 부터 상태 메시지를 듣는다. 주제어기는 모터 제어기로부터의 상태 메시지가 없는 것을 검출함으로써 모터 제어 기의 고장을 검출할 수 있다. 이와 같은 과정은 또한 노드 경비(node guarding)로도 불린다. (c) 주제어기에서 의 통신 모듈의 고장: 모터 제어기들은 주제어기로부터 정상 경로 정보를 받는다. 주제어기의 고장은 어떤 경로 정보가 존재하지 않는 것으로부터 탐지된다. 이러한 과정은 박동 감시(heart beat monitoring)라고도 불린다. (d) 두 개의 인접한 모터 제어기들 사이의 통신 연결의 단절: 이와 같은 종류의 결함은 이하의 두 개의 증상 중 의 하나를 가져온다. 네트워크에 중복성(redundancy)이 존재한다면, 호스트 제어기는 네트워크를 재편성(re- map)할 수 있고, 다른 네트워크 토폴로지(topology)로 작동한다. 중복성이 존재하지 않는다면, 호스트는 네트워 크를 재편성할 수 없다. 고장이 난 연결의 위치는 전자의 경우에 있어서는 새로운 네트워크 토폴로지에 기초하 여 결정될 수 있고, 후자의 경우에 있어서는 노드들의 목록은 배치될 수 없다. 기판 매퍼(substrate mapper) <135> 일반적으로 기판 매퍼는 위치가 확인되는 각각의 기판들에 관한 두 가지 상태 변동을 기록하는 온오프 <136> 센서이다. 고장 모드들은 이하의 유형들을 포함할 수 있다. (a) 노이즈가 있는 센서 출력: 이는 기판마다 복수 개(두개보다 많음)의 상태 변동을 가져오거나, 및/또는 홀수 개의 상태 변동을 가져온다. (b) 결함 있는 매퍼 센서: 결함 있는 센서는 어떠한 상태 변동도 가져오지 않는다. 브레이크 고장 <137> 일반적으로 모터 브레이크들은 전자 기계식으로 작동되며, 다음과 같은 고장들의 하나 이상을 가질 수 있다. <138> (a) 브레이크가 해제되지 않음: 이는 로터(rotor)에 대한 브레이크 패드의 연속적인 마찰을 일으켜, 모터 전류 의 위치에 의존적인 변화를 야기한다. 또한 추종 에러와, 에너지 손실과, 열 발산의 전체적인 증가와, 음향 및 진동 스펙트럼에서의 변화가 존재한다. (b) 브레이크가 부분적으로 해제됨: 이는 로터에 대한 브레이크 패드의 간헐적인 마찰을 일으켜, 위치에 의존하는 모터 전류의 변동을 야기한다. 또한 에너지 손실과, 열 발산의 전체 적인 증가와, 음향 및 진동 스펙트럼에서의 변화가 존재한다. 외부 장애(obstruction) <139> 외부 장애는 모터 전류의 급속한 증가를 가져오며, 실제 모터 전류(actual motor current)와 모델 예측 모터 전 <140> 류의 사이의 차이의 증가를 가져온다. 모터 전류의 증가 속도는 장애의 유형에 의존한다. 부드러운 장애(soft obstruction)는 모터 전류가 점진적으로 증가하는 장애이다. 부드러운 장애의 예는 로봇 아암이 펼쳐진 채로 z 방향으로 이동하는 중에 로봇 엔드 이펙터(도 4)가 만나는 장애이다. 아암의 유연성은 변위에 대해 선형적으로 증가하는 모터 전류를 가져온다. 거친 장애(hard obstruction)의 경우, 모터 전류는 갑자기 증가한다. 거친 장 애의 예는 방사 방향으로 움직이는 로봇 엔드 이펙터(도 4)가 만나는 장애이다. 외부 장애와의 간섭의 더 직접적인 증상은, 이용할 수 있다면 스트레인 게이지에 의해 표시되는 변형 <141> (deflection)의 증가이다. 냉각팬 <142> 모터와 전자 장치들을 냉각시키기 위해 사용되는 팬(fans)은 작동하지 않을 수 있으며, 모터 전류 수준의 증가 <143> 를 수반하며 전체 시스템 온도의 증가를 가져온다. 전원 공급 <144> 전원 공급 불량으로부터 발생하는 고장의 전형적인 모드들은 이하에 열거된다. (a) 사양 이하의 전압: 모터 제 <145> 어기들의 전압 센서들은 \"저전압\" 결함(under voltage fault)을 뚜렷이 표시한다. 이와 같은 센서들이 없는 경 우, 이러한 상태는 더 높은 듀티 주기와 위치 추종 에러의 특징을 갖는다. (b) 사양 이상의 전압: 모터 제어기 들 내의 전압 센서들은 \"고전압\" 결함(over voltage fault)을 뚜렷이 표시한다. 이와 같은 센서들이 없는 경우, 이러한 상태는 정상보다 낮은 듀티 주기의 특징을 갖는다. (c) 끊어진 퓨즈: 이는 퓨즈 출력 단자에서 감지하는 전압을 통해 탐지된다. 퓨즈가 끊어질 때 전압은 0에 가깝다. - 25 -공개특허 10-2008-0055789로봇 수준의 고장(a) 반복 재현성 악화: 로봇은 엔드 이펙터를 반복적으로 정해진 장소에 위치시킬 수 있는 능 <146> 력을 잃는다. 전형적으로 이러한 고장은 점진적으로 형성되며, 로봇 엔드 이펙터가 작동 중에 외부 센서에 의해 포착될 때 포착되는 위치 데이터의 변동으로 탐지될 수 있거나, 또는 주어진 장소를 향해 반복적으로 명령을 받 는 로봇 엔드 이펙터의 비디오 이미지들을 이용하여 탐지될 수 있다. (b) 잘못된 수거 및 투입(mispick and misplace): 이와 같은 결함은 로봇 아암에 설치되거나 수거 및 투입 동작이 이루어지는 장소에 설치되는 비디오 카메라(들)에 의한 로봇의 수거 및 투입(pick and place) 동작들의 비디오 기록을 이용하여 진단될 수 있다. 얼라이너/매퍼 광 강도 요동(fluctuation) <147> 얼라이너 또는 매퍼의 발광기(light emitter)의 광 강도는 긴 주기의 시간동안 점진적으로 요동(저하)할 수 있 <148> 다. 매퍼의 경우, 상당한 강도의 저하는 발광기와 광 검출기의 사이의 기판의 존재 또는 부재에 관한 잘못된 데 이터를 가져올 수 있다. 얼라이너의 경우, 발광기가 차단되는 정도에 관한 잘못된 데이터를 가져올 수 있다. 이 는 또한 결함이 있거나 범위를 벗어난 웨이퍼 가장자리 위치 데이터를 가져온다. 광 강도 요동은 전형적으로 점 진적으로 발생하며, 고장은 광원에 충분히 노출되었을 때의 센서 출력의 변동(감소)으로 탐지될 수 있다. 지원 시스템들(supporting systems) <149> 팬 필터 유닛(fan filter unit) <150> 팬 필터 유닛은, 기계의 대기 영역의 상측 단면 영역의 대부분을 덮는 필터를 포함한다. 점진적인 필터 막힘 <151> (clogging)은 기계의 대기 영역의 내측(소형 환경 압력; mini-environment pressure)에 동일한 압력을 유지하 기 위한 필터 입력 측의 충만 압력(plenum pressure)에 의해 표시된다. 이온화 장치 고장 <152> 이온화 장치(ionizer)는 기계의 대기 영역에서 운반되는 기판들 위에 축적되는 전하들을 중화시키기 위해 사용 <153> 된다. 이온화 장치의 고장은 기판의 지나친 전하 축적을 가져온다. 기계 수준의 고장들 <154> 반복 재현성 열화(repeatability deterioration) <155> 기계 수준(tool-level)의 고장들은 기판 반복 재현성 열화와, 로봇 스테이션 정렬 불량, 및 처리량(throughput) <156> 감소를 포함한다. 기판 반복 재현성 열화 <157> 기판 반복 재현성 열화는 정해진 공차 내에서 기판들을 반복적으로 하나 이상의 스테이션으로 이송하는 기계의 <158> 능력의 손실이다. 이 결함은, 몇 가지 예를 들면 로봇 엔드 이펙터에서의 기판 미끄러짐(slippage)이나 얼라이 너의 불량으로 인한 로봇 반복 재현성 열화의 부작용일 수 있다. 전형적으로 이러한 고장은 점진적으로 형성되 며, 동작 중에 기판 가장자리가 외부 센서들에 의해 탐지될 때에 포착되는 위치 데이터의 변동으로 탐지되거나, 기판들이 주어진 장소로 이송될 때에 비디오 이미지들에 의해 기초하여 탐지될 수 있다. 로봇 스테이션 정렬 불량(robot station misalignment) <159> 로봇에 대한 스테이션들의 올바른 정렬은 기계의 올바른 작동을 위해 중요하다. 정렬 불량은 자동 티치(auto- <160> teach) 및 자동 높이 조정(auto-level) 결과들의 변동으로 탐지될 수 있다. 처리량 감소 <161> 처리량은 시간당 기계에 의해 처리되는 기판들의 개수로 측정된다. 처리량 감소는 기판 주기 시간의 증가로 나 <162> 타난다. HMFD를 위한 기술들 <163> 데이터 수집(data collection), 전처리(pre-processing), 분석(analysis), 및 추론(reasoning)의 네 가지 기본 <164> 기능들을 구현하는 방법들이 이하에서 더욱 상세히 설명될 것이다. 데이터 수집, 전처리, 분석 및 추론 (inference)을 위해 이용 가능한 여러 가지 상이한 유형의 많은 방법들이 존재한다. 에너지 손실의 감시 및 분석 <165> 이러한 접근법은 로봇 결함을 위한 초기 탐지 시스템 구현에 적절하다. 이러한 접근법의 주요한 원리는, 로봇의 <166> - 26 -공개특허 10-2008-0055789기계적 또는 전기적 구성 요소들의 기능 저하로부터 발생하는 결함들이 로봇 작동의 전체적인 효율 저하를 가져 올 것이라는 점이다. 그러므로 이와 같은 결함들은 발생의 초기 단계에서 로봇의 에너지 손실의 특정한 측정값 들을 감시함으로써 탐지될 수 있다. 효율의 감소를 일으키는 결함들의 예는: 손상되거나 정렬 불량의 베어링들 과, 윤활 손실(loss of lubrication)과, 로봇 운동의 장해(obstruction)와, 로터(rotor)의 영구 자석의 열화와, 모터 브레이크의 불량이다. 로봇 작동 중에 감시될 수 있는 에너지 손실의 몇 가지 유형이 있다. 기계적 에너지 손실 <167> 에너지 손실의 하나의 측정치는 일련의 로봇 동작 중의 기계적 에너지의 전체 손실이다. 이는 다음 수학식 1에 <168> 의해 주어진다. 수학식 1 <169> 여기에서, τi와 θi는 각각의 모터들의 출력 토크와 각속도이고, N은 로봇의 모터들의 개수를 나타내며, ΔT는 <170> 일련의 로봇 동작의 시간 지속이고, ΔEpot 는 로봇의 위치 에너지의 변화이다. ΔEpot의 항은 중력 위치 에너지 및 스프링과 벨로우즈(bellows)와 같은 컴플라이언트(compliant) 요소들에 저장 <171> 된 에너지를 포함한다. 위치 에너지의 변화는 주어진 일련의 작동들에 대해서는 일정하고, 로봇의 시작 위치와 종료 위치의 사이에서의 위치 에너지의 차이로부터 계산될 수 있다. 시간에 대한 기계적 에너지 전체 손실은 기 계적 요소들의 기능 저하로부터 발생하는 결함을 나타낸다. 전기적 에너지 손실 <172> 에너지 손실의 다른 측정치는 일련의 로봇 동작 중에 모터들에서 손실되는 전체 전기적 에너지이다. 이는 이하 <173> 의 수학식 2에 의해 주어진다. 수학식 2 <174> 여기에서, Vi는 모터에 대한 입력 전압이고, Ii는 모터의 입력 전류이다. <175> 전체 전기 에너지 손실의 증가는 로봇의 전기적 또는 기계적 요소들의 기능 저하로부터 발생하는 결함을 나타낸 <176> 다. 각각의 조인트들에서의 에너지 손실 <177> 오작동하는 구성 요소들의 위치에 관한 유용한 정보는 로봇의 각각의 조인트들에서의 에너지 손실을 감시함으로 <178> 써 얻을 수 있다. 예를 들어, 각각의 조인트들에서의 기계적 에너지 손실은 특정 조인트에서 오작동하는 베어링 이나 브레이크에 관한 유용한 정보를 제공한다. 하기의 수학식 3은 로봇의 조인트 i 에서의 기계적 에너지 손실 을 제공한다. 수학식 3 <179> 기계적 에너지 손실과 유사하게, 각각의 모터들에서의 전기적 에너지 손실의 변동도 특정 모터의 시작되는 고장 <180> 에 관한 유용한 정보를 제공한다. - 27 -공개특허 10-2008-0055789수학식 4 <181> 에너지 손실에 기초한 상태 감시는 이하의 두 가지 방법의 하나로 실제 시스템 내에 구현될 수 있다. 첫 번째 <182> 접근법은 로봇이 연장된 주기의 시간에 걸쳐 반복하는 움직임의 시퀀스들이 존재한다는 것을 가정한다. 이와 같 은 움직임 시퀀스들은 상태 감시 및 결함 진단을 위한 모형(templates)으로 사용될 수 있다. 정상적인 로봇에 대하여 에너지 손실과, 토크 및 기타 운동 특성들의 데이터가 측정될 수 있고, 장래에 사용되도록 저장될 수 있 다. 기판 취급 로봇들은 일군의 스테이션들의 사이에서 연속적으로 기판의 이송을 담당하기 때문에, 하나의 스 테이션으로부터 다른 스테이션으로 기판의 이동을 수행하는 운동 시퀀스는 상태 감시를 위한 모형적인 시퀀스로 서 적합할 수 있다. 두 번째 접근법은 정상 로봇 모델(normal robot model), 예를 들어 뉴럴 네트워크를 이용한 모델의 개발과, 정상 로봇 내에서의 에너지 손실을 계산하기 위해 이와 같은 모델을 이용하는 것을 수반한다. 시간에 걸쳐 에너지 손실의 증가가 존재하는지를 결정하기 위해, 이와 같은 모델 계산에 의한 에너지 손실이 실 제 에너지 손실과 비교될 수 있다. 다음과 같은 결함의 유형들은 이러한 접근법을 통해 탐지될 수 있다. 모터 자석들의 붕괴(disintegration), 고 <183> 정자(stator) 정렬 불량, 높은 연결 저항, 높은 벨트 장력, 움직이는 요소들의 어떤 요소에서의 마찰 증가, 결 함이 있는 볼 베어링들, 브레이크 저항(drag)의 존재, 위상의 부정확한 각도 및 오작동. 잔류 토크값(torque residual)의 감시 및 분석 <184> 잔류 토크값은 실제 모터 토크와 기준 추정치의 사이의 차이의 측정치이다. 잔류 토크값의 분석은 로봇에서 발 <185> 생하는 특정한 유형의 결함을 식별할 수 있다. 이와 같은 접근법은 로봇의 작동 중에 얻은 토크 데이터와 로봇 의 정상적인 거동을 나타내는 토크 데이터의 비교에 기초한다. 기준 토크 데이터(정상 거동을 나타내는 데이 터)는 선택된 운동 시퀀스 모형에 대해 초기에 저장된 원시 데이터(raw data)로 얻을 수 있거나, 로봇의 모델로 부터 얻을 수 있다. 잔류 토크값의 원시값에 부가하여, 주어진 움직임 시퀀스에 관한 절대적인 잔류값의 전체도 또한 모든 로봇의 상태에 관한 유용한 지표이다. 선택된 운동 시퀀스 모형(move sequence templates)에 관한 원시 데이터 저장 <186> 이와 같은 접근법은 로봇이 연장된 주기의 시간에 걸쳐 로봇이 반복하는 운동 시퀀스들이 존재한다는 것을 가정 <187> 한다. 이와 같은 운동 시퀀스들은 상태 감시 및 결함 진단을 위한 모형들로 사용될 수 있다. 에너지 손실에 관 한 데이터, 토크, 및 기타 운동 특성들이 정상적인 로봇에 대해 측정될 수 있으며, 장래에 사용되도록 저장될 수 있다. 기판 취급 로봇들은 일군의 스테이션들의 사이에서 연속적으로 기판의 이송을 담당하기 때문에, 하나 의 스테이션으로부터 다른 스테이션으로 기판의 이동을 수행하는 운동 시퀀스는 상태 감시를 위한 모형적인 시 퀀스로서 적합할 수 있다. 연장 위치의 \"정착(settle)\" 이벤트는 모형 운동 시퀀스의 시작을 일으킬 수 있고, 다음 스테이션에서의 연장 위치에서의 정착 이벤트는 상태 감시 운동 시퀀스의 종료를 일으킬 수 있다. 그러므 로 복수 개의 모형 시퀀스들을 갖는 것이 가능한데, 하나의 모형 시퀀스가 한 쌍의 스테이션의 각각을 위한다. 이와 같은 접근법의 주된 단점은 운동 시퀀스에 대해 수집된 기준 데이터는 운동 매개 변수가 바뀌지 않을 때에 만 유효하다는 것이다. 해석적인 로봇 모델(analytical robot model) <188> 로봇의 정상적인 거동은 주어진 기계적 디자인에 대해 해석적으로 추론된 동역학 모델(dynamic model)에 의해 <189> 표현될 수 있다. 모델의 구조가 추출되면, 모델의 매개 변수들이 종종 CAD 모델의 도움을 받아 관련된 기계적인 요소들의 물리적 특성들에 기초하여 계산되거나, 매개 변수 추정 기법(parameter estimation techniques)을 이 용하여 실험적으로 구해질 수 있다. 이와 같은 접근법의 단점은 로봇 아암 메커니즘의 다른 형상들과, 마찰과 같은 어떤 물리적 현상들에 대해 유도되어야 할 필요가 있는 독립적인 동역할 모델들을 요구되는 정밀도를 가지 고 해석적으로 기술하기가 어렵다는 점이다. 신경망에 기초한 로봇 모델(neural network based robot model) <190> 해석적인 모델의 대안으로서, 정상적인 로봇으로부터 얻은 데이터가 로봇 동역학의 신경망 모델을 제작하는 데 <191> 사용될 수 있다. 편리하게도 로봇 아암 메커니즘의 복수 개의 형상들에 대해 동일한 유형의 신경망이 사용될 수 - 28 -공개특허 10-2008-0055789있고, 모델의 훈련은 쉽게 자동화될 수 있으며, 전형적으로 신경망 모델은 해석적으로 기술하기에는 때로 어려 운 복잡한 물리적 현상들을 잘 표현한다. 잔류 토크값들의 분석에 기초해 식별될 수 있는 예시적인 결함들은 실효 모터 용량의 감소와 주기적인 저항을 <192> 포함한다. 외란 관측기(disturbance observers) <193> 외란 관측기들은 보통 로봇 머니퓰레이터의 서보 제어에 사용된다. 관측기들은 로봇 모델에서 설명되지 않는 외 <194> 란들의 추정치들을 제공한다. 이러한 관측기들은 위치 서보들에 비교하여 더 높은 대역폭(bandwidths)에서 안정 하도록 설계될 수 있으므로, 로봇 머니퓰레이터의 우수한 추종 제어(tracking control)를 가능하게 한다. 로봇 내의 각각의 모터에 대해 외란 관측기에 의해 제공되는 외란 추정치는 이상을 탐지하도록 감시될 수 있는 편리 한 특성으로 기능한다. 외란 관측기는 갑자기 발생하거나 간헐적으로 발생하는 결함들을 탐지하기 위해 사용될 수 있다. 이와 같은 결함들의 예는, 어떤 모터 위치들에서 발생하는 브레이크 저항(brake drag), 어떤 모터 위 치에서 발생하는 벨트 마찰, 입력 전압의 갑작스런 변동이다. 모터 동력 소모의 감시 및 분석 <195> 모터 동력 소모는 로봇의 전체적인 상태의 유용한 표지이다. 상술한 에너지 손실과 같이, 동력 소모의 증가는 <196> 로봇 내의 잠재적인 결함을 가리킨다. 모터 토크와 같이, 동력 소모는 로봇의 현재 상태의 특성이며, 동력 소모 의 변동은 결함의 유형에 대한 유용한 정보를 만들 수 있다. 추종 에러들의 감시와 분석 <197> 추종 에러들의 감시와 분석은 상태 문제점을 밝힐 수 있는 접근법이다. 추종 에러는 로봇의 주어진 축이나 구성 <198> 요소의 실제 위치와 이러한 위치와 구성 요소의 명령이 주어진(요구된) 위치의 사이의 차이로 정의된다. 이러한 상태 감시 접근법은, 선택된 모형 시퀀스들에 관해 로봇의 정상 작동 동안에 수집된 추종 에러와, 로봇이 정상 상태에 있을 때 초기에 얻은 기준 데이터의 비교에 기초한다. 다른 동일한 작동 조건 하에서의 추종 에러들의 변화나 흐름은 상태 문제점들을 나타낸다. 원시 추종 에러에 부가하여, 추종 에러의 다음 두 가지 추론양(derived quantity)들, 정규화된 추종 에러와 운 <199> 동 시퀀스에 대한 추종 에러 절대값의 적분치는 유용한 상태 표지로 기능한다. (a) 정규화된 추종 에러 (normalized tracking error) : 추종 에러는 모터의 가속도와 가속도 변화율에 강하게 연관되는 경향이 있으며, 비례하여 증가할 수 있다. 로봇 상태의 더 나은 표지는 다른 운동 매개 변수들의 영향은 고려에서 제외된 정규 화된 추종 에러일 수 있다. (b) 추종 에러의 적분치: 전체 운동 시퀀스에 대한 추종 에러의 크기(절대값)의 적 분치는 운동하는 동안의 전체적인 추종 에러의 측정치이다. 인코더 신호들의 감시 및 분석 <200> 각 인코더의 아날로그 신호 출력은 동일한 진폭(amplitude)이지만 위상이 90도만큼 서로 반전된 두 개의 사인 <201> 신호들을 포함한다. 이하의 결함들이 신호들의 진폭과 위상 특성에서의 변이를 감시함으로써 탐지될 수 있다. 위상 차이의 변화는 인코더 독출 헤드(read head)의 정렬 불량이나 인코더 디스크의 흔들림(wobbling)을 나타낸 다. 진폭의 변화는 인코더 디스크들의 파편(debris)의 존재를 나타낸다. 아날로그 인코더 신호들은 정상 작동 중에 또는 결함 진단의 목적으로 유도된 특별한 운동 패턴 중에 감시될 수 <202> 있다. 바람직한 운동 패턴은 일정한 주파수 사인 신호들을 가져오는 등속도 운동이다. 열 발산(heat dissipation)의 감시 및 분석 <203> 열 발산은 에너지 손실의 다른 형태이다. 로봇의 다양한 지점에서의 열 발산의 양은 곧 발생하는 결함들을 예측 <204> 하는 데 사용될 수 있다. 움직이는 요소들 사이의 큰 마찰을 가져오는 어떤 결함은 높은 수준의 열 발산을 가져 올 것이다. 나아가, 모터들과 솔레노이드 스위치들에서의 높은 전류 수준도 높은 열 발산을 가져올 것이다. 높 은 모터 전류 수준은 또한 많은 다양한 유형의 결함의 결과이다. 열 발산은 기계의 전략적인 지점들에 로봇을 향하도록 설치된 적외선 센서들을 통해 감시될 수 있다. 온도는 모 <205> 터 내부와 모터 제어기에 존재하는 온도 센서들을 이용하여 측정될 수 있다. 이러한 방법은 다음과 같은 유형의 결함들, 모터 자석들의 붕괴(disintegration), 부정확한 모터 위상각, 고정자의 정렬 불량, 메어링 마찰과 브레 이크 저항의 증가를 탐지하는 데 사용될 수 있다. - 29 -공개특허 10-2008-0055789구조적 진동의 감시 및 분석 <206> 곧 발생할 결함들의 탐지를 향상시키기 위한 다른 접근법은 로봇의 다양한 지점들에서 구조적 진동들을 감시하 <207> 는 것이다. 구조적인 진동들은 가속도계와 스트레인 게이지들을 통해 직접 감시되거나, 음향 신호들을 통해 간 접적으로 감시될 수 있다. 곧 발생할 고장은 음향 신호들과 구조적인 진동 신호들의 파워 스펙트럼에서의 심각 한 변이를 탐지함으로써 예견될 수 있다. 예를 들어, 결함이 있는 베어링이나 마찰하는 벨트는 음향 에너지 수 준의 증가와, 신호 파워 스펙트럼에 새로운 정점들(peaks)의 도입을 야기할 것이다. 벨트 장력의 변화는 파워 스펙트럼의 정점들의 변이에 의해 탐지될 수 있다. 음향 에너지는 로봇의 다양한 지점들에 배치되는 마이크로폰을 이용하여 측정될 수 있다. 구조적인 진동은 로봇 <208> 의 다양한 지점들에 가속도계를 장착함으로써 측정될 수 있다. 상술한 에너지 손실 접근법과 유사하게, 일 주기 의 시간에 대해 로봇이 반복하는 어떠한 운동 시퀀스들은 모형 시퀀스들로 사용될 수 있으며, 이에 기초하여 정 상적인 로봇의 파워 스펙트럼이 결함이 있는 로봇의 파워 스펙트럼과 비교될 수 있다. 신호들은 또한 로봇의 특 정한 방향에서 구조체의 제어된 진동에 응답하여 측정될 수 있다. 다음과 같은 유형의 결함들, 벨트 장력의 증 가 또는 감소, 느슨해진 체결부들(fasteners), 베어링 마찰의 증가, 및 움직이는 요소들의 마찰이 이러한 방법 을 이용하여 분석될 수 있다. 주파수 응답 분석(frequency response analysis) <209> 상태 문제와 관련될 수 있는 로봇 머니퓰레이터의 특성들의 변화는, 주파수 응답 분석을 이용하여 식별될 수 있 <210> 다. 이와 같은 접근법에 있어서, 로봇의 주파수 응답은 정상 상태에 있는 로봇에 대해 최초로 구한 기준 주파수 응답과 비교된다. 비교는 원시 데이터에 기초하거나, 전달 함수들(transfer functions)과 매개변수 추정 기술에 의해 원시 데이터로부터 얻는 기타 수학적인 표현들에 기초할 수 있다. 전형적으로, 운동의 윤곽은 일반적으로 로봇 구조물의 진동을 최소화하도록 설계되므로, 주파수 응답 분석에 필 <211> 요한 데이터는 로봇의 정상 동작 동안에는 얻을 수 없다. 결과적으로, 데이터 수집 단계는 일반적인 작동을 위 해 로봇이 이용되지 않을 때 이루어져야 할 필요가 있다. 데이터는, 각 위치들에서의 인코더 수치들을 통해 로 봇의 응답을 감시하는 동안, 로봇에 미리 정해진 격자의 위치들로 명령을 내리고, 로봇의 모터들에 자극 신호들 을 투입함으로써 얻어질 수 있다. 진동(excitation)은 화이트 노이즈(white noise), 핑크 노이즈(pink noise), 의 형태일 수 있고, 관심 있는 주파수 범위에 대해 정해진 단계들에서 주파수가 증가적으로 변화하는 소인 주파 수(swept frequency)의 조파신호(harmonic signal)나 단일 주파수(single-frequency)의 조파 신호(harmonic signal)의 형태일 수 있다. 주파수 응답 분석에 의해 식별될 수 있는 상태 문제점은 느슨해진 기계적 하드웨어나, 마모된 부품이나, 부정확 <212> 한 벨트 장력을 포함할 수 있다. 벨트 장력의 감시 <213> 로봇화된 제작 기계 내의 로봇 링크들과 기타 구성 요소들을 구동하는 도 4의 벨트들(415, 418A, 418B, 419A, <214> 419B)과 같은 벨트들의 장력은, 벨트와 이에 대응하는 벨트 장력 조절기의 사이의 힘을 감지하는 센서들을 통해 감시될 수 있다. 힘들은 주어진 위치에 로봇이 정지하였을 때 전형적으로 읽힌다. 힘들의 변화나 또는 흐름은 상태 문제점을 나타낸다. 나아가, 로봇 작동 중에 센서들에 의해 탐지되는 힘은 대응하는 벨트 구동에 의해 전달되는 토크를 추정하기 위 <215> 해 사용될 수 있다. 이러한 정보는 기계적인 속박(binding)과 같은 문제점을, 로봇 내의 특정한 구성 요소로 범 위를 좁히기 위해 사용될 수 있다. 예를 들어, 도 4의 벨트들(418A, 419A)을 구비하는 모터(417A)와 같이 2단의 벨트 구동을 구비하는 모터는 예상 <216> 보다 강한 토크를 출력하고, 2단에 의해 전달되는 토크가 정상으로 유지된다면, 문제점은 벨트 구동의 1단의 이 전의 구조에 존재한다. 그러나 1단이 정상 토크보다 큰 토크를 전달하면, 문제점은 벨트 구동의 2단들의 사이에 서 찾아야 한다. 최종적으로, 모든 단들이 이상 토크 수준을 전달한다면, 문제점은 벨트 구동의 2단 이후의 요 소들에 존재한다. 정지 힘 균형 분석(static force balance analysis) <217> 모터 전류와 모터 토크의 사이의 관계는 모터 토크 전류 관계(motor torque-current relationship; 모터 토크 <218> 용량으로도 불림)에 의해 결정된다. 모터 자석의 약화와 같은 결함은 모터 토크 용량의 저하를 가져온다. 이와 같은 결함은 모터 토크와 모터 전류를 직접 측정함으로써 식별될 수 있다. 모터 토크의 직접적인 측정은 정적 - 30 -공개특허 10-2008-0055789부하(static load) 조건하에서 가능하다. 정적 부하 조건의 예는 로봇 아암이 고정되지만 외부 힘에 저항하는 조건이다. 외부 힘이 힘 게이지를 통해 측정될 수 있다면, 개별적인 모터들의 토크가 정해질 수 있다. 외부 힘의 양이 알려져 있지 않을 지라도, 모터 토크들 사이의 비율을 구하기 위해 해석적인 정지 힘 모델이 사 <219> 용될 수 있다. 모터 토크비(torque ratio)는 모터 전류비와 비교될 수 있고, 모터 용량의 저하를 가져오는 결함 이 식별될 수 있다. 이하의 결함들, 즉 모터 자석들의 약화, 모터 베어링들의 헛돌기가 이와 같은 접근법을 이 용하여 식별될 수 있다. 3상 모터에서의 모터 토크 T와 최대 모터 전류 Iphase의 사이의 관계는 하기의 수학식 5 에 의해 주어진다. 수학식 5 <220> 여기에서 L은 모터 축 둘레의 권선 길이이고, R은 코일 권선의 반지름이며, B는 코일에 수직한 자기장이며, Kt <221> 는 모터 토크 상수 또는 모터 토크 용량이다. 모터 토크 상수를 측정하는데 더하여, 모터 권선 저항의 변화를 식별하기 위해 정적 분석(static analysis)이 <222> 사용될 수 있다. 정지 조건하에서 모터의 단자에서 단자의 권선 저항과, 모터 단자 전압과 모터 단자 전류의 사 이의 관계가 델타 권선(delta wound) 모터와 와이 권선(Wye wound) 모터의 모두에 대해 이하의 수학식 6에 의해 주어진다. 수학식 6 <223> 디지털 센서 출력의 감시 및 분석 <224> 디지털 센서들은 로봇의 상이한 하부 요소들에 배치되는 온/오프 센서들이다. 상태 천이 시간을 감시하고 기록 <225> 함으로써, 특정한 유형의 결함들이 탐지될 수 있다. 상태 천이 시간은 정상 동작 동안 또는 진단을 위해 특별히 설계된 특정한 동작 동안에 기록될 수 있다. 진공에 의해 작동되는 가장자리 접촉식 그리퍼들은 플런저의 위치를 탐지하는 부가적인 센서들을 구비할 수 있 <226> 다(도 5). 진공 누설이 존재하거나 진공 시스템에 장애물이 존재하는 경우 이러한 센서에 대한 파지 천이 시간 (grip-on transition time)이 증가한다. 본 출원 명세서를 위해, 끊어진 퓨즈의 탐지를 위한 전기회로 또한 디지털 센서들의 항목에 들어간다. <227> 아날로그 센서 출력들의 감시 및 분석 <228> 기판 얼라이너 내에 기판들을 정렬하기 위해 아날로그 광학 센서들이 사용된다. 이러한 센서들의 아날로그 출력 <229> 은 아날로그-디지털 변환기를 통과하고, 제어기에 의해 읽힌다. 신호 진폭은 얼라이너 내의 웨이퍼의 편심의 정 도를 결정한다. LED인 신호원으로부터 나오는 신호 강도의 어떠한 약화(attenuation)는 탐지되어야 하고 고려되 어야 할 필요가 있다. 이러한 약화는 LED 신호원의 열화 때문일 수 있다. 얼라이너 센서의 상태를 감시하기 위해, 얼라이너에 기판이 없을 때 LED 신호원의 교정(calibration)이 주기적 <230> 으로 이루어질 수 있다. LED 신호원의 약화는 제어기 소프트웨어 내에서 보상될 수 있고, 및/또는 LED 신호원에 공급되는 전압이 조정될 수 있다. 유사한 감시 및 분석 접근법이 기판 매퍼 센서에 적용될 수 있다. 대안으로서, 기판이 항상 얼라이너 위에 존재하면, LED 신호원의 교정이 기판의 알려진 지름을 기초하여 이루어 <231> 질 수 있다. 기판의 편심도에 불구하고 편심을 갖지 않은 기판의 반지름을 나타내는 한 쌍의 수치가 수집된 데 이터 내에서 발견될 수 있다. 이러한 두 가지 지점들에서의 센서 수치들이 기판 반지름의 예상되는 명목 값에 대해 검사될 수 있다. - 31 -공개특허 10-2008-0055789진공 압력 센서들은 진공 수준을 나타내는 아날로그 센서들이다. 이와 같은 진공 압력은 요구되는 진공 상태에 <232> 도달되었는지를 결정하기 위해 압력 문턱값에 대해 비교된다. 요구되는 진공 상태에 도달하는 데 걸리는 시간인, 진공 변동 시간(vacuum transition time)은 특정 결함들을 결정하기 위해 사용될 수 있다. 진공에 의해 작동되는 가장자리 접촉식 그리퍼 또는 표면 접촉식 흡착 그리퍼의 경우(도 5 및 도 6), 파지 동작 중 및 파지 해제 동작 중의 상태 천이 시간의 변화는 진공 시스템의 특정한 영역 내의 누설이나 차단을 나타낸다. 비디오 신호들의 감시 및 분석 <233> 비디오 카메라는 로봇의 작업 영역 내에 설치될 수 있으며, 제어기에 연결될 수 있다. 제어기는 비디오 이미지 <234> 들을 처리하여, 특정 유형의 결함들을 탐지할 수 있다. 예를 들어, 비디오 신호들은 로봇의 반복 재현성을 결정 하기 위해 사용될 수 있다. 로봇이 특정한 장소에 있을 때, 로봇 엔드 이펙터의 비디오 이미지가 포착되어 분석 될 수 있다. 엔드 이펙터의 특정 형상의 위치에 있어서 큰 변이가 존재하는지를 결정하기 위해 패턴 인식 수단 들을 이용하여 이미지가 분석될 수 있다. 가장자리 접촉식 그리퍼의 동작을 포함하는, 로봇에 의해 수행되는 수거 및 투입(pick and place) 동작들을 감 <235> 시하기 위해 로봇 엔드 이펙터에 비디오 카메라가 직접 설치될 수도 있다. 결과 비디오는 기록되어 수거 및 투 입 작동 중의 고장의 진단에 있어서 역할을 할 수 있다. 이는 가끔 발생하므로 조작자가 관찰할 수 없고, 및/또 는 다시 발생시키기가 어려운 고장들을 위한 아주 소중한 수단이다. 비디오 신호들은 로봇의 위치 반복 재현성 에 영향을 미치는 결함들을 식별하기 위해 사용될 수 있다. 반복 재현성에 영향을 미치는 전형적인 결함은 타이 밍 벨트의 슬립(slipping)과, 히스테리시스(hysteresis)를 일으키는 벨트 늘어남과, 베어링 클램프의 느슨해짐 이다. 통신 네트워크 흐름의 감시 및 분석 <236> 통신 네트워크의 상태는 통신 네트워크의 각 링크들에 대한 에러율(error rates, 즉 전송되는 데이터의 정해진 <237> 양 마다의 에러의 개수)을 통해 감시될 수 있다. 이러한 접근법은 통신 신호들을 전달하는 슬립링의 상태를 감 시하는 데 특별히 유용하다. 나아가, 모터 제어기들에서의 치명적인 통신 네트워크 고장은 네트워크 노드 경비(node guarding)를 통해 주제 <238> 어기에 의해 감시될 수 있다. 이러한 접근법에 있어서, 주제어기는 예를 들어 각 모터 제어기들에 의해 전달되 는 주기적인 상태 메시지들의 존재를 감시한다. 유사하게, 주제어기에서의 치명적인 통신 네트워크 고장은 박동 감시(heartbeat monitoring)를 통해 모터 제어 <239> 기에 의해 탐지될 수 있다. 이와 같은 경우에 있어서, 모터 제어기들은 예를 들어 주제어기로부터의 주기적인 궤적 프레임들(trajectory frames)의 발생을 감시한다. 변화 탐지 방법들 <240> 상술한 결함 진단 방법들은, 로봇의 다양한 물리적 특성들, 몇 가지를 열거하면 에너지 손실, 모터 토크, 잔류 <241> 토크값, 추종 에러들, 벨트 장력과 최대 진동 주파수들과 같은 특성들의 감시를 수반한다. 이러한 특성들의 감 시는 특정 문턱값과 이러한 특성들을 비교하는 것과, 특성들이 문턱값을 초과하거나 문턱값 밑으로 떨어지는 경 우 결함을 신호로 알리는 것을 수반한다. 이와 같은 기술은 통계적 품질 제어(statistical quality control)에 사용되며, 관리도(control chart)라고도 불린다. 관리도를 위한 몇 가지 통계적 기법이 개발되었으며, 이러한 방법들은 상태 감시에도 적용될 수 있다. 관리도의 사용을 위해 기초적인 요구 조건들이 충족되어야 한다. 첫 번째는 알려진 통계 분산 모델(statistical <242> distribution model)을 가지고 상기 정의된 물리적 특성들의 관점에서의 성능 평가 기준(performance metric) 의 정의이다. 두 번째는 성능 평가 기준에서의 변화가 예측될 수 있는 확신도의 수준(확신 계수(confidence coefficient)로도 불림)으로부터 추출되는 문턱값의 정의이다. 평가 기준의 변동은 감시되어 문턱값과 비교된다. 사용되는 평가 기준에 따라 관리도는 여러 가지 유형으로 분류된다. 슈하르츠 관리도(shewhart control chart)는 최종 관측을 성능 평가 기준으로 사용한다. 99.7%의 확신 계수를 위해 상한 제어 한계와 하한 제어 한계가 (μ+3σ) 및 (μ-3σ)로 선택된다. 여기에서 μ는 예측 평균값이고, σ는 예측 표준 편차이다. 슈 하르츠 관리도는, 물리적 특성들, 몇 가지 열거하면 모터 토크의 순간적인 스파이크(spike)나 추종 에러 또는 동력 소모와 같은 특성들 값의 갑작스런 변화의 탐지를 위해 이상적이다. 한편, 지수 가중 이동 평균 (exponentially weighted moving average; EWMA)이 물리적 특성들, 몇 가지를 열거하면, 에너지 손실, 벨트 장 력과 같은 특성들 값의 느린 흐름을 탐지하기 위해 평가 기준으로 사용된다. EWMA는 하기 수학식 7로 정의된다. - 32 -공개특허 10-2008-0055789수학식 7 <243> 여기에서 Xi 는 반복값 i 와 0≤λ≤1에서의 측정값이고, EWMA0는 감시 단계의 시작에서의 추정 평균값이다. <244> EWMA의 표준 편차(standard deviation)는 에 의해 주어지고, 여기에서 σ는 감시되는 특성의 추정 표준 <245> 편차이다. 대부분의 결함들은 서로 강하게 연관되는 둘 이상의 물리적 특성들의 값의 변화에 의한 특징을 갖는다. 이와 같 <246> 은 경우, 갑작스런 변화들을 탐지하기 위해 호텔링의 T 제곱 통계량(Hotelling's T-square statistic)이 성능 평가 기준으로 사용될 것이다. 다변량 구조(multivariate framework)에서의 느린 흐름(slow drift)을 탐지하기 위해 다변량 EWMA 관리도(multivariate EWMA charts)가 사용될 것이다. 이러한 두 가지 방법들 모두는 명목값으 로부터의 편차의 제곱의 측정값인 단일 스칼라량(single scalar quantity)을 산출하며, 다변량 구조에서의 변수 들 사이의 공분산(covariance)을 설명한다. 정상 거동의 기준잡기 <247> 변화 탐지 알고리즘들은 감시되는 물리적 특성들의 기준 추정치들(baseline estimates)의 존재를 가정한다. 기 <248> 준 추정치는 특정한 운동 시퀀스 동안에 손실된 에너지의 평균값이다. 기준잡기(baselining)는 결함 탐지에 있 어서 중요한 단계이며, 물리적 특성들의 추정치를 구하기 위해서 데이터 수집과 처리를 수반할 것이다. 데이터 수집은 정상 작동 상태 하에서 수행될 것인데, 정상 작동 상태는 로봇이 아무런 결함을 가지지 않을 때의 상태 를 말한다. 데이터 수집은 동일한 작동 조건 하에서 구해지는 몇 가지 반복되는 측정치들에 대한 평균화를 수반 한다. 측정치는 특정한 동작 동안에 손실된 전체 에너지나, 추종 에러의 최대 절대값이나, 모터 토크의 최대 절 대값이나, 특정한 작동 중에 규칙적인 간격으로 측정되는 모터 토크 값들과 같은 일련의 값들과 같은 단일한 값 (single value)일 수 있다. 측정된 값은 데이터가 수집된 조건에 대한 사양(specification)과 함께 데이터베이 스에 저장될 것이다. 데이터 처리는 몇 가지 형태들 중의 한 형태를 취할 수 있다. 하나의 형태는 시스템 식별인데, 이는 시스템의 <249> 해석적인 모델을 포함하는 일군의 기초 매개 변수들의 추정을 수반한다. 다른 형태는 전체 시스템을 모델로 만 들거나 해석적인 모델을 갖지 않는 특정 비선형적인 효과만을 모델로 만드는 신경망 모델의 형성이다. 데이터 정규화와 추세 제거(trend cancellation)는 필요한 다른 형태의 데이터 처리이다. 변화 탐지를 위해 관 <250> 리도를 적용하기 위해서는, 감시되는 평가 기준이 정상 작동 상태 하에서 일정한 명목값을 가질 필요가 있다. 그러나 사실상 감시되는 물리량은 정상 작동 하에서도 점진적인 임시적 흐름을 나타낸다. 하나의 예는, 시간의 함수로 점진적인 하향 추세를 나타내는, 관측되는 에너지 손실이다. 이러한 물리량을 관리도에 효과적으로 사용 하기 위해서는, 추세가 모델로 만들어져 관측된 데이터 내에서 제거되어야 한다. 이러한 목적에 적용될 수 있는 확립된 시계열 분석(time series analysis) 기술이 존재한다. 장기간의 점진적인 추세를 모델화하기 위해 적용 될 수 있는 하나의 방법은 홀트-윈터법(Holt-Winters methods)이나 이중지수 평활법(double exponential smoothing method)이다. 물리량들과 작동 속도 설정들과 같은 작동 조건들의 사이에 상관 관계가 존재한다면 데 이터 정규화도 필수적이다. 특정 HMFD 작동들 <251> 본 상태 감시 및 결함 진단 시스템의 특정한 작동에 대해 설명될 것이다. 이러한 작동들은 네 가지의 구분되는 <252> 범주들, 즉 상태 및 이력 정보, 연속적인 상태 감시, 요구형 상태 감시(on-demand health monitoring), 및 진 단 기능들로 나누어질 수 있다. 상태 및 이력 정보(status and history information) <253> 본 상태 감시 및 결함 진단 시스템은 일 주기의 시간에 걸쳐 발생하는 사용의 정도와 결함의 이력 정보를 사용 <254> 자에게 제공한다. 이하는 시스템이 사용자에게 이용 가능하게 제공하는 물리량들의 목록이다. (a) 현재의 로봇 서보 상태(current robot servo state): 이는 위치 피드백 서보가 각각의 모터에 대해 동작하는지를 가리킨다. 모든 모터들의 피드백 서보가 동작한다면, 로봇은 \"서보-작동\"(servo-active) 상태에 있고, 그렇지 않다면, 로 봇은 \"서보-비작동\"(servo-inactive) 상태에 있다. (b) 로봇 서보 작동 상태의 전체 지속시간: 이는, 로봇이 처 - 33 -공개특허 10-2008-0055789음 작동하였을 때부터 로봇이 서보-작동 상태에 존재하는, 일(day), 시간(hour), 분, 및 초의 시간의 전체적인 지속 시간을 말한다. (c) 현재 서보-작동 세션의 지속: 이는 현재의 서보-작동 세션의 일(day), 시간(hour), 분, 및 초의 지속을 말한다. 로봇이 현재 서보-작동 상태에 있지 않다면, 이러한 물리량은 최종 서보-작동 세션 의 지속을 지칭한다. (d) 로봇 운동의 지속: 이는 로봇이 정상 동작의 일부로서 운동하는 지속 시간을 말한다. (e) 운동 오차들의 개수: 이는 오차 조건으로 인하여 로봇 서보 상태가 작동(active)에서 비작동(inactive)으로 변화하는 시점들의 개수를 말한다. (f) 오차들 사이의 평균 운동 지속: 이는 연속적인 운동 오차들 사이의 지속 시간의 평균값을 말한다. (g) 모터 총 작동(마일리지; mileage): 이는 각 모터가 운동한 각도나 mm의 단위의 거 리를 말한다. (h) 기판 획득/배출 작동들의 횟수: 이는 로봇이 얼마나 많은 수거/투입(pick/ place) 작동들을 수행하였는지를 나타낸다."}
{"patent_id": "10-2008-7002964", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 3, "content": "표 4에서 발견될 수 있는 상태 및 이력 데이터의 요약 <255> [이력 및 상태 정보] <256> 표 4 <257> - 34 -공개특허 10-2008-0055789<258> <259> 본 상태 감시 시스템은 또한 에러의 발생 시간과 날짜와, 에러의 이후에 실행된 진단 방법들의 결과를 포함하는 <260> 에러 기록을 제공할 수 있다. 에러를 보고하고 기록하는 것에 관한 더 많은 정보들이 이하에서 제공된다. 에러 보고: 정상적인 작동을 중단시키는 하드웨어 또는 소프트웨어 에러가 발생하는 경우, 감시 시스템은 사용 <261> 자에게 에러를 보고한다. 각각의 에러 보고는 다음의 정보, 즉 에러의 주된 발생원과, 대응하는 에러 코드와, - 35 -공개특허 10-2008-0055789에러의 설명을 포함한다. 적용 가능하다면, 정보는 에러의 2차적인 발생원과, 대응하는 에러 코드와, 에러의 설 명을 포함할 수 있다. 진단 정보의 기록(logging) <262> 모든 시스템 동작들의 정보와, 시스템 상태 및 시스템 에러들의 변화가 파일에 기록된다. 이러한 파일의 입력 <263> 포맷은 설정 가능하며, 이하의 정보, 즉 발생 시간(time of origination)과, 발생원과, 설명을 포함할 수 있다. 기록(logging)은 다음과 같은 방식으로 더 구성될 수 있다. 즉 발생원이 목록으로부터 선택될 수 있고, 발생원 으로부터의 정보의 다변도(verbosity)의 수준이 설정될 수 있고, 발생원을 분류(grouping)하고, 각각의 발생원 을 위한 목적 파일을 설정할 수 있다. 연속적인 상태 진단 <264> 로봇과 기계 내의 기타 장치들의 연속적인 상태 진단이 정상 작동 중의 측정 가능한 신호들의 일부 또는 전부를 <265> 측정함으로써 수행된다. 측정과 분석 기능은 연속적으로 또는 주기적으로 발생할 수 있으나, 항상 정상 작동과 병렬적으로 발생한다. 연속적인 감시의 목적은 상태 악화의 징후를 탐지하고, 이러한 악화를 야기할 수 있는 하 부 요소들을 지정하는 데 있다. 그러나 이러한 기능들은 문제점의 특정 원인을 지적하지는 않는다. 로봇/얼라이너의 전체 상태에 기초한 에너지 손실 <266> 이 방법은 로봇 상태의 악화를 탐지하기 위해 에너지 손실의 이용을 수반한다. 중요한 원리는 로봇 상태의 악화 <267> 는 로봇 작동 효율의 감소를 가져오며, 그로 인해 에너지 손실을 가져온다. 목적(purpose) <268> 에너지 손실 감시의 목적은 에너지 효율의 감소를 일으키는 로봇에서의 결함의 개시를 탐지하기 위함이다. <269> 개요(overview) <270> 특정한 운동 시퀀스 동안에 손실되는 에너지는 전체 로봇을 위해서뿐만 아니라 로봇 내의 각각의 조인트들을 위 <271> 해 계산된다. 이와 같이 계산된 손실은 정상 로봇에 관한 에너지 손실과 비교된다. 에너지 손실의 증가는 로봇 상태의 악화를 나타낸다. 이러한 방법은 로봇의 에너지 효율의 감소를 일으키는 결함의 개시를 탐지하는 데 이 상적이다. 계층적 수준(hierarchical level) <272> 이 방법은 전체 운동을 제어하는 주제어기 내에서 구현될 수 있다. 각각의 모터 제어기들은 각각의 모터들의 권 <273> 선 전류와, 전압 및 속도에 관한 데이터를 주제어기에 전달할 수 있다. 데이터 수집, 전처리, 분석 및 추론 동 작들은 주제어기 내에서 수행될 수 있다. 단계들의 순서(sequence of steps) <274> (a) 관리기(manager)는 데이터 수집기(data collector)가 에너지 손실을 계산하기 위해 필요한 데이터의 기록을 <275> 시작하거나 종료하도록 신호를 준다. 데이터 수집의 시작과 종료는 로봇이 완전히 정지할 때의 단계와 일치할 필요가 있다. 로봇은 기판을 수거하거나 투입할 때 완전히 정지한다. (b) 데이터 수집 층(data collection layer)은 모터 전압과, 모터 전류와, 모터 속도와, 모터 위치와, 시스템 <276> 내의 각 모터들을 위해 모터에 명령 내려진 가속도를 기록한다. 나아가, 데이터 수집 층은 또한 각각의 데이터 집합에 관한 시간을 기록한다. (c) 전처리 층은(pre-processing layer)은 상기 적분 에너지 방정식을 이용하여 각 모터들에서의 에너지 손실을 <277> 계산한다. 전처리 층은 상술한 하나 이상의 방법들에 기초한 모델을 이용하여 에너지 손실의 기준값을 계산한다. 전처리 층은 두 가지 유형의 감시 평가 기준들(monitoring metrics), 즉 계산된 값과 기준값의 사이 의 차이점과, 차이의 지수 가중 이동 평균(exponentially weighted moving average)을 계산한다. 전처리 층은 또한 확신 계수(confidence coefficient)에 기초하여 상부 문턱값들을 계산한다. (d) 분석 층(analysis layer)은 운동 시퀀스들의 각각에 관한 평가 기준들을 감시한다. 분석 층은 감시되는 평 <278> 가 기준들이 대응하는 미리 정해진 상부 문턱값들을 초과하는지를 탐지한다. (e) 추론 층(reasoning layer)은 복수 개의 운동 시퀀스들을 위한 개별적인 모터 에너지 손실 정보를 이용하고, <279> 문제점을 갖는 로봇의 하부 구성 요소(sub-component)를 식별한다. - 36 -공개특허 10-2008-0055789(f) 문제점이 발견되면, 관리기는 문제점의 원인을 좁히기 위해 심화된 진단 작업들을 개시한다. <280> 설정 데이터(configuration data) <281> (a) 에너지 손실이 계산되는 작동들의 시퀀스들의 시작점 및 종료점이 계산된다. <282> (b) 상술한 동작들의 시퀀스에 대한 에너지 손실을 위한 기준값이나, 명목 토크(nominal torque)의 계산을 가능 <283> 하게 하는 모델 매개 변수들의 집합. (c) 이동 평균의 샘플(moving average sample)의 크기(EWMA를 이용하면 불필요하다). <284> (d) 문턱값들을 계산하는 데 사용되는 확신 계수(confidence coefficients). <285> (e) 데이터 수집 비율 - 작동 순간마다의 데이터 지점의 개수 <286> 고장 모드들(failure modes) <287> 에너지 손실의 감시는 다음 결함들, 즉 부정확한 모터 위상각, 인코더와 모터 로터의 사이의 상대적인 운동, 모 <288> 터 자석의 약화(붕괴), 높은 연결 저항, 베어링 고착, 베어링들의 헛돌기, 볼 스크류 고착, 벨트 마찰(belt rubbing), 및 완전히 해제되지 않는 브레이크의 개시의 탐지를 가능하게 한다. 토크/전류 잔류값(residual)에 기초한 로봇/얼라이너의 전체 상태 <289> 이 접근법은 모터 잔류 토크값과 모터 잔류 전류값의 감시를 수반한다. 잔류값의 큰 변화는 로봇의 전체적인 상 <290> 태의 악화를 나타낸다. 상술한 정지된 경우를 제외하고는 모터 토크들이 쉽게 측정 가능하지 않으므로, 모터 토 크는 모터 권선 전류 및 모터 토크 모델로부터 추정될 필요가 있다. 그 결과, 모터 모델의 토크-전류 관계에서 의 변화는 추정 잔류 토크값에 영향을 가질 것이다. 목적 <291> 이 방법은 모터들의 회전에 대한 저항의 증가를 가져오는 결함들을 탐지하는 데 적합하다. 나아가, 모터 토크가 <292> 모터 전류로부터 추정된다면, 모터 토크 용량의 감소를 가져오는 결함들도 탐지될 것이다. 개요 <293> 이 방법은 일군의 저장된 모터 전류 데이터가 존재하는 것과 현재 또는 과거의 로봇 상태에 기초하여 모터 전류 <294> 를 예측할 수 있는 이용 가능한 로봇 동역학 모델이 존재하는 것을 가정한다. 그러므로 예측된 전류는 전류 잔 류값을 얻기 위해 개별적인 모터들에서 측정된 전류와 비교된다. 잔류값은 시간에 걸쳐 감시되고, 잔류값의 심 한 변동은 결함의 개시를 나타낸다. 전류 잔류값의 변화는 다음과 같은 두 가지 원인의 결과일 수 있다. 잔류값 의 변화는 위상각, 소자(demagnetization), 또는 정렬 불량과 같은 모터의 물리적 특징들의 변화를 반영한다. 또한 잔류값의 변화는 모터로부터의 높은 토크 출력을 필요로 하는 모터 회전에 대한 외부 저항의 변화를 반영 할 수 있다. 잔류 토크값에 부가하여, 전체 이동 시퀀스에 걸쳐 잔류 토크값의 적분치(integral)가 또한 감시된 다. 계층적 수준(hierarchical level) <295> 이 방법은 전체 운동을 제어하는 주제어기 내에서 구현될 수 있다. 각각의 모터 제어기들은 각각의 모터들의 권 <296> 선 전류와, 전압 및 속도에 관한 데이터를 주제어기에 전달할 수 있다. 데이터 수집, 전처리, 분석 및 추론 동 작들은 주제어기 내에서 수행될 수 있다. 단계들의 순서(sequence of steps) <297> (a) 관리기(manager)는 각각의 모터를 위한 데이터 수집기(data collector)의 시작과 종료의 신호를 준다. 원격 <298> 제어기로부터의 스트리밍 데이터(streaming data)를 위한 한정된 대역폭만이 존재한다면, 데이터 수집은 한 번 에 하나의 모터에 대해 수행될 수 있다. 데이터 수집은 또한 특정하게 미리 정해진 모터 위치나 이동 시퀀스들 에서 시작될 수 있다. 데이터 수집의 지속은 로봇 상태에 따라 변동될 수 있다. (b) 데이터 수집 층(data collection layer)은 모터 전류를 기록하고, 또한 동역학 모델이 사용된다면 위치와, <299> 속도와, 가속도를 기록할 수도 있다. (c) 동역학 모델이 사용된다면, 전처리 층은(pre-processing layer)은 모델에 기초한 토크를 계산한다. 토크 데 <300> 이터가 특정 모터 위치에서 수집되면, 전처리 층은 감시 평가 기준으로서 잔류 토크값을 계산할 것이다. 한편, - 37 -공개특허 10-2008-0055789토크 데이터가 전체 운동 시퀀스에 대하여 수집되면, 전처리 층은 감시 평가 기준으로서 운동 시퀀스에 대한 토 크 잉여의 절대값의 적분치를 계산할 것이다. 또한 전처리 층은 부가적인 감시 평가 기준으로서 상술한 각각의 이동 평균을 계산할 것이다. 나아가, 전처리 층은 상술한 각각의 평가 기준들에 관한 문턱값 한계치들을 계산할 것이다. 전처리 층은 또한 원시 토크 데이터의 영역들에서 신속한 푸리에 변환(Fourier transformation)을 수행 할 것이다. (d) 분석 층(analysis layer)은 상기 정의된 평가 기준들을 감시하여, 문턱값 한계치들을 넘는 평가 기준들의 <301> 편차들을 탐지한다. 또한 분석 층은 주파수 스펙트럼 내의 정점들(peaks)의 천이의 출현을 감시한다. (e) 추론 층(reasoning layer)은 다른 시간에 다른 모터들의 데이터를 평가하고, 결함이 있는 로봇의 하부 구성 <302> 요소들을 식별한다. 또한 추론 층은 이상(abnormality)이 최대로 관측되는 로봇의 위치를 식별한다. (f) 관리기는 특정한 진단 방법들을 시작하기 위해 추론 층으로부터의 정보를 이용한다. <303> 설정 데이터(configuration data) <304> (a) 로봇 운동 시퀀스, 각 모터의 데이터 수집을 위한 시작 지점 및 종료 지점. 각각의 모터를 위한 복수 개의 <305> 시작 지점들과 종료 지점들이 존재할 수 있다. (b) 문턱값 계산을 위한 확신 계수(confidence coefficients) <306> (c) 이동 평균의 샘플(moving average sample)의 크기 <307> (d) 데이터 수집 비율 - 작동 순간마다의 데이터 지점의 개수 <308> (e) 정상 로봇으로부터의 측정치들에 기초한 토크 기준값이나, 명목 토크의 계산을 가능하게 하는 매개 변수들 <309> 의 집합 고장 모드들(failure modes) <310> 모터 토크 및 전류의 감시는 다음 결함들, 즉 부정확한 모터 위상각, 인코더와 모터 로터의 사이의 상대적인 운 <311> 동, 모터 권선들과 하우징의 사이의 상대적인 운동, 모터 자석의 붕괴(disintegration), 높은 연결 저항, 베어 링 고착, 볼 스크류 고착, 벨트 마찰(belt rubbing), 및 브레이크 저항, 등의 개시의 탐지를 가능하게 한다. 동력 소모에 기초한 로봇/얼라이너의 전체 상태 <312> 상술한 모터 토크의 감시 및 분석과 유사한 방식으로 동력 소모가 감시되고 분석될 수 있다. 토크 감시에 비교 <313> 한 동력 소모 감시의 장점은 소모되는 동력은 일반적으로 결함이 존재할 때에만 증가한다는 점이다. 이러한 동 력 소모의 특성이 결함 탐지의 문턱값들의 적용을 단순화한다. 추종 에러들에 기초한 로봇/얼라이너의 전체 상태 <314> 이 접근법은 추종 에러들의 감시를 수반한다. 정상적인 추종 에러보다 높은 에러는 문제점의 존재를 나타낸다. <315> 목적(purpose) <316> 이 접근법은 각각의 모터들의 회전에 대한 저항의 증가를 가져오는 결함들과 서보 불안정을 가져오는 결함들을 <317> 탐지하는 데 적합하다. 개요(overview) <318> 추종 에러는 요구되는 모터 위치와 실제 위치의 사이의 차이점이다. 높은 추종 에러의 수준은 하나 또는 많은 <319> 결함 조건들로 인해 모터의 움직임에 대한 정상 저항보다 큰 저항을 모터가 경험하고 있음을 나타낸다. 나아가, 추종 에러의 큰 진동은 하나 또는 많은 결함 조건들 때문에 발생하는 서보 루프의 불안정함을 나타낸다. 계층적 수준(hierarchical level) <320> 이 방법은 로봇 운동을 제어하는 주제어기 내에서 구현될 수 있다. 각각의 모터 제어기들은 요구되는 위치와, <321> 실제 위치와, 각각의 모터들의 속도를 주제어기에 전달할 것이다. 데이터 수집, 전처리, 분석 및 추론 동작들은 주제어기 내에서 수행될 것이다. 단계들의 순서(sequence of steps) <322> (a) 관리기(manager)는 각각의 모터를 위한 데이터 수집기(data collector)의 시작과 종료의 신호를 준다. 원격 <323> - 38 -공개특허 10-2008-0055789제어기들로부터의 스트리밍 데이터(streaming data)를 위한 한정된 대역폭만이 존재한다면, 데이터 수집은 한 번에 하나의 모터에 대해 수행될 수 있다. 데이터 수집은 또한 특정하게 미리 정해진 모터 위치나 이동 시퀀스 들에서 시작될 수 있다. 데이터 수집의 지속은 로봇 상태에 따라 변동될 수 있다. (b) 데이터 수집 층(data collection layer)은 각각의 모터를 위한 요구되는 위치와 실제 위치를 기록한다. <324> (c) 전처리 층은(pre-processing layer)은 추종 에러에 기초하여 몇 가지 감시 평가 기준들을 계산한다. 미리 <325> 정해진 특정한 모터 위치들에서 데이터가 수집되면, 정점의 추종 에러의 절대값이 감시 평가 기준으로 기능한다. 한편, 미리 정해진 특정한 시퀀스들의 길이에 걸쳐 데이터가 수집되면, 추종 에러의 제곱값의 적분치 가 감시 평가 기준으로 기능한다. 나아가, 전처리 층은 또한 원시 추종 에러 영역들에서 신속한 푸리에 변환 (Fourier transformation)을 수행한다. (d) 분석 층(analysis layer)은 최대 추종 에러의 양과, 추종 에러의 제곱값의 적분치에서의 전체적인 증가를 <326> 탐지하고, 이들을 문턱값들과 비교한다. 또한 분석 층은 추종 에러 신호 내의 새로운 우세 주파수 요소들 (dominant frequency components)을 탐지한다. (e) 추론 층(reasoning layer)은 데이터 집합의 복수 개의 객체들에 관한 분석 결과들을 이용하고, 로봇 특성의 <327> 변화를 확인한다. 또한 추론 층은 추종 에러에 이상(abnormality)이 존재하는 로봇 위치들과 속도를 관리기에 보고한다. (f) 관리기는 특정한 진단 방법들을 시작하기 위해 추론 층으로부터의 정보를 이용한다. <328> 설정 데이터(configuration data) <329> (a) 각각의 모터의 데이터 수집을 위한 시작 지점들과 종료 지점들과 운동 시퀀스들. 각각의 모터를 위한 복수 <330> 개의 시작 지점들과 종료 지점들이 존재할 수 있다. (b) 추종 에러에 관한 문턱값 수준, 각각의 모터와 각각의 운동 시퀀스에 관한 추종 에러의 제곱의 적분치에 관 <331> 한 문턱값. (c) FFT 분석을 위한 샘플 크기 <332> (d) 데이터 수집 비율 - 작동 순간마다의 데이터 지점의 개수 <333> 고장 모드들(failure modes) <334> 추종 에러의 감시는 다음 결함들, 즉 부정확한 모터 위상각, 인코더와 모터 로터의 사이의 상대적인 운동, 모터 <335> 권선들과 하우징의 사이의 상대적인 운동, 모터 자석들의 붕괴(disintegration), 베어링 고착, 볼 스크류 고착, 벨트 마찰(belt rubbing), 및 브레이크 저항, 등의 개시의 탐지를 가능하게 한다. 로봇/얼라이너 모터 모델의 검증(robot/aligner motor model validity) <336> 이 방법은 모터 모델에 대한 모터 전압, 전류, 위치, 및 속도의 일치성(conformance)의 감시를 수반한다. 모터 <337> 모델 예측으로부터의 어떠한 편차는 모터의 하나 또는 많은 물리적 특징들에서의 변화를 가져오는 결함들을 가 리킨다. 목적(purpose) <338> 이 접근법의 목적은 모터의 하나 또는 많은 물리적 특징들에서의 변화를 가져올 수 있는 결함들을 탐지하는 데 <339> 있다. 개요(overview) <340> 모터 모델은 자계 강도(field strength)와, 권선 전류와, 유도계수(inductance)와 자계 간극 폭(field gap <341> width)과 같은 물리적 특성들을 모터 전류, 모터 전압, 위치, 및 속도와 같은 특성들과 연관시킨다. 정지 상태 에 있는 모터 모델을 정의하는 방정식은 상세하게 상술되었다. 동적인 조건 하에서 입력 전압은 모터 속도에 비 례하는 역기전력(back emf)을 극복해야 할 것이다. 결함은 물리적 특성들의 어느 하나에서의 변화를 가져올 수 있다. 상기 특성들의 모터 모델에 대한 일치성의 감시는 물리적 특성들의 변화의 탐지를 가능하게 한다. 계층적 수준(hierarchical level) <342> 이 방법은 로봇 운동을 제어하는 주제어기 내에서 구현될 수 있다. 각각의 모터 제어기들은 각각의 모터들의 위 <343> - 39 -공개특허 10-2008-0055789치와, 속도와, 전류와 전압에 관한 데이터를 주제어기에 전달할 것이다. 데이터 수집, 전처리, 분석 및 추론 동 작들은 주제어기 내에서 수행될 것이다. 단계들의 순서(sequence of steps) <344> (a) 관리기(manager)는 각각의 모터를 위한 데이터 수집의 시작과 종료의 신호를 준다. 원격 제어기들로부터의 <345> 스트리밍 데이터(streaming data)를 위한 한정된 대역폭만이 존재한다면, 데이터 수집은 한 번에 하나의 모터에 대해 수행될 수 있다. 데이터 수집은 또한 미리 정해진 특정한 모터 위치나 이동 시퀀스들에서 시작될 수 있다. 데이터 수집의 지속 시간과 주파수는 로봇 상태에 따라 변동될 수 있다. (b) 데이터 수집 층(data collection layer)은 모터 전압과, 모터 전류와, 모터 속도와, 모터 위치를 기록한다. <346> (c) 전처리 층은(pre-processing layer)은 기록된 전압과 전류에 기초하여 모델화된 전류를 계산하고, 실제 전 <347> 류와 모델화된 전류의 사이의 차이로서 잔류값을 계산하고, 최대 변동값을 결정한다. (d) 분석 층(analysis layer)은 최대 변동값을 허용 가능한 문턱값과 비교한다. <348> (e) 추론 층(reasoning layer)은 데이터 집합의 복수 개의 객체들에 관한 분석 결과들을 이용하고, 로봇 특성의 <349> 변화를 확인한다. 또한 추론 층은 변동값에 이상(abnormality)이 존재하는 로봇 위치들과 속도를 관리기에 보고 한다. 설정 데이터(configuration data) <350> (a) 저항과 유도계수와 역기전력 상수를 포함하는 모터 특성들 <351> (b) 잔류값을 위한 허용 가능한 범위 <352> 고장 모드들(failure modes) <353> 모터와 케이블과 모터 구동 회로의 전기적 특성들의 변화(커넥터 문제로 인한 저항 증가와 같은 문제)와, 모터 <354> 의 자기적 특성의 변화(약해진 자석은 역기전력 상수에 영향을 미친다)와, 부정확한 버스 전압(모터 전압은 명 령을 받은 PWM의 단위로 측정되기가 가장 쉽기 때문임)과, 인코더 또는 모터 코일 하우징의 슬립(slipping). 로봇/얼라이너 인코더 데이터의 데이터 무결성(data integrity) - 증가형 인코더 <355> 목적(purpose) <356> 이 방법의 목적은 인코더 내의 위치 독출 메커니즘의 문제를 식별하는 데 있다. <357> 개요(overview) <358> 인코더는 증가형(incremental)과 절대치형(absolute)의 두 가지 유형이 있고, 결함 진단을 위함 메커니즘은 인 <359> 코더의 유형에 따른다. 증가형 인코더에 있어서, 위치는 독출 헤드(read head)를 통과하는 인코더의 카운터 개수를 계수함으로써 측정 <360> 된다. 어떤 이유로든 빠트린 카운트가 있다면, 보고된 위치는 부정확할 것이다. 증가형 인코더들은 매 회전마다 한 번 발생하는 인덱스 펄스(index pulse)를 갖는다. 제어기는 각 인덱스 펄스의 도착을 읽어 증가하는 위치 (incremental position)를 기록한다. 빠트린 카운트가 없다면, 어떤 두 개의 인덱스 펄스들에서의 위치의 수치 는 인코더 회전 당 증가하는 카운트(incremental counts)의 개수의 정수 배가 될 것이다. 사실상 몇 개의 놓치 는 카운트는 어쩔 수 없으며, 놓친 카운트의 개수가 문턱값의 수준을 넘는다면 경고가 기록된다. 계층적 수준(hierarchical level) <361> 이 방법은 원격 모터 제어기들에서 가장 잘 구현된다. <362> 단계들의 순서(sequence of steps) <363> 도 10의 순서도를 참조하시오. <364> (a) 관리기는 인덱스 펄스가 독출되는 이벤트(event)를 발생시키기 위한 메커니즘을 설정한다. <365> (b) 이벤트가 발생되면, 데이터 수집 층(data collection layer)이 증가형 위치를 기록한다. <366> (c) 분석 층은 연속된 인덱스 펄스들에서의 위치들의 차이를 계산하고, 차이가 매 회전의 증가하는 복수 개의 <367> - 40 -공개특허 10-2008-0055789카운트 개수의 공차 범위에 있는지를 결정한다. (d) 추론 층은 인코더 결함의 발생을 보고한다. <368> 설정 데이터(configuration data) <369> (a) 빠트린 인코더 개수들에 관한 공차. <370> 고장 모드들(failure modes) <371> 빠트린 카운트들은 인코더 디스크 상의 먼지가 인코더들이 정확하게 독출되는 것을 방해할 때 보고된다. <372> 로봇/얼라이너 인코더 데이터의 데이터 무결성(data integrity) - 절대치형 인코더 <373> 목적(purpose) <374> 이 방법의 목적은 절대치형 인코더 내의 위치 독출 메커니즘의 문제를 식별하는 데 있다. <375> 개요(overview) <376> 인코더는 증가형(incremental)과 절대치형(absolute)의 두 가지 유형이 있고, 결함 진단을 위함 메커니즘은 인 <377> 코더의 유형에 따른다. 절대치형 인코더에 있어서, 절대 위치(absolute position)는 초기화할 때 또는 강제적인 절대 위치 독출 명령에 <378> 대한 응답으로 독출된다. 인코더는 절대 위치를 읽고, 그 이후에 증가형 인코더와 유사한 방식으로 실제 위치를 증가시킨다. 인코더의 결함이 존재하지 않는다면, 정지한 인코더에 대해 인코더를 갱신하여 얻은 위치는 독출된 강제 절대 위치(forced absolute position)에 의해 얻은 위치와 일치하여야 한다. 단계들의 순서(sequence of steps) <379> 도 11a 및 도 11b의 순서도를 참조하시오. <380> (a) 관리기는 규칙적인 간격으로 절대 위치를 읽기 위한 메커니즘을 설정할 것이고, 절대 위치가 독출되기 전과 <381> 후에 실제 위치를 독출한다. (b) 분석 층은 두 개의 실제 위치들의 사이의 차이를 계산한다. 분석 층은 실제 위치들에서의 차이가 공차보다 <382> 작은 경우 엔코더가 정지하고 있는지를 검사한다. (c) 인코더가 정지하고 있다면, 분석 층은 절대 위치와 실제 위치들의 평균값의 사이의 차이를 계산한다. <383> (d) 추론 층은 인코더 결함의 발생을 보고한다. <384> 계층적 수준(hierarchical level) <385> 이 방법은 주제어기나 원격 모터 제어기들에서 구현될 수 있다. <386> 설정 데이터(configuration data) <387> (a) 정지 상태에 관한 공차. <388> (b) 에러 상태에 관한 공차. <389> 고장 모드들(failure modes) <390> 절대치형 인코더의 에러들은 인코더 디스크 상의 먼지뿐만 아니라 소프트웨어 또는 하드웨어의 기능 이상으로 <391> 인해 발생한다. 연속적인 벨트 장력 감시 <392> 아암들을 구동하는 벨트들의 장력은 (벨트 장력 조절기의) 아이들러 풀리들(idler pulleys)에 장착되는 힘 센서 <393> 들을 이용하여 벨트 장력을 직접 측정함으로써 연속적으로 감시될 수 있다. 벨트 장력의 심한 저하나 증가는 잠 재적인 문제로 보고된다. 구조적인 진동의 감시 <394> 구조적인 진동의 감시는 결함들의 개시를 탐지하는 데 도움이 된다. 구조적인 진동은 가속도계들이나 스트레인 <395> 게이지들(strain gauges)을 통해 직접 감시되거나, 음향 신호들을 통해 간접적으로 감시될 수 있다. 음향 신호 - 41 -공개특허 10-2008-0055789들과 구조적 진동 신호들에서의 파워 스펙트럼에서의 심한 변화들을 탐지함으로써 임박한 결함들이 예측될 수 있다. 파워 스펙트럼 내의 변화는 정점(peak)의 크기의 변화나 정점 주파수(peak frequency)의 천이의 형태일 수 있다. 음향 에너지는 로봇의 다양한 지점들에 배치되는 마이크로폰을 이용하여 측정될 수 있다. 구조적인 진 동은 로봇의 다양한 지점들에 가속도계들을 설치함으로써 측정될 수 있다. 다음과 유형의 결함들, 즉 벨트 장력 의 증가 또는 감소, 느슨해진 체결구들(fasteners), 베어링 마찰 또는 운동하는 구성 요소의 간섭의 증가가 이 와 같은 방법을 이용하여 분석될 수 있다. 열 발산의 감시 <396> 열 발산은 에너지 손실의 다른 형태이다. 로봇의 여러 가지 지점에서의 열 발산의 양은 임박한 결함들을 예측하 <397> 는 데 사용될 수 있다. 운동하는 구성 요소들의 사이의 높은 마찰을 가져오는 어떠한 결함은 높은 수준의 열 발 산을 가져온다. 나아가, 모터들과 솔레노이드 스위치들에서의 높은 전류 수준들은 높은 열 발산을 가져온다. 열 발산은 로봇의 여러 가지 구성 요소들의 온도 상승을 측정함으로써 감시될 수 있다. 온도의 증가는 로봇의 <398> 전략적 지점들을 향하는 적외선 센서들에 의하거나, 모터들 내부의 온도 측정 센서들을 통해 측정될 수 있다. 열 발산 감시는 주제어기에 의해 수행된다. 다음은 수반되는 단계들이다. <399> (a) 데이터 수집 층은 일 주기의 시간에 걸쳐 로봇의 여러 가지 지점에서의 온도를 기록한다. <400> (b) 분석 층은 온도를 문턱값과 비교한다. <401> (c) 문턱값이 초과되면, 추론 층은 그 구성 요소의 문제점을 보고한다. <402> (d) 관리기는 문제점의 원인을 결정하기 위해 심화된 시험을 지시한다. <403> 다음과 같은 유형의 결함들, 모터 자석들의 붕괴(disintegration), 부정확한 모터 위상 각도, 고정자(stator)의 <404> 정렬 불량, 및 베어링 마찰과 브레이크 저항의 증가는, 열 발산을 감시함으로써 탐지될 수 있다. 냉각팬들의 감시 <405> 모터들과 전자 장치들에 발생된 열을 제거하기 위해 냉각팬들이 종종 이용된다. 냉각이 이루어지는 모터들과 전 <406> 자 장치들의 에너지 손실과, 모터 및 전자 장치들의 온도의 사이에는 관계성이 있으므로, 냉각이 이루어지는 모 터들 및 전자 장치들의 온도를 통해 냉각팬들의 상태와 공기 통로가 감시될 수 있다. 초과 이동(over-travel) 스위치들에 대한 로봇/얼라이너의 감시 <407> 목적(purpose) <408> 목적은 소프트웨어 기능 불량이나, 위치 피드백의 문제나, 모터 증폭기 문제나, 인코더나 벨트 미끄러짐 <409> (slippage)과 같은 기계적인 고장으로부터 기인할 수 있는 초과 이동을 탐지하는 데 있다. 개요(overview) <410> 초과 이동 스위치들은 로봇 축이 초과 이동 스위치의 미리 정해진 한계를 넘어 이동할 때에 작동되는 기계적 또 <411> 는 광학적 센서들이다. 이러한 센서들의 상태의 변화는 로봇 제어기에 의해 즉시 탐지되고, 그 이후에 필요한 후속 단계들이 취해진다. 계층적 수준(hierarchical level) <412> 이러한 진단 루틴(routine)은 로봇 제어기 내에 또는 주제어기 PC 내에 존재할 수 있다. <413> 단계들의 순서(sequence of steps) <414> 초과 이동 상태가 탐지되면 다음 단계들이 발생된다. <415> (a) 관리기(manager)는 로봇과 관련된 모든 운동 축들을 불능화한다. <416> (b) 관리기는 브레이크가 설치된 모든 축들을 정지시킨다. <417> (c) 관리기는 에러를 발생시키고, 경계를 침범한 축과 축의 위치를 식별한다. <418> 설정 데이터(configuration data) <419> (a) 초과 이동 스위치들과 운동 축들의 연관성. <420> - 42 -공개특허 10-2008-0055789고장 모드들(failure modes) <421> 탐지될 수 있는 고장 모드들은 다음과 같다. 작동 불량의 인코더들, 벨트 미끄러짐, 및 작동 불량의 <422> 소프트웨어. 로봇/얼라이너 그리퍼 및 진공 시스템 상태 <423> 웨이퍼 그리퍼들의 작동은 진공 시스템에 의해 가능하게 된다. 진공 시스템의 문제는 파지(gripping) 동작을 감 <424> 시함으로써 진단될 수 있다. 두 가지 유형의 진공에 기초한 웨이퍼 그리퍼들이 있는데, 즉 도 6의 표면 접촉식 흡착 그리퍼(surface-contact suction gripper)와, 도 5의 가장자리 접촉식 진공 작동 그리퍼(edge-contact suction gripper)이다. 두 가지 유형의 진공 문제점이 발생할 수 있는데, 진공 누설(vacuum leak) 및 진공 라인 차단(vacuum line obstruction)이다. 진공 누설은 립 실(lip seal)의 마모나 찢어짐으로 인해 발생할 수 있다. 진공 라인의 누설은 낮은 진공압을 가져오고(표면 접촉식 흡착 그리퍼의 경우에 있어서, 진공 밸브가 개방되고, 기판이 엔드 이펙터 위에 존재할 때), 진공 센서(502, 502)의 수치의 강하를 통해 탐지될 수 있다. 나아가, 파 지 동작은 파지 불능(no gripping)이나 파지 동작 시간의 증가를 가져온다. 진공 작동 가장자리 접촉식 그리퍼 에 관해, 진공 작동 시간은 밸브(506, 606)가 개방되도록 명령을 받은 순간과, 위치 감지 표지가 그리퍼의 개방 상태를 탐지한 시간의 사이에서 측정된다. 표면 접촉식 흡착 그리퍼에 관해, 파지 동작 시간은 밸브가 개 방되도록 명령을 받은 순간과, 진공 센서 수치가 허용 가능한 진공 수준에 도달한 시간의 사이에서 측정된다. 진공 센서 및 액추에이터의 사이의 진공 라인의 차단은 낮은 진공 변동 시간과 함께 진동이 투입되었을 때 진공 작동 가장자리 접촉식 그리퍼의 긴 작동 시간을 가져올 것이다. 진공 라인 문제점에 부가하여, 중간에 끼인 플 런저나 파손된 스프링과 같은 기계적인 문제점들도 또한 그리퍼의 기능 불량을 가져올 수 있다. 통신 네트워크 상태 <425> 목적(purpose) <426> 이 방법의 목적은 데이터 통신 네트워크의 문제점들을 탐지하는 데 있다. <427> 개요(overview) <428> 주제어기와 원격 제어기들의 사이에는 일정한 데이터 흐름이 존재한다. 원격 제어기들은 자신들의 상태를 거의 <429> 주기적인 간격으로 주제어기에 전송하고, 주제어기는 거의 주기적인 간격으로 제어 정보를 원격 제어기들에 전 송한다. 이러한 메시지들의 도착 횟수(frequency)가 감시된다. 이들 메시지들의 도착 횟수의 감소는 제어기가 네트워크의 흐름(traffic)의 가능한 속도 저하에 관한 경고를 발하도록 한다. 에러 메시지들의 감시 횟수에 부가하여, 각 모터 제어기의 통신 포트는 일 주기의 시간에 걸쳐 그 포트에서 발 <430> 생한 에러들의 개수의 기록을 갖는다. 이러한 개수는 네트워크의 전체적인 상태의 추정을 제공한다. 네트워크 흐름의 단절의 일반적인 원인은 슬립 링(slip rings)에서의 통신 손실(communication loss)이다. <431> 계층적 수준(hierarchical level) <432> 진단 루틴(routine)은 로봇 제어기 내에 존재한다. 융합되면(in fusion) 로봇 제어기는 주제어기 PC이다. <433> 단계들의 순서(sequence of steps) <434> (a) 데이터 수집기(data collector)는 노드로부터 상태 메시지가 도착한 시간을 기록한다. 또한 데이터 수집기 <435> 는 각 제어기들의 통신 포트에 저장된 에러 카운트를 기록한다. (b) 분석 층(analysis layer)은 연속적인 상태 패킷들(packets)의 사이의 간격이 특정 문턱값을 넘었는지를 결 <436> 정하고, 이러한 범주로 들어온 노드들을 식별한다. 또한 분석 층은 각각의 제어기들의 통신 포트에서의 새로운 에러들의 발생 빈도를 계산한다. (c) 문턱값을 넘으면, 상태 패킷이 빠진 노드들에 기초하여 추론 층(reasoning layer)이 네트워크 토폴로지 <437> (topology) 내의 문제점을 지닌 브랜치(branch)와 링크(link)를 식별한다. 설정 데이터(configuration data) <438> (a) 상태 메시지들의 수신에 있어서의 최대 허용 가능한 지연에 관한 문턱값. <439> (b) 네트워크 설정(configuration). <440> - 43 -공개특허 10-2008-0055789고장 모드들(failure modes) <441> 슬립 링들(slip rings)에서의 통신 고장, 원격 제어기들의 기능이 불량한 통신 프로세서들, 네트워크 커넥터들 <442> 의 느슨한 접촉. 연속적인 로봇 반복 재현성(repeatability) 감시 <443> 로봇의 위치 반복 재현성은 외부의 정지된 센서들을 통해 감시될 수 있다. 센서는 로봇 엔드 이펙터가 일상적인 <444> 동작 중에 정지하였을 때 로봇 엔드 이펙터의 위치를 감지할 수 있다. 대안으로, 카메라가 외부의 고정 장치로 서 이용되거나, 로봇에 의해 이동될 수 있다. 반복 재현성에 영향을 미치는 전형적인 결함들은 타이밍 벨트들의 슬립(slipping)과, 히스테리시스(hysteresis)를 일으키는 벨트 늘어남과, 베어링 클램프(clamp)의 헐거워짐이다. 기판 반복 재현성 검사 <445> 유사하게, 기판 위치 반복 재현성이 외부 고정 센서들을 이용하여 검사될 수 있다. 이와 같은 검사는, 기판 얼 <446> 라이너의 문제점들과, 예를 들어, 지지 패드 위의 먼지나 지지 패드들의 소재의 열화로 인한 로봇 엔드 이펙터 위에서의 기판 미끄러짐과, 그리퍼의 기능 이상과, 기판이 수거되고 및/또는 투입되는 스테이션들에 대한 로봇 엔드 이펙터의 정렬 불량(기판의 이동(walking) 등을 야기함)의 문제점들을 밝힐 수 있다. 대안으로, 이와 같은 목적으로 카메라가 사용될 수 있다. 수거/투입(pick/place) 동작의 감시 <447> 이 방법은 로봇 아암에 설치되어 로봇이 수거 및 투입 동작을 수행할 때 로봇 엔드 이펙터의 전체 시계(view)를 <448> 갖는 비디오 카메라를 이용한다. 작동하는 동안 비디오 데이터는 로봇 제어기로 연속적으로 전달된다. 비디오 기록의 미리 정해진 지속 시간은 제어기에 의해 저장된다. 오류 수거나 오류 투입의 고장이 발생할 때, 비디오 기록은 정지한다. 그리고 제어기에 저장된 비디오 데이터가 진단의 목적을 위한 정보의 소중한 제공원으로 기능 할 수 있다. 계속적인 바이러스 검사 <449> 이 방법의 목적은 시스템 내에 존재하여 데이터 손실이나 성능 저하를 일으킬 수 있는 소프트웨어 바이러스의 <450> 존재를 식별하는 데 있다. 로봇 제어기는 소프트웨어 바이러스에 의해 이용될 수도 있는 보안 허점(security loopholes)을 가질 수 있는 <451> 보안 운영 시스템을 실행할 수 있다. 주기적인 바이러스 검사는 데이터 손실과 성능의 저하를 가져오기 전에 소 프트웨어 바이러스의 탐지를 가능하게 할 수 있다. 바이러스 검사는 예약되어 운영 시스템 자신에 의해 실행되 거나, 제3자의 수단에 의해 실행될 수 있다. 팬 필터 유닛 필터의 감시 <452> 이러한 구성의 목적은 팬 필터 유닛 내의 필터의 막힘을 감시하는 데 있다. 막힘은 동시에 이루어지는 충만 압 <453> 력(plenum pressure; 필터의 입력 측에서)과 소형 환경 압력(mini-environment pressure; 기계의 대기 영역에 서)의 검사에 의해 탐지된다. 다른 경우에서의 똑같은 조건들(폐쇄된 문, 변하지 않은 공기 배출 특성들) 하에 서 동일한 소형 환경 압력을 유지하기 위해 증가된 충만 압력이 필요하다면, 이는 필터 막힘을 나타낸다. 이온화 장치 기능의 감시 <454> 이온화 장치(ionizer)는 기계의 대기 영역에서 이송된 기판들 위에 축적된 전하들을 중화시키기 위해 사용되는 <455> 장치이다. 이온화 장치의 고장은 기판 위에 심한 전하 축적을 가져온다. 이온화기 고장은 분위기 내의 전하를 측정함으로써 탐지될 수 있다. 측정된 전하가 양의 문턱값이나 음의 문턱값을 초과한다면, 이온화 장치는 오작 동하기가 쉽다."}
{"patent_id": "10-2008-7002964", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 4, "content": "연속적인 상태 감시 기능들의 요약이 표 5에 제공된다. <456> [연속적인 상태 감시] <457> - 44 -공개특허 10-2008-0055789표 5 <458> 자동 결함 진단(automatic fault diagnostic) <459> 어떤 상태 감시 방법이 로봇 동작의 열화를 보고한다면, 다음 단계는 문제점의 주요 원인을 식별하는 것이다. <460> 로봇의 정상 작동 중에 얻은 데이터를 가지고 결함들을 진단하기 위해 주로 사용될 수 있는 방법들은 다음과 같 다. 잔류 전류값/토크값 분석 <461> 잔류 토크값 분석은 실제 토크와 명목 토크(nominal torque)의 사이의 차이의 변동의 분석을 수반한다. 성능 저 <462> 하를 일으키는 결함의 유형을 결정하기 위해 변동 패턴(variation pattern)이 사용된다. 목적(purpose) <463> 이 방법의 목적은 뚜렷한 토크 신호(torque signature)를 갖는 결함들을 진단하는 데 있다. 잔류 토크값에 대한 <464> 시계열 데이터를 분석함으로써 진단이 이루어진다. 에너지 손실이나 추종 에러의 증가 또는 잔류 토크값의 변화 가 보고되고, 모터 특성 진단 검사가 모터 특성에 아무런 문제를 발견하지 못하는 경우, 이 방법이 실행될 것이다. 개요(overview) <465> 특정 결함들은 뚜렷한 결함 시그너쳐들(signatures)을 가지며, 그러한 결함들은 잔류 토크값(torque residual) <466> 을 분석함으로서 진단될 수 있다. 잔류 토크값은 실제 토크와 명목 토크 신호들의 사이의 차이이다. 위치에 대 한 잔류 토크값의 변동의 특성은 특정한 유형의 결함들을 나타낼 수 있다. 예를 들어, 모터 위치에 대한 주기적 인 잔류값의 변동은 문제점의 원인이 브레이크의 정렬 불량으로 인한 주기적인 브레이크 저항(brake drag)과 같 은 위치에 의존하는 저항력(drag force)이다. 계층적 수준(hierarchical level) <467> - 45 -공개특허 10-2008-0055789이 방법은 로봇 운동을 제어하는 주제어기 내에서 구현될 수 있다. 각각의 모터 제어기들은 각각의 모터들의 위 <468> 치와, 속도와, 전류에 관한 정보를 주제어기에 전달할 것이다. 데이터 수집, 전처리, 분석 및 추론 동작들은 주 제어기 내에서 수행될 것이다. 단계들의 순서(sequence of steps) <469> (a) 관리기(manager)는 의심이 가는 모터를 위한 데이터 수집의 시작과 종료를 개시한다. 데이터 수집은 운동의 <470> 연속적인 속도 영역에서 시작되어야 한다. 잘 조절된 데이터를 얻기 위해서는, 운동 시퀀스들(move sequences) 이 위치에서의 충분한 변동을 수반하여야 한다. (b) 데이터 수집 층(data collection layer)은 모터 전압과, 모터 토크와, 모터 속도와, 모터 위치를 기록한다. <471> (c) 전처리 층은(pre-processing layer)은 먼저 위치 데이터가 충분한 범위를 갖는 것과 특정한 최소 변동을 갖 <472> 는 것을 확인한다. 그렇지 않은 경우 전처리 층은 가능하다면 관리기가 다른 개시 지점과 긴 지속 시간을 이용 하여 새로운 데이터 수집 명령을 발하도록 신호를 준다. 전처리 층은 또한 연속적인 속도 위상(constant velocity phase) 동안에 수집된 데이터만을 분리하고 이용한다. 전처리 층은 모터 모델에 기초하여 명목 토크와, 실제 토크와 명목 토크의 사이의 차이점으로서의 잔류값을 계산한다. 전처리 층은 잔류값의 평균과 평 방 편차(variance)를 계산한다. 전처리 층은 또한 위치에 대한 잔류값의 변환(Fourier transform)을 계산한다. 자기 상관(auto-correlation)에 대해서는 어떠할 것인가. (d) 분석 층(analysis layer)은 잔류값이 특정 문턱값의 위에 있는지를 결정한다. 분석 층은 푸리에 스펙트럼에 <473> 서의 정점들을 검사하고, 정점 주파수들을 보고한다. 분석 층은 또한 잔류값의 진동의 주기에 일치하는 거리를 결정한다. (e) 문턱값의 이하라면, 추론 층(reasoning layer)은 잔류값이 진단 받을 결함을 갖지 않는 것으로 보고한다. <474> 푸리에 변환 내에 정점들이 존재하고, 정점에 대응하는 주기가 모터의 일회전에 의해 지나가는 거리와 일치한다 면, 추론 층은 위치에 대하여 주기적인 저항력(drag force)이 결함이라고 보고한다."}
{"patent_id": "10-2008-7002964", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 5, "content": "본 HMFD 시스템의 자동 결함 진단 기능의 요약이 표 6에 제공된다. <475> [자동 결함 진단] <476> 표 6 <477> 모터 동력 소모 분석 <478> 소모되는 모터 동력은 모터의 전체적인 상태의 유용한 표지이다. 상술한 에너지 손실과 같이 동력 소모의 증가 <479> 는 로봇의 잠재적인 결함을 가리킨다. 특정 조인트들에서의 높은 마찰의 존재는 모터 구동 조인트에서의 동력 소모의 증가를 가져온다. 또한 마찰하는 브레이크들로 인한 주기적인 저항은 주기적으로 변화하는 동력 손실을 낳는다. 추종 에러 분석 <480> 추종 에러의 문턱값을 넘어서는 증가는 문제점의 표지이다. 나아가, 추종 에러의 신속한 푸리에 변환은 특정 진 <481> 동 모드들의 진폭에 관한 정보를 준다. 장애 데이터 <482> - 46 -공개특허 10-2008-0055789로봇 아암이 만나는 장애들은 모터 힘과 추종 에러를 분석함으로써 탐지될 수 있다. <483> 외란 관측기 데이터의 분석 <484> 외란 관측기(disturbance observer)의 출력은 액추에이터의 외란 력(disturbance force)의 측정치이다. 이러한 <485> 출력의 변동의 분석은 결함의 특성에 대한 통찰력을 낳을 것이다. 예를 들어, 마찰하는 브레이크로 인한 주기적 인 저항력의 존재는 주기적으로 변동하는 외란 관측기 출력을 가져온다. 장애의 존재는 변이와 함께 증가하는 출력을 가져올 것이다. 벨트 장력 분석 <486> 벨트 장력은 힘 센서들을 이용하여 연속적으로 측정될 수 있고, 문제점들을 탐지하기 위해 분석될 수 있다. 특 <487> 정 조인트에서의 높은 마찰력은 그 조인트를 구동하는 벨트에서의 높은 장력을 가져온다. 주파수 도메인 분석 <488> 이 방법의 목적은 특정 주파수-도메인 시그너쳐(signature)를 갖는 결함들을 진단하는 데 있다. 이러한 시그너 <489> 쳐는 다양한 신호들 내에 존재할 수 있다. 예로서, 로봇의 여러 가지 지점들에서의 구조적인 진동의 분석은 이 러한 문제점의 원인에 대한 유용한 지시자들(pointers)을 가져올 수 있다. 예를 들어, 느슨한 베어링들은 어떤 주파수 정점에 대해 큰 진폭을 가져온다. 나아가, 느슨한 볼트에서의 증가된 마찰은 어떤 진동 모드들에 대해 높은 감쇠(damping)를 가져온다. 변동 스펙트럼에서의 특정한 변화들은 문제점의 원인을 정확하게 지정하는 데 도움이 될 수 있다. 요구형 HMFD 루틴들 <490> 여기에 설명되는 기능들은 상술한 연속적인 상태 감시 및 결함 진단 특성들을 보완한다. 이 기능들은 특별한 시 <491> 퀀스들을 요구하고 및/또는 기판을 위험하게 만들 수 있으므로, 로봇의 정상 작동 중에는 수행될 수 없다. 연속 적인 감시 및 자동 진단과는 반대가 되어, 이러한 기능들은 다음과 같은 상황에서 요구되면 사용된다. (a) 기계가 사용되지 않을 때 또는 기계가 예약된 정비 동안에 수리되고 있을 때, 상태 감시의 목적. <492> (b) 상태의 문제점이나 결함이 다른 방법에 의해 탐지되었을 때, 원인을 좁히고 및/또는 의심이 가는 구성 요소 <493> 를 확인/제거하기 위한, 진단의 목적. 로봇/얼라이너 모델의 식별 <494> 이러한 요구형 루틴의 목적은 로봇이나 얼라이너의 강체 동력한 모델의 매개 변수들을 식별하는 데 있다. 매개 <495> 변수들에서의 차이는 로봇(얼라이너) 특성들의 변화하는 특성들, 때로는 진행되고 있는 결함으로 인한 특성들을 가리킨다. 식별 단계는 자동적이다. HMFD 시스템은 로봇으로 하여금 미리 정해진 경로를 따라 가도록 명령하고, 로봇 운동 <496> 중의 위치들과 토크들을 감시한다. 동역학 모델의 구조는 시스템의 모든 중요한 기계적인 구성 요소들을 반영하 고 로봇의 모터들과 관련된 액추에이터 동력학들을 포함하도록 선택된다. 신뢰할 만한 결과들을 얻기 위해서는 모델은 기준 매개 변수들의 항으로 공식화되고, 동역학 모델의 결과적인 구조를 위해 경로들이 최적화된다. 로봇/얼라이너 주파수 반응 <497> 주파수 반응 식별의 목적은, 느슨해진 기계적 커플링들(coupling)을 포함하는 로봇의 구조적인 특성들의 변화를 <498> 나타내는, 고유 주파수들의 변화와 감쇠 수준을 결정하는 데 있다. 주파수 응답은 로봇의 복수 개의 위치들의 크기와 위상 특성들을 제공한다. 주파수 응답을 구성하기 위해, HMFD 시스템은 로봇 머니퓰레이터를 로봇 머니퓰레이터의 작업 영역 내에 균일하 <499> 게 분포되는 위치들의 격자로 이동시키고, 소인 주파수(swept frequency) 조파신호(harmonic signal)에 의해 로 봇 머니퓰레이터를 자극시키고, 각각의 위치에서의 로봇 머니퓰레이터의 응답을 기록한다. 그리고 제어기는 복 소 최소 자승 곡선 기법(complex least square fit technique)을 이용함으로써 로봇 머니퓰레이터의 각각의 위 치에서의 전달 함수들의 매개 변수들을 계산하기 위해 기록된 데이터를 이용한다. HMFD 시스템은 주파수 응답의 크기와 위상 특성들을 그래프로 그림으로써 결과 주파수 응답을 시각화할 수 <500> 있다. 로봇/얼라이너 조인트 조건 검사 <501> - 47 -공개특허 10-2008-0055789이러한 요구형 루틴의 목적은 기계적 조인트들의 상태를 검사하는 데 있다. 첫째, HMFD 시스템은 로봇이나 얼라 <502> 이너의 강체 동력학의 식별을 수행한다. 두 번째 단계에서, 감쇠나 마찰과 같은 조인트 특성들을 나타내는 식별 결과들은 기준값들과 비교된다. 예상되는 값들의 특정한 범위를 벗어난 변화들은 대응하는 조인트의 문제점을 나타낸다. 로봇/얼라이너 벨트 장력 검사 <503> 목적(purpose) <504> 이러한 요구형 루틴의 목적은 로봇 아암들에서 사용될 수 있는 벨트들의 장력을 사양과 비교한다. <505> 개요(overview) <506> 로봇 내에서 사용되는 벨트들의 장력은 정확하게 설정되지 않을 수도 있고, 생산/수리 직원의 실수나, 벨트 소 <507> 재의 크리프(creep)나, 벨트 장력 조절 기구의 오작동으로 인해 시간에 따라 변화할 수 있다. 벨트 장력의 변화 는 피드백 제어의 안정도를 포함하는 로봇의 성능에 영향을 미친다. 벨트 장력은 로봇의 주파수 응답에 의해 기 초하여 검사될 수 있다. 주파수 응답 분석을 위해 필요한 데이터는 통상의 동작 중에는 얻을 수 없고, 그러므로 특별한 요구형 루틴이 필요하다. 계층적 수준(hierarchical level) <508> 이러한 루틴은 로봇 제어기 내 또는 주제어기 PC에 존재할 수 있다. <509> 단계들의 순서(sequence of steps) <510> (a) 관리기는 로봇 엔드 이펙터들 위에 기판들이 존재하지 않는 것을 검사한다. 기판이 존재한다면 에러가 표시 <511> 된다. 로봇이 기판 존재 감지를 지원하지 않는 경우에 관리기는 조작자가 로봇 엔드 이펙터에 기판이 존재하지 않는 것을 확인하도록 하는 요청을 표시한다. (b) 관리기는 로봇으로 하여금 로봇의 원 위치(home position)로 이동하도록 명령한다. 이 동작이 실패하면 에 <512> 러가 표시된다. (c) 관리기는 주파수 응답 식별을 위해 미리 정해진 서보 매개 변수들로 서보 제어기를 전환한다. <513> (d) 관리기는 관심 대상인 벨트 구동과 관련된 모터의 여자(excitation)를 개시한다. 데이터 수집 층은 대응하 <514> 는 인코더들의 여자 및 응답을 기록한다. (e) 전처리 층은 데이터 수집 층으로부터 얻은 데이터에 기초하여 로봇의 주파수 응답을 계산한다. 주파수 응답 <515> 이 계산될 수 없으면 에러가 표시된다. (f) 분석 층은 전처리 층으로부터 얻은 주파수 응답 내의 관심 대상인 벨트들의 횡방향 진동에 대응하는 주파수 <516> 들을 식별한다. 주파수들이 식별될 수 없다면 에러가 표시된다. (벨트 상태 검사를 목적으로 길이 방향의 진동 에 대응하는 주파수들도 식별해야 할 것인가) (g) 추론 층은 결과 주파수들을 관심 대상이 되는 각 벨트 구동을 위한 허용 가능한 범위들과 비교한다. (이러 <517> 한 비교가 분석 층에서 이루어져야 하는가) (h) 관리기는 결과들을 표시한다. 문제점이 존재한다면, 관리기는 벨트 장력 조정을 위한 지시와 함께 점검 화 <518> 면을 제공한다. 설정 데이터(configuration data) <519> (a) 벨트 구동들과 모터들의 사이의 관련성. <520> (b) 주파수 응답 식별을 위한 서보 매개 변수들. <521> (c) 주파수 응답 식별을 위한 여자 신호들의 매개 변수들. <522> (d) 각 벨트 구동을 위한 허용 가능한 고유 주파수 범위. <523> 정지 부하 조건 하에서의 모터 모델의 확인 <524> 목적(purpose) <525> - 48 -공개특허 10-2008-0055789이 방법의 목적은 모터 토크 상수를 확인하는 데 있다. <526> 개요(overview) <527> 모터 모델의 방정식들은 정지 부하 조건 하에서 단순화된다. 상술한 바와 같이 모터들이 정지 상태 하에서 알려 <528> 진 외력에 저항한다면, 역기전력, 점성효과(viscous effects), 및 관성 효과(inertial effects)가 없는 경우 모터 토크 상수들은 측정된 전류로부터 직접 유도될 수 있다. 외력의 크기가 알려져 있지 않아도, 해석적인 정 지 힘의 모델들이 모터 토크비를 얻기 위해 사용될 수 있다. 모터 토크비(motor torque ratios)는 모터 전류비 (current ratios)와 비교될 수 있고, 모터 용량의 저하를 가져오는 결함이 식별될 수 있다. 이러한 접근법을 이 용하여 다음과 같은 결함들, 즉 모터 자석들의 약화, 모터 베어링들의 헛돌기가 식별될 수 있다. 나아가 상기 전압 전류 관계식을 이용하여 측정된 전류와 전압으로부터 모터 권선 저항이 유도될 수 있다. 계층적 수준(hierarchical level) <529> 이러한 진단 루틴은 로봇 제어기나 주제어기 PC 내에 존재한다. <530> 단계들의 순서(sequence of steps) <531> (a) 관리기는 로봇 엔드 이펙터가 외력의 적용 지점을 살짝 접촉하도록 로봇에게 명령할 것이다. 외력은 로봇이 <532> 풀리 기구나 레버 기구를 통해 밀거나 당기는 공지의 무게일 수 있다. 아무런 외력도 존재하지 않는다면, 로봇 은 딱딱한 표면에 대해 가압할 것이다. (c) 데이터 수집 층은 각 모터들에서의 정상 상태 전류와 전압 값들을 기록할 것이다. <533> (d) 분석 층은 각 모터들에서의 권선 저항값들을 계산할 것이다. 나아가, 분석 층은 전류 값과 외력 값들을 정 <534> 적 평형 방정식(static equilibrium equations)에 대입한 후에 잔류값들을 계산할 것이다. (e) 추론 층은 잉여값들을 문턱값들과 비교하고, 문턱값들에 대한 위반을 식별할 것이다. <535> (f) 관리기는 모터 모델의 어떤 위반을 보고할 것이다. <536> 설정 데이터(configuration data) <537> (a) 모터 권선 저항 및 모터 토크 상수들의 명목 값들. <538> (b) 잔류값들에 대한 허용 가능한 문턱값 한계들. <539> 로봇/얼라이너 인코더 신호 검사 <540> 목적(purpose) <541> 이러한 요구형 루틴의 목적은 광학 절대치형 인코더들이나 가상 절대치형 인코더들의 사인 코사인 신호 출력의 <542> 질을 사양에 대해 검사하는 데 있다. 개요(overview) <543> 인코더 독출 헤드들(read-heads)과 광학 디스크들은 생산/수리 직원의 오류로 인해 적절하게 정렬되지 않을 수 <544> 있고, 또한 작동 중의 손상으로 인해 독출 헤드들과 광학 디스크의 정렬이 시간에 따라 변화할 수 있다. 먼지나 그리스와 같은 이물질은 인코더의 광학 디스크를 오염시킬 수 있다. 그와 같은 정렬 불량이나 오염은 인코더의 사인/코사인 신호 출력을 왜곡시킬 수 있다. 신호들의 질은 신호의 크기와 위상 특성에 기초하여 검사될 수 있 다. 신호들은 낮은 일정한 속도에서 기록될 필요가 있는데, 낮은 일정한 속도는 통상적인 작동 중에는 발생하지 않는다. 그러므로 특별한 요구형 루틴이 필요하다. 계층적 수준(hierarchical level) <545> 이러한 진단 루틴은 로봇 제어기나 주제어기 PC 내에 존재할 수 있다. <546> 단계들의 순서(sequence of steps) <547> (a) 관리기는 로봇 엔드 이펙터들 위에 기판들이 존재하지 않는 것을 검사한다. 기판이 존재한다면 에러가 표시 <548> 된다. 로봇이 기판 존재 감지를 지원하지 않는 경우에 관리기는 조작자가 로봇 엔드 이펙터에 기판이 존재하지 않는 것을 확인하도록 하는 요청을 표시한다. (b) 관리기는 로봇으로 하여금 로봇의 안전한 위치(safe position)로 이동하도록 명령한다. <549> - 49 -공개특허 10-2008-0055789(c) 관리기는 축이 요구되는 범위만큼 일정한 속도로 이동하도록 명령한다. 요구되는 범위는 인코더의 완전한 <550> 일회전에 대응한다. (d) 데이터 수집 층은 특정한 속도로 사인 신호값과 코사인 신호값들을 기록한다. <551> (e) 전처리 층은 수직 성분들(cartesian components)이 사인 및 코사인 신호값인 가상 벡터들의 크기를 계산한 <552> 다. (f) 분석 층은 사인 신호 및 코사인 신호들 및 가상 벡터들의 최대값과 최소값을 기록한다. <553> (g) 추론 층은 최대값과 최소값을 미리 설정된 문턱값과 비교한다. <554> (h) 어떤 문턱값이 위반되었다면, 관리기는 그 위치를 보고한다. <555> 설정 데이터(configuration data) <556> (a) 최대 및 최소 문턱값 수준들 <557> (b) 데이터 수집 속도 <558> (c) 각각의 로봇 축에 관한 안전한 위치 <559> (d) 기록 중의 축 속도 <560> 로봇/얼라이너 그리퍼의 요구형 검사 <561> 이 루틴의 목적은 도 5 및 도 6에 도시된 것과 같은 로봇이나 얼라이너의 진공에 의해 동작하는 기판 그리퍼들 <562> 의 적절한 작동을 확인하는 데 있다. 요구가 있으면, HMFD 시스템은 이동 시간을 감시하며 그리퍼를 연습 작동 시키고, 주어진 사양과 이를 비교한다. 매퍼/얼라이너 센서 검사 <563> 이 루틴의 목적은 로봇 매퍼나 광학 센서 기능을 검사하는 데 있다. HMFD 시스템은 센서들로 하여금 발광부 <564> (ling emitter)를 작동시키도록 명령하고, 수광부(light receiver)가 발광되는 광에 충분히 노출되었을 때에 수 광부의 출력을 읽는다. 결과 출력은 주어진 사양과 비교된다. 로봇 매퍼(mapper) 기능 검사 <565> 이 루틴의 목적은 매퍼(도 7)가 적절하게 기능하는지를 확인하는데 있다. HMFD 시스템은 로봇으로 하여금 알려 <566> 진 지름을 갖는 원형 단면의 전선이나 핀과 같은 알려진 치수를 갖는 부분을 검사하도록 매퍼에 명령한다. 그리 고 결과가 검사된 부분의 알려진 치수와 비교된다. 로봇/얼라이너 제어 안정도 검사(control stability verification) <567> 이 루틴의 목적은 로봇이나 얼라이너의 제어기 동조(controller tuning)의 안정도를 검사하는 데 있다. HMFD 시 <568> 스템은 로봇의 작업 영역에 균일하게 분포된 위치들의 격자로 로봇을 이동시키고, 임펄스 신호(impulse signa l)나 계단 신호(step signal)나, 소인 주파수(swept frequency) 조파신호(harmonic signal)를 주고 각 위치에 서의 응답을 기록한다. 그리고 제어기는 수집된 데이터에 기초하여 안정도 여유(stability margin)를 평가한다. 통신 네트워크 토폴로지 검사 <569> 이 검사는 통신 네트워크의 결정과 표시를 수반한다. <570> 요구형 로봇 반복 재현성 검사 <571> 목적(purpose) <572> 이 검사의 목적은 로봇 반복 재현성의 어떤 악화를 탐지하는 데 있다. <573> 개요(overview) <574> 로봇의 반복 재현성은 로봇 엔드 이펙터로 하여금 어떤 공차 범위 내에서 작업 영역 내의 동일한 지점으로 이동 <575> 하게 명령할 수 있는 능력을 말한다. 로봇 반복 재현성의 척도는 이러한 공차 창문(tolerance window)의 엄격함 (tightness)이다. 반복 재현성 손실은, 베어링에서의 헛돌기와 미끄러지는 벨트와 같은 미끄러운 기계적 연결 (coupling)로 인하여 발생한다. 반복 재현성 손실은 이동 명령의 수행 중의 로봇 엔드 이펙터의 위치의 반복적 - 50 -공개특허 10-2008-0055789인 외부의 측정을 통해 탐지될 수 있다. 하나의 선택은 로봇 엔드 이펙터에 관통형 광선 매퍼(through beam mapper)를 사용하는 데 있다(도 7). 로봇은 수직 방향의 날 가장자리(vertical knife edge)와 같은 고정된 부분 이 광선을 자르도록 엔드 이펙터를 이동시킬 것이다. 광선이 잘리는 정확한 로봇 위치가 기록된다. 이 위치의 점진적인 이동은 로봇의 반복 재현성의 문제를 나타낸다. 로봇의 반복 재현성을 충분히 검증하기 위해서는, 로 봇에 의하여 복수 개의 방향으로부터 상기 부분이 접근되거나, 복수 개의 부분들이 사용될 수 있다. 두 번째 선 택은 엔드 이펙터의 직선 가장자리(straight edge)가 작업 셀(cell)에 대하여 고정된 광선을 자르는 로봇 위치 를 기록하는 것이다. 계층적 수준(hierarchical level) <576> 이러한 루틴은 로봇 제어기 내 또는 주제어기 PC에 존재할 수 있다. <577> 단계들의 순서(sequence of steps) <578> (a) 주제어기는 로봇을 식별하여 하나 이상의 관통 광선(through beams)이 잘리도록 하는 로봇이 특정한 운동 <579> 시퀀스를 수행하도록 명령을 내릴 것이다. (b) 데이터 수집 층은 관통 광선이 잘리는 로봇 위치들을 기록할 것이다. <580> (c) 분석 층은 기록된 위치들의 변이를 탐지한다. 변이가 공차 한계를 넘어서는 경우, 반복 재현성의 손실이 보 <581> 고된다. 설정 데이터(configuration data) <582> (a) 반복 재현성에 대한 허용 가능한 공차 <583> 로봇-스테이션(station) 정렬 검사 <584> 목적(purpose) <585> 이 방법의 목적은 로봇에 대한 스테이션의 위치나 방향의 어떠한 변이를 검사하는 데 있다. <586> 개요(overview) <587> 로봇에 대한 스테이션의 위치와 스테이션의 방향(orientation)을 자동적으로 결정하기 위한 방법이 설명된다. <588> 이 방법은 로봇 엔드 이펙터나 얼라이너 위의 관통 광선 매퍼(428A, 428B)를 이용하는 일련의 단계들을 기술한 다. 로봇은 요구되는 경우 이러한 단계들을 수행하여, 스테이션 위치 또는 방향에 심한 변이가 존재하는지를 검 사한다. 계층적 수준(hierarchical level) <589> 이 검사는 주 로봇 제어기(main robot controller) 내에 구현될 수 있다. <590> 단계들의 순서(sequence of steps) <591> (a) 관리기는 티칭(teaching)을 가능하게 하는 모든 스테이션들과 스테이션들의 부분들이 접근 가능한 것을 확 <592> 인한다. (b) 매퍼(428A, 428B)가 티칭을 위해 사용되는 경우, 관리기는 로봇 엔드 이펙터 위에 웨이퍼가 존재하는지를 <593> 확인하기 위해 검사한다. (c) 관리기는 티치(teach) 시퀀스의 개시를 명령한다. <594> (d) 관리기는 스테이션 위치들과 방향들의 변이를 기록하고, 정상에서 벗어남을 사용자에게 경고한다. <595> 요구형 바이러스 검사(on-demand virus scan) <596> 이 검사는, 제어기의 작업의 적절한 실행을 방해하는 바이러스나 기타 작용들을 위해, 주제어기의 하드 드라이 <597> 브와 같은 하드 드라이브들의 검사를 수반한다."}
{"patent_id": "10-2008-7002964", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 6, "content": "예시적인 요구형 상태 감시 및 결함 진단 루틴들의 요약이 표 7에 제공된다. <598> [예시적인 요구형 HMFD 루틴들] <599> - 51 -공개특허 10-2008-0055789표 7 <600> 시험 데이터의 예 <601> 본 상태 감시 및 결함 진단 시스템의 선택된 방법들에 관한 예시적인 시험 데이터가 이제 설명될 것이다. <602> 에너지 손실의 진단 및 분석 <603> 상기 설명된 것과 같이, 이 방법에서의 중요한 원리는 로봇의 기계적 구성 요소나 전기적 구성 요소들의 열화로 <604> 부터 기인하는 결함들은 로봇 동작의 전체적인 효율의 감소를 가져올 것이라는 점이다. 그러므로 로봇 내의 에 너지 손실의 특정한 척도들을 감시함으로써 그와 같은 결함들이 발생의 초기 단계에서 탐지될 수 있다. 효율의 감소를 가져오는 결함들의 몇몇 예들은, 손상되거나 정렬이 불량한 베어링들과, 윤활 손실(loss of lubrication)과, 로봇 운동에 대한 장애와, 로터 상의 영구 자석들의 열화와, 모터 브레이크들의 오작동이다. 나아가, 위치 및 전류 피드백 제어 루프 내에서의 임계적 불안정(marginal instability)에 의해 유발되는 진동 도 또한 에너지 손실의 증가를 가져오는데, 이러한 접근법을 이용하여 탐지될 수 있다. 에너지 손실 지표들 (energy loss indices)은 로봇 내와 각 조인트들에서의 결함들의 존재를 나타내기만 한다. 결함의 원인을 좁히 기 위해 보완적인 방법들이 사용될 필요가 있을 수 있다. 정상 작동 중의 에너지 손실에 대한 데이터를 수집하기 위해 5축 의존형 로봇(5 axis reliance robot)이 사용되 <605> 었다. 이 로봇은 도 4의 예시적 로봇에 유사하다. 로봇 제어기에 내장된 추적 메커니즘(trace mechanism)을 이 용하여, 로봇이 비 원형 스테이션(non-radial station)으로부터 기판을 수거하기 위해 연장 운동(extend move) 을 수행할 때마다 모터 토크와 모터 속도 데이터가 다운로드된다. 토크 및 속도 데이터는 정지 상태에서 시작하 여 이동의 종료 시에 정지하게 될 때까지의 로봇의 지속 시간을 포함하는 전체 이동에 대하여 수집되었다. 이러 한 특정한 이동이 Z 축의 운동을 수반하지 않았으므로, 중력 위치 에너지에는 변화가 없으며, 마찰이 없는 이상 적인 상태 하에서 에너지 순손실(net energy dissipation)은 0이 될 것이다. 한편, 실제 로봇에 대해서는 로봇 이 동일한 평면 상의 두 개의 지점들의 사이에서 이동할 때 양의 에너지 순손실(net positive energy dissipation)이 존재한다. 이러한 에너지 손실은 베어링들과 액추에이터들과 같은 기계 요소들 내의 마찰 때문 이다. 일반 로봇에 대한 에너지 손실 <606> 도 12는 정상 상태에 있는 로봇에 관하여 중심에서 벗어난 스테이션으로의 연속된 연장 움직임에 대한 에너지 <607> 손실의 그래프이다. - 52 -공개특허 10-2008-0055789부정확한 위상 각을 갖는 로봇에 대한 에너지 손실 <608> t1 모터(도 4의 모터)의 위상각을 변화시킴으로써, 결함의 상태가 인공적으로 유발되었다. 부정확한 위상 <609> 각은 동일한 권선 전류에 대해 낮은 모터 토크 출력을 가져온다. 모터의 요구되는 실제 토크 출력은 동일하게 머무르므로, 모터 전류는 증가되어야 한다. 이는 또한 높은 저항 에너지 손실(resistive energy loss)을 가져온 다. 결과로 발생하는 높은 전압은 그 자체가 피드백 제어기 내의 높은 값의 실제 토크(actual torque)를 증명한 다. 도 13은 상이한 위상각들에 대하여 연속적인 연장 운동에 관한 에너지 손실값들을 비교한다. 시간에 따른 에너지 손실의 변동 <610> 도 12 및 도 13에서 볼 수 있는 바와 같이, 에너지 손실 값은 연속적인 연장 운동에 대한 작은 변동을 <611> 나타낸다. 그러나 고려되는 로봇에 관하여 에너지 손실은 긴 주기의 시간에 걸쳐 줄어드는 추세를 보인다. 도 14는 동일한 로봇에 대해 30일의 간격 이후의 에너지 손실을 나타낸다. 도 15는 30일 벌어진 정상 로봇에서의 에너지 손실을 비교한다. 에너지 손실의 전체 범주에 있어서 5%의 감소가 존재한다. 에너지 손실에서의 이러한 강하는 아직 결정되지 않았다. 이 주제에 대해 분석이 더 필요하다. 에너지 손실의 감시에 의해 탐지될 수 없는 결함들 <612> 에너지 손실의 식별 가능한 증가를 가져오지 않으므로, 에너지 손실을 감시함으로써 탐지될 수 없는, 어떤 유형 <613> 의 결함들이 존재한다. 다음의 두 가지 예가 있다. (a) 부정확한 위치 독출을 가져오는 인코더 디스크 위의 이물질. <614> (b) 임계적으로 안정적인 서보로 인한 진동: 에너지 손실은 증가하지만, 탐지될 만큼 충분히 심하지는 않다. <615> 잔류 토크값들(torque residuals)의 감시 및 분석 <616> 로봇으로부터 수집되어 전체 상태의 쇠퇴를 보이는 데이터는, 상태의 쇠퇴를 야기하는 특정 결함을 결정하기 위 <617> 하여 더 분석될 수 있다. 상기에서 나타난 바와 같이, 잔류 토크값들에 기초한 분석 기법은 로봇 내에서 발생할 수 있는 특정한 유형의 결함들을 식별할 수 있다. 유효 모터 용량의 감소 <618> 부정확한 모터 위상각이나 영구 자석들의 소자(demagnetization)와 같은 결함들은 모터의 유효 토크 상수의 감 <619> 소를 가져온다. 동일한 토크 출력을 위해서는 높은 모터 전류가 필요하다. 잔류 토크값은, 결함 상태에 있는 토 크와 정상 상태에 있는 토크의 사이의 차이로 정의되며, 정상 상태의 토크에 비례할 것이다. 이는 날 운반기 (razor traverser)에 대해 얻은 도 16에 도시된 데이터에 의해 설명된다. 데이터는 운반기가 4,500 mm/s2 의 최 대 가속도와, 900 ㎜/s 의 최대 속도와, x = 0 에서의 시작점과, x = 1,000 에서의 종료점에 의해 정의되는 운 동의 윤곽을 완료하였을 때 수집되었다. 도 17은 명목 토크에 대한 잔류 토크값의 변동을 나타낸다. 그래프가 토크에 비례하는 모터 전류를 나타냄을 주목하시오. 선형 회귀계수(linear regression coefficient)는 모터의 토크 상수가 감소한 정도를 나타낸다. 도 17의 데이터 <620> 는, 잘못된 위상각으로, 요구되는 토크가 명목 토크보다 평균 33.7% 크다는 것을 나타낸다. 한편, 도 18에 도시 된 것과 같이 잔류 토크값과 모터의 속도의 사이에는 상관관계가 없다. 주기적인 저항(periodic drag) <621> 브레이크 저항과 같은 결함들은 모터에 주기적인 저항을 유발한다. 도면은 아암이 없는 의존형 로봇(reliance <622> robot)의 z 축(수직 상승)으로부터 얻은 데이터를 도시한다. 데이터는 320 ㎜/s 의 최대 속도를 갖는 300 ㎜의 z 운동에 관한 토크값을 나타낸다. 브레이크 슈가 완전히 분리되는 것을 방지함으로써 브레이크 저항이 유발되 었다. 이는 모터 위치에 주기적인 저항을 가져왔다. 주기적인 저항은 위치에 대한 토크 잔류값의 변동을 나타내 는 도 20으로부터 명백하다. 잔류 토크값의 변동의 주기는 z 볼 스크류의 피치인 약 16mm 이다. 로봇 기준 모델(robot reference model) <623> 이전의 토의들은 정상 동작 상태 하의 로봇의 동역학적인 거동을 정의하는 로봇의 기준 동역학 모델이 존재한다 <624> 는 것을 가정하였다. 이와 같은 모델은 로봇 상태의 형편을 결정하기 위해 현재 에너지 손실값이 비교되는 에너 지 손실에 관한 기준값을 만들 것이다. 이 모델은 또한, 잔류 토크값을 계산하기 위해 사용될 수 있는 주어진 운동 시퀀스에 관한 명목 토크의 변동값을 만들 것이다. 이와 같은 모델은 반드시 상태 문제점을 나타내지는 않 는 로봇 특성들의 상당히 장기적인 흐름을 설명하기 위해 주기적으로 업데이트될 필요가 있을 수 있다. 상술한 - 53 -공개특허 10-2008-0055789바와 같이, 기준 로봇 거동을 결정하기 위한 가능한 선택들 중의 하나는 로봇의 정상적인 동역학적 거동을 나타 내는 신경망 모델의 사용이다. 정상 로봇으로부터 얻은 데이터는 로봇 동역학의 신경망 모델을 구축하기 위해 사용될 수 있고, 이러한 모델은 <625> 상태 감시 및 결함 진단을 위한 기준 모델로 사용될 수 있다. 도 21은 모델에 의해 예측된 z 축 토크와 실제 토 크의 비교를 나타낸다. 10 개의 뉴런들(neurons)을 갖는 방사 기저 네트워크(radial basis network)를 이용하여 신경망 모델이 구축되었다. 이러한 목적을 위해 매트랩(Matlab)에 의해 방사 기저 네트워크 도구가 제공되었다. 네트워크를 위한 트레이닝 데이터는 1,300 상태들에서의 위치, 속도, 가속도, 및 토크값들을 포함하였다. 본 상태 감시 및 결함 진단 시스템은 브룩스 오토메이션 사(Brooks Automation, Inc.)의 GOLDLINKTM 글로 <626> 벌 진단 도구(global diagnostic tool)와 같은 글로벌 진단 도구와 통합될 수도 있다. 상태 감시 및 결함 진단 시스템의 각 기능은 출력이나 결과를 부가적 기능들을 수행할 수 있는 하나 이상 <627> 의 원격 연산 장치(remote computing devices)로 전송할 수 있다. 예를 들어, 데이터 수집 기능은 전처리 기능, 분석 기능, 및 추론 기능들을 수행할 수 있는 원격 서버에 시간 이력들을 보고할 수 있다. 시스템 내의 다른 기능들도 또한 시스템 내의 연산과 흐름양 부하를 최소화하기 위하여 더 많은 연산을 위한 원격 기능 들에게 데이터를 보낼 수 있다. 이는 원격지에서 분석 및 추론의 알고리즘을 개발하고 검증할 기회를 제공하며 현장에서 필요한 지원을 최소화 <628> 함으로써, 현장에서 시스템에 의해 직접 보고되는 잘못된 경고의 위험을 줄인다. 원격 기능들에 전송되는 정보는 주기적인 상태 감시 데이터와, 자동적인 상태 통지와, 요구된 정보(on-demand <629> information)를 포함할 수 있다. 주기적인 상태 감시 데이터 <630> 하나 이상의 로컬(local) 기능들(105, 110, 115, 120)은 선택된 신호들을 높은 샘플링 속도(sampling rate)로 <631> 실시간으로 연속적으로 기록할 수 있고, 특성들을 처리하고, 분석 기능을 수행하거나 또는 추론 기능을 수행하 고, 심화된 처리를 위해 데이터를 원격지로 전송할 수 있다. 예를 들어, 데이터 수집 기능은 운동의 각 축을 위한 다음 신호들을 기록할 수 있다. <632> (a) 모터 전압(PWM 듀티 주기의 단위로) <633> (b) 모터 전류 <634> (c) 명령된 실제 위치 <635> (d) 실제 속도 <636> (e) 모터 온도 <637> 로컬 전처리 기능은 매회전마다 및 모터 축마다의 다음과 같은 특성들의 집합을 결정하기 위해 각각의 작 <638> 동에 관한 일군의 특징들을 계산하기 위해 계산한다. (a) 데이터/시간 표시(stamp) <639> (b) 정보로부터 또는 정보를 향해 <640> (c) 손실된 에너지 <641> (d) 최대 전류 <642> (e) 최대 위치 에러 <643> (f) 정착 위치 에러(settling position error) <644> (g) 정착 시간(settling time) <645> (h) 최대 온도 <646> 상기 특성들의 집합은 주기적인 일괄 작업들(periodic batches)에 의해 분석 기능, 추론 기능, 또는 기타 기능 <647> 들을 위한 원격 서버나 기타 연산 장치로 전송될 수 있다. - 54 -공개특허 10-2008-0055789원격 서버는 또한 로컬 기능들(105, 110, 115, 120)이나 관리기로부터의 자동 상태 고지(status <648> notification)를 구현하기 위해 사용될 수도 있다. 고지 정보는 다음을 포함할 수 있다. (a) 작동 변동 대 수리 변동(operation vs. maintenance change) <649> (b) 설정 변동의 고지(notification) <650> (c) 치명적 에러들의 고지(notification) <651> (d) 미리 정해진 간격으로 전송되는 주기 카운트 데이터(cycle count data) <652> 나아가, 원격 서버나 컴퓨터 연결은 지원 및 진단의 목적을 위해 요구되는 경우 정보의 업로드(upload)를 허용 <653> 할 수도 있다. 예시적인 정보는 이하를 포함할 수 있다. (a) 설정(작업 영역, workspace) 정보 <654> (b) 시간이 표시된 명령/응답/에러 기록 <655> (c) 데이터 기록(데이터 수집 층으로부터의 기록) <656> 나아가, 원격 시스템으로부터 다른 특징들, 예를 들어 바이러스 방지 소프트웨어와 제어 소프트웨어의 원격 업 <657> 그레이드를 원격 시스템으로부터 제공하는 것이 바람직할 수 있다. 설명된 시스템은 상태 감시 및 결함 진단을 위한 기능들의 고유한 집합을 제공하므로 바람직하다. 데이터 수집 <658> 기능은, 감시되는 기계들이 작동하는 동안, 선택된 변수들의 시간 이력들을 획득하고, 전처리 기능은 획득된 시 간 이력들의 특정한 특성들을 계산하고, 분석 기능은 변수들이 관련된 개별적인 구성 요소들의 특성들을 평가하 고 각 구성 요소들의 상태에 관한 하나 이상의 가정들을 생산하며, 추론 기능은 기계의 각 구성 요소들의 상태 와 기계가 양호한 작동 조건에 있는 확신의 정도를 포함하는 기계의 전체적인 평가를 도출한다. 시스템은 계층적으로 분산된(hierarchically distributed) 방식으로 구현될 수도 있다. 예를 들어, 상태 감시 <659> 및 결함 진단의 목적으로 획득되는 데이터가 데이터를 처리하기에 충분한 지능이 존재하는 수준에서 처리되도록, 각 기능의 복수 개의 객체들이 기계 내의 단계적으로 더 높은 수준의 제어기들 내에 존재하거나 연 결될 수 있다. 시스템은, 자동화된 제조 기계 내에서 작동하는 로봇 머니퓰레이터들의 예상되지 않은 고장으로 인한 소재의 손 <660> 상과 예기치 않은 정지(downtime)를 실질적으로 감소시키거나 또는 완전히 제거할 것으로 기대된다. 나아가, 고 장이 발생하는 경우, 시스템의 결함 진단 성능은 수리의 응답성, 질, 및 비용을 향상시킬 것으로 기대된다. 앞서 말한 설명은 오로지 여기에서 개시되는 실시예들을 설명하기 위한 것임을 이해하여야 할 것이다. 실시예들 <661> 로부터 벗어나지 않으면서도 여러 가지 다른 방법들과 변형들이 본 발명의 분야의 숙련된 자에 의해 고안될 수 있다. 따라서 현재 개시된 실시예들은 청구된 청구범위의 범위 내에 들어오는 이와 같은 모든 방법들과 변형들 을 포함하도록 의도되었다."}
