{"patent_id": "10-2022-0034783", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0137080", "출원번호": "10-2022-0034783", "발명의 명칭": "이동 로봇", "출원인": "엘지전자 주식회사", "발명자": "심미영"}}
{"patent_id": "10-2022-0034783", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "주행 구역 내에서 본체를 이동시키는 주행부; 상기 본체 외부의 물체와의 거리에 관한 거리 감지 정보를 획득하는 감지부; 및상기 거리 감지 정보로부터 상기 주행 구역에 대한 그리드 맵을 생성하고, 상기 거리 감지 정보 중 라이다 정보로부터 주행 경로 상의 복수의 주행 노드에 대하여 오픈 노드를 탐색하고, 상기 그리드 맵으로부터 각각의 상기오픈 노드에 대하여 오픈 여부를 재판단하여 토폴로지 맵을 생성하는 제어부;를 포함하는 이동 로봇."}
{"patent_id": "10-2022-0034783", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서,상기 센서부는 상기 본체 외부의 물체에 레이저를 조사하고, 반사되는 광에 의해 상기 거리 감지 정보를 산출하는 라이다 센서를 포함하는 것을 특징으로 하는, 이동 로봇."}
{"patent_id": "10-2022-0034783", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 2 항에 있어서,제어부는 복수의 주행 노드마다 상기 레이 캐스팅을 실행하여 오픈 공간을 탐색하고, 상기 오픈 공간이 존재하는 상기 주행 노드를 상기 오픈 노드로 설정하는 것을 특징으로 하는 이동 로봇."}
{"patent_id": "10-2022-0034783", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 3 항에 있어서,상기 제어부는 상기 그리드 맵을 기초로 상기 오픈 노드의 오픈 공간이 존재하는 방향에 마주하는 오픈 공간을가지는 상기 오픈 노드가 존재하는 경우, 상기 오픈 노드를 닫는 것을 특징으로 하는 이동 로봇."}
{"patent_id": "10-2022-0034783", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 3 항에 있어서,상기 제어부는 각각의 상기 오픈 노드에 대하여, 상기 그리드 맵으로부터 상기 오픈 노드 주변을 구획하여 상기오픈 노드 주변에 미탐색 영역이 존재하는지 여부를 판단하여 상기 오픈 노드를 닫을지 결정하는 것을 특징으로하는 이동 로봇."}
{"patent_id": "10-2022-0034783", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 5 항에 있어서,상기 제어부는 상기 주행 구역을 복수의 서브 영역으로 분할하고, 각각의 상기 서브 영역에 대하여 상기 그리드맵과 상기 토폴로지 맵을 생성하며,공개특허 10-2023-0137080-3-상기 서브 영역은 상기 이동 로봇이 상기 주행 구역을 소정 시간 또는 소정 거리만큼 주행할 때의 면적으로 분할하는 것을 특징으로 하는 이동 로봇."}
{"patent_id": "10-2022-0034783", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제 5 항에 있어서,상기 제어부는 상기 서브 영역에 대하여 상기 오픈 노드의 오픈 여부가 재 판단된 경우, 상기 그리드 맵으로부터 상기 서브 영역에 대한 미탐색 영역이 존재하는지를 판단하는 것을 특징으로 하는 이동 로봇."}
{"patent_id": "10-2022-0034783", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제6항 또는 제7항에 있어서,상기 제어부는 상기 미탐색 영역이 존재하면, 상기 미탐색 영역 주변의 상기 주행 노드로 이동하여 상기 미탐색영역에 오픈 노드가 존재하는지 탐색 주행을 수행하는 것을 특징으로 하는 이동 로봇."}
{"patent_id": "10-2022-0034783", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 8 항에 있어서,상기 제어부는 상기 주행 노드를 따라 주행하면서, 노드 기반 탐색 및 상기그리드맵 기반 탐색을 동시 수행하는것을 특징으로 하는 이동 로봇."}
{"patent_id": "10-2022-0034783", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제 3 항에 있어서,상기 제어부는, 상기 주행 노드에서 레이 캐스팅하여 상기 이동 로봇의 주행이 가능하고, 상기 이동 로봇이 기주행하지 않은 공간을 상기 오픈 공간으로 판단하는 것을 특징으로 하는, 이동 로봇."}
{"patent_id": "10-2022-0034783", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제 10 항에 있어서,상기 제어부는 상기 주행 노드를 중심으로 360도로 레이 캐스팅을 수행하는 것을 특징으로 하는 이동 로봇."}
{"patent_id": "10-2022-0034783", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제 1 항에 있어서, 상기 센서부는 상기 그리드 맵을 생성하기 위한 장애물 감지 센서를 더 포함하는 것을 특징으로 하는 이동로봇."}
{"patent_id": "10-2022-0034783", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "상기 목적을 달성하기 위한 본 발명의 실시예는 주행 구역 내에서 본체를 이동시키는 주행부; 상기 본체 외부의 물체와의 거리에 관한 거리 감지 정보를 획득하는 감지부; 및 상기 거리 감지 정보로부터 상기 주행 구역에 대한 그리드 맵을 생성하고, 상기 거리 감지 정보 중 라이다 정보로부터 주행 경로 상의 복수의 주행 노드에 대하여 오픈 노드를 탐색하고, 상기 그리드 맵으로부터 각각의 상기 오픈 노드에 대하여 오픈 여부를 재판단하여 토폴로 지 맵을 생성하는 제어부를 포함하는 이동 로봇을 제시한다. 따라서, 추가적인 주행이 필요한 공간에 대한 탐색 주행 시 불필요한 주행을 최소화하여 효율을 향상시킬 수 있다. 또한, 추가적인 탐색 주행 시에 토폴로지 맵에서 그리드 맵을 통한 미탐색 영역의 탐색을 한번 더 수행함으로써, 중복을 최소화하면서도 신뢰성을 확보할 수 있다."}
{"patent_id": "10-2022-0034783", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은, 이동 로봇에 관한 것으로, 보다 자세하게는 주행 맵 생성을 위한 이동 로봇의 감지 및 그에 따른 제 어 기술에 관한 것이다."}
{"patent_id": "10-2022-0034783", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "로봇 응용 분야는 계속적으로 확대되어, 의료용 로봇, 우주 항공 로봇 등이 개발되고, 일반 가정에서 사용할 수 있는 가정용 로봇도 만들어지고 있다. 이러한 로봇 중에서 자력으로 주행이 가능한 것을 이동 로봇이라고 한다. 가정에서 사용되는 이동 로봇의 대표적인 예는 이동 로봇이다. 이동 로봇에 구비된 여러 센서를 통하여 이동 로봇 주변의 환경 및 사용자를 감지하는 여러 기술들이 알려져 있 다. 또한, 이동 로봇이 스스로 청소 구역을 학습하여 맵핑하고, 맵 상에서 현재 위치를 파악하는 기술들이 알려 져 있다. 청소 구역을 기설정된 방식으로 주행하며 청소하는 이동 로봇이 알려져 있다. 청소 등 설정된 작업을 수행하기 위해서는 주행 구역의 맵(map)을 정확하게 생성하고, 주행 구역 내의 어느 위 치로 이동하기 위해서 맵 상에서 이동 로봇의 현재 위치를 정확하게 파악할 수 있어야 한다. 종래기술(한국 공개특허공보 제10-2010-0031878호의 경우, 이동 로봇이 미지의 환경을 탐색할 때 획득되는 영상 으로부터 추출되는 특징점들의 위치의 불확실도에 기반하는 경로를 생성하고, 생성된 경로에 따라 주행하는 기 술을 개시한다. 특징점들의 불확실도에 기반하는 경로는 이동 로봇의 특징점 지도의 정확성을 높이거나 자기 위 치 인식의 정확도를 높이기 위해 생성된다. 또한, 다른 종래기술 한국 공개특허공보 2021-0009011호는 청소 시에 주행을 위한 맵 작성을 위해 탐색 주행을 실시하는 것이 개시되어 있다. 이와 같은 다른 종래기술에는, 맵 작성을 위한 탬색 주행 시에 미지의 영역의 주행을 위해 실시간 센싱 범위 내 에 있는 데이터를 획득하여 그에 따라 노드를 설정하고, 노드 정보에 의해 그리드 맵을 산출하게 된다. 이와 같 은 그리드 맵에 대하여 영상데이터에 의한 경계를 탐색하여 업데이트되는 최종 그리드 맵을 제공함으로써 맵 정 보를 생성한다. 그러나, 이와 같은 다른 종래기술로는 로봇이 주행하면서 실시간으로 센싱 범위 내에 있는 데이터만을 획득하고, 그를 기초로 기초 맵을 생성하므로, 이미지에서 찾은 경계에 대해 현재 로봇 위치에서 그 경계 사이 에 주행이 가능하지 않은 장애물들이 발생할 수 있는 위험이 있다. 또한, 다른 종래기술에서는 로봇이 주행을 하면서 추가 탐색이 필요한 위치에서 경로 상에 토폴로지 노드를 추 가하여 추후 탐색 주행이 필요함을 표시하게 된다. 그러나, 종래기술에서는 추가 탐색이 필요한 곳에 주행 경로 상에 노드를 생성 시 그 노드에 추가 주행이 필요 한 방향을 구간을 나눠 표시하게 되는데, 초기 로봇의 방향이 건물 내부의 구조물과 추가 주행 방향의 각도가 맞지 않으면 방향 설정이 어긋나 주행이 어려운 문제가 발생한다. 또한, 이동 로봇이 주행하면서 센싱 범위 내에 있는 데이터만을 획득한 상태이기 때문에 이미지에서 찾은 경계 에 대해 현재 이동 로봇 위치에서 그 경계까지 주행이 가능하지 않는 경우들이 생길 수 있다. 한편, 로봇이 주행을 하면서 추가 탐색이 필요한 위치에서 경로 상에 토폴로지 노드를 추가하여 추후 탐색 주행 이 필요함을 표시하면서 주행하는 방법도 제시되었다. 그러나, 이와 같이 토폴로지 맵을 활용하는 경우, 미탐색 영역이 모두 표현되지 않아 미탐색 영역이 발생할 수 있다. 선행기술문헌 특허문헌 (특허문헌 0001) 한국 공개특허 제10-2010-0031878호 A(2010.03.25.) (특허문헌 0002) 한국 공개특허 제10-2021-0009011호 A(2021.01.26.)"}
{"patent_id": "10-2022-0034783", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "상기 문제점을 해결하기 위해 본 발명의 목적은, 주행이 필요한 공간에 대한 탐색 주행 시 불필요한 주행을 최 소화할 수 있는 맵 생성 방법을 제공하는 것이다. 또한, 토폴로지 노드맵과 그리드맵을 교차 적용하여 토폴로지 노드맵을 업데이트함으로써, 미탐색 영역 없이 신 뢰성 있는 맵을 생성하는 것이다. 또한, 본 발명은, 자동으로 맵핑을 수행하는 중 수동 맵핑으로 전환되는 경우, 그리드 맵이 확장될 때, 중복 탐 색을 방지할 수 있는 방법을 제시하는 것이다."}
{"patent_id": "10-2022-0034783", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 목적을 달성하기 위한 본 발명의 실시예는 주행 구역 내에서 본체를 이동시키는 주행부; 상기 본체 외부의 물체와의 거리에 관한 거리 감지 정보를 획득하는 감지부; 및 상기 거리 감지 정보로부터 상기 주행 구역에 대 한 그리드 맵을 생성하고, 상기 거리 감지 정보 중 라이다 정보로부터 주행 경로 상의 복수의 주행 노드에 대하 여 오픈 노드를 탐색하고, 상기 그리드 맵으로부터 각각의 상기 오픈 노드에 대하여 오픈 여부를 재판단하여 토 폴로지 맵을 생성하는 제어부를 포함하는 이동 로봇을 제시한다. 상기 센서부는 상기 본체 외부의 물체에 레이저를 조사하고, 반사되는 광에 의해 상기 거리 감지 정보를 산출하 는 라이다 센서를 포함할 수 있다. 제어부는 복수의 주행 노드마다 상기 레이 캐스팅을 실행하여 오픈 공간을 탐색하고, 상기 오픈 공간이 존재하 는 상기 주행 노드를 상기 오픈 노드로 설정할 수 있다. 상기 제어부는 상기 그리드 맵을 기초로 상기 오픈 노드의 오픈 공간이 존재하는 방향에 마주하는 오픈 공간을 가지는 상기 오픈 노드가 존재하는 경우, 상기 오픈 노드를 닫을 수 있다. 상기 제어부는 각각의 상기 오픈 노드에 대하여, 상기 그리드 맵으로부터 상기 오픈 노드 주변을 구획하여 상기 오픈 노드 주변에 미탐색 영역이 존재하는지 여부를 판단하여 상기 오픈 노드를 닫을지 결정할 수 있다. 상기 제어부는 상기 주행 구역을 복수의 서브 영역으로 분할하고, 각각의 상기 서브 영역에 대하여 상기 그리드 맵과 상기 토폴로지 맵을 생성하며, 상기 서브 영역은 상기 이동 로봇이 상기 주행 구역을 소정 시간 또는 소정 거리만큼 주행할 때의 면적으로 분할할 수 있다. 상기 제어부는 상기 서브 영역에 대하여 상기 오픈 노드의 오픈 여부가 재 판단된 경우, 상기 그리드 맵으로부 터 상기 서브 영역에 대한 미탐색 영역이 존재하는지를 판단할 수 있다. 상기 제어부는 상기 미탐색 영역이 존재하면, 상기 미탐색 영역 주변의 상기 주행 노드로 이동하여 상기 미탐색 영역에 오픈 노드가 존재하는지 탐색 주행을 수행할 수 있다. 상기 제어부는 상기 주행 노드를 따라 주행하면서, 노드 기반 탐색 및 상기그리드맵 기반 탐색을 동시 수행할 수 있다. 상기 제어부는, 상기 주행 노드에서 레이 캐스팅하여 상기 이동 로봇의 주행이 가능하고, 상기 이동 로봇이 기 주행하지 않은 공간을 상기 오픈 공간으로 판단할 수 있다. 상기 제어부는 상기 주행 노드를 중심으로 360도로 레이 캐스팅을 수행할 수 있다. 상기 센서부는 상기 그리드 맵을 생성하기 위한 장애물 감지 센서를 더 포함할 수 있다."}
{"patent_id": "10-2022-0034783", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따르면 다음과 같은 효과가 하나 혹은 그 이상 있다. 첫째, 추가적인 주행이 필요한 공간에 대한 탐색 주행 시 불필요한 주행을 최소화하여 효율을 향상시킬 수 있다. 본 발명은 추가적인 탐색 주행 시에 토폴로지 맵에서 그리드맵을 통한 미주행 영역의 탐색을 한번 더 수행함으 로써, 중복을 최소화하면서도 신뢰성을 확보할 수 있다. 또한, 오픈 노드에서의 열림 확인 시 그리드 맵에서의 정보를 활용함으로써 오픈 노드에 대한 정확성이 향상될 수 있다. 또한, 자동 맵핑 중 일부 구간에서의 수동 맵핑으로 전환될 때, 확장되는 그리드 맵에 대하여 반복적인 학습 없 이 해당 위치에서부터 다시 토폴로지 맵의 작성을 수행함으로써 탐색과 연산이 단순화된다."}
{"patent_id": "10-2022-0034783", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 2, "content": "한편, 본 발명의 효과들은 이상에서 언급한 효과들로 제한되지 않으며, 언급되지 않은 또 다른 효과들은 청구범 위의 기재로부터 당업자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2022-0034783", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 설명 전체에 걸쳐 언어적/수학적으로 표현된 대소비교에 있어서, '작거나 같음(이하)'과 '작음(미만)'은 통 상의 기술자 입장에서 서로 용이하게 치환가능한 정도이며, '크거나 같음(이상)'과 '큼(초과)'은 통상의 기술자 입장에서 서로 용이하게 치환가능한 정도이며, 본 발명을 구현함에 있어서 치환하여도 그 효과 발휘에 문제가 되지 않음은 물론이다. 본 발명의 이동 로봇은 바퀴 등을 이용하여 스스로 이동이 가능한 로봇을 의미하고, 가정 도우미 로봇 및 이동 로봇 등이 될 수 있다. 도 1 내지 4는 본 발명의 일 실시예에 따른 이동 로봇 및 이동 로봇을 충전시키는 충전대의 외관을 도시한 도면 이다. 도 1은 본 발명의 일 실시예에 따른 이동 로봇 및 이동 로봇을 충전시키는 충전대를 도시한 사시도이고, 도 2는 도 1의 이동 로봇을 상측에서 바라본 입면도이고, 도 3은 도 1의 이동 로봇을 정면에서 바라본 입면도이고, 도 4는 도 1의 이동 로봇을 하측에서 바라본 입면도이다. 이동 로봇은 본체를 포함한다. 이하, 본체의 각부분을 정의함에 있어서, 주행구역 내의 천장을 향하는 부분을 상면부(도 2 참조)로 정의하고, 주행구역 내의 바닥을 향하는 부분을 저면부(도 4 참조)로 정의 하고, 상기 상면부와 저면부 사이에서 본체의 둘레를 이루는 부분 중 주행방향을 향하는 부분을 정면부(도 3 참조)라고 정의한다. 또한, 본체의 정면부와 반대 방향을 향하는 부분을 후면부로 정의할 수 있다. 본체 는 이동 로봇를 구성하는 각종 부품들이 수용되는 공간을 형성하는 케이스를 포함할 수 있다. 이동 로봇은 예를 들면, 본체를 이동시키는 적어도 하나의 구동 바퀴를 포함할 수 있다. 구동 바퀴는 예를 들면, 구동 바퀴에 연결된 적어도 하나의 모터(미도시)에 의해 구동되어 회전할 수 있다. 구동 바퀴는 예를 들면, 본체의 좌, 우측에 각각 구비될 수 있으며, 이하, 각각 좌륜(136(L))과 우륜 (136(R))이라고 한다. 좌륜(136(L))과 우륜(136(R))은 하나의 구동 모터에 의해 구동될 수도 있으나, 필요에 따라 좌륜(136(L))을 구 동시키는 좌륜 구동 모터와 우륜(136(R))을 구동시키는 우륜 구동 모터가 각각 구비될 수도 있다. 좌륜(136 (L))과 우륜(136(R))의 회전 속도에 차이를 두어 좌측 또는 우측으로 본체의 주행방향을 전환할 수 있다.이동 로봇은 예를 들면, 이물질을 흡입하는 흡입 유닛, 비질을 수행하는 브러시(154, 155), 수거된 이물질을 저장하는 먼지통, 걸레질을 수행하는 걸레부 등을 포함할 수 있다. 예를 들면, 본체의 저면부에는 공기의 흡입이 이루어지는 흡입구(150h)가 형성될 수 있으며, 본체 내 부에는 흡입구(150h)를 통해 공기가 흡입될 수 있도록 흡입력을 제공하는 흡입장치와, 흡입구(150h)를 통해 공 기와 함께 흡입된 먼지를 집진하는 먼지통이 구비될 수 있다. 이동 로봇은 예를 들면, 이동 로봇을 구성하는 각종 부품들이 수용되는 공간을 형성하는 케이스(11 1)를 포함할 수 있다. 케이스에는 먼지통의 삽입과 탈거를 위한 개구부(미도시)가 형성될 수 있고, 개구부 를 여닫는 먼지통 커버가 케이스에 대해 회전 가능하게 구비될 수 있다. 이동 로봇은 예를 들면, 흡입구(150h)를 통해 노출되는 솔들을 갖는 롤형의 메인 브러시와, 본체 의 저면부 전방 측에 위치하며, 방사상으로 연장된 다수개의 날개로 이루어진 솔을 갖는 보조 브러시(15 5)를 구비할 수 있다. 이들 브러시(154, 155)들의 회전에 의해 주행 구역 내 바닥으로부터 먼지들이 분리되며, 이렇게 바닥으로부터 분리된 먼지들은 흡입구(150h)를 통해 흡입되고, 흡입 유닛을 통해 먼지통으로 유입 될 수 있다. 먼지통의 필터 내지는 사이클론을 거치면서 공기와 먼지가 상호 분리될 수 있고, 분리된 먼지는 먼지통에 집진 되며, 공기는 먼지통에서 배출된 후 본체 내부의 배기유로(미도시)를 거쳐 최종적으로 배기구(미도시)를 통하여 외부로 배출될 수 있다. 배터리는 예를 들면, 구동 모터뿐만 아니라, 이동 로봇의 작동 전반에 필요한 전원을 공급할 수 있다. 한편, 배터리가 방전될 시, 이동 로봇은 충전을 위해 충전대로 복귀하는 주행을 실시할 수 있으며, 이러한 복귀 주행 중, 이동 로봇은 스스로 충전대의 위치를 탐지할 수 있다. 충전대는, 예를 들면, 소정의 복귀 신호를 송출하는 신호 송출부(미도시)를 포함할 수 있다. 복귀 신호는, 예를 들면, 초음파 신호 또는 적외선 신호일 수 있으나, 반드시 이에 한정되는 것은 아니다. 이동 로봇은 예를 들면, 복귀 신호를 수신하는 신호 감지부(미도시)를 포함할 수 있다. 예를 들면, 신호 감지부는 적외선 신호를 감지하는 적외선 센서를 포함할 수 있고, 충전대의 신호 송출부 로부터 송출된 적외선 신호를 수신할 수 있다. 이때, 이동 로봇은 충전대로부터 송출된 적외선 신호 에 따라 충전대의 위치로 이동하여 충전대와 도킹(docking)할 수 있다. 이러한 도킹에 의해 이동 로 봇의 충전 단자와 충전대의 충전 단자가 접촉될 수 있고, 배터리가 충전될 수 있다. 이동 로봇은 이동 로봇의 내/외부의 정보를 감지하는 구성을 구비할 수 있다. 이동 로봇은 예를 들면, 주행 구역에 대한 영상 정보를 획득하는 카메라를 구비할 수 있다. 예를 들면, 이동 로봇은, 본체 전방의 영상을 획득하도록 구비되는 전면 카메라(120a)를 구비할 수 있다. 예를 들면, 이동 로봇은, 본체의 상면부에 구비되어, 주행 구역 내의 천장에 대한 영상을 획득하는 상부 카메라(120b)를 구비할 수 있다. 예를 들면, 이동 로봇은, 본체의 저면부에 구비되어, 바닥의 영상을 획득하는 하부 카메라를 더 구비할 수 있다. 한편, 이동 로봇에 구비된 카메라의 개수, 배치되는 위치와, 촬영범위 등이 반드시 이에 한정되어야 하는 것은 아니며, 주행 구역에 대한 영상 정보를 획득하기 위해 다양한 위치에 배치될 수 있다. 예를 들면, 이동 로봇은 본체의 일면에 대하여 경사지게 배치되어 전방과 상방을 함께 촬영하도록 구 성된 카메라(미도시)를 포함할 수도 있다. 예를 들면, 이동 로봇은 전면 카메라(120a) 및/또는 상부 카메라(120b)를 복수개 구비할 수도 있고, 전방 과 상방을 함께 촬영하도록 구성된 카메라를 복수개 구비할 수도 있다. 본 발명의 다양한 실시예에 따르면, 이동 로봇의 일부 부위(ex, 전방, 후방, 저면)에 카메라가 설치 되어 있으며, 주행 시나 청소 시에 영상을 지속적으로 획득할 수 있다. 이러한 카메라는 촬영 효율을 위해 각 부위별로 여러 개가 설치될 수도 있고, 카메라에 의해 촬상된 영상은 해당 공간에 존재하는 먼지, 머리카락, 바닥 등과 같은 물질의 종류 인식, 청소 여부, 또는 청소 시점을 확인하는데 사용될 수 있다. 이동 로봇은 레이저를 이용하여 본체 외부의 지형 정보를 획득하는 라이다(light detection and ranging; LiDAR) 센서를 포함할 수 있다. 라이다 센서는 레이저를 출력하고, 객체로부터 반사된 레이저를 수신함으로써, 레이저를 반사시킨 객체와 의 거리, 위치 방향, 재질 등의 정보를 획득할 수 있고, 주행 구역의 지형 정보를 획득할 수 있다. 이동 로봇 은 라이다 센서를 통해 획득한 정보에 기초하여, 360도의 지형(geometry) 정보를 획득할 수 있다. 이동 로봇은 또한, 이동 로봇의 동작, 상태와 관련된 각종 데이터를 센싱하는 센서들(171, 172, 17 9)을 포함할 수 있다. 이동 로봇은 전방의 장애물을 감지하는 장애물 감지센서, 주행 구역 내 바닥에 낭떠러지의 존재 여부 를 감지하는 낭떠러지 감지센서 등을 포함할 수 있다. 이동 로봇은 이동 로봇의 전원 온/오프(on/off) 등의 각종 명령을 입력할 수 있는 조작부를 포 함할 수 있고, 조작부를 통해 이동 로봇의 작동 전반에 필요한 각종 제어 명령을 입력받을 수 있다. 이동 로봇은 출력부(미도시)를 포함할 수 있고, 예약 정보, 배터리 상태, 동작모드, 동작상태, 에러상태 등을 표시할 수 있다. 한편, 도 5는 본 발명의 다른 일 실시예에 따른, 이동 로봇의 예시를 도시한 도면이다. 도 5에 도시된 이동 로봇은 도 1 내지 도 4에 개시된 이동 로봇와 동일 또는 유사한 구성들을 구비하 며, 대면적의 공간에 적용가능한 이동 로봇으로서 기능한다. 이에 대한 상세한 설명은 생략한다. 도 6은 본 발명의 실시예에 따른 이동 로봇의 주요 구성들 간의 제어관계를 도시한 블록도이다. 도 6을 참조하면, 이동 로봇은 저장부, 영상 획득부, 입력부, 흡입 유닛, 제어부 , 주행부, 센서부, 출력부, 및/또는 통신부를 포함할 수 있다. 저장부는 이동 로봇의 제어에 필요한 각종 정보들을 저장할 수 있다. 저장부는 휘발성 또는 비휘발성 기록 매체를 포함할 수 있다. 기록 매체는, 마이크로 프로세서 (microprocessor)에 의해 읽힐 수 있는 데이터를 저장한 것으로, 그 종류나 구현 방식에 한정되지 않는다. 저장부는 주행 구역에 대한 맵(map)을 저장할 수 있다. 저장부에 저장되는 맵은 이동 로봇과 유 선 또는 무선 통신을 통해 정보를 교환할 수 있는 외부 단말기, 서버 등으로부터 입력된 것일 수도 있고, 이동 로봇이 스스로 학습을 하여 생성한 것일 수도 있다. 저장부는 서브 영역에 대한 데이터를 저장할 수 있다. 여기서, 서브 영역은 주행 구역 상의 소정 거리 또 는 소정 면적을 가지는 분할된 구역을 의미할 수 있다. 서브 영역에 대한 데이터는, 해당 서브 영역을 주행하면 서 구하는 라이다 감지 데이터 및 해당 라이다 감지 데이터에 대한 각 노드 정보, 각 노드에서의 이동 방향에 대한 정보 등을 포함할 수 있다. 저장부는 다양한 맵 정보를 저장할 수 있다. 맵에는 주행 구역 내의 방들의 위치가 표시될 수 있다. 또한, 이동 로봇의 현재 위치가 맵 상에 표시될 수 있으며, 맵 상에서의 이동 로봇의 현재의 위치는 주행 과정에서 갱신될 수 있다. 저장부는 청소 이력 정보를 저장할 수 있다. 이러한 청소 이력 정보는 청소를 수행할 때마다 생성될 수 있 다. 저장부에 저장되는 주행 구역에 대한 맵(map)은 예를 들면, 청소 중 주행에 사용되는 내비게이션 맵 (navigation map), 위치 인식에 사용되는 슬램(simultaneous localization and mapping; SLAM) 맵, 장애물 등 에 부딪히면 해당 정보를 저장하여 학습 청소 시 사용하는 학습 맵, 전역적 위치 인식에 사용되는 전역적 위상 맵(topological map), 셀 데이터 기반의 그리드 맵(grid map), 인식된 장애물에 관한 정보가 기록되는 장애물 인식 맵 등일 수 있다. 한편, 용도별로 저장부에 맵들을 구분하여 저장, 관리할 수 있지만, 맵이 용도별로 명확히 구분되지 않을 수도 있다. 예를 들어, 적어도 2 이상의 용도로 사용할 수 있도록 하나의 맵에 복수의 정보가 저장될 수도 있다.영상 획득부는 이동 로봇의 주변의 영상을 획득할 수 있다. 영상 획득부는 적어도 하나의 카메 라(예: 도 1의 카메라)를 구비할 수 있다. 영상 획득부는, 예를 들면, 디지털 카메라를 포함할 수 있다. 디지털 카메라는, 적어도 하나의 광학렌즈와, 광학렌즈를 통과한 광에 의해 상이 맺히는 다수개의 광다이오드(photodiode, 예를 들어, pixel)를 포함하여 구성된 이미지센서(예를 들어, CMOS image sensor)와, 광다이오드들로부터 출력된 신호를 바탕으로 영 상을 구성하는 디지털 신호 처리기(digital signal processor; DSP)를 포함할 수 있다. 디지털 신호 처리기는, 예를 들면, 정지영상은 물론이고, 정지영상으로 구성된 프레임들로 이루어진 동영상을 생성하는 것도 가능하다. 영상 획득부는 이동 로봇의 주행 방향 전면에 존재하는 장애물 또는 청소 영역의 상황을 촬영할 수 있다. 본 발명의 일 실시예에 따르면, 영상획득부는 본체 주변을 연속적으로 촬영하여 복수의 영상을 획득 할 수 있고, 획득된 복수의 영상은 저장부에 저장될 수 있다. 이동 로봇은 복수의 영상을 이용하여 장애물 인식의 정확성을 높이거나, 복수의 영상 중 하나 이상의 영상 을 선택하여 효과적인 데이터를 사용함으로써 장애물 인식의 정확성을 높일 수 있다. 입력부는 사용자 입력을 수신할 수 있는 입력 장치(예: 키, 터치 패널 등)을 구비할 수 있다. 입력부(32 5)는 이동 로봇의 전원 온/오프(on/off) 등의 각종 명령을 입력할 수 있는 조작부를 포함할 수 있다. 입력부는 입력장치를 통해 사용자 입력을 수신할 수 있고, 수신된 사용자 입력에 대응하는 명령을 제어부 에 전송할 수 있다. 흡입 유닛은 먼지가 포함된 공기를 흡입할 수 있다. 흡입 유닛은, 예를 들면, 이물질을 흡입하는 흡 입 장치(미도시), 비질을 수행하는 브러시(154, 155), 흡입장치나 브러시(예: 도 3의 브러시(154, 155))에 의해 수거된 이물질을 저장하는 먼지통(미도시), 공기의 흡입이 이루어지는 흡입구(예: 도 4의 흡입구(150h)) 등을 포함할 수 있다. 주행부는 이동 로봇을 이동시킬 수 있다. 주행부는, 예를 들면, 이동 로봇을 이동시키는 적어도 하나의 구동 바퀴와, 구동 바퀴를 회전시키는 적어도 하나의 모터(미도시)를 포함할 수 있다. 센서부는 본체 외부의 물체와의 거리를 측정하는 거리 측정 센서를 포함할 수 있다. 거리 측정 센서 는 앞서 설명한 라이다 센서를 포함할 수 있다. 본 발명의 일 실시예에 따른 이동 로봇은 라이다 센서가 센싱한 객체들의 거리와 위치, 방향 등을 파 악하여 맵을 생성할 수 있다. 본 발명의 일 실시예에 따른 이동 로봇은 외부에서 반사되어 수신되는 레이저의 시간차 또는 신호 강도 등 레이저 수신 패턴을 분석하여 주행 구역의 지형 정보를 획득할 수 있다. 또한, 이동 로봇은 라이다 센서 를 통하여 획득한 지형 정보를 이용하여 맵을 생성할 수 있다. 예를 들어, 본 발명에 따른 이동 로봇은 라이다 센서를 통하여 현재 위치에서 획득된 주변 지형 정보 를 분석하여 이동 방향을 결정하는 라이다 슬램을 수행할 수 있다. 더욱 바람직하게는, 본 발명에 따른 이동 로봇은 카메라를 이용하는 비전 기반의 위치 인식과 레이저를 이 용하는 라이다 기반의 위치 인식 기술 및 초음파 센서를 통해 장애물을 효과적으로 인식하고 변화량이 작은 최 적의 이동 방향을 추출하여 맵 생성을 수행할 수 있다. 센서부는 전방의 장애물을 감지하는 장애물 감지센서, 주행 구역 내 바닥에 낭떠러지의 존재 여부를 감지하는 낭떠러지 감지센서 등을 포함할 수 있다. 장애물 감지센서는 이동 로봇의 외주면에 일정 간격으로 복수개 배치될 수 있다. 장애물 감지센서 는 적외선 센서, 초음파 센서, RF(radio frequency) 센서, 지자기 센서, PSD(position sensitive device) 센서 등을 포함할 수 있다. 장애물 감지센서는 실내의 벽이나 장애물과의 거리를 감지하는 센서일 수 있고, 본 발명은 그 종류에 한정 되지 않으나, 이하에서는 적외선 센서를 예시하여 설명한다. 장애물 감지센서는 이동 로봇의 주행(이동) 방향에 존재하는 물체, 특히 장애물을 감지하여 장애물 정보를 제어부에 전달할 수 있다. 즉, 장애물 감지센서는, 이동 로봇의 이동 경로, 이동 로봇 의 전방이나 측면에 존재하는 돌출물, 집안의 집기, 가구, 벽면, 벽 모서리 등을 감지하여 그 정보를 제어 부에 전달할 수 있다. 센서부는 이동 로봇의 주행 동작을 감지하고 동작 정보를 출력하는 주행 감지 센서(미도시)를 더 포 함할 수 있다. 주행 감지 센서는 예를 들면, 자이로 센서(gyro sensor), 휠 센서(wheel sensor), 가속도 센서 (acceleration sensor) 등을 포함할 수 있다. 자이로 센서는 이동 로봇이 운전 모드에 따라 움직일 때 회전 방향을 감지하고 회전각을 검출할 수 있다. 자이로 센서는 이동 로봇의 각속도를 검출하여 각속도에 비례하는 전압 값을 출력할 수 있다. 휠 센서는 구동 바퀴, 일 예로 도 4의 좌륜(136(L))과 우륜(136(R))에 연결되어 구동 바퀴의 회전수 를 감지할 수 있다. 가속도 센서는 이동 로봇의 속도 변화를 검출할 수 있다. 가속도 센서는 구동 바퀴의 인접한 위치에 부착될 수도 있고, 제어부에 내장될 수도 있다. 출력부는 오디오 신호를 출력하는 음향 출력부를 포함할 수 있다. 음향 출력부는 제어부의 제어 에 따라 경고음, 동작모드, 동작상태, 에러상태 등의 알림 메시지, 사용자의 명령 입력에 대응하는 정보, 사용 자의 명령 입력에 대응하는 처리 결과 등을 음향으로 출력할 수 있다. 음향 출력부는 제어부로부터의 전기 신호를 오디오 신호로 변환하여 출력할 수 있다. 이를 위해, 스 피커 등을 구비할 수 있다. 출력부는 사용자의 명령 입력에 대응하는 정보, 사용자의 명령 입력에 대응하는 처리 결과, 동작모드, 동 작상태, 에러상태 등을 영상으로 표시하는 디스플레이를 포함할 수 있다. 실시예에 따라서, 디스플레이는 터치패드와 상호 레이어 구조를 이루어 터치스크린으로 구성될 수 있다. 이 경우에, 터치스크린으로 구성되는 디스플레이는 출력 장치 이외에 사용자의 터치에 의한 정보의 입력이 가능한 입력 장치로도 사용될 수 있다. 통신부는 적어도 하나의 통신 모듈(미도시)을 구비할 수 있고, 외부 기기와 데이터를 송수신할 수 있다. 이동 로봇과 통신하는 외부 기기 중 외부 단말기는, 예를 들면, 이동 로봇을 제어하기 위한 애플리케 이션을 구비하고, 애플리케이션의 실행을 통해 이동 로봇이 청소할 주행 구역에 대한 맵을 표시하고, 맵 상에 특정 영역을 청소하도록 영역을 지정할 수 있다. 통신부는 와이파이(Wi-fi), 블루투스(bluetooth), 비콘(beacon), 지그비(zigbee), RFID(radio frequency identification) 등의 무선 통신 방식으로 신호를 송수신할 수 있다. 전원 공급부는 이동 로봇의 각 구성 요소들에 구동 전원과, 동작 전원을 공급할 수 있다. 이동 로봇은 배터리의 배터리 잔량, 충전 상태 등을 감지할 수 있고, 감지 결과를 제어부에 전 송하는 배터리 감지부(미도시)를 더 포함할 수 있다. 제어부는 이동 로봇에 구비된 각 구성과 연결될 수 있다. 제어부는, 예를 들면, 이동 로봇(10 0)에 구비된 각 구성과 상호 간에 신호를 송수신할 수 있고, 각 구성의 전반적인 동작을 제어할 수 있다. 제어부는 센서부를 통해 획득한 정보에 기초하여, 이동 로봇의 내/외부에 대한 상태를 판단할 수 있다. 제어부는 자이로 센서로부터 출력되는 전압 값을 이용하여 회전 방향 및 회전각을 산출할 수 있다. 제어부는 휠 센서로부터 출력되는 회전수에 기초하여, 구동 바퀴의 회전 속도를 연산할 수 있다. 또 한, 제어부는 좌륜(136(L))과 우륜(136(R))의 회전수 차이에 기초하여 회전각을 연산할 수도 있다. 제어부는 가속도 센서로부터 출력되는 값에 기초하여, 이동 로봇의 출발, 정지, 방향 전환, 물체와의 충돌 등과 같은 이동 로봇의 상태 변화를 판단할 수 있다. 한편, 제어부는 가속도 센서로부터 출력되 는 값에 기초하여, 속도 변화에 따른 충격량을 검출할 수 있어, 가속도 센서는 전자식 범퍼 센서의 기능을 수행 할 수도 있다. 제어부는 적외선 센서를 통해 수신된 적어도 2 이상의 신호에 기초하여, 장애물의 위치를 감지하고, 감지 된 장애물의 위치에 따라 이동 로봇의 움직임을 제어할 수 있다. 실시예에 따라서는, 이동 로봇의 외측면에 구비되는 장애물 감지 센서는 발신부와 수신부를 포함하여 구성될 수 있다. 예를 들면, 적외선 센서는 적어도 하나 이상의 발신부 및 적어도 둘 이상의 수신부가 서로 엇갈리도록 구비될 수 있다. 이에 따라, 발신부는 다양한 각도로 적외선 신호를 방사할 수 있고, 장애물에 반사된 적외선 신호를 적어도 둘 이상의 수신부가 다양한 각도에서 수신할 수 있다. 실시예에 따라서는, 적외선 센서에서 수신된 신호는, 증폭, 필터링 등의 신호 처리 과정을 거칠 수 있고, 이후 장애물까지의 거리 및 방향이 산출될 수 있다. 한편, 제어부는 주행제어모듈, 지도생성모듈, 위치인식모듈 및/또는 장애물인식모듈 을 포함할 수 있다. 본 도면에서는, 설명의 편의상, 주행제어모듈, 지도생성모듈, 위치인식모듈 및/또는 장애물인식모듈으로 구분하여 설명하나, 본 발명이 이에 한정되는 것은 아니다. 위치인식모듈과 장애물인식모듈은 하나의 인식기로써 통합되어 하나의 인식모듈로 구성될 수 있 다. 이 경우에, 머신 러닝 등의 학습 기법을 이용하여 인식기를 학습시키고, 학습된 인식기는 이후에 입력되는 데이터를 분류하여 영역, 사물 등의 속성을 인식할 수 있다. 실시예에 따라서, 지도생성모듈, 위치인식모듈, 및, 장애물인식모듈이 하나의 통합모듈로 구성 될 수도 있다. 주행제어모듈은 이동 로봇의 주행을 제어할 수 있고, 주행 설정에 따라 주행부의 구동을 제어할 수 있다. 주행제어모듈은 주행부의 동작을 바탕으로 이동 로봇의 주행 경로를 파악할 수 있다. 주행제어 모듈은 구동 바퀴의 회전속도를 바탕으로 이동 로봇의 현재 또는 과거의 이동속도, 주행한 거리 등을 파악할 수 있으며, 이렇게 파악된 이동 로봇의 주행 정보를 바탕으로, 맵 상에서 이동 로봇의 위치가 갱신될 수 있다. 지도생성모듈은 주행 구역에 대한 맵을 생성할 수 있다. 지도생성모듈은 이동 로봇이 주행하는 동안, 획득한 정보에 기초하여 맵을 실시간으로 생성 및/또는 갱신할 수 있다. 지도생성모듈은 복수의 이동 방향을 설정할 수 있다. 예를 들면, 지도생성모듈은, 주행 구역에 대한 맵을 생성하는 기능(이하, 맵 생성 기능)이 실행되는 경우, 기능이 실행되는 시점에 이동 로봇의 전면이 향하는 방향을 제1 이동 방향으로 설정할 수 있다. 또한, 지도생성모듈은 기능이 실행되는 시점에 이동 로 봇의 좌측면이 향하는 방향을 제2 이동 방향, 이동 로봇의 우측면이 향하는 방향을 제3 이동 방향, 제1 방향의 반대 방향인 이동 로봇의 후면이 향하는 방향을 제4 이동 방향으로 설정할 수 있다. 한편, 본 도면에서는 복수의 이동 방향을 4개의 방향으로 설정되는 것으로 설명하나, 본 발명이 이에 한정되는 것은 아니며, 다양한 실시예에 따라, 8개, 16개 등 다양한 개수의 방향으로 설정될 수도 있다. 지도생성모듈은 라이다 센서를 통해 획득한 정보에 기초하여 맵을 작성할 수 있다. 지도생성모듈은 라이다 센서를 통해 출력되고, 외부 객체에서 반사되어 수신되는 레이저의 수신 시간 차, 신호 강도와 같은 수신 패턴을 분석하여, 주행 구역의 지형 정보를 획득할 수 있다. 주행 구역의 지형 정보 는, 예를 들면, 이동 로봇의 주변에 존재하는 객체들의 위치, 거리, 방향 등을 포함할 수 있다. 지도생성모듈은 라이다 센서를 통해 획득한 주행 구역의 지형 정보에 기초하여 전역적 위상 맵 (topological map)을 생성하면서, 복수의 노드에 대한 정보를 저장할 수 있으며, 이와 같은 정보가 제1 맵 데이 터로 정의될 수 있다. 또한, 지도생성모듈은 장애물 감지 센서인 적외선 센서로부터의 거리감지 신호에 기초하여 셀 데이터 기반의 그리드 맵(grid map)을 생성할 수 있다. 지도생성모듈은 주행 구역에 대하여 복수의 서브 영역으로 분할하고, 각서브 영역에 대하여 주행하면서 적 외선 센서를 통해 장애물이 존재하는 영역과 존재하지 않는 영역에 대한 셀 데이터가 다른 그리드 맵을 생성할수 있다. 위치인식모듈은 이동 로봇의 위치를 판단할 수 있다. 위치인식모듈은 이동 로봇이 주행하 는 동안, 이동 로봇의 위치를 판단할 수 있다. 위치인식모듈은 영상획득부를 통해 획득한 획득 영상에 기초하여, 이동 로봇의 위치를 판단할 수 있다. 예를 들면, 위치인식모듈은 이동 로봇이 주행하는 동안, 획득 영상으로부터 검출한 주행 구역의 각 위치에 대한 특징들을, 지도생성모듈에서 생성된 맵 데이터를 기초로 각 위치에 맵핑(mapping)시킬 수 있 고, 맵의 각 위치에 맵핑된 주행 구역의 각 위치에 대한 특징들에 대한 데이터를 위치인식 데이터로 저장부 에 저장할 수 있다. 한편, 위치인식모듈은, 획득 영상으로부터 검출한 주행 구역에 대한 특징들과, 저장부에 저장된 위치 인식 데이터에 포함된, 주행 구역의 각각의 위치에 대한 특징들을 비교하여, 위치 별 유사도(확률)를 산출할 수 있고, 산출된 위치 별 유사도(확률)에 기초하여, 유사도가 가장 큰 위치를 이동 로봇의 위치로 판단할 수 있다. 본 발명의 일 실시예에 따르면, 이동 로봇은, 영상 획득부를 통해 획득한 영상으로부터 특징을 추출 하고, 상기 추출한 특징을 맵핑(mapping)된 그리드맵에 대입하여 이동 로봇의 위치를 판단할 수 있다. 한편, 이동 로봇은 위치인식모듈 없이 주행제어모듈, 지도생성모듈 및/또는 장애물인식모 듈을 통해, 맵을 학습하여, 현재 위치를 판단할 수도 있다. 장애물인식모듈은 이동 로봇의 주변의 장애물을 감지할 수 있다. 예를 들면, 장애물인식모듈은 영상 획득부를 통해 획득한 획득 영상 및/또는 센서부를 통해 획득한 센싱 데이터에 기초하여, 이동 로봇의 주변의 장애물을 감지할 수 있다. 예를 들면, 장애물인식모듈은, 적외선 센서를 통해 획득한 주행 구역의 지형 정보에 기초하여, 이동 로봇 의 주변의 장애물을 감지할 수 있다. 장애물인식모듈은 이동 로봇이 주행하는 동안, 이동 로봇의 주행을 방해하는 장애물이 존재하는 지 여부를 판단할 수 있다. 장애물인식모듈은 장애물이 존재하는 것으로 판단되는 경우, 장애물의 속성에 따라 직진, 회전 등의 주행 패턴을 결정할 수 있고, 결정된 주행 패턴을 주행제어모듈로 전달할 수 있다. 본 발명의 실시예에 따른 이동 로봇은 머신 러닝(machine learning) 기반의 사람, 사물 인식 및 회피를 수 행할 수 있다. 여기서, 머신 러닝은 컴퓨터에게 사람이 직접 로직(Logic)을 지시하지 않아도 데이터를 통해 컴 퓨터가 학습을 하고 이를 통해 컴퓨터가 알아서 문제를 해결하게 하는 것을 의미할 수 있다. 딥러닝(Deep Learning)은 인공지능을 구성하기 위한 인공신경망(artificial neural networks; ANN)에 기반으로 해 컴퓨터에게 사람의 사고방식을 가르치는 방법으로 사람이 가르치지 않아도 컴퓨터가 스스로 사람처럼 학습할 수 있는 인공지능 기술을 의미할 수 있다. 인공신경망(ANN)은 소프트웨어 형태로 구현되거나 칩(chip) 등 하드 웨어 형태로 구현될 수 있다. 장애물인식모듈은 장애물의 속성이 학습된 소프트웨어 또는 하드웨어 형태의 인공신경망(ANN)을 포함할 수 있다. 예를 들면, 장애물인식모듈은 딥러닝으로 학습된 CNN(convolutional neural network), RNN(recurrent neural network), DBN(deep belief network) 등 심층신경망(deep neural network; DNN)을 포함할 수 있다. 장애물인식모듈은, 예를 들면, 심층신경망(DNN)에 포함된 노드들 사이의 가중치(weight)들에 기초하여 입 력되는 영상 데이터에 포함되는 장애물의 속성을 판별할 수 있다. 또한, 주행제어모듈은 인식된 장애물의 속성에 기초하여 주행부의 구동을 제어할 수 있다. 저장부에는 장애물 속성 판별을 위한 입력 데이터, 상기 심층신경망(DNN)을 학습하기 위한 데이터가 저장 될 수 있다. 저장부에는 영상획득부가 획득한 원본 영상과 소정 영역이 추출된 추출 영상들이 저장될 수 있다. 저장부에는 심층신경망(DNN) 구조를 이루는 웨이트(weight), 바이어스(bias)들이 저장될 수 있다. 예를 들면, 심층신경망 구조를 이루는 웨이트(weight), 바이어스(bias)들은, 장애물인식모듈의 임베디드 메모리(embedded memory)에 저장될 수 있다. 장애물인식모듈은, 예를 들면, 영상획득부가 획득하는 영상의 일부 영역을 추출할 때마다 상기 추출 된 영상을 트레이닝(training) 데이터로 사용하여 학습 과정을 수행하거나, 소정 개수 이상의 추출 영상이 획득 된 후 학습 과정을 수행할 수 있다. 즉, 장애물인식모듈은 장애물을 인식할 때마다 인식 결과를 추가하여 웨이트(weight) 등 심층신경망(DNN) 구조를 업데이트(update)하거나, 소정 횟수의 트레이닝 데이터가 확보된 후에 확보된 트레이닝 데이터로 학습 과정을 수행하여 웨이트(weight) 등 심층신경망(DNN) 구조를 업데이트할 수 있다. 또는, 이동 로봇은 통신부를 통하여 영상획득부가 획득한 원본 영상 또는 추출된 영상을 소정 서버로 전송하고, 소정 서버로부터 머신 러닝과 관련된 데이터를 수신할 수 있다. 이때, 이동 로봇은 소정 서버로부터 수신된 머신 러닝과 관련된 데이터에 기초하여 장애물인식모듈을 업데이트(update)할 수 있다. 도 7은 본 발명의 일 실시예에 따른, 이동 로봇에 구비된 라이다 센서의 설명에 참조되는 도면이다. 도 7을 참조하면, 라이다 센서는 360도 전 방향에 대하여 레이저를 출력할 수 있고, 객체로부터 반사된 레 이저를 수신함으로써, 레이저를 반사시킨 객체와의 거리, 위치 방향, 재질 등의 정보를 획득할 수 있고, 주행 구역의 지형 정보를 획득할 수 있다. 이동 로봇은 라이다 센서의 성능 및 설정에 따른, 일정 거리 이내의 지형 정보를 획득할 수 있다. 이 동 로봇은 라이다 센서를 기준으로 일정 거리의 반경을 가지는 원 영역 이내의 지형 정보 를 획득할 수 있다. 이동 로봇은 원 영역 내의 지형 정보를 획득하며, 이때, 소정 서브 영역에 대한 지형 정보를 획득할 수 있다. 이때, 라이다 센서의 지형 정보는 이동 로봇이 소정 거리, 또는 소정 시간을 주행하는 지점마다 감지 한 원 영역 내의 지형 정보를 저장할 수 있으며, 이 때, 저장되는 정보는 해당 원 영역의 중심이 되 는 이동 로봇의 현재 위치인 주행 노드(n1, n2…)에 매칭하여 저장될 수 있다. 따라서, 이동 로봇이 분할된 각 서브 영역을 주행할 때, 각 서브 영역 내에서의 복수의 연속한 주행 노드 (n1, n2…)에 대하여 각각의 원 영역의 지형 정보가 획득되어 저장된다. 이동 로봇은 라이다 센서를 통해 획득한 서브 영역에 대한 지형 정보로부터, 오픈 공간(open space) 을 추출할 수 있다. 여기서, 오픈 공간(open space)는 이동 로봇의 주행이 가능한 레이저를 반사시킨 객체 들 사이의 공간에 대한 정보를 의미할 수 있다. 이동 로봇은 할당된 서브 영역의 주행이 종료된 후, 서브 영역 내에서 각 주행 노드(n1, n2…)에 대한 라 이다 센서의 감지 데이터를 연속적으로 읽어내는 레이 캐스팅(ray casting)을 수행하여 오픈 방향이 있는 지 확인하는 오픈 방향 검출 알고리즘을 수행할 수 있다. 오픈 공간에 대한 정보는 해당 오픈 공간을 찾는 이동 로봇의 주행 노드(n1, n2…) 및 주행 방향, 오픈 공 간의 폭에 대한 정보를 포함할 수 있으며, 오픈 노드는 해당 오픈 노드를 찾은 오픈 공간 및 이동 로봇의 주행 노드(n1, n2…)에 대한 정보를 포함할 수 있다. 이동 로봇은 서브 영역에 대하여, 각 주행 노드에 대한 오픈 방향이 모두 검출된 후, 각 서브 영역의 그리 드 맵을 기초로 각 주행 노드에 대한 오픈 방향에 대하여 미탐색 영역이 존재하는지 판단하고, 미탐색 영역이 없으면, 해당 주행 노드를 닫는다. 이동 로봇은 하나의 서브 영역에 대하여 이동 로봇의 주행 노드(n1, n2…)의 오픈이 모두 닫히면 토 폴로지 맵을 생성할 수 있다. 이동 로봇은 토폴로지 맵이 생성된 서브 영역에 대하여, 다시 그리드 맵을 통해 미탐색 영역이 존재하는지 탐색한다. 해당 서브 영역 내에 미탐색 영역이 존재하는 경우, 미탐색 영역의 인접 주행 노드로 이동 로봇(10 0)이 이동하여 미탐색 영역을 탐색한 후 해당 정보로 그리드 맵 및 토폴로지 맵을 업데이트한다. 이와 같이 하나의 서브 영역에 대하여, 라이다 센서에 대한 정보를 바탕으로 미탐색 영역이 없는지 확인하 여 토폴로지 맵을 형성하고, 장애물 감지 센서에 대한 그리드 맵에 의해 추가적으로 해당 서브 영역에 미 탐색 영역이 없는지 재확인하여 미탐색 영역 없이 서브 영역의 맵핑이 가능하다.이하에서는 도 8 내지 도 9를 참고하여 본 발명의 이동 로봇의 각 서브 영역에 대한 맵을 생성하는 과정을 설명한다. 도 8은 본 발명의 일 실시예에 따른 이동 로봇의 맵 생성 과정에 대한 플로우 차트이고, 도 9a 내지 도 9e는 도 8의 순서도에 따른 이동 로봇의 맵 생성 과정을 나태내는 도면이다. 도 8 내지 도 9를 참조하면, 이동 로봇은 이동하면서 토폴로지 맵과 그리드 맵을 생성할 수 있다. 구체적으로, 도 8과 같이 이동 로봇은 주행 구역을 복수의 서브 영역으로 분할할 수 있다. 이때, 분할되는 서브 영역은 주행 거리 또는 주행 면적을 기준으로 분할할 수 있으며, 소정 거리 또는 소정 시 간 동안 이동한 후 이동한 영역의 토폴로지 맵을 형성하기 위한 임의의 영역일 수 있다. 즉, 동일하게 분할되는 영역이 아닌, 이동 로봇이 청소를 위한 미지의 주행 구역을 소정 거리 또는 소정 시간 동안 주행하면 해당 거리 또는 해당 시간 동안 주행한 영역을 하나의 서브 영역으로 정의할 수 있다. 이때, 서브 영역은 이동 로봇의 현재 위치에서 전방에 장애물이 발견되기 전까지로 정의될 수도 있으며, 사용자의 설정에 따라 다양하게 설정 가능하다. 이동 로봇은 맵 생성 기능이 실행되면(S100), 청소 작업을 위한 미지의 주행 구역을 맵핑하기 위한 선 주 행하면서(S101), 라이다 센서를 통해 분할된 서브 영역의 라이다 정보를 수집하여 토폴로지 맵을 형성하고, 장애물 감지 센서를 통해 초음파 센서 또는 적외선 센서 정보를 수집하여 그리드 맵을 생성할 수 있다. 이때, 토폴로지 맵을 생성하기 위한 주행 노드에서의 레이 캐스팅으로 각 주행 노드가 오픈 노드인지 확인하고, 해당 영역의 그리드 맵에서 미탐색 영역이 존재하는지 재확인하여 토폴로지 맵을 업데이트한다. 상기 그리드 맵은, OGM(Occupancy grid map) 으로서, 수득된 지역 정보에 의해 생성되는 그리드를 활용한 맵이 다. 그리드 맵은 이동 로봇의 주변 환경 인식을 위한 맵으로, 서브 영역(A)을 동일한 크기의 격자 또는 셀(이 하 셀)로 표현하고 각 셀에 물체의 유무를 표시한 맵을 의미할 수 있다. 물체의 존재 유무는 색상을 통해서 표 시될 수 있다. 예를 들어, 흰색 셀은 물체가 없는 영역을, 회색 셀은 물체가 있는 영역을 나타낼 수 있다. 따라 서, 회색 셀을 연결한 선은 어떠한 공간의 경계선(벽, 장애물 등)을 나타낼 수 있다. 셀의 색상은 이미지 처리 과정을 통해 바뀔 수 있다. 이때, 제어부는 미지의 서브 영역을 주행하면서 동시에 그리드 맵을 생성할 수 있다. 이와 달리, 제어부 는 서브 영역의 주행이 완료된 후에 해당 서브 영역(A)의 그리드 맵을 생성할 수 있다. 본 발명에서는 그리드 맵 생성 단계(S102)가 서브 영역을 주행하면서 동시에 그리드 맵을 생성하는 것으로 설정 할 수 있다. 이동 로봇은 서브 영역에 대하여 주행하면서 장애물 감지 센서 및 라이다 센서를 통해 해당 영 역의 거리 정보 및 라이다 정보를 수집하는 단계(S102), 수집한 라이다 정보를 통해 토폴로지 맵을 생성하면서 각 주행 노드에서의 오픈 노드를 탐색하는 단계(S103), 각 오픈 노드에 대하여 열림을 재확인하는 단계(S104), 상기 서브 영역 내에서 오픈 노드가 더 이상 존재하지 않으면(S105), 상기 서브 영역의 그리드맵을 통해 미탐색 영역을 추출하는 단계(S107), 이동 로봇이 미탐색 영역으로 이동하는 단계(S108) 및 미탐색 영역을 탐색하여 새 로운 오픈 노드를 생성하여 토폴로지 맵을 업데이트하는 단계(S109)로 진행된다. 먼저, 이동 로봇의 제어부는 외부로부터 또는 설정되어 있는 지시(S100)에 따라 소정의 주행 구역에 대한 청소 맵 생성을 위한 선 주행을 수행한다(S101). 이와 같이 주행할 때, 소정 거리 또는 소정 시간동안 주행이 완료되는 지점을 서브 영역으로 정의할 수 있으며, 해당 서브 영역까지의 주행이 완료될 때까지 동일한 방향(d1)으로 주행을 연속한다. 이때, 이동 로봇은 도 9a와 같이, 라이다 센서로부터 360도의 원 영역에 대한 라이다 정보를 수 득하고, 장애물 감지 센서로부터 거리 정보를 수득할 수 있다(S102). 수집하는 라이다 정보는 상기 이동 로봇이 서브 영역 내에서 통로를 따라 주행할 때, 경로 위에 위치하는 복수의 주행 노드(n1, n2…) 각각에 서 수집될 수 있다. 이때, 통로를 따라 주행할 때, 통로의 중앙점을 따라 이동하는 센터 팔로윙(center following)을 진행할 수 있다. 주행 노드(n1, n2…)는 상기 경로 위에서 등간격으로 설정될 수 있으나 이에 한정되는 것이 아니고, 소정 시간 마다 상기 이동 로봇이 위치하는 지점으로 정의될 수 있다. 이와 같은 주행 노드(n1, n2…)가 연결되는 가 상의 선이 주행 경로(DP: driving path)로서 기능할 수 있으나, 이에 한정되는 것은 아니다. 하나의 서브 영역에서 설정되는 주행 노드(n1, n2…)는 서로 다른 수효를 가질 수 있다. 각 주행 노드(n1, n2…)에서 이동 로봇은 라이다 정보를 수집한다. 따라서, 각 주행 노드(n1, n2…)에서 해당 주행 노드(n1, n2…)를 중심으로 원 영역에 대한 지역 정보가 라이다 정보로 수집된다. 상기 각각의 라이다 정보는 각 주행 노드(n1, n2…)에 매칭하여 저장부에 기록될 수 있다. 이와 같은 라이다 정보는 원 영역 내에서 레이저를 출력하여 레이저를 반사시킨 객체의 거리, 위치 방향, 재질 등의 정보를 포함할 수 있다. 또한, 이동 로봇은 연속 주행하면서 장애물 감지 센서로부터의 초음파 정보 또는 적외선 정보로부터 전방에 위치하는 장애물까지의 거리 정보를 수득할 수 있다. 이동 로봇은 상기 서브 영역(A)에 대한 주행을 완료할 때까지 각 주행 노드(n1, n2…)에 대한 라이다 정보 및 적외선 정보 등의 거리 정보를 각각 수집할 수 있다. 서브 영역에 대하여 주행이 완료되면, 수집한 정보를 활용하여 토폴로지 노드맵을 생성할 수 있다. 이때, 생성되는 토폴로지 노드 맵은 도 9a에 도시된 바와 같이, 연속되는 주행 노드(n1, n2…)에 대한 열림과 닫힘의 표시에 의해 완성될 수 있으며, 이와 같은 주행 노드의 연 결에 의해 토폴로지 노드 맵이 완성된다. 구체적으로, 이동 로봇은 각 주행 노드(n1, n2…)에 대하여 라이다 정보를 레이 캐스팅하여 오픈 공간 검 출 알고리즘을 수행함으로써 오픈 공간이 있는지 확인한다. 이때, 오픈 공간은 각 주행 노드(n1, n2…)에 대해 수득된 원 영역에 대한 라이다 정보를 전 구간에서 레 이 캐스팅(RS)함으로써 해당 주행 노드(n1, n2…)에서 오픈 공간, 즉 장애물이 존재하지 않는 열린 공간이 있는 지 판단한다. 이때, 오픈 공간의 유무는 상기 반사되어 수득된 라이다 데이터 사이의 거리가 상기 이동 로봇의 폭보다 큰 경우로 정의될 수 있으나, 이에 한정되는 것은 아니며, 기준 폭에 대한 수치를 가지며, 해당 기준 폭보다 넓 은 폭을 가지는 공간이 있는 경우, 오픈 공간으로 설정할 수 있다. 이와 같이, 각 주행 노드(n1, n2…)에 대하여 360도의 원 영역에 대한 라이다 정보의 레이 캐스팅, 즉 광 선 투사를 수행함으로써 특정 방향에 대한 라이다 정보만을 확인하는 것이 아닌, 전 방향에서의 오픈 공간의 유 무를 확인 가능하다. 이는, 특정 방향, 일 예로 4방향 또는 8방향 등으로 소분하여 데이터를 연산하는 경우 필터링되지 않는 영역에 서 발생할 수 있는 오픈 공간에 대한 탐색이 누락될 수 있다. 특히, 청소를 위한 주행 구역의 배치 방향 및 주 요 통로의 방향과 이동 로봇의 주행 방향이 일치하지 않는 경우, 매우 많은 오픈 공간에 대한 탐색 누락이 발생할 수 있는 위험이 있다. 따라서, 본 발명과 같이 소정 서브 영역으로 분할 후, 서브 영역에 대하여 주행하면서 경로 상에서 복수의 주행 노드(n1, n2…)마다 수신된 라이다 정보를 360도 레이 캐스팅을 수행함으로써 누락되는 방향이 없도록 오픈 공 간의 탐색이 가능하다. 각 주행 노드(n1, n2…)에 대하여 레이 캐스팅으로 오픈 공간이 존재하는 경우, 해당 주행 노드(n1, n2…)를 오 픈 노드로 변경하고, 그 오픈 공간이 위치하는 방향에 대한 오픈 방향(OD)을 표시한다. 이와 같이, 해당 서브 영역의 모든 주행 노드(n1, n2…)에 대하여 레이 캐스팅이 완료되어 복수의 오픈 공간이 탐색되면, 각각의 오픈 공간의 정보, 즉 해당 오픈 공간의 위치, 폭, 상기 오픈 공간과 대응되는 주행 노드(n1, n2…)에 대한 정보를 각각 저장할 수 있다. 이때, 제어부는 다양한 알고리즘을 적용하여 오픈 공간을 판단하고, 그에 따라 오픈 노드를 설정할 수 있 다. 다음으로, 제어부는 도 9b와 같이, 오픈 노드(검정색으로 변환)에서의 열림을 확인한다(S104). 구체적으로, 제어부는 서브 영역에서 오픈 노드가 위치한 영역을 각 오픈 노드 별로 구획하고, 각 오픈 노 드에서 오픈 방향이 향하는 영역에 다른 오픈 노드의 오픈 방향과 마주하는지를 판단한다. 이때, 오픈 노드별 구획 및 오픈 방향에서의 판단은 그리드 맵 기반으로 탐색한다. 구체적으로, 오픈 노드에서 오픈 방향으로 그리드맵에서 미탐색 여부가 있는지 확인하기 위해 오픈 방향으로 구획하여 해당 구획의 로컬 맵 을 생성한다. 상기 구획된 영역은 오픈 방향으로는 라이다 센서 감지 거리보다 길게 설정하고 좌/우는 오픈 노 드의 오차 범위로 설정하고 후방은 최대한 짧게 설정한다. 오픈 노드 시작점에서 점차적으로 확장하면서 미탐색 영역이 찾아지는지 확인한다. 미탐색 영역 유무 기준은 이동 로봇 사이즈만큼의 영역에서 미확인(Unknown) 지점 과 기확인(explored) 지점이 만나는 영역으로 정의된다. 미탐색 영역이 발견되지 않는 경우 오픈 노드를 닫는다. 따라서, 오픈 노드별 구획된 영역에서 서로 마주하는 오픈 방향이 존재하면, 해당 오픈 노드를 닫는다. 이와 같이 각각의 오픈 노드에서 그리드 맵을 읽어들여 오픈 노드의 오픈 방향에서 반대 방향의 탐색을 통해 미 탐색 영역이 없음을 확인하고 오픈 노드를 닫는다. 일 예로, 도 9b의 제1 구획에서 제1 주행 노드(n1)와 제9 주행 노드(n9)가 서로 마주하는 오픈 방향(OD)을 가지 고 있음이 확인되면, 제1 주행 노드(n1)와 제9 주행 노드(n9)의 오픈 노드 설정을 해제하여 해당 오픈 노드를 닫는다. 이와 같은 판단에서 서브 영역 내에 잔류하는 오픈 노드가 있는지 확인하고(S105), 오픈 노드가 존재 하면 그를 등록하고 저장한다(S106). 다음으로, 오픈 여부를 확인할 더 이상의 오픈 노드가 존재하지 않으면 2차 탐색을 수행한다. 2차 탐색은 그리드 맵을 기반으로 수행하며, 제어부은 도 9c와 같이 그리드 맵에서 상기 서브 영역에 대한 정보를 읽어들이고, 상기 서브 영역에서 닫힌 오픈 노드 이외에 미탐색 영역이 존재하는지 여부를 판단한다 (S107). 제어부는 서브 영역의 토폴로지 맵의 오픈 노드의 정보를 서브 영역의 그리드 맵에 업데이트하면서 미탐색 세그먼트를 추출한다. 도 9c에서와 같이 미탐색 영역(A)이 탐색되면, 제어부는 wavefront와 같은 알고리즘을 통해 주행 노드(n1, n2,..) 중 탐색된 미탐색 영역(A)과 가장 근접한 주행 노드(n5)를 탐색한다. 이동 로봇은 도 9d와 같이, 미탐색 영역(A)과 가장 근접한 주행 노드(n5)로 이동하고(S108), 미탐색 영역(A)에 서 기존 로봇 접근 방향 이외의 나머지 방향에서 센서 정보를 수득하고, 도 9e와 같이 미탐색 영역(A) 내에서 그리드 맵을 기반으로 새로운 오픈 노드(n10, n11)를 생성한다(S109). 이때, 새로운 오픈 노드(n10, n11)가 생성되면, 상기 새로운 오픈 노드(n10, n11)로부터 다시 토폴로지 맵의 생 성을 위한 서브 영역의 분할 및 탐색 주행이 시작된다. 이와 같이, 오픈 노드의 오픈 여부를 판단할 때, 그리드 맵 기반으로 업데이트 함으로써 데이터 판단의 중복 탐 색을 획기적으로 줄임으로써 연산 부하를 개선할 수 있다. 이와 같이, 오픈 노드의 수효를 최소화한 상태에서, 그리드 맵 기반으로 미탐색 영역이 있는지를 추가적으로 확인함으로써, 이동 로봇의 추가 탐색을 획기적으 로 줄일 수 있다. 한편, 도 10을 참고하면, 수동 맵핑이 추가되는 경우에도 본 발명의 맵핑 방법이 적용될 수 있다. 도 10을 참고하면, 먼저, 이동 로봇의 제어부는 외부로부터 또는 설정되어 있는 지시에 따라 소정의 주행 구역에 대한 청소 맵 생성을 위한 선 주행을 수행하며, 이는 도 8과 동일하다. 이때, 이동 로봇은 라이다 센서로부터 360도의 원 영역에 대한 라이다 정보를 수득하고, 장애물 감지 센서로부터 거리 정보를 수득하고, 장애물 감지 센서로부터의 초음파 정보 또는 적외선 정보로 부터 전방에 위치하는 장애물까지의 거리 정보를 수득할 수 있다(S200). 이동 로봇은 상기 서브 영역(A)에 대한 주행을 완료할 때까지 각 주행 노드(n1, n2…)에 대한 라이다 정보 및 적외선 정보 등의 거리 정보를 각각 수집할 수 있다. 서브 영역(A)에 대하여 주행이 완료되면, 수집한 정보 를 활용하여 토폴로지 노드 맵을 생성할 수 있다. 이때, 생성되는 토폴로지 노드 맵은 연속되는 주행 노드(n1, n2…)에 대한 열림과 닫힘의 표시에 의해 완성될 수 있으며, 이와 같은 주행 노드의 연결에 의해 토폴로지 노드맵이 완성된다. 이와 같이, 맵핑을 위한 탐색 주행 중, 사용자로부터 수동 맵핑 지시를 수신하면(S201), 이동 로봇은 지시 된 지역으로 이동하여 해당 지역에서의 맵핑을 위한 탐색주행을 수행한다. 이때, 사용자가 어플리케이션을 통해 수동 맵핑을 수행하는 경우, 자동 맵핑과 같이, 사용자의 지시에 따라 이 동하면서 라이다 센서 및 장애물 감지 센서로부터 감지 정보를 수득할 수 있으며, 도 9와 같이 해당 정보에 따라 주행 노드의 열림 또는 닫힘을 판단할 수 있다. 이와 같이 수동으로 주행하면서도 토폴로지 맵 및 그리드 맵을 위한 정보를 수신하고 처리하여 맵핑을 수행한다 (S202). 한편, 수동 맵핑을 수행하던 영역에서 수동 맵핑이 종료되면(S203), 이동 로봇은 자동 맵핑을 다시 시작한 다(S204). 자동 맵핑이 다시 시작되면, 이동 로봇은 해당 위치에서 작성된 토폴로지 주행 노드 중 오픈 노드가 존재 하는지 판단한다. 즉, 도 8과 같이 오픈 공간 검출 알고리즘으로부터 오픈 공간을 확인하며, 주행 노드(n1, n2…)에 대하여 레이 캐스팅으로 오픈 공간이 존재하는 경우, 해당 주행 노드(n1, n2…)를 오픈 노드로 변경하고, 그 오픈 공간이 위 치하는 방향에 대한 오픈 방향(OD)을 표시한다. 다음으로, 제어부는 각 오픈 노드에서의 열림을 확인한다(S206). 즉, 제어부는 서브 영역에서 오픈 노드가 위치한 영역을 각 오픈 노드 별로 구획하고, 각 오픈 노드에서 오픈 방향이 향하는 영역에 다른 오픈 노드의 오픈 방향과 마주하는지를 판단한다. 이때, 오픈 노드별 구획 및 오픈 방향에서의 판단은 그리드 맵 기반으로 탐색한다. 구체적으로, 오픈 노드에서 오픈 방향으로 그리드 맵에서 미탐색 여부가 있는지 확인하기 위해 오픈 방향으로 구획하여 해당 구획된 영역의 로컬 맵을 생성한다. 따라서, 오픈 노드별 구획된 영역에서 서로 마주하는 오픈 방향이 존재하면, 해당 오픈 노 드를 닫는다. 이와 같이 각각의 오픈 노드에서 그리드 맵을 읽어들여 오픈 노드의 오픈 방향에서 반대 방향의 탐색을 통해 미 탐색 영역이 없음을 확인하고 오픈 노드가 열려 있는지 닫혀있는지를 판단한다. 이와 같은 판단에서 수동 맵핑 한 영역 내에 잔류하는 오픈 노드가 있는지 확인하고, 오픈 노드가 존재하면 그를 등록하고 저장한다. 또한, 해당 오픈 노드로 이동하고, 회전하여 추가적인 주행 노드 및 다른 오픈 노드를 확인한다(S207). 한편, 수동 맵핑 영역 내에 오픈 여부를 확인할 더 이상의 오픈 노드가 존재하지 않으면 2차 탐색을 수행한다. 2차 탐색은 그리드 맵을 기반으로 수행하며, 제어부은 도 9c와 같이 그리드 맵에서 상기 수동 맵핑 영역에 대한 정보를 읽어들이고, 상기 수동 맵핑 영역에서 닫힌 오픈 노드 이외에 미탐색 영역이 존재하는지 여부를 판 단한다(S208). 제어부는 수동 맵핑 영역의 토폴로지 맵의 오픈 노드의 정보를 수동 맵핑 영역의 그리드 맵에 업데이트하면서 미탐색 세그먼트를 추출한다. 미탐색 영역이 탐색되면, 제어부는 wavefront와 같은 알고리즘을 통해 주행 노드 중 탐색된 미탐색 영역과 가장 근접한 주행 노드를 탐색하고, 미탐색 영역과 가장 근접한 주행 노드로 이동하여, 미탐색 영역에서 기존 로봇 접근 방향 이외의 나머지 방향에서 센서 정보를 수득하고, 도 9e와 같이 미탐색 영역 내에서 그리드 맵을 기반 으로 새로운 오픈 노드를 생성한다. 이때, 새로운 오픈 노드가 생성되면, 상기 새로운 오픈 노드로부터 다시 토폴로지 맵의 생성을 위한 서브 영역 의 분할 및 탐색 주행이 시작된다. 이와 같이, 자동 맵핑 중, 사용자로부터의 수동 맵핑이 진행되면, 해당 수동 맵핑이 진행된 영역에 대하여 오픈 노드를 확인하고, 2차에 걸쳐 미탐색 영역이 있는지 탐색함으로써, 맵핑 영역의 단절로 인한 중복 탐색을 방지 할 수 있다. 제어부는 이와 같은 오픈 노드에 대한 토폴로지 그래프를 각각 형성할 수 있으며, 복수의 서브 영역에 대 한 토폴로지 그래프를 서로 연결함으로써 주행 구역 전체에 대한 토폴로지 그래프를 완성할 수 있다.이와 같은 토폴로지 그래프는 청소 맵을 형성하는 기초 맵으로 기능할 수 있다. 제어부는 그리드 맵과 토폴로지 그래프를 참고하여 각 노드 사이의 관계를 확인가능하며, 최적의 경로를 설정할 수 있다. 또한, 제어부는 해당 그리드 맵에 영상 데이터를 융합하여 이미지화 할 수 있다. 이와 같은 이미지화에는 경계선 처리 알고리즘, 명도 차이를 통한 이미지 처리 등을 수행하여 각 그리드 맵의 음영을 선으로 표시 가능하다. 이동 로봇은 현재 이동 로봇의 위치에서 이미지화된 그리드 맵과 토폴로지 그래프를 기초로 최적의 경로를 설정가능하다. 이와 같은 맵핑 방법은 다음과 같은 효과를 가진다. 도 11a는 토폴로지 맵에서 오픈 노드에 대한 오픈 여부 확인 없이 진행한 것이고, 도 11b는 본 발명과 가팅 오 픈 노드에 대한 오픈 여부 확인 후 그리드 맵에 따른 미탐색 영역의 탐색 주행을 수행한 것이다. 각 노드는 이동 로봇의 추가 탐색 지점을 나타내는 것이다. 도 11a와 같이, 오픈 노드에서 각 오픈 노드의 오픈 여부를 재확인하지 않으면, 각 오픈 노드로 진입하여 다시 해당 오픈 노드에서의 탐색 주행을 수행하게 된다. 따라서, 이동 로봇의 추가 탐색이 매우 빈번하고 오픈 노드 의 탐색이 중복된다. 반면, 도 11b와 같이, 토폴로지 맵에서 오픈 노드로 정의된 각 주행 노드를 그리드 맵 상에서 구획하여 오픈 노 드의 열림 여부를 재확인하여, 일부의 오픈 노드를 닫음으로써 1차적으로 오픈 노드의 수효를 현저히 감소시킬 수 있다. 더불어, 2차로 그리드 맵 상에서 미탐색 영역의 확인을 동시 수행함으로써 이같이 감소된 오픈 노드로 인한 누락된 미탐색 영역이 존재하는지 확인할 수 있어 신뢰성이 향상된다. 본 발명에 따른 이동 로봇은 상기한 바와 같이 설명된 실시예들의 구성과 방법이 한정되게 적용될 수 있는 것이 아니라, 상기 실시예들은 다양한 변형이 이루어질 수 있도록 각 실시예들의 전부 또는 일부가 선택적으로 조합되어 구성될 수도 있다. 마찬가지로, 특정한 순서로 도면에서 동작들을 묘사하고 있지만, 이는 바람직한 결과를 얻기 위하여 도시된 그 특정한 순서나 순차적인 순서대로 그러한 동작들을 수행하여야 한다거나, 모든 도시된 동작들이 수행되어야 하 는 것으로 이해되어서는 안 된다. 특정한 경우, 멀티태스킹과 병렬 프로세싱이 유리할 수 있다. 한편, 본 발명의 실시예에 따른 이동 로봇의 제어 방법은, 프로세서가 읽을 수 있는 기록매체에 프로세서 가 읽을 수 있는 코드로서 구현하는 것이 가능하다. 프로세서가 읽을 수 있는 기록매체는 프로세서에 의해 읽혀 질 수 있는 데이터가 저장되는 모든 종류의 기록장치를 포함한다. 또한, 인터넷을 통한 전송 등과 같은 캐리어 웨이브의 형태로 구현되는 것도 포함한다. 또한, 프로세서가 읽을 수 있는 기록매체는 네트워크로 연결된 컴퓨 터 시스템에 분산되어, 분산방식으로 프로세서가 읽을 수 있는 코드가 저장되고 실행될 수 있다. 또한, 이상에서는 본 발명의 바람직한 실시예에 대하여 도시하고 설명하였지만, 본 발명은 상술한 특정의 실시"}
{"patent_id": "10-2022-0034783", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "예에 한정되지 아니하며, 청구범위에서 청구하는 본 발명의 요지를 벗어남이 없이 당해 발명이 속하는 기술분야 에서 통상의 지식을 가진 자에 의해 다양한 변형실시가 가능한 것은 물론이고, 이러한 변형실시들은 본 발명의 기술적 사상이나 전망으로부터 개별적으로 이해되어서는 안될 것이다."}
{"patent_id": "10-2022-0034783", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 이동 로봇 및 이동 로봇을 충전시키는 충전대를 도시한 사시도이다. 도 2는 도 1의 이동 로봇을 상측에서 바라본 입면도이다. 도 3은 도 1의 이동 로봇을 정면에서 바라본 입면도이다. 도 4는 도 1의 이동 로봇을 하측에서 바라본 입면도이다. 도 5는 본 발명의 다른 일 실시예에 따른, 이동 로봇의 예시를 도시한 도면이다. 도 6은 도 1 또는 도 5의 이동 로봇의 주요 구성들 간의 제어관계를 도시한 블록도이다. 도 7은 본 발명의 일 실시예에 따른 이동 로봇에 구비된 라이다 센서의 동작을 설명하는 도면이다. 도 8은 본 발명의 일 실시예에 따른 이동 로봇의 맵 생성 과정에 대한 플로우 차트이다. 도 9a 내지 도 9e는 도 8의 순서도에 따른 이동 로봇의 맵 생성 과정을 나태내는 도면이다. 도 10은 본 발명의 다른 실시예에 따른 이동 로봇의 맵 생성 과정에 대한 플로우 차트이다. 도 11a는 비교예에 의한 오픈 공간 탐색을 도시한 것이고, 도 18b는 본 발명에 의한 오픈 공간 탐색을 도시한 것이다."}
