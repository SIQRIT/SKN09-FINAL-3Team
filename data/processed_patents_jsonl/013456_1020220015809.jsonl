{"patent_id": "10-2022-0015809", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0120186", "출원번호": "10-2022-0015809", "발명의 명칭": "KNN 알고리즘을 이용한 장비 이상 탐지 장치 및 방법", "출원인": "다겸 주식회사", "발명자": "서대호"}}
{"patent_id": "10-2022-0015809", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "장비의 동작에 대한 영상 데이터를 수집하는 영상 수집부;상기 영상 데이터를 이용하여 N차원의 출력 벡터를 생성하는 출력 벡터 생성 모듈;상기 출력 벡터와 미리 정한 테스트 벡터의 k-최근접 이웃 거리를 연산하여 최근접 이웃 거리 데이터를 생성하는 k-최근접 이웃 거리 연산 모듈; 및상기 최근접 이웃 거리 데이터를 이용하여, 상기 장비가 이상 동작하는지 여부를 탐지하는 이상 탐지 모듈을 포함하고,상기 출력 벡터 생성 모듈은 미리 학습된 제1 이미지 분류 모델을 이용하여 재학습되어 생성되는장비 이상 탐지 장치."}
{"patent_id": "10-2022-0015809", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1 항에 있어서,상기 제1 이미지 분류 모델은 제1 입력부, 제1 특징 추출부 및 제1 분류부를 포함하고, 상기 출력 벡터 생성 모듈은 상기 제1 입력부, 상기 제1 특징 추출부 및 상기 제1 분류부 중 일부만을 재학습하여 생성되는,장비 이상 탐지 장치."}
{"patent_id": "10-2022-0015809", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1 항에 있어서,상기 출력 벡터 생성 모듈은 재학습 데이터 셋을 이용하여 재학습되되,상기 재학습 데이터 셋은 상기 장비가 정상 동작할때의 영상 데이터인 정상 데이터로만 구성되는,장비 이상 탐지 장치."}
{"patent_id": "10-2022-0015809", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1 항에 있어서,상기 이상 탐지 모듈은 상기 최근접 이웃 거리 데이터와, 미리 정한 최근접 이웃 거리 임계 데이터를 비교하여,상기 장비가 이상 동작하는지 여부를 탐지하는,장비 이상 탐지 장치."}
{"patent_id": "10-2022-0015809", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4 항에 있어서,상기 최근접 이웃 거리 데이터는 k 개의 최근접 이웃 거리를 포함하고, 공개특허 10-2023-0120186-3-상기 이상 탐지 모듈은 상기 최근접 이웃 거리 임계 데이터보다 작은 상기 최근접 이웃 거리의 제1 개수와, 상기 최근접 이웃 거리 임계 데이터보다 큰 상기 최근접 이웃 거리의 제2 개수를 비교하여, 상기 장비가 이상 동작하는지 여부를 탐지하는,장비 이상 탐지 장치."}
{"patent_id": "10-2022-0015809", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5 항에 있어서,상기 이상 탐지 모듈은,상기 제1 개수가 상기 제2 개수보다 큰 경우, 상기 장비의 동작을 정상 동작으로 결정하고, 상기 제1 개수가 상기 제2 개수보다 작은 경우, 상기 장비의 동작을 비정상 동작으로 결정하는, 장비 이상 탐지 장치."}
{"patent_id": "10-2022-0015809", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제1 항에 있어서,상기 출력 벡터 생성 모듈은 상기 제1 이미지 분류 모델에 대해 미리 정한 에포크(epoch) 동안만 재학습되어 생성되는,장비 이상 탐지 장치."}
{"patent_id": "10-2022-0015809", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "영상 데이터를 수신하는 단계;상기 영상 데이터를 이용하여 출력 벡터를 생성하는 단계;상기 출력 벡터와, 미리 정한 복수의 테스트 벡터에 대해 k 개의 최근접 이웃 거리를 연산하는 단계;상기 k 개의 최근접 이웃 거리 중 미리 정한 최근접 이웃 거리 임계 데이터보다 작은 최근접 이웃 거리의 제1개수와, 상기 k 개의 최근접 이웃 거리 중 상기 최근접 이웃 거리 임계 데이터보다 큰 최근접 이웃 거리의 제2개수를 파악하는 단계; 및상기 제1 개수와 상기 제2 개수를 이용하여, 상기 영상 데이터의 이상 동작 여부를 판단하는 단계를 포함하는,장비 이상 탐지 방법."}
{"patent_id": "10-2022-0015809", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8 항에 있어서,상기 최근접 이웃 거리 임계 데이터는, 상기 복수의 테스트 벡터를 이용하여, 상기 복수의 테스트 벡터 각각에대해 k개의 최근접 이웃 거리를 계산하고, 계산된 최근접 이웃 거리 중 가장 큰 값인,장비 이상 탐지 방법."}
{"patent_id": "10-2022-0015809", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제8 항에 있어서,공개특허 10-2023-0120186-4-상기 영상 데이터의 이상 동작 여부를 판단하는 단계는,상기 제1 개수가 상기 제2 개수보다 큰 경우, 상기 영상 데이터를 정상 동작으로 판단하고, 상기 제1 개수가 상기 제2 개수보다 작은 경우, 상기 영상 데이터를 이상 동작으로 판단하는,장비 이상 탐지 방법."}
{"patent_id": "10-2022-0015809", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 KNN 알고리즘을 이용한 장비 이상 탐지 장치에 관한 것이다. 상기 장비 이상 탐지 장치는, 장비의 동 작에 대한 영상 데이터를 수집하는 영상 수집부, 영상 데이터를 이용하여 N차원의 출력 벡터를 생성하는 출력 벡 터 생성 모듈, 출력 벡터와 미리 정한 테스트 벡터의 k-최근접 이웃 거리를 연산하여 최근접 이웃 거리 데이터를 생성하는 k-최근접 이웃 거리 연산 모듈 및 최근접 이웃 거리 데이터를 이용하여, 장비가 이상 동작하는지 여부 를 탐지하는 이상 탐지 모듈을 포함하고, 출력 벡터 생성 모듈은 미리 학습된 제1 이미지 분류 모델을 이용하여 재학습되어 생성된다."}
{"patent_id": "10-2022-0015809", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 KNN 알고리즘을 이용한 장비 이상 탐지 장치에 관한 것이다. 구체적으로, 본 발명은 미리 학습된 인 공지능 기반의 이미지 분류 모델과 KNN 알고리즘을 이용하여, 장비가 이상 동작하는지 여부를 정확하게 판단할 수 있는 이상 탐지 장치에 관한 것이다."}
{"patent_id": "10-2022-0015809", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "이 부분에 기술된 내용은 단순히 본 실시예에 대한 배경 정보를 제공할 뿐 종래기술을 구성하는 것은 아니다. 반도체 등과 같은 초 기술 집약적 상품은 기계장치의 미세한 오작동에 의해서도 완제품의 품질이 굉장히 저하될 수 있다. 다만, 사람의 눈으로 기계장치의 오작동을 계속해서 감시하는 것은 실질적으로 어려우므로, 각종 센서 를 활용하여 기계장치에 대한 이상탐지를 수행하고 있다. 이상탐지에는 진동센서, 음향센서, 모션센서 등 복수 의 센서에서 감지된 센싱 데이터가 이용될 수도 있고, 기계장치의 동작을 촬영한 영상 데이터가 이용될 수도 있 다. 최근에는 AI 및 머신러닝 기술을 이용하여 실시간으로 기계장치의 이상탐지를 수행할 수 있는 기술들이 개발 중 에 있다. 이때, 이상탐지는 새로운 현상 발견과 밀접한 관련이 있다. 즉, 머신러닝 모듈에서 정상 패턴을 학습 후, 정상이 아닌 새로운 패턴이 보였을 때 이상동작으로 판단하는 것이다. 이러한, 머신러닝은 크게 지도학습과 비지도학습으로 나뉘는데, 정답 레이블(label)을 학습셋에 포함시켜 제공 해주는 지도학습의 성능이 훨씬 뛰어나다고 알려져 있다. 다만, 지도학습을 위해서는 정답 레이블이 이미 포함 된 학습 데이터셋을 사전에 준비하여야 하는데, 일반적으로 이러한 학습 데이터셋을 준비하는 것은 쉽지 않다. 특히, 이상탐지 알고리즘의 경우 정상/비정상 학습 데이터셋 모두를 준비해야 하는데, 비정상 학습 데이터셋의 경우 기계장치를 일부러 오작동을 일으켜야 하기에 준비하기 더욱 어려운 문제가 있다. 따라서, 미리 학습된 이미지 분류 모델을 이용하면서, 정상 학습 데이터 셋만으로도 학습이 가능하며, 이상탐지 에 대한 정확도를 높일 수 있는 로직에 대한 니즈가 증가되었다."}
{"patent_id": "10-2022-0015809", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 목적은 학습 데이터 셋을 마련하기 비용이한 환경에서, 미리 학습된 이미지 분류 모델을 이용하여 장 비의 이상 탐지, 즉 장비가 오작동하는지 여부를 판단할 수 있는 이상 탐지 장치를 제공하는 것이다. 또한, 본 발명의 목적은, 비정상 학습 데이터가 존재하지 않더라도, 비정상 상황에 대한 학습이 가능한 이상 탐 지 장치를 제공하는 것이다. 또한, 본 발명의 목적은 비교적 정확도가 높은 영상 데이터를 이용한 이상 탐지 장치를 제공하는 것이다. 본 발명의 목적들은 이상에서 언급한 목적으로 제한되지 않으며, 언급되지 않은 본 발명의 다른 목적 및 장점들 은 하기의 설명에 의해서 이해될 수 있고, 본 발명의 실시예에 의해 보다 분명하게 이해될 것이다. 또한, 본 발 명의 목적 및 장점들은 특허 청구 범위에 나타낸 수단 및 그 조합에 의해 실현될 수 있음을 쉽게 알 수 있을 것 이다."}
{"patent_id": "10-2022-0015809", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 몇몇 실시예에 따른 장비 이상 탐지 장치는 장비의 동작에 대한 영상 데이터를 수집하는 영상 수집부, 영상 데이터를 이용하여 N차원의 출력 벡터를 생성하는 출력 벡터 생성 모듈, 출력 벡터와 미리 정한 테스트 벡터의 k-최근접 이웃 거리를 연산하여 최근접 이웃 거리 데이터를 생성하는 k-최근접 이웃 거리 연산 모듈 및 최근접 이웃 거리 데이터를 이용하여, 장비가 이상 동작하는지 여부를 탐지하는 이상 탐지 모듈을 포함 하고, 출력 벡터 생성 모듈은 미리 학습된 제1 이미지 분류 모델을 이용하여 재학습되어 생성된다. 몇몇 실시예에서, 제1 이미지 분류 모델은 제1 입력부, 제1 특징 추출부 및 제1 분류부를 포함하고, 출력 벡터 생성 모듈은 제1 입력부, 제1 특징 추출부 및 제1 분류부 중 일부만을 재학습하여 생성될 수 있다. 몇몇 실시예에서, 출력 벡터 생성 모듈은 재학습 데이터 셋을 이용하여 재학습되되, 재학습 데이터 셋은 장비가 정상 동작할때의 영상 데이터인 정상 데이터로만 구성될 수 있다. 몇몇 실시예에서, 이상 탐지 모듈은 최근접 이웃 거리 데이터와, 미리 정한 최근접 이웃 거리 임계 데이터를 비 교하여, 장비가 이상 동작하는지 여부를 탐지할 수 있다. 몇몇 실시예에서, 최근접 이웃 거리 데이터는 k 개의 최근접 이웃 거리를 포함하고, 이상 탐지 모듈은 최근접 이웃 거리 임계 데이터보다 작은 최근접 이웃 거리의 제1 개수와, 최근접 이웃 거리 임계 데이터보다 큰 최근접 이웃 거리의 제2 개수를 비교하여, 장비가 이상 동작하는지 여부를 탐지할 수 있다. 몇몇 실시예에서, 이상 탐지 모듈은, 제1 개수가 제2 개수보다 큰 경우, 장비의 동작을 정상 동작으로 결정하고, 제1 개수가 제2 개수보다 작은 경우, 장비의 동작을 비정상 동작으로 결정할 수 있다. 몇몇 실시예에서, 출력 벡터 생성 모듈은 제1 이미지 분류 모델에 대해 미리 정한 에포크(epoch) 동안만 재학습 되어 생성될 수 있다. 본 발명의 몇몇 실시예에 따른 장비 이상 탐지 방법은, 영상 데이터를 수신하는 단계, 영상 데이터를 이용하여 출력 벡터를 생성하는 단계, 출력 벡터와, 미리 정한 복수의 테스트 벡터에 대해 k 개의 최근접 이웃 거리를 연 산하는 단계, k 개의 최근접 이웃 거리 중 미리 정한 최근접 이웃 거리 임계 데이터보다 작은 최근접 이웃 거리 의 제1 개수와, k 개의 최근접 이웃 거리 중 최근접 이웃 거리 임계 데이터보다 큰 최근접 이웃 거리의 제2 개 수를 파악하는 단계 및 제1 개수와 제2 개수를 이용하여, 영상 데이터의 이상 동작 여부를 판단하는 단계를 포 함한다. 몇몇 실시예에서, 최근접 이웃 거리 임계 데이터는, 복수의 테스트 벡터를 이용하여, 복수의 테스트 벡터 각각 에 대해 k개의 최근접 이웃 거리를 계산하고, 계산된 최근접 이웃 거리 중 가장 큰 값일 수 있다. 몇몇 실시예에서, 영상 데이터의 이상 동작 여부를 판단하는 단계는, 제1 개수가 제2 개수보다 큰 경우, 영상 데이터를 정상 동작으로 판단하고, 제1 개수가 제2 개수보다 작은 경우, 영상 데이터를 이상 동작으로 판단할 수 있다."}
{"patent_id": "10-2022-0015809", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 몇몇 실시예에 따른 이상 탐지 장치는 충분한 학습 데이터셋의 마련이 어려운 환경에서도 비교적 정 확도가 높은 인공지능 기반의 이상 탐지 장치를 제공할 수 있다는 장점이 있다. 또한, 본 발명의 몇몇 실시예에 따른 이상 탐지 장치는 비정상 학습 데이터 없이도 정상 동작과 비정상 동작을 구분할 수 있는 인공지능 기반의 이상 탐지 장치를 제공할 수 있다는 장점이 있다. 상술한 내용과 더불어 본 발명의 구체적인 효과는 이하"}
{"patent_id": "10-2022-0015809", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 명세서 및 특허청구범위에서 사용된 용어나 단어는 일반적이거나 사전적인 의미로 한정하여 해석되어서는 아 니된다. 발명자가 그 자신의 발명을 최선의 방법으로 설명하기 위해 용어나 단어의 개념을 정의할 수 있다는 원 칙에 따라, 본 발명의 기술적 사상과 부합하는 의미와 개념으로 해석되어야 한다. 또한, 본 명세서에 기재된 실 시예와 도면에 도시된 구성은 본 발명이 실현되는 하나의 실시예에 불과하고, 본 발명의 기술적 사상을 전부 대 변하는 것이 아니므로, 본 출원시점에 있어서 이들을 대체할 수 있는 다양한 균등물과 변형 및 응용 가능한 예 들이 있을 수 있음을 이해하여야 한다. 본 명세서 및 특허청구범위에서 사용된 제1, 제2, A, B 등의 용어는 다양한 구성요소들을 설명하는데 사용될 수 있지만, 상기 구성요소들은 상기 용어들에 의해 한정되어서는 안 된다. 상기 용어들은 하나의 구성요소를 다른 구성요소로부터 구별하는 목적으로만 사용된다. 예를 들어, 본 발명의 권리 범위를 벗어나지 않으면서 제1 구성 요소는 제2 구성요소로 명명될 수 있고, 유사하게 제2 구성요소도 제1 구성요소로 명명될 수 있다. '및/또는' 이라는 용어는 복수의 관련된 기재된 항목들의 조합 또는 복수의 관련된 기재된 항목들 중의 어느 항목을 포함 한다. 본 명세서 및 특허청구범위에서 사용된 용어는 단지 특정한 실시 예를 설명하기 위해 사용된 것으로, 본 발명을 한정하려는 의도가 아니다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 출원에서 \"포함하다\" 또는 \"가지다\" 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 동작, 구성요소, 부 품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 다르게 정의되지 않는 한, 기술적이거나 과학적인 용어를 포함해서 여기서 사용되는 모든 용어들은 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에 의해서 일반적으로 이해되는 것과 동일한 의미를 가지고 있다. 일반적으로 사용되는 사전에 정의되어 있는 것과 같은 용어들은 관련 기술의 문맥 상 가지는 의미와 일치하는 의미를 가지는 것으로 해석되어야 하며, 본 출원에서 명백하게 정의하지 않는 한, 이상적이거나 과도하게 형식 적인 의미로 해석되지 않는다. 또한, 본 발명의 각 실시예에 포함된 각 구성, 과정, 공정 또는 방법 등은 기술적으로 상호 간 모순되지 않는 범위 내에서 공유될 수 있다. 이상 탐지란, 데이터에서 예상과는 다른 패턴을 보이는 개체 또는 데이터를 찾는 것을 말하는 것을 의미한다. 도 1은 본 발명의 몇몇 실시예에 따른 공장 자동화 시스템을 개략적으로 설명하기 위한 도면이다. 도 1을 참조하면, 본 발명의 몇몇 실시예에 따른 공장 자동화 시스템은 스마트팩토리 구축을 위한 시스템일 수 있다. 공장 자동화 시스템은 장비 이상 탐지 장치, 장비 제어 장치 및 장비 구동 장치를포함할 수 있다. 장비 이상 탐지 장치는 구동 중인 장비(또는 기계 장치 등)가 이상 동작을 하는지 여부를 모니터링하기 위 한 장치일 수 있다. 본 발명의 몇몇 실시예에 따른 장비 이상 탐지 장치는 인공지능 기반의 이상 탐지 장 치일 수 있다. 다시 말해서, 장비 이상 탐지 장치는 학습 데이터를 기반으로 학습된 인공지능 기반의 이상 탐지 장치일 수 있다. 몇몇 실시예에 따르면, 장비 이상 탐지 장치는 영상 데이터를 기반으로, 장비의 이상 동작 여부를 탐지할 수 있다. 장비 이상 탐지 장치는 모니터링하는 장비의 이상 동작 여부를 탐지한 결과 데이터를 장비 제어 장치에 제공할 수 있다. 장비 제어 장치는 장비 구동 장치를 제어하기 위한 제어 신호를 생성할 수 있다. 장비 제어 장치 는 장비 이상 탐지 장치로부터 수신한 결과 데이터와, 장비 구동 장치로부터 수신한 장비 구동 데이터를 이용하여, 장비 구동 장치를 제어하기 위한 제어 신호를 생성할 수 있다. 예를 들어, 장비 이상 탐지 장치에서 현재 장비가 이상 동작을 하고 있다고 판단한 경우, 장비 제어 장치는 장비를 셧다운 하기 위한 제어 신호를 생성하거나, 장비의 동작을 정상화하기 위한 제어 신호를 생성할 수 있다. 다만, 이는 예시적인 설명일 뿐이며, 실시예들이 이에 제한되는 것은 아니다. 비록 도면에는 도시하지 않았지만, 장비 제어 장치는 다양한 복수의 센서로부터 장비 구동 장치에서 측정되는 센싱 데이터들을 수신할 수 있다. 장 비 제어 장치는 수신된 센싱 데이터들에 기초하여 장비 제어 신호를 생성할 수 있다. 장비 구동 장치는 동력을 이용하여 실제로 기계, 기구 및 장비를 동작시키는 장치를 의미할 수 있다. 장비 구동 장치는 예를 들어, 로봇 암(arm), 이송 장치, 반도체 장비, 실린더 등 물리적으로 동작하는 모든 기 계, 기구, 장비를 의미할 수 있다. 장비 구동 장치는 장비 제어 장치에서 생성된 제어 신호를 수신하 고, 수신한 제어 신호에 따라 동작을 수행할 수 있다. 본 발명의 몇몇 실시예에 따른 공장 자동화 시스템은 스마트팩토리 구축을 위해 이용될 수 있다. 장비 제어 장치와 장비 구동 장치의 연동으로, 장비의 구동 및 제어가 자동화되고, 장비 이상 탐지 장치를 통해 장비가 이상 동작을 하는지 여부가 탐지되므로, 인력이 없이도 장비를 모니터링하고 구동할 수 있다. 이하 에서는, 장비 이상 탐지 장치에 대해 구체적으로 설명한다. 도 2는 본 발명의 몇몇 실시예에 따른 장비 이상 탐지 장치의 개략적인 구성을 설명하기 위한 도면이다. 도 2를 참조하면, 장비 이상 탐지 장치는 영상 수집부 및 인공지능 기반 이미지 분류 모델을 포 함할 수 있다. 영상 수집부는 영상 데이터(D_IMG)를 생성하여, 인공지능 기반 이미지 분류 모델에 제공할 수 있다. 영상 수집부는 예를 들어, CCTV, 스틸 카메라 및/또는 동적 카메라를 포함할 수 있으나 실시예들이 이에 제한되지는 않는다. 인공지능 기반 이미지 분류 모델은 영상 수집부로부터 제공받은 영상 데이터(D_IMG)를 이용하여, 이 상 탐지 결과 데이터(D_RSLT)를 생성할 수 있다. 이상 탐지 결과 데이터(D_RSLT)는 공장 자동화 시스템의 장 비 제어 장치에 제공될 수 있다. 이상 탐지 결과 데이터(D_RSLT)는 이진 데이터(binary date)일 수 있다. 다시 말해서, 이상 탐지 결과 데이터(D_RSLT)는 장비가 정상 동작한다는 의미인 정상 데이터와, 장비가 이상 동 작한다는 의미인 비정상 데이터 중 어느 하나일 수 있다. 인공지능 기반 이미지 분류 모델은 KNN 알고리즘을 이용할 수 있다. KNN 알고리즘은 k개(k는 자연수)의 최 근접 이웃 거리를 연산하여 데이터 분석을 수행하는 알고리즘이다. 인공지능 기반 이미지 분류 모델은 KNN 알고리즘을 이용하여, 영상 데이터(D_IMG)를 정상 데이터와 비정상 데이터로 구분할 수 있다. 이에 대한 보다 구체적인 설명은 후술한다. 또한, 인공지능 기반 이미지 분류 모델은 미리 학습된 이미지 분류 모델을 이 용하여 재학습된 이미지 분류 모듈을 포함할 수 있다. 다시 말해서, 인공지능 기반 이미지 분류 모델은 전 이학습(transfer learning)을 통해 학습된 이미지 분류 모듈을 포함할 수 있다. 인공지능 기반 이미지 분류 모 델에 대한 보다 상세한 설명을 위해, 도 3을 더 참조한다. 도 3은 본 발명의 몇몇 실시예에 따른 인공지능 기반 이미지 분류 모델의 구성을 개략적으로 설명하기 위한 도 면이다. 도 3을 참조하면, 인공지능 기반 이미지 분류 모델은 출력 벡터 생성 모듈, k-최근접 이웃 거리 연산 모듈 및 이상 탐지 모듈을 포함할 수 있다. 출력 벡터 생성 모듈은 영상 수집부로부터 영상 데이터(D_IMG)를 제공받을 수 있다. 출력 벡터 생성 모듈은 제공받은 영상 데이터(D_IMG)를 이용하여 출력 벡터(V_output)를 생성할 수 있다. 출력 벡터 (V_output)는 미리 정한 N차원(N은 자연수)의 벡터일 수 있다. 출력 벡터 생성 모듈은 출력 벡터 (V_output)를 k-최근접 이웃 거리 연산 모듈에 제공할 수 있다. k-최근접 이웃 거리 연산 모듈은 출력 벡터 생성 모듈로부터 출력 벡터(V_output)를 제공받을 수 있 다. k-최근접 이웃 거리 연산 모듈은 제공받은 출력 벡터(V_output)에 대해, 미리 정한 복수의 테스트 벡 터와 k개의 최근접 이웃 거리를 연산하여 최근접 이웃 거리 데이터(D_near)를 생성할 수 있다. 최근접 이웃 거 리 데이터(D_near)는 출력 벡터(V_output)와, 출력 벡터(V_output)와 가장 인접한 k개의 이웃 테스트 벡터와의 거리를 포함할 수 있다. 즉, 최근접 이웃 거리 데이터(D_near)는 k개의 최근접 이웃 거리를 포함할 수 있다. 그 러나, 본 발명의 기술 분야에서 통상의 지식을 가진 자는 본 발명의 범위를 벗어나지 않고, 다양한 방식으로 최 근접 이웃 거리 데이터(D_near)를 정의할 수 있을 것이다. 예를 들어, 최근접 이웃 거리 데이터(D_near)는 k개 의 최근접 이웃 거리를 평균한 값일 수도 있다. 다만, 본 명세서에서는 설명의 편의상 최근접 이웃 거리 데이터 (D_near)가 k개의 최근접 이웃 거리를 포함하는 것으로 설명한다. k-최근접 이웃 거리 연산 모듈은 생성된 최근접 이웃 거리 데이터(D_near)를 이상 탐지 모듈에 제공할 수 있다. 이상 탐지 모듈은 최근접 이웃 거리 데이터(D_near)를 이용하여, 이상 탐지 결과 데이터(D_RSLT)를 생성할 수 있다. 이상 탐지 모듈은 최근접 이웃 거리 데이터(D_near)와 최근접 이웃 거리 임계 데이터(D_Th)를 비 교하여, 이상 탐지 결과 데이터(D_RSLT)를 생성할 수 있다. 예를 들어, 이상 탐지 모듈은 최근접 이웃 거 리 임계 데이터(D_Th)보다 큰 최근접 이웃 거리 데이터(D_near)에 포함된 최근접 이웃 거리의 개수와, 최근접 이웃 거리 임계 데이터(D_Th)보다 작은 최근접 이웃 거리의 개수를 비교하여 이상 탐지 결과 데이터(D_RSLT)를 생성할 수 있다. 이상 탐지 모듈에서 생성된 이상 탐지 결과 데이터(D_RSLT)는 장비 제어 장치에 제 공될 수 있다. 이하 도 4를 참조하여, 인공지능 기반 이미지 분류 모델의 동작에 대해 설명한다. 도 4는 본 발명의 몇몇 실시예에 따른 인공지능 기반 이미지 분류 모델의 동작을 개략적으로 설명하기 위한 도 면이다. 설명의 편의를 위해 전술한 내용과 동일하거나 유사한 내용은 생략하거나 간단히 설명한다. 도 4를 참조하면, 인공지능 기반 이미지 분류 모델은 영상 수집부로부터 영상 데이터(D_IMG)를 수신 할 수 있다(S100). 인공지능 기반 이미지 분류 모델은 수신한 영상 데이터(D_IMG)를 이용하여 출력 벡터 (V_output)를 생성할 수 있다(S110). 다시 말해서, 영상 수집부에서 생성된 영상 데이터(D_IMG)는 출력 벡 터 생성 모듈에 제공될 수 있다. 출력 벡터 생성 모듈은 제공받은 영상 데이터(D_IMG)를 이용하여 N 차원의 출력 벡터(V_output)를 생성할 수 있다. 출력 벡터 생성 모듈에 대한 추가적인 설명을 위해, 도 5 를 더 참조한다. 도 5는 본 발명의 몇몇 실시예에 따른 출력 벡터 생성 모듈의 구성을 개략적으로 설명하기 위한 도면이다. 도 5를 참조하면, 출력 벡터 생성 모듈은 입력 레이어(IL), 히든 레이어(HL) 및 출력 레이어(OL)를 포함할 수 있다. 입력 레이어(IL)는 영상 데이터(D_IMG)를 제공받을 수 있다. 입력 레이어(IL)에서 제공받은 영상 데이 터(D_IMG)는 히든 레이어(HL)와 연산되어 출력 레이어(OL)에 제공될 수 있다. 출력 레이어(OL)는 최종 연산 결 과인 출력 벡터(V_output)를 출력할 수 있다. 몇몇 실시예에 따르면, 출력 벡터 생성 모듈은 입력되는 영 상 데이터(D_IMG)의 특징을 추출하여 분류하고, 이를 N차원의 출력 벡터(V_output)로 표현하는 인공지능 기반의 모듈일 수 있다. 출력 벡터 생성 모듈은 인공지능 기반의 이진 분류 모델의 적어도 일부를 포함할 수 있다. 또한, 출력 벡터 생성 모듈은 전이 학습을 통해 재학습된 인공지능 기반의 모듈일 수 있다. 보다 구 체적인 설명을 위해, 도 6을 더 참조한다. 도 6은 본 발명의 몇몇 실시예에 따른 출력 벡터 생성 모듈의 생성 과정을 설명하기 위한 도면이다. 도 6을 참조하면, 출력 벡터 생성 모듈을 생성하기 위해, 미리 학습된 제1 이미지 분류 모델(IM_1)을 이용 할 수 있다. 제1 이미지 분류 모델(IM_1)은 제1 입력부(IN_1), 제1 특징 추출부(FE_1) 및 제1 분류부(CF_1)를 포함할 수 있다. 제1 이미지 분류 모델(IM_1)은 상대적으로 많은 개수의 학습 데이터 셋(BigD)을 이용하여 잘 학습된(well-learned) 이미지 분류 모델일 수 있다. 제1 이미지 분류 모델(IM_1)은 입력되는 영상 데이터를 M개 (M은 자연수)의 클래스로 분류하는 다중 분류 모델일 수 있다. 몇몇 실시예에 따르면, 잘 학습된 제1 이미지 분류 모델(IM_1)을 이용하여 제2 이미지 분류 모델(IM_2)을 생성 할 수 있다. 제2 이미지 분류 모델(IM_2)은 제2 입력부(IN_2), 제2 특징 추출부(FE_2) 및 제2 분류부(CF_2)를 포함할 수 있다. 몇몇 실시예에 따르면, 제2 입력부(IN_2), 제2 특징 추출부(FE_2) 및 제2 분류부(CF_2)의 적어도 일부 구조는 각각 제1 입력부(IN_1), 제1 특징 추출부(FE_1) 및 제1 분류부(CF_1)의 구조와 동일하고, 고정된 파라미터를 이 용할 수 있다. 다시 말해서, 제2 이미지 분류 모델(IM_2)은 잘 학습된 제1 이미지 분류 모델(IM_1)의 일부 구조 와 파라미터 값을 그대로 사용하고, 나머지 부분에 대해서만 재학습을 진행할 수 있다. 예를 들어, 제2 이미지 분류 모델(IM_2)의 학습 과정에서, 제2 입력부(IN_2)는 제1 입력부(IN_1)와 동일한 구조와 파라미터값을 갖고, 제2 특징 추출부(FE_2)는 제1 특징 추출부(FE_1)와 동일한 구조와 파라미터값을 갖고, 제2 분류부(CF_2)에 대해 서만 재학습을 수행할 수 있다. 몇몇 실시예에 따르면, 제2 이미지 분류 모델(IM_2)은 입력되는 영상 데이터를 정상 데이터 및 비정상 데이터로 만 분류하는 이진 분류 모델일 수 있다. 이때, 제2 이미지 분류 모델(IM_2)을 재학습시키기 위한 학습 데이터는 정상 데이터(D_normal)만 이용될 수 있다. 물론 제2 이미지 분류 모델(IM_2)에 대한 분류 정확도를 증가시키기 위해서는, 정상 데이터(D_normal)뿐만 아니라 비정상 데이터도 함께 구비되는 것이 좋다. 하지만, 이상 탐지 분 야에서의 비정상 데이터는 일부러 장비를 이상 동작시켜야 하여 데이터 마련이 필요한데, 이 경우 장비의 고장 이나 오류를 야기하므로 현실적으로 임의로 비정상 데이터를 마련하기는 어려운 실정이다. 따라서, 제2 이미지 분류 모델(IM_2)은 정상 데이터(D_normal)에 대해서만 재학습을 진행할 수 있다. 이때, 상대적으로 낮은 정확도 는 추후 설명하는 KNN 알고리즘을 통해 보완될 수 있다. 몇몇 실시예에 따르면, 출력 벡터 생성 모듈은 재학습된 제2 이미지 분류 모델(IM_2)이 N차원의 출력 벡터 (V_output)를 생성하도록 설정하여 생성될 수 있다. 다시 말해서, 출력 벡터 생성 모듈은 재학습된 제2 이 미지 분류 모델(IM_2)의 적어도 일부를 이용하여 생성될 수 있다. 출력 벡터 생성 모듈의 생성 과정에 대 해 설명하기 위해, 도 7을 더 참조한다. 도 7은 본 발명의 몇몇 실시예에 따른 출력 벡터 생성 모듈의 생성 과정을 설명하기 위한 도면이다. 설명의 편 의를 위해 앞서 설명한 내용과 동일하거나 유사한 내용은 생략하거나 간단히 설명한다. 도 7을 참조하면, 미리 학습된 제1 이미지 분류 모델(IM_1)을 수집할 수 있다(S200). 제1 이미지 분류 모델 (IM_1)은 제1 입력부(IN_1), 제1 특징 추출부(FE_1) 및 제1 분류부(CF_1) 중 적어도 하나를 고정하고, 나머지를 재학습이 가능한 상태로 설정하여 제2 이미지 분류 모델(IM_2)을 생성할 수 있다(S210). 제2 이미지 분류 모델(IM_2)은 미리 정한 에포크(epoch) 동안 재학습을 수행할 수 있다(S220). 제2 이미지 분류 모델(IM_2)은 이미 잘 학습된 제1 이미지 분류 모델(IM_1)에 대해 추가적인 학습을 수행하는 것이며, 다중 분류 모델인 제1 이미지 분류 모델(IM_1)에 대해 이진 분류 모델로 변경하여 재학습하는 것이므로, 특정 에포크 이상 재학습을 수행하는 경우 이미 학습된 파라미터가 무너질 수 있다. 따라서, 제2 이미지 분류 모델(IM_2)은 정상 데이터(D_normal)로 재학습을 수행하되, 재학습은 미리 정한 에포크 동안만 진행할 수 있다. 이어서, 재학습된 제2 이미지 분류 모델(IM_2)이 N 차원의 벡터를 출력하도록 설정하여, 출력 벡터 생성 모듈 을 생성할 수 있다(S230). 이로써, 생성된 출력 벡터 생성 모듈은 영상 데이터(D_IMG)를 이진으로 분 류하는 성질을 가지며, 분류 결과를 N 차원의 벡터로 출력할 수 있다. 다시 도 4를 참조하면, 인공지능 기반 이미지 분류 모델은 출력 벡터(V_output)에 대한 k-최근접 이웃 거 리를 연산하여, 최근접 이웃 거리 데이터(D_near)를 생성할 수 있다. 즉, k-최근접 이웃 거리 연산 모듈은 출력 벡터(V_output)를 이용하여 최근접 이웃 거리 데이터(D_near)를 생성할 수 있다. k-최근접 이웃 거리 연산 모듈에 대한 추가적인 설명을 위해 도 8 내지 도 10을 더 참조한다.도 8 내지 도 10은 본 발명의 몇몇 실시예에 따른 k-최근접 이웃 거리 연산 모듈의 동작을 설명하기 위한 도면 이다. 도 8 내지 도 10을 참조하면, k-최근접 이웃 거리 연산 모듈은 L개(L은 자연수)의 테스트 출력 벡터 (tV_output) 각각에 대해 k개의 최근접 이웃 거리를 연산할 수 있다(S300). 테스트 출력 벡터(tV_output)는 정 상 데이터인 테스트 데이터를, 출력 벡터 생성 모듈에 입력하여 얻은 출력 벡터이다. k-최근접 이웃 거리 연산 모듈은 테스트 출력 벡터(tV_output) 각각에 대해 연산된 k개의 최근접 이웃 거 리 중 가장 큰 값을 최근접 이웃 거리 임계 데이터(D_Th)로 결정할 수 있다(S310). 다시 도 4를 참조하면, k-최근접 이웃 거리 연산 모듈에서 생성된 최근접 이웃 거리 데이터(D_near)는 이 상 탐지 모듈에 제공되고, 이상 탐지 모듈은 최근접 이웃 거리 데이터(D_near)와 최근접 이웃 거리 임계 데이터(D_Th)를 이용하여, 장비의 정상 동작 여부를 결정할 수 있다. 설명의 편의를 위해, 최근접 이웃 거리 임계 데이터(D_Th)보다 작은 최근접 이웃 거리 데이터(D_near)에 포함된 최근접 이웃 거리의 개수를 '정상 개수'로, 최근접 이웃 거리 임계 데이터(D_Th)보다 큰 최근접 이웃 거리 데이 터(D_near)에 포함된 최근접 이웃 거리의 개수를 '비정상 개수'로 정의한다. 이상 탐지 모듈은 정상 개수가 비정상 개수보다 큰 경우(S130, Y), 영상 데이터(D_IMG)에 포함된 장비의 동작을 정상 동작으로 결정할 수 있다(S140). 이상 탐지 모듈은 정상 개수가 비정상 개수보다 작은 경우 (S130, N), 영상 데이터(D_IMG)에 포함된 장비의 동작을 이상 동작으로 결정할 수 있다(S150). 이상 탐지 모듈 은 정상 동작 및 이상 동작 중 하나를 의미하는 이상 탐지 결과 데이터(D_RSLT)를 생성할 수 있다. 이해를 돕기 위해, S130 내지 S150 단계의 의미에 대해 도 11을 통해 부가적으로 설명한다. 도 11은 본 발명의 몇몇 실시예에 따른 KNN 알고리즘을 이용한 이상 탐지 과정을 설명하기 위한 도면이다. 도 11의 (a) 및 (b)를 참조하면, 테스트 출력 벡터(tV_output)는 모두 정상 데이터를 이용하여 생성된 벡터이다. 즉, 테스트 출력 벡터(tV_output)는 모두 정상 데이터를 의미하는 출력 벡터이다. 따라서, 도 11의 (a)에서, 만약 출력 벡터(V_output)가 테스트 출력 벡터(tV_output)와 비교적 가까운 거리에 위치한다면, 출력 벡터(V_output) 역시 정상 데이터일 확률이 크다고 볼 수 있다. 한편, 도 11의 (b)에서, 만약 출력 벡터(V_output)가 테스트 출력 벡터(tV_output)와 비교적 먼 거리에 위치한 다면, 이는 출력 벡터(V_output)가 정상 데이터와는 상이한, 즉 이상 데이터일 확률이 크다고 볼 수 있다. 전술한 바와 같이, 출력 벡터 생성 모듈은 이미 학습된 제1 이미지 분류 모델(IM_1)을 재학습하여 생성될 수 있으므로, 학습 데이터 셋 구축에 대한 부담이 경감될 수 있다. 또한, 출력 벡터 생성 모듈은 재학습을 위해 정상 데이터(D_normal)만을 이용할 수 있으므로, 학습 데이터 셋 구축에 대한 부담이 경감될 수 있다. 다만, 출력 벡터 생성 모듈은 정상 데이터(D_normal)에 대해서는 어느정도 정확도를 가질 수 있으나, 비정 상 데이터에 대한 정확도는 담보되지 않을 수 있다. 그러나, 본 발명의 몇몇 실시예에 따른 인공지능 기반 이미 지 분류 모델은 인공지능 기반의 이미지 분류 모델 외에, KNN 알고리즘을 이용하여 이상 탐지를 수행하므 로, 정상 데이터에 편향되어 학습된 이미지 분류 모델을 보완할 수 있어, 분류 정확도가 향상될 수 있다는 장점 이 있다. 도 12은 본 발명의 몇몇 실시예에 따른 장비 이상 탐지 장치의 하드웨어 구현을 설명하기 위한 도면이다. 도 12를 참조하면, 본 발명의 몇몇 실시예들에 따른 장비 이상 탐지 장치는 전자 장치로 구현될 수 있다. 전자 장치는 컨트롤러(1010, controller), 입출력 장치(1020, I/O), 메모리 장치(1030, memory device), 인터페이스(1040, interface) 및 버스(1050, bus)를 포함할 수 있다. 컨트롤러, 입출력 장치 , 메모리 장치 및/또는 인터페이스는 버스를 통하여 서로 결합될 수 있다. 이때, 버스는 데이터들이 이동되는 통로(path)에 해당한다. 구체적으로, 컨트롤러는 CPU(Central Processing Unit), MPU(Micro Processor Unit), MCU(Micro Controller Unit), GPU(Graphic Processing Unit), 마이크로프로세서, 디지털 신호 프로세스, 마이크로컨트롤 러, 어플리케이션 프로세서(AP, application processor) 및 이들과 유사한 기능을 수행할 수 있는 논리 소자들 중에서 적어도 하나를 포함할 수 있다. 입출력 장치는 키패드(keypad), 키보드, 터치스크린 및 디스플레이 장치 중 적어도 하나를 포함할 수 있 다. 메모리 장치는 데이터 및/또는 프로그램 등을 저장할 수 있다. 인터페이스는 통신 네트워크로 데이터를 전송하거나 통신 네트워크로부터 데이터를 수신하는 기능을 수행 할 수 있다. 인터페이스는 유선 또는 무선 형태일 수 있다. 예컨대, 인터페이스는 안테나 또는 유 무선 트랜시버 등을 포함할 수 있다. 도시하지 않았지만, 메모리 장치는 컨트롤러의 동작을 향상시 키기 위한 동작 메모리로서, 고속의 디램 및/또는 에스램 등을 더 포함할 수도 있다. 메모리 장치는 내부 에 프로그램 또는 어플리케이션을 저장할 수 있다. 본 발명의 실시예들에 따른 장비 이상 탐지 장치는 각각 복수의 전자 장치가 네트워크를 통해서 서 로 연결되어 형성된 시스템일 수 있다. 이러한 경우에는 각각의 모듈 또는 모듈의 조합들이 전자 장치로 구현될 수 있다. 단, 본 실시예가 이에 제한되는 것은 아니다. 추가적으로, 장비 이상 탐지 장치는 워크스테이션(workstation), 데이터 센터, 인터넷 데이터 센터 (internet data center(IDC)), DAS(direct attached storage) 시스템, SAN(storage area network) 시스템, NAS(network attached storage) 시스템, RAID(redundant array of inexpensive disks, or redundant array of independent disks) 시스템, 및 EDMS(Electronic Document Management) 시스템 중 적어도 하나로 구현될 수 있 으나, 본 실시예가 이에 제한되는 것은 아니다. 또한, 장비 이상 탐지 장치는 네트워크를 통해서 장비 제어 장치에 데이터를 전송할 수 있다. 네트워 크는 유선 인터넷 기술, 무선 인터넷 기술 및 근거리 통신 기술에 의한 네트워크를 포함할 수 있다. 유선 인터 넷 기술은 예를 들어, 근거리 통신망(LAN, Local area network) 및 광역 통신망(WAN, wide area network) 중 적어도 하나를 포함할 수 있다. 무선 인터넷 기술은 예를 들어, 무선랜(Wireless LAN: WLAN), DMNA(Digital Living Network Alliance), 와이브 로(Wireless Broadband: Wibro), 와이맥스(World Interoperability for Microwave Access: Wimax), HSDPA(High Speed Downlink Packet Access), HSUPA(High Speed Uplink Packet Access), IEEE 802.16, 롱 텀 에볼루션(Long Term Evolution: LTE), LTE-A(Long Term Evolution-Advanced), 광대역 무선 이동 통신 서비스 (Wireless Mobile Broadband Service: WMBS) 및 5G NR(New Radio) 기술 중 적어도 하나를 포함할 수 있다. 단, 본 실시예가 이에 제한되는 것은 아니다. 근거리 통신 기술은 예를 들어, 블루투스(Bluetooth), RFID(Radio Frequency Identification), 적외선 통신 (Infrared Data Association: IrDA), UWB(Ultra-Wideband), 지그비(ZigBee), 인접 자장 통신(Near Field Communication: NFC), 초음파 통신(Ultra Sound Communication: USC), 가시광 통신(Visible Light Communication: VLC), 와이 파이(Wi-Fi), 와이 파이 다이렉트(Wi-Fi Direct), 5G NR (New Radio) 중 적어도 하 나를 포함할 수 있다. 단, 본 실시예가 이에 제한되는 것은 아니다. 네트워크를 통해서 통신하는 이상 탐지 장치는 이동통신을 위한 기술표준 및 표준 통신 방식을 준수할 수 있다. 예를 들어, 표준 통신 방식은 GSM(Global System for Mobile communication), CDMA(Code Division Multi Access), CDMA2000(Code Division Multi Access 2000), EV-DO(Enhanced Voice-Data Optimized or Enhanced Voice-Data Only), WCDMA(Wideband CDMA), HSDPA(High Speed Downlink Packet Access), HSUPA(High Speed Uplink Packet Access), LTE(Long Term Evolution), LTEA(Long Term Evolution-Advanced) 및 5G NR(New Radio) 중 적어도 하나를 포함할 수 있다. 단, 본 실시예가 이에 제한되는 것은 아니다. 이상의 설명은 본 실시예의 기술 사상을 예시적으로 설명한 것에 불과한 것으로서, 본 실시예가 속하는 기술 분 야에서 통상의 지식을 가진 자라면 본 실시예의 본질적인 특성에서 벗어나지 않는 범위에서 다양한 수정 및 변 형이 가능할 것이다. 따라서, 본 실시예들은 본 실시예의 기술 사상을 한정하기 위한 것이 아니라 설명하기 위한 것이고, 이러한 실시예에 의하여 본 실시예의 기술 사상의 범위가 한정되는 것은 아니다. 본 실시예의 보호 범위는 아래의 청구범위에 의하여 해석되어야 하며, 그와 동등한 범위 내에 있는 모든 기술 사상은 본 실시예의 권리범위에 포함되는 것으로 해석되어야 할 것이다."}
{"patent_id": "10-2022-0015809", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 몇몇 실시예에 따른 공장 자동화 시스템을 개략적으로 설명하기 위한 도면이다. 도 2는 본 발명의 몇몇 실시예에 따른 장비 이상 탐지 장치의 개략적인 구성을 설명하기 위한 도면이다. 도 3은 본 발명의 몇몇 실시예에 따른 인공지능 기반 이미지 분류 모델의 구성을 개략적으로 설명하기 위한 도 면이다. 도 4는 본 발명의 몇몇 실시예에 따른 인공지능 기반 이미지 분류 모델의 동작을 개략적으로 설명하기 위한 도 면이다. 도 5는 본 발명의 몇몇 실시예에 따른 출력 벡터 생성 모듈의 구성을 개략적으로 설명하기 위한 도면이다. 도 6은 본 발명의 몇몇 실시예에 따른 출력 벡터 생성 모듈의 생성 과정을 설명하기 위한 도면이다. 도 7은 본 발명의 몇몇 실시예에 따른 출력 벡터 생성 모듈의 생성 과정을 설명하기 위한 도면이다. 도 8 내지 도 10은 본 발명의 몇몇 실시예에 따른 k-최근접 이웃 거리 연산 모듈의 동작을 설명하기 위한 도면 이다. 도 11은 본 발명의 몇몇 실시예에 따른 KNN 알고리즘을 이용한 이상 탐지 과정을 설명하기 위한 도면이다. 도 12은 본 발명의 몇몇 실시예에 따른 장비 이상 탐지 장치의 하드웨어 구현을 설명하기 위한 도면이다."}
