{"patent_id": "10-2023-0107606", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0026551", "출원번호": "10-2023-0107606", "발명의 명칭": "거대 언어 모델의 불확실성 추정 장치 및 방법", "출원인": "고려대학교 산학협력단", "발명자": "최성준"}}
{"patent_id": "10-2023-0107606", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "적어도 프로세서(processor)를 포함하는 컴퓨팅 장치에 의해 수행되는 거대 언어 모델(Large Language Model,LLM)의 불확실성 추정 방법에 있어서,사용자의 질의, 요청, 지시, 쿼리, 또는 명령을 수신하는 단계;퓨-샷 프롬프팅(few-shot prompting)을 위한 샘플링을 수행하는 단계;상기 질의, 상기 요청, 상기 지시, 상기 쿼리, 또는 상기 명령과 샘플링 결과를 이용하여 상기 거대 언어 모델의 응답들을 생성하는 단계;상기 응답들 각각에 대한 임베딩 벡터(embedding vector)를 생성하는 단계; 및상기 거대 언어 모델의 응답에 대한 불확실성을 산출하는 단계를 포함하는 거대 언어 모델의 불확실성 추정 방법."}
{"patent_id": "10-2023-0107606", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 샘플링을 수행하는 단계는 상기 컴퓨팅 장치에 미리 저장되어 있는 문장들, 예제들, 또는 예시들 중 적어도 하나의 문장, 적어도 하나의 예제, 또는 적어도 하나의 예시를 선택하는,거대 언어 모델의 불확실성 추정 방법."}
{"patent_id": "10-2023-0107606", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 응답들을 생성하는 단계는 상기 퓨-샷 프롬프팅 기법을 이용하여 생성되는,거대 언어 모델의 불확실성 추정 방법."}
{"patent_id": "10-2023-0107606", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,상기 임베딩 벡터를 생성하는 단계는 사전학습된 BERT 모델 또는 Word2Vec 모델을 이용하여 상기 임베딩 벡터를생성하는,거대 언어 모델의 불확실성 추정 방법."}
{"patent_id": "10-2023-0107606", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서,상기 불확실성을 산출하는 단계는 임베딩 벡터들 간의 거리를 산출하는,거대 언어 모델의 불확실성 추정 방법."}
{"patent_id": "10-2023-0107606", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5항에 있어서,상기 거리는 유클리드 거리 또는 코사인 거리인,거대 언어 모델의 불확실성 추정 방법.공개특허 10-2025-0026551-3-청구항 7 제6항에 있어서,상기 불확실성을 산출하는 단계는 산출된 거리들의 평균 또는 총합에 기초하여 상기 불확실성을 산출하는,거대 언어 모델의 불확실성 추정 방법."}
{"patent_id": "10-2023-0107606", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7항에 있어서,상기 불확실성을 산출하는 단계는 상기 불확실성을 미리 정의된 적어도 하나의 임계치와 비교하는,거대 언어 모델의 불확실성 추정 방법."}
{"patent_id": "10-2023-0107606", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에 있어서,산출된 불확실성을 상기 사용자의 단말로 전송하는 단계를 더 포함하는,거대 언어 모델의 불확실성 추정 방법."}
{"patent_id": "10-2023-0107606", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "거대 언어 모델(Large Language Models, LLMs)의 불확실성 추정 장치 및 방법이 개시된다 상기 거대 언어 모델 의 불확실성 추정 방법은 적어도 프로세서(processor)를 포함하는 컴퓨팅 장치에 의해 수행되는 거대 언어 모델 의 불확실성 추정 방법으로서, 사용자의 질의, 요청, 지시, 쿼리, 또는 명령을 수신하는 단계, 퓨-샷 프롬프팅 (few-shot prompting)을 위한 샘플링을 수행하는 단계, 상기 질의, 상기 요청, 상기 지시, 상기 쿼리, 또는 상기 명령과 샘플링 결과를 이용하여 상기 거대 언어 모델의 응답들을 생성하는 단계, 상기 응답들 각각에 대한 임베 딩 벡터(embedding vector)를 생성하는 단계, 및 상기 거대 언어 모델의 응답에 대한 불확실성을 산출하는 단계 를 포함한다."}
{"patent_id": "10-2023-0107606", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 인공지능(Artificial Intelligence, AI) 응용에 관한 것으로, 보다 상세하게는 거대 언어 모델 (Large Language Models, LLMs)의 추론 결과의 불확실성을 추정하는 장치 및 방법에 관한 것이다."}
{"patent_id": "10-2023-0107606", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "ChatGPT, GPT4 등의 거대 언어 모델(Large Language Models, LLMs)을 활용한 서비스가 늘어남에 따라 사용자들 이 해당 서비스를 활용해 일상 질문들을 질의하는 경우가 늘어나고 있다. 하지만, 현재의 거대 언어 모델의 경 우 종종 오답을 생성하는 경우가 존재한다. 특히, 의료, 건강, 법률 분야에서 사용자에게 잘못된 정보를 제공함 으로 인해, 심각한 문제가 야기될 수 있다. 이에 따라, 본 발명에서는, 거대 언어 모델이 생성하는 답변의 불확 실성을 추정(또는 측정)하여, 사용자들에게 얼마나 답변이 틀릴 수 있으며, 거대 언어 모델이 얼마나 불확실한 지를 알려주고자 한다. 구체적인 예로, 거대 언어 모델을 통해 사용자의 명령(commands)을 이해하고 추론함으로써 인간-로봇 인터랙션 (human-robot interaction)이 향상되고 있으며, LLMs을 물리적 로봇에 적용하려는 활발한 시도들이 있었다. 반 면에, 사용자의 명령은 모호하거나 심지어 실행 불가능할 수 있기 때문에, 사용자 명령에 대한 적절한 해석은 인터랙티브 시스템에서 신뢰성을 확보하기 위한 필수 요소이다. 본 발명에서는 주어진 사용자 명령은 명확한지 (clear), 모호한지(ambiguous), 또는 실행 불가능한지(infeasible) 여부를 추론하는 것을 목표로 한다. 모호한 명령에 대하여, 태스크(task)에 대한 추가적인 정보를 얻기 위하여, 질의 생성(question generation)을 통해 사 용자와 추가적인 인터랙션을 가질 수 있다. 이는 명확화(disambiguation)로 명명되기도 한다. 제안하는 발명은 분류와 명확화를 위해 제로-샷(zero-shot) 능력을 이용할 수 있다. 본 발명에서는, 상황 인지(situational awareness)와 명화화(disambiguation)를 통해, 사용자 명령을 명확한 (certain) 명령, 모호한(ambiguous) 명령, 및 실행 불가능한(infeasible) 명령으로 분류할 수 있다. 상황 인지 는, 동일한 명령이 상이한 로봇들에게 다른 의미를 가질 수 있는 것과 같은 문제를 해결하기 위해 요구된다. 예 컨대, 사용자 명령이 \"He looks tired, can you help him?\"이고 현장(scene)에 커피(coffee), 커피 머신 (coffee machine), 물(water), 그리고 빵(bread)가 있다고 할 때, 로봇에 따라 다른 해석이 가능하다. 청소 로 봇(cleaning robot)에게는 실행 불가능한 명령이 될 수 있으나, 요리 로봇(cooking robot)은 커피를 제공할 수 있다. 안마 로봇(massage robot)에게, 이러한 명령은 모호한 명령이 될 수 있어, 로봇은 추가적인 정보를 얻기 위해 사용자에게 되물을 수 있다. 위와 같은 이유로, 신뢰성 있는 로봇을 위한, 사용자 명령을 분류하고 명확화하는 기법(CLassifying and disAmbiguating user commands for realiable interactive Robotic Agents, CLARA라 명명될 수 있음)을 제안한다. 제안하는 방법은 두 개의 파트로 구성된다. 우선, 명령은 명확한 명령과 그렇지 않은 명령(즉, 모호한 명령 또는 실행 불가능한 명령)으로 구분된다. 불확실성(uncertainty)은 불완전한 정보(incomplete information) 및 /또는 로봇 능력의 제한에 기인할 수 있기 때문에, 불명확한 명령들을 인식하기 위해 불확실성을 이용하는 것이 적절할 수 있다. 따라서, 본 발명에서는, LLMs의 불확실성을 추정하고, 명확한 명령과 불명확한 명령을 구분하 기 위해 추정된 불확실성을 이용하는 기법을 제안한다. 그런 다음, LLMs의 제로-샷 능력(zero-shot capabilit y)에 기초한 상황 인지로, 불명확한 명령 내에서 실현 불가능성을 체크하는 기법을 소개한다. 이를 통해, 실행 불가능한 명령과 모호한 명령을 구분할 수 있다. 질의 생성을 통해 자유-형식의 텍스트(free-form texts)로 사 용자와 인터랙팅하는 것, 즉 명확화 또한 모호한 명령으로 분류된 명령에 대해 수행될 수 있다. 본 발명에서는 SaGC(Situational awareness for Goal Classification in robotic tasks)라 불리는 벤치마크 데 이터셋을 디자인하였다. 이는, 로봇 태스크에서 상황 인지를 캡쳐하기 위한, 고레벨의 사용자 명령들(high- level user commands), 환경(environment), 및 불확실성-유형 라벨들(uncertainty-type labes)의 쌍들을 포함 한다. 요컨대, 본 발명에서는, 모호한 명령 또는 실행 불가능한 명령을 인식하기 위해 거대 언어 모델로부터 불확 실성을 포착하는 방법을 소개하고, 상황 인지로 사용자의 명령 내의 불확실성(예컨대, 모호 및 실행 불가능)의 유형을 불류하고 자유-형식 텍스트를 통해 명확화하는 과정을 수행하기 위한 기법을 소개하고, 거대 언어 모델로부터 상황 인지 불확실성을 평가하기 위해 대자인된 데이터셋을 제안한다. 데이터셋은 고레벨 의 사용자 명령들, 장면 묘사 또는 현장 묘사(scene descriptions), 및 불확실성-유형 라벨들의 쌍으로 구성될 수 있다. 이러한 데이터셋을 이용하여 제안하는 기법의 효과를 평가한다. 선행기술문헌 특허문헌 (특허문헌 0001) 대한민국 공개특허 제2023-0047865호 (2023.04.10. 공개)"}
{"patent_id": "10-2023-0107606", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명이 이루고자 하는 기술적인 과제는 거대 언어 모델이 생성하는 답변이나 응답의 불확실성을 추정할 수 있는 장치 및 방법을 제공하는 것이다."}
{"patent_id": "10-2023-0107606", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 일 실시예에 따른 거대 언어 모델(Large Language Model, LLM)의 불확실성 추정 방법은 적어도 프로 세서(processor)를 포함하는 컴퓨팅 장치에 의해 수행되고, 사용자의 질의, 요청, 지시, 쿼리, 또는 명령을 수 신하는 단계, 퓨-샷 프롬프팅(few-shot prompting)을 위한 샘플링을 수행하는 단계, 상기 질의, 상기 요청, 상 기 지시, 상기 쿼리, 또는 상기 명령과 샘플링 결과를 이용하여 상기 거대 언어 모델의 응답들을 생성하는 단계, 상기 응답들 각각에 대한 임베딩 벡터(embedding vector)를 생성하는 단계, 및 상기 거대 언어 모델의 응 답에 대한 불확실성을 산출하는 단계를 포함한다."}
{"patent_id": "10-2023-0107606", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 실시예에 따른 거대 언어 모델의 불확실성 추정 장치 및 방법에 의할 경우, 사용자들에게 거대 언어 모델이 주는 답변이 얼마나 틀릴지 미리 정보를 제공할 수 있다. 또한, 사용자들이 맹목적으로 거대 언어 모델이 주는 답변을 믿고 사용하는 것을 방지하기 위하여, 제공되는 정 보의 신뢰성을 제공할 수 있다."}
{"patent_id": "10-2023-0107606", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 명세서에 개시되어 있는 본 발명의 개념에 따른 실시예들에 대해서 특정한 구조적 또는 기능적 설명들은 단 지 본 발명의 개념에 따른 실시예들을 설명하기 위한 목적으로 예시된 것으로서, 본 발명의 개념에 따른 실시예 들은 다양한 형태들로 실시될 수 있으며 본 명세서에 설명된 실시예들에 한정되지 않는다. 본 발명의 개념에 따른 실시예들은 다양한 변경들을 가할 수 있고 여러 가지 형태들을 가질 수 있으므로 실시예 들을 도면에 예시하고 본 명세서에서 상세하게 설명하고자 한다. 그러나, 이는 본 발명의 개념에 따른 실시예들 을 특정한 개시 형태들에 대해 한정하려는 것이 아니며, 본 발명의 사상 및 기술 범위에 포함되는 모든 변경, 균등물, 또는 대체물을 포함한다. 제1 또는 제2 등의 용어는 다양한 구성 요소들을 설명하는데 사용될 수 있지만, 상기 구성 요소들은 상기 용어 들에 의해 한정되어서는 안 된다. 상기 용어들은 하나의 구성 요소를 다른 구성 요소로부터 구별하는 목적으로 만, 예컨대 본 발명의 개념에 따른 권리 범위로부터 벗어나지 않은 채, 제1 구성 요소는 제2 구성 요소로 명명 될 수 있고 유사하게 제2 구성 요소는 제1 구성 요소로도 명명될 수 있다. 어떤 구성 요소가 다른 구성 요소에 \"연결되어\" 있다거나 \"접속되어\" 있다고 언급된 때에는, 그 다른 구성 요소 에 직접적으로 연결되어 있거나 또는 접속되어 있을 수도 있지만, 중간에 다른 구성 요소가 존재할 수도 있다고 이해되어야 할 것이다. 반면에, 어떤 구성 요소가 다른 구성 요소에 \"직접 연결되어\" 있다거나 \"직접 접속되어\" 있다고 언급된 때에는 중간에 다른 구성 요소가 존재하지 않는 것으로 이해되어야 할 것이다. 구성 요소들 간의 관계를 설명하는 다른 표현들, 즉 \"~사이에\"와 \"바로 ~사이에\" 또는 \"~에 이웃하는\"과 \"~에 직접 이웃하는\" 등 도 마찬가지로 해석되어야 한다. 본 명세서에서 사용한 용어는 단지 특정한 실시예를 설명하기 위해 사용된 것으로서, 본 발명을 한정하려는 의 도가 아니다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 명세서에서, \"포함하다\" 또는 \"가지다\" 등의 용어는 본 명세서에 기재된 특징, 숫자, 단계, 동작, 구성 요소, 부분품 또는 이들을 조합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구 성 요소, 부분품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 다르게 정의되지 않는 한, 기술적이거나 과학적인 용어를 포함해서 여기서 사용되는 모든 용어들은 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에 의해 일반적으로 이해되는 것과 동일한 의미를 가진다. 일반적 으로 사용되는 사전에 정의되어 있는 것과 같은 용어들은 관련 기술의 문맥상 가지는 의미와 일치하는 의미를 갖는 것으로 해석되어야 하며, 본 명세서에서 명백하게 정의하지 않는 한, 이상적이거나 과도하게 형식적인 의 미로 해석되지 않는다. 이하, 본 명세서에 첨부된 도면들을 참조하여 본 발명의 실시예들을 상세히 설명한다. 그러나, 특허출원의 범위 가 이러한 실시예들에 의해 제한되거나 한정되는 것은 아니다. 각 도면에 제시된 동일한 참조 부호는 동일한 부 재를 나타낸다. 본 발명에서는, (일반적인) 거대 언어 모델이 생성하는(또는 출력하는) 응답(답변이나 추론 결과 등을 의미할 수 있음)의 불확실성을 추론(또는 추정)하는 장치 및 방법을 제안한다. 여기서, 거대 언어 모델은 ChatGPT나 GPT4 등과 같은 사전학습된 언어 모델을 의미할 수 있다. 도 1은 본 발명의 일 실시예에 따른, 거대 언어 모델의 불확실성 추정 방법을 설명하기 위한 흐름도이다. 도 1 을 참조하면, 불확실성 추정 방법은 적어도 프로세서(processor) 및/또는 메모리(memory)를 포함하는 컴퓨팅 장 치에 의해 수행될 수 있다. 따라서, 거대 언어 모델의 불확실성 추정 방법을 이루는 단계들 중 적어도 일부는 컴퓨팅 장치에 포함되는 프로세서의 동작으로 이해될 수도 있다. 컴퓨팅 장치는 PC(Personal Computer), 서버 (Server), 랩탑 컴퓨터, 태블릿 PC, 스마트폰, HMD(Head Mounted Display) 등을 포함할 수 있다. 또한, 컴퓨팅 장치는 거대 언어 모델의 불확실성 추정 장치로 명명될 수도 있다. 우선, 사용자로부터 질의, 요청, 지시, 쿼리, 및 명령 중 적어도 하나가 수신된다(S110). 질의 등은 사용자 단 말로부터, 소정의 유무선 통신망을 통하여, 수신될 수 있다. 실시예에 따라, 질의 등은, 컴퓨팅 장치에 포함되 는 소정의 입출력 장치(예컨대, 마이크, 키보드, 마우스, 터치패드, 터치패널 등)를 통해, 사용자로부터 수신될 수도 있다. 다음으로, 퓨-샷 프롬프팅을 위한 샘플링이 수행된다(S120). 샘플링은 컴퓨팅 장치에 미리 저장되어 있는 예시 들(예제들, 문장들, 또는 단어들) 중 적어도 하나를 선택하는 동작을 의미할 수 있다. 질의 등에 대한 거대 언어 모델의 응답이 생성된다(S130). 사용자의 질의를 거대 언어 모델에 입력함으로써 질 의 등에 대한 응답이 생성될 수 있다. 거대 언어 모델의 경우, 컴퓨팅 장치에 저장되어 있을 수 있다. 다른 예 로, 거대 언어 모델 자체가 컴퓨팅 장치에 저장되어 있지 않는 경우, 질의 등을 거대 언어 모델 서비스를 제공 하는 서버로 전송하고, 이에 대한 응답을 수신하는 것도 가능하다. 응답은 퓨-샷 프롬프팅을 이용하여 복수개가 생성될 수 있다. 이때, 질의 등과 함께 적어도 하나의 샘플링된 예 시가 함께 거대 언어 모델에 입력될 수 있다. 샘플링된 예시는 복수개가 있을 수 있고, 이에 따라, 복수의 샘플 링된 예시들 각각과 질의에 대응하는 복수의 응답이 생성될 수 있다. 하나의 응답을 생성하기 위해서, 복수의 샘플링된 예시들이 입력될 수도 있다. 다른 예로, 복수의 샘플링된 예시들의 순서를 바꾸어 입력으로 입력함으 로써 복수의 응답을 생성하는 것도 가능하다. 응답들 각각에 대한 임베딩 벡터(embedding vector)가 생성된다(S140). 특징 벡터(feature vector)로 명명될 수도 있는 임베딩 벡터는 소정의 임베딩 모델(예컨대, 사전 학습된 BERT 모델, 워드2벡터(Word2Vec) 모델 등)을 이용하여 생성될 수 있다. 거대 언어 모델의 응답에 대한 불확실성이 산출된다(S150). 불확실성은 임베딩 벡터들 간의 유사도(또는 거리) 에 기초하여 산출될 수 있다. 이를 위해, 임베딩 벡터들 간의 거리(유클리드 거리, 코사인 거리 등)가 계산되고, 계산된 거리들의 평균이나 총합에 기초하여 불확실성이 도출된다. 예시적으로, 평균이나 총합에 소정 의 가중치나 미리 정해진 상수를 곱하거나 더한 값을 불확실성의 척도로써 도출할 수 있다. 실시예에 따라, 산출된 불확실성을 미리 정해진 적어도 하나의 임계치와 비교하고, 비교 결과를 불확실성의 정 도로 산출할 수 있다. 예시적으로, 산출된 불확실성이 제1 임계치 보다 큰 경우 응답은 높은 불확실성을 갖는 것으로, 산출된 불확실성이 제1 임계치 보다는 작으나 제2 임계치(제2 임계치는 제1 임계치 보다 작은 값을 갖 음) 보다는 큰 경우 보통의 불확실성을 갖는 것으로, 산출된 불확실성이 제2 임계치 보다 작은 경우 낮은 불확 실성을 갖는 것으로 판단될 수 있다. 산출된 불확실성 또는 이에 대한 정보는 사용자에게 제공될 수 있다. 정보는 컴퓨팅 장치에 포함되는 소정의 출 력 장치(예컨대, 스피커, 모니터 등)를 통해 출력되거나, 사용자 단말로 전송될 수 있다. 이하에서는, 거대 언어 모델로부터 불확실성을 추정하는 방법으로써, 특수한 도메인에서 활용될 수 있는 기법을 소개한다. 또한, 불확실성이 추정되면, 명확한 입력과 불명확한 입력을 구분할 수 있다. 또한, 본 발명에서는 불명확한 명령의 실행 불가능성을 체크하기 위한 제로-샷 접근법을 소개한다. 이를 통해, 모호한 명령과 실행 불가능한 명령으로 구분할 수 있다. 모호한 입력으로 추정된 입력에 대하여, 제로-샷 기법으로 명확화하는 기법 을 제안한다. 이하에선, 설명되는 단계들 중 적어도 일부는 앞서 설명한 컴퓨팅 장치에 의해 수행되는 단계를 의미할 수 있다. 문제 공식화(Problem Formulation) 본 발명에서는, 불명확한(또는 불확실한) 사용자 명령을 포착하고 분류하는 방법을 제안한다. 고레벨의 목표 명 령은 태스크를 적절하게 수행할 정도로 명확하지 않을 수 있음을 가정한다. 이는, 사용자로부터의 상황 이해 (situational understanding)의 부족으로 인하여, 모호하거나 실행 불가능한 목표일 수 있다. 본 발명의 목표는 거대 언어 모델의 예측이나 추론(LLM's predictions)의 불확실성을 추정하는 것이다. 그런 다음, 불확실한 목적 의 유형(예컨대, 모호 또는 실행 불가능)을 예측한다. 목표가 실현 가능하지만 모호한 경우, 추가적인 정보를 수집하기 위해 사용자를 위한 질의를 생성함으로써 명령을 명화화할 수 있다. 시스템의 입력은 고레벨 목표(xg) 와 퓨-샷 컨택스트(c)가 따르는 현장 묘사(또는 장면 묘사, scene description)이다. 현장 묘사란, 예컨대, 임 의의 로봇이 관찰할 수 있는 현장에 대한 표사로써, 현장에 존재하고 있는 물체들(예컨대, 빵, 커피, 물 등)에 대한 정보를 포함할 수 있다. LLM은 불확실성(σ)을 갖고 용이하게 로봇의 행위(robotic action)로 해석될 수 있는 저레벨 숏-호라이즌 스킬(low-level short-horizon skills, ys)을 생성하거나 테스트(ye)를 통해 불확실성 의 설명(explanation)을 생성한다. 거대 언어 모델의 불확실성 추정(Uncertainty Estimation of LLM) 이하에서는, 거대 언어 모델(LLM)의 불확실성을 추정하는 방법에 대해 설명한다. 제안하는 방법은 추가적인 학 습 없이 사전학습된(pre-trained) 거대 언어 모델에 적용 가능하며, 모델 가중치(model weights)나 토큰 확률(token probabilities)에 대한 평가(assessing)가 가능하지 않더라도 이용 가능하다. 예컨대, 상용화된 ChatGPT나 GPT4 등에도 활용 가능하다. 불확실한 상태(uncertain conditions)에서 LLM이 보다 다양한 출력을 생성하게 하기 위하여 문맥 샘플링(context sampling)을 수행한다. 본 발명에서는, 입력에서의 확실성 (certainty)의 레벨(level)은, 상이한 문맥을 거쳐, LLM의 예측의 안정성(stability)과 일관성(consistency)에 영향을 미치는 것으로 가정한다. 문맥(예시로써, 적어도 하나의 문장, 질의와 문장 상 등을 의미할 수 있음)에 대한 샘플링을 가능케 하기 위하여, 문맥 집합(context set) C로부터 임의의 k 문맥들을 선택하고, 현장 묘사 내의 요소들(현장에 포함되는 물체들을 의미할 수 있음)의 순서를 섞는다(shuffle). 여기서, 현장(또는 장면)이 라 함은 로봇이 인지하고 있는 주변 환경을 나타내며 이미지로써 표현될 수 있다. 또한, 현장 묘사라 함은 장면 내에 존재하는 객체들(객체를 식별할 수 있는 정보로써, 색, 모양, 명칭 등을 의미할 수 있음)을 의미할 수 있 다. 현재의 LLM은 최신 경향에 취약하고 프로프트(prompts)의 변동(variation)에 대한 강건성(robustness)이 부족하기 때문에, 문맥 샘플링은 불확실한 입력에서의 비일관성(inconsistency)을 강화하는 효과적인 방법이다. [수학식 1]"}
{"patent_id": "10-2023-0107606", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "수학식 1에서, 이고, 는, 샘플링된 문맥 을 포함하는, 샘플들의 개수이고, 이다. 또한, g는, 임베딩 공간(embedding space)으로의, 단어 또는 문장을 위한 맵핑 함수 (mapping function)로 정의한다. 특히, 생성된 저레벨 지시(low-level instruction)의 템플릿(template)을 차 감하고 키워드에 대한 워드투벡터 임베딩(Word2Vec embedding or word-to-vec embedding)을 이용한다. 추가로, 거대 언어 모델(LLM)이 불확실성을 인지하도록 하는 프롬프팅(prompting)은 구체적인 불확실성에 대한 정량(quantification)을 가능케 하는 것으로 가정한다. 목적 입력의 시작점에 \"Considering ambiguity of a goal, [xg]\"와 같은 프롬프트를 생성한다. 불확실성 인지 프롬프팅이라 지칭될 수 있는 이러한 접근법은 거대 언어 모델이 주어진 목표와 관련된 불확실성을 인지하고 중시하도록 독려한다. 상황 인지를 통한 분류와 명확화(Classification with Situational Awareness and Disambiguation) 불확실성의 정량화는 오직 주어진 명령이 명확한지 아닌지만을 결정할 수 있기 때문에, 본 발명에서는 불확실성 을 분석하고 설명하는 방법을 제안한다. 제안하는 방법은 3 파트, 즉 실행 가능성 체크(feasibility check), 이 유 생성(reason generation), 및 질의 생성(question generation)으로 구성된다. 거대 언어 모델(LLMs)의 제로 -샷 추론 능력을 이용하여, LLM을 이러한 구성들 각각에 대한 응답을 생성하도록 이용할 수 있다. 로봇의 액션 을 생성하기 위해서 제안하는 방법이 퓨-샷 프롬프트(few-shot prompts)을 요하지만, 본 발명에서는, 프롬프트 는 이러한 진전을 포함하지 않기 때문에, 이를 분류 및 명확화 제로-샷이라고 명명한다. 우선, 상황 인지와 관련하여 목적(goal)의 실행 가능성에 억세스하기 위한 실행 가능성 체크를 수행한다. 장면 묘사로 구성된 프롬프트로, \"I am a [robot type] robot. Considering the action set, can I [xg]?\"와 같이 프롬프트의 마지막 라인을 생성함으로써, 실행 가능성 체크에 대한 상황 인지를 채용할 수 있다. 또한, 명령을 실행하는 로봇의 유형(type, 예컨대, 청소 로봇, 요리 로봇, 마사지 로봇 등)이 모델의 입력으로 주어진다. 생 된 응답으로, 키워드에 기초하여 실행 불가능성과 모호로부터 명령을 구분하기 위하여, 휴리스틱 파서 (heuristic parser)를 이용할 수 있다. 로봇이 태스크를 수행할 수 있는 것으로 여겨지면, 불확실성에 대한 이 유를 생성하고 추가적인 정보를 수집하기 위해 사용자에 대한 질의를 부가함으로써, 명확화를 수행한다. 다시, 이유와 질의 생성은 제로-샷 접근법으로 프롬프팅을 통해 수행된다. 불확실성에 대한 이유와 질의 생성은, \"This code is uncertain because\"와 \"What can I ask the user? Please \"와 같은 프롬프트를 생성함으로써, 수행된다. 이상에서 설명된 장치는 하드웨어 구성 요소, 소프트웨어 구성 요소, 및/또는 하드웨어 구성 요소 및 소프트웨 어 구성 요소의 집합으로 구현될 수 있다. 예를 들어, 실시예들에서 설명된 장치 및 구성 요소는, 예를 들어, 프로세서, 콘트롤러, ALU(Arithmetic Logic Unit), 디지털 신호 프로세서(Digital Signal Processor), 마이크 로컴퓨터, FPA(Field Programmable array), PLU(Programmable Logic Unit), 마이크로프로세서, 또는 명령 (instruction)을 실행하고 응답할 수 있는 다른 어떠한 장치와 같이, 하나 이상의 범용 컴퓨터 또는 특수 목적 컴퓨터를 이용하여 구현될 수 있다. 처리 장치는 운영 체제(Operation System, OS) 및 상기 운영 체제 상에서 수행되는 하나 이상의 소프트웨어 애플리케이션을 수행할 수 있다. 또한, 처리 장치는 소프트웨어의 실행에 응답하여, 데이터를 접근, 저장, 조작, 처리 및 생성할 수도 있다. 이해의 편의를 위하여, 처리 장치는 하나가 사 용되는 것으로 설명된 경우도 있지만, 해당 기술 분야에서 통상의 지식을 가진 자는, 처리 장치가 복수 개의 처 리 요소(Processing Element) 및/또는 복수 유형의 처리 요소를 포함할 수 있음을 알 수 있다. 예를 들어, 처리 장치는 복수 개의 프로세서 또는 하나의 프로세서 및 하나의 콘트롤러를 포함할 수 있다. 또한, 병렬 프로세서 (Parallel Processor)와 같은, 다른 처리 구성(Processing Configuration)도 가능하다. 소프트웨어는 컴퓨터 프로그램(Computer Program), 코드(Code), 명령(Instruction), 또는 이들 중 하나 이상의 조합을 포함할 수 있으며, 원하는 대로 동작하도록 처리 장치를 구성하거나 독립적으로 또는 결합적으로 (Collectively) 처리 장치를 명령할 수 있다. 소프트웨어 및/또는 데이터는, 처리 장치에 의하여 해석되거나 처 리 장치에 명령 또는 데이터를 제공하기 위하여, 어떤 유형의 기계, 구성 요소(Component), 물리적 장치, 가상 장치(Virtual Equipment), 컴퓨터 저장 매체 또는 장치, 또는 전송되는 신호 파(Signal Wave)에 영구적으로, 또는 일시적으로 구체화(Embody)될 수 있다. 소프트웨어는 네트워크로 연결된 컴퓨터 시스템 상에 분산되어서, 분산된 방법으로 저장되거나 실행될 수도 있다. 소프트웨어 및 데이터는 하나 이상의 컴퓨터 판독 가능 기록 매 체에 저장될 수 있다. 실시예에 따른 방법은 다양한 컴퓨터 수단을 통하여 수행될 수 있는 프로그램 명령 형태로 구현되어 컴퓨터 판 독 가능 매체에 기록될 수 있다. 상기 컴퓨터 판독 가능 매체는 프로그램 명령, 데이터 파일, 데이터 구조 등을 단독으로 또는 조합하여 포함할 수 있다. 상기 매체에 기록되는 프로그램 명령은 실시예를 위하여 특별히 설계 되고 구성된 것들이거나 컴퓨터 소프트웨어 당업자에게 공지되어 사용 가능한 것일 수도 있다. 컴퓨터 판독 가 능 기록 매체의 예에는 하드 디스크, 플로피 디스크 및 자기 테이프와 같은 자기 매체(Magnetic Media), CD- ROM, DVD와 같은 광기록 매체(Optical Media), 플롭티컬 디스크(Floptical Disk)와 같은 자기-광 매체 (Magneto-optical Media), 롬(ROM), 램(RAM), 플래시 메모리 등과 같은 프로그램 명령을 저장하고 수행하도록 특별히 구성된 하드웨어 장치가 포함된다. 프로그램 명령의 예에는 컴파일러에 의해 만들어지는 것과 같은 기계 어 코드뿐만 아니라 인터프리터 등을 사용해서 컴퓨터에 의해서 실행될 수 있는 고급 언어 코드를 포함한다. 상 기된 하드웨어 장치는 실시예의 동작을 수행하기 위해 하나 이상의 소프트웨어 모듈로서 작동하도록 구성될 수 있으며, 그 역도 마찬가지이다. 본 발명은 도면에 도시된 실시예를 참고로 설명되었으나 이는 예시적인 것에 불과하며, 본 기술 분야의 통상의 지식을 가진 자라면 이로부터 다양한 변형 및 균등한 타 실시예가 가능하다는 점을 이해할 것이다. 예를 들어, 설명된 기술들이 설명된 방법과 다른 순서로 수행되거나, 및/또는 설명된 시스템, 구조, 장치, 회로 등의 구성 요소들이 설명된 방법과 다른 형태로 결합 또는 조합되거나, 다른 구성 요소 또는 균등물에 의하여 대치되거나 치환되더라도 적절한 결과가 달성될 수 있다. 따라서, 본 발명의 진정한 기술적 보호 범위는 첨부된 등록청구범 위의 기술적 사상에 의해 정해져야 할 것이다.도면 도면1"}
{"patent_id": "10-2023-0107606", "section": "도면", "subsection": "도면설명", "item": 1, "content": "본 발명의 상세한 설명에서 인용되는 도면을 보다 충분히 이해하기 위하여 각 도면의 상세한 설명이 제공된다. 도 1은 본 발명의 일 실시예에 따른 거대 언어 모델의 불확실성 추정 방법을 설명하기 위한 흐름도이다."}
