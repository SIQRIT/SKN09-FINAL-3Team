{"patent_id": "10-2023-0094024", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0068523", "출원번호": "10-2023-0094024", "발명의 명칭": "RGB 카메라를 이용한 조직내 산소 모니터링 방법 및 장치", "출원인": "한국전기연구원", "발명자": "장민혜"}}
{"patent_id": "10-2023-0094024", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "RGB 카메라를 이용한 조직내 산소 모니터링 장치로서,생체조직을 동시에 촬영한 초분광 영상 및 제1 RGB 영상을 획득하고, 상기 초분광 영상을 분석하여 2차원 산소포화도 영상을 추출하여, 상기 제1 RGB 영상을 입력 데이터로 하고 상기 2차원 산소포화도 영상을 그라운드 트루스(ground truth)로 하는 훈련 데이터셋을 생성하는 훈련 데이터 생성부;상기 훈련 데이터셋을 이용하여, 상기 제1 RGB 영상으로부터 대응하는 2차원 산소포화도 영상을 생성하도록 인공신경망 모델을 훈련하는 훈련부; 및 상기 인공신경망 모델을 이용하여 대상 생체조직을 촬영한 RGB 영상으로부터 대응하는 산소포화도 영상을 출력하는 예측부를 포함하는 장치."}
{"patent_id": "10-2023-0094024", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1 항에 있어서,상기 훈련 데이터 생성부는,상기 초분광 영상 및 상기 제1 RGB 영상에 대해 영상 정합을 수행하는, 장치."}
{"patent_id": "10-2023-0094024", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1 항에 있어서,상기 훈련 데이터 생성부는,상기 초분광 영상 및 상기 제1 RGB 영상에 대해 상기 생체조직의 타겟영역을 설정하고 상기 타겟영역을 마스킹(masking)하는, 장치."}
{"patent_id": "10-2023-0094024", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1 항에 있어서,상기 훈련 데이터 생성부는,상기 초분광 영상에 포함된 옥시헤모글로빈과 디옥시헤모글로빈의 흡광도 차이가 나는 둘 이상의 파장대역에서의 흡광도 차이에 기초하여 상기 2차원 산소포화도 영상을 추출하는, 장치."}
{"patent_id": "10-2023-0094024", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1 항에 있어서,상기 훈련 데이터 생성부는,상기 초분광 영상으로부터 추출한 제2 RGB 영상을 상기 입력 데이터에 추가하여 상기 훈련 데이터셋을 증강시키는, 장치."}
{"patent_id": "10-2023-0094024", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1 항에 있어서,상기 인공신경망 모델은,생성 모델(generative model)로서, paired image-to-image translation 모델 또는 unpaired image-to-image공개특허 10-2024-0068523-3-translation 모델을 포함하는, 장치."}
{"patent_id": "10-2023-0094024", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "RGB 카메라를 이용한 조직내 산소 모니터링 장치에 의해 수행되는 방법으로서,생체조직을 동시에 촬영한 초분광 영상 및 제1 RGB 영상을 획득하고, 상기 초분광 영상을 분석하여 2차원 산소포화도 영상을 추출하여, 상기 제1 RGB 영상을 입력 데이터로 하고 상기 2차원 산소포화도 영상을 그라운드 트루스(ground truth)로 하는 훈련 데이터셋을 생성하는 과정; 및 상기 훈련 데이터셋을 이용하여, 상기 제1 RGB 영상으로부터 대응하는 산소포화도 영상을 생성하도록 인공신경망 모델을 훈련하는 과정을 포함하는 방법."}
{"patent_id": "10-2023-0094024", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7 항에 있어서,RGB 카메라를 이용하여 대상 생체조직을 촬영한 RGB 영상을 획득하는 과정; 및 상기 인공신경망 모델을 이용하여 상기 RGB 영상으로부터 대응하는 산소포화도 영상을 출력하는 과정을 더 포함하는, 방법."}
{"patent_id": "10-2023-0094024", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제7 항에 있어서,상기 훈련 데이터셋을 생성하는 과정은,상기 초분광 영상 및 상기 제1 RGB 영상에 대해 영상 정합을 수행하는 과정을 더 포함하는, 방법."}
{"patent_id": "10-2023-0094024", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제7 항에 있어서,상기 훈련 데이터셋을 생성하는 과정은,상기 초분광 영상 및 상기 제1 RGB 영상에 대해 상기 생체조직의 타겟영역을 설정하고 상기 타겟영역을 마스킹(masking)하는 과정을 더 포함하는, 방법."}
{"patent_id": "10-2023-0094024", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제7 항에 있어서,상기 훈련 데이터셋을 생성하는 과정은,상기 초분광 영상에 포함된 옥시헤모글로빈과 디옥시헤모글로빈의 흡광도 차이가 나는 둘 이상의 파장대역에서의 흡광도 차이에 기초하여 상기 2차원 산소포화도 영상을 추출하는, 방법."}
{"patent_id": "10-2023-0094024", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제7 항에 있어서,상기 훈련 데이터셋을 생성하는 과정은,상기 초분광 영상으로부터 추출한 제3 RGB 영상을 상기 입력 데이터에 추가하여 상기 훈련 데이터셋을 증강시키는 과정을 더 포함하는, 방법."}
{"patent_id": "10-2023-0094024", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제7 항에 있어서,상기 인공신경망 모델은,생성 모델(generative model)로서, paired image-to-image translation 모델 또는 unpaired image-to-image공개특허 10-2024-0068523-4-translation 모델을 포함하는, 방법."}
{"patent_id": "10-2023-0094024", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "RGB 카메라를 이용한 조직내 산소 모니터링 방법 및 장치를 개시한다. 본 개시의 일 측면에 의하면, RGB 카메라를 이용한 조직내 산소 모니터링 장치로서, 생체조직을 동시에 촬영한 초분광 영상 및 제1 RGB 영상을 획득하고, 상기 초분광 영상을 분석하여 2차원 산소포화도 영상을 추출하여, 상 기 제1 RGB 영상을 입력 데이터로 하고 상기 2차원 산소포화도 영상을 그라운드 트루스(ground truth)로 하는 훈 련 데이터셋을 생성하는 훈련 데이터 생성부; 상기 훈련 데이터셋을 이용하여, 상기 제1 RGB 영상으로부터 대응 하는 2차원 산소포화도 영상을 생성하도록 인공신경망 모델을 훈련하는 훈련부; 및 상기 인공신경망 모델을 이용 하여 대상 생체조직을 촬영한 RGB 영상으로부터 대응하는 산소포화도 영상을 출력하는 예측부를 포함하는 장치를 제공한다."}
{"patent_id": "10-2023-0094024", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 개시는 RGB 카메라를 이용한 조직내 산소 모니터링 방법 및 장치에 관한 것이다. 보다 상세하게는, RGB 영상 이 입력되면 2차원 조직 산소 정보를 예측할 수 있는 인공지능 모델을 이용하여 조직내 산소에 대한 정보를 모 니터링하는 방법 및 장치에 관한 것이다."}
{"patent_id": "10-2023-0094024", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "이하에 기술되는 내용은 단순히 본 실시예와 관련되는 배경 정보만을 제공할 뿐 종래기술을 구성하는 것이 아니 다. 산소포화도(oxygen saturation)는 혈액 내 산소 농도를 나타내는 지표로, 다양한 의학적 상황에서 중요한 지표 로 이용된다. 비침습적으로(non-invasive) 산소포화도를 측정하는 일반적인 방법은 저렴하고 간편한 펄스 옥시미터(pulse oximeter)를 이용하는 것이다. 펄스 옥시미터는 적외선과 붉은 계열 가시광선인 두 파장 대역에서 옥시헤모글로 빈(Oxyhemoglobin)과 디옥시헤모글로빈(Deoxyhemoglobin)의 흡광도가 다름을 이용한다. 박동하는 혈액에 의해 만들어지는 파동 형태를 흡광기술을 이용하여 혈량 변동 파형으로 재현시켜 그 주기를 계산하고 맥박을 측정하 는 방식이다. 그러나 이러한 방식은 광원과 광검출부로 구성된 센서를 측정 위치에 접촉시켜야 하고, 획득한 산 소포화도의 값은 측정 위치에 대한 1차원의 값으로 나타난다. 펄스 옥시미터를 이용한 방식은 일반 임상에서는 충분하지만, 혈관 계통 손상(의심) 환자에 대해서 적용하기는 어려운 점이 있다. 예를 들면, 당뇨병성 족부 궤양 환자, 말초혈관 질환 및 사지 허혈 등 혈관 계통 환자는 그 증상이 피부 표면에서 2차원으로 넓게 나타나기 때문에 공간 정보가 포함된 조직 산소량 측정이 필요하다. 또한, 손상된 부위에 대하여 측정을 수행하여야 하므로 비접촉 방식의 측정방법이 바람직하다. 이러한 점을 고 려하면 접촉방식으로 1차원의 측정값을 획득하는 펄스 옥시미터 방식은 불충분하다. 초분광 영상을 이용한 비침습적 표면 조직 산소량 측정(Non-Invasive oxygen measurement in superficial tissue with hyperspectral imager)은 혈관 계통 환자를 대상으로 표면 조직의 산소량 수준을 분광분석법으로 측정하고, 이를 기반으로 혈관질환의 진단 및 치료 효과를 모니터링하는 기술이다. 파장 분해능이 높은 초분광 영상 특성상 옥시헤모글로빈과 디옥시헤모글로빈의 흡광도 차이를 더 섬세하게 구분할 수 있을 것으로 기대된다. 또한, 초분광 이미징은 카메라를 이용하여 2차원 영상 정보를 얻기 때문에 비접촉 방식으로 넓은 영 역의 정보를 동시에 획득하는 것이 가능하다. 그러나 초분광 이미징 시스템의 가격이 높고 부피가 커서 일반 사 용자들이 일상에서 이용하기에는 한계가 있다. 최근 RGB 카메라를 이용하여 생체 정보를 측정하는 기술들이 연구되고 있다. 특히, RGB 카메라 기반 기술은 가 격이 저렴하고 시스템이 단순하며, 센서 접촉이 필요 없어 일상에서 활용도가 높은 디지털 헬스케어 기술로 각 광받고 있다. 다만, 스펙트럼 분해능이 낮아 높은 정확도의 풍부한 정보를 획득하는 데에는 무리가 있다."}
{"patent_id": "10-2023-0094024", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 개시는, 인공신경망 모델을 이용하여 생체조직을 촬영한 RGB 영상으로부터 대응하는 2차원 조직 산소 정보를 예측하는 방법 및 장치를 제공하는 것을 주된 목적으로 한다. 본 개시는, 초분광 영상을 분석하여 추출한 높은 정확도의 2차원 조직 산소 정보를 이용하여 훈련 데이터셋을 구축하고 인공신경망 모델을 훈련하는 것을 목적으로 한다. 본 발명이 해결하고자 하는 과제들은 이상에서 언급한 과제들로 제한되지 않으며, 언급되지 않은 또 다른 과제 들은 아래의 기재로부터 통상의 기술자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2023-0094024", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 개시의 일 측면에 의하면, RGB 카메라를 이용한 조직내 산소 모니터링 장치로서, 생체조직을 동시에 촬영한 초분광 영상 및 제1 RGB 영상을 획득하고, 상기 초분광 영상을 분석하여 2차원 산소포화도 영상을 추출하여, 상 기 제1 RGB 영상을 입력 데이터로 하고 상기 2차원 산소포화도 영상을 그라운드 트루스(ground truth)로 하는 훈련 데이터셋을 생성하는 훈련 데이터 생성부; 상기 훈련 데이터셋을 이용하여, 상기 제1 RGB 영상으로부터 대 응하는 2차원 산소포화도 영상을 생성하도록 인공신경망 모델을 훈련하는 훈련부; 및 상기 인공신경망 모델을 이용하여 대상 생체조직을 촬영한 RGB 영상으로부터 대응하는 산소포화도 영상을 출력하는 예측부를 포함하는 장치를 제공한다. 본 개시의 다른 측면에 의하면, RGB 카메라를 이용한 조직내 산소 모니터링 장치에 의해 수행되는 방법으로서, 생체조직을 동시에 촬영한 초분광 영상 및 제1 RGB 영상을 획득하고, 상기 초분광 영상을 분석하여 2차원 산소 포화도 영상을 추출하여, 상기 제1 RGB 영상을 입력 데이터로 하고 상기 2차원 산소포화도 영상을 그라운드 트 루스(ground truth)로 하는 훈련 데이터셋을 생성하는 과정; 및 상기 훈련 데이터셋을 이용하여, 상기 제1 RGB 영상으로부터 대응하는 산소포화도 영상을 생성하도록 인공신경망 모델을 훈련하는 과정을 포함하는 방법을 제 공한다."}
{"patent_id": "10-2023-0094024", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 개시의 실시예에 따르면, 간단하고 저렴한 장비를 이용하여 비침습 및 비접촉 방식으로 생체조직에 대한 높 은 정확도의 2차원 조직 산소 정보를 획득할 수 있는 효과가 있다."}
{"patent_id": "10-2023-0094024", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 본 개시의 일부 실시예들을 예시적인 도면을 이용해 상세하게 설명한다. 각 도면의 구성 요소들에 참조 부호를 부가함에 있어서, 동일한 구성 요소들에 대해서는 비록 다른 도면 상에 표시되더라도 가능한 한 동일한 부호를 가지도록 하고 있음에 유의해야 한다. 또한, 본 개시를 설명함에 있어, 관련된 공지 구성 또는 기능에 대한 구체적인 설명이 본 개시의 요지를 흐릴 수 있다고 판단되는 경우에는 그 상세한 설명은 생략한다. 본 개시에 따른 실시예의 구성요소를 설명하는 데 있어서, 제1, 제2, i), ii), a), b) 등의 부호를 사용할 수 있다. 이러한 부호는 그 구성요소를 다른 구성 요소와 구별하기 위한 것일 뿐, 그 부호에 의해 해당 구성요소의 본질 또는 차례나 순서 등이 한정되지 않는다. 명세서에서 어떤 부분이 어떤 구성요소를 '포함' 또는 '구비'한 다고 할 때, 이는 명시적으로 반대되는 기재가 없는 한 다른 구성요소를 제외하는 것이 아니라 다른 구성요소를 더 포함할 수 있는 것을 의미한다. 또한 명세서에 기재된 '부', '모듈' 등의 용어는 적어도 하나의 기능이나 동 작을 처리하는 단위를 의미하며, 이는 하드웨어나 소프트웨어 또는 하드웨어 및 소프트웨어의 결합으로 구현될 수 있다.첨부된 도면과 함께 이하에 개시될 발명의 설명은 본 발명의 예시적인 실시 형태를 설명하고자 하는 것이며, 본 발명이 실시될 수 있는 유일한 실시 형태를 나타내고자 하는 것이 아니다. 조직 관류(tissue perfusion)는 혈액 순환계를 통해 혈액이 조직에 이르는 과정을 의미하며, 이 과정에서 혈액 에서 조직으로 산소, 수분, 영양분 등이 전달된다. 조직 관류를 모니터링함으로써 혈액 순환을 간접적으로 평가 할 수 있으며, 주로 조직 내 산소화 지표를 이용한다. 조직 내 산소화 지표로는 옥시/디옥시 헤모글로빈 농도에 기반한 산소포화도 값이 대표적인데, 그 정의는 수학식 1과 같다. 수학식 1"}
{"patent_id": "10-2023-0094024", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "여기서, SO2는 산소포화도이고, cHbO는 옥시헤모글로빈의 몰 농도이고, cHbR은 디옥시헤모글로빈의 몰 농도이다. 본 개시는, 인공신경망 모델을 이용하여 생체조직을 촬영한 RGB 영상으로부터 2차원 조직 산소 정보를 예측하는 방법 및 장치에 관한 것이다. 여기서, 2차원 조직 산소 정보는 생체조직 내 산소포화도를 표현하는 2차원 산소 포화도 영상을 말한다. 도 1은 본 개시의 일 실시예에 따른 RGB 카메라를 이용한 조직내 산소 모니터링 장치(이하 '모니터링 장치')의 구성도이다. 도 1을 참조하면, 모니터링 장치는 훈련 데이터 생성부(training data generator, 100), 훈련부(training unit, 120) 및 예측부(prediction unit, 140)를 포함한다. 훈련 데이터 생성부는 생체조직을 촬영한 초분광 영상 및 RGB 영상을 이용하여 인공지능 모델의 훈련 데이 터셋을 생성한다. 여기서, 훈련 데이터셋은 RGB 영상을 입력 데이터로 하고 초분광 영상을 분석하여 추출한 2차 원 산소포화도 영상을 그라운드 트루스(ground truth) 데이터로 하여 구성된다. 도 2 내지 도 6을 함께 참조하 여 훈련 데이터 생성부를 설명한다. 도 2는 훈련 데이터 생성부의 동작 과정을 설명하기 위한 도면이다. 도 2를 참조하면, 훈련 데이터 생성부는 생체조직을 동시에 촬영한 초분광 영상 및 RGB 영상을 획득한다. 여기서, 생체조직은 신체 피부 조직(예를 들어, 손, 발, 팔, 다리, 몸통 등)이나 장기, 지방 등을 포함할 수 있 다. 훈련 데이터셋 생성을 위해 초분광 영상 및 RGB 영상을 획득하는 과정의 일 실시예가 도 3에 도시되어 있다. 도 3을 참조하면, 초분광 카메라와 RGB 카메라를 나란히 위치시키고, 촬영 대상 생체조직은 초분광 카메라와 RGB 카메라 사이의 중앙에 위치시킨다. 카메라 축의 차이에 따른 오차를 줄이기 위해 촬영 시 두 카메라의 상대 적 위치를 고정하고 유지시킨다. 또한, 조직 산소량은 시간에 따라 변할 수 있으므로 가능한 한 동시에 생체조 직을 촬영한다. 초분광 카메라는 생체조직에서 반사된 가시광선 대역 및 근적외선 대역의 광을 감지하여 복수 밴드의 초분광 큐 브 내지 초분광 영상을 생성한다. 초분광 카메라는 가시광선 파장 대역 및 근적외선 파장 대역의 광을 받아들이 는 적어도 하나의 이미지 센서를 포함할 수 있다. 초분광 영상은 이미지 픽셀마다 세분화된 대역의 스펙트럼 정 보를 얻어 특정 대상이나 물질을 더욱 쉽게 식별하고 발견할 수 있게 한다. 예를 들어, 초분광 영상은 파장 대 역이 10 nm 전후의 대역폭으로 나눠진 수백 장의 영상 시퀀스로 구성된 초분광 큐브로 획득될 수 있으며, 이를 통해 파장 분해능을 향상시켜 보다 정밀한 스펙트럴 정보를 획득할 수 있다. 초분광 카메라에 의해 획득된 초분광 영상 중 옥시헤모글로빈과 디옥시헤모글로빈의 흡광도 차이가 큰 가시광선 영역과 근적외선 영역의 초분광 데이터가 후술할 2차원 산소포화도 영상 생성을 위해 사용될 수 있다. 여기서, 가시광선 영역은 500nm ~ 600nm 파장 대역 또는 그 대역의 부분집합(subset)이 될 수 있고, 근적외선 영역은 700nm ~ 800 nm 파장 대역 또는 그 대역의 부분집합이 될 수 있다. 훈련 데이터 생성부는 획득한 초분광 영상 및 RGB 영상에 대해 전처리 과정을 수행할 수 있다. 전처리 과 정은 영상 정합(image registration), 데이터 증강(data augmentation), 마스킹(masking), 리사이징 (resizing), 보간(interpolation) 등을 포함할 수 있으나, 이에 한정되지 않는다. 훈련 데이터 생성부는 초분광 영상과 RGB 영상 간의 영상 정합을 수행할 수 있다. 초분광 카메라와 RGB 카 메라의 축이 서로 다르기 때문에 도 3에 도시된 바와 같이 초분광 영상과 RGB 영상이 정렬되어 있지 않으므로, 인공신경망 모델의 성능을 높이기 위해 영상 정합을 수행할 수 있다. 여기서, 영상 정합은 하나의 장면이나 대 상을 다른 시간이나 관점에서 촬영하여 서로 다른 좌표계에서 얻어진 영상들을 하나의 좌표계에 나타내는 처리 기법을 말한다. 영상 정합을 수행한 경우 인공신경망 모델로 Paired Image-to-Image Translation 모델(예를 들 어, Pix2Pix) 등이 사용될 수 있고, 영상 정합을 수행하지 않은 경우 인공신경망 모델로 Unpaired Image-to- Image Translation 모델(예를 들어, cycleGAN) 등이 이용될 수 있으나, 반드시 이에 한정되지 않는다. 훈련 데이터 생성부는 초분광 영상 및 RGB 영상에 대해 타겟영역을 설정하고 설정된 타겟영역을 마스킹 (masking)할 수 있다. 이는 타겟영역만 마스킹함으로써 그 외 부분에서 발생할 수 있는 노이즈를 제거하고 더 안정된 데이터만으로 인공신경망 모델의 훈련을 위한 데이터셋을 생성하기 위함이다. 예를 들어 손바닥의 조직 산소량을 측정하고 싶을 경우, 초분광 영상과 RGB 영상에서 손바닥 부분을 마스킹할 수 있다. 도 4는 손바닥을 포함하는 초분광 영상 및 RGB 영상에 대해 손바닥 부분을 마스킹한 결과를 예시한다. 도 4의 (a)는 손바닥을 포함하는 초분광 영상을, 도 4의 (b)는 초분광 영상에서 손바닥 부분을 마스킹한 영상을, 도 4 의 (c)는 초분광 영상으로부터 구한 2차원 산소포화도 영상을, 도 4의 (d)는 2차원 산소포화도 영상에서 손바닥 부분을 마스킹한 영상을 각각 도시한다. 도 4의 (c)와 같이 손바닥 부분을 마스킹하지 않은 2차원 산소포화도 영상을 인공신경망 모델의 훈련에 사용하면 손바닥이 아닌 부분에서 발생하는 많은 노이즈 값들이 인공신경망 모델의 훈련을 방해할 수 있다. 즉, 인공신경망 모델의 성능을 높이기 위해, 도 4의 (d)와 같이 손바닥 부분을 마스킹한 2차원 산소포화도 영상을 인공신경망 모델의 훈련에 사용할 수 있다. 훈련 데이터 생성부는 초분광 영상으로부터 추출한 RGB 영상을 입력 데이터로 훈련 데이터셋에 추가하여 데이터 증강을 수행할 수 있다. 초분광 영상으로부터 추출한 RGB 영상은, 초분광 영상과 정렬(alignment)되어 있으므로 전술한 영상 정합을 수행하지 않은 경우에도 인공신경망 모델의 성능을 향상시키는 데 도움이 된다. 도 5를 참조하면, 도 5의 (a)는 생체조직을 촬영한 초분광 영상을, 도 5의 (b)는 생체조직을 촬영한 RGB 영상을, 도 5의 (c)는 생체조직을 촬영한 초분광 영상으로부터 추출한 RGB 영상을 각각 도시한다. 도 5에 도시 된 바와 같이 도 5의 (a)와 도 5의 (c)는 정렬되어 있음을 볼 수 있다. 훈련 데이터 생성부는 초분광 영상을 분석하여 2차원 산소포화도 영상을 추출한다. 여기서 2차원 산소포화 도 영상은 후술할 인공신경망 모델 훈련시 그라운드 트루스(ground truth) 영상으로 제공된다. 훈련 데이터 생성부는 2차원 산소포화도 영상을 추출하기 위해 변형된 비어-램버트 법칙(Modified Beer- Lambert law)에 기반한 광학적 모델을 이용할 수 있다. 훈련 데이터 생성부는 변형된 비어-램버트 법칙에 기반하여 생체조직 내 구성 물질들의 광학적 특성(산란(scattering), 흡수(absorption) 등)과 생체조직 내 빛의 이동 특성을 모델링하고, 해당 모델을 실험 데이터(측정값)에 맞추어(fitting) 2차원 산소포화도 영상을 추출할 수 있다. 훈련 데이터 생성부는 2차원 산소포화도 영상을 추출하기 위해 옥시헤모글로빈과 디옥시헤모글로빈의 흡광 도 차이를 이용할 수 있다. 훈련 데이터 생성부는 가시광 또는 근적외선 영역에서 옥시헤모글로빈과 디옥 시헤모글로빈의 흡광도가 크게 차이 나는 여러 파장 대역들의 흡광도 값을 이용하여 산소포화도를 계산하고 2차 원 산소포화도 영상을 추출할 수 있다. 이때, 여러 파장 대역에서 구한 흡광도 값들의 비에 대한 선형 모델을 만들거나, 또는 흡광도의 최소/최대 값 등을 이용한 비선형 모델을 만들 수 있다. 훈련 데이터 생성부는 RGB 영상 및 2차원 산소포화도 영상에 대해 크롭핑(cropping)을 수행할 수 있다. 이 는 초분광 카메라 및 RGB 카메라의 성능이나 위치에 따라 촬영된 조직에 대한 초분광 영상과 RGB 영상의 해상도 가 다를 수 있기 때문이다. 두 영상의 크기가 다를 경우 인공신경망 모델의 훈련을 위하여 영상을 크롭핑하는 전처리 과정이 필요할 수 있다. 예를 들어, 훈련 데이터 생성부는 RGB 영상 및 2차원 산소포화도 영상에서 해부학적 위치를 기반으로 하여 동일한 영역을 포함하도록 크롭핑할 수 있다. 이때 두 영상의 크기의 비를 일정하게 유지하여 크롭핑을 수행한 다. 본 개시의 일 실시예에 따른 RGB 영상 및 2차원 산소포화도 영상에 대해 크롭핑을 수행한 결과가 도 6에 도 시되어 있다. 훈련 데이터 생성부는 전술한 과정을 통해 획득한 RGB 영상을 입력 데이터로 하고 2차원 산소포화도 영상 을 그라운드 트루스(ground truth) 데이터로 하는 훈련 데이터셋을 생성한다. 생성된 훈련 데이터셋은 데이터베 이스 등에 저장될 수 있으나, 이에 한정되지 않는다. 훈련부는 생성된 훈련 데이터셋을 이용하여, RGB 영상으로부터 대응하는 2차원 산소포화도 영상을 생성하 도록 인공신경망 모델을 훈련한다. 인공신경망 모델은 생성 모델(generative model)로서 적대적 생성 신경망 (GAN, Generative Adversarial Network), 오토인코더(AE, AutoEndcoder), 제한된 볼츠만 머신(RBM, Restricted Boltzmann Machine), 생성적 확률 네트워크(GSN, Generative Stochastic Networks), 확산 모델(diffusion model) 등을 포함할 수 있다. 인공신경망 모델은 이미지 대 이미지 변환 작업(Image-to-Image Translation Task)을 학습하기 위한 생성 모델에 기반하여 구현될 수 있다. 예를 들어, 입력 데이터와 그라운드 트루스 데이 터 간의 영상 정합이 수행된 훈련 데이터셋을 이용하는 경우, Pix2Pix 등에 기반한 인공신경망 모델이 사용될 수 있다. 예를 들어, 입력 데이터와 그라운드 트루스 데이터 간의 영상 정합이 수행되지 않은 훈련 데이터셋을 이용하는 경우, cycleGAN 등에 기반한 인공신경망 모델이 사용될 수 있다. 예측부는 훈련된 인공신경망 모델을 이용하여 대상 생체조직을 촬영한 RGB 영상으로부터 대응하는 산소포 화도 영상을 출력한다. 예측부는 조직내 산소 정보를 모니터링하기 위하여 RGB 카메라를 이용하여 대상 생체조직을 촬영한 RGB 영 상을 획득한다. 예측부는 획득한 RGB 영상에 대해 전처리를 수행할 수 있다. 전처리는 인공신경망 모델의 입력에 적합하도 록 RGB 영상에 대한 리사이징, 스케일링, 보간 등의 과정을 포함할 수 있다. 예측부는 훈련부에 의해 훈련된 인공신경망 모델을 이용하여 RGB 영상으로부터 대응하는 산소포화도 영상을 출력한다. 도 7은 본 개시의 일 실시예에 따른 RGB 카메라를 이용한 조직내 산소 모니터링 장치에 의해 수행되는 인공신경 망 모델을 훈련하는 방법의 순서도이다. 도 7을 참조하면, 생체조직을 동시에 촬영한 초분광 영상 및 RGB 영상을 획득한다(S710). 조직 산소량은 시간에 따라 변할 수 있으므로 생체조직을 동시에 촬영하는 것이다. 초분광 영상 및 RGB 영상에 대해 전처리를 수행한다(S720). 이는 인공신경망 모델의 훈련 성능을 향상시키기 위함이다. 전처리 과정은 영상 정합, 데이터 증강, 마스킹, 리사이징 등을 포함할 수 있다. 초분광 영상을 분석하여 2차원 산소포화도 영상을 추출한다(S730). 예를 들어, 옥시헤모글로빈과 디옥시헤모글 로빈의 흡광도 차이가 나는 둘 이상의 파장 대역에서의 흡광도 차이에 기초하여 2차원 산소포화도 영상을 추출 할 수 있다. RGB 영상을 입력 데이터로 하고 2차원 산소포화도 영상을 그라운드 트루스(ground truth)로 하는 훈련 데이터셋 을 생성한다(S740). 훈련 데이터셋을 이용하여, RGB 영상으로부터 대응하는 2차원 산소포화도 영상을 생성하도록 인공신경망 모델을 훈련한다(S750). 도 8은 본 개시의 일 실시예에 따른 RGB 카메라를 이용한 조직내 산소 모니터링 장치에 의해 수행되는 조직내 산소 정보를 예측하는 방법의 순서도이다. 도 8을 참조하면, RGB 카메라를 이용하여 대상 생체조직을 촬영한 RGB 영상을 획득한다(S810). 대상 생체조직을 촬영한 RGB 영상에 대해 전처리를 수행할 수 있다(S820). 인공신경망 모델의 입력에 적합하도 록 RGB 영상에 대한 리사이징, 스케일링, 보간 등의 전처리 과정을 포함할 수 있다. 인공신경망 모델을 이용하여 대상 생체조직을 촬영한 RGB 영상으로부터 대응하는 산소포화도 영상을 출력한다 (S830). 출력된 산소포화도 영상을 이용하여 대상 생체조직 내 산소 정보를 모니터링할 수 있다. 본 발명에 따른 장치 또는 방법의 각 구성요소는 하드웨어 또는 소프트웨어로 구현되거나, 하드웨어 및 소프트 웨어의 결합으로 구현될 수 있다. 또한, 각 구성요소의 기능이 소프트웨어로 구현되고 마이크로프로세서가 각 구성요소에 대응하는 소프트웨어의 기능을 실행하도록 구현될 수도 있다. 본 명세서에 설명되는 시스템 및 기법들의 다양한 구현예들은, 디지털 전자 회로, 집적회로, FPGA(field programmable gate array), ASIC(application specific integrated circuit), 컴퓨터 하드웨어, 펌웨어, 소프트웨어, 및/또는 이들의 조합으로 실현될 수 있다. 이러한 다양한 구현예들은 프로그래밍가능 시스템 상에서 실 행 가능한 하나 이상의 컴퓨터 프로그램들로 구현되는 것을 포함할 수 있다. 프로그래밍가능 시스템은, 저장 시 스템, 적어도 하나의 입력 디바이스, 그리고 적어도 하나의 출력 디바이스로부터 데이터 및 명령들을 수신하고 이들에게 데이터 및 명령들을 전송하도록 결합되는 적어도 하나의 프로그래밍가능 프로세서(이것은 특수 목적 프로세서일 수 있거나 혹은 범용 프로세서일 수 있음)를 포함한다. 컴퓨터 프로그램들(이것은 또한 프로그램들, 소프트웨어, 소프트웨어 애플리케이션들 혹은 코드로서 알려져 있음)은 프로그래밍가능 프로세서에 대한 명령어 들을 포함하며 \"컴퓨터가 읽을 수 있는 기록매체\"에 저장된다. 컴퓨터가 읽을 수 있는 기록매체는, 컴퓨터 시스템에 의하여 읽혀질 수 있는 데이터가 저장되는 모든 종류의 기 록장치를 포함한다. 이러한 컴퓨터가 읽을 수 있는 기록매체는 ROM, CD-ROM, 자기 테이프, 플로피디스크, 메모 리 카드, 하드 디스크, 광자기 디스크, 스토리지 디바이스 등의 비휘발성(non-volatile) 또는 비일시적인(non- transitory) 매체일 수 있으며, 또한 데이터 전송 매체(data transmission medium)와 같은 일시적인 (transitory) 매체를 더 포함할 수도 있다. 또한, 컴퓨터가 읽을 수 있는 기록매체는 네트워크로 연결된 컴퓨터 시스템에 분산되어, 분산방식으로 컴퓨터가 읽을 수 있는 코드가 저장되고 실행될 수도 있다. 본 명세서의 순서도에서는 각 과정들을 순차적으로 실행하는 것으로 기재하고 있으나, 이는 본 개시의 일 실시 예의 기술 사상을 예시적으로 설명한 것에 불과한 것이다. 다시 말해, 본 개시의 일 실시예가 속하는 기술 분야 에서 통상의 지식을 가진 자라면 본 개시의 일 실시예의 본질적인 특성에서 벗어나지 않는 범위에서 본 명세서 의 순서도에 기재된 순서를 변경하여 실행하거나 각 과정들 중 하나 이상의 과정을 병렬적으로 실행하는 것으로 다양하게 수정 및 변형하여 적용 가능할 것이므로, 본 명세서의 순서도는 시계열인 순서로 한정되는 것은 아니 다. 이상의 설명은 본 실시예의 기술 사상을 예시적으로 설명한 것에 불과한 것으로서, 본 실시예가 속하는 기술 분 야에서 통상의 지식을 가진 자라면 본 실시예의 본질적인 특성에서 벗어나지 않는 범위에서 다양한 수정 및 변 형이 가능할 것이다. 따라서, 본 실시예들은 본 실시예의 기술 사상을 한정하기 위한 것이 아니라 설명하기 위 한 것이고, 이러한 실시예에 의하여 본 실시예의 기술 사상의 범위가 한정되는 것은 아니다. 본 실시예의 보호 범위는 아래의 청구범위에 의하여 해석되어야 하며, 그와 동등한 범위 내에 있는 모든 기술 사상은 본 실시예의 권리범위에 포함되는 것으로 해석되어야 할 것이다."}
{"patent_id": "10-2023-0094024", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 개시의 일 실시예에 따른 RGB 카메라를 이용한 조직내 산소 모니터링 장치의 구성도이다. 도 2는 본 개시의 일 실시예에 따른 RGB 카메라를 이용한 조직내 산소 모니터링 장치의 일 구성요소인 훈련 데 이터 생성부의 동작 과정을 설명하기 위한 도면이다. 도 3은 본 개시의 일 실시예에 따른 훈련 데이터셋 생성을 위한 초분광 영상 및 RGB 영상을 획득하는 과정을 설 명하기 위한 도면이다. 도 4는 본 개시의 일 실시예에 따른 훈련 데이터셋 생성을 위한 초분광 영상 및 RGB 영상에 대한 마스킹을 설명 하기 위한 도면이다. 도 5는 본 개시의 일 실시예에 따른 훈련 데이터의 예시들 보여주는 도면이다. 도 6은 본 개시의 일 실시예에 따른 훈련 데이터셋 생성을 위한 RGB 영상 및 2차원 산소포화도 영상에 대해 크 롭핑(cropping)을 수행한 결과를 나타내는 예시도이다. 도 7은 본 개시의 일 실시예에 따른 RGB 카메라를 이용한 조직내 산소 모니터링 장치에 의해 수행되는 인공신경 망 모델을 훈련하는 방법의 순서도이다. 도 8은 본 개시의 일 실시예에 따른 RGB 카메라를 이용한 조직내 산소 모니터링 장치에 의해 수행되는 조직내 산소 정보를 예측하는 방법의 순서도이다."}
