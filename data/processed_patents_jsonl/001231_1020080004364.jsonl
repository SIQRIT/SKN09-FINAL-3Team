{"patent_id": "10-2008-0004364", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2009-0078501", "출원번호": "10-2008-0004364", "출원인": "부산대학교 산학협력단", "발명자": "김창원"}}
{"patent_id": "10-2008-0004364", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "하수처리장의 유입 유량 및 유입 성분 농도의 예측 장치에 있어서,하수처리장의 유입 수질 데이터들과 기상 데이터들을 수집하는 데이터수집부(10)와;상기 데이터수집부(10)에 의해 수집된 데이터셋들을 전달받아 인공신경망 모델에 적용되도록 표준화 상태로 변환하는 데이터 전처리부(20)와; 상기 데이터 전처리부(20)를 통해 표준화된 입력값들을 인공신경망에 대입하여 은닉층을 통한 신호전달을 반복적으로 행함으로써, 오차를 최소화하기 위한 학습을 행하여 가중치를 조절하는 인공신경망부(30)와;상기 인공신경망부(30)에 의해 수립된 가중치에 따라 변수를 입력하여 유입수를 예측하는 데이터예측부(40)와;상기 데이터예측부(40)의 산출데이터를 화면에 출력하는 표시부(50)로 구성되는 것을 특징으로 하는 인공 신경망에 의한 하수처리장의 유입 유량 및 유입 성분 농도의 예측 장치."}
{"patent_id": "10-2008-0004364", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1항에 있어서,하수처리장의 유입 수질 데이터들은 유량, pH, DO, 온도, BOD, CODMn, SS, TN, TP 중 어느 하나 이상이며, 기상데이터들은 강우량, 습도 및 기온 중 어느 하나 이상인 것을 특징으로 하는 인공 신경망에 의한 하수처리장의유입 유량 및 유입 성분 농도의 예측 장치."}
{"patent_id": "10-2008-0004364", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1항에 있어서,상기 데이터수집부(10)는 상기 수집된 데이터들을 저장하도록 데이터베이스(11)를 구축하고 있어, 전처리를 거친 상기 데이터 셋들이 신경망의 훈련 혹은 훈련된 신경망의 예측 성능의 검증 중 어느 하나에 사용되는 것을특징으로 하는 인공 신경망에 의한 하수처리장의 유입 유량 및 유입 성분 농도의 예측 장치."}
{"patent_id": "10-2008-0004364", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "하수처리장의 유입 유량 및 유입 성분 농도의 예측 방법에 있어서,하수처리장으로부터 유입 수질 데이터와 기상 데이터들을 데이터수집부(10)에서 입력받는 데이터 수집단계(S10)와;상기 수집된 데이터를 인공신경망 모델에 적용하도록 표준화하기 위한 데이터 전처리 단계(S20)와; 상기의 데이터 전처리된 변수들에 대해 인공신경망을 통한 학습을 수행함으로써 예측 모델을 수립하는 단계(S30)와;상기 인공신경망에 대해 검증 데이터 셋을 이용하여 훈련된 신경망의 예측 성능을 평가하는 유입유량과 유입성분 농도 예측단계(S40)로 구성되는 것을 특징으로 하는 인공 신경망에 의한 하수처리장의 유입 유량 및 유입 성분 농도의 예측 방법."}
{"patent_id": "10-2008-0004364", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 4항에 있어서,상기 데이터 전처리 단계(S20)는, 하수처리장으로부터 확보된 상기 데이터들 중 데이터의 신뢰성을 떨어뜨릴 수있는 이상치(Outlier)를 제거하는 단계와; 측정된 시계열 데이터 간의 선형적 또는 비선형적 상관성을 파악하고 연속된 데이터들의 시간에 따른 경향을 파악하도록 장기간의 데이터 셋에서 단기간 변동을 감소시키거나 제거하는 단계와; 각각 다른 스케일로 분포하고 있는 모든 데이터들이 0과 1사이의 값의 분포를 가질 수 있도록 표준화하는 단계- 3 -공개특허 10-2009-0078501로 구성되는 것을 특징으로 하는 인공 신경망에 의한 하수처리장의 유입 유량 및 유입 성분 농도의 예측 방법."}
{"patent_id": "10-2008-0004364", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 5항에 있어서,상기 데이터들의 이상치(Outlier)를 제거하도록, 관리도 기법을 사용하는 것을 특징으로 하는 인공 신경망에 의한 하수처리장의 유입 유량 및 유입 성분 농도의 예측 방법."}
{"patent_id": "10-2008-0004364", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제 5항에 있어서,상기 측정된 시계열 데이터 간의 선형적 또는 비선형적 상관성을 파악하고 연속된 데이터들의 시간에 따른 경향을 파악하도록 5-day moving average기법을 사용하는 것을 특징으로 하는 인공 신경망에 의한 하수처리장의 유입 유량 및 유입 성분 농도의 예측 방법."}
{"patent_id": "10-2008-0004364", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 4항에 있어서,상기 예측 모델 수립 단계(S30)에서, 시행착오법을 통한 신경망 구조와 epoch 수를 결정하고, 선택된 신경망의구조와 epoch 수를 바탕으로 훈련된 신경망을 일반화시킬 수 있는 가중치 값들을 결정하는 것을 특징으로 하는인공 신경망에 의한 하수처리장의 유입 유량 및 유입 성분 농도의 예측 방법.명 세 서발명의 상세한 설명 기 술 분 야본 발명은 하수처리장의 효과적인 공정 진단과 제어를 위해, 유입 유량 및 유입성분을 측정하여 이에 대한 미 <1>래의 유입 유랑 성분 농도를 예측하기 위한 인공 신경망에 의한 하수처리장의 유입 유량 및 유입 성분 농도의예측 방법 및 장치에 관한 것이다. 배 경 기 술환경 규제가 점차적으로 강화됨에 따라, 하수처리장의 안정적이고 경제적인 운전을 위한 ICA(Instrumentation, <2>Control and Automation) 기술들은 빠르게 전해 왔다. 이러한 ICA 기술의 발전과 함께, 효과적인 공정 진단과제어를 위한 하나의 수단이 되는 하수처리공정을 대상으로 한 모델에 대한 연구도 활발하게 진행되어 왔다.이러한 모델은 결정론적 모델로써 기본적으로 공정과 관련된 메커니즘과 물질 수지식 등에 기반하여 일반적으로 <3>미분 방정식의 형태로 표현되는 white-box 모델, 공정으로부터 확보된 측정 데이터에 기반하여 주어진 입력 변수와 목표 변수 간의 변화 패턴만을 고려하여 생성되는 black-box 모델, 그리고 white-box 모델과 black-box 모델이 연속적으로 또는 평행하게 결합된 grey-box 모델로 구분되어 발전해 왔다고 할 수 있고, IWA task group에의해 제안된 활성슬러지모델(ASM: Activated Sludge Model)과 인공신경망(ANN: Artificial Neural Network) 모델은 각각 white-box 모델과 black-box 모델의 대표적인 예가 될 수 있다.이들 모델들은 하수처리장 건설을 위한 다양한 설계안들의 시뮬레이션에 의한 평가를 의미하는 공정 설계, 다양 <4>한 시나리오 분석을 통한 하수처리플랜트의 공정의 향상 및 공정 이상 발생 시 적절한 대안 제시를 의미하는 공정의 최적화 및 제어라는 측면에서 유용하게 활용되고 있다. 공정의 최적화 및 제어라는 측면에서 모델의 활용은 현재 시점을 기준으로 한 활용 즉 공정의 이상이 발생한 후 <5>정상화하는 데 있어서의 활용에 국한되고 있다고 할 수 있고, 이들 모델들은 공정 상태의 이상을 사전에 감지하여 발생할 수 있는 문제를 사전에 방지하기 위한 도구로써는 활용되지 못하고 있다. 이러한 현재 기존 모델의 한계점을 극복하기 위해서는 적절한 유입수 예측 모델의 개발이 필요하고, 개발된 유 <6>입수 예측 모델이 기존의 공정 성능 예측모델과 결합이 된다면 공정의 미래 상태에 대한 정보가 사전에 제공될것이고 발생될 수 있는 문제가 사전에 감지되어 공정 이상이 발생하기 이전에 조치가 취해짐으로써 공정의 안정- 4 -공개특허 10-2009-0078501적인 운전에 기여할 수 있을 것이라고 기대된다. 몇 몇 연구자들에 의해 유입수 예측 모델의 개발이 시도되었으나 이들에 의해 개발된 대부분의 모델들은 시간에 <7>따라 변화하는 많은 변수들을 가짐으로 보정(calibration)하기 어렵다는 단점을 가지는 결정론적 모델들이었다. 물론 다른 형태의 모델인 black-box 모델을 사용한 연구 결과가 보도가 되기도 하였지만, 이는 예측 대상이 유 <8>입 유량에만 국한되어 있어 공정의 이상을 초래하는 인자가 될 수 있는 다른 유입 성분의 변화를 반영하지 못한다는 한계점을 가진다. 발명의 내용 해결 하고자하는 과제따라서 본 발명은 유입수 예측 모델의 필요성에 대한 인식을 바탕으로, 실제 하수처리장의 유입 유량뿐만 아니 <9>라 유입수 성상을 예측하면서 결정론적 모델의 한계점을 극복할 수 있는 예측 모델, 즉 보정하기 쉬운 예측 모델을 개발하고자 black-box 모델인 인공신경망을 사용한 인공 신경망에 의한 하수처리장의 유입 유량 및 유입성분 농도의 예측 방법 및 장치를 제공하기 위함이다. 과제 해결수단상기의 과제를 해결하기 위해 본 발명은, 하수처리장의 유입 유량 및 유입 성분 농도의 예측 장치에 있어서, 하 <10>수처리장의 유입 수질 데이터들과 기상 데이터들을 수집하는 데이터수집부(10)와; 상기 데이터수집부(10)에 의해 수집된 데이터셋들을 전달받아 인공신경망 모델에 적용되도록 표준화 상태로 변환하는 데이터 전처리부(20)와; 상기 데이터 전처리부(20)를 통해 표준화된 입력값들을 인공신경망에 대입하여 은닉층을 통한 신호전달을반복적으로 행함으로써, 오차를 최소화하기 위한 학습을 행하여 가중치를 조절하는 인공신경망부(30)와; 상기인공신경망부(30)에 의해 수립된 가중치에 따라 변수를 입력하여 유입수를 예측하는 데이터예측부(40)와; 상기데이터예측부(40)의 산출데이터를 화면에 출력하는 표시부(50)로 구성되는 것을 특징으로 하는 인공 신경망에의한 하수처리장의 유입 유량 및 유입 성분 농도의 예측 장치에 의해 달성된다.또한 본 발명은, 하수처리장의 유입 수질 데이터들은 유량, pH, DO, 온도, BOD, CODMn, SS, TN, TP 중 어느 하 <11>나 이상이며, 기상 데이터들은 강우량, 습도 및 기온 중 어느 하나 이상인 것이 바람직하다또한 본 발명에 따르면, 상기 데이터수집부(10)는 상기 수집된 데이터들을 저장하도록 데이터베이스(11)를 구축 <12>하고 있어, 전처리를 거친 상기 데이터 셋들이 신경망의 훈련 혹은 훈련된 신경망의 예측 성능의 검증 중 어느하나에 사용되는 것이 바람직하다또한 본 발명에 따르면, 하수처리장의 유입 유량 및 유입 성분 농도의 예측 방법에 있어서, 하수처리장으로부터 <13>유입 수질 데이터와 기상 데이터들을 데이터수집부(10)에서 입력받는 데이터 수집단계(S10)와; 상기 수집된 데이터를 인공신경망 모델에 적용하도록 표준화하기 위한 데이터 전처리 단계(S20)와; 상기의 데이터 전처리된 변수들에 대해 인공신경망을 통한 학습을 수행함으로써 예측 모델을 수립하는 단계(S30)와; 상기 인공신경망에 대해 검증 데이터 셋을 이용하여 훈련된 신경망의 예측 성능을 평가하는 유입유량과 유입성분 농도 예측단계(S40)로 구성되는 것이 바람직하다또한 본 발명에 따르면, 상기 데이터 전처리 단계(S20)는, 하수처리장으로부터 확보된 상기 데이터들 중 데이터 <14>의 신뢰성을 떨어뜨릴 수 있는 이상치(Outlier)를 제거하는 단계와; 측정된 시계열 데이터 간의 선형적 또는 비선형적 상관성을 파악하고 연속된 데이터들의 시간에 따른 경향을 파악하도록 장기간의 데이터 셋에서 단기간변동을 감소시키거나 제거하는 단계와; 각각 다른 스케일로 분포하고 있는 모든 데이터들이 0과 1사이의 값의분포를 가질 수 있도록 표준화하는 단계로 구성되는 것이 바람직하다또한 본 발명에 따르면, 상기 데이터들의 이상치(Outlier)를 제거하도록, 관리도 기법을 사용하는 것이 바람직 <15>하다또한 본 발명에 따르면, 상기 측정된 시계열 데이터 간의 선형적 또는 비선형적 상관성을 파악하고 연속된 데이 <16>터들의 시간에 따른 경향을 파악하도록 5-day moving average기법을 사용하는 것이 바람직하다또한 본 발명에 따르면, 상기 예측 모델 수립 단계(S30)에서, 시행착오법을 통한 신경망 구조와 epoch 수를 결 <17>정하고, 선택된 신경망의 구조와 epoch 수를 바탕으로 훈련된 신경망을 일반화시킬 수 있는 가중치 값들을 결- 5 -공개특허 10-2009-0078501정하는 것이 바람직하다. 효 과따라서 본 발명의 인공 신경망에 의한 하수처리장의 유입 유량 및 유입 성분 농도의 예측 방법 및 시스템에 의 <18>해, 하수처리장으로부터 확보된 유입 데이터 및 기상자료들만을 활용하여 현재 시점 기준 1일 뒤, 2일 뒤, 3일뒤의 유입 유량, CODMn, SS, TN 등이 예측됨으로써 이에 따라 하수처리장의 적절한 대응을 자동으로 행할 수 있다. 발명의 실시를 위한 구체적인 내용이하 본 발명의 인공 신경망에 의한 하수처리장의 유입 유량 및 유입 성분 농도의 예측 방법 및 시스템에 대해 <19>첨부도면을 통해 보다 구체적으로 설명하고자 한다.도 1은 본 발명의 인공 신경망에 의한 하수처리장의 유입 유량 및 유입 성분 농도의 예측 장치의 블록 구성도를 <20>도시하고 있다.도면에서 보는 바와 같이 본 발명은 데이터 수집부(10), 데이터 전처리부(20), 인공신경망부(30), 데이터예측부 <21>(40), 표시부(50)로 구성된다.상기 데이터 수집부(10)는 표준 활성슬러지 공정으로 설치 운영되고 있는 하수처리장에서 유입 수질 데이터들 <22>(유량, pH, DO, 온도, BOD, CODMn, SS, TN, TP)과 기상 데이터들(강우량, 습도 및 기온 등)을 수집하게 된다.상기 데이터수집부(10)는 상기 수집된 데이터들을 저장하도록 데이터베이스(11)를 구축하고 있으며, 전처리를 <23>거친 420개의 상기 데이터 셋은 예측 모델 개발을 위해 사용되어진다. 이 중 210개의 데이터 셋을 신경망의 훈련을 위해 사용하였고, 나머지 210개의 데이터 셋을 훈련된 신경망의 예 <24>측 성능을 검증하기 위해 사용하였다. 상기 데이터수집부(10)에 의해 수집된 데이터셋들은 데이터 전처리부(20)로 전달되어 인공신경망 개발을 위한 <25>표준화 상태로 된다.이를 위해 우선, 하수처리장으로부터 확보된 상기 데이터들 중 데이터의 신뢰성을 떨어뜨릴 수 있는 이상치 <26>(Outlier)를 제거하도록 관리도 기법을 사용하여 관리 상한선과 관리 하산선을 벗어나는 값들을 이상치로 간주하여 제거한다. 두번째로 측정된 시계열 데이터 간의 선형적 또는 비선형적 상관성을 파악하고 연속된 데이터들의 시간에 따른 <27>경향을 파악하기 위해 5-day moving average 기법을 사용하여 확보된 장기간의 데이터 셋들에서 단기간의 변동의 감소 및 제거를 행한다.마지막으로, 신경망의 데이터 준비의 기본 단계인 데이터 표준화를 위해 각각 다른 스케일(Scale)로 분포하고 <28>있는 모든 데이터들()이 0과 1사이의 값의 분포를 가질 수 있도록 표준화한다. 상기의 데이터 전처리부(20)를 통해 표준화된 입력값들은 인공신경망부(30)를 통해 예측 모델이 수립되도록 한 <29>다.본 발명은 Multi-layer feed-forward back-propagation network을 사용하게 되며, 따라서 뉴런들이 각 층들 즉 <30>입력 층(Input layer), 은닉 층(Hidden layer), 출력 층(Output layer)에 배열되고, 각 층의 뉴런들은 연결 가중치에 의해 연결된다. 즉, 표준화된 입력 데이터가 입력 층의 뉴런들에 입력되고, 은닉 층을 통해 출력 층으로 전달된다. <31>상기 인공신경망부(30)는 시행착오법(Trial and error method)에 의해 적절한 신경망의 구조와 epoch 수를 결정 <32>하고, 선택된 신경망의 구조와 epoch 수를 바탕으로 훈련된 신경망을 일반화하기에 충분하게 가중치 값들을 결정한다. 상기 인공신경망부(30)는 상용 소프트웨어인 MATLAB에서 제공되는 neural network toolbox(The MathWorks <33>Inc., 2000)를 이용해서 모든 시뮬레이션 작업을 수행하였다.상기 데이터 예측부(40)는 상기의 인공신경망부(30)을 통한 예측 모델을 수립함에 따라 이러한 인공신경망 모델 <34>- 6 -공개특허 10-2009-0078501을 통해 유입유량과 유입성분 농도의 예측을 수행하게 된다. 신경망을 이용한 대상 하수처리장의 유입수 예측 성능의 정량적 평가는 시뮬레이션을 통해 도출된 예측 값과 실 <35>측 값 간의 오차에 의해 평가될 수 있는데 본 발명에서 개발된 신경망 모델의 정량적인 예측 성능 평가를 위하여 평균 상대 오차율(Average relative difference)을 사용하게 된다.도 2는 본 발명의 인공 신경망에 의한 하수처리장의 유입 유량 및 유입 성분 농도의 예측 방법의 전체 순서도를 <36>도시하고 있다.우선 실제 하수처리장으로부터의 데이터를 데이터수집부(10)에 입력하는 데이터 수집단계(S10)를 수행하게 <37>된다.이를 위해 표준 활성슬러지 공정으로 설치 운영되고 있는 B시 A하수처리장을 인공신경망을 활용한 유입수 예측 <38>모델 개발 대상 하수처리장으로 선정하였다. 대상 하수처리장에서 실제 측정된 2005년부터 2006년까지의 유입 수질 데이터들(유량, pH, DO, 온도, BOD, <39>CODMn, SS, TN, TP)과 기상 데이터들(강우량, 습도 및 기온 등)을 데이터수집부(10)를 통해 수집하게 된다.상기 데이터수집부(10)를 통해 수집된 데이터셋은 데이터 전처리를 거치게 되며, 데이터 전처리를 거친 420개의 <40>데이터 셋은 예측 모델 개발을 위해 사용되어진다. 이 중 210개의 데이터 셋을 신경망의 훈련을 위해 사용하였고, 나머지 210개의 데이터 셋을 훈련된 신경망의 예측 성능을 검증하기 위해 사용하였다. 하기의 <표 1>은 대상 하수처리장 유입수의 통계학적 특성을 보여주고 있다. <41><42>여기서, Hum. : 습도, Temp. : 온도, Max. : 최대값, Min. : 최소값, S.D.: 표준편차 <43>상기 데이터 수집단계를 수행하게 되면, 수집된 데이터를 표준화하기 위한 데이터 전처리 단계(S20)를 수행하게 <44>된다. 이를 위해 우선, 하수처리장으로부터 확보된 상기 데이터들 중 데이터의 신뢰성을 떨어뜨릴 수 있는 이상치 <45>(Outlier)는 정확한 예측 모델을 개발하는 데 있어 방해 요인이 되므로 제거하게 된다. 본 발명에서는 이상치 제거를 위하여 관리도 기법을 사용하였다. <46>식 (1)에서와 같이 관리 상한선(Upper control limit, UCL)과 관리 하한선(Lower control limit, LCL)을 설정 <47>하고, UCL과 LCL을 벗어나는 값들은 이상치로 간주하고 제거하였다. 본 연구에서는 Mjalli 등(2007)에 의해 제안된 값을 참조로 하여 상수를 3으로 사용하였다. <48> <49>두 번째로 측정된 시계열 데이터 간의 선형적 또는 비선형적 상관성을 파악하고 연속된 데이터들의 시간에 따른 <50>경향을 파악하기 위해 일반적으로 다양한 통계학적 처리를 행한다. 본 발명에서는, 다양한 통계학적 기법 중 하나로 식 2와 같이 표현될 수 있는 5-day moving average 기법을 사 <51>용하였고, 이를 통해 확보된 장기간의 데이터 셋들에서 단기간의 변동의 감소 및 제거가 이루어졌다. 여기서,는 측정 변수들, 는 현재 시점(Current time period)이다. - 7 -공개특허 10-2009-0078501그리고 이렇게 전처리 된 데이터들 간의 상관관계를 그래프를 통해 정성적으로 평가하고, 예측하고자 하는 변수 <52>들 즉, 유입유량, CODMn, SS, TN 등과 상관관계가 높은 변수들을 신경망의 입력 변수로 사용하였다. <53> 마지막으로, 신경망의 데이터 준비의 기본 단계인 데이터 표준화를 위해 각각 다른 스케일(Scale)로 분포하고 <54>있는 모든 데이터들()이 0과 1사이의 값의 분포를 가질 수 있게 식 3을 이용하여 표준화하였다. <55>현재 시점을 기준으로 해 1일 뒤 유입 유량, CODMn, SS, TN 농도를 예측하기 위한 각각의 인공 신경망 모델을 개 <56>발하기 위해, 전처리된 데이터의 그래프를 통한 정성적 평가 결과를 반영하여 예측하고자 하는 변수에 대한 적절한 입력 변수들을 선택하였다. 도 5는 이러한 정성적 상관관계 평가의 한 예로 강수량과 유입 유량(a), 그리고 습도와 유입 유량과의 관계(b), <57>다른 예측하고자 하는 변수들과 CODMn과의 관계(c, d)를 그래프를 통해 보여주고 있다. 도 5를 통해 볼 때, 강수량 및 습도의 증가는 유입 유량의 증가를 초래하고 이들의 감소는 유입 유량의 감소를 <58>초래한다는 것을 알 수 있다. 이는 유입 유량과 강수량 및 습도와의 변화 거동이 비슷하다는 것을 의미한다. 이와 같은 그래프를 통한 정성적 상관관계 평가를 통해 유입 유량의 예측을 위한 입력 변수들로써 습도와 강수 <59>량을 선택하였으며 그리고 시계열적 특성을 고려하여 1일 전 유입 유량을 선택하였다. 그리고, 도 5를 통해 볼 때, 다른 예측하고자 하는 변수들, 즉 목표 변수들과 유입 CODMn 농도와의 변화 거동 또 <60>한 비슷하다는 것을 알 수 있고 이를 바탕으로 각각의 목표 변수들에 대한 입력변수로써 다른 변수들보다는 유입 CODMn 농도를 선택하였다. 상기의 데이터 전처리를 수행한 후, 인공신경망을 통한 예측 모델을 수립하는 단계(S30)를 수행한다. <61>상기 인공신경망은 인간의 뇌에 존재하는 생물학적 신경 세포와 이들의 연결 관계를 단순화시켜 수학적으로 모 <62>델링하여 인간의 두뇌가 나타내는 지능적 형태를 구현하는 것이다. 현재 인공신경망은 시스템 규명, 예측, 패턴 인식, 분류 및 공정 제어 등의 분야들에서 많이 활용되고 있는데, <63>이러한 인공신경망은 그 구조에 따라 single layer feed-forward network, multi-layer feed-forward network,feed-back network, recurrent network, self-organized network으로 분류되고, 신경망의 사용목적에 따라 적절한 형태의 신경망 구조를 선택하게 된다. 본 발명은 유입수 예측을 목적으로 하므로, 모델링과 예측 분야에서 가장 일반적으로 사용되고 있는 Multi- <64>layer feed-forward back-propagation network을 사용하였다. 도 3은 일반적인 Multi-layer feed-forward back-propagation network의 구조를 보여준다. <65>도 3을 통해 알 수 있듯이, 뉴런들이 각 층들 즉 입력 층(Input layer), 은닉 층(Hidden layer), 출력 층 <66>(Output layer)에 배열되고, 각 층의 뉴런들은 연결 가중치에 의해 연결된다. 표준화된 입력 데이터가 입력 층의 뉴런들에 입력되고, 은닉 층을 통해 출력 층으로 전달된다. 앞의 층의 뉴런 <67>으로부터 다음 층의 뉴런으로의 신호 전달은 도 4와 같이 표현될 수 있으며, 본 연구에서는 식 4와 같이 표현되는 tanh-sigmoid function을 신호전달을 위한 전달함수(Transfer function)로 사용하였다. <68>신경망에서 학습(Learning)이란 각 뉴런들 간에 연결된 가중치의 조절을 통해 실측치와 신경망을 통해 계산된 <69>출력치 간의 오차를 최소화 시키는 것을 의미한다.- 8 -공개특허 10-2009-0078501본 발명에서는 오차공간(Error space)에서 지역극소(Local minimum)에 빠졌을 때, 더 이상 학습을 수행할 수 없 <70>다는 단점을 가진 역전파(Back-propagation) 알고리즘 대신에, 역전파 알고리즘의 단점을 극복하고 더 빠른 학습이 가능한 Levenberg-Marquart(LM) 알고리즘 을 학습 알고리즘으로 사용하였다.신경망의 성능을 결정하는 주요한 인자는 신경망의 구조, 신경망의 학습 종료 시점( 즉, epoch 수) 및 주어지는 <71>가중치의 값이다. 신경망의 구조와 학습을 위한 epoch 수와 가중치 값을 결정하는 데 있어 절대적인 방법은 없다. <72>따라서, 본 발명에서는 시행착오법(Trial and error method)에 의해 적절한 신경망의 구조와 epoch 수를 결정하 <73>였고, 선택된 신경망의 구조와 epoch 수를 바탕으로 훈련된 신경망을 일반화하기에 충분하게 가중치 값들을 결정하였다. 본 발명에서 상용 소프트웨어인 MATLAB에서 제공되는 neural network toolbox(The MathWorks Inc., 2000)를 이 <74>용해서 모든 시뮬레이션 작업을 수행하였다.도 6은 현재 시점 기준 1일 뒤 유입 유량의 예측하기 위해 시행 착오법(Trial and error method)에 의해 결정되 <75>어 구성된 신경망의 구조를 보여준다.도 6를 통해 알 수 있듯이, 유입 유량의 예측을 위한 인공신경망은 하나의 입력 층, 두개의 은닉 층, 하나의 출 <76>력 층으로 구성되고, 입력 층에는 4개의 뉴런, 두 개의 은닉 층에는 각 층에 5개의 뉴런 그리고 출력 층에는 하나의 뉴런이 배치되게 구성하였다. 하기의 <표 2>는 현재 시점 기준 1일 뒤 COD, SS, TN 농도를 예측하기 위해 구성된 신경망의 구조에 대한 정보 <77>를 보여주고 있다. <표 2> <78><79>Where, t: 현재, t-1: 현재로부터 1일 전, t+1: 현재로부터 1일 후 <80>도 6과 <표 2>에서 설명된 것과 같은 구조를 가지는 신경망을 epoch 수를 100으로 고정한 뒤 가중치의 변화를 <81>통해 훈련 데이터 셋을 이용하여 신경망의 학습을 수행하였고, 검증 데이터 셋을 이용하여 훈련된 신경망의 예측 성능을 평가 하였다. 본 발명에서 epoch수를 100으로 선정한 이유는 epoch 수가 100 이상으로 주어졌을 때는 가중치의 변화에 상관없 <82>이 과도한 훈련(Training)으로 인해, 과적합(Overfitting)의 문제가 발생하였기 때문이다. 상기의 인공신경망을 통한 예측 모델을 수립하는 단계(S30)를 수행하게 되면, 이러한 인공신경망 모델을 통해 <83>유입유량과 유입성분 농도의 예측단계(S40)를 수행하게 된다.도 7은 각 목표 변수들의 현재시점 기준 1일 뒤 예측을 위해 210개의 데이터 셋을 이용하여 신경망이 훈련된 결 <84>과와, 나머지 210개의 검증(Validation) 데이터 셋을 이용하여 훈련된 신경망에 의해 예측된 결과를 보여준다. 여기서 각 그래프는 (a) 유출량, (b) CODMn, (c) SS, (d) TN의 예측 결과에 관한 도면이다. <85>신경망을 이용한 대상 하수처리장의 유입수 예측 성능의 정량적 평가는 시뮬레이션을 통해 도출된 예측 값과 실 <86>측 값 간의 오차에 의해 평가될 수 있다. - 9 -공개특허 10-2009-0078501따라서 본 발명에서 개발된 신경망 모델의 정량적인 예측 성능 평가를 위하여 아래의 식 (5)와 같이 표현되는 <87>평균 상대 오차율(Average relative difference)을 사용하였다. 여기서, N은 비교된 총 변수의 수, 는 i번째측정 값, 는 i번째 예측 값이다. 예측 변수별 평균 상태 오차율은 <표 3>에 나타내었다. <88><표 3> <89><90>도 7과 <표 3>를 통해 현재 시점 기준 1일 뒤 각 유입 성분들을 예측하기 위해 인공 신경망의 훈련이 적절하게 <91>이루어졌음을 확인할 수 있었고, 훈련에 사용되지 않은 데이터를 사용하여 훈련된 인공 신경망의 성능을 검증한결과, 각 목표 변수들의 실측값들의 변화 거동을 훈련된 인공 신경망이 잘 묘사하고 있을 뿐만 아니라, 상대 오차율이 유량의 경우 0.65%, CODMn의 경우 1.69%, SS의 경우 3.16%, TN의 경우 1.96% 정도로 일반적인 95% 신뢰구간에 포함되는 5%미만의 낮은 값을 나타낸다는 것을 알 수 있다. 이러한 검증 결과를 통해 평가할 때, 현재 시점 기준 1일 뒤 유입 유량 및 유입 성분들의 농도를 예측하기 위해 <92>개발된 인공 신경망 모델이 대상 하수처리장에 한해서는 일반화되어 사용될 수 있다는 것이 된다. 상기 현재시점 기준 1일 뒤의 예측에 이어, 현재 시점 기준 2일, 3일 뒤 예측을 수행한 결과, 현재 시점 기준 2 <93>일 뒤, 3일 뒤 각 유입 유량, COD, SS, TN의 예측을 위해 epoch 수를 100으로 고정한 후, 가중치 값의 변화만을통해 현재 시점 기준 1일 뒤 예측을 위해 사용된 인공신경망과 같은 입력 변수들과 구조를 가지는 인공 신경망의 학습이 이루어졌다. 도 8과 도 9에서 각각 (a) 유입량 (b) CODMn,(c) SS, (d) TN에 관한 예측 그래프이다. <94><표 4>와 <표 5>는 개발된 인공 신경망의 예측 성능 평가를 위한 정량적 지표로 사용된 상대 오차율을 <95>보여준다.<표 4> <96><97><표 5> <98><99>이를 통해, 현재 시점 기준 2일 뒤, 3일 뒤 예측을 위해 개발된 인공 신경망 모델은 과적합(Overfitting)의 문 <100>제를 발생시키지 않으면서 각 목표 변수들의 변화 거동을 적절하게 예측하고 있다는 것을 알 수 있었다. 그러므로, 현재 시점 기준 1일 뒤 예측을 위한 인공 신경망과 같은 구조를 가지면서, 단지 연결 가중치 값만이 <101>- 10 -공개특허 10-2009-0078501다른, 현재 시점 기준 2일 뒤, 3일 뒤 예측을 위한 인공 신경망 모델이 적절하게 개발되었다고 할 수 있다. 도면의 간단한 설명도 1은 본 발명의 인공 신경망에 의한 하수처리장의 유입 유량 및 유입 성분 농도의 예측 장치의 전체 구성도, <102>도 2는 본 발명의 인공 신경망에 의한 하수처리장의 유입 유량 및 유입 성분 농도의 예측 방법의 전체 순서도, <103>도 3은 일반적인 복수층을 가진 인공신경망의 구조, <104>도 4는 도 3의 다중 인공 신경망의 각 층 마다의 신호전달 수식도, <105>도 5는 강수량과 유입 유량, 습도와 유입 유량과, 다른 예측하고자 하는 변수들과 CODMn과의 관계를 도시한 그래 <106>프, 도 6은 현재 시점 기준 1일 뒤 유입 유량의 예측하기 위해 시행 착오법에 의해 결정되어 구성된 신경망의 구조, <107>도 7은 각 목표 변수들의 현재시점 기준 1일 뒤 예측을 결과 비교 그래프, <108>도 8과 도 9는 현재 시점 기준 2일 뒤, 3일 뒤 예측의 결과 비교 그래프. <109>*도면부호에 대한 상세한 설명* <110>10 : 데이터 수집부 11 : 데이터베이스 <111>20 : 데이터 전처리부 30 : 인공신경망부 <112>40 : 데이터예측부 50 : 표시부 <113>도면 도면1- 11 -공개특허 10-2009-0078501 도면2 도면3- 12 -공개특허 10-2009-0078501 도면4 도면5- 13 -공개특허 10-2009-0078501 도면6 도면7- 14 -공개특허 10-2009-0078501 도면8- 15 -공개특허 10-2009-0078501 도면9- 16 -공개특허 10-2009-0078501"}
{"patent_id": "10-2008-0004364", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 공정 운영에 있어 공정 이상을 초래하는 주요한 외란 중 하나인 유입 유량 및 유입 성분들의 농도를 예측 가능한 모델을 개발하고자, 대상 하수처리장으로부터 장기간의 데이터들을 확보하여 인공 신경망 기법을 적 용함으로써 신경망의 학습을 통해 일반화될 수 있는 현재 시점 기준 1일 뒤, 2일 뒤, 3일 뒤의 대상 하수처리장 의 유입 유량, CODMn, SS, TN의 예측이 가능하도록 한 인공 신경망에 의한 하수처리장의 유입 유량 및 유입 성분 농도의 예측 방법 및 장치에 관한 것이다."}
{"patent_id": "10-2008-0004364", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 하수처리장의 효과적인 공정 진단과 제어를 위해, 유입 유량 및 유입성분을 측정하여 이에 대한 미 <1> 래의 유입 유랑 성분 농도를 예측하기 위한 인공 신경망에 의한 하수처리장의 유입 유량 및 유입 성분 농도의 예측 방법 및 장치에 관한 것이다."}
{"patent_id": "10-2008-0004364", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "환경 규제가 점차적으로 강화됨에 따라, 하수처리장의 안정적이고 경제적인 운전을 위한 ICA(Instrumentation, <2> Control and Automation) 기술들은 빠르게 전해 왔다. 이러한 ICA 기술의 발전과 함께, 효과적인 공정 진단과 제어를 위한 하나의 수단이 되는 하수처리공정을 대상으로 한 모델에 대한 연구도 활발하게 진행되어 왔다. 이러한 모델은 결정론적 모델로써 기본적으로 공정과 관련된 메커니즘과 물질 수지식 등에 기반하여 일반적으로 <3> 미분 방정식의 형태로 표현되는 white-box 모델, 공정으로부터 확보된 측정 데이터에 기반하여 주어진 입력 변 수와 목표 변수 간의 변화 패턴만을 고려하여 생성되는 black-box 모델, 그리고 white-box 모델과 black-box 모 델이 연속적으로 또는 평행하게 결합된 grey-box 모델로 구분되어 발전해 왔다고 할 수 있고, IWA task group에 의해 제안된 활성슬러지모델(ASM: Activated Sludge Model)과 인공신경망(ANN: Artificial Neural Network) 모 델은 각각 white-box 모델과 black-box 모델의 대표적인 예가 될 수 있다. 이들 모델들은 하수처리장 건설을 위한 다양한 설계안들의 시뮬레이션에 의한 평가를 의미하는 공정 설계, 다양 <4> 한 시나리오 분석을 통한 하수처리플랜트의 공정의 향상 및 공정 이상 발생 시 적절한 대안 제시를 의미하는 공 정의 최적화 및 제어라는 측면에서 유용하게 활용되고 있다. 공정의 최적화 및 제어라는 측면에서 모델의 활용은 현재 시점을 기준으로 한 활용 즉 공정의 이상이 발생한 후 <5> 정상화하는 데 있어서의 활용에 국한되고 있다고 할 수 있고, 이들 모델들은 공정 상태의 이상을 사전에 감지하 여 발생할 수 있는 문제를 사전에 방지하기 위한 도구로써는 활용되지 못하고 있다. 이러한 현재 기존 모델의 한계점을 극복하기 위해서는 적절한 유입수 예측 모델의 개발이 필요하고, 개발된 유 <6> 입수 예측 모델이 기존의 공정 성능 예측모델과 결합이 된다면 공정의 미래 상태에 대한 정보가 사전에 제공될 것이고 발생될 수 있는 문제가 사전에 감지되어 공정 이상이 발생하기 이전에 조치가 취해짐으로써 공정의 안정 - 4 -공개특허 10-2009-0078501적인 운전에 기여할 수 있을 것이라고 기대된다. 몇 몇 연구자들에 의해 유입수 예측 모델의 개발이 시도되었으나 이들에 의해 개발된 대부분의 모델들은 시간에 <7> 따라 변화하는 많은 변수들을 가짐으로 보정(calibration)하기 어렵다는 단점을 가지는 결정론적 모델들이었다. 물론 다른 형태의 모델인 black-box 모델을 사용한 연구 결과가 보도가 되기도 하였지만, 이는 예측 대상이 유 <8> 입 유량에만 국한되어 있어 공정의 이상을 초래하는 인자가 될 수 있는 다른 유입 성분의 변화를 반영하지 못 한다는 한계점을 가진다."}
{"patent_id": "10-2008-0004364", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 2, "content": "발명의 내용 해결 하고자하는 과제 따라서 본 발명은 유입수 예측 모델의 필요성에 대한 인식을 바탕으로, 실제 하수처리장의 유입 유량뿐만 아니 <9> 라 유입수 성상을 예측하면서 결정론적 모델의 한계점을 극복할 수 있는 예측 모델, 즉 보정하기 쉬운 예측 모 델을 개발하고자 black-box 모델인 인공신경망을 사용한 인공 신경망에 의한 하수처리장의 유입 유량 및 유입 성분 농도의 예측 방법 및 장치를 제공하기 위함이다. 과제 해결수단 상기의 과제를 해결하기 위해 본 발명은, 하수처리장의 유입 유량 및 유입 성분 농도의 예측 장치에 있어서, 하 <10> 수처리장의 유입 수질 데이터들과 기상 데이터들을 수집하는 데이터수집부와; 상기 데이터수집부에 의 해 수집된 데이터셋들을 전달받아 인공신경망 모델에 적용되도록 표준화 상태로 변환하는 데이터 전처리부 와; 상기 데이터 전처리부를 통해 표준화된 입력값들을 인공신경망에 대입하여 은닉층을 통한 신호전달을 반복적으로 행함으로써, 오차를 최소화하기 위한 학습을 행하여 가중치를 조절하는 인공신경망부와; 상기 인공신경망부에 의해 수립된 가중치에 따라 변수를 입력하여 유입수를 예측하는 데이터예측부와; 상기 데이터예측부의 산출데이터를 화면에 출력하는 표시부로 구성되는 것을 특징으로 하는 인공 신경망에 의한 하수처리장의 유입 유량 및 유입 성분 농도의 예측 장치에 의해 달성된다. 또한 본 발명은, 하수처리장의 유입 수질 데이터들은 유량, pH, DO, 온도, BOD, CODMn, SS, TN, TP 중 어느 하 <11> 나 이상이며, 기상 데이터들은 강우량, 습도 및 기온 중 어느 하나 이상인 것이 바람직하다 또한 본 발명에 따르면, 상기 데이터수집부는 상기 수집된 데이터들을 저장하도록 데이터베이스를 구축 <12> 하고 있어, 전처리를 거친 상기 데이터 셋들이 신경망의 훈련 혹은 훈련된 신경망의 예측 성능의 검증 중 어느 하나에 사용되는 것이 바람직하다 또한 본 발명에 따르면, 하수처리장의 유입 유량 및 유입 성분 농도의 예측 방법에 있어서, 하수처리장으로부터 <13> 유입 수질 데이터와 기상 데이터들을 데이터수집부에서 입력받는 데이터 수집단계(S10)와; 상기 수집된 데 이터를 인공신경망 모델에 적용하도록 표준화하기 위한 데이터 전처리 단계(S20)와; 상기의 데이터 전처리된 변 수들에 대해 인공신경망을 통한 학습을 수행함으로써 예측 모델을 수립하는 단계(S30)와; 상기 인공신경망에 대 해 검증 데이터 셋을 이용하여 훈련된 신경망의 예측 성능을 평가하는 유입유량과 유입성분 농도 예측단계(S4 0)로 구성되는 것이 바람직하다 또한 본 발명에 따르면, 상기 데이터 전처리 단계(S20)는, 하수처리장으로부터 확보된 상기 데이터들 중 데이터 <14> 의 신뢰성을 떨어뜨릴 수 있는 이상치(Outlier)를 제거하는 단계와; 측정된 시계열 데이터 간의 선형적 또는 비 선형적 상관성을 파악하고 연속된 데이터들의 시간에 따른 경향을 파악하도록 장기간의 데이터 셋에서 단기간 변동을 감소시키거나 제거하는 단계와; 각각 다른 스케일로 분포하고 있는 모든 데이터들이 0과 1사이의 값의 분포를 가질 수 있도록 표준화하는 단계로 구성되는 것이 바람직하다 또한 본 발명에 따르면, 상기 데이터들의 이상치(Outlier)를 제거하도록, 관리도 기법을 사용하는 것이 바람직 <15> 하다 또한 본 발명에 따르면, 상기 측정된 시계열 데이터 간의 선형적 또는 비선형적 상관성을 파악하고 연속된 데이 <16> 터들의 시간에 따른 경향을 파악하도록 5-day moving average기법을 사용하는 것이 바람직하다 또한 본 발명에 따르면, 상기 예측 모델 수립 단계(S30)에서, 시행착오법을 통한 신경망 구조와 epoch 수를 결 <17> 정하고, 선택된 신경망의 구조와 epoch 수를 바탕으로 훈련된 신경망을 일반화시킬 수 있는 가중치 값들을 결 - 5 -공개특허 10-2009-0078501정하는 것이 바람직하다. 효 과 따라서 본 발명의 인공 신경망에 의한 하수처리장의 유입 유량 및 유입 성분 농도의 예측 방법 및 시스템에 의 <18> 해, 하수처리장으로부터 확보된 유입 데이터 및 기상자료들만을 활용하여 현재 시점 기준 1일 뒤, 2일 뒤, 3일 뒤의 유입 유량, CODMn, SS, TN 등이 예측됨으로써 이에 따라 하수처리장의 적절한 대응을 자동으로 행할 수 있 다. 발명의 실시를 위한 구체적인 내용 이하 본 발명의 인공 신경망에 의한 하수처리장의 유입 유량 및 유입 성분 농도의 예측 방법 및 시스템에 대해 <19> 첨부도면을 통해 보다 구체적으로 설명하고자 한다. 도 1은 본 발명의 인공 신경망에 의한 하수처리장의 유입 유량 및 유입 성분 농도의 예측 장치의 블록 구성도를 <20> 도시하고 있다. 도면에서 보는 바와 같이 본 발명은 데이터 수집부, 데이터 전처리부, 인공신경망부, 데이터예측부 <21> , 표시부로 구성된다. 상기 데이터 수집부는 표준 활성슬러지 공정으로 설치 운영되고 있는 하수처리장에서 유입 수질 데이터들 <22> (유량, pH, DO, 온도, BOD, CODMn, SS, TN, TP)과 기상 데이터들(강우량, 습도 및 기온 등)을 수집하게 된다. 상기 데이터수집부는 상기 수집된 데이터들을 저장하도록 데이터베이스를 구축하고 있으며, 전처리를 <23> 거친 420개의 상기 데이터 셋은 예측 모델 개발을 위해 사용되어진다. 이 중 210개의 데이터 셋을 신경망의 훈련을 위해 사용하였고, 나머지 210개의 데이터 셋을 훈련된 신경망의 예 <24> 측 성능을 검증하기 위해 사용하였다. 상기 데이터수집부에 의해 수집된 데이터셋들은 데이터 전처리부로 전달되어 인공신경망 개발을 위한 <25> 표준화 상태로 된다. 이를 위해 우선, 하수처리장으로부터 확보된 상기 데이터들 중 데이터의 신뢰성을 떨어뜨릴 수 있는 이상치 <26> (Outlier)를 제거하도록 관리도 기법을 사용하여 관리 상한선과 관리 하산선을 벗어나는 값들을 이상치로 간주 하여 제거한다. 두번째로 측정된 시계열 데이터 간의 선형적 또는 비선형적 상관성을 파악하고 연속된 데이터들의 시간에 따른 <27> 경향을 파악하기 위해 5-day moving average 기법을 사용하여 확보된 장기간의 데이터 셋들에서 단기간의 변동 의 감소 및 제거를 행한다. 마지막으로, 신경망의 데이터 준비의 기본 단계인 데이터 표준화를 위해 각각 다른 스케일(Scale)로 분포하고 <28> 있는 모든 데이터들()이 0과 1사이의 값의 분포를 가질 수 있도록 표준화한다. 상기의 데이터 전처리부를 통해 표준화된 입력값들은 인공신경망부를 통해 예측 모델이 수립되도록 한 <29> 다. 본 발명은 Multi-layer feed-forward back-propagation network을 사용하게 되며, 따라서 뉴런들이 각 층들 즉 <30> 입력 층(Input layer), 은닉 층(Hidden layer), 출력 층(Output layer)에 배열되고, 각 층의 뉴런들은 연결 가 중치에 의해 연결된다. 즉, 표준화된 입력 데이터가 입력 층의 뉴런들에 입력되고, 은닉 층을 통해 출력 층으로 전달된다. <31> 상기 인공신경망부는 시행착오법(Trial and error method)에 의해 적절한 신경망의 구조와 epoch 수를 결정 <32> 하고, 선택된 신경망의 구조와 epoch 수를 바탕으로 훈련된 신경망을 일반화하기에 충분하게 가중치 값들을 결 정한다. 상기 인공신경망부는 상용 소프트웨어인 MATLAB에서 제공되는 neural network toolbox(The MathWorks <33> Inc., 2000)를 이용해서 모든 시뮬레이션 작업을 수행하였다. 상기 데이터 예측부는 상기의 인공신경망부을 통한 예측 모델을 수립함에 따라 이러한 인공신경망 모델 <34> - 6 -공개특허 10-2009-0078501을 통해 유입유량과 유입성분 농도의 예측을 수행하게 된다. 신경망을 이용한 대상 하수처리장의 유입수 예측 성능의 정량적 평가는 시뮬레이션을 통해 도출된 예측 값과 실 <35> 측 값 간의 오차에 의해 평가될 수 있는데 본 발명에서 개발된 신경망 모델의 정량적인 예측 성능 평가를 위하 여 평균 상대 오차율(Average relative difference)을 사용하게 된다. 도 2는 본 발명의 인공 신경망에 의한 하수처리장의 유입 유량 및 유입 성분 농도의 예측 방법의 전체 순서도를 <36> 도시하고 있다. 우선 실제 하수처리장으로부터의 데이터를 데이터수집부에 입력하는 데이터 수집단계(S10)를 수행하게 <37> 된다. 이를 위해 표준 활성슬러지 공정으로 설치 운영되고 있는 B시 A하수처리장을 인공신경망을 활용한 유입수 예측 <38> 모델 개발 대상 하수처리장으로 선정하였다. 대상 하수처리장에서 실제 측정된 2005년부터 2006년까지의 유입 수질 데이터들(유량, pH, DO, 온도, BOD, <39> CODMn, SS, TN, TP)과 기상 데이터들(강우량, 습도 및 기온 등)을 데이터수집부를 통해 수집하게 된다. 상기 데이터수집부를 통해 수집된 데이터셋은 데이터 전처리를 거치게 되며, 데이터 전처리를 거친 420개의 <40> 데이터 셋은 예측 모델 개발을 위해 사용되어진다. 이 중 210개의 데이터 셋을 신경망의 훈련을 위해 사용하였 고, 나머지 210개의 데이터 셋을 훈련된 신경망의 예측 성능을 검증하기 위해 사용하였다. 하기의 <표 1>은 대상 하수처리장 유입수의 통계학적 특성을 보여주고 있다. <41> <42> 여기서, Hum. : 습도, Temp. : 온도, Max. : 최대값, Min. : 최소값, S.D.: 표준편차 <43> 상기 데이터 수집단계를 수행하게 되면, 수집된 데이터를 표준화하기 위한 데이터 전처리 단계(S20)를 수행하게 <44> 된다. 이를 위해 우선, 하수처리장으로부터 확보된 상기 데이터들 중 데이터의 신뢰성을 떨어뜨릴 수 있는 이상치 <45> (Outlier)는 정확한 예측 모델을 개발하는 데 있어 방해 요인이 되므로 제거하게 된다. 본 발명에서는 이상치 제거를 위하여 관리도 기법을 사용하였다. <46> 식 에서와 같이 관리 상한선(Upper control limit, UCL)과 관리 하한선(Lower control limit, LCL)을 설정 <47> 하고, UCL과 LCL을 벗어나는 값들은 이상치로 간주하고 제거하였다. 본 연구에서는 Mjalli 등에 의해 제안된 값을 참조로 하여 상수를 3으로 사용하였다. <48> <49> 두 번째로 측정된 시계열 데이터 간의 선형적 또는 비선형적 상관성을 파악하고 연속된 데이터들의 시간에 따른 <50> 경향을 파악하기 위해 일반적으로 다양한 통계학적 처리를 행한다. 본 발명에서는, 다양한 통계학적 기법 중 하나로 식 2와 같이 표현될 수 있는 5-day moving average 기법을 사 <51> 용하였고, 이를 통해 확보된 장기간의 데이터 셋들에서 단기간의 변동의 감소 및 제거가 이루어졌다. 여기서, 는 측정 변수들, 는 현재 시점(Current time period)이다. - 7 -공개특허 10-2009-0078501그리고 이렇게 전처리 된 데이터들 간의 상관관계를 그래프를 통해 정성적으로 평가하고, 예측하고자 하는 변수 <52> 들 즉, 유입유량, CODMn, SS, TN 등과 상관관계가 높은 변수들을 신경망의 입력 변수로 사용하였다. <53> 마지막으로, 신경망의 데이터 준비의 기본 단계인 데이터 표준화를 위해 각각 다른 스케일(Scale)로 분포하고 <54> 있는 모든 데이터들()이 0과 1사이의 값의 분포를 가질 수 있게 식 3을 이용하여 표준화하였다. <55> 현재 시점을 기준으로 해 1일 뒤 유입 유량, CODMn, SS, TN 농도를 예측하기 위한 각각의 인공 신경망 모델을 개 <56> 발하기 위해, 전처리된 데이터의 그래프를 통한 정성적 평가 결과를 반영하여 예측하고자 하는 변수에 대한 적 절한 입력 변수들을 선택하였다. 도 5는 이러한 정성적 상관관계 평가의 한 예로 강수량과 유입 유량(a), 그리고 습도와 유입 유량과의 관계(b), <57> 다른 예측하고자 하는 변수들과 CODMn과의 관계(c, d)를 그래프를 통해 보여주고 있다. 도 5를 통해 볼 때, 강수량 및 습도의 증가는 유입 유량의 증가를 초래하고 이들의 감소는 유입 유량의 감소를 <58> 초래한다는 것을 알 수 있다. 이는 유입 유량과 강수량 및 습도와의 변화 거동이 비슷하다는 것을 의미한다. 이와 같은 그래프를 통한 정성적 상관관계 평가를 통해 유입 유량의 예측을 위한 입력 변수들로써 습도와 강수 <59> 량을 선택하였으며 그리고 시계열적 특성을 고려하여 1일 전 유입 유량을 선택하였다. 그리고, 도 5를 통해 볼 때, 다른 예측하고자 하는 변수들, 즉 목표 변수들과 유입 CODMn 농도와의 변화 거동 또 <60> 한 비슷하다는 것을 알 수 있고 이를 바탕으로 각각의 목표 변수들에 대한 입력변수로써 다른 변수들보다는 유 입 CODMn 농도를 선택하였다. 상기의 데이터 전처리를 수행한 후, 인공신경망을 통한 예측 모델을 수립하는 단계(S30)를 수행한다. <61> 상기 인공신경망은 인간의 뇌에 존재하는 생물학적 신경 세포와 이들의 연결 관계를 단순화시켜 수학적으로 모 <62> 델링하여 인간의 두뇌가 나타내는 지능적 형태를 구현하는 것이다. 현재 인공신경망은 시스템 규명, 예측, 패턴 인식, 분류 및 공정 제어 등의 분야들에서 많이 활용되고 있는데, <63> 이러한 인공신경망은 그 구조에 따라 single layer feed-forward network, multi-layer feed-forward network, feed-back network, recurrent network, self-organized network으로 분류되고, 신경망의 사용목적에 따라 적 절한 형태의 신경망 구조를 선택하게 된다. 본 발명은 유입수 예측을 목적으로 하므로, 모델링과 예측 분야에서 가장 일반적으로 사용되고 있는 Multi- <64> layer feed-forward back-propagation network을 사용하였다. 도 3은 일반적인 Multi-layer feed-forward back-propagation network의 구조를 보여준다. <65> 도 3을 통해 알 수 있듯이, 뉴런들이 각 층들 즉 입력 층(Input layer), 은닉 층(Hidden layer), 출력 층 <66> (Output layer)에 배열되고, 각 층의 뉴런들은 연결 가중치에 의해 연결된다. 표준화된 입력 데이터가 입력 층의 뉴런들에 입력되고, 은닉 층을 통해 출력 층으로 전달된다. 앞의 층의 뉴런 <67> 으로부터 다음 층의 뉴런으로의 신호 전달은 도 4와 같이 표현될 수 있으며, 본 연구에서는 식 4와 같이 표현되 는 tanh-sigmoid function을 신호전달을 위한 전달함수(Transfer function)로 사용하였다."}
{"patent_id": "10-2008-0004364", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 3, "content": "<68> 신경망에서 학습(Learning)이란 각 뉴런들 간에 연결된 가중치의 조절을 통해 실측치와 신경망을 통해 계산된 <69> 출력치 간의 오차를 최소화 시키는 것을 의미한다. - 8 -공개특허 10-2009-0078501본 발명에서는 오차공간(Error space)에서 지역극소(Local minimum)에 빠졌을 때, 더 이상 학습을 수행할 수 없 <70> 다는 단점을 가진 역전파(Back-propagation) 알고리즘 대신에, 역전파 알고리즘의 단점을 극복하고 더 빠른 학 습이 가능한 Levenberg-Marquart(LM) 알고리즘 을 학습 알고리즘으로 사용하였다. 신경망의 성능을 결정하는 주요한 인자는 신경망의 구조, 신경망의 학습 종료 시점( 즉, epoch 수) 및 주어지는 <71> 가중치의 값이다. 신경망의 구조와 학습을 위한 epoch 수와 가중치 값을 결정하는 데 있어 절대적인 방법은 없다. <72> 따라서, 본 발명에서는 시행착오법(Trial and error method)에 의해 적절한 신경망의 구조와 epoch 수를 결정하 <73> 였고, 선택된 신경망의 구조와 epoch 수를 바탕으로 훈련된 신경망을 일반화하기에 충분하게 가중치 값들을 결 정하였다. 본 발명에서 상용 소프트웨어인 MATLAB에서 제공되는 neural network toolbox(The MathWorks Inc., 2000)를 이 <74> 용해서 모든 시뮬레이션 작업을 수행하였다. 도 6은 현재 시점 기준 1일 뒤 유입 유량의 예측하기 위해 시행 착오법(Trial and error method)에 의해 결정되 <75> 어 구성된 신경망의 구조를 보여준다. 도 6를 통해 알 수 있듯이, 유입 유량의 예측을 위한 인공신경망은 하나의 입력 층, 두개의 은닉 층, 하나의 출 <76> 력 층으로 구성되고, 입력 층에는 4개의 뉴런, 두 개의 은닉 층에는 각 층에 5개의 뉴런 그리고 출력 층에는 하 나의 뉴런이 배치되게 구성하였다. 하기의 <표 2>는 현재 시점 기준 1일 뒤 COD, SS, TN 농도를 예측하기 위해 구성된 신경망의 구조에 대한 정보 <77> 를 보여주고 있다. <표 2> <78> <79> Where, t: 현재, t-1: 현재로부터 1일 전, t+1: 현재로부터 1일 후 <80> 도 6과 <표 2>에서 설명된 것과 같은 구조를 가지는 신경망을 epoch 수를 100으로 고정한 뒤 가중치의 변화를 <81> 통해 훈련 데이터 셋을 이용하여 신경망의 학습을 수행하였고, 검증 데이터 셋을 이용하여 훈련된 신경망의 예 측 성능을 평가 하였다. 본 발명에서 epoch수를 100으로 선정한 이유는 epoch 수가 100 이상으로 주어졌을 때는 가중치의 변화에 상관없 <82> 이 과도한 훈련(Training)으로 인해, 과적합(Overfitting)의 문제가 발생하였기 때문이다. 상기의 인공신경망을 통한 예측 모델을 수립하는 단계(S30)를 수행하게 되면, 이러한 인공신경망 모델을 통해 <83> 유입유량과 유입성분 농도의 예측단계(S40)를 수행하게 된다. 도 7은 각 목표 변수들의 현재시점 기준 1일 뒤 예측을 위해 210개의 데이터 셋을 이용하여 신경망이 훈련된 결 <84> 과와, 나머지 210개의 검증(Validation) 데이터 셋을 이용하여 훈련된 신경망에 의해 예측된 결과를 보여준다. 여기서 각 그래프는 (a) 유출량, (b) CODMn, (c) SS, (d) TN의 예측 결과에 관한 도면이다. <85> 신경망을 이용한 대상 하수처리장의 유입수 예측 성능의 정량적 평가는 시뮬레이션을 통해 도출된 예측 값과 실 <86> 측 값 간의 오차에 의해 평가될 수 있다. - 9 -공개특허 10-2009-0078501따라서 본 발명에서 개발된 신경망 모델의 정량적인 예측 성능 평가를 위하여 아래의 식 와 같이 표현되는 <87> 평균 상대 오차율(Average relative difference)을 사용하였다. 여기서, N은 비교된 총 변수의 수, 는 i번째 측정 값, 는 i번째 예측 값이다. 예측 변수별 평균 상태 오차율은 <표 3>에 나타내었다."}
{"patent_id": "10-2008-0004364", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 4, "content": "<88> <표 3> <89> <90> 도 7과 <표 3>를 통해 현재 시점 기준 1일 뒤 각 유입 성분들을 예측하기 위해 인공 신경망의 훈련이 적절하게 <91> 이루어졌음을 확인할 수 있었고, 훈련에 사용되지 않은 데이터를 사용하여 훈련된 인공 신경망의 성능을 검증한 결과, 각 목표 변수들의 실측값들의 변화 거동을 훈련된 인공 신경망이 잘 묘사하고 있을 뿐만 아니라, 상대 오 차율이 유량의 경우 0.65%, CODMn의 경우 1.69%, SS의 경우 3.16%, TN의 경우 1.96% 정도로 일반적인 95% 신뢰 구간에 포함되는 5%미만의 낮은 값을 나타낸다는 것을 알 수 있다. 이러한 검증 결과를 통해 평가할 때, 현재 시점 기준 1일 뒤 유입 유량 및 유입 성분들의 농도를 예측하기 위해 <92> 개발된 인공 신경망 모델이 대상 하수처리장에 한해서는 일반화되어 사용될 수 있다는 것이 된다. 상기 현재시점 기준 1일 뒤의 예측에 이어, 현재 시점 기준 2일, 3일 뒤 예측을 수행한 결과, 현재 시점 기준 2 <93> 일 뒤, 3일 뒤 각 유입 유량, COD, SS, TN의 예측을 위해 epoch 수를 100으로 고정한 후, 가중치 값의 변화만을 통해 현재 시점 기준 1일 뒤 예측을 위해 사용된 인공신경망과 같은 입력 변수들과 구조를 가지는 인공 신경망 의 학습이 이루어졌다. 도 8과 도 9에서 각각 (a) 유입량 (b) CODMn,(c) SS, (d) TN에 관한 예측 그래프이다. <94> <표 4>와 <표 5>는 개발된 인공 신경망의 예측 성능 평가를 위한 정량적 지표로 사용된 상대 오차율을 <95> 보여준다. <표 4> <96> <97> <표 5> <98> <99> 이를 통해, 현재 시점 기준 2일 뒤, 3일 뒤 예측을 위해 개발된 인공 신경망 모델은 과적합(Overfitting)의 문 <100> 제를 발생시키지 않으면서 각 목표 변수들의 변화 거동을 적절하게 예측하고 있다는 것을 알 수 있었다. 그러므로, 현재 시점 기준 1일 뒤 예측을 위한 인공 신경망과 같은 구조를 가지면서, 단지 연결 가중치 값만이 <101> - 10 -공개특허 10-2009-0078501다른, 현재 시점 기준 2일 뒤, 3일 뒤 예측을 위한 인공 신경망 모델이 적절하게 개발되었다고 할 수 있다."}
