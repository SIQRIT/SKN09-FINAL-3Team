{"patent_id": "10-2021-0014454", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2022-0111337", "출원번호": "10-2021-0014454", "발명의 명칭": "피부진단장치", "출원인": "광주과학기술원", "발명자": "장용준"}}
{"patent_id": "10-2021-0014454", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "인공지능으로 학습한 학습모델을 저장하는 피부진단장치이고, 상기 학습모델을 제공하는 학습부는, 입력 이미지를 전처리하는 전처리모듈;상기 전처리모듈에서 전처리된 이미지를 학습하는 보조 네트워크; 및상기 입력 이미지와 상기 보조 네트워크의 학습결과를 입력받아 학습하는 주 네트워크가 포함되는피부진단장치."}
{"patent_id": "10-2021-0014454", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서, 상기 보조 네트워크는 제 1 CNN 레이어이고, 상기 주 네트워크는, 상기 제 1 CNN 레이어의 각 레이어의 출력을 입력받는 제 2 CNN 레이어가 포함되는 피부진단장치."}
{"patent_id": "10-2021-0014454", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 2 항에 있어서, 상기 주 네트워크에는, 상기 제 1 CNN 레이어의 출력, 및 상기 제 2 CNN 레이어의 출력을 학습하는 fullyconnected 레이어가 포함되는 피부진단장치."}
{"patent_id": "10-2021-0014454", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 1 항에 있어서, 상기 전처리모듈은, 상기 입력 이미지 중에서 트러블이 있는 영역만 추출하여 상기 보조 네트워크로 출력하는 피부진단장치."}
{"patent_id": "10-2021-0014454", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 4 항에 있어서, 상기 입력 이미지에서 트러블이 있는 영역을 추출하는 마스크를 생성하고, 상기 마스크를 이용하여 상기 입력 이미지에서 상기 트러블을 추출하는 피부진단장치."}
{"patent_id": "10-2021-0014454", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 5 항에 있어서, 상기 입력 이미지의 분리된 채널 중에서 B채널을 이용하여 상기 마스크를 생성하는 피부진단장치."}
{"patent_id": "10-2021-0014454", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제 1 항에 있어서, 상기 입력 이미지는, UV이미지 및 RGB이미지 중의 적어도 하나인 피부진단장치. 공개특허 10-2022-0111337-3-"}
{"patent_id": "10-2021-0014454", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명의 피부진단장치는, 인공지능으로 학습한 학습모델을 저장하는 피부진단장치이고, 상기 학습모델을 제공 하는 학습부는, 입력 이미지를 전처리하는 전처리모듈; 상기 전처리모듈에서 전처리된 이미지를 학습하는 보조 네트워크; 및 상기 입력 이미지와 상기 보조 네트워크의 학습결과를 입력받아 학습하는 주 네트워크가 포함될 수 있다."}
{"patent_id": "10-2021-0014454", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 피부를 진단하는 피부진단장치에 관한 것이다."}
{"patent_id": "10-2021-0014454", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "화장품산업, 및 미용산업의 발전과 함께 개인의 피부를 정성적으로 파악하는 기술이 발전하고 있다. 피부상태를 정확하게 알아내고, 그 피부상태에 맞는 화장품과 미용기구를 사용하는 것이 바람직하다. 상기 피부상태를 진단하는 종래 기술로는, 대한민국 등록특허 KR102041906B1 '피부상태를 진단하는 안면피부촬 영장치를 통해 촬영된 이미지 이미지를 활용하여 피부질환을 판별하는 인공지능 기반의 안면 피부질환 판별용 api 엔진'가 소개된 바가 있다. 상기 종래 기술은 분류된 class마다 독립적인 CNN을 사용하고, CNN으로 획득한 특징 벡터를 확률값으로 변환하 여 진단결과를 예측한다. 이때문에 처리가 복잡하고 전체 이미지 영역의 정보를 활용하기가 어려운 문제점이 있 다. 선행기술문헌 특허문헌 (특허문헌 0001) 대한민국 등록특허 KR102041906B1: 피부상태를 진단하는 안면피부촬영장치를 통해 촬영된 이미 지 이미지를 활용하여 피부질환을 판별하는 인공지능 기반의 안면 피부질환 판별용 api 엔진"}
{"patent_id": "10-2021-0014454", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 상기되는 배경하에서 제안되는 것으로서, 사람 얼굴의 전반적인 피부상태 진단뿐만 아니라 국소부위 피부상태진단도 활용할 수 있는 피부진단장치를 제안한다."}
{"patent_id": "10-2021-0014454", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 피부진단장치는, 인공지능으로 학습한 학습모델을 저장하는 피부진단장치이고, 상기 학습모델을 제공 하는 학습부는, 입력 이미지를 전처리하는 전처리모듈; 상기 전처리모듈에서 전처리된 이미지를 학습하는 보조 네트워크; 및 상기 입력 이미지와 상기 보조 네트워크의 학습결과를 입력받아 학습하는 주 네트워크가 포함될 수 있다. 상기 보조 네트워크는 제 1 CNN 레이어일 수 있다. 상기 주 네트워크네는, 상기 제 1 CNN 레이어의 각 레이어의 출력을 입력받는 제 2 CNN 레이어가 포함될 수 있 다. 상기 주 네트워크에는, 상기 제 1 CNN 레이어의 출력, 및 상기 제 2 CNN 레이어의 출력을 학습하는 fully connected 레이어가 포함될 수 있다. 상기 전처리모듈은, 상기 입력 이미지 중에서 트러블이 있는 영역만 추출하여 상기 보조 네트워크로 출력할 수 있다. 상기 입력 이미지에서 트러블이 있는 영역을 추출하는 마스크를 생성하고, 상기 마스크를 이용하여 상기 입력 이미지에서 상기 트러블을 추출할 수 있다. 상기 입력 이미지의 분리된 채널 중에서 B채널을 이용하여 상기 마스크를 생성할 수 있다. 상기 입력 이미지는, UV이미지 및 RGB이미지 중의 적어도 하나일 수 있다."}
{"patent_id": "10-2021-0014454", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따르면, 전처리모듈과 보조 네트워크를 이용하여 국소부위의 피부상태를 정확하게 진단할 수 있는 장 점이 있다."}
{"patent_id": "10-2021-0014454", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하에서는 도면을 참조하여 본 발명의 구체적인 실시예를 상세하게 설명한다. 다만, 본 발명의 사상은 이하에 제시되는 실시예로 제한되지 아니하고, 본 발명의 사상을 이해하는 당업자는 동일한 사상의 범위 내에 포함되는 다른 실시예를 구성요소의 부가, 변경, 삭제, 및 추가 등에 의해서 용이하게 제안할 수 있을 것이나, 이 또한 본 발명 사상의 범위 내에 포함된다고 할 것이다. 도 1은 실시예의 피부진단장치의 학습부를 보이는 도면이다. 도 1을 참조하면, 본 발명의 피부진단장치는 두 개의 네트워크를 가질 수 있다. 두 개의 네트워크 중의 하나는 보조 네트워크이고 다른 하나는 주 네트워크이다. 상기 학습부는 인공지능으로 정의될 수 있다. 상기 인공지능은 학습된 학습모델을 제공할 수 있다. 상기 보조 네트워크는 전처리모듈에서 전처리된 이미지를 학습한다. 상기 보조 네트워크는 학습된 결과를 상기 주 네트워크로 전달하여 학습이 더 진행될 수 있다. 상기 보조 네트워크는 제 1 CNN 레이 어로 제공될 수 있다. 상기 보조 네트워크는 입력 이미지의 특정 부위를 세분화하여 분석할 수 있다. 예를 들어 색소침착 등의 트러블이 일어난 부위를 특정하여 분석할 수 있다. 상기 트러블에는 색소침착과 함께, 모공, 피지, 민감도, 피부톤, 및 주름의 정보를 포함할 수 있다. 상기 주 네트워크는, 제 2 CNN 레이어와 fully connected 레이어를 포함할 수 있다. 상기 제 1 CNN 레이더의 각 레이어의 출력은 상기 제 2 CNN 레이어의 각 레이어로 입력될 수 있다. 상기 주 네트 워크는 상기 입력 이미지의 전체적인 특징을 분석할 수 있다. 상기 전처리모듈은, 상기 입력 이미지를 전처리하여 국소적인 특징을 잘 나타내도록 할 수 있다. 상기 국소 적인 특징은 상기 트러블이 있는 영역의 특징을 의미할 수 있다. 도 2는 상기 전처리모듈의 동작을 예시로 설명하는 도면으로서, 색소침착을 위한 전처리모듈을 보이는 도면이다. 도 2를 참조하면, 상기 색소침착의 학습을 위한 전처리모듈에서 사용하는 상기 입력이미지은 UV이미지일 수 있 다. 상기 UV이미지는 저장과정에서 RGB포맷으로 저장될 수 있다. 피부에서 색소침착 부위를 추출하기 위해 UV이 미지를 R, G, 및 B 세 개의 채널로 분리할 수 있다(S1). 색소침착이 진행된 부위는, 상기 UV이미지에서 대체로 붉게 나타나고, 정상적인 부위는 UV이미지에서 파랗게 나 타날 수 있다. 그러므로, 상기 B 채널의 값은, 색소침착 부위가 다른 부위보다 상대적으로 낮게 나타날 수 있다. 예를 들어 도 3의 예시이미지를 참조하여, 색소침착 부위(윗쪽 추출블럭)는 다른 부위(아랫쪽 추출블럭) 에 비하여 상기 B 채널의 값이 낮은 것을 확인할 수 있다. 위와 같이 색소침착 부위의 측징을 이용하여 마스크를 추출할 수 있다. 구체적으로, 상기 B채널에서 화소값이 일정임계값보다 낮은 화소들은 화소값을 255로 치환하고, 나머지 화소들의 화소값은 0으로 치환해 마스크를 생 성할 수 있다(S2). 추출된 마스크는 흑백의 마스크로 추출된 것을 확인할 수 있다. 상기 일정임계값은 160~200의 범위에 포함되는 어느 값으로 정할 수 있다. 상기 마스크를 이용하여 상기 입력이미지 중에서 상기 색소침착 부위를 추출해 낼 수 있다(S3). 111은 추출된 이미지로서, 상기 마스크를 이용하여 색소침착 부위가 세부특징으로서 추출된 것을 볼 수 있다. 상기 추출된 이미지는 보조 네트워크에 의해서 학습될 수 있다. 따라서, 상기 색소침착 부위에 대하여 더 정확한 학습이 수행될 수 있다. 상기 전처리모듈은 상기 색소침착 부위뿐만 아니라, 모공, 피지, 민감도, 피부톤, 및 주름에 대하여 마찬가 지의 방법으로 수행될 수 있다. 즉, 상기 마스크를 생성하고, 생성된 마스크를 이용하여 트러블이 있는 영역만 을 추출하고, 추출된 영역이 보조 네트워크에 의해서 학습되도록 할 수 있다. 상기 전처리모듈은 상기 마스크를 이용하는 방식 외에 다른 기능을 수행할 수 있다. 예를 들어, 이미지의 그라디언트 정보를 추출하여, 피부의 잡티를 검출할 수 있다. 도 4는 이미지의 그라디언트 정보를 추출하는 과정을 설명하는 도면이다. 도 4를 참조하면, 입력이미지은 UV이미지일 수 있다. 상기 UV이미지는 저장과정에서 RGB포맷으로 저장될 수 있 다. 상기 UV이미지를 R, G, 및 B 세 개의 채널로 분리할 수 있다(S11). 각각의 채널로 분리된 R, G, 및 B이미지에서 각각의 그라디언트 정보를 추출할 수 있다(S12). R, G, 및 B이미지 의 그라디언트를 평균하거나, 특징적인 어느 하나의 채널의 그라디언트 값을 사용하는 것에 의해서 피부의 잡티 를 검출하는데 이용할 수 있다. 상기 그라디언트 값을 이용하여 피부의 잡티를 평가할 수도 있다. 도 5는 실시예의 피부진단장치의 학습부의 상세구성을 보이는 도면이다. 도 5를 참조하면, 실시예의 피부진단장치는 두 개의 학습 네트워크를 가질 수 있다. 두 개의 학습 네트워크 중 의 하나는 보조 네트워크이고 다른 하나는 주 네트워크이다. 상기 네트워크는 인공지능으로 정의될 수 있다. 상기 인공지능은 학습모델을 제공할 수 있다. 상기 보조 네트워크는 전처리모듈에서 전처리된 이미지를 학습한다. 상기 전처리모듈은 본 실시예 에서는 색소침착 부위를 식별하기 위하여 전처리가 수행될 수 있다. 상기 보조 네트워크는 학습된 결과를 상기 주 네트워크로 전달하여 학습이 더 진행될 수 있다. 상기 보조 네트워크는 제 1 CNN 레이어로 제공될 수 있다. 상기 주 네트워크는, 제 2 CNN 레이어와 fully connected 레이어를 포함할 수 있다. 이미 설명된 바와 같이, 상기 제 1 CNN 레이더의 각 레이어의 출력은 상기 제 2 CNN 레이어의 각 레이어로 입력되어 정확하게 학습될 수 있다. 상기 제 1, 2 CNN 레이어의 출력은, 상기 fully connected 레이어에 의해서 학습되고, 학습모델 을 출력할 수 있다. 도 5에서 제시된 학습부를 통하여 제공된 학습모델은, 입력이미지에 대하여 피부상태를 진단할 수 있다. 상기 학습모델은 상기 입력이미지을 평가하여 피부를 진단할 수 있다. 상기 학습모델은 상기 트러블의 종류 별로 정확하게 학습이 수행될 수 있기 때문에, 정확한 피부진단이 가능한 장점이 있다. 한편, 상기 실시예에서는 입력이미지로서 UV이미지가 사용되는 것을 예시하였다. 그러나 그 경우에 제한되지 않 고, UV이미지 및 RGB이미지(일반이미지)이 상기 보조 네트워크와 상기 주 네트워크에 선택적으로 사용될 수 있 다. 도 6은 입력이미지의 선택경우를 나타내는 도면이다. 도 6(a)는 보조 네트워크와 주 네트워크에 모두 UV이미지가 입력되는 경우이다. 도 6(b)는 보조 네트워크에는 RGB이미지가 입력되고, 주 네트워크에는 UV이미지가 입력되는 경우이다. 도 6(c)는 보조 네트워크에는 UV이미지 가 입력되고, 주 네트워크에는 RGB이미지가 입력되는 경우이다. 도 6(d)는 보조 네트워크 및 주 네트워크에 모 두 RGB이미지가 입력되는 경우이다. 입력되는 두 이미지는, 서로 동기화되는 동일한 피부 영역의 정보를 가질 수 있다. 물론, 다른 종류의 방법을 촬영한 이미지가 입력될 수도 있다. 이는 피부 트러블을 나타내기에 적합한 이미지의 속성에 따라서 달라질 수 있는 것을 의미할 수 있다. 실험결과를 제시한다. 실험은 UV이미지를 보조 네트워크 및 주 네트워크에 이용하고, 72개의 학습 데이터로 훈 련하고, 13개의 테스트 데이터로 테스트를 수행한 결과이다. 트러블의 종류는 색소침착으로 하였다. 실험을 수행한 결과, 정확도(accuracy)는 79.92%였다. 이 결과는 보조 네트워크를 활용하지 않은 학습모델인 경 우의 69.23%에 비하여 7.69% 향상된 것을 확인할 수 있었다. 여기서, 정확도는 참값(ground truth)으로서 색소 침착이 있는 것으로 판단한 이미지을, 제공된 학습모델이 얼마나 잘 걸러내었는지를 기준으로 하였다. 산업상 이용가능성 본 발명에 따르면, 피부의 다양한 트러블을 보다 정확하게 진단할 수 있다."}
{"patent_id": "10-2021-0014454", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 실시예의 피부진단장치의 학습부를 보이는 도면. 도 2는 전처리모듈의 동작을 예시로 설명하는 도면으로서, 색소침착을 위한 전처리모듈을 보이는 도면. 도 3의 색소침착부위의 예시이미지. 도 4는 이미지의 그라디언트 정보를 추출하는 과정을 설명하는 도면. 도 5는 피부진단장치의 학습부의 상세구성을 보이는 도면. 도 6은 입력이미지가 선택되는 경우를 나타내는 도면."}
