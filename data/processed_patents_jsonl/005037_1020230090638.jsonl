{"patent_id": "10-2023-0090638", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0009897", "출원번호": "10-2023-0090638", "발명의 명칭": "이미지 처리 방법, 전자 장치 및 컴퓨터 판독 가능저장 매체", "출원인": "주식회사 메디트", "발명자": "김두수"}}
{"patent_id": "10-2023-0090638", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "적어도 하나의 구강 이미지를 수신하는 단계;상기 적어도 하나의 구강 이미지에 대응하는 스캔 데이터를 기초로 연산하는 단계;상기 연산 단계에 기초하여, 상기 스캔 데이터 내 복수의 기준점을 설정하는 단계; 및상기 복수의 기준점을 기초로 생성된 교합 평면을 기초로 상기 스캔 데이터를 정렬하는 단계;를 포함하는 이미지 처리 방법"}
{"patent_id": "10-2023-0090638", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서, 상기 복수의 기준점의 위치를 외부 입력을 통해 조정하는 단계를 더 포함하고,상기 교합 평면은 조정된 상기 복수의 기준점의 위치를 기초로 생성되는 이미지 처리 방법."}
{"patent_id": "10-2023-0090638", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서, 상기 스캔 데이터를 기초로 연산하는 단계는,상기 적어도 하나의 스캔 데이터에 포함되는 메시 데이터를 기초로 상기 스캔 데이터의 초기 교합면 방향을 추출하고,상기 스캔 데이터의 교두 정보를 생성하고,상기 교두 정보를 기초로 상기 스캔 데이터의 전면 방향 및 정중선을 설정하고,상기 전면 방향에서의 상기 스캔 데이터의 전면 형상을 기초로 상기 정중선을 조정하는 것을 포함하는 이미지처리 방법."}
{"patent_id": "10-2023-0090638", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,상기 초기 교합면 방향을 추출하는 것은, 상기 메시 데이터의 법선 벡터를 처리하여 평균 법선 벡터를 구하는 것을 포함하는 이미지 처리 방법."}
{"patent_id": "10-2023-0090638", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제3항에 있어서,상기 초기 교합면 방향을 추출하는 것은,상기 메시 데이터를 포함하는 3차원 바운딩 박스(3D-Oriented Bounding Box)를 생성하고, 상기 3차원 바운딩 박스에서 최소 길이를 갖는 최소 모서리에 대한 벡터를 추출하는 것을 포함하는 이미지 처리방법."}
{"patent_id": "10-2023-0090638", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제3항에 있어서,상기 교두 정보를 생성하는 것은,공개특허 10-2024-0009897-3-상기 초기 교합면 방향을 기초로 상기 스캔 데이터 내 복수의 극대점(local maximum point)을 생성하고,상기 복수의 극대점 중 교두점을 선택하는 것을 포함하는 이미지 처리 방법."}
{"patent_id": "10-2023-0090638", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제3항에 있어서,상기 교두 정보를 생성하는 것은,인공지능 알고리즘을 통하여, 상기 스캔 데이터 내 복수의 치아의 치아 번호를 인식하고, 상기 치아 번호의 특징을 기초하여 상기 스캔 데이터에 대한 상기 교두 정보를 생성하는 것을 포함하는 이미지처리 방법."}
{"patent_id": "10-2023-0090638", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제3항에 있어서, 상기 스캔 데이터의 상기 전면 방향 및 상기 정중선을 설정하는 것은,상기 교두 정보를 기초로, 상기 스캔 데이터로부터 구치부를 추출하고, 상기 구치부에 포함되고, 서로 이격된 제1 및 제2 2차원 바운딩 박스(2D-Oriented Bounding Box)를 생성하는 것을 포함하는 이미지 처리 방법."}
{"patent_id": "10-2023-0090638", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에 있어서, 상기 전면 방향을 설정하는 단계는,각각의 상기 제1 및 제2 2차원 바운딩 박스에서 서로 인접하게 배치되는 제1 및 제2 내측 장변에 대한 제1 및제2 내측 벡터를 추출하고, 상기 제1 내측 벡터와 상기 제2 내측 벡터의 평균 벡터를 생성하는 것을 포함하는 이미지 처리 방법."}
{"patent_id": "10-2023-0090638", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서,상기 정중선을 설정하는 단계는,상기 제1 2차원 바운딩 박스 내에 제1 기준점과 상기 제2 2차원 바운딩 박스 내에 제2 기준점을 설정하고, 상기 제1 기준점과 상기 제2 기준점의 중점에서 연장되는 상기 평균 벡터를 기초로 제3 기준점을 설정하는 것을포함하는 이미지 처리 방법."}
{"patent_id": "10-2023-0090638", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제10항에 있어서,상기 정중선을 조정하는 것은, 상기 제3 기준점을 포함하는 인접 영역을 설정하고,상기 인접 영역 내 상기 스캔 데이터의 곡률 정보를 기초로 실린더 피팅을 수행하여 중앙 실린더를 생성하고,상기 중앙 실린더가 연장되는 방향과 수직한 방향으로 상기 제3 기준점을 상기 중앙 실린더에 투영하여 중앙 기준점을 설정하는 것을 포함하는 이미지 처리 방법."}
{"patent_id": "10-2023-0090638", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "사용자 인터페이스 장치;프로세서 및공개특허 10-2024-0009897-4-상기 프로세서에 의해 실행 가능한 명령어들을 저장하는 메모리를 포함하되,상기 프로세서는, 상기 명령어들을 실행하여,적어도 하나의 구강 이미지를 수신하고,상기 적어도 하나의 구강 이미지에 대응하는 스캔 데이터를 기초로 연산하고,상기 스캔 데이터의 상기 연산에 기초하여, 상기 스캔 데이터 내 복수의 기준점을 설정하고,상기 복수의 기준점을 기초로 생성된 교합 평면을 기초로 상기 스캔 데이터를 정렬하는 전자 장치."}
{"patent_id": "10-2023-0090638", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제12항에 있어서,상기 프로세서는 복수의 기준점의 위치를 외부 입력을 통해 조정하고,상기 교합 평면은 조정된 상기 복수의 기준점의 위치를 기초로 생성되는 전자 장치."}
{"patent_id": "10-2023-0090638", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제12항에 있어서,상기 스캔 데이터를 기초로 연산하는 것은,상기 적어도 하나의 스캔 데이터에 포함되는 메시 데이터를 기초로 상기 스캔 데이터의 초기 교합면 방향을 추출하고,상기 스캔 데이터의 교두 정보를 생성하고,상기 교두 정보를 기초로 상기 스캔 데이터의 전면 방향 및 정중선을 설정하고,상기 전면 방향에서의 상기 스캔 데이터의 전면 형상을 기초로 상기 정중선을 조정하는 것을 포함하는 전자 장치."}
{"patent_id": "10-2023-0090638", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제14항에 있어서,상기 초기 교합면 방향을 추출하는 것은, 상기 메시 데이터의 법선 벡터를 처리하여 평균 법선 벡터를 구하는 것을 포함하는 전자 장치."}
{"patent_id": "10-2023-0090638", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제14항에 있어서,상기 초기 교합면 방향을 추출하는 것은,상기 메시 데이터를 포함하는 3차원 바운딩 박스(3D-Oriented Bounding Box)를 생성하고, 상기 3차원 바운딩 박스에서 최소 길이를 갖는 최소 모서리에 대한 벡터를 추출하는 것을 포함하는 전자 장치."}
{"patent_id": "10-2023-0090638", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제14항에 있어서,상기 교두 정보를 생성하는 것은,상기 초기 교합면 방향을 기초로 상기 스캔 데이터 내 복수의 극대점(local maximum point)을 생성하고,상기 복수의 극대점 중 교두점을 선택하는 것을 포함하는 전자 장치."}
{"patent_id": "10-2023-0090638", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "제14항에 있어서, 공개특허 10-2024-0009897-5-상기 교두 정보를 생성하는 것은,인공지능 알고리즘을 통하여, 상기 스캔 데이터 내 복수의 치아의 치아 번호를 인식하고, 상기 치아 번호의 특징을 기초하여 상기 스캔 데이터에 대한 상기 교두 정보를 생성하는 것을 포함하는 전자 장치."}
{"patent_id": "10-2023-0090638", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_19", "content": "제14항에 있어서, 상기 스캔 데이터의 상기 전면 방향 및 상기 정중선을 설정하는 것은,상기 교두 정보를 기초로, 상기 스캔 데이터로부터 구치부를 추출하고, 상기 구치부에 포함되고, 서로 이격된 제1 및 제2 2차원 바운딩 박스(2D-Oriented Bounding Box)를 생성하는 것을 포함하는 전자 장치."}
{"patent_id": "10-2023-0090638", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_20", "content": "컴퓨터에 의해 판독 가능한 명령어들을 포함하는 컴퓨터 판독 가능 저장 매체로서,상기 명령어들은, 컴퓨터로 하여금,적어도 하나의 구강 이미지를 수신하는 단계;상기 적어도 하나의 구강 이미지에 대응하는 스캔 데이터를 기초로 연산하는 단계;상기 연산 단계에 기초하여, 상기 스캔 데이터 내 복수의 기준점을 설정하는 단계; 및상기 복수의 기준점을 기초로 생성된 교합 평면을 기초로 상기 스캔 데이터를 정렬하는 단계를 수행하게 하는컴퓨터 판독 가능 저장 매체."}
{"patent_id": "10-2023-0090638", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "이미지 처리 방법, 이를 수행하는 전자 장치 및 이를 저장하는 컴퓨터 판독 가능 저장 매체가 제공된다. 상기 이 미지 처리 방법은 적어도 하나의 구강 이미지에 대응되는 스캔 데이터를 로드하는 단계, 상기 스캔 데이터를 기 초로 연산하는 단계, 상기 연산 단계에 기초하여, 상기 스캔 데이터 내 복수의 기준점을 설정하는 단계 및 상기 복수의 기준점을 기초로 생성된 교합 평면을 기초로 상기 스캔 데이터를 정렬하는 단계를 포함한다."}
{"patent_id": "10-2023-0090638", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 개시는 이미지 처리 방법, 전자 장치 및 컴퓨터 판독 가능 저장 매체에 관한 것이다."}
{"patent_id": "10-2023-0090638", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "턱관절 장애, 치아외상, 충치, 잇몸질환 등을 치료하기 위해, 구강에 삽입되어 배치되는 구강 구조물(스플린트, 임시치아 등)들이 활용될 수 있다. 삽입되는 구강의 특성을 반영하여 구강 구조물을 제작하기 위해, 구강을 스 캔한 구강 이미지를 구강 구조물의 제작에서 활용하고 있다. 이러한 구강 구조물을 제작하는 데 있어, 구강의 전면 방향이 특정되어야 하거나 경우에 따라 치아에 대한 상세 한 해부학적 좌표계가 요구될 수 있다. 예컨대, 대합치가 배치되는 평면 지정을 통해 마진 라인 추출, 보철물 삽입 방향 등을 결정할 수 있고, 악궁의 정중선을 인지하여 치아의 좌/우 판단을 하거나 구강의 전면 방향 인지 하여 전치부와 구치부를 인식/분리할 수 있어 이후의 후속 작업을 진행하는 데 크게 도움을 줄 수 있다. 다만, 현재 구강 구조물의 제작 과정에서는 사용자의 수작업 방식을 통해 구강의 전면 방향과 교합 평면이 특정 되어, 제작에 있어 많은 시간이 소요되고 정확도 또한 떨어지는 문제가 있다."}
{"patent_id": "10-2023-0090638", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "개시된 실시예들은 스캔 데이터에 대한 연산 처리를 통해, 효율적이고 정확하게 구강의 전면 방향과 교합 평면 을 특정할 수 있다."}
{"patent_id": "10-2023-0090638", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "개시된 일 실시예에 따르면, 적어도 하나의 스캔 데이터를 수신하는 단계, 상기 적어도 하나의 스캔 데이터에 포함되는 메시 데이터를 기초로 상기 스캔 데이터의 초기 교합면 방향을 추출하는 단계, 상기 초기 교합면 방향 을 기초로 상기 스캔 데이터의 교두 정보를 생성하는 단계, 상기 교두 정보를 기초로 상기 스캔 데이터의 전면 방향 및 정중선을 설정하는 단계, 상기 스캔 데이터에 인접하는 실린더를 생성하여 상기 정중선을 조정하는 단 계, 상기 조정 동작을 기초로 상기 스캔 데이터의 교합 평면을 설정하는 단계를 포함하는 이미지 처리 방법이 제공된다. 개시된 또 다른 일 실시예에 따르면, 사용자 인터페이스 장치, 프로세서 및 상기 프로세서에 의해 실행 가능한 명령어들을 저장하는 메모리를 포함하되, 상기 프로세서는, 상기 명령어들을 실행하여, 적어도 하나의 스캔 데 이터를 수신하고, 상기 적어도 하나의 스캔 데이터에 포함되는 메시 데이터를 기초로 상기 스캔 데이터의 초기 교합면 방향을 추출하고, 상기 초기 교합면 방향을 기초로 상기 스캔 데이터의 교두 정보를 생성하고, 상기 교 두 정보를 기초로 상기 스캔 데이터의 전면 방향 및 정중선을 설정하고, 상기 스캔 데이터에 인접하는 실린더를 생성하여 상기 정중선을 조정하고, 상기 조정 동작을 기초로 상기 스캔 데이터의 교합 평면을 설정하는 전자 장 치가 제공된다."}
{"patent_id": "10-2023-0090638", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "개시된 실시예들에 따르면, 구강의 전면 방향과 교합 평면을 자동으로 특정하고 구강 이미지를 정렬하여 구강 구조물을 제작하는 데 소요되는 시간을 절감시킬 수 있다. 개시된 실시예들에 따르면, 중절치 사이로 악궁의 정중선을 배치시켜 정교하게 구강 이미지를 정렬시킬 수 있다."}
{"patent_id": "10-2023-0090638", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부한 도면을 참고로 하여 본 발명의 여러 실시예들에 대하여 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자가 용이하게 실시할 수 있도록 상세히 설명한다. 본 발명은 여러 가지 상이한 형태로 구현될 수 있으며 여기에서 설명하는 실시예들에 한정되지 않는다. 본 발명을 명확하게 설명하기 위해서 설명과 관계없는 부분은 생략하였으며, 명세서 전체를 통하여 동일 또는 유사한 구성요소에 대해서는 동일한 참조 부호를 붙이도록 한다. 명세서에서 사용되는 '부'(part, portion)라는 용어는 소프트웨어 또는 하드웨어로 구현될 수 있으며, 실시예들에 따라 복수의 '부'가 하나의 요소(unit, element)로 구현되거나, 하나의 '부'가 복수의 요소들을 포함하는 것도 가능하다. 이하 첨부된 도면들을 참고하 여 본 발명의 작용 원리 및 실시예들에 대해 설명한다. 또한, 도면에서 나타난 각 구성의 크기 및 두께는 설명의 편의를 위해 임의로 나타내었으므로, 본 발명이 반드 시 도시된 바에 한정되지 않는다. 도면에서 여러 층 및 영역을 명확하게 표현하기 위하여 두께를 확대하여 나타 내었다. 그리고 도면에서, 설명의 편의를 위해, 일부 층 및 영역의 두께를 과장되게 나타내었다.또한, 층, 막, 영역, 판 등의 부분이 다른 부분 \"위에\" 또는 \"상에\" 있다고 할 때, 이는 다른 부분 \"바로 위에\" 있는 경우뿐 아니라 그 중간에 또 다른 부분이 있는 경우도 포함한다. 반대로 어떤 부분이 다른 부분 \"바로 위 에\" 있다고 할 때에는 중간에 다른 부분이 없는 것을 뜻한다. 또한, 기준이 되는 부분 \"위에\" 또는 \"상에\" 있다 고 하는 것은 기준이 되는 부분의 위 또는 아래에 위치하는 것이고, 반드시 중력 반대 방향 쪽으로 \"위에\" 또는 \"상에\" 위치하는 것을 의미하는 것은 아니다. 또한, 명세서 전체에서, 어떤 부분이 어떤 구성요소를 \"포함\" 한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다른 구성요소를 제외하는 것이 아니라 다른 구성요소를 더 포함할 수 있는 것을 의미한다. 또한, 명세서 전체에서, \"평면상\"이라 할 때, 이는 대상 부분을 위에서 보았을 때를 의미하며, \"단면상\"이라 할 때, 이는 대상 부분을 수직으로 자른 단면을 옆에서 보았을 때를 의미한다. 또한, 본 명세서에서 사용되는 '제1' 또는 '제2' 등과 같이 서수를 포함하는 용어는 다양한 구성 요소들을 설명 하는데 사용할 수 있지만, 상기 구성 요소들은 상기 용어들에 의해 한정되어서는 안 된다. 상기 용어들은 하나 의 구성 요소를 다른 구성 요소로부터 구별하는 목적으로만 사용된다. 도 1은 일 실시예에 따른 전자 장치를 포함하는 이미지 처리 시스템을 설명하기 위한 도면이고, 도 2는 일 실시 예에 따라, 전자 장치의 구성을 도시한 블록도이다. 도 1 및 도 2를 참조하면, 이미지 처리 시스템은 스캐너와 전자 장치를 포함할 수 있다. 본 명세서에서, '대상체(object)'는 촬영의 대상이 되는 것으로서, 사람, 동물, 또는 그 일부를 포함할 수 있다. 예를 들어, 대상체는 신체의 일부(장기 또는 기관 등), 또는 팬텀(phantom) 등을 포함할 수 있다. 또한, 예를 들면, 대상체는, 구강을 본 뜬 석고 모델, 틀니나 의치 등의 덴쳐(denture), 이(teeth) 형상의 덴티폼 (dentiform) 등을 포함할 수 있다. 예를 들어, 대상체는 치아, 치은, 구강의 적어도 일부 영역, 및/또는 구강 내에 삽입 가능한 인공 구조물(예를 들어, 브라켓 및 와이어를 포함하는 교정 장치, 임플란트, 어버트먼트, 인 공 치아, 인레이 및 온레이 등을 포함하는 치아 수복물, 구강 내 삽입되는 교정 보조 도구 등), 인공 구조물이 부착된 치아 또는 치은 등을 포함할 수 있다. 스캐너는, 대상체와 관련된 이미지를 획득하는 장치를 의미할 수 있다. 스캐너는 구강의 치료에 이용되 는 구강과 관련된 구강 이미지를 획득하는 스캐너를 의미할 수 있다. 스캐너는, 2차원 이미지 및 3차원 이미지 중 적어도 하나를 획득할 수 있다. 또한, 스캐너는, 구강에 대한 적어도 하나의 2차원 이미지를 획 득하고, 획득된 적어도 하나의 2차원 이미지에 기초하여 구강에 대한 3차원 이미지(또는 3차원 모델)를 생성할 수 있다. 또한, 스캐너는, 구강에 대한 적어도 하나의 2차원 이미지를 획득하고, 적어도 하나의 2차원 이미지를 전자 장치로 전송할 수 있다. 전자 장치는, 또한, 스캐너 치아 모형 또는 구강 내부의 치아, 치은 및 구강 내에 삽입 가능한 인공 구 조물(예를 들어, 브라켓 및 와이어 등을 포함하는 교정 장치, 임플란트, 인공 치아, 스플린트를 포함하는 구강 내 삽입되는 교정 보조 도구 등) 중 적어도 하나의 표면을 이미징할 수 있으며, 이를 위해 대상체에 대한 표면 정보를 로우 데이터(raw data)로 획득할 수 있다. 전자 장치는, 수신된 적어도 하나의 2차원 이미지에 기초하여 구강에 대한 3차원 이미지를 생성할 수 있다. 여기서 ‘3차원 이미지’는 수신된 로우 데이터에 근거하여 대상체를 3차원적으로 모델링(modeling)하여 생성될 수 있으므로, ‘3차원 모델’로 호칭될 수 있다. 또한 본 발명에서 대상체를 2차원 또는 3차원적으로 나타내는 모델 또는 이미지를 통칭하여 ‘이미지’라 칭할 수 있다. 예를 들면, 스캐너는 구강 내에 인입될 수 있는 형태를 가지는 구강 스캐너(intraoral scanner)가 될 수 있 고, 실시예에 따라 구강 스캐너는 유선 장치 또는 무선 장치 일 수 있으며, 본 발명의 기술적 사상은 구강 스캐 너의 형태에 한되지 않는다. 일 실시예에 따라, 구강 스캐너는 손으로 잡아서 휴대 가능한 형태를 가지는 핸드 헬드(hand-held) 형 스캐너일 수 있다. 상기 구강 스캐너는 구강 내에 삽입되어 비 접촉식으로 치아를 스캐닝함으로써, 적어도 하나의 치아를 포함하는 구강에 대한 이미지를 가질 수 있으며, 적어도 하나의 이미지 센서(예를 들어, 광학 카메라 등)를 이 용하여 환자의 구강 내부를 스캔할 수 있다. 일 실시예에 따라, 스캐너는 치과치료에 이용 가능한 테이블 형 스캐너가 될 수 있다. 테이블 형 스캐너는 테이블의 회전을 이용하여 대상체를 스캔함으로써 대상체에 대한 표면 정보를 로우 데이터(raw data)로 획득하 는 스캐너일 수 있다. 테이블 스캐너는 구강을 본 뜬 석고 모형이나 임프레션 모형 등의 대상체의 표면을 스캔할 수 있다. 전자 장치는 스캐너로부터 로우 데이터를 수신할 수 있고, 수신된 로우 데이터를 처리하여 로우 데이터 에 대한 3차원 이미지를 출력할 수 있다. 실시예에 따라, 출력되는 3차원 이미지는 수신된 로우 데이터에 대한 스플린트(Splint) 등의 구강 구조물이 포함된 3차원 이미지 데이터일 수 있다. 설명의 용이성을 위해 스캔 데이 터에 대한 구체적인 설명은 도 4 및 도 5에서 후술한다. 전자 장치은 스캐너와 유선 또는 무선 통신 망을 통하여 연결되며, 스캐너로부터 대상체를 스캔하여 획득된 2차원 이미지를 수신하고, 수신된 2차원 이미지에 근거하여 이미지를 생성, 처리, 디스플레이 및/또는 전송할 수 있는 모든 전자 장치가 될 수 있다. 전자 장치는 전용 소프트웨어를 저장 및 실행하여 대상체의 3차원 이미지 또는 2차원 이미지를 수신, 처리, 저장, 및/또는 전송하기 위한 적어도 하나의 동작들을 수행할 수 있다. 예를 들어, 전용 소프트웨어는 수신된 스캔 데이터에 대하여 영역 추출 및 영역 설정 등의 처리 동작을 수행하고, 처리 동작을 기반으로 데이터 선택, 기준점 조정 및 정렬 등을 수행하여 스플린트 등의 인공 구조물을 포함하는 3차원 이미지를 생성, 저장 및 전송 등 적어도 하나의 동작들을 수행할 수 있다. 전자 장치는 스마트 폰(smart phone), 랩탑 컴퓨터, 데스크탑 컴퓨터, PDA, 태블릿 PC 등의 컴퓨팅 장치가 될 수 있으며, 이에 한정되지 않는다. 또한, 전자 장치는 구강 이미지를 처리하기 위한 서버(또는 서버 장치) 등의 형태로 존재할 수 있다. 전자 장치는 통신부, 프로세서, 사용자 인터페이스 장치, 디스플레이, 메모리 및 데이 터베이스를 포함할 수 있다. 그러나, 도시된 구성 요소 모두가 필수 구성 요소인 것은 아니다. 도시된 구성 요소보다 많은 구성 요소에 의해 전자 장치가 구현될 수 있고, 그보다 적은 구성 요소에 의해서도 전자 장 치가 구현될 수 있다. 이하, 상기 구성 요소들에 대해 살펴본다. 통신부는 외부 장치와 통신을 수행할 수 있다. 구체적으로, 통신부는 유선 또는 무선으로 네트워크와 연결되어 외부 장치와 통신을 수행할 수 있다. 여기서, 외부 장치는 스캐너, 서버, 스마트폰, 태블릿, PC 등일 수 있다. 통신부는 다양한 유무선 통신 방법 중 하나를 지원하는 통신 모듈을 포함할 수 있다. 예를 들면, 통신 모듈 은 칩셋(chipset)의 형태일 수도 있고, 또는 통신에 필요한 정보를 포함하는 스티커/바코드(e.g. NFC tag를 포 함하는 스티커)등일 수도 있다. 또한, 통신 모듈은 근거리 통신 모듈, 유선 통신 모듈일 수 있다. 예를 들면, 통신부는 무선 랜(Wireless LAN), Wi-Fi(Wireless Fidelity), WFD(Wi-Fi Direct), 블루투스 (Bluetooth), BLE(Bluetooth Low Energy), Wired Lan, NFC(Near Field Communication), 지그비(Zigbee), 적외 선(IrDA, infrared Data Association), 3G, 4G, 및 5G 중 적어도 하나를 지원할 수 있다. 일 실시예에서, 스캐너는 획득한 로우 데이터를 통신 모듈을 통하여 전자 장치로 전송할 수 있다. 스캐 너에서 획득된 이미지 데이터는 유선 또는 무선 통신망을 통하여 연결되는 전자 장치로 전송될 수 있다. 프로세서는 전자 장치의 전체적인 동작을 제어하며, CPU 등과 같은 적어도 하나의 프로세서를 포함할 수 있다. 프로세서는 각 기능에 대응되는 특화된 프로세서를 적어도 하나 포함하거나, 하나로 통합된 형태 의 프로세서일 수 있다. 프로세서는, 통신부를 통해, 로우 데이터를 수신할 수 있다. 예를 들면, 프로세서는, 통신부를 통해, 스캐너로부터 로우 데이터를 수신할 수 있다. 이 경우, 프로세서는 수신된 로우 데이터에 기초하 여, 대상체의 표면의 형상을 3차원적으로 나타내는 3차원 이미지 데이터(예를 들어, 표면 데이터, 메시 데이터 (Mesh data) 등)를 생성할 수 있고, 이하 전자 장치의 연산 대상이 되는 스캔 데이터는 3차원 이미지 데이 터를 포함할 수 있다. 프로세서는, 통신부를 통해, 외부 장치로부터 라이브러리 데이터를 수신할 수 있다. 라이브러리 데이터 는 전자 장치에 기저장된 데이터 또는 외부 장치를 통해 획득한 로우 데이터 또는 3차원 이미지 데이터일 수 있으며, 이에 한정되지 않는다. 여기서, 외부 장치는, 사진 또는 동영상 촬영이 가능한 카메라, 카메라 기능 을 갖는 전자 장치일 수 있다. 또한, 외부 장치는, 환자의 구강 내부를 스캔할 수 있는 구강 스캐너일 수 있다. 프로세서는 사용자로부터 소정 명령 또는 데이터를 입력 받기 위해 사용자 인터페이스 장치 또는 디스 플레이를 제어할 수 있다. 프로세서는 메모리에 저장된 프로그램을 실행시키거나, 메모리에 저장된 이미지, 데이터 또는 파일 을 읽어오거나, 새로운 파일을 메모리에 저장할 수 있다. 프로세서는 메모리에 저장된 명령어들을 실행할 수 있다. 상기 저장된 프로그램은 전용 소프트웨어 등을 포함할 수 있으나, 이에 제한되지 않는다. 프로세서는 스캔 데이터에 포함되는 메시 데이터 및 데이터 등에 대한 연산 동작을 수행할 수 있다. 예를 들면, 프로세서는 스캔 데이터를 구성하는 메시 데이터들의 법선 벡터의 평균을 구하거나, 복수의 메시 데 이터 또는 복수의 기준점들을 포함하는 3차원 바운딩 박스(3D-Oriented Bounding Box)를 생성하거나, 2차원 바 운딩 박스(2D-Oriented Bounding Box)를 생성하는 동작 및/또는 복수의 메시 데이터 또는 복수의 기준점에 대한 컨벡스 헐(Convex Hull) 알고리즘 동작을 수행할 수 있다. 바운딩 박스는 복수의 위치 데이터 또는 특정 대상체를 둘러쌓는 최소 크기의 박스를 의미하는 것으로, 3차원 바운딩 박스는 직육면체 형태이고, 2차원 바운딩 박스는 직사각형 형태를 가질 수 있다. 컨벡스 헐 알고리즘은, 유한한 점들의 집합에 대해 집합 내 점들을 포함하는 볼록 다면체(convex polyhedron)를 생성하는 알고리즘으로, 실시예에 따라 정적 계산 알고리즘이 사용되거나 삼각측량을 활용하는 동적 계산 알고 리즘이 사용될 수 있다. 볼록 다면체는 복수의 정점과 면을 포함할 수 있다. 프로세서는 바운딩 박스로부터 벡터를 추출할 수 있다. 프로세서는 3차원 바운딩 박스의 모서리 길이의 크기와 연장 방향의 방향을 갖는 벡터를 추출하거나, 2차원 바운딩 박스의 일변 길이의 크기와 연장 방향의 방 향을 갖는 벡터를 추출할 수 있다. 예를 들면, 프로세서는 3차원 바운딩 박스의 최소 길이를 갖는 최소 모 서리에 대한 방향 벡터를 추출하거나, 2차원 바운딩 박스의 장변에 대한 벡터를 추출하는 동작을 수행할 수 있 다. 또한, 프로세서는 추출된 벡터의 평균 벡터를 연산할 수 있다. 프로세서는 특정 방향에 대하여 스캔 데이터에 대한 표면 굴곡을 나타내는 복잡도를 계산할 수 있다. 예시 적으로, 프로세서는 스캔 데이터 내 경사도의 차이를 알 수 있는 라플라시안과, 노이즈 제거에 유리한 가우 시안(Gaussian)을 병합한 LoG(Laplacian of Gaussian)를 이용하여 표면 굴곡에 대한 복잡도를 연산할 수 있다. 프로세서는 스캔 데이터 내 대상체를 인식하거나, 일부 영역을 추출하거나, 인식된 대상체 또는 추출된 영 역의 면적이나 부피를 연산할 수 있다. 예를 들면, 프로세서는 스캔 데이터의 곡률 정보, 교두 정보 및 해 부학적 특징 형상 등을 활용하여 치아의 종류를 구분하여 인식하거나, 치아와 치아 사이의 공간을 구분할 수 있 다. 개시된 실시예에서 따라, 프로세서의 인식 동작들은 상기 정보들의 활용 예시에 제한되지 않으며 객체 인식 인공지능 알고리즘의 추론을 통해서 인식 동작들이 수행될 수 있다. 교두 정보는 스캔 데이터 내 대합치가 접촉하는 교두점의 수, 배치 등을 포함할 수 있다. 프로세서는 특정 방향, 미리 정해진 값 등을 기준으로 데이터를 선택할 수 있다. 예를 들면, 프로세서 는 스캔 데이터 내 데이터에서 초기 교합면 방향을 기준으로 극대점(local maximum point)을 생성하거나, 복수 의 극대점 중에서 미리 정해진 값 또는 연산된 면적 등을 기준으로 교두점을 선택하는 동작을 수행할 수 있다. 프로세서는 기준점들을 기초로 스캔 데이터의 방향을 특정하고, 스캔 데이터의 정중선을 설정할 수 있다. 예를 들면, 프로세서는 교두점 중 좌측 제1 대구치의 외측 교두, 우측 제1 대구치의 외측 교두 및 중절치 내 중앙 교두점들을 기준점으로 스캔 데이터의 전면 방향을 특정하고, 스캔 데이터의 좌우를 가르는 정중선을 설정하는 동작을 수행할 수 있다. 정중선은 스캔 데이터의 악궁의 정중앙을 지나는 선으로, 정중선을 통해 구강 의 좌우가 구분될 수 있다. 프로세서는 곡률 정보 등을 통해 대상체 사이의 공간에 피팅(fitting)되는 실린더를 생성할 수 있다. 예를 들면, 프로세서는 중절치 사이의 공간에서 중절치와 접하게 배치되는 실린더를 생성할 수 있다. 프로세서는 정중선에 대한 조정 동작을 수행할 수 있다. 구체적으로, 정중선이 지나는 기준점에 대해 상기 피팅된 실린더를 이용하여 조정 동작을 수행하고, 정중선이 지나는 지점을 조정할 수 있다. 프로세서는 복수의 기준점을 기초로 평면을 설정할 수 있다. 예를 들면, 프로세서는 세 개의 기준점들 을 기초로 스캔 데이터에 대한 교합 평면을 설정할 수 있다. 사용자 인터페이스 장치는 사용자로부터 전자 장치를 제어하기 위해 데이터를 입력 받는 장치를 의미할 수 있다. 디스플레이는 전자 장치의 동작에 따른 결과 이미지 또는 전자 장치에서의 출력되는 3차 원 이미지를 표시하기 위한 출력 장치를 포함할 수 있다. 사용자 인터페이스 장치는, 예를 들면, 입력 장치는 사용자 입력을 수신하는 마우스, 조이스틱, 조작 패널, 터치 센서티브 패널을 포함할 수 있고, 디스플레이는 화면을 표시하는 디스플레이 패널 등을 포함할 수 있다. 데이터베이스는, 전용 소프트웨어의 인공지능 알고리즘을 학습하기 시키기 위한 데이터 및 데이터셋을 저장 하고, 전용 소프트웨어의 요청에 따라 학습을 위한 데이터를 제공할 수 있다. 인공지능 알고리즘은 데이터베이 스에 저장된 치아의 학습 데이터들을 딥 러닝 방식으로 학습하며 치아를 나타내는 데이터의 특성을 구별할 수 있다. 한편, 전용 소프트웨어는 스캔 데이터로부터 상악 치아 영역 데이터, 하악 치아 영역 데이터를 추출하 거나 치아 특성에 따라 객체 인식함으로써, 후술할 교합 평면 정렬 단계, 내면 설정 단계, 윤곽 지정 단계 등을 수행할 때 추출 또는 인식된 치아 영역 데이터를 사용할 수 있다. 본 발명에서, 인공지능(artificial intelligence, AI)은 인간의 학습능력, 추론능력, 지각능력을 모방하고, 이 를 컴퓨터로 구현하는 기술을 의미하고, 기계 학습, 심볼릭 로직의 개념을 포함할 수 있다. 기계 학습(machine learning, ML)은 입력 데이터들의 특징을 스스로 분류 또는 학습하는 알고리즘 기술일 수 있다. 인공지능의 기 술은 기계 학습의 알고리즘으로써 입력 데이터들 분석하고, 그 분석의 결과를 학습하며, 그 학습의 결과에 기초 하여 기반으로 판단이나 예측을 할 수 있다. 또한, 기계 학습의 알고리즘을 활용하여 인간 두뇌의 인지, 판단의 기능을 모사하는 기술들 역시 인공지능의 범주로 이해될 수 있다. 예를 들어, 언어적 이해, 시각적 이해, 추론/ 예측, 지식 표현, 동작 제어의 기술 분야가 포함될 수 있다. 본 발명에서, 기계 학습은 데이터를 처리한 경험을 이용해 신경망 모델을 훈련시키는 처리를 의미할 수 있다. 기계 학습을 통해 컴퓨터 소프트웨어는 스스로 데이터 처리 능력을 향상시키는 것을 의미할 수 있다. 신경망 모 델은 데이터 사이의 상관 관계를 모델링하여 구축된 것으로서, 그 상관 관계는 복수의 파라미터에 의해 표현될 수 있다. 신경망 모델은 주어진 데이터로부터 특징들을 추출하고 분석하여 데이터 간의 상관 관계를 도출하는데, 이러한 과정을 반복하여 신경망 모델의 파라미터를 최적화 해나가는 것이 기계 학습이라고 할 수 있다. 예를 들어, 신경망 모델은 입출력 쌍으로 주어지는 데이터에 대하여, 입력과 출력 사이의 매핑(상관 관계)을 학 습할 수 있다. 또는 신경망 모델은 입력 데이터만 주어지는 경우에도 주어진 데이터 사이의 규칙성을 도출하여 그 관계를 학습할 수도 있다. 본 발명에서, 인공지능 학습 모델, 기계 학습 모델 또는 신경망 모델은 인간의 뇌 구조를 컴퓨터 상에서 구현하 도록 설계될 수 있으며, 인간의 신경망의 뉴런(neuron)을 모의하며 가중치를 가지는 복수의 네트워크 노드들을 포함할 수 있다. 복수의 네트워크 노드들은 뉴런이 시냅스(synapse)를 통하여 신호를 주고받는 뉴런의 시냅틱 (synaptic) 활동을 모의하여, 서로 간의 연결 관계를 가질 수 있다. 인공지능 학습 모델에서 복수의 네트워크 노드들은 서로 다른 깊이의 레이어에 위치하면서 컨볼루션(convolution) 연결 관계에 따라 데이터를 주고받을 수 있다. 데이터베이스는, 도면 상에서 전자 장치에 포함된 것처럼 도시되었으나, 이에 제한되지 않고 전자 장치 의 외부에서 서버(또는 서버 장치) 등의 형태로 배치되어 학습을 위한 데이터를 제공하고, 학습 결과를 저 장할 수 있다. 도 3은 일 실시예에 따라, 전자 장치의 이미지 처리 방법을 나타낸 순서도이고, 도 4 및 도 5는 일 실시예에 따 라, 스캔 데이터, 상악 스캔 데이터 및 하악 스캔 데이터를 설명하기 위한 도면들이다. 도 1 내지 도 5를 참조하면, 전자 장치는 스캔 데이터를 로드한다(S100). 전자 장치는 통신부(2 1)를 통해서 스캐너 등을 포함하는 외부 장치로부터 수신된 이미지를 기초로 생성된 스캔 데이터를 로 드한다. 전자 장치는 수신된 이미지를 기초로 처리되거나 프로세서 또는 사용자 인터페이스 장치에 기저장 된 스캔 데이터를 로드하고, 이를 디스플레이를 통해 표시할 수 있다. 스캔 데이터는 대상체에 대한 2차원 이미지 또는 대상체를 입체적으로 나타내는 3차원 모델 또는 3차원 이 미지 데이터가 될 수 있고, 구체적으로 3차원 구강 모델일 수 있다. 도 4 및 도 5에서의 구강 이미지는 스캔 데 이터에 대응되고 스캔 데이터의 대상체를 2차원 또는 3차원적으로 표현한 것으로, 후술할 스캔 데이 터에 대한 내용과 같이 상악 프렙전 이미지, 상악 프렙 이미지, 하악 프렙전 이미지, 하악 프렙 이미지, 상기 상악 관련 이미지와 하악 관련 이미지를 포함하는 교합 이미지를 포함할 수 있다. 본 발명에서, 프렙(Prep, Preparation)은 크라운 및 브릿지 등의 보철 시에는 자연 치아 및 보철물 간의 간섭이 방지되도록, 치아의 법랑질과 상아질 일부를 삭제하는 일련의 준비 과정을 의미할 수 있다. \"3차원 구강 모델\"은, 스캐너의 스캔 동작으로 획득된 로우 데이터에 기초하여 구강을 3차원적으로 모델링한 모 델을 의미할 수 있다. 또한, \"3차원 구강 모델\"은, 스캐너가 치아, 인상체, 인공물 등과 같은 대상체를 스캔하 여 획득된 데이터에 기초하여 3차원적으로 모델링된 구조체를 의미할 수 있다. 3차원 구강 모델은, 구강의 내부 구조를 3차원적으로 모델링하여 생성된 것으로, 3차원 스캔 모델, 3차원 모델, 또는 치아 모델 등으로 호칭될 수 있다. 예를 들면, 3차원 구강 모델의 포맷은, STL(Standard Triangle Language), OBJ, 폴리곤 파일 형식 중 하나일 수 있고, 상기 예시에 제한되지 않는다. 또한, 3차원 구강 모델은, 3차원적인 형상에 대한 기하학 정보, 컬러, 텍스처, 재료 등의 정보를 포함할 수 있다. 또한, \"폴리곤(polygon)\"은, 3차원 구강 모델의 입체 형상을 표현할 때 사용되는 가장 작은 단위인 다각형을 의 미할 수 있다. 예를 들면, 3차원 구강 모델의 표면은 삼각형 폴리곤들로 표현될 수 있다. 예를 들면, 폴리곤은 최소 3개의 정점(vertex)과 1개의 면(face)으로 구성될 수 있다. 정점은 위치, 컬러, 법선 등의 정보를 포함할 수 있다. 메시는 복수의 폴리곤들이 모여서 만들어진 3차원 공간 상의 대상체일 수 있다. 3차원 구강 모델을 표 현하는 폴리곤의 수가 증가할수록, 대상체가 세밀하게 표현될 수 있다. 스캔 데이터는 상악 스캔 데이터와 하악 스캔 데이터 중 적어도 하나를 포함할 수 있다. 구체적 으로, 스캔 데이터는 상악 프렙전 데이터, 상악 프렙 데이터, 하악 프렙전 데이터, 하악 프렙데이터, 상기 상악 관련 데이터와 하악 관련 데이터를 포함하는 교합 데이터 중 어느 하나를 로드할 수 있다. 본 발명에서, 프렙(Prep, Preparation)은 크라운 및 브릿지 등의 보철 시에는 자연 치아 및 보철물 간의 간섭이 방지되도록, 치아의 법랑질과 상아질 일부를 삭제하는 일련의 준비 과정을 의미하고. 프렙 데이터는 준비 과정 을 통해 치아의 법랑질과 상아질 일부를 삭제된 데이터이고, 프렙전 데이터는 준비 과정을 통해 치아의 법랑질 과 상아질 일부를 삭제되기 전 데이터일 수 있다. 스캔 데이터는 상악 스캔 데이터 및 하악 스캔 데이터 내에 배치되는 치은 영역, 상악 치 아 영역 데이터 및 하악 치아 영역 데이터를 포함할 수 있다. 전자 장치는 상악 스캔 데이터, 하악 스캔 데이터 및 상악 스캔 데이터와 하악 스캔 데이터 를 포함하는 교합 데이터 중 적어도 하나를 로드할 수 있다.. 전자 장치는 수신된 스캔 데이터의 형상을 분석하여 정렬한다(S200). 해당 단계에서 스캔 데이터(10 0)에 대한 교합 평면 및 정중선이 설정되고, 전자 장치는 스캔 데이터를 상악 스캔 데이터 또는 하악 스캔 데이터를 교합 평면에 따라 자동 정렬하고, 정중선에 의해 좌우 정렬되는 것을 이를 디스플레이 를 통해 표시할 수 있다. 해당 단계의 구체적인 설명은 도 6 내지 도 18의 설명에서 후술한다. 또한, 해당 단계에서 사용자는, 스캔 데이터에 수동으로 기준점을 지정하여 스캔 데이터의 전면 방향 과 교합 평면을 설정하고, 설정된 교합 평면을 따라 스캔 데이터를 정렬할 수 있다. 예시적으로, 사용자는 해당 단계에서 사용자 인터페이스 장치를 통해 스캔 데이터의 일부 데이터를 선택할 수 있고, 선택된 데이터를 기준점으로 스캔 데이터를 정렬할 수 있다. 전자 장치는, 정렬된 스캔 데이터에 대한 구강 구조물의 내면을 설정한다(S300). 해당 단계에서, 전자 장치는 정렬된 스캔 데이터의 언더컷(Undercut)을 고려하여, 구강 구조물이 삽입 될 방향을 지정할 수 있다. 예를 들면, 구강 구조물인 스플린트(Splint) 제작시 전자 장치는 스캔 데이터 내 치아 영역의 면적을 연산하고, 구강 구조물이 삽입될 방향에 따른 언더컷 및 블록 아웃을 고려하여 구 강 구조물이 삽입될 방향을 지정할 수 있다. 상기와 같은 구강 구조물의 삽입 방향 지정을 통해 구강 구조물의 삽입 효율 및 유지력을 향상시킬 수 있다. 사용자 인터페이스 장치로부터 입력된 내면 오프셋 거리, 표면 매끄럽기 등을 기초로, 전자 장치는 출 력될 구강 구조물의 내면을 설정할 수 있다. 상기 내면 오프셋 거리는, 스캔 데이터와 구강 구조물의 내면 사이에 법선 방향으로의 이격 거리를 의미할 수 있다. 상기 표면 매끄럽기는 구강 구조물 내면의 거칠기를 의미 할 수 있다. 전자 장치는, 자동 정렬된 스캔 데이터에 대한 구강 구조물의 윤곽을 지정한다(S400). 사용자 인터페이스 장치로부터 입력된 협측 높이, 설측 높이 등을 기초로, 전자 장치는 출력될 구강 구 조물의 윤곽을 지정할 수 있다. 예를 들면, 구강 구조물인 스플린트(Splint) 제작시, 상기 협측 높이는 치아 영 역의 하부면을 기준으로 볼을 향하는 치아 외벽의 높이이고, 예를 들면, 상기 협측 높이는 상악 스캔 데이터 의 치아 영역의 바닥면을 기준으로 치아 외벽을 타고 형성되는 높이를 의미할 수 있다. 상기 협측 높이가높을수록, 형성되는 볼쪽 윤곽은 치은과 가까워진다. 상기 설측 높이는, 치아 영역의 하부면을 기준으로 혀를 향하는 치아 내벽의 높이이고, 예를 들면, 상기 설측 높이는 상악 스캔 데이터의 치아 영역의 바닥면을 기 준으로 치아 내벽을 타고 형성되는 높이를 의미할 수 있다. 상기 설측 높이가 높을수록, 형성되는 혀쪽 윤곽은 치은과 가까워진다. 전자 장치는, 정렬된 스캔 데이터에 대한 구강 구조물의 외면을 설정한다(S500). 사용자 인터페이스 장치로부터 입력된 두께, 표면 매끄럽기 등을 기초로, 전자 장치는 출력될 구강 구 조물의 외면을 지정할 수 있다. 전자 장치는 미리 정해진 교합 두께를 기초로, 구강 구조물이 교합 방향으 로 갖는 두께를 설정하여 구강 구조물에 대한 3차원 이미지를 형성할 수 있다. 예를 들면, 구강 구조물인 스플 린트(Splint) 제작시 상기 두께는 구강 구조물의 내면에서부터 협측/설측 방향으로 두께를 의미할 수 있다. 상 기 표면 매끄럽기는 구강 구조물 외면의 거칠기를 의미할 수 있다. 상기 미리 정해진 교합 두께는 구강 구조물 이 교합 방향으로 연장되는 최대 두께값을 의미할 수 있다. 전자 장치는, 단계 S300 내지 S500에서 설정 및 지정된 정보를 통해 구강 구조물을 포함하는 3차원 이미지 데이터를 생성한다(S600). 생성된 구강 구조물에 대한 3차원 이미지는 통신부를 통해 외부 장치로 송신되어 구강 구조물로 출력될 수 있다. 상기 외부 장치는 3D 프린트일 수 있으나, 실시예에 따라 상기 예시에 제한되지 않는다. 실시예에 따라, 전자 장치는 사용자의 중간 입력없이 단계 S200 내지 단계 S500를 한 번에 수행할 수 있다. 전자 장치는 스캔 데이터를 로드하고(S100), 사용자로부터 내면 오프셋 거리, 표면 매끄럽기, 협측 높 이, 설측 높이, 두께 등을 입력 받고, 사용자의 중간 개입없이 단계 S200 내지 단계 S500를 자동으로 수행하여 3차원 이미지 데이터를 생성할 수 있다(S600). 실시예에 따라, 전자 장치는 메모리에 저장된 내면 오프셋 거리, 표면 매끄럽기, 협측 높이, 설측 높이, 두께 등을 활용하여 사용자의 중간 개입없이 단계 S200 내지 단계 S500를 자동으로 수행할 수 있다. 전자 장치는, 실시예에 따라 사용자의 중간 개입없이 단계 S200 내지 단계 S500를 자동으로 수행하여, 구강 구조물 제작에 소요되는 시간을 줄일 수 있다. 실시예에 따라, 전자 장치는, 로드된 스캔 데이터 외에 별도의 입력없이 인공지능 알고리즘의 추론 동 작을 통해 구강 구조물에 대한 3차원 이미지 데이터를 생성할 수 있다(S600). 인공지능 알고리즘은 추론 동작 이전에 복수의 스캔 데이터와 대응되는 구강 구조물에 대한 학습을 수행하여, 로드된 스캔 데이터에 적합 한 구강 구조물의 3차원 이미지 데이터와 관련하여 추론 동작을 수행할 수 있다. 실시예에 따라, 전자 장치는, 스캔 데이터 내 상악 스캔 데이터와 하악 스캔 데이터 간의 교합상태나 악궁 간 최소거리(Distance to Antagonist)에 대한 사용자 입력을 통해, 단계 S300 내지 S500의 각 단계에서 교합상태나 악궁 간 최소거리를 조절할 수 있다. 상기 조절 동작 중에 전자 장치는 스캔 데이터 에 대해 계산 동작을 수행하여, 교합상태나 악궁 간 최소거리를 함께 표시할 수 있다. 상기 조절 및 계산 동작을 통해 사용자는 환자의 구강 내 거리 및 공간을 고려하여 구강 구조물을 제작할 수 있 다. 이하에서는 도 6 내지 도 18을 참조하여 단계(S200)에 대해 설명한다. 도 6는 일 실시예에 따라, 전자 장치의 이미지 처리 방법을 나타낸 순서도이다. 도 1 내지 도 6를 참조하면, 전자 장치는 스캔 데이터에 대한 초기 교합면 방향을 추출한다(S210). 도 7 및 도 8를 추가적으로 참조하면, 스캔 데이터는 다각형 형태의 복수의 메시를 포함할 수 있다. 도 8 에서 도시된 것처럼 스캔 데이터에 포함되는 메시는 삼각형 형태일 수 있으나, 상기 형태는 설명을 용이하 게 하기 위한 예시이고 사각형, 오각형 등 일 수 있다. 일 실시예에 따라 전자 장치는 M개의 메시를 포함하는 상악 스캔 데이터에 대하여 각각의 메시에 대한 법선 벡터(n_1-n_M)를 추출할 수 있다. 전자 장치는, 하기 수학식 1과 같이, 추출된 법선 벡터(n_1-n_M)를 기초로 평균 법선 벡터(N_avg)를 추출하 고, 추출된 평균 법선 벡터(N_avg)의 방향을 초기 교합면 방향(N_occ0)으로 설정할 수 있다.수학식 1"}
{"patent_id": "10-2023-0090638", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "상기 수학식 1에서, 상기 은 상기 M개의 메시에 대한 평균 법선 벡터(N_avg)의 단위 벡터이고, 상기 내 지 은 상기 M개의 메시의 법선 벡터(n_1-n_M)의 단위 벡터이고, 상기 내지 은 상기 M개의 메시의 면적 이다. 도 7 및 도 8에서 상악 스캔 데이터를 예시로 초기 교합면 방향(N_occ0)의 추출을 설명하였으나, 실시예에 따라 달라질 수 있으며 상기 예시에 제한되지 않는다. 이후 도 9 내지 도 18에서 상악 스캔 데이터에 대한 설명은 하악 스캔 데이터를 포함한 다른 스캔 데이터에서도 적용될 수 있으며, 설명의 용이성을 위해 다른 스캔 데이터에 대한 설명은 상악 스캔 데이터에서의 설명과 상이한 점을 중심으로 설명한다. 도 9를 추가적으로 참조하면, 일 실시예에 따라 전자 장치는, 메시 데이터를 포함하는 상악 스캔 데이터 에 대하여, 3차원 바운딩 박스(Oriented Bounding Box, OBB)를 생성하고, 3차원 바운딩 박스(OBB)의 최소 길이를 갖는 최소 모서리(L1)의 연장 방향과 상기 최소 길이의 크기를 갖는 최소 모서리 벡터(N_OBB)를 추출하 고, 최소 모서리 벡터(N_OBB)를 초기 교합면 방향(N_occ0)으로 설정할 수 있다. 실시예에 따라, 전자 장치는 스캔 데이터에 대해 컨벡스 헐 알고리즘을 수행하여 스캔 데이터 내 정점들을 포함하는 볼록 다면체를 생성하고, 생성된 볼록 다면체에 대해 3차원 바운딩 박스를 생성하여, 도 9와 같이 3차 원 바운딩 박스의 최소 길이를 갖는 최소 모서리의 연장 방향과 상기 최소 길이의 크기를 갖는 최소 모서리 벡 터를 추출하고, 최소 모서리 벡터(N_OBB)를 초기 교합면 방향으로 설정할 수 있다. 볼록 다면체에 대한 3차원 바운딩 박스를 생성하여 3차원 바운딩 박스를 생성하는 데 연산 처리량을 줄여 초기 교합면 방향의 설정 효율을 높일 수 있다. 실시예에 따라 전자 장치는 메시 데이터를 포함하는 스캔 데이터에 대하여, 3차원 바운딩 박스를 생성하고, 3차원 바운딩 박스의 각 면의 법선 방향으로 스캔 데이터의 표면 굴곡에 대한 복잡도를 계산할 수 있다. 전자 장치는 3차원 바운딩 박스의 최소 길이를 갖는 최소 모서리의 연장 방향과 나란하고, 표면 굴곡에 대한 복 잡도가 낮은 면에서 높은 면으로 진행되는 방향을 초기 교합면 방향으로 설정할 수 있다. 폐곡면의 치아 모델을 포함하는 스캔 데이터의 경우, 평균 법선 벡터를 대신 3차원 바운딩 박스 생성 및 표면 굴곡에 대한 복잡도를 연산하여 초기 교합면 방향을 설정하는 것이 효율적일 수 있다. 다음으로, 전자 장치는 교두 정보를 생성한다(S220). 도 10 내지 도 12를 추가적으로 참조하면, 전자 장치는 상악 스캔 데이터 내 곡률 정보, 교두 정보 및 해부학적 특징 형상 등을 활용하여, 도 10에서 도시된 것과 같이 상악 스캔 데이터 굴곡진 형상에 따라 복 수의 이미지 그룹(G1-GN)으로 분리할 수 있다. 전자 장치는 초기 교합면 방향(N_occ0)을 기초로 상악 스캔 데이터에 대한 복수의 극대점(LM_1- LM_N)을 생성할 수 있다. 복수의 극대점(LM_1-LM_N)은 상악 스캔 데이터를 구성하는 각각의 복수의 이미지 그룹(G1-GN)에서 초기 교합면 방향(N_occ0)을 기초로 가장 높이 배치되는 정점들에 대응될 수 있다. 전자 장치는, 초기 교합면 방향(N_occ0)에 대한 복수의 극대점(LM_1-LM_N)의 높이 및 복수의 이미지 그룹 (G1-GN)에 대한 복수의 면적(S1-SN)을 기초로, 복수의 극대점(LM_1-LM_N) 중에서 교두점(cusp_1-cusp_x)들을 선택할 수 있다. 전자 장치는 미리 정해진 높이와 미리 정해진 면적을 기초로, 소거법의 형식으로 복수의 극대점(LM_1-LM_N)의 일부를 소거하여 교두점(cusp_1-cusp_x)들을 선택할 수 있다. 상기 교두 정보는 상악 스캔 데이터 내 대합치가 접촉하는 교두점(cusp_1-cusp_x)의 수 및 배치 등을 포함 할 수 있다. 전자 장치는 교두 정보를 통해 교두점(cusp_1-cusp_x)의 배치와 수를 고려하여 상악 스캔 데이 터 내에서 구치부(Post)를 추출할 수 있다. 구치부(Post)는 악궁을 따라 2열로 배치된 교두점들을 포함할 수 있다. 실시예에 따라, 전자 장치는 해당 단계에서 객체 인식 인공지능 알고리즘을 통해 상악 스캔 데이터 내 각각의 치아들을 인식하고 인식된 치아들의 치아 번호를 인식하고, 치아 번호에 따른 치아의 해부학적 특징 등 을 고려하여 교두 정보를 생성할 수 있다. 전자 장치는 스캔 데이터의 교두 정보를 사용하여 전면 방향 및 정중선을 설정한다(S230). 도 13 내지 도 15를 추가적으로 참조하면, 전자 장치는 추출된 구치부(Post)를 이용하여 서로 이격된 좌측 2차원 바운딩 박스(2D-Oriented Bounding Box, Box2_L) 및 우측 2차원 바운딩 박스(Box2_R)를 생성할 수 있다. 좌측 2차원 바운딩 박스(Box2_L)는 상악 스캔 데이터 내 좌측 구치부(Post)에 배치되는 교두점을 포함할 수 있다. 우측 2차원 바운딩 박스(Box2_R)는 상악 스캔 데이터 내 우측 구치부(Post)에 배치되는 교두점을 포함할 수 있다. 좌측 2차원 바운딩 박스(Box2_L) 및 우측 2차원 바운딩 박스(Box2_R)는 구치부(Post)에 포함될 수 있고, 좌측 2 차원 바운딩 박스(Box2_L) 및 우측 2차원 바운딩 박스(Box2_R)는 전치부를 중심으로 좌우로 이격되어 배치될 수 있다. 전자 장치는, 좌측 2차원 바운딩 박스(Box2_L)에서 설측 방향에 배치되는 좌측 내측 장변에 대한 좌측 내측 벡터(V2_L)를 추출하고, 우측 2차원 바운딩 박스(Box2_R)에서 설측 방향에 배치되는 우측 내측 장변에 대한 우 측 내측 벡터(V2_R)를 추출할 수 있다. 좌측 내측 벡터(V2_L)는 좌측 내측 장변의 길이를 크기로 갖고, 좌측 내 측 장변의 연장 방향으로 방향을 가질 수 있다. 우측 내측 벡터(V2_R)는 우측 내측 장변의 길이를 크기로 갖고, 우측 내측 장변의 연장 방향으로 방향을 가질 수 있다. 전자 장치는 추출된 좌측 내측 벡터(V2_L)와 우측 내측 벡터(V2_R)의 평균 벡터(Vav)를 생성하고, 스캔 데 이터의 전면 방향을 평균 벡터(Vav)의 방향으로 설정할 수 있다. 전자 장치는, 일 실시예에 따라 좌측 2차원 바운딩 박스(Box2_L)의 배치와 우측 2차원 바운딩 박스(Box2_ R)의 배치를 기초로 제1 기준점(P1)과 제2 기준점(P2)을 설정할 수 있다. 제1 기준점(P1)은 좌측 2차원 바운딩 박스(Box2_L)의 단변을 기준으로 미리 정해진 거리(L)만큼 떨어진 제1 기준선(BL1)과 가장 가까운 교두점일 수 있다. 제2 기준점(P2)은 우측 2차원 바운딩 박스(Box2_R)의 단변을 기준으로 미리 정해진 거리(L)만큼 떨어진 제1 기준선(BL2)과 가장 가까운 교두점일 수 있다. 미리 정해진 거리(L)는 10mm 내지 20mm이나, 이에 제한되지 않는다. 실시예에 따라, 전자 장치는 좌측 2차원 바운딩 박스(Box2_L), 우측 2차원 바운딩 박스(Box2_R) 내 교두 정 보 및 상악 스캔 데이터에 대한 객체 인식을 통해, 제1 기준점(P1)과 제2 기준점(P2)을 설정할 수 있다. 실시예에 따라, 전자 장치는, 상악 스캔 데이터에 대한 객체 인식 인공지능 알고리즘을 통해, 상악 좌 측 제1 대구치(Mo1_L) 및 상악 우측 제1 대구치(Mo1_R)를 인식하고 설정할 수 있다. 전자 장치는, 제1 대구치(Mo1_L, Mo1_R) 내 교두점 중 협측 방향에 배치되는 교두점을 외측 교두로 선택하 고, 상기 선택된 외측 교두 중 전치부에 가장 가까운 외측 교두를 제1 기준점(P1)과 제2 기준점(P2)으로 설정할 수 있다. 전자 장치는, 제1 기준점(P1)및 제2 기준점(P2)의 중점을 중간점(CMo)으로 설정하고, 중간점(CMo)에서 평균 벡터(Vav)만큼 이동시킨 점을 인접 기준점(PP)으로 지정할 수 있다. 전자 장치는 인접 기준점(PP)에서 가장 인접한 하악 스캔 데이터의 교두점을 제3 기준점(P3)으로 설정할 수 있다. 전자 장치는, 제3 기준점(P3)을 지나고 평균 벡터(Vav)의 방향으로 연장되는 연장선을 정중선(Cc)으로 설정 할 수 있다. 전자 장치는 정중선(Cc)을 조정 정중선(Cc')으로 조정한다(S240). 도 16 및 도 17를 추가적으로 참조하면, 전자 장치는 상악 스캔 데이터의 전면 형상을 분석하여 정중 선(Cc)을 조정 정중선(Cc')으로 조정할 수 있다. 상악 스캔 데이터의 전면 형상은, 평균 벡터(Vav)의 반대 방향으로 나타낼 수 있다. 전자 장치는 제3 기준점(P3)을 포함한 인접 영역(PR)을 설정할 수 있다. 실시예에 따라, 인접 영역(PR)은 중간점(CMo)을 기준으로 정중선(Cc)을 일정 범위 내로 회전시켜 상악 스캔 데이터와 만나는 영역일 수 있 다. 상기 일정 범위는 -10도 내지 10도이나, 상기 수치 범위에 제한되지 않으며 실시예에 따라 수치 범위는 달라질 수 있다. 전자 장치는 인접 영역(PR) 내의 상악 스캔 데이터 내 곡률 정보를 획득하고, 일정 범위의 곡률 정보 를 갖는 상악 스캔 데이터 내 정점들을 그룹핑하여 중절치 사이의 치간 영역을 인식할 수 있다. 전자 장치 는 중절치 사이에 인식된 치간 영역을 따라 상악 스캔 데이터에 인접하게 연장되는 중앙 실린더(Cy)를 생성하는 실린더 피팅 동작을 수행할 수 있다. 중앙 실린더(Cy)는 상악 스캔 데이터에 접할 수 있다. 전자 장치는, 중앙 실린더(Cy)가 연장되는 방향과 수직한 방향으로 제3 기준점(P3)을 중앙 실린더(Cy)에 투 영시켜, 중앙 기준점(Pc)을 설정할 수 있다. 전자 장치는, 중앙 기준점(Pc)을 지나고 평균 벡터(Vav)의 방 향으로 연장되는 연장선을 조정 정중선(Cc')으로 설정하고, 조정 정중선(Cc')의 설정으로 정중선(Cc)을 조정할 수 있다. 해당 조정 동작을 통해, 전자 장치는 중절치 사이로 조정 정중선(Cc')을 배치시켜 상악 스캔 데이 터를 정교하게 정렬시킬 수 있다. 실시예에 따라, 전자 장치는 객체 인식 인공지능 알고리즘을 통해 상악 스캔 데이터 내 중절치 사이의 치간 영역을 인식하고, 제3 기준점(P3)의 위치로 중절치 사이의 치간 영역 내 중앙 기준점(Pc)으로 조정하여 정 중선(Cc)을 조정 정중선(Cc')으로 조정할 수 있다. 전자 장치는 교합 평면(OccP)을 설정한다(S250). 도 18을 추가적으로 참조하면, 전자 장치는 제1 기준점(P1), 제2 기준점(P2) 및 중앙 기준점(Pc)을 기초로 교합 평면(OccP)을 설정할 수 있다. 복수의 기준점(P1, P2, Pc) 설정을 통해 교합 평면(OccP)을 설정하는 것 외 에, 실시예에 따라 전자 장치는 교두점(cusp_1-cusp_x)들에 대한 교두 정보를 최소자승 오차법으로 회귀하 는 방식으로 평면 방정식을 계산하는 것을 포함하여 다양한 방식으로 교합 평면(OccP)을 설정할 수 있다. 일 실시예에 따라, 전자 장치는 복수의 기준점(P1, P2, Pc) 설정 후 사용자 인터페이스 장치의 입력을 통한 사용자 입력에 기초하여 복수의 기준점(P1, P2, Pc)들의 위치는 조정될 수 있고, 조정된 복수의 기준점 (P1, P2, Pc)들 기초로 교합 평면(OccP)이 설정될 수 있다. 일 실시예에 따라, 전자 장치는 단계 S200 동작 중에 스캔 데이터 로드 외에 별도의 사용자 입력을 요 구하지 않아, 스캔 데이터를 용이하게 정렬하여 스플린트 제작하는 데 소요되는 시간을 절감시킬 수 있다. 또한, 일 실시예에 따라, 전자 장치는 정중선을 자동으로 중절치 사이로 배치시켜 스캔 데이터을 정교 하게 정렬시킬 수 있다. 본 개시의 일 실시예에 따른 이미지 처리 방법은 다양한 컴퓨터 수단을 통하여 수행될 수 있는 프로그램 명령 형태로 구현되어 컴퓨터 판독 가능 매체에 기록될 수 있다. 또한, 본 개시의 실시예는, 이미지 처리 방법을 실 행하는 명령어들을 포함하는 하나 이상의 프로그램이 기록된 컴퓨터로 읽을 수 있는 기록 매체가 될 수 있다. 상기 컴퓨터 판독 가능 매체는 프로그램 명령, 데이터 파일, 데이터 구조 등을 단독으로 또는 조합하여 포함할 수 있다. 상기 매체에 기록되는 프로그램 명령은 본 발명을 위하여 특별히 설계되고 구성된 것들이거나 컴퓨터 소프트웨어에 대한 통상의 지식을 가진 자에게 공지되어 사용 가능한 것일 수도 있다. 컴퓨터 판독 가능 기록 매체의 예에는 하드 디스크, 플로피 디스크 및 자기 테이프와 같은 자기 매체(magnetic media), CD-ROM, DVD와 같은 광기록 매체(optical media), 플롭티컬 디스크(floptical disk)와 같은 자기-광 매체(magneto-optical media), 및 롬(ROM), 램(RAM), 플래시 메모리 등과 같은 프로그램 명령을 저장하고 수행하도록 특별히 구성된 하드웨어 장치가 포함된다. 프로그램 명령의 예에는 컴파일러에 의해 만들어지는 것과 같은 기계어 코드뿐만 아 니라 인터프리터 등을 사용해서 컴퓨터에 의해서 실행될 수 있는 고급 언어 코드를 포함한다. 여기서, 기기로 읽을 수 있는 저장매체는, 비일시적(non-transitory) 저장매체의 형태로 제공될 수 있다. 여기 서, '비일시적'은 저장매체'는 실재(tangible)하는 장치이고, 신호(signal)(예: 전자기파)를 포함하지 않는다는 것을 의미할 뿐이며, 이 용어는 데이터가 저장매체에 반영구적으로 저장되는 경우와 임시적으로 저장되는 경우 를 구분하지 않는다. 예로, '비일시적 저장매체'는 데이터가 임시적으로 저장되는 버퍼를 포함할 수 있다. 일 실시예에 따르면, 본 문서에 개시된 다양한 실시예들에 따른 방법은 컴퓨터 프로그램 제품(computer program product)에 포함되어 제공될 수 있다. 컴퓨터 프로그램 제품은 상품으로서 판매자 및 구매자 간에 거래될 수 있 다. 컴퓨터 프로그램 제품은 기기로 읽을 수 있는 저장 매체(예: compact disc read only memory (CD-ROM))의 형태로 배포되거나, 또는 어플리케이션 스토어(예: 플레이 스토어TM)를 통해 또는 두개의 사용자 장치들(예: 스 마트폰들) 간에 직접, 온라인으로 배포(예: 다운로드 또는 업로드)될 수 있다. 온라인 배포의 경우에, 컴퓨터 프로그램 제품(예: 다운로더블 앱(downloadable app))의 적어도 일부는 제조사의 서버, 어플리케이션 스토어의서버, 또는 중계 서버의 메모리와 같은 기기로 읽을 수 있는 저장 매체에 적어도 일시 저장되거나, 임시적으로 생성될 수 있다. 이상에서 본 발명의 실시예에 대하여 상세하게 설명하였지만 본 발명의 권리범위는 이에 한정되는 것은 아니고 다음의 청구범위에서 정의하고 있는 본 발명의 기본 개념을 이용한 당업자의 여러 변형 및 개량 형태 또한 본 발명의 권리범위에 속하는 것이다."}
{"patent_id": "10-2023-0090638", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 일 실시예에 따른 전자 장치를 포함하는 이미지 처리 시스템을 설명하기 위한 도면이다. 도 2는 일 실시예에 따라, 전자 장치의 구성을 도시한 블록도이다. 도 3은 일 실시예에 따라, 전자 장치의 이미지 처리 방법을 나타낸 순서도이다. 도 4 및 도 5는 일 실시예에 따라, 스캔 데이터, 상악 스캔 데이터 및 하악 스캔 데이터를 설명하기 위한 도면 들이다. 도 6는 일 실시예에 따라, 전자 장치의 이미지 처리 방법을 나타낸 순서도이다. 도 7 내지 도 9는 일 실시예에 따라, 초기 교합면 방향을 추출하는 것을 설명하기 위한 도면들이다. 도 10 내지 도 12는 일 실시예에 따라, 교두 정보를 생성하는 것을 설명하기 위한 도면들이다. 도 13 및 도 14는 일 실시예에 따라, 전면 방향 및 정중선을 설정하는 것을 설명하기 위한 도면들이다. 도 15 내지 도 17은 일 실시예에 따라, 정중선 미세 조정하는 것을 설명하기 위한 도면들이다. 도 18은 일 실시예에 따라, 교합 평면 설정하는 것을 설명하기 위한 도면이다."}
