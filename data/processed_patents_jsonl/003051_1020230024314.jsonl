{"patent_id": "10-2023-0024314", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0131059", "출원번호": "10-2023-0024314", "발명의 명칭": "PCB 제조 공정에서 머신 비전 기반 홀 가공 품질 검사 방법", "출원인": "성균관대학교산학협력단", "발명자": "정종필"}}
{"patent_id": "10-2023-0024314", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "PCB 제조 공정 중 머신 비전에 기반하여 홀 가공 품질 검사를 하는 방법에 있어서,제조 공정 중 전자 현미경을 이용하여 검사 대상에서 홀 가공 이미지 데이터를 수집하는 단계;상기 홀가공 이미지 데이터에서 홀 가공 하부 이미지를 기반으로 U-net 기반 이미지 객체 분할 모델을 학습시키는 단계; 및GUI(Graphical User Interface)를 통해 학습 또는 테스트 진행을 출력하는 단계;를 포함하는, 홀 가공 품질 검사 방법."}
{"patent_id": "10-2023-0024314", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서,상기 이미지 객체 분할 모델을 학습시키는 단계는, pytorch 기반의 torchvision 라이브러리에 기반하여 구축된 이미지 객체 분할 알고리즘를 이용하여 상기 이미지 객체 분할 모델을 학습시키는, 홀 가공 품질 검사 방법."}
{"patent_id": "10-2023-0024314", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 PCB 제조 공정에서 머신 비전 기반 홀 가공 품질 검사 방법에 관한 것으로, 제조 공정 중 전자 현미경 을 이용하여 검사 대상에서 홀 가공 이미지 데이터를 수집하고, 홀가공 이미지 데이터에서 홀 가공 하부 이미지 를 기반으로 U-net 기반 이미지 객체 분할 모델을 학습시키며, GUI(Graphical User Interface)를 통해 학습 또 는 테스트 진행을 출력한다."}
{"patent_id": "10-2023-0024314", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 \"스마트팩토리 산업인공지능 공동연구\"와 연계한 스마트팩토리융합캡스톤디자인의 연구결과로 고안 (안출)된 것으로서, 본 발명의 목적은 딥러닝을 이용해 홀 가공 품질 검사과정을 자동화를 제공하는 것이다."}
{"patent_id": "10-2023-0024314", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "인쇄회로기판(PCB)은 4차산업 전반적으로 대부분의 디바이스에서 사용 중인 하드웨어 부품으로써 마이크로미터 (㎛) 단위의 아주 미세한 공정이다. CO2 Laser Drill은 초당 약 7,000개의 홀을 가공하며 1PNL당 약 7,000,000 ~ 8,000,000개의 홀을 가공하게 되며 가공된 홀을 작업자가 전자현미경을 이용해서 초점, 밝기, 배율, 등 다양 한 환경을 조정한 뒤에 일부 샘플에 대해서 품질 검사를 진행한다. 컴퓨터 비전 분야에서 객체 분할(Semantic segmentation)은 디지털 이미지를 여러 개의 픽셀 집합으로 나누는 방식이다. 이런 객체 분할 인공지능 네트워크 중 U-Net을 사용한다. U-Net은 합성곱 신경망 기반의 AutoEncoder 구조를 기반으로 Residual Network에서 제시했던 Skip-Connection을 활용하여 학습하는 과정에서 Image segmentation에 필요한 정보인 위치의 정보 및 윤곽의 정보를 효과적으로 전달한다. 이러한 알고리즘을 활용하 여 가공 중에 발생하는 결함 유형에 대해 높은 검출 정확도를 확보함으로써 수작업 가공 품질 검사를 자동화하 는 목적이 있다."}
{"patent_id": "10-2023-0024314", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "기존에 홀 가공 품질검사는 전자현미경으로 작업자에 의해 수동으로 작업 되었다. 검사 대상이 되는 홀 가공 적 층판은 한 판에 약 700~800만 개가 가공되기 때문에 모든 홀을 작업자가 수동으로 검사하는 것은 불가능하다. 해당 이유로 몇 개의 시편을 샘플링한 후 해당 시편에 대해서만 가공 품질 검사를 진행한다. 이러한 문제점을 해결하기 위해 인공지능을 통한 자동화 시스템을 구축하려고 한다. 따라서 딥러닝을 이용해 홀 가공 품질 검사 과정을 자동화하여 품질향상 및 생산성을 향상한다."}
{"patent_id": "10-2023-0024314", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "PCB기판에 홀 가공 제조 공정 진행 후 현미경을 통해 홀 가공 결과를 이미지로 촬영한다. 홀 가공 결과 이미지 를 객체 분할 알고리즘에 적용하여 정상인 부분(홀의 크기)과 불량인 부분(편심이 발생한 부분)을 객체 분할하 고 정상과 불량 영역을 추론한 뒤 품질 관리 기준 허용오차를 만족시키는 결과품을 찾는다. 상기 기술적 과제를 해결하기 위하여, 본 명세서의 일 실시예에 따른 PCB 제조 공정 중 머신 비전에 기반하여 홀 가공 품질 검사를 하는 방법은, 제조 공정 중 전자 현미경을 이용하여 검사 대상에서 홀 가공 이미지 데이터 를 수집하는 단계; 상기 홀가공 이미지 데이터에서 홀 가공 하부 이미지를 기반으로 U-net 기반 이미지 객체 분 할 모델을 학습시키는 단계; 및 GUI(Graphical User Interface)를 통해 학습 또는 테스트 진행을 출력하는 단계;를 포함한다. 일 실시예에 따른, 홀 가공 품질 검사 방법에서, 상기 이미지 객체 분할 모델을 학습시키는 단계는, pytorch 기반의 torchvision 라이브러리에 기반하여 구축된 이미지 객체 분할 알고리즘를 이용하여 상기 이미지 객체 분 할 모델을 학습시킬 수 있다."}
{"patent_id": "10-2023-0024314", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "기존에는 작업자가 전자현미경을 활용하여 수동으로 샘플링 후 품질 검사를 하였지만, 본 발명의 프로세스를 사 용하게 된다면 기존의 방식과 비교해 비약적인 속도향상과 품질 분류 정확도 향상을 가져올 수 있다. 또한 전자 현미경 업체 혹은 AOI(자동 광학 검사) 장비 업체와 협업을 진행하여 품질 검사가 가능한 전자현미경을 개발할 때 이를 사업화로 이어갈 수 있다고 판단한다."}
{"patent_id": "10-2023-0024314", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하에서는 도면을 참조하여 본 명세서의 실시예들을 구체적으로 설명하도록 한다. 다만, 하기의 설명 및 첨부 된 도면에서 실시예들의 요지를 흐릴 수 있는 공지 기능 또는 구성에 대한 상세한 설명은 생략한다. 덧붙여, 명 세서 전체에서, 어떤 구성 요소를 '포함'한다는 것은, 특별히 반대되는 기재가 없는 한 다른 구성요소를 제외하 는 것이 아니라, 다른 구성요소를 더 포함할 수 있는 것을 의미한다. 본 명세서에서 사용한 용어는 단지 특정한 실시예를 설명하기 위해 사용된 것으로, 본 명세서를 한정하려는 의 도가 아니다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 출원에서, \"포함하다\" 또는 \"구비하다\" 등의 용어는 설시된 특징, 숫자, 단계, 동작, 구성요소, 부분품 또는 이들을 조합 한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성요소, 부분 품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 특별히 다르게 정의되지 않는 한, 기술적이거나 과학적인 용어를 포함해서 여기서 사용되는 모든 용어들은 본 명세서가 속하는 기술 분야에서 통상의 지식을 가진 자에 의해 일반적으로 이해되는 것과 동일한 의미이다. 일 반적으로 사용되는 사전에 정의되어 있는 것과 같은 용어들은 관련 기술의 문맥상 가지는 의미와 일치하는 의미 인 것으로 해석되어야 하며, 본 명세서에서 명백하게 정의하지 않는 한, 이상적이거나 과도하게 형식적인 의미 로 해석되지 않는다. CO2 Laser Drill을 이용한 PCB의 홀 가공은 초당 약 7,000개의 홀을 가공한다. 이는 다층 PCB의 적층판을 대상 으로 하는데, 먼저 다층 PCB란 내층과 외층 회로를 가진 입체구조의 PCB로 입체 배선에 의해 고밀도의 회로를 구성한다. 가공된 홀은 동박층/절연층/동박층인 총 3계층으로 구성되어있고, 가공된 홀의 지름은 약 40㎛ ~ 100 ㎛ 정도로 매우 미세하다. 작업자가 전자현미경을 이용하여 수집한 이미지는 상부와 하부로 촬영된다. 상부는 홀 가공 제조 과정 후, PCB 판의 위쪽에서 촬영한 이미지이고 하부는 위쪽에서 찍어 반사되는 이미지를 나타낸다. 상부 같은 경우는 사람이 눈으로 보기에도 가공된 홀의 영역을 구분할 수 있지만, 하부는 숙련된 작업자가 보기에도 명확하게 구분하기 어렵기 때문에 하부의 품질검사는 숙련된 작업자의 감에 의존하는 비중이 매우 높다. 홀 가공 하부 이미지를 기반으로 U-net 기반 이미지 객체 분할 모델을 학습 시킨 후 GUI(Graphical User Interface)를 설계하였다. 해당 프로세스를 진행하기 위해선 크게 3가지 절차를 이행해야 한다. 첫 번째, 홀 가공 하부 이미지 데이터 수집이다. 두 번째, pytorch 기반 이미지 객체 분할 알고리즘 구축 및 학습이다. 세 번째, 해당 프로세스를 기 반으로 GUI를 설계하는 것이다. 두 번째의 경우, tensorflow나 pytorch 중 어떤 언어를 사용해도 상관없지만, pytorch에서 제공하는 torchvision 라이브러리가 큰 강점을 가지기 때문에, 해당 언어를 사용하는 것을 추천한 다. 세 번째의 경우, 웹서버는 flask 기반으로 프로그래밍하였으며, 브라우저의 경우 pywebview를 통하여 GUI를 설계하였다. 도 1은 일 실시예 따른 PCB 제조 공정에서 머신 비전 기반 홀 가공 품질 검사 방법을 도시한 순서도이다. CO2 Laser Drill은 초당 약 7,000개의 홀을 가공하며 1PNL당 약 7,000,000 ~ 8,000,000개의 홀을 가공하게 되 며 가공된 홀을 작업자가 Sampling 검사를 채택하여 일부 홀만 검사하고 있다. 본 실시예는 4차산업으로 인한 수요가 급증하고 있는 인쇄회로기판(PCB)의 제조 공정 처리 후 홀 가공 품질 검사를 하기 위한 머신 비전 기반 사후 관리 시스템을 제안한다. 따라서 딥러닝을 이용해 홀 가공 품질검사 과정을 자동화하여 품질향상 및 생산 성을 향상하고자 한다. 가공 이미지에서 정상 혹은 불량인 부분을 분류하고 객체 분할 하기 위해 객체 분할 알 고리즘을 사용한다. 따라서 무조건 불량이 검출되었다고 해서 불량으로 판정하는 것이 아닌 불량기준에 충족했 을 때 불량으로 판정하는 알고리즘을 구축하였다. 도 2는 본 명세서의 일 실시예에 따른 객체 분할 알고리즘 소프트웨어 툴(Tool)을 나타낸 도면이다. 본 발명은 일련의 과정을 GUI로 설계하여 PCB 홀 가공 업체의 품질 검사를 위해 활용될 수 있다. 홀 가공 품질 검사 자동화를 위한 알고리즘을 직접 학습 시켜보고 테스트로 진행할 수 있는 Tool을 제작하였다. 제공하는 서 비스에는 모델명을 입력하고 Batch size, Epoch size를 설정한 다음, TRAIN 버튼을 눌러 학습을 진행해보고, 학 습 결과로 나온 모델을 이용해서 테스트 이미지와 함께 Test도 진행해서 검사 결과를 즉각적으로 확인해볼 수 있다. 이를 통해 작업자가 고려한 실시예와 유사한 라벨링을 직접 진행하는 Active Learning 방식을 사용할 수 있다는 장점이 있다. PCB 홀 가공 업체의 품질 검사를 위해 활용될 수 있다. 기존에는 작업자가 전자현미경을 활용하여 수동으로 Sampling 품질 검사를 하였지만, 본 과제의 결과물을 사용하게 된다면 기존의 방식과 비교해 비약적인 속도향상 과 품질향상을 가져올 수 있다. 또한 본 과제의 결과물과 전자현미경 업체 혹은 AOI(자동 광학 검사) 장비 업체 와 협업을 진행하여 품질 검사가 가능한 전자현미경을 개발할 때 이를 사업화로 이어갈 수 있다고 판단한다. PCB 기반 홀 가공 사후 관리를 위한 하부 이미지 기반 객체 분할 알고리즘 구축 PCB에 대한 드릴링 홀 가공에 대해 사후 품질 관리를 위해 품질 관리 대상으로 제조 과정 후 하부 이미지를 선 택했다. 수많은 홀 가공 제조 과정 및 결과물을 조사함을 토대로 상부의 이미지보다 하부의 이미지를 선택함으 로써 제조 지능화 관점에서 높은 기여를 하였다. 또한 공정 품질 관리 자동화를 위해 이러한 하부 이미지를 기 반으로 직접 편심이 일어난 불량 제조품에 대해 고찰을 하여 편심의 정도를 정의하고 적용한 기여가 있다. 웹서버 기반 Custom Dataset 을 학습 가능한 형태로 GUI 설계 요즘 많은 산업 분야에서 인공지능 기반의 제조 지능화 솔루션을 내놓고 있다. 하지만 실제 산업 분야에서 겪는 고질적인 문제점은 연구 과정에서 사용된 데이터를 기반으로 구축한 인공지능을 실제 산업 분야에 적용하기 어 렵다는 점이다. 우리는 이러한 문제점을 해결하기 위해서 일련의 제조 지능화 기술 고안 후 개인화된 서비스를 제공하기 위해서 직접 수집한 데이터를 기반으로 학습하고 결과를 낼 수 있도록 GUI를 설계하였다. 이를 통하여, 연구보단 제조 환경에 맞추어 인공지능 모델을 형성할 수 있도록 Active Learning이 가능하단 점에서 산업 분야에 높은 기여도를 갖고 있다. 한편, 본 명세서의 실시예들은 컴퓨터로 읽을 수 있는 기록 매체에 컴퓨터가 읽을 수 있는 코드로 구현하는 것 이 가능하다. 컴퓨터가 읽을 수 있는 기록 매체는 컴퓨터 시스템에 의하여 읽혀질 수 있는 데이터가 저장되는 모든 종류의 기록 장치를 포함한다. 컴퓨터가 읽을 수 있는 기록 매체의 예로는 ROM, RAM, CD-ROM, 자기 테이프, 플로피디스크, 광 데이터 저장장치 등을 포함한다. 또한, 컴퓨터가 읽을 수 있는 기록 매체는 네트워크 로 연결된 컴퓨터 시스템에 분산되어, 분산 방식으로 컴퓨터가 읽을 수 있는 코드가 저장되고 실행될 수 있다. 그리고 실시예들을 구현하기 위한 기능적인(functional) 프로그램, 코드 및 코드 세그먼트들은 본 명세서가 속 하는 기술 분야의 프로그래머들에 의하여 용이하게 추론될 수 있다. 이상에서 본 명세서에 대하여 그 다양한 실시예들을 중심으로 살펴보았다. 본 명세서에 속하는 기술 분야에서 통상의 지식을 가진 자는 다양한 실시예들이 본 명세서의 본질적인 특성에서 벗어나지 않는 범위에서 변형된 형 태로 구현될 수 있음을 이해할 수 있을 것이다. 그러므로 개시된 실시예들은 한정적인 관점이 아니라 설명적인 관점에서 고려되어야 한다. 본 명세서의 범위는 전술한 설명이 아니라 특허청구범위에 나타나 있으며, 그와 동 등한 범위 내에 있는 모든 차이점은 본 명세서에 포함된 것으로 해석되어야 할 것이다."}
{"patent_id": "10-2023-0024314", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 일 실시예 따른 PCB 제조 공정에서 머신 비전 기반 홀 가공 품질 검사 방법을 도시한 순서도이다. 도 2는 본 명세서의 일 실시예에 따른 객체 분할 알고리즘 소프트웨어 툴(Tool)을 나타낸 도면이다."}
