{"patent_id": "10-2022-0112934", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0033964", "출원번호": "10-2022-0112934", "발명의 명칭": "이동 단말기의 세컨드 디바이스 접속 제어 방법, 코어망의 세컨드 디바이스 접속 제어 방법", "출원인": "주식회사 케이티", "발명자": "조원창"}}
{"patent_id": "10-2022-0112934", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "세컨드 디바이스의 통신을 위한 PDU 세션 수립 요청을 코어망에 전송하는 단계;상기 코어망으로부터, 상기 세컨드 디바이스의 IPv6 주소의 자동 구성을 위한 구성 정보를 수신하는 단계;상기 세컨드 디바이스에 상기 구성 정보를 전송하는 단계;상기 세컨드 디바이스로부터, 상기 구성 정보에 기반하여 자동 구성된 상기 세컨드 디바이스의 IPV6 주소를 수신하는 단계; 및상기 세컨드 디바이스의 IPV6 주소를 상기 코어망에 전송하는 단계;를 포함하는이동 단말기의 세컨드 디바이스 접속 제어 방법."}
{"patent_id": "10-2022-0112934", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1항에 있어서,상기 코어망으로부터 수신되는 구성 정보는,IPv6 Prefix 및 주소 생성 룰을 포함하는이동 단말기의 세컨드 디바이스 접속 제어 방법."}
{"patent_id": "10-2022-0112934", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 2항에 있어서,상기 세컨드 디바이스의 IPV6 주소는,상기 IPv6 Prefix를 포함하는 Prefix 영역 및 상기 주소 생성 룰에 기반하여 상기 세컨드 디바이스의 식별 정보를 변환하여 생성되는 자동 구성 영역을 포함하는이동 단말기의 세컨드 디바이스 접속 제어 방법."}
{"patent_id": "10-2022-0112934", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 3항에 있어서,상기 Prefix 영역은, 상기 코어망에 의해 설정되는, 64개의 비트를 포함하는 영역이고,상기 자동 구성 영역은, 상기 세컨드 디바이스에 의해 설정되는, 64개의 비트를 포함하는 영역인이동 단말기의 세컨드 디바이스 접속 제어 방법."}
{"patent_id": "10-2022-0112934", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 3항에 있어서,상기 세컨드 디바이스의 IPV6 주소는,상기 세컨드 디바이스의 IPV6 주소의 계층적 관리를 위한 계층 정보를 포함하는이동 단말기의 세컨드 디바이스 접속 제어 방법."}
{"patent_id": "10-2022-0112934", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 5항에 있어서,공개특허 10-2024-0033964-3-상기 계층 정보는,상기 세컨드 디바이스에 대한 서비스의 타입, 상기 세컨드 디바이스에 적용되는 요금제 및 PDN 정보 중 적어도하나를 포함하는이동 단말기의 세컨드 디바이스 접속 제어 방법."}
{"patent_id": "10-2022-0112934", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제 1항에 있어서,상기 코어망으로부터, 상기 세컨드 디바이스의 IPv6 주소의 자동 구성을 위한 구성 정보를 수신하는 단계는,상기 코어망으로 ICMPv6 라우터 요청을 전송하는 단계; 및상기 ICMPv6 라우터 요청에 대한 응답 ICMPv6 메시지를 상기 코어망으로부터 수신하는 단계;를 포함하고,상기 수신된 응답 ICMPv6 메시지는, 상기 구성 정보를 포함하는이동 단말기의 세컨드 디바이스 접속 제어 방법."}
{"patent_id": "10-2022-0112934", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 1항에 있어서,상기 세컨드 디바이스에 상기 구성 정보를 전송하는 단계는,상기 세컨드 디바이스로부터 ICMPv6 라우터 요청 메시지를 수신하는 단계;상기 수신된 ICMPv6 라우터 요청 메시지에 대한 응답 ICMPv6 메시지를 상기 세컨드 디바이스로 전송하는 단계;를 포함하고,상기 전송된 ICMPv6 라우터 알림 메시지는, 상기 구성 정보를 포함하는이동 단말기의 세컨드 디바이스 접속 제어 방법."}
{"patent_id": "10-2022-0112934", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 1항에 있어서,상기 세컨드 디바이스의 IPV6 주소를 상기 코어망에 전송한 이후, 상기 세컨드 디바이스의 IPV6 주소를 목적지로 가지는 트래픽을 수신하는 단계; 및라우팅 테이블에 기초하여 상기 세컨드 디바이스의 IPV6 주소에 상응하는 접속 인터페이스를 결정하고, 상기 결정된 접속 인터페이스를 통하여 상기 세컨드 디바이스에 트래픽을 전송하는 단계;를 더 포함하는이동 단말기의 세컨드 디바이스 접속 제어 방법."}
{"patent_id": "10-2022-0112934", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "코어망의 세컨드 디바이스 접속 제어 방법에 있어서,이동 단말기로부터 세컨드 디바이스의 통신을 위한 PDU 세션 수립 요청이 수신되면, PUD 세션을 생성하는 단계;상기 이동 단말기에, 상기 세컨드 디바이스의 IPv6 주소의 자동 구성을 위한 구성 정보를 전송하는 단계;상기 이동 단말기로부터 상기 세컨드 디바이스의 IPV6 주소를 수신하는 단계; 및상기 수신된 IPV6 주소를 이용하여, 상기 IPV6 주소를 목적지로 가지는 트래픽을 처리하는 단계;를 포함하는코어망의 세컨드 디바이스 접속 제어 방법."}
{"patent_id": "10-2022-0112934", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제 10항에 있어서,상기 PUD 세션을 생성하는 단계는,공개특허 10-2024-0033964-4-상기 PDU 세션 수립 요청이 수신되면, SMF가 DN-AAA로부터 상기 구성 정보의 생성에 필요한 정보를 수신하는 단계;를 포함하는코어망의 세컨드 디바이스 접속 제어 방법."}
{"patent_id": "10-2022-0112934", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제 10항에 있어서,상기 세컨드 디바이스의 IPv6 주소의 자동 구성을 위한 구성 정보를 전송하는 단계는,IPv6 Prefix 및 주소 생성 룰을 포함하는 상기 구성 정보를 상기 이동 단말기에 전송하는 단계;를 포함하는코어망의 세컨드 디바이스 접속 제어 방법."}
{"patent_id": "10-2022-0112934", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제 12항에 있어서,상기 IPv6 Prefix 및 주소 생성 룰을 포함하는 상기 구성 정보를 상기 이동 단말기에 전송하는 단계는,상기 세컨드 디바이스의 IPV6 주소의 계층적 관리를 위한 계층 정보를 포함시켜 상기 IPv6 Prefix를 생성하는 코어망의 세컨드 디바이스 접속 제어 방법."}
{"patent_id": "10-2022-0112934", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제 12항에 있어서,상기 구성 정보는, PDN 정보를 더 포함하는코어망의 세컨드 디바이스 접속 제어 방법."}
{"patent_id": "10-2022-0112934", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제 10항에 있어서,상기 세컨드 디바이스의 IPv6 주소의 자동 구성을 위한 구성 정보를 전송하는 단계는,상기 이동 단말기로부터 ICMPv6 라우터 요청을 수신하는 단계;상기 ICMPv6 라우터 요청에 대한 응답 ICMPv6 메시지에 상기 구성 정보를 포함시켜 상기 이동 단말기에 전송하는 단계;를 포함하는코어망의 세컨드 디바이스 접속 제어 방법."}
{"patent_id": "10-2022-0112934", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제 10항에 있어서,상기 이동 단말기로부터 상기 세컨드 디바이스의 IPV6 주소를 수신하는 단계는,상기 코어망에서 보유한 주소 생성 룰 및 상기 세컨드 디바이스의 식별 정보, 그리고 상기 수신된 IPV6 주소를이용하여 상기 세컨드 디바이스를 인증하는코어망의 세컨드 디바이스 접속 제어 방법."}
{"patent_id": "10-2022-0112934", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제 10항에 있어서,상기 수신된 IPV6 주소를 이용하여, 상기 IPV6 주소를 목적지로 가지는 트래픽을 처리하는 단계는,상기 코어망의 UPF가, 상기 세컨드 디바이스의 IPV6 주소를 목적지로 가지는 트래픽을 수신하는 단계;상기 세컨드 디바이스의 IPV6 주소를 이용하여, 복수의 GTP-U 터널 중 상기 IPV6 주소에 상응하는 GTP-U 터널을결정하는 단계;공개특허 10-2024-0033964-5-상기 결정된 GTP-U 터널을 통하여 상기 이동 단말기에 상기 트래픽을 전송하는 단계;를 포함하는코어망의 세컨드 디바이스 접속 제어 방법."}
{"patent_id": "10-2022-0112934", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "이동 단말기에 세컨드 디바이스의 IPv6 주소의 자동 구성을 위한 구성 정보를 전송하는 코어망; 및상기 세컨드 디바이스에 상기 구성 정보를 전송하고, 상기 세컨드 디바이스로부터 상기 구성 정보에 기반하여자동 구성된 상기 세컨드 디바이스의 IPV6 주소를 수신하고, 상기 세컨드 디바이스의 IPV6 주소를 상기 코어망에 전송하는 이동 단말기;를 포함하고,상기 코어망은, 상기 수신된 IPV6 주소를 이용하여 상기 IPV6 주소를 목적지로 가지는 트래픽을 처리하는세컨드 디바이스 접속 제어 시스템."}
{"patent_id": "10-2022-0112934", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_19", "content": "제 18항에 있어서,상기 코어망은 UPF를 포함하고,상기 UPF는,상기 세컨드 디바이스의 IPV6 주소를 목적지로 가지는 트래픽을 수신하고, 상기 세컨드 디바이스의 IPV6 주소를이용하여, 복수의 GTP-U 터널 중 상기 IPV6 주소에 상응하는 GTP-U 터널을 결정하고, 상기 결정된 GTP-U 터널을통하여 상기 이동 단말기에 상기 트래픽을 전송하는세컨드 디바이스 접속 제어 시스템."}
{"patent_id": "10-2022-0112934", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_20", "content": "제 19항에 있어서,상기 이동 단말기는,상기 UPF로부터 상기 트래픽이 수신되면, 라우팅 테이블에 기초하여 상기 세컨드 디바이스의 IPV6 주소에 상응하는 접속 인터페이스를 결정하고, 상기 결정된 접속 인터페이스를 통하여 상기 세컨드 디바이스에 트래픽을 전송하는세컨드 디바이스 접속 제어 시스템."}
{"patent_id": "10-2022-0112934", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "이동 단말기의 세컨드 디바이스 접속 제어 방법이 개시된다. 본 발명에 따른 이동 단말기의 세컨드 디바이스 접 속 제어 방법은, 세컨드 디바이스의 통신을 위한 PDU 세션 수립 요청을 코어망에 전송하는 단계, 상기 코어망으 로부터, 상기 세컨드 디바이스의 IPv6 주소의 자동 구성을 위한 구성 정보를 수신하는 단계, 상기 세컨드 디바이 스에 상기 구성 정보를 전송하는 단계, 상기 세컨드 디바이스로부터, 상기 구성 정보에 기반하여 자동 구성된 상 기 세컨드 디바이스의 IPV6 주소를 수신하는 단계, 및, 상기 세컨드 디바이스의 IPV6 주소를 상기 코어망에 전송 하는 단계를 포함한다."}
{"patent_id": "10-2022-0112934", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은, 세컨드 디바이스의 IP를 자동 구성하고 세컨드 디바이스의 IP를 인증 및 관리함으로써 세컨드 디바 이스의 양방향 통신이 가능하게 하는, 이동 단말기의 세컨드 디바이스 접속 제어 방법, 코어망의 세컨드 디바이 스 접속 제어 방법 및 세컨드 디바이스 접속 제어 시스템에 관한 것이다."}
{"patent_id": "10-2022-0112934", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "세컨드 디바이스는 스마트폰과 함께 사용되는 다양한 정보기술(IT) 기기를 통칭하는 말이다. 예를 들어 태블릿 PC, 스마트워치, 인공지능(AI) 스피커, 가상현실(VR) 헤드 셋 등이 대표적이다. 세컨드 디바이스의 사용을 위해서는, 먼저 스마트 폰과 세컨드 디바이스페어링 간의 과정이 필요하다. 즉 세컨 드 디바이스와 스마트폰은 블루투스나 와이파이를 통해 서로 연결되고, 앱을 통해서 서비스에 필요한 데이터를 서로 주고받으면서 사용자에게 세컨드 디바이스를 통한 서비스를 제공한다. 그러나 이러한 방식은 스마트폰을 통해 세컨드 디바이스의 모든 서비스가 접근 및 제어되기 때문에 아래와 같은 여러 불편함 및 문제점이 발생할 수 있었다. 첫째, 앱 기반의 데이터 트래픽 전송을 위해 연동에 필요한 다양한 기술(Polling, 데이터 트래픽 릴레이, 포트 포워딩 등)이 탑재되어야 함에 따라, 개발 난이도 증가 및 S/W 운용 유지 보수에 대한 어려움이 있다. 둘째, 서비스를 제공하는 과정에서 스마트폰이 중간에 개입을 함에 따라 복잡성을 증가 시킨다. 일 예로, 세컨 드 디바이스가 인터넷에 접속하는 등의 네트워크 서비스가 필요한 경우, 네트워크 주소 변환을 위한 복잡도가 증가한다. 셋째, 세컨드 디바이스는 공인 IP주소를 가지지 못하기 때문에, 공인 IP주소가 필요한 어플리케이션 기능을 정 상적으로 수행하지 못할 수 있다. 넷째, 세컨드 디바이스의 특정 서비스에 대한 보안이 필요한 경우, 보안 프로토콜 처리에 대한 문제가 있다. 예 를 들어 IPsec와 같은 프로토콜은 헤더의 변조하게 되는데 이 경우 스마트폰에서 오동작을 일으켜 문제가 발생 할 수 있다. 다섯째, 서로 다른 스마트폰에 연결되어 있는 세컨드 디바이스간 또는 인터넷 기기와 세컨드 디바이스간 직접 통신이 필요한 P2P 응용 서비스가 불가능하다. 여섯째, 세컨드 디바이스의 트래픽이 외부 네트워크에 접근할 때 마다 주소 변환과 헤더 Checksum을 다시 계산 함에 따라 트래픽 지연 및 성능 저하가 발생한다. 일곱째, 블루투스, 와이파이 이외의 다른 입력 인터페이스(USB, rj45) 연결이 필요한 세컨드 디바이스의 경우, 스마트폰 연동을 통하여 무선 네트워크에 연결하기 위한 규격화된 방법이 존재하지 않는다. 여덟째, 스마트폰과 세컨드 디바이스의 연동을 통한 서비스를 위해서는, 세컨드 디바이스의 801.1x 인증, 스마 트폰 내의 DHCP서버 기반의 IP할당 및 네트워크 관리를 위한 Legacy 프로토콜 지원 네트워크 레이어 기능이 스 마트폰에서 동작 되도록 개발되어야 한다. 다만 이것은, 앱 기반의 클라이언트 및 HTTP 방식의 API 통신 방식으 로 서비스를 제공하는 스마트폰의 동작 방식과 많은 차이를 보이기 때문에, 스마트폰 단말 제조사나 OS 개발사 에서 해당 기능들을 지원하기 어렵다는 문제가 있다. 아홉째, 다양한 IoT 디바이스에 대한 인터넷 수용 시 IP주소 고갈이 발생하는 문제를 해결하기 위해서 IPv6가 도입이 되었으나, 실제 무선 네트워크에서는 세컨드 디바이스의 IP를 관리 하고 있지 않다. 따라서 무선 네트워 크에서는 최종 기기에 대한 IP를 알 수 없고, 따라서 무선 네트워크가 양방향 통신을 지원할 수 없는 문제가 있 다. 기존의 무선 네트워크에서는 세컨드 디바이스의 IP를 획득 및 관리 할 수 없었기 때문에 세컨드 디바이스에 대 한 양방향 통신이 불가능하였다. 구체적으로 기존에는, 세컨드 디바이스가 스마트폰에 데이터를 요청하고 스마 트 폰이 무선 네트워크에 해당 데이터를 요청하면, 이에 대한 응답으로 무선 네트워크가 해당 데이터를 전송하 는 방식의 일방향 통신만이 가능했을 뿐, 외부 기기가 무선 네트워크를 통하여 세컨드 디바이스에 데이터(명령 등)를 직접 전송하는 방식의 양방향 통신이 불가능하였다. 이를 극복하기 위해 세컨드 디바이스에 VPN을 이용하 여 사설 IP를 부여하는 방식이 사용되기도 했지만, 이것은 VPN 서버의 구축, VPN 기능의 탑재, 별도의 라우터 장비의 구비 등이 필요한 것이고, 무선 네트워크의 입장에서는 사설 IP를 직접 관리 및 제어할 수 없다는 한계 가 있기 때문에, 이러한 방식만으로는 최근 급격히 증가하는 세컨드 디바이스들을 수용할 수 없다는 문제가 있 다."}
{"patent_id": "10-2022-0112934", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 상술한 문제점을 해결하기 위한 것으로, 본 발명의 목적은, 세컨드 디바이스의 IP를 자동 구성하고 세컨드 디바이스의 IP를 인증 및 관리함으로써 세컨드 디바이스의 양방향 통신이 가능하게 하는, 이동 단말기의 세컨드 디바이스 접속 제어 방법, 코어망의 세컨드 디바이스 접속 제어 방법 및 세컨드 디바이스의 접속 제어 시스템을 제공하기 위함이다."}
{"patent_id": "10-2022-0112934", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명에 따른 이동 단말기의 세컨드 디바이스 접속 제어 방법은, 세컨드 디바이스의 통신을 위한 PDU 세션 수 립 요청을 코어망에 전송하는 단계, 상기 코어망으로부터, 상기 세컨드 디바이스의 IPv6 주소의 자동 구성을 위 한 구성 정보를 수신하는 단계, 상기 세컨드 디바이스에 상기 구성 정보를 전송하는 단계, 상기 세컨드 디바이 스로부터, 상기 구성 정보에 기반하여 자동 구성된 상기 세컨드 디바이스의 IPV6 주소를 수신하는 단계, 및, 상기 세컨드 디바이스의 IPV6 주소를 상기 코어망에 전송하는 단계를 포함한다. 이 경우 상기 코어망으로부터 수신되는 구성 정보는, IPv6 Prefix 및 주소 생성 룰을 포함할 수 있다. 이 경우 상기 세컨드 디바이스의 IPV6 주소는, 상기 IPv6 Prefix를 포함하는 Prefix 영역 및 상기 주소 생성 룰 에 기반하여 상기 세컨드 디바이스의 식별 정보를 변환하여 생성되는 자동 구성 영역을 포함할 수 있다. 이 경우 상기 Prefix 영역은, 상기 코어망에 의해 설정되는, 64개의 비트를 포함하는 영역이고, 상기 자동 구성 영역은, 상기 세컨드 디바이스에 의해 설정되는, 64개의 비트를 포함하는 영역일 수 있다. 한편 상기 세컨드 디바이스의 IPV6 주소는, 상기 세컨드 디바이스의 IPV6 주소의 계층적 관리를 위한 계층 정보 를 포함할 수 있다. 이 경우 상기 계층 정보는, 상기 세컨드 디바이스에 대한 서비스의 타입, 상기 세컨드 디바이스에 적용되는 요 금제 및 PDN 정보 중 적어도 하나를 포함할 수 있다. 한편 상기 코어망으로부터, 상기 세컨드 디바이스의 IPv6 주소의 자동 구성을 위한 구성 정보를 수신하는 단계 는, 상기 코어망으로 ICMPv6 라우터 요청을 전송하는 단계, 및, 상기 ICMPv6 라우터 요청에 대한 응답 ICMPv6 메시지를 상기 코어망으로부터 수신하는 단계를 포함하고, 상기 수신된 응답 ICMPv6 메시지는, 상기 구성 정보 를 포함할 수 있다. 한편 상기 세컨드 디바이스에 상기 구성 정보를 전송하는 단계는, 상기 세컨드 디바이스로부터 ICMPv6 라우터 요청 메시지를 수신하는 단계, 상기 수신된 ICMPv6 라우터 요청 메시지에 대한 응답 ICMPv6 메시지를 상기 세컨 드 디바이스로 전송하는 단계를 포함하고, 상기 전송된 ICMPv6 라우터 알림 메시지는, 상기 구성 정보를 포함할 수 있다. 한편 상기 세컨드 디바이스의 IPV6 주소를 상기 코어망에 전송한 이후, 상기 세컨드 디바이스의 IPV6 주소를 목 적지로 가지는 트래픽을 수신하는 단계, 및, 라우팅 테이블에 기초하여 상기 세컨드 디바이스의 IPV6 주소에 상 응하는 접속 인터페이스를 결정하고, 상기 결정된 접속 인터페이스를 통하여 상기 세컨드 디바이스에 트래픽을 전송하는 단계를 더 포함할 수 있다. 한편 본 발명에 따른 코어망의 세컨드 디바이스 접속 제어 방법은, 이동 단말기로부터 세컨드 디바이스의 통신 을 위한 PDU 세션 수립 요청이 수신되면, PUD 세션을 생성하는 단계, 상기 이동 단말기에, 상기 세컨드 디바이 스의 IPv6 주소의 자동 구성을 위한 구성 정보를 전송하는 단계, 상기 이동 단말기로부터 상기 세컨드 디바이스 의 IPV6 주소를 수신하는 단계, 및, 상기 수신된 IPV6 주소를 이용하여, 상기 IPV6 주소를 목적지로 가지는 트 래픽을 처리하는 단계를 포함한다. 이 경우 상기 PUD 세션을 생성하는 단계는, 상기 PDU 세션 수립 요청이 수신되면, SMF가 DN-AAA로부터 상기 구 성 정보의 생성에 필요한 정보를 수신하는 단계를 포함할 수 있다. 한편 상기 세컨드 디바이스의 IPv6 주소의 자동 구성을 위한 구성 정보를 전송하는 단계는, IPv6 Prefix 및 주 소 생성 룰을 포함하는 상기 구성 정보를 상기 이동 단말기에 전송하는 단계를 포함할 수 있다. 이 경우 상기 IPv6 Prefix 및 주소 생성 룰을 포함하는 상기 구성 정보를 상기 이동 단말기에 전송하는 단계는, 상기 세컨드 디바이스의 IPV6 주소의 계층적 관리를 위한 계층 정보를 포함시켜 상기 IPv6 Prefix를 생성할 수 있다. 한편 상기 구성 정보는, PDN 정보를 더 포함할 수 있다. 한편 상기 세컨드 디바이스의 IPv6 주소의 자동 구성을 위한 구성 정보를 전송하는 단계는, 상기 이동 단말기로 부터 ICMPv6 라우터 요청을 수신하는 단계, 상기 ICMPv6 라우터 요청에 대한 응답 ICMPv6 메시지에 상기 구성 정보를 포함시켜 상기 이동 단말기에 전송하는 단계를 포함할 수 있다. 한편 상기 이동 단말기로부터 상기 세컨드 디바이스의 IPV6 주소를 수신하는 단계는, 상기 코어망에서 보유한 주소 생성 룰 및 상기 세컨드 디바이스의 식별 정보, 그리고 상기 수신된 IPV6 주소를 이용하여 상기 세컨드 디 바이스를 인증할 수 있다. 한편 상기 수신된 IPV6 주소를 이용하여, 상기 IPV6 주소를 목적지로 가지는 트래픽을 처리하는 단계는, 상기 코어망의 UPF가, 상기 세컨드 디바이스의 IPV6 주소를 목적지로 가지는 트래픽을 수신하는 단계, 상기 세컨드 디바이스의 IPV6 주소를 이용하여, 복수의 GTP-U 터널 중 상기 IPV6 주소에 상응하는 GTP-U 터널을 결정하는 단계, 상기 결정된 GTP-U 터널을 통하여 상기 이동 단말기에 상기 트래픽을 전송하는 단계를 포함할 수 있다. 한편 본 발명에 따른 세컨드 디바이스 접속 제어 시스템은, 이동 단말기에 세컨드 디바이스의 IPv6 주소의 자동 구성을 위한 구성 정보를 전송하는 코어망, 및, 상기 세컨드 디바이스에 상기 구성 정보를 전송하고, 상기 세컨 드 디바이스로부터 상기 구성 정보에 기반하여 자동 구성된 상기 세컨드 디바이스의 IPV6 주소를 수신하고, 상 기 세컨드 디바이스의 IPV6 주소를 상기 코어망에 전송하는 이동 단말기를 포함하고, 상기 코어망은, 상기 수신 된 IPV6 주소를 이용하여 상기 IPV6 주소를 목적지로 가지는 트래픽을 처리한다. 이 경우 상기 코어망은 UPF를 포함하고, 상기 UPF는, 상기 세컨드 디바이스의 IPV6 주소를 목적지로 가지는 트 래픽을 수신하고, 상기 세컨드 디바이스의 IPV6 주소를 이용하여, 복수의 GTP-U 터널 중 상기 IPV6 주소에 상응 하는 GTP-U 터널을 결정하고, 상기 결정된 GTP-U 터널을 통하여 상기 이동 단말기에 상기 트래픽을 전송할 수 있다. 이 경우 상기 이동 단말기는, 상기 UPF로부터 상기 트래픽이 수신되면, 라우팅 테이블에 기초하여 상기 세컨드 디바이스의 IPV6 주소에 상응하는 접속 인터페이스를 결정하고, 상기 결정된 접속 인터페이스를 통하여 상기 세 컨드 디바이스에 트래픽을 전송할 수 있다."}
{"patent_id": "10-2022-0112934", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따르면, VPN 서버의 구축, VPN 기능의 탑재, 별도의 라우터 장비의 구비를 필요하지 않으면서, 무선 네트워크가 세컨드 디바이스의 IP를 공인 IP로써 수용 및 관리할 수 있다. 이에 따라 코어망은, 추가 비용이나 설비를 투입하는 것 없이도, 세컨드 디바이스를 목적지로 가지는 패킷을 처리하여 양방향 통신을 가능하게 할 수 있으며, 최근 급격히 증가하는 IOT 장비들의 양방향 통신 니즈를 충족시킬 수 있다."}
{"patent_id": "10-2022-0112934", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면을 참조하여 본 명세서에 개시된 실시 예를 상세히 설명하되, 도면 부호에 관계없이 동일하거 나 유사한 구성요소는 동일한 참조 번호를 부여하고 이에 대한 중복되는 설명은 생략하기로 한다. 이하의 설명 에서 사용되는 구성요소에 대한 접미사 \"모듈\" 및 \"부\"는 명세서 작성의 용이함만이 고려되어 부여되거나 혼용 되는 것으로서, 그 자체로 서로 구별되는 의미 또는 역할을 갖는 것은 아니다. 또한, 본 명세서에 개시된 실시 예를 설명함에 있어서 관련된 공지 기술에 대한 구체적인 설명이 본 명세서에 개시된 실시 예의 요지를 흐릴 수 있다고 판단되는 경우 그 상세한 설명을 생략한다. 또한, 첨부된 도면은 본 명세서에 개시된 실시 예를 쉽게 이 해할 수 있도록 하기 위한 것일 뿐, 첨부된 도면에 의해 본 명세서에 개시된 기술적 사상이 제한되지 않으며, 본 발명의 사상 및 기술 범위에 포함되는 모든 변경, 균등물 내지 대체물을 포함하는 것으로 이해되어야 한다. 제1, 제2 등과 같이 서수를 포함하는 용어는 다양한 구성요소들을 설명하는데 사용될 수 있지만, 상기 구성요소 들은 상기 용어들에 의해 한정되지는 않는다. 상기 용어들은 하나의 구성요소를 다른 구성요소로부터 구별하는 목적으로만 사용된다. 어떤 구성요소가 다른 구성요소에 \"연결되어\" 있다거나 \"접속되어\" 있다고 언급된 때에는, 그 다른 구성요소에 직접적으로 연결되어 있거나 또는 접속되어 있을 수도 있지만, 중간에 다른 구성요소가 존재할 수도 있다고 이 해되어야 할 것이다. 반면에, 어떤 구성요소가 다른 구성요소에 \"직접 연결되어\" 있다거나 \"직접 접속되어\" 있 다고 언급된 때에는, 중간에 다른 구성요소가 존재하지 않는 것으로 이해되어야 할 것이다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 출원에서, \"포함한다\" 또 는 \"가지다\" 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성요소, 부품 또는 이 들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 본 발명을 구현함에 있어서 설명의 편의를 위하여 구성요소를 세분화하여 설명할 수 있으나, 이들 구성요소가 하나의 장치 또는 모듈 내에 구현될 수도 있고, 혹은 하나의 구성요소가 다수의 장치 또는 모듈들에 나뉘어져서 구현될 수도 있다. 도 1은 본 발명에 따른, 세컨드 디바이스 접속 제어 시스템을 설명하기 위한 블록도이다. 세컨드 디바이스 접속 제어 시스템(이하 “시스템”이라 함)은, 하나 이상의 세컨드 디바이스(410, 420, 430), 이동 단말기, 무선 네트워크를 구성하는 코어망 및 양방향 서비스 서버를 포함할 수 있다. 세컨드 디바이스(410, 420, 430)는 이동 단말기와 로컬 망으로 연결되어, 이동 단말기와 통신하고 데 이터를 송/수신할 수 있다. 여기서 로컬망은 블루투스, 와이파이 등의 근거리 무선망 뿐만 아니라, USB, RJ45 등의 유선망을 포함할 수 있다. 세컨드 디바이스(410, 420, 430)는, 이동 단말기와 통신하여 데이터(구성 정보, IPV6 주소, 라우터 요청 메시지 등)을 송/수신하는 통신부, 세컨드 디바이스의 전반적인 동작을 제어하고 IPv6 주소를 자동 구성하는 제 어부 및 세컨드 디바이스의 동작에 필요한 데이터를 저장하는 메모리를 포함할 수 있다. 세컨드 디바이스(410, 420, 430)의 예로, 세컨드 디바이스(410, 420, 430)는 이동 단말기와 연결될 수 있 는 웨어러블 기기(헬스케어 기기, 스마트 안경, 스마트 워치, HDM 기기, VR/AR 지원 기기 등)를 포함할 수 있다. 다만 이에 한정되지 않으며, 세컨드 디바이스(410, 420, 430)는 스마트 팩토리 내 기기, 가정 내 기기, 스마트 팜 내 기기, 사무실 내 기기 등 다양한 IOT 기기일 수 있다. 한편 이동 단말기에는 유심(USIM)이 탑재되는 반면, 세컨드 디바이스(410, 420, 430)에는 유심(USIM)이 탑 재되지 않아도 무방하다. 즉 코어망은, 유심(USIM)이 탑재되지 않은 세컨드 디바이스(410, 420, 430)에 대 해서도, 이들의 IP 주소를 자동 구성, 인증 및 관리함으로써 세컨드 디바이스에 대한 양방향 통신 서비스를 제 공할 수 있다. 이동 단말기는 세컨드 디바이스(410, 420, 430)와 로컬 망을 통하여 연결되어, 세컨드 디바이스(410, 420, 430)와 데이터를 송/수신할 수 있다. 또한 이동 단말기는 코어망을 포함하는 무선 네트워크와 연결되 어, 무선 네트워크와 데이터를 송/수신할 수 있다. 여기서 무선 네트워크는 망 사업자가 운영하는 이동 통신망 으로, 이동 단말기는 기지국을 포함하는 무선 접속망을 통하여 코어망과 연결될 수 있다. 이동 단말기는 개인용 컴퓨터(PC)와 같이 모바일 운영체제(Operating System)를 탑재하여 다양한 애플리케 이션과 콘텐츠를 이용할 수 있는 모바일 단말인 스마트폰(Smart phone)일 수 있다. 다만 이에 한정되지 않으며, 이동 단말기는 무선 네트워크와 연결되어 데이터 통신이 가능한 기기(예를 들어 태블릿 PC 등)를 포함할 수 있다. 또한 이동 단말기는 인터넷 망 등과 연결되어 무선 데이터 통신 서비스를 제공할 수 있으며, 음성 통화 기능을 구비하여 음성 통화 서비스를 제공할 수 있다. 한편 이동 단말기에는 애플리케이션(런처 앱)이 설치될 수 있으며, 이하에서 설명하는 이동 단말기의 동작 의 일부 또는 전부는 애플리케이션(런처 앱)의 실행에 의해 수행될 수도 있다. 이동 단말기는 사용자 장비(UE)라는 용어와 혼용되어 사용될 수 있다. 코어망은 무선 접속망과 함께 무선 네트워크를 구성할 수 있다. 여기서 코어망은 5G SA(Stand Alone) 코어망일 수 있다. 코어망은, 접속 및 이동성 관리 기능(Access and Mobility Management Function, AMF), 세션 관리 기능 (Session Management Function, SMF), 통합 데이터 관리 기능(Unified Data Management, UDM), 데이터 네트워 크 인증 노드(DN-AAA), 통합 데이터 저장소(Unified Data Repository, UDR), 사용자 플레인 기능(User Plane Function, UPF)을 포함할 수 있다. 이들은 네트워크 기능(Network Functions, NF)이라 명칭할 수도 있으며, 코 어망의 내부 노드로 명칭할 수도 있다. NF들 각각은 고유 기능을 수행하는 네트워크 장치/노드이고, 편의 상, \"장치/노드\"를 생략하여 부를 수 있다. 이동 단말기는 기지국을 통하여 UPF(User Plane Function)에 접속하고, UPF를 통하여 데이터 네 트워크(Data Network, DN)에 접속할 수 있다. UPF는 DN에 대한 패킷 데이터 유닛(Packet Data Unit, PDU) 세션 의 접속, 패킷 라우팅과 포워딩, QoS(Quality of Service) 처리 등의 기능을 지원한다. DN은 UE가 접속하 는 네트워크를 의미하며, PDU는 UE와 DN 사이에 교환되는 데이터를 의미할 수 있다. 또한 AMF는 이동 단말기가 DN으로부터 서비스를 제공 받을 있도록 등록 관리, 연결관리 그리고 이동성 관 리 기능 등을 지원한다. SMF는 세션 관리, IP(Internet Protocol) 주소 할당, UPF(User Plane Function) 선택 및 제어 등의 기능을 지원한다. UDM은 사용자 식별 처리, 가입정보 관리 등의 기능을 지원한다. DN-AAA은 데이 터 네트워크 접속에 대한 인증을 지원할 수 있다. 한편 코어망은 네트워크 노출 기능(Network Exposure Function, NEF) 및 SCF를 더 포함할 수 있다. SCF는 응용 기능(Application Function, AF)이라 명칭될 수도 있으며, 코어망의 내부 노드들과 연동하기 위해 사 용하는 네트워크 기능일 수 있다. SCF는 NEF를 통해 코어망의 내부 노드들과 연동할 수 있다. 한편 SCF가 코어 망에 구현되는 것으로 설명하였으나 이에 한정되지 않으며, 양방향 서비스 서버 또는 기타 장치에 구 현될 수도 있다. 네트워크 노출 기능(Network Exposure Function, NEF)는 내부 노드와 SCF 간에 데이터를 교환할 수 있게 하는 게이트웨이의 역할을 수행할 수 있다. 양방향 서비스 서버는 세컨드 디바이스의 양방향 통신 서비스의 가입 및 이용을 위한 애플리케이션, 웹사 이트 등을 운영하고, 사용자로부터 세컨드 디바이스의 양방향 통신 서비스의 이용을 위한 등록 정보를 수집할 수 있다. 양방향 서비스 서버의 운영 주체는 망 사업자(예를 들어, 이동통신 사업자)일 수 있으나 이에 한 정되지 않는다. 양방향 서비스 서버는 사용자의 등록 정보를 SCF에 제공함으로써, SCF가 사용자 등록 정보에 기반하여 정 책을 수립하도록 할 수 있다. 또한 양방향 서비스 서버는 사용자의 등록 정보를 포함하는 청약 전문을 코 어망(예를 들어 UDR) 및 SCF에 전송할 수 있다. 도 2는 본 발명에 따른 이동 단말기를 설명하기 위한 블록도이다. 이동 단말기는, 통신부, 제어부, 메모리, 입력부 및 출력부를 포함할 수 있다. 통신부는 이동 통신 모듈 및 세컨드 디바이스 접속 모듈을 포함할 수 있다. 이동 통신 모듈 은 망 사업자가 운영하는 무선 네트워크에 접속하여, 무선 네트워크와 데이터를 송/수신 하거나, 무선 네 트워크를 통하여 다른 기기 또는 서버와 데이터를 송/수신할 수 있다. 또한 이동 통신 모듈은 무선 데이터 통신 서비스, 음성 통화 서비스, 세컨드 디바이스의 양방향 통신 서비스를 제공하기 위한 데이터를 송/수신할 수 있다. 세컨드 디바이스 접속 모듈은, 세컨드 디바이스(410, 420, 430)와 로컬망으로 연결되기 위한 접속 인터페 이스를 제공할 수 있다. 이를 위해 세컨드 디바이스 접속 모듈은 블루투스, 와이파이 등의 근거리 무선 통 신을 지원하기 위한 근거리 무선 통신용 인터페이스 뿐만 아니라, USB, RJ45 등의 유선 통신을 지원하기 위한 유선 연결 인터페이스(예를 들어 USB 포트 등)를 포함할 수 있다.제어부는 이동 단말기의 전반적인 동작을 제어할 수 있다. 용어 “제어부”는, “마이크로 프로세서 ”, “컨트롤러”, “마이크로 컨트롤러”, “프로세서” 등의 용어와 혼용되어 사용될 수 있다. 메모리는 이동 단말기의 구동을 위한 프로그램 및 기타 데이터를 저장할 수 있다. 입력부는 사용자 입력을 수신할 수 있다. 예를 들어 입력부는 사용자 입력을 수신하기 위한 터치 스 크린, 버튼 등을 포함할 수 있다. 출력부는 이동 단말기에서 처리하는 데이터를 출력할 수 있다. 예를 들어 출력부는 데이터를 시 각적으로 표시하는 디스플레이 모듈을 포함할 수 있다. 세컨드 디바이스 접속 제어 시스템의 동작 방법을 구체적으로 설명하기에 앞서, 세컨드 디바이스의 양방향 통신 서비스를 제공하기 위한 정책에 대하여 먼저 설명한다. SCF는 양방향 서비스 서버로부터 수신된 사용자의 등록 정보를 이용하여 정책 정보를 생성하고, 생성된 정 책 정보를 코어망의 내부 노드에 전송할 수 있다. 정책 정보는, 코어망, 이동 단말기 및 세컨드 디바이스 중 적어도 하나에 배포될 수 있다. 정책 정보는 세컨드 디바이스의 관리 정보를 포함할 수 있다. 여기서 세컨드 디바이스의 관리 정보는 세컨드 디 바이스의 인증을 위한 것으로, 세컨드 디바이스가 연결되는 이동 단말기의 식별 정보(예를 들어 전화번호 등), 세컨드 디바이스가 사용하는 인터페이스의 종류(WiFI, Bluetooth, USB, RJ45 등), 세컨드 디바이스의 식별 정보 (예를 들어, 세컨드 디바이스의 호스트 이름, 세컨드 디바이스의 MAC 정보, 세컨드 디바이스 내 IPV6 주소를 자 동구성하는 프로세서의 ID 등)를 포함할 수 있다. 또한 세컨드 디바이스의 관리 정보는, 인증 확인 여부를 더 포함할 수 있다. 여기서 인증 확인 여부란, 해당 세컨드 디바이스가 코어망에 접속할 때 접속을 허용하기 위해 인증을 필요로 하는지 여부를 포함할 수 있다. 코어망은, 이와 같은 관리 정보를, 세컨드 디바이스의 접속 시 이동 단말기로부터 수신되는 인증 정 보와 비교함으로써, 세컨드 디바이스에 대한 접속 허용 여부를 결정할 수 있다. 세컨드 디바이스의 관리 정보의 예시는 표 1과 같다. 표 1"}
{"patent_id": "10-2022-0112934", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "또한, 정책 정보는 세컨드 디바이스의 IPv6 주소의 계층적 관리를 위한 계층 관리 정보를 포함할 수 있다. IPv6 주소의 계층적 관리를 위한 계층 관리 정보는, 세컨드 디바이스를 목적지로 가지는 트래픽에 대한 효율적인 라 우팅 처리를 위해 IPv6 주소를 계층화 할 수 있는 항목을 정의한 것으로, 계층적 관리에 필요한 항목 및 항목 값을 포함할 수 있다. 여기서 항목은, 통신 사업자의 망설계 정책에 따라 결정되는 IPv6 Prefix정보, IPv6 Prefix의 길이(비트), 세컨드 디바이스에 대한 서비스의 타입, 세컨드 디바이스에 부과되는 요금제의 종류, 세 컨드 디바이스가 연결될 PDN 정보(Packet Data Network)(예를 들어, internet, tethering 등)를 포함할 수 있 다. 또한 계층 관리 정보는, 세컨드 디바이스들을 위해 사용될 IPv6 Prefix의 Pool 정보를 포함할 수 있다. 계 층 관리 정보는 코어망 및 이동 단말기에 배포되고, 코어망 및 이동 단말기는 계층 관리정보에 기초하여 IPv6 주소를 생성할 수 있다. 계층 관리 정보의 예시는 표 2와 같다. 표 2"}
{"patent_id": "10-2022-0112934", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "정책 정보는, 세컨드 디바이스의 IPv6 주소의 자동 구성을 위한 구성 관리 정보를 포함할 수 있다. IPv6 주소의 자동 구성을 위한 구성 관리 정보는, 코어망이 이동 단말기에 제공하는, 세컨드 디바이스의 IPv6 주 소의 자동 구성을 위한 구성 정보의 항목 및 항목 값을 정의한 것으로, 세컨드 디바이스가 연결되는 이동 단말 기의 식별 번호(예를 들어 전화번호), 해당 이동 단말기에서 세컨드 디바이스의 양방향 통신 서비스를 허용하는 인터페이스의 종류(WiFI, Bluetooth, USB, RJ45 등), 주소 생성 룰, 세컨드 디바이스가 연결될 PDN 정보 (Packet Data Network)(예를 들어, internet, tethering 등) 등을 포함할 수 있다. 구성 관리 정보는 코어망 에 배포되고, 코어망은 구성 관리 정보를 참조하여 세컨드 디바이스의 IPv6 주소의 자동 구성을 위한 구성 정보를 생성한 후 이동 단말기에 전송할 수 있다. 구성 관리 정보의 예시는 표 3과 같다. 표 3"}
{"patent_id": "10-2022-0112934", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "정책 정보는, 이동 단말기 상에서 UI 요소를 구성하기 위한 네이밍 룰 정보를 포함할 수 있다. 네이밍 룰 정보는, 이동 단말기에서 애플리케이션의 실행 시 사용자에게 제공되어야 하는 UI 요소의 항목 및 항목 값 을 정의한 것으로, 세컨드 디바이스의 이름, 세컨드 디바이스가 이동 단말기와 통신하기 위해 사용하는 인터페 이스의 이름, 인터페이스의 종류(WiFI, Bluetooth, USB, RJ45 등), 양방향 통신 서비스의 사용 유무 등을 포함 할 수 있다. 네이밍 룰 정보는 이동 단말기에 배포될 수 있다. 네이밍 룰 정보의 예시는 표 4와 같다.표 4"}
{"patent_id": "10-2022-0112934", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "item": 5, "content": "도 3은 본 발명에 따른, 세컨드 디바이스 접속 제어 시스템의 동작 방법을 설명하기 위한 도면이다. 세컨드 디바이스 접속 제어 시스템의 동작 방법은, 이동 단말기가 세컨드 디바이스의 통신을 위한 PDU 세 션 수립 요청을 코어망에 전송하는 단계(S305), 코어망이, 이동 단말기로부터 세컨드 디바이스의 통신을 위한 PDU 세션 수립 요청이 수신되면 PUD 세션을 생성하는 단계(S310), 코어망이, 이동 단말기에 세 컨드 디바이스의 IPv6 주소의 자동 구성을 위한 구성 정보를 전송하는 단계(S315), 이동 단말기가, 코어망으로 부터 세컨드 디바이스의 IPv6 주소의 자동 구성을 위한 구성 정보를 수신하는 단계(S320), 이동 단말기가 세컨 드 디바이스에 IPv6 주소의 자동 구성을 위한 구성 정보를 전송하는 단계(S325), 세컨드 디바이스가, 구성 정보 에 기반하여 세컨드 디바이스의 IPv6 주소를 생성하고, 생성된 IPv6 주소를 전송하는 단계(S330), 이동 단말기 가, 세컨드 디바이스로부터 구성 정보에 기반하여 자동 구성된 세컨드 디바이스의 IPV6 주소를 수신하는 단계 (S335), 이동 단말기가, 세컨드 디바이스의 IPV6 주소를 코어망에 전송하는 단계(S340), 코어망이, 이동 단말기 로부터 세컨드 디바이스의 IPV6 주소를 수신하는 단계(S345), 및, 코어망이 수신된 IPV6 주소를 이용하여 IPV6 주소를 목적지로 가지는 트래픽을 처리하는 단계(S350)를 포함할 수 있다. S305, S310과 관련하여, 도 3과 함께 도 4를 참고하여 설명한다. 도 4는 본 발명에 따른, UPF와 이동 단말기 간의, PDU 세션을 수립하는 방법을 설명하기 위한 도면이다. 여기서 설명하는 PDU 세션은, 세컨드 디바이스의 양방향 통신을 위한 것일 수 있다. 즉 이동 단말기의 음 성 통화를 위한 터널 및 이동 단말기의 데이터 통신을 위한 터널이 이미 생성되어 있는 상태에서, 코어망 은 세컨드 디바이스의 양방향 통신을 위한 PDU 세션을 생성함으로써 세컨드 디바이스의 양방향 통신에 사 용되는 GTP-U 터널을 추가로 생성할 수 있다. 이동 단말기 및 코어망은 5G를 지원하여, 이동 단말기 에서 핫스팟 기능이 활성화 되는 경우 세컨드 디바이스의 양방향 통신 전용의 PDU 세션을 생성할 수 있다. 이동 단말기는 이동 단말기에서 핫스팟 기능이 활성화 되는지 판단할 수 있다. 여기서 핫스팟 기능의 활성화란 세컨드 디바이스의 양방향 통신을 위한 PDU 세션 수립을 트리거링 하는 동작으로써, 예를 들어 스마트 폰의 모바일 핫스팟 기능을 활성화 시키기 위한 사용자 입력이 수신되는 것을 의미할 수 있다. 그리고 핫스팟 기능이 활성회 되면(S505), 이동 단말기는 코어망에 세컨드 디바이스의 통신을 위한 PDU 세션 수립 요청을 전송할 수 있다(S305, S510). PDU 세션 수립 요청이 수신되면, 코어망은 PUD 세션을 생성할 수 있다(S310). 구체적으로 PDU 세션 수립 요청이 수신되면, 코어망은 표준에 따라 동작하여, AMF는 PDU 세션을 관리할 SMF을 할당하기 위한 SMF selection을 수행하고(S515), AMF는 PDU 세션을 관리하는 주체로 결정된 SMF에게 Nsmf_PDUsession_CreateSMContext 요청을 전송하고(S520), SMF는 Nsmf_PDUsession_CreateSMContext 요청에 기 초하여, UDM 및 UDR과 함께 registration 요청, Repository 요청, subscription 요청 등의 프로세스를 수행할수 있다(S525, S530, S535, S540, S545, S550). 한편 3GPP에서 표준 호처리 과정은, PDU 세션의 생성 시 SMF가 DN-AAA로 추가 인증 및 필요한 정보를 요청할 수 있는 것으로 정의하며, 이에 따라 SMF는 Authenication/Authorizatoion 요청을 DN-AAA에 전송할 수 있다 (S555). DN-AAA는 SCF로부터 수신한 정책 정보를 보유할 수 있다. 그리고 Authenication/Authorizatoion 요청이 수신되 면, DN-AAA는 Authenication/Authorizatoion 요청에 대한 응답으로 정책 정보를 SMF에 전송할 수 있다(S560). 구체적으로 DN-AAA는 추후 구성 정보의 생성에 필요한 정보를 SMF에 전송할 수 있다. 더욱 구체적으로, 이후에 SMF는 이동 단말기에 구성 정보를 ICMPv6 라우터 알림 메시지의 형태로 전송하는데, DN-AAA는 라우터 알림 메시지에 삽입될 옵션 필드의 구성에 필요한 정보(양방향 통신 서비스의 지원이 가능한 인터페이스의 종류, 주 소 생성 룰, PDN 정보 등)를 SMF에 전송할 수 있다. 도 5는 DN-AAA가 SMF에 전송하는 radius 메시지를 도시한 도면이다. SMF와 인증 서버 노드(DN-AAA)간 메시지 연동 프로토콜에는, diameter, radius, 또는 기타 다양한 연동 프로토 콜이 사용될 수 있으며, 도 5에서는 radius 프로토콜을 이용한 radius 메시지를 예시하였다. 도 5를 참고하면, radius 메시지에 인터페이스의 종류(Support Interface), 주소 생성 룰(Address generating rule), PDN 정보 (PDN information)가 포함되는 것을 확인할 수 있다. radius의 경우 기존 정의된 메시지 이외에 향후 확정을 위한 사용자 정의 필드가 있다. 이 경우 DN-AAA는 사용 자 정의 필드에 IPv6 주소 자동구성에 필요한 정보(양방향 통신 서비스가 지원되는 인터페이스의 종류, 주소 생 성 룰, PDN 정보 등)를 추가로 정의하여, IPv6 주소 자동구성에 필요한 정보를 SMF에 전달할 수 있다. 즉 본 발명에 따르면, 3GPP에 정의된 Authentication/Authorization/Accounting 요청을 DN-AAA에 대한 응답으 로 IPv6 주소 자동구성에 필요한 정보를 전달하고, 또한 이 정보를 사용자 정의 필드에 삽입하여 전송함으로써, 기존 시스템에 가해지는 변화를 최소화면서 세컨드 디바이스의 양방향 통신 서비스를 구현할 수 있는 장점이 있 다. 다음으로, SMF는 UPF에 대하여 세션 수립 요청을 전송하고(S575), PDU 세션의 설정 및 이동 단말기에 대한 응답 을 완료함으로써(S580, S585, S590), PDU 세션의 생성을 완료할 수 있다. 도 3의 S310 내지 S340에 대해서는 도 6 내지 도 8을 함께 참고하여 설명한다. 도 6은 본 발명에 따른, 세컨드 디바이스의 IPv6 주소를 설명하기 위한 도면이다. PDU 세션이 생성되면, 코어망는 이동 단말기에 세컨드 디바이스의 IPv6 주소의 자동 구성을 위한 구 성 정보를 전송할 수 있다(S315). 전통적으로 단말 IP 할당의 경우 DHCP 서버가 IP 대역을 관리하고, 단말에 IP 주소를 할당하는 것이 일반적이다. 다만 세컨드 디바이스의 경우는 스마트폰에서 레거시 방식의 네트워크 기능을 지원하지 않아, DHCP 를 통한 IP할당이 불가능하다. 따라서, DHCP서버 없이 IP주소를 할당하기 위해 IP 주소를 자동 구성하는 방식을 사용하였다. 이를 위해 IP주소의 자동 구성이 가능한 IPV6가 사용될 수 있다. IPV6에서는 전단의 64비트(도 6의 ⑥)를 망 사업자가 설정 가능한 영역으로 정의하고, 후단의 64비트(도 6의 ⑦)를 자동 구성 영역으로 정의한다. 따라서 코어망은 전단의 64비트(도 6의 ⑥)를 망 정책에 따라 구성하 고, 후단의 64비트(도 6의 ⑦)를 세컨드 디바이스에서 자동 구성할 수 있도록, 구성 정보를 전송할 수 있다. 전 단의 64비트(도 6의 ⑥)를 Prefix 영역이라 명칭하고, 후단의 후단의 64비트(도 6의 ⑦)를 자동 구성 영역이라 고 명칭한다. 즉 Prefix 영역은 코어망에 의해 설정되는 64개의 비트를 포함하는 영역이고, 자동 구성 영역은 세컨드 디바이스에 의해 설정되는 64개의 비트를 포함하는 영역일 수 있다. 코어망이 이동 단말기에 전송하는 구성 정보는, IPv6 Prefix 및 주소 생성 룰을 포함할 수 있다. 구체적으로 코어망은 Prefix 영역(도 6의 ⑥)을 설정할 수 있으므로, 망 정책에 따라 Prefix 영역(도 6의 ⑥)에 삽입될 IPv6 Prefix를 생성하고 구성 정보에 포함시킬 수 있다. 또한 코어망은 자동 구성 영역(도 6 의 ⑦)을 설정할 수 없으므로, 세컨드 디바이스가 자동 구성 영역(도 6의 ⑦)을 완성시키는데 필요한 규칙(주소 생성 룰)을 구성 정보에 포함시킬 수 있다. 세컨드 디바이스의 IPV6 주소는, IPv6 Prefix를 포함하는 Prefix 영 역 및 주소 생성 룰에 기반하여 세컨드 디바이스의 식별 정보를 변환하여 생성되는 자동 구성 영역을 포함할 수있다. 코어망은 Prefix 영역 중 48개의 비트(예를 들어, 1 내지 48비트(도 6의 ⑤))를 망 사업자의 망 설계 정책 에 따라 생성할 수 있다. 또한 무선 네트워크에서 효율적인 데이터 패킷 라우팅 처리를 위해, 코어망은 세컨드 디바이스의 IPV6 주 소의 계층적 관리를 위한 계층 정보를 포함시켜 IPv6 Prefix를 생성할 수 있다. 구체적으로 코어망은 계층 관리 정보에 기초하여, 세컨드 디바이스에 대한 서비스의 타입 및 세컨드 디바 이스에 적용되는 요금제를 포함시켜 IPv6 Prefix를 생성할 수 있다. 예를 들어 코어망은, Prefix 영역 중 8개의 비트(예를 들어, 49 내지 56비트(도 6의 ①))를 세컨드 디바이스가 가입된 서비스의 타입(예를 들어 eMBB, URLLC, MIot, V2X 등)을 나타내는 값으로 구성하고, Prefix 영역 중 8개의 비트(예를 들어, 57 내지 64비트(도 6의 ②))를 세컨드 디바이스에 적용된 요금제(예를 들어 5G_SLIM, 5G_UNLIMIT, 5G_BUSINESS 등)를 나타내는 값으로 구성할 수 있다. 한편 계층 정보는 Prefix 영역 뿐만 아니라 자동 구성 영역에도 삽입될 수 있다. 예를 들어 자동 구성 영역 중 16개의 비트(예를 들어, 1 내지 16비트(도 6의 ③))에는, 세컨드 디바이스가 연결될 PDN(Packet Data Network) 정보에 대응하는 값이 삽입될 수 있다. 다만 자동 구성 영역은 세컨드 디바이스에 의해 생성되는 바, 코어망 은 세컨드 디바이스가 연결될 PDN(Packet Data Network) 정보(예를 들어, internet, tethering, p5g_internet, p5g_tethering 등)를 구성 정보에 포함시킴으로써, 세컨드 디바이스가 PDN(Packet Data Network) 정보에 기초하여 자동 구성 영역 중 16개의 비트(예를 들어, 1 내지 16비트(도 6의 ③))를 완성시키도 록 할 수 있다. 위 방법을 통해, 세컨드 디바이스의 IPV6 주소의 계층적 관리를 위한 계층 정보가 세컨드 디바이스의 IPV6 주소 에 포함될 수 있으며, Prefix 영역에만 포함시키는 방법, 자동 구성 영역에만 포함시키는 방법, Prefix 영역 및 자동 구성 영역에 포함시키는 방법 등, 다른 다양한 구현도 가능하다. 한편 자동 구성 영역 중 48개의 비트(예를 들어, 17 내지 64비트(도 6의 ④))는, 세컨드 디바이스가 자신의 식 별 정보를 참조하여 구성한다. 이와 관련해서는 추후에 자세히 설명한다. 정리하면, 코어망은 이동 단말기에 세컨드 디바이스의 IPv6 주소의 자동 구성을 위한 구성 정보를 전 송할 수 있다. 또한 구성 정보는 IPv6 주소의 Prefix 영역에 삽입될 IPv6 Prefix를 포함할 수 있으며, IPv6 Prefix는 코어망에 의해 생성될 수 있다. 또한 IPv6 주소의 자동 구성 영역은 세컨드 디바이스에 의해 구 성되며, 코어망은 세컨드 디바이스가 자동 구성 영역을 구성하는데 필요한 정보(PDN 정보, 주소 생성 룰 등)을 구성 정보에 포함시켜 이동 단말기에 전송할 수 있다. 추가로, 코어망은 양방향 통신 서비스가 지원되는 인터페이스의 종류(WiFI, Bluetooth, USB, RJ45 등)를 더 포함하는 구성 정보를 이동 단말기에 전송할 수 있다. 한편 구성 정보가 세컨드 디바이스에 전달되고 세컨드 디바이스가 구성 정보에 기반하여 IPV6 주소를 생성하는 구체적인 과정에 대해서는 도 7을 참조하여 설명한다. 도 7은 본 발명에 따른, 구성 정보를 세컨드 디바이스에 전달하여 세컨드 디바이스의 IPv6 주소를 자동 구성하 는 구체적인 방법을 설명하기 위한 도면이다. 도 7에서는, 구성 정보를 세컨드 디바이스에 전달하는 방법으로, IPv6용 인터넷 제어 메시지 프로토콜(ICMP) 구 현체인 ICMPv6(Internet Control Message Protocol version 6)을 사용하는 방법을 제안한다. 구체적으로 SMF는 UPF 및 핫스팟 전용으로 설정된GTP-U 터널을 통하여 이동 단말기에 ICMPv6 라우터 알림 을 전송할 수 있으며(S705, S710), 이동 단말기는 UPF를 통하여 SMF에 세컨드 디바이스를 위한 ICMPv6 라 우터 요청을 전송할 수 있다(S715, S720). 이 경우 이동 단말기는 ICMPv6 라우터 요청을, 표준 네트워크 연동 규격에 따라, ICMPv6 메시지의 형태로 전송할 수 있다. 이동 단말기로부터 ICMPv6 라우터 요청이 수신되면, SMF는 구성 정보를 이동 단말기에 전송할 수 있다. 구 체적으로 SMF는 ICMPv6 라우터 요청에 대한 응답 ICMPv6 메시지에 구성 정보를 포함시켜, UPF를 통하여 이동 단 말기에 전송할 수 있다(S725, S730). 응답 ICMPv6 메시지는 ICMPv6 라우터 알림 메시지라고도 명칭될 수 있다. 즉, 코어망는 구성 정보를 표준 네트워크 연동 규격에 따른 ICMPv6 메시지의 형태로 이동 단말기에 전송할 수 있다. 여기서 구성 정보는, IPv6 Prefix, 주소 생성 룰, PDN 정보. 양방향 통신 서비스가 지원되는인터페이스의 종류(WiFI, Bluetooth, USB, RJ45 등), 기타 IPV6 주소의 자동 구성에 필요한 정보를 포함할 수 있다. 한편 이동 단말기로부터 ICMPv6 라우터 요청 메시지가 수신되는 경우(S715), UPF는 이를 무시하지 않고 ICMPv6 라우터 요청 메시지를 SMF로 전송할 수 있다(S720). UPF로부터 ICMPv6 라우터 요청 메시지가 수신되면, SMF는 응답 ICMPv6 메시지를 UPF를 통하여 이동 단말기에 전송할 수 있다(S725, S730). 도 8은 SMF가 이동 단말기에 전송하는 ICMPv6 라우터 알림 메시지를 도시한 도면이다. SMF는 ICMPv6 라우터 알림 메시지 내 옵션 필드에 구성 정보를 포함시킨 후, ICMPv6 라우터 알림 메시지를 이동 단말기에 전송할 수 있다. 도 8을 참조하면, 메시지 내 옵션 필드에 IPv6 주소 자동구성에 필요한 정보(양 방향 통신 서비스가 지원되는 인터페이스의 종류(Support Interface), 주소 생성 룰(Address generating rule), PDN 정보(PDN information) 등)가 포함되는 것을 알 수 있다. 즉 본 발명에 따르면, 표준 네트워크 연동 규격에 따른 ICMPv6 라우터 알림 메시지를 이용하여 구성 정보를 이 동 단말기에 배포함으로써, 기존 시스템에 가해지는 변화를 최소화면서 세컨드 디바이스의 양방향 통신 서비스 를 구현할 수 있는 장점이 있다. 한편 이동 단말기는 코어망으로부터, 세컨드 디바이스의 IPv6 주소의 자동 구성을 위한 구성 정보를 수신 할 수 있다(S320, S730). 이 경우 이동 단말기는 응답 ICMPv6 메시지로부터 구성 정보를 추출하여 저장할 수 있다. 또한 이동 단말기는 구성 정보로부터, 이동 단말기가 보유해야 할 정보(link-layer 주소, MTU, 양방향 통신 서비스가 지원되는 인터페이스의 종류(Support Interface) 등)를 추출하여 별도로 저장할 수 있다. 다음으로, 이동 단말기는 세컨드 디바이스에 구성 정보를 전송할 수 있다(S325). 구체적으로 세컨드 디바이스는 세컨드 디바이스에서 접속 기능이 활성화되는지 판단할 수 있다. 여기서 접속 기 능이란 세컨드 디바이스가 이동 단말기에 접속을 시도하는 동작으로, 예를 들어 세컨드 디바이스의 블루투 스 또는 와이파이 기능이 활성화 되는 것을 의미할 수 있다. 그리고 접속 기능이 활성화 되면(S735), 세컨드 디 바이스는 ICMPv6 라우터 요청 메시지를 이동 단말기에 전송할 수 있다(S740). 한편 ICMPv6 라우터 요청 메시지가 수신되면, 이동 단말기는 수신된 ICMPv6 라우터 요청 메시지에 대한 응 답 ICMPv6 메시지를 세컨드 디바이스로 전송할 수 있다(S745). 응답 ICMPv6 메시지는 ICMPv6 라우터 알림 메시 지라고도 명칭될 수 있으며, IPv6 Prefix, 주소 생성 룰 및 PDN 정보로 구성되는 구성 정보를 포함할 수 있다. 또한 응답 ICMPv6 메시지는 DNS 정보 및 기타 양방향 통신에 필요한 정보를 더 포함할 수 있다. 한편 세컨드 디바이스로부터 ICMPv6 라우터 요청 메시지가 수신되는 경우, 이동 단말기는 이를 무시하지 않고 응답 ICMPv6 메시지를 생성하여 세컨드 디바이스에 전송할 수 있다. 도 9는 본 발명에 따른 구성 정보의 전달 과정만을 별도로 도시한 도면이다. 이동 단말기와 코어망의 UPF가 기지국을 통하여 GTP-U 터널링으로 연결된 상태에서, 이동 단말 기는 ICMPv6 라우터 요청 메시지를 UPF를 통해 SMF로 전송할 수 있다(S910). 이 경우 SMF는 UPF를 통하여 구성 정보를 포함하는 ICMPv6 라우터 알림 메시지를 이동 단말기에 전송할 수 있다(S920). SMF가 이동 단말기에 전송하는 구성 정보는, link-layer 주소, MTU, DNS주소, IPv6 Prefix(64비트), 양방향 통신 서비스가 지원되는 인터페이스에 대한 정보(Support Interface정보)(예를 들 어, 7 = WiFi+Bluetooth+USB+RJ45), 주소 생성 룰(Address generating rule)(예를 들어, Auto- generate Pseudo Random 등), PDN Information(예를 들어, internet)을 포함할 수 있다. 또한 세컨드 디바이스의 접속 기능이 활성화 되면, 세컨드 디바이스는 ICMPv6 라우터 요청 메시지를 이동 단말기에 전송할 수 있다(S930). 이 경우 이동 단말기는 구성 정보를 포함하는 ICMPv6 라우터 알림 메시지를 세컨드 디바이스에 전송할 수 있다. 이동 단말기가 세컨드 디바이스에 전송하는 구성 정보는, DNS주소, IPv6 Prefix(64비트), 주소 생성 룰(Address generating rule)(예를 들어, Auto-generate Pseudo Random 등), PDN Information(예를 들어, internet)을 포함할 수 있다. 다음으로, 세컨드 디바이스는 구성 정보를 수신하고, 수신된 구성 정보를 이용하여 세컨드 디바이스의 IPv6 주 소를 자동 구성할 수 있다(S330, S750). 구체적으로 세컨드 디바이스는 주소 생성 룰에 기반하여, IPv6 Prefix 및 세컨드 디바이스의 식별 정보(예를 들 어, 세컨드 디바이스의 호스트 이름, 세컨드 디바이스의 MAC 어드레스, 세컨드 디바이스 내 프로세서의 ID 등) 를 이용하여 세컨드 디바이스의 IPv6 주소를 생성할 수 있다. 구성 정보에 PDN 정보가 포함되는 경우, 세컨드 디바이스는 IPv6 Prefix, 세컨드 디바이스의 식별 정보와 함께 PDN 정보를 이용하여 세컨드 디바이스의 IPv6 주 소를 생성할 수 있다. 한편 앞서 설명한 바와 같이 IPv6 주소의 Prefix 영역은 이미 코어망에 의해 완성이 되어 있는 상태이다. 따라 서 세컨드 디바이스는 주소 생성 룰에 기반하여, 자동 구성 영역 내 주소값을, 세컨드 디바이스의 식별 정보 및 PDN 정보를 반영하여 생성할 수 있다. 도 10은 본 발명에 따른, IPv6 주소의 자동 구성 방식의 두가지 예를 도시한 도면이다. 주소 생성 룰은, 세컨드 디바이스의 식별 정보를 자동 구성 영역내의 주소 값으로 변환하는 규칙을 정의할 수 있다. 구체적으로 주소 생성 룰은, 세컨드 디바이스의 MAC 어드레스를 구성하는 값들을 자동 구성 영역내에서 어떻게 배치할 것인지, MAC 어드레스를 구성하는 값들을 어떻게 변환하여 배치할 것인지 등에 대한 정보를 포함 할 수 있다. 구성 정보에 PDN 정보가 포함되는 경우, 주소 생성 룰은 PDN 정보에 대응하는 값을 어떻게 배치할 것인지 또는 어떻게 변환하여 배치할 것인지 등에 대한 정보를 더 포함할 수 있다. 주소 생성 룰은 이미 공지된 룰(예를 들어 Auto-generate Pseudo Random)을 사용할 수 있으나 이에 한정되지 않 으며, 망 사업자가 별도로 지정하여도 무방하다. 다만 중요한 것은 코어망이 세컨드 디바이스에 제공된 주 소 생성 룰을 보유하고 있어야 하며, 추후에 세컨드 디바이스가 IPv6 주소를 코어망에 전송하는 경우 코어 망은 자신이 보유한 주소 생성 룰을 이용하여 세컨드 디바이스의 IPv6 주소를 인증할 수 있다. 도 10a 및 도 10b는, 서로 다른 주소 생성룰을 적용하여 생성된 IPv6 주소의 예시이다. 전단 64비트의 Prefix 영역(2001:0E60:EFE1:0D80)은 코어망에 의해 생성된 IPv6 Prefix로, 도 10a 및 도 10b에서 서로 동일한 것을 알 수 있다. 다만, 서로 다른 주소 생성 룰이 적용되기 때문에, 후단 64비트의 자동 구성 영역은 도 10a 및 도 10b에서 서로 상이한 것을 알 수 있다. 한편 세컨드 디바이스의 IPV6 주소가 생성되면, 세컨드 디바이스는 생성된 IPV6 주소를 이동 단말기에 전 송하고, 이동 단말기에 대한 접속을 완료할 수 있다(S755). 세컨드 디바이스에 대한 양방향 통신을 설정하고, 세컨드 디바이스의 IPV6 주소를 인증하는 방법에 대해서는 도 11 및 도 12를 참고하여 설명한다. 도 11은 본 발명에 따른, 세컨드 디바이스에 대한 양방향 통신을 설정하고, 세컨드 디바이스의 IPV6 주소를 인 증하는 방법을 설명하기 위한 순서도이다. 도 12는 본 발명에 따른, 양방향 통신 설정 앱의 표시 화면을 도시한 도면이다. 한편 이동 단말기의 양방향 통신 설정 앱은, 표시 화면 내 UI 요소를 구성하기 위한 네이밍 룰 정보를 SCF 에 요청하여 수신할 수 있다(S1105). 그리고 양방향 통신 설정 앱은 이동 단말기에 접속했거나 현재 접속 한 세컨드 디바이스, IPv6 주소, MAC 주소 등을 표시할 수 있다. 또한 양방향 통신 설정 앱은, 네이밍 룰 정보 에 기초하여, 세컨드 디바이스가 접속을 위해 사용하는 인터페이스를 표시할 수 있다. 한편 표시 화면의 일 영역에는, 현재 이동 단말기에 접속하였으나 양방향 통신이 설정되지 않은 세 컨드 디바이스가 표시될 수 있다. 또한 표시 화면의 다른 일 영역에는, 현재 이동 단말기에 양방향 통신이 설정된 세컨드 디바이스가 표시될 수 있다. 또한 양방향 통신 설정 앱은 세컨드 디바이스의 현재 상태(예를 들어, 양방향 통신 접속 완료/접속 중/접속 해 제 등)에 대한 정보를 표시할 수 있다. 한편 이동 단말기는 세컨드 디바이스로부터, 구성 정보에 기반하여 자동 구성된 세컨드 디바이스의 IPV6 주소를 수신할 수 있다(S335). 이동 단말기는 세컨드 디바이스의 접속이 완료되었다는 정보를 양방향 통신 설정 앱에 전달하고(S1110), 양방향 통신 설정 앱은 접속이 완료된 세컨드 디바이스에 대한 정보를 표시 화면의 일 영역에 표시할 수 있다. 한편 양방향 통신 설정 앱은 사용자로부터 세컨드 디바이스에 양방향 통신을 설정하는 입력을 수신할 수 있다. 예를 들어 양방향 통신 설정 앱은, 일 영역에 표시된 세컨드 디바이스에 대한 정보를 다른 일 영역(122 0)으로 드래그하는 사용자 입력을 수신할 수 있다. 이 경우 양방향 통신 설정 앱은, 해당 세컨드 디바이스에 대한 양방향 통신이 설정된 것으로 결정하고(S1115), 세컨드 디바이스의 IPV6 주소를 코어망에 전송할 수 있 다(S340). 한편 양방향 통신이 설정되지 않는 경우, 양방향 통신 설정 앱은 세컨드 디바이스의 IPV6 주소를 코어망에 전송하지 않을 수 있다. 이 경우 해당 세컨드 디바이스에는 양방향 통신이 아닌, 일방향 통신 서비스만 제공되 게 된다. 한편 이동 단말기는 세컨드 디바이스의 IPV6 주소 및 양방향 통신을 위해 필요한 기타 정보(예를 들어 세 컨드 디바이스의 MAC 어드레스, MDN 등)를 포함하는 인증 정보를 SCF에 전송할 수 있다(S1120). SCF는 이동 단말기로부터 세컨드 디바이스의 IPV6 주소를 수신할 수 있다(S345). 그리고 SCF는 코어망에서 보유 한 주소 생성 룰 및 세컨드 디바이스의 식별 정보, 그리고 수신된 IPV6 주소를 이용하여 세컨드 디바이스를 인 증할 수 있다(S1125). 구체적으로 SCF는, 세컨드 디바이스의 IPV6 주소가 미리 등록된 세컨드 디바이스의 식별 정보에 기반하여 생성 되었는지, 그리고 세컨드 디바이스에 제공된 주소 생성 룰에 기반하여 생성되었는지 검증할 수 있다. 추가적으 로 SCF는, 세컨드 디바이스의 IPV6 주소가 세컨드 디바이스에 제공된 IPv6 Prefix 및 PDN 정보에 기반하여 생성 되었는지 검증할 수 있다. 그리고 검증이 완료되면, SCF는 세컨드 디바이스가 인증된 것으로 결정할 수 있다. 세컨드 디바이스에 대한 인증이 완료되면, SCF는 세컨드 디바이스의 IPV6 주소를 NEF를 통해 UDR로 전송하여 기 존의 가입자 프로파일을 업데이트할 수 있다(S1130, S1135). 또한 코어망은 IPV6 주소 및 해당 IPV6 주소 를 가지는 트래픽 처리에 대한 정책을 내부 노드에 배포할 수 있다(S1140, S1145). 도 13은 본 발명에 따른, 정책 변경 시의 동작을 설명하기 위한 도면이다. 가입자 정보가 업데이트되거나 정책이 변경되는 경우, SCF는 NEF를 통하여 UDR/UDM에 새로운 가 입자 정보 또는 정책을 업데이트할 수 있다. 이 경우 UDR/UDM은 AMF에 전화번호 및 IMSI를 포함하는 단말 재접속 요청을 전송하며, AMF는 이동 단말기에 단말 재접속 요청을 전송할 수 있다. 또한 코어 망, 이동 단말기 및 세컨드 디바이스는 S305 내지 S345를 다시 수행할 수 있다. 한편 세컨드 디바이스에 대한 인증이 완료되면, 코어망은 세컨드 디바이스에서 생성되어 전송되는 트래픽이나 세컨드 디바이스를 목적지로 가지는 트래픽을 처리할 수 있다. 이와 관련해서는 도 14 및 도 15를 참고하여 설 명한다. 도 14는 본 발명에 따른, 세컨드 디바이스가 외부 기기로 트래픽을 전송할 때의 동작을 설명하기 위한 도면이다. 도 14 및 도 15에서는, 이동 단말기 및 UPF가 세컨드 디바이스가 전송하거나 세컨드 디바이스로 전송 되는 트래픽을 처리하는 라우터로써 기능하며, 라우팅 정책(라우팅 테이블 또는 패킷 필터링 정책)은 코어망에 의해 배포될 수 있다. 또한 라우팅 정책은, 세컨드 디바이스의 IPV6 주소를 소스 IP 주소 또는 목적지 주소 IP 로 가지는 트래픽에 대한 트래픽 경로를 규정할 수 있다. 또한 이동 단말기에 배포되는 라우팅 정책과 UPF에 배포되는 라우팅 정책은, 서로 상이할 수 있다. 도 14의 설명은, 일방향 통신이 설정된 세컨드 디바이스에, 그리고 양방향 통신이 설정된 세컨드 디바이스의 트 래픽 전송 과정에 적용될 수 있다. 세컨드 디바이스에서 전송하는 트래픽은 세컨드 디바이스의 IPV6 주소를 소스 IP 주소(2001:AB7:11::9:3) 로 가질 수 있다. 또한 세컨드 디바이스에서 전송하는 트래픽은 목적지 IP 주소(2003:882:AA::7:56)를 포 함할 수 있다. 한편 세컨드 디바이스로부터 트래픽이 수신되면, 이동 단말기는 라우팅 정책에 기반하여 트래픽을 UPF로 전송할 수 있다. 구체적으로 이동 단말기는 세컨드 디바이스로부터 트래픽이 수신된 접속 인터 페이스(btlan0)를 결정하고, 수신된 인터페이스(btlan0)에 상응하는 인터페이스 ID(0x11)를 결정한 후, 결정된 인터페이스 ID(0x11)에 상응하는 인터페이스(dnic1)을 통하여 트래픽을 UPF로 전송할 수 있다. 이 경우 트래픽은 이동 단말기와 UPF 간에 생성된 GTP-U 터널(0x07)을 통하여 UPF로 전달될 수 있다. 이 경우 UPF는 이동 단말기와 함께 GTP-U 터널(0x07)을 형성하는 가상 NIC2를 통하여 트래픽을 수신 하고, 트래픽 내 목적지 IP 주소(2003:882:AA::7:56)가 속하는 IP 대역(2003:882:AA::7/80)에 따라 트래픽을 전송할 수 있다. 이 경우 트래픽은 무선 네트워크를 통해 목적지 기기에 도달할 수 있다.목적지 기기에 도착한 트래픽은 소스 IP 주소(2001:AB7:11::9:3)를 포함하며, 이것은 이동 단말기의 IP 주소가 아닌 세컨드 디바이스 자체의 IP 주소이다. 즉 세컨드 디바이스는 자신의 IP 주소를 이용하여 외부 기기 또는 서버와 통신할 수 있다. 도 15는 본 발명에 따른, 외부 기기에서 세컨드 디바이스로 트래픽을 전송할 때의 동작을 설명하기 위한 도면이 다. 도 15의 설명은, 양방향 통신이 설정된 세컨드 디바이스의 트래픽 수신 과정에 적용될 수 있다. 외부 기기에서 전송하는 트래픽은 외부 기기의 IP 주소를 소스 IP 주소(2003:882:AA::7:56)로, 세컨드 디 바이스의 IPV6 주소(2001:AB7:11::9:6)를 목적지 IP 주소로 가질 수 있다. 코어망은 세컨드 디바이스의 IPV6 주소를 목적지로 가지는 트래픽을 처리할 수 있다(S350). 구체적으로 코어망의 UPF는 세컨드 디바이스의 IPV6 주소를 목적지로 가지는 트래픽을 수신할 수 있 다. 이 트래픽은 외부 기기에서 전송되고, 라우팅 정책에 기반하여 코어망 또는 기타 네트워크의 네트워 크 장비들에 의해 처리된 후, UPF에 도달할 수 있다. UPF는 목적지 IP 주소(2001:AB7:11::9:6)를 이용하여, 복수의 GTP-U 터널 중 IPV6 주소에 상응하는 GTP-U 터널을 결정할 수 있다. 구체적으로 UPF는 목적지 IP 주소(2001:AB7:11::9:6)를 이용하여 목적지 IP 주소(2001:AB7:11::9:6)에 대 응하는 인터페이스(가상 NIC 2)를 결정할 수 있다. 더욱 구체적으로 UPF는 복수의 인터페이스(복수의 가상 NIC)을 통하여 복수의 이동 단말기와 연결될 수 있으며, 라우팅 정책에 기반하여 복수의 인터페이스 중 목적지 IP 주소(2001:AB7:11::9:6)에 대응하는 인터페이스(가상 NIC 2)를 결정할 수 있다. 이 경우 UPF는 목적지 IP 주소(2001:AB7:11::9:6)가 포함되는 목적지 주소 IP 대역(2001:AB7:11::/64)에 대응하는 인터페이스(가상 NIC 2)를 결정할 수도 있다. 인터페이스(가상 NIC 2)를 결정되면, UPF는 목적지 IP 주소(2001:AB7:11::9:6)를 이용하여 목적지 IP 주 소(2001:AB7:11::9:6)(또는 목적지 IP 주소가 속하는 대역)에 매칭되는 GTP-U 터널(0x41)을 결정할 수 있다. 구체적으로 하나의 인터페이스(가상 NIC 2)는 복수의 GTP-U 터널과 연결될 수 있으며, UPF는 라우팅 정책 에 기반하여 하나의 인터페이스(가상 NIC 2)에 연결되는 복수의 GTP-U 터널 중 목적지 IP 주소 (2001:AB7:11::9:6)에 대응하는 GTP-U 터널(0x41)을 결정할 수 있다. 그리고 UPF는 결정된 GTP-U 터널 (0x41)을 통하여 이동 단말기에 트래픽을 전송할 수 있다. 이 경우 UPF는 IPv6 주소에 삽입된 계층 정보나 IPv6 Prefix를 이용하여 더욱 빠른 라우팅 처리를 수행할 수 있다. 일 예로, UPF는 목적지 IP 주소(2001:AB7:11::9:6)의 IPv6 Prefix만을 참조하여, 목적지 IP 주 소(2001:AB7:11::9:6)에 대응하는 인터페이스(가상 NIC 2) 및 GTP-U 터널을 결정할 수 있다. 한편 UPF와 이동 단말기 간에는, 세컨드 디바이스의 통신을 위한 GTP-U 터널(0x41) 뿐만 아니라, 이 동 단말기 자체의 통신에 사용되는 터널이 생성되어 있을 수 있다. 이 경우 UPF는 이동 단말기 의 IP 주소를 목적지로 가지는 트래픽과 세컨드 디바이스의 IP 주소를 목적지로 가지는 트래픽을 구분하여 처리 할 수 있다. 한편 이동 단말기는 GTP-U 터널(0x41)을 통하여 세컨드 디바이스의 IP 주소를 목적지로 가지는 트래픽을 수신할 수 있다. 그리고 이동 단말기는 라우팅 테이블에 기초하여 세컨드 디바이스의 IPV6 주소에 상응하 는 접속 인터페이스를 결정하고, 결정된 접속 인터페이스를 통하여 세컨드 디바이스에 트래픽을 전송할 수 있다. 구체적으로 하나의 이동 단말기는 복수의 접속 인터페이스를 통하여 복수의 세컨드 디바이스와 연결될 수 있으며, 이동 단말기는 라우팅 정책에 기반하여 복수의 접속 인터페이스 중 목적지 IP 주소 (2001:AB7:11::9:6)에 대응하는 접속 인터페이스(btlan0)를 결정할 수 있다. 더욱 구체적으로 이동 단말기(10 0)는 목적지 IP 주소(2001:AB7:11::9:6)에 대응하는 인터페이스 ID(0x12)를 결정하고, 인터페이스 ID(0x12)에 상응하는 접속 인터페이스(btlan0)를 결정하고, 접속 인터페이스(btlan0)를 통하여 세컨드 디바이스에 트 래픽을 전송할 수 있다. 한편 이동 단말기는 목적지 IP 주소의 IPv6 Prefix 및 자동 구성 영역 내 주소 값을 모두 이용하여 접속 인터페이스(btlan0)를 결정할 수 있다.한편 외부 기기가 세컨드 디바이스에 전송하는 트래픽은 세컨드 디바이스에 대한 제어 명령일 수 있으며, 세컨드 디바이스는 제어 명령에 상응하는 동작을 수행할 수 있다. 예를 들어 세컨드 디바이스 가 인슐린 주입 장치이고 외부 기기는 의사의 단말이라고 가정한다. 이 경우 의사의 단말은 인슐린 주입 명령을 인슐린 주입 장치에 직접 전송하고, 인슐링 주입 장치는 인슐린 주입 명령에 기초하여 인슐린 주입 동작을 수행할 수 있다. 기존에는, 세컨드 디바이스가 스마트폰에 데이터를 요청하고 스마트 폰이 무선 네트워 크에 해당 데이터를 요청하면, 이에 대한 응답으로 무선 네트워크가 해당 데이터를 전송하는 방식의 일방향 통 신만이 가능했을 뿐, 외부 기기가 무선 네트워크를 통하여 세컨드 디바이스에 데이터(명령 등)를 직접 전송하는 방식의 양방향 통신이 불가능하였다. 다만 본 발명에 따르면, 세컨드 디바이스에 대한 제어 명령은, 세컨 드 디바이스 또는 이동 단말기의 요청 없이도 세컨드 디바이스로 전송될 수 있다. 본 발명에 따르면, VPN 서버의 구축, VPN 기능의 탑재, 별도의 라우터 장비의 구비를 필요하지 않으면서, 무선 네트워크가 세컨드 디바이스의 IP를 공인 IP로써 수용 및 관리할 수 있다. 이에 따라 코어망은, 추가 비용이나 설비를 투입하는 것 없이도, 세컨드 디바이스를 목적지로 가지는 패킷을 처리하여 양방향 통신을 가능하게 할 수 있으며, 최근 급격히 증가하는 IOT 장비들의 양방향 통신 니즈를 충족시킬 수 있다. 또한 본 발명에 따르면, 이동 단말기(스마트폰)을 라우팅 장비로 활용하여 세컨드 디바이스의 양방향 통신을 가 능하게 함으로써, 세컨드 디바이스의 양방향 통신을 위해 추가 장비를 구비해야 하는 불편함을 해소할 수 있다. 또한 본 발명에 따르면, IPV6를 이용한 IP 자동 구성 방식을 채택하고, IP 자동 구성을 위한 구성 정보를 이동 단말기를 매개체로 활용하여 배포함으로써, 세컨드 디바이스에 IP 주소를 할당하기 위한 추가 설비를 마련하지 않아도 되는 장점이 있다. 또한 본 발명에 따르면, 네트워크 표준 규격에 따라 구성 정보를 배포함으로써, 기존의 코어망 및 스마트폰과의 호환성을 높이고, 추가 설비 및 추가 기능의 탑재를 최소화 시킬 수 있는 장점이 있다. 또한 본 발명에 따르면, UPF 및 이동 단말기에 라우팅 테이블을 구성하고 라우팅 테이블에 기반하여 세컨드 디 바이스에 트래픽을 전달함으로써, 세컨드 디바이스의 IPV6 주소를 목적지로 가지는 트래픽이 세컨드 디바이스까 지 원할하게 전달되도록 할 수 있다. 또한 본 발명에 따르면, 세컨드 디바이스의 IPV6 주소를 계층화하여 생성함으로써, 라우팅 처리 속도를 높이고 IOT 장비들의 급격한 증가에 대응할 수 있는 장점이 있다. 또한 본 발명에 따르면, 세컨드 디바이스에 유심이 장착되지 않아도 코어망에서 세컨드 디바이스의 IP 주소를 공인 IP로써 수용함으로써, IOT 장비의 제조 비용을 줄일 수 있는 장점이 있다. 초고속, 초저지연, 초연결을 특징으로 하는 5G 이동통신 서비스가 본격화되면서 스마트폰과 함께 사용하는 세컨 드 디바이스 사용이 늘고 있는데, 이는 스마트폰이 지원하지 않는 기능을 보완해 줄 수 있기 때문이다. 예를들 어, VR·증강현실(AR) 같은 새로운 서비스를 구현하기 위해서는 스마트폰과 별개로 세컨드 디바이스가 필수적이 다. 또한, 웨어러블 기기의 경우 의료 헬스케어 분야에서 개인의 생체 정보를 기록하고 모니터링 하는 방식에 상당한 진보를 가져왔고, 인더스트리4.0의 스마트 팩토리에서는 스마트 글래스을 통해 초보 기술자가 숙련된 기 술자 지시에 따라 업무를 하게 함으로써 효율적인 업무 진행과 산재 방지를 할 수 있다. 4차 산업혁명 시대에는 인공 지능 차세대 웨어러블 디바이스가 스마트폰과 더불어 우리 삶의 필수 아이템으로 여겨 질 것으로 기대되고 있다. 그리고 본 발명에 따르면, 세컨드 디바이스의 양방향 통신에 기초하여 기존의 세컨드 디바이스에서 불가 능했던 각종 서비스를 제공하고, 향후 다양한 분야의 응용 서비스로의 발전시킬 수 있는 장점이 있다. 예를 들 어 본 발명에 따르면, 사용자가 특정 장소에 자신의 스마트폰을 가져다 놓기만 하면, 주변의 IOT 기기들의 양방 향 통신이 가능하고 IOT 기기에 제어 명령이 직접 전달될 수 있기 때문에, 본 발명은 다양한 응용 서비스에서 유용하게 사용될 수 있다. 전술한 본 발명은, 프로그램이 기록된 매체에 컴퓨터가 읽을 수 있는 코드로서 구현하는 것이 가능하다. 컴퓨터 가 읽을 수 있는 매체는, 컴퓨터 시스템에 의하여 읽혀질 수 있는 데이터가 저장되는 모든 종류의 기록장치를 포함한다. 컴퓨터가 읽을 수 있는 매체의 예로는, HDD(Hard Disk Drive), SSD(Solid State Disk), SDD(Silicon Disk Drive), ROM, RAM, CD-ROM, 자기 테이프, 플로피 디스크, 광 데이터 저장 장치 등이 있다. 또한, 상기 컴 퓨터는 제어부를 포함할 수도 있다. 따라서, 상기의 상세한 설명은 모든 면에서 제한적으로 해석되어서는 아니 되고 예시적인 것으로 고려되어야 한다. 본 발명의 범위는 첨부된 청구항의 합리적 해석에 의해 결정되어야 하 고, 본 발명의 등가적 범위 내에서의 모든 변경은 본 발명의 범위에 포함된다.도면 도면1 도면2 도면3 도면4 도면5 도면6 도면7 도면8 도면9 도면10 도면11 도면12 도면13 도면14 도면15"}
{"patent_id": "10-2022-0112934", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명에 따른, 세컨드 디바이스 접속 제어 시스템을 설명하기 위한 블록도이다. 도 2는 본 발명에 따른 이동 단말기를 설명하기 위한 블록도이다. 도 3은 본 발명에 따른, 세컨드 디바이스 접속 제어 시스템의 동작 방법을 설명하기 위한 도면이다. 도 4는 본 발명에 따른, UPF와 이동 단말기 간의, PDU 세션을 수립하는 방법을 설명하기 위한 도면이다. 도 5는 DN-AAA가 SMF에 전송하는 radius 메시지를 도시한 도면이다. 도 6은 본 발명에 따른, 세컨드 디바이스의 IPv6 주소를 설명하기 위한 도면이다. 도 7은 본 발명에 따른, 구성 정보를 세컨드 디바이스에 전달하여 세컨드 디바이스의 IPv6 주소를 자동 구성하 는 구체적인 방법을 설명하기 위한 도면이다. 도 8은 SMF가 이동 단말기에 전송하는 ICMPv6 라우터 알림 메시지를 도시한 도면이다. 도 9는 본 발명에 따른 구성 정보의 전달 과정만을 별도로 도시한 도면이다. 도 10은 본 발명에 따른, IPv6 주소의 자동 구성 방식의 두가지 예를 도시한 도면이다. 도 11은 본 발명에 따른, 세컨드 디바이스에 대한 양방향 통신을 설정하고, 세컨드 디바이스의 IPV6 주소를 인 증하는 방법을 설명하기 위한 순서도이다. 도 12는 본 발명에 따른, 양방향 통신 설정 앱의 표시 화면을 도시한 도면이다. 도 13은 본 발명에 따른, 정책 변경 시의 동작을 설명하기 위한 도면이다. 도 14는 본 발명에 따른, 세컨드 디바이스가 외부 기기로 트래픽을 전송할 때의 동작을 설명하기 위한 도면이다. 도 15는 본 발명에 따른, 외부 기기에서 세컨드 디바이스로 트래픽을 전송할 때의 동작을 설명하기 위한 도면이 다."}
