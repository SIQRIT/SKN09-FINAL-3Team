{"patent_id": "10-2023-0054397", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0151933", "출원번호": "10-2023-0054397", "발명의 명칭": "통합 단말 장치 및 통합 단말 장치의 제어 방법", "출원인": "주식회사 케이티", "발명자": "조한진"}}
{"patent_id": "10-2023-0054397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "통합 단말 장치에 있어서,무선랜 기능을 제공하는 AP(Access Point)부;상기 AP부와 이더넷으로 연결되는 STB(Set-Top Box)부; 를 포함하고,상기 AP부는 DHCP(Dynamic Host Configuration Protocol)를 통해 상기 STB부와 홈 네트워크 통신을 개시하고상기 STB부의 IP(Internet Protocol) 주소를 할당하며,상기 AP부와 상기 STB부는 IPC(Inter Process Communication)을 통해 서로 패킷을 송수신하는 것을 특징으로하는 통합 단말 장치."}
{"patent_id": "10-2023-0054397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서, 상기 STB부는 상기 AP부의 IP 주소를 통해 ARP(Address Resolution Protocol) 요청을 전송하는 것을 특징으로하는 통합 단말 장치."}
{"patent_id": "10-2023-0054397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서, 상기 AP부와 상기 STB부 간에 전송되는 패킷은 JSON(JavaScript Object Notation) 형태의 패킷이며,상기 JSON 형태의 패킷은 상기 통합 단말 장치의 이름에 대한 정보, 상기 통합 단말이 구성되는 프로토콜의 버전에 대한 정보, 상기 AP부와 상기 STB부 간의 통신 간 데이터 암호화를 위한 토큰 정보 중 적어도 하나 이상을포함하는 헤더부를 포함하는 것을 특징으로 하는 통합 단말 장치."}
{"patent_id": "10-2023-0054397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,상기 토큰 정보는 무작위로 생성되고, 상기 패킷의 전송측과 수신측에 전달되는 대칭키와 같이 연산되어 상기데이터 암호화에 사용되는 것을 특징으로 하는 통합 단말 장치."}
{"patent_id": "10-2023-0054397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제3항에 있어서,상기 JSON 데이터는 하나의 패킷 내에서 상기 헤더 데이터와 같이 전송되는 데이터부를 더 포함하고,상기 데이터부는 사용자 장치의 정보를 불러오거나 제어하기 위한 요청 변수를 포함하는 사용자 장치 정보 및상기 AP부의 정보를 불러오거나 제어하기 위한 요청 변수를 포함하는 AP 정보 중 적어도 하나 이상을 포함하고,상기 사용자 장치 정보는 상기 AP 부 및 상기 STB부를 포함하는 상기 통합 단말 장치를 제어하기 위한 정보인것을 특징으로 하는 통합 단말 장치."}
{"patent_id": "10-2023-0054397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5항에 있어서,상기 사용자 장치 정보는 메시지의 타입을 정의하기 위한 메시지 타입 정보를 포함하며,상기 메시지 타입 정보는 상기 AP부가 상기 STB부에 대해 데이터를 겟(get)하기 위한 요청, 상기 AP부가 상기공개특허 10-2023-0151933-3-STB부에 대해 데이터를 셋(set)하기 위한 요청, 상기 STB부의 요청에 대응하는 상기 AP부의 응답에 대한 타입;및 상기 STB부가 상기 AP부에 대해 데이터를 겟(get)하기 위한 요청, 상기 STB부가 상기 AP부에 대해 데이터를 셋(set)하기 위한 요청, 상기 AP부의 요청에 대응하는 상기 STB부의 응답에 대한 타입 중 적어도 하나 이상을 정의하기 위한 정보인 것을 특징으로 하는 통합 단말 장치."}
{"patent_id": "10-2023-0054397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서,상기 데이터부는 상기 AP부와 상기 STB부 간의 데이터 전송이 성공하거나 실패한 경우를 분류하기 위한 응답 코드 정보를 더 포함하고,상기 통합 단말 장치는 데이터 전송의 실패에 대응하는 응답 코드 정보에 해당하는 상황에 대해서 재전송 동작을 수행하는 것을 특징으로 하는 통합 단말 장치."}
{"patent_id": "10-2023-0054397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제1항에 있어서,상기 통합 단말 장치는 외부로부터 입력되는 음성을 인식하고, 처리 결과를 스피커를 통해 출력하는 AI 스피커부를 더 포함하고,상기 STB부는 상기 AI 스피커부와 연결되며, 상기 AI 스피커의 AI CPU를 통해 입력되는 사용자 명령에 기초하여상기 AP부를 제어하는 것을 특징으로 하는 통합 단말 장치."}
{"patent_id": "10-2023-0054397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "무선랜 기능을 제공하는 AP부와 상기 AP부와 이더넷으로 연결되는 STB부를 포함하는 통합 단말 장치의 제어 방법에 있어서, 상기 AP부가 DHCP(Dynamic Host Configuration Protocol)를 통해 상기 STB부와 홈 네트워크 통신을 개시하고상기 STB부의 IP(Internet Protocol) 주소를 할당하는 단계; 및상기 AP부와 상기 STB부가 IPC(Inter Process Communication)를 통해 서로 패킷을 송수신하는 단계; 를 포함하는 것을 특징으로 하는 통합 단말 장치의 제어 방법."}
{"patent_id": "10-2023-0054397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서, 상기 STB부가 상기 AP부의 IP 주소를 통해 ARP(Address Resolution Protocol) 요청을 전송하는 단계를 더 포함하는 것을 특징으로 하는 통합 단말 장치의 제어 방법."}
{"patent_id": "10-2023-0054397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제9항에 있어서, 상기 AP부와 상기 STB부 간에 전송되는 패킷은 JSON(JavaScript Object Notation) 형태의 패킷이며,상기 JSON 형태의 패킷은 상기 통합 단말 장치의 이름에 대한 정보, 상기 통합 단말이 구성되는 프로토콜의 버전에 대한 정보, 상기 AP부와 상기 STB부 간의 통신 간 데이터 암호화를 위한 토큰 정보 중 적어도 하나 이상을포함하는 헤더부를 포함하는 것을 특징으로 하는 통합 단말 장치의 제어 방법."}
{"patent_id": "10-2023-0054397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제11항에 있어서,상기 토큰 정보는 무작위로 생성되고, 상기 패킷의 전송측과 수신측에 전달되는 대칭키와 같이 연산되어 상기데이터 암호화에 사용되는 것을 특징으로 하는 통합 단말 장치의 제어 방법.공개특허 10-2023-0151933-4-청구항 13 제11항에 있어서,상기 JSON 형태의 패킷은 상기 헤더 데이터와 같이 전송되는 데이터부를 더 포함하고,상기 데이터부는 사용자 장치의 정보를 불러오거나 제어하기 위한 요청 변수를 포함하는 사용자 장치 정보 및상기 AP부의 정보를 불러오거나 제어하기 위한 요청 변수를 포함하는 AP 정보 중 적어도 하나 이상을 포함하고,상기 사용자 장치 정보는 상기 AP 부 및 상기 STB부를 포함하는 상기 통합 단말 장치를 제어하기 위한 정보인것을 특징으로 하는 통합 단말 장치의 제어 방법."}
{"patent_id": "10-2023-0054397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제13항에 있어서,상기 사용자 장치 정보는 상기 패킷에 포함되며 메시지의 타입을 정의하기 위한 메시지 타입 정보를 포함하며,상기 메시지 타입 정보는 상기 AP부가 상기 STB부에 대해 데이터를 겟(get)하기 위한 요청, 상기 AP부가 상기STB부에 대해 데이터를 셋(set)하기 위한 요청, 상기 STB부의 요청에 대응하는 상기 AP부의 응답에 대한 타입;및 상기 STB부가 상기 AP부에 대해 데이터를 겟(get)하기 위한 요청, 상기 STB부가 상기 AP부에 대해 데이터를 셋(set)하기 위한 요청, 상기 AP부의 요청에 대응하는 상기 STB부의 응답에 대한 타입 중 적어도 하나 이상을 정의하기 위한 정보인 것을 특징으로 하는 통합 단말 장치의 제어 방법."}
{"patent_id": "10-2023-0054397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제14항에 있어서,상기 데이터부는 상기 AP부와 상기 STB부 간의 데이터 전송이 성공하거나 실패한 경우를 분류하기 위한 응답 코드 정보를 더 포함하고,상기 통합 단말 장치는 데이터 전송의 실패에 대응하는 응답 코드 정보에 해당하는 상황에 대해서 재전송 동작을 수행하는 단계를 더 포함하는 것을 특징으로 하는 통합 단말 장치의 제어 방법."}
{"patent_id": "10-2023-0054397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제9항에 있어서,상기 통합 단말 장치는 외부로부터 입력되는 음성을 인식하고, 처리 결과를 스피커를 통해 출력하는 AI 스피커부를 더 포함하고,상기 STB부가 상기 AI 스피커부와 연결되며, 상기 AI 스피커부의 AI CPU를 통해 입력되는 사용자 명령에 기초하여 상기 AP부를 제어하는 단계를 더 포함하는 것을 특징으로 하는 통합 단말 장치의 제어 방법."}
{"patent_id": "10-2023-0054397", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "무선랜 기능을 제공하는 AP부와 상기 AP부와 이더넷으로 연결되는 STB부를 포함하는 통합 단말 장치의 제어 방법을 제공하는 명령어들을 포함하는 컴퓨터 판독가능 기록매체에 저장된 컴퓨터 프로그램에 있어서, 상기 AP부가 DHCP(Dynamic Host Configuration Protocol)를 통해 상기 STB부와 홈 네트워크 통신을 개시하고상기 STB부의 IP(Internet Protocol) 주소를 할당하고,상기 AP부와 상기 STB부가 IPC(Inter Process Communication)를 통해 서로 패킷을 송수신하는 명령어들의 시퀀스를 포함하는, 컴퓨터 판독가능 기록매체에 저장된 컴퓨터 프로그램."}
{"patent_id": "10-2023-0054397", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명의 실시예에 따른 통합 단말 장치는 무선랜 기능을 제공하는 AP(Access Point)부; 상기 AP부와 이더넷으 로 연결되는 STB(Set-Top Box)부; 를 포함하고, 상기 AP부는 DHCP(Dynamic Host Configuration Protocol)를 통 해 상기 STB부와 홈 네트워크 통신을 개시하고 상기 STB부의 IP(Internet Protocol) 주소를 할당하며, 상기 AP 부와 상기 STB부는 IPC(Inter Process Communication)을 통해 서로 패킷을 송수신할 수 있다."}
{"patent_id": "10-2023-0054397", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 AP(Access Point)와 셋톱박스(Set-Top Box), AI 스피커를 통합하여 활용하기 위한 단말 장치 및 그 제어 방법에 관한 것이다."}
{"patent_id": "10-2023-0054397", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "최근, 케이블 TV나 IPTV(Internet Protocol TV) 등과 같은 방송 서비스를 이용하면서 댁내에 설치되는 AP(Access Point)와 셋톱박스(Set-Top Box)에 대한 수요가 증가하였다. AP는 무선 인터넷에 연결되어 와이파이 신호를 송수신하기 위한 장치로써 사용자는 AP의 와이파이 연결을 통해 스마트폰, PC 외 다양한 장치에 대해 인 터넷 서비스를 제공받을 수 있다. 그리고, 사용자는 지상파 방송이나 및 IPTV의 시청을 위해 TV와 연결되는 셋 톱박스를 이용하고, 음성 인식을 통해 사용자의 명령을 인식하고 명령을 처리하거나 관련 정보를 제공하는 AI 스피커를 설치하여 이용할 수 있다. AP, 셋톱박스, AI 스피커는 모두에 대한 높은 수요에도 불구하고, 각 기기는 별개의 단말로 구성되는 경우가 많 다. 이러한 경우 기기 들의 소형화에도 불구하고, 각 기기를 위한 별개의 공간이 필요하여 댁내 공간 활용도가 저하되는 문제점이 있다. 그리고 각 기기에 대해 별도로 전원을 공급해야 하므로 다수의 전원 케이블이 요구되 어 댁내 인테리어나 미관을 해치게 되며, 기기별 전력 소비에 의해 소비 전력이 늘어나게 되는 문제점이 있다. 또한, 각 사용자는 기기별 서비스를 이용하기 위해 각 기기를 별도로 구매해야 하므로 관련 시스템 구축에 요구 되는 비용이 늘어나는 문제점이 있다. 이러한 요구에 따라 상기한 기기들을 하나의 단말로 통합하려는 시도가 있었으나, 서로 동작하는 방법이나 입출 력되는 데이터 형식이 효율성이 감소하는 문제점이 있다. 선행기술문헌 특허문헌 (특허문헌 0001) 한국공개특허공보 제10-2005-0010284호 (2005.02.03 공개)"}
{"patent_id": "10-2023-0054397", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 전술한 종래 기술의 문제점을 해결하기 위한 것으로서, 댁내 AP와 셋톱박스, AI 스피커가 통합되어 댁내 공간 활용도나 소비전력 효율성이 증대된 통합 단말 장치를 제공하고자 한다. 또한, 본 발명은 댁내 AP와 셋톱박스, AI 스피커가 통합되어 관련 서비스를 이용하려는 사용자의 장비 구매 비 용을 감소시킬 수 있는 통합 단말 장치를 제공하고자 한다. 또한, 본 발명은 댁내 AP와 셋톱박스, AI 스피커가 통합되어 하나의 장치를 통해 인터넷 서비스 활용과 TV 제어 를 수행할 수 있어 편의성이 증대된 통합 단말 장치를 제공하고자 한다. 다만, 본 실시예가 이루고자 하는 기술적 과제는 상기된 바와 같은 기술적 과제들로 한정되지 않으며, 또 다른 기술적 과제들이 존재할 수 있다."}
{"patent_id": "10-2023-0054397", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상술한 기술적 과제를 달성하기 위한 수단으로서 본 발명의 일 실시예는 무선랜 기능을 제공하는 AP(Access Point)부; 상기 AP부와 이더넷으로 연결되는 STB(Set-Top Box)부; 를 포함하고, 상기 AP부는 DHCP(Dynamic Host Configuration Protocol)를 통해 상기 STB부와 홈 네트워크 통신을 개시하고 상기 STB부의 IP(Internet Protocol) 주소를 할당하며, 상기 AP부와 상기 STB부는 IPC(Inter Process Communication)을 통해 서로 패킷을 송수신 할 수 있다. 상술한 과제 해결 수단은 단지 예시적인 것으로서, 본 발명을 제한하려는 의도로 해석되지 않아야 한다. 상술한 예시적인 실시예 외에도, 도면 및 발명의 상세한 설명에 기재된 추가적인 실시예가 존재할 수 있다."}
{"patent_id": "10-2023-0054397", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "전술한 본 발명의 과제 해결 수단 중 어느 하나에 의하면, 본 발명은 댁내 AP와 셋톱박스, AI 스피커가 통합되 어 댁내 공간 활용도나 소비전력 효율성이 증대된 통합 단말 장치를 제공할 수 있다. 또한, 본 발명은 댁내 AP와 셋톱박스, AI 스피커가 통합되어 관련 서비스를 이용하려는 사용자의 장비 구매 비 용을 감소시킬 수 있는 통합 단말 장치를 제공할 수 있다. 또한, 본 발명은 댁내 AP와 셋톱박스, AI 스피커가 통합되어 하나의 장치를 통해 인터넷 서비스 활용과 TV 제어 를 수행할 수 있어 편의성이 증대된 통합 단말 장치를 제공할 수 있다."}
{"patent_id": "10-2023-0054397", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "아래에서는 첨부한 도면을 참조하여 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자가 용이하게 실시할 수 있도록 본 발명의 실시예를 상세히 설명한다. 그러나 본 발명은 여러 가지 상이한 형태로 구현될 수 있으며 여기에서 설명하는 실시예에 한정되지 않는다. 그리고 도면에서 본 발명을 명확하게 설명하기 위해서 설명과 관계없는 부분은 생략하였으며, 명세서 전체를 통하여 유사한 부분에 대해서는 유사한 도면 부호를 붙였다. 명세서 전체에서, 어떤 부분이 다른 부분과 \"연결\"되어 있다고 할 때, 이는 \"직접적으로 연결\"되어 있는 경우뿐 아니라, 그 중간에 다른 소자를 사이에 두고 \"전기적으로 연결\"되어 있는 경우도 포함한다. 또한 어떤 부분이 어떤 구성요소를 \"포함\"한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다른 구성요소를 제외하는 것이 아 니라 다른 구성요소를 더 포함할 수 있는 것을 의미하며, 하나 또는 그 이상의 다른 특징이나 숫자, 단계, 동작, 구성요소, 부분품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해 되어야 한다. 본 명세서에 있어서 '부(部)'란, 하드웨어에 의해 실현되는 유닛(unit), 소프트웨어에 의해 실현되는 유닛, 양 방을 이용하여 실현되는 유닛을 포함한다. 또한, 1 개의 유닛이 2 개 이상의 하드웨어를 이용하여 실현되어도 되고, 2 개 이상의 유닛이 1 개의 하드웨어에 의해 실현되어도 된다. 본 명세서에 있어서 단말 또는 디바이스가 수행하는 것으로 기술된 동작이나 기능 중 일부는 해당 단말 또는 디 바이스와 연결된 서버에서 대신 수행될 수도 있다. 이와 마찬가지로, 서버가 수행하는 것으로 기술된 동작이나 기능 중 일부도 해당 서버와 연결된 단말 또는 디바이스에서 수행될 수도 있다. 이하 첨부된 도면을 참고하여 본 발명의 일 실시예를 상세히 설명하기로 한다. 도 1은 본 발명의 일 실시예에 따른 통합 단말 장치의 구성도이다. 도 1을 참조하면, 통합 단말 장치은 AP부, STB부 및 AI 스피커부를 포함할 수 있다. AP는 액세스 포인트(Access Point)의 약자로, 무선랜(와이파이, Wi-Fi)을 통해 인터넷에 연결되어 있는 장치이 다. 일반적으로 무선랜을 사용하는 기기(노트북, 스마트폰, 태블릿 등)는 AP에 연결하여 인터넷에 접속할 수 있 다. AP는 유선 인터넷과 무선랜 간의 브릿지 역할을 수행할 수 있다. 그리고, 셋톱박스(Set-Top Box)는 TV와 인터넷 등 다양한 미디어를 연결하는 디지털 장치이다. 셋톱박스는 TV를 통해 인터넷 방송을 시청하거나, 녹화하거나, 인터넷에 연결된 다양한 콘텐츠를 시청할 수 있도록 해주는 기기 이고, 주로 TV 신호를 디코딩하여 시청하는 기능과 함께, 디지털 비디오 레코더(DVR), 네트워크 미디어 플레이 어 등의 다양한 기능을 제공한다. 그리고, AI 스피커는 인공지능 기술을 탑재한 스피커로, 음성인식 기술과 자연어 처리 기술 등을 활용하여 사용 자와 상호작용할 수 있는 기기이다. AI 스피커는 음악 재생, 날씨 정보 제공, 스마트 홈 기기 제어 등 다양한 기능을 제공하며, 음성 명령을 통해 작동할 수 있다. 상기한 각각의 장치를 통합하려는 경우, 특히, AP, 셋톱박스, AI 스피커를 모두 통합할 때, 각각의 기기는 고유 의 기능을 잃지 않아야 한다. 그리고, AP와 셋톱박스를 통합하는 경우, IPTV 및 지상파 방송을 위한 셋톱박스가 AP의 인터넷 회선을 이용할 수 있어야 하고, 셋톱박스가 AP를 제어하기 위해 AP와 셋톱박스간의 연동 방법이 설 정되어야 한다. 예를 들어 사용자가 IPTV를 시청할 수 없게 되어, 인터넷 연결을 확인하려는 경우, 사용자는 AP를 통해 인터넷 연결 상태를 확인하고, AP의 설정을 변경할 수 있다. 이러한 경우, AP와 셋톱박스가 통합된 단말 장치는 IPTV와 AP를 연동시킬 수 있어야 하고, 이러한 과정에서 IPTV 셋톱의 TV에서 AP의 상태 값을 읽고 기존의 AP 설정 변경 이 가능하게 구성되어야 한다. 또한, 사용자가 셋톱박스의 펌웨어를 업그레이드하려는 경우, 펌웨어 업그레이드의 동작을 수행하는 도중 인터 넷 연결이 종료되어 업그레이드 사항이 제대로 반영되지 않고 기기의 동작에 문제를 일으킬 수 있다. 따라서, AP와 셋톱박스가 통합된 단말 장치는 셋톱박스 업그레이드 시 안정성 제공을 위해 AP의 인터넷 연결이 종료되거 나 AP가 재부팅되지 않도록 제어할 수 있어야 한다. 또한, 사용자가 AI 스피커를 통해서 AP의 설정 값을 변경하려는 경우, AI 스피커가 AP의 상태를 읽어와 사용자 에게 알려주고 설정할 수 있도록 연동하는 구성이 요구된다. 본 발명의 실시예에 따른 통합 단말 장치는 외부에서 하나의 단말 장치로 패키징된 상태로 보일 수 있으나, 내부에 상기한 AP, 셋톱박스 및 AI 스피커의 기능을 수행하는 부품을 포함할 수 있다. 즉, 통합 단말 장치 는 AP, 셋톱박스 및 AI 스피커를 하나의 단말 장치내에 통합할 수 있다. 이하의 설명에서 통합 단말 장치 내 AP의 기능과 역할을 하는 부분을 AP부, 셋톱박스의 역할과 기능을 수행하는 부분을 STB부, AI 스피커의 기능과 역할을 수행하는 부분을 AI 스피커부로 정의하기로 한다.도 1을 참조하면, AP부는 Wi-Fi CPU를 포함할 수 있다. WiFi CPU는 AP부의 동작을 위해 입력되는 데이터를 처리하는 중앙 처리 장치로서, 설정이나 기능에 따라 2.4GHz Wi-Fi 또는 5GHz Wi- Fi의 대역폭을 가진 무선 신호를 제공할 수 있다. 그리고, WiFi CPU는 플래시 메모리 또는 RAM 과 같은 저장 장치에 연결되어 데이터를 입출력할 수 있고, 통합 단말 장치의 전원에 연결될 수 있다. WiFi CPU는 유선 데이터 입출력을 위한 포트인 WAN, LAN1, LAN2, LAN3와 연결될 수 있고, WPS(Wi-Fi Protected Setup) 입력을 통해 다른 기기나 장치와 무선랜으로 연결될 수 있다. 또한, WiFi CPU는 LED를 통해 데이터의 입출력 여부를 표시할 수 있다. STB부는 STB CPU를 포함할 수 있다. STB CPU는 STB부의 동작을 위해 입력되는 데이터를 처리하는 중앙 처리 장치로서, 설정이나 기능에 따라 무선 블루투스 연결이나 적외선 연결 기능을 제 공할 수 있다. 또한, STB CPU는 플래시 메모리 또는 RAM과 같은 저장 장치에 연결되어 데이터를 입출 력할 수 있고, USB 포트를 통해 외부의 장치와 연결될 수 있다. 또한, STB CPU는 통합 단말 장치 의 전원에 연결될 수 있다. 또한, STB CPU는 DC-JACK, S/PDIF, HDMI와 같은 포트를 통해 TV에 디스플레이를 위한 신호를 전송할 수 있고, On/Off 스위치를 통해 전원을 켜거나 끌 수 있다. 이 때, On/Off 스위치는 통합 단말 장치의 외면에 형성되어 사용자가 STB부에 대한 전원을 쉽게 제어할 수 있도록 할 수 있다. AI 스피커부는 AI CPU를 포함할 수 있다. AI CPU는 AI 스피커부의 동작을 위해 입력되는 데이터를 처리하는 중앙 처리 장치에 해당할 수 있다. AI 스피커부는 마이크를 통해 입력되는 음성 신호를 인식하고 분석하여 대응되는 적절한 텍스트 메시지로 변형할 수 있으며, 이러한 텍스트 메시지에 기초하 여 사전에 설정된 명령을 처리할 수 있다. AI CPU는 처리된 결과나 외부로부터 입력된 데이터를 소리 신호 로 변형하여 스피커를 통해 출력할 수 있다. 본 발명의 다른 실시예에서 AI 스피커부의 기능은 STB부 의 기능에 포함될 수 있다. 즉, STB CPU에 마이크 또는 스피커가 연결되며, STB CPU가 입력되는 음성을 인식하여 처리하고, 처리된 결과를 소리 신호로 변형하여 스피커를 통해 출력할 수도 있다. 본 발명의 실시예에서 AP부와 STB부는 이더넷(Ethernet) 통신을 위해 서로 연결될 수 있고, IPC(Inter Process Communication)을 통해 서로 패킷을 송수신할 수 있다. 도 1에서 AP부와 STB부가 이더넷으로 연결되는 것을 예시하였으나, 이더넷이 아닌 SD 인터페이스, USB 인터페이스와 같은 다른 내부 인터페이스를 구성할 수 있으며, AP부와 STB부는 IEEE 802.3에 따 른 버스 형태로 연결될 수 있다. 통합 단말 장치의 AP부와 STB부는 상기한 바와 같이 통합 단말 장치의 내에서 물리적으로 연 결되므로, 연결 관계가 외부로 노출되지 않아 통합 단말 장치의 댁내 공간 활용도가 증대되고, 댁내 인테리 어나 미관을 덜 해치게 된다. 도 2는 본 발명의 일 실시예에 따른 통합 단말 장치 내 DHCP에 따라 IP를 할당하는 과정을 예시하여 설명하기 위한 도면이다. AP부는 DHCP(Dynamic Host Configuration Protocol)를 통해 STB부와 홈 네트워크 통신을 개시하고, STB부에 IP주소를 할당할 수 있다. 종래의 AP는 일반적으로 외부 인터넷 망에 연결되며, 통신을 위한 고유의 IP 주소를 할당 받을 수 있고, AP에 연결된 하위 단말로서 Wi-Fi 및 유선 LAN을 구성할 수 있다. 종래의 셋톱박스는 종래의 AP에 대해 무선 또는 유 선의 LAN 장치를 통해 연결되며, AP의 하위 단말로서 AP르 통해 인터넷 망에 연결될 수 있었다. 본 발명의 실시예에 따른 통합 단말 장치는 AP부와 STB부가 셋톱박스는 통합 단말 내의 홈AP와 이더넷 케이블이 아닌 이더넷 GPIO 인터페이스를 통해서 이더넷을 구성하여 통합 단말의 형태로 구성하여 직접 적인 LAN 선 없이 단순한 형태로 구성할 수 있어서 내부 공간 활용도를 높일 수 있다. 이를 통해서 셋톱박스는 홈AP 하위 단말로 IPTV 패킷을 수신할 수 있다. 도 2를 참조하면, AP부는 STB부와 통합 단말 장치의 내부에서 이더넷으로 연결되며, AP부가 STB부에 대해 IP주소를 할당하는 과정을 알 수 있다. 보다 구체적으로, AP부는 DHCP(Dynamic Host Configuration Protocol)를 통해 STB부가 IP 주소, 서 브넷 마스크, 기본 게이트웨이 등의 네트워크 구성 정보를 받게 할 수 있다. STB부가 Opt 60 또는 Opt 77 을 통해 DHCP discover 메시지를 브로드캐스팅하면, 이를 인식한 AP부가 STB부에 대해 DHCP offer메시지를 전송할 수 있다. STB부는 Opt 60 또는 Opt 77를 통해 AP부에 대해 DHCP request 메시지를 전송할 수 있다. 이후, AP부의 DHCP Ack 메시지로 회신하면 AP부와 STB부간의 홈 네트워크가 형 성되어 IGMP(Internet Group Management Protocol)나 RTP(Real-time Transport Protocol)와 같은 프로토콜을 통해 멀티미디어 스트리밍이 가능해진다. 도 2의 실시예에서 AP부의 IP 할당 방법은 AP부의 미리 설정된 IP 할당 방식에 따라 달라질 수 있다. 예를 들어, AP부가 AP부의 하위 단말에 대해 서로 다른 내부 IP주소를 할당하고 각 단말들이 외부에 대해선 하나의 공인 IP 주소를 갖게 하는 공유기 모드, 또는 AP부를 스위칭 허브로 사용하여 각각의 장치 에 대해 별도의 공인 IP를 갖는 브릿지 모드인 경우에 따라 IP 할당 방식은 달라질 수 있다. 도 3은 본 발명의 일 실시예에 따른 통합 단말 장치 내 AP부와 STB부가 IPC를 통해 연동되는 것 을 예시하여 설명하기 위한 도면이다. AP부의 WiFi CPU와 STB부의 STB CPU는 통합 단말 장치 내에서 IPC (Inter Process Communication) 방식으로 연결될 수 있다. 이와 같은 연결을 통한 두 CPU 간의 내부 연동은 임의의 포트를 통해 데이터 전송을 수행함으로써 구체화될 수 있다. 예를 들어, AP부의 WiFi CPU와 STB부의 STB CPU는 7654 포트에 의해 서로 연결되어 데이터를 서로 송수신할 수 있다. 도 3의 예시에서, AP부는 10.0.0.2의 IP 주소가 할당되고, STB부는 10.0.0.8의 IP주소가 할당된 것을 알 수 있다. 도 3의 예시에서, AP부의 인터넷망 연결 방식이 브릿지 모드로 설정된 경우, AP부는 그 하 위 단말에 공인 IP를 할당할 수 있는데, 본발명의 실시예에서 STB부는 AP부의 하위 단말로 구성될 수 있다. AP부와 STB부가 IPC로 내부 연동되는 경우 하는 STB부의 IP 주소인 10.0.0.8 대해서 외부 공인 망으로 ARP Request를 전송하지 않도록 할 수 있다. 만약 STB부가 ARP Request를 외부에 전송한다면, AP 부로부터 ARP Request에 대한 응답을 받게 되고, 이는 AP부와 그 하위 단말로 구성되는 STB부에 게 불필요한 동작이기 때문이다. AP부 또는 STB부는 서로 IPC를 통해서 각기 다른 장치가 상태 및 명령을 전송하고 동작하도록 구성되 며, 이를 위해, AP부와 STB부는 연결 인터페이스의 소켓이 항상 개방된 상태로 유지될 수 있다. 도 4는 본 발명의 일 실시예에 따른 통합 단말 장치 내 AP부와 STB부가 암호화된 데이터를 전송하고 복호화하는 과정을 예시하여 설명하기 위한 도면이다. 도 4는 STB부에서 생성된 요청 패킷을 AP부에 전송하는 것과 AP부과 상기 요청 패킷에 대응되는 응답 패킷을 전송하는 과정을 예시한다. 후술하겠지만, AP부와 STB부 간에 전송되는 패킷은 데이터부 는 JSON(JavaScript Object Notation) 형식일 수 있다. 그리고, STB부의 요청 패킷의 헤더부는 데이터 암 호화를 위한 토큰 정보(Channel-Auth-Token)가 포함될 수 있다. 여기서 토큰 정보는 무작위로 생성되며, 16byte * n의 크기를 가질 수 잇다. 보다 구체적으로, 도 2에서 패킷의 암호화 과정은 STB부가 헤더부 내의 토큰 정보가 생성되고, 별도로 전 달되는 대칭키를 수신하는 단계, 토큰 정보와 대칭키를 결합하여 AES-128에 따라 인코딩하여 전송하는 단계를 포함할 수 있다. 여기서 대칭키는 16byte * n의 크기로 설정될 수 있고 이보다 크기가 작다면 16byte의 기준에 맞도록 0x00으로 패딩(padding)될 수 있다. AES-128은 Advanced Encryption Standard(AES)라고 불리는 암호화 기술 중 하나로서, 보편적으로 사용되는 대칭키 암호화 알고리즘 중 하나이고, 미국 국립표준기술연구소(NIST)에서 2001 년에 채택된 암호화 기술에 해당할 수 있다. AES 128은 128비트 길이의 대칭키를 사용하여 데이터를 암호화하 며, 비밀키는 암호화와 복호화에 모두 사용된다. AES 128은 안전한 키 생성 및 관리, 높은 보안 수준, 빠른 처 리 속도 등의 특징을 가진다. 도 4에서 복호화 과정은 AP부가 전송받은 패킷에 대해 토큰 정보와 대칭키를 결합하여 복호화하여 수행될 수 있다. 이 후, AP부가 STB부의 요청 패킷에 대응하여 응답 패킷을 생성하고 응답 패킷을 전송하는 과정에서 이루어지는 암호화 및 복호화 과정도 상기한 과정과 같을 수 있다. 도 4에서 데이터 암호화/복호화를 위해 AES-128을 이용하였으나, 보다 강력한 보안을 위해 AES-192 또는 AES- 256을 사용하거나 다른 암호화/복호화 기술이 사용될 수도 있다.도 5는 본 발명의 일 실시예에 따른 통합 단말 장치 내 AP부와 STB부가 전송하는 패킷의 구성을 예시하여 설명 하기 위한 도면이다. 도 5를 참조하면, JSON 형식의 패킷 구성이 예시된 것을 알 수 있다. 패킷의 헤더부(header)에 포함되는 Name은 통합 단말 장치의 이름을 나타내기 위한 파라미터에 해당할 수 있고, Version은 상기 통합 단말 장치에 구성되 는 프로토콜의 버전명을 의미할 수 있다. Token은 앞서 도 4에서 설명된 암호화/복호화 과정에서 사용되는 토큰 정보로서, AP부와 STB부 간의 통신 과정에서 사용되는 ID 체계로 통신을 위한 Channel 인증 토큰을 의미할 수 있다. Data Size는 패킷 내 헤더부와 데이터부의 크기를 의미할 수 있다. 데이터부(Data)는 패킷을 통해 요청하 거나 응답하기 위한 실질적인 데이터가 포함되는 JSON 형식의 데이터 영역을 의미할 수 있다. 도 6은 본 발명의 일 실시예에 따른 통합 단말 장치 내 AP부와 STB부가 전송하는 패킷 내 데이터의 메시지 타입 정보를 예시하여 설명하기 위한 도면이다. 메시지 타입 정보는 AP부가 상기 STB부에 대해 데이터를 겟(get)하기 위한 요청(GET_AP_STB_DATA_REQ), 상기 AP부가 상기 STB부에 대해 데이터를 셋(set)하기 위한 요청(SET_AP_STB_DATA_REQ), 상기 STB부의 요청에 대응 하는 상기 AP부의 응답(NOTIFY_AP_STB_DATA)에 대한 타입과 상기 STB부가 상기 AP부에 대해 데이터를 겟(get)하기 위한 요청(GET_STB_AP_REQ), 상기 STB부가 상기 AP부에 대해 데이터를 셋(set)하기 위한 요청(SET_STB_AP_REQ), 상기 AP부의 요청에 대응하는 상기 STB부의 응답 (NOTIFY_STB_AP_DATA)에 대한 타입중 적어도 하나 이상을 정의하기 위한 정보일 수 있다. AP부와 STB부는 통신 과정에서 도 4에 예시된 메시지 타입 정보가 포함된 패킷을 상호 교환할 수 있다. 예를 들 어 AP부가 STB부에 설정/상태 전달을 요구하기 위해 AP부는 STB부에 'GET_AP_STB_DATA_REQ'의 메시지 타입 정보 가 포함된 메시지를 전달하여 설정/상태 전달을 요청할 수 있다. 이후, STB부는 상기 메시지에 대한 응답으로 'NOTIFY_STB_AP_DATA'의 메시지 타입 정보가 포함된 메시지를 전송할 수 있다. 상기한 메시지 타입 정보들을 통해 본 발명은 AP부와 STB부가 메시지의 내용이 서로 다르더라도 메시지 타입 정 보를 통해 일관된 형태로 쉽게 설정/상태를 요구하거나 결과를 전달하여 통합 단말 장치의 내부 장치간 통신이 보다 최적화될 수 있다. 도 7A 내지 도 7C는 본 발명의 일 실시예에 따른 통합 단말 장치 내 AP부와 STB부가 전송하는 패킷 내 데이터의 요청 변수를 예시하여 설명하기 위한 도면이다. 여기서, UE는 사용자 장치 정보(User Equipment)를 의미할 수 있고, UE 하위 구성으로 AP부와 STB부의 구성을 각각 나타낼 수 있다. 'UE:Model'은 통합 단말 장치의 모델명을 의미할 수 있다. 'UE:Binary\" 는 앞서 도 6을 통해 설명된 메시지 타입 정보에 따라 AP부와 STB부 각각의 바이너리 버전을 나타낼 수 있다. 특히 STB부에서 AP부에 대한 펌웨어 바이너리를 본 요청 변수로 나타낼 수 있다. 'UE:MAC'은 AP부와 STB부 각각의 MAC 주소를 의미할 수 있다. 'UE:MsgId'는 JSON 형태의 패킷에서데이터부의 메시지 구분을 위해 사용되는 ID에 해당할 수 있고, 현재 시간에 기초하여 무작위로 설정될 수 있다. 'UE:Status'는 AP부와 STB부의 현재 상태 정보로서, 각 각의 현재 상태 정보는 도 7A 내지 도 7C에 기재된 내용을 참조하여 예시될 수 있다. 상기 사용자 장치 정보(UE)에 대응되어 AP로 시작되는 값은 AP 정보를 의미할 수 있다. 보다 구체적으로, ‘ AP:FactoryMode'는 AP부가 양산을 위한 Factory Mode로 설정되어 있는지 여부와 양산을 위한 설정 값을 의미할 수 있다. 'AP:SetButton'은 AP부에 적용된 PBC(Push Button Configuration)의 무선자동설정(WPS Wi-Fi Protected Setup) 버튼을 눌러 하위 STB부에 연결하도록 하거나, RST(Reset) 버튼을 눌러서 AP의 설정을 초기화 하기 정보를 포함할 수 있다. 'AP:NetworkType'은 AP부의 NAT(Network Address Translation)를 수행하거나 공 인 IP를 할당하기 위한 브릿지 모드를 구성하는 정보를 포함할 수 있다. 'AP:IPType'은 AP부의 IP 설정을 DHCP (Dynamic Host Configuration Protocol) 또는 고정 IP로 구성하기 위한 정보를 포함할 수 있다. 'AP:IPAddress', 'AP:Subnetmask', 'AP:Gateway', 'AP:PrimaryDNS', 'AP:SecondaryDNS' 값은 AP부의 IP를 설 정할 수 있는 파라미터 값을 의미할 수 있다. ‘AP:WiFi'는 AP부의 Wi-Fi 관련되는 설정을 구성하기 위한 정보 를 포함할 수 있다. 'AP:WiFi:Frequency'는 AP부가 사용하는 주파수(예를 들어, 2.4GHz, 5GHz, 6GHz)를 설정하기 위한 정보를 포함 할 수 있고, 'AP:WiFi:Activation'은 AP부가 사용하는 주파수가 사용을 위해 활성화 할 것인지 비활성화 할 것 인지 설정하기 위한 정보를 포함할 수 있다. 'AP:WiFi:Technology'는 AP부가 사용하는 Wi-Fi의 기술의 설정하기 위한 정보를 포함 할 수 있다. 예를 들어 802.11a, 802.11n, 802.11n, 802.11ac, 802.11ax 등을 개별적 또는통합적으로 적용할 수 있다. 'AP:WiFi:ChannelBand'는 AP부의 Wi-Fi에서 사용하는 채널의 대역폭(예를 들어, 160MHz 등)을 설정하기 위한 정보를 포함할 수 있다. 'AP:WiFi:ChannelMode'는 Wi-Fi에서 사용하는 채널 리스 트를 자동으로 할당할 것인지, 특정 채널을 선택하여 특정 채널만 자동으로 할당할 것인지, 모두 수동으로만 설 정하기 위한 정보를 포함할 수 있다. 'AP:WiFi:Channel'은 AP부가 사용하는 Wi-Fi의 특정 채널을 선택하기 위한 정보를 포함할 수 있다. 'AP:WiFi:TxPower:는 AP부의 WiFi 채널에서 사용하는 파워 값을 설정하기 위한 정보를 포함할 수 있다. 'AP:WiFi:SSIDType'은 AP부에서 사용하는 SSID(무선랜명)을 어느 주파수(예: 2.4GHz, 5GHz, 6GHz)에서 사용할 지 설정하기 위한 정보를 포함할 수 있다. 'AP:WiFi:SSIDActivatio'은 SSID(무선랜명)을 사 용하도록 활성화 또는 비활성화 하여 무선랜명 송출을 결정하기 위한 정보를 포함할 수 있다. 'AP:WiFi:SSID'는 AP부에서 송출되는 SSID(무선랜명)을 의미할 수 있다. 'AP:WiFi:Password'는 AP부에서 송출하는 SSID(무선랜명)에서 사용되는 암호를 의미할 수 있다. 'AP:WiFi:Security'는 AP부에서 사용되는 Wi-Fi의 보안 방식을 의미할 수 있다. 예를 들어 해당 SSID(무선랜 명)에서는 WPA-PSK를 사용한다면 'WPA-PSK'를 나타낼 수 있다. 'AP:WiFi:WPAMode'는 AP부의 Wi-Fi에서 사용되 는 보안방식인 WPA-PSK 중 하나를 선택(예를 들어 WPA3-PSK)를 선택하기 위한 정보를 포함할 수 있다. 'AP:WiFi:EncType'은 WPA-PSK 사용 시, 사용되는 보안 데이터 암호화 방식으로 TKIP 또는 AES 등을 구성할 수 있다. 'AP:WiFi:EasyMesh'는 AP 하위 단말로 중계기 형태인 AP의 Agent를 연결 여부를 결정하기 위한 정보를 포함할 수 있다. 상기한 바와 같이, 통합 단말 장치 내 AP부와 STB부가 전송하는 패킷 내 데이터의 요청 변수를 예시하여 설명하 였지만, 위에 열거된 요청 변수 이외에도 통합 단말 장치의 기능과 성능에 따라 더 많은 요청 변수가 추가되거 나 수정, 제거될 수 있다. 도 8은 본 발명의 일 실시예에 따른 통합 단말 장치 내 AP부와 STB부가 전송하는 요청 메시지 포맷을 예시하여 설명하기 위한 도면이다. 도 8을 참조하면, 요청 메시지를 구성하는 패킷의 헤더부(Head)는 통합 단말 장치의 이름(Name)을 \"S-Box\"로 정 의하고, 0x01 버전을 이용하며, 암호화/복호화를 위해 16자리의 토큰 정보, 2바이트 크기의 데이터 크기가 정의 된 것을 알 수 있다. 반면, 패킷의 데이터부(JSON Data)는 사용자 장치 정보(UE)와 AP 정보(AP)를 포함하는 것을 알 수 있다. 이 중, 사용자 장치 정보(UE)는 \"MK206S\"라는 모델 명에 대한 정보(UE:Model), \"1.0.0\"라는 바이너리 버전에 대한 정보 (UE:Binary), \"AA:BB:CC:DD:EE:FF\"라는 MAC 주소에 대한 정보(UE:MAC)를 포함한다. 또한, 사용자 장치 정보는 AP부가 STB부에 데이터를 겟하기 위한 요청 메시지라는 의미로, \"GET_AP_STB_DATA_REQ\" 라는 메시지 타입 정보(UE:MsgType)와 \"20211112163117_1234567890ABCDEF\"라는 메시지 아이디에 대한 정보(UE:MsgId)를 포함한다. 그리고, AP 정보(AP)는 \"KTMode\" 라는 AP 구동 모드 정보 (AP:NetworkType), \"StaticIP\"라는 소정 IP로 IP를 설정한다는 정보(AP:IPType), \"10.1.1.12\" 라는 IP 주소 (AP:IPAddress), \"255.255.255.0\"라는 서브넷 마스크 주소(AP:Subnetmask), \"10.1.1.1\"라는 게이트웨이 주소 (AP:Gateway)를 포함할 수 있다. 또한, AP부의 Wi-Fi 관련 설정(AP:WiFi)은 주파수 대역이 2G라는 정보(AP:WiFi:Frequency), 2G 주파수 영역이 활성화되지 않았다는 정보(AP:WiFi:activation)를 포함할 수 있다. 또한, AP부의 Wi-Fi 관련 설정(AP:WiFi)은 주파수 대역이 5G라는 정보(AP:WiFi:Frequency), \"a/n/ac/ax\"의 Wi-Fi 기술을 사용한다는 정보 (AP:WiFi:Technology), 채널 대역폭이 80NHz라는 정보(AP:WiFi:ChannelBand\"), 채널 모드가 \"Static\"이라는 정 보(AP:WiFi:ChannelMode), AP부가 사용하는 채널로 36, 48을 설정하는 정보(AP:WiFi:Channel) AP부의 SSID 타 입이 Mesh라는 정보(AP:WiFi:SSIDType), AP부에서 송출되는 SSID 정보(AP:WiFi:SSID), 상기 SSID에서 사용되는 비밀번호가 12345678에 대한 정보(AP:WiFi:Password), AP부에서 사용되는 Wi-Fi의 보안방식이 정해져있지 않다 는 정보(AP:WiFi:Security)를 포함할 수 있다. 도 9A 내지 도 9C는 본 발명의 일 실시예에 따른 통합 단말 장치 내 AP부와 STB부가 전송하는 패킷 내 데이터의 응답 변수를 예시하여 설명하기 위한 도면이다. 도 9A 내지 도 9C의 도면에 표시된 응답변수와 그 설명에 있어 서, 앞서 설명한 도 7A 내지 도 7C에서 설명된 요청변수와 중복되는 구성에 대한 설명은 생략하기로 한다. 응답변수 중 'Code'는 응답 결과 코드에 대한 것으로서, 미리 정해진 조건에 매칭되는 코드가 사용될 수 있다. 'Message'는 응답 메시지의 전송화 같이 디스플레이에 표시되는 텍스트 메시지를 의미할 수 있다. JSON 값 설정 에 실패하는 경우, 관련된 실패 변수가 표시될 수 있다.'UE:Status'는 AP부와 STB부의 현재 상태 정보로서, 각각의 현재 상태 정보는 도 7A 내지 도 7C에 기재된 내용 을 참조하여 예시될 수 있다. 'UE:StatusTime'은 AP부의 설정 대기 시간을 의미할 수 있으며, STB부의 프로그레스바에 표시될 수 있다. 0초 인 경우, 설정 대기 시간 없이 바로 반영되는 것을 의미할 수 있다. 'AP:WiFi:ScanResultRSSI\"는 AP부의 Wi-Fi 신호에 대한 스캔 결과 도출되는 RSSI(Received Signal Strength Indicator) 값을 의미할 수 있다. 도 10은 본 발명의 일 실시예에 따른 통합 단말 장치 내 AP부와 STB부가 전송하는 패킷 내 데이터의 응답 코드 를 예시하여 설명하기 위한 도면이다. 각각의 응답 코드는 AP부나 STB부가 수신된 요청 메시지에 대응하여 미리 설정된 조건에 따라 선택되어 응답 메 시지에 포함될 수 있다. 예를 들어, 요청 메시지가 성공적으로 처리된 경우 응답코드 200, Wi-Fi 설정이 진행되 고 있어 응답할 수 없는 상황이면 401, 토큰 정보 오류가 발생한 경우 응답코드 400이 응답 메시지에 포함될 수 있다. 보다 구체적인 조건 별 응답 코드는 도 10에 기재된 내용을 따를 수 있다. 도 11은 본 발명의 일 실시예에 따른 통합 단말 장치 내 AP부와 STB부가 전송하는 응답 메시지 포맷을 예시하여 설명하기 위한 도면이다. 도 11을 참조하면, 응답 메시지를 구성하는 패킷의 헤더부(Head)는 통합 단말 장치의 이름(Name)을 \"S-Box\"로 정의하고, 0x01 버전을 이용하며, 암호화/복호화를 위해 16자리의 토큰 정보, 2바이트 크기의 데이터 크기가 정 의된 것을 알 수 있다. 반면, 패킷의 데이터부(JSON Data)는 사용자 장치 정보(UE)를 포함하는 것을 알 수 있다. 이 중, 사용자 장치 정보(UE)는 \"MK206S\"라는 모델 명에 대한 정보(UE:Model), \"1.0.0\"라는 바이너리 버전에 대한 정보 (UE:Binary), \"AA:BB:CC:DD:EE:FF\"라는 MAC 주소에 대한 정보(UE:MAC), 또한, 사용자 장치 정보는 STB부가 AP부에 요청에 대응하여 알리기 위한 메시지라는 의미로, \"NOTIFY_STB_AP_DATA\" 라는 메시지 타입 정보(UE:MsgType)와 \"20211112163117_1234567890ABCDEF\"라는 메시지 아이디에 대한 정보(UE:MsgId)를 포함한다. 그리고, 상태 정보가 \"OK\" 상태임을 알리기 위한 정보(UE:Status)와 상태 설정을 위한 대시 시간 이 30초임을 알리는 정보(\"UE:StatusTime\")을 포함할 수 있다. 도 12와 도 13은 본 발명의 일 실시예에 따른 통합 단말 장치 내 AP부와 STB부가 전송하는 요청 메시지에 대해 응답이 없거나 특정의 응답 코드가 발생하는 경우의 대응 플로우 차트를 예시하여 설명하기 위한 순서도이다. 도 12를 참조하면, STB부 또는 AP부가 메시지 타입 정보가 포함된 메시지를 전송하였을 때, 상대 기기로 부터 응답 메시지의 수신을 대기하고 정해진 시간 내에 응답 메시지를 수신하면 성공적인 통신이 이루어 진 것으로 볼 수 있다. 하지만 상대 기기로부터 어떠한 응답도 없는 경우, AP 부나 STB부는 앞서 1210 단 계에서 전송한 메시지를 재전송한 적이 있는지를 확인하고, 재전송 횟수(RETRY #)가 2 미만이라면 1210 단계에 서 전송한 메시지를 다시 한번 상대 기기에 전송하고 재전송 횟수를 1 증가시킬 수 있다. 반면, 이미 재 전송이 2번 이루어져 재전송 횟수가 2이상이라면 메시지 전송이 실패한 것으로 보아 재전송을 종료할 수 있다. 도 13을 참조하면, STB부 또는 AP부가 메시지 타입 정보가 포함된 메시지를 전송하였을 때, 상대 기기로 부터 응답 코드 200과 같이 요청 메시지에 대해 정상적으로 처리가 된 응답 메시지를 수신하면 성공적인 통신이 이루어진 것으로 볼 수 있다. 하지만 상대 기기로부터 400번재 응답 코드가 포함된 응답 메시지를 수신하는 경우, AP 부나 STB부는 앞서 1310 단계에서 전송한 메시지를 재전송한 적이 있는지를 확인하고, 재전 송 횟수(RETRY #)가 2 미만이라면 1310 단계에서 전송한 메시지를 다시 한번 상대 기기에 전송하고 재전송 횟수 를 1 증가시킬 수 있다. 반면, 이미 재전송이 2번 이루어져 재전송 횟수가 2이상이라면 메시지 전송이 실 패한 것으로 보아 재전송을 종료할 수 있다. 통합 단말 장치는 AP부가 STB부에 대해 메시지를 전송하거나 STB부가 AP부에 대해 메시지를 전송하였을 때, 응 답이 없거나 소정의 응답 코드가 발생한 경우 메시지를 재전송하도록 제어하여, 일시적인 오류로 인한 메시지 전송 실패 현상을 완화시킬 수 있다. 도 14 내지 도 16은 본 발명의 일 실시예에 따른 통합 단말 장치 내 STB부를 통해 표시되는 AP부의 제어 인터페 이스를 예시하여 나타낸 도면이다. 도 14 내지 도 16은 STB부를 통해 AP부의 설정을 제어하는 사용자 인터페이스 화면을 예시한 것이다. 도 14 내 지 도 16의 예시는 STB부를 통해 TV를 시청하는 사용자가 필요에 따라 직접 AP부를 제어하는 경우를 예시할 수 있다. 본 발명의 실시예에 따른 통합 단말 장치는 STB부에서 AP부의 설정을 변경할 수 있으므로, 별도의 기기를 통해 AP 제어를 수행할 필요 없이 시청하던 TV를 통해 AP를 제어할 수 있게 된다. 보다 상세하게, 도 14는 STB부를 통한 AP부의 설정 인터페이스 중 Wi-Fi 설정화면을 예시한 것으로 볼 수 있다. 도 14의 화면에서, 사용자는 AP부의 Wi-Fi 주파수 대역을 5GHz또는 2.4GHz로 각각 선택할 수 있고, 5GHz와 2.4GHz를 개별 선택하는 경우, 무선랜명(SSID), 비밀번호를 변경할 수 있다. 도 14에서 무선랜명(SSID)는 802.11 표준에 따라 최대 32byte로 구성할 수 있다. 또한, 한글 지원을 위하여 무 선랜명은 UTF-8로 입력이 가능하도록 구성될 수 있다. 한글 입력시, UTF-8 인코딩은 3byte로 구성되어 있음으로 최대 10자까지 입력이 가능하게 구성될 수 있다. 무선랜명(SSID)은 무선랜명이 보이지 않도록 무선랜명 숨기기 (Hidden SSID) 기능과 해당 기능을 선택하기 위한 체크박스를 제공할 수 있다. 암호키는 소정의 Wi-Fi 기준에 따라, 10자 ~ 64자 입력이 가능하여야 하며, 암호키는 초기에 마스킹되어 나타날 수 있다. 반면, 사용자가 암호 키를 직접 보며 암호키를 입력할 수 있도록 마스킹을 제거하는 기능이 제공될 수 있다. 암호키는 영어, 숫자, 특수문자 중 2대 이상을 사용해서 입력할 수 있다. 무선랜명(SSID) 및 암호키는 입력 완료 시, 유효성 검사를 실행되어 정상적인 경우 변경 사항을 나타내며, 유효성 검사 시 오류가 발생되면 오류 사유와 함께 알림 팝업이 표시될 수 있다. Wi-Fi 설정 화면은 QR 코드를 제공하며, 스마트폰 등을 이용해 QR 코드 접근시 스마트폰으로도 AP부의 설정을 변경하는 기능이 제공될 수 있다. 도 15는 STB부를 통한 AP부의 설정 인터페이스 중 Wi-Fi 설정화면을 다르게 예시한 것으로 볼 수 있다. 도 15의 화면에서, 사용자는 AP 부의 고급 설정 과정에서 보안 방식과 암호화 방식을 설정할 수 있다. 도15에서 AP부의 보안 방식을 설정하는 메뉴에서 제공되는 선택 사항은 없음, WPA, WPA2, WPA3, WPA/WPA2, WPA2/WPA3가 제시될 수 있고, 통합 단말 장치의 경우 초기값으로 WPA/WPA3로 설정될 수 있다. 그리고 암호화 방 식을 위한 메뉴에서 지원되는 기능은 TKIP, AES, TKIP/AES가 예시될 수 있고, 통합 단말 장치의 초기값은 AES로 설정될 수 있다. 여기서 보안 방식으로 WPA3 또는 WPA2/WPA3 선택되면, AES만 활성화되어야 하며, TKIP 또는 TKIP/AES는 선택할 수 없도록 설정될 수 있다. 도 16은 STB부를 통한 AP부의 설정 인터페이스 중 Wi-Fi 설정화면을 또 다르게 예시한 것으로 볼 수 있다. 도 16의 화면에서 사용자는 AP부의 고급 설정 과정에서 채널 모드, 채널 대역폭, 채널 선택을 설정할 수 있다. 도 16에서 채널 모드는 자동, 자동(선택), 수동 중 어느 하나를 선택하도록 구성될 수 있으며, 채널 대역폭이 2.4GHz와 5GHz인 경우 제시될 수 있는 채널 설정 값은 이하 도 17A와 도 17B를 참고하여 설명하기로 한다. 도 17A와 도 17B는 본 발명의 일 실시예에 따른 통합 단말 장치 내 STB부를 통해 AP부를 제어할 때, 주파수 대 역이나 채널 모드에 따라 설정할 수 있는 채널 값을 예시하여 설명하기 위한 도면이다. 보다 상세하게, 도 17A는 상기 도 16의 AP부 설정 인터페이스 화면에서 AP부가 2.4GHz의 대역폭을 이용하는 경 우, 선택한 채널 모드와 채널 대역폭에 따라 선택할 수 있는 채널의 종류를 예시하기 위한 도면이다. 그리고 도 17B는 상기 도 16의 AP부 설정 인터페이스 화면에서 AP부가 5GHz의 대역폭을 이용하는 경우, 선택한 채널 모드 와 채널 대역폭에 따라 선택할 수 있는 채널의 종류를 예시하기 위한 도면이다. 도 18은 본 발명의 일 실시예에 따른 통합 단말 장치의 제어 방법의 순서도이다. 도 18을 참조하면, 통합 단말 장치의 제어 방법은 AP부가 STB부에 IP를 할당하는 단계(S110), AP부 또는 STB부 가 요청 메시지를 전송하는 단계(S121) 및 요청 메시지를 수신한 AP부 또는 STB부가 응답 메시지를 전송하는 단 계(S122)를 포함할 수 있다. 방법은 AP부가 STB부에 IP를 할당하는 단계(S110)는 AP부가 DHCP(Dynamic Host Configuration Protocol)를 통 해 STB부와 홈 네트워크 통신을 개시하고 상기 STB부의 IP(Internet Protocol) 주소를 할당하는 단계를 의미할 수 있다. AP부 또는 STB부가 요청 메시지를 전송하는 단계(S121) 및 요청 메시지를 수신한 AP부 또는 STB부가 응답 메시 지를 전송하는 단계(S122)는 AP부와 STB부가 IPC(Inter Process Communication)를 통해 서로 패킷을 송수신하 는 단계(S120)에 포함될 수 있다. 그리고, 본 발명의 실시예에 따른 통합 단말 장치의 제어 방법은 STB부가 상기 AP부의 IP 주소를 통해 ARP(Address Resolution Protocol) 요청을 전송하는 단계를 더 포함할 수 있다.그리고, 본 발명의 실시예에 따른 통합 단말 장치의 제어 방법에서 외부로부터 입력되는 음성을 인식하고, 처리 결과를 스피커를 통해 출력하는 AI 스피커부를 더 포함하고, 상기 STB부는 상기 AI 스피커부와 연결되며, AI CPU를 통해 입력되는 사용자 명령에 기초하여 상기 AP부를 제어할 수 있다. 그리고, 본 발명의 실시예에 따른 통합 단말 장치의 제어 방법에서 AP부와 STB부 간 전송되는 패킷은 JSON(JavaScript Object Notation) 형태의 패킷이며, JSON 형태의 패킷은 상기 통합 단말 장치의 이름에 대한 정보, 상기 통합 단말이 구성되는 프로토콜의 버전에 대한 정보, 상기 AP부와 상기 STB부 간의 통신 간 데이터 암호화를 위한 토큰 정보 중 적어도 하나 이상을 포함하는 헤더부를 포함할 수 있고, 여기서 토큰 정보는 무작위로 생성되고, 상기 패킷의 전송측과 수신측에 전달되는 대칭키와 같이 연산되어 상기 데이터 암호화에 사용될 수 있다. 또한, 상기 JSON 형태의 패킷은 상기 헤더 데이터와 같이 전송되는 데이터부를 더 포함하고, 상기 데이터부는 사용자 장치의 정보를 불러오거나 제어하기 위한 요청 변수를 포함하는 사용자 장치 정보 및 상기 AP부의 정보 를 불러오거나 제어하기 위한 요청 변수를 포함하는 AP 정보 중 적어도 하나 이상을 포함하고, 상기 사용자 장 치 정보는 상기 AP 부 및 상기 STB부를 포함하는 상기 통합 단말 장치를 제어하기 위한 정보일 수 있다. 그리고 사용자 장치 정보는 상기 패킷에 포함되며 메시지의 타입을 정의하기 위한 메시지 타입 정보를 포함하며, 상기 메시지 타입 정보는 상기 AP부가 상기 STB부에 대해 데이터를 겟(get)하기 위한 요청, 상기 AP 부가 상기 STB부에 대해 데이터를 셋(set)하기 위한 요청, 상기 STB부의 요청에 대응하는 상기 AP부의 응답에 대한 타입과 상기 STB부가 상기 AP부에 대해 데이터를 겟(get)하기 위한 요청, 상기 STB부가 상기 AP부에 대해 데이터를 셋(set)하기 위한 요청, 상기 AP부의 요청에 대응하는 상기 STB부의 응답에 대한 타입 중 적어도 하나 이상을 정의하기 위한 정보일 수 있다. 여기서 데이터부는 상기 AP부와 상기 STB부 간의 데이터 전송이 성공하거나 실패한 경우를 분류하기 위한 응답 코드 정보를 더 포함하고, 상기 통합 단말 장치는 데이터 전송의 실패에 대응하는 응답 코드 정보에 해당하는 상황에 대해서 재전송 동작을 수행하는 단계를 더 포함할 수 있다. 상기한 통합 단말 장치의 제어 방법은 컴퓨터에 의해 실행되는 컴퓨터 판독가능 기록매체에 저장된 컴퓨터 프로 그램 또는 컴퓨터에 의해 실행 가능한 명령어들을 포함하는 기록 매체의 형태로도 구현될 수 있다. 또한, 상기 한 통합 단말 장치의 제어 방법은 컴퓨터에 의해 실행되는 컴퓨터 판독가능 기록매체에 저장된 컴퓨터 프로그램 의 형태로도 구현될 수 있다. 컴퓨터 판독 가능 기록매체는 컴퓨터에 의해 액세스될 수 있는 임의의 가용 매체일 수 있고, 휘발성 및 비휘발 성 매체, 분리형 및 비분리형 매체를 모두 포함한다. 또한, 컴퓨터 판독가능 기록매체는 컴퓨터 저장 매체를 포 함할 수 있다. 컴퓨터 저장 매체는 컴퓨터 판독가능 명령어, 데이터 구조, 프로그램 모듈 또는 기타 데이터와 같은 정보의 저장을 위한 임의의 방법 또는 기술로 구현된 휘발성 및 비휘발성, 분리형 및 비분리형 매체를 모 두 포함한다."}
{"patent_id": "10-2023-0054397", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "전술한 본 발명의 설명은 예시를 위한 것이며, 본 발명이 속하는 기술분야의 통상의 지식을 가진 자는 본 발명 의 기술적 사상이나 필수적인 특징을 변경하지 않고서 다른 구체적인 형태로 쉽게 변형이 가능하다는 것을 이해 할 수 있을 것이다. 그러므로 이상에서 기술한 실시예들은 모든 면에서 예시적인 것이며 한정적이 아닌 것으로 이해해야만 한다. 예를 들어, 단일형으로 설명되어 있는 각 구성 요소는 분산되어 실시될 수도 있으며, 마찬가 지로 분산된 것으로 설명되어 있는 구성 요소들도 결합된 형태로 실시될 수 있다. 본 발명의 범위는 상기 상세한 설명보다는 후술하는 특허청구범위에 의하여 나타내어지며, 특허청구범위의 의미 및 범위 그리고 그 균등 개념으로부터 도출되는 모든 변경 또는 변형된 형태가 본 발명의 범위에 포함되는 것으 로 해석되어야 한다."}
{"patent_id": "10-2023-0054397", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 통합 단말 장치의 구성도이다. 도 2는 본 발명의 일 실시예에 따른 통합 단말 장치 내 DHCP에 따라 IP를 할당하는 과정을 예시하여 설명하기 위한 도면이다. 도 3은 본 발명의 일 실시예에 따른 통합 단말 장치 내 AP부와 STB부가 IPC를 통해 연동되는 것을 예시하여 설 명하기 위한 도면이다. 도 4는 본 발명의 일 실시예에 따른 통합 단말 장치 내 AP부와 STB부가 암호화된 데이터를 전송하고 복호화하는 과정을 예시하여 설명하기 위한 도면이다. 도 5는 본 발명의 일 실시예에 따른 통합 단말 장치 내 AP부와 STB부가 전송하는 패킷의 구성을 예시하여 설명 하기 위한 도면이다. 도 6은 본 발명의 일 실시예에 따른 통합 단말 장치 내 AP부와 STB부가 전송하는 패킷 내 데이터의 메시지 타입 정보를 예시하여 설명하기 위한 도면이다. 도 7A 내지 도 7C는 본 발명의 일 실시예에 따른 통합 단말 장치 내 AP부와 STB부가 전송하는 패킷 내 데이터의 요청 변수를 예시하여 설명하기 위한 도면이다. 도 8은 본 발명의 일 실시예에 따른 통합 단말 장치 내 AP부와 STB부가 전송하는 요청 메시지 포맷을 예시하여 설명하기 위한 도면이다. 도 9A 내지 도 9C는 본 발명의 일 실시예에 따른 통합 단말 장치 내 AP부와 STB부가 전송하는 패킷 내 데이터의 응답 변수를 예시하여 설명하기 위한 도면이다. 도 10은 본 발명의 일 실시예에 따른 통합 단말 장치 내 AP부와 STB부가 전송하는 패킷 내 데이터의 응답 코드 를 예시하여 설명하기 위한 도면이다. 도 11은 본 발명의 일 실시예에 따른 통합 단말 장치 내 AP부와 STB부가 전송하는 응답 메시지 포맷을 예시하여 설명하기 위한 도면이다. 도 12와 도 13은 본 발명의 일 실시예에 따른 통합 단말 장치 내 AP부와 STB부가 전송하는 요청 메시지에 대해 응답이 없거나 특정의 응답 코드가 발생하는 경우의 대응 플로우 차트를 예시하여 설명하기 위한 순서도이다. 도 14 내지 도 16은 본 발명의 일 실시예에 따른 통합 단말 장치 내 STB부를 통해 표시되는 AP부의 제어 인터페 이스를 예시하여 나타낸 도면이다. 도 17A와 도 17B는 본 발명의 일 실시예에 따른 통합 단말 장치 내 STB부를 통해 AP부를 제어할 때, 주파수 대 역이나 채널 모드에 따라 설정할 수 있는 채널 값을 예시하여 설명하기 위한 도면이다. 도 18은 본 발명의 일 실시예에 따른 통합 단말 장치의 제어 방법의 순서도이다."}
