{"patent_id": "10-2022-0034063", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0136391", "출원번호": "10-2022-0034063", "발명의 명칭": "전자 처방전 관리 시스템 및 서버", "출원인": "온라인팜 주식회사", "발명자": "이상국"}}
{"patent_id": "10-2022-0034063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "환자에 대한 처방전 데이터를 발행하는 병원 단말;상기 병원 단말로부터 수신된 상기 처방전 데이터를 기초로 약국 제출용 전자 처방전을 생성하여 저장하는 전자처방전 생성모듈, 및 상기 약국 제출용 전자 처방전에 접근 가능한 식별정보를 포함하는 암호화 식별 코드를 생성하는 암호화 식별 코드 생성 모듈을 포함하는 전자 처방전 관리 서버;상기 처방전 관리 서버로부터 상기 암호화 식별 코드를 수신하는 환자 단말; 및상기 환자 단말에 표시된 상기 암호화 식별 코드를 스캔하고, 상기 암호화 식별 코드의 스캔 신호를 상기 전자처방전 관리 서버로 전송한 뒤, 상기 환자에 대한 본인 인증이 성공한 경우, 상기 전자 처방전 관리 서버로부터상기 약국 제출용 전자 처방전을 수신하며, 조제 정보를 생성하여 상기 처방전 관리 서버로 전송하는 약국 단말을 포함하고,상기 전자 처방전 관리 서버는,상기 약국 단말로부터 수신된 상기 조제정보와 상기 약국 제출용 전자 처방전이 매핑되어 약국 보관용 전자 처방전으로서 저장되는 데이터베이스를 포함하는 것을 특징으로 하는 전자 처방전 관리 시스템."}
{"patent_id": "10-2022-0034063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서,상기 조제 정보는,약국 정보, 약사 정보, 상기 약국 제출용 전자 처방전에 기초하여 실제로 조제한 약품의 종류, 약품의 양 및 특이 사항 정보를 포함하는 것을 특징으로 하는 전자 처방전 관리 시스템."}
{"patent_id": "10-2022-0034063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1 항에 있어서,상기 전자 처방전 관리 서버는,상기 약국 단말로부터 상기 암호화 식별 코드의 스캔 신호와 함께 약국 인증 정보를 수신하면, 상기 약국 인증정보에 기초하여 상기 약국 단말에 대한 인증 과정을 실행하는 약국 단말 인증 모듈을 더 포함하는 것을 특징으로 하는 전자 처방전 관리 시스템."}
{"patent_id": "10-2022-0034063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 1 항에 있어서,상기 전자 처방전 관리 서버는,상기 약국 단말로부터 상기 암호화 식별 코드의 스캔 신호를 수신하면, 일회용 비밀번호를 생성하여 상기 환자단말로 전송하고, 상기 약국 단말을 통해 입력된 입력 정보가 상기 일회용 비밀번호와 일치하는지 여부에 따라상기 환자 단말에 대한 인증을 수행하는 환자 단말 인증 모듈을 더 포함하는 것을 특징으로 하는 전자 처방전관리 시스템."}
{"patent_id": "10-2022-0034063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 4 항에 있어서,상기 일회용 비밀번호는,시간에 따라 변동되는 숫자정보, 문자정보, 이미지정보, 색상 정보 중 적어도 하나를 포함하는 것을 특징으로공개특허 10-2023-0136391-3-하는 전자 처방전 관리 시스템."}
{"patent_id": "10-2022-0034063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 4 항에 있어서,상기 전자 처방전 관리 서버는,상기 암호화 식별 코드마다 워터마크를 생성하여 상기 암호화 식별 코드에 포함시키는 워터마크 생성 모듈을 더포함하고,상기 워터마크는 상기 환자 단말에 의한 스크린 캡쳐에 의해서 캡쳐 불가능한 것을 특징으로 하는 전자 처방전관리 시스템."}
{"patent_id": "10-2022-0034063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제 6 항에 있어서,상기 환자 단말 인증 모듈은,상기 워터마크 생성 모듈에서 생성된 워터마크와 상기 약국 단말로부터 수신된 워터마크가 일치하는지 비교함으로써, 비교 결과에 기초하여 상기 환자 단말에 의해 스캔된 암호화 식별 코드를 인증하는 것을 특징으로 하는전자 처방전 관리 시스템."}
{"patent_id": "10-2022-0034063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "병원 단말로부터 수신된 처방전 데이터를 기초로 약국 제출용 전자 처방전을 생성하여 데이터베이스에 저장하는약국 제출용 전자 처방전 생성모듈;상기 약국 제출용 전자 처방전에 접근 가능한 식별정보를 포함하는 암호화 식별 코드를 생성하여 환자 단말로전송하는 암호화 식별 코드 생성모듈; 약국 단말로부터 상기 암호화 식별 코드의 스캔 신호를 수신하고, 상기 암호화 식별 코드에 포함된 식별정보에기초하여 상기 약국 제출용 전자 처방전을 상기 데이터베이스로부터 검출하는 전자 처방전 검출 모듈; 및상기 검출된 약국 제출용 전자 처방전을 상기 약국 단말로 전송하고, 상기 약국 단말로부터 수신된 조제정보와상기 약국 제출용 전자 처방전을 매핑하여 상기 데이터베이스에 저장하는 전자 처방전 처리 모듈;을 포함하는것을 특징으로 하는 전자 처방전 관리 서버."}
{"patent_id": "10-2022-0034063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 8 항에 있어서,상기 약국 단말로부터 상기 암호화 식별 코드의 스캔 신호를 수신하면, 일회용 비밀번호를 생성하여 상기 환자단말로 전송하고, 상기 약국 단말을 통해 입력된 입력 정보가 상기 일회용 비밀번호와 일치하는지 여부에 따라상기 환자 단말을 인증을 수행하는 환자 단말 인증 모듈을 더 포함하는 것을 특징으로 하는 전자 처방전 관리서버."}
{"patent_id": "10-2022-0034063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제 8 항에 있어서,상기 환자 단말 인증 모듈은,상기 암호화 식별 코드마다 워터마크를 생성하여 상기 암호화 식별 코드에 포함시키는 워터마크 생성 모듈을 더포함하고,상기 워터마크는 상기 환자용 단말에 의한 스크린 캡쳐에 의해서 캡쳐 불가능한 것을 특징으로 하는 전자 처방전 관리 서버."}
{"patent_id": "10-2022-0034063", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 지류 처방전을 대체하는 전자 처방전을 운용함으로써, 병원, 약국 및 환자 모두에게 편리하면서도 보 안 유지를 가능하게 하는 전자 처방전 관리 시스템, 장치 및 방법에 관한 것이다."}
{"patent_id": "10-2022-0034063", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 전자 처방전 관리 시스템 및 서버에 관한 것이다."}
{"patent_id": "10-2022-0034063", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "병원에서 발급하여 약국이 보관하는 처방전은 아직까지도 도 3에 도시된 바와 같은 지류를 기반으로 하고 있다. 병원에서 의사가 발행한 처방전을 약국으로 전달, 이를 건강의료보험공단으로 자료를 전송할 수 있는 몇 가지 형태의 시스템이 실시되고 있는데, 그 예로, 병원 측에서 환자가 원하는 약국을 선택하면 병원 측에 설치된 처 방전 중계 프로그램이 환자의 처방전을 원하는 약국으로 전송해주는 방식, 환자가 미리 약국을 선택하지 않고 약국을 방문했을 때 약국 측에서 환자의 정보를 활용하여 해당 병원의 서버에 직접 접속하여 처방전을 인출해 오는 방식, 환자가 병원으로부터 발급 받은 처방전을 약국의 스캐너를 통해 입력하는 방식과 병원에서 종이 처 방전을 발행하고 약국에서는 환자가 가져온 처방전을 보고 그대로 입력하는 방식이 있다. 종이 처방전의 경우 보통 병원에서 환자 전달용과 약국 보관용 2개로 나눠 출력한다. 그러나, 중소병원이나 의 원에서는 비용 상의 문제로 인하여 처방전을 약국용으로 1부만 발행하고, 환자용을 발급하지 않는 병원도 많다. 또한, 국내에서 연간 약 2억5천만건이상의 버려지는 종이 처방전에 투입되는 비용만 약 100억원에 달하고 있다. 아울러, 약사법에 따라 약국은 최소 2~3년간 종이처방전을 보관해야 하고, 보관기간이 지나면 이를 폐기하지만, 종이 처방전 보관 과정에서 개인정보의 유출이나 처방전 위조 사례와 같은 문제도 종종 발생한다. 게다가, 약국은 처방전, 조제기록부, 불량의약품 처리 기록 등 보관해야 될 서류들이 많고, 약사법이나 국민건 강보험법 등 서류마다 근거 법령이 상이하며, 보존기간도 각각 다르기 때문에 서류 관리가 힘든 일이다. 실제로, 전자서명이 공인된 일부 서류들에 한하여 전자문서로 보관하고 있지만 여전히 처방전 등 대부분의 서류 들은 종이로 보관하고 있기 때문에 보관비용과 보관장소, 폐기비용 및 절차 등이 관리자나 관련자들에게 많은 불편함을 주고 있다."}
{"patent_id": "10-2022-0034063", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "따라서, 본 발명은 상술한 바와 같은 문제점을 해결하기 위하여 제안된 것으로, 지류 처방전을 대체하는 전자 처방전을 운용함으로써, 병원, 약국 및 환자 모두에게 편리하면서도 보안 유지를 가능하게 하는 전자 처방전 관 리 시스템, 장치 및 방법을 제공할 수 있다. 다만, 본 발명이 해결하고자 하는 과제는 이상에서 언급한 것으로 제한되지 않으며, 언급되지 않은 또 다른 해 결하고자 하는 과제는 아래의 기재로부터 본 발명이 속하는 통상의 지식을 가진 자에게 명확하게 이해될 수 있 을 것이다."}
{"patent_id": "10-2022-0034063", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 일 실시예에 따른 전자 처방전 관리 시스템은 환자에 대한 처방전 데이터를 발행하는 병원 단말; 상 기 병원 단말로부터 수신된 상기 처방전 데이터를 기초로 약국 제출용 전자 처방전을 생성하여 저장하는 전자 처방전 생성모듈, 및 상기 약국 제출용 전자 처방전에 접근 가능한 식별정보를 포함하는 암호화 식별 코드를 생 성하는 암호화 식별 코드 생성 모듈을 포함하는 전자 처방전 관리 서버; 상기 처방전 관리 서버로부터 상기 암 호화 식별 코드를 수신하는 환자 단말; 및 상기 환자 단말에 표시된 상기 암호화 식별 코드를 스캔하고, 상기 암호화 식별 코드의 스캔 신호를 상기 전자 처방전 관리 서버로 전송한 뒤, 상기 환자에 대한 본인 인증이 성공 한 경우, 상기 관리 서버로부터 상기 약국 제출용 전자 처방전을 수신하며, 조제 정보를 생성하여 상기 처방전 관리 서버로 전송하는 약국 단말을 포함하고, 상기 전자 처방전 관리 서버는, 상기 약국 단말로부터 수신된 상기 조제정보를 상기 약국 제출용 전자 처방전에 매핑하여 약국 보관용 전자 처 방전으로 저장하는 데이터베이스를 포함한다. 또한, 상기 조제 정보는, 약국 정보, 약사 정보, 약국 제출용 전자 처방전에 기초하여 실제로 조제한 약품의 종 류, 약품의 양 및 특이 사항 정보를 포함한다. 또한, 상기 전자 처방전 관리 서버는, 상기 약국 단말로부터 상기 암호화 식별 코드의 스캔 신호와 함께 약국 인증 정보를 수신하면, 상기 약국 인증 정보에 기초하여 상기 약국 단말에 대한 인증 과정을 실행하는 약국 단 말 인증 모듈을 더 포함한다. 또한, 상기 전자 처방전 관리 서버는, 상기 약국 단말로부터 상기 암호화 식별 코드의 스캔 신호를 수신하면, 일회용 비밀번호를 생성하여 상기 환자 단말로 전송하고, 상기 약국 단말을 통해 입력된 입력 정보가 상기 일회 용 비밀번호와 일치하는지 여부에 따라 상기 환자 단말을 인증을 수행하는 환자 단말 인증 모듈을 더 포함한다. 또한, 상기 일회용 비밀번호는, 시간에 따라 변동되는 숫자정보, 문자정보, 이미지정보, 색상 정보 중 적어도 하나를 포함한다. 또한, 상기 전자 처방전 관리 서버는, 상기 암호화 식별 코드마다 워터마크를 생성하여 상기 암호화 식별 코드 에 포함시키는 워터마크 생성 모듈을 더 포함하고, 상기 워터마크는 상기 환자용 단말에 의한 스크린 캡쳐에 의 해서 캡쳐 불가능하다. 또한, 상기 환자 단말 인증 모듈은, 상기 워터마크 생성 모듈에서 생성된 워터마크와 상기 약국 단말로부터 수 신된 워터마크가 일치하는지 비교함으로써, 비교 결과에 기초하여 상기 환자 단말에 의해 스캔된 암호화 식별 코드의 인증을 수행한다. 본 발명의 다른 실시예에 따른 전자 처방전 관리 서버는 병원 단말로부터 수신된 처방전 데이터를 기초로 약국 제출용 전자 처방전을 생성하여 데이터베이스에 저장하는 약국 제출용 전자 처방전 생성모듈; 상기 약국 제출용 전자 처방전에 접근 가능한 식별정보를 포함하는 암호화 식별 코드를 생성하여 환자 단말로 전송하는 암호화 식 별 코드 생성모듈; 약국 단말로부터 상기 암호화 식별 코드의 스캔 신호를 수신하고, 상기 암호화 식별 코드에 포함된 식별정보에 기초하여 상기 약국 제출용 전자 처방전을 상기 데이터베이스로부터 검출하는 전자 처방전 검출 모듈; 상기 검출된 약국 제출용 전자 처방전을 상기 약국 단말로 전송하고, 상기 약국 단말로부터 조제 정 보를 수신하여 상기 데이터베이스에 저장하는 전자 처방전 처리 모듈;을 포함한다. 또한, 상기 약국 단말로부터 상기 암호화 식별 코드의 스캔 신호를 수신하면, 일회용 비밀번호를 생성하여 상기 환자 단말로 전송하고, 상기 약국 단말을 통해 입력된 입력 정보가 상기 일회용 비밀번호와 일치하는지 여부에 따라 상기 환자 단말을 인증을 수행하는 환자 단말 인증 모듈을 더 포함한다. 또한, 상기 환자 단말 인증 모듈은, 상기 암호화 식별 코드마다 워터마크를 생성하여 상기 암호화 식별 코드에 포함시키는 워터마크 생성 모듈을 더 포함하고, 상기 워터마크는 상기 환자용 단말에 의한 스크린 캡쳐에 의해 서 캡쳐 불가능하다."}
{"patent_id": "10-2022-0034063", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "일 실시예에 따른 전자 처방전 관리 시스템 및 장치에 의하면, 지류 처방전을 대체하는 전자 처방전을 운용함으 로써, 병원 입장에서는 자원을 절약할 수 있고, 보관의 용이성을 확보할 수 있고, 약국 입장에서는 자원의 절약, 보관의 용이성 및 업무의 효율성을 확보할 수 있으며, 환자 입장에서는 보안 유지 및 이용의 편리성을 누 릴 수 있는 전자 처방전 관리 시스템, 장치 및 방법을 제공할 수 있다."}
{"patent_id": "10-2022-0034063", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명의 이점 및 특징, 그리고 그것들을 달성하는 방법은 첨부되는 도면과 함께 상세하게 후술되어 있는 실시 예들을 참조하면 명확해질 것이다. 그러나 본 발명은 이하에서 개시되는 실시예들에 한정되는 것이 아니라 서로"}
{"patent_id": "10-2022-0034063", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "다른 다양한 형태로 구현될 수 있으며, 단지 일 실시예들은 본 발명의 개시가 완전하도록 하고, 본 발명이 속하는 기술분야에서 통상의 지식을 가진 자에게 발명의 범주를 완전하게 알려주기 위해 제공되는 것이며, 본 발명 은 청구항의 범주에 의해 정의될 뿐이다. 본 발명의 실시예들을 설명함에 있어서 공지 기능 또는 구성에 대한 구체적인 설명이 본 발명의 요지를 불필요 하게 흐릴 수 있다고 판단되는 경우에는 그 상세한 설명을 생략할 것이다. 그리고 후술되는 용어들은 본 발명의 실시예에서의 기능을 고려하여 정의된 용어들로서 이는 사용자, 운용자의 의도 또는 관례 등에 따라 달라질 수 있다. 그러므로 그 정의는 본 명세서 전반에 걸친 내용을 토대로 내려져야 할 것이다. 도 1은 본 발명의 일 실시예에 따른 전자 처방전 관리 시스템의 구성을 개략적으로 도시한 블록도이다. 도 1을 참조하면, 본 발명의 일 실시예에 따른 전자 처방전 관리 시스템은 병원 단말, 전자 처방전 관 리 서버, 환자 단말 및 약국 단말을 포함한다. 병원 단말은 병원에서 의료진이 환자를 진료한 후, 진료 내용에 따라 의료진이 환자에게 의약 처방을 위해 입력하는 정보를 기반으로 처방전 데이터를 발행할 수 있다. 병원 단말은 일 실시예로, 의료진이 소유한 단말, 병원에 구비된 단말, 및 의료 서비스가 제공되는 공간마 다 구비되는 브릿지 장치 중 적어도 하나일 수 있다. 병원 단말은 예를 들어, 스마트폰(smartphone) 등 이동 통신 단말기, 개인용 컴퓨터(personal computer), 노트북(notebook) 컴퓨터, PDA(personal digital assistant), 태블릿(tablet) 컴퓨터, IPTV(Internet Protocol Television) 등을 위한 셋톱박스(set-top box), 인공지능(Artificial Intelligence) 스피커, 또는 네트워크 서 버 등 임의의 컴퓨팅 장치 중 적어도 하나일 수 있다. 여기서, 브릿지 장치는 의료 서비스가 제공되는 공간마다 구비되는 예를 들어, 병원의 수술실, 진찰실, 응급실, 방사선 치료실, 주사실, 진단실 및 입원실 등마다 의료진과 환자가 함께 주시 가능한 영역에 구비되는 장치일 수 있으며, 휠체어, 링겔 거치대, 이동식 파티션이나 침상에도 구비될 수 있다. 처방전 관리 서버는 병원 단말, 환자 단말 및 약국 단말 상에서 실행되는 애플리케이션(또 는 앱)의 동작을 가능하게 하는 애플리케이션 서버이거나, 웹 브라우저(web browser)에 의하여 접근 가능한 웹 페이지(web page)를 제공하는 웹 서버(web server)일 수도 있다. 처방전 관리 서버는 병원 단말로부터 수신된 처방전 데이터를 기초로 약국 제출용 전자 처방전을 생 성하고, 지류 처방전을 지급하는 대신 환자에게 전자 처방전을 이용할 수 있는 디지털 데이터를 발송하기 위해 환자 단말로 전달할 암호화 식별 코드를 생성할 수 있다. 처방전 관리 서버는 일 예로 공인전자문서보관소와 연계되는 구성일 수 있다. 여기서, 공인전자문서보관소 란 전자문서를 안전하게 보관하고, 전자문서의 내용 및 송수신 여부 등을 증명해줄 수 있는 신뢰할 수 있는 제3 의 기관(Trusted Third Party, TTP)을 의미한다. 여기서 전자문서란 전자적 형태로 작성, 송신, 수신 또는 저장 된 정보를 의미하는 바, 본 발명의 일 실시예에 따른 전자 처방전을 포함한다. 그리고 증명서는 공인전자문서보 관소가 수행한 전자문서 등록, 발급, 이관, 폐기 서비스를 증명하기 위해 발급한 보증서를 포함한다. 처방전 관 리 서버의 주요 구성은 도 2를 참조하여 후술하기로 한다. 환자 단말을 소지한 환자가 약국에 방문하여 약국에 구비된 약국 단말을 통해 환자 단말에 표시 된 암호화 식별 코드를 스캔할 수 있다. 이에, 약국 단말은 암호화 식별 코드의 스캔 신호를 전자 처방전 관리 서버로 전송함에 따라 전자 처 방전 관리 서버로부터 약국 제출용 전자 처방전을 수신할 수 있다. 그리고, 약국 단말은 약국 제출용 전자 처방전을 기초로 실제 의약품을 조제하여 환자에게 제공한 조제 정보를 생성할 수 있다. 또는, 약국 단말 은 조제 정보와 약국 정보, 약사 정보 및 기타 정보를 포함하여 약국 제출용 전자 처방전에 상응하는 약국 보관용 전자 처방전을 생성할 수도 있다. 약국 단말은 조제 정보를 전자 처방전 관리 서버로 전송하여 조제정보 DB에 저장되게 할 수 있 고, 또는 약국 보관용 전자 처방전을 전자 처방전 관리 서버로 전송하여 약국 보관용 처방전 DB에 저 장되게 할 수 있다. 이때, 전자 처방전 관리 서버는 조제 정보를 약국 제출용 전자 처방전과 매핑하여 저 장할 수도 있다. 약국 단말은 키오스크나 약국 전용 단말 자체일 수도 있고, 약국 전용 단말과 키오스크가 각각 구비되되, 통신 네트워크를 통해 연결되어 정보를 송수신하는 장치들일 수 있다.도 2는 본 발명의 일 실시예에 따른 처방전 관리 서버의 구체적인 구성을 도시하는 블록도이다. 도 2를 참 조하면, 본 발명의 일 실시예에 따른 처방전 관리 서버는 전자 처방전 생성모듈, 암호화 식별 코드 생성모듈, 전자 처방전 검출 모듈, 전자 처방전 처리모듈, 환자 단말 인증 모듈, 병원 단 말 인증 모듈, 약국 단말 인증모듈, 처방전 데이터 DB, 약국 제출용 전자 처방전 DB, 환자 정보 DB, 조제정보 DB 및 약국 보관용 전자 처방전 DB를 포함한다. 상기의 모듈 및 DB들은 전적으로 하드웨어이거나, 또는 부분적으로 하드웨어이고 부분적으로 소프트웨어인 측면 을 가질 수 있다. 예컨대, 전술한 모듈 및 DB들은 특정 형식 및 내용의 데이터를 전자통신 방식으로 주고받기 위한 장치 및 이에 관련된 소프트웨어를 통칭할 수 있다. 본 명세서에서 \"부(unit)\", \"모듈(module)\", \"서버\", \"시스템\", \"플랫폼\", \"장치\" 또는 \"단말\" 등의 용어는 하드웨어 및 해당 하드웨어에 의해 구동되는 소프트웨어 의 조합을 지칭하는 것으로 의도된다. 예를 들어, 여기서 하드웨어는 CPU 또는 다른 프로세서(processor)를 포 함하는 데이터 처리 기기일 수 있다. 또한, 하드웨어에 의해 구동되는 소프트웨어는 실행중인 프로세스, 객체 (object), 실행파일(executable), 실행 스레드(thread of execution), 프로그램(program) 등을 지칭할 수 있다. 전자 처방전 생성모듈은 병원 단말로부터 수신된 처방전 데이터를 기초로 약국 제출용 전자 처방전을 생성하여 데이터베이스에 저장할 수 있다. 약국 제출용 전자 처방전은 처방전을 발행한 병원 정보, 의료진 정보, 날짜 정보, 환자의 이름, 주민등록번호, 처방 의약품 명칭, 처방 의약품 투약량, 의료보험 정보, 질병코 드 정보 등 일반적인 처방전에 포함되는 정보를 포함할 수 있다. 암호화 식별 코드 생성모듈은 약국 제출용 전자 처방전에 접근 가능한 식별정보를 포함하는 암호화 식별 코드를 생성하여 환자 단말로 전송할 수 있다. 여기서, 암호화 식별 코드는 QR 코드로 생성될 수 있다. 도 4는 본 발명의 일 실시예에 따라 생성된 QR 코드가 환자 단말에 표시된 일 예를 도시한다. 환자 단말에 표시된 암호화 식별 코드를 환자가 약국에 구비된 암호화 식별 코드 스캔 장치(일 예로, 키오 스크 등)를 통해 인식시키면, 암호화 식별 코드 스캔 신호가 처방전 관리 서버로 전송될 수 있다. 이에, 처방전 관리 서버는 암호화 식별 코드 스캔 신호에 포함된 식별 정보를 검출하고, 검출된 식별 정보에 기 초하여 약국 제출용 전자 처방전 DB로부터 해당 약국 제출용 전자 처방전을 검출하여, 검출된 약국 제출용 전자 처방전을 약국 단말로 전송할 수 있다. 이에 의해, 환자가 종래처럼 지류로 된 약국 제출용 처방전을 약국에 직접 제출할 필요 없이, 환자 단말로 전송받은 암호화 식별 코드를 약국 단말에 인식시키는 방식으로 전자 처방전을 이용할 수 있다. 여기서, 약국 제출용 전자 처방전에는 지류 처방전과 마찬가지로 환자 정보, 병원 정보, 질병 코드, 보험 정보 등이 포함될 수 있다. 여기서, 환자 정보는 환자의 이름, 성별, 주민등록번호, 연락처 및 주소 정보 중 적어도 하나가 포함될 수 있고, 환자 정보는 환자 정보 DB에 저장될 수 있다. 환자 정보는 환자가 진료를 받기 위해 병원에 방문했을 때, 환자 등록 시 병원 단말에 입력된 정보일 수 있다. 이에, 암호화 식별 코드 생성모듈은 약국 제출용 전자 처방전에 기입된 환자의 연락처 또는 환자 정 보 DB에 저장된 환자의 연락처를 통하여 상기 암호화 식별 코드를 환자 단말로 전송할 수 있다. 전자 처방전 검출 모듈은 약국 단말로부터 암호화 식별 코드의 스캔 신호를 수신하고, 암호화 식별 코드의 스캔 신호에 포함된 식별 정보에 기초하여 해당 약국 제출용 전자 처방전을 약국 제출용 전자 처방전 DB로부터 검출할 수 있다. 여기서, 암호화 식별 코드는 약국 제출용 전자 처방전마다 독립적인 고유의 정 보를 포함함은 자명하다. 다시 말하자면, 환자 단말을 통해 암호화 식별 코드를 수신한 환자는 병원 외부에 있는 약국을 방문하여, 의료진의 처방전에 따른 약품 조제를 약국에 요청하기 위해 환자 단말에 표시된 암호화 식별 코드를 약국 에 비치된 키오스크나 약국 전용 단말로 구비된 약국 단말을 이용하여 스캔한다. 이에, 약국 단말은 암호화 식별 코드의 스캔 신호를 전자 처방전 검출 모듈로 전송할 수 있다. 여기서, 약국 단말은 암호화 식별 코드의 스캔 신호를 전자 처방전 관리 서버로 전송하면서, 동시에 약국 인증 정보를 약국 단말 인증 모듈로 전송하여, 약국 단말 인증 모듈을 통해 약국 단말에 대한 인증 과정을 거칠 수 있다. 여기서, 약국 인증 정보는 약사의 이름, 약사 자격증 정보, 약국 이름, 약국 주소 중 적어도 하나를 포함할 수 있다. 이 인증 과정은 공지의 기술을 이용할 수 있으므로, 상세한 설명은 생 략하기로 한다.전자 처방전 처리 모듈은 전자 처방전 검출 모듈을 통해 약국 제출용 전자 처방전 DB로부터 검 출된 약국 제출용 전자 처방전을 해당 약국 단말로 전송할 수 있다. 그리고, 전자 처방전 처리 모듈은 약국 단말로부터 상기 약국 제출용 전자 처방전에 상응하여 약국에 서 약사가 실제 환자에게 제공된 의약품 정보 등을 포함하는 조제정보를 수신하고, 상기 약국 제출용 전자 처방 전과 상기 조제 정보를 매핑하여 조제정보 DB에 저장할 수 있다. 여기서, 조제 정보는 약국 정보, 약사 정보, 약국 제출용 전자 처방전에 기초하여 실제로 조제한 약품의 종류, 약품의 양 및 특이 사항 정보를 포함할 수 있다. 이에 전자 처방전 관리 서버는 조제 정보를 약국 제출용 전자 처방전과 매핑하여 데이터베이스에 저장할 수 있다. 따라서, 약국 단말은 약국 제출용 전자 처방전과 조제 정보를 전자 처방전 관리 서버에 저장시킴으로 써, 지류 처방전을 대체하는 전자 처방전을 서버에 용이하게 보관할 수 있고, 이에 업무의 효율성을 높이며 자 원의 절약을 실천할 수 있다. 한편, 본 발명의 일 실시예에 따른 전자 처방전 관리 서버는 전자 처방전을 운용하는데 있어서 전자 처방 전을 스캔, 복사, 캡쳐하는 등의 불법 행위로부터 보안을 유지하기 위해 다음과 같은 구성을 더 포함할 수 있다. 약국 단말 인증 모듈은 약국 단말로부터 암호화 식별 코드의 스캔 신호와 함께 약국 인증 정보를 수 신하면, 약국 인증 정보에 기초하여 약국 단말에 대한 인증 과정을 실행할 수 있다. 여기서, 약국 인증 정 보는 약사의 이름, 약사 자격증 정보, 약국 이름, 약국 주소 중 적어도 하나를 포함할 수 있다. 이 인증 과정은 공지의 기술을 이용할 수 있으므로, 상세한 설명은 생략하기로 한다. 환자 단말 인증 모듈은 전자 처방전 관리 서버가 약국 단말로부터 암호화 식별 코드 스캔 신호 를 수신하면, 이에 응하여 일회용 비밀번호를 생성하여 환자 단말로 전송할 수 있다. 이후, 환자가 환자 단말로 전송된 일회용 비밀번호를 확인하여 이를 약국 단말에 입력하면, 입력 정 보가 환자 단말 인증 모듈로 전송될 수 있다. 이에, 환자 단말 인증 모듈은 약국 단말에 입력된 입력 정보가 환자 단말로 전송했던 일회용 비 밀번호와 일치하는지 여부에 따라 환자 단말을 인증할 수 있다. 여기서, 일회용 비밀번호는 상기 일회용 비밀번호는 OTP(One-Time Password) 정보일 수 있다. 또는, 일회용 비 밀번호는 시간에 따라 변동되는 숫자정보, 문자정보, 이미지정보, 색상 정보 중 적어도 하나를 포함할 수 있다. 전자 처방전 관리 서버는 환자 단말의 인증이 성공한 경우에만, 약국 단말로부터 수신된 암호화 식별 코드 스캔 신호에 포함된 정보를 기초로 데이터베이스로부터 해당 약국 제출용 전자 처방전을 검출하고, 검출된 상기 약국 제출용 전자 처방전을 약국 단말로 전송할 수 있다. 이에, 약국 단말은 상기 약국 제출용 전자 처방전을 기초로 조제 정보를 생성하여, 전자 처방전 관리 서버 로 전송하고, 전자 처방전 관리 서버는 조제 정보를 상기 약국 제출용 전자 처방전과 매핑하여 상기 데이터베이스에 저장할 수 있다. 이러한 보안 방식을 통해, 약국에서 환자가 본인 소유의 단말을 소지한 경우에만 환자 단말의 인증을 통한 전자 처방전 획득이 가능하게 함으로써, 암호화 식별 코드를 타인이 카피나 스캔하여 도용하는 불법 행위를 방 지할 수 있다. 여기서, 환자 단말 인증 모듈은 전자 처방전 관리 서버가 자체적으로 구비하여 이용하는 모듈일 수도 있고, 또는 전자 처방전 관리 서버와는 분리되어 독립적으로 외부에서 운영되는 인증 전문 기관과 연계하 는 방식으로 운용되는 모듈일 수도 있다. 예를 들어, 환자 단말 인증 모듈은 간편 본인확인 서비스를 운용 하는 앱을 이용할 수 있다. 또 다른 실시예로, 도 4를 참조하면, 암호화 식별 코드 대한 보안을 위해 전자 처방전 관리 서버는 암호화 식별 코드에 포함시킬 워터마크를 생성하는 워터마크 생성 모듈을 더 포함할 수 있다. 일 실시예로, 워터마크 생성 모듈은 환자 고유의 정보를 이용하여 워터마크를 생성할 수 있다. 여기서, 워터마 크는 상기 환자용 단말에 의한 스크린 캡쳐에 의해서 캡쳐 불가능한 특징을 갖는다. 일 실시예로, 워터마크는 환자가 병원에 방문했을 때 병원 단말에 탑재된 카메라 또는 병원에 구비된 카메 라를 이용하여 환자 얼굴을 촬영하여 획득한 환자 고유의 사진 이미지를 이용하여 생성될 수 있다. 구체적으로, 워터마크 생성모듈은 환자 얼굴이 촬영된 사진 이미지에 대한 특징 벡터를 추출하고, 상기 특징 벡 터를 기반으로 워터마크를 생성할 수 있다. 이와 같이 생성된 워터마크는 병원 단말을 통해 환자 정보 DB에 저장되고, 환자 단말 인증 모듈(20 7)로 전달될 수 있다. 상기 워터마크를 이용한 환자 인증 방법은 다음과 같다. 환자가 워터마크를 포함하는 암호화 식별 코드를 약국 단말에서 스캔했을 때, 약국 단말은 암호화 식 별 코드에 포함된 워터마크를 이미지 센서를 통해 획득하고, 획득된 워터마크 정보를 환자 단말 인증 모듈(20 7)로 전송할 수 있다. 이에, 환자 단말 인증 모듈은 워터마크 생성 모듈에서 생성된 워터마크와 약국 단말 로부터 수신된 워터마크가 일치하는지 비교함으로써, 비교 결과에 따라 암호화 식별 코드의 진위 여부를 확인할 수 있다. 즉, 전자 처방전 관리 서버는 전술한 일회용 비밀번호를 이용하여 환자 단말을 인증하고, 워터마크를 이용하여 암호화 식별 코드의 진위를 인증할 수 있으며, 두 가지 인증이 모두 성공한 경우에만 약국 제출용 전 자 처방전을 약국 단말로 전송할 수 있다. 도 5는 본 발명의 일 실시예에 따른 전자 처방전 관리 방법을 설명하기 위한 흐름도이다. 본 발명의 일 실시예 에 따른 전자 처방전 관리 방법은, 도 2의 서버와 실질적으로 동일한 구성에서 진행될 수 있다. 따라서, 도 2의 서버와 동일한 구성요소는 동일한 도면부호를 부여하고, 반복되는 설명은 생략한다. 이하, 도 5를 참조하여 본 발명의 일 실시예에 따른 전자 처방전 관리 방법을 설명하기로 한다. 먼저, 전자 처방전 관리 서버는 병원 단말로부터 환자 진료에 따른 처방전 데이터를 수신한다(S100). 다음으로, 처방전 데이터를 기초로 약국 제출용 전자 처방전을 생성하여 데이터베이스에 저장하고(S101), 약국 제출용 전자 처방전에 접근 가능한 식별정보를 포함하는 암호화 식별 코드를 생성하여(S102), 환자 단말로 암호 화 식별 코드를 전송(S103)한다. 여기서, 암호화 식별 코드는 QR 코드일 수 있다. 이후, 환자 단말을 소지한 환자가 약국에 방문하여 약국 단말을 통해 환자 단말에 표시된 암호화 식별 코드를 스캔하면, 약국 단말로부터 암호화 식별 코드의 스캔 신호를 수신한다(S104). 약국 단말로부터 암호화 식별 코드의 스캔 신호를 수신하면, 전자 처방전 관리 서버는 일회용 비밀번호를 생성 하여, 환자 단말로 전송한다(S105). 이후, 환자가 환자 단말로 전송된 일회용 비밀번호를 확인하여 이를 약국 단말에 입력하면, 입력 정보가 전자 처방전 관리 서버로 전송될 수 있다. 이에, 전자 처방전 관리 서버는 약국 단말에 입력된 입력 정보가 환자 단 말로 전송했던 일회용 비밀번호와 일치하는지 여부에 따라 환자 단말을 인증할 수 있다(S106). S106 단계에서 환자 단말 인증이 성공하면, 암호화 식별 코드의 스캔 신호에 포함된 식별정보에 기초하여 해당 약국 제출용 전자 처방전을 데이터베이스로부터 검출하고, 검출된 약국 제출용 전자 처방전을 약국 단말로 전송 한다(S108). 이후, 약국 단말로부터 약국 제출용 전자 처방전을 기초로 생성된 조제 정보를 수신하고(S109), 조제 정보와 약 국 제출용 전자 처방전을 매핑하여 데이터베이스에 저장한다(S110). 여기서, 조제 정보는 약국 정보, 약사 정보, 약국 제출용 전자 처방전에 기초하여 실제로 조제한 약품의 종류, 약품의 양 및 특이 사항 정보를 포함할 수 있다. 약국 정보는 약국 명칭, 약국 주소 등을 포함할 수 있고, 약사 정보는 약사 자격증 정보, 약사 이름, 약사 주소 및 약사 주민등록번호 등을 포함할 수 있다. 도 6은 본 발명의 다른 실시예에 따른 전자 처방전 관리 방법을 설명하기 위한 흐름도이다. 본 발명의 다른 실 시예에 따른 전자 처방전 관리 방법은, 도 1의 시스팀 및 도 2의 처방전 관리 서버와 실질적으로 동일 한 구성에서 진행될 수 있다. 따라서, 시스템 및 처방전 관리 서버와 동일한 구성요소는 동일한 도면부 호를 부여하고, 반복되는 설명은 생략한다. 먼저, 병원 단말은 전자 처방전 관리 서버에 접속하여 병원 단말 인증 과정을 수행할 수 있다(S211). 이 인증 과정은 공지의 기술을 이용할 수 있다.병원 단말은 환자 진료 후 처방전 데이터를 발행하여(S213), 전자 처방전 관리 서버로 전송할 수 있 다(S215). 이에 전자 처방전 관리 서버는 병원 단말로부터 수신된 상기 처방전 데이터를 기초로 약국 제출용 전 자 처방전을 생성하여 데이터베이스에 저장할 수 있다(S217). 그리고 이때, 전자 처방전 관리 서버는 상기 약국 제출용 전자 처방전에 접근 가능한 식별정보를 포함하는 암호화 식별 코드를 생성할 수 있다(S219). 전자 처방전 관리 서버가 암호화 식별 코드를 환자 단말로 전송하면(S221), 환자단말은 암호화 식별 코드를 다운로드 하여(S233), 환자 단말의 화면에 표시할 수 있다(S225). 환자는 약국을 방문하여, 의료진의 처방전에 따른 약품 조제를 약국에 요청하기 위해 환자 단말에 표시된 상기 암호화 식별 코드를 약국에 비치된 키오스크나 약국 전용 단말로 구비된 약국 단말을 통해 스캔할 수 있다(S227). 이에, 약국 단말은 암호화 식별 코드의 스캔 신호를 전자 처방전 관리 서버로 전송하면서, 동시에 약 국 인증 정보를 전자 처방전 관리 서버로 전송하여, 전자 처방전 관리 서버를 통해 약국 단말에 대한 인증 과정을 거칠 수 있다(S230). 여기서, 약국 인증 정보는 약사의 이름, 약사 자격증 정보, 약국 이름, 약국 주소 중 적어도 하나를 포함할 수 있다. 이 인증 과정은 공지의 기술을 이용할 수 있으므로, 상세한 설명 은 생략하기로 한다. 약국 단말의 인증이 성공하면, 전자 처방전 관리 서버는 일회용 비밀번호를 생성하여 환자 단말로 전 송한다(S231). 이에, 환자가 환자 단말에 전송된 일회용 비밀번호를 확인하고, 약국 단말에 일회용 비밀번호를 입력하면(S231), 약국 단말은 환자에 의해 입력된 입력 정보를 전자 처방전 관리 서버로 전송한다(S233). 이에, 전자 처방전 관리 서버는 환자 단말로 전송되었던 일회용 비밀번호가 약국 단말로부터 전 송된 입력 정보와 일치하는지 비교함으로써 환자 단말의 인증을 실행할 수 있다(S235). 전자 처방전 관리 서버는 환자 단말의 인증이 성공한 경우에만, 약국 단말로부터 수신된 암호화 식별 코드 스캔 신호에 포함된 정보를 기초로 데이터베이스로부터 해당 약국 제출용 전자 처방전을 검출하고(S236), 검출된 상기 약국 제출용 전자 처방전을 약국 단말로 전송할 수 있다(S237). 약국 단말은 상기 약국 제출용 전자 처방전을 기초로 조제 정보를 생성하여(S239), 전자 처방전 관리 서버 로 전송하고(S241), 전자 처방전 관리 서버는 조제 정보를 상기 약국 제출용 전자 처방전과 매핑하여 상기 데이터베이스에 저장할 수 있다(S243). 또 다른 실시예로, S219 단계에서 전자 처방전 관리 서버는 전자 처방전에 대한 보안을 위해 암호화 식별 코드에 포함시킬 워터마크를 생성할 수 있다. 일 실시예로, 전자 처방전 관리 서버는 환자 고유의 정보를 이용하여 워터마크를 생성할 수 있다. 여기서, 워터마크는 상기 환자용 단말에 의한 스크린 캡쳐에 의해서 캡쳐 불가능한 특징을 갖는다. 일 실시예로, 워터마크는 환자가 병원에 방문했을 때 병원 단말에 구비된 카메라를 이용하여 환자 얼굴을 촬영하여 획득한 환자 고유의 사진 이미지를 이용하여 생성될 수 있다. 이때, 환자 얼굴이 촬영된 사진 이미지 에 대한 특징 벡터를 추출하고, 상기 특징 벡터를 기반으로 워터마크를 생성할 수 있다. 이와 같이 생성된 워터마크는 병원 단말을 통해 환자 정보 DB에 저장되고, 환자 단말 인증 모듈로 전달될 수 있다. 환자가 워터마크를 포함하는 암호화 식별 코드를 약국 단말에서 스캔했을 때, 약국 단말은 암호화 식별 코드에 포함된 워터마크를 이미지 센서를 통해 획득하고, 획득된 워터마크 정보를 환자 단말 인증 모듈로 전송할 수 있다. 이에, 전자 처방전 관리 서버는 워터마크 생성 모듈에서 생성된 워터마크와 약국 단말로부터 수신된 워터마크가 일치하는지 비교함으로써, 비교 결과에 따라 암호화 식별 코드의 진위 여부 를 인증할 수 있다. 이를 통해, 약국 단말은 약국 제출용 전자 처방전, 약국 보관용 전자 처방전 및 그에 상응하는 조제 정보 를 전자 처방전 관리 서버에 저장시킴으로써, 지류 처방전을 전자 처방전으로 대체하여 서버에 용이하게 보관하여 업무의 효율성을 높이며, 자원의 절약을 실천할 수 있다. 또한, 환자 단말, 약국 단말, 암호화 식별 코드에 대한 인증을 실행함으로써, 보안을 유지할 수 있다. 본 문서의 다양한 실시예들은 기기(machine)(예: 컴퓨터)로 읽을 수 있는 저장 매체(machine-readable storage media)(예: 메모리(내장 메모리 또는 외장 메모리))에 저장된 명령어를 포함하는 소프트웨어(예: 프로그램)로구현될 수 있다. 기기는, 저장 매체로부터 저장된 명령어를 호출하고, 호출된 명령어에 따라 동작이 가능한 장 치로서, 개시된 실시예들에 따른 전자 장치(예: 장치)를 포함할 수 있다. 상기 명령이 프로세서(예: 프로세서) 에 의해 실행될 경우, 프로세서가 직접, 또는 상기 프로세서의 제어 하에 다른 구성요소들을 이용하여 상기 명 령에 해당하는 기능을 수행할 수 있다. 명령은 컴파일러 또는 인터프리터에 의해 생성 또는 실행되는 코드를 포 함할 수 있다. 기기로 읽을 수 있는 저장매체는, 비일시적(non-transitory) 저장매체의 형태로 제공될 수 있다. 여기서, '비일시적'은 저장매체가 신호(signal)를 포함하지 않으며 실재(tangible)한다는 것을 의미할 뿐 데이 터가 저장매체에 반영구적 또는 임시적으로 저장됨을 구분하지 않는다. 일 실시예에 따르면, 본 문서에 개시된 다양한 실시예들에 따른 방법은 컴퓨터 프로그램 제품(computer program product)에 포함되어 제공될 수 있다. 이상의 설명은 본 발명의 기술 사상을 예시적으로 설명한 것에 불과한 것으로서, 본 발명이 속하는 기술 분야에 서 통상의 지식을 가진 자라면 본 발명의 본질적인 품질에서 벗어나지 않는 범위에서 다양한 수정 및 변형이 가 능할 것이다. 따라서, 본 발명에 개시된 실시예들은 본 발명의 기술 사상을 한정하기 위한 것이 아니라 설명하 기 위한 것이고, 이러한 실시예에 의하여 본 발명의 기술 사상의 범위가 한정되는 것은 아니다. 본 발명의 보호 범위는 아래의 청구범위에 의하여 해석되어야 하며, 그와 균등한 범위 내에 있는 모든 기술사상은 본 발명의 권 리범위에 포함되는 것으로 해석되어야 할 것이다."}
{"patent_id": "10-2022-0034063", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 전자 처방전 관리 시스템의 구성을 개략적으로 도시한 블록도이다. 도 2는 본 발명의 일 실시예에 따른 처방전 관리 서버의 구체적인 구성을 도시하는 블록도이다. 도 3은 일반적인 지류 처방전의 일 예를 도시한다. 도 4는 본 발명의 일 실시예에 따라 생성된 암호화 식별 코드의 일 예를 도시한다. 도 5는 본 발명의 일 실시예에 따른 전자 처방전 관리 방법을 설명하기 위한 흐름도이다. 도 6은 본 발명의 다른 실시예에 따른 전자 처방전 관리 방법을 설명하기 위한 흐름도이다."}
