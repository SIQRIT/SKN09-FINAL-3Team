{"patent_id": "10-2022-0070459", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0170219", "출원번호": "10-2022-0070459", "발명의 명칭": "심층 신경망을 이용한 장비 고장 탐지 방법 및 시스템", "출원인": "딥센싱 주식회사", "발명자": "김성은"}}
{"patent_id": "10-2022-0070459", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "장비에 설치된 센서; 및상기 센서가 획득하는 센서 값을 소정의 시간 간격으로 순차 획득하고, 상기 획득된 상기 센서 값들을 고장 예측 모델에 입력하여 상기 센서 또는 상기 장비의 고장 유무를 예측하는 컴퓨팅 장치를 포함하고,상기 컴퓨팅 장치는 소정 개수의 연속적인 상기 센서 값들로 구성된 일차원 벡터를 상기 고장 예측 모델에 입력함으로써 출력 값을 획득하고, 상기 출력 값이 기준 값보다 크거나 같으면 상기 센서 또는 상기 장비가 고장난것으로 판단하고 상기 출력 값이 상기 기준 값보다 작으면 상기 센서 또는 장비가 정상인 것으로 판단하되,상기 고장 예측 모델은, 상기 소정 개수의 센서 값들의 입력에 기반한 비지도 학습 및 상기 소정 개수의 센서값들과 상기 센서 또는 상기 장비의 고장 여부 각각을 입력과 출력으로 적용하여 지도 학습 중 적어도 하나에기반하여 학습이 수행된 인공 신경망을 포함하고, 상기 인공 신경망은 상기 소정 개수의 센서 값들로부터 피처(feature)를 추출하기 위한 LSTM(Long Short TermMemory) 레이어 또는 CNN(Convolution Neural Networks) 레이어를 포함하는 시스템."}
{"patent_id": "10-2022-0070459", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 인공 신경망은 입력 레이어, 히든 레이어, 출력 레이어를 포함하고,상기 입력 레이어에는 상기 소정 개수의 센서 값들로 구성된 입력 데이터가 입력되고,상기 히든 레이어는 복수의 레이어들을 포함하되, 상기 복수의 레이어들은 상기 입력 데이터를 연산하기 위한복수의 노드들로 구성된 LSTM 레이어를 포함하고, 상기 LSTM 레이어의 상기 노드들 각각은 상기 입력 데이터들을 수신하여 정의된 연산을 수행하고 다음 레이어로연산된 결과를 출력하는 시스템."}
{"patent_id": "10-2022-0070459", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 히든 레이어는 5개의 레이어를 포함하고,상기 소정 개수는 3개이고,상기 입력 레이어는 상기 입력 데이터를 상기 LSTM레이어로 전달하고,상기 LSTM레이어의 노드들 개수는 32개인 시스템."}
{"patent_id": "10-2022-0070459", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 인공 신경망은 입력 레이어, 히든 레이어, 출력 레이어를 포함하고,상기 입력 레이어에는 상기 소정 개수의 센서 값들로 구성된 입력 데이터가 입력되고,상기 히든 레이어는 복수의 레이어들을 포함하되, 상기 복수의 레이어들은 상기 입력 데이터를 컨볼루션 연산하기 위한 복수의 노드들을 포함하는 컨볼루션 레이어를 포함하고,상기 입력 데이터는, 상기 컴퓨팅 장치가 상기 소정 개수의 센서 값들을 퓨리에 변환하여 주파수 영역으로 변환시킴으로써 획득된 이차원 이미지 데이터이고, 상기 컨볼루션 연산은 상기 이차원 이미지 데이터에 대해 수행되는 시스템.공개특허 10-2023-0170219-3-청구항 5 제1항에 있어서,상기 고장 예측 모델은 상기 소정 개수의 센서 값들의 입력에 기반한 비지도 학습에 기반하여 획득된 제1고장예측 모델과 상기 소정 개수의 센서 값들과 상기 센서 또는 상기 장비의 고장 여부 각각을 입력과 출력으로 적용하여 비지도 학습에 기반하여 획득된 제2고장 예측 모델 중 더 우수한 성능을 갖는 것으로 선택되는 시스템."}
{"patent_id": "10-2022-0070459", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "센서 고장 예측 시스템은 센서, 및 상기 센서가 획득하는 센서 값을 소정의 시간 간격으로 획득하고, 상기 획득 된 복수의 상기 센서 값들을 고장 예측모델에 입력하여 상기 센서의 고장 유무를 예측하는 컴퓨팅 장치를 포함하 고, 상기 컴퓨팅 장치는 상기 센서 값들을 소정의 시간 구간만큼 누적된 상기 센서 값들을 상기 고장 예측모델에 입력함으로써 출력 값을 획득하고, 상기 출력 값이 기준 값보다 크면 상기 센서가 고장난 것으로 판단하고 상기 출력 값이 상기 기준 값보다 작으면 상기 센서가 정상인 것으로 판단하되, 상기 고장 예측모델은, 상기 소정의 시간 구간만큼 누적된 센서 값들과 상기 센서의 고장 여부 각각을 인공 신경망의 입력과 출력으로 적용하여 학습 을 수행함으로써 사전에 생성된 것이다."}
{"patent_id": "10-2022-0070459", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 인공지능 모델에 기반하여 장비의 고장 여부를 진단하기 위한 방법 및 시스템에 관한 것이다."}
{"patent_id": "10-2022-0070459", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "반도체 팹(fab, fabrication의 약자)과 같은 공장은 수많은 종류의 장비들이 복합적으로 연계되어 운영되는데 공장 내 공정은 다양한 장비(설비)에 설치된 센서로부터 얻은 데이터를 기반으로 제어되고 관리될 수 있다. 이 러한 센서나 장비의 오작동은 자동화 기계들의 오류로 인해 물질적 손해뿐만 아니라 인명피해까지 이어질 수 있 다. 하지만 사람이 직접 이러한 센서들을 모두 관리하는 것은 현실적으로 어려우므로 오작동을 실시간으로 관리 할 수 있는 시스템이 필요하다. 최근에는 이와 관련하여 CNN(Convolutional Neural Network)이나 SVM(Support Vector Machine)과 같은 기법이 센서 및 장비 고장 진단에 많이 활용되고 있고 높은 성능을 보이고 있다. 선행문헌1(한국등록특허 10-2367831)은 시계열적으로 수집되는 데이터로 학습된 신경망을 이용해 인공 지능 기 기의 정상 또는 고장을 판단하는 구성이 개시되어 있다. 선행문헌2(한국등록특허 10-1889049)는 자동차에 있는 다양한 센서로부터 획득되는 시계열 OBD 데이터를 딥러닝 모델에 입력하여 특정 부품이나 부위에 대한 고장 여 부를 출력하는 구성이 개시된다. 선행문헌3(한국등록특허 10-2136141)은 비상 발전기의 온도, 소음, 부하율, 이 상 전류 발생 여부, 습도, 진동, 전력 품질을 센싱하고 비상 발전기 고장 발생 가능성과 그 위치를 사전에 판단 할 수 있는 인공지능 알고리즘을 이용한 고장 예방 기능을 구비한 비상 발전기를 개시한다. 선행기술문헌 특허문헌 (특허문헌 0001) 선행문헌1 : 한국등록특허 10-2367831 (특허문헌 0002) 선행문헌2 : 한국등록특허 10-1889049 (특허문헌 0003) 선행문헌3 : 한국등록특허 10-2136141"}
{"patent_id": "10-2022-0070459", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "시계열 데이터의 학습에 유용한 LSTM(Long Short Term Memory) 인공 신경망을 활용하여 소정의 시간 간격으로 획득되는 복수의 센서 데이터들에 기반하여 센서나 장비의 고장을 진단하기 위한 방법 및 시스템이 제공될 수 있다. 본 실시 예가 이루고자 하는 기술적 과제는 상기된 바와 같은 기술적 과제로 한정되지 않으며, 이하의 실시 예 들로부터 또 다른 기술적 과제들이 유추될 수 있다."}
{"patent_id": "10-2022-0070459", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "시스템은 장비에 설치된 센서, 및 상기 센서가 획득하는 센서 값을 소정의 시간 간격으로 순차 획득하고, 상기 획득된 상기 센서 값들을 고장 예측 모델에 입력하여 상기 센서 또는 상기 장비의 고장 유무를 예측하는 컴퓨팅 장치를 포함하고, 상기 컴퓨팅 장치는 소정 개수의 연속적인 상기 센서 값들로 구성된 일차원 벡터를 상기 고장예측 모델에 입력함으로써 출력 값을 획득하고, 상기 출력 값이 기준 값보다 크거나 같으면 상기 센서 또는 상 기 장비가 고장난 것으로 판단하고 상기 출력 값이 상기 기준 값보다 작으면 상기 센서 또는 장비가 정상인 것으로 판단하되, 상기 고장 예측 모델은, 상기 소정 개수의 센서 값들의 입력에 기반한 비지도 학습 및 상기 소 정 개수의 센서 값들과 상기 센서 또는 상기 장비의 고장 여부 각각을 입력과 출력으로 적용하여 지도 학습 중 적어도 하나에 기반하여 학습이 수행된 인공 신경망을 포함하고, 상기 인공 신경망은 상기 소정 개수의 센서 값 들로부터 피처(feature)를 추출하기 위한 LSTM(Long Short Term Memory) 레이어 또는 CNN(Convolution Neural Networks) 레이어를 포함할 수 있다. 상기 인공 신경망은 입력 레이어, 히든 레이어, 출력 레이어를 포함하고, 상기 입력 레이어에는 상기 소정 개수 의 센서 값들로 구성된 입력 데이터가 입력되고, 상기 히든 레이어는 복수의 레이어들을 포함하되, 상기 복수의 레이어들은 상기 입력 데이터를 연산하기 위한 복수의 노드들로 구성된 LSTM 레이어를 포함하고, 상기 LSTM 레 이어의 상기 노드들 각각은 상기 입력 데이터들을 수신하여 정의된 연산을 수행하고 다음 레이어로 연산된 결과 를 출력할 수 있다. 상기 히든 레이어는 5개의 레이어를 포함하고, 상기 소정 개수는 3개이고, 상기 입력 레이어는 상기 입력 데이 터를 상기 LSTM레이어로 전달하고, 상기 LSTM레이어의 노드들 개수는 32개일 수 있다. 상기 인공 신경망은 입력 레이어, 히든 레이어, 출력 레이어를 포함하고, 상기 입력 레이어에는 상기 소정 개수 의 센서 값들로 구성된 입력 데이터가 입력되고, 상기 히든 레이어는 복수의 레이어들을 포함하되, 상기 복수의 레이어들은 상기 입력 데이터를 컨볼루션 연산하기 위한 복수의 노드들을 포함하는 컨볼루션 레이어를 포함하고, 상기 입력 데이터는, 상기 컴퓨팅 장치가 상기 소정 개수의 센서 값들을 퓨리에 변환하여 주파수 영 역으로 변환시킴으로써 획득된 이차원 이미지 데이터이고, 상기 컨볼루션 연산은 상기 이차원 이미지 데이터에 대해 수행될 수 있다. 상기 고장 예측 모델은 상기 소정 개수의 센서 값들의 입력에 기반한 비지도 학습에 기반하여 획득된 제1고장 예측 모델과 상기 소정 개수의 센서 값들과 상기 센서 또는 상기 장비의 고장 여부 각각을 입력과 출력으로 적 용하여 비지도 학습에 기반하여 획득된 제2고장 예측 모델 중 더 우수한 성능을 갖는 것으로 선택될 수 있다. 상기 인공 신경망의 학습은, 상기 인공 신경망의 복수의 노드들 중 새로운 입력에 기반한 학습에 의해 가중치가 임계치 이상의 변화량을 갖는 적어도 하나의 노드를 동일 레이어에서 복사함으로써 노드 개수를 확장시키면서 업데이트하는 것을 포함할 수 있다. 상기 인공 신경망의 학습은, 상기 인공 신경망의 복수의 노드들 중 일부 노드의 가중치 변화량을 임계치 이하로 제한하는 것을 포함하고, 상기 일부 노드는 현재까지의 학습에 의한 업데이트 과정에서 가중치 변화의 폭이 기 준 값 이하인 노드를 의미할 수 있다."}
{"patent_id": "10-2022-0070459", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "공장 내의 다양한 센서나 장비의 오작동을 판별하여 여러 사고나 손실을 막는 데 사용될 수 있다."}
{"patent_id": "10-2022-0070459", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "아래에서, 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자들(이하, 통상의 기술자들)이 본 발명을 용이 하게 실시할 수 있도록, 첨부되는 도면들을 참조하여 몇몇 실시 예가 명확하고 상세하게 설명될 것이다. 도1은 일 실시 예에 따라, 센서 데이터로부터 센서나 장비의 고장 여부를 판단하기 위한 시스템을 나타낸다. 도1을 참조하면, 시스템은 장비에 설치된 센서(S)와 컴퓨팅 장치(C)를 포함할 수 있다. 시스템은 센서(S)로부터 수신된 센서 데이터에 기반하여 센서(S) 자체의 고장 여부나 센서(S)가 부착된 장 비(E)의 고장 여부를 진단할 수 있다. 일 실시 예에 따라, 센서(S)는 공장에 위치한 다양한 장비(E)에 설치된 것으로서, 온도 센서, 진동 센서, 레이 저 발진 센서, 전류 센서, 전압 센서, 저항 센서, 빛 센서, 또는 영상카메라 등을 포함할 수 있고, 센서 데이터 는 각 센서에 의해 획득되는 온도 데이터, 진동 데이터, 발진 데이터, 전류 데이터, 전압 데이터, 저항 데이터, 빛 세기 데이터, 또는 영상 데이터를 포함할 수 있다. 센서의 고장 유형은 일정 간격으로 센서 값이 튀는 스파이크 폴트(Spick Fault), 센서 출력이 한계치를 넘어서 서 일정 시간동안 편향되는 하드오버 폴트(Hard-over Fault), 센서 값이 계단처럼 점점 올라가는 모양을 띄는 드리프트 폴트(Drift Fault), 정상 신호에 비해 노이즈가 크게 증가하는 모양을 나타내는 이래틱 폴트(Erratic Fault), 및 일정 시간동안 하나의 센서 값이 지속해서 나타나는 스턱 폴트(Stuck Fault)를 포함할 수 있다. 정 상 상태의 공정에서 측정될 수 있는 장비의 센서 값의 범위를 미리 설정하고, 이를 벗어나는 것을 장비나 센서 의 고장으로 간주할 수 있다. 컴퓨팅 장치(C)는 적어도 하나의 프로세서와 적어도 하나의 메모리를 포함할 수 있다. 프로세서는 중앙 처리 장 치(CPU), 마이크로프로세서(Microprocessor), GPU(Graphic Processing Unit), DSP(Digital Signal Processor) 또는 MCU(Micro Controller Unit)를 포함할 수 있다. 메모리는 동적 랜덤 액세스 메모리(DRAM), 정적 랜덤 액 세스 메모리(SRAM)와 같은 휘발성 메모리, 플래시 메모리, ROM(Read Only Memory), PRAM(Phase-change Random Access Memory), MRAM(Magnetic Random Access Memory), ReRAM(Resistive Random Access Memory), 및 FRAM(Ferroelectrics Random Access Memory)과 같은 비휘발성 메모리를 포함할 수 있다. 일 실시 예에 따라, 컴퓨팅 장치는 물리적으로 분리된 별개의 장치들로 구성되고 별개의 장치들이 유선 또는 무선 통신 인터페이스 를 통해 데이터를 송수신할 수 있다. 컴퓨팅 장치는 PC나 랩탑 등의 형태일 수 있고 서버 장치를 포함할 수 있 으나 이에 제한되지 않는다. 센서(S)와 컴퓨팅 장치(S)는 유선 또는 무선 통신 인터페이스를 통해 서로 접속될 수 있다. 무선 통신 인터페이 스는 Wi-Fi(Wireless Fidelity)와 같은 무선 근거리 통신망(Wireless Local Area Network; WLAN), 블루투스 (Bluetooth)와 같은 무선 개인 통신망(Wireless Personal Area Network; WPAN), 무선 USB(Wireless Universal Serial Bus), 지그비(Zigbee), NFC(Near Field Communication), RFID(Radio-frequency identification), PLC(Power Line communication), 또는 3G(3rd Generation), 4G(4th Generation), LTE(Long Term Evolution), 5G(5th Generation) 등 이동 통신망(mobile cellular network)에 접속 가능한 모뎀 통신 인터페이스 등을 포함 할 수 있다. 컴퓨팅 장치(C)에는 센서 데이터를 입력 받아 센서나 장비의 고장 확률 값을 출력하는 인공 지능 기반 고장 예 측 모델이 탑재될 수 있다(예를 들어, 컴퓨팅 장치(C)의 메모리에). 고장 예측 모델은 인공 신경망을 포함하거나 인공 신경망에 기반하여 구현될 수 있다. 대표적인 실시 예에 따라, 도2를 참조하면, 인공 신경망은 입력 레이어(I-1 내지 I-n), 히든(또는, 멀티) 레이어(La-1 내지 La-n, Lk-1 내지 Lk-n), 및 출력 레이어(RI)를 포함할 수 있다. 히든 레이어(La-1 내지 La-n, Lk-1 내지 Lk- n)는 n개의 노드들을 각각 포함하는 k개의 레이어들로 형성될 수 있다. 인공 신경망의 노드들은 가중치(w, weight)를 갖는 적어도 하나의 간선(시냅스)들로 연결될 수 있다. 인공 신경망의 노드들 중 적어도 하나는 비선형 활성화 함수가 정의될 수 있다. 컴퓨팅 장치(C)는 소정의 시간 간격을 두고 연속적으로 획득된 센서 데 이터(이하, 시계열 센서 데이터)를 입력 데이터로서 수신하여 입력 데이터에 대해 인공 신경망의 가중치 값들과 노드의 연산자/피연산자를 이용하여 연산을 수행하고 출력 값 O를 획득할 수 있다. 컴퓨팅 장치(C)는 인공 신경망에 대한 학습을 수행할 있다. 학습은 지도 학습, 비지도 학습, 강화 학습을 포함할 수 있다. 대표적인 실시 예로서, 시계열 센서 데이터가 센서 또는 장비가 정상일 때 획득되는 데이터인 지 고장시 획득되는 데이터인지를 구분하여 라벨링(labeling)된 학습 데이터가 사용될 수 있다. 시계열 센서 데 이터와 라벨을 인공 신경망의 입력과 출력으로 각각 적용함으로써 인공 신경망에 대한 학습이 수행될 수 있다. 또는, DBSCAN(Density-Based Spatial Clustering of Applications with Noise) 알고리즘, PCA(Principal Component Analysis) 알고리즘, Bayesian Gaussian mixture 모델, 오토 인코더(Auto Encoder) 모델 등과 같은 비지도 학습 기법을 사용해 입력된 시계열 센서 데이터를 자동으로 정상 또는 고장으로 분류하도록 학습이 수행 될 수 있다. 고장 예측 모델은 자동 학습에 기반하여 획득될 수 있다. 일 실시 예에 따라, 학습 데이터의 라벨이 비지도 학 습을 통해 생성되고, 라벨이 붙여진 학습 데이터를 사용한 지도 학습을 통해 인공 신경망의 학습이 수행될 수 있다. 센서나 장비가 초기(처음 동작시)에는 고장날 확률이 거의 없어 고장시 획득되는 센서 데이터가 확보되기 힘들 다. 즉, 초기에는 학습을 위한 데이터셋이 충분치 않으므로 정상일 때 획득되는 센서 데이터의 특징을 오토 인 코더와 같은 비지도 학습을 통해 학습하다가 나중에 고장시 획득되는 센서 데이터가 획득되면 지도 학습을 통해 고장 예측 모델에 대한 학습이 수행될 수 있다. 예로서, 컴퓨팅 장치(C)는 제1고장 예측 모델은 비지도 학습만으로 학습을 수행하고 제2고장 예측 모델은 지도 학습만으로 학습을 수행하여 임의의 시점마다 제1고장 예측 모델과 제2고장 예측 모델의 성능을 비교하여 성능 이 더 우수한 것을 고장 예측 모델로 선택할 수 있다. 또는, 컴퓨팅 장치(C)는 비지도 학습만으로 제1고장 예측 모델을 수행하다가 고장시 획득되는 센서 데이터가 어 느정도 확보되면 제1고장 예측 모델의 학습 방법을 비지도 학습에서 지도 학습으로 변경할 수 있다. 예를 들어, 고장 센서 데이터가 확보되지 않아 현재 시점에서 제1고장 예측 모델이 비지도 학습만으로 학습된 상태에서 고 장 센서 데이터가 확보되면 제1고장 예측 모델을 비지도 학습과 지도 학습으로 각각 학습하여 두 개의 고장 예 측 모델로 분기하여 업데이트하고 임의의 시점마다 업데이트된 두 개의 고장 예측 모델의 성능을 비교하여 성능 이 더 우수한 것을 고장 예측 모델로 선택할 수 있다. 인공 신경망가 입력 데이터 I에 대해 연산을 수행하고 출력 데이터 O를 획득하는 과정은 당업자에게 자명 하므로 상세한 내용은 생략한다. 이하, 도3 내지 4를 참조하여 시계열 센서 데이터에 기반하여 센서 또는 장비의 고장 유무를 판단하는 방법을 설명한다. 도3을 참조하면, 단계 S11에서 컴퓨팅 장치는 소정의 시간 간격으로 센서 데이터를 유선 또는 무선 통신 인터페 이스를 통해 획득할 수 있다. 예를 들어, 소정의 시간 간격은 10ms, 1초 등일 수 있다. 예를 들어, 센서가 전류 센서이면, 컴퓨팅 장치는 시계열 센서 데이터 {20mA, 22mA, 25 mA, 23 mA, 24 mA, 21 mA, 20 mA, ...}를 수신 할 수 있다. 단계 S12에서 컴퓨팅 장치는 시계열 센서 데이터를 소정 단위 개수만큼 선택하여 입력 데이터를 획득할 수 있다. 컴퓨팅 장치는 시계열 센서 데이터를 소정 단위 개수만큼 슬라이싱(Slicing)하면서 입력 데이터를 획득할 수 있다. 예를 들어, 단위 개수가 3이라면 입력 데이터는 (20, 22, 25), (22, 25, 23), (25, 23, 24), (23, 24, 21), (24, 21, 20), ... 이 될 수 있다. 단계 S13에서 컴퓨팅 장치는 획득된 입력 데이터를 인공 지능 기반 고장 예측 모델에 입력하고 출력 값을 획득 할 수 있다. 일 실시 예에 따라, 출력 값은 0과 1 사이의 값이고 출력 값이 기준 값(REF) 이상이면 센서가 고장 인 것으로 판단하고(S14), 그렇지 않으면 정상인 것으로 판단(S15)할 수 있다. 출력 값은 센서 또는 장비가 고 장일 확률을 나타낼 수 있다. 기준 값은 0.5일 수 있으나 이에 제한되지 않는다. 인공 지능 기반 고장 예측 모델은 단계 S12의 입력 데이터를 입력 받기 위한 입력 레이어와 상기 입력 데이터를 연산하기 위한 히든 레이어, 히든 레이어에 의해 연산된 결과를 출력하기 위한 출력 레이어로 구성된 신경망을 포함할 수 있다. 히든 레이어는 RNN(Recurrent Neural Networks) 레이어, CNN(Convolution Neural Networks) 레이어, DNN(Deep Neural Networks) 중 적어도 하나를 포함할 수 있다. 일 실시 예에 따라, 인공 지능 기반 고장 예측 모델의 히든 레이어는 복수의 레이어들을 포함하되, 복수의 레이 어들은 입력 레이어로부터 전달받은 데이터들을 연산하기 위한 복수의 노드들을 포함하는 RNN(Recurrent Neural Networks) 레이어를 포함할 수 있다. RNN은 시계열 데이터와 같이 시간의 흐름에 따라 변화하는 데이터나 순차 적인 데이터를 학습하기 적합한 신경망으로서, 입력 데이터의 시계열 특성을 잘 나타낼 수 있는 피처(feature) 를 도출할 수 있다. RNN 레이어에서, 현재의 히든 스테이트(Hidden State) ht는 현재의 입력인 Xt와 이전의 히든 스테이트 ht-1에 의해 지속적으로 갱신될 수 있다. RNN의 일종인 LSTM(Long Short Term Memory)는 RNN의 장기 의존성 문제를 개선하기 위한 신경망으로서 이전의 정보를 기억하기 위한 셀 스테이트(Cell State)가 추가된 것이다. 일 실시 예에 따라, 인공 지능 기반 고장 예 측 모델은 입력 데이터로부터 시계열적 특징을 추출하기 위한 LSTM 레이어를 포함하고, LSTM의 하이퍼 파라미터 (hyper parameter)가 실험을 통해 최적화될 수 있다. 일 실시 예에 따라, LSTM 레이어는 1개의 레이어로 구성되 고, 1개의 레이어는 32개의 노드들을 포함할 수 있다(도4 참조). LSTM 레이어의 복수의 노드들은 노드의 입력 값에 정의된 연산을 수행하고 수행된 결과를 다음 레이어로 전달할 수 있다. 연산은 연산자 및/또는 피연산자 (예를 들어, 상수)에 의해 정의될 수 있다. 연산은 컨트랙션(contraction), 합산(sum), 곱(product) 연산 등과 같은 텐서 연산, 시그모이드(sigmoid), 코사인(cosine), 하이퍼볼릭 탄젠트(tanh) 함수, ReLU(Rectified Linear Unit) 함수와 같은 비선형 연산, 하다마르 곱(Hadamard product,) element-wise addition, 행렬 곱셈 (matrix multiplication) 연산과 같은 선형 연산, 식별 연산(identify) 등을 포함할 수 있다. 일 실시 예에 따라, 인공 지능 기반 고장 예측 모델의 히든 레이어는 복수의 레이어들을 포함하되, 복수의 레이 어들은 입력 레이어로부터 전달받은 데이터들을 연산하기 위한 복수의 노드들을 포함하는 CNN(Convolution Neural Networks) 레이어를 포함할 수 있다. CNN 레이어는 입력 데이터에 1차원 컨볼루션을 적용하여 피처 (feature)를 추출할 수 있다. 또는, 컴퓨팅 장치는 입력 데이터를 퓨리에 변환(Fourier Transform)하여 주파수 영역으로 변환시킴으로써 이차원 이미지를 획득하고, CNN 레이어의 컨볼루션 연산이 상기 이차원 이미지에 대해 수행됨으로써 피처가 추출될 수 있다. 또한, CNN 레이어는 주요 특징을 강조할 수 있는 어텐션(Attention) 레이 어를 포함할 수 있다. 도4는 일 실시 예에 따라, 인공 지능 기반 고장 예측 모델을 나타낸다. 도4를 참조하면, 인공 지능 기반 고장 예측 모델의 입력 레이어(Input Layer)에 입력되는 센서 데이터들은 소정의 시간 간격으로 연속적으로 획득된 세 개의 센서 데이터(x1, x2, x3)를 포함할 수 있다. 세 개의 센서 데 이터(x1, x2, x3)가 입력 레이어의 입력 데이터로서 입력된다. 이러한 실시 예에서, 도3의 단계 S12의 소정 단 위 개수는 3이다. 인공 지능 기반 고장 예측 모델의 히든 레이어는 LSTM 레이어(LL)를 포함할 수 있다. LSTM 레이어(LL)를 구성하는 32개의 LSTM 노드들(LSTM1~LSTM32) 각각은 세 개의 센서 데이터(x1, x2, x3)를 입력 받아 32 개의 히 든 스테이트를 생성하고 생성된 32개의 히든 스테이트는 다음 레이어(NL)의 입력으로서 전달될 수 있다. 32개의 히든 스테이트들 각각은 특징 값이 되고 입력 데이터는 32개의 특징들로 표현된다. 출력 레이어(SoftMax)는 히든 레이어를 통해 입력 데이터가 연산된 결과인 0과 1 사이의 출력값을 출력할 수 있 다. 출력값이 기준값보다 크거나 같으면 센서나 장비가 고장인 것으로 판단하고, 출력값이 기준값보다 작으면 센서나 장비가 정상인 것으로 판단할 수 있다. 도5는 일 실시 예에 따라, 고장 예측 모델을 획득하는 방법의 흐름도를 나타낸다. 이하, 제1고장 예측 모델과 제2고장 예측 모델은 도1 내지 4를 참조하여 상술한 고장 예측 모델을 의미하고, 상 술한 인공 신경망을 포함할 수 있다. 고장 예측 모델은 제1고장 예측 모델과 제2고장 예측 모델 중 하나가 사용 될 수 있다. 도5의 단계 S51 내지 S53에서는 제1고장 예측 모델이 고장 예측 모델로 사용되고, 단계 S55 이후에 는 제2고장 예측 모델이 고장 예측 모델로 사용될 수 있다. 단계 S51에서 현재 시점에서 획득한 입력 데이터로 제1고장 예측 모델에 대한 비지도 학습을 수행할 수 있다. 센서나 장비가 초기(처음 동작시)에는 고장날 확률이 거의 없으므로 초기에는 고장 센서 데이터(고장시 획득되 는 센서 데이터)를 획득할 수 없다. 따라서, 제1고장 예측 모델은 정상 센서 데이터(정상시 획득되는 센서 데이 터)에 기반하여 비지도 학습이 수행될 수 있다. 제1고장 예측 모델은 정상 센서 데이터의 데이터 분포를 학습하 게 된다. 단계 S52에서, 단계 S51의 입력 데이터가 고장 센서 데이터이면 고장 센서 데이터로 제2고장 예측 모델에 대한 지도학습이 수행된다(단계 S53). 제2고장 예측 모델은 제1고장 예측 모델과 별개의 모델이다. 예를 들어, 제2고 장 예측 모델은 비지도 학습만으로 현재까지 학습된 제1고장 예측 모델을 복사한 것일 수 있다. 또는, 제2고장 예측 모델은 지도 학습만으로 현재까지 학습된 제1고장 예측 모델과는 전혀 다른 모델일 수 있다. 입력 데이터 가 고장 센서 데이터가 아니면 다음 시점에 획득되는 입력 데이터로 다시 단계 S51이 수행된다. 지도 학습을 위 한 고장 센서 데이터인지 여부는 비지도 학습을 통해 자동으로 라벨링되거나 숙련된 작업자에 의해 라벨링될 수있다. 단계 S54에서, 제1고장 예측 모델과 제2고장 예측 모델의 성능이 비교될 수 있다. 제1고장 예측 모델과 제2고장 예측 모델의 성능은 임의 입력 데이터 셋에 대한 정밀도(Precision)와 재현율(Recall)에 기반하여 평가될 수 있 다. 제2고장 예측 모델의 성능이 제1고장 예측 모델의 성능보다 높으면 제2고장 예측 모델에 기반한 지도 학습 만이 수행될 수 있다. 즉, 고장 센서 데이터의 수가 충분히 확보되지 않았을 때(초기)에는 지도 학습을 통한 고 장 예측 모델의 성능 개선이 이루어지지 않다가 어느정도 고장 센서 데이터가 확보되면 비지도 학습만 사용했을 때보다 더 좋은 성능을 낼 수 있기 때문에 성능 역전이 되면 그때 부터는 지도 학습에 기반하여 고장 예측 모델 을 학습 및 업데이트할 수 있다. 단계 S55에서, 고장 예측 모델은 제2고장 예측 모델이 사용되고 제2고장 예측 모델에 다음 시점의 입력 데이터 로 지도 학습이 수행될 수 있다. 일 실시 예에 따라, 고장 예측 모델의 업데이트는 연속적으로 입력되는 데이터의 학습에 따라 유연하게 수행될 수 있다. 이하, 고장 예측 모델의 학습에서 수행될 수 있는 실시 예들에 대해 설명한다. 고장 예측 모델의 인공 신경망을 구성하는 노드들 중 새로 들어오는 데이터에 의한 추가 학습에 의해 변화되지 않아야 하는 중요 노드들은 가중치가 최소한으로 업데이트(예를 들어, 임계치(예 : 20%) 이내)되고 그 외 노드 들의 가중치는 많이 업데이트가 되어 고장 예측 모델을 최적화할 수 있다. 중요 노드는 현재까지의 인공 신경망 업데이트 과정에서 가중치 변화의 폭이 크지 않은 것으로서, 가중치 변화의 폭이 기준치 이하인 노드가 중요 노 드로서 선택될 수 있다. 가중치 변화의 폭은 가중치 누적 변화량, 가중치 증감율의 누적치, 학습시마다의 가중 치들의 편차값 등이 사용될 수 있으나 이에 제한되지 않는다. 일 실시 예에 따라, 이전에 들어온 데이터에 의해 학습된 신경망의 가중치 분포를 라고 할 때, 새로 추가된 학습 데이터에 의해 기존의 가중치 가 크게 훼손되지 않도록 기존의 비용함수에 정규화(regularization) 식을 추가할 수 있다. 이때, 정규화 식은 새로운 데이터 학습에 의해 업데이트 된 의 분포가 의 분포 를 크게 벗어나지 않도록 하기 위해 두 분포의 피셔 정보 행렬(Fisher Information Matrix)을 사용할 수 있고, 이 피셔 정보 행렬을 비용함수에 추가함으로써 피셔 정보 행렬 또한 최소화 시키기 위해 의 분포가 의 분포내에 존재하면서 최적의 값으로 업데이트 되게 된다. 따라서, 이전 데이터 학습에 중요한 노드의 가중치 분 포는 분포 범위가 좁고, 크게 중요치 않은 노드의 가중치 분포는 분포 범위가 넓게 되므로 분포 범위를 기반으 로 인공 신경망을 구성하는 노드들 중 새로 들어오는 데이터에 의한 추가 학습에 의해 변화되지 않아야 하는 중 요 노드들은 가중치가 최소한으로 업데이트되고 그 외 노드들의 가중치는 많이 업데이트가 되어 고장 예측 모델을 최적화할 수 있다. 새로운 학습 데이터에 의해 고장 예측 모델의 인공 신경망 노드의 가중치가 크게 변화한 경우(예를 들어, 20% 이상의 변화량을 갖는 경우) 해당 노드를 동일 레이어 내에서 복사함으로써 노드 개수를 확장시킬 수 있다. 이 때, 해당 노드에 연결된 간선도 동일하게 복제될 수 있다. 또는, 노드와 연결된 간선 중 가중치가 크게 변화한 것(예를 들어, 임계치(예를 들어, 20%) 이상의 변화율을 갖는 가중치)만 복제되고 그렇지 않은 간선(예를 들어, 20% 미만의 변화량을 갖는 간선)은 복제되지 않을 수 있다. 일 실시 예에 따라, 새롭게 추가되는 대량의 데이터 학습을 위해 기존의 네트웍 크기를 확장시킬 수 있다. 각 노드의 연결 가중치가 임의의 임계값보다 큰 연결만 남기고 나머지 연결의 가중치는 모두 0으로 두고, 적어도 한 개 이상의 0이 아닌 가중치를 가지는 연결을 가진 노드만 선택적으로 학습을 시켜서 비용함수의 값이 일정 수준 이하로 작아지지 않는 경우 네트웍 사이즈가 작다가 판단한다. 이런 경우 선택적으로 업데이트된 노드의 입력과 출력 가중치를 모두 저장해 두고 새로운 학습 데이터에 기반한 학습을 진행한다. 가중치 업데이트시 노 드의 가중치가 일정 임계값보다 더 크게 변화되면 상기 중요하다고 판단되는 기존 노드를 동일 레이어 내에서 복사함으로써 노드 개수를 확장시킬 수 있다. 이때, 임계값은 전체 가중치의 평균 가중치 변화량의 20%로 정할 수 있다. 복사한 노드 중에 새로운 데이터로 학습하였을 때, 임계값보다 가중치 변화량이 적은 연결만 가진 경 우 다시 삭제할 수 있다. 확장된 모델은 학습된 데이터의 크기가 커지면서 생기는 비선형성을 효과적으로 학습 할 수 있게 하여 모델의 성능을 향상시킬 수 있다. 도6을 참조하면, 인공 신경망 중 t-1 시점에 복사 대상 노드 로 선택된 노드들이 t 시점에 복사된 것을 확인할 수 있다. 설명들은 본 발명을 구현하기 위한 예시적인 구성들 및 동작들을 제공하도록 의도된다. 본 발명의 기술 사상은 위에서 설명된 실시 예들뿐만 아니라, 위 실시 예들을 단순하게 변경하거나 수정하여 얻어질 수 있는 구현들도 포함할 것이다. 또한, 본 발명의 기술 사상은 위에서 설명된 실시 예들을 앞으로 용이하게 변경하거나 수정하여 달성될 수 있는 구현들도 포함할 것이다."}
{"patent_id": "10-2022-0070459", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도1은 일 실시 예에 따라, 센서 데이터로부터 장비나 센서의 고장 여부를 판단하기 위한 시스템을 나타낸다. 도2는 일 실시 예에 따라, 인공 지능 기반 고장 예측 모델에 탑재되는 신경망을 나타낸다. 도3은 일 실시 예에 따라, 시계열 센서 데이터에 기반하여 센서의 고장 유무를 판단하는 방법의 흐름도를 나타 낸다. 도4는 일 실시 예에 따라, LSTM(Long Short Term Memory) 레이어를 포함하는 신경망을 나타낸다. 도5는 일 실시 예에 따라, 고장 예측 모델을 획득하는 방법의 흐름도를 나타낸다. 도6은 일 실시 예에 따라, 고장 예측 모델의 학습 과정에서 일부 노드들이 복사되면서 업데이트되는 모습을 나 타낸다."}
