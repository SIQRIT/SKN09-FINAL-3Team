{"patent_id": "10-2023-0016355", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0123672", "출원번호": "10-2023-0016355", "발명의 명칭": "평균 구동력을 예측하는 인공지능을 이용하는 배터리 제어 방법 및 장치", "출원인": "현대자동차주식회사", "발명자": "김영광"}}
{"patent_id": "10-2023-0016355", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "평균 구동력이 예측되는 인공지능을 이용하는 배터리 제어 방법에 있어서, 제 1 배터리로부터 수전하는 제 2 배터리를 갖는 이동체의 주행 데이터 기반의 구동 예측 모델에 의해 생성된예측 평균 구동력, 및 보기류 전력에 기초하여 예측 요구 전력을 취득하는 단계; 상기 이동체의 주행 동력 계통에서 방전 제어 또는 충전 제어를 실시간으로 요구하는지를 결정하는 단계; 상기 방전 제어의 경우, 상기 예측 요구 전력, 상기 방전 제어의 실전력, 상기 보기류 전력, 상기 제 2 배터리및 상기 주행 동력 계통 각각의 충방전과 관련된 한계 정보에 기초하여 방전 모드를 결정하고, 상기 결정된 방전 모드에 기반하여 상기 제 1 배터리의 발전량을 결정하는 단계; 및 상기 충전 제어의 경우, 상기 예측 요구 전력, 상기 충전 제어의 실전력, 상기 한계 정보에 기초하여 충전 모드를 결정하고, 상기 결정된 충전 모드에 기반하여 상기 제 1 배터리의 발전량을 결정하는 단계를 포함하는 배터리 제어 방법."}
{"patent_id": "10-2023-0016355", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서, 상기 예측 평균 구동력은 상기 주행 동력 계통에서 예상되는 평균 구동력이며, 상기 보기류 전력은 주행 중에상기 이동체의 비주행 동력 계통에서 소모되는 전력이고, 상기 주행 데이터는 상기 이동체의 사용 상태에 따른 중량 데이터, 상기 이동체에 요청되는 가속 및 제동 제어와 관련된 가감속 제어 데이터, 상기 이동체의 회생 제동 제어와 관련된 회생 제어 데이터, 상기 이동체의 속력데이터, 상기 이동체의 주행 경로 상의 구배와 관련된 구배 데이터, 상기 이동체의 정차 제어와 관련된 정차 데이터, 상기 주행 동력 계통에서 소요되는 구동력과 관련된 구동 데이터 중 적어도 하나에 대한 평균 데이터를포함하고, 상기 주행 데이터의 적어도 일부는 상기 주행 데이터에 속한 데이터에 대한 스케일링된 평균 아크 길이(scaledmean arc length)로 처리되어 생성되는, 배터리 제어 방법."}
{"patent_id": "10-2023-0016355", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1 항에 있어서, 상기 방전 제어 또는 상기 충전 제어를 요구하는지를 결정하는 단계는, 상기 주행 동력 계통에 실시간으로 요구되는 순시 요구 전력이 영(0) 이상인 경우, 상기 방전 제어의 요구로 결정하고, 상기 순시 요구 전력이 영보다작은 경우, 상기 충전 제어의 요구로 결정하는 것을 포함하는, 배터리 제어 방법."}
{"patent_id": "10-2023-0016355", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 3 항에 있어서, 상기 한계 정보는 제 2 배터리 방전 한계량 및 상기 주행 동력 계통의 동력 계통 방전 한계량을 포함하고, 상기 방전 제어의 경우, 상기 방전 제어의 실전력은 상기 순시 요구 전력 및 상기 동력 계통 방전 한계량에 기초하여 결정되는 순시 한계 전력이며, 상기 방전 모드는 상기 순시 한계 전력과 상기 보기류 전력의 제 1 합이 상기 예측 요구 전력과 상기 제 2 배터공개특허 10-2024-0123672-3-리 방전 한계량의 제 2 합 이하인 경우에, 제 1 방전 모드로 결정되고,상기 방전 모드는 상기 제 1 합이 상기 제 2 합보다 큰 경우, 상기 제 1 방전 모드보다 강방전으로 실행되는 제2 방전 모드로 결정되는, 배터리 제어 방법."}
{"patent_id": "10-2023-0016355", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 4 항에 있어서, 상기 결정된 방전 모드에 기반하여 상기 제 1 배터리의 발전량을 결정하는 단계는, 상기 제 1 방전 모드의 경우, 상기 예측 요구 전력에 기초하여 상기 제 1 배터리의 발전량을 결정하는 단계; 및 상기 제 2 방전 모드인 경우, 상기 순시 한계 전력, 상기 보기류 전력 및 상기 제 2 배터리 방전 한계량에 기초하여 상기 제 1 배터리의 발전량을 결정하는 단계를 포함하는, 배터리 제어 방법."}
{"patent_id": "10-2023-0016355", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 3 항에 있어서, 상기 한계 정보는 제 2 배터리 충전 한계량 및 상기 주행 동력 계통의 동력 계통 충전 한계량을 포함하며, 상기 충전 제어의 경우, 상기 충전 제어의 실전력은 상기 순시 요구 전력 및 상기 동력 계통 충전 한계량에 기초하여 결정되는 순시 한계 전력이고, 상기 충전 모드는 절대값 기준으로 제 1 이동체 충전 한계량이 상기 순시 한계 전력보다 큰 경우, 제 1 충전 모드로 결정되며, 상기 충전 모드는 절대값 기준으로 상기 제 1 이동체 충전 한계량이 상기 순시 한계 전력 이하인 경우, 상기 제1 충전 모드보다 강충전으로 실행되는 제 2 충전 모드로 결정되고, 상기 제 1 이동체 충전 한계량은 상기 제 1 충전 모드에서 상기 이동체가 충전되는 추정 한계량이며, 상기 예측요구 전력과 상기 제 2 배터리 충전 한계량에 기초하여 결정되는, 배터리 제어 방법."}
{"patent_id": "10-2023-0016355", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제 6 항에 있어서, 상기 결정된 충전 모드에 기반하여 상기 제 1 배터리의 발전량을 결정하는 단계는, 상기 제 1 충전 모드의 경우, 상기 예측 요구 전력에 기초하여 상기 제 1 배터리의 발전량을 결정하는 단계; 및 상기 제 2 충전 모드인 경우, 상기 순시 한계 전력, 상기 보기류 전력 및 상기 제 2 배터리 충전 한계량에 기초하여 상기 제 1 배터리의 발전량을 결정하는 단계를 포함하는, 배터리 제어 방법."}
{"patent_id": "10-2023-0016355", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 1 항에 있어서, 상기 결정된 방전 모드에 기반하여 제 1 배터리의 발전량을 결정하는 단계는, 상기 결정된 방전 모드에 따른 이동체 발전량, 상기 제 1 배터리의 상태 및 상기 제 1 배터리의 발전 한계량에 기초하여 상기 제 1 배터리의 발전량을 결정하는 것을 포함하고, 상기 결정된 충전 모드에 기반하여 제 1 배터리의 발전량을 결정하는 단계는, 상기 결정된 충전 모드에 따른이동체 발전량, 상기 제 1 배터리의 상태 및 상기 제 1 배터리의 발전 한계량에 기초하여 상기 제 1 배터리의발전량을 결정하는 것을 포함하는, 배터리 제어 방법.공개특허 10-2024-0123672-4-청구항 9 제 1 항에 있어서, 상기 예측 요구 전력을 취득하는 단계는 상기 예측 평균 구동력 및 상기 보기류 전력과 함께, 상기 제 2 배터리의 현재 SOC(State Of Charge)에 기반하여 보정된 SOC 보정 전력에 기초하여 상기 예측 요구 전력을 취득하는것을 포함하는, 배터리 제어 방법."}
{"patent_id": "10-2023-0016355", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제 1 항에 있어서, 상기 구동 예측 모델은 상기 이동체 외부의 서버로부터 생성되거나 상기 서버에서 업데이트되어, 상기 서버로부터 수신되고, 상기 구동 예측 모델은 상기 이동체의 과거 주행에서 생성된 기존 주행 데이터를 활용하는 인공지능 모델의 학습에 의해 구축되며, 상기 학습은 시계열적으로 생성된 기존 주행 데이터에서 소정 사이즈의 윈도우를 이동하여산출한 상기 기존 주행 데이터의 이동 평균값에 기초하여 수행되는, 배터리 제어 방법."}
{"patent_id": "10-2023-0016355", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "평균 구동력이 예측되는 인공지능을 이용하는 배터리 제어 장치에 있어서,적어도 하나의 인스트럭션을 저장하는 메모리; 및상기 메모리에 저장된 상기 적어도 하나의 인스트럭션을 실행하는 프로세서를 포함하고,상기 프로세서는, 제 1 배터리로부터 수전하는 제 2 배터리를 갖는 이동체의 주행 데이터 기반의 구동 예측 모델에 의해 생성된예측 평균 구동력, 및 보기류 전력에 기초하여 예측 요구 전력을 취득하고,상기 이동체의 주행 동력 계통에서 방전 제어 또는 충전 제어를 실시간으로 요구하는지를 결정하고, 상기 방전 제어의 경우, 상기 예측 요구 전력, 상기 방전 제어의 실전력, 상기 보기류 전력, 상기 제 2 배터리및 상기 주행 동력 계통 각각의 충방전과 관련된 한계 정보에 기초하여 방전 모드를 결정하고, 상기 결정된 방전 모드에 기반하여 상기 제 1 배터리의 발전량을 결정하고, 상기 충전 제어의 경우, 상기 예측 요구 전력, 상기 충전 제어의 실전력, 상기 한계 정보에 기초하여 충전 모드를 결정하고, 상기 결정된 충전 모드에 기반하여 상기 제 1 배터리의 발전량을 결정하도록 구성되는, 배터리 제어 장치."}
{"patent_id": "10-2023-0016355", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제 11 항에 있어서, 상기 예측 평균 구동력은 상기 주행 동력 계통에서 예상되는 평균 구동력이며, 상기 보기류 전력은 주행 중에상기 이동체의 비주행 동력 계통에서 소모되는 전력이고, 상기 주행 데이터는 상기 이동체의 사용 상태에 따른 중량 데이터, 상기 이동체에 요청되는 가속 및 제동 제어와 관련된 가감속 제어 데이터, 상기 이동체의 회생 제동 제어와 관련된 회생 제어 데이터, 상기 이동체의 속력데이터, 상기 이동체의 주행 경로 상의 구배와 관련된 구배 데이터, 상기 이동체의 정차 제어와 관련된 정차 데이터, 상기 주행 동력 계통에서 소요되는 구동력과 관련된 구동 데이터 중 적어도 하나에 대한 평균 데이터를포함하고, 상기 주행 데이터의 적어도 일부는 상기 주행 데이터에 속한 데이터에 대한 스케일링된 평균 아크 길이로 처리되어 생성되는, 배터리 제어 장치.공개특허 10-2024-0123672-5-청구항 13 제 11 항에 있어서,상기 방전 제어 또는 상기 충전 제어를 요구하는지를 결정하는 것은, 상기 주행 동력 계통에 실시간으로 요구되는 순시 요구 전력이 영(0) 이상인 경우, 상기 방전 제어의 요구로 결정하고, 상기 순시 요구 전력이 영보다 작은 경우, 상기 충전 제어의 요구로 결정하는 것을 포함하는, 배터리 제어 장치."}
{"patent_id": "10-2023-0016355", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제 13 항에 있어서,상기 한계 정보는 제 2 배터리 방전 한계량 및 상기 주행 동력 계통의 동력 계통 방전 한계량을 포함하고, 상기 방전 제어의 경우, 상기 방전 제어의 실전력은 상기 순시 요구 전력 및 상기 동력 계통 방전 한계량에 기초하여 결정되는 순시 한계 전력이며, 상기 방전 모드는 상기 순시 한계 전력과 상기 보기류 전력의 제 1 합이 상기 예측 요구 전력과 상기 제 2 배터리 방전 한계량의 제 2 합 이하인 경우에, 제 1 방전 모드로 결정되고,상기 방전 모드는 상기 제 1 합이 상기 제 2 합보다 큰 경우, 상기 제 1 방전 모드보다 강방전으로 실행되는 제2 방전 모드로 결정되는, 배터리 제어 장치."}
{"patent_id": "10-2023-0016355", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제 14 항에 있어서,상기 결정된 방전 모드에 기반하여 상기 제 1 배터리의 발전량을 결정하는 것은, 상기 제 1 방전 모드의 경우, 상기 예측 요구 전력에 기초하여 상기 제 1 배터리의 발전량을 결정하고, 상기 제 2 방전 모드인 경우, 상기 순시 한계 전력, 상기 보기류 전력 및 상기 제 2 배터리 방전 한계량에 기초하여 상기 제 1 배터리의 발전량을 결정하는 것을 포함하는, 배터리 제어 장치."}
{"patent_id": "10-2023-0016355", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제 13 항에 있어서,상기 한계 정보는 제 2 배터리 충전 한계량 및 상기 주행 동력 계통의 동력 계통 충전 한계량을 포함하며, 상기 충전 제어의 경우, 상기 충전 제어의 실전력은 상기 순시 요구 전력 및 상기 동력 계통 충전 한계량에 기초하여 결정되는 순시 한계 전력이고, 상기 충전 모드는 절대값 기준으로 제 1 이동체 충전 한계량이 절대값 기준의 상기 순시 한계 전력보다 큰경우, 제 1 충전 모드로 결정되며, 상기 충전 모드는 절대값 기준으로 상기 제 1 이동체 충전 한계량이 상기 순시 한계 전력 이하인 경우, 상기 제1 충전 모드보다 강충전으로 실행되는 제 2 충전 모드로 결정되고, 상기 제 1 이동체 충전 한계량은 상기 제 1 충전 모드에서 상기 이동체가 충전되는 추정 한계량이며, 상기 예측요구 전력과 상기 제 2 배터리 충전 한계량에 기초하여 결정되는, 배터리 제어 장치."}
{"patent_id": "10-2023-0016355", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제 16 항에 있어서,공개특허 10-2024-0123672-6-상기 결정된 충전 모드에 기반하여 상기 제 1 배터리의 발전량을 결정하는 것은, 상기 제 1 충전 모드의 경우, 상기 예측 요구 전력에 기초하여 상기 제 1 배터리의 발전량을 결정하고, 상기 제 2 충전 모드인 경우, 상기 순시 한계 전력, 상기 보기류 전력 및 상기 제 2 배터리 충전 한계량에 기초하여 상기 제 1 배터리의 발전량을 결정하는 것을 포함하는, 배터리 제어 장치."}
{"patent_id": "10-2023-0016355", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "제 11 항에 있어서,상기 결정된 방전 모드에 기반하여 제 1 배터리의 발전량을 결정하는 것은, 상기 결정된 방전 모드에 따른 이동체 발전량, 상기 제 1 배터리의 상태 및 상기 제 1 배터리의 발전 한계량에 기초하여 상기 제 1 배터리의 발전량을 결정하는 것을 포함하고, 상기 결정된 충전 모드에 기반하여 제 1 배터리의 발전량을 결정하는 것은, 상기 결정된 충전 모드에 따른 이동체 발전량, 상기 제 1 배터리의 상태 및 상기 제 1 배터리의 발전 한계량에 기초하여 상기 제 1 배터리의 발전량을 결정하는 것을 포함하는, 배터리 제어 장치."}
{"patent_id": "10-2023-0016355", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_19", "content": "제 11 항에 있어서,상기 예측 요구 전력을 취득하는 것은 상기 예측 평균 구동력 및 상기 보기류 전력과 함께, 상기 제 1 배터리의현재 SOC에 기반하여 보정된 SOC 보정 전력에 기초하여 상기 예측 요구 전력을 취득하는 것을 포함하는, 배터리제어 장치."}
{"patent_id": "10-2023-0016355", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_20", "content": "제 11 항에 있어서,상기 구동 예측 모델은 상기 이동체 외부의 서버로부터 생성되거나 상기 서버에서 업데이트되어, 상기 서버로부터 수신되고, 상기 구동 예측 모델은 상기 이동체의 과거 주행에서 생성된 기존 주행 데이터를 활용하는 인공지능 모델의 학습에 의해 구축되며, 상기 학습은 시계열적으로 생성된 기존 주행 데이터에서 소정 사이즈의 윈도우를 이동하여산출한 상기 기존 주행 데이터의 이동 평균값에 기초하여 수행되는, 배터리 제어 장치."}
{"patent_id": "10-2023-0016355", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "평균 구동력을 예측하는 인공지능을 이용하는 배터리 제어 방법 및 장치가 개시된다. 상기 방법은, 제 1 배터리로부터 수전하는 제 2 배터리를 갖는 이동체의 주행 데이터 기반의 구동 예측 모델에 의해 생성된 예측 평균 구동력, 및 보기류 전력에 기초하여 예측 요구 전력을 취득하는 단계; 상기 이동체의 주 (뒷면에 계속)"}
{"patent_id": "10-2023-0016355", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 개시는 평균 구동력을 예측하는 인공지능을 이용하는 배터리 제어 방법 및 장치에 관한 것이며, 보다 구체적 으로는 이동체의 주행 상황에 적응적으로 이동체의 구동력을 예측함과 아울러서, 이동체의 내재적 정보를 기반 으로 구동력을 추정하여 이동체의 배터리를 효율적으로 제어하는 배터리 제어 방법 및 장치에 대한 것이다."}
{"patent_id": "10-2023-0016355", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "무거운 중량 및 상시적인 장거리 주행이 수반되는 차량은 종래에 에너지원으로서 화석 연료를 사용하였다. 그러 나, 최근 친환경 에너지원을 요구하는 추세에 따라, 차량은 화석 연료가 아닌 전기 에너지로 운영되도록 설계되 고 있다. 차량은 전기 배터리만을 탑재하여 구동할 수도 있으나, 주로 용도, 중량 및 주행 거리 관점에서 요구 되는 성능을 충족하기 위해, 전기 배터리와 함께, 주에너지원으로서 연료 전지를 사용하는 FCEV(Fuel Cell Electric Vehicle)로 운용될 수 있다. 연료 전지 기반의 차량은 주로 버스, 대형 트럭, 컨테이너 차량과 같은 상용차(commercial vehicle)로 활용되나, 다양한 용도, 예컨대 소형 승용차부터 특수용 차량까지 광범위로 확대되고 있다. 연료 전지 기반의 차량에서 주행 구동에 필요한 전력은 통상적으로 전기 배터리로부터 공급되며, 전력을 공급하 기 위해, 전기 배터리는 연료 전지의 발전에 의해 충전될 수 있다. 주행 구동은 파워 트레인(power-train) 구동 력에 의해 구현되며, 파워 트레인 구동력은 종국적으로 연료 전지의 발전 전력에 기반하고 있다. 또한, 차량은 주행 구동 외에, 차량에 탑재된 보기류(accessories)의 이용으로 인해 보기류 전력을 요구하므로, 보기류 전력 을 지원하는 에너지 역시 필요하다. 즉, 주행 구동 및 보기류 작동은 차량의 실제 이용에서 발생되며, 주행 구 동의 파워 트레인 구동력 및 보기류 전력은 차량 사용자의 요청에 따라 소모될 수 있다. 결정된 구동력 및 보기류 전력은 차량의 실제 운용에서 요구되는 차량 요구 전력을 구성할 수 있다. 종래에는 차량 요구 전력 및 연료 전지의 SOC에 따른 연료 전지의 발전량을 미리 테이블화한 발전량 맵을 이용하여, 맵에 서 정의한 전력량이 연료 전지의 발전량으로 결정된다."}
{"patent_id": "10-2023-0016355", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 2, "content": "요약하면, 동일한 용도의 차량은 동일한 발전량 맵을 이용한다. 이에 의하면, 종래의 발전량 맵은 차량 별로 상 이한 과거의 주행 환경과 운행 상태를 반영하여 마련되지 않으므로, 차량에 고유하게 요구되는 주행 상황에 적 합하도록 발전량이 산출되지 않을 수 있다. 더욱이, 차량이 다른 차량과 상이한 경로로 반복적으로 주행되더라 도, 모든 차량에 공통적으로 적용되는 발전량 맵에 의해 발전량이 설정되면, 상기 발전량은 해당 차량의 고유의 경로에 적합하지 않을 수 있다. 이는 발전량 맵이 반복적으로 발생하거나 유사한 주행 상황에 적응적으로 발전 량을 제공할 수 없는데 기인한다. 상세하게는 차량이 과거와 유사한 주행 상황에서 운행되는 경우, 종래의 발전 량 결정 방법은 현 상황 이후의 주행 상황을 예측하여 차량 특유의 주행 상황에서의 최적의 발전량을 제공할 수 없다. 종래의 방법은 차량 고유의 주행 상황 및 이의 예측을 고려하지 않으므로, 예기치 않은 고전력 요구 및 배터리 방전에 따른 구동 불가를 우려하여, 과도한 값으로 발전량을 설정할 수 있다. 주행 상황에 불필요한 과도한 발 전량은 연료 전지의 발전 효율을 현저히 저하시킬 수 있다."}
{"patent_id": "10-2023-0016355", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 개시의 기술적 과제는 이동체의 주행 상황에 적응적으로 이동체의 구동력을 예측함과 아울러서, 이동체의 내 재적 정보를 기반으로 구동력을 추정하여 이동체의 배터리를 효율적으로 제어하도록, 평균 구동력을 예측하는 인공지능을 이용하는 배터리 제어 방법 및 장치를 제공하는데 그 목적이 있다. 본 개시에서 이루고자 하는 기술적 과제들은 이상에서 언급한 기술적 과제들로 제한되지 않으며, 언급하지 않은"}
{"patent_id": "10-2023-0016355", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 2, "content": "또 다른 기술적 과제들은 아래의 기재로부터 본 개시가 속하는 기술분야에서 통상의 지식을 가진 자에게 명확하 게 이해될 수 있을 것이다."}
{"patent_id": "10-2023-0016355", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 개시의 일 양상에 따르면, 평균 구동력을 예측하는 인공지능을 이용하는 배터리 제어 방법이 제공된다. 상기 배터리 제어 방법은, 제 1 배터리로부터 수전하는 제 2 배터리를 갖는 이동체의 주행 데이터 기반의 구동 예측 모델에 의해 생성된 예측 평균 구동력, 및 보기류 전력에 기초하여 예측 요구 전력을 취득하는 단계; 상기 이동 체의 주행 동력 계통에서 방전 제어 또는 충전 제어를 실시간으로 요구하는지를 결정하는 단계; 상기 방전 제어 의 경우, 상기 예측 요구 전력, 상기 방전 제어의 실전력, 상기 보기류 전력, 상기 제 2 배터리 및 상기 주행 동력 계통 각각의 충방전과 관련된 한계 정보에 기초하여 방전 모드를 결정하고, 상기 결정된 방전 모드에 기반 하여 상기 제 1 배터리의 발전량을 결정하는 단계; 및 상기 충전 제어의 경우, 상기 예측 요구 전력, 상기 충전 제어의 실전력, 상기 한계 정보에 기초하여 충전 모드를 결정하고, 상기 결정된 충전 모드에 기반하여 상기 제 1 배터리의 발전량을 결정하는 단계를 포함한다. 본 개시의 다른 실시예에 따르면, 상기 예측 평균 구동력은 상기 주행 동력 계통에서 예상되는 평균 구동력이며, 상기 보기류 전력은 주행 중에 상기 이동체의 비주행 동력 계통에서 소모되는 전력일 수 있다. 상기 주행 데이터는 상기 이동체의 사용 상태에 따른 중량 데이터, 상기 이동체에 요청되는 가속 및 제동 제어와 관련된 가감속 제어 데이터, 상기 이동체의 회생 제동 제어와 관련된 회생 제어 데이터, 상기 이동체의 속력 데 이터, 상기 이동체의 주행 경로 상의 구배와 관련된 구배 데이터, 상기 이동체의 정차 제어와 관련된 정차 데이 터, 상기 주행 동력 계통에서 소요되는 구동력과 관련된 구동 데이터 중 적어도 하나에 대한 평균 데이터를 포 함할 수 있다. 상기 주행 데이터의 적어도 일부는 상기 주행 데이터에 속한 데이터에 대한 스케일링된 평균 아 크 길이(scaled mean arc length)로 처리되어 생성될 수 있다. 본 개시의 또 다른 실시예에 따르면, 상기 방전 제어 또는 상기 충전 제어를 요구하는지를 결정하는 단계는, 상 기 주행 동력 계통에 실시간으로 요구되는 순시 요구 전력이 영 이상인 경우, 상기 방전 제어의 요구로 결정 하고, 상기 순시 요구 전력이 영보다 작은 경우, 상기 충전 제어의 요구로 결정하는 것을 포함할 수 있다. 본 개시의 또 다른 실시예에 따르면, 상기 한계 정보는 제 2 배터리 방전 한계량 및 상기 주행 동력 계통의 동 력 계통 방전 한계량을 포함하고, 상기 방전 제어의 경우, 상기 방전 제어의 실전력은 상기 순시 요구 전력 및 상기 동력 계통 방전 한계량에 기초하여 결정되는 순시 한계 전력일 수 있다. 상기 방전 모드는 상기 순시 한계 전력과 상기 보기류 전력의 제 1 합이 상기 예측 요구 전력과 상기 제 2 배터리 방전 한계량의 제 2 합 이하인 경우에, 제 1 방전 모드로 결정되고,상기 방전 모드는 상기 제 1 합이 상기 제 2 합보다 큰 경우, 상기 제 1 방 전 모드보다 강방전으로 실행되는 제 2 방전 모드로 결정될 수 있다. 본 개시의 또 다른 실시예에 따르면, 상기 결정된 방전 모드에 기반하여 상기 제 1 배터리의 발전량을 결정하는 단계는, 상기 제 1 방전 모드의 경우, 상기 예측 요구 전력에 기초하여 상기 제 1 배터리의 발전량을 결정하는 단계; 및 상기 제 2 방전 모드인 경우, 상기 순시 한계 전력, 상기 보기류 전력 및 상기 제 2 배터리 방전 한계 량에 기초하여 상기 제 1 배터리의 발전량을 결정하는 단계를 포함할 수 있다. 본 개시의 또 다른 실시예에 따르면, 상기 한계 정보는 제 2 배터리 충전 한계량 및 상기 주행 동력 계통의 동 력 계통 충전 한계량을 포함하며, 상기 충전 제어의 경우, 상기 충전 제어의 실전력은 상기 순시 요구 전력 및 상기 동력 계통 충전 한계량에 기초하여 결정되는 순시 한계 전력일 수 있다. 상기 충전 모드는 절대값 기준으 로 제 1 이동체 충전 한계량이 상기 순시 한계 전력보다 큰 경우, 제 1 충전 모드로 결정되며, 상기 충전 모드 는 절대값 기준으로 상기 제 1 이동체 충전 한계량이 상기 순시 한계 전력 이하인 경우, 상기 제 1 충전 모드보 다 강충전으로 실행되는 제 2 충전 모드로 결정될 수 있다. 상기 제 1 이동체 충전 한계량은 상기 제 1 충전 모 드에서 상기 이동체가 충전되는 추정 한계량이며, 상기 예측 요구 전력과 상기 제 2 배터리 충전 한계량에 기초 하여 결정될 수 있다. 본 개시의 또 다른 실시예에 따르면, 상기 결정된 충전 모드에 기반하여 상기 제 1 배터리의 발전량을 결정하는 단계는, 상기 제 1 충전 모드의 경우, 상기 예측 요구 전력에 기초하여 상기 제 1 배터리의 발전량을 결정하는 단계; 및 상기 제 2 충전 모드인 경우, 상기 순시 한계 전력, 상기 보기류 전력 및 상기 제 2 배터리 충전 한계 량에 기초하여 상기 제 1 배터리의 발전량을 결정하는 단계를 포함할 수 있다. 본 개시의 또 다른 실시예에 따르면, 상기 결정된 방전 모드에 기반하여 제 1 배터리의 발전량을 결정하는 단계 는, 상기 결정된 방전 모드에 따른 이동체 발전량, 상기 제 1 배터리의 상태 및 상기 제 1 배터리의 발전 한계 량에 기초하여 상기 제 1 배터리의 발전량을 결정하는 것을 포함할 수 있다. 상기 결정된 충전 모드에 기반하 여 제 1 배터리의 발전량을 결정하는 단계는, 상기 결정된 충전 모드에 따른 이동체 발전량, 상기 제 1 배터리 의 상태 및 상기 제 1 배터리의 발전 한계량에 기초하여 상기 제 1 배터리의 발전량을 결정하는 것을 포함할 수 있다. 본 개시의 또 다른 실시예에 따르면, 상기 예측 요구 전력을 취득하는 단계는 상기 예측 평균 구동력 및 상기 보기류 전력과 함께, 상기 제 2 배터리의 현재 SOC(State Of Charge)에 기반하여 보정된 SOC 보정 전력에 기초 하여 상기 예측 요구 전력을 취득하는 것을 포함할 수 있다. 본 개시의 또 다른 실시예에 따르면, 상기 구동 예측 모델은 상기 이동체 외부의 서버로부터 생성되거나 상기 서버에서 업데이트되어, 상기 서버로부터 수신되고, 상기 구동 예측 모델은 상기 이동체의 과거 주행에서 생성 된 기존 주행 데이터를 활용하는 인공지능 모델의 학습에 의해 구축되며, 상기 학습은 시계열적으로 생성된 기 존 주행 데이터에서 소정 사이즈의 윈도우를 이동하여 산출한 상기 기존 주행 데이터의 이동 평균값에 기초하여 수행될 수 있다. 본 개시의 다른 양상에 따르면, 평균 구동력을 예측하는 인공지능을 이용하는 배터리 제어 장치가 제공된다. 상 기 배터리 제어 장치는, 적어도 하나의 인스트럭션을 저장하는 메모리; 및 상기 메모리에 저장된 상기 적어도하나의 인스트럭션을 실행하는 프로세서를 포함한다. 상기 프로세서는, 제 1 배터리로부터 수전하는 제 2 배터 리를 갖는 이동체의 주행 데이터 기반의 구동 예측 모델에 의해 생성된 예측 평균 구동력, 및 보기류 전력에 기 초하여 예측 요구 전력을 취득하고, 상기 이동체의 주행 동력 계통에서 방전 제어 또는 충전 제어를 실시간으로 요구하는지를 결정하고, 상기 방전 제어의 경우, 상기 예측 요구 전력, 상기 방전 제어의 실전력, 상기 보기류 전력, 상기 제 2 배터리 및 상기 주행 동력 계통 각각의 충방전과 관련된 한계 정보에 기초하여 방전 모드를 결 정하고, 상기 결정된 방전 모드에 기반하여 상기 제 1 배터리의 발전량을 결정하고, 상기 충전 제어의 경우, 상 기 예측 요구 전력, 상기 충전 제어의 실전력, 상기 한계 정보에 기초하여 충전 모드를 결정하고, 상기 결정된 충전 모드에 기반하여 상기 제 1 배터리의 발전량을 결정하도록 구성된다."}
{"patent_id": "10-2023-0016355", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 2, "content": "본 개시에 대하여 위에서 간략하게 요약된 특징들은 후술하는 본 개시의 상세한 설명의 예시적인 양상일 뿐이며, 본 개시의 범위를 제한하는 것은 아니다."}
{"patent_id": "10-2023-0016355", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 개시에 따르면, 이동체의 주행 상황에 적응적으로 이동체의 구동력을 예측함과 아울러서, 이동체의 내재적 정보를 기반으로 구동력을 추정하여 이동체의 배터리를 효율적으로 제어하도록, 평균 구동력이 예측되는 인공지 능을 이용하는 배터리 제어 방법 및 장치를 제공할 수 있다. 본 개시에서 얻을 수 있는 효과는 이상에서 언급한 효과들로 제한되지 않으며, 언급하지 않은 또 다른 효과들은"}
{"patent_id": "10-2023-0016355", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 2, "content": "아래의 기재로부터 본 개시가 속하는 기술분야에서 통상의 지식을 가진 자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2023-0016355", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하에서는 첨부한 도면을 참고로 하여 본 개시의 실시 예에 대하여 본 개시가 속하는 기술 분야에서 통상의 지 식을 가진 자가 용이하게 실시할 수 있도록 상세히 설명한다. 그러나, 본 개시는 여러 가지 상이한 형태로 구현 될 수 있으며 여기에서 설명하는 실시 예에 한정되지 않는다. 본 개시의 실시 예를 설명함에 있어서 공지 구성 또는 기능에 대한 구체적인 설명이 본 개시의 요지를 흐릴 수 있다고 판단되는 경우에는 그에 대한 상세한 설명은 생략한다. 그리고, 도면에서 본 개시에 대한 설명과 관계없 는 부분은 생략하였으며, 유사한 부분에 대해서는 유사한 도면 부호를 붙였다. 본 개시에 있어서, 어떤 구성요소가 다른 구성요소와 \"연결\", \"결합\" 또는 \"접속\"되어 있다고 할 때, 이는 직접 적인 연결관계 뿐만 아니라, 그 중간에 또 다른 구성요소가 존재하는 간접적인 연결관계도 포함할 수 있다. 또 한 어떤 구성요소가 다른 구성요소를 \"포함한다\" 또는 \"가진다\"고 할 때, 이는 특별히 반대되는 기재가 없는 한 다른 구성요소를 배제하는 것이 아니라 또 다른 구성요소를 더 포함할 수 있는 것을 의미한다. 본 개시에 있어서, 제1, 제2 등의 용어는 하나의 구성요소를 다른 구성요소로부터 구별하는 목적으로만 사용되 며, 특별히 언급되지 않는 한 구성요소들간의 순서 또는 중요도 등을 한정하지 않는다. 따라서, 본 개시의 범위 내에서 일 실시 예에서의 제1 구성요소는 다른 실시 예에서 제2 구성요소라고 칭할 수도 있고, 마찬가지로 일 실시 예에서의 제2 구성요소를 다른 실시 예에서 제1 구성요소라고 칭할 수도 있다. 본 개시에 있어서, 서로 구별되는 구성요소들은 각각의 특징을 명확하게 설명하기 위함이며, 구성요소들이 반드 시 분리되는 것을 의미하지는 않는다. 즉, 복수의 구성요소가 통합되어 하나의 하드웨어 또는 소프트웨어 단위 로 이루어질 수도 있고, 하나의 구성요소가 분산되어 복수의 하드웨어 또는 소프트웨어 단위로 이루어질 수도 있다. 따라서, 별도로 언급하지 않더라도 이와 같이 통합된 또는 분산된 실시 예도 본 개시의 범위에 포함된다. 본 개시에 있어서, 다양한 실시 예에서 설명하는 구성요소들이 반드시 필수적인 구성요소들을 의미하는 것은 아 니며, 일부는 선택적인 구성요소일 수 있다. 따라서, 일 실시 예에서 설명하는 구성요소들의 부분집합으로 구성 되는 실시 예도 본 개시의 범위에 포함된다. 또한, 다양한 실시 예에서 설명하는 구성요소들에 추가적으로 다른 구성요소를 포함하는 실시 예도 본 개시의 범위에 포함된다. 본 개시에서, \"A 또는 B\", \"A 및 B 중 적어도 하나\", \"A 또는 B 중 적어도 하나\", \"A, B 또는 C\", \"A, B 및 C 중 적어도 하나\", 및 \"A, B, 또는 C 중 적어도 하나(at least one of A, B, C or combination thereof)\"와 같 은 문구들 각각은 그 문구들 중 해당하는 문구에 함께 나열된 항목들 중 어느 하나, 또는 그들의 모든 가능한 조합을 포함할 수 있다. 본 발명의 이점 및 특징, 그리고 그것들을 달성하는 방법은 첨부되는 도면과 함께 상세하게 후술되어 있는 실시 예들을 참조하면 명확해질 것이다. 그러나 본 발명은 이하에서 제시되는 실시예들에 한정되는 것이 아니라 서로 다른 다양한 형태로 구현될 수 있으며, 단지 본 실시예들은 본 발명의 개시가 완전하도록 하고, 본 발명이 속하"}
{"patent_id": "10-2023-0016355", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "는 기술분야에서 통상의 지식을 가진 자에게 발명의 범주를 완전하게 알려주기 위해 제공되는 것이다. 이하, 도 1을 참조하여, 본 개시의 일 실시예에 따른 평균 구동력이 예측되는 인공지능을 이용하는 배터리 제어 장치에 대해 설명하기로 한다. 도 1은 이동체가 다른 장치와 통신하여 주행 데이터 및 구동 예측 모델을 송수신하는 것을 예시한 도면이다. 도 1을 참조하면, 이동체는 전기 에너지 기반으로 구동될 수 있다. 예컨대, 이동체는 가스 기반의 연 료 전지를 에너지원으로 채용할 수 있다. 연료 전지의 경우, 이동체는 연료 전지에서 전기 에너지를 생성 할 수 있는 다양한 형태의 가스를 이용할 수 있으며, 가스는 일례로 수소일 수 있다. 그러나, 이에 제한되지 않 고 다양한 가스가 적용 가능하다. 본 개시에서는 전기 에너지 이동체가 연료 전지 기반 이동체인 것을 예 로 들어 설명한다. 그러나, 본 개시는, 제 1 및 제 2 배터리들이 이종이며, 제 1 배터리가 발전하여 이동체 의 구동 및 보기류 등을 위한 전력이 출력되는 제 2 배터리를 충전하는 방식을 채용하는 이동체라면 적용 될 수 있다. 이동체는 이동할 수 있는 디바이스를 지칭할 수 있다. 이동체는 지상을 주행하는 지상 이동체인 차량 으로서, 통상적인 승용 또는 상용 이동체, 이동 오피스 또는 이동 호텔일 수 있다. 이동체는 4륜 이동체, 예컨대 승용차, SUV, 소형 트럭일 수 있으며, 4륜 초과의 이동체, 예컨대 버스, 대형 트럭, 컨테이너 운반이동 체, 중장비 이동체 등일 수 있다. 이동체는 복수의 배터리를 사용하는 유인 또는 무인 로봇일 수 있으며, 예컨대 건설 기계용 로봇 장치 등일 수 있다. 또한, 이동체는 지상 이동체에 한정되지 않으며, 예를 들어서 복수의 배터리를 사용하는 비행 이동체 또는 수상교통을 위한 수상용 이동체일 수 있다. 비행 이동체는 유인 혹은 무인 비행체를 포함하며, 무인 비행체는 예컨대, 드론 또는 PAV(Personal Aerial Vehicle) 일 수 있다. 수상용 이동체는 유인 혹은 무인으로 운용되는 선박 또는 잠수함 등일 수 있다. 이동체는 수동 운행 또는 자율주행(반자율 및 완전자율 주행 포함)으로 구현될 수 있다. 한편, 이동체는 다른 디바이스 또는 다른 이동체와 통신을 수행할 수 있다. 다른 디바이스는 예를 들어, 이동체의 주행을 지원하는 서버, ITS(Intelligent Transportation System)로부터 정보를 수신하기 위한 ITS 디바이스, 다양한 유형의 사용자 디바이스 등을 포함할 수 있다. 서버는 이동체로부터 전송되는 요청 및 데이터에 응답하여, 이동체의 제어에 이용되는 다양한 정보 및 소프트웨어 모듈을 이동체에 송신할 수 있다. 소프트웨어 모듈은 예컨대, 이동체의 주행, 경 로, 전력, 비주행 기능 모듈 등을 제어하는 이동체 제어 소프트웨어 모델일 수 있다. 또한, 이동체 제어 소프트 웨어 모델은 이동체에서 요구되는 전력을 충족시키기 위한 배터리 제어에 이용되는 구동 예측 모델을 포함 할 수 있으며, 구동 예측 모델은 이동체로부터 전송되는 이동체의 내재적 정보에 기반하여 학습될 수 있다. 내재적 정보는 예를 들어, 이동체의 기본 구성과 주행 중에 생성되거나 획득된 정보를 갖는 주행 데 이터를 포함할 수 있다. 이에 더하여, 이동체가 자율 주행으로 운용되는 경우, 이동체 제어 소프트웨어 모 델은 자율주행의 인지, 판단, 제어와 연관되는 데이터와 소프트웨어 모듈을 포함할 수도 있다. 이동체는 셀룰라(Cellular) 통신, WAVE(Wireless Access in Vehicular Environment) 통신, DSRC(Dedicated Short Range Communication) 또는 그 밖에 다른 통신 방식에 기초하여 다른 이동체 또는 다른 디바이스와 통신을 수행할 수 있다. 예컨대, 셀룰러 통신망으로서 LTE, 5G와 같은 통신망, WiFi 통신망, WAVE 통신망 등이 이용될 수 있다. 또한, DSRC와 같이 이동체에서 사용되는 근거리 통신망 등이 사용될 수 있으 며, 상술한 실시예로 한정되지 않는다. 예를 들어, 이동체는 자신에게 탑재된 통신 제어기(Communication Control Unit; CTU)의 제어 하에, 주행 중에 생성되거나 저장된 데이터 및 애플리케이션(또는 소프트웨어)을 서버로 전송할 수 있다. 또한, 이동 체는 통신 제어기를 활용하여 서버로부터 전송되는 데이터 및 소프트웨어 모듈을 수신할 수 있다. 이 동체는 통신 제어기를 통해, 서버에서 신규로 구축되거나 업데이트된 구동 예측 모델을 포함하는 이 동체 제어 소프트웨어 모델을 수신할 수도 있다. 서버는 이동체와 통신하면서, 이동체의 다양한 제어를 위한 정보를 이동체로부터 수신하여 관리할 수 있다. 서버는 학습을 통해, 이동체의 제어에 활용할 소프트웨어 모듈을 생성하거나 업데이 트하고, 소프트웨어 모듈을 이동체에 배포할 수 있다. 구체적으로, 서버는 상기 정보를 수신하여 관 리하는 데이터 서버 모듈, 상기 정보에 기반하는 학습을 통해 소프트웨어 모듈을 생성하거나 업데이트하는 학습 모듈, 및 이동체의 소프트웨어 모듈을 전달 혹은 업데이트하기 위해, 소프트웨어 모듈을 해당 이동체에 배포하는 업데이트 서버 모듈을 포함할 수 있다. 이하에서 서버의 기능을 기재할 경우, 각 모듈을 구별하여 서술하지 않고, 설명의 편의를 위해, 서버가 해당 모듈의 기능을 수행하는 것으 로 기술될 수 있다. 서버에 대한 세부 기능의 설명이 상술한 모듈에 해당되면, 해당 모듈의 기능이 설명된 것으로 간주할 수 있다. 아울러, 소프트웨어 모듈은 이동체의 다양한 제어를 위한 소프트웨어를 포함하며, 다만 본 개시에서는 배터리의 발전량을 결정하는데 활용되는 소프트웨어를 위주로 설명한다. 상기 소프트웨어는 배터리의 발전량을 결정하기 위해, 평균 구동력을 예측하는 구동 예측 모델일 수 있다. 또한 이하에서는, 설명의 편의를 위해, 이동체가 지상에서 동작하는 차량인 것을 예시하여, 본 개시에 따 른 실시예들을 설명하기로 한다. 그러나, 본 개시의 실시예는 상술한 이동체의 다양한 유형, 즉 비행 이동체 및 수상용 이동체에 적용될 수 있다. 도 2는 본 개시의 일 실시예에 따른 배터리 제어 장치를 구비한 이동체의 구성 모듈을 나타내는 블록도이다. 이동체는 제 1 배터리, 제 2 배터리, 주행 동력 계통 및 주행 조작 컴포넌트를 포함 할 수 있다. 제 1 배터리는 도 2에서 연료 전지로 예시되어 있으며, 연료 전지는 본 개시에 따른 제 1 배터 리의 일종일 수 있다. 이하에서는 제 1 배터리 및 연료 전지는 혼용되어 기재될 수 있다. 연료 전지는 탱 크(미도시)로부터 공급된 수소와 외부로 유입되는 산소와 반응을 통해 전기 에너지를 발생시키는 수소 연료 전지를 포함할 수 있다. 도 3에 예시된 바와 같이, 연료 전지는 복수의 스택이 구비되는 수소 연료 전지로 구성될 수 있다. 또한, 연료 전지는 주행 구동 및 보기류(accessories; 118)에서 요구되는 전력에 기초하 여 결정된 발전량으로 발전되어, 발전된 전력으로 제 2 배터리를 충전할 수 있다. 아울러 연료 전지 는 설계 사양에 따라, 이동체에 탑재된 저전력 전기 모듈에 에너지를 공급할 수 있다. 제 2 배터리는 제 1 배터리의 발전에 의해 충전됨과 아울러서, 이동체의 모듈에 필요한 전력을 공급할 수 있다. 제 2 배터리는 도 2에서, 2차 전지로 구성되는 전기 배터리로 예시되며, 전기 배터리 는 제 2 배터리의 일종일 수 있다. 이하에서는 제 2 배터리 및 전기 배터리는 혼용되어 기재될 수 있다. 전기 배터리는 예컨대, 이동체의 구동, 보기류의 작동을 위한 에너지를 공급할 수 있다. 구체적으로, 전기 배터리는 연료 전지로부터 인가되는 에너지를 이동체의 시동, 구동, 조명, 공 조 및 다양한 전기 장치에 제공할 수 있다. 전기 배터리는 연료 전지보다 고전압을 출력하여, 예컨대 구동휠 및 고전력 전기 모듈 등에 에너지를 공급할 수 있다. 컨버터는 승강압기로 기능하는 모듈로서, 연료 전지로부터의 전압을 변환하여 전기 배터리로 공 급함으로써, 전기 배터리를 충전할 수 있다. 컨버터는 운용 상황에 따라, 고전압 범위로 동작되는 제 1 및 제 2 모터부(112a, 112b) 및 다양한 전자 장치에 변환된 전압으로 전력을 공급할 수 있다. 상기 전자 장치 는 예를 들면, 보기류일 수 있다. 주행 동력 계통은 사용자의 주행 제어와 관련된 요청에 따라, 주행 동작을 구현하는 모듈을 구비할 수 있 다. 이동체의 이용 공간, 예컨대 지상, 대기(air) 또는 수상 공간에 따라, 주행 동력 계통에 구비되 는 모듈이 마련될 수 있다. 본 개시에서는 지상 이동체를 예로 들어 설명하고, 지상 이동체인 경우, 주행 동력 계통은 제 1 및 제 2 휠들(110a, 110b), 제 1 및 제 2 모터부들(112a, 112b)을 포함할 수 있다. 또한, 주 행 동력 계통은 모터부들(112a, 112b)의 구동력을 휠들(110a, 110b)로 전달하기 위한 기계적 컴포넌트, 제 동 제어와 관련된 요청에 따라, 휠들(110a, 110b)을 제동하는 제동 모듈을 구비할 수 있다. 본 개시에서는, 제 1 및 제 2 휠들(110a, 110b)이 4륜 구동으로 기능하고, 제 1 및 제 2 모터부들(112a, 112 b)로부터 동력을 전달받아 구동되는 것을 예시하고 있다. 그러나, 이동체는 특수 용도를 위해 4륜를 초과 할 수 있다. 이 경우, 휠들 전부가 예를 들어, 모터부와 연결되어 구동될 수 있다. 다른 예로, 휠들의 일부만 모터부와 결합되어, 모터부와 연결되지 않는 휠은 모터부로부터 구동되는 휠에 의해 종동할 수 있다. 제 1 및 제 2 휠들(110a, 110b)은 사용자의 감속 제어 요청에 따른 휠의 동작을 제동하는 브레이크 모듈을 구비할 수 있 다. 제 1 및 제 2 모터부들(112a, 112b)은 제 2 배터리로부터 전력을 공급받아 구동력을 발생시킬 수 있다. 제 1 및 제 2 모터부들(112a, 112b)은 제 1 및 제 2 휠들(110a, 110b)에 구동력을 전달하여, 제 1 및 제 2 휠들 (110a, 110b)은 회전 구동될 수 있다. 제 1 및 제 2 모터부들(112a, 112b)은 예컨대, 제 1 및 제 2 휠들(110a, 110b)에 구동력을 전달하는 모터 및 모터 정/역토크 , 모터 회전 방향, 제동 등을 제어하는 모터 제어 모듈 등 을 구비할 수 있다. 제 1 및 제 2 모터부들(112a, 112b)은 제 2 배터리로부터 인가되어 인버터(미도시)를 경유하는 전력을 공급받아 구동될 수 있다. 인버터는 제 2 배터리의 특정 형태의 전력, 예컨대 교류를 다 른 형태, 예를 들어 직류로 변환하고 전압을 감소시킬 수 있다. 주행 조작 컴포넌트는 주행 동력 계통에 사용자의 요청을 수신하기 위해, 하드웨어 또는 소프트웨어 로 구성될 수 있다. 주행 조작 컴포넌트는 예컨대, 가속을 위한 주행 제어 요청을 수신하도록, 풋 가속 페 달(foot accelerating pedal), 하드웨어 또는 소프트웨어적으로 마련된 가속용 키 등일 있다. 또한, 주행 조작 컴포넌트는 감속을 위한 주행 제어 요청을 수신하도록, 풋 또는 핸들 브레이크, 감속용 소프트 키 등일 수 있다. 주행 조작 컴포넌트는 예를 들어, 정속 운행을 위한 주행 제어 요청을 수신하도록, 크루즈 컨트롤(cruise control) 또는 스마트 크루즈 컨트롤에 관한 버튼 또는 레버 등일 수 있다. 다른 예에서, 정속 주행과 관련된 요청을 수신하기 위해, 주행 조작 컴포넌트가 소프트 키로 구현될 수도 있다. 주행 조작 컴포넌트는 회생 제동에 따른 제동력을 조절하기 위한 모듈을 포함하고, 상기 모듈은 보조 제동 모듈 또는 리타더(retarder) 모듈로 지칭될 수 있다. 보조 제동 모듈은 예컨대, 하드웨어적으로 스티어링 부근 에 레버 형태로 제공되거나, 사용자 입력이 수신가능한 디스플레이 상에 소프트 조절 키로 제공될 수도 있 다. 이동체는 센서부, 보기류, 송수신부, 디스플레이, 메모리 및 프로세서를 포함할 수 있다. 센서부는 이동체 내부 및 외부 환경에서 발생하는 다양한 상태 및 상황을 감지하기 위한 다양한 종류 의 센서 모듈을 구비할 수 있다. 센서부는 예컨대, 이동체의 위치를 검출하는 위치 센서(116a), 이동 체가 주행하는 경로 상의 구배를 계측하는 경사 센서(116b), 가속 요구량 센서(116c), 제동 요구량 센서 (116d)를 포함할 수 있다. 가속 요구량 센서(116c)는 주행 조작 컴포넌트를 통한 사용자의 가속 요청에 따 른 가속 요구량을 검출할 수 있다. 주행 조작 컴포넌트가 가속 요청을 수신하는 풋 가속 페달을 구비한 경 우, 가속 요구량 센서(116c)는 예컨대, 풋 가속 페달에 따른 가속 의지와 가속 요구량을 검출하는 APS 센서 (Accelerator Position Sensor)로 구성될 수 있다. 제동 요구량 센서(116d)는 주행 조작 컴포넌트를 통한 사용자의 감속 요청에 따른 감속가속 요구량을 검출할 수 있다. 주행 조작 컴포넌트가 감속 요청을 수신하 는 풋 브레이크를 구비한 경우, 제동 요구량 센서(116d)는 예컨대, 풋 브레이크에 따른 감속 의지와 감속 요구 량을 검출하는 BPS 센서(Brake Position Sensor)로 구성될 수 있다. 미도시되어 있으나, 센서부는 이동체 내외부를 시각적 이미지로 제공하는 영상 센서, 라이다(Lidar), 레이 더 센서, 거리 센서, 가속도 센서, 휠 속도 센서, 이동체의 자세와 방향을 검지하는 자이로 센서 등을 포 함할 수 있다. 본 개시에서는 실시예의 설명에 참조되는 센서들을 위주로 서술할 뿐, 이에 열거되지 않은 다양 한 상황을 감지하는 센서를 추가로 포함할 수 있다. 보기류는 이동체에 탑재되며, 사용자의 이용에 의해 배터리로부터 공급되는 전력을 소모하는 보조 기 기일 수 있다. 보기류는 본 개시에서 주행 동력 계통을 제외한 비주행 동력 계통의 일종일 수 있다. 보기류는 예컨대 공조 계통, 조명 계통, 시트 계통 및 이동체에 설치된 다양한 장치 등일 수 있다. 송수신부는 서버, 이동체 주변의 이동체, 노변 기지국 및 각종 다양한 이동체 서비스를 제공하는 서 비스 서버 또는 에지 디바이스 등과 상호 통신을 지원할 수 있다. 본 개시에서, 송수신부는 통신 제어기의 제어 하에, 주행 중에 생성 또는 저장된 데이터를 서버로 전송하고, 서버로부터 전송되는 데이터 및 소프트웨어 모듈을 수신할 수 있다. 디스플레이는 유저 인터페이스로 기능할 수 있다. 디스플레이는 프로세서에 의해, 이동체 의 동작 상태, 제어 상태, 경로/교통 정보, 배터리 상태, 가스 잔량 정보, 사용자가 요청한 컨텐츠 등을 출력하 도록 표시할 수 있다. 디스플레이는 사용자 입력이 검지가능한 터치 스크린으로 구성되어, 프로세서 에 지시하는 사용자의 요청을 수신할 수 있다. 메모리는 이동체의 제어를 위한 애플리케이션 및 다양한 데이터를 저장하여, 프로세서의 요청에 의해 애플리케이션을 로딩하거나, 데이터를 판독, 기록할 수 있다. 본 개시에서는, 메모리가 구동 예측 모 델 및 주행 중에 획득된 주행 데이터를 저장할 수 있다. 또한 메모리는 주행 데이터 기반의 구동 예측 모 델에 의해 산출된 예측 평균 구동력 및 보기류에서 소모되는 보기류 전력에 기초하여 예측 요구 전력을 취 득하고, 이동체에서 실시간으로 요구되는 실전력, 예측 요구 전력, 이동체의 소정 모듈의 상태에 기 초하여 제 1 배터리의 발전량을 결정하기 위한 애플리케이션 및 적어도 하나의 인스트럭션을 저장할 수 있 다. 소정 모듈은 제 2 배터리 및 주행 동력 계통일 수 있다. 상기 모듈의 상태는 2 배터리 및 주행 동력 계통 각각의 충방전과 관련된 한계 정보와 관련될 수 있다. 예측 요구 전력은 예측 평균 구동력 및 보기류 전력과 함 께, 제 1 배터리의 현재 SOC에 기반하여 보정된 SOC 보정 전력에 기초하여 취득될 수 있다. 제 2 배터리 의 SOC 보정에 의한 전력은 메모리에 저장된 SOC 보정 맵을 이용하여 결정될 수 있다. 프로세서는 이동체의 전반적인 제어를 수행할 수 있다. 프로세서는 메모리에 저장된 애플 리케이션 및 인스트럭션을 실행하도록 구성될 수 있다. 프로세서는 적어도 하나의 프로세싱 모듈을 구비할 수 있으며, 각 제어와 관련된 기능은 하나의 프로세싱 모듈에서 구현되거나, 복수의 모듈 중 해당 프로세싱 모 듈에 구현될 수 있다. 본 개시와 관련하여, 프로세서는 메모리에 저장된 애플리케이션, 인스트럭션 및 데이터를 이용하여, 구동 예측 모델의 예측 평균 구동력 및 보기류 전력에 기초하여 예측 요구 전력을 취득 할 수 있다. 또한, 프로세서는 이동체의 실전력, 예측 요구 전력 및 이동체의 소정 모듈의 상태 에 기초하여 제 1 배터리의 발전량을 결정하도록, 이동체를 제어할 수 있다. 구체적으로, 프로세서는 이동체의 주행 중에 누적되는 이동체의 내재적 정보, 즉 주행 데이터에 기반하는 구동 예측 모델을 이용하여, 주행 상황에 따라 주행 동력 계통에서 예상되는 예측 평균 구동력을 산출하고, 주행 중에 이동체의 비주행 동력 계통에서 실시간으로 소모되는 보기류 전력을 획득할 수 있다. 또한, 프로세서는 이동체의 주행 동력 계통에서 방전 제어 또는 충전 제어를 실시간으로 요구하는지를 결정할 수 있다. 방전 제어는 주행 동력 계통의 관점에서 전력을 소모하는 것을 지칭할 수 있다. 예를 들어, 방전 제어는 주행 동력 계통의 제 1 및 제 2 모터부(112a, 112b)가 주행 제어 요청 중의 가속 제어 요청에 따른 정토크 를 발생하면서 외부, 예컨대 제 2 배터리로부터 전력을 공급받아 소모하는 것을 의미할 수 있다. 충전 제 어는 주행 동력 계통의 관점에서 전력이 충전되는 것을 지칭할 수 있다. 예를 들면, 충전 제어는 제 1 및 제 2 모터부(112a, 112b)가 주행 제어 요청 중의 감속 제어 또는 회생 제동 요청에 따른 역토크를 발생하면서 전력을 생성하여 외부 모듈, 예컨대 제 2 배터리를 충전하는 것을 의미할 수 있다. 프로세서는 방전 제어의 경우, 예측 요구 전력, 방전 제어의 실전력, 보기류 전력, 제 2 배터리 및 주행 동력 계통 각각의 충방전과 관련된 한계 정보에 기초하여 방전 모드를 결정하고, 상기 결정된 방전 모드에 기반하여 제 1 배터리의 발전량을 결정할 수 있다. 프로세서는 충전 제어의 경우, 예측 요구 전력, 충전 제어의 실전력, 한계 정보에 기초하여 충전 모드를 결정하고, 상기 결정된 충전 모드에 기반하여 제 1 배터리의 발전량을 결정할 수 있다. 본 개시에 따른 배터리 제어 장치는 적어도 메모리 및 프로세서를 포함하여, 예측 평균 구동력 및 보 기류 전력에 기초하여 예측 요구 전력을 취득하고, 이동체의 실전력, 예측 요구 전력 및 이동체의 특 정 모듈의 상태에 기초하여 제 1 배터리의 발전량을 결정하는 처리를 실행하는 장치일 수 있다. 상기 처리는 프로세서의 적어도 일부, 예컨대 적어도 하나의 프로세싱 모듈 및 메모리의 적어도 일부 에서 수행될 수 있다. 프로세싱 모듈은 상기 처리를 제어하는 VCU(Vehicle Control Unit; 126), 및 주행 데이터 를 서버로 전송함과 아울러서 구동 예측 모델을 포함하는 이동체 제어 소프트웨어 모델을 서버로부터 수신하도록, 송수신부를 제어하는 통신 제어기(128; CTU)를 포함할 수 있다. 개별 프로세싱 모듈 및 메모 리는 본 개시에 따른 프로세서 및 메모리를 구성할 수 있다. 상술의 프로세서의 처리와 관련하 여 도 4내지 도 13을 통해 상세히 서술하기로 한다. 도 4를 참조하여, 본 개시의 실시예에 따른 배터리 제어 방법에서 이용되는 구동 예측 모델의 학습 및 배포를 설명하기로 한다. 도 4는 본 개시의 다른 실시에 따른 배터리 제어 방법에 있어서, 구동 예측 모델의 학습 및 배포에 관한 순서도이다. 서버는 구동 예측 모델을 신규로 생성하거나 업데이트하기 위해 학습할 과거의 데이터에 대한 수집 범위를 결정할 수 있다(S105). 서버의 데이터 서버 모듈은 일례로, 이동체로부터 다양한 데이터를 획득하여 저장되는 데이터 중 구동 예측 모델의 학습용 데이터의 수집 범위를 결정할 수 있다. 다른 예로, 데이터 서버 모듈은 이동 체의 데이터를 기 저장하지 않더라도, 데이터 서버 모듈이 이동체에 데이터의 전송을 요청할 경 우에, 구동 예측 모델의 학습에 적합한 데이터를 수신하도록, 학습용 데이터의 수집 범위를 결정할 수도 있다. 본 개시에서는 이동체의 데이터가 구동 예측 모델에 대한 학습 수행에 무관하게, 데이터 서버 모듈에 전송되어 이미 저장된 것을 예시하여 설명한다. 이동체의 데이터는 예컨대, 서버에서 운용하는 VCRM(Vehicle Customer Relation Management) 수집 시스템을 통해, 이동체로부터 서버로 주기적으로 전송될 수 있다. 이러한 주기는 예를 들어 1초일 수 있다. 수집 범위는 예컨대, 이동체의 사양, 데이터의 시간적 범위 및 데이터의 지역적 범위 등일 수 있다. 상기 사양은 예컨대, 이동체의 용도, 종류, 모델, 연식, 기본 중량 등을 포함할 수 있다. 시간적 범위는 예컨대 이동체가 주로 주행되는 시간 범위, 또는, 배터리의 많은 전력 소모가 발생하여 제 1 배터리의 발전 량이 소정 기준값 이상으로 요청되는 시간 구간 등으로 설정될 수 있다. 지역적 범위는 예컨대 정기적인 노선을 갖는 셔틀 차량인 경우, 해당 노선의 경로에 해당하는 지역으로 설정되거나, 배터리의 많은 전력 소모가 발생하 여 제 1 배터리의 발전량이 소정 기준값 이상으로 요청되는 지역적 범위 등으로 설정될 수도 있다. 다음으로, 서버의 데이터 서버 모듈은 저장된 이동체의 데이터 중에, 수집 범위에 속한 기존의 주행 데이터를 획득할 수 있다(S110). 주행 데이터는 이동체에서의 주행 제어 요청과 연관된 데이터 및 주행 제어 요청에 따라 주행 동력 계통과 제 1 및 제 2 배터리로 출력되는 제어 결과 데이터 등을 포함할 수 있다. 주행 데이터는 복수 종류의 데이 터로 구성될 수 있다. 주행 데이터는 이동체의 다른 데이터와 마찬가지로, 예컨대 VCRM을 통해 주기적으로 서버로 전송되어 누적될 수 있다. 서버는 이동체의 이용에 의해 생성 또는 획득된 과거의 데이터로부터 수집 범위에 포함되는 기존의 주행 데이터를 취득할 수 있다. 다음으로, 서버는 데이터 서버 모듈을 이용하여, 다양한 종류를 갖는 주행 데이터 중 구동 예측 모델 의 학습에 활용하는 주행 데이터의 유형을 선별할 수 있다(S115). 주행 데이터는 이동체의 주행 상황을 추정함과 아울러서, 주행 상황에 따라 구동력을 확인할 수 있는 유형 을 갖는 데이터로 선별될 수 있다. 구동 예측 모델은 서버 자원의 부담 경감 및 모델의 복잡성 저감을 위해, 이 동체의 주행 상황에 따른 예측 평균 구동력을 정확하게 산출하는 소정 유형의 주행 데이터를 채용할 수 있 다. 이를 감안하여, 데이터 서버 모듈은 기존의 주행 데이터의 복수 유형 중, 이동체의 사용 상태에 따른 중량, 이동체에 요청되는 가속 및 제동 제어, 이동체의 회생 제동 제어, 속력, 이동체의 주행 경로 상의 구배, 이동체의 정차 제어, 주행 동력 계통에서 소요되는 구동력 중 적어도 하나와 관련된 유형을 선정할 수 있다. 본 개시에서는 상술한 유형으로 예시하고 있으나, 주행 상황 및 구동력을 확인할 수 있 는 이동체의 내재적 정보라면, 상술한 유형에 제한되지 않는다. 다음으로, 서버는 데이터 서버 모듈 및 학습 모듈을 이용하여, 선정된 유형에 해당하는 주행 데 이터를 호출할 수 있다(S120). 선정된 유형의 주행 데이터는 사용 상태에 따른 중량 데이터, 가속 및 제동 제어와 관련된 가감속 제어 데이터, 회생 제동 제어와 관련된 회생 제어 데이터, 속력 데이터, 주행 경로의 구배와 관련된 구배 데이터, 정차 제어 와 관련된 정차 데이터, 주행 동력 계통에서 소요되는 구동력과 관련된 구동 데이터 중 적어도 하나를 포함할 수 있다. 본 개시에서는 각 데이터의 세부 항목을 이하의 데이터로 예시하고 있으나, 각 유형의 데이터에 적합 하다면, 이하의 항목에 제한되지 않는다. 중량 데이터는 이동체의 적재 또는 비적재 상태에 따른 파워 트레인 구동력을 구분하는데 활용될 수 있다. 중량 데이터는 예컨대, 센서부에 탑재된 무게 센서(미도시)에 의해 계측될 수 있다. 구배 데이터는 주행 환경에 따른 파워 트레인 구동력을 구분하는데 이용되며, 예컨대 경사 센서(116b)에 의해 계측될 수 있다. 회생 제동 제어와 관련된 회생 제어 데이터는 예를 들어, 사용자 조작을 통해서 설정된 보조 제동(또는 리타더) 레벨 을 포함할 수 있다. 사용자는 차량 구성에 따라 마련된 사용자 세팅 모드 (User Setting Mode), 리타더 레버 위 치, 회생제동 패들 등을 통해서 보조 제동량을 조절할 수 있다. 보조 제동(또는 리타더) 레벨은 보조 제동 설정 에 따른 파워 트레인 구동력을 구분하는데 사용될 수 있다. 정차 데이터는 예컨대 이동체의 도어 스위치의 조작 제어와 관련된 데이터를 포함할 수 있다. 정기적인 노선을 갖는 이동체인 경우, 정차 데이터는 정류소의 정차 상황과 일반적인 정차 상황을 구분하는데 활용될 수 있다. 가감속 제어 데이터는 예컨대, 변속 플래그(flag), ABS(Anti-lock Brake System) 작동 플래그, EBI(Endurance Brake Integration) 작동 플래그 등을 포함할 수 있다. 변속 플래그는 변속을 위한 일시적인 파워 트레인 구동 력의 급증 상태, 예를 들어 모터링(motoring), 회생 (regenerating)을 구분하는데 사용될 수 있다. ABS 플래그 는 노면 상태로 인한 슬라이딩, 급격한 제동 요청으로 인한 ABS 작동에서 회생제동이 제한되는 것을 구분하는 데 활용될 수 있다. EBI 작동 플래그는 EBI 작동의 경우, 리타더 레벨이 없는 상황(RTD_LV=0)에서도 회생 제동 하는 점을 구분함과 아울러서 스마트 크루즈 컨트롤과 같은 정속 제어 요청에 따른 감속 상황을 파악하는데 이 용될 수 있다. EBI는 풋 또는 핸드 브레이크를 이용한 서비스 브레이크와 회생 제동을 혼합하여 서비스 브레이 크의 사용량을 감소시키는 제어일 수 있다. 또한, 가감속 제어 데이터는 예컨대 감속 제어 요청에 따라 제동 요구량 센서(116d)로 검출되는 브레이크 요구 값, 가속 제어 요청에 따라 가속 요구량 센서(116c)로 검지되는 가속 요구값, 정속 제어 요청에 따른 정속 요구 값 등을 포함할 수 있다. 브레이크 요구값은 예컨대, BPS 센서(116d)로 검출되는 값이고, 사용자의 감속 의지 및 주행 당시의 정체 수준을 추정하는데 이용될 수 있다. 가속 요구값은 APS 센서(116c)로 검지되는 값이며, 사 용자의 가속 의지 및 상기 정체 수준을 추정하는데 활용될 수 있다. 상술한 유형의 주행 데이터는 단순히 누적되어 전처리없이 활용될 수도 있으며, 다른 예로, 상술한 주행 데이터 는 동일한 시간 구간에 해당하는 각 유형의 평균 데이터로 제공될 수 있다. 평균 데이터는 이동체에서 생 성되어 서버로 전송되거나, 이동체로부터 주기적으로 수신한 데이터에 기초하여 서버에서 생성 될 수 있다. 이에 더하여, 속력 데이터는 다른 주행 데이터와 동일한 시간 구간에 속하는 이동체의 평균 속력을 포함할 수 있다. 속력 데이터는 주행 당시의 정체 수준을 추정하는데 이용될 수 있다. 구동 데이터는 예컨대, 주행 중에 사용자에 의해 요구된 주행 동력 계통의 제 1 및 제 2 모터부(112a, 112b)의 토크 및 주행 중에 주행 동력 계통에서 발생한 파워 트레인 구동력과 관련된 데이터를 포함할 수 있다. 구동 데이터는 이동체에서 생성되어 서버로 전송되거나, 이동체로부터 주기적으로 수신한 데이터에 기초하여 서버에서 생성될 수도 있다. 구체적으로, 구동 데이터는 가속 제어 요청에 따라 검출되는 가속 요구값의 평균, 정속 제어 요청에 따른 정속 요구값 평균 및 주행 경로 상의 제한 정보에 적어도 기초하여 산출되는 평균 사용자 요구 토크를 포함할 수 있 다. 제한 정보는 예컨대, 평균 사용자 요구 토크는 주행 당시의 정체 수준을 추정하는데 활용될 수 있다. 사용자 요구 토크는 가속 요구량 센서(116c)에서 검출되는 가속 요구값에만 의존할 경우, 다른 타입의 가속 제 어 요청 및 경로 상에서 요구되는 가속 제한 사항 등을 반영하지 못하여, 실제 주행 상황에 부합하지 않을 수 있다. 도 5는 주행 데이터 중 이동체의 사용자 요구 토크를 산출하는 과정을 예시한 도면이다. 이동체의 프로세서는 가속 페달을 이용한 사용자의 입력, 즉 가속 제어 요청에 기초하는 가속 요구값, 정속 제어 요청에 따른 정속 요구값, 동력 인출(Power Take Off; PTO) 장치에서 소모되는 PTO 구동력 중 최대값을 선정할 수 있다. PTO 구동력은 도 5에 예시된 PTO Governor를 이용하여 확인될 수 있다. 동력 인출 장치는 주행 동력 계통에서 발생한 구동력을 제 1 및 제 2 휠(110a. 110b)의 구동이 아닌 다른 용도로 사 용하기 위한 장치일 수 있다. 프로세서는 상기 최대값 및 제한 정보에 기초하여 사용자 요구 토크를 결정 할 수 있다. 제한 정보는 도 5에 예시된 Road Speed Governor와 관련되며, 이동체의 영상 센서 및 외부 디 바이스로부터 수신되는 도로 정보로부터 획득될 수 있다. 제한 정보는 예를 들어, 주행 경로 상의 속도 제한 정 보 등일 수 있다. 프로세서는 상기 최대값 및 속도 제한 정보 중 최소값을 선정하여, 상기 최소값을 도 5 에 예시된 Driver's Demand torque와 같은 사용자 요구 토크로 결정할 수 있다. 또한, 구동 데이터는 주행 중에 주행 동력 계통에서 발생한 최소 파워 트레인 구동력, 최대 파워 트레인 구동력, 평균 파워 트레인 구동력을 포함할 수 있다. 상기 구동력들을 통해, 주행 중의 주변 상황이 추정됨과 아울러서, 모터링 및 회생 제동으로 인해 발생한 구동력이 산출될 수 있다. 한편, 주행 데이터의 적어도 일부는 주행 데이터에 속한 데이터에 대한 스케일링된 평균 아크 길이(scaled mean arc length; 이하, 평균 아크 길이를 혼용하여 기재)로 처리되어 생성되고, 서버로 전달될 수 있다. 예를 들어, 주행 데이터 중에 평균 사용자 요구 토크 및 평균 파워 트레인 구동력이 서버로 전송될 뿐만 아니라, 이들 데이터의 평균 아크 길이값이 산출되어 서버로 전달될 수 있다. 평균 사용자 요구 토크 및 평균 사용자 요구 토크의 아크 길이값은 가속 요구량 및 이의 변화도를 나타내고, 주행 중의 정체 수준을 추정 할 수 있다. 또한, 평균 파워 트레인 구동력의 아크 길이값은 주변 상황, 최소/최대 파워 트레인 구동력, 평균 파워 트레인 구동력과의 상관 관계를 추론하는데 이용될 수 있다. 상술의 데이터에서의 평균값은 시간당, 예컨대 1초당 신호 변화량을 정확하게 나타낼 수 없다. 상술한 데이터에 대한 분산도가 산출되면, 상기 데이터에 따른 신호 변화량이 명확하게 확인될 수 있다. 이에 따라, 통계적인 분산 기법이 필요하며, 예를 들어 스케일링된 평균 아크 길이 방식이 채용될 수 있다. 평 균 아크 길이 방식은 통상적인 분산 방식과 유사하게 각 데이터의 분산도를 나타내나, 상기 분산 방식이 표현하 지 못하는 신호 변화량을 보다 명확하게 보일 수 있다. 평균 아크 길이의 함수 은 하기 수학식 1로 산출될 수 있다. 수학식 1에서 산출된 평균 아크 길이값이 클수록, 시간당 신호 변화량이 많다는 점으로 해석될 수 있 다. [수학식 1]"}
{"patent_id": "10-2023-0016355", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "여기서, 이고, 는 scaling 상수일 수 있다. 도 6은 시계열적으로 수집된 주행 데이터의 분포를 예시한 도면이다. 도 6에 예시된 주행 데이터는 특정 데이터 의 값을 나타내기 보다는 통상적인 분산과 평균 아크 길이 방식의 차이점을 명확하게 보여주기 위한 예시적인데이터일 수 있다. 도 6의 (a), (b)에 따른 통상적인 분산값은 전부 1이다. 그러나, 도 6의 (a), (b)의 주행 데이터의 분포에 평균 아크 길이 방식을 적용하면, (a)의 평균 아크 길이값은 2.2361이고, (b)의 평균 아크 길이값은 1.6797이다. 상술한 값들을 살펴보면, 주행 데이터의 시계열 분석에서 복잡한 추세 변경이 있는 경우, 동일 분산값을 갖는 주행 데이터일지라도 상이한 평균 아크 길이값들이 산출될 수 있다. 이는 평균 아크 길이 방식이 통상적인 분산 보다, 특정 유형의 주행 데이터를 통한 주행 상황 및 사용자의 가감속 제어 요청을 보다 정확하게 구분하면서 추정함을 보여준다. 다시 도 4를 참조하면, 서버의 학습 모듈은 이동체의 구동 예측 모델의 학습이 최초로 수행되는 지를 결정할 수 있다(S125). 상기 학습이 최초 수행되면(S125의 Y), 학습 모듈은 인공 지능으로 구현되는 구동 예측 모델을 선정할 수 있다(S130). 학습 모듈은 기존 주행 데이터에 기반하여 예측 평균 구동력을 생성하기 위한 복수의 인공 지능 모델을 보 유하며, 복수의 인공 지능 모델 중 해당 이동체 및 주행 데이터에 적합한 구조를 갖는 인공 지능 모델을 선정할 수 있다. 선정된 인공 지능 모델은 초기의 구동 예측 모델일 수 있다. 아울러, 동일한 인공 지능 모델일 지라도, 상기 모델에 적용되는 파라미터가 상이하면, 상이한 파라미터를 갖는 모델들은 상이한 것으로 간주될 수 있다. 파라미터는 예컨대, 각 주행 데이터에서 취급하는 피쳐(feature)의 개수, 상기 모델에 적용되는 단수, 가중치의 종류 및 개수, 검증 방식 등일 수 있다. 본 개시에서는 도 7에 도시된 바와 같이, 학습 모듈이 구동 예측 모델로 특정한 타입의 인공 신경망을 채 용하는 것을 예시하고 있다. 도 7은 구동 예측 모델의 일종인 인공 신경망의 구성을 예시한 도면이다. 도 7에서는 LSTM(Long Short Term Memory cell)와 DNN(Deep Neural Network)이 케스케이드된(cascaded) 인공 신경망이 구동 예측 모델로 이용되는 것을 나타낸다. 선정된 유형의 기존 주행 데이터는 LSTM의 학습 데이터이며, 도 7에서 m은 학습 데이터 개수를 나타낼 수 있다. 도 7에서 T는 시계열적으로 분포된 기존 주행 데이터를 이동 평균하면서 학습하기 위해 사용되는 윈도우의 사이 즈일 수 있다. 는 기존 주행 데이터의 피쳐 개수이고, LSTM의 메모리 셀의 개수일 수 있다. 가중치는 학습 모듈에서 적용 가능한 수준의 복잡도를 확보하는 개수로 설정될 수 있다. 는 도 7에 예시된 구동 예측 모델에 따른 예측 평균 구동력일 수 있다. 다음으로, 학습 모듈은 구동 예측 모델의 가중치를 초기화할 수 있다(S135). S130 단계에서 할당된 가중치는 선택된 인공 신경망의 학습을 위해 초기값으로 설정될 수 있다. 이어서, 학습 모듈은 구동 예측 모델의 학습을 개시하고(S140), 구동 예측 모델에 따른 손실 함수(loss function)가 기준값에 수렴할 때까지(S145), 구동 예측 모델을 학습시켜(S150), 구동 예측 모델의 구조 및 가중 치를 결정할 수 있다(S155). 학습 모듈은 누적된 기존의 주행 데이터와 주행 동력 계통에서 실제 출력된 실구동력 간의 상관 관계 를 이용하여, 구동 예측 모델을 학습시킬 수 있다. 실구동력은 기존 주행 데이터에 따라 실제 출력된 구동력이 며, 주행 데이터에 속한 파워 트레인 구동력 또는 평균 파워 트레인 구동력일 수 있다. 도 8은 구동 예측 모델의 학습에서의 훈련(train) 및 검증(test)을 위한 복수의 주행 데이터 세트의 분할 (split)을 예시한 도면이다. 시계열적인 주행 데이터의 세트는 소정 시간 구간에 해당하는 사이즈의 윈도우에 할당되며, 각 로그(Log1~5)는 주행 데이터 세트가 할당된 원도우 별로 부여될 수 있다. 구체적으로, 도 9에 예시된 바와 같이, 윈도우가 순차 적으로 이동되면서, 해당 시간 구간에 상응하는 시계열적인 주행 데이터 세트가 이동된 윈도우에 할당될 수 있 다. 도 9에 예시된 바와 같이, 평균 구동력 , , , 별로 적용된 윈도우는 이동되면서, 윈도우에 해당하는 주행 데이터 세트의 평균에 따른 평균 구동력이 대응될 수 있다. 로그는 윈도우 에 순차적으로 부여될 수 있다. 도 9는 주행 데이터의 이동 평균을 예시한 도면이다. 도 7에 예시된 구동 예측 모델의 학습을 위해, 주행 데이터의 세트는 훈련용 데이터 세트와 검증용 데이터 세트 로 분할될 수 있다. 선정된 구동 예측 모델은 훈련용 데이터 세트를 이용하여 학습되어, 구동 예측 모델의 구조 및 가중치가 설정될 수 있다. 구조와 가중치가 설정된 구동 예측 모델은 검증용 데이터 세트를 이용하여 검증되 어, 상기 구조 및 가중치가 변경될 수 있다. 추가적으로, 검증이 완료된 구동 예측 모델은 훈련용 및 검증용 데 이터 세트를 전부 이용하여 재검증할 수도 있다. 데이터 세트의 분할은 도 8의 (a)에서와 같이, 훈련 및 검증 데이터 세트의 비율에 따라, 로그 내의 주행 데이 터 세트들 중 일부를 훈련용 데이터 세트로 분할하고, 나머지 일부를 검증용 데이터 세트로 활용하는 방식을 이 용할 수 있다. 본 개시에서는, 도 8의 (b)에서와 같이, 상기 비율에 부합하는 훈련용 개수의 로그를 훈련용 데 이터 세트로 분할하고, 검증용 개수의 로그를 검증용 데이터 세트로 활용하는 방식을 이용할 수 있다. 도 8에서는 훈련 및 검증 데이터 세트의 비율이 8:2로 예시되어 있으며, 도 8의 (b)에서와 같이, 4개의 로그가 훈련용 데이터 세트로 활용되고, 1개의 로그가 검증용 데이터 세트로 분할된 것을 보여주고 있다. 아울러, 학습을 통해 구동 예측 모델을 확립하는데 이용되는 손실 함수는 예컨대, 평균 제곱 오차(Mean Squared Error; MSE)를 활용할 수 있다. 학습에 의해 구축된 구동 예측 모델에 따른 손실 함수의 값이 기준값에 수렴할 때까지, 구동 예측 모델을 구조 및 가중치 등을 변경함으로써, 최종의 구동 예측 모델이 확립될 수 있다. 또한, 학습에서의 과적합(overfitting) 방지를 위해, 조기 종료법(early stopping) 또는 드랍 아웃법(drop- out) 등이 적용될 수 있다. 도 10에서는, 주행 데이터를 이용한 구동 예측 모델의 학습이 에포크(epoch) 3에서 종료되는 조기 종료법을 이용하는 것을 보여주고 있다. 보다 구체적인 예를 들어, 도 7 내지 도 10 에 따라 구축된 구동 예측 모델의 시뮬레이션 결과에 대해 서술한 다. 먼저, 구동 예측 모델에 적용되는 파라미터는 다음과 같다. 윈도우 사이즈는 이고, 데이터 피쳐 개 수는 이고, LSTM의 메모리 셀의 개수는 로 상정된다. DNN은 24 by 12 형태의 2단 네트워크 를 사용하고, 가중치의 개수는 약 6000개 수준으로 설정된다. 이에 따른 구동 예측 모델의 시뮬레이션 결과를 고찰하면, 결정 계수 은 0.7이며, 이는 공학적으로 유의미한 결과를 보여준다. 또한, 예측 오차 는 예측치와 참값(true value) 간 차의 표준 편차이며, 3.3 kW이다. 이러한 예측 오차 는 저전력 (<10 kW), 중전력 (10~20 kW), 고전력 (>20 kW) 상황을 충분히 구분할 수 있는 수준이다. 다시 도 4를 참조하면, 서버는 구조 및 가중치가 결정된 구동 예측 모델을 이동체 제어 소프트웨어 모델에 적용할 수 있다(S160). S160 단계는 예컨대 학습 모듈에서 수행되며, 이동체 제어 소프트웨어 모델은 이동체의 주행, 경로, 전력, 배터리, 비주행 기능 모듈 등을 제어하는 소프트웨어일 수 있다. 이어서, 서버의 업데이트 서버 모듈은 이동체로 이동체 제어 소프트웨어 모델을 배포하고, 이동 체는 상기 소프트웨어 모델에 포함된 구동 예측 모델을 수신하여 실행할 수 있다(S165). 이동체는 예 컨대, 통신 제어기의 제어 하에 상기 소프트웨어 모델을 송수신부를 통해 수신할 수 있다. 한편, S125 단계에서 서버의 학습 모듈이 이동체의 기존 구동 예측 모델을 보유하여, 최초 학습 이 아닌, 구동 예측 모델의 업데이트이 수행되면, 기존의 구동 예측 모델을 호출할 수 있다(S170). 학습 모듈은 S140~S155 단계와 유사하게, 기존의 구동 예측 모델을 업데이트하도록 기존 모델을 학습시킬 수 있다. 업데이트가 완료된 구동 예측 모델은 S155~S165 단계와 마찬가지로, 이동체 제어 소프트웨어 모델에 적용되며, 상기 적용된 소프트웨어 모델은 업데이트 서버 모듈에 의해 이동체로 배포되어 실행될 수 있다. 이하에서는, 도 11a 내지 도 12를 참조하여, 배터리 제어 장치에 의해 수행되는 본 개시의 다른 실시예에 따른 배터리 제어 방법에 대해 설명하기로 한다. 도 11a 및 도 11b는 본 개시의 다른 실시에 따른 배터리 제어 방법 에 관한 순서도이다. 도 12는 제 1 배터리의 발전량 결정을 위한 프로세스를 나타내는 도면이다. 먼저, 이동체의 프로세서는 주행 중에 생성되는 주행 데이터를 실시간으로 획득하여 전처리할 수 있 다(S205). 주행 데이터는 도 4의 S120 단계에서 설명한 유형의 주행 데이터와 마찬가지로, 사용 상태에 따른 중량 데이터, 가감속 제어 데이터, 회생 제어 데이터, 속력 데이터, 구배 데이터, 정차 데이터, 구동 데이터 중 적어도 하나를 포함할 수 있다. 각 데이터의 세부 항목은 S120 단계에서 열거한 세부 데이터일 수 있다. 본 개시에서는 각 데이터의 세부 항목을 이하의 데이터로 예시하고 있으나, 각 유형의 데이터에 적합하다면, 이하의 항목에 제한 되지 않는다. 주행 데이터에 속한 데이터는 S120 단계에서 설명한 바와 같이, 센서부, 주행 조작 컴포넌트를 이용한 사 용자 요청 및 주행 동력 계통에서 검출되는 가속/제동 제어값, 이의 출력값 및 구동력을 통해 획득될 수 있다. 또한, 주행 데이터의 일부 데이터는 다양한 데이터에 기초하여 생성될 수 있다. 예컨대 사용자 요구 토크 는 도 5에 예시된 바와 같이, 가속 요구값, 정속 요구값, PTO 구동력 및 제한 정보 등에 기초하여 생성될 수 있 다. 또한, 주행 데이터는 전처리를 통해, 각 유형에 속한 데이터의 평균 데이터로 제공될 수 있다. 예를 들어, 프로 세서는 1초 간격으로 생성되는 주행 데이터에 대해 1 분 단위로 평균 데이터를 생성할 수 있다. 여기서, 평균 데이터는 주행 데이터의 각 유형에 속한 세부 데이터의 평균으로 생성될 수 있다. 아울러, 시간당 변화량, 주행 상황 및 사용자의 가감속 의지를 보다 정확하게 확인하기 위해, 주행 데이터의 적 어도 일부는 전처리를 통해, 주행 데이터에 속한 세부 데이터에 대한 스케일링된 평균 아크 길이값으로 생성될 수 있다. 예컨대, 평균 속력, 평균 사용자 요구 토크 및 평균 파워 트레인 구동력은 그 자체로도 주행 데이터로 이용될 뿐만 이니라, 이들 데이터의 평균 아크 길이값도 주행 데이터로 제공될 수 있다. 다음으로, 프로세서는 예측 평균 구동력, 보기류 전력 및 SOC 보정 전력을 산출할 수 있다(S210). 예측 평균 구동력( )은 주행 데이터에 기반하는 구동 예측 모델에 의해, 주행 동력 계통에서 예상되는 평균 구동력일 수 있다. 구동 예측 모델은 서버로부터 전송된 모델이며, 예컨대, 도 7에 예시된 LSTM와 DNN이 조합된 인공 신경망을 이용할 수 있다. 구동 예측 모델은 도 9에 예시된 바와 같이, 시계열적으로 생성되는 주행 데이터에서 소정 시간 구간에 해당하 는 사이즈의 윈도우를 이동하여 산출한 주행 데이터의 이동 평균값( )에 기초하여, 예측값( )인 예측 평균 구동력을 산출할 수 있다. 보다 구체적으로, 프로세서는 시계열적으로 이동하는 윈도우의 시간 구간에 해 당하는 주행 데이터의 평균에 기초하여, 상기 시간 구간에 해당하는 예측 구동 구동력( , , , )을 산출할 수 있다. 본 개시에 따르면, 인공 지능에 기반한 구동 예측 모델을 이용함으로써, 예측 평균 구동력이 이동체의 주행 상황에 적응적으로 생성될 수 있다. 보기류 전력( )은 주행 중에 사용자 요청 및 이동체의 설정에 의해 비주행 동력 계통에서 실시간으로 소모되는 전력일 수 있다. 보기류 및 제 2 배터리에서 할당되는 전력이 계측되어 보기류 전력이 산출 될 수 있다. SOC 보정 전력( )은 제 2 배터리인 전기 배터리의 현재 SOC 상태에 기반하여 보정된 전력일 수 있다. 전력의 보정은 예컨대, 도 13에 예시된 보정 맵을 이용하여, 제 2 배터리의 SOC의 상태에 매칭되는 제 2 배터리의 보정 전력을 결정함으로써 수행될 수 있다. 도 13은 제 2 배터리의 SOC(State Of Charge)의 보정 맵을 예시한 도면이다. 구체적으로, 도 13에 예시된 보정 맵은 제 2 배터리의 SOC 상태에 대응하는 제 2 배터리 의 전력량에서 차감하기 위한 보정 파라미터를 나타내는 테이블일 수 있다. 이에 따라, SOC 보정 전력 ( )은 현재 SOC 상태에 해당하는 제 2 배터리의 전력량에서 도 13의 보정 맵에서의 해당 보정 파라미터 를 차감함으로써 산출될 수 있다. 보정 맵은 도 2에서와 같이, 메모리에 저장되어 있을 수 있다. 전력 보 정은 상술한 예시에 제한되지 않고 다양한 방식으로 수행될 수 있다. 평균 구동력 기반 발전 제어를 수행하면, 제 2 배터리의 SOC가 진동하거나, 일정한 추세를 가지고 증가 혹 은 감소할 수 있다. 제 2 배터리의 SOC를 바람직한 제어 구간 내에서 유지하기 위하여, SOC 보정 전력을 위해 사용되는 보정 맵은 저 SOC 영역에서 SOC를 상승시키는 방향으로 유도하는 양의 값으로 결정될 수 있다. 또한, SOC 보정 전력을 위한 보정맵은 고 SOC 영역에서 SOC를 하강시키는 방향으로 유도하는 음의 값으로 결정 될 수 있다. 이어서, 프로세서는 예측 평균 구동력, 보기류 전력 및 SOC 보정 전력에 기초하여 이동체의 예측 요 구 전력을 산출할 수 있다(S215).예측 요구 전력( )은 도 12에 예시된 바와 같이, 예측 평균 구동력, 보기류 전력 및 SOC 보정 전력의 합인 에 의해 취득될 수 있다. 다음으로, 프로세서는 제 1 배터리의 상태 및 제 1 배터리의 발전 한계량을 확인할 수 있다 (S220). 제 1 배터리인 연료 전지는 도 3에 예시된 바와 같이, 복수의 스택으로 구성될 수 있다. 프로세서는 도 12에 예시된 바와 같이, 연료 전지의 상태 확인을 위해, 정상 작동 중인 연료 전지의 스택 개수 ( ) 및 각 스택(i) 별 발전 한계량( )를 파악할 수 있다. 연료 전지의 발전 한계량( )은 에 의해 산출될 수 있다. 다음으로, 프로세서는 이동체의 주행 동력 계통에서 방전 제어 또는 충전 제어를 실시간으로 요 구하는지를 결정할 수 있다(S225). 방전 제어는 주행 동력 계통의 관점에서 전력을 소모하는 것을 지칭할 수 있다. 예를 들어, 방전 제어는 주행 동력 계통의 제 1 및 제 2 모터부(112a, 112b)가 주행 제어 요청 중의 가속 제어 요청에 따른 정토크 를 발생하면서 외부, 예컨대 제 2 배터리로부터 전력을 공급받아 소모하는 것을 의미할 수 있다. 충전 제 어는 주행 동력 계통의 관점에서 전력이 충전되는 것을 지칭할 수 있다. 예를 들면, 충전 제어는 제 1 및 제 2 모터부(112a, 112b)가 주행 제어 요청 중의 감속 제어 또는 회생 제동 요청에 따른 역토크를 발생하면서 전력을 생성하여 외부 모듈, 예컨대 제 2 배터리를 충전하는 것을 의미할 수 있다. 방전 제어 또는 충전 제어를 결정하기 위해, 프로세서는 예를 들어, 주행 동력 계통에 실시간으로 요 구되는 순시 요구 전력( )이 0인지 여부를 확인할 수 있다. 상세하게는, 인 경우, 프로세서(12 4)는 주행 동력 계통에서 방전 제어가 요구되는 것으로 결정할 수 있다. 인 경우, 프로세서 는 주행 동력 계통에서 충전 제어가 요구되는 것으로 결정할 수 있다. 이상에서 설명한 방전 제어 및 충전 제어 뿐만 아니라, 본 개시에서 기재되는 방전은 양(+)의 값을 가지며, 충전은 음(-)의 값을 갖는 것으로 가정하여 설명된다. 아울러, 방전의 예정을 명확하게 나타내도록, 해당 용어의 일부에 +기 표기되며, 충전의 예 정을 나타내도록, 관련 용어의 일부에 -가 표기될 수 있다. 충전 제어의 요구로 결정되면(S225의 Y), 프로세서는 모터부들(112a, 112b)의 방전 한계량 및 순시 요구 전력에 기초하여 순시 한계 전력을 결정할 수 있다(S230). 모터부들(112a, 112b)의 모터 방전 한계량( )은 주행 동력 계통의 충방전과 관련된 동력 계통 한계 정 보를 구성하는 정보이며, 모터부들(112a, 112b)의 주행 중 운용 상태 및 메모리에 저장된 한계 정보에 기 초하여 생성되거나 설정될 수 있다. 한계 정보는 제 2 배터리 및 주행 동력 계통 각각의 충방전과 관련된 정보이며, 제 2 배터리 한계 정 보 및 동력 계통 한계 정보를 포함할 수 있다. 한계 정보는 주행 동력 계통과 제 2 배터리의 주행 중 운용 상태 및 메모리에 저장된 관련 정보에 기초하여 생성되거나 설정될 수 있다. 동력 계통 한계 정보는 예컨대, 도 12에 예시된 바와 같이, 모터부들의 충방전 한계와 관련된 정보이며, 모터 방전 한계량( ) 및 모터 충전 한계량( )을 포함할 수 있다. 제 2 배터리 한계 정보는 도 12에 예시된 바와 같이, 제 2 배터리 방전 한계량( ) 및 제 2 배터리 충전 한계량( )을 포함할 수 있다. S230 단계와 관련하여, 프로세서는 모터부들(112a, 112b)의 방전 한계를 고려하여, 하기의 수학식 2를 통 해 순시 한계 전력( )을 결정할 수 있다. 상술한 바와 같이, 는 모터 방전 한계량이고, 는 순시 요구 전력일 수 있다. 본 개시에서, 수학식 2에서의 순시 한계 전력은 방전 제어의 실전력으로 지칭될 수도 있 다. [수학식 2]"}
{"patent_id": "10-2023-0016355", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "다음으로, 프로세서는 순시 한계 전력 및 보기류 전력의 제 1 합과, 예측 요구 전력과 제 2 배터리 방전 한계량의 제 2 합을 상호 비교하여 방전 모드를 결정할 수 있다(S235). 구체적으로, 순시 한계 전력, 보기류 전력, 예측 요구 전력 및 제 2 배터리 방전 한계량이 각각 , , , 으로 표기되고, 인 경우, 제 1 합이 제 2 합 이하인 것으로 판정되고, 프로세서는 방전 모드를 제 1 방전 모드로 결정할 수 있다. 제 1 방전 모드는 약방전 모드로 지칭될 수 있다. 이와는 달리, 인 경우, 제 1 합이 제 2 합보다 큰 것으로 판정되고, 프로세서 는 방전 모드를 제 2 방전 모드로 결정할 수 있다. 제 2 방전 모드는 제 1 방전 모드보다 강방전으로 실 행되며, 강방전 모드로 지칭될 수 있다. 제 1 방전 모드로 결정된 경우(S235의 N), 프로세서는 예측 요구 전력에 기초하여 이동체 발전량을 결정할 수 있다(S240). 구체적으로, 이동체 발전량 및 예측 요구 전력이 각각 및 으로 표기되면, 으로 결정될 수 있다. 제 2 방전 모드로 결정된 경우(S235의 Y), 프로세서는 순시 한계 전력, 보기류 전력 및 제 2 배터리 방전 한계량에 기초하여 이동체 방전 요구량을 산출할 수 있다(S245). 구체적으로, 순시 한계 전력, 보기류 전력, 제 2 배터리 방전 한계량 및 이동체 방전 요구량이 각각 , , , 로 표기되면, 프로세서는 이동체 방전 요구량을 에 의해 산출할 수 있다. 여기서, 는 기 설정된 강방전 마진 상수로서, 제 2 방전 모드에 적용되는 마진일 수 있다. 이어서, 프로세서는 이동체 방전 요구량에 기초하여 이동체 발전량을 결정할 수 있다(S250). 구체적으로, 이동체 발전량 및 이동체 방전 요구량이 각각 및 로 표기되면, 으로 결정 될 수 있다. 다음으로, 프로세서는 제 1 또는 제 2 방전 모드에 기반하여 결정된 이동체 발전량 및 제 1 배터리의 발전 한계량에 기초하여 제 1 배터리의 발전량을 결정할 수 있다(S255). 예를 들어, 제 1 배터리인 연료 전지의 발전량은 연료 전지의 스택 별 발전량( )으로 산출됨으로 써, 정상적으로 작동되는 연료 전지의 전체 스택의 발전량이 결정될 수 있다. 구체적으로, 연료 전지 의 스택 별 발전량( )은 하기 수학식 3과 같이, 연료 전지의 정상 작동 중인 스택당 이동체 발 전량( ) 및 연료 전지의 각 스택(i) 별 발전 한계량( ) 중 최소값으로 결정될 수 있다. 여기 서, 는 정상 작동 중인 연료 전지의 스택 개수일 수 있다. [수학식 3] 이에 따라, 제 1 배터리의 발전량은 결정된 방전 모드에 따른 이동체 발전량, 제 1 배터리의 스택 별 상태 및 제 1 배터리의 스택 별 발전 한계량에 기초하여 결정될 수 있다. 한편, S225 단계에서 방전 제어의 요구로 결정되면(S225의 N), 프로세서는 도 11b의 과정들을 이행할 수 있다. 우선, 프로세서는 모터부들(112a, 112b)의 방전 한계량 및 순시 요구 전력에 기초하여 순시 한계 전력을 결정할 수 있다(S260). 구체적으로, 프로세서는 모터부들(112a, 112b)의 충전 한계를 고려하여, 하기의 수학식 4를 통해 순시 한 계 전력( )을 결정할 수 있다. 는 모터 충전 한계량이고, 는 순시 요구 전력일 수 있다. 본 개시 에서, 수학식 4에서의 순시 한계 전력은 충전 제어의 실전력으로 지칭될 수도 있다. [수학식 4]"}
{"patent_id": "10-2023-0016355", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "이어서, 프로세서는 예측 요구 전력 및 제 2 배터리 충전 한계량에 기초하여 제 1 충전 모드에서의 제 1 이동체 충전 한계량을 산출할 수 있다(S265). 제 1 충전 모드는 약충전 모드로 지칭될 수 있으며, 제 1 이동체 충전 한계량은 제 1 충전 모드에서 이동체 가 충전되는 추정 한계량일 수 있다. 구체적으로, 프로세서는 하기의 수학식 5를 통해 제 1 이동체 충전 한계량( )을 결정할 수 있다. 는 제 2 배터리 충전 한계량이고, 는 예측 요구 전력일 수 있 다 [수학식 5]"}
{"patent_id": "10-2023-0016355", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "다음으로, 프로세서는 절대값 기준으로 순시 한계 전력 및 제 1 이동체 충전 한계량을 비교하여 충전 모드 를 결정할 수 있다(S270). 구체적으로, 순시 한계 전력 및 제 1 이동체 충전 한계량이 각각 , 으로 표기되고,"}
{"patent_id": "10-2023-0016355", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "인 경우, 프로세서는 충전 모드를 제 1 충전 모드로 결정할 수 있다. 이와는 달리. 인 경우, 프로세서는 충전 모드를 제 2 충전 모드로 결정할 수 있다. 제 2 충전 모드는 제 1 충전 모드보다 강충전으로 실행되며, 강충전 모드로 지칭될 수 있다. 제 1 충전 모드로 결정된 경우(S270의 Y), 프로세서는 예측 요구 전력에 기초하여 이동체 발전량을 결정할 수 있다(S275). 구체적으로, 이동체 발전량 및 예측 요구 전력이 각각 및 으로 표기되면, 으로 결정될 수 있다. 제 2 충전 모드로 결정된 경우(S270의 N), 프로세서는 제 2 배터리 충전 한계량 및 보기류 전력에 기초하 여 제 2 이동체 충전 요구량을 산출할 수 있다(S280). 구체적으로, 제 2 배터리 충전 한계량, 보기류 전력 및 제 2 이동체 충전 요구량이 각각 , , 로 표기되면, 프로세서는 제 2 이동체 충전 요구량을 에 의해 산출할 수 있다. 여기서, 는 기 설정된 강충전 마진 상수로서, 제 2 충전 모드에 적용되는 마진일 수 있다. 이어서, 프로세서는 제 2 이동체 충전 요구량 및 순시 한계 전력에 기반하여 이동체 발전량을 결정할 수 있다(S285). 구체적으로, 제 2 이동체 충전 요구량, 순시 한계 전력 및 이동체 발전량이 각각 , , 로 표기 되면, 프로세서는 이동체 발전량을 에 의해 산출할 수 있다. 도 11a의 S255 단계를 통해, 프로세서는 제 1 또는 제 2 충전 모드에 기반하여 결정된 이동체 발전량 및 제 1 배터리의 발전 한계량에 기초하여 제 1 배터리의 발전량을 결정할 수 있다. 제 1 또는 제 2 충전 모드에 따른 이동체 발전량에 기반하는 제 1 배터리 발전량은 S255 단계와 유사하게 결정 될 수 있다. 이에 따라, 제 1 배터리의 발전량은 결정된 충전 모드에 따른 이동체 발전량, 제 1 배터리 의 스택 별 상태 및 제 1 배터리의 스택 별 발전 한계량에 기초하여 결정될 수 있다. 도 14a는 종래의 배터리 제어 방법에 따른 연료 전지의 발전량, 발전 효율 및 SOC를 나타내는 그래프이다. 도 14b는 본 실시예에 따른 배터리 제어 방법에 따른 연료 전지의 발전량, 발전 효율 및 SOC를 나타내는 그래프이 다. 도 14a에 따른 종래의 배터리 제어 방법은 이동체의 요구 전력 및 연료 전지의 SOC에 따른 연료 전지의 발전량 을 미리 테이블화한 발전량 맵을 이용하여, 맵에서 정의한 전력량이 연료 전지의 발전량으로 결정되는 방식으로 수행된다. 도 14b에 따른 본 개시에 따른 배터리 제어 방법은 도 4에 따라 주행 상황을 반영하여 학습된 구동 예측 모델을 이용하여, 도 11a 및 도 11b에서와 같이, 이동체의 주행 상황에 따른 예측 평균 구동력을 생성하고, 예측 평균 구동력, 보기류 전력, SOC 보정 전력, 전기 배터리와 모터의 충방전 한계에 기반하여 연료 전지의 발전량을 결 정하는 방식이다. 도 14a 및 도 14b의 (a)에 도시된 연료 전지의 발전량을 비교하면, 종래의 발전량은 매우 심한 변화량을 가지나, 본 개시에 따른 발전량은 주행 상황 및 이동체의 다양한 상태를 예측하여 낮은 편차를 갖는다. 도 14a 및 도 14b의 (c)에 도시된 전기 배터리의 SOC 관점에서도, 종래의 SOC가 본 개시에 따른 방법보다 높다. 종래의 방식은 주행 상황 및 이동체의 상태를 고려함이 없이, 과도한 고정값을 갖는 발전량으로 전기 배터리를 충전함 으로써, 불필요한 SOC를 갖는다. 이에 반해, 본 개시에 따른 방식은 주행 상황 및 이동체의 상태에 적응적인 발 전량으로 전기 배터리를 충전함으로써, 주행 상황에 적절한 SOC를 갖는다. 도 14a 및 도 14b의 (b)에 도시된 연료 전지의 발전 효율을 고찰하면, 종래의 방식은 매우 큰 편차의 효율을 나 타내고, 본 개시에 따른 방법은 현저히 낮은 편차의 효율을 나타낸다. 발전 효율은 연료 전지 발전량을 수소 소 비량으로 나눈 값이다. 이에 의해 수소 소비량을 산출하면, 유효 효율 향상으로 약 5~6% 수준의 수소 연비가 개 선된다. 또한, 본 개시에 따른 방법은 기존보다 연료 전지의 발전 on-off 채터링이 현저히 완화될 수 있다. 본 개시의 예시적인 방법들은 설명의 명확성을 위해서 동작의 시리즈로 표현되어 있지만, 이는 단계가 수행되는 순서를 제한하기 위한 것은 아니며, 필요한 경우에는 각각의 단계가 동시에 또는 상이한 순서로 수행될 수도 있 다. 본 개시에 따른 방법을 구현하기 위해서, 예시하는 단계에 추가적으로 다른 단계를 포함하거나, 일부의 단 계를 제외하고 나머지 단계를 포함하거나, 또는 일부의 단계를 제외하고 추가적인 다른 단계를 포함할 수도 있 다. 본 개시의 다양한 실시 예는 모든 가능한 조합을 나열한 것이 아니고 본 개시의 대표적인 양상을 설명하기 위한 것이며, 다양한 실시 예에서 설명하는 사항들은 독립적으로 적용되거나 또는 둘 이상의 조합으로 적용될 수도 있다. 또한, 본 개시의 다양한 실시 예는 하드웨어, 펌웨어(firmware), 소프트웨어, 또는 그들의 결합 등에 의해 구현 될 수 있다. 하드웨어에 의한 구현의 경우, 하나 또는 그 이상의 ASICs(Application Specific Integrated Circuits), DSPs(Digital Signal Processors), DSPDs(Digital Signal Processing Devices), PLDs(Programmable Logic Devices), FPGAs(Field Programmable Gate Arrays), 범용 프로세서(general processor), 컨트롤러, 마이크로 컨트롤러, 마이크로 프로세서 등에 의해 구현될 수 있다. 본 개시의 범위는 다양한 실시 예의 방법에 따른 동작이 장치 또는 컴퓨터 상에서 실행되도록 하는 소프트웨어 또는 머신-실행가능한 명령들(예를 들어, 운영체제, 애플리케이션, 펌웨어(firmware), 프로그램 등), 및 이러한 소프트웨어 또는 명령 등이 저장되어 장치 또는 컴퓨터 상에서 실행 가능한 비-일시적 컴퓨터-판독가능 매체 (non-transitory computer-readable medium)를 포함한다.도면 도면1 도면2 도면3 도면4 도면5 도면6 도면7 도면8 도면9 도면10 도면11a 도면11b 도면12 도면13 도면14a 도면14b"}
{"patent_id": "10-2023-0016355", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 이동체가 다른 장치와 통신하여 주행 데이터 및 구동 예측 모델을 송수신하는 것을 예시한 도면이다. 도 2는 본 개시의 일 실시예에 따른 배터리 제어 장치를 구비한 이동체의 구성 모듈을 나타내는 블록도이다. 도 3은 제 1 배터리의 개략 구성을 예시한 도면이다. 도 4는 본 개시의 다른 실시에 따른 배터리 제어 방법에 있어서, 구동 예측 모델의 학습 및 배포에 관한 순서도 이다. 도 5는 주행 데이터 중 이동체의 사용자 요구 토크를 산출하는 과정을 예시한 도면이다. 도 6은 시계열적으로 수집된 주행 데이터의 분포를 예시한 도면이다. 도 7은 구동 예측 모델의 일종인 인공 신경망의 구성을 예시한 도면이다. 도 8은 구동 예측 모델의 학습에서의 훈련(train) 및 검증(test)을 위한 복수의 주행 데이터 세트의 분할 (split)을 예시한 도면이다. 도 9는 주행 데이터의 이동 평균을 예시한 도면이다. 도 10은 구동 예측 모델을 구성하는 인공 신경망의 학습에서 과적합(overfitting)을 방지하기 위한 과정을 예시 한 도면이다. 도 11a 및 도 11b는 본 개시의 다른 실시에 따른 배터리 제어 방법에 관한 순서도이다. 도 12는 제 1 배터리의 발전량 결정을 위한 프로세스를 나타내는 도면이다. 도 13은 제 2 배터리의 SOC(State Of Charge)의 보정 맵을 예시한 도면이다. 도 14a는 종래의 배터리 제어 방법에 따른 연료 전지의 발전량, 발전 효율 및 SOC를 나타내는 그래프이다. 도 14b는 본 개시에 따른 배터리 제어 방법에 따른 연료 전지의 발전량, 발전 효율 및 SOC를 나타내는 그래프이 다."}
