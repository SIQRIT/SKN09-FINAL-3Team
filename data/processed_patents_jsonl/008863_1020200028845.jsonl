{"patent_id": "10-2020-0028845", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2021-0113738", "출원번호": "10-2020-0028845", "발명의 명칭": "다중 스케일 특징맵을 이용하는 학습 방법 및 영상 분류 방법", "출원인": "세종대학교산학협력단", "발명자": "곽진태"}}
{"patent_id": "10-2020-0028845", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "인공 신경망을 이용하여, 훈련 영상에 대한 다중 스케일 특징맵을 생성하는 단계;상기 다중 스케일 특징맵의 픽셀 단위로 픽셀값을 평균하여, 평균 특징맵을 생성하는 단계;상기 평균 특징맵과 상기 다중 스케일 특징맵 각각의 픽셀값의 차이를 계산하여, 상기 픽셀 단위로 상기 다중스케일 특징맵 각각에 대한 이진 패턴 코드를 산출하는 단계; 및상기 평균 특징맵 및 상기 이진 패턴 코드를 이용하여, 상기 훈련 영상에 대한 학습을 수행하는 단계 를 포함하는 다중 스케일 특징맵을 이용하는 학습 방법."}
{"patent_id": "10-2020-0028845", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1항에 있어서,상기 훈련 영상에 대한 학습을 수행하는 단계는상기 픽셀 단위로 상기 이진 패턴 코드를 하나의 십진수로 변환하여, 통합 특징맵을 생성하는 단계; 및상기 평균 특징맵과 상기 통합 특징맵을 결합하여, 상기 학습을 수행하는 단계 를 포함하는 다중 스케일 특징맵을 이용하는 학습 방법."}
{"patent_id": "10-2020-0028845", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 2항에 있어서,상기 이진 패턴 코드를 구성하는 이진수 각각의 자리는상기 다중 스케일 특징맵 각각의 스케일에 따라 결정되는다중 스케일 특징맵을 이용하는 학습 방법."}
{"patent_id": "10-2020-0028845", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 1항에 있어서,상기 이진 패턴 코드는상기 픽셀값의 차이가 0 이상인 경우 1, 0 미만인 경우 0이 할당되는 코드인다중 스케일 특징맵을 이용하는 학습 방법."}
{"patent_id": "10-2020-0028845", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 1항에 있어서,상기 다중 스케일 특징맵을 생성하는 단계는상기 다중 스케일 특징맵 중 하나의 크기와 동일하도록, 상기 다중 스케일 특징맵의 크기를 변환하는공개특허 10-2021-0113738-3-다중 스케일 특징맵을 이용하는 학습 방법."}
{"patent_id": "10-2020-0028845", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 1항에 있어서,상기 훈련 영상에 대한 학습을 수행하는 단계는상기 훈련 영상에 대한 종양 유무 및 종양의 분화도 중 적어도 하나를 학습하는다중 스케일 특징맵을 이용하는 학습 방법."}
{"patent_id": "10-2020-0028845", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "인공 신경망을 이용하여, 입력 영상에 대한 다중 스케일 특징맵을 생성하는 단계;상기 다중 스케일 특징맵의 픽셀 단위로 픽셀값을 평균하여, 평균 특징맵을 생성하는 단계;상기 평균 특징맵과 상기 다중 스케일 특징맵 각각의 픽셀값의 차이를 계산하여, 상기 픽셀 단위로 상기 다중스케일 특징맵 각각에 대한 이진 패턴 코드를 산출하는 단계; 및상기 평균 특징맵 및 상기 이진 패턴 코드를 이용하여, 상기 입력 영상을 분류하는 단계 를 포함하는 다중 스케일 특징맵을 이용하는 영상 분류 방법."}
{"patent_id": "10-2020-0028845", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 7항에 있어서,상기 입력 영상을 분류하는 단계는상기 픽셀 단위로 상기 이진 패턴 코드를 하나의 십진수로 변환하여, 통합 특징맵을 생성하는 단계; 및상기 평균 특징맵과 상기 통합 특징맵을 결합하여, 상기 입력 영상을 분류하는 단계 를 포함하는 다중 스케일 특징맵을 이용하는 영상 분류 방법."}
{"patent_id": "10-2020-0028845", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 8항에 있어서,상기 이진 패턴 코드를 구성하는 이진수 각각의 자리는상기 다중 스케일 특징맵 각각의 스케일에 따라 결정되며다중 스케일 특징맵을 이용하는 영상 분류 방법."}
{"patent_id": "10-2020-0028845", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제 7항에 있어서,상기 이진 패턴 코드는상기 픽셀값의 차이가 0 이상인 경우 1, 0 미만인 경우 0이 할당되는 코드인다중 스케일 특징맵을 이용하는 영상 분류 방법.공개특허 10-2021-0113738-4-청구항 11 제 7항에 있어서,상기 다중 스케일 특징맵을 생성하는 단계는상기 다중 스케일 특징맵 중 하나의 크기와 동일하도록, 상기 다중 스케일 특징맵의 크기를 변환하는다중 스케일 특징맵을 이용하는 영상 분류 방법."}
{"patent_id": "10-2020-0028845", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제 1항에 있어서,상기 입력 영상을 분류하는 단계는상기 입력 영상을, 종양 유무 및 종양의 분화도 중 적어도 하나에 따라서 분류하는다중 스케일 특징맵을 이용하는 영상 분류 방법."}
{"patent_id": "10-2020-0028845", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "인공 신경망을 이용하여, 입력 영상에 대한 다중 스케일 특징맵을 생성하는 단계;상기 다중 스케일 특징맵의 픽셀 단위로 픽셀값을 평균하여, 평균 특징맵을 생성하는 단계;상기 평균 특징맵과 상기 다중 스케일 특징맵 각각의 픽셀값의 차이를 계산하여, 상기 픽셀 단위로 상기 다중스케일 특징맵 각각에 대한 이진 패턴 코드를 산출하는 단계; 및상기 이진 패턴 코드가 반영된 통합 특징맵을 생성하는 단계를 포함하는 영상 분류를 위한 특징맵 추출 방법."}
{"patent_id": "10-2020-0028845", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제 13항에 있어서,상기 통합 특징맵을 생성하는 단계는상기 픽셀 단위로 상기 이진 패턴 코드를 하나의 십진수로 변환하여, 상기 통합 특징맵을 생성하는 영상 분류를 위한 특징맵 추출 방법."}
{"patent_id": "10-2020-0028845", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제 14항에 있어서,상기 이진 패턴 코드를 구성하는 이진수 각각의 자리는상기 다중 스케일 특징맵 각각의 스케일에 따라 결정되며,상기 이진 패턴 코드는상기 픽셀값의 차이가 0 이상인 경우 1, 0 미만인 경우 0이 할당되는 코드인영상 분류를 위한 특징맵 추출 방법."}
{"patent_id": "10-2020-0028845", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "인공 신경망 기반으로 추출된 다중 스케일 특징맵을 이용하는 학습 방법 및 영상 분류 방법이 개시된다. 다중 스 케일 특징맵을 이용하는 학습 방법은 인공 신경망을 이용하여, 훈련 영상에 대한 다중 스케일 특징맵을 생성하는 단계; 상기 다중 스케일 특징맵의 픽셀 단위로 픽셀값을 평균하여, 평균 특징맵을 생성하는 단계; 상기 평균 특 징맵과 상기 다중 스케일 특징맵 각각의 픽셀값의 차이를 계산하여, 상기 픽셀 단위로 상기 다중 스케일 특징맵 각각에 대한 이진 패턴 코드를 산출하는 단계; 및 상기 평균 특징맵 및 상기 이진 패턴 코드를 이용하여, 상기 훈련 영상에 대한 학습을 수행하는 단계를 포함한다."}
{"patent_id": "10-2020-0028845", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 인공 신경망을 이용하는 학습 방법 및 영상 분류 방법에 관한 것으로서, 더욱 상세하게는 인공 신경 망 기반으로 추출된 다중 스케일 특징맵을 이용하는 학습 방법 및 영상 분류 방법에 관한 것이다."}
{"patent_id": "10-2020-0028845", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "최근 인공 지능 분야가 급격히 발전하고 있으며, 입력된 영상을 분류하기 위해 인공 신경망이 이용된다. 입력된 영상으로부터 특징맵을 추출하기 위해 컨벌루션(convolution)이 많이 이용되며, 최근에는 영상 분류의 성능을 높이기 위해 단일의 특징맵이 아닌 다중 스케일의 특징맵을 추출하여 학습이 이루어지고 있다. 다중 스케일을 활용하기 위한 일반적인 방법은 크게 두 가지로 나뉜다. 첫째는, 입력 영상을 여러 스케일의 영 상으로 변환하여 결합한 후, 하나의 딥러닝 모델에 적용하여, 영상을 분류하는 것이다. 둘째, 입력 영상을 여러 스케일의 영상으로 변환하고 동일한 딥러닝 모델에 각각 적용하여 다중 스케일 특징맵 을 획득한 후, 다중 스케일 특징맵을 단순 결합하여 영상을 분류하는 것이다. 다중 스케일 특징 맵을 결합하는 방법으로 Concatenation, Addition, Convolution 등이 주로 사용된다. 전술된 방법은 다중 스케일의 정보를 상호 유기적으로 활용하고 있지 못하고 있으며, 다중 스케일 간의 관계를 적절히 반영하기 어렵다는 문제가 있다. 관련 선행문헌으로 대한민국 등록특허 제10-2046240호 및 대한민국 공개특허 제2019-0097205호가 있다."}
{"patent_id": "10-2020-0028845", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 다중 스케일 특징맵을 이용하여, 보다 정확하게 영상을 분류할 수 있는 학습 방법 및 영상 분류 방법 을 제공하기 위한 것이다. 또한 본 발명은, 다중 스케일 특징맵으로부터 학습에 유용한 스케일의 특징맵을 선정하고 유용한 정보를 추출할 수 있는 특징맵 추출 방법을 제공하기 위한 것이다."}
{"patent_id": "10-2020-0028845", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기한 목적을 달성하기 위한 본 발명의 일 실시예에 따르면, 인공 신경망을 이용하여, 훈련 영상에 대한 다중 스케일 특징맵을 생성하는 단계; 상기 다중 스케일 특징맵의 픽셀 단위로 픽셀값을 평균하여, 평균 특징맵을 생 성하는 단계; 상기 평균 특징맵과 상기 다중 스케일 특징맵 각각의 픽셀값의 차이를 계산하여, 상기 픽셀 단위 로 상기 다중 스케일 특징맵 각각에 대한 이진 패턴 코드를 산출하는 단계; 및 상기 평균 특징맵 및 상기 이진 패턴 코드를 이용하여, 상기 훈련 영상에 대한 학습을 수행하는 단계를 포함하는 다중 스케일 특징맵을 이용하 는 학습 방법이 제공된다. 또한 상기한 목적을 달성하기 위한 본 발명의 다른 실시예에 따르면, 인공 신경망을 이용하여, 입력 영상에 대 한 다중 스케일 특징맵을 생성하는 단계; 상기 다중 스케일 특징맵의 픽셀 단위로 픽셀값을 평균하여, 평균 특 징맵을 생성하는 단계; 상기 평균 특징맵과 상기 다중 스케일 특징맵 각각의 픽셀값의 차이를 계산하여, 상기 픽셀 단위로 상기 다중 스케일 특징맵 각각에 대한 이진 패턴 코드를 산출하는 단계; 및 상기 평균 특징맵 및 상기 이진 패턴 코드를 이용하여, 상기 입력 영상을 분류하는 단계를 포함하는 다중 스케일 특징맵을 이용하는 영상 분류 방법이 제공된다. 또한 상기한 목적을 달성하기 위한 본 발명의 또 다른 실시예에 따르면, 인공 신경망을 이용하여, 입력 영상에 대한 다중 스케일 특징맵을 생성하는 단계; 상기 다중 스케일 특징맵의 픽셀 단위로 픽셀값을 평균하여, 평균 특징맵을 생성하는 단계; 상기 평균 특징맵과 상기 다중 스케일 특징맵 각각의 픽셀값의 차이를 계산하여, 상기 픽셀 단위로 상기 다중 스케일 특징맵 각각에 대한 이진 패턴 코드를 산출하는 단계; 및 상기 이진 패턴 코드가반영된 통합 특징맵을 생성하는 단계를 포함하는 영상 분류를 위한 특징맵 추출 방법이 개시된다."}
{"patent_id": "10-2020-0028845", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 일실시예에 따르면, 다중 스케일 특징맵에 대한 이진 패턴화를 통해 여러 스케일의 특징맵 중에서, 학습에 유용한 스케일의 특징맵이 선정될 수 있으며, 이를 통해 학습을 수행함으로써 학습 능력이 향상될 수 있 으며, 영상 분류 성능도 향상될 수 있다."}
{"patent_id": "10-2020-0028845", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명은 다양한 변경을 가할 수 있고 여러 가지 실시예를 가질 수 있는 바, 특정 실시예들을 도면에 예시하고 상세한 설명에 상세하게 설명하고자 한다. 그러나, 이는 본 발명을 특정한 실시 형태에 대해 한정하려는 것이 아니며, 본 발명의 사상 및 기술 범위에 포함되는 모든 변경, 균등물 내지 대체물을 포함하는 것으로 이해되어 야 한다. 각 도면을 설명하면서 유사한 참조부호를 유사한 구성요소에 대해 사용하였다. 본 발명은 영상 분류를 위한 학습 방법 및 기계 학습 기반으로 입력된 영상을 분류하는 방법에 관한 발명으로서, 입력 영상에 대한 분류 정확도를 높이기 위해 다중 스케일 특징맵을 이용한다. 본 발명의 일실시예는, 다중 스케일 특징맵에 포함된 입력 영상의 특징값들을 유기적으로 결합하고, 다중 스케 일 특징맵에 포함된 특징값들 중에서 유용한 정보를 추출하여 입력 영상 분류에 이용하기 위해, 다중 스케일 특 징맵을 이진 패턴화한다. 본 발명의 일실시예에 따른 다중 스케일 특징맵을 이용하는 학습 방법 및 영상 분류 방법은, 입력 영상을 미리 설정된 클래스로 분류하는 다양한 분야에 활용될 수 있으며, 데스크탑, 노트북, 서버 등 프로세서 및 메모리를 포함하는 컴퓨팅 장치에서 수행될 수 있다. 이하에서, 본 발명에 따른 실시예들을 첨부된 도면을 참조하여 상세하게 설명한다. 도 1은 본 발명의 일실시예에 따른 다중 스케일 특징맵을 이용하는 학습 방법을 설명하기 위한 도면이며, 도 2 는 본 발명의 일실시예에 따른 인공 신경망을 도시하는 도면이다. 도 1 및 도 2를 참조하면, 본 발명의 일실시예에 따른 학습 방법을 수행하는 컴퓨팅 장치는 인공 신경망을 이용 하여, 학습을 위한 훈련 영상에 대한 다중 스케일 특징맵을 생성(S110)한다. 즉, 컴퓨팅 장치는 서로 다른 스케일의 특징맵을 생성하며, 일실시예로서 컨벌루션 레이어(convolution layer, L1)에서 훈련 영상 으로부터 특징맵이 추출될 수 있다. 컴퓨팅 장치는 서로 다른 크기의 커널을 이용하거나, 훈련 영상에 대한 컨벌루션 횟수를 조절하여 다중 스케일 특징맵을 생성할 수 있다. 여기서, 스케일은 특징맵의 크기 및 해상도를 모두 포함하는 개념일 수 있으며, 다중 스케일 특징맵이란 크기 및 해상도 중 적어도 하나가 다른 복수의 특징맵을 의미할 수 있다. 도 2에서는 크기 및 해상도가 서로 다른 5개의 다중 스케일 특징맵이 이용되는 실시예가 설명된다.그리고 컴퓨팅 장치는 단계 S110에서 다중 스케일 특징맵 중 하나의 크기와 동일하도록, 다중 스케일 특징 맵의 크기를 변환할 수 있으며, 특징맵의 크기가 동일해짐으로써, 특징맵의 해상도 역시 동일해질 수 있다. 일실시예로서 컴퓨팅 장치는, 트랜지션 레이어(transiton layer, L2)를 이용하여, 특징맵의 크기를 조절할 수 있으며, 트랜지션 레이어는 1x1 컨벌루션 레이어 및 리사이징 레이어(resizing layer)를 포함할 수 있다. 1x1 컨벌루션 레이어를 통해 다중 스케일 특징맵의 채널 수가 동일해지도록 처리될 수 있으며, 리사이징 레이어를 통해 제1, 제2, 제4 및 제5특징맵(221, 222, 224, 225)의 크기가 제3특징맵의 크기와 동일해지도록 처리될 수 있다. 리사이징 레이어는 이웃한 픽셀값을 평균하거나 이웃한 픽셀값을 보간하는 등의 방법을 통해 특징맵의 크기를 변환할 수 있다. 그리고 컴퓨팅 장치는 다중 스케일 특징맵을 이용하여, 훈련 영상에 대한 학습을 수행한다. 일실시예로서, 컴퓨 팅 장치는 이진 패턴화 레이어(L3)를 이용해 다중 스케일 특징맵을 이진 패턴화하여 학습을 수행할 수 있다. 보다 구체적으로 컴퓨팅 장치는 다중 스케일 특징맵의 픽셀 단위로 픽셀값을 평균하여, 평균 특징맵을 생성 (S120)한다. 그리고 평균 특징맵과 다중 스케일 특징맵 각각의 픽셀값의 차이를 계산하여, 픽셀 단위로 다중 스 케일 특징맵 각각에 대한 이진 패턴 코드를 산출(S130)한다. 단계 S130 및 S140은 SBP 인코더에서 수행될 수 있 으며, 단계 S130 및 S140은 도 3에서 보다 자세히 설명된다. 컴퓨팅 장치는 평균 특징맵 및 이진 패턴 코드를 이용하여, 훈련 영상에 대한 학습을 수행(S140)한다. 훈련 영 상에 대한 클래스 라벨(class label)이 주어짐으로써, 인공 신경망은, 훈련 영상이 어떠한 종류의 영상인지를 학습할 수 있다. 일실시예로서, 컴퓨팅 장치는 훈련 영상에 대한 종양 유무 및 종양의 분화도 중 적어도 하나를 학습할 수 있다. 종양을 탐지하는 경우, 훈련 영상으로서 종양 세포가 포함된 영상과 정상 세포만으로 이루어진 영상이 이용될 수 있으며, 종양의 분화도(grade)를 예측하는 경우, 훈련 영상으로서 여러 단계의 분화도에 대응되는 영상이 이 용될 수 있다. 그리고 종양 세포의 유무나 종양의 분화도가 클래스 라벨로 주어질 수 있다. 단계 S140에서 컴퓨팅 장치는 평균 특징맵과 이진 패턴 코드로부터 획득된 통합 특징맵 각각을 컨벌 루션 및 맥스 풀링한 후, 결합하여 얻어진 최종 특징맵을 훈련 영상에 대한 특징맵으로 이용하여 학 습을 수행할 수 있다. 즉, 최종 특징맵이 완전 연결된 신경망으로 입력되어 학습이 이루어질 수 있다. 도 3은 본 발명의 일실시예에 따른 이진 패턴화를 설명하기 위한 도면이다. 도 3에 도시된 바와 같이, 본 발명의 일실시예에 따른 학습 방법을 수행하는 컴퓨팅 장치는, 단계 S120에서, 동 일한 크기로 변환된 다중 스케일 특징맵(321 내지 325)의 동일 위치의 k번째 픽셀값을 평균하고, 해당 평 균값을 k번째 픽셀값으로 가지는 평균 특징맵을 생성한다. 평균 특징맵의 크기는 변환된 다중 스케일 특징맵(321 내지 325)의 크기와 동일하며, 다중 스케일 특징맵(321 내지 325)의 복수의 픽셀값이 평균되 어 하나의 픽셀값이 생성되므로, 다중 스케일 특징맵(321 내지 325)으로부터 하나의 평균 특징맵이 생성된 다. 다중 스케일 특징맵(321 내지 325)의 k번째 픽셀값( )에 대한 평균값( )은 [수학식 1]과 같이 계 산될 수 있다. 수학식 1"}
{"patent_id": "10-2020-0028845", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "여기서, j는 다중 스케일 특징맵의 인덱스이며, S는 다중 스케일 특징맵의 개수를 나타내며, c는 다중 스케일 특징맵의 채널을 나타낸다. 그리고 k번째 픽셀값의 평균값( )은 평균 특징맵의 k번째 픽셀값에대응된다. 그리고 컴퓨팅 장치는 단계 S130에서 다중 스케일 특징맵(321 내지 325)의 k번째 픽셀값과 평균 특징맵 의 k번째 픽셀값의 차이를 계산하고, 계산된 차이값에 따라서 픽셀 단위로 다중 스케일 특징맵 각각 에 대한 이진 패턴 코드를 산출할 수 있다. 일실시예로서, 이진 패턴 코드는 픽셀값의 차이가 0 이상인 경우 1, 0 미만인 경우 0이 할당될 수 있다. 도 3에서, 제1 및 제2특징맵(321, 322)의 k번째 픽셀값과 평균 특징맵의 k번째 픽셀값의 차이는 0미만이며, 제3 내지 제5특징맵(323, 324, 325)의 k번째 픽셀값과 평균 특징맵의 k번째 픽셀값의 차이는 0 이상이다. 따라서, k번째 픽셀에 대한 이진 패턴 코드는 00111이 된다. 이 때, 이진 패턴 코드를 구성하는 이진수 각각의 자리는 다중 스케일 특징맵 각각의 스케일에 따라 결정될 수 있다. 일예로서 도 3과 같이, 스케일의 크기가 클수록 해당 이진수의 자리는, 최상위 자리에서 최하위 자리의 순서로 결정될 수 있다. 제1특징맵의 스케일이 가장 작기 때문에, 제1특징맵으로부터 얻어진 이진수 0은 이진 패턴 코드의 최 상위 자리에 대응되며, 제5특징맵의 스케일이 가장 크기 때문에, 제5특징맵으로부터 얻어진 이진수 1 은 이진 패턴 코드의 최하위 자리에 대응된다. 이와 같이, 다중 스케일 특징맵의 픽셀 단위로 이진 패턴 코드가 산출되면, 컴퓨팅 장치는 픽셀 단위로 이진 패 턴 코드를 하나의 십진수로 변환하여, 통합 특징맵을 생성하고, 평균 특징맵과 통합 특징맵을 결합하여 훈련 영상에 대한 학습을 수행한다. 즉, k번째 픽셀에 대한 이진 패턴 코드가 하나의 십진수로 변환되 고, 통합 특징맵의 k번째 픽셀값은 변환된 십진수에 대응된다. 평균 특징맵과 통합 특징맵의 크 기는 동일하다. 컴퓨팅 장치는 일실시예로서, [수학식 2]를 이용하여, 이진 패턴 코드를 산출하고 이진 패턴 코드를 십진수로 변환할 수 있다. 수학식 2"}
{"patent_id": "10-2020-0028845", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "여기서, 는 다중 스케일 특징맵의 c채널에 대한 통합 특징맵의 k번째 픽셀의 픽셀값 을 나타내며, 는 다중 스케일 특징맵의 c채널에 대한 평균 특징맵의 k번째 픽셀의 픽셀값을 나타 낸다. j는 다중 스케일 특징맵의 인덱스로서, 5개의 다중 스케일 특징맵(321 내지 335)에 대해 1에서 5사이의 자연수 중에서, 스케일이 작을수록 큰 값이 할당될 수 있다. 도 3에서, k번째 픽셀에 대한 이진 패턴 코드는 00111이므로, 통합 특징맵의 k번째 픽셀의 픽셀값은 십진 수 7이 된다. 그리고 통합 특징맵은 평균 특징맵과 결합된 후, 완전 연결된 인공 신경망으로 입력되어 학습에 이용 된다. 이와 같이, 본 발명의 일실시예에 따르면, 이진 패턴 코드 중 1이 십진수에 반영되며 이는 다중 스케일 특징맵 중에서, 1에 대응되는 스케일의 특징맵이 유용한 정보로서 학습에 이용됨을 의미한다. 즉 전술된 실시예에서는, 이진수 1이 획득된 제3 내지 제5특징맵(323, 324, 325)이 유용한 정보로서, 학습에 이용된다고 볼 수 있다. 결국, 본 발명의 일실시예에 따르면, 다중 스케일 특징맵에 대한 이진 패턴화를 통해 여러 스케일의 특징맵 중 에서, 학습에 유용한 스케일의 특징맵이 선정될 수 있으며, 이를 통해 학습을 수행함으로써 학습 능력이 향상될 수 있다. 도 4는 본 발명의 일실시예에 따른 다중 스케일 특징맵을 이용하는 영상 분류 방법을 설명하기 위한 도면이다. 본 발명의 일실시예에 따른 영상 분류 방법은, 도 1 내지 도 3에서 학습된 인공 신경망을 이용하여, 입력 영상 을 미리 설정된 클래스 중 하나로 분류한다. 따라서, 전술된 학습 과정과 유사하게 다중 스케일 특징맵을 생성 하고, 이진 패턴화를 수행한다. 도 4를 참조하면, 본 발명의 일실시예에 따른 영상 분류 방법을 수행하는 컴퓨팅 장치는 인공 신경망을 이용하 여, 입력 영상에 대한 다중 스케일 특징맵을 생성(S410)한다. 컴퓨팅 장치는 다중 스케일 특징맵 중 하나의 크 기와 동일하도록, 다중 스케일 특징맵의 크기를 변환할 수 있다. 그리고 컴퓨팅 장치는 다중 스케일 특징맵의 픽셀 단위로 픽셀값을 평균하여, 평균 특징맵을 생성(S120)한다. 그리고 컴퓨팅 장치는 평균 특징맵과 다중 스케일 특징맵 각각의 픽셀값의 차이를 계산하여, 픽셀 단위로 다중 스케일 특징맵 각각에 대한 이진 패턴 코드를 산출(S130)한다. 이 때, 이진 패턴 코드를 구성하는 이진수 각각 의 자리는 다중 스케일 특징맵 각각의 스케일에 따라 결정될 수 있으며, 이진 패턴 코드는, 픽셀값의 차이가 0 이상인 경우 1, 0 미만인 경우 0이 할당되는 코드일 수 있다. 그리고 컴퓨팅 장치는 평균 특징맵 및 이진 패턴 코드를 이용하여, 입력 영상을 분류(S140)하며, 학습 과정에 이용된 클래스 라벨 중 하나의 클래스로 입력 영상을 분류할 수 있다. 일실시예로서, 컴퓨팅 장치는 입력 영상 을, 종양 유무에 따른 클래스로 분류하거나, 종양의 분화도에 따른 클래스로 분류할 수 있다. 컴퓨팅 장치는 픽셀 단위로 이진 패턴 코드를 하나의 십진수로 변환하여, 통합 특징맵을 생성하고, 평균 특징맵 과 통합 특징맵을 결합하여, 입력 영상을 분류할 수 있다. 도 5는 본 발명의 일실시예에 따른 영상 분류 결과를 설명하기 위한 도면이다. 본 발명의 일실시예에 따른 학습 방법 및 영상 분류 방법은, 보안, 교통 등 다양한 분야에서 생성되는 영상을 분류하는데 이용될 수 있으며, 종양을 탐지하고, 종양의 분화도를 예측하는 의료 분야에서도 이용될 수 있다. 종양을 탐지하는 경우, 훈련 영상으로서 종양 세포가 포함된 영상과 정상 세포만으로 이루어진 영상이 이용될 수 있으며, 종양의 분화도(grade)를 예측하는 경우 훈련 영상으로서 여러 단계의 분화도에 대응되는 영상이 이 용될 수 있다. 분화도란 종양 세포와 정상 세포 사이의 유사 정도를 의미하는 것으로서, 분화도가 좋다는 것은 종양 세포와 정상 세포와의 유사 정도가 높다는 것을 나타낸다. 도 5는 대장암에 대한 탐지 결과 및 분화도 예측 결과를 나타내는 도면으로서, 대장암 조직 영상으로부터 생성 된 1024x1024 크기의 영상 패치 11294개로 학습 및 테스트가 이루어진 결과를 나타낸다. 11294의 영상 패치 중, 학습 데이터 셋은 정상 세포의 영상 패치 1525개, 저분화도의 종양 영상 패치 1684개, 중분화도의 종양 영상 패 치 2925개, 고분화도의 종양 영상 패치 1358개로 구성되며, 테스트 데이터 셋은 정상 세포의 영상 패치 1512개, 저분화도의 종양 영상 패치 638개, 중분화도의 종양 영상 패치 1180개, 고분화도의 종양 영상 패치 472개로 구 성된다. 그리고 도 5에서는 인공 신경망 ResNet50과 인공 신경망 MobileNetV1을 이용한 결과가 도시된다. 도 5에서, ResNet은 단일 스케일의 특징맵을 이용하여 탐지 및 예측한 결과, FFconcat-ResNet은 다중 스케일 맵을 concatenation 방법으로 결합하여 탐지 및 예측한 결과, FFadd-ResNet은 다중 스케일 맵을 addition 방법으로 결 합하여 탐지 및 예측한 결과, FFconv-ResNet은 다중 스케일 맵을 convolution 방법으로 결합하여 탐지 및 예측한 결과, MSBP-Net-ResNet은 본 발명의 일실시예에 따른 탐지 및 예측 결과를 나타낸다. 그리고 도 5에서 MobileNet은 단일 스케일의 특징맵을 이용하여 탐지 및 예측한 결과, FFconcat-MobileNet은 다중 스케일 맵을 concatenation 방법으로 결합하여 탐지 및 예측한 결과, FFadd-MobileNet은 다중 스케일 맵을 addition 방법으로 결합하여 탐지 및 예측한 결과, FFconv-MobileNet은 다중 스케일 맵을 convolution 방법으로 결합하여 탐지 및 예측한 결과, MSBP-Net-ResNet은 본 발명의 일실시예에 따른 탐지 및 예측 결과를 나타낸다.도 5에 도시된 바와 같이, 본 발명의 일실시예에 따른 종양 탐지 정확도(ACCBvsC) 및 분화도 예측 정확도 (ACCGrade)는 99.45% 및 86.61%로 가장 높은 정확도를 나타냄을 알 수 있다. 본 발명의 일실시예에 따른 종양 탐 지(F1BN) 및 저분화도(F1WD), 중분화도(F1MD), 고분화도(F1PD) 예측 결과의 F1 score는 0.9930, 0.7399, 0.7881, 0.8337로서, 본 발명의 일실시예에 따른 종양 탐지 및 분화도 예측 결과가 가장 우수함을 알 수 있다. 도 6은 본 발명의 일실시예에 따른 영상 분류를 위한 특징맵 추출 방법을 설명하기 위한 도면이다. 본 발명의 일실시예에 따른 특징맵 추출 방법을 수행하는 컴퓨팅 장치는 인공 신경망을 이용하여, 입력 영상에 대한 다중 스케일 특징맵을 생성(S610)하고, 다중 스케일 특징맵의 픽셀 단위로 픽셀값을 평균하여, 평균 특징 맵을 생성(S620)한다. 그리고 평균 특징맵과 다중 스케일 특징맵 각각의 픽셀값의 차이를 계산하여, 픽셀 단위 로 다중 스케일 특징맵 각각에 대한 이진 패턴 코드를 산출(S630)한다. 그리고 산출된 이진 패턴 코드가 반영된 통합 특징맵(S640)을 생성한다. 단계 S640에서 컴퓨팅 장치는 픽셀 단위로 이진 패턴 코드를 하나의 십진수로 변환하여, 통합 특징맵을 생성할 수 있으며, 이진 패턴 코드를 구성하는 이진수 각각의 자리는 다중 스케일 특징맵 각각의 스케일에 따라 결정될 수 있으며, 이진 패턴 코드는 픽셀값의 차이가 0 이상인 경우 1, 0 미만인 경우 0이 할당되는 코드일 수 있다. 생성된 통합 특징맵은 영상 분류를 위한 학습이나 영상 분류에 이용될 수 있으며, 일실시예로서 전술된 바와 같 이, 평균 특징맵과 결합되어 이용될 수 있다. 앞서 설명한 기술적 내용들은 다양한 컴퓨터 수단을 통하여 수행될 수 있는 프로그램 명령 형태로 구현되어 컴 퓨터 판독 가능 매체에 기록될 수 있다. 상기 컴퓨터 판독 가능 매체는 프로그램 명령, 데이터 파일, 데이터 구조 등을 단독으로 또는 조합하여 포함할 수 있다. 상기 매체에 기록되는 프로그램 명령은 실시예들을 위하여 특별히 설계되고 구성된 것들이거나 컴퓨터 소프트웨어 당업자에게 공지되어 사용 가능한 것일 수도 있다. 컴 퓨터 판독 가능 기록 매체의 예에는 하드 디스크, 플로피 디스크 및 자기 테이프와 같은 자기 매체(magnetic media), CD-ROM, DVD와 같은 광기록 매체(optical media), 플롭티컬 디스크(floptical disk)와 같은 자기-광 매체(magneto-optical media), 및 롬(ROM), 램(RAM), 플래시 메모리 등과 같은 프로그램 명령을 저장하고 수행 하도록 특별히 구성된 하드웨어 장치가 포함된다. 프로그램 명령의 예에는 컴파일러에 의해 만들어지는 것과 같은 기계어 코드뿐만 아니라 인터프리터 등을 사용해서 컴퓨터에 의해서 실행될 수 있는 고급 언어 코드를 포 함한다. 하드웨어 장치는 실시예들의 동작을 수행하기 위해 하나 이상의 소프트웨어 모듈로서 작동하도록 구성 될 수 있으며, 그 역도 마찬가지이다. 이상과 같이 본 발명에서는 구체적인 구성 요소 등과 같은 특정 사항들과 한정된 실시예 및 도면에 의해 설명되 었으나 이는 본 발명의 보다 전반적인 이해를 돕기 위해서 제공된 것일 뿐, 본 발명은 상기의 실시예에 한정되 는 것은 아니며, 본 발명이 속하는 분야에서 통상적인 지식을 가진 자라면 이러한 기재로부터 다양한 수정 및 변형이 가능하다. 따라서, 본 발명의 사상은 설명된 실시예에 국한되어 정해져서는 아니되며, 후술하는 특허청 구범위뿐 아니라 이 특허청구범위와 균등하거나 등가적 변형이 있는 모든 것들은 본 발명 사상의 범주에 속한다 고 할 것이다.도면 도면1 도면2 도면3 도면4 도면5 도면6"}
{"patent_id": "10-2020-0028845", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일실시예에 따른 다중 스케일 특징맵을 이용하는 학습 방법을 설명하기 위한 도면이다. 도 2는 본 발명의 일실시예에 따른 인공 신경망을 도시하는 도면이다. 도 3은 본 발명의 일실시예에 따른 이진 패턴화를 설명하기 위한 도면이다. 도 4는 본 발명의 일실시예에 따른 다중 스케일 특징맵을 이용하는 영상 분류 방법을 설명하기 위한 도면이다. 도 5는 본 발명의 일실시예에 따른 영상 분류 결과를 설명하기 위한 도면이다. 도 6은 본 발명의 일실시예에 따른 영상 분류를 위한 특징맵 추출 방법을 설명하기 위한 도면이다."}
