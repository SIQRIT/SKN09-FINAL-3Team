{"patent_id": "10-2022-0017264", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0120712", "출원번호": "10-2022-0017264", "발명의 명칭": "무선통신시스템에서 HARQ-ACK 전송 방법 및 장치", "출원인": "삼성전자주식회사", "발명자": "최경준"}}
{"patent_id": "10-2022-0017264", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "무선 통신 시스템에서 제어 신호 처리 방법에 있어서,기지국으로부터 전송되는 제1 제어 신호를 수신하는 단계;상기 수신된 제1 제어 신호를 처리하는 단계; 및상기 처리에 기반하여 생성된 제2 제어 신호를 상기 기지국으로 전송하는 단계를 포함하는 것을 특징으로 하는제어 신호 처리 방법."}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 개시는 보다 높은 데이터 전송률을 지원하기 위한 5G 또는 6G 통신 시스템에 관련된 것이다. 본 개시는 무선 통신 시스템에서 단말이 inapplicable K1 value를 포함한 HARQ-ACK timing 값을 설정받을 경우 Type-1 HARQ-ACK 코드북을 생성하는 방법을 제공한다."}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 개시는 무선 통신 시스템에서 단말과 기지국의 동작에 관한 것이다. 구체적으로, 본 개시는 단말의 단일 하 향링크 제어 정보로 복수의 물리 하향링크 공유 채널을 수신시 수신 성공 여부를 지시하는 HARQ-ACK 송신 방법 및 이를 수행할 수 있는 장치에 관한 것이다."}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "5G 이동통신 기술은 빠른 전송 속도와 새로운 서비스가 가능하도록 넓은 주파수 대역을 정의하고 있으며, 3.5 기가헤르츠(3.5GHz) 등 6GHz 이하 주파수('Sub 6GHz') 대역은 물론 28GHz와 39GHz 등 밀리미터파(㎜Wave)로 불 리는 초고주파 대역('Above 6GHz')에서도 구현이 가능하다. 또한, 5G 통신 이후(Beyond 5G)의 시스템이라 불리 어지는 6G 이동통신 기술의 경우, 5G 이동통신 기술 대비 50배 빨라진 전송 속도와 10분의 1로 줄어든 초저 (Ultra Low) 지연시간을 달성하기 위해 테라헤르츠(Terahertz) 대역(예를 들어, 95GHz에서 3 테라헤르츠(3THz) 대역과 같은)에서의 구현이 고려되고 있다. 5G 이동통신 기술의 초기에는, 초광대역 서비스(enhanced Mobile BroadBand, eMBB), 고신뢰/초저지연 통신 (Ultra-Reliable Low-Latency Communications, URLLC), 대규모 기계식 통신 (massive Machine-Type Communications, mMTC)에 대한 서비스 지원과 성능 요구사항 만족을 목표로, 초고주파 대역에서의 전파의 경로 손실 완화 및 전파의 전달 거리를 증가시키기 위한 빔포밍(Beamforming) 및 거대 배열 다중 입출력(Massive MIMO), 초고주파수 자원의 효율적 활용을 위한 다양한 뉴머롤로지 지원(복수 개의 서브캐리어 간격 운용 등)와 슬롯 포맷에 대한 동적 운영, 다중 빔 전송 및 광대역을 지원하기 위한 초기 접속 기술, BWP(Band-Width Part) 의 정의 및 운영, 대용량 데이터 전송을 위한 LDPC(Low Density Parity Check) 부호와 제어 정보의 신뢰성 높은 전송을 위한 폴라 코드(Polar Code)와 같은 새로운 채널 코딩 방법, L2 선-처리(L2 pre-processing), 특정 서 비스에 특화된 전용 네트워크를 제공하는 네트워크 슬라이싱(Network Slicing) 등에 대한 표준화가 진행되었다. 현재, 5G 이동통신 기술이 지원하고자 했던 서비스들을 고려하여 초기의 5G 이동통신 기술 개선(improvement) 및 성능 향상(enhancement)을 위한 논의가 진행 중에 있으며, 차량이 전송하는 자신의 위치 및 상태 정보에 기 반하여 자율주행 차량의 주행 판단을 돕고 사용자의 편의를 증대하기 위한 V2X(Vehicle-to-Everything), 비면허 대역에서 각종 규제 상 요구사항들에 부합하는 시스템 동작을 목적으로 하는 NR-U(New Radio Unlicensed), NR 단말 저전력 소모 기술(UE Power Saving), 지상 망과의 통신이 불가능한 지역에서 커버리지 확보를 위한 단말- 위성 직접 통신인 비 지상 네트워크(Non-Terrestrial Network, NTN), 위치 측위(Positioning) 등의 기술에 대 한 물리계층 표준화가 진행 중이다. 뿐만 아니라, 타 산업과의 연계 및 융합을 통한 새로운 서비스 지원을 위한 지능형 공장 (Industrial Internet of Things, IIoT), 무선 백홀 링크와 액세스 링크를 통합 지원하여 네트워크 서비스 지역 확장을 위한 노드를 제공하는 IAB(Integrated Access and Backhaul), 조건부 핸드오버(Conditional Handover) 및 DAPS(Dual Active Protocol Stack) 핸드오버를 포함하는 이동성 향상 기술(Mobility Enhancement), 랜덤액세스 절차를 간소화하 는 2 단계 랜덤액세스(2-step RACH for NR) 등의 기술에 대한 무선 인터페이스 아키텍쳐/프로토콜 분야의 표준화 역시 진행 중에 있으며, 네트워크 기능 가상화(Network Functions Virtualization, NFV) 및 소프트웨어 정 의 네트워킹(Software-Defined Networking, SDN) 기술의 접목을 위한 5G 베이스라인 아키텍쳐(예를 들어, Service based Architecture, Service based Interface), 단말의 위치에 기반하여 서비스를 제공받는 모바일 엣지 컴퓨팅(Mobile Edge Computing, MEC) 등에 대한 시스템 아키텍쳐/서비스 분야의 표준화도 진행 중이다. 이와 같은 5G 이동통신 시스템이 상용화되면, 폭발적인 증가 추세에 있는 커넥티드 기기들이 통신 네트워크에 연결될 것이며, 이에 따라 5G 이동통신 시스템의 기능 및 성능 강화와 커넥티드 기기들의 통합 운용이 필요할 것으로 예상된다. 이를 위해, 증강현실(Augmented Reality, AR), 가상현실(Virtual Reality, VR), 혼합 현실 (Mixed Reality, MR) 등을 효율적으로 지원하기 위한 확장 현실(eXtended Reality, XR), 인공지능(Artificial Intelligence, AI) 및 머신러닝(Machine Learning, ML)을 활용한 5G 성능 개선 및 복잡도 감소, AI 서비스 지 원, 메타버스 서비스 지원, 드론 통신 등에 대한 새로운 연구가 진행될 예정이다. 또한, 이러한 5G 이동통신 시스템의 발전은 6G 이동통신 기술의 테라헤르츠 대역에서의 커버리지 보장을 위한 신규 파형(Waveform), 전차원 다중입출력(Full Dimensional MIMO, FD-MIMO), 어레이 안테나(Array Antenna), 대규모 안테나(Large Scale Antenna)와 같은 다중 안테나 전송 기술, 테라헤르츠 대역 신호의 커버리지를 개선 하기 위해 메타물질(Metamaterial) 기반 렌즈 및 안테나, OAM(Orbital Angular Momentum)을 이용한 고차원 공 간 다중화 기술, RIS(Reconfigurable Intelligent Surface) 기술 뿐만 아니라, 6G 이동통신 기술의 주파수 효 율 향상 및 시스템 네트워크 개선을 위한 전이중화(Full Duplex) 기술, 위성(Satellite), AI(Artificial Intelligence)를 설계 단계에서부터 활용하고 종단간(End-to-End) AI 지원 기능을 내재화하여 시스템 최적화를 실현하는 AI 기반 통신 기술, 단말 연산 능력의 한계를 넘어서는 복잡도의 서비스를 초고성능 통신과 컴퓨팅 자 원을 활용하여 실현하는 차세대 분산 컴퓨팅 기술 등의 개발에 기반이 될 수 있을 것이다. 상술한 것과 무선통신 시스템의 발전에 따라 다양한 서비스를 제공할 수 있게 됨으로써, 이러한 서비스들을 원 활하게 제공하기 위한 방안이 요구되고 있다."}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "개시된 실시 예는 이동 통신 시스템에서 서비스를 효과적으로 제공할 수 있는 장치 및 방법을 제공하고자 한다."}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명은 무선 통신 시스템에서 단말이 inapplicable K1 value를 포함한 HARQ-ACK timing 값을 설정받을 경우 Type-1 HARQ-ACK 코드북을 생성하는 방법을 제공한다. 단말은 상위 계층으로부터 HARQ-ACK timing을 위한 RRC parameter를 설정 받을 수 있다. 상기 RRC parameter는 applicable K1 value와 inapplicable K1 value로 구분 될 수 있다. 단말은 상위 계층으로부터 Type-1 HARQ-ACK 코드북을 설정받을 수 있다. 여기서, 단말은 상기 Type-1 HARQ-ACK 코드북을 상기 설정 받은 HARQ-ACK timing을 기초로 생성할 수 있다. 더 구체적으로 Applicable K1 value는 0이거나 0보다 큰 값으로 결정될 수 있다. Inapplicable K1 value는 음 수로 결정될 수 있다. 단말은 상기 Applicable K1 value 만을 이용하여 Type-1 HARQ-ACK 코드북을 생성할 수 있다. 또한, 단말은 K1값으로 inapplicable K1 value로 지시된 DCI가 스케줄링하는 PDSCH의 HARQ-ACK은 상기 Type-1 HARQ-ACK 코드북으로 전송하지 않을 수 있다."}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "개시된 실시예는 이동통신 시스템에서 서비스를 효과적으로 제공할 수 있는 장치 및 방법을 제공할 수 있다."}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 본 개시의 실시예를 첨부된 도면을 참조하여 상세하게 설명한다. 실시예를 설명함에 있어서 본 개시가 속하는 기술 분야에 익히 알려져 있고 본 개시와 직접적으로 관련이 없는 기술 내용에 대해서는 설명을 생략한다. 이는 불필요한 설명을 생략함으로써 본 개시의 요지를 흐리지 않고 더 욱 명확히 전달하기 위함이다. 마찬가지 이유로 첨부된 도면에 있어서 일부 구성요소는 과장되거나 생략되거나 개략적으로 도시되었다. 또한, 각 구성요소의 크기는 실제 크기를 전적으로 반영하는 것이 아니다. 각 도면에서 동일한 또는 대응하는 구성 요 소에는 동일한 참조 번호를 부여하였다. 본 개시의 이점 및 특징, 그리고 그것들을 달성하는 방법은 첨부되는 도면과 함께 상세하게 후술되어 있는 실시 예들을 참조하면 명확해질 것이다. 그러나 본 개시는 이하에서 개시되는 실시예들에 한정되는 것이 아니라 서로 다른 다양한 형태로 구현될 수 있으며, 단지 본 실시예들은 본 개시의 개시가 완전하도록 하고, 본 개시가 속하"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "는 기술분야에서 통상의 지식을 가진 자에게 개시의 범주를 완전하게 알려주기 위해 제공되는 것이며, 본 개시 는 청구항의 범주에 의해 정의될 뿐이다. 명세서 전체에 걸쳐 동일 참조 부호는 동일 구성 요소를 지칭한다. 또 한 본 개시를 설명함에 있어서 관련된 기능 또는 구성에 대한 구체적인 설명이 본 개시의 요지를 불필요하게 흐 릴 수 있다고 판단된 경우 그 상세한 설명은 생략한다. 그리고 후술되는 용어들은 본 개시에서의 기능을 고려하 여 정의된 용어들로서 이는 사용자, 운용자의 의도 또는 관례 등에 따라 달라질 수 있다. 그러므로 그 정의는 본 명세서 전반에 걸친 내용을 토대로 내려져야 할 것이다. 이하, 기지국은 단말의 자원할당을 수행하는 주체로서, gNode B, eNode B, Node B, BS (Base Station), 무선 접속 유닛, 기지국 제어기, 또는 네트워크 상의 노드 중 적어도 하나일 수 있다. 단말은 UE (User Equipment), MS (Mobile Station), 셀룰러폰, 스마트폰, 컴퓨터, 또는 통신기능을 수행할 수 있는 멀티미디어시스템을 포함 할 수 있다. 본 개시에서 하향링크(Downlink; DL)는 기지국이 단말에게 전송하는 신호의 무선 전송경로이고, 상 향링크는(Uplink; UL)는 단말이 기국에게 전송하는 신호의 무선 전송경로를 의미한다. 또한, 이하에서 LTE (Long-Term Evolution) 또는 LTE-A (LTE-advanced) 시스템을 일예로서 설명할 수도 있지만, 유사한 기술적 배 경 또는 채널형태를 갖는 여타의 통신시스템에도 본 개시의 실시예가 적용될 수 있다. 예를 들어 LTE-A 이후에 개발되는 5세대 이동통신 기술(5G, new radio, NR)이 이에 포함될 수 있으며, 이하의 5G는 기존의 LTE, LTE-A 및 유사한 다른 서비스를 포함하는 개념일 수도 있다. 또한, 본 개시는 숙련된 기술적 지식을 가진 자의 판단으 로써 본 개시의 범위를 크게 벗어나지 아니하는 범위에서 일부 변형을 통해 다른 통신시스템에도 적용될 수 있 다. 이때, 처리 흐름도 도면들의 각 블록과 흐름도 도면들의 조합들은 컴퓨터 프로그램 인스트럭션들에 의해 수행될 수 있음을 이해할 수 있을 것이다. 이들 컴퓨터 프로그램 인스트럭션들은 범용 컴퓨터, 특수용 컴퓨터 또는 기 타 프로그램 가능한 데이터 프로세싱 장비의 프로세서에 탑재될 수 있으므로, 컴퓨터 또는 기타 프로그램 가능 한 데이터 프로세싱 장비의 프로세서를 통해 수행되는 그 인스트럭션들이 흐름도 블록(들)에서 설명된 기능들을 수행하는 수단을 생성하게 된다. 이들 컴퓨터 프로그램 인스트럭션들은 특정 방식으로 기능을 구현하기 위해 컴 퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비를 지향할 수 있는 컴퓨터 이용 가능 또는 컴퓨터 판독 가능 메모리에 저장되는 것도 가능하므로, 그 컴퓨터 이용가능 또는 컴퓨터 판독 가능 메모리에 저장된 인스트 럭션들은 흐름도 블록(들)에서 설명된 기능을 수행하는 인스트럭션 수단을 내포하는 제조 품목을 생산하는 것도 가능하다. 컴퓨터 프로그램 인스트럭션들은 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비 상에 탑재 되는 것도 가능하므로, 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비 상에서 일련의 동작 단계들이 수행되어 컴퓨터로 실행되는 프로세스를 생성해서 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비를 수행하는 인스트럭션들은 흐름도 블록(들)에서 설명된 기능들을 실행하기 위한 단계들을 제공하는 것도 가능하 다. 또한, 각 블록은 특정된 논리적 기능(들)을 실행하기 위한 하나 이상의 실행 가능한 인스트럭션들을 포함하는 모듈, 세그먼트 또는 코드의 일부를 나타낼 수 있다. 또, 몇 가지 대체 실행 예들에서는 블록들에서 언급된 기 능들이 순서를 벗어나서 발생하는 것도 가능함을 주목해야 한다. 예를 들면, 잇달아 도시되어 있는 두 개의 블 록들은 사실 실질적으로 동시에 수행되는 것도 가능하고 또는 그 블록들이 때때로 해당하는 기능에 따라 역순으 로 수행되는 것도 가능하다. 이때, 본 실시예에서 사용되는 '~부'라는 용어는 소프트웨어 또는 FPGA(field Programmable Gate Array) 또는 ASIC(Application Specific Integrated Circuit)과 같은 하드웨어 구성요소를 의미하며, '~부'는 어떤 역할들 을 수행한다. 그렇지만 '~부'는 소프트웨어 또는 하드웨어에 한정되는 의미는 아니다. '~부'는 어드레싱할 수 있는 저장 매체에 있도록 구성될 수도 있고 하나 또는 그 이상의 프로세서들을 재생시키도록 구성될 수도 있다. 따라서, 일 예로서 '~부'는 소프트웨어 구성요소들, 객체지향 소프트웨어 구성요소들, 클래스 구성요소들 및 태 스크 구성요소들과 같은 구성요소들과, 프로세스들, 함수들, 속성들, 프로시저들, 서브루틴들, 프로그램 코드의 세그먼트들, 드라이버들, 펌웨어, 마이크로코드, 회로, 데이터, 데이터베이스, 데이터 구조들, 테이블들, 어레 이들, 및 변수들을 포함한다. 구성요소들과 '~부'들 안에서 제공되는 기능은 더 작은 수의 구성요소들 및 '~부'들로 결합되거나 추가적인 구성요소들과 '~부'들로 더 분리될 수 있다. 뿐만 아니라, 구성요소들 및 '~부'들은 디바이스 또는 보안 멀티미디어카드 내의 하나 또는 그 이상의 CPU (central processing unit)들을 재생시키도록 구현될 수도 있다. 또한 실시예에서 '~부'는 하나 이상의 프로세서를 포함할 수 있다. 무선 통신 시스템은 초기의 음성 위주의 서비스를 제공하던 것에서 벗어나 예를 들어, 3GPP의 HSPA(High Speed Packet Access), LTE(Long Term Evolution 또는 E-UTRA (Evolved Universal Terrestrial Radio Access)), LTE-Advanced (LTE-A), LTE-Pro, 3GPP2의 HRPD(High Rate Packet Data), UMB(Ultra Mobile Broadband), 및 IEEE의 802.16e 등의 통신 표준과 같이 고속, 고품질의 패킷 데이터 서비스를 제공하는 광대역 무선 통신 시스 템으로 발전하고 있다. 상기 광대역 무선 통신 시스템의 대표적인 예로, LTE 시스템에서는 하향링크(Downlink; DL)에서는 OFDM(Orthogonal Frequency Division Multiplexing) 방식을 채용하고 있고, 상향링크(Uplink; UL)에서는 SC- FDMA(Single Carrier Frequency Division Multiple Access) 방식을 채용하고 있다. 상향링크는 단말(UE(User Equipment) 또는 MS(Mobile Station))이 기지국(eNode B, 또는 base station(BS))으로 데이터 또는 제어신호를 전송하는 무선링크를 뜻하고, 하향링크는 기지국이 단말로 데이터 또는 제어 신호를 전송하는 무선 링크를 뜻한 다. 상기와 같은 다중 접속 방식은, 통상 각 사용자 별로 데이터 또는 제어정보를 실어 보낼 시간-주파수 자원 을 서로 겹치지 않도록, 즉 직교성 (Orthogonality)이 성립하도록, 할당 및 운용함으로써 각 사용자의 데이터 또는 제어정보를 구분할 수 있다. LTE 이후의 향후 통신 시스템으로서, 즉, 5G 통신시스템은 사용자 및 서비스 제공자 등의 다양한 요구 사항을 자유롭게 반영할 수 있어야 하기 때문에 다양한 요구사항을 동시에 만족하는 서비스가 지원되어야 한다. 5G 통 신시스템을 위해 고려되는 서비스로는 향상된 모바일 광대역 통신(enhanced Mobile Broadband, eMBB), 대규모 기계형 통신(massive Machine Type Communication, mMTC), 초신뢰 저지연 통신(Ultra Reliability Low Latency Communication, URLLC) 등이 있다. eMBB는 기존의 LTE, LTE-A 또는 LTE-Pro가 지원하는 데이터 전송 속도보다 더욱 향상된 데이터 전송 속도를 제 공하는 것을 목표로 한다. 예를 들어, 5G 통신시스템에서 eMBB는 하나의 기지국 관점에서 하향링크에서는 20Gbps의 최대 전송 속도(peak data rate), 상향링크에서는 10Gbps의 최대 전송 속도를 제공할 수 있어야 한다. 또한 5G 통신시스템은 최대 전송 속도를 제공하는 동시에, 증가된 단말의 실제 체감 전송 속도(User perceived data rate)를 제공해야 한다. 이와 같은 요구 사항을 만족시키기 위해, 더욱 향상된 다중 안테나 (Multi Input Multi Output, MIMO) 전송 기술을 포함하여 다양한 송수신 기술의 향상을 요구한다. 또한 LTE가 사용하는 2GHz 대역에서 최대 20MHz 전송대역폭을 사용하여 신호를 전송하는 반면에, 5G 통신시스템은 3~6GHz 또는 6GHz 이상 의 주파수 대역에서 20MHz 보다 넓은 주파수 대역폭을 사용함으로써 5G 통신시스템에서 요구하는 데이터 전송 속도를 만족시킬 수 있다. 동시에, 5G 통신시스템에서 사물 인터넷(Internet of Thing, IoT)와 같은 응용 서비스를 지원하기 위해 mMTC가 고려되고 있다. mMTC는 효율적으로 사물 인터넷을 제공하기 위해 셀 내에서 대규모 단말의 접속 지원, 단말의 커버리지 향상, 향상된 배터리 시간, 단말의 비용 감소 등이 요구된다. 사물 인터넷은 여러 가지 센서 및 다양 한 기기에 부착되어 통신 기능을 제공하므로 셀 내에서 많은 수의 단말(예를 들어, 1,000,000 단말/km2)을 지원 할 수 있어야 한다. 또한 mMTC를 지원하는 단말은 서비스의 특성상 건물의 지하와 같이 셀이 커버하지 못하는 음영지역에 위치할 가능성이 높으므로 5G 통신시스템에서 제공하는 다른 서비스 대비 더욱 넓은 커버리지를 요 구할 수 있다. mMTC를 지원하는 단말은 저가의 단말로 구성되어야 하며, 단말의 배터리를 자주 교환하기 힘들기 때문에 10~15년과 같이 매우 긴 배터리 생명시간(battery life time)이 요구될 수 있다. 마지막으로, URLLC의 경우, 특정한 목적(mission-critical)으로 사용되는 셀룰라 기반 무선 통신 서비스이다. 예를 들어, 로봇(Robot) 또는 기계 장치(Machinery)에 대한 원격 제어(remote control), 산업 자동화 (industrial automation), 무인 비행장치(Unmaned Aerial Vehicle), 원격 건강 제어(Remote health care), 비상 상황 알림(emergency alert) 등에 사용되는 서비스 등을 고려할 수 있다. 따라서 URLLC가 제공하는 통신은 매우 낮은 저지연 및 매우 높은 신뢰도 제공해야 한다. 예를 들어, URLLC을 지원하는 서비스는 0.5 밀리초 보다 작은 무선 접속 지연시간(Air interface latency)를 만족해야 하며, 동시에 10-5 이하의 패킷 오류율(Packet Error Rate)의 요구사항을 갖는다. 따라서, URLLC을 지원하는 서비스를 위해 5G 시스템은 다른 서비스보다 작은 전송 시간 구간(Transmit Time Interval, TTI)를 제공해야 하며, 동시에 통신 링크의 신뢰성을 확보하기 위해 주파수 대역에서 넓은 리소스를 할당해야 하는 설계사항이 요구될 수 있다. 5G의 세가지 서비스들, 즉 eMBB, URLLC, mMTC는 하나의 시스템에서 다중화되어 전송될 수 있다. 이 때, 각각의 서비스들이 갖는 상이한 요구사항을 만족시키기 위해 서비스간에 서로 다른 송수신 기법 및 송수신 파라미터를 사용할 수 있다. 물론 5G는 전술한 세가지 서비스들에 제한되지 않는다. [NR 시간-주파수 자원] 이하에서는 5G 시스템의 프레임 구조에 대해 도면을 참조하여 보다 구체적으로 설명한다. 도 1은 5G 시스템에서 데이터 또는 제어채널이 전송되는 무선 자원 영역인 시간-주파수 영역의 기본 구조를 도 시한 도면이다. 도 1의 가로축은 시간 영역을, 세로축은 주파수 영역을 나타낸다. 시간 및 주파수 영역에서 자원의 기본 단위는 자원 요소(Resource Element, RE, 101)로서 시간 축으로 1 OFDM(Orthogonal Frequency Division Multiplexing) 심볼 및 주파수 축으로 1 부반송파(Subcarrier)로 정의될 수 있다. 주파수 영역에서 (일례로 12)개의 연속된 RE들은 하나의 자원 블록(Resource Block, RB, 104)을 구성할 수 있다. 도 2는 본 개시의 일 실시예에 따른 무선 통신 시스템에서 프레임, 서브프레임, 슬롯 구조를 도시한 도면이다. 도 2에는 프레임(Frame, 200), 서브프레임(Subframe, 201), 슬롯(Slot, 202) 구조의 일 예가 도시되어 있다. 1 프레임은 10ms로 정의될 수 있다. 1 서브프레임은 1ms로 정의될 수 있으며, 따라서 1 프레임은 총 10개의 서브프레임으로 구성될 수 있다. 1 슬롯(202, 203)은 14개의 OFDM 심볼로 정의될 수 있다(즉 1 슬롯 당 심볼 수( )=14). 1 서브프레임은 하나 또는 복수 개의 슬롯(202, 203)으로 구성될 수 있으며, 1 서브프레임당 슬롯(202, 203)의 개수는 부반송파 간격에 대한 설정 값 μ(204, 205)에 따라 다를 수 있 다. 도 2의 일 예에서는 부반송파 간격 설정 값으로 μ=0인 경우와 μ=1인 경우가 도시되어 있다. μ =0일 경우, 1 서브프레임은 1개의 슬롯으로 구성될 수 있고, μ=1일 경우, 1 서브프레임 은 2개의 슬롯으로 구성될 수 있다. 즉 부반송파 간격에 대한 설정 값 μ에 따라 1 서브프레임 당 슬 롯 수( )가 달라질 수 있고, 이에 따라 1 프레임 당 슬롯 수( )가 달라질 수 있다. 각 부반송파 간 격 설정 μ에 따른 및 는 하기의 표 1로 정의될 수 있다. [표 1]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "[대역폭부분 (BWP)] 다음으로 5G 통신 시스템에서 대역폭부분(Bandwidth Part; BWP) 설정에 대하여 도면을 참조하여 구체적으로 설 명하도록 한다. 도 3는 본 개시의 일 실시예에 따른 무선 통신 시스템에서 대역폭부분 설정의 일 예를 도시한 도면이다. 도 3에는 단말 대역폭(UE bandwidth)이 두 개의 대역폭부분, 즉, 대역폭부분#1(BWP#1)과 대역폭부분 #2(BWP#2)로 설정된 일 예를 보여준다. 기지국은 단말에게 하나 또는 복수 개의 대역폭부분을 설정해줄 수 있으며, 각 대역폭부분에 대하여 하기의 표 2와 같은 정보들을 설정해 줄 수 있다. [표 2]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "물론 상기 예시에 제한되는 것은 아니며, 상기 설정 정보 외에도 대역폭부분과 관련된 다양한 파라미터들이 단 말에게 설정될 수 있다. 상기 정보들은 상위 계층 시그널링, 예를 들면, RRC(Radio Resource Control) 시그널링 을 통해 기지국이 단말에게 전달할 수 있다. 설정된 하나 또는 복수 개의 대역폭부분들 중에서 적어도 하나의 대역폭부분이 활성화(Activation)될 수 있다. 설정된 대역폭부분에 대한 활성화 여부는 기지국으로부터 단말에 게 RRC 시그널링을 통해 준정적으로 전달되거나 DCI(Downlink Control Information)를 통해 동적으로 전달될 수 있다. 일부 실시예에 따르면, RRC(Radio Resource Control) 연결 전의 단말은 초기 접속을 위한 초기 대역폭부분 (Initial BWP)을 MIB(Master Information Block)를 통해 기지국으로부터 설정 받을 수 있다. 보다 구체적으로 설명하면, 단말은 초기 접속 단계에서 MIB를 통해 초기 접속에 필요한 시스템 정보(Remaining System Information; RMSI 또는 System Information Block 1; SIB1에 해당할 수 있음)를 수신을 위한 PDCCH가 전송될 수 있는 제어영역(Control Resource Set, CORESET)과 탐색 공간(Search Space)에 대한 설정 정보를 수신할 수 있다. MIB로 설정되는 제어영역과 탐색공간은 각각 식별자(Identity, ID) 0으로 간주될 수 있다. 기지국은 단말 에게 MIB를 통해 제어영역#0에 대한 주파수 할당 정보, 시간 할당 정보, 뉴머롤로지(Numerology) 등의 설정 정 보를 통지할 수 있다. 또한 기지국은 단말에게 MIB를 통해 제어영역#0에 대한 모니터링 주기 및 occasion에 대 한 설정정보, 즉 탐색공간#0에 대한 설정 정보를 통지할 수 있다. 단말은 MIB로부터 획득한 제어영역#0으로 설 정된 주파수 영역을 초기 접속을 위한 초기 대역폭부분으로 간주할 수 있다. 이때, 초기 대역폭부분의 식별자 (ID)는 0으로 간주될 수 있다. 상기 5G에서 지원하는 대역폭부분에 대한 설정은 다양한 목적으로 사용될 수 있다. 일부 실시 예에 따르면, 시스템 대역폭보다 단말이 지원하는 대역폭이 작을 경우에 상기 대역폭부분 설정을 통 해 이를 지원할 수 있다. 예를 들면, 기지국은 대역폭부분의 주파수 위치(설정정보 2)를 단말에게 설정함으로써 시스템 대역폭 내의 특정 주파수 위치에서 단말이 데이터를 송수신할 수 있다. 또한 일부 실시예에 따르면, 서로 다른 뉴머롤로지를 지원하기 위한 목적으로 기지국이 단말에게 복수 개의 대 역폭부분을 설정할 수 있다. 예를 들면, 어떤 단말에게 15kHz의 부반송파 간격과 30kHz의 부반송파 간격을 이용 한 데이터 송수신을 모두 지원하기 위해서, 두 개의 대역폭 부분을 각각 15kHz와 30kHz의 부반송파 간격으로 설 정할 수 있다. 서로 다른 대역폭 부분은 주파수 분할 다중화(Frequency Division Multiplexing)될 수 있고, 특 정 부반송파 간격으로 데이터를 송수신하고자 할 경우, 해당 부반송파 간격으로 설정되어 있는 대역폭부분이 활 성화 될 수 있다. 또한 일부 실시예에 따르면, 단말의 전력 소모 감소를 위한 목적으로 기지국이 단말에게 서로 다른 크기의 대역 폭을 갖는 대역폭부분을 설정할 수 있다. 예를 들면, 단말이 매우 큰 대역폭, 예컨대 100MHz의 대역폭을 지원하 고 해당 대역폭으로 항상 데이터를 송수신할 경우, 매우 큰 전력 소모가 발생될 수 있다. 특히 트래픽(Traffi c)이 없는 상황에서 100MHz의 큰 대역폭으로 불필요한 하향링크 제어채널에 대한 모니터링을 수행하는 것은 전 력 소모 관점에서 매우 비효율 적일 수 있다. 단말의 전력 소모를 줄이기 위한 목적으로, 기지국은 단말에게 상 대적으로 작은 대역폭의 대역폭부분, 예를 들면, 20MHz의 대역폭부분을 설정할 수 있다. 트래픽이 없는 상황에 서 단말은 20MHz 대역폭부분에서 모니터링 동작을 수행할 수 있고, 데이터가 발생하였을 경우 기지국의 지시에따라 100MHz의 대역폭부분으로 데이터를 송수신할 수 있다. 상기 대역폭부분을 설정하는 방법에 있어서, RRC 연결(Connected) 전의 단말들은 초기 접속 단계에서 MIB(Master Information Block)을 통해 초기 대역폭부분(Initial Bandwidth Part)에 대한 설정 정보를 수신할 수 있다. 보다 구체적으로 설명하면, 단말은 PBCH(Physical Broadcast Channel)의 MIB로부터 SIB(System Information Block)를 스케줄링하는 DCI(Downlink Control Information)가 전송될 수 있는 하향링크 제어채널 을 위한 제어영역(Control Resource Set, CORESET)을 설정 받을 수 있다. MIB로 설정된 제어영역의 대역폭이 초기 대역폭부분으로 간주될 수 있으며, 설정된 초기 대역폭부분을 통해 단말은 SIB가 전송되는 PDSCH(Physical Downlink Shared Channel)를 수신할 수 있다. 초기 대역폭부분은 SIB을 수신하는 용도 외에도, 다른 시스템 정 보(Other System Information, OSI), 페이징(Paging), 랜덤 엑세스(Random Access) 용으로 활용될 수도 있다. [대역폭부분 (BWP) 변경] 단말에게 하나 이상의 대역폭부분가 설정되었을 경우, 기지국은 단말에게 DCI 내의 대역폭부분 지시자 (Bandwidth Part Indicator) 필드를 이용하여, 대역폭부분에 대한 변경 (또는, 스위칭 (switching), 천이)을 지시할 수 있다. 일 예로 도 3에서 단말의 현재 활성화된 대역폭부분이 대역폭부분#1일 경우, 기지국은 단 말에게 DCI 내의 대역폭부분 지시자로 대역폭부분#2를 지시할 수 있고, 단말은 수신한 DCI 내의 대역폭부 분 지시자로 지시된 대역폭부분#2로 대역폭부분 변경을 수행할 수 있다. 전술한 바와 같이 DCI 기반 대역폭부분 변경은 PDSCH 또는 PUSCH를 스케줄링하는 DCI에 의해 지시될 수 있기 때 문에, 단말은 대역폭부분 변경 요청을 수신하였을 경우, 해당 DCI가 스케줄링하는 PDSCH 또는 PUSCH를 변경된 대역폭부분에서 무리 없이 수신 또는 송신을 수행할 수 있어야 한다. 이를 위해, 표준에서는 대역폭부분 변경 시 요구되는 지연 시간(TBWP)에 대한 요구 사항을 규정하였으며, 예를 들어 표 3과 같이 정의될 수 있다. [표 3]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "대역폭부분 변경 지연 시간에 대한 요구사항은 단말의 능력(Capability)에 따라 타입 1 또는 타입 2를 지원한다. 단말은 기지국에 지원 가능한 대역폭부분 지연 시간 타입을 보고할 수 있다. 전술한 대역폭부분 변경 지연시간에 대한 요구사항에 따라, 단말이 대역폭부분 변경 지시자를 포함하는 DCI를 슬롯 n에서 수신하였을 경우, 단말은 대역폭부분 변경 지시자가 가리키는 새로운 대역폭부분으로의 변경을 슬롯 n+TBWP보다 늦지 않은 시점에서 완료를 할 수 있고, 변경된 새로운 대역폭부분에서 해당 DCI가 스케줄링하는 데 이터채널에 대한 송수신을 수행할 수 있다. 기지국은 새로운 대역폭부분으로 데이터채널을 스케줄링하고자 할 경우, 단말의 대역폭부분 변경 지연시간(TBWP)을 고려하여, 데이터채널에 대한 시간 도메인 자원할당을 결정할 수 있다. 즉, 기지국은 새로운 대역폭부분으로 데이터채널을 스케줄링 할 때, 데이터채널에 대한 시간 도메인 자원할당을 결정하는 방법에 있어서, 대역폭부분 변경 지연시간 이 후로 해당 데이터채널을 스케줄링할 수 있다. 이에 따라 단말은 대역폭부분 변경을 지시하는 DCI가, 대역폭부분 변경 지연 시간 (TBWP) 보다 작은 슬롯 오프셋 (K0 또는 K2) 값을 지시하는 것을 기대하지 않을 수 있다. 만약 단말이 대역폭부분 변경을 지시하는 DCI(예를 들어 DCI 포맷 1_1 또는 0_1)을 수신하였다면, 단말은 해당 DCI를 포함하는 PDCCH를 수신한 슬롯의 세번째 심볼에서부터, 해당 DCI 내의 시간도메인 자원할당 지시자 필드로 지시된 슬롯 오프셋(K0 또는 K2) 값으로 지시된 슬롯의 시작 지점까지에 해당하는 시간 구간 동안 어떠한 송 신 또는 수신도 수행하지 않을 수 있다. 예를 들어, 단말이 슬롯 n에서 대역폭부분 변경을 지시하는 DCI를 수신 하였고, 해당 DCI로 지시된 슬롯 오프셋 값이 K라고 한다면, 단말은 슬롯 n의 세번째 심볼에서부터 슬롯 n+K이 전 심볼(즉 슬롯 n+K-1의 마지막 심볼)까지 어떠한 송신 또는 수신도 수행하지 않을 수 있다. [SS/PBCH 블록] 다음으로 5G에서의 SS(Synchronization Signal)/PBCH 블록에 대하여 설명하도록 한다. SS/PBCH 블록이란 PSS(Primary SS), SSS(Secondary SS), PBCH로 구성된 물리계층 채널 블록을 의미할 수 있다. 구체적으로는 하기와 같다. - PSS: 하향링크 시간/주파수 동기의 기준이 되는 신호로 셀 ID 의 일부 정보를 제공한다. - SSS: 하향링크 시간/주파수 동기의 기준이 되고, PSS 가 제공하지 않은 나머지 셀 ID 정보를 제공한다. 추가 적으로 PBCH 의 복조를 위한 기준신호(Reference Signal) 역할을 할 수 있다. - PBCH: 단말의 데이터채널 및 제어채널 송수신에 필요한 필수 시스템 정보를 제공한다. 필수 시스템 정보는 제 어채널의 무선자원 매핑 정보를 나타내는 탐색공간 관련 제어정보, 시스템 정보를 전송하는 별도의 데이터 채널 에 대한 스케줄링 제어정보 등을 포함할 수 있다. - SS/PBCH 블록: SS/PBCH 블록은 PSS, SSS, PBCH의 조합으로 이뤄진다. SS/PBCH 블록은 5ms 시간 내에서 하나 또는 복수 개가 전송될 수 있고, 전송되는 각각의 SS/PBCH 블록은 인덱스로 구별될 수 있다. 단말은 초기 접속 단계에서 PSS 및 SSS를 검출할 수 있고, PBCH를 디코딩할 수 있다. PBCH로부터 MIB를 획득할 수 있고 이로부터 제어영역(Control Resource Set; CORESET)#0 (제어영역 인덱스가 0인 제어영역에 해당할 수 있음)을 설정 받을 수 있다. 단말은 선택한 SS/PBCH 블록과 제어영역#0에서 전송되는 DMRS(Demodulation Reference signal)이 QCL(Quasi Co Location)되어 있다고 가정하고 제어영역#0에 대한 모니터링을 수행할 수 있다. 단말은 제어영역#0에서 전송된 하향링크 제어정보로 시스템 정보를 수신할 수 있다. 단말은 수신한 시스 템 정보로부터 초기 접속에 필요한 RACH(Random Access Channel) 관련 설정 정보를 획득할 수 있다. 단말은 선 택한 SS/PBCH 인덱스를 고려하여 PRACH(Physical RACH)를 기지국으로 전송할 수 있고, PRACH를 수신한 기지국은 단말이 선택한 SS/PBCH 블록 인덱스에 대한 정보를 획득할 수 있다. 기지국은 단말이 각각의 SS/PBCH 블록들 중 에서 어떤 블록을 선택하였고 이와 연관되어 있는 제어영역#0을 모니터링하는 사실을 알 수 있다. [PDCCH: DCI 관련] 다음으로 5G 시스템에서의 하향링크 제어 정보(Downlink Control Information, DCI)에 대해 구체적으로 설명한 다. 5G 시스템에서 상향링크 데이터(또는 물리 상향링크 데이터 채널(Physical Uplink Shared Channel, PUSCH)) 또 는 하향링크 데이터(또는 물리 하향링크 데이터 채널(Physical Downlink Shared Channel, PDSCH))에 대한 스케 줄링 정보는 DCI를 통해 기지국으로부터 단말에게 전달된다. 단말은 PUSCH 또는 PDSCH에 대하여 대비책 (Fallback)용 DCI 포맷과 비대비책(Non-fallback)용 DCI 포맷을 모니터링(Monitoring)할 수 있다. 대비책 DCI 포맷은 기지국과 단말 사이에서 선정의된 고정된 필드로 구성될 수 있고, 비대비책용 DCI 포맷은 설정 가능한 필드를 포함할 수 있다. DCI는 채널코딩 및 변조 과정을 거쳐 물리 하향링크 제어 채널인 PDCCH(Physical Downlink Control Channel)을 통해 전송될 수 있다. DCI 메시지 페이로드(payload)에는 CRC(Cyclic Redundancy Check)가 부착되며 CRC는 단 말의 신원에 해당하는 RNTI(Radio Network Temporary Identifier)로 스크램블링(scrambling) 될 수 있다. DCI 메시지의 목적, 예를 들어 단말-특정(UE-specific)의 데이터 전송, 전력 제어 명령 또는 랜덤 엑세스 응답 등에 따라 서로 다른 RNTI들이 사용될 수 있다. 즉, RNTI는 명시적으로 전송되지 않고 CRC 계산과정에 포함되어 전송 된다. PDCCH 상으로 전송되는 DCI 메시지를 수신하면 단말은 할당 받은 RNTI를 사용하여 CRC를 확인하여 CRC 확 인 결과가 맞으면 단말은 해당 메시지가 단말에게 전송된 것임을 알 수 있다. 예를 들면, 시스템 정보(System Information, SI)에 대한 PDSCH를 스케줄링하는 DCI는 SI-RNTI로 스크램블링될 수 있다. RAR(Random Access Response) 메시지에 대한 PDSCH를 스케줄링하는 DCI는 RA-RNTI로 스크램블링 될 수 있다. 페이징(Paging) 메시지에 대한 PDSCH를 스케줄링하는 DCI는 P-RNTI로 스크램블링 될 수 있다. SFI(Slot Format Indicator)를 통지하는 DCI는 SFI-RNTI로 스크램블링 될 수 있다. TPC(Transmit PowerControl)를 통지하는 DCI는 TPC-RNTI로 스크램블링 될 수 있다. 단말-특정의 PDSCH 또는 PUSCH를 스케줄링하는 DCI는 C-RNTI(Cell RNTI)로 스크램블링 될 수 있다. DCI 포맷 0_0은 PUSCH를 스케줄링하는 대비책 DCI로 사용될 수 있고, 이 때 CRC는 C-RNTI로 스크램블링될 수 있 다. C-RNTI로 CRC가 스크램블링 된 DCI 포맷 0_0은 예컨대 표 4의 정보들을 포함할 수 있다. [표 4]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "DCI 포맷 0_1은 PUSCH를 스케줄링하는 비대비책 DCI로 사용될 수 있고, 이 때 CRC는 C-RNTI로 스크램블링될 수 있다. C-RNTI로 CRC가 스크램블링 된 DCI 포맷 0_1은 예컨대 표 5의 정보들을 포함할 수 있다.[표 5]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "DCI 포맷 1_0은 PDSCH를 스케줄링하는 대비책 DCI로 사용될 수 있고, 이 때 CRC는 C-RNTI로 스크램블링될 수 있 다. C-RNTI로 CRC가 스크램블링 된 DCI 포맷 1_0은 예컨대 표 6의 정보들을 포함할 수 있다. [표 6]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "DCI 포맷 1_1은 PDSCH를 스케줄링하는 비대비책 DCI로 사용될 수 있고, 이 때 CRC는 C-RNTI로 스크램블링될 수 있다. C-RNTI로 CRC가 스크램블링 된 DCI 포맷 1_1은 예컨대 표 7의 정보들을 포함할 수 있다.[표 7]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 9, "content": "[PDCCH: CORESET, REG, CCE, Search Space] 하기에서는 5G 통신 시스템에서의 하향링크 제어채널에 대하여 도면을 참조하여 보다 구체적으로 설명하고자 한 다. 도 4는 5G 무선통신 시스템에서 하향링크 제어채널이 전송되는 제어영역(Control Resource Set, CORESET)에 대 한 일 예를 도시한 도면이다. 도 4는 주파수 축으로 단말의 대역폭부분(UE bandwidth part), 시간축으로 1 슬롯 내에 2개의 제어영역(제어영역#1, 제어영역#2)이 설정되어 있는 일 예를 도시한다. 제어영 역(401, 402)는 주파수 축으로 전체 단말 대역폭부분 내에서 특정 주파수 자원에 설정될 수 있다. 시 간 축으로는 하나 또는 복수 개의 OFDM 심볼로 설정될 수 있고 이를 제어영역 길이(Control Resource Set Duration, 404)으로 정의할 수 있다. 도 4의 도시된 예를 참조하면, 제어영역#1은 2 심볼의 제어영역 길이 로 설정되어 있고, 제어영역#2는 1 심볼의 제어영역 길이로 설정되어 있다. 전술한 5G에서의 제어영역은 기지국이 단말에게 상위 계층 시그널링(예컨대 시스템 정보(System Information), MIB(Master Information Block), RRC(Radio Resource Control) 시그널링)을 통해 설정될 수 있다. 단말에게 제 어영역을 설정한다는 것은 제어영역 식별자(Identity), 제어영역의 주파수 위치, 제어영역의 심볼 길이 등의 정 보를 제공하는 것을 의미한다. 예를 들면, 표 8의 정보들을 포함할 수 있다.[표 8]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 10, "content": "표 8에서 tci-StatesPDCCH (간단히 TCI(Transmission Configuration Indication) state로 명명함) 설정 정보는, 대응되는 제어영역에서 전송되는 DMRS와 QCL(Quasi Co Located) 관계에 있는 하나 또는 복수 개의 SS(Synchronization Signal)/PBCH(Physical Broadcast Channel) 블록(Block) 인덱스 또는 CSI-RS(Channel State Information Reference Signal) 인덱스의 정보를 포함할 수 있다. 도 5는 5G에서 사용될 수 있는 하향링크 제어채널을 구성하는 시간 및 주파수 자원의 기본단위의 일 예를 보여 주는 도면이다. 도 5에 따르면 제어채널을 구성하는 시간 및 주파수 자원의 기본 단위를 REG(Resource Element Group, 503)라 할 수 있으며, REG는 시간 축으로 1 OFDM 심볼, 주파수 축으로 1 PRB(Physical Resource Block, 502), 즉, 12개 서브캐리어(Subcarrier)로 정의될 수 있다. 기지국은 REG를 연접하여 하 향링크 제어채널 할당 단위를 구성할 수 있다. 도 5에 도시된 바와 같이 5G에서 하향링크 제어채널이 할당되는 기본 단위를 CCE(Control Channel Element, 504)라고 할 경우, 1 CCE는 복수의 REG로 구성될 수 있다. 도 5에 도시된 REG를 예를 들어 설 명하면, REG는 12개의 RE로 구성될 수 있고, 1 CCE가 6개의 REG로 구성된다면 1 CCE는 72 개의 RE로 구성될 수 있다. 하향링크 제어영역이 설정되면 해당 영역은 복수의 CCE로 구성될 수 있으며, 특정 하향링크 제어채널은 제어영역 내의 집성 레벨(Aggregation Level; AL)에 따라 하나 또는 복수의 CCE(50 4)로 매핑 되어 전송될 수 있다. 제어영역내의 CCE들은 번호로 구분되며 이 때 CCE들의 번호는 논리 적인 매핑 방식에 따라 부여될 수 있다. 도 5에 도시된 하향링크 제어채널의 기본 단위, 즉 REG에는 DCI가 매핑되는 RE들과 이를 디코딩하기 위한 레퍼런스 신호인 DMRS가 매핑되는 영역이 모두 포함될 수 있다. 도 5에서와 같이 1 REG 내에 3개의 DMRS가 전송될 수 있다. PDCCH를 전송하는데 필요한 CCE의 개수는 집성 레벨(Aggregation Level, AL)에 따라 1, 2, 4, 8, 16개가 될 수 있으며, 서로 다른 CCE 개수는 하향링크 제어채널의 링크 적응(link adaptation)을 구현하기 위해 사용될 수 있다. 예컨대 AL=L일 경우, 하나의 하향링크 제어채널이 L 개의 CCE를 통해 전송될 수 있다. 단말은 하향링크 제어채널에 대한 정보를 모르는 상태에서 신호를 검출해야 하는데, 블라 인드 디코딩을 위해 CCE들의 집합을 나타내는 탐색공간(search space)를 정의하였다. 탐색공간은 주어진 집성 레벨 상에서 단말이 디코딩을 시도해야 하는 CCE들로 이루어진 하향링크 제어채널 후보군(Candidate)들의 집합 이며, 1, 2, 4, 8, 16 개의 CCE로 하나의 묶음을 만드는 여러 가지 집성 레벨이 있으므로 단말은 복수개의 탐색 공간을 가질 수 있다. 탐색공간 세트(Set)는 설정된 모든 집성 레벨에서의 탐색공간들의 집합으로 정의될 수 있 다. 탐색공간은 공통(Common) 탐색공간과 단말-특정(UE-specific) 탐색공간으로 분류될 수 있다. 일정 그룹의 단말 들 또는 모든 단말들이 시스템정보에 대한 동적인 스케줄링이나 페이징 메시지와 같은 셀 공통의 제어정보를 수 신하기 위해 PDCCH의 공통 탐색 공간을 조사할 수 있다. 예를 들어 셀의 사업자 정보 등을 포함하는 SIB의 전송 을 위한 PDSCH 스케줄링 할당 정보는 PDCCH의 공통 탐색 공간을 조사하여 수신할 수 있다. 공통 탐색공간의 경 우, 일정 그룹의 단말들 또는 모든 단말들이 PDCCH를 수신해야 하므로 기 약속된 CCE의 집합으로써 정의될 수 있다. 단말-특정적인 PDSCH 또는 PUSCH에 대한 스케줄링 할당 정보는 PDCCH의 단말-특정 탐색공간을 조사함으로 써 수신될 수 있다. 단말-특정 탐색공간은 단말의 신원(Identity) 및 다양한 시스템 파라미터의 함수로 단말-특 정적으로 정의될 수 있다. 5G에서는 PDCCH에 대한 탐색공간에 대한 파라미터는 상위 계층 시그널링(예컨대, SIB, MIB, RRC 시그널링)으로 기지국으로부터 단말로 설정될 수 있다. 예를 들면, 기지국은 각 집성 레벨 L에서의 PDCCH 후보군 수, 탐색공간 에 대한 모니터링 주기, 탐색공간에 대한 슬롯 내 심볼 단위의 모니터링 occasion, 탐색공간 타입(공통 탐색공 간 또는 단말-특정 탐색공간), 해당 탐색공간에서 모니터링 하고자 하는 DCI 포맷과 RNTI의 조합, 탐색공간을 모니터링 하고자 하는 제어영역 인덱스 등을 단말에게 설정할 수 있다. 예를 들면, 표 9의 정보들을 포함할 수 있다.[표 9]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 11, "content": "설정 정보에 따라 기지국은 단말에게 하나 또는 복수 개의 탐색공간 세트를 설정할 수 있다. 일부 실시예에 따 르면, 기지국은 단말에게 탐색공간 세트 1과 탐색공간 세트 2를 설정할 수 있고, 탐색공간 세트 1에서 X-RNTI로 스크램블링된 DCI 포맷 A를 공통 탐색공간에서 모니터링 하도록 설정할 수 있고, 탐색공간 세트 2에서 Y-RNTI로 스크램블링된 DCI 포맷 B를 단말-특정 탐색공간에서 모니터링 하도록 설정할 수 있다. 설정 정보에 따르면, 공통 탐색공간 또는 단말-특정 탐색공간에 하나 또는 복수 개의 탐색공간 세트가 존재할 수 있다. 예를 들어 탐색공간 세트#1과 탐색공간 세트#2가 공통 탐색공간으로 설정될 수 있고, 탐색공간 세트#3 과 탐색공간 세트#4가 단말-특정 탐색공간으로 설정될 수 있다. 공통 탐색공간에서는 하기의 DCI 포맷과 RNTI의 조합이 모니터링 될 수 있다. 물론 하기 예시에 제한되지 않는 다. - DCI format 0_0/1_0 with CRC scrambled by C-RNTI, CS-RNTI, SP-CSI-RNTI, RA-RNTI, TC-RNTI, P-RNTI, SI- RNTI - DCI format 2_0 with CRC scrambled by SFI-RNTI - DCI format 2_1 with CRC scrambled by INT-RNTI - DCI format 2_2 with CRC scrambled by TPC-PUSCH-RNTI, TPC-PUCCH-RNTI - DCI format 2_3 with CRC scrambled by TPC-SRS-RNTI 단말-특정 탐색공간에서는 하기의 DCI 포맷과 RNTI의 조합이 모니터링 될 수 있다. 물론 하기 예시에 제한되지 않는다. - DCI format 0_0/1_0 with CRC scrambled by C-RNTI, CS-RNTI, TC-RNTI - DCI format 1_0/1_1 with CRC scrambled by C-RNTI, CS-RNTI, TC-RNTI 명시되어 있는 RNTI들은 하기의 정의 및 용도를 따를 수 있다. C-RNTI (Cell RNTI): 단말-특정 PDSCH 스케줄링 용도 TC-RNTI (Temporary Cell RNTI): 단말-특정 PDSCH 스케줄링 용도 CS-RNTI(Configured Scheduling RNTI): 준정적으로 설정된 단말-특정 PDSCH 스케줄링 용도 RA-RNTI (Random Access RNTI): 랜덤 엑세스 단계에서 PDSCH 스케줄링 용도 P-RNTI (Paging RNTI): 페이징이 전송되는 PDSCH 스케줄링 용도 SI-RNTI (System Information RNTI): 시스템 정보가 전송되는 PDSCH 스케줄링 용도 INT-RNTI (Interruption RNTI): PDSCH에 대한 pucturing 여부를 알려주기 위한 용도 TPC-PUSCH-RNTI (Transmit Power Control for PUSCH RNTI): PUSCH에 대한 전력 조절 명령 지시 용도 TPC-PUCCH-RNTI (Transmit Power Control for PUCCH RNTI): PUCCH에 대한 전력 조절 명령 지시 용도 TPC-SRS-RNTI (Transmit Power Control for SRS RNTI): SRS에 대한 전력 조절 명령 지시 용도 전술한 명시된 DCI 포맷들은 표 10의 예와 같은 정의를 따를 수 있다. [표 10]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 12, "content": "5G에서 제어영역 p, 탐색공간 세트 s에서 집성 레벨 L의 탐색공간은 하기의 수학식 1과 같이 표현될 수 있다. [수학식 1]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 13, "content": "- : 집성 레벨 - : 캐리어(Carrier) 인덱스 - : 제어영역 p 내에 존재하는 총 CCE 개수 - : 슬롯 인덱스 - : 집성 레벨 L의 PDCCH 후보군 수 - = 0, ..., -1: 집성 레벨 L의 PDCCH 후보군 인덱스 - = 0, ..., -1 - , , , , , - : 단말 식별자 값은 공통 탐색공간의 경우 0에 해당할 수 있다. 값은 단말-특정 탐색공간의 경우, 단말의 신원(C-RNTI 또는 기지국이 단말에게 설정해준 ID)과 시간 인덱스 에 따라 변하는 값에 해당할 수 있다. 5G에서는 복수 개의 탐색공간 세트가 서로 다른 파라미터들(예컨대, 표 9의 파라미터들)로 설정될 수 있음에 따 라, 매 시점에서 단말이 모니터링하는 탐색공간 세트의 집합이 달라질 수 있다. 예를 들면, 탐색공간 세트#1이 X-슬롯 주기로 설정되어 있고, 탐색공간 세트#2가 Y-슬롯 주기로 설정되어 있고 X와 Y가 다를 경우, 단말은 특 정 슬롯에서는 탐색공간 세트#1과 탐색공간 세트#2를 모두 모니터링 할 수 있고, 특정 슬롯에서는 탐색공간 세 트#1과 탐색공간 세트#2 중 하나를 모니터링 할 수 있다. [PDCCH: BD/CCE limit] 복수 개의 탐색공간 세트가 단말에게 설정되었을 경우, 단말이 모니터링해야 하는 탐색공간 세트를 결정하는 방 법에 있어서 하기의 조건들이 고려될 수 있다. 만약 단말이 상위 레이어 시그널링인 monitoringCapabilityConfig-r16의 값을 r15monitoringcapability 로 설 정 받았다면, 단말은 모니터링 할 수 있는 PDCCH 후보군의 수와 전체 탐색공간(여기서 전체 탐색공간이란 복수 개의 탐색공간 세트의 union 영역에 해당하는 전체 CCE 집합을 의미)을 구성하는 CCE의 개수에 대한 최대값을 슬롯 별로 정의하며, 만약 monitoringCapabilityConfig-r16의 값이 r16monitoringcapability 로 설정 받았다면, 단말은 모니터링 할 수 있는 PDCCH 후보군의 수와 전체 탐색공간(여기서 전체 탐색공간이란 복수 개 의 탐색공간 세트의 union 영역에 해당하는 전체 CCE 집합을 의미)을 구성하는 CCE의 개수에 대한 최대값을 Span 별로 정의한다. [조건 1: 최대 PDCCH 후보군 수 제한] 상기와 같이 상위 레이어 시그널링의 설정 값에 따라, 단말이 모니터링 할 수 있는 PDCCH 후보군의 최대 개수인 Mμ는 서브캐리어 간격 15·2μ kHz으로 설정된 셀에서 슬롯 기준으로 정의되는 경우 하기 표 11을 따르고, Span 기준으로 정의되는 경우 하기 표 12를 따를 수 있다. [표 11] [표 12]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 14, "content": "[조건 2: 최대 CCE 수 제한] 상기와 같이 상위 레이어 시그널링의 설정 값에 따라, 전체 탐색공간(여기서 전체 탐색공간이란 복수 개의 탐색 공간 세트의 union 영역에 해당하는 전체 CCE 집합을 의미)을 구성하는 CCE의 최대 개수인 Cμ는 서브캐리어 간 격 15·2μ kHz으로 설정된 셀에서 슬롯 기준으로 정의되는 경우 하기 표 13을 따르고, Span 기준으로 정의되는 경우 하기 표 14를 따를 수 있다. [표 13]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 15, "content": "[표 14]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 16, "content": "설명의 편의를 위해, 특정 시점에서 상기 조건 1, 2를 모두 만족시키는 상황을 \"조건 A\"로 정의하도록 한다. 따 라서 조건 A를 만족시키지 않는 것은 상기 조건 1, 2 중에서 적어도 하나의 조건을 만족시키지 않는 것을 의미 할 수 있다. [PDCCH: Overbooking] 기지국의 탐색공간 세트들의 설정에 따라 특정 시점에서 조건 A를 만족하지 않는 경우가 발생할 수 있다. 특정 시점에서 조건 A를 만족하지 않을 경우, 단말은 해당 시점에서 조건 A를 만족하도록 설정된 탐색공간 세트들 중 에서 일부만을 선택하여 모니터링 할 수 있고, 기지국은 선택된 탐색공간 세트로 PDCCH를 전송할 수 있다. 전체 설정된 탐색공간 세트 중에서 일부 탐색공간을 선택하는 방법으로 하기의 방법을 따를 수 있다. 특정 시점(슬롯)에서 PDCCH에 대한 조건 A를 만족시키지 못할 경우, 단말은(또는 기지국은) 해당 시점에 존재하 는 탐색공간 세트들 중에서 탐색 공간 타입이 공통 탐색공간으로 설정되어 있는 탐색공간 세트를 단말-특정 탐 색공간으로 설정된 탐색공간 세트보다 우선적으로 선택할 수 있다. 공통 탐색공간으로 설정되어 있는 탐색공간 세트들이 모두 선택되었을 경우(즉, 공통 탐색공간으로 설정되어 있 는 모든 탐색공간을 선택한 후에도 조건 A를 만족할 경우), 단말은(또는 기지국은) 단말-특정 탐색공간으로 설정되어 있는 탐색공간 세트들을 선택할 수 있다. 이 때, 단말-특정 탐색공간으로 설정되어 있는 탐색공간 세트 가 복수 개일 경우, 탐색공간 세트 인덱스(Index)가 낮은 탐색공간 세트가 더 높은 우선 순위를 가질 수 있다. 우선 순위를 고려하여 단말-특정 탐색공간 세트들을 조건 A가 만족되는 범위 내에서 선택할 수 있다. [Rate matching/Puncturing 관련] 하기에서는 레이트 매칭(Rate Matching) 동작 및 펑쳐링(Puncturing) 동작에 대해 구체적으로 기술하도록 한다. 임의의 심볼 시퀀스 A를 전송하고자 하는 시간 및 주파수 자원 A가 임의의 시간 및 주파수 자원 B와 겹쳤을 경 우, 자원 A와 자원 B가 겹친 영역 자원 C를 고려한 채널 A의 송수신 동작으로 레이트 매칭 또는 펑쳐링 동작이 고려될 수 있다. 구체적인 동작은 하기의 내용을 따를 수 있다. 레이트 매칭 (Rate Matching) 동작 - 기지국은 단말로 심볼 시퀀스 A를 전송하고자하는 전체 자원 A 중에서 자원 B와 겹친 영역에 해당하는 자원 C를 제외한 나머지 자원 영역에 대해서만 채널 A를 매핑하여 전송할 수 있다. 예를 들어 심볼 시퀀스 A가 {심볼 #1, 심볼#2, 심볼#3, 심볼4}로 구성되고, 자원 A가 {자원#1, 자원#2, 자원#3, 자원#4}이고, 자원 B가 {자원#3, 자원#5}일 경우, 기지국은 자원 A중에서 자원 C에 해당하는 {자원#3}을 제외한 나머지 자원인 {자원#1, 자원#2, 자원#4}에 심볼 시퀀스 A를 순차적으로 매핑하여 보낼 수 있다. 결과적으로 기지국은 심볼 시퀀스 {심볼#1, 심 볼#2, 심볼#3}을 각각 {자원#1, 자원#2, 자원#4}에 매핑하여 전송할 수 있다. 단말은 기지국으로부터 심볼 시퀀스 A에 대한 스케줄링 정보로부터 자원 A 및 자원 B를 판단할 수 있고, 이를 통해 자원 A와 자원 B가 겹친 영역인 자원 C를 판단할 수 있다. 단말은 심볼 시퀀스 A가 전체 자원 A 중에서 자 원 C를 제외한 나머지 영역에서 매핑되어 전송되었다고 가정하고 심볼 시퀀스 A를 수신할 수 있다. 예를 들어 심볼 시퀀스 A가 {심볼#1, 심볼#2, 심볼#3, 심볼4}로 구성되고, 자원 A가 {자원#1, 자원#2, 자원#3, 자원#4}이 고, 자원 B가 {자원#3, 자원#5}일 경우, 단말은 자원 A중에서 자원 C에 해당하는 {자원#3}을 제외한 나머지 자 원인 {자원#1, 자원#2, 자원#4}에 심볼 시퀀스 A를 순차적으로 매핑되었다고 가정하고 수신할 수 있다. 결과적 으로 단말은 심볼 시퀀스 {심볼#1, 심볼#2, 심볼#3}이 각각 {자원#1, 자원#2, 자원#4}에 매핑되어 전송되었다고 가정하고 이후의 일련의 수신 동작을 수행할 수 있다. 펑쳐링 (Puncturing) 동작 기지국은 단말로 심볼 시퀀스 A를 전송하고자하는 전체 자원 A 중에서 자원 B와 겹친 영역에 해당하는 자원 C가 존재할 경우, 심볼 시퀀스 A를 자원 A 전체에 매핑하지만, 자원 C에 해당하는 자원 영역에서는 전송을 수행하지 않고, 자원 A 중에서 자원 C를 제외한 나머지 자원 영역에 대해서만 전송을 수행할 수 있다. 예를 들어 심볼 시 퀀스 A가 {심볼#1, 심볼#2, 심볼#3, 심볼4}로 구성되고, 자원 A가 {자원#1, 자원#2, 자원#3, 자원#4}이고, 자원 B가 {자원#3, 자원#5}일 경우, 기지국은 심볼 시퀀스 A {심볼#1, 심볼#2, 심볼#3, 심볼#4}를 자원 A {자원#1, 자원#2, 자원#3, 자원#4}에 각각 매핑할 수 있고, 자원 A중에서 자원 C에 해당하는 {자원#3}을 제외한 나머지 자원인 {자원#1, 자원#2, 자원#4}에 해당하는 심볼 시퀀스 {심볼#1, 심볼#2, 심볼#4}만 전송할 수 있고, 자원 C 에 해당하는 {자원#3}에 매핑된 {심볼#3}은 전송하지 않을 수 있다. 결과적으로 기지국은 심볼 시퀀스 {심볼#1, 심볼#2, 심볼#4}를 각각 {자원#1, 자원#2, 자원#4}에 매핑하여 전송할 수 있다. 단말은 기지국으로부터 심볼 시퀀스 A에 대한 스케줄링 정보로부터 자원 A 및 자원 B를 판단할 수 있고, 이를 통해 자원 A와 자원 B가 겹친 영역인 자원 C를 판단할 수 있다. 단말은 심볼 시퀀스 A가 전체 자원 A에 매핑되 되 자원 영역 A 중에서 자원 C를 제외한 나머지 영역에서만 전송되었다고 가정하고 심볼 시퀀스 A를 수신할 수 있다. 예를 들어 심볼 시퀀스 A가 {심볼#1, 심볼#2, 심볼#3, 심볼4}로 구성되고, 자원 A가 {자원#1, 자원#2, 자 원#3, 자원#4}이고, 자원 B가 {자원#3, 자원#5}일 경우, 단말은 심볼 시퀀스 A {심볼#1, 심볼#2, 심볼#3, 심볼 #4}가 자원 A {자원#1, 자원#2, 자원#3, 자원#4}에 각각 매핑되지만, 자원 C에 해당하는 {자원#3}에 매핑된 {심 볼#3}은 전송되지 않는다고 가정할 수 있고, 자원 A중에서 자원 C에 해당하는 {자원#3}을 제외한 나머지 자원인 {자원#1, 자원#2, 자원#4}에 해당하는 심볼 시퀀스 {심볼#1, 심볼#2, 심볼#4}가 매핑되어 전송되었다고 가정하 고 수신할 수 있다. 결과적으로 단말은 심볼 시퀀스 {심볼#1, 심볼#2, 심볼#4}이 각각 {자원#1, 자원#2, 자원 #4}에 매핑되어 전송되었다고 가정하고 이후의 일련의 수신 동작을 수행할 수 있다. 하기에서는 5G 통신 시스템의 레이트 매칭의 목적으로 레이트 매칭 자원에 대한 설정 방법을 기술하도록 한다. 레이트 매칭이란 신호를 전송할 수 있는 자원의 양을 고려하여 그 신호의 크기가 조절되는 것을 의미한다. 예컨 대 데이터 채널의 레이트 매칭이란 특정 시간 및 주파수 자원 영역에 대해서 데이터 채널을 매핑하여 전송하지않고 이에 따라 데이터의 크기가 조절되는 것을 의미할 수 있다. 도 6은 기지국 및 단말이 하향링크 데이터 채널 및 레이트 매칭 자원을 고려하여 데이터를 송수신하는 방법을 설명하기 위한 도면이다. 도 6에는 하향링크 데이터 채널(PDSCH, 601)과 레이트 매칭 자원이 도시되어 있다. 기지국은 단말에게 상 위 계층 시그널링(예컨대 RRC 시그널링)을 통해 하나 또는 다수 개의 레이트 매칭 자원을 설정할 수 있다. 레이트 매칭 자원 설정 정보에는 시간축 자원 할당 정보, 주파수축 자원 할당 정보, 주기 정보 가 포함될 수 있다. 하기에서는 주파수축 자원 할당 정보에 해당하는 비트맵을 \"제 1 비트맵\", 시간 축 자원 할당 정보에 해당하는 비트맵을 \"제 2 비트맵\", 주기 정보에 해당하는 비트맵을 \"제 3 비트 맵\"으로 명명하도록 한다. 스케줄링된 데이터 채널의 시간 및 주파수 자원의 전체 또는 일부가 설정된 레 이트 매칭 자원과 겹칠 경우, 기지국은 레이트 매칭 자원 부분에서 데이터 채널을 레이트 매칭 하여 전송할 수 있고, 단말은 레이트 매칭 자원 부분에서 데이터 채널이 레이트 매칭되었다고 가정한 후 수신 및 디코딩을 수행할 수 있다. 기지국은 추가적인 설정을 통해 상기 설정된 레이트 매칭 자원 부분에서 데이터채널을 레이트 매칭할지의 여부 를 DCI를 통해 동적(Dynamic)으로 단말에게 통지할 수 있다 (전술한 DCI 포맷 내의 \"레이트 매칭 지시자\"에 해 당함). 구체적으로, 기지국은 상기 설정된 레이트 매칭 자원들 중에서 일부를 선택하여 레이트 매칭 자원 그룹 으로 그룹화할 수 있고, 각 레이트 매칭 자원 그룹에 대한 데이터채널의 레이트 매칭 여부를 비트맵 방식을 이 용하여 DCI로 단말에게 지시할 수 있다. 예컨대 4개의 레이트 매칭 자원, RMR#1, RMR#2, RMR#3, RMR#4가 설정되 어 있을 경우, 기지국은 레이트 매칭 그룹으로 RMG#1={RMR#1, RMR#2}, RMG#2={RMR#3, RMR#4}을 설정할 수 있으 며, DCI 필드 내의 2 비트를 이용하여, 각각 RMG#1과 RMG#2에서의 레이트 매칭 여부를 비트맵으로 단말에게 지 시할 수 있다. 예컨대 레이트 매칭을 해야 될 경우에는 \"1\"로 레이트 매칭을 하지 않아야될 경우에는 \"0\"으로 지시할 수 있다. 5G에서는 전술한 레이트 매칭 자원을 단말에 설정하는 방법으로 \"RB 심볼 레벨\" 및 \"RE 레벨\"의 granularity를 지원한다. 보다 구체적으로는 하기의 설정 방법을 따를 수 있다. RB 심볼 레벨 단말은 대역폭부분 별로 최대 4개의 RateMatchPattern을 상위 계층 시그널링으로 설정 받을 수 있고, 하나의 RateMatchPattern은 하기의 내용을 포함할 수 있다. - 대역폭부분 내의 예비 자원 (Reserved Resource)으로써, 주파수 축으로 RB 레벨의 비트맵과 심볼 레벨의 비트 맵으로 조합으로 해당 예비 자원의 시간 및 주파수 자원 영역이 설정된 자원이 포함될 수 있다. 상기 예비 자원 은 하나 또는 두개의 슬롯에 걸쳐 span될 수 있다. 각 RB 레벨 및 심볼 레벨 비트맵 pair로 구성된 시간 및 주 파수 영역이 반복되는 시간 도메인 패턴(periodicityAndPattern)이 추가로 설정될 수 있다. - 대역폭부분 내의 제어자원세트로 설정된 시간 및 주파수 도메인 자원영역과 해당 자원영역이 반복되는 탐색공 간 설정으로 설정된 시간 도메인 패턴에 해당하는 자원 영역이 포함될 수 있다. RE 레벨 단말은 하기의 내용을 상위 계층 시그널링을 통해 설정 받을 수 있다. - LTE CRS (Cell-specific Reference Signal 또는 Common Reference Signal) 패턴에 해당하는 RE에 대한 설정 정보 (lte-CRS-ToMatchAround)로써 LTE CRS의 포트 수 (nrofCRS-Ports) 및 LTE-CRS-vshift(s) 값 (v-shift), 기준이 되는 주파수 지점 (예를 들어 reference point A)에서부터 LTE 캐리어의 센터 부반송파(Subcarrier) 위 치 정보(carrierFreqDL), LTE 캐리어의 대역폭크기 (carrierBandwidthDL) 정보, MBSFN(Multicast-broadcast single-frequency network)에 해당하는 서브프레임 설정 정보 (mbsfn-SubframConfigList) 등을 포함할 수 있다. 단말은 전술한 정보들에 기반하여 LTE 서브프레임에 해당하는 NR 슬롯 내에서의 CRS의 위치를 판단할 수 있다. - 대역폭부분 내의 하나 또는 다수 개의 ZP(Zero Power) CSI-RS에 해당하는 자원 세트에 대한 설정 정보를 포함 할 수 있다. [LTE CRS rate match 관련] 다음으로 상술한 LTE CRS에 대한 rate match 과정에 대해 상세히 설명한다. LTE(Long Term Evolution)와 NR(New RAT)의 공존을 위하여(LTE-NR Coexistence), NR에서는 NR 단말에게 LTE의 CRS(Cell Specific Reference Signal)의 패턴을 설정해 주는 기능을 제공한다. 보다 구체적으로, 상기 CRS 패턴은 ServingCellConfig IE(Information Element) 혹은 ServingCellConfigCommon IE 내의 적어도 한 개의 파라미터를 포함한 RRC 시그 널링에 의해 제공될 수 있다. 상기 파라미터의 예를 들면, lte-CRS-ToMatchAround, lte-CRS-PatternList1-r16, lte-CRS-PatternList2-r16, crs-RateMatch-PerCORESETPoolIndex-r16 등이 있을 수 있다. Rel-15 NR에서는 상기 lte-CRS-ToMatchAround 파라미터를 통해 서빙셀 당 한 개의 CRS 패턴이 설정될 수 있는 기능을 제공한다. Rel-16 NR에서는 서빙셀 당 복수의 CRS 패턴 설정이 가능하도록 상기 기능이 확장되었다. 보 다 구체적으로, Single-TRP(transmission and reception point) 설정 단말에는 한 개의 LTE 캐리어(carrier) 당 한 개의 CRS 패턴이 설정될 수 있고, Multi-TRP 설정 단말에는 한 개의 LTE 캐리어 당 두 개의 CRS 패턴이 설정될 수 있게 되었다. 예를 들어, Single-TRP 설정 단말에는 상기 lte-CRS-PatternList1-r16 파라미터를 통 하여 서빙셀당 최대 3개의 CRS 패턴을 설정할 수 있다. 또 다른 예를 들어, multi-TRP 설정 단말에는 TRP별로 CRS가 설정될 수 있다. 즉, TRP1에 대한 CRS 패턴은 lte-CRS-PatternList1-r16 파라미터를 통해 설정되고, TRP2에 대한 CRS 패턴은 lte-CRS-PatternList2-r16 파라미터를 통해 설정될 수 있다. 한편, 위와 같이 두 개의 TRP가 설정된 경우, 특정 PDSCH(Physical Downlink Shared Channel)에 상기 TRP1 및 TRP2의 CRS 패턴을 모두 적용하는지, 혹은 한 개의 TRP에 대한 CRS 패턴만을 적용하는지 여부는 crs-RateMatch-PerCORESETPoolIndex- r16 파라미터를 통해 결정되는데, 상기 crs-RateMatch-PerCORESETPoolIndex-r16 파라미터가 enabled로 설정되 면 한 개의 TRP의 CRS 패턴만을 적용하고, 그 외의 경우에는 두 TRP의 CRS 패턴을 모두 적용한다. 표 15는 상기 CRS 패턴을 포함하는 ServingCellConfig IE를 나타낸 것이며, 표16은 CRS 패턴에 대한 적어도 한 개의 파라미터를 포함하는 RateMatchPatternLTE-CRS IE를 나타낸 것이다. [표 15]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 17, "content": "[표 16]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 18, "content": "[PDSCH: 주파수 자원할당 관련] 도 7은 본 개시의 일 실시 예에 따른 무선 통신 시스템에서 PDSCH(physical downlink shared channel)의 주파 수축 자원 할당 예를 도시하는 도면이다. 도 7은 NR 무선 통신 시스템에서 상위 레이어를 통하여 설정 가능한 type 0 (7-00), type 1 (7-05), 그리고 동 적 변경(dynamic switch) (7-10)의 세 가지 주파수 축 자원 할당 방법들을 도시하는 도면이다. 도 7을 참조하면, 만약 상위 레이어 시그널링을 통하여 단말이 resource type 0 만을 사용하도록 설정된 경우 (7-00), 해당 단말에게 PDSCH를 할당하는 일부 하향링크 제어 정보(downlink control information, DCI)는 NRBG개의 비트로 구성되는 비트맵을 포함한다. 이를 위한 조건은 차후 다시 설명한다. 이때 NRBG는 BWP 지시자 (indicator)가 할당하는 BWP 크기(size) 및 상위 레이어 파라미터 rbg-Size에 따라 아래 [표 17]와 같이 결정 되는 RBG(resource block group)의 수를 의미하며, 비트맵에 의하여 1로 표시되는 RBG에 데이터가 전송되게 된 다. [표 17]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 19, "content": "만약 상위 레이어 시그널링을 통하여 단말이 resource type 1 만을 사용하도록 설정된 경우(7-05), 해당 단말에 게 PDSCH를 할당하는 일부 DCI는 개의 비트들로 구성되는 주파수 축 자 원 할당 정보를 포함한다. 이를 위한 조건은 차후 다시 설명된다. 기지국은 이를 통하여 starting VRB(7-20)와 이로부터 연속적으로 할당되는 주파수 축 자원의 길이(7-25)를 설정할 수 있다. 만약 상위 레이어 시그널링을 통하여 단말이 resource type 0과 resource type 1를 모두 사용하도록 설정된 경 우(7-10), 해당 단말에게 PDSCH를 할당하는 일부 DCI는 resource type 0을 설정하기 위한 payload(7-15)와 resource type 1을 설정하기 위한 payload(7-20, 7-25)중 큰 값(7-35)의 비트들로 구성되는 주파수 축 자원 할 당 정보를 포함한다. 이를 위한 조건은 차후 다시 설명된다. 이때, DCI 내 주파수 축 자원 할당 정보의 제일 앞 부분(MSB)에 한 비트가 추가될 수 있고, 해당 비트가 '0'의 값인 경우 resource type 0이 사용됨이 지시되고, '1'의 값인 경우 resource type 1이 사용됨이 지시될 수 있다. [PDSCH/PUSCH: 시간 자원할당 관련] 아래에서는 차세대 이동통신 시스템(5G 또는 NR 시스템)에서의 데이터 채널에 대한 시간 도메인 자원할당 방법 이 설명된다. 기지국은 단말에게 하향링크 데이터채널(Physical Downlink Shared Channel, PDSCH) 및 상향링크 데이터채널 (Physical Uplink Shared Channel, PUSCH)에 대한 시간 도메인 자원할당 정보에 대한 테이블(Table)을, 상위 계층 시그널링 (예를 들어 RRC 시그널링)으로 설정할 수 있다. PDSCH에 대해서는 최대 maxNrofDL- Allocations=16 개의 엔트리(Entry)로 구성된 테이블이 설정될 수 있고, PUSCH에 대해서는 최대 maxNrofUL- Allocations=16 개의 엔트리(Entry)로 구성된 테이블이 설정될 수 있다. 일 실시예에서, 시간 도메인 자원할당 정보에는 PDCCH-to-PDSCH 슬롯 타이밍 (PDCCH를 수신한 시점과 수신한 PDCCH가 스케줄링하는 PDSCH가 전송되는 시점 사이의 슬롯 단위의 시간 간격에 해당함, K0로 표기함), PDCCH-to-PUSCH 슬롯 타이밍 (PDCCH를 수신한 시 점과 수신한 PDCCH가 스케줄링하는 PUSCH가 전송되는 시점 사이의 슬롯 단위의 시간 간격에 해당함, K2로 표기 함), 슬롯 내에서 PDSCH 또는 PUSCH가 스케줄링된 시작 심볼의 위치 및 길이에 대한 정보, PDSCH 또는 PUSCH의 매핑 타입 등이 포함될 수 있다. 예를 들면, 아래의 [표 18] 또는 [표 19]와 같은 정보가 기지국으로부터 단말 에게 전송될 수 있다.[표 18]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 20, "content": "[표 19]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 21, "content": "기지국은 상술된 시간 도메인 자원할당 정보에 대한 테이블의 엔트리 중 하나를, L1 시그널링(예를 들어 DCI)를 통해 단말에게 통지할 수 있다 (예를 들어 DCI 내의 '시간 도메인 자원할당' 필드로 지시될 수 있음). 단말은 기지국으로부터 수신한 DCI에 기초하여 PDSCH 또는 PUSCH에 대한 시간 도메인 자원할당 정보를 획득할 수 있다. 도 8는 본 개시의 일 실시 예에 따른 무선 통신 시스템에서 PDSCH의 시간 축 자원 할당 예를 도시하는 도면이다. 도 8를 참조하면, 기지국은 상위 레이어를 이용하여 설정되는 데이터 채널(data channel) 및 제어 채널(control channel)의 서브캐리어 간격(subcarrier spacing, SCS)(μPDSCH, μPDCCH), 스케줄링 오프셋(scheduling offset)(K0) 값, 그리고 DCI를 통하여 동적으로 지시되는 한 slot 내 OFDM symbol 시작 위치(8-00)와 길이(8- 05)에 따라 PDSCH 자원의 시간 축 위치를 지시할 수 있다. 도 9는 본 개시의 일 실시 예에 따른 무선 통신 시스템에서 데이터 채널(data channel) 및 제어 채널(control channel)의 서브캐리어 간격에 따른 시간축 자원 할당 예를 도시하는 도면이다. 도 9를 참조하면, 데이터 채널 및 제어 채널의 서브캐리어 간격이 같은 경우 (9-00, μPDSCH = μPDCCH), 데이터와 제어를 위한 슬롯 번호(slot number)가 같으므로, 기지국 및 단말은 미리 정해진 슬롯 오프셋(slot offset) K0 에 맞추어, 스케줄링 오프셋(scheduling offset)을 생성할 수 있다. 반면, 데이터 채널 및 제어 채널의 서브캐 리어 간격이 다른 경우 (9-05, μPDSCH ≠ μPDCCH), 데이터와 제어를 위한 슬롯 번호(slot number)가 다르므로, 기지국 및 단말은 PDCCH의 서브캐리어 간격을 기준으로 하여, 미리 정해진 슬롯 오프셋(slot offset) K0에 맞추 어 스케줄링 오프셋(scheduling offset)을 생성할 수 있다. [PUSCH: 전송 방식 관련] 다음으로 PUSCH 전송의 스케줄링 방식에 대해 설명한다. PUSCH 전송은 DCI 내의 UL grant에 의해 동적으로 스케 줄링 되거나, configured grant Type 1 또는 Type 2에 의해 동작할 수 있다. PUSCH 전송에 대한 동적 스케줄링 지시는 DCI format 0_0 또는 0_1으로 가능하다. Configured grant Type 1 PUSCH 전송은 DCI 내의 UL grant에 대한 수신을 하지 않고, 상위 시그널링을 통한 [표 20]의 rrc-ConfiguredUplinkGrant를 포함하는 configuredGrantConfig의 수신을 통해 준정적으로 설정될 수 있다. Configured grant Type 2 PUSCH 전송은 상위 시그널링을 통한 [표 20]의 rrc-ConfiguredUplinkGrant를 포함하지 않는 configuredGrantConfig의 수신 이후, DCI 내의 UL grant에 의해 반지속적으로 스케줄링 될 수 있다. PUSCH 전송이 configured grant에 의해 동작하는 경우, PUSCH 전송에 적용되는 파라미터들은 상위 시그널링인 [표 21]의 pusch-Config 로 제공되는 dataScramblingIdentityPUSCH, txConfig, codebookSubset, maxRank, scaling of UCI-OnPUSCH를 제외하고는 [표 20]의 상위 시그널링인 configuredGrantConfig을 통해 적 용된다. 단말이 [표 20]의 상위 시그널링인 configuredGrantConfig 내의 transformPrecoder를 제공받았다면, 단말은 configured grant에 의해 동작하는 PUSCH 전송에 대해 [표 21]의 pusch-Config 내의 tp-pi2BPSK를 적용 한다. [표 20]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 22, "content": "다음으로 PUSCH 전송 방법에 대해 설명한다. PUSCH 전송을 위한 DMRS 안테나 포트는 SRS 전송을 위한 안테나 포 트와 동일하다. PUSCH 전송은 상위 시그널링인 [표 21]의 pusch-Config 내의 txConfig의 값이 'codebook' 혹은 'nonCodebook'인지에 따라 codebook 기반의 전송 방법과 non-codebook 기반의 전송 방법을 각각 따를 수 있다. 상술한 바와 같이, PUSCH 전송은 DCI format 0_0 또는 0_1을 통해 동적으로 스케줄링 될 수 있고, configured grant에 의해 준정적으로 설정될 수 있다. 만약 단말이 PUSCH 전송에 대한 스케줄링을 DCI format 0_0을 통해 지시받았다면, 단말은 serving cell 내 활성화된 상향링크 BWP 내에서 최소 ID에 대응되는 단말 특정적인 PUCCH resource에 대응되는 pucch-spatialRelationInfoID를 이용하여 PUSCH 전송을 위한 빔 설정을 수행하고, 이 때 PUSCH 전송은 단일 안테나 포트를 기반으로 한다. 단말은 pucch-spatialRelationInfo를 포함하는 PUCCH resource가 설정되지 않은 BWP 내에서, DCI format 0_0을 통해 PUSCH 전송에 대한 스케줄링을 기대하지 않는다. 만약 단말이 [표 21]의 pusch-Config 내의 txConfig를 설정받지 않았다면, 단말은 DCI format 0_1로 스케줄링 받는 것을 기대하지 않는다. [표 21]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 23, "content": "다음으로 codebook 기반의 PUSCH 전송에 대해 설명한다. Codebook 기반의 PUSCH 전송은 DCI format 0_0 또는 0_1을 통해 동적으로 스케줄링 될 수 있고, configured grant에 의해 준정적으로 동작할 수 있다. Codebook 기 반의 PUSCH가 DCI format 0_1에 의해 동적으로 스케줄링 되거나 또는 configured grant에 의해 준정적으로 설 정되면, 단말은 SRS Resource Indicator (SRI), Transmission Precoding Matrix Indicator (TPMI), 그리고 전 송 rank (PUSCH 전송 레이어의 수)에 기반해서 PUSCH 전송을 위한 precoder를 결정한다. 이 때, SRI는 DCI 내의 필드 SRS resource indicator를 통해 주어지거나 상위 시그널링인 srs- ResourceIndicator를 통해 설정될 수 있다. 단말은 codebook 기반 PUSCH 전송 시 적어도 1개의 SRS resource를 설정받으며, 최대 2개까지 설정 받을 수 있다. 단말이 DCI를 통해 SRI를 제공받는 경우, 해당 SRI가 가리키는 SRS resource는 해당 SRI를 포함하는 PDCCH보다 이전에 전송된 SRS resource들 중에, SRI에 대응되는 SRS resource를 의미한다. 또한, TPMI 및 전송 rank는 DCI 내의 필드 precoding information and number of layers 를 통해 주어지거나, 상위 시그널링인 precodingAndNumberOfLayers를 통해 설정될 수 있다. TPMI는 PUSCH 전송 에 적용되는 precoder를 지시하는 데 사용된다. 만약 단말이 1개의 SRS resource를 설정 받았을 때에는, TPMI는 설정된 1개의 SRS resource에서 적용될 precoder를 지시하는 데 사용된다. 만약 단말이 복수 개의 SRS resource들을 설정 받았을 때에는, TPMI는 SRI를 통해 지시되는 SRS resource에서 적용될 precoder를 지시하는 데 사용된다. PUSCH 전송에 사용될 precoder는 상위 시그널링인 SRS-Config 내의 nrofSRS-Ports 값과 같은 수의 안테나 포트 수를 갖는 상향링크 코드북에서 선택된다. Codebook 기반의 PUSCH 전송에서, 단말은 TPMI와 상위 시그널링인 pusch-Config 내의 codebookSubset에 기반하여 codebook subset을 결정한다. 상위 시그널링인 pusch-Config 내 의 codebookSubset은 단말이 기지국에게 보고하는 UE capability에 근거하여 'fullyAndPartialAndNonCoherent', 'partialAndNonCoherent', 또는 'nonCoherent' 중 하나로 설정 받을 수 있 다. 만약 단말이 UE capability로 'partialAndNonCoherent'를 보고했다면, 단말은 상위 시그널링인 codebookSubset의 값이 'fullyAndPartialAndNonCoherent'로 설정되는 것을 기대하지 않는다. 또한, 만약 단말 이 UE capability로 'nonCoherent'를 보고했다면, 단말은 상위 시그널링인 codebookSubset의 값이 'fullyAndPartialAndNonCoherent' 또는 'partialAndNonCoherent'로 설정되는 것을 기대하지 않는다. 상위 시그 널링인 SRS-ResourceSet 내의 nrofSRS-Ports가 2개의 SRS 안테나 포트를 가리키는 경우, 단말은 상위 시그널링 인 codebookSubset의 값이 'partialAndNonCoherent'로 설정되는 것을 기대하지 않는다. 단말은 상위 시그널링인 SRS-ResourceSet 내의 usage의 값이 'codebook'으로 설정된 SRS resource set을 1개 설정 받을 수 있고, 해당 SRS resource set 내에서 1개의 SRS resource 가 SRI를 통해 지시될 수 있다. 만약 상위 시그널링인 SRS-ResourceSet 내의 usage 값이 'codebook'으로 설정된 SRS resource set 내에 여러 SRS resource들이 설정되면, 단말은 상위 시그널링인 SRS-Resource 내의 nrofSRS-Ports의 값이 모든 SRS resource 들에 대해 같은 값이 설정되는 것을 기대한다. 단말은 상위 시그널링에 따라 usage의 값이 'codebook'으로 설정된 SRS resource set 내에 포함된 1개 또는 복 수 개의 SRS resource를 기지국으로 전송하고, 기지국은 단말이 전송한 SRS resource 중 1개를 선택하여 해당 SRS resource의 송신 빔 정보를 이용하여 단말이 PUSCH 전송을 수행할 수 있도록 지시한다. 이 때, codebook 기 반 PUSCH 전송에서는 SRI가 1개의 SRS resource의 인덱스를 선택하는 정보로 사용되며 DCI 내에 포함된다. 추가 적으로, 기지국은 단말이 PUSCH 전송에 사용할 TPMI와 rank를 지시하는 정보를 DCI에 포함시킨다. 단말은 상기 SRI가 지시하는 SRS resource를 이용하여, 해당 SRS resource의 송신 빔을 기반으로 지시된 rank와 TPMI가 지 시하는 precoder를 적용하여 PUSCH 전송을 수행한다. 다음으로 non-codebook 기반의 PUSCH 전송에 대해 설명한다. Non-codebook 기반의 PUSCH 전송은 DCI format 0_0 또는 0_1을 통해 동적으로 스케줄링 될 수 있고, configured grant에 의해 준정적으로 동작할 수 있다. 상 위 시그널링인 SRS-ResourceSet 내의 usage의 값이 'nonCodebook'으로 설정된 SRS resource set 내에 적어도 1 개의 SRS resource가 설정된 경우, 단말은 DCI format 0_1을 통해 non-codebook 기반 PUSCH 전송을 스케줄링 받을 수 있다. 상위 시그널링인 SRS-ResourceSet 내의 usage의 값이 'nonCodebook'으로 설정된 SRS resource set에 대해, 단 말은 1개의 연결되어 있는 NZP CSI-RS resource(non-zero power CSI-RS)를 설정 받을 수 있다. 단말은 SRS resource set과 연결되어 있는 NZP CSI-RS resource에 대한 측정을 통해 SRS 전송을 위한 precoder에 대한 계 산을 수행할 수 있다. 만약 SRS resource set과 연결되어 있는 aperiodic NZP CSI-RS resource의 마지막 수신 심볼과 단말에서의 aperiodic SRS 전송의 첫번째 심볼 간의 차이가 42 심볼보다 적게 차이나면, 단말은 SRS 전 송을 위한 precoder에 대한 정보가 갱신되는 것을 기대하지 않는다. 상위 시그널링인 SRS-ResourceSet 내의 resourceType의 값이 'aperiodic'으로 설정되면, 연결되어 있는 NZP CSI-RS는 DCI format 0_1 또는 1_1 내의 필드인 SRS request로 지시된다. 이 때, 연결되어 있는 NZP CSI-RS resource가 비주기적 NZP CSI-RS resource라면, DCI format 0_1 또는 1_1 내의 필드 SRS request의 값이 '00' 이 아닌 경우에 대해 연결되어 있는 NZP CSI-RS가 존재함을 가리키게 된다. 이 때, 해당 DCI는 cross carrier또는 cross BWP 스케줄링을 지시하지 않아야 한다. 또한, SRS request의 값이 만약 NZP CSI-RS의 존재를 가리키 게 된다면, 해당 NZP CSI-RS는 SRS request 필드를 포함한 PDCCH가 전송된 슬롯에 위치하게 된다. 이 때, 스케 줄링된 부반송파에 설정된 TCI state들은 QCL-TypeD로 설정되지 않는다. 만약 주기적 혹은 반지속적 SRS resource set이 설정되었다면, 연결되어 있는 NZP CSI-RS는 상위 시그널링인 SRS-ResourceSet 내의 associatedCSI-RS를 통해 지시될 수 있다. Non-codebook 기반 전송에 대해, 단말은 SRS resource에 대한 상위 시그널링인 spatialRelationInfo와 상위 시그널링인 SRS-ResourceSet 내의 associatedCSI-RS 가 함께 설정되는 것을 기대하지 않는다. 단말은 복수 개의 SRS resource들을 설정 받은 경우, PUSCH 전송에 적용할 precoder와 전송 rank를 기지국이 지 시하는 SRI에 기반하여 결정할 수 있다. 이 때, SRI는 DCI 내의 필드 SRS resource indicator를 통해 지시 받 거나 또는 상위 시그널링인 srs-ResourceIndicator를 통해 설정 받을 수 있다. 상술한 codebook 기반의 PUSCH 전송과 마찬가지로, 단말이 DCI를 통해 SRI를 제공받는 경우, 해당 SRI가 가리키는 SRS resource는 해당 SRI를 포함하는 PDCCH보다 이전에 전송된 SRS resourc중에, SRI에 대응되는 SRS resource를 의미한다. 단말은 SRS 전 송에 1개 또는 복수 개의 SRS resource들을 사용할 수 있고, 1개의 SRS resource set 내에 같은 심볼에서 동시 전송이 가능한 최대 SRS resource 개수와 최대 SRS resource 개수는 단말이 기지국으로 보고하는 UE capability에 의해 결정된다. 이 때, 단말이 동시에 전송하는 SRS resource들은 같은 RB를 차지한다. 단말은 각 SRS resource 별로 1개의 SRS 포트를 설정한다. 상위 시그널링인 SRS-ResourceSet 내의 usage의 값이 'nonCodebook'으로 설정된 SRS resource set은 1개만 설정될 수 있으며, non-codebook 기반 PUSCH 전송을 위한 SRS resource는 최대 4개까지 설정이 가능하다. 기지국은 SRS resource set과 연결된 1개의 NZP-CSI-RS를 단말로 전송하며, 단말은 해당 NZP-CSI-RS 수신 시 측정한 결과를 기반으로 하여, 해당 SRS resource set 내의 1개 또는 복수 개의 SRS resource 전송 시 사용할 precoder를 계산한다. 단말은 usage가 'nonCodebook'으로 설정된 SRS resource set 내의 1개 또는 복수 개의 SRS resource를 기지국으로 전송할 때 상기 계산된 precoder를 적용하고, 기지국은 수신한 1개 또는 복수 개의 SRS resource 중 1개 또는 복수 개의 SRS resource를 선택한다. 이 때, non-codebook 기반 PUSCH 전송에서는 SRI가 1개 또는 복수 개의 SRS resource의 조합을 표현할 수 있는 인덱스를 나타내며 상기 SRI는 DCI 내에 포함 된다. 이 때, 기지국이 전송한 SRI가 지시하는 SRS resource의 수는 PUSCH의 송신 레이어의 수가 될 수 있으며, 단말은 각 레이어에 SRS resource 전송에 적용된 precoder를 적용해 PUSCH를 전송한다. [PUSCH: 준비 과정 시간] 다음으로 PUSCH 준비 과정 시간 (PUSCH preparation procedure time)에 대해 설명한다. 기지국이 단말에 DCI format 0_0, 0_1, 또는 0_2를 사용하여 PUSCH를 전송하도록 스케줄링 하는 경우, 단말은 DCI를 통해 지시된 전 송 방법 (SRS resource의 전송 프리코딩 방법, 전송 레이어 수, spatial domain transmission filter)을 적용 하여 PUSCH를 전송하기 위한 PUSCH 준비 과정 시간이 필요할 수 있다. NR에서는 이를 고려하여 PUSCH 준비 과정 시간을 정의하였다. 단말의 PUSCH 준비 과정 시간은 하기의 [수학식 2]를 따를 수 있다. [수학식 2] Tproc,2 = max(( N2 + d2,1 + d2)( 2048 + 144 ) κ2-μ Tc + Text + Tswitch, d2,2 ) 수학식 2으로 전술한 Tproc,2에서 각 변수는 하기와 같은 의미를 가질 수 있다. - N2: 단말의 capability에 따른 단말 처리 능력 (UE processing capability) 1 또는 2와 뉴머롤로지 μ에 따라 정해지는 심볼 수. 단말의 capability 보고에 따라 단말 처리 능력 1로 보고된 경우 [표 22]의 값을 가지고, 단 말 처리 능력 2로 보고되고 단말 처리 능력 2를 사용할 수 있다는 것이 상위 레이어 시그널링을 통해 설정된 경 우 [표 23]의 값을 가질 수 있다.[표 22]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 24, "content": "[표 23]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 25, "content": "- d2,1: PUSCH 전송의 첫 번째 OFDM 심볼의 resource element들이 모두 DM-RS만으로 이루어지도록 설정된 경우 0, 아닌 경우 1로 정해지는 심볼 수. - κ: 64 - μ: μDL 또는 μUL 중, Tproc,2이 더 크게 되는 값을 따른다. μDL은 PUSCH를 스케줄링 하는 DCI가 포함된 PDCCH 가 전송되는 하향링크의 뉴머롤로지를 뜻하고, μUL은 PUSCH가 전송되는 상향링크의 뉴머롤로지를 뜻한다. - Tc: 1/(fmax*Nf), fmax = 480*103Hz, Nf=4096를 가진다. - d2,2: PUSCH를 스케줄링하는 DCI가 BWP 스위칭을 지시하는 경우 BWP 스위칭 시간을 따르고, 그렇지 않은 경우 0을 가진다. - d2: PUCCH와 높은 priority index를 갖는 PUSCH와 낮은 priority index를 갖는 PUCCH의 OFDM 심볼끼리 시간 상에서 겹치는 경우, 높은 priority index를 갖는 PUSCH의 d2 값이 사용된다. 그렇지 않으면 d2는 0이다. - Text: 단말이 공유 스펙트럼 채널 접속 방식을 사용하는 경우, 단말은 Text를 계산하여 PUSCH 준비 과정 시간에 적용할 수 있다. 그렇지 않으면 Text는 0으로 가정한다. - Tswitch: 상향링크 스위칭 간격이 트리거된 경우 Tswitch는 스위칭 간격 시간으로 가정한다. 그렇지 않으면 0으로 가정한다. 기지국과 단말은 DCI를 통해 스케줄링 한 PUSCH의 시간 축 자원 맵핑 정보와 상향링크-하향링크 간 타이밍 어드 밴스의 영향을 고려하였을 때, PUSCH를 스케줄링 한 DCI를 포함한 PDCCH의 마지막 심볼부터 Tproc,2 이후에 CP가 시작하는 첫 상향링크 심볼보다 PUSCH의 첫 심볼이 먼저 시작하는 경우 PUSCH 준비 과정 시간이 충분하지 않다 고 판단한다. 만일 그렇지 않은 경우 기지국과 단말은 PUSCH 준비 과정 시간이 충분하다고 판단한다. 단말은 PUSCH 준비 과정 시간이 충분한 경우에 한해 PUSCH를 전송하고, PUSCH 준비 과정 시간이 충분하지 않은 경우 PUSCH를 스케줄링 하는 DCI를 무시할 수 있다.[CA/DC 관련] 도 10은 본 개시의 일 실시 예에 따른 single cell, carrier aggregation, dual connectivity 상황에서 기지국 과 단말의 무선 프로토콜 구조를 도시하는 도면이다. 도 10을 참조하면, 차세대 이동통신 시스템의 무선 프로토콜은 단말과 NR 기지국에서 각각 NR SDAP(Service Data Adaptation Protocol S25, S70), NR PDCP(Packet Data Convergence Protocol S30, S65), NR RLC(Radio Link Control S35, S60), NR MAC(Medium Access Control S40, S55)으로 이루어진다. NR SDAP(S25, S70)의 주요 기능은 다음의 기능들 중 일부를 포함할 수 있다. - 사용자 데이터의 전달 기능(transfer of user plane data) - 상향 링크와 하향 링크에 대해서 QoS flow와 데이터 베어러의 맵핑 기능(mapping between a QoS flow and a DRB for both DL and UL) - 상향 링크와 하향 링크에 대해서 QoS flow ID의 마킹 기능(marking QoS flow ID in both DL and UL packets) - 상향 링크 SDAP PDU들에 대해서 reflective QoS flow를 데이터 베어러에 맵핑시키는 기능 (reflective QoS flow to DRB mapping for the UL SDAP PDUs). 상기 SDAP 계층 장치에 대해 단말은 RRC 메시지로 각 PDCP 계층 장치 별로 혹은 베어러 별로 혹은 로지컬 채널 별로 SDAP 계층 장치의 헤더를 사용할 지 여부 혹은 SDAP 계층 장치의 기능을 사용할 지 여부를 설정 받을 수 있으며, SDAP 헤더가 설정된 경우, SDAP 헤더의 NAS QoS 반영 설정 1비트 지시자(NAS reflective QoS)와 AS QoS 반영 설정 1비트 지시자(AS reflective QoS)에게 단말이 상향 링크와 하향 링크의 QoS flow와 데이터 베어 러에 대한 맵핑 정보를 갱신 혹은 재설정할 수 있도록 지시할 수 있다. 상기 SDAP 헤더는 QoS를 나타내는 QoS flow ID 정보를 포함할 수 있다. 상기 QoS 정보는 원할한 서비스를 지원하기 위한 데이터 처리 우선 순위, 스케 줄링 정보 등으로 사용될 수 있다. NR PDCP (S30, S65)의 주요 기능은 다음의 기능들 중 일부를 포함할 수 있다. - 헤더 압축 및 압축 해제 기능(Header compression and decompression: ROHC only) - 사용자 데이터 전송 기능 (Transfer of user data) - 순차적 전달 기능(In-sequence delivery of upper layer PDUs) - 비순차적 전달 기능 (Out-of-sequence delivery of upper layer PDUs) - 순서 재정렬 기능(PDCP PDU reordering for reception) - 중복 탐지 기능(Duplicate detection of lower layer SDUs) - 재전송 기능(Retransmission of PDCP SDUs) - 암호화 및 복호화 기능(Ciphering and deciphering) - 타이머 기반 SDU 삭제 기능(Timer-based SDU discard in uplink.) 상기에서 NR PDCP 장치의 순서 재정렬 기능(reordering)은 하위 계층에서 수신한 PDCP PDU들을 PDCP SN(sequence number)을 기초로 순서대로 재정렬하는 기능을 말하며, 재정렬된 순서대로 데이터를 상위 계층에 전달하는 기능을 포함할 수 있다. 또는, NR PDCP 장치의 순서 재정렬 기능(reordering)은 순서를 고려하지 않고, 바로 전달하는 기능을 포함할 수 있으며, 순서를 재정렬하여 유실된 PDCP PDU들을 기록하는 기능을 포함 할 수 있고, 유실된 PDCP PDU들에 대한 상태 보고를 송신 측에 하는 기능을 포함할 수 있으며, 유실된 PDCP PDU 들에 대한 재전송을 요청하는 기능을 포함할 수 있다. NR RLC(S35, S60)의 주요 기능은 다음의 기능들 중 일부를 포함할 수 있다. - 데이터 전송 기능(Transfer of upper layer PDUs) - 순차적 전달 기능(In-sequence delivery of upper layer PDUs) - 비순차적 전달 기능(Out-of-sequence delivery of upper layer PDUs) - ARQ 기능(Error Correction through ARQ) - 접합, 분할, 재조립 기능(Concatenation, segmentation and reassembly of RLC SDUs) - 재분할 기능(Re-segmentation of RLC data PDUs) - 순서 재정렬 기능(Reordering of RLC data PDUs) - 중복 탐지 기능(Duplicate detection) - 오류 탐지 기능(Protocol error detection) - RLC SDU 삭제 기능(RLC SDU discard) - RLC 재수립 기능(RLC re-establishment) 상기에서 NR RLC 장치의 순차적 전달 기능(In-sequence delivery)은 하위 계층으로부터 수신한 RLC SDU들을 순 서대로 상위 계층에 전달하는 기능을 의미한다. NR RLC 장치의 순차적 전달 기능(In-sequence delivery)은 원래 하나의 RLC SDU가 여러 개의 RLC SDU들로 분할되어 수신된 경우, 이를 재조립하여 전달하는 기능을 포함할 수 있으며, 수신한 RLC PDU들을 RLC SN(sequence number) 혹은 PDCP SN(sequence number)를 기준으로 재정렬하는 기능을 포함할 수 있고, 순서를 재정렬하여 유실된 RLC PDU들을 기록하는 기능을 포함할 수 있으며, 유실된 RLC PDU들에 대한 상태 보고를 송신 측에 하는 기능을 포함할 수 있고, 유실된 RLC PDU들에 대한 재전송을 요청하는 기능을 포함할 수 있다. NR RLC 장치의 순차적 전달 기능(In-sequence delivery)은 유실된 RLC SDU가 있을 경 우, 유실된 RLC SDU 이전까지의 RLC SDU들만을 순서대로 상위 계층에 전달하는 기능을 포함할 수 있으며, 혹은 유실된 RLC SDU가 있어도 소정의 타이머가 만료되었다면 타이머가 시작되기 전에 수신된 모든 RLC SDU들을 순서 대로 상위 계층에 전달하는 기능을 포함할 수 있다. 또는, NR RLC 장치의 순차적 전달 기능(In-sequence delivery)은 유실된 RLC SDU가 있어도 소정의 타이머가 만료되었다면 현재까지 수신된 모든 RLC SDU들을 순서대 로 상위 계층에 전달하는 기능을 포함할 수 있다. 또한 상기에서 RLC PDU들을 수신하는 순서대로 (일련번호, Sequence number의 순서와 상관없이, 도착하는 순으로) 처리하여 PDCP 장치로 순서와 상관없이(Out-of sequence delivery) 전달할 수도 있으며, segment 인 경우에는 버퍼에 저장되어 있거나 추후에 수신될 segment 들을 수신하여 온전한 하나의 RLC PDU로 재구성한 후, 처리하여 PDCP 장치로 전달할 수 있다. 상기 NR RLC 계층 은 접합(Concatenation) 기능을 포함하지 않을 수 있고 상기 기능을 NR MAC 계층에서 수행하거나 NR MAC 계층의 다중화(multiplexing) 기능으로 대체할 수 있다. 상기에서 NR RLC 장치의 비순차적 전달 기능(Out-of-sequence delivery)은 하위 계층으로부터 수신한 RLC SDU 들을 순서와 상관없이 바로 상위 계층으로 전달하는 기능을 말하며, 원래 하나의 RLC SDU가 여러 개의 RLC SDU 들로 분할되어 수신된 경우, 이를 재조립하여 전달하는 기능을 포함할 수 있으며, 수신한 RLC PDU들의 RLC SN 혹은 PDCP SN을 저장하고 순서를 정렬하여 유실된 RLC PDU들을 기록해두는 기능을 포함할 수 있다. NR MAC(S40, S55)은 한 단말에 구성된 여러 NR RLC 계층 장치들과 연결될 수 있으며, NR MAC의 주요 기능은 다 음의 기능들 중 일부를 포함할 수 있다. - 맵핑 기능(Mapping between logical channels and transport channels) - 다중화 및 역다중화 기능(Multiplexing/demultiplexing of MAC SDUs) - 스케줄링 정보 보고 기능(Scheduling information reporting) - HARQ 기능(Error correction through HARQ) - 로지컬 채널 간 우선 순위 조절 기능(Priority handling between logical channels of one UE) - 단말간 우선 순위 조절 기능(Priority handling between UEs by means of dynamic scheduling) - MBMS 서비스 확인 기능(MBMS service identification) - 전송 포맷 선택 기능(Transport format selection) - 패딩 기능(Padding) NR PHY 계층(S45, S50)은 상위 계층 데이터를 채널 코딩 및 변조하고, OFDM 심벌로 만들어서 무선 채널로 전송 하거나, 무선 채널을 통해 수신한 OFDM 심벌을 복조하고 채널 디코딩해서 상위 계층으로 전달하는 동작을 수행할 수 있다. 상기 무선 프로토콜 구조는 캐리어 (혹은 셀) 운영 방식에 따라 세부 구조가 다양하게 변경될 수 있다. 일례로 기지국이 단일 캐리어(혹은 셀)을 기반으로 단말에게 데이터를 전송하는 경우 기지국 및 단말은 S00과 같이 각 계층 별 단일 구조를 가지는 프로토콜 구조를 사용하게 된다. 반면 기지국이 단일 TRP에서 다중 캐리어를 사용 하는 CA(carrier aggregation)를 기반으로 단말에게 데이터를 전송하는 경우 기지국 및 단말은 S10과 같이 RLC 까지는 단일 구조를 가지지만 MAC layer를 통하여 PHY layer를 multiplexing 하는 프로토콜 구조를 사용하게 된 다. 또 다른 예시로 기지국이 다중 TRP에서 다중 캐리어를 사용하는 DC(dual connectivity)를 기반으로 단말에 게 데이터를 전송하는 경우 기지국 및 단말은 S20과 같이 RLC 까지는 단일 구조를 가지지만 MAC layer를 통하여 PHY layer를 multiplexing 하는 프로토콜 구조를 사용하게 된다. 상술한 PDCCH 및 빔 설정 관련 설명들을 참조하면, 현재 Rel-15 및 Rel-16 NR에서는 PDCCH 반복 전송이 지원되 지 않아 URLLC 등 고신뢰도가 필요한 시나리오에서 요구 신뢰도를 달성하기 어렵다. 본 발명에서는 다수 전송 지점(TRP)을 통한 PDCCH 반복 전송 방법을 제공하여 단말의 PDCCH 수신 신뢰도를 향상시킨다. 구체적인 방법은 하기 실시예들에서 구체적으로 서술한다. 이하 본 개시의 실시 예를 첨부한 도면과 함께 상세히 설명한다. 본 개시에서의 내용은 FDD 및 TDD 시스템에서 적용이 가능한 것이다. 이하 본 개시에서 상위 시그널링(또는 상위 레이어 시그널링)은 기지국에서 물리계층의 하향링크 데이터 채널을 이용하여 단말로, 혹은 단말에서 물리계층의 상향링크 데이터 채널을 이용하여 기지국 으로 전달되는 신호 전달 방법이며, RRC 시그널링, 혹은 PDCP 시그널링, 혹은 MAC(medium access control) 제 어요소(MAC control element; MAC CE)라고 언급될 수도 있다. 이하 본 개시에서 단말은 협력 통신 적용 여부를 판단함에 있어 협력 통신이 적용되는 PDSCH를 할당하는 PDCCH (들)이 특정 포맷을 가지거나, 또는 협력 통신이 적용되는 PDSCH를 할당하는 PDCCH(들)이 협력 통신 적용 여부 를 알려주는 특정 지시자를 포함하거나, 또는 협력 통신이 적용되는 PDSCH를 할당하는 PDCCH(들)이 특정 RNTI로 스크램블링 되거나, 또는 상위 레이어로 지시되는 특정 구간에서 협력 통신 적용을 가정하거나 하는 등 다양한 방법들을 사용하는 것이 가능하다. 이후 설명의 편의를 위하여 단말이 상기와 유사한 조건들을 기반으로 협력 통신이 적용된 PDSCH를 수신하는 것을 NC-JT case로 지칭하도록 하겠다. 이하 본 개시에서 A 와 B 간 우선순위를 결정한다 함은 미리 정해진 우선순위 규칙(priority rule)에 따라 더 높은 우선순위를 가지는 것을 선택하여 그에 해당하는 동작을 수행하거나 또는 더 낮은 우선순위를 가지는 것에 대한 동작을 생략(omit or drop)하는 등 다양하게 언급될 수 있다. 이하 본 개시에서는 다수의 실시예를 통하여 상기 예제들을 설명하나 이는 독립적인 것들이 아니며 하나 이상의 실시 예가 동시에 또는 복합적으로 적용되는 것이 가능하다. 이하 본 개시의 실시 예를 첨부한 도면과 함께 상세히 설명한다. 이하, 기지국은 단말의 자원할 당을 수행하는 주체로서, gNode B, gNB, eNode B, Node B, BS (Base Station), 무선 접속 유닛, 기지국 제어기, 또는 네트워 크 상의 노드 중 적어도 하나일 수 있다. 단말은 UE (User Equipment), MS (Mobile Station), 셀룰러폰, 스마 트폰, 컴퓨터, 또는 통신기능을 수행할 수 있는 멀티미디어시스템을 포함할 수 있다. 이하에서는 5G 시스템을 일례로서 본 개시의 실시예를 설명하지만, 유사한 기술적 배경 또는 채널형태를 갖는 여타의 통신시스템에도 본 개시의 실시예가 적용될 수 있다. 예를 들어 LTE 또는 LTE-A 이동통신 및 5G 이후에 개발되는 이동통신 기술이 이에 포함될 수 있을 것이다. 따라서, 본 개시의 실시예는 본 기술 분야의 통상의 기술자의 판단으로써 본 개시 의 범위를 크게 벗어나지 아니하는 범위에서 일부 변형을 통해 다른 통신시스템에도 적용될 수 있다. 본 개시에 서의 내용은 FDD 및 TDD 시스템에서 적용이 가능한 것이다. 또한, 본 개시를 설명함에 있어서 관련된 기능 또는 구성에 대한 구체적인 설명이 본 개시의 요지를 불필요하게 흐릴 수 있다고 판단된 경우 그 상세한 설명은 생략한다. 그리고 후술되는 용어들은 본 개시에서의 기능을 고려 하여 정의된 용어들로서 이는 사용자, 운용자의 의도 또는 관례 등에 따라 달라질 수 있다. 그러므로 그 정의는 본 명세서 전반에 걸친 내용을 토대로 내려져야 할 것이다. 이하 본 개시를 설명함에 있어서, 상위 계층 시그널링이라 함은 하기의 시그널링 중에서 적어도 하나 또는 하나 이상의 조합에 해당하는 시그널링 일 수 있다. - MIB (Master Information Block) - SIB (System Information Block) 또는 SIB X (X=1, 2, ...) - RRC (Radio Resource Control) - MAC (Medium Access Control) CE (Control Element) 또한, L1 시그널링이라 함은 하기의 물리 계층 채널 또는 시그널링을 이용한 시그널링 방법 중에서 적어도 하나 또는 하나 이상의 조합에 해당하는 시그널링 일 수 있다. - PDCCH (Physical Downlink Control Channel) - DCI (Downlink Control Information) - 단말-특정 (UE-specific) DCI - 그룹 공통 (Group common) DCI - 공통 (Common) DCI - 스케줄링 DCI (예를 들어 하향링크 또는 상향링크 데이터를 스케줄링하는 목적으로 사용되는 DCI) - 비스케줄링 DCI (예를 들어 하향링크 또는 상향링크 데이터를 스케줄링하는 목적이 아닌 DCI) - PUCCH (Physical Uplink Control Channel) - UCI (Uplink Control Information) 이하 본 개시에서 A 와 B 간 우선순위를 결정한다 함은 미리 정해진 우선순위 규칙(priority rule)에 따라 더 높은 우선순위를 가지는 것을 선택하여 그에 해당하는 동작을 수행하거나 또는 더 낮은 우선순위를 가지는 것에 대한 동작을 생략(omit or drop)하는 등 다양하게 언급될 수 있다. 이하 본 개시에서는 다수의 실시예를 통하여 상기 예제들을 설명하나 이는 독립적인 것들이 아니며 하나 이상의 실시 예가 동시에 또는 복합적으로 적용되는 것이 가능하다. [Multi-PDSCH/PUSCH scheduling 관련] 3GPP(3rd generation partnership project)의 Rel-17 NR(new raido)에서 새로운 스케줄링 방법을 도입하였다. 본 개시는 상기 새로운 스케줄링 방법에 대한 것이다. Rel-17 NR에서 도입된 새로운 스케줄링 방법은 하나의 DCI가 하나 또는 복수의 PDSCH를 스케줄링할 수 있는 'Multi-PDSCH 스케줄링'과 하나의 DCI가 하나 또는 복수의 PUSCH를 스케줄링할 수 있는 'Multi-PUSCH 스케줄링'이다. 여기서 복수의 PDSCH 내지 복수의 PUSCH에서 각 PDSCH 내지 각 PUSCH는 서로 다른 전송블록(transport block, TB)를 전달한다. 상기 Multi-PDSCH 스케줄링과 Multi-PUSCH 스케줄링를 이용하여 기지국은 단말에서 복수의 PDSCH 내지 복수의 PUSCH 각각을 스케줄링하는 복 수의 DCI를 스케줄링하지 않으므로 하향링크 제어 채널의 오버헤드를 줄일 수 있다. 하지만 상기 Multi-PDSCH 스케줄링과 Multi-PUSCH 스케줄링을 위한 하나의 DCI는 복수의 PDSCH 내지 복수의 PUSCH에 대한 스케줄링 정보 를 포함하여야하므로 DCI의 크기(size)가 증가될 수 있다. 이를 위하여, 단말에게 Multi-PDSCH 스케줄링과 Multi-PUSCH 스케줄링 설정되었을 때, 단말이 DCI를 바람직하게 해석하기 위한 방법이 필요하다. 본 개시에서는 Multi-PDSCH 스케줄링의 예에 대하여 설명하지만, 본 개시에서 제안한 방법 및/또는 실시 예는 Multi-PUSCH 스케줄링에서도 사용할 수 있다. 기지국은 단말에게 Multi-PDSCH 스케줄링을 설정할 수 있다. 예를 들어, 기지국이 단말에게 명시적으로 상위계 층 신호(예를 들어, RRC(radio resource control) 신호)에서 Multi-PDSCH 스케줄링을 설정할 수 있다. 또는, 기지국이 단말에서 묵시적으로 상위계층 신호(예를 들어, RRC 신호)에서 Multi-PDSCH 스케줄링을 설정할 수 있 다. 기지국은 단말에게 Multi-PDSCH 스케줄링을 위하여 다음과 같이 TDRA(time domain resource assignment) 테이 블을 상위계층 신호(예를 들어, RRC 신호)로 설정할 수 있다. TDRA 테이블은 하나 또는 복수의 행(row)를 포함 할 수 있다. 상기 행(row)는 최대 N_row개까지 설정될 수 있고, 각 행은 고유의 인덱스가 매겨질 수 있다. 상기 고유의 인덱스는 1,2,...,N_row 중 하나의 값일 수 있다. 일례로, N_row는 16일 수 있다. 각 행(row)에서 하나 또는 복수 개의 스케줄링 정보가 설정될 수 있다. 여기서, 한 행(row)에 하나의 스케줄링 정보가 설정되면, 상 기 행(row)은 하나의 PDSCH를 스케줄링 한다. 즉, 상기 행(row)이 지시될 때, Single-PDSCH 스케줄링이 지시되 었다라고 해석할 수 있다. 한 행(row)에 복수의 스케줄링 정보들이 설정되면, 복수의 스케줄링 정보들은 순서대 로 복수의 PDSCH들을 스케줄링한다. 즉, 상기 행(row)이 지시될 때, Multi-PDSCH 스케줄링이 지시되었다라고 해석할 수 있다. 상기 스케줄링 정보는 (K0, SLIV, PDSCH mapping type)일 수 있다. 즉, Multi-PDSCH 스케줄링이 지시될 경우, 행(row)은 복수의 (K0, SLIV, PDSCH mapping type)들을 포함할 수 있다. 그 중 N번째 (K0, SLIV, PDSCH mapping type)은 N번째 PDSCH의 스케줄링 정보이다. 참고로, 하나의 행은 최대 N_pdsch개의 (K0, SLIV, PDSCH mapping type)들을 포함할 수 있다. 일례로, N_pdsch = 8일 수 있다. 즉, 하나의 행(row)는 최대 8개의 PDSCH 를 스케줄링할 수 있다. 여기서 K0는 PDSCH가 스케줄링된 슬롯을 지시하는 것으로, 상기 PDSCH를 스케줄링하는 DCI를 전송하는 PDCCH가 수신된 슬롯과 PDSCH가 스케줄링된 슬롯 간의 슬롯 차이(오프셋)를 나타낸다. 예를 들어, K0=0이면, PDSCH가 수 신되는 슬롯은 PDCCH가 수신된 슬롯과 동일한 슬롯이다. 여기서 SLIV(starting and length indictor value)는 한 슬롯 내에서 PDSCH가 시작하는 심볼의 인덱스와 PDSCH가 할당된 연속적인 심볼의 수를 나타낸다. PDSCH mapping type은 PDSCH의 첫번째 DMRS(front-loaded DMRS)의 위치와 관련된 정보를 지시한다. PDSCH mapping type A의 경우 PDSCH의 첫번째 DMRS(front-loaded DMRS)는 슬롯의 3번째 심볼 내지 4번째 심볼에서 시작하고, PDSCH mapping type B의 경우 PDSCH의 첫번째 DMRS(front-loaded DMRS)는 PDSCH가 스케줄링된 심볼들의 첫번째 에서 시작할 수 있다. 여기서, 상위계층 신호에서 TDRA 테이블의 행(row)를 설정할 때, 스케줄링 정보에서 (K0, SLIV, PDSCH mapping type) 중 일부는 생략될 수 있다. 이 경우 기본(default) 값으로 해석될 수 있다. 예를 들어 K0가 생략될 경우, 상기 K0의 값은 0으로 해석될 수 있다. 또한, TDRA 테이블의 행(row)를 설정할 때, (K0, SLIV, PDSCH mapping type)이외의 정보가 추가적으로 설정될 수도 있다. 이후 설명에서 단말은 Multi-PDSCH 스케줄링이 설정되어 있다고 가정한다. 여기서, Multi-PDSCH 스케줄링 설정 은 TDRA 테이블 중 적어도 하나의 행(row)에 복수의 스케줄링 정보가 설정되는 것을 의미할 수 있다. 참고로, 상기 TDRA 테이블의 다른 하나의 행(row)은 하나의 스케줄링 정보가 설정될 수 있다. 그러므로 단말에게 Multi- PDSCH 스케줄링이 설정되더라도 단말은 수신한 DCI의 TDRA 필드의 행(row)에 따라서 Single-PDSCH 스케줄링이 지시될 수도 있고, 또는 Multi-PDSCH 스케줄링이 지시될 수도 있다. 다시 말해서, Multi-PDSCH 스케줄링 지시는 단말이 DCI로부터 지시받은 TDRA 테이블의 행(row)가 복수의 스케줄링 정보를 포함하는 경우이고, Single-PDSCH 스케줄링 지시는 단말이 DCI로부터 지시받은 TDRA 테이블의 행(row)가 하나의 스케줄링 정보를 포함하는 경우이 다. Single-PDSCH 스케줄링 지시의 경우, 하나의 PDSCH가 스케줄링되고, 상기 하나의 PDSCH의 스케줄링은 MCS(modulation coding scheme), NDI(new data indicator), RV(redundancy version), HPN(HARQ process number) 등의 정보가 필요하다. 이를 위하여 Single-PDSCH를 스케줄링을 지시하는 DCI에는 상기 하나의 PDSCH의 MCS, NDI, RV, HPN 등의 정보가 포함되어야 한다. 더 구체적으로, - Single-PDSCH를 스케줄링을 지시하는 DCI는 하나의 MCS 필드를 포함할 수 있다. 상기 MCS 필드에서 지시한 MCS (즉, 모듀레이션 방식과 채널 부호의 코드 레이트)는 상기 DCI가 스케줄링하는 하나의 PDSCH에 적용될 수 있다. - Single-PDSCH를 스케줄링을 지시하는 DCI는 1-bit의 NDI 필드를 포함할 수 있다. 1-bit NDI 필드로부터 NDI 값을 획득하고, 상기 NDI 값을 기초로 하나의 PDSCH가 새로운 전송블록을 전송하는지 이전 전송블록을 재전송하 는지 판단할 수 있다. - Single-PDSCH를 스케줄링을 지시하는 DCI는 2-bit의 RV 필드를 포함할 수 있다. 2-bit RV 필드로부터 RV 값 을 획득하고, 상기 RV 값을 기초로 하나의 PDSCH의 리던시 버전(redundandy version)을 결정할 수 있다. - Single-PDSCH를 스케줄링하는 DCI는 하나의 HPN 필드를 포함할 수 있다. 상기 하나의 HPN 필드는 4bits일 수 있다. (참고로, 단말이 최대 32개의 HARQ process를 지원할 경우, HPN 필드는 5bits으로 확장될 수 있으나, 본 발명의 설명상 편의를 위하여 4bit라고 가정한다). 상기 하나의 HPN 필드를 통하여 하나의 HARQ process ID가 지시될 수 있다. 상기 하나의 HARQ process ID는 스케줄링된 하나의 PDSCH의 HARQ process ID일 수 있다. DCI가 Multi-PDSCH 스케줄링을 지시하는 경우, 복수의 PDSCH가 스케줄링되므로, 각 PDSCH는 MCS, NDI, RV, HPN 등의 정보가 필요하다. 이를 위하여 Multi-PDSCH 스케줄링을 지시하는 DCI는 스케줄링되는 각 PDSCH의 MCS, NDI, RV, HPN 등의 정보가 포함되어야 한다. 더 구체적으로, - Multi-PDSCH 스케줄링을 지시하는 DCI는 하나의 MCS 필드를 포함할 수 있다. 상기 MCS 필드에서 지시한 MCS (즉, 모듈레이션 방식과 채널 부호의 코드 레이트)는 상기 DCI가 스케줄링하는 모든 PDSCH들에 동일하게 적용될 수 있다. 즉, Multi-PDSCH 스케줄링하는 DCI는 서로 다른 MCS로 서로 다른 PDSCH를 스케줄링하지 않을 수 있다. - Multi-PDSCH 스케줄링을 지시하는 DCI는 K-bit NDI 필드를 포함할 수 있다. 여기서 K는 TDRA 테이블의 각 행 (row)들이 포함한 스케줄링 정보의 수 중 가장 큰 값일 수 있다. 예를 들어, TDRA 테이블이 두개의 행(row)를 포함하고, 첫번째 행은 4개의 스케줄링 정보를 포함하고, 두번째 행은 8개의 스케줄링 정보를 포함할 때, K=8일 수 있다. K-bit NDI 필드 중 k번째 bit는 k번째 스케줄링 정보에 대응되는 PDSCH의 NDI 값을 지시할 수 있다. 즉, k번째 PDSCH는 K-bit NDI 필드 중 k번째 비트로부터 NDI 값을 획득하고, 상기 NDI 값을 기초로 k번째 PDSCH가 새로운 전송블록을 전송하는지 이전 전송블록을 재전송하는지 판단할 수 있다. - Multi-PDSCH 스케줄링을 지시하는 DCI는 K-bit RV 필드를 포함할 수 있다. K-bit RV 필드 중 k번째 bit는 k 번째 스케줄링 정보에 대응되는 PDSCH의 RV 값을 지시할 수 있다. 즉, k번째 PDSCH는 K-bit RV 필드 중 k번째 비트로부터 RV 값을 획득하고, 상기 RV 값을 기초로 k번째 PDSCH의 리던시 버전을 결정할 수 있다. - Multi-PDSCH 스케줄링을 지시하는 DCI는 하나의 HPN 필드를 포함할 수 있다. 상기 하나의 HPN 필드는 4bits일 수 있다. (참고로, 단말이 최대 32개의 HARQ process를 지원할 경우, HPN 필드는 5bits으로 확장될 수 있으나, 본 발명의 설명상 편의를 위하여 4 bits라고 가정한다). 상기 하나의 HPN 필드를 통하여 하나의 HARQ process ID가 지시될 수 있다. 상기 하나의 HARQ process ID는 Multi-PDSCH 스케줄링을 지시하는 DCI가 스케줄링하는 PDSCH들 중 첫번째 PDSCH의 HARQ process ID일 수 있다. 여기서 첫번째 PDSCH는 첫번째 스케줄링 정보에 대응된 다. 그리고 이후 PDSCH들의 HPN는 순차적으로 1씩 증가될 수 있다. 즉, 두번째 PDSCH(두번째 스케줄링 정보에 대응)의 경우, HPN는 첫번째 PDSCH의 HARQ process ID에서 1이 증가된 값이다. 참고로, 만약 HARQ process ID 가 단말에게 설정된 최대 HARQ process ID의 수(numOfHARQProcessID)를 넘을 경우, modulo 연산을 수행할 수 있다. 다시말해서, DCI에서 지시하는 HARQ process ID가 'x'일 경우, k번째 PDSCH의 HARQ process ID는 다음과 같이 결정될 수 있다. k번째 PDSCH의 HPN = (x + k -1) modulo numOfHARQProcessID 앞서 살펴보았듯이, Sinlge-PDSCH 스케줄링을 지시하는 경우, DCI는 1-bit NDI 필드 내지 2-bit RV 필드를 포 함하고, Multi-PDSCH 스케줄링을 지시하는 경우, DCI는 K-bit NDI 필드 내지 K-bit RV 필드를 포함한다. 참고 로, Sinlge-PDSCH 스케줄링 지시 내지 Multi-PDSCH 스케줄링 지시는 DCI의 TDRA 필드에서 지시(즉, 지시된 TDRA 필드의 행(row)가 포함하는 스케줄링 정보의 수에 따라 Single-PDSCH 스케줄링 지시인지 Multi-PDSCH 스케 줄링 지시인지 결정)될 수 있다. 따라서, 하나의 DCI은 Single-PDSCH 스케줄링 내지 Multi-PDSCH 스케줄링을 모 두 지원하여야 한다. Single-PDSCH 스케줄링 지시를 위한 DCI의 길이와 Multi-PDSCH 스케줄링 지시를 위한 DCI 의 길이가 서로 상이하면, 둘 중 더 짧은 길이의 DCI에 '0'을 추가(padding)하여 동일한 길이로 맞추어야 할 수 있다. 단말의 DCI 해석 과정은 다음과 같다. 단말은 DCI를 수신한다. 이때, DCI의 길이는 Single-PDSCH 스케줄링 지시 를 위한 DCI의 길이와 Multi-PDSCH 스케줄링 지시를 위한 DCI의 길이 중 더 긴 DCI 길이와 같다고 가정한다. 단 말은, 상기 DCI에서 TDRA 필드의 위치를 알 수 있다. 상기 TDRA 필드의 위치는 Single-PDSCH 스케줄링 지시를 위한 DCI와 Multi-PDSCH 스케줄링 지시를 위한 DCI에서 동일할 수 있다. 단말은 상기 TDRA 필드를 통하여 Single-PDSCH 스케줄링 지시를 위한 DCI 인지 Multi-PDSCH 스케줄링 지시를 위한 DCI인지 판정할 수 있다. 이는 지시된 TDRA 필드의 행(row)가 포함하는 스케줄링 정보의 수가 하나이면 Single-PDSCH 스케줄링 지시라고 판정 하고, 포함하는 스케줄링 정보의 수가 둘 이상이면 Multi-PDSCH 스케줄링 지시라고 판정할 수 있다. 단말이 Sinlge-PDSCH 스케줄링 지시라고 판정하면, 상기 판정에 따라서 DCI를 해석할 수 있다. 즉, NDI 필드는 1 bit이 고, RV 필드는 2 bits이라고 해석할 수 있다. 단말이 Multi-PDSCH 스케줄링 지시라고 판정하면, 상기 판정에 따 라서 DCI를 해석할 수 있다. 즉, NDI 필드는 K bits이고, RV 필드는 K bits이라고 해석할 수 있다. 참고로, NDI 필드 내지 RV 필드의 길이에 따라 DCI 내에서 다른 필드들의 위치가 달라질 수 있다. 따라서 다른 다른 필드들 도 Single-PDSCH 스케줄링 지시인지 Multi-PDSCH 스케줄링 지시인지에 따라 비트 길이는 동일하지만 DCI 내에서 위치는 달리 질 수 있다. 도 11은 상기 설명에 따른 PDSCH 스케줄링 방식을 도시하였다. - TDRA 테이블의 첫번째 행(row 0)는 네개의 스케줄링 정보(K0, SLIV, PDSCH mapping type)를 포함한다. 여기 서 첫번째 SLIV를 SLIV0 0, 두번째 SLIV를 SLIV0 1, 세번째 SLIV를 SLIV0 2, 네번째 SLIV를 SLIV0 3이라고 한다. 따라 서, 단말이 TDRA 테이블의 첫번째 행(row 0)을 지시받으면 Multi-PDSCH 스케줄링 지시되었다고 판정할 수 있다.- TDRA 테이블의 두번째 행(row 1)는 두개의 스케줄링 정보(K0, SLIV, PDSCH mapping type)를 포함한다. 여기 서 첫번째 SLIV를 SLIV1 0, 두번째 SLIV를 SLIV1 1 이라고 한다. 따라서, 단말이 TDRA 테이블의 두번째 행(row 1) 을 지시받으면 Multi-PDSCH 스케줄링 지시되었다고 판정할 수 있다. - TDRA 테이블의 세번째 행(row 2)는 한개의 스케줄링 정보(K0, SLIV, PDSCH mapping type)을 포함한다. 여기 서 SLIV를 SLIV2 0 이라고 한다. 따라서, 단말이 TDRA 테이블의 세번째 행(row 2)을 지시받으면 Single-PDSCH 스 케줄링 지시되었다고 판정할 수 있다. 도 11(a)는 단말이 TDRA 테이블의 첫번째 행(row 0)를 지시받았을 경우를 도시하였다. PDCCH에서 단말이 수신한 DCI에서 TDRA 필드는 첫번째 행(row 0)를 지시받을 수 있다. 이에 따라 단말은 첫번째 행(row 0)의 네 개의 스케줄링 정보(K0, SLIV, PDSCH mapping type)를 기초로 네 개의 PDSCH를 수신할 수 있다. 첫번째 SLIV인 SLIV0 0를 기초로 첫번째 PDSCH을 수신하기 위한 심볼들을 판정할 수 있고, 두번째 SLIV인 SLIV0 1를 기초로 두번째 PDSCH을 수신하기 위한 심볼들을 판정할 수 있고, 세번째 SLIV인 SLIV0 2를 기초로 세번째 PDSCH을 수신하기 위한 심볼들을 판정할 수 있고, 네번째 SLIV인 SLIV0 3를 기초로 네번째 PDSCH을 수신하기 위한 심볼들을 판정할 수 있다. 4개의 PDSCH 각각은 고유의 HARQ process ID를 가질 수 있다. 즉, 첫 번째 PDSCH는 HARQ process ID로 HPN0를 가질 수 있고, 두번째 PDSCH는 HARQ process ID로 HPN1를 가질 수 있고, 세번째 PDSCH는 HARQ process ID로 HPN2를 가질 수 있고, 네번째 PDSCH는 HARQ process ID로 HPN3를 가질 수 있다. 여기서, DCI에서 첫번째 PDSCH의 HARQ process ID을 지시한다. 예를 들어, DCI에서 첫번째 PDSCH의 HARQ process ID으로 HPN0=0을 지시할 수 있다. 이 경우, 두번째 PDSCH의 HARQ process ID로 HPN1=1, 세번째 PDSCH의 HARQ process ID로 HPN1=2, 네번째 PDSCH의 HARQ process ID로 HPN1=3일 수 있다. 도 11(b)은 단말이 TDRA 테이블의 두번째 행(row 1)를 지시받았을 경우를 도시하였다. PDCCH에서 단말이 수신한 DCI에서 TDRA 필드는 두번째 행(row 1)를 지시받을 수 있다. 이에 따라 단말은 두번째 행(row 1)의 두 개의 스케줄링 정보(K0, SLIV, PDSCH mapping type)를 기초로 두 개의 PDSCH를 수신할 수 있다. 첫번째 SLIV인 SLIV1 0를 기초로 첫번째 PDSCH을 수신하기 위한 심볼들을 판정할 수 있고, 두번째 SLIV인 SLIV1 1를 기초로 두번째 PDSCH을 수신하기 위한 심볼들을 판정할 수 있다. 2개의 PDSCH 각각은 고유의 HARQ process ID를 가질 수 있다. 즉, 첫번째 PDSCH는 HARQ process ID로 HPN0를 가질 수 있고, 두번째 PDSCH는 HARQ process ID 로 HPN1를 가질 수 있다. 여기서, DCI에서 첫번째 PDSCH의 HARQ process ID를 지시한다. 예를 들어, DCI에서 첫 번째 PDSCH의 HARQ process ID으로 HPN0=0을 지시할 수 있다. 이 경우, 두번째 PDSCH의 HARQ process ID는 HPN1=1일 수 있다. 도 11(c)은 단말이 TDRA 테이블의 세번째 행(row 2)를 지시받았을 경우를 도시하였다. PDCCH에서 단말이 수신한 DCI에서 TDRA 필드는 세번째 행(row 2)를 지시받을 수 있다. 이에 따라 단말은 세번째 행(row 2)의 하나 의 스케줄링 정보(K0, SLIV, PDSCH mapping type)를 기초로 하나의 PDSCH를 수신할 수 있다. 하나의 SLIV인 SLIV2 0를 기초로 하나의 PDSCH을 수신하기 위한 심볼들을 판정할 수 있다. 하나의 PDSCH의 HARQ process ID, 즉, HPN0는 DCI에서 지시된다. 예를 들어, DCI에서 첫번째 PDSCH의 HARQ process ID로 HPN0=0을 지시할 수 있다. 도 12는 Single-PDSCH 스케줄링과 Multi-PDSCH 스케줄링의 DCI를 도시하였다. 도 12(a)와 도 12(b)를 참조하여 단말은 수신한 DCI에서 TDRA 필드의 위치를 결정할 수 있다. 상기 위치 는 Single-PDSCH 스케줄링 DCI와 Multi-PDSCH 스케줄링 DCI에서 동일한 위치에 위치한다. 상기 TDRA 필드의 값 으로부터 상기 수신한 DCI가 Single-PDSCH 스케줄링을 지시하는 DCI인지 Multi-PDSCH 스케줄링을 지시하는 DCI 인지 판정할 수 있다. 만약, 수신한 DCI의 TDRA 필드의 값에 대응하는 행(row)가 하나의 스케줄링 정보(K0, SLIV, PDSCH mapping type)을 포함할 경우(예를 들어 TDRA 테이블의 세번째 행(row 2)), 단말은 도 12(a)와 같이 Single-PDSCH 스케 줄링 DCI로 해석할 수 있다. 도 12(a)를 참조하여, Single-PDSCH 스케줄링 DCI는 5-bit MCS 필드, 1-bitNDI 필드, 2-bit RV 필드, 4-bits HARQ 필드 필드를 포함할 수 있다. 또한, 상기 Single- PDSCH 스케줄링 DCI는 이외의 필드를 포함할 수 있다. 예를 들어, Antenna port(s) 필드 내지 DMRS sequence initialization 필드등을 포함할 수 있다. 또한 상기 Single-PDSCH 스케줄링 DCI가 Multi- PDSCH 스케줄링 DCI보다 더 짧을 경우, padding bits 를 포함할 수 있다. 만약, 수신한 DCI의 TDRA 필드의 값에 대응하는 행(row)가 둘 이상의 스케줄링 정보(K0, SLIV, PDSCH mapping type)을 포함할 경우(예를 들어 TDRA 테이블의 첫번째 행(row 0) 내지 두번째 행(row 1)), 단말은 도 12(b)와 같이 Multi-PDSCH 스케줄링 DCI로 해석할 수 있다. 도 12(b)를 참조하여, Multi-PDSCH 스케줄링 DCI는 5-bit MCS 필드, K-bit NDI 필드(1260, 1261), K-bit RV 필드(1262, 1263), 4-bits HARQ 필드 필드를 포 함할 수 있다. 또한, 상기 Multi-PDSCH 스케줄링 DCI는 이외의 필드를 포함할 수 있다. 예를 들어, Antenna port(s) 필드 내지 DMRS sequence initialization 필드등을 포함할 수 있다. 참고로, 도 12(b)에 서 최대 2개의 PDSCH가 스케줄링되는 DCI를 나타냈다. 여기서 2-bit NDI 필드(1260, 1261)은 별도로 분리되어 도시되었으나, 하나의 2 bits으로 붙어 있을 수 있다. 또한, 도 12(b)에서 2-bit RV 필드(1262, 1263)은 별도 로 분리되어 도시되었으나, 하나의 2 bits으로 붙어 있을 수 있다. 참고로 도 12(a)와 도 12(b)를 참조하여, Single-PDSCH 스케줄링을 지시하는 DCI의 길이가 Multi-PDSCH 스케줄 링를 지시하는 DCI의 길이보다 짧다고 가정하여 padding bits는 Single-PDSCH 스케줄링 DCI에 추가되었 다. 만약 Single-PDSCH 스케줄링을 지시하는 DCI의 길이가 Multi-PDSCH 스케줄링을 지시하는 DCI의 길이보다 길 경우, Multi-PDSCH 스케줄링을 지시하는 DCI에 padding bits이 추가될 수 있다. 이후 본 개시는 특별한 언급이 없으면 PDSCH는 단일 코드워드(codeword) 전송을 가정한다. 만약 단말에게 두 코 드워드 전송이 설정될 경우 특별한 언급이 없으면 DCI의 필드들은 첫번째 코드워드에 대한 것이다. 도 13은 본 개시의 일 실시 예에 따른 복수의 PDSCH의 HARQ-ACK을 전송하는 방법을 도시한 도면이다. 도 13을 참조하여, DCI가 Multi-PDSCH 스케줄링을 지시할 경우, 상기 DCI가 스케줄링하는 하나 또는 복수의 PDSCH들의 HARQ-ACK 전송을 위한 PUCCH를 설명한다. 기지국은 단말에게 하나 또는 복수의 K1 값(들)을 설정할 수 있다. 이를 K1 집합이라고 부를 수 있다. Multi- PDSCH 스케줄링을 지시하는 DCI는 상기 K1 집합 중 하나의 K1 값을 지시하는 지시자를 포함할 수 있다. 더 구체 적으로, DCI는 최대 3bits인 PDSCH-to-HARQ_feedback timing indicator 필드를 포함할 수 있다. 상기 필드는 K1 집합 중 하나의 K1 값을 지시할 수 있다. 단말은 하나의 K1 값과 복수의 PDSCH들의 마지막 PDSCH가 스케줄링된 슬롯을 기초로 복수의 PDSCH들의 HARQ-ACK 을 전송할 슬롯을 결정할 수 있다. 참고로, 하나의 DCI로 스케줄링된 모든 PDSCH들의 HARQ-ACK은 상기 HARQ-ACK 을 전송할 슬롯에서 하나의 PUCCH를 통하여 전송될 수 있다. 마지막 PDSCH가 스케줄링된 슬롯으로부터 K1개의 슬롯 이후 슬롯이 복수의 PDSCH들의 HARQ-ACK을 전송할 슬롯이다. 즉, 마지막 PDSCH가 스케줄링된 슬롯으로부터 K1개의 슬롯 이후 슬롯에서 복수의 PDSCH들의 HARQ-ACK을 포함하는 PUCCH가 전송될 수 있다. 도 13을 참조하여, 단말이 수신한 DCI가 도 11(a)와 같이 TDRA 테이블의 행(row) 0이 지시하였고, 상기 TDRA 테 이블의 행(row) 0에 따라, 슬롯 n-5, 슬롯 n-4, 슬롯 n-3, 슬롯 n-2에서 PDSCH가 스케줄링되었다고 가정하자. 그리고 단말이 K1 값으로 2를 지시받았다고 가정하자. 이 경우, 단말은 PDSCH가 스케줄링된 마지막 슬롯인 슬롯 n-2부터 K1 값인 2개 슬롯 이후인 슬롯 n을 HARQ-ACK을 전송할 슬롯으로 판정할 수 있다. 즉, 단말은 상기 슬롯 n의 PUCCH에서 슬롯 n-5의 PDSCH, 슬롯 n-4의 PDSCH, 슬롯 n-3의 PDSCH, 슬롯 n-2의 PDSCH의 HARQ-ACK 정보를 전송할 수 있다. 단말은 PDSCH 수신을 스케줄링 받기 위하여 DCI format(e.g., DCI format 1_0, DCI format 1_1, DCI format 1_2)을 모니터링할 수 있다. 참고로, 단말은 특정 탐색공간에서 DCI format들(e.g., DCI format 1_0, DCI format 1_1, DCI format 1_2) 중 하나 또는 복수개를 모니터링하도록 설정 받을 수 있다. 상기 DCI format들 중 DCI format 1_1은 Multi-PDSCH 스케줄링에 사용될 수 있다. 하지만, DCI format 1_0과 DCI format 1_2는 Multi-PDSCH 스케줄링에 사용될 수 없다. 더 구체적으로, 단말은 각 DCI format 별로 PDSCH 수신을 위한 TDRA 테이블은 표 24 내지 표 25에 나타나 있다. 단말은 기지국으로부터 다음과 같이 4개의 TDRA 테이블을 설정받을 수 있다. ● PDSCH-ConfigCommon includes pdsch-TimeDomainAllocationList ■ PDSCH-ConfigCommon은 SIB1(system information block 1)에 포함되어 있으므로 pdsch- TimeDomainAllocationList는 셀 공통 TDRA 테이블이다. 상기 pdsch-TimeDomainAllocationList는 최대 16개의 행(row)을 포함할 수 있고, 상기 행은 K0 값, SLIV 값, 내지 PDSCH mapping type을 포함하고 있다. 여기서 SLIV 값은 하나이며, 따라서 multi-PDSCH 스케줄링에는 사용될 수 없다. ● PDSCH-Config includes pdsch-TimeDomainAllocationList ■ PDSCH-Config은 단말의 RRC 파라미터에 포함되어 있으므로 pdsch-TimeDomainAllocationList는 단말 특정 TDRA 테이블이다. 상기 pdsch-TimeDomainAllocationList는 최대 16개의 행(row)을 포함할 수 있고, 상기 행은 K0 값, SLIV 값, 내지 PDSCH mapping type을 포함하고 있다. 여기서 SLIV 값은 하나이며, 따라서 multi-PDSCH 스케줄링에는 사용될 수 없다. ● PDSCH-Config includes pdsch-TimeDomainAllocationListForMultiPDSCH-r17 ■ PDSCH-Config은 단말의 RRC 파라미터에 포함되어 있으므로 pdsch- TimeDomainAllocationListForMultiPDSCH-r17는 단말 특정 TDRA 테이블이다. 상기 pdsch- TimeDomainAllocationListForMultiPDSCH-r17는 최대 64개의 행(row)을 포함할 수 있고, 상기 행은 K0 값, SLIV 값, 내지 PDSCH mapping type을 포함하고 있다. 여기서 K0값과 SLIV 값은 하나 또는 복수개일 수 있다. 따라서 multi-PDSCH 스케줄링에 사용될 수 있다. ● PDSCH-Config includes pdsch-TimeDomainAllocationListForDCI-Format1-2 ■ PDSCH-Config은 단말의 RRC 파라미터에 포함되어 있으므로 pdsch-TimeDomainAllocationListForDCI- Format1-2는 단말 특정 TDRA 테이블이다. 상기 pdsch-TimeDomainAllocationList는 최대 16개의 행(row)을 포함 할 수 있고, 상기 행은 K0 값, SLIV 값, 내지 PDSCH mapping type을 포함하고 있다. 여기서 SLIV 값은 하나이 며, 따라서 multi-PDSCH 스케줄링에는 사용될 수 없다. 그리고, pdsch-TimeDomainAllocationListForDCI- Format1-2는 DCI format 1_2에만 적용한다. 표 24과 표 25을 참조하여, 단말이 TDRA 테이블에 대한 상기 4개의 설정을 수신할 경우, 단말이 PDSCH 수신을 위해 모니터링하는 DCI format 1_0, DCI format 1_1, DCI format 1_2의 TDRA 테이블은 다음과 같이 결정될 수 있다. 표 24는 DCI format 1_0와 DCI fomat 1_1의 TDRA 테이블을 나타냈다. 먼저, DCI format 1_0과 DCI format 1_1 이 CORESET0의 공통 탐색 공간(Common search space)에서 모니터링될 경우, 'PDSCH-ConfigCommon includes pdsch-TimeDomainAllocationList'을 설정 받으면 'PDSCH-ConfigCommon includes pdsch- TimeDomainAllocationList'의 설정에 따라 TDRA 테이블을 결정하고, 'PDSCH-ConfigCommon includes pdsch- TimeDomainAllocationList'를 설정 받지 않으면, Default A TDRA 테이블을 사용한다. 여기서 Default A TDRA 테이블은 별도의 설정없이 단말이 사용할 수 있는 TDRA 테이블로 3GPP 표준 문서 TS38.214에 기술되어 있다. DCI format 1_0과 DCI format 1_1이 CORESET0이외의 다른 CORESET의 공통 탐색 공간(Common search space)에서 모니터링되거나, 단말 특정 탐색 공간 (UE-specific search space)에서 모니터링되는 경우, 'PDSCH-Config includes pdsch-TimeDomainAllocationListForMultiPDSCH-r17'이 설정되면, 'PDSCH-Config includes pdsch- TimeDomainAllocationListForMultiPDSCH-r17'의 설정에 따라 TDRA 테이블을 결정하고, 'PDSCH-Config includes pdsch-TimeDomainAllocationListForMultiPDSCH-r17'이 설정되지 않고, 'PDSCH-Config includes pdsch- TimeDomainAllocationList'이 설정되면, 'PDSCH-Config includes pdsch-TimeDomainAllocationList'의 설정에 따라 TDRA 테이블을 결정하고, 'PDSCH-Config includes pdsch-TimeDomainAllocationListForMultiPDSCH-r17'과 'PDSCH-Config includes pdsch-TimeDomainAllocationList'가 설정되지 않고, 'PDSCH-ConfigCommon includes pdsch-TimeDomainAllocationList'이 설정되면 'PDSCH-ConfigCommon includes pdsch- TimeDomainAllocationList'에 따라 TDRA 테이블을 결정하고, 'PDSCH-ConfigCommon includes pdsch- TimeDomainAllocationList'이 설정되지 않으면, default A TDRA 테이블을 사용한다. [표 24]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 26, "content": "표 25는 DCI format 1_2의 TDRA 테이블을 나타냈다. 'PDSCH-Config includes pdsch- TimeDomainAllocationListForDCI-Format1-2'이 설정되면, 'PDSCH-Config includes pdsch- TimeDomainAllocationListForDCI-Format1-2'의 설정에 따라 TDRA 테이블을 결정하고, 'PDSCH-Config includes pdsch-TimeDomainAllocationListForDCI-Format1-2'이 설정되지 않고, 'PDSCH-Config includes pdsch- TimeDomainAllocationList'이 설정되면, 'PDSCH-Config includes pdsch-TimeDomainAllocationList'의 설정에 따라 TDRA 테이블을 결정하고, 'PDSCH-Config includes pdsch-TimeDomainAllocationListForDCI-Format1-2'과 'PDSCH-Config includes pdsch-TimeDomainAllocationList'가 설정되지 않고, 'PDSCH-ConfigCommon includes pdsch-TimeDomainAllocationList'이 설정되면, 'PDSCH-ConfigCommon includes pdsch- TimeDomainAllocationList'의 설정에 따라 TDRA 테이블을 결정하고, 'PDSCH-ConfigCommon includes pdsch- TimeDomainAllocationList'이 설정되지 않으면, default A TDRA 테이블을 사용한다. [표 25]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 27, "content": "표 24와 25를 기초로, 단말은 multi-PDSCH 스케줄링을 위한 TDRA 테이블 설정 정보인 'PDSCH-Config includes pdsch-TimeDomainAllocationListForMultiPDSCH-r17'를 설정받으면, 상기 'PDSCH-Config includes pdsch- TimeDomainAllocationListForMultiPDSCH-r17'을 DCI format 1_1에 적용할 수 있다. 하지만, 상기 'PDSCH- Config includes pdsch-TimeDomainAllocationListForMultiPDSCH-r17'를 DCI format 1_0 내지 DCI format 1_2 에는 적용할 수 없다. 따라서, DCI format 1_0과 DCI format 1_2는 Multi-PDSCH 스케줄링에 사용될 수 없다. 단말은 기지국으로부터 PDSCH 반복 수신을 위한 설정으로 'pdsch-AggregationFactor in pdsch-config' 또는 'pdsch-AggregationFactor in sps-Config'을 상위계층으로부터 수신할 수 있다. 만약 단말이 상기 설정을 받으 면 상기 설정에 따라서 PDSCH를 반복 수신할 수 있다. 예를 들어, pdsch-AggregationFactor는 2, 4, 8 중 하나 의 값으로 설정될 수 있다. 상기 설정에 따라서, PDSCH는 연속된 슬롯들에서 반복되어 수신될 수 있고, 각 슬롯 에서 PDSCH의 수신 심볼은 동일한 SLIV로 결정될 수 있다. 그리고, 동일한 TB(transport block)이 상기 연속된 슬롯들에서 반복되어 수신될 수 있다. 상기 'pdsch-AggregationFactor in pdsch-config'는 C-RNTI, MCS-C-RNTI, CS-RNTI with NDI=1로 CRC가 스크램 블링된 DCI format 1_1 또는 DCI format 1_2로 스케줄링된 PDSCH에 적용할 수 있다. 하지만, DCI format 1_0은 적용하지 않는다. 또한, DCI format 1_1에 Multi-PDSCH 스케줄링 ('PDSCH-Config includes pdsch- TimeDomainAllocationListForMultiPDSCH-r17')이 설정될 경우, 상기 'pdsch-AggregationFactor in pdsch- config'는 DCI format 1_1에 적용되지 않는다. 다시 말해서, DCI format 1_1에 Multi-PDSCH 스케줄링 ('PDSCH- Config includes pdsch-TimeDomainAllocationListForMultiPDSCH-r17')이 설정될 경우, 'pdsch- AggregationFactor in pdsch-config'은 DCI format 1_2에서만 적용된다. 상기 'pdsch-AggregationFactor in sps-Config'는 CS-RNTI with NDI=1로 CRC가 스크램블링된 DCI format 1_1 또는 DCI format 1_2로 스케줄링된 PDSCH 및 sps-Config를 이용하여 PDCCH 전송 없이 스케줄링된 PDSCH에 적용 할 수 있다. 하지만, DCI format 1_0에 적용되지 않는다. 또한, DCI format 1_1에 Multi-PDSCH 스케줄링 ('PDSCH-Config includes pdsch-TimeDomainAllocationListForMultiPDSCH-r17')이 설정될 경우, 상기 'pdsch- AggregationFactor in sps-Config'는 DCI format 1_1에 적용되지 않는다. 다시 말해서, DCI format 1_1에 Multi-PDSCH 스케줄링 ('PDSCH-Config includes pdsch-TimeDomainAllocationListForMultiPDSCH-r17')이 설정 될 경우, 'pdsch-AggregationFactor in sps-Config'은 DCI format 1_2에서만 적용된다. [Type-1 HARQ-ACK Codebook 관련] NR 시스템에서 Type-1 HARQ-ACK 코드북은 세미-스태틱(semi-static) HARQ-ACK 코드북이라고도 불린다. 이후 설명은 하나의 시간 유닛(time unit)(예를 들어, 슬롯, 서브 슬롯, 미니 슬롯) 내에서 단말이 HARQ-ACK 정 보를 전송할 수 있는 PUCCH가 하나로 제한되는 상황이다. 특별한 언급이 없으면, 상기 시간 유닛은 슬롯으로 설 명하지만, 이는 서브 슬롯, 미니 슬롯등으로 확장될 수 있다. 단말은 기지국으로부터 세미-스태틱 HARQ-ACK 코드북 설정받을 수 있다. 여기서 상기 설정은 상위 계층 신호(예 를 들어, RRC 신호)로 설정될 수 있다. 단말은 기지국으로부터 DCI format을 수신할 수 있다. 단말은 상기 DCI format 안에 PDSCH-to-HARQ_feedback timing indicator 필드의 값에 의해 지시되는 슬롯에서 상기 DCI format 이 스케줄링한 PDSCH, SPS PDSCH release 또는 Scell dormancy indication의 HARQ-ACK 정보을 전송할 수 있다. 만약 단말이 한 슬롯에서 복수의 HARQ-ACK 정보를 전송하도록 지시받을 경우, 단말은 상기 HARQ-ACK 정보를 정 해진 규칙에 따라 HARQ-ACK 코드북으로 생성하여 상기 슬롯에서 하나의 PUCCH로 전송할 수 있다. 더 구체적은 세미-스태틱 HARQ-ACK 코드북을 생성하기 위한 규칙은 다음과 같다. 단말은 DCI format 내의 PDSCH-to-HARQ_feedback timing indicator 필드에 의해 지시되지 않은 슬롯에서 HARQ- ACK 코드북 내에 HARQ-ACK 정보 비트 값을 NACK으로 보고할 수 있다. 만약, 단말이 후보 PDSCH 수신을 위한 모든 MA,C 경우들에서 하나의 SPS PDSCH release 혹은 하나의 PDSCH 수신 에 대한 HARQ-ACK 정보만 보고를 하고, 그 보고는 Pcell에서 counter DACI 필드가 1을 지시하는 정보를 포함한 DCI format 1_0에 의해 스케줄링 된 경우, 단말은 해당 SPS PDSCH release 혹은 해당 PDSCH 수신에 대한 하나 의 HARQ-ACK 코드북을 결정할 수 있다. 그 이외는 하기 상술된 방법에 따른 HARQ-ACK 코드북 결정 방법을 따른다. 본 개시에서 편의상 PDSCH-to-HARQ_feedbak timing indicator 값을 K1 값이라고 지칭하기로 한다. 단말은 복수 의 K1 값을 설정 받을 수 있으며, 이 복수의 K1 값을 모아 K1 집합이라고 부른다. 서빙셀 c에서 PDSCH 수신 후보 기회(occasion) 경우의 집합을 MA,c라고 하며, 이후 MA,c를 구하는 방법에 대하여 설명한다. <Single PDSCH 수신을 위한 Type-1 HARQ-ACK 코드북> 먼저, DCI format이 스케줄링하는 PDSCH가 하나의 슬롯에서 수신된다고 가정하자. 이는 상위 계층으로부터 pdsch-AggregationFactor가 설정되지 않은 경우를 포함할 수 있다. 슬롯 n에서 Type-1 HARQ-ACK 코드북을 전달하는 PUCCH 또는 PUSCH를 전송할 때, 이를 위한 pseudo-code는 다음 과 같다. [pseudo-code 1: (PDSCH 반복 수신 없음)] - 준비 단계: 집합 R은 TDRA(time domain resource assignment) 테이블에 설정된 스케줄링 정보(PDSCH가 매핑되는 슬롯 정보(이하 K0값), 시작 심볼 및 길이 정보(이하 SLIV(starting and length value))들의 집합이다. 만약 단말이 하나 이상의 DCI format들을 모니터링하고, 상기 DCI format들이 서로 다른 TDRA 테이블을 사 용할 경우, 상기 집합 R은 모든 TDRA 테이블을 기초로 생성된다. - 단계 0: MA,c를 공집합으로 초기화. k를 0으로 초기화. j를 0으로 초기화. - 단계 1: 설정된 K1 집합에서 k번째 큰 K1 값을 선택한다. (예를 들어, k=0이면 K1 집합에서 가장 큰 K1 값 을 선택하고, k=1이면 K1 집합에서 두번째로 큰 K1 값을 선택한다.) 상기 K1 값을 K1,k라고 한다. - 단계 2: 만약, K1,k 값에 해당하는 슬롯 (슬롯 n-K1,k)에서 집합 R의 각 행에 속한 시작 심볼 및 길이 정보 (SLIV)에 해당하는 심볼이 상위 계층에서 상향링크로 설정된 심볼과 겹치면, 상기 행은 집합 R에서 제외될 수 있다. - 단계 3-1 (단말이 한 슬롯에 최대 하나의 unicast PDSCH를 수신 받을 수 있는 단말 능력(UE capabilit y)만 있는 경우): 상기 결정된 집합 R이 공집합이 아니면 집합 MA,c에 새로운 PDSCH 수신 후보 기회로 j를 추가 한다. 집합 R의 PDSCH 후보들 중 하나를 수신하게 되면, 단말은 상기 하나의 PDSCH의 HARQ-ACK을 상기 새로운 PDSCH 후보 기회 j에 위치시킬 수 있다. j를 1 증가 시킨다. - 단계 3-2 (단말이 한 슬롯에 하나보다 많은 unicast PDSCH를 수신 받을 수 있는 단말 능력이 있는 경우) 상기 결정된 집합 R에서 가장 앞서 끝나는 SLIV와 그 SLIV와 시간 상 겹치는 SLIV들을 위하여 집합 MA,c에 새로 운 PDSCH 수신 후보 기회로 j를 추가한다. 상기 SLIV를 가진 PDSCH 후보들 중 하나를 수신하게 되면, 단말은 상 기 하나의 PDSCH의 HARQ-ACK을 상기 새로운 PDSCH 후보 기회 j에 위치시킬 수 있다. j를 1 증가 시킨다. 집합 R 에서 상기 SLIV들은 제외한다. 단계 3-2는 집합 R이 공집합일때까지 반복된다. - 단계 4: k를 1 증가시킨다. 만약 k가 K1 집합의 크기(cardinality) 보다 작으면 단계 2부터 다시 시작하 고, K1 집합의 크기(cardinality)보다 같거나 크면 pseudo-code 1은 종료한다. [pseudo-code 1 끝] 도 14는 본 개시의 실시 예에 따른 하나의 슬롯에서 수신되는 PDSCH에 대한 HARQ-ACK 코드북을 생성하는 pseudo-code를 설명하기 위한 일례를 도시한 도면이다. 도 14를 참조하여 상술된 pseudo code 1을 설명한다. 슬롯 n에서 HARQ-ACK 정보를 포함한 PUCCH 전송이 수행될 수 있다. 예를 들어, 상기 HARQ-ACK 정보는 Type-1 HARQ-ACK 코드북 형태로 생성될 수 있다. 단말에게 K1 값으로 K1=3이 설정되어 있다고 가정한다. 또한 단말이 모니터링하는 DCI format의 TDRA table은 표 26과 같이 5개의 행을 포함할 수 있다. 참고로, 각 행에는 K0값, SLIV값 내지 PDSCH mapping type 값이 설 정될 수 있으나, 설명의 편의를 위하여 PDSCH mapping type은 생략하였다. [표 26]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 28, "content": "단말은 상기 pseudo code 1에서 준비단계에 따라 표 26의 TDRA 테이블의 각 행들을 집합 R에 포함할 수 있다. 도 14(a)는 표 26의 각 행에 따른 SLIV들을 나타내었다. 단말은 상기 K1 값과 상기 집합 R을 기초로 PDSCH 수신 후보 기회 MA,c를 결정할 수 있다. 도 14을 참조하여, pseudo code 1은 다음과 같이 해석될 수 있다. 이후 설명 에서 단말은 한 슬롯에서 하나보다 많은 unicast PDSCH를 수신 받을 수 있는 단말 능력이 있다고 가정한다. - 단계 0: MA,c를 공집합으로 초기화. k를 0으로 초기화. j를 0으로 초기화. - 단계 1: 설정된 K1 집합에서 k=0번째 큰 K1 값을 선택한다. 상기 K1 값을 K1,0=3이다. - 단계 2: 만약, 슬롯 n-K1,0 = 슬롯 n-3에서 집합 R의 각 행에 속한 시작 심볼 및 길이 정보(SLIV)에 해당하는 심볼이 상위 계층에서 상향링크로 설정된 심볼과 겹치면, 상기 행은 집합 R에서 제외될 수 있다. 도 14(b)를 참 조하여, 슬롯 n-3의 일부 심볼이 상위계층으로 설정된 반정적 상향링크 심볼(semi-static UL symbol)일 경우, 상기 심볼과 겹치는 SLIV들을 포함한 행을 집합 R에서 제외될 수 있다. 도 14(b)를 참조하여, 슬롯 n-3의 마지 막 2심볼이 반정적 상향링크 심볼일 수 있고, 행 3의 SLIV (7,7)과 행 5의 SLIV (0,14)는 상기 반정적 상향링크 심볼과 겹치므로 집합 R에서 제외될 수 있다. 집합 R에는 행 1, 2, 4가 포함될 수 있다. - 단계 3-2 (단말이 한 슬롯에 하나보다 많은 unicast PDSCH를 수신 받을 수 있는 단말 능력이 있는 경우): ● 상기 결정된 집합 R에서 가장 앞서 끝나는 SLIV와 그 SLIV와 시간 상 겹치는 SLIV들을 위하여 집합 MA,c에 새 로운 PDSCH 수신 후보 기회로 j=0를 추가한다. 여기서 가장 앞서 끝나는 SLIV는 행 1의 SLIV (0,4)이고, 상기 SLIV와 겹치는 SLIV는 행 2의 SLIV(0,7)이다. 따라서, MA,c에 j=0을 추가하고, 단말은 행 1의 SLIV (0,4) 또는 행 2의 SLIV (0,7)로 스케줄링된 PDSCH를 수신하면, 상기 PDSCH의 HARQ-ACK을 type-1 HARQ-ACK 코드북에서 첫 번째 (j=0) MA,c에 해당하는 위치에 포함할 수 있다. j를 1 증가 시켜서 j=1이된다. 집합 R에서 상기 행 1과 2의 SLIV들은 제외되어 R = {4}이다. 집합 R이 공집합이 아니므로, 단계 3-2는 반복된다. ● 상기 결정된 집합 R에서 가장 앞서 끝나는 SLIV와 그 SLIV와 시간 상 겹치는 SLIV들을 위하여 집합 MA,c에 새 로운 PDSCH 수신 후보 기회로 j=1를 추가한다. 여기서 가장 앞서 끝나는 SLIV는 행 4의 SLIV (7,4)이고, 상기 SLIV와 겹치는 SLIV는 없다. 따라서, MA,c에 j=1을 추가하고, 단말은 행 4의 SLIV (7,4)로 스케줄링된 PDSCH를 수신하면, 상기 PDSCH의 HARQ-ACK을 type-1 HARQ-ACK 코드북에서 두번째 (j=1) MA,c 에 해당하는 위치에 포함할 수 있다. j를 1 증가 시켜서 j=1이된다. 집합 R에서 상기 행 4의 SLIV가 제외되어 R은 공집합이된다. 따라서, 단계 3-2는 종료될 수 있다 (도 14(c)). - 단계 4: k를 1 증가시켜 k=1이 된다. k=1은 K1 집합의 크기(cardinality)인 1과 같으므로 pseudo-code 1은 종료한다. 따라서 도 14을 참조하여, 단말은 2개의 PDSCH 수신 후보 기회 j=0, j=1 MA,c를 결정할 수 있다. Type-1 HARQ- ACK 코드북의 크기는 PDSCH 수신 후보 기회의 수에 따라서 결정될 수 있다. PDSCH 수신 후보 기회당 실제 bits 수는 각 PDSCH가 포함하는 전송블록(transport block)의 수, 각 PDSCH가 포함하는 코드블록그룹(code block group, CBG)의 수, 내지 공간 번들링(spatial bundling)등 설정에 따라서 결정될 수 있다. <Single PDSCH 수신 및 PDSCH 반복 수신을 위한 Type-1 HARQ-ACK 코드북> 단말은 기지국으로부터 복수의 술롯에서 동일한 TB(transport block)을 전달하는 PDSCH를 수신할 수 있다. 이는 상위 계층으로부터 pdsch-AggregartionFactor이 설정된 경우를 포함할 수 있다. 참고로, 단말이 pdsch- AggregartionFactor을 설정 받을 경우, 제 1 DCI format으로 스케줄링된 PDSCH는 상기 pdsch- AggregationFactor에 따라 복수의 슬롯에서 반복되어 수신할 수 있으나, 제 2 DCI format으로 스케줄링된 PDSCH는 하나의 슬롯에서 수신될 수 있다. 여기서 제 1 DCI format은 non-fallback DCI라고 부르거나 DCI format 1_1 또는 DCI format 1_2라고 부를 수 있다. 제 2 DCI format은 fallback DCI라고 부르거나 DCI format 1_0이라고 부를 수 있다. 단말은 상기 복수의 슬롯에서 PDSCH를 수신하더라도, 상기 복수의 슬롯에서 수신되는 PDSCH는 동일한 TB를 전송 하므로 상기 TB에 대한 HARQ-ACK 정보를 기지국으로 전송할 수 있다. 다시 말해서, 단말은 각 슬롯에 수신된 PDSCH들의 HARQ-ACK 정보 각각을 기지국을 전송하지 않을 수 있다. 단말은 상기 pdsch-AggregationFactor가 설정되었을 경우, 복수의 슬롯에서 PDSCH를 수신한다고 가정하고 type- 1 HARQ-ACK 코드북을 생성할 수 있다. 여기서, 단말은 제 2 DCI format으로 스케줄링된 PDSCH는 한 슬롯에서만 수신하지만, type-1 HARQ-ACK 코드북을 생성할때는 제 1 DCI format으로 스케줄링된 PDSCH와 같이 복수의 슬롯 에서 PDSCH를 수신한다고 가정한다. 슬롯 n에서 Type-1 HARQ-ACK 코드북을 전달하는 PUCCH 또는 PUSCH를 전송할 때, 이를 위한 pseudo-code는 다음 과 같다. [pseudo-code 2: (PDSCH 반복 수신 설정)] - 준비 단계: 집합 R은 TDRA(time domain resource assignment) 테이블에 설정된 스케줄링 정보(PDSCH가 매핑 되는 슬롯 정보(이하 K0값), 시작 심볼 및 길이 정보(이하 SLIV(starting and length value))들의 집합이다. 만약 단말이 하나 이상의 DCI format들을 모니터링하고, 상기 DCI format들이 서로 다른 TDRA 테이블을 사용할 경우, 상기 집합 R은 모든 TDRA 테이블을 기초로 생성된다. NPDSCHmax는 pdsch-AggregationFactor의 값으로 설정 될 수 있다. - 단계 0: MA,c를 공집합으로 초기화. k를 0으로 초기화. j를 0으로 초기화. - 단계 1: 설정된 K1 집합에서 k번째 큰 K1 값을 선택한다. (예를 들어, k=0이면 K1 집합에서 가장 큰 K1 값을 선택하고, k=1이면 K1 집합에서 두번째로 큰 K1 값을 선택한다.) 상기 K1 값을 K1,k라고 한다. - 단계 2: 만약, K1,k 값에 해당하는 슬롯(슬롯 n-K1,k)부터 이전 NPDSCHmax개의 슬롯 각각에서 집합 R의 각 행에 속 한 시작 심볼 및 길이 정보(SLIV)에 해당하는 심볼이 상위 계층에서 상향링크로 설정된 심볼과 겹치면, 상기 행 은 집합 R에서 제외될 수 있다. - 단계 3-1 (단말이 한 슬롯에 최대 하나의 unicast PDSCH를 수신 받을 수 있는 단말 능력(UE capability)만 있는 경우): 상기 결정된 집합 R이 공집합이 아니면 집합 MA,c에 새로운 PDSCH 수신 후보 기회로 j를 추가한다. 집합 R의 PDSCH 후보들 중 하나를 수신하게 되면(복수의 슬롯에서 반복되어 수신되든 한 슬롯에서 수신되든 마 지막 수신 슬롯이 K1,k 값에 해당하는 슬롯(슬롯 n-K1,k)이면), 단말은 상기 PDSCH의 HARQ-ACK을 상기 새로운 PDSCH 후보 기회 j에 위치시킬 수 있다. j를 1 증가 시킨다. - 단계 3-2 (단말이 한 슬롯에 하나보다 많은 unicast PDSCH를 수신 받을 수 있는 단말 능력이 있는 경우) 상기 결정된 집합 R에서 가장 앞서 끝나는 SLIV와 그 SLIV와 시간 상 겹치는 SLIV들을 위하여 집합 MA,c에 새로운 PDSCH 수신 후보 기회로 j를 추가한다. 상기 SLIV를 가진 PDSCH 후보들 중 하나를 수신하게 되면(복수의 슬롯에 서 반복되어 수신되든 한 슬롯에서 수신되든 마지막 수신 슬롯이 K1,k 값에 해당하는 슬롯(슬롯 n-K1,k)이면), 단 말은 상기 PDSCH의 HARQ-ACK을 상기 새로운 PDSCH 후보 기회 j에 위치시킬 수 있다. j를 1 증가 시킨다. 집합 R 에서 상기 SLIV들은 제외한다. 단계 3-2는 집합 R이 공집합일때까지 반복된다. - 단계 4: k를 1 증가시킨다. 만약 k가 K1 집합의 크기(cardinality) 보다 작으면 단계 2부터 다시 시작하고, K1 집합의 크기(cardinality)보다 같거나 크면 pseudo-code 2은 종료한다. [pseudo-code 2 끝] 도 15는 본 개시의 실시 예에 따른 복수의 슬롯에서 반복 수신되는 PDSCH에 대한 HARQ-ACK 코드북을 생성하는 pseudo-code를 설명하기 위한 일례를 도시한 도면이다. 도 15를 참고하여 상술된 pseudo code 2을 설명한다. 슬롯 n에서 HARQ-ACK 정보를 포함한 PUCCH 전송이 수행될 수 있다. 예를 들어, 상기 HARQ-ACK 정보는 Type-1 HARQ-ACK 코드북 형태로 생성될 수 있다. 단말에게 K1 값으로 K1=3이 설정되어 있다고 가정한다. 또한 단말이 모니터링하는 DCI format의 TDRA table은 표 26와 같이 5개의 행을 포함할 수 있다. 단말은 준비 단계에 따라 표 26의 TDRA 테이블의 각 행들을 집합 R에 포함할 수 있다. 참고로, 표 26에서 일부 행들은 제 1 DCI format의 TDRA 테이블에 속할 수 있고, 일부 행들은 제 2 DCI format의 TDRA 테이블에 속할 수 있다. 예를 들어, 인덱스 1,2,3의 행들은 제 1 DCI format TDRA 테 이블에 속할 수 있고, 인덱스 4,5인 행들은 제 2 DCI format의 TDRA 테이블에 속할 수 있다. 하지만, 상기 집합 R은 속한 DCI format에 관계 없이 모든 행들의 합집합니다. 도 15에서 NPDSCHmax는 2라고 가정한다. 도 15(a)는 표 26의 각 행에 따른 SLIV들을 나타내었다. 여기서, Type-1 HARQ-ACK 코드북을 생성시 NPDSCHmax는 2라고 가정하므로, PDSCH는 슬롯 n-3과 슬롯 n-4에서 반복되어 수신되는 것 이 고려될 수 있다. 단말은 상기 K1 값과 상기 집합 R, 그리고 NPDSCHmax을 기초로 PDSCH 수신 후보 기회 MA,c를 결정할 수 있다. 도 15 을 참조하여, pseudo code 2은 다음과 같이 해석될 수 있다. 이후 설명에서 단말은 한 슬롯에서 하나보다 많은 unicast PDSCH를 수신 받을 수 있는 단말 능력이 있다고 가정한다. - 단계 0: MA,c를 공집합으로 초기화. k를 0으로 초기화. j를 0으로 초기화. - 단계 1: 설정된 K1 집합에서 k=0번째 큰 K1 값을 선택한다. 상기 K1 값을 K1,0=3이다. - 단계 2: 만약, 슬롯 n-K1,0 = 슬롯 n-3부터 이전 NPDSCHmax=2개의 슬롯(즉, 슬롯 n-3, 슬롯 n-4) 각각에서 집합 R의 각 행에 속한 시작 심볼 및 길이 정보(SLIV)에 해당하는 심볼이 상위 계층에서 상향링크로 설정된 심볼과 겹치면, 상기 행은 집합 R에서 제외될 수 있다. 다시 말해, 집합 R의 각 행에 속한 시작 심볼 및 길이 정보 (SLIV)에 해당하는 심볼이 상위 계층에서 상향링크로 설정된 심볼과 슬롯 n-3 및 슬롯 n-4에서 공통으로(모두) 중첩되는 경우에만 해당 행이 집합 R에서 제외될 수 있다. 도 15(b)를 참조하여, 슬롯 n-3의 마지막 2심볼이 반 정적 상향링크 심볼이 설정된 경우를 가정한다.이 경우, 행 3의 SLIV (7,7)과 행 5의 SLIV (0,14)는 슬롯 n-3에 서는 상기 반정적 상향링크 심볼과 겹치지만, 슬롯 n-4에서는 반정적 상향링크 심볼과 겹치지 않으므로, 해당 행은 집합 R에서 제외되지 않을 수 있다. 따라서, 집합 R에는 행 1, 2, 3, 4, 5가 포함될 수 있다. - 단계 3-2 (단말이 한 슬롯에 하나보다 많은 unicast PDSCH를 수신 받을 수 있는 단말 능력이 있는 경우): ● 상기 결정된 집합 R에서 가장 앞서 끝나는 SLIV와 그 SLIV와 시간 상 겹치는 SLIV들을 위하여 집합 MA,c에 새 로운 PDSCH 수신 후보 기회로 j=0를 추가한다. 여기서 가장 앞서 끝나는 SLIV는 행 1의 SLIV (0,4)이고, 상기 SLIV와 겹치는 SLIV는 행 2의 SLIV(0,7)와 행 5의 SLIV(0,14)이다. 따라서, MA,c에 j=0을 추가하고, 단말은 행 1의 SLIV(0,4) 또는 행 2의 SLIV(0,7) 또는 행 5의 SLIV(0,14)로 스케줄링된 PDSCH를 수신하면, 상기 PDSCH의 HARQ-ACK을 type-1 HARQ-ACK 코드북에서 첫번째 (j=0) MA,c에 해당하는 위치에 포함할 수 있다. j를 1 증가 시켜 서 j=1이된다. 집합 R에서 상기 행 1, 행 2, 그리고 행 5의 SLIV들은 제외되어 R = {3,4}이다. 집합 R이 공집합 이 아니므로, 단계 3-2는 반복된다. ● 상기 결정된 집합 R에서 가장 앞서 끝나는 SLIV와 그 SLIV와 시간 상 겹치는 SLIV들을 위하여 집합 MA,c에 새 로운 PDSCH 수신 후보 기회로 j=1를 추가한다. 여기서 가장 앞서 끝나는 SLIV는 행 4의 SLIV (7,4)이고, 상기 SLIV와 겹치는 SLIV는 행 3의 SLIV(7,7)이다. 따라서, MA,c에 j=1을 추가하고, 단말은 행 3의 SLIV(7,7) 또는 행 4의 SLIV (7,4)로 스케줄링된 PDSCH를 수신하면, 상기 PDSCH의 HARQ-ACK을 type-1 HARQ-ACK 코드북에서 두 번째 (j=1) MA,c 에 해당하는 위치에 포함할 수 있다. j를 1 증가 시켜서 j=1이된다. 집합 R에서 상기 행 3과 행 4의 SLIV가 제외되어 R은 공집합이된다. 따라서, 단계 3-2는 종료될 수 있다 (도 15(c)). - 단계 4: k를 1 증가시켜 k=1이 된다. k=1은 K1 집합의 크기(cardinality)인 1과 같으므로 pseudo-code 2은 종료한다. 따라서 도 15을 참조하여, 단말은 2개의 PDSCH 수신 후보 기회 j=0, j=1 MA,c를 결정할 수 있다. Type-1 HARQ- ACK 코드북의 크기는 PDSCH 수신 후보 기회의 수에 따라서 결정될 수 있다. PDSCH 수신 후보 기회당 실제 bits 수는 각 PDSCH가 포함하는 전송블록(transport block)의 수, 각 PDSCH가 포함하는 코드블록그룹(code block group, CBG)의 수, 내지 공간 번들링(spatial bundling)등 설정에 따라서 결정될 수 있다. Pseudo-code 1(PDSCH 반복 수신 없음)과 비교할 때, Pseudo-code 2(PDSCH 반복 수신 설정)의 가장 큰 차이는 단계 2에 의하여 집합 R에서 제외되는 SLIV들이다. 도 14(b)를 참조하여, 단말이 PDSCH를 반복하여 수신하지 않 을 경우, 단말은 오직 슬롯 n-3에서만 PDSCH를 수신할 수 있으므로, 상기 슬롯에서 PDSCH의 SLIV가 반정적 상향 링크 심볼과 겹치게되면, 집합 R에서 제외될 수 있다. 반면, 도 15(b)를 참조하여, 단말이 PDSCH를 반복하여 수 신할 경우, 단말은 복수의 슬롯 (e.g., 슬롯 n-3, 슬롯 n-4)에서 PDSCH를 수신할 수 있으므로, 복수의 슬롯 중 적어도 한 슬롯에서 PDSCH의 SLIV가 반정적 상향링크 심볼과 겹치지 않으면, 집합 R에서 제외되지 않을 수 있다. 다시 말해서, 모든 슬롯에서 PDSCH의 SLIV가 반정적 상향링크 심볼과 겹치면 집합 R에서 제외될 수 있다. 따라서, Pseudo-code 1과 대비하여 Pseudo-code 2는 더 많은 PDSCH 수신 후보 기회들을 포함할 수 있다. 앞서 표 26의 일부 인덱스는 제 2 DCI format의 TDRA 테이블에 속할 수 있다고 하였다. 상기 제 2 DCI format 으로 스케줄링된 PDSCH는 하나의 슬롯에서 수신될 수 있다. 하지만, 단말이 모든 행을, 제 1 DCI format으로 스 케줄링된 것처럼, NPDSCHmax 개의 슬롯에서 반복되어 수신한다고 가정하여 Type-1 HARQ-ACK 코드북을 생성할 수 있다. 앞서 말했듯이, 반복 수신을 가정할 경우, 더 많은 PDSCH 수신 후보 기회를 포함할 수 있으므로, 상기 제 2 PDSCH format으로 스케줄링된 PDSCH의 HARQ-ACK 정보도 Type-1 HARQ-ACK 코드북에 포함될 수 있다. 상술한 pseudo-code 1과 2는 3GPP 표준문서 TS38.213의 9.1.2.1에 서술되어 있다. 본 개시에서는 설명을 위하 여 상기 표준 문서의 v16.6.0의 pseudo-code를 기준으로 설명한다. Pseudo-code는 표 27과 같다. [표 27]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 29, "content": "또한 위 Pseudo-code의 심볼의 정의는 3GPP 표준문서 TS38.213에서 확인할 수 있다. <Multi-PDSCH 수신을 위한 Type-1 HARQ-ACK 코드북> 단말은 Multi-PDSCH 스케줄링을 설정받을 수 있다. 즉, 단말은 복수의 스케줄링정보로 구성된 행을 가진 TDRA 테이블을 설정 받을 수 있다. 구체적인 multi-PDSCH 스케줄링에 대한 설명은 상술하였다. 단말은 multi-PDSCH 스케줄링에 따라, 복수의 슬롯에 서로 다른 TB를 전달하는 PDSCH를 수신할 수 있다. 상기 복수의 슬롯에서 수신되는 PDSCH들은 서로 TB들을 전송하므로 상기 TB들 각각에 대한 HARQ-ACK 정보를 기지국으 로 전송할 수 있다. 다시 말해서, 단말은 각 슬롯에 수신된 PDSCH들 각각의 HARQ-ACK 정보 각각을 기지국을 전 송하여야 한다. 이를 위하여 Type-1 HARQ-ACK 코드북에 K1 집합 확장(K1 set extension)이 도입되었다. 표 28 내지 도16 (a), (b)를 통하여 설명한다. 먼저, 표 28과 같이, 단말은 복수의 스케줄링 정보로 구성된 행을 가진 TDRA 테이블을 설정 받을 수 있다. 표 28을 본 개시의 이해를 돕기 위한 일례일 뿐, 본 개시의 기술적 범위를 제한하는 것은 아니다. 따라서, 각 행이 1개의 스케줄링 정보를 포함하거나, 3개 이상의 스케줄링 정보들을 포함하거나, 서로 다른 행이 서로 다른 수의 스케줄링 정보를 포함하는 TDRA 테이블이 설정될 수도 있음은 물론이다.[표 28]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "item": 30, "content": "도 16(a)는 본 개시의 실시 예에 따른 복수의 스케줄링 정보를 포함하는 TDRA 테이블에 기반한 PDSCH들을 도시 한 일례를 도시한 도면이다. 도 16(a)는 상기 표 28의 TDRA 테이블에 따라 수신할 수 있는 PDSCH들의 SLIV들을 나타냈다. 참고로, 도 16에서 X_Y는 TDRA 테이블의 행 인덱스 X의 Y번째 스케줄링 정보에 따른 SLIV을 나타낼 수 있다. 여기서 K1 값은 3이고, 상기 PDSCH들의 HARQ-ACK은 슬롯 n에서 전송된다고 가정하였다. 즉, 상기 TDRA 테이블에 따른 마지막 스케줄링 정보의 SLIV는 슬롯 n-K1 값인 슬롯 n-3에 나타난다. 또한, 스케줄링 정보 간의 K0 값의 차이는 두 스케줄링 정보의 SLIV가 위치하는 슬롯 간의 오프셋 (즉, 두 슬롯 사이의 슬롯 개수)이다. 도 16(a)를 참조하여, 인덱스가 1인 행의 마지막 (두번째) 스케줄링 정보에 따라서 슬롯 n-3의 심볼 0부터 4개 의 심볼이 SLIV 1_2에 대응된다. 그리고, 첫번째 스케줄링 정보와 두번째 스케줄링 정보의 K0 값의 차이인 오프 셋이 1이므로 슬롯 n-3-오프셋=슬롯 n-4에서 첫번째 스케줄링 정보에 따라서 심볼 0부터 4개의 심볼이 SLIV 1_1 에 대응된다. 인덱스가 2인 행의 마지막 (두번째) 스케줄링 정보에 따라서 슬롯 n-3의 심볼 7부터 7개의 심볼이 SLIV 2_2에 대응된다. 그리고, 첫번째 스케줄링 정보와 두번째 스케줄링 정보의 K0 값의 차이인 오프셋이 2이므로 슬롯 n- 3-오프셋=슬롯 n-5에서 첫번째 스케줄링 정보에 따라서 심볼 0부터 7개의 심볼이 SLIV 2_1에 대응된다. 인덱스가 3인 행의 마지막 (두번째) 스케줄링 정보에 따라서 슬롯 n-3의 심볼 0부터 14개의 심볼이 SLIV 3_2에 대응된다. 그리고, 첫번째 스케줄링 정보와 두번째 스케줄링 정보의 K0 값의 차이인 오프셋이 1이므로 슬롯 n- 3-오프셋=슬롯 n-4에서 첫번째 스케줄링 정보에 따라서 심볼 7부터 7개의 심볼이 SLIV 3_1에 대응된다. 도 16(b)는 본 개시의 실시 예에 따른 복수의 스케줄링 정보를 포함하는 TDRA 테이블에 따른 PDSCH들을 single- PDSCH 스케줄링으로 간주함에 따른 K1 값들의 확장을 설명하기 위한 일례를 도시한 도면이다. 도 16(b)를 참조하여, 단말은 표 28에 따라 수신할 수 있는 PDSCH들의 SLIV들을 single-PDSCH 스케줄링으로 스 케줄링된 SLIV들이라고 간주할 수 있다. 이에 따라서, 단말은 표 29와 같이 single-PDSCH 스케줄링을 위한 TDRA 테이블을 생성할 수 있다. 참고로, single PDSCH 스케줄링을 위한 TDRA 테이블의 각 행은 하나의 스케줄링 정보 만을 포함할 수 있다. [표 29]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 31, "content": "그리고 단말에게 설정된 K1 값인 3을 기초로, 단말은 PDSCH가 수신될 수 있는 슬롯인 슬롯 n-3, 슬롯 n-4, 슬롯 n-5을 판정할 수 있으며, 이에 따라서, K1 값을 3, 4, 5로 확장할 수 있다. 다시 말해서, 인덱스 2, 4, 및 6의 SLIV 1_2, SLIV 2_2, 내지 SLIV 3_2는 슬롯 n-3에서 수신할 수 있다. 따라서, K1 값은 3이어야 슬롯 n에서 HARQ-ACK 정보를 전송할 수 있다. 인덱스 1 및 5의 SLIV 1_1 내지 SLIV 3_1는 슬롯 n-4에서 수신할 수 있다. 따라서, K1 값은 4이어야 슬롯 n에서 HARQ-ACK 정보를 전송할 수 있다. 인덱스 3의 SLIV 2_1은 슬롯 n-5에서 수신할 수 있다. 따라서, K1 값은 4이어야 슬롯 n에서 HARQ-ACK 정보를 전송할 수 있다. 여기서 구한 K1 값들을 확장된 K1 값 (K1ext)라고 부르며, 상기 확장된 K1 값들의 집합을 확장된 K1 집합이라고 부르기로 한다. 다만, 이러한 용어의 사용이 본 개시의 기술적 범위를 제한하는 것은 아니다. 단말은 상기 확장된 K1 집합 및 single-PDSCH 스케줄링으로 해석한 TDRA 테이블(e.g., 표 29)을 기초로 Type-1 HARQ-ACK 코드북을 생성할 수 있다. 슬롯 n에서 Type-1 HARQ-ACK 코드북을 전달하는 PUCCH 또는 PUSCH를 전송할 때, 이를 위한 pseudo-code는 다음 과 같다. [pseudo-code 3: (multi-PDSCH 스케줄링)] - 준비 단계: 집합 R은 TDRA(time domain resource assignment) 테이블에 설정된 복수의 스케줄링 정보(PDSCH 가 매핑되는 슬롯 정보(이하 K0값), 시작 심볼 및 길이 정보(이하 SLIV(starting and length value))들을 분리 하여 단일(single) PDSCH 스케줄링 정보들로 구성된 집합이다. 만약 단말이 하나 이상의 DCI format들을 모니터 링하고, 상기 DCI format들이 서로 다른 TDRA 테이블을 사용할 경우, 상기 집합 R은 모든 TDRA 테이블을 기초로 생성된다. 또한, 상기 TDRA 테이블에 따른 확장된 K1 집합을 구한다. - 단계 0: MA,c를 공집합으로 초기화. k를 0으로 초기화. j를 0으로 초기화. - 단계 1: 확장된 K1 집합에서 k번째 큰 K1 값을 선택한다. (예를 들어, k=0이면 K1 집합에서 가장 큰 K1 값을 선택하고, k=1이면 K1 집합에서 두번째로 큰 K1 값을 선택한다.) 상기 K1 값을 K1,k라고 한다. - 단계 2: 만약, K1,k 값에 해당하는 슬롯(슬롯 n-K1,k)에서 집합 R의 각 행에 속한 시작 심볼 및 길이 정보 (SLIV)에 해당하는 심볼이 상위 계층에서 상향링크로 설정된 심볼과 겹치거나, 슬롯 n에서 전송되는 HARQ-ACK 정보에 슬롯 n-K1,k의 상기 SLIV가 대응되지 않으면, 상기 행은 집합 R에서 제외될 수 있다. - 단계 3-1 (단말이 한 슬롯에 최대 하나의 unicast PDSCH를 수신 받을 수 있는 단말 능력(UE capability)만 있는 경우): 상기 결정된 집합 R이 공집합이 아니면 집합 MA,c에 새로운 PDSCH 수신 후보 기회로 j를 추가한다. 집합 R의 PDSCH 후보들 중 하나를 수신하게 되면, 단말은 상기 PDSCH의 HARQ-ACK을 상기 새로운 PDSCH 후보 기 회 j에 위치시킬 수 있다. j를 1 증가 시킨다. - 단계 3-2 (단말이 한 슬롯에 하나보다 많은 unicast PDSCH를 수신 받을 수 있는 단말 능력이 있는 경우) 상기 결정된 집합 R에서 가장 앞서 끝나는 SLIV와 그 SLIV와 시간 상 겹치는 SLIV들을 위하여 집합 MA,c에 새로운 PDSCH 수신 후보 기회로 j를 추가한다. 상기 SLIV를 가진 PDSCH 후보들 중 하나를 수신하게 되면, 단말은 상기 PDSCH의 HARQ-ACK을 상기 새로운 PDSCH 후보 기회 j에 위치시킬 수 있다. j를 1 증가 시킨다. 집합 R에서 상기 SLIV들은 제외한다. 단계 3-2는 집합 R이 공집합일때까지 반복된다. - 단계 4: k를 1 증가시킨다. 만약 k가 K1 집합의 크기(cardinality) 보다 작으면 단계 2부터 다시 시작하고, K1 집합의 크기(cardinality)보다 같거나 크면 pseudo-code 3은 종료한다. [pseudo-code 3 끝] 도 16(c)와 도 16(d)는 본 개시의 실시 예에 따른 HARQ-ACK 코드북을 생성하는 pseudo-code를 설명하기 위한 또 다른 일례를 도시한 도면이다. 상술된 pseudo code 3을 도 16(c) 내지 도 16(d)를 예시로 설명한다. 슬롯 n에서 HARQ-ACK 정보를 포함한 PUCCH 전송이 수행될 수 있다. 일례로, 상기 HARQ-ACK 정보는 Type-1 HARQ-ACK 코드북 형태로 생성될 수 있다. 단말에게 K1 값으로 K1=3이 설정되어 있다고 가정한다. 또한, 단말이 모니터링하는 DCI format의 TDRA table은 표 28와 같이 3개의 행을 포함할 수 있다. 단말은 준비 단계에 따라 표 28의 TDRA 테이블의 각 행들의 복수의 스케줄링 정보를 표 29와 같이 단일 스케줄링 정보로 바꾸고, 상기 단일 스케줄링 정보를 집합 R에 포함시킬 수 있다. 그리고 확장된 K1 집합으로 {3,4,5}를 구할 수 있다. 도 16(b)는 각 행에 따른 SLIV들과 확장된 K1 값을 나타내었다. 단말은 상기 확장된 K1 집합과 상기 집합 R을 기초로 PDSCH 수신 후보 기회 MA,c를 결정할 수 있다. 도 16(c) 및 16(d)를 참조하여, pseudo code 3은 다음과 같이 해석될 수 있다. 이후 설명에서 단말은 한 슬롯에서 하나보다많은 unicast PDSCH를 수신 받을 수 있는 단말 능력이 있다고 가정한다. - 단계 0: MA,c를 공집합으로 초기화. k를 0으로 초기화. j를 0으로 초기화. - 단계 1: 확장된 K1 집합에서 k=0번째 큰 K1 값을 선택한다. 상기 예에서, K1 값은 K1,0=5이다. - 단계 2: 만약, 슬롯 n-K1,0 = 슬롯 n-5에서 집합 R의 각 행에 속한 시작 심볼 및 길이 정보(SLIV)에 해당하는 심볼이 상위 계층에서 상향링크로 설정된 심볼과 겹치거나 슬롯 n에서 전송되는 HARQ-ACK 정보에 상기 SLIV가 대응되지 않으면, 상기 행은 집합 R에서 제외될 수 있다. 도 16(c) 및 16(d)를 참조하여, 슬롯 n-5의 일부 심볼 이 상위계층으로 설정된 반정적 상향링크 심볼(semi-static UL symbol)일 경우, 상기 심볼과 겹치는 SLIV들을 포함한 행을 집합 R에서 제외될 수 있다. 도 16(c) 및 16(d)를 참조하여, 슬롯 n-5는 반정적 상향링크 심볼을 포함하지 않는다. 그리고, 슬롯 n에서 전송되는 HARQ-ACK 정보에 행 1의 SLIV 1_1, 행 2의 SLIV 1_2, 행 4의 SLIV 2_2, 행 5의 SLIV 3_1, 행 6의 SLIV 3_2는 슬롯 n-5에서 대응되지 않으므로 집합 R에서 제외될 수 있다. 따라서, 집합 R에는 행 3의 SLIV 2_1이 포함될 수 있다. - 단계 3-2 (단말이 한 슬롯에 하나보다 많은 unicast PDSCH를 수신 받을 수 있는 단말 능력이 있는 경우): ● 상기 결정된 집합 R에서 가장 앞서 끝나는 SLIV와 그 SLIV와 시간 상 겹치는 SLIV들을 위하여 집합 MA,c에 새 로운 PDSCH 수신 후보 기회로 j=0를 추가한다. 여기서 가장 앞서 끝나는 SLIV는 행 3의 SLIV 2_1 (0,4)이고, 상 기 SLIV와 겹치는 SLIV는 없다. 따라서, MA,c에 j=0을 추가하고, 단말은 행 3의 SLIV 2_1 (0,4)로 스케줄링된 PDSCH를 수신하면, 상기 PDSCH의 HARQ-ACK을 type-1 HARQ-ACK 코드북에서 첫번째 (j=0) MA,c에 해당하는 위치에 포함할 수 있다. j를 1 증가 시켜서 j=1이된다. 집합 R에서 상기 행 행 5의 SLIV는 제외되어 R은 공집합이된다. 따라서, 단계 3-2는 종료될 수 있다. - 단계 4: k를 1 증가시켜 k=1이 된다. k=1은 K1 집합의 크기(cardinality)인 3보다 작으므로 단계 1를 수행한 다. - 단계 1: 확장된 K1 집합에서 k=1번째 큰 K1 값을 선택한다. 상기 예에서, K1 값은 K1,1=4이다. - 단계 2: 만약, 슬롯 n-K1,1 = 슬롯 n-4에서 집합 R의 각 행에 속한 시작 심볼 및 길이 정보(SLIV)에 해당하는 심볼이 상위 계층에서 상향링크로 설정된 심볼과 겹치거나 슬롯 n에서 전송되는 HARQ-ACK 정보에 상기 SLIV가 대응되지 않으면, 상기 행은 집합 R에서 제외될 수 있다. 도 16(c) 및 16(d)를 참조하여, 슬롯 n-4의 일부 심볼 이 상위계층으로 설정된 반정적 상향링크 심볼(semi-static UL symbol)일 경우, 상기 심볼과 겹치는 SLIV들을 포함한 행을 집합 R에서 제외될 수 있다. 도 16(c) 및 16(d)를 참조하여, 슬롯 n-4는 반정적 상향링크 심볼을 포함하지 않는다. 그리고, 슬롯 n에서 전송되는 HARQ-ACK 정보에 행 2의 SLIV 1_2, 행 3의 SLIV 2_1, 행 4의 SLIV 2_2, 행 6의 SLIV 3_2는 슬롯 n-4에서 대응되지 않으므로 집합 R에서 제외될 수 있다. 따라서, 집합 R에는 행 1의 SLIV 1_1과 행 5의 SLIV 3_1이 포함될 수 있다. - 단계 3-2 (단말이 한 슬롯에 하나보다 많은 unicast PDSCH를 수신 받을 수 있는 단말 능력이 있는 경우): ● 상기 결정된 집합 R에서 가장 앞서 끝나는 SLIV와 그 SLIV와 시간 상 겹치는 SLIV들을 위하여 집합 MA,c에 새 로운 PDSCH 수신 후보 기회로 j=1를 추가한다. 여기서 가장 앞서 끝나는 SLIV는 행 1의 SLIV 1_1 (0,4)이고, 상 기 SLIV와 겹치는 SLIV는 없다. 따라서, MA,c에 j=1을 추가하고, 단말은 행 1의 SLIV 1_1 (0,4)로 스케줄링된 PDSCH를 수신하면, 상기 PDSCH의 HARQ-ACK을 type-1 HARQ-ACK 코드북에서 두번째 (j=1) MA,c에 해당하는 위치에 포함할 수 있다. j를 1 증가 시켜서 j=2이된다. 집합 R에서 상기 행 행 1의 SLIV는 제외되어 R = {5}이다. R이 공집합이 아니므로, 단계 3-2는 반복된다. ● 상기 결정된 집합 R에서 가장 앞서 끝나는 SLIV와 그 SLIV와 시간 상 겹치는 SLIV들을 위하여 집합 MA,c에 새 로운 PDSCH 수신 후보 기회로 j=2를 추가한다. 여기서 가장 앞서 끝나는 SLIV는 행 5의 SLIV 3_1 (7,7)이고, 상 기 SLIV와 겹치는 SLIV는 없다. 따라서, MA,c에 j=2을 추가하고, 단말은 행 5의 SLIV 3_1 (7,7)로 스케줄링된 PDSCH를 수신하면, 상기 PDSCH의 HARQ-ACK을 type-1 HARQ-ACK 코드북에서 세번째 (j=2) MA,c에 해당하는 위치에 포함할 수 있다. j를 1 증가 시켜서 j=3이된다. 집합 R에서 상기 행 행 5의 SLIV는 제외되어 R은 공집합이된다. 따라서, 단계 3-2는 종료된다. - 단계 4: k를 1 증가시켜 k=2이 된다. k=2은 K1 집합의 크기(cardinality)인 3보다 작으므로 단계 1를 수행한 다. - 단계 1: 확장된 K1 집합에서 k=2번째 큰 K1 값을 선택한다. 상기 예에서, K1 값은 K1,2=3이다. - 단계 2: 만약, 슬롯 n-K1,2 = 슬롯 n-3에서 집합 R의 각 행에 속한 시작 심볼 및 길이 정보(SLIV)에 해당하는 심볼이 상위 계층에서 상향링크로 설정된 심볼과 겹치거나 슬롯 n에서 전송되는 HARQ-ACK 정보에 상기 SLIV가 대응되지 않으면, 상기 행은 집합 R에서 제외될 수 있다. 도 16(c) 및 16(d)를 참조하여, 슬롯 n-3의 일부 심볼 이 상위계층으로 설정된 반정적 상향링크 심볼(semi-static UL symbol)일 경우, 상기 심볼과 겹치는 SLIV들을 포함한 행을 집합 R에서 제외될 수 있다. 도 16(c) 및 16(d)를 참조하여, 슬롯 n-3의 마지막 2심볼이 반정적 상 향링크 심볼일 수 있고, 행 4의 SLIV 2_2 (7,7)과 행 6의 SLIV 3_2 (0,14)는 슬롯 n-3에서는 상기 반정적 상향 링크 심볼과 겹치므로, 집합 R에서 제외될 수 있다. 또한, 슬롯 n에서 전송되는 HARQ-ACK 정보에 행 1의 SLIV 1_1, 행 3의 SLIV 2_1, 행 5의 SLIV 3_1는 슬롯 n-3에서 대응되지 않으므로 집합 R에서 제외될 수 있다. 따라서, 집합 R에는 행 2의 SLIV 1_2를 포함될 수 있다. - 단계 3-2 (단말이 한 슬롯에 하나보다 많은 unicast PDSCH를 수신 받을 수 있는 단말 능력이 있는 경우): ● 상기 결정된 집합 R에서 가장 앞서 끝나는 SLIV와 그 SLIV와 시간 상 겹치는 SLIV들을 위하여 집합 MA,c에 새 로운 PDSCH 수신 후보 기회로 j=3를 추가한다. 여기서 가장 앞서 끝나는 SLIV는 행 2의 SLIV 1_2 (0,4)이고, 상 기 SLIV와 겹치는 SLIV없다. 따라서, MA,c에 j=3을 추가하고, 단말은 행 2의 SLIV 1_2 (0,4)로 스케줄링된 PDSCH를 수신하면, 상기 PDSCH의 HARQ-ACK을 type-1 HARQ-ACK 코드북에서 네번째 (j=3) MA,c에 해당하는 위치에 포함할 수 있다. j를 1 증가 시켜서 j=4이된다. 집합 R에서 상기 행 행 2의 SLIV는 제외되어 R은 공집합이된다. 따라서, 단계 3-2는 종료된다. - 단계 4: k를 1 증가시켜 k=3이 된다. k=3은 K1 집합의 크기(cardinality)인 3와 같으므로 pseudo-code 3은 종료한다. [pseudo-code 3 끝] 따라서 도 16(c) 및 16(d)를 참조하여, 단말은 4개의 PDSCH 수신 후보 기회 j=0, j=1, j=2, j=3인 MA,c를 결정 할 수 있다. Type-1 HARQ-ACK 코드북의 크기는 PDSCH 수신 후보 기회의 수에 따라서 결정될 수 있다. PDSCH 수 신 후보 기회당 실제 bits수는 각 PDSCH가 포함하는 전송블록(transport block)의 수, 각 PDSCH가 포함하는 코 드블록그룹(code block group, CBG)의 수, 내지 공간 번들링(spatial bundling)등 설정에 따라서 결정될 수 있 다. <Multi-PDSCH 수신 및 시간 도메인 번들링을 위한 Type-1 HARQ-ACK 코드북> 상술한 도 16(d)의 예에서, 단말은 Type-1 HARQ-ACK 코드북을 위하여 4개의 PDSCH 수신 후보 기회를 포함하였다. 이는 일례로, 단말이 TDRA 테이블에 더 많은 행을 가지거나 TDRA 테이블의 행에 더 많은 수의 스케 줄링 정보를 포함된다면, Type-1 HARQ-ACK 코드북은 더 많은 수의 PDSCH 수신 후보 기회를 포함할 수 있다. 따 라서, Type-1 HARQ-ACK 코드북의 크기가 커지는 문제가 발생할 수 있다. 이를 해결하기 위하여 시간 도메인 번 들링(time-domain bundling)이 설정될 수 있다. 단말에게 시간 도메인 번들링이 설정될 경우, 단말은 하나의 DCI format으로 mult-PDSCH 스케줄링한 PDSCH들이 서로 다른 TB를 전달하지만, 상기 TB 들의 HARQ-ACK들을 하나의 HARQ-ACK bit으로 번들링하여 전송할 수 있다. 여기서 bundling 과정은 단말이 수신한 PDSCH들의 TB들의 HARQ-ACK들의 이진 AND 연산 (binary AND operatio n)으로 결정될 수 있다. 여기서 단말이 수신하지 않은 PDSCH들, 예를 들어 반정적 상향링크 심볼과 겹쳐서 수신하지 못한 PDSCH들은 제 외될 수 있다. 단말은 mutli-PDSCH 스케줄링 및 시간 도메인 번들링이 설정될 경우, Type-1 HARQ-ACK 코드북을 PDSCH 반복 수 신과 유사하게 구할 수 있다. PDSCH 반복 수신과의 차이점은 다음과 같다. - PDSCH 반복 수신의 경우, 슬롯 n-K1,k에서 마지막 PDSCH가 수신될 경우, 단말은 이전 NPDSCHmax개의 슬롯들에서 PDSCH를 반복 수신할 수 있다. 즉, 슬롯 n-K1,k, 슬롯 n-K1,k-1,..., 슬롯 n-K1,k-(NPDSCHmax-1)에서 PDSCH를 반복 수신할 수 있다. - Multi-PDSCH 수신의 경우, 슬롯 n-K1,k에서 마지막 PDSCH가 수신될 경우, 이전 슬롯들은 스케줄링 정보의 K0 값에 따라 결정될 수 있다. 예를 들어, TDRA 테이블의 한 행이 두 개의 스케줄링 정보를 가지고 있고, 상기 K0 값이 K0_1과 K0_2 (≥K0_1)일 경우, 슬롯 n-K1,k-Delta_K1과 슬롯 n-K1,k-Delta_K2 각각에서 첫번째 스케줄링 정 보에 따른 PDSCH와 두번째 스케줄링 정보에 따른 PDSCH가 수신될 수 있다. 여기서 Delta_Ki는 i번째 스케줄링 정보의 K0 값과 마지막 스케줄링 정보의 K0 값(마지막이므로 가장 큰 K0값) 차이를 나타낸다. 즉, Delta_K1 = K0_2 - K0_1이고 Delta_K2 = K0_2 - K0_2이다. 일반적으로 Delta_Ki는 다음과 같이 나타난다. Delta_Ki = K0_max - K0_i. 여기서 K0_i는 복수의 스케줄링 정보의 i번째 K0 값이고, K0_max는 마지막 스케줄링 정보의 K0 값(가장 큰 K0 값)이다. - PDSCH 반복 수신의 경우, 매 슬롯의 SLIV는 동일하였다. 즉 하나의 스케줄링 정보의 SLIV가 복수의 슬롯에 적 용되었다. - Multi-PDSCH 수신의 경우, 매 슬롯의 SLIV는 복수의 스케줄링 정보에 따라서 지시될 수 있다. 따라서, 복수의 스케줄링 정보에 따라서 매 슬롯의 SLIV는 다를 수 있다. - PDSCH 반복 수신의 경우, 매 슬롯의 PDSCH는 동일한 TB를 반복하여 수신한다. 따라서, PDSCH 반복 수신의 경 우 별도의 HARQ-ACK 번들링 과정이 필요 없이 상기 TB에 대한 하나의 HARQ-ACK이 생성될 수 있다. - Multi-PDSCH 수신의 경우, 매 슬롯의 PDSCH 마다 서로 다른 TB가 수신될 수 있다. 따라서, multi-PDSCH 수신 의 경우 각 PDSCH마다 별도의 TB의 HARQ-ACK이 생성될 수 있다. 만약, 시간 도메인 번들링이 설정될 경우, 상기 TB들의 HARQ-ACK들을 번들링하여 하나의 HARQ-ACK이 생성될 수 있다. 상기 PDSCH 반복 수신과 Multi-PDSCH 수신의 차이점을 고려하여, pseudo-code 2는 다음과 같이 pseudo-code 4 로 수정될 수 있다. [pseudo-code 4: (multi-PDSCH 스케줄링, time-domain bundling 설정)] - 준비 단계: 집합 R은 TDRA(time domain resource assignment) 테이블에 설정된 복수의 스케줄링 정보(PDSCH 가 매핑되는 슬롯 정보(이하 K0값), 시작 심볼 및 길이 정보(이하 SLIV(starting and length value))들로 구성 된 집합이다. 만약 단말이 하나 이상의 DCI format들을 모니터링하고, 상기 DCI format들이 서로 다른 TDRA 테 이블을 사용할 경우, 상기 집합 R은 모든 TDRA 테이블을 기초로 생성된다. - 단계 0: MA,c를 공집합으로 초기화. k를 0으로 초기화. j를 0으로 초기화. - 단계 1: 설정된 K1 집합에서 k번째 큰 K1 값을 선택한다. (예를 들어, k=0이면 K1 집합에서 가장 큰 K1 값을 선택하고, k=1이면 K1 집합에서 두번째로 큰 K1 값을 선택한다.) 상기 K1 값을 K1,k라고 한다. - 단계 2: 만약, 집합 R의 행의 K1,k 값에 해당하는 슬롯(슬롯 n-K1,k) 및 집합 R의 각 행의 K0 값들로 결정된 슬 롯 각각에서 집합 R의 각 행에 속한 시작 심볼 및 길이 정보(SLIV)에 해당하는 심볼이 상위 계층에서 상향링크 로 설정된 심볼과 겹치면, 상기 행은 집합 R에서 제외될 수 있다. 각 행의 K0 값들로 결정된 슬롯들은 슬롯 n- K1,k-Delta_Ki (i=0,1,..,행의 스케줄링 정보의 수-1)이고, Delta_Ki = K0_max - K0_i이다. 여기서 K0_i는 복 수의 스케줄링 정보의 i번째 K0 값이고, K0_max는 마지막 스케줄링 정보의 K0 값(가장 큰 K0 값)이다. - 단계 3-1 (단말이 한 슬롯에 최대 하나의 unicast PDSCH를 수신 받을 수 있는 단말 능력(UE capability)만 있는 경우): 상기 결정된 집합 R이 공집합이 아니면 집합 MA,c에 새로운 PDSCH 수신 후보 기회로 j를 추가한다. 집합 R의 PDSCH 후보들 중 하나를 수신하게 되면, 단말은 상기 PDSCH의 HARQ-ACK을 상기 새로운 PDSCH 후보 기 회 j에 위치시킬 수 있다. j를 1 증가 시킨다. - 단계 3-2 (단말이 한 슬롯에 하나보다 많은 unicast PDSCH를 수신 받을 수 있는 단말 능력이 있는 경우) 상기 결정된 집합 R의 마지막 스케줄링 정보만 모아서 집합 R'을 생성한다. 집합 R'의 가장 앞서 끝나는 SLIV와 그 SLIV와 시간 상 겹치는 SLIV들을 위하여 집합 MA,c에 새로운 PDSCH 수신 후보 기회로 j를 추가한다. 상기 SLIV를 가진 PDSCH 후보들 중 하나를 수신하게 되면, 단말은 상기 PDSCH의 HARQ-ACK을 상기 새로운 PDSCH 후보 기회 j에 위치시킬 수 있다. j를 1 증가 시킨다. 집합 R'에서 상기 SLIV들은 제외한다. 단계 3-2는 집합 R'이 공집합 일때까지 반복된다. - 단계 4: k를 1 증가시킨다. 만약 k가 K1 집합의 크기(cardinality) 보다 작으면 단계 2부터 다시 시작하고, K1 집합의 크기(cardinality)보다 같거나 크면 pseudo-code 4은 종료한다. [pseudo-code 4 끝] 도 17은 본 개시의 실시 예에 따른 복수의 슬롯에서 반복 수신되는 PDSCH에 대해 time-domain bundling을 설정/ 적용하여 HARQ-ACK 코드북을 생성하는 pseudo-code를 설명하기 위한 일례를 도시한 도면이다. 상술된 pseudo code 4을 도 17을 예시로 설명한다. 슬롯 n에서 HARQ-ACK 정보를 포함한 PUCCH 전송이 수행될 수 있다. 일례로, 상기 HARQ-ACK 정보는 Type-1 HARQ-ACK 코드북 형태로 생성될 수 있다. 상술한 표 28과 같이, 단말은 복수의 스케줄링 정보로 구성된 행을 가진 TDRA 테이블을 설정 받을 수 있다. 단말은 상기 K1 값과 상기 집합 R을 기초로 PDSCH 수신 후보 기회 MA,c를 결정할 수 있다. 도 17을 참조하여, pseudo code 4은 다음과 같이 해석될 수 있다. 이후 설명에서 단말은 한 슬롯에서 하나보다 많은 unicast PDSCH 를 수신 받을 수 있는 단말 능력이 있다고 가정한다. - 단계 0: MA,c를 공집합으로 초기화. k를 0으로 초기화. j를 0으로 초기화. - 단계 1: 설정된 K1 집합에서 k=0번째 큰 K1 값을 선택한다. 상기 K1 값을 K1,0=3이다. - 단계 2: 만약, 집합 R의 행의 K1,k 값에 해당하는 슬롯(e.g., 슬롯 n-3) 및 집합 R의 각 행의 K0 값들로 결 정된 슬롯 각각에서 집합 R의 각 행에 속한 시작 심볼 및 길이 정보(SLIV)에 해당하는 심볼이 상위 계층에서 상 향링크로 설정된 심볼과 겹치면, 상기 행은 집합 R에서 제외될 수 있다. 각 행의 K0 값들로 결정된 슬롯들은 슬 롯 n- K1,k-Delta_Ki (i=0,1,..,행의 스케줄링 정보의 수-1)이고, Delta_Ki = K0_max - K0_i이다. 여기서 K0_i는 복수의 스케줄링 정보의 i번째 K0 값이고, K0_max는 마지막 스케줄링 정보의 K0 값(가장 큰 K0 값)이다. 첫번째 행에 대하여 K0_0=0, K0_1=1이므로 Delta_K0=1이고 Delta_K1=0 이다. 따라서 슬롯 (n-3)-(Delta_K0) = 슬롯 n-4와 슬롯 (n-3)-(Delta_K1) = 슬롯 n-3 각각에서 첫번째 행의 두 스케줄링 정보에 따른 두 SLIV가 모두 반정적 상향링크 심볼과 겹치지 않으므로 상기 첫번째 행은 집합 R에 제외되지 않을 수 있다. 두번째 행에 대하여 K0_0=0, K0_1=2이므로 Delta_K0=2이고 Delta_K1=0이다. 따라서 슬롯 (n-3)-(Delta_K0) = 슬 롯 n-5와 슬롯 (n-3)-(Delta_K1) = 슬롯 n-3 각각에서 두번째 행의 두 스케줄링 정보에 따른 두 SLIV 중 두번째 SLIV가 반정적 상향링크 심볼과 겹치지만, 첫번째 SLIV는 반정적 상향링크 심볼과 겹치지 않으므로 상기 두번째 행은 집합 R에 제외되지 않을 수 있다. 세번째 행에 대하여 K0_0=0, K0_1=1이므로 Delta_K0=1이고 Delta K1=0이다. 따라서 슬롯 (n-3)-(Delta_K0) = 슬 롯 n-4와 슬롯 (n-3)-(Delta_K1) = 슬롯 n-3 각각에서 세번째 행의 두 스케줄링 정보에 따른 두 SLIV 중 두번째 SLIV가 반정적 상향링크 심볼과 겹치지만, 첫번째 SLIV는 반정적 상향링크 심볼과 겹치지 않으므로 상기 세번째 행은 집합 R에 제외되지 않을 수 있다. 따라서, 집합 R에는 행 1, 행 2, 행 3이 포함될 수 있다. - 단계 3-2 (단말이 한 슬롯에 하나보다 많은 unicast PDSCH를 수신 받을 수 있는 단말 능력이 있는 경우): ● 상기 결정된 집합 R의 마지막 스케줄링 정보만 모아서 집합 R'을 생성한다. R'의 행 1은 SLIV 1_2를 포함하 고, 행 2는 SLIV 2_2를 포함하고, 행 3은 SLIV 3_2를 포함한다. 상기 결정된 집합 R'에서 가장 앞서 끝나는 SLIV와 그 SLIV와 시간 상 겹치는 SLIV들을 위하여 집합 MA,c에 새로운 PDSCH 수신 후보 기회로 j=0를 추가한다. 여기서 가장 앞서 끝나는 SLIV는 행 1의 SLIV 1_2 (0,4)이고, 상기 SLIV와 겹치는 SLIV는 행 3의 SLIV 3_2 (0,14)이다. 따라서, MA,c에 j=0을 추가하고, 단말은 행 1의 SLIV 1_2 (0,4) 또는 행 3의 SLIV 3_2 (0,14)로 스 케줄링된 PDSCH를 수신하면, 상기 PDSCH의 HARQ-ACK을 type-1 HARQ-ACK 코드북에서 첫번째 (j=0) MA,c에 해당하 는 위치에 포함할 수 있다. ● 여기서 함께 스케줄링된 PDSCH들의 HARQ-ACK들은 bundling된다. 예를 들어, 단말은 행 1의 SLIV 1_2 (0,4) 로 스케줄링된 PDSCH를 수신하면, 상기 PDSCH의 HARQ-ACK과 상기 PDSCH와 함께 스케줄링되는 SLIV 1_1 (0,4)로 스케줄링된 PDSCH의 HARQ-ACK은 번들링된다. 예를 들어, 단말은 행 3의 SLIV 3_2 (0,14)로 스케줄링된 PDSCH를 수신하면, 상기 PDSCH의 HARQ-ACK과 상기 PDSCH와 함께 스케줄링되는 SLIV 3_1 (7,7)로 스케줄링된 PDSCH의 HARQ-ACK은 번들링된다. 만약, 일부 PDSCH가 반정적 상향링크와 겹칠 경우, 상기 PDSCH의 HARQ-ACK은 번들링 과 정에서 제외된다. 예를 들어, SLIV 3_2 (0,14)는 반정적 상향링크 심볼과 겹치므로 상기 SLIV 3_2에 대응하는 PDSCH의 HARQ-ACK은 번들링 과정에서 제외된다. ● j를 1 증가 시켜서 j=1이된다. 집합 R'에서 상기 행 1, 행 3의 SLIV들은 제외되어 R' = {2}이다. 집합 R이 공집합이 아니므로, 단계 3-2는 반복된다. ● 상기 결정된 집합 R'에서 가장 앞서 끝나는 SLIV와 그 SLIV와 시간 상 겹치는 SLIV들을 위하여 집합 MA,c에 새로운 PDSCH 수신 후보 기회로 j=1를 추가한다. 여기서 가장 앞서 끝나는 SLIV는 행 2의 SLIV 2_2 (7,7)이고, 상기 SLIV와 겹치는 SLIV는 없다. 따라서, MA,c에 j=1을 추가하고, 단말은 행 2의 SLIV 2_2 (7,7) 로 스케줄링된 PDSCH를 수신하면, 상기 PDSCH의 HARQ-ACK을 type-1 HARQ-ACK 코드북에서 두번째 (j=1) MA,c에 해당하는 위치에 포함할 수 있다. ● 여기서 함께 스케줄링된 PDSCH들의 HARQ-ACK들은 bundling된다. 예를 들어, 단말은 행 2의 SLIV 2_2 (7,7) 로 스케줄링된 PDSCH를 수신하면, 상기 PDSCH의 HARQ-ACK과 상기 PDSCH와 함께 스케줄링되는 SLIV 2_1 (0,7)로 스케줄링된 PDSCH의 HARQ-ACK은 번들링된다. 만약, 일부 PDSCH가 반정적 상향링크와 겹칠 경우, 상기 PDSCH의 HARQ-ACK은 번들링과정에서 제외된다. 예를 들어, SLIV 2_2 (7,7)는 반정적 상향링크 심볼과 겹치므로 상기 SLIV 2_2에 대응하는 PDSCH의 HARQ-ACK은 번들링 과정에서 제외된다. ● j를 1 증가 시켜서 j=2이된다. 집합 R'에서 상기 행 2의 SLIV들은 제외되어 R'는 공집합이다. 집합 R'이 공 집합이므로, 단계 3-2는 종료된다. - 단계 4: k를 1 증가시켜 k=1이 된다. k=1은 K1 집합의 크기(cardinality)인 1과 같으므로 pseudo-code 4은 종료한다. 따라서 도 17을 참조하여, 단말은 2개의 PDSCH 수신 후보 기회 j=0, j=1인 MA,c를 결정할 수 있다. Type-1 HARQ- ACK 코드북의 크기는 PDSCH 수신 후보 기회의 수에 따라서 결정될 수 있다. PDSCH 수신 후보 기회당 실제 bits 수는 각 PDSCH가 포함하는 전송블록(transport block)의 수, 각 PDSCH가 포함하는 코드블록그룹(code block group, CBG)의 수, 내지 공간 번들링(spatial bundling)등 설정에 따라서 결정될 수 있다. 상술한 단일 PDSCH 수신 및 multi-PDSCH 수신을 위한 Type-1 HARQ-ACK 코드북을 위한 psuedo-code는 3GPP 표준 문서 TS38.213의 9.1.2.1에 서술되어 있다. 본 개시에서는 설명을 위하여 상기 표준 문서의 v17.0.0의 pseudo- code를 기준으로 설명한다. Pseudo-code는 표 30과 같다. [표 30]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 32, "content": "<Multi-PDSCH 수신, 시간-도메인 번들링 및 PDSCH 반복 수신을 위한 Type-1 HARQ-ACK CB> 앞서, Multi-PDSCH 수신을 위한 Type-1 HARQ-ACK 코드북 생성방법 및 Multi-PDSCH 수신 및 시간 도메인 번들링 을 위한 Type-1 HARQ-ACK 코드북 생성방법에서 PDSCH 반복 수신은 고려되지 않았다. 본 개시에서는 단말에게 Multi-PDSCH 수신 및 PDSCH 반복 수신이 설정될 때, Type-1 HARQ-ACK 코드북 생성 방 법에 대하여 대룬다. 특별한 언급이 없으면 이후 설명에서 시간-도메인 번들링이 설정되어 있다고 가정할 수 있 다. 상술했듯이, 단말은 multi-PDSCH 스케줄링을 위한 TDRA 테이블 설정 정보인 'PDSCH-Config includes pdsch- TimeDomainAllocationListForMultiPDSCH-r17'를 설정받으면, 상기 'PDSCH-Config includes pdsch- TimeDomainAllocationListForMultiPDSCH-r17'을 DCI format 1_1에 적용할 수 있다. 하지만, 상기 'PDSCH- Config includes pdsch-TimeDomainAllocationListForMultiPDSCH-r17'를 DCI format 1_0 내지 DCI format 1_2 에는 적용할 수 없다. 따라서, DCI format 1_0과 DCI format 1_2는 Multi-PDSCH 스케줄링에 사용될 수 없다. 또한, 상술했듯이 단말이 'pdsch-AggregationFactor in pdsch-config' 또는 'pdsch-AggregationFactor in sps- Config'이 설정될 경우, DCI format 1_1 내지 DCI format 1_2로 스케줄링된 PDSCH는 상기 설정에 따라서 복수 의 슬롯에서 반복 수신될 수 있다. 하지만, DCI format 1_1에 Multi-PDSCH 스케줄링 (PDSCH-Config includes pdsch-TimeDomainAllocationListForMultiPDSCH-r17)이 설정될 경우, 상기 'pdsch-AggregationFactor in pdsch-config'와 ''pdsch-AggregationFactor in sps-Config'은 DCI format 1_2에서만 적용된다. 즉, DCI format 1_1으로 스케줄링된 PDSCH는 상기 설정을 무시하여 반복 수신되지 아니하고, DCI format 1_2로 스케줄링 된 PDSCH는 상기 설정에 따라 반복 수신될 수 있다. 따라서, Type-1 HARQ-ACK 코드북은 DCI format 1_0으로 스케줄링되는 하나의 슬롯에서 PDSCH 수신, DCI format 1_0으로 스케줄링되는 복수의 슬롯에서 서로 다른 TB를 전달하는 PDSCH 수신, DCI format 1_2으로 스케줄링되는 복수의 슬롯에서 동일한 TB를 전달하는 PDSCH 수신의 HARQ-ACK 정보를 포함할 필요가 있다. 이를 위한 방법이 개시된다. 이후 설명에서 별 다른 언급이 없으면 집합 R은 모든 DCI format의 TDRA 테이블들의 행들의 합집합을 의미할 수 있다. [방법 1: 집합 R의 행의 SLIV가 어느 DCI format의 TDRA 테이블에 속했는지 판정을 기초로 Repetition 수 차등 적용] 본 개시의 일 방법으로 단말은 집합 R의 각 행의 SLIV가 어떤 DCI format의 TDRA 테이블에 속해있는지 판정할 수 있다. 단말은 상기 판정을 기초로 각 행의 SLIV에 적용할 반복 수 (e.g., NPDSCHmax)를 결정할 수 있다. 단말은 상기 반복 수를 기초로 집합 R에서 상기 행이 제외될지 여부를 판정할 수 있다. 일례로, 상기 제외될지 여부를 판정할 때, 반정적 상향링크 심볼을 기초로 할 수 있다. 구체적으로 예로, 단일 스케줄링 정보만 포함한 TDRA 테이블인 표 31과 복수 스케줄링 정보를 포함한 TDRA 테이 블인 표 32을 기초로 설명한다. 표 31 및 표 32는 설명의 편의를 위한 일례일 뿐, 본 개시의 기술적 범위를 제 한하는 것은 아니다. 따라서, 각 TDRA 테이블의 행 구성 및 값들이 달라질 수 있다. 단말의 제 3 DCI format은 표 31과 같은 TDRA 테이블의 2개의 행을 포함할 수 있다. 또한 단말의 제 4 DCI format은 표 32와 같이 TDRA테 이블의 3개 행을 포함할 수 있다. 참고로, 상기 제 3 DCI format은 Multi-PDSCH 스케줄링을 지원하지 않는 DCI format이고, 상기 제 4 DCI format은 Multi-PDSCH 스케줄링을 지원하는 DCI format이다. 제 3 DCI format에는 PDSCH 반복 수신이 적용될 수 있다. 즉, 단말이 제 3 DCI format으로 스케줄링된 PDSCH를 반복하여 NPDSCHmax 슬롯에서 수신할 수 있다. 하지만, 제 4 DCI format에는 PDSCH 반복 수신이 적용될 수 없다. 즉, 단말은 제 4 DCI format으로 스케줄링된 PDSCH는 반복하여 수신하지 않는다. 이는 제 4 DCI format에서 단 일 스케줄링 정보를 가진 행(e.g., 표 32의 인덱스 3)에도 적용된다. 단말은 상기 TDRA 테이블들의 합집합으로 표 33을 생성할 수 있다. 참고로, 표 31의 행 2와 표 32의 행 3은 동 일한 SLIV와 동일한 K0 값을 포함하므로 동일한 인덱스로 표현되었다. 여기서 인덱스는 새롭게 매겨졌다. [표 31]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 33, "content": "[표 32]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 34, "content": "[표 33]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 35, "content": "단말은 상기 TDRA 데이블들의 합집합의 인덱스들로 구성된 집합 R을 생성할 수 있다. 즉, 집합 R은 {1,2,3,4}로 구성될 수 있다. 단말은 각 인덱스의 스케줄링 정보(들)이 어떤 DCI format에 속한지 판정할 수 있다. 예를 들어, 인덱스 1의 경 우, 제 4 DCI format의 TDRA 테이블에 속한 것을 판정할 수 있다. 인덱스 2의 경우, 제 4 DCI format의 TDRA 테이블에 속한 것을 판정할 수 있다. 인덱스 3의 경우, 제 3 DCI format의 TDRA 테이블과 제 4 DCI format의 TDRA 테이블에 속한 것을 판정할 수 있다. 인덱스 4의 경우, 제 3 DCI format의 TDRA 테이블에 속한 것을 판정 할 수 있다. 단말이 집합 R의 행이 제 4 DCI format에만 속했다고 판정하면, NPDSCHmax=1이라고 결정될 수 있다. NPDSCHmax=1이라 는 것은 PDSCH를 반복하여 수신하지 않는다는 것을 의미한다. 단말이 집합 R의 행이 제 3 DCI format에 속했다고 판정하면, NPDSCHmax는 pdsch-AggregationFactor를 기초로 결 정될 수 있다. 단말이 NPDSCHmax를 결정하는 방법은 다음과 같다. 예를 들어, 만약 단말이 'pdsch- AggregationFactor in PDSCH-Config'을 설정 받았다면, 단말은 NPDSCHmax로 'pdsch-AggregationFactor in PDSCH- Config'의 값을 사용할 수 있다. 만약 단말이 'pdsch-AggregationFactor-r16 in SPS-Config'를 설정 받았다면, 단말은 NPDSCHmax로 'pdsch-AggregationFactor-r16 in SPS-Config'의 값을 사용할 수 있다. 만약 단말이 'pdsch- AggregationFactor in PDSCH-Config'과 'pdsch-AggregationFactor-r16 in SPS-Config' 둘다 설정 받았다면, 단말은 NPDSCHmax로 'pdsch-AggregationFactor in PDSCH-Config'의 값과 'pdsch-AggregationFactor-r16 in SPS- Config'의 값 중 더 큰 값을 사용할 수 있다. 참고로, 집합 R의 행이 제 3 DCI format과 제 4 DCI format 둘 다에 속할 수 있다. 예를 들어, 표 33의 행 3은 제 3 DCI format과 제 4 DCI format 둘 다에 속할 수 있다. 이 경우, 단말은 구한 NPDSCHmax 중 큰 값을 NPDSCHmax로 사용할 수 있다. 다시 말해서 제 3 DCI format의 NPDSCHmax 값을 사용할 수 있다. 본 개시의 설명에서 단말은 2개의 DCI format을 가정하였으나 상기 DCI format은 2개 이상으로 확장될 수 있다. 이 경우에도, 단말은 집합 R의 행이 어떤 DCI format에 속했는지, 그리고 각 DCI format의 NPDSCHmax 값을 구할 수 있다. 예를 들어, 제 3 DCI format은 DCI format 1_1을 포함할 수 있고, 제 4 DCI format은 DCI format 1_0 내지 DCI format 1_2를 포함할 수 있다. 또 다른 예로, 제 3 DCI format은 DCI format 1_0 내지 DCI format 1_1을 포함할 수 있고, 제 4 DCI format은 DCI format 1_2를 포함할 수도 있다. [pseudo-code 5: (multi-PDSCH 스케줄링, time-domain bundling 설정, PDSCH 반복 수신 설정 - 방법1)] - 준비 단계: 집합 R은 TDRA(time domain resource assignment) 테이블에 설정된 복수의 스케줄링 정보(PDSCH 가 매핑되는 슬롯 정보(이하 K0값), 시작 심볼 및 길이 정보(이하 SLIV(starting and length value))들로 구성 된 집합이다. 만약 단말이 하나 이상의 DCI format들을 모니터링하고, 상기 DCI format들이 서로 다른 TDRA 테 이블을 사용할 경우, 상기 집합 R은 모든 TDRA 테이블을 기초로 생성된다. - 단계 0: MA,c를 공집합으로 초기화. k를 0으로 초기화. j를 0으로 초기화. - 단계 1: 설정된 K1 집합에서 k번째 큰 K1 값을 선택한다. (예를 들어, k=0이면 K1 집합에서 가장 큰 K1 값을 선택하고, k=1이면 K1 집합에서 두번째로 큰 K1 값을 선택한다.) 상기 K1 값을 K1,k라고 한다. - 단계 2: 행이 다음 두 조건에따라 집합 R에서 제외될 수 있다. 조건 1) 만약, 집합 R의 행이 제 3 DCI format에 속해 있으면, 집합 R의 행의 K1,k 값에 해당하는 슬롯(슬롯 n- K1,k)으로부터 이전 NPDSCHmax개의 슬롯들 (슬롯 n-K1,k-(NPDSCHmax-1), 슬롯 n-K1,k-(NPDSCHmax-1)+1,..., 슬롯 n-K1,k) 각 각에서 집합 R의 각 행에 속한 시작 심볼 및 길이 정보(SLIV)에 해당하는 심볼이 상위 계층에서 상향링크로 설 정된 심볼과 겹치면 상기 행을 집합 R에서 제외할 수 있다. 여기서 NPDSCHmax는 pdsch-AggregationFactor를 기초로 결정된 값이다. 조건 2) 앞전 조건 1을 만족하지 않으면(즉, 행이 제 4 DCI format에 속해 있으면), 집합 R의 행의 K1,k 값에 해 당하는 슬롯(슬롯 n-K1,k) 및 집합 R의 각 행의 K0 값들로 결정된 슬롯 각각에서 집합 R의 각 행에 속한 시작 심 볼 및 길이 정보(SLIV)에 해당하는 심볼이 상위 계층에서 상향링크로 설정된 심볼과 겹치면, 상기 행은 집합 R 에서 제외할 수 있다. 각 행의 K0 값들로 결정된 슬롯들은 슬롯 n-K1,k-Delta_Ki (i=0,1,..,행의 스케줄링 정보 의 수-1)이고, Delta_Ki = K0_max - K0_i이다. 여기서 K0_i는 복수의 스케줄링 정보의 i번째 K0 값이고, K0_max 는 마지막 스케줄링 정보의 K0 값(가장 큰 K0 값)이다. - 단계 3-1 (단말이 한 슬롯에 최대 하나의 unicast PDSCH를 수신 받을 수 있는 단말 능력(UE capability)만 있는 경우): 상기 결정된 집합 R이 공집합이 아니면 집합 MA,c에 새로운 PDSCH 수신 후보 기회로 j를 추가한다. 집합 R의 PDSCH 후보들 중 하나를 수신하게 되면, 단말은 상기 PDSCH의 HARQ-ACK을 상기 새로운 PDSCH 후보 기 회 j에 위치시킬 수 있다. j를 1 증가 시킨다. - 단계 3-2 (단말이 한 슬롯에 하나보다 많은 unicast PDSCH를 수신 받을 수 있는 단말 능력이 있는 경우) 상기 결정된 집합 R의 마지막 스케줄링 정보만 모아서 집합 R'을 생성한다. 집합 R'의 가장 앞서 끝나는 SLIV와 그 SLIV와 시간 상 겹치는 SLIV들을 위하여 집합 MA,c에 새로운 PDSCH 수신 후보 기회로 j를 추가한다. 상기 SLIV를 가진 PDSCH 후보들 중 하나를 수신하게 되면, 단말은 상기 PDSCH의 HARQ-ACK을 상기 새로운 PDSCH 후보 기회 j 에 위치시킬 수 있다. j를 1 증가 시킨다. 집합 R'에서 상기 SLIV들은 제외한다. 단계 3-2는 집합 R'이 공집합 일때까지 반복된다. - 단계 4: k를 1 증가시킨다. 만약 k가 K1 집합의 크기(cardinality) 보다 작으면 단계 2부터 다시 시작하고, K1 집합의 크기(cardinality)보다 같거나 크면 pseudo-code 5은 종료한다. [pseudo-code 5 끝] 본 개시의 상기 방법 1에 따른 Pseudo-code는 표 34 내지 표 35와 같을 수 있다. [표 34] [표 35]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 36, "content": "[방법 2: 집합 R의 행의 SLIV의 수에 따라 Repetition 수 차등 적용] 본 개시의 일 방법으로 단말은 집합 R의 각 행의 SLIV의 수를 판정할 수 있다. 단말은 상기 판정을 기초로 각 행의 SLIV에 적용할 반복 수 (e.g., NPDSCHmax)를 결정할 수 있다. 단말은 상기 반복 수를 기초로 집합 R에서 상기 행이 제외될지 여부를 판정할 수 있다. 일례로, 상기 제외될지 여부를 판정할 때, 반정적 상향링크 심볼을 기초 로 할 수 있다. 구체적인 예로, 단일 스케줄링 정보만 포함한 TDRA 테이블인 표 31과 복수 스케줄링 정보를 포함한 TDRA 테이블 인 표 32을 기초로 설명한다. 단말의 제 3 DCI format은 표 31과 같은 TDRA 테이블의 2개의 행을 포함할 수 있 다. 또한 단말의 제 4 DCI format은 표 32와 같이 TDRA테이블의 3개 행을 포함할 수 있다. 제 3 DCI format에는 PDSCH 반복 수신이 적용될 수 있다. 즉, 단말이 제 3 DCI format으로 스케줄링된 PDSCH를 반복하여 NPDSCHmax 슬롯에서 수신할 수 있다. 하지만, 제 4 DCI format에는 PDSCH 반복 수신이 적용될 수 없다. 즉, 단말은 제 4 DCI format으로 스케줄링된 PDSCH는 반복하여 수신하지 않는다. 이는 제 4 DCI format에 단일 스케줄링 정보를 가진 행에도 적용된다. 단말은 상기 TDRA 테이블들의 합집합으로 표 33을 생성할 수 있다. 단말은 상기 TDRA 테이블들의 합집합의 인덱 스들로 구성된 집합 R을 생성할 수 있다. 즉, 집합 R은 {1,2,3,4}로 구성될 수 있다. 단말은 각 인덱스의 스케줄링 정보(들)(e.g., SLIV)의 수를 판정할 수 있다. 예를 들어, 인덱스 1의 경우, 2개 의 스케줄링 정보가 포함된다고 판정할 수 있다. 인덱스 2의 경우, 2개의 스케줄링 정보가 포함된다고 판정할 수 있다. 인덱스 3의 경우, 하나의 스케줄링 정보가 포함된다고 판정할 수 있다. 인덱스 4의 경우, 하나의 스케 줄링 정보가 포함된다고 판정할 수 있다. 단말은 집합 R의 각 행에 포함된 스케줄링 정보의 개수에 기반하여 반복 수 (e.g., NPDSCHmax)를 결정할 수 있다. 단말이 집합 R의 행에 둘 이상의 스케줄링 정보가 속했다고 판정하면, NPDSCHmax=1이라고 결정될 수 있다. NPDSCHmax=1이라는 것은 PDSCH를 반복하여 수신하지 않는다는 것을 의미한다. 단말이 집합 R의 행에 하나의 스케줄링 정보가 속했다고 판정하면, NPDSCHmax는 pdsch-AggregationFactor를 기초로 결정될 수 있다. 단말이 NPDSCHmax를 결정하는 방법은 다음과 같다. 예를 들어, 만약 단말이 pdsch- AggregationFactor in PDSCH-Config을 설정 받았다면, 단말은 NPDSCHmax로 pdsch-AggregationFactor in PDSCH- Config의 값을 사용할 수 있다. 만약 단말이 pdsch-AggregationFactor-r16 in SPS-Config를 설정 받았다면, 단 말은 NPDSCHmax로 pdsch-AggregationFactor-r16 in SPS-Config의 값을 사용할 수 있다. 만약 단말이 pdsch- AggregationFactor in PDSCH-Config과 pdsch-AggregationFactor-r16 in SPS-Config 둘다 설정 받았다면, 단말 은 NPDSCHmax로 pdsch-AggregationFactor in PDSCH-Config의 값과 pdsch-AggregationFactor-r16 in SPS-Config의 값 중 더 큰 값을 사용할 수 있다. [pseudo-code 6: (multi-PDSCH 스케줄링, time-domain bundling 설정, PDSCH 반복 수신 설정 - 방법2)] - 준비 단계: 집합 R은 TDRA(time domain resource assignment) 테이블에 설정된 복수의 스케줄링 정보(PDSCH 가 매핑되는 슬롯 정보(이하 K0값), 시작 심볼 및 길이 정보(이하 SLIV(starting and length value))들로 구성 된 집합이다. 만약 단말이 하나 이상의 DCI format들을 모니터링하고, 상기 DCI format들이 서로 다른 TDRA 테 이블을 사용할 경우, 상기 집합 R은 모든 TDRA 테이블을 기초로 생성된다. - 단계 0: MA,c를 공집합으로 초기화. k를 0으로 초기화. j를 0으로 초기화. - 단계 1: 설정된 K1 집합에서 k번째 큰 K1 값을 선택한다. (예를 들어, k=0이면 K1 집합에서 가장 큰 K1 값을 선택하고, k=1이면 K1 집합에서 두번째로 큰 K1 값을 선택한다.) 상기 K1 값을 K1,k라고 한다. - 단계 2: 행이 다음 두 조건에따라 집합 R에서 제외될 수 있다. 조건 1) 만약, 집합 R의 행이 하나의 스케줄링 정보를 포함하면, 집합 R의 행의 K1,k 값에 해당하는 슬롯(슬롯 n-K1,k)으로부터 이전 NPDSCHmax개의 슬롯들 (슬롯 n-K1,k-(NPDSCHmax-1), 슬롯 n-K1,k-(NPDSCHmax-1)+1,..., 슬롯 n-K1,k) 각각에서 집합 R의 각 행에 속한 시작 심볼 및 길이 정보(SLIV)에 해당하는 심볼이 상위 계층에서 상향링크로 설정된 심볼과 겹치면 상기 행을 집합 R에서 제외할 수 있다. 여기서 NPDSCHmax는 pdsch-AggregationFactor를 기 초로 결정된 값이다. 조건 2) 앞전 조건 1을 만족하지 않으면(즉, 행이 복수의 스케줄링 정보를 포함하면), 집합 R의 행의 K1,k 값에 해당하는 슬롯(슬롯 n-K1,k) 및 집합 R의 각 행의 K0 값들로 결정된 슬롯 각각에서 집합 R의 각 행에 속한 시작 심볼 및 길이 정보(SLIV)에 해당하는 심볼이 상위 계층에서 상향링크로 설정된 심볼과 겹치면, 상기 행은 집합 R에서 제외할 수 있다. 각 행의 K0 값들로 결정된 슬롯들은 슬롯 n-K1,k-Delta_Ki (i=0,1,..,행의 스케줄링 정 보의 수-1)이고, Delta_Ki = K0_max - K0_i이다. 여기서 K0_i는 복수의 스케줄링 정보의 i번째 K0 값이고, K0_max는 마지막 스케줄링 정보의 K0 값(가장 큰 K0 값)이다. - 단계 3-1 (단말이 한 슬롯에 최대 하나의 unicast PDSCH를 수신 받을 수 있는 단말 능력(UE capability)만 있는 경우): 상기 결정된 집합 R이 공집합이 아니면 집합 MA,c에 새로운 PDSCH 수신 후보 기회로 j를 추가한다. 집합 R의 PDSCH 후보들 중 하나를 수신하게 되면, 단말은 상기 PDSCH의 HARQ-ACK을 상기 새로운 PDSCH 후보 기 회 j에 위치시킬 수 있다. j를 1 증가 시킨다.- 단계 3-2 (단말이 한 슬롯에 하나보다 많은 unicast PDSCH를 수신 받을 수 있는 단말 능력이 있는 경우) 상기 결정된 집합 R의 마지막 스케줄링 정보만 모아서 집합 R'을 생성한다. 집합 R'의 가장 앞서 끝나는 SLIV와 그 SLIV와 시간 상 겹치는 SLIV들을 위하여 집합 MA,c에 새로운 PDSCH 수신 후보 기회로 j를 추가한다. 상기 SLIV를 가진 PDSCH 후보들 중 하나를 수신하게 되면, 단말은 상기 PDSCH의 HARQ-ACK을 상기 새로운 PDSCH 후보 기회 j 에 위치시킬 수 있다. j를 1 증가 시킨다. 집합 R'에서 상기 SLIV들은 제외한다. 단계 3-2는 집합 R'이 공집합 일때까지 반복된다. - 단계 4: k를 1 증가시킨다. 만약 k가 K1 집합의 크기(cardinality) 보다 작으면 단계 2부터 다시 시작하고, K1 집합의 크기(cardinality)보다 같거나 크면 pseudo-code 6은 종료한다. [pseudo-code 6 끝] 상술한 방법 2에 따른 Pseudo-code는 표 36과 같을 수 있다. [표 36]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 37, "content": "[방법 3: NPDSCHmax를 고려한 집합 R 생성] 본 개시의 일 방법으로 단말은 집합 R 생성을 때, NPDSCHmax를 고려하여 집합 R을 생성할 수 있다. 여기서 TDRA 테 이블의 행이 단일 스케줄링 정보를 포함하고 NPDSCHmax 에 따라 반복 수신 되면, 상기 행을 NPDSCHmax 개의 스케줄링 정보를 포함하는 것으로 간주하여 집합 R에 포함할 수 있다. 단말은 상기 집합 R을 기초하여 상술한 Pseudo- code로 Type-1 HARQ-ACK 코드북을 생성할 수 있다. 더 구체적으로, 단일 스케줄링 정보만 포함한 TDRA 테이블인 표 31과 복수 스케줄링 정보를 포함한 TDRA 테이블 인 표 32을 기초로 설명한다. 단말의 제 3 DCI format은 표 31과 같은 TDRA 테이블의 2개의 행을 포함할 수 있 다. 또한 단말의 제 4 DCI format은 표 32와 같이 TDRA테이블의 3개 행을 포함할 수 있다. 참고로, 상기 제 3 DCI format은 Multi-PDSCH 스케줄링을 지원하지 않는 DCI format이고, 상기 제 4 DCI format은 Multi-PDSCH 스케줄링을 지원하는 DCI format이다. 제 3 DCI format에는 PDSCH 반복 수신이 적용될 수 있다. 즉, 단말이 제 3 DCI format으로 스케줄링된 PDSCH를 반복하여 NPDSCHmax 슬롯에서 수신할 수 있다. 하지만, 제 4 DCI format에는 PDSCH 반복 수신이 적용될 수 없다. 즉, 단말은 제 4 DCI format으로 스케줄링된 PDSCH는 반복하여 수신하지 않는다. 이는 제 4 DCI format에 단일 스케줄링 정보를 가진 행에도 적용된다. 단일 스케줄링 정보만 포함한 TDRA 테이블인 표 31는 반복 수 NPDSCHmax에 따라 표 37과 같이 복수의 스케줄링 정 보를 가진 TDRA 테이블로 나타낼 수 있다. 여기서, 설명의 편의를 위해 NPDSCHmax=4를 가정하였다. 즉, 단일 스케 줄링 정보가 4개의 스케줄링 정보로 나타난다. 여기서, 첫번째 스케줄링 정보는 단일 스케줄링 정보와 동일하고, n번째 스케줄링 정보의 K0값은 첫번째 스케줄링 정보로부터 1씩 순차적으로 증가될 수 있다. 즉, 첫 번째 스케줄링 정보의 K0 값이 K0_0이면 n번째 스케줄링 정보의 K0값은 (K0_0)+n-1이다. 그리고 모든 스케줄링 정보의 SLIV는 단일 스케줄링 정보와 동일할 수 있다. [표 37]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 38, "content": "단말은 상기 TDRA 테이블들의 합집합(e.g., 표 32 및 표 37의 합집합)으로 표 38를 생성할 수 있다. 여기서 인 덱스는 새롭게 매겨졌다. [표 38]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 39, "content": "이미 표 38은 PDSCH 반복 수신이 고려되어 있다. 따라서, 단말은 상술한 기존의 Pseudo code 4를 이용하여 Type-1 HARQ-ACK CB를 생성할 수 있다. [방법 4: 집합 R의 하나의 SLIV를 PDSCH 반복 수신으로 가정] 앞선, 방법 2에서는 하나의 SLIV를 포함하는 행을 찾고, 상기 하나의 SLIV에 반복 수 (e.g., NPDSCHmax)를 적용하 여 상기 행을 집합 R에서 제외할지 결정하였다. 하지만, 상기 과정에서 단말은 하나의 SLIV를 포함하는 행을 찾 기 위한 추가적인 단말 복잡도가 필요하다. 또한 앞선 방법 1에서는 행이 제 3 DCI format에 포함되는지 아니면 제 4 DCI format에 포함되는지 판정하여야 한다. 만약 행이 제 3 DCI format에 포함될 경우, 단말은 상기 행에 포함된 SLIV에 반복 수 (e.g., NPDSCHmax)를 적용하여 상기 행을 집합 R에서 제외할지 결정하였다. 참고로, 제 3 DCI format에 포함될 경우 상기 행은 하나의 SLIV를 포함할 수 있다. 여기서, 상기 과정은 단말이 각 행이 제 3 DCI format에 포함되는지 또는 제 4 DCI format에 포함되는지 결정하기 위하여 추가적인 단말 복잡도가 필요하 다. 상기 제 1 방법 내지 제 2 방법에서 추가적인 단말 복잡도는 단말 구현에 있어서 비용 증가를 초래할 수 있으므 로, 이를 해결할 수 있는 방법이 필요하다. 본 개시의 일 방법으로 단말은 행이 하나 또는 복수의 SLIV를 포함할 때, 상기 하나 또는 복수의 SLIV 중 하나 의 SLIV를 선택할 수 있다. 단말은 상기 하나의 SLIV가 PDSCH 반복 수신 스케줄링에 따라서 수신 가능한지 여부를 판단할 수 있다. 예를 들어, 제 1 조건으로 상기 하나의 SLIV가 PDSCH 반복 수신 스케줄링에 따라서 수신이 불가능하다고 판정할 수 있다. 여기서 상기 하나의 SLIV가 반복 수 (e.g., NPDSCHmax)의 슬롯에서 모두 반정적 상 향링크 심볼(semi-static UL symbol)과 겹칠 경우, 상기 하나의 SLIV는 PDSCH 반복 수신 스케줄링에 따라서 수 신이 불가능하다고 판정할 수 있다. 상기 제 1 조건의 판단을 기초로하여 상기 행을 집합 R에서 제외할지 결정 할 수 있다. 본 개시의 일 방법으로 단말은 행이 하나 또는 복수의 SLIV를 포함할 때, 상기 하나 또는 복수의 SLIV들이 multi-PDSCH 스케줄링에 따라서 수신 가능한지 여부를 판단할 수 있다. 예를 들어, 제 2 조건으로 상기 하나 또 는 복수의 SLIV가 수신되는 슬롯에서 상기 하나 또는 복수의 SLIV가 반정적 상향링크 심볼(semi-static UL symbol)과 겹칠 경우, 상기 하나 또는 복수의 SLIV는 multi-PDSCH 스케줄링에 따라서 수신이 불가능하다고 판정 할 수 있다. 상기 제 2 조건의 판단을 기초로하여 상기 행을 집합 R에서 제외할지 결정할 수 있다. 본 개시의 일 방법으로, 단말은 상기 앞선 제 1 조건과 제 2 조건을 기초로하여 상기 행을 집합 R에서 제외할지 결정할 수 있다. 즉, 제 1 조건에서 PDSCH 반복 수신 스케줄링에 따라서 수신이 불가능하다고 판단하고 제 2 조 건에 따라서 multi-PDSCH 스케줄링에 따라서 수신이 불가능하다고 판단할 경우, 상기 행을 집합 R에서 제외할 수 있다. 다시 말해서, 두 조건이 모두 만족하여야 상기 행을 집합 R에서 제외할 수 있다. 만약 하나의 조건을 만족하지 않더라도 다른 조건을 만족하는 경우 상기 행을 집합 R에서 제외하지 않을 수 있다. 앞서 제 1 방법 내지 제 2 방법과 상기 일 방법의 가장 큰 차이는, PDSCH 반복 수신 스케줄링에 따라서 수신이 가능한지를 판정할때, 단말이 각 행에 어떤 수의 SLIV가 포함되어 있거나 어떤 DCI format에 포함되어 있는지 판정하지 않는다. 대신, 단말은 행이 포함하는 SLIV들 중 하나의 SLIV를 선택하고, 상기 SLIV를 제 1 방법의 제 3의 DCI format에 포함된 SLIV라고 간주하거나 제 2 방법의 하나의 SLIV라고 간주할 수 있다. 구체적인 예로, 단일 스케줄링 정보만 포함한 TDRA 테이블인 표 31과 복수 스케줄링 정보를 포함한 TDRA 테이블 인 표 32을 기초로 설명한다. 단말은 표 31의 행들과 표 32의 행들을 모아서 TDRA 테이블을 생성할 수 있다. 이 는 표 33과 같을 수 있다. 상기 TDRA 테이블의 행들의 인덱스의 집합이 집합 R일 수 있다. 즉, 집합 R = {1,2,3,4}로 구성될 수 있다. 여기서 인덱스는 하나의 예시로 단말에 의하여 매겨질 수 있다. 단말이 생성한 표 33의 행 1과 행 2는 복수의 SLIV를 포함하고, 행 3과 행 4는 하나의 SLIV를 포함한다. 앞서 살펴보았듯이, 복수의 SLIV는 multi-PDSCH 스케줄링에 사용될 수 있으며, 하나의 SLIV는 PDSCH 반복 수신에 사 용될 수 있다. 본 개시의 일 예에 따라, 단말의 복수의 SLIV를 가진 행(행 1 내지 행 2)에서 하나의 SLIV를 선택할 수 있다. 일 예로, 상기 하나의 SLIV는 복수의 SLIV중 가장 마지막 SLIV일 수 있다. 여기서 마지막은 스케줄링 정보의 순 서 중 가장 마지막일 수 있다. 또는, 여기서 마지막은 스케줄링되는 시간 상 가장 마지막일 수 있다. 즉, 상기 스케줄링 정보의 K0값이 가장 큰 스케줄링 정보의 SLIV일 수 있다. 본 개시의 일 예에 따라, 단말은 복수의 SLIV을 가진 행(행 1 내지 행2)에서 하나의 SLIV를 선택할 수 있고, 상 기 SLIV와 하나의 SLIV를 가진 행(행 3 내지 행 4)에서 하나의 SLIV를 모아서 새로운 TDRA 테이블을 생성할 수 있다. 상기 새로운 TDRA 테이블은 표 39와 같다. 참고로, 표 39는 마지막 스케줄링 정보가 선택되었다고 가정한 다. 참고로 상기 TDRA 테이블의 행들의 인덱스의 집합을 R_one 이라고 할 수 있다. 즉, 집합 R_one = {1,2,3, 4}로 구성될 수 있다. 참고로, 상기 집합 R과 상기 집합 R_one의 인덱스를 서로 대응될 수 있다. 다시 말해서, 집합 R의 인덱스 i의 행의 SLIV들중 하나의 선택된 SLIV가 집합 R의 인덱스 i의 행의 SLIV일 수 있다. [표 39] 본 개시의 일 예에 따라, 단말은 상기 하나의 SLIV를 모아서 만든 새로운 TDRA 테이블(e.g., 표 39)을 기초로 PDSCH 반복 수신을 적용할 수 있다. 즉, 상기 새로운 TDRA 테이블(e.g., 표 39)의 각 행의 하나의 SLIV에 NPDSCHmax 슬롯에서 수신한다고 가정할 수 있다. 만약 단말이 상기 하나의 SLIV가 NPDSCHmax 슬롯 중 적어도 하나의 슬롯에서 반정적 상향링크 심볼(semi-static UL symbol)과 겹치지 않을 경우, 상기 행은 집합 R에서 제외되지 않을 수 있다. 또한, 상기 행은 집합 R_one에서 제외되지 않을 수 있다. 본 개시의 일 예에 따라, 단말은 모든 스케줄링 정보를 모은 TDRA 테이블(e.g., 표 33)을 기초로 multi-PDSCH 수신을 적용할 수 있다. 즉, 상기 TDRA 테이블(e.g., 표 33)의 각 행의 하나 또는 복수의 SLIV들이 수신이 스케 줄링된 슬롯에서 수신한다고 가정할 수 있다. 만약 단말이 상기 하나 또는 복수의 SLIV들이 수신이 스케줄링된 슬롯 중 적어도 하나의 슬롯에서 반정적 상향링크 심볼(semi-static UL symbol)과 겹치지 않을 경우, 상기 행은 집합 R에서 제외되지 않을 수 있다. 또한, 상기 행은 집합 R_one에서 제외되지 않을 수 있다. 본 개시의 일 예에 따라, 단말은 상기 하나의 SLIV를 모아서 만든 새로운 TDRA 테이블(e.g., 표 39)을 기초로 PDSCH 반복 수신을 적용할 수 있다. 상기 새로운 TDRA 테이블(e.g., 표 39)의 행의 하나의 SLIV에 NPDSCHmax 슬롯 에서 수신한다고 가정할 수 있다. 단말은 모든 스케줄링 정보를 모은 TDRA 테이블(e.g., 표 33)을 기초로 multi-PDSCH 수신을 적용할 수 있다. 즉, 상기 TDRA 테이블(e.g., 표 33)의 각 행의 하나 또는 복수의 SLIV들 이 수신이 스케줄링된 슬롯에서 수신한다고 가정할 수 있다. 만약 단말이 상기 새로운 TDRA 테이블(e.g., 표 39)의 행의 하나의 SLIV가 NPDSCHmax 슬롯들 모두에서 반정적 상향링크 심볼(semi-static UL symbol)과 겹치고, 만약 단말이 상기 TDRA 테이블(e.g., 표 33)의 행의 하나 또는 복수의 SLIV가 스케줄링된 슬롯들 모두에서 상기 하나 또는 복수의 SLIV가 반정적 상향링크 심볼(semi-static UL symbol)과 겹치면, 상기 행은 집합 R에서 제외 될 수 있다. 또한, 상기 행은 집합 R_one에서 제외될 수 있다. NPDSCHmax는 pdsch-AggregationFactor를 기초로 결정될 수 있다. 단말이 NPDSCHmax를 결정하는 방법은 다음과 같을 수 있다. 예를 들어, 만약 단말이 pdsch-AggregationFactor in PDSCH-Config을 설정 받았다면, 단말은 NPDSCHmax 로 pdsch-AggregationFactor in PDSCH-Config의 값을 사용할 수 있다. 만약 단말이 pdsch-AggregationFactor- r16 in SPS-Config를 설정 받았다면, 단말은 NPDSCHmax로 pdsch-AggregationFactor-r16 in SPS-Config의 값을 사 용할 수 있다. 만약 단말이 pdsch-AggregationFactor in PDSCH-Config과 pdsch-AggregationFactor-r16 in SPS- Config 둘다 설정 받았다면, 단말은 NPDSCHmax로 pdsch-AggregationFactor in PDSCH-Config의 값과 pdsch- AggregationFactor-r16 in SPS-Config의 값 중 더 큰 값을 사용할 수 있다. [pseudo-code 7: (multi-PDSCH 스케줄링, time-domain bundling 설정, PDSCH 반복 수신 설정 - 방법4)] - 준비 단계1: 집합 R은 TDRA(time domain resource assignment) 테이블에 설정된 복수의 스케줄링 정보(PDSCH 가 매핑되는 슬롯 정보(이하 K0값), 시작 심볼 및 길이 정보(이하 SLIV(starting and length value))들로 구성 된 집합이다. 만약 단말이 하나 이상의 DCI format들을 모니터링하고, 상기 DCI format들이 서로 다른 TDRA 테 이블을 사용할 경우, 상기 집합 R은 모든 TDRA 테이블을 기초로 생성된다. - 준비 단계2: 집합 R_one은 집합 R의 각 행 중 하나의 스케줄링 정보(e.g. SLIV)만 선택하여 생성될 수 있다. 즉, 집합 R의 행 i가 복수의 스케줄링 정보를 포함하면, 집합 R_one의 행 i는 상기 복수의 스케줄링 정보 중 하 나만을 포함할 수 있다. 여기서 하나의 스케줄링 정보는 마지막 스케줄링 정보일 수 있다. - 단계 0: MA,c를 공집합으로 초기화. k를 0으로 초기화. j를 0으로 초기화. - 단계 1: 설정된 K1 집합에서 k번째 큰 K1 값을 선택한다. (예를 들어, k=0이면 K1 집합에서 가장 큰 K1 값을 선택하고, k=1이면 K1 집합에서 두번째로 큰 K1 값을 선택한다.) 상기 K1 값을 K1,k라고 한다. - 단계 2: 행이 다음 두 조건 모두를 만족하면 집합 R과 집합 R_one에서 제외될 수 있다. 조건 1) 만약, K1,k 값에 해당하는 슬롯(슬롯 n-K1,k)으로부터 이전 NPDSCHmax개의 슬롯들 (슬롯 n-K1,k-(NPDSCHmax-1), 슬롯 n-K1,k-(NPDSCHmax-1)+1,..., 슬롯 n-K1,k) 각각에서 집합 R_one의 행에 속한 하나의 스케줄링 정보의 시작 심볼 및 길이 정보(SLIV)에 해당하는 심볼이 상위 계층에서 상향링크로 설정된 심볼과 겹친다. 여기서 NPDSCHmax는 pdsch-AggregationFactor를 기초로 결정된 값이다. 조건 2) 집합 R의 행의 K1,k 값에 해당하는 슬롯(슬롯 n-K1,k) 및 집합 R의 각 행의 K0 값들로 결정된 슬롯 각각 에서 집합 R의 각 행에 속한 시작 심볼 및 길이 정보(SLIV)에 해당하는 심볼이 상위 계층에서 상향링크로 설정 된 심볼과 겹친다. 행의 K0 값들로 결정된 슬롯들은 슬롯 n-K1,k-Delta_Ki (i=0,1,..,행의 스케줄링 정보의 수- 1)이고, Delta_Ki = K0_max - K0_i이다. 여기서 K0_i는 복수의 스케줄링 정보의 i번째 K0 값이고, K0_max는 마 지막 스케줄링 정보의 K0 값(가장 큰 K0 값)이다. - 단계 3-1 (단말이 한 슬롯에 최대 하나의 unicast PDSCH를 수신 받을 수 있는 단말 능력(UE capability)만 있는 경우): 상기 결정된 집합 R이 공집합이 아니면 집합 MA,c에 새로운 PDSCH 수신 후보 기회로 j를 추가한다. 집합 R의 PDSCH 후보들 중 하나를 수신하게 되면, 단말은 상기 PDSCH의 HARQ-ACK을 상기 새로운 PDSCH 후보 기 회 j에 위치시킬 수 있다. j를 1 증가 시킨다. - 단계 3-2 (단말이 한 슬롯에 하나보다 많은 unicast PDSCH를 수신 받을 수 있는 단말 능력이 있는 경우) 상기 결정된 집합 R의 마지막 스케줄링 정보만 모아서 집합 R_last을 생성한다. 집합 R_last 의 가장 앞서 끝나는 SLIV와 그 SLIV와 시간 상 겹치는 SLIV들을 위하여 집합 MA,c에 새로운 PDSCH 수신 후보 기회로 j를 추가한다. 상기 SLIV를 가진 PDSCH 후보들 중 하나를 수신하게 되면, 단말은 상기 PDSCH의 HARQ-ACK을 상기 새로운 PDSCH 후보 기회 j에 위치시킬 수 있다. j를 1 증가 시킨다. 집합 R'에서 상기 SLIV들은 제외한다. 단계 3-2는 집합 R_last이 공집합일때까지 반복된다. 참고로, 집합 R_one이 집합 R의 마지막 스케줄링 정보만을 포함할 경우, 상 기 집합 R_last는 집합 R_one과 같을 수 있다. 따라서 단계 3-2는 집합 R_one을 기초로 수행될 수 있다. - 단계 4: k를 1 증가시킨다. 만약 k가 K1 집합의 크기(cardinality) 보다 작으면 단계 2부터 다시 시작하고, K1 집합의 크기(cardinality)보다 같거나 크면 pseudo-code 7은 종료한다. 상술한 pseudo-code 7에서 단계 2에서 조건 1은 NPDSCHmax가 1보다 클 때만 적용될 수 있다. NPDSCHmax=1이면, 단계 2는 조건 2만을 기초로 결정될 수 있다. 즉, 행이 조건 2만 만족하면 상기 행은 집합 R과 R_one에서 제외될 수 있다. 상술한 방법 4의 Pseudo-code는 표 40과 같을 수 있다. 여기서 R'은 본 개시의 R과 동일하다. [표 40]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 40, "content": "[방법 5: Type-1 HARQ-ACK 코드북를 통한 PDSCH 반복 수신의 HARQ-ACK 전송 불가] 본 개시의 또 다른 방법으로 Tyep-1 HARQ-ACK codebook으로 PDSCH 반복 수신의 HARQ-ACK이 전송되지 않을 수 있다. 즉, 단말은 PDSCH 반복 수신의 HARQ-ACK을 Tyep-1 HARQ-ACK 코드북으로 구성하지 않을 수 있다. 이는 기 지국의 적절한 설정으로 구현될 수 있다. 예를 들어, 단말이 Type- 1 HARQ-ACK 코드북을 설정 받고, multi-PDSCH 스케줄링을 설정 받을 경우, 단말은 시 간 영역 번들링과 PDSCH 반복 수신 중 하나만을 설정 받을 수 있다. 즉, 시간 영역 번들링을 설정 받을 경우, 단말은 PDSCH 반복 수신은 수행하지 않는다고 가정할 수 있다. 즉, NPDSCHmax=1으로 가정하여 Type-1 HARQ-ACK 코 드북을 생성할 수 있다. 반대로, PDSCH 반복 수신을 설정 받을 경우, 시간 영역 번들링을 설정 받지 않는다고 가정할 수 있다. 만약 단말이 multi-PDSCH 스케줄링을 설정 받을 경우, 시간 여역 번들링과 PDSCH 반복 수신을 위하여 Type-1 HARQ-ACK 코드북이 아닌 다른 코드북을 설정 받을 수 있다. 예시적으로 Type-2 HARQ-ACK 코드북을 설정받을 수 있다. 따라서, 단말은 Type- 1 HARQ-ACK 코드북을 설정 받고, multi-PDSCH 스케줄링을 설정 받을 경우, 단말은 시간 영역 번들링과 PDSCH 반복 수신 둘 다 설정 받는 것을 기대하지 않을 수 있다. [Non-numerical K1(NNK1) value 관련] 도 18를 참조하면단말은 PDSCH에 대한 수신 성공을 나타내는 HARQ-ACK정보를 상향링크로 전송할 수 있다. 여기 서 HARQ-ACK 정보는 PUCCH 내지 PUSCH로 전송될 수 있다. HARQ-ACK 정보를 전송하는 PUCCH 내지 PUSCH가 전송 되는 슬롯과 PDSCH가 수신되는 슬롯은 상기 DCI format에 포함될 수 있다. PUCCH 내지 PUSCH가 전송되는 슬롯은 DCI에서 K1 값 내지 PDSCH-to-HARQ feedback timing이라고 명명할 수 있다. 도 18를 참조하여, 단말은 복수의 PDSCH들을 수신할 수 있고, 각각의 PDSCH는 각각의 DCI format으로 스케줄링 될 수 있다. 그리고 각각의 DCI format은 K1 값을 포함할 수 있다. 단말은 3개의 PDSCH들을 슬롯 n-4, 슬롯 n- 3, 슬롯 n-1에서 수신할 수 있다. 여기서 3개의 PDSCH 각각은 스케줄링하는 DCI format이 있을 수 있다. 편의상상기 DCI format은 PDSCH와 동일한 슬롯에서 PDCCH로 수신되었다고 가정할 수 있다. 단말은 슬롯 n-4에서 수신 되는 PDSCH#1를 스케줄링하는 DCI format은 K1값으로 2를 지시받을 수 있다. 이 경우, 단말은 슬롯 n-4에서 수 신되는 PDSCH#1의 HARQ-ACK 정보를 슬롯 n-4+K1값 = 슬롯 n-4+2 = 슬롯 n-2에서 전송할 수 있다. 유사하게, 슬 롯 n-3에서 수신되는 PDSCH#2를 스케줄링하는 DCI format은 K1값으로 1를 지시받을 수 있다. 따라서, 슬롯 n- 4의 PDSCH#1, 슬롯 n-3의 PDSCH#2의 HARQ-ACK 정보는 슬롯 n-2에서 PUCCH 내지 PUSCH로 전송될 수 있다. 그리 고, 슬롯 n-1에서 수신되는 PDSCH#3를 스케줄링하는 DCI format은 K1값으로 1를 지시받을 수 있다. 따라서, 슬 롯 n-1의 PDSCH#3의 HARQ-ACK 정보는 슬롯 n에서 PUCCH 내지 PUSCH로 전송될 수 있다. 이와 같이 특정 슬롯에서 HARQ-ACK 정보를 전송하도록 지시하는 K1 값을 numerical K1값 내지 applicable K1 값이라고 할 수 있다. 도 18를 참조하여, 단말은 특정 조건에서 PUCCH 내지 PUSCH를 전송할 수 없을 수 있다. 예를 들어, PUCCH 내지 PUSCH를 전송하는 셀 (내지 캐리어)가 비면허 대역일 경우, 단말은 상향링크로 전송하기위하여 LBT(listen- befor-talk)를 성공하여야한다. 하지만, 슬롯 n-2에서 LBT가 실패할 경우, 단말은 슬롯 n-2의 PUCCH를 전송할 수 없다. 단말이 상기 PUCCH를 전송하지 못하므로 기지국은 PDSCH#1 내지 PDSCH#2의 HARQ-ACK 정보를 수신할 수 없으므로, 상기 PDSCH#1 내지 PDSCH#2를 재전송하여야한다. 이는 하향링크 자원 소모 및 네트워크의 하향링크 용량이 줄어들 수 있다. 이를 해결하기 위하여, DCI format은 특정 슬롯에서 HARQ-ACK 정보를 전송하도록 지시하는 K1 값 대신 슬롯을 지정하지 않는 K1 값을 전송할 수 있다. 이 K1 값을 non-numerical K1(NNK1) 값 내지 inapplicable K1 값이라 고 부를 수 있다. Non-numerical K1 값(inapplicable K1값)을 이용한 HARQ-ACK 전송 방법은 도 x2에 도시되어 있다. 도 19는 단말이 복수 개의 DCI format으로 스케줄링된 복수 개의 PDSCH를 수신하는 것을 도시한 도면이다. 도 19를 참조하면 단말은 복수의 PDSCH들을 수신할 수 있고, 각각의 PDSCH는 각각의 DCI format으로 스케줄링될 수 있다. 그리고 각각의 DCI format은 K1 값을 포함할 수 있다. 단말은 3개의 PDSCH들을 슬롯 n-4, 슬롯 n-3, 슬롯 n-1에서 수신할 수 있다. 여기서 3개의 PDSCH 각각은 스케줄링하는 DCI format이 있을 수 있다. 편의상 상기 DCI format은 PDSCH와 동일한 슬롯에서 PDCCH로 수신되었다고 가정할 수 있다. 단말은 슬롯 n-4에서 수신되는 PDSCH#1를 스케줄링하는 DCI format은 K1값으로 non-numerical K1 값을 지시받을 수 있다. 이 경우, 단말은 상 기 PDSCH#1의 HARQ-ACK 정보가 전송되는 슬롯은 특정되지 않을 수 있다. 유사하게, 슬롯 n-3에서 수신되는 PDSCH#2를 스케줄링하는 DCI format은 K1값으로 non-numerical K1 값을 지시받을 수 있다. 따라서, 상기 PDSCH#2의 HARQ-ACK 정보가 전송되는 슬롯도 특정되지 않을 수 있다. 그리고, 슬롯 n-1에서 수신되는 PDSCH#3를 스케줄링하는 DCI format은 K1값으로 1를 지시받을 수 있다. 따라서, 슬롯 n-1의 PDSCH#3의 HARQ-ACK 정보는 슬롯 n에서 PUCCH 내지 PUSCH로 전송될 수 있다. 이때, 단말은 앞서 non-numerical K1 값으로 지시되어 HARQ- ACK 정보가 전송하지 않았던 PDSCH들(PDSCH#1, PDSCH#2)의 HARQ-ACK 정보를 상기 PDSCH#3의 HARQ-ACK 정보가 전송되는 PUCCH 내지 PUSCH에서 전송될 수 있다. 즉, non-numerical K1 값으로 지시되어 HARQ-ACK 정보가 전송 되는 슬롯이 특정되지 않았을 경우, 이후 수신하는 DCI에서 HARQ-ACK 정보가 전송되는 슬롯이 특정되면, 상기 특정된 슬롯에서 전송할 수 있다. [Type-3/Enhanced Type-3 HARQ-ACK Codebook 관련] Type-3 HARQ-ACK 코드북(또는 One-shot 코드북)은 단말이 설정 받은 모든 서빙 셀 및 HARQ 프로세스 수, HARQ 프로세스 별 TB 수, TB 별 CBG 수들에 대한 모든 HARQ-ACK 정보를 보고하는 방식이다. 일례로, 단말은 2개의 서 빙 셀, 각 서빙 셀 별로 16개의 HARQ 프로세스, 각 HARQ 프로세스 별 1개의 TB, 그리고 각 TB 별로 2개의 CBG가 존재하는 경우, 단말은 총 64개(=2 * 16 * 1 * 2)의 HARQ-ACK 정보 비트를 보고 한다. Type-3 HARQ-ACK 코드북은 일련의 순서에 따라서 HARQ-ACK 정보 비트를 나열할 수 있다. 열련의 순서는 다음과 같다. - 서빙 셀의 인덱스의 오름차순에 따라서 정렬될 수 있다 - 동일한 서빙 셀 내에서는 HARQ 프로세스의 오름차순의 순서에 따라서 정렬될 수 있다. - 동일한 HARQ 프로세스에 복수의 TB를 포함할 경우 (즉, 2-TB 전송의 경우), 첫번째 TB의 HARQ-ACK 정보는 두 번째 TB의 HARQ-ACK 정보보다 앞선 위치에 정렬될 수 있다. - 동일한 TB가 복수의 CBG를 포함할 경우 (즉, CBG 기반 PDSCH 전송의 경우), CBG의 인덱스에 오름차순에 따라 서 정렬될 수 있다. 도 20를 참조하여, 단말은 하나의 하향링크 서빙셀(DL CC, 2000)과 하나의 상향링크 서빙셀(UL CC, 2005)를 설 정받았다고 가정하자. 여기서 상향링크 서빙셀은 PUCCH를 전송하는 셀이다. 단말은 상기 하향링크 서빙셀 에 8개의 HARQ 프로세스 수를 설정 받았고, 하나의 PDSCH는 하나의 TB만 전송하도록 설정받았다고 가정하 자. 그리고 CBG 기반 전송은 설정 받지 않았다고 가정하자. Type-3 HARQ-ACK 코드북은 모든 서빙 셀 및 HARQ 프 로세스 수, HARQ 프로세스 별 TB 수에 따라 생성될 수 있다. 따라서, 단말은 하나의 서빙 셀에 8개의 HARQ 프로 세스 수, 그리고 HARQ 프로세스 별 1개의 TB를 설정 받았으므로 Type-3 HARQ-ACK 코드북은 8 bits의 HARQ-ACK 정보를 포함할 수 있다. 단말은 하향링크 서빙셀에서 HARQ 프로세스의 오름차순에 따라서 type-3 HARQ-ACK 코드북의 8bits를 정렬 할 수 있다. 단말이 상기 하향링크 서빙셀에 8개의 HARQ 프로세스 수를 설정 받았으므로, HARQ 프로세스 0의 HARQ-ACK 정보는 Type-3 HARQ-ACK 코드북의 첫번째에 위치하고, HARQ 프로세스 1의 HARQ-ACK 정보는 Type-3 HARQ-ACK 코드북의 두번째에 위치하고, HARQ 프로세스 2의 HARQ-ACK 정보는 Type-3 HARQ-ACK 코드북의 세번째에 위치하고, HARQ 프로세스 3의 HARQ-ACK 정보는 Type-3 HARQ-ACK 코드북의 네번째에 위치하고, HARQ 프로세스 4의 HARQ-ACK 정보는 Type-3 HARQ-ACK 코드북의 다섯번째에 위치하고, HARQ 프로세스 5의 HARQ-ACK 정보는 Type-3 HARQ-ACK 코드북의 여섯번째에 위치하고, HARQ 프로세스 6의 HARQ-ACK 정보는 Type-3 HARQ-ACK 코드북의 일곱번째에 위치하고, HARQ 프로세스 7의 HARQ-ACK 정보는 Type-3 HARQ-ACK 코드북의 마지막에 위치할 수 있다. 도 20를 참조하여, 단말은 하향링크 서빙셀에서 4개의 PDSCH를 수신할 수 있다. 시간 순서대로, 단말은 PDSCH#0, PDSCH#1, PDSCH#2, 그리고 PDSCH#3를 수신할 수 있다. PDSCH#0은 HARQ 프로 세스 수 3으로 지시받았고, 상기 PDSCH#0의 HARQ-ACK 정보를 a0라고 하자. PDSCH#1은 HARQ 프로세스 수 1을 지 시받았고, 상기 PDSCH#1의 HARQ-ACK 정보를 a1이라고 하자. PDSCH#2는 HARQ 프로세스 수 6을 지시받았고, 상기 PDSCH#2의 HARQ-ACK 정보를 a2이라고 하자. 그리고 PDSCH#3은 HARQ 프로세스 수 0을 지시받았고, 상기 PDSCH#3 의 HARQ-ACK 정보를 a3이라고 하자. 단말은 상기 HARQ-ACK 정보인 a0, a1, a2, 그리고 a3를 HARQ 프로세스 수에 따라서 Type-3 HARQ-ACK 코드북에 포함할 수 있다. 즉, PDSCH#0는 HARQ 프로세스 수가 3이므로 상기 PDSCH#0의 HARQ-ACK인 a0는 Type-3 HARQ-ACK 코드북의 네번째 bit에 포함될 수 있다. PDSCH#1는 HARQ 프로세스 수가 1이므 로 상기 PDSCH#1의 HARQ-ACK인 a1는 Type-3 HARQ-ACK 코드북의 두번째 bit에 포함될 수 있다. PDSCH#2는 HARQ 프로세스 수가 6이므로 상기 PDSCH#2의 HARQ-ACK인 a2는 Type-3 HARQ-ACK 코드북의 일곱번째 bit에 포함될 수 있다. 끝으로, PDSCH#3는 HARQ 프로세스 수가 0이므로 상기 PDSCH#3의 HARQ-ACK인 a3는 Type-3 HARQ-ACK 코드북 의 첫번째 bit에 포함될 수 있다. 참고로, Type-3 HARQ-ACK 코드북에서 단말이 수신하지 못한 HARQ 프로세스 수 또는 이미 기지국으로 피드백한 HARQ 프로세스 수에 대해서는 NACK (또는 0)을 포함할 수 있다. 단말은 하향링크 서빙셀에서 Type-3 HARQ-ACK 코드북의 전송을 지시하는 DCI를 수신할 수 있다. 단 말은 상기 DCI로부터 Type-3 HARQ-ACK 코드북을 전송하는 PUCCH 자원을 지시받을 수 있다. 단말은 상기 PUCCH 자원으로 상기 8 bits의 Type-3 HARQ-ACK 코드북을 전송할 수 있다. 별도의 설정에 따라, Type-3 HARQ-ACK 코드북은 HARQ-ACK 정보에 추가로 모든 서빙 셀 및 HARQ 프로세스 별로 단말이 최근에 수신한 NDI 값을 같이 보고하는 것도 가능할 수 있다. 해당 NDI 값을 통해 기지국은 단말의 각 HARQ 프로세스 별로 수신한 PDSCH가 초기 전송으로 판단하고 있는지 또는 재전송으로 판단하고 있는지를 판단할 수 있다. 해당 NDI 값 보고가 별도로 없을 경우, 단말은 상기 기지국이 Type-3 HARQ-ACK 코드북을 요청하는 DCI를 수신하 기 이전에 특정 HARQ 프로세스에 대해서 이미 HARQ-ACK 정보를 보고한 경우에는 단말은 해당 HARQ 프로세스에 대해서는 NACK으로 매핑하고, 그렇지 않은 경우는 해당 HARQ 프로세스 별로 수신한 PDSCH에 대해서 HARQ-ACK 정 보 비트를 매핑한다. 상기 서빙 셀의 수, HARQ 프로세스 수, TB 수, CBG 수는 각각 설정이 가능하며, 별도의 설정이 각각 없는 경우, 서빙 셀 수는 1, HARQ 프로세스 수는 8, TB 수는 1, CBG 수는 1로 각각 단말이 간주할 수 있다. 또한, 상기 HARQ 프로세스 수는 서빙 셀 별로 다를 수 있다. 또한, 상기 TB 수는 서빙셀 별 또는 서빙 셀 내의 BWP 별로 값 이 다를 수 있다. 또한, 상기 CBG 수는 서빙셀 별로 다를 수 있다. Type-3 HARQ-ACK 코드북이 필요한 이유 중에 하나는 단말이 PDSCH에 대한 HARQ-ACK 정보가 포함된 PUCCH 또는 PUSCH의 송신을 채널 접속 실패 또는 우선 순위가 높은 다른 채널과의 중첩 등의 이유로 못하는 경우가 발생할 수 있다. 따라서, 기지국은 별도의 PDSCH를 다시 스케줄링할 필요 없어 해당 HARQ-ACK 정보만 보고하는 것을 요 청하는 것이 합리적이다. 따라서, 단말은 기지국으로부터 상위 신호 또는 L1 신호 (예를 들어, DCI 내의 특정 필드)를 통해 Type-3 HARQ-ACK 코드북 전송 및 상기 코드북이 전송될 PUCCH 자원을 스케줄링 하는 것이 가능할 수 있다. 단말은 DCI 포맷에서 상기 Type-3 HARQ-ACK 코드북 전송을 지시하는 지시자를 포함할 수 있다. 상기 지시자는 0 또는 1을 지시할 수 있다. 단말이 Type-3 HARQ-ACK 코드북 전송을 요청을 하는 필드의 값으로 1을 포함하는 DCI 포맷을 수신할 경우, 단말 은 상기 DCI 포맷에 의해 지시된 특정 슬롯에서 Type-3 HARQ-ACK 코드북을 전송하기 위한 PUCCH 또는 PUSCH 자 원을 결정한다. 그리고, 단말은 해당 슬롯의 PUCCH 또는 PUSCH 내에 Type-3 HARQ-ACK 코드북만을 다중화한다. 또한, 단말은 상기 DCI 포맷이 PDSCH를 스케줄링하지 않는다고 가정할 수 있다. 즉, 상기 DCI format에서 PDSCH 전송을 위한 필드들은 PDSCH를 스케줄링하는데 사용되지 않을 수 있다. 더 나아가, 상기 PDSCH를 스케줄링하는 데 사용되지 않는 필드들은 다른 목적으로 사용될 수 있다. Type-3 HARQ-ACK 코드북은 단말이 설정받은 정보에 기초하여 모든 서빙 셀 및 모든 HARQ 프로세스의 HARQ-ACK 정보를 포함하여야 한다. 따라서, 실제로 사용되지 않은 HARQ 프로세스의 PDSCH에 대한 HARQ-ACK 정보 비트도 NACK으로 상기 코드북에 포함되어야 한다. 이에 따라 Type-3 HARQ-ACK 코드북의 사이즈가 크다는 단점이 존재한 다. 따라서, 상향링크 제어 정보 비트 사이즈가 커짐에 따라 상향링크 전송 커버리지 또는 전송 신뢰도가 감소 될 가능성이 존재한다. Type-3 HARQ-ACK 코드북보다 좀 더 작은 사이즈의 HARQ-ACK 코드북이 필요하다. 이러한 코드북을 enhanced Type-3 HARQ-ACK 코드북이라고 한다. 일례로, enhanced Type-3 HARQ-ACK 코드북은 다음과 같이 구성될 수 있다. - 유형 A: (설정된) 서빙 셀들의 총 집합 중 부분 집합 - 유형 B: (설정된) HARQ 프로세스 번호들의 총 집합 중 부분 집합 - 유형 C: (설정된) TB 인덱스의 총 집합 중 부분 집합 - 유형 D: (설정된) CBG 인덱스의 총 집합 중 부분 집합 - 유형 E: 상기 유형 A 내지 D 중 적어도 2개의 유형들의 조합 상기 enhanced Type-3 HARQ-ACK 코드북의 상기 유형 A 내지 E 중 적어도 하나의 특징을 가질 수 있고, 하나 또 는 복수의 세트로 구성되는 것이 가능할 수 있다. 상기 유형 A 내지 E 중 부분 집합 대신 전체 집합을 포함할 수 있다. 복수의 세트의 의미는 일례로 유형 A와 유형 B가 존재하거나 또는 유형 A여도 부분 집합이 다른 것들 이 존재하는 것이 가능할 수 있다. 단말은 상위 신호 또는 L1 신호 또는 이들의 조합에 의해 Enhanced Type-3 HARQ-ACK 코드북의 유형을 지시받을 수 있다. 일례로, 다음 [표 41]과 같이 상위 신호로 각각의 enhanced Type-3 HARQ-ACK 코드북으로 보고될 HARQ-ACK 정보 비트들을 위한 세트 구성이 지시되고, 이 중에 하나의 값이 L1 신호로 지시되는 것이 가능할 수 있다. [표 41]과 같이 각 index 별로 어떤 유형의 enhanced Type-3 HARQ-ACK 코드북이 설정되었는지 상위 신호 로 개별적인 설정이 가능할 수 있다. 편의상 이러한 테이블을 enhanced Type-3 HARQ-ACK 코드북 유형 테이블이 라고 부를 수 있다. 상기 enhanced Type-3 HARQ-ACK 코드북 유형 테이블의 특정 index([표 41]의 index 3)는 모든 HARQ-ACK 정보 비트들을 보고하는 Type-3 HARQ-ACK 코드북이 사용되는 것도 가능하다. Type-3 HARQ-ACK 코드북은 별도의 상위 신호로 지시되거나 또는 상위 신호가 없을 경우, 디폴트 값(예를 들어, 모든 HARQ 프로세스 번호에 대한 ACK 또 는 NACK 상태)으로 사용되는 것으로 판단할 수 있다. [표 41] enhanced Type-3 HARQ-ACK 코드북 유형 테이블"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 41, "content": "단말은 index 1로 지시된 값을 수신할 경우, 단말은 [표 41]에 따라 서빙셀 i, HARQ 프로세스 번호(#1 ~ #8), TB 1에 대해서 총 8 비트의 HARQ-ACK 정보를 포함한 enhanced Type-3 HARQ-ACK 코드북을 보고한다. 단말은 index 2로 지시된 값을 수신할 경우, 단말은 [표 41]에 따라 서빙셀 i, HARQ 프로세스 번호(#1 ~ #8), TB 1에 대해서 총 4 비트의 HARQ-ACK 정보 비트들을 보고한다. 단말은 index 3로 지시된 값을 수신할 경우, 단말은 [표 41]에 따라 서빙셀 집합, 서빙셀 i 별 총 HARQ 프로세스 수, HARQ 프로세스 별 TB 수, TB 별 CBG 수를 고려하여 총 HARQ-ACK 비트 수들 계산한다. 상기 [표 41]는 일례일 뿐, 총 index의 수가 이 보다 더 많거나 적을 수 있으 며, 각각의 인덱스가 지시하는 HARQ 프로세스 값의 범위 및 또는 enhanced Type-3 HARQ-ACK 코드북에 포함되는 정보는 다를 수 있다. 또한, 상기 [표 41]는 상위 신호에 의해 지시되는 정보일 수 있고, 특정 index가 DCI를 통해 통지될 수 있다. 상기 [표 41]의 특정 인덱스 선택은 DCI 필드 중 HARQ 프로세스 번호 또는 MCS 또는 NDI 또는 RV 또는 주파수 자원 할당 정보 또는 시간 자원 할당 정보 들 중 적어도 하나 또는 이들의 조합에 의해서 지시되는 것이 가능할 수 있다. 상기 [표 41]의 특정 인덱스를 알려주는 DCI 비트 필드의 크기는 로 결정될 수 있다. 여기서 는 상위 신호로 설정된 [표 41]의 인덱스의 총 개수를 의미한다. 도 21은 단말에게 enhanced Type-3 HARQ-ACK 코드북이 설정될 경우, enhanced Type-3 HARQ-ACK 코드북 전송을 도시하였다. 단말의 서빙셀 설정, HARQ 프로세스 수 등의 설정은 도 20와 동일하다. 도 20와는 다르게, 단말은 enhanced Type-3 HARQ-ACK 코드북 전송을 설정 받는다. 예시적으로, enhanced Type-3 HARQ-ACK 코드북 전송을 트리거링(triggering)하는 DCI가 index 0이 지시되면, 단말이 전송할 enhanced Type-3 HARQ-ACK 코드북 은 8개의 HARQ 프로세스 중 {0,1,2,3}의 HARQ 프로세스에 대한 HARQ-ACK 정보만을 포함하고, {4,5,6,7} 의 HARQ 프로세스에 대한 HARQ-ACK 정보는 포함하지 않을 수 있다. 예시적으로, enhanced Type-3 HARQ-ACK 코 드북 전송을 트리거링(triggering)하는 DCI가 index 1이 지시되면, 단말이 전송할 enhanced Type-3 HARQ-ACK 코드북은 8개의 HARQ 프로세스 중 {4,5,6,7}의 HARQ 프로세스에 대한 HARQ-ACK 정보만을 포함 하고, {0,1,2,3}의 HARQ 프로세스에 대한 HARQ-ACK 정보는 포함하지 않을 수 있다. 도 21에는 표시되지 않았으 나, index 0, 1 이외의 다른 index가 더 지시될 수도 있으며, 상기 index가 지시될 경우, 상기 index에 해당하 는 HARQ 프로세스에 대한 HARQ-ACK 정보만을 포함한 enhanced Type-3 HARQ-ACK 코드북이 전송될 수 있다. <NNK1 value를 제외한 K1 집합을 기초로 Type-1 HARQ-ACK CB> 본 개시는 단말이 Type-1 HARQ-ACK 코드북과 Type-3 HARQ-ACK 코드북을 동시에 받은 경우, Type- 1 HARQ-ACK 코드북 생성 방법에 대한 것이다. 단말은 기지국으로부터 모터니링할 DCI format을 설정 받을 수 있다. 예시적으로, DCI format은 DCI format 1_0, DCI format 1_1, 내지 DCI format 1_2 중 적어도 하나를 포함할 수 있다. 상기 DCI format은 PDSCH를 스 케줄링할 수 있는 DCI을 포함할 수 있다. 상기 DCI format은 PDSCH를 스케줄링하지 않지만, 단말에게 특정 동작 을 지시하는 DCI format을 포함할 수 있다. 예를 들어, SPS(semi-persistent scheduling) PDSCH 수신 및 CG(configured grant) PUSCH 전송을 종료하는 DCI format이거나, Scell dormancy 를 지지하는 DCI format이거 나, TCI(transmission configuration index)를 지시하는 DCI format일 수 있다. 단말은 상기 DCI format 또는 DCI format이 스케줄링하는 PDSCH에 대한 HARQ-ACK 정보를 PUCCH 내지 PUSCH로 전송할 수 있다. 각 DCI format에는 HARQ-ACK 정보를 전송하는 슬롯을 지시하기위한 DCI 필드를 포함할 수 있다. 또한, 단말은 각 DCI format에 HARQ-ACK 정보를 전송하는 슬롯을 지시하기위한 후보 값들이 설정될 수 있다. 예시적으로, DCI format 1_0 또는 DCI format 1_0과 관련된 PDSCH의 HARQ-ACK 정보를 전송하는 슬롯을 지시하기위한 후보 값은, 15kHz, 30kHz, 60kHz, 120kHz 부반송파 간격의 상향링크로 HARQ-ACK 정보를 전송할 때, {1, 2, 3, 4, 5, 6, 7,8}이고, 480kHz 부반송파 간격의 상향링크로 HARQ-ACK 정보를 전송할 때, {7, 8, 12, 16, 20, 24, 28, 32}이고, 960kHz 부반송파 간격의 상향링크로 HARQ-ACK 정보를 전송할 때, {13, 16, 24, 32, 40, 48, 56, 64} 이다. DCI format 1_0에서 HARQ-ACK 정보를 전송하는 슬롯을 지시하기위한 DCI 필드는 3 bits으로 고정될 수 있 다. DCI format 1_1의 경우, 단말은 기지국으로부터 다음 중 적어도 하나를 설정 받을 수 있다. 제 1 설정으로 dl-DataToUL-ACK을 설정 받을 수 있다. 상기 설정은 {0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15} 중 1개에서 최대 8개의 값을 포함할 수 있다. 제 2 설정으로 dl-DataToUL-ACK-r16을 설정 받을 수 있다. 상기 설정은 {- 1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15} 중 1개에서 최대 8개의 값을 포함할 수 있다. 제 3 설정으로 dl-DataToUL-ACK-r17을 설정 받을 수 있다. 상기 설정은 {-1,0,1,...,127} 중 1개에서 최대 8개 의 값을 포함할 수 있다. 단말이 만약 제 1 설정, 제 2 설정 내지 제 3 설정 중 제 3 설정을 설정 받으면, 제 3 설정에 따라서 DCI format 1_1 또는 DCI format 1_1과 관련된 PDSCH의 HARQ-ACK 정보를 전송하는 슬롯을 지시하기 위한 후보 값 으로 판정하고, 제 1 설정 내지 제 2 설정을 무시할 수 있다. 또한, 단말이 만약 제 3 설정을 설정 받지 않고, 제 2 설정을 설정 받으면, 제 2 설정에 따라서 DCI format 1_1 또는 DCI format 1_1과 관련된 PDSCH의 HARQ- ACK 정보를 전송하는 슬롯을 지시하기 위한 후보 값으로 판정하고, 제 1 설정을 무시할 수 있다. 만약 단말이 제 1 설정만 설정 받을 경우, 제 1 설정에 따라서 DCI format 1_1 또는 DCI format 1_1과 관련된 PDSCH의 HARQ-ACK 정보를 전송하는 슬롯을 지시하기 위한 후보 값으로 판정할 수 있다. DCI format 1_1에서 HARQ-ACK 정 보를 전송하는 슬롯을 지시하기위한 DCI 필드의 bits 수는 후보 값의 수에 따라서 결정될 수 있다. 즉, 상기 DCI 필드의 bits 수는 ceil(log2(후보 값의 수))로 결정될 수 있다. 여기서 ceil(x)는 x보다 크거나 같은 정수 중 가장 작은 정수를 반환하는 올림 함수이다. DCI format 1_2의 경우, 단말은 기지국으로부터 다음 중 적어도 하나을 설정 받을 수 있다. 제 4 설정으로 dl-DataToUL-ACK-DCI-1-2-r16을 설정 받을 수 있다. 상기 설정은 {0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15} 중 1개에서 최대 8개의 값을 포함할 수 있다. 제 5 설정으로 dl-DataToUL-ACK-DCI-1-2-r17을 설정 받을 수 있다. 상기 설정은 {0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15} 중 1개에서 최대 8개의 값을 포함할 수 있다. 단말이 만약 제 4 설정 내지 제 5 설정 중 제 5 설정을 설정 받으면, 제 5 설정에 따라서 DCI format 1_2 또는 DCI format 1_2와 관련된 PDSCH의 HARQ-ACK 정보를 전송하는 슬롯을 지시하기 위한 후보 값으로 판정하고, 제 4 설정을 무시할 수 있다. 또한, 단말이 제 4 설정만 설정 받을 경우, 제 4 설정에 따라서 DCI format 1_2 또는 DCI format 1_2과 관련된 PDSCH의 HARQ-ACK 정보를 전송하는 슬롯을 지시하기 위한 후보 값으로 판정할 수 있다. DCI format 1_2에서 HARQ-ACK 정보를 전송하는 슬롯을 지시하기위한 DCI 필드의 bits 수는 후보 값의 수 에 따라서 결정될 수 있다. 즉, 상기 DCI 필드의 bits 수는 ceil(log2(후보 값의 수))로 결정될 수 있다. 여기 서 ceil(x)는 x보다 크거나 같은 정수 중 가장 작은 정수를 반환하는 올림 함수이다. 참고로, 상기 설명에서 HARQ-ACK 정보를 전송하는 슬롯을 지시하기 위한 후보 값은 K1 값이라고 부를 수 있다. HARQ-ACK 정보를 전송하는 슬롯을 지시하기 위한 후보 값 중 '-1'은 non-numerical K1 (NNK1) 값 내지 inapplicable K1 값이라고 부를 수 있다. 상기 '-1'은 편의상 사용한 값으로 '-1'이외의 어떤 음수, 또는 기호 등으로 대체될 수 있다. HARQ-ACK 정보를 전송하는 슬롯을 지시하기 위한 후보 값 중 '-1'을 제외한 값(즉, 0보 다 같거나 큰 값)은 numerical K1 값 내지 applicable K1 값이라고 부를 수 있다. 단말은 Type-1 HARQ-ACK 코드북을 생성하기 위하여 K1 집합을 생성할 수 있다. 상기 K1 집합은 HARQ-ACK 정보를 지시하기 위한 후보 값들을 모은 집합일 수 있다. 더 구체적으로, K1 집합은 다음과 같이 생성될 수 있다. 만약 단말이 DCI format 1_0을 모니터링하도록 설정받고, DCI format 1_1과 DCI format 1_2를 모니터링하도록 설정 받지 않은 경우, K1 집합은, 15kHz, 30kHz, 60kHz, 120kHz 부반송파 간격의 상향링크로 HARQ-ACK 정보를 전송할 때, {1, 2, 3, 4, 5, 6, 7, 8}이고, 480kHz 부반송파 간격의 상향링크로 HARQ-ACK 정보를 전송할 때, {7, 8, 12, 16, 20, 24, 28, 32}이고, 960kHz 부반송파 간격의 상향링크로 HARQ-ACK 정보를 전송할 때, {13, 16, 24, 32, 40, 48, 56, 64}일 수 있다. 만약 단말이 DCI format 1_1을 모니터링하도록 설정받고, DCI format 1_2를 모니터링하도록 설정 받지 않은 경 우, K1 집합은 상기 제 1 설정, 제 2 설정, 내지 제 3 설정에 따라 설정된 값들을 포함할 수 있다. 여기서 제 3 설정이 설정되면 제 3 설정의 값들이 K1 집합에 포함될 수 있고, 제 3 설정이 설정되지 않고 제 2 설정이 설정 되면 제 2 설정의 값들이 K1 집합에 포함될 수 있고, 제 1 설정만 설정되면 제 1 설정의 값들이 K1 집합에 포함 될 수 있다. 만약 단말이 DCI format 1_2을 모니터링하도록 설정받고, DCI format 1_1를 모니터링하도록 설정 받지 않은 경 우, K1 집합은 상기 제 4 설정, 내지 제 5 설정에 따라 설정된 값들을 포함할 수 있다. 여기서 제 5 설정이 설 정되면 제 5 설정의 값들이 K1 집합에 포함될 수 있고, 제 4 설정만 설정되면 제 4 설정의 값들이 K1 집합에 포 함될 수 있다. 만약 단말이 DCI format 1_1과 DCI format 1_2 둘다 모니터링하도록 설정 받을 경우, K1 집합은 제 1 설정, 제 2 설정, 내지 제 3 설정 중 하나의 설정의 값들과 제 4 설정 내지 제 5 설정 중 하나의 설정의 값들의 합집합으 로 결정될 수 있다. 여기서 제 1 설정, 제 2 설정, 내지 제 3 설정 중 하나의 설정은 다음과 같이 결정될 수 있 다. 제 3 설정이 설정되면 제 3 설정이 상기 하나의 설정이고, 제 3 설정이 설정되지 않고 제 2 설정이 설정되 면 제 2 설정이 상기 하나의 설정이고, 제 1 설정만 설정되면 제 1 설정이 상기 하나의 설정일 수 있다. 여기서 제 4 설정, 내지 제 5 설정 중 하나의 설정은 다음과 같이 결정될 수 있다. 제 5 설정이 설정되면 제 5 설정이 상기 하나의 설정이고, 제 4 설정만 설정되면 제 4 설정이 상기 하나의 설정일 수 있다. 앞서 제 2 설정 내지 제 3 설정은 적어도 하나의 non-numerical K1 값(inapplicable K1 값)을 포함할 수 있다. 따라서 단말은 상기 K1 집합에 상기 non-numerical K1 값이 포함될 수 있다. 본 개시는 상기 K1 집합에 non-numerical K1 값이 포함될 경우 type-1 HARQ-ACK 코드북을 생성하는 방법을 제 안한다. 도 22는 K1 집합에 non-numerical K1 값이 포함될 경우 type-1 HARQ-ACK 코드북 생성을 생성하는 방법의 일례 를 도시한 도면이다. 여기서 K1 집합은 {-1, 2}로 가정하였고, TDRA 테이블은 표 26을 가정하였고, single PDSCH 스케줄링을 가정하였다. 앞선, psuedo-code 1을 참조하여, 단말의 Type-1 HARQ-ACK 코드북 생성과정은 다음과 같다. - 단계 0: MA,c를 공집합으로 초기화. k를 0으로 초기화. j를 0으로 초기화. - 단계 1: 설정된 K1 집합에서 k=0번째 큰 K1 값을 선택한다. 도 22의 예시에서 상기 K1 값은 K1,0=2이다. - 단계 2: 만약, 슬롯 n-K1,0 = 슬롯 n-2에서 집합 R의 각 행에 속한 시작 심볼 및 길이 정보(SLIV)에 해당하는 심볼이 상위 계층에서 상향링크로 설정된 심볼과 겹치면, 상기 행은 집합 R에서 제외될 수 있다. 도 22(b)를 참 조하여, 슬롯 n-2의 일부 심볼이 상위계층으로 설정된 반정적 상향링크 심볼(semi-static UL symbol)일 경우, 상기 심볼과 겹치는 SLIV들을 포함한 행은 집합 R에서 제외될 수 있다. 도 22(b)를 참조하여, 슬롯 n-2의 마지 막 2심볼이 반정적 상향링크 심볼일 수 있고, 이 경우 행 3의 SLIV (7,7)과 행 5의 SLIV (0,14)는 상기 반정적 상향링크 심볼과 겹치므로 집합 R에서 제외될 수 있다. 집합 R에는 행 1, 2, 4가 포함될 수 있다. - 단계 3-2 (단말이 한 슬롯에 하나보다 많은 unicast PDSCH를 수신 받을 수 있는 단말 능력이 있는 경우): ● 상기 결정된 집합 R에서 가장 앞서 끝나는 SLIV와 그 SLIV와 시간 상 겹치는 SLIV들을 위하여 집합 MA,c에 새 로운 PDSCH 수신 후보 기회로 j=0를 추가한다. 여기서 가장 앞서 끝나는 SLIV는 행 1의 SLIV (0,4)이고, 상기 SLIV와 겹치는 SLIV는 행 2의 SLIV(0,7)이다. 따라서, MA,c에 j=0을 추가하고, 단말은 행 1의 SLIV (0,4) 또는 행 2의 SLIV (0,7)로 스케줄링된 PDSCH를 수신하면, 상기 PDSCH의 HARQ-ACK을 type-1 HARQ-ACK 코드북에서 첫 번째 (j=0) MA,c에 해당하는 위치에 포함할 수 있다. j를 1 증가 시켜서 j=1이된다. 집합 R에서 상기 행 1과 2의 SLIV들은 제외되어 R = {4}이다. 집합 R이 공집합이 아니므로, 단계 3-2는 반복된다. ● 상기 결정된 집합 R에서 가장 앞서 끝나는 SLIV와 그 SLIV와 시간 상 겹치는 SLIV들을 위하여 집합 MA,c에 새 로운 PDSCH 수신 후보 기회로 j=1를 추가한다. 여기서 가장 앞서 끝나는 SLIV는 행 4의 SLIV (7,4)이고, 상기 SLIV와 겹치는 SLIV는 없다. 따라서, MA,c에 j=1을 추가하고, 단말은 행 4의 SLIV (7,4)로 스케줄링된 PDSCH를 수신하면, 상기 PDSCH의 HARQ-ACK을 type-1 HARQ-ACK 코드북에서 두번째 (j=1) MA,c 에 해당하는 위치에 포함할수 있다. j를 1 증가 시켜서 j=2이된다. 집합 R에서 상기 행 4의 SLIV가 제외되어 R은 공집합이된다. 따라서, 단계 3-2는 종료될 수 있다. - 단계 4: k를 1 증가시켜 k=1이 된다. k=1은 K1 집합의 크기(cardinality)인 2보다 작으므로 단계 1을 수행한 다. - 단계 1: 설정된 K1 집합에서 k=1번째 큰 K1 값을 선택한다. 도 22의 예시에서 상기 K1 값을 K1,0=-1이다. - 단계 2: 만약, 슬롯 n-K1,1 = 슬롯 n+1에서 집합 R의 각 행에 속한 시작 심볼 및 길이 정보(SLIV)에 해당하는 심볼이 상위 계층에서 상향링크로 설정된 심볼과 겹치면, 상기 행은 집합 R에서 제외될 수 있다. 도 x(b)를 참 조하여, 슬롯 n+1의 일부 심볼이 상위계층으로 설정된 반정적 상향링크 심볼(semi-static UL symbol)일 경우, 상기 심볼과 겹치는 SLIV들을 포함한 행은 집합 R에서 제외될 수 있다. 도 22(b)를 참조하여, 슬롯 n+1의 모든 심볼은 반정적 상향링크 심볼과 겹치지 않을 수 있다. 따라서 집합 R에는 행 1, 2, 3, 4, 5가 포함될 수 있다. - 단계 3-2 (단말이 한 슬롯에 하나보다 많은 unicast PDSCH를 수신 받을 수 있는 단말 능력이 있는 경우): ● 상기 결정된 집합 R에서 가장 앞서 끝나는 SLIV와 그 SLIV와 시간 상 겹치는 SLIV들을 위하여 집합 MA,c에 새 로운 PDSCH 수신 후보 기회로 j=2를 추가한다. 여기서 가장 앞서 끝나는 SLIV는 행 1의 SLIV (0,4)이고, 상기 SLIV와 겹치는 SLIV는 행 2의 SLIV(0,7)와 행 5의 SLIV(0,14) 이다. 따라서, MA,c에 j=2을 추가하고, 단말은 행 1의 SLIV (0,4) 또는 행 2의 SLIV (0,7) 또는 행 5의 SLIV (0,14)로 스케줄링된 PDSCH를 수신하면, 상기 PDSCH 의 HARQ-ACK을 type-1 HARQ-ACK 코드북에서 세번째 (j=2) MA,c에 해당하는 위치에 포함할 수 있다. j를 1 증가 시켜서 j=3이된다. 집합 R에서 상기 행 1, 2, 5의 SLIV들은 제외되어 R = {3, 4}이다. 집합 R이 공집합이 아니 므로, 단계 3-2는 반복된다. ● 상기 결정된 집합 R에서 가장 앞서 끝나는 SLIV와 그 SLIV와 시간 상 겹치는 SLIV들을 위하여 집합 MA,c에 새 로운 PDSCH 수신 후보 기회로 j=3를 추가한다. 여기서 가장 앞서 끝나는 SLIV는 행 4의 SLIV (7,4)이고, 상기 SLIV와 겹치는 SLIV는 행 3의 SLIV(7,7) 이다. 따라서, MA,c에 j=3을 추가하고, 단말은 행 4의 SLIV (7,4) 또는 행 3의 SLIV (7,7)로 스케줄링된 PDSCH를 수신하면, 상기 PDSCH의 HARQ-ACK을 type-1 HARQ-ACK 코드북에서 네 번째 (j=3) MA,c 에 해당하는 위치에 포함할 수 있다. j를 1 증가 시켜서 j=4이된다. 집합 R에서 상기 행 3과 4 의 SLIV가 제외되어 R은 공집합이된다. 따라서, 단계 3-2는 종료될 수 있다 (도 22(c)). - 단계 4: k를 1 증가시켜 k=2이 된다. k=2은 K1 집합의 크기(cardinality)인 2과 같으므로 pseudo-code 1은 종료한다. 따라서 도 22(c)을 참조하여, 단말은 4개의 PDSCH 수신 후보 기회 j=0, j=1, j=2, j=3 MA,c를 결정할 수 있다. Type-1 HARQ-ACK 코드북의 크기는 PDSCH 수신 후보 기회의 수에 따라서 결정될 수 있다. PDSCH 수신 후보 기회 당 실제 bits수는 각 PDSCH가 포함하는 전송블록(transport block)의 수, 각 PDSCH가 포함하는 코드블록그룹 (code block group, CBG)의 수, 내지 공간 번들링(spatial bundling)등 설정에 따라서 결정될 수 있다. 도 22를 참조하여, 단말은 슬롯 n에서 type-1 HARQ-ACK 코드북을 포함하는 PUCCH를 전송한다. 하지만, K1 값으 로 -1에 대응되는 j=2와 j=3 MA,c는 슬롯 n 이후의 슬롯들이다. 따라서, 상기 type-1 HARQ-ACK 코드북에서 상기 K1 값으로 -1에 대응되는 j=2와 j=3 MA,c의 HARQ-ACK 정보는 항상 NACK일 수 있다. 이는 미래의 슬롯에 수신될 PDSCH의 HARQ-ACK을 과거의 슬롯의 PUCCH로 전송하는 것으로 비인과적(non-causal)이다. [실시예 1: K1 집합에서 non-numerical K1 값 제외] 본 개시의 일 실시 예로, 상기 K1 집합에서 numerical K1 값만을 포함할 수 있다. 즉, 다시 말해서, 상기 구한 K1 집합에서 non-numerical K1 값에 해당하는 값은 K1 집합에서 제외될 수 있다. 더 구체적으로 단말은 다음을 통하여 K1 집합을 생성할 수 있다. 만약 단말이 DCI format 1_0을 모니터링하도록 설정받고, DCI format 1_1과 DCI format 1_2를 모니터링하도록 설정 받지 않은 경우, K1 집합은, 15kHz, 30kHz, 60kHz, 120kHz 부반송파 간격의 상향링크로 HARQ-ACK 정보를 전송할 때, {1, 2, 3, 4, 5, 6, 7, 8}이고, 480kHz 부반송파 간격의 상향링크로 HARQ-ACK 정보를 전송할 때, {7, 8, 12, 16, 20, 24, 28, 32}이고, 960kHz 부반송파 간격의 상향링크로 HARQ-ACK 정보를 전송할 때, {13,16, 24, 32, 40, 48, 56, 64}일 수 있다. 만약 단말이 DCI format 1_1을 모니터링하도록 설정받고, DCI format 1_2를 모니터링하도록 설정 받지 않은 경 우, K1 집합은 상기 제 1 설정, 제 2 설정, 내지 제 3 설정에 따라 설정된 값들을 포함할 수 있다. 여기서 제 3 설정이 설정되면 제 3 설정의 값들 중 numerical K1 값(applicable K1 값)이 K1 집합에 포함될 수 있고, 제 3 설정이 설정되지 않고 제 2 설정이 설정되면 제 2 설정의 값들 중 numerical K1 값(applicable K1 값)이 K1 집 합에 포함될 수 있고, 제 1 설정만 설정되면 제 1 설정의 값들이 K1 집합에 포함될 수 있다. 만약 단말이 DCI format 1_2을 모니터링하도록 설정받고, DCI format 1_1를 모니터링하도록 설정 받지 않은 경 우, K1 집합은 상기 제 4 설정, 내지 제 5 설정에 따라 설정된 값들을 포함할 수 있다. 여기서 제 5 설정이 설 정되면 제 5 설정의 값들이 K1 집합에 포함될 수 있고, 제 4 설정만 설정되면 제 4 설정의 값들이 K1 집합에 포 함될 수 있다. 만약 단말이 DCI format 1_1과 DCI format 1_2 둘다 모니터링하도록 설정 받을 경우, K1 집합은 제 1 설정, 제 2 설정, 내지 제 3 설정 중 하나의 설정의 값들 중 numerical K1 값(applicable K1 값)과 제 4 설정 내지 제 5 설정 중 하나의 설정의 값들의 합집합으로 결정될 수 있다. 여기서 제 1 설정, 제 2 설정, 내지 제 3 설정 중 하나의 설정은 다음과 같이 결정될 수 있다. 제 3 설정이 설정되면 제 3 설정이 상기 하나의 설정이고, 제 3 설 정이 설정되지 않고 제 2 설정이 설정되면 제 2 설정이 상기 하나의 설정이고, 제 1 설정만 설정되면 제 1 설정 이 상기 하나의 설정일 수 있다. 여기서 제 4 설정, 내지 제 5 설정 중 하나의 설정은 다음과 같이 결정될 수 있다. 제 5 설정이 설정되면 제 5 설정이 상기 하나의 설정이고, 제 4 설정만 설정되면 제 4 설정이 상기 하나 의 설정일 수 있다. 상기 구한 K1 집합은 numerical K1 값(applicable K1 값)만을 포함하므로, 상기 K1 집합을 기초로 Type-1 HARQ-ACK 코드북을 생성할 수 있다. 상기 구한 K1 집합을 기초로 생성된 Type-1 HARQ-ACK 코드북은 non-numerical K1 값(inapplicable K1 값)을 포 함한 DCI format의 HARQ-ACK 정보를 포함할 수 없다. 다시 말해서, 단말은 non-numerical K1 값(inapplicable K1 값)을 포함한 DCI format 또는 해당 DCI format과 관련된 PDSCH의 HARQ-ACK 정보는 상기 Type-1 HARQ-ACK 코드북으로 전송하지 않을 수 있다. 상기 non-numerical K1 값(inapplicable K1 값)을 포함한 DCI format 또는 해당 DCI format과 관련된 PDSCH의 HARQ-ACK 정보는 별도의 HARQ-ACK 코드북으로 전송될 수 있다. 상기 별도의 HARQ-ACK 코드북은 type-3 HARQ-ACK 코드북일 수 있다. 다시 말해서, 단말은 type-3 HARQ-ACK 코드북 전송을 개시(trigger)하는 DCI를 수신할 경우, 상기 DCI에서 지시하는 슬롯에서 type-3 HARQ-ACK 코드북을 전송할 수 있다. 이때, type-3 HARQ-ACK 코드북은 non-numerical K1 값(inapplicable K1 값)을 포함한 DCI format 또는 해당 DCI format과 관련된 PDSCH의 HARQ-ACK 정보를 포함할 수 있다. 도 23은 본 개시의 일 실시 예에 따른 단말의 동작을 도시한 도면이다. 도 23을 참조하여, 제 1 단계로 단말은 상위 계층으로부터 DCI format 별 복수의 K1 값들의 설정들을 수 신할 수 있다. 여기서 DCI format은 DCI format 1_0, DCI format 1_1, 내지 DCI format 1_2를 포함할 수 있다. 여기서 DCI format 별로 복수의 K1 값들의 설정을 수신할 수 있다. 예를 들어, DCI format 1_1의 경우 제 1 설 정, 제 2 설정, 내지 제 3 설정을 수신할 수 있다. 예를 들어, DCI format 1_2의 경우 제 4 설정 내지 제 5 설 정을 수신할 수 있다. 제 2 단계로 단말은 복수의 K1 값들의 설정들을 기초로 K1 집합을 생성할 수 있다. 상기 생성 방법은 앞 서 서술되어 있다. 제 3 단계로 단말은 2단계에서 생성한 K1 집합의 K1 값 중 non-numerical K1 값(inapplicable K1 값)이 존재하는지 판정할 수 있고, 상기 값이 존재한다면 K1 집합에서 제외될 수 있다. 제 4 단계로 단말은 상기 3단계에서 구한 K1 집합을 기초로 Type-1 HARQ-ACK 코드북을 생성할 수 있다. [실시예 1-1: K1 집합에서 일부 K1 값 제외] 앞선, 실시예 1에서 non-numerical K1 값(inapplicable K1 값)에 해당하는 값을 K1 집합에서 제외하였다. 더, 일반화하여, 단말은 K1 집합에서 일부 K1 값들을 제외할 수 있다. 여기서 일부 K1 값들을 다음 중 적어도 하나 를 포함할 수 있다. - Non-numerical K1 값(inapplicable K1 값) - PDSCH processing procedure time 을 만족하지 않는 K1 값들 - 상위 계층을 통해 K1 집합에서 제외되도록(즉, 사용하지 않도록) 설정된 K1 값들 여기서, PDSCH processing procedure time은 단말이 PDSCH를 수신하고 유효한 HARQ-ACK 정보를 생성하여 PUCCH 내지 PUSCH로 전송하기 위한 최소 시간으로 다음과 같이 나타날 수 있다. Tproc,1 = ( N1 + d1,1 + d2)( 2048 + 144 ) κ2-μ Tc + Text - N1: 단말의 capability에 따른 단말 처리 능력 (UE processing capability) 1 또는 2와 뉴머롤로지 μ에 따라 정해지는 심볼 수. 단말의 capability 보고에 따라 단말 처리 능력 1로 보고된 경우 [표 42]의 값을 가지고, 단 말 처리 능력 2로 보고되고 단말 처리 능력 2를 사용할 수 있다는 것이 상위 레이어 시그널링을 통해 설정된 경 우 [표 43]의 값을 가질 수 있다. [표 42]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 42, "content": "[표 43]"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 43, "content": "- d1,1: PDSCH의 길에 따른 심볼 수. - κ: 64 - μ: μPDCCH, μPDSCH, 또는 μUL 중, Tproc,1이 더 크게 되는 값을 따른다. μPDCCH은 PDSCH를 스케줄링 하는 DCI가 포함된 PDCCH가 수신되는 하향링크의 뉴머롤로지를 뜻하고 μPDSCH은 PDSCH가 수신되는 하향링크의 뉴머롤로지를 뜻하고, μUL은 HARQ-ACK이 전송되는 PUCCH 내지 PUSCH가 전송되는 상향링크의 뉴머롤로지를 뜻한다. - Tc: 1/(fmax*Nf), fmax = 480*103Hz, Nf=4096를 가진다. - d2: PUCCH와 높은 priority index를 갖는 PUSCH와 낮은 priority index를 갖는 PUCCH의 OFDM 심볼끼리 시간 상에서 겹치는 경우, 높은 priority index를 갖는 PUSCH의 d2 값이 사용된다. 그렇지 않으면 d2는 0이다. - Text: 단말이 공유 스펙트럼 채널 접속 방식을 사용하는 경우, 단말은 Text를 계산하여 PUSCH 준비 과정 시간에 적용할 수 있다. 그렇지 않으면 Text는 0으로 가정한다. 만약 단말이 상기 PDSCH processing procedure time을 만족하지 않는 PDSCH에 대하여 유효하지 않은 HARQ-ACK 정보를 전송한다. 따라서, 단말은 상기 PDSCH processing procedure time을 만족하지 않는 K1 값을 지시받을 경우, 상기 K1 값에 대응하는 HARQ-ACK 정보는 유효하지 않은 HARQ-ACK 정보라고 가정할 수 있다. 따라서 상기 PDSCH processing procedure time을 만족하지 않는 K1 값들은 K1 집합에서 제외할 수 있다. 더 구체적으로, 한 슬롯의 심볼 수를 Nsymbol이라고 할 때, K1 집합에서 제외될 K1 값은 N1과 Nsymbol의 비를 기초로 결정할 수 있다. 예를 들어, K1 값 이 f(N1/Nsymbol), 내지 f((N1+d1,1)/Nsymbol) 내지 f((N1+d1,1+d2)/Nsymbol) 보다 작으면 또는 작거나 같으면 상기 K1 값은 K1 집합에서 제외될 수 있다. 여기서 f(x) = x 또는 f(x)=floor(x) 또는 f(x) = ceil(x) 중 적어도 하나 일 수 있다. 기지국은 상위 계층 신호로 일부 K1 값을 Type-1 HARQ-ACK 코드북 생성에 사용하지 않도록 설정할 수 있다. 즉, 단말은 상위 계층 신호로부터 값 또는 값들을 설정 받을 수 있고, 상기 값 또는 값들을 K1 집합에서 제외할 수 있다. 또는, 반대로 단말은 상기 K1 집합에 포함되는 K1 값들을 상위 계층으로부터 설정 받을 수 있다. 즉, 앞 서 K1 집합을 결정하는 방법과는 다르게, 상위 계층이 직접적으로(directly) K1 집합에 포함될 K1 값들을 설정 할 수 있다. 이 경우, 상기 K1 집합에 포함된 값 이위의 값을 포함하는 DCI format의 HARQ-ACK 정보는 Type-1 HARQ-ACK 코드북으로 전송되지 않을 수 있다. [실시예 2: Psuedo-code에서 종료 조건 정의] 본 개시의 실시예로 단말은 K1 집합을 생성할때, non-numerical K1 값(inapplicable K1 값)을 포함하여 생성하 되, type-1 HARQ-ACK 코드북을 생성하는 Pseudo-code에서 K1 값이 non-numerical K1 값인지 판정할 수 있다. 상기 판정에 따라 numerical K1 값(applicable K1 값)에 대해서는 PDSCH 수신 후보 기회를 포함하지만, 그렇지 않은 경우(즉, K1 값이 non-numerical K1 값(inapplicable K1 값))에 대해서는 PDSCH 수신 후보 기회를 포함하 지 않을 수 있다. 설명의 편의상 Psuedo-code 1을 기초로 설명한다. 하지만 동일하게 다른 Psuedo-code에도 적용할 수 있다. [pseudo-code 1: (PDSCH 반복 수신 없음)- NNK1 추가- 제 1 방법] - 준비 단계: 집합 R은 TDRA(time domain resource assignment) 테이블에 설정된 스케줄링 정보(PDSCH가 매핑되는 슬롯 정보(이하 K0값), 시작 심볼 및 길이 정보(이하 SLIV(starting and length value))들의 집합이 다. 만약 단말이 하나 이상의 DCI format들을 모니터링하고, 상기 DCI format들이 서로 다른 TDRA 테이블을 사 용할 경우, 상기 집합 R은 모든 TDRA 테이블을 기초로 생성된다. - 단계 0: MA,c를 공집합으로 초기화. k를 0으로 초기화. j를 0으로 초기화. - 단계 1: 설정된 K1 집합에서 k번째 큰 K1 값을 선택한다. (예를 들어, k=0이면 K1 집합에서 가장 큰 K1 값 을 선택하고, k=1이면 K1 집합에서 두번째로 큰 K1 값을 선택한다.) 상기 K1 값을 K1,k라고 한다. 만약 상기 K1 값이 non-numerical K1 값(inapplicable K1 값)이면 단계 4를 수행한다. 만약 상기 K1 값이 numerical K1 값 (applicable K1 값)이면 다음 단계 2를 수행한다. - 단계 2: 만약, K1,k 값에 해당하는 슬롯 (슬롯 n-K1,k)에서 집합 R의 각 행에 속한 시작 심볼 및 길이 정보 (SLIV)에 해당하는 심볼이 상위 계층에서 상향링크로 설정된 심볼과 겹치면, 상기 행은 집합 R에서 제외될 수 있다. - 단계 3-1 (단말이 한 슬롯에 최대 하나의 unicast PDSCH를 수신 받을 수 있는 단말 능력(UE capabilit y)만 있는 경우): 상기 결정된 집합 R이 공집합이 아니면 집합 MA,c에 새로운 PDSCH 수신 후보 기회로 j를 추가 한다. 집합 R의 PDSCH 후보들 중 하나를 수신하게 되면, 단말은 상기 하나의 PDSCH의 HARQ-ACK을 상기 새로운 PDSCH 후보 기회 j에 위치시킬 수 있다. j를 1 증가 시킨다. - 단계 3-2 (단말이 한 슬롯에 하나보다 많은 unicast PDSCH를 수신 받을 수 있는 단말 능력이 있는 경우) 상기 결정된 집합 R에서 가장 앞서 끝나는 SLIV와 그 SLIV와 시간 상 겹치는 SLIV들을 위하여 집합 MA,c에 새로 운 PDSCH 수신 후보 기회로 j를 추가한다. 상기 SLIV를 가진 PDSCH 후보들 중 하나를 수신하게 되면, 단말은 상 기 하나의 PDSCH의 HARQ-ACK을 상기 새로운 PDSCH 후보 기회 j에 위치시킬 수 있다. j를 1 증가 시킨다. 집합 R 에서 상기 SLIV들은 제외한다. 단계 3-2는 집합 R이 공집합일때까지 반복된다. - 단계 4: k를 1 증가시킨다. 만약 k가 K1 집합의 크기(cardinality) 보다 작으면 단계 2부터 다시 시작하 고, K1 집합의 크기(cardinality)보다 같거나 크면 pseudo-code 1은 종료한다. [pseudo-code 1 끝] 상기 pseudo-code 1는 기존 pseudo-code 1과 비교할 때, 단계 1에서 \"만약 상기 K1 값이 non-numerical K1 값 (inapplicable K1 값)이면 단계 4를 수행한다. 그렇지 않으면 (K1 값이 numerical K1 값(applicable K1 값)이 면) 다음 단계 2를 수행한다.\"이 추가되었다. 즉, K1 집합에서 K1값을 선택할때마다 상기 선택된 K1 값이 numerical K1 값인지 non-numerical K1 값인지 판정할 수 있다. 참고로, non-numerical K1 값은 음수를 가지므 로, 상기 조건은 다음과 같이 대체될 수 있다. \"만약 상기 K1 값이 0보다 작으면 단계 4를 수행한다. 그렇지 않 으면 (K1 값이 0보다 크거나 같으면) 다음 단계 2를 수행한다.\" 도 24은 본 개시의 일 실시 예에 따른 무선 통신 시스템에서 단말의 구조를 도시하는 도면이다. 도 24을 참조하면, 단말은 단말기 수신부와 단말기 송신부를 일컫는 송수신부(transceiver), 메모 리(미도시) 및 단말기 처리부(2405, 또는 단말기 제어부 또는 프로세서)를 포함할 수 있다. 전술한 단말의 통신 방법에 따라, 단말의 송수신부(2400, 2410), 메모리 및 단말기 처리부 가 동작할 수 있다. 다만, 단말의 구성 요소가 전술한 예에 한정되는 것은 아니다. 예를 들어, 단말은 전술한 구성 요소들 보다 더 많은 구성 요 소를 포함하거나 더 적은 구성 요소를 포함할 수도 있다. 뿐만 아니라, 송수신부, 메모리, 및 프로세서가 하나 의 칩(chip) 형태로 구현될 수도 있다. 송수신부는 기지국과 신호를 송수신할 수 있다. 여기에서, 신호는 제어 정보 및 데이터를 포함할 수 있다. 이 를 위해, 송수신부는 전송되는 신호의 주파수를 상승 변환 및 증폭하는 RF 송신기와, 수신되는 신호를 저 잡음 증폭하고 주파수를 하강 변환하는 RF 수신기 등으로 구성될 수 있다. 다만, 이는 송수신부의 일 실시 예일뿐이 며, 송수신부의 구성 요소가 RF 송신기 및 RF 수신기에 한정되는 것은 아니다. 또한, 송수신부는 무선 채널을 통해 신호를 수신하여 프로세서로 출력하고, 프로세서로부터 출력되는 신호를 무 선 채널을 통해 전송할 수 있다. 메모리는 단말의 동작에 필요한 프로그램 및 데이터를 저장할 수 있다. 또한, 메모리는 단말이 송수신하는 신호 에 포함된 제어 정보 또는 데이터를 저장할 수 있다. 메모리는 롬(ROM), 램(RAM), 하드디스크, CD-ROM 및 DVD 등과 같은 저장 매체 또는 저장 매체들의 조합으로 구성될 수 있다. 또한, 메모리는 복수 개일 수 있다. 또한 프로세서는 전술한 실시 예에 따라 단말이 동작할 수 있도록 일련의 과정을 제어할 수 있다. 예를 들어, 프로세서는 두 가지 계층으로 구성되는 DCI를 수신하여 동시에 다수의 PDSCH를 수신하도록 단말의 구성 요소를 제어할 수 있다. 프로세서는 복수 개일 수 있으며, 프로세서는 메모리에 저장된 프로그램을 실행함으로써 단말 의 구성 요소 제어 동작을 수행할 수 있다. 도 25은 본 개시의 일 실시 예에 따른 무선 통신 시스템에서 기지국의 구조를 도시하는 도면이다. 도 25을 참조하면, 기지국은 기지국 수신부와 기지국 송신부를 일컫는 송수신부, 메모리(미도시) 및 기지국 처리부(2505, 또는 기지국 제어부 또는 프로세서)를 포함할 수 있다. 전술한 기지국의 통신 방법에 따라, 기지국의 송수신부(2500, 2510), 메모리 및 기지국 처리부 가 동작할 수 있다. 다만, 기지국의 구 성 요소가 전술한 예에 한정되는 것은 아니다. 예를 들어, 기지국은 전술한 구성 요소들 보다 더 많은 구성 요 소를 포함하거나 더 적은 구성 요소를 포함할 수도 있다. 뿐만 아니라 송수신부, 메모리, 및 프로세서가 하나의 칩(chip) 형태로 구현될 수도 있다. 송수신부는 단말과 신호를 송수신할 수 있다. 여기에서, 신호는 제어 정보 및 데이터를 포함할 수 있다. 이를 위해, 송수신부는 전송되는 신호의 주파수를 상승 변환 및 증폭하는 RF 송신기와, 수신되는 신호를 저 잡음 증 폭하고 주파수를 하강 변환하는 RF 수신기 등으로 구성될 수 있다. 다만, 이는 송수신부의 일 실시예일뿐이며, 송수신부의 구성 요소가 RF 송신기 및 RF 수신기에 한정되는 것은 아니다. 또한, 송수신부는 무선 채널을 통해 신호를 수신하여 프로세서로 출력하고, 프로세서로부터 출력된 신호를 무선 채널을 통해 전송할 수 있다. 메모리는 기지국의 동작에 필요한 프로그램 및 데이터를 저장할 수 있다. 또한, 메모리는 기지국이 송수신하는 신호에 포함된 제어 정보 또는 데이터를 저장할 수 있다. 메모리는 롬(ROM), 램(RAM), 하드디스크, CD-ROM 및 DVD 등과 같은 저장 매체 또는 저장 매체들의 조합으로 구성될 수 있다. 또한, 메모리는 복수 개일 수 있다.프로세서는 전술한 본 개시의 실시 예에 따라 기지국이 동작할 수 있도록 일련의 과정을 제어할 수 있다. 예를 들어, 프로세서는 다수의 PDSCH에 대한 할당 정보를 포함하는 두 가지 계층의 DCI들을 구성하고 이를 전송하기 위해 기지국의 각 구성 요소를 제어할 수 있다. 프로세서는 복수 개일 수 있으며, 프로세서는 메모리에 저장된 프로그램을 실행함으로써 기지국의 구성 요소 제어 동작을 수행할 수 있다. 본 개시의 청구항 또는 명세서에 기재된 실시 예들에 따른 방법들은 하드웨어, 소프트웨어, 또는 하드웨어와 소 프트웨어의 조합의 형태로 구현될(implemented) 수 있다. 소프트웨어로 구현하는 경우, 하나 이상의 프로그램(소프트웨어 모듈)을 저장하는 컴퓨터 판독 가능 저장 매체 가 제공될 수 있다. 컴퓨터 판독 가능 저장 매체에 저장되는 하나 이상의 프로그램은, 전자 장치(device) 내의 하나 이상의 프로세서에 의해 실행 가능하도록 구성된다(configured for execution). 하나 이상의 프로그램은, 전자 장치로 하여금 본 개시의 청구항 또는 명세서에 기재된 실시 예들에 따른 방법들을 실행하게 하는 명령어 (instructions)를 포함한다. 이러한 프로그램(소프트웨어 모듈, 소프트웨어)은 랜덤 액세스 메모리 (random access memory), 플래시(flash) 메모리를 포함하는 불휘발성(non-volatile) 메모리, 롬(ROM: Read Only Memory), 전기적 삭제가능 프로그램가 능 롬(EEPROM: Electrically Erasable Programmable Read Only Memory), 자기 디스크 저장 장치(magnetic disc storage device), 컴팩트 디스크 롬(CD-ROM: Compact Disc-ROM), 디지털 다목적 디스크(DVDs: Digital Versatile Discs) 또는 다른 형태의 광학 저장 장치, 마그네틱 카세트(magnetic cassette)에 저장될 수 있다. 또는, 이들의 일부 또는 전부의 조합으로 구성된 메모리에 저장될 수 있다. 또한, 각각의 구성 메모리는 다수 개 포함될 수도 있다. 또한, 프로그램은 인터넷(Internet), 인트라넷(Intranet), LAN(Local Area Network), WLAN(Wide LAN), 또는 SAN(Storage Area Network)과 같은 통신 네트워크, 또는 이들의 조합으로 구성된 통신 네트워크를 통하여 접근 (access)할 수 있는 부착 가능한(attachable) 저장 장치(storage device)에 저장될 수 있다. 이러한 저장 장치 는 외부 포트를 통하여 본 개시의 실시 예를 수행하는 장치에 접속할 수 있다. 또한, 통신 네트워크상의 별도의 저장장치가 본 개시의 실시 예를 수행하는 장치에 접속할 수도 있다. 상술한 본 개시의 구체적인 실시 예들에서, 발명에 포함되는 구성 요소는 제시된 구체적인 실시 예에 따라 단수 또는 복수로 표현되었다. 그러나, 단수 또는 복수의 표현은 설명의 편의를 위해 제시한 상황에 적합하게 선택된 것으로서, 본 개시가 단수 또는 복수의 구성 요소에 제한되는 것은 아니며, 복수로 표현된 구성 요소라 하더라 도 단수로 구성되거나, 단수로 표현된 구성 요소라 하더라도 복수로 구성될 수 있다. 한편, 본 명세서와 도면에 개시된 본 개시의 실시 예들은 본 개시의 기술 내용을 쉽게 설명하고 본 개시의 이해 를 돕기 위해 특정 예를 제시한 것일 뿐이며, 본 개시의 범위를 한정하고자 하는 것은 아니다. 즉 본 개시의 기 술적 사상에 바탕을 둔 다른 변형예들이 실시 가능하다는 것은 본 개시의 속하는 기술 분야에서 통상의 지식을 가진 자에게 자명한 것이다. 또한 상기 각각의 실시 예는 필요에 따라 서로 조합되어 운용할 수 있다. 예컨대, 본 개시의 일 실시 예와 다른 일 실시 예의 일부분들이 서로 조합되어 기지국과 단말이 운용될 수 있다. 예를 들면, 본 개시의 제1 실시 예와 제2 실시 예의 일부분들이 서로 조합되어 기지국과 단말이 운용될 수 있다. 또 한 상기 실시 예들은 FDD LTE 시스템을 기준으로 제시되었지만, TDD LTE 시스템, 5G 혹은 NR 시스템 등 다른 시 스템에도 상기 실시 예의 기술적 사상에 바탕을 둔 다른 변형예들이 실시 가능할 것이다. 한편, 본 발명의 방법을 설명하는 도면에서 설명의 순서가 반드시 실행의 순서와 대응되지는 않으며, 선후 관계 가 변경되거나 병렬적으로 실행될 수도 있다. 또는, 본 발명의 방법을 설명하는 도면은 본 발명의 본질을 해치지 않는 범위 내에서 일부의 구성 요소가 생략 되고 일부의 구성요소만을 포함할 수 있다. 또한, 본 발명의 방법은 발명의 본질을 해치지 않는 범위 내에서 각 실시예에 포함된 내용의 일부 또는 전부가 조합되어 실행될 수도 있다. 본 개시의 다양한 실시예들이 전술되었다. 전술한 본 개시의 설명은 예시를 위한 것이며, 본 개시의 실시예들은"}
{"patent_id": "10-2022-0017264", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 44, "content": "개시된 실시예들에 한정되는 것은 아니다. 본 개시가 속하는 기술분야의 통상의 지식을 가진 자는 본 개시의 기 술적 사상이나 필수적인 특징을 변경하지 않고서 다른 구체적인 형태로 쉽게 변형이 가능하다는 것을 이해할 수 있을 것이다. 본 개시의 범위는 상기 상세한 설명보다는 후술하는 특허청구범위에 의하여 나타내어지며, 특허청 구범위의 의미 및 범위 그리고 그 균등 개념으로부터 도출되는 모든 변경 또는 변형된 형태가 본 개시의 범위에포함되는 것으로 해석되어야 한다."}
{"patent_id": "10-2022-0017264", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 개시의 일 실시예에 따른 무선 통신 시스템에서 시간-주파수영역의 기본 구조를 도시한 도면이다. 도 2는 본 개시의 일 실시예에 따른 무선 통신 시스템에서 프레임, 서브프레임, 슬롯 구조를 도시한 도면이다. 도 3는 본 개시의 일 실시예에 따른 무선 통신 시스템에서 대역폭부분 설정의 일 예를 도시한 도면이다. 도 4은 본 개시의 일 실시예에 따른 무선 통신 시스템에서 하향링크 제어채널의 제어영역 설정의 일 예를 도시한 도면이다. 도 5는 본 개시의 일 실시예에 따른 무선 통신 시스템에서 하향링크 제어채널의 구조를 도시한 도면이다. 도 6은 본 개시의 일 실시예에 따른 무선 통신 시스템에서 기지국 및 단말이 하향링크 데이터 채널 및 레이트 매칭 자원을 고려하여 데이터를 송수신하는 방법을 설명하기 위한 도면이다. 도 7은 본 개시의 일 실시예에 따른 무선 통신 시스템에서 PDSCH의 주파수 축 자원 할당 예를 도시하는 도면이 다. 도 8는 본 개시의 일 실시예에 따른 무선 통신 시스템에서 PDSCH의 시간 축 자원 할당 예를 도시하는 도면이다. 도 9는 본 개시의 일 실시예에 따른 무선 통신 시스템에서 데이터 채널(data channel) 및 제어 채널(control channel)의 서브캐리어 간격에 따른 시간 축 자원 할당 예를 도시하는 도면이다. 도 10은 본 개시의 일 실시예에 따른 무선 통신 시스템에서 single cell, carrier aggregation, dual connectivity 상황에서 기지국과 단말의 무선 프로토콜 구조를 도시하는 도면이다. 도 11은 본 개시의 일 실시 예에 따른 하나 이상의 PDSCHs를 스케줄링하는 일례를 도시한 도면이다. 도 12는 본 개시의 일 실시 예에 따른 Single-PDSCH 스케줄링과 Multi-PDSCH 스케줄링의 DCI를 도시한 도면이다. 도 13은 본 개시의 일 실시 예에 따른 복수의 PDSCH의 HARQ-ACK을 전송하는 방법을 도시한 도면이다. 도 14는 본 개시의 일 실시 예에 따른 하나의 슬롯에서 수신되는 PDSCH에 대한 HARQ-ACK 코드북을 생성하는 pseudo-code를 설명하기 위한 일례를 도시한 도면이다. 도 15는 본 개시의 일 실시 예에 따른 복수의 슬롯에서 반복 수신되는 PDSCH에 대한 HARQ-ACK 코드북을 생성하 는 pseudo-code를 설명하기 위한 일례를 도시한 도면이다. 도 16a는 본 개시의 실시 예에 따른 복수의 스케줄링 정보를 포함하는 TDRA 테이블에 기반한 PDSCH들을 도시한 일례를 도시한 도면이다. 도 16b는 본 개시의 실시 예에 따른 복수의 스케줄링 정보를 포함하는 TDRA 테이블에 따른 PDSCH들을 single- PDSCH 스케줄링으로 간주함에 따른 K1 값들의 확장을 설명하기 위한 일례를 도시한 도면이다. 도 16c는 본 개시의 실시 예에 따른 HARQ-ACK 코드북을 생성하는 pseudo-code를 설명하기 위한 또 다른 일례를 도시한 도면이다. 도 16d는 본 개시의 실시 예에 따른 HARQ-ACK 코드북을 생성하는 pseudo-code를 설명하기 위한 또 다른 일례를 도시한 도면이다. 도 17은 본 개시의 일 실시 예에 따른 복수의 슬롯에서 반복 수신되는 PDSCH에 대해 time-domain bundling을 설 정/적용하여 HARQ-ACK 코드북을 생성하는 pseudo-code를 설명하기 위한 일례를 도시한 도면이다. 도 18은 단말이 PDSCH에 대한 수신 성공을 나타내는 HARQ-ACK 정보를 상향링크로 전송하는 것을 도시한 도면이 다. 도 19는 단말이 복수 개의 DCI format으로 스케줄링된 복수 개의 PDSCH를 수신하는 것을 도시한 도면이다. 도 20은 하향링크 서빙 셀(DL CC) 및 상향링크 서빙 셀(UL CC)를 설정받은 단말의 Type-3 HARQ-ACK 코드북 전송 을 도시한 도면이다. 도 21은 enhanced Type-3 HARQ-ACK 코드북이 설정된 단말의 enhanced Type-3 HARQ-ACK 코드북 전송을 도시한 도면이다. 도 22는 K1 집합에 non-numerical K1 값이 포함될 경우 type-1 HARQ-ACK 코드북 생성 과정을 나타낸 도면이다. 도 23은 본 개시의 일 실시 예에 따른 단말의 동작을 도시한 도면이다. 도 24는 본 개시의 일 실시 예에 따른 무선 통신 시스템에서 단말의 구조를 도시하는 도면이다. 도 25는 본 개시의 일 실시 예에 따른 무선 통신 시스템에서 기지국의 구조를 도시하는 도면이다."}
