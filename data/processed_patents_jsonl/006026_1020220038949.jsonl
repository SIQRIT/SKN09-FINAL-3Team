{"patent_id": "10-2022-0038949", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0140160", "출원번호": "10-2022-0038949", "발명의 명칭": "조직 슬라이드 이미지 분석 시스템 및 방법", "출원인": "가톨릭대학교 산학협력단", "발명자": "정요셉"}}
{"patent_id": "10-2022-0038949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "조직 슬라이드 이미지로부터 복수의 타일 이미지들을 추출하는 추출부;상기 복수의 타일 이미지들을 인공지능 모델에 입력하고, 상기 인공지능 모델의 출력 정보를 기초로 상기 복수의 타일 이미지들에 대한 예상 확률 맵을 생성하는 확률 맵 생성부; 및상기 예상 확률 맵을 기초로 상기 조직 슬라이드 이미지를 복수의 클래스들 중 하나로 분류하는 클래스 분류부;를 포함하는 조직 슬라이드 이미지 분석 시스템."}
{"patent_id": "10-2022-0038949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 조직 슬라이드 이미지는,대장 생검 조직에 대한 슬라이드 이미지인 조직 슬라이드 이미지 분석 시스템."}
{"patent_id": "10-2022-0038949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 대장 생검 조직은 헤마톡실린 및 에오신 염색이 적용된 조직인 조직 슬라이드 이미지 분석 시스템."}
{"patent_id": "10-2022-0038949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 추출부는,슬라이딩 윈도우 알고리즘을 기반으로 상기 복수의 타일 이미지들을 생성하는 조직 슬라이드 이미지 분석 시스템."}
{"patent_id": "10-2022-0038949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서,상기 복수의 타일 이미지들은 R(Red)채널, B(Blue)채널 및 G(Green)채널을 가지는 RGB 이미지인 조직 슬라이드이미지 분석 시스템."}
{"patent_id": "10-2022-0038949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에 있어서,상기 인공지능 모델은 컨볼루션 신경망 네트워크인 조직 슬라이드 이미지 분석 시스템."}
{"patent_id": "10-2022-0038949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "공개특허 10-2023-0140160-3-제1항에 있어서,상기 복수의 클래스들은,선암종, 이형성이 있는 고급 샘종, 이형성이 있는 저등급 샘종, 카르시노이드 및 과형성 폴립을 포함하는 조직슬라이드 이미지 분석 시스템."}
{"patent_id": "10-2022-0038949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "조직 슬라이드 이미지로부터 복수의 타일 이미지들을 추출하는 추출 단계;상기 복수의 타일 이미지들을 인공지능 모델에 입력하는 입력 단계;상기 인공지능 모델의 출력 정보를 기초로 상기 복수의 타일 이미지들에 대한 예상 확률 맵을 생성하는 확률 맵생성 단계; 및상기 예상 확률 맵을 기초로 상기 조직 슬라이드 이미지를 복수의 클래스들 중 하나로 분류하는 클래스 분류 단계를 포함하는 조직 슬라이드 이미지 분석 방법."}
{"patent_id": "10-2022-0038949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에 있어서,상기 조직 슬라이드 이미지는,대장 생검 조직에 대한 슬라이드 이미지인 조직 슬라이드 이미지 분석 방법."}
{"patent_id": "10-2022-0038949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서,상기 대장 생검 조직은 헤마톡실린 및 에오신 염색이 적용된 조직인 조직 슬라이드 이미지 분석 방법."}
{"patent_id": "10-2022-0038949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제8항에 있어서,상기 추출 단계는,슬라이딩 윈도우 알고리즘을 기반으로 상기 복수의 타일 이미지들을 추출하는 조직 슬라이드 이미지 분석 방법."}
{"patent_id": "10-2022-0038949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제8항에 있어서,상기 복수의 타일 이미지들은 R(Red)채널, B(Blue)채널 및 G(Green)채널을 가지는 RGB 이미지인 조직 슬라이드이미지 분석 방법."}
{"patent_id": "10-2022-0038949", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제8항에 있어서,상기 인공지능 모델은 컨볼루션 신경망 네트워크인 조직 슬라이드 이미지 분석 시스템.공개특허 10-2023-0140160-4-청구항 14 제8항에 있어서,상기 복수의 클래스들은,선암종, 이형성이 있는 고급 샘종, 이형성이 있는 저등급 샘종, 카르시노이드 및 과형성 폴립을 포함하는 조직슬라이드 이미지 분석 시스템."}
{"patent_id": "10-2022-0038949", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 명세서는 조직 슬라이드 이미지로부터 복수의 타일 이미지들을 추출하는 추출부, 복수의 타일 이미지들을 인 공지능 모델에 입력하고, 인공지능 모델의 출력 정보를 기초로 복수의 타일 이미지들에 대한 예상 확률 맵을 생 성하는 확률 맵 생성부 및 예상 확률 맵을 기초로 상기 조직 슬라이드 이미지를 복수의 클래스들 중 하나로 분류 하는 클래스 분류부를 포함하는 조직 슬라이드 이미지 분석 시스템 및 그에 대한 방법을 제공한다."}
{"patent_id": "10-2022-0038949", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 조직 슬라이드 이미지 분석 시스템 및 방법에 관한 것이다."}
{"patent_id": "10-2022-0038949", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "병리학자(pathologist)를 위한 많은 검사는 오진(misdiagnosis)의 위험에 노출되어 있다. 이는 의료비의 급격한 증가, 오진율의 증가, 의료 생산성의 저하, 암 진단의 위험과 같은 문제를 발생시킬 수 있다. 이러한 문제를 해결하기 위해 병리학적(pathological) 이미지를 자동으로 분석하려는 연구가 진행되고 있다. 병 리학적 이미지를 자동 분석할 경우, 사람의 노력을 줄이고 시간을 절약하며 수술 및 치료를 위한 기반을 제공할 수 있다는 장점이 있다. 그러나 중앙 처리 장치(CPU) 및 그래픽 처리 장치(GPU)의 속도와 메모리 용량이 지속적으로 증가함에도 불구하 고, 병리학적 이미지 분석 기술의 발전은 병리학적 이미지의 큰 사이즈로 인해 방해를 받고 있다."}
{"patent_id": "10-2022-0038949", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "실시예들은, 조직 슬라이드 이미지를 보다 빠르게 정확하게 분석할 수 있는 조직 슬라이드 이미지 분석 시스템 및 방법을 제공한다. 다만, 본 실시예가 이루고자 하는 기술적 과제는 상기된 바와 같은 기술적 과제로 한정되지 않으며, 또 다른 기 술적 과제들이 존재할 수 있다."}
{"patent_id": "10-2022-0038949", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "일 실시예는, 조직 슬라이드 이미지로부터 복수의 타일 이미지들을 추출하는 추출부, 복수의 타일 이미지들을 인공지능 모델에 입력하고, 인공지능 모델의 출력 정보를 기초로 복수의 타일 이미지들에 대한 예상 확률 맵을 생성하는 확률 맵 생성부 및 예상 확률 맵을 기초로 상기 조직 슬라이드 이미지를 복수의 클래스들 중 하나로 분류하는 클래스 분류부를 포함하는 조직 슬라이드 이미지 분석 시스템을 제공한다. 다른 실시예는, 조직 슬라이드 이미지로부터 복수의 타일 이미지들을 추출하는 추출 단계 복수의 타일 이미지들 을 인공지능 모델에 입력하는 입력 단계, 인공지능 모델의 출력 정보를 기초로 상기 복수의 타일 이미지들에 대 한 예상 확률 맵을 생성하는 확률 맵 생성 단계 및 예상 확률 맵을 기초로 상기 조직 슬라이드 이미지를 복수의 클래스들 중 하나로 분류하는 클래스 분류 단계를 포함하는 조직 슬라이드 이미지 분석 방법을 제공한다."}
{"patent_id": "10-2022-0038949", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "실시예들에 따른 조직 슬라이드 이미지 분석 시스템 및 방법에 의하면, 조직 슬라이드 이미지를 보다 빠르게 정 확하게 분석할 수 있다."}
{"patent_id": "10-2022-0038949", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "아래에서는 첨부한 도면을 참조하여 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자가 용이하게 실시할 수 있도록 본 발명의 실시예를 상세히 설명한다. 그러나 본 발명은 여러 가지 상이한 형태로 구현될 수 있으며 여기에서 설명하는 실시예에 한정되지 않는다. 그리고 도면에서 본 발명을 명확하게 설명하기 위해서 설명과 관 계없는 부분은 생략하였으며, 명세서 전체를 통하여 유사한 부분에 대해서는 유사한 도면 부호를 붙였다. 명세서 전체에서, 어떤 부분이 다른 부분과 \"연결\"되어 있다고 할 때, 이는\"직접적으로 연결\"되어 있는 경우뿐 아니라, 그 중간에 다른 소자를 사이에 두고 \"전기적으로 연결\"되어 있는 경우도 포함한다. 또한 어떤 부분이 어떤 구성요소를 \"포함\"한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다른 구성요소를 제외하는 것이 아 니라 다른 구성요소를 더 포함할 수 있는 것을 의미하며, 하나 또는 그 이상의 다른 특징이나 숫자, 단계, 동작, 구성요소, 부분품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해 되어야 한다. 명세서 전체에서 사용되는 정도의 용어 \"약\", \"실질적으로\" 등은 언급된 의미에 고유한 제조 및 물질 허용오차 가 제시될 때 그 수치에서 또는 그 수치에 근접한 의미로 사용되고, 본 발명의 이해를 돕기 위해 정확하거나 절 대적인 수치가 언급된 개시 내용을 비양심적인 침해자가 부당하게 이용하는 것을 방지하기 위해 사용된다. 본 발명의 명세서 전체에서 사용되는 정도의 용어 \"~(하는) 단계\" 또는 \"~의 단계\"는 \"~ 를 위한 단계\"를 의미하지 않는다. 본 명세서에 있어서 '부(部)'란, 하드웨어에 의해 실현되는 유닛(unit), 소프트웨어에 의해 실현되는 유닛, 양 방을 이용하여 실현되는 유닛을 포함한다. 또한, 1개의 유닛이 2개 이상의 하드웨어를 이용하여 실현되어도 되 고, 2개 이상의 유닛이 1개의 하드웨어에 의해 실현되어도 된다. 본 명세서에 있어서 단말, 장치 또는 디바이스가 수행하는 것으로 기술된 동작이나 기능 중 일부는 해당 단말, 장치 또는 디바이스와 연결된 서버에서 대신 수행될 수도 있다. 이와 마찬가지로, 서버가 수행하는 것으로 기술 된 동작이나 기능 중 일부도 해당 서버와 연결된 단말, 장치 또는 디바이스에서 수행될 수도 있다. 본 명세서에서 있어서, 단말과 매핑(Mapping) 또는 매칭(Matching)으로 기술된 동작이나 기능 중 일부는, 단말 의 식별 정보(Identifying Data)인 단말기의 고유번호나 개인의 식별정보를 매핑 또는 매칭한다는 의미로 해석 될 수 있다. 이하, 실시예들을 통해 상세한 내용을 설명한다. I. 소개(introduction) 최근 딥러닝(deep learning) 기술은 다양한 영상분석 기술에 적용되고 있으며, 컴퓨터 비전(computer vision) 기술은 빠르게 발전하고 있다. 특히 컨볼루션 신경망 네트워크(CNN, Convolutional Neural Networks)는 많은 질병을 자동으로 진단하는데 사용되고 있다. 그러나 전술한 바와 같이, 중앙 처리 장치(CPU) 및 그래픽 처리 장 치(GPU)의 속도와 메모리 용량이 지속적으로 증가함에도 불구하고, 병리학적 이미지 분석 기술의 발전은 병리학 적 이미지의 큰 사이즈로 인해 방해를 받고 있다. 병리학적 이미지의 사이즈로 인해 발생하는 메모리 제한 문제를 해결하기 위해, 병리학적 이미지를 전처리하는 과정에서 이미지의 크기를 줄이기 위한 데시메이션(decimation), 자르기(cropping) 및 압축(compression) 등의방법이 사용될 수 있다. 데시메이션(decimation)은 큰 이미지를 다운샘플링하는 프로세스로서, 앤티 앨리어싱(anti-aliasing) 필터를 이 용하여 잡음 전력(noise power)을 줄이고 신호 대 잡음비(SNR, signal to noise ratios)를 개선할 수 있다는 장점이 있다. 그러나 데시메이션은 고주파 정보의 손실을 유발할 수 있으며, 그 결과 감소된 신호 대역폭으로 인해 해상도가 낮아지는 문제가 발생할 수 있다. 자르기(cropping)는 전체 이미지에서 원하는 영역을 타일로 추출하는 방법이다. 자르기를 사용할 경우, 단일 타 일에 대해 누락된 정보는 발생하지 않지만 서로 다른 타일 간의 공간적 관계에 대한 정보가 손실되는 문제가 발 생할 수 있다. 이는 병리학적 이미지에서 대상 판단(object judgement)이 각 세포의 상대적 크기 및 색상에 의 존한다는 점을 고려할 때 중요한 문제일 수 있다. 압축(compression)은 이미지 품질의 저하(degradation) 없이 이미지 파일의 크기를 최소화하고 이미지 데이터의 부적절함과 중복성을 줄이기 위해 널리 사용되며, 큰 사이즈의 이미지를 처리하는 데 주로 선호되는 방법이다. 일 예로, 고해상도를 가지는 대용량의 이미지(e.g. 선박을 탐지하기 위한 위성 이미지)를 압축하기 위해, 이산 웨이블릿 변환(DWT, Discrete Wavelet Transform)이 사용될 수 있다. 이산 웨이블릿 변환이라는 압축 기술은 고해상도를 가지는 대용량의 이미지를 분석하는 과정에서의 어려움을 해 결하고 기존의 컴퓨터 비전 알고리즘보다 우수한 성능을 제공할 수 있다는 장점이 있다. 또한 이산 웨이블릿 변환은. 한정된 지속 시간으로 인해 주파수, 공간에 대한 지역성(locality)을 제공할 수 있 기 때문에 텍스처 분류에도 유용하다. 따라서, 이산 웨이블릿 변환은 조직병리학 이미지를 분석하여 종양을 분 류하는 데에 적용될 수 있다. 이하, 전술한 압축 방법을 이용하여 조직병리학적 이미지를 분석하는 방법을 제안한다. 대용량의 조직병리학 이 미지를 압축하기 위해서, 전술한 이산 웨이블릿 변환 방법 이외에, 헤마톡실린 및 에오신(H&E, hematoxylin and eosin) 염색 특성에 따른 주성분 분석(PCA)을 활용하여 3채널 RGB 이미지를 하나의 채널로 축소하는 방법이 사 용될 수 있다. 본 명세서의 실시예들에서 개시하는 방법을 사용할 경우, 조직병리학적 이미지를 다음과 같이 더 유용하게 분석 할 수 있다. 1) 평균 다이스 점수(dice score)와 픽셀 정확도(pixel accuracy)가 향상될 수 있다. 2) 이산 웨 이블릿 변환을 사용할 경우 공간 정보뿐 아니라 텍스쳐 정보로도 인공 신경망을 훈련할 수 있다. 3) 압축 후 훈 련의 ROI가 높기 때문에 더 강력한 성능을 제공할 수 있다. 이와 같은 압축 방법은 대규모 데이터 및 텍스쳐 정 보가 중요한 응용 프로그램(e.g. 원격 감지, 현미경)에서 유용할 수 있다. II. 방법(METHODS) A.데이터 준비 본 명세서의 실시예에서, 헤마톡실린 및 에오신 염색이 사용된 대장 생검 표본의 전체 슬라이드 이미지(WSI, whole slide image)가 사용되었다. 주석(annotation)은 선암종(ADENOCA, adenocarcinoma), 이형성이 있는 고급 샘종(TAH, high grade adenoma with dysplasia), 이형성이 있는 저등급 샘종(TAL, low grade adenoma with dysplasia), 카르시노이드(CARCINOID, carcinoid), 과형성 폴립(HYPERP, hyperplastic polyp)의 5가지 클래스 로 분류될 수 있다. 일 예로, 전술한 전체 슬라이드 이미지는 대장 생검 조직의 표본을 디지털 전체 슬라이드 카메라(Aperio AT2, Leica biosystems, USA)를 사용하여 촬영한 20배 확대 이미지일 수 있다. B.압축 이미지 분석 본 명세서의 실시예에서는 조직 슬라이드 이미지의 분석을 위해 JPEG2000에서 사용되는 웨이블릿 변환을 기반으 로 압축 영역을 적용하였다. 도 1은 본 발명의 실시예들에서 설명하는 조직 슬라이드 이미지 분석 방법의 일 예를 나타내는 도면이다. 도 1의 (a)는 타일을 추출하는 동작, (b)는 이미지 깊이를 압축하는 동작, (c)는 압축 도메인으로의 순방향 변 환, (d)는 컨볼루션 신경망 네트워크를 이용한 학습 및 예측 동작, (e)는 하나의 타일로부터 전체 이미지를 예 측하는 동작, (f)는 웨이블릿 가중 앙상블(WWE, wavelet-weighted ensemble)을 적용하는 동작을 나타낸 도면이 다.1) 슬라이딩 윈도우 알고리즘 기반 타일 추출 (도 1(a) & 도 2) 하나의 전체 슬라이드 이미지(WSI)에서 복수의 타일들, 즉 타일 이미지들을 추출할 때 제한된 시야로 인해 위치 및 인접 타일에 대한 정보가 손실될 수 있다. 그러나 인접한 영역 간의 형태학적(morphological) 정보는 진단 결정에 매우 중요한 요소이다. 이러한 문제를 극복하기 위해 다중 ROI(Region of Interest) 및 슬라이딩 윈도우 방법이 사용될 수 있다. 다중 ROI 방식은 낮은 중복성으로 인해 슬라이딩 윈도우 방법보다 빠르지만 슬라이딩 윈도우 방법은 다음과 같 은 장점이 있다. 첫째, 슬라이딩 윈도우 방식의 중복성(redundancy)은 딥 러닝 기반 접근 방식에서 필수적인 전처리 단계인 데이 터 증대(data augmentation)를 지원할 수 있다. 둘째, 이 방법은 중첩 영역(overlapping area)이 인접한 타일에 서로 의존하기 때문에 제한된 시야 문제를 간접 적으로 극복할 수 있다. 마지막으로 타일들을 기초로 전체 이미지를 합산하는 동안 중첩되는 영역의 확률을 평균화하므로 전체 정확도가 증가할 수 있다. 본 명세서의 실시예들에서 타일 추출 방법으로 슬라이딩 윈도우 방식이 사용되였다. 도 2는 슬라이딩 윈도우 알 고리즘을 이용하여 조직 슬라이드 이미지에서 복수의 타일 이미지들을 추출하는 동작의 일 예를 나타내는 도면 이다. 일 예로, 본 명세서의 실시예들에서 GPU 메모리 크기의 제한으로 인해 수용 가능한 최대 타일 크기는 512 × 512 픽셀이지만 압축 단계 전에 크기가 1,024 × 1,024 픽셀인 타일을 추출하였다. 이때, 슬라이딩 윈도우의 보폭(stride)은 가로 및 세로로 256픽셀로 설정되었다. 2) 주성분 분석(PCA)에 기반한 z축 압축 (도 1(b) & 도 3) 도 3은 복수의 타일 이미지들에 대한 압축 동작을 실행하는 동작의 일 예를 나타낸 도면이다. 도 3을 참조하면, 조직병리학적 이미지에는 세 개의 빨간색(R), 녹색(G) 및 파란색(B) 채널이 있다. 이때, 상관 관계(correlation)는 각 색상별로 높다. 조직병리학적 이미지의 색상은 세포핵(cell nuclei)을 파란색으로 염색하고 세포외기질(extracellular matrix) 과 세포질(cytoplasm)을 분홍색으로 염색하는 헤마톡실린 및 에오신 염색에 의해 변화될 수 있다. 따라서 z축 압축은 조직 영역의 R 및 B 채널에만 적용될 수 있다. 본 명세서의 실시예들에서는 먼저 오츠(Otsu) 알고리즘을 적용하여 조직병리학적 이미지에서 RGB 값을 추출한 다음 G(Green) 채널에 대한 값을 제거할 수 있다. 주성분 분석(PCA)은 R(Red) 채널에 대한 값과 B(Blue) 채널에 대한 값 사이의 변동을 최대화하고 평균 제곱 오 차(mean squared error)를 최소화하기 위해 적용될 수 있다. (도 3(d)). 이 프로세스를 통해 이미지의 차원을 줄이고 조직병리학에서 널리 사용되는 색상에 대한 정규화 프로세스(normalization process)를 실행할 수 있다. 3) 압축 영역에서의 신경망 훈련(x축 및 y축 압축) (도 1(c) & 도 1(d)) 이미지 깊이 압축(z축) 후, x축 및 y축을 따라 정보를 압축하기 위해 Haar 웨이블릿 기반 함수를 사용하여 각 타일에 대해 이산 웨이블릿 변환(DWT)이 수행될 수 있다. 2D 웨이블릿 변환의 부대역(sub-band)은 수학식 1 내 지 4를 사용하여 계산될 수 있다. 수학식 1 수학식 2"}
{"patent_id": "10-2022-0038949", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "수학식 3"}
{"patent_id": "10-2022-0038949", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "수학식 4"}
{"patent_id": "10-2022-0038949", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "여기서 는 입력 타일의 좌표, 는 출력 부대역의 좌표, 와 는 레벨 j의 2D 웨이블릿 기저 함수(basis function), 는 LL(low-low) 부대역이라고 호칭되는 원본 이미지의 근사치, , , 및 는 방향이 각각 수평(vertical), 수직(horizontal), 대각선(diagonal)인 고주파 성분이다. 이러한 구성요소는 각각 LH(low-high) 부대역, HL(high-low) 부대역 및 HH(high-high) 부대역으로 호칭될 수 있다. 이러한 웨이블릿 도메인 분석을 사용하는 방법은 다음과 같은 장점이 있다. 첫째, 이미지 크기는 축소되지만(e.g. 1,024 × 1,024 픽셀에서 512 × 512 픽셀로) 필요한 모든 정보가 원본 이미지를 완벽하게 재구성하기 위해 유지될 수 있다. 재구성 후 ROI는 정보 손실 없이 증가할 수 있으며 이는 일반화 성능에 비례한다. 둘째, 이 방법은 웨이블릿 영역에서 2D 그레이 레벨 동시 발생 행렬(GLCM, grey-level co-occurrence matrix) 의 결과가 암 등급(cancer grading)에 따라 웨이블릿 하위 대역에서 텍스처 정보를 캡처할 수 있기 때문에 텍스 처를 분류하는 데 유용하다. 본 명세서의 실시예들에서, 4개의 이산 웨이블릿 변환 부대역이 각각의 개별 분할 모델인 U-Net++에 병렬로 입 력되였다. 본 명세서의 실시예들에서 다이스 계수(dice coefficient)와 교차 엔트로피(cross-entropy)를 결합한 DiceCE 손실 함수(loss function)가 사용될 수 있다. 일 예로, 각 부대역 모델은 2개의 NVidia Titan X GPU를 사용하 고, 총 배치 크기(batch size)는 각 GPU에 대해 6개이다. 4) 웨이블릿 가중 앙상블을 사용하여 전체 이미지 예측 (도 1(e) & 도 1(f) & 도 4) 이하 재구성 프로세스에 대해 설명한다. 도 4는 웨이블릿 가중 앙상블을 이용하여 조직 슬라이드 이미지를 분석하는 동작의 일 예를 나타낸 도면이다. 본 명세서의 실시예들에서, 각 부대역에 대한 전체 확률 맵(whole probability map)을 생성한 후 도 1(e)와 같 이 각 부대역에 대해 4개의 훈련된 인공지능 신경망에 웨이블릿 가중 앙상블(WWE) 기반 앙상블 학습을 적용하였 다. 먼저, 오츠(Otsu) 알고리즘을 사용하여 원본 이미지에서 바이너리 마스크 이미지(도 4(b))를 획득할 수 있다(도 4(a)). Haar 웨이블릿을 기반으로 하는 2D 웨이블릿 변환 후 이진 조직 마스크(binary tissue mask)에 대한 4개의 웨이 블릿 부대역이 생성되었다(도 4(c)). 본 명세서의 실시예들에서 그것들은 웨이블릿 가중치, 즉 LL 가중치, LH 가중치, HL 가중치 및 HH 가중치로 정의되었다. 본 명세서의 실시예들에서 각 웨이블릿 가중치에 작은 값 ε을 추가한 다음 할당된 가중치를 곱하였다(도 4(d)). 마지막으로 가중치에 해당 확률 맵을 곱한 다음(도 4(e)), 최종 예측을 얻기 위해, Haar 웨이블릿도 사용하는 역 이산 웨이블릿 변환을 적용하였다(도 4(f)). W1, W2, W3 및 W4와 같은 매개변수는 경험적으로 결정되었다. 이상적으로는, 각 부대역의 동일한 영역이 1의 확 률을 갖는다면, 해당 영역의 재구성 확률도 이러한 매개변수 없이 1이어야 한다. 그러나 LL 부대역에는 원본 이 미지의 기본 특성이 있기 때문에 LL 부대역에 더 많은 가중치(즉, 1.8)가 부여되였다. 그런 다음 ε을 추가하여 영-항(zero-terms)을 제거하였다. 본 명세서의 실시예들에서 사용되는 웨이블릿 가중 앙상블 방법은 다음 수학식 5로 표현될 수 있다. 수학식 5"}
{"patent_id": "10-2022-0038949", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "여기서 및 는 레벨 1의 2D 웨이블릿 기저 함수를 나타내고, 는 이진 조직 마스크 (LL 부대역 가중치)의 근사치를 나타내고 는 방향이 각각 수평, 수직 및 대각선인 이진 조직 마스크에 대한 고주파 성분(LH, HL 및 HH 부대역 가중치)이다. 및 는 각 부대역에 대한 확률 맵을 설명한다. 는 웨이블릿 가중 앙상블(WWE) 이후의 최종 예측 결과이다. 수학식 6"}
{"patent_id": "10-2022-0038949", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": ", , , 및 와 같은 가중치 매개변수(weight parameter)를 최적화하기 위해 W = ( , , , ) 이고 는 x의 다이스 점수의 평균을 결정하는 함수인 수학식 6을 만족하는 최적화가 적용되었다.본 명세서의 실시예들에서 각 매개변수의 범위는 0.3에서 3.0이며 단계 크기는 0.3일 수 있다. 일 예로, = 1.8, , , 및 으로 매개변수 값이 선택되었다. C.실험 셋업 예측의 품질은 다음과 같이 주사위 점수(Dice)와 픽셀 정확도(Acc)를 사용하여 정량화될 수 있다. 수학식 7"}
{"patent_id": "10-2022-0038949", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "수학식 8"}
{"patent_id": "10-2022-0038949", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "여기서 은 참 양성, 거짓 양성, 참 음성 및 거짓 음성에 대한 픽셀 수이다. 본 명세서의 실시예들에서, WSI 테스트 데이터 세트에 대해 전술한 앙상블 방법(즉, 웨이블릿 가중 앙상블 (WWE))을 세 가지 방법으로 다른 모델과 비교하였다: 데시메이션 후 데이터 사용 및 압축 대신 슬라이딩 윈도우 타일 추출 적용(픽셀 크기: 512 x 512 픽셀, 슬 라이딩 윈도우의 보폭: 128 픽셀, x10 배율) LL, LH, HL 및 HH 부대역과 같은 압축된 데이터를 사용 각 부대역 결과에 대해 가중 평균 앙상블(WAE)을 사용 WAE는 다음과 같이 수학식 9로 표현될 수 있다. 수학식 9"}
{"patent_id": "10-2022-0038949", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 9, "content": "여기서"}
{"patent_id": "10-2022-0038949", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 10, "content": "및 는 각 부대역에 대한 확률 맵을 기술하고, 는 가중 평균 앙상블 이후의 최종 예측 결과이다. , , , 및 는 각각 LL, LH, HL 및 HH 부대역에 대한 확률 맵을 설명한다. WAE에서WWE와 동일한 가중치 값을 설정한다. ( , , , 및 ). 본 명세서의 실시예들에서 제안한 방법의 우수성을 검증하기 위해 다음과 같이 실험을 진행하였다. 각 방법 에 따른 평균 Dice와 Acc를 비교하고 모든 클래스에 따른 Dice와 Acc의 분포를 관찰하고, 저주파 가중 치( )와 고주파 가중치( , , and )에 따른 모든 클래스의 다이스 변화를 확인하고 각 방법에 따 라 샘플 이미지와 라인 프로파일을 비교하고 WWE의 Dice, WAE 및 종양 확률 임계값에 따라 압축하지 않은 방법과 비교하였다. III. 실험 결과 및 논의 (EXPERIMENTAL RESULTS AND DISCUSSIONS) 본 명세서의 실시예들에서 제안한 방법을 검증하기 위해서, 일 예로, 390개의 대장 생검 표본의 전체 슬라이드 이미지(WSI)가 사용되었다. 이때, 전체 슬라이드 이미지(WSI)의 평균 크기는 43,443 x 28,645 픽셀이었다. 데이 터 세트는 274개의 기차 데이터, 77개의 검증 데이터, 39개의 테스트 데이터의 세 그룹으로 분류되었다 본 명세서의 실시예들에서 전술한 데이터 세트를 사용하여 대장암(CRC) 조직 이미지에서 정상 및 비정상 영역의 이진 분할(binary segmentation)을 달성하기 위한 파이프라인이 구현되었다. 각 방법에 따른 평균 Dice와 Acc를 비교하였을 때, 압축된 데이터를 사용한 모델의 경우 압축하지 않은 모델에 비해 LL 부대역에 대한 평균 Dice 및 Acc 결과가 각각 5.6% 및 1.6% 증가하였다. 그러나 LH(Dice의 경우 -7.6% 및 Acc의 경우 -2.5%), HL(Dice의 경우 -4.0% 및 Acc의 경우 -2.2%) 및 HH(Dice 및 -의 경우 -6.4%)의 평균 Dice 및 Acc 결과 1.5% for Acc) 고주파 정보를 전달하는 부대역은 압축 전과 비교 하여 감소하였다. 도 5는 사용된 모델에 따른 클래스 별 Dice와 Acc를 나타낸다. 모든 종양 클래스의 경우 LL 부대역에 대한 평균 결과는 상대적으로 높다. 또한, 고주파 성분을 운반하는 LH, HL, HH 부대역의 평균 결과는 ADENOCA 및 TAH에서 상대적으로 높으며, 진행성 질병 진행 및 그에 따른 병리학적 변형으로 인해 상대적으로 탐지하기 용이하다. 그 러나 LH, HL, HH 부대역의 결과는 TAL, CARCINOID 및 HYPERP에 대해 덜 예측적이다. TAL(상대적으로 덜 진행됨), CARCINOID(악성(malignant) 종양이지만 점막하층(submucosa)에서 발생) 및 HYPERP(양성(benign) 종양)는 고주파 성분만으로 정확하게 예측하기 어렵다. 이러한 결과를 바탕으로 본 발명의 실시예들에서는 저주파 정보와 고주파 정보를 모두 이용하여 결과를 개선할 수 있는 앙상블 방법을 제안한다. 널리 사용되는 앙상블 기법인 가중 평균 앙상블(WAE)의 경우 LL 부대역의 결과에 가중치를 부여하더라도 평균 Dice와 Acc가 LL 부대역의 평균 Dice와 Acc보다 낮다(-5.7% 주사위의 경우 및 Acc의 경우 -2.3%). 무압축 결과 에 비해 ADENOCA와 TAH는 LH, HL, HH와 같은 고주파 서브 대역의 Dice와 Acc가 무압축의 경우보다 높기 때문에 WAE 이후 좋은 성능을 보였다. (ADENOCA: 주사위의 경우 +4.9%, Acc의 경우 +0.0%, TAH: 주사위의 경우 +3.7%, Acc의 경우 +0.2%). 그러나 고주파 대역에서 낮은 성능을 보이는 TAL, CARCINOID, HYPERP의 경우 가중 평균 앙 상블(WAE) 이후의 Dice 및 Acc는 압축하지 않은 경우보다 낮다(TAL: Dice의 경우 +0.2%, Acc의 경우 -0.4% CARCINOID: 주사위의 경우 +4.3%, Acc의 경우 +2.3%, HYPERP: 주사위의 경우 +11.1%, Acc의 경우 +4.1%;). 반면 웨이블릿 가중 앙상블(WWE)의 경우 평균 Dice 및 Acc는 LL에 비해 각각 약 0.6% 및 0.2% 증가한다. 각 클 래스에 대해, ADENOCA(주사위 +0.4% 및 Acc +0.1%), TAH(주사위 +0.7% 및 Acc +0.2%), TAL(주사위 +0.5% 및 Acc +0.1%) CARCINOID(주사위의 경우 +1.5% 및 Acc의 경우 +0.1%) 및 HYPER(주사위의 경우 +0.8% 및 Acc의 경 우 +1.8%)의 결과가 점차 증가한다. 특히 WAE와 달리, WWE는 TAL(Dice의 경우 +9.2% 및 Acc의 경우 +1.6%), CARCINOID(Dice의 경우 +8.7% 및 Acc의 경우 +3.7%) 및 HYPERP(Dice의 경우 + 14%, Acc의 경우 +4.9%), 각각 WAE보다 높은 성능을 보여준다. 저주파 가중치( )와 고주파 가중치( , 및 )에 따른 모든 클래스의 다이스 점수 변화를 실증적으로 검증하여 각 가중치를 최적화하였다. WWE에서 최고의 가중치는 평균 다이스 점수에 의해 결정될 수 있다. 도 6은 모든 클래스(ADENOCA, TAH, TAL, CARCINOID 및 HYPERP)에서 저주파 가중치( )에 대한 다이스 점수의 변화를 설명한다. 도 6을 참조하면, 0.6에서 0.9까지 모든 클래스의 주사위 점수가 상대적으로 가파르게 증가한다. 특히 HYPERP와 ADENOCA의 다이스 점수 상승률은 상대적으로 높다. 값 1.2를 넘어서면 모든 클래스에서 주사위 점수가 포화 (saturated)되기 시작한다. 또한 고주파 가중치(W_2, W_3 및 W_4)의 값을 변경했지만 다이스 점수의 변화는 무 시될 수 있다. 도 7은 종양 확률에 대한 히트맵과 라인 프로파일을 사용하여 주석에 대한 분할 예측, 압축이 없는 방법, WAE 및 WWE를 비교한 결과를 나타낸 도면이다(도 7a-d). 색상 막대는 각 픽셀에 대한 종양 확률을 나타낸다. 히트맵 은 원본 조직학 이미지(histology image)에 오버레이되며, 컬러 테두리 영역의 확대 이미지는 메인 이미지 상단 에 위치한다. 빨간색 점선을 따라 절단된 종양 확률의 라인 프로파일은 메인 이미지 아래에 존재한다. 도 7(a)는 병리학자가 주석을 추가한 실측값이다. 주석의 픽셀 값은 1이고 다른 영역의 값은 0이다. 도 7(b)는 압축하지 않은 방법의 분할 결과를 보여준다. 효율적인 훈련을 위해 데시메이션 후 고주파 정보의 약 간의 손실이 있지만 단일 훈련에 사용되는 ROI는 다른 방법과 동일하다. 도 7(b)의 확대된 이미지는 주석에서보 다 더 넓은 영역을 예측하고 각 픽셀의 종양 확률은 상대적으로 낮다. 도 7(c)와 같이 WAE에 대한 분할 결과는 압축하지 않은 것보다 질적으로 확실히 우수하다. WWE의 최종 분할 결 과는 다른 방법에 비해 각 픽셀에서 정확한 에지(edge)와 높은 확률을 가지고 있다. WWE로 처리된 종양 확률 라 인 프로파일은 원래 주석 프로파일과 가장 유사하다. 웨이블릿 부대역에 대한 WWE의 다이스 점수, 웨이블릿 부대역에 대한 WAE 및 압축이 없는 방법은 임계 종양 확 률 값 범위에서 비교될 수 있다. 임계값 0.1과 0.4 사이에서 압축하지 않은 방법의 다이스 점수는 WAE보다 약간 높다. 그러나 임계값 0.5를 초과하면 이 방법의 주사위 점수가 다른 방법에 비해 급격히 떨어진다. WAE와 WWE는 모든 임계값에 대해 계속해서 강력한 성능을 발휘하며 WWE의 다이스 점수는 고주파 정보 덕분에 WAE보다 일관되 게 높다. 마지막으로 WWE 예측 이미지와 병리학자가 주석을 단 이미지를 비교하였다. 도 8은 종양에 대한 예상 결과를 클래스 별로 나타낸 도면이다. 도 8a-e는 5가지 다른 종양 클래스의 조직학 이미지를 보여준다. 병리학자의 주석은 도 8f-j에 나와 있다. WWE 를 사용한 해당 예측 확률 맵은 도 8k-o에 나와 있다. 제안된 WWE 방법은 일반적으로 실제 이미지와 잘 일치하 는 고통 영역(afflicted area)을 분할하였다. WWE의 평균 다이스 점수와 Acc는 각각 0.852 ± 0.086 및 0.962 ± 0.027이다. 최고의 다이스 점수(0.887 ± 0.101)는 고주파 정보가 중요한 TAH이다. 반면에 가장 나쁜 다이스 점수(0.830 ± 0.057)는 저주파 정보가 중요 한 TAL 이다. HYPERP의 경우 노란색 점선 상자(도 8o-t)에서 볼 수 있듯이 죽은 핵(dead nuclei)이 모여 있는 정상 영역이 비정상적으로 예측되는 것이 관찰되었다. 이러한 비정상적인 예측은 조직 주름(tissue fold), 잉크, 먼지 및 기포와 같은 인공물로 인해 발생할 수 있으며 추가 인공물 제거가 필요할 수 있다. 이러한 이상 에도 불구하고 WWE를 사용한 대장암의 전반적인 예측은 어느 한 클래스에 편향되지 않고, 모든 클래스에 대해 잘 수행되었다. 이상에서 설명한 방법을 통해, 고주파 정보 손실을 줄이기 위해 압축 영역을 사용하여 진단 정확도(예: Dice, Acc)를 높일 수 있다. 본 명세서의 실시예에서 압축 영역에서 저주파 성분과 고주파 성분을 각각 학습하여 결합하는 WWE 방식이 제안 되었다. NVIDIA TITAN X 12Gb GPU를 사용하면 U-net++ 모델을 한 번에 최대 타일 크기 512 x 512로 학습할 수 있다. 따라서 압축 없이 의 실험 ROI 크기를 학습하려면 원본 이미지의 해상도(x20 배율)를낮춰야(x10 배율)해야 한다. 이 과정에서 고주파 성분의 손실을 피할 수 없다. 반면에 본 명세서의 실시예에서 제안하는 방법은 압축 전 1024 x 1024의 타일 크기를 처리할 수 있다. 따라서 동일한 ROI 크기를 학습하기 위해 해상도를 낮출 필요가 없으며 20배 배율로 학습이 가능하다. 또한, 본 명세서 의 실시예에서 제안하는 방법은 압축을 하지 않는 방법에 비해 하드웨어의 한계보다 4배 큰 타일을 학습할 수 있다. 한편, 본 명세서의 실시예에서 설명한 방법은 동시에 4배 더 많은 GPU를 필요로 할 수 있다. 시간 자원(time resource)의 관점에서 볼 때 일반적인 2차원 컨볼루션 기반 CNN의 경우 입력 크기가 커질수록 연산량이 기하급 수적으로 증가한다. 따라서 한 번에 4배 큰 이미지를 학습하는 것보다 하나의 이미지를 4개의 이미지로 분리하 여 학습하는 것이 더 빠르다. 이 경우는 쿨리-튜키(Cooley-Tukey) FFT 알고리즘의 원리와 유사하다. IV. 결론(CONCLUSION) 하드웨어의 한계로 인해 이미지의 크기를 조정해야 하는 과정에서 발생하는 고주파 정보의 손실을 방지하고 보 호된 고주파 정보를 사용하여 최종 결과의 정확도를 높이기 위한 연구가 수행되었다. 웨이블릿 가중 앙상블 방 법을 사용하여 압축하지 않은 이미지보다 정확도가 향상되었음을 발견하였다. 전체적인 정확도는 저주파 성분에 의해 결정되었고 고주파 성분은 마진에 영향을 미쳤다. 본 명세서의 실시예들에서 설명한 처리 방법은 대장암 병리조직학 이미지에 적용되었다. 이 처리 방법은 일반 병리조직학 이미지에도 적용할 수 있으며 비슷한 정확도 증가를 보인다. 제안된 웨이블릿 가중 앙상블 방법은 대규모 이미지(예: 천문학 및 위성 이미지)를 처리하고 마진에 중요한 다른 분야(예: 방사선 치료)에도 적용될 수 있다. 도 9는 조직 슬라이드 이미지 분석 시스템의 개략적인 구조를 나타낸 도면이다. 도 9를 참조하면, 조직 슬라이드 이미지 분석 시스템은 추출부, 확률 맵 생성부 및 클래스 분류 부를 포함할 수 있다. 추출부는 입력된 조직 슬라이드 이미지로부터 복수의 타일 이미지들을 추출할 수 있다. 이때, 조직 슬라이드 이미지는 일 예로 대장(colorectal) 생검 조직에 대한 슬라이드 이미지로서, 전술한 전체 슬라이드 이미지(WSI)일 수 있다. 조직 슬라이드 이미지가 대장 생검 조직에 대한 슬라이드 이미지일 때, 대장 생검 조직은 전술한 헤마톡실린 및 에오신(H&E) 염색이 적용된 조직일 수 있다. 전술한 바와 같이, 헤마톡실린 및 에오신 염색이 적용될 때, 대장 생검 조직에서 세포핵(cell nuclei)은 파란색으로 염색되고 세포외기질(extracellular matrix)과 세포질 (cytoplasm)은 분홍색으로 염색될 수 있다. 한편, 복수의 타일 이미지들은 조직 슬라이드 이미지보다 작은 크기의 이미지일 수 있다. 이때, 복수의 타일 이 미지들의 너비 및 높이는 제1 크기(e.g. 1024)일 수 있다. 추출부는 전술한 슬라이딩 윈도우 알고리즘을 기반으로 복수의 타일 이미지들을 생성할 수 있다. 즉, 추출 부는 조직 슬라이드 이미지 상에서 슬라이딩 윈도우에 중첩되는 부분을 타일 이미지로 추출하고 이후 슬라 이딩 윈도우의 위치를 이동시킨 후 다시 타일 이미지를 추출하는 과정을 반복하면서 복수의 타일 이미지들을 생 성할 수 있다. 일 예로, 복수의 타일 이미지들은 R(Red) 채널, B(Blue) 채널 및 G(Green) 채널을 가지는 RGB 이미지일 수 있다. 한편, 추출부는 복수의 타일 이미지들에 대한 압축 동작을 선택적으로 실행할 수도 있다. 복수의 타일 이미지들이 RGB 이미지일 때, 복수의 타일 이미지들에 대한 G채널 성분을 제거할 수 있다. 이 경우 복수의 타일 이미지들은 R채널과 B채널 성분만 남게 된다. 추출부는 이와 같이 G채널 성분이 제거된 복수의 타일 이미지들을 1채널 이미지로 압축할 수 있다. 이때, 압축된 복수의 타일 이미지들의 채널은 예를 들면 흑백(monochrome) 채널 또는 이진(binary) 채널일 수 있다. 확률 맵 생성부는 복수의 타일 이미지들을 인공지능 모델에 입력하고, 인공지능 모델의 출력 정보를 기초 로 복수의 타일 이미지들에 대한 예상 확률 맵을 생성할 수 있다. 이때, 복수의 타일 이미지들에 대한 예상 확 률 맵은, 복수의 타일 이미지 상의 픽셀 또는 특정 크기의 영역이 질환(e.g. 종양)이 발생한 영역일 확률을 나타내는 2차원 맵으로 설정될 수 있다. 일 예로, 확률 맵은 타일 이미지와 동일한 2차원 이미지일 수 있다. 이때, 확률 맵의 픽셀 (i, j)의 값은 타일 이미지의 픽셀 (i, j)이 질환(e.g. 종양)이 발생한 영역에 포함될 확 률을 지시할 수 있다. 한편, 확률 맵 생성부는 인공지능 모델의 출력 결과와 실제 조직 슬라이드 이미지에서 종양이 발생하였는 지 여부를 비교하여 인공지능 모델에 대한 학습을 추가로 수행할 수 있다. 이때, 인공지능 모델은 일 예로 컨볼루션 신경망 네트워크일 수 있다. 그러나 인공지능 모델은 컨볼루션 신경망 네트워크 이외에 다른 딥러닝 모델일 수도 있다. 딥러닝 모델은 인공 신경망을 다층 레이어로 쌓은 형태의 모델일 수 있다. 즉, 딥 러닝 모델은 다층의 네트워크 로 이루어진 심층 신경망에서 다량의 데이터를 학습시킴으로써 입력값에 대한 특징을 자동으로 학습하고, 이를 통해 목적 함수, 즉 예측 정확도의 에러를 최소화하도록 네트워크를 학습시켜 나아가는 형태의 모델이다. 본 발명에서는 딥 러닝 모델이 컨볼루션 뉴럴 네트워크(CNN)인 경우를 예를 들어 설명하였으나, 본 발명은 이에 제한되지 않고 현재 또는 장래에 사용될 수 있는 다양한 딥 러닝 모델을 이용할 수 있다. 딥 러닝 모델은 딥 러닝 프레임워크를 통해 구현될 수 있다. 딥 러닝 프레임워크는 딥 러닝 모델을 개발할 때 공통적으로 사용되는 기능들을 라이브러리 형태로 제공하고, 시스템 소프트웨어나 하드웨어 플랫폼을 잘 사용할 수 있도록 지원하는 역할을 한다. 본 실시예에서 딥 러닝 모델은 현재 공개되었거나 장래 공개될 어떠한 딥 러 닝 프레임워크를 이용하여 구현될 수 있다. 클래스 분류부는 확률 맵 생성부에서 생성된 예상 확률 맵을 기초로, 조직 슬라이드 이미지를 복수의 클래스들 중 하나로 분류할 수 있다. 일 예로, 클래스 분류부는 조직 슬라이드 이미지에 대한 예상 확률 맵의 패턴과 복수의 클래스들 각각에 설정된 기준 패턴을 비교하여 가장 유사한 클래스를 해당 조직 슬라이드 이미지의 클래스로 설정할 수 있다. 이때, 복수의 클래스들은 전술한 i) 선암종(ADENOCA, adenocarcinoma), ii) 이형성이 있는 고급 샘종(TAH, high grade adenoma with dysplasia), iii) 이형성이 있는 저등급 샘종(TAL, low grade adenoma with dysplasia), iv) 카르시노이드(CARCINOID, carcinoid) 및 v) 과형성 폴립(HYPERP, hyperplastic polyp)을 포함 할 수 있다. 도 10은 조직 슬라이드 이미지 분석 방법을 나타낸 도면이다. 도 10을 참조하면, 조직 슬라이드 이미지 분석 방법은 먼저 조직 슬라이드 이미지로부터 복수의 타일 이 미지들을 추출하는 추출 단계(S1010)를 포함할 수 있다. 이때, 조직 슬라이드 이미지는 대장 생검 조직에 대한 슬라이드 이미지일 수 있다. 대장 생검 조직은 일 예로 헤마톡실린 및 에오신 염색이 적용된 조직일 수 있다. 한편, 추출 단계(S1010)는 슬라이딩 윈도우 알고리즘을 기반으로 복수의 타일 이미지들을 추출할 수 있다. 추출된 복수의 타일 이미지들은 일 예로 R(Red)채널, B(Blue)채널 및 G(Green)채널을 가지는 RGB 이미지일 수 있다. 한편, 추출 단계(S1010)는 복수의 타일 이미지들을 압축하는 단계를 선택적으로 포함할 수 있다. 이때, 복수의 타일 이미지들을 압축하는 단계는 복수의 타일 이미지들에 대한 G채널 성분을 제거하는 단계 및 G채널 성분이 제거된 복수의 타일 이미지들을 각각 1채널 이미지로 압축하는 단계를 포함할 수 있다. 그리고 조직 슬라이드 이미지 분석 방법은 복수의 타일 이미지들을 인공지능 모델에 입력하는 입력 단계 (S1020)를 포함할 수 있다. 인공지능 모델은 일 예로 컨볼루션 신경망 네트워크일 수 있다. 그리고 조직 슬라이드 이미지 분석 방법은 인공지능 모델의 출력 정보를 기초로 복수의 타일 이미지들에 대한 예상 확률 맵을 생성하는 확률 맵 생성 단계(S1030)를 포함할 수 있다. 그리고 조직 슬라이드 이미지 분석 방법은 예상 확률 맵을 기초로 조직 슬라이드 이미지를 복수의 클래스 들 중 하나로 분류하는 클래스 분류 단계(S1040)를 포함할 수 있다. 이때, 복수의 클래스들은 선암종, 이형성이 있는 고급 샘종, 이형성이 있는 저등급 샘종, 카르시노이드 및 과형 성 폴립을 포함할 수 있다.전술한 조직 슬라이드 이미지 분석 시스템은, 프로세서, 메모리, 사용자 입력장치, 프레젠테이션 장치 중 적어도 일부를 포함하는 컴퓨팅 장치에 의해 구현될 수 있다. 메모리는, 프로세서에 의해 실행되면 특정 태스크 를 수행할 있도록 코딩되어 있는 컴퓨터-판독가능 소프트웨어, 애플리케이션, 프로그램 모듈, 루틴, 인스트럭션 (instructions), 및/또는 데이터 등을 저장하는 매체이다. 프로세서는 메모리에 저장되어 있는 컴퓨터-판독가능 소프트웨어, 애플리케이션, 프로그램 모듈, 루틴, 인스트럭션, 및/또는 데이터 등을 판독하여 실행할 수 있다. 사용자 입력장치는 사용자로 하여금 프로세서에게 특정 태스크를 실행하도록 하는 명령을 입력하거나 특정 태스 크의 실행에 필요한 데이터를 입력하도록 하는 수단일 수 있다. 사용자 입력장치는 물리적인 또는 가상적인 키 보드나 키패드, 키버튼, 마우스, 조이스틱, 트랙볼, 터치-민감형 입력수단, 또는 마이크로폰 등을 포함할 수 있 다. 프레젠테이션 장치는 디스플레이, 프린터, 스피커, 또는 진동장치 등을 포함할 수 있다. 컴퓨팅 장치는 스마트폰, 태블릿, 랩탑, 데스크탑, 서버, 클라이언트 등의 다양한 장치를 포함할 수 있다. 컴퓨 팅 장치는 하나의 단일한 스탠드-얼론 장치일 수도 있고, 통신망을 통해 서로 협력하는 다수의 컴퓨팅 장치들로 이루어진 분산형 환경에서 동작하는 다수의 컴퓨팅 장치를 포함할 수 있다. 또한 전술한 조직 슬라이드 이미지 분석 방법은, 프로세서를 구비하고, 또한 프로세서에 의해 실행되면 딥 러닝 모델을 활용한 영상 진단 방법을 수행할 수 있도록 코딩된 컴퓨터 판독가능 소프트웨어, 애플리케이션, 프로그램 모듈, 루틴, 인스트럭션, 및/또는 데이터 구조 등을 저장한 메모리를 구비하는 컴퓨팅 장치에 의해 실 행될 수 있다. 상술한 본 실시예들은 다양한 수단을 통해 구현될 수 있다. 예를 들어, 본 실시예들은 하드웨어, 펌웨어 (firmware), 소프트웨어 또는 그것들의 결합 등에 의해 구현될 수 있다. 하드웨어에 의한 구현의 경우, 본 실시예들에 따른 딥 러닝 모델을 활용한 영상 진단 방법은 하나 또는 그 이상 의 ASICs(Application Specific Integrated Circuits), DSPs(Digital Signal Processors), DSPDs(Digital Signal Processing Devices), PLDs(Programmable Logic Devices), FPGAs(Field Programmable Gate Arrays), 프로세서, 컨트롤러, 마이크로 컨트롤러 또는 마이크로 프로세서 등에 의해 구현될 수 있다. 예를 들어 실시예들에 따른 조직 슬라이드 이미지 분석 방법은 심층 신경망의 뉴런(neuron)과 시냅스 (synapse)가 반도체 소자들로 구현된 인공지능 반도체 장치를 이용하여 구현될 수 있다. 이때 반도체 소자는 현 재 사용하는 반도체 소자들, 예를 들어 SRAM이나 DRAM, NAND 등일 수도 있고, 차세대 반도체 소자들, RRAM이나 STT MRAM, PRAM 등일 수도 있고, 이들의 조합일 수도 있다. 실시예들에 따른 조직 슬라이드 이미지 분석 방법을 인공지능 반도체 장치를 이용하여 구현할 때, 딥 러 닝 모델을 소프트웨어로 학습한 결과(가중치)를 어레이로 배치된 시냅스 모방소자에 전사하거나 인공지능 반도 체 장치에서 학습을 진행할 수도 있다. 펌웨어나 소프트웨어에 의한 구현의 경우, 본 실시예들에 따른 조직 슬라이드 이미지 분석 방법은 이상에 서 설명된 기능 또는 동작들을 수행하는 장치, 절차 또는 함수 등의 형태로 구현될 수 있다. 소프트웨어 코드는 메모리 유닛에 저장되어 프로세서에 의해 구동될 수 있다. 메모리 유닛은 상기 프로세서 내부 또는 외부에 위치 하여, 이미 공지된 다양한 수단에 의해 프로세서와 데이터를 주고 받을 수 있다. 또한, 위에서 설명한 \"시스템\", \"프로세서\", \"컨트롤러\", \"컴포넌트\", \"모듈\", \"인터페이스\", \"모델\", 또는 \"유 닛\" 등의 용어는 일반적으로 컴퓨터 관련 엔티티 하드웨어, 하드웨어와 소프트웨어의 조합, 소프트웨어 또는 실 행 중인 소프트웨어를 의미할 수 있다. 예를 들어, 전술한 구성요소는 프로세서에 의해서 구동되는 프로세스, 프로세서, 컨트롤러, 제어 프로세서, 개체, 실행 스레드, 프로그램 및/또는 컴퓨터일 수 있지만 이에 국한되지 않는다. 예를 들어, 컨트롤러 또는 프로세서에서 실행 중인 애플리케이션과 컨트롤러 또는 프로세서가 모두 구 성 요소가 될 수 있다. 하나 이상의 구성 요소가 프로세스 및/또는 실행 스레드 내에 있을 수 있으며, 구성 요 소들은 하나의 장치(예: 시스템, 컴퓨팅 디바이스 등)에 위치하거나 둘 이상의 장치에 분산되어 위치할 수 있다. 한편, 또 다른 실시예는 전술한 조직 슬라이드 이미지 분석 방법을 수행하는, 컴퓨터 기록매체에 저장되 는 컴퓨터 프로그램을 제공한다. 또한 또 다른 실시예는 전술한 조직 슬라이드 이미지 분석 방법을 실현시키기 위한 프로그램을 기록한 컴퓨터로 읽을 수 있는 기록매체를 제공한다. 기록매체에 기록된 프로그램은 컴퓨터에서 읽히어 설치되고 실행됨으로써 전술한 단계들을 실행할 수 있다. 이와 같이, 컴퓨터가 기록매체에 기록된 프로그램을 읽어 들여 프로그램으로 구현된 기능들을 실행시키기 위하 여, 전술한 프로그램은 컴퓨터의 프로세서(CPU)가 컴퓨터의 장치 인터페이스(Interface)를 통해 읽힐 수 있는 C, C++, JAVA, 기계어 등의 컴퓨터 언어로 코드화된 코드(Code)를 포함할 수 있다. 이러한 코드는 전술한 기능들을 정의한 함수 등과 관련된 기능적인 코드(Function Code)를 포함할 수 있고, 전 술한 기능들을 컴퓨터의 프로세서가 소정의 절차대로 실행시키는데 필요한 실행 절차 관련 제어 코드를 포함할 수도 있다. 또한, 이러한 코드는 전술한 기능들을 컴퓨터의 프로세서가 실행시키는데 필요한 추가 정보나 미디어가 컴퓨터 의 내부 또는 외부 메모리의 어느 위치(주소 번지)에서 참조 되어야 하는지에 대한 메모리 참조 관련 코드를 더 포함할 수 있다. 또한, 컴퓨터의 프로세서가 전술한 기능들을 실행시키기 위하여 원격(Remote)에 있는 어떠한 다른 컴퓨터나 서 버 등과 통신이 필요한 경우, 코드는 컴퓨터의 프로세서가 컴퓨터의 통신 모듈을 이용하여 원격(Remote)에 있는 어떠한 다른 컴퓨터나 서버 등과 어떻게 통신해야만 하는지, 통신 시 어떠한 정보나 미디어를 송수신해야 하는 지 등에 대한 통신 관련 코드를 더 포함할 수도 있다. 이상에서 전술한 바와 같은 프로그램을 기록한 컴퓨터로 읽힐 수 있는 기록매체는, 일 예로, ROM, RAM, CD-ROM, 자기 테이프, 플로피디스크, 광 미디어 저장장치 등이 있으며, 또한 캐리어 웨이브(예를 들어, 인터넷을 통한 전송)의 형태로 구현되는 것도 포함할 수 있다. 또한 컴퓨터가 읽을 수 있는 기록매체는 네트워크로 연결된 컴퓨터 시스템에 분산되어, 분산방식으로 컴퓨터가 읽을 수 있는 코드가 저장되고 실행될 수 있다. 그리고, 본 발명을 구현하기 위한 기능적인(Functional) 프로그램과 이와 관련된 코드 및 코드 세그먼트 등은,"}
{"patent_id": "10-2022-0038949", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 11, "content": "기록매체를 읽어서 프로그램을 실행시키는 컴퓨터의 시스템 환경 등을 고려하여, 본 발명이 속하는 기술분야의 프로그래머들에 의해 용이하게 추론되거나 변경될 수도 있다. 도 12를 통해 설명된 조직 슬라이드 이미지 분석 방법은, 컴퓨터에 의해 실행되는 애플리케이션이나 프로 그램 모듈과 같은 컴퓨터에 의해 실행 가능한 명령어를 포함하는 기록 매체의 형태로도 구현될 수 있다. 컴퓨터 판독 가능 매체는 컴퓨터에 의해 액세스될 수 있는 임의의 가용 매체일 수 있고, 휘발성 및 비휘발성 매체, 분 리형 및 비분리형 매체를 모두 포함한다. 또한, 컴퓨터 판독가능 매체는 컴퓨터 저장 매체를 모두 포함할 수 있 다. 컴퓨터 저장 매체는 컴퓨터 판독가능 명령어, 데이터 구조, 프로그램 모듈 또는 기타 데이터와 같은 정보의 저장을 위한 임의의 방법 또는 기술로 구현된 휘발성 및 비휘발성, 분리형 및 비분리형 매체를 모두 포함한다. 전술한 조직 슬라이드 이미지 분석 방법은, 단말기에 기본적으로 설치된 애플리케이션(이는 단말기에 기본적으 로 탑재된 플랫폼이나 운영체제 등에 포함된 프로그램을 포함할 수 있다)에 의해 실행될 수 있고, 사용자가 애 플리케이션 스토어 서버, 애플리케이션 또는 해당 서비스와 관련된 웹 서버 등의 애플리케이션 제공 서버를 통 해 마스터 단말기에 직접 설치한 애플리케이션(즉, 프로그램)에 의해 실행될 수도 있다. 이러한 의미에서, 전술 한 조직 슬라이드 이미지 분석 방법은 단말기에 기본적으로 설치되거나 사용자에 의해 직접 설치된 애플리케이 션(즉, 프로그램)으로 구현되고 단말기에 등의 컴퓨터로 읽을 수 있는 기록매체에 기록될 수 있다."}
{"patent_id": "10-2022-0038949", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 12, "content": "전술한 본 발명의 설명은 예시를 위한 것이며, 본 발명이 속하는 기술분야의 통상의 지식을 가진 자는 본 발명 의 기술적 사상이나 필수적인 특징을 변경하지 않고서 다른 구체적인 형태로 쉽게 변형이 가능하다는 것을 이해 할 수 있을 것이다. 그러므로 이상에서 기술한 실시예들은 모든 면에서 예시적인 것이며 한정적이 아닌 것으로 이해해야만 한다. 예를 들어, 단일형으로 설명되어 있는 각 구성 요소는 분산되어 실시될 수도 있으며, 마찬가 지로 분산된 것으로 설명되어 있는 구성 요소들도 결합된 형태로 실시될 수 있다. 본 발명의 범위는 상기 상세한 설명보다는 후술하는 특허청구범위에 의하여 나타내어지며, 특허청구범위의 의미 및 범위 그리고 그 균등 개념으로부터 도출되는 모든 변경 또는 변형된 형태가 본 발명의 범위에 포함되는 것으 로 해석되어야 한다."}
{"patent_id": "10-2022-0038949", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 실시예들에서 설명하는 조직 슬라이드 이미지 분석 방법의 일 예를 나타내는 도면이다. 도 2는 슬라이딩 윈도우 알고리즘을 이용하여 조직 슬라이드 이미지에서 복수의 타일 이미지들을 추출하는 동작 의 일 예를 나타내는 도면이다.도 3은 복수의 타일 이미지들에 대한 압축 동작을 실행하는 동작의 일 예를 나타낸 도면이다. 도 4는 웨이블릿 가중 앙상블을 이용하여 조직 슬라이드 이미지를 분석하는 동작의 일 예를 나타낸 도면이다. 도 5는 사용된 모델에 따른 클래스 별 다이스 점수와 픽셀 정확도를 나타낸 도면이다. 도 6은 모든 클래스에서 저주파 가중치에 대한 다이스 점수의 변화를 나타낸 도면이다. 도 7은 종양 확률에 대한 히트맵과 라인 프로파일을 사용하여 주석에 대한 분할 예측, 압축이 없는 방법, WAE 및 WWE를 비교한 도면이다. 도 8은 종양에 대한 예상 결과를 클래스 별로 나타낸 도면이다. 도 9는 조직 슬라이드 이미지 분석 시스템의 개략적인 구조를 나타낸 도면이다. 도 10은 조직 슬라이드 이미지 분석 방법을 나타낸 도면이다."}
