{"patent_id": "10-2021-0114274", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0031725", "출원번호": "10-2021-0114274", "발명의 명칭": "실내 이동체의 복합적 위치 추적 시스템", "출원인": "주식회사 단비코리아", "발명자": "공경남"}}
{"patent_id": "10-2021-0114274", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "보행자 관성 항법(pedestrian dead reckoning: PDR)을 기반으로 하는 능동적 위치 추적 기법과 무선 주파수 단층 촬영(RF tomography) 기술을 기반으로 하는 수동적 위치 추적 기법을 복합적으로 이용하여 건축물의 실내에서 신호 발생장치를 소지한 이동체의 위치를 추적하기 위한 시스템으로서, 건축물의 실내 벽면에 설치되며, 상기 이동체의 검출을 위한 전파 신호를 송신하여 LOSL(Line of Sight Link)을형성하는 복수의 송신 모듈과;상기 송신 모듈이 설치된 벽면과 대면하는 벽면 쪽에 설치되며, 상기 복수의 송신 모듈로부터 송신된 전파 신호를 수신하여 상기 복수의 송신 모듈과 함께 LOSL을 형성하며, 이동체의 이동에 의한 LOSL의 차단에 따른 수신신호 세기 (Received Signal Strength; RSS) 변화 값들을 수집하여 상위 계층으로 전송하는 복수의 수신 모듈;및상기 복수의 송신 모듈 및 수신 모듈과 전기적으로 연결되며, 상기 수신 모듈로부터의 RSS 변화 값들을 수신하여 차단된 LOSL 시퀀스 및 타임 스탬프들을 기록하고, 이를 바탕으로 이동체가 LOSL을 가로지르는 교차점(crosspoint; CP)의 위치를 추정하며, 이동체의 PDR 기반의 위치 추적에 의한 현재의 위치를 상기 추정된 위치로 재설정하여 이동체의 이동 경로를 재추적하는 중앙 제어기를 포함하며,상기 중앙 제어기는 상기 이동체의 위치를 추적할 때 최우도 학습 (Nearest Neighbors) 알고리즘, 선형 서포트벡터머신 (Linear SVM) 알고리즘, RBF 커널 서포트벡터머신 (RBF SVM) 알고리즘, 의사결정 트리 (DecisionTree) 알고리즘, 렌덤포레스트 (Random Forest) 알고리즘, 인공신경망 (Neural Network) 알고리즘, AdaBoost알고리즘, Naive Bayes 알고리즘, 이차판별분석법 (QDA: quadratic discriminant analysis) 알고리즘으로 상기이동체의 위치를 도출하고, 상기 알고리즘의 결과를 조합하여 상기 이동체의 위치를 결정하는 실내 이동체의 복합적 위치 추적 시스템."}
{"patent_id": "10-2021-0114274", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 중앙 제어기에는 PDR 기반의 위치 추적 방식에 의해 얻어진, 이동체가 LOSL을 가로지르는 현재의 교차점(CP)의 위치를 무선 주파수 단층촬영 기술 기반의 위치 추적 방식에 의해 추정된 위치로 재설정하는 PDR-GF(Geometrical Formulation) 알고리즘을 실행하도록 구성된 소프트웨어 프로그램이 탑재되어 있는 것을 특징으로 하는 실내 이동체의 복합적 위치 추적 시스템."}
{"patent_id": "10-2021-0114274", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 송신 모듈은 무선 공유기이고, 상기 수신 모듈은 스마트폰인 것을 특징으로 하는 실내 이동체의 복합적 위치 추적 시스템."}
{"patent_id": "10-2021-0114274", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 보행자 관성 항법(pedestrian dead reckoning: PDR)을 기반으로 하는 능동적 위치 추적 기법과 무선 주파수 단층 촬영(RF tomography) 기술을 기반으로 하는 수동적 위치 추적 기법을 복합적으로 이용하여 건축물의 실내에서 신호 발생장치를 소지한 이동체의 위치를 추적하기 위한 시스템으로서, 건축물의 실내 벽면에 (뒷면에 계속)"}
{"patent_id": "10-2021-0114274", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 실내 이동체의 복합적 위치 추적 시스템 및 방법에 관한 것으로서, 더 상세하게는 보행자 관성 항법 (pedestrian dead reckoning: PDR)을 기반으로 하는 능동적 위치 추적 기법과 무선 주파수 단층 촬영(RF tomography) 기술을 기반으로 하는 수동적 위치 추적 기법을 복합적으로 이용함으로써, PDR을 이용한 실내 이동 체의 위치 추적에서의 누적 오류를 보정하여 실내 이동체의 위치 추적 정밀도를 한층 향상시킬 수 있는 실내 이동체의 복합적 위치 추적 시스템 및 방법에 관한 것이다."}
{"patent_id": "10-2021-0114274", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "최근, 위치 기반 서비스(location based service: LBS)가 일상생활에서 점차 중요한 역할을 하고 있다. GPS(Global Positioning System) 추적장치는 실외 위치 기반 서비스를 위한 가장 대중적이고 효과적인 내비게이 션 방법으로 알려져 있다. 하지만, 어떤 보호 시스템을 갖춘 환경에 대한 GPS 추적장치의 취약성은 백화점 쇼핑 이나 창고 관리와 같은 실내 위치 기반 서비스를 위한 사용을 제한한다. GPS에 대한 대안으로, 무선 랜 (wireless LAN: WLAN)의 접속점(access point: AP)의 광범위한 배치와, 스마트폰 및 태블릿 PC와 같은 널리 퍼 져 있는 지적인 무선 단말기들이 신뢰할 수 있는 실내 내비게이션 설계를 가능하게 한다. 보행자 관성 항법(pedestrian dead reckoning: PDR)은 짧은 이동 거리하에서 실시간 및 고정밀도의 장점으로 실 내 내비게이션 기술들 중의 하나로 잘 알려져 있다. 일반적으로, 보행자 관성 항법 기반의 내비게이션에서, 위 치 추적을 받는 사용자는 다른 보조적인 위치 정보에 의해 획득된 초기 위치를 알아야 한다. 그리고 사용자의 이전의 위치와 실시간으로 측정된 변위의 조합을 기반으로 객체의 현재 위치가 반복적으로 갱신된다. 이동 거리 및 방향을 포함하는 실시간 변위는 가속도 센서, 중력 센서 및 지자기 센서 등을 포함하여 스마트폰에 내장된 동작 센서를 이용하여 획득된다. 실제로, 이전 위치를 기반으로 하는 위치 추정은 이동에 대한 민감성을 초래할 것이다. 즉, 어떤 추정 오류는 긴 이동 거리 상황하에서 오류 누적을 야기하면서, 미래의 계산으로 전파될 것이다. 그러므로 규칙적인 위치 재설정을 위해 보행자 관성 항법 기술과 다른 기술을 결합하는 것은 유망한 경향이 다. 왜냐하면, 그러한 결합이 장시간의 오류 누적으로부터 큰 오류를 경감하도록 다른 기술을 사용하면서 보행 자 관성 항법의 실시간 추정과 높은 초기의 정밀도 특성을 충분히 활용할 수 있기 때문이다. 한편, 공개특허공보 제10-2016-0004084호(특허문헌 1)에는 \"실내 보행자 위치 추적 장치 및 방법\"이 개시되어 있는바, 이에 따른 실내 보행자 위치 추적 방법은, 움직임 관련 데이터와 방향 관련 데이터를 검출하여 제공하 는 데이터 제공 단계와, 상기 데이터 제공 단계에서 제공된 움직임 관련 데이터를 이용하여 소지 방식을 검출하 는 소지 방식 검출 단계와, 상기 소지 방식 검출 단계에서 검출된 소지 방식에 따라 상기 데이터 제공 단계에서 제공된 움직임 관련 데이터를 이용하여 걷기 동작의 한 걸음을 검출하는 걷기 동작 검출 단계와, 상기 걷기 동 작 검출 단계에서 걷기 동작의 한 걸음이 검출되면 상기 데이터 제공 단계에서 제공된 방향 관련 데이터를 이용 하여 걷기 동작의 한 걸음에 대한 걷기 방향을 검출하는 걷기 방향 검출 단계 및 상기 걷기 동작 검출 단계에서 검출된 걷기 동작의 한 걸음과 상기 걷기 방향 검출 단계에서 검출된 걷기 방향을 이용하여 건물 내부 지도상에 현재 위치를 추적하여 제공하는 위치 추적 단계를 포함하는 것을 특징으로 한다. 이상과 같은 특허문헌 1은, 사용자가 소지한 스마트폰으로부터 제공되는 데이터를 이용하여 사용자의 위치를 추 적하는 것(보행자 관성 항법을 이용한 위치 추적)을 기본으로 하면서, 현재 위치에서 수신되는 수신 신호 세기 데이터와 미리 정의된 랜드마크들의 WiFi 핑거프린팅 데이터들을 비교하여 특정 지역의 랜드마크를 검출하는 별 도의 랜드마크 검출부를 두어 보행자 관성 항법에 의해 얻어진 위치 정보를 현재 위치를 발견한 랜드마크의 위 치 좌표로 변경함으로써 보행자 관성 항법에 의한 위치 오차를 제거하여 정확한 위치 추적을 가능하게 하는 장 점이 있다. 그러나, 하드웨어적으로 별도의 랜드마크 검출부를 설치해야 함에 따라 랜드마크 검출부 설치를 위 한 공간확보 문제와 및 비용이 추가되는 문제가 있다. 선행기술문헌 특허문헌 (특허문헌 0001) 공개특허공보 제10-2016-0004084호(2016.01.12.)"}
{"patent_id": "10-2021-0114274", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 상기와 같은 상황을 종합적으로 감안하여 창출된 것으로서, 보행자 관성 항법(pedestrian dead reckoning: PDR)을 기반으로 하는 능동적 위치 추적 기법과 무선 주파수 단층 촬영(RF tomography) 기술을 기반 으로 하는 수동적 위치 추적 기법을 복합적으로 이용함으로써, PDR을 이용한 실내 이동체의 위치 추적에서의 누적 오류를 보정(경감)하여 실내 이동체의 위치 추적 정밀도를 한층 향상시킬 수 있는 실내 이동체의 복합적 위 치 추적 시스템 및 방법을 제공함에 그 목적이 있다."}
{"patent_id": "10-2021-0114274", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기의 목적을 달성하기 위하여 본 발명에 따른 실내 이동체의 복합적 위치 추적 시스템은, 보행자 관성 항법 (pedestrian dead reckoning: PDR)을 기반으로 하는 능동적 위치 추적 기법과 무선 주파수 단층 촬영(RF tomography) 기술을 기반으로 하는 수동적 위치 추적 기법을 복합적으로 이용하여 건축물의 실내에서 신호 발생 장치를 소지한 이동체의 위치를 추적하기 위한 시스템으로서, 건축물의 실내 벽면에 설치되며, 상기 이동체의 검출을 위한 전파 신호를 송신하여 LOSL(Line of Sight Link)을 형성하는 복수의 송신 모듈과; 상기 송신 모듈 이 설치된 벽면과 대면하는 벽면 쪽에 설치되며, 상기 복수의 송신 모듈로부터 송신된 전파 신호를 수신하여 상 기 복수의 송신 모듈과 함께 LOSL을 형성하며, 이동체의 이동에 의한 LOSL의 차단에 따른 수신 신호 세기 (Received Signal Strength; RSS) 변화 값들을 수집하여 상위 계층으로 전송하는 복수의 수신 모듈; 및 상기 복 수의 송신 모듈 및 수신 모듈과 전기적으로 연결되며, 상기 수신 모듈로부터의 RSS 변화 값들을 수신하여 차단 된 LOSL 시퀀스 및 타임 스탬프들을 기록하고, 이를 바탕으로 이동체가 LOSL을 가로지르는 교차점(cross point; CP)의 위치를 추정하며, 이동체의 PDR 기반의 위치 추적에 의한 현재의 위치를 상기 추정된 위치로 재설정하여 이동체의 이동 경로를 재추적하는 중앙 제어기를 포함하며, 상기 중앙 제어기는 상기 이동체의 위치를 추적할 때 최우도 학습 (Nearest Neighbors) 알고리즘, 선형 서포트벡터머신 (Linear SVM) 알고리즘, RBF 커널 서포 트벡터머신 (RBF SVM) 알고리즘, 의사결정 트리 (Decision Tree) 알고리즘, 렌덤포레스트 (Random Forest) 알 고리즘, 인공신경망 (Neural Network) 알고리즘, AdaBoost 알고리즘, Naive Bayes 알고리즘, 이차판별분석법 (QDA: quadratic discriminant analysis) 알고리즘으로 상기 이동체의 위치를 도출하고, 상기 알고리즘의 결과 를 조합하여 상기 이동체의 위치를 결정한다. 여기서, 바람직하게는 상기 중앙 제어기에는 PDR 기반의 위치 추적 방식에 의해 얻어진, 이동체가 LOSL을 가로 지르는 현재의 교차점(CP)의 위치를 무선 주파수 단층촬영 기술 기반의 위치 추적 방식에 의해 추정된 위치로 재설정하는 PDR-GF(Geometrical Formulation) 알고리즘을 실행하도록 구성된 소프트웨어 프로그램이 탑재된다. 또한, 상기 송신 모듈로는 무선 공유기가 사용될 수 있고, 상기 수신 모듈로는 스마트폰이 사용될 수 있다."}
{"patent_id": "10-2021-0114274", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "이와 같은 본 발명에 의하면, 보행자 관성 항법(PDR)을 기반으로 하는 능동적 위치 추적 기법과 무선 주파수 단 층 촬영(RF tomography) 기술을 기반으로 하는 수동적 위치 추적 기법을 복합적으로 이용함으로써, PDR을 이용 한 실내 이동체의 위치 추적에서의 누적 오류를 보정(경감)하여 실내 이동체의 위치 추적 정밀도를 한층 향상시 킬 수 있다."}
{"patent_id": "10-2021-0114274", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 명세서 및 청구범위에 사용된 용어나 단어는 통상적이거나 사전적인 의미로 한정되어 해석되지 말아야 하며, 발명자는 그 자신의 발명을 가장 최선의 방법으로 설명하기 위해 용어의 개념을 적절하게 정의할 수 있다는 원 칙에 입각하여 본 발명의 기술적 사상에 부합하는 의미와 개념으로 해석되어야 한다. 명세서 전체에서, 어떤 부분이 어떤 구성요소를 \"포함\"한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다 른 구성요소를 제외하는 것이 아니라 다른 구성요소를 더 포함할 수 있다는 것을 의미한다. 또한, 명세서에 기 재된 \"…부\", \"…기\", \"모듈\", \"장치\" 등의 용어는 적어도 하나의 기능이나 동작을 처리하는 단위를 의미하며, 이는 하드웨어나 소프트웨어 또는 하드웨어 및 소프트웨어의 결합으로 구현될 수 있다. 이하 첨부된 도면을 참조하여 본 발명의 실시예를 상세히 설명한다. 도 1은 본 발명의 실시예에 따른 실내 이동체의 복합적 위치 추적 시스템의 구성을 개략적으로 나타낸 도면이다. 도 1을 참조하면, 본 발명에 따른 실내 이동체의 복합적 위치 추적 시스템은, 보행자 관성 항법 (pedestrian dead reckoning: PDR)을 기반으로 하는 능동적 위치 추적 기법과 무선 주파수 단층 촬영(RF tomography) 기술을 기반으로 하는 수동적 위치 추적 기법을 복합적으로 이용하여 건축물의 실내에서 신호 발생 장치(device)를 소지한 이동체의 위치를 추적하기 위한 시스템으로서, 송신 모듈, 수신 모듈 및 중앙 제어기를 포함하여 구성된다. 송신 모듈은 건축물의 실내 벽면에 설치되며, 상기 이동체의 검출을 위한 전파 신호를 송신하여 LOSL(Line of Sight Link)(도 1에서 L1∼L4로 표시된 일종의 전파 신호 그물망)을 형성한다. 이와 같은 송신 모듈은 접속점 (Access Point; AP)에 해당하는 것으로 벽면에 복수개(AP1, AP2,..., APn)가 설치된다. 이때, 복수의 송신 모듈이 벽면에 설치됨에 있어서, 바닥면으로부터 동일한 높이로 수평으로 나란히 설치될 수도 있고, 바닥면으로부터 높이가 점차적으로 높아지는 상향 경사식으로 또는 점차적으로 낮아지는 하향 경사식으로 설치 될 수도 있으며, 특정한 높이의 제한 없이 무작위로(불규칙하게) 설치될 수도 있다. 또한, 이와 같은 송신 모듈 은 미리 설정된 위치, 즉 설치되는 위치에 대한 좌표 정보를 알 수 있는 위치에 고정될 수 있다. 또한, 이 상과 같은 송신 모듈로는 무선 공유기가 사용될 수 있다. 수신 모듈은 송신 모듈이 설치된 벽면과 대면하는 벽면 쪽에 설치되며, 복수의 송신 모듈로부터 송신된 전파 신호를 수신하여 복수의 송신 모듈과 함께 LOSL을 형성하며, 이동체의 이동에 의한 LOSL의 차 단에 따른 수신 신호 세기(Received Signal Strength; RSS) 변화 값들을 수집하여 상위 계층(여기서는 중앙 제 어기)으로 전송한다. 이와 같은 수신 모듈은 모니터링 포인트(Monitoring Point; MP)에 해당하는 것으로 송신 모듈과 마찬가지로 복수개(MP1, MP2,..., MPn)가 설치된다. 또한, 그 설치 방식에 있어서도 송 신 모듈처럼 다양한 형태로 설치될 수 있다. 여기서, 특히 이와 같은 수신 모듈은 상기 수신 신호 세 기(RSS) 변화 값들을 수집하는 동안 벽들로부터 다중 통로의 영향을 완화하기 위해, 수신 모듈 측의 벽으 로부터 소정 거리(예를 들면, 2미터) 떨어진 곳에 위치될 수 있다. 또한, 이와 같은 수신 모듈은 송신 모 듈과 마찬가지로 미리 설정된 위치, 즉 설치되는 위치에 대한 좌표 정보를 알 수 있는 위치에 고정될 수 있다. 또한, 이상과 같은 수신 모듈로는 냉장고, 스마트 TV, 스마트폰이 사용될 수 있다. 여기서, 바람직하게는 이동체의 이동 경로가 절대적으로 대칭인 경우가 발생하지 않도록 하기 위해 이상과 같은 송신 모듈과 수신 모듈은 비대칭으로 배치될 수 있다. 중앙 제어기는 복수의 송신 모듈 및 수신 모듈과 전기적으로 연결되며, 수신 모듈로부터의 RSS 변화 값들을 수신하여 차단된 LOSL 시퀀스 및 타임 스탬프들을 기록하고, 이를 바탕으로 이동체가 LOSL을 가로지르는 교차점(cross point; CP)의 위치를 추정하며, 이동체의 PDR 기반의 위치 추적에 의한 현재의 위치를 상기 추정된 위치로 재설정하여 이동체의 이동 경로를 재추적한다. 이와 같은 중앙 제어기에는 PDR 기반의 위치 추적 방식에 의해 얻어진, 이동체가 LOSL을 가로지르는 현재의 교차점(CP)의 위치를 무선 주파수 단층촬영 기술 기반의 위치 추적 방식에 의해 추정된 위치로 재설정하는 PDR-GF(Geometrical Formulation) 알고리즘을 실 행하도록 구성된 소프트웨어 프로그램이 탑재된다. 또한, 이와 같은 중앙 제어기로는 일반적인 컴퓨터 시 스템이 사용될 수 있다. 그러면, 이상과 같은 구성을 가지는 본 발명에 따른 실내 이동체의 복합적 위치 추적 시스템을 바탕으로 실내 이동체의 복합적 위치 추적 방법에 대해 간략히 설명해 보기로 한다. 도 2는 본 발명의 실시예에 따른 실내 이동체의 복합적 위치 추적 방법의 실행 과정을 나타낸 흐름도이다. 도 1 및 도 2를 참조하면, 본 발명에 따른 실내 이동체의 복합적 위치 추적 방법은, 전술한 바와 같이 복수의 송신 모듈과 수신 모듈 및 중앙 제어기를 포함하는 실내 이동체의 복합적 위치 추적 시스템 을 바탕으로, 보행자 관성 항법(pedestrian dead reckoning: PDR)을 기반으로 하는 능동적 위치 추적 기 법과 무선 주파수 단층 촬영(RF tomography) 기술을 기반으로 하는 수동적 위치 추적 기법을 복합적으로 이용하 여 건축물의 실내에서 신호 발생장치(device)(예를 들면, 스마트폰)를 소지한 이동체의 위치를 추적하기 위한 방법으로서, 먼저 이동체가 소지한 신호 발생장치(예를 들면, 스마트폰)를 기반으로 하는 PDR 시스템에 의해 이 동체의 위치를 추적하고, 추적한 이동체의 위치 정보를 상기 중앙 제어기로 전송한다(단계 S201). 여기서, PDR 시스템은 이동체가 소지한 신호 발생장치(스마트폰) 자체만으로 구성될 수도 있고, 스마트폰과 신호(데이터)를 송/수신하는 별도의 장치(시스템)을 더 포함하여 구성될 수도 있다. 또한, 복수의 수신 모듈에 의해 이동체의 이동에 의한 LOSL(L1∼L4)의 차단에 따른 수신 신호 세기 (Received Signal Strength; RSS) 변화 값들을 수집하여 중앙 제어기로 전송한다(단계 S202). 여기서, 이상과 같은 단계 S201과 S202는 반드시 이와 같은 순서로 진행되는 것을 의미하는 것은 아니며, 서로 순서가 바뀔 수도 있고, 또한 동시에 진행될 수도 있다. 이상에 의해 PDR 시스템으로부터 이동체의 위치 정보가 전송되고, 복수의 수신 모듈로부터 RSS 변화값들이 전송되면, 중앙 제어기는 PDR 시스템으로부터의 이동체의 위치 정보와 복수의 수신 모듈로부터의 RSS 변화값들을 수신하고, 그것을 바탕으로 LOSL 작동의 링크 시퀀스 L(i)와, L(i)와 L(i+1) 사이의 이동체의 걸음 수 S(i)를 획득한다(단계 S203). 여기서, 상기 L(i)는 다음의 수식 관계로 표현될 수 있다. y = ki·x + bi (i= 1,2,3...) 여기서, ki와 bi는 AP(송신 모듈)와 MP(수신 모듈) 좌표들에 의해 미리 알려진 값이다. 이후, 중앙 제어기는 상기 획득된 L(i)와 S(i)를 바탕으로 교차점(CP) 추정을 위한 PDR-GF 알고리즘을 실 행하여 새로운 교차점(CP)을 추정하고, 추정된 새로운 교차점(CP)의 좌표 정보를 상기 PDR 시스템으로 전송한다 (단계 S204). 여기서, 상기 PDR-GF 알고리즘은 CP 추정을 위해 ( )와 L(i)를 이용할 수 있다. 여기서, SD는 이동체(사용자)의 보폭을 나타낸다. 이와 관련해서 뒤에서 다시 설명된다. 또한, 중앙 제어기는 상기 PDR-GF 알고리즘을 실행하여 새로운 교차점(CP)을 추정함에 있어서, 이동체의 실제의 이동 궤적과 LOSL이 교차하는 지점 중 특정 구간의 교차 지점을 직선으로 연결하는 근사치 직선 (approximate straight line: ASL)으로 근사치를 계산할 수 있다. 이때, 또한 상기 새로운 교차점(CP)은 이동체의 실제의 이동 거리와 이에 대응하는 LOSL에 의해 절단된 상기 근 사치 직선(ASL)의 분할 구간의 거리를 최상으로 적합하게 하는 최상의 적합 ASL과 대응하는 LOSL의 교차점으로 추정될 수 있다. 여기서, 상기 최상의 적합 ASL과 대응하는 LOSL의 교차점은 다음의 수식관계로 표현될 수 있다."}
{"patent_id": "10-2021-0114274", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "이상의 사항들에 대해서는 뒤에서 다시 설명된다. 이상에 의해 추정된 새로운 교차점(CP)의 좌표 정보가 전송되면, PDR 시스템은 중앙 제어기로부터 수신한 새로운 교차점(CP)의 좌표 정보를 바탕으로 이동체의 교차점(CP)의 위치를 재설정하고, 재설정된 위치 정보를 중앙 제어기 로 전송한다(단계 S205). 그러면, 중앙 제어기는 상기 PDR 시스템으로부터 수신한 재설정된 위치 정보를 바탕으로 이동체의 이동 경 로를 재추적한다(단계 S206). 이하에서는 이상과 같은 본 발명에 따른 실내 이동체의 복합적 위치 추적 시스템 및 방법과 관련하여 부연 설명 을 해보기로 한다.먼저, 본 발명과 관련되는 보행자 관성 항법(Pedestrian Dead Reckoning: PDR), 무선랜-ID 기반의 PDR 재설정 기법, 무선 주파수 단층촬영(Radio Frequency Tomography)에 대하여 설명해 보기로 한다. < 보행자 관성 항법(Pedestrian Dead Reckoning: PDR) > 보행자 관성 항법(PDR)은 센서 기반의 내비게이션 시스템으로 지칭되기도 하는 것으로서, 가속도 센서, 중력 센 서, 지자기 센서와 같은 관성 센서를 기반으로 한다. Wi-Fi, UWB(Ultra Wide Band), BT(Blue Tooth) 등과 같은 무선 신호 기반의 위치 추적 기술들과 비교할 때, 센서 기반의 위치 추적 기술은 다음과 같은 장점을 갖는다. 첫째, 동작 센서가 내장된 스마트폰의 광범위한 인기에 따른 편재성(ubiquity)이다. 둘째, 보행자가 짧은 시간 동안 단순한 경로를 따라 걷는 동안에 PDR 기반의 위치 추적에서의 에러가 거의 발생하지 않는다. 셋째, 계산이 비교적 복잡하지 않음으로 인한 현저한 실시간 특성이다. 전형적인 PDR 기반의 내비게이션 시스템으로서, PDR은 이동 거리 및 방향을 추정함으로써 현재의 이동 위치를 추정하고, 이후에 이전의 위치 정보와 현재의 이동 위치를 바탕으로 하여 현재의 위치 정보를 얻는다. 보행자 이동 방향은 지자기 센서를 이용하여 획득된다. 한편, 이동 거리는 평균 보폭 길이(Rs)와 관성 센서에 의해 추정 된 걸음 수를 곱함으로써 추정된다. 사전 작업으로서 걸음 수를 추정하기 위해 가속도 센서 및 중력 센서가 채 용되었으며, 걸음 수 추정 정밀도는 99.5% 만큼 높일 수 있다. 현재의 위치를 갱신하기 위한 수식은 다음과 같 이 주어진다. 수학식 1"}
{"patent_id": "10-2021-0114274", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "여기서, 는 k번째 걸음에서 추정된 위치 좌표를 의미하고, 는 출발점에서 초기 각도에 기초 하여 k번째 걸음에서 측정된 상대적인 각도 변화, 즉 k번째 걸음에서의 이동 방향을 나타낸다. 하지만, 반복적 으로 갱신하는 진행은 오류 누적을 초래할 것이다. 어떤 추정 오류는 미래의 계산으로 전파할 것이다. 예를 들 면, 도 3에 도시된 실험에서 PDR 시스템을 수행하는 보행자가 원형 궤적을 따라 반시계방향으로 반복적으로 걸 을 때, 누적 오류가 초창기에 오히려 작다고 할지라도(이동 거리가 25m 이하일 때 2m 미만), PDR 추정의 궤적은 실제의 궤적을 벗어나 계속해서 이동하고 있다. 이동 거리가 약 120m일 때, 누적 오류는 약 10m에 이른다. 장거 리 오류 누적의 결점 외에도, PDR 기술은 사용자의 상대적인 변위를 추정하여 사용자의 초기 위치를 획득할 수 없다. 그러므로, 누적 오류를 경감하도록 보행자 위치를 규칙적으로 재설정하기 위해 그리고 초기 위치를 얻기 위해, PDR과 다른 기술을 결합하는 것이 실현 가능한 내비게이션 시스템을 위해 필요하다. < WLAN-ID 기반의 PDR 재설정 기법 > 최근에, PDR 오류 누적은 RSS(Received Signal Strength) 기반의 위치 추적 기술을 정기적으로 발진시킴으로써 경감되고 있다. PDR 재설정을 위해 오직 종래의 RSS 다변 측정 감시 시스템(Multi-Lateration) 기술만을 사용하 는 것 대신에, PDR 재설정 정밀도를 개선하기 위해 또한 WLAN-ID 기술이 채용되었다. PDR 사용자가 미리 결정된 거리 문턱값(임계값)을 넘어 이동했을 때, 본 발명에 따른 시스템은 종래의 RSS 기반 의 다변 측정 감시 위치 추적 알고리즘에 의해 현재의 위치 추적 정보를 재설정한다. 다변 측정 감시 시스템 (Multi-Lateration)은 사용자로부터 접속점들(APs)까지의 거리 d에 기반하며, 이 거리 d는 잘 알려진 대수 정규 투영 모델(log normal shadowing model)에 의해 다음의 수식에 의해 결정된다. 수학식 2"}
{"patent_id": "10-2021-0114274", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "여기서, n은 환경에 의해 결정되는 경로 손실 지수, A는 AP와 수신기 간의 거리가 1m일 때 dBm로서의 RSS이다. RSS의 예측할 수 없는 특성으로 인해, 성능은 대략 3m 오류를 갖는다. 재설정 성능을 개선하기 위해, 일단 RSS 가 임계값을 만족시키기에 충분히 높으면, 사용자의 현재 위치는 이 AP의 위치로 설정되며, 이는 무선랜 ID 기술로 정의된다. 실제로, 실험 결과는 주파수가 높으면 높을수록 보행자는 AP에 근접하고, 더 높은 위치 추적 정 밀도에 도달된다는 것을 보여준다. 그렇지만, WLAN ID 기술은 보행자가 평균 1미터 이내의 AP에 근접될 때에만 적용될 수 있는 분명한 결점을 갖는 다. 그래서, 재설정 지점 정밀도를 보장하고, PDR 시스템으로부터 오류 누적을 경감하기 위해, 높은 밀도의 AP 들이 감시 영역 내에 요구되며, 이것은 의심할 여지없이 실현가능성을 떨어뜨린다. < 무선 주파수 단층촬영(Radio Frequency Tomography) > 무선 RF 네트워크에서, LOSL(Line of Sight Link)은 일상생활에서 광범위하게 존재한다. 보행자가 접속점(AP)에 근접할 때 무선랜(WLAN) ID 기술을 적용하는 상황과 유사하게, PDR 시스템을 구비한 보행자가 LOSL을 가로질러 걸을 때, 만일 LOSL 상에서 보행자 교차점(CP)을 얻을 수 있다면, 링크가 하나의 접속점(AP) 지점보다 훨씬 더 큰 영역을 커버하기 때문에 PDR 위치 재설정 가능성은 크게 증대될 것이다. 실제로, RSS가 반사, 굴절, 회절 및 산란을 포함하여 다중통로 효과에 의해 영향을 받을 수 있다 할지라도, 무 선 환경에서 이동 또는 변화가 없다면 무선 링크의 RSS는 상대적으로 안정적일 것이다. 보행자가 LOSL을 가로질 러 걸을 때, 상대적인 RSS 변동이 쉽게 검출될 수 있으며, 이것은 무선 주파수 단층촬영(RF Tomography)이라고 일컬어진다. 일 예로, 도 4에 도시된 바와 같이, 보행자가 시간 t에서 4m 길이 LOSL을 통과하면, RSS 정보는 도 4의 그래프와 같이 나타난다. 시점 t에서, 보행자가 AP(Access Point)와 MP(Monitoring Point) 사이의 LOSL을 차단할 때 RSS 데이터와 RSS 변화는 분명한 변동을 보인다. 만일 RSS 변화가 미리 정해진 문턱값(임계값)을 넘 어 증가하면, 이 LOSL은 시점 t에서 촉발되었음을 알 수 있다. 본 발명에서는 PDR 내비게이션 기술에서의 누적 오류를 경감하고 초기 위치를 얻기 위해, PDR 재설정 지점으로 서, LOSL 상에서 교차점(CP) 추정을 이용한다. 경험적으로, 보행자의 LOSL 횡단 보행 가능성은 AP에 매우 근접 한 보행 가능성보다 훨씬 더 높다. 따라서, 본 발명은 PDR 재설정 빈도를 증가시킬 수 있고 내비게이션 성능을 향상시킬 수 있다. < CP 추정을 위한 PDR-GF 알고리즘 > 본 발명에서는 무선 주파수 단층촬영(RF Tomography)을 채용하면서, 보행자의 정밀한 위치추적 정보를 얻기 위 한 LOSL 상의 교차점(CP)을 추정하기 위해 GF(Geometrical Formulation)라 일컬어지는 알고리즘을 도입한다. 하지만, 종래의 GF 모델에서, 보행자는 일정한 속도로 걷는 것으로 설정되어 있으며, 이는 랜덤 속도로 이동 또 는 랜덤하게 멈추는 상황에서 GF 모델의 적용을 제한했다. 여기서, 본 발명은 PDR 기반의 변위 추정을 이러한 제한을 벗어나기 위한, PDR-GF 알고리즘으로 지칭되는 GF 알고리즘에 도입했다. 여기서, 도 5에 도시된 기초적인 위치 추적 경우를 예로 들어 PDR-GF 알고리즘에 대해 설명해 보기로 한다. 도 5에 도시된 바와 같이, 2개의 AP(501,502)와 2개의 MP(503,504)가 통로를 감시하는 LOSL 그물망을 형성하면 서 통로의 양쪽 벽면에 고정된다. 본 발명에서는 1, 2, a, b로 번호가 매겨진, GF 작동기로서 APa, APb, MP1, MP2로 구성된, 이러한 2×2 구조를 규정한다. MP들은 어떤 Wi-Fi 접속의 기기(예를 들어, 냉장고, 스마트 TV 등)일 수 있다. PDR 시스템을 수행하는 보행자가 위치 A로부터 B까지 GF 작동기를 가로질러 걸을 때, LOSL 작동 의 시퀀스는 L(i),y = ki·x + bi, i=(1,2,3,4), L1,a, L1,b, L2,a, L2,b 이다. ki와 bi는 AP와 MP 좌표들에 의해 미 리 알려진 값이다. L(i)와 L(i+1) 사이의 걸음 수 S(i)는 PDR 시스템에서의 센서들에 의해 추정된다. 스마트폰 에 내장된 가속도 센서 및 중력 센서를 채용하는 걸음 계산 정밀도는 95%만큼 높게 성취할 수 있다. 사용자 보 폭은 상수 SD로서 알려지고, 따라서 L(i)와 L(i+1) 사이의 거리는 에 의해 획득된다. PDR-GF 기반의 CP 추정 알고리즘은 CP 추정을 위해 와 L(i)를 이용한다. 도 5에서 L 상의 P3의 추정 과정은 PDR-GF 기반의 CP 추정을 도입하기 위한 하나의 예로서 취해진다. 본 발명에서는 와 동안에 이 동된 스타일을 근사치 직선(approximate straight line: ASL)으로 지칭되는 직선으로 근사치를 계산한다. ASL은 L, L 및 L에 의해 절단된다. 2개의 조각 길이는 L와 L에 의해 절단되고, L와 L는 와 로 각각 주어진다. 그리고 ASL과 L 간의 교차점은 y3 = k3·x3 + b3 의 수식 관계를 가지는 동안(x3,y3)로 주어진다. 경험적으로, 와 가 와 를 최상으로 적합하게 하는 최상의 적합 ASL을 결정하는 기울기 와 (x3,y3)를 포함하는 유일한 해법 세트가 존재할 것이다. 본 발명의 목적은 조각 길이와 이동 거리 간의 평균 제곱 오차를 최소화 하는 것, 즉 다음과 같이 주어진 비선형 함수를 최대화하는 것이다. 수학식 3"}
{"patent_id": "10-2021-0114274", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "이때, 이러한 최상의 적합 ASL과 L의 교차점은 L 상의 교차점, P3으로 추정된다. 대체로, 교차점을 찾는 문제점은 최상의 적합 ASL을 찾기 위해 노력하면서 기하학적 모델로 표현되는 것이고, CP는 최상의 적합 ASL과 대응하는 LOSL의 교차점으로 추정되는 것이다. 여기서, 최상의 적합 ASL과 대응하는 LOSL의 교차점은 다음의 수 식관계로 표현될 수 있다. 수학식 4"}
{"patent_id": "10-2021-0114274", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "여기서, S(i)는 PDR 시스템에 의해 측정되고, 작동 시퀀스 L(i)는 무선 주파수 단층촬영(RF tomography)에 의해 측정된다. 이 모델은 PDR-GF 알고리즘으로 지칭된다. 최적화 알고리즘을 이용하여, 2개의 최적값이 얻어진다. 그리고 추정된 CP는 yi 의 최적값을 L(i) 방정식(y = ki·x + bi)에 대입함으로써 얻어진다. < 본 발명의 복합 위치추적 기법의 체계 > 본 발명은 PDR 기술과 PDR-GF 기반의 CP 추정 알고리즘을 결합한다. 본 발명의 체계는 도 6에 표현된 플로우 차 트에 의해 설명될 수 있다. 전체적인 내비게이션(위치 추적) 시스템은 3개의 부분으로 구성된다. 즉, 사용자에 의해 수행되는 PDR 시스템과, 복수의 AP와 MP로 구성되는 GF 작동기 및 CP 추정을 위한 PDR-GF 알고 리즘을 실행하는 중앙 제어기로 구성된다. 이러한 3개의 부분들 간의 조화(협동) 작업은 다음과 같다. 첫 번째로, 내비게이션(위치 추적) 작업은 출발점을 찾음으로써 시작된다. 이때 PDR 내비게이션 기법은 단지 상 대적인 변위만을 제공한다는 점을 유의해야 한다. 본 발명의 복합 위치추적 기법의 출발점은 사용자가 첫 번째 GF 작동기를 통과할 때 제1 추정 CP로 설정된다. 두 번째로, 다음 CP가 추정되기 전에, PDR과 이전에 추정된 CP를 채용하는 실시간 변위 추정에 의해 사용자(즉, 사용자가 소지한 스마트폰)의 위치 정보가 실시간으로 갱신된다. 세 번째로, 새로운 GF 작동기가 통과되고 새로운 CP가 추정될 때, PDR 기반의 내비게이션 기술의 오류 누적을 경감하기 위해 새로운 CP에 대한 사용자의 현재의 위치가 재설정된다. 그런 후, 사용자의 보행이 감시 영역을 벗어날 때까지 두 번째 단계로 복귀한다. PDR 기술과 GF 알고리즘 기반의 CP 추정을 결합한 본 발명의 복합 위치추적 기법은 간단하지만 오히려 효과적이 다. PDR 기술과 GF 알고리즘을 결합하는 목적은 다른 기술의 장점을 활용함으로써 하나의 기술의 내재하는 단점 을 완화하기 위한 것이다. 여기서, 이상과 같은 장점 및 단점과 관련하여 정리해보면 다음과 같다. 1) PDR-GF 알고리즘으로부터 고정밀 CP 추정은 PDR 내비게이션 기술에 대한 출발점을 제공할 뿐만 아니라, CP에 대한 현재의 위치를 정기적으로 재설정함으로써 내재하는 오류 누적 문제를 효과적으로 완화할 수 있다. 2) PDR은 이동 거리 측정에 관해서는 분명한 재능을 가지며, 이것은 종래 GF 알고리즘에서 사용자가 일정한 속 도로 이동해야 하는 제한을 해방시키는 PDR-GF 기반의 CP 추정 알고리즘에 대해 필요한 정보를 제공한다. <기계학습 알고리즘 적용> 본 발명은 사용자의 위치를 추적하는데 9가지의 기계학습 알고리즘을 모두 적용할 수 있다. 1. 최우도 학습 (Nearest Neighbors): 가장 가까이에 있는 데이터셋을 기준으로 새로운 데이터를 분류하는 알 고리즘 2. 선형 서포트벡터머신 (Linear SVM): 선형: 데이터를 선형으로 분리하여 최적의 선형 결정 경계를 찾는 알고 리즘 3. RBF 커널 서포트벡터머신 (RBF SVM): 데이터를 고차원 Feature space로 Projection하여 선형으로 분류하는 알고리즘 4. 의사결정 트리 (Decision Tree): 데이터셋 사이에 존재하는 패턴을 예측 가능한 규칙들의 조합으로 분류하는 알고리즘 5. 랜덤포레스트 (Random Forest): 다수의 의사결정트리를 학습하는 앙상블 방법 6. 인공신경망 (Neural Network): 시냅스의 결함으로 네트워크를 형성한 인공 뉴런이 학습을 통해 시냅스의 결 합 강도를 조절하여 데이터를 분류 7. AdaBoost: 기계 학습 메타 알고리즘. 이전 약한 학습기를 수정하여 다양한 적응 학습을 수행해주는 알고리즘 8. Naive Bayes: 데이터셋의 특성들 사이의 독립을 가정하는 베이즈 정리를 적용한 확률 분류기 9. 이차판별분석법 (QDA: quadratic discriminant analysis): 가능도y의 클래스값에 따른 x의 분포에 대한 정 보를 먼저 알아낸 후, 베이즈 정리를 사용하여 주어진 x에 대한 y의 확률분포를 찾아내는 알고리즘 본 발명에 따라, 사용자를 위치를 추적할 때, 추적(Tracking) 모드에서 기계학습으로 분류한 결과를 도출하고, 도출된 9가지의 알고리즘 결과를 조합 (Parameters study) 하여 사용자의 실내 위치(Indoor position)에 대한 결과로 사용할 수 있다. <본 발명의 활용> 본 발명은 기존의 오프라인 매장의 마케팅의 효율을 측정할 수 있도록 한다. 구체적으로, 본 발명은 오프라인 매장의 마케팅 효율을 측정하는 기술로, 실제 앱 내 광고를 보고 매장에 방문하는 고객들이 매장에 방문했는지 안했는지를 체크해줄 수 있다. 즉, 본 발명은 이동체의 위치를 파악하여 매장에 방문했는지 안했는지를 체크해 줄 수 있다. 예컨대, 본 발명은 스마트폰 앱에서 주변의 WIFI 신호를 읽고, 이 신호와 저희 공유기가 수집한 신호를 인공 지능으로 비교하여 유사하면 매장 내 방문했는 지를 확인하여 오프라인 매장의 마케팅 효율을 측정할 수 있다. < 성능 비교 > 사용자가 도 5에 도시된 궤적을 따라 소정 거리(예를 들면, 210m)를 걸어간 후, PDR 시스템과 본 발명에 따른 위치 추적 방법의 내비게이션(위치추적) 성능이 도 7에 제공된다. 도 7을 참조하면, PDR 시스템의 내비게이션 이동(변동)은 210m 이동된 거리 이후 20m로 증가한 반면, 본 발명의 위치 추적 방법(도면에서 청색 그래프)은 PDR 시스템으로부터의 오류 누적을 효과적으로 경감하여 위치 추적 오 류를 1m 이하로 유지함을 알 수 있다. 도 7에서 WLAN-ID 기반의 하이브리드 기법(도면에서 녹색 그래프)이 비록 증가하는 오류 누적을 또한 억제시킨 다 할지라도, 종래 다변측정 감시 방법에 의해 야기된 낮은 재설정 포인트 정밀도와 낮은 WLAN-ID 기반의 재설 정 빈도는 본 발명의 위치 추적 방법과 비교하여 전체 시스템 성능을 저하시킴을 알 수 있다. 이상의 설명과 같이, 본 발명에 따른 실내 이동체의 복합적 위치 추적 시스템 및 방법은 보행자 관성 항법(PD R)을 기반으로 하는 능동적 위치 추적 기법과 무선 주파수 단층 촬영(RF tomography) 기술을 기반으로 하는 수 동적 위치 추적 기법을 복합적으로 이용함으로써, PDR을 이용한 실내 이동체의 위치 추적에서의 누적 오류를 보 정(경감)하여 실내 이동체의 위치 추적 정밀도를 한층 향상시킬 수 있는 장점이 있다. 또한, 본 발명의 위치 추적 시스템 및 방법은 PDR 기술의 실시간 위치 추적의 장점을 승계하면서 PDR-GF 기반의 교차점(CP) 추정 재설정에 의해 오류 누적을 완화할 수 있는 장점이 있다."}
{"patent_id": "10-2021-0114274", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "이상, 바람직한 실시예를 통하여 본 발명에 관하여 상세히 설명하였으나, 본 발명은 이에 한정되는 것은 아니며, 본 발명의 기술적 사상을 벗어나지 않는 범위 내에서 다양하게 변경, 응용될 수 있음은 당해 기술분야 의 통상의 기술자에게 자명하다. 따라서, 본 발명의 진정한 보호 범위는 다음의 청구범위에 의하여 해석되어야 하며, 그와 동등한 범위 내에 있는 모든 기술적 사상은 본 발명의 권리 범위에 포함되는 것으로 해석되어야 할 것이다."}
{"patent_id": "10-2021-0114274", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 실시예에 따른 실내 이동체의 복합적 위치 추적 시스템의 구성을 개략적으로 나타낸 도면이다. 도 2는 본 발명의 실시예에 따른 실내 이동체의 복합적 위치 추적 방법의 실행 과정을 나타낸 흐름도이다. 도 3은 PDR 시스템을 적용한 내비게이션 실험 및 성능 결과를 나타낸 도면이다. 도 4는 보행자가 시간 t에서 4m 길이의 LOSL을 통과할 때 수집된 RSS 데이터 및 RSS 변화를 나타낸 도면이다. 도 5는 본 발명에 따른 실내 이동체의 복합적 위치 추적 방법에 채용되는 PDF-GF 알고리즘에 의해 GF 작동기에 서의 L2,a 상에 CP를 추정하는 과정을 나타낸 도면이다. 도 6은 본 발명에 따른 실내 이동체의 복합적 위치 추적 시스템 및 방법의 전체적인 체계를 나타낸 도면이다. 도 7은 PDR 시스템과 본 발명에 따른 실내 이동체의 복합적 위치 추적 시스템의 위치 추적 오류를 비교하여 나타낸 도면이다."}
