{"patent_id": "10-2023-0095764", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0014955", "출원번호": "10-2023-0095764", "발명의 명칭": "트럭 높이 측정 시스템 및 방법", "출원인": "주식회사 알씨", "발명자": "백승룡"}}
{"patent_id": "10-2023-0095764", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "CCTV 카메라를 이용하여 운행 중인 차량의 전방, 후방 및 측방 중 하나이상을 촬영하는 카메라 장치(100); 상기 카메라 장치(100)에서 촬영한 영상에 대하여 3D 객체 감지와 추적 기술을 활용하여 주행 중인 차량 중 트럭을 검지하고, 트럭의 높이 측정 시 파이썬과 컴퓨터 비전 라이브러리인 OpenCV와 3D 객체 추적을 위한 라이브러리를 조합하여 트럭높이를 측정하는 트럭높이 측정장치(200);로 구성됨을 특징으로 하는 트럭 높이 측정 시스템."}
{"patent_id": "10-2023-0095764", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 트럭높이 측정장치(200)는,상기 카메라 장치(100)로부터 운행 중인 차량의 영상정보를 전송받는 통신부(210)와, 파이썬과 컴퓨터 비전 라이브러리인 OpenCV와 3D 객체 추적을 위한 라이브러리가 저장되는 프로그램 저장부(220)와, 상기 프로그램 저장부(220)에 저장된 파이썬과 컴퓨터 비전 라이브러리인 OpenCV와 3D 객체 추적을 위한 라이브러리를 불러와 상기통신부(210)를 통해 전송된 운행 중인 차량의 이미지를 전처리하여 트럭관련객체 정보를 추출하고, 트럭관련 객체정보에서 트럭객체정보를 추출하는 것에 따라 트럭 이미지를 추출하고, 추출한 트럭 이미지를 전처리 한 후트럭높이를 측정하는 트럭높이 측정모듈(230) 및 상기 통신부(210), 프로그램 저장부(220), 트럭높이 측정모듈(230)를 제어하는 제어부(250)를 포함하여 구성됨을 특징으로 ㅎ하는 트럭 높이 측정 시스템."}
{"patent_id": "10-2023-0095764", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "카메라 장치(100)를 통해 운행 중인 차량을 촬영하는 단계(S100);트럭높이 측정장치(200)에서는 촬영 데이터에서 트럭관련 객체정보를 추출하는 단계(S110);상기 트럭높이 측정장치(200)는 트럭관련 객체정보에서 트럭객체 정보를 추출하는 단계(S120);상기 트럭높이 측정장치(200)는 트럭객체 정보에서 트럭 이미지를 추출하는 단계(S130);상기 트럭높이 측정장치(200)는 추출된 트럭 이미지에서 채도를 낮추는 전처리를 수행하는 단계(S140); 및상기 전처리된 트럭 이미지에서 상기 트럭높이 측정장치(200)는 트럭높이를 측정하는 단계(S150);를 포함하는것을 특징으로 하는 트럭 높이 측정 방법."}
{"patent_id": "10-2023-0095764", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 도로에 설치된 CCTV 카메라를 이용하여, 운행 중인 트럭의 높이를 측정하기 위해, 3D 객체 감지와 추 적 기술 활용 시 파이썬과 컴퓨터 비전 라이브러리인 OpenCV와 3D 객체 추적을 위한 라이브러리를 조합하여 트럭 의 높이를 측정할 수 있는 트럭 높이 측정 시스템 및 방법에 관한 것이다. 이러한 본 발명은 본 발명은 카메라 (뒷면에 계속)"}
{"patent_id": "10-2023-0095764", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 인공지능 기반 트럭 높이 측정에 관한 것으로, 더욱 상세하게는 도로에 설치된 CCTV 카메라를 이용하 여, 운행 중인 트럭의 높이를 측정하기 위해, 3D 객체 감지와 추적 기술 활용 시 파이썬과 컴퓨터 비전 라이브 러리인 OpenCV와 3D 객체 추적을 위한 라이브러리를 조합하여 트럭의 높이를 측정할 수 있는 트럭 높이 측정 시 스템 및 방법에 관한 것이다."}
{"patent_id": "10-2023-0095764", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "오늘날 급증하는 도로의 입체화에 따라 자동차가 주행하는 도로에는 육교, 터널, 교각, 고가도로와 같은 다양한 구조물의 설치가 증가되고 있으며, 일반건물에도 진입하고자 하는 차량의 높이에 따라 진입이 가능한 높이가 있 고, 아울러 전기 및 통신 시설의 증가에 따라 도로를 횡단하는 시설물도 함께 증가하고 있다. 그에 따라 일반적으로 도로에 설치되어 있는 육교, 터널 및 지하 차도 등의 구조물에는 차량과 적재물의 파손을 방지하기 위하여 제한 높이가 있으며, 대부분 제한 높이는 구조물의 입구에 표시한다. 따라서, 차량의 운전자는 구조물에 표시된 제한 높이와 차량의 높이를 비교한 후 진입하게 된다. 이러한 높이 제한치를 갖는 구조물은 도로교통법규에 따른 높이 제한이 표시되어 있다. 일반적으로 도로를 통행 하는 모든 종류의 자동차에는 도로교통법이 적용된다. 도로교통법은 도로에서 일어나는 교통상의 모든 위험과 장해를 방지 및 제거하여 안전하고 원활한 교통을 확보하기 위해 도로교통에 관하여 필요한 사항을 규정하기 위 해 제정한 법률이다. 현행 도로교통법 제59조 및 동시행령 55조의 규정에 의해 도로의 구조를 보전하고 운행의 위험을 방지하기 위하 여 운행제한을 축하중 10톤, 총중량 40톤, 기타제원(높이, 길이, 폭) 초과차량으로 규정하고 있고, 국토해양부 에서 제정한 \"운행제한차량 단속규정\"에 상기 법규에 대한 단속요령 및 시행령법(계측기 및 추정오차 등을 감안 한 측정량의 1할적용)을 명시하여 운행제한차량을 단속하고 있다. 이러한 구조물 뿐 아니라 고속도로에 진입하는 차량의 통과높이도 제한되는데, 특히 하이패스의 이용률이 많아 지면서 앞으로 하이패스 진입로도 전체 차량의 이용이 가능하게 되면 높이 제한을 단속할 수 있는 시스템이 필 요한 실정이다. 이는 특히 운전자들이 자신의 차량의 높이는 대략적으로 알고 있으나 트럭의 경우에는 자신이 차량에 싣게 되는 물건의 종류에 따라 진입 불가한 높이의 육교, 터널, 교각, 고가도로와 같은 다양한구조물에 대하여 의식하지 못하는 경우에 사고가 발생할 가능성이 있는데 이에 대하여 운전자에게 정확하게 알려줄 수 없는 문제가 있었다. 또한, 차량의 운전자가 차량의 높이와 구조물에 표시된 제한 높이의 비교를 시각적으로 처리하기 때문에 잘못계 산하여 차량 및 적재물이 파손되는 문제점도 있었다. 선행기술문헌 특허문헌 (특허문헌 0001) 특허문헌 1 : 대한민국 공개특허 10-2014-0065037호(차량의 통과높이 제한 시스템) (특허문헌 0002) 특허문헌 2 : 대한민국 공개특허 10-2012-0065558호(관심영역 설정을 이용한 도로상 차량의 검 출방법)"}
{"patent_id": "10-2023-0095764", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "따라서, 본 발명은 상기와 같은 종래 기술의 제반 단점과 문제점을 해결하기 위한 것으로, 도로에 설치된 CCTV 카메라를 이용하여, 운행 중인 트럭의 높이를 측정하기 위해, 3D 객체 감지와 추적 기술 활용 시 파이썬과 컴퓨 터 비전 라이브러리인 OpenCV와 3D 객체 추적을 위한 라이브러리를 조합하여 트럭의 높이를 측정할 수 있는 트 럭 높이 측정 시스템 및 방법을 제공하는데 그 목적이 있다."}
{"patent_id": "10-2023-0095764", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기한 목적을 달성하기 위하여 본 발명은 CCTV 카메라를 이용하여 운행 중인 차량의 전방, 후방 및 측방 중 하 나이상을 촬영하는 카메라 장치; 상기 카메라 장치에서 촬영한 영상에 대하여 3D 객체 감지와 추적 기술을 활용하여 주행 중인 차량 중 트럭을 검지하고, 트럭의 높이 측정 시 파이썬과 컴퓨터 비전 라이브러리인 OpenCV와 3D 객체 추적을 위한 라이브러리를 조합하여 트럭높이를 측정하는 트럭높이 측정장치;로 구성됨을 특징으로 하는 트럭 높이 측정 시스템을 제공한다. 여기서, 트럭높이 측정장치는, 상기 카메라 장치로부터 운행 중인 차량의 영상정보를 전송받는 통신 부와, 파이썬과 컴퓨터 비전 라이브러리인 OpenCV와 3D 객체 추적을 위한 라이브러리가 저장되는 프로그램 저장부와, 상기 프로그램 저장부에 저장된 파이썬과 컴퓨터 비전 라이브러리인 OpenCV와 3D 객체 추 적을 위한 라이브러리를 불러와 상기 통신부를 통해 전송된 운행 중인 차량의 이미지를 전처리하여 트럭관 련객체 정보를 추출하고, 트럭관련 객체정보에서 트럭객체정보를 추출하는 것에 따라 트럭 이미지를 추출하고, 추출한 트럭 이미지를 전처리 한 후 트럭높이를 측정하는 트럭높이 측정모듈 및 상기 통신부, 프로그 램 저장부, 트럭높이 측정모듈를 제어하는 제어부를 포함하여 구성된다. 그리고 상기한 목적을 달성하기 위하여 본 발명은 카메라 장치를 통해 운행 중인 차량을 촬영하는 단계 (S100); 트럭높이 측정장치에서는 촬영 데이터에서 트럭관련 객체정보를 추출하는 단계(S110); 상기 트럭 높이 측정장치는 트럭관련 객체정보에서 트럭객체 정보를 추출하는 단계(S120); 상기 트럭높이 측정장치 는 트럭객체 정보에서 트럭 이미지를 추출하는 단계(S130); 상기 트럭높이 측정장치는 추출된 트럭 이미지에서 채도를 낮추는 전처리를 수행하는 단계(S140); 및 상기 전처리된 트럭 이미지에서 상기 트럭높이 측 정장치는 트럭높이를 측정하는 단계(S150);를 포함하는 것을 특징으로 하는 트럭 높이 측정 방법을 제공한 다."}
{"patent_id": "10-2023-0095764", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 의하면 다음과 같은 효과가 있다. 첫째, 도로나 건물에 설치된 카메라를 통해 차량을 추출하고, 추출된 차량에 대하여 화물, 적재물 등을 포함한 트럭의 높이를 측정하기 위해, 3D 객체 감지와 추적 기술 활용 시 파이썬과 컴퓨터 비전 라이브러리인 OpenCV와 3D 객체 추적을 위한 라이브러리를 조합하여 트럭의 높이를 측정하여 트럭이 통과하고자 하는 진출입로에 대하 여 운전자에 경고하거나, 차량진입을 금지할 수 있는 차량높이 측정 시스템을 제공할 수 있다. 둘째, 도로나 건물에 설치된 카메라를 통해 차량을 추출하고, 검지된 객체에서 점수와 클래스를 추출하는 방식 을 통해 추출된 점수를 기반으로 신뢰도를 확인하는 방식을 이용하므로 신뢰도 높은 트럭높이 추출이 가능하다."}
{"patent_id": "10-2023-0095764", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명의 바람직한 실시 예를 첨부된 도면에 의하여 상세히 설명하면 다음과 같다. 아울러, 본 발명에서 사용되는 용어는 가능한 한 현재 널리 사용되는 일반적인 용어를 선택하였으나, 특정한 경 우는 출원인이 임의로 선정한 용어도 있으며 이 경우는 해당되는 발명의 설명부분에서 상세히 그 의미를 기재하 였으므로, 단순한 용어의 명칭이 아닌 용어가 가지는 의미로서 본 발명을 파악하여야 함을 밝혀두고자 한다. 또한 실시예를 설명함에 있어서 본 발명이 속하는 기술 분야에 익히 알려져 있고, 본 발명과 직접적으로 관련이 없는 기술 내용에 대해서는 설명을 생략한다. 이는 불필요한 설명을 생략함으로써 본 발명의 요지를 흐리지 않 고 더욱 명확히 전달하기 위함이다. 도 1은 본 발명에 따른 트럭 높이 측정 시스템의 실시예를 설명하기 위한 도면이고, 도 2는 도 1에 나타낸 트럭 높이 측정 시스템에서 트럭 높이 측정을 위한 카메라 구성의 실시예를 설명하기 위한 도면이다.본 발명에 따른 트럭 높이 측정 시스템의 실시예는 도 1에 나타낸 바와 같이, 카메라 장치 및 트럭높이 측 정장치로 구성된다. 그리고 이에 더해 안전장치를 더 포함할 수 있다. 여기서 카메라 장치는 CCTV 카메라를 이용하여 운행 중인 차량을 촬영하는 것으로, 복수의 제1 내지 제N 카메라(110, 120, 130)로 구성될 수 있는데, 이러한 복수의 제1 내지 제N 카메라(110, 120, 130)는 도 2에 나 타낸 바와 같이 차량(트럭)의 전방, 후방 및 측방을 촬영하는 복수의 카메라로 구성할 수 있다. 한편 트럭높이 측정장치는 3D 객체 감지와 추적 기술을 활용하여 주행 중인 차량 중 트럭을 검지하고, 트 럭의 높이를 측정하는데, 본 발명에서는 파이썬과 컴퓨터 비전 라이브러리인 OpenCV와 3D 객체 추적을 위한 라 이브러리를 조합하여 트럭높이를 측정한다. 이를 위하여 트럭높이 측정장치는 통신부, 프로그램 저장부, 트럭높이 측정모듈 및 제어부 를 포함하여 구성된다. 또한, 필요한 경우 진출입로 높이 데이터 저장부를 더 포함할 수 있다. 통신부는 카메라 장치로부터 운행 중인 차량의 영상정보를 전송받는다. 그리고. 필요한 경우 안전장 치로 안전장치 구동을 위한 제어정보를 전송한다. 프로그램 저장부는 파이썬과 컴퓨터 비전 라이브러리인 OpenCV와 3D 객체 추적을 위한 라이브러리가 저장 된다. 이러한 프로그램 저장부는 하드디스크나 메모리로 구성될 수 있다. 트럭높이 측정모듈은 프로그램 저장부에 저장된 파이썬과 컴퓨터 비전 라이브러리인 OpenCV와 3D 객 체 추적을 위한 라이브러리를 불러와 통신부를 통해 전송된 운행 중인 차량의 이미지를 전처리하여 트럭관 련객체 정보를 추출하고, 트럭관련 객체정보에서 트럭객체정보를 추출하는 것에 따라 트럭 이미지를 추출하고, 추출한 트럭 이미지를 전처리 한 후 트럭높이를 측정한다. 이때, 트럭 이미지 전처리는 예를 들어 BGR(Blue, Green, Red)에서 그레이스케일로 변환 후, 그레이스케일로 변 환한 이미지에 대하여 가우시안 블러(Gaussian blur)를 적용하여 이미지를 흐리게 변환, 즉 채도를 낮춘 후, 채 도를 낮춘 이미지에서 에지를 검출하는 방법을 통해 트럭의 경계선을 검출하는 방식을 이용할 수 있다. 이러한 이유는 트럭의 높이는 트럭만의 높이가 아닌 트럭에 적재한 화물을 포함하여야 하기 때문이다. 예를 들어 트럭 은 지붕이 있는 트럭(유개(有蓋))과 지붕이 없는 트럭(무개(無蓋))이 있는데, 지붕이 없는 트럭의 경우 화물에 의해 트럭의 높이가 달라질 수 있고, 그와 같은 경우 트럭의 운전자가 때로는 트럭 높이를 모르거나 착각할 수 있기 때문이다. 그리고 이를 구현하기 위한 실시예로, 본 발명 트럭높이 측정모듈은 통신부를 통해 전송된 운행 중인 차량의 이미지 중에서 트럭관련객체 정보를 추출하기 위한 트럭관련객체 정보 추출부와, 트럭관련객체 정 보 추출부에서 추출한 트럭관련객체 정보 중 트럭객체정보를 추출하는 트럭객체정보 추출부와, 트럭 객체정보 추출부에서 추출한 트럭객체정보에서 트럭이미지를 추출하는 트럭 이미지 추출부와, 트럭 이미지 추출부에서 추출한 트럭이미지에 대한 전처리를 수행하는 트럭이미지 전처리부 및 트럭이미지 전처리부에서 전처리한 트럭이미지로부터 트럭의 높이를 측정하는 트럭높이 측정부로 구성될 수 있다. 진출입로 높이 데이터 저장부는 차량이나 트럭이 주행 중인 방향에 설치된 진출입로의 높이 데이터가 저장 된다. 제어부는 통신부, 프로그램 저장부, 트럭높이 측정모듈 및 진출입로 높이 데이터 저장부 를 제어하며, 트럭높이 측정모듈에서 측정된 트럭높이와 진출입로 높이 데이터 저장부에 저장된 차량 진행 방향 진출입로의 높이를 비교한다. 한편 후술하는 안전장치와 연결된 경우에는 측정된 트럭높 이에 따라 트럭진행 방향에 높이가 제한된 진출입로의 안전장치로 트럭이 진출입로를 통과할 수 없다는 데 이터를 전송하도록 한다. 트럭 높이 측정 시스템에서는 안전장치를 더 포함할 수 있는데, 이는 트럭높이 측정장치의 측정결과 에 따라 트럭 주행 방향의 진출입로(터널, 지하차도, 굴다리 등)의 높이보다 높다면 해당 트럭을 운전하는 운전 자에게 주의를 주기 위한 것으로, 통신부, 경고등, 차단바, 디스플레이 및 제어부를 포함하여 구성될 수 있는데, 트럭의 높이가 진출입로보다 높다는 데이터를 전송받은 경우 제어부는 경고등 , 차단바, 디스플레이를 통해 트럭 운전자가 진출입로로 진입하지 못하도록 경고하도록 제어한 다. 이때, 경고등은 예를 들어 적색등이 점멸되도록 하고, 차단바를 통해서는 트럭의 전방에 진입을 직접 적으로 금지시키며, 디스플레이를 통해서는 진입을 금지한다는 안내문구가 디스플레이되도록 할 수 있다.도 3은 본 발명에 따른 트럭 높이 측정 방법의 실시예를 설명하기 위한 흐름도이고, 도 4 내지 도 8은 본 발명 에 따른 트럭 높이 측정 방법의 실시예를 설명하기 위한 흐름도이다. 본 발명에 따른 트럭 높이 측정 방법의 실시예는 도 3에 나타낸 바와 같은데, 카메라 장치를 통해 운행 중 인 차량을 촬영한다(S100). 이때, 차량의 전방, 후방 및 측방을 촬영한다. 촬영된 영상 데이터는 트럭높이 측정장치로 전송되고, 트럭높이 측정장치에서는 촬영 데이터에서 트 럭관련 객체정보를 추출한다(S110). 이러한 트럭관련 객체정보를 추출하는 방법의 실시예에 대하여 도 4를 통해 보다 상세히 설명하면, 우선, 본 발 명에서는 운행 중인 트럭의 높이를 측정하기 위해, 3D 객체 감지와 추적 기술을 활용하는데, 이를 위해 파이썬 과 컴퓨터 비전 라이브러리인 OpenCV와 3D 객체 추적을 위한 라이브러리를 조합하여 사용한다. 이를 위하여 프로그램 저장부에 OpenCV 및 필요한 라이브러리가 설치되고, 3D 객체 감지와 추적을 위한 코 드가 입력된다. 이러한 코드의 실시예는 다음과 같다. 1. OpenCV 및 필요한 라이브러리 설치 : pip install opencv-python pip install opencv-contrib-python pip install numpy 2. 3D 객체 감지와 추적을 위한 코드 : import cv2 import numpy as np # YOLOv4 모델과 가중치 파일 경로 model_path = 'path/to/yolov4.weights' config_path = 'path/to/yolov4.cfg' # YOLOv4 모델 로드 net = cv2.dnn.readNetFromDarknet(config_path, model_path) # 클래스 이름 로드 with open('path/to/coco.names', 'r') as f: classes = [line.strip() for line in f.readlines()] # GPU를 사용할 경우 설정 net.setPreferableBackend(cv2.dnn.DNN_BACKEND_CUDA) net.setPreferableTarget(cv2.dnn.DNN_TARGET_CUDA) # 영상 파일 또는 실시간 비디오 스트림 열기 cap = cv2.VideoCapture('path/to/video.mp4') while True: ret, frame = cap.read() # 비디오에서 프레임 읽기 if not ret: break # YOLOv4를 사용하여 객체 감지 blob = cv2.dnn.blobFromImage(frame, 1/255.0, (608, 608), swapRB=True, crop=False) net.setInput(blob) layer_names = net.getLayerNames() output_layers = [layer_names[i[0] - 1] for i in net.getUnconnectedOutLayers()] outputs = net.forward(output_layers) boxes = [] confidences = [] class_ids = [] 이러한 코드가 실행되면(S111), 카메라장치(100 : 110, 120, 130)에서 촬영된 쵤영된 이미지를 전처리하여 신경 망 입력 준비되고(S112), 신경망에 전처리된 촬영 이미지 입력되면(S113), 신경망의 레이어와 출력 설정이 구성 된다(S114). 그리고 신경망을 실행하여 객체 감지를 수행하고(S115), 실행 결과를 처리하여 트럭 관련 객체 정 보만을 추출한다(S116). 이러한 신경망에 필요한 학습은 출원인 주식회사 알씨의 등록특허 10-2296471호(인공지능 기반 차량 적재불량 검출 시스템)에서 이용되는 것을 이용할 수 있다. 이어 트럭높이 측정장치는 트럭관련 객체정보에서 트럭객체 정보를 추출한다(S120). 이러한 트럭객체 정보를 추출하는 방법의 실시예에 대하여 도 5를 통해 보다 상세히 설명하면, 앞에서와 같이 코드가 실행되고(S121), 추출된 트럭 관련 객체 정보에 대한 출력 목록을 반복하여 각 출력에 대한 처리를 수행 한다(S122). 그리고 검지 목록, 즉 추출 목록을 반복하여 각 출력 감지에 대한 처리를 수행한다(S123). 이어, 검지된 각 객체에서 점수와 클래스를 추출하고(S124), 추출된 점수를 기반으로 신뢰도를 확인한다(S125). 그리 고 미리 설정된 정도의 신뢰도가 충족되는 경우, 객체 정보(트럭 등)를 추출하고(S126), 추출된 객체 정보를 저 장한다(S127). 이러한 각 객체에서의 점수와 클래스 추출에 대한 코드의 실시예는, # 감지된 객체 정보 추출 for output in outputs: for detection in output: scores = detection[5:] class_id = np.argmax(scores) confidence = scores[class_id] if confidence > 0.5: # 신뢰도가 0.5보다 큰 객체만 추출 center_x = int(detection[0] * frame.shape[1]) center_y = int(detection[1] * frame.shape[0]) width = int(detection[2] * frame.shape[1]) height = int(detection[3] * frame.shape[0]) x = int(center_x - width / 2) y = int(center_y - height / 2) boxes.append([x, y, width, height]) confidences.append(float(confidence)) class_ids.append(class_id) 와 같이 구현될 수 있다. 그리고 트럭높이 측정장치는 트럭객체 정보에서 트럭 이미지를 추출한다(S130). 이러한 트럭객체 정보에서 트럭 이미지를 추출하는 방법의 실시예에 대하여 도 6을 통해 보다 상세히 설명하면, 코드를 실행 후(S131), 객체 정보를 입력으로 받아 추출한다(S132). 그리고 추출된 객체들에 대해 비최대 억제 를 수행하여 겹치는 객체를 제거하고(S133), 비최대 억제(Non-maximum suppression) 결과에 대해 반복적인 처리 를 수행한다(S134). 그리고 각 결과에 대해 인덱스 추출하고(S135), 추출된 인덱스를 사용하여 트럭 이미지 정 보를 추출한 후(S136), 추출된 정보를 기반으로 레이블을 생성한다(S137). 이러한 트럭객체 정보에서 트럭 이미지를 추출하는 코드의 실시예는, # 추출된 객체 정보를 이용하여 트럭 추적 indices = cv2.dnn.NMSBoxes(boxes, confidences, 0.5, 0.4) for i in indices: i = i[0] x, y, width, height = boxes[i] label = str(classes[class_ids[i] 와 같이 구현될 수 있다. 한편 트럭높이 측정장치는 추출된 트럭 이미지에서 트럭높이를 측정하기 용이하도록 전처리한다(S140). 이러한 트럭높이를 측정하기 용이하도록 하기 위한 전처리 방법의 실시예에 대하여 도 7을 통해 보다 상세히 설 명하면, 코드를 실행 후(S141), 입력된 이미지를 BGR에서 그레이스케일로 변환한다(S141). 이어 가우시안 블러 를 적용하여 이미지를 흐리게 변환하고(S143), 흐린 이미지에서 에지를 검출한다(S144). 즉 채도를 낮춘 후, 채도를 낮춘 이미지에서 에지를 검출하여 트럭의 경계선을 검출하는데 이용된다. 이러한 트럭객체 정보에서 트럭 이미지를 추출하는 코드의 실시예는, 비디오 파일이나 실시간 비디오 스트림을 여는데, cap = cv2.VideoCapture. (여기서, # 0은 기본 웹캠에 대한 인덱스인데, 다른 비디오 소스를 사용하려면 해당 인덱스를 변경해야 한다.) 그리고 비디오 프레임을 읽고, 트럭의 높이를 측정한다. 이러한 트럭 높이 측정 코드는, def measure_truck_height(): _, frame = cap.read() (# 비디오에서 프레임 읽기) # 트럭을 감지하기 위한 이미지 전처리 과정 코드는, gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY) blurred = cv2.GaussianBlur(gray, (5, 5), 0) edges = cv2.Canny(blurred, 50, 150) 와 같이 구현할 수 있다. 이어 전처리된 트럭 이미지에서 트럭높이 측정장치는 트럭높이를 측정한다(S150). 이러한 트럭높이를 측정하는 방법의 실시예에 대하여 도 8을 통해 보다 상세히 설명하면, 코드를 실행 후 (S151), 에지 이미지에서 경계선 검출코드를 실행한다(S152). 그리고검출된 경계선 중에서 가장 큰 경계선 선 택코드를 실행하고(S153), 선택된 경계선에 사각형을 그려 표시코드를 실행한 후(S154), 경계선의 사각형 영역 을 기반으로 픽셀 단위로 트럭의 높이를 측정한다(S155). 이어 측정된 트럭 높이 반환코드를 실행 후(S156), 반환된 트럭 높이를 확인하여 결과를 출력한다(S157). 이러한 트럭높이를 측정하기 위한 코드의 실시예는, # 트럭 검출을 위해 경계선을 찾기 contours, _ = cv2.findContours(edges, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE) # 가장 큰 경계선(트럭) 선택 if len(contours) > 0: truck_contour = max(contours, key=cv2.contourArea) # 경계선에 사각형 그리기 x, y, w, h = cv2.boundingRect(truck_contour) cv2.rectangle(frame, (x, y), (x+w, y+h), (0, 255, 0), 2) # 픽셀 단위로 높이 측정 truck_height = h return truck_height return None # 트럭 높이 측정 시작 truck_height = measure_truck_height() if truck_height is not None: print(\"트럭 높이:\", truck_height) else: print(\"트럭을 찾을 수 없습니다.\") 와 같이 구현될 수 있다. 위 코드는 실시간 비디오 스트림에서 트럭을 감지하고, 트럭의 높이를 픽셀 단위로 측정하도록 한 것이다 이러한 방법으로 트럭높이를 측정한 후, 트럭높이 측정장치는 측정된 트럭높이와 주행방향 진출입로의 높 이를 비교한다(S160). 비교결과 해당 트럭이 진출입로를 진입하기 위험하다고 판단되면(S170), 트럭높이 측정장치는 안전장치 로 트럭의 진입금지를 요청하고, 안전장치는 트럭의 진입금지를 위한 이벤트를 진행한다(S180). 이 러한 진입금지 이벤트는 경고등, 차단바 및 디스플레이 중 하나이상을 통해 수행할 수 있다. 이상과 같은 예로 본 발명을 설명하였으나, 본 발명은 반드시 이러한 예들에 국한되는 것이 아니고, 본 발명의 기술사상을 벗어나지 않는 범위 내에서 다양하게 변형 실시될 수 있다. 따라서 본 발명에 개시된 예들은 본 발 명의 기술 사상을 한정하기 위한 것이 아니라 설명하기 위한 것이고, 이러한 예들에 의하여 본 발명의 기술 사 상의 범위가 한정되는 것은 아니다. 본 발명의 보호 범위는 아래의 청구범위에 의하여 해석되어야 하며, 그와 동등한 범위 내에 있는 모든 기술 사상은 본 발명의 권리범위에 포함되는 것으로 해석되어야 한다."}
{"patent_id": "10-2023-0095764", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명에 따른 트럭 높이 측정 시스템의 실시예를 설명하기 위한 도면, 도 2는 도 1에 나타낸 트럭 높이 측정 시스템에서 트럭 높이 측정을 위한 카메라 구성의 실시예를 설명하기 위 한 도면, 도 3은 본 발명에 따른 트럭 높이 측정 방법의 실시예를 설명하기 위한 흐름도, 도 4 내지 도 8은 본 발명에 따른 트럭 높이 측정 방법의 실시예를 설명하기 위한 흐름도이다."}
