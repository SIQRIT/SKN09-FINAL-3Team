{"patent_id": "10-2022-0151823", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0070238", "출원번호": "10-2022-0151823", "발명의 명칭": "다중 영상 및 데이터 간 동기화 송수신 시스템 및 방법", "출원인": "주식회사 인포웍스", "발명자": "손영동"}}
{"patent_id": "10-2022-0151823", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "클라이언트 장치로부터 비디오 데이터, 센싱(Sensing) 데이터 및 통신 상태 데이터 중 적어도 하나 이상을 포함하는 데이터를 수신하는 통신부; 및 복수개의 상기 클라이언트 장치가 전송하는 상기 비디오 데이터와 상기 센싱(Sensing) 데이터를 동기화하여 수신하는 동기화 제어부;를 구비하는,다중 영상 및 데이터 간 동기화 송수신 시스템."}
{"patent_id": "10-2022-0151823", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "에 있어서,상기 비디오 패킷, 상기 정보 패킷 및 상기 통신 우선순위 패킷은,송신할 패킷의 시작을 의미하고, 상기 패킷을 식별하는 패킷ID를 포함하는 START PACKET;상기 비디오 데이터, 상기 정보 데이터 및 상기 통신 상태 데이터 중 적어도 하나를 포함하는 DATA PACKET;상기 DATA PACKET의 크기를 포함하는 LENGTH PACKET; 및 상기 DATA PACKET을 수신할 상태인지 확인하는 CHECK PACKET;을 포함하는,다중 영상 및 데이터 간 동기화 송수신 시스템."}
{"patent_id": "10-2022-0151823", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "청구항 2에 있어서,상기 비디오 데이터는,상기 클라이언트 장치가 카메라를 통해 수집한 영상 데이터이고, 비디오 패킷(Packet)에 포함되어 전송되는,다중 영상 및 데이터 간 동기화 송수신 시스템."}
{"patent_id": "10-2022-0151823", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "청구항 2에 있어서,상기 센싱(Sensing) 데이터는,상기 클라이언트 장치가 센서(Sensor)를 통해 수집한 데이터이고, 정보 패킷(Packet)에 포함되어 전송되는,다중 영상 및 데이터 간 동기화 송수신 시스템."}
{"patent_id": "10-2022-0151823", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "청구항 2에 있어서,상기 통신 상태 데이터는,상기 클라이언트 장치에 설정된 클라이언트 통신 우선순위 및 상기 클라이언트 장치가 송수신한 총 패킷 수 중적어도 하나 이상을 포함하고, 통신 우선순위 패킷(Packet)에 포함되어 전송되는,다중 영상 및 데이터 간 동기화 송수신 시스템.공개특허 10-2024-0070238-3-청구항 6"}
{"patent_id": "10-2022-0151823", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "청구항 2에 있어서,상기 클라이언트 장치와 상기 통신부 간의 통신은 적어도 하나 이상의 통신 사이클(Cycle)을 포함하고,상기 통신 사이클은 적어도 하나 이상의 상기 비디오 패킷, 적어도 하나 이상의 상기 정보 패킷 및 적어도 하나이상의 상기 통신 우선순위 패킷을 송수신하는 과정을 포함하는,다중 영상 및 데이터 간 동기화 송수신 시스템."}
{"patent_id": "10-2022-0151823", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "청구항 7에 있어서,상기 동기화 송수신 시스템은,상기 통신 사이클을 수행하는데 걸린 시간인 1사이클완료시간, 상기 클라이언트 장치의 통신 우선순위 및 상기통신 사이클 동안 송수신한 총 패킷 수를 사용하여 통신 가중치를 산정하는 통신 가중치 산출부를 더 포함하는,다중 영상 및 데이터 간 동기화 송수신 시스템."}
{"patent_id": "10-2022-0151823", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "청구항 8에 있어서,상기 동기화 제어부는,상기 통신 사이클이 끝날 때 마다 상기 통신 가중치를 적용하여 상기 클라이언트 장치의 통신 우선순위를 갱신하고, 상기 통신 우선순위에 따라 통신 흐름을 제어하는,다중 영상 및 데이터 간 동기화 송수신 시스템."}
{"patent_id": "10-2022-0151823", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "청구항 1에 기재된 다중 영상 및 데이터 송수신 동기화 시스템에 의해 구현되는 다중 영상 및 데이터 간 동기화방법에 있어서,클라이언트 장치와 통신부 간의 통신 채널을 연결하는 통신 연결 단계;상기 통신 채널에서 비디오 패킷을 송수신 하는 단계;상기 통신 채널에서 정보 패킷을 송수신 하는 단계;공개특허 10-2024-0070238-4-상기 통신 채널에서 통신 우선순위 패킷을 송수신 하는 단계; 및 통신 가중치 산출부가 상기 클라이언트 장치의 통신 가중치를 산출하여 상기 클라이언트 장치의 통신 우선순위를 갱신하는 단계;를 포함하는,다중 영상 및 데이터 간 동기화 송수신 방법."}
{"patent_id": "10-2022-0151823", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 다중 영상 및 데이터 간 동기화 송수신 시스템 및 방법에 관한 것으로, 보다 구체적으로는 TCP/IP 기 반 Socket 통신이 가능한 Device(디바이스)에서 Capture한 다중 영상 데이터와 물체/객체 데이터, 센싱 (Sensing) 데이터 등의 해당 영상과 관련된 다양한 정보 데이터를 동기화하여 송수신하고, 실시간으로 클라이언 트별 통신 가중치를 계산해 통신 흐름을 동적으로 최적화하는 시스템 및 방법에 관한 것이다."}
{"patent_id": "10-2022-0151823", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 다중 영상 및 데이터 간 동기화 송수신 시스템 및 방법에 관한 것으로, 보다 구체적으로는 TCP/IP 기 반 Socket 통신이 가능한 Device(디바이스)에서 Capture한 다중 영상 데이터와 물체/객체 데이터, 센싱 (Sensing) 데이터 등의 해당 영상과 관련된 다양한 정보 데이터를 동기화하여 송수신하고, 실시간으로 클라이언 트별 통신 가중치를 계산해 통신 흐름을 동적으로 최적화하는 시스템 및 방법에 관한 것이다."}
{"patent_id": "10-2022-0151823", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "일반적인 영상 스트리밍(Streaming)에 있어 RTSP(Real Time Streaming Protocol)는 영상을 전송하는데 최적화 된 Protocol을 제공하여 우위를 점하고 있다. 그러나 상기 내용과 같이 영상 전송에만 최적화되어 있어 전송하 는 영상 데이터에 다른 데이터를 함께 보낼 수 없고, 전송해야 하는 비디오 소스가 여러 개 일 때 여러 비디오 데이터를 서버에서 한 번에 동기화하여 받기 위해서는 해상도(Resolution), 초당 프레임 수 (Frames Per Second), 영상 포맷(Format) 등의 Capture Device의 성능이 모두 일치해야 하는 제약이 따른다. 일반적인 인터넷 방송과 같은 단일 비디오 데이터 서비스 외 해상도(Resolution), 초당 프레임 수 (Frames Per Second), 영상 포맷(Format) 등이 다른 여러 비디오 데이터 및 센싱(Sensing) 데이터를 동시간에 수집해야 하는 다중 비디오 데이터 서비스 개발에 있어서 기존 RTSP Protocol은 한계점이 존재할 수밖에 없다. 즉 RTSP Protocol은 공공기관 및 산업체에 동시성이 중요한 다중 비디오 데이터 전송 서비스 개발에 있어 제약이 크다는 뜻이다. 이에 상기와 같은 문제를 해결하기 위해 동시성이 보장된 다중 비디오 데이터 전송 기술을 구비한, 다중 영상 및 데이터 간 동기화 송수신 시스템 개발이 필요하다."}
{"patent_id": "10-2022-0151823", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 TCP/IP 기반 Socket 통신이 가능한 Device에서 Capture한 다중 영상 데이터와 물체/객체 데이터, 센 싱(Sensing) 데이터 등의 해당 영상과 관련된 다양한 정보 데이터를 동기화하여 두 데이터 간 지연 및 오차를 최소화하여 데이터를 서버로 전송하는 다중 영상 및 데이터 간 동기화 송수신 시스템 및 방법을 제공하는데 그 목적이 있다."}
{"patent_id": "10-2022-0151823", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 일 실시예에 따른 다중 영상 및 데이터 간 동기화 송수신 시스템 및 동기화 방법은, 클라이언트 장치 로부터 비디오 데이터, 센싱(Sensing) 데이터 및 통신 상태 데이터 중 적어도 하나 이상을 포함하는 데이터를 수신하는 통신부; 및 복수개의 상기 클라이언트 장치가 전송하는 상기 비디오 데이터와 상기 센싱(Sensing) 데 이터를 동기화하여 수신하는 동기화 제어부;를 구비한다. 또한, 상기 클라이언트 장치와 상기 통신부는 TCP/IP 프로토콜 기반 정의된 통신 규격으로 통신하고, 상기 정의 된 통신 규격은 비디오 패킷(Packet), 정보 패킷(Packet) 및 통신 우선순위 패킷(Packet) 중 적어도 하나 이상을 포함한다. 또한, 상기 비디오 데이터는, 상기 클라이언트 장치가 카메라를 통해 수집한 영상 데이터이고, 비디오 패킷 (Packet)에 포함되어 전송된다. 또한, 상기 센싱(Sensing) 데이터는, 상기 클라이언트 장치가 센서(Sensor)를 통해 수집한 데이터이고, 정보 패 킷(Packet)에 포함되어 전송된다. 또한, 상기 통신 상태 데이터는, 상기 클라이언트 장치에 설정된 클라이언트 통신 우선순위 및 상기 클라이언트 장치가 송수신한 총 패킷 수 중 적어도 하나 이상을 포함하고, 통신 우선순위 패킷(Packet)에 포함되어 전송된 다. 또한, 상기 비디오 패킷, 상기 정보 패킷 및 상기 통신 우선순위 패킷은, 송신할 패킷의 시작을 의미하고, 상기 패킷을 식별하는 패킷ID를 포함하는 START PACKET; 상기 비디오 데이터, 상기 정보 데이터 및 상기 통신 상태 데이터 중 적어도 하나를 포함하는 DATA PACKET; 상기 DATA PACKET의 크기 를 포함하는 LENGTH PACKET; 및 상기 DATA PACKET을 수신할 상태인지 확인하는 CHECK PACKET;을 포함한다. 또한, 상기 클라이언트 장치와 상기 통신부 간의 통신은 적어도 하나 이상의 통신 사이클(Cycle)을 포함하고, 상기 통신 사이클은 적어도 하나 이상의 상기 비디오 패킷, 적어도 하나 이상의 상기 정보 패킷 및 적어도 하나 이상의 상기 통신 우선순위 패킷을 송수신하는 과정을 포함한다. 또한, 상기 동기화 송수신 시스템은, 상기 통신 사이클을 수행하는데 걸린 시간인 1사이클완료시간, 상기 클라 이언트 장치의 통신 우선순위 및 상기 통신 사이클 동안 송수신한 총 패킷 수를 사용하여 통신 가중치를 산정하 는 통신 가중치 산출부를 더 포함한다. 또한, 상기 동기화 제어부는, 상기 통신 사이클이 끝날 때 마다 상기 통신 가중치를 적용하여 상기 클라이언트 장치의 통신 우선순위를 갱신하고, 상기 통신 우선순위에 따라 통신 흐름을 제어한다. 또한, 다중 영상 및 데이터 송수신 동기화 시스템에 의해 구현되는 다중 영상 및 데이터 간 동기화 방법에 있어 서, 클라이언트 장치와 통신부 간의 통신 채널을 연결하는 통신 연결 단계; 상기 통신 채널에서 비디오 패킷을 송수신 하는 단계; 상기 통신 채널에서 정보 패킷을 송수신 하는 단계; 상기 통신 채널에서 통신 우선순위 패킷 을 송수신 하는 단계; 및 통신 가중치 산출부가 상기 클라이언트 장치의 통신 가중치를 산출하여 상기 클라이언 트 장치의 통신 우선순위를 갱신하는 단계;를 포함한다."}
{"patent_id": "10-2022-0151823", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "데이터를 송수신한 후 데이터 동기화를 위한 별도의 처리가 불필요하여 저 성능 서버 또는 시스템에서도 동시성 이 보장된 다중 영상 및 데이터 관리가 가능해진다. 즉 TCP/IP 기반 Socket 통신을 지원하는 여러 Device에서 폭넓은 사용이 가능하다. 동시성이 보장된 여러 범위에 다중 비디오 데이터와 이와 연관된 센싱(Sensing)데이터 추출 및 전송이 하나의 통신 사이클(Cycle) 내에서 가능하므로 실시간 다중 데이터 수집 시스템의 구축이 단순해진다. 서버에서 실시간으로 클라이언트별 통신 가중치를 계산해 통신 흐름을 동적으로 최적화한다. 이를 통해 다중 클 라이언트 환경에서 특정 클라이언트로 데이터 송수신이 쏠리는 병목 현상과 이에 따른 데이터 지연 문제를 최소 화한다."}
{"patent_id": "10-2022-0151823", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하에서는 도면을 참조하여 본 발명의 구체적인 실시예를 상세하게 설명한다. 다만, 본 발명의 사상은 제시되 는 실시예에 제한되지 아니하고, 본 발명의 사상을 이해하는 당업자는 동일한 사상의 범위 내에서 다른 구성요 소를 추가, 변경, 삭제 등을 통하여, 퇴보적인 다른 발명이나 본 발명 사상의 범위 내에 포함되는 다른 실시예 를 용이하게 제안할 수 있을 것이나, 이 또한 본원 발명 사상 범위 내에 포함된다고 할 것이다. 그리고, 후술되는 용어들은 본 발명에서의 기능을 고려하여 설정된 용어들로써 이는 발명자의 의도 또는 관례에 따라 달라질 수 있으므로 그 정의는 본 명세서 전반에 걸친 내용을 토대로 내려져야 할 것이고, 본 명세서에서 본 발명에 관련된 공지의 구성 또는 기능에 대한 구체적인 설명이 본 발명의 요지를 흐릴 수 있다고 판단되는 경우에 이에 관한 자세한 설명은 생략하기로 한다. 이하, 도면을 참조로 하여 본 발명에 따른 다중 영상 및 데이터 간 동기화 송수신 시스템 및 방법을 설명한다. 도 1은 본 발명의 일 실시예에 따른 다중 영상 및 데이터 간 동기화 송수신 시스템의 구성도이다. 본 발명의 일 실시예에 따른 다중 영상 및 데이터 간 동기화 송수신 시스템은 적어도 하나 이상의 클라이언 트 장치와 서버로 구성될 수 있고, 각 장치들은 네트워크로 연결되어 서로 통신할 수 있다. 본 발명에서 클라이언트 장치는 영상을 촬영/캡쳐(Capture)하여 전송하는 카메라/촬영 장치, 각종 데이터 를 수집하는 센서, 스마트 장치 등을 포함할 수 있다. 본 발명에서 언급하는 서버는 클라이언트 장치의 접속 요청을 수신하여 양방향 통신 채널을 생성하고, 클라이언트 장치가 전송하는 비디오 데이터 및 전송하는 비디오 데이터와 연관된 센싱(Sensing) 데이터 또는 영상 Frame의 물체/객체 데이터를 의미한다. 센싱(Sensing) 데이터는 센서로부터 수집된 물체 정보, 주변 환경 정보, 기상 정보, 거리 정보 등을 포함할 수 있다. 또한 본 발명에서 언급하는 서버는 일종의 웹 서비스 서버, 데이터베이스 서버, 빅데이터 서버, IoT서버, 미디어 서버 및 어플리케이션 서버 중 적어도 하나 이상의 역할을 하는 서버로 구축될 수 있다. 또한, 상기 열거한 각각의 역할을 하나의 물리적 서버에서 수행할 수도 있고, 물리적으로 분리된 복수개의 서버 로 구성되어 운영될 수도 있다. 다만, 이에 한정하지 않고, 서버의 종류는 통상의 기술자에게 자명한 수준에서 다양하게 변경 가능하다. 클라이언트 장치와 서버간 송수신 데이터는 비디오 데이터, 센싱(Sensing) 데이터 및 통신 상태 데이 터 중 적어도 하나 이상을 포함한다. 보다 구체적으로, 클라이언트 장치는 카메라를 통해 수집된 비디오 데이터, 각종 센서에서 수집된 영상 이 외의 센싱(Sensing) 데이터 및 클라이언트 장치의 통신 흐름의 상태를 측정할 수 있는 통신 상태 데이터를 포함한다. 일례로, 클라이언트 장치는 자율 주행을 위해 시각 정보를 수집하는 카메라와 주행 중 나타나는 다양한 객 체를 인식을 위한 라이다 (RiDAR) 또는 레이더(RADAR) 등의 다양한 센서를 포함할 수 있다. 라이다(RiDAR)는 레이저 펄스를 쏘고 반사되어 돌아오는 시간을 측정하여 반사체의 위치 좌표를 측정하는 레이 다 장치이다. 클라이언트 장치는 라이다(RiDAR) 또는 레이더(RADAR)가 수집하는 신호 데이터를 분석하고, 이를 바탕으로 분석된 물체/객체 정보를 포함하는 센싱(Sensing) 데이터와 카메라에서 촬영되는 비디오 데이터를 서버로 전송하는데, 이때, 주행 환경 파악을 위해 두 데이터는 서로 동기화 되어 전송되어야 한다. 또한, 복수개의 클라이언트 장치가 서버에 접속하여 통신할 수 있는데 이때, 복수개의 클라이언트가 같은 시간에 서로 다른 위치에서 촬영한 비디오 영상과 수집한 센싱(Sensing) 데이터를 전송할 수 있다. 일례로, 자율 주행을 위해 카메라와 라이다(RiDAR)/레이더(RADAR)를 포함하는 복수개의 클라이언트 장치가 서버와 통신하는 경우, 서버는 동 시점에 각각의 클라이언트 장치가 전송하는 비디오 데이터와 센싱(Sensing)데이터를 수신하여 동기화된 상태로 관리하고, 이를 토대로 실시간으로 주행 환경을 분석해야 한 다. 동시성이 보장된 다중 영상과 센싱(Sensing) 데이터의 송수신을 위해 각각의 클라이언트 장치와의 통신 상 태를 주기적으로 체크하여 클라이언트 장치의 통신 우선순위를 산출하고, 통신 순서를 제어하여, 통신 흐 름을 동적으로 최적화하여, 데이터 병목 현상과 데이터 송수신 지연 문제를 최소화한다. 이때, 서버는 클라이언트 장치와의 통신 상태를 체크하기 위해 클라이언트 장치로부터 통신 상 태 데이터를 수신한다. 통신 상태 데이터는 클라이언트 장치에 설정된 클라이언트 통신 우선순위 및 클라이언트 장치가 송수 신한 총 패킷 수 중 적어도 하나 이상의 통신 가중치 측정 인자를 포함한다. 서버는 통신 상태 데이터를 수신하여 통신 가중치를 산출하고, 통신 가중치로 통신 흐름을 판단하여, 각각의 클라이언트 장치와의 통 신 순서를 제어한다. 본 발명은 상술한 동 시점의 복수개의 비디오 데이터와 상기 비디오 데이터와 연관된 센싱(Sensing) 데이터 또 는 영상 Frame의 물체/객체 데이터를 동기화하여 송수신함으로써 서버에서 별도의 데이터 동기화 처리가 불필요하고, 이로써, 저 성능 서버에서도 동시성이 보장된 다중 영상 및 정보 데이터 관리가 가능해진다. 도 2는 본 발명의 일 실시예에 따른 다중 영상 및 데이터 간 동기화 송수신 시스템에서 서버의 구성도 이다. 본 발명의 일 실시예에 따른 다중 영상 및 데이터 간 동기화 송수신 시스템에서 서버는 통신부, 동기화 제어부, 통신 가중치 산출부, 클라이언트 정보 관리부 및 데이터 처리부를 구비한 다. 통신부는 적어도 하나 이상의 클라이언트 장치와의 접속을 허용하고, 생성된 통신 채널을 통해 비디 오 데이터, 센싱(Sensing) 데이터 및 통신 상태 데이터 중 적어도 하나 이상을 포함하는 데이터를 수신한다. 이 때, 클라이언트 장치와 서버간의 통신은 TCP/IP 기반의 정의된 통신 규약으로 송수신 한다. 정의된 통신 규약은 동 시점의 복수개의 비디오 데이터와 상기 비디오 데이터와 연관된 센싱(Sensing) 데이터 또는 영상 Frame의 물체/객체 데이터를 동기화하여 송수신하기 위한 TCP/IP 패킷 기반 프로토콜일 수 있다. 통신부는 클라이언트 장치와 연결된 통신 채널을 통해 정의된 통신 규약에 따라 패킷 데이터를 수신 하고, 파싱(Parsing)하여 동기화 제어부으로 전달하고, 동기화 제어부의 명령에 따라 패킷 데이터를 구성하여 전송한다. 정의된 통신 규약에 대한 상세 설명은 도 3을 참고하여 후술한다. 동기화 제어부는 복수개의 클라이언트 장치가 전송하는 비디오 데이터와 상기 센싱(Sensing) 데이터 를 동기화하여 수신한다. 보다 구체적으로, 동기화 제어부는 데이터 동기화를 위해 통신 사이클(Cycle) 단위로 데이터 송수신을 제 어한다. 통신 사이클은 적어도 하나 이상의 비디오 패킷(VIDEO PACKET), 적어도 하나 이상의 정보 패킷(INFO PACKET) 및 적어도 하나 이상의 통신 우선순위 패킷(CP PACKET)을 송수신하는 과정을 포함한다. 비디오 데이터는 클라이언트 장치가 카메라를 통해 수집한 영상 데이터이고, 비디오 패킷(Packet)에 포함 되어 전송된다. 센싱(Sensing) 데이터는 클라이언트 장치가 센서(Sensor)를 통해 수집한 데이터이고, 정보 패킷(Packet)에 포함되어 전송된다. 센싱(Sensing) 데이터는 비디오와 연관된 영상 Frame내의 물체/객체 정보를 더 포함할 수 있다. 통신 상태 데이터는 클라이언트 장치에 설정된 통신 우선순위 및 클라이언트 장치가 하나의 통신 사 이클을 수행하는 동안 송수신한 총 패킷 수 중 적어도 하나 이상을 포함하고, 통신 우선순위 패킷(Packet)에 포 함되어 전송된다. 이때, VIDEO PACKET, INFO PACKET, CP PACKET 의 송수신 순서는 본 발명의 실시예에 따라 다양하게 적용될 수 있다. 클라이언트 장치와 서버는 데이터 송수신 시 적어도 하나 이상의 통신 사이클(Cycle)을 포함하고, 통 신 연결 시점부터 연결 종료까지 동기화 되어 처리되어야 하는 비디오 데이터 및 센싱(Sensing)데이터의 송수신 을 위해 통신 사이클 단위로 데이터를 송수신하고, 처리한다. 일례로, 자율 주행을 위해 설치된, 카메라와 라이다(RiDAR)/레이더(RADAR)를 포함하는 클라이언트 장치는 카메라로부터 수집된 비디오 데이터를 VIDEO PACKET에 포함하여 서버로 전송한다(단계 1). 다음으로, 비디 오 데이터 전송 후 라이다(RiDAR)/레이더(RADAR)로부터 수집한 정보 데이터를 INFO PACKET에 포함하여 서버 로 전송한다(단계 2). 이후 클라이언트 장치의 통신 가중치 측정 인자(통신 우선순위, 송수신한 총 패킷 수 등)를 포함하는 통신 상태 데이터를 전송한다(단계 3). 이때 단계 1, 단계 2, 단계 3이 하나의 통신 사 이클을 의미한다. 또한, 동기화 제어부는 하나의 통신 사이클이 끝날 때마다 통신 가중치 산출부를 호출하여 클라이언 트 장치의 통신 가중치를 산출하고, 이를 적용하여 클라이언트 장치의 통신 우선순위를 갱신한다. 통 신 우선순위는 가중치 값이 낮은 순서부터 높은 순서로(오름차순) 지정된다. 이후 갱신된 통신 우선순위에 따라 클라이언트 장치와 데이터를 송수신함으로써 다수의 클라이언트 장치 에서 수집되는 비디오 데이터 및 센싱(Sensing) 데이터의 송수신 지연 및 오차를 최소화한다. 통신 가중치 산출부는 클라이언트 장치의 통신 가중치를 계산한다. 통신 가중치는 다중 클라이언트 환경에서 특정 클라이언트로 데이터 송수신이 쏠리는 병목 현상과 이에 따른 데 이터 지연 문제를 최소화하기 위해 서버와 클라이언트 장치간의 송수신 우선순위를 정하기 위해 산출 한다. 일례로, 통신 가중치는 아래의 수식으로 계산할 수 있다. Communication_Priority = Data_1Cycle_Send_Or_Receive_Time_Per_Client[ms] / Administrator_Custom_Client_Level[1~10] / Client_Communication_Packets_Count 각 통신 인자에 대한 설명은 아래와 같다. Data_1Cycle_Send_Or_Receive_Time_Per_Client[ms]은 하나의 통신 사이클이 완료되는데 걸린 시간을 측정한 값 이며 ms단위를 사용한다. Aministrator_Custom_Client_Level[1~10]은 클라이언트 장치 또는 서버의 관리자가 지정한 클라이언 트 장치의 통신 우선순위이며 1~10 Level로 구성된다. Client_Communication_Packets_Count는 하나의 통신 사이클 동안 클라이언트 장치가 송수신하는 총 서브 패킷의 개수이다.클라이언트 정보 관리부는 클라이언트 장치의 ID(식별자), 통신 우선순위, 통신 가중치 등 통신에 필 요한 각각의 클라이언트 장치의 설정 값을 관리한다. 데이터 처리부는 적어도 하나 이상의 클라이언트 장치에서 전송한 동기화 된 비디오 데이터, 센싱 (Sensing) 데이터를 다양한 서비스에 활용하기 위해 빅데이터 활용을 위한 데이터 전처리/분석, 머신러닝 모델 학습, 인공지능(AI)을 활용한 예측/판단 등의 데이터 처리를 수행하며, 앞서 열거한 기능 이외 다양한 데이터 처리 기능을 포함할 수 있다. 데이터 처리부는 빅데이터, 인공지능(AI) 모델 학습, 인공지능(AI)을 활용한 예측/판단 등의 처리를 위해, 서버와 네트워크로 연결되고 독립적으로 구성된 빅데이터 서버, 인공지능(AI) 처리 서버, 어플리케이션 서 버, 미디어 서버 및 웹서비스 서버 중 적어도 하나 이상과 연동하는 인터페이스부를 더 포함할 수 있다. 도 3은 본 발명의 일 실시예에 따른 다중 영상 및 데이터 간 동기화 송수신 시스템에서 통신 규약을 정의한 패킷 구성도이며, 도 3을 참조하여 정의된 통신 규약을 상세히 설명한다. 클라이언트 장치와 통신부는 TCP/IP 프로토콜 기반으로 정의된 통신 규격으로 통신하고, 상기 정의된 통신 규격은 비디오 패킷(Packet), 정보 패킷(Packet) 및 통신 우선순위 패킷(Packet) 중 적어도 하나 이상을 포함한다. 보다 구체적으로, 정의된 통신 규약은 비디오 데이터를 송수신하기 위한 비디오 패킷(VIDEO PACKET), 비디오와 연관된 영상 Frame내의 물체/객체 정보 또는 센싱(Sensing) 데이터를 송수신하기 위한 정보 패킷(INFO PACKET) 및 클라이언트 장치의 통신 상태 데이터를 송수신하기 위한 통신 우선순위 패킷(Communication Priority Packet, CP PACKET)을 포함하고, 상술한 패킷 이외 필요에 따라 다양한 형태의 데이터를 전송하기 위해 추가로 패킷을 정의하여 포함할 수 있다. VIDEO PACKET, INFO PACKET 및 CP PACKET은 데이터의 종류에 따라 정의한 메인 패킷(Main Packet)이며, 각각의 메인 패킷은 적어도 하나 이상의 정의된 서브 패킷(Sub Packet)을 포함한다. 서브 패킷은 START PACKET, LENGTH PACKET, CHECK PACKET 및 DATA PACKET을 포함하고, 상술한 패킷 이외 필요 에 따라 다양한 형태의 데이터를 전송하기 위해 추가로 패킷을 정의하여 포함할 수 있다. START PACKET은 송신할 패킷의 시작을 의미하고, 상기 패킷을 식별하는 패킷ID, 메인 패킷의 종류(VIDEO PACKET, INFO PACKET, CP PACKET) 및 데이터 소스ID를 포함한다. 데이터 소스ID란 클라이언트 장치에서 전송하는 비디오 데이터, 비디오와 연관된 영상 Frame내의 물체/객 체 정보 또는 센싱(Sensing)데이터, 통신 상태 데이터 등의 데이터 출처를 식별하는 ID이다. 일례로, 클라이언트 장치에 연결된 제 1 카메라에서 수집된 비디오 데이터인 경우, 클라이언트 장치 번호 + 'VIDEO' + 제 1 카메라 식별번호로 구성할 수 있다. START PACKET은 서버가 클라이언트 장치로 전송한다. LENGTH PACKET은 DATA PACKET의 크기를 포함하고, 최대 2^32byte 크기로 정의할 수 있다. LENGTH PACKET은 클라이언트 장치가 서버로 전송한다. CHECK PACKET은 DATA PACKET을 수신할 준비가 되었는지 확인하는 Flag 인자를 포함하고, Flag 인자는 텍스트, 숫자로 정의할 수 있다. CHECK PACKET은 서버가 클라이언트 장치로 전송한다. DATA PACKET은 패킷ID, 메인 패킷의 종류(VIDEO PACKET, INFO PACKET, CP PACKET) 및 클라이언트 장치가 전송하고자 하는 데이터를 포함하며, 해당 데이터는 메인 패킷의 종류에 대응하는 비디오 데이터, 비디오와 연 관된 영상 Frame내의 물체/객체 정보 또는 센싱(Sensing) 데이터 및 상기 통신 상태 데이터 중 적어도 하나를 포함한다.DATA PACKET은 클라이언트 장치가 서버로 전송한다. 도 4는 본 발명의 일 실시예에 따른 다중 영상 및 데이터 간 동기화 송수신 시스템에서 클라이언트 장치 의 통신 가중치와 통신 우선순위 산정을 도식화한 도면이다. 도 4를 참조하여 통신 가중치를 산정하고, 산정된 통신 가중치를 사용하여 통신 순서를 제어하는 방법을 설명한 다. Communication_Priority = Data_1Cycle_Send_Or_Receive_Time_Per_Client[ms] / Administrator_Custom_Client_Level[1~10] / Client_Communication_Packets_Count D1CSRTPC: Data_1Cycle_Send_Or_Receive_Time_Per_Client[ms] ACCL: Administrator_Custom_Client_Level[1~10] CCPC: Client_Communication_Packets_Count 상기 통신 가중치 산출식을 적용하여 클라이언트 장치(Client) 1에서 클라이언트 장치(Client) N까지의 통신 가 중치를 산정하면, 아래와 같다. 표 1 Client1 Client2 Client3 Client4 3.8 1.916 6.125 4.1 Client5 Client6 Client7 Client8 0.66 1.85 7.25 11.1 산출된 통신 가중치를 오름차순으로 정렬하면 통신 가중치가 가장 낮은 클라이언트 장치(Client) 5가 통신 우선 순위 1이 되고, 클라이언트 장치(Client) 8은 통신 우선순위가 8이 된다. 서버는 클라이언트 장치(Client) 5와 가장 먼저 통신을 수행하고, 클라이언트 장치(Client) 8과 가장 나중 에 통신을 수행한다. 도 5는 본 발명의 일 실시예에 따른 다중 영상 및 데이터 간 동기화 송수신 방법을 나타낸 순서도이다. 도 5를 참조하여 다중 영상 및 데이터 간 동기화 송수신 방법을 설명한다. 다중 영상 및 데이터 송수신 동기화 시스템에 의해 구현되는 다중 영상 및 데이터 간 동기화 방법에 있어서, 클라이언트 장치와 통신부 간의 통신 채널을 연결하는 통신 연결 단계(S310), 상기 통신 채널에서 비디 오 패킷을 송수신 하는 단계(S320), 상기 통신 채널에서 정보 패킷을 송수신 하는 단계(S330), 상기 통신 채널 에서 통신 우선순위 패킷을 송수신 하는 단계(S340) 및 통신 가중치 산출부가 상기 클라이언트 장치의 통신 가 중치를 산출하여 상기 클라이언트 장치의 통신 우선순위를 갱신하는 단계(S350)를 포함한다. 통신 연결 단계(S310)는 통신부가 적어도 하나 이상의 클라이언트 장치와의 접속을 허용하고, TCP/IP 기반 통신 채널을 생성하는 단계이다. 통신부는 클라이언트 정보 관리부에서 관리하는 클라이언트 장치의 개수와 클라이언트 ID를 확 인하고, 해당되는 클라이언트 장치의 접속을 대기하며, 각각의 클라이언트 장치와의 통신 채널을 생성한다. 이때, 통신부에서는 데이터를 동기화하여 송수신해야하는 복수개의 클라이언트 장치를 내부적으로 관 리하고, 해당 클라이언트 장치가 모두 접속할 때까지 대기할 수 있다. 비디오 패킷 송수신 단계(S320)는 S310에서 생성된 통신 채널을 통해 클라이언트 장치가 수집한 비디오 데 이터를 송수신 하는 단계이다. 첫 비디오 패킷 통신일 경우 서버 내에서 설정된 통신 우선순위 순서대로 클라이언트 장치와 통신을 시도한다. 통신부는 클라이언트 장치와 START PACKET, LENGTH PACKET, CHECK PACKET, DATA PACKAET을 포함하는 비디오 패킷(VIDEO PACKET)을 서로 송수신하면서, 클라이언트 장치가 수집한 비디오 데이터를 수신한다. S320 단계는 적어도 하나 이상의 비디오 패킷(VIDEO PACKET)을 송수신할 수 있고, 더 이상 전송할 비디오 패킷 이 없는 경우 정보 패킷(INFO PACKET) 송수신 단계(S330)를 진행한다. 정보 패킷(INFO PACKET) 송수신 단계(S330)는 S310에서 생성된 통신 채널을 통해 클라이언트 장치가 수집 한 센싱(Sensing) 데이터 또는 비디오 Frame 내의 물체/객체 정보를 송수신 하는 단계이다. 통신부는 클라이언트 장치와 START PACKET, LENGTH PACKET, CHECK PACKET, DATA PACKAET을 포함하는 정보 패킷(INFO PACKET)을 서로 송수신하면서, 클라이언트 장치가 수집한 센싱(Sensing) 데이터 또는 비디 오 Frame 내의 물체/객체 정보를 수신한다. S330 단계는 적어도 하나 이상의 정보 패킷(INFO PACKET)을 송수신할 수 있고, 더 이상 전송할 정보 패킷(INFO PACKET)이 없는 경우 통신 우선순위 패킷(CP PACKET) 송수신 단계(S340)를 진행한다. 통신 우선순위 패킷(CP PACKET) 송수신 단계(S340)는 S310에서 생성된 통신 채널을 통해 클라이언트 장치 의 통신 상태 데이터를 송수신 하는 단계이다. 통신 가중치 측정 인자는 클라이언트 장치에 설정된 클라이언트 통신 우선순위 및 클라이언트 장치가 송수신한 총 패킷 수를 포함한다. 통신부는 클라이언트 장치와 START PACKET, LENGTH PACKET, CHECK PACKET, DATA PACKAET을 포함하는 통신 우선순위 패킷(CP PACKET)을 서로 송수신하면서, 클라이언트 장치의 통신 상태 데이터를 수신한다. 통신 우선순위 패킷(CP PACKET)의 송수신이 완료되면 하나의 통신 사이클(Cycle)이 완료되고, 통신 우선순위 갱 신 단계(S350)를 진행한다. 통신 우선순위 갱신 단계(S350)는 클라이언트 장치의 통신 가중치를 산출하여 상기 클라이언트 장치의 통 신 우선순위를 갱신한다. 동기화 제어부는 갱신된 통신 우선순위를 적용하여 해당 순서대로 클라이언트 장치와 데이터를 송수 신한다. 한편, 다중 영상 및 데이터 간 동기화 방법은, 데이터 처리 단계(S360)을 더 포함할 수 있다. 동기화 제어부는 복수개의 클라이언트 장치로부터 동기화되어 수신된 비디오 데이터와 센싱(Sensing) 데이터 또는 비디오 Frame 내의 물체/객체 정보를 데이터 처리부로 전달할 수 있다. 데이터 처리 단계(S360)는 동기화된 다중 비디오 데이터와 이와 연관된 센싱(Sensing) 데이터 또는 비디오 Frame 내의 물체/객체 정보를 다양한 서비스에 활용하기 위해 빅데이터 활용을 위한 데이터 전처리/분석, 머신 러닝 모델 학습, 인공지능(AI)을 활용한 예측/판단 등의 데이터 처리를 수행한다. 도 6은 본 발명의 일 실시예에 따른 다중 영상 및 데이터 간 동기화 송수신 방법에서 하나의 통신 사이클 (Cycle) 내에서 패킷의 상세 흐름을 나타낸 흐름도이다. 도 6을 참조하여 클라이언트 장치와 서버간 다중 영상 및 데이터 간 동기화 송수신을 위한 패킷의 송 수신을 설명한다. 클라이언트 장치와 서버가 연결되어 통신 채널이 생성되면, 아래와 같이 비디오 패킷(VIDEO PACKET) 송수신 단계를 진행한다. 서버는 START PACKET에 패킷ID, 메인 패킷의 종류(VIDEO PACKET) 및 데이터 소스ID를 포함하여 클라이언 트 장치로 전송한다(S410). 이때 데이터 소스ID는 비디오 데이터를 식별할 수 있는 클라이언트 장치 번호 + 'VIDEO' + 제 1 카메라 식별번호의 조합일 수 있고, 서버와 클라이언트 장치간에 상호 정의되 어 공유한 ID(식별자)이다. START PACKET을 수신한 클라이언트 장치는 데이터 소스ID를 확인한 후, 패킷ID, 메인 패킷의 종류(VIDEO PACKET) 및 데이터 소스ID에 해당하는 비디오 데이터의 크기를 LENGTH PACKET에 포함하여 서버로 전송한다 (S420). 서버는 수신한 LENGTH PACKET의 데이터 크기를 확인한 후 수신 가능 상태이면, 수신 가능을 나타내는 플래 그(Flag)를 포함하여 CHECK PACKET을 클라이언트 장치로 전송한다(S430). 클라이언트 장치는 CHECK PACKET에 포함된 플래그를 확인하고, 서버가 데이터 수신이 가능한 상태인 경우, 데이터 소스ID에 해당하는 비디오 데이터를 앞서 LENGTH PACKET을 통해 전송한 데이터 크기만큼 전송한다 (S440). 전송할 비디오 데이터가 존재하면 S410에서 S440을 반복하고, 더 이상 전송할 비디오 데이터가 없는 경우 정보 패킷(INFO PACKET) 전송을 준비한다. 정보 패킷(INFO PACKET) 전송 단계는 아래와 같이 이루어진다. 서버는 START PACKET에 패킷ID, 메인 패킷의 종류(INFO PACKET) 및 데이터 소스ID를 포함하여 클라이언트 장치로 전송한다(S510). 이때 데이터 소스ID는 센싱(Sensing) 데이터를 식별할 수 있는 클라이언트 장치 번호 + 'INFODATA' + 제 1 센서(Sensor) 식별번호의 조합일 수 있고, 서버와 클라이언트 장치(10 0)간에 상호 정의되어 공유한 ID(식별자)이다. START PACKET을 수신한 클라이언트 장치는 데이터 소스ID를 확인한 후, 패킷ID, 메인 패킷의 종류(INFO PACKET) 및 데이터 소스ID에 해당하는 센싱(Sensing) 데이터의 크기를 LENGTH PACKET에 포함하여 서버로 전송한다(S520). 서버는 수신한 LENGTH PACKET의 데이터 크기를 확인한 후 수신 가능 상태이면, 수신 가능을 나타내는 플래 그(Flag)를 포함하여 CHECK PACKET을 클라이언트 장치로 전송한다(S530). 클라이언트 장치는 CHECK PACKET에 포함된 플래그를 확인하고, 서버가 데이터 수신이 가능한 상태인 경우, 데이터 소스ID에 해당하는 센싱(Sensing) 데이터를 앞서 LENGTH PACKET을 통해 전송한 데이터 크기만큼 전송한다(S540). 전송할 비디오 데이터가 존재하면 S510에서 S540을 반복하고, 더 이상 전송할 센싱(Sensing) 데이터가 없는 경 우 통신 우선순위 패킷(CP PACKET) 전송을 준비한다. 통신 우선순위 패킷(CP PACKET) 전송 단계는 아래와 같이 이루어진다. 서버는 START PACKET에 패킷ID, 메인 패킷의 종류(CP PACKET) 및 데이터 소스ID를 포함하여 클라이언트 장 치로 전송한다(S610). 이때 데이터 소스ID는 클라이언트 장치를 식별하는 클라이언트ID일 수 있고, 서버와 클라이언트 장치간에 상호 정의되어 공유한 ID(식별자)이다. START PACKET을 수신한 클라이언트 장치는 데이터 소스ID를 확인한 후, 패킷ID, 메인 패킷의 종류(CP PACKET) 및 데이터 소스ID에 해당하는 통신 상태 데이터의 크기를 LENGTH PACKET에 포함하여 서버로 전송 한다(S620). 서버는 수신한 LENGTH PACKET의 데이터 크기를 확인한 후 수신 가능 상태이면, 수신 가능을 나타내는 플래 그(Flag)를 포함하여 CHECK PACKET을 클라이언트 장치로 전송한다(S630). 클라이언트 장치는 CHECK PACKET에 포함된 플래그를 확인하고, 서버가 데이터 수신이 가능한 상태인 경우, 데이터 소스ID에 해당하는 통신 상태 데이터를 앞서 LENGTH PACKET을 통해 전송한 데이터 크기만큼 전송 한다(S640). 이때, 통신 상태 데이터는 클라이언트 장치에 설정된 클라이언트 통신 우선순위 및 클라이언트 장치 가 송수신한 총 패킷 수를 포함한다. 통신 우선순위 패킷(CP PACKET) 전송 단계가 완료되면, 하나의 통신 사이클(Cycle)이 완료되고, S410에서 S640 까지의 단계가 순차적으로 반복된다. 상기에서는 본 발명에 따른 실시예를 기준으로 본 발명의 구성과 특징을 설명하였으나 본 발명은 이에 한정되지"}
{"patent_id": "10-2022-0151823", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "않으며, 본 발명의 사상과 범위 내에서 다양하게 변경 또는 변형할 수 있음은 본 발명이 속하는 기술분야의 당 업자에게 명백한 것이며, 따라서 이와 같은 변경 또는 변형은 첨부된 특허청구범위에 속함을 밝혀둔다."}
{"patent_id": "10-2022-0151823", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 다중 영상 및 데이터 간 동기화 송수신 시스템의 구성도이다. 도 2는 본 발명의 일 실시예에 따른 다중 영상 및 데이터 간 동기화 송수신 시스템에서 서버의 구성도 이다. 도 3은 본 발명의 일 실시예에 따른 다중 영상 및 데이터 간 동기화 송수신 시스템에서 통신 규약을 정의한 패킷 구성도이다.도 4는 본 발명의 일 실시예에 따른 다중 영상 및 데이터 간 동기화 송수신 시스템에서 클라이언트 장치 의 통신 가중치와 통신 우선순위 산정을 도식화한 도면이다. 도 5는 본 발명의 일 실시예에 따른 다중 영상 및 데이터 간 동기화 송수신 방법을 나타낸 순서도이다. 도 6은 본 발명의 일 실시예에 따른 다중 영상 및 데이터 간 동기화 송수신 방법에서 하나의 통신 사이클 (Cycle) 내에서 패킷의 송수신 흐름을 나타낸 흐름도이다."}
