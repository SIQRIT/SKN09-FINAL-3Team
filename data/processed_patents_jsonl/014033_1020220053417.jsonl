{"patent_id": "10-2022-0053417", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0153701", "출원번호": "10-2022-0053417", "발명의 명칭": "PIR 적외선 센서 기반 실내 로봇의 대상체 위치 모니터링 방법 및 시스템", "출원인": "주식회사 현대케피코", "발명자": "설지환"}}
{"patent_id": "10-2022-0053417", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "로봇이 매핑된 실내 지도에 기반해 실내공간 별로 공간값(Space_value)를 할당하는 단계;사용자에 의해 지정된 대상체에 대해 대상객체값(Person_value)를 최초할당하는 단계;상기 로봇이 상기 공간값이 0인 기준위치(Space_value=0)로 이동해 대기하는 단계;PIR(Passive Infra Red) 적외선 센서에 의해 상기 실내공간 내 상기 대상체의 개수가 기준값 이상의 N개인경우, 상기 카메라로 N개의 상기 대상체를 인공지능 알고리즘에 의해 인식하는 단계;인식된 N개의 상기 대상체 각각이 상기 공간값이 할당된 상기 실내공간 내 개별공간(Space_value>0)으로 이동하는 단계;상기 개별공간 별로 N개의 상기 대상체에 대해 상기 대상객체값(Person_value)를 재할당하는 단계;를 포함하는 PIR적외선 센서 기반 실내 로봇의 대상체 위치 모니터링 방법."}
{"patent_id": "10-2022-0053417", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 개별공간 별로 상기 대상체의 추가이동에 의한 나오고 들어가는 출입(enter/exit)이 있는 경우,추가이동된 상기 대상체의 개수를 상기 개별공간 별로 가감하는 것을 특징으로 하는, PIR적외선 센서 기반 실내 로봇의 대상체 위치 모니터링 방법."}
{"patent_id": "10-2022-0053417", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,N개의 상기 대상체 중 상기 대상체가 나온(exit) 상기 개별공간에 할당된 상기 대상객체값은 삭제되고,N개의 상기 대상체 중 상기 대상체가 들어간(enter) 상기 개별공간에 할당된 상기 대상객체값은 추가되는 것을특징으로 하는, PIR적외선 센서 기반 실내 로봇의 대상체 위치 모니터링 방법."}
{"patent_id": "10-2022-0053417", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서, 이동하는 상기 대상체의 수가 2 이상인 경우, 상기 로봇은 상기 대상체의 오버랩 여부를 판단하는 것을 특징으로 하는, PIR적외선 센서 기반 실내 로봇의 대상체 위치 모니터링 방법."}
{"patent_id": "10-2022-0053417", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서, 공개특허 10-2023-0153701-3-상기 오버랩에 의해 상기 대상체가 감소하는 것으로 인식되는 경우, 상기 로봇은 상기 기준위치로부터 신규위치로 이동하는 것을 특징으로 하는, PIR적외선 센서 기반 실내 로봇의 대상체 위치 모니터링 방법."}
{"patent_id": "10-2022-0053417", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5항에 있어서,상기 신규위치는 상기 오버랩이 발생하지 않으면서도 상기 기준위치로부터 최단거리인 것을 특징으로 하는, PIR적외선 센서 기반 실내 로봇의 대상체 위치 모니터링 방법."}
{"patent_id": "10-2022-0053417", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제1항에 있어서,상기 적외선 센서에 의해 감지된 상기 대상체의 개수가 상기 최초할당된 대상객체값의 개수보다 큰 경우,상기 사용자에 의해 지정된 대상체의 수와의 차이값은 상기 사용자가 지정하지 않은 신규 대상체의 수인 커스토머 밸류(Customer_value)에 해당하는 것을 특징으로 하는, PIR적외선 센서 기반 실내 로봇의 대상체 위치 모니터링 방법."}
{"patent_id": "10-2022-0053417", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "실내 지도에서 매핑 된 실내 공간을 이동하는 대상체; 상기 실내 공간의 개별공간에 할당된 공간 값과 상기 실내 공간을 이동하는 대상객체 값을 부여하며, 상기 대상체 이동을 모니터링하면서 상기 공간 값과 상기 대상객체 값을 재할당하는 로봇,상기 로봇에는 YOLO(You Only Look Once) 알고리즘으로 상기 대상체의 얼굴 인식이 이루어지는 카메라가 설치되고,상기 대상체를 인식하는 PIR(Passive Infra Red) 적외선 센서는 상기 실내 공간에 설치되는 것을 특징으로하는, PIR적외선 센서 기반 실내 로봇 모니터링 시스템."}
{"patent_id": "10-2022-0053417", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에 있어서, 상기 개별공간 별로 상기 대상물의 추가이동에 의한 나오고 들어가는 출입(enter/exit)이 있는 경우, 추가이동된 상기 대상물의 개수를 상기 개별공간 별로 가감하는 것을 특징으로 하는, PIR적외선 센서 기반 실내 로봇 모니터링 시스템."}
{"patent_id": "10-2022-0053417", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서,이동하는 상기 대상물의 수가 2 이상인 경우, 상기 로봇은 상기 대상물의 오버랩 여부를 판단하는 것을 특징으로 하는, 공개특허 10-2023-0153701-4-PIR적외선 센서 기반 실내 로봇 모니터링 시스템."}
{"patent_id": "10-2022-0053417", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제10항에 있어서,상기 오버랩에 의해 상기 대상물이 감소하는 것으로 인식되는 경우, 상기 로봇은상기 기준위치로부터 신규위치로 이동하는 것을 특징으로 하는, PIR적외선 센서 기반 실내 로봇 모니터링 시스템."}
{"patent_id": "10-2022-0053417", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제11항에 있어서,상기 신규위치는 상기 오버랩이 발생하지 않으면서도 상기 기준위치로부터최단거리인 것을 특징으로 하는, PIR적외선 센서 기반 실내 로봇 모니터링 시스템."}
{"patent_id": "10-2022-0053417", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명의 실내 로봇 모니터링 시스템에 의한 PIR적외선 센서 기반 실내 로봇의 대상체 위치 모니터링 방법은 RGB 카메라와 복수개 PIR 적외선 센서(21a,...,21n)를 조합한 로봇이 실내 공간 할당, 인원 출입 확인, 자리 지정, 대기, 자리 재지정, 자리 점검 및 공간 데이터 제공 등을 수행함으로써 집 또는 건물이나 식당 등과 곳에서 입/출입하는 대상체를 정확하게 인지하고, 특히 로봇이 PIR 적외선 센서 및 RGB 카메라의 조합으로 실내 공간 모니터링과 실내 공간 점유 상황을 파악함으로써 주거 공간의 사용 상황 및 식당 공간의 서비스 효율성을 높이는 특징이 구현된다."}
{"patent_id": "10-2022-0053417", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 로봇의 대상체 위치 모니터링에 관한 것으로, 특히 실내 공간에서 로봇으로 대상체 위치를 실시간 모 니터링함으로써 서비스 효율을 높일 수 있는 PIR(Passive Infra Red) 적외선 센서 기반 실내 로봇의 대상체 위 치 모니터링 방법 및 시스템에 관한 것이다."}
{"patent_id": "10-2022-0053417", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "일반적으로 실내 로봇은 집 또는 건물이나 식당 등과 같은 실내 공간에 위치한다. 일례로 상기 로봇은 구동원인 모터와 실내 공간을 촬영하는 카메라 및 외부 명령을 수신하면서 공간좌표 분석과 이동 거리 산출 및 모터/카메라 제어 등을 수행하는 프로세서 등이 포함되고, 로봇 사용자로부터 주어지는 이동 명령을 받아 실내 공간의 지정된 장소로 이동하는 기능을 구현한다. 그러므로 상기 로봇이 가정용 실내 로봇이나 상업용 실내 로봇으로 사용되는 경우, 가정이나 식당 등에서 로봇 사용자의 직접적인 이동 없이도 로봇 사용자가 거주자나 손님 간 의사소통 및 음식이나 물건 이동 등을 가능하 게 하는 편리한 수단으로 사용될 수 있다. 선행기술문헌 특허문헌 (특허문헌 0001) 국내공개특허 KR 10-2021-0110100 A (2021.09.07)"}
{"patent_id": "10-2022-0053417", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "하지만, 상기 로봇 중 가정용/상업용 실내 로봇은 움직임을 위해선 로봇 사용자가 다양한 명령을 주어야 하는 수동적 움직임(Passive Motion)이 구현됨으로써 여유가 없거나 바쁜 상황일 경우 활용성 및 서비스 효율성이 낮 을 수밖에 없다. 이에 상기와 같은 점을 감안한 본 발명은 로봇이 집 또는 건물이나 식당 등과 곳에서 입/출입하는 대상체를 정 확하게 인지하고, 특히 로봇이 PIR 적외선 센서 및 RGB 카메라의 조합으로 실내 공간 모니터링과 실내 공간 점 유 상황을 파악함으로써 주거 공간의 사용 상황 및 식당 공간의 서비스 효율성을 높여 주는 PIR 적외선 센서 기 반 실내 로봇의 대상체 위치 모니터링 방법 및 시스템의 제공에 목적이 있다."}
{"patent_id": "10-2022-0053417", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기와 같은 목적을 달성하기 위한 본 발명의 PIR 적외선 센서 기반 실내 로봇의 대상체 위치 모니터링 방법은 로봇이 매핑된 실내 지도에 기반해 실내공간 별로 공간값(Space_value)를 할당하는 단계; 사용자에 의해 지정된 대상체에 대해 대상객체값(Person_value)를 최초할당하는 단계; 상기 로봇이 상기 공간값이 0인 기준위치 (Space_value=0)로 이동해 대기하는 단계; PIR(Passive Infra Red) 적외선 센서에 의해 상기 실내공간 내 상기 대상체의 개수가 기준값 이상의 N개인 경우, 상기 카메라로 N개의 상기 대상체를 인공지능 알고리듬에 의해 인 식하는 단계; 인식된 N개의 상기 대상체 각각이 상기 공간값이 할당된 상기 실내공간 내 개별공간 (Space_value>0)으로 이동하는 단계; 상기 개별공간 별로 N개의 상기 대상체에 대해 상기 대상객체값 (Person_value)를 재할당하는 단계; 상기 적외선 센서에 의해 감지된 상기 대상체의 개수가 상기 최초할당된 대상객체값의 개수보다 큰 경우, 상기 사용자에 의해 지정된 대상체의 수와의 차이값은 상기 사용자가 지정하지 않은 신규 대상체의 수인 커스토머 밸 류(Customer_value)로 해당해 주는 단계를 포함 한다. 실시예로서, 상기 실내 공간 매핑 단계는 상기 실내 지도의 실내 공간 중앙점을 기준으로 하여 복수개의 착석 공간을 분류하고, 복수개의 상기 착석 공간 각각에 상기 공간별 할당 값을 각각 지정하는 단계, 및 상기 공간별 할당 값의 각각에 상기 대상체별 할당 값을 각각 지정하는 단계로 수행된다. 실시예로서, 상기 개별공간 별로 상기 대상체의 추가이동에 의한 나오고 들어가는 출입(enter/exit)이 있는 경 우, 추가이동된 상기 대상체의 개수를 상기 개별공간 별로 가감하며, N개의 상기 대상체 중 상기 대상체가 나온 (exit) 상기 개별공간에 할당된 상기 대상객체값은 삭제되고, N개의 상기 대상체 중 상기 대상체가 들어간 (enter) 상기 개별공간에 할당된 상기 대상객체값은 추가된다. 실시예로서, 상기 이동하는 상기 대상체의 수가 2 이상인 경우, 상기 로봇은 상기 대상체의 오버랩 여부를 판단 하며, 상기 오버랩에 의해 상기 대상체가 감소하는 것으로 인식되는 경우, 상기 로봇은 상기 기준위치로부터 신 규위치로 이동하고, 상기 신규위치는 상기 오버랩이 발생하지 않으면서도 상기 기준위치로부터 최단거리가 적용 된다. 그리고 상기와 같은 목적을 달성하기 위한 본 발명의 PIR 적외선 센서 기반 실내 로봇의 대상체 위치 모니터링 시스템은 실내 지도에서 매핑 된 실내 공간을 출입하는 대상체와 얼굴 인식이 이루어지고, 상기 실내 공간에 공 간 값과 대상객체 값을 부여하여 자리 배치 정보를 생성하며, 상기 실내 공간에 대한 모니터링으로 상기 대상체 이동을 확인해 상기 공간 값과 상기 대상객체 값을 재부여하는 로봇, YOLO 알고리즘으로 상기 얼굴 인식이 이루 어지는 RGB 카메라, 및 상기 대상체에 대해 low 값 신호와 high 값 신호를 구분하여 발생하는 PIR 적외선 센서가 포함되는 것을 특징으로 한다. 실시예로서, 상기 RGB 카메라는 상기 실내 로봇에 설치되며, 상기 PIR 적외선 센서는 상기 실내 공간에 복수개 로 설치된다."}
{"patent_id": "10-2022-0053417", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "이러한 본 발명의 PIR 적외선 센서 기반 실내 로봇의 대상체 위치 모니터링 방법 및 시스템은 하기와 같은 작용 및 효과를 구현한다. 첫째, 로봇이 대상체 위치 모니터링 기능을 갖고 가정용이나 상업용으로 사용됨으로써 주거 공간의 활용성 및 식당 공간의 서비스 효율성 측면을 크게 높일 수 있다. 둘째, 로봇의 대상체 위치 모니터링에 PIR 적외선 센서 를 조합함으로써 실내에 들어온 대상체의 위치를 실시간으로 모니터링할 수 있다. 셋째, 로봇의 대상체 위치 모 니터링에 RGB 카메라를 조합함으로써 카메라의 YPLO 알고리즘에 기반하여 대상체가 실내로 들어온 객체 인식 및 구별이 이루어지고, 특히 노출 빈도가 높은 대상체에 대한 학습 완료도 이루어질 수 있다. 넷째, 로봇의 위치 이동에 실내 지도 맵핑 좌표가 사용됨으로써 로봇 대기와 이동 및 복귀 동작을 위치 좌표로 용이하게 구현할 수 있다."}
{"patent_id": "10-2022-0053417", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하 본 발명의 실시 예를 첨부된 예시도면을 참조로 상세히 설명하며, 이러한 실시 예는 일례로서 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자가 여러 가지 상이한 형태로 구현될 수 있으므로, 여기에서 설명하 는 실시 예에 한정되지 않는다. 도 1을 참조하면, 실내 로봇의 대상체 위치 모니터링 방법은 S10에 의한 로봇의 실내 공간 매핑 단계, S20에 의 한 로봇의 인원 출입 확인 단계, S30에 의한 로봇의 자리 지정 단계, S40에 의한 로봇 대기 단계, S50에 의한 로봇의 자리 재지정 단계, S60에 의한 로봇의 자리 점검 단계, 및 S70에 의한 로봇의 공간 데이터 제공 단계로 수행된다. 특히 상기 실내 로봇의 대상체 위치 모니터링 방법은 로봇의 인원 출입 확인 단계(S20)에서 PIR 적외선 센서의 high값 센싱을 통한 대상체검출 및 로봇 카메라의 YOLO(You Only Look Once) 알고리즘을 통한 대상체인지와 분류가 이루어짐으로써 PIR적외선 센서 기반 실내 로봇의 대상체 위치 모니터링 방법으로 특징된다. 따라서 상기 PIR적외선 센서 기반 실내 로봇의 대상체 위치 모니터링 방법은 실내에서 대상체의 위치가 실시간 으로 모니터링되고, 특히 로봇을 가정용 로봇으로 사용할 경우엔 가족 구성원의 위치를 실시간으로 파악하여 개 인 맞춤 서비스 제공할 수 있고, 상업용 로봇으로 사용할 경우엔 손님의 위치를 실시간으로 파악하여 별도의 프 로세스(예, 좌석번호 지정) 없이 서비스 제공(예, 서빙)함과 같이 로봇의 서비스를 효율적으로 제공할 수 있다. 한편 도 2는 실내 로봇 모니터링 시스템으로서, 상기 실내 로봇 모니터링 시스템은 로봇, RGB 카메라 , PIR 적외선 센서 및 실내 지도를 포함한다. 일례로 상기 로봇은 구동부와 몸통부로 구분되고, 상기 구동부는 모터와 바퀴를 갖추어 전후/좌우 이동되며, 상기 몸통부는 물건을 들고 움직이는 로봇 팔이 부착된 구동부로부터 소정 높이를 갖고 그 내부로 모 터 제어 명령과 PIR 적외선 센서인 PIR 센서 기반 좌표 분석 및 YOLO(You Only Look Once) 알고리즘 처리 등을 수행하는 제어기가 탑재된다. 그러므로 상기 로봇은 현재 시험적으로 주거/상업용으로 서비스되고 있는 실내 로봇과 동일하며, 다만 상기 RGB 카메라와 상기 PIR 적외선 센서 및 상기 실내 지도를 갖추고 상호 데이터 처리 로직을 갖추는 차이가 있다. 일례로 상기 RGB(Red/Green/Blue) 카메라는 로봇의 몸통부에 장착되어 대상체 영상을 얼굴을 촬영하고, 연계된 YOLO 알고리즘의 YOLO 알고리즘 분석으로 촬영된 대상체 영상 중 얼굴로 대상체 인식을 수행하면서 특히 대상체 인식 정보 중 노출 빈도가 높은 대상체에 대한 학습을 완료함으로써 인식된 대상체를 새로운 대상 체와 기존 대상체로 구별하여 메모리에 저장한다. 이 경우 상기 YOLO 알고리즘은 이미지를 한번 보는 것만으로 대상체(Object)의 종류와 위치를 추측하면서 객체에 대한 일반화를 학습하는 딥러닝 기반의 알고리즘이다. 일례로 상기 PIR 적외선 센서는 실내에 들어온 대상체의 위치를 실시간으로 모니터링하는 PIR(Passive Infra Red) 적외선 센서로서, 이는 움직임이 없을 때 low값 센싱이 이루어지는 반면 움직임이 있을 때 high값 센싱이 이루어짐으로써 실내로 대상체가 들어옴을 확인한다. 상기 PIR 적외선 센서는 파장이 7~14㎛ 파장의 적외선 광원의 움직임을 감지함으로써 8~14㎛ 파장의 적외선을 방출하는 대상체의 움직임을 감지한다. 일례로 상기 실내 지도는 로봇이 움직이는 실내 공간에 대한 대상체 기반 공간 좌표가 설정되는 실내 지도 정보를 제공하고, 상기 대상체 기반 공간 좌표를 실내 맵핑 데이터로 하여 공간 값(Space_value) 및 대상 객체 값(Person_value)이 정해진다. 이 경우 상기 실내 지도는 실내 공간에 대한 설계 도면이나 사진을 적 용할 수 있다. 이하 상기 실내 로봇의 대상체 위치 모니터링 방법은 PIR적외선 센서 기반 실내 로봇의 대상체 위치 모니터링 방법을 도 2 및 도 3을 참조로 상세히 설명된다. 그리고 이하에서 대상체나 대상객체는 사람, 동물, 또다른 로봇 등일 수 있다. 먼저, 상기 실내 공간 매핑(S10)은 S11의 매핑된 실내 지도에 기반해 실내공간 별로 공간 값(Space_value) 을 할당하는 단계, S12의 사용자에 의해 지정된 대상체에 대한 대상객체 값(Person_value)를 최초 할당하는 단 계로 수행된다. 이로부터 상기 실내 공간 매핑(S10)은 로봇이 위치되는 실내 공간에 사용자 기반 공간 좌표를 적용하고, 상 기 사용자 기반 공간 좌표는 실내 지도를 맴핑하여 원하는 위치에 PIR센서 위치 좌표 저장이 이루어지도록 한다. 특히 상기 사용자 기반 공간 좌표는 실내 공간 중앙점 좌표와 함께 PIR 적외선 센서를 구성하는 복수개의 PIR 적외선 센서(21a,...,21n) 각각에 대한 PIR센서 위치 좌표를 설정하고, 로봇 제어기는 로봇이 이동하는 이동좌표를 [(감지된 PIR센서 위치 좌표+실내 공간 중앙점 좌표)/2]로 계산하여 high값 센싱의 위치로 움직 인 후 실내 공간 중앙점 좌표로 복귀되도록 한다. 일례로 상기 공간 값(Space_value)은 제1 실내 공간(41a)과 제1 테이블 공간(51b)을 공간 값이 0인 기준위치 (space_value=0)으로 하고, 제2 내지 n 실내 공간(41a,...,41n)과 제2 내지 n 테이블 공간(51b,...,51n)을 공 간 값 1 내지 n((space_value=1,...,n)으로 할 수 있다. 이 경우 상기 공간 값(Space_value) 중 기준위치 (space_value=0)는 로봇의 이동좌표에 적용되는 실내 공간 중앙점 좌표와 대비하여 출입구 쪽을 적용할 수 있다. 그리고 상기 대상객체 값(Person_value)은 한번 학습된 즉, 사용자가 지정한 대상객체 값인 퍼슨 밸류 (Person_value=0,1,...,n) 및 학습되지 않은 즉, 즉, 사용자가 지정하지 않은 대상객체 값인 신규 대상체인 커 스토머 밸류(Customer_value=0,1,...,n)로 구분한다. 이와 같이 상기 공간 값(S11)은 실내 지도로 표현된 실내 공간의 중앙지점을 기준으로 하여 복수개의 구간 을 분류하고, 복수개의 상기 구간에 각각 지정된다. 그리고 상기 대상객체 값 (S12)은 공간 값의 각각에 대하여 각각 지정된다. 도 3을 참조하면, 상기 실내 공간은 주거 건물의 “실내“와 상업 건물의 ”식당“으로 구분되고, 상기 주거 건물과 상기 상업 건물에는 PIR 적외선 센서가 복수개로 설치된다. 일례로 상기 PIR 적외선 센서는 복수개의 PIR 적외선 센서(21a,...,21n)로 이루어지고, 상기 PIR 적외선 센 서(21a,...,21n)는 제1 내지 n PIR 적외선 센서(21a,...,21n)로 구분된다. 그러므로 상기 주거 건물인 경우 제1 실내 공간(41a)과 제1 PIR 적외선 센서(21a), 제2 실내 공간(41b)과 제2 PIR 적외선 센서(21b), 제3 실내 공간(41c)과 제3 PIR 적외선 센서(21c), 제4 실내 공간(41d)과 제4 PIR 적외선 센서(21d), 제5 실내 공간(41e)과 제5 PIR 적외선 센서(21e), 제6 실내 공간(41f)과 제6 PIR 적외선 센 서(21f), 제7 실내 공간(41g)과 제7 PIR 적외선 센서(21f) 및 제n 실내 공간(41n)(n은 8이상의 정수)과 제n PIR 적외선 센서(21n)(n은 8이상의 정수)를 각각 매칭 하여 준다. 이 경우 상기 제1 실내 공간(41a)은 대상체가 들어오고 나가는 입/출구 공간인 출입구(즉, 현관), 상기 제2 실내 공간(41b)은 화장실, 상기 제3 실내 공간 (41c)은 다용도실, 상기 제4 실내 공간(41d)은 안방, 상기 제5 실내 공간(41e)은 작은방, 상기 제6 실내 공간 (41f)은 거실, 상기 제7 실내 공간(41g)은 주방, 상기 제n 실내 공간(41n)은 다용도실 등을 각각 의미한다. 그리고 상기 상업 건물인 경우 제1 테이블 공간(51a)과 제1 PIR 적외선 센서(21a), 제2 테이블 공간(51b)과 제2 PIR 적외선 센서(21b), 제3 테이블 공간(51c)과 제3 PIR 적외선 센서(21c), 제4 테이블 공간(51d)과 제4 PIR 적외선 센서(21d), 제5 테이블 공간(51e)과 제5 PIR 적외선 센서(21e), 제6 테이블 공간(51f)과 제6 PIR 적외선 센서(21f), 제7 테이블 공간(51g)과 제7 PIR 적외선 센서(21f) 및 제n 테이블 공간(51n)과 제n PIR 적 외선 센서(21n)를 각각 매칭 하여 준다. 이 경우 상기 제1 테이블 공간(51a)은 대상체가 들어오고 나가는 입/출 구 공간인 출입구이고, 제2 내지 n 테이블 공간(51b,...,51n)은 좌석 공간을 각각 의미한다. 그 결과 상기 공간-대상체 할당(S10)의 공간 값(Space_value)(S11)과 대상객체 값(Person_value)(S12)은 주거 건물의 제1 내지 n 실내 공간(41a,...,41n)을 용도별로 구분하고, 상업 건물의 제1 내지 n 테이블 공간 (51b,...,51n)을 고유 좌석번호로 지정하고, 이러한 실내 지도 맴핑으로 원하는 위치에 PIR 센서 위치 좌표를 저장할 수 있다. 이어 상기 인원 출입 확인(S20)은 S21의 로봇이 공간값이 0인 기준위치(Space_value=0)로 이동해 대기하는 단계, S22의 PIR 적외선 센서의 신호 변화를 확인하는 단계, S23의 RGB 카메라로 대상체 얼굴을 인식하는 단계 로 수행된다. 이 경우 상기 기준위치(Space_value=0)은 출입구로 적용된다.일례로 상기 로봇의 출입구 대기(S21)는 [(제1 PIR센서 위치 좌표+실내 공간 중앙점 좌표)/2]를 이동좌표로 하여 제1 실내 공간(41a) 또는 제1 테이블 공간(51b)에 설치된 제1 PIR 적외선 센서(21a)로 이동하여 이루어진 다. 그리고 상기 PIR 적외선 센서의 신호 변화 확인(S22)은 제1 PIR 적외선 센서(21a)의 high값 센싱으로 이루어 지고, 상기 RGB 카메라의 대상체 얼굴 인식(S23)은 카메라 촬영 화면 중 YOLO 알고리즘 분석에 의한 얼굴 확인 으로 이루어진다. 이 경우 상기 로봇은 low값 센싱시 제1 실내 공간(41a) 또는 제1 테이블 공간(51b)에 서 대기 상태를 유지한다. 또한 상기 인원 출입 확인(S20)은 S24의 YOLO 알고리즘 분석에 의한 얼굴 확인으로 저장된 대상체 여부 확인 단 계, S25의 기존 할당값 적용 또는 S26의 신규 할당값 적용 단계로 더 수행된다. 즉, 상기 로봇은 PIR(Passive Infra Red) 적외선 센서에 의해 상기 실내공간 내 상기 대상체의 개수가 기준값 이상의 N개인 경우, 상기 카메라로 N개의 상기 대상체를 인공지능 알고리즘에 의해 인식한다. 일례로 상기 기존 할당값 적용(S25)은 대상객체 값(Person_value) 중 퍼슨 밸류(Person_value=0,1,...,n)를 이 용하며, 상기 신규 할당값 적용(S26)은 대상체의 개수가 최초할당된 대상객체 값의 개수보다 큼에 따른 사용자 에 의해 지정된 대상체의 수와의 차이값을 사용자가 지정하지 않은 신규 대상체의 수로 함으로써 대상객체 값 (Person_value) 중 커스토머 밸류(Customer_value=0,1,...,n)를 이용한다. 특히 상기 기존 할당값 적용(S25)과 상기 신규 할당값 적용(S26)의 차등적용은 적외선 센서에 의해 감지된 대상 체의 개수가 최초할당된 대상객체값의 개수보다 큰 경우, 사용자에 의해 지정된 대상체의 수와의 차이값은 상기 사용자가 지정하지 않은 신규 대상체의 수인 커스토머 밸류(Customer_value)에 해당하도록 하기 위함이다. 이로부터 상기 로봇이 RGB 카메라의 YOLO 알고리즘을 통해 입장한 대상체에 대한 인지 및 학습과 더불어 인지된 대상체별 아이덴티(Identity)의 확인으로 면식인을 구분할 수 있고, 이들 정보를 새로운 대상체 와 기존 대상체로 구별하여 메모리에 저장한다. 계속해서 상기 자리 지정(S30)은 S31의 로봇에 의해 인식된 N개의 대상체 각각이 공간값이 할당된 실내공간 내 개별공간(Space_value>0)으로 이동하는 단계, S32의 공간 값(Space_value)과 대상객체 값(Person_value)을 확 인하는 단계로 수행된다. 일례로 상기 공간 값/대상객체 값 확인(S32)은 상기 로봇이 제2 내지 n 실내 공간(41a,...,41n)이나 제2 내 지 n 테이블 공간(51b,...,51n)에 설치된 제2 내지 n PIR 적외선 센서(21b,...,21n)에서 생성된 high값 센 싱으로 이루어진다. 이 경우 상기 로봇은 제2 내지 n 실내 공간(41a,...,41n)이나 제2 내지 n 테이블 공간 (51b,...,51n) 중 공간 이동한 대상체(S61)가 착석한 위치를 공간 값 1 내지 n((space_value=1,...,n) 및 사용 자에 의해 지정된 대상체를 퍼슨 밸류(Person_value=0,1,...,n)로 반면 사용자가 지정하지 않은 신규 대상체를 커스토머 밸류(Customer_value=0,1,...,n)로 할당하여 준다. 이어 상기 로봇 대기(S40)는 로봇의 대기 상태로서, 이는 기 설정된 실내 공간 중앙점 좌표로부터 기준위치 (Space_value=0)로 이동하여 이루어지며, 상기 대상체 이동 검출(S80)은 제2 내지 n 실내 공간(41a,...,41n)이 나 제2 내지 n 테이블 공간(51b,...,51n)에 설치된 제2 내지 n PIR 적외선 센서(21b,...,21n) 중 어느 하나에 서 생성된 high값 센싱으로 이루어진다. 이후 상기 로봇은 자리 재지정(S50)과 자리 점검(S60)을 통해 개별공간 별로 N개의 대상체에 대해 상기 대 상객체 값(Person_value)를 재할당하여 준다. 일례로 상기 자리 재지정(S50)은 S51의 대상체 이동을 검출하는 단계, S52의 대상체가 나온 공간에 지정된 공간 값과 이에 해당된 대상객체 값인 퍼슨 밸류 또는 커스토머 밸류를 제거하는 단계, S53의 대상체가 들어간 공간 에 지정된 새로운 공간 값에 맞춰 퍼슨 밸류 또는 커스토머 밸류를 새로이 지정 또는 추가하는 단계로 수행된다. 이로부터 상기 자리 재지정(S50)은 개별공간 별로 대상체의 추가이동에 의한 나오고 들어가는 출입(enter/exi t)이 있는 경우, 추가이동된 대상체의 개수를 상기 개별공간 별로 가감하여 준다. 즉, N개의 대상체 중 대상체 가 나온(exit) 개별공간에 할당된 대상객체값은 삭제되고, N개의 대상체 중 대상체가 들어간(enter) 상기 개별 공간에 할당된 대상객체값은 추가되는 것과 같이, 한번 지정된 공간 값과 퍼슨 밸류 또는 커스토머 밸류 제거 (S52)와 함께 새로운 공간 값과 퍼슨 밸류 또는 커스토머 밸류 지정(S53)이 이루어진다.일례로 상기 자리 점검(S60)은 S61의 실내 공간에서 2명 이상의 대상체 이동이 확인되는 단계, S62의 여러 명의 대상체로 채워진 자리로 로봇이 이동하여 여러 명이 있는 공간 값의 정보를 업데이트하는 단계로 수행된다. 특히 이동하는 대상체의 수가 2 이상일 때, 상기 로봇은 대상체의 오버랩 여부를 판단하며, 2명 이상의 오 버랩(Overlap)으로 정확한 인원 식별이 불가할 경우엔 이동좌표로 약간 이동함으로써 2명 이상의 오버랩 (Overlap) 상태를 벗어나 개개인에 대한 확인이 이루어 질 수 있도록 한다. 즉, 상기 오버랩에 의해 대상체가 감소하는 것으로 인식되는 경우, 상기 로봇은 상기 기준위치로부터 신규위치로 이동하여 주고, 이때 상기 신규 위치는 상기 오버랩이 발생하지 않으면서도 상기 기준위치로부터 최단거리를 적용한다. 일례로 상기 2명 이상 이동 확인(S61)은 로봇이 제2 내지 n PIR 적외선 센서(21b,...,21n) 중 2개 이상에서 생성된 high값 센싱으로 이루어지고, 상기 로봇 이동(S62)은 [(여러 명 있는 좌석의 PIR 적외선 센서 위치 좌표+실내 공간 중앙점 좌표)/2]로 계산한 이동좌표를 이용하여 이루어지며, 상기 정보 업데이트(S62)는 대상체 가 여러 명이 있는 공간으로 각각 이동 후 공간 값과 대상객체 값인 퍼슨 밸류 또는 커스토머 밸류에 대한 정보 업데이트에 해당된다. 최종적으로 상기 공간 데이터 제공(S70)은 1명 또는 2명 이상의 대상체가 자리 비움으로 지정값 변화가 발생된 공간 값과 대상객체 값인 퍼슨 밸류 또는 커스토머 밸류에 대한 정보를 출력함으로써 사용자가 확인할 수 있는 단계이다. 이와 같이 상기 공간 데이터 제공(S70)은 1명이나 2명 이상의 대상체가 들어와 공간에 머문 후 다시 나가는 전 체적인 대상체 이동 상황을 실시간으로 모니터링하여 사용자에게 제공할 수 있다. 한편 상기 로봇은 사용자가 작동 중지 등을 하지 않는 경우엔 정보 출력(S120) 후 [(제1 PIR 적외선 센서 (21a) 위치 좌표+실내 공간 중앙점 좌표)/2]로 계산한 이동좌표를 이용하여 출입구 대기 상태로 복귀(S20)하거 나 또는 기 설정된 실내 공간 중앙점 좌표로 복귀할 수 있도록 운영될 수 있다. 전술된 바와 같이, 본 실시예에 따른 실내 로봇 모니터링 시스템에 의한 PIR적외선 센서 기반 실내 로봇의 대상체 위치 모니터링 방법은 RGB 카메라와 복수개 PIR 적외선 센서(21a,...,21n)를 조합한 로봇이 실 내 공간 할당, 인원 출입 확인, 자리 지정, 대기, 자리 재지정, 자리 점검 및 공간 데이터 제공 등을 수행함으 로써 집 또는 건물이나 식당 등과 곳에서 입/출입하는 대상체인 대상체를 정확하게 인지하고, 특히 로봇이 PIR 적외선 센서 및 RGB 카메라의 조합으로 실내 공간 모니터링과 실내 공간 점유 상황을 파악함으로써 주거 공간의 사용 상황 및 식당 공간의 서비스 효율성을 높여 준다."}
{"patent_id": "10-2022-0053417", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명에 따른 PIR적외선 센서 기반 실내 로봇의 대상체 위치 모니터링 방법의 순서도이고, 도 2는 본 발명에 따른 로봇 카메라와 PIR적외선 센서로 구축된 로봇 모니터링 시스템의 예이며, 도 3은 본 발명에 따른 로봇 모니터링 시스템이 주거 건물 및 상업 건물에 적용되는 예이다."}
