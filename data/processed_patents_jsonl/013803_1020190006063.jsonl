{"patent_id": "10-2019-0006063", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2020-0089410", "출원번호": "10-2019-0006063", "발명의 명칭": "최적의 감마보정 기반 저조도 영상 보정방법", "출원인": "정인호", "발명자": "정인호"}}
{"patent_id": "10-2019-0006063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "보정대상 컬러영상이 영상보정장치에 입력되는 컬러영상 입력단계;상기 보정대상 컬러영상을 YCbCr 색 공간으로 변환하는 컬러영상 색 공간 변환단계;상기 보정대상 컬러영상의 YCbCr 색 공간에서의 각 화소별 입력 휘도값을 산출하는 휘도정보 획득단계;상기 각 화소별 입력 휘도값을 로그 함수를 이용하여 정규화하는 입력 휘도값 정규화단계;정규화된 상기 각 화소별 입력 휘도값을 평가하여 어두운 영역과 밝은 영역으로 각 화소를 분류하되, 상기 각화소별 입력 휘도값이 0.5 이상인 경우에는 어두운 영역, 0.5 미만인 경우에는 밝은 영역으로 구분되는 밝기영역 분류단계;상기 어두운 영역과 밝은 영역 각각에 대한 휘도값 평균과 표준편차의 차이값이 최소화되는 최적 감마값(γ)을산출하는 최적 감마값 산출단계;각각의 상기 최적 감마값(γ)을 감마보정에 적용하여 감마 보정된 휘도영상을 얻는 휘도영상 획득단계;상기 감마 보정된 휘도영상으로부터 컬러영상을 합성하는 컬러영상 합성단계;를 포함하는 것을 특징으로 하는최적의 감마보정 기반 저조도 영상 보정방법."}
{"patent_id": "10-2019-0006063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 휘도정보 획득단계는,입력 휘도값을 아래의 [수학식 1]에 의해 획득하는 것을 특징으로 하는 최적의 감마보정 기반 저조도 영상 보정방법. [수학식 1](은 입력 휘도값, 은 각 컬러영상의 입력 화소값)"}
{"patent_id": "10-2019-0006063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 최적 감마값 산출단계는,[수학식 2]의 감마값을 반복적으로 변화시키면서 [수학식 2]의 함수값을 구하고, [수학식 2]의 함수값이 최소화되는 감마값을 어두운 영역에 대한 최적 감마값으로 산출하는 것을 특징으로 하는 최적의 감마보정 기반 저조도영상 보정방법. [수학식 2], subject to (은 어두운 영역에 속하는 화소의 개수, 는 전치행렬, 는 어두운 영역에 속하는 화소값의 벡터,공개특허 10-2020-0089410-3-은 어두운 영역에 속하는 화소의 휘도값의 표준편차)"}
{"patent_id": "10-2019-0006063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 최적 감마값 산출단계는,[수학식 3]의 감마값을 반복적으로 변화시키면서 [수학식 3]의 함수값을 구하고, [수학식 3]의 함수값이 최소화되는 감마값을 밝은 영역에 대한 최적 감마값으로 산출하는 것을 특징으로 하는 최적의 감마보정 기반 저조도영상 보정방법. [수학식 3], subject to (은 밝은 영역에 속하는 화소의 개수, 는 전치행렬, 는 밝은 영역에 속하는 화소값의 벡터, 은밝은 영역에 속하는 화소의 휘도값의 표준편차)"}
{"patent_id": "10-2019-0006063", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제3항 또는 제4항에 있어서,[수학식 3] 또는 [수학식 4]를 컨벡스 최적화 이론을 이용하여 다음의 수식을 얻고 ,뉴턴방법(Newton's Method)을 이용하여 근사근인 처음값()을 정하며, 에서 에 대한 선형근사식을 구하여 , 의 근인 을 처음값으로 정하는 과정을 오차범위 내로 반복하여 최적감마값(γ)을 산출하는 것을 특징으로 하는 최적의 감마보정 기반 저조도 영상 보정방법."}
{"patent_id": "10-2019-0006063", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 최적의 감마보정 기반 저조도 영상 보정방법에 관한 것으로, 좀더 구체적으로는 입력되는 컬러영상의 어두운 영역과 밝은 영역으로 분류하여 각각의 영역에 대해 최적의 감마값을 산출하고, 이를 감마보정에 적용하 여 대조비를 개선하는 최적의 감마보정 기반 저조도 영상 보정방법에 관한 것이다. (뒷면에 계속)"}
{"patent_id": "10-2019-0006063", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 최적의 감마보정 기반 저조도 영상 보정방법에 관한 것으로, 좀더 구체적으로는 입력되는 컬러영상의 어두운 영역과 밝은 영역으로 분류하여 각각의 영역에 대해 최적의 감마값을 산출하고, 이를 감마보정에 적용하 여 대조비를 개선하는 최적의 감마보정 기반 저조도 영상 보정방법에 관한 것이다."}
{"patent_id": "10-2019-0006063", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "최근에는 디지털 영상 기술의 발전으로 다양한 영상 장치를 이용하여 고품질의 영상을 얻을 수 있게 되었다. 그 러나 빛의 양이 부족한 저조도 환경에서는 낮은 동적 영역으로 인하여 취득된 영상의 품질이 저하된다. 이러한 저조도에서 취득된 영상은 인공지능 영상처리, CCTV, 물체감지 등 다양한 영상처리 애플리케이션의 성능 저하를 초래한다. 따라서, 이를 개선하기 위한 다양한 저조도 영상의 대조비 향상 기법에 관한 연구가 진행되었다. 특 히, 단순하면서도 높은 품질의 결과를 제공하는 감마보정 기법에 대한 많은 연구가 진행되었다. 감마보정 기법은 입력 화소값에 대한 결과 화소값을 구하는 절차에 파워 함수를 이용하는 기법이며, 최적의 감 마값을 찾기 위한 연구가 진행되었다. 예를 들어, 2018년 2월 발표된 논문 \"An adaptive method for image dynamic range adjustment\" (K.-F. Yang, H. Li, H. Kuang, C.-Y. Li, and Y.-J. Li, accepted to IEEE Trans. Circuits Syst. Video Technol.)은 최적의 감마값을 찾기 위한 함수에 중앙값을 이용한 기법이 제안되 었다. 하지만, 이러한 기법은 비선형적이기 때문에 계산 복잡도가 높고, 입력 영상의 동적 영역이 낮을 경우 과 포화 현상이 일어나는 단점이 있다.선행기술문헌 비특허문헌 (비특허문헌 0001) K.-F. Yang, H. Li, H. Kuang, C.-Y. Li, and Y.-J. Li, \"An adaptive method for image dynamic range adjustment\" accepted to IEEE Trans. Circuits Syst. Video Technol., Feb. 2018."}
{"patent_id": "10-2019-0006063", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "따라서 본 발명은 이와 같은 종래 기술의 문제점을 개선하여, 컬러영상의 어두운 영역과 밝은 영역 각각에 대한 휘도값 평균과 표준편차의 차이값이 최소화되는 최적 감마값을 산출하는 기법을 이용하여 저조도 영상의 대조비 향상이 도모되도록 하며, 입력 영상의 동적 영역이 낮을 경우에도 과포화 현상을 최소화하는 최적의 감마보정 기반 저조도 영상 보정방법을 제공하는 것을 목적으로 한다. 특히, 본 발명은 감마보정 기법을 이용한 최적의 감마값 산출이 최적화 이론 기반으로 풀어낸 수식을 통해 이루 어져, 최종 영상을 얻는데 실행 시간이 단축되는 최적의 감마보정 기반 저조도 영상 보정방법을 제공하는 것을 목적으로 한다."}
{"patent_id": "10-2019-0006063", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상술한 목적을 달성하기 위한 본 발명의 특징에 의하면, 본 발명은 보정대상 컬러영상이 영상보정장치에 입력되 는 컬러영상 입력단계; 상기 보정대상 컬러영상을 YCbCr 색 공간으로 변환하는 컬러영상 색 공간 변환단계; 상 기 보정대상 컬러영상의 YCbCr 색 공간에서의 각 화소별 입력 휘도값을 산출하는 휘도정보 획득단계; 상기 각 화소별 입력 휘도값을 로그 함수를 이용하여 정규화하는 입력 휘도값 정규화단계; 정규화된 상기 각 화소별 휘 도값을 평가하여 어두운 영역과 밝은 영역으로 각 화소를 분류하되, 정규화된 상기 각 화소별 휘도값이 0.5 이 상인 경우에는 어두운 영역, 0.5 미만인 경우에는 밝은 영역으로 구분되는 밝기영역 분류단계; 상기 어두운 영 역과 밝은 영역 각각에 대한 휘도값 평균과 표준편차의 차이값이 최소화되는 최적 감마값(γ)을 산출하는 최적 감마값 산출단계; 각각의 상기 최적 감마값(γ)을 감마보정에 적용하여 감마 보정된 휘도영상을 얻는 휘도영상 획득단계; 상기 감마 보정된 휘도영상으로부터 컬러영상을 합성하는 컬러영상 합성단계;를 포함하는 최적의 감 마보정 기반 저조도 영상 보정방법을 제공한다. 이와 같은 본 발명에 따른 최적의 감마보정 기반 저조도 영상 보정방법에서 상기 휘도정보 획득단계는, 입력 휘 도값을 아래의 [수학식 1]에 의해 획득한다. [수학식 1]"}
{"patent_id": "10-2019-0006063", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 2, "content": "(은 입력 휘도값, 은 각 컬러영상의 입력 화소값) 이와 같은 본 발명에 따른 최적의 감마보정 기반 저조도 영상 보정방법에서 상기 최적 감마값 산출단계는, [수 학식 2]의 감마값을 반복적으로 변화시키면서 [수학식 2]의 함수값을 구하고, [수학식 2]의 함수값이 최소화되 는 감마값을 어두운 영역에 대한 최적 감마값으로 산출한다. [수학식 2] ,"}
{"patent_id": "10-2019-0006063", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 3, "content": "subject to (은 어두운 영역에 속하는 화소의 개수, 는 전치행렬, 는 어두운 영역에 속하는 화소값의 벡터, 은 어두운 영역에 속하는 화소의 휘도값의 표준편차) 이와 같은 본 발명에 따른 최적의 감마보정 기반 저조도 영상 보정방법에서 상기 최적 감마값 산출단계는, [수 학식 3]의 감마값을 반복적으로 변화시키면서 [수학식 3]의 함수값을 구하고, [수학식 3]의 함수값이 최소화되 는 감마값을 밝은 영역에 대한 최적 감마값으로 산출한다. [수학식 3] ,"}
{"patent_id": "10-2019-0006063", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 4, "content": "subject to (은 밝은 영역에 속하는 화소의 개수, 는 전치행렬, 는 밝은 영역에 속하는 화소값의 벡터, 은 밝은 영역에 속하는 화소의 휘도값의 표준편차) 이와 같은 본 발명에 따른 최적의 감마보정 기반 저조도 영상 보정방법에서, [수학식 3] 또는 [수학식 4]를 컨 벡스 최적화 이론을 이용하여 다음의 수식을 얻고 , 뉴턴방법(Newton's Method)을 이용 하여 근사근인 처음값()을 정하며, 에서 에 대한 선형근사식을 구하여 , 의 근인 을 처음값으로 정하는 과정을 오차범위 내로 반복하여 최적 감마값(γ)을 산출한다."}
{"patent_id": "10-2019-0006063", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 의한 최적의 감마보정 기반 저조도 영상 보정방법에 의하면, 컬러영상의 어두운 영역과 밝은 영역 각 각에 대한 휘도값 평균과 표준편차의 차이값이 최소화되는 최적 감마값을 산출하는 기법을 이용하여 저조도 영 상의 대조비를 더욱 향상시킬 수 있어 다양한 영상처리 애플리케이션의 성능 향상을 도모할 수 있으며, 입력 영 상의 동적 영역이 낮을 경우에도 과포화 현상을 최소화할 수 있다. 특히, 본 발명은 감마보정 기법을 이용한 최적의 감마값 산출이 간단한 수식을 통해 이루어져 짧은 시간 내에 더 높은 품질의 결과 영상을 얻을 수 있다."}
{"patent_id": "10-2019-0006063", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 본 발명의 실시예를 첨부된 도면 도 1 내지 도3에 의거하여 상세히 설명한다. 한편, 도면과 상세한 설명 에서 이 분야의 종사자들이 용이하게 알 수 있는 구성 및 작용에 대한 도시 및 언급은 간략히 하거나 생략하였 다. 특히 도면의 도시 및 상세한 설명에 있어서 본 발명의 기술적 특징과 직접적으로 연관되지 않는 요소의 구 체적인 기술적 구성 및 작용에 대한 상세한 설명 및 도시는 생략하고, 본 발명과 관련되는 기술적 구성만을 간 략하게 도시하거나 설명하였다. 본 발명의 실시예에 따른 최적의 감마보정 기반 저조도 영상 보정방법은 도 1에서와 같이 컬러영상 입력단계, 컬러영상 색 공간 변환단계, 휘도정보 획득단계, 입력 휘도값 정규화단계, 밝기영역 분류단계, 최적 감마값 산 출단계, 휘도영상 획득단계, 컬러영상 합성단계를 포함한다. 컬러영상 입력단계는 보정대상 컬러영상이 영상보정장치에 입력되는 단계이다. 여기서 보정대상 컬러영상은 도 2에 도시된 바와 같이 빛의 양이 부족한 저조도 환경에서 촬영된 저조도 영상이다. 또한, 영상보정장치는 입력 된 상기 보정대상 컬러영상을 최적의 감마보정 기반 저조도 영상 보정방법을 통해 저조도 영상의 대조비를 향상 시키는 기기이다. 컬러영상 색 공간 변환단계는 상기 보정대상 컬러영상을 YCbCr 색 공간으로 변환하는 단계이다. 여기서 YCbCr은 영상 시스템에서 사용되는 색공간의 일종으로 Y는 휘도 성분이며, Cb와 Cr은 색차 성분을 나타낸다. 그리고 YCbCr은 RGB 정보를 인코딩하는 방식의 하나이다. 휘도정보 획득단계는 상기 보정대상 컬러영상의 YCbCr 색 공간에서의 각 화소별 입력 휘도값을 산출하는 단계이 다. 또한, 휘도정보 획득단계는 아래의 [수학식 1]에 의해 상기 입력 휘도값을 획득할 수 있다. 수학식 1"}
{"patent_id": "10-2019-0006063", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "(은 입력 휘도값, 은 각 컬러영상의 입력 화소값) 입력 휘도값 정규화단계는 상기 휘도정보 획득단계에서 상기 각 화소별 입력 휘도값을 로그 함수를 이용하여 정 규화하는 단계이다. 밝기영역 분류단계는 상기 입력 휘도값 정규화단계에서 정규화된 상기 각 화소별 입력 휘도값을 평가하여 어두 운 영역과 밝은 영역으로 각 화소를 분류한다. 일반적으로 휘도값의 범위는 0 부터 1 사이를 가지며, 밝기영역 은 상기 각 화소별 입력 휘도값이 0.5 이상 1 이하에 속하는 경우에는 어두운 영역, 0 이상 0.5 미만에 속하는 경우에는 밝은 영역으로 구분될 수 있다. 최적 감마값 산출단계는 상기 어두운 영역과 밝은 영역 각각에 대한 휘도값 평균과 표준편차의 차이값이 최소화 되는 최적 감마값(γ)을 산출한다. 이때, 상기 최적 감마값 산출단계는 [수학식 2]의 감마값을 반복적으로 변화시키면서 [수학식 2]의 함수값을 구 하고, [수학식 2]의 함수값이 최소화되는 감마값을 어두운 영역에 대한 최적 감마값으로 산출할 수 있다. 수학식 2"}
{"patent_id": "10-2019-0006063", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "subject to (은 어두운 영역에 속하는 화소의 개수, 는 전치행렬(행의 갯수 N개, 열의 갯수 1개), 는 어두운 영 역에 속하는 화소값의 벡터, 은 어두운 영역에 속하는 화소의 휘도값의 표준편차) 또한, 상기 최적 감마값 산출단계는 [수학식 3]의 감마값을 반복적으로 변화시키면서 [수학식 3]의 함수값을 구 하고, [수학식 3]의 함수값이 최소화되는 감마값을 밝은 영역에 대한 최적 감마값으로 산출할 수 있다. 수학식 3 subject to (은 밝은 영역에 속하는 화소의 개수, 는 전치행렬(행의 갯수 N개, 열의 갯수 1개), 는 밝은 영역에 속하는 화소값의 벡터, 은 밝은 영역에 속하는 화소의 휘도값의 표준편차) 이러한 [수학식 2]와 [수학식 3]의 최적화 문제는 컨벡스 최적화 문제로 계산될 수 있으며, Karush-Kuhn- Tucker(KKT)조건을 이용하여 감마보정 계수에 대한 수식을 얻을 수 있다. 이때, 얻어진 수식은 뉴턴방법 (Newton's method)를 이용하여 해를 구할 수 있다. 기본적인 방법은 폐구간 [a,b]에서 실수 에 대해 정의된 함수 가 미분가능할 때 임의의 에 대해서 을 라고 하고, 이를 계속 반복하게 되면 특정 조건하에 은 함수 을 만족하는 해를 구한다. 실제 해를 구하기 위해서는 상기 휘도값의 평균과 표준편차의 차이값이 보다 작아질 때까지 반복적으로 를 변화시키면서 최적의 값을 찾 는다. 휘도영상 획득단계는 각각의 상기 최적 감마값(γ)을 감마보정에 적용하여 감마 보정된 휘도영상을 얻는다. 컬러영상 합성단계는 상기 감마 보정된 휘도영상으로부터 컬러영상을 합성하는 단계이다. 이때, 상기 컬러영상 합성단계는 상기 감마 보정된 휘도영상으로부터 아래의 [수학식 4]을 이용하여 컬러영상을 합성할 수 있다. 수학식 4"}
{"patent_id": "10-2019-0006063", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "( 는 과포화 현상을 막기 위한 값, 은 감마 보정된 화소값, 은 입력 휘도값, 는 각 컬러영 상의 입력 화소값) 특히, 도 3에 도시된 바와 같이, 도 2의 저조도 보정대상 컬러영상이 최적의 감마보정 기반 저조도 영상 보정방 법에 의해 기존의 대조비가 향상된 것을 알 수 있다. 또한, 최적의 감마보정 기반 저조도 영상 보정방법이 간단 한 수식에 의해 실행시간이 단축되며, 높은 품질의 영상을 얻을 수 있다. 상술한 바와 같은, 본 발명의 실시예에 따른 최적의 감마보정 기반 저조도 영상 보정방법을 상기한 설명 및 도 면에 따라 도시하였지만, 이는 예를 들어 설명한 것에 불과하며, 본 발명의 기술적 사상을 벗어나지 않는 범위 내에서 다양한 변화 및 변경이 가능하다는 것을 이 분야의 통상적인 기술자들은 잘 이해할 수 있을 것이다.도면 도면1 도면2 도면3"}
{"patent_id": "10-2019-0006063", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명에 따른 최적의 감마보정 기반 저조도 영상 보정방법의 블록도이다. 도 2는 본 발명에 따른 최적의 감마보정 기반 저조도 영상 보정방법의 영상보정장치에 입력되는 보정대상 컬러 영상이다. 도 3은 본 발명에 따른 최적의 감마보정 기반 저조도 영상 보정방법의 감마 보정된 휘도영상으로부터 컬러영상 이 합성된 영상이다."}
