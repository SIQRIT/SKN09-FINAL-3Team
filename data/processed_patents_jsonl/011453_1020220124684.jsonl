{"patent_id": "10-2022-0124684", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0047317", "출원번호": "10-2022-0124684", "발명의 명칭": "실제 작업물에 적합한 궤적 생성을 포함하는 작업물 도장 방법", "출원인": "엑셀 인더스트리스", "발명자": "쉐브론 디디에"}}
{"patent_id": "10-2022-0124684", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "도료 분무 장치(5)가 장착된 로봇 팔(4)을 포함하는 도장 로봇(3)을 사용하여 작업물(2)을 도장하는 방법(1)으로서, 도장 궤적에 대한 정보를 포함하는 사실적 3D 모델(3Dr)을 모델링하는 주요 단계 S1; 및 상기 도료 분무 장치(5)가 작업물(2)에 대향하는 도장 궤적을 따라 이동하는 동안에 도료를 분사하는 주요 단계S2;를 포함하며, 상기 주요 단계 S1은:- 도장할 작업물의 공칭 3D 모델(3Dn)에서 적어도 3개의 모델 특징점(Pm)의 기준 좌표(Cr)를 결정하는단계로서, 상기 모델 특징점(Pm)의 좌표는 기준 프레임(R1)에서 표현되는, 이차 단계 S10;- 작업물(2) 상의 적어도 3개의 실제 특징점(Pr)을 검출하는 단계로서, 상기 작업물(2) 상의 실제 특징점(Pr)은상기 이차 단계 S10 동안에 상기 공칭 3D 모델(3Dn) 상에 결정되는 모델 특징점(Pm) 중 하나에 각각 대응하는,이차 단계 S20; 및- 실제 특징점(Pr)의 좌표와 모델 특징점(Pm)의 좌표를 공통 프레임으로 변환하는 이차 단계 S30;을 포함하며,상기 주요 단계 S1은- 페인트 셀 내에서 위치하고 변형된 작업물(2)에 대응하는 사실적 3D 모델(3Dr)을 생성하는 단계로서, 상기 공칭 3D 모델(3Dn)에 대한 상기 모델 특징점(Pm)의 위치를 상기 사실적 3D 모델(3Dr)에 대한 상기 실제 특징점(Pr)의 위치와 일치하도록, 상기 공칭 3D 모델(3Dn)에 해당 실제 특징점(Pr)의 각 좌표를 향하여 상기 모델 특징점(Pm)을 이동시키는 변형을 유도하는 응력 시뮬레이션을 적용하는, 이차 단계 S40;을 더 포함하는 것을 특징으로 하는,방법."}
{"patent_id": "10-2022-0124684", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1 항에 있어서,상기 작업물(2) 상의 실제 특징점(Pr)을 검출하는 이차 단계 S20은:- 상기 작업물(2)의 이미지를 획득하는 하위 단계 S21,- 상기 작업물의 실제 특징점(Pr)을 검출하기 위한 단계로서, 측정된 실제 특징점(Pr)은 모델 특징점(Pm)로 간주되는 공칭 3D 모델(3Dn)의 특유의 시각적 요소들과 동일한 작업물(2)의 특유한 시각적 요소들인, 이미지 분석의 하위 단계 S22, 및- 실제 특징점(Pr)의 좌표를 측정하는 하위 단계 S23을 포함하는, 방법."}
{"patent_id": "10-2022-0124684", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2 항에 있어서, 상기 하위 단계 S22는 인공 지능 프로세스에 의해 학습된 알고리즘에 의해 구현하는, 방법."}
{"patent_id": "10-2022-0124684", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제2 항 또는 제3 항에 있어서, 공개특허 10-2023-0047317-3-상기 하위 단계 S23 동안, 실제 특징점(Pr)은 측정 시스템 프레임(R2)의 좌표와 연관되고, 상기 이차 단계 S30은:- 측정 시스템 프레임(R2)에 표현된 실제 특징점(Pr)의 좌표와 기준 프레임(R1)에서 표현된 공칭 3D 모델(3Dn)의 모델 특징점(Pm)의 좌표를 동일한 공통 프레임으로 표현하는 하위 단계 S31과,- 작업물 프레임(R3)의 실제 특징점(Pr)에 좌표를 할당하도록 구성되는 작업물 프레임(R3)을 계산하는 하위 단계 S32를 포함하며, 할당된 좌표는 연관된 모델 특징점(Pm)의 공통 프레임에서의 좌표와 실질적으로 동등하며,상기 하위 단계 S32는 기준 프레임(R1)에서 작업물 프레임(R3)으로의 변환 행렬(Mt)을 식별하는 것을 가능하게하는, 방법."}
{"patent_id": "10-2022-0124684", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4 항에 있어서, 사실적 3D 모델(3Dr)을 생성하는 하위 단계 S40은:- 편차를 추정하는 단계로서, 작업물 프레임(R2)에서 표현된 실제 특징점(Pr)의 좌표는 기준 프레임(1)에서 표현된 모델 특징점(Pm)의 좌표와 비교되며, 모든 모델 특징점(Pm)과 대응하는 실제 특징점(Pr) 사이에서 복수의변위 벡터(Vd)를 연관시켜 변위 필드(Cd)를 획득하는, 하위 단계 S41, - 상기 하위 단계 S41에 이어 수행되며, 3D 모델의 특징점 사이의 위치 편차와 작업물(2)의 위치 편차를 최소화하기 위해 작업물의 3D 모델에 변형을 적용하여, 변형된 작업물(2)에 대응하는 사실적 3D 모델(3Dr)을 생성하도록 하는 응력 시뮬레이션의 하위 단계 S42를 포함하는,방법."}
{"patent_id": "10-2022-0124684", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1 항 내지 제3 항 중 어느 한 항에 있어서, 상기 주요 단계 S1은 프린트 헤드(9)에 대해 할당된 궤적(T1)을 할당하는 이차 단계 S50을 더 포함하고, 할당된궤적(T1)은 프린트 헤드(9)의 궤적들을 작업물(2)의 변형에 적용하기 위해 사실적 3D 모델(3Dr)에 대응하도록선택하는,방법."}
{"patent_id": "10-2022-0124684", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6 항에 있어서, 상기 이차 단계 S50은 사실적 3D 모델(3Dr)에 적합한 생성된 궤적(T2)을 생성하도록 구성된 하위 단계 S51을 포함하는, 방법."}
{"patent_id": "10-2022-0124684", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7 항에 있어서, 상기 이차 단계 S50은 상기 하위 단계 S51 동안 생성된 각각의 궤적(T2)을 사실적 3D 모델(3Dr)과 연관된 데이터베이스에 저장하는 하위 단계 S52와, 상기 이차 단계 S40 후에 수행되며 상기 이차 단계 S40을 수행하여 얻은 사실적 3D 모델(3Dr)을데이터베이스에 저장된 사실적 3D 모델(3Dr)과 비교하도록 구성되는 하위 단계 S53을 더 포함하고, 상기 이차 단계 S40의 실행 후에 획득된 사실적 3D 모델(3Dr)이 상기 데이터베이스의 항목과 실질적으로 부합하는 경우, 작업물을 도장하는 주요 단계 S2가 실행되는 동안에 상기 항목과 관련된, 생성된 궤적(T2)을 사실적3D 모델(3Dr)에 적용하는,공개특허 10-2023-0047317-4-방법."}
{"patent_id": "10-2022-0124684", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8 항에 있어서, 상기 하위 단계 S53은 상기 하위 단계 S51 이전에 수행되는, 방법."}
{"patent_id": "10-2022-0124684", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제8 항에 있어서, 상기 이차 단계 S50은 상기 하위 단계 S52의 실행 전에 수행되는 하위 단계 S54를 더 포함하고, 상기 하위 단계S54는 생성된 궤적(T2)이 도장 로봇(3)과 작업물(2) 사이의 충돌을 포함하지 않는지 확인하기 위해 상기 궤적생성 하위 단계 S51 동안 계산된 생성된 궤적(T)을 확인하는,방법."}
{"patent_id": "10-2022-0124684", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제4 항에 있어서, 상기 주요 단계 S1은 작업물 또는 생산 라인 상의 결함을 검출하도록 구성되는 이차 단계 S60을 더 포함하고, 상기 하위 단계 S41에서 측정된 변위 필드(Cd)를 작업물(2) 상의 결함을 검출하기 위해 오류 검출 임계값과 비교하거나, 및/또는 작업물(2)의 포지셔닝 오류와 이에 따른 생산 라인의 결함을 검출하도록 상기 하위 단계 S32에 의해 획득된 변환 행렬(MT)의 성분들을 오류 검출 임계값과 비교하는,방법."}
{"patent_id": "10-2022-0124684", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "메모리(7) 및 프로세서(8)를 포함하는 컴퓨팅 유닛(6)으로서, 상기 메모리(7)는 제1 항 내지 제3 항 중 어느 한 항에 따른 방법(1)을, 프로세서(8)에 의해 실행될 때, 구현하도록 구성되는,컴퓨팅 유닛(6)."}
{"patent_id": "10-2022-0124684", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제1 항 내지 제3 항 중 어느 한 항에 따른 방법을 프로세서 또는 컴퓨팅 유닛에 의해 실행될 때, 구현하기 위하도록 구성된 코드 데이터를 포함하는 프로그램을 기록한 컴퓨터로 읽을 수 있는 기록매체."}
{"patent_id": "10-2022-0124684", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "프린트 헤드(9)를 포함하는 도료 분무 장치(5)와, 광학 장치(11) 및 측정 시스템(13)을 포함하는 획득 장치(10)가 장착된 로봇 팔(4)을 포함하며, 제1 항 내지 제3 항 중 어느 한 항에 따른 방법을 구현하기 위해, 제12 항에 따른 컴퓨팅 유닛(6)을 포함하는 제어 스테이션에 의해 제어되도록 구성되는 도장 로봇(3)."}
{"patent_id": "10-2022-0124684", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "실제 작업물에 적합한 궤적을 생성하는 작업물 페인팅 방법이 개시된다. 본 발명은 도료 분무 장치가 장착된 로봇 팔을 포함하는 도장 로봇을 사용하여 작업물을 도장하는 방법에 관한 것으로, 방법은, 페인 트 셀 내에서 위치하고 변형된 작업물에 대응하는 사실적 3D 모델(3Dr)을 모델링하는 단계로서, 사실적 3D 모 델(3Dr)은 페인트 셀 내에서 위치하거 변형된 작업물에 적합한 도장 궤적 정보를 포함하는, 사실적 3D 모델(3D r)을 모델링하는 단계 S1와, 도료 분무 장치가 작업물에 대향하는 도장 궤적을 따라 이동하며 도료를 분사 하는 단계 S2를 포함한다."}
{"patent_id": "10-2022-0124684", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 자동화된 도장 공정의 일반적인 기술 분야에 관한 것으로, 특히 도장 로봇을 사용하고, 더욱 상세하 게는 프린트 헤드가 장착된 도장 로봇을 사용하는 작업물 도장 공정에 관한 것이다."}
{"patent_id": "10-2022-0124684", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "분무 로봇은 통상적으로 로봇 관절식 팔과 팔에 장착된 분무기를 포함하며, 도색되거나 처리될 할 작업물의 반 대편으로 이동하도록 배치되는 것으로 알려져 있다. 일부 도장 로봇은 로봇 팔 끝에 장착된 프린트 헤드와 함께제공되며, 이는 작업물에 페인트 패턴 또는 콘트라스트 영역을 자동화된 방식으로 \"과다 분무\" 없이, 즉 페인트 분무기에 의해 분무되는 페인트 구름에서 나오는 방울들이 도장되어야 할 패턴 영역 외에 증착되는 일 없이 도 장하는 데 사용된다. 따라서 통상적으로 접착식 마스크를 사용하는 지지체를 미리 준비할 필요 없이 패턴 또는 콘트라스트 영역을 도장하는 것이 가능하다. 이러한 프린트 헤드는 일반적으로 프린트 헤드가 페인팅될 표면의 반대편으로 이동할 때 페인트 스트립을 형성하도록 배열된 복수의 노즐을 포함한다. 장식될 작업물에 패턴을 도장하거나 예를 들어 차체를 도장하기 위하여, 코팅될 작업물의 CAD 파일(컴퓨터 지원 설계, 작업물의 3D 모델)에서 궤적을 생성하는 방법이 알려져 있다. 로봇과 프린트 헤드의 각 노즐의 기준 궤적 은 작업물 CAD 모델과 코팅 셀의 3D 모델, 즉 패턴을 인쇄하는 단계가 수행되는 생산 라인 내에서 작업물 CAD 모델의 포지셔닝과 관련하여 정의된다. 궤적은 작업물에 대한 프린트 헤드 통로 지점을 정의하고 프린트 헤드의 모든 노즐에 대한 활성화 지침을 더 포함한다. 궤적은 도색 영역에 원하는 패턴을 도장하기 위해 도색 영역의 반대편으로 프린트 헤드를 이동하는 것으로 정의된다. 통상적으로, 궤적은 프린트 헤드가 이동되는 복수의 평행선을 포함하고, 상기 이동 동안 노즐의 활성화는 페인 트 스트립의 증착으로 이어진다. 평행선 사이의 간격은 페인트 사용을 제한하기 위해 페인트 줄무늬의 과도한 중첩을 제한하고 패턴에 코팅되지 않은 영역을 남길 수 있는 줄무늬 사이의 간격을 필수적으로 방지하기 위해 구성된다. 따라서, 작업물의 CAD 모델은 작업물의 기하학적 구조 및 처리될 구역에 따라 구체적으로 정의된 도장 궤적과 연관된다. 실제로, 제작된 작업물은 CAD 모델과 치수 편차가 있다. 이러한 편차는 도장에 필요한 정확도와 관련하여 클 수 있으며, 예를 들어 자동차의 보닛이나 지붕과 같은 확장된 작업물에서 수 밀리미터 정도의 크기에 도달할 수 있 다. 또한 코팅 셀에서 작업물의 실제 위치와 셀의 3D 모델에서 작업물 CAD 모델의 이론적 위치 사이에 편차가 있을 수 있다. 도장된 패턴에 대한 인지된 품질을 저하시키는 것 외에도, 이러한 편차는 패턴의 포지셔닝을 위해 작업물상에 정의된 기준들, 예를 들어 도장할 표면의 가장자리와 일치해야 하는 스타일 선들과 관련하여 패턴의 잘못된 포 지셔닝을 초래할 수 있다. 이러한 상황은 로봇 팔과 도장할 작업물 사이의 충돌의 추가적 위험을 발생시킬 수 있으며, 이로 인해 작업물이 파괴되고 로봇이 손상될 수 있다. 실제로, 과다 분무를 방지하기 위해, 프린트 헤 드는 도장할 작업물에서 최단 거리로 이동하도록 설계된다. 생산 라인의 오작동으로 인해 작업물이 잘못된 위치 에 배치된 페인트 셀에 도착하면 작업물과 로봇 간의 충돌 위험이 있다. 따라서 작업물의 기하학적 구조와 공간 에서의 포지셔닝에 적응할 수 있도록 하는 것이 필요하다. 국제특허공개공보 WO2020/225350은 도장 로봇으로 측정 단계를 수행함으로써 도장할 부품에 대한 직접 측정에 의해 모든 편차를 국부적으로 기록하는 것으로 구성된 솔루션을 제안한다. 측정 단계에서 로봇의 동일한 움직임 이 명목상으로 수행되어야 도료 도포가 정확하게 수행된다. 이는 로봇의 동작과 측정 및 도포 중의 모든 오류의 영향이 동일함을 의미한다. 포지셔닝 오류의 정확한 원인, 예를 들어 부품의 위치 편차, 부품의 모양 또는 로봇 이나 부품의 온도와 관련된 포지셔닝 오류는, 모든 측정 지점에 대한 측정 값은 해당 지점의 모든 오류의 합을 반영하기 때문에, 관련이 없다. 그러나 이러한 프로세스에는 측정된 모든 작업물에 대해 새로운 페인트 궤적을 계산해야 할 필요가 있다. 또한 측정 프로세스에는 시간과 에너지가 필요하다. 또한 모든 측정 작업의 결과는 해당 작업물과만 연관되기 때문에 재사용할 수 없다. 이러한 프로세스는 작업물과 로봇 간의 충돌 위험을 방지 하지도 않는다. 실제로 측정 단계의 궤적은 도장 단계의 궤적과 동일하기 때문에 작업물의 위치가 잘못되면 로 봇이 작업물과 충돌할 수 있다. 따라서, 실제 작업물에 적합하고, 작업물과 로봇 사이의 충돌 위험을 방지할 수 있고 에너지 효율적인 처리 궤 적의 적용을 제안할 필요가 있다."}
{"patent_id": "10-2022-0124684", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "실제 작업물에 적합한 처리 궤적을 적용할 필요가 있다는 것이 발견되었는데, 이와 같은 실제 작업물에 적합한 처리 궤적은 작업물과 로봇 사이의 충돌 위험을 방지할 수 있고 에너지 효율적이다. 본 발명의 일 양태에 따르면, 이러한 필요성은 도료 분무 장치가 장착된 로봇 팔을 포함하는 도장 로봇을 사용 하여 작업물을 도장하는 방법을 제안함으로써 충족되며, 방법은 도장 궤적에 대한 정보를 포함하는 사실적 3D 모델을 모델링하는 주요 단계 S1, 및 도료 분무 장치가 작업물에 대향하는 도장 궤적을 따라 이동하는 동안에 도료를 분사하는 주요 단계 S2를 포함하며, 주요 단계 S1은 다음의 이차 단계를 포함한다: - S10: 도장할 작업물의 공칭 3D 모델에서 적어도 3개의 모델 특징점들의 기준 좌표를 결정하는 단계로서, 여기 서 모델 특징점의 좌표는 기준 프레임에서 표현되는, 이차 단계; - S20: 작업물 상의 적어도 3개의 실제 특징점을 검출하는 단계로서, 작업물상의 실제 특징점은 단계 S10 동안 공칭 3D 모델 상에 결정되는 모델 특징점 중 하나에 각각 대응하는, 이차 단계; - S30: 실제 특징점의 좌표와 모델 특징점의 좌표를 공통 프레임, 예를 들어 기준 프레임,으로 변환하는 이차 단계; - S40: 공칭 3D 모델에 대한 모델 특징점의 위치를 사실적 3D 모델에 대한 실제 특징점의 위치와 일치시키도록 하기 위해 공칭 3D 모델에 응력 시뮬레이션을 적용함으로써 모델 특징점을 해당 실제 특징점의 각 좌표로 이동 시키는 변형을 유도하여, 페인트 셀 내에서 변형되고 배치되는 작업물에 대응하는 사실적 3D 모델을 생성하는 단계. 선택적으로 유리하게는, 본 발명은 개별적으로 또는 조합하여 취해진 다음과 같은 특징들을 갖는다: 작업물의 실제 특징점을 검출하는 이차 단계 S20은 다음을 포함한다: - 작업물의 이미지를 획득하는 하위 단계 S21, - 작업물의 실제 특징점을 검출하기 위한 단계로서, 실제 측정된 특징점(Pr)은 모델 특징점은 모델 특징점으로 간주되는 공칭 3D 모델의 특유한 시각적 요소와 동일한 공작물의 특유의 시각적 요소들인, 이미지 분석의 하위 단계 S22, - 실제 특징점의 좌표를 측정하는 하위 단계 S23. 이미지 분석의 하위 단계 S22는 바람직하게는 인공 지능 프로세스에 의해 학습된 알고리즘에 의해 구현된다. 하위 단계 S23 동안, 실제 특징점은 측정 시스템 프레임의 좌표와 연관되고, 식별의 이차 단계 S30은 다음을 포 함한다: - 측정 시스템 프레임에서 표현된 실제 특징점의 좌표와 기준 프레임에서 표현된 공칭 3D 모델의 모델 특징점의 좌표가 동일한 공통 프레임으로 표현되는 전치의 하위 단계 S31, 및 - 작업물 프레임에서의 실제 특징점에 좌표를 할당하도록 구성되는 작업물 프레임을 계산하는 하위 단계 S32, 이는 연관된 모델 특징점의 기준 좌표계에서의 좌표와 실질적으로 동등하며, 계산 하위 단계 S32는 기준 프레임 에서 작업물 프레임으로의 변환 행렬을 식별하는 것이 가능케 한다. 사실적 3D 모델을 생성하는 이차 단계 S40은 다음을 포함한다: - 작업물 프레임에서 표현된 실제 특징점의 좌표를 모든 모델 특징점과 대응하는 실제 특징점 사이에 복수의 변 위 벡터(Vd)를 연관시켜 이에 의해 변위 필드를 획득하기 위해 기준 프레임에서 표현된 모델 특징점의 좌표와 비교하는 편차 추정 하위 단계 S41, 및 - 편차 추정 하위 단계 S41에 이어 수행되며, 3D 모델의 특징점의 위치 편차와 작업물의 위치 편차를 최소화하 기 위해 작업물의 3D 모델에 변형을 적용하여, 변형된 작업물에 대응하는 사실적 3D 모델을 생성하도록 하는 응 력 시뮬레이션 하위 단계 S42. 모델링의 주요 단계 S1은 프린트 헤드에 대한 할당된 궤적을 할당하며, 할당된 궤적은 프린트 헤드의 궤적을 작 업물의 변형에 적응시키기 위해 사실적 3D 모델에 대응하도록 할당된 궤적이 선택되는, 이차 단계 S50를 더 포 함하며; 할당의 이차 단계 S50은 사실적 3D 모델에 적합한 생성된 궤적을 생성하도록 구성된 궤적 생성 하위 단계 S51를 포함하고;할당하는 이차 단계 S50은 사실적 3D 모델에 적합한 생성된 궤적을 생성하도록 구성된 궤적 생성 하위 단계 S51 을 포함하고; 궤적 생성 하위 단계 S51 동안 생성된 각각의 궤적이 사실적 3D 모델(3Dr)과 관련된 데이터베이스에 저장하는 저장 하위 단계 S52와, 모델 생성의 이차 단계 S40 후에 수행되며 모델 생성의 이차 단계 S40를 수행하여 얻은 사실적 3D 모델을 데이터베이스에 저장된 사실적 3D 모델과 비교하도록 구성되는 비교 하위 단계 S53을 더 포함 하고, 모델 생성의 이차 단계 S40의 실행 후에 획득된 사실적 3D 모델이 상기 데이터베이스의 항목과 실질적으 로 부합하는 경우, 작업물을 도장하는 주요 단계 S2가 실행되는 동안에 상기 항목과 관련된, 생성된 궤적을 사 실적 3D 모델에 적용하며; 비교 하위 단계 S53은 궤도 생성 하위 단계 S51 이전에 수행되며; 할당의 이차 단계 S50은 저장 하위 단계 S52의 실행 전에 수행되는 인증 하위 단계 S54를 더 포함하고, 인증 하 위 단계 S54는 생성된 궤적이 도장 로봇과 작업물 사이의 충돌을 포함하지 않는지 확인하기 위해 궤적 생성 하 위 단계 S51 동안 계산된 생성된 궤적(T)을 확인하며; 모델링하는 주요 단계 S1은 작업물 또는 생산 라인 상의 결함을 검출하도록 구성되는 품질 관리의 이차 단계 S60을 더 포함하고, 하위 단계 S41에서 측정된 변위 필드(Cd)를 작업물 상의 결함을 검출하기 위해 오류 검 출 임계값과 비교하거나, 및/또는 작업물의 포지셔닝 오류와 이에 따른 생산 라인의 결함을 검출하도록 하위 단계 S32에 의해 획득된 변환 행렬(MT)의 성분들을 오류 검출 임계값과 비교한다. 다른 양태에 따르면, 본 발명은 메모리 및 프로세서를 포함하는 계산 유닛에 관한 것으로, 메모리는 프로세스가 프로세서에 의해 실행될 때 본 발명에 따른 페인팅 프로세스를 구현하도록 구성된 프로그램을 포함한다. 또한, 다른 양태에 따르면, 본 발명은 프로세서 또는 컴퓨팅 유닛에 의해 실행될 때 본 발명에 따른 프로세스를 구현하도록 구성된 코드 데이터를 포함하는 컴퓨터 프로그램 제품(컴퓨터로 읽을 수 있는 기록매체)에 관한 것 이다. 또 다른 양태에 따르면, 본 발명은 프린트 헤드를 포함하는 도료 분무 장치가 장착된 로봇 팔, 광학 장치 및 측 정 시스템을 포함하는 획득 장치를 포함하는 도장 로봇에 관한 것으로, 도장 로봇은 본 발명에 따른 방법(공 정)을 구현하기 위해, 본 발명에 따른 계산 유닛을 포함하는 제어 스테이션에 의해 제어되도록 구성된다."}
{"patent_id": "10-2022-0124684", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "아래에서는 첨부한 도면을 참조하여 본 개시가 속하는 기술 분야에서 통상의 지식을 가진 자가 용이하게 실시할 수 있도록 본 개시의 실시예를 상세히 설명한다. 그러나 본 개시는 여러 가지 상이한 형태로 구현될 수 있으며 여기에서 설명하는 실시예에 한정되지 않는다. 그리고 도면에서 본 개시를 명확하게 설명하기 위해서 설명과 관 계없는 부분은 생략하였으며, 명세서 전체를 통하여 유사한 부분에 대해서는 유사한 도면 부호를 붙였다. 본 명세서의 실시예들에서 사용되는 용어는 본 개시의 기능을 고려하면서 가능한 현재 널리 사용되는 일반적인 용어들을 선택하였으나, 이는 당 분야에 종사하는 기술자의 의도 또는 판례, 새로운 기술의 출현 등에 따라 달 라질 수 있다. 또한, 특정한 경우는 출원인이 임의로 선정한 용어도 있으며, 이 경우 해당되는 실시예의 설명부분에서 상세히 그 의미를 기재할 것이다. 따라서 본 명세서에서 사용되는 용어는 단순한 용어의 명칭이 아닌, 그 용어가 가지는 의미와 본 개시의 전반에 걸친 내용을 토대로 정의되어야 한다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 또한 어떤 부분이 어떤 구성 요소를 \"포함\"한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다른 구성요소를 제외하는 것이 아니라 다른 구성요소를 더 포함할 수 있는 것을 의미한다. 이하 첨부된 도면을 참고하여 본 개시를 상세히 설명하기로 한다. 도 1은 본 발명에 따른 페인팅 공정의 개략도이며, 도 6은 본 발명의 일 양태에 따른 도장 로봇을 도시하며, 도 7은 본 발명에 따른 방법에 의해 획득된 공칭 3D 모델 및 사실적 3D 모델을 예시하는 개략도이다. 도 1, 도 6, 및 도 7을 참조하면, 본 발명의 일 실시예에 따른 방법은 도료 분무 장치가 장착된 로봇 팔 을 포함하는 도장 로봇을 사용하여 작업물을 도장하기 위한 공정에 관한 것으로, 방법은, 페인팅될 작업물의 대향되는 도장 궤적을 따라 도료 분무 장치를 이동시키면서 도료를 분무하는 주요 단계 S2에 앞 서, 작업물의 공칭 3D 모델(nominal 3D model)(3Dn)과 생산 라인의, 바람직하게는 도장 단계를 수행하기 전 에 작업물이 페인트 셀에 배치될 때의, 작업물에 대한 측정에 따라 생산 라인의 작업물에 대응하는 사 실적 3D 모델(3Dr)을 모델링하는 주요 단계 S1를 포함한다. 도료 분무 장치는 바람직하게는 프린트 헤드를 포함하지만, 대안적으로 분무기를 포함할 수 있다. 공칭 3D 모델(3Dn)은 제품의 공칭 치수와 함께 제품 설계 동안 정의된 작업물의 모델을 말한다. 공칭 3D 모 델(3Dn)은 CAD 모델, 즉 작업물을 모델링하는 컴퓨터 파일이 될 수 있다. 작업물의 공칭 3D 모델(3Dn)은 공칭 3D 모델(3Dn)에 연결된 기준 프레임(R1)에 모델링되고 위치 지정되어 작 업물의 공칭 3D 모델(3Dn)의 점들이 모두 기준 프레임(R1)에서 기준 좌표를 갖는다. . 사실적 3D 모델(3Dr)은 작업장에서 작업물을 나타내도록 구성되고, 따라서 작업물의 기하학적 결함 및 포 지셔닝 오류를 포함한다. 사실적 3D 모델(3Dr)을 모델링하는 이러한 주요 단계 S1은 다음의 이차 단계를 포함한다: - S10: 도장할 작업물의 3D 공칭 모델(3Dn) 상의 적어도 3개의 모델 특징점(Pm)의 기준 좌표(Cr)를 결정하는 단계로서, 모델 특징점(Pm)의 기준 좌표(Cr)를 기준 프레임(R1)으로 표현하는, 이차 단계; - S20: 작업물에서 적어도 3개의 실제 특징점(Pr)을 검출하는 단계로서, 실제 특징점(Pr)은 단계 S1 동안 각 각 결정된 특징점에 대응하는, 이차 단계; - S30: 도장 로봇에 대한 작업물의 위치 및 방향을 식별하는 이차 단계; - S40: 모델 특징점(Pm)을 해당 실제 특징점(Pr)의 각각의 좌표 쪽으로 이동시키도록, 즉 공칭 3D에 대한 모델 특징점(Pm)의 위치를 사실적 3D 모델(3Dr)에 대한 실제 특징점(Pr)의 위치와 일치시키도록 공칭 3D 모델(3Dn)에 예를 들어 늘리기, 비틀기, 굽힘과 같은 변형을 유발하는 응력 시뮬레이션을 적용하여 생산 라인상에 배치되고 변형된 작업물에 대응하는 작업물의 3D 모델인 사실적 3D 모델(3Dr)을 생성하는 이차 단계, 주요 단계 S1 및 S2를 한정하는 데 사용되는 형용사 \"주요\"는 해당 단계가 S10 내지 S40과 같이 적절한 경우 포 함하는 이차 단계보다 더 높은 수준을 갖는다는 것을 의미한다. 상기 관계는 본 명세서에서 이후에 언급되는 다 른 이차 단계에 대해서도 적용된다. 단계 S1 및 S2는 주요 단계로 간주될 수 있는 반면, 단계 S10 내지 S40 및 이하 언급되는 동일한 레벨의 다른 단계는 주요 단계 S1보다 낮은 수준인 이차 단계이다. 이러한 공정은 프로세서에 의해 실행될 때 모델링의 기본 단계 S1가 구현될 수 있게 하는 코드 데이터를 포함하 는 컴퓨터 프로그램을 사용하여 자동화된 계산 수단에 의해 구현된다. 따라서 본 발명은 또한 메모리 및 프로세서를 포함하는 계산 유닛에 관한 것으로, 이 메모리는 모 델링의 주요 단계 S1를 구현하도록 구성된 프로그램을 포함하고, 프로세서는 모델링의 기본 단계 S1을 수행 하기 위하여 프로그램을 구현하도록 구성된다.. 도장 로봇은 계산 유닛을 구비할 수 있거나, 대안적으로 계산 유닛은 오프-셋팅(off-setting), 예를 들어 도장 로봇의 제어 스테이션에 통합되거나 원격 컴퓨터에 통합될 수 있다. 모델링하는 주요 단계 S1에 의해 획득된 사실적 3D 모델(3Dr)은 다른 공정을 수행하기 위해 사용될 수 있다. 도장 방법에서, 특히, 서로 독립적으로 제어될 수 있는 복수의 도료 분무 노즐을 포함하는 프린트 헤드가 장착된 도장 로봇을 사용하여 수행되는, 작업물에 패턴을 인쇄하는 공정에서, 사실적 3D 모델(3Dr)은 프 린트 헤드의 새로운 궤적을 계산하고 도포 궤적을 정의하는 새로운 노즐 활성화 제어를 계산하는데 사용될 수 있다. 결정하는 이차 단계 S10 동안, 모델 특징점(Pm)은 작업물의 위치 및 기하학적 형상 또는 변형을 나타내는 데 사용될 공칭 3D 모델(3Dn)의 점들(points)을 지칭한다. 점들은 광학 센서 및 이미지 분석 프로세스에 의해 쉽게 감지될 수 있도록 선택되며, 작업물의 사실적 3D 모델(3Dr) 모델을 사용하는 방법에 따라 작업물의 관련 영역에 유리하게 포지셔닝 된다. 특징점의 선택, 특히 특징점의 개수와 작업물 상의 위치는 추구하는 목적, 즉 프레임의 재조정 또는 변형의 계산에 의존한다. 특징점은 작업물 끝단, 작업물 모서리, 세그먼트 중간점, 스타일 선, 모서리, 구멍, 꼭지점 또는 이미지 인식으로 쉽게 감지될 수 있는 임의의 점이 될 수 있다. 이러한 방식으로, 작업물 상의 실제 특 징점(Pr)을 검출하는 이차 단계 S20의 정확도를 향상시키는 것이 가능하다. 그러나, 작업물의 방향을 추론할 수 있도록 적어도 3개의 정렬되지 않은 특징점을 측정할 필요가 있다. 점들 의 개수가 많을수록 계산에 과부하가 걸리지만 모델링하는 주요 단계 S1의 정확도가 향상된다. 작업물의 결함을 검출하기 위한 용도에서, 품질 관리 공정에서, 이는 예를 들어 단단한 작업물보다 결함을 집중시키기 쉬운 작업물의 가장 취약하거나 덜 단단한 영역에 위치하는 특정 특징점에 대해 좀 더 적절하다. 이 러한 방식으로 결함 검출의 신뢰성이 향상된다. 도장 로봇의 궤적을 조정하기 위한 용도에서, 도장될 영역의 특정 특징점을 선택하는 것이 좀 더 적절하며, 이 는 상기 영역의 위치 및 기하학적 결함에 대한 보다 정확한 평가로 이어질 것이다. 도 2는 본 발명에 따른 페인팅 공정의 이차 단계 S20을 상세히 설명하는 개략도이다. 도 2를 참조하면, 작업물 상의 실제 특징점(Pr)을 검출하는 이차 단계 S20은 광학 장치는, LED 또는 레이저에 의해 광 패턴을 분 사하기 위한 장치와 관련이 있는지 여부에 관계없이, 예를 들어 3D 스캐너 또는 카메라와 같은 광학 장치 를 포함하는 획득 장치에 의해 수행되는 작업물의 이미지를 획득하는 하위 단계 S21를 포함한다. 바람직하게는, 이미지 획득 장치는 쌍안 광학 장치 및 광 패턴을 분사하기 위한 장치를 포함하며, 이는 예를 들어, 릴리프(reliefs) 와 같은 특정 지점의 검출을 용이하게 하는 것을 가능하게 한다. 다음으로, 이미지 분석을 하는 하위 단계 S22는 작업물의 실제 특징점(Pr)을 검출하기 위해 수행된다. 이미 지 분석을 하는 하위 단계 S22는 유리하게는 인공 지능 프로세스에 의해 학습된 알고리즘에 의해 구현된다. 따 라서, 검출하는 모든 새로운 이차 단계 S20에서, 검출된 실제 특징점(Pr)의 이미지는 이미지 분석 알고리즘이 훈련될 수 있도록 하는 데이터베이스에 저장된다. 이러한 방식으로, 실제 특징점(Pr)을 검출하는 이차 단계 S20 의 강건성을 향상시킬 수 있으며, 이는 이전에 발견되지 않은 변형 또는 포지셔닝 결함의 경우에도 실제 특징점 (Pr)을 검출하기 쉽게 한다. 측정된 실제 특징점(Pr)은 모델 특징점(Pm)으로 간주되는 공칭 3D 모델(3Dn)의 특징적인 시각적 요소와 동일한 작업물의 특징적인 시각적 요소이다. 따라서 모든 실제 특징점(Pr)은 모델 특징점 (Pm)에 대응된다. 다음으로 실제 특징점(Pr)의 좌표를 측정하는 하위 단계 S23이 획득 장치를 사용하여 수행된다. 획득 장치 는 측정 시스템 프레임(R2)과 관련된 3D 스캐너, 레이저 측정 시스템 또는 광학 장치를 포함한다. 측정 시 스템은 실제 특징점(Pr)을 측정 시스템 프레임(R2)의 좌표와 연관시킨다. 하위 단계 S22 내지 S23을 한정하기 위해 사용된 \"하위 단계\"라는 명칭은 상기 하위 단계가 동일한 것이 속하는 이차 단계 S20보다 낮은 수준임을 의미한다. 이러한 의미에서, 상기 하위 단계는 1차 및 이차 단계에 대한 3차 단계이다. 이러한 관계는 본 명세서에서 이후에 언급된 다른 하위 단계 및 동일한 이차 단계에 추가로 적용된다. 도 3은 본 발명에 따른 페인팅 공정의 이차 단계 S30을 상세히 설명하는 개략도이다. 도 3을 참조하면, 다음으 로, 변환 하위 단계 S31를 포함하는 식별하는 이차 단계 S30이 수행되며, 그 동안에 측정 시스템 프레임(R2)에 서 실제 특징점(Pr)의 좌표와 기준 프레임(R1)에 표현된 공칭 3D 모델(3Dn)의 모델 특징점(Pm)의 좌표가 동일한 공통 프레임에서 표현될 것이다. 기준 프레임(R1)과 로봇 프레임(R0)도 동일하게 적용될 수 있다. 측정 하위 단계 S23 동안, 획득 장치는 작업물의 실제 특징점(Pr)의 좌표를 측정하고 측정 시스템 프레 임(R2)에서 상기 좌표를 표현한다. 실제 특징점(Pr)의 좌표는 측정 시스템 프레임(R2)에서 로봇 프레임(R0)으로 옮겨진다. 실제로, 도장 로봇의 제어는 로봇 프레임(R0)에서 도장 로봇의 위치를 아는 것을 포함한다. 따라서, 도장 로봇의 모든 지점의 위치는 로봇 프레임(R0)에서 모든 시간에 걸쳐 알려져 있다. 따라서 도장 로봇에 장착된 측정 시스템의 위치 및 방향은 로봇 프레임(R0)에서 항상 알려져 있다. 측정 하위 단계 S23 동안, 측정 시스템은 측정 시스템에 대한 실제 특징점(Pr)의 위치를 평가한다. 로 봇 프레임(R0)에서 측정 시스템의 위치와 방향을 알고, 측정 시스템에 대한 실제 특징점(Pr)의 위치를 알면, 로봇 프레임(R0)에서 실제 특징점(Pr)의 위치를 계산하는 것이 가능하다. 처리된 작업물의 공칭 3D 모델(3Dn)은, 작업물의 모든 점의 좌표는 공칭 3D 모델(3Dn)에 연결된 좌표계인 기준 프레임(R1)에서 표현된다. 따라서, 처리될 작업물의 공칭 3D 모델(3Dn)의 모델 특징점(Pm)의 좌표는 기준 프레임(R1)에서 표현된다. 기준 프레임(R1)은 로봇 프레임(R0)에 구현되어, 이는 기준 프레임(R1)의 한 점의 좌표가 로봇 프레임(R0)에서 표현될 수 있도록 한다. 즉, 기준 프레임(R1)에서 로봇 프레임(R0)으로 변경하기 위한 제1 행렬(M10)을 알게 된 다. 실제로, 로봇 프레임(R0)은 도장 로봇을 제어하도록 구성된다. 도장 로봇은 프로그래밍되고 그 동작은 페 인트 셀 모델에서 모델링 및 시뮬레이션된다. 페인트 셀 모델에서 로봇 모델의 작동을 프로그래밍하기 위해 로 봇 모델은 모델 프레임(Rm)과 연결된다. 도장 로봇이 페인트 셀에서 로봇 모델의 동작을 반복하기 쉽도록 하 기 위해서는 모델 프레임(Rm)의 임의의 좌표를 로봇 프레임(R0)으로 바꿀 수 있어야 한다. 따라서, 모델 프레임 (Rm)에서 로봇 프레임(R0)으로 변경하기 위한 제2 행렬(Mm0)을 알게 된다. 실제로, 보정 단계는 페인트 셀의 모델과 실제 페인트 셀 사이의 공통 프레임으로 로봇 프레임(R0)을 사용할 수 있도록 모델 프레임(Rm)과 로봇 프레임(R0)의 원점을 연관시키는 데 유리하게 사용된다. 작업장 모델에서 공칭 3D 모델(3Dn)의 위치, 따라서 기준 프레임(R1)의 위치는 설계에 의해 정의되고 따라서 잘 알려져 있다. 따라서 기준 프레임(R1)에서 모델 프레임(Rm)으로 변경하기 위한 제3 행렬(M1m)을 알게 된다. 따라서, 모델 특징점(Pm)의 좌표와 실제 특징점(Pr)의 좌표, 예를 들어, 기준 프레임(R1) 또는 로봇 프레임(R0) 공통 프레임에서 표현하는 것이 가능핟. 다음으로, 전치하는 이차 단계 S30에 포함된 작업물 프레임(R3)을 계산하는 하위 단계 S32가 수행되며, 이 동안 작업물 프레임(R3)은 특징점 쌍으로부터 계산된다. 한 쌍의 특징점은 모델 특징점(Pm)과 대응되는 실제 특징점 (Pr)을 연결한다. 이러한 하위 단계는 다른 방법으로, 예를 들어 무게중심법(barycenter method)와 최소제곱법 또는 유사역 방법(pseudo-inverse method)을 결합하여 수행될 수 있다. 이러한 방식으로 계산된 작업물 프레임 (R3)은 연관된 모델 특징점(Pm)의 기준 프레임(R1)의 좌표와 실질적으로 동등한 작업물 프레임(R3)의 좌표를 실 제 특징점(Pr)에 할당하도록 구성된다. 즉, 작업물 프레임(R3)은 공칭 3D 모델(3Dn)에 대한 기준 프레임(R1)의 작업물에 대해 등가가 되도록 계산된 다. 따라서, 작업물 프레임(R3)은 로봇 프레임(R0)으로 표현될 것이다. 상기 단계는 로봇 프레임(R0)에서 기준 프레임(R1)으로부터 작업물 프레임(R3)으로의 변환 행렬(Mt)을 식별한다. 따라서 변환 행렬(Mt)의 계수는 기준 프레임(R1)에 대해, 따라서 공칭 3D 모델(3Dn)에 대해, 작업물 프레임(R3)의 회전 및 병진을 반영하며, 따라서 작업물의 회전 및 병진을 반영한다. 보다 구체적으로, 이러한 방식으로 도장 로봇에 대한 작업물의 위치 및 방향을 식별하는 것이 가능하다. 이러한 방식으로 작업물에 대해 프린트 헤드가 이동한 경로가 사실적 3D 모델(3Dr)에 대해 정의된 궤적과 일치하도록 작업물의 위치 및 방향에 따라 프린트 헤드의 궤적을 이동하는 것이 가능하다. 차체의 작업물의 도장에 적용되는 실시예에서, 공칭 3D 모델(3Dn)의 상이한 작업물의 점들의 좌표는 차량 의 공칭 3D 모델(3Dn)에 연결된 좌표 프레임으로 표현되고, 그런 다음 기준 프레임 역할을 한다. 기준 프레임 (R1)에서 로봇 프레임(R0)으로 변경하기 위한 행렬은 알려져 있으며, 로봇 프레임(R0)에서 차량의 공칭 3D 모델(3Dn)의 점들의 좌표를 표현하는데 사용될 수 있다. 따라서, 기준 프레임(R1)으로 표현된 차량의 모델 특징점(Pm)의 좌표는 로봇 프레임(R0)으로 표현된다. 로봇 프레임에서 실제 특징점(Pr)의 좌표를 식별하기 위해 측정 단계가 사용된다. 다음으로, 모든 실제 특징점 (Pr)은 특징점의 쌍을 형성하기 위해 대응하는 모델 특징점(Pm)과 연관된다. 그런 다음 실제 프레임을 계산하는 단계가 수행되어 공칭 3D 모델(3Dn)에 정의된 프린트 헤드의 궤적을 작업물로 바꾸는 것이 가능한다. 도 4는 본 발명에 따른 페인팅 공정의 이차 단계 S40을 상세히 설명하는 개략도이다. 도 4를 참조하면, 사실적 모델을 생성하는 이차 단계 S40 동안, 편차를 추정하는 하위 단계 S41가 수행되며, 그 동안: - 작업물 프레임 R3에 표현된 실제 특징점(Pr)의 좌표는 다음과 비교된다. - 기준 프레임 R1에 표현된 모델 특징점 (Pm)의 좌표. 동일한 프레임에서 실제 특징점(Pr)과 모델 특징점 사이의 절대 위치 편차를 비교함으로써, 얻어진 위치 편차는 복수의 원점을 가질 수 있다: 공칭 3D 모델(3Dn)에 대한 작업물의 변형, 또는 로봇에 대한 공칭 3D 모델 (3Dn)의 위치 또는 방향과 다른 로봇에 대한 작업물의 위치 또는 방향. 먼저 작업물(여기서는 작업물 프레임(R3))에 연결된 실제 기준을 계산하는 하위 단계 S32를 수행하고, 작업 물 프레임(R3)에서 실제 특징점(Pr)의 좌표를 표현함으로써, 작업물 2에서 측정된 실제 특징점(Pr)의 좌표로부 터 작업물 2의 방향 및 변위 성분을 제거할 수 있다. 따라서, 모델 특징점(Pm)과 이에 대응하는 실제 특징점(Pr) 사이에 남아 있는 위치 편차는 작업물의 변형으 로 간주된다. 편차를 추정하는 이러한 하위 단계 S41은 모든 모델 특징점(Pm)과 이에 대응하는 실제 특징점(Pr) 사이의 복수 의 변위 벡터(Vd)를 연관시키는 데 사용될 수 있으며, 이는 변위 필드(Cd)를 획득하는 것을 가능하게 한다. 응력 시뮬레이션 하위 단계 42는 3D 모델의 특징점과 작업물의 특징점 사이의 위치 편차를 최소화하기 위해 작업물의 3D 모델에 변형을 적용함으로써 수행된다. 즉, 3D 모델의 변형은 측정된 변위 필드(Cd)를 재현하기 위 해 힘을 가함으로써 시뮬레이션 된다. 이러한 방식으로 작업물과 실질적으로 동일한 기하학적 형상으로 사실 적 3D 모델(3Dr)을 생성할 수 있다. 따라서, 공칭 3D 모델(3Dn)은 도장될 작업물에 대응하는 사실적 3D 모델(3Dr)을 생성하도록 수정된다. 프린트 헤드의 궤도를 작업물의 변형에 적응시키기 위해 프린트 헤드에 대한 새로운 궤도를 할당하는 이차 단계 S50가 수행된다. 공칭 3D 모델(3Dn)은 프린트 헤드의 궤적 또는 도장 궤적(T0)에 대한 정보를 도장 궤적(T0)의 모든 지점 또 는 세그먼트와 관련된 활성화 정보와 함께 포함하며, 활성화 정보는 도장 궤적(T)의 모든 지점 또는 세그먼트에 대한 프린트 헤드의 모든 노즐의 활성화를 나타내는 정보이다. 이차 단계 S50 동안, 새로운 궤적, 또는 할당된 궤적(T1), 및 이에 연관된 노즐 활성화 정보가 사실적 3D 모델 (3Dr)과 일치하도록 선택될 것이다. 복수의 방법이 이러한 궤적을 선택하기 위해 사용될 수 있다. 도 5는 본 발명에 따른 페인팅 공정의 이차 단계 S50을 상세히 설명하는 개략도이다. 도 5를 참조하면, 이차 단 계 S50에 포함되는 궤적 생성 하위 단계 S51은 사실적 3D 모델(3Dr)에 적합한, 생성된 궤적(T2)을 생성하기 위 해 수행될 수 있다. 이러한 생성 하위 단계 S51은 프랑스 특허 출원 FR-A-3111586에 상세하게 설명되어 있으며, 그 내용은 참조로 포함되며, 여기서 상세하게 설명되지 않을 것이다. 특허출원 FR-A-3111586은 컴퓨터에 의해 수행되고 다음으로 구성된 다음의 연속 단계의 구현을 설명한다: - a) 코팅될 표면을 모델링하는 컴퓨터 파일로부터 자동적인 계산을 이용하여, 코팅될 표면의 세그먼트를 정의 하는 단계; - b) 자동적인 계산 및 반복에 의해 코팅될 표면의 세그먼트에 대향하여 있는 궤적을 정의하는 단계 상기 궤적은 모든 주목할 만한 지점, 관찰되는 프린트 헤드의 방향에서 프린트 헤드의 결정된 지점에 의해 도달 되는 일련의 주목할 만한 지점들에 의해 형성되는 단계;- c) 코팅될 표면을 모델링하는 컴퓨터 파일로부터 코팅될 세그먼트를, 계산에 의해, 제거하는 단계; - d) 코팅될, 모델링된 표면이 영의 표면적을 가질 때까지 단계 a)를 반복하는 단계; - e) 모든 궤적에서 프린트 헤드 노즐을 활성화하기 위한 프로그램을 정의하는 단계; 그리고 궤적 생성 하위 단계 S51의 실행 동안, 단계 a) 내지 e)의 실행은, 코팅될 표면의 3D 모델로부터 정의된 점, 세 그먼트 또는 에지와 같이 코팅될 표면의 주변에서 식별된 단순 요소로부터 시작하여, 프린트 헤드와 왕복함으로 써 코팅할 표면만을 따라서 로봇의 3차원 궤적을 생성할 수 있게 한다. 이러한 방식으로 코팅될 표면에 코팅제 를 도포하기 위하여 프린트 헤드 노즐에 대한 활성화 프로그램이 자동으로 생성되어, 프린트 헤드의 올바른 방 향으로 코팅될 표면에 코팅제품이 도포될 수 있다. 특허출원 FR-A-3111586은 다음을 추가로 설명한다: 단계 b)는 다음으로 구성된 연속적인 하위 단계를 포함한다: - bA) 반복에 의해 코팅될 표면 세그먼트의 일부를 정의한다. - bB) 하위 단계 bA)에서 정의된 세그먼트에 대한 충돌 지점과 충돌 지점에서 프린트 헤드의 배향 축을 계산하 는 단계; - bC) 계산에 의해 코팅될 표면 세그먼트의 일부를 제거하는 단계; - bD) 코팅될 표면의 세그먼트가 영의 표면적을 가질 때까지 단계 bA)를 반복하는 단계; - bE) 코팅될 세그먼트를 따라 프린트 헤드의 외측 이동에 대응하는 궤적의 일부를 생성하는 단계; 그리고 - bF) 프린트 헤드에서 나오는 코팅제 스트림의 너비와 코팅될 세그먼트의 너비에 따라, 적절한 경우, 코팅할 세그먼트를 따라 프린트 헤드의 반환 또는 추가적인 외측 이동에 해당하는 궤적의 일부를 생성하는 단계. 코팅될 표면이 코팅되지 않아야 할 하나 이상의 구역을 포함하는 경우, 공정은 b) 및 c) 단계 사이에 수행되는 다음의 추가 단계를 포함한다: - g) 물체에 부딪히지 않도록 프린트 헤드의 궤적을 코팅되지 않아야 할 영역에 맞추는 단계. 단계 a)는 다음으로 구성된 적어도 연속적인 하위 단계를 포함한다: - a1) 다음을 갖는 첫 번째 직교 프레임을 정의하는 단계 - 컴퓨터 파일을 사용하여 공간 표현에서 코팅될 표면 근처에 위치한 가상의 지지 표면 또는 코팅될 표면에서 사용자가 선택한 지점에서 그 원점 - 지지면 또는 원점의 표면에 수직인 높이 축, - 세로축은 높이 축과 사용자가 선택한 정방향을 따라 정렬된 축 사이의 벡터 곱이고, - 가로축은 세로축과 높이축 사이의 벡터 곱이다. - a2) 제1 법선을 정의하고 그 값을 벡터와 동일한 것으로 시작하는 단계로서, 상기 벡터의 방향이 가장 최근에 정의된 제1 직교 프레임의 높이 축인, 단계; - a3) 제1 직교 프레임에서, 제1 지점을 코팅될 표면 상의 점으로 정의하는 단계로서, 상기 점의 세로축 좌표는 코팅될 표면 상의 점들 중 제1 직교 프레임에서 가장 높은, 단계; - a4) 제1 직교 프레임에서, 제1 지점을 기준으로, 코팅될 표면 상에서 제1 지점에 대해 세로축을 따라 측정된 제1 거리에서 상기 축을 따라 음의 방향으로 위치한 지점으로서 제 2 지점을 정의하는 단계로서, 상기 제1 거리 는 프린트 헤드 상의 노즐 분포에 따라 설정되는, 단계; - a5) 제1 직교 프레임의 세로축에 수직이고 제1 및 제2 점을 각각 통과하는 제1 평면과 제2 평면 사이에서 정 의되는 코팅될 표면의 임시 세그먼트에 대한 평균 법선을 계산하는 단계; - a6) 제1 법선과 평균 법선을 비교하는 단계; - a7) 단계 a6)에서 제1 법선과 평균 법선이 다른 것으로 식별되는 경우, - a71) 제1 법선을 평균 법선과 동일하게 재정의하는 단계; - a72) 상기 새로운 제1 법선을 고려하여 제1 직교 프레임을 재정의하는 단계; - a73) 하위 단계 a3) 내지 a6)을 반복하는 단계; - a8) 제1 법선과 평균 법선이 단계 a6)에서 동일한 것으로 식별되면, 코팅될 세그먼트를 단계 a5)의 임시 세그 먼트와 동일한 것으로 정의하는 단계. 단계 b)는 다음으로 구성된 적어도 연속적인 하위 단계를 포함한다: - b1) 제1 지점을 원점으로 가지고 단계 a1) 또는 단계 a72)에서 마지막으로 정의된 제1 직교 프레임의 축과 일 치하는 가로축, 세로축 및 높이 축을 가지는 제2 직교 프레임을 정의하는 단계; - b2) 새로운 가로축을 제2 직교 프레임의 가로축으로 정의하는 단계; - b3) 제2 직교 프레임에서, 초기 지점을 코팅될 표면의 세그먼트 상의 한 점 정의하는 단계로서, 상기 점의 가 로축 좌표는 세그먼트 상의 지점 중 가장 낮은 지점인, 단계; - b4) 제2 직교 프레임에서, 컷오프 지점을 코팅될 표면 세그먼트 상의 한 점으로 정의하며, 상기 점은 초기 지 점에 대해 그리고 주어진 거리에서 새로운 가로축을 따라 위치하는, 단계; - b5) 새로운 가로축에 수직하며 시작점과 절단점을 각각 통과하는 제3 평면과 제4 평면 사이에 정의된, 코팅될 표면 세그먼트의 임시 부분에 대한 평균 법선을 계산하는 단계; - b6) 단계 b5)에서 계산된 평균 법선과 제2 직교 프레임의 세로축의 반대 방향 사이의 정규화된 벡터 곱과 동 일한 임시 세로축을 계산하는 단계; - b7) 새로운 가로축과 임시 세로축을 비교하는 단계; - b8) 단계 b7)에서 새로운 가로축과 임시 세로축이 다른 것으로 식별되는 경우, - b81) 새로운 가로축을 임시 세로축과 동일한 것으로 재정의하는 단계; - b82) 하위 단계 b3) 내지 b7)을 반복하는 단계 - b9) 새로운 가로축과 임시 세로축이 단계 b7)에서 동일한 것으로 식별되는 경우, 코팅될 세그먼트의 일부를 단계 b5)의 임시 세그먼트와 동일한 것으로 정의하는 단계; 단계 b)는 하위 단계 b1) 내지 b9)에 이어지는 적어도 연속적인 하위 단계를 포함하고 다음으로 구성된다: - b10) 새로운 가로축과 제2 직교 프레임의 세로축의 반대 방향 사이의 벡터 곱과 동일한 프린트 헤드의 방향 벡터를 계산하는 단계; - b11) 중심점을 정의하는 단계로서, 중심점으로 정의된 점은, - 새로운 축과 동일한 방향 벡터를 갖고 초기점을 통과하는 선 상의 절단점과 초기점의 직교 투영들 사이의 중 간에 위치하고 - 제2 직교 프레임의 세로축을 따라 측정된 초기점으로부터의 제1 거리의 절반과 동일한 제3 거리에서 그리고 상기 축을 따른 음의 방향으로 위치하는, 단계; - b12) 충돌 지점을 라인을 따라 코팅될 표면의 세그먼트 부분 상의 중심점의 투영으로서 정의하는 단계로서, 상기 라인의 지시자 벡터(director vector)가 프린트 헤드의 방향 벡터인, 단계; - b13) 충돌 지점이 존재하는 경우, 충돌 지점과 프린트 헤드 방향 벡터를 궤적에 추가하는 단계. 프린트 헤드의 노즐은 평행한 열로 배열되는 반면에, 중심점의 제2 직교 프레임의 새로운 가로축을 따른 가로 좌표는, 초기점을 통과하며 새로운 축과 동일한 지시자 벡터를 갖는 선 상의 초기점과 절단점의 수직 투영의 가 로 좌표의 절반 합과 같으며, 중심점은 상기 선에 대해 제2 직교 프레임의 세로축의 방향과 반대 방향으로 세로 축을 따라 측정되며 노즐의 열 개수와 두개 열 사이 거리의 곱의 절반과 같은 거리만큼 이동된다. 단계 b12)의 충돌 지점이 존재하지 않는 경우, 라인의 지시자 벡터가 프린트 헤드의 방향 벡터이고 중심점을 통 과하는 라인을 따라 코팅될 표면의 세그먼트에 재료가 없기 때문에, 추가적인 하위 단계는 다음으로 구성된 하위 단계 b12)와 b13) 사이에 구현된다: - b14) 상기 프린트 헤드의 방향 벡터에 평행한 축을 따라 위치가 상기 벡터와 반대 방향으로 가장 먼 극점을 코팅될 세그먼트의 부분에서 찾는 단계; - b15) 대안적인 충돌 지점을 정의하기 위해 프린트 헤드의 방향 벡터에 평행하고 중심점을 통과하는 축에 상기 극점을 투영하는 단계; - b16) 처리 중에 충격 지점을 코팅될 세그먼트의 부분에 대한 대체 충격 지점으로 동화시키는 단계. 단계 b)는 하위 단계 b1) 내지 b13)에 이어지는 적어도 연속적인 하위 단계를 포함하고 다음으로 구성된다: - b18) 코팅될 표면의 세그먼트를 세그먼트의 일부, 특히 b9) 단계에서 정의된 세그먼트의 일부로 줄이는 단계; - b19) 코팅될 표면의 세그먼트가 영이 아닌 표면적을 갖는지 여부를 결정하는 단계; - b20) 단계 b19)의 판정 결과가 긍정적이면, 하위 단계 b3) 내지 b19)를 다시 수행하는 단계. 단계 b)는 하위 단계 b1) 내지 b13)에 이어지는 적어도 연속적인 하위 단계를 포함하고 다음으로 구성된다: - b21) 모든 충격 지점에서 프린트 헤드의 축 벡터를 상기 지점에서의 프린트 헤드의 방향 벡터와 제2 직교 프 레임의 세로축 사이의 정규화된 벡터 곱과 동일한 것으로 정의하는 단계; - b23) 충돌 지점, 프린트 헤드 상의 노즐(들) 분포, 프린트 헤드의 축 벡터 및 제2 직교 프레임의 세로축으로 부터 도달해야 하는 현저한 지점을 정의하는 단계; - b24) 상기 현저한 지점과 궤적의 충돌 지점에서의 프린트 헤드의 방향 벡터를 포함하는 단계. 단계 b)는 단계 b24)에서 계산되는 점들에 더하여, 코팅될 표면의 모든 세그먼트에 대해 정의된 궤적에 적어도 하나의 진입점 및/또는 적어도 하나의 출구점을 추가하는 추가 하위 단계를 포함하며, 및/또는 단계 b)는 궤적의 현저한 점들의 개수를 최적화하는 추가 하위 단계를 포함하며, 해당 단계 동안 적어도 하나의 현저한 점, 즉, 동일하게 선행하는 점과 동일 선상에 있고 궤적을 따라 동일하게 따르는 점과 동일 선상에 있고, 방향 축은 동일하게 선행하는 점의 방향 축과 평행하고, 궤적을 따라 동일하게 따르는 점의 방향 축과 평 행한 현저한 점이 제거된다. 단계 b)는 프린트 헤드로부터 오는 코팅제 스트림의 폭과 코팅될 표면 세그먼트의 폭에 따라, 코팅할 세그먼트 를 코팅하기 위해 수행되는 프린트 헤드의 궤도 개수를 결정하는 하위 단계를 포함하며, 적절한 경우, 제1 정방 향 이동에 이어지는 궤적의 하나의 세그먼트 또는 세그먼트들은 궤적의 선행 세그먼트에 대해 단계 b22)에서 정 의되는 현저한 점들의 순서를 역전시킴으로써 계산된다. 하위 단계 a71) 내지 a73) 또는 하위 단계 b81) 및 b82)는 반복 횟수의 한계에 도달할 때까지 수행된다. 단계 b)에서 정의된 궤적으로부터, 컴퓨터는, 프린트 헤드의 모든 노즐에 대해, 프린트 헤드의 일련의 정방향 이동 단계에 걸쳐 코팅될 거리 또는 코팅되지 않을 거리를 계산한다. 단계 e)는 다음으로 구성된 하위 단계를 포함한다: - e1) 이산화된 위치를 사용하여 궤적의 현저한 지점들 사이에서 프린트 헤드의 움직임을 이산화하는 것; - e2) 하위 단계 e1)에서 이산화된 모든 위치의 모든 노즐로부터의 충돌 지점의 존재를 결정하는 단계; - e3) 궤적의 모든 이산화된 위치에서 코팅될 거리 또는 코팅되지 않을 거리를 계산하고, 적절한 경우 노즐과 기준 노즐 사이의 거리에 따라 승수 계수를 계산하는 단계; 및 - e4) 궤적을 따라 노즐을 활성화하기 위한 프로그래밍 파일을 구축하는 단계. 상기와 같은 요소들은 특허출원 FR-A-3111586에 상세하게 설명되어 있으며 본 출원에 참조로 포함된 그 내용을 참조한다. 유리하게는, 다음으로 궤적 생성 하위 단계 S51 동안 생성된 모든 궤적(T2)이 저장 하위 단계 S52 동안 대응하 는 사실적 3D 모델(3Dr)과 연관된 데이터베이스에 저장된다. 유리하게는, 할당하는 이차 단계 S50은 사실적 3D 모델(3Dr)이 목록화된 데이터베이스에 저장된 3D 모델과 및 그와 관련되어 생성된 도장 궤적(T2)을 비교하는 비교 하위 단계 S53를 더 포함하며, 비교 하위 단계 S53은 모델 생성의 이차 단계 S40 이후에 수행되며, 유리하게는 궤적 생성의 하위 단계 S51 전에 수행된다. 비교 하위 단계 S53 동안, 모델 생성의 하위 단계 S40를 수행함으로써 획득된 사실적 3D 모델(3Dr)은 데이터베 이스에 저장된 3D 사실적 3Dr 모델과 비교된다. 모델 생성 단계 S40의 실행 이후에 획득된 사실적 3D 모델(3Dr)이 데이터베이스의 항목에 실질적으로 대응하는 경우, 상기 항목과 관련된 생성된 궤적(T2)은 작업물을 도장하는 단계 동안에 사실적 3D 모델(3Dr)에 적용된다. 이러한 방식으로, 프로세스를 구현하는 데 필요한 계산이 제한되어, 필요하지 않은 경우 궤적 생성의 하위 단계 S51의 실행을 방지하여 시간과 에너지를 절약한다. 모델 생성 단계 S40의 실행에 따라 획득된 사실적 3D 모델(3Dr)의 특징점의 좌표는 Ce 오류 필드를 얻기 위해 데이터베이스의 3D 모델의 특징점의 좌표와 비교된다 이러한 점들의 좌표는, 변형에 연결된 기하학적 편차만을 비교하기 위해, 한편으로는 사실적 3D 모델(3Dr)에 상응하게 연결된 작업물 프레임(R3)에서 표현되며, 다른 한 편으로는 데이터베이스의 3D 모델에 상응하게 연결된 작업물 프레임 R3에서 표현된다. 사실적 3D 모델(3Dr)과 데이터베이스로부터의 3D 모델 사이의 대응은, 모든 오류가 애플리케이션 제약에 따라 사용자에 의해 설정된 제1 임계값보다 작은 경우 그리고 모든 오류의 제곱의 합이 사용자가 정의한 제2 임계값 보다 작은 경우에, 관찰된다. 제1 임계값과 제2 임계값은 사용자가 달성하고자 하는 품질 및 성능 제약 조건에 따라 사용자가 결정한다. 제1 임계값은 예를 들어 1/10 밀리미터 정도의 크기를 가지며 제2 임계값은 예를 들어 1밀리미터 정도 크기를 가질 수 있다. 모델 생성 단계 S40의 실행 후에 획득된 사실적 3D 모델(3Dr)이 데이터베이스의 항목에 대응하지 않는 경우, 사 실적 3D 모델(3Dr)에 대응하는 새로운 인쇄 궤적을 계산하기 위하여 궤적 생성 하위 단계 S51이 실행된다. 궤적 생성 하위 단계 S51은 \"온라인\"(즉, 궤적 생성 하위 단계 S51의 실행 동안 생산 라인이 중지됨) 또는 \"오 프라인\"(즉, 생산 라인에서 작업물을 취하여 수행되며, 이는 다음 작업물을 위한 새로운 공정을 시작하고 생산 라인의 흐름을 극대화할 수 있다)으로 수행될 수 있다. 작업물이 생산 라인에서 제거된 후, 궤적 생성 하위 단 계 S51이 수행되고, 데이터베이스에 있는 표면에 대해 계산된 궤적이 데이터베이스 저장 하위 단계 S52가 실행 되는 동안에 연관되는 사실적 3D 모델(3Dr)과 함께 저장되고, 데이터베이스에 새 항목을 생성한다. 선택적으로, 인증 하위 단계 S54는 저장 하위 단계 S52가 실행되기 전에 수행되며, 그 동안에, 궤적 생성 하위 단계 S51 동안 계산된 궤적 T2가, 계산된 생성된 궤적 T2가 도장 로봇과 작업물 사이의 충돌을 포함하지 않는지를 확인하기 위해, 검사된다. 인증 하위 단계 S54는 생성된 궤적(T2)을 사용하여 도장 단계를 구현하는 것을 관찰함으로써 또는 도장 단계의 수치 시뮬레이션에 의해 오퍼레이터에 의해 제공될 수 있다. 이러한 방식으로, 인증된 일치 궤적만이 데이터베이스에 저장되며, 이는 생산 동안 작업물의 열화 위험을 제한 한다. 또한, 궤적 생성 하위 단계 S51 동안, 작업물과의 임의의 충돌을 방지하기 위해 로봇에 웨이포인트(waypoints) 를 부과하거나 궤적의 모든 지점이 위치되어야 하는 공차 공간(tolerance space)을 생성하는 것이 유리하다. 공 차 공간은 예를 들어 서로 주어진 거리에 위치하는 작업물의 공칭 3D 모델(3Dn)에 대응하는 두 개의 표면을 배 치하거나 모든 궤적 지점에 방향 및 위치 제약 조건을 적용하여 얻으며, 예를 들어 생성된 궤적의 모든 지점은 생성된 궤적의 상기 지점에서 작업물에 대한 법선에 대해 45° 개방 원추, 바람직하게는 20° 개방 원추 내에서 방향을 가져야 한다. 이러한 방식으로 새로운 궤적을 생성하는 동안 제약을 부과하는 것이 가능하며, 이는 로봇과 작업물 사이의 충 돌 위험을 방지한다. 유리하게는, 품질 관리의 이차 단계 S60은 모델 생성 프로세스 동안 계산된 상이한 요소를 사용하여 수행될 수 있다. 상이한 검출 임계값은 예를 들어 두 요소, 즉 작업물 프레임을 계산하는 하위 단계 S32에서 결정된 프레임 변환 행렬(Mt)과 편차를 추정하는 하위 단계 S41에서 결정된 변위 필드(Cd)에 적용될 수 있다. 비교 하위 단계 S53와 유사한 방식으로, 측정된 변위 필드(Cd)는 오류 검출 임계값과 비교되며, 필드 벡터 중 하나가 오류 검출 임계값을 초과하는 경우 작업물이 부적합으로 간주되고, 변위의 합이 상기 임계값을 초과하는 경우 작업물이 부적합하다고 선언하기 위해 변위의 합이 제2 검출 임계값과 추가로 비교되는 식으로 구성된다. 변환 행렬(Mt)의 성분들은 오류 검출 임계값과 비교된다: 모든 변환 서운는 제1 임계값 미만이어야 하고, 변환 성분의 합은 제2 임계값 미만이어야 하며, 회전 성분은 모두 제3 임계값보다 작아야 하며, 회전 성분의 합은 제 4 임계값보다 작아야 한다. 먼저 프레임 변환 행렬의 회전 성분을 비교할 필요가 있다: 회전 성분의 합이 결함 감지 임계값에 도달되지 않 는다면 회전 성분에 대한 결함 감지 임계값의 비교가 수행된다; 회전 성분이 임계값 중 하나에 도달하면 작업물 이 잘못 배치된 것으로 선언된다. 이러한 방식으로 생산 라인의 부적합 작업이 식별된다. 로봇 프레임의 원점에 대한 작업물의 이론적 위치가 알려져 있으므로, 프레임 변환 행렬의 회전 성분에 따른 회 전과 관련된 이론적 병진 이동(translation)이 계산될 수 있다. 그 다음, 병진 이동 성분은 회전과 관련된 이론적인 병진 이동과 비교된다. 이러한 방식으로 포지셔닝 오류를 얻을 수 있다. 포지셔닝 오류는 오류 감지 임계값과 비교된다. 포지셔닝 오류가 임계값에 도달하면 작업물이 잘 못 배치된 것으로 선언된다. 이러한 방식으로 생산 라인의 작동에서 결함을 감지하는 것이 가능한다. 따라서, 작업물 모델링의 주요 단계 S1은 작업물에 도장될 영역 및 수행될 궤적을 모델링하는 것 외에도, 특 정 임계점에서의 변형을 공차 임계값과 비교함으로써 작업물의 품질 관리를 하는데 사용될 수 있다. 이러한 방 식으로 생산 라인의 품질이 저하되는지 여부를 감지하고 이에 대해 개입할 수 있다. 이러한 방식으로, 생산 라인의 특징적인 변형을 검출하고 미리 저장되고 상기 특징적인 변형에 대응하는 도장 궤적을 직접 적용하는 것이 가능하여, 도장 궤적의 계산을 제한함으로써 컴퓨팅 파워를 절약할 수 있다. 전술한 본 발명인 실제 작업물에 적합한 궤적 생성을 포함하는 작업물 도장 방법은 이해를 돕기 위하여 도면에 도시된 실시예를 참고로 설명되었으나, 이는 예시적인 것에 불과하며, 당해 분야에서 통상적 지식을 가진 자라 면 이로부터 다양한 변형 및 균등한 타 실시예가 가능하다는 점을 이해할 것이다. 따라서, 본 발명의 진정한 기 술적 보호 범위는 첨부된 특허청구범위에 의해 정해져야 할 것이다."}
{"patent_id": "10-2022-0124684", "section": "도면", "subsection": "도면설명", "item": 1, "content": "본 발명의 특징 및 이점은 하기의 설명을 읽을 때 보다 명확하게 나타날 것이며, 이는 단지 비제한적인 예로서 제공되며, 첨부된 도면을 참조하여 이루어진다: 도 1은 본 발명에 따른 페인팅 공정의 개략도이다. 도 2는 본 발명에 따른 페인팅 공정의 이차 단계 S20을 상세히 설명하는 개략도이다. 도 3은 본 발명에 따른 페인팅 공정의 이차 단계 S30을 상세히 설명하는 개략도이다. 도 4는 본 발명에 따른 페인팅 공정의 이차 단계 S40을 상세히 설명하는 개략도이다. 도 5는 본 발명에 따른 페인팅 공정의 이차 단계 S50을 상세히 설명하는 개략도이다. 도 6은 본 발명의 일 양태에 따른 도장 로봇을 도시한다. 도 7은 본 발명에 따른 방법에 의해 획득된 공칭 3D 모델 및 사실적 3D 모델을 예시하는 개략도이다."}
