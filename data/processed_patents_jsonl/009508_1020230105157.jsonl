{"patent_id": "10-2023-0105157", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0023871", "출원번호": "10-2023-0105157", "발명의 명칭": "무선 통신 시스템에서 포지셔닝 방법 및 장치", "출원인": "삼성전자주식회사", "발명자": "신철규"}}
{"patent_id": "10-2023-0105157", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "무선 통신 시스템에서 제어 신호 처리 방법에 있어서,기지국으로부터 전송되는 제1 제어 신호를 수신하는 단계;상기 수신된 제1 제어 신호를 처리하는 단계; 및상기 처리에 기반하여 생성된 제2 제어 신호를 상기 기지국으로 전송하는 단계를 포함하는 것을 특징으로 하는제어 신호 처리 방법."}
{"patent_id": "10-2023-0105157", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 개시는 보다 높은 데이터 전송률을 지원하기 위한 5G 또는 6G 통신 시스템에 관련된 것이다. 보다 구체적으로, 본 개시는 무선 통신 시스템에서 포지셔닝을 지원하기 위한 방법 및 장치를 제공한다."}
{"patent_id": "10-2023-0105157", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 개시는 무선 통신 시스템에 관한 것으로, 특히 포지셔닝(예: 위치 측정)을 수행하는 방법 및 장치에 관한 것 이다."}
{"patent_id": "10-2023-0105157", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "5G 이동통신 기술은 빠른 전송 속도와 새로운 서비스가 가능하도록 넓은 주파수 대역을 정의하고 있으며, 3.5 기가헤르츠(3.5GHz) 등 6GHz 이하 주파수('Sub 6GHz') 대역은 물론 28GHz와 39GHz 등 밀리미터파(㎜Wave)로 불 리는 초고주파 대역('Above 6GHz')에서도 구현이 가능하다. 또한, 5G 통신 이후(Beyond 5G)의 시스템이라 불리 어지는 6G 이동통신 기술의 경우, 5G 이동통신 기술 대비 50배 빨라진 전송 속도와 10분의 1로 줄어든 초저 (Ultra Low) 지연시간을 달성하기 위해 테라헤르츠(Terahertz) 대역(예를 들어, 95GHz에서 3 테라헤르츠(3THz) 대역과 같은)에서의 구현이 고려되고 있다. 5G 이동통신 기술의 초기에는, 초광대역 서비스(enhanced Mobile BroadBand, eMBB), 고신뢰/초저지연 통신 (Ultra-Reliable Low-Latency Communications, URLLC), 대규모 기계식 통신 (massive Machine-Type Communications, mMTC)에 대한 서비스 지원과 성능 요구사항 만족을 목표로, 초고주파 대역에서의 전파의 경로 손실 완화 및 전파의 전달 거리를 증가시키기 위한 빔포밍(Beamforming) 및 거대 배열 다중 입출력(Massive MIMO), 초고주파수 자원의 효율적 활용을 위한 다양한 뉴머롤로지 지원(복수 개의 서브캐리어 간격 운용 등)와 슬롯 포맷에 대한 동적 운영, 다중 빔 전송 및 광대역을 지원하기 위한 초기 접속 기술, BWP(Band-Width Part) 의 정의 및 운영, 대용량 데이터 전송을 위한 LDPC(Low Density Parity Check) 부호와 제어 정보의 신뢰성 높은 전송을 위한 폴라 코드(Polar Code)와 같은 새로운 채널 코딩 방법, L2 선-처리(L2 pre-processing), 특정 서 비스에 특화된 전용 네트워크를 제공하는 네트워크 슬라이싱(Network Slicing) 등에 대한 표준화가 진행되었다. 현재, 5G 이동통신 기술이 지원하고자 했던 서비스들을 고려하여 초기의 5G 이동통신 기술 개선(improvement) 및 성능 향상(enhancement)을 위한 논의가 진행 중에 있으며, 차량이 전송하는 자신의 위치 및 상태 정보에 기 반하여 자율주행 차량의 주행 판단을 돕고 사용자의 편의를 증대하기 위한 V2X(Vehicle-to-Everything), 비면허 대역에서 각종 규제 상 요구사항들에 부합하는 시스템 동작을 목적으로 하는 NR-U(New Radio Unlicensed), NR 단말 저전력 소모 기술(UE Power Saving), 지상 망과의 통신이 불가능한 지역에서 커버리지 확보를 위한 단말- 위성 직접 통신인 비 지상 네트워크(Non-Terrestrial Network, NTN), 위치 측위(Positioning) 등의 기술에 대 한 물리계층 표준화가 진행 중이다. 뿐만 아니라, 타 산업과의 연계 및 융합을 통한 새로운 서비스 지원을 위한 지능형 공장 (Industrial Internet of Things, IIoT), 무선 백홀 링크와 액세스 링크를 통합 지원하여 네트워크 서비스 지역 확장을 위한 노드를 제공하는 IAB(Integrated Access and Backhaul), 조건부 핸드오버(Conditional Handover) 및 DAPS(Dual Active Protocol Stack) 핸드오버를 포함하는 이동성 향상 기술(Mobility Enhancement), 랜덤액세스 절차를 간소화하 는 2 단계 랜덤액세스(2-step RACH for NR) 등의 기술에 대한 무선 인터페이스 아키텍쳐/프로토콜 분야의 표준 화 역시 진행 중에 있으며, 네트워크 기능 가상화(Network Functions Virtualization, NFV) 및 소프트웨어 정의 네트워킹(Software-Defined Networking, SDN) 기술의 접목을 위한 5G 베이스라인 아키텍쳐(예를 들어, Service based Architecture, Service based Interface), 단말의 위치에 기반하여 서비스를 제공받는 모바일 엣지 컴퓨팅(Mobile Edge Computing, MEC) 등에 대한 시스템 아키텍쳐/서비스 분야의 표준화도 진행 중이다. 이와 같은 5G 이동통신 시스템이 상용화되면, 폭발적인 증가 추세에 있는 커넥티드 기기들이 통신 네트워크에 연결될 것이며, 이에 따라 5G 이동통신 시스템의 기능 및 성능 강화와 커넥티드 기기들의 통합 운용이 필요할 것으로 예상된다. 이를 위해, 증강현실(Augmented Reality, AR), 가상현실(Virtual Reality, VR), 혼합 현실 (Mixed Reality, MR) 등을 효율적으로 지원하기 위한 확장 현실(eXtended Reality, XR), 인공지능(Artificial Intelligence, AI) 및 머신러닝(Machine Learning, ML)을 활용한 5G 성능 개선 및 복잡도 감소, AI 서비스 지 원, 메타버스 서비스 지원, 드론 통신 등에 대한 새로운 연구가 진행될 예정이다. 또한, 이러한 5G 이동통신 시스템의 발전은 6G 이동통신 기술의 테라헤르츠 대역에서의 커버리지 보장을 위한 신규 파형(Waveform), 전차원 다중입출력(Full Dimensional MIMO, FD-MIMO), 어레이 안테나(Array Antenna), 대규모 안테나(Large Scale Antenna)와 같은 다중 안테나 전송 기술, 테라헤르츠 대역 신호의 커버리지를 개선 하기 위해 메타물질(Metamaterial) 기반 렌즈 및 안테나, OAM(Orbital Angular Momentum)을 이용한 고차원 공 간 다중화 기술, RIS(Reconfigurable Intelligent Surface) 기술 뿐만 아니라, 6G 이동통신 기술의 주파수 효 율 향상 및 시스템 네트워크 개선을 위한 전이중화(Full Duplex) 기술, 위성(Satellite), AI(Artificial Intelligence)를 설계 단계에서부터 활용하고 종단간(End-to-End) AI 지원 기능을 내재화하여 시스템 최적화를 실현하는 AI 기반 통신 기술, 단말 연산 능력의 한계를 넘어서는 복잡도의 서비스를 초고성능 통신과 컴퓨팅 자 원을 활용하여 실현하는 차세대 분산 컴퓨팅 기술 등의 개발에 기반이 될 수 있을 것이다."}
{"patent_id": "10-2023-0105157", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 개시의 일 실시 예에 따르면, 이동 통신 시스템에서 서비스를 효과적으로 제공할 수 있는 장치 및 방법이 제 공된다. 본 발명에서 이루고자 하는 기술적 과제들은 이상에서 언급한 기술적 과제들로 제한되지 않으며, 언급하지 않은"}
{"patent_id": "10-2023-0105157", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 2, "content": "또 다른 기술적 과제들은 아래의 기재로부터 본 발명이 속하는 기술분야에서 통상의 지식을 가진 자에게 명확하 게 이해될 수 있을 것이다."}
{"patent_id": "10-2023-0105157", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 개시의 다양한 실시예들에 따라, 무선 통신 시스템에서 제어 신호 처리 방법은, 기지국으로부터 전송되는 제 1 제어 신호를 수신하는 단계, 상기 수신된 제1 제어 신호를 처리하는 단계, 및 상기 처리에 기반하여 생성된 제2 제어 신호를 상기 기지국으로 전송하는 단계를 포함할 수 있다."}
{"patent_id": "10-2023-0105157", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 개시의 일 실시 예에 따르면, 무선 통신 시스템에서 서비스를 효과적으로 제공할 수 있는 장치 및 방법이 제 공될 수 있다. 본 개시에서는 단말이 포지셔닝(위치 측정)을 수행하는 방법 및 절차가 제안되고, 제안된 방법 및 절차를 통해 포지셔닝이 보다 효과적으로 수행될 수 있다. 본 개시에서 얻을 수 있는 효과는 이상에서 언급한 효과들로 제한되지 않으며, 언급하지 않은 또 다른 효과들은 아래의 기재로부터 본 개시가 속하는 기술 분야에서 통상의 지식을 가진 자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2023-0105157", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 본 개시의 실시 예를 첨부된 도면을 참조하여 상세하게 설명된다. 본 개시의 실시 예를 설명함에 있어서 본 개시가 속하는 기술 분야에 익히 알려져 있고 본 개시와 직접적으로 관련이 없는 기술 내용에 대해서는 설명은 생략된다. 이는 불필요한 설명을 생략함으로써 본 개시의 요지를 흐 리지 않고 더욱 명확히 전달하기 위함이다. 마찬가지 이유로 첨부 도면에 있어서 일부 구성요소는 과장되거나 생략되거나 개략적으로 도시되었다. 또한, 각 구성요소의 크기는 실제 크기를 전적으로 반영하는 것이 아니다. 각 도면에서 동일한 또는 대응하는 구성요소에 는 동일한 참조 번호가 부여되었다. 본 개시의 이점 및 특징, 그리고 그것들을 달성하는 방법은 첨부되는 도면과 함께 상세하게 후술되어 있는 실시 예들을 참조하면 명확해질 수 있다. 그러나 본 개시는 이하에서 개시되는 실시예들에 한정되는 것이 아니라 서 로 다른 다양한 형태로 구현될 수 있으며, 단지 본 개시의 실시 예들은 본 개시가 완전하도록 하고, 본 개시가"}
{"patent_id": "10-2023-0105157", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "속하는 기술분야에서 통상의 지식을 가진 자에게 본 개시의 범주를 완전하게 알려주기 위해 제공되는 것이다., 본 개시는 청구항의 범주에 의해 정의될 뿐이다. 명세서 전체에 걸쳐 동일 참조 부호는 동일 구성 요소를 지칭 할 수 있다. 이 때, 처리 흐름도 도면들의 각 블록과 흐름도 도면들의 조합들은 컴퓨터 프로그램 인스트럭션들에 의해 수행 될 수 있음을 이해할 수 있을 것이다. 이들 컴퓨터 프로그램 인스트럭션들은 범용 컴퓨터, 특수용 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비의 프로세서에 탑재될 수 있으므로, 컴퓨터 또는 기타 프로그램 가 능한 데이터 프로세싱 장비의 프로세서를 통해 수행되는 그 인스트럭션들이 흐름도 블록(들)에서 설명된 기능들 을 수행하는 수단을 생성하게 된다. 이들 컴퓨터 프로그램 인스트럭션들은 특정 방식으로 기능을 구현하기 위해 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비를 지향할 수 있는 컴퓨터 이용 가능 또는 컴퓨터 판독 가능 메모리에 저장되는 것도 가능하므로, 컴퓨터 이용가능 또는 컴퓨터 판독 가능 메모리에 저장된 인스트럭션 들은 흐름도 블록(들)에서 설명된 기능을 수행하는 인스트럭션 수단을 내포하는 제조 품목을 생산할 수 있다. 컴퓨터 프로그램 인스트럭션들은 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비 상에 탑재되는 것도 가능하므로, 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비 상에서 일련의 동작 단계들이 수행되어 컴퓨터로 실행되는 프로세스를 생성할 수 있다. 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비를 수 행하는 인스트럭션들은 흐름도 블록(들)에서 설명된 기능들을 실행하기 위한 단계들을 제공하는 것도 가능하다. 또한, 각 블록은 특정된 논리적 기능(들)을 실행하기 위한 하나 이상의 실행 가능한 인스트럭션들을 포함하는 모듈, 세그먼트 또는 코드의 일부를 나타낼 수 있다. 또, 다양한실시 예들에서는 블록들에서 언급된 기능들이 순서를 벗어나서 발생하는 것도 가능함을 주목해야 한다. 예컨대, 잇달아 도시되어 있는 두 개의 블록들은 사실 실질적으로 동시에 수행되는 것도 가능하고 또는 그 블록들이 때때로 해당하는 기능에 따라 역순으로 수행되는 것도 가능하다. 본 개시의 실시 예에서 사용되는 '~부'라는 용어는 소프트웨어 또는 FPGA또는 ASIC과 같은 하드웨어 구성요소를 의미하며, '~부'는 어떤 역할들을 수행한다. 다만, '~부'는 소프트웨어 또는 하드웨어에 한정되는 의미는 아니 다. '~부'는 어드레싱할 수 있는 저장 매체에 있도록 구성될 수도 있고 하나 또는 그 이상의 프로세서들을 재생 시키도록 구성될 수도 있다. 따라서, 일 예로서 '~부'는 소프트웨어 구성요소들, 객체지향 소프트웨어 구성요 소들, 클래스 구성요소들 및 태스크 구성요소들과 같은 구성요소들과, 프로세스들, 함수들, 속성들, 프로시저들, 서브루틴들, 프로그램 코드의 세그먼트들, 드라이버들, 펌웨어, 마이크로코드, 회로, 데이터, 데이 터베이스, 데이터 구조들, 테이블들, 어레이들, 및/또는 변수들을 포함한다. 구성요소들과 '~부'들 안에서 제 공되는 기능은 더 작은 수의 구성요소들 및 '~부'들로 결합되거나 추가적인 구성요소들과 '~부'들로 더 분리될 수 있다. 뿐만 아니라, 구성요소들 및 '~부'들은 디바이스 또는 보안 멀티미디어카드 내의 하나 또는 그 이상 의 CPU들을 재생시키도록 구현될 수도 있다. 또한 실시예에서 '~부'는 하나 이상의 프로세서를 포함할 수 있다. 본 개시의 실시 예들을 구체적으로 설명함에 있어서, 이동통신 규격 표준화 단체인 3GPP (3rd generation partnership project long term evolution)가 개시하고 있는 5G 이동통신 규격 상의 무선 접속망 New RAN (N R)과 코어 망인 패킷 코어 (5G System, 혹은 5G Core Network, 혹은 NG Core: next generation core)를 주된 대상으로 하지만, 본 개시의 주요한 요지는 유사한 기술적 배경을 가지는 여타의 통신 시스템에도 본 개시의 범 위를 크게 벗어 나지 아니 하는 범위에서 변형될 수 있다. 범위 내의 변형은 본 개시의 기술 분야에서 숙련된 기술적 지식을 가진 자의 판단으로 가능 할 것이다. 5G 시스템에서는, 네트워크 자동화 지원을 위해서, 5G 네트워크 망에서 수집된 데이터를 분석하여 제공하는 기 능을 제공하는 네트워크 기능인 네트워크 데이터 수집 및 분석 함수 (network data collection and analysis function, NWDAF)가 정의될 수 있다. 예를 들어, NWDAF는 5G 네트워크로부터 정보를 수집/저장/분석하여 그 결 과를 불특정 네트워크 기능 (network function, NF)에게 제공할 수 있으며, 분석 결과는 각 NF에서 독립적으로 이용될 수 있다. 이하 설명의 편의를 위하여, 3GPP 규격(예: 5G, NR, LTE 또는 이와 유사한 시스템의 규격)에서 정의하고 있는 용어 및 명칭들이 일부 사용될 수 있다. 하지만, 본 개시가 용어 및 명칭들에 의해 한정되는 것은 아니며, 다른 규격에 따르는 시스템에도 동일하게 적용될 수 있다. 또한, 이하 설명에서 사용되는 접속 노드(node)를 식별하기 위한 용어, 망 객체(network entity, 네트워크 엔티 티)들을 지칭하는 용어, 메시지들을 지칭하는 용어, 네트워크 엔티티들 간 인터페이스를 지칭하는 용어, 및/또 는 다양한 식별 정보들을 지칭하는 용어 등은 설명의 편의를 위해 예시된 것이다. 따라서, 본 개시에서 사용하 는 용어들에 한정되는 것은 아니며, 동등한 기술적 의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 4G 통신 시스템 상용화 이후 증가 추세에 있는 무선 데이터 트래픽 수요를 충족시키기 위해, 개선된 5G 통신 시 스템(NR, New Radio)을 개발 노력이 이루어지고 있다. 높은 데이터 전송률을 달성하기 위해, 5G 통신 시스템은 초고주파(mmWave) 대역 (예: 28GHz 주파수 대역과 같은)에서의 자원도 가능하도록 디자인이 되었다. 초고주파 대역에서의 전파의 경로손실 완화 및 전파의 전달 거리를 증가시키기 위해, 5G 통신 시스템에서는 빔포밍 (beamforming), 거대 배열 다중 입출력(massive MIMO), 전차원 다중입출력(Full Dimensional MIMO: FD-MIMO), 어레이 안테나(array antenna), 아날로그 빔형성(analog beam-forming) 및/또는 대규모 안테나 (large scale antenna) 기술들이 논의되고 있다. 그 이외에 5G 통신 시스템에서는 LTE와 달리 15kHz를 포함하여, 30 kHz, 60 kHz, 120kHz 등의 다양한 부반송파 간격(subcarrier spacing)들을 자원하며, 물리 제어 채널(Physical Control Channel)은 Polar Coding을 사용하며, 물리 데이터 채널(Physical Data Channel)은 LDPC(Low Density Parity Check)을 사용한다. 그 이외에 상향링크 전송을 위한 파형(waveform)으로는 DFT-S-OFDM 뿐만 아니라 CP-OFDM도 사용된다. LTE는 TB(Transport Block) 단위의 HARQ(Hybrid ARQ) 재전송이 자원된 반면에 5G는 CB(Code Block) 들을 여러 개 묶은 CBG(Code Block Group) 기반의 HARQ 재전송을 추가적으로 자원할 수 있다. 또한, 시스템의 네트워크 개선을 위해, 5G 통신 시스템에서는 진화된 소형 셀, 개선된 소형 셀 (advanced small cell), 클라우드 무선 액세스 네트워크 (cloud radio access network: cloud RAN), 초고밀도 네트워크 (ultra- dense network), 기기 간 통신 (Device to Device communication: D2D), 무선 백홀 (wireless backhaul), 차량통신 네트워크 (V2X(Vehicle to Everything) network), 협력 통신 (cooperative communication), CoMP (Coordinated Multi-Points), 및/또는 수신 간섭제거 (interference cancellation) 등의 기술 개발이 이루어지 고 있다. 한편, 인터넷은 인간이 정보를 생성하고 소비하는 인간 중심의 연결 망에서, 사물 등 분산된 구성 요소들 간에 정보를 주고 받아 처리하는 IoT(Internet of Things, 사물인터넷) 망으로 진화하고 있다. 예를 들어, 클라우드 서버 등과의 연결을 통한 빅데이터(Big data) 처리 기술 등이 IoT 기술에 결합된 IoE (Internet of Everything) 기술도 대두되고 있다. IoT를 구현하기 위해서, 센싱 기술, 유무선 통신 및 네트워크 인프라, 서비 스 인터페이스 기술, 및/또는 보안 기술과 같은 기술 요소 들이 요구되어, 최근에는 사물간의 연결을 위한 센서 네트워크(sensor network), 사물 통신(Machine to Machine, M2M), MTC(Machine Type Communication)등의 기술 이 연구되고 있다. IoT 환경에서는 연결된 사물들에서 생성된 데이터를 수집, 및/또는 분석하여 인간의 삶에 새 로운 가치를 창출하는 지능형 IT(Internet Technology) 서비스가 제공될 수 있다. IoT는 기존의 IT(information technology)기술과 다양한 산업 간의 융합 및 복합을 통하여 스마트홈, 스마트 빌딩, 스마트 시 티, 스마트 카 혹은 커넥티드 카, 스마트 그리드, 헬스 케어, 스마트 가전, 및/또는 첨단의료서비스 등의 분야 에 응용될 수 있다. 이에, 5G 통신 시스템을 IoT 망에 적용하기 위한 다양한 시도들이 이루어지고 있다. 예를 들어, 센서 네트워크 (sensor network), 사물 통신(Machine to Machine, M2M), 및/또는 MTC(Machine Type Communication)등의 기술 이 5G 통신 기술인 빔 포밍, MIMO 및 어레이 안테나 등의 기법에 의해 구현되고 있는 것이다. 앞서 설명한 빅데 이터 처리 기술로써 클라우드 무선 액세스 네트워크(cloud RAN)가 적용되는 것도 5G 기술과 IoT 기술 융합의 일 예라고 할 수 있다. 이와 같이 통신 시스템에서 복수의 서비스가 사용자에게 제공될 수 있으며, 이와 같은 복수 의 서비스를 사용자에게 제공하기 위해 특징에 맞게 각 서비스를 동일한 시구간 내에서 제공할 수 있는 방법 및 이를 이용한 장치가 요구된다. 5G 통신 시스템에서 제공되는 다양한 서비스가 연구되고 있으며, 이 중 하나는 낮은 지연 시간(low latency) 및 높은 신뢰성 (high reliability) 요구 조건을 만족시키는 서비스이다. 또한 모 바일 서비스에 대한 수요가 폭발적으로 증가하고 있으며, 주로 긴급 서비스 및 상업용 애플리케이션이라는 두 가지 주요 요구사항에 의해 주도되는 위치 기반 서비스 (LBS, Location Based Service)가 빠르게 성장하고 있다. 예를 들어, 사이드링크를 이용한 통신의 경우, NR 사이드링크 시스템에서는 단말과 단말 간 유니캐스트 (unicast) 통신, 그룹캐스트(groupcast) (또는 멀티캐스트(multicast)) 통신 및 브로드캐스트(broadcast) 통신 이 지원된다. 또한, NR 사이드링크는 차량의 도로 주행에 필요한 기본적인 안전 정보 송수신을 목적으로 하는 LTE 사이드링크와 달리 그룹 주행(Platooning), 진보된 주행(Advanced Driving), 확장 센서(Extended Sensor), 원격 주행(Remote Driving)과 같이 보다 진보된 서비스를 제공하는 것을 목표로 한다. NR 사이드링크에서는 단말 간 사이드링크를 통해 포지셔닝(위치 측정)이 수행될 수 있다. 즉, 사이드링크를 통 해 전송되는 포지셔닝 신호를 이용하여 단말의 위치를 측정하는 방법이 고려될 수 있다. 기존의 단말과 기지국 의 하향링크 및 상향링크를 통해 전송되는 포지셔닝 신호를 이용하여 단말의 위치를 측정하는 방법은 단말이 기 지국 커버리지 안에 있을 경우에만 가능하다. 하지만 사이드링크 포지셔닝이 도입될 경우, 단말이 기지국 커버 리지 밖에 있을 경우에도 단말의 위치 측정이 가능해질 수 있다. 사이드링크에서 포지셔닝 신호를 S- PRS(Sidelink Positioning Reference Signal)로 명명할 수 있다. 하지만 S-PRS는 다른 용어로 대체될 수 있다. 본 개시에서는 사이드링크에서 지원되는 포지셔닝 방법에 따라 S-PRS 신호를 전송하는 방법이 제안된다. 예를 들어, S-PRS가 신호 전송을 위한 자원 선택 및 자원 위치 설정 그리고 관련된 제어 신호를 전송하는 방법 이 제안된다. 제안된 방법에 따라 S-PRS를 수신한 단말은 이에 대한 측정을 수행할 수 있을 것이다. 사이드링크 에서 고려되는 포지셔닝 방법은 SL-RTT (Sidelink Round Trip Time), SL-RSTD (Sidelink Reference Signal Time Difference), SL-RTOA (Sidelink Relative Time of Arrival), 및/또는 SL-AoA(Sidelink Angle of Arrival) 등이 고려될 수 있다. 그리고 단말은 해당 측정을 통해 단말은 좌표 위치를 계산하거나 단말 간 거리 를 계산할 수 있을 것이다. 본 개시의 실시 예에서는 상술한 시나리오를 지원하기 위해 제안된 것으로, 특히 단말의 위치를 측정(포지셔 닝)하기 위한 방법 및 장치가 제공될 수 있다. 본 개시는 무선 이동 통신 시스템에 관한 것으로, 특히, 포지셔닝(위치 측정)을 수행하는 방법 및 장치에 관한 것이다. 구체적으로, 사이드링크를 통해 포지셔닝을 수행하는 방법들을 제안한다. 하지만 본 발명에서 제안되는 내용이 사이드링크에 한정하여 적용되지 않을 수 있다. 도 1은 일 실시 예에 따른 시스템을 나타내는 도면이다. 도 1을 참조하면, 도 1의 (a)는 사이드링크를 통해 통신하는 모든 단말들(UE-1과 UE-2)이 기지국의 커버리지 내 에 위치해 있는 경우(In-Coverage, IC)에 대한 예시를 나타낸다. 모든 단말들은 기지국으로부터 하향링크 (downlink: DL)를 통해 데이터 및 제어 정보를 수신하거나 기지국으로 상향링크(uplink: UL)를 통해 데이터 및 제어 정보를 송신할 수 있다. 예를 들어, 데이터 및 제어 정보는 사이드링크 통신을 위한 데이터 및 제어 정보 일 수 있다. 예를 들어, 데이터 및 제어 정보는 일반적인 셀룰러 통신을 위한 데이터 및 제어 정보일 수도 있다. 또한, 단말들(예: UE-1, UE-2)은 사이드링크(Sidelink, SL)를 통해 사이드링크 통신을 위한 데이터 및 제어 정보를 송신 및/또는 수신할 수 있다. 도 1을 참조하면, 도 1의 (b)는 단말들 중 UE-1은 기지국의 커버리지 내에 위치하고 UE-2는 기지국의 커버리지 밖에 위치하는 경우에 대한 예시를 나타낸다. 즉, 도 1의 (b)는 일부 단말(UE-2)이 기지국의 커버리지 밖에 위 치하는 부분 커버리지(partial coverage, PC)에 관한 예시를 나타낸다. 기지국의 커버리지 내에 위치한 단말 (UE-1)은 기지국으로부터 하향 링크를 통해 데이터 및 제어 정보를 수신하거나 기지국에게 상향 링크를 통해 데 이터 및 제어 정보를 송신할 수 있다. 기지국의 커버리지 밖에 위치한 단말(UE-2)은 기지국으로부터 하향링크를 통해 데이터 및 제어 정보를 수신할 수 없으며, 기지국으로 상향링크를 통해 데이터 및 제어 정보를 송신할 수 없다. 단말(UE-2)은 단말(UE-1)과 사이드링크를 통해 해당 통신을 위한 데이터 및 제어정보를 송신 및/또는 수 신할 수 있다. 도 1을 참조하면, 도 1의 (c)는 모든 단말들(예: UE-1, UE-2)이 기지국의 커버리지 밖(out-of coverage, OOC) 에 위치한 경우에 대한 예시를 나타낸다. 따라서, 단말들(UE-1, UE-2)은 기지국으로부터 하향링크를 통해 데이 터 및 제어 정보를 수신할 수 없으며, 기지국에게 상향링크를 통해 데이터 및 제어 정보를 송신할 수 없다. 단 말들(UE-1, UE-2)은 사이드링크를 통해 데이터 및 제어정보를 송신 및/또는 수신할 수 있다. 도 1을 참조하면, 도 1의 (d)는 서로 다른 셀에 위치한 단말(UE-1, UE-2)들 간 사이드링크 통신을 수행하는 시 나리오에 대한 예시를 나타낸다. 예를 들어, 도 1의 (d)는 단말들(UE-1, UE-2)이 서로 다른 기지국에 접속해 있 거나 (RRC 연결 상태) 캠핑해 있는 경우(예: RRC 연결 해제 상태, 즉 RRC idle 상태)를 도시한다. 단말(UE-1)은 사이드링크에서 송신 단말이고 단말(UE-2)은 수신 단말일 수 있다. 또 다른 예를 들어, 단말(UE-1)이 사이드링 크에서 수신 단말이고, 단말(UE-2)이 송신 단말일 수도 있다. 단말(UE-1)은 자신이 접속한 (또는 자신이 캠핑하 고 있는) 기지국으로부터 SIB(system information block)을 수신할 수 있으며, 단말(UE-2)은 자신이 접속한 (또는 자신이 캠핑하고 있는) 다른 기지국으로부터 SIB을 수신할 수 있다. 이 경우, SIB는 기존 SIB가 사용되거 나 혹은 사이드링크 통신을 위해 별도로 정의된 SIB가 사용될 수 있다. 또한, 단말(UE-1)이 수신한 SIB의 정보 와 단말(UE-2)이 수신한 SIB의 정보가 서로 상이할 수 있다. 따라서, 서로 다른 셀에 위치한 단말들(UE-1, UE- 2) 간 사이드링크 통신을 수행하기 위해서는 정보가 통일되거나, 이에 대한 정보가 시그널링 되어 각 다른 셀로 부터 전송된 SIB 정보를 해석하는 방법이 추가적으로 필요할 수도 있다. 도 1에서는 설명의 편의를 위해 2개의 단말들(UE-1, UE-2)로 구성된 사이드링크 시스템이 도시되었으나 이에 국 한되지 않고 더 많은 단말들 간에 통신이 이루어질 수 있다. 일 실시 예에 따르면, 기지국과 단말들간의 인터페이스 (상향링크 및 하향링크)는 Uu 인터페이스로 참조될 수 있고, 단말들 간의 사이드링크 통신은 PC5 인터페이스로 참조될 수 있다. 따라서, 본 개시에서는 이들을 혼용하 여 사용할 수 있다. 한편, 본 개시에서 단말은 일반 단말 및 V2X (vehicular-to-everything)을 지원하는 단말을 의미할 수 있다. 예를 들어, 본 개시에서 단말은 보행자의 핸드셋(예: 스마트폰)을 의미할 수 있다. 또 다른 예 를 들어, 본 개시에서 단말은 차량 간 통신(vehicular-to-vehicular, V2V)을 지원하는 차량, 차량과 보행자 간 통신(vehicular-to-pedestrian, V2P)을 지원하는 차량, 차량과 네트워크 간 통신(vehicular-to-network, V2N) 을 지원하는 차량 및/또는 차량과 교통인프라(infrastructure) 간 통신(vehicular-to-infrastructure, V2I)을 지원하는 차량을 포함할 수 있다. 또한, 본 개시에서 단말은, 단말 기능을 장착한 RSU (road side unit), 기지 국 기능을 장착한 RSU, 및/또는 기지국 기능의 일부 및 단말 기능의 일부를 장착한 RSU를 포함할 수 있다. 일 실시 예에 따르면, 기지국은 V2X 통신과 일반 셀룰러 통신을 모두 지원하는 기지국이거나, V2X 통신만을 지 원하는 기지국일 수도 있다. 예를 들어, 기지국은 5G 기지국 (gNB), 4G 기지국 (eNB), 및/또는 RSU일 수 있다. 따라서, 본 개시에서 기지국은 RSU로 지칭될 수도 있다. 도 2는 일 실시 예에 따른 사이드링크를 통해 이루어지는 통신 방법을 나타내는 도면이다. 도 2의 (a)를 참고하면, UE-1 (201, 예: TX 단말)과 UE-2 (202, 예: RX 단말)이 일-대-일로 통신을 수행할 수 있으며, UE-1과 UE-2의 일대일 통신은 유니캐스트(unicast) 통신으로 참조될 수 있다. 일 실시 예에 따르면, 단말들(예: UE-1, UE-2)은 사이드링크에서 단말 간 유니캐스트 링크에 정의된 PC5-RRC를 통해 단말 간 capability 정보 및 설정 정보를 교환할 수 있다. 또 다른 예를 들어, 단말들(예: UE-1, UE-2)은 단말 간 유니캐스트 링크에 정의된 사이드링크 MAC CE (Medium Access Control Control Element)를 통해 설정 정보를 교환할 수 있다. 예를 들어, 설정 정보는 destination ID 및 source ID 정보를 포함할 수 이다. 다만, 유니캐스트를 위한 정보 교환 방법은 PC5-RRC 및 MAC-CE에 한정되지 않는다. 일 실시 예에 따르면, 관련 정보(예: 사이드링크를 위한 정보)가 SCI(Sidelink Control Information)에 포함될 수 있다. 예를 들어, SCI는 1st SCI 및/또는 2nd SCI일 수 있다. 또한 관련 정보의 일부는 SCI에 나머지 일부는 PC5-RRC나 MAC-CE를 통해 다른 채널에 포함되어 전송될 수도 있다. 도 2의 (b)를 참고하면, TX 단말과 RX 단말이 일-대-다(多)로 통신을 수행할 수 있으며 단말들 간의 일대다 통 신은 그룹캐스트(groupcast) 또는 멀티캐스트(multicast)로 참조될 수 있다. 예를 들어, 도 2의 (b)에서 UE-1 , UE-2 , 및/또는 UE-3 은 하나의 그룹(group)을 형성하여 (Group A) 그룹캐스트(groupcast) 통신을 수행하고, UE-4 , UE-5 , UE-6 , 및/또는 UE-7 (21 7)은 또 다른 그룹(group)을 형성하여(Group B) 그룹캐스트(groupcast) 통신을 수행할 수 있다. 각 단말은 자신 이 소속된 그룹 내에서만 그룹캐스트(groupcast) 통신을 수행하고, 서로 다른 그룹 간 통신은 유니캐스트, 그룹 캐스트 또는 브로드케스트 통신을 통해 이루어 질 수 있다. 도 2의 (b)에서는 두 개의 그룹(Group A, Group B) 이 형성돼 있음을 도시하였으나 이에 국한되지 않는다. 한편, 도 2에 도시하지는 않았으나, 사이드링크에서 단말들은 브로드캐스트(broadcast) 통신을 수행할 수 있다. 브로드캐스트(broadcast) 통신은, 송신 단말이 사이드링크를 통해 전송한 데이터 및 제어정보를 다른 모든 단말 들이 수신하는 경우를 의미한다. 예를 들어, 도 2의 (b)에서 UE-1이 브로드캐스트(broadcast)를 위한 송신 단말이라고 가정하는 경우, 모든 단말들(예: UE-2, UE-3, UE-4, UE-5, UE-6, 및/또 는 UE-7)은 UE-1이 송신하는 데이터 및 제어 정보를 수신할 수 있다. 일 실시 예에 따르면, NR V2X에서는 LTE V2X에서와 달리 차량 단말이 유니 캐스트를 통해 하나의 특정 노드에게 만 데이터를 보내는 형태의 통신 및 그룹캐스트(groupcast)를 통해 특정 다수의 노드에게 데이터를 보내는 형태 의 통신이 지원될 수 있다. 예를 들어, 두 대 이상의 차량을 하나의 네트워크로 연결하여 군집 형태로 묶여져 이동하는 기술인 그룹주행(Platooning)과 같은 서비스 시나리오에서 이러한 유니 캐스트 및 그룹 캐스트 기술이 유용하게 사용될 수 있다. 예를 들어, 그룹 주행으로 연결된 그룹의 리더 노드가 하나의 특정 노드를 컨트롤 하 기 위한 목적으로 유니캐스트 통신이 필요할 수 있으며, 특정 다수의 노드로 이루어진 그룹을 동시에 컨트롤 하 기 위한 목적으로 그룹 캐스트 통신이 필요할 수 있다. 도 3은 일 실시 예에 따른 사이드링크의 전송 및 수신에 사용되는 시간 및 주파수 상에서 자원들의 셋(집합)으 로 정의되는 자원 풀(resource pool)을 설명하기 위한 도면이다. 도 3을 참고하면, 일 실시 예에 따른 자원 풀에서 시간 축의 자원 할당 단위(resource granularity)는 슬롯 (Slot)이 될 수 있다. 또한, 주파수 축의 자원 할당 단위는 하나 이상의 PRB(physical resource block)로 구성 된 서브채널(Sub-channel)이 될 수 있다. 본 개시에서는 자원 풀이 시간 상에서 비연속적으로 할당된 경우가 예 로서 설명되지만, 시간 상에서 자원 풀이 연속적으로 할당될 수도 있다. 또한, 본 개시에서는 자원 풀이 주파수 상에서 연속적으로 할당된 경우가 예로서 설명되지만, 주파수 상에서 자원 풀이 비연속적으로 할당되는 방법이 배제되지 않는다. 도 3을 참조하면, 일 실시 예에 따른 자원 풀이 시간 상으로 비연속적으로 할당된 경우가 도시 되었다. 도 3을 참조하면, 시간 상 자원 할당의 단위(granularity)가 슬롯(slot)으로 이루어지는 경우가 도시된다. 우선 사 이드링크 슬롯은 상향링크로 사용되는 슬롯안에서 정의될 수 있다. 예를 들어, 하나의 슬롯내에서 사이드링크로 사용되는 심볼의 길이가 사이드링크 BWP(Bandwidth Part) 정보로 설정될 수 있다. 따라서 상향링크로 사용되는 슬롯 중에서 사이드링크로 설정되어 있는 심볼의 길이가 보장되지 않는 슬롯들은 사이드링크 슬롯이 될 수 없다. 또한, S-SSB (Sidelink Synchronization Signal Block)이 전송되는 슬롯은 자원 풀에 속하는 슬롯들에서 제외될 수 있다. 슬롯의 셋을 참조하면, 이와 같은 슬롯들을 제외하고 시간상에서 사이드링크로 사용될 수 있는 슬롯의 셋(집합)이 ( )로 도시된다. 슬롯의 셋에서 색칠된 부분은 자원 풀에 속한 사이 드링크 슬롯들을 나타낼 수 있다. 자원 풀에 속한 사이드링크 슬롯들은 비트맵을 통해 자원 풀 정보로 미리 설 정((pre-)configuration)될 수 있다.일 실시 예에 따르면, 사이드링크 슬롯의 셋을 참조하면, 시간상에서 자원 풀에 속한 사이드링크 슬롯의 셋(집합)이 ( )로 도시된다. 본 개시에서 (pre-)configuration의 의미는 단말에 pre- configuration되어 미리 저장되어 있는 설정 정보를 의미할 수도 있고, 단말이 기지국으로부터 cell-common한 방법으로 설정되는 경우를 의미할 수 도 있다. 예를 들어, cell-common은 셀안의 단말들이 기지국으로부터 동일 한 정보의 설정을 수신함을 의미할 수 있다. 이 경우, 단말은 기지국으로부터 사이드링크 SL-SIB (sidelink system information block)을 수신하여 cell-common한 정보를 획득할 수 있다. 또 다른 예로서, (pre-)configuration의 의미는 단말이 기지국과 RRC 연결이 수립된 이후 UE-specific한 방법 으로 configuration되는 경우를 의미할 수 도 있다. 예를 들어, UE-specific은 UE-dedicated라는 용어로 대체 될 수 도 있으며 단말마다 특정한 값으로 설정 정보를 수신함을 의미할 수 있다. 이 경우, 단말은 기지국으로부 터 RRC(radio resource control) 메시지를 수신하여 UE-specific한 정보를 획득할 수 있다. 또 다른 예로서, (pre-)configuration은 자원 풀 정보로 설정되는 방법과 자원 풀 정보에 설정되지 않는 방법이 고려될 수 있다. 자원 풀 정보로 (pre-)configuration되는 경우는 단말이 기지국과 RRC 연결이 수립된 이후 UE-specific한 방법 으로 configuration되는 경우를 제외하고는 해당 자원 풀에서 동작하는 단말들은 모두 공통된 설정 정보로 동작 될 수 있다. 한편, (pre-)configuration이 자원 풀 정보에 설정되지 않는 방법은 기본적으로 자원 풀 설정 정보와 독립적으 로 설정되는 방법이다. 일례로, 사이드링크 BWP (Bandwidth Part) 정보로 설정되어 모든 자원 풀에 동일하게 적 용될 수도 있다. 또 다른 일례로, 자원 풀에 하나 이상의 모드가 (pre-)configuration 되고 (예를 들어, A, B, 그리고 C), 자원 풀 설정 정보와 독립적으로 (pre-)configuration된 정보를 통해 자원 풀에 (pre- )configuration된 모드 중 어떤 모드를 사용할지(예를 들어, A 또는 B 또는 C)가 지시될 수 있다. 또한 사이드 링크 유니케스트 전송에서 (pre-)configuration은 PC5-RRC를 통해 설정될 수도 있다. 이와 달리, (pre- )configuration이 MAC-CE를 통해 설정되는 방법도 고려될 수 있다. 본 개시에서 (pre-)configuration된다고 함 은 상기에 설명한 경우들이 모두 적용될 수 있음에 주목한다. 도 3에서 303을 참조하면, 자원 풀이 주파수 상에서 연속적으로 할당된 경우가 도시 된다. 주파수 축에서 자원 할당은 사이드링크 BWP(Bandwidth Part) 정보로 설정될 수 있으며, 서브채널(sub-channel) 단위로 이루어질 수 있다. 서브채널은 하나 이상의 PRB(Physical Resource Block)로 구성된 주파수 상의 자원 할당 단위로 정의될 수 있다. 즉, 서브채널은 PRB의 정수 배로 정의될 수 있다. 303을 참조하면, 서브채널은 5개의 연속적인 PRB로 구성될 수 있으며, 서브채널 크기(sizeSubchannel)는 5개의 연속적인 PRB의 크기일 수 있다. 다만, 도면에 도시 된 내용은 본 개시의 일 예일 뿐이며, 서브채널의 크기는 다르게 설정될 수 있다. 또한, 하나의 서브 채널은 연 속적인 PRB로 구성되는 것이 일반적이나 반드시 연속적인 PRB로 구성되어야 하는 것은 아니다. 서브채널은 PSSCH에 대한 자원 할당의 기본 단위가 될 수 있다. 303에서 startRB-Subchannel은 자원 풀에서 주파수 상의 서 브채널의 시작 위치를 지시할 수 있다. 주파수 축에서 자원 할당이 서브채널 단위로 이루어지는 경우 서브채널 이 시작하는 RB (Resource Block) 인덱스(startRB-Subchannel), 서브채널이 몇 개의 PRB로 구성되는지의 정보 (sizeSubchannel), 및/또는 서브채널의 총 수 (numSubchannel)등에 대한 설정 정보에 기반하여 주파수 상의 자 원이 할당될 수 있다. 이 때, startRB-Subchannel, sizeSubchannel, 및 numSubchannel 등에 대한 정보는 주파 수 상 자원 풀 정보로 (pre-)configuration될 수 있다. 일 실시 예에 따르면, 사이드링크에서 전송 자원을 할당하는 방법들 중 하나로 단말이 기지국 커버리지 내에 있 는 경우에 기지국으로부터 사이드링크 전송 자원을 할당 받는 방법이 있다. 이하에서 이러한 방법을 Mode 1으로 지칭하도록 한다. 예를 들어, Mode 1은 기지국이 RRC 연결된 단말들에게 dedicated한 스케줄링 방식으로 사이드 링크 전송에 사용되는 자원을 할당하는 방법일 수 있다. Mode 1의 방법은 기지국이 사이드링크의 자원을 관리할 수 있기 때문에 간섭 관리와 자원 풀의 관리에 효과적일 수 있다. 또 다른 예를 들어, 사이드링크에서 전송 자원을 할당하는 방법들 중에는 사이드링크에서 단말이 직접 센싱을 통해 전송 자원을 할당하는 방법이 있다. 이하에서는 이러한 방법을 Mode 2로 지칭하도록 한다. Mode 2의 경우 UE autonomous resource selection으로 지칭될 수도 있다. 기지국이 직접 자원 할당에 관여하는 Mode 1과 달리, Mode 2에서는 전송 단말이 (pre-)configuration된 자원 풀을 기반으로 정의된 센싱 및 자원 선택 프로시 져를 통해 자율적으로 자원을 선택할 수 있고, 선택된 자원을 통해 데이터를 전송할 수 있다. 다음으로 Mode1 또는 Mode2를 통한 전송 자원이 할당되면 단말은 사이드링크를 통해 데이터 및 제어정보를 송신 및/또는 수신할 수 있다. 예를 들어, 제어 정보에는 PSCCH(Physical Sidelink Control Channel)을 통해 전송되는 1st stageSCI(Sidelink Control Information)로 SCI format 1-A가 포함될 수 있다. 또 다른 예를 들면, 제어 정보에는 PSSCH (Physical Sidelink Shared Channel)을 통해 전송되는 2nd stage SCI로 SCI format 2-A 또는 SCI format 2-B 중 적어도 하나가 포함될 수 있다. 이하, 단말의 위치를 측정하는 포지셔닝(Positioning) 방법으로 단말과 기지국의 하향링크 및 상향링크를 통해 전송되는 포지셔닝 신호 (Positioning Reference Signal, PRS)를 이용한 방법이 설명된다. 본 개시에서 단말과 기지국의 하향링크 및 상향링크를 통해 전송되는 포지셔닝 신호를 이용한 방법을 RAT(Radio Access Technology) dependent 포지셔닝으로 명명될 수 있다. 또한 이외의 포지셔닝 방법은 RAT-independent 포지셔닝으로 분류될 수 있다. 예를 들어, LTE 시스템의 경우 RAT-dependent 포지셔닝 기법으로 OTDOA (Observed Time Difference Of Arrival), UTDOA (Uplink Time Difference Of Arrival), 및/또는 E-CID (Enhanced Cell Identification)와 같은 방법이 사용될 수 있다. NR 시스템의 경우에는 DL-TDOA (Downlink Time Difference Of Arrival), DL-AOD (Downlink Angle-of-Departure), Multi-RTT (Multi-Round Trip Time), NR E-CID, UL-TDOA (Uplink Time Difference Of Arrival), 및/또는 UL-AOA (Uplink Angle-of-Arrival)와 같은 방법이 사용될 수 있다. 이와 달 리, RAT-independent 포지셔닝 기법에는 A-GNSS (Assisted Global Navigation Satellite Systems), Sensor, WLAN (Wireless Local Area Network), 및/또는 Bluetooth와 같은 방법들이 포함될 수 있다. 한편, 본 개시에서는 특히 사이드링크를 통해 지원되는 RAT-dependent 포지셔닝 방법에 초점을 맞추도록 한다. 기지국과 단말들간의 인터페이스 (상향링크 및 하향링크, 이하 Uu로 명명)의 경우 RAT-dependent 포지셔닝은 단 말이 기지국 커버리지 안에 있을 경우에만 가능하다. 하지만 사이드링크의 RAT-dependent 포지셔닝은 단말이 기 지국 커버리지 안에 있을 경우에 한정되지 않을 수 있다. Uu에서의 RAT-dependent 포지셔닝의 경우 LPP(LTE Positioning Protocol)와 LPPa(LTE Positioning Protocol Annex) 및 NRPPa (NR Positioning Protocol Annex) 와 같은 포지셔닝 프로토콜이 사용될 수 있다. 우선, LPP는 단말과 위치 서버 (Location Server, LS)간에 정의 된 포지셔닝 프로토콜로 참조될 수 있다. LPPa 및 NRPPa는 기지국과 위치 서버 간에 정의된 프로토콜로 참조될 수 있다. 예를 들어, 위치 서버는 위치 측정을 관리(management)하는 주체로 LMF (Location Management Function)의 기능을 수행할 수 있다. 또한, 위치 서버는 LMF 또는 다른 명칭으로도 명명될 수 도 있다. LTE 및 NR 시스템의 경우 모두 LPP가 지원되며, LPP를 통해 포지셔닝을 위한 다음과 같은 역할들 중 적어도 하나를 수 행될 수 있다. * 포지셔닝 capability 교환 * assistance data 전송 * location 정보 전송 * error 처리 * 중단 (abort) 일 실시 예에 따르면, 단말과 위치 서버가 LPP를 통해 상기의 역할을 수행하는데 기지국은 단말과 위치 서버가 포지셔닝 정보를 교환하도록 하는 역할을 수행할 수 있다. 예를 들어, LPP를 통한 포지셔닝 정보의 교환은 기지 국에 대해 transparent하게 이루어 질 수 있다. 즉, 기지국이 단말과 위치 서버가 포지셔닝 정보를 교환하는데 기지국의 관여가 이루어지지 않을 수 있다. 일 실시 예에 따르면, 포지셔닝 능력(capability) 교환의 경우, 단말이 지원 가능한 포지셔닝 정보를 위치 서버 와 교환할 수 있다. 예를 들어, 단말이 지원 가능한 포지셔닝 정보는 단말이 지원하는 포지셔닝 방법이 UE- assisted인지 UE-based인지 또는 이 두가지가 모두 가능한지의 여부일 수 있다. 예를 들어, UE-assisted는 단말 이 직접 단말의 절대 위치를 측정하지 않고 적용된 수신한 포지셔닝 신호를 기반으로 포지셔닝 기법에 대한 측 정 값만을 위치 서버로 전달하고 단말의 절대 위치(absolute position)는 위치 서버에서 계산하는 방식을 의미 한다. 예를 들어, 절대 위치는 경도(longitude) 및 위도(latitude)에 의한 단말의 2차원 (x,y) 및 3차원 (x,y,z) 좌표 위치 정보를 의미할 수 있다. 이와 달리, UE-based의 경우 단말이 직접 단말의 절대 위치를 측정 하는 방식이 될 수 있으며, 이를 위해서는 단말은 포지셔닝 신호의 수신과 함께, 포지셔닝 신호를 보낸 주체의 위치 정보를 함께 제공받아야 할 필요가 있다. 일 실시 예에 따르면, LTE 시스템에서는 UE-assisted 방식만 지원됨에 반해 NR 시스템에서는 UE-assisted와 UE- based에 기반한 포지셔닝이 모두 지원될 수 있다. 다음으로 정확한 단말의 위치를 측정하는데 assistance data 전송은 포지셔닝에서 매우 중요한 요소일 수 있다. 예를 들어, assistance data 전송의 경우, 위치 서버가 단말에게 포지셔닝 신호에 대한 설정 정보 및 포지셔닝 신호를 수신할 후보 셀 및/또는 TRP (Transmission Reception Point) 정보 등을 제공해 줄 수 있다. 예를 들어, DL-TDOA가 사용되는 경우 포지셔닝 신호를 수신할 후보 셀 및 TRP 정보는 reference cell, reference TRP, neighbor cell 및/또는 neighbor TRP 정보를 포함할 수 있다. 또한 neighbor cell 및 neighbor TRP에 대한 후보가 다수 제공되고 단말이 어떠한 cell 및 TRP를 선 택하여 포지셔닝 신호를 측정하는 것이 좋은지에 대한 정보가 함께 제공될 수 있다. 단말이 정확한 위치를 측정 하기 위해서는 기준이 되는 후보 셀 및 TRP 정보를 잘 선택하여야 할 필요가 있다. 예를 들어, 해당 후보 셀 및 TRP로부터 수신한 포지셔닝 신호에 대한 채널이 LOS(Line-Of-Site) 채널일수록 다시 말해 NLOS(Non-LOS) 채널 성분을 적게 가지고 있는 채널일수록 포지셔닝 측정의 정확도가 높아질 수 있다. 따라서, 위치 서버가 다양한 정보 수집을 통해 포지셔닝을 수행하는데 기준이 되는 후보 셀 및 TRP 정보를 단말에 제공할 줄 경우 단말은 보 다 정확한 포지셔닝 측정을 수행할 수 있다. 일 실시 예에 따르면, location 정보 전송은 LPP를 통해서 이루어 질 수 있다. 예를 들어, 위치 서버는 단말에 게 location 정보를 요청할 수 있으며 단말은 위치 정보 요청에 따라 측정된 location 정보를 위치 서버로 제공 할 수 있다. UE-assisted인 경우에 해당 location 정보는 수신한 포지셔닝 신호를 기반으로 포지셔닝 기법에 대 한 측정 값일 수 있다. 이와 달리, UE-based인 경우에 location 정보는 단말의 2차원 (x,y) 및 3차원 (x,y,z) 좌표 위치 값일 수 있다. 위치 서버는 단말에게 location 정보를 요청할 때, 요구되는 정확도 (accuracy) 및 응 답 시간 (response time)등을 포지셔닝 QoS (Quality of Service)정보로 포함할 수 있다. 포지셔닝 QoS 정보가 요청되는 경우에 단말은 해당 정확도 및 응답 시간을 만족하도록 측정된 location 정보를 위치 서버로 제공해 주어야 할 필요가 있으며, 만약 QoS를 만족시키는 것이 불가능할 경우에 error 처리 및 중단(abort)를 고려할 수 있을 것이다. 다만, 이는 일 예일 뿐, QoS를 만족시키는 것이 불가능한 경우 외에 다른 경우에서도 포지셔닝 에 대한 error 처리 및 중단이 수행될 수 있다. 다음으로 기지국과 위치 서버 간에 정의된 포지셔닝 프로토콜의 경우 LTE 시스템에서는 LPPa로 명명될 수 있으 며 기지국과 위치 서버간에 다음과 같은 기능들 중 적어도 하나가 수행될 수 있다. * E-CID 위치 정보 전송 * OTDOA 정보 전송 * 일반적인 error 상태 보고 * assistance 정보 전송 또한, 기지국과 위치 서버 간에 정의된 포지셔닝 프로토콜의 경우 NR 시스템에서는 NRPPa로 명명될 수 있으며, 위의 LPPa가 수행하는 역할을 포함하여 추가적으로 기지국과 위치 서버간에 다음과 같은 기능들 중 적어도 하나 가 수행될 수 있다. * 포지셔닝 정보 전송 * 측정 (Measurement) 정보 전송 * TRP 정보 전송 일 실시 예에 따르면, NR 시스템에서는 LTE 시스템과 달리 더 많은 포지셔닝 기법들이 지원된다. 따라서, 상기 포지셔닝 정보 전송을 통해 다양한 포지셔닝 기법들이 지원될 수 있다. 예를 들어, 단말이 전송한 포지셔닝 SRS(Sound Reference Signal)을 통해 기지국에서 포지셔닝 측정을 수행하는 것이 가능하다. 따라서, 포지셔닝 정보로 포지셔닝 SRS 설정 및 활성화/비활성화와 관련된 정보가 기지국과 위치 서버간에 교환될 수 있다. 다음 으로 측정 정보 전송은 LTE 시스템에서는 지원되지 않는 Multi-RTT, UL-TDOA, 및/또는 UL-AOA관련 정보를 기지 국과 위치 서버간에 교환하는 기능을 나타낸다. 마지막으로 TRP 정보 전송은 LTE 시스템에서는 cell 기반으로 포지셔닝이 수행되었지만, NR 시스템에서는 TRP를 기반으로 포지셔닝이 수행될 수 있기 때문에 TRP를 기반으로 포지셔닝을 수행하는 것과 관련된 정보가 교환될 수 있다. 일 실시 예에 따르면, 사이드링크에서 단말의 위치를 측정하기 위해 포지셔닝 관련 설정을 수행하는 주체와 포 지셔닝을 계산하는 주체는 다음과 같이 3가지 경우로 구분될 수 있다. * UE (no LS) * LS (through BS) * LS (through UE) 우선 상기에서 LS (Location Sever)는 위치 서버를 의미하며, BS(Base Station)은 gNB 또는 eNB와 같은 기지국 을 의미하며, UE는 사이드링크를 통해 송수신을 수행하는 단말을 의미한다. 예를 들어, 사이드링크를 통해 송신 및/또는 수신을 수행하는 단말은 차량 단말 및 보행자 단말일 수 있다. 또 다른 예를 들어, 사이드링크를 통해 송신 및/또는 수신을 수행하는 단말은 단말 기능을 장착한 RSU (road side unit), 기지국 기능을 장착한 RSU, 또는 기지국 기능의 일부 및 단말 기능의 일부를 장착한 RSU를 포함할 수 있다. 예를 들어, 사이드링크를 통해 송신 및/또는 수신을 수행하는 단말은 단말의 위치가 알려져 있는 PRU (Positioning Reference Unit)를 포함할 수 있다. 일 실시 예에 따르면, UE (no LS)는 위치 서버와 연결이 없는 사이드링크 단말을 의미한다. LS(through BS)는 위치 서버로, 기지국과 연결된 위치 서버를 나타낸다. 이와 달리, LS(through UE)는 위치 서버로, 사이드링크 단말과 연결된 위치 서버를 나타낸다. 즉, LS (through UE)는 단말이 기지국 커버리지 내에 있지 않은 경우에도 위치 서버가 이용 가능한 경우에 대응할 수 있다. 이때 일반적인 단말이 아닌 RSU나 PRU와 같은 특정 단말에만 LS (through UE)가 이용 가능할 수도 있다. 그리고 사이드링크에서 위치 서버와 연결된 단말은 새로운 단말(new type of device)로 정의될 수 있다. 그리고 위치 서버와 연결되는 UE capability를 지원하는 특정 단말만, 사이 드링크를 통해 위치 서버와 연결되는 기능을 수행할 수도 있다. 일 실시 예에 따르면, [표 1]에서 경우 1 내지 경우 9는 사이드링크에서 단말의 위치를 측정하기 위해 포지셔닝 관련 설정을 수행하는 주체와 포지셔닝을 계산하는 주체에 따른 다양한 조합을 나타낸다. 본 개시에서 단말의 위치 측정이 필요한 단말을 target 단말로 명명한다. 또한 단말의 위치가 알려져 있거나, target 단말의 위치 측정을 위해 포지셔닝 신호를 제공해 줄 수 있는 단말은 Anchor 단말로 명명된다. 따라서, Anchor 단말은 자신의 위치정보를 가지고 있을 수 있으며 S-PRS (Sidelink Positioning Reference Signal)과 함께 단말의 위치 정보를 함께 제공해 줄 수도 있을 것이다. 즉, Anchor 단말의 경우에 이미 위치를 알고 있는 (known location) 단말일 수 있다. 하지만 anchor 단말은 자신의 위치를 알지 못하는 (unknown location) 단말 일 수도 있다. anchor 단말이 이미 위치를 알고 있는 (known location) 단말인 경우에 해당 위치 정보가 target 단말로 전달되어 target 단말은 UE-based에 기반한 포지셔닝을 수행할 수 있을 것이다. 일 실시 예에 따르면, Target 단말 및 Anchor 단말에 대한 명칭은 다른 용어로 대체될 수 도 있다. 예를 들어, Anchor 단말은 PosRef (Positioning Reference) 단말로 명명될 수도 있다. 또한 포지셔닝 설정은 UE- configured와 Network-configured 방식으로 구분될 수 있다. [표 1]에서, 포지셔닝 설정이 UE (no LS)인 경우 는 UE-configured 방식에 해당될 수 있다. UE-configured 방식의 경우에는 단말이 네트워크(기지국) 커버리지내 에 있지 않은 경우에도 포지셔닝 설정이 가능한 장점이 있다. [표 1]에서 포지셔닝 설정이 LS (through BS)인 경우는 Network-configured 방식에 해당될 수 있다. Network-configured 방식의 경우에는 단말이 네트워크 커 버리지 내에 있고 기지국으로 포지셔닝 계산 및 측정 정보를 보고(Reporting)하여 기지국과 연결된 위치서버에 서 target UE의 위치 측정을 수행하기 때문에, 위치 측정과 관련된 시그널링에 의해 지연(Delay)가 발생할 수 있지만 보다 정확한 위치 측정이 가능할 수 있다. 마지막으로, [표 1]에서 포지셔닝 설정이 LS (through UE)인 경우는 단말이 네트워크 커버리지 내에서 기지국을 통해 설정되는 방식이 아니기 때문에 Network-configured 방 식으로 구분되지 않을 수 있다. 또한 단말에 연결된 위치 서버에서 설정을 제공하지만 단말이 설정하는 것으로 구분되지 않을 경우에 UE-configured 방식으로 구분되지 않을 수 있다. 하지만, 단말이 설정하는 것으로 구분된 경우에 UE-configured 방식으로 구분될 수 도 있을 것이다. 따라서, LS (through UE)인 경우는 UE-configured 또는 Network-configured 방식이 아닌 다른 방식으로 명명될 수도 있다. 또한, 포지셔닝 계산은 앞서 설명한 바와 같이 UE-assisted와 UE-based의 두가지 방식으로 구분될 수 있다. [표 1]에서 포지셔닝 계산이 UE (no LS)인 경우는 UE-based에 해당되며 포지셔닝 계산이 LS (through BS) 또는 LS (through UE)인 경우는 일반적으로 UE-assisted에 해당할 수 있다. 하지만, 포지셔닝 계산이 LS (through UE) 이고 해당 위치 서버가 단말로 해석되는 경우에 LS (through UE)는 UE-based로 분류될 수도 있을 것이다.[표 1]"}
{"patent_id": "10-2023-0105157", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "[표 1]에서 포지셔닝 설정 정보는 S-PRS (Sidelink Positioning Reference Signal) 설정 정보를 포함할 수 있 다. 예를 들어, S-PRS 설정 정보는 S-PRS의 패턴 정보 및 시간/주파수 전송 위치에 관련된 정보일 수 있다. 또 한 [표 1]에서 포지셔닝 계산에 있어서, 단말이 S-PRS를 수신하고, 수신한 S-PRS로부터 측정(예: 포지셔닝 계산)이 수행될 수 있으며 어떠한 포지셔닝 방법이 적용 되느냐에 따라서 포지셔닝 측정 및 계산 방법이 달라질 수 있다. 예를 들어, 사이드링크에서 위치 정보의 측정은 단말의 2차원 (x,y) 및 3차원 (x,y,z) 좌표 위치 값을 제공하는 absolute 포지셔닝일수도 있으며, 다른 단말로부터 상대적인 2차원 또는 3차원 위치 정보를 제공하는 relative 포지셔닝일수도 있다. 또한, 사이드링크에서 위치 정보는 단지 다른 단말로부터의 거리(distance)나 방향 (direction) 모두 또는 둘 중 하나의 정보를 포함하는 ranging 정보일 수 있다. 만약, 사이드링크에서 ranging 의 의미가 거리와 방향 정보를 모두 포함하는 경우 ranging은 relative 포지셔닝과 동일한 의미일 수 있다. 또 한 포지셔닝 방법으로 SL-TDOA (Sidelink Time Difference Of Arrival), SL-AOD (Sidelink Angle-of- Departure), SL Multi-RTT (Sidelink Multi-Round Trip Time), SL RTT (Sidelink Round Trip Time), Sidelink E-CID, 및/또는 SL-AOA (Sidelink Angle-of-Arrival)등의 방법이 고려될 수 있을 것이다. 도 4는 일 실시 예에 따른 사이드링크를 통해 단말의 위치를 계산하는 경우를 설명하는 도면이다. 도 5는 일 실시 예에 따른 사이드링크를 통해 단말의 위치를 계산하는 경우를 설명하는 도면이다. 도 6은 일 실시 예에 따른 사이드링크를 통해 단말의 위치를 계산하는 경우를 설명하기 위한 도면이다. 본 개시에서 사이드링크를 통해 단말의 위치를 계산하는 경우가 도 4 내지 도 6에 도시된 경우에 한정되는 것은 아니다. 도 4 내지 도 6에서 포지셔닝 설정 정보의 시그널링은 검은색 점선으로 도시 되었다. S-PRS의 전송은 하늘색 점선으로 도시 되었다. S-PRS 전송의 경우 양 방향 또는 단 방향으로 이루어질 수 있다. 포지셔닝을 위 해 측정된 정보 또는 측정된 포지셔닝 정보의 전송은 빨간색 점선으로 도시 되었다. 마지막으로, 단말이 알고 있는 위치 정보 (known location)의 전송은 파란색 점선으로 도시되었다. 도 4의 (a)는, 위치 서버와 연결이 없는 사이드링크 단말이 포지셔닝 설정을 제공하고 위치 서버와 연결이 없는 target 단말이 포지셔닝 계산을 수행하는 경우에 대한 예시를 나타낸다. 이는 [표 1]의 경우 1에 해당할 수 있 다. 이러한 경우에 포지셔닝 관련 설정 정보에 대한 지시를 target 단말이 다른 단말로 사이드링크를 통해 브로 트케스트, 유니케스트, 또는 그룹케스트 할 수 있다. 또한 target 단말은 제공받은 포지셔닝 신호를 기반으로 포지셔닝 계산을 수행할 수 있다. 도 4의 (b)는, 위치 서버와 연결이 없는 사이드링크 단말이 포지셔닝 설정을 제공하고 target 단말이 네트워크 커버리지내에 위치하여 기지국과 연결된 위치 서버가 포지셔닝 계산을 수행하는 경우에 대한 예시를 나타낸다. 이는 [표 1]의 경우 2에 해당할 수 있다. 이 경우에 포지셔닝 관련 설정 정보에 대한 지시를 target 단말이 다 른 단말로 사이드링크를 통해 브로트케스트, 유니케스트, 또는 그룹케스트 할 수 있다. 또한, target 단말은 제 공받은 포지셔닝 신호를 기반으로 포지셔닝 측정을 수행하고 target 단말이 기지국 커버리지내에 있기 때문에 측정된 포지셔닝 정보를 기지국으로 보고할 수 있다. 그러면 보고된 측정 정보가 기지국과 연결된 위치 서버로 보고되어 위치 서버는 포지셔닝 계산을 수행할 수 있다. 도 4의 (c)는, 위치 서버와 연결이 없는 사이드링크 단말이 포지셔닝 설정을 제공하고 위치 서버와 연결된 사이 드링크 단말을 통해 위치 서버가 포지셔닝 계산을 수행하는 경우에 대한 예시를 나타낸다. 이는 [표 1]의 경우 3에 해당될 수 있다. 이러한 경우에 포지셔닝 관련 설정 정보에 대한 지시를 target 단말이 다른 단말로 사이드 링크를 통해 브로트케스트, 유니케스트, 또는 그룹케스트 할 수 있다. 또한, target 단말은 제공받은 포지셔닝 신호를 기반으로 포지셔닝 측정을 수행하고 target 단말이 위치 서버와 연결된 단말과의 사이드링크 커버리지내에 있기 때문에 측정된 포지셔닝 정보를 위치 서버와 연결된 단말로 보고할 수 있다. 도 4의 (c)는 위치서버 와 연결된 단말이 Anchor 단말(RSU)로 도시 되었으나, RSU가 아닌 단말이 될 수도 있다. 이후에 측정 정보가 Anchor 단말(RSU)와 연결된 위치 서버로 보고되어 위치 서버는 포지셔닝 계산을 수행할 수 있다. 도 5의 (a)는, 사이드링크 단말이 네트워크 커버리지내에 위치하여 기지국과 연결된 위치 서버가 포지셔닝 설정 을 제공하고 위치 서버와 연결이 없는 target 단말이 포지셔닝 계산을 수행하는 경우에 대한 예시를 나타낸다. 이는 [표 1]의 경우 4에 해당될 수 있다. 이러한 경우에 LPP와 같은 포지셔닝 프로토콜을 사용하여 기지국과 연 결된 위치 서버는 포지셔닝 설정 정보를 제공할 수 있다. 또한 target 단말은 제공받은 설정 정보 및 포지셔닝 신호를 기반으로 포지셔닝 계산을 수행할 수 있다. 도 5의 (b)는, 사이드링크 단말이 네트워크 커버리지내에 위치하여 기지국과 연결된 위치 서버가 포지셔닝 설정 을 제공하고 target 단말이 네트워크 커버리지내에 위치하여 기지국과 연결된 위치 서버에서 포지셔닝 계산을 수행하는 경우에 대한 예시를 나타낸다. 이는 [표 1]의 경우 5에 해당될 수 있다. 이 경우에 LPP와 같은 포지셔 닝 프로토콜을 사용하여 기지국과 연결된 위치 서버는 포지셔닝 설정 정보를 제공할 수 있다. 또한 target 단말 은 제공받은 설정 정보 및 포지셔닝 신호를 기반으로 포지셔닝 측정을 수행하고, target 단말은 기지국의 커버 리지 내에 있기 때문에 측정된 포지셔닝 정보를 기지국에게 보고할 수 있다. 그러면 해당 측정 정보가 기지국과 연결된 위치 서버로 보고되어 위치 서버는 포지셔닝 계산을 수행할 수 있다. 도 5의 (c)는, 사이드링크 단말이 네트워크 커버리지 내에 위치하여 기지국과 연결된 위치 서버가 포지셔닝 설 정을 제공하고 위치 서버과 연결된 사이드링크 단말을 통해 위치 서버에서 포지셔닝 계산을 수행하는 경우에 대 한 예시를 나타낸다. 이는 [표 1]의 경우 6에 해당될 수 있다. 이 경우에 LPP와 같은 포지셔닝 프로토콜을 사용 하여 기지국과 연결된 위치 서버는 포지셔닝 설정 정보를 제공할 수 있다. 또한, target 단말은 제공받은 설정 정보 및 포지셔닝 신호를 기반으로 포지셔닝 측정을 수행하고, target 단말은 위치 서버와 연결된 단말과의 사 이드링크 커버리지내에 있기 때문에 측정된 포지셔닝 정보를 위치 서버와 연결된 단말로 보고할 수 있다. 도 5 의 (c)는 위치 서버와 연결된 단말이 Anchor 단말(RSU)로 도시 되었으나, RSU가 아닌 단말이 될 수도 있다. 이 후에 해당 측정 정보가 Anchor 단말(RSU)와 연결된 위치 서버로 보고되어 위치 서버는 포지셔닝 계산을 수행할 수 있다. 도 6의 (a)은, 위치 서버과 연결된 사이드링크 단말을 통해 위치 서버에서 포지셔닝 설정을 제공하고 위치 서버 와 연결이 없는 target 단말이 포지셔닝 계산을 수행하는 경우에 대한 예시를 나타낸다. 이는 [표 1]의 경우 7 에 해당될 수 있다. 이러한 경우에 LPP와 같은 포지셔닝 프로토콜이 사용되어 단말과 연결된 위치 서버에서 포 지셔닝 설정 정보를 제공할 수 있다. 또한 target 단말은 제공받은 설정 정보 및 포지셔닝 신호를 기반으로 포 지셔닝 계산을 수행할 수 있다. 도 6의 (b)는, 위치 서버과 연결된 사이드링크 단말을 통해 위치 서버에서 포지셔닝 설정을 제공하고 target 단 말이 네트워크 커버리지 내에 위치하여 기지국과 연결된 위치 서버가 포지셔닝 계산을 수행하는 경우에 대한 예 시를 나타낸다. 이는 [표 1]의 경우 8에 해당할 수 있다. 이러한 경우에 LPP와 같은 포지셔닝 프로토콜이 사용 되어 단말과 연결된 위치 서버가 포지셔닝 설정 정보를 제공할 수 있다. 또한 target 단말은 제공받은 설정 정 보 및 포지셔닝 신호를 기반으로 포지셔닝 측정을 수행하고, target 단말은 기지국 커버리지내에 있기 때문에 측정된 포지셔닝 정보를 기지국에게 보고할 수 있다. 보고된 측정 정보가 기지국과 연결된 위치 서버로 보고되 어 위치 서버는 포지셔닝 계산을 수행할 수 있다. 도 6의 (c)는, 위치 서버과 연결된 사이드링크 단말을 통해 위치 서버에서 포지셔닝 설정을 제공하고 위치 서버 과 연결된 사이드링크 단말을 통해 위치 서버가 포지셔닝 계산을 수행하는 경우에 대한 예시를 나타낸다. 이는 [표 1]의 경우 9에 해당될 수 있다. 이러한 경우에 LPP와 같은 포지셔닝 프로토콜이 사용되어 단말과 연결된 위 치 서버는 포지셔닝 설정 정보를 제공할 수 있다. 또한, target 단말은 제공받은 설정 정보 및 포지셔닝 신호를 기반으로 포지셔닝 측정을 수행하고, target 단말은 위치 서버와 연결된 단말과의 사이드링크 커버리지 내에 있 기 때문에 측정된 포지셔닝 정보를 위치 서버와 연결된 단말로 보고할 수 있다. 도 6의 (c)는 위치 서버와 연결 된 단말이 Anchor 단말(RSU)로 도시 되었으나, RSU가 아닌 단말이 될 수도 있다. 이후에 보고된 측정 정보가 Anchor 단말(RSU)와 연결된 위치 서버로 보고되어 위치 서버는 포지셔닝 계산을 수행할 수 있다. 일 실시 예에 따르면, 포지셔닝 설정은 포지셔닝에 대한 요청, 다시 말해 Location Service Request가 발생된 경우에 수행될 수 있다. [표 1]에서 포지셔닝 설정을 수행하는 주체가 UE (no LS), LS (through BS), 또는 LS (through UE)가 될 수 있음이 설명되었다. LS (through UE)은 단말에 위치 서버가 설치되어 있는 또는 연결된 경우로 Server 단말로 명명될 수 있다. 본 개시에서 Server 단말이 될 수 있는 단말을 특정 단말로 한정되지 않는다. 예를 들어, Target 단말이 Server 단말이 될 수도 있고, Anchor 단말이 Server 단말이 될 수도 있을 것이다. 이와 달리, Target 단말 및 Anchor 단말이 아닌 다른 단말이 Server 단말이 될 수도 있을 것이다. Server 단말에 대한 명칭은 이와 유사한 의미를 갖는 다른 용어로 대체될 수 있음에 주목한다. 일 실시 예에 따르면, 포지셔닝 설정을 수행하는 주체는 사이드링크 포지셔닝을 수행하는 Target 단말 및 Anchor 단말(들)을 결정할 수 있을 것이다. 예를 들어, 포지셔닝 설정을 수행하는 주체는 absolute 포지셔닝을 수행하는 경우에 다수의 Anchor 단말들을 후보 단말들로 결정할 수 있다. 포지셔닝 설정을 수행하는 주체는 discovery 절차를 통해 사이드링크 포지셔닝을 수행할 수 있는 Target 단말 및 Anchor 단말(들)을 발견할 수 있 을 것이다. 본 개시에서 포지셔닝 설정을 수행하는 주체가 discovery를 수행하는 절차는 특정 방법으로 한정되 지 않는다. 포지셔닝 설정을 수행하는 주체는 Target 단말 및 Anchor 단말(들)을 발견하고 해당 단말들에게 포 지셔닝 신호를 전송하거나 포지셔닝 측정 결과를 보고하도록 triggering 할 수 있을 것이다. 예를 들어, 포지셔 닝 신호는 S-PRS (Sidelink Positioning Reference Signal)가 될 수 있다. 본 개시에서는 사이드링크에서 지원 되는 포지셔닝 방법에 따라 포지셔닝 신호를 전송을 triggering하거나 포지셔닝 측정 결과를 요청하는 단말 동 작 및 이러한 지시를 받은 단말의 동작들이 제안된다. 아래의 실시 예에서는 사이드링크를 통해 전송되는 S-PRS를 이용하여 사이드링크 포지셔닝을 수행하는 방법을 설명한다. 도 7은 본 개시의 실시예에 따라 SL-RTT(Sidelink Round Trip Time), SL-RSTD(Sidelink Reference Signal Time Difference), SL-RTOA(Sidelink Relative Time of Arrival), 및/또는 SL-AoA(Sidelink Angle of Arrival)를 설명하기 위한 도면이다. 하지만 본 개시에서 사이드링크 포지셔닝 방법은 이에 한정하지 않는다. 도 7을 참조하면, 포지셔닝 설정을 수 행하는 주체가 도시 되지 않았다. [표 1]을 통해 설명한 바와 같이, UE (no LS), LS (through BS), 또는 LS (through UE)가 포지셔닝 설정을 수행하는 주체가 될 수 있다. 예를 들어, LS (through UE)은 Server 단말로 명명되었으며, Server 단말은 Target 단말, 또 다른 anchor 단말, Target 단말 및 anchor 단말이 아닌 다른 단 말이 될 수 있다. Server 단말은 RSU (Road Side Unit)과 단말이 될 수도 있을 것이다. 도 7의 (a)는 사이드링크를 통해 전송되는 S-PRS를 이용하여 SL-RTT (Sidelink Round Trip Time)가 수행되는 방법을 설명한다. 도 7의 (a)를 참조하면, 타겟 단말은 Target 단말의 SL-RTT 측정을 위해 주변 anchor 단말로 S-PRS를 전송한다. 이 경우, Target 단말의 S-PRS 전송에 대한 triggering은 단말 자신 (i.e. UE (no LS)), BS 와 연결된 위치 서버 (i.e. LS (through BS)), 또는 Server 단말 (i.e., LS (through UE))가 될 수 있다. Target 단말이 SL-RTT 측정을 위해서는 anchor 단말(들)이 Target 단말이 전송한 S-PRS를 수신하고 Target 단 말로 S-PRS를 전송해 주어야 한다. 그리고 anchor 단말(들)이 Target 단말이 전송한 S-PRS를 수신하고 Target 단말로 S-PRS를 전송하는 시간차(i.e. Rx-Tx time difference)를 보고해 주어야 할 필요가 있다. anchor 단말 (들)이 Target 단말로 S-PRS 전송에 대한 triggering 및 시간차(Rx-Tx time difference) 보고에 대한 요청은 단말 자신 (i.e. UE (no LS)), BS와 연결된 위치 서버 (i.e. LS (through BS)), 또는 Server 단말 (i.e., LS (through UE))에 의해 수행 될 수 있다. 아래 실시예 1에서는 anchor 단말(들)이 Target 단말로 S-PRS 전송에 대한 트리거링(triggering) 및 시간차(Rx-Tx time difference) 보고에 대한 요청이 Target 단말에 의해서 수행 되는 경우가 설명된다. 이때 Target 단말은 Server 단말 (i.e., LS (through UE))일 수도 위치 서버와 연결되 지 않은 단말 (i.e. UE (no LS))일 수도 있다. 도 7의 (b)는 사이드링크를 통해 전송되는 S-PRS를 이용하여 SL-RSTD (Sidelink Reference Signal Time Difference)가 수행되는 방법을 설명한다. 도 7의 (b)를 참조하면, Target 단말의 SL-RSTD 측정을 위해 주변 anchor 단말(들)이 Target 단말로 S-PRS를 전송한다. 이 경우, anchor 단말(들)의 S-PRS 전송에 대한 triggering은 단말 자신 (i.e. UE (no LS)), BS와 연결된 위치 서버 (i.e. LS (through BS)), 또는 Server 단 말 (i.e., LS (through UE))에 의해 수행될 될 수 있다. 아래 실시 예 1에서는 anchor 단말(들)의 S-PRS 전송 에 대한 triggering이 Target 단말에 의해서 수행되는 경우가 설명된다. 이 경우, Target 단말은 Server 단말 (i.e., LS (through UE))일 수도 위치 서버와 연결되지 않은 단말 (i.e. UE (no LS))일 수도 있다. 도 7의 (c)은 사이드링크를 통해 전송되는 S-PRS를 이용하여 SL-RTOA (Sidelink Relative Time of Arrival)가 수행되는 방법을 설명한다. 도 7의 (c)를 참조하면, Target 단말의 포지셔닝을 위해 Target 단말은 주변 anchor 단말로 S-PRS를 전송한다. 이 경우, Target 단말의 S-PRS 전송에 대한 triggering은 단말 자신(i.e. UE (no LS)), BS와 연결된 위치 서버(i.e. LS (through BS)), 또는 Server 단말(i.e., LS (through UE))가 될 수 있다. Target 단말의 포지셔닝을 위해 anchor 단말(들)이 Target 단말이 전송한 S-PRS를 수신하고 RTOA를 측정하여 Target 단말로 보고해 주어야 한다. anchor 단말(들)이 Target 단말로 RTOA 보고에 대한 요청은 단말 자신 (i.e. UE (no LS)), BS와 연결된 위치 서버 (i.e. LS (through BS)), 또는 Server 단말 (i.e., LS (through UE))에 의해 수행될 수 있다. 아래 실시 예 1에서는 anchor 단말(들)이 Target 단말로 S-PRS 전송에 대한 triggering 및 Rx-Tx time difference 보고에 대한 요청이 Target 단말에 의해서 수행되는 경우가 설명된다. 이때 Target 단말은 Server 단말 (i.e., LS (through UE))일 수도 위치 서버와 연결되지 않은 단말 (i.e. UE (no LS))일 수도 있다. 도 7의 (d)는 사이드링크를 통해 전송되는 S-PRS를 이용하여 SL-AoA(Sidelink Angle of Arrival)가 수행되는 방법을 설명한다. 도 7의 (d)를 참조하면, Target 단말의 SL-AoA 측정을 위해 주변 anchor 단말(들)이 Target 단말로 S-PRS를 전송한다. 이 경우, anchor 단말(들)의 S-PRS 전송에 대한 triggering은 단말 자신(i.e. UE (no LS)), BS와 연결된 위치 서버(i.e. LS (through BS)), 또는 Server 단말(i.e., LS (through UE))에 의해 수행 될 수 있다. 아래 실시예 1에서는 anchor 단말(들)의 S-PRS 전송에 대한 트리거링(triggering)이 Target 단말에 의해서 수행되는 경우를 고려한다. 이때, Target 단말은 Server 단말 (i.e., LS (through UE))일 수도 위치 서버와 연결되지 않은 단말 (i.e. UE (no LS))일 수도 있다. 본 개시에서 아래의 실시 예들 중 하나 이상이 서로 조합되어 사용될 수 있음에 주목한다. 즉, 본 개시에서 이 하 설명되는 실시 예들은 모순되지 않는 이상 조합되거나 결합될 수 있다. <제1 실시예> 제1 실시예에서는 S-PRS의 자원 정보 및 이에 대한 설정 방법이 제안된다. S-PRS는 사이드링크 통신(데이터 전 송)이 수행되는 자원 풀 (shared resource pool with SL communication로 명명될 수 있음)에서 전송될 수 있다. 또 다른 예로서, S-PRS는 S-PRS의 전송을 위해 정의된 자원 풀 (dedicated resource pool for SL positioning으로 명명될 수 있음)에서 전송될 수 도 있다. 상술된 두가지 경우에 대해 S-PRS 자원의 전송 방법 및 S-PRS 자원 정보의 설정이 달라질 수 있다. S-PRS 자원 설정은 상위 설정 값으로 S-PRS 자원은 복수 개 설정 될 수 있다. 그리고 하나의 S-PRS 자원 설정에는 다음의 정보 중 적어도 일부가 포함될 수 있다. * S-PRS 자원 정보 0: S-PRS 자원 ID * S-PRS 자원 정보 1: S-PRS가 전송되는 슬롯에서의 심볼 위치 및 길이 * S-PRS 자원 정보 2: S-PRS의 Comb 패턴 정보 * S-PRS 자원 정보 3: S-PRS가 전송되는 주파수 위치 * S-PRS 자원 정보 4: S-PRS가 전송되는 시간상 위치 및 주기 관련 정보 * S-PRS 자원 정보 5: S-PRS sequence ID * S-PRS 자원 정보 6: PSCCH 심볼 수 * S-PRS 자원 정보 7: 하나의 슬롯에서 S-PRS 자원의 TDM 활성화 여부 및 TDM 되는 자원 수 정보 본 개시에서 S-PRS 자원 설정에 포함되는 정보는 정보 또는 IE(information element)들에 한정되지 않는다. 또 한, 상술된 정보 또는 S-PRS 자원 설정이 설정되는 것은 (Pre-)configuration 되는 것을 의미할 수 있다. (Pre-)configuration에 대한 상세는 도3과 관련된 설명을 참고한다. 예를 들어, S-PRS 자원 설정은 미리 설정될 수 있다. 일 실시 예에 따르면, S-PRS 자원 정보 0(S-PRS 자원 ID)는 S-PRS 자원을 구별하기 위한 식별자이나 다른 S-PRS 자원 정보 설정 방법에 따라 고유한 식별자가 되지 않을 수 있다. 이는 아래에 보다 구체적인 설명을 참고한다. 아래 실시 예에 S-PRS 자원 정보 1 내지 3이 S-PRS가 전송되는 자원 풀에 따라 어떻게 설정될 수 있는지 보다 구체적으로 설명된다. S-PRS 자원 정보 4(예: S-PRS가 전송되는 시간상 위치 및 주기 관련 정보)는 periodic reservation을 통한 S-PRS 전송이 사용되는지에 대한 여부, 및/또는 periodic reservation을 통해 S-PRS가 주 기적으로 전송되는 경우에 이에 대한 후보 periodic reservation interval 값들을 포함하거나, 값들이 설정될 수 있다. 설정된 후보 값들 중 사용되는 periodic reservation interval은 SCI를 통해 PSCCH로 전송될 수 있을 것이다. 또한 S-PRS 자원 정보 4는 S-PRS에 대한 repetition period 및 repetition간 time gap 정보가 포함될 수 있다. 또한, S-PRS 자원 정보 4는 S-PRS의 시작 위치를 결정하는 기준점 (reference slot)으로부터 time offset 값 정보를 포함할 수 있다. S-PRS 자원 정보 5(S-PRS sequence ID)는 S-PRS 시퀀스를 생성하는 데 필요한 12 비트 값으로 값이 설정되지 않은 경우에는 S-PRS 전송과 연결된 PSCCH에 사용된 CRC의 LBS (Least Significant Bit)에 해당되는 12 비트 값이 사용될 수 있다. S-PRS 자원 정보 6 및 7은 S-PRS가 S-PRS의 전송을 위해 정의된 자원 풀에서 전송되는 경 우에 설정될 수 있을 것이다. 이에 대한 상세는 아래 실시예를 참고한다. 우선 S-PRS가 사이드링크 통신(데이터 전송)이 수행되는 자원 풀 에서 전송되는 경우가 고려된다. 그리고 상기 S-PRS 자원 정보 1(S-PRS가 전송되는 슬롯에서의 심볼 위치 및 길이)가 고려된다. 본 개시에서는 S-PRS가 전송 되는 슬롯은 PSSCH의 자원 할당에 따른 슬롯 위치에 의해서 결정되는 것으로 가정된다. 도 8a는 S-PRS 자원 정보 1의 설정 방법을 설명하기 위한 도면이다. 도 8b는 S-PRS 자원 정보 1의 설정 방법을 설명하기 위한 도면이다. 도 8c는 S-PRS 자원 정보 1의 설정 방법을 설명하기 위한 도면이다. 즉, 도 8a 내지 도 8c은 사이드링크 통신(데이터 전송)을 위해 PSCCH/PSSCH가 전송되는 가능한 물리 계층 구조 가 도시 되었다. 도 8a, 도 8b, 도 8c를 참고하면, 일 실시 예에 따른 PSCCH 심볼 길이는 2심볼 또는 3심볼로 설정될 수 있다. 또한 맨 앞 심볼에 AGC심볼을 포함하여 PSCCH/PSSCH가 전송되는 영역의 Symbol length (ld)은 6부터 13까지가 될 수 있다. 또한, 맨 마지막 심볼에 하나의 Gap 심볼을 고려할 경우에 하나의 슬롯에서 SL operation을 위해 사용되는 심볼 길이(sl-LengthSymbols)는 {sym7, sym8, sym9, sym10, sym11, sym12, sym13, sym14} 중 하나의 값으로 설정될 수 있다. 또한 하나의 슬롯에서 SL operation을 위해 사용되는 심볼의 시작 위치 (sl- StartSymbol)는 {sym0, sym1, sym2, sym3, sym4, sym5, sym6, sym7} 중 하나의 값으로 설정될 수 있다. 도 8a 내지 도 8c에는 sl-StartSymbol=sym0으로 설정된 경우가 도시 되었다. 일 실시 예에 따르면, PSSCH DMRS 심볼 수는 2 부터 4까지 설정될 수 있으며 하나 또는 하나 이상의 PSSCH DMRS 심볼 수가 설정될 수 있다. 하나 이상의 DMRS 심볼 수가 설정된 경우에 단말은 PSSCH DMRS 심볼 수를 결정하여 1st SCI를 통해 지시할 수 있다. 여기서 1st SCI는 PSCCH를 통해 전송된다. 도 8a 내지 도 8c에는 설정된 PSCCH 심볼 길이, 설정된 sl-LengthSymbols로부터 결정된 길이(ld), 설정 및 결정된 DMRS 심볼 수로부터 사이드링크 채널 및 기준 신호가 전송되는 다양한 경우가 도시 되었다. 본 개시에서는 도 8a 내지 도 8c에서와 같이 S-PRS가 사이드링크 통신(데이터 전송)이 수행되는 자원 풀 에서 전송될 때, 하나의 슬롯에서 PSSCH와 S-PRS가 TDM(Time domain multiplexing)되어 전송되는 경우가 설명된다. 이 경우, S-PRS가 전송되는 심볼 영역이 설정될 필요가 있다. S-PRS가 전송되는 심볼 영역을 결정 및 설정할 때 다음과 같은 조건들 중 하나 이상이 고려될 수 있다. * 조건 0: S-PRS 자원으로 전송되는 심볼 길이는 {sym0, sym1, sym4} 중 하나의 값으로 설정될 수 있다. 하지만 본 개시에서 S-PRS 자원으로 전송되는 심볼 길이를 {sym0, sym1, sym4}로 한정하지 않는다. * 조건 1: S-PRS 자원은 시간상 연속적인 심볼에서 전송된다. * 조건 2: S-PRS 자원은 PSSCH DMRS가 전송되는 심볼에서 전송되지 않는다. * 조건 3: S-PRS 자원은 PSCCH가 전송되는 심볼에서 전송되지 않는다. * 조건 4: S-PRS 자원은 2nd SCI가 전송되는 심볼에서 전송되지 않는다. 도 8a 내지 도 8c에 2nd SCI가 전송되는 영역은 도시 되지 않았지만, 2nd SCI는 첫번째 PSSCH DMRS 심볼부터 매핑 되어 전송될 수 있다. * 조건 5: 마지막 PSSCH DMRS 심볼 이전부터 심볼 길이 X가 S-PRS 자원으로 할당될 수 있다. 심볼 길이 X는 상 기 조건 0을 참고한다. 예를 들어, 심볼 길이는 sym0, sym1 또는 sym4 중 하나로 설정될 수 있다. 본 개시의 실시예에서 S-PRS가 전송되는 심볼 영역을 설정하는 첫번째 방법은 SL operation을 위해 설정(예: sl-LengthSymbols과 sl-StartSymbol 참고)된 시간상 영역 내에서 S-PRS가 전송되는 심볼 영역을 설정하는 방법 이다. 상술된 조건들이 고려될 경우에 S-PRS 자원 영역은 매우 제한될 수 있음에 주목한다. 우선 첫번째 방법에 서 S-PRS가 전송되는 심볼 길이(sl-LengthPRSSymbols)는 {sym0, sym1, sym4} 중 하나의 값으로 설정될 수있다. 또한, S-PRS가 전송되는 심볼의 시작 위치(예: sl-StartPRSSymbol)가 설정될 수 있다. 예를 들어, S-PRS 가 전송되는 심볼의 시작 위치(sl-StartPRSSymbol)은 SL operation을 위해 설정(예: sl-LengthSymbols과 sl- StartSymbol 참고)된 시간상 영역 슬롯 내의 특정 값으로 설정될 수도 있고, SL operation을 위해 설정된 sl- StartSymbol로부터의 심볼 offset값을 통해 설정될 수도 있다. 도 9는 SL 동작을 위해 설정된 시간 영역 내에서 S-PRS가 전송되는 심볼 영역을 결정하는 방법을 설명한다. 도 9를 통해 상기 첫번째 방법의 일례가 설명된다. 도 9의 (a)는 도 8a 내지 도 8c에서 SL 동작(operation)(또 는, SL 통신)을 위해 설정된 자원 영역에서 사이드링크 채널 및 기준 신호(예: S-PRS)가 전송되는 다양한 경우 중 하나에 해당된다. 예를 들어, 도 9의 (b)는 첫번째 방법에 따라 S-PRS와 TDM될 수 있는 PSSCH 및/또는 PSCCH 를 도시한다. 또 다른 예를 들어, 도 9의 (c)는 두번째 방법에 따라 S-PRS와 TDM될 수 잇는 PSSCH 및/또는 PSCCH 이외의 심볼 영역을 도시한다. 도 9의 (b)는 S-PRS가 전송되는 심볼 영역을 설정하는 첫번째 방법이 적용되는 경우가 도시된다. 예를 들어, 도 9(a)의 경우에서 sym4의 위치에서 S-PRS 자원이 하나의 심볼로 전송되도록 설정된 경우가 도시 되었다. 즉, 적 어도 하나의 S-PRS는 하나의 슬롯 내의 PSSCH 및/또는 PSCCH와 TDM되어 전송될 수 있다. 본 개시의 실시 예에서 S-PRS가 전송되는 심볼 영역을 설정하는 두번째 방법은 SL operation(또는, SL 통신)을 위해 설정(예: sl-LengthSymbols과 sl-StartSymbol 참고)된 PSCCH/PSSCH가 전송되는 시간 영역 밖에서 S-PRS가 전송되는 심볼 영역이 설정되는 방법이다. 두번째 방법에서 S-PRS가 전송되는 심볼 길이(sl- LengthPRSSymbols)는 {sym0, sym1, sym4} 중 하나의 값으로 설정될 수 있다. 또한 S-PRS가 전송되는 심볼의 시 작 위치(sl-StartPRSSymbol)가 설정될 수 있다. S-PRS가 전송되는 심볼의 시작 위치(sl-StartPRSSymbol)는 SL operation을 위해 설정(상기 sl-LengthSymbols과 sl-StartSymbol 참고)된 PSCCH/PSSCH가 전송되는 시간 영역 밖의 슬롯 내 특정 값으로 설정될 수도 있고, SL operation을 위해 설정된 sl-StartSymbol로부터의 심볼 offset값을 통해 설정될 수도 있다. 두번째 방법이 사용되는 경우에 갭(Gap) 심볼이 전송되는 위치가 변경될 수 있음에 주목한다. 즉, 적어도 하나의 S-PRS는 하나의 슬롯 중 PSSCH 및/또는 PSCCH에 대응하는 심볼 영역 이외 의 심볼 영역 상에서 전송될 수 있다. 도 9의 (c)는 S-PRS가 전송되는 심볼 영역을 설정하는 두번째 방법이 적용되는 경우가 도시 되었다. 예를 들어, 도 9의 (c)를 참고하면, sym7(예: 심볼 7) 및 sym8(예: 심볼 8)의 위치에서 S-PRS 자원이 두개의 심볼로 전송되 도록 설정된 경우가 도시 되었다. 일 실시 예에 따르면, 도 9의 (a)에서는 Gap심볼의 위치가 sym6에 해당되지만 도9(c)에서는 이러한 경우에 Gap 심볼의 위치가 S-PRS 심볼의 다음 심볼인 sym9에 해당할 수 있다.참고로, 도 9의 (b)에서는 도 9의 (a)와 동일 하게 Gap심볼의 위치가 sym6에 해당될 수 있다. 일 실시 예에 따르면, 적어도 하나의 S-PRS는 슬롯 내 다양한 위치의 심볼 상에서 전송될 수 있다. 예를 들어, 적어도 하나의 S-PRS는 슬롯 내의 PSSCH 및/또는 PSCCH에 대응하는 심볼 영역(또는, SL 통신을 위해 설정된 자원 영역) 상에서 전송될 수 있다(첫번째 방법). 예를 들어, 적어도 하나의 S-PRS는 슬롯 내의 PSSCH 및 PSCCH에 대응하는 심볼 영역을 제외한 심볼 영역 상에서 전송될 수 있다(두번째 방법). S-PRS가 사이드링크 통신(데이터 전송)이 수행되는 자원 풀 에서 전송되는 경우가 고려된다. 그리고 상기 S-PRS 자원 정보 2(S-PRS의 Comb 패턴 정보)가 고려된다. 도 10은 일 실시 예에 따른 S-PRS의 Comb 패턴을 설명하기 위한 도면이다. 우선 S-PRS의 Comb 패턴은 comb size (N) 및 S-PRS의 심볼 길이(M)가 하나 이상인 경우에 각 심볼 마다 적용되는 offset 정보(예: staggered pattern으로 명명될 수 있음)가 있을 수 있다. 도 10을 참조하면, S-PRS의 전송에 사용될 수 있는 comb size 1 (도 10(a)), comb size 2 (도 10(b)), comb size 4 (도 10(c)), 그리고 comb size 6 (도 10(d))가 도시된다. 또한, [표 2]에 하나 이상의 심볼에서 Comb 패턴이 전송될 때 심볼 마다 적용되는 offset 정보가 다양한 심볼 길이에 대해서 개시된다. 예를 들어, 도 10에 서 도시된 staggered pattern에 대한 value가 [표 2]에 설명된다. [표 2]에 따르면, S-PRS의 심볼 길이(M)가 Comb size(N)보다 큰 경우(M>N)에 마지막 (M-N) 심볼들에서는 첫 N 심볼의 comb offset이 동일하게 반복되어 적용될 수 있다. S-PRS의 전송에 사용될 수 있는 comb size 및 offset 정보는 도 10 및 [표 2]에 개시된 것에 한정하지 않는다. [표 2]는 Comb size 및 심볼 마다 적용되는 offset (staggered pattern offset) 정보일 수 있다. [표 2]"}
{"patent_id": "10-2023-0105157", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "일 실시 예에 따르면, S-PRS 자원 정보 2는 단말마다 다르게 설정될 수 있는 Comb offset 정보가 포함될 수 있 다. 또한 [표 2]의 staggered pattern offset과 Comb offset에 의한 final comb offset 정보는 아래 수학식 1 과 같이 결정될 수 있다. [수학식 1] Final comb offset = (Comb offset + staggered pattern offset) mod (comb size) [수학식 1]에서 Comb offset 정보를 결정하는 방법 및 comb offset 정보의 시그널링에 대한 상세한 설명은 아래 의 실시 예들을 참고한다. 도 10(e)와 도 10(f)를 참고하면, [수학식 1]에 의해서 결정되는 S-PRS의 패턴의 일 례가 설명된다. 우선, 도 10(e)는 N=6, M=6, 그리고 수학식 1의 Comb offset=0인 경우에 S-PRS의 패턴의 일례 를 도시한다. 또 다른 예로서, 도 10(f)는 N=6, M=6, 그리고 수학식 1의 Comb offset=1인 경우에 S-PRS의 패턴 의 일례가 도시된다. 도 10(e)와 도 10(f)를 통해 도시된 바와 같이 Comb offset 값에 따라서 단말 간 S-PRS가 orthogonal하게 전송될 수 있다. 일 실시 예에 따르면, S-PRS가 전송되는 주파수 위치는 최종적으로 S-PRS 자원 정보 3(예: S-PRS가 전송되는 주 파수 위치)와 설명한 S-PRS 자원 정보 2에 의해 결정될 수 있다. S-PRS가 사이드링크 통신(데이터 전송)이 수행 되는 자원 풀 에서 전송되는 경우(예: 도 9의 (b))에 도 8a 내지 도 8c 및 도 9를 통해 설명한 바와 같이 제한 된 S-PRS 전송 영역으로 인하여 S-PRS 전송을 위해 사용될 수 있는 심볼 수(M) 및 S-PRS comb size(N)가 제한 되어 결정 및 설정될 수 있을 것이다. 예를 들어, 심볼 수(M) 및 S-PRS comb size(N)는 각각 M≤4 그리고 N≤4 의 값으로 설정될 수 있다. 일 실시 예에 따르면, S-PRS가 사이드링크 통신(데이터 전송)이 수행되는 자원 풀 에서 전송되는 경우가 설명된 다. 그리고 S-PRS 자원 정보 3(S-PRS가 전송되는 주파수 위치)가 설명된다. 본 개시에서는 S-PRS가 전송되는 주 파수 위치가 PSSCH의 주파수 위치에 의해서 결정되는 것으로 가정된다. PSSCH 주파수 위치는 PSSCH의 주파수 위 치 설정과 PSSCH 자원 선택 및 할당에 의해서 결정될 수 있다. PSSCH 자원 선택 및 할당에 대한 상세는 아래 실 시예 2에서 설명된다. SL operation을 위해 사용되는 PSSCH의 주파수 위치 설정은 서브채널 크기, 서버채널의 시작위치, 그리고 서브채널의 수로 구성될 수 있다. 서브채널의 크기(sl-SubchannelSize)는 {n10, n12, n15, n20, n25, n50, n75, n100} 중 하나의 값으로 설정될 수 있다. 또한 PSSCH의 서브 채널의 시작 위치 (sl- StartRB-Subchannel)는 {0..265} 중 하나의 값으로 설정될 수 있다. 그리고 PSSCH의 서브 채널의 수(sl- NumSubchannel)는 {1..27} 중 하나의 값으로 설정될 수 있다. S-PRS가 S-PRS의 전송을 위해 정의된 자원 풀에서 전송되는 경우가 설명된다. 그리고 상기 S-PRS 자원 정보 1(S-PRS가 전송되는 슬롯에서의 심볼 위치 및 길이)가 설명된다. 도 11a는 S-PRS 자원 정보 1의 설정 방법을 설명하기 위한 도면이다. 도 11b는 S-PRS 자원 정보 1의 설정 방법을 설명하기 위한 도면이다. 도 11a 및 도 11b는 S-PRS가 전송되는 가능한 물리 계층 구조가 도시한다. 도 11a 및 도 11b를 참고하면, PSCCH 심볼 길이(상기 S-PRS 자원 정보 6 참고)는 1심볼 또는 2심볼 또는 3심볼로 설정될 수 있다. 또 다른 예로서, PSCCH 심볼 길이는 2심볼 또는 3심볼로 설정될 수 있다. 맨 앞 심볼은 PSCCH를 위한 AGC심볼이 전송될 수 있다. 그리고 S-PRS가 전송되는 심볼 앞에 S-PRS를 위한 AGC 심볼이 전송될 수 있다. 맨 마지막 심볼에 하나의 Gap 심 볼이 전송될 수 있다. PSCCH 심볼 길이가 2심볼 또는 3심볼로 설정되는 경우에 하나의 슬롯에서 S-PRS 전송을위해 사용되는 심볼 길이(sl-LengthPRSSymbols)는 {sym6, sym7, sym8, sym9, sym10, sym11, sym12, sym13, sym14} 중 하나의 값으로 설정될 수 있다. PSCCH 심볼 길이가 1심볼 또는 2심볼 또는 3심볼로 설정되는 경우를 고려할 경우에 하나의 슬롯에서 S-PRS 전송을 위해 사용되는 심볼 길이(sl-LengthPRSSymbols)는 {sym5, sym6, sym7, sym8, sym9, sym10, sym11, sym12, sym13, sym14} 중 하나의 값으로 설정될 수 있다. 또한, PSCCH 심볼 길이가 2심볼 또는 3심볼로 설정되는 경우에 하나의 슬롯에서 SL operation(또는, SL 통신)을 위해 사용되는 심볼의 시작 위치(sl-StartPRSSymbol)는 {sym0, sym1, sym2, sym3, sym4, sym5, sym6, sym7, sym8} 중 하나의 값으로 설정될 수 있다. PSCCH 심볼 길이는 1심볼 또는 2심볼 또는 3심볼로 설정되는 경우에 하나의 슬롯에서 SL operation(또는, SL 통신)을 위해 사용되는 심볼의 시작 위치(sl-StartPRSSymbol)는 {sym0, sym1, sym2, sym3, sym4, sym5, sym6, sym7, sym8, sym9} 중 하나의 값으로 설정될 수 있다. 도 11a 및 도 11b는 sl-StartPRSSymbol=sym0으로 설정된 경우를 도시한다. 도 11에서 S-PRS 자원이 슬롯 내에서 TDM되는 경우가 도시 되었다. 도 11에서는 TDM되는 S-PRS 자원의 수가 최 대 2인 경우만 도시 되었다. 하지만 본 개시에서 TDM되는 S-PRS 자원의 수는 최대 2로 한정되지 않는다. 예를 들어, TDM되는 S-PRS 자원의 수가 최대 X개일 수 있으며 일례로 X는 2 또는 3이 될 수 있다. X=2인 경우에는 도 11에 도시된 바와 같이 TDM된 첫번째 S-PRS 자원의 심볼 수가 TDM된 첫번째 S-PRS 자원의 심볼 수 보다 같거나 큰 것이 가정될 수 있다. 이와 달리, TDM된 첫번째 S-PRS 자원의 심볼 수가 TDM된 첫번째 S-PRS 자원의 심볼 수 보다 같거나 작은 것이 가정될 수 있다. 이러한 가정이 사용되는 경우에 TDM되는 S-PRS 자원의 위치 및 심볼 수 를 따로 지시하지 않아도 되는 이점이 있을 수 있다. 도 11a 및 도 11b에서 S-PRS 자원의 앞 심볼은 AGC (Automatic Gain Control) 심볼 이 전송된다. AGC 심 볼 은 PSCCH를 위한 AGC 심볼 와 구별될 수 있다. 이때 AGC 심볼 은 AGC 심볼 다음의 S-PRS 심볼 이 복제되어 생성될 수 있다. AGC 심볼 은 매 S-PRS 자원 마다 S-PRS 자원의 첫 심볼에 전송 될 수 있다. 따라서, S-PRS 자원이 슬롯 내에서 TDM되는 경우에 매 TDM되는 S-PRS 자원의 앞 심볼은 AGC 심볼 이 전송될 수 있다. 또한 S-PRS 자원의 맨 마지막 심볼에는 갭 (Gap) 심볼이 전송될 수 있다. S- PRS 자원이 슬롯 내에서 TDM되는 경우에 그리고 TDM된 S-PRS 자원 사이에 단말이 Tx-Rx switching이 수행되는 경우에는 도 11a 및 도 11b에 도시 되지 않았지만 TDM된 S-PRS 자원 사이에 갭 (Gap) 심볼 이 추가적으로 전송될 수 있다. 하지만, 단말이 AGC 심볼 구간내에서 Tx-Rx switching을 수행할 수 있으므로 도 11a 및 도 11b에서는 TDM된 S-PRS 자원 사이에 갭 (Gap) 심볼 이 고려되지 않았다. 도 12는 상기 S-PRS 자원 정보 1의 설정 방법에서 S-PRS 자원이 슬롯 내에서 TDM되는 경우를 설명하기 위한 도 면이다. 도 12를 참고하면, S-PRS 자원이 슬롯 내에서 TDM되는 경우는 동일한 단말에 대해서는 적용되지 않고 서로 다른 단말을 multiplxing하는 경우에만 설정될 수 있다. 예를 들어, S-PRS 자원 정보 7(예: 하나의 슬롯에서 S-PRS 자원의 TDM 활성화 여부 및 TDM 되는 자원 수 정보)에 기반하여 S-PRS 자원의 TDM 활성화 여부 및 TDM 되는 자 원 수 정보가 설정될 수 있다. 도 12의 (a)는 S-PRS 전송을 위해 사용되는 심볼 길이가 11이고 PSCCH 심볼 길이가 2심볼인 경우에 S-PRS 자원 이 TDM되지 않는 경우를 도시한다. 도 12(b)는 S-PRS 전송을 위해 사용되는 심볼의 길이가 11이고 PSSCH 심볼 길이가 2심볼인 경우에 두개의 S-PRS 자원이 TDM되는 경우를 도시한다. 도 12(b)에서와 같이 두개의 S-PRS 자원 이 TDM되는 경우에 S-PRS에 대한 자원 할당 결과(상세는 실시예 2 참고)를 통해 S-PRS가 첫번째 자원 영역 에서 전송되는지 두번째 자원 영역 에서 전송되는지가 결정될 수 있고, 지시되어야 할 수 있다. 아 래 실시예 5의 [표 9]에 도시된 바와같이 TDM offset value를 SCI로 지시하는 방법이 고려될 수 있다. 이와 달 리, 추가적인 시그널링 없이 PSCCH의 주파수상 위치와 TDM되는 S-PRS 자원 영역이 association되는 방법이 고려 될 수도 있다. 예를 들어, PSCCH가 전송되는 주파수상 위치가 단말마다 다를 수 있으며 PSCCH가 전송되는 가능 한 주파수상 위치가 X개 있다고 가정될 때 X개중 어느 위치에서 전송되는지에 따라 TDM되는 S-PRS 자원 영역이 결정될 수 있다. 도 12(c)는 S-PRS 전송을 위해 사용되는 심볼의 길이가 11이고 PSSCH 심볼 길이가 2심볼인 경 우에 세개의 S-PRS 자원이 TDM되는 경우를 도시한다. 도 12(c)에서와 같이 세개의 S-PRS 자원이 TDM되는 경우에 S-PRS에 대한 자원 할당 결과(상세는 실시예 2 참고)를 통해 S-PRS가 첫번째 자원 영역 에서 전송되는지 두번째 자원 영역 에서 전송되는지 세번째 자원 영역 에서 전송되는지가 결정되어 지시되어야 할 수 있다. 아래 실시예 5의 [표 9]에 도시된 바와같이 TDM offset value를 SCI로 지시하는 방법이 고려될 수 있 다. 추가적인 시그널링 없이 PSCCH의 주파수상 위치와 TDM되는 S-PRS 자원 영역이 association되는 방법이 고려될 수도 있다. 예를 들어, PSCCH가 전송되는 주파수상 위치가 단말마다 다를 수 있으며 PSCCH가 전송되는 가능 한 주파수상 위치가 X개 있다고 가정될 때 X개중 어느 위치에서 전송되는지에 따라 TDM되는 S-PRS 자원 영역이 결정 또는 식별될 수 있다. 일 실시 예에 따르면, S-PRS가 S-PRS의 전송을 위해 정의된 자원 풀에서 전송되는 경우가 설명된다. S-PRS 자원 정보 2(예: S-PRS의 Comb 패턴 정보)가 설명된다. 이에 대한 상세한 설명은 도 10에서 기재된다. S-PRS가 S-PRS 의 전송을 위해 정의된 자원 풀에서 전송되는 경우에는 보다 넓은 S-PRS 전송 영역을 확보할 수 있는 장점이 있 을 수 있다. 따라서, S-PRS가 S-PRS의 전송을 위해 정의된 자원 풀에서 전송되는 경우에는 S-PRS가 사이드링크 통신(예: 데이터 전송)이 수행되는 자원 풀에서 전송되는 경우(예: 도 9의 (b))보다 S-PRS 전송을 위해 사용될 수 있는 심볼 수(M) 및 S-PRS comb size(N)가 더 큰 값으로 설정될 수 있다. 또한 S-PRS에 대한 자원 할당 결과 (상세는 실시예 2 참고)를 통해 S-PRS가 전송되는 주파수상 위치가 결정되고 해당되는 comb offset이 지시 (indicating)될 수 있다. 이 경우에 아래 실시예 5의 표9에 도시된 바와같이 Comb offset value를 SCI로 지시 하는 방법이 고려될 수 있다. 이와 달리, 추가적인 시그널링 없이 PSCCH의 주파수상 위치와 Comb offset이 association되는 방법이 고려될 수도 있다. 예를 들어, PSCCH가 전송되는 주파수상 위치가 단말마다 다를 수 있 으며 PSCCH가 전송되는 가능한 주파수상 위치가 X개 있다고 가정될 때 X개중 어느 위치에서 전송되는지에 따라 comb offset이 결정되어 S-PRS가 전송되는 주파수 위치가 결정될 수 있다. 추가적으로, PSCCH의 주파수상 위치 와 Comb offset와 TDM offset가 동시에 association되는 방법이 고려될 수도 있다. PSCCH가 전송되는 주파수상 위치가 단말마다 다를 수 있으며 PSCCH가 전송되는 가능한 주파수상 위치가 X개 있다고 가정될 때 X개중 어느 위치에서 전송되는지에 따라 comb offset과 TDM offset 이 결정되어 S-PRS가 전송되는 시간 및 주파수 위치가 결정 또는 식별될 수 있다. 일 실시 예에 따르면, S-PRS가 S-PRS의 전송을 위해 정의된 자원 풀에서 전송되는 경우가 설명된다. 상기 S-PRS 자원 정보 3(S-PRS가 전송되는 주파수 위치)가 설명된다. S-PRS가 S-PRS의 전송을 위해 정의된 자원 풀에서 전 송되는 경우에 S-PRS가 전송되는 주파수 위치는 S-PRS의 주파수 위치 설정에 의해 결정될 수 있다. 예를 들어, S-PRS의 주파수 위치 설정은 S-PRS의 주파수상 시작 위치 및 RB 수로 결정될 있다. S-PRS가 S-PRS의 전송을 위 해 정의된 자원 풀에서 전송되는 경우에는 설정된 주파수 위치 전 영역에서 S-PRS가 전송될 수 있다. 이는 주파 수 자원을 할당하기 위한 추가적인 단말 동작이 정의되지 않는 것을 의미할 수 있다. 즉, S-PRS의 자원 선택은 S-PRS가 전송되는 시간 위치에 대해서만 수행될 수 있다. 또한, 설정된 주파수 위치는 자원 풀을 사용하는 모든 단말에게 동일하게 적용될 수 있다. 하지만 S-PRS comb pattern에 따라 단말마다 S-PRS가 전송되는 RE (Resource element)위치는 달라질 수 있음에 주목한다.따라서, S-PRS 자원 설정에 포함되는 S-PRS 자원 ID가 S-PRS 자원을 구별하는 고유한 식별자가 될 수 있다., S-PRS가 사이드링크 통신(데이터 전송)이 수행되는 자원 풀 에서 전송되는 경우에는 S-PRS 자원 정보 3(예: S-PRS가 전송되는 주파수 위치)가 자원 선택 결과에 따라 단 말 마다 달라질 수 있기 때문에, S-PRS 자원 설정에 포함되는 S-PRS 자원 ID가 S-PRS 자원을 구별하는 고유한 식별자가 아닐 수 있다. 이 경우, S-PRS 자원은 S-PRS 자원 ID와 선택된 S-PRS 자원 정보 3(S-PRS가 전송되는 주파수 위치)에 따라 단말마다 고유하게 결정 또는 식별될 수 있다. <제2 실시예> 제2 실시 예에서는 S-PRS 전송 시, 자원 선택 방법이 제안된다. 사이드링크 포지셔닝에서 S-PRS 전송을 위한 자 원 선택은 기지국으로부터 S-PRS 전송을 위한 자원을 할당 받거나 (이하 Scheme 1 또는 모드 1로 명명), 단말이 직접 센싱을 통해 자원을 선택하는 방법 (이하 Scheme 2 또는 모드 1로 명명)으로 구분될 수 있다. Scheme 2의 경우에는 단말 동작이 정의되어야 한다. S-PRS는 사이드링크 통신(예: 데이터 전송)이 수행되는 자원 풀(예: shared resource pool with SL communication로 명명될 수 있음)에서 전송될 수 있다. 또 다른 예로서, S- PRS는 S-PRS의 전송을 위해 정의된 자원 풀 (dedicated resource pool for SL positioning으로 명명될 수 있음)에서 전송될 수 있다. 상술된 두가지 경우에 대해 Scheme 2 동작이 달라질 수 있다. 우선 S-PRS가 사이드링크 통신(데이터 전송)이 수행되는 자원 풀 에서 전송되는 경우가 설명된다. 이 경우, Scheme 2는 PSSCH 전송을 위해 단말이 직접 센싱을 통해 자원을 선택하는 방법 (이하 Mode 2로 명명)에 따라서 (또는, 기반하여) 결정될 수 있을 것이다. 즉, PSSCH 전송을 위해 선택된 시간 (슬롯) 및 주파수 자원 위치를 기준으로 도 9에 도시된 바와 같이 S-PRS가 슬롯내 TDM되어 전송될 수 있다. 하지만, S-PRS가 사이드링크 통신 (데이터 전송)이 수행되는 자원 풀 에서 전송되는 경우에 Mode 2 프로시져에 다음과 같은 변형들이 있을 수 있 다. 하지만 본 개시에서 아래의 변형들은 예시일 뿐이고 본 개시는 하기의 변형들에 한정하지 않는다. * 변형 1-1: L1 priority의 값은 사이드링크 통신(예: 데이터 전송)에 대한 priority와 S-PRS에 대한 priority 를 비교하여 priority가 더 높은 값으로 결정될 수 있다. Priority은 1부터 8까지의 정수(integer) 값일 수 있 으며 logical channel prioritization procedure에 의해 결정되는 값일 수 있다. 예를 들어, Priority값 1이 가장 높은 priority를 나타내며 Priority값 8이 가장 낮은 priority를 나타낼 수 있다. 즉, 우선 순위 값이 클 수록 높은 우선 순위로 참조될 수 있다. 다만 이는 일 예시일 뿐이고 우선 순위 값이 낮을수록 높은 우선 순위 를 가질 수도 있다. 변형 1-1에서 S-PRS에 대한 priority가 1로 고정되는 경우도 고려할 수 있다. 이 경우에는 L1 priority의 값은 항상 1로 고정될 것이다. 사이드링크 통신(데이터 전송)에 대한 priority와 S-PRS에 대한 priority가 다를 수 있다. 또한, 단말은 데이터 전송을 위한 사이드링크 통신에 대한 우선 순위와 S-PRS의 우선순위를 비교하여 priority가 더 높은 값을 L1 priority의 값으로 결정하여 Mode 2 센싱을 수행할 수 있다. 단말이 1st SCI에 포함시켜 다른 단말에게 지시하는 priority 값도 데이터 전송을 위한 사이드링크 통신에 대한 우선 순위와 S-PRS의 우선순위를 비교하여 결정된 L1 priority의 값일 수 있다. * 변형 1-2: S-PRS comb size (N)는 특정 값으로 고정되어 설정되거나. 하나 이상의 N값이 설정된 경우에 단말 은 S-PRS comb size를 선택하여 값을 2nd SCI를 통해 다른 단말로 지시될 수 있다. * 변형 1-3: S-PRS comb size (N)이 1보다 큰 경우에 Comb offset 값은 특정 값으로 고정되어 설정되거나, 랜 덤하게 선택될 수 있다. 선택된 Comb offset 값은 2nd SCI를 통해 다른 단말로 지시될 수 있다. 변형 1-1에서 제시된 방법이 사용되지 않는 경우, L1 priority의 값은 사이드링크 통신(데이터 전송)에 대한 priority으로 결정되고, 만약 사이드링크 통신을 위한 데이터가 없으나 SL-PRS가 전송되는 경우에만 L1 priority의 값은 S-PRS에 대한 priority값으로 결정되거나 특정 priority값으로 가정될 수 있다. 예를 들어, 특 정 priority값은 Priority값 1에 해당되는 값으로 가정될 수 있다. 변형 1-2 및 변형 1-3에서 S-PRS comb size (N) 및 Comb offset 값은 Scheme 1으로 동작하는 경우에도 DCI에 포함되어 단말로 지시될 수 있다. 일 실시 예에 따르면, S-PRS가 S-PRS의 전송을 위해 정의된 자원 풀에서 전송되는 경우가 설명된다. 이 경우, Scheme 2는 S-PRS 자원에 대해 단말이 직접 센싱을 전송 자원을 결정할 수 있을 것이다. S-PRS가 S-PRS의 전송 을 위해 정의된 자원 풀에서 전송되는 경우에 설정된 주파수 위치 전 영역에서 S-PRS가 전송되는 것으로 해석될 수 있다. 따라서, S-PRS의 자원 선택은 S-PRS가 전송되는 시간 위치에 대해서만 수행될 수 있다. S-PRS가 S-PRS 의 전송을 위해 정의된 자원 풀에서 전송되는 경우에 Mode 2 프로시져에 다음과 같은 변형들이 있을 수 있다. 하지만 본 개시에서 설명되는 변형들은 아래의 변형들에만 한정되지 않는다. * 변형 2-1: Mode 2에서 PSCCH DMRS나 PSSCH DMRS가 L1-RSRP를 계산하는데 사용되는 것과 달리, SL-PRS가 L1- RSRP를 계산하는데 사용된다. * 변형 2-2: L1 priority의 값은 S-PRS에 대한 priority값으로 결정된다. Priority은 1부터 8까지의 정수 (integer) 값일 수 있으며 logical channel prioritization procedure에 의해 결정되는 값일 수 있다. 예를 들 어, Priority값 1이 가장 높은 priority를 나타내며 Priority값 8이 가장 낮은 priority를 나타낼 수 있다. 또 한 priority 값은 SCI를 통해 다른 단말로 지시 또는 전달될 수 있다. * 변형 2-3: S-PRS comb size (N)는 특정 값으로 고정되어 설정되거나. 하나 이상의 N값이 설정된 경우에 단말 은 S-PRS comb size를 선택하여 값을 SCI를 통해 다른 단말로 지시 또는 전달할 수 있다. * 변형 2-4: S-PRS comb size (N)이 1보다 큰 경우에 Comb offset 값은 특정 값으로 고정되어 설정되거나, 랜 덤하게 선택될 수 있다. 선택된 Comb offset 값은 SCI를 통해 다른 단말로 지시 또는 전달될 수 있다. 변형 2-3 및 변형 2-4에서 S-PRS comb size (N) 및 Comb offset 값은 Scheme 1으로 동작하는 경우에도 DCI에 포함되어 단말로 지시 또는 전달될 수 있다. <제3 실시예> 제3 실시예에서는 S-PRS가 사이드링크 통신(데이터 전송)이 수행되는 자원 풀 (shared resource pool with SL communication로 명명될 수 있음)에서 전송되는 경우에 1st SCI에 포함될 수 있는 정보가 설명된다. 일 실시 예에 따르면, S-PRS가 사이드링크 통신(데이터 전송)이 수행되는 자원 풀에서 전송되는 경우에 S-PRS를 전송하는 단말과 그렇지 않은 기존 단말이 혼재 (co-existence)할 수 있기 때문에 자원 풀에 있는 단말들은 데이터 및 S-PRS를 성공적으로 디코딩하고 수신하기 위해 현재 사이드링크 전송에 S-PRS가 포함되어 있는지의 여 부를 지시해 주어야 할 필요가 있다. 이는 기존 단말과 S-PRS를 전송하는 단말과 backward compatibility를 보 장해주기 위한 방법일 수 있다. 현재 사이드링크 전송에 S-PRS가 포함되어 있는지의 여부를 지시하는 첫번째 방법으로 PSCCH (1st SCI)를 통해 explicit하게 지시해 주는 방법이 제안되다. 예를 들어, 1st SCI에 있는 reserved bit을 활용하는 일례는 아래 [표 3]를 통해 제시된다. 본 개시에서 PSCCH (1st SCI)를 통해 S-PRS의 전송 여부를 지시하는 방법은 아래 [표 3]에 제시된 방법에 한정되지 않는다. [표 3]"}
{"patent_id": "10-2023-0105157", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "[표 3]은 1비트 정보로 S-PRS가 전송되는지 여부를 PSCCH (1st SCI)를 통해 지시하는 경우에 reserved bit를 활용하여 S-PRS가 전송되는지 여부를 지시하는 방법이 설명된다. S-PRS가 사이드링크 통신(데이터 전송)이 수행 되는 자원 풀에서 전송되는 경우에 실시 예 1에서 설명한 바와 같이 상위 레이어 파라미터(예: RRC 파라미터)로 S-PRS 자원 설정을 통해 관련 파라미터(예: S-PRS 파라미터)가 설정되는 것은 S-PRS 전송이 활성화되는 것으로 해석될 수 있을 것이다. 또는 S-PRS가 전송이 활성화 되는지의 여부가 explicit하게 설정될 수도 있다 (if SL- PRS is configured by higher layer). 즉, S-PRS 전송이 활성화되는지는 상위 레이어 파라미터를 통해 묵시적 으로 지시되거나, reserved bit를 통해 명시적으로 지시될 수 있다. 이 경우에 [표 3]와 같이 reserved bit의 1bit을 활용하여 단말의 S-PRS 전송 여부가 지시될 수 있을 것이다. 하지만 [표 3]을 참조하면 이미 'Conflict information receiver flag'를 지시하는데 reserved bit가 활용될 수 있다. 따라서 몇 개의 비트가 reserved bit로 설정되었는지에 대한 정보(예: sl-NumReservedBits) 및/또는 Conflict information receiver flag가 함께 사용 되는지의 여부에 대한 정보(예: sl-IndicationUE-B)에 기반 하여 [표 3]과 같이 reserved bit가 다르게 활용되어 설정될 수 있다. 현재 사이드링크 전송에 S-PRS가 포함되어 있는지의 여부를 지시하는 두번째 방법으로 PSCCH (1st SCI)를 통해 implicit하게 지시해 주는 방법이 제안된다. 예를 들어, 1st SCI에 있는 2nd-stage SCI format field를 활용하 는 일례는 아래 [표 4]를 통해 설명된다. 2nd-stage SCI format field가 '11'로 지시되어 SCI format 2-D가 사용되는 경우에 이는 S-PRS가 포함되어 전송되는 것으로 해석될 수 있다. [표 4]"}
{"patent_id": "10-2023-0105157", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "<제4 실시예> 제4 실시 예에서는 S-PRS가 사이드링크 통신(데이터 전송)이 수행되는 자원 풀 (shared resource pool with SL communication로 명명될 수 있음)에서 전송되는 경우에 2nd SCI에 포함되는 정보가 설명된다. 일 실시 예에 따르면, 첫번째 방법으로 PSCCH (1st SCI)에 2nd-stage SCI format field를 통해 SCI format 2-D 를 지시하는 경우가 설명된다 ([표 4] 참고). 예를 들어, SCI format 2-D에 포함될 수 있는 제어 정보의 일례는 아래 [표 5]를 통해 설명된다. [표 5]에 설명된 바와 같이 일부 제어 정보는 포함되지 않을 수도 있다. 또한, 본 개시에서 아래 [표 5]에 포함된 제어 정보에 한정되지 않는다. [표 5]는 기존 SCI format 2-C에 포함된 제어 정보에 다음과 같은 정보 중 적어도 일부가 추가된 것으로 볼 수 있다. 예를 들어, 제어 정보는 [표 5]에 포함 된 필드 또는 정보 중 적어도 일부를 포함할 수 있다. * Cast type indicator: SCI format 2-C는 unicast에서만 지원되기 때문에 cast type indicator가 필요없으나 S-PRS 전송은 모든 cast type에서 지원되므로 Cast type indicator 필드가 지시될 수 있다. * IUC enable/disable indicator: S-PRS 전송에 IUC(inter-UE coordination) 정보가 활용될 수 있으나 IUC를 지원하지 않는 단말이 있을 수 있으므로 IUC enable/disable indicator 필드를 통해 IUC를 활성화 및 비활성화 될 수 있다. IUC가 비활성화 되는 경우에 IUC providing/requesting indicator 및 IUC providing/requesting information는 사용되지 않을 수 있다. * S-PRS request: 다른 단말로 S-PRS를 요청하는데 사용될 수 있다. * S-PRS measurement report request: 다른 단말로 S-PRS로 측정한 결과를 요청하는데 사용될 수 있다. * S-PRS comb pattern: 선택된 Comb pattern을 지시하는데 사용될 수 있다 (도10 관련 설명 참고). * S-PRS comb offset: 선택된 Comb offset을 지시하는데 사용될 수 있다 (도10 관련 설명 참고). * SL-PRS symbol number: 선택된 symbol number을 지시하는데 사용될 수 있다 [표 5]"}
{"patent_id": "10-2023-0105157", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "일 실시 예에 따르면, 두번째 방법으로 PSCCH (1st SCI)에 2nd-stage SCI format field가 SCI format 2-D를 지 시하는데 사용되지 않는 경우가 설명된다. 두번째 방법에서는 제 3실시예에서 표3을 통해 제시한 바와 같이 PSCCH (1st SCI)에 reserved bit을 활용하여 S-PRS가 포함되어 있는지의 여부를 지시하는 방법이 설명된다. 그 리고 PSCCH (1st SCI)에 2nd-stage SCI format field로 지시된 SCI format 2-A/B/C를 활용하여 SCI format 2-D 가 구성될 수 있다. 방법은 [표 5]에 해당하는 첫번째 방법과 비교하여 기존의 모든 SCI format 2-A/B/C이 사용 될 수 있는 장점이 있다. 또한, 2nd-stage SCI format field의 reserved bit를 여전히 세이브(save)할 수 장점 이 있다. 예를 들어, SCI format 2-D는 아래와 같은 3가지 type으로 구성될 수 있다. * SCI format 2-D type 1: SCI format 2-A + S-PRS specific information (표 6 참고) * SCI format 2-D type 2: SCI format 2-B+ S-PRS specific information (표 7 참고) * SCI format 2-D type 3: SCI format 2-C + S-PRS specific information (표 8 참고) S-PRS specific information은 [표 6] 내지 [표 8]에서 S-PRS request, S-PRS measurement report request, S-PRS comb pattern, S-PRS comb offset, 및/또는 SL-PRS symbol number등을 의미할 수 있다. [표 6] 내지 [표 8]에 설명된 바와 같이 일부 제어 정보는 포함되지 않을 수도 있다. 또한 본 개시에서 제어 정보는 아래 [표 6] 내지 [표 8]에 포함된 제어 정보에 한정하지 않는다. [표 6]은 SCI format 2-D type 1 (SCI format 2-A + SL-PRS specific information)일 수 있다. 예를 들어, 제 어 정보는 [표 6], [표 7], 또는 [표 8]에 포함된 필드 또는 정보 중 적어도 일부를 포함할 수 있다. 즉, 제어 정보는 [표 6], [표 7] 또는 [표 8]에 포함된 필드 또는 정보 중 일부만 포함할 수 도 있고, 전부를 포함할 수 도 있다.[표 6]"}
{"patent_id": "10-2023-0105157", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "[표 7]은 SCI format 2-D type 2 (SCI format 2-B + SL-PRS specific information)일 수 있다. 제어 정보는 [표 7]에 포함된 정보 또는 필드 중 적어도 일부를 포함할 수 있다. 예를 들어, 제어 정보는 [표 7]에 포함된 정보 또는 필드 중 일부만 포함할 수도 있고, 전부를 포함할 수도 있다. [표 7]"}
{"patent_id": "10-2023-0105157", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 9, "content": "[표 8]은 SCI format 2-D type 3 (SCI format 2-C + SL-PRS specific information)일 수 있다. 제어 정보는 [표 8]에 포함된 정보 또는 필드 중 적어도 일부를 포함할 수 있다. 예를 들어, 제어 정보는 [표 8]에 포함된 정보 또는 필드 중 일부만 포함할 수도 있고, 전부를 포함할 수도 있다.[표 8]"}
{"patent_id": "10-2023-0105157", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 10, "content": "<제5 실시예> 제5 실시예에서는 S-PRS가 S-PRS의 전송을 위해 정의된 자원 풀 (dedicated resource pool for SL positioning 으로 명명될 수 있음)에서 전송되는 경우에 SCI에 포함될 수 있는 정보가 설명된다. S-PRS가 사이드링크 통신 (데이터 전송)이 수행되는 자원 풀에서는 1st SCI (제 3실시예 참고)와 2nd SCI(제 4실시예 참고)의 two stage SCI 로 제어 정보가 전송되지만 S-PRS가 S-PRS의 전송을 위해 정의된 자원 풀에서 전송되는 경우에는 하나의 SCI만(예: 1st SCI 또는 2nd SCI) 정의되어 전송될 수 있다. 이러한 포맷은 SCI format 1-B로 명명될 수도 있다. 예를 들어, 하나의 SCI에 포함될 수 있는 제어 정보의 일례는 아래 [표 9]를 통해 설명된다. [표 9]에 설명된 바와 같이 일부 제어 정보는 포함되지 않을 수도 있다. 또한 본 개시에서 제어 정보는 아래 [표 9]에 포함된 제 어 정보에 한정하지 않는다. [표 9]는 기존 SCI format 1-A에 포함된 제어 정보에 다음과 같은 변화가 있는 것으로 볼 수 있다. * Frequency resource assignment 정보 지시 안됨: S-PRS가 S-PRS의 전송을 위해 정의된 자원 풀에서 전송되는 경우에 S-PRS가 전송되는 주파수 위치는 상위레이어로 설정된 S-PRS의 주파수 위치에 의해 결정될 수 있다. 이 는 S-PRS가 설정된 주파수 위치 전 영역에서 전송되는 것으로 해석될 수 있다. 따라서, 주파수 자원을 할당하기 위한 추가적인 단말 동작이 정의되지 않을 수 있다. * PSSCH DMRS 관련 정보(DMRS pattern, Number of DMRS port) 지시 안됨: S-PRS가 S-PRS의 전송을 위해 정의된 자원 풀에서 전송되는 경우에 PSSCH가 전송되지 않는 것이 가정된다. * 2nd SCI 관련 정보(2nd stage SCI format, Betta offset indicator) 지시 안됨: S-PRS가 S-PRS의 전송을 위해 정의된 자원 풀에서 전송되는 경우에 하나의 SCI만 정의되어 PSCCH로 전송될 수 있다. * PSSCH MCS 정보 지시 안됨: S-PRS가 S-PRS의 전송을 위해 정의된 자원 풀에서 전송되는 경우에 PSSCH가 전송 되지 않는 것이 가정된다. * PSFCH 관련 정보 지시 안됨: S-PRS가 S-PRS의 전송을 위해 정의된 자원 풀에서 전송되는 경우에 S-PRS에 대한 PSFCH가 지원되지 않는 것이 가정된다. * S-PRS specific 정보 포함됨: 관련 정보는 [표 9]에서 S-PRS request, S-PRS measurement report request, S-PRS comb pattern, S-PRS comb offset, S-PRS TDM offset, 및/또는 SL-PRS symbol number등이 포함될 수 있 다. 제어 정보는 [표 9]에 포함된 정보 또는 필드 중 적어도 일부를 포함할 수 있다. 예를 들어, 제어 정보는 [표 9]에 포함된 정보 또는 필드 중 일부만 포함할 수 있고, 전부를 포함할 수도 있다. [표 9]"}
{"patent_id": "10-2023-0105157", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 11, "content": "[표 9]에서 S-PRS TDM offset는 도 12를 통해 설명한 바와 같이 S-PRS 자원이 TDM되어 전송될 경우에 해당 위치 를 지시하는 필드이다. 본 개시의 다양한 실시 예들을 수행하기 위해 단말과 기지국의 송신부, 수신부, 및/또는 처리부(processor)가 각각 도 13과 도 14에 도시된다. 예를 들어, 처리부는 적어도 하나의 프로세서 또는 컨트롤러로 대체될 수 있다. 상술된 실시 예들에서 사이드링크에서 단말이 포지셔닝을 수행하기 위한 방법이 설명됨, 이를 수행하기 위해 기 지국과 단말의 수신부, 처리부, 및/또는 송신부가 각각 실시 예에 기반하여 동작할 수 있다. 도 13은 일 실시 예에 따른 단말의 내부 구조를 도시하는 블록도이다. 도 13을 참고하면, 본 개시의 단말은 단말기 수신부, 단말기 송신부, 및/또는 단말기 처리부(130 2)를 포함할 수 있다. 단말기 수신부와 단말이 송신부를 통칭하여 본 개시의 실시 예에서는 송수신 부(transceiver)라 칭해질 수 있다. 송수신부는 기지국과 신호를 송신 및/또는 수신할 수 있다. 예를 들어, 신 호는 제어 정보와, 데이터를 포함할 수 있다. 이를 위해, 송수신부는 송신되는 신호의 주파수를 상승 변환 및 증폭하는 RF 송신기와, 수신되는 신호를 저 잡음 증폭하고 주파수를 하강 변환하는 RF 수신기를 포함할 수 있다. 또한, 송수신부는 무선 채널을 통해 신호를 수신하여 단말기 처리부로 출력하고, 단말기 처리부 로부터 출력된 신호를 무선 채널을 통해 전송할 수 있다. 단말기 처리부는 상술한 본 개시의 실시 예에 따라 단말이 동작할 수 있도록 일련의 과정을 제어할 수 있다. 도 14는 일 실시 예에 따른 기지국의 내부 구조를 도시하는 블록도이다. 도 14를 참고하면, 본 개시의 기지국은 기지국 수신부, 기지국 송신부, 및/또는 기지국 처리부 를 포함할 수 있다. 기지국 수신부와 기지국 송신부를 통칭하여 본 개시에서는 송수신부라 칭해질 수 있다. 송수신부는 단말과 신호를 송신 및/또는 수신할 수 있다. 예를 들어, 신호는 제어 정보와, 데 이터를 포함할 수 있다. 이를 위해, 송수신부는 송신되는 신호의 주파수를 상승 변환 및 증폭하는 RF 송신기와, 수신되는 신호를 저 잡음 증폭하고 주파수를 하강 변환하는 RF 수신기를 포함할 수 있다. 또한, 송수신부는 무 선 채널을 통해 신호를 수신하여 기지국 처리부로 출력하고, 기지국 처리부로부터 출력된 신호를 무선 채널을 통해 전송할 수 있다. 기지국 처리부는 상술한 본 개시의 실시 예에 따라 기지국이 동작할수 있도록 일련의 과정을 제어할 수 있다. 한편, 본 명세서와 도면에 개시된 본 개시의 실시예들은 본 개시의 기술 내용을 쉽게 설명하고 본 발명의 이해 를 돕기 위해 특정 예를 제시한 것일 뿐이며, 본 개시의 범위를 한정하고자 하는 것은 아니다. 즉 본 개시의 기 술적 사상에 바탕을 둔 다른 변형예들이 실시 가능하다는 것은 본 개시의 속하는 기술 분야에서 통상의 지식을 가진 자에게 자명한 것이다. 또한 상기 각각의 실시 예는 필요에 따라 서로 조합되어 운용할 수 있다. 예컨대, 본 개시의 모든 실시예는 일부분들이 서로 조합되어 기지국과 단말을 통해 운용될 수 있다. 본 개시의 청구항 또는 명세서에 기재된 실시예들에 따른 방법들은 하드웨어, 소프트웨어, 또는 하드웨어와 소 프트웨어의 조합의 형태로 구현될(implemented) 수 있다. 소프트웨어로 구현하는 경우, 하나 이상의 프로그램(소프트웨어 모듈)을 저장하는 컴퓨터 판독 가능 저장 매체 가 제공될 수 있다. 컴퓨터 판독 가능 저장 매체에 저장되는 하나 이상의 프로그램은, 전자 장치(device) 내의 하나 이상의 프로세서에 의해 실행 가능하도록 구성된다(configured for execution). 하나 이상의 프로그램은, 전자 장치로 하여금 본 개시의 청구항 또는 명세서에 기재된 실시예들에 따른 방법들을 실행하게 하는 명령어 (instructions)를 포함한다. 이러한 프로그램(소프트웨어 모듈, 소프트웨어)은 랜덤 액세스 메모리 (random access memory), 플래시(flash) 메모리를 포함하는 비휘발성(non-volatile) 메모리, 롬(read only memory, ROM), 전기적 삭제가능 프로그램가 능 롬(electrically erasable programmable read only memory, EEPROM), 자기 디스크 저장 장치(magnetic disc storage device), 컴팩트 디스크 롬(compact disc-ROM, CD-ROM), 디지털 다목적 디스크(digital versatile discs, DVDs) 또는 다른 형태의 광학 저장 장치, 마그네틱 카세트(magnetic cassette)에 저장될 수 있다. 또는, 이들의 일부 또는 전부의 조합으로 구성된 메모리에 저장될 수 있다. 또한, 각각의 구성 메모리는 다수 개 포함될 수도 있다. 또한, 프로그램은 인터넷(Internet), 인트라넷(Intranet), LAN(local area network), WAN(wide area network), 또는 SAN(storage area network)과 같은 통신 네트워크, 또는 이들의 조합으로 구성된 통신 네트워크를 통하여 접근(access)할 수 있는 부착 가능한(attachable) 저장 장치(storage device)에 저장될 수 있다. 이러한 저장 장치는 외부 포트를 통하여 본 개시의 실시예를 수행하는 장치에 접속할 수 있다. 또한, 통신 네트워크상의 별 도의 저장장치가 본 개시의 실시예를 수행하는 장치에 접속할 수도 있다. 상술한 본 개시의 구체적인 실시예들에서, 개시에 포함되는 구성 요소는 제시된 구체적인 실시예에 따라 단수 또는 복수로 표현되었다. 그러나, 단수 또는 복수의 표현은 설명의 편의를 위해 제시한 상황에 적합하게 선택된 것으로서, 본 개시가 단수 또는 복수의 구성 요소에 제한되는 것은 아니며, 복수로 표현된 구성 요소라 하더라 도 단수로 구성되거나, 단수로 표현된 구성 요소라 하더라도 복수로 구성될 수 있다. 한편 본 개시의 상세한 설명에서는 구체적인 실시예에 관해 설명하였으나, 본 개시의 범위에서 벗어나지 않는 한도 내에서 여러 가지 변형이 가능함은 물론이다. 그러므로 본 개시의 범위는 설명된 실시예에 국한되어 정해 져서는 아니 되며 후술하는 특허청구의 범위뿐만 아니라 이 특허청구의 범위와 균등한 것들에 의해 정해져야 한 다.도면 도면1 도면2 도면3 도면4 도면5 도면6 도면7 도면8a 도면8b 도면8c 도면9 도면10 도면11a 도면11b 도면12 도면13 도면14"}
{"patent_id": "10-2023-0105157", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 일 실시 예에 따른 시스템을 나타내는 도면이다. 도 2는 일 실시 예에 따른 사이드링크를 통해 이루어지는 통신 방법을 나타내는 도면이다. 도 3은 일 실시 예에 따른 사이드링크의 전송 및 수신에 사용되는 시간 및 주파수 상에서 자원들의 셋(집합)으 로 정의되는 자원 풀(resource pool)을 설명하기 위한 도면이다. 도 4는 일 실시 예에 따른 사이드링크를 통해 단말의 위치를 계산하는 경우를 설명하는 도면이다. 도 5는 일 실시 예에 따른 사이드링크를 통해 단말의 위치를 계산하는 경우를 설명하는 도면이다. 도 6은 일 실시 예에 따른 사이드링크를 통해 단말의 위치를 계산하는 경우를 설명하기 위한 도면이다. 도 7은 본 개시의 실시예에 따라 SL-RTT, SL-RSTD, SL-RTOA, 및/또는 SL-AoA를 설명하기 위한 도면이다. 도 8a는 S-PRS 자원 정보 1의 설정 방법을 설명하기 위한 도면이다. 도 8b는 S-PRS 자원 정보 1의 설정 방법을 설명하기 위한 도면이다. 도 8c는 S-PRS 자원 정보 1의 설정 방법을 설명하기 위한 도면이다. 도 9는 SL 동작을 위해 설정된 시간 영역 내에서 S-PRS가 전송되는 심볼 영역을 결정하는 방법을 설명한다. 도 10은 일 실시 예에 따른 S-PRS의 Comb 패턴을 설명하기 위한 도면이다. 도 11a는 S-PRS 자원 정보 1의 설정 방법을 설명하기 위한 도면이다. 도 11b는 S-PRS 자원 정보 1의 설정 방법을 설명하기 위한 도면이다. 도 12는 상기 S-PRS 자원 정보 1의 설정 방법에서 S-PRS 자원이 슬롯 내에서 TDM되는 경우를 설명하기 위한 도 면이다. 도 13은 일 실시 예에 따른 단말의 내부 구조를 도시하는 블록도이다. 도 14는 일 실시 예에 따른 기지국의 내부 구조를 도시하는 블록도이다."}
