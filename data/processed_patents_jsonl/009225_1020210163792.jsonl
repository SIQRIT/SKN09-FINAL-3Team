{"patent_id": "10-2021-0163792", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0076658", "출원번호": "10-2021-0163792", "발명의 명칭": "복합 센서 정보를 이용하여 영상 화질을 개선하는 통합 영상 처리 장치 및 그 방법", "출원인": "주식회사 유엑스팩토리", "발명자": "박준영"}}
{"patent_id": "10-2021-0163792", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "이미지 센서, ToF 센서, 및 열 감지 센서를 포함하는 복합 센서들 각각으로부터, 대응된 감지신호를 입력으로받는 입력부;미리 설정된 인공신경망(ANN) 알고리즘에 의거하여 상기 이미지 센서를 통해 감지된 이미지를 보정한 후, 상기보정된 이미지, 상기 ToF 센서에서 출력되는 3차원 거리 정보, 및 상기 열 감지 센서에서 출력되는 저해상도 열화상 이미지를 결합하여 출력하는 다중 영상신호 처리부; 및사전에 생성된 적어도 하나의 클래스별 데이터 셋을 학습하여 기준 데이터를 생성한 후 미리 저장하고, 상기 기준 데이터 및 미리 설정된 인공지능 알고리즘에 의거하여, 상기 다중 영상신호 처리부에서 생성된 이미지를 인식하는 AI 가속기를 포함하는 것을 특징으로 하는 통합 영상 처리 장치."}
{"patent_id": "10-2021-0163792", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서, 상기 다중 영상신호 처리부는상기 이미지 센서를 통해 감지된 이미지를 보정하는 보정부; 및상기 보정된 이미지, 상기 ToF 센서에서 출력되는 3차원 거리 정보, 및 상기 열 감지 센서에서 출력되는 저해상도 열화상 이미지를 결합하는 이미지 결합부를 포함하는 것을 특징으로 하는 통합 영상 처리 장치."}
{"patent_id": "10-2021-0163792", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서, 상기 보정부는저화질 이미지를 고화질 이미지로 변환하는 해상도 보정부;상기 해상도 보정부로부터 노출 시간을 달리한 3이상의 이미지를 전달받고, 상기 3이상의 이미지를 미리 설정된역광 보정 신경망(WDR NN) 알고리즘에 적용하여 하나의 이미지로 결합함으로써 역광을 보정하는 역광 보정부;및상기 역광 보정된 이미지에 포함된 객체별로 플랭크 화이트(Planck White) 곡선을 도출하고, 상기 객체별 플랭크 화이트 곡선을 미리 설정된 색 보정 신경망(AWB NN)에 적용하여 객체별 색 온도를 판단함으로써, 상기 객체별 색 온도를 자동으로 보정하는 자동 색 온도 보정부를 포함하는 것을 특징으로 하는 통합 영상 처리 장치."}
{"patent_id": "10-2021-0163792", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서, 상기 보정부는상기 자동 색 온도 보정부로부터 전달된 색 온도 보정 이미지를, 미리 설정된 노이즈 제거/선명도 인공신경망(NR/Sharp NN)에 적용하여, 상기 색 온도 보정 이미지에 포함된 경계선을 유지한 채 노이즈를 제거하는 노이즈제거/선명도 보정부를 더 포함하는 것을 특징으로 하는 통합 영상 처리 장치."}
{"patent_id": "10-2021-0163792", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "이미지 센서, ToF 센서, 및 열 감지 센서를 포함하는 복합 센서를 구비한 통합 영상 처리 장치가 상기 복합 센서 정보를 이용하여 영상 화질을 개선하는 통합 영상 처리 방법에 있어서, 사전에 생성된 적어도 하나의 클래스별 데이터셋을 학습하여 이미지 감지를 위한 기준 데이터를 생성하여 저장하는 학습단계;상기 이미지 센서, ToF 센서, 및 열 감지 센서를 포함하는 복합 센서들 각각으로부터, 대응된 감지신호를 입력으로 받는 입력단계;미리 설정된 인공신경망(ANN) 알고리즘에 의거하여 상기 이미지 센서를 통해 감지된 이미지를 보정하는 보정단공개특허 10-2023-0076658-3-계;상기 보정된 이미지, 상기 ToF 센서에서 출력되는 3차원 거리 정보, 및 상기 열 감지 센서에서 출력되는 저해상도 열화상 이미지를 결합하는 결합단계; 및 상기 기준 데이터 및 상기 결합된 이미지를 미리 설정된 인공지능 알고리즘에 적용하여, 이미지를 인식하는 인식단계를 포함하는 것을 특징으로 하는 통합 영상 처리 방법."}
{"patent_id": "10-2021-0163792", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5항에 있어서, 상기 보정단계는저화질 이미지를 고화질 이미지로 변환하는 해상도 보정단계;상기 해상도 보정단계를 거친 이미지들 중 노출 시간을 달리한 3이상의 이미지를 전달받고, 상기 3이상의 이미지를 미리 설정된 역광 보정 신경망(WDR NN) 알고리즘에 적용하여 하나의 이미지로 결합함으로써 역광을 보정하는 역광 보정단계; 및상기 역광 보정된 이미지에 포함된 객체별로 플랭크 화이트(Planck White) 곡선을 도출하고, 상기 객체별 플랭크 화이트 곡선을 미리 설정된 색 보정 신경망(AWB NN)에 적용하여 객체별 색 온도를 판단함으로써, 상기 객체별 색 온도를 자동으로 보정하는 자동 색 온도 보정단계를 포함하는 것을 특징으로 하는 통합 영상 처리 방법."}
{"patent_id": "10-2021-0163792", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서, 상기 보정단계는상기 자동 색 온도 보정단계에서 색 온도가 보정된 이미지를, 미리 설정된 노이즈 제거/선명도 인공신경망(NR/Sharp NN)에 적용하여, 상기 색 온도가 보정된 이미지에 포함된 경계선을 유지한 채 노이즈를 제거하는 노이즈 제거/선명도 보정단계를 더 포함하는 것을 특징으로 하는 통합 영상 처리 방법."}
{"patent_id": "10-2021-0163792", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명의 통합 영상 처리 장치는 이미지 센서, ToF 센서, 및 열 감지 센서를 포함하는 복합 센서들 각각으로부 터, 대응된 감지신호를 입력으로 받는 입력부; 미리 설정된 인공신경망(ANN) 알고리즘에 의거하여 상기 이미지 센서를 통해 감지된 이미지를 보정한 후, 상기 보정된 이미지, 상기 ToF 센서에서 출력되는 3차원 거리 정보, 및 (뒷면에 계속)"}
{"patent_id": "10-2021-0163792", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 영상 처리 기술에 관한 것으로서, 보다 상세하게는, 복합 센서 정보를 이용하여 영상 화질을 개선하 는 통합 영상 처리 장치 및 그 방법에 관한 것이다."}
{"patent_id": "10-2021-0163792", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "복합 신호를 기반으로 한 영상 처리 기술은 스마트폰을 비롯한 다양한 전자기기/제품, 그리고 미래 자율주행 자 동차, 로봇, 드론, HMD 등 다수의 센서가 필요한 시스템에 핵심부품으로서 사용될 수 있다. 이러한 종래 기술의 예로서, 한국 공개특허 제 10-2018-0128168 호에는, 듀얼 이미지 센서 시스템을 지원하는 전자장치의 이미지 처리 방법에 있어서, 상기 전자장치에 배치되는 제1 센서와 제2 센서를 통해 데이터를 감지 하는 단계; 상기 제1 센서를 통해 감지된 데이터와 상기 제2 센서를 통해 감지된 데이터에 기반하여 이미지를 합성하는 단계를 포함하고, 상기 제1 센서와 상기 제2 센서는 컬러 센서이며, 상기 제2 센서를 통해 감지되는 광량은 상기 제1 센서를 통해 감지되는 광량보다 큰 것을 특징으로 하는 전자장치의 이미지 처리 방법이 개시되 어 있다. 상기 특허에 의하면, 이미지 센서를 통해 취득되는 광량이 종래의 RGB 센서에 비해 증가함으로써, 저조도 환경 에서 이미지의 SN 특성이 좋아지고, 두 개의 컬러 이미지 센서를 통해 이미지를 취득함으로써, 이미지 depth 정 보의 정밀성을 향상시킬 수 있는 특징이 있다. 하지만, 상기와 같은 종래의 기술은 역광 보정, 및 색 온도 보정 등의 영상 처리에 있어서, 정밀도가 떨어짐으 로써, 실제 눈으로 보는 것과 같은 결과를 얻기 어려운 문제가 있다. 또한, 상기의 종래 기술은 복수의 이미지 센서만을 이용함으로써, 입체화된 이미지를 처리하는 데에 한계가 있다. 따라서 최근에는 듀얼/트리플 이미징 센서, Depth 센서 등 다양한 복합 센서를 탑재하는 제품 개발이 선도 그룹 들을 중심으로 적극적으로 추진되고 있다(예컨대, 애플사의 아이폰 등). 그런데, 이러한 최근의 기술들은 센서별 처리 엔진(Processing Engine)이 별도로 탑재되고, 기능적으로도 서로 융합되지 않으므로, 전력 및 면적면에서 비효율적이다. 이로 인해, 상기와 같은 최근의 기술 또한, 복합 신호 센서들의 데이터 접근 지연 없이 대용량의 데이터를 처리할 수 없음으로써, 실시간 서비스를 지원할 수 없는 문 제가 있다. 선행기술문헌 특허문헌 (특허문헌 0001) 한국 공개특허 제 10-2018-0128168 호"}
{"patent_id": "10-2021-0163792", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "따라서 본 발명은 복합 센서의 신호들을 하나의 프로세서에서 통합 처리함으로써, 전력 및 면적을 효율적으로 활용하고, 이로 인해, 처리 속도를 향상시킴으로써, 데이터 접근 지연 없이 대용량의 데이터를 실시간으로 처리 할 수 있는 통합 영상 처리 장치 및 그 방법을 제공하고자 한다. 또한, 본 발명은 복합 센서 정보를 이용함으로써, 극 저조도, 연기, 안개, 혹은 화재로 인한 고열 등 다양한 환 경에서 단독 이미지 센서에 의존하는 시스템의 한계를 극복할 수 있고, 이로 인해, 공장 등 실내 근로자, 화재 현장의 소방관, 작전 중인 군인 등 다양한 응용 분야에서 감지 정보 보조 수단으로 활용할 수 있어서, 활용 분 야를 확장시킬 수 있는 통합 영상 처리 장치 및 그 방법을 제공하고자 한다. 또한, 본 발명은 인공신경망(ANN, Artificial Neural Network) 기반의 영상 인식 기술을 적용하되, 사전에 생성 된 클래스별 데이터 셋을 이용하여 학습된 데이터를 엣지단에 구현하고, 상기 학습된 데이터를 이용하여 엣지단 에서 영상을 처리함으로써, 서버와의 통신을 위한 전력 소모를 줄이고, 신속하게 영상을 처리하되, 사람의 눈으 로 인식하는 수준과 비슷한 수준으로 이미지를 처리하여 출력할 수 있는 통합 영상 처리 방치 및 그 방법을 제 공하고자 한다."}
{"patent_id": "10-2021-0163792", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 목적을 달성하기 위해, 본 발명에서 제공하는 통합 영상 처리 장치는 이미지 센서, ToF 센서, 및 열 감지 센서를 포함하는 복합 센서들 각각으로부터, 대응된 감지신호를 입력으로 받는 입력부; 미리 설정된 인공신경망 (ANN) 알고리즘에 의거하여 상기 이미지 센서를 통해 감지된 이미지를 보정한 후, 상기 보정된 이미지, 상기 ToF 센서에서 출력되는 3차원 거리 정보, 및 상기 열 감지 센서에서 출력되는 저해상도 열화상 이미지를 결합하 여 출력하는 다중 영상신호 처리부; 및 사전에 생성된 적어도 하나의 클래스별 데이터 셋을 학습하여 기준 데이 터를 생성한 후 미리 저장하고, 상기 기준 데이터 및 미리 설정된 인공지능 알고리즘에 의거하여, 상기 다중 영 상신호 처리부에서 생성된 이미지를 인식하는 AI 가속기를 포함하는 것을 특징으로 한다. 또한, 상기 목적을 달성하기 위해, 본 발명에서 제공하는 통합 영상 처리 방법은 이미지 센서, ToF 센서, 및 열 감지 센서를 포함하는 복합 센서를 구비한 통합 영상 처리 장치가 상기 복합 센서 정보를 이용하여 영상 화질을 개선하는 통합 영상 처리 방법에 있어서, 사전에 생성된 적어도 하나의 클래스별 데이터셋을 학습하여 이미지 감지를 위한 기준 데이터를 생성하여 저장하는 학습단계; 상기 이미지 센서, ToF 센서, 및 열 감지 센서를 포함 하는 복합 센서들 각각으로부터, 대응된 감지신호를 입력으로 받는 입력단계; 미리 설정된 인공신경망(ANN) 알 고리즘에 의거하여 상기 이미지 센서를 통해 감지된 이미지를 보정하는 보정단계; 상기 보정된 이미지, 상기 ToF 센서에서 출력되는 3차원 거리 정보, 및 상기 열 감지 센서에서 출력되는 저해상도 열화상 이미지를 결합하 는 결합단계; 및 상기 기준 데이터 및 상기 결합된 이미지를 미리 설정된 인공지능 알고리즘에 적용하여, 이미 지를 인식하는 인식단계를 포함하는 것을 특징으로 한다."}
{"patent_id": "10-2021-0163792", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "상기한 바와 같은 본 발명의 통합 영상 처리 장치 및 그 방법은 복합 센서의 신호들을 하나의 프로세서에서 통 합 처리함으로써, 전력 및 면적을 효율적으로 활용하고, 이로 인해, 처리 속도를 향상시킴으로써, 데이터 접근 지연 없이 대용량의 데이터를 실시간으로 처리할 수 있는 효과가 있다.또한, 본 발명의 통합 영상 처리 장치 및 그 방법은 복합 센서 정보를 이용함으로써, 극 저조도, 연기, 안개, 혹은 화재로 인한 고열 등 다양한 환경에서 단독 이미지 센서에 의존하는 시스템의 한계를 극복할 수 있고, 이 로 인해, 공장 등 실내 근로자, 화재 현장의 소방관, 작전 중인 군인 등 다양한 응용 분야에서 감지 정보 보조 수단으로 활용함으로써, 활용 분야를 확장시킬 수 있는 효과가 있다. 또한, 본 발명의 통합 영상 처리 장치 및 그 방법은 인공신경망(ANN, Artificial Neural Network) 기반의 영상 인식 기술을 적용하되, 사전에 생성된 클래스별 데이터 셋을 이용하여 학습된 데이터를 엣지단에 구현하고, 상 기 학습된 데이터를 이용하여 엣지단에서 영상을 처리함으로써, 서버와의 통신을 위한 전력 소모를 줄이고, 신 속하게 영상을 처리하되, 사람의 눈으로 인식하는 수준과 비슷한 수준으로 이미지를 처리하여 출력할 수 있는 효과가 있다."}
{"patent_id": "10-2021-0163792", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "아래에서는 첨부한 도면을 참고로 하여 본 발명의 실시 예에 대하여 설명하되, 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자가 본 발명을 용이하게 실시할 수 있도록 상세히 설명한다. 그러나 본 발명은 여러 가지 상이한 형태로 구현될 수 있으며 여기에서 설명하는 실시 예에 한정되지 않는다. 한편 도면에서 본 발명을 명확 하게 설명하기 위해서 설명과 관계없는 부분은 생략하였으며, 명세서 전체를 통하여 유사한 부분에 대해서는 유 사한 도면 부호를 붙였다. 또한 상세한 설명을 생략하여도 본 기술 분야의 당업자가 쉽게 이해할 수 있는 부분 의 설명은 생략하였다. 명세서 및 청구범위 전체에서, 어떤 부분이 어떤 구성 요소를 포함한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다른 구성 요소를 제외하는 것이 아니라 다른 구성 요소를 더 포함할 수 있는 것을 의미한다. 도 1은 본 발명의 일 실시 예에 따른 통합 영상 처리 장치에 대한 개략적인 블록도이다. 도 1을 참조하면, 본 발명의 일 실시 예에 따른 통합 영상 처리 장치는 복합센서부, 입력부, 다중 영상신호 처리부 , AI 가속기, 기준데이터 관리 DB를 포함한다. 복합 센서부는 다양한 종류의 데이터를 수집하는 적어도 하나의 센서들을 포함하되, ToF 센서, 이미 지 센서 및 열 감지 센서를 포함할 수 있다. 입력부는 복합 센서부에 포함된 적어도 하나의 센서들(예컨대, ToF 센서, 이미지 센서 및 열 감지 센서) 각각으로부터, 대응된 감지신호를 입력으로 받는다. 이 때, 입력부는 하나의 커넥터로 구성되며, 상기 적어도 하나의 센서들(예컨대, ToF 센서, 이미지 센서 및 열 감지 센서) 각각의 신호를 상기 하나의 커넥터로 입력받는다. 다중 영상신호 처리부는 입력부를 통해 입력된 다수의 신호들을 결합하여 하나의 신호로 출력한다. 이를 위해, 다중 영상신호 처리부는 미리 설정된 인공신경망(ANN) 알고리즘에 의거하여 이미지 센서 를 통해 감지된 이미지를 보정하는 과정을 먼저 수행한 후, 상기 보정된 이미지를, ToF 센서에서 출력되는 3차원 거리 정보, 및 열 감지 센서에서 출력되는 저해상도 열화상 이미지와 결합하여 출력한다. AI 가속기는 미리 설정된 인공지능 알고리즘(예컨대, 이미지 인식 알고리즘)에 의거하여, 다중 영상신호 처리부에서 생성된 이미지를 인식한다. 이를 위해, AI 가속기는 사전에 생성된 적어도 하나의 클래스 별 데이터셋(예컨대, 연기, 깊이, 온도들 각각에 대한 소정 개 이상의 이미지들을 취합하여 생성한 데이터셋)을 학습하여 기준 데이터를 생성한 후 미리 저장하고, 상기 기준 데이터 및 미리 설정된 인공지능 알고리즘에 의거 하여, 다중 영상신호 처리부에서 생성된 이미지를 인식한다. 즉, AI 가속기는, 복합 센서부를 통해 수집된 후 다중 영상신호 처리부를 거쳐 보정된 이미지를 상기 인공지능 알고리즘에 적용하여, 사전 에 학습된 기준 이미지들 중 어느 하나로 인식할 수 있다. 이 때, 상기 기준 데이터는 AI 가속기에 미리 저장될 수도 있고, AI 가속기에 의해 접근 가능한 별도 의 데이터베이스부(예컨대, 기준 데이터 관리 DB)로 구현될 수도 있다. 또한, AI 가속기는 병렬 구조를 갖는 프로세서로서, 각각의 신호 처리 결과값을 병렬로 받아 데이터 접근 지연 없이 대용량의 데이터를 실시간으로 처리할 수 있다. 도 2는 본 발명의 일 실시 예에 따른 다중 영상신호 처리부에 대한 개략적인 블록도이다. 도 1 및 도 2를 참조 하면, 다중 영상신호 처리부는 보정부, 및 이미지 결합부를 포함한다. 보정부는 이미지 센서를 통해 감지된 이미지를 보정하는 보정하되, 후술될, 도 3에 예시된 바와 같이, 해상도 보정부, 역광 보정부, 자동 색온도 보정부, 및 노이즈 제거/선명도 보정부를 포 함한다. 이미지 결합부는 보정부에서 보정된 이미지, ToF 센서에서 출력되는 3차원 거리 정보, 및 열 감 지 센서에서 출력되는 저해상도 열화상 이미지를 결합한다. 이 때, 상기 보정된 이미지를 상기 3차원 거리 정보, 및 저해상도 열화상 이미지와 결합하는 방법은, 공지된 다양한 이미지 결합 방식을 이용할 수 있다. 예를 들어, RGB카메라의 영상 데이터 또는 열화상 영상 데이터와 ToF 센서에서 받은 포인트 클라우드 데이터(PCD)인 거리(깊이)정보를 합성하는 방법과 ToF신호와 2대 이상의 카메라인 RGB카메라, 열화상 카메라를 사용하여 좌, 우 시차 영상을 입력으로 받아 각 시차 영상의 주요 특징을 추출하는 특징 추출부와 추출된 특징을 이용하여 시 차 정보를 학습하는 깊이 학습부로 구성된 학습 모델인 GC-Net, PSMNet 등을 이용하여 전체 깊이 영상을 생성하 는 방법을 통하여 상기 이미지들을 결합할 수 있다. 도 3은 본 발명의 일 실시 예에 따른 보정부에 대한 개략적인 블록도로서, 도 3을 참조하면, 상기 보정부 는 해상도 보정부, 역광 보정부, 자동 색온도 보정부, 및 노이즈 제거/선명도 보정부를 포함한 다. 해상도 보정부는 이미지 센서에서 감지된 저화질 이미지를 고화질 이미지로 변환한다. 역광 보정부는 해상도 보정부로부터 노출 시간을 달리한 3이상의 이미지를 전달받고, 상기 3이상의 이 미지를 미리 설정된 역광 보정 신경망(WDR NN) 알고리즘에 적용하여 하나의 이미지로 결합함으로써 역광을 보정 한다. 자동 색 온도 보정부는 역광 보정부에서 역광 보정된 이미지의 색온도를 자동으로 보정한다. 이를 위해, 자동 색 온도 보정부는 상기 역광 보정된 이미지에 포함된 객체별로 플랭크 화이트(Planck White) 곡 선을 도출하고, 상기 객체별 플랭크 화이트 곡선을 미리 설정된 색 보정 신경망(AWB NN)에 적용하여 객체별 색 온도를 판단함으로써, 상기 객체별 색 온도를 자동으로 보정한다. 노이즈 제거/선명도 보정부는 자동 색 온도 보정부로부터 전달된 색 온도 보정 이미지를, 미리 설정된 노이즈 제거/선명도 인공신경망(NR/Sharp NN)에 적용하여, 상기 색 온도 보정된 이미지에 포함된 경계선을 유지 한 채 노이즈만을 제거한다. 도 4는 본 발명의 일 실시 예에 따른 통합 영상 처리 방법에 대한 개략적인 처리 흐름도이고, 도 5는 본 발명의 일 실시 예에 따른 이미지 보정 단계에 대한 개략적인 처리 흐름도이다. 도 1 내지 도 5를 참조하여, 본 발명의 일 실시 예에 따른 통합 영상 처리 방법(즉, 복합 센서 정보를 이용하여 영상 화질을 개선하는 통합 영상 처리 방법)은 다음과 같다. 먼저, 단계 S110에서는, AI 가속기가 사전에 생성된 적어도 하나의 클래스별 데이터셋(예컨대, 연기, 깊이, 온도들 각각에 대한 소정 개 이상의 이미지들을 취합하여 생성한 데이터셋)을 학습하여 이미지 감지를 위 한 기준 데이터를 생성하고, 그 결과를 저장한다. 이 때, AI 가속기는 상기 기준 데이터를 별도의 데이터베이스(예컨대, 기준 데이터 관리 DB)에 저장하거나, AI 가속기 내에 자체적으로 저장할 수 있다. 단계 S120에서는, 입력부가 복합 센서부에 포함된 ToF 센서, 이미지 센서, 및 열 감지 센 서들 각각으로부터, 대응된 감지신호를 입력받는다. 단계 S130에서는, 다중 영상신호 처리부가, 미리 설정된 인공신경망(ANN, Artificial Neural Network) 알 고리즘에 의거하여, 이미지 센서를 통해 감지된 이미지를 보정한다. 즉, 단계 S131에서는 해상도 보정부가 상기 이미지의 해상도를 보정한다. 이를 위해, 해상도 보정부는 저화질의 이미지를 고화질로 향상시키기 위해 개발된 SR(Super Resolution) 알고리즘을 이용하되, 인공신경망에 기반한 SR 알고리즘을 이용함으로써, 해상도를 보다 효과적으로 높일 수 있도록 하였다. 기존의 전통적인 초해상화 기법(SR 알고리즘)들은 고해상도 영상을 복원하는 과정에서 디테일한 부분의 화질 저 화 및 열화가 존재하며, 바이큐빅 보간법(Bicubic Interpolation)과 같은 다항식 기반의 보간법 혹은 선형 매핑 을 사용함으로써, 복잡하고 비선형적인 저해상도-고해상도 모델을 구현하기 어려운 문제가 있었다. 따라서, 본 발명의 단계 S131에서는, 이를 해결하기 위해 여러 겹으로 쌓은 다층 네트워크를 사용하여 저해상도 입력과 고 해상도 출력 간의 복잡한 비선형적 관계를 정밀하게 분석하여 보다 정확하게 변환할 수 있는 합성곱 필터 파라 미터를 학습하고, 이를 통해 최적화된 고해상도 이미지를 생성할 수 있도록 하였다. 단계 S132에서는, 역광 보정부가 상기 단계 S131에서 고화질로 보정된 이미지에 포함된 역광을 보정한다. 이 때, 역광 보정부는 밝은 영역에서의 고속도 셔터와, 어두운 영역에서의 저속도 셔터를 하나로 모아 형상 화시킴으로써, 역광의 문제를 해결하고 영상 인식률을 높이도록 한다. 이를 위해, 역광 보정부는, 다양한 조명환경에서도 높은 퀄리티의 이미지를 얻을 수 있도록 하기 위해 개발된 WDR(Wide Dynamic Range) 알고리즘을 이용하되, 인공신경망에 기반한 WDR(Wide Dynamic Range) 알고리즘(WDR NN, WDR Neural Network)을 이용함으로 써, 더욱 효과적으로 역광을 보정할 수 있도록 하였다. 특히, 단계 S132에서, 역광 보정부는 해상도 보정부에서 고화질로 보정된 이미지들 중 노출 시간을 달 리한 3 이상의 이미지를 상기 WDR NN 알고리즘에 적용하여 하나의 이미지로 결합함으로써, 다수의 이미지들을 하나로 합치는 과정에서 부자연스러운 이미지가 나타나는 현상을 해소하였다. 이 때, 노출 시간을 달리한 이미 지를 많이 선택할수록, 더욱 자연스러운 이미지를 생성할 수 있다. 따라서 역광 보정부는 연산 시간과 자연 스러운 정도를 함께 고려하여 최적의 결과를 얻을 수 있도록 상기 노출 시간을 달리한 이미지의 장수를 결정할 수 있다. 한편, 사람의 눈은 카메라와 비교하여 밝은 영역보다 어두운 영역에 더 민감한 특징이 있다. 이는 두 배의 빛이 조사된 카메라의 센서는 선형적으로 두 배의 광량으로 인식하지만, 사람의 눈은 비선형적으로 일부만 밝은 것으 로 인식하기 때문이다. 따라서 사진 보정시 밝은 부분과 어두운 부분을 정확히 대비시켜야 하는데, 이를 위해, 단계 S132에서, 역광 보정부는 역광 인공신경망에 기반한 WDR(Wide Dynamic Range) 알고리즘(WDR NN, WDR Neural Network)을 적용함으로써 이러한 문제를 해결하였다. 즉, 단계 S132에서, 역광 보정부는 보정 대상 이미지들을 바탕으로 최적화된 Contrast Gain Curve를 생성해 내어 대비 보정(Contrast Correction)을 정확히 함으로써, 기존 이미지 대비 어두운 영역을 개선하였다. 도 6은 이러한 본 발명의 역광 보정의 효과를 종래와 비교하여 설명하기 위한 도면으로서, 도 6의 (a)는 역광 보정을 위해 선택된, 노출 시간을 달리한 2장의 이미지들을 나타내고, 도 6의 (b)는 종래의 WDR 진행 과정(20 a)의 예를 나타내고, 도 6의 (c)는 도 6의 (a)에 예시된 이미지들을 도 6의 (b)에 예시된 방식으로 처리한 결과 로 도출된 이미지의 예를 나타내고, 도 6의 (d)는 본 발명의 일 실시 예에 따른 인공신경망(ANN) 기반의 WDR 진 행 과정(20b)의 예를 나타내고, 도 6의 (e)는 도 6의 (a)에 예시된 이미지들을 도 6의 (d)에 예시된 방식으로 처리한 결과로 도출된 이미지의 예를 나타낸다. 도 6의 (b)를 참조하면, 종래의 WDR 진행 과정(20a)은 도 6의 (a)에 예시된 이미지들(즉, 노출 시간을 달리한 이미지들)을 수집하는 과정(Long/Short Fusion)(21a), 상기 이미지들을 톤 매핑(Tone Mapping)하여 합치는 과 정(22a), 및 톤 매핑(Tone Mapping) 결과에 대한 대비 보정(Contrast Correction) 과정(23a)을 포함한다. 한편, 도 6의 (d)를 참조하면, 본 발명의 일 실시 예에 따른 인공신경망(ANN) 기반의 WDR 진행 과정(20b)은 도 6의 (a)에 예시된 이미지들(즉, 노출 시간을 달리한 이미지들)을 수집하는 과정(Long/Short Fusion)(21b), 상기 이미지들을 톤 매핑(Tone Mapping)하여 합치는 과정(22b), 및 톤 매핑(Tone Mapping) 결과에 대한 대비 보정 (Contrast Correction)(23b)과정을 포함하되, 상기 이미지 수집 과정(21b)을 위해 역광 보정 신경망(WDR NN)(24b)을 적용하고, 역광 보정 신경망(WDR NN)(24b)에 의해 보정 이득 커브(Contrast Gain Curve)를 생성(25b)한 후, 이를 대비보정 과정(23b)에 반영한다. 이는, 밝은 영역의 픽셀 이미지와 어두운 영역의 픽셀 이미 지의 비율을 결정하기 위함이다. 이로 인해, 도 6의 (c) 및 도 6의 (e)에 예시된 바와 같이, 본 발명의 일 실시 예에 따른 인공신경망(ANN) 기반 의 WDR 진행 결과(e)가, 종래의 WDR 진행 결과(c) 보다 자연스러운 것을 알 수 있다. 단계 S133에서는, 자동 색온도 보정부가 상기 역광 보정된 이미지에 포함된 객체별로 색온도를 자동으로 보 정한다. 즉, 단계 S133에서, 자동 색온도 보정부는 역광 보정부에서 출력된 이미지를 인공신경망에 인 가하여 상기 객체별 색온도를 자동으로 보정한다. 이를 위해, 자동 색온도 보정부는, 색온도를 적합하게 유 지시켜줌으로써 화질을 개선시키고 영상 인식률을 증대시키도록 하기 위해 개발된 AWB(Auto White Balance) 알 고리즘을 이용하되, 인공신경망에 기반한 AWB 알고리즘을 이용함으로써, 더욱 효과적으로 색온도를 보정할 수 있도록 하였다. 특히, 단계 S133에서, 자동 색온도 보정부는 상기 역광 보정된 이미지로부터, 객체별 플랭크 화이트(Planck White) 곡선을 도출하여 색온도를 판단하고, 상기 객체별 플랭크 화이트 곡선을 미리 설정된 색 보정 신경망 (AWB NN)에 적용하여 객체별 색 온도를 보정하는 일련의 과정을 수행한다. 예를 들어, 입력 영상에 포함된 임의 의 객체에 대한 색온도가 낮으면, 붉은색을 띄므로, 차가운 색인 파란색 계열 필터를 사용하여 색 보정을 실시 할 수 있다. 도 7a 및 도 7b는 이러한 자동 색 온도 보정의 효과를 종래와 비교하여 설명하기 위한 도면들로서, 도 7a는 종 래의 AWB 진행과정 및 그 결과를 예시하고, 도 7b는 본 발명의 일 실시 예에 따라 인공신경망에 기반한 AWB 진 행과정 및 그 결과를 예시한다. 이 때, 도 7a의 (a)는 풍경을 촬영한 원본사진으로서, 하늘객체(A)와 땅객체(B)를 포함하는 풍경사진의 예를 나 타내고, 도 7a의 (b)는 도 7a의 (a)에 예시된 원본사진에 대한 객체별(A, B) 플랭크 화이트 곡선을 예시하고, 도 7a의 (c) 및 (d)는 종래의 AWB를 수행한 결과, 즉, 종래의 AWB로 보정된 결과로서, 도 7a의 (c)는 하늘색에 맞추어 파란색 필터가 적용된 예를 나타내고, 도 7a의 (d)는 땅 색에 맞추어 붉은색 필터가 적용된 예를 나타낸 다. 도 7a의 (c) 및 (d)를 참조하면, 종래의 자동 색온도 보정 시, 하늘색에 맞추어 파란색 필터를 적용한 경우 땅 도 같이 파란색을 띄고, 땅 색에 맞추어 붉은색 필터를 적용한 경우 하늘도 붉은색을 띄게 되어, 원본 사진과 유사도가 떨어짐을 알 수 있다. 한편, 도 7b의 (a)는 도 7a의 (a)와 같이, 하늘객체(A)와 땅객체(B)를 포함하는 풍경사진의 예를 나타내고, 도 7b의 (b)는 도 7b의 (a)에 예시된 원본사진에 대한 객체별(A, B)로 플랭크 화이트 곡선을 도출한 후, 이를, 색 보정 인공신경망에 기반한 AWB(즉, AWB NN)에 적용하는 과정을 예시하고, 도 7b의 (c)는 ANN 기반 AWB를 수행한 결과, 즉, ANN 기반 AWB로 보정된 결과로서, 객체별 색온도 판단 결과에 따라 서로 다른 필터가 적용된 예를 나 타낸다. 즉, 도 7b의 (c)는 하늘객체(A)와 땅객체(B) 각각에 서로 다른 필터를 적용하여 색온도를 보정한 예를 나타낸다. 단계 S134에서는, 노이즈 제거/선명도 보정부가 상기 자동 색온도 보정된 이미지에 포함된 노이즈를 제거하 되, 선명도를 유지하면서 노이즈를 제거한다. 즉, 단계 S134에서, 노이즈 제거/선명도 보정부는 영상에 노 이즈가 많은 저조도 상태와 노이즈가 적은 야외 상태를 동시에 파악하여 서로 다른 노이즈 제거와 선명도 조절 을 통해 저조도/고조도 이미지 양쪽을 만족하는 결과를 얻을 수 있도록 한다. 이를 위해, 단계 S134에서, 노이 즈 제거/선명도 보정부는 상기 자동 색온도 보정된 이미지를 노이즈 제거/선명도 인공신경망(NR/Shart NN) 에 적용하되, 상기 색 온도가 보정된 이미지에 포함된 경계선의 세부적인 부분을 유지한 채 노이즈를 줄이는 다 양한 필터(filter)들 중 하나를 선택 적용함으로써, 상기 이미지의 선명도를 유지하면서 노이즈를 제거할 수 있 다. 예를 들어, 단계 S132의 역광 보정 과정 중, 가장 밝은 노출 컷에서도 최소한의 밝기가 제공되지 못하는 부분은 거친 노이즈값으로 채워지게 되며, 톤 매핑(Tone Mapping) 과정에서 노이즈가 더욱 증가하게 되는데, 이러한 노 이즈를 감소 또는 제거하는 처리만 수행할 경우, 이미지는 전체적으로 부드러워지지만 선명도가 낮아져서 윤곽 이 흐려질 수 있다. 따라서, 단계 S134에서는, 노이즈 제거/선명도 보정부가 상기 NR/Shart NN을 적용하여 상기 이미지를 보정함으로써, 선명도를 유지하면서 노이즈를 제거할 수 있도록 한다. 도 8은 이러한 본 발명의 노이즈 제거 및 선명도 보정의 효과를 종래와 비교하여 설명하기 위한 도면으로서, 도 8의 (a)는 노이즈 제거 및 선명도 보정을 위해 선택된 2장의 이미지(즉, 고주파 이미지와 저주파 이미지)의 예를 나타내고, 도 8의 (b)는 종래의 노이즈 제거 및 선명도 보정 과정(40a)의 예를 나타내고, 도 8의 (c)는 도 8 의 (a)에 예시된 이미지들을 도 8의 (b)에 예시된 방식으로 처리한 결과로 도출된 이미지의 예를 나타내고, 도 8의 (d)는 본 발명의 일 실시 예에 따른 인공신경망(ANN) 기반의 노이즈 제거 및 선명도 보정 과정(40b)의 예를 나타내고, 도 8의 (e)는 도 8의 (a)에 예시된 이미지들을 도 8의 (d)에 예시된 방식으로 처리한 결과로 도출된 이미지의 예를 나타낸다. 도 8의 (b)를 참조하면, 종래의 노이즈 제거 및 선명도 보정 과정(40a)은 도 8의 (a)에 예시된 이미지들(즉, 고 주파 이미지와 저주파 이미지)로부터 노이즈를 제거하는 과정(Noise Reduction)(41a), 선명도 보정과정 (Sharpness)(42a), 및 상기 과정들(41a, 42a)의 강도를 제어하는 과정(Strength control)(43a)을 포함한다. 한편, 도 8의 (d)를 참조하면, 본 발명의 일 실시 예에 따른 인공신경망(ANN) 기반의 노이즈 제거 및 선명도 보 정과정(40b)은 도 8의 (a)에 예시된 이미지들(즉, 고주파 이미지와 저주파 이미지)로부터 노이즈를 제거하는 과 정(Noise Reduction)(41b), 선명도 보정과정(Sharpness)(42b), 및 상기 과정들(41b, 42b)의 동작을 제어하기 위한 필터 선택 과정(Filter Selection)(46a)을 포함하되, 상기 NR/Shart NN을 적용한 Scene Detection, 및 강 도 제어(Strength control) 과정들(43b, 44b, 45b)을 더 포함할 수 있다. 이는 노이즈 제거와, 선명도 보정의 경계를 정확히 결정하기 위함이다. 이와 같이 도 5에 예시된 일련의 과정들(S131 내지 S134)을 통해, 이미지가 보정되면, 단계 S140에서, 다중 영 상신호 처리부는, 상기 보정된 이미지, ToF 센서에서 출력되는 3차원 거리 정보, 및 열 감지 센서 에서 출력되는 저해상도 열화상 이미지를 결합한다. 이 때, 상기 이미지들을 결합하기 위한 구체적인 처리 과정은 공지의 기술들을 이용할 수 있다. 단계 S150에서는, AI 가속기가, 미리 저장된 기준 데이터, 및 단계 S140에서 결합된 이미지를 미리 설정된 인공지능 알고리즘에 적용하여, 이미지를 인식한다. 이와 같이 함으로써, 본 발명은 복합 센서의 신호들을 하나의 프로세서에서 통합 처리함으로써, 전력 및 면적을 효율적으로 활용하고, 이로 인해, 처리 속도를 향상시킴으로써, 데이터 접근 지연 없이 대용량의 데이터를 실시 간으로 처리할 수 있는 특징이 있다. 또한, 본 발명은 복합 센서 정보를 이용함으로써, 단독 이미지 센서에 의존하는 시스템의 한계를 극복할 수 있 고, 이로 인해, 공장 등 실내 근로자, 화재 현장의 소방관, 작전 중인 군인 등 다양한 응용 분야에서 감지 정보 보조 수단으로 활용할 수 있어서, 활용 분야를 확장시킬 수 있다. 이상에서는 본 발명의 실시 예를 설명하였으나, 본 발명의 권리범위는 이에 한정되지 아니하며 본 발명이 실시 예로부터 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에 의해 용이하게 변경되어 균등한 것으로 인 정되는 범위의 모든 변경 및 수정을 포함한다."}
{"patent_id": "10-2021-0163792", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시 예에 따른 통합 영상 처리 장치에 대한 개략적인 블록도이다. 도 2는 본 발명의 일 실시 예에 따른 다중 영상신호 처리부에 대한 개략적인 블록도이다. 도 3은 본 발명의 일 실시 예에 따른 보정부에 대한 개략적인 블록도이다. 도 4는 본 발명의 일 실시 예에 따른 통합 영상 처리 방법에 대한 개략적인 처리 흐름도이다. 도 5는 본 발명의 일 실시 예에 따른 이미지 보정 단계에 대한 개략적인 처리 흐름도이다. 도 6은 본 발명의 일 실시 예에 따른 역광 보정의 효과를 종래와 비교하여 설명하기 위한 도면이다. 도 7a 및 도 7b는 본 발명의 일 실시 예에 따른 자동 색 온도 보정의 효과를 종래와 비교하여 설명하기 위한 도 면들이다. 도 8은 본 발명의 일 실시 예에 따른 노이즈 제거 및 선명도 보정의 효과를 종래와 비교하여 설명하기 위한 도 면이다."}
