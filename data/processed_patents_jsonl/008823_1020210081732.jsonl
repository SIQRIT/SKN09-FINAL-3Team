{"patent_id": "10-2021-0081732", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2022-0170639", "출원번호": "10-2021-0081732", "발명의 명칭": "ＬｏＲａ 기반의 사설망 운용을 위한 매체접속 제어 방법", "출원인": "주식회사 블루텍", "발명자": "류정규"}}
{"patent_id": "10-2021-0081732", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "서버(100)와 통신하는 Private LoRa 망에서 게이트웨이(200)를 통해 센서노드(300)를 제어하는 LoRa 기반의 사설망 운용을 위한 매체접속 제어 방법에 있어서,상기 센서노드(300)에서 센싱 데이터가 발생될 경우 Base channel을 통해 Resource request를 상기 게이트웨이(200)로 송신하는 스텝(S10)과,상기 게이트웨이(200)에서 Base channel을 통해 Data channel을 할당함과 동시에 offset time을 정의한Resource response를 상기 센서노드(300)로 응답하는 스텝(S20)과,상기 센서노드(300)에서 상기 게이트웨이(200)에 의해 할당 및 정의된 Data channel을 통해 offset time 후 센싱 데이터 및 채널 모니터링 정보를 상기 게이트웨이(200)로 전송하는 스텝(S30)과,상기 게이트웨이(200)에서 상기 센서노드(300)의 센싱 데이터를 ACK하면서 상기 서버(100)로 전송하는 스텝(S40)과,상기 서버(100)에서 상기 게이트웨이(200)로부터 전송된 상기 센서노드(300)의 센싱 데이터 및 채널 모니터링정보를 분석하면서 Data channel의 Traffic을 예상하여 상기 게이트웨이(200)로 하여금 상기 센서노드(300)를제어토록 Resource response를 정의하는 스텝(S50)을 포함하는 것을 특징으로 하는 LoRa 기반의 사설망 운용을위한 매체접속 제어 방법."}
{"patent_id": "10-2021-0081732", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 S20 스텝에서 상기 게이트웨이(200) 및 센서노드(300)는 1개의 Base channel 및 7개의 Data channel로 통신하는 것을 특징으로 하는 LoRa 기반의 사설망 운용을 위한 매체접속 제어 방법."}
{"patent_id": "10-2021-0081732", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 S20 스텝에서 상기 게이트웨이(200)로부터 상기 센서노드(300)로의 응답이 이루어지지 않을 경우ARQ(Automatic Repeat reQuest) 방식으로 반복하여 응답을 실현하는 것을 특징으로 하는 LoRa 기반의 사설망 운용을 위한 매체접속 제어 방법."}
{"patent_id": "10-2021-0081732", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 게이트웨이(200) 및 센서노드(300)는 시분할방식의 양방향통신으로 이루어지는 것을 특징으로 하는 LoRa기반의 사설망 운용을 위한 매체접속 제어 방법."}
{"patent_id": "10-2021-0081732", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제2항에 있어서,상기 S20 스텝에서,상기 게이트웨이(200) 및 센서노드(300)는 상호 CSMA/CA의 LBT(Listen Before Talk) 방식으로 통신하는 것을특징으로 하는 LoRa 기반의 사설망 운용을 위한 매체접속 제어 방법."}
{"patent_id": "10-2021-0081732", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항 내지 제5항 중 어느 한 항에 있어서,공개특허 10-2022-0170639-3-상기 S30 스텝에서 상기 센서노드(300)로부터 상기 게이트웨이(200)로 전송된 센싱 데이터는 상기 센서노드(300)의 수신세기(RSSI), 수신시간(time offset) 및 수신데이터 길이를 포함하고,상기 S40 스텝에서 상기 게이트웨이(200)는 상기 센서노드(300)의 센싱 데이터를 취합하여 상기 서버(100)로 전송하고,상기 S50 스텝에서 상기 서버(100)는 상기 게이트웨이(200)에서 취합된 센싱 데이터를 AI(ArtificialIntelligence) 알고리즘으로 분석하여 Data channel을 할당함과 동시에 offset time으로 정의되는 Resourceresponse를 상기 게이트웨이(200)로 분배하여 상기 게이트웨이(200)로 하여금 상기 센서노드(300)를 제어토록하는 것을 특징으로 하는 LoRa 기반의 사설망 운용을 위한 매체접속 제어 방법."}
{"patent_id": "10-2021-0081732", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서,상기 S30 스텝에서 상기 센서노드(300)로부터 상기 게이트웨이(200)로 전송된 센싱 데이터는 주기성 데이터 및비주기성 데이터로 이루어지고,상기 S40 스텝에서 상기 게이트웨이(200)는 상기 센서노드(300)의 Data channel의 점유현황을 취합하여 상기 서버(100)로 전송하고,상기 S50 스텝에서 상기 서버(100)는 상기 게이트웨이(200)에서 취합된 상기 센서노드(300)의 Data channel의점유현황을 분석하면서 각 채널의 복잡도를 판단하여 Data channel의 할당 및 offset time의 정의를 결정한Resource response를 상기 게이트웨이(200)로 분배하는 것을 특징으로 하는 LoRa 기반의 사설망 운용을 위한 매체접속 제어 방법."}
{"patent_id": "10-2021-0081732", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제6항에 있어서,상기 S50 스텝에서 상기 서버(100)는 상기 게이트웨이(200)에서 취합된 센싱 데이터를 분석하여 다른 PrivateLoRa 망의 간섭을 없앨 수 있도록 Data channel 할당 및 offset time 정의의 Resource response를 상기 게이트웨이(200)에 분배하는 것을 특징으로 하는 LoRa 기반의 사설망 운용을 위한 매체접속 제어 방법."}
{"patent_id": "10-2021-0081732", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명에 따라 게이트웨이 및 센서노드는 기본적인 통신(접속/탈퇴/download 정보)을 위하여 base channel을 운용하고, 센싱 데이터의 전달은 게이트웨이에서 할당한 채널, 즉 Data channel을 이용해 전달하 며, 게이트웨이는 센싱 데이터의 주기성 및 비주기성을 기반으로 단말의 채널 점유시점을 결정(schedulin (뒷면에 계속)"}
{"patent_id": "10-2021-0081732", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 LoRa 기반의 사설망 운용을 위한 매체접속 제어 방법에 관한 것으로, 더욱 상세하게는 주변에 산재한 동일 채널을 사용하는 다른 private LoRa 망에 의한 간섭을 최소화할 수 있고, 효율적인 Data channel의 사용을 통하여 센서노드의 소모전력을 절감시키며, LoRa 망의 상태를 서버에서 취합함으로써 인공지능을 활용한 LoRa 망 사용 효율의 극대화를 도모할 수 있는 LoRa 기반의 사설망 운용을 위한 매체접속 제어 방법에 관한 것이다."}
{"patent_id": "10-2021-0081732", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "일반적으로 ISM 대역(Industrial Scientific Medical Band)을 사용하는 저속 IoT 망에서는 다른 무선장치에 의 한 간섭을 회피하기 위해서 주로 LBT(Listen Before Talk) 방식 또는 CSMA/CA 방식을 사용하고 있다. CSMA/CA(Carrier Sense Multiple Access with Collision Avoidance)는 무선 랜(WLAN)에서 센서노드가 무선 매 체를 통해 데이터를 전송하려고 할 때, 매체에 있는 반송파를 감지하여 매체가 비어있음을 확인한 뒤 충돌을 회 피하기 위하여 임의의 시간을 기다렸다가 데이터를 전송하는 방법으로 매체가 비어있음을 확인한 뒤 바로 데이 터를 전송하는 반송파 감지 다중 접속/충돌 탐지(CSMA/CD) 방식과 달리 네트워크에 데이터의 전송이 없는 경우 라도 동시 전송에 의한 충돌에 대비하여 확인 신호를 전송하여, 확인 신호가 충돌 없이 전송된 것을 확인할 경 우 데이터를 보내는 통신 기술이다. 이때, 유선 랜(LAN)에서 충돌(collision)은 전송 매체의 전위 변화로 알 수 있으나, 무선랜에서는 무선 채널 상 에서 충돌 감지가 불가능하므로, 사전에 충돌을 가능한 한 회피하는 방식을 사용한다. 다만, 네트워크의 사용빈도가 많아 네트워크가 복잡해지면 중복 충돌 확인 알고리즘으로 인해 감지에 오랜 시간이 걸리고 데이터의 전 송도 지연되는 문제점이 발생하게 된다. 즉, CSMA/CA 방식은 혼잡한 상황에서 더욱 큰 지연을 유발하며, 정보 유실로 이어지는 상황이 빈번하고, 이에 따라, 다중 채널을 사용하여 단말이 사용하고 있는 채널의 혼잡 상황을 회피하고 원활한 통신을 위한 채널 scheduling이 필요하게 된다. 그리고, LoRa(Long Range)는 게이트웨이(Gateway)에서 센서노드에 사용 채널을 할당해 주는 형식으로, 다른 LoRa 망과의 간섭 등에 매우 취약하며, LoRa 단말, 즉 센서노드는 할당된 해당 채널만 사용하여 통신을 수행한 다. 또한, 센서노드에서 게이트웨이로 단방향 전달하는 방식을 사용한다. 그리고, LoRa 망은 특정 통신사업자가 운영하는 public 망과 국소 지역을 기반으로 자체 망을 구축하여 운영하 는 private 망으로 나뉘는데, public LoRa 망은 private LoRa 망과 같은 대역을 사용함으로써 이들의 혼잡도 상 승으로 인한 충돌을 야기하게 된다. 충돌이 빈번하게 발생하는 채널은 다른 센서노드들이 사용하고 있는 구간일 확률이 높기 때문에 이를 회피하여 상대적으로 사용 확률이 적은 채널로 바꿀 수 있으나 이와 같은 기능이 없다는 것이 문제로 지적되고 있다. 선행기술문헌 특허문헌 (특허문헌 0001) 대한민국 등록특허공보 제1866977호 (특허문헌 0002) 대한민국 공개특허공보 제2019-0074438호 (특허문헌 0003) 대한민국 공개특허공보 제2020-0025666호"}
{"patent_id": "10-2021-0081732", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 목적은 주변에 산재한 동일 채널을 사용하는 다른 private LoRa 망에 의한 간섭을 최소화할 수 있고, 효율적인 Data channel의 사용을 통하여 센서노드의 소모전력을 절감시키며, LoRa 망의 상태를 서버에서 취합함 으로써 인공지능 등을 활용한 LoRa 망 사용 효율의 극대화를 도모할 수 있는 LoRa 기반의 사설망 운용을 위한 매체접속 제어 방법을 제공함에 있다. 본 발명의 목적은 게이트웨이에서 센서노드로의 제어에 대한 정확도를 높일 수 있도록 하고, 시분할방식의 양방 향통신으로 이루어지도록 하여 실시간 제어를 가능케 하는 LoRa 기반의 사설망 운용을 위한 매체접속 제어 방법 을 제공함에 있다. 본 발명의 목적은 게이트웨이가 각 단말의 송/수신을 완전히 통제하므로 각 단말에서 게이트웨이로 전송되는 센 싱 데이터의 신뢰도는 센서노드 주도의 통신방법에 비해 훨씬 높은 신뢰도를 갖게 되며, LoRa 통신의 강점인 거 리에 따른 SF(Spreading Factor)를 가변으로 사용할 수 있는 LoRa 기반의 사설망 운용을 위한 매체접속 제어 방 법을 제공함에 있다."}
{"patent_id": "10-2021-0081732", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 목적을 달성하기 위한 본 발명은, 서버와 통신하는 Private LoRa 망에서 게이트웨이를 통해 센서노드를 제어하는 LoRa 기반의 사설망 운용을 위한 매체접속 제어 방법에 있어서, 상기 센서노드에서 센싱 데이터가 발생될 경우 Base channel을 통해 Resource request를 상기 게이트웨이로 송 신하는 스텝과, 상기 게이트웨이에서 Base channel을 통해 Data channel을 할당함과 동시에 offset time을 정의한 Resource response를 상기 센서노드로 응답하는 스텝과,상기 센서노드에서 상기 게이트웨이에 의해 할당 및 정의된 Data channel을 통해 offset time 후 센싱 데이터 및 채널 모니터링 정보를 상기 게이트웨이로 전송하는 스텝과, 상기 게이트웨이에서 상기 센서노드의 센싱 데이터를 ACK하면서 상기 서버로 전송하는 스텝과, 상기 서버에서 상기 게이트웨이로부터 전송된 상기 센서노드의 센싱 데이터 및 채널 모니터링 정보를 분석하면 서 Data channel의 Traffic을 예상하여 상기 게이트웨이로 하여금 상기 센서노드를 제어토록 Resource response를 정의하는 스텝을 포함하는 것을 그 기술적 구성상의 기본 특징으로 한다."}
{"patent_id": "10-2021-0081732", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따라 게이트웨이 및 센서노드는 기본적인 통신(접속/탈퇴/download 정보)을 위하여 base channel을 운용하고, 센싱 데이터의 전달은 게이트웨이에서 할당한 채널, 즉 Data channel을 이용해 전달하며, 게이트웨이 는 센싱 데이터의 주기성 및 비주기성을 기반으로 단말의 채널 점유시점을 결정(scheduling)하여 센서노드에 전 달하고, 이때, LoRa 망의 복잡성은 게이트웨이가 수신한 센싱 데이터 및 무선 채널 상태를 분석하여 서버로 전 송함으로써 서버가 수집한 정보를 취합하여 결정할 수 있도록 하여, 주변에 산재한 동일 채널을 사용하는 다른 private LoRa 망에 의한 간섭을 최소화할 수 있고, 효율적인 Data channel의 사용을 통하여 센서노드의 소모전 력을 절감시키며, LoRa 망의 상태를 서버에서 취합함으로써 인공지능 등을 활용한 LoRa 망 사용 효율의 극대화 를 도모할 수 있는 효과가 있다. 본 발명에 따라 LoRa 망에 접속하는 센서노드는 짧은 frame, 즉 Resource request를 전송하여 게이트웨이에 망 사용 승인을 요청하고, 게이트웨이는 특정 data channel과 offset time을 결정하여 센서노드로 즉시 Resource response로서 응답하고, 이어서 응답을 수신한 센서노드는 offset time 후에 센싱 데이터를 게이트웨이로 전달 하고, 이를 수신한 게이트웨이는 이에 대한 ACK를 센서노드로 송신하면서 해당 센싱 데이터를 서버로 전송하고, 서버는 게이트웨이로부터 전송된 센서노드의 센싱 데이터를 분석하면서 Data channel의 Traffic을 예상하여 게 이트웨이로 하여금 센서노드로 채널 resource 정보를 제공하여 Resource response를 정의할 수 있도록 함으로써, 주변에 산재한 동일 Data channel을 사용하는 다른 private LoRa 망에 의한 간섭을 최소화할 수 있도 록 함과 동시에 효율적인 Data channel의 사용을 통하여 센서노드의 소모전력을 절감시킬 수 있는 효과가 있다. 본 발명은 게이트웨이에서 센서노드로의 제어에 대한 정확도를 높일 수 있도록 하고, 시분할방식의 양방향통신 으로 이루어지도록 하여 실시간 제어를 가능케 하는 효과가 있다. 본 발명은 게이트웨이가 각 단말의 송/수신을 완전히 통제하므로 각 단말에서 게이트웨이로 전송되는 센싱 데이 터의 신뢰도는 센서노드 주도의 통신방법에 비해 훨씬 높은 신뢰도를 갖게 되며, LoRa 통신의 강점인 거리에 따 른 SF(Spreading Factor)를 가변으로 사용할 수 있는 효과가 있다. 본 발명에 따라 서버는 장시간 게이트웨이에서 수신한 LoRa 망 상태자료를 바탕으로 머신러닝 등의 학습 알고리 즘(algorithm) 또는 기타 LoRa 망 사용에 대한 이력 관리 등을 통하여 현재와 미래의 망 사용을 예측하고 판단 하여 다시 게이트웨이로 망 scheduling 정보를 feedback 함으로써 LoRa 망 사용을 극대화할 수 있는 효과가 있 다."}
{"patent_id": "10-2021-0081732", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명에 따른 LoRa 기반의 사설망 운용을 위한 매체접속 제어 방법의 바람직한 실시예를 도면을 참조하면서 설명하기로 하고, 그 실시예로는 다수 개가 존재할 수 있으며, 이러한 실시예를 통하여 본 발명의 목적, 특징 및 이점들을 더욱 잘 이해할 수 있게 된다. 도 1은 본 발명에 따른 LoRa 기반의 사설망 운용을 위한 매체접속 제어 방법을 나타내는 블록도이고, 도 2는 본 발명에 따른 LoRa 기반의 사설망 운용을 위한 매체접속 제어 방법에 적용된 Base channel 및 Data channel의 운 용 예를 나타내는 개념도이며, 도 3은 본 발명에 따른 LoRa 기반의 사설망 운용을 위한 매체접속 제어 방법에 적용된 게이트웨이 및 센서노드 상호간의 동기화된 통신을 설명하기 위한 개념도이다. 본 발명에 따른 LoRa 기반의 사설망 운용을 위한 매체접속 제어 방법은 도 1 내지 도 3에 도시된 바와 같이 서 버와 통신하는 Private LoRa 망에서 게이트웨이를 통해 센서노드를 제어할 수 있도록 설계된다. 구체적으로, 본 발명에 따른 LoRa 기반의 사설망 운용을 위한 매체접속 제어 방법은 센서노드에서 센싱 데 이터가 발생될 경우 Base channel을 통해 Resource request를 게이트웨이로 송신하는 스텝(S10)과, 게이 트웨이에서 Base channel을 통해 Data channel을 할당함과 동시에 offset time을 정의한 Resource response를 센서노드로 응답하는 스텝(S20)과, 센서노드에서 게이트웨이에 의해 할당 및 정의된 Data channel을 통해 offset time 후 센싱 데이터 및 채널 모니터링 정보를 게이트웨이로 전송하는 스텝 (S30)과, 게이트웨이에서 센서노드의 센싱 데이터를 ACK하면서 서버로 전송하는 스텝(S40)과, 서버에서 게이트웨이로부터 전송된 센서노드의 센싱 데이터 및 무선채널 상태정보를 분석하면서 Data channel의 Traffic을 예상하여 게이트웨이로 하여금 센서노드를 제어토록 Resource response를 정의하는 스텝(S50)을 포함한다. 본 발명에 따라 게이트웨이 및 센서노드는 기본적인 통신(접속/탈퇴/download 정보)을 위하여 base channel을 운용하고, 센싱 데이터의 전달은 게이트웨이에서 할당한 채널, 즉 Data channel을 이용해 전달 하며, 게이트웨이는 센싱 데이터의 주기성 및 비주기성을 기반으로 단말의 채널 점유시점을 결정 (scheduling)하여 센서노드에 전달하고, 이때, LoRa 망의 복잡성은 게이트웨이가 수신한 센싱 데이터 및 무선채널 상태정보를 분석하여 서버로 전송함으로써 서버가 수집한 정보를 취합하여 결정할 수 있 도록 하여, 주변에 산재한 동일 채널을 사용하는 다른 private LoRa 망에 의한 간섭을 최소화할 수 있고, 효율 적인 Data channel의 사용을 통하여 센서노드의 소모전력을 절감시키며, LoRa 망의 상태를 서버에서 취합함으로써 후술하는 인공지능 등을 활용한 LoRa 망 사용 효율의 극대화를 도모할 수 있도록 한다. 한편, LoRa 망에서 제시하는 통신방식은 LBT(Listen Before Talk)로, 송신 전에 일정 시간 동안 채널점유를 확 인하고 송신을 수행하는 방식을 사용하고 있다. 센서노드는 주기성 데이터 또는 비주기성 데이터를 발생시키며, 주기성 데이터의 경우 정해진 채널로 주기 적인 통신을 수행하기 때문에 traffic을 예측할 수 있으나, 비주기성 데이터는 이를 예측할 수 없는 문제가 있 다. 다만, 비주기성 데이터의 발생을 관찰함으로써 주로 사용되는 Data channel을 알 수 있으며, 이를 통해 각 Data channel의 복잡도를 판단하고 관리하고 있는 센서노드의 통신을 제어할 수 있도록 한다. 도 1은 특정 센서노드가 센싱 데이터를 서버로 전달하기 위한 절차를 설명하고 있다. LoRa에서 하나 의 게이트웨이는 도 2에 도시된 바와 같이 8개의 채널을 동시에 사용 가능하며, 이 중에서 한 채널을 \"base channel\"로 정의하고, 나머지 채널을 \"data channel\"로 정의한다. Base channel은 CSMA/CA와 같은 LBT 방식을 사용하여 기본적인 충돌을 회피하여 통신하며, 망의 가입/탈퇴, data channel의 할당 등의 용도로 활용된다. Data channel은 offset time을 가진 LBT 방식으로 동작한다. offset time은 게이트웨이에서 할당하며, 센 서노드는 해당 offset time 후에 통신을 수행하도록 함으로써 게이트웨이 할당 시간에 정확하게 동작 할 수 있도록 정의한다. 이때, LoRa 망에 접속하는 센서노드는 짧은 frame, 즉 Resource request를 전송하여 게이트웨이에 망 사용 승인을 요청하고, 게이트웨이는 특정 data channel과 offset time을 결정하여 센서노드로 즉 시 Resource response로서 응답하고, 이어서 응답을 수신한 센서노드는 offset time 후에 센싱 데이터를 게이트웨이로 전달한다. 이를 수신한 게이트웨이는 이에 대한 ACK를 센서노드로 송신하고 해당 센싱 데이터를 서버로 전송한다. 이에 따라 서버는 게이트웨이로부터 전송된 센서노드의 센싱 데이터 및 무선채널 상태정보를 분석하면서 Data channel의 Traffic을 예상하여 게이트웨이로 하여금 센서노드를 제어할 수 있도록 Resource response를 정의할 수 있도록 함으로써, 주변에 산재한 동일 Data channel을 사용하는 다른 private LoRa 망에 의한 간섭을 최소화할 수 있도록 함과 동시에 효율적인 Data channel의 사용을 통하여 센서노드의 소모전력을 절감시킬 수 있도록 하는 것이다.그리고, 상기 S20 스텝에서 게이트웨이로부터 센서노드로의 응답이 이루어지지 않을 경우 ARQ(Automatic Repeat reQuest) 방식으로 반복하여 응답을 실현토록 하여 게이트웨이에서 센서노드 로의 제어에 대한 정확도를 높일 수 있도록 한다. 또한, 게이트웨이 및 센서노드는 시분할방식의 양방향통신으로 이루어지도록 하여 실시간 제어를 가 능케 한다. 한편, 상기 S20 스텝에서 게이트웨이 및 센서노드는 상호 CSMA/CA의 LBT(Listen Before Talk) 방식 으로 통신할 수 있도록 한다. 나아가, 상기 S30 스텝에서 센서노드로부터 게이트웨이로 전송된 센싱 데이터는 센서노드의 수 신세기(RSSI), 수신시간(time offset) 및 수신데이터 길이를 포함하고, 상기 S40 스텝에서 게이트웨이는 센서노드의 센싱 데이터를 취합하여 서버로 전송하고, 상기 S50 스텝에서 서버는 게이트웨이 에서 취합된 센싱 데이터를 AI(Artificial Intelligence) 알고리즘으로 분석하여 Data channel을 할당함 과 동시에 offset time으로 정의되는 Resource response를 게이트웨이로 분배하여 게이트웨이로 하 여금 센서노드를 제어토록 한다. 더 나아가, 상기 S30 스텝에서 센서노드로부터 게이트웨이로 전송된 센싱 데이터는 주기성 데이터 및 비주기성 데이터로 이루어지고, 상기 S40 스텝에서 게이트웨이는 센서노드의 Data channel의 점유현 황을 취합하여 서버로 전송하고, 상기 S50 스텝에서 서버는 게이트웨이에서 취합된 센서노드 의 Data channel의 점유현황을 분석하면서 각 채널의 복잡도를 판단하여 Data channel의 할당 및 offset time의 정의를 결정한 Resource response를 게이트웨이로 분배할 수 있도록 한다. 이때, 상기 S50 스텝에서 서버는 게이트웨이에서 취합된 센싱 데이터와 채널의 점유 상태정보를 분석 하여 다른 Private LoRa 망의 회피할 수 있도록 Data channel 할당 및 offset time이 포함된 Resource response를 게이트웨이에 분배토록 한다. 도 2를 참조하여 본 발명에 따른 LoRa 기반의 사설망 운용을 위한 매체접속 제어 방법을 더욱 구체적으로 설명 하면, 특정 센서노드가 Resource request를 Base channel을 통해 요청하면 게이트웨이는 자신의 Data channel 정보를 이용하여 해당 센서노드에 Resource response를 할당한다. 게이트웨이에서 할 당하는 Resource response(무선자원 정보)는 Data channel의 번호와 offset time을 포함하며, Data channel의 번호는 센서노드가 게이트웨이와 통신을 위해 사용할 해당 Data channel로서 부여하며, offset time 은 해당 센서노드가 송신을 원하는 센싱 데이터를 송신하는 시점의 시간차로 정의된다. 이때, offset time은 도 3의 beacon을 통해서 공유한 동기화된 기준 시각의 offset 값을 의미한다. Resource response(무선자원의 할당 정보)를 수신한 센서노드는 Resource response에 포함된 Data channel을 통해 기준 sync 시간에서 offset time 후에 데이터 frame을 송신한다. 센서노드에서 송신한 frame을 게이트웨이에서 정상적으로 수신 완료하면, 게이트웨이는 ACK frame을 즉시 단말에게 송신한다. 이러한 송/수신의 절차에서 정상적으로 송/수신이 이루어지지 않을 경우를 대비하여 ARQ(Automatic Repeat Request) 방식을 이용하여 오류 제어를 수행토록 한다. 게이트웨이가 각 단말의 송/수신을 완전히 통제하므로 각 단말에서 게이트웨이로 전송되는 센싱 데이 터의 신뢰도는 센서노드 주도의 통신방법에 비해 훨씬 높은 신뢰도를 갖게 된다. 또한, LoRa 통신의 강점 인 거리에 따른 SF(Spreading Factor)를 가변으로 사용할 수 있다는 장점을 제공한다. 도 3을 참조하여 구체적으로 설명하면, 게이트웨이는 주기적으로 beacon을 송신하며, 이 beacon은 동기 정 보 및 하향 데이터 정보 등을 포함하여 송신된다. Beacon을 수신한 센서노드는 beacon 수신 시점을 이용하여 동기 정보를 추출하고 이를 자신의 시스템에 반 영하여 게이트웨이와 동기를 유지시킨다. 양방향 통신을 위해서 게이트웨이가 beacon을 통해 sleep 상태인 센서노드에 전달할 데이터가 있음을 알리고, 이를 위해 beacon에는 candidate down list를 가지고 있으며, 이 정보를 이용해 특정 센서노드가 수신할 데이터가 있음을 표시한다.수신할 데이터가 있음을 감지한 센서노드는 게이트웨이에 무선 자원을 요청하고 수신대기 모드로 전 환함으로써 자신이 수신할 데이터를 수신한다. 이때, 센서노드의 통신은 게이트웨이의 무선자원 분배에 의해 이루어지며, 게이트웨이는 서버 에서 전달되는 무선자원 schedule 정보를 기반으로 이를 배분한다. 무선자원 schedule 정보는 시간 단위의 예상 유휴 회선에 대한 정보를 담고 있으며, 해당 정보는 시간 + 채널의 구성요소를 갖는다. 게이트웨이는 자신이 수신해야 할 정보는 물론이고 회선을 점유하고 있는 수신 정보들에 대한 신호세기, 전송시간, 전송 데이터 길이 등의 정보를 실시간 모니터링하고, 이 정보를 서버로 실시간 전송한다. 게이트웨이의 LoRa 망에 대한 모니터링 정보를 기반으로 서버는 회선 점유정보를 데이터화하고, 이를 이용하여 향후 발생할 traffic을 예상하여 게이트웨이가 단말에 무선자원을 효율적으로 분배할 수 있도록 제공한다. 서버는 장시간 게이트웨이에서 수신한 LoRa 망 상태자료를 바탕으로 머신러닝 등의 학습 알로리즘 (algorithm) 또는 기타 LoRa 망 사용에 대한 이력 관리 등을 통하여 현재와 미래의 망 사용을 예측하고 판단하 여 다시 게이트웨이로 망 scheduling 정보를 feedback 함으로써 LoRa 망 사용을 극대화할 수 있도록 하는 것이다. 산업상 이용가능성 본 발명은 ISM 대역(Industrial Scientific Medical Band)을 사용하는 LoRa 망 통신 관련 산업분야에 이용될 수 있다."}
{"patent_id": "10-2021-0081732", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명에 따른 LoRa 기반의 사설망 운용을 위한 매체접속 제어 방법을 나타내는 블록도. 도 2는 본 발명에 따른 LoRa 기반의 사설망 운용을 위한 매체접속 제어 방법에 적용된 Base channel 및 Data channel의 운용 예를 나타내는 개념도. 도 3은 본 발명에 따른 LoRa 기반의 사설망 운용을 위한 매체접속 제어 방법에 적용된 게이트웨이 및 센서노드 상호간의 동기화된 통신을 설명하기 위한 개념도."}
