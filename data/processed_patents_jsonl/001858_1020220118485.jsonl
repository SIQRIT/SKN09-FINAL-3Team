{"patent_id": "10-2022-0118485", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0039754", "출원번호": "10-2022-0118485", "발명의 명칭": "영상 기반 해상 객체 인식 및 거리 추정 방법", "출원인": "호서대학교 산학협력단", "발명자": "임태호"}}
{"patent_id": "10-2022-0118485", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "영상을 기반으로 하여 해상의 객체 인식 및 거리를 추정하는 방법으로서,(a) 카메라로부터 획득된 영상을 수신하는 단계;(b) 상기 단계 (a)에서 수신된 영상 중에서 특정 이미지를 임의의 크기 영역의 N개의 행×N개의 열로 그리드 분할하는 단계;(c) 상기 단계 (b)의 그리드 분할된 특정 이미지에서 수평선 구간을 검출하는 단계;(d) 상기 단계 (d)에서 검출된 수평선 구간에서 객체를 인식하는 단계; 및(e) 상기 단계 (d)에서 인식된 객체의 거리를 계산하는 단계을 포함하는 영상 기반 해상 객체 인식 및 거리 추정 방법."}
{"patent_id": "10-2022-0118485", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "청구항 1에 있어서,상기 특정 이미지는 카메라의 자세가 수평으로 촬영된 이미지인 것을 특징으로 하는 영상 기반 해상 객체 인식 및 거리 측정 방법."}
{"patent_id": "10-2022-0118485", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "청구항 1에 있어서,상기 단계 (b)에서 상기 그리드 분할된 영역의 모든 픽셀값 내부에 대하여 회색조를 적용하는 것을 특징으로 하는 영상 기반 해상 객체 인식 및 거리 추정 방법."}
{"patent_id": "10-2022-0118485", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "청구항 1에 있어서,상기 단계 (c)는,(c1) 상기 그리드 분할된 각 N개의 행인 X축 방향의 영역을 순차적으로 Y축 1열로 병합하고 평균값을 계산하는단계; 및(c2) 상기 단계 (c1)에서 계산된 평균값을 Y축 상단에서 차이를 비교하여 이 비교값의 차이가 최대가 되는 구간을 검출하는 단계를 포함하는 것을 특징으로 하는 영상 기반 해상 객체 인식 및 거리 추정 방법."}
{"patent_id": "10-2022-0118485", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "에 있어서,상기 임계치는 20픽셀인 것을 특징으로 하는 영상 기반 해상 객체 인식 및 거리 추정 방법."}
{"patent_id": "10-2022-0118485", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "청구항 1에 있어서,상기 단계 (e)의 거리는,에 의해 산출되고, 여기서이며, 여기서, fov는 카메라의 화각(FOV: field of view), H는 카메라 화각에 따른 세로축 픽셀좌표의 해상도,y는 카메라에서 촬영된 영상 이미지에서 지정된 객체의 픽셀 좌표인 것을 특징으로 하는 영상 기반 해상 객체 인식 및 거리 추정 방법."}
{"patent_id": "10-2022-0118485", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "청구항 1에 있어서,상기 단계 (e) 이후, 상기 계산된 객체의 거리에 따라 위험 상태를 알리는 단계을 더 포함하는 영상 기반 해상 객체 인식 및 거리 추정 방법."}
{"patent_id": "10-2022-0118485", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "영상을 기반으로 하여 해상의 객체 인식 및 거리를 추정하는 장치로서,적어도 하나의 프로세서; 및컴퓨터로 실행가능한 명령을 저장하는 적어도 하나의 메모리를 포함하되,상기 적어도 하나의 메모리에 저장된 상기 컴퓨터로 실행가능한 명령은, 사기 적어도 하나의 프로세서에의하여,(a) 카메라로부터 획득된 영상을 수신하는 단계;(b) 상기 단계 (a)에서 수신된 영상 중에서 특정 이미지를 임의의 크기 영역의 N개의 행×N개의 열로 그리드 분할하는 단계;(c) 상기 단계 (b)의 그리드 분할된 특정 이미지에서 수평선 구간을 검출하는 단계;(d) 상기 단계 (d)에서 검출된 수평선 구간에서 객체를 인식하는 단계; 및(e) 상기 단계 (d)에서 인식된 객체의 거리를 계산하는 단계를 포함하는 영상 기반 해상 객체 인식 및 거리 추정 장치."}
{"patent_id": "10-2022-0118485", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "영상을 기반으로 하여 해상의 객체 인식 및 거리를 추정하기 위한 프로그램으로서,비일시적 저장 매체에 저장되며, 프로세서에 의하여,공개특허 10-2024-0039754-4-(a) 카메라로부터 획득된 영상을 수신하는 단계;(b) 상기 단계 (a)에서 수신된 영상 중에서 특정 이미지를 임의의 크기 영역의 N개의 행×N개의 열로 그리드 분할하는 단계;(c) 상기 단계 (b)의 그리드 분할된 특정 이미지에서 수평선 구간을 검출하는 단계;(d) 상기 단계 (d)에서 검출된 수평선 구간에서 객체를 인식하는 단계; 및(e) 상기 단계 (d)에서 인식된 객체의 거리를 계산하는 단계를 포함하는 영상 기반 해상 객체 인식 및 거리 추정 프로그램."}
{"patent_id": "10-2022-0118485", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 해상 객체 인식 및 거리 추정에 관한 것으로, 더욱 상세하게는 카메라를 이용하여 표지 주변의 영상을 획득하고, 이 획득된 영상 정보를 그리드 영역으로 분할하여 영역별 좌표와 평균 픽셀을 획득하며, 하늘과 바다 의 색이 구분되는 해양 특성을 이용하여, 그리드 영역 간 색상 변화량 분석을 통해 수평선 검출과 객체 판별 정 보를 획득하여 객체 인식 및 거리를 추정함으로 해양에서의 추돌 사고를 미연에 방지하는 영상 기반 해상 객체 인식 및 거리 추정 방법에 관한 것이다."}
{"patent_id": "10-2022-0118485", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 해상 객체 인식 및 거리 추정에 관한 것으로, 더욱 상세하게는 카메라를 이용하여 표지 주변의 영상 을 획득하고, 이 획득된 영상 정보를 그리드 영역으로 분할하여 영역별 좌표와 평균 픽셀을 획득하며, 하늘과 바다의 색이 구분되는 해양 특성을 이용하여, 그리드 영역 간 색상 변화량 분석을 통해 수평선 검출과 객체 판 별 정보를 획득하여 객체 인식 및 거리를 추정함으로 해양에서의 추돌 사고를 미연에 방지하는 영상 기반 해상 객체 인식 및 거리 추정 방법에 관한 것이다."}
{"patent_id": "10-2022-0118485", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "최근 안전의식 강화 및 국가 기반 방재 요구가 사회 전반적으로 증가함에 따라 지능형 CCTV(Closed-circuit Television) 기술이 사회 안전 분야의 핵심 기술로 부상하면서 스마트 홈, 시티 등 다양한 영역에 활용되어 재 난 대응 역량 강화에 기여하고 있다. 기존의 CCTV 방식이 아날로그에서 디지털 방식으로 전환되면서 네트워크를 통한 원격 모니터링이 가능해졌고, 다양한 분야에서 실시간 측면의 지능화된 CCTV 영상분석 적용을 시도하고 있 다. 이러한 지능형 CCTV 영상분석 기술은 공장, 항만, 철도 등 대규모 시설 내에서도 활용되고 있다. 해양 분야 도 ICT(Information&Communication Technology)가 해운, 항만, 수산, 조선 등의 정보통신 기술들과 접목되면서 스마트 해운, 항만물류시스템, 스마트 양식, 자율운항 선박 등 빅데이터 IoT(Internet of Things) 기술의 발전 을 통해 고도화되고 있다. 또한, 해상 교통의 길잡이인 항로표지도 선박의 안전한 운항을 도와주는 표지판 기능 을 넘어서, 해양 정보수집 및 안전 강화 모니터링을 위한 디지털 기술이 접목되고 있다. 해양의 종합적인 기상 현상을 다양한 기상장비로 관측하거나, 안전 항해를 유도하기 위한 선제적 해양 정보를 제공함으로써 해양 관련 종사자의 생업에 중요하게 활용되고 있다. 하지만, 선박과 항로표지의 추돌 사고 및 위치이탈 사고가 빈번히 발 생하고 있으며, 최근 6년간 총 38건의 선박과 항로표지의 추돌 사고가 발생했다. 파손된 항로표지는 장시간 수 리 기간 소요 및 피해복구에 큰 비용이 발생하며, 해당 기간에 해양 기상 정보 수집 활용이 어려워 불편함을 초 래한다. 이러한 문제를 해결하기 위해, 국내에서는 등부표 추돌 방지 영상정보 시스템을 개발하고 실용화하여, 항로표지 시설 상태를 감시, 수집하고 있다. 그러나 육상에서의 지속적인 전자 장치 운용에 비해 해양 환경의 특성상 전력 공급이 제한적이다. 항로표지에 적용되는 영상 시스템은 배터리와 같은 한정된 에너지에서 장기간 유지하기 위한 저전력 시스템으로 구성되어야 한다. 일반적으로 해상 객체는 수평선 위에서 객체 판별이 이루어지며 알고리즘 진행의 기준이 된다. 보편적인 수평선 검출은 캐니 에지 검출(Canny edge detection)을 이용하여 이미지의 윤곽을 검출하고, 잡음 제거를 위한 필터 등을 적용하여 허프 변환(Hough transform)을 통해 수평선의 직선 성분을 추출하는 방식으로 검출한다. 이 방식 은 검출률이 낮고 수평선의 끝 좌표만 획득하기 때문에, 상세한 구간의 수평선 좌표를 알 수 없어서 활용하기 어려우며, 객체 탐지에 대한 알고리즘이 별도로 필요하다. 한편 기존 센서 기반 항로표지 추돌 방지 시스템은 충격 센서에 의해 촬영 이벤트가 발생하는 방식이다. 사람이 직접 주기적으로 영상 상태를 확인하며, 사고 규명 원인에 대해서는 파악할 수 있지만, 근본적인 충돌 방지를 예방하기는 어렵다. 효율적으로 사고에 대처하기 위해서는 표지 장비 자체가 능동적으로 사고 알람을 관리자에 게 줄 수 있어야 한다. 그러나 최근 인공지능 기술과 비전 기술이 발달함에 따라 카메라, 레이더, 라이다(LiDAR) 등 이미지 센서를 통 해 획득한 정보를 컴퓨터로 분석하고 판단하여 객체의 인식을 돕는다. 레이다는 장거리 측정이 가능하고 기후에 영향을 적게 받지만, 객체 식별이 매우 어렵고, 라이다는 카메라와 레이더에 비해 인식 정밀도가 높고 매우 민 감하여 성능이 좋지만, 비용이 많이 든다. 카메라는 날씨 영향은 많이 받으나 영상처리 소프트웨어 개선에 따라 극복 여지가 있으며, 가격은 라이더보다는 훨씬 저렴한 편이기에 비용적인 측면에서는 가장 효율적이다. 또한 카메라는 기존 충격 감지 센서보다는 전력 효율이 떨어지지만 사고 발생 이전에 미리 탐지하여 사고를 방지할 수 있다. 하지만 부표는 배터리 방식이기 때문에 최소한의 비전 처리 방법으로 평상시에는 저전력 모드로만 동 작하게 하는 것이 중요하다. 이러한 방법으로는 특정 픽셀 그룹을 추적하여, 해당 관심 영역의 변화 상태를 감 지하는 것, 존재 여부를 판단하는 것이 가장 효과적으로 전력 소모를 줄일 방법이다. 지상처럼 다수 불특정 대 상으로 객체의 존재 여부를 판단하기 위해서는 많은 픽셀 처리가 있어 전력 소모가 높아지지만, 해상은 수평선 을 기준으로 객체의 존재 여부를 판별한다. 해당 영역만 관측하여 존재 여부 상태를 판단하는 기준점이 존재하 기 때문에 검출 방법이 더욱 유리하다. 입력 이미지로부터 어떠한 목적을 달성하기 위하여, 영상 전처리를 이용 한 객체를 검출하고 특정 동작을 수행하기 위해서는 객체의 관심 영역을 찾는 것이 중요하다. 즉, 이미지에서 일정하게 유지되는 환경 패턴을 찾아 규칙화하여 객체의 관심 영역을 찾는 영상처리 알고리즘 설계가 필요하다. 이는 도심처럼 건축물과 지형지물이 복잡하게 나열된 환경에서의 규칙적인 이미지 패턴으로 차선을 예시로 들 수 있고, 이처럼 해양의 이미지 패턴은 하늘과 바다가 하늘색, 파란색으로 색상 경계가 구분되는 수평선을 예로 들 수 있다. 해양은 도심처럼 건축물이나 지형지물 등의 방해 요소가 상대적으로 적고, 이를 이용한, 해상 객체 들을 검출하기 위한 전처리 연구들이 시도되고 있는데, 해상 객체의 존재 여부 판별은 주로 하늘과 바다 영역의 경계인 수평선을 기준점으로 활용한다. 해상 객체의 경우, 수평선 위에서부터 천천히 접근하는 객체를 파악하는 게, 수평선 아래에서 가깝고 빠르게 접근하는 객체를 탐색하는 것보다, 데이터 처리 시간 및 잡음에 유리하다. 일반적인 기존의 수평선 검출은 에지 검출을 통해 화소가 많이 변화되는 경계선을 찾아 수평선을 탐색한다. 해 양 환경의 경우 가장 큰 픽셀 군집으로는 하늘과 바다 영역이기 때문에, 수평선 구간에서 가장 큰 변화가 나타 나는 특징이 있다. 주로 캐니 에지 검출과 같은 2차 미분 방법을 적용한 후, 평균값(Mean), 가우시안 (Gaussian), 미디언(Median) 등 1차 미분 필터와 콘벌루션(Convolution) 연산을 통해, 잡음을 제거하여 에지를 검출하게 된다. 기존의 캐니 에지 기반의 수평선 검출 과정은 잡음에 크게 민감하여, 이상적인 수평선 검출을 위해 에지 검출 강도와 필터 크기의 임계치 조절이 수동적으로 필요하다. 이는 환경이 유동적으로 빠르게 변하 는 해양 환경에서 수평선 검출을 위한 에지 검출의 범용적인 임계치를 설정하기 쉽지 않다. 이에 대한 임계치를 이진 이미지에서 픽셀 히스토그램을 이용하여 적절한 중간값을 찾아주는 알고리즘이 활용되기도 한다. 만일 이상적인 에지가 검출되었다면, 수평선만을 검출하기 위해, 주로 허프 변환 알고리즘을 직선 검출에 사용 한다. 그러나 허프 변환은 수평선으로 추정되는 에지가 존재하여도, 직선 성분을 미검출하거나 오검출의 경우가 빈번히 발생하며 연산량도 많다. 또한, 수평선 검출 이후에 개별적으로 객체를 찾아내는 알고리즘이 필요하며, 연산량이 많으면 임베디드 환경에서 프로세서 처리에 부담이 존재한다. 그리고 검출된 수평선의 상단을 관심 영역으로 지정하였을 경우, 객체를 탐지하는 방법 중 저연산으로 활용되는 알고리즘은 이진 영상, 차 영상을 이용한 방법을 통해 객체를 감지할 수 있다. 시간이 흘러가는 이진 입력 영상 에서 현재와 과거 두 프레임 간의 차이를 통해 계산한다. 그러나 이진 차 연산 방법은 해양 객체에 대해 정확히 추적하기 위한 성능에는 한계가 있다. 해양 환경은 지상과 같이 고정적인 프레임이 아니라 흔들림이 존재하여 카메라의 초점이 변하는 유동성 프레임으로 객체만이 아닌 화면 전체가 흔들린다. 결국, 해양 객체 존재 여부를 감지하기 위해서는 이러한 유동적인 문제를 해결할 수평선 검출 방법과 해양 환경에 맞는 객체 검출 방법이 제 시되어야 한다. 선행기술문헌 특허문헌 (특허문헌 0001) KR 10-2020-0127827 A (특허문헌 0002) KR 10-2020-0061799 A"}
{"patent_id": "10-2022-0118485", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 2, "content": "발명의 내용"}
{"patent_id": "10-2022-0118485", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 이와 같은 문제점을 해결하기 위하여 창안된 것으로서, 카메라를 이용하여 표지 주변의 영상을 획득 하고, 이 획득된 영상 정보를 그리드 영역으로 분할하여 영역별 좌표와 평균 픽셀을 획득하며, 하늘과 바다의 색이 구분되는 해양 특성을 이용하여, 그리드 영역 간 색상 변화량 분석을 통해 수평선 검출과 객체 판별 정보 를 획득하여 객체 인식 및 거리를 추정함으로 해양에서의 추돌 사고를 미연에 방지하는 영상 기반 해상 객체 인 식 및 거리 추정 방법에 관한 것을 제공하는 것을 그 목적으로 한다."}
{"patent_id": "10-2022-0118485", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "이와 같은 목적을 달성하기 위하여 본 발명에 따른 영상을 기반으로 하여 해상의 객체 인식 및 거리를 추정하는 방법으로서, (a) 카메라로부터 획득된 영상을 수신하는 단계; (b) 상기 단계 (a)에서 수신된 영상 중에서 특정 이미지를 임의의 크기 영역의 N개의 행×N개의 열로 그리드 분할하는 단계; (c) 상기 단계 (b)의 그리드 분할된 특정 이미지에서 수평선 구간을 검출하는 단계; (d) 상기 단계 (d)에서 검출된 수평선 구간에서 객체를 인식하 는 단계; 및 (e) 상기 단계 (d)에서 인식된 객체의 거리를 계산하는 단계를 포함한다. 상기 특정 이미지는 카메라의 자세가 수평으로 촬영된 이미지인 것이다. 상기 단계 (b)에서 상기 그리드 분할된 영역의 모든 픽셀값 내부에 대하여 회색조를 적용하는 것이다. 상기 단계 (c)는, (c1) 상기 그리드 분할된 각 N개의 행인 X축 방향의 영역을 순차적으로 Y축 1열로 병합하고 평균값을 계산하는 단계; 및 (c2) 상기 단계 (c1)에서 계산된 평균값을 Y축 상단에서 차이를 비교하여 이 비교 값의 차이가 최대가 되는 구간을 검출하는 단계를 포함하는 것이다. 상기 단계 (d)는, (d1) 상기 단계 (c)에서 검출된 수평선 구간에 이웃한 두 행의 각 X축 그리드 영역을 좌측부 터 N개의 열까지 픽셀 변화량을 탐지하는 단계; 및 (d2) 상기 단계 (d1)에서 탐지한 픽셀 변화량이 임계치 이상 이 되는 구간을 검출하는 단계를 포함하는 것이다. 상기 임계치는 20픽셀인 것이다. 상기 단계 (e)의 거리는,"}
{"patent_id": "10-2022-0118485", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 2, "content": "에 의해 산출되고, 여기서"}
{"patent_id": "10-2022-0118485", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 3, "content": "이며, 여기서, fov는 카메라의 화각(FOV: field of view), H는 카메라 화각에 따른 세로축 픽셀좌표의 해상도, y는 카메라에서 촬영된 영상 이미지에서 지정된 객체의 픽셀 좌표인 것이다. 상기 단계 (e) 이후, 상기 계산된 객체의 거리에 따라 위험 상태를 알리는 단계를 더 포함한다. 이와 같은 목적을 달성하기 위한 본 발명의 다른 특징은 영상을 기반으로 하여 해상의 객체 인식 및 거리를 추 정하는 장치로서, 적어도 하나의 프로세서; 및 컴퓨터로 실행가능한 명령을 저장하는 적어도 하나의 메모리를 포함하되, 상기 적어도 하나의 메모리에 저장된 상기 컴퓨터로 실행가능한 명령은, 사기 적어도 하나의 프로세 서에 의하여, (a) 카메라로부터 획득된 영상을 수신하는 단계; (b) 상기 단계 (a)에서 수신된 영상 중에서 특정 이미지를 임의의 크기 영역의 N개의 행×N개의 열로 그리드 분할하는 단계; (c) 상기 단계 (b)의 그리드 분할된 특정 이미지에서 수평선 구간을 검출하는 단계; (d) 상기 단계 (d)에서 검출된 수평선 구간에서 객체를 인식하 는 단계; 및 (e) 상기 단계 (d)에서 인식된 객체의 거리를 계산하는 단계를 포함한다. 이와 같은 목적을 달성하기 위한 본 발명의 또 다른 특징은 영상을 기반으로 하여 해상의 객체 인식 및 거리를 추정하기 위한 프로그램으로서, 비일시적 저장 매체에 저장되며, 프로세서에 의하여, (a) 카메라로부터 획득된 영상을 수신하는 단계; (b) 상기 단계 (a)에서 수신된 영상 중에서 특정 이미지를 임의의 크기 영역의 N개의 행 ×N개의 열로 그리드 분할하는 단계; (c) 상기 단계 (b)의 그리드 분할된 특정 이미지에서 수평선 구간을 검출 하는 단계; (d) 상기 단계 (d)에서 검출된 수평선 구간에서 객체를 인식하는 단계; 및 (e) 상기 단계 (d)에서 인식된 객체의 거리를 계산하는 단계를 포함한다."}
{"patent_id": "10-2022-0118485", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 의하면, 수평선 검출의 단순한 성능 개선뿐만 아니라 객체 탐지까지 최소한의 연산으로 연계할 수 있 는 효과가 있다. 또한 저전력 환경이 필요한 해양 IT 임베디드 시스템에 적합한 효과가 있다."}
{"patent_id": "10-2022-0118485", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하 첨부된 도면을 참조로 본 발명의 바람직한 실시예를 상세히 설명하기로 한다. 이에 앞서, 본 명세서 및 청 구범위에 사용된 용어나 단어는 통상적이거나 사전적인 의미로 한정해서 해석되어서는 아니되며, 발명자는 그 자신의 발명을 가장 최선의 방법으로 설명하기 위해 용어의 개념을 적절하게 정의할 수 있다는 원칙에 입각하여 본 발명의 기술적 사상에 부합하는 의미와 개념으로 해석되어야만 한다. 따라서, 본 명세서에 기재된 실시예와 도면에 도시된 구성은 본 발명의 가장 바람직한 일 실시예에 불과할 뿐이고 본 발명의 기술적 사상을 모두 대변 하는 것은 아니므로, 본 출원시점에 있어서 이들을 대체할 수 있는 다양한 균등물과 변형예들이 있을 수 있음을 이해하여야 한다. 도 1은 본 발명에 따른 영상 기반 해상 객체 인식 및 거리 추정 어플리케이션이 탑재된 컴퓨터 장치의 구성을 나타낸 도면이다. 영상 기반 해상 객체 인식 및 거리 추정 장치는 프로세서, 프로그램과 데이터를 저장하는 비휘발성 저장부, 실행 중인 프로그램들을 저장하는 휘발성 메모리, 다른 기기와 통신을 수행하기 위한 통신부 , 이들 장치 사이의 내부 통신 통로인 버스 등으로 이루어져 있다. 실행 중인 프로그램은, 장치 드라이버, 운영체계(Operating System), 및 다양한 어플리케이션이 있을 수 있다. 도시되지 않았지만, 전자장치는 배터리 와 같은 전력제공부를 포함한다. 영상 기반 해상 객체 인식 및 거리 추정 시스템은, 영상 기반 해상 객체 인식 및 거리 추정 장치에 카메라 및 알림 장치가 더 포함된 구조를 의미한다. 카메라는 부표에 장착되며, 이때 부표는 선박일 수도 있다. 알림 장치는 인식된 객체가 거리에 따른 충 돌 가능성이나 위험한 물체일 경우, 경보음 또는 모니터링 화면 등의 알림을 통해 위험 알림을 수행한다. 부표에 장착된 카메라로부터 획득된 영상 정보를, 영상 기반 해상 객체 인식 및 거리 추정 장치의 통 신부를 통해 수신하고, 통신부는 수신한 영상 정보를 해상 객체 인식 및 거리 추정 어플리케이션 으로 전달해준다. 이와 같이 해상 객체 인식 및 거리 추정 어플리케이션은, 카메라로부터 수신된 영상 정보를 수신하게 된다. 물론, 영상 기반 해상 객체 인식 및 거리 추정 장치에는 데이터 인터페이스장치(미도시) 등에서 이를 받아 해상 객체 인식 및 거리 추정 어플리케이션으로 적절히 전달해 줄 수 있다. 즉 데이터 인터페이스 장치는 영상 정보를 해상 객체 인식 및 거리 추정 어플리케이션으로 전달하는 과정에서 일종의 버퍼 역할을 수행할 수 있다. 또한 영상 기반 해상 객체 인식 및 거리 추정 장치에는 위 험 알림 드라이버가 설치되어, 알림 장치의 작동을 제어하는 역할을 수행할 수도 있다. 해상 객체 인식 및 거리 추정 어플리케이션은, 전술한 바와 같은 카메라로부터 수신된 영상 정보를 기 반으로 해상 객체 인식 및 거리를 추정해 내는 역할을 수행한다. 이러한 해상 객체 인식 및 거리 추정 어플리케 이션은 영상 기반 해상 객체 인식 및 거리 추정 장치에 설치되어 동작하는 프로그램이며, 해상 객체 인식 및 거리 추정 어플리케이션의 수행에 의한 객체 인식 및 거리 추정 방법에 관하여는 이하 도 2 내지 도 11을 참조하여 상세히 설명하기로 한다. 도 2는 본 발명에 따른 영상 기반 해상 객체 인식 및 거리 추정 방법을 수행하는 순서도이다. 도 2는 도 1의 해상 객체 인식 및 거리 추정 어플리케이션의 동작에 의해 수행되어지는 일 실시예로서의 과정을 도시한 것이다. 먼저 부표에 장착된 카메라로부터 획득된 영상을 수신한다(S100). 여기서 영상은 360도 카메라를 사용함으로 전방향에서 획득된 영상이거나 동영상일 수 있으며, 부표에 설치된 카메라의 높이를 알고 있다. 이후 단계 S100에서 수신된 영상의 특정 이미지를 임의의 크기 영역으로 그리드 분할한다(S110). 여기서 특정 이미지는 단계 S100에서 수신된 영상 중 카메라의 기울기가 0 인 영상 또는 기울기가 보정되어 카메라의 자세가 수평한 영상 중 어느 하나의 영상 이미지를 의미한다. 이때 카메라의 기울기 자세는 자이로 센서 또는 가속도 센서를 이용하여 카메라의 기울기를 파악하고 보정할 수 있다. 도 3a 내지 도 3c는 도 2의 단계 S110에서의 그리드 분할을 설명하기 위한 도면으로, 도 3a는 카메라로부터 획 득된 영상 중 특정 이미지를 의미한다. 도 3a의 특정 이미지는 하늘과 바다 그리고 객체가 유사한 색상끼리 구 성되어 있음을 보여주고 있다. 이를 정확한 영역과 픽셀 좌표를 구분하기 위해 도 3a의 이미지를 도 3b와 같이 임의의 크기인 그리드 영역으로 N개의 행×N개의 열로 분할하였다. 픽셀 하나에 대한 미세한 움직임보다는 멀리 있는 선박의 크기 정도로 이미지를 분할할 수 있다. 분할된 그리드 영역 간의 픽셀 비교를 위하여 도 3c와 같이 분할된 그리드 영역별로 모든 내부 픽셀값에 대한 회색조를 적용한 후 평균값을 취한다. 이로 인하여, 회색조를 적용한 그리드 영역은 3채널 컬러에서 1채널 회색조로 바뀌고, 그리드 영역 내부의 픽셀값이 평균값으로 통일되 면서, 전체 이미지에 대한 연산이 그리드 영역 크기(Grid_Size)로 간소화된다. 영역 간 픽셀 변화를 분석하는 알고리즘 과정에서 연산량을 가장 크게 차지하는 부분은 이미지로부터 픽셀의 값을 읽어오는 부분이다. 따라서 픽셀 비교와 연산속도를 효율적으로 하기 위해, 픽셀을 직접 접근 방식으로 전체 이미지를 한 번만 읽고, 픽셀 의 데이터만 배열로 활용함으로 연산을 최소화시킬 수 있다. 도 4는 도 2의 단계 S110에서의 그리드 분할 알고리즘의 의사코드를 나타낸 도면이다. 도 4를 참조하면, N*N 이미지와 그리드 적용할 분할 크기(Grid_size)를 입력으로 받고, 분할된 그리드 영역의 폭(Gw)과 높이(Gh)를 계산하여, 분할된 각 그리드 영역의 내부 픽셀을 회색조 평균으로 연산한다. 영역의 내부 픽셀은 모두 같은 값을 가지기 때문에, 그리드 영역 분할 크기만큼의 2차원 배열에 저장하여 간소화된 픽셀 데 이터를 활용한다. 각 그리드 영역의 평균 픽셀값은 색상 변화량을 비교할 수 있는 색상 정보가 되므로, 이러한 간소화는 이미지 전체에 대한 비교 대신, 그리드 영역 간의 비교 연산이 되고, 픽셀 접근 횟수가 줄어들어 연산 량이 감소할 뿐만 아니라, 잔파도의 음영처럼 미세한 잡음에도 검출이 덜 민감하도록 검출률을 높일 수 있는 전 처리 방법이 될 수 있다. 이어서, 단계 S110의 그리드 분할된 이미지에서 수평선 구간의 라인을 검출한다(S120). 도 5a 내지 도 5b는 도 2의 단계 S120에서 수평선 구간의 라인 검출을 설명하기 위한 도면이다. 먼저 도시한 도 3c의 N개의 행×N개의 열로 분할된 그리드 영역의 이미지에서 N개의 행으로 이루어진 X축의 그 리드 영역을 순차적으로 5a의 빨간색으로 표기된 영역처럼 Y축의 1열로 평균 병합한다. 그리고 도 5a와 같이 X 축 영역이 병합된 이미지에서, 각 N개의 행 영역의 평균값 차이를 비교함으로 차이 값이 최대가 되는 구간을 수 평선으로 검출됨을 도 5b를 통해서 나타내었다. 여기서 수평선 검출은 하늘과 바다의 경계를 픽셀 변화량이 가장 높은 구간으로 가정하여 수평선을 검출한다. 도 6은 도 2의 단계 S120에서의 그리드 기반에서 수평선 검출을 위한 그리드 구조로 만든 의사코드를 나타낸 도 면이고 도 7은 도 2의 단계 S120에서의 그리드 기반으로 수평선을 검출하는 의사코드를 나타낸 도면이다. 앞서 도 3c에서처럼 N*N 이미지가 N개의 행×N개의 열로 분할된 그리드 영역에서 X축 영역의 픽셀값을 Width- total에 모두 더한 뒤 평균을 내면 도 5b와 같이 그리드 수평선 구조가 된다. 이때 평균화된 X축 영역의 픽셀들 을 Y축 상단에서부터 비교하는데, 다음의 [식 1]로부터 픽셀값의 차이를 산출한다. [식 1]"}
{"patent_id": "10-2022-0118485", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "여기서, 픽셀값 차이가 가장 큰 구간의 인덱스를 수평선으로 가정하기 때문에, 수평선 검출의 의사코드는 픽셀 값을 비교하여 최대 픽셀 차이와 해당 구간의 인덱스 번호를 탐지한다. 는 X축이 병합된 그리드 영역의 픽셀 값이며, 는 상단에서 인덱스 번호가 0부터 시작한다. 다음 인덱스 간의 평균 픽셀 차이를 구하고, 픽셀 값 차이가 가장 높은 구간에서 인덱스를 반환하여 수평선을 검출한다. 이후 도 5b의 붉은색 라인으로 표기된 해 당 구간의 위치에서 수평선이 검출되었다. 그리고 단계 S120에서 검출된 수평선 구간에서 객체를 인식한다(S130). 객체의 경우 수평선의 상단에서부터 접근하며, 매우 근접하게 가까워질수록 수평선 하단으로 접근한다. 본 발명 은 매우 근접한 곳이 아닌 위험한 알림 또는 전처리 연계 동작이 가능한 거리에서 탐색하고자 하므로 객체를 탐 지하는 관심 영역은 객체가 수평선에 걸쳐진 경우를 고려하여 수평선에 이웃한 그리드 영역이 될 수 있다. 도 8은 도 2의 단계 S130에서의 수평선상에서 객체를 인식하는 과정을 설명하기 위한 도면이다. 앞서 수평선 검출의 경우에는 Y축을 기준으로 픽셀 차이를 비교한 것처럼, 객체 탐지는 수평선에 이웃한 두 행 의 각 X축 그리드 영역을 좌측부터 픽셀 변화량을 탐지한다. 이때 객체 판별은 수평선 검출과 똑같이 진행되는 데 탐지하는 축에 대한 방향만 바뀌게 되며 다음의 [식 2]로부터 픽셀 차이를 계산한다. [식 2]"}
{"patent_id": "10-2022-0118485", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "여기서, 는 그리드 영역의 픽셀값을 의미하며, 는 인덱스 번호이다. 앞서 [식 1]과 마찬가지로 다음 인덱스 의 픽셀 변화량을 계산한다. 객체 존재 판별에서 객체가 존재하지 않는 경우는 하늘과 바다 영역에서 주로 균일한 색상을 띄어 픽셀 변화량이 적다. 픽셀 변화량 값이 클수록 객체 또는 잡음 등 다른 요소의 개입으로 예 측할 수 있다. 객체 탐지는 수평선에 이웃한 상단과 하단행 중에 [식 2]의 최대 픽셀 변화량이 높은 쪽에서 객 체 판별을 진행한다. 객체 판별의 기준은 픽셀 변화량이 급변하는 구간으로 가정하였고, 픽셀값이 급변하는 크 기는 상대적이고 유동적이기 때문에, 이에 대한 구간을 찾는 알고리즘 개선이 필요하다. 임계치는 강한 잡음 요 소를 제외한 실험 데이터 세트의 결과를 참고하여 20픽셀 차이로 설정하였다. 객체 존재 여부는 임계치를 기준 으로 복수 판별되며, 직접적인 햇빛과 같이 일반적으로 알려진 강한 잡음이 아니라면 긍정적인 객체 판별 결과 를 나타냈다. 또한, 객체 판별의 연산은 이미 계산된 그리드 영역의 픽셀값을 활용하였기 때문에, 최소한의 연 산 과정으로 진행된다. 도 9 내지 도 10은 도 2의 단계 S130에서의 해양 객체의 존재 여부에 따라 판별된 그리드 기반 평균 픽셀값을 나타낸 그래프로, X축 그리드 영역의 픽셀 변화량 차이를 Matlab을 이용하여 그래프로 나타내었다. 여기서 그래프의 X축은 그리드 영역의 인덱스 번호이고, Y축은 해당 인덱스의 픽셀값이다. 이미지의 인덱스 구 간에 표기된 작은 세로 막대 바는 임계치 20픽셀을 초과한 구간을 의미한다. 도 9는 수평선에 객체가 존재하는 경우이다. 객체가 존재하지 않는 구간은 균일한 작은 변화량을 보이며, 객체 가 존재할 경우, 급변하는 구간이 나타난다. 따라서 급변하는 값이 임계치를 넘으므로 객체 검출로 판별되었다. 도 10은 수평선이 객체의 일부에 형성된 경우이다. 객체가 존재하지 않는 구간은 균일한 작은 변화량을 보이며, 객체가 존재할 경우, 급변하는 작은 변화량을 보이며, 객체가 존재할 경우, 급변하는 구간이 나타난다. 급변하 는 값이 임계치를 넘으므로 객체 검출로 판별되었다. 이후, 단계 S130에서 인식된 객체의 거리를 추정한다(S140). 이때 객체는 수평선 구간에서 가장 먼 객체가 부표 와 가장 가까운 객체가 되므로 객체의 픽셀좌표를 지정할 수 있으며, 이로써 카메라의 설치 높이(h)를 알고 있으므로 카메라로부터 촬영된 영상 이미지를 이용하여 실제 객체와 표지 간의 거리를 측정할 수 있다, 도 11은 도 2의 단계 140에서의 객체의 거리 추정을 설명하기 위한 도면이다. 도 11을 참조하면, 객체의 거리는 다음의 [식 3]으로부터 산출될 수 있다. [식 3]"}
{"patent_id": "10-2022-0118485", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "여기서 상기 변수 는 다음의 [식 4]에 의하여 산출된다. [식 4]"}
{"patent_id": "10-2022-0118485", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "여기서, fov는 카메라의 화각(FOV: field of view)이고, H는 카메라의 화각에 따른 세로축 픽셀좌표의 해상도이 며, y는 카메라에서 촬영된 영상 이미지에서 지정된 객체의 픽셀 좌표를 의미한다. 즉, 의 각도는 [수식 4]에 의하여 산출되므로 객체의 거리를 계산할 수 있다. 이후, 객체의 거리에 따라 위험 상태를 알린다(S150). 여기서 알림 방법은 경보음 또는 모니터링 화면 등의 알 림을 통해 위험 알림을 수행한다. 이상과 같이, 본 발명은 비록 한정된 실시예와 도면에 의해 설명되었으나, 본 발명은 이것에 의해 한정되지 않"}
{"patent_id": "10-2022-0118485", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "으며 본 발명이 속하는 기술분야에서 통상의 지식을 가진 자에 의해 본 발명의 기술사상과 아래에 기재될 특허 청구범위의 균등범위 내에서 다양한 수정 및 변형이 가능함은 물론이다."}
{"patent_id": "10-2022-0118485", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명에 따른 영상 기반 해상 객체 인식 및 거리 추정 어플리케이션이 탑재된 컴퓨터 장치의 구성을 나타낸 도면. 도 2는 본 발명에 따른 영상 기반 해상 객체 인식 및 거리 추정 방법을 수행하는 순서도. 도 3a 내지 도 3c는 도 2의 단계 S110에서의 그리드 분할을 설명하기 위한 도면. 도 4는 도 2의 단계 S110에서의 그리드 분할 알고리즘의 의사코드를 나타낸 도면. 도 5a 내지 도 5b는 도 2의 단계 S120에서 수평선 라인 검출을 설명하기 위한 도면. 도 6은 도 2의 단계 S120에서의 그리드 기반으로 수평선을 검출할 수 있는 그리드 구조로 만든 의사코드를 나타 낸 도면. 도 7은 도 2의 단계 S120에서의 그리드 기반으로 수평선을 검출하는 의사코드를 나타낸 도면. 도 8은 도 2의 단계 S130에서의 수평선상에서 객체를 인식하는 과정을 설명하기 위한 도면. 도 9 내지 도 10은 도 2의 단계 S130에서의 해양 객체의 존재 여부에 따라 판별된 그리드 기반 평균 픽셀값을 나타낸 그래프. 도 11은 도 2의 단계 S140에서의 객체의 거리 계산을 설명하기 위한 도면."}
