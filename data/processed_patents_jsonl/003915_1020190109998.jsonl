{"patent_id": "10-2019-0109998", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2021-0028887", "출원번호": "10-2019-0109998", "발명의 명칭": "인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역광 판단과 개선", "출원인": "주식회사 아이에스피디", "발명자": "정한별"}}
{"patent_id": "10-2019-0109998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "입력 영상에서 객체 영역을 검출하는 객체 영역 검출부;상기 객체 영역 검출부의 검출 결과를 근거로 상기 입력 영상에서 객체 영역 및 비객체 영역을 추출하는 영역추출부;상기 객체 영역의 평균 밝기값과 상기 비객체 영역의 평균 밝기값을 서로 비교하여 두 영역의 밝기 차이가 기설정된 제 1 임계치 이상이면 역광으로 판단하는 1차 판단부, 및 상기 1차 판단부에서 역광으로 판단함에 따라 조도 센서부의 조도센싱값과 카메라 센서부의 밝기값을 이용하여 역광 여부를 최종 판단하는 2차 판단부를 포함하는 역광 판단부; 및상기 역광 판단부에서 최종적으로 역광인 것으로 판단함에 따라 상기 입력 영상의 역광을 보정하는 보정부;를포함하는 것을 특징으로 하는 인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역광판단과 개선 장치."}
{"patent_id": "10-2019-0109998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "청구항 1에 있어서,상기 1차 판단부는,\"상기 비객체 영역의 평균 밝기값 - 상기 객체 영역의 평균 밝기값\"의 값이 상기 제 1 임계치 이상이면 역광으로 판단하는 것을 특징으로 하는 인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역광 판단과 개선 장치."}
{"patent_id": "10-2019-0109998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "청구항 1에 있어서,상기 카메라 센서부의 밝기값은 상기 비객체 영역의 평균 밝기값이고,상기 2차 판단부는, 상기 조도 센서부의 조도센싱값을 상기 비객체 영역의 평균 밝기값의 영역으로 변환한 후에, 상기 비객체 영역의 평균 밝기값과 변환된 값간의 차이가 기설정된 제 2 임계치 이상이면 역광인 것으로 최종 판단하는 것을 특징으로 하는 인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역광 판단과 개선장치."}
{"patent_id": "10-2019-0109998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "청구항 3에 있어서,상기 2차 판단부는,상기 역광인 것으로 최종 판단한 신호를 상기 보정부에게로 보냄과 더불어, 상기 비객체 영역의 평균 밝기값과변환된 값간의 차이를 상기 제 2 임계치와 비교한 결과인 역광 수치를 상기 보정부에게로 보내는 것을 특징으로하는 인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역광 판단과 개선 장치."}
{"patent_id": "10-2019-0109998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "청구항 4에 있어서,상기 보정부는,상기 역광 수치에 근거하여 입력 영상의 밝기 및 콘트라스트중에서 하나 이상을 보정하는 것을 특징으로 하는공개특허 10-2021-0028887-3-인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역광 판단과 개선 장치."}
{"patent_id": "10-2019-0109998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "청구항 1에 있어서,상기 입력 영상은 프리뷰(preview) 영상인 것을 특징으로 하는 인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역광 판단과 개선 장치."}
{"patent_id": "10-2019-0109998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역광 판단과 개선 장치에서 수행되는 인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역광 판단과 개선 방법으로서, 입력 영상에서 객체 영역을 검출하는 단계;상기 검출하는 단계의 결과를 근거로 상기 입력 영상에서 객체 영역 및 비객체 영역을 추출하는 단계;상기 객체 영역의 평균 밝기값과 상기 비객체 영역의 평균 밝기값을 서로 비교하여 두 영역의 밝기 차이가 기설정된 제 1 임계치 이상이면 1차로 역광으로 판단하는 단계;상기 1차로 역광하는 판단하는 단계에서 역광으로 판단함에 따라, 조도센싱값과 카메라 센서부의 밝기값을 이용하여 역광 여부를 최종 판단하는 단계; 및상기 최종적으로 역광인 것으로 판단함에 따라 상기 입력 영상의 역광을 보정하는 단계;를 포함하는 것을 특징으로 하는 인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역광 판단과 개선 방법."}
{"patent_id": "10-2019-0109998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "청구항 7에 있어서,상기 1차로 역광으로 판단하는 단계는,\"상기 비객체 영역의 평균 밝기값 - 상기 객체 영역의 평균 밝기값\"의 값이 상기 제 1 임계치 이상이면 역광으로 판단하는 것을 특징으로 하는 인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역광 판단과 개선 방법."}
{"patent_id": "10-2019-0109998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "청구항 7에 있어서,상기 카메라 센서부의 밝기값은 상기 비객체 영역의 평균 밝기값이고,상기 역광 여부를 최종 판단하는 단계는, 상기 조도센싱값을 상기 비객체 영역의 평균 밝기값의 영역으로 변환한 후에, 상기 비객체 영역의 평균 밝기값과 변환된 값간의 차이가 기설정된 제 2 임계치 이상이면 역광인 것으로 최종 판단하는 것을 특징으로 하는 인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역광 판단과 개선 방법."}
{"patent_id": "10-2019-0109998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "청구항 9에 있어서,상기 역광 여부를 최종 판단하는 단계는, 상기 역광인 것으로 최종 판단한 신호를 출력함과 더불어, 상기 비객체 영역의 평균 밝기값과 변환된 값간의 차이를 상기 제 2 임계치와 비교한 결과인 역광 수치를 출력하는 것을 특징으로 하는 인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역광 판단과 개선 방법."}
{"patent_id": "10-2019-0109998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "청구항 10에 있어서,상기 보정하는 단계는,공개특허 10-2021-0028887-4-상기 역광 수치에 근거하여 입력 영상의 밝기 및 콘트라스트중에서 하나 이상을 보정하는 것을 특징으로 하는인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역광 판단과 개선 방법."}
{"patent_id": "10-2019-0109998", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "모바일 폰의 전방 조도센서값과 후방 카메라 밝기 정보를 이용하여 역광여부를 판단하여 입력 영상의 화질을 개 선하도록 하는 인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역광 판단과 개선 장 치 및 방법을 제시한다. 제시된 장치는 입력 영상에서 객체 영역을 검출하는 객체 영역 검출부, 입력 영상에서 객체 영역 및 비객체 영역을 추출하는 영역 추출부, 객체 영역의 평균 밝기값과 비객체 영역의 평균 밝기값을 서 로 비교하여 두 영역의 밝기 차이가 기설정된 제 1 임계치 이상이면 역광으로 판단하는 1차 판단부 및 1차 판단 부에서 역광으로 판단함에 따라 조도 센서부의 조도센싱값과 카메라 센서부의 밝기값을 이용하여 역광 여부를 최 종 판단하는 2차 판단부를 포함하는 역광 판단부, 및 역광 판단부에서 최종적으로 역광인 것으로 판단함에 따라 입력 영상의 역광을 보정하는 보정부를 포함한다."}
{"patent_id": "10-2019-0109998", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역광 판단과 개선 장치 및 방법에 관한 것으로, 보다 상세하게는 휴대폰 카메라를 사용하여 얻어진 영상의 역광으로 인한 화질 저하를 개선하도록 하는 장치 및 방법에 관한 것이다."}
{"patent_id": "10-2019-0109998", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "최근 디지털 카메라, 모바일 카메라 등과 같은 전자 촬영 디바이스의 발전과 보급으로 인해, 전자 촬영 디바이 스를 사용하여 손쉽게 촬영하여 원하는 영상을 획득할 수 있다. 그런데, 촬영 환경, 조명 등의 외부 조건에 의해 역광이 존재하는 영상을 획득하기도 한다. 여기서, 역광은 사 진을 촬영할 때 대상이 되는 물체의 배후에서 비치는 광선 또는 조명을 의미한다. 역광인 경우 인물 및 풍경 사진을 제대로 찍을 수 없으며, 대상을 제대로 파악하기 어렵다. 그에 따라, 역광 영상은 피사체가 어둡게 나타나서 영상에서 피사체를 제대로 구분하기 어려운 문제가 있어, 이 를 보정하기 위한 다양한 방법들이 개발되고 있다. 선행기술문헌 특허문헌 (특허문헌 0001) 선행기술 1 : 대한민국 등록특허 제10-1992933호(광역 역광 보정 이미지 처리 방법 및 이를 이 용하는 이미지 신호 프로세서) (특허문헌 0002) 선행기술 2 : 대한민국 등록특허 제10-1170748호(촬영장치의 역광보정방법) (특허문헌 0003) 선행기술 3 : 대한민국 등록특허 제10-1372507호(가변 블록 역광 영역 검출을 이용한 영상 개 선 장치 및 방법) (특허문헌 0004) 선행기술 4 : 대한민국 등록특허 제10-1665511호(광역 역광 보정 하드웨어 장치 및 이를 포함 하는 촬영장치)"}
{"patent_id": "10-2019-0109998", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 상기한 종래의 문제점을 해결하기 위해 제안된 것으로, 모바일 폰의 전방 조도센서값과 후방 카메라 밝기 정보를 이용하여 역광여부를 판단하여 입력 영상의 화질을 개선하도록 하는 인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역광 판단과 개선 장치 및 방법을 제공함에 그 목적이 있다."}
{"patent_id": "10-2019-0109998", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기와 같은 목적을 달성하기 위하여 본 발명의 바람직한 실시양태에 따른 인공지능 객체 검출을 이용한 스마트 폰 전방 조도센서와 후방 카메라센서간 역광 판단과 개선 장치는, 입력 영상에서 객체 영역을 검출하는 객체 영 역 검출부; 상기 객체 영역 검출부의 검출 결과를 근거로 상기 입력 영상에서 객체 영역 및 비객체 영역을 추출 하는 영역 추출부; 상기 객체 영역의 평균 밝기값과 상기 비객체 영역의 평균 밝기값을 서로 비교하여 두 영역 의 밝기 차이가 기설정된 제 1 임계치 이상이면 역광으로 판단하는 1차 판단부, 및 상기 1차 판단부에서 역광으 로 판단함에 따라 조도 센서부의 조도센싱값과 카메라 센서부의 밝기값을 이용하여 역광 여부를 최종 판단하는 2차 판단부를 포함하는 역광 판단부; 및 상기 역광 판단부에서 최종적으로 역광인 것으로 판단함에 따라 상기 입력 영상의 역광을 보정하는 보정부;를 포함한다.상기 1차 판단부는, \"상기 비객체 영역의 평균 밝기값 - 상기 객체 영역의 평균 밝기값\"의 값이 상기 제 1 임계 치 이상이면 역광으로 판단할 수 있다. 상기 카메라 센서부의 밝기값은 상기 비객체 영역의 평균 밝기값이고, 상기 2차 판단부는, 상기 조도 센서부의 조도센싱값을 상기 비객체 영역의 평균 밝기값의 영역으로 변환한 후에, 상기 비객체 영역의 평균 밝기값과 변 환된 값간의 차이가 기설정된 제 2 임계치 이상이면 역광인 것으로 최종 판단할 수 있다. 상기 2차 판단부는, 상기 역광인 것으로 최종 판단한 신호를 상기 보정부에게로 보냄과 더불어, 상기 비객체 영 역의 평균 밝기값과 변환된 값간의 차이를 상기 제 2 임계치와 비교한 결과인 역광 수치를 상기 보정부에게로 보낼 수 있다. 상기 보정부는, 상기 역광 수치에 근거하여 입력 영상의 밝기 및 콘트라스트중에서 하나 이상을 보정할 수 있다. 상기 입력 영상은 프리뷰(preview) 영상일 수 있다. 한편, 본 발명의 바람직한 실시양태에 따른 인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메 라센서간 역광 판단과 개선 방법은, 인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역광 판단과 개선 장치에서 수행되는 인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서 간 역광 판단과 개선 방법으로서, 입력 영상에서 객체 영역을 검출하는 단계; 상기 검출하는 단계의 결과를 근 거로 상기 입력 영상에서 객체 영역 및 비객체 영역을 추출하는 단계; 상기 객체 영역의 평균 밝기값과 상기 비 객체 영역의 평균 밝기값을 서로 비교하여 두 영역의 밝기 차이가 기설정된 제 1 임계치 이상이면 1차로 역광으 로 판단하는 단계; 상기 1차로 역광하는 판단하는 단계에서 역광으로 판단함에 따라, 조도센싱값과 카메라 센서 부의 밝기값을 이용하여 역광 여부를 최종 판단하는 단계; 및 상기 최종적으로 역광인 것으로 판단함에 따라 상 기 입력 영상의 역광을 보정하는 단계;를 포함한다."}
{"patent_id": "10-2019-0109998", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "이러한 구성의 본 발명에 따르면, 입력 영상의 객체 영역의 평균 밝기와 비객체 영역의 평균 밝기를 비교하여 1 차로 역광인지를 판단하고, 전방 조도센서값과 후방 카메라센서의 밝기값을 이용하여 2차로 역광인지를 판단함 으로써, 보다 정확하게 역광여부를 판단할 수 있다. 또한, 정확한 역광 판단을 통해 보정을 행함으로써, 역광 영상의 화질을 개선할 수 있다."}
{"patent_id": "10-2019-0109998", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명은 다양한 변경을 가할 수 있고 여러 가지 실시예를 가질 수 있는 바, 특정 실시 예들을 도면에 예시하 고 상세하게 설명하고자 한다. 그러나, 이는 본 발명을 특정한 실시 형태에 대해 한정하려는 것이 아니며, 본 발명의 사상 및 기술 범위에 포 함되는 모든 변경, 균등물 내지 대체물을 포함하는 것으로 이해되어야 한다. 본 출원에서 사용한 용어는 단지 특정한 실시예를 설명하기 위해 사용된 것으로, 본 발명을 한정하려는 의도가 아니다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 출원에서, \"포함 하다\" 또는 \"가지다\" 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조 합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 다르게 정의되지 않는 한, 기술적이거나 과학적인 용어를 포함해서 여기서 사용되는 모든 용어들은 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에 의해 일반적으로 이해되는 것과 동일한 의미를 가지고 있다. 일 반적으로 사용되는 사전에 정의되어 있는 것과 같은 용어들은 관련 기술의 문맥상 가지는 의미와 일치하는 의미 를 가진 것으로 해석되어야 하며, 본 출원에서 명백하게 정의하지 않는 한, 이상적이거나 과도하게 형식적인 의 미로 해석되지 않는다. 이하, 첨부한 도면들을 참조하여, 본 발명의 바람직한 실시예를 보다 상세하게 설명하고자 한다. 본 발명을 설 명함에 있어 전체적인 이해를 용이하게 하기 위하여 도면상의 동일한 구성요소에 대해서는 동일한 참조부호를 사용하고 동일한 구성요소에 대해서 중복된 설명은 생략한다. 도 1은 본 발명의 실시예에 따른 인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역 광 판단과 개선 장치의 구성도이고, 도 2는 도 1에 도시된 객체 영역 검출부의 설명에 채용되는 영상의 일 예이 고, 도 3은 도 1에 도시된 영역 추출부의 설명에 채용되는 영상의 일 예이고, 도 4는 도 1에 도시된 보정부의 설명에 채용되는 영상의 일 예이다. 본 발명의 실시예에 따른 인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역광 판단 과 개선 장치는 카메라(camera) 기능이 내장된 전자 장치(예컨대, 스마트폰, 태블릿 PC, 이동 전화기 등)에 채 용가능하다. 그리고, 상술한 전자 장치는 상기에서 예시한 것 이외로, 카메라 기능이 내장된 것이라면 어떠한 전자 장치라도 무방하다. 본 발명의 실시예에 따른 인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역광 판단 과 개선 장치는, 객체 영역 검출부, 영역 추출부, 조도 센서부, 카메라 센서부, 역광 판단부 , 및 보정부를 포함한다. 객체 영역 검출부는 입력 영상에서 하나 이상의 객체 영역을 검출할 수 있다. 여기서, 입력 영상은 하나 이상의 객체(사물)를 포함하는 영상으로서, 프리뷰(preview) 영상일 수 있다. 따라서, 객체 영역 검출부는 인공지능 사물 검출(object detection) 기법을 사용하여 도 2에 예시한 바와 같이 입력 영상에서 객체 영역을 검출해 낼 수 있다. 도 2를 참조하면, 객체 영역 검출부는 객체(예컨대, 컵)가 존재하는 것으로 여겨지는 부분을 박스 형태로 감싸는 윤곽선으로 표시함으로써 객체 영역을 검출할 수 있다. 결국, 윤곽선 내부의 영역이 관심영역(ROI ; Region Of Interest)으로 되고, 이러한 관심영역을 객체 영역이라 고 할 수 있다. 필요에 따라, 입력 영상내에 객체가 다수개인 경우에는 객체 영역 검출부는 각각의 객체 영역을 검출할 수 있다. 영역 추출부는 객체 영역 검출부의 검출 결과를 근거로 입력 영상에서 객체 영역 및 비객체 영역을 추 출할 수 있다. 즉, 영역 추출부는 영역 검출부에서 검출한 객체 영역을 기반으로 해당 입력 영상에서 객체 영역 및 비 객체 영역을 각각 추출한다. 예를 들어, 영역 추출부는 도 3의 (a)에 예시한 바와 같이 입력 영상내의 객체 영역만을 잘라내기(crop)하여 추출할 수 있고, 도 3의 (b)에 예시한 바와 같이 입력 영상내의 비객체 영역만을 잘라내기(crop)하여 추출할 수 있다. 또한, 영역 추출부는 카메라 센서부와 연계하여 객체 영역의 평균 밝기값, 비객체 영역의 평균 밝기값 을 구할 수 있다. 즉, 후술할 카메라 센서부는 객체 영역의 평균 밝기값 및 비객체 영역의 평균 밝기값을 계산해 낼 수 있으므로, 영역 추출부는 입력 영상의 객체 영역 및 비객체 영역을 카메라 센서부에게로 보내어 각각의 평균 밝기값을 얻을 수 있다. 조도 센서부는 카메라(camera) 기능이 내장된 전자 장치(예컨대, 스마트폰)의 전방의 밝기를 측정할 수 있 다. 조도 센서부는 조도 센서를 포함한다. 조도 센서는 전화 통화시 사람의 귀가 해당 조도 센서를 가리면 스마 트폰의 전면의 화면이 어두워지고 안 가리면 밝아지는 것을 이용하여 통화중에 화면을 꺼서 버튼 등이 안 눌리 어지도록 활용될 수 있다. 카메라 센서부는 카메라 렌즈(도시 생략)를 통해 들어온 빛을 디지털 신호로 변환하여 이미지로 보여준다. 카메라 센서부는 카메라 센서를 포함한다. 한편, 앞서 설명하였듯이, 카메라 센서부는 영역 추출부로부터 입력 영상의 객체 영역 및 비객체 영역 을 입력받음에 따라 해당 객체 영역의 평균 밝기값 및 비객체 영역의 평균 밝기값을 계산해 낸다. 그리고, 카메라 센서부는 계산해 낸 객체 영역의 평균 밝기값 및 비객체 영역의 평균 밝기값을 영역 추출부 에게로 보낸다. 역광 판단부는 영역 추출부로부터의 객체 영역 및 비객체 영역의 평균 밝기값, 조도 센서부의 조도 센싱값과 카메라 센서부의 밝기값을 이용하여 역광 여부를 판단한다. 역광 판단부는 1차 판단부, 및 2차 판단부를 포함한다. 1차 판단부는 객체 영역의 평균 밝기값과 비객체 영역의 평균 밝기값을 서로 비교하여 두 영역의 밝기 차이 가 기설정된 제 1 임계치 이상이면 역광으로 판단한다. 예를 들어, 객체 영역의 평균 밝기값은 50이고, 비객체 영역의 평균 밝기값은 180이라고 가정한다. 여기서, 객 체 영역의 평균 밝기값 및 비객체 영역의 평균 밝기값은 대략 0 ~ 255 중에서 결정될 수 있다. 이에, 1차 판단부는 두 영역의 밝기 차이(즉, 비객체 영역의 평균 밝기값 - 객체 영역의 평균 밝기값 = 130)를 구한다. 그리고, 1차 판단부는 두 영역의 밝기 차이가 기설정된 제 1 임계치(예컨대, 100) 이상인지를 판단한다. 상 기에서 구한 두 영역의 밝기 차이가 100 이상이므로, 1차 판단부는 역광으로 판단한다. 즉, 현재의 입력 영 상을 역광 영상인 것으로 판정한다. 그러나, 이러한 1차 판단부에 의한 판단만으로 역광인 것으로 판정하기에는 다소 오류가 있을 수 있다. 왜 냐하면, 소프트웨어에 의한 단순 이미지 밝기 비교이므로 색깔에 민감해질 수 있다. 그래서, 2차 판단부에서는 추가적으로 조도 센서부의 조도센싱값과 카메라 센서부의 밝기값을 이용 하여 역광 여부를 최종 판단한다. 즉, 역광인 경우 후방의 카메라 센서는 밝은 방향을 향하고, 전방의 조도 센서의 방향은 상대적으로 어둡기 때 문에, 후방 카메라 센서의 밝기값과 전방 조도 센서의 조도센싱값을 비교해 보면 역광인지를 보다 정확히 판단 할 수 있다. 다시 말해서, 2차 판단부는 1차 판단부에서 역광으로 판단되면 조도 센서부의 조도센싱값과 카메라 센서부의 밝기값을 이용하여 역광 여부를 최종 판단한다. 여기서, 2차 판단부는 비객체 영역의 평균 밝 기값(0 ~ 255중의 어느 하나)을 카메라 센서부의 밝기값인 것으로 한다. 이때, 비객체 영역의 평균 밝기값과 조도 센서의 조도센싱값은 서로 단위가 상이하므로, 이를 일치시키는 작업 을 먼저 수행한다. 본 발명의 실시예에서는 조도 센서의 조도센싱값을 비객체 영역의 평균 밝기값의 영역으로 변환한다. 조도 센서 는 대략 0~30000 Lux의 값을 출력하므로, 예를 들어 조도 센서의 조도센싱값이 0(zero) Lux일 경우 이를 비객체 영역의 평균 밝기값으로 변환하면 0*(255/30000) = 0으로 된다. 한편, 조도 센서의 조도센싱값이 15000 Lux일 경우 이를 비객체 영역의 평균 밝기값으로 변환하면 15000*(255/30000) = 127로 된다. 한편, 조도 센서의 조도 센싱값이 30000 Lux일 경우 이를 비객체 영역의 평균 밝기값으로 변환하면 30000*(255/30000) = 255 로 된다. 이에 따라, 앞서의 예시(즉, 1차 판단부에서 판단할 당시)에서는 비객체 영역의 평균 밝기값을 180으로 하 였으므로, 조도 센서부의 조도센싱값이 800 Lux라고 하면 800*(255/30000) = 7로 변환된다. 그리고 나서, 2차 판단부는 비객체 영역의 평균 밝기값과 변환된 값간의 차이가 기설정된 제 2 임계치(예컨 대, 150) 이상이면 역광인 것으로 최종 판단한다. 상기의 예에 따라, 2차 판단부는 \"비객체 영역의 평균 밝 기값 - 변환된 값\"으로 하여 얻은 결과값(예컨대, 173(즉, 180 - 7))이 기설정된 제 2 임계치(예컨대, 150) 이 상이므로 역광인 것으로 최종 판단할 수 있다. 그리고, 2차 판단부는 역광인 것으로 최종 판단한 신호를 보정부에게로 보냄과 더불어, 비객체 영역의 평균 밝기값과 변환된 값간의 차이를 기설정된 제 2 임계치와 비교한 결과(이하에서는 역광 수치라고 함)를 보 정부에게로 보낸다. 예를 들어, 상술한 예에 따르면 비객체 영역의 평균 밝기값과 변환된 값간의 차이는 173이고, 제 2 임계치는 150이므로, 2차 판단부는 역광 수치로서 23(즉, 173 - 150)을 보정부에게로 보 내게 된다. 보정부는 역광 판단부에서 최종적으로 역광인 것으로 판단함에 따라 역광 영상을 보정한다. 보정부에서 보정을 하는 경우, 2차 판단부로부터의 역광 수치에 근거하여 입력 영상(즉, 역광 영상)의 밝기(brightness), 콘트라스트(contrast) 등을 보정한다. 예를 들어, 앞서의 예에서와 같이 역광 수치가 23이므로, 보정부는 입력 영상의 비객체 영역만의 밝기 (brightness)를 20% 정도 높여 주거나, 입력 영상(즉, 객체 영역 및 비객체 영역을 모두 포함)의 밝기 (brightness)를 20% 정도 높여 주거나, 객체 영역과 비객체 영역간의 대비(콘트라스트)율을 20% 정도 높여줄 수 있다. 만약, 역광 수치가 11 ~ 19이면 입력 영상의 밝기, 콘트라스트 등을 10% 정도 보정하고, 역광 수치가 31 ~ 39이 면 입력 영상의 밝기, 콘트라스트 등을 30% 정도 보정해 줄 수 있다. 필요에 따라, 보정부는 보정을 함에 있어서 HDR 기법을 추가로 적용시킬 수 있다. 상술한 보정부에서의 보정에 의해 도 2의 최초 입력 영상은 도 4에서와 같이 보정될 수 있다. 도 5는 본 발명의 실시예에 따른 인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역 광 판단과 개선 방법을 설명하기 위한 플로우차트이다. 먼저, 객체 영역 검출부는 입력 영상에서 객체 영역을 검출한다(S10). 여기서, 입력 영상은 하나 이상의 객 체(사물)를 포함하는 영상으로서, 프리뷰(preview) 영상일 수 있다. 이어, 영역 추출부는 객체 영역 검출부의 검출 결과를 근거로 입력 영상에서 객체 영역 및 비객체 영역 을 추출한다(S20). 예를 들어, 영역 추출부는 도 3의 (a)에 예시한 바와 같이 입력 영상내의 객체 영역만을 잘라내기(crop)하여 추출할 수 있고, 도 3의 (b)에 예시한 바와 같이 입력 영상내의 비객체 영역만을 잘라내기 (crop)하여 추출할 수 있다. 그리고, 영역 추출부는 카메라 센서부와 연계하여 객체 영역의 평균 밝기값, 비객체 영역의 평균 밝기 값을 구한다. 이후, 역광 판단부는 객체 영역의 평균 밝기값과 비객체 영역의 평균 밝기값을 서로 비교하여 두 영역의 밝 기 차이가 기설정된 제 1 임계치 이상이면 역광으로 1차 판단한다(S30). 예를 들어, 객체 영역의 평균 밝기값은 50이고, 비객체 영역의 평균 밝기값은 180이라고 가정하면, 역광 판단부 는 두 영역의 밝기 차이(즉, 비객체 영역의 평균 밝기값 - 객체 영역의 평균 밝기값 = 130)를 구한다. 그리 고, 역광 판단부는 두 영역의 밝기 차이가 기설정된 제 1 임계치(예컨대, 100) 이상이므로, 역광으로 판단 한다. 즉, 현재의 입력 영상을 역광 영상인 것으로 판정한다. 이와 같이 역광인 것으로 1차 판단이 되면(S40에서 \"Yes\") 역광 판단부는 조도 센서부의 조도센싱값과 카메라 센서부의 밝기값을 이용하여 역광 여부를 2차 판단(최종 판단)한다(S50). 2차 판단을 함에 있어서, 초기 작업으로서 비객체 영역의 평균 밝기값과 조도 센서의 조도센싱값은 서로 단위가 상이하므로, 이를 일치시키는 작업을 먼저 수행한다. 그에 따라, 조도 센서부의 조도센싱값이 800 Lux라고 가정하면 이를 비객체 영역의 평균 밝기값으로 변환할 경우 7(800*(255/30000))이 된다. 이어, 역광 판단부는 비객체 영역의 평균 밝기값과 변환된 값간의 차이가 기설정된 제 2 임계치(예컨대, 150) 이상이면 역광인 것으로 최종 판단한다. 즉, 상기의 예에 따라, 역광 판단부는 \"비객체 영역의 평균 밝기값 - 변환된 값\"으로 하여 얻은 결과값(예컨대, 173(즉, 180 - 7))이 기설정된 제 2 임계치(예컨대, 150) 이상이므로 역광인 것으로 최종 판단할 수 있다. 이와 같이, 재차 역광인 것으로 판단되면(S60에서 \"Yes\") 역광 판단부는 역광인 것으로 최종 판단한 신호를 보정부에게로 보냄과 더불어, 역광 수치(즉, 비객체 영역의 평균 밝기값과 변환된 값간의 차이 - 기설정된 제 2 임계치)를 보정부에게로 보낸다. 그에 따라, 보정부는 역광 판단부에서 최종적으로 역광인 것으로 판단함에 따라 역광 영상을 보정한다 (S70). 보정부에서 보정을 하는 경우, 입력받은 역광 수치에 근거하여 입력 영상(즉, 역광 영상)의 밝기 (brightness), 콘트라스트(contrast) 등을 보정한다. 예를 들어, 앞서의 예에서와 같이 역광 수치가 23(173- 150)이므로, 보정부는 입력 영상의 비객체 영역만의 밝기(brightness)를 20% 정도 높여 주거나, 입력 영상 (즉, 객체 영역 및 비객체 영역을 모두 포함)의 밝기(brightness)를 20% 정도 높여 주거나, 객체 영역과 비객체 영역간의 대비(콘트라스트)율을 20% 정도 높여줄 수 있다. 또한, 상술한 본 발명의 인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역광 판단 과 개선 방법은, 컴퓨터로 읽을 수 있는 기록매체에 컴퓨터가 읽을 수 있는 코드로서 구현하는 것이 가능하다. 컴퓨터가 읽을 수 있는 기록매체는 컴퓨터 시스템에 의하여 읽혀질 수 있는 데이터가 저장되는 모든 종류의 기 록 장치를 포함한다. 컴퓨터가 읽을 수 있는 기록매체의 예로는 ROM, RAM, CD-ROM, 자기 테이프, 플로피디스크, 광데이터 저장장치 등이 있다. 또한, 컴퓨터가 읽을 수 있는 기록매체는 네트워크로 연결된 컴퓨터 시스템에 분 산되어, 분산방식으로 컴퓨터가 읽을 수 있는 코드가 저장되고 실행될 수 있다. 그리고, 상기 방법을 구현하기"}
{"patent_id": "10-2019-0109998", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "위한 기능적인(function) 프로그램, 코드 및 코드 세그먼트들은 본 발명이 속하는 기술분야의 프로그래머들에 의해 용이하게 추론될 수 있다. 이상에서와 같이 도면과 명세서에서 최적의 실시예가 개시되었다. 여기서 특정한 용어들이 사용되었으나, 이는 단지 본 발명을 설명하기 위한 목적에서 사용된 것이지 의미 한정이나 청구범위에 기재된 본 발명의 범위를 제 한하기 위하여 사용된 것은 아니다. 그러므로, 본 기술 분야의 통상의 지식을 가진자라면 이로부터 다양한 변형 및 균등한 타 실시예가 가능하다는 점을 이해할 것이다. 따라서, 본 발명의 진정한 기술적 보호범위는 첨부된 청구범위의 기술적 사상에 의해 정해져야 할 것이다."}
{"patent_id": "10-2019-0109998", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 실시예에 따른 인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역 광 판단과 개선 장치의 구성도이다. 도 2는 도 1에 도시된 객체 영역 검출부의 설명에 채용되는 영상의 일 예이다. 도 3은 도 1에 도시된 영역 추출부의 설명에 채용되는 영상의 일 예이다. 도 4는 도 1에 도시된 보정부의 설명에 채용되는 영상의 일 예이다. 도 5는 본 발명의 실시예에 따른 인공지능 객체 검출을 이용한 스마트폰 전방 조도센서와 후방 카메라센서간 역 광 판단과 개선 방법을 설명하기 위한 플로우차트이다."}
