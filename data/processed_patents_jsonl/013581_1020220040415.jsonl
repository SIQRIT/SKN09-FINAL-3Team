{"patent_id": "10-2022-0040415", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0141177", "출원번호": "10-2022-0040415", "발명의 명칭": "자동 주차 보조 시스템 및 이를 이용하는 자동 주차 보조 방법", "출원인": "주식회사 에이치엘클레무브", "발명자": "김동익"}}
{"patent_id": "10-2022-0040415", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "자동 주차 보조 시스템에 있어서,주차 공간에 따라 주차 경로를 생성하고,차량 속도 및 조향휠 각속도에 따라 차량의 위치 및 헤딩 각도를 식별하도록 마련된 파라미터 정보에 기초하여상기 주차 경로에 따른 목표 조향휠 각도에 대응하는 차량의 제1위치 및 제1헤딩 각도를 식별하고,상기 제1위치 및 상기 제1헤딩 각도에 기초하여 선행 구간의 길이를 식별하고,상기 선행 구간의 시작 지점부터 상기 목표 조향휠 각도에 도달하도록 조향휠을 제어하는 제어부를 포함하는 자동 주차 보조 시스템."}
{"patent_id": "10-2022-0040415", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 제어부는,상기 차량의 이동 거리 대비 상기 조향휠의 각도 변화가 동일하도록 상기 차량 속도와 상기 조향휠 각속도를 연동하여 제어하는 자동 주차 보조 시스템."}
{"patent_id": "10-2022-0040415", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 제어부는,제1차량 속도 및 제1조향휠 각속도를 감지하고,상기 파라미터 정보에 기초하여 상기 제1차량 속도 및 상기 제1조향휠 각속도의 기 정의된 범위 내에서 차량의복수의 제2위치 및 복수의 제2헤딩 각도를 식별하고,상기 복수의 제2위치 및 상기 복수의 제2헤딩 각도를 보간하여 상기 제1위치 및 상기 제1헤딩 각도를 식별하는자동 주차 보조 시스템."}
{"patent_id": "10-2022-0040415", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 제어부는,상기 제1위치에서의 제1헤딩 각도와 상기 주차 경로 상의 제3위치에서의 제3헤딩 각도가 동일하도록 상기 목표조향휠 각도를 설정하는 자동 주차 보조 시스템."}
{"patent_id": "10-2022-0040415", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서,상기 제어부는,상기 제1위치 및 상기 제3위치 간의 좌표값의 차이를 이용하여 상기 선행 구간의 길이를 식별하는 자동 주차 보조 시스템."}
{"patent_id": "10-2022-0040415", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "자동 주차 보조 시스템에 의해 수행되는 자동 주차 보조 방법에 있어서,공개특허 10-2023-0141177-3-주차 공간에 따라 주차 경로를 생성하는 단계;차량 속도 및 조향휠 각속도에 따라 차량의 위치 및 헤딩 각도를 식별하도록 마련된 파라미터 정보에 기초하여상기 주차 경로에 따른 목표 조향휠 각도에 대응하는 차량의 제1위치 및 제1헤딩 각도를 식별하는 단계;상기 제1위치 및 상기 제1헤딩 각도에 기초하여 선행 구간의 길이를 식별하는 단계;상기 선행 구간의 시작 지점부터 상기 목표 조향휠 각도에 도달하도록 조향휠을 제어하는 단계를 포함하는 자동주차 보조 방법."}
{"patent_id": "10-2022-0040415", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서,상기 조향휠을 제어하는 단계는,상기 차량의 이동 거리 대비 상기 조향휠의 각도 변화가 동일하도록 상기 차량 속도와 상기 조향휠 각속도를 연동하여 제어하는 단계를 포함하는 자동 주차 보조 방법."}
{"patent_id": "10-2022-0040415", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제6항에 있어서,상기 제1위치 및 제1헤딩 각도를 식별하는 단계는,제1차량 속도 및 제1조향휠 각속도를 감지하는 단계;상기 파라미터 정보에 기초하여 상기 제1차량 속도 및 상기 제1조향휠 각속도의 기 정의된 범위 내에서 차량의복수의 제2위치 및 복수의 제2헤딩 각도를 식별하는 단계;상기 복수의 제2위치 및 상기 복수의 제2헤딩 각도를 보간하여 상기 제1위치 및 상기 제1헤딩 각도를 식별하는단계를 포함하는 자동 주차 보조 방법."}
{"patent_id": "10-2022-0040415", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제6항에 있어서,상기 조향휠을 제어하는 단계는,상기 제1위치에서의 제1헤딩 각도와 상기 주차 경로 상의 제3위치에서의 제3헤딩 각도가 동일하도록 상기 목표조향휠 각도를 설정하는 단계를 포함하는 자동 주차 보조 방법."}
{"patent_id": "10-2022-0040415", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서,상기 선행 구간의 길이를 식별하는 단계는,상기 제1위치 및 상기 제3위치 간의 좌표값의 차이를 이용하여 상기 선행 구간의 길이를 식별하는 단계를 포함하는 자동 주차 보조 방법."}
{"patent_id": "10-2022-0040415", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명의 일 실시예에 따른 자동 주차 보조 시스템에 있어서, 주차 공간에 따라 주차 경로를 생성하고, 차량 속 도 및 조향휠 각속도에 따라 차량의 위치 및 헤딩 각도를 식별하도록 마련된 파라미터 정보에 기초하여 상기 주 차 경로에 따른 목표 조향휠 각도에 대응하는 차량의 제1위치 및 제1헤딩 각도를 식별하고, 상기 제1위치 및 상 기 제1헤딩 각도에 기초하여 선행 구간의 길이를 식별하고, 상기 선행 구간의 시작 지점부터 상기 목표 조향휠 각도에 도달하도록 조향휠을 제어하는 제어부를 포함한다."}
{"patent_id": "10-2022-0040415", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 자동 주차 보조 시스템 및 이를 이용하는 자동 주차 보조 방법에 관한 것이다."}
{"patent_id": "10-2022-0040415", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "최근 자율주행 자동차에 대한 관심이 높아지면서, 그 일환으로 운전자의 주행이나 주차를 보조하는 다양한 운전 자 보조 시스템(ADAS, Advanced Driver Assistance System)이 개발되어 오고 있다. 운전자 보조 시스템 중 하나로, 협소한 주차 공간이나 운전자의 운전 미숙 등으로 인한 주차의 어려움을 해결해 주는 자동 주차 보조 시스템(Smart Parking Assist System, SPAS)이 있다.SPAS는 차량을 주차 공간에 안전하게 자동 주차하기 위한 시스템으로서, 주차 공간에 맞추어 생성된 주차 경로 를 추종하면서 이동하도록 차량을 제어한다. 이때, 주차 경로는 헤딩 각도(heading angle), 즉 자동차가 바라보는 방향의 변화가 크기 때문에 직선 구간과 선회 구간의 조합으로 이루어진다. 따라서, 주차 경로를 보다 정확하게 추종하기 위해서는 직선 구간에서 선회 구간으로 변경되는 지점이나, 선회 구간에서 직선 구간으로 변경되는 지점에서 정차하고, 조향휠(Steering Wheel)을 조정해야 한다. 경로가 변경될 때마다 차량을 멈추게 되면 주차시간이 오래 걸리고 사용자에게 불편함을 초래하므로, 경로가 변 경되는 지점을 기준으로 선행해서 조향휠을 조정하는 방안이 연구되어 오고 있다. 그러나, 차량이 이동하는 중에 조향휠을 회전하게 되면 곡률이 시시각각 변하게 되므로 일정한 곡률로 생성된 주차 경로를 추종하기 힘들다. 또한, 조향휠의 회전이 완료된 이후 이동하는 경로가 기 생성된 주차 경로와 유 사하게 추종하기 위해서는 조향휠을 어느 시점부터 선행하여 회전을 시작하여야 하는지에 대한 정밀한 계산이 요구된다. 이에 대해, 차량의 속도에 의존하는 휴리스틱(Heuristic)한 제어가 아닌, 선행 시점을 결정하는 다양한 파라미 터를 반영하는 알고리즘(Algorithm)이 필요한 실정이다."}
{"patent_id": "10-2022-0040415", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 목적은 보다 경로 추종성이 향상되는 자동 주차 보조 시스템 및 이를 이용하는 자동 주차 보조 방법 을 제공하는 것이다. 본 발명의 목적은 보다 정밀한 경로 추종을 수행하는 자동 주차 보조 시스템 및 이를 이용하는 자동 주차 보조 방법을 제공하는 것이다. 본 발명의 목적은 보다 빠르게 경로 추종이 가능한 자동 주차 보조 시스템 및 이를 이용하는 자동 주차 보조 방 법을 제공하는 것이다."}
{"patent_id": "10-2022-0040415", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 일 실시예에 따른 자동 주차 보조 시스템에 있어서, 주차 공간에 따라 주차 경로를 생성하고, 차량 속도 및 조향휠 각속도에 따라 차량의 위치 및 헤딩 각도를 식별하도록 마련된 파라미터 정보에 기초하여 상기 주차 경로에 따른 목표 조향휠 각도에 대응하는 차량의 제1위치 및 제1헤딩 각도를 식별하고, 상기 제1위치 및 상기 제1헤딩 각도에 기초하여 선행 구간의 길이를 식별하고, 상기 선행 구간의 시작 지점부터 상기 목표 조향 휠 각도에 도달하도록 조향휠을 제어하는 제어부를 포함한다. 상기 제어부는, 상기 차량의 이동 거리 대비 상기 조향휠의 각도 변화가 동일하도록 상기 차량 속도와 상기 조 향휠 각속도를 연동하여 제어할 수 있다. 상기 제어부는, 제1차량 속도 및 제1조향휠 각속도를 감지하고, 상기 파라미터 정보에 기초하여 상기 제1차량 속도 및 상기 제1조향휠 각속도의 기 정의된 범위 내에서 차량의 복수의 제2위치 및 복수의 제2헤딩 각도를 식 별하고, 상기 복수의 제2위치 및 상기 복수의 제2헤딩 각도를 보간하여 상기 제1위치 및 상기 제1헤딩 각도를 식별할 수 있다. 상기 제어부는, 상기 제1위치에서의 제1헤딩 각도와 상기 주차 경로 상의 제3위치에서의 제3헤딩 각도가 동일하 도록 상기 목표 조향휠 각도를 설정할 수 있다. 상기 제어부는, 상기 제1위치 및 상기 제3위치 간의 좌표값의 차이를 이용하여 상기 선행 구간의 길이를 식별할 수 있다. 본 발명의 일 실시예에 따른 자동 주차 보조 시스템에 의해 수행되는 자동 주차 보조 방법에 있어서, 주차 공간 에 따라 주차 경로를 생성하는 단계; 차량 속도 및 조향휠 각속도에 따라 차량의 위치 및 헤딩 각도를 식별하도 록 마련된 파라미터 정보에 기초하여 상기 주차 경로에 따른 목표 조향휠 각도에 대응하는 차량의 제1위치 및 제1헤딩 각도를 식별하는 단계; 상기 제1위치 및 상기 제1헤딩 각도에 기초하여 선행 구간의 길이를 식별하는 단계; 상기 선행 구간의 시작 지점부터 상기 목표 조향휠 각도에 도달하도록 조향휠을 제어하는 단계를 포함할수 있다. 상기 조향휠을 제어하는 단계는, 상기 차량의 이동 거리 대비 상기 조향휠의 각도 변화가 동일하도록 상기 차량 속도와 상기 조향휠 각속도를 연동하여 제어하는 단계를 포함할 수 있다. 상기 제1위치 및 제1헤딩 각도를 식별하는 단계는, 제1차량 속도 및 제1조향휠 각속도를 감지하는 단계; 상기 파라미터 정보에 기초하여 상기 제1차량 속도 및 상기 제1조향휠 각속도의 기 정의된 범위 내에서 차량의 복수 의 제2위치 및 복수의 제2헤딩 각도를 식별하는 단계; 상기 복수의 제2위치 및 상기 복수의 제2헤딩 각도를 보 간하여 상기 제1위치 및 상기 제1헤딩 각도를 식별하는 단계를 포함할 수 있다. 상기 조향휠을 제어하는 단계는, 상기 제1위치에서의 제1헤딩 각도와 상기 주차 경로 상의 제3위치에서의 제3헤 딩 각도가 동일하도록 상기 목표 조향휠 각도를 설정하는 단계를 포함할 수 있다. 상기 선행 구간의 길이를 식별하는 단계는, 상기 제1위치 및 상기 제3위치 간의 좌표값의 차이를 이용하여 상기 선행 구간의 길이를 식별하는 단계를 포함할 수 있다."}
{"patent_id": "10-2022-0040415", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 일 실시예에 따르면, 주차 상황이라는 저속, 과도한 헤딩 각도의 변화 환경에 적용 가능하고, 차량을 이동하면서 조향휠을 조정하더라도 변화하는 곡률에 대해 대응이 가능하다. 본 발명의 일 실시예에 따르면, 수식을 이용한 알고리즘으로 선행 구간의 시작 지점을 정밀하게 파악함으로써 보다 정교하게 주차 경로를 추종할 수 있다. 본 발명의 일 실시예에 따르면, 생성된 주차 경로와 유사하게 이동하면서도 매끄러운 주행이 가능하게 되는 바 주차 시간 단축 및 주행 안정감을 줄 수 있다."}
{"patent_id": "10-2022-0040415", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 본 발명에 따른 바람직한 실시 형태를 첨부된 도면을 참조하여 상세하게 설명한다. 첨부된 도면과 함께 이하에 개시될 상세한 설명은 본 발명의 예시적인 실시형태를 설명하고자 하는 것이며, 본 발명이 실시될 수 있 는 유일한 실시형태를 나타내고자 하는 것이 아니다. 도면에서 본 발명을 명확하게 설명하기 위해서 설명과 관 계없는 부분은 생략할 수 있고, 명세서 전체를 통하여 동일 또는 유사한 구성 요소에 대해서는 동일한 참조 부 호를 사용할 수 있다. 도 1은 본 발명의 일 실시예에 따른 주차 경로를 생성하는 모습을 도시한 도면이다. 도 1은 본 발명의 일 실시예에 따른 자동 주차 보조 시스템(이하, 시스템이라 한다.)을 구비하는 차 량의 주차 경로를 도시하고 있다. 도 1에 도시된 바와 같이, 차량이 후진을 통해 평행주차가 필요한 상황을 가정한다. 본 발명의 일 실시예에 따르면, 시스템은 차량에 장착된 각종 센서를 이용하여 수집한 정보를 기반으로 주차 공간을 식별할 수 있다. 그리고, 시스템은 차량의 현재 위치를 기준으로 주차 공간에 주차하기 위한 주차 경로 를 식별할 수 있다. 일반적으로, 주차 경로는 헤딩 각도의 변화가 크기 때문에 대부분 직선 구간과 선회 구간의 조합으로 이루어진 다. 예를 들어, 도 1에서 시스템에 의해 식별된 주차 경로는 차량의 현재 위치에서부터 순차적으로 제1직선 구간, 제1선회 구간, 제2직선 구간 및 제2선회 구간으로 이루어질 수 있다. 이때, 제1선회 구간 및 제2선회 구간은 각각 일정한 곡률을 가지는 아크(arc) 형태로 이루어진다. 차량은 주차 경로를 보다 정확하게 추종하기 위해서 제1직선 구간에서 제1선회 구간으로 넘어가는 지점이나, 제1선회 구간에서 제2직선 구간으로 넘어가는 지점 등 곡률이 변경되는 지점에서 정차 하고 다음 구간에 맞도록 조향휠을 조정하여야 한다. 그러나, 차량을 정차하고 조향휠을 다음 구간에 맞춰 조정한 후 다시 이동하게 되면, 차량은 주차 경로에 맞게 이동할 수 있지만 반복적 정차에 의한 주차 시간 증가 및 승차 불편감을 초래할 수 있다. 이를 해결하기 위해, 본 발명은 서로 다른 곡률을 가지는 구간에 진입하기 전의 일정 구간, 예를 들어, 제1직선 구간에서 제1선회 구간으로 넘어가기 전의 선행 구간에서부터 조금씩 조향휠을 조정하여 제1선회 구간에 대응하는 헤딩 각도를 가지도록 하는 발명을 제안한다. 그러나, 차량이 이동하는 중에 조향휠을 회전하게 되면 곡률이 시시각각 변하게 되므로 일정한 곡률로 생성 된 주차 경로를 추종하기 힘들다. 또한, 조향휠의 회전이 완료된 이후 이동하는 경로가 기 생성된 주차 경로와 유사하게 추종하기 위해서는 선행 구간의 시작 지점을 어디로 설정해야 하는지 정밀한 계산이 요구된다. 본 발명의 일 실시예에 따르면, 주차 상황이라는 저속, 과도한 헤딩 각도의 변화 환경에 적용 가능하고, 선행 구간의 시작 지점에서부터 조향휠을 조정하더라도 변화하는 곡률에 대해 대응이 가능한 시스템을 제안한다. 이하, 도면들을 참조하여 본 발명의 일 실시예에 따른 시스템의 구성 및 동작에 대해 구체적으로 설명한다. 도 2는 본 발명의 일 실시예에 따른 자동 주차 보조 시스템의 구성을 도시한 블럭도이다. 본 발명의 일 실시예에 따르면, 시스템은 휠 속도 센서부, 조향각 센서부, 메모리, 조향 장치, 제동 장치, 구동 장치, 제어부를 포함할 수 있다. 휠 속도 센서부는 차축에 장착되어 차륜의 회전속도를 감지할 수 있는 전기적 신호를 출력한다. 조향각 센서부는 조향휠의 각도, 각속도, 각가속도, 조향방향 등을 검출한다. 이 외에도, 시스템은 도 2에 도시되지는 않았으나 주차 공간을 식별하거나, 식별된 주차 공간에 따른 주차 경로를 생성하는 데 있어 필요한 초음파 센서, 레이더, 라이다 등을 구비할 수 있다. 메모리는 시스템의 동작 프로그램들을 저장한다. 메모리는 전원의 제공 유무와 무관하게 데이터 (정보)를 보존할 수 있는 비휘발성 속성의 스토리지(storage)와, 제어부에 의해 처리되기 위한 데이터가 로딩되며 전원이 제공되지 않으면 데이터를 보존할 수 없는 휘발성 속성의 메모리(memory)를 포함한다. 메모리는 차량 속도 및 조향휠 각속도에 따라 차량의 위치 및 헤딩 각도를 식별하도록 마련된 정보 등 외 부장치로부터 수집, 수신한 데이터를 저장하거나, 차량의 위치 및 헤딩 각도를 식별하는 과정에서 필요한 연산 프로그램 등을 저장할 수 있다. 조향장치는 조향휠을 포함하는 차량의 조향을 보조하는 수단으로서, 전동식 조향장치(EPS: Electric Power Steering)와 모터구동 조향장치(MDPS: Motor Driven Power Steering)로 구현될 수 있다. 제동 장치는 운전자의 페달 조작이나, 안티락 브레이킹 시스템(Anti-Lock Braking System, ABS), 차량자 세제어장치(Electronic Stability Control, ESC) 등 차량의 주행을 제동하는 차량의 구동을 제동하도록 구성될 수 있다. 구동 장치는 차량이 주차경로를 따라 이동하고, 속도를 제어하도록 구성될 수 있다. 제어부는 프로그램 등 소프트웨어를 실행하여 시스템의 적어도 하나의 다른 구성요소(예: 하드웨어 또는 소프트웨어 구성요소)를 제어할 수 있고, 다양한 데이터 처리 또는 연산을 수행하는 ECU(Electronic Control Unit)이나, MCU(Micro Control Unit)을 의미할 수 있다. 본 발명의 일 실시예에 따르면, 제어부는 주차 공간에 따라 주차 경로를 생성하고, 차량 속도 및 조향휠 각속도에 따라 차량의 위치 및 헤딩 각도를 식별하도록 마련된 정보에 기초하여 주차 경로에 따른 목표 조향휠 각도에 대응하는 차량의 제1위치 및 제1헤딩 각도를 식별하고, 제1위치 및 제1헤딩 각도에 기초하여 선행 구간 의 길이를 식별하고, 선행 구간의 시작 지점부터 목표 조향휠 각도에 도달하도록 조향휠을 제어할 수 있다.한편, 제어부는 상기 동작을 수행하기 위한 데이터 분석, 처리, 및 결과 정보 생성 중 적어도 일부를 규칙 기반 또는 인공지능(Artificial Intelligence) 알고리즘으로서 기계학습, 신경망 네트워크(neural network), 또는 딥러닝 알고리즘 중 적어도 하나를 이용하여 수행할 수 있다. 신경망 네트워크의 예로는, CNN (Convolutional Neural Network), DNN (Deep Neural Network), RNN (Recurrent Neural Network)과 같은 모델 을 포함할 수 있다. 도 3은 본 발명의 일 실시예에 따른 자동 주차 보조 시스템의 동작 흐름도를 도시한 도면이다. 본 발명의 일 실시예에 따르면, 제어부는 주차 공간에 따라 주차 경로를 생성할 수 있다(S10). 제어부는 앞서 서술한 바와 같이, 초음파 센서 등 다양한 센서를 이용하여 주차 공간을 포함하는 주변 영역을 식별할 수 있고, 주차 공간을 식별하면 차량의 현재 위치를 기준으로 주차 공간에 주차하기 위한 주차 경로를 식별할 수 있다. 이때, 주차 경로는 다양한 방법을 통해 식별될 수 있으며, 이를 식별하는 방 법들은 본 발명을 한정하지 않는다. 이때, 주차 경로는 직선 구간과 선회 구간의 조합으로 이루어진다. 이하, 본 도면에서 설명하는 주차 경로는 도 1에 도시된 주차 경로를 기초로 설명한다. 본 발명의 일 실시예에 따르면, 제어부는 차량 속도 및 조향휠 각속도에 따라 차량의 위치 및 헤딩 각도를 식별하도록 마련된 정보(이하, 파라미터 정보라 한다.)에 기초하여 주차 경로에 따른 목표 조향휠 각도에 대응 하는 차량의 위치(이하, 제1위치라 한다.) 및 헤딩 각도(이하 제1헤딩 각도라 한다.)를 식별할 수 있다(S20). 본 발명의 일 실시예에 따르면, 파라미터 정보는 차량이 이동하는 속도, 조향휠을 회전시키는 각속도(조향휠의 각가속도도 포함)가 어떤 값을 가질 때, 목표 조향휠 각도에 도달하면 해당 차량이 어디에 위치하게 되고 그때 의 헤딩 각도가 어떤 값을 가지는지를 테이블에 매핑한 정보를 의미한다. 이때, 차량의 위치는 평면상 좌표값으 로 나타낼 수 있다. 본 발명의 일 실시예에 따르면, 제어부는 반복적 정차를 통한 주차 경로의 추종을 보완하기 위해 선행 구 간의 시작 지점에서부터 조향휠을 조정한다. 이때, 조향휠을 조정하는 것이란 목표 조향휠 각도에 도달 할 때까지 조향휠을 회전시키는 제어를 의미하고, 제어부는 조향 장치에 조향휠을 회전시키는 제어신 호를 전송할 수 있다. 차량이 이동을 하면서 조향휠 각도가 계속해서 변하게 되면 차량은 곡률이 계속해서 변경되는 곡선을 따라 이동 하게 된다. 이때, 조향휠 각도가 변화할 때마다 차량의 위치나 헤딩 각도를 연산하는 과정은 제어부의 연 산량에 부담을 ㅈ주거나, 연산 속도에 영향을 줄 수 있다. 따라서, 본 발명에서 제어부는 차량 속도 및 조향휠 각속도에 따른 차량의 위치 및 헤딩 각도를 미리 연산 하여 저장한 파라미터 정보를 이용할 수 있다. 제어부는 ECU나 MCU의 연산 속도, 리소스 확보를 위해 미리 연산하여 매핑한 파라미터 정보를 메모리(13 0)에 저장할 수 있다. 파라미터 정보는 초기 1회 맵핑을 수행하면 되는 바, 차량의 위치와 헤딩 각도를 식별함 에 있어 효율적이다. 다만, 이에 한정되지 않고, 필요에 따라 제어부가 차량 속도 및 조향휠 각속도에 따 른 목표 조향휠 각도에서의 차량의 위치 및 헤딩 각도를 식별할 수 있다. 이제 제어부가 선행 구간의 시작 지점에서부터 차량을 구동하면서 조향휠 각도를 계속해서 조정하 는 경우, 차량은 도 1에서 식별한 주차 경로와 다른 양상으로 이동한다. 이때, 제어부는 목표 조향휠 각도까지 조향휠을 조정하는데, 선행 구간의 시작 지점에서부터 목표 조 향휠 각도에 도달하는 종료 지점 사이의 구간을 클로소이드(clothoid) 구간이라고 한다. 클로소이드 구간의 종료 지점에서의 헤딩 각도는 원래 식별한 주차 경로를 따라 이동하는 경우 대응하는 지점에 서의 헤딩 각도와 동일해야 한다. 관련하여 보다 자세한 내용은 도 5 및 도 6을 참조하여 설명한다. 목표 조향휠 각도에 도달하면, 즉 클로소이드(clothoid) 구간을 지나면 그 이후 차량은 동일한 조향휠 각도로 이동하므로 곡률이 일정한 경로로 주행할 수 있다. 이때의 곡률은 주차 경로상의 곡률과 동일해야 한다. 이후 다시 주차 경로 상 곡률이 변하는 구간, 예를 들어 제1선회 구간에서 제2직선 구간으로 넘어가야할 상 황이 오기 전까지 차량은 목표 조향휠 각도로 주행한다. 본 발명의 일 실시예에 따르면, 제1선회 구간에서 제2직선 구간으로 넘어가는 과정에서도 선행 구간에서부터 조향휠 각도를 조정함은 당연하다.본 발명의 일 실시예에 따르면, 제어부는 파라미터 정보에 기초하여 주차 경로에 따른 목표 조향휠 각도에 대응하는 차량의 제1위치 및 제1헤딩 각도를 식별할 수 있다. 차량의 제1위치 및 제1헤딩 각도는 클로소이드 구간이 종료되는 지점의 위치 및 헤딩 각도를 의미한다. 클로소 이드 구간이 종료되고 나면 차량은 주차 경로와 동일한 곡률로 이동한다. 제어부는 차량 속도 및 조향휠 각속도를 입력하면, 메모리에 저장된 파라미터 정보에 기초하여 목표 조향휠 각도에 대응하는 제1위치 및 제1헤딩 각도를 출력으로 하여 식별할 수 있다. 입력이 되는 차량 속도 및 조향휠 각속도는 클로소이드 시작 지점, 즉 선행 구간의 시작 지점에서의 차량 속도 및 조향휠 각속도일 수 있다. 이때, 파라미터 정보는 차량 속도, 조향휠 각속도 등 각 파라미터 값들을 그때 그때 연산하지 않는 이상 모든 값에 대해 마련하는 것은 어렵다. 따라서, 제어부는 파라미터 정보에 저장된 파라미터 값 이외의 값들은 이미 마련된 값들을 보간하여 제1위치 및 제1헤딩 각도를 출력할 수 있다. 따라서, 제어부는 어느 시점에서의 제1차량 속도 및 제1조향휠 각속도를 감지하고, 파라미터 정보에 기초 하여 제1차량 속도 및 제1조향휠 각속도의 기 정의된 범위 내에서 차량의 복수의 제2위치 및 복수의 제2헤딩 각 도를 식별할 수 있다. 그리고, 제어부는 복수의 제2위치 및 복수의 제2헤딩 각도를 보간하여 제1위치 및 제1헤딩 각도를 식별할 수 있다. 예를 들어, 제1차량 속도가 2.3kph이고, 파라미터 정보는 차량 속도가 2.2kph와 2.4kph인 경우에 대응하는 차량 의 위치 및 헤딩 각도만을 가지고 있는 경우, 제어부는 차량 속도가 2.2kph, 2.4kph일때의 차량의 복수의 제2위치 및 복수의 제2헤딩 각도 값들을 보간하여 제1위치 및 제1헤딩 각도를 식별할 수 있다. 본 발명의 일 실시예에 따르면, 제어부는 제1위치 및 제1헤딩 각도에 기초하여 선행 구간의 길이를 식 별할 수 있다(S30). 본 발명의 목적은 선행 구간만큼 선행하여 조향휠을 조정하면서 이동하더라도 차량이 주차 경로와 유사하게 이동하도록 설계하는 것이다. 따라서, 차량이 이동하는 과정에서 특정 지점에서는 주차 경로를 따라 이동하는 경우와 조향휠을 조정하면서 이 동하는 경우의 헤딩 각도가 동일하도록 설계한다. 특정 지점 중 하나가 목표 조향휠 각도에 도달하는 시점에서 의 헤딩 각도이다. 또는, 목표 조향휠 각도에 도달하고 난 뒤, 곡률이 같아지는 구간에서 헤딩 각도가 동일해지 는 지점이 있을 수 있다. 예를 들어, 제1선회 구간 동안 변화하는 헤딩 각도의 변화량을 라고 하면, 조향휠을 조정하면서 이동하 고, 목표 조향휠 각도에 도달한 이후 일정한 조향휠 각도로 이동하는 동안 변화하는 헤딩 각도의 변화량 또한 가 되도록 설계를 할 수 있다. 이때, 헤딩 각도의 변화량이 가 되는 지점에서의 좌표값의 차이를 이용 하면 선행 구간의 길이를 구할 수 있다. 수식을 이용한 보다 구체적인 선행 구간의 길이를 식별하는 과 정은 도 5를 참조하여 설명한다. 본 발명의 일 실시예에 따르면, 제어부는 선행 구간의 시작 지점부터 목표 조향휠 각도에 도달하도 록 조향휠을 제어할 수 있다(S40). S30에서 선행구간의 길이를 알게 되었으므로, 제어부는 주차 경로 상의 곡률이 변경되는 지점보다 선 행 구간의 길이만큼 선행하여 조향휠을 조정할 수 있다. 본 발명의 일 실시예에 따르면, 생성된 주차 경로와 유사하게 이동하면서도 매끄러운 주행이 가능하게 되는 바 주차 시간 단축 및 주행 안정감을 줄 수 있다. 본 발명의 일 실시예에 따르면, 선행 구간을 식별하는 알고리즘에 기초하여 보다 정밀하게 자동 주차 제어를 수 행할 수 있다. 도 4는 본 발명의 일 실시예에 따른 차량의 이동 거리 대비 조향휠의 각도 변화를 도시한 그래프이다. 본 발명의 일 실시예에 따르면, 제어부는 차량의 이동 거리 대비 조향휠의 각도 변화가 동일하도록 차량 속도와 조향휠 각속도를 연동하여 제어한다. 차량 속도는 주차를 수행하는 동안 계속해서 바뀌게 된다. 차량 속도가 바뀔때마다 조향휠 각속도가 비례하여 변동되지 않으면 경로가 조금씩 달라지게 된다. 따라서, 차량의 속도와 관계없이 조향휠 각도의 변동에 따라 유 사한 경로로 이동하기 위해서 차량의 속도와 조향휠 각속도를 연동한다. 즉, 조향휠 각속도/각가속도를 자차 이동 속도와 연동하여 기본적인 경로가 동일하게 동작하도록 하기 위함이다. 도 4를 참조하면 각각 차량 속도가 2kph일때와 차량 속도가 4kph일때의 시간 별 이동거리, 조향휠 각도, 조향휠 각속도, 조향휠 각가속도 그래프를 도시한다. 차량 속도가 2kph일때 t1 시간 동안의 이동거리와 차량 속도가 4kph일때 t2 시간 동안의 이동거리가 같고, 차량 속도가 2kph일때 t1 시간 동안의 조향휠 변화와 차량 속도가 4kph일때 t2 시간 동안의 조향휠 변화가 같도록 차 량 속도와 조향휠 각속도가 연동되어 있음을 알 수 있다. 이동거리가 같을 때 조향휠의 각도 변화가 같도록 차량 속도 대비 각속도와 각가속도의 비율을 결정하면, 도 4 에 도시된 바와 같이 속도가 다르더라도 동일한 조향휠 각도에서 차량의 위치와 헤딩 각도는 동일한 값을 가진 다. 도 5는 본 발명의 일 실시예에 따른 주차 경로와 추종 경로에 관해 도시한 도면이다. 도 5는 도 3의 S30과 관련하여 설명한 선행 구간의 길이를 식별하는 과정을 설명한다. 도 5에는 제어부 가 식별한 주차 경로와 본 발명에 따른 시스템에 의해 차량이 추종 경로와 두 경로를 합쳐 놓은 모습이 도시되어 있다. 이때, 좌표는 (x, y, t)로 기재되어 있으며, 이는 차량의 위치(x, y) 및 헤딩 각도(t)를 함께 표시한 것이다. 각 경로의 시작점의 좌표는 (0, 0)으로, 헤딩 각도는 0도로 두고 이를 (0, 0, 0)라고 정한다. 이때, 주차 경로에서의 선행 구간 및 제1선회 구간의 일부 구간은 도 1과 동일하다고 가정한 다. 주차 경로 상 각 구간들은 모두 곡률이 일정하게 생성되므로 제1선회 구간 또한 중심을 기준으로 대칭인 바, 계산의 간소화를 위해 제1선회 구간의 중심인 일부 구간까지만 사용한다. 따라서, 제1선회 구간 동안 변화하는 헤딩 각도의 변화량을 라고 하면, 일부 구간에서의 헤딩 각도 의 변화량은 가 된다. 일부 구간에서의 곡률은 일정하고 선행 구간의 시작 지점의 차량의 위치가 (0, 0)이므로, 일부 구간 의 종료 지점에서의 차량의 위치 는 쉽게 구할 수 있다. 이때, Feed forward 는 선행 구간의 길이를 의미한다. 차량이 선행구간의 시작 지점부터 조향휠을 조정하면서 이동하는 경우, 생성되는 추종 경로는 클로소이드 구간과 클로소이드 구간 이후 곡률이 일정한 제3선회 구간로 이루어질 수 있다. 이때, 제 1선회 구간의 일부 구간과 제3선회 구간의 곡률은 동일하게 설계된다. 클로소이드 구간은 조향휠의 각도가 계속 변화하는 구간이므로, 클로소이드 구간은 곡률이 서로 다른 복수의 구간으로 이루어질 수 있다. 클로소이드 구간이 n개의 구간으로 이루어질 때, 클로소이드 구간의 종료 지점에서의 차량의 위치 는 클로소이드 구간의 n-1번째 구간의 종료 지점에서의 위치에서 만큼 헤딩 각도가 변할 때의 위치 변화를 더한 값이다. 클로소이드 구간의 종료 지점에서의 차량의 위치 x좌표 및 y좌표는 각각 수학식 1 및 수학식 2로 나타낼 수 있다. 수학식 1 수학식 2"}
{"patent_id": "10-2022-0040415", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "클로소이드 구간의 종료 지점에서의 헤딩 각도 는 클로소이드 구간의 시작 지점에서부터 종료 지점까지 각 구간별 조향휠 각도의 변화에 따른 헤딩 각도를 모두 더한 값( )이 다. 클로소이드 구간 이후 곡률이 일정한 제3선회 구간에 진입 후, 제3선회 구간의 종료 지점에서의 차량의 위치는 이고, 이때 헤딩 각도는 로 제1선회 구간의 일부 구간의 종료 지점에 서의 헤딩 각도와 동일하다. 따라서, 두 경로를 합쳐 놓은 모습을 살펴보면, 두 경로의 종료 지점을 이으면 를 중심각으로 하는 직각삼각형을 만들 수 있다. 직각삼각형을 이용하여 수학식 3과 같은 식을 만들 수 있다. 수학식 3"}
{"patent_id": "10-2022-0040415", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "이때, 와 는 각각 제3선회 구간의 종료 지점에서의 차량의 위치 와 일부 구간의 종료 지점에서의 차량의 위치 간의 x좌표, y좌표 차이를 의미한다. 따라서, 수 학식 3은 수학식 4와 같이 표현할 수 있다. 수학식 4"}
{"patent_id": "10-2022-0040415", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "그리고, 이를 Feed forward에 대해 정리하면, 수학식 5와 같이 표현할 수 있다. 수학식 5"}
{"patent_id": "10-2022-0040415", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "다만, 수학식 5에서 나 를 구하기 어려울 수 있으므로, 도 6에서 이를 보다 간소화하여 식별하는 방안에 대해 설명한다. 도 6은 본 발명의 일 실시예에 따른 주차 경로와 추종 경로에 따른 선행 구간을 도시한 도면이다. 도 6의 경우 도 5에 도시된 제어부가 식별한 주차 경로와 본 발명에 따른 시스템에 의해 차량 이 추종 경로를 그대로 도시한다. 반면, 도 5와 달리, 도 6은 클로소이드 구간의 종료 지점에서의 차량의 헤딩 각도 θ(보다 정확하게는 도 5에서 설명한 바와 같이 이나 θ로 표시한다.)와 동일한 헤딩 각도 θ를 가지는 주차 경로상의 지점 을 표시한다. 이는 클로소이드 구간을 지나고 난 뒤의 제3선회 구간과 주차 경로상의 제1선회 구간의 구 간은 곡률이 동일하므로, 제1선회 구간의 일부 구간 중 소정의 구간이 동일한 바, 이를 제외하고 연산 할 수 있다. 소정의 구간만큼 제외하는 경우, x, y축 좌표가 각각 P, Q 만큼 이동하게 된다. 따라서, 주차 경로 상에서 클로 소이드 구간의 종료 지점에서의 차량의 헤딩 각도와 동일한 지점에서 차량의 위치는 가 된다. 이를 기초로, 수학식 5의 항과 항은 수학식 6과 수학식 7과 같 이 나타낼 수 있다. 수학식 6"}
{"patent_id": "10-2022-0040415", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "수학식 7"}
{"patent_id": "10-2022-0040415", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "따라서, 수학식 6과 수학식 7의 값을 수학식 5에 대입하면, 수학식 8과 같이 나타낼 수 있다. 수학식 8"}
{"patent_id": "10-2022-0040415", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "즉, 제1선회 구간의 곡률 반경 R, 제1선회 구간에서의 헤딩 각도의 변화량 , 파라미터 정보로부터 획득하는 목표 조향휠 각도에 대응하는 차량의 제1위치 및 제1헤딩 각도 θ를 알 수 있으므로, 선 행 구간의 길이를 구할 수 있다. 본 발명의 일 실시예에 따르면, 수식을 이용한 알고리즘으로 선행 구간의 시작 지점을 정밀하게 파악함으로써 보다 정교하게 주차 경로를 추종할 수 있다. 부호의 설명1: 차량 100: 자동 주차 보조 시스템 110: 휠 속도 센서부 120: 조향각 센서부 130: 메모리 140: 조향 장치 150: 제동 장치 160: 구동 장치"}
{"patent_id": "10-2022-0040415", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 주차 경로를 생성하는 모습을 도시한 도면이다. 도 2는 본 발명의 일 실시예에 따른 자동 주차 보조 시스템의 구성을 도시한 블럭도이다. 도 3은 본 발명의 일 실시예에 따른 자동 주차 보조 시스템의 동작 흐름도를 도시한 도면이다. 도 4는 본 발명의 일 실시예에 따른 차량의 이동 거리 대비 조향휠의 각도 변화를 도시한 그래프이다. 도 5는 본 발명의 일 실시예에 따른 주차 경로와 추종 경로에 관해 도시한 도면이다. 도 6은 본 발명의 일 실시예에 따른 주차 경로와 추종 경로에 따른 선행 구간을 도시한 도면이다."}
