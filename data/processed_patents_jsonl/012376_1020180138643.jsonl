{"patent_id": "10-2018-0138643", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2020-0055251", "출원번호": "10-2018-0138643", "발명의 명칭": "사용자 개인키를 활용한 어플리케이션 위변조 판단 방법, 동적 토큰을 활용한 어플리케이션", "출원인": "네이버비즈니스플랫폼 주식회사", "발명자": "백준선"}}
{"patent_id": "10-2018-0138643", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "송수신부, 제어부, 메모리 및 제1 변형 데이터 생성부를 포함하는 사용자 단말이 어플리케이션 위변조 여부를판단하는 방법에 있어서,상기 제1 변형 데이터 생성부가 어플리케이션 메타 정보 및 개발자 서명 정보를 기 설정된 로직으로 변형하여제1 변형 데이터를 생성하여 상기 제어부로 송신하는 단계;상기 제어부가 상기 메모리에 저장된 상기 어플리케이션으로부터 상기 어플리케이션에 포함된 사용자 개인키에서 제2 변형 데이터를 추출하는 단계; 및상기 제어부가 상기 수신된 제1 변형 데이터와 상기 추출된 제2 변형 데이터의 동일성 여부를 확인하는 단계; 를 포함하는 것을 특징으로 하는 사용자 개인키를 활용한 어플리케이션 위변조 판단 방법."}
{"patent_id": "10-2018-0138643", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 제어부가 상기 메모리에 저장된 어플리케이션으로부터 상기 어플리케이션 메타 정보 및 상기 개발자 서명정보를 추출하여 상기 제1 변형 데이터 생성부로 송신하는 단계;를 더 포함하는 것을 특징으로 하는 사용자 개인키를 활용한 어플리케이션 위변조 판단 방법."}
{"patent_id": "10-2018-0138643", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 사용자 개인키 는 제2 변형 데이터 및 공개키를 포함하는 것을 특징으로 하는 사용자 개인키를 활용한 어플리케이션 위변조 판단 방법."}
{"patent_id": "10-2018-0138643", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 제2 변형 데이터는 인증 서버에 의하여 생성되는 것으로서,변형된 어플리케이션 메타 정보 및 변형된 개발자 서명 정보를 포함하는 것을 특징으로 하는 사용자 개인키를활용한 어플리케이션 위변조 판단 방법."}
{"patent_id": "10-2018-0138643", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서,상기 변형 방법은 단방향 HASH 처리, 인코딩 처리 및 암호화 처리 중 어느 한 방법인 것을 특징으로 하는 사용자 개인키를 활용한 어플리케이션 위변조 판단 방법."}
{"patent_id": "10-2018-0138643", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "공개특허 10-2020-0055251-3-제1항에 있어서,상기 제1 변형 데이터 및 상기 제2 변형 데이터는 동일한 변형 방법으로 변형되는 것을 특징으로 하는 사용자개인키를 활용한 어플리케이션 위변조 판단 방법."}
{"patent_id": "10-2018-0138643", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "사용자 개인키를 활용하여 어플리케이션 위변조 여부를 판단하는 사용자 단말에 있어서,어플리케이션 배포자로부터 어플리케이션을 수신하는 송수신부;상기 수신된 어플리케이션이 저장되는 메모리;어플리케이션 메타 정보 및 개발자 서명 정보를 기 설정된 로직으로 변형하여 제1 변형 데이터를 생성하고, 상기 생성된 제1 변형 데이터를 상기 제어부로 송신하는 제1 변형 데이터 생성부; 및상기 송수신부로부터 수신된 어플리케이션을 메모리에 저장하고, 상기 메모리에 저장된 어플리케이션으로부터상기 어플리케이션 메타 정보 및 상기 개발자 서명 정보를 추출하여 상기 제1 변형 데이터 생성부로 송신하며,상기 메모리에 저장된 어플리케이션으로부터 제2 변형 데이터를 추출하고, 상기 제1 변형 데이터 생성부로부터수신된 상기 제1 변형 데이터와 상기 메모리로부터 추출된 상기 제2 변형 데이터의 동일성 여부를 판단하여 상기 메모리에 저장된 어플리케이션의 위변조 여부를 판단하는 제어부;를 포함하는 것을 특징으로 하는 사용자 단말."}
{"patent_id": "10-2018-0138643", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "송수신부, 제어부, DB, 제2 변형 데이터 생성부 및 공개키 생성부를 포함하는 인증 서버가 사용자 개인키를 생성하는 방법에 있어서,상기 제2 변형 데이터 생성부가 어플리케이션 메타 정보 및 개발자 서명 정보를 변형하여 제2 변형 데이터를 생성하는 단계;상기 공개키 생성부가 공개키 및 비밀키를 생성하는 단계; 및상기 제어부가 상기 제2 변형 데이터 및 상기 공개키를 포함하는 사용자 개인키를 생성하는 단계;를 포함하는 것을 특징으로 하는 사용자 개인키 생성 방법."}
{"patent_id": "10-2018-0138643", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에 있어서,상기 제2 변형 데이터 생성부가 상기 제2 변형 데이터를 생성하는 단계 이전에,상기 송수신부가 어플리케이션 배포자로부터 상기 어플리케이션 메타 정보 및 상기 개발자 서명 정보를 수신하는 단계;를 더 포함하는 것을 특징으로 하는 사용자 개인키 생성 방법."}
{"patent_id": "10-2018-0138643", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제8항에 있어서,상기 제어부가 상기 생성된 사용자 개인키를 DB에 저장하는 단계; 및상기 제어부가 상기 송수신부를 통하여 상기 생성된 사용자 개인키를 상기 어플리케이션 배포자에게 송신하는단계;공개특허 10-2020-0055251-4-를 더 포함하는 것을 특징으로 하는 사용자 개인키 생성 방법."}
{"patent_id": "10-2018-0138643", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "어플리케이션 배포자로부터 어플리케이션 메타 정보 및 개발자 서명 정보를 수신하고, 상기 어플리케이션 배포자에게 제어부에의해 생성된 사용자 개인키를 송신하는 송수신부;상기 어플리케이션 메타 정보 및 상기 개발자 서명 정보를 변형하여 변형 데이터를 생성하는 제2 변형 데이터생성부;공개키 및 비밀키를 생성하는 공개키 생성부; 상기 변형 데이터 및 상기 공개키를 포함하는 사용자 개인키를 생성하고 상기 생성된 사용자 개인키를 DB에 저장하며, 상기 송수신부를 통하여 상기 생성된 사용자 개인키를 상기 어플리케이션 배포자에게 송신하는 제어부;및상기 어플리케이션 메타 정보, 상기 개발자 서명 정보 및 상기 생성된 사용자 개인키가 저장되는 DB;를 포함하는 것을 특징으로 하는 인증 서버."}
{"patent_id": "10-2018-0138643", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "송수신부, 제어부, 메모리 및 동적 토큰 생성부를 포함하는 사용자 단말이 사용자 개인키를 활용하여 생성된 동적 토큰을 이용하여 인증 서버로 송신하는 어플리케이션 관련 패킷의 유효성을 인증하는 방법에 있어서,상기 동적 토큰 생성부가 메모리에 저장된 어플리케이션 메타 정보, 시각 정보 및 메모리에 저장된 공개키를 이용하여 동적 토큰을 생성하여 상기 제어부로 송신하는 단계; 상기 제어부가 상기 수신한 동적 토큰, 상기 공개키 및 전송 대상 데이터를 포함하는 어플리케이션 관련 패킷을생성하는 단계; 및 상기 제어부가 상기 어플리케이션 관련 패킷 및 상기 시각 정보를 송수신부를 통하여 인증 서버로 송신하는 단계;를 포함하는 것을 특징으로 하는 사용자 개인키를 활용하여 생성된 동적 토큰을 이용하여 어플리케이션 관련 패킷의 유효성을 인증하는 방법."}
{"patent_id": "10-2018-0138643", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제12항에 있어서,상기 공개키는 상기 메모리에 저장된 사용자 개인키에 포함된 공개키인 것을 특징으로 하는 사용자 개인키를 활용하여 생성된 동적 토큰을 이용하여 어플리케이션 관련 패킷의 유효성을 인증하는 방법."}
{"patent_id": "10-2018-0138643", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제12항에 있어서,상기 동적 토큰 생성부는 어플리케이션 메타 정보 변형부, 조합 정보 생성부 및 암호화부를 포함하고,상기 동적 토큰 생성부가 동적 토큰을 생성하는 방법에 있어서,상기 어플리케이션 메타 정보 변형부가 상기 제어부로부터 수신한 어플리케이션 메타 정보를 1차 처리하는단계;상기 조합 정보 생성부가 상기 1차 처리된 어플리케이션 메타 정보를 상기 제어부로부터 수신한 시각 정보와 2공개특허 10-2020-0055251-5-차 처리하여 조합 정보를 생성하는 단계; 및상기 암호화부가 상기 생성된 조합 정보를 상기 제어부로부터 수신한 공개키로 암호화 처리하여 동적 토큰을 생성하는 단계;를 포함하는 것을 특징으로 하는 사용자 개인키를 활용하여 생성된 동적 토큰을 이용하여 어플리케이션 관련 패킷의 유효성을 인증하는 방법."}
{"patent_id": "10-2018-0138643", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제14항에 있어서,상기 1차 처리는 단방향 HASH 처리, 인코딩 처리 및 암호화 처리 중 어느 하나의 처리인 것을 특징으로 하는 사용자 개인키를 활용하여 생성된 동적 토큰을 이용하여 어플리케이션 관련 패킷의 유효성을 인증하는 방법."}
{"patent_id": "10-2018-0138643", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제14항에 있어서,상기 2차 처리는,상기 시각 정보를 상기 1차 처리된 어플리케이션 메타 정보와 동일한 길이로 보정하는 단계; 및상기 보정된 시각 정보를 상기 1차 처리된 어플리케이션 메타 정보와 연산을 수행하는 단계;를 포함하는 것을 특징으로 하는 사용자 개인키를 활용하여 생성된 동적 토큰을 이용하여 어플리케이션 관련 패킷의 유효성을 인증하는 방법."}
{"patent_id": "10-2018-0138643", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제16항에 있어서,상기 보정하는 방법은,상기 시각 정보를 ZERO PADDING 하여 상기 1차 처리된 어플리케이션 메타 정보와 동일한 길이로 보정하는 방법인 것을 특징으로 하는 사용자 개인키를 활용하여 생성된 동적 토큰을 이용하여 어플리케이션 관련 패킷의 유효성을 인증하는 방법."}
{"patent_id": "10-2018-0138643", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "제16항에 있어서,상기 연산은 논리 연산 중 어느 하나의 연산인 것을 특징으로 하는 사용자 개인키를 활용하여 생성된 동적 토큰을 이용하여 어플리케이션 관련 패킷의 유효성을 인증하는 방법."}
{"patent_id": "10-2018-0138643", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_19", "content": "사용자 단말과 인증 서버 간 어플리케이션 관련 패킷 유효성을 인증하기 위하여 사용자 개인키를 활용한 동적토큰을 생성하는 사용자 단말에 있어서,어플리케이션 및 상기 인증 서버로 송신되는 전송 대상 데이터가 저장되는 메모리;메모리에 저장된 어플리케이션 메타 정보, 시각 정보 및 메모리에 저장된 사용자 개인키에 포함된 공개키를 동적 토큰 생성부로 송신하고, 상기 동적 토큰 생성부로부터 수신한 동적 토큰, 상기 공개키 및 상기 전송 대상데이터를 포함하는 어플리케이션 관련 패킷 및 상기 시각 정보를 송수신부를 통하여 상기 인증 서버로 송신하는공개특허 10-2020-0055251-6-제어부; 상기 제어부로부터 상기 어플리케이션 메타 정보, 상기 시각 정보 및 상기 공개키를 수신하여 동적 토큰을 생성하고, 상기 생성된 동적 토큰을 상기 제어부로 송신하는 동적 토큰 생성부; 및상기 제어부로부터 수신한 상기 어플리케이션 관련 패킷 및 상기 시각 정보를 상기 인증 서버로 송신하는 송수신부;를 포함하는 것을 특징으로 하는 사용자 단말."}
{"patent_id": "10-2018-0138643", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_20", "content": "어플리케이션 배포자, 사용자 단말 및 인증 서버를 포함하는 어플리케이션 유효성 인증 시스템에 있어서, 상기 어플리케이션 배포자로부터 어플리케이션 메타 정보 및 개발자 서명 정보를 수신하고, 상기 수신된 어플리케이션 메타 정보 및 상기 개발자 서명 정보를 변형하여 생성한 제2 변형 데이터와 공개키를 포함하는 사용자개인키를 상기 어플리케이션 배포자에게 송신하는 인증 서버;어플리케이션 메타 정보 및 개발자 서명 정보를 인증 서버로 송신하고, 상기 인증 서버로부터 수신한 사용자 개인키 활용하여 어플리케이션 위변조 여부를 판단할 수 있는 로직이 적용된 어플리케이션을 상기 사용자 단말로송신하는 어플리케이션 배포자; 및상기 어플리케이션 배포자로부터 수신한 상기 어플리케이션에 포함된 상기 어플리케이션 메타 정보, 상기 개발자 서명 정보 및 상기 사용자 개인키를 활용하여 상기 수신한 어플리케이션의 위변조 여부를 판단하고, 상기 어플리케이션 메타 정보 및 시각 정보를 상기 사용자 개인키에 포함된 공개키를 이용하여 암호화한 동적 토큰을활용하여 상기 인증 서버로 송신하는 어플리케이션 관련 패킷의 유효성을 인증하는 사용자 단말;을 포함하는 것을 특징으로 하는 어플리케이션 유효성 인증 시스템."}
{"patent_id": "10-2018-0138643", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 사용자 개인키를 활용한 어플리케이션 위변조 판단 방법 및 동적 토큰을 활용한 어플리케이션 관련 패 킷 유효성 인증 방법 및 그 시스템에 있어서, 송수신부, 제어부, 메모리 및 제1 변형 데이터 생성부를 포함하는 사용자 단말이 어플리케이션 위변조 여부를 판단하는 방법에 있어서, 상기 제1 변형 데이터 생성부가 어플리케이 (뒷면에 계속)"}
{"patent_id": "10-2018-0138643", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 사용자 개인키를 활용한 어플리케이션 위변조 판단 방법, 동적 토큰을 활용한 어플리케이션 관련 패 킷 유효성 인증 방법 및 그 시스템 에 관한 것으로, 보다 구체적으로는 사용자 개인키에 포함된 정보를 활용하 여 어플리케이션 배포자로부터 수신한 어플리케이션의 위변조를 판단하고, 사용자 개인키에 포함된 정보를 활용 하여 생성한 동적 토큰을 이용하여 인증 서버가 수신하는 어플리케이션과 관련된 어플리케이션 관련 패킷의 유 효성을 인증하는 방법 및 그 시스템에 관한 것이다."}
{"patent_id": "10-2018-0138643", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "현재 다양한 어플리케이션이 만들어지고 배포되며 활용되고 있다. 어플리케이션이 배포되는 과정에서 정당한 어 플리케이션 배포자에 의해 생성된 정당한 어플리케이션이 아닌, 제3자에 의해 위조 또는 변조된 어플리케이션이 배포되는 경우가 있다. 이렇게 정당한 어플리케이션 배포자의 허락이 없이 수행되는 어플리케이션 위조 또는 변 조 행위는 정당한 어플리케이션 배포자의 재산권을 침해할 수 있다. 그리고, 올바른 어플리케이션에 악성 코드 등이 포함되는 등의 방법으로 위조 또는 변조된 어플리케이션이 배포되는 경우, 사용자 단말이 악성 코드에 노 출될 수 있는 문제점이 있다. 그리고, 인증 서버가 사용자 단말로부터 어플리케이션 관련 패킷을 수신하는 과정에서, 인증 서버가 수신하는 어플리케이션 관련 패킷이 악의적 사용자에 의하여 위조 또는 변조될 수 있는 문제점도 있다. 이를 방지하기 위 하여 여러가지 암호화 방식이 사용되고 있는데, 공개키 암호화 방식도 그 중 하나이다. 공개키 암호화 방식은 공개키와 비밀키 두 개의 키를 사용하는데, 공개키를 이용해서 암호화하고 비밀키를 이용해서 복호화하는 방법 을 사용한다. 공개키를 이용해서는 암호화된 데이터를 복호화할 수 없다. 따라서, 여러 사람이 공유하는 공개키 가 유출되어도 암호화된 데이터의 유출이 문제되지 않는다. 그러나, 공개키 방식을 사용하더라도 사용자 단말이 어플리케이션 관련 패킷을 인증 서버로 송신하는 과정에서, 어플리케이션 관련 패킷을 수정하거나 거짓 어플리케이션 관련 패킷을 생성하는 악의적 사용자에 의한 중간자 공격(MITM; MAN IN THE MIDDLE)에 의하여 인증 서버는 잘못된 어플리케이션 관련 패킷을 수신할 수 있는 문제점 이 여전히 존재한다. 또한, 인증 서버는 유효한 메시지를 복제하여 재송신된 유효한 메시지로 가장된 어플리케 이션 관련 패킷 공격인 재전송 공격(REPLAY ATTACK)에 노출될 수 있는 문제점도 존재한다."}
{"patent_id": "10-2018-0138643", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 전술한 문제 및 다른 문제를 해결하는 것을 목적으로 한다. 또 다른 목적은 사용자 단말이 수신하는 어플리케이션의 위조 또는 변조 여부를 판단할 수 있는 방법 및 그 시스템을 제공함에 있다. 그리고, 사용자 단 말이 인증 서버로 송신하는 어플리케이션 관련 패킷의 유효성을 인증할 수 있는 방법 및 그 시스템을 제공함에 있다."}
{"patent_id": "10-2018-0138643", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 또는 다른 목적을 달성하기 위해 본 발명의 일 측면에 따르면, 송수신부, 제어부, 메모리 및 제1 변형 데 이터 생성부를 포함하는 사용자 단말이 어플리케이션 위변조 여부를 판단하는 방법에 있어서, 상기 제1 변형 데 이터 생성부가 어플리케이션 메타 정보 및 개발자 서명 정보를 기 설정된 로직으로 변형하여 제1 변형 데이터를 생성하여 상기 제어부로 송신하는 단계; 상기 제어부가 상기 메모리에 저장된 상기 어플리케이션으로부터 상기 어플리케이션에 포함된 사용자 개인키에서 제2 변형 데이터를 추출하는 단계; 및 상기 제어부가 상기 수신된 제 1 변형 데이터와 상기 추출된 제2 변형 데이터의 동일성 여부를 확인하는 단계;를 포함하는 것을 특징으로 하는 사용자 개인키를 활용한 어플리케이션 위변조 판단 방법을 제공한다. 그리고, 본 발명의 또 다른 일 측면에 따르면, 사용자 개인키를 활용하여 어플리케이션 위변조 여부를 판단하는 사용자 단말에 있어서, 어플리케이션 배포자로부터 어플리케이션을 수신하는 송수신부; 상기 수신된 어플리케이 션이 저장되는 메모리; 어플리케이션 메타 정보 및 개발자 서명 정보를 기 설정된 로직으로 변형하여 제1 변형 데이터를 생성하고, 상기 생성된 제1 변형 데이터를 상기 제어부로 송신하는 제1 변형 데이터 생성부; 및 상기 송수신부로부터 수신된 어플리케이션을 메모리에 저장하고, 상기 메모리에 저장된 어플리케이션으로부터 상기 어플리케이션 메타 정보 및 상기 개발자 서명 정보를 추출하여 상기 제1 변형 데이터 생성부로 송신하며, 상기 메모리에 저장된 어플리케이션으로부터 제2 변형 데이터를 추출하고, 상기 제1 변형 데이터 생성부로부터 수신 된 상기 제1 변형 데이터와 상기 메모리로부터 추출된 상기 제2 변형 데이터의 동일성 여부를 판단하여 상기 메 모리에 저장된 어플리케이션의 위변조 여부를 판단하는 제어부;를 포함하는 것을 특징으로 하는 사용자 단말을 제공한다. 또한, 본 발명의 또 다른 일 측면에 따르면, 송수신부, 제어부, DB, 제2 변형 데이터 생성부 및 공개키 생성부 를 포함하는 인증 서버가 사용자 개인키를 생성하는 방법에 있어서, 상기 제2 변형 데이터 생성부가 어플리케이 션 메타 정보 및 개발자 서명 정보를 변형하여 제2 변형 데이터를 생성하는 단계; 상기 공개키 생성부가 공개키 및 비밀키를 생성하는 단계; 및 상기 제어부가 상기 제2 변형 데이터 및 상기 공개키를 포함하는 사용자 개인키 를 생성하는 단계;를 포함하는 것을 특징으로 하는 사용자 개인키 생성 방법을 제공한다. 또, 본 발명의 또 다른 일 측면에 따르면, 어플리케이션 배포자로부터 어플리케이션 메타 정보 및 개발자 서명 정보를 수신하고, 상기 어플리케이션 배포자에게 제어부에의해 생성된 사용자 개인키를 송신하는 송수신부; 상 기 어플리케이션 메타 정보 및 상기 개발자 서명 정보를 변형하여 변형 데이터를 생성하는 제2 변형 데이터 생 성부; 공개키 및 비밀키를 생성하는 공개키 생성부; 상기 변형 데이터 및 상기 공개키를 포함하는 사용자 개인 키를 생성하고 상기 생성된 사용자 개인키를 DB에 저장하며, 상기 송수신부를 통하여 상기 생성된 사용자 개인 키를 상기 어플리케이션 배포자에게 송신하는 제어부; 및 상기 어플리케이션 메타 정보, 상기 개발자 서명 정보 및 상기 생성된 사용자 개인키가 저장되는 DB;를 포함하는 것을 특징으로 하는 인증 서버를 제공한다. 또, 본 발명의 또 다른 일 측면에 따르면, 송수신부, 제어부, 메모리 및 동적 토큰 생성부를 포함하는 사용자 단말이 사용자 개인키를 활용하여 생성된 동적 토큰을 이용하여 인증 서버로 송신하는 어플리케이션 관련 패킷 의 유효성을 인증하는 방법에 있어서, 상기 동적 토큰 생성부가 메모리에 저장된 어플리케이션 메타 정보, 시각정보 및 메모리에 저장된 공개키를 이용하여 동적 토큰을 생성하여 상기 제어부로 송신하는 단계; 상기 제어부 가 상기 수신한 동적 토큰, 상기 공개키 및 전송 대상 데이터를 포함하는 어플리케이션 관련 패킷을 생성하는 단계; 및 상기 제어부가 상기 어플리케이션 관련 패킷 및 상기 시각 정보를 송수신부를 통하여 인증 서버로 송 신하는 단계;를 포함하는 것을 특징으로 하는 사용자 개인키를 활용하여 생성된 동적 토큰을 이용하여 어플리케 이션 관련 패킷의 유효성을 인증하는 방법을 제공한다. 또, 본 발명의 또 다른 일 측면에 따르면, 사용자 단말과 인증 서버 간 어플리케이션 관련 패킷 유효성을 인증 하기 위하여 사용자 개인키를 활용한 동적 토큰을 생성하는 사용자 단말에 있어서, 어플리케이션 및 상기 인증 서버로 송신되는 전송 대상 데이터가 저장되는 메모리; 메모리에 저장된 어플리케이션 메타 정보, 시각 정보 및 메모리에 저장된 사용자 개인키에 포함된 공개키를 동적 토큰 생성부로 송신하고, 상기 동적 토큰 생성부로부터 수신한 동적 토큰, 상기 공개키 및 상기 전송 대상 데이터를 포함하는 어플리케이션 관련 패킷 및 상기 시각 정 보를 송수신부를 통하여 상기 인증 서버로 송신하는 제어부; 상기 제어부로부터 상기 어플리케이션 메타 정보, 상기 시각 정보 및 상기 공개키를 수신하여 동적 토큰을 생성하고, 상기 생성된 동적 토큰을 상기 제어부로 송 신하는 동적 토큰 생성부; 및 상기 제어부로부터 수신한 상기 어플리케이션 관련 패킷 및 상기 시각 정보를 상 기 인증 서버로 송신하는 송수신부;를 포함하는 것을 특징으로 하는 사용자 단말을 제공한다. 또한, 본 발명의 또 다른 일 측면에 따르면, 어플리케이션 배포자, 사용자 단말 및 인증 서버를 포함하는 어플 리케이션 유효성 인증 시스템에 있어서, 상기 어플리케이션 배포자로부터 어플리케이션 메타 정보 및 개발자 서 명 정보를 수신하고, 상기 수신된 어플리케이션 메타 정보 및 상기 개발자 서명 정보를 변형하여 생성한 제2 변 형 데이터와 공개키를 포함하는 사용자 개인키를 상기 어플리케이션 배포자에게 송신하는 인증 서버; 어플리케 이션 메타 정보 및 개발자 서명 정보를 인증 서버로 송신하고, 상기 인증 서버로부터 수신한 사용자 개인키 활 용하여 어플리케이션 위변조 여부를 판단할 수 있는 로직이 적용된 어플리케이션을 상기 사용자 단말로 송신하 는 어플리케이션 배포자; 및 상기 어플리케이션 배포자로부터 수신한 상기 어플리케이션에 포함된 상기 어플리 케이션 메타 정보, 상기 개발자 서명 정보 및 상기 사용자 개인키를 활용하여 상기 수신한 어플리케이션의 위변 조 여부를 판단하고, 상기 어플리케이션 메타 정보 및 시각 정보를 상기 사용자 개인키에 포함된 공개키를 이용 하여 암호화한 동적 토큰을 활용하여 상기 인증 서버로 송신하는 어플리케이션 관련 패킷의 유효성을 인증하는 사용자 단말;을 포함하는 것을 특징으로 하는 어플리케이션 유효성 인증 시스템을 제공한다."}
{"patent_id": "10-2018-0138643", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 의하면, 사용자 개인키를 활용하여 사용자 단말이 어플리케이션 배포자로부터 수신한 어플리케이션의 위변조 여부를 검증할 수 있어 사용자 단말의 안전한 어플리케이션 사용을 보장받을 수 있는 효과가 있다. 그리고, 본 발명에 의하면, 인증 서버는 사용자 단말로부터 수신되는 어플리케이션 관련 패킷에 대하여, 어플리 케이션 관련 패킷을 수정하거나 거짓 어플리케이션 관련 패킷을 생성하는 악의적 사용자에 의한 중간자 공격 (MITM; MAN IN THE MIDDLE)으로부터 안전성을 보장받을 수 있는 효과가 있다. 또한, 본 발명에 의하면, 인증 서버는 유효한 메시지를 복제하여 재송신된 유효한 메시지로 가장된 어플리케이 션 관련 패킷 공격인 재전송 공격(REPLAY ATTACK)으로부터 안전성을 보장받을 수 있는 효과가 있다."}
{"patent_id": "10-2018-0138643", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면을 참조하여 본 명세서에 개시된 실시 예를 상세히 설명하되, 도면 부호에 관계없이 동일하거 나 유사한 구성요소는 동일한 참조 번호를 부여하고 이에 대한 중복되는 설명은 생략하기로 한다. 이하의 설명 에서 사용되는 구성요소에 대한 접미사 \"모듈\" 및 \"부\"는 명세서 작성의 용이함만이 고려되어 부여되거나 혼용 되는 것으로서, 그 자체로 서로 구별되는 의미 또는 역할을 갖는 것은 아니다. 또한, 본 명세서에 개시된 실시 예를 설명함에 있어서 관련된 공지 기술에 대한 구체적인 설명이 본 명세서에 개시된 실시 예의 요지를 흐릴 수 있다고 판단되는 경우 그 상세한 설명을 생략한다. 또한, 첨부된 도면은 본 명세서에 개시된 실시 예를 쉽게 이 해할 수 있도록 하기 위한 것일 뿐, 첨부된 도면에 의해 본 명세서에 개시된 기술적 사상이 제한되지 않으며, 본 발명의 사상 및 기술 범위에 포함되는 모든 변경, 균등물 내지 대체물을 포함하는 것으로 이해되어야 한다. 제1, 제2 등과 같이 서수를 포함하는 용어는 다양한 구성요소들을 설명하는데 사용될 수 있지만, 상기 구성요소 들은 상기 용어들에 의해 한정되지는 않는다. 상기 용어들은 하나의 구성요소를 다른 구성요소로부터 구별하는 목적으로만 사용된다. 어떤 구성요소가 다른 구성요소에 \"연결되어\" 있다거나 \"접속되어\" 있다고 언급된 때에는, 그 다른 구성요소에 직접적으로 연결되어 있거나 또는 접속되어 있을 수도 있지만, 중간에 다른 구성요소가 존재할 수도 있다고 이 해되어야 할 것이다. 반면에, 어떤 구성요소가 다른 구성요소에 \"직접 연결되어\" 있다거나 \"직접 접속되어\" 있 다고 언급된 때에는, 중간에 다른 구성요소가 존재하지 않는 것으로 이해되어야 할 것이다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함한다. 본 출원에서, \"포함한다\" 또는 \"가지다\" 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 동작, 구성요소, 부 품 또는 이들을 조합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되 어야 한다. 본 명세서에서 설명되는 단말에는 휴대폰, 스마트 폰(smart phone), 노트북 컴퓨터(laptop computer), 디지털방 송용 단말기, PDA(personal digital assistants), PMP(portable multimedia player), 네비게이션, 슬레이트 PC(slate PC), 태블릿 PC(tablet PC), 울트라북(ultrabook), 웨어러블 디바이스(wearable device, 예를 들어, 워치형 단말기 (smartwatch), 글래스형 단말기 (smart glass), HMD(head mounted display)), 휴대형 인공지능 스피커 등의 이동 단말이 포함될 수 있다. 그러나, 본 명세서에 기재된 실시 예에 따른 구성은 이동 단말기에만 적용 가능한 경우를 제외하면, 디지털 TV, 데스크탑 컴퓨터, 디지털 사이니지, 인공지능 스피커 등과 같은 고정 단말기에도 적용될 수도 있음을 본 기술분 야의 당업자라면 쉽게 알 수 있을 것이다. 도 1은 본 발명의 일 실시 예에 따른 어플리케이션 유효성 인증 시스템을 도시한 도면이다. 도 1을 참조하면, 어플리케이션 유효성 인증 시스템은 인증 서버, 사용자 단말 및 어플리케이션 배포자의 조합으로 구성될 수 있다. 도 1을 참조하여 본 발명에 따른 어플리케이션 유효성 인증 시스템 의 일 실시 예를 간단하게 설명한다. 인증 서버는 어플리케이션 배포자로부터 어플리케이션 메타 정보 및 개발자 서명 정보를 수신할 수 있고, 수신된 어플리케이션 메타 정보 및 개발자 서명 정보를 변형하여 제2 변형 데이터를 생성할 수 있으며,공개키/비밀키를 생성할 수 있고, 상기 생성한 제2 변형 데이터 및 상기 공개키를 포함하는 사용자 개인키를 어 플리케이션 배포자에게 송신할 수 있다. 어플리케이션 배포자는 사용자 개인키 생성을 위한 어플리케이션 메타 정보 및 개발자 서명 정보를 인증 서버로 송신할 수 있고, 상기 인증 서버로부터 수신한 사용자 개인키 활용하여 어플리케이션 위변조 여부를 판단할 수 있는 로직이 적용된 어플리케이션을 상기 사용자 단말로 송신하여 배포할 수 있다. 사용자 단말은 어플리케이션 배포자로부터 어플리케이션을 수신할 수 있고, 수신한 어플리케이션에 포함된 어플리케이션 메타 정보, 개발자 서명 정보 및 사용자 개인키를 활용하여 수신한 어플리케이션의 위변조 여부를 판단할 수 있으며, 인증 서버로 어플리케이션과 관련된 어플리케이션 관련 패킷을 송신할 때, 인증 서버로 송신하는 어플리케이션 관련 패킷의 유효성을 인증하기 위하여 어플리케이션 메타 정보 및 시각 정 보를 상기 사용자 개인키에 포함된 공개키를 이용하여 암호화한 동적 토큰을 활용하여, 동적 토큰 및 전송 대상 데이터를 포함한 어플리케이션 관련 패킷을 시각 정보와 함께 인증 서버로 송신할 수 있다. 인증 서버는 상기 수신한 어플리케이션 메타 정보, 시각 정보 및 공개키를 이용하여 동적 토큰의 유효성을 인증하여 함께 수신된 전송 대상 데이터의 유효성을 인증할 수 있다. 그리고, 사용자 단말은 상기 어플리케이션 관련 패킷에 동적 토큰의 TTL(TIME TO LIVE) 정보를 함께 포함 하여 송신할 수 있고, 인증 서버는 상기 수신한 동적 토큰의 TTL 정보와 시각 정보를 이용하여 동적 토큰 의 유효성을 한번 더 확인할 수 있다. 도 2는 본 발명의 일 실시 예에 따른 인증 서버를 도시한 블록도이다. 도 2를 참조하여 본 발명의 일 실시 예에 따른 인증 서버를 보다 자세하게 설명하면, 인증 서버는 송 수신부, 제어부, DB, 제2 변형 데이터 생성부 및 공개키 생성부를 포함할 수 있다. 송수신부는 어플리케이션 배포자로부터 어플리케이션 메타 정보 및 개발자 서명 정보를 수신할 수 있 고, 상기 어플리케이션 배포자에게 제어부에의해 생성된 사용자 개인키를 송신할 수 있으며, 사용자 단말로부터 어플리케이션 관련 패킷 및 시각 정보를 수신할 수 있고, 사용자 단말로 어플리케이션 관 련 패킷을 송신할 수 있다. 제2 변형 데이터 생성부는 어플리케이션 메타 정보 및 개발자 서명 정보를 변형하여 변형 데이터를 생성할 수 있다. 보다 자세하게, 제2 변형 데이터 생성부는 제어부에 의하여 DB에 저장된 어플리케이션 메타 정보 및 개발자 서명 정보를 수신할 수 있고, 수신된 어플리케이션 메타 정보 및 개발자 서명 정보를 이용 하여 변형된 변형 데이터를 생성할 수 있다. 상기 변형 방법은 어플리케이션 메타 정보 및 개발자 서명 정보를 기 설정된 규칙에 의하여 결합한 후 변형하는 방법일 수 있는데, 상기 결합 방법은 단순히 상기 어플리케이션 메타 정보 및 개발자 서명 정보를 단순히 나열하여 결합하는 방법일 수 있고, 어플리케이션 메타 정보 및 개발 자 서명 정보와 함께 특정 데이터를 삽입하여 결합하는 방법일 수 있으며, 그 외 어플리케이션 메타 정보 및 개 발자 서명 정보가 포함될 수 있는 다양한 방법으로 결합될 수 있다. 그리고, 상기 결합된 정보를 변형하는 방법 에 있어서, 상기 결합된 정보를 단방향 HASH 처리하는 방법일 수 있고, 인코딩 처리하는 방법일 수 있으며, 공 개키/비밀키를 이용하여 암호화 처리하는 방법일 수 있다. 공개키 생성부는 공개키 및 비밀키를 생성할 수 있다. 상기 생성된 공개키 및 비밀키는 제어부에 의 해 DB에 저장될 수 있다. 제어부는 제2 변형 데이터 생성부에의해 생성된 제2 변형 데이터 및 공개키 생성부에의해 생성 된 공개키를 포함하는 사용자 개인키를 생성할 수 있고, 상기 생성된 사용자 개인키를 DB에 저장할 수 있 으며, 상기 생성된 사용자 개인키를 송수신부를 통하여 상기 어플리케이션 배포자에게 송신할 수 있 고, 사용자 단말로부터 수신된 어플리케이션 관련 패킷, 시각 정보 및 TTL 정보를 이용하여 어플리케이션 관련 패킷의 유효성을 인증할 수 있다. DB에는 어플리케이션 배포자로부터 수신된 어플리케이션 메타 정보 및 개발자 정보가 저장될 수 있고, 제어부에 의해 생성된 사용자 개인키 가 저장될 수 있으며, 사용자 단말로부터 수신된 어플리 케이션 관련 패킷, 시각 정보 및 TTL 정보가 저장될 수 있다.도 3은 본 발명의 일 실시 예에 따른 사용자 단말을 도시한 블록도이다. 도 3을 참조하여 본 발명의 일 실시 예에 따른 사용자 단말을 보다 자세하게 설명하면, 사용자 단말 은 송수신부, 제어부, 메모리, 제1 변형 데이터 생성부 및 동적 토큰 생성부를 포함 할 수 있다. 송수신부는 어플리케이션 배포자로부터 어플리케이션을 수신할 수 있고, 인증 서버로 동적 토큰, 공개키, TTL(TIME TO LIVE) 정보 및 전송 대상 데이터를 포함하는 어플리케이션 관련 패킷 및 시각 정보 를 송신할 수 있다. 제1 변형 데이터 생성부는 제어부로부터 메모리에 저장된 어플리케이션 메타 정보 및 개발자 서 명 정보를 수신하여 어플리케이션 메타 정보 및 개발자 서명 정보를 기 설정된 로직으로 변형하여 제1 변형 데 이터를 생성할 수 있고, 상기 생성된 제1 변형 데이터를 상기 제어부로 송신할 수 있다. 제1 변형 데이터 생성부는 상기 인증 서버의 제2 변형 데이터 생성부와 동일한 방법으로 변형 데이터를 생성할 수 있다. 보다 자세하게 설명하면, 제1 변형 데이터 생성부는 제어부에 의하여 메모리에 저장된 어플리케이션에 포함되어 있는 어플리케이션 메타 정보 및 개발자 서명 정보를 수신할 수 있고, 수신된 어플리 케이션 메타 정보 및 개발자 서명 정보를 이용하여 변형된 변형 데이터를 생성할 수 있다. 상기 변형 방법은 어 플리케이션 메타 정보 및 개발자 서명 정보를 기 설정된 규칙에 의하여 결합한 후 변형하는 방법일 수 있는데, 상기 결합 방법은 단순히 상기 어플리케이션 메타 정보 및 개발자 서명 정보를 단순히 나열하여 결합하는 방법 일 수 있고, 어플리케이션 메타 정보 및 개발자 서명 정보와 함께 특정 데이터를 삽입하여 결합하는 방법일 수 있으며, 그 외 어플리케이션 메타 정보 및 개발자 서명 정보가 포함될 수 있는 다양한 방법으로 결합될 수 있다. 그리고, 상기 결합된 정보를 변형하는 방법에 있어서, 상기 결합된 정보를 단방향 HASH 처리하는 방법일 수 있고, 인코딩 처리하는 방법일 수 있으며, 공개키/비밀키를 이용하여 암호화 처리하는 방법일 수 있다. 제어부는 상기 송수신부로부터 수신된 어플리케이션을 메모리에 저장할 수 있고, 상기 메모리 에 저장된 어플리케이션으로부터 상기 어플리케이션 메타 정보 및 상기 개발자 서명 정보를 추출하여 상기 제1 변형 데이터 생성부로 송신할 수 있으며, 상기 메모리에 저장된 어플리케이션에 포함된 사용자 개인키로부터 제2 변형 데이터를 추출할 수 있고, 상기 제1 변형 데이터 생성부로부터 수신된 상기 제1 변 형 데이터와 상기 메모리에 저장된 사용자 개인키로부터 추출된 상기 제2 변형 데이터의 동일성 여부를 판 단하여 상기 메모리에 저장된 어플리케이션의 위변조 여부를 판단할 수 있다. 그리고, 제어부는 메모 리에 저장된 어플리케이션 메타 정보, 시각 정보 및 메모리에 저장된 사용자 개인키에 포함된 공개키 를 동적 토큰 생성부로 송신할 수 있고, 상기 동적 토큰 생성부로부터 수신한 동적 토큰, 메모리 에 저장된 상기 공개키 및 전송 대상 데이터를 포함하는 어플리케이션 관련 패킷 및 상기 시각 정보를 송 수신부를 통하여 상기 인증 서버로 송신할 수 있다. 또한, 제어부는 시각 정보를 생성할 수 있 는데, 상기 시각 정보는 제어부가 상기 공개키 및 상기 어플리케이션 메타 정보를 동적 토큰 생성부로 송신할 때의 시각 정보이거나 어플리케이션 관련 패킷의 TTL 정보일 수 있다. 동적 토큰 생성부는 제어부로부터 어플리케이션 메타 정보, 시각 정보 및 공개키를 수신하여 동적 토 큰을 생성할 수 있고, 생성된 동적 토큰을 제어부로 송신할 수 있다. 메모리에는 어플리케이션 배포자로부터 수신된 어플리케이션이 저장될 수 있고, 상기 어플리케이션에 는 어플리케이션 메타 정보, 상기 개발자 서명 정보 및 사용자 개인키가 포함될 수 있으며, 상기 사용자 개인키 에는 제2 변형 데이터 및 공개키가 포함될 수 있다. 그리고, 메모리에는 인증 서버로 송신되는 전송 대상 데이터가 저장될 수 있다. 상기 제1 변형 데이터 생성부 및 동적 토큰 생성부는 상기에서 기술된 바와 같이, 각각 독립적인 모 듈로 제어부에 의해 제어될 수 있고, 또는, 제1 변형 데이터 생성부, 동적 토큰 생성부 및 제어 부는 하나의 제어부 모듈로 구현될 수 있다. 도 4는 본 발명의 일 실시 예에 따른 사용자 단말에 포함된 동적 토큰 생성부를 도시한 블록도이다. 도 4를 참조하여 본 발명의 일 실시 예에 따른 동적 토큰 생성부를 보다 자세하게 설명하면, 동적 토큰 생 성부는 어플리케이션 메타 정보 변형부, 조합 정보 생성부 및 암호화부를 포함할 수 있다. 어플리케이션 메타 정보 변형부는 제어부로부터 수신한 어플리케이션 메타 정보를 1차 처리할 수 있 다. 1차 처리는 단방향 HASH 처리, 인코딩 처리 및 공개키를 이용한 암호화 처리 중 어느 하나의 처리일 수 있 다. 조합 정보 생성부는 상기 1차 처리된 어플리케이션 메타 정보를 상기 제어부로부터 수신한 시각 정보 와 2차 처리하여 조합 정보를 생성할 수 있다. 2차 처리는 시각 정보를 1차 처리된 어플리케이션 메타 정보와 동일한 길이로 보정하여, 보정된 시각 정보를 1차 처리된 어플리케이션 메타 정보와 연산하는 방법일 수 있다. 상기 시각 정보를 1차 처리된 어플리케이션 메타 정보와 동일한 길이로 보정하는 방법의 일 예로, 시각 정보에 기 저장된 로직에 따른 특정 정보를 더하여 상기 1차 처리된 어플리케이션 메타 정보와 동일한 길이로 보정하는 방법일 수 있고, 시각 정보에 '0'을 더하여 상기 1차 처리된 어플리케이션 메타 정보와 동일한 길이로 보정하는 방법일 수 있으며(ZERO PADDING), 시각 정보에 '1'을 더하여 상기 1차 처리된 어플리케이션 메타 정보와 동일한 길이로 보정하는 방법일 수 있다. 상기 보정된 시각 정보를 1차 처리된 어플리케이션 메타 정보와 연산하는 방법은 논리 연산 중 어느 하나의 연 산일 수 있는데, 그 일 예로 보정된 시각 정보를 1차 처리된 어플리케이션 메타 정보와 XOR 연산하는 방법일 수 있다. 암호화부는 상기 생성된 조합 정보를 제어부로부터 수신한 공개키로 암호화 처리하여 동적 토큰을 생 성할 수 있다. 도 4에 도시된 바와 같이, 동적 토큰 생성부는 어플리케이션 메타 정보 변형부, 조합 정보 생성부 및 암호화부를 포함하는 하나의 모듈로 구성될 수도 있고, 또는, 사용자 단말 내에서 어플리케 이션 메타 정보 변형부, 조합 정보 생성부 및 암호화부가 각각 독립적인 모듈로 구성되어 기능 할 수도 있다. 도 5는 본 발명의 일 실시 예에 따른 인증 서버가 사용자 개인키 를 생성하여 어플리케이션 배포자에 게 송신하고, 어플리케이션 배포자가 사용자 개인키 활용 로직이 적용된 어플리케이션을 사용자 단말(30 0)로 배포하는 과정을 도시한 시그널링 흐름도이다. 이하, 도 5를 참조하여 본 발명의 일 실시 예에 따른 인증 서버가 사용자 개인키를 생성하고, 사용자 개인 키를 수신한 어플리케이션 배포자가 사용자 단말로 어플리케이션을 배포하는 방법에 대하여 자세하게 설명한다. 송수신부, 제어부, DB, 제2 변형 데이터 생성부 및 공개키 생성부를 포함하는 인증 서버가 사용자 개인키를 생성하는 방법에 있어서, 인증 서버의 송수신부가 어플리케이션 배포자 로부터 어플리케이션 메타 정보 및 개발자 서명 정보를 수신할 수 있다(S510). 제2 변형 데이터 생성부는 상기 수신된 어플리케이션 메타 정보 및 개발자 서명 정보를 변형하여 제2 변형 데이터를 생성할 수 있다(S520). 보다 자세하게 설명하면, 제1 변형 데이터 생성부는 제어부에 의하 여 메모리에 저장된 어플리케이션에 포함되어 있는 어플리케이션 메타 정보 및 개발자 서명 정보를 수신할 수 있고, 수신된 어플리케이션 메타 정보 및 개발자 서명 정보를 이용하여 변형된 변형 데이터를 생성할 수 있 다. 상기 변형 방법은 어플리케이션 메타 정보 및 개발자 서명 정보를 기 설정된 규칙에 의하여 결합한 후 변형 할 수 있는데, 상기 결합 방법은 단순히 상기 어플리케이션 메타 정보 및 개발자 서명 정보를 단순히 나열하여 결합하는 방법일 수 있고, 어플리케이션 메타 정보 및 개발자 서명 정보와 함께 특정 데이터를 삽입하여 결합하 는 방법일 수 있으며, 그 외 어플리케이션 메타 정보 및 개발자 서명 정보가 포함될 수 있는 다양한 방법으로 결합될 수 있다. 그리고, 상기 결합된 정보를 변형하는 방법에 있어서, 상기 결합된 정보를 단방향 HASH 처리하 는 방법일 수 있고, 인코딩 처리하는 방법일 수 있으며, 공개키/비밀키를 이용하여 암호화 처리하는 방법일 수 있다. 공개키 생성부가 공개키 및 비밀키를 생성할 수 있다(S530). 제어부는 상기 제2 변형 데이터 및 상기 공개키를 포함하는 사용자 개인키를 생성할 수 있다(S540). 제어 부는 상기 생성된 사용자 개인키를 DB에 저장할 수 있다. 제어부는 송수신부를 통하여 상기 생성된 사용자 개인키를 어플리케이션 배포자에게 송신할 수 있다(S550).어플리케이션 배포자는 상기 수신한 사용자 개인키를 이용하여 사용자 개인키 활용 로직이 적용된 어플리 케이션을 생성할 수 있다(S560). 사용자 개인키 활용 로직이 적용된 어플리케이션은 어플리케이션 메타 정보, 개발자 서명 정보 및 사용자 개인키를 포함하는 어플리케이션으로서, 사용자 단말이 어플리케이션 메타 정 보, 개발자 서명 정보 및 사용자 개인키를 이용하여 수신한 어플리케이션이 위조 또는 변조되었는지 여부를 확 인할 수 있는 어플리케이션이고, 사용자 단말이 인증 서버로 전송 대상 데이터를 포함한 어플리케이 션 관련 패킷을 전송할 때, 사용자 개인키에 포함된 공개키를 이용하여 암호화된 동적 토큰을 활용하여 인증 서 버로 송신하는 어플리케이션 관련 패킷의 유효성을 인증할 수 있는 어플리케이션이다. 동적 토큰을 활용한 어플리케이션 관련 패킷 유효성 인증에 관해서는 아래에서 도 8과 함께 다시 설명한다. 어플리케이션 배포자는 상기 생성된 사용자 개인키 활용 로직이 적용된 어플리케이션을 사용자 단말 로 송신하여 배포할 수 있다(S570). 도 6은 본 발명의 일 실시 예에 따른 사용자 개인키 의 구조를 도시한 도면이다. 도 6을 참조하여 사용자 개인키에 관하여 보다 자세하게 설명하면, 사용자 개인키는 데이터 집합체로서, 헤더 (HEADER), 제2 변형 데이터 및 공개키를 포함할 수 있다. 헤더는 사용자 개인키 전체의 길이, 제2 변형 데이터의 길이 및 공개키의 길이 정보를 포함할 수 있다. 제2 변형 데이터는 제2 변형 데이터 생성부에의해 생성된 데이터로서, 어플리케이션 메타 정보 및 개발자 서명 정보가 변형되어 생성된 데이터이다. 제2 변형 데이터의 생성 방법에 관하여 상기 도 2 및 도 5에서 기재 하였으므로 자세한 설명은 생략한다. 어플리케이션 메타 정보는 어플리케이션을 특정 할 수 있는 정보로서, 예 를 들면, 어플리케이션의 패키지 정보, 클래스 정보, 버전 정보, 파일 사이즈 등을 포함하는 android- manifext.xml 정보 전부 또는 일부의 조합일 수 있다. 공개키는 인증 서버의 공개키 생성부에의해 생성된 공개키이다. 본 발명에 의한 사용자 개인키는 사용자 단말이 어플리케이션 배포자로부터 수신한 어플리케이션의 위조 또는 변조 여부를 판단하는데 사용될 수 있다. 보다 자세하게 설명하면, 사용자 단말은 어플리케이션 배포자로부터 사용자 개인키를 포함하는 어플리케이션을 수신할 수 있고, 수신한 어플리케이션에 포함된 어플리케이션 메타 정보 및 개발자 서명 정보를 이용하여 제1 변형 데이터를 생성할 수 있으며, 어플리케이션에 포함된 사용자 개인키로부터 제2 변형 데이터를 추출하여 상기 생성된 제1 변형 데이터와 상기 추출한 제2 변형 데이터의 동일성 여부를 판단하는 방법으로 어플리케이션의 위조 또는 변조 여부를 판단할 수 있다. 더욱 자세 한 설명은 아래에서 도 7을 참조하여 기술한다. 그리고, 본 발명에 의한 사용자 개인키는 사용자 단말이 인증 서버로 송신하는 어플리케이션과 관련 된 어플리케이션 관련 패킷의 유효성 여부를 인증하는데 사용될 수 있다. 보다 자세하게 설명하면, 사용자 단말 이 인증 서버로 어플리케이션과 관련된 어플리케이션 관련 패킷을 송신할 때, 어플리케이션 메타 정 보 및 시각 정보를 상기 사용자 개인키에 포함된 공개키를 이용하여 암호화하여 동적 토큰을 생성할 수 있다. 사용자 단말은 상기 생성된 동적 토큰 및 전송 대상 데이터를 포함한 어플리케이션 관련 패킷을 시각 정보 와 함께 인증 서버로 송신할 수 있는데, 인증 서버는 상기 어플리케이션 관련 패킷 및 시각 정보를 수신하여 상기 어플리케이션 관련 패킷의 유효성을 확인할 수 있다. 더욱 자세한 설명은 아래에서 도 8 내지 도 10을 참조하여 기술한다. 도 7은 본 발명의 일 실시 예에 따른 사용자 단말이 사용자 개인키를 활용하여 어플리케이션의 위변조 여 부를 판단하는 방법을 도시한 순서도이다. 도 7을 참조하여 사용자 단말이 어플리케이션 위변조 여부를 판단하는 방법을 자세하게 설명하면, 송수신 부, 제어부, 메모리 및 제1 변형 데이터 생성부를 포함하는 사용자 단말에 있어서, 제어부는 메모리에 저장된 어플리케이션으로부터 어플리케이션 메타 정보 및 개발자 서명 정보를 추 출하여, 제1 변형 데이터 생성부로 송신할 수 있다(S710). 제1 변형 데이터 생성부는 상기 제어부로부터 수신한 어플리케이션 메타 정보 및 개발자 서명 정보를 기 설정된 로직으로 변형하여 제1 변형 데이터를 생성할 수 있다(S720). 보다 자세하게 설명하면, 상기 변형 방법은 어플리케이션 메타 정보 및 개발자 서명 정보를 기 설정된 규칙에 의하여 결합한 후 변형하는 방법일 수 있는데, 상기 결합 방법은 단순히 상기 어플리케이션 메타 정보 및 개발자 서명 정보를 단순히 나열하여 결합하 는 방법일 수 있고, 어플리케이션 메타 정보 및 개발자 서명 정보와 함께 특정 데이터를 삽입하여 결합하는 방 법일 수 있으며, 그 외 어플리케이션 메타 정보 및 개발자 서명 정보가 포함될 수 있는 다양한 방법으로 결합될 수 있다. 그리고, 상기 결합된 정보를 변형하는 방법에 있어서, 상기 결합된 정보를 단방향 HASH 처리하는 방법 일 수 있고, 인코딩 처리하는 방법일 수 있으며, 공개키/비밀키를 이용하여 암호화 처리하는 방법일 수 있다. 제어부는 메모리에 저장된 어플리케이션으로부터 상기 어플리케이션에 포함된 사용자 개인키에서 제2 변형 데이터를 추출할 수 있다(S730). 보다 자세하게 설명하면, 사용자 단말이 수신한 어플리케이션에는 사용자 개인키가 포함되어 있고, 상기 사용자 개인키에는 제2 변형 데이터가 포함되어 있는데, 제어부는 메모리에 저장된 어플리케이션으로부터 제2 변형 데이터를 추출할 수 있다. 제어부는 상기 수신된 제1 변형 데이터와 상기 추출된 제2 변형 데이터의 동일성 여부를 확인할 수 있다 (S750). 보다 자세하게 설명하면, 제어부는 상기 제1 변형 데이터와 상기 제2 변형 데이터의 값이 완전히 동일한지 여부를 확인할 수 있는데, 동일한 경우에는 위조 또는 변조되지 않은 올바른 어플리케이션이라고 판단 할 수 있고(S750), 동일하지 않은 경우에는 위조 또는 변조된 어플리케이션이라고 판단할 수 있다(S760). 위조 또는 변조된 어플리케이션일 경우에는 상기 어플리케이션이 삭제되거나 비활성화되는 등의 방법으로 후속 조치 가 행해질 수 있다(미도시). 상기와 같이, 본 발명에 의하면, 사용자 개인키를 활용하여 사용자 단말이 어플리케이션 배포자로부 터 수신한 어플리케이션의 위변조 여부를 검증할 수 있어 사용자 단말이 안전한 어플리케이션 사용을 보장 받을 수 있는 효과가 있다. 도 8은 본 발명의 일 실시 예에 따른 사용자 단말이 인증 서버로 송신되는 어플리케이션 관련 어플리 케이션 관련 패킷의 유효성을 인증하기 위하여 인증 서버로 동적 토큰을 활용한 어플리케이션 관련 패킷 및 시각 정보를 송신하는 시그널링 흐름도이다. 도 8을 참조하여, 사용자 단말이 사용자 개인키를 활용하여 생성된 동적 토큰을 이용하여 인증 서버 로 송신하는 어플리케이션 관련 패킷의 유효성을 인증하는 방법을 자세하게 설명하면, 송수신부, 제어부 , 메모리 및 동적 토큰 생성부를 포함하는 사용자 단말에 있어서, 제어부는 메모리 에 저장된 어플리케이션 메타 정보, 시각 정보 및 메모리에 저장된 공개키를 동적 토큰 생성부 로 송신할 수 있고, 동적 토큰 생성부는 제어부로부터 수신한 어플리케이션 메타 정보, 시각 정보 및 공개키를 이용하여 동적 토큰을 생성할 수 있다(S810). 상기 공개키는 상기 메모리에 저장된 사용자 개인 키에 포함된 공개키이다. 제어부는 동적 토큰 생성부로부터 수신한 동적 토큰, 상기 공개키 및 메모리에 저장된 전송 대 상 데이터를 포함하는 어플리케이션 관련 패킷을 생성할 수 있다(S820). 상기 공개키는 상기 메모리에 저 장된 사용자 개인키에 포함된 공개키이고, 전송 대상 데이터는 동적 토큰 생성부에 포함된 암호화부 에 의하여 공개키로 암호화된 후 어플리케이션 관련 패킷에 포함될 수 있다. 제어부는 상기 어플리케이션 관련 패킷 및 상기 시각 정보를 송수신부를 통하여 인증 서버로 송 신할 수 있다(S830). 인증 서버는 사용자 단말로부터 수신한 어플리케이션 관련 패킷 및 시각 정보를 이용하여 어플리케 이션 관련 패킷의 유효성을 인증할 수 있다(S840). 인증 서버가 어플리케이션 관련 패킷의 유효성 인증 방 법은 제어부가 상기 수신된 어플리케이션 관련 패킷에 포함된 동적 토큰 및 암호화된 전송 대상 데이터를 공개키 생성부에 의해 기 생성된 공개키 및 비밀키 쌍의 비밀키를 이용하여 복호화할 수 있고, 제어부 는 상기 동적 토큰을 비밀키로 복호화하여 조합 정보를 추출한 후 DB에 저장할 수 있다. 그리고, 제 어부는 DB에 저장된 데이터 중에서 상기 수신된 어플리케이션 관련 패킷과 연관된 기 저장된 어플리 케이션 메타 정보를 확인할 수 있고, 상기 어플리케이션 메타 정보와 사용자 단말로부터 수신한 시각 정보 를 이용하여 사용자 단말에서 조합 정보를 생성한 방법과 동일한 방법으로 조합 정보를 생성할 수 있다. 제어부는 상기 동적 토큰으로부터 추출한 조합 정보와 상기 생성한 조합 정보를 비교하여 동일성을 판단하 는 방법으로 어플리케이션 관련 패킷의 유효성을 인증할 수 있다. 그리고, 제어부는 사용자 단말로부 터 수신한 어플리케이션 관련 패킷에 포함된 암호화된 전송 대상 데이터를 비밀키로 복호화하여 상기 전송 대상데이터에 포함된 TTL(TIME TO LIVE) 정보를 추출할 수 있는데, 제어부는 상기 TTL 정보를 이용하여 상기 수신된 어플리케이션 관련 패킷의 유효 기간을 확인할 수 있다. 제어부는 상기 어플리케이션 관련 패킷의 수신 시각과 상기 TTL(TIME TO LIVE) 정보를 대조하여 수신 시각이 TTL 정보에 해당하는 시각보다 늦는 경우, 수신된 어플리케이션 관련 패킷이 무효라고 판단하고, 상기 어플리케이션 관련 패킷을 폐기할 수 있다. 따라서, 인증 서버는 어플리케이션 관련 패킷을 수정하거나 거짓 어플리케이션 관련 패킷을 생성하는 악의 적 사용자에 의한 중간자 공격(MITM; MAN IN THE MIDDLE)으로부터 안전성을 보장받을 수 있다. 그리고, 인증 서버는 유효한 메시지를 복제하여 재송신된 유효한 메시지로 가장된 어플리케이션 관련 패킷 공격인 재전송 공격(REPLAY ATTACK)으로부터 안전성을 보장받을 수 있다. 도 9는 본 발명의 일 실시 예에 따른 사용자 단말이 동적 토큰을 생성하는 방법을 도시한 순서도이다. 도 3, 도 4 및 도 9를 참조하여 사용자 단말의 동적 토큰 생성부에의한 동적 토큰 생성 방법에 관하 여 보다 자세하게 설명하면, 제어부가 메모리에 저장된 어플리케이션으로부터 어플리케이션에 포함된 어플리케이션 메타 정보를 추출할 수 있다(S910). 제어부는 상기 추출한 어플리케이션 메타 정보를 어플리 케이션 메타 정보 변형부로 송신할 수 있다. 어플리케이션 메타 정보 변형부는 상기 제어부로부터 수신한 어플리케이션 메타 정보를 1차 처리할 수 있다(S920). 상기 1차 처리는 단방향 HASH 처리, 인코딩 처리 및 공개키를 이용한 암호화 처리 중 어느 하나 의 처리일 수 있다. 조합 정보 생성부는 상기 어플리케이션 메타 정보 변형부로부터 수신한 상기 1차 처리된 어플리케이 션 메타 정보를 제어부로부터 수신한 시각 정보와 2차 처리하여 조합 정보를 생성할 수 있다(S930). 상기 2차 처리는 시각 정보를 1차 처리된 어플리케이션 메타 정보와 동일한 길이로 보정하여, 보정된 시각 정보를 1 차 처리된 어플리케이션 메타 정보와 연산하는 방법일 수 있다. 상기 시각 정보를 1차 처리된 어플리케이션 메타 정보와 동일한 길이로 보정하는 방법의 일 예로, 시각 정보에 특정 정보를 더하여 상기 1차 처리된 어플리케이션 메타 정보와 동일한 길이로 보정하는 방법이 있을 수 있고, 시각 정보에 더해지는 특정 정보는 모두 '0'이 될 수 있고(ZERO PADDING), '1'이 될 수 있으며, 또는 '0' 과 '1'로 조합된 특정 정보일 수 있다. 상기 보정된 시각 정보를 1차 처리된 어플리케이션 메타 정보와 연산하는 방법은 논리 연산 중 어느 하나의 연 산일 수 있는데, 그 일 예로 보정된 시각 정보를 1차 처리된 어플리케이션 메타 정보와 XOR 연산하는 방법일 수 있다. 암호화부는 상기 생성된 조합 정보를 상기 제어부로부터 수신한 공개키로 암호화 처리하여 동적 토큰 을 생성할 수 있다(S940). 상기 공개키는 상기 메모리에 저장된 사용자 개인키에 포함된 공개키이다. 제어부는 상기 생성된 동적 토큰, 상기 공개키 및 전송 대상 데이터를 포함하는 어플리케이션 관련 패킷을 생성할 수 있다. 도 10은 본 발명의 일 실시 예에 따른 동적 토큰을 활용한 어플리케이션 관련 패킷의 구조를 도시한 도면이다. 이하, 도 10을 참조하여 본 발명의 일 실시 예에 따른 동적 토큰을 활용한 어플리케이션 관련 패킷의 구조를 보 다 자세하게 설명한다. 동적 토큰을 활용한 어플리케이션 관련 패킷은 헤더(HEADER), 동적 토큰(DYNAMIC TOKEN), 공개키(PUBLIC KEY) 및 전송 대상 데이터를 포함할 수 있다. 헤더는 상기 어플리케이션 관련 패킷의 전 체 길이 정보, 동적 토큰의 길이 정보 및 공개키의 길이 정보를 포함할 수 있다. 동적 토큰은 상기 도 9에서 살 핀 바와 같이 어플리케이션 메타 정보 및 시각 정보를 이용하여 생성된 토큰이고, 공개키는 상기 메모리에 저장된 사용자 개인키에 포함된 공개키이다. 전송 대상 데이터는 상기 공개키로 암호화된 데이터일 수 있다. 그 리고, 상기 전송 대상 데이터는 동적 토큰의 TTL(TIME TO LIVE) 정보를 포함할 수 있다. 본 발명에 의하면, 사용자 개인키를 활용하여 사용자 단말이 어플리케이션 배포자로부터 수신한 어플 리케이션의 위변조 여부를 검증할 수 있어 사용자 단말의 안전한 어플리케이션 사용을 보장받을 수 있는효과가 있다. 그리고, 본 발명에 의하면, 인증 서버는 사용자 단말로부터 수신되는 어플리케이션 관련 패킷에 대하 여, 어플리케이션 관련 패킷을 수정하거나 거짓 어플리케이션 관련 패킷을 생성하는 악의적 사용자에 의한 중간 자 공격(MITM; MAN IN THE MIDDLE)으로부터 안전성을 보장받을 수 있는 효과가 있다. 또한, 본 발명에 의하면, 인증 서버는 유효한 메시지를 복제하여 재송신된 유효한 메시지로 가장된 어플리 케이션 관련 패킷 공격인 재전송 공격(REPLAY ATTACK)으로부터 안전성을 보장받을 수 있는 효과가 있다. 본 발명은 본 발명의 정신 및 필수적 특징을 벗어나지 않는 범위에서 다른 특정한 형태로 구체화될 수 있음은 당업자에게 자명하다. 전술한 본 발명은, 프로그램이 기록된 매체에 컴퓨터가 읽을 수 있는 코드로서 구현하는 것이 가능하다. 컴퓨터 가 읽을 수 있는 매체는, 컴퓨터로 실행 가능한 프로그램을 계속 저장하거나, 실행 또는 다운로드를 위해 임시 저장하는 것일 수도 있다. 또한, 매체는 단일 또는 수개 하드웨어가 결합된 형태의 다양한 기록수단 또는 저장 수단일 수 있는데, 어떤 컴퓨터 시스템에 직접 접속되는 매체에 한정되지 않고, 네트워크 상에 분산 존재하는 것일 수도 있다. 매체의 예시로는, 하드 디스크, 플로피 디스크 및 자기 테이프와 같은 자기 매체, CD-ROM 및 DVD와 같은 광기록 매체, 플롭티컬 디스크(floptical disk)와 같은 자기-광 매체(magneto-optical medium), 및 ROM, RAM, 플래시 메모리 등을 포함하여 프로그램 명령어가 저장되도록 구성된 것이 있을 수 있다. 또한, 다른 매체의 예시로, 애플리케이션을 유통하는 앱 스토어나 기타 다양한 소프트웨어를 공급 내지 유통하는 사이트, 서버 등에서 관리하는 기록매체 내지 저장매체도 들 수 있다. 또한, 상기 컴퓨터는 단말기의 제어부를 포함할 수도 있다. 따라서, 상기의 상세한 설명은 모든 면에서 제한적으로 해석되어서는 아니 되고 예시적인 것으로 고려되어야 한 다. 본 발명의 범위는 첨부된 청구항의 합리적 해석에 의해 결정되어야 하고, 본 발명의 등가적 범위 내에서의 모든 변경은 본 발명의 범위에 포함된다."}
{"patent_id": "10-2018-0138643", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시 예에 따른 어플리케이션 유효성 인증 시스템을 도시한 도면이다. 도 2는 본 발명의 일 실시 예에 따른 인증 서버를 도시한 블록도이다. 도 3은 본 발명의 일 실시 예에 따른 사용자 단말을 도시한 블록도이다. 도 4는 본 발명의 일 실시 예에 따른 사용자 단말에 포함된 동적 토큰 생성부를 도시한 블록도이다. 도 5는 본 발명의 일 실시 예에 따른 인증 서버가 사용자 개인키를 생성하여 어플리케이션 배포자에게 송신하고, 어플리케이션 배포자가 사용자 개인키 활용 로직이 적용된 어플리케이션을 사용자 단말로 배포하는 과정을 도시한 시그널링 흐름도이다.도 6은 본 발명의 일 실시 예에 따른 사용자 개인키의 구조를 도시한 도면이다. 도 7은 본 발명의 일 실시 예에 따른 사용자 단말이 사용자 개인키를 활용하여 어플리케이션의 위변조 여부를 판단하는 방법을 도시한 순서도이다. 도 8은 본 발명의 일 실시 예에 따른 사용자 단말이 인증 서버로 송신되는 어플리케이션 관련 어플리케이션 관 련 패킷의 유효성을 인증하기 위하여 인증 서버로 동적 토큰을 활용한 어플리케이션 관련 패킷 및 시각 정보를 송신하는 시그널링 흐름도이다. 도 9는 본 발명의 일 실시 예에 따른 사용자 단말이 동적 토큰을 생성하는 방법을 도시한 순서도이다. 도 10은 본 발명의 일 실시 예에 따른 동적 토큰을 활용한 어플리케이션 관련 패킷의 구조를 도시한 도면이다."}
