{"patent_id": "10-2022-0142077", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0060966", "출원번호": "10-2022-0142077", "발명의 명칭": "비전 기술을 이용한 아날로그 계기판 검출 방법", "출원인": "(주)데이터센트릭", "발명자": "한동희"}}
{"patent_id": "10-2022-0142077", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "이미지 취득 장치로부터 아날로그 계기판을 촬영한 이미지를 획득하는 제1 단계;획득한 이미지로부터 상기 아날로그 계기판의 테두리와 접하도록 사각 박스를 추출하는 제2 단계;상기 사각 박스의 소정의 기준점을 기준으로 상기 사각 박스의 네 모서리 중 대각선 방향에 있는 제1 모서리 좌표 및 제2 모서리 좌표를 추출하는 제3 단계;상기 획득한 이미지로부터 상기 사각 박스의 소정의 기준점을 기준으로 상기 아날로그 계기판 내의 아날로그 바늘의 계기 값 지시점을 나타내는 제1 끝점 좌표 및 상기 지시점의 반대편인 제2 끝점 좌표를 추출하는 제4단계;상기 아날로그 계기판의 최소값에 대응하는 아날로그 바늘의 최소 값 각도, 상기 아날로그 계기판의 최대값에대응하는 아날로그 바늘의 최대 값 각도, 및 상기 제1 끝점 좌표 및 상기 제2 끝점 좌표를 이용하여 추출한 상기 아날로그 바늘의 계기 값 각도를 추출하는 제5 단계; 및 상기 아날로그 바늘의 최대 값 각도, 상기 아날로그 바늘의 계기 값 각도 및 상기 아날로그 계기판의 최대 값을이용하여 상기 아날로그 바늘의 계가 값 각도에 대응하는 아날로그 바늘의 계기 값을 계산하는 단계;를 포함하여, 아날로그 계기판의 측정 값을 획득하는 것을 특징으로 하는 비전 기술을 이용한 아날로그 계기판검출 방법."}
{"patent_id": "10-2022-0142077", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1 항에 있어서,각 좌표 값들은 상기 계기판의 제1 모서리 좌표를 기준 좌표로 설정하여 산출되는 것을 특징으로 하는 비전 기술을 이용한 아날로그 계기판 검출 방법."}
{"patent_id": "10-2022-0142077", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2 항에 있어서,각 좌표 값들은 상기 계기판의 사각 박스의 중심을 기준 좌표로 재설정하여 산출되도록 좌표 값들을 이동시켜산출하는 것을 특징으로 하는 비전 기술을 이용한 아날로그 계기판 검출 방법."}
{"patent_id": "10-2022-0142077", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3 항에 있어서,상기 제5 단계는,상기 아날로그 바늘의 계기 값 각도는 상기 제1 끝점 좌표의 역 탄젠트 값을 구한 각도 값에, 상기 아날로그 계기판의 최소 값 좌표를 이용하여 구한 아날로그 계기판 최소 값에 대응하는 각도 값을 반영하여 보정함으로써산출되는 것을 특징으로 하는 비전 기술을 이용한 아날로그 계기판 검출 방법."}
{"patent_id": "10-2022-0142077", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "공개특허 10-2024-0060966-3-제4 항에 있어서,상기 제5 단계는,상기 아날로그 계기판의 최소 값에 대응하는 아날로그 바늘의 최소 값 각도는, 기 저장된 최소 값 대응 각도 또는 기 저장된 상기 아날로그 계기판의 최소 값 좌표를 이용하며,상기 아날로그 계기판의 최대값에 대응하는 아날로그 바늘의 최대 값 각도는, 기 저장된 상기 아날로그 계기판의 최대 값 좌표 또는 기 저장된 상기 아날로그 계기판의 최대 값 대응 각도를 이용하는 것을 특징으로 하는 비전 기술을 이용한 아날로그 계기판 검출 방법."}
{"patent_id": "10-2022-0142077", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제4 항에 있어서,상기 제5 단계는,상기 아날로그 계기판의 최소 값에 대응하는 아날로그 바늘의 최소 값 각도는, 상기 아날로그 계기판의 최소 값좌표의 역 탄젠트 값을 구한 각도이며,상기 아날로그 계기판의 최대값에 대응하는 아날로그 바늘의 최대 값 각도는, 상기 아날로그 계기판의 최대 값좌표의 역 탄젠트 값을 구한 각도에, 상기 아날로그 계기판의 최소 값 좌표를 이용하여 구한 아날로그 계기판최소 값에 대응하는 각도 값을 반영하여 보정함으로써 산출되는 것을 특징으로 하는 비전 기술을 이용한 아날로그 계기판 검출 방법."}
{"patent_id": "10-2022-0142077", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제4 항에 있어서,상기 제6 단계에서,상기 아날로그 바늘의 계기 값은 상기 아날로그 바늘의 최대 값 각도와 상기 아날로그 계기판의 최대 값의 비율에 상기 아날로그 바늘의 계기 값 각도를 반영하여 계산되는 것을 특징으로 하는 비전 기술을 이용한 아날로그계기판 검출 방법."}
{"patent_id": "10-2022-0142077", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7 항에 있어서,상기 제5 단계에서,상기 제1 끝점 좌표 및 상기 제2 끝점 좌표를 지나는 직선을 추출하는 단계;상기 추출된 직선이 상기 사각 박스의 중심을 통과하도록 평행이동 하는 단계; 및상기 평행이동 된 직선으로 상기 제1 끝점 좌표 및 상기 제2 끝점 좌표를 보정하는 단계; 를포함하는 것을 특징으로 하는 비전 기술을 이용한 아날로그 계기판 검출 방법."}
{"patent_id": "10-2022-0142077", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "이미지 취득 장치로부터 아날로그 계기판을 촬영한 학습용 이미지를 획득하는 제1 단계; 획득한 이미지로부터상기 아날로그 계기판의 테두리와 접하도록 사각 박스를 추출하는 제2 단계; 상기 사각 박스의 소정의 기준점을기준으로 상기 사각 박스의 네 모서리 중 대각선 방향에 있는 제1 모서리 좌표 및 제2 모서리 좌표를 추출하는제3 단계; 를 포함하여 획득한 사각 박스의 모서리 좌표 값, 아날로그 바늘의 양 끝 좌표 값 및 이에 대응하는GT(Ground truth) 값을 입력 값으로 하여 상기 아날로그 계기판의 각 좌표를 예측하기 위한 파라미터 값을 학습공개특허 10-2024-0060966-4-하는 인공 지능 학습 단계;이미지 취득 장치로부터 아날로그 계기판을 촬영한 측정용 이미지를 획득하는 단계; 상기 인공 지능 학습 단계를 통해 취득한 각 좌표 예측 파라미터 값을 이용하여, 상기 획득한 이미지로부터 아날로그 계기판에 대응하는 사각 박스의 양 끝 좌표와, 상기 아날로그 계기판 바늘의 양 끝점 좌표를 예측하는단계;상기 아날로그 계기판의 최소값에 대응하는 아날로그 바늘의 최소 값 각도, 상기 아날로그 계기판의 최대값에대응하는 아날로그 바늘의 최대 값 각도, 및 상기 제1 끝점 좌표 및 상기 제2 끝점 좌표를 이용하여 추출한 상기 아날로그 바늘의 계기 값 각도를 추출하는 단계; 및상기 아날로그 바늘의 최대 값 각도, 상기 아날로그 바늘의 계기 값 각도 및 상기 아날로그 계기판의 최대 값을이용하여 상기 아날로그 바늘의 계가 값 각도에 대응하는 아날로그 바늘의 계기 값을 계산하는 단계;를 포함하여 아날로그 계기판의 측정 값은 인식하는 것을 특징으로 하는 비전 기술을 이용한 아날로그 계기판검출 방법."}
{"patent_id": "10-2022-0142077", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9 항에 있어서,상기 각도 추출 단계는,상기 아날로그 바늘의 계기 값 각도는 상기 제1 끝점 좌표의 역 탄젠트 값을 구한 각도 값에, 상기 아날로그 계기판의 최소 값 좌표를 이용하여 구한 아날로그 계기판 최소 값에 대응하는 각도 값을 반영하여 보정함으로써산출되고,상기 계기 값 계산 단계에서,상기 아날로그 바늘의 계기 값은 상기 아날로그 바늘의 최대 값 각도와 상기 아날로그 계기판의 최대 값의 비율에 상기 아날로그 바늘의 계기 값 각도를 반영하여 계산되는 것을 특징으로 하는 비전 기술을 이용한 아날로그계기판 검출 방법."}
{"patent_id": "10-2022-0142077", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명에 따른 아날로그 계기판 검출 방법은 획득한 이미지로부터 사각 박스를 추출하는 단계, 사각 박스의 제1 모서리 좌표 및 제2 모서리 좌표를 추출하는 단계, 아날로그 계기판 내의 아날로그 바늘의 계기 값 지시점을 나 타내는 제1 끝점 좌표 및 지시점의 반대편인 제2 끝점 좌표를 추출하는 단계, 아날로그 바늘의 최소 값 각도, 아 날로그 바늘의 최대 값 각도, 및 아날로그 바늘의 계기 값 각도를 추출하는 단계 및 아날로그 바늘의 최소 값 각 도, 아날로그 바늘의 최대 값 각도, 아날로그 바늘의 계기 값 각도 및 아날로그 계기판의 최대 값을 이용하여 아 날로그 바늘의 계가 값 각도에 대응하는 아날로그 바늘의 계기 값을 계산하는 단계를 포함한다."}
{"patent_id": "10-2022-0142077", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 아날로그 계기판을 촬영한 이미지를 통해 아날로그 계기판을 검출하는 방법에 관한 것이다."}
{"patent_id": "10-2022-0142077", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "본 특허는 정보통신산업진흥원의 2022년 공개SW 기업성장 지원사업 사업을 통해 지원되는 출원 건이다. 일반적으로 제조 공장에서 제품 생산 공정의 상태 데이터를 수집하기 위해서는 기존 공정에 설치되어 있는 PLC(Programmable Logic Controller)에 추가 연결하거나 신규 PLC 또는 센서를 설치해야 하는데, 이 과정에서 공정을 멈추거나 공정 설비에 추가 작업이 필요하게 된다. 잘 동작 중이던 기존 설비에 물리적인 수정으로 인하 여 발생할 수 있는 오동작이나 공장 설비가 멈춰야 하는 만큼 운영하는 입장에서는 부담스러운 작업이다. 또한 기존 PLC 설비와 연결하여 데이터를 수집하고자 할 때 PLC를 설계한 업체와의 업무협의가 필요한데, 오래 된 공정의 경우 PLC 설비 업체와 업무협의를 하기 어려운 경우가 발생하여 데이터 수집을 어렵게 한다. 이에 따라 기존 설비의 물리적 수정이나 중단없이 제품 생산 공정에 설치된 아날로그 계기판의 데이터를 수집하 는 방법의 필요성이 대두되었다."}
{"patent_id": "10-2022-0142077", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 제조 공장 등의 제품 생산 공정에서의 공정의 물리적인 수정이나, 생산 공정의 중단 없이도 공장 등 에 기 설치된 아날로그 계기판을 자동으로 계측할 수 있는 데이터 수집 방법을 제공하는 것을 그 목적으로 한다."}
{"patent_id": "10-2022-0142077", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기의 목적을 달성하기 위한 본 발명의 일 실시예에 따르면 비전 기술을 이용한 아날로그 계기판 검출 방법은, 이미지 취득 장치로부터 아날로그 계기판을 촬영한 이미지를 획득하는 제1 단계; 획득한 이미지로부터 상기 아 날로그 계기판의 테두리와 접하도록 사각 박스를 추출하는 제2 단계; 상기 사각 박스의 소정의 기준점을 기준으 로 상기 사각 박스의 네 모서리 중 대각선 방향에 있는 제1 모서리 좌표 및 제2 모서리 좌표를 추출하는 제3 단 계; 상기 획득한 이미지로부터 상기 사각 박스의 소정의 기준점을 기준으로 상기 아날로그 계기판 내의 아날로 그 바늘의 계기 값 지시점을 나타내는 제1 끝점 좌표 및 상기 지시점의 반대편인 제2 끝점 좌표를 추출하는 제4 단계; 상기 아날로그 계기판의 최소값에 대응하는 아날로그 바늘의 최소 값 각도, 상기 아날로그 계기판의 최대 값에 대응하는 아날로그 바늘의 최대 값 각도, 및 상기 제1 끝점 좌표 및 상기 제2 끝점 좌표를 이용하여 추출 한 상기 아날로그 바늘의 계기 값 각도를 추출하는 제5 단계; 및 상기 아날로그 바늘의 최대 값 각도, 상기 아 날로그 바늘의 계기 값 각도 및 상기 아날로그 계기판의 최대 값을 이용하여 상기 아날로그 바늘의 계가 값 각 도에 대응하는 아날로그 바늘의 계기 값을 계산하는 단계;를 포함하여, 아날로그 계기판의 측정 값을 획득한다. 일 실시예에서, 각 좌표 값들은 상기 계기판의 제1 모서리 좌표를 기준 좌표로 설정하여 산출된다. 일 실시예에서, 각 좌표 값들은 상기 계기판의 사각 박스의 중심을 기준 좌표로 재설정하여 산출되도록 좌표 값 들을 이동시켜 산출한다. 일 실시예에서, 상기 제5 단계는, 상기 아날로그 바늘의 계기 값 각도는 상기 제1 끝점 좌표의 역 탄젠트 값을 구한 각도 값에, 상기 아날로그 계기판의 최소 값 좌표를 이용하여 구한 아날로그 계기판 최소 값에 대응하는 각도 값을 반영하여 보정함으로써 산출된다. 일 실시예에서, 상기 제5 단계는, 상기 아날로그 계기판의 최소 값에 대응하는 아날로그 바늘의 최소 값 각도는, 기 저장된 최소 값 대응 각도 또는 기 저장된 상기 아날로그 계기판의 최소 값 좌표를 이용하며, 상기 아날로그 계기판의 최대값에 대응하는 아날로그 바늘의 최대 값 각도는, 기 저장된 상기 아날로그 계기판의 최 대 값 좌표 또는 기 저장된 상기 아날로그 계기판의 최대 값 대응 각도를 이용한다. 일 실시예에서, 상기 제5 단계는, 상기 아날로그 계기판의 최소 값에 대응하는 아날로그 바늘의 최소 값 각도는, 상기 아날로그 계기판의 최소 값 좌표의 역 탄젠트 값을 구한 각도이며, 상기 아날로그 계기판의 최대 값에 대응하는 아날로그 바늘의 최대 값 각도는, 상기 아날로그 계기판의 최대 값 좌표의 역 탄젠트 값을 구한 각도에, 상기 아날로그 계기판의 최소 값 좌표를 이용하여 구한 아날로그 계기판 최소 값에 대응하는 각도 값을 반영하여 보정함으로써 산출된다. 일 실시예에서, 상기 제6 단계에서, 상기 아날로그 바늘의 계기 값은 상기 아날로그 바늘의 최대 값 각도와 상 기 아날로그 계기판의 최대 값의 비율에 상기 아날로그 바늘의 계기 값 각도를 반영하여 계산된다. 일 실시예에서, 상기 제5 단계에서, 상기 제1 끝점 좌표 및 상기 제2 끝점 좌표를 지나는 직선을 추출하는 단계; 상기 추출된 직선이 상기 사각 박스의 중심을 통과하도록 평행이동 하는 단계; 및 상기 평행이동 된 직선 으로 상기 제1 끝점 좌표 및 상기 제2 끝점 좌표를 보정하는 단계; 를포함한다. 본 발명의 또 다른 실시 형태에 따른 비전 기술을 이용한 아날로그 계기판 검출 방법은, 이미지 취득 장치로부 터 아날로그 계기판을 촬영한 학습용 이미지를 획득하는 제1 단계; 획득한 이미지로부터 상기 아날로그 계기판 의 테두리와 접하도록 사각 박스를 추출하는 제2 단계; 상기 사각 박스의 소정의 기준점을 기준으로 상기 사각 박스의 네 모서리 중 대각선 방향에 있는 제1 모서리 좌표 및 제2 모서리 좌표를 추출하는 제3 단계; 를 포함하 여 획득한 사각 박스의 모서리 좌표 값, 아날로그 바늘의 양 끝 좌표 값 및 이에 대응하는 GT(Ground truth) 값 을 입력 값으로 하여 상기 아날로그 계기판의 각 좌표를 예측하기 위한 파라미터 값을 학습하는 인공 지능 학습 단계; 이미지 취득 장치로부터 아날로그 계기판을 촬영한 측정용 이미지를 획득하는 제a 단계; 상기 a 단계에서 획득한 이미지로부터 아날로그 계기판에 대응하는 사각 박스의 양 끝 좌표와, 상기 아날로그 계기판 바늘의 양 끝점 좌표를 예측하는 단계; 상기 아날로그 계기판의 최소값에 대응하는 아날로그 바늘의 최소 값 각도, 상기 아날로그 계기판의 최대값에 대응하는 아날로그 바늘의 최대 값 각도, 및 상기 제1 끝점 좌표 및 상기 제2 끝점 좌표를 이용하여 추출한 상기 아날로그 바늘의 계기 값 각도를 추출하는 단계; 및 상기 아날로그 바늘의 최대값 각도, 상기 아날로그 바늘의 계기 값 각도 및 상기 아날로그 계기판의 최대 값을 이용하여 상기 아날로그 바 늘의 계가 값 각도에 대응하는 아날로그 바늘의 계기 값을 계산하는 단계;를 포함하여 아날로그 계기판의 측정 값은 인식한다. 일 실시예에서, 상기 각도 추출 단계는,상기 아날로그 바늘의 계기 값 각도는 상기 제1 끝점 좌표의 역 탄젠트 값을 구한 각도 값에, 상기 아날로그 계기판의 최소 값 좌표를 이용하여 구한 아날로그 계기판 최소 값에 대응 하는 각도 값을 반영하여 보정함으로써 산출되고, 상기 계기 값 계산 단계에서, 상기 아날로그 바늘의 계기 값 은 상기 아날로그 바늘의 최대 값 각도와 상기 아날로그 계기판의 최대 값의 비율에 상기 아날로그 바늘의 계기 값 각도를 반영하여 계산된다."}
{"patent_id": "10-2022-0142077", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따른 비전 기술을 이용한 아날로그 계기판 검출 방법은 제조 공장 등의 제품 생산 공정에서의 공정의 물리적인 수정이나, 생산 공정의 중단 없이도 공장 등에 기 설치된 아날로그 계기판을 자동으로 계측할 수 있는 효과가 있다. 또한 본 발명에 따른 비전 기술을 이용한 아날로그 계기판 검출 방법은, 인공 지능 학습을 통해 이미지로부터 획득된 아날로그 계기판의 바늘 좌표만으로 계기판의 측정 값을 검출할 수는 효과가 있다."}
{"patent_id": "10-2022-0142077", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하 첨부된 도면을 참조하면서 본 발명에 따른 바람직한 실시예를 상세히 설명하기로 한다. 이에 앞서, 본 명 세서 및 청구범위에 사용된 용어나 단어는 통상적이거나 사전적인 의미로 한정해서 해석되어서는 아니 되며, 발 명자는 그 자신의 발명을 가장 최선의 방법으로 설명하기 위해 용어의 개념을 적절하게 정의할 수 있다는 원칙 에 입각하여, 본 발명의 기술적 사상에 부합하는 의미와 개념으로 해석되어 야만 한다. 따라서, 본 명세서에 기재된 실시예와 도면에 도시된 구성은 본 발명의 가장 바람직한 일 실시예에 불과할 뿐이 고 본 발명의 기술적 사상을 모두 대변하는 것은 아니므로, 본 출원시점에 있어서 이들을 대체할 수 있는 다양 한 균등물과 변형예들이 있을 수 있음을 이해하여야 한다. 도 1은 본 발명의 일 실시예에 따른 아날로그 계기판 검출 방법을 나타낸 흐름도이다. 도 2는 도 1에 따른 아날로그 계기판 검출 과정의 모습을 개략적으로 나타낸다. 도 1을 참조하면, 본 발명의 일 실시예에 따른 아날로그 계기판 검출 방법은 아날로그 계기판 이미지 획득 단계 (S110), 사각 박스 추출 단계(S120), 사각 박스 모서리 좌표 획득 단계(S130), 아날로그 바늘 양 끝 좌표 획득 단계(S140), 아날로그 바늘 계기 값 각도 추출 단계(S150) 및 아날로그 바늘의 계기 값 산출 단계(S160)를 포함 한다. 먼저 아날로그 계기판 이미지 획득 단계(S110)는 도 2에 도시된 바와 같이 이미지 취득 장치, 예를 들어, 생산 공장 내의 아날로그 계기판을 바라보도록 설치된 CCTV를 통해 아날로그 계기판을 촬영하여 그 이미지를 취득한다. 이때 이미지 취득 장치는 소정 시간 별로 이미지를 주기적으로 촬영할 수도 있으며, 동영상을 촬영하는 카 메라로부터 이미지를 추출할 수도 있을 것이다. 사각 박스 추출 단계(S120)는 획득한 이미지로부터 아날로그 계기판의 테두리와 접하도록 사각 박스를 추출한다. 상기 사각 박스는 계기판의 중심을 기준으로 아날로그 계기판을 모두 포함하도록 추출되는 것이 바 람직하다. 도 3은 아날로그 계기판의 촬영 이미지에서 사각 박스 및 좌표를 획득하는 예를 개략적으로 나타낸다. 도 3을 참조하면, 사각 박스은 그 모서리가 아날로그 계기판의 테두리가 접하도록 아날로그 계기판 이미지를 잘라서 획득한다. 그리고 사각 박스 모서리 좌표 획득 단계(S130)는, 사각 박스의 소정의 기준점을 기준으로 사각 박스의 네 모서 리 중 대각선 방향에 있는 제1 모서리 좌표 및 제2 모서리 좌표를 추출한다. 이 경우, 사각 박스의 정 중앙을 기준 좌표, 즉 (x, y) =(0, 0)으로 설정하고 제1 모서리 좌표 및 제2 모서리 좌표를 추출 할 수도 있지만, 사각 박스의 네 모서리 중 1개를 기준좌표로 설정하고 나머지 점들의 좌표를 추출하는 것이 좀 더 편리할 것이다. 만일 도 3에서 제1 모서리 좌표을 박스 시작점으로 잡고 이 지점을 기준 좌표로 설정하고 나머지 좌표들을 상기 제1 모서리 좌표을 기준으로 추출할 수 있을 것이다. 각 좌표들은 사각 박 스의 모서리를 소정 거리로 분할함으로써 각 지점의 좌표를 정할 수 있을 것이다. 아날로그 바늘 양 끝 좌표 획득 단계(S140)에서는 상기 획득한 이미지로부터 상기 사각 박스의 소정의 기 준점을 기준으로 상기 아날로그 계기판 내의 아날로그 바늘의 계기 값 지시점을 나타내는 제1 끝점 좌표 및 상기 지시점의 반대편인 제2 끝점 좌표를 추출한다. 이제 제1 끝점 좌표 및 제2 끝점 좌표도 상기 제1 모서리 좌표을 기준으로 사각 박스를 소정 거 리로 분할한 후, 해당 좌표를 추출할 수 있다. 또한, 제1 끝점 좌표 및 제2 끝점 좌표가 카메라의 촬영 각도 등에 의해 오차가 발생될 수 있기 때문 에, 제1 끝점 좌표 및 제2 끝점 좌표를 지나는 직선을 추출하는 단계, 추출된 직선이 사각 박스의 중심을 통과 하도록 평행이동 하는 단계 및 평행이동 된 직선으로 상기 제1 끝점 좌표 및 상기 제2 끝점 좌표를 보정하는 단 계를 통해 제1 끝점 좌표 및 제2 끝점 좌표 수정 보완할 수도 있을 것이다. 도 4는 아날로그 계기판의 최소값 좌표 및 최대값 좌표를 추출하는 예를 나타낸다. 아날로그 바늘 계기 값 각도 추출 단계(S150)에서는 아날로그 계기판의 최소값에 대응하는 아날로그 바늘 의 최소 값 각도, 상기 아날로그 계기판의 최대값에 대응하는 아날로그 바늘의 최대 값 각도, 및 상기 제1 끝점 좌표 및 상기 제2 끝점 좌표를 이용하여 추출한 상기 아날로그 바늘의 계기 값 각도를 추출한다. 이를 위해 도 4에 도시된 바와 같이, 먼저, 아날로그 계기판의 최소 값 각도를 구하기 위해서, 먼저 아날 로그 계기판의 최소 값 좌표를 취득해야 한다. 아날로그 계기판의 최소 값 좌표는 기 저장된 아날로그 계 기판 최소 값 각도를 이용하여 산출할 수 있거나, 아니면, 아날로그 계기판의 최소 값 각도 자체가 사전에 저장 되어 있을 수도 있을 것이다. 한편, 도 4에 도시된 바와 같이 아날로그 계기판의 최소 값 좌표 및 최대값 좌표은 사전에 기 저장된 값을 이용할 수도 있고, 앞서 사각 박스의 모서리 좌표나 아날로그 바늘의 좌표를 구하는 방식을 적용하여 구할 수 있다. 한편, 획득한 좌표값을 이용해서, 아날로그 계기판의 최소 값 각도, 최대 값 각도 및 아날로그 바늘의 계기 값 각도를 산출해야 하는데, 이는 각 좌표의 역 탄젠트 방정식을 이용하면 쉽게 산출될 수 있다. 이를 위해 먼저, 각 좌표들이 사각 박스의 어느 한 모서리를 기준 좌표로 산출된 경우, 이 좌표 값들을 계기 판 의 중심, 즉 사각 박스의 중심을 기준 좌표로 옮긴 값들로 이동되도록 변형시켜야 한다. 도 5는 기준 좌표를 변경하여 좌표 값을 변경하는 모습을 나타낸다. 도 5를 참조하면, 기준 좌표가 사각 박스의 어느 한 모서리로 설정한 것을 사각 박스의 중심으로 이동시키도록 변형하게 되면, 사각 박스의 중심과 아날로그 계기판의 중심이 일치하기 때문에, 아날로그 계기판의 중앙을 중 심으로 회전하는 바늘의 위치, 또는 이들의 최소 값 각도, 최대 값 각도를 쉽게 산출할 수 있다. 또한, 도 5를 참조하면 아날로그 계기판의 중심과 좌표의 중심이 일치하기 때문에, 각 좌표가 아날로그 계기판 의 중심을 기준으로 상대적이 각도를 판단하는 것이 가능하다. 도 6은 임의의 좌표가 기준선으로부터의 각도를 구하는 모습을 나타낸다. 도 6에 도시된 바와 같이, 사각 박스의 중심을 기준으로 각 좌표 값이 보정되었을 때, 각 좌표는 사각 박스의 기준 선, 예를 들어 사각 박스의 수평 방향 직선을 기준으로 회전된 각도를 다음과 같은 역탄젠트 함수(atan)를 이용하여 파악할 수 있다. 수학식 1"}
{"patent_id": "10-2022-0142077", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "수학식 2"}
{"patent_id": "10-2022-0142077", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "수학식 3"}
{"patent_id": "10-2022-0142077", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "위에서 구한 각도(θ)는 아날로그 계기판의 최소 값 좌표가 사각 박스의 수평 방향을 기준으로 한 각도이기 때 문에, 아날로그 계기판의 계기 값 각도를 파악하기 위해서는, 먼저 아날로그 계기판의 최소 값 각도(θ_min)를 획득하여, 이를 반영할 필요가 있다. 도 7은 아날로그 계기판의 최소 값 각도와 최대 값 각도를 산출하는 모습을 나타낸다. 아날로그 계기판의 최소 값에 대응하는 계기판 최소 값 각도(θ_min)는 기 저장된 최소 값 대응 각도 또는 기 저장된 아날로그 계기판의 최소 값 각도를 이용할 수 있다. 또는 도 7에 도시된 바와 같이, 아날로그 계기판의 최소 값에 대응하는 계기판 최소 값 각도(θ_min)는, 아날로그 계기판 최소 값 좌표의 역 탄젠트 값을 구하여 산출할 수도 있을 것이다. 그리고 나서 아날로그 계기판의 바늘 계기 값에 대응하는 각도(θ_det)를 구하기 위해서는 수학식 1에서 구한 아날로그 계기판의 제1 끝점 좌표의 역탄젠트 값에 아날로그 계기판의 최소 값에 대응하는 계기판 최소 값 각도 (θ_min)을 반영하면 추출될 수 있다. 또한 이렇게 구한 아날로그 계기판의 바늘 계기 값에 대응하는 각도(θ_det)로부터 아날로그 계기 값을 산출하 기 위해서는, 아날로그 계기판의 최대 값과 최대 값 각도(θ_max)도 파악해야 한다. 상기 아날로그 계기판의 최대값에 대응하는 아날로그 바늘의 최대 값 각도(θ_max)는, 기 저장된 상기 아날로그 계기판의 최대 값 좌표 또는 기 저장된 상기 아날로그 계기판의 최대 값 대응 각도를 이용할 수도 있으며, 도 7 에 도시된 바와 같이, 상기 아날로그 계기판의 최대 값 좌표의 역 탄젠트 값을 구한 각도에, 상기 아날로그 계 기판의 최소 값 좌표(θ_min)를 이용하여 구한 아날로그 계기판 최소 값에 대응하는 각도 값을 반영하여 보정함으로써 산출될 수도 있을 것이다. 다시 도 1을 참조하면, 아날로그 바늘의 계기 값 산출 단계(S160)에서는 상기 아날로그 바늘의 최소 값 각도(θ _min), 상기 아날로그 바늘의 최대 값 각도, (θ_max) 상기 아날로그 바늘의 계기 값 각도(θ_det) 및 상기 아 날로그 계기판의 최대 값을 이용하여 상기 아날로그 바늘의 계가 값 각도에 대응하는 아날로그 바늘의 계기 값 을 계산할 수 있다. 수학식 4"}
{"patent_id": "10-2022-0142077", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "item": 5, "content": "도 8은 각 각도를 보정하기 위한 설명도이다. 도 8과 수학식 4를 참조하면, θ_det 의 비율을 계산하기 위하여 θ_Max를 0도로 하도록 모든 각도를 회전하는 보정을 수행하는데, 위 수식에서 adjust 함수는 y 각도와 360도의 차이를 계산하고 그 차이만큼 x 값을 보정하 는 함수이다. 결국 보정은 θ_min 과 θ_det 에 대해서 이뤄진다. 수학식 5"}
{"patent_id": "10-2022-0142077", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "여기서 value_max = 실제 계기의 최대 값이다. 최대 값 각도(θ_max)의 각도를 기준(0도)으로 최소 값 각도(θ_min)와 계기 값 각도(θ_det)를 수학식 4를 통 하여 보정한다. 보정된 각도에서 수학식 5의 수식에 따라 최소 값 각도(θ_min)와 계기 값 각도(θ_det)의 비율 을 계산한 값을 실제 계기의 최대 값에 적용한 하면 아날로그 계 값(x)을 산출할 수 있다. 한편, 아날로그 계기판의 바늘이 가리키는 계측 값 각도는 최소 값 각도를 통한 보정 방법이 아닌 최소값 좌표 값 및 최대값 좌표를 반영하여 수학식을 통해 바로 산출할 수도 있을 것이다. 도 9는 본 발명에 다른 실시예에 따른 인공지능 학습을 통한 비전 기술을 이용한 아날로그 계기판 검출 방법의 흐름을 나타낸다. 도 9를 참조하면, 본 발명의 다른 실시예에 따른 인공지능 학습을 통한 비전 기술을 이용한 아날로그 계기판 검 출 방법은 학습용 아날로그 계기판 이미지 획득 단계(S210), 사각 박스 추출 단계(S220), 사각 박스 모서리 좌 표 획득 단계(S230), 아날로그 바늘 양 끝 좌표 획득 단계(S240) 및 인공 지능 학습 진행 단계(S250), 계측을 위한 아날로그 계기판 이미지에서 아날로그 바늘의 끝 좌표를 획득하는 단계(S260), 아날로그 바늘 계기 값 각 도 추출 단계(S270), 아날로그 바늘의 계기 값 산출 단계(S280) 및 아날로그 계기판 계기 값 추정 단계(S290)를 포함한다. 도 9는 도 1의 아날로그 계기판 검출 방법의 과정을 학습용 이미지를 통해 인공 지능 학습을 수행하여 아날로그 바늘의 좌표 값을 예측하고 그 이후, 수학식을 통한 아날로그 계기판의 측정 값을 계산함으로써 계기 값을 검 출하는 방법을 이용한다. 이에 따라 학습 과정에서 설명되는 S210 단계 내지 S240 단계는 도 1의 S110 단계 내지 S140 단계와 학습용 이 미지를 사용한다는 점을 제외하고는 그 과정이 동일하다. 도 9를 참조하면, S210 단계 내지 S240 단계를 거친 후, 사각 박스의 모서리 좌표 값과 아날로그 바늘의 양 끝 좌표 값을 GT(Ground truth) 값으로 입력 값으로 하여 상기 아날로그 계기판을 측정하기 위한 파라미터 값을 학 습하는 인공 지능 학습을 수행한다. 그리고 S260 단계에서는, 이미지 취득 장치로부터 아날로그 계기판을 촬영한 측정용 이미지를 획득하는 제a 단 계; 획득한 이미지로부터 상기 아날로그 계기판의 테두리와 접하도록 추출되고, 상기 아날로그 계기판의 중심을 기준으로 한 사각 박스를 추출하는 제b 단계; 상기 사각 박스의 소정의 기준점을 기준으로 상기 사각 박스의 네 모서리 중 대각선 방향에 있는 제1 모서리 좌표 및 제2 모서리 좌표를 추출하는 제c 단계; 를 포함하여, 상기 획득한 이미지로부터 상기 사각 박스의 소정의 기준점을 기준으로 상기 아날로그 계기판 내의 아날로그 바늘의 계기 값 지시점을 나타내는 바늘 끝점 좌표를 예측한다. 이 때 아날로그 계기판의 최소 값, 및 최대 값 좌표도 같이 예측할 수 있을 것이다. 그리고 S270 단계에서는, S260 단계에서 예측한 바늘 끝점 좌표 값을 통하여 아날로그 바늘 계기 값 각도 추출 한다. 그리고 S280 단계에서는 S270 단계에서 추출한 아날로그 바늘 계기 값의 각도와 상기 아날로그 계기판을 측정하 기 위한 파라미터 값을 통해 상기 아날로그 계기판의 측정 값을 인식하게 된다. 이와 같이 인공 지능 학습을 통해 계기 값 측정을 위한 파라미터를 획득하게 되면, 도 1와 같은 바늘이 가리키 는 계기 값을 계산하는 과정없이도 아날로그 계기판의 좌표 값만을 통해 바늘이 가리키는 계기 값을 쉽게 예측 또는 검출할 수 있게 된다. 한편, 본 발명의 다른 인공 지능 학습 방법을 통한 좌표 값 인식 방법에서는, 좌표 값 인식 및 이를 통한 각도 계산 그리고 각도 값을 바탕으로 계기 값을 산출하는 과정을 학습함으로써, 측정용 이미지로부터 바로 바늘이 가리키는 계가 값을 인식하는 방법을 이용할 수도 있다. 즉, 본 발명의 다른 실시 형태에 따른 비전 기술을 이용한 아날로그 계기판 검출 방법은, 이미지 취득 장치로부 터 아날로그 계기판을 촬영한 학습용 이미지를 획득하는 제1 단계; 획득한 이미지로부터 상기 아날로그 계기판 의 테두리와 접하도록 사각 박스를 추출하는 제2 단계; 상기 사각 박스의 소정의 기준점을 기준으로 상기 사각 박스의 네 모서리 중 대각선 방향에 있는 제1 모서리 좌표 및 제2 모서리 좌표를 추출하는 제3 단계; 상기 획득 한 이미지로부터 상기 사각 박스의 소정의 기준점을 기준으로 상기 아날로그 계기판 내의 아날로그 바늘의 계기 값 지시점을 나타내는 제1 끝점 좌표 및 상기 지시점의 반대편인 제2 끝점 좌표를 추출하는 제4 단계; 상기 아 날로그 계기판의 최소값에 대응하는 아날로그 바늘의 최소 값 각도, 상기 아날로그 계기판의 최대값에 대응하는 아날로그 바늘의 최대 값 각도, 및 상기 제1 끝점 좌표 및 상기 제2 끝점 좌표를 이용하여 추출한 상기 아날로 그 바늘의 계기 값 각도를 추출하는 제5 단계; 및 상기 아날로그 바늘의 최대 값 각도, 상기 아날로그 바늘의 계기 값 각도 및 상기 아날로그 계기판의 최대 값을 이용하여 상기 아날로그 바늘의 계가 값 각도에 대응하는 아날로그 바늘의 계기 값을 계산하는 제6 단계를 포함하여 획득한 아날로그 계기판의 측정 값과 GT(Ground truth) 값을 입력 값으로 하여 상기 아날로그 계기판을 측정하기 위한 파라미터 값을 학습하는 인공 지능 학습 단계; 이미지 취득 장치로부터 아날로그 계기판을 촬영한 측정용 이미지를 획득하는 제a 단계; 획득한 이미지로 부터 상기 아날로그 계기판의 테두리와 접하도록 추출되고, 상기 아날로그 계기판의 중심을 기준으로 한 사각 박스를 추출하는 제b 단계; 상기 사각 박스의 소정의 기준점을 기준으로 상기 사각 박스의 네 모서리 중 대각선 방향에 있는 제1 모서리 좌표 및 제2 모서리 좌표를 추출하는 제c 단계; 상기 획득한 이미지로부터 상기 사각 박스의 소정의 기준점을 기준으로 상기 아날로그 계기판 내의 아날로그 바늘의 계기 값 지시점을 나타내는 바늘 끝점 좌표를 추출하는 제d 단계; 및 상기 d 단계에서 추출한 바늘 끝점 좌표 값과 상기 아날로그 계기판을 측정 하기 위한 파라미터 값을 통해 상기 아날로그 계기판의 측정 값을 예측하는 단계;를 포함한다. 일 실시예에서, 상기 제5 단계는, 상기 아날로그 바늘의 계기 값 각도는 상기 제1 끝점 좌표의 역 탄젠트 값을 구한 각도 값에, 상기 아날로그 계기판의 최소 값 좌표를 이용하여 구한 아날로그 계기판 최소 값에 대응하는 각도 값을 반영하여 보정함으로써 산출되고, 상기 제6 단계에서, 상기 아날로그 바늘의 계기 값은 상기 아날로 그 바늘의 최대 값 각도와 상기 아날로그 계기판의 최대 값의 비율에 상기 아날로그 바늘의 계기 값 각도를 반 영하여 계산된다. 본 발명에 따른 비전 기술을 이용한 아날로그 계기판 검출 방법은 제조 공장 등의 제품 생산 공정에서의 공정의 물리적인 수정이나, 생산 공정의 중단 없이도 공장 등에 기 설치된 아날로그 계기판을 자동으로 계측할 수 있는 효과가 있다. 또한 본 발명에 따른 비전 기술을 이용한 아날로그 계기판 검출 방법은, 인공 지능 학습을 통해 이미지로부터 획득된 아날로그 계기판의 바늘 좌표만으로 계기판의 측정 값을 검출할 수는 효과가 있다. 이상과 같이, 본 발명은 비록 한정된 실시예와 도면에 의해 설명되었으나, 본 발명은 이것에 의해 한정되지 않"}
{"patent_id": "10-2022-0142077", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "으며 본 발명이 속하는 기술분야에서 통상의 지식을 가진 자에 의해 본 발명의 기술 사상과 아래에 기재될 청구 범위의 균등 범위 내에서 다양한 수정 및 변형이 가능함은 물론이다."}
{"patent_id": "10-2022-0142077", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 아날로그 계기판 검출 방법을 나타낸 흐름도이다. 도 2는 도 1에 따른 아날로그 계기판 검출 과정의 모습을 개략적으로 나타낸다. 도 3은 아날로그 계기판의 촬영 이미지에서 사각 박스 및 좌표를 획득하는 예를 개략적으로 나타낸다. 도 4는 아날로그 계기판의 최소값 좌표 및 최대값 좌표를 추출하는 예를 나타낸다. 도 5는 기준 좌표를 변경하여 좌표 값을 변경하는 모습을 나타낸다. 도 6은 임의의 좌표가 기준선으로부터의 각도를 구하는 모습을 나타낸다. 도 7은 아날로그 계기판의 최소 값 각도와 최대 값 각도를 산출하는 모습을 나타낸다. 도 8은 각 각도를 보정하기 위한 설명도이다. 도 9는 본 발명에 다른 실시예에 따른 인공지능 학습을 통한 비전 기술을 이용한 아날로그 계기판 검출 방법의 흐름을 나타낸다."}
