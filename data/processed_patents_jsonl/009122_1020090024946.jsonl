{"patent_id": "10-2009-0024946", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2010-0106775", "출원번호": "10-2009-0024946", "출원인": "아주대학교산학협력단", "발명자": "남윤영"}}
{"patent_id": "10-2009-0024946", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "소정 공간을 2차원 격자 (2D Grid) 맵으로 모델링하는 공간 모델링부;상기 격자 맵 상의 제 1 영역을 이용하는 에이전트의 유동량 및 상기 제 1 영역에서 제 2 영역으로 이동할 에이전트의 유동 확률을 기초로 상기 격자 맵 상의 각 격자 공간 중요도를 수치로 나타내는 중요 공간 추출부;상기 격자 맵 상의 특정 좌표에 있는 비전센서의 인식거리(d),가용각도(a) 및 위치각도(φ)를 기초로 정의되는삼각형(FOV : Field-of-view) 내부 격자의 공간 중요도 수치의 합, 상기 비전센서의 성능 및 비용을 기초로 상기 비전센서의 적합도를 추출하는 적합도 추출부; 및비전센서 배치 비용의 최대값 및 상기 소정 공간의 최소 감시영역 비율을 나타내는 최소 충족 커버리지를 기초로 비전센서 배치 개수를 구하고, 상기 비전센서 적합도가 높은 순서대로 비전센서 배치 위치를 선정하는 배치위치 선정부;를 포함하는 비전센서 자동 배치장치."}
{"patent_id": "10-2009-0024946", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서,상기 비전 센서는 카메라인 것을 특징으로 하는 비전센서 자동 배치장치."}
{"patent_id": "10-2009-0024946", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1 항에 있어서,상기 공간 모델링부는상기 소정 공간 중 보행 가능한 공간과 그렇지 않은 공간을 구분하는 벽/공간(Wall/Space) 레이어(layer);상기 격자 (2D Grid) 맵 상의 제 1 영역을 이용하는 사용자의 유동량, 상기 제 1 영역에서 제 2 영역으로 이동할 사용자의 유동 확률 정보, 상기 제 1 영역와 제 2 영역의 중심 좌표 및 반지름 정보를 포함하는 에어리어(Area) 레이어(layer); 및상기 중요 공간 추출부에서 추출된 격자의 공간 중요도 수치를 상기 격자 맵 상에 나타낸 중요도(Priority) 레이어(layer);를 포함하는 것을 특징으로 하는 비전센서 자동 배치장치."}
{"patent_id": "10-2009-0024946", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 1 항에 있어서,상기 에이전트의 상기 제 1 영역에서 상기 제 2 영역으로의 이동은 최단경로 및 최단비용을 기초로한 A* 경로탐색 알고리즘 및 경로확장 알고리즘을 통하여 모델링되는 것을 특징으로 하는 비전센서 자동 배치장치.상기 경로확장 알고리즘은 상기 제 1 영역의 중심 좌표 및 반지름 r1과 상기 제 2영역의 중심 좌표 및 반지름 r2를 설정하는 단계;상기 제 1 영역의 반지름 r1에 의해 특정된 원 내부에 있는 각 격자를 출발지점으로 정하는 단계;상기 제 2 영역의 반지름 r2에 의해 특정된 원 내부에 있는 각 격자를 목적지점으로 정하는 단계;상기 A* 경로 탐색 알고리즘을 통하여 상기 각 출발지점에서 상기 각 목적지점으로 경로를 탐색하는 단계; 및상기 탐색된 경로에 포함되는 격자들의 공간 중요도를 조절하는 단계;를 포함하여 이루어진다."}
{"patent_id": "10-2009-0024946", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 4 항에 있어서,상기 A* 경로 탐색 알고리즘은 휴리스틱 서치(Heuristic Search)와 그래프 서치(Graph Search)알고리즘을 기초로 이루어 지는 것을 특징으로 하는 비전센서 자동 배치장치."}
{"patent_id": "10-2009-0024946", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "공개특허 10-2010-0106775-2-소정 공간을 2차원 격자 (2D Grid) 맵으로 모델링하는 공간 모델링 단계;상기 격자 맵 상의 제 1 영역을 이용하는 에이전트의 유동량 및 상기 제 1 영역에서 제 2 영역으로 이동할 에이전트의 유동 확률을 기초로 상기 격자 맵 상의 각 격자 공간 중요도를 수치로 나타내는 중요 공간 추출 단계;상기 격자 맵 상의 특정 좌표에 있는 비전센서의 인식거리(d),가용각도(a) 및 위치각도(φ)를 기초로 정의되는삼각형(FOV : Field-of-view) 내부 격자의 공간 중요도 수치의 합, 상기 비전센서의 성능 및 비용을 기초로 상기 비전센서의 적합도를 추출하는 적합도 추출 단계; 및비전센서 배치 비용의 최대값 및 상기 소정 공간의 최소 감시영역 비율을 나타내는 최소 충족 커버리지를 기초로 비전센서 배치 개수를 구하고, 상기 비전센서 적합도가 높은 순서대로 비전센서 배치 위치를 선정하는 배치위치 선정 단계;를 포함하는 비전센서 자동 배치방법."}
{"patent_id": "10-2009-0024946", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제 6 항에 있어서,상기 비전 센서는 카메라인 것을 특징으로 하는 비전센서 자동 배치방법."}
{"patent_id": "10-2009-0024946", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 6 항에 있어서,상기 공간 모델링 단계는상기 소정 공간 중 보행 가능한 공간과 그렇지 않은 공간을 구분하는 벽/공간(Wall/Space) 레이어(layer);상기 격자 (2D Grid) 맵 상의 제 1 영역을 이용하는 사용자의 유동량, 상기 제 1 영역에서 제 2 영역으로 이동할 사용자의 유동 확률 정보, 상기 제 1 영역와 제 2 영역의 중심 좌표 및 반지름 정보를 포함하는 에어리어(Area) 레이어(layer); 및상기 추출된 격자의 공간 중요도 수치를 상기 격자 맵 상에 나타낸 중요도(Priority) 레이어(layer);를 포함하는 것을 특징으로 하는 비전센서 자동 배치방법."}
{"patent_id": "10-2009-0024946", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 1 항에 있어서,상기 에이전트의 상기 제 1 영역에서 상기 제 2 영역으로의 이동은 최단경로 및 최단비용을 기초로한 A* 경로탐색 알고리즘 및 경로확장 알고리즘을 통하여 모델링되는 것을 특징으로 하는 비전센서 자동 배치방법.상기 경로확장 알고리즘은 상기 제 1 영역의 중심 좌표 및 반지름 r1과 상기 제 2영역의 중심 좌표 및 반지름 r2를 설정하는 단계;상기 제 1 영역의 반지름 r1에 의해 특정된 원 내부에 있는 각 격자를 출발지점으로 정하는 단계;상기 제 2 영역의 반지름 r2에 의해 특정된 원 내부에 있는 각 격자를 목적지점으로 정하는 단계;상기 A* 경로 탐색 알고리즘을 통하여 상기 각 출발지점에서 상기 각 목적지점으로 경로를 탐색하는 단계; 및상기 탐색된 경로에 포함되는 격자들의 공간 중요도를 조절하는 단계;를 포함하여 이루어진다."}
{"patent_id": "10-2009-0024946", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제 9 항에 있어서,상기 A* 경로 탐색 알고리즘은 휴리스틱 서치(Heuristic Search)와 그래프 서치(Graph Search)알고리즘을 기초로 이루어 지는 것을 특징으로 하는 비전센서 자동 배치방법.명 세 서발명의 상세한 설명공개특허 10-2010-0106775-3- 기 술 분 야본 발명은 비전센서 자동 배치장치 및 방법에 관한 것으로서, 보다 상세하게는 정적인 공간정보를 다각도로 분 [0001]류하고 사용자의 이동패턴을 모델링 한 에이전트를 통해 공간중요도를 도출하고 주어진 공간을 효과적으로 커버할 수 있는 방법을 제시하고 또한 특정공간 내에 다양한 성능을 지닌 카메라를 적절하게 설치하기 위해 카메라배치 방법과 설치비용 대비 적합한 카메라 수를 구하기 위한 비전센서 자동 배치장치 및 방법에 관한 것이다. 배 경 기 술유비쿼터스 (Ubiquitous)는 1993년 마크 와이저(Mark Weiser)에 의해 최초로 그 개념이 발표된 이래 수많은 형 [0002]태의 기술, 문화적 키워드로써 모습을 달리하여 소개되었다.정보화 시대 이후 급속도로 성장한 IT기술은 시공간의 제약을 초월하여 사용자에게 네트워킹 서비스를 지원해 [0003]줄 수 있는 유비쿼터스 시대를 도래하게 만들었다. 유비쿼터스 환경에서의 서비스는 사용자의 요구, 주변의 환경을 스스로 판단하여 사용자의 개입 없이 사용자의 생각에 부합하는 서비스를 적시에 자율적으로 제공할 수 있어야 한다.환경과 사물에 컴퓨팅 기능을 도입하고 네트워크로 서로 연결한 컴퓨팅 시스템은 유비쿼터스 서비스를 구축하기 [0004]위한 필수적인 인프라 환경이다.공간 제약을 해결하여 공간에 유비쿼터스 인프라 환경을 구축하기 위해 지능공간이라는 형태의 블록화된 공간들 [0005]을 개별적으로 구축하는 방법을 사용하였다.지능공간들은 네트워크 상에서는 통합된 유비쿼터스 서비스를 구축하기 위해 긴밀하고 광대한 통신체계를 구축 [0006]하고 있지만, 지능공간을 구성하는 여러 가지 요소들은 개개의 지능공간에만 특화된 독립적인 형태로 이루어져있다.이는 모든 지능공간이 일원화된 규칙하에 디자인 되는 것이 아니며, 또한 지능공간에 도입된 인프라, 디바이스 [0007]등이 다양한 표준과 다른 수준의 기술력에 의해 개발되어지기 때문이다.프로젝트 기획자들은 지능공간 구축에 앞서 기획이란 과정을 통해 치밀한 프로젝트의 진행과정과 목표결과물을 [0008]설계하지만, 앞서 말한 지능공간의 특성으로 인해 지능공간의 구축원리는 목적과 규모, 비용에 따라 달라지게되고 그에 따라 요구조건의 변경은 필연적으로 발생하게 된다.다양한 단계의 기술이 집약된 지능공간에 배치될 지능형 오브젝트의 개발에 관련한 지식과, 공간디자인의 설계 [0009]원리, 지능공간 서비스의 구축과 같은 여러 분야에서 전문지식을 갖추기는 매우 힘들고, 또한 목적과 서비스를중시한 지능공간 디자인의 관점에서 보았을 때 이러한 인프라 구축에 관한 기술적인 지식을 기획자가 반드시 알아야 할 필요는 없기 때문이기도 하다.기능공간의 설계 측면에서 추적, 감시 등의 보안서비스에 관련된 비전 알고리즘은 기존의 그 어떤 서비스 기술 [0010]보다 디바이스, 공간에 대한 의존이 많기 때문에 공간디자인과 서비스, 디바이스 개발자 간의 독립적인 분업을보장해 줄 수 없는 개발구조를 가지게 된다.지능공간 개발의 측면에서는 이런 불필요한 연결구조가 개발의 효율성을 떨어뜨리는 주요요인으로 지적되었고, [0011]그렇기 때문에 이러한 비전 기술과 센서구조 배치에 관련된 연구도 비전알고리즘의 측면에서 기술개발자나 대부분 근시안적으로 진행할 뿐 공간 디자이너나 프로젝트 기획자의 측면에서 연구되지 못한 것이 사실이다.또한 영상 감시시스템에서 영상처리에 대한 연구는 안정성 있고 효율적인 성능의 하드웨어 개발이나 모션, 오브 [0012]젝트 추적 알고리즘 등에 대한 연구가 대부분이었다.그러나, 카메라 배치는 하드웨어, 알고리즘 각각의 성능보다 각 카메라간의 전체적인 커버리지 측정을 협업과 [0013]그 연결고리 내에서 유기적으로 제공되는 사용자들의 서비스가 실질적으로 시스템의 디자인할 때에 더욱 고려되어야할 요소이고, 이러한 서비스를 구축하는 것은 단순한 알고리즘 성능평가 같은 제한된 환경에서의 실험만으로는 검증할 수 없는 문제점이 있다. 발명의 내용공개특허 10-2010-0106775-4- 해결 하고자하는 과제본 발명이 이루고자 하는 기술적 과제는 비전센서 배치에 대한 기존 문제점을 해결하기 위하여 공간상에서 카메 [0014]라의 FOV(Field-Of-View)를 설계하였으며 가상 에이전트들의 행동패턴을 모델링하고 이를 통해 구해낸 공간중요도 (Space Priority)를 바탕으로 공간의 커버리지를 최소비용으로 보완할 수 있는 비전센서 배치 장치 및 방법을 제공하고자 한다. 과제 해결수단상기의 기술적 과제를 해결하기 위한 본 발명에 따른 비전센서 자동 배치장치의 일 실시예는, 소정 공간을 2차 [0015]원 격자 (2D Grid) 맵으로 모델링하는 공간 모델링부; 상기 격자 맵 상의 제 1 영역을 이용하는 에이전트의 유동량 및 상기 제 1 영역에서 제 2 영역으로 이동할 에이전트의 유동 확률을 기초로 상기 격자 맵 상의 각 격자공간 중요도를 수치로 나타내는 중요 공간 추출부; 상기 격자 맵 상의 특정 좌표에 있는 비전센서의 인식거리(d),가용각도(a) 및 위치각도(φ)를 기초로 정의되는 삼각형(FOV : Field-of-view) 내부 격자의 공간 중요도 수치의 합, 상기 비전센서의 성능 및 비용을 기초로 상기 비전센서의 적합도를 추출하는 적합도 추출부; 및 비전센서 배치 비용의 최대값 및 상기 소정 공간의 최소 감시영역 비율을 나타내는 최소 충족 커버리지를 기초로 비전센서 배치 개수를 구하고, 상기 비전센서 적합도가 높은 순서대로 비전센서 배치 위치를 선정하는 배치 위치선정부;를 포함하는 것을 특징으로 한다.상기의 기술적 과제를 해결하기 위한 본 발명에 따른 비전센서 자동 배치방법의 일 실시예는, 소정 공간을 2차 [0016]원 격자 (2D Grid) 맵으로 모델링하는 공간 모델링 단계; 상기 격자 맵 상의 제 1 영역을 이용하는 에이전트의유동량 및 상기 제 1 영역에서 제 2 영역으로 이동할 에이전트의 유동 확률을 기초로 상기 격자 맵 상의 각 격자 공간 중요도를 수치로 나타내는 중요 공간 추출 단계; 상기 격자 맵 상의 특정 좌표에 있는 비전센서의 인식거리(d),가용각도(a) 및 위치각도(φ)를 기초로 정의되는 삼각형(FOV : Field-of-view) 내부 격자의 공간 중요도 수치의 합, 상기 비전센서의 성능 및 비용을 기초로 상기 비전센서의 적합도를 추출하는 적합도 추출 단계;및 비전센서 배치 비용의 최대값 및 상기 소정 공간의 최소 감시영역 비율을 나타내는 최소 충족 커버리지를 기초로 비전센서 배치 개수를 구하고, 상기 비전센서 적합도가 높은 순서대로 비전센서 배치 위치를 선정하는 배치 위치 선정 단계;를 포함하는 것을 특징으로 한다. 효 과본 발명에 따른 비전센서 자동 배치장치 및 방법에 의하면, 기존의 유비쿼터스 지능형 영상 감시 시스템의 구 [0017]축에 있어 영상센서의 성능과 사용 알고리즘에 국한된 객관성 없는 공간설계에서 벗어난 서비스 중심의 이론화된 카메라 배치위치 결정에 대한 근거를 제공함으로써 비전 디바이스와 비전 알고리즘에 독립적인 지능형 영상감시 시스템을 제공하는 효과가 있다.본 발명의 비전센서 자동 배치장치 및 방법은 설치비용을 고려한 적합한 카메라 수와 배치 위치를 구할 수 효율 [0018]적인 방법을 제공한다. 발명의 실시를 위한 구체적인 내용이하, 첨부된 도면을 참조하여 바람직한 실시예에 따른 본 발명을 상세히 설명하기로 한다. [0019]도 1은 본 발명에 따른 비전센서 자동 배치장치의 구성을 보여주는 도면이다. [0020]본 발명에 따른 비전센서 자동 배치장치(100)는 신도시 개발 지역이나 카메라와 같은 비전 센서의 설치가 요구 [0021]되는 지역에서의 자동 배치 위치 선정을 위한 것이다.본 발명에 따른 비전센서 배치장치는 공간모델링부(110), 중요 공간 추출부(120), 적합도 추출부(130) 및 배치 [0022]위치 선정부(140)을 포함하여 구성된다.공간모델링부(110)는 비전센서 배치할 공간을 2차원 격자 (2D Grid) 맵으로 모델링한다. [0023]중요 공간 추출부(120)는 2차원 격자 (2D Grid) 맵상의 특정영역을 이용하는 에이전트의 유동량 및 출발지에서 [0024]목적지으로 이동할 에이전트의 유동 확률을 기초로 중요 공간 영역을 추출한다.적합도 추출부(130)는 2차원 격자 (2D Grid) 맵상의 특정 위치의 비전센서가 상기 추출된 중요 공간 영역 중 [0025]최대 감시할 수 영역(최대 공간 커버리지)을 상기 특정 위치 비전센서의 비용으로 나누어 특정 위치에서의 비공개특허 10-2010-0106775-5-전센서 적합도를 추출한다. 배치 위치 선정부(140)는 비전센서 배치 비용의 최대값 및 소정 공간의 최소 감시영역 비율을 나타내는 최소 [0026]충족 커버리지를 기초로 비전센서 배치 개수를 구하고, 상기 비전센서 적합도가 높은 순서대로 비전센서 배치위치를 선정한다.도 2 는 본 발명에 따른 비전센서 배치장치의 공간모델링부을 구성하는 레이어의 구성을 보여주는 도면이다. [0027]본 발명에 따른 비전센서 배치장치의 공간모델링부(110)는 비전센서가 배치될 공간의 지형을 구분한 벽/공간 [0028](Wall/Space) 레이어(a)와 2차원 격자 (2D Grid) 맵상의 특정영역을 이용하는 사용자의 유동량 및 임의의 출발점에서 목적지으로 이동할 사용자의 유동 확률 정보를 포함하는 에어리어(Area) 레이어(b)를 포함한다.벽/공간(Wall/Space) 레이어는 영상센서가 배치될 공간 중 보행 가능한 공간과 그렇지 않은 공간을 구분하여 에 [0029]이전트의 경로 탐색 알고리즘에 적용되기 위한 것이다.에어리어(Area) 레이어는 2차원 격자 (2D Grid) 맵상의 특정영역을 이용하는 사용자의 유동량 및 임의의 출발 [0030]점에서 목적지로 이동할 사용자의 유동 확률 정보를 포함한다.제 1 영역과 제 2영역은 2차원 격자 (2D Grid) 맵상의 특정 위치를 기준으로 반지름 r의 원형으로 표현된다. [0031]따라서, 에어리어(Area) 레이어는 중요공간 영역을 추출하기 위한 위치, 범위, 사용자의 유동량, 출발점에서 목 [0032]적지로 이동할 사용자의 유동 확률 정보등의 속성정보를 포함한다.유동확률이라 함은 2차원 격자(2D Grid) 맵상의 제1영역(출발점)에서 제 2영역(목표지점)에 도착했을때 또 다른 [0033]목적지를 선택할 확률이다. 총 목적지 수 n에서 자기 자신을 제외한 n-1개의 배열로 이루어진다.비전센서 배치장치의 공간모델링부(110)는 중요도(Priority) 레이어(layer)를 더 포함한다. [0034]중요도(Priority) 레이어(layer)는 에이전트의 경로 탐색 등을 통해 공간중요도를 수치로 나타낸 데이터베이스 [0035](DB)이다. 에이전트이 행동에 따라 중요도를 업데이트 하여 최종적으로 카메라 배치위치결정에 중요한 정보로써사용된다.도 3 은 본 발명에 따른 비전센서 자동 배치 장치에서 에이전트의 이동 패턴을 모델링한 결과를 보여주는 도면 [0036]이다.본 발명은 에이전트를 사용자로 가정하여 시뮬레이션을 수행하는바, 에이전트는 실제 공간을 이용하는 사용자의 [0037]가능한 모든 움직임을 가상으로 구현한다.실제 공간을 이용하는 사용자는 똑같은 출발점과 목표지점으로 이동하더라도 예측하기 어려울 정도로 다양한 경 [0038]로를 사용한다.사용자의 감성, 사전지식, 주변환경 등 다양한 요인에 따라 경로선택의 우선순위가 달라지기 때문이다. [0039]최단거리를 우선순위로 하는 인공지능 기반의 경로탐색 알고리즘으로 구해진 경로는 도3a에서 보이는 것과 같이 [0040]일반 사용자의 경로(도 3b)선택과 상당히 큰 차이를 보이는데 그 이유는 통상적으로 사용되는 경로탐색 알고리즘에서는 에이전트의 광역적인 지형정보를 모두 학습한 상태라고 가정하고, 국지적인 시야에 대한 고려를 하지않았으며, 에이전트의 방향전환등에 대한 비용을 고려하지 않았기 때문에 이동경로가 장애물, 벽에 최대한 붙은꺽인선 형태로 나타난다.본 발명에서는 이러한 실제 사용자의 이동경로와 에이전트의 이동경로 선택의 차이를 최소화하기 위하여 경로 [0041]탐색 알고리즘으로 구해진 루트 주변의 가용 경로를 추정하여 다양한 형태의 경로들을 추가로 계산한다.사용자가 선택할 수 있는 가능성을 가진 지역은 이런 파생경로에 나타난 다양한 이동경로 상의 좌표 중 하나에 [0042]대부분 포함된다.에이전트는 초기에 모든 목적지에서 이동가능한 모든 영역을 검사하고, 다음과 같은 순서로 추론을 거듭하여 경 [0043]로탐색 시뮬레이션을 수행한다.1. 선택되지 않은 목적지가 존재하지 않는다면 시뮬레이션을 끝내고, 그렇지 않다면 현재위치에서 확률분포에 [0044]근거하여 목적지를 선택한다.2.목적지까지의 경로를 경로탐색 알고리즘을 통해 탐색한다. [0045]공개특허 10-2010-0106775-6-3.탐색된 알고리즘상의 경로에서 에어리어 속성정보에 따라 경로학장 알고리즘을 사용하여 경로를 확장한다. [0046]4.구해낸 모든 확장 경로상에 존재하는 이동가능한 지역의 공간중요도를 에어리어 확률분포에 따라 중요공간 지 [0047]역 정보에 업데이트하나다.5.목적지를 현재위치로 변경하고, 1번으로 돌아간다. [0048]길을 찾는 것은 출발점에서 목적지가지 가장 효율적인 이동 순서를 탐색해가는 추론의 과정이다. 즉, 경로탐색 [0049]은 목적지를 찾아가는 물리적인 행위 자체뿐만 아니라 그 행위를 하는 과정에서 나타나는 환경정보를 인지하고판단하며 검토하는 심리적 과정을 포함한다.경로탐색에 고려되는 요소는 지형적인 환경요소와 가능한 여러 탐색경로 중 선호되는 가치에 따라 최적의 경로 [0050]를 선택하게 해주는 목적요소 그리고 그 외에 길을 찾는 주체가 가진 감성적인 요소 역시 크게 작용한다.환경적인 요소를 모델링하여 시뮬레이션에 도입한 예는 기존의 연구에서도 많이 나타나고 있으나, 감성적인 요 [0051]소를 경로탐색 알로리즘에 도입한 예는 많지 않다. 그 이유는 감성적인 부분은 인간의 학습능력과 추론능력, 지각능력, 자연언어의 이해능력등에 관련된 인공지능의 영역이며, 또 대부분의 연구에서 이런 모호하고 확신이 없는 영역을 시뮬레이션에 도이하는 것을 실효성이 없기 때문이다.본 발명에서 이용한 경로 탐색 알고리즘 중 하나인 A* 알고리즘도 감성적인 부분을 배제한 최단경로, 최단비용 [0052]이라는 목적만을 가지고 추론을 진행해가는 탐색 알고리즘이다.A* 알고리즘은 종래의 휴리스틱 서치(Heuristic Search)와 그래프 서치(Graph Search)알고리즘을 기반으로 [0053]하며, 그래프 서치는 기본적으로 탐색의 선택기준에 맞춰 트리구조로 연결된 맵, 또는 선택대응요소를 노드라는것으로 정의한다.A* 알고리즘은 다음과 같다. [0054]1. 시작노드 A를 리스트 OPEN에 넣는다. A를 최초의 탐색트리 T에 저장한다. [0055]2. 빈 리스트 CLOSED를 정의한다. [0056]3. OPEN이 비어 있는지 확인해보고 비어있다면 탐색실패를 반환한다. [0057]4. OPEN에서 첫 번째 노드를 선택하여 An으로 칭하고 CLOSED에 넣는다. [0058]5. An이 목표 노드이면 A에서 An까지의 경로를 추적하여 반환한다. [0059]6. 노드 An에 연결된 모든 노드들을 탐색트리 T에 저장한다. [0060]7. 연결된 모든 노드들을 OPEN에 넣는다. [0061]8. 휴리스틱 (Heuristic)과 기타 팩터값에 다라 OPEN 내용을 재정렬한다. [0062]9. 단계 3으로 되돌아간다. [0063]본 발명에서의 A*알고리즘을 기반으로 2D Grid 기반 맵의 방향을 8가지로 나누어 고려하고, 휴리스틱 평가함수 [0064]를 다음과 같이 정의함으로써 에이전트 경로탐색에 A* 알고리즘을 활용한다.수학식 1[0065]여기서, G는 시작노드로부터 현재노드가지의 이동비용 총합이며, H는 현재노드로부터 도착노드가지의 장애물을 [0066]무시한 이동비용 총합이다.따라서 G와 H의 합인 F가 A*알고리즘에서 경로탐색에서 우선순위를 정하는 최종 기준이 된다. 이동비용의 경우 [0067]상하좌우 방향은 1, 대각선 방향은 1.4의 비용으로 설정하였다.H를 구하기 위한 노드간의 이동에 대한 '이동 비용'을 계산하기 위해 맨하탄 기법(Manhattan Method)을 사용하 [0068]였다.도 4는 본 발명에 따른 비전센서 자동 배치 장치에서 에이전트의 이동 패턴을 A* 알고리즘으로 모델링한 일 실 [0069]공개특허 10-2010-0106775-7-시예를 보여주는 도면이다.상기 언급한대로 A* 알고리즘을 통해 찾아낸 경로와 실제 사용자들의 다양한 경로 사이에는 많은 차이가 있다. [0070]이를 보완하기 위해 본 발명에서는 '경로확장 알고리즘'을 추가적으로 적용하였다.에이전트 경로탐색 알고리즘에서는 '경로확장 알고리즘'을 통해 A*알고리즘의 경로 주변의 보행가능 공간 중 사 [0071]용자가 이동할 것으로 예상되는 영역을 추론하여 중요 공간 추출을 위한 정보를 업데이트 한다.도 5는 본 발명에 따른 비전센서 자동 배치 장치에서 에이전트의 이동 패턴을 경로 확장 알고리즘으로 모델링한 [0072]일 실시예를 보여주는 도면이다.경로확장 알고리즘의 추론 과정을 다음과 같다. [0073]1.에어리어 속성 정보에 따른 출발지점, 도착지점의 영역범위 r1, r2을 구한다. [0074]2.출발지점의 영역범위 r1의 크기에 따라 확장 출발 지점 개수 n을 구하고, 영역 범위 내에 n개의 확장 출발지 [0075]점 위치를 정한다.3.도착지점의 영역범위 r2의 크기에 따라 확장 출발 지점 개수 m을 구하고, 영역 범위 내에 m개의 확장 출발지 [0076]점 위치를 정한다.4.출발지점을 포함한 확장 출발지점 n+1개, 도착지점을 포함한 확장 도착지점 m+1개에 대해 A* 알고리즘을 적용 [0077]하여 (n+1)*(m+1)개의 추가 경로를 탐색한다.5. 각 경로들의 선에 의해 둘러쌓인 Grid들을 검색하여 확장역역으로 추가한다. [0078]6.추가된 모든 경로에 대한 Grid와 5번에 대한 Grid들을 확장영역으로 리턴한다. [0079]카메라와 같은 비전센서 배치위치를 선택하는 알고리즘은 그리디 전략(Greedy Strategy)의 알고리즘으로 설계된 [0080]다.공간 모델부의 에어리어 속성에서 중요도 정보, 그리고 에이전트의 경로탐색 알고리즘으로부터 얻은 경로정보를 [0081]바탕으로 중요공간 영역을 도출하고, 배치위치선택은 최종적으로 이 중요공간 영역을 통해 배치위치를 선택하게된다.현재의 상태정보 만을 가지고 판단을 하는 그리디 전략의 특성에 맞게 배치위치 선택은 공간 모델의 모든 좌표 [0082]점들을 검사하여 카메라 FOV(Field-Of-View)를 통해 가장 중요도가 높은 지점을 정한다.도 6 는 본 발명의 비전센서의 FOV(Field-Of-View)를 모델링한 실시예를 보여주는 도면이다. [0083] 카메라 FOV(Field-Of-View)는 도 4에 도시된 바와 같이 비전 시스템과의 연계를 고려하지 않은 최소한의 구조 [0084]를 가지고 있다.카메라의 위치를 기준으로 인식거리와 가용각도를 파라미터로 한 삼각형의 구조를 가진다. [0085]1개 비전카메라 위치는 2D 기반의 Grid 맵에서 X,Y의 정수좌표로 위치하고 고정된 위치에서 최대 360도의 위치 [0086]각도 값을 가진다.그러므로 시뮬레이션 상에서 비전카메라의 FOV를 결정하는 인자는 비전카메라 포지션(Cx, Cy), 위치각도 φ, 인 [0087]식거리 d, 가용각도 a로 총 4가지가 된다.최적의 위치는 각 좌표점을 기준으로 조건에 맞는 적합도(Suitability)를 검사하게 되는데, 이 적합도는 중요공 [0088]간 영역의 공간 중요도에서 카메라의 비용과 성능 등 다양한 조건에 따라 달라지게 된다.모든 좌표점과 카메라 타입에 다른 적합도는 다음과 같은 식으로 계산된다. [0089]수학식 2[0090]적합도는 해당 Grid 좌표에서 모든 방향에 대한 가장 FOV내에 공간 중요도를 포괄할 수 있는 각도에서의 수치를 [0091]공개특허 10-2010-0106775-8-뜻한다. 즉, 해당 Grid에서 얻을 수 있는 최대 공간 중요도 커버리지이다.이 값을 카메라 비용으로 나눈 것을 적합도라고 정의하였다. [0092]시뮬레이터에서 설정한 다양한 타입의 카메라들 중에서 해당 Grid에서 가장 높은 적합도를 갖는 카메라는 가격 [0093]이 저렴하면서 성능이 우수한 카메라가 될 것이다.계산된 적합도 맵의 모든 Grid중에서 가장 높은 적합도를 갖는 Gird의 순서대로 카메라 배치 위치가 선택되고, [0094]선택된 위치를 기준으로 일정범위 내의 적합도 맵은 카메라가 설치됨에 동시에 다시 재구성된다.도 7 는 본 발명에 따른 비전 센서 자동 배치 장치의 적합도를 추출한 일 실시예를 보여주는 도면이다. [0095]도 7 는 카메라의 종류에 따른 적합도를 추출한 일 실시예로서 카메라의 종류를 3가지로 설정한다. [0096]카메라 FOV모델링을 위해 인식거리 d, 가용각도 a, 카메라 비용 c를 변수로 한다. [0097]카메라 성능은 아래 표1과 같다. [0098]표 1[0099] 인식거리 가용각도 비용 카메라 A 60 Grid 60˚ 80 카메라 B 90 Grid 450˚ 120 카메라 C 120 Grid 60˚ 200그리디 알고리즘을 통한 배치 알고리즘은 맵상의 모든 Grid에서 모든 카메라 타입에 따른 배치비용과 포괄할 수 [0100]있는 최대 공간중요도의 합을 고려하여 적합도를 계산한다.카메라의 적합도 맵은 최종적으로 최적인 카메라 배치개수 설정까지 지속적으로 업데이트 된다. [0101]최종적으로 도출된 Grid 상에서의 최초의 카메라 배치적합도 맵은 아래 도 5와 같다. [0102]도 7a는 카메라 A의 배치적합도를 보여주는 그래프이고, 도 7b는 카메라 B의 배치적합도를 보여주는 그래프이며 [0103]도 7c는 카메라 C의 배치적합도를 보여주는 그래프이다.입력된 공간의 Priority Layer상에 업데이트된 모든 공간중요도를 카메라가 FOV를 통해 커버한다면 배치는 완료 [0104]되지만, 100%의 공간중요도를 충족하는 것이 초적의 카메라 배치라고 볼 수는 없다.카메라의 최적 배치는 환경, 자원등의 조건에 따라 달라질 수 있는 불확실한 기준이기 때문에 본 발명에서는 카 [0105]메라의 최적 배치 개수를 위해 (1) 배치비용 한계(비용 한계를 넘지 않는 최대한의 배치개수)와 (2)공간중요도의 설정 최소 커버리지율(설정된 최소 커버리지율을 충족하는 최소한의 배치 개수)을 계산한다.자원에 기준한 배치개수, 혹은 공간의 감시수준에 따른 배치개수를 필요에 따라 산출해낼 수 있다. 카메라 배치 [0106]알고리즘을 아래와 같다.1.그리디 전략에 의한 모든 공간 맵에서 카메라 FOV에 의한 커버리지 양과 비용을 고려한 적합도 맵을 구한다. [0107]2.적합도 맵에서 가장 높은 수치의 Grid 좌표를 선택한다. [0108]3.카메라를 배치하고 배치 List에 업데이트한다. [0109]4.배치수량이 최적이라고 판단되면 배치를 종료한다. [0110]5.배치된 카메라 위치 주변의 적합도 맵을 초기화 한다. [0111]6.2번으로 돌아간다. [0112]도 8 는 본 발명에 따른 비전 센서 자동 배치 장치의 배치비용의 한계값을 만족하는 카메라 배치위치의 일 실시 [0113]예를 보여주는 도면이다.도 8a는 카메라 배치비용의 한계값이 500만원 일때의 카메라 배치이고, 도 8b는 카메라 배치비용의 한계값이 [0114]1200만원 일때의 카메라 배치이고,도 8c는 카메라 배치비용의 한계값이 1500만원 일때의 카메라 배치의 실시예를 보여준다.공개특허 10-2010-0106775-9-도 9 는 본 발명에 따른 비전 센서 자동 배치 장치의 최소 중요도 커버리지율을 만족하는 카메라 배치위치의 일 [0115]실시예를 보여주는 도면이다.도 9a는 카메라 최소 중요도 커버리지율이 20%일때의 카메라 배치이고, 도 9b는 카메라 최소 중요도 커버리지율 [0116]이 60%일때의 카메라 배치이고, 도 9c는 카메라 최소 중요도 커버리지율이 80%일때의 카메라 배치의 실시예를보여준다.도 10 은 본 발명에 따른 비전 센서 자동 배치 방법의 흐름도를 보여주는 도면이다. [0117]소정 공간을 2차원 격자 (2D Grid) 맵으로 모델링한다(S1010) [0118]2차원 격자 맵 상의 특정 영역을 이용하는 에이전트의 유동량 및 출발점에서 목적지로 이동할 에이전트의 유동 [0119]확률을 기초로 2차원 격자 맵 상의 각 격자 공간 중요도를 수치로 표현한다(S1020).2차원 격자 맵 상의 특정 좌표에 있는 비전센서의 인식거리(d),가용각도(a) 및 위치각도(φ)를 기초로 정의되는 [0120]삼각형(FOV : Field-of-view) 내부 격자의 공간 중요도 수치의 합, 상기 비전센서의 성능 및 비용을 기초로 상기 비전센서의 적합도를 추출한다(S1030).비전센서 배치 비용의 최대값 및 상기 소정 공간의 최소 감시영역 비율을 나타내는 최소 충족 커버리지를 기초 [0121]로 비전센서 배치 개수를 구하고, 상기 비전센서 적합도가 높은 순서대로 비전센서 배치 위치를 선정한다(S1040).본 발명은 첨부된 도면에 도시된 일 실시예를 참고로 설명되었으나, 이는 예시적인 것에 불과하며, 당해 기술분 [0122]야에서 통상의 지식을 가진 자라면 이로부터 다양한 변형 및 균등한 타 실시예가 가능하다는 점을 이해할 수 있을 것이다. 도면의 간단한 설명도 1은 본 발명에 따른 비전센서 자동 배치장치의 구성을 보여주는 도면이다. [0123]도 2 는 본 발명에 따른 비전센서 배치장치의 공간모델링부을 구성하는 레이어의 구성을 보여주는 도면이다. [0124]도 3 은 본 발명에 따른 비전센서 자동 배치 장치에서 에이전트의 이동 패턴을 모델링한 결과를 보여주는 도면 [0125]이다.도 4는 본 발명에 따른 비전센서 자동 배치 장치에서 에이전트의 이동 패턴을 A* 알고리즘으로 모델링한 일 실 [0126]시예를 보여주는 도면이다.도 5는 본 발명에 따른 비전센서 자동 배치 장치에서 에이전트의 이동 패턴을 경로 확장 알고리즘으로 모델링한 [0127]일 실시예를 보여주는 도면이다.도 6 는 본 발명의 비전센서의 FOV(Field-Of-View)를 모델링한 실시예를 보여주는 도면이다. [0128]도 7 는 본 발명에 따른 비전 센서 자동 배치 장치의 적합도를 추출한 일 실시예를 보여주는 도면이다. [0129]도 8 는 본 발명에 따른 비전 센서 자동 배치 장치의 배치비용의 한계값을 만족하는 카메라 배치위치의 일 실시 [0130]예를 보여주는 도면이다.도 9 는 본 발명에 따른 비전 센서 자동 배치 장치의 최소 중요도 커버리지율을 만족하는 카메라 배치위치의 일 [0131]실시예를 보여주는 도면이다.도 10은 본발명에따른 비전센서자동배치방법의 흐름도를 보여주는 도면이다. [0132]공개특허 10-2010-0106775-10-도면 도면1 도면2 도면3a공개특허 10-2010-0106775-11- 도면3b 도면4 도면5공개특허 10-2010-0106775-12- 도면6 도면7a 도면7b공개특허 10-2010-0106775-13- 도면7c 도면8a 도면8b공개특허 10-2010-0106775-14- 도면8c 도면9a 도면9b공개특허 10-2010-0106775-15- 도면9c 도면10공개특허 10-2010-0106775-16-"}
{"patent_id": "10-2009-0024946", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 비전센서 자동 배치장치 및 방법에 관한 것으로서, 보다 상세하게는 정적인 공간정보를 다각도로 분 류하고 사용자의 이동패턴을 모델링한 에이전트를 통해 공간중요도를 도출하고 주어진 공간을 효과적으로 커버할 수 있는 방법을 제시하고 또한 특정공간 내에 다양한 성능을 지닌 카메라를 적절하게 설치하기 위해 카메라 배치 방법과 설치비용 대비 적합한 카메라 수를 구하기 위한 비전센서 자동 배치장치 및 방법에 관한 것이다.본 발명 은 기존의 유비쿼터스 지능형 영상 감시 시스템의 구축에 있어 영상센서의 성능과 사용 알고리즘에 국한된 객관 성 없는 공간설계에서 벗어난 서비스 중심의 이론화된 카메라 배치위치 결정에 대한 근거를 제공함으로써 비전 디바이스와 비전 알고리즘에 독립적인 지능형 영상감시 시스템을 제공하는 효과가 있다. 본 발명의 비전센서 자 동 배치장치 및 방법은 설치비용을 고려한 적합한 카메라 수와 배치 위치를 구할 수 효율적인 방법을 제공한다."}
{"patent_id": "10-2009-0024946", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 비전센서 자동 배치장치 및 방법에 관한 것으로서, 보다 상세하게는 정적인 공간정보를 다각도로 분 류하고 사용자의 이동패턴을 모델링 한 에이전트를 통해 공간중요도를 도출하고 주어진 공간을 효과적으로 커버 할 수 있는 방법을 제시하고 또한 특정공간 내에 다양한 성능을 지닌 카메라를 적절하게 설치하기 위해 카메라 배치 방법과 설치비용 대비 적합한 카메라 수를 구하기 위한 비전센서 자동 배치장치 및 방법에 관한 것이다."}
{"patent_id": "10-2009-0024946", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "유비쿼터스 (Ubiquitous)는 1993년 마크 와이저(Mark Weiser)에 의해 최초로 그 개념이 발표된 이래 수많은 형 태의 기술, 문화적 키워드로써 모습을 달리하여 소개되었다. 정보화 시대 이후 급속도로 성장한 IT기술은 시공간의 제약을 초월하여 사용자에게 네트워킹 서비스를 지원해 줄 수 있는 유비쿼터스 시대를 도래하게 만들었다. 유비쿼터스 환경에서의 서비스는 사용자의 요구, 주변의 환 경을 스스로 판단하여 사용자의 개입 없이 사용자의 생각에 부합하는 서비스를 적시에 자율적으로 제공할 수 있 어야 한다. 환경과 사물에 컴퓨팅 기능을 도입하고 네트워크로 서로 연결한 컴퓨팅 시스템은 유비쿼터스 서비스를 구축하기 위한 필수적인 인프라 환경이다. 공간 제약을 해결하여 공간에 유비쿼터스 인프라 환경을 구축하기 위해 지능공간이라는 형태의 블록화된 공간들 을 개별적으로 구축하는 방법을 사용하였다. 지능공간들은 네트워크 상에서는 통합된 유비쿼터스 서비스를 구축하기 위해 긴밀하고 광대한 통신체계를 구축 하고 있지만, 지능공간을 구성하는 여러 가지 요소들은 개개의 지능공간에만 특화된 독립적인 형태로 이루어져 있다. 이는 모든 지능공간이 일원화된 규칙하에 디자인 되는 것이 아니며, 또한 지능공간에 도입된 인프라, 디바이스 등이 다양한 표준과 다른 수준의 기술력에 의해 개발되어지기 때문이다. 프로젝트 기획자들은 지능공간 구축에 앞서 기획이란 과정을 통해 치밀한 프로젝트의 진행과정과 목표결과물을 설계하지만, 앞서 말한 지능공간의 특성으로 인해 지능공간의 구축원리는 목적과 규모, 비용에 따라 달라지게 되고 그에 따라 요구조건의 변경은 필연적으로 발생하게 된다. 다양한 단계의 기술이 집약된 지능공간에 배치될 지능형 오브젝트의 개발에 관련한 지식과, 공간디자인의 설계 원리, 지능공간 서비스의 구축과 같은 여러 분야에서 전문지식을 갖추기는 매우 힘들고, 또한 목적과 서비스를 중시한 지능공간 디자인의 관점에서 보았을 때 이러한 인프라 구축에 관한 기술적인 지식을 기획자가 반드시 알 아야 할 필요는 없기 때문이기도 하다. 기능공간의 설계 측면에서 추적, 감시 등의 보안서비스에 관련된 비전 알고리즘은 기존의 그 어떤 서비스 기술 보다 디바이스, 공간에 대한 의존이 많기 때문에 공간디자인과 서비스, 디바이스 개발자 간의 독립적인 분업을 보장해 줄 수 없는 개발구조를 가지게 된다. 지능공간 개발의 측면에서는 이런 불필요한 연결구조가 개발의 효율성을 떨어뜨리는 주요요인으로 지적되었고, 그렇기 때문에 이러한 비전 기술과 센서구조 배치에 관련된 연구도 비전알고리즘의 측면에서 기술개발자나 대부 분 근시안적으로 진행할 뿐 공간 디자이너나 프로젝트 기획자의 측면에서 연구되지 못한 것이 사실이다. 또한 영상 감시시스템에서 영상처리에 대한 연구는 안정성 있고 효율적인 성능의 하드웨어 개발이나 모션, 오브 젝트 추적 알고리즘 등에 대한 연구가 대부분이었다. 그러나, 카메라 배치는 하드웨어, 알고리즘 각각의 성능보다 각 카메라간의 전체적인 커버리지 측정을 협업과 그 연결고리 내에서 유기적으로 제공되는 사용자들의 서비스가 실질적으로 시스템의 디자인할 때에 더욱 고려되 어야할 요소이고, 이러한 서비스를 구축하는 것은 단순한 알고리즘 성능평가 같은 제한된 환경에서의 실험만으 로는 검증할 수 없는 문제점이 있다."}
{"patent_id": "10-2009-0024946", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 2, "content": "발명의 내용 해결 하고자하는 과제 본 발명이 이루고자 하는 기술적 과제는 비전센서 배치에 대한 기존 문제점을 해결하기 위하여 공간상에서 카메 라의 FOV(Field-Of-View)를 설계하였으며 가상 에이전트들의 행동패턴을 모델링하고 이를 통해 구해낸 공간중요 도 (Space Priority)를 바탕으로 공간의 커버리지를 최소비용으로 보완할 수 있는 비전센서 배치 장치 및 방법 을 제공하고자 한다. 과제 해결수단 상기의 기술적 과제를 해결하기 위한 본 발명에 따른 비전센서 자동 배치장치의 일 실시예는, 소정 공간을 2차 원 격자 (2D Grid) 맵으로 모델링하는 공간 모델링부; 상기 격자 맵 상의 제 1 영역을 이용하는 에이전트의 유 동량 및 상기 제 1 영역에서 제 2 영역으로 이동할 에이전트의 유동 확률을 기초로 상기 격자 맵 상의 각 격자 공간 중요도를 수치로 나타내는 중요 공간 추출부; 상기 격자 맵 상의 특정 좌표에 있는 비전센서의 인식거리 (d),가용각도(a) 및 위치각도(φ)를 기초로 정의되는 삼각형(FOV : Field-of-view) 내부 격자의 공간 중요도 수 치의 합, 상기 비전센서의 성능 및 비용을 기초로 상기 비전센서의 적합도를 추출하는 적합도 추출부; 및 비전 센서 배치 비용의 최대값 및 상기 소정 공간의 최소 감시영역 비율을 나타내는 최소 충족 커버리지를 기초로 비 전센서 배치 개수를 구하고, 상기 비전센서 적합도가 높은 순서대로 비전센서 배치 위치를 선정하는 배치 위치 선정부;를 포함하는 것을 특징으로 한다. 상기의 기술적 과제를 해결하기 위한 본 발명에 따른 비전센서 자동 배치방법의 일 실시예는, 소정 공간을 2차 원 격자 (2D Grid) 맵으로 모델링하는 공간 모델링 단계; 상기 격자 맵 상의 제 1 영역을 이용하는 에이전트의 유동량 및 상기 제 1 영역에서 제 2 영역으로 이동할 에이전트의 유동 확률을 기초로 상기 격자 맵 상의 각 격 자 공간 중요도를 수치로 나타내는 중요 공간 추출 단계; 상기 격자 맵 상의 특정 좌표에 있는 비전센서의 인식 거리(d),가용각도(a) 및 위치각도(φ)를 기초로 정의되는 삼각형(FOV : Field-of-view) 내부 격자의 공간 중요 도 수치의 합, 상기 비전센서의 성능 및 비용을 기초로 상기 비전센서의 적합도를 추출하는 적합도 추출 단계; 및 비전센서 배치 비용의 최대값 및 상기 소정 공간의 최소 감시영역 비율을 나타내는 최소 충족 커버리지를 기 초로 비전센서 배치 개수를 구하고, 상기 비전센서 적합도가 높은 순서대로 비전센서 배치 위치를 선정하는 배 치 위치 선정 단계;를 포함하는 것을 특징으로 한다. 효 과 본 발명에 따른 비전센서 자동 배치장치 및 방법에 의하면, 기존의 유비쿼터스 지능형 영상 감시 시스템의 구 축에 있어 영상센서의 성능과 사용 알고리즘에 국한된 객관성 없는 공간설계에서 벗어난 서비스 중심의 이론화 된 카메라 배치위치 결정에 대한 근거를 제공함으로써 비전 디바이스와 비전 알고리즘에 독립적인 지능형 영상 감시 시스템을 제공하는 효과가 있다. 본 발명의 비전센서 자동 배치장치 및 방법은 설치비용을 고려한 적합한 카메라 수와 배치 위치를 구할 수 효율 적인 방법을 제공한다. 발명의 실시를 위한 구체적인 내용 이하, 첨부된 도면을 참조하여 바람직한 실시예에 따른 본 발명을 상세히 설명하기로 한다. 도 1은 본 발명에 따른 비전센서 자동 배치장치의 구성을 보여주는 도면이다. 본 발명에 따른 비전센서 자동 배치장치는 신도시 개발 지역이나 카메라와 같은 비전 센서의 설치가 요구 되는 지역에서의 자동 배치 위치 선정을 위한 것이다. 본 발명에 따른 비전센서 배치장치는 공간모델링부, 중요 공간 추출부, 적합도 추출부 및 배치 위치 선정부을 포함하여 구성된다. 공간모델링부는 비전센서 배치할 공간을 2차원 격자 (2D Grid) 맵으로 모델링한다. 중요 공간 추출부는 2차원 격자 (2D Grid) 맵상의 특정영역을 이용하는 에이전트의 유동량 및 출발지에서 목적지으로 이동할 에이전트의 유동 확률을 기초로 중요 공간 영역을 추출한다. 적합도 추출부는 2차원 격자 (2D Grid) 맵상의 특정 위치의 비전센서가 상기 추출된 중요 공간 영역 중 최대 감시할 수 영역(최대 공간 커버리지)을 상기 특정 위치 비전센서의 비용으로 나누어 특정 위치에서의 비전센서 적합도를 추출한다. 배치 위치 선정부는 비전센서 배치 비용의 최대값 및 소정 공간의 최소 감시영역 비율을 나타내는 최소 충족 커버리지를 기초로 비전센서 배치 개수를 구하고, 상기 비전센서 적합도가 높은 순서대로 비전센서 배치 위치를 선정한다. 도 2 는 본 발명에 따른 비전센서 배치장치의 공간모델링부을 구성하는 레이어의 구성을 보여주는 도면이다. 본 발명에 따른 비전센서 배치장치의 공간모델링부는 비전센서가 배치될 공간의 지형을 구분한 벽/공간 (Wall/Space) 레이어(a)와 2차원 격자 (2D Grid) 맵상의 특정영역을 이용하는 사용자의 유동량 및 임의의 출발 점에서 목적지으로 이동할 사용자의 유동 확률 정보를 포함하는 에어리어(Area) 레이어(b)를 포함한다. 벽/공간(Wall/Space) 레이어는 영상센서가 배치될 공간 중 보행 가능한 공간과 그렇지 않은 공간을 구분하여 에 이전트의 경로 탐색 알고리즘에 적용되기 위한 것이다. 에어리어(Area) 레이어는 2차원 격자 (2D Grid) 맵상의 특정영역을 이용하는 사용자의 유동량 및 임의의 출발 점에서 목적지로 이동할 사용자의 유동 확률 정보를 포함한다. 제 1 영역과 제 2영역은 2차원 격자 (2D Grid) 맵상의 특정 위치를 기준으로 반지름 r의 원형으로 표현된다. 따라서, 에어리어(Area) 레이어는 중요공간 영역을 추출하기 위한 위치, 범위, 사용자의 유동량, 출발점에서 목 적지로 이동할 사용자의 유동 확률 정보등의 속성정보를 포함한다. 유동확률이라 함은 2차원 격자(2D Grid) 맵상의 제1영역(출발점)에서 제 2영역(목표지점)에 도착했을때 또 다른 목적지를 선택할 확률이다. 총 목적지 수 n에서 자기 자신을 제외한 n-1개의 배열로 이루어진다. 비전센서 배치장치의 공간모델링부는 중요도(Priority) 레이어(layer)를 더 포함한다. 중요도(Priority) 레이어(layer)는 에이전트의 경로 탐색 등을 통해 공간중요도를 수치로 나타낸 데이터베이스 (DB)이다. 에이전트이 행동에 따라 중요도를 업데이트 하여 최종적으로 카메라 배치위치결정에 중요한 정보로써 사용된다. 도 3 은 본 발명에 따른 비전센서 자동 배치 장치에서 에이전트의 이동 패턴을 모델링한 결과를 보여주는 도면 이다. 본 발명은 에이전트를 사용자로 가정하여 시뮬레이션을 수행하는바, 에이전트는 실제 공간을 이용하는 사용자의 가능한 모든 움직임을 가상으로 구현한다. 실제 공간을 이용하는 사용자는 똑같은 출발점과 목표지점으로 이동하더라도 예측하기 어려울 정도로 다양한 경 로를 사용한다. 사용자의 감성, 사전지식, 주변환경 등 다양한 요인에 따라 경로선택의 우선순위가 달라지기 때문이다. 최단거리를 우선순위로 하는 인공지능 기반의 경로탐색 알고리즘으로 구해진 경로는 도3a에서 보이는 것과 같이 일반 사용자의 경로(도 3b)선택과 상당히 큰 차이를 보이는데 그 이유는 통상적으로 사용되는 경로탐색 알고리 즘에서는 에이전트의 광역적인 지형정보를 모두 학습한 상태라고 가정하고, 국지적인 시야에 대한 고려를 하지 않았으며, 에이전트의 방향전환등에 대한 비용을 고려하지 않았기 때문에 이동경로가 장애물, 벽에 최대한 붙은 꺽인선 형태로 나타난다. 본 발명에서는 이러한 실제 사용자의 이동경로와 에이전트의 이동경로 선택의 차이를 최소화하기 위하여 경로 탐색 알고리즘으로 구해진 루트 주변의 가용 경로를 추정하여 다양한 형태의 경로들을 추가로 계산한다. 사용자가 선택할 수 있는 가능성을 가진 지역은 이런 파생경로에 나타난 다양한 이동경로 상의 좌표 중 하나에 대부분 포함된다. 에이전트는 초기에 모든 목적지에서 이동가능한 모든 영역을 검사하고, 다음과 같은 순서로 추론을 거듭하여 경 로탐색 시뮬레이션을 수행한다. 1. 선택되지 않은 목적지가 존재하지 않는다면 시뮬레이션을 끝내고, 그렇지 않다면 현재위치에서 확률분포에 근거하여 목적지를 선택한다. 2.목적지까지의 경로를 경로탐색 알고리즘을 통해 탐색한다. 3.탐색된 알고리즘상의 경로에서 에어리어 속성정보에 따라 경로학장 알고리즘을 사용하여 경로를 확장한다. 4.구해낸 모든 확장 경로상에 존재하는 이동가능한 지역의 공간중요도를 에어리어 확률분포에 따라 중요공간 지 역 정보에 업데이트하나다. 5.목적지를 현재위치로 변경하고, 1번으로 돌아간다. 길을 찾는 것은 출발점에서 목적지가지 가장 효율적인 이동 순서를 탐색해가는 추론의 과정이다. 즉, 경로탐색 은 목적지를 찾아가는 물리적인 행위 자체뿐만 아니라 그 행위를 하는 과정에서 나타나는 환경정보를 인지하고 판단하며 검토하는 심리적 과정을 포함한다. 경로탐색에 고려되는 요소는 지형적인 환경요소와 가능한 여러 탐색경로 중 선호되는 가치에 따라 최적의 경로 를 선택하게 해주는 목적요소 그리고 그 외에 길을 찾는 주체가 가진 감성적인 요소 역시 크게 작용한다. 환경적인 요소를 모델링하여 시뮬레이션에 도입한 예는 기존의 연구에서도 많이 나타나고 있으나, 감성적인 요 소를 경로탐색 알로리즘에 도입한 예는 많지 않다. 그 이유는 감성적인 부분은 인간의 학습능력과 추론능력, 지 각능력, 자연언어의 이해능력등에 관련된 인공지능의 영역이며, 또 대부분의 연구에서 이런 모호하고 확신이 없 는 영역을 시뮬레이션에 도이하는 것을 실효성이 없기 때문이다. 본 발명에서 이용한 경로 탐색 알고리즘 중 하나인 A* 알고리즘도 감성적인 부분을 배제한 최단경로, 최단비용 이라는 목적만을 가지고 추론을 진행해가는 탐색 알고리즘이다. A* 알고리즘은 종래의 휴리스틱 서치(Heuristic Search)와 그래프 서치(Graph Search)알고리즘을 기반으로 하며, 그래프 서치는 기본적으로 탐색의 선택기준에 맞춰 트리구조로 연결된 맵, 또는 선택대응요소를 노드라는 것으로 정의한다. A* 알고리즘은 다음과 같다. 1. 시작노드 A를 리스트 OPEN에 넣는다. A를 최초의 탐색트리 T에 저장한다. 2. 빈 리스트 CLOSED를 정의한다. 3. OPEN이 비어 있는지 확인해보고 비어있다면 탐색실패를 반환한다. 4. OPEN에서 첫 번째 노드를 선택하여 An으로 칭하고 CLOSED에 넣는다. 5. An이 목표 노드이면 A에서 An까지의 경로를 추적하여 반환한다. 6. 노드 An에 연결된 모든 노드들을 탐색트리 T에 저장한다. 7. 연결된 모든 노드들을 OPEN에 넣는다. 8. 휴리스틱 (Heuristic)과 기타 팩터값에 다라 OPEN 내용을 재정렬한다. 9. 단계 3으로 되돌아간다. 본 발명에서의 A*알고리즘을 기반으로 2D Grid 기반 맵의 방향을 8가지로 나누어 고려하고, 휴리스틱 평가함수 를 다음과 같이 정의함으로써 에이전트 경로탐색에 A* 알고리즘을 활용한다. 수학식 1"}
{"patent_id": "10-2009-0024946", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 3, "content": "여기서, G는 시작노드로부터 현재노드가지의 이동비용 총합이며, H는 현재노드로부터 도착노드가지의 장애물을 무시한 이동비용 총합이다. 따라서 G와 H의 합인 F가 A*알고리즘에서 경로탐색에서 우선순위를 정하는 최종 기준이 된다. 이동비용의 경우 상하좌우 방향은 1, 대각선 방향은 1.4의 비용으로 설정하였다. H를 구하기 위한 노드간의 이동에 대한 '이동 비용'을 계산하기 위해 맨하탄 기법(Manhattan Method)을 사용하 였다. 도 4는 본 발명에 따른 비전센서 자동 배치 장치에서 에이전트의 이동 패턴을 A* 알고리즘으로 모델링한 일 실 시예를 보여주는 도면이다. 상기 언급한대로 A* 알고리즘을 통해 찾아낸 경로와 실제 사용자들의 다양한 경로 사이에는 많은 차이가 있다. 이를 보완하기 위해 본 발명에서는 '경로확장 알고리즘'을 추가적으로 적용하였다. 에이전트 경로탐색 알고리즘에서는 '경로확장 알고리즘'을 통해 A*알고리즘의 경로 주변의 보행가능 공간 중 사 용자가 이동할 것으로 예상되는 영역을 추론하여 중요 공간 추출을 위한 정보를 업데이트 한다. 도 5는 본 발명에 따른 비전센서 자동 배치 장치에서 에이전트의 이동 패턴을 경로 확장 알고리즘으로 모델링한 일 실시예를 보여주는 도면이다. 경로확장 알고리즘의 추론 과정을 다음과 같다. 1.에어리어 속성 정보에 따른 출발지점, 도착지점의 영역범위 r1, r2을 구한다. 2.출발지점의 영역범위 r1의 크기에 따라 확장 출발 지점 개수 n을 구하고, 영역 범위 내에 n개의 확장 출발지 점 위치를 정한다. 3.도착지점의 영역범위 r2의 크기에 따라 확장 출발 지점 개수 m을 구하고, 영역 범위 내에 m개의 확장 출발지 점 위치를 정한다. 4.출발지점을 포함한 확장 출발지점 n+1개, 도착지점을 포함한 확장 도착지점 m+1개에 대해 A* 알고리즘을 적용 하여 (n+1)*(m+1)개의 추가 경로를 탐색한다. 5. 각 경로들의 선에 의해 둘러쌓인 Grid들을 검색하여 확장역역으로 추가한다. 6.추가된 모든 경로에 대한 Grid와 5번에 대한 Grid들을 확장영역으로 리턴한다. 카메라와 같은 비전센서 배치위치를 선택하는 알고리즘은 그리디 전략(Greedy Strategy)의 알고리즘으로 설계된 다. 공간 모델부의 에어리어 속성에서 중요도 정보, 그리고 에이전트의 경로탐색 알고리즘으로부터 얻은 경로정보를 바탕으로 중요공간 영역을 도출하고, 배치위치선택은 최종적으로 이 중요공간 영역을 통해 배치위치를 선택하게 된다. 현재의 상태정보 만을 가지고 판단을 하는 그리디 전략의 특성에 맞게 배치위치 선택은 공간 모델의 모든 좌표 점들을 검사하여 카메라 FOV(Field-Of-View)를 통해 가장 중요도가 높은 지점을 정한다. 도 6 는 본 발명의 비전센서의 FOV(Field-Of-View)를 모델링한 실시예를 보여주는 도면이다. 카메라 FOV(Field-Of-View)는 도 4에 도시된 바와 같이 비전 시스템과의 연계를 고려하지 않은 최소한의 구조 를 가지고 있다. 카메라의 위치를 기준으로 인식거리와 가용각도를 파라미터로 한 삼각형의 구조를 가진다. 1개 비전카메라 위치는 2D 기반의 Grid 맵에서 X,Y의 정수좌표로 위치하고 고정된 위치에서 최대 360도의 위치 각도 값을 가진다. 그러므로 시뮬레이션 상에서 비전카메라의 FOV를 결정하는 인자는 비전카메라 포지션(Cx, Cy), 위치각도 φ, 인 식거리 d, 가용각도 a로 총 4가지가 된다. 최적의 위치는 각 좌표점을 기준으로 조건에 맞는 적합도(Suitability)를 검사하게 되는데, 이 적합도는 중요공 간 영역의 공간 중요도에서 카메라의 비용과 성능 등 다양한 조건에 따라 달라지게 된다. 모든 좌표점과 카메라 타입에 다른 적합도는 다음과 같은 식으로 계산된다. 수학식 2"}
{"patent_id": "10-2009-0024946", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 4, "content": "적합도는 해당 Grid 좌표에서 모든 방향에 대한 가장 FOV내에 공간 중요도를 포괄할 수 있는 각도에서의 수치를 뜻한다. 즉, 해당 Grid에서 얻을 수 있는 최대 공간 중요도 커버리지이다. 이 값을 카메라 비용으로 나눈 것을 적합도라고 정의하였다. 시뮬레이터에서 설정한 다양한 타입의 카메라들 중에서 해당 Grid에서 가장 높은 적합도를 갖는 카메라는 가격 이 저렴하면서 성능이 우수한 카메라가 될 것이다. 계산된 적합도 맵의 모든 Grid중에서 가장 높은 적합도를 갖는 Gird의 순서대로 카메라 배치 위치가 선택되고, 선택된 위치를 기준으로 일정범위 내의 적합도 맵은 카메라가 설치됨에 동시에 다시 재구성된다. 도 7 는 본 발명에 따른 비전 센서 자동 배치 장치의 적합도를 추출한 일 실시예를 보여주는 도면이다. 도 7 는 카메라의 종류에 따른 적합도를 추출한 일 실시예로서 카메라의 종류를 3가지로 설정한다. 카메라 FOV모델링을 위해 인식거리 d, 가용각도 a, 카메라 비용 c를 변수로 한다. 카메라 성능은 아래 표1과 같다. 표 1 인식거리 가용각도 비용 카메라 A 60 Grid 60˚ 80 카메라 B 90 Grid 450˚ 120 카메라 C 120 Grid 60˚ 200 그리디 알고리즘을 통한 배치 알고리즘은 맵상의 모든 Grid에서 모든 카메라 타입에 따른 배치비용과 포괄할 수 있는 최대 공간중요도의 합을 고려하여 적합도를 계산한다. 카메라의 적합도 맵은 최종적으로 최적인 카메라 배치개수 설정까지 지속적으로 업데이트 된다. 최종적으로 도출된 Grid 상에서의 최초의 카메라 배치적합도 맵은 아래 도 5와 같다. 도 7a는 카메라 A의 배치적합도를 보여주는 그래프이고, 도 7b는 카메라 B의 배치적합도를 보여주는 그래프이며 도 7c는 카메라 C의 배치적합도를 보여주는 그래프이다. 입력된 공간의 Priority Layer상에 업데이트된 모든 공간중요도를 카메라가 FOV를 통해 커버한다면 배치는 완료 되지만, 100%의 공간중요도를 충족하는 것이 초적의 카메라 배치라고 볼 수는 없다. 카메라의 최적 배치는 환경, 자원등의 조건에 따라 달라질 수 있는 불확실한 기준이기 때문에 본 발명에서는 카 메라의 최적 배치 개수를 위해 배치비용 한계(비용 한계를 넘지 않는 최대한의 배치개수)와 공간중요도 의 설정 최소 커버리지율(설정된 최소 커버리지율을 충족하는 최소한의 배치 개수)을 계산한다. 자원에 기준한 배치개수, 혹은 공간의 감시수준에 따른 배치개수를 필요에 따라 산출해낼 수 있다. 카메라 배치 알고리즘을 아래와 같다. 1.그리디 전략에 의한 모든 공간 맵에서 카메라 FOV에 의한 커버리지 양과 비용을 고려한 적합도 맵을 구한다. 2.적합도 맵에서 가장 높은 수치의 Grid 좌표를 선택한다. 3.카메라를 배치하고 배치 List에 업데이트한다. 4.배치수량이 최적이라고 판단되면 배치를 종료한다. 5.배치된 카메라 위치 주변의 적합도 맵을 초기화 한다. 6.2번으로 돌아간다. 도 8 는 본 발명에 따른 비전 센서 자동 배치 장치의 배치비용의 한계값을 만족하는 카메라 배치위치의 일 실시 예를 보여주는 도면이다. 도 8a는 카메라 배치비용의 한계값이 500만원 일때의 카메라 배치이고, 도 8b는 카메라 배치비용의 한계값이 1200만원 일때의 카메라 배치이고,도 8c는 카메라 배치비용의 한계값이 1500만원 일때의 카메라 배치의 실시예 를 보여준다.도 9 는 본 발명에 따른 비전 센서 자동 배치 장치의 최소 중요도 커버리지율을 만족하는 카메라 배치위치의 일 실시예를 보여주는 도면이다. 도 9a는 카메라 최소 중요도 커버리지율이 20%일때의 카메라 배치이고, 도 9b는 카메라 최소 중요도 커버리지율 이 60%일때의 카메라 배치이고, 도 9c는 카메라 최소 중요도 커버리지율이 80%일때의 카메라 배치의 실시예를 보여준다. 도 10 은 본 발명에 따른 비전 센서 자동 배치 방법의 흐름도를 보여주는 도면이다. 소정 공간을 2차원 격자 (2D Grid) 맵으로 모델링한다(S1010) 2차원 격자 맵 상의 특정 영역을 이용하는 에이전트의 유동량 및 출발점에서 목적지로 이동할 에이전트의 유동 확률을 기초로 2차원 격자 맵 상의 각 격자 공간 중요도를 수치로 표현한다(S1020). 2차원 격자 맵 상의 특정 좌표에 있는 비전센서의 인식거리(d),가용각도(a) 및 위치각도(φ)를 기초로 정의되는 삼각형(FOV : Field-of-view) 내부 격자의 공간 중요도 수치의 합, 상기 비전센서의 성능 및 비용을 기초로 상 기 비전센서의 적합도를 추출한다(S1030). 비전센서 배치 비용의 최대값 및 상기 소정 공간의 최소 감시영역 비율을 나타내는 최소 충족 커버리지를 기초 로 비전센서 배치 개수를 구하고, 상기 비전센서 적합도가 높은 순서대로 비전센서 배치 위치를 선정한다 (S1040). 본 발명은 첨부된 도면에 도시된 일 실시예를 참고로 설명되었으나, 이는 예시적인 것에 불과하며, 당해 기술분 야에서 통상의 지식을 가진 자라면 이로부터 다양한 변형 및 균등한 타 실시예가 가능하다는 점을 이해할 수 있 을 것이다."}
