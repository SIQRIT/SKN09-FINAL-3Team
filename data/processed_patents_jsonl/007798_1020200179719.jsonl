{"patent_id": "10-2020-0179719", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2022-0089258", "출원번호": "10-2020-0179719", "발명의 명칭": "칼로리 측정용 휴대디바이스, 칼로리 측정 시스템 및 방법", "출원인": "한국기술교육대학교 산학협력단", "발명자": "김덕수"}}
{"patent_id": "10-2020-0179719", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "촬영부를 구비하여 음식을 대상으로 음식 이미지를 획득 가능한 휴대디바이스에 있어서,상기 획득된 음식 이미지에서 인공지능 알고리즘 기반의 세그멘테이션을 이용하여 음식영역과 비음식영역을 구분하고, 클래시피케이션을 이용하여 음식영역의 음식 종류를 판단하며, 판단된 해당 음식에 대해 부피(음식량)를 산출하여, 기저장된 해당 음식의 부피당 칼로리정보를 이용하여 부피에 따른 칼로리정보를 산출하는 것을 특징으로 하는 휴대디바이스."}
{"patent_id": "10-2020-0179719", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 휴대디바이스는음식을 촬영하여 음식 이미지를 획득하고, 음식의 깊이정보를 계산하기 위한 깊이 카메라를 포함하는 촬영부;상기 음식 이미지로부터 인공지능 학습 알고리즘 기반의 세그멘테이션의 영역 구분 학습 데이터셋을 이용하여학습하고, 학습결과로 음식영역과 비음식영역을 구분하며, 이미지 클래시피케이션의 음식 분류 학습 데이터셋을이용하여 학습하고 학습결과로 상기 음식영역에 위치한 해당 음식의 음식 종류를 판단하는 분석부;상기 깊이정보를 이용하여 음식의 부피를 계산할 수 있으며, 계산된 음식의 부피와 기저장된 해당 음식의 단위부피당 칼로리를 이용하여 해당 음식의 부피(음식량)에 따른 칼로리 정보를 산출하는 산출부;상기 촬영부로부터 획득된 음식 이미지를 분석부에 제공하여, 음식 이미지로부터 인공지능 학습 알고리즘을 이용하여 특정 음식을 판단하고, 음식에 대한 깊이정보를 활용하여 부피 계산이 가능하도록 분석부에 명령하거나,상기 산출부에서 부피정보를 기반으로 해당 음식에 대한 칼로리를 산출하도록 명령하는 제어부;를 포함하는 휴대디바이스."}
{"patent_id": "10-2020-0179719", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,통신망을 통하여 연결된 관리서버와 데이터를 송수신하는 통신부;상기 산출부에 의해 계산된 음식의 부피에 따른 칼로리 정보를 표시하여 사용자에게 제공하는 표시부;를 더 포함하는 휴대디바이스."}
{"patent_id": "10-2020-0179719", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,상기 영역 구분 학습 데이터셋, 음식 분류 학습 데이터셋 및 단위부피당 칼로리 정보는 상기 관리서버에 저장되고, 상기 통신부에 의해 전송받는 것을 특징으로 하는 휴대디바이스."}
{"patent_id": "10-2020-0179719", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제2항에 있어서,상기 산출부는상기 깊이정보와 상기 구분된 음식영역을 이용하여 음식 픽셀 높이, 가로 길이, 깊이 비율 및 픽셀 영역 넓이를산출하고, 음식 픽셀 높이, 가로 길이, 깊이 비율 및 픽셀 영역 넓이를 이용하여 해당 음식 픽셀 부피를 계산하는 것을 특징으로 하는 휴대디바이스.공개특허 10-2022-0089258-3-청구항 6 음식을 촬영하여 음식 이미지를 획득하고, 음식 이미지를 전송하는 휴대디바이스;통신망을 통하여 상기 휴대디바이스와 연결되어 상기 음식 이미지를 전송받고, 상기 획득된 음식 이미지에서 인공지능 알고리즘 기반의 세그멘테이션을 이용하여 음식영역과 비음식영역을 구분하고, 클래시피케이션을 이용하여 음식영역의 음식 종류를 판단하며, 판단된 해당 음식에 대해 부피(음식량)를 산출하여, 기저장된 해당 음식의 부피당 칼로리정보를 이용하여 부피에 따른 칼로리정보를 산출하는 관리서버;를 포함하는 칼로리 측정 시스템."}
{"patent_id": "10-2020-0179719", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서,상기 관리서버는상기 음식 이미지를 상기 휴대디바이스로부터 전송받는 수집부;상기 음식 이미지로부터 이미지 클래시피케이션을 이용하여 음식영역과 비음식영역을 구분하고, 음식영역에 위치한 해당 음식이 어떤 음식인지 판단하도록 하는 음식 종류를 판단하는 음식분석부; 깊이 카메라 또는 깊이정보 산출 알고리즘을 이용하여 음식 이미지로부터 깊이정보를 산출하고, 산출된 깊이정보를 이용하여 음식의 부피를 계산하고, 부피에 따른 음식 칼로리정보가 계산하는 칼로리산출부; 상기 휴대디바이스를 통하여 사용자가 요청한 음식에 대한 음식 부피에 따른 칼로리 정보를 수집하여 통계정보로서, 데이터베이스에 음식별, 사용자별로 카테고리화하여 분류되어 저장할 수 있으며, 휴대디바이스에서 사용자 요청시 해당 통계정보를 제공하는 통계학습부를 더 포함하는 칼로리 측정 시스템."}
{"patent_id": "10-2020-0179719", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "촬영부를 구비하여 음식 이미지를 획득하는 휴대디바이스와 통신망을 통하여 연결되는 관리서버를 이용한 칼로리 측정 방법에 있어서,상기 휴대디바이스의 촬영부를 통하여 음식 이미지를 촬영하여 획득하고, 상기 관리서버로 전송하는 단계;상기 휴대디바이스 또는 관리서버는 세그멘테이션의 영역 구분 학습 데이터셋을 이용하여 학습하고, 학습결과로음식 이미지의 음식영역과 비음식 영역을 구분하는 단계;상기 휴대디바이스 또는 관리서버는 음식 이미지로부터 이미지 클래시피케이션의 음식 분류 학습 데이터셋을 이용하여 학습하고 학습결과로 상기 음식영역에 위치한 해당 음식의 음식 종류를 판단하는 단계;상기 휴대디바이스 또는 관리서버는 해당 음식의 부피를 계산하기 위해 깊이 카메라를 사용하여 입력 이미지 픽셀별 깊이 정보 산출하는 단계;상기 휴대디바이스 또는 관리서버는 세그멘테이션 결과와 깊이 정보를 이용하여 부피 측정 알고리즘을 통해 음식의 부피를 계산하는 단계;상기 휴대디바이스 또는 관리서버는 클래시피케이션 결과와 부피 그리고 부피당 칼로리 정보를 이용해 음식의칼로리를 계산하는 단계;를 포함하는 칼로리 측정 방법."}
{"patent_id": "10-2020-0179719", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에 있어서,상기 관리서버는 계산된 칼로리정보를 휴대디바이스로 전송하는 단계;상기 휴대디바이스의 표시부를 통해 사용자가 확인 가능하도록 표시되는 단계;를 더 포함하는 칼로리 측정 방법.공개특허 10-2022-0089258-4-청구항 10 제8항 또는 제9항의 칼로리 측정 방법을 수행하는 컴퓨터에서 판독 가능한 기록매체에 저장된 컴퓨터 프로그램."}
{"patent_id": "10-2020-0179719", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명의 일 실시예에 따른 칼로리 측정용 휴대디바이스는, 촬영부를 구비하여 음식을 대상으로 음식 이미지를 획득 가능한 휴대디바이스에 있어서, 상기 획득된 음식 이미지에서 인공지능 알고리즘 기반의 세그멘테이션을 이 용하여 음식영역과 비음식영역을 구분하고, 클래시피케이션을 이용하여 음식영역의 음식 종류를 판단하며, 판단 된 해당 음식에 대해 부피(음식량)를 산출하여, 기저장된 해당 음식의 부피당 칼로리정보를 이용하여 부피에 따 른 칼로리정보를 산출하는 것을 특징으로 한다."}
{"patent_id": "10-2020-0179719", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 칼로리 측정 시스템 및 방법에 관한 것으로, 더욱 상세하게는 깊이카메라를 이용하여 깊이정보를 계 산하고, 깊이정보로 음식의 부피를 산출하여 부피에 따른 음식 칼로리를 측정하는 칼로리 측정 시스템 및 방법 에 관한 것이다."}
{"patent_id": "10-2020-0179719", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "현재, 건강 관리에 대한 관심도가 증가하는 추세에서 음식 촬영을 통한 칼로리 측정이 이루어지며, 음식의 인식 및 분류에 의해 칼로리를 측정하는 어플리케이션이 사용되고 있다. 또한, 음식물의 정량은 카메라와 음식물 간의 거리를 카메라가 초점을 맞출 때 사용되는 데이터를 기반으로 측 정하며, 식단 관리하는데 활용될 수 있으며, 당뇨병 환자들의 식단 관리에 초점을 맞추어 섭식 기록 기능 등을 제공한다. 그러나, 기존의 음식 촬영을 통한 칼로리 측정 방식은 음식의 분류 기능만을 제공하고, 음식의 부피 측량의 경 우 사용자의 직접 입력, 카메라의 렌즈 포커스 데이터 활용 등의 방법이 사용되었으나, 부피 측정의 정확도가 떨어지고, 사용하기 불편한 문제점 등이 있었으므로, 기존 메커니즘과는 다른 새로운 부피 산출 알고리즘에 대 한 방법이 제시될 필요성이 있다. 따라서, 최근 스마트폰 시장의 깊이 카메라 탑재 동향을 고려하여 이러한 깊이 카메라 기술을 활용한 부피 측량 방식을 활용하고,'측정 자동화'에 초점을 두고, 기존 칼로리 측정 어플리케이션들과 같이 음식 분류를 위한 AI 모델 설계와 상기한 깊이 카메라를 활용하기 위한 추가적인 세그멘테이션 및 깊이정보를 이용한 부피 산출 방식 을 활용한 칼로리 측정 시스템 및 방법에 대한 연구가 필요하게 되었다. 선행기술문헌 특허문헌 (특허문헌 0001) 한국공개특허 제10-2014-0077009호(2014년06월23일 공개)"}
{"patent_id": "10-2020-0179719", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 목적은 3차원 공간의 정보를 얻어내는 깊이 카메라의 메커니즘과 AI를 통한 대상의 분리 및 식별을 활용하여 음식 종류를 특정하고, 깊이정보를 활용하여 해당 음식에 대한 부피를 계산한 다음, 음식의 부피에 따 른 칼로리를 산출할 수 있는 칼로리 측정 시스템 및 방법을 제공하는 것이다."}
{"patent_id": "10-2020-0179719", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 일 실시예에 따른 칼로리 측정용 휴대디바이스는, 촬영부를 구비하여 음식을 대상으로 음식 이미지를 획득 가능한 휴대디바이스에 있어서, 상기 획득된 음식 이미지에서 인공지능 알고리즘 기반의 세그멘테이션을 이용하여 음식영역과 비음식영역을 구분하고, 클래시피케이션을 이용하여 음식영역의 음식 종류를 판단하며, 판 단된 해당 음식에 대해 부피(음식량)를 산출하여, 기저장된 해당 음식의 부피당 칼로리정보를 이용하여 부피에 따른 칼로리정보를 산출하는 것을 특징으로 한다. 상기 휴대디바이스는 음식을 촬영하여 음식 이미지를 획득하고, 음식의 깊이정보를 계산하기 위한 깊이 카메라 를 포함하는 촬영부; 상기 음식 이미지로부터 인공지능 학습 알고리즘 기반의 세그멘테이션의 영역 구분 학습 데이터셋을 이용하여 학습하고, 학습결과로 음식영역과 비음식영역을 구분하며, 이미지 클래시피케이션의 음식분류 학습 데이터셋을 이용하여 학습하고 학습결과로 상기 음식영역에 위치한 해당 음식의 음식 종류를 판단하 는 분석부; 상기 깊이정보를 이용하여 음식의 부피를 계산할 수 있으며, 계산된 음식의 부피와 기저장된 해당 음식의 단위부피당 칼로리를 이용하여 해당 음식의 부피(음식량)에 따른 칼로리 정보를 산출하는 산출부; 상기 촬영부로부터 획득된 음식 이미지를 분석부에 제공하여, 음식 이미지로부터 인공지능 학습 알고리즘을 이용하여 특정 음식을 판단하고, 음식에 대한 깊이정보를 활용하여 부피 계산이 가능하도록 분석부에 명령하거나, 상기 산출부에서 부피정보를 기반으로 해당 음식에 대한 칼로리를 산출하도록 명령하는 제어부를 포함한다. 상기 휴대디바이스는, 통신망을 통하여 연결된 관리서버와 데이터를 송수신하는 통신부; 상기 산출부에 의해 계 산된 음식의 부피에 따른 칼로리 정보를 표시하여 사용자에게 제공하는 표시부;를 더 포함한다. 상기 영역 구분 학습 데이터셋, 음식 분류 학습 데이터셋 및 단위부피당 칼로리 정보는 상기 관리서버에 저장되 고, 상기 통신부에 의해 전송받는 것을 특징으로 한다. 상기 산출부는 상기 깊이정보와 상기 구분된 음식영역을 이용하여 음식 픽셀 높이, 가로 길이, 깊이 비율 및 픽 셀 영역 넓이를 산출하고, 음식 픽셀 높이, 가로 길이, 깊이 비율 및 픽셀 영역 넓이를 이용하여 해당 음식 픽 셀 부피를 계산하는 것을 특징으로 한다. 본 발명의 일 실시예에 따른 칼로리 측정 시스템은, 음식을 촬영하여 음식 이미지를 획득하고, 음식 이미지를 전송하는 휴대디바이스; 통신망을 통하여 상기 휴대디바이스와 연결되어 상기 음식 이미지를 전송받고, 상기 획 득된 음식 이미지에서 인공지능 알고리즘 기반의 세그멘테이션을 이용하여 음식영역과 비음식영역을 구분하고, 클래시피케이션을 이용하여 음식영역의 음식 종류를 판단하며, 판단된 해당 음식에 대해 부피(음식량)를 산출하 여, 기저장된 해당 음식의 부피당 칼로리정보를 이용하여 부피에 따른 칼로리정보를 산출하는 관리서버;를 포함 한다. 상기 관리서버는 상기 음식 이미지를 상기 휴대디바이스로부터 전송받는 수집부; 상기 음식 이미지로부터 이미 지 세그멘테이션을 이용하여 음식영역과 비음식영역을 구분하고, 음식영역에 위치한 해당 음식이 어떤 음식인지 판단하도록 하는 음식 종류를 판단하는 음식분석부; 깊이 카메라 또는 깊이정보 산출 알고리즘을 이용하여 음식 이미지로부터 깊이정보를 산출하고, 산출된 깊이정보를 이용하여 음식의 부피를 계산하고, 부피에 따른 음식 칼 로리정보가 계산하는 칼로리산출부; 상기 휴대디바이스를 통하여 사용자가 요청한 음식에 대한 음식 부피에 따 른 칼로리 정보를 수집하여 통계정보로서, 데이터베이스에 음식별, 사용자별로 카테고리화하여 분류되어 저장할 수 있으며, 휴대디바이스에서 사용자 요청시 해당 통계정보를 제공하는 통계학습부를 더 포함한다. 본 발명의 일 실시예에 따른 칼로리 측정 방법은, 촬영부를 구비하여 음식 이미지를 획득하는 휴대디바이 스와 통신망을 통하여 연결되는 관리서버를 이용한 칼로리 측정 방법에 있어서, 상기 휴대디바이스의 촬영부 를 통하여 음식 이미지를 촬영하여 획득하고, 상기 관리서버로 전송하는 단계; 상기 휴대디바이스 또는 관 리서버는 세그멘테이션의 영역 구분 학습 데이터셋을 이용하여 학습하고, 학습결과로 음식 이미지의 음식영역과 비음식 영역을 구분하는 단계; 상기 휴대디바이스 또는 관리서버는 음식 이미지로부터 이미지 클래시피케이션의 음식 분류 학습 데이터셋을 이용하여 학습하고 학습결과로 상기 음식영역에 위치한 해당 음식의 음식 종류를 판 단하는 단계; 상기 휴대디바이스 또는 관리서버는 해당 음식의 부피를 계산하기 위해 깊이 카메라를 사용하여 입력 이미지 픽셀별 깊이 정보 산출하는 단계; 상기 휴대디바이스 또는 관리서버는 세그멘테이션 결과와 깊이 정보를 이용하여 부피 측정 알고리즘을 통해 음식의 부피를 계산하는 단계; 상기 휴대디바이스 또는 관리서버는 클래시피케이션 결과와 부피 그리고 부피당 칼로리 정보를 이용해 음식의 칼로리를 계산하는 단계; 를 포함한다. 상기에 있어서, 상기 관리서버는 계산된 칼로리정보를 휴대디바이스로 전송하는 단계; 상기 휴대디바이스의 표 시부를 통해 사용자가 확인 가능하도록 표시되는 단계;를 더 포함한다."}
{"patent_id": "10-2020-0179719", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 칼로리 측정 시스템은 깊이 카메라와, 인공지능 학습 알고리즘을 통한 대상의 분리 및 식별을 활용하 여 이를 음식의 칼로리 산출에 적용할 수 있다. 또한, 기존 2차원적인 이미지와 사용자의 직접적인 용량의 입력으로만 칼로리를 산출해내던 음식 칼로리 측정 방식에 비해, 세그멘테이션에 의한 음식 영역 구분 및 깊이정보에 기반하여 부피를 측정하며, 부피별 음식 칼로 리를 측정하므로 더 정확하고 편리한 측정이 가능한 장점이 있다."}
{"patent_id": "10-2020-0179719", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하에서는 도면을 참조하여 본 발명의 구체적인 실시예를 상세하게 설명한다. 다만, 본 발명의 사상은 제시되 는 실시예에 제한되지 아니하고, 본 발명의 사상을 이해하는 당업자는 동일한 사상의 범위 내에서 다른 구성요 소를 추가, 변경, 삭제 등을 통하여, 퇴보적인 다른 발명이나 본 발명 사상의 범위 내에 포함되는 다른 실시예 를 용이하게 제안할 수 있을 것이나, 이 또한 본원 발명 사상 범위 내에 포함된다고 할 것이다. 또한, 각 실시 예의 도면에 나타나는 동일한 사상의 범위 내의 기능이 동일한 구성요소는 동일한 참조부호를 사용하여 설명한 다. 도 1은 본 발명의 일 실시예에 따른 칼로리 측정 시스템의 구성을 보인 블록도이며, 도 2는 도 1에 도시된 휴대 디바이스의 세부 구성을 보인 블록도이며, 도 3은 도 1의 관리서버의 세부 구성을 보인 블록도이다. 본 발명의 일 실시예에 따른 휴대디바이스는 음식을 촬영하여, 음식 이미지를 획득하고, 획득된 음식 이미 지에서 인공지능 알고리즘 기반의 세그멘테이션을 이용하여 음식영역과 비음식영역을 구분하고, 클래시피케이션 (Classification)을 이용하여 음식영역의 음식 종류를 판단하며, 판단된 해당 음식에 대해 부피(음식량)를 산출 하여, 부피에 따른 칼로리정보를 산출할 수 있다. 이를 위해 음식 종류를 판단 및 분류하기 위한 학습 데이터셋 이 저장될 수 있다. 이를 위해 휴대디바이스는 도 2에 도시된 바와 같이, 촬영부, 제어부, 분석부, 산출부 , 통신부, 표시부를 더 포함한다. 촬영부는 음식을 대상으로 촬영하여 RGB 영상 형태의 음식이미지를 촬영하며, 부피 산출을 위한 깊이정보 를 계산하기 위해 깊이 카메라를 더 포함하며, 예컨대 RGB-D(Depth) 카메라, 3D-Depth 카메라 등이 될 수 있다. 즉, 휴대디바이스는 깊이 카메라를 내장할 수 있으며, 내장된 깊이 카메라를 이용하여 자체적으로 음식 이 미지로부터 깊이 정보를 추출하여 부피별 칼로리 측정이 가능하도록 구현할 수도 있다. 이를 위해 휴대디바이스 내에는 깊이 카메라가 내장되거나, 깊이 정보 추출 알고리즘이 프로그래밍되어 내장될 수 있으며, 상술한 칼로리 관리 앱 내에서 구현될 수도 있다. 또한 음식 이미지에서 특정 음식을 구분하게 되면 해당 음식에 대한 칼로리 정보를 알기 위해 관리서버에 기저장된 음식별 칼로리 정보를 제공받아 해당 음식의 부피별 칼로리를 산출할 수 있다. 부피에 따른 칼로리 산 출에 대해서는 후술하여 자세히 설명하기로 한다. 제어부는 디바이스에 수행되는 기능들을 제어하기 위한 명령을 하달할 수 있으며, 구체적으로 촬영부(11 0)로부터 획득된 음식 이미지를 분석부에 제공하여, 음식 이미지로부터 인공지능 학습 알고리즘을 이용하 여 특정 음식을 판단하고, 음식에 대한 깊이정보를 활용하여 부피 계산이 가능하도록 분석부에 명령하거나, 산출부에서 부피정보를 기반으로 해당 음식에 대한 칼로리 산출하도록 명령하거나, 산출된 음 식 칼로리를 표시부에 표시하도록 명령할 수 있다. 제어부는 예컨대, 아두이노보드, 라즈베리 파이 등과 같은 통합 MCU가 될 수 있다. 분석부는 음식 이미지로부터 이미지 클래시피케이션을 이용하여 음식영역에 위치한 해당 음식이 어떤 음식 인지 판단하도록 하는 음식종류 판단 기능을 수행할 수 있다. 여기서, 음식 종류 판단을 위해 사용되는 클래시피케이션은 입력변수에 대해 하나의 레이블을 예측하는 것으로 입력된 데이터가 이미지가 될 경우, 해당 이미지가 어떤 클래스에 속하는 지를 판별할 수 있는 인공지능 기반 학습 알고리즘이며, 이를 위한 학습 데이터로서, 미리 음식 종류별 기준 음식 이미지에 대한 음식 분류 학습 데 이터셋이 별도의 데이터베이스에 저장되어 관리될 수 있다. 또한, 음식영역과 비음식영역(예: 배경이나 접시와 같은 부분)을 구분하기 위해 CNN과 같은 인공지능 기반 학습 알고리즘을 이용한 세그멘테이션 기법을 활용할 수 있으며, 세그멘테이션은 사진 이미지를 구성하고 있는 모든 픽셀들을 미리 지정된 개수의 class 레이블로 분류하는 AI 기법으로 이를 통해 영역 구분 학습 데이터셋이 저장 되어 학습된 후, 촬영된 이미지 안에 있는 대상들을 음식 영역을 구분하여 분류해낼 수 있으며, 이와 같은 세그 멘테이션 과정을 거쳐 영역을 구분한 예시를 도 6에 도시하고 있다. 나아가 음식영역과 비음식영역을 구분하기 위해 R-CNN, FAST-CNN, YOLO, SSD와 같은 객체 인식 알고리즘이 적용 될 수 있으며, 이 또한 비음식영역을 구분하도록 학습을 위한 영역 구분 학습 데이터셋(기준 이미지 데이터)을 데이터베이스에 저장하여 학습시킬 수도 있다. 또한, 분석부는 깊이 카메라를 사용하거나, 깊이 카메라에 의해 수행되는 깊이정보 산출 과정과 유사한 깊 이정보 산출 알고리즘에 의해 촬영된 음식 이미지로부터 깊이정보를 산출할 수 있다. 여기서 깊이(Depth) 카메라는 사용자가 촬영하는 이미지의 깊이를 지각하여 3D공간 그 자체를 인지할 수 있는 기술이 적용되어 촬영 대상의 깊이감, 거리감, 크기감과 같은 3차원 깊이 정보를 얻어낼 수 있는 카메라이다. 또한 깊이카메라는 촬영되는 음식 이미지에서의 깊이 정보를 산출하기 위해 예를 들어, 스테레오 방식, 다수 카 메라 배열 방식, 구조광 방식, TOF 방식, 라이다 방식, 레이저 방식 및 초음파 방식 중 적어도 하나의 방식을 이용하여 음식 이미지로부터 깊이 정보를 획득할 수 있다. 또한 다양한 환경에서 깊이 정보를 획득할 수 있는데, 예컨대 대상물로부터 근거리에 위치한 센서를 이용하여 깊이 정보를 획득하거나, 대상물로부터 원거리에 위치한 센서를 이용하여 깊이 정보를 획득할 수도 있다. 또한 산출부는 깊이정보를 이용하여 음식의 부피를 계산할 수 있으며, 도 6을 참조하면, 깊이정보에 포함 될 수 있는 음식 픽셀당 높이, 픽셀의 깊이 비율, 픽셀 영역 넓이 등을 이용하여 해당 음식 픽셀 부피를 계산할 수 있는 것이다. 즉, 촬영된 음식 이미지 상에 음식에 해당하는 음식 영역의 픽셀 길이(Hi)를 측정하고, 특정 음식 픽셀 영역에 대해서 넓이(PixelAreai)를 계산할 수 있다. 구체적으로 음식 픽셀 높이는 다음 수학식 1에 의해 구할 수 있다. 수학식 1"}
{"patent_id": "10-2020-0179719", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "여기서, Hi는 음식 픽셀 높이이고, D는 깊이 카메라에 의해 획득된 전체 깊이(높이)이고, Fi는 비음식 영역에 대 한 높이이다. 또한 상기 D와 Fi를 이용하여 각 픽셀의 깊이 비율(Ratei)은 다음 수학식 2에 의해 구할 수 있다. 수학식 2"}
{"patent_id": "10-2020-0179719", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "또한 각 픽셀의 넓이(PixelAreai)는 다음 수학식 3에 의해 구할 수 있다. 수학식 3"}
{"patent_id": "10-2020-0179719", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "여기서 Ai 는 음식 영역의 가로 길이에 해당한다. 마지막으로, 각 음식 픽셀의 부피(V)는 다음 수학식 4에 의해 구할 수 있다. 수학식 4"}
{"patent_id": "10-2020-0179719", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "또한, 산출부는 상기 수학식 4에 의해 계산된 음식 픽셀의 부피와 기저장된 해당 음식의 단위부피당 칼로 리를 이용하여 해당 음식의 부피(음식량)에 따른 칼로리 정보를 산출할 수 있다. 여기서 단위부피당 칼로리 정 보는 내부 메모리에 저장되거나 관리서버의 데이터베이스에 저장될 수 있다. 통신부는 통신망으로 통하여 관리서버와 연계할 수 있으며, 관리서버에 구축된 데이터베이스에 모든 음식에 대한 단위부피당 칼로리를 저장하는 경우, 이를 통신망을 통하여 전송받아 상기 산출부에 제 공할 수 있다. 표시부는 산출부에 의해 계산된 음식의 부피에 따른 칼로리 정보를 표시하여 사용자에게 제공할 수 있다. 또한 휴대디바이스는 상술한 기능들을 제공하기 위해 관리서버에서 제공되거나 웹 상의 컨텐츠제공서 버(CP)에서 제공될 수 있는 칼로리 관리 앱을 통하여 관리서버와 연동하여 칼로리 정보를 제공받을 수 있 다. 특히 표시부에는 도 7에 도시된 바와 같이, 음식을 촬영하고(촬영 버튼), 사용자가 촬영한 음식이미지를 입력하고, 그 결과인 해당 음식의 부피별 칼로리정보를 표시할 수 있는 GUI(GRAPHIC USER INTERFACE)를 통하여 사용자에게 해당 칼로리정보를 제공할 수 있다. 본 발명의 일 실시예에 따른 칼로리 측정 시스템은, 상술한 칼로리 측정을 위한 휴대디바이스와, 휴대디바 이스가 통신망을 통하여 접속되는 관리서버를 포함한다. 칼로리 측정 시스템에서 휴대디바이스는 음식 이미지를 촬영하고, 분석된 칼로리 정보를 표시하는 기능만 을 제공하고, 관리서버에 의해 음식 이미지로부터 음식 종류 판단 및 해당 음식의 부피에 따른 칼로리 분 석이 수행될 수 있다. 이를 위해 휴대디바이스에는 음식 이미지를 획득할 수 있는 카메라 형태의 촬영부와, 음식 이미지를 관리서버로 전송하고, 이미지 분석에 의해 칼로리가 산출되면 해당 칼로리 정보를 전송받기 위해 상술한 제어부, 통신부 및 표시부 만을 포함할 수 있다. 관리서버에는 휴대디바이스로 제공되어 연동되는 모바일용 칼로리 관리 앱(application)을 통해, 음 식 이미지를 제공받아 음식 이미지 분석 결과로 해당 음식의 칼로리 정보를 계산하여 제공하도록 구현될 수 있 다. 관리서버는 휴대디바이스로부터 음식 이미지를 제공받아 음식 이미지의 분석을 통해 음식영역과 비음 식영역(배경)을 구분하고, 음식영역에 대해 특정 음식을 판단하고, 특정 음식에 대한 부피를 산출하여 부피에 따른 해당 음식의 칼로리를 산출하고, 해당 음식의 칼로리 정보를 휴대디바이스로 전송할 수 있다. 이를 위해 관리서버는 도 2에 도시된 바와 같이, 수집부, 음식분석부, 칼로리산출부, 통계 학습부 및 데이터베이스를 더 포함한다.수집부는 통신망을 통하여 상기 휴대디바이스로부터 촬영된 음식 이미지를 전송받으며, 음식 이미지 학습이나 통계 자료로 활용하기 위해 데이터베이스에 저장할 수 있다. 음식분석부는 음식 이미지로부터 이미지 세그멘테이션을 이용하여 음식영역과 비음식영역을 구분하고, 음 식영역에 위치한 해당 음식이 어떤 음식인지 판단하도록 하는 음식종류 판단 기능을 수행할 수 있다. 나아가 음식영역과 비음식영역을 구분하기 위해 상술한 바와 같이 R-CNN, FAST-CNN, YOLO, SSD와 같은 객체 인 식 알고리즘이 적용될 수 있으며, 이 또한 비음식영역을 구분하도록 학습을 위한 학습 데이터 셋(기준 데이터) 을 데이터베이스에 저장하여 학습시킬 수도 있다. 또한 칼로리산출부는 깊이 카메라를 사용하거나, 깊이 카메라와 같은 깊이정보 산출 알고리즘에 의해 음식 이미지로부터 깊이정보를 산출할 수 있다. 또한 깊이정보를 이용하여 음식의 부피를 계산하고, 부피에 따른 음 식 칼로리정보가 계산될 수 있으며, 상술한 바와 같이, 네트워크상에 구현될 뿐 휴대디바이스의 산출부 의 기능과 같이 동일하게 수행되므로, 중복되는 구체적 설명은 생략하기로 한다. 또한 칼로리산출부에서 산출된 부피(음식 중량)별 음식 칼로리 정보는 통신망을 통하여 휴대디바이스(10 0)에 전송되어 사용자가 확인할 수 있도록 제공된다. 통계학습부는 휴대디바이스를 통하여 사용자가 요청한 음식에 대한 음식 부피에 따른 칼로리 정보를 수집하여 통계정보로서, 데이터베이스에 음식별, 사용자별로 카테고리화하여 분류되어 저장할 수 있으며, 휴대디바이스에서 사용자 요청시 해당 통계정보를 제공할 수 있도록 한다. 또한, 통계학습부는 수집된 통계정보를 기반으로 인공지능 학습 알고리즘을 이용하여 사용자 패턴을 학습 시킬 수 있다. 또한 사용자가 요청한 음식 이미지 칼로리 정보 요청 패턴에 따라 특정 음식을 비추천하거나 대체 음식을 추천 하는 데 활용될 수 있다. 예컨대 사용자가 제공한 음식 이미지 중에서 특정 음식에 대한 이미지에 대한 칼로리 정보가 많이 요청된 경우, 해당 음식의 칼로리가 높은 경우, 비슷한 종류의 칼로리가 낮은 음식을 추천해주거나, 균형있는 식사를 위한 다 른 음식을 추천하는 등 학습된 데이터를 기반으로 해당 사용자에게 음식 추천 자료로 활용시킬 수 있다. 이를 통해 단순히 사용자가 요청한 칼로리 정보들에 대한 통계만을 제공하는 것이 아니라, 특정 음식의 소비를 억제하거나 권장하기 위한 추천 자료로 제공할 수 있으며, 이때 사용되는 인공지능 학습 알고리즘은 예컨대 서 포트벡터머신(SVM), 합성곱신경망(CNN), 순환신경망(RNN) 등이 사용될 수 있다. 도 4는 본 발명의 일 실시예에 따른 칼로리 측정 방법의 순서도이다. 먼저 휴대디바이스의 촬영부를 통하여 음식 이미지를 촬영한다(S100). 촬영된 음식 이미지는 상술한 두 실시예에서와 같이, 휴대디바이스 또는 관리서버에서 클래시피케이 션 및 세그멘테이션 과정을 통해 부피에 따른 음식 칼로리 정보를 산출할 수 있다(S102). 휴대디바이스 또는 관리서버는, 음식 이미지로부터 이미지 클래시피케이션을 이용하여 음식영역에 위치한 해당 음식이 어떤 음식인지 판단하도록 하는 음식종류 판단하고, 자동 음식 분류를 수행한다(S104). 다음, 세그멘테이션을 이용한 데이터셋을 통해 음식 이미지의 음식(foreground) 영역과 비음식(background) 영 역을 구분한다(S106). 해당 음식의 부피를 계산하기 위해 깊이카메라를 사용하여 입력 이미지 픽셀별 실제 깊이 정보 산출한다(S108). 이제 상기 S106 단계의 세그멘테이션 결과와 S108 단계의 깊이 정보를 이용하여 부피 측정 알고리즘을 통해 음 식의 부피를 계산한다(S110). 또한, S104 단계의 클래시피케이션 결과와 S110 단계에서 얻은 부피 그리고 부피 당 칼로리 정보를 이용해 음식 의 칼로리를 계산한다(S112). 계산된 칼로리정보는 휴대디바이스로 전송되어 휴대디바이스의 표시부를 통해 사용자가 확인 가 능하도록 표시된다. 본 명세서에서 ‘휴대디바이스’는 휴대성 및 이동성이 보장된 무선 통신 장치일 수 있으며, 예를 들어 스마트 폰, 태블릿 PC 또는 노트북 등과 같은 모든 종류의 핸드헬드(Handheld) 기반의 무선 통신 장치일 수 있다.또한, ‘휴대디바이스’은 네트워크를 통해 다른 단말 또는 서버 등에 접속할 수 있는 PC 등의 유선 통신 장치 인 것도 가능하다. 또한, 통신망은 단말들 및 서버들과 같은 각각의 노드 상호 간에 정보 교환이 가능한 연결 구조를 의미하는 것으로, 근거리 통신망(LAN: Local Area Network), 광역 통신망(WAN: Wide Area Network), 인터넷 (WWW: World Wide Web), 유무선 데이터 통신망, 전화망, 유무선 텔레비전 통신망 등을 포함한다. 무선 데이터 통신망의 일례에는 3G, 4G, 5G, 3GPP(3rd Generation Partnership Project), LTE(Long Term Evolution), WIMAX(World Interoperability for Microwave Access), 와이파이(Wi-Fi), 블루투스 통신, 적외선 통신, 초음파 통신, 가시광 통신(VLC: Visible Light Communication), 라이파이(LiFi) 등이 포함되나 이에 한 정되지는 않는다."}
{"patent_id": "10-2020-0179719", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 칼로리 측정 시스템의 구성을 보인 블록도이다. 도 2는 도 1에 도시된 휴대디바이스의 세부 구성을 보인 블록도이다. 도 3은 도 1의 관리서버의 세부 구성을 보인 블록도이다. 도 4는 본 발명의 일 실시예에 따른 칼로리 측정 방법의 순서도이다. 도 5는 인공지능 학습 모델을 통한 세그멘테이션(Segmentation)화 한 예시를 보여주는 도면이다. 도 6은 깊이카메라를 이용한 음식 이미지에서 부피 계산하는 방법을 설명하기 위한 도면이다. 도 7은 칼로리 관리 앱을 이용한 측정결과 화면을 예시적으로 보여주는 도면이다."}
