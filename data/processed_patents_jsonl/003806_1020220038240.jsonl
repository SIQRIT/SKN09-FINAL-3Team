{"patent_id": "10-2022-0038240", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0139650", "출원번호": "10-2022-0038240", "발명의 명칭": "무선 통신 시스템에서 단말 정책을 제공하기 위한 방법 및 장치", "출원인": "삼성전자주식회사", "발명자": "김동연"}}
{"patent_id": "10-2022-0038240", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "무선 통신 시스템에서 세션 관리 기능(Session Management function) 및 패킷 데이터 네트워크 게이트웨이 제어기능 (Packet Data Network Gateway-Control, PGW-C)을 수행하는 네트워크 엔티티에 있어서,송수신기; 및상기 송수신기를 제어하는 적어도 하나의 제어기를 포함하고, 상기 적어도 하나의 제어기는:세션 관리-정책 제어 엔티티(session management-policy control function, SM-PCF)로 단말 정책에 대한 업데이트를 요청하는 제1 메시지를 송신하고,상기 SM-PCF로부터 변경된 단말 정책에 대한 정보를 포함하는 제2 메시지를 수신하고, 및상기 수신된 변경된 단말 정책에 대한 정보를 포함하는 제3 메시지를 서빙 게이트웨이(serving gateway, SGW)로전송하도록 구성되는 네트워크 엔티티."}
{"patent_id": "10-2022-0038240", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1항에 있어서, 상기 적어도 하나의 제어기는통합 데이터 관리 + 홈 가입자 서버 엔티티(unified data management + home subscriber server, UDM+HSS)로단말에게 다른 네트워크를 통해 상기 단말 정책이 전달될 수 있음을 나타내는 지시자를 포함하는 제4 메시지를송신하고, 및상기 UDM+HSS로부터 상기 단말 정책이 변경되었음을 나타내는 지시자가 포함된 제5 메시지를 수신하도록 더 구성되는 네트워크 엔티티."}
{"patent_id": "10-2022-0038240", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 2항에 있어서, 상기 제5 메시지는상기 단말을 나타내는 식별자 또는 단말-정책 제어 엔티티(user equipment-policy control function, UE-PCF)를 나타내는 식별자 중 적어도 하나를 더 포함하는 네트워크 엔티티."}
{"patent_id": "10-2022-0038240", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 1항에 있어서, 상기 제1 메시지는상기 단말을 나타내는 식별자, 단말에게 다른 네트워크를 통해 상기 단말 정책이 전달될 수 있음을 나타내는 지시자, 및 UE-PCF를 나타내는 식별자 중 적어도 하나를 포함하는 네트워크 엔티티."}
{"patent_id": "10-2022-0038240", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 1항에 있어서, 상기 변경된 단말 정책에 대한 정보는 상기 단말만 읽을 수 있는 형태인 UE 정책 컨테이너(UEpolicy container)에 포함되는 네트워크 엔티티."}
{"patent_id": "10-2022-0038240", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "공개특허 10-2023-0139650-3-무선 통신 시스템에서 세션 관리 기능(Session Management function) 및 패킷 데이터 네트워크 게이트웨이 제어기능 (Packet Data Network Gateway-Control, PGW-C)을 수행하는 네트워크 엔티티에 의해 수행되는 방법에 있어서,세션 관리-정책 제어 엔티티(session management-policy control function, SM-PCF)로 단말 정책에 대한 업데이트를 요청하는 제1 메시지를 송신하는 과정;상기 SM-PCF로부터 변경된 단말 정책에 대한 정보를 포함하는 제2 메시지를 수신하는 과정; 및상기 수신된 변경된 단말 정책에 대한 정보를 포함하는 제3 메시지를 서빙 게이트웨이(serving gateway, SGW)로전송하는 과정을 포함하는 방법."}
{"patent_id": "10-2022-0038240", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제 6항에 있어서, 통합 데이터 관리 + 홈 가입자 서버(unified data management + home subscriber server, UDM+HSS)로 단말에게다른 네트워크를 통해 상기 단말 정책이 전달될 수 있음을 나타내는 지시자를 포함하는 제4 메시지를 송신하는과정; 및상기 UDM+HSS로부터 상기 단말 정책이 변경되었음을 나타내는 지시자가 포함된 제5 메시지를 수신하는 과정을더 포함하는 방법."}
{"patent_id": "10-2022-0038240", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 7항에 있어서, 상기 제5 메시지는상기 단말을 나타내는 식별자 또는 단말-정책 제어 엔티티(user equipment-policy control function, UE-PCF)를 나타내는 식별자 중 적어도 하나를 더 포함하는 방법."}
{"patent_id": "10-2022-0038240", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 6항에 있어서, 상기 제1 메시지는상기 단말을 나타내는 식별자, 단말에게 다른 네트워크를 통해 상기 단말 정책이 전달될 수 있음을 나타내는 지시자, 및 UE-PCF를 나타내는 식별자 중 적어도 하나를 더 포함하는 방법."}
{"patent_id": "10-2022-0038240", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제 6항에 있어서, 상기 변경된 단말 정책에 대한 정보는 상기 단말만 읽을 수 있는 형태인 UE 정책 컨테이너(UEpolicy container)에 포함되는 방법."}
{"patent_id": "10-2022-0038240", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 개시는 보다 높은 데이터 전송률을 지원하기 위한 5G 또는 6G 통신 시스템에 관련된 것이다. 본 개시에 일 실시예에 따른, 무선 통신 시스템에서 세션 관리 기능(Session Management function) 및 패킷 데 이터 네트워크 게이트웨이 제어 기능 (Packet Data Network Gateway-Control, PGW-C)을 수행하는 네트워크 엔티 티에 있어서, 송수신기; 및 상기 송수신기를 제어하는 적어도 하나의 제어기를 포함하고, 상기 적어도 하나의 제 어기는: 세션 관리-정책 제어 엔티티(session management-policy control function, SM-PCF)로 단말 정책에 대 한 업데이트를 요청하는 제1 메시지를 송신하고, 상기 SM-PCF로부터 변경된 단말 정책에 대한 정보를 포함하는 제2 메시지를 수신하고, 및 상기 수신된 변경된 단말 정책에 대한 정보를 포함하는 제3 메시지를 서빙 게이트웨 이(serving gateway, SGW)로 전송하도록 구성될 수 있다."}
{"patent_id": "10-2022-0038240", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 개시는 무선 통신 시스템 또는 이동 통신 시스템에서 단말 정책 (UE Policy)을 제공하기 위한 방법 및 장치 에 관한 것으로, 특히 서로 다른 통신 규약을 갖는 복합 이동 통신 시스템에서 단말 정책을 제공하기 위한 방법 및 장치에 관한 것이다."}
{"patent_id": "10-2022-0038240", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "5G 이동통신 기술은 빠른 전송 속도와 새로운 서비스가 가능하도록 넓은 주파수 대역을 정의하고 있으며, 3.5 기가헤르츠(3.5GHz) 등 6GHz 이하 주파수('Sub 6GHz') 대역은 물론 28GHz와 39GHz 등 밀리미터파(㎜Wave)로 불 리는 초고주파 대역('Above 6GHz')에서도 구현이 가능하다. 또한, 5G 통신 이후(Beyond 5G)의 시스템이라 불리 어지는 6G 이동통신 기술의 경우, 5G 이동통신 기술 대비 50배 빨라진 전송 속도와 10분의 1로 줄어든 초저 (Ultra Low) 지연시간을 달성하기 위해 테라헤르츠(Terahertz) 대역(예를 들어, 95GHz에서 3 테라헤르츠(3THz) 대역과 같은)에서의 구현이 고려되고 있다. 5G 이동통신 기술의 초기에는, 초광대역 서비스(enhanced Mobile BroadBand, eMBB), 고신뢰/초저지연 통신 (Ultra-Reliable Low-Latency Communications, URLLC), 대규모 기계식 통신 (massive Machine-Type Communications, mMTC)에 대한 서비스 지원과 성능 요구사항 만족을 목표로, 초고주파 대역에서의 전파의 경로 손실 완화 및 전파의 전달 거리를 증가시키기 위한 빔포밍(Beamforming) 및 거대 배열 다중 입출력(Massive MIMO), 초고주파수 자원의 효율적 활용을 위한 다양한 뉴머롤로지 지원(복수 개의 서브캐리어 간격 운용 등)와 슬롯 포맷에 대한 동적 운영, 다중 빔 전송 및 광대역을 지원하기 위한 초기 접속 기술, BWP(Band-Width Part) 의 정의 및 운영, 대용량 데이터 전송을 위한 LDPC(Low Density Parity Check) 부호와 제어 정보의 신뢰성 높은 전송을 위한 폴라 코드(Polar Code)와 같은 새로운 채널 코딩 방법, L2 선-처리(L2 pre-processing), 특정 서 비스에 특화된 전용 네트워크를 제공하는 네트워크 슬라이싱(Network Slicing) 등에 대한 표준화가 진행되었다. 현재, 5G 이동통신 기술이 지원하고자 했던 서비스들을 고려하여 초기의 5G 이동통신 기술 개선(improvement) 및 성능 향상(enhancement)을 위한 논의가 진행 중에 있으며, 차량이 전송하는 자신의 위치 및 상태 정보에 기 반하여 자율주행 차량의 주행 판단을 돕고 사용자의 편의를 증대하기 위한 V2X(Vehicle-to-Everything), 비면허 대역에서 각종 규제 상 요구사항들에 부합하는 시스템 동작을 목적으로 하는 NR-U(New Radio Unlicensed), NR 단말 저전력 소모 기술(UE Power Saving), 지상 망과의 통신이 불가능한 지역에서 커버리지 확보를 위한 단말- 위성 직접 통신인 비 지상 네트워크(Non-Terrestrial Network, NTN), 위치 측위(Positioning) 등의 기술에 대 한 물리계층 표준화가 진행 중이다. 뿐만 아니라, 타 산업과의 연계 및 융합을 통한 새로운 서비스 지원을 위한 지능형 공장 (Industrial Internet of Things, IIoT), 무선 백홀 링크와 액세스 링크를 통합 지원하여 네트워크 서비스 지역 확장을 위한 노드를 제공하는 IAB(Integrated Access and Backhaul), 조건부 핸드오버(Conditional Handover) 및 DAPS(Dual Active Protocol Stack) 핸드오버를 포함하는 이동성 향상 기술(Mobility Enhancement), 랜덤액세스 절차를 간소화하 는 2 단계 랜덤액세스(2-step RACH for NR) 등의 기술에 대한 무선 인터페이스 아키텍쳐/프로토콜 분야의 표준 화 역시 진행 중에 있으며, 네트워크 기능 가상화(Network Functions Virtualization, NFV) 및 소프트웨어 정 의 네트워킹(Software-Defined Networking, SDN) 기술의 접목을 위한 5G 베이스라인 아키텍쳐(예를 들어, Service based Architecture, Service based Interface), 단말의 위치에 기반하여 서비스를 제공받는 모바일 엣지 컴퓨팅(Mobile Edge Computing, MEC) 등에 대한 시스템 아키텍쳐/서비스 분야의 표준화도 진행 중이다. 이와 같은 5G 이동통신 시스템이 상용화되면, 폭발적인 증가 추세에 있는 커넥티드 기기들이 통신 네트워크에 연결될 것이며, 이에 따라 5G 이동통신 시스템의 기능 및 성능 강화와 커넥티드 기기들의 통합 운용이 필요할 것으로 예상된다. 이를 위해, 증강현실(Augmented Reality, AR), 가상현실(Virtual Reality, VR), 혼합 현실 (Mixed Reality, MR) 등을 효율적으로 지원하기 위한 확장 현실(eXtended Reality, XR), 인공지능(Artificial Intelligence, AI) 및 머신러닝(Machine Learning, ML)을 활용한 5G 성능 개선 및 복잡도 감소, AI 서비스 지 원, 메타버스 서비스 지원, 드론 통신 등에 대한 새로운 연구가 진행될 예정이다. 또한, 이러한 5G 이동통신 시스템의 발전은 6G 이동통신 기술의 테라헤르츠 대역에서의 커버리지 보장을 위한 신규 파형(Waveform), 전차원 다중입출력(Full Dimensional MIMO, FD-MIMO), 어레이 안테나(Array Antenna), 대규모 안테나(Large Scale Antenna)와 같은 다중 안테나 전송 기술, 테라헤르츠 대역 신호의 커버리지를 개선 하기 위해 메타물질(Metamaterial) 기반 렌즈 및 안테나, OAM(Orbital Angular Momentum)을 이용한 고차원 공 간 다중화 기술, RIS(Reconfigurable Intelligent Surface) 기술 뿐만 아니라, 6G 이동통신 기술의 주파수 효 율 향상 및 시스템 네트워크 개선을 위한 전이중화(Full Duplex) 기술, 위성(Satellite), AI(Artificial Intelligence)를 설계 단계에서부터 활용하고 종단간(End-to-End) AI 지원 기능을 내재화하여 시스템 최적화를 실현하는 AI 기반 통신 기술, 단말 연산 능력의 한계를 넘어서는 복잡도의 서비스를 초고성능 통신과 컴퓨팅 자 원을 활용하여 실현하는 차세대 분산 컴퓨팅 기술 등의 개발에 기반이 될 수 있을 것이다. 4G 통신 시스템 상용화 이후 증가 추세에 있는 무선 데이터 트래픽 수요를 충족시키기 위해, 개선된 5G 통신 시 스템 또는 pre-5G 통신 시스템을 개발하기 위한 노력이 이루어지고 있다. 이러한 이유로, 5G 통신 시스템 또는pre-5G 통신 시스템은 4G 네트워크 이후 (Beyond 4G Network) 통신 시스템 또는 LTE 시스템 이후 (Post LTE) 시스템이라 불리어지고 있다. 3GPP에서 정한 5G 통신 시스템은 New Radio (NR) 시스템이라고 불리고 있다. 높은 데이터 전송률을 달성하기 위해, 5G 통신 시스템은 초고주파(mmWave) 대역 (예를 들어, 60기가(60GHz) 대 역과 같은)에서의 구현이 고려되고 있다. 초고주파 대역에서의 전파의 경로손실 완화 및 전파의 전달 거리를 증 가시키기 위해, 5G 통신 시스템에서는 빔포밍(beamforming), 거대 배열 다중 입출력(massive MIMO), 전차원 다 중입출력(Full Dimensional MIMO: FD-MIMO), 어레이 안테나(array antenna), 아날로그 빔형성(analog beam- forming), 및 대규모 안테나(large scale antenna) 기술들이 논의되었고, NR 시스템에 적용되었다. 또한 시스템의 네트워크 개선을 위해, 5G 통신 시스템에서는 진화된 소형 셀, 개선된 소형 셀(advanced small cell), 클라우드 무선 액세스 네트워크(cloud radio access network: cloud RAN), 초고밀도 네트워크(ultra- dense network), 기기 간 통신(Device to Device communication: D2D), 무선 백홀(wireless backhaul), 이동 네트워크(moving network), 협력 통신(cooperative communication), CoMP(Coordinated Multi-Points), 및 수신 간섭제거(interference cancellation) 등의 기술 개발이 이루어지고 있다. 이 밖에도, 5G 시스템에서는 진보된 코딩 변조(Advanced Coding Modulation: ACM) 방식인 FQAM(Hybrid FSK and QAM Modulation) 및 SWSC(Sliding Window Superposition Coding)과, 진보된 접속 기술인 FBMC(Filter Bank Multi Carrier), NOMA(non-orthogonal multiple access), 및 SCMA(sparse code multiple access) 등이 개발되 고 있다. 한편, 인터넷은 인간이 정보를 생성하고 소비하는 인간 중심의 연결 망에서, 사물 등 분산된 구성 요소들 간에 정보를 주고 받아 처리하는 IoT(Internet of Things, 사물인터넷) 망으로 진화하고 있다. 클라우드 서버 등과의 연결을 통한 빅데이터(Big data) 처리 기술 등이 IoT 기술에 결합된 IoE(Internet of Everything) 기술도 대두 되고 있다. IoT를 구현하기 위해서, 센싱 기술, 유무선 통신 및 네트워크 인프라, 서비스 인터페이스 기술, 및 보안 기술과 같은 기술 요소 들이 요구되어, 최근에는 사물간의 연결을 위한 센서 네트워크(sensor network), 사물 통신(Machine to Machine, M2M), MTC(Machine Type Communication)등의 기술이 연구되고 있다. IoT 환경 에서는 연결된 사물들에서 생성된 데이터를 수집, 분석하여 인간의 삶에 새로운 가치를 창출하는 지능형 IT(Internet Technology) 서비스가 제공될 수 있다. IoT는 기존의 IT(Information Technology)기술과 다양한 산업 간의 융합 및 복합을 통하여 스마트홈, 스마트 빌딩, 스마트 시티, 스마트 카 혹은 커넥티드 카, 스마트 그리드, 헬스 케어, 스마트 가전, 첨단의료서비스 등의 분야에 응용될 수 있다. 이에, 5G 통신 시스템을 IoT 망에 적용하기 위한 다양한 시도들이 이루어지고 있다. 예를 들어, 센서 네트워크 (sensor network), 사물 통신(Machine to Machine, M2M), MTC(Machine Type Communication)등의 5G 통신이 빔 포밍, MIMO, 및 어레이 안테나 등의 기법에 의해 구현되고 있는 것이다. 앞서 설명한 빅데이터 처리 기술로써 클라우드 무선 액세스 네트워크(cloud RAN)가 적용되는 것도 5G 기술과 IoT 기술 융합의 일 예라고 할 수 있을 것이다."}
{"patent_id": "10-2022-0038240", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "최근 상용화가 진행되고 있는 5GS와 현재 이동 통신 서비스를 제공하고 있는 LTE 및 LTE-A 시스템은 모두 패킷 기반 서비스를 제공하는 이동 통신 시스템이다. 이러한 5GS는 LTE 및 LTE-A에 기반한 진화된 패킷 시스템 (Evolved Packet System, EPS)와 상호 인터워킹을 지원하도록 개발되고 있다. 5G 시스템에서 5G 코어네트워크는 단말에게 단말 정책(UE Policy)을 제공한다. 5GS 및 EPS를 통해 무선 통신을 사용할 수 있는 UE가 EPS/5GS 인터 워킹을 지원하는 5GS를 통해 네트워크에 연결되었다가, EPS로 네트워크 연결을 이동하게 되는 경우, 5G 코어 네 트워크는 단말에게 단말 정책을 더 이상 제공하지 않고, 단말은 EPS로 이동하기 전에 제공받았던 단말 정책에 기반하여 네트워크와 통신하게 된다. 현재 5G 시스템에서는, EPS/5GS 인터워킹 단말이 5GS에서 EPS로 이동한 이후에 5G 코어네트워크에서 단말 정책 및/또는 단말 정책과 관련된 정보에 변경이 발생한 경우, 변경된 단말 정책을 EPS 엔티티를 통해 단말로 전달할 수 없는 문제가 있다. 따라서 본 개시에서는 EPS/5GS 인터워킹을 지원하는 5G 시스템에서, 단말이 5GS에서 EPS로 이동한 이후에, 코어 네트워크가 단말에게 단말 정책을 제공하는 방법 및 장치를 제공한다."}
{"patent_id": "10-2022-0038240", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 개시의 일 실시예에 따르면, 무선 통신 시스템에서 세션 관리 기능(Session Management function) 및 패킷 데이터 네트워크 게이트웨이 제어 기능 (Packet Data Network Gateway-Control, PGW-C)을 수행하는 네트워크 엔티티에 있어서, 송수신기; 및 상기 송수신기를 제어하는 적어도 하나의 제어기를 포함하고, 상기 적어도 하나 의 제어기는: 세션 관리-정책 제어 엔티티(session management-policy control function, SM-PCF)로 단말 정책 에 대한 업데이트를 요청하는 제1 메시지를 송신하고, 상기 SM-PCF로부터 변경된 단말 정책에 대한 정보를 포함 하는 제2 메시지를 수신하고, 및 상기 수신된 변경된 단말 정책에 대한 정보를 포함하는 제3 메시지를 서빙 게 이트웨이(serving gateway, SGW)로 전송하도록 구성될 수 있다. 본 개시의 다른 실시예에 따르면, 상기 적어도 하나의 제어기는 통합 데이터 관리 + 홈 가입자 서버(unified data management + home subscriber server, UDM+HSS)로 단말에게 다른 네트워크를 통해 상기 단말 정책이 전 달될 수 있음을 나타내는 지시자를 포함하는 제4 메시지를 송신하고, 및 상기 UDM+HSS로부터 상기 단말 정책이 변경되었음을 나타내는 지시자가 포함된 제5 메시지를 수신하도록 더 구성될 수 있다. 본 개시의 다른 실시예에 따르면, 상기 제5 메시지는 상기 단말을 나타내는 식별자 또는 단말-정책 제어 엔티티 (user equipment-policy control function, UE-PCF)를 나타내는 식별자 중 적어도 하나를 더 포함할 수 있다. 본 개시의 다른 실시예에 따르면, 상기 제1 메시지는 상기 단말을 나타내는 식별자, 단말에게 다른 네트워크를 통해 상기 단말 정책이 전달될 수 있음을 나타내는 지시자, 및 UE-PCF를 나타내는 식별자 중 적어도 하나를 포 함할 수 있다. 본 개시의 다른 실시예에 따르면, 상기 변경된 단말 정책에 대한 정보는 상기 단말만 읽을 수 있는 형태인 UE 정책 컨테이너(UE policy container)에 포함될 수 있다."}
{"patent_id": "10-2022-0038240", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 개시의 다양한 실시 예들에 따른 장치 및 방법에 따르면, EPS/5GS 인터워킹을 지원하는 5G 시스템에서, 단말 이 5GS에서 EPS로 이동한 이후에, 코어 네트워크가 단말에게 단말 정책을 제공할 수 있다. 본 개시의 다양한 실시 예들에 따른 장치 및 방법에 따르면, 단말이 5GS에서 EPS로 이동한 이후에, 다시 5GS로 이동하지 않은 상태에서, 변경된 단말 정책을 수신할 수 있어, 자원 낭비를 줄이고 잘못된 네트워크 접속을 막 아 통신 안정성을 높일 수 있다. 또한 본 개시에서 얻을 수 있는 효과는 이상에서 언급한 효과들로 제한되지 않으며, 언급하지 않은 또 다른 효 과들은 아래의 기재로부터 본 개시가 속하는 기술 분야에서 통상의 지식을 가진 자에게 명확하게 이해될 수 있 을 것이다."}
{"patent_id": "10-2022-0038240", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면을 참조하여 본 개시의 바람직한 실시 예들을 상세히 설명한다. 이때, 첨부된 도면들에서 동 일한 구성 요소는 가능한 동일한 부호로 나타내고 있음에 유의해야 한다. 또한 이하에 첨부된 본 발명의 도면은 본 발명의 이해를 돕기 위해 제공되는 것으로, 본 발명의 도면에 예시된 형태 또는 배치 등에 본 발명이 제한되 지 않음에 유의해야 한다. 또한 본 발명의 요지를 흐리게 할 수 있는 공지 기능 및 구성에 대한 상세한 설명은 생략할 것이다. 하기의 설명에서는 본 발명의 다양한 실시 예들에 따른 동작을 이해하는데 필요한 부분만이 설 명되며, 그 이외 부분의 설명은 본 발명의 요지를 흩트리지 않도록 생략될 것이라는 것을 유의하여야 한다. 또 한, 본 개시는, 일부 통신 규격(예: 3GPP(3rd Generation Partnership Project))에서 사용되는 용어들을 이용 하여 다양한 실시 예들을 설명하지만, 이는 설명을 위한 예시일 뿐이다. 본 개시의 다양한 실시 예들은, 다른 통신 시스템에서도, 용이하게 변형되어 적용될 수 있다. 도 1은 본 개시의 일 실시예에 따른 5G 시스템의 네트워크 구조 및 인터페이스를 나타낸 도면이다. 도 1의 5G 시스템의 네트워크 구조에 포함된 네트워크 엔티티(entity)는 시스템 구현에 따라 네트워크 기능 (network function: NF)를 포함할 수 있다. 도 1을 참조하면, 5G 시스템의 네트워크 구조는 다양한 네트워크 엔티티들을 포함할 수 있다. 일 예로, 5G 시스템은 인증 서버 기능(authentication server function: AUSF), 액세스 및 이동성 관리 기능 ((core) access and mobility management function: AMF), 세션 관리 기능(session management function: SMF), 정책 제어 기능(policy control function: PCF), 어플리케이션 기능(application function: AF), 통합된 데이터 관리(unified data management: UDM), 데이터 네트워크(data network: DN), 네트워크 노출 기능(network exposure function: NEF), 네트워크 슬라이싱 선택 기능 (network slicing selection function: NSSF). 에지 어플리케이션 서비스 도메인 저장소(edge application service domain repository: EDR), 에지 어플리케이션 서버(edge application server: EAS, 미도시), EAS 디스커버리 기능(EAS discovery function: EASDF, 미도시), 사용자 평면 기능(user plane function: UPF), (무선) 액세스 네트워크((radio) access network: (R)AN), 및 단말, 즉, 사용자 장 치(user equipment: UE)(또는 단말)를 포함할 수 있다. 5G 시스템의 각 NF들은 다음과 같은 기능을 지원한다. AUSF는 UE의 인증을 위한 데이터를 처리하고 저장한다. AMF는 UE 단위의 접속 및 이동성 관리를 위한 기능을 제공하며, 하나의 UE 당 기본적으로 하나의 AMF에 연 결될 수 있다. 구체적으로, AMF는 3GPP 액세스 네트워크들 간의 이동성을 위한 CN 노드 간 시그널링, 무선 액세스 네트워크(radio access network: RAN) CP 인터페이스(즉, N2 인터페이스)의 종단(termination), NAS(non access stratum) 시그널링의 종단(N1), NAS 시그널링 보안(NAS 암호화(ciphering) 및 무결성 보호 (integrity protection)), AS 보안 제어, 등록 관리(등록 영역(registration area) 관리), 연결 관리, 아이들 모드 UE 접근성(reachability) (페이징 재전송의 제어 및 수행 포함), 이동성 관리 제어(가입 및 정책), 인트라 -시스템 이동성 및 인터-시스템 이동성 지원, 네트워크 슬라이싱의 지원, SMF 선택, 합법적 감청(lawful intercept)(AMF 이벤트 및 LI 시스템으로의 인터페이스에 대한), UE와 SMF 간의 세션 관리(session management: SM) 메시지의 전달 제공, SM 메시지 라우팅을 위한 트랜스패런트 프록시(transparent proxy), 액 세스 인증(access authentication), 로밍 권한 체크를 포함한 액세스 허가(access authorization), UE와 SMSF 간의 SMS 메시지의 전달 제공, 보안 앵커 기능(security anchor function: SAF) 및/또는 보안 컨텍스트 관리 (security context management: SCM) 등의 기능을 지원한다. AMF의 일부 또는 전체의 기능들은 하나의 AMF의 단일 인스턴스(instance) 내에서 지원될 수 있다. DN은 예를 들어, 운영자 서비스, 인터넷 접속 또는 서드파티(3rd party) 서비스 등을 의미한다. DN은 UPF로 하향링크 프로토콜 데이터 유닛(protocol data unit: PDU)을 전송하거나, UE로부터 전송된 PDU를 UPF로부터 수신한다. PCF는 어플리케이션 서버로부터 패킷 흐름에 대한 정보를 수신하여, 이동성 관리, 세션 관리 등의 정책을 결정하는 기능을 제공한다. 구체적으로, PCF는 네트워크 동작을 통제하기 위한 단일화된 정책 프레임워크지원, 제어평면 기능(들)(예를 들어, AMF, SMF 등)이 정책 규칙을 시행할 수 있도록 정책 규칙 제공, 사용자 데 이터 저장소(user data repository: UDR) 내 정책 결정을 위해 관련된 가입 정보에 액세스하기 위한 프론트 엔 드(front end) 구현 등의 기능을 지원한다. SMF는 세션 관리 기능을 제공하며, UE가 다수 개의 세션을 가지는 경우 각 세션 별로 서로 다른 SMF에 의 해 관리될 수 있다. 구체적으로, SMF는 세션 관리(예를 들어, UPF와 (R)AN 노드 간의 터널 (tunnel) 유지를 포함하여 세션 확립, 수정 및 해지), UE IP 주소 할당 및 관리(선택적으로 인증 포함), UP 기 능의 선택 및 제어, UPF에서 트래픽을 적절한 목적지로 라우팅하기 위한 트래픽 스티어링(traffic steering) 설정, 정책 제어 기능(policy control functions)를 향한 인터페이스의 종단, 정책 및 QoS(quality of service)의 제어 부분 시행, 합법적 감청(lawful intercept)(SM 이벤트 및 LI 시스템으로의 인터페이스에 대한), NAS 메시지의 SM 부분의 종단, 하향링크 데이터 통지(downlink data notification), AN 특정 SM 정보의 개시자(AMF를 경유하여 N2를 통해 (R)AN에게 전달), 세션의 SSC 모드 결정, 로밍 기능 등의 기능을 지원한다. SMF의 일부 또는 전체의 기능들은 하나의 SMF의 단일 인스턴스(instance) 내에서 지원될 수 있 다. UDM은 사용자의 가입 데이터, 정책 데이터 등을 저장한다. UDM은 2개의 부분, 즉 어플리케이션 프론 트 엔드(front end: FE)(미도시) 및 사용자 데이터 저장소(user data repository: UDR)(미도시)를 포함한다. FE는 위치 관리, 가입 관리, 자격 증명(credential)의 처리 등을 담당하는 UDM FE와 정책 제어를 담당하는 PCF 를 포함한다. UDR은 UDM-FE에 의해 제공되는 기능들을 위해 요구되는 데이터와 PCF에 의해 요구되는 정책 프로 필을 저장한다. UDR 내 저장되는 데이터는 가입 식별자, 보안 자격 증명(security credential), 액세스 및 이동 성 관련 가입 데이터 및 세션 관련 가입 데이터를 포함하는 사용자 가입 데이터와 정책 데이터를 포함한다. UDM-FE는 UDR에 저장된 가입 정보에 액세스하고, 인증 자격 증명 처리(authentication credential processing), 사용자 식별자 핸들링(user identification handling), 액세스 인증, 등록/이동성 관리, 가입 관 리, SMS 관리 등의 기능을 지원한다. UPF는 DN으로부터 수신한 하향링크 PDU를 (R)AN을 경유하여 UE에게 전달하며, (R)AN(10 2)을 경유하여 UE로부터 수신한 상향링크 PDU를 DN으로 전달한다. 구체적으로, UPF는 인트라 (intra)/인터(inter) RAT 이동성을 위한 앵커 포인트, 데이터 네트워크(Data Network)로의 상호연결 (interconnect)의 외부 PDU 세션 포인트, 패킷 라우팅 및 포워딩, 패킷 검사(inspection) 및 정책 규칙 시행의 사용자 평면 부분, 합법적 감청(lawful intercept), 트래픽 사용량 보고, 데이터 네트워크로의 트래픽 플로우의 라우팅을 지원하기 위한 상향링크 분류자(classifier), 멀티-홈(multi-homed) PDU 세션을 지원하기 위한 브랜치 포인트(branching point), 사용자 평면을 위한 QoS 핸들링(handling)(예를 들어 패킷 필터링, 게이팅(gating), 상향링크/하향링크 레이트 시행), 상향링크 트래픽 검증 (서비스 데이터 플로우(service data flow: SDF)와 QoS 플로우 간 SDF 매핑), 상향링크 및 하향링크 내 전달 레벨(transport level) 패킷 마킹, 하향링크 패킷 버퍼링 및 하향링크 데이터 통지 트리거링 기능 등의 기능을 지원한다. UPF의 일부 또는 전체의 기능들은 하나의 UPF의 단일 인스턴스(instance) 내에서 지원될 수 있다. AF는 서비스 제공(예를 들어, 트래픽 라우팅 상에서 어플리케이션 영향, 네트워크 능력 노출(network capability exposure)에 대한 접근, 정책 제어를 위한 정책 프레임워크와의 상호동작 등의 기능을 지원)을 위해 3GPP 코어 네트워크와 상호 동작한다. (R)AN은 4G 무선 액세스 기술의 진화된 버전인 진화된 E-UTRA(evolved E-UTRA)와 새로운 무선 액세스 기 술(new radio: NR)(예를 들어, gNB)을 모두 지원하는 새로운 무선 액세스 네트워크를 총칭한다. gNB은 무선 자원 관리를 위한 기능들(즉, 무선 베어러 제어(radio bearer control), 무선 허락 제어(radio admission control), 연결 이동성 제어(connection mobility control), 상향링크/하향링크에서 UE에게 자원의 동적 할당(dynamic allocation of resources)(즉, 스케줄링)), IP(internet protocol) 헤더 압축, 사용자 데이 터 스트림의 암호화(encryption) 및 무결성 보호(integrity protection), UE에게 제공된 정보로부터 AMF로의 라우팅이 결정되지 않는 경우, UE의 어태치(attachment) 시 AMF의 선택, UPF(들)로의 사용자 평면 데이터 라우 팅, AMF로의 제어 평면 정보 라우팅, 연결 셋업 및 해지, 페이징 메시지의 스케줄링 및 전송(AMF로부터 발생 된), 시스템 브로드캐스트 정보의 스케줄링 및 전송(AMF 또는 운영 및 유지(operating and maintenance: O&M) 로부터 발생된), 이동성 및 스케줄링을 위한 측정 및 측정 보고 설정, 상향링크에서 전달 레벨 패킷 마킹 (transport level packet marking), 세션 관리, 네트워크 슬라이싱의 지원, QoS 흐름 관리 및 데이터 무선 베 어러로의 매핑, 비활동 모드(inactive mode)인 UE의 지원, NAS 메시지의 분배 기능, NAS 노드 선택 기능, 무선액세스 네트워크 공유, 이중 연결성(dual connectivity), NR과 E-UTRA 간의 밀접한 상호동작(tight interworking) 등의 기능을 지원한다. UE는 사용자 기기를 의미한다. 사용자 장치는 단말(terminal), ME(mobile equipment), MS(mobile station) 등의 용어로 언급될 수 있다. 또한, 사용자 장치는 노트북, 휴대폰, PDA(personal digital assistant), 스마트폰, 멀티미디어 기기 등과 같이 휴대 가능한 기기일 수 있고, 또는 PC(personal computer), 차량 탑재 장치와 같이 휴대 불가능한 기기일 수도 있다. NEF는 3GPP 네트워크 기능들에 의해 제공되는, 예를 들어, 제3자(3rd party), 내부 노출(internal exposure)/재노출(re-exposure), 어플리케이션 기능, 에지 컴퓨팅(Edge Computing)을 위한 서비스들 및 능력들 을 안전하게 노출하기 위한 수단을 제공한다. NEF는 다른 NF(들)로부터 (다른 NF(들)의 노출된 능력(들)에 기반한) 정보를 수신한다. NEF는 데이터 저장 네트워크 기능으로의 표준화된 인터페이스를 이용하여 구조 화된 데이터로서 수신된 정보를 저장할 수 있다. 저장된 정보는 NEF에 의해 다른 NF(들) 및 AF(들)에게 재 노출(re-expose)되고, 분석 등과 같은 다른 목적으로 이용될 수 있다. NRF 는 서비스 디스커버리 기능을 지원한다. NF 인스턴스로부터 NF 디스커버리 요청 수신하고, 발견된 NF 인스턴스의 정보를 NF 인스턴스에게 제공한다. 또한, 이용 가능한 NF 인스턴스들과 그들이 지원하는 서비스를 유지한다. 한편, 도 1에서는 설명의 편의상 UE가 하나의 PDU 세션을 이용하여 하나의 DN에 엑세스하는 경우에 대한 참조 모델을 예시하나, 본 개시는 이에 한정되지 않는다. UE는 다중의 PDU 세션을 이용하여 2개의(즉, 지역적(local) 그리고 중심되는(central)) 데이터 네트워크에 동시에 액세스할 수 있다. 이때, 서로 다른 PDU 세션을 위해 2개의 SMF들이 선택될 수 있다. 다만, 각 SMF는 PDU 세션 내 지역적인 UPF 및 중심되는 UPF를 모두 제어할 수 있는 능력을 가질 수 있다. 또한, UE는 단일의 PDU 세션 내에서 제공되는 2개의(즉, 지역적인 그리고 중심되는) 데이터 네트워크에 동 시에 액세스할 수도 있다. NSSF는 UE를 서빙하는 네트워크 슬라이스 인스턴스들의 세트를 선택할 수 있다. 또한, NSSF는 허여된 NSSAI(network slice selection assistance information)를 결정하고, 필요한 경우, 가입된 S- NSSAI(single-network slice selection assistance information)들에 대한 매핑을 수행할 수 있다. 또한, NSSF는 설정된 NSSAI를 결정하고, 필요한 경우, 가입된 S-NSSAI들에 대한 매핑을 수행할 수 있다. 또한, NSSF는 UE를 서비스하는데 사용되는 AMF 세트를 결정하거나, 설정에 따라 NRF에 문의하여 후부 (candidate) AMF의 목록을 결정할 수 있다. NRF는 서비스 디스커버리 기능을 지원한다. NF 인스턴스로부터 NF 디스커버리 요청 수신하고, 발견된 NF 인스턴스의 정보를 NF 인스턴스에게 제공한다. 또한, 이용 가능한 NF 인스턴스들과 그들이 지원하는 서비스를 유지한다. 3GPP 시스템에서는 5G 시스템 내 NF들 간을 연결하는 개념적인 링크를 참조 포인트(reference point)라고 정의 한다. 다음은 도 1에서 표현된 5G 시스템 아키텍처에 포함되는 참조 포인트를 예시한다. - N1: UE와 AMF 간의 참조 포인트 - N2: (R)AN과 AMF 간의 참조 포인트 - N3: (R)AN과 UPF 간의 참조 포인트 - N4: SMF와 UPF 간의 참조 포인트 - N5: PCF와 AF 간의 참조 포인트 - N6: UPF와 데이터 네트워크 간의 참조 포인트 - N7: SMF와 PCF 간의 참조 포인트 - N8: UDM과 AMF 간의 참조 포인트 - N9: 2개의 코어 UPF들 간의 참조 포인트 - N10: UDM과 SMF 간의 참조 포인트 - N11: AMF와 SMF 간의 참조 포인트 - N12: AMF와 AUSF 간의 참조 포인트 - N13: UDM과 인증 서버 기능(authentication server function, AUSF) 간의 참조 포인트 - N14: 2개의 AMF들 간의 참조 포인트 - N15: 비-로밍 시나리오의 경우, PCF와 AMF 간의 참조 포인트, 로밍 시나리오의 경우 방문 네트워크(visited network) 내 PCF와 AMF 간의 참조 포인트 이하의 설명에서 단말은 UE를 의미할 수 있으며, UE 또는 단말의 용어가 혼용되어 사용될 수 있다. 이런 경우 특별히 단말을 부가적으로 정의하지 않는 한 UE로 이해되어야 한다. 표 1 URSP Rules PTraffic Descriptor (TD)PRoute Selection Component (RSC) APPID, DNN, IP, FQDN, CCS-NSSAIDNN SSC ModePDU-TypeAccess-Type 1App#1 1S-NSSAI#1DNN#1 SSC#3 IPv4 3GPP 2App#2 1S-NSSAI#2DNN#2 SSC#1 IPv4/v63GPP 2S-NSSAI#2DNN#2 - - Non-3GPP 4App#1, CC=internet, supl1S-NSSAI#1DNN#1 - - Non-3GPP 5App#3, CC=ims 1S-NSSAI#3DNN#3 - - Multi-Access 6App#1 1S-NSSAI#1DNN#1 - - Multi-Access 7* (match all) 1S-NSSAI#4DNN#4 SSC#3 - - 표 1은 URSP rule의 일 예를 나타낸다. 5GC에서 PCF는 UE에게 정책 정보(policy information)을 제공할 수 있으며, UE policy information에는 UE 루 트 선택 정책(UE Route Selection Policy, URSP)가 포함될 수 있다. URSP는 UE에 의해 사용되며, UE가 감지한 어플리케이션이 이미 수립된 PDU Session에 연관시킬 수 있는지, PDU Session 밖에 존재하는 non-3GPP access로 오프로드 될 수 있는지, PDU Session 밖에 존재하는 ProSe Layer-3 UE-to-Network Relay를 통해 라우트 될 수 있는지, 또는 새로운 PDU Session을 수립하고 이에 연관시킬 수 있는 지 등의 여부를 판단할 때 사용될 수 있다. URSP는 하나 이상의 URSP rule로 구성될 수 있으며, 하나의 URSP rule에는 하나의 Traffic Descriptor와 하나 이상의 루트 선택 요소(Route Selection Component, RSC)로 구성 될 수 있다. 표 1은 URSP rule의 한 예를 설명하고 있다. 트래픽 디스크립터 (Traffic Descriptor, TD)는 감지한 어플리케이션 혹은 어플리케이션의 트래픽을 식별할 수 있는 매핑 기준(matching criteria)를 포함할 할 수 있다. 구체적인 예를 들면 아래와 같다. a) Application descriptor: 단말의 어플리케이션을 지칭할 수 있는 정보이다. 예를 들어, 어플리케이션 디스크 립터는 OSID 와 OSAPPID로 구성된 APPID를 포함할 수 있다. b) IP descriptor: 단말 송신하는 IP 패킷의 목적지 주소를 나타내는 IP 주소를 표시한다. IP 3-tuple 즉, IP 목적지 주소, Port 번호, 프로토콜을 포함할 수 있다. c) Domain descriptor: 단말이 연결하는 서버의 목적지 주소를 FQDN (Fully Qualified Domain Name) 형식으로 표현한다. d) Non-IP descriptor: Non-IP 데이터를 수신처를 지정할 수 있는 정보이다. e) DNN: 데이터 네트워크 이름이다 f) Connection Capability (CC): 연결되는 트래픽의 특성을 지정할 수 있는 유형 정보에 해당하며, IMS (IP Multimedia Subsystem), MMS (Multimedia Message Service), Internet 과 같은 값을 가질 수 있다. 경로 선택 요소 (Route Selection Component, RSC)는 단말이 감지한 어플리케이션을 식별할 수 있는 트래픽 디 스크립터가 특정되었을 때, 어떠한 PDU Session으로 어플리케이션 혹은 어플리케이션 트래픽을 연관 시킬지를 결정하기 위한 PDU Session의 속성 정보를 포함할 수 있다. 구체적인 예를 들면 아래와 같다. g) SSC Mode Selection: 세션과 서비스의 연속성 (Session and Service Continuity)을 지정하는 요소로 SSC Mode 1, SSC Mode 2, SSC Mode 3 등의 값을 가질 수 있다. h) Network Slice Selection: 네트워크 슬라이스를 지정할 수 있는 정보이다. i) DNN Selection: 데이터 네트워크 이름이다. j) PDU Session Type Selection: IPv4, IPv6 혹은 IPv4v6, 혹은 Ethernet, Non-IP 를 지정할 수 있는 PDU- Session 의 유형을 지정할 수 있는 요소이다. k) Non-Seamless Offload indication: 어플리케이션의 트래픽을 PDU session 밖에 존재하는 non-3GPP access를 통해 오프로드 시킬 수 있음을 지시한다. l) ProSe Layer-3 UE-to-Network Relay Offload indication: 어플리케이션의 트래픽을 PDU session 밖에 존재 하는 ProSe Layer-3 UE-to-Network Relay를 통해 오프로드 시킬 수 있음을 지시한다. m) Access Type preference: PDU 세션이 3GPP access 를 통하여 연결되는 PDU 세션인지, Non-3GPP access 를 통하여 연결되는 세션인지, 3GPP access와 Non-3GPP access를 모두 사용하는 Multi-Access 연결을 지원하는 세 션인지 등을 지칭하는 요소이다. n) PDU Session Pair ID: 어플리케이션 트래픽이 중복 PDU Session (redundant PDU Session)에 공유되는 식별 자를 지칭하는 요소이다. o) RSN (Redundancy Sequence Number): 중복 전송 (redundant transmission)시 사용되는 식별자를 지칭하는 요 소이다. 복수 개의 URSP 규칙(USRP rule)은 UE Policy Container의 Policy Section (PS)내에 나누어져 있을 수 있다. 본 개시의 일 실시예에서, 복수 개의 URSP 규칙은 NAS 계층의 최대 허용 전송 크기를 넘지 않도록 복수 개의 Policy Section 에 나누어져 들어 갈 수 있다. 하나의 URSP 규칙은 두개의 PS 에 나누어져서 들어가지 못할 수 있다. 하나의 온전한 URSP 규칙은 하나의 Policy Section 에 포함되어야 할 수 있다. USRP 규칙은 규칙 별로 우선순위를 가지고 있다. 본 개시의 일 실시예에 따르면, 각 URSP 규칙은 URSP 규칙을 식별할 수 있는 URSP 규칙 식별자를 포함할 수 있다. 보다 구체적으로, URSP 규칙 식별자는 단말이 단말 어플리 케이션을 구분할 수 있는 트래픽 파라미터를 지칭하는 것일 수 있다. 도 2는 본 개시의 일 실시예에 따른, EPS/5GS 인터워킹 시스템의 네트워크 구조 및 인터페이스를 나타낸 도면이 다. 5GS는 단말(UE)(201b) 의 무선 접속을 위한 NR(New Radio) 기지국(NG-RAN(radio access node) 또는 gNB(next generation node B)) , 액세스 및 이동성 관리 기능(access and mobility management function, AMF) 를 포함할 수 있으며, 그 외에 도 2에 도시하지 않았으나 세션 관리 기능(session management function, SMF), 사용자 평면 기능(user plane function, UPF), 정책 제어 기능(policy control function, PCF), 네트워 크 슬라이스 선택 기능(network slice selection function, NSSF), 통합된 데이터 관리(unified data management, UDM), 통합된 데이터 저장소(unified data repository, UDR) 등을 포함할 수 있다. EPS는 단말(UE)(201a) 의 무선 접속을 위한 E-UTRA 기지국(E-UTRAN(Evolved UMTS(Universal Mobile Telecommunications System) Terrestrial Radio Access Network), 또는 eNB(evolved node B)), 이동성 관리 엔티티(mobility management entity, MME), 서빙 게이트웨이(serving gateway, SGW), 패킷 데 이터 네트워크 게이트웨이(packet data network gateway, PGW)(PGW는 PGW-U와 PGW-C로 구성될 수 있다), 정책 및 과금 규칙 기능(policy and charging rule function, PCRF), 홈 가입자 서버(home subscriber server, HSS) 등을 포함할 수 있다. 일 실시예에 따르면, 상기 AMF 및 MME는 단말에 대한 무선망 접속(Access) 및 이동성(Mobility)을 관리하는 NF(Network Function)가 될 수 있다. SMF, SGW 및 PGW는 단말에 대한 세션(Session)을 관리하는 NF이며, 세션 정보에는 서비스 품질(Quality of Service, QoS) 정보, 과금(charging) 정보, 패킷 처리에 대한 정보를 포함할 수 있다. 또한 상기 UPF 및 PGW는 사용자 평면 트래픽(예: User Plane 트래픽)을 처리하는 NF이며, SMF 및 SGW 에 의해 제어를 받는다. 상기 PCF 및 PCRF는 무선 통신 시스템에서 서비스를 제공하기 위한 사업자 정책 (Operator policy 및/또는 PLMN policy)을 관리하는 NF일 수 있다. 추가로 PCF는 액세스 및 이동성(Access and Mobility, AM) 정책 및 UE 정책을 담당하는 PCF와 세션 관리(Session Management, SM) 정책을 담당하는 PCF로 나뉠 수 있다. AM/UE 정책 담당 PCF와 SM 정책 담당 PCF는 논리적 내지 물리적으로 분리된 NF이거나 또는 논리 적 내지 물리적으로 하나의 NF일 수 있다. UDM 및 HSS는 단말의 가입자 정보(UE subscription)를 저장 및 관리 하는 NF일 수 있다. UDR은 데이터를 저장 및 관리하는 NF 내지 데이터베이스(Database, DB)일 수 있다. UDR은 단말의 가입 정보를 저장하고, UDM에게 단말의 가입 정보를 제공할 수 있다. 또한, UDR은 사업 자 정책 정보를 저장하고, PCF에게 사업자 정책 정보를 제공할 수 있다. NSSF는 단말을 서비스하는 네트워크 슬 라이스 인스턴스(network slice instances)를 선택하거나, NSSAI(Network Slice Selection Assistance Information)를 결정하는 기능을 수행하는 NF일 수 있다. 상기 인스턴스(Instance)는 NF가 소프트웨어의 코드 형태로 존재하며, 물리적인 컴퓨팅 시스템(예를 들어, 코어 네트워크 상에 존재하는 특정한 컴퓨팅 시스템)에서 NF의 기능을 수행하기 위해, 컴퓨팅 시스템으로부터 물리적 또는/및 논리적인 자원을 할당 받아서 상기 NF의 기능을 실행 가능한 상태를 의미할 수 있다. 예를 들어 AMF Instance, SMF Instance, NSSF Instance 등은 각각 코어 네트워크 상에 존재하는 특정한 컴퓨팅 시스템으로부 터 AMF, SMF, NSSF 등의 동작을 위해 물리적 또는/및 논리적 자원을 할당받아 사용할 수 있는 상태를 의미할 수 있다. 따라서 물리적인 AMF, SMF, NSSF 장치가 존재하는 경우와 네트워크 상에 존재하는 특정한 컴퓨팅 시스템 으로부터 AMF, SMF, NSSF 동작을 위해 물리적 또는/및 논리적 자원을 할당 받아 사용하는 AMF Instance, SMF Instance, NSSF Instance는 동일한 동작을 수행할 수 있다. 5GS의 UDM과 EPS의 HSS는 하나의 콤보 노드(UDM+HSS 로 지칭)로 구성될 수 있다. UDM+HSS 노드는 단 말의 가입자 정보를 저장할 수 있다. 5GS의 SMF와 EPS의 PGW-C는 하나의 콤보 노드(SMF+PGW-C로 지칭)로 구성될 수 있다. 5GS의 PCF와 EPS의 정책 제어 및 과금 규칙 기능(Policy Control and Charging Rules Function, PCRF)는 하나의 콤보 노드(PCF+PCRF 로 지칭)로 구성될 수 있다. 5GS의 UPF와 EPS의 PGW-U는 하나의 콤보 노드(UPF+PGW-U로 지칭)로 구성될 수 있다. 단말은 E-UTRA 기지국을 통해 EPS의 MME에 접속하여 EPS 네트워크 서비스를 이용할 수 있다. 또한, 단말은 NR 기지국을 통해 5GS의 AMF에 접속하여 5GS 네트워크 서비스 를 이용할 수 있다. 도 2에서 EPS에 접속한 단말과 5GS에 접속한 단말에 대해서는 동일한 참조부호를 사용하였 다. 이는 단말이 EPS에 접속할 수도 있고, 5GS에 접속할 수도 있는 단말임을 의미하기 위함이다. 이와 같이, 하나의 NF 또는 네트워크 엔터티가 서로 다른 네트워크 시스템을 동시에 지원할 수 있으며, 이러한 NF, 네트워크 노드 또는 네트워크 엔터티를 앞서 설명한 콤보 노드, 콤보 NF, 통합된(combined) 노드, 통합된 NF, 인터워킹(interworking) 노드, 인터워킹 NF 등으로 부를 수 있다. 또한 상기 콤보 노드로 예시된 NF의 기능 은 둘 이상의 네트워크 엔터티들 간의 인터워킹을 통해 구현될 수도 있다. 뿐만 아니라, 도시와 설명의 편의상 \"+\" 기호 또는 \"/\" 기호를 이용하여 서로 다른 네트워크 시스템을 동시에 지원하는 NF를 표시할 수도 있다. 예 를 들어, SMF와 PGW-C가 하나의 콤보 노드로 구성되는 경우, PGW-C/SMF, PGW-C+SMF, SMF/PGW-C, 또는 SMF+PGW- C로 표현될 수 있다. 단말(201a, 201b)은 5GS 또는 EPS 시스템을 통해 데이터 네트워크(예를 들면, 인터넷 서비스를 제공하는 네트워 크)에 접속하여 세션을 수립할 수 있다. 이때, 단말은 데이터 네트워크 이름(Data Network Name, DNN) 또는 액 세스 포인트 이름(Access Point Name, APN)이라는 식별자를 이용하여 각각의 데이터 네트워크를 구별할 수 있다. 데이터 네트워크 구별을 위해 5GS에서는 DNN을, EPS에서는 APN을 사용할 수 있다. DNN과 APN은 단말이 네 트워크 시스템과 세션을 연결함에 있어서 사용자 평면(user plane)과 관련된 NF, NF간 인터페이스, 사업자 정책 등을 결정하는데 사용될 수 있다. 상기 DNN과 상기 APN은 등가의 정보로 이해될 수 있으며, 동일한 정보를 전달 할 수 있다. 상기 DNN은 예를 들어 PDU 세션에 대해 SMF와 UPF(들)을 선택하는데 이용될 수 있으며, PDU 세션에 대해 데이터 네트워크와 UPF 간의 인터페이스(예컨대, N6 인터페이스)(들)을 선택하는데 이용될 수 있다. 또한 상기 DNN은 PDU 세션에 적용하기 위한 이동 통신 사업자의 정책(policy)을 결정하는데 이용될 수 있다. 하기 실시 예들에서 UDM+HSS 노드, PCF+PCRF 노드, SMF+PGW-C 노드, UPF+PGW-C 노드 등과 같은 콤보 노드는 설 명의 편의상 \"노드\"의 명칭을 생략하여 기술하기로 한다. 그리고 하기 실시 예들에서 한 실시 예에서 정의된 메시지의 정의는 동일한 메시지를 이용하는 다른 실시 예에서도 동일한 의미로 적용될 수 있다. PCF는 세션 관리 정책(SM Policy)을 담당하는 세션 관리-정책 제어 기능(SM-PCF)와 이동성 관리 정책(AM Policy) 및/또는 단말 정책(UE Policy)를 담당하는 단말-정책 제어 기능(UE-PCF)로 구분될 수 있다. SM- PCF는 SMF와 N7 인터페이스를 통해 연결될 수 있으며, AMF와는 연결될 수 없다. 다시 말해, SM-PCF는 N15 인터페이스를 지원할 수 없다. UE-PCF는 AMF와 N15 인터페이스를 통해 연결될 수 있으며, SMF와는 연결될 수 없다. 다시 말해, UE-PCF는 N7 인터페이스를 지원할 수 없다. SM-PCF와 UE-PCF는 물리적 및/또는 논리적으로 하나의 장치 또는 하나의 PCF에 위치할 수 있으나, 서로 다른 PCF instance로 구분될 수 있다. PCF가 UE에게 제공하는 UE Policy에는 접속 네트워크 발견 & 선택 정책(Access Network Discovery & Selection Policy), UE 루트 선택 정책(UE Route Selection Policy), V2X(Vehicle-to-everything) Policy, 및/또는 ProSe Policy가 포함될 수 있다. Access Network Discovery & Selection Policy (ANDSP): 단말이 non-3GPP access network를 선택할 때 필요한 정책 정보를 포함한다. UE Route Selection Policy (URSP): 단말 밖으로 나가는 트래픽을 라우팅 하기 위해 필요한 정책 정보를 포함한 다. V2X Policy (V2XP): 단말이 V2X 통신을 하기 위해 필요한 설정 파라미터를 제공하는 정책 정보를 포함한다. ProSe Policy (ProSeP): 단말이 ProSe Direct Discovery, ProSe Direct Communication, ProSe UE-to-Network Relay and Remote UE 통신을 하기 위해 필요한 설정 파라미터를 제공하는 정책 정보를 포함한다. 도 3은 본 개시의 일 실시예에 따른, 5G 시스템의 정책 제어 및 요금 제어 체계와 관련된 네트워크 구조 및 인 터페이스를 나타낸 도면이다. 정책 제어 기능(policy control function: PCF)는 네트워크 동작을 제어하는 통합 제어 프레임워크 역할을 할 수 있다. 어플리케이션 기능(application function: AF)은 규칙생성을 지원하기 위해 과금 기능에 세션관련 정보를 제공할 수 있다. 네트워크 데이터 분석 기능(Network Data Analytics Function, NWDAF)은 코어 네트워크에 포함된 임의의 NF로부터 데이터를 수집할 수 있다. 이때 NWDAF와 상대 NF는 동일한 PLMN에 속해 있어야 한다. 통합 데이터 저장소(Unified Data Repository, UDR) 은 가입자 정보 데이터 (subscription data), 정책 데이터 (policy data), 노출을 위한 구조화 데이터 (structured data for exposure), 어플리케이션 데이터 (application data)를 UDM (미도시), PCF , NEF 등에 제공할 수 있다. 네트워크 노출 기능(network exposure function: NEF) 은 네트워크 서비스 및 기능을 안전하게 노출하는 역할을 할 수 있다. 과금 기능 (CHarging Function, CHF) 은 5G 코어네트워크와 통신하며, 네트워크 자원 사용과 관련된 과금 체계를 제공할 수 있다. 하나의 PCF instance는 N15와 N7을 동시에 지원할 수 없다. - N15: AMF와 PCF 간의 참조 포인트 - N7: SMF와 PCF 간의 참조 포인트 - N4: SMF와 UPF 간의 참조 포인트 - N5: AF와 PCF 간의 참조 포인트 - N23: NWDAF와 PCF 간의 참조 포인트 - N36: UDR와 PCF 간의 참조 포인트 - N30: NEF와 PCF 간의 참조 포인트 - N29: NEF와 SMF 간의 참조 포인트 - N28: CHF와 PCF 간의 참조 포인트 - N40: CHF와 SMF 간의 참조 포인트 - N101: N15를 지원하는 PCF instance와 N7을 지원하는 PCF instance 간의 참조 포인트 - N102: N15를 지원하는 PCF와 SMF 간의 참조 포인트 도 4a 및 도 4b는 본 개시의 일 실시예에 따른, EPS/5GS 인터워킹 시스템에서 코어네트워크가 단말에게 단말 정 책을 전달하는 방법을 설명하기 위한 도면이다. 단계 0: 5GS를 통해 네트워크에 연결되었던 단말이 EPS를 통해 네트워크에 연결될 수 있도록 핸드오버 절차 또 는 idle상태 이동 절차가 수행될 수 있다. 상기 네트워크를 이동하기 위한 절차에는 UE가 트래킹 영역 업데이트 (Tracking Area Update) 절차를 통해 EPS에 등록(Attach)되는 과정, UE가 EPS 연결(Connection)을 수립하는 과 정, UE가 5GS에서 이용하고 있던 PDU 세션(Session)과 관련된 정보를 SMF+PGW-C가 유지하고 있는 과정, UE가 EPS로 네트워크를 이동하면서 EPS에서는 필요하지 않은 정보(예를 들어, SM Context, AM Context, UE Context, SM Policy, AM Policy, UE Policy, 5GS parameter 등이 포함될 수 있다)를 삭제하는 과정 등이 포함될 수 있다. 단계 1: SMF+PGW-C는 UDM+HSS에게 현재 연결된 UE에게 EPS를 통해 UE 정책(Policy)이 전달될 수 있 음을 통지할 수 있다. SMF+PGW-C는 현재 연결된 UE에게 EPS를 통해 UE Policy가 전달될 수 있는지 여부를 판단함에 있어서, 현재 연결된 UE에 대하여 UE가 5GS와 EPS에 접속 가능한 단말인지 여부, UE가 현재 EPS를 통해 연결되어 있는지 여부, UE의 선호 네트워크 등을 참고할 수 있다. 이때 SMF+PGW-C는 UE 식별자(예를 들어, SUPI)와 UE에게 EPS를 통해 UE Policy가 전달될 수 있음을 알리는 지시자 (예를 들 어, UE Policy delivery over EPS Indication)을 UDM+HSS에게 제공할 수 있다. 일 예로, SMF+PGW- C는 UDM+HSS에게 SDM(가입자 데이터 관리, Subscriber Data Management) 구독(Subscribe) 메시지를 송신할 수 있다. 단계 1의 동작은 상기 단계 0 이전 또는 상기 단계 0 중, 또는 상기 단계 0 이후 중에 수행될 수 있다. 단계 2: UE-PCF는 UE 정책 정보(Policy information)(예를 들어, URSP)이 UE에게 송신되어야 하는지 여부를 판단할 수 있다. UE-PCF는 UE-PCF가 가지고 있는 UE Policy information에 변경(생성, 수정, 삭제 등을 포함한다)이 발생한 경우, 미도시된 UDR, NWDAF, AF 또는 다른 NF로부터 UE Policy information에 변경이 발생하였음을 통지 받거나, 또는 UE Policy information의 변경을 요청 받은 경우에 UE에게 UE Policy information을 송신하여야 하는 것으로 판단할 수 있다. 단계 3: UE-PCF는 UE Policy 결정을 할 수 있다. UE-PCF는 UE Policy information의 변경이 필요한 대상 UE를 판단할 수 있다. 대상 UE는 하나 또는 그 이상의 UE, 또는 하나의 UE 그룹이 포함될 수 있다. 단계 4: UE-PCF는 UDR에게 변경된 UE Policy information을 송신할 수 있다. UE Policy information 의 변경에는 UE Policy information의 생성, 수정, 삭제가 포함될 수 있다. 일 예에 따르면, UE Policy information는 UE Policy 변경 요청 메시지에 포함될 수 있다. 단계 5: UDR은 UDM+HSS에게 UE 정책 데이터(UE Policy data)에 변경이 발생되었음을 통지할 수 있다. 단계 6: UDM+HSS는 SMF+PGW-C에게 UE Policy data에 변경이 발생되었으며, EPS를 통해 UE에게 제공 될 수 있음을 통지할 수 있다. 이때, UDM+HSS는 UE 식별자 (예를 들어, SUPI), UE Policy data가 EPS를 통해 UE에게 제공될 수 있음을 알리는 지시자 (예를 들어, UE Policy delivery over EPS Indication), 그리고 UE-PCF 식별자 (예를 들어, UE-PCF의 PCF ID, UE-PCF의 PCF instance ID)를 제공할 수 있다. UDM+HSS는 SMF+PGW-C에게 subscriber data management(SDM) 통지(Notify) 메시지를 송신할 수 있다. 상기 UE 식별자 (예를 들어, SUPI), UE Policy data가 EPS를 통해 UE에게 제공될 수 있음을 알리는 지시자 (예 를 들어, UE Policy delivery over EPS Indication), 그리고 UE-PCF 식별자는 subscriber datamanagement(SDM) 통지(Notify) 메시지에 포함될 수 있다. 단계 7: SMF+PGW-C는 SM-PCF에게 변경된 UE Policy의 전달을 요청할 수 있다. 이때, SMF+PGW- C는 단계 6에서 UDM+HSS로부터 수신한 UE 식별자, UE Policy data가 EPS를 통해 UE에게 제공될 수 있음을 알리는 지시자, 및 UE-PCF 식별자 중 적어도 하나 이상의 정보를 SM-PCF에게 전달할 수 있다. SMF+PGW-C는 SM-PCF에게 SM Policy(Session Management Policy, 세션 관리 정책) 제어 업데이트 요 청(Request) 메시지를 송신할 수 있다. 단계 8a: SM-PCF는 단계 7에서 SMF+PGW-C로부터 요청 받은 변경된 UE Policy를 제공해줄 수 있는 UE-PCF와 연관(Association) 수립(Establish)을 요청할 수 있다. 예를 들어, 단계 7에서 SMF+PGW- C가 UE 식별자와 UE-PCF 식별자를 제공한 경우, SM-PCF는 해당 UE에 대하여 해당 UE-PCF와 연관을 수립한 적이 없다고 판단한 경우, UE-PCF 연관 수립을 요청할 수 있다. SM-PCF는 단계 7에서 SMF+PGW- C로부터 요청 받은 변경된 UE Policy를 제공해줄 수 있는 UE-PCF에게 변경된 UE Policy data를 요청 할 수 있다. 이때 SM-PCF는 UE-PCF에게 UE 식별자 (예를 들어, SUPI) 및/또는 UE Policy data가 EPS 를 통해 UE에게 제공될 수 있음을 알리는 지시자 (예를 들어, UE Policy delivery over EPS Indication)(미도 시) 중 적어도 하나를 제공할 수 있다. SM-PCF와 UE-PCF 연관은 통신을 위한 새로운 인터페이스를 생 성하는 것일 수 있다. 단계 8b: SM-PCF는 단계 7에서 SMF+PGW-C로부터 요청 받은 변경된 UE Policy를 제공해줄 수 있는 UE-PCF와 연관(Association) 수정(Modification)을 요청할 수 있다. 예를 들어, 단계 7에서 SMF+PGW- C가 UE 식별자와 UE-PCF 식별자를 제공한 경우, SM-PCF는 해당 UE에 대하여 해당 UE-PCF와 연관을 수립한 적이 있다고 판단한 경우, 기존의 UE-PCF 연관에 대한 수정을 요청할 수 있다. SM-PCF는 단계 7에 서 SMF+PGW-C로부터 요청 받은 변경된 UE Policy를 제공해줄 수 있는 UE-PCF에게 변경된 UE Policy data를 요청할 수 있다. 이때 SM-PCF는 UE-PCF에게 UE 식별자 (예를 들어, SUPI) 및/또는 UE Policy data가 EPS를 통해 UE에게 제공될 수 있음을 알리는 지시자 (예를 들어, UE Policy delivery over EPS Indication)(미도시) 중 적어도 하나를 제공할 수 있다. 상기 단계 8a 내지 8b에서, UE-PCF Association Establish/Modification 요청과 UE-PCF에 대한 변경된 UE Policy data의 요청은 각 단계에서 동시 또는 별도의 메시지를 이용하여 송신될 수 있다. 또한, 각 단계에서 UE-PCF Association Establish/Modification 요청은 생략될 수 있다. 단계 8a 및 8b는 SM-PCF의 결정에 따라 선택적으로 수행될 수 있다. 단계 9a: 단계 8a에서 UE-PCF Association Establish 요청을 받은 UE-PCF는 SM-PCF에게 UE-PCF Association Establish 결과(성공/실패, 수락/거절 등)를 제공할 수 있다. UE-PCF는 이 UE-PCF Association이 어떤 SM-PCF와 맺은 것인지 (예를 들어 UE-PCF Association ID와 SM-PCF의 PCF ID 또는 PCF instance ID와의 관계)를 저장할 수 있다. 단계 8a에서 변경된 UE Policy data 요청을 받은 UE-PCF는 SM-PCF에게 변경된 UE Policy data를 전달할 수 있다. 이 때, UE-PCF는 UE Policy data를 UE만 읽을 수 있는 형식으로 작성하여 제공할 수 있다. 예를 들어, UE-PCF는 UE Policy data를 UE 정책 컨테이 너(UE Policy Container)에 포함시킨 후, SM-PCF에게 UE Policy Container를 제공할 수 있다. 이 경우, SM-PCF는 UE-PCF로부터 UE Policy Container를 수신 하였음은 인지 할 수 있지만, UE Policy Container 내부에 어떤 종류의 데이터(예를 들어, URSP, ANDSP)가 포함되어 있는지 및/또는 UE Policy Container 내부에 저장된 데이터의 값은 읽을 수 없다. 여기서 UE Policy container는 5GS에서 사용되는 방식일 수 있다. UE Policy container는 전달과정에서 단말만이 해석할 수 있는 형식 일 수 있다. 단계 9b: 단계 8b에서 UE-PCF Association Modification 요청을 받은 UE-PCF는 SM-PCF에게 UE-PCF Association Modification 결과(성공/실패, 수락/거절 등)를 제공할 수 있다. 단계 8b에서 변경된 UE Policy data 요청을 받은 UE-PCF는 SM-PCF에게 변경된 UE Policy data를 전달할 수 있다. 이 때, UE- PCF는 UE Policy data를 UE만 읽을 수 있는 형식으로 작성하여 제공할 수 있다. 예를 들어, UE- PCF는 UE Policy data를 UE Policy Container에 포함시킨 후, SM-PCF에게 UE Policy Container를 제 공할 수 있다. 이 경우, SM-PCF는 UE-PCF로부터 UE Policy Container를 수신 하였음은 인지 할 수 있지만, UE Policy Container 내부에 어떤 종류의 데이터(예를 들어, URSP, ANDSP)가 포함되어 있는지 및/또는 UE Policy Container 내부에 저장된 데이터의 값은 읽을 수 없다. 여기서 UE Policy container는 5GS에서 사용 되는 방식일 수 있다. UE Policy container는 전달과정에서 단말만이 해석할 수 있는 형식 일 수 있다. 단계 10: SM-PCF는 SMF+PGW-C에게 변경된 UE Policy를 전달할 수 있다. SM-PCF는 SMF+PGW- C에게 SM Policy 제어 업데이트 응답(Response) 메시지를 송신할 수 있다. SM-PCF가 UE-PCF로 부터 UE Policy에 대한 정보를 UE Policy Container 형식으로 전달받은 경우, 이를 그대로 SM+PGW-C에게 전달할 수 있다. SM-PCF가 UE-PCF로부터 UE Policy data를 제공받은 경우, SM-PCF는 UE Policy data를 UE만 읽을 수 있는 형식으로 작성하여 제공할 수 있다. 예를 들어, SM-PCF는 UE Policy data를 UE Policy Container에 포함시킨 후, SMF+PGW-C에게 UE Policy Container를 제공할 수 있다. 이 경우, SMF+PGW-C는 SM-PCF로부터 UE Policy Container를 수신 하였음은 인지 할 수 있지만, UE Policy Container 내부에 어떤 종류의 데이터(예를 들어, URSP, ANDSP)가 포함되어 있는지 및/또는 UE Policy Container 내부에 저장된 데이터의 값은 읽을 수 없을 수 있다.. 단계 11: SMF+PGW-C는 SGW에게 업데이트 베어러 요청 메시지를 송신할 수 있다. SMF+PGW-C는 SM-PCF로부터 전달받은 UE Policy (UE Policy Container 형식을 포함한다)를 PCO(Protocol Configuration Options, 프로토콜 설정 옵션)에 포함시켜서 SGW에게 전달할 수 있다. PCO는 UE와 PDN GW간에 정보 를 교환할 때 사용되며, UE와 PDN GW까지의 연결에 존재하는 다른 EPS 엔티티(예를 들어, eNodeB, MME 및 SGW)는 PCO에 포함된 정보를 읽을 수 없다. 단계 12: SGW는 MME에게 업데이트 베어러 요청 메시지를 송신할 수 있다. SGW는 MME에게 단계 11에서 수신한, UE Policy (UE Policy Container 형식을 포함한다)가 포함된 PCO를 전달할 수 있다. 단계 13: MME는 eNodeB에게 Downlink non-access stratum (NAS) Transport 메시지를 송신할 수 있다. MME는 eNodeB에게 단계 12에서 수신한, UE Policy (UE Policy Container 형식을 포함한다)가 포함된 PCO를 전달할 수 있다. 단계 14: eNodeB는 UE에게 Direct NAS Transport 메시지를 송신할 수 있다. eNodeB는 UE 에게 단계 13에서 수신한, UE Policy (UE Policy Container 형식을 포함한다)가 포함된 PCO를 전달할 수 있다. 단계 10 내지 단계 14에서 PCO형태가 아닌 UE Policy (UE Policy Container 형식을 포함한다.) 형태로 전송할 수도 있다. 단계 15: UE는 수신한 UE Policy를 저장할 수 있다. UE가 기존에 저장하고 있던 UE Policy가 있는 경우, 수신한 UE Policy를 기반으로 변경, 수정 및/또는 삭제를 수행할 수 있다. UE는 수신한 PCO를 해석 하여 포함된 UE Policy에 대한 정보를 획득할 수 있다. UE는 UE Policy container 방식이 포함된 경우 이 를 해석하여 UE Policy에 대한 정보를 획득할 수 있다. 도 5a 및 도 5b는 본 개시의 일 실시예에 따른, EPS/5GS 인터워킹 시스템에서 코어네트워크가 단말에게 단말 정 책을 전달하는 방법을 설명하기 위한 도면이다. 단계 0: 5GS를 통해 네트워크에 연결되었던 단말이 EPS를 통해 네트워크에 연결될 수 있도록 핸드오버 절차 또 는 idle상태 이동 절차가 수행될 수 있다. 상기 네트워크를 이동하기 위한 절차에는 UE가 Tracking Area Update 절차를 통해 EPS에 등록(Attach)되는 과정, UE가 EPS Connection을 수립하는 과정, UE가 5GS에서 이용하고 있 던 PDU Session과 관련된 정보를 SMF+PGW-C가 유지하고 있는 과정, UE가 EPS로 네트워크를 이동하면서 EPS에서 는 필요하지 않은 정보(예를 들어, SM Context, AM Context, UE Context, SM Policy, AM Policy, UE Policy, 5GS parameter 등이 포함될 수 있다)를 삭제하는 과정 등이 포함될 수 있다. 단계 1: SMF+PGW-C는 UDM+HSS에게 현재 연결된 UE에게 EPS를 통해 UE Policy가 전달될 수 있음을 통 지할 수 있다. SMF+PGW-C는 현재 연결된 UE에게 EPS를 통해 UE Policy가 전달될 수 있는지 여부를 판단함에 있어서, 현재 연결된 UE에 대하여 UE가 5GS와 EPS에 접속 가능한 단말인지 여부, UE가 현재 EPS를 통해 연결되어 있는지 여부, UE의 선호 네트워크 등을 참고할 수 있다. 이때 SMF+PGW-C는 UE 식 별자(예를 들어, SUPI)와 UE에게 EPS를 통해 UE Policy가 전달될 수 있음을 알리는 지시자 (예를 들어, UE Policy delivery over EPS Indication)을 UDM+HSS에게 제공할 수 있다. SMF+PGW-C는 UDM+HSS에 게 SDM(가입자 데이터 관리, Subscriber Data Management) 구독(Subscribe) 메시지를 송신할 수 있다. 단계 1 의 동작은 상기 단계 0 이전 또는 상기 단계 0 중, 또는 상기 단계 0 이후 중에 수행될 수 있다. 단계 2: UE-PCF는 UE Policy information(예를 들어, URSP rule)이 UE에게 송신되어야 하는지 여부 를 판단할 수 있다. UE-PCF는 UE-PCF가 가지고 있는 UE Policy information에 변경(생성, 수정, 삭 제 등을 포함한다)이 발생한 경우, 미도시된 UDR, NWDAF, AF 또는 다른 NF로부터 UE Policy information에 변경이 발생하였음을 통지 받거나, 또는 UE Policy information의 변경을 요청 받은 경우에 UE에게 UE Policy information을 송신하여야 하는 것으로 판단할 수 있다. 단계 3: UE-PCF는 UE Policy 결정을 할 수 있다. UE-PCF는 UE Policy information의 변경이 필요한 대상 UE를 판단할 수 있다. 대상 UE는 하나 또는 그 이상의 UE, 또는 하나의 UE 그룹이 포함될 수 있다. 단계 4: UE-PCF는 UDR에게 변경된 UE Policy information을 송신할 수 있다. UE Policy information 의 변경에는 UE Policy information의 생성, 수정, 삭제가 포함될 수 있다. 일 예에 따르면, UE Policy information는 UE Policy 변경 요청 메시지에 포함될 수 있다. 단계 5: UDR은 UDM+HSS에게 UE Policy data에 변경이 발생되었음을 통지할 수 있다. 단계 6: UDM+HSS는 SMF+PGW-C에게 UE Policy data에 변경이 발생되었으며, EPS를 통해 UE에게 제공 될 수 있음을 통지할 수 있다. 이때, UDM+HSS는 UE 식별자 (예를 들어, SUPI), UE Policy data가 EPS를 통해 UE에게 제공될 수 있음을 알리는 지시자 (예를 들어, UE Policy delivery over EPS Indication), 그리고 UE-PCF 식별자 (예를 들어, UE-PCF의 PCF ID, UE-PCF의 PCF instance ID)를 제공할 수 있다. UDM+HSS는 SMF+PGW-C에게 SDM 통지(Notify) 메시지를 송신할 수 있다. 상기 UE 식별자 (예를 들어, SUPI), UE Policy data가 EPS를 통해 UE에게 제공될 수 있음을 알리는 지시자 (예를 들어, UE Policy delivery over EPS Indication), 그리고 UE-PCF 식별자는 subscriber data management(SDM) 통지(Notify) 메시지에 포함 될 수 있다. 단계 7a: SMF+PGW-C는 변경된 UE Policy를 제공해줄 수 있는 UE-PCF와 연관(Association) 수립 (Establish)을 요청할 수 있다. 예를 들어, 단계 6에서 UDM+HSS가 UE 식별자와 UE-PCF 식별자를 제공한 경우, SMF+PGW-C는 해당 UE에 대하여 해당 UE-PCF와 연관을 수립한 적이 없다고 판단한 경우, UE- PCF 연관 수립을 요청할 수 있다. SMF+PGW-C는 변경된 UE Policy를 제공해줄 수 있는 UE-PCF에게 변 경된 UE Policy data를 요청할 수 있다. 이때 SMF+PGW-C는 UE-PCF에게 UE 식별자 (예를 들어, SUPI) 및/또는 UE Policy data가 EPS를 통해 UE에게 제공될 수 있음을 알리는 지시자 (예를 들어, UE Policy delivery over EPS Indication)(미도시) 중 적어도 하나를 제공할 수 있다. 단계 7b: SMF+PGW-C는 변경된 UE Policy를 제공해줄 수 있는 UE-PCF와 연관(Association) 수정 (Modification)을 요청할 수 있다. 예를 들어, 단계 6에서 UDM+HSS가 UE 식별자와 UE-PCF 식별자를 제공 한 경우, SMF+PGW-C는 해당 UE에 대하여 해당 UE-PCF와 연관을 수립한 적이 있다고 판단한 경우, 기존의 UE-PCF 연관에 대한 수정을 요청할 수 있다. SMF+PGW-C는 변경된 UE Policy를 제공해줄 수 있는 UE- PCF에게 변경된 UE Policy data를 요청할 수 있다. 이때 SMF+PGW-C는 UE-PCF에게 UE 식별자 (예를 들어, SUPI) 및/또는 UE Policy data가 EPS를 통해 UE에게 제공될 수 있음을 알리는 지시자 (예를 들어, UE Policy delivery over EPS Indication)(미도시) 중 적어도 하나를 제공할 수 있다. 상기 단계 7a 내지 7b에서, UE-PCF Association Establish/Modification 요청과 UE-PCF에 대한 변경된 UE Policy data의 요청은 각 단계에서 동시 또는 별도의 메시지를 이용하여 송신될 수 있다. 또한, 각 단계에서 UE-PCF Association Establish/Modification 요청은 생략될 수 있다. 단계 7a 및 7b는 SMF+PGW-C 의 결정 에 따라 선택적으로 수행될 수 있다. 단계 8a: 단계 7a에서 UE-PCF Association Establish 요청을 받은 UE-PCF는 SMF+PGW-C에게 UE-PCF Association Establish 결과(성공/실패, 수락/거절 등)를 제공할 수 있다. UE-PCF는 이 UE-PCF Association이 어떤 SMF+PGW-C와 맺은 것인지 (예를 들어 UE-PCF Association ID와 SMF+PGW-C의 SMF ID 또는 SMF instance ID와의 관계)를 저장할 수 있다. 단계 7a에서 변경된 UE Policy data 요청을 받은 UE- PCF는 SMF+PGW-C에게 변경된 UE Policy data를 전달할 수 있다. 이 때, UE-PCF는 UE Policy data를 UE만 읽을 수 있는 형식으로 작성하여 제공할 수 있다. 예를 들어, UE-PCF는 UE Policy data를 UE Policy Container에 포함시킨 후, SMF+PGW-C에게 UE Policy Container를 제공할 수 있다. 이 경우, SMF+PGW-C는 UE-PCF로부터 UE Policy Container를 수신 하였음은 인지 할 수 있지만, UE Policy Container 내부에 어떤 종류의 데이터(예를 들어, URSP, ANDSP)가 포함되어 있는지 및/또는 UE Policy Container 내부에 저장된 데이터의 값은 읽을 수 없다. 여기서 UE Policy container는 5GS에서 사용되는 방식일 수 있다. UE Policy container는 전달과정에서 단말만이 해석할 수 있는 형식 일 수 있다. 단계 8b: 단계 7b에서 UE-PCF Association Modification 요청을 받은 UE-PCF는 SMF+PGW-C에게 UE- PCF Association Modification 결과(성공/실패, 수락/거절 등)를 제공할 수 있다. UE-PCF는 이 UE-PCFAssociation이 어떤 SMF+PGW-C와 맺은 것인지 (예를 들어 UE-PCF Association ID와 SMF+PGW-C의 SMF ID 또는 SMF instance ID와의 관계)를 저장할 수 있다. 단계 7b에서 변경된 UE Policy data 요청을 받은 UE-PCF는 SMF+PGW-C에게 변경된 UE Policy data를 전달할 수 있다. 이 때, UE-PCF는 UE Policy data를 UE만 읽을 수 있는 형식으로 작성하여 제공할 수 있다. 예를 들어, UE-PCF는 UE Policy data를 UE Policy Container에 포함시킨 후, SMF+PGW-C에게 UE Policy Container를 제공할 수 있다. 이 경우, SMF+PGW- C는 UE-PCF로부터 UE Policy Container를 수신 하였음은 인지 할 수 있지만, UE Policy Container 내부에 어떤 종류의 데이터(예를 들어, URSP, ANDSP)가 포함되어 있는지 및/또는 UE Policy Container 내부에 저장된 데이터의 값은 읽을 수 없다. 여기서 UE Policy container는 5GS에서 사용되는 방식일 수 있다. UE Policy container는 전달과정에서 단말만이 해석할 수 있는 형식 일 수 있다. 단계 9: SMF+PGW-C는 SGW에게 업데이트 베어러 요청 메시지를 송신할 수 있다. SMF+PGW-C는 UE-PCF로부터 전달받은 UE Policy (UE Policy Container 형식을 포함한다)를 PCO(Protocol Configuration Options, 프로토콜 설정 옵션)에 포함시켜서 SGW에게 전달할 수 있다. PCO는 UE와 PDN GW간에 정보 를 교환할 때 사용되며, UE와 PDN GW까지의 연결에 존재하는 다른 EPS 엔티티(예를 들어, eNodeB, MME 및 SGW)는 PCO에 포함된 정보를 읽을 수 없다. 단계 10: SGW는 MME에게 업데이트 베어러 요청 메시지를 송신할 수 있다. SGW는 MME에게 단계 9에서 수신한, UE Policy (UE Policy Container 형식을 포함한다)가 포함된 PCO를 전달할 수 있다. 단계 11: MME는 eNodeB에게 Downlink NAS Transport 메시지를 송신할 수 있다. MME는 eNodeB에게 단계 10에서 수신한, UE Policy(UE Policy Container 형식을 포함한다)가 포함된 PCO를 전달 할 수 있다. 단계 12: eNodeB는 UE에게 Direct NAS Transport 메시지를 송신할 수 있다. ENodeB는 UE 에게 단계 11에서 수신한, UE Policy (UE Policy Container 형식을 포함한다)가 포함된 PCO를 전달할 수 있다. 단계 9 내지 단계 12에서 PCO형태가 아닌 UE Policy (UE Policy Container 형식을 포함한다.) 형태로 전송할 수도 있다. 단계 13: UE는 수신한 UE Policy를 저장할 수 있다. UE가 기존에 저장하고 있던 UE Policy가 있는 경우, 수신한 UE Policy를 기반으로 변경, 수정 및/또는 삭제를 수행할 수 있다. UE는 수신한 PCO를 해석 하여 포함된 UE Policy에 대한 정보를 획득할 수 있다. UE는 UE Policy container 방식이 포함된 경우 이 를 해석하여 UE Policy에 대한 정보를 획득할 수 있다. 도 6은 본 개시의 일 실시예들에 따른 세션 관리 기능 + 패킷 데이터 네트워크 게이트웨이 제어 엔티티 (SMF+PGW-C)의 구조를 도시한 것이다. 상기 장치는 세션 관리 기능(Session Management function) 및 패 킷 데이터 네트워크 게이트웨이 제어 기능 (Packet Data Network Gateway-Control, PGW-C)을 수행하는 네트워 크 엔티티일 수 있다. SMF+PGW-C은 5GS의 SMF와 EPS의 PGW-C를 하나의 콤보 노드로 포함하는 개념일 수 있 다. 도 6과 같이, 본 개시의 SMF+PGW-C은 적어도 하나의 제어기(프로세서), 수신기와 송신기를 포함 하는 송수신기를 포함할 수 있다. 상기 SMF+PGW-C은 메모리(도시하지 않음)를 포함할 수 있다. 상기 송수신기 및 메모리는 상기 적어도 하나의 제어기의 제어에 따라 동작할 수 있도록 상기 적어도 하나 의 제어기에 연결되어 있을 수 있다. 적어도 하나의 제어기는 본 개시의 도 1 내지 도 5b에 기재된 어플리케이션 기능의 동작이 수행될 수 있도 록 일련의 과정을 제어할 수 있다. 송수신기는 단말 및 다른 네트워크 장치(700 등)와 신호를 송수신할 수 있다. 상기 신호는 제어 메시지와, 데이터 정보 등을 포함할 수 있다. 도 7은 본 개시의 일 실시예들에 따른 PCF의 구조를 도시한 것이다. 상기 장치는 정책 제어 기능을 수행하 는 엔티티일 수 있다. PCF 은 세션 관리 정책(SM Policy)을 담당하는 SM-PCF와 이동성 관리 정책(AM Policy) 및/또는 단말 정책(UE Policy)를 담당하는 UE-PCF로 구분될 수 있다. SM-PCF 및 UE-PCF는 각각 별도의 장치로 구성될 수 있으며, 동일한 장치로 구성되더라도 논리적으로 구분되도록 형성될 수 있다. 도 7과 같이, 본 개시의 PCF는 적어도 하나의 제어기(프로세서), 수신기와 송신기를 포함하는 송수신기를 포 함할 수 있다. 상기 어플리케이션 기능은 메모리(도시하지 않음)를 포함할 수 있다. 상기 송수신기 및 메모리는 상기 적어도 하나의 제어기의 제어에 따라 동작할 수 있도록 상기 적어도 하나의 제어기에 연 결되어 있을 수 있다. 적어도 하나의 제어기는 본 개시의 도 1 내지 도 5b에 기재된 어플리케이션 기능의 동작이 수행될 수 있도 록 일련의 과정을 제어할 수 있다. 송수신기는 단말 및 다른 네트워크 장치(600 등)와 신호를 송수신할 수 있다. 상기 신호는 제어 메시지와, 데이터 정보 등을 포함할 수 있다. 본 개시의 네트워크 장치에는 AUSF, NEF, NF, UDM, AMF, UPF, SMF, NRF, PCF, SMF+PGW-C, UPF+PGW-U, SM-PCF, UE-PCF, UDM+HSS, UDR 등과 같은 네트워크 기능에 해당되는 장치들이 모두 포함될 수 있으며, 각각의 네트워크 기능들은 독립적으로 구성될 수 있다."}
{"patent_id": "10-2022-0038240", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "한편, 이상에서 설명된 본 명세서와 도면에 개시된 실시 예들은 본 발명의 내용을 쉽게 설명하고, 이해를 돕기 위해 특정 예를 제시한 것일 뿐이며, 본 발명의 범위를 한정하고자 하는 것은 아니다. 따라서 본 발명의 범위는 여기에 개시된 실시 예들 이외에도 본 발명의 기술적 사상을 바탕으로 도출되는 모든 변경 또는 변형된 형태가 본 발명의 범위에 포함되는 것으로 해석되어야 한다. 또한 상기 각각의 실시예는 필요에 따라 서로 조합되어 운 용할 수 있다."}
{"patent_id": "10-2022-0038240", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 개시의 일 실시예에 따른, 5G 시스템의 네트워크 구조 및 인터페이스를 나타낸 도면이다. 도 2는 본 개시의 일 실시예에 따른, EPS/5GS 인터워킹 시스템의 네트워크 구조 및 인터페이스를 나타낸 도면이 다. 도 3은 본 개시의 일 실시예에 따른, 5G 시스템의 정책 제어 및 요금 제어 체계와 관련된 네트워크 구조 및 인 터페이스를 나타낸 도면이다. 도 4a 및 도 4b는 본 개시의 일 실시예에 따른, EPS/5GS 인터워킹 시스템에서 코어네트워크가 단말에게 단말 정 책을 전달하는 방법을 설명하기 위한 도면이다. 도 5a 및 도 5b는 본 개시의 일 실시예에 따른, EPS/5GS 인터워킹 시스템에서 코어네트워크가 단말에게 단말 정 책을 전달하는 방법을 설명하기 위한 도면이다. 도 6은 본 개시의 일 실시예들에 따른 SMF+PGW-C의 구조를 도시한 것이다.도 7은 본 개시의 일 실시예들에 따른 PCF의 구조를 도시한 것이다."}
