{"patent_id": "10-2023-0169386", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0024455", "출원번호": "10-2023-0169386", "발명의 명칭": "인공지능 모델의 학습을 위한 의료영상 생성장치 및 방법", "출원인": "주식회사 웨이센", "발명자": "금지수"}}
{"patent_id": "10-2023-0169386", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "원본 의료영상이 저장된 저장부;인공지능 모델 학습에 필요한 영상을 생성하는 생성모델을 통해 상기 원본 의료영상으로부터 분석 대상이 포함된 목적 의료영상을 생성하고, 상기 분석 대상에 대해 양성/음성 여부를 예측하는 예측모델에서 상기 목적 의료영상을 분석한 분석결과에 따라 상기 목적 의료영상을 학습 데이터로 추가할지 여부를 결정하는 제어부; 및상기 원본 의료영상, 상기 목적 의료영상, 상기 목적 의료영상의 생성현황 및 상기 목적 의료영상을 분석하는분석 과정이 표시되는 디스플레이부;를 포함하는 것을 특징으로 하는 인공지능 모델의 학습을 위한 의료영상 생성장치."}
{"patent_id": "10-2023-0169386", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,사용자 명령이 입력되는 입력부;를 더 포함하며,상기 제어부는,상기 입력부를 통해 입력되는 사용자 명령에 따라 생성된 적어도 하나 이상의 입력 마스크를 상기 생성모델에입력되는 상기 원본 의료영상에 적용하여 상기 목적 의료영상을 생성하는 것을 특징으로 하는 인공지능 모델의학습을 위한 의료영상 생성장치."}
{"patent_id": "10-2023-0169386", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 제어부는,상기 입력부를 통해 입력되는 사용자 명령에 따라 상기 적어도 하나 이상의 입력 마스크의 위치, 크기 및 타입을 설정하며, 상기 생성모델을 통해 상기 적어도 하나 이상의 입력 마스크의 위치, 크기 및 타입에 대응되는 분석 대상이 포함된 상기 목적 의료영상을 생성하는 것을 특징으로 하는 인공지능 모델의 학습을 위한 의료영상생성장치."}
{"patent_id": "10-2023-0169386", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제2항에 있어서,상기 제어부는,상기 예측모델을 구성하는 복수개의 분류모델을 통해 복수개의 활성화 영역을 추출한 후 평균하여 공통 활성화영역을 생성하고, 상기 공통 활성화 영역에 이진화를 적용하여 예측 마스크를 추출하여 예측결과를 획득한 후상기 목적 의료영상을 학습 데이터로 추가할지 여부를 결정하는 것을 특징으로 하는 인공지능 모델의 학습을 위한 의료영상 생성장치."}
{"patent_id": "10-2023-0169386", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서,상기 제어부는,CNN(Convolution Neural Network)을 기반으로 한 상기 복수개의 분류모델에 포함된 GAP(Global AveragePooling)를 통해 상기 복수개의 활성화 영역을 나타내는 복수개의 히트맵(Heat map)을 구한 후 상기 복수개의히트맵을 평균하여 상기 공통 활성화 영역을 생성하는 것을 특징으로 하는 인공지능 모델의 학습을 위한 의료영상 생성장치.공개특허 10-2025-0024455-3-청구항 6 제4항에 있어서,상기 제어부는,상기 예측결과가 양성이고, 상기 입력 마스크와 상기 예측 마스크의 중첩도가 임계값 이하인 경우 및 상기 예측결과가 음성이고, 상기 목적 의료영상에 분석대상이 포함되어 있는 경우 중 어느 하나의 경우이면 상기 목적 의료영상을 학습 데이터로 추가하는 것을 특징으로 하는 인공지능 모델의 학습을 위한 의료영상 생성장치."}
{"patent_id": "10-2023-0169386", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "인공지능 모델의 학습을 위한 의료영상 생성장치의 의료영상 생성방법에 있어서,(a) 제어부가 생성모델 및 예측모델을 로딩하는 단계;(b) 상기 생성모델을 통해 저장부에 저장된 원본 의료영상으로부터 목적 의료영상을 생성하는 단계;(c) 상기 예측모델을 통해 상기 목적 의료영상에 대해 양성/음성 여부를 예측하는 단계;(d) 상기 예측모델의 분석결과에 따라 상기 목적 의료영상을 학습 데이터로 저장하는 단계; 및(e) 상기 목적 의료영상 생성 종료조건이 만족될 때까지 다른 원본 의료영상으로 변경하여 상기 (b)단계 내지(d)단계를 반복하는 단계;를 포함하는 것을 특징으로 하는 의료영상 생성방법."}
{"patent_id": "10-2023-0169386", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7항에 있어서,상기 (b)단계는,상기 원본 의료영상이 상기 생성모델에 입력되면 위치, 크기 및 타입이 설정된 적어도 하나 이상의 입력 마스크가 상기 원본 의료영상에 적용되어 상기 목적 의료영상이 생성되는 단계인 것을 특징으로 하는 의료영상 생성방법."}
{"patent_id": "10-2023-0169386", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제7항에 있어서,상기 (c)단계는,상기 목적 의료영상이 상기 예측모델에 입력되면 상기 예측모델을 구성하는 복수개의 분류모델을 통해 복수개의히트맵을 추출한 후 평균하여 공통 활성화 영역을 생성하는 단계; 및상기 공통 활성화 영역에 이진화를 적용하여 예측 마스크를 추출하여 예측결과를 획득하는 단계;를 포함하는 것을 특징으로 하는 의료영상 생성방법."}
{"patent_id": "10-2023-0169386", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제 9항에 있어서,상기 (d)단계는,상기 예측결과가 양성이고, 상기 입력 마스크와 상기 예측 마스크의 중첩도가 임계값 이하인 경우 및 상기 예측결과가 음성이고, 상기 목적 의료영상에 분석대상이 포함되어 있는 경우 중 어느 하나의 경우이면 상기 목적 의료영상을 학습 데이터로 추가하는 단계인 것을 특징으로 하는 의료영상 생성방법."}
{"patent_id": "10-2023-0169386", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제 7항에 있어서,상기 (e)단계에서 상기 목적 의료영상 생성 종료조건은 사용자 명령에 따라 설정된 입력 마스크의 목표 개수를모두 생성한 경우, 사용자 명령에 따라 설정된 최소 크기 이상인 입력 마스크의 개수가 설정된 생성 영역내에서목표 개수에 도달한 경우, 상기 생성 영역과 상기 입력 마스크의 중첩도가 설정치 이상인 경우 중 어느 하나의공개특허 10-2025-0024455-4-경우인 것을 특징으로 하는 의료영상 생성방법."}
{"patent_id": "10-2023-0169386", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "인공지능 모델의 학습을 위한 의료영상 생성장치 및 방법이 개시된다. 이를 위하여 원본 의료영상이 저장된 저장 부, 인공지능 모델 학습에 필요한 영상을 생성하는 생성모델을 통해 원본 의료영상으로부터 분석 대상이 포함된 목적 의료영상을 생성하고, 분석 대상에 대해 양성/음성 여부를 예측하는 예측모델에서 목적 의료영상을 분석한 분석결과에 따라 목적 의료영상을 학습 데이터로 추가할지 여부를 결정하는 제어부; 및 원본 의료영상, 목적 의 료영상, 목적 의료영상의 생성현황 및 목적 의료영상을 분석하는 분석 과정이 표시되는 디스플레이부를 포함하는 의료영상 생성장치를 제공한다. 본 발명에 의하면, 목적에 맞는 다양한 의료영상 데이터를 인공지능 학습 데이터 로 구축할 수 있다."}
{"patent_id": "10-2023-0169386", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 인공지능 모델의 학습을 위한 의료영상 생성장치 및 방법에 관한 것으로, 보다 상세하게는 학습된 인 공지능 모델의 목적에 맞게 생성된 분석 대상을 입력하여 학습에 필요한 데이터를 추가할 수 있도록 하는 인공 지능 모델의 학습을 위한 의료영상 생성장치 및 방법에 관한 것이다."}
{"patent_id": "10-2023-0169386", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "인공지능 모델의 성능은 다양한 환경에서 수집되는 학습 데이터에 따라 좌우된다. 추가로 학습 데이터를 수집하 는 과정에서 아직 확보되지 않았거나 인공지능 모델이 예측하지 못한 새로운 데이터를 수집함으로써 특정 데이 터에 편향되지 않도록 하여 인공지능 모델의 성능을 고르게 향상시킬 수 있다. 특히, 의료영상들 중에서 실시간으로 검사가 진행되는 내시경이나 초음파 같은 경우, 다양한 의료영상의 수집이 검사시간 지연과도 연관되어 있어 의료영상을 수집하는데 어려움이 있다. 수집된 의료영상 데이터를 증폭 (augmentation)하는 방법으로 대칭(flip), 회전(rotation), 크기 조절(resize) 및 자르기(cropping) 등을 적용 하여 다양성을 제공할 수 있으나, 이렇게 증폭된 의료영상은 원본 의료영상에 의존적일수 밖에 없다. 또한, 병 변의 종류, 위치, 크기 및 개수 등을 고려한 목적에 맞는 의료영상 데이터 생성은 일반적인 영상 데이터 증폭과 비교하여 방법과 원리가 다르므로 일반적인 영상 데이터 증폭으로 목적에 맞는 의료영상 데이터를 획득하기는 어렵다. 선행기술문헌 특허문헌 (특허문헌 0001) 대한민국 공개특허 제10-2022-0094700호(2022.07.06.)"}
{"patent_id": "10-2023-0169386", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "따라서, 본 발명의 목적은 병변의 종류, 위치, 크기 및 개수를 자유롭게 변경하면서 목적에 맞는 현실성 있는 의료영상 데이터를 생성하여 인공지능 학습 데이터를 구축할 수 있는 인공지능 모델의 학습을 위한 의료영상 생 성장치 및 방법을 제공하는데 있다."}
{"patent_id": "10-2023-0169386", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상술한 본 발명의 목적을 달성하기 위하여, 본 발명의 인공지능 모델의 학습을 위한 의료영상 생성장치는 원본 의료영상이 저장된 저장부; 인공지능 모델 학습에 필요한 영상을 생성하는 생성모델을 통해 상기 원본 의료영상 으로부터 분석 대상이 포함된 목적 의료영상을 생성하고, 상기 분석 대상에 대해 양성/음성 여부를 예측하는 예 측모델에서 상기 목적 의료영상을 분석한 분석결과에 따라 상기 목적 의료영상을 학습 데이터로 추가할지 여부 를 결정하는 제어부; 및 상기 원본 의료영상, 상기 목적 의료영상, 상기 목적 의료영상의 생성현황 및 상기 목 적 의료영상을 분석하는 분석 과정이 표시되는 디스플레이부;를 포함하는 것을 특징으로 한다. 또한, 본 발명의 의료영상 생성장치는 사용자 명령이 입력되는 입력부;를 더 포함하며, 상기 제어부는, 상기 입 력부를 통해 입력되는 사용자 명령에 따라 생성된 적어도 하나 이상의 입력 마스크를 상기 생성모델에 입력되는 상기 원본 의료영상에 적용하여 상기 목적 의료영상을 생성하는 것을 특징으로 한다. 상기 제어부는, 상기 입력부를 통해 입력되는 사용자 명령에 따라 상기 적어도 하나 이상의 입력 마스크의 위치, 크기 및 타입을 설정하며, 상기 생성모델을 통해 상기 적어도 하나 이상의 입력 마스크의 위치, 크기 및 타입에 대응되는 분석 대상이 포함된 상기 목적 의료영상을 생성하는 것을 특징으로 한다. 상기 제어부는, 상기 예측모델을 구성하는 복수개의 분류모델을 통해 복수개의 활성화 영역을 추출한 후 평균하 여 공통 활성화 영역을 생성하고, 상기 공통 활성화 영역에 이진화를 적용하여 예측 마스크를 추출하여 예측결 과를 획득한 후 상기 목적 의료영상을 학습 데이터로 추가할지 여부를 결정하는 것을 특징으로 한다. 상기 제어부는, CNN(Convolution Neural Network)을 기반으로 한 상기 복수개의 분류모델에 포함된 GAP(Global Average Pooling)를 통해 상기 복수개의 활성화 영역을 나타내는 복수개의 히트맵(Heat map)을 구한 후 상기 복 수개의 히트맵을 평균하여 상기 공통 활성화 영역을 생성하는 것을 특징으로 한다. 상기 제어부는, 상기 예측결과가 양성이고, 상기 입력 마스크와 상기 예측 마스크의 중첩도가 임계값 이하인 경 우 및 상기 예측결과가 음성이고, 상기 목적 의료영상에 분석대상이 포함되어 있는 경우 중 어느 하나의 경우이 면 상기 목적 의료영상을 학습 데이터로 추가하는 것을 특징으로 한다. 한편, 인공지능 모델의 학습을 위한 의료영상 생성장치의 의료영상 생성방법은 (a) 제어부가 생성모델 및 예측 모델을 로딩하는 단계; (b) 상기 생성모델을 통해 저장부에 저장된 원본 의료영상으로부터 목적 의료영상을 생 성하는 단계; (c) 상기 예측모델을 통해 상기 목적 의료영상에 대해 양성/음성 여부를 예측하는 단계; (d) 상기 예측모델의 분석결과에 따라 상기 목적 의료영상을 학습 데이터로 저장하는 단계; 및 (e) 상기 목적 의료영상 생성 종료조건이 만족될 때까지 다른 원본 의료영상으로 변경하여 상기 (b)단계 내지 (d)단계를 반복하는 단 계;를 포함하는 것을 특징으로 한다. 상기 (b)단계는, 상기 원본 의료영상이 상기 생성모델에 입력되면 위치, 크기 및 타입이 설정된 적어도 하나 이 상의 입력 마스크가 상기 원본 의료영상에 적용되어 상기 목적 의료영상이 생성되는 단계인 것을 특징으로 한다. 상기 (c)단계는, 상기 목적 의료영상이 상기 예측모델에 입력되면 상기 예측모델을 구성하는 복수개의 분류모델 을 통해 복수개의 히트맵을 추출한 후 평균하여 공통 활성화 영역을 생성하는 단계; 및 상기 공통 활성화 영역 에 이진화를 적용하여 예측 마스크를 추출하여 예측결과를 획득하는 단계;를 포함하는 것을 특징으로 한다. 상기 (d)단계는, 상기 예측결과가 양성이고, 상기 입력 마스크와 상기 예측 마스크의 중첩도가 임계값 이하인 경우 및 상기 예측결과가 음성이고, 상기 목적 의료영상에 분석대상이 포함되어 있는 경우 중 어느 하나의 경우 이면 상기 목적 의료영상을 학습 데이터로 추가하는 단계인 것을 특징으로 한다. 상기 (e)단계에서 상기 목적 의료영상 생성 종료조건은 사용자 명령에 따라 설정된 입력 마스크의 목표 개수를 모두 생성한 경우, 사용자 명령에 따라 설정된 최소 크기 이상인 입력 마스크의 개수가 설정된 생성 영역내에서 목표 개수에 도달한 경우, 상기 생성 영역과 상기 입력 마스크의 중첩도가 설정치 이상인 경우 중 어느 하나의 경우인 것을 특징으로 한다."}
{"patent_id": "10-2023-0169386", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 인공지능 모델의 학습을 위한 의료영상 생성장치 및 방법에 따르면, 실시간 의료영상과 같이 다양한 데이터 수집이 어려운 환경에서 병변의 종류, 위치, 크기 및 개수 등을 고려한 목적에 맞는 다양한 의료영상 데 이터 생성이 가능하다. 또한, 인공지능 예측모델의 성능 평가와 동시에 학습에 반영되지 않아 발생되는 미검출 영상과 같은 부족한 추 가 학습 데이터 확보가 가능하다. 그리고 목적에 맞는 데이터 생성 과정을 반복하면서 인공지능 모델의 고도화가 가능하다."}
{"patent_id": "10-2023-0169386", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "상술한 본 발명의 특징 및 효과는 첨부된 도면과 관련한 다음의 상세한 설명을 통하여 보다 분명해질 것이며, 그에 따라 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자가 본 발명의 기술적 사상을 용이하게 실시할 수 있을 것이다. 본 발명은 다양한 변경을 가할 수 있고 여러 가지 형태를 가질 수 있는 바, 특정 실시예들을 도면에 예시하고 본문에 상세하게 설명하고자 한다. 그러나 이는 본 발명을 특정한 개시 형태에 대해 한정하려는 것이 아니며, 본 발명의 사상 및 기술 범위에 포함되는 모든 변경, 균등물 내지 대체물을 포함하는 것으로 이해되어야 한다. 명세서 전체에서, 어떤 부분이 어떤 구성요소를 '포함'한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다 른 구성요소를 제외하는 것이 아니라 다른 구성요소를 더 포함할 수 있는 것을 의미하며, 하나 또는 그 이상의 다른 특징이나 숫자, 단계, 동작, 구성요소, 부분품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 한다. 본 명세서에 있어서 '~부'는 소프트웨어 또는 하드웨어에 한정되는 의미는 아니며, '~부'는 어드레싱 할 수 있 는 저장 매체에 있도록 구성될 수도 있고 하나 또는 그 이상의 프로세서들을 재생시키도록 구성될 수도 있다. 따라서, 일 예로서 '~부'는 소프트웨어 구성요소들, 객체 지향 소프트웨어 구성요소들, 클래스 구성요소들 및 태스크 구성요소들과 같은 구성요소들과, 프로세스들, 함수들, 속성들, 프로시저들, 서브루틴들, 프로그램 코드 의 세그먼트들, 드라이버들, 펌웨어, 마이크로코드, 회로, 데이터, 데이터베이스, 데이터 구조들, 테이블들, 어 레이들 및 변수들을 포함한다. 구성요소들과 '~부'들 안에서 제공되는 기능은 더 작은 수의 구성요소들 및 '~부'들로 결합되거나 추가적인 구성요소들과 '~부'들로 더 분리될 수 있다. '제1', '제2' 등의 용어는 다양한 구성 요소들을 설명하는데 사용될 수 있지만, 상기 구성 요소들은 상기 용어 들에 의해 한정되어서는 안 된다. 상기 용어들은 하나의 구성 요소를 다른 구성 요소로부터 구별하는 목적으로 만 사용된다. 예를 들어, 본 발명의 권리 범위를 벗어나지 않으면서 제1 구성 요소는 제2 구성 요소로 명명될 수 있고, 유사하게 제2 구성 요소도 제1 구성 요소로 명명될 수 있다. '적어도 하나 이상의'라는 용어는 단수 및 복수를 포함하는 용어로 정의되고, '적어도 하나 이상의'라는 용어가 존재하지 않더라도 각 구성요소가 단수 또는 복수로 존재할 수 있고, 단수 또는 복수를 의미할 수 있음은 자명 하다 할 것이다. 또한, 각 구성요소가 단수 또는 복수로 구비되는 것은, 실시예에 따라 변경가능하다 할 것이다. 이하, 첨부도면을 참조하여 본 발명의 바람직한 실시 예에 의한 인공지능 모델의 학습을 위한 의료영상 생성장 치 및 방법(이하, ‘의료영상 생성장치 및 의료영상 생성방법’)을 상세하게 설명한다. 도 1은 본 발명의 일 실시예에 따른 의료영상 생성장치의 개략적인 구성을 나타낸 블록도이다. 도 1을 참고하면, 본 발명의 의료영상 생성장치는 인공지능 학습에 필요한 목적 의료영상을 생성하고, 목 적 의료영상을 이용하여 예측모델을 평가하여 인공지능 학습에 필요한 학습 데이터를 추가한다. 이를 위해 의료 영상 생성장치는 저장부, 디스플레이부, 입력부 및 제어부를 포함한다. 저장부에는 내시경이나 초음파 기기 등의 영상 촬영용 의료기기를 통해 촬영된 원본 의료영상이 저장된다. 또한, 저장부에는 인공지능 학습을 위해 추가로 생성된 목적 의료영상이 저장되며, 저장부에 저장된 의료영상은 인공지능 모델 학습을 위한 학습 데이터로 이용된다.디스플레이부에는 원본 의료영상 및 추가로 생성된 목적 의료영상이 표시되고, 목적 의료영상을 분석하는 분석 과정도 표시된다. 또한, 디스플레이부에는 원본 의료영상에 분석 대상인 병변을 생성하기 위한 입력 마스크가 표시되고, 제어부의 제어에 따라 생성되는 목적 의료영상의 생성 현황이 표시된다. 입력부는 사용자 명령을 입력받을 수 있는 키보드, 마우스, 펜 등을 포함하며, 입력 마스크의 위치, 크기 및 타입(type)을 설정하기 위한 사용자 명령이 입력부를 통해 입력된다. 즉, 사용자가 펜이나 마우스를 사 용하여 원하는 위치 및 크기로 입력 마스크를 드로잉하고, 키보드나 마우스를 사용하여 입력 마스크의 타입을 병변의 종류에 따라 설정한다. 제어부는 인공지능 모델 학습에 필요한 영상을 생성하는 생성모델 및 분석 대상의 양성/음성 여부를 예측하는 예측모델을 포함한다. 제어부는 생성모델을 통해 원본 의료영상으로부터 분석 대상이 포함된 목적 의료영상을 생성하고, 예측모델에서 목적 의료영상을 분석한 분석결과에 따라 목적 의료영상 을 학습 데이터로 추가할지 여부를 결정한다. 도 2는 본 발명의 일 실시예에 따른 의료영상 생성장치에서 목적 의료영상을 생성하는 생성모델의 구성을 나타 낸 도면이고, 도 3 내지 도 6은 도 2에 나타낸 생성모델을 통해 목적 의료영상이 생성되는 과정을 예시한 도면 이다. 먼저, 도 2를 참고하면, 생성모델은 주어진 학습 데이터를 학습하여 학습 데이터의 분포를 따르는 유사한 데이터를 생성하는 모델이며, 인코더(Encoder), 잠재 벡터(Latent Vector) 및 디코더(Decoder)로 구성된다. 인 코더는 원본 의료영상을 잠재 벡터로 변환하고 디코더는 입력 마스크를 잠재 벡터에 적용하여 목적 의료영상을 생성한다. 제어부는 입력부를 통해 입력되는 사용자 명령에 따라 생성된 입력 마스크를 생성모델에 입력되 는 원본 의료영상에 적용하여 목적 의료영상을 생성한다. 즉, 사용자 명령에 따라 설정된 입력 마스크의 위치, 크기 및 타입에 대응되는 분석 대상이 포함된 목적 의료영상을 생성한다. 이때, 원본 의료영상에 적용되는 입력 마스크는 하나 또는 그 이상이 될 수 있다. 도 3 내지 도 5에 예시한 바와 같이, 입력부를 통해 입력되는 사용자 명령에 따라 원본 의료영상에 폐곡선 을 드로잉하여 입력 마스크를 생성한 후 생성모델에 입력되는 원본 의료영상에 입력 마스크를 적용하여 분 석 대상이 포함된 목적 의료영상을 생성한다. 여기서, 생성모델은 일반적인 영상 데이터 증폭 방법과 달리 분석 대상을 변화시켜 분석 대상의 주변 영상도 분석 대상의 변화에 따라 함께 변경되도록 하여 현실성 있는 목 적 의료영상을 생성한다. 도 3에서는 입력 마스크를 추가하거나 삭제하는 경우 이에 따라 생성되는 목적 의료영상을 예시하였다. 입력 마 스크가 하나인 경우 목적 의료영상에는 하나의 분석 대상이 생성되고, 입력 마스크를 하나 더 추가하여 두개가 되는 경우 목적 의료영상에는 입력 마스크의 개수에 해당하는 두개의 분석 대상이 생성된다. 도 4에서는 입력 마스크의 크기나 위치를 변경하는 경우 이에 따라 생성되는 목적 의료영상을 예시하였다. 입력 마스크의 크기나 위치를 변경하는 경우 목적 의료영상에 표시되는 분석 대상의 크기나 위치도 변하게 된다. 도 3 및 도 4에서는 사용자 명령에 따라 분석 대상을 생성하기 위한 생성 영역을 설정할 수 있으며, 설정된 생 성 영역 내에서 분석 대상이 생성된다. 도 5에서는 입력 마스크의 타입을 변경하는 경우 이에 따라 생성되는 목적 의료영상을 예시하였다. 병변의 종류 에 따라 병변 a와 병변 b의 입력 마스크 색상을 다르게 표시하여 입력 마스크 타입을 구분할 수 있으며, 목적 의료영상에서 병변 a는 제2 타입 분석 대상으로 생성되고, 병변 b는 제1타입 분석 대상으로 생성된다. 즉, 입력 마스크 타입에 따라 목적 의료영상에 생성되는 병변의 종류도 달라진다. 병변 a의 입력 마스크를 삭제하고 병변 b의 입력 마스크의 색상을 병변 a의 입력 마스크 색상으로 변경하여 입력 마스크 타입을 변경할 수 있으며, 이 때, 목적 의료영상에서 병변 b는 제2타입 분석 대상으로 생성된다. 도 6에서는 서로 다른 원본 의료영상을 생성모델에 입력하고 각각의 원본 영상에 동일한 입력 마스크를 적 용하는 경우 생성되는 목적 의료영상을 예시하였다. 도 6을 참고하면, 동일한 입력 마스크를 서로 다른 원본 의 료영상에 적용하여 목적 의료영상에 생성되는 분석 대상의 위치나 크기의 영향을 확인할 수 있다. 도 7은 본 발명의 일 실시예에 따른 의료영상 생성장치에서 목적 의료영상을 분석하는 예측모델의 구성을 나타 낸 도면이고, 도 8은 도 7에 나타낸 예측모델에서 목적 의료영상을 분석하는 분석과정을 설명하기 위한 도면이다. 예측모델은 도 7에 나타낸 바와 같이, 복수개의 분류모델(174-1, ..., 174-n)로 구성된다. 예측모델 에 입력된 목적 의료영상이 양성으로 분석되는 경우 도 7에 예시한 바와 같이 분석 대상이 폐곡선으로 표시되고, 음성으로 분석되는 경우 폐곡선이 표시되지 않는다. 각각의 분류모델(174-1, ..., 174-n)은 복수개의 CNN(Convolution Neural Network)을 기반으로 하여 구성된다. CNN은 인간의 시신경 구조를 모방한 컨볼루션(Convolution)을 통해 영상에서 특징(Feature)을 추출하고, 풀링 (Pooling)을 통해 영상의 특징을 유지하면서 차원(Dimension)을 축소한다. 본 발명에서는 마지막 컨볼루션 레이 어 다음에 GAP(Global Average Pooling)를 구성하여 데이터를 색상으로 나타내어 시각화한 히트맵(Heat map)을 구한다. 히트맵은 목적 의료영상에서 병변으로 의심되는 활성화 영역을 나타내며, 복수개의 분류모델(174-1, ..., 174-n)로부터 복수개의 활성화 영역을 나타내는 복수개의 히트맵이 출력된다. 도 8에 나타낸 바와 같이, 각각의 분류모델(174-1, ..., 174-n)로부터 출력되는 복수개의 히트맵을 평균하여 공 통 활성화 영역을 생성한다. 즉, 복수개의 활성화 영역을 추출한 후 이들을 평균하여 공통 활성화 영역을 생성 한다. 그리고 공통 활성화 영역에 이진화를 적용하여 예측 마스크를 추출하고, 예측 마스크의 가장자리에 대응 되는 폐곡선을 목적 의료영상에 드로잉하여 예측결과를 얻게 된다. 예측결과가 양성인 경우 도 8에 예시한 바와 같이 병변이 폐곡선으로 표시되고, 음성인 경우 폐곡선이 표시되지 않는다. 도 9a 내지 도 9c는 본 발명의 일 실시예에 따른 의료영상 생성장치의 디스플레이부에 표시되는 내용을 예시한 도면이다. 도 9a 내지 도 9c에 예시한 바와 같이, 디스플레이부를 통해 원본 의료영상 및 원본 의료영상에 분석 대상 을 생성하기 위해 사용자가 드로잉한 폐곡선으로부터 생성된 입력 마스크가 표시된다. 또한, 도 9a 및 도 9b에 예시한 바와 같이 디스플레이부에는 사용자 명령에 따라 분석 대상을 생성하기 위해 설정된 생성 영역이 표시되며, 설정된 생성 영역 내에서 입력 마스크가 드로잉되고 입력 마스크에 대응되는 병변이 존재하는 목적 영상이 생성된다. 도 9c에서는 생성 영역이 설정되지 않고 입력 마스크가 드로잉된다. 디스플레이부에는 제어부의 제어에 따라 생성되는 목적 의료영상의 생성 현황도 표시된다. 생성 현황 에는 입력 마스크를 얼마나 생성했는지와 생성 영역과 입력 마스크의 중첩도가 수치로 표시된다. 도 9a에는 입 력 마스크의 목표 개수가 8개이고 생성된 입력 마스크 수는 0개이므로 입력 마스크의 생성 진척도는 0%로 표시 된다. 이때, 입력 마스크가 생성되지 않은 상태이므로 생성 영역과 입력 마스크의 중첩도는 0%로 표시된다. 도 9b에는 입력 마스크 목표 개수가 5개이고 생성된 입력 마스크 수는 1개이므로 입력 마스크의 생성 진척도는 20% 으로 표시된다. 이때, 생성 영역과 입력 마스크의 중첩도는 82.3%로 표시된다. 도 9c에는 입력 마스크 목표 개 수가 6개이고 생성된 입력 마스크 수는 1개이므로 입력 마스크의 생성 진척도는 16.6%로 표시된다. 도 9c에서는 생성 영역이 설정되지 않은 상태이므로 생성 영역과 입력 마스크의 중첩도는 0%로 표시된다. 그리고 디스플레이부에는 생성된 목적 의료영상과 목적 의료영상을 분석하는 분석 과정에 따라 생성되는 공통활성화 영역, 공통활성화 영역을 이진화하여 얻을 수 있는 예측 마스크 및 예측 마스크의 가장자리를 드로 잉하여 얻을 수 있는 예측결과가 표시된다. 제어부는 입력 마스크와 예측 마스크를 비교한 결과에 따라 목적 의료영상을 학습 데이터로 추가할지 여부 를 결정한다. 도 9a에 예시한 바와 같이, 입력 마스크가 적용된 목적 의료영상으로부터 분석대상을 양성으로 예 측한 경우, 입력 마스크와 예측 마스크의 중첩도(Intersection of Union)가 설정된 임계값보다 크면 목적 의료 영상을 학습 데이터로 추가하지 않는다. 도 9b에 예시한 바와 같이, 입력 마스크가 적용된 목적 의료영상으로부 터 분석대상을 양성으로 예측한 경우, 입력 마스크와 예측 마스크의 중첩도가 임계값 이하이면 목적 의료영상을 학습 데이터로 추가한다. 도 9c에 예시한 바와 같이, 입력 마스크가 적용된 목적 의료영상으로부터 분석대상을 음성으로 예측한 경우에도 목적 의료영상을 학습 데이터로 추가한다. 이 경우에는 입력 마스크에 의해 분석 대상이 존재하지만 예측모델 이 예측하지 못한 경우이므로 해당 목적 의료영상을 인공지능 학습을 위한 학습 데이터로 추가하게 된다. 그리고 도면으로 예시하지는 않았으나, 분석 대상이 포함되지 않은 목적 의료영상을 양성으로 예측하는 경우에 도 해당 목적 의료영상을 학습 데이터로 추가한다. 도 10은 본 발명의 일 실시예에 따른 의료영상 생성장치의 디스플레이부에 표시되는 목적 의료영상 생성 현황을 예시한 도면이다.도 10에 예시한 생성 현황에는 입력 마스크의 목표 개수가 100개, 현재 입력된 입력 마스크의 개수가 5개, 진척 도는 5%, 생성 영역과 입력 마스크의 중첩도는 73.6%로 표시된다. 제어부는 목적 의료영상 생성 종료조건을 만족할 때까지 원본 의료영상을 생성모델에 입력하여 목적 의료영상을 생성한다. 도 10에 예시한 바와 같이 사용자 명령에 의해 설정된 입력 마스크의 목표 개수인 100개 를 모두 생성하는 경우 종료조건을 만족하게 된다. 여기서, 입력 마스크의 생성 위치를 생성 영역내로 한정할 수 있으며, 입력 마스크의 최소 크기도 설정할 수 있 다. 즉, 최소 크기 이상인 입력 마스크가 생성 영역내에서 100개 생성되는 경우 종료조건을 만족하게 된다. 따 라서, 도 10에 나타낸 바와 같이, 입력 마스크 '4'는 최소 크기 조건을 만족하지 않고, 입력 마스크 '6'은 생성 영역내에서 생성되지 않은 상태이므로 실제로 생성된 입력 마스크의 개수가 7개이지만 위에서 설명한 2개를 제 외한 5개만 카운트된다. 또는, 생성 영역내에서 생성된 입력 마스크와 생성 영역의 중첩도가 설정치이상이 되면 종료조건을 만족하게 된 다. 설정치가 80%인 경우 도 10을 참고하여 설명하면, 생성 영역과 생성된 입력 마스크의 중첩도가 73.6%이므로 종료조건을 만족하지 않은 상태이므로 입력 마스크를 추가로 더 생성한다. 그리고 제어부는 준비된 원본 의료영상을 생성모델에 모두 입력한 경우에도 의료영상 생성을 종료할 수 있다. 도 11은 본 발명의 일 실시예에 따른 의료영상 생성장치의 의료영상 생성방법을 설명하기 위한 흐름도이다. 도 11에 따르면, 제어부가 생성모델 및 예측모델을 로딩한 후(S200), 생성모델을 통해 원 본 의료영상으로부터 목적 의료영상을 생성한다(S210). 단계 S210에 대해서는 도 12를 참고하여 상세하게 후술 하기로 한다. 목적 의료영상이 생성되면, 제어부는 예측모델을 통해 목적 의료영상에 대해 양성/음성 여부를 예측한 후(S230), 예측모델의 분석결과에 따라 목적 의료영상을 학습 데이터로 저장한다(S240). 단 계 S230 및 단계 S240에 대해서는 도 13을 참고하여 상세하게 후술하기로 한다. 그리고 제어부는 목적 의료영상 생성 종료조건이 만족되지 않는 경우(S250-N), 다른 원본 의료영상으로 변 경하여(S260), 단계 S210 내지 S240을 반복한다. 여기서, 목적 의료영상 생성 종료조건을 만족하는 경우는 도 10에서 설명한 바와 같이 목표로 정한 개수의 입력 마스크가 모두 생성되는 경우이거나, 목표로 정한 최소 크기 이상인 입력 마스크가 생성 영역 내에서 목표로 정한 개수만큼 생성되는 경우이거나, 생성 영역내에서 생성되는 입력 마스크와 생성 영역의 중첩도가 설정치를 만족하는 경우이거나, 준비된 원본 의료영상을 상기 생성모델에 모두 입력한 경우이다. 도 12는 도 11의 의료영상 생성방법 중에서 목적 의료영상 생성과정을 설명하기 위한 흐름도이다. 먼저, 제어부는 원본 의료 영상을 생성모델에 입력한다(S211). 입력부를 통해 입력되는 사용자 명령 에 따라 입력 마스크 추가 여부가 결정되며(S212), 입력 마스크를 추가하지 않는 경우(S212-N), 현재의 의료영 상이 목적 의료영상으로 출력된다(S220). 즉, 원본 의료영상 그대로 목적 의료영상으로 출력된다. 입력 마스크를 추가하는 경우(S212-Y), 사용자 명령에 따라 병변의 종류에 따른 입력 마스크 타입이 설정된다 (S213). 그리고 원본 의료영상에 입력 마스크를 적용하여 목적 의료영상을 생성한다(S214). 이때, 도 6에 예시 한 바와 같이 원본 의료영상을 변경하여(S215-Y), 새로운 원본 의료영상에 동일한 입력 마스크를 적용하여 여러 가지 목적 의료영상을 생성할 수 있다. 원본 의료영상을 변경하지 않고(S215-N), 도 4 및 도 5에 예시한 바와 같이 입력 마스크의 크기/위치 및 타입을 변경하여(S216-Y), 목적 의료영상을 생성할 수 있다. 여기서, 입력 마스크의 크기/위치만을 변경하는 경우 (S217-Y), 도 4에 예시한 바와 같이 원본 의료영상에 크기/위치가 변경된 입력 마스크를 적용하여 목적 의료영 상을 생성한다. 만약, 입력 마스크의 타입까지 변경하는 경우(S217-N), 도 5에 예시한 바와 같이 병변의 종류에 따른 입력 마스크 타입을 설정하여(S213), 원본 의료영상에 타입이 변경된 입력 마스크를 적용하여 목적 의료영 상을 생성한다. 입력 마스크를 삭제하는 경우(S218-Y), 삭제된 입력 마스크가 적용된 분석대상 영역을 이전의 의료영상으로 복 원한다(S219). 즉, 도 3에 예시한 바와 같이 2개의 분석대상이 존재하는 목적 의료영상을 1개의 입력 마스크를 삭제하여 생성한 1개의 분석대상이 존재하는 목적 의료영상으로 복원한다. 입력 마스크를 삭제하지 않고(S218- N), 새로운 입력 마스크를 추가하여(S212-Y), 복수개의 입력 마스크를 적용하여 목적 의료영상을 생성할 수도 있다. 즉, 도 3에 예시한 바와 같이 1개의 입력 마스크에 1개의 입력 마스크를 추가하여 2개의 분석대상이 존재하는 목적 의료영상을 생성할 수 있다. 도 13은 도 11의 의료영상 생성방법 중에서 목적 의료영상 분석과정을 설명하기 위한 흐름도이다. 제어부는 생성모델에서 생성된 목적 의료영상을 예측모델에 입력한다(S231). 그리고 예측모델 을 구성하는 복수개의 분류모델(174-1, ..., 174-n)을 통해 복수개의 히트맵을 추출한 후 평균하여 공통 활성화 영역을 생성한다(S233). 즉, 도 7 및 도 8에서 설명한 바와 같이, 각각의 분류모델(174-1, ..., 174- n)로부터 출력되는 복수개의 히트맵을 평균하여 공통 활성화 영역을 생성한다. 그리고 공통 활성화 영역에 이진화를 적용하여 예측 마스크를 추출하여 예측결과를 획득한다(S235). 즉, 도 8에 서 설명한 바와 같이, 공통 활성화 영역에 이진화를 적용하여 예측 마스크를 추출하고, 예측 마스크의 가장자리 에 대응되는 폐곡선을 목적 의료영상에 드로잉하여 예측결과를 획득한다. 예측결과가 양성이고(S242-Y), 입력 마스크와 예측 마스크의 중첩도가 임계값 이하인 경우(S244-Y), 목적 의료 영상을 학습 데이터로 추가한다(S248). 또한, 예측결과가 음성이고(S242-N), 목적 의료영상에 분석대상이 포함 되어 있는 경우(S246-Y)에도 목적 의료영상을 학습 데이터로 추가한다(S248). 만약, 예측결과가 양성이고(S242- Y), 입력 마스크와 예측 마스크의 중첩도가 임계값보다 큰 경우(S244-N), 해당 목적 의료영상을 학습 데이터로 추가하지 않는다. 또한, 예측결과가 음성이고(S242-N), 목적 의료영상에 분석대상이 포함되어 있지 않은 경우 (S246-N)에도 해당 목적 의료영상을 학습 데이터로 추가하지 않는다. 이상과 같은 과정에 의해 원본 의료영상으로부터 다양한 병변이 존재하는 목적 의료영상을 생성하여 학습 데이 터로 활용할 수 있게 된다."}
{"patent_id": "10-2023-0169386", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "전술한 본 발명의 설명은 예시를 위한 것이며, 본 발명이 속하는 기술분야의 통상의 지식을 가진 자는 본 발명 의 기술적 사상이나 필수적인 특징을 변경하지 않고서 다른 구체적인 형태로 쉽게 변형이 가능하다는 것을 이해 할 수 있을 것이다. 그러므로 이상에서 기술한 실시예들은 모든 면에서 예시적인 것이며 한정적이 아닌 것으로 이해해야만 한다. 예를 들어, 단일형으로 설명되어 있는 각 구성 요소는 분산되어 실시될 수도 있으며, 마찬가 지로 분산된 것으로 설명되어 있는 구성 요소들도 결합된 형태로 실시될 수 있다. 본 발명의 범위는 상기 상세한 설명보다는 후술하는 특허청구범위에 의하여 나타내어지며, 특허청구범위의 의미 및 범위 그리고 그 균등 개념으로부터 도출되는 모든 변경 또는 변형된 형태가 본 발명의 범위에 포함되는 것으 로 해석되어야 한다."}
{"patent_id": "10-2023-0169386", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 의료영상 생성장치의 개략적인 구성을 나타낸 블록도, 도 2는 본 발명의 일 실시예에 따른 의료영상 생성장치에서 목적 의료영상을 생성하는 생성모델의 구성을 나타 낸 도면, 도 3 내지 도 6은 도 2에 나타낸 생성모델을 통해 목적 의료영상이 생성되는 과정을 예시한 도면, 도 7은 본 발명의 일 실시예에 따른 의료영상 생성장치에서 목적 의료영상을 분석하는 예측모델의 구성을 나타 낸 도면, 도 8은 도 7에 나타낸 예측모델에서 목적 의료영상을 분석하는 분석과정을 설명하기 위한 도면,도 9a 내지 도 9c는 본 발명의 일 실시예에 따른 의료영상 생성장치의 디스플레이부에 표시되는 내용을 예시한 도면, 도 10은 본 발명의 일 실시예에 따른 의료영상 생성장치의 디스플레이부에 표시되는 목적 의료영상 생성 현황을 예시한 도면, 도 11은 본 발명의 일 실시예에 따른 의료영상 생성장치의 의료영상 생성방법을 설명하기 위한 흐름도, 도 12는 도 11의 의료영상 생성방법 중에서 목적 의료영상 생성과정을 설명하기 위한 흐름도, 그리고 도 13은 도 11의 의료영상 생성방법 중에서 목적 의료영상 분석과정을 설명하기 위한 흐름도이다."}
