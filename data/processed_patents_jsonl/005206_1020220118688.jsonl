{"patent_id": "10-2022-0118688", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0040179", "출원번호": "10-2022-0118688", "발명의 명칭": "cctv 기반의 인공지능을 적용한 수위계측 장치", "출원인": "주식회사 트윈리스랩", "발명자": "엄지해"}}
{"patent_id": "10-2022-0118688", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "저수지 제원정보; 저수지계측 데이터; 기상관측 데이터; 홍수관측 데이터; 지진정보 데이터; 중 하나 이상의 데이터를 이용하여 저수지를 3D 모델링 하기 위해 제원정보을 포함하는 저수지 외관 정보; 수로부 및 여수로 제원정보을 포함하는 수로부 및 여수로 외관 정보; 저수지 수중 지형구조, 저수지 주변환경, 저수지에 설치된 구조물 및 관측 장비에서 측정되는 데이터;에 대한 정보을 3차원 그래픽으로 표현하기 위해 수집후 3D로 모델링하는3D 모델링 데이터 수집 모듈; 및상기 3D 모델링 데이터 수집 모듈로부터 받은 3D 모델을 가지고 리얼타임 3D 제작 플랫폼으로 쌍둥이 가상 저수지를 제작하는 디지털 트윈 모듈; 및상기 디지털 트윈 모듈로부터 쌍둥이 가상 저수지를 가지고, 복수개의 기상정보 또는 주변 환경을 고려하여 빅데이터 수집을 위한 디지털 트윈 기반 시뮬레이션을 진행하여, 기상정보 데이터, 환경정보 데이터, 수위데이터, 가상 저수지 이미지을 포함하는 빅데이터 시뮬레이션 결과물 레코드를 저장하는 빅데이터 수집을 위한시뮬레이션 모듈; 및상기 빅데이터 수집을 위한 시뮬레이션 모듈로부터 받은 빅데이터 레코드를 활용하여 CNN 기반 알고리즘으로빅데이터 딥러닝 학습하는 빅데이터 딥러닝 학습 모듈;을 포함하는 것을 특징으로 하는 CCTV 기반의 인공지능을적용한 수위계측 장치."}
{"patent_id": "10-2022-0118688", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 디지털 트윈 모듈로부터 받은 쌍둥이 가상 저수지에 구조물이나 관측 장비로부터 실시간으로 수집된 데이터, 실시간 기상정보 데이터을 디지털 트윈 기반의 3D로 표현하고,상기 디지털 트윈 모듈로부터 저수지 상태를 모니터링하고, 장비 상태을 모니터링하고, 장비에 정보을설정하고, 네트웍크를 설정하고, SMS 발송할 관리자정보을 설정하고, 이벤트 이력을 조회하고, CCTV을 실시간으로 모니터링을 표현하며,상기 디지털 트윈 모듈로부터 스마트폰 또는 노트북으로 장비에 있는 라우터 모듈을 통해서 웹브라우저로 접속할 수 있거나, 사무실 같은 원거리에서는 관리서버을 통해서 장비로 접속 할 수 있는 Web Agent 모듈;을 포함하는 것을 특징으로 하는 CCTV 기반의 인공지능을 적용한 수위계측 장치."}
{"patent_id": "10-2022-0118688", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서, 상기 Web Agent 모듈은,실시간으로 저수지의 다양한 저수지 주변을 촬영하되, CCTV에 사용되는 카메라는 PTZ 카메라로써, 회전(PAN),기울기(Tilt), 줌(Zoom) 조정이 가능하도록 일체화 카메라이며, PTZ 카메라는 쵤영대상의 움직임에 따라 수시로조정이 가능한 CCTV 모듈;을 포함하고,상기 CCTV 모듈은 저수지 수위, 수로부 수위, 물넘이 수위를 실시간으로 촬영한 이미지를 전송받아 수위를 계측하는 수위 계측 모듈;과 연결되는 것을 특징으로 하는 CCTV 기반의 인공지능을 적용한 수위계측 장치."}
{"patent_id": "10-2022-0118688", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서, 상기 수위 계측 모듈은,공개특허 10-2024-0040179-3-실시간으로 촬영한 이미지를 관리서버로 전송하기 위하여 이전에 촬영환 이미지을 빨강색(r1), 초록색(g1), 파란색(b1) 채널로 구분하여, 밝기 성분을 표현하는 Y(y1)와 색차 성분으로 색상을 표현하는 Cb(cb1)와 Cr(cr1)으로 변환하고, 현재 촬영한 이미지을 빨강색(r2), 초록색(g2), 파란색(b2) 채널로 구분하여, 밝기 성분을 표현하는 Y(y2)와 색차 성분으로 색상을 표현하는 Cb(cb2)와 Cr(cr2)으로 변환하고, 현재 촬영한 이미지의 화질을 75%이상 축소한 빨강색(r3), 초록색(g3), 파란색(b3), Y(y3), Cb(cb3), Cr(cr3)으로 구분하되, r1, g1, b1, y1,cb1, cr1, r2, g2, b2, y2, cb3, cr3을 입력으로하고 y2, cb2, cr2을 출력으로 하는 인공지능의 예측모델로 가중치을 구하고, 관리서버로는 1차 압축 효과가 갖는 가중치 데이터와, y2와 75%이상 축소한 cb3, cr3을 JPGE 압축방식으로 2차 압축하여 관리서버로 전송하는 파일 전송 모듈; 을 포함하고,관리서버에서는 JPEG 압축방식으로 전송받은 데이터을 JPEG 압축방식으로 역으로 풀어서 이전 이미지 r1, g1,b1, y1, cb1, cr1와 전송받은 데이터 y2, cb3, cr3에 가중치을 적용하여 현재의 이미지를 만들어내는 것을 특징으로 하는 CCTV 기반의 인공지능을 적용한 수위계측 장치."}
{"patent_id": "10-2022-0118688", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서, 기상 이변으로 가뭄, 홍수 재해대비를 위한 사전방류 및 용수확보, 용수공급 관리를 위한 과학적인 물 관리가시행될 수 있도록 시기별 가상 예측 시뮬레이션을 하되, 미래의 예측 가능한 현재 수위, 유입량, 방류량, 면적우량, 저수지 면적을 포함하는 기상정보 데이터, 환경정보 데이터를 입력하여 [수학식 5]의 저수지 예측저수량, 저수율, 저수위을 시뮬레이션하여 예측하는 예측 시뮬레이션 모듈;을 포함하는 것을 특징으로 하는CCTV 기반의 인공지능을 적용한 수위계측 장치.공개특허 10-2024-0040179-4-[수학식 5]"}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 농업용 저수지의 현장에서 실제 수위을 CCTV로 촬영하여 인공지능으로 수위를 계측하고 시설물의 안전 사고을 예방하는 시스템에 관한 것으로, 보다 상세하게는 드론으로 저수지를 촬영하여 3D 실사화로 모델링 작업 을 진행하고 리얼타임 3D 제작 프로그램으로 시뮬레이션을 진행하여 시뮬레이션 과정을 레코드형태로 저장하여 (뒷면에 계속)"}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 농업용 저수지의 현장에서 실제 수위을 CCTV로 촬영하여 인공지능으로 저수지 수위, 수로부 수위, 물 넘이 수위를 계측하는 시스템에 관한 것으로, 보다 상세하게는 드론으로 저수지를 촬영하여 3D 실사화로 모델링 작업을 진행하고 리얼타임 3D 제작 프로그램으로 빅데이터 수집을 위한 시뮬레이션을 진행하여 시뮬레이션 과정 을 레코드형태로 저장하여 저장된 레코드들을 CNN 기반 알고리즘으로 빅데이터 딥러닝 학습한다. 학습이 완료되 면 현장에 본 발명 제품을 설치하고 본 발명 제품에서 CCTV로 저수지 실제 수위를 촬영하여 생성된 이미지를 CNN 기반 알고리즘으로 수위를 계측하고 결과를 지정된 서버로 전송하는 시스템에 관한 것이다. 이러한 농업용 저수지는 마을에서 멀리 떨어진 외곽이나 험지 또는 오지에 위치하고, 숫자가 많고 지리적 면적 도 넓다. 따라서, 유지관리를 위한 저수지 현장 방문이 어렵고, 시설물 주변 환경도 감시가 취약하여 유지관리 가 어렵다. 이와 같이 감시가 취약한 시설물에 주변 감시 및 이벤트 기능이 구비된 CCTV 기반의 인공지능을 적 용한 시설물 감시 장치가 포함된 시스템에 관한 것으로, 보다 상세하게는 시설물에 본 발명이 설치되어 상, 하, 좌, 우, 360도 주변 상황을 촬영하고 실시간으로 촬영된 영상에서 미리 정의된 사람, 동물, 구조물, 물에 빠진 사람, 산불, 제방붕괴, 여수로 붕괴 등과 같이 대상물을 특정하고, 대상물에 따라 이벤트를 달리하여 대응 조치 를 차별화 할 수 있으며, 다른 관리주체에게 이벤트 정보를 전달하기 위해 Trap을 전송할수 있으며, 대상물이탐지되는 동안 대상물을 따라다니면서 녹화하고 녹화영상을 서버로 전송하는 시스템에 관한 것이다. 또한 본 발명이 설치되는 장소는 인터넷망이 설치되지 않는 지역으로써 Lora, Cat.M1, LTE와 같은 모뎀이 사용 되는데 서버로 전송되는 데이터 패킷을 최소화하기 위해서 본 발명의 압축기법을 활용하여 서버로 데이터 패킷 을 전송하는 시스템이다."}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "본 발명 이전에는 다음과 같은 선행기술이 있다. 농업용 저수지에는 초음파식, 압력식, 레이져식 수위계측기가 설치되어 있다. 양방향 원격제어 가능한 초음파식 수위계측 장치 및 그 방법 (특허등록: 10-2003-0069416)은 설치비용이 비싸고, 수위계측기의 설정값에 대한 이해도가 없으면 유지관리도 어럽다. 압력식 수위계나 초음파식 수위계는 설정값이 잘못되어 있으면 수위 결과물이 정확성 여부를 검증할 수가 없으 며, 실제 현장에서는 수위계측기를 제조 및 판매한 회사가 유일하게 유지관리가 가능하여 타업체는 유지관리를 하기 어렵다. 그래서 한국농어촌공사 관할 저수지에 수위계측기는 95%가 한 업체가 공급하고 있는 상황이며, 효율적으로 유지 관리되지 못하는 상황이다. 또한 농업용 저수지와 같은 시설물 주변에는 관리자가 자주 방문하기 어렵다. 이러한 장소는 안전사고 예방하여 대형 재해를 예방하고, 만약 사고가 발생했을 시 원인분석, 대응체계를 세우는데 있어서 취약하다. 하지만 본 발명을 진행한다면, 카메라 등의 촬영수단으로 현장 저수지 이미지만 서버로 전송하면 되므로, 현장 상황을 파악하기가 매우 간단하고, 현장 이미지가 수위계측기 보다 많은 정보를 제공할 것이다. 또한 시설물이나 식수 공급으로 사용되는 소규모 마을상수도의 물탱크와 같이 관리자가 자주 방문하지 못하여 시설물에 대한 모니터링이 필요한 곳에 설치하여 특정된 대상물의 종류에 따라서 심각도를 정상(Normal), 주의 (Info), 경고(Warning), 심각(Critical), 치명적(Fatal)와 같이 분류하여 관리자가 이벤트를 빠르게 판단하여 이벤트에 대한 적절한 조치를 할 수 있도록 제공하면 안전사고을 예방하는데 효과적인다."}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 목적은, 상술한 문제점을 해결할 수 있는 cctv 기반의 인공지능을 적용한 수위계측 장치을 제공하는 데 있어서 검증이 가능한 저수지, 수로, 물넘이 수위 계측, 예측 시뮬레이션으로 예측 가능한 물관리, 관리자가 자주 방문하지 못하는 시설물에 안전사고 예방하여 적절한 조치를 할 수 있도록 제공하는데 목적이 있다."}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 목적을 달성하기 위한 본 발명은 기상정보 데이터; 저수지정보 데이터; 홍수정보 데이터; 지진정보 데이터; 중 하나 이상의 데이터를 이용하여 저수지를 3D 모델링 하기 위해 저수지 정보를 수집하고, 수로부 높 이 및 수로부 너비 정보 및 여수로 높이 및 여수로 너비정보를 포함하는 저수지 외관 정보; 누수, 댐마루, 상류 사면, 및 하류사면 정보를 포함하는 저수지 수중 지형구조, 저수지 주변환경, 저수지 주변 구조물이나 관측 장 비 정보;에 대한 2D 이미지를 3D 이미지로 모델링하기 위한 3D 모델링 데이터 수집 모듈; 상기 3D 모델링 데이터 수집 모듈로부터 수집된 데이터로 3D 그래픽으로 실사화된 저수지 3D 모델을 만들고, 상기 3D 모델 을 유니티 또는 언리얼엔진을 포함하는 리얼타임 3D 제작 플랫폼으로 쌍둥이 가상 저수지을 제작하여 시뮬레이 션이 가능한 디지털 트윈 모듈; 상기 디지털 트윈 모듈로부터 받은 쌍둥이 가상 저수지를 활용하여, 낮, 밤, 비가 올 경우, 눈이 올 경우, 안개가 낄 때를 포함하는 복수개의 기상정보 또는 주변 환경을 고려하여 빅데이터를 수집하기 위한 디지털 트윈 기반 시뮬레이션을 진행하여, 시간, 낮, 밤, 강수량, 강설량을 포함하는 기상정보 데이터, 환경정보 데이터, 수 위 데이터, 저수지 이미지를 포함하고 일정 간격으로 빅데이터 수집을 위한 시뮬레이션 결과물 레코드를 저장하 는 빅데이터 수집을 위한 시뮬레이션 모듈;을 진행하여, 상기 빅데이터 수집을 위한 시뮬레이션 모듈로부터 생성된 시뮬레이션 결과물 레코드를 활용하여 CNN 기반 알고리즘으로 데이터 학습하는 빅데이터 딥러닝 학습 모듈; 을 더 포함하는 상기 빅데이터 딥러닝 학습 모듈로, 실제 저수지에서 촬영한 이미지, 딥러닝 학습으로 얻은 데이터, 알아낸 실제 저수지의 현재 수위 데이터를 다시 보내 반복적으로 학습시키는 수위 계측 모듈;을 더 포함하는 CCTV 모듈에서 실시간으로 촬영한 영상을 미리 정의된 대상을 탐지하여 이벤트를 발생시키고 관리자에게 문 자 또는 알림톡을 발송하고 이벤트 이력을 기록하고 다른 관리주체에게 이벤트 정보을 전달하기 위해 Trap을 전 송하는 객체 탐지 모듈;을 더 포함하는 본 발명이 설치되는 장소는 인터넷망이 설치되지 않는 지역으로써 Lora, Cat.M1, LTE와 같은 모뎀이 사용되는데 서버로 전송되는 데이터 패킷을 최소화하기 위해서 본 발명의 압축기법을 활용하여 서버로 데이터 패킷을 전송 하는 파일 전송 전송 모듈;을 더 포함하는 기상 이변으로 인한 가뭄, 홍수 발생 대비를 위한 가상 시뮬레이션을 하되, 미래의 예측 가능한 현재 수위, 유 입량, 방류량, 면적우량, 저수지 면적을 포함하는 기상정보 데이터 환경정보 데이터를 입력하여 아래 [수학식 5]의 저수지 예측 저수량, 저수율, 저수위의 값을 시뮬레이션으로 예측한다. [수학식 5]"}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 2, "content": "상기 예측 시뮬레이션 모듈은, 저수지 공간별 재난 진단 점수를 산출 종합진단 평가지수 및 등급을 쇠퇴지 역의 공간지리 내에 격자 단위로 산정하여 제공 예측자료를 바탕으로 저수지의 상황을 진단한 후 저수지의 점검 계획과 보수 계획에 반영함으로써 재난의 예방과 시설물 관리의 업무 효율성을 향상시키는 실제 재난 진단부;를 더 포함한다.상기 예측 시뮬레이션 모듈은, 기상정보 및 토양수분량을 이용하여 단위 지역에 대한 돌발홍수지수를 실시 간으로 산출하고 가중치 최적화 알고리즘을 통해 돌발홍수 주의 및 경보하는 돌발홍수 대비 방류량 조정부;를 더 포함하고, 강우의 공간규모를 고려하여 이미지 필터링을 통해 대류성 강우와 층상형 강우로 분할하고, 분할 된 각각의 강우들의 이동특성을 반영하여 대류성 강우 예측장과 층상형 강우 예측장을 각각 생성한 후 생성된 대류성 강우 예측장과 층상형 강우 예측장을 병합하여 강우 예측장으로 생성함에 따라 도시지역의 국지성 호우 에 대한 초단시간 예측 강우의 정확도를 향상시킨다."}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명은 CCTV로 촬영한 저수지 이미지 정보로 수위를 측정하고 시각화하므로, 기존의 수위계측기 보다 많은 시각 정보를 가지고 저수지에 직접 방문하지도 않아도 현장 상황을 파악할 수 있다. 본 발명은 제조업체가 제한적인 수위계측기을 사용하지 않고 제조 업체가 많이 존재하는 CCTV을 사용해서, 저수 지를 모니터링하므로, 저수지 모니터링 시스템을 쉽게 구축할 수 있다. 또한 관리자가 복잡한 수위계측기의 설 정값을 이해할 필요가 없다. 또한, 수위계측기/유량측정기 등 기존 장비가 필요 없으므로, 저비용으로 농업용 저수지 유지관리 고도화을 통해 시의성, 정확성, 고효율을 꾀할 수 있다. 본 발명은 저수지 수위만 촬영하는게 목적이 아니라 저수지 주변 환경까지 촬영하는데 목적이 있다. 예를 들어 제방에 상태는 어떠한지, 수로에는 풀이 많이 자랐는지, 여수로는 붕괴된 곳은 없는지 등의 감지 역할도 진행하 여 관리자에게는 효율적이다. 본 발명은 시설물에 대상물인 사람, 동물 등에게 사고를 미연에 방지할 수 있는 효과가 있다. 본 발명은 시설물을 CCTV로 실시간으로 모니터링 할 수 있으므로 기존의 물관리 자동화시스템(TM/TC) 같은 고가 의 장비가 필요 없다. 본 발명은 고가의 물관리 자동화시스템(TM/TC) 보다는 저비용, 고효율의 기능을 제공함으로써 유지관리를 효율 적으로 관리할 수 있고 비용이 저렴하다. 본 발명은 대상물에 따라서 이벤트를 다르게 할 수 있어서 중요도에 따라 관리자가 대응할 수 있다. 본 발명은 원격으로 접속이 가능하여 시설물 중 원하는 장소로 카메라을 회전하고 대상물이 작을 때는 확대하여 CCTV을 모니터링할 수 있다. 본 발명은 같은 장소에 거리를 두고 여러 대의 본 발명을 설치시는 서로 문제있는 부분을 보완하는 역할을 한다. 예를 들어 3개가 설치되어 있을 경우 2대의 모뎀이 고장으로 외부와 통신오류가 발생시 나머지 1대로 3대 모두 통신이 가능하도록 한다. 본 발명은 기존의 촬영된 이미지을 전송하기 위해서 서버로 보내는 데이터 패킷보다 상대적으로 적은 압축기법 을 활용하여 더 빠르고 더 많은 데이터를 전송하는 효과가 있다. 본 발명은 저수량, 기상정보, 주변환경정보 등으로, 홍수나 가뭄에 대한 시뮬레이션, 수해지역 피해 시뮬레이션, 농가 물 공급 시뮬레이션도 수행할 수 있어, 홍수나 가뭄으로 인한 피해를 예측하고 대비할 수 있 다. 본 발명은 기상 이변으로 인한 가뭄, 홍수 발생 대비를 위한 가상 시뮬레이션 하되, 미래의 예측 가능한 기상정 보 데이터 환경정보 데이터 등을 입력하여 저수지 수위를 시뮬레이션을 진행함으로써 사용자는 문제가 발생하는 것을 미리 예방할 수 있다."}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "cctv 기반의 인공지능을 적용한 수위계측 장치는 선행 딥러닝 학습부, 현장 감시 제어부, 관리서버부 세가지로 구분되어 진다. 그리고 선행 딥러닝 학습부는 시설물 감시 장치가 현장에 설치되기 전에 준비하는 단계로써, 3D 모델링 데 이터 수집 모듈, 디지털 트윈 모듈, 빅데이터 수집을 위한 시뮬레이션 모듈, 빅데이터 딥러닝 학습 모듈 등으로 구성되고, 현장 감시 제어부는 시설물 감시 장치을 현장에 설치하고 운영되는 인공지능 모 듈, CCTV 모듈, 라우터 모듈, 모뎀 모듈 등으로 구성되고, 외부로 배터리 모듈, 태양전지 모듈과 연결되며, 관리서버부는 시설물 감시 장치를 설치 후 유지관리를 위한 프로그램으로 데이터 서 버와 관리서버로 구성된다. 관리서버부은 자체 운영 프로그램일 수도 있고 타 업체의 운영 프로그램일 수도 있다. 상기 인공지능 모듈은, 수위 계측 모듈, 객체 탐지 모듈, 파일 업로드 모듈, 예측 시뮬레이 션 모듈, 제어 모듈, 모니터링 모듈, Web Agent 모듈, 무선 Wifi 모듈 등으로 구성 된다. [3D 모델링 데이터 수집 모듈] 3D 모델링 데이터 수집 모듈은, 저수지를 3D 모델링 하기 위해 저수지 정보를 수집한다. 즉, 저수지 제원정보; 저수지계측 데이터; 기상관측 데이터; 홍수관측 데이터; 지진관측 데이터; 중 하나 이상 의 데이터를 이용하여 저수지를 3D 모델링 하기 위해 저수지 제원정보을 포함하는 저수지 외관 정보; 누수, 댐 마루, 상류사면, 및 하류사면 정보를 포함하는 저수지 수중 지형구조, 저수지 주변환경, 저수지에 설치된 구조 물 및 관측 장비에서 측정되는 데이터; 에 대한 정보을 3차원 그래픽으로 표현하기 위해서 3D 모델링 데이터 수 집한다. 여기에서 저수지 제원정보는 총저수량, 유효저수량, 사수위, 만수위, 홍수위, 소재지, 수원, 수혜구역, 면적, 제당형식, 취수형식, 조견표, 다항식 등의 저수지 데이터; 수로부 높이 및 너비, 순시유량, 수위-유량관계식 등 의 수로부 데이터; 물넘이 높이 및 너비, 순시유량, 수위-유량관계식 등의 물넘이 데이터; 접근수로, 조절부, 급경사수로, 감세공, 방수로, 수문, 공기혼입장치 등의 여수로 데이터; 등의 정보를 포함하며, 기상관측 데이터 는 기온, 강수, 바람, 기압, 습도, 일사, 일조, 눈, 구름, 시정, 지면상태, 지면 ·초상온도, 일기현상, 증발량, 현상번호 등을 관측하는 종관기상관측 데이터; 기온, 강수, 바람, 습도, 기압 등을 관측하는 방재기상 관측 데이터; 기온, 풍속, 습도, 증발량, 지면·초상·지중온도, 토양수분, 복사, 조도, 일사, 일조, 지하수위 등을 관측하는 농업기상관측 데이터; 기온, 강수량, 풍향, 풍속, 습도, 기압, 일사, 일조 등을 관측하는 공공기 관 기상관측 데이터; 등의 정보를 포함하며, 지진관측 데이터는 지점코드, 통보종류, 발표시각, 발표 일련번호, 진앙시, 위도, 경도, 진앙위치, 규모, 진도 등의 정보를 포함하며, 누수에는 누수허용범위 초과 여부, 누수량 변화, 탁류 및 온도변화 등의 정보, 댐마루 정보에는 식생, 침하, 균열, 침하, 붕괴, 세굴(패임), 유실 등의 정 보, 상류사면 및 하류사면 정보에는 사석 및 석축의 침하, 유실, 이완, 이탈, 사면의 식생, 침하, 균열, 누수,세굴, 붕괴, 활동(슬라이딩), 침식, 유실 등의 정보가 포함된다. 3D 모델링 데이터 수집 모듈은 저수지 제원정보; 저수지계측 데이터; 기상관측 데이터; 홍수관측 데이터; 지진관측 데이터;를 수집하기 위한 촬영수단, 드론으로 구성된다. 촬영수단은, 카메라, 수중음파탐지기로 구성 된다. 카메라는 저수지의 외관을 촬영한다. 수중음파탐지기는 저수지 물속을 3D 측량하여 영상화한다. 드론은 카메라를 달고 저수지 상층을 날면서, 카메라가 저수지 전체, 저수지 주변 환경, 저수지 주변 구조물을 촬영하 게 해준다. 이러한 방식으로 저수지 정보가 수집된다. 물론, 저수지 정보 수집방식은 더 다양할 수 있다. 예를 들어 수로부 높이 및 수로부 너비 정보를 포함하는 저수지 외관 정보; 누수, 댐마루, 상류사면, 및 하류사 면 정보를 포함하는 저수지 수중 지형구조, 저수지 주변환경, 저수지 주변 구조물 정보;를 수집하는 센서를 적 절한 위치에 설치하여 저수지 정보를 통합하여 수집할 수 있다. 3D 모델링 데이터 수집 모듈에서 저수지 정보를 PC로 다운로드 받아 3D 모델링으로 보낸다. 3D 모델링은 저수지 정보를 가지고, 저수지 외관, 저수지 수중 지형구조, 저수지 주변환경, 저수지에 설치된 구 조물 및 관측 장비에 대한 2D 이미지를 3D 이미지로 모델링한다. 이를 위해, Metashape, 3Df Zephyr, Pix4D 등 의 3D 매핑프로그램을 사용하여 3D 디지털 공간으로 모델링 작업한다. 3D 모델링 작업시, 촬영된 저수지의 물은 제거하는데, 제거하는 이유는 빅데이터 수집을 위한 시뮬레이션 모듈과 저수지 실시간 모니터링 모듈에 서 시각화된 가상 수위를 표현하기 위해서다. 3D 모델링은 저수지 3D 모델을 디지털 트윈 모듈로 전송한다. [디지털 트윈 모듈] 디지털 트윈 모듈은 저수지 3D 모델을 가지고, 유니티, 언리얼엔진 같은 리얼타임 3D 제작 플랫폼으로 쌍둥 이 가상 저수지를 제작한다. 이때, 쌍둥이 가상 저수지는 촬영 당시 도 실제 저수지가 처한 환경 조건뿐만 아니라, 빅데이터 수집을 위해 가 상으로 기상환경을 만들어서 시뮬레이션을 진행한다. 여기서 빅데이터 수집을 위해 가상으로 생성되는 기상환경 은 계절과 시간에 따른 태양의 움직임 일수도 있고, 태양의 움직임에 따른 낮, 밤일 수도 있고, 시간에 따른 구 름의 상태일수도 있고, 시간에 따른 비가 내릴 경우 일 수도 있고, 시간에 따른 눈이 내릴 경우 일 수도 있고, 시간에 따른 안개가 낄 경우 일 수도 있고, 그 외 다양한 기상환경을 가상으로 생성할 수 있다. 여기서 계절과 시간에 따른 태양의 움직임 일경우는 태양은 계절에 따라서 일출, 일몰 위치가 다르고, 0시부터 24시까지 기준 으로 보았을 때 태양의 위치가 다를경우을 의미한다, 태양의 움직임에 따른 낮, 밤일 경우는 낮에는 CCTV로 촬 영했을 때 저수지 수위가 잘 보이지만 밤에는 CCTV로 저수지 수위을 촬영해도 잘 보이지 않기 때문에 CCTV에서 적외적 카메라로 촬영한 저수지 수위 이미지일 경우을 의미한다, 시간에 따른 구름의 상태 일 경우는 구름이 없 고, 조금 있고, 많이 있고의 상태을 의미한다, 시간에 따른 비가 내릴경우는 시간당 강수량이 10mm, 20mm, ... 300mm 등 각각의 경우을 의미한다, 시간에 따른 눈이 내릴 경우는 시간당 강설량이 10mm, 20mm, ..., 300mm 등 각각의 경우을 의미한다, 시간에 따른 안개가 낄 경우는 안개가 없고, 조금 있고, 많이 있고의 상태을 의미한다. 디지털 트윈 모듈은 쌍둥이 가상 저수지를 빅데이터 수집을 위한 시뮬레이션 모듈로 전송한다. [빅데이터 수집을 위한 시뮬레이션 모듈] 빅데이터 수집을 위한 시뮬레이션 모듈은 가상 저수지에서 빅데이터 수집을 위해 가상으로 생성되는 기상환 경은 계절과 시간에 따른 태양의 움직임 일수도 있고, 태양의 움직임에 따른 낮, 밤일 수도 있고, 시간에 따른 구름의 상태일수도 있고, 시간에 따른 비가 내릴 경우 일 수도 있고, 시간에 따른 눈이 내릴 경우 일 수도 있고, 시간에 따른 안개가 낄 경우 일 수도 있고, 그 외 다양한 기상환경을 가상으로 생성할 수 있다. 위와 같이 기상환경은 다양한 경우가 발생할 수 있으며, 각 경우수을 조합하여 시뮬레이션을 진행한다. 각 경우 수는 저수지 수위, 태양의 위치, 낮 또는 밤, 구름의 상태, 시간당 강수량, 시간당 강설량, 안개의 상태 등 각 경우수가 조합하여 시뮬레이션을 진행하여 기상정보 데이터, 환경정보 데이터, 수위 데이터, 저수지 이미지 등 과 같은 빅데이터을 수집한다. 여기서 기상정보 데이터는 온도, 습도, 강수량, 강설량, 풍향, 풍속 일 수 있고, 환경정보 데이터는 시뮬레이션 진행시간, 태양의 위치, 낮 또는 밤, 구름의 상태, 안개의 상태 일수도 있고, 수 위 데이터는 저수위, 저수율, 저수량 등일수도 있고, 저수지 이미지는 CCTV로 촬영한 저수지 수위 이미지 또는 적외선으로 촬영한 저수지 수위 이미지 일수도 있다. 이렇게 수집된 빅데이터을 레코드라고 하며, 레코드는 시 뮬레이션 진행시간동안 1초 이상 일정 간격으로 시뮬레이션 결과물 레코드를 저장한다. 시뮬레이션 결과물 레코드는 데이터베이스에서 하나의 단위로 취급되는 자료의 집합이다. 딥러닝으로 수위 상태를 판단하려면 축적된 학습데이터가 필요한데, 빅데이터 수집을 위한 시뮬레이션 모듈을 진행하여 학습데이터를 축척하고 이를 딥 러닝 학습에 활용하는 것이 본 발명의 핵심 중 하나다. 빅데이터 수집을 위한 시뮬레이션 모듈은 시뮬레이션으로 얻은 시뮬레이션 결과물 레코드를 빅데이터 딥러 닝 학습 모듈로 전송한다. [빅데이터 딥러닝 학습 모듈] 도 5를 참조하면, 빅데이터 딥러닝 학습 모듈은, CNN(Convolutional Neural Network) 알고리즘 기반으로 하는 딥러닝 학습 프로그램을 가지고, 수집된 빅데이터 시뮬레이션 결과물 레코드를 딥러닝 학습한다. 딥러닝 학습 프로그램으로서 뉴럴 네트워크는 심층 뉴럴 네트워크 (Deep Neural Network)를 포함할 수 있다. 뉴럴 네트워크는 CNN(Convolutional Neural Network), RNN(Recurrent Neural Network), 퍼셉트론(perceptron), 다층 퍼셉트론(multilayer perceptron), FF(Feed Forward), RBF(Radial Basis Network), DFF(Deep Feed Forward), LSTM(Long Short Term Memory), GRU(Gated Recurrent Unit), AE(Auto Encoder), VAE(Variational Auto Encoder), DAE(Denoising Auto Encoder), SAE(Sparse Auto Encoder), MC(Markov Chain), HN(Hopfield Network), BM(Boltzmann Machine), RBM(Restricted Boltzmann Machine), DBN(Depp Belief Network), DCN(Deep Convolutional Network), DN(Deconvolutional Network), DCIGN(Deep Convolutional Inverse GraphicsNetwork), GAN(Generative Adversarial Network), LSM(Liquid State Machine), ELM(Extreme Learning Machine), ESN(Echo State Network), DRN(Deep Residual Network), DNC(Differentiable Neural Computer), NTM(Neural Turning Machine), CN(Capsule Network), KN(Kohonen Network) 및 AN(Attention Network)를 포함 할 수 있다. 도 6a은 시뮬레이션으로 생성된 저수지 이미지로, 도 5의 입력(Input)에 해당된다. 저수지 이미지는 RGB 형태로 구분되기 때문에, 저수지 이미지를 빨강(Red), 초록(Green), 파랑(Blue) 3개의 채널로 분류한다. CNN 알고리즘은 합성곱층(Convolution Layer) 계산과 폴링층(Pooling Layer) 계산으로 구성된다. 합성곱층 계 산과 폴링층 계산은 1회 이상 반복되어 학습된다. 합성곱층 계산 도 6b의 (b)은 CNN 알고리즘의 합성곱층 계산 방식을 설명하기 위한 도면으로, 반복적으로 합성곱층 계산이 지 나면 이미지가 계속 줄어드는데 이를 방지하기 위해서 입력층(Input Layer) 테두리 주변에 패딩(Padding)값으로 0을 채워서 이미지가 줄어들지 않도록 한다. 아래 [수학식 1]은 합성곱층 계산이 끝나면 조정되는 이미지 사이 즈다. 수학식 1 폴링층 계산 합성곱층 계산이 종료되면, 도 6c에 도시된 바와 같은 방식으로 폴링층을 계산한다. 폴링층 계산 방식으로 최대 폴링(Max pooling)계산방식, 최소폴링(Min pooling)계산방식, 평균폴링(Average pooling)계산방식 등이 있는데, 본 실시예는 최대폴링 계산방식을 사용한다. 최대폴링 계산방식은 범위 내에서 최대값을 구하는 계산 방식이다. 폴링층 계산이 완료되면 이미지가 1/2로 줄어든다. 아래 [수학식 2]는 폴링층 계산이 지나면 조정되 는 이미지 사이즈다. 수학식 2"}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "빅데이터 딥러닝 학습 모듈은, 반복 학습이 완료되면 이미지 분류(Classification) 단계에서 모든 데이터들 을 FC(Fully connected layer) 형태로 변형하여 출력(Output)된다. 이후, 소프트맥스 활성화 함수(Softmax activation function)로 이미지 분류하여 해당 되는 이미지의 수위값이 나오도록 학습한다. 보다 구체적으로, 도 6b에 도시된 바와 같은 합성곱층 계산과, 도 6c에 도시된 바와 같은 폴링층 계산을 1회 이 상 반복적으로 진행한 후에, 도 6d에 도시된 바와 같이, 이미지 분류(Classification) 단계를 진행한다. 이미지 분류에서는 RGB Channel, 행열 데이터를 일렬로 나열하여 모든 데이터들을 하나 이상의 FC(Fully connected layer)로 적용하여 마지막에는 소프트맥스 활성화 함수을 적용하여 도 6d에 도시된 바와 같은, 최종 결과물을 출력한다. 이처럼, 빅데이터 딥러닝 학습 모듈은, 도 5에 도시된 딥러닝 학습하는 과정에 따라, 도 6a에 도시된 바와 같이 이미지를 RGB로 분리하고, 도 6b에 도시된 합성곱층 계산과 도 6c에 도시된 풀링층 계산을 1회 이상 반복 적으로 진행한 후, 도 6d에 도시된 바와 같이 이미지 분류(Classification)하여 최종 결과물을 얻을 수 있도록 학습한다. 시뮬레이션 진행시 저장된 이미지는 학습데이터을 만들기 위해서 수위 0.0% ~ 120.0%까지 분류하여 이미지을 저장한다. 분류된 이미지는 수위, 기상 및 환경정보 데이터와 같이 저장되므로 딥러닝 학습으로 예측 하는 것은 0.0% ~ 120.0%까지의 수위이다. 빅데이터 딥러닝 학습 모듈은 딥러닝 학습으로 얻은 결과물을 본 발명의 제품인 인공지능 모듈의 수위 계측 모듈에 저장한다. 3D 모델링 데이터 수집 모듈, 3D 모델링 모듈, 빅데이터 수집을 위한 시뮬레이션 모듈, 빅데이터 딥러닝 학습 모듈은 인공지능 기반 수위계측 시스템을 구축하는 최초 단계에서만 동작한다. 그 이후에는 실 시간으로 촬영된 저수지, 수로, 물넘이 이미지는 수위 계측 모듈 단계에서 수위 이미지를 예측하여 수위값 을 구한다. [인공지능 모듈] 도 2에 도시된 바와 같이 인공지능 모듈의 기능을 설명하기 위해 도식화한 도면이다. 인공지능 모듈은 수위 계측 모듈, 객체 탐지 모듈, 파일 업로드 모듈, 예측 시뮬레이션 모듈, 제어 모듈 , 모니터링 모듈, Web Agent 모듈, 무선 Wifi 모듈등으로 구분되어 진다. 인공지능 모듈은 제어모듈에 의해서 CCTV 모듈에서 저수지, 수로, 물넘이 수위을 촬영하고, 저수 지와 같은 시설물 또는 시설물 주변을 실시간으로 촬영하고, 촬영된 영상을 실시간으로 수위 계측 모듈 또 는 객체 탐지 모듈로 보내고, 이렇게 CCTV로 촬영된 이미지는 관리서버로 전송하는데 본 발명의 핵심 부분 으로써 자체 압축기법을 활용하여 파일 업로드 모듈로 전송한다. 본 발명은 CCTV로 수위을 촬영 및 시설물 주변을 실시간 탐지하기도 하지만 본 발명을 제어하고, 모니터링하고, Web Agent 역할도 진행한다. 또한 현장뿐만 아니라 현장과 거리가 먼 사무실이나 집에서도 본 제품에 원격으로 접속하여 제어하고, 모니터링하고, 셋팅값을 변경할 수 있다. 인공지능 모듈의 모든 기능은 임베디드 시스템에서 기반에서 작동한다. 임베디드 시스템(Embedded System)은 PC처럼 범용 목적을 갖는 시스템이 아닌 특정 목적을 지닌 시스템이다. 임 베디드 시스템인 헤드폰은 통신기능에 특화하여 개발되었고, 게임기도 게임기능에 특화하여 개발된 시스템이다. 본 발명에서 사용되는 임베디드 시스템은 카메라에 특화하여 정해진 기능에 필요한 하드웨어와 소프트웨어로 이 루어진다. 임베디드 시스템이 사용되는 예는 가전제품, 유비쿼터스 시스템, 휴대용 정보기기, 의료기기, 공장 자동화 시스 템, 비행기, 우주선, 자동차내 정보기기 등에서 사용되어진다. 임베디드 시스템의 구성은 임베디드 시스템에서 사용되는 H/W에서 임베디드 프로세서 아키텍처는 ARM, MIPS, PowerPC 등이 사용되고, 임베디드 프로세서 Soc(System on a Chip)에 사용되는 UART나 타이머, 메모리, LCD 제 어기 들 필요한 주변기기을 칩에 내장시켜 하나의 칩으로 사용되는 PXA255(인텔), S3C2440(삼성), Au1200(AMD), MPC860(모토로라) 등이 사용된다. 임베디드 시스템 메모리로는 비휘발성 메모리 ROM, 휘발성 메모리 RAM, 하드 디스크 대용으로 활용되는 Flash 메모리가 사용된다. 임베디스 시스템에 사용되는 S/W는 RTOS(Real Time Operation System), GPOS(General Purpose Operating System) 등이 사용되며, RTOS에는 VxWorks, uC/OS, pSOS, Nucleus, REX 등이 사용되고, GPOS에는 Windows CE, Embedded Linux 등이 사용된다. [수위 계측 모듈] 수위 계측 모듈은 제어 모듈에 의해 CCTV 모듈에서 촬영된 저수지, 수로, 물넘이 수위 이미지을 인공지능 알고리즘 중의 하나인 빅데이터 딥러닝 학습 모듈에서 사용했던 CNN(Convolutional Neural Network) 알고리즘 기반으로 하는 저수지 이미지의 수위을 예측한다. 도 5에 도시된 딥러닝 학습하는 과정에 따라, 도 6a에 도시된 바와 같이 이미지를 RGB로 분리하고, 도 6b에 도 시된 합성곱층 계산과 도 6c에 도시된 풀링층 계산을 1회 이상 반복적으로 진행한 후, 도 6d에 도시된 바와 같 이 이미지 분류(Classification)하여 최종 결과물을 얻을 수 있도록 학습한다. 시뮬레이션 진행시 저장된 이미 지는 수위, 기상 및 환경정보 데이터와 같이 저장되므로 학습으로 인한 최종 결과물은 해당 되는 저수지 이미지 의 수위값이다. [객체 탐지 모듈] 객체 탐지 모듈은 제어 모듈에 의해 CCTV 모듈에서 촬영된 시설물 영상을 전송 받아서 인공지능 알고리즘 중의 하나인 객체 탐지 알고리즘을 활용하여 객체 탐지 여부를 판단한다. 객체 탐지(Object Detection)이란, 이미지 안의 객체를 단순히 구분하는 것에서 그치지 않고 이미지 내의 해당 객체의 위치까지 표시하는 알고리즘을 말합니다 오늘날 객체 감지 알고리즘에 활용되는 인공지능 모델들은 해당 작업을 수행하기 위해 2가지 과정을 거치는데 사진에서 객체의 위치를 추정하는 지역화(Localization)를 한 후 해당 위치에 있는 객체가 무엇인지 확인하는 과정인 분류(Classification) 과정을 통해 객체 탐지(Object Detection)을 수행합니다. 여기서 2가지 과정을 어떻게 처리하느냐에 따라서 알고리즘이 구별되는데 지역화를 수행한 다음 분류가 이루어 지는 모델을 Two-stage 모델이라 하며 지역화와 분류를 동시에 수행하는 모델을 One-stage 모델로 분류합니다.Two-stage 모델에는 R-CNN, Fast R-CNN, Faster R-CNN 등이 있으며, One-stage 모델에는 YOLO, SSD, RetinaNe 등이 존재한다. 본 발명에서는 One-stage 모델의 YOLO 모델을 사용한다. 하지만 YOLO 모델만 사용하는 것에 국 한되지 않는다. 도 7a의 (a)와 같이 YOLO 객체 탐지 알고리즘은 입력(Input) 이미지을 격자(Grid)로 이미지을 S x S로 나눈다. 도 7a의 (a) 이미지는 입력 이미지을 3 x 3 격자로 분할한 이미지이다. 이미지의 위치을 알기 위해서는 Anchor Box(또는 Bounding box)가 필요한데 Anchor Box는 임의로 만든다. 보통 Anchor Box는 1:1, 1:2, 2:1 등의 비율 이 정해져 있고 크기가 다른 박스들도 있다. 도 7a의 (b) 이미지는 1:2로 Anchor Box을 만든 이미지이다. 상기 Anchor Box의 정보는 도 7b의 이미지와 같이 Po, bx, by, bw, bh 5가지의 정보을 포함하고 있다. Po은 Box의 Confidence Score이라는 물제가 있을 확률을 의미하고, bx, by은 셀의 왼쪽 모서리에서부터 거리이며, bw, bh 은 Anchor Box의 너비(w), 높이(h) 값이다. 도 7c 이미지는 Anchor Box 정보을 구하는 화면이다. Anchor Box의 정보을 활용해서 Grid Cell의 정보을 구성하면 각 Cell은 Class Probability + Bounding Box Parameter (Bx, By, Bw, Bh, Po)로 구성되며, Anchor Box가 많으면 더 추가된다. Class Probability에 대허서 설 명하면 도 7d 이미지처럼 c1, c2, c3가 존재하는 c1, c2, c3은 탐지하고자하는 대상물의 개수다. 그래서 입력 이미지 전체을 Grid Cell으로 구성하면 도 7c 이미지와 같다. 그러므로 최종 파라미터 개수는 Grid Cell 9개, Anchor Box 2개, Anchor Box정보 5개, 탐지할 대상물 3개을 계 산하면 총 117개의 파라미터가 존재한다. 최종 파라미터 개수 = 117 ea (9 x ((2 x 5) + 3) 각 Anchor Box에 대한 Class Confidence Score를 계산 해야하는데 CNN 기반 알고리즘이 사용된다. 아래 이미지 는 CNN 기반 알고리즘에 해당되는 GoogLeNet에 입력 이미지을 넣어준 화면이다. 이때 Input으로 들어가는 데이 터는 Trained Data(Weight) + Network Model + image이 들어간다. 그리고 Fully Connected Layer를 아래의 순 서로 설정한 Grid Cell크기에 맞게 변형하여 줍니다. 그리고 각 Cell마다 2개(Anchors)의 class-specific confidence score값을 찾는다. class-specific confidence score는 그 Cell의 C(conditional class probability)와 각 박스의 Po(confidence score)를곱하여 한 박스에 대해 구한다. 그래서 도 7c 이미지에서는 7 x 7 x 2 = 98개의 셀은 모두 class-specific confidence score를 갖게 된다 이제 98개의 Anchor Box가 나왔으므로 이걸 NMS(Non-Maximum Suppression)을 하여 중복되는 박스들을 없애준다. NMS란 하나 박스를 기준을 잡고 일정 Threshold를 정한 후, 다른 박스를 비교 해 보았을때 교집합이 되는 부분이 정해진 Threshold보다 적을 시 제거 하는 방법이다. NMS전에 기준 BOX를 잡기 위해 Class Confidence Score를 기준으로 박스를 정렬한다. 그 다음 Score가 제일 높 은 박스를 기준으로 다른 박스를 순서대로 비교 하며 NMS를 진행한다. 그리고 최종적으로 이미지에 박스와 탐지한 대상의 명칭을 그린다. 여기서 도 7d를 보면 Car, Boat, Person을 각각 구분하여 인식한다. Car, Boat, Person으로 이름이 붙여줄수 있는 이유는 미리 정의된 대상에 Car, Boat, Person이 학습되어 있기 때문이다. 그래서 본 발명에도 시설물에서 객체 감지가 필요한 대상을 미리 학습하여 객체 대상이 무엇인지 구분할 수 있 다. 탐지된 객체는 무엇인지 구분이 가능하므로 대상마다 서로 다른 조건을 설정하여 이벤트 내용을 다르게 할 수도 있고 심각도를 정상(Normal), 주의(Info), 경고(Warning), 심각(Critical), 치명적(Fatal) 등으로 구분하 여 심각도에 따라서 담당자는 빠른 조치를 할 수 있다. 예를 들어, 상기 이벤트 알람 및 장애알람을 발생시키는 단계에서 이벤트 알람을 발생시키는 과정은, 수집된 시 스템의 각 상태정보들의 데이터와 관련된 정보의 임계치를 설정하는 단계를 거친다. 이후 수집대상인 시스템의 정보를 수집하는 단계를 거친다. 이어서 수집된 정보와 임계치를 비교하는 단계를 거친다. 이후 수집된 정보가 임계치를 벗어나는가를 판단하는 단계를 거친다. 이어서 임계치를 벗어나지 않으면 전단계로 진행하고, 그렇지 않으면 이벤트알람을 발생시키는 단계;로 진행한 후 종료하게 된다.이때 상기 임계치는 각 상태정보들의 특성을 고려해서 결정된다. 다른 실시예로서, 상기 객체 탐지 모듈에 전기적으로 연결된 설정 조건 변경 모듈은 조건에 따라 설정을 변경하여, 일반 알람과 다른 방식으로 메시지를 전달할 수 있다. 예를 들어, 3분 마다 반복문구를 전달한 후, 확인 메시지나 응답이 없으면 반복 문구 전달을 그만두고 새로운 연락 방법 또는 연락처를 찾아 다시 반복 문구를 3분 마다 전달하는 조건이 있을 수 있다. 즉 기본 알람을 설정하고, 조건을 변경하면 조건에 따른 알람을 전송하며, 이 외에는 미리 정하여진 기본 알람 에 포함되는 일반 알람을 전송한다. 특히 알람수가 일정치 이상인 경우 알람을 중지하도록 제어할 수 있다. 또한, 상기 객체 탐지 모듈에 전기적으로 연결된 동일 상황 비교 모듈은 기본 알람을 설정하고, 기존 저장 된 각 상태에 따른 알람 설정이 미리 되고, 각 상태와 동일 상황인지 확인하면, 미리 저장된 알람 설정 조건에 따른 알람을 전송하며, 이 외에는 미리 정하여진 기본 알람에 포함되는 일반 알람을 전송한다. 여기에서도 알람 수가 일정치 이상인 경우 알람을 중지하도록 제어할 수 있다. 예를 들어 미리 저장된 알람 설정 조건에는 시간과 장소에 따른 조건과 상황별 알람 메시지 정보 조건(예 : Car, Boat, 및 Person 등의 이상 상황, 모뎀 통신 오류, 배터리 부족, 태양전지 충전오류, CCTV 오류 정보) 등 이 포함된다. 결과 저장 모듈은 기존 저장된 각 상태에 따른 알람 설정을 미리 저장하고, 조건 알람과 기본 알람 등의 메시지 전달 조건 등을 저장할 수도 있다. 이 외에도 객체 탐지 모듈은 Web Agent 모듈의 웹페이지에서 현장 또는 원거리에서 원격으로 실시간 으로 모니터링 할 수 있다. [파일 업로드 모듈] 파일 업로드 모듈는 CCTV 모듈에서 촬영된 이미지 또는 녹화된 동영상을 관리서버로 전송한다. 촬영된 이미지는 일정간격으로 관리서버로 전송하여 녹화된 동영상은 이벤트 발생 종료후 또는 지정된 시간에 관리서버 로 전송한다. 파일 업로드 모듈에서 촬영된 이미지을 일정간격으로 관리서버로 전송시 본 발명의 압축기법이 활용된다. 본 발명의 제품이 설치되는 장소는 인터넷망이 설치될 수 없는 장소이므로 Lora, Cat.M1, LTE와 같은 모뎀을 사 용하여 전송한다. 본 모뎀은 일반적으로 사용하는 인터넷망에 비해서 속도가 느리고 통신 데이터 사용료도 증가 할 수밖에 없으므로 관리서버로 데이터을 전송하기 위해서는 데이터 패킷을 최소화하여 전송하여야 한다. 그래 서 일반적으로 촬영된 이미지는 JPEG 파일형식으로 관리서버로 전송한다. 본 JPGE 파일형식도 관리서버로 전송 하는데는 많은 데이터 패킷을 사용한다. 본 발명에서는 JPEG 파일형식으로 저장하기전에 데이터 크기를 줄일수 있는 방법은 사용한다. 본 발명이 설치되는 장소는 다른 CCTV와 다르게 촬영되는 장소는 동일한 위치를 촬영하 기 때문에 이전에 촬영한 이미지을 활용하고 현재 촬영된 이미지는 최소한의 데이터만 전송하고 관리서버에서 현재 촬영된 이미지를 만들어내는 방법이다. [표 1]는 일반적인 JPEG 파일 크기와 본 발명의 압축기법을 활용했 을때의 파일 크기를 비교한 내용이다. 본 발명의 압축기법은 기존 JPGE 파일형식보다 효율적인 압축 효과를 보 이고 있다. 압축율은 이미지의 상태에 따라서 다르므로 평균 90%의 압축율의 효과가 있다는 가정하에서 비교하 였다.표 1"}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "본 발명의 압축기법을 소개하면 지정된 위치를 CCTV로 촬영하여 이미지가 생성되면 빨간색(Red), 초록색 (Green), 파란색(Blue) 으로 분리하고 Red, Green, Blue 색상을 YCbCr으로 변환한다. [수학식 3]은 RGB색상을 YCbCr으로 변환하는 공식이다. Y는 밝기 성분이며, Cb와 Cr은 색차 성분으로 색상을 표현하는 색공간 방식이다. YCbCr을 사용하는 이유는 CCTV로 촬영된 이미지는 같은 배경의 이미지를 가지고 있기 때문에 이전에 촬영한 이 미지와 배경이 같다. 그래서 색차 성분을 포함하는 Cb와 Cr은 최소한의 정보만 활용하고 밝기 성분을 포함하고 있는 Y을 최대한 활용하는 방식이다. 수학식 3"}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "예를들어 CCTV로 촬영한 이미지 크기가 가로 640px, 세로 480px 이고. 10분단위로 촬영된 이미지을 관리서버로 전송한다고 가정했을때를 기준으로 한다. 먼저 10분전에 촬영한 이미지을 RGB, YCbCr으로 변환하고, 현재 촬영 한 이미지 또한 RGB, YCbCr으로 변환한다. 그리고 현재 촬영한 이미지의 배경이 구분할수 있을정도로만 화질을 줄이고 RGB, YCbCr으로 변환한다. 배경이 구분활수 있을정도의 화질은 쉽게 예를들면 640 x 480 크기를 160 x 120의 크기로 변경하고 다시 640 x 480의 크기로 변경하면 화질은 떨어지지만 배경은 구분할 수 있을 정도이다. 이렇게 구분된 데이터을 10분전에 촬영한 이미지를 R1, G1, B1, Y1, Cb1, Cr1이라고 하고, 현재 촬영한 이미지 를 R2, G2, B2, Y2, Cb2, Cr2이라고 하고, 화질을 160 x 120의 크기로 줄인 이미지를 R3, G3, B3, Y3, Cb3, Cr3이라고 정의한다. 회귀분석으로 가중치를 계산하면 된다. 회귀분석하여 가중치를 구하기 위해서는 딥러닝의 예측모델을 사용하여 가중치을 구할 수 있다. 입력으로 활용하는 데이터는 R1, G1, B1, Y1, Cb1, Cr1, R3, G3, B3, Cb3, Cr3, Y2이고 출력은 Y2, Cb2, Cr2으로 한다. 여기서 입력 데이터중에서 Y2을 입력하는데 이유는 밝기 를 포함하는 데이터로써 중요하기 때문이다. 이렇게 딥러닝의 예측모델로 가중치 값을 구할수 있는데 [표 2]는 Y2, Cb2, Cb2을 각각 입력 데이터로 진행했을때 학습의 차이를 표시한 내용이다. [표 2]는 Cb2, Cr2보다는 Y2을입력데이터로 진행했을때 이미지의 loss(손실율)가 훨씬 줄어든다는 것을 알수 있다. 또한 이미지 화질을 160 x 120일 경우 loss는 3.405이고, 이미지 화질이 213 x 160일 경우는 1.758이고, 이미지 화질을 320 x 240일 경우 는 0.680이므로 이미지 화질이 높을수록 loss(손실율)은 훨씬 줄어들어 320 x 240으로 압축했을때도 원본 이미 지의 손실이 거의 없는 것을 알수 있다. 이미지 화질이 160 x 120일 경우도 이미지 손실이 많이 없고 인간의 눈 으로 구분하는 것은 큰 차이가 없기 때문에 이지미 화질을 160 x 120으로 처리해도 큰 무리가 없다는 것을 알수 있다. 표 2"}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "이렇게 딥러닝의 예측모델로 계산된 가중치 값과, Y2의 데이터와, 160 x 120의 크기로 변환했을때의 Cb3, Cr3 의 값을 JPEG 방식으로 압축하여 관리서버로 전송한다. Y3의 값은 전송하지 않는 이유는 Y2의 데이터를 활용하 면 되기 때문이다. 아래 내용은 위와 같은 방식으로 진행했을때의 소스코드(표 3)와 도 8은 촬영된 이미지의 결 과물이다. 표 3"}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "item": 6, "content": "도 8의 결과물처럼 원본이미지와 화질의 차이가 없다. [표 4]는 이미지 화질의 따라 전송 데이터의 크기 및 압 축율을 표시한 내용이며 본 발명 제품의 시설물에 설치되는 제품으로써는 조금이라도 적은 데이터 패킷을 전송 하는 방법이 필요하므로 이미지 화질의 따라서 큰 차이는 없지만 상황에 따라서 이미지 화질을 선택하여 전송하 면 된다. 표 4"}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "이렇게 가중치값, Y2의 데이터, Cb3, Cr3의 데이터를 관리서버로 전송하기 위해서 JPEG 압축 알고리즘을 사용하 여 2차 압축한다. JPEG압축 알고리즘 방식은 아래과 같은 단계로 진행하며 간략하게 설명하면 다음과 같다. 1 단계) RGB색상을 YCbCr으로 변경하는 단계로써 본 발명의 압축기법을 사용한다. 2 단계) 다운샘플링(Downsampling) 단계로써 인간의 눈은 색차보다 밝기에 더 민감하게 반응하므로 Y는 밝기, Cb, Cr은 색차에 해당된다. 이렇게 변환된 색공간에서 Cb와 Cr은 눈이 인식하지 못하는 범위 내에서 적당히 제 거하는데 Y는 본 발명의 압축기법으로 Y2데이터를 사용하고, Cb, Cr는 화질을 축소한 Cb3, Cr3의 데이터를 사용 한다. 이렇게 적당히 색을 제거하는 과정을 거친다. 3 단계) DCT(Discrete Cosine Transformation) 단계로써 이미지의 각 픽셀별 색상값이 저장된 2차원 공간 영역 에서 DCT을 수행하면, 해당 이미지가 주파수와 관련된 값들로 변환되어 또 다른 영역에 저장된다. 4 단계) 양자화(Quantization) 단계로써 DCT을 통해 변환된 행렬 데이터는 왼쪽 위로 갈수록 값이 커지고(밝아 지고) 오른쪽 아래로 갈수록 굉장히 작은 값이거나 음수(어두운)로 떨어진다. 낮은 주파수값들은 이미지의 비슷 한 색상들에 대한 정보를, 높은 주파수값들은 이미지의 색상변화에 대한 정보를 갖는다. 이를 기반으로 낮은 주 파수 성분들만을 취하고 높은 주파수 성분들을 날려버리면 많은 데이터를 사람의 눈이 인식하지 못하는 범위내 에서 제거할 수 있다. 이렇게 불필요한 주파수 성분을 제거하는 과정을 거친다. 5 단계) Zig-Zag 스캐닝 단계로써 \"4 단계) 양자화\"을 통해 생성된 0이 가득한 행렬에서 행렬의 왼쪽 윗부분만 에만 값들이 존재하므로, 이 값들만 취하고 0의 값은 개수만 저장해두는 과정으로써 아래 이미지처럼 Zig-Zag 순서로 한 벡터에 저장하는 과정을 거친다. 6 단계) Entropy Coding 단계로써 \"5 단계) Zig-Zag 스캐닝\"단계로써 일렬로 나열된 데이터를 가장 널리 사용되 는 Huffman Coding 방식으로 압축하여 최종 관리서버로 전송할 데이터를 생성한다. 아래 그림은 Huffman Coding 방식으로 그림으로 표현한 내용이다. 관리서버에 가중치값, Y2의 데이터, Cb3, Cr3의 데이터을 JPEG 압축방식으로 전송받은 데이터을 JPEG 압축방식 으로 역으로 풀어서 이전 이미지 r1, g1, b1, y1, cb1, cr1와 전송받은 데이터 y2, cb3, cr3에 가중치을 적용 하여 현재의 이미지를 만들어낸다. [예측 시뮬레이션 모듈] 예측 시뮬레이션 모듈는 농업용 저수지의 시기별 적정 물관리를 위해서 미래에 물관리를 어떻게 해야 하는 지에 대한 예측 시뮬레이션을 진행하여 트윈리스 가상 저수지에 나타낸다. 저수지 예측 수위값을 정의하여 계산 하므로 본 발명으로 체계적이고 과학적인 물 관리 기반으로 수위 관리의 공신력 향상을 기대할 수 있다. 농업용 저수지는 비영농기에 저수량을 확보하여 영농기에 용수공급이 원활하게 이루어질 수 있도록 물 관리를 진행하고 있다. 용수 공급 시기는 [표 5]과 같이 벼 생육기별 물 관리 시기와 일치하고 있다.표 5"}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "농업용 저수지는 시기별 저수율 운영 기준으로 비영농기 용수확보, 영농기 시기별 적정 용수공급, 가뭄 단계별 제한급수, 홍수기 재해대비를 위한 사전방류 및 홍수기 이후 용수 확보 등의 관리를 위해 과학적인 물 관리가 시행될 수 있도록 시기별 기준이 데이터 기반으로 마련되어야 한다. 농업용 저수지의 시기별 정량적 물관리을 위해서는 개별 저수지의 저수위 운영 특성이 다르기 때문에 저수지별 물관리 적정성을 검토하여 각 저수지의 특성이 포함된 하나의 통일된 표준화 지수가 필요하며, 아래 [수학식 4]은 저수지 저수량(율) 지수를 구하는 공식이다. 수학식 4"}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 9, "content": "여기에서 저수율 지수의 의미는 무차원 값으로 0.0은 평균을 의미하고, (+)이며 평균이상, (-)이면 평균이하이 며 용수부족(가뭄)을 의미한다. 논 작물에 있어 영농기 평년 저수율이 70% ~ 40%로 가뭄 단계별로 농어촌공사에서는 저수율 운영 기준을 정하고 있다. [표 6]는 행정안전부에서 가뭄 예보경보 저수율 기준을 표시한 표이다. 표 6"}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 10, "content": "가뭄단계별 저수지 지수를 정의하면 [표 7]과 같다. 표 7"}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 11, "content": "연도별 저수율 운영 자료(1991~2020년, 30개년)을 이용하여 순별 평균 및 표준표차를 산정하고 가뭄단계별 기준 지수 적용으로 개별 저수지의 순별 가뭄단계별(관심, 주의, 경계, 심각) 저수율 운영 기준 결정하면 [표 8]의 그래프와 같이 표시할 수 있다.표 8"}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 12, "content": "상기 [표 8]의 그래프에서 영농기를 제외한 원활한 용수공급을 위한 상시 적정 저수율 운영기준은 가뭄 단계 중 \"관심\" 단계 이상이며, 10년 빈도 가뭄 기준년은 가뭄단계 중 \"경계\"에 해당된다. 위 그래프를 기준으로 지역 집중 물관리 기간 동안 농민 홍보 등으로 지역 민원 감소 및 물 절약이 가능하다. 영농기 가뭄단계별 하한 경계선은 \"경계\" 단계이며, 홍수기 사전방류에 있어 제한 수위는 \"주의\" 단계를 상한 경계선으로 \"경계\" 단계을 하한 경계선으로 홍수기 제한 수위를 운영한다. 상기와 같이 시기별 적정 물관리을 위해서 미래에 물관리를 어떻게 해야 하는지에 대한 예측 시뮬레이션을 진행 한다. 예측 시뮬레이션은 해당 년 순평균 저수율과 전 관측기간(30개년) 평균, 전 관측기간(30개년) 표준편차 데이터 를 구하고, 기상청으로부터 미래의 예측 기상정보 데이터 날씨, 온도, 습도, 풍향, 풍속, 강우량, 증발량 등의 빅데이터 등의 기상자료를 수집하고, 저수지 수위, 유입량, 방류량 등을 계산하여 예측 시뮬레이션을 진행한다. 예측 시뮬레이션 결과는 앞으로 물관리을 위해서는 정상 단계인지, 관심(약한가뭄) 단계인지, 주의(보통가뭄) 단계인지, 심가(극심한 가뭄) 단계인지, 사전 방류해도 되는지 예측하는 것은 본 발명의 핵심 중 하나다. 저수 지 수위는 현재 저수지 수위를 의미하며, 유입량은 강수량이거나 상류에서 들어오는 유량일수 있으며, 방류량는 수문을 통해서 방류하거나 여수로를 통해서 자연 방류되거나, 사이펀 같은 구조물을 설치하여 방류할 수도 있다. 예측 시뮬레이션을 진행하기 위해서는 저수지 저수량, 저수율, 저수위를 예측해야 한다. 아래 [수학식 5]는 저 수지 예측값을 구하는 공식이다.수학식 5"}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 13, "content": "기상청에서 제공하는 강수량은 한 지점에서 계측된 점우량이므로, 유역의 면적우량을 산정하여야 한다. 면적우 량의 산정은 다양한 산정기법 중 유역의 강우를 적절히 반영할 수 있고, 적용성이 우수하다고 판단되는 기법을 선정하여 적용한다. 면적우량의 산정기법에는 산술평균법, 티센방법(Thiessen polygon method), 삼각형 가중평 균법(Triangular area weighted mean), 등우선법, Kriging방법, 이중 프리어 급수법(DFS) 등 다양한 기법이 있 으며, 여기서는 티센망법을 사용한다. 티센망법은 각 관측소를 연결한 선의 수직이등분석이 이루는 다각형을 해당 관측소의 지배면적으로 보고, 각 관 측소별 면적비를 가중치로 하여 각 관측소의 면적과 강우량을 곱하여 합산한 후 이 값을 유역면적으로 나누어 산출한다. 강수로 유입되는 유량(P)은 티센망법 방법으로 평균강수량을 결정되면 계산된 유량에 저수지 면적을 곱하여 계 산한다. 아래 [수학식 6]는 저수지에 강수로 유입되는 유량() 공식이다. 수학식 6"}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 14, "content": "가중치는 강수로 유입되는 경우와 상류에 유입되는 유량이다. 강수량에 따라서 가중치 값이 다르므로 저수지 현 장 상황에 따라서 가중치를 설정한다. 가중치의 값이 0이상의 값으로 0이면 가중치가 없이 강우량으로만 유입되는 경우를 의미하며, 0.5이면 강우량의 50%만 유입된다는 것을 의미한다. 수학식 7"}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 15, "content": "방류량은 저수지의 수문으로 방류되는 유량과 여수로로 방류되는 유량을 의미하며, 이 유량을 계산해야 한다. 유량 계산방법에는 유속을 이용한 계산과, 수심을 이용한 계산 방법이 활용된다. 유속을 이용한 계산방법은 유속계을 설치하여 아래와 같은 공식에 적용하면 유량을 계산할 수 있다. 수학식 8"}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 16, "content": "수심을 이용한 계산방법은 매닝공식, 수위-유량 관계곡선식의 형태의 공식이 사용된다 매닝공식(Manning`s formula)은 압력을 받지 않는 대기압력 상태의 개방된 수로, 배수구와 같은 형태의 완전한 액체 상태의 유체가 유로내에서 일정한 방향으로 흐를 때 유체의 평균속도를 추정하고 시뮬레이션하기 위한 방 정식을 말한다. 매닝공식은 아래와 같다. 수학식 9"}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 17, "content": "수위-유량 관계곡선(Rating Curve)식은 관측 수위 및 유량과의 관계를 나타낸 곡선이며, 이 수위-유량 관계곡선 을 사용하여 연속적으로 측정되는 수위에서 유량을 산출한다. 수위측정지점의 수위-유량관계는 하천단면 형태와 경사에 따라 1개의 유량공선이 형성될 수 있으나, 저수위, 평수위, 고수위 등 3개 구간으로 곡선이 각각 다른 형태로 구성될 수 있다. 또한 이러한 곡선의 연결 구간에 짧은 형태의 보간곡선(Transition Curve)도 나타날 수 있다. 이렇듯 하천의 유량을 파악하기 위해서 하천수위와 유량간에는 어느 정도 상관성이 있으며, 이러한 관계 를 나타낸 것이 수위-유량 관계곡선식이다. 현재 사용되고 있는 수위-유량 관계곡선식의 형태에는 일반적으로 지수형과 다항식 2가지 형태가 사용되고 있으며, 부득이한 경우을 제외하고는 지수형으로 사용한다. 수학식 10"}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 18, "content": "이렇게 유입량, 추가유입량, 방류량 계산이 완료되면 저수지 제원정보의 표준표고, 총저수량, 조견표을 활용하 여 예측 저수량, 예측 저수율을 계산하는데 아래 [수학식 11]은 예측 저수량과 예측 저수율을 구하는 공식이다. 수학식 11"}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 19, "content": "[수학식 11]으로 저수지 예측 저수율을 구하게되면 해당 저수지의 조견표을 회귀식으로 변환한 다항식을 활용하 여 예측 저수위을 계산한다. [표 9]는 전라남도 장흥군 도청 저수지의 조견표와 조견표을 회귀식으로 표현한 다 항식과 그래프이다. [수학식 12]는 조견표을 회귀식으로 변환했을때의 다항식 형식이며, 다항식에 대입하여 저 수지 예측 저수위 x의 값을 계산하는 방법이다.표 9 수학식 12"}
{"patent_id": "10-2022-0118688", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 20, "content": "상기와 같이 저수지 예측 수위값을 계산하므로써 예측 시뮬레이션으로 체계적이고 과학적인 물 관리 기반으로 가뭄단계별, 홍수기 제한 수위 관리로 공신력 향상을 기대할 수 있다. [제어 모듈] 제어 모듈은 임베디드 시스템에서 작동하는 Back-End 프로그램으로써 CCTV, 모뎀, 배터리, 태양전지 모듈 등에 대해서 제어할 수 있다. 또한 Web Agent 모듈에서 라우터 모듈을 통해 웹페이지에 접속하여 셋팅값을 변경하면 셋팅값을 제어 모듈로 전송되어 제어 모듈에서 각 주변 기기로 명령어를 전달하고, 데이터를 요청한다. 제어 모듈 이 정상적으로 작동하는지는 Web Agent 모듈의 웹페이지에서 모니터링할 수 있다. 제어 모듈은 CCTV의 촬영 각도를 조절하여 저수지, 수로, 물넘이 수위을 촬영할 경우는 수위 계측 모듈 로 전송하여 CNN 기반 알고리즘으로 수위를 예측하고, 시설물 주변을 실시간으로 촬영할 경우는 객체 탐지 모듈로 전송하여 객체 탐지 알고리즘으로 미리 정의된 대상을 탐지하여 이벤트를 발생시키고 탐지된 대상 이 탐지되지 않을 때까지 실시간으로 촬영하여 녹화한다. 또한 탐지된 대상이 작거나 크다면 일정한 크기로 CCTV 영상을 확대, 축소하여 적당한 사이즈로 볼수 있도록 자동으로 조절한다. 제어 모듈은 CCTV의 촬영 각도를 조절하여 저수지 주변 제방, 여수로, 수로, 등의 주변 모니터링이 필요한 곳에 촬영 각도를 조절하여 촬영하고 촬영이미지을 관리서버로 전송한다. [모니터링 모듈] 모니터링 모듈은 임베디드 시스템에서 작동하는 Back-End 프로그램으로써 CCTV상태, 모뎀상태, 배터리상태, 태양전지 상태 등의 제품의 주변장치에 대해서 실시간으로 모니터링할 수 있다. 모니터링 모듈은 Web Agent 모듈의 웹페이지에서 주변 장치 모뎀상태, 배터리상태, 태양전지 상태를 실시간 모니터링할 수 있다. 모니터링 모듈은 상시 주변기기를 실시간 모니터링을 진행함으로써 이벤트를 발생시킬 수 있다. 이벤트는 모뎀 통신 오류, 배터리 부족, 태양전지 충전오류, CCTV 오류, 등의 이벤트를 발생시킬 수 잇다. 모니터링 모듈은 객체 탐지 모듈에서 미리 정의된 대상이 탐지되면 이벤트를 발생시켜서 자체적으로 관리가 가능하지만 다른 관리주체에서 이벤트 정보를 모니터링하고자 한다면 해단 관리주체에 Trap을 전송한다.Trap을 전송받은 관리주체는 별도로 관리하는 시설물 담당자에게 문자 또는 알림톡으로 알림을 보내줄 수도 있 고 이벤트 이력을 별도로 관리할 수도 있다. 모니터링 모듈은 이벤트가 발생시 Web Agent 모듈에서 저장된 관리자 휴대폰번호로 알림을 발송하고 이벤트 이력을 기록하여 향후 장비 업그레이드에 용이하게 사용할 수 있다. 모니터링 모듈에서 관리자가 이벤트 발생 문자를 받으면 이벤트에 심각도를 설정해서 관리 담당자가 심각 도에 따라서 조치를 할 수 있도록 할 수 있다. 여기서 심각도는 정상(Normal), 주의(Info), 경고(Warning), 심 각(Critical), 치명적(Fatal) 등 5단계로 구분하여 상항에 따른 적절한 조치를 할 수 있다. [Web Agent 모듈] Web Agent 모듈은, 구조물이나 관측 장비로부터 수집된 센서에 의한 계측값, 장비 상태 데이터을 실시간으 로 쌍둥이 가상 저수지에 시각화하여 표시함으로써 관측 장비의 내부에서 고장이 발생된 부품이 어떤것인지 시 각화하여 표시한다. 한편, 실제 저수지에서 측정된 저수지 수위, 수로부 수위, 물넘이 수위 등의 데이터를 쌍둥 이 가상 저수지에 실시간으로 시각화된 수위로 표현하기 위해, 딥러닝 학습으로 알아낸 수위에 맞춰, 디지털 트 윈 기반으로 쌍둥이 가상 저수지에 물을 채운다. 3D로 모델링되어 저수지에 설치된 구조물 및 관측 장비는 디지 털 트윈 기반으로 확대, 축소하여 관측 장비의 상태 데이터을 받아서 디지털 트윈 기반으로 실시간으로 모니터 링 한다. 그러면, 쌍둥이 가상 저수지는 실제 저수지의 상태를 실감나게 나타낼 수 있다. Web Agent 모듈은 쌍둥이 가상 저수지를 모니터를 통해 실시간으로 디스플레이한다. 이렇게, 3D 모델링 작 업시에는 촬영된 저수지의 물은 제거하였으므로, 실시간 모니터링 시에는, 딥러닝 학습으로 알아낸 수위에 맞춰 가상으로 쌍둥이 가상 저수지에 물을 채워서 디스플레이함으로써, 관리자는 마치 실제 저수지를 눈앞에 두고 관 리 감독하는 것처럼, 실제 저수지를 관리 감독할 수 있다. Web Agent 모듈은 웹페이지 방식으로 현장에서는 라우터 모듈을 경유해서 웹페이지에 접속할수 있고 사무실과 같은 원거리에 있을 경우는 관리서버부 을 경유해서 웹페이지에 접속 할 수 있다. Web Agent 모듈은 도 10와 같이 장비 상태를 모니터링하고, 네트웍크를 설정하고, SMS 발송할 관리자정보 을 설정하고, 이벤트 이력을 조회하고, 저수자, 수로, 물넘이 현재 수위을 모니터링하고, 객체 탐지 이력을 모 니터링하고, CCTV을 실시간으로 모니터링 할 수 있다. Web Agent 모듈에서 장비 상태는 표준코드, 위치, 경도, 위도, 설치일자, 통신방법, 모뎀번호 등의 장비 제원정보와 각 주변기기 CCTV상태, 배터리 상태, 태양전지 상태, 제어 모듈상태, 모니터링 모듈 상태 등 정상작 동 여부를 조회 할 수 있다. Web Agent 모듈에서는 과거 수위 계측이력, 과거 객체 탐지 정보 객체 탐지 일시, 객체 탐지 영상, 이벤트 종류, 이벤트 발생일시, 이벤트 영상 등의 이력을 조회할 수 잇다. Web Agent 모듈에서는 해당 장비의 네트웍크 정보를 설정하여 현장에서 휴대폰 또는 노트북에서 웹브라우 저로 접속할 때 설정된 IP주소로 웹페이지에 접속 할 수 있다. 또한 2대 이상의 본 발명 장비가 설치되어 있다 면 다른 장비의 라우터 모듈을 설정하여 다른 장비의 라우터에 연결되어 있는 모뎀을 통해서 관리서버로 수 위값, 촬영 이미지를 전송할 수 있다. Web Agent 모듈에서는 이벤트 발생시 문자 전송을 위하여 관리자 휴대폰번호을 등록 할 수 있다. 휴대폰 번호 등록은 여러 명을 등록할 수 있다. 등록된 휴대폰번호는 이벤트 발생시 각각 휴대폰번호 이벤트 내용을 문 자로 전송한다. Web Agent 모듈에서는 과거 저수지 수위계측 이력 및 계측 당시의 촬영 이미지를 조회할 수 있다. 현재 저 수지 수위, 저수율, 저수량을 그래프로 표시하여 관리자가 빠르게 인식할 수 있다. Web Agent 모듈은 CCTV을 실시간으로 모니터링할 수 있다. 현장에 있을 때는 라우터 모듈에 연결하여 웹페이지로 접속해서 모니터링할 수 있고, 원거리에 있을 때는 관리서버를 통해서 장비에 웹페이지로 접속 해서 모니터링할 수 있다. Web Agent 모듈은 CCTV을 실시간으로 촬영 각도를 변경하여 원하는 주변을 감시할 수 있다. 촬영 각도는 상,하,좌,우 360도 모두 가능하므로 사각지대를 최소화할 수 있다. Web Agent 모듈은 이벤트가 발생하여 관리자에게 문자를 전송할 때 CCTV 모니터링이 가능한 URL 주소를 같 이 전송하여 관리자는 바로 URL으로 접속하여 실시간으로 CCTV 모니터링을 할 수 있다. [무선 Wifi 모듈] 무선 wifi 모듈은 무선 라우터와 연결되어 서버에 데이터를 전송하는 역할을 한다. 이 때 데이터는 장비의 상태, 측정값, 이미지, 설정값, 제어값 등이 될 수 있다. 무선 wifi모듈은 주변에 여러 대의 장비가 설치되어 있을 때 메인 장비를 설정하여 메인 장비의 라우터에 접속하여 메인 장비 라우터에 연결되어 있는 모뎀을 통해서 서버와 통신하거나 원격으로 접속할 수 있다. 주변에 여러 대의 장비가 설치되어 있고 각 장비마다 모뎀와 라우터가 존재할 시 하나의 장비의 모뎀이 고장 또 는 장애가 있다면 다른 장비의 라우터에 연결되어 있는 모뎀으로 서버와 통신할 수 있다. 예를 들어 주변에 3대의 장비가 설치되어 있으면 2대의 장비가 문제가 발생하여 통신되지 않아도 나머지 1대로 서버와 통신할 수 있는 상호 보완적 역할이다. [CCTV 모듈] CCTV 모듈은 실시간으로 저수지, 수로, 물넘이의 수위을 촬영하거나, 시설물을 촬영하고 필요시 다양한 주 변환경을 촬영할 수 있다. CCTV에 사용되는 카메라는 PTZ 카메라로써 회전(PAN), 기울기(Tilt), 줌(Zoom) 조정이 가능하도록 일체화된 카 메라를 말한다. PTZ 카메라는 촬영대상의 움직임에 따라 수시로 조정이 가능하기 때문에 CCTV의 사각지대를 줄 일 수 있다. CCTV 모듈은 시설물 및 다양한 주변환경을 실시간으로 촬영하여 인공지능 모듈로 전송하여 수위 계측 모듈로 전송하여 수위을 예측하거나, 객체 탐지 모듈으로 전송하여 미리 정의된 대상이 존재하는지 객체를 탐지하고 객체가 탐지되면 이벤트가 발생되어 Trap을 서버로 알람을 발생시킨다. 전송이 완료된 후 미리 정의된 대상의 객체 탐지가 존재하지 않을 때까지 실시간을 촬영하고 녹화한다. CCTV 모듈은 야간에 촬영 가능한 적외선 기능을 갖추고 있으며, 야간에도 주변을 감시 목적으로 모니터링할 수 있다. CCTV 모듈은 상, 하, 좌, 후 360도 모두 촬영이 가능하여 사각지대를 최소화할 수 있다. CCTV 모듈은 이벤트 발생시 이벤트 종류에 따라서 조명을 비추거나, 음성을 내 보낼수 있다. 사각지대을 최 소화하고, 이벤트 종류에 따라서 조명을 비추거나 음성을 내 보내서 안전관리에도 활용할 수 있다. 도 9에 도시된 바와 같이, 먼저 CCTV 시설물을 감시하는 단계(S101); 객체 검출 알고리즘을 실행하는 단계 (S102); 객체 탐지 모듈 등을 통해 객체가 검출되는지 확인하는 단계(S103); 객체 검출이 되지 않으면, 화 면을 촬영하는 단계(S104); 객체가 검출되는 경우 이벤트 분류하는 단계(S105); 이벤트 알림하는 단계(S106); 필요시 영상을 녹화하는 단계(S107); 상기 이벤트와 영상을 서버에 전송하는 단계(S108); 추가 감시가 필요한지 확인하는 단계(S109); 추가 감시가 필요한 경우 CCTV 상,하,좌,우 변경하는 단계(S101-1); 및 상기 S101 단계로 되돌아 간다. 마지막으로 추가 감시가 필요하지 않은 경우 감시를 종료하는 단계(S110);를 포함한다. [라우터 모듈, 모뎀 모듈] 모뎀 모듈은 라우터 모듈와 연동되어 라우터로 연결되는 모든 장비의 서버 통신을 가능하게 한다. 본 발명의 제품이 설치되어 있는 주변에 여러 대의 장비가 설치되어 있을 때도 본 라우터 모듈에 연결되어 서버와 통신 할 수 있다. 모뎀 모듈은 주변에 여러 대의 장비가 설치되어 있을 때 메인 장비를 설정할 수 있고, 메인 장비의 라우터 에 접속하여 메인 장비 라우터에 연결되어 있는 모뎀을 통해서 서버와 통신하거나 원격으로 접속될 수 있다. 주 변에 여러 대의 장비가 설치되어 있고 각 장비마다 모뎀와 라우터가 존재할 시 하나의 장비의 모뎀이 고장나면 다른 장비의 라우터에 연결되어 있는 모뎀으로 서버와 통신할 수 있다. 예를 들어 주변에 3대의 장비가 설치되어 있으면 2대의 장비가 문제가 발생하여 통신되지 않아도 나머지 1대로 서버와 통신할 수 있도록 하여 상호 보완할 수 있다. 도 11은 라우터 검색 알고리즘을 보여주는 데, 먼저 모뎀 모듈 등을 통해 서버 연결을 시작하는 단계 (S201); Ping 명령어의 출력을 확인하는 단계(S202); 출력이 확인된 경우 TCP/IP를 Open하는 단계(S203); 데이 터(Data)를 전송(Send)하는 단계(S204); TCP/IP를 Close하는 단계(S205); 서버 연결을 종료하는 단계(S206);로 이루어진다. 만일 출력이 확인이 안된 경우 라우터를 검색하는 단계(S207); 네트워크를 설정하는 단계(S208); 네트워크를 재 시작하는 단계(S209); 등으로 이루어진다."}
{"patent_id": "10-2022-0118688", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시 예에 따른 방법을 나타낸 블록도다. 도 2는 도 1에 도시된 현장계측 제어부의 인공지능 모듈을 설명하기 위한 도면이다. 도 3은 실제 저수지와, 3D 모델링으로 제작된 쌍둥이 가상 농업용 저수지를 비교한 도면으로, 도 3(a)는 실제 저수지를 나타낸 도면이고, 도 3(b)는 쌍둥이 가상 농업용 저수지를 나타낸 도면이다. 도 4는 빅데이터 수집을 위한 시뮬레이션 진행 시 일정 간격으로 저장되는 시뮬레이션 결과물 레코드(저수지 이 미지, 기상정보, 환경정보, 수위데이터 등)를 나타낸 도면이다.도 5는 빅데이터 수집을 위한 시뮬레이션으로 얻은 2D 이미지를 CNN 알고리즘 기반으로 딥러닝 학습하는 과정을 나타낸 도면이다. 도 6a은 빅데이터 수집을 위한 시뮬레이션으로 얻는 2D 이미지를 RGB 채널로 분리하여 나타낸 도면이다. 도 6b 은 CNN 알고리즘의 합성곱층 계산 방식을 설명하기 위한 도면이다. 도 6c은 CNN 알고리즘의 폴링층 계산 방식을 설명하기 위한 도면이다. 도 6d는 이미지 분류(Classification) 방식을 설명하기 위한 도면이다. 도 7a는 인공지능의 객체 검출 알고리즘에 의해서 객체를 검출하는 화면이다. 도 7b는 Anchor Box의 정보을 표 시한 화면이다. 도 7c는 Anchor Box로 구성하고 이미지 전체를 Grid Cell을 구성하여 나열한 화면이다. 도 7d는 CNN 기반 알고리즘으로 객체을 인식하는 알고리즘을 표시한 화면이다. 도 8는 파일 업로드 모듈에서 자체 알고리즘으로 전송 결과를 표시한 이미지 결과물이다. 도 9는 본 발명을 현장 설치 후 CCTV로 촬영하는 방법을 나타낸 순서도이다. 도 10는 본 발명에 Web Agent 모듈에 접속하여 관리하는 블록도이다. 도 11은 라우터을 검색하는 알고리즘을 나타낸 순서도이다."}
