{"patent_id": "10-2022-0141119", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0030907", "출원번호": "10-2022-0141119", "발명의 명칭": "머신비전 기반 피검사체 표면 결함 자동 검출 시스템", "출원인": "(주)휴넷가이아", "발명자": "정희자"}}
{"patent_id": "10-2022-0141119", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "피검사체의 모델별 바코드데이터를 읽어 들이는 바코드스캐너;상기 피검사체의 전면 및 측면을 촬영하여 검사하는 비전검사장치;상기 비전검사장치에서 검사한 피검사체의 전면 검사데이터를 처리하는 전면 검사데이터 처리장치;상기 비전검사장치에서 검사한 피검사체의 측면 검사데이터를 처리하는 측면 검사데이터 처리장치;상기 피검사체의 바코드데이터와 전면 검사데이터 및 측면 검사데이터를 비전검사 알고리즘의 수행으로 피검사체의 불량 여부를 비교 판단하여 양품 또는 불량품 검사데이터를 생성하고, 피검사체를 검사하는 검사설비를 제어하며, 피검사체의 검사결과를 가시적인 정보데이터로 표출하는 표시장치를 제어하고, 불량품으로 판정된 피검사체를 제거하는 불량품 제거장치를 제어하는 제어장치;상기 제어장치에서 생성된 피검사체의 양품 또는 불량품 여부를 포함하는 검사데이터를 저장하는 검사데이터 저장장치;를 포함하여 이루어진, 머신비전 기반 피검사체 표면 결함 자동 검출 시스템."}
{"patent_id": "10-2022-0141119", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서, 상기 비전검사장치는, 피검사체의 전면을 촬영하는 전면 카메라와,피검사체의 전면 표면의 굴곡에 대응하여 레이저 거리 값으로 실시간 오토 포커싱을 수행하는 전면 오토포커싱스캐너와,피검사체의 측면을 촬영하는 측면 카메라와,피검사체의 측면 표면의 굴곡에 대응하여 레이저 거리 값으로 실시간 오토 포커싱을 수행하는 측면 오토포커싱스캐너를 포함하는, 머신비전 기반 피검사체 표면 결함 자동 검출 시스템."}
{"patent_id": "10-2022-0141119", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서, 상기 비전검사 알고리즘은 피검사체의 외관검사의 속도, 외관검사 정밀도, 표면 홀 검사, 표면이물 검사, 표면 찍힘 검사, 표면 긁힘 검사, 양품 및 불량품 검사의 정밀도, 결함 자동 검출의 정확도, 불량예측 모델의 정확도를 측정하여 제어장치의 표시장치를 통해 표출하는, 머신비전 기반 피검사체 표면 결함 자동검출 시스템."}
{"patent_id": "10-2022-0141119", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서, 상기 비전검사 알고리즘은 비전검사장치에서 검사하여 획득된 영상이미지로부터 콘트라스트(Contrast)를 조정하고 잔상을 제거한 후 이진화된 영상의 얼룩(Blob) 면적을 구한 다음에 양품 또는 불량품의계산 및 판단 결과를 출력하는 스크래치 검출알고리즘과,비전검사장치에서 검사하여 획득된 영상이미지로부터 콘트라스트(Contrast)를 조정하고 잔상을 제거한 후 이진화된 영상의 얼룩(Blob) 면적을 구한 다음에 그라데이션(Gradation)이 있는 영상이미지에서 이물 및 흑점을 검출하여 검출된 이물을 출력하는 이물/흑점 검출알고리즘과,비전검사장치에서 검사 영역 내에서 평균들의 표준편차를 구한 후 양품에 대한 범위(Range)를 설정하고, 그 범위를 벗어나는 평균값을 가지는 영역을 불량품으로 판정하여 출력하는 표준편차 검출알고리즘과,비전검사장치에서 검사하여 획득되어 서브 픽셀(Sub Pixel)이 적용된 영상이미지에서 확대된 영상이미지로부터공개특허 10-2024-0030907-3-일정 개수의 픽셀을 이용하여 일차 미분방식으로 에지(Edge)를 검출하는 에지 검출알고리즘을 포함하는, 머신비전 기반 피검사체 표면 결함 자동 검출 시스템."}
{"patent_id": "10-2022-0141119", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서, 상기 전면 검사데이터 처리장치와 측면 검사데이터 처리장치는 비전검사장치에서 획득된 영상이미지를 일정 간격 및 픽셀로 분할하여 이미지 처리하는, 머신비전 기반 피검사체 표면 결함 자동 검출시스템."}
{"patent_id": "10-2022-0141119", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제1항에 있어서, 상기 비전검사 알고리즘은 비전검사장치에서 획득된 영상이미지로부터 피검사체의 생산일자,검사 유형, 불량발생 유형을 포함하는 검사 결과데이터를 검사데이터 저장장치에 저장할 수 있도록 데이터베이스(DB)를 구축하는, 머신비전 기반 피검사체 표면 결함 자동 검출 시스템."}
{"patent_id": "10-2022-0141119", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서, 상기 검사 유형으로 정밀도, 이물질, 찍힘, 긁힘, 홀을 포함하는 항목별 유형으로 분류하여 해당 이미지를 데이터베이스로 구축하는, 머신비전 기반 피검사체 표면 결함 자동 검출 시스템."}
{"patent_id": "10-2022-0141119", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제1항에 있어서, 상기 비전검사 알고리즘은 검사공정에서 획득된 데이터로부터 피검사체의 불량 여부를 예측하기 위한 학습데이터를 딥러닝을 통해 예측모델을 구현하되, 학습데이터는 불량이 발생된 해당 일자의 누적데이터를 대상으로 날짜, 모델번호, 상태 및 결함요소를 포함하는 변수에 따라 불량이 발생하는지를 의사결정 트리모델을 활용하여 추정하고, 상기 딥러닝은 복수의 샘플이미지를 입력하여 결함 유형별로 학습데이터를 라벨링하며, 딥러닝 알고리즘으로 학습을 수행하여 제조 현장에서의 최적화를 위한 검사모델을 생성하고, 검사를 원하는이미지를 입력하여 검사결과를 표시장치를 통해 표출하는, 머신비전 기반 피검사체 표면 결함 자동 검출시스템."}
{"patent_id": "10-2022-0141119", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제1항에 있어서, 상기 표시장치는 대시보드의 형태로 모니터링 환경을 통해 name node 및 data node 시스템의정보를 제공하고, Map/Reduce 작업 개수 및 프로그램의 성공/실패 정보 제공하며, 시스템의 진행 상황의 모니터링과 로그/이벤트를 추적할 수 있도록 하는, 머신비전 기반 피검사체 표면 결함 자동 검출 시스템."}
{"patent_id": "10-2022-0141119", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제1항에 있어서, 상기 비전검사 알고리즘은 전면 검사데이터 처리장치와 측면 검사데이터 처리장치를 거쳐 평활화된 검사이미지를 설정된 기준이미지와의 차이를 계산하고, 계산된 차이 값에 오프셋(Offset)과 문턱(Threshold) 값을 입력한 다음, 오프셋과 문턱 값으로부터 픽셀 값 차이를 판단한 후, 픽셀 값의 차이가 설정된범위 이내이면 양품으로 판정하고, 픽셀 값의 차이가 설정된 범위 밖이면 불량품으로 판정하는, 머신비전 기반피검사체 표면 결함 자동 검출 시스템."}
{"patent_id": "10-2022-0141119", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 피검사체의 품질관리를 위하여 피검사체를 특정 위치에서 촬영한 후 영상데이터를 획득하고, 비전검사 알고리즘에 따라 촬영한 이미지와 설계데이터 값을 비교 및 분석하여 피검사체의 찍힘, 긁힘, 교정자국 및 변형 또는 이물질 검출 등 피검사체의 불량 여부를 판단할 수 있는 머신비전 기반 피검사체 표면 결함 자동 검출 시스 (뒷면에 계속)"}
{"patent_id": "10-2022-0141119", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 머신비전 기반 피검사체 표면 결함 자동 검출 시스템에 관한 것으로, 더욱 상세하게는 피검사체의 품 질관리를 위하여 피검사체를 특정 위치에서 촬영한 후 영상데이터를 획득하고, 비전검사 알고리즘에 따라 촬영 한 이미지와 설계데이터 값을 비교 및 분석하여 피검사체의 찍힘, 긁힘, 교정자국 및 변형 또는 이물질 검출 등 피검사체의 불량 여부를 판단할 수 있는 머신비전 기반 피검사체 표면 결함 자동 검출 시스템에 관한 것이다."}
{"patent_id": "10-2022-0141119", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "일반적으로 각종 기술의 발전에 따라 다양한 형태의 물품을 다양한 방법으로 생산하는 것이 가능해졌다. 예를 들어, 종래에는 절삭이나 연삭을 통해 원하는 형태의 외형을 갖춘 물품을 생산할 수 있었다. 또한, 다양한 재질로 이루어진 금속 주형에 액상의 재료, 예를 들면 액상 플라스틱을 주입한 후 이를 냉각, 사 출하여 부품을 형성하는 이른바 플라스틱 사출방법도 활용되고 있다. 한편, 인구의 증가와 시장의 성장에 대응 하기 위하여, 물품을 제조하는 제조업자들은 저렴한 비용으로 다양한 물품을 생산하여야 하는 과제에 직면하게 되었다. 특히, 각종 제품들의 사용 주기가 점차 짧아짐에 따라 물품의 대량생산 설비를 갖추어야 하는 시간도 짧아지게 되었다. 여기서, 신속한 대량생산과 함께 제조업자들에게 주어진 또 다른 과제로는 생산된 물품의 수율을 유지하는 것이 있다. 수공업에 의해서 제품이 생산되던 시기에는 노동자가 직접 모든 생산 작업을 수행 및 통제하였기 때문에 동일한 물품에 대한 설계에도 불구하고 노동자 개개인의 숙련도나 피로도 등의 다양한 환경적 요인에 의해서 물 품의 품질을 일관성 있게 유지하는 것이 현실적으로 불가능하였다. 또한, 기계에 의한 대량 자동생산 시대가 열린 이후로 제조에서의 균일성은 상당 부분 획득할 수 있게 되었으나, 각 물품의 생산 및 조립 과정에서 발생하는 다양한 기계적 오류 및 물품의 불량 여부에 대한 검사는 여전히 노동자들이 일일이 육안으로 검사하는 방법이 활용되고 있어 비용이 많이 들 뿐만 아니라 수공업 제품 생산 시대의 문제점과 마찬가지로 노동자 개개인의 숙련도나 피로도 또는 개개인의 기준의 상이함으로 인해 제 품의 품질을 판단하는 일관적인 기준이 적용되지 않을 수 있는 문제점이 여전히 남아 있다. 또한, 품질에 대한 소비자들의 기준도 나날이 높아지고 있어, 물품을 생산함에 있어서 제조업자들은 물품의 생산 및 조립 공정에서, 중간 과정 및 최종 조립 완료 과정에서 불량품을 제거하기 위한 노력을 기울이고 있는 실정이다. 이러한 노력의 일환으로, 조립 공정에서는 다양한 검사장비를 이용하여 물품이 기준 품질을 만족시키는지의 여 부를 판단하고, 품질이 불량한 것으로 판단되는 중간 조립품을 사전에 제거함으로써 최종 완성품에 대한 높고 균일한 품질을 유지하여 높은 수율을 얻어내는 것이 하나의 과제로 되어 있다. 상기에서 물품의 제조 과정에서 발생하는 중간 물품 또는 최종 완성품의 검사 방법을 보다 상세히 살펴보면, 산 업 현장에서 현재 활용되고 있는 방법은 검사 대상이 되는 물품에 대해서 촬영장비를 이용하여 영상을 촬영하고, 촬영된 영상을 검사를 수행하는 노동자들이 수작업을 통해 하나하나 확인하는 과정을 거치는 방법이 있다. 이러한 방법은 숙련된 작업자의 육안으로 검사하는 과정에서 작업자의 피로도 증가와 실수로 인한 불량품 검사 정확도에 한계가 발생하고, 제품의 품질이 저하되며, 제품별 검사이력 정보가 누락되고, 제품별 주요 불량 요인의 분석과 원인에 대한 판단이 불가능하며, 작업자 및 업무의 효율성을 측정하는 것이 불가능하다는 문제가 있었다. 선행기술문헌 특허문헌 (특허문헌 0001) 대한민국 등록특허공보 제10-1380653호(2014.04.04., 공고) (특허문헌 0002) 대한민국 등록특허공보 제10-1012139호(2011.02.07., 공고) (특허문헌 0003) 대한민국 공개특허공보 제10-2015-0138917호(2015.12.11., 공개) (특허문헌 0004) 대한민국 등록특허공보 제10-1611823호(2016.04.12., 공고) (특허문헌 0005) 대한민국 등록특허공보 제10-2121142호(2020.06.10., 공고)"}
{"patent_id": "10-2022-0141119", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 상기 문제를 해결하기 위하여, 설정된 복수의 위치에서 비전검사장치로 피검사체를 촬영하여 영상을 획득하고, 비전검사 알고리즘을 통한 설계된 이미지와 영상처리 후 이미지를 비교 분석하여 피검사체에 대한 표 면의 찍힘, 긁힘, 교정자국 및 변형 또는 이물질 검출 등으로부터 피검사체의 표면 결함 여부를 판단하기 위한 것이 목적이다. 또한, 본 발명은 피검사체의 검사품질 안정성과 결함검출의 민감성을 향상시켜 결함에 대한 신속한 대응이 가능 하도록 하고, 피검사체의 검사항목의 다양성을 확보하기 위한 것이다른 목적이다. 또한, 본 발명은 피검사체의 표면결함의 검사결과 신뢰도를 개선하여 피검사체의 결함 발생 때에 신속한 대응체 계의 구축으로 생산 효율성 및 품질향상과 관리의 편의성을 증대시키기 위한 것이 또 다른 목적이다."}
{"patent_id": "10-2022-0141119", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명은 상기 목적을 달성하기 위하여, 피검사체의 모델별 바코드데이터를 읽어 들이는 바코드스캐너; 상기 피검사체의 전면 및 측면을 촬영하여 검사하는 비전검사장치; 상기 비전검사장치에서 검사한 피검사체의 전면 검사데이터를 처리하는 전면 검사데이터 처리장치; 상기 비전검사장치에서 검사한 피검사체의 측면 검사데이터 를 처리하는 측면 검사데이터 처리장치; 상기 피검사체의 바코드데이터와 전면 검사데이터 및 측면 검사데이터 를 비전검사 알고리즘의 수행으로 피검사체의 불량 여부를 비교 판단하여 양품 또는 불량품 검사데이터를 생성 하고, 피검사체를 검사하는 검사설비를 제어하며, 피검사체의 검사결과를 가시적인 정보데이터로 표출하는 표시 장치를 제어하고, 불량품으로 판정된 피검사체를 제거하는 불량품 제거장치를 제어하는 제어장치; 상기 제어장 치에서 생성된 피검사체의 양품 또는 불량품 여부를 포함하는 검사데이터를 저장하는 검사데이터 저장장치를 포 함하여 이루어진 머신비전 기반 피검사체 표면 결함 자동 검출 시스템을 제공한 것이 특징이다. 또한, 본 발명에서, 상기 비전검사장치는, 피검사체의 전면을 촬영하는 전면 카메라와, 피검사체의 전면 표면의 굴곡에 대응하여 레이저 거리 값으로 실시간 오토 포커싱을 수행하는 전면 오토포커싱 스캐너와, 피검사체의 측 면을 촬영하는 측면 카메라와, 피검사체의 측면 표면의 굴곡에 대응하여 레이저 거리 값으로 실시간 오토 포커 싱을 수행하는 측면 오토포커싱 스캐너를 포함할 수 있다. 또한, 본 발명에서, 상기 비전검사 알고리즘은 피검사체의 외관검사의 속도, 외관검사 정밀도, 표면 홀 검사, 표면 이물 검사, 표면 찍힘 검사, 표면 긁힘 검사, 양품 및 불량품 검사의 정밀도, 결함 자동 검출의 정확도, 불량 예측 모델의 정확도를 측정하여 제어장치의 표시장치를 통해 표출할 수 있다. 또한, 본 발명에서, 상기 비전검사 알고리즘은 비전검사장치에서 검사하여 획득된 영상이미지로부터 콘트라스트 (Contrast)를 조정하고 잔상을 제거한 후 이진화된 영상의 얼룩(Blob) 면적을 구한 다음에 양품 또는 불량품의 계산 및 판단 결과를 출력하는 스크래치 검출알고리즘과, 비전검사장치에서 검사하여 획득된 영상이미지로부터 콘트라스트(Contrast)를 조정하고 잔상을 제거한 후 이진화된 영상의 얼룩(Blob) 면적을 구한 다음에 그라데이 션(Gradation)이 있는 영상이미지에서 이물 및 흑점을 검출하여 검출된 이물을 출력하는 이물/흑점 검출알고리 즘과, 비전검사장치에서 검사 영역 내에서 평균들의 표준편차를 구한 후 양품에 대한 범위(Range)를 설정하고, 그 범위를 벗어나는 평균값을 가지는 영역을 불량품으로 판정하여 출력하는 표준편차 검출알고리즘과, 비전검사 장치에서 검사하여 획득되어 서브 픽셀(Sub Pixel)이 적용된 영상이미지에서 확대된 영상이미지로부터 일정 개 수의 픽셀을 이용하여 일차 미분방식으로 에지(Edge)를 검출하는 에지 검출알고리즘을 포함할 수 있다. 또한, 본 발명에서, 상기 전면 검사데이터 처리장치와 측면 검사데이터 처리장치는 비전검사장치에서 획득된 영 상이미지를 일정 간격 및 픽셀로 분할하여 이미지 처리할 수 있다. 또한, 본 발명에서, 상기 비전검사 알고리즘은 비전검사장치에서 획득된 영상이미지로부터 피검사체의 생산일자, 검사 유형, 불량발생 유형을 포함하는 검사 결과데이터를 검사데이터 저장장치에 저장할 수 있도록데이터베이스(DB)를 구축할 수 있다. 또한, 본 발명에서, 상기 검사 유형으로 정밀도, 이물질, 찍힘, 긁힘, 홀을 포함하는 항목별 유형으로 분류하여 해당 이미지를 데이터베이스로 구축할 수 있다. 또한, 본 발명에서, 상기 비전검사 알고리즘은 검사공정에서 획득된 데이터로부터 피검사체의 불량 여부를 예측 하기 위한 학습데이터를 딥러닝을 통해 예측모델을 구현하되, 학습데이터는 불량이 발생된 해당 일자의 누적데 이터를 대상으로 날짜, 모델번호, 상태 및 결함요소를 포함하는 변수에 따라 불량이 발생하는지를 의사결정 트 리모델을 활용하여 추정하고, 상기 딥러닝은 복수의 샘플이미지를 입력하여 결함 유형별로 학습데이터를 라벨링 하고, 딥러닝 알고리즘으로 학습을 수행하여 제조 현장에서의 최적화를 위한 검사모델을 생성하며, 검사를 원하 는 이미지를 입력하여 검사결과를 표시장치를 통해 표출할 수 있다. 또한, 본 발명에서, 상기 표시장치는 대시보드의 형태로 모니터링 환경을 통해 name node 및 data node 시스템 의 정보를 제공하고, Map/Reduce 작업 개수 및 프로그램의 성공/실패 정보 제공하며, 시스템의 진행 상황의 모 니터링과 로그/이벤트를 추적할 수 있다. 또한, 본 발명에서, 상기 비전검사 알고리즘은 전면 검사데이터 처리장치와 측면 검사데이터 처리장치를 거쳐 평활화된 검사이미지를 설정된 기준이미지와의 차이를 계산하고, 계산된 차이 값에 오프셋(Offset)과 문턱 (Threshold) 값을 입력한 다음, 오프셋과 문턱 값으로부터 픽셀 값 차이를 판단한 후, 픽셀 값의 차이가 설정된 범위 이내이면 양품으로 판정하고, 픽셀 값의 차이가 설정된 범위 밖이면 불량품으로 판정할 수 있다."}
{"patent_id": "10-2022-0141119", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따르면, 생산된 피검사체의 최종 검수를 수행함에 있어 검사시간 및 비용을 대폭 절감하고 공정라인 의 생산성 및 관리의 편의성을 증대하여 제조 공정을 개선하고, 피검사체의 생산단가를 획기적으로 절감할 수 있는 비전검사 기술의 기반을 마련하여 제품화의 완성도를 한층 고양할 수 있으며, 피검사체에 대한 제반의 검 사기록에 따른 통계자료의 제공으로 최적화된 품질자료의 획득과 피검사체에 대한 추적관리가 가능하여 품질데 이터의 기록 및 관리가 용이하고, 피검사체의 제조 단계에서 완성까지 원스톱(One-Stop)의 품질검사가 가능하여 품질의 만족도가 증대되며, 비전검사의 신속성, 안정성 및 검사결과의 축적을 통한 생산 및 제조 공정의 빅데이 터화로 스마트공장 구현이 가능하고, 생산 공정의 모니터링을 통해 공정 능력의 지수 변화를 즉각 감지하며, 이 상 발생 때에 등록, 통보, 처리 등의 이상 요인을 처리하는 시간을 단축할 수 있어 공정 가동률이 향상되고, 공 정 데이터에 대한 다차원 분석을 통해 품질문제를 사전에 감지하여 불량률 개선을 통한 생산 효율을 증대시키며, 피검사체의 사출 금형의 데이터, 불량데이터를 취득하고 분석하여 불량이 발생하지 않는 최적의 공 정변수의 조합을 도출할 수 있어 공정변수의 재조합에 따른 시간 및 비용을 절감할 수 있는 이점이 있다."}
{"patent_id": "10-2022-0141119", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하 본 발명에 따른 머신비전 기반 피검사체 표면 결함 자동 검출 시스템에 관한 실시 예를 첨부된 도면을 참 조하여 상세하게 설명한다. 도 1에서, 비전검사장치는 피검사체의 전면 및 측면을 촬영하여 검사하기 위한 것으로, 피검사체로서 각종 전자제품을 구성하는 부품이나 부속품들의 외관 결함을 검사하는 것이다. 도 2에서, 비전검사장치는 검사설비의 상부에 설치된 전면 카메라와 검사설비의 측부에 설치된 측면 카메라로 검사설비의 정렬 컨베이어를 따라 일정 속도로 이동하는 피검사체의 전면 및 측 면의 해당 표면을 촬영하여 실시간을 통한 영상데이터를 획득한다. 전면 오토포커싱 스캐너는 피검사체 의 전면의 표면 굴곡에 대응하여 레이저 거리 값으로 실시간 오토포커싱을 수행하여 전면 카메라의 포커싱 을 자동으로 조절한다. 그리고 측면 오토포커싱 스캐너는 피검사체의 측면 표면의 굴곡에 대응하여 레이 저 거리 값으로 실시간을 통해 오토포커싱을 수행하여 측면 카메라의 포커싱을 자동으로 조절한다. 또한, 검사설비에 유입된 피검사체가 고정된 상태에서 전면 카메라 및 전면 오토포커싱 스캐너와 측면 카메라 및 측면 오토포커싱 스캐너가 각각 피검사체의 전면과 측면을 이동하면서 영상데이터를 획득 할 수도 있을 것이다. 더욱이 전면 오토포커싱 스캐너와 측면 오토포커싱 스캐너가 레이저를 주사하여 피검사체의 전면과 측면을 스캔하는 동안 전면 오토포커싱 스캐너와 측면 오토포커싱 스캐너에서 검출된 레이저의 거리 값 을 이용하여 실시간 오토포커싱으로 스캔할 때 피검사체의 굴곡에 대응하여 저속의 영상데이터를 획득할 수 있다. 또한, 복수의 전면 오토포커싱 스캐너와 측면 오토포커싱 스캐너가 상부와 하부에 복수로 설치된 경우에는 2점의 레이저 거리 값으로 기울기를 계산한 후 Z축에 설치된 전면 카메라와 측면 카메라로 전 면과 측면의 표면 굴곡에 대응하지 못하더라도 단축된 스캔시간으로 영상데이터를 획득할 수 있을 것이다. 또한, 검사설비의 정렬 컨베이어는 피검사체의 모델별로, 대략 ±5mm 이내의 오차범위로 센터 기준 정렬이 가능하도록 설치될 수 있다. 바코드스캐너는 피검사체의 모델별 바코드데이터를 읽어 들이는 것으로, 피검사체의 표면에 부착된 바코드를 읽어 피검사체의 모델별 또는 부품별로 구분하거나 분류할 수 있을 것이다. 또한, 바코드스캐너 는 피검사체에 모델별 또는 부품별 해당 정보를 포함하는 QR코드가 부착된 경우에 QR코드데이터를 읽어 들일 수 있는 QR코드스캐너 기능을 포함할 수 있을 것이다. 전면 검사데이터 처리장치는 비전검사장치에서 검사한 피검사체의 전면 검사데이터를 처리하는 것으 로, 획득된 영상데이터를 변환하여 처리하는 프로그램이 내장된 PC일 수 있다. 또, 측면 검사데이터 처리장치 는 비전검사장치에서 검사한 피검사체의 측면 검사데이터를 처리하는 것으로, 획득된 영상데이터를 변환하여 처리하는 프로그램이 내장된 PC일 수 있다. 제어장치는 바코드스캐너, 전면 검사데이터 처리장치 및 측면 검사데이터 처리장치에서 각각 입력된 피검사체의 바코드데이터와 전면 검사데이터 및 측면 검사데이터를 내장된 비전검사 알고리즘의 수행 으로 피검사체의 불량 여부를 구축된 데이터베이스에 설계된 이미지와 비교 판단하여 양품 또는 불량품 검사 데이터를 생성한다. 제어장치는 피검사체를 검사하는 검사설비의 작동을 제어하고, 검사결과로서 불 량품으로 판정된 피검사체를 분리 제거하는 불량품 제거장치의 작동을 제어한다. 제어장치는 바코드 스캐너, 전면 검사데이터 처리장치 및 측면 검사데이터 처리장치에서 입력된 데이터를 내장된 비전 검사 알고리즘으로 검사하는 PC 또는 서버일 수 있다. 또한, 표시장치는 제어장치에서 출력된 검사결과를 가시적인 정보데이터로 표출하는 것이다. 검사데이터 저장장치는 제어장치에서 생성된 피검사체의 양품 또는 불량품 여부를 포함하는 검사데 이터를 저장하는 것이다. 검사데이터 저장장치에는 비전검사장치, 검사설비, 바코드스캐너, 전 면 검사데이터 처리장치, 측면 검사데이터 처리장치, 불량품 제거장치의 제어를 위한 프로그램이 저장되고, 제어장치로 입출력되는 데이터, 즉, 비전검사장치에서 입력되는 영상데이터, 검사설비로 출력되어 제어데이터, 바코드스캐너에서 입력되는 바코드데이터, 전면 검사데이터 처리장치 및 측면 검 사데이터 처리장치의 검사데이터, 그리고 불량품 제거장치로 출력되는 제어데이터 등을 저장한다. 도 3에서, 전면 검사데이터 처리장치와 측면 검사데이터 처리장치에는 비전검사장치에서 획득된 영 상이미지를 일정 간격 및 픽셀로 분할하여 이미지 처리하는 영상처리 프로그램이 내장된다. 영상처리 프로그램 은 예를 들어, 피검사체의 전체 실제 검사영역(Field Of View, FOV)으로 간격이 368mm로 해상도는 4096pixel이고, 간격이 358mm로 해상도는 3388pixel의 검사 유효부분으로 검사할 수 있으며, 라인의 검사 속도 는 초당 300mm로 영상처리 프로그램은 최대 13M의 검사가 가능할 것이다. 또한, 영상처리 프로그램이 설치된 PC 의 운용능력은 2대의 전면 카메라나 측면 카메라로부터 초당 72M의 검사가 가능하고, 4K 라인 검사 속 도는 시간당 3.3Km일 수 있으며, 180um이상의 검출 때에 대략 초당 300mm의 검출이 가능한 것이 좋다. 본 발명에서, 제어장치에 내장된 비전검사 알고리즘은 피검사체의 외관검사의 속도, 외관검사 정밀도, 표면 홀 검사, 표면 이물 검사, 표면 찍힘 검사, 표면 긁힘 검사, 양품 및 불량품 검사의 정밀도, 결함 자동 검 출의 정확도, 불량 예측 모델의 정확도 등을 측정하여 제어장치에 연결된 표시장치를 통해 표출하고, 검사데이터 저장장치에 그 결과 값을 저장한다. 외관검사의 속도는 피검사체를 전면 카메라와 측면 카메라를 이용하여 촬영한 시점부터 표시장치 의 화면에 검사 결과를 표출하기까지의 소요 시간을 측정한다. 외관검사 속도는 대략 30초 이내이다. 외관검사의 정밀도는 피검사체에 홀, 이물질, 찍힘, 긁힘 등의 결함을 검사하고, 검사 결과가 완료되었을 때 불량 인식개수를 확인함으로써 검사정밀도를 산출한다. 그리고 피검사체에 대하여 외관을 검사한 결과 값을 판정한 전체 값 중에서 분해능이 대략 200um 이상의 결과 값으로 판정한 성공률을 측정한다. 외관검사 정밀도의 성공률은 대략 90% 이상이다. 표면 홀 검사는 피검사체의 표면에 가공된 대략 20mm 이상의 표면 홀을 검출하여 그 결과를 표시장치의 화면에 표출하는지를 확인한다. 표면 이물 검사는 피검사체의 표면에 얼룩(Blob)이나 그라데이션(Gradation) 등이 대략 0.5mm 이상의 이물질 을 검출하여 그 결과를 표시장치의 화면에 표출하는지를 확인한다. 표면 찍힘 검사는 피검사체의 표면에 대략 0.5mm 이상의 찍힘을 검출하여 그 결과를 표시장치의 화면에 표출하는지를 확인한다. 표면 긁힘 검사는 피검사체의 표면에서 획득한 영상데이터를 기반으로 하여 콘트라스트(Contrast)를 조정하 여 잔상을 제거하고, 이진화된 영상의 얼룩 면적을 이용하여 대략 폭 0.5mm 이상, 길이 10mm 이상의 긁힘을 검출하고, 그 결과를 표시장치의 화면에 표출하는지를 확인한다. 또한, 양품 및 불량품 검사의 정밀도는 피검사체의 외관검사 정밀도를 시험한 후에 정밀도 결과를 기준으로 대략 95% 이상이면 양품으로 판정하고, 대략 95% 미만이면 불량품으로 판정하는지를 확인한다. 결함 자동 검출의 정확도는 피검사체의 표면 홀, 이물질, 찍힘, 긁힘을 검사하여 검출한 결함과 실제 결함을 비교하여 정확도가 대략 95% 이상인지를 측정한다. 그리고 불량 예측 모델의 정확도는 제어장치의 비전검사 알고리즘에서 예측한 피검사체의 불량과 실제 피검사체의 불량을 비교하여 불량 예측 모델의 정확도가 대략 95% 이상인지를 측정한다. 한편, 도 4에서, 비전검사 알고리즘은 비전검사장치에서 검사하여 획득된 영상이미지로부터 콘트라스트 (Contrast)를 조정하고 잔상을 제거한 후 이진화된 영상의 얼룩(Blob) 면적을 구한 다음에 양품 또는 불량품의 계산 및 판단 결과를 출력하는 스크래치 검출알고리즘을 포함한다. 또한, 도 5에서, 비전검사 알고리즘은 비전검사장치에서 검사하여 획득된 영상이미지로부터 콘트라스트 (Contrast)를 조정하고 잔상을 제거한 후 이진화된 영상의 얼룩(Blob) 면적을 구한 다음에 그라데이션이 있는 영상이미지에서 이물 및 흑점을 검출하여 검출된 이물을 출력하는 이물/흑점 검출알고리즘을 포함한다. 또한, 도 6에서, 비전검사장치에서 검사 영역 내에서 평균들의 표준편차를 구한 후 양품에 대한 범위 (Range)를 설정하고, 그 범위를 벗어나는 평균값을 가지는 영역을 불량품으로 판정하여 출력하는 표준편차 검출 알고리즘을 포함한다. 또한, 도 7에서, 비전검사장치에서 검사하여 획득되어 서브 픽셀(Sub Pixel)이 적용된 영상이미지에서 확대 된 영상이미지로부터 일정 개수의 픽셀을 이용하여 일차 미분방식으로 에지(Edge)를 검출하는 에지 검출알고리 즘을 포함한다. 즉, 도 7에 도시된 바와 같이 비전검사장치에서 획득된 서브 픽셀(Sub Pixel)은 y축이 Pixel 값이고, x축이 Pixel 위치인 그래프에서 기울기가 가장 큰 지점일 수 있다. 즉, 서브 픽셀 적용구간에서 에지를 검출하는 에지 검출 알고리즘이 도출될 수 있다. 도 8에서, 비전검사 알고리즘은 비전검사장치에서 획득된 영상이미지로부터 피검사체의 생산일자, 검사 유 형, 불량발생 유형을 포함하는 검사 결과데이터를 검사데이터 저장장치에 저장할 수 있도록 데이터베이스 (DB)를 구축한다. 그리고 검사 결과데이터로서 검사 유형은 정밀도, 이물질, 찍힘, 긁힘, 홀 등을 포함하는 항 목별 유형으로 분류하여 촬영된 영상데이터와 비교하기 위하여 해당하는 설계된 이미지를 데이터베이스로 구축 하는 것이다. 이러한 데이터베이스의 구축으로 도 9의 샘플 예를 참조할 수 있다. 한편, 본 발명에서, 피검사체의 품질 문제를 해소하기 위하여 현장에서 생성되는 데이터 셋(Data Set)을 이용하 여 분석할 수도 있다. 즉, 검사데이터들 사이의 상관관계를 찾고 다양한 알고리즘을 활용하여 피검사체의 불 량 예측모델을 학습할 수 있을 것이다. 데이터 셋은 비전검사장치를 통해 일별, 유형별 불량을 학습한 데이 터이고 다양한 확장자의 변수를 수집한다. 학습데이터는 생산 환경의 온도 및 습도 정보, 비전검사장치의 정보 및 공정별 PLC 정보, 제품의 제조연월일, 생산 시간 등이다. 데이터 셋의 분석을 위한 알고리즘으로, 출력값을 입력값과 근사하게 모델을 학습시키는 오토 인코더 알고리즘, 분류를 위해 다수의 신경망을 연속적으로 쌓고, 최종적으로 각 클래스별 확률을 출력하도록 각 신경망의 모수를 업데이트하는 심층신경망(Deep Neural Network) 모델, 기계학습 분야 중의 하나로 패턴 인식, 자료 분석을 위한 지도학습 모델이며, 주로 분류와 회귀 분석을 위해 사용하는 서포트 벡터 머신(Support Vector Machine, SVM)을 포함할 수 있다. 보다 향상된 분류를 위해서 어떤 분류된 점에 대해서 가장 가까운 학습 데이터와 가장 먼 거리를 가지는 초평면을 찾는 것이 바람직하다. 도 10에서, 데이터 셋의 구축을 위한 생성 및 학습 분류 및 검출을 도식화한 것으로, 양·불량의 검사데이터를 입력한 후 데이터를 압축하고 변환하여 특징을 추출 및 학습을 수행하고, 복수의 데이터를 분석하여 불량을 분 류하고 검출한다. 또한, 데이터 셋의 구축은 정밀도, 표면 홀 검사, 표면 이물질 검사, 표면 찍힘 검사, 표면 긁힘 검사 등의 검 사 유형별로 스캔된 이미지를 항목별로 분류하여 구축한다. 도 11에서, 데이터 셋의 구축과정을 도식화한 것으로, 이미지로 이루어진 데이터를 로딩하여 이미지를 분류하고, 분류된 이미지를 라벨링하여 모델을 생성하고 테스트한다. 그리고 도 12는 검사 결과에 대한 유형별 분류를 적용한 예를 나타낸 것이다. 예컨대, 도 12에 도시된 바와 같이, 검사 결과의 데이터가 다수 유형의 그래프를 통해 시각화될 수 있다. 도 13에서, 인공지능(AI) 기반의 분석을 위하여 데이터의 수집, 저장, 교환, 보안 등의 통합데이터 관리 플랫폼 아키텍처를 설계하여 피검사체의 제조공정에서 발생하는 대량의 정형 및 비정형 데이터를 분석하고 저장하여 제공한다. 즉, 빅데이터 관리 플랫폼의 아키텍처의 논리구조는 소스(Source)가 되는 데이터를 저장소에 저장하 고, 저장된 데이터를 일괄 처리(Batch Processing)하며, 소스 데이터를 실시간으로 유입되는 메시지를 스트림 처리(Stream Processing)하고, 처리된 데이터들을 분석데이터 저장소에 저장한다. 다음으로, 비전검사 알고리즘은 검사공정에서 획득된 데이터로부터 피검사체의 불량 여부를 예측하기 위한 학습데이터를 딥러닝(Deep Learning)을 통해 예측모델을 구현한다. 학습데이터는 불량이 발생된 해당 일자의 누 적데이터를 대상으로 날짜, 모델번호, 상태 및 결함요소를 포함하는 변수에 따라 불량이 발생하는지를 의사결정 트리모델을 활용하여 추정한다. 또한, 비전검사 알고리즘에서 최적제어 변수를 도출하는 방법으로, 공정 모델에서 발생하는 로그 데이터를 비전 검사장치에 포함된 센서를 통해 데이터를 취득하고, 데이터 매니저가 데이터를 전처리한 후 경험적 데이터 와 노하우를 기반으로 개선된 공정 변수를 포함하는 모델을 제안할 수 있다. 또한, 공정변수 제어모델로서, 네 가지 분류 모델의 투표를 통해 최적 공정 변수 지역(Process Window)을 도출하는 앙상블 분류모델을 적용할 수 있다. 최적 공정 변수 지역이란 불량이 발생하는 변수의 여백 경계(Margin Border)를 정의하고 불량이 발생하지 않는 최적 공정 변수의 조합 지역 앙상블 분류모델이다. 또한, 도 14에서, 딥러닝을 이용하여 피검사체의 결함을 검출하는 알고리즘으로, 딥러닝은 복수의 샘플이미 지를 입력하여 결함 유형별로 학습데이터를 라벨링하고, 딥러닝 알고리즘으로 학습을 수행하여 제조 현장에서의 최적화를 위한 검사모델을 생성하며, 검사를 원하는 이미지를 입력하여 검사결과를 표시장치를 통해 표출한 다. 도 15에서, 피검사체의 사출 금형 외관을 비전 모니터링하여 적용한 예를 나타낸 것으로, 학습을 통하여 검 사에 필요한 요구조건을 모두 만족하는 모델이 생성되면 실제 제조 현장에서 외관 품질을 모니터링하기 위한 시 스템을 구축한다. 대시보드(Dashboard) 형태의 모니터링 환경을 통해 name node 및 data node 시스템의 정보를 제공한다. 그리고 Map/Reduce 작업 개수 및 프로그램의 성공/실패 정보 제공하고, 시스템 진행 상황 모니터링 및 로그/이벤트를 추적할 수 있다. 이와 같이 이루어진 본 발명에 따른 머신비전 기반 피검사체 표면 결함 자동 검출 시스템에서 비전검사 알고리 즘의 실시 예를 도 16 및 도 17을 참조하여 설명한다. 본 발명은 모니터링 플랫폼으로 머신비전 기반의 생활가전 품질관리를 위한 모니터링 시스템의 하드웨어를 구성 할 인프라를 제공한다. 그리고 피검사체의 외형을 검사하는 광학 및 오토포커스(Auto-Focus) 검사 처리를 위 한 하드웨어를 제공하고, 피검사체를 사출할 금형의 외관 영상(Image)의 분할과 이미지 프로세싱(Image Processing) 검사를 위한 영상처리 알고리즘 기술을 제공한다. 도 16에서, 피검사체를 비전검사장치의 검사로부터 양품과 불량품으로 구분하여 분류하는 흐름도로, 검 사설비의 정렬 컨베이어에서 이동 중인 피검사체를 바코드스캐너, 비전검사장치의 전면 카 메라 및 전면 오토포커싱 스캐너와 측면 카메라 및 측면 검사데이터 처리장치에서 각각 바코드 를 촬영하고, 전면 및 측면의 영상데이터를 촬영한다(S1). 그리고 검사이미지가 획득되면(S2), 전면 검사데이터 처리장치와 측면 검사데이터 처리장치는 검사이미지를 평활화한다(S3). 그리고 제어장치의 비전검사 알 고리즘은 설정된 기준이미지와 검사이미지의 차이를 계산하고(S4), 여기에 오프셋(Offset)과 문턱(Threshold) 값을 입력한 다음(S5), 오프셋(Offset)과 문턱(Threshold) 값으로부터 픽셀 값 차이를 판단한다(S6). 따라서 픽 셀 값의 차이가 설정된 범위 이내이면 양품으로 판정하고(S7), 픽셀 값의 차이가 설정된 범위 밖이면 불량품으 로 판정한다(S8). 또한, 도 17에서, 피검사체를 비전검사장치의 검사로부터 불량을 검출하는 흐름도로, 전면 카메라와 측면 카메라에서 각각 촬영된 영상이미지가 입력되면(S11), 비전검사 알고리즘은 피라미드 이미지 기법과 경사연산자를 사용하여(S12), 강도 기울기의 크기와 방향을 획득한다(S13). 그리고 NTGST(Noise-Tolerant Generalized Symmetry Transform) 기반의 연산자를 적용하고(S14), 이로부터 대칭 크기 맵을 획득한다(S15). 대칭 크기 맵에서 피크, 즉 이물이나 흑점을 찾아(S16), 피검사체의 불량 검출을 완료한다(S17). 본 발명의 머신비전 기반 피검사체 표면 결함 자동 검출 시스템은 스마트팩토리 제조공정의 품질관리를 위한 것으로, 라인 스캔 카메라를 이용한 비전검사를 통하여 피검사체의 품질향상 및 불량품을 감소시키고, 비전검사알고리즘으로 피검사체의 양산 및 품질 안정화를 위한 기간을 단축시킬 수 있으며, 공정의 최적화에 따른 사이 클 타임을 단축시킬 수 있고, 생산 및 검사 정보의 빅데이터화가 가능한 장점이 있다. 이상의 설명에서 본 발명은 특정의 실시 예와 관련하여 도시 및 설명하였지만, 청구범위에 의해 나타난 발명의"}
{"patent_id": "10-2022-0141119", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "사상 및 영역으로부터 벗어나지 않는 한도 내에서 다양한 개조 및 변화가 가능하다는 것을 이 기술분야에서 통 상의 지식을 가진 자라면 누구나 쉽게 알 수 있을 것이다."}
{"patent_id": "10-2022-0141119", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명에 따른 실시 예로, 머신비전 기반 피검사체 표면 결함 자동 검출 시스템을 나타낸 블록도이다. 도 2는 본 발명에 따른 머신비전 기반 피검사체 표면 결함 자동 검출 시스템에서, 비전검사장치를 나타낸 블록 도이다. 도 3은 본 발명에 따른 머신비전 기반 피검사체 표면 결함 자동 검출 시스템에서, 이미지 프로세싱 검사 영상처 리를 개략적으로 나타낸 블록도이다. 도 4는 본 발명에 따른 머신비전 기반 피검사체 표면 결함 자동 검출 시스템에서, 스크래치 검출알고리즘을 나 타낸 예시도이다. 도 5는 본 발명에 따른 머신비전 기반 피검사체 표면 결함 자동 검출 시스템에서, 이물/흑점 검출알고리즘을 나 타낸 예시도이다. 도 6은 본 발명에 따른 머신비전 기반 피검사체 표면 결함 자동 검출 시스템에서, 표준편차 검출알고리즘을 나 타낸 예시도이다. 도 7은 본 발명에 따른 머신비전 기반 피검사체 표면 결함 자동 검출 시스템에서, 에지 검출알고리즘을 나타낸예시도이다. 도 8은 본 발명에 따른 머신비전 기반 피검사체 표면 결함 자동 검출 시스템에서, 데이터베이스의 구축을 샘플 링한 예시를 나타낸 도표이다. 도 9는 본 발명에 따른 머신비전 기반 피검사체 표면 결함 자동 검출 시스템에서, 외관 비전검사 데이터베이스 의 구축을 예시로 나타낸 도표이다. 도 10은 본 발명에 따른 머신비전 기반 피검사체 표면 결함 자동 검출 시스템에서, 데이터 셋의 구축을 위한 생 성 및 학습 분류 및 검출을 도식화한 것이다. 도 11은 본 발명에 따른 머신비전 기반 피검사체 표면 결함 자동 검출 시스템에서, 데이터 셋의 구축과정을 나 타낸 예시도이다. 도 12는 본 발명에 따른 머신비전 기반 피검사체 표면 결함 자동 검출 시스템에서, 검사결과에 따른 유형별 분 류를 적용한 예시도이다. 도 13은 본 발명에 따른 머신비전 기반 피검사체 표면 결함 자동 검출 시스템에서, 빅데이터 관리 플랫폼 아키 텍처의 논리구조를 나타낸 예시도이다. 도 14는 본 발명에 따른 머신비전 기반 피검사체 표면 결함 자동 검출 시스템에서, 딥러닝을 이용하여 사출 금 형 결함을 자동으로 검출하는 알고리즘을 나타낸 흐름도이다. 도 15는 본 발명에 따른 머신비전 기반 피검사체 표면 결함 자동 검출 시스템에서, 사출 금형의 외관 비전을 모 니터링한 결과를 나타낸 예시도이다. 도 16은 본 발명에 따른 머신비전 기반 피검사체 표면 결함 자동 검출 시스템에서, 피검사체를 비전검사장치의 검사로부터 양품과 불량품으로 구분하여 분류하는 흐름을 나타낸 예시도이다. 도 17은 본 발명에 따른 머신비전 기반 피검사체 표면 결함 자동 검출 시스템에서, 피검사체를 비전검사장치의 검사로부터 불량을 검출하는 흐름을 나타낸 예시도이다."}
