{"patent_id": "10-2021-7030998", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2021-0134355", "출원번호": "10-2021-7030998", "발명의 명칭": "피크 전력 소비의 제어 방법 및 시스템", "출원인": "베리실리콘 마이크로일렉트로닉스", "발명자": "장, 후이밍"}}
{"patent_id": "10-2021-7030998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "현재 전력 소비 통계 주기에서 제어될 모듈의 부하를 모니터링하여, 현재 전력 소비 통계 주기에서 각각의 모니터링 창구의 부하가 모두 부하 임계값을 초과할 경우 상기 제어될 모듈은 최저 피크 전력 소비 상태로 되어 최저 피크 전력 소비 상태와 대응되는 주파수 레벨을 기반으로 상기 제어될 모듈의 작동 클럭을 제어하는 단계;현재 전력 소비 통계 주기에서의 각각의 모니터링 창구의 부하가 모두 상기 부하 임계값 미만이고 부하 하한을초과할 경우, 현재 전력 소비 부하가 정상적인 전력 소비 상태이면 원래의 전력 소비 상태를 유지하고 주파수레벨도 그대로 유지하고; 현재 피크 전력 소비 상태가 정상적인 전력 소비 상태 미만이면 상기 제어될 모듈은일단계 상승된 레벨의 피크 전력 소비 상태로 되고 주파수 레벨도 일단계 상승되어 일단계 상승된 레벨의 피크전력 소비와 대응되는 주파수 레벨을 기반으로 상기 제어될 모듈의 작동 클럭을 제어하여 상기 제어될 모듈의부하를 증가하는 단계;현재 전력 소비 통계 주기에서 각각의 모니터링 창구의 부하가 모두 상기 부하 임계값 이상이 아니거나 또는 모두 상기 부하 임계값 이하가 아닐 경우 원래의 전력 소비 상태를 유지하고 주파수 레벨을 그대로 유지하여 상기제어될 모듈의 부하를 그대로 유지하는 단계;후속의 각 전력 소비 통계 주기에서 상기 제어될 모듈의 부하를 계속 모니터링하여 각 전력 소비 통계 주기에서부하 상태를 기반으로 상기 제어될 모듈의 작동 클럭의 주파수를 조정하여 상기 제어될 모듈의 피크 전력 소비가 부하 임계값을 초과하지 않은 정황하에 최고 주파수에서 작동하도록 하는 단계;를 포함하는 것을 특징으로하는 피크 전력 소비의 제어 방법."}
{"patent_id": "10-2021-7030998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 제어될 모듈이 복수의 부하 유닛을 포함할 경우 상기 제어될 모듈의 부하는 각각의 부하 유닛의 부하 가중치에 실제 부하를 곱한 값의 합인 것을 특징으로 하는 피크 전력 소비의 제어 방법."}
{"patent_id": "10-2021-7030998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,n개의 전력 소비 상태를 포함하되 전력 소비가 일단계 상승되면 상기 제어될 모듈의 부하를 상기 부하 임계값의1/n배 증가하며, n은 양의 정수인 것을 특징으로 하는 피크 전력 소비의 제어 방법."}
{"patent_id": "10-2021-7030998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,각각의 전력 소비 통계 주기는 모두 k개의 모니터링 창구를 포함하되, 현재 전력 소비 통계 주기에서 첫번째 모니터링 창구를 제거하고 k+1번째의 모니터링 창구를 추가하여 다음 전력 소비 통계 주기를 얻게 되고, 여기서 k는 3 이상의 양의 정수인 것을 특징으로 하는 피크 전력 소비의 제어 방법."}
{"patent_id": "10-2021-7030998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항 내지 제4항 중 어느 한 항에 있어서,현재 전력 소비 통계 주기에서 각각의 모니터링 창구의 부하가 모두 상기 부하 하한 미만일 경우 상기 작동 클럭의 주파수를 현재 전력 소비 상태와 대응되는 주파수 레벨에서 주파수 대역을 일단계 낮추는 단계를 더 포함하는 것을 특징으로 하는 피크 전력 소비의 제어 방법."}
{"patent_id": "10-2021-7030998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "공개특허 10-2021-0134355-3-제1항 내지 제4항 중 어느 한 항에 있어서,상기 제어될 모듈이 유휴 상태일 경우 상기 작동 클럭의 주파수를 최저 주파수로 낮추는 것을 특징으로 하는 피크 전력 소비의 제어 방법."}
{"patent_id": "10-2021-7030998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제1항에 있어서,AI 칩의 전력 소비를 제어하는데 사용되는 것을 특징으로 하는 피크 전력 소비의 제어 방법."}
{"patent_id": "10-2021-7030998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제1항 내지 제7항 중 어느 한 항에 따른 피크 전력 소비의 제어 방법을 기반으로 하는 피크 전력 소비의 제어시스템에 있어서,복수의 부하 유닛을 포함하는 제어될 모듈;상기 제어될 모듈 및 상기 부하 정보 통계 모듈에 연결되어 제어 신호 및 각각의 부하 유닛의 부하 가중치 정보를 상기 제어될 모듈에 제공하고 상기 제어될 모듈의 작동 상태를 기반으로 부하 임계값을 획득하는 전체 제어모듈;상기 전체 제어 모듈 및 상기 제어될 모듈에 연결되어 상기 제어될 모듈에서의 각각의 부하 유닛의 부하 정보를모니터링하고 상기 전체 제어 모듈에서의 각각의 부하 유닛의 부하 가중치 정보를 기반으로 상기 제어될 모듈의부하를 계산하는 부하 정보 통계 모듈;상기 부하 정보 통계 모듈에 연결되어 상기 제어될 모듈의 부하를 기반으로 상기 제어될 모듈의 전력 소비 상태를 조정하는 주파수 변조 및 전압 조정 제어 모듈;상기 주파수 변조 및 전압 조정 제어 모듈과 상기 제어될 모듈 사이에 연결되어 상기 주파수 변조 및 전압 조정제어 모듈의 출력 신호를 기반으로 대응되는 주파수의 클럭 신호를 생성하고 상기 제어될 모듈을 상기 클럭 신호를 기초로 작동하도록 제어하는 클럭 제어 모듈;을 포함하는 것을 특징으로 하는 피크 전력 소비의 제어 시스템."}
{"patent_id": "10-2021-7030998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에 있어서,AI 칩에 응용되는 것을 특징으로 하는 피크 전력 소비의 제어 시스템."}
{"patent_id": "10-2021-7030998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제8항 또는 제9항에 있어서,상기 제어될 모듈은 프로그램 가능 연산 유닛, 신경 네트워크 가속기 또는 텐서 프로세서를 포함하는 것을 특징으로 하는 피크 전력 소비의 제어 시스템."}
{"patent_id": "10-2021-7030998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제8항에 있어서,상기 주파수 변조 및 전압 조정 제어 모듈은 비교 유닛 및 복수의 전력 소비 상태 제어 유닛을 포함하되, 상기비교 유닛은 각각의 전력 소비 통계 주기에서 상기 제어될 모듈의 부하와 상기 부하 임계값을 비교하고, 각각의전력 소비 상태 제어 유닛은 상기 비교 유닛에서 출력된 비교 결과를 기반으로 상기 제어될 모듈을 대응되는 전력 소비 상태로 되도록 제어하는 것을 특징으로 하는 피크 전력 소비의 제어 시스템."}
{"patent_id": "10-2021-7030998", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제8항에 있어서,상기 클럭 제어 모듈은 디지털 분주 유닛을 포함하는 것을 특징으로 하는 피크 전력 소비의 제어 시스템.공개특허 10-2021-0134355-4-"}
{"patent_id": "10-2021-7030998", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 피크 전력 소비의 제어 방법 및 시스템을 제공한다. 부하의 상태를 실시간으로 모니터링하여 주파수를 동적으로 제어함으로써 전력 소비가 감소되어 전력 소비를 제어하면서 충분한 연산 성능을 제공한다. 본 발명에 따른 피크 전력 소비의 제어 방법 및 시스템은 부하의 상태를 실시간으로 모니터링하여 작동 주파수를 동적이고 지능적으로 제어하여 전력 소비를 감소함으로써 성능과 전력 소비 사이의 균형점을 달성하여 최대 피크 전력 소 비가 부하 임계값을 초과하지 않은 정황하에 최고 주파수에서 작동하도록 함으로써 전력 소비의 제어가 이루어지 는 전제하에 작동 효율을 효과적으로 향상시킬 수 있다."}
{"patent_id": "10-2021-7030998", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 전력 소비 제어에 관한 것으로, 특히 피크 전력 소비의 제어 방법 및 시스템에 관한 것이다."}
{"patent_id": "10-2021-7030998", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "인공 지능(Artificial Intelligence，AI) 및 사물 인터넷(Internet of Things，IoT)기술의 활발한 발전으로 AI 연산 성능에 대한 요구가 날이 갈수록 증가되고 있다. 연산 성능의 향상됨에 따라 전력 소비 제어는 AI 칩의 중 요한 구성 요소중의 하나이다. 어떻게 강력한 컴퓨팅 기능을 제공하면서 전력 소비를 설계 임계값으로 제어해야 하는지는 칩 설계에서 해결해야 할 문제 중 하나이며, 칩 컴퓨팅 기능과 동적 전력 소비의 균형을 맞추는 것도 칩 경쟁력을 집중적으로 나타낸다. 기존의 전력 소비 제어 방법은 정적인 주파수 변조 및 전압 조정 방식인 주파수 변조 및 전압 조정 알고리즘을 이용하여 중앙 처리 장치에 의하여 주파수 및 전압의 제어 레지스터의 값을 변경함으로써 전압 및 주파수의 제 어가 이루어진다. AI 칩에 있어서, 중앙 처리 장치는 큰 부하를 가지고 주로 컨볼루션 네트워크의 프로세스 제 어 및 데이터 동기화를 처리하는데 사용된다. 이에 전압과 주파수에 대한 제어에 큰 지연이 발생되고, 제어 효 과 또한 큰 히스테리시스가 따른다. 단일 코어 프로세서의 경우 인터럽트 메커니즘을 통해 완료된 작업 사이를 전환하는데 일반적으로 1~2밀리초가 걸린다. 시간의 지연은 주파수 및 전압 제어 지연을 유발하며, 높은 주파수 에서 낮은 주파수로 조정할 경우 지연을 조정하면 과도한 전력 소모가 발생하게 된다. 낮은 주파수에서 높은 주 파수로 조정할 경우 조정 지연으로 인해 성능이 저하되고 응용에서 지연 현상이 발생하여 성능과 소비 전력의 균형점을 달성할 수 없다. 또한 중앙 처리 장치를 통해 주파수와 전압을 제어할 경우 빈번한 작업 전환 중에 중 앙 처리 장치의 주요 처리 작업의 성능을 저하시키고 중앙 처리 장치 또한 더 많은 전력을 소비하게 된다. 또 다른 주파수 및 전압 조정 알고리즘은 전용 마이크로 프로세서를 사용하여 주파수와 전압을 제어하는 방법으 로, 이러한 방법은 현재 AI 칩 시스템에서 자주 사용되는 방법 중 하나이다. 전용 마이크로 프로세서는 전력 소 비와 전압 제어 과정만을 담당하며, 제어 레지스터에 대한 응답시간은 5배 내지 10배로 증가할 수 있다. 그러나 이러한 방법은 추가적인 마이크로 프로세서 하드웨어 자원을 필요하므로 칩 면적 낭비가 크고 일반적으로 사용 되는 마이크로 프로세서는 28nm 공정에서 0.5~1평방밀리미터의 면적을 갖는다. 이는 칩 면적이 크고 비용이 증 가된다. 또한 마이크로 프로세서는 영구 작동 상태이므로 전력 소비가 크다."}
{"patent_id": "10-2021-7030998", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 2, "content": "따라서 면적, 비용 및 전력 소비를 증가하지 않고 전력 소비 제어를 구현하는 것이 본 기술분야에서의 당업자가 해결해야 할 문제 중 하나로 되었다. 상술한 바와 같은 기존 기술의 단점을 감안하여 본 발명은 면적, 비용 및 전력 소비를 고려하지 않은 기존 기술 의 문제를 해결하기 위한 피크 전력 소비의 제어 방법 및 시스템을 제공하는 것을 목적으로 한다. 상기와 같은 목적 및 다른 관련된 목적을 달성하기 위하여 본 발명은 피크 전력 소비의 제어 방법을 제공하고자 한다. 상기 피크 전력 소비의 제어 방법은, 현재 전력 소비 통계 주기에서 제어될 모듈의 부하를 모니터링하여, 현재 전력 소비 통계 주기에서 각 모니터링 창구의 부하가 모두 부하 임계값을 초과할 경우 상기 제어될 모듈은 최저 피크 전력 소비 상태로 되어 최저 피 크 전력 소비 상태와 대응되는 주파수 레벨을 기반으로 상기 제어될 모듈의 작동 클럭을 제어하는 단계; 현재 전력 소비 통계 주기에서의 각각의 모니터링 창구의 부하가 모두 상기 부하 임계값 미만이고 부하 하한을 초과할 경우, 현재 전력 소비 부하가 정상적인 전력 소비 상태이면 원래의 전력 소비 상태를 유지하고 주파수 레벨도 그대로 유지하고; 현재 피크 전력 소비 상태가 정상적인 전력 소비 상태 미만이면 상기 제어될 모듈은 일단계 상승된 레벨의 피크 전력 소비 상태로 되고 주파수 레벨도 일단계 상승되어 일단계 상승된 레벨의 피크 전력 소비와 대응되는 주파수 레벨을 기반으로 상기 제어될 모듈의 작동 클럭을 제어하여 상기 제어될 모듈의 부하를 증가하는 단계; 현재 전력 소비 통계 주기에서 각각의 모니터링 창구의 부하가 모두 상기 부하 임계값 이상이 아니거나 또는 모 두 상기 부하 임계값 이하가 아닐 경우 원래의 전력 소비 상태를 유지하고 주파수 레벨을 그대로 유지하여 상기제어될 모듈의 부하를 그대로 유지하는 단계; 후속의 각 전력 소비 통계 주기에서 상기 제어될 모듈의 부하를 계속 모니터링하여 각 전력 소비 통계 주기에서 부하 상태를 기반으로 상기 제어될 모듈의 작동 클럭의 주파수를 조정하여 상기 제어될 모듈의 피크 전력 소비 가 부하 임계값을 초과하지 않은 정황하에 최고 주파수에서 작동하도록 하는 단계;를 포함한다. 선택적으로, 상기 제어될 모듈이 복수의 부하 유닛을 포함할 경우 상기 제어될 모듈의 부하는 각각의 부하 유닛 의 부하 가중치에 실제 부하를 곱한 값의 합이다. 선택적으로, 상기 피크 전력 소비의 제어 방법은 n개의 전력 소비 상태를 포함하되 전력 소비가 일단계 상승되 면 상기 제어될 모듈의 부하를 상기 부하 임계값의 1/n배 증가하며, n은 양의 정수이다. 선택적으로, 각각의 전력 소비 통계 주기는 모두 k개의 모니터링 창구를 포함하되, 현재 전력 소비 통계 주기에 서 첫번째 모니터링 창구를 제거하고 k+1번째의 모니터링 창구를 추가하여 다음 전력 소비 통계 주기를 얻게 되 고, 여기서 k는 3 이상의 양의 정수이다. 보다 선택적으로, 상기 피크 전력 소비의 제어 방법은 현재 전력 소비 통계 주기에서 각각의 모니터링 창구의 부하가 모두 상기 부하 하한 미만일 경우 상기 작동 클럭의 주파수를 현재 전력 소비 상태와 대응되는 주파수 레벨에서 주파수 대역을 일단계 낮추는 단계를 더 포함한다. 보다 선택적으로, 상기 제어될 모듈이 유휴 상태일 경우 상기 작동 클럭의 주파수를 최저 주파수로 낮춘다. 선택적으로, 상기 피크 전력 소비의 제어 방법은 AI 칩의 전력 소비를 제어하는데 사용된다. 상기와 같은 목적 및 다른 관련된 목적을 달성하기 위하여, 본 발명은 피크 전력 소비 제어 시스템을 제공하고 자 한다. 상기와 같은 피크 전력 소비의 제어 방법을 기반으로 상기 피크 전력 소비 제어 시스템은, 복수의 부하 유닛을 포함하는 제어될 모듈; 상기 제어될 모듈 및 부하 정보 통계 모듈에 연결되어 제어 신호 및 각각의 부하 유닛의 부하 가중치 정보를 상 기 제어될 모듈에 제공하고 상기 제어될 모듈의 작동 상태를 기반으로 부하 임계값을 획득하는 전체 제어 모듈; 상기 전체 제어 모듈 및 상기 제어될 모듈에 연결되어 상기 제어될 모듈에서의 각각의 부하 유닛의 부하 정보를 모니터링하고 상기 전체 제어 모듈에서의 각각의 부하 유닛의 부하 가중치 정보를 기반으로 상기 제어될 모듈의 부하를 계산하는 부하 정보 통계 모듈; 상기 부하 정보 통계 모듈에 연결되어 상기 제어될 모듈의 부하를 기반으로 상기 제어될 모듈의 전력 소비 상태 를 조정하는 주파수 변조 및 전압 조정 제어 모듈; 상기 주파수 변조 및 전압 조정 제어 모듈과 상기 제어될 모듈 사이에 연결되어 상기 주파수 변조 및 전압 조정 제어 모듈의 출력 신호를 기반으로 대응되는 주파수의 클럭 신호를 생성하고 상기 제어될 모듈을 상기 클럭 신 호를 기초로 작동하도록 제어하는 클럭 제어 모듈;을 포함한다. 선택적으로, 상기 피크 전력 소비 제어 시스템은 AI 칩에 응용된다. 보다 선택적으로, 상기 제어될 모듈은 프로그램 가능 연산 유닛, 신경 네트워크 가속기 또는 텐서 프로세서를 포함한다. 선택적으로, 상기 주파수 변조 및 전압 조정 제어 모듈은 비교 유닛 및 복수의 전력 소비 상태 제어 유닛을 포 함하되, 상기 비교 유닛은 각각의 전력 소비 통계 주기에서 상기 제어될 모듈의 부하와 상기 부하 임계값을 비 교하고, 각각의 전력 소비 상태 제어 유닛은 상기 비교 유닛에서 출력된 비교 결과를 기반으로 상기 제어될 모 듈을 대응되는 전력 소비 상태로 되도록 제어한다. 선택적으로, 상기 클럭 제어 모듈은 디지털 분주 유닛을 포함한다. 상술한 바와 같이, 본 발명에 따른 피크 전력 소비의 제어 방법 및 시스템은 아래와 같은 유익한 효과가 있다. 본 발명에 따른 피크 전력 소비의 제어 방법 및 시스템은, 부하의 상태를 실시간으로 모니터링하여 작동 주파수 를 동적이고 지능적으로 제어하여 전력 소비를 감소함으로써 성능과 전력 소비 사이의 균형점을 달성하여 최대 전력 소비가 부하 임계값을 초과하지 않은 정황하에 최고 주파수에서 작동하도록 함으로써 전력 소비의 제어가 이루어지는 전제하에 작동 효율을 효과적으로 향상시킬 수 있다."}
{"patent_id": "10-2021-7030998", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하 본 기술분야에서의 당업자들이 본 명세서에 공개된 내용에 의하여 본 발명의 다른 장점과 효과를 쉽게 이 해할 수 있도록 특정된 실시예를 통하여 본 발명의 실시방식을 설명하고자 한다. 본 발명은 또 다른 특정 실시 예를 통해 구현 또는 적용될 수 있으며, 본 명세서의 다양한 세부 사항은 본 발명의 사상을 벗어나지 않고 다른 관점 및 응용에 기초하여 수정 또는 변경될 수도 있다. 도 1 내지 도 3을 참조하면 본 실시 예에서 제공되는 도면은 단지 본 발명의 기본적인 구성을 개략적으로 보여 주는 것으로, 도면마다 실제 구현에서 사용되는 구성 요소의 수량, 형상 및 크기를 도시한 것이 아니라 본 발명 에 관련된 구성요소만 도시한 것으로, 실제 구현에서 각 구성요소의 형태, 수량 및 비율은 임의로 변경할 수 있 으며 구성 요소의 배치 또한 더 복잡 할 수 있다. 도 1에 도시된 바와 같이, 본 발명은 피크 전력 소비의 제어 방법을 제공한다. 상기 피크 전력 소비의 제어 방 법은 아래와 같다. 1) 현재 전력 소비 통계 주기에서 제어될 모듈의 부하를 모니터링하여, 현재 전력 소비 통계 주기에서의 부하를 부하 임계값과 비교한다. 구체적으로, 본 실시예에 있어서, 상기 제어될 모듈은 AI 칩의 연산 유닛으로, 실제의 사용에서 전력 소비 제어 를 필요로 하는 모든 모듈은 모두 본 발명의 상기 제어될 모듈에 적용되며 본 실시예에 한정되지 않는다. 구체적으로, 다양한 응용 시나리오의 분석에 따라 정상적인 작동 상태에서의 상기 제어될 모듈의 부하 상태를 획득하고 상기 부하 임계값을 설정하며 시나리오에 따라 상기 제어될 모듈의 작동 상태가 다르고 부하 임계값도 다르다. 따라서 수요에 따라 설정할 수 있다. 구체적으로, 상기 제어될 모듈이 단일 부하 유닛일 경우 상기 제어될 모듈의 부하는 상기 제어될 모듈의 실제 부하이다. 상기 제어될 모듈이 복수(2개 이상)의 부하 유닛일 경우 상기 제어될 모듈의 부하는 각각의 부하 유 닛의 부하 가중치에 실제 부하를 곱한 값의 합이다. 구체적으로, 각각의 전력 소비 통계 주기는 모두 k개의 모니터링 창구를 포함한다. 상기 제어될 모듈은 각 각의 모니터링 창구에서의 부하를 모두 상기 부하 임계값과 비교하고 전력 소비 통계 주기를 전체로 하여 비교 결과를 획득한다. 각각의 전력 소비 통계 주기의 모니터링 창구는 가중 제어를 적용하여, 즉, 전력 소비 통계 주기에서 첫번째 모니터링 창구를 제거하고 k+1번째 모니터링 창구를 추가하여 다음 전력 소비 통계 주기에서의 각각의 모니터링 창구를 획득(시간순으로 최초의 모니터링 창구를 제거하고 최신 모니터링 창구를 추가)한다. 본 실시예에 있어서, k를 4로 설정함으로써 모니터링의 정확성을 향상시킨다(일반적으로 3개의 모니터링 창구를 설치하면 모니터링의 정확성을 향상시킬 수 있다). 실제의 사용에서 각각의 전력 소비 통계 주기에서 모니터링 창구의 수량을 수요에 따라 설치할 수 있다. 정확성의 요구가 높지 않거나 정확성을 보장할 수 있는 전제하에 각각의 전력 소비 통계 주기에서의 각각의 모니터링 창구의 수량을 적절하게 감소할 수 있으며, 본 실시예에 한 정되지 않는다. 2) 현재 전력 소비 통계 주기에서의 각각의 모니터링 창구의 부하가 부하 임계값을 초과할 경우 상기 제어될 모 듈은 최저 피크 전력 소비 상태로 되어 주파수 레벨을 최저 레벨로 낮추고 최저 피크 전력 소비 상태와 대응되 는 주파수 레벨을 기초로 상기 제어될 모듈의 작동 클럭을 제어한다. 구체적으로, n개의 전력 소비 상태를 포함한다. 본 실시예에 있어서, n을 4로 설정하여 주파수에 따라 작은 순 으로부터 순차적으로 제1 피크 전력 소비 상태, 제2 피크 전력 소비 상태, 제3 피크 전력 소비 상태 및 정상적 인 전력 소비 상태로 배열된다. 본 실시예에 있어서, 제1 피크 전력 소비 상태, 제2 피크 전력 소비 상태 및 제 3 피크 전력 소비 상태와 대응되는 주파수 레벨은 정상적인 전력 소비 상태와 대응되는 주파수의 분할 주파수 신호이다. 구체적으로, 현재 전력 소비 통계 주기에서의 각각의 모니터링 창구의 부하가 모두 부하 임계값을 초과할 경우 상기 제어될 모듈은 전력 소비 상태와 관계없이 모두 제1 피크 전력 소비 상태로 조정되어 상기 제1 피크 전력 소비 상태와 대응되는 주파수 레벨을 기반으로 상기 제어될 모듈의 작동 클럭을 제어한다. 3) 현재 전력 소비 통계 주기에서 각각의 모니터링 창구의 부하가 모두 상기 부하 임계값 미만이고 부하 하한을 초과할 경우, 현재 전력 소비 부하가 정상적인 전력 소비 상태이면 원래의 전력 소비 상태를 유지하고 주파수 레벨을 그대로 유지하고; 현재 전력 소비 부하 상태가 정상적인 전력 소비 상태 미만이면 상기 제어될 모듈은 일단계 상승된 피크 전력 소비 상태로 되고 주파수 레벨도 일단계 상승되며 일단계 상승된 피크 전력 소비 상태 와 대응되는 주파수 레벨을 기반으로 상기 제어될 모듈의 작동 클럭을 제어하여 상기 제어될 모듈의 부하를 증 가한다. 구체적으로, 현재 전력 소비 통계 주기에서 각각의 모니터링 창구의 부하가 모두 부하 임계값 미만이고 상기 부 하 하한을 초과할 경우 현재 전력 소비 부하가 정상적인 전력 소비 상태이면 정상적인 전력 소비 상태를 그대로 유지한다. 구체적으로, 현재 전력 소비 통계 주기에서 각각의 모니터링 창구의 부하가 모두 부하 임계값 미만이고 상기 부 하 하한을 초과할 경우, 현재 전력 소비 부하 상태가 제1 피크 전력 소비 상태, 제2 피크 전력 소비 상태 또는 제3 피크 전력 소비 상태이면 상기 제어될 모듈을 일단계 상승된 전력 소비 상태로 조정하고 대응되게 주파수 레벨을 일단계 상승시켜 상기 제어될 모듈의 부하를 대응되게 증가한다. 즉, 현재 제1 피크 전력 소비 상태이면 제2 피크 전력 소비 상태로 상승되고, 현재 제2 피크 전력 소비 상태이면 제3 피크 전력 소비 상태로 상승되며, 현재 제3 피크 전력 소비 상태이면 정상적인 전력 소비 상태로 상승된다. 본 발명의 구현 방식으로서, 전력 소비 상태를 일단계 상승시켜 상기 제어될 모듈의 부하가 상기 부하 임계값의 1/n배 증가된다. 본 실시예에 있어서, 부하 임계값의 1/4이 증가된다. 4) 현재 전력 소비 통계 주기에서 각각의 모니터링 창구의 부하가 모두 상기 부하 임계값 이상이 아니거나 상기 부하 임계값 이하가 아닐 경우 원래의 전력 소비 상태를 유지하고 주파수 레벨을 그대로 유지함으로써 상기 제 어될 모듈의 부하가 그대로 유지된다. 5) 후속의 각 전력 소비 통계 주기에서의 상기 제어될 모듈의 부하를 계속하여 모니터링하고 각각의 전력 소비 통계 주기에서 부하 상태를 기반으로 상기 제어될 모듈의 작동 클럭의 주파수를 조정하여 상기 제어될 모듈의 피크 전력 소비가 부하 임계값을 초과하지 않은 정황하에 최고 주파수에서 작동하도록 한다. 6) 본 발명의 구현 방식으로서, 상기 피크 전력 소비의 제어 방법은, 현재 전력 소비 통계 주기에서의 각각의 모니터링 창구의 부하가 모두 상기 부하 하한 미만일 경우 상기 작동 클럭의 주파수는 현재 전력 소비 상태와 대응되는 주파수 레벨에서 주파수 대역을 일단계 낮춘다. 구체적으로, 상기 제어될 모듈의 부하가 부하 하한 미만일 경우 상기 제어될 모듈의 부하가 비교적 낮아 최고 주파수에서 작동하지 않아도 된다. 만약, 현재 전력 소비 통계 주기에서 4개의 모니터링 창구의 부하가 모두 부 하 하한 미만일 경우 상기 제어될 모듈의 주파수를 다음 주파수 대역으로 낮춘다. 즉, 현재 주파수가 정상 작동 상태의 원래 주파수의 12/16 이라고 가정하면 정상 작동 상태의 원래 주파수의 11/16로 낮춘다. 본 실시예는 주 파수를 최소 1/16로 낮출 수 있고 실제의 사용에서 수요에 따라 주파수 최소 감소 주파수를 설정할 수 있다. 만 약에 다음 전력 소비 통계 주기의 부하가 부하 하한 미만이지 않을 경우 현재의 주기에서 상기 제어될 모듈의 작동 주파수를 일단계 상승시키는 것으로 주파수 레벨을 조정하여 상기 제어될 모듈의 성능을 충분히 보장한다. 7) 본 발명의 구현 방식으로서, 만약 상기 제어될 모듈이 유휴 상태일 경우 클럭 주파수를 최저 주파수로 자동 으로 낮출 수 있다. 보다 구체적으로, 아래와 같은 구체적인 예를 들 수 있다. S1, 상기 제어될 모듈이 정상적인 전력 소비 상태로 작동 시작하는 작동 단계, 하나의 전력 소비 통계 주기에서 의 부하에 따라 전력 소비 상태를 업데이트한다. S2, 만약 하나의 전력 소비 통계 주기에서의 상기 제어될 모듈의 부하가 부하 임계값을 초과할 경우 상기 제어 될 모듈은 제1 피크 전력 소비 상태로 되어, 즉, 정상적인 전력 소비 상태에서 제1 피크 전력 소비 상태로 되고 주파수를 3단계 낮춘다. 다음 전력 소비 통계 주기에서의 부하에 따라 전력 소비 상태를 계속하여 업데이트한다. S3, 만약 다음 전력 소비 통계 주기에서 상기 제어될 모듈의 부하가 부하 임계값을 초과할 경우 상기 제어될 모 듈은 제1 피크 전력 소비 상태로 계속하여 유지된다. 만약 상기 제어될 모듈의 부하가 부하 임계값 미만이고 부 하 하한을 초과할 경우 상기 제어될 모듈은 제2 피크 전력 소비 상태로 되어 현재 부하를 부하 임계값의 1/4을 증가하고 현재 주파수를 일단계 상승시킨다. 다음 전력 소비 통계 주기에서의 부하에 따라 전력 소비 상태를 계 속하여 업데이트한다. S4, 만약 다음 전력 소비 통계 주기에서 상기 제어될 모듈의 부하가 부하 임계값을 초과할 경우 상기 제어될 모 듈은 계속하여 제2 피크 전력 소비 상태를 유지한다. 만약에 상기 제어될 모듈의 부하가 부하 임계값 미만이고 부하 하한을 초과할 경우 상기 제어될 모듈은 제3 피크 전력 소비 상태로 되어 현재 부하를 부하 임계값의 1/4 을 증가하고 현재 주파수를 일단계 상승시킨다. 다음 전력 소비 통계 주기에서의 부하에 따라 전력 소비 상태를 계속하여 업데이트 한다. S5, 만약 다음 전력 소비 통계 주기에서 상기 제어될 모듈의 부하가 부하 임계값을 초과할 경우 상기 제어될 모 듈은 계속하여 제3 피크 전력 소비 상태를 유지한다. 만약, 상기 제어될 모듈의 부하가 부하 임계값 미만이고 부하 하한을 초과할 경우 상기 제어될 모듈은 정상적인 전력 소비 상태로 되어 현재 부하를 부하 임계값의 1/4 을 증가하고 현재 주파수를 일단계 상승시킨다. 부하 정보 통계 모듈은 하나의 전력 소비 통계 주기에서의 부하 에 따라 전력 소비 부하 상태를 계속하여 업데이트한다. S6, 단계S2 내지 단계S5를 계속 반복 수행하여 피크 전력 소비가 부하 임계값을 초과하지 않는 것을 보장하는 경우에 상기 제어될 모듈이 최고 주파수에서 작동하도록 한다. 본 발명은 AI 칩의 전압과 주파수를 동적으로 제어하여 전력 소비를 낮추면서 충분한 연산 성능을 제공한다. 도 2에 도시된 바와 같이, 본 발명은 피크 전력 소비 제어 시스템을 제공한다. 상기 피크 전력 소비 제어 시 스템은 상기 피크 전력 소비의 제어 방법을 구현하기 위한 것으로, 상기 피크 전력 소비 제어 시스템은, 제어될 모듈, 전체 제어 모듈, 부하 정보 통계 모듈, 주파수 변조 및 전압 조정 제어 모듈 및 클럭 제어 모듈을 포함한다. 도 2에 도시된 바와 같이, 상기 제어될 모듈은 복수의 부하 유닛을 포함한다. 구체적으로, 본 실시예에 있어서, 상기 제어될 모듈은 AI 칩의 연산 유닛으로 설정된다. 각각의 부하 유닛 은 프로그램 가능 연산 유닛, 신경 네트워크 가속기 및 텐서 프로세서를 포함하나 이에 한정되지 않는다. 도 2에 도시된 바와 같이, 상기 전체 제어 모듈은 상기 제어될 모듈 및 상기 부하 정보 통계 모듈 에 연결되어 제어 신호 및 각각의 부하 유닛의 부하 가중치 정보를 상기 제어될 모듈에 제공하고 상기 제어 될 모듈의 작동 상태를 기반으로 부하 임계값을 획득한다. 구체적으로, 본 실시예에 있어서, 상기 전체 제어 모듈은 중앙 처리 장치(미도시) 및 구동 장치(미도시)에 서 제공된 제어 정보(각각의 제어 정보는 상기 제어될 모듈의 작동 상태를 확인하기 위함)에 의해 부하 임 계값, 각각의 부하 유닛의 부하 가중치 정보 및 모드 제어 정보를 획득하고 각각의 부하 유닛의 부하 가중치 정 보 및 모드 제어 정보를 상기 제어될 모듈로 전송한다. 동시에 상기 전체 제어 모듈은 상기 제어될 모 듈의 부하 통계 정보를 구동 장치에 피드백함으로써 구동 장치가 AI 칩 내부 상태에 따라 제어 방법을 조정 한다. 도 2에 도시된 바와 같이, 상기 부하 정보 통계 모듈은 상기 전체 제어 모듈 및 상기 제어될 모듈 에 연결되어 상기 제어될 모듈에서 각각의 부하 유닛의 부하 정보를 모니터링하고 상기 전체 제어 모듈(1 2)에서 각각의 부하 유닛의 부하 가중치 정보를 기반으로 상기 제어될 모듈의 부하를 연산한다. 구체적으로, 상기 부하 정보 통계 모듈은 상기 제어될 모듈의 각각의 주요 파이프 라인(각각의 부하 유 닛)의 부하 정보를 모니터링하여 상기 전체 제어 모듈에서 제공된 각각의 부하 유닛의 부하 가중치 정보에 따라 각각의 부하 유닛에서 기여한 부하를 통계하여 종합하고 부하 유닛마다 전반적인 성능에 미치는 영향의 중 요성 및 부하 유닛 자체의 전력 소비에 따라 일단계 상승된 부하 유닛의 부하 가중치를 따라서 모든 부하 유닛 의 부하 정보를 하나로 종합하여 전체의 제어될 모듈의 부하를 획득한다. 본 실시예에 있어서, AI 칩의 연 산 유닛의 주요 파이프 라인은 프로그램 가능 연산 유닛, 신경 네트워크 가속기 및 텐서 프로세서를 포함한다. 신경 네트워크 가속기는 신경망에서 컨볼루션 연산 처리하기 위한 것으로, 텐서 프로세서는 신경망에서 기타 수 학적 연산을 하기 위한 것으로, 프로그램 가능 연산 유닛은 프로세스 제어 및 보조 연산을 수행한다. 성능적인 면에서, 80％의 연산은 신경 네트워크 가속기에서 완성됨으로써 신경 네트워크 가속기가 제일 중요하다. 나머지 15％의 연산은 텐서 프로세서에 의해 완성되고, 나머지 5％의 제어 및 보조 연산은 프로그램 가능 연산 유닛에의해 완성된다. 따라서 부하 정보 통계 모듈은 이러한 3개의 모듈의 부하율을 80％, 15％ 및 5％로 설정한 다. 신경 네트워크 가속기 자체의 전력 소비가 load1, 텐서 프로세서 자체의 전력 소비가 load2, 프로그램 가능 연산 유닛 자체의 전력 소비가 load3이라고 가정할 경우 상기 제어될 모듈의 부하는 80％*load1+15％ *load2+5％*load3이다. 도 2에 도시된 바와 같이, 상기 주파수 변조 및 전압 조정 제어 모듈은 상기 부하 정보 통계 모듈에 연 결되어 상기 제어될 모듈의 부하를 기반으로 상기 제어될 모듈의 전력 소비 상태를 조정한다. 구체적으로, 본 발명의 실시방식으로서, 상기 주파수 변조 및 전압 조정 제어 모듈은 비교 유닛 및 복 수의 전력 소비 상태 제어 유닛을 포함한다. 본 실시예에 있어서, 3개의 전력 소비 상태 제어 유닛을 포함하되, 각각 제1 전력 소비 상태 제어 유닛, 제2 전력 소비 상태 제어 유닛 및 제3 전력 소비 상태 제어 유 닛이다. 상기 비교 유닛은 각각의 전력 소비 통계 주기에서의 상기 제어될 모듈의 부하와 상기 부하 임계값을 비교한다. 본 실시예에 있어서, 상기 전력 소비 통계 주기에서 4개의 모니터링 창구가 설치된다. 각각의 전력 소비 상태 제어 유닛은 상기 비교 유닛에서 출력된 비교 결과를 기반으로 상기 제어될 모듈 을 대응되는 전력 소비 상태로 되도록 제어한다. 각각의 전력 소비 상태의 홉핑 및 홉핑 조건은 상기 피크 전력 소비의 제어 방법을 참고하므로 여기서 상세한 설명을 생략한다. 상기 주파수 변조 및 전압 조정 제어 모 듈은 현재 최저 부하 상태를 분석하여 주파수를 낮출 수 있으므로 여기서 상세한 설명을 생략한다. 도 2에 도시된 바와 같이, 상기 클럭 제어 모듈은 상기 주파수 변조 및 전압 조정 제어 모듈과 상기 제 어될 모듈사이에 연결되어 상기 주파수 변조 및 전압 조정 제어 모듈에서 출력된 신호에 의해 대응되는 주파수의 클럭 신호를 생성하고 상기 제어될 모듈을 상기 클럭 신호를 기반으로 작동되도록 제어한다. 구체적으로, 도 3에 도시된 바와 같이 본 실시예에 있어서, 상기 클럭 제어 모듈은 정상적인 작동 상태에서 원래의 주파수를 16 분할 주파수로 분할함으로써 대응되는 주파수 레벨과 대응되는 주파수 및 다운 주파수를 획 득할 수 있는 디지털 분주 유닛을 포함한다. 본 실시예에 있어서, 상기 제1 피크 전력 소비 상태 제어 유닛 , 상기 제2 피크 전력 소비 상태 제어 유닛 및 상기 제3 피크 전력 소비 상태 제어 유닛은 대응 되는 주파수 레벨이 점차적으로 상승되어 정상 작동 상태에서 각각 원래 주파수의 1/4, 1/2 및 3/4이다. 실제의 사용에서 수요에 따라 각각의 주파수 레벨 제어 유닛과 대응되는 주파수를 설정할 수 있다. 실제의 사용에서 상 기 클럭 제어 모듈은 등위상 주파수 분할 사용할 수 있으나 본 실시예에 한정되지 않는다. 본 발명에 따른 피크 전력 소비의 제어 방법 및 시스템은 AI 칩에서 동적인 전력 소비를 정확하게 제어하여 칩 의 성능을 영향 주지 않으면서 칩의 주파수를 동적으로 제어함으로써 피크 전력 소비를 감소하는 효과를 달성할 수 있다. 동시에 기존의 전력 소비 제어 방식에서의 CPU 점유율 및 면적 오버헤드 문제도 해결된다. 본 발명에 따른 피크 전력 소비의 제어 방법 및 시스템은 AI 칩 각각의 모듈의 부하 상태를 실시간으로 모니터 링하여 자동으로 주파수 제어 및 조정을 수행할 수 있다. 또한 외부의 소프트웨어에 의한 능동 제어 및 내부 하 드웨어에 의한 자동 제어를 결합하는 방식으로 주파수 변조 및 전압 조정을 수행할 수 있다. 상기를 종합하면 본 발명은 피크 전력 소비의 제어 방법 및 시스템을 제공하는 것으로, 현재 전력 소비 통계 주 기에서 제어될 모듈의 부하를 모니터링하여, 현재 전력 소비 통계 주기에서 각각의 모니터링 창구의 부하가 모 두 부하 임계값을 초과할 경우 상기 제어될 모듈은 최저 피크 전력 소비 상태로 되어 최저 피크 전력 소비 상태 와 대응되는 주파수 레벨을 기반으로 상기 제어될 모듈의 작동 클럭을 제어하는 단계; 현재 전력 소비 통계 주 기에서의 각각의 모니터링 창구의 부하가 모두 상기 부하 임계값 미만이고 부하 하한을 초과할 경우 현재 전력 소비 부하가 정상적인 전력 소비 상태이면 원래의 전력 소비 상태를 유지하고 주파수 레벨도 그대로 유지하고; 현재 피크 전력 소비 상태가 정상적인 전력 소비 상태 미만이면 상기 제어될 모듈은 일단계 상승된 레벨의 피크 전력 소비 상태로 되고 주파수 레벨도 일단계 상승되어 일단계 상승된 레벨의 피크 전력 소비와 대응되는 주파 수 레벨을 기반으로 상기 제어될 모듈의 작동 클럭을 제어하여 상기 제어될 모듈의 부하를 증가하는 단계; 현재 전력 소비 통계 주기에서 각각의 모니터링 창구의 부하가 모두 상기 부하 임계값 이상이 아니거나 또는 모두 상 기 부하 임계값 이하가 아닐 경우 원래의 전력 소비 상태를 유지하고 주파수 레벨을 그대로 유지하여 상기 제어 될 모듈의 부하를 그대로 유지하는 단계; 후속의 각 전력 소비 통계 주기에서 상기 제어될 모듈의 부하를 계속 모니터링하여 각 전력 소비 통계 주기에서 부하 상태를 기반으로 상기 제어될 모듈의 작동 클럭의 주파수를 조 정하여 상기 제어될 모듈의 피크 전력 소비가 부하 임계값을 초과하지 않은 정황하에 최고 주파수에서 작동하도 록 하는 단계;를 포함한다. 본 발명에 따른 피크 전력 소비의 제어 방법 및 시스템은 부하의 상태를 실시간으로 모니터링하여 작동 주파수를 동적이고 지능적으로 제어하여 전력 소비를 감소함으로써 성능과 전력 소비 사이의 균형점을 달성하여 최대 전력 소비가 부하 임계값을 초과하지 않은 정황하에 최고 주파수에서 작동하도록 함으로써 전력 소비의 제어가 이루어지는 전제하에 작동 효율을 효과적으로 향상시킬 수 있다. 따라서 본 발명은 기 존 기술의 여러 단점을 효과적으로 극복함으로써 산업적 가치가 높다. 상술한 실시예는 단지 본 발명의 원리 및 효과를 예시적으로 설명한 것일 뿐 본 발명을 한정하지 않는다. 해당 기술에 숙련된 자라면 본 발명의 사상 및 범위를 벗어나지 않는 한 상기 실시예를 수정 및 변경할 수 있다. 따"}
{"patent_id": "10-2021-7030998", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "라서 본 발명이 속하는 기술분야에서 통상의 지식을 가진 자에 의해 본 발명에 공개된 사상을 벗어나지 않은 범 위에서 완성된 모든 동등한 수정 또는 변경은 본 발명의 청구범위에 속한다."}
{"patent_id": "10-2021-7030998", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명에 따른 피크 전력 소비의 제어 방법을 나타내는 흐름도이다. 도 2는 본 발명에 따른 피크 전력 소비 제어 시스템을 나타내는 구조도이다. 도 3은 본 발명에 따른 클럭 제어 모듈의 주파수 분할 원리를 나타내는 도면이다."}
