{"patent_id": "10-2022-0161523", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0061525", "출원번호": "10-2022-0161523", "발명의 명칭": "수면 품질 분석을 위한 코골이 분류 및 심탄도 신호분석 방법", "출원인": "한국전자기술연구원", "발명자": "구기원"}}
{"patent_id": "10-2022-0161523", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "센서부가 수면 중 사용자의 심박 추정 및 호흡 추정을 위한 심탄도(BCG) 신호 및 압력 신호와 코골이 감지를 위한 음향 신호를 획득하는 단계; 및프로세서가, 센서부를 통해 획득된 신호들을 CNN(Convolutional Neural Networks) 및 LSTM(Long short-termmemory) 기반의 인공지능 모델에 적용하여 사용자의 수면 품질을 분석하는 단계;를 포함하는 코골이 분류 및 심탄도 신호분석 방법."}
{"patent_id": "10-2022-0161523", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "청구항 1에 있어서,센서부는, 압력 신호들을 획득하는 다중 압력센서;사용자의 심탄도 신호를 획득하는 심탄도 측정 센서; 및 코골이 감지를 위한 음향 신호를 획득하는 음향 측정 센서;를 포함하는 것을 특징으로 하는 코골이 분류 및 심탄도 신호분석 방법."}
{"patent_id": "10-2022-0161523", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "청구항 2에 있어서,다중 압력센서는, 차압 측정을 위한 피에조 센서 및 절대압 측정을 위한 FSR(Force Sensing Resistors) 센서를 포함하는 것을 특징으로 하는 코골이 분류 및 심탄도 신호분석 방법."}
{"patent_id": "10-2022-0161523", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "청구항 1에 있어서,사용자의 수면 품질을 분석하는 단계는, 획득된 음향 신호를 CNN 기반의 인공지능 모델에 적용하여 코골이 여부를 판단하는 것을 특징으로 하는 코골이분류 및 심탄도 신호분석 방법."}
{"patent_id": "10-2022-0161523", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "청구항 4에 있어서,사용자의 수면 품질을 분석하는 단계는, 센서부의 다중 압력센서를 통해 획득된 압력 신호들을 대상으로 하드웨어 필터링을 수행하여 기설정된 제1 주파수 대역의 신호를 획득하는 단계;하드웨어 필터링된 압력 신호에 포함된 FSR 센서값(절대압 측정값)을 일정수준 이상의 절대압과 비교하여 사용공개특허 10-2024-0061525-3-자가 현재 침대에 누워있는지 판단하는 단계; 사용자가 현재 침대에 누워있는 것으로 판단되면, 윈도우 함수와 동기화하여 압력 신호가 획득되는 기설정된 단위시간마다 음향 신호를 획득하는 단계;획득된 각각의 기설정된 단위시간만큼의 음향 신호를 기반으로 인공지능 모델의 학습을 위한 표준화 및 정규화를 수행하는 단계;CNN 기반의 인공지능 모델을 기반으로 코골이 신호를 학습시키는 단계; 및테스트 데이터를 기반으로 실시간 코골이 신호를 분류하는 단계;를 포함하는 것을 특징으로 하는 코골이 분류및 심탄도 신호분석 방법."}
{"patent_id": "10-2022-0161523", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "청구항 1에 있어서,사용자의 수면 품질을 분석하는 단계는, 센서부의 다중 압력센서를 통해 획득된 압력 신호들을 대상으로 하드웨어 필터링을 수행하여 기설정된 제1 주파수 대역의 신호를 획득하는 단계;하드웨어 필터링된 압력 신호에 포함된 FSR 센서값(절대압 측정값)을 일정수준 이상의 절대압과 비교하여 사용자가 현재 침대에 누워있는지 판단하는 단계; 사용자가 현재 침대에 누워있는 것으로 판단되면, 하드웨어 필터링된 압력 신호 및 센서부의 심탄도 측정 센서를 통해 획득된 심탄도 신호를 대상으로 윈도우 함수를 이용하여 기설정된 단위시간마다 단위시간 동안 획득된신호를 분리하는 단계;분리된 각각의 신호를 대상으로 디지털 필터링을 수행하여 기설정된 제2 주파수 대역의 신호를 획득하는 단계;심박과 호흡이 가질 수 있는 주파수 범위 내의 PSD(Power Spectral Density)를 기준으로 각 채널별 신호순위를설정하는 단계;디지털 필터링을 통해 획득된 각 채널별 신호와 설정된 상위의 신호순위를 가진 신호를 비교분석(상관분석)하여설정된 상위의 신호순위를 가진 신호와 가장 유사도가 높은 신호를 가진 채널을 선택하는 단계; 및선택된 채널의 신호를 대상으로 주파수 분석을 수행하여 심박 및 호흡을 추정하는 단계;를 포함하는 것을 특징으로 하는 코골이 분류 및 심탄도 신호분석 방법."}
{"patent_id": "10-2022-0161523", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "청구항 6에 있어서,사용자의 수면 품질을 분석하는 단계는, 심박의 추정 결과를 기반으로 심박 주파수 범위로 밴드패스 필터링을 수행하는 단계;밴드패스 필터링된 신호를 기준으로 심탄도 신호의 Peak-Detection을 수행하는 단계;피크(Peak) 값의 변이도를 기준으로 심박변이도(HRV)를 분석하는 단계; 및 심박변이도(HRV)의 주파수 분석을 수행하여 스트레스를 추정하는 단계;를 더 포함하는 것을 특징으로 하는 코골이 분류 및 심탄도 신호분석 방법."}
{"patent_id": "10-2022-0161523", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "청구항 1에 있어서,공개특허 10-2024-0061525-4-사용자의 수면 품질을 분석하는 단계는, 센서부의 다중 압력센서를 통해 획득된 압력 신호들을 대상으로 하드웨어 필터링을 수행하여 기설정된 제1 주파수 대역의 신호를 획득하는 단계;하드웨어 필터링된 압력 신호에 포함된 FSR 센서값(절대압 측정값)을 일정수준 이상의 절대압과 비교하여 사용자가 현재 침대에 누워있는지 판단하는 단계; 사용자가 현재 침대에 누워있는 것으로 판단되면, 하드웨어 필터링된 압력 신호 및 센서부의 심탄도 측정 센서를 통해 획득된 심탄도 신호를 대상으로 윈도우 함수를 이용하여 기설정된 단위시간마다 단위시간 동안 획득된신호를 분리하는 단계;분리된 각각의 신호를 대상으로 디지털 필터링을 수행하여 기설정된 제2 주파수 대역의 신호를 획득하는 단계;디지털 필터링된 각각의 신호를 기반으로 인공지능 모델의 학습을 위한 표준화 및 정규화를 수행하는 단계;표준화 및 정규화된 데이터를 학습 데이터로 활용하여 지엽적인 특징을 추출하기 위한 CNN 알고리즘 및 연속적인 특징을 추출하기 위한 LSTM 알고리즘이 반영된 인공지능 모델을 학습시키는 단계; 및학습된 인공지능 모델에 새로 획득된 신호를 적용하여 사용자의 수면 상태를 NREM(Non-REM, 램 수면이 아닌 수면 상태), REM(램 수면 상태) 또는 WAKE(비수면 상태)으로 분류하는 단계;를 포함하는 코골이 분류 및 심탄도신호분석 방법."}
{"patent_id": "10-2022-0161523", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "청구항 8에 있어서,사용자의 수면 품질을 분석하는 단계는,수면 상태의 분류 결과를 기반으로 전체 수면시도 시간(Time of WAKE+NREM+REM) 대비 잠든 시간(NREM+REM)의 비율을 계산하여 사용자의 수면 효율을 계산하는 단계; 및REM/NREM 비율을 계산하여 사용자의 수면 품질을 분석하는 단계;를 더 포함하는 것을 특징으로 하는 코골이 분류 및 심탄도 신호분석 방법."}
{"patent_id": "10-2022-0161523", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "수면 중 사용자의 심박 추정 및 호흡 추정을 위한 심탄도(BCG) 신호 및 압력 신호와 코골이 감지를 위한 음향신호를 획득하는 센서부; 및센서부를 통해 획득된 신호들을 CNN(Convolutional Neural Networks) 및 LSTM(Long short-term memory) 기반의인공지능 모델에 적용하여 사용자의 수면 품질을 분석하는 프로세서;를 포함하는 코골이 분류 및 심탄도 신호분석 시스템."}
{"patent_id": "10-2022-0161523", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "센서부가 수면 중 사용자의 심박 추정 및 호흡 추정을 위한 심탄도(BCG) 신호 및 압력 신호와 코골이 감지를 위한 음향 신호를 획득하는 단계; 및프로세서가, 센서부를 통해 획득된 신호들을 지엽적인 특징을 추출하기 위한 CNN(Convolutional NeuralNetworks) 알고리즘 및 연속적인 특징을 추출하기 위한 LSTM(Long short-term memory) 알고리즘이 반영된 인공지능 모델에 적용하여 사용자의 수면 품질을 분석하는 단계;를 포함하는 코골이 분류 및 심탄도 신호분석 방법."}
{"patent_id": "10-2022-0161523", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "공개특허 10-2024-0061525-5-수면 중 사용자의 심박 추정 및 호흡 추정을 위한 심탄도(BCG) 신호 및 압력 신호와 코골이 감지를 위한 음향신호를 획득하는 센서부; 및센서부를 통해 획득된 신호들을 지엽적인 특징을 추출하기 위한 CNN(Convolutional Neural Networks) 알고리즘및 연속적인 특징을 추출하기 위한 LSTM(Long short-term memory) 알고리즘이 반영된 인공지능 모델에 적용하여사용자의 수면 품질을 분석하는 프로세서;를 포함하는 코골이 분류 및 심탄도 신호분석 시스템."}
{"patent_id": "10-2022-0161523", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "수면 품질 분석을 위해 인공지능 모델을 기반으로 코골이 분류 및 심탄도 신호를 분석하는 방법 및 시스템이 제 공된다. 본 발명의 실시예에 따른 코골이 분류 및 심탄도 신호분석 방법은, 센서부가 수면 중 사용자의 심박 추 정 및 호흡 추정을 위한 심탄도(BCG) 신호 및 압력 신호와 코골이 감지를 위한 음향 신호를 획득하는 단계; 및 프로세서가, 센서부를 통해 획득된 신호들을 CNN(Convolutional Neural Networks) 및 LSTM(Long short-term memory) 기반의 인공지능 모델에 적용하여 사용자의 수면 품질을 분석하는 단계;를 포함한다. 이에 의해, 소리 (음향) 분석을 위한 CNN 기반의 모델을 강화하여 더욱 정확한 코골이 분류 결과를 제공할 수 있으며, CNN+LSTM 기반의 인공지능 모델을 통해 정확한 수면 품질 분석 결과를 제공할 수 있다."}
{"patent_id": "10-2022-0161523", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 코골이 분류 및 심탄도 신호분석 방법 및 시스템에 관한 것으로, 더욱 상세하게는 수면 품질 분석을 위해 인공지능 모델을 기반으로 코골이 분류 및 심탄도 신호를 분석하는 방법 및 시스템에 관한 것이다."}
{"patent_id": "10-2022-0161523", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "심탄도(BCG; ballistocardiogram)는 심장의 수축과 이완에 따라 심장과 혈관에서의 혈류변화에 따른 탄도를 계 측한 신호를 의미하고, 이러한 심탄도(Ballistocardiogram: BCG) 신호는 심전도(Electrocardiogram: ECG) 신호 와 함께 사용자의 심장 박동에 대한 정보를 전기적 신호로 나타낸다. 이러한, 심탄도(BCG) 신호는 심장 박동에 대한 미세한 진동을 측정한 신호로 심장 근육의 움직임을 전기적 신호 로 표현할 수는 없지만 분당 심박 수 등에 대한 정보를 포함하고 있다. 또한, 심탄도(BCG) 신호는 신체에 특별 한 전극이나 센서를 부착할 필요가 없어 무구속적, 무자각적으로 사용자의 심박 신호를 측정할 수 있는 장점이 있다. 심탄도(BCG) 신호는 주로 사용자가 침대에 누운 상태에서 측정되는데 침대 아래에서 침대 전체의 미세한 무게 변화(Load Cell)를 감지하여 측정할 수도 있으며, 압력 센서(Pressure Sensor), 압전 센서(Piezoelectric Sensor) 등을 통해서도 측정이 가능하다. 이때 측정되는 신호에는 호흡과 움직임 및 잡음 신호가 함께 측정되며, 측정 시 신호에 영향을 주는 요소는 사용자의 누운 자세, 입은 옷은 재질 및 두께, 매트리스의 종류 등이 있다. 종래에는 한국등록특허 제10-1628262호와 같이 피검사자가 수면시 측정되는 심탄도 신호를 분석하여 분당 심박 수를 산출하는 기술이 개발되었으나, 종래 기술은, 센서가 모듈 타입이 아니기 때문에 확장성이 없어 그 한계가 존재하고, 단일 센서를 사용할 시, 외부 잡음(움직임, 전기적 노이즈)에 의해 쉽게 영향을 받아 신호의 정확도 가 떨어질 수 있다는 단점이 존재한다. 선행기술문헌 특허문헌 (특허문헌 0001) 한국등록특허 제10-1628262호(발명의 명칭: 주파수 분석을 이용한 심박수 산출 방법)"}
{"patent_id": "10-2022-0161523", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 상기와 같은 문제점을 해결하기 위하여 안출된 것으로서, 본 발명의 목적은, 사용자가 침대에 누워있 는지 일차적인 검증절차를 진행하여, 데이터 분석 절차를 간소화하고, 심탄도 측정 센서와 음향 측정 센서를 침 대에 내장하여 측정하기 어려운 신호들을 증폭시켜 획득할 수 있는 코골이 분류 및 심탄도 신호분석 방법 및 시 스템을 제공함에 있다. 더불어, 본 발명의 다른 목적은, 소리(음향) 분석을 위한 CNN 기반의 모델을 강화하여 더욱 정확한 코골이 분류 결과를 제공할 수 있으며, CNN+LSTM 기반의 인공지능 모델을 통해 정확한 수면 품질 분석 결과를 제공할 수 있 는 수면 품질 분석을 위한 코골이 분류 및 심탄도 신호분석 방법 및 시스템을 제공함에 있다."}
{"patent_id": "10-2022-0161523", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 목적을 달성하기 위한 본 발명의 일 실시예에 따른, 코골이 분류 및 심탄도 신호분석 방법은, 센서부가 수 면 중 사용자의 심박 추정 및 호흡 추정을 위한 심탄도(BCG) 신호 및 압력 신호와 코골이 감지를 위한 음향 신 호를 획득하는 단계; 및 프로세서가, 센서부를 통해 획득된 신호들을 CNN(Convolutional Neural Networks) 및 LSTM(Long short-term memory) 기반의 인공지능 모델에 적용하여 사용자의 수면 품질을 분석하는 단계;를 포함 한다. 그리고 센서부는, 사용자가 현재 침대에 누워있는지 감지하고, 사용자의 심박 추정 및 호흡 추정을 위한 압력 신호들을 획득하는 다중 압력센서; 사용자의 심탄도 신호를 획득하는 심탄도 측정 센서; 및 코골이 감지를 위한 음향 신호를 획득하는 음향 측정 센서;를 포함할 수 있다. 또한, 다중 압력센서는, 차압 측정을 위한 피에조 센서 및 절대압 측정을 위한 FSR(Force Sensing Resistors) 센서를 포함할 수 있다. 그리고 사용자의 수면 품질을 분석하는 단계는, 획득된 음향 신호를 CNN 기반의 인공지능 모델에 적용하여 코골 이 여부를 판단할 수 있다. 또한, 사용자의 수면 품질을 분석하는 단계는, 센서부의 다중 압력센서를 통해 획득된 압력 신호들을 대상으로 하드웨어 필터링을 수행하여 기설정된 제1 주파수 대역의 신호를 획득하는 단계; 하드웨어 필터링된 압력 신호 에 포함된 FSR 센서값(절대압 측정값)을 일정수준 이상의 절대압과 비교하여 사용자가 현재 침대에 누워있는지 판단하는 단계; 사용자가 현재 침대에 누워있는 것으로 판단되면, 윈도우 함수와 동기화하여 압력 신호가 획득 되는 기설정된 단위시간마다 음향 신호를 획득하는 단계; 획득된 각각의 기설정된 단위시간만큼의 음향 신호를 기반으로 인공지능 모델의 학습을 위한 표준화 및 정규화를 수행하는 단계; CNN 기반의 인공지능 모델을 기반으 로 코골이 신호를 학습시키는 단계; 및 테스트 데이터를 기반으로 실시간 코골이 신호를 분류하는 단계;를 포함 할 수 있다. 그리고 사용자의 수면 품질을 분석하는 단계는, 센서부의 다중 압력센서를 통해 획득된 압력 신호들을 대상으로 하드웨어 필터링을 수행하여 기설정된 제1 주파수 대역의 신호를 획득하는 단계; 하드웨어 필터링된 압력 신호 에 포함된 FSR 센서값(절대압 측정값)을 일정수준 이상의 절대압과 비교하여 사용자가 현재 침대에 누워있는지 판단하는 단계; 사용자가 현재 침대에 누워있는 것으로 판단되면, 하드웨어 필터링된 압력 신호 및 센서부의 심 탄도 측정 센서를 통해 획득된 심탄도 신호를 대상으로 윈도우 함수를 이용하여 기설정된 단위시간마다 단위시 간 동안 획득된 신호를 분리하는 단계; 분리된 각각의 신호를 대상으로 디지털 필터링을 수행하여 기설정된 제2 주파수 대역의 신호를 획득하는 단계; 심박과 호흡이 가질 수 있는 주파수 범위 내의 PSD(Power Spectral Density)를 기준으로 각 채널별 신호순위를 설정하는 단계; 디지털 필터링을 통해 획득된 각 채널별 신호와 설 정된 상위의 신호순위를 가진 신호를 비교분석(상관분석)하여 설정된 상위의 신호순위를 가진 신호와 가장 유사 도가 높은 신호를 가진 채널을 선택하는 단계; 및 선택된 채널의 신호를 대상으로 주파수 분석을 수행하여 심박 및 호흡을 추정하는 단계;를 포함할 수 있다. 또한, 사용자의 수면 품질을 분석하는 단계는, 심박의 추정 결과를 기반으로 심박 주파수 범위로 밴드패스 필터 링을 수행하는 단계; 밴드패스 필터링된 신호를 기준으로 심탄도 신호의 Peak-Detection을 수행하는 단계; 피크 (Peak) 값의 변이도를 기준으로 심박변이도(HRV)를 분석하는 단계; 및 심박변이도(HRV)의 주파수 분석을 수행하 여 스트레스를 추정하는 단계;를 더 포함할 수 있다. 그리고 사용자의 수면 품질을 분석하는 단계는, 센서부의 다중 압력센서를 통해 획득된 압력 신호들을 대상으로 하드웨어 필터링을 수행하여 기설정된 제1 주파수 대역의 신호를 획득하는 단계; 하드웨어 필터링된 압력 신호 에 포함된 FSR 센서값(절대압 측정값)을 일정수준 이상의 절대압과 비교하여 사용자가 현재 침대에 누워있는지 판단하는 단계; 사용자가 현재 침대에 누워있는 것으로 판단되면, 하드웨어 필터링된 압력 신호 및 센서부의 심 탄도 측정 센서를 통해 획득된 심탄도 신호를 대상으로 윈도우 함수를 이용하여 기설정된 단위시간마다 단위시 간 동안 획득된 신호를 분리하는 단계; 분리된 각각의 신호를 대상으로 디지털 필터링을 수행하여 기설정된 제2 주파수 대역의 신호를 획득하는 단계; 디지털 필터링된 각각의 신호를 기반으로 인공지능 모델의 학습을 위한표준화 및 정규화를 수행하는 단계; 표준화 및 정규화된 데이터를 학습 데이터로 활용하여 지엽적인 특징을 추 출하기 위한 CNN 알고리즘 및 연속적인 특징을 추출하기 위한 LSTM 알고리즘이 반영된 인공지능 모델을 학습시 키는 단계; 및 학습된 인공지능 모델에 새로 획득된 신호를 적용하여 사용자의 수면 상태를 NREM(Non-REM, 램 수면이 아닌 수면 상태), REM(램 수면 상태) 또는 WAKE(비수면 상태)으로 분류하는 단계;를 포함할 수 있다. 또한, 사용자의 수면 품질을 분석하는 단계는, 수면 상태의 분류 결과를 기반으로 전체 수면시도 시간(Time of WAKE+NREM+REM) 대비 잠든 시간(NREM+REM)의 비율을 계산하여 사용자의 수면 효율을 계산하는 단계; 및 REM/NREM 비율을 계산하여 사용자의 수면 품질을 분석하는 단계;를 더 포함할 수 있다. 한편, 본 발명의 다른 실시예에 따른, 코골이 분류 및 심탄도 신호분석 시스템은, 수면 중 사용자의 심박 추정 및 호흡 추정을 위한 심탄도(BCG) 신호 및 압력 신호와 코골이 감지를 위한 음향 신호를 획득하는 센서부; 및 센서부를 통해 획득된 신호들을 CNN(Convolutional Neural Networks) 및 LSTM(Long short-term memory) 기반의 인공지능 모델에 적용하여 사용자의 수면 품질을 분석하는 프로세서;를 포함한다. 그리고 본 발명의 다른 실시예에 따른, 코골이 분류 및 심탄도 신호분석 방법은, 센서부가 수면 중 사용자의 심 박 추정 및 호흡 추정을 위한 심탄도(BCG) 신호 및 압력 신호와 코골이 감지를 위한 음향 신호를 획득하는 단계; 및 프로세서가, 센서부를 통해 획득된 신호들을 지엽적인 특징을 추출하기 위한 CNN(Convolutional Neural Networks) 알고리즘 및 연속적인 특징을 추출하기 위한 LSTM(Long short-term memory) 알고리즘이 반영 된 인공지능 모델에 적용하여 사용자의 수면 품질을 분석하는 단계;를 포함한다. 또한, 본 발명의 다른 실시예에 따른, 코골이 분류 및 심탄도 신호분석 시스템은, 수면 중 사용자의 심박 추정 및 호흡 추정을 위한 심탄도(BCG) 신호 및 압력 신호와 코골이 감지를 위한 음향 신호를 획득하는 센서부; 및 센서부를 통해 획득된 신호들을 지엽적인 특징을 추출하기 위한 CNN(Convolutional Neural Networks) 알고리즘 및 연속적인 특징을 추출하기 위한 LSTM(Long short-term memory) 알고리즘이 반영된 인공지능 모델에 적용하여 사용자의 수면 품질을 분석하는 프로세서;를 포함한다."}
{"patent_id": "10-2022-0161523", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "이상 설명한 바와 같이, 본 발명의 실시예들에 따르면, 사용자가 침대에 누워있는지 일차적인 검증절차를 진행 하여, 데이터 분석 절차를 간소화하고, 심탄도 측정 센서와 음향 측정 센서를 침대에 내장하여 측정하기 어려운 신호들을 증폭시켜 획득할 수 있다. 더불어, 소리(음향) 분석을 위한 CNN 기반의 모델을 강화하여 더욱 정확한 코골이 분류 결과를 제공할 수 있으 며, CNN+LSTM 기반의 인공지능 모델을 통해 정확한 수면 품질 분석 결과를 제공할 수 있다."}
{"patent_id": "10-2022-0161523", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하에서는 도면을 참조하여 본 발명을 보다 상세하게 설명한다. 도 1은 본 발명의 일 실시예에 따른 코골이 분류 및 심탄도 신호분석 시스템의 설명에 제공된 도면이다. 도 1을 참조하면, 본 실시예에 따른 코골이 분류 및 심탄도 신호분석 시스템(이하에서는 '신호분석 시스템'으로 총칭하기로 함)은, 센서부, 프로세서 및 저장부를 포함할 수 있다. 센서부는, 수면 품질 분석을 위한 신호들을 획득할 수 있다. 예를 들면, 센서부는, 침대 매트에 내장되어, 수면 중 사용자의 심박 추정 및 호흡 추정을 위한 심탄도 (BCG) 신호 및 압력 신호와 코골이 감지를 위한 음향 신호를 획득할 수 있다. 저장부는, 프로세서가 동작함에 있어 필요한 프로그램 및 데이터를 저장하는 저장매체이다. 프로세서는, 신호분석 시스템의 제반 사항을 처리하기 위해 마련된다. 구체적으로 프로세서는, 센서부를 통해 획득된 신호들을 CNN(Convolutional Neural Networks) 알고 리즘 및 LSTM(Long short-term memory) 알고리즘이 반영된 인공지능 모델에 적용하여 수면 품질을 분석할 수 있 다. 도 2는, 본 발명의 일 실시예에 따른 센서부의 설명에 제공된 도면이고, 도 3은, 본 발명의 일 실시예에 따른 다중 압력센서가 배치된 모습이 예시된 도면이며, 도 4은, 본 발명의 일 실시예에 따른 다중 압력센 서의 구성 설명에 제공된 도면이다. 센서부는, 수면 품질 분석을 위한 신호들을 획득하기 위해, 다중 압력센서, 심탄도 측정 센서 및 음 향 측정 센서를 포함할 수 있다. 도 3은, 매트가 1000*2000(mm) 크기의 매트라고 가정하는 경우, 6개 지점에 다중 압력센서(111-1~111-6)가 배치 된 모습이 예시된 도면이다. 다중 압력센서는, 도 3에 예시된 바와 같이 침대 매트 내 복수의 지점(ex. 적어도 둘 이상의 지점)에 내장 되어, 사용자가 현재 침대에 누워있는지 감지하고 사용자의 심박 추정 및 호흡 추정을 위한 압력 신호들을 획득 할 수 있다. 이때, 각 다중 압력센서(111-1~111-6)는, 서로 일정한 간격으로 이격되도록 배치될 수 있다. 그리고 다중 압력센서는, 도 4에 예시된 바와 같이 차압 측정을 위한 피에조 센서 및 절대압 측정을 위한 FSR(Force Sensing Resistors) 센서를 포함할 수 있다. 구체적으로, 각 다중 압력센서(111-1~111-6)는, 피에조 센서와 FSR 센서가 하나의 모듈로 조립될 수 있다. 즉, 모듈화된 피에조 센서와 FSR 센서의 조립체인 다중 압력센서는 침대 매트 내 복수의 지점에 내장되어, 심박에 의한 혈관의 진동을 측정하여 프로세서가 사용자의 심박을 추정하도록 할 수 있다. 그리고 다중 압력센서는, 침대에 누워있는 사용자의 호흡 시 발생하는 횡격막의 수축, 팽창 변화를 측정하 여 프로세서가 호흡을 추정하도록 할 수 있다. 또한, 다중 압력센서는, 침대에 누워있는 사용자의 수면 시 발생하는 뒤척임(움직임)을 측정하여 프로세서 가 심박, 호흡과 함께 수면 상태(NREM, REM, WAKE)를 판단하도록 할 수 있다. 심탄도 측정 센서는, 사용자의 심박 추정 및 호흡 추정을 위한 심탄도 신호를 획득할 수 있으며, 음향 측정 센 서는, 코골이 감지를 위한 음향 신호를 획득할 수 있다. 구체적으로, 심탄도 측정 센서 및 음향 측정 센서는, 다중 압력센서와 마찬가지로 침대 매트 내 복수의 지 점에 설치될 수 있다. 음향 측정 센서는, 다중 압력센서를 통해 사용자가 침대에 누워있는 것으로 판단되면, 동작(신호 수집 및 증폭)하여 각 지점에서 사용자의 음향 신호를 획득할 수 있으며, 프로세서는, 음향 측정 센서가 동작하는 시간(타이밍)에만 획득되는 신호들을 필터링/증폭하여 신호 분석을 수행할 수 있다. 도 5는, 본 발명의 일 실시예에 따른 CNN 모델의 설명에 제공된 도면이고, 도 6은, 본 발명의 일 실시예에 따른 CNN-LSTM 모델의 설명에 제공된 도면이다. 프로세서는, 사용자의 수면 품질을 분석에 앞서, 수면 품질 분석에 이용되는 요소인 사용자의 심박/호흡/ 심박변이도를 분석하고, 사용자의 수면 상태를 분류하며, 사용자의 코골이 여부를 판단할 수 있다. 구체적으로, 프로세서는, 센서부를 통해 획득된 심탄도 신호 및 압력 신호들(차압 측정 신호 및 절대 압 측정 신호)을 기반으로 사용자의 심박/호흡/심박변이도를 분석할 수 있다. 구체적으로 예를 들면, 프로세서는, 다중 압력센서를 통해 획득된 압력 신호들을 대상으로 하드웨어 필터링을 수행하여 기설정된 제1 주파수 대역(ex.0.1~30Hz)의 압력 신호를 획득하고, 하드웨어 필터링된 압력 신호에 포함된 FSR 센서값(절대압 측정값)을 일정수준 이상의 절대압과 비교하여 사용자가 현재 침대에 누워있 는지 판단할 수 있다. 그리고 프로세서는, 사용자가 현재 침대에 누워있는 것으로 판단되면, 하드웨어 필터링된 압력 신호 및 센 서부의 심탄도 측정 센서를 통해 획득된 심탄도 신호를 대상으로 윈도우 함수를 이용하여 기설정된 단위시 간(ex. 30초)마다 단위시간 동안 획득된 신호(ex. 심탄도 신호 or 심탄도 신호+압력 신호들)를 분리할 수 있다. 또한, 프로세서는, 분리된 각각의 신호를 대상으로 디지털 필터링을 수행하여 기설정된 제2 주파수 대역 (ex. 0.5~2.5Hz)의 압력 신호를 획득하고, 심박과 호흡이 가질 수 있는 주파수 범위 내의 PSD(Power Spectral Density)를 기준으로 각 채널별 신호순위를 설정할 수 있다. 그리고 프로세서는, 디지털 필터링을 통해 획득된 각 채널별 신호와 설정된 상위의 신호순위를 가진 신호 를 비교분석(상관분석)하여 설정된 상위의 신호순위를 가진 신호와 가장 유사도가 높은 신호를 가진 채널을 선 택하고, 선택된 채널의 신호를 대상으로 주파수 분석을 수행하여 심박 및 호흡을 추정할 수 있다. 또한, 프로세서는, 심박의 추정 결과를 기반으로 심박 주파수 범위로 밴드패스 필터링을 수행하고, 밴드패 스 필터링된 신호를 기준으로 심탄도 신호의 Peak-Detection을 수행하여, 피크(Peak) 값의 변이도를 기준으로 심박변이도(HRV)를 분석할 수 있다. 그리고 프로세서는, 심박변이도(HRV)의 주파수 분석(VLF(Very Low Frequency, LF(Low Frequency), HF(High Frequency))을 수행하여 스트레스를 추정할 수 있다. 한편, 프로세서는, 센서부를 통해 획득된 음향 신호들을 도 5에 예시된 CNN 알고리즘이 반영된 인공 지능 모델(CNN 모델)에 적용하여 코골이 여부를 판단할 수 있다. 구체적으로 예를 들면, 프로세서는, 전술한 바와 같이 센서부를 통해 획득된 압력 신호들을 대상으로 하드웨어 필터링을 수행하고, 하드웨어 필터링된 압력 신호에 포함된 FSR 센서값(절대압 측정값)을 일정수준 이 상의 절대압과 비교하여 사용자가 현재 침대에 누워있는지 판단한 결과, 사용자가 현재 침대에 누워있는 것으로 판단되면, 윈도우 함수와 동기화하여 압력 신호가 획득되는 기설정된 단위시간(ex. 30초)마다 음향 신호를 획득 할 수 있다. 그리고 프로세서는, 획득된 각각의 기설정된 단위시간만큼의 음향 신호를 기반으로 지엽적인 특징을 추출 하기 위한 CNN 모델의 학습을 위한 표준화 및 정규화를 수행하고, CNN 모델을 기반으로 코골이 신호를 학습시켜, 테스트 데이터를 기반으로 입력되는 음향 신호에서 사용자 주변의 환경 음과 코골이 신호를 실시간 분류할 수 있다. 또한, 프로세서는, 센서부를 통해 획득된 압력 신호들을 도 6에 예시된 CNN 알고리즘 및 LSTM 알고리 즘이 반영된 인공지능 모델(CNN-LSTM 모델)에 적용하여 사용자의 수면 상태를 분류할 수 있다. 구체적으로 예를 들면, 프로세서는, 전술한 바와 같이 센서부를 통해 획득된 압력 신호들을 대상으로 하드웨어 필터링을 수행하고, 하드웨어 필터링된 압력 신호에 포함된 FSR 센서값(절대압 측정값)을 일정수준 이 상의 절대압과 비교하여 사용자가 현재 침대에 누워있는지 판단한 결과, 사용자가 현재 침대에 누워있는 것으로 판단되면, 하드웨어 필터링된 압력 신호 및 센서부의 심탄도 측정 센서를 통해 획득된 심탄도 신호를 대상 으로 윈도우 함수를 이용하여 기설정된 단위시간(ex. 30초)마다 단위시간 동안 획득된 신호(ex. 심탄도 신호 or 심탄도 신호+압력 신호들)를 분리하고, 분리된 각각의 신호를 대상으로 디지털 필터링을 수행하여 기설정된 제2 주파수 대역의 신호를 획득할 수 있다. 또한, 프로세서는, 디지털 필터링된 각각의 신호를 기반으로 CNN 모델 및 LSTM 모델의 학습을 위한 표준화 및 정규화를 수행하고, 표준화 및 정규화된 데이터를 학습 데이터로 활용하여 지엽적인 특징을 추출하기 위한CNN 모델 및 연속적인 특징을 추출하기 위한 LSTM 모델을 학습시킬 수 있다. 여기서 LSTM 모델은, 학습된 CNN 모델을 통해 추출된 지엽적인 특징을 기반으로 연속적인 특징을 추출하는 구조 로 설계될 수 있다. 즉, 프로세서는, 모델 학습 시, 표준화 및 정규화된 데이터를 학습 데이터로 활용하여 지엽적인 특징을 추 출하기 위한 CNN 모델을 학습시키고, 표준화 및 정규화된 데이터를 학습 데이터로 활용하여, 학습된 CNN 모델을 통해 추출된 지엽적인 특징이 전달되는 구조로 설계된 LSTM 모델을 학습시킬 수 있다. 그리고 프로세서는, 학습된 인공지능 모델에 새로 획득된 신호를 적용하여 사용자의 수면 상태를 NREM(Non-REM, 램 수면이 아닌 수면 상태), REM(램 수면 상태) 또는 WAKE(비수면 상태)으로 분류할 수 있다. 또한, 프로세서는, 수면 상태의 분류 결과를 기반으로 전체 수면시도 시간(Time of WAKE+NREM+REM) 대비 잠든 시간(NREM+REM)의 비율을 계산하여 사용자의 수면 효율을 계산하고, REM/NREM 비율을 계산하여 사용자의 수면 품질을 분석할 수 있다. 한편, 프로세서는, 심박/호흡/심박변이도, 수면 상태 및 코골이 여부 등의 요인을 기반으로 수면 중 스트 레스와 코골이간 상관관계를 분석하거나, 수면 품질 및 수면 효율과 코골이간 상관관계를 분석하거나 및/또는 코골이 발생 시 무호흡 상관관계를 분석할 수 있다. 예를 들면, 프로세서는, 심박변이도 기반의 자율신경 활성도 분석을 통한 스트레스 추정도와 수면 중 코골 이간의 상관관계를 분석함으로써 수면중 코골이 발생에 따른 스트레스의 변화 추이를 분석할 수 있다. 그리고 프로세서는, 수면 품질, 수면효율 분석과 수면 중 코골이간의 상관관계를 분석함으로써 코골이에 따른 수면질의 변화 추이를 분석할 수 있다. 또한, 프로세서는, 호흡과 코골이간의 상관관계를 분석함으로써 코골이에 따른 무호흡에 발생 위험도 분석 을 수행하고, 사용자의 수면 중 위험 발생 시 주변에 경보를 알리는 알림 서비스가 제공되도록 할 수 있다. 도 7은, 본 발명의 일 실시예에 따른 신호분석 시스템을 이용하여 심박/호흡/심박변이도를 분석하는 방법의 설 명에 제공된 흐름도이다. 본 실시예에 따른 코골이 분류 및 심탄도 신호분석 방법(이하에서는 '신호분석 방법'으로 총칭하기로 함)은, 도 1 내지 도 6을 참조하여 전술한 신호분석 시스템을 이용하여 사용자의 심박/호흡/심박변이도를 분석하고, 사용 자의 수면 상태를 분류하며, 사용자의 코골이 여부를 판단할 수 있다. 도 7을 참조하면, 신호분석 방법은, 센서부를 통해 심탄도 신호 및 압력 신호들을 획득하고(S710), 프로세 서를 통해 획득된 압력 신호들을 대상으로 하드웨어 필터링을 수행하여 기설정된 제1 주파수 대역 (ex.0.1~30Hz)의 압력 신호를 획득하고(S715), 하드웨어 필터링된 압력 신호에 포함된 FSR 센서값(절대압 측정 값)을 일정수준 이상의 절대압과 비교하여(S720), 사용자가 현재 침대에 누워있는지(재실 여부) 판단할 수 있다 (S725). 그리고 신호분석 방법은, 사용자가 현재 침대에 누워있는 것으로 판단되면(S725-Yes), 하드웨어 필터링된 압력 신호 및 센서부의 심탄도 측정 센서를 통해 획득된 심탄도 신호를 대상으로 윈도우 함수를 이용하여 기설 정된 단위시간(ex. 30초)마다 단위시간 동안 획득된 신호를 분리할 수 있다(S730). 또한, 신호분석 방법은, 프로세서를 통해 분리된 각각의 신호를 대상으로 디지털 필터링을 수행하여 기설 정된 제2 주파수 대역(ex. 0.5~2.5Hz)의 압력 신호를 획득하고(S735), 심박과 호흡이 가질 수 있는 주파수 범위 내의 PSD(Power Spectral Density)를 기준으로 각 채널별 신호순위를 설정할 수 있다(S740). 그리고 신호분석 방법은, 디지털 필터링을 통해 획득된 각 채널별 신호와 설정된 상위의 신호순위를 가진 신호 를 비교분석(상관분석)하여(S745), 설정된 상위의 신호순위를 가진 신호와 가장 유사도가 높은 신호를 가진 채 널을 선택하고(S750), 선택된 채널의 신호를 대상으로 주파수 분석을 수행하여 심박 및 호흡을 추정할 수 있다 (S755). 또한, 신호분석 방법은, 프로세서를 통해 심박의 추정 결과를 기반으로 심박 주파수 범위로 밴드패스 필터 링을 수행하고(S760), 밴드패스 필터링된 신호를 기준으로 심탄도 신호의 Peak-Detection을 수행하여(S765), 피 크(Peak) 값의 변이도를 기준으로 심박변이도(HRV)를 분석할 수 있다(S770). 그리고 신호분석 방법은, 프로세서를 통해 심박변이도(HRV)의 주파수 분석(VLF(Very Low Frequency, LF(Low Frequency), HF(High Frequency))을 수행하여 스트레스를 추정할 수 있다(S775). 도 8은, 본 발명의 일 실시예에 따른 신호분석 시스템을 이용하여 수면 상태를 분류하는 방법의 설명에 제공된 흐름도이다. 도 8을 참조하면, 신호분석 방법은, 센서부를 통해 심탄도 신호 및 압력 신호들을 획득하고(S810), 프로세 서를 통해 획득된 압력 신호들을 대상으로 하드웨어 필터링을 수행하여 기설정된 제1 주파수 대역 (ex.0.1~30Hz)의 압력 신호를 획득하고(S815), 하드웨어 필터링된 압력 신호에 포함된 FSR 센서값(절대압 측정 값)을 일정수준 이상의 절대압과 비교하여(S820), 사용자가 현재 침대에 누워있는지 판단할 수 있다(S825). 신호분석 방법은, 사용자가 현재 침대에 누워있는 것으로 판단되면(S825-Yes), 프로세서를 통해 하드웨어 필터링된 압력 신호 및 센서부의 심탄도 측정 센서를 통해 획득된 심탄도 신호를 대상으로 윈도우 함수를 이용하여 기설정된 단위시간(ex. 30초)마다 단위시간 동안 획득된 신호를 분리하고(S830), 분리된 각각의 신호 를 대상으로 디지털 필터링을 수행하여 기설정된 제2 주파수 대역의 신호를 획득할 수 있다(S835). 또한, 신호분석 방법은, 프로세서를 통해 디지털 필터링된 각각의 신호를 기반으로 CNN 모델 및 LSTM 모델 의 학습을 위한 표준화 및 정규화를 수행하고(S840), 표준화 및 정규화된 데이터를 학습 데이터로 활용하여 지 엽적인 특징을 추출하기 위한 CNN 모델 및 연속적인 특징을 추출하기 위한 LSTM 모델을 학습시킬 수 있다. 구체적으로, 프로세서은, 표준화 및 정규화된 데이터를 학습 데이터로 활용하여 지엽적인 특징을 추출하기 위한 CNN 모델을 학습시키고(S845), 표준화 및 정규화된 데이터를 학습 데이터로 활용하여, 학습된 CNN 모델을 통해 추출된 지엽적인 특징에 대한 정보가 전달되는 LSTM 모델을 학습시킬 수 있다(S850). 그리고 신호분석 방법은, 프로세서를 통해 학습된 CNN-LSTM 모델에 새로 획득된 신호를 적용하여 사용자의 수면 상태를 NREM(Non-REM, 램 수면이 아닌 수면 상태), REM(램 수면 상태) 또는 WAKE(비수면 상태)으로 분류할 수 있다(S855). 또한, 신호분석 방법은, 프로세서를 통해 수면 상태의 분류 결과를 기반으로 전체 수면시도 시간(Time of WAKE+NREM+REM) 대비 잠든 시간(NREM+REM)의 비율을 계산하여 사용자의 수면 효율을 계산하고, REM/NREM 비율을 계산하여 사용자의 수면 품질을 분석할 수 있다. 도 9는, 본 발명의 일 실시예에 따른 신호분석 시스템을 이용하여 코골이 분석을 수행하는 방법의 설명에 제공 된 흐름도이다. 도 9를 참조하면, 신호분석 방법은, 신호분석 방법은, 센서부를 통해 압력 신호들을 획득하고(S910), 프로 세서를 통해 획득된 압력 신호들을 대상으로 하드웨어 필터링을 수행하여 기설정된 제1 주파수 대역 (ex.0.1~30Hz)의 압력 신호를 획득하고(S915), 하드웨어 필터링된 압력 신호에 포함된 FSR 센서값(절대압 측정 값)을 일정수준 이상의 절대압과 비교하여(S920), 사용자가 현재 침대에 누워있는지 판단할 수 있다(S925). 그리고 신호분석 방법은, 사용자가 현재 침대에 누워있는 것으로 판단되면(S925-Yes), 프로세서를 통해 윈 도우 함수와 동기화하여 압력 신호가 획득되는 기설정된 단위시간(ex. 30초)마다 음향 신호를 획득할 수 있다 (S930). 그리고 신호분석 방법은, 프로세서를 통해 획득된 각각의 기설정된 단위시간만큼의 음향 신호를 기반으로 지엽적인 특징을 추출하기 위한 CNN 모델의 학습을 위한 표준화 및 정규화를 수행하고(S935), CNN 모델을 기반 으로 코골이 신호를 학습시켜(S940), 테스트 데이터를 기반으로 입력되는 음향 신호에서 사용자 주변의 환경 음 과 코골이 신호를 실시간 분류할 수 있다(S945). 한편, 본 실시예에 따른 장치와 방법의 기능을 수행하게 하는 컴퓨터 프로그램을 수록한 컴퓨터로 읽을 수 있는 기록매체에도 본 발명의 기술적 사상이 적용될 수 있음은 물론이다. 또한, 본 발명의 다양한 실시예에 따른 기 술적 사상은 컴퓨터로 읽을 수 있는 기록매체에 기록된 컴퓨터로 읽을 수 있는 코드 형태로 구현될 수도 있다. 컴퓨터로 읽을 수 있는 기록매체는 컴퓨터에 의해 읽을 수 있고 데이터를 저장할 수 있는 어떤 데이터 저장 장 치이더라도 가능하다. 예를 들어, 컴퓨터로 읽을 수 있는 기록매체는 ROM, RAM, CD-ROM, 자기 테이프, 플로피 디스크, 광디스크, 하드 디스크 드라이브, 등이 될 수 있음은 물론이다. 또한, 컴퓨터로 읽을 수 있는 기록매체 에 저장된 컴퓨터로 읽을 수 있는 코드 또는 프로그램은 컴퓨터간에 연결된 네트워크를 통해 전송될 수도 있다. 또한, 이상에서는 본 발명의 바람직한 실시예에 대하여 도시하고 설명하였지만, 본 발명은 상술한 특정의 실시"}
{"patent_id": "10-2022-0161523", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "예에 한정되지 아니하며, 청구범위에서 청구하는 본 발명의 요지를 벗어남이 없이 당해 발명이 속하는 기술분야에서 통상의 지식을 가진자에 의해 다양한 변형실시가 가능한 것은 물론이고, 이러한 변형실시들은 본 발명의 기술적 사상이나 전망으로부터 개별적으로 이해되어져서는 안될 것이다."}
{"patent_id": "10-2022-0161523", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 코골이 분류 및 심탄도 신호분석 시스템의 설명에 제공된 도면, 도 2는, 본 발명의 일 실시예에 따른 센서부의 설명에 제공된 도면, 도 3은, 본 발명의 일 실시예에 따른 다중 압력센서가 배치된 모습이 예시된 도면, 도 4은, 본 발명의 일 실시예에 따른 다중 압력센서의 구성 설명에 제공된 도면, 도 5는, 본 발명의 일 실시예에 따른 CNN 모델의 설명에 제공된 도면, 도 6은, 본 발명의 일 실시예에 따른 CNN-LSTM 모델의 설명에 제공된 도면, 도 7은, 본 발명의 일 실시예에 따른 코골이 분류 및 심탄도 신호분석 시스템을 이용하여 심박/호흡/심박변이도 를 분석하는 방법의 설명에 제공된 흐름도, 도 8은, 본 발명의 일 실시예에 따른 코골이 분류 및 심탄도 신호분석 시스템을 이용하여 수면 상태를 분류하는 방법의 설명에 제공된 흐름도, 그리고 도 9는, 본 발명의 일 실시예에 따른 코골이 분류 및 심탄도 신호분석 시스템을 이용하여 코골이 분석을 수행하 는 방법의 설명에 제공된 흐름도이다."}
