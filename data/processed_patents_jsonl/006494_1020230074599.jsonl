{"patent_id": "10-2023-0074599", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0175026", "출원번호": "10-2023-0074599", "발명의 명칭": "강화학습을 이용한 포트폴리오 매매 시스템 및 방법", "출원인": "주식회사 디셈버앤컴퍼니", "발명자": "김정우"}}
{"patent_id": "10-2023-0074599", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "강화학습 모델을 생성하는 학습 모듈 및상기 학습 모듈에서 생성된 강화학습 모델을 이용하여 매매를 처리하는 매매 모듈을 포함하고,상기 학습 모듈은복수의 종목 별 매수 수량 정보를 포함하는 학습 포트폴리오 정보를 수신하는 학습 포트폴리오 정보 수신부;상기 학습 포트폴리오 정보에 포함된 종목별로 가상 매수주문을 생성하는 가상 매수주문 생성부; 및상기 생성된 가상 매수주문의 체결 결과에 따라서 보상 또는 패널티를 부여하고, 상기 부여된 보상 또는 패널티의 결과를 이용하여 보상이 최대가 되는 강화학습 모델을 생성하는 강화학습 모델 생성부를 포함하고,상기 매매 모듈은복수의 종목 정보를 포함하는 실제 포트폴리오 정보를 수신하는 실제 포트폴리오 정보 수신부 및상기 생성된 강화학습 모델을 이용하여 상기 실제 포트폴리오 정보에 포함된 종목별로 실제 매수주문을 생성하는 실제 매수주문 생성부를 포함하는 것을 특징으로 하는 포트폴리오 매매 시스템."}
{"patent_id": "10-2023-0074599", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 강화학습 모델 생성부는미리 정해진 최소 매수 시작일까지 상기 학습 포트폴리오 정보에 포함된 종목 중 하나도 매수가 체결되지 않는경우 제1 패널티를 부여하고,미리 정해진 포트폴리오 완성일까지 상기 학습 포트폴리오 정보에 포함된 종목별 매수 수량을 모두 매수하지 못하는 경우 제2 패널티를 부여하는 것을 특징으로 하는 포트폴리오 매매 시스템."}
{"patent_id": "10-2023-0074599", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 강화학습 모델 생성부는각 매수주문에 대하여,각 매수주문이 체결되면 각 매수주문의 매수가격과 시장가의 차이에 대응되는 보상을 부여하고,각 매수주문이 체결되지 않으면 체결되지 않은 매수주문의 대상 종목의 일별 평균수익률에 대응하는 제3 패널티를 부여하는 것을 특징으로 하는 포트폴리오 매매 시스템."}
{"patent_id": "10-2023-0074599", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,공개특허 10-2024-0175026-3-상기 강화학습 모델 생성부는상기 제1 패널티 및 제2 패널티를 상기 보상 및 상기 제3 패널티보다 크게 부여하는 것을 특징으로 하는 포트폴리오 매매 시스템."}
{"patent_id": "10-2023-0074599", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서,상기 강화학습 모델 생성부는복수의 종목에 대한 과거 호가 데이터를 이용하여 상기 가상 매수주문의 체결 결과를 시뮬레이션하고, 시뮬레이션된 체결 결과에 따라 보상 및 패널티를 부여하는 것을 특징으로 하는 포트폴리오 매매 시스템."}
{"patent_id": "10-2023-0074599", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5항에 있어서,상기 가상 매수주문 생성부는과거의 정해진 시점을 기준으로 상기 학습 포트폴리오 정보에 포함된 종목별로 시장가를 확인하고, 시장가 이하의 호가별로 가상 매수 주문을 생성하는 것을 특징으로 하는 포트폴리오 매매 시스템."}
{"patent_id": "10-2023-0074599", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "중앙처리장치 및 메모리를 구비하는 포트폴리오 매매 시스템에서 동작하는 포트폴리오 매매 방법에 있어서,복수의 종목 별 매수 수량 정보를 포함하는 학습 포트폴리오 정보를 수신하는 학습 포트폴리오 정보 수신 단계상기 학습 포트폴리오 정보에 포함된 종목별로 가상 매수주문을 생성하는 가상 매수주문 생성 단계;상기 생성된 가상 매수주문의 체결 결과에 따라서 보상 또는 패널티를 부여하고, 상기 부여된 보상 또는 패널티의 결과를 이용하여 보상이 최대가 되는 강화학습 모델을 생성하는 강화학습 모델 생성 단계;복수의 종목 정보를 포함하는 실제 포트폴리오 정보를 수신하는 실제 포트폴리오 정보 수신 단계 및상기 생성된 강화학습 모델을 이용하여 상기 실제 포트폴리오 정보에 포함된 종목별로 실제 매수주문을 생성하는 실제 매수주문 생성 단계를 포함하는 것을 특징으로 하는 포트폴리오 매매 방법."}
{"patent_id": "10-2023-0074599", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7항에 있어서,상기 강화학습 모델 생성 단계는미리 정해진 최소 매수 시작일까지 상기 학습 포트폴리오 정보에 포함된 종목 중 하나도 매수가 체결되지 않는경우 제1 패널티를 부여하고,미리 정해진 포트폴리오 완성일까지 상기 학습 포트폴리오 정보에 포함된 종목별 매수 수량을 모두 매수하지 못하는 경우 제2 패널티를 부여하는 것을 특징으로 하는 포트폴리오 매매 방법."}
{"patent_id": "10-2023-0074599", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에 있어서,상기 강화학습 모델 생성 단계는공개특허 10-2024-0175026-4-각 매수주문에 대하여,각 매수주문이 체결되면 각 매수주문의 매수가격과 시장가의 차이에 대응되는 보상을 부여하고,각 매수주문이 체결되지 않으면 체결되지 않은 매수주문의 대상 종목의 일별 평균수익률에 대응하는 제3 패널티를 부여하는 것을 특징으로 하는 포트폴리오 매매 방법."}
{"patent_id": "10-2023-0074599", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서,상기 강화학습 모델 생성 단계는상기 제1 패널티 및 제2 패널티를 상기 보상 및 상기 제3 패널티보다 크게 부여하는 것을 특징으로 하는 포트폴리오 매매 방법."}
{"patent_id": "10-2023-0074599", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제10항에 있어서,상기 강화학습 모델 생성 단계는복수의 종목에 대한 과거 호가 데이터를 이용하여 상기 가상 매수주문의 체결 결과를 시뮬레이션하고, 시뮬레이션된 체결 결과에 따라 보상 및 패널티를 부여하는 것을 특징으로 하는 포트폴리오 매매 방법."}
{"patent_id": "10-2023-0074599", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제11항에 있어서,상기 가상 매수주문 생성 단계는과거의 정해진 시점을 기준으로 상기 학습 포트폴리오 정보에 포함된 종목별로 시장가를 확인하고, 시장가 이하의 호가별로 가상 매수 주문을 생성하는 것을 특징으로 하는 포트폴리오 매매 방법."}
{"patent_id": "10-2023-0074599", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제7항 내지 제12항 중 어느 한 항의 방법을 컴퓨터가 실행하도록 기능시키기 위한 프로그램이 기록된 컴퓨터로읽을 수 있는 기록매체."}
{"patent_id": "10-2023-0074599", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 강화학습을 이용한 포트폴리오 매매 시스템 및 방법에 관한 것으로 강화학습 모델을 생성하는 학습 모 듈 및 상기 학습 모듈에서 생성된 강화학습 모델을 이용하여 매매를 처리하는 매매 모듈을 포함하고, 상기 학습 모듈은 복수의 종목 별 매수 수량 정보를 포함하는 학습 포트폴리오 정보를 수신하는 학습 포트폴리오 정보 수신 (뒷면에 계속)"}
{"patent_id": "10-2023-0074599", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 강화학습을 이용한 포트폴리오 매매 시스템 및 방법에 관한 것으로, 초기 포트폴리오를 구성하는 과 정에서 강화학습을 이용하여 투자자의 초기 수익률을 높일 수 있도록 하는 시스템과 그 방법에 관한 것이다."}
{"patent_id": "10-2023-0074599", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "빅데이터와 인공지능 기술이 발달하면서, 인공지능 기술을 이용하여 투자 포트폴리오를 구축하고, 구축된 투자 포트폴리오에 대한 자동 매수가 이루어져 사용자의 투자 계좌를 관리하는 일임 투자가 활성화되고 있다. 그러나, 초기에 포트폴리오를 구성한 직후 포트폴리오 수익률이 음수로 나타나는 경우 해당 일임 투자 서비스에 서 이탈하는 사용자가 많으며, 이에 따라 장기적인 투자 성과를 얻기 어려운 경우가 발생되고 있다. 종래기술인 한국공개특허 제10-2016-0032416호, \"주식종목의 일괄적인 실시간 자동매매 시스템 및 그 시스템을 이용한 자동매매 제공방법\"은 사용자가 하나 또는 다수의 조건을 부여하여 그 조건에 부합된 종목에 한해서 통합적으로 매도 및 매수조건을 부여하여 매매를 처리할 수 있도록 하는 기술을 개시하고 있는데, 특정 증권사의 HTS에서 조건에 따라 자동매매를 하는 기능을 부가하는데 그치고 있어, 초기 사용자의 투자 포트폴리오를 유리 하게 구축하여 장기적인 투자를 유도하기에는 어려움이 있다. 따라서, 사용자의 투자 포트폴리오를 초기에 최대한 유리하게 구축할 수 있도록 하는 방법이 요구된다. 선행기술문헌 특허문헌 (특허문헌 0001) 한국공개특허 제10-2016-0032416호"}
{"patent_id": "10-2023-0074599", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 일임투자에 투자하는 사용자가 지속적인 투자를 유지할 수 있도록 하는 것을 목적으로 한다. 본 발명은 투자 포트폴리오를 구축하는 시점에서, 초기 수익률을 높이면서도 빠르게 포트폴리오를 구축할 수 있 도록 하는 것을 목적으로 한다. 본 발명은 투자 포트폴리오를 구축할 때에, 정해진 시간 내에 포트폴리오를 시작하고 완료하지 못하는 경우 패 널티를 부여하여 강화학습 모델을 생성함으로써, 초기 포트폴리오를 빠르게 구축할 수 있도록 하는 것을 목적으 로 한다. 본 발명은 시장가와 실제 체결가격의 차이를 보상으로 부여하여 강화학습 모델을 생성함으로써, 초기 포트폴리 오 구축 시점의 수익률을 극대화하는 것을 목적으로 한다. 본 발명은 낮은 호가 주문으로 인해 체결이 이루어지지 않는 경우, 일별 수익률에 대응하는 패널티를 부여함으 로써, 초기 포트폴리오 구축 시점의 수익률을 극대화하는 것을 목적으로 한다."}
{"patent_id": "10-2023-0074599", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "이러한 목적을 달성하기 위하여 본 발명의 일실시예에 따른 포트폴리오 매매 시스템은 강화학습 모델을 생성하 는 학습 모듈 및 상기 학습 모듈에서 생성된 강화학습 모델을 이용하여 매매를 처리하는 매매 모듈을 포함하고, 상기 학습 모듈은 복수의 종목 별 매수 수량 정보를 포함하는 학습 포트폴리오 정보를 수신하는 학습 포트폴리 오 정보 수신부, 상기 학습 포트폴리오 정보에 포함된 종목별로 가상 매수주문을 생성하는 가상 매수주문 생성 부 및 상기 생성된 가상 매수주문의 체결 결과에 따라서 보상 또는 패널티를 부여하고, 상기 부여된 보상 또는 패널티의 결과를 이용하여 보상이 최대가 되는 강화학습 모델을 생성하는 강화학습 모델 생성부를 포함하고, 상 기 매매 모듈은 복수의 종목 별 매수 수량 정보를 포함하는 실제 포트폴리오 정보를 수신하는 실제 포트폴리오 정보 수신부 및 상기 생성된 강화학습 모델을 이용하여 상기 실제 포트폴리오 정보에 포함된 종목별로 실제 매 수주문을 생성하는 실제 매수주문 생성부를 포함하도록 구성될 수 있다. 이 때, 상기 강화학습 모델 생성부는 미리 정해진 최소 매수 시작일까지 상기 학습 포트폴리오 정보에 포함된 종목 중 하나도 매수가 체결되지 않는 경우 제1 패널티를 부여하고, 미리 정해진 포트폴리오 완성일까지 상기 학습 포트폴리오 정보에 포함된 종목별 매수 수량을 모두 매수하지 못하는 경우 제2 패널티를 부여할 수 있다. 또한, 상기 강화학습 모델 생성부는 각 매수주문에 대하여, 각 매수주문이 체결되면 각 매수주문의 매수가격과 시장가의 차이에 대응되는 보상을 부여하고, 각 매수주문이 체결되지 않으면 체결되지 않은 매수주문의 대상 종 목의 일별 평균수익률에 대응하는 제3 패널티를 부여할 수 있다. 또한, 상기 강화학습 모델 생성부는 상기 제1 패널티 및 제2 패널티를 상기 보상 및 상기 제3 패널티보다 크게 부여할 수 있다. 이 때, 상기 강화학습 모델 생성부는 복수의 종목에 대한 과거 호가 데이터를 이용하여 상기 가상 매수주문의 체결 결과를 시뮬레이션하고, 시뮬레이션된 체결 결과에 따라 보상 및 패널티를 부여하도록 구성될 수 있다. 또한, 상기 가상 매수주문 생성부는 과거의 정해진 시점을 기준으로 상기 학습 포트폴리오 정보에 포함된 종목 별로 시장가를 확인하고, 시장가 이하의 호가별로 가상 매수 주문을 생성할 수 있다."}
{"patent_id": "10-2023-0074599", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명은 일임투자에 투자하는 사용자가 지속적인 투자를 유지할 수 있도록 하는 효과를 얻을 수 있다. 본 발명은 투자 포트폴리오를 구축하는 시점에서, 초기 수익률을 높이면서도 빠르게 포트폴리오를 구축할 수 있 도록 하는 효과를 얻을 수 있다. 본 발명은 투자 포트폴리오를 구축할 때에, 정해진 시간 내에 포트폴리오를 시작하고 완료하지 못하는 경우 패 널티를 부여하여 강화학습 모델을 생성함으로써, 초기 포트폴리오를 빠르게 구축할 수 있도록 하는 효과를 얻을 수 있다. 본 발명은 시장가와 실제 체결가격의 차이를 보상으로 부여하여 강화학습 모델을 생성함으로써, 초기 포트폴리 오 구축 시점의 수익률을 극대화하는 효과를 얻을 수 있다. 본 발명은 낮은 호가 주문으로 인해 체결이 이루어지지 않는 경우, 일별 수익률에 대응하는 패널티를 부여함으 로써, 초기 포트폴리오 구축 시점의 수익률을 극대화하는 효과를 얻을 수 있다."}
{"patent_id": "10-2023-0074599", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 본 발명의 바람직한 실시예를 첨부된 도면들을 참조하여 상세히 설명한다. 본 발명을 설명함에 있어, 관 련된 공지 구성 또는 기능에 대한 구체적인 설명이 본 발명의 요지를 흐릴 수 있다고 판단되는 경우에는 그 상 세한 설명은 생략하기로 한다. 또한 본 발명의 실시예들을 설명함에 있어 구체적인 수치는 실시예에 불과하며 이에 의하여 발명의 범위가 제한되지 아니한다. 본 발명에 따른 포트폴리오 매매 시스템은 중앙처리장치(CPU) 및 메모리(Memory, 기억장치)를 구비하고 인터넷 등의 통신망을 통하여 다른 단말기와 연결 가능한 서버의 형태로 구성될 수 있다. 그러나 본 발명이 중앙처리 장치 및 메모리 등의 구성에 의해 한정되지는 아니한다. 또한, 본 발명에 따른 종목 추천 시스템은 물리적으로 하나의 장치로 구성될 수도 있으며, 복수의 장치에 분산된 형태로 구현될 수도 있다. 본 발명에 따른 포트폴리오 매매 시스템은 사용자의 투자성향 등을 고려하여 생성된 투자 포트폴리오를 사용자 의 계좌에 구축하기 위하여 투자 포트폴리오에 속하는 종목들을 투자 포트폴리오의 비중에 따라 매수할 때에, 효과적인 포트폴리오 구축이 이루어질 수 있도록 매수주문을 생성하도록 하는 시스템이다. 예를 들어, A종목과 B종목을 각각 50%씩 포함하는 투자 포트폴리오를 구축하는 경우, 투자금액의 절반에 해당하 는 금액으로 A종목을 매수하고, 나머지 절반에 해당하는 금액으로 B종목을 매수하게 된다. 이 때, 가장 쉽게 매수하는 방법은 포트폴리오 구축 시점에서 시장가로 매수주문을 생성하는 것이다. 시장가는 현재 매도잔고가 존재하여 매수주문을 생성할 경우 바로 매매가 체결될 수 있는 가장 낮은 가격을 의미한다. 시장가로 매수주문을 생성할 경우, 즉시 투자 포트폴리오를 완성할 수 있어, 빠르게 포트폴리오를 구축할 수 있 는 장점이 있다. 반면, 시장가보나 낮은 호가로 매수주문을 생성할 수도 있는데, 이 경우 장중 변동에 따라서 주문이 체결된 수 도 있고 체결되지 못할 수도 있다. 만일 체결이 이루어질 수 있다면 시장가로 매수주문을 생성하는 것에 비해 낮은 호가로 체결이 이루어지기 때문에, 더 싼 가격으로 포트폴리오 구축이 가능해지고, 시장가로 매수한 경우 에 비해 초기 계좌 수익률이 높게 나타나는 장점이 있다. 하지만 매매가 체결되지 못할 가능성이 존재하기 때 문에 계좌에 포트폴리오를 구축하는 데에 시간이 소요될 수 있다는 문제점이 있다.일임투자를 이용하는 사용자들의 경우 투자 시작 이후 초기에 수익률이 음수로 나타나거나, 투자 시작 이후 한 동안 포트폴리오 구축이 완료되지 못할 경우 서비스를 조기에 이탈하는 추세를 나타낸다. 이 경우 투자 포트폴 리오 구축을 통해 장기적으로 수익을 낼 수 있는데도 불구하고 단기에 투자를 중단하게 되는 문제점이 발생된다. 따라서, 본 발명에 따른 포트폴리오 매매 시스템은 강화학습을 이용하여 초기 포트폴리고 구축 상황에서 사용자 들을 최대한 만족시킬 수 있도록 빠르게 포트폴리오를 구축하면서도 초기 수익률을 최대한 높일 수 있도록 하는 매매전략을 수립한다. 본 발명에서 사용하는 강화학습(Reinforcement Learning)은 현재의 상태(State)에서 어떤 행동(Action)을 취하 는 것이 최적인지 학습하고, 그 학습 결과에 따라 동작하도록 하는 기술이다. 할 수 있는 행동에 따라 보상 또 는 패널티(음의 보상)가 부여되어, 최종적으로 보상을 극대화할 수 있도록 하는 행동을 취할 수 있도록 하는 것 이다. 투자 포트폴리오 구축의 경우, 과거의 시장 데이터(매매정보 또는 호가정보 등)를 이용하여, 취할 수 있는 다양 한 행동에 대한 시뮬레이션을 통해 보상 및 패널티를 부여하고, 그 학습 과정을 통해 도출된 강화학습 모델을 이용하여 실제 매매를 진행하도록 함으로써, 포트폴리오 구축 속도와 초기 수익률 사이의 효과적인 균형을 이룰 수 있는 매매전략을 수립하도록 한다. 도 1은 본 발명의 일실시예에 따른 포트폴리오 매매 시스템의 내부 구성을 도시한 구성도이다. 도면에 도시된 바와 같이, 본 발명의 일실시예에 따른 포트폴리오 매매 시스템는 학습 모듈 및 매매 모듈을 포함하여 구성된다. 또한 학습 모듈은 학습 포트폴리오 정보 수신부, 가상 매수주문 생 성부 및 강화학습 모델 생성부를 포함할 수 있고, 매매 모듈은 실제 포트폴리오 정보 수신부 및 실제 매수주문 생성부를 포함하여 구성될 수 있다. 각각의 구성요소들은 물리적으로 동일한 컴퓨터 시스템 내에서 동작하는 소프트웨어 모듈일 수 있으며, 물리적 으로 2개 이상으로 분리된 컴퓨터 시스템이 서로 연동하여 동작할 수 있도록 구성된 형태일 수 있는데, 동일한 기능을 포함하는 다양한 실시형태가 본 발명의 권리범위에 속한다. 학습 모듈은 강화학습 모델을 생성한다. 학습 모듈은 과거의 매매 데이터(체결 데이터 또는 호가 데이 터)를 이용하여 다양한 호가의 매수주문을 생성하는 행동을 수행하고 각 행동에 대하여 그 결과를 평가하여 보 상 및 패널티를 제공하는 학습 과정을 통해 강화학습 모델을 생성한다. 이와 같이 생성된 강화학습 모델을 이 용하여 매매주문을 생성하게 되면, 효과적인 매매전략 수립이 가능하게 된다. 학습 모듈에서 강화학습 모델을 생성하기 위하여 사용하는 알고리즘은 다양한 강화학습 알고리즘을 사용할 수 있으며, 그 구체적인 방법에 의해 제한되지는 않는다. 각 상태(State)에서의 행동(Action)에 따라 보상 및 패널티(음의 보상)를 부여할 수 있으며, 이를 통해 보상이 최대가 되는 행동을 선택할 수 있도록 하는 모델을 생성하는 기술이라면 어떤 것도 본 발명에 적용 가능하다. 학습 모듈은 학습 포트폴리오 정보 수신부, 가상 매수주문 생성부 및 강화학습 모델 생성부 를 포함하여 구성된다. 학습 포트폴리오 정보 수신부는 복수의 종목 별 매수 수량 정보를 포함하는 학습 포트폴리오 정보를 수신 한다. 포트폴리오 정보는 사용자의 투자성향 등의 다양한 정보를 기초로 생성되며, 사용자의 투자금을 포트폴 리오 비중에 따라 분할하여 매수할 복수의 종목들을 선정하고, 선정된 종목들의 현재 가격을 고려할 때, 포트폴 리오 구축을 위해 매수해야 할 수량을 선택함으로써 결정될 수 있다. 포트폴리오 정보 생성을 위해서는 다양한 포트폴리오 수립 전략이 사용될 수 있는데, 포트폴리오를 구축하기 위한 자산배분 등의 전략에 따라 본 발명이 제한되지는 않는다. 상술한 바와 같이 학습 모듈에서는 다양한 상황에 따른 매매전략을 수립하고 이들에 대한 보상 또는 패널 티를 통해 강화학습 모델을 생성하기 때문에, 학습을 위해 다양한 학습 포트폴리오 정보가 사용될 수 있다. 학습 포트폴리오 정보 수신부에서 수신하는 학습 포트폴리오 정보는 실제 과거에 사용했던 포트폴리오 정 보 또는 가상으로 생성한 포트폴리오 정보가 될 수 있으며, 다양한 상황에 대한 강화학습이 이루어질 수 있도록 하기 위해 현실적으로 적용 가능한 다양한 형태의 포트폴리오 정보가 최대한 포함되도록 구성되는 것이 바람직 하다.학습 포트폴리오 정보 수신부에서 수신하는 학습 포트폴리오 정보는 실제 사용자의 계좌에서 구축하는 실 제 포트폴리오 정보와 동일한 형태를 가지며, 어떤 종목을 몇주씩 어떤 가격에 매수하여 계좌 내에서 몇 퍼센트 의 비중을 가지도록 구축할 것인지에 대한 정보를 포함할 수 있다. 가상 매수주문 생성부는 상기 학습 포트폴리오 정보에 포함된 종목별로 가상 매수주문을 생성한다. 상술 한 바와 같이 학습 포트폴리오 정보는 종목별로 매수해야 할 수량 및 가격에 대한 정보를 포함할 수 있다. 따 라서 학습 포트폴리오 정보에 포함되는 종목별로 매수주문을 생성할 수 있다. 가상 매수주문 생성부는 과거의 정해진 시점을 기준으로 상기 학습 포트폴리오 정보에 포함된 종목별로 시 장가를 확인하고, 시장가 이하의 호가별로 가상 매수 주문을 생성한다. 학습이 충분히 이루어져 효과적인 강화 학습 모델이 생성되기 위해서는 학습 데이터가 충분해야 하는데, 상술한 바와 같이 학습 포트폴리오 정보를 다 양하게 생성하면서, 이를 과거의 다양한 시점에서의 실제 호가정보에 적용하여 학습이 이루어지도록 하는 것이다. 가상 매수주문 생성부에서 매수주문을 생성할 때에는 현재의 시장상황(호가 정보 등)을 고려하여 매수가격 을 결정해야 하는데, 가장 쉽게 생성하는 매수주문은 시장가로 매수하고자 하는 수량만큼의 매수주문을 생성하 는 것이다. 가상 매수주문 생성부에서 시장가로 매수주문을 생성하게 되면 일반적으로 매수주문을 증권사에 전송하는 순간 매수주문 체결이 이루어지게 되며, 즉각적인 포트폴리오 구축이 이루어지게 된다. 따라서 장중 가격 변동 이 크지 않고, 장기적인 관점에서 매수하는 종목의 경우에는 빠르게 포트폴리오를 구축하는 데에 성공하기 위하 여 시장가 매수 전략을 사용할 수 있다. 또한 가상 매수주문 생성부는 시장가보다 낮은 가격에 매수주문을 생성할 수 있다. 시장가보다 낮은 가격 으로 매수주문을 생성하게 되면, 매수잔량으로 주문이 남아 있다가, 해당 가격으로 매도하는 매도주문이 있을 경우 체결이 이루어지게 된다. 따라서 장중 변동으로 인해 매수주문 이후 해당 가격까지 시장가격이 내려와 거 래가 체결될 가능성이 있는 경우에는 시장가보다 저렴한 가격으로 종목 매수가 가능한 매매전략을 사용할 수 있 다. 하지만, 가상 매매주문 생성부에서 시장가보다 너무 낮은 가격으로 매수주문을 생성하거나, 장중 변동성이 너무 적은 종목에 대해 그와 같은 매수주문을 생성하는 경우 장 마감시까지 매매 체결이 이루어지지 않아 포트 폴리오 구축이 불가능해지는 문제가 발생될 수 있다. 가상 매매주문 생성부에서 이와 같이 다양한 가상 매매주문을 생성함으로써, 다양한 학습 상황이 구축될 수 있다. 이를 통해 빠른 포트폴리오 구축과 최대한 낮은 매수가격 사이의 트레이드오프(Trade-off)를 고려한 효과적인 매매전략 수립이 가능하게 된다. 또한 장중 변동폭 등과 같은 종목의 특성을 고려하여 효과적인 매매 전략을 수립할 수 있다. 가상 매매주문 생성부는 하나의 학습 포트폴리오 정보에 대해서 한 시점을 대상으로 복수의 매수주문을 생 성할 수 있다. 예를 들어 포트폴리오가 10개의 종목을 포함하고 있다고 하면, 각 종목별로 특정 시점에서의 시 장가를 확인할 수 있으며, 각 종목별로 시장가 이하의 n개의 호가의 가상 매수주문을 생성하도록 하고 각각의 상황에 대한 결과를 분석할 수 있다. 시장가이하의 10개 호가로 학습용 매수주문을 생성한다고 한다면, 10개의 종목에 대해 각각 10가지씩의 매수주문이 생성될 수 있고, 10의 10승에 해당하는 조합이 생성된다. 각 조합 별 로 각 매수주문이 체결되는지 체결되지 않는지를 추적하여 확인하고, 그 결과에 대해 보상 또는 패널티를 부여 함으로써, 가장 효과적으로 포트폴리오를 구축할 수 있는 매매전략을 수립할 수 있다. 강화학습 모델 생성부는 상기 생성된 가상 매수주문의 체결 결과에 따라서 보상 또는 패널티를 부여하고, 상기 부여된 보상 또는 패널티의 결과를 이용하여 보상이 최대가 되는 강화학습 모델을 생성한다. 상술한 바와 같이, 다양한 학습 포트폴리오 정보에 대해서 다양한 가상 매수주문을 생성하고, 그 매수주문의 체결 결과를 확 인하여, 그 결과에 따라 보상 및 패널티를 부여하고, 보상을 극대화하는 강화학습 모델을 생성할 수 있다. 강화학습 모델 생성부에서는 초기에 포트폴리오 정보에 따라 포트폴리오를 구축하는 경우에 적합한 강화학 습 모델을 생성하고자 하는 것이므로, 초기 포트폴리오를 구축할 수 있는 날짜 수를 미리 정하여 두고, 정해진 날짜 내에서 하루하루의 장이 마감되었을 때 그 결과에 따라 보상 또는 패널티를 부여할 수 있고, 상기 정해둔 날짜수까지 포트폴리오 구축이 완료되었는지 여부에 따라서 보상 또는 패널티를 부여할 수 있다. 강화학습 모델 생성부에서는 최소한 포트폴리오 구축을 위한 1주 이상의 매수가 시작되어야 하는 날짜인 최소 매수 시작일과 포트폴리오 구축이 완료되어야 하는 포트폴리오 완성일을 설정할 수 있다. 이와 같은 최소 매수 시작일과 포트폴리오 완성일은 사용자별로 설정하도록 하는 것도 가능하고, 서비스 이용 통계 등을 종합적 으로 고려하여 시스템 운영자가 설정하도록 할 수도 있다. 강화학습 모델 생성부는 상기 정해진 최소 매수 시작일까지 상기 학습 포트폴리오 정보에 포함된 종목 중 하나도 매수가 체결되지 않는 경우 제1 패널티를 부여하고, 상기 정해진 포트폴리오 완성일까지 상기 학습 포트 폴리오 정보에 포함된 종목별 매수 수량을 모두 매수하지 못하는 경우 제2 패널티를 부여하도록 구성될 수 있다. 강화학습 모델 생성부에서 확인하였을 때, 최소 매수 시작일까지 매수가 하나도 이루어지지 않았을 경우에 는 서비스를 이용하는 사용자 입장에서 자신이 입금한 금액에 대해 아무런 포트폴리오 구축이 진행되지 않고 있 다고 느낄 수 있어 서비스에 대한 신뢰감을 떨어뜨리고 조기 이탈될 가능성이 높아진다. 따라서, 최소 매수 시 작일에 1주도 매수가 체결되지 않은 경우에는 매우 높은 패널티(음의 보상)를 부여하여 강화학습 모델이 이와 같은 상황을 발생시키지 않는 매매전략을 수립하도록 할 수 있다. 최소 매수 시작일은 일반적으로 1일로 설정 하는 것이 바람직할 수 있으며, 1일로 설정되는 경우 포트폴리오 구축 개시일의 장이 마감되었을 때, 매수된 수 량이 0인 경우 패널티를 부여하게 된다. 또한, 강화학습 모델 생성부에서 확인하였을 때, 포트폴리오 완성일까지 상기 학습 포트폴리오 정보에 포 함된 종목별 매수 수량을 모두 매수하지 못하여 포트폴리오가 완성되지 않는 경우, 사용자는 서비스가 제대로 이루어지지 않고 있다고 판단할 가능성이 높아진다. 따라서, 정해진 포트폴리오 완성일에도 포트폴리오 구축이 완료되지 못한 경우 매우 높은 패널티(음의 보상)를 부여함으로써, 생성되는 강화학습 모델에서 이러한 상황이 발생되는 것을 최소화할 필요가 있다. 강화학습 모델 생성부는 각 매수주문에 대하여, 각 매수주문이 체결되면 각 매수주문의 매수가격과 시장가 의 차이에 대응되는 보상을 부여하고, 각 매수주문이 체결되지 않으면 체결되지 않은 매수주문의 대상 종목의 일별 평균수익률에 대응하는 제3 패널티를 부여할 수 있다. 강화학습 모델 생성부에서 확인하였을 때, 매수주문이 체결된 경우, 이 매수주문이 시장가 주문을 통하여 체결되었다면, 매수 시점에서 시장가 대비 이익이 0이 된다. 반면, 시장가보다 낮은 가격에 매수주문을 생성하 였는데, 장중 이것이 체결된 경우라면, 시장가에 주문한 경우에 비하여 (시장가 - 매수가)에 해당하는 금액만큼 이익을 얻은 상태로 포트폴리오가 시작하게 된다. 따라서, 시장가와 비교해서 낮은 가격으로 가상 매수주문을 생성하고, 이것이 체결되게 되면 시장가와 체결가의 차이에 대응되는 보상을 부여함으로써, 생성되는 강화학습 모델이 최대한 시장가 대비 낮은 가격으로 매수주문을 내고 체결될 수 있도록 유도할 수 있다. 반면, 강화학습 모델 생성부에서 확인하였을 때, 매수주문이 장중에 체결되지 못하였을 경우, 시장가로 주 문을 하여 장중 체결이 이루어진 경우와 비교하여, 당일의 일별 평균수익률만큼 기회비용 손해를 보게 된 셈이 다. 예를 들어 10,000원이 시장가인데, 9,900원으로 매수주문을 냈다가 장중에 10,500원까지 올라 체결이 이루 어지지 않은 경우, 10,000원에 매수주문을 내서 체결되었을 경우 얻을 수 있었던 수익인 500원이 기회비용이 된 다. 따라서, 이에 대응하는 패널티를 부여함으로써, 이와 같은 기회비용을 놓치지 않는 강화학습 모델을 생성 하도록 할 수 있다. 강화학습 모델 생성부는 상기 제1 패널티 및 제2 패널티를 상기 보상 및 상기 제3 패널티보다 크게 부여하 는 것이 바람직하다. 상술한 바와 같이 제1 패널티는 최소 매수 시작일까지 1주도 매수가 이루어지지 않은 경 우이며, 제2 패널티는 포트폴리오 완성일까지 포트폴리오 완성이 이루어지지 않았을 때 부여되는 패널티인데, 이 두 가지 상황이 발생되지 않도록 하는 강화학습 모델 생성이 목적이므로, 이 두 가지 경우에 대한 패널티를 다른 것에 비해 크게 설정한다. 이를 통해 강화학습 모델 생성부는 최소 매수 시작일이 끝나기 전까지 최소 1주의 매수를 완료하며, 포트 폴리오 완성일까지 전체 포트폴리오를 완성하면서, 가급적 시장가 대비 낮은 가격으로 매수하여 수익을 극대화 할 수 있도록 하는 매매전략을 실행하는 강화학습 모델을 생성할 수 있다. 이를 위하여, 강화학습 모델 생성부는 복수의 종목에 대한 과거 호가 데이터를 이용하여 상기 가상 매수주 문의 체결 결과를 시뮬레이션하고, 시뮬레이션된 체결 결과에 따라 보상 및 패널티를 부여할 수 있다. 과거의 특정 일자의 호가 데이터가 있는 경우, 가상 매수주문을 생성하였을 때, 장중에 해당 매수주문의 체결이 이루어 질 수 있는지 시뮬레이션 하는 것이 가능하고, 매수하였을 때의 수익률 등을 확인할 수 있어, 이에 대한 보상 및 패널티 학습을 통해 강화학습 모델 수립이 가능하다.매매 모듈은 학습 모듈에서 생성된 강화학습 모델을 이용하여 실제 매매를 처리한다. 학습 모듈 에서 설정한 보상 및 패널티에 따라서 보상을 극대화하는 강화학습 모델이 생성되고, 이를 실제 포트폴리 오 구축을 위한 매수주문 생성에 적용하게 되면, 실제 상황에서 최적의 매매전략을 수립할 수 있게 된다. 매매 모듈에서 생성하여 처리한 실제 매수주문의 경우도 그 결과에 따라서 보상 및 패널티를 부여하여 상 기 강화학습 모델을 보다 강화하도록 학습시킬 수 있다. 매매 모듈은 실제 포트폴리오 정보 수신부 및 실제 매수주문 생성부를 포함하여 구성될 수 있다. 실제 포트폴리오 정보 수신부는 복수의 종목 정보를 포함하는 실제 포트폴리오 정보를 수신한다. 실제 포 트폴리오 정보는 사용자의 투자성향, 투자금액 등을 고려하여 사용자의 투자 포트폴리오를 설계한 결과로, 이를 토대로 실제 사용자의 계좌에서 각 종목을 매수함으로써, 포트폴리오를 완성하게 된다. 실제 포트폴리오 정보 수신부에서 수신하는 실제 포트폴리오 정보는 다양한 포트폴리오 수립 전략에 의해 생성될 수 있으며, 이를 생성하기 위한 별도의 모듈이 존재할 수도 있고, 투자 전문가의 입력을 통해 입력되는 형태가 될 수도 있다. 실제 포트폴리오 정보에 포함되는 각 종목들에 대해서는 종목의 매수 수량 또는 비중 등 에 대한 정보를 포함할 수 있다. 실제 매수주문 생성부는 상기 생성된 강화학습 모델을 이용하여 상기 실제 포트폴리오 정보에 포함된 종목 별로 실제 매수주문을 생성한다. 상기 강화학습 모델은 앞서 설명한 바와 같이 최소 매수 시작일까지 적어도 1 주를 매수할 수 있도록 하고, 포트폴리오 완성일까지 상기 실제 포트폴리오 정보에 포함된 모든 종목에 대한 매 수를 완료하여 포트폴리오를 완성할 수 있도록 하면서도 시장가 대비 최대한 낮은 가격에 매수가 이루어질 수 있도록 설계된 모델이다. 따라서 실제 매수주문 생성부는 상기 강화학습 모델을 이용하여 상기 실제 포트폴리오 정보에 포함된 종목 별로 어떤 호가에 매수주문을 생성할지 결정하고, 그 결정에 따른 매수주문을 생성한다. 매수주문이 생성되면 매매체결이 가능한 시장(증권사 등)으로 매수주문이 전달되에 매매가 이루어지도록 한다. 도 2는 본 발명의 일실시예에 따른 포트폴리오 매매 시스템에서 상황에 따라 강화학습의 보상 및 패널티를 부여 하는 일례를 도시한 도면이다. 도면에서는 최소 매수 시작일을 포트폴리오 구축을 시작한 1일차로, 포트폴리오 완성일을 5일차로 설정한 경우 를 예로 들고 있다. 도면에 도시한 바와 같이, 최소 매수 시작일인 1일차의 시장이 마감되었을 때, 학습 포트폴리오 정보에 포함된 종목들 중 어느 한 종목도 체결되지 않았을 경우, 제1 패널티를 부여한다. 이 제1 패널티는 다른 보상 및 패널 티에 비해 큰 절대값을 가지도록 설정함으로써, 강화학습 모델이 최소 매수 시작일에 최소한 1주 이상은 매수할 수 있도록 설정할 수 있다. 또한 1일차부터 5일차까지 5일간 시장이 마감되면, 각 날짜별로 생성한 가상 매수주문들을 해당일의 호가상황과 비교하여 시뮬레이션함으로써, 종목별로 체결이 되었는지 되지 않았는지 판단할 수 있다. 만일 어떤 종목에 대해서 매수주문 체결이 이루어지는 경우, 도면에 표시한 것처럼 (시장가-체결가)에 대응하는 보상을 부여할 수 있다. 즉, 시장가에 비해 최대한 낮은 가격에 체결할수록 더 높은 보상을 부여하도록 할 수 있다. 이 보상은 시장가와 체결가의 차이에 비례하도록 설정할 수도 있고, 차이가 커질수록 보상이 급격히 커 지는 형태로 부여할 수도 있는데, 차이가 클수록 보상이 더 크게 설정되기만 하면 어떠한 형태로 설정해도 무방 하다. 만일 어떤 종목에 대해서 매수주문 체결이 이루어지지 않는 경우에는 해당일자의 종목별 일별 평균수익률에 대 응하는 제3 패널티를 부여한다. 일별 수익률은 종목 체결이 이루어졌을 경우에 얻을 수 있었던 수익으로 체결 되지 못한 경우의 기회비용으로 인식될 수 있다. 따라서 손해본 기회비용에 대응하는 패널티를 제3 패널티로 부여함으로써, 기회비용 손해를 최소화하는 매매전략을 수립하도록 강화학습 모델을 조정할 수 있다. 포트폴리오 완성일인 5일차가 종료되었을 때에는 포트폴리오가 완전하게 완성되었는지 확인하고, 완성되지 않았 을 경우 제2 패널티를 부여한다. 제2 패널티는 제1 패널티와 같이 매우 큰 값으로 설정되는 것이 바람직하며, 이를 통해 포트폴리오 완성일까지는 반드시 포트폴리오를 완성할 수 있도록 하는 매매전략을 수립하도록 강화학 습 모델을 설정할 수 있다.이와 같이 보상 및 패널티를 설정하고 다양한 과거 시장데이터를 통해 학습시킬 경우, 효과적인 매매전략을 수 립하는 강화학습 모델을 생성할 수 있게 된다. 도 3은 본 발명의 일실시예에 따른 포트폴리오 매매 시스템에서 호가상태에 따라 학습할 행동을 결정하는 일례 를 도시한 도면이다. 학습을 통해 강화학습 모델을 생성하는 과정은 상태(State) 별로 가능한 행동(Action)의 결과를 평가하여 보상 또는 패널티를 부여함으로써 진행된다. 따라서, 본 발명에서 과거 어느 시점을 학습 대상 시점으로 설정한 뒤, 해당 시점에서 특정 종목에 대한 학습을 수행하고자 하는 경우의 예시를 설명하도록 한다. 도면에서 보는 바와 같이 도면부호 301에 해당하는 10,000원은 호가창에서 매도잔량이 존재하는 가장 낮은 가격 으로 시장가에 해당한다. 시장가는 누군가가 해당 가격에 매도잔량보다 적은 수의 매수주문을 생성할 경우 즉 각적인 체결이 이루어지는 가격이다. 따라서, 도면의 예에서는 해당 종목을 1,000주 매수한다고 하면, 시장가인 10,000원에 1,000주 매수 주문을 생 성함으로써, 즉시 결제가 이루어지도록 할 수 있다. 반면, 시장가보다 낮은 호가인 도면부호 302 내지 310에 해당하는 호가에 매수주문을 내는 경우, 매수주문의 결 과가 매수잔량에 반영될 뿐, 실제 매매체결이 이루어지지 않는다. 예를 들어, 해당 종목을 1,000주 매수하는 것을 9,700원에 매수하는 가상 매수주문을 생성하는 경우, 도면부호 304에 해당하는 매수잔량이 5,595개에서 6,595개로 1,000개 늘어날 뿐, 체결은 이루어지지 않는다. 이후, 시장상황이 변화하여 9,700원 이하의 가격에 거래가 이루어지게 되면 해당 매수주문은 체결될 수 있으며, 이와 같이 체결되게 되면, 앞서 설명한 시장가인 10,000원에 1,000주 매수주문을 생성한 경우와 비교하여 주당 300원씩, 총 300,000원의 이익을 가지고 포트폴리오를 출발할 수 있게 된다. 따라서, 본 발명에서는 시장가인 도면부호 301부터 아래로 10개 호가인 도면부호 310의 9,100원까지 가상 매수 주문을 생성해 보고, 이후의 시장상황을 이용하여 시뮬레이션한 결과, 거래 체결이 이루어졌는지 여부를 판단하 고, 그 결과에 따라서 앞서 설명한 것과 같은 보상 및 패널티를 부여하게 된다. 이와 같이 특정 시점의 호가창의 상황을 기초로 다양한 학습상황을 구성하고, 이후의 시장 변화를 통해 시뮬레 이션 함으로써, 효과적인 매매전략을 수립하는 강화학습 모델을 생성할 수 있게 된다. 도 4는 본 발명의 일실시예에 따른 포트폴리오 매매 방법의 흐름을 나타낸 흐름도이다. 본 발명의 일실시예에 따른 포트폴리오 매매 방법은 중앙처리장치(CPU) 및 메모리(Memory)를 구비하는 포트폴리 오 매매 시스템에서 동작하는 방법으로, 상술한 포트폴리오 매매 시스템에 대한 설명이 그대로 적용 될 수 있다. 따라서 아래에 별도의 설명이 없더라도, 포트폴리오 매매 시스템을 설명하기 위해 기재한 모 든 내용은 종목 추천 방법을 구현하는데 그대로 적용할 수 있음은 자명하다. 학습 포트폴리오 정보 수신 단계(S401)는 복수의 종목 별 매수 수량 정보를 포함하는 학습 포트폴리오 정보를 수신한다. 포트폴리오 정보는 사용자의 투자성향 등의 다양한 정보를 기초로 생성되며, 사용자의 투자금을 포 트폴리오 비중에 따라 분할하여 매수할 복수의 종목들을 선정하고, 선정된 종목들의 현재 가격을 고려할 때, 포 트폴리오 구축을 위해 매수해야 할 수량을 선택함으로써 결정될 수 있다. 포트폴리오 정보 생성을 위해서는 다 양한 포트폴리오 수립 전략이 사용될 수 있는데, 포트폴리오를 구축하기 위한 자산배분 등의 전략에 따라 본 발 명이 제한되지는 않는다. 학습 포트폴리오 정보 수신 단계(S401)에서 수신하는 학습 포트폴리오 정보는 실제 과거에 사용했던 포트폴리오 정보 또는 가상으로 생성한 포트폴리오 정보가 될 수 있으며, 다양한 상황에 대한 강화학습이 이루어질 수 있도 록 하기 위해 현실적으로 적용 가능한 다양한 형태의 포트폴리오 정보가 최대한 포함되도록 구성되는 것이 바람 직하다. 학습 포트폴리오 정보 수신 단계(S401)에서 수신하는 학습 포트폴리오 정보는 실제 사용자의 계좌에서 구축하는 실제 포트폴리오 정보와 동일한 형태를 가지며, 어떤 종목을 몇주씩 어떤 가격에 매수하여 계좌 내에서 몇 퍼센 트의 비중을 가지도록 구축할 것인지에 대한 정보를 포함할 수 있다. 가상 매수주문 생성 단계(S402)는 상기 학습 포트폴리오 정보에 포함된 종목별로 가상 매수주문을 생성한다. 상술한 바와 같이 학습 포트폴리오 정보는 종목별로 매수해야 할 수량 및 가격에 대한 정보를 포함할 수 있다. 따라서 학습 포트폴리오 정보에 포함되는 종목별로 매수주문을 생성할 수 있다. 가상 매수주문 생성 단계(S402)는 과거의 정해진 시점을 기준으로 상기 학습 포트폴리오 정보에 포함된 종목별 로 시장가를 확인하고, 시장가 이하의 호가별로 가상 매수 주문을 생성한다. 학습이 충분히 이루어져 효과적인 강화학습 모델이 생성되기 위해서는 학습 데이터가 충분해야 하는데, 상술한 바와 같이 학습 포트폴리오 정보를 다양하게 생성하면서, 이를 과거의 다양한 시점에서의 실제 호가정보에 적용하여 학습이 이루어지도록 하는 것 이다. 가상 매수주문 생성 단계(S402)에서 매수주문을 생성할 때에는 현재의 시장상황(호가 정보 등)을 고려하여 매수 가격을 결정해야 하는데, 가장 쉽게 생성하는 매수주문은 시장가로 매수하고자 하는 수량만큼의 매수주문을 생 성하는 것이다. 가상 매수주문 생성 단계(S402)에서 시장가로 매수주문을 생성하게 되면 일반적으로 매수주문을 증권사에 전송 하는 순간 매수주문 체결이 이루어지게 되며, 즉각적인 포트폴리오 구축이 이루어지게 된다. 따라서 장중 가격 변동이 크지 않고, 장기적인 관점에서 매수하는 종목의 경우에는 빠르게 포트폴리오를 구축하는 데에 성공하기 위하여 시장가 매수 전략을 사용할 수 있다. 또한 가상 매수주문 생성 단계(S402)는 시장가보다 낮은 가격에 매수주문을 생성할 수 있다. 시장가보다 낮은 가격으로 매수주문을 생성하게 되면, 매수잔량으로 주문이 남아 있다가, 해당 가격으로 매도하는 매도주문이 있 을 경우 체결이 이루어지게 된다. 따라서 장중 변동으로 인해 매수주문 이후 해당 가격까지 시장가격이 내려와 거래가 체결될 가능성이 있는 경우에는 시장가보다 저렴한 가격으로 종목 매수가 가능한 매매전략을 사용할 수 있다. 하지만, 가상 매수주문 생성 단계(S402)에서 시장가보다 너무 낮은 가격으로 매수주문을 생성하거나, 장중 변동 성이 너무 적은 종목에 대해 그와 같은 매수주문을 생성하는 경우 장 마감시까지 매매 체결이 이루어지지 않아 포트폴리오 구축이 불가능해지는 문제가 발생될 수 있다. 가상 매수주문 생성 단계(S402)에서 이와 같이 다양한 가상 매매주문을 생성함으로써, 다양한 학습 상황이 구축 될 수 있다. 이를 통해 빠른 포트폴리오 구축과 최대한 낮은 매수가격 사이의 트레이드오프(Trade-off)를 고려 한 효과적인 매매전략 수립이 가능하게 된다. 또한 장중 변동폭 등과 같은 종목의 특성을 고려하여 효과적인 매매전략을 수립할 수 있다. 가상 매수주문 생성 단계(S402)는 하나의 학습 포트폴리오 정보에 대해서 한 시점을 대상으로 복수의 매수주문 을 생성할 수 있다. 예를 들어 포트폴리오가 10개의 종목을 포함하고 있다고 하면, 각 종목별로 특정 시점에서 의 시장가를 확인할 수 있으며, 각 종목별로 시장가 이하의 n개의 호가의 가상 매수주문을 생성하도록 하고 각 각의 상황에 대한 결과를 분석할 수 있다. 시장가이하의 10개 호가로 학습용 매수주문을 생성한다고 한다면, 10개의 종목에 대해 각각 10가지씩의 매수주문이 생성될 수 있고, 10의 10승에 해당하는 조합이 생성된다. 각 조합 별로 각 매수주문이 체결되는지 체결되지 않는지를 추적하여 확인하고, 그 결과에 대해 보상 또는 패널티 를 부여함으로써, 가장 효과적으로 포트폴리오를 구축할 수 있는 매매전략을 수립할 수 있다. 강화학습 모델 생성 단계(S403)는 상기 생성된 가상 매수주문의 체결 결과에 따라서 보상 또는 패널티를 부여하 고, 상기 부여된 보상 또는 패널티의 결과를 이용하여 보상이 최대가 되는 강화학습 모델을 생성한다. 상술한 바와 같이, 다양한 학습 포트폴리오 정보에 대해서 다양한 가상 매수주문을 생성하고, 그 매수주문의 체결 결과 를 확인하여, 그 결과에 따라 보상 및 패널티를 부여하고, 보상을 극대화하는 강화학습 모델을 생성할 수 있다. 강화학습 모델 생성 단계(S403)에서는 초기에 포트폴리오 정보에 따라 포트폴리오를 구축하는 경우에 적합한 강 화학습 모델을 생성하고자 하는 것이므로, 초기 포트폴리오를 구축할 수 있는 날짜 수를 미리 정하여 두고, 정 해진 날짜 내에서 하루하루의 장이 마감되었을 때 그 결과에 따라 보상 또는 패널티를 부여할 수 있고, 상기 정 해둔 날짜수까지 포트폴리오 구축이 완료되었는지 여부에 따라서 보상 또는 패널티를 부여할 수 있다. 강화학습 모델 생성 단계(S403)에서는 최소한 포트폴리오 구축을 위한 1주 이상의 매수가 시작되어야 하는 날짜 인 최소 매수 시작일과 포트폴리오 구축이 완료되어야 하는 포트폴리오 완성일을 설정할 수 있다. 이와 같은 최소 매수 시작일과 포트폴리오 완성일은 사용자별로 설정하도록 하는 것도 가능하고, 서비스 이용 통계 등을 종합적으로 고려하여 시스템 운영자가 설정하도록 할 수도 있다. 강화학습 모델 생성 단계(S403)는 상기 정해진 최소 매수 시작일까지 상기 학습 포트폴리오 정보에 포함된 종목 중 하나도 매수가 체결되지 않는 경우 제1 패널티를 부여하고, 상기 정해진 포트폴리오 완성일까지 상기 학습 포트폴리오 정보에 포함된 종목별 매수 수량을 모두 매수하지 못하는 경우 제2 패널티를 부여하도록 구성될 수 있다. 강화학습 모델 생성 단계(S403)에서 확인하였을 때, 최소 매수 시작일까지 매수가 하나도 이루어지지 않았을 경 우에는 서비스를 이용하는 사용자 입장에서 자신이 입금한 금액에 대해 아무런 포트폴리오 구축이 진행되지 않 고 있다고 느낄 수 있어 서비스에 대한 신뢰감을 떨어뜨리고 조기 이탈될 가능성이 높아진다. 따라서, 최소 매 수 시작일에 1주도 매수가 체결되지 않은 경우에는 매우 높은 패널티(음의 보상)를 부여하여 강화학습 모델이 이와 같은 상황을 발생시키지 않는 매매전략을 수립하도록 할 수 있다. 최소 매수 시작일은 일반적으로 1일로 설정하는 것이 바람직할 수 있으며, 1일로 설정되는 경우 포트폴리오 구축 개시일의 장이 마감되었을 때, 매수 된 수량이 0인 경우 패널티를 부여하게 된다. 또한, 강화학습 모델 생성 단계(S403)에서 확인하였을 때, 포트폴리오 완성일까지 상기 학습 포트폴리오 정보에 포함된 종목별 매수 수량을 모두 매수하지 못하여 포트폴리오가 완성되지 않는 경우, 사용자는 서비스가 제대로 이루어지지 않고 있다고 판단할 가능성이 높아진다. 따라서, 정해진 포트폴리오 완성일에도 포트폴리오 구축이 완료되지 못한 경우 매우 높은 패널티(음의 보상)를 부여함으로써, 생성되는 강화학습 모델에서 이러한 상황이 발생되는 것을 최소화할 필요가 있다. 강화학습 모델 생성 단계(S403)는 각 매수주문에 대하여, 각 매수주문이 체결되면 각 매수주문의 매수가격과 시 장가의 차이에 대응되는 보상을 부여하고, 각 매수주문이 체결되지 않으면 체결되지 않은 매수주문의 대상 종목 의 일별 평균수익률에 대응하는 제3 패널티를 부여할 수 있다. 강화학습 모델 생성 단계(S403)에서 확인하였을 때, 매수주문이 체결된 경우, 이 매수주문이 시장가 주문을 통 하여 체결되었다면, 매수 시점에서 시장가 대비 이익이 0이 된다. 반면, 시장가보다 낮은 가격에 매수주문을 생성하였는데, 장중 이것이 체결된 경우라면, 시장가에 주문한 경우에 비하여 (시장가 - 매수가)에 해당하는 금 액만큼 이익을 얻은 상태로 포트폴리오가 시작하게 된다. 따라서, 시장가와 비교해서 낮은 가격으로 가상 매수 주문을 생성하고, 이것이 체결되게 되면 시장가와 체결가의 차이에 대응되는 보상을 부여함으로써, 생성되는 강 화학습 모델이 최대한 시장가 대비 낮은 가격으로 매수주문을 내고 체결될 수 있도록 유도할 수 있다. 반면, 강화학습 모델 생성 단계(S403)에서 확인하였을 때, 매수주문이 장중에 체결되지 못하였을 경우, 시장가 로 주문을 하여 장중 체결이 이루어진 경우와 비교하여, 당일의 일별 평균수익률만큼 기회비용 손해를 보게 된 셈이다. 예를 들어 10,000원이 시장가인데, 9,900원으로 매수주문을 냈다가 장중에 10,500원까지 올라 체결이 이루어지지 않은 경우, 10,000원에 매수주문을 내서 체결되었을 경우 얻을 수 있었던 수익인 500원이 기회비용 이 된다. 따라서, 이에 대응하는 패널티를 부여함으로써, 이와 같은 기회비용을 놓치지 않는 강화학습 모델을 생성하도록 할 수 있다. 강화학습 모델 생성 단계(S403)는 상기 제1 패널티 및 제2 패널티를 상기 보상 및 상기 제3 패널티보다 크게 부 여하는 것이 바람직하다. 상술한 바와 같이 제1 패널티는 최소 매수 시작일까지 1주도 매수가 이루어지지 않은 경우이며, 제2 패널티는 포트폴리오 완성일까지 포트폴리오 완성이 이루어지지 않았을 때 부여되는 패널티인데, 이 두 가지 상황이 발생되지 않도록 하는 강화학습 모델 생성이 목적이므로, 이 두 가지 경우에 대한 패널티를 다른 것에 비해 크게 설정한다. 이를 통해 강화학습 모델 생성 단계(S403)는 최소 매수 시작일이 끝나기 전까지 최소 1주의 매수를 완료하며, 포트폴리오 완성일까지 전체 포트폴리오를 완성하면서, 가급적 시장가 대비 낮은 가격으로 매수하여 수익을 극 대화할 수 있도록 하는 매매전략을 실행하는 강화학습 모델을 생성할 수 있다. 이를 위하여, 강화학습 모델 생성 단계(S403)는 복수의 종목에 대한 과거 호가 데이터를 이용하여 상기 가상 매 수주문의 체결 결과를 시뮬레이션하고, 시뮬레이션된 체결 결과에 따라 보상 및 패널티를 부여할 수 있다. 과 거의 특정 일자의 호가 데이터가 있는 경우, 가상 매수주문을 생성하였을 때, 장중에 해당 매수주문의 체결이 이루어질 수 있는지 시뮬레이션 하는 것이 가능하고, 매수하였을 때의 수익률 등을 확인할 수 있어, 이에 대한 보상 및 패널티 학습을 통해 강화학습 모델 수립이 가능하다. 실제 포트폴리오 정보 수신 단계(S404)는 복수의 종목 정보를 포함하는 실제 포트폴리오 정보를 수신한다. 실 제 포트폴리오 정보는 사용자의 투자성향, 투자금액 등을 고려하여 사용자의 투자 포트폴리오를 설계한 결과로, 이를 토대로 실제 사용자의 계좌에서 각 종목을 매수함으로써, 포트폴리오를 완성하게 된다. 실제 포트폴리오 정보 수신 단계(S404)에서 수신하는 실제 포트폴리오 정보는 다양한 포트폴리오 수립 전략에 의해 생성될 수 있으며, 이를 생성하기 위한 별도의 모듈이 존재할 수도 있고, 투자 전문가의 입력을 통해 입력 되는 형태가 될 수도 있다. 실제 포트폴리오 정보에 포함되는 각 종목들에 대해서는 종목의 매수 수량 또는 비 중 등에 대한 정보를 포함할 수 있다. 실제 매수주문 생성 단계(S405)는 상기 생성된 강화학습 모델을 이용하여 상기 실제 포트폴리오 정보에 포함된 종목별로 실제 매수주문을 생성한다. 상기 강화학습 모델은 앞서 설명한 바와 같이 최소 매수 시작일까지 적어 도 1주를 매수할 수 있도록 하고, 포트폴리오 완성일까지 상기 실제 포트폴리오 정보에 포함된 모든 종목에 대 한 매수를 완료하여 포트폴리오를 완성할 수 있도록 하면서도 시장가 대비 최대한 낮은 가격에 매수가 이루어질 수 있도록 설계된 모델이다. 따라서 실제 매수주문 생성 단계(S405)는 상기 강화학습 모델을 이용하여 상기 실제 포트폴리오 정보에 포함된 종목별로 어떤 호가에 매수주문을 생성할지 결정하고, 그 결정에 따른 매수주문을 생성한다. 매수주문이 생성 되면 매매체결이 가능한 시장(증권사 등)으로 매수주문이 전달되에 매매가 이루어지도록 한다. 본 발명에 따른 포트폴리오 매매 방법은 컴퓨터가 실행하도록 기능시키기 위한 프로그램으로 제작되어 컴퓨터로 읽을 수 있는 기록매체에 기록될 수 있다. 컴퓨터로 읽을 수 있는 기록 매체의 예에는, 하드 디스크, 플로피 디스크 및 자기 테이프와 같은 자기 매체, CDROM, DVD 와 같은 광기록 매체, 플롭티컬 디스크(floptical disk)와 같은 자기-광 매체(magneto-optical media), 및 ROM, RAM, 플래시 메모리 등과 같은 프로그램 명령어를 저장하고 수행하도록 특별히 구성된 하드웨 어 장치가 포함된다. 프로그램 명령어의 예에는, 컴파일러에 의해 만들어지는 것과 같은 기계어 코드뿐만 아니라 인터프리터 등을 사 용해서 컴퓨터에 의해서 실행될 수 있는 고급 언어 코드도 포함된다. 상기 하드웨어 장치는 본 발명에 따른 처 리를 수행하기 위해 하나 이상의 소프트웨어 모듈로서 작동하도록 구성될 수 있으며, 그 역도 마찬가지이다. 이상에서는 실시예들을 참조하여 설명하였지만, 해당 기술 분야의 숙련된 당업자는 하기의 특허 청구범위에 기 재된 본 발명의 사상 및 영역으로부터 벗어나지 않는 범위 내에서 본 발명을 다양하게 수정 및 변경시킬 수 있 다."}
{"patent_id": "10-2023-0074599", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일실시예에 따른 포트폴리오 매매 시스템의 내부 구성을 도시한 구성도이다. 도 2는 본 발명의 일실시예에 따른 포트폴리오 매매 시스템에서 상황에 따라 강화학습의 보상 및 패널티를 부여 하는 일례를 도시한 도면이다. 도 3은 본 발명의 일실시예에 따른 포트폴리오 매매 시스템에서 호가상태에 따라 학습할 행동을 결정하는 일례 를 도시한 도면이다. 도 4는 본 발명의 일실시예에 따른 포트폴리오 매매 방법의 흐름을 나타낸 흐름도이다."}
