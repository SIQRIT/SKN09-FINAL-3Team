{"patent_id": "10-2023-0115237", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0032427", "출원번호": "10-2023-0115237", "발명의 명칭": "사용자 스크리블 기반 RGBD 인페인팅 장치 및 방법", "출원인": "한국전자통신연구원", "발명자": "김재환"}}
{"patent_id": "10-2023-0115237", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "사용자 스크리블 정보를 이용한 인페인팅 방법을 제공하기 위한 컴퓨팅 장치로서,하나 이상의 코어를 포함하는 프로세서; 입력부; 및메모리를 포함하고,상기 프로세서는 입력부를 통해 사용자 스크리블 정보, RGB 이미지 및 깊이 이미지를 획득하고, 상기 사용자 스크리블 정보, RGB 이미지 및 깊이 이미지를 해상도 별 계층구조로 변환하고, 상기 계층구조에 기초하여 인페인팅을 수행함으로써 인페인팅 RGB 이미지 및 인페인팅 깊이 이미지를 생성하는,컴퓨팅 장치."}
{"patent_id": "10-2023-0115237", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1항에 있어서,상기 프로세서가 상기 해상도 별 피라미드 계층구조를 획득하는 경우,상기 사용자 스크리블 정보, 상기 RGB 이미지 및 상기 깊이 이미지에 기초하여 알파 매팅 기반 레이어 분할 이미지를 획득하고, 상기 분할 이미지의 윤곽선에 대한 후처리성 필터링을 수행하는,컴퓨팅 장치."}
{"patent_id": "10-2023-0115237", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 2항에 있어서,상기 알파 매팅 기반 레이어 분할 이미지는 분할된 전경 알파맵, 전경 깊이 이미지 및 전경 RGB 이미지를 포함하는,컴퓨팅 장치."}
{"patent_id": "10-2023-0115237", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 1항에 있어서,상기 프로세서는 인페인팅 수행 시, 초기-전파-검색의 계층 구조적 처리를 수행하여 상기 인페인팅 RGB 이미지 및 인페인팅 깊이 이미지를생성하는,컴퓨팅 장치."}
{"patent_id": "10-2023-0115237", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 4항에 있어서,상기 프로세서는,a 패치와 대응되는 근접된 이웃 패치 b간의 오프셋값에 기초하여 인페인팅을 수행하는,컴퓨팅 장치.공개특허 10-2025-0032427-3-청구항 6 제 5항에 있어서,상기 a, b의 오프셋값은, RGB 이미지 및 깊이 이미지의 특징 정보에 기초하여 산출되는,컴퓨팅 장치."}
{"patent_id": "10-2023-0115237", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "사용자 스크리블 정보를 이용한 인페인팅 방법을 제공하기 위한 컴퓨팅 장치의 동작 방법에 있어서,입력부가 사용자 스크리블 정보, RGB 이미지 및 깊이 이미지를 획득하는 단계; 프로세서가 상기 사용자 스크리블 정보, RGB 이미지 및 깊이 이미지를 해상도 별 계층구조로 변환하는 단계; 및상기 프로세서가 상기 계층구조에 기초하여 인페인팅을 수행함으로써 인페인팅 RGB 이미지 및 인페인팅 깊이 이미지를 생성하는 단계를 포함하는,컴퓨팅 장치의 동작 방법."}
{"patent_id": "10-2023-0115237", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 7항에 있어서,상기 별 계층구조로 변환하는 단계는,상기 프로세서가 상기 사용자 스크리블 정보, 상기 RGB 이미지 및 상기 깊이 이미지에 기초하여 알파 매팅 기반레이어 분할 이미지를 획득하는 단계 및상기 분할 이미지의 윤곽선에 대한 후처리성 필터링을 수행하는 단계를 포함하는,컴퓨팅 장치의 동작 방법."}
{"patent_id": "10-2023-0115237", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 8항에 있어서,상기 알파 매팅 기반 레이어 분할 이미지는 분할된 전경 알파맵, 전경 깊이 이미지 및 전경 RGB 이미지를 포함하는,컴퓨팅 장치의 동작 방법."}
{"patent_id": "10-2023-0115237", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제 7항에 있어서,상기 프로세서가 상기 계층구조에 기초하여 인페인팅을 수행하는 단계는,초기-전파-검색의 계층 구조적 처리를 수행하여 상기 인페인팅 RGB 이미지 및 인페인팅 깊이 이미지를 생성하는단계를 포함하는,컴퓨팅 장치의 동작 방법."}
{"patent_id": "10-2023-0115237", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제 10항에 있어서,상기 프로세서가 초기-전파-검색의 계층 구조적 처리 동작을 수행하는 단계는,a 패치와 대응되는 근접된 이웃 패치 b간의 오프셋값에 기초하여 인페인팅을 수행하는 단계를 포함하는,컴퓨팅 장치의 동작 방법."}
{"patent_id": "10-2023-0115237", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "공개특허 10-2025-0032427-4-제 11항에 있어서,상기 a, b의 오프셋값은, RGB 이미지 및 깊이 이미지의 특징 정보에 기초하여 산출되는,컴퓨팅 장치의 동작 방법."}
{"patent_id": "10-2023-0115237", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명의 실시 예는 사용자 스크리블 정보를 이용한 인페인팅 방법을 제공하기 위한 컴퓨팅 장치로서, 하나 이 상의 코어를 포함하는 프로세서, 입력부 및 메모리를 포함하고, 상기 프로세서는 입력부를 통해 사용자 스크리블 정보, RGB 이미지 및 깊이 이미지를 획득하고, 상기 사용자 스크리블 정보, RGB 이미지 및 깊이 이미지를 해상도 별 계층구조로 변환하고, 상기 계층구조에 기초하여 인페인팅을 수행함으로써 인페인팅 RGB 이미지 및 인페인팅 깊이 이미지를 생성하는, 컴퓨팅 장치 및 동작 방법을 개시한다."}
{"patent_id": "10-2023-0115237", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 사용자 제어가능한(user-controllable) 영상 구조 복원(structural completion) 기술에 관한 것이다."}
{"patent_id": "10-2023-0115237", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "현재, 인공지능 기반 영상 자동 복원 및 생성 기술은 매우 사실적인 합성 이미지 결과를 제공하고 있다. 더불어, 포토샵과 같은 상용툴에서도 자연스럽고 사실적인 영상 복원 생성을 위한 플러그인을 제공하고 있다. 그러나, 사용자의 의도 반영 및 제어에 있어서 한계가 존재한다. 예를 들어, 대상 영상 내 특정 영역에 대하여, 사용자가 원하는 특정 스케치 혹은 대상 영상 내부의 특정 텍스 처와 색상이 반영된 지엽적 복원 자동 기능은 부재한 상황이다. 한편, 계산학 비전분야에서 다뤄온 영상 복원 및 인페인팅 기술은, 사용자 의도 반영을 위한 효과적인 편집 인 터랙션 기능을 제공한다. 그러나, 상기 기술은 RGB 영상 복원에 국한되어 있으며, 깊이 영상 수정, 복원을 위해 서는 독립적인 편집 과정을 필수 요구하는 제약이 있다. 또한, RGB 영상 복원에 있어서, 영상 깊이값과 같은 상위 특징 정보 고려 없이 표면적인 색상 및 라인 정보만을 고려하는 한계점이 있다. 따라서, 사용자 의도가 자연스럽게 반영된 사실적인 복원 합성 결과 영상을 생성하기 위해서는, 효과적이고 효 율적인 사용자 편집 인터랙션과 다차원적 영상 특징정보를 고려한 합성 기술이 동시 요구되는 실정이다."}
{"patent_id": "10-2023-0115237", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명의 목적은 상기 문제점을 해결하기 위하여 안출된 것으로, 사용자-스크리블 기반의 인페인팅 편집 기능 을 제공하고, RGB 영상과 깊이 영상의 동시 복원을 위한 인페인팅 기능을 제공하는 장치를 제공하기 위함이다."}
{"patent_id": "10-2023-0115237", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 실시 예에 따르면, 사용자 스크리블 정보를 이용한 인페인팅 방법을 제공하기 위한 컴퓨팅 장치로서, 하나 이상의 코어를 포함하는 프로세서, 입력부 및 메모리를 포함하고, 상기 프로세서는 입력부를 통해 사용자 스크리블 정보, RGB 이미지 및 깊이 이미지를 획득하고, 상기 사용자 스크리블 정보, RGB 이미지 및 깊이 이미 지를 해상도 별 계층구조로 변환하고, 상기 계층구조에 기초하여 인페인팅을 수행함으로써 인페인팅 RGB 이미지 및 인페인팅 깊이 이미지를 생성하는, 컴퓨팅 장치를 포함할 수 있다. 또한, 상기 프로세서가 상기 해상도 별 피라미드 계층구조를 획득하는 경우, 상기 사용자 스크리블 정보, 상기 RGB 이미지 및 상기 깊이 이미지에 기초하여 알파 매팅 기반 레이어 분할 이미지를 획득하고, 상기 분할 이미지 의 윤곽선에 대한 후처리성 필터링을 수행할 수 있다. 또한, 상기 알파 매팅 기반 레이어 분할 이미지는 분할된 전경 알파맵, 전경 깊이 이미지 및 전경 RGB 이미지 를 포함할 수 있다. 또한, 상기 프로세서는 인페인팅 수행 시, 초기-전파-검색의 계층 구조적 처리를 수행하여 상기 인페인팅 RGB 이미지 및 인페인팅 깊이 이미지를 생성할 수 있다. 또한, 상기 프로세서는, a 패치와 대응되는 근접된 이웃 패치 b간의 오프셋값에 기초하여 인페인팅을 수행할 수 있다. 또한, 상기 a, b의 오프셋값은, RGB 이미지 및 깊이 이미지의 특징 정보에 기초하여 산출될 수 있다. 또한, 사용자 스크리블 정보를 이용한 인페인팅 방법을 제공하기 위한 컴퓨팅 장치의 동작 방법에 있어서, 입력 부가 사용자 스크리블 정보, RGB 이미지 및 깊이 이미지를 획득하는 단계, 프로세서가 상기 사용자 스크리블 정 보, RGB 이미지 및 깊이 이미지를 해상도 별 계층구조로 변환하는 단계 및 상기 프로세서가 상기 계층구조에 기 초하여 인페인팅을 수행함으로써 인페인팅 RGB 이미지 및 인페인팅 깊이 이미지를 생성하는 단계를 포함할 수 있다. 또한, 상기 별 계층구조로 변환하는 단계는, 상기 프로세서가 상기 사용자 스크리블 정보, 상기 RGB 이미지 및 상기 깊이 이미지에 기초하여 알파 매팅 기반 레이어 분할 이미지를 획득하는 단계 및 상기 분할 이미지의 윤곽 선에 대한 후처리성 필터링을 수행하는 단계를 포함할 수 있다. 또한, 상기 알파 매팅 기반 레이어 분할 이미지는 분할된 전경 알파맵, 전경 깊이 이미지 및 전경 RGB 이미지 를 포함할 수 있다. 또한, 상기 프로세서가 상기 계층구조에 기초하여 인페인팅을 수행하는 단계는, 초기-전파-검색의 계층 구조적 처리를 수행하여 상기 인페인팅 RGB 이미지 및 인페인팅 깊이 이미지를 생성하는 단계를 포함할 수 있다. 또한, 상기 프로세서가 초기-전파-검색의 계층 구조적 처리 동작을 수행하는 단계는, a 패치와 대응되는 근접된 이웃 패치 b간의 오프셋값에 기초하여 인페인팅을 수행하는 단계를 포함할 수 있다."}
{"patent_id": "10-2023-0115237", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 실시 예에 따르면, 사용자-스크리블 기반의 인페인팅 편집 기능을 제공하고, RGB 영상과 깊이 영상의 동시 복원을 위한 인페인팅 기능을 제공함으로써 사용자 편의적이며, 사실적이고 자연스러운 복원 영상 결과 제 공을 위한 효과적인 장치를 제공할 수 있다."}
{"patent_id": "10-2023-0115237", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하 설명하는 기술은 다양한 변경을 가할 수 있고 여러 가지 실시예를 가질 수 있는 바, 특정 실시예들을 도면 에 예시하고 상세하게 설명하고자 한다. 그러나, 이는 이하 설명하는 기술을 특정한 실시 형태에 대해 한정하려 는 것이 아니며, 이하 설명하는 기술의 사상 및 기술 범위에 포함되는 모든 변경, 균등물 내지 대체물을 포함하 는 것으로 이해되어야 한다. 명세서 전체에서, 어떤 부분이 다른 부분과 \"연결\"되어 있다고 할 때, 이는 \"직접적으로 연결\"되어 있는 경우뿐 아니라, 그 중간에 다른 소자를 사이에 두고 \"전기적으로 연결\"되어 있는 경우도 포함한다. 제1, 제2, A, B 등의 용어는 다양한 구성요소들을 설명하는데 사용될 수 있지만, 해당 구성요소들은 상기 용어 들에 의해 한정되지는 않으며, 단지 하나의 구성요소를 다른 구성요소로부터 구별하는 목적으로만 사용된다. 예 를 들어, 이하 설명하는 기술의 권리 범위를 벗어나지 않으면서 제1 구성요소는 제2 구성요소로 명명될 수 있고, 유사하게 제2 구성요소도 제1 구성요소로 명명될 수 있다. 및/또는 이라는 용어는 복수의 관련된 기재된 항목들의 조합 또는 복수의 관련된 기재된 항목들 중의 어느 항목을 포함한다.본 명세서에서 사용되는 용어에서 단수의 표현은 문맥상 명백하게 다르게 해석되지 않는 한 복수의 표현을 포함 하는 것으로 이해되어야 하고, \"포함한다\" 등의 용어는 설명된 특징, 개수, 단계, 동작, 구성요소, 부분품 또는 이들을 조합한 것이 존재함을 의미하는 것이지, 하나 또는 그 이상의 다른 특징들이나 개수, 단계 동작 구성요 소, 부분품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 배제하지 않는 것으로 이해되어야 한다. 도면에 대한 상세한 설명을 하기에 앞서, 본 명세서에서의 구성부들에 대한 구분은 각 구성부가 담당하는 주기 능 별로 구분한 것에 불과함을 명확히 하고자 한다. 즉, 이하에서 설명할 2개 이상의 구성부가 하나의 구성부로 합쳐지거나 또는 하나의 구성부가 보다 세분화된 기능별로 2개 이상으로 분화되어 구비될 수도 있다. 그리고 이 하에서 설명할 구성부 각각은 자신이 담당하는 주기능 이외에도 다른 구성부가 담당하는 기능 중 일부 또는 전 부의 기능을 추가적으로 수행할 수도 있으며, 구성부 각각이 담당하는 주기능 중 일부 기능이 다른 구성부에 의 해 전담되어 수행될 수도 있음은 물론이다. 또, 방법 또는 동작 방법을 수행함에 있어서, 상기 방법을 이루는 각 과정들은 문맥상 명백하게 특정 순서를 기 재하지 않은 이상 명기된 순서와 다르게 일어날 수 있다. 즉, 각 과정들은 명기된 순서와 동일하게 일어날 수도 있고 실질적으로 동시에 수행될 수도 있으며 반대의 순서대로 수행될 수도 있다. 이하, 컴퓨팅 장치가 본 발명의 실시예에 따른 동작을 수행한다고 설명한다. 컴퓨팅 장치는 입력된 데이터를 일정하게 처리하고 특정 모델이나 알고리즘에 따라 필요한 연산을 수행하는 장치이다. 예컨대, 컴퓨팅 장치는 PC, 네트워크상의 서버, 스마트기기, 설계 프로그램이 임베딩된 칩셋 등과 같은 형태로 구현될 수 있다. 도 1은 본 발명의 일 실시 예에 따른 컴퓨팅 장치를 나타낸다. 도 1은 본 개시의 일 실시예와 관련된 컴퓨팅 장치의 블록 구성도를 도시한다. 도 1에 도시된 컴퓨팅 장치(10 0)의 컴포넌트들은 예시적인 것이다. 도 1에 도시된 컴포넌트 중 일부만이 컴퓨팅 장치를 구성할 수도 있 으며, 도 1에 도시된 컴포넌트 이외에 추가적인 컴포넌트(들)가 상기 컴퓨팅 장치에 포함될 수도 있다. 도 1에 도시된 바와 같이, 컴퓨팅 장치는 프로세서, 메모리 및 통신부를 포함할 수 있다. 통신부는 유무선 통신 기술을 이용하여 다른 전자장치나 서버 등의 외부 장치들과 데이터를 송수신할 수 있다. 예컨대, 통신부는 외부 장치들과 센서 정보, 사용자 입력, 학습 모델, 제어 신호 등을 송수신할 수 있다. 메모리는 컴퓨팅 장치의 다양한 기능을 지원하는 데이터를 저장할 수 있다. 입력부는 다양한 종류의 데이터를 획득할 수 있다. 이때, 입력부는 영상 신호 입력을 위한 카메라, 오디오 신호를 수신하기 위한 마이크로폰, 사용자로부터 정보를 입력 받기 위한 사용자 입력부 등을 포함할 수 있다. 디스플레이는 시각, 청각 또는 촉각 등과 관련된 출력을 발생시킬 수 있다. 프로세서는 컴퓨팅 장치의 적어도 하나의 실행 가능한 동작을 결정할 수 있다. 그리고, 프로세서 는 컴퓨팅 장치의 구성 요소들을 제어하여 결정된 동작을 수행할 수 있다. 이를 위해, 프로세서는 메모리의 데이터를 요청, 검색, 수신 또는 활용할 수 있고, 상기 적어도 하나 의 실행 가능한 동작 중 예측되는 동작이나, 바람직한 것으로 판단되는 동작을 실행하도록 컴퓨팅 장치의 구성 요소들을 제어할 수 있다. 이때, 프로세서는 결정된 동작을 수행하기 위하여 외부 장치의 연계가 필요한 경우, 해당 외부 장치를 제 어하기 위한 제어 신호를 생성하고, 생성한 제어 신호를 해당 외부 장치에 전송할 수 있다. 프로세서는 메모리에 저장된 응용 프로그램을 구동하기 위하여, 컴퓨팅 장치의 구성 요소들 중 적어도 일부 또는 구성요소들의 조합을 제어할 수 있다. 본 발명의 일 실시예에 따른 컴퓨팅 장치는 무선 및/또는 유선을 통한 상호 연결을 통해 데이터를 전송할 수 있고, 그리고 수신할 수 있다. 본 개시의 컴퓨팅 장치는 전자 형태의 데이터를 연산할 수 있는 모든 종류의 컴퓨팅 장치를 포함할 수 있다. 예를 들어, TV, 프로젝터, 휴대폰, 스마트폰, 데스크탑 컴퓨터, 노트북, 디지털방송용 단말기, PDA(personal digital assistants), PMP(portable multimedia player), 네비게이션, 태블릿 PC, 웨어러블 장치, 셋톱박스(STB), DMB 수신기, 라디오, 세탁기, 냉장고, 데스크탑 컴퓨터, 디지털 사이니지, 로봇, 차량 등과 같은, 고정 형 기기 또는 이동 가능한 기기 등으로 구현될 수 있다. 도 2 및 도 3은 본 발명의 실시 예에 따른 컴퓨팅 장치가 수행하는 동작의 흐름을 구성도로 나타낸 것이다. 도 2를 참조하면 본 발명의 실시 예에 따른 컴퓨팅 장치는 인페인팅을 위하여 입력부를 통해 사용자 스크 리블 정보, RGB 이미지 및 깊이 이미지를 획득할 수 있다(S210). 또한 프로세서는 계층 구조 생성모듈을 이용하 여 모든 입력 데이터에 대하여 해상도 별 피라미드 계층구조로 변환하고(S230), 인페인팅 처리 모듈을 이용하여 영상 복원을 위한 초기-전파-검색의 계층 구조적 처리를 반복 수행(S250)할 수 있다. 이후 복원된 RGB 이미지와 깊이 이미지를 출력할 수 있다(S270). 이하 구체적으로 설명한다. 도 3을 참조하면, 컴퓨팅 장치는 인페인팅을 위하여 입력부를 통해 사용자 스크리블 정보, RGB 이미지 및 깊이 이미지를 수신할 수 있다(S211, S213). 이때, 사용자 스크리블 정보는 도 2의 User Scribble-map을 의미할 수 있다. 또한, RGB 이미지는 도 2의 RGB, 깊이 이미지는 도 2의 Depth를 의미할 수 있다. 구체적으로, 입력부는 RGB 이미지(raw-RGB) 및 상기 RGB 이미지와 대응되는 깊이 이미지를 획득할 수 있다. 이 때, 상기 RGB 이미지 및 깊이 이미지는 서로 대응하는 쌍(pair)을 이룰 수 있다. 이때, RGB 이미지에 대응되는 깊이 이미지는 MiDaS와 같은 오픈 네트워크 모델로부터 획득될 수 있다. 한편, 프로세서는 계층 구조 생성모듈을 이용하여 모든 입력 데이터에 대하여 해상도 별 피라미드 계층구조로 변환할 수 있다(S230). 도 4는 본 발명의 실시 예에 따른 분할 영상을 나타낸 것이다. 도 4를 참조하면, 본 발명의 실시 예에 따르면, 프로세서는 사용자 스크리블 정보, RGB 이미지 및 깊이 이미지 에 기초하여 알파 매팅 기반 레이어 분할 이미지를 획득할 수 있다(S231). 이때, 알파 매팅 기반 레이어 분할 이미지는 다중-레이어 정밀 매팅 분할을 의미할 수 있다. 이후, 프로세서는 알파 매팅 기반 레이어 분할 이미지의 윤곽선에 대한 후처리성(예, 가우시안 블러, 침식, 확 장) 필터링을 수행할 수 있다. 도 4의 행은 알파 매팅 기반 레이어 분할에 따라 분할된 전경 알파맵(OUT_FORE_ALPHA), 전경 깊이 이미지 (OUT_FORE_IMAGE_Depth) 및 전경 RGB 이미지(OUT_FORE_IMAGE_RGB)를 각각 나타낸다. 생성된 이미지의 각 열은 레이어(#1, #2, #3 layer)를 나타낸다. 한편, 본 발명의 실시 예에 따른 도 4는 세 부분 레이어에 대한 분할 영상들을 예시로 나타낸 것이지 이에 한정 되는 것은 아니다. 이후, 계층 구조 생성 모듈에서는 전체 처리 속도 향상을 위해 모든 입력 데이터에 대하여 해상도별 피라미드 계층구조로 변환할 수 있다. 도 5는 본 발명의 실시 예에 따른 계층 구조 생성 수행 방법을 나타낸 것이다. 도 5를 참조하면, 복수의 단계(예를 들어 6 단계)의 계층 레벨 초기 입력 값인 RGB 컬러 및 알파맵 마스크 중첩 영상과 의 각 레벨 별 초기-전파-검색 과정을 통해 출력된 RGB 인페인팅 결과의 동일 사이즈 스케일 업 된 영상을 나타낸 것을 볼 수 있다. 한편, 상기 사용자 스크리블 정보는 사용자의 피드백과 스크리블 마스크 수정을 통해 재 실행 가능하다(S252). 그리고 도 3과 같이 상기 인페인팅 출력 파일들은 사용자 스크리블 마스크 영상(USER_PAINT_MSK)과 인페인팅 RGB 영상인 OUT_INPT_COLOR와 인페인팅 깊이 영상인 OUT_INPT_DEPTH로 구성될 수 있을 것이다. 본 발명의 실시 예에 따르면, 프로세서는 인페인팅 처리 모듈을 이용하여 영상 복원을 위한 초기-전파-검색의 계층 구조적 처리를 반복 수행할 수 있다(S250). 도 6은 본 발명의 실시 예에 따른 초기-전파-검색 과정을 나타낸 것이다. 도 6을 참조하면, 프로세서는 인페인팅 처리모듈을 이용하여, 홀이 있는 RGB 이미지, 깊이 이미지, 그리고 상기 홀에 대한 사용자 스크리블 마스크 맵을 입력 받아, 초기화, 전파(propagation), 검색(search)의 반복 과정을통해, 복원된 RGB 이미지와 깊이 이미지를 출력할 수 있다. 구체적으로, 프로세서는 계층별 해상도가 다른 영상들을 입력 받아, 계층별 NNF(Nearest-Neighbor Field: : f : A -> R2 , 영상 내 임의 두 패치간 거리 오프셋), 즉, 주어진 a 패치와 대응되는 근접된 이웃 패치 b간의 오 프셋값 (a) = (b - a) 측정을 통해 인페인팅을 수행할 수 있다. 이때, 두 패치 a, b의 오프셋값은, RGB 이미지 및 깊이 이미지의 특징 정보를 동시 고려할 수 있다. 구체적으로 아래의 수학식 1과 같이 두 오프셋에 대한 RGB 이미지와 깊이 이미지를 거리 함수로 표현될 수 있다. 수학식 1"}
{"patent_id": "10-2023-0115237", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "는 패치 a의 RGB 컬러 채널값, 는 패치 a의 깊이값, 는 그레디언트값, 그리고 은 정규화값을 의 미한다. 유사한 거리값을 갖는 근접한 두 패치의 색상, 깊이 속성은 유사할 것이라는 가정 하에, 두 패치간 깊 이 거리값 을 기준으로 사전 정의된 범위 값 내의 깊이 거리값 과 컬러 거리값 을 기반으로 NNF 측정을 한다. 프로세서는 인페인팅 처리 모듈을 이용하여, 도 2의 S250 과 같이, 가장 낮은 해상도 레벨에선 랜덤 오프셋값의 초기 NNF 입력 후, 홀 주변 패치와 가장 근접한 오프셋값을 갖는 외부 패치 검색을 위한 반복적인 전파-검색 과 정을 통해, 점진적으로 개선된 NNF를 획득할 수 있다. 도 6을 참조하면, 인페인팅 처리 모듈은 (a)패치 랜덤 초기, (b)전파, 그리고 (c)검색과정을 통해, A 영상 내 쿼리(query) 패치들에 대응 하는 B 영상 내 후보(candidate) 패치 추출을 수행할 수 있다. 쿼리 패치의 전파 과정은 사전 정의된 스캔 순서(예를 들어, 좌측 상단부터 우측 하단으로의 순서)와 역순서(예 를 들어, 우측 하단부터 좌측 상단으로의 순서)의 두 과정으로 진행될 수 있다. 인페인팅 처리 모듈은 대응되는 유사도 높은 후보 패치를 추출하며, 검색과정은 사전 정의된 영역 범위 값 내 에서 수행할 수 있다. 도 7은 본 발명의 실시 예에 따른 사용자 스크리블 기반 인페인팅 저작 과정을 나타낸 것이다. 도 7을 참조하면, 프로세서는 서로 다른 사용자 가이드 스크리블 커브(81, 82, 83)를 입력받을 수 있다. 도 8은 사용자 스크리블 커브의 예시를 나타낸 것이므로 스크리블의 수 및 모양은 다양한 실시예로 구현 가능하다. 본 발명의 실시 예에 따르면, 프로세서는 서로 다른 사용자 가이드 스크리블 커브(81,82,83)를 입력 받아, 중간 데이터를 생성할 수 있다((a), (b), (c), (d)). 서로 다른 사용자 스크리블 커브(81,82, 83) 중 어느 하나는 원본 영상 내 참조 색상을 표시할 수 있다(예를 들 어, 83) 또한, 사용자 스크리블 커브(81,82, 83) 중 다른 하나(예를 들어, 81)는 해당 참조 색상으로부터 샘플링되어 자 연스럽게 복사된 커브 라인을 나타낼 수 있다. 또한 나머지 하나(예를 들어, 82)는 원본 분할 입력 영상과 중첩되는 영역 내 커브로서, 사전 입력된 커브와 함 께 인페인팅 대상 영역 마스크 지정을 위한 경계 커브 라인을 의미할 수 있다. 상기 커브들은 역할에 따라 서로 다른 색상으로 구현 가능하다. 이와 같이 프로세서는 입력된 폐윤곡선으로부터 (a)바이너리 마스크를 생성할 수 있다. 또한, (b)와 같이, 상이한 참조 색상에 대하여 고유 ID를 갖는 샘플링 커브 라인의 스크리블 데이터를 생성할 수 있다. 도 8은 본 발명의 실시 예에 따른 스크리블 확대 영상을 나타낸 것이다. 도 8을 참조하면, 스크리블 부분 제1 확대 영상에서 확대 영상 내 과 는 서로 다른 참조 영역과 샘플 링 커브 라인을 표시한 것이다. 오른쪽 두 컬러 변환된 깊이 영상과 RGB 영상 내 샘플링 커브 라인에 대응하는 영역이 상이한 깊이값과 컬러값 데이터로 그려져 있음을 확인할 수 있다. 프로세서는 자동 생성된 (b)의 결과를 내부적으로 활용하여, 사용자 스크리블 데이터가 반영된 (c)RGB와 (d)Depth 인 페인팅 대상 영상을 생성할 수 있다. 결과적으로, 도 7의 (c)와 (d)중간 데이터 입력과 도 2의 계층 구조 생성 및 도 6의 인페인팅 처리 모듈을 거쳐, 인페인팅 복원 영상을 출력한다(S270). (참고로, (d)은 기존 Gray 깊이 영상의 컬러 스케일 변환된 결 과). 또한 프로세서는 RGB 컬러 전경 영상과 Gray 깊이 영상의 인페인팅 출력 뿐만 아니라, 도 4의 레이어 매팅 출력 파일인 알파맵과 사용자 마스크맵 후처리(예, 가우시안 블러링) 출력 파일을 이용하여, 인페인팅 복원된 영상에 대응하는 새로운 병합된 알파맵을 생성할 수 있다. 프로세서는 병합된 알파맵을 활용하여, 복원 영상의 새로운 영상 합성에 활용할 수 있을 것이다. 도 9는 본 발명의 실시 예에 따른 인페인팅 저작도구의 입출력 동작을 나타낸 도면이다. 상기 과정을 통하여 컴퓨팅 장치는 도 9와 같이 RGB 이미지 및 깊이 이미지의 pair 가 입력되고, 사용자 스크리블 입력 데이터 처리에 기초하여 각각의 인페인팅 복원 영상(912, 922)을 출력할 수 있다. 본 개시의 기술 분야에서 통상의 지식을 가진 자는 여기에 개시된 실시예들과 관련하여 설명된 다양한 예시적인 논리 블록들, 모듈들, 프로세서들, 수단들, 회로들 및 알고리즘 단계들이 전자 하드웨어, (편의를 위해, 여기에 서 소프트웨어로 지칭되는) 다양한 형태들의 프로그램 또는 설계 코드 또는 이들 모두의 결합에 의해 구현될 수 있다는 것을 이해할 것이다. 전술한 본 발명은, 프로그램이 기록된 매체에 컴퓨터가 읽을 수 있는 코드로서 구현하는 것이 가능하다. 컴퓨터 가 읽을 수 있는 매체는, 컴퓨터 시스템에 의하여 읽혀질 수 있는 데이터가 저장되는 모든 종류의 기록장치를 포함한다. 컴퓨터가 읽을 수 있는 매체의 예로는, HDD(Hard Disk Drive), SSD(Solid State Disk), SDD(Silicon Disk Drive), ROM, RAM, CD-ROM, 자기 테이프, 플로피 디스크, 광 데이터 저장 장치 등이 있다."}
{"patent_id": "10-2023-0115237", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시 예에 따른 컴퓨팅 장치를 나타낸다. 도 2 및 도 3은 본 발명의 실시 예에 따른 컴퓨팅 장치가 수행하는 동작의 흐름을 구성도로 나타낸 것이다. 도 4는 본 발명의 실시 예에 따른 분할 영상을 나타낸 것이다. 도 5는 본 발명의 실시 예에 따른 계층 구조 생성 수행 방법을 나타낸 것이다. 도 6은 본 발명의 실시 예에 따른 초기-전파-검색 과정을 나타낸 것이다. 도 7은 본 발명의 실시 예에 따른 사용자 스크리블 기반 인페인팅 저작 과정을 나타낸 것이다. 도 8은 사용자 스크리블 커브의 예시를 나타낸 것이다. 도 9는 본 발명의 실시 예에 따른 인페인팅 저작도구의 입출력 동작을 나타낸 도면이다."}
