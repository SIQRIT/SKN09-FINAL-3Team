{"patent_id": "10-2022-0180460", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0098579", "출원번호": "10-2022-0180460", "발명의 명칭": "인공 지능 학습 모델을 이용한 비전 기반의 제품 품질 검사 장치 및 방법", "출원인": "한국로봇융합연구원", "발명자": "김정준"}}
{"patent_id": "10-2022-0180460", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "제품을 촬영한 원본 이미지를 획득하는 획득부;상기 원본 이미지를 이용하여 양품 이미지를 생성하는 제1 생성부;상기 원본 이미지와 상기 양품 이미지의 차이값에 해당되는 차 영상을 생성하는 제2 생성부;상기 원본 이미지와 상기 차 영상이 결합된 결합 이미지를 생성하는 제3 생성부;상기 결합 이미지를 이용하여 상기 제품의 불량 여부를 판별하는 판별부;를 포함하는 검사 장치."}
{"patent_id": "10-2022-0180460", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,컨베이어벨트에 의해 이송되는 상기 제품이 상기 컨베이어벨트 상의 설정 영역에 진입한 것을 감지하는 센싱 수단, 상기 설정 영역에 대한 상기 제품의 진입이 감지되면 상기 설정 영역을 촬영하는 촬영 수단이 마련되고,상기 제1 생성부는 상기 촬영 수단의 촬영 이미지에 포함된 제품 이미지를 이용하여 상기 양품 이미지를 생성하는 검사 장치."}
{"patent_id": "10-2022-0180460", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 획득부는 컨베이어벨트에 의해 상기 제품이 멈춤없이 이송 중인 상태에서 촬영된 상기 원본 이미지를 획득하고,상기 제1 생성부는 상기 원본 이미지를 이용하여 특정 제품의 자세를 분석하며,상기 제1 생성부는 상기 특정 제품의 자세에 매칭되는 자세를 갖는 양품 이미지를 상기 제2 생성부에 제공하는검사 장치."}
{"patent_id": "10-2022-0180460", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제1항에 있어서,상기 획득부는 유연성으로 인해 복수의 양품 상태를 갖는 유연성 제품의 원본 이미지를 획득하고,상기 제1 생성부는 상기 원본 이미지를 이용하여 특정 제품의 유연성 상태를 분석하며,상기 제1 생성부는 상기 특정 제품의 유연성 상태에 매칭되는 유연성 상태를 갖는 양품 이미지를 상기 제2 생성부에 제공하는 검사 장치."}
{"patent_id": "10-2022-0180460", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서,상기 제1 생성부는 제1 모델에 상기 원본 이미지를 입력하고,공개특허 10-2024-0098579-3-상기 제1 생성부는 상기 제1 모델로부터 출력된 이미지를 상기 양품 이미지로서 상기 제2 생성부에 제공하며,상기 제1 모델은 양품 여부에 상관없이 어떠한 원본 이미지가 입력되더라도 항상 양품 이미지를 출력하도록, 양품 이미지만을 이용하여 학습된 VAE(Variational Auto Encoder) 모델을 포함하는 검사 장치."}
{"patent_id": "10-2022-0180460", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5항에 있어서,상기 제1 모델은 상기 원본 이미지가 입력되면, 상기 원본 이미지가 상기 제품의 이동 도중에 촬영된 여부, 상기 제품의 자세 문제, 상기 제품의 유연성 문제에 상관없이 새로운 양품 이미지를 생성하고 출력하는 검사장치."}
{"patent_id": "10-2022-0180460", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제1항에 있어서,상기 제2 생성부는 상기 원본 이미지의 특징점과 상기 양품 이미지의 특징점 간의 차이값을 이용하여 상기 차영상을 생성하고,상기 판별부는 상기 차 영상을 단독으로 이용하여 상기 제품의 불량 여부를 판별하는 대신, 상기 결합 이미지를이용하여 상기 제품의 불량 여부를 판별하는 검사 장치."}
{"patent_id": "10-2022-0180460", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제1항에 있어서,상기 판별부는 제2 모델을 이용하여 상기 제품의 불량 여부를 판별하고,상기 제2 모델은 상기 결합 이미지가 입력되면 상기 제품의 불량 여부를 판별하도록 학습된 인공 지능 모델을포함하는 검사 장치."}
{"patent_id": "10-2022-0180460", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "검사 장치에 의해 수행되는 검사 방법에 있어서,제품을 촬영한 원본 이미지를 획득하는 획득 단계;상기 원본 이미지를 기초로 상기 제품의 양품 이미지를 생성하는 제1 생성 단계;상기 원본 이미지와 상기 양품 이미지의 차 영상을 생성하는 제2 생성 단계;상기 원본 이미지와 상기 차 영상이 결합된 결합 이미지를 생성하는 제3 생성 단계;상기 결합 이미지를 이용하여 상기 제품의 불량 여부를 판별하는 판별 단계;를 포함하는 검사 방법."}
{"patent_id": "10-2022-0180460", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "검사 장치가 제공된다. 상기 검사 장치는 제품을 촬영한 원본 이미지를 획득하는 획득부; 상기 원본 이미지를 이 용하여 양품 이미지를 생성하는 제1 생성부; 상기 원본 이미지와 상기 양품 이미지의 차이값에 해당되는 차 영상 을 생성하는 제2 생성부; 상기 원본 이미지와 상기 차 영상이 결합된 결합 이미지를 생성하는 제3 생성부; 상기 결합 이미지를 이용하여 상기 제품의 불량 여부를 판별하는 판별부;를 포함할 수 있다."}
{"patent_id": "10-2022-0180460", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 제품의 품질을 검사하는 장치 및 방법에 관한 것이다."}
{"patent_id": "10-2022-0180460", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "제조 현장에서 수작업에 의해 품질 검사가 이루어질 수 있다. 이와 같은 현상은 영세한 기업일수록 현저하게 증 가한다. 왜냐하면, 제품의 종류가 빈번하게 바뀌기 때문에 자동화가 어렵기 때문이다. 수작업에 의한 품질 검사는 작업자의 숙련도에 따라 불량을 검출하는 기준이 다른 문제가 있다. 또한, 품질 검 사에 대한 불량률이 불규칙적이고 높은 문제가 있다. 한국등록특허공보 제2367597호에는 오토인코더를 이용하여 정상 공정, 비정상 공정을 구분 짓는 문턱값을 추출 하는 기술이 개시되고 있다. 선행기술문헌 특허문헌 (특허문헌 0001) 한국등록특허공보 제2367597호"}
{"patent_id": "10-2022-0180460", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 품질 검사의 대상이 되는 제품이 복수의 양품 상태를 가질 수 있는 환경에서 품질 검사를 수행할 수 있는 검사 장치 및 방법을 제공하기 위한 것이다."}
{"patent_id": "10-2022-0180460", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 발명의 검사 장치는 제품을 촬영한 원본 이미지를 획득하는 획득부; 상기 원본 이미지를 이용하여 양품 이미 지를 생성하는 제1 생성부; 상기 원본 이미지와 상기 양품 이미지의 차이값에 해당되는 차 영상을 생성하는 제2 생성부; 상기 원본 이미지와 상기 차 영상이 결합된 결합 이미지를 생성하는 제3 생성부; 상기 결합 이미지를 이용하여 상기 제품의 불량 여부를 판별하는 판별부;를 포함할 수 있다. 본 발명에 따르면, 컨베이어벨트에 의해 이송되는 상기 제품이 상기 컨베이어벨트 상의 설정 영역에 진입한 것 을 감지하는 센싱 수단, 상기 설정 영역에 대한 상기 제품의 진입이 감지되면 상기 설정 영역을 촬영하는 촬영 수단이 마련될 수 있다. 상기 제1 생성부는 상기 촬영 수단의 촬영 이미지에 포함된 제품 이미지를 이용하여 상기 양품 이미지를 생성할 수 있다. 본 발명의 검사 방법은 제품을 촬영한 원본 이미지를 획득하는 획득 단계; 상기 원본 이미지를 기초로 상기 제 품의 양품 이미지를 생성하는 제1 생성 단계; 상기 원본 이미지와 상기 양품 이미지의 차 영상을 생성하는 제2 생성 단계; 상기 원본 이미지와 상기 차 영상이 결합된 결합 이미지를 생성하는 제3 생성 단계; 상기 결합 이미 지를 이용하여 상기 제품의 불량 여부를 판별하는 판별 단계;를 포함할 수 있다."}
{"patent_id": "10-2022-0180460", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따르면, 일단 원본 이미지를 이용하여 해당 제품의 자세, 유연성 상태에 매칭되는 양품 이미지가 생 성될 수 있다. 해당 양품 이미지는 원본 이미지에 포함된 제품의 불량 여부를 판별하는 기초 자료로 활용될 수 있다. 본 발명에 따르면, 양품 이미지가 제품의 자세, 유연성 상태에 매칭되게 형성되므로, 제품의 자세, 유연성 상태 가 복수로 형성될 수 있는 이송 환경, 제품 환경에 상관없이 적용 가능한 양품 이미지가 획득될 수 있다. 해당 양품 이미지를 이용하면, 다양한 이송 환경, 제품 환경에 상관없이 제품의 품질이 자동 검사될 수 있다. 예를 들어, 컨베이어벨트에 의해 제품이 이송되는 현장에서 별도의 기구가 없다면, 컨베이어벨트에 놓인 제품의 자세는 매번 달라질 수 있다. 이와 같은 환경에서 정확한 품질 검사가 자동으로 수행되기 위해서는 각 자세별로 양품 이미지가 마련될 필요가 있다. 하지만, 현실적으로 무수히 많은 자세가 존재할 수 있으며, 각 자세에 대응 되는 양품 이미지를 사전에 추출하고 데이터베이스화해두는 것은 어렵다. 이와 같은 상황은 비정형성 또는 유연성을 갖는 제품에서도 유사하게 발생된다. 예를 들어, 종이 티슈, 비닐 포 장지는 형태가 정해지지 않고 주변 압력에 따라 형상이 자유롭게 변하는 유연성을 가질 수 있다. 이때, 사각 티 슈와 같은 종이 티슈를 복수로 적층한 뒤 비닐 포장지로 감싸는 공정을 거쳐 제조된 제품이 존재할 수 있다. 해 당 제품은 유연성을 갖는 종이 티슈, 비닐 포장지로 인해 유연성을 갖게 된다. 이때의 제품은 미세하더라도 각각의 외관이 대부분 다르게 형성될 수 있다. 이와 같은 환경에서 정확한 품질 검 사가 수행되기 위해서는 각 유연성 상태에 매칭되는 양품 이미지가 필요하다. 본 발명에 따르면, 제품의 자세, 유연성 상태 각각에 매칭되는 양품 이미지가 생성될 수 있다. 본 발명의 검사 장치는 해당 양품 이미지를 이용하여 현 제품의 원본 이미지의 문제점을 파악하고, 정상, 불량 여부를 판별할 수 있다. 또한, 본 발명에 따르면, 제품의 다양성을 최소화하기 위한 수단으로 센싱 수단이 이용될 수 있다. 센싱 수단은 제품을 촬영하는 촬영 수단의 트리거로 기능할 수 있다. 센싱 수단에 따르면, 촬영 수단에 의해 촬영된 제품이 항상 이미지 내에 동일한 위치에 배치될 수 있다. 그 결과, 본 발명에 따르면, 위치에 따른 다양성이 고려될 필 요가 없으며, 제품의 위치 문제가 품질 검사에서 배제될 수 있다. 본 발명에 따르면, 다품종 소량 생산하는 기업에 적합한 맞춤형 비전 검사 솔루션이 제공될 수 있다. 본 발명에 따르면, 제조 현장의 상황에 맞는 품질 관리 체계가 구축될 수 있으며, 높은 신뢰도의 품질 검사 서 비스가 제공될 수 있다. 이와 같은 환경은 시간당 제품 생산량 증대와 완제품 불량률 감소에 기여할 수 있다."}
{"patent_id": "10-2022-0180460", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "아래에서는 첨부한 도면을 참고로 하여 본 발명의 실시예에 대하여 본 발명이 속하는 기술 분야에서 통상의 지 식을 가진 자가 용이하게 실시할 수 있도록 상세히 설명한다. 그러나 본 발명은 여러 가지 상이한 형태로 구현 될 수 있으며 여기에서 설명하는 실시예에 한정되지 않는다. 그리고 도면에서 본 발명을 명확하게 설명하기 위 해서 설명과 관계없는 부분은 생략하였으며, 명세서 전체를 통하여 유사한 부분에 대해서는 유사한 도면 부호를 붙였다. 본 명세서에서, 동일한 구성요소에 대해서 중복된 설명은 생략한다. 또한 본 명세서에서, 어떤 구성요소가 다른 구성요소에 '연결되어' 있다거나 '접속되어' 있다고 언급된 때에는, 그 다른 구성요소에 직접적으로 연결되어 있거나 또는 접속되어 있을 수도 있지만, 중간에 다른 구성요소가 존 재할 수도 있다고 이해되어야 할 것이다. 반면에 본 명세서에서, 어떤 구성요소가 다른 구성요소에 '직접 연결 되어' 있다거나 '직접 접속되어' 있다고 언급된 때에는, 중간에 다른 구성요소가 존재하지 않는 것으로 이해되어야 할 것이다. 또한, 본 명세서에서 사용되는 용어는 단지 특정한 실시예를 설명하기 위해 사용되는 것으로써, 본 발명을 한정 하려는 의도로 사용되는 것이 아니다. 또한 본 명세서에서, 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함할 수 있다. 또한 본 명세서에서, '포함하다' 또는 '가지다' 등의 용어는 명세서에 기재된 특징, 숫자, 단계, 동작, 구성요 소, 부품, 또는 이들을 조합한 것이 존재함을 지정하려는 것일 뿐, 하나 또는 그 이상의 다른 특징, 숫자, 단계, 동작, 구성요소, 부품 또는 이들을 조합한 것의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이 해되어야 할 것이다. 또한 본 명세서에서, '및/또는' 이라는 용어는 복수의 기재된 항목들의 조합 또는 복수의 기재된 항목들 중의 어느 항목을 포함한다. 본 명세서에서, 'A 또는 B'는, 'A', 'B', 또는 'A와 B 모두'를 포함할 수 있다. 또한 본 명세서에서, 본 발명의 요지를 흐리게 할 수 있는 공지 기능 및 구성에 대한 상세한 설명은 생략될 것 이다. 도 1은 본 발명의 검사 장치를 나타낸 개략도이다. 도 3은 티슈 포장 제품을 나타낸 사진이다. 도 4는 불량 상태의 티슈 포장 제품을 나타낸 사진이다. 도 1에 도시된 검사 장치는 획득부, 제1 생성부, 제2 생성부, 제3 생성부, 판별부 , 실행부를 포함할 수 있다. 획득부는 제품을 촬영한 원본 이미지를 획득할 수 있다. 제품은 각종 공정을 통해 제조된 중간 제품, 중간 제품이 조립된 완성품을 포함할 수 있다. 일 예로, 복수의 종이 티슈가 적층되고 비닐 포장지에 의해 감긴 티슈 포장 제품이 마련될 수 있다. 제품 은 출하 전에 품질 검사를 받을 수 있다. 품질 검사 과정에서 불량으로 판별된 제품은 수거되고 정상으 로 판별된 제품만 출하될 수 있다. 품질 검사는 제품을 촬영한 촬영 이미지의 분석을 통해 수행될 수 있다. 촬영 이미지에 포함된 제품 이 미지의 정상, 불량을 판별하기 위해 이미지에 포함된 제품 이미지는 항상 동일한 위치, 동일한 자세, 동일 한 모양을 유지하는 것이 유리하다. 하지만, 제품의 신속 대량 생산을 위해 제품의 품질 검사는 컨베이어벨트를 따라 멈춤없이 이송되 는 도중에 수행되는 것이 좋다. 이에 따르면, 획득부는 컨베이어벨트에 의해 제품이 멈춤없이 이 송 중인 상태에서 촬영된 원본 이미지를 획득할 수 있다. 이에 따르면, 촬영 이미지 내에 각 제품 이미지가 서로 다른 위치에 위치할 수 있다. 또한, 이송 도중에 제 품의 자세가 미세하게 틀어질 수 있으며, 이에 따라 검사 타겟이 되는 제품의 자세가 서로 조금씩 달라 질 수 있다. 한편, 제품이 항상 동일한 모양을 유지하지 못하고 여러 모양으로 변할 수 있는 유연성을 가질 수 있다. 예 를 들어, 위의 티슈 포장 제품의 경우, 매 제품마다 미세하게 모양이 서로 다를 수 있다. 일반적인 품질관리용으로 사용되고 있는 비전 시스템의 경우 일관된 패턴 또는 크기, 모양이 일정한 제품들 을 대상으로 할 수 있다. 이에 따르면, 획득부는 유연성으로 인해 복수의 양품 상태를 갖는 유연성 제품 의 원본 이미지를 획득할 수 있다. 이 경우, 양품에 대한 명확한 기준, 오차 등이 있으나 본 발명에서 대상으로 하는 티슈 포장 제품 등은 유 연성으로 인해 양품 기준을 명확하게 규정짓기 어려운 문제가 있다. 예를 들어, 비닐로 포장된 티슈 포장 제품 의 경우, 양품이라 하더라도 각 제품마다 포장 상태 및 구겨짐 상태 등이 전부 다를 수 있다. 도 3의 경우, 기름때 등의 이물질이 포함되거나 옆면 포장 불량으로 인해 티슈가 튀어나와 있는 불량 e가 존재 한다. 이들 불량 e는 양품으로 판정될 수 있는 구겨짐과 구분될 필요가 있다. 티슈 포장 제품과 같이 유연성을 갖는 제품을 컨베이어벨트를 이용하여 이송하면서 품질 검사를 할 경우, 위의 문제를 모두 가질 수 있다. 따라서, 유연성을 갖는 제품을 신속하게 품질 검사하기 위해서는 위 의 3가지 문제, 즉 촬영 이미지에 포함된 제품 이미지의 위치가 일부 틀어지는 문제, 제품의 자세가 달라지는 문제, 유연성 문제가 모두 해소될 필요가 있다. 자세 문제와 유연성 문제를 해소하기 위해 제1 생성부, 제2 생성부, 제3 생성부, 판별부가 이용될 수 있다. 제1 생성부는 원본 이미지를 이용하여 특정 제품의 자세를 분석할 수 있다. 이때, 제1 생성부는 특정 제품의 자세에 매칭되는 자세를 갖는 양품 이미지를 제2 생성부에 제공할 수 있다. 또는, 제1 생성부는 원본 이미지를 이용하여 특정 제품의 유연성 상태를 분석할 수 있다. 이때, 제1 생성부는 특정 제품의 유연성 상태에 매칭되는 유연성 상태를 갖는 양품 이미지를 제2 생성부에 제공할 수 있다. 한편, 자세 문제와 유연성 문제는 품질 검사를 방해하는 요인으로 작용할 수 있다. 왜냐하면, 해당 문제는 현실 적으로 양품 이미지의 획득을 어렵게 만들기 때문이다. 촬영 이미지를 이용하는 제품의 품질 검사는 양품 이미지와 원본 이미지 간의 비교를 통해 수행될 수 있다. 이를 위해서는 양품 이미지가 준비될 필요가 있다. 촬영 당시의 자세가 일부 틀어졌다고 해서 양품이 아닌 것이 아니다. 마찬가지로 촬영 당시의 유연성 상태가 컨 베이어벨트 상의 앞 제품 또는 뒷 제품과 일부 다르더라도 양품이 아닌 것이 아니다. 다시 말해, 자세 문제와 유연성 문제가 개입되는 환경에 따르면, 무수히 많은 개수의 양품 이미지가 필요하다. 여기에 위치 문제까지 추가되면, 필요한 양품 이미지의 개수는 더욱 증가될 수 있다. 현실적으로, 무한대로 존재할 수 있는 양품 이미지를 미리 마련하기는 것은 어렵다. 설사, 무수히 많은 양품 이미지를 준비한 경우를 가정하더라도, 그 중에서 현재 제품의 자세, 유연성에 매칭되는 것을 탐색하고 추출하는 작업 역시 어려울 수밖에 없다. 이러한 문제점을 해소하기 위해 제1 생성부는 원본 이미지를 이용하여 양품 이미지를 생성할 수 있다. 다 시 말해, 제1 생성부는 데이터베이스 등에 미리 준비해 놓은 양품 이미지 중에서 원본 이미지에 매칭되는 자세, 유연성을 갖는 양품 이미지를 추출하지 방안을 배제할 수 있다. 대신, 제1 생성부는 특정 자세, 특 정 유연성 중 적어도 하나를 갖는 원본 이미지를 그대로 이용하여 양품 이미지를 새롭게 생성할 수 있다. 제1 생성부에 의해 생성된 양품 이미지는 원본 이미지에 포함된 제품 이미지의 자세, 유연성에 일대일 매 칭될 수 있다. 일 예로, 제1 생성부는 제1 모델을 포함할 수 있다. 제1 생성부는 제1 모델에 원본 이미지를 입력하고, 제1 모델로부터 출력된 이미지를 양품 이미지로서 제2 생성부에 제공할 수 있다. 제1 모델은 양품 여부에 상관없이 어떠한 원본 이미지가 입력되더라도 항상 양품 이미지를 출력하도록, 양품 이 미지만을 이용하여 학습된 VAE(Variational Auto Encoder) 모델을 포함할 수 있다. VAE 모델은 입력 이미지를 설명하는 특징을 추출하여 잠재 공간의 z 벡터에 담고, z 벡터를 통해 입력 이미지와 유사하지만 완전히 새로운 출력 이미지를 생성하는 것을 목표로 할 수 있다. 각 특징이 가우시안 분포를 따른다고 가정하고 z 벡터는 각 특징의 평균과 분산값을 나타낼 수 있다. 이때, 본 발명의 VAE 모델은 제품의 양품 이미지만을 이용하여 학 습될 수 있다. 다시 말해, 본 발명의 제1 모델은 양품 이미지가 입력되면 새로운 양품 이미지를 생성하도록 학 습될 수 있다. 이렇게 학습된 제1 모델은 설사 불량 상태의 원본 이미지가 입력되더라도 새로운 양품 이미지를 생성하게 되며, 이때, 양품 이미지는 원본 이미지에 포함된 제품의 자세, 유연성 특징을 그대로 가질 수 있 다. 결과적으로 양품 이미지만을 이용하여 학습된 VAE 모델을 이용함으로써, 제1 생성부는 품질 검사의 대 상이 되는 제품과 동일한 자세, 동일한 유연성 상태를 갖는 양품 이미지를 생성할 수 있다. 도 2는 AE(Auto Encoder)와 VAE(Variational Auto Encoder)의 차이점을 나타낸 개략도이다. 도 2는 MNIST(Modified National Institute of Standards and Technology database) 데이터를 각각 AE(도 2의 (a))와 VAE(도 2의 (b))로 특징을 추출해 표현한 그림이다. 각 점의 색깔은 MNIST 데이터인 0~9의 숫자를 나타 낸다. 도 2의 (a)에 도시된 바와 같이, AE가 만들어낸 잠재 공간은 군집이 비교적 넓게 퍼져 있고, 중심으로 잘 뭉쳐 있지 않는 특성을 갖는다. 하지만, 도 2의 (b)에 도시된 바와 같이, VAE가 만들어낸 잠재 공간은 AE 때와 비교하여 중심으로 더 잘 뭉쳐져 있는 것을 확인할 수 있다. 따라서 양품 데이터를 재생하는데 AE에 비해서 VAE가 더 좋은 성능을 보인다는 것을알 수 있다. 비교 실시예로서, AE(Auto Encoder)를 사용하여 양품 이미지를 생성하는 방안이 고려될 수 있다. 이 경우, 단순 하게 입력 영상(원본 이미지)의 특징을 잠재 공간 z 벡터로 차원을 압축하고 다시 복원하는 방식으로 하나의 정 형화된 제품, 즉 정상 제품에 대한 기준이 명확한 경우 적합할 수 있다. 하지만, 비교 실시예의 경우, 자세 문제, 유연성 문제 등으로 인해 양품 이미지의 기준이 모호할 경우 학습이 어려워 조금만 다른 이미지가 입력되더라도 학습 이미지와 전혀 다른 출력 이미지가 생성될 수 있다. VAE는 AE와 다르게 잠재 공간 z벡터에 대해 정규분포로 나타내어 정상인 제품(양품 이미지)의 분포를 학습 하여 원본 이미지 또는 불량 이미지로부터 비슷한 정상 제품 이미지(양품 이미지)를 생성할 수 있다. 결과적으로 VAE가 포함된 제1 모델은 원본 이미지가 입력되면, 원본 이미지가 제품의 이동 도중에 촬영된 여부, 제품의 자세 문제, 제품의 유연성 문제에 상관없이 대상 제품에 매칭되는 새로운 양품 이미 지를 생성하고 출력할 수 있다. 다시 도 1로 돌아가서, 제2 생성부는 원본 이미지와 제1 생성부에서 생성된 양품 이미지의 차이값에 해당되는 차 영상을 생성할 수 있다. 일 예로, 제2 생성부는 원본 이미지의 특징점과 양품 이미지의 특징점 간의 차이값을 이용하여 차 영상을 생성할 수 있다. 이 경우, 판별부는 차 영상을 단독으로 이용하여 제품의 불량 여부를 판별하는 대신, 결합 이미지를 이용하여 제품의 불량 여부를 판별할 수 있다. 다시 말해, 판별부는 차 영상이 아니라 결합 이미지를 이용하여 제품의 불량 여부를 판별할 수 있다. 제3 생성부는 원본 이미지와 차 영상이 결합된 결합 이미지를 생성할 수 있다. 차 영상은 원본 이미지의 특징값과 양품 이미지의 특징값 간의 차이값을 포함할 수 있다. 차 영상만을 이용해서 제품의 불량 여부를 판별하게 되면, 서로 다른 부분이 많으면 불량으로 판별하고 다른 부분이 적으면 정상 으로 판별하는 상황이 발생될 수 있다. 하지만, 현실적으로 원본 이미지 상에서 어떤 부위에서 차이가 발생되는지 역시 매우 중요한 부분이다. 예를 들 어, 매우 중요한 부위에서는 차이값이 적더라도 불량으로 판별되는 것이 바람직할 수 있다. 또한, 제품의 종류가 자주 바뀌는 경우 차이값만으로는 대상 제품이 어떤 제품인지 확인이 불가하 며, 이로 인해 정상, 불량의 판별 자체가 불가능할 수 있다. 이와 같은 점을 고려하여 차 영상 대신 결합 이미지를 이용하여 제품의 불량 여부를 판별하는 것이 타당할 수 있다. 결합 이미지를 이용하면, 제품의 종류가 쉽게 파악될 수 있으며, 제품의 중요 부분에 오류에 발생되었는지 여부 등도 쉽게 파악될 수 있다. 또한, 판별부는 기계 학습된 인공 지능 모델을 이용하여 제품의 불량 여부를 판별할 수 있다. 이때, 인공 지능 모델에 대하여 적은 데이터를 갖는 차 영상만을 제공하는 것보다 많은 데이터를 갖는 결합 이미지를 제공하는 것이 높은 학습 효과를 나타낼 수 있다. 판별부는 원본 이미지와 양품 이미지 간의 차이에 대하여 추가적이 지도 학습을 통하여 제품의 불량 여부를 판정할 수 있다. 일 예로, 판별부는 제2 모델을 이용하여 제품의 불량 여부를 판별할 수 있다. 제2 모델은 결합 이미지가 입력되면 제품의 불량 여부를 판별하도록 학습된 인공 지능 모델을 포함할 수 있 다. 한편, 품질 검사를 방해하는 위치 문제를 해소하거나 VAE 모델의 학습 성능을 개선하기 위해 원봉 이미지 내에 제품 이미지가 항상 일정한 위치에 배치되는 것이 좋다. 그러나, 실제 현장에서는 동적인 컨베이어벨트(1 0)를 통해 제품이 멈춤없이 이동하기 때문에, 각 제품에 대한 원본 이미지를 촬영하는 시점이 일정하게 유지되기 어렵다. 여기서, 원본 이미지를 촬영하는 시점이 일정하다는 것은 각 제품을 촬영할 때, 항상 제 품의 이미지가 촬영 이미지 상에서 동일한 위치에 배치되는 것을 의미할 수 있다. 도 5는 제1 제품을 촬영한 제1 이미지와 제2 제품을 촬영한 제2 이미지를 나타낸 사진이다. 컨베이어 벨트에 의해 제품은 도 5의 위쪽에서 아래쪽을 향하는 방향을 따라 이송될 때, 이때, 제품을 촬영하는 시점에 따라 이미지 내의 제품 위치가 달라질 수 있다. 예를 들어 제1 이미지 i1에서는, 제1 제품의 중심 c1이 제1 이미지 i1의 중심 o보다 아래에 있는 것을 알 수 있다. 반면, 제2 이미지 i2에서는, 제2 제품의 중심 c2가 제2 이미지 i2의 중심 o와 거의 동일선 상에 위치하고 있는 것을 알 수 있다. 원본 이미지를 촬영하는 시점이 일정해지도록, 획득부에는 센싱 수단, 촬영 수단이 마련될 수 있다. 도 6은 센싱 수단, 촬영 수단, 실행부를 나타낸 개략도이다. 센싱 수단은 컨베이어벨트에 의해 이송되는 제품이 컨베이어벨트 상의 설정 영역 w1에 진입한 것을 감지할 수 있다. 촬영 수단은 설정 영역 w1에 대한 제품의 진입이 감지되면 설정 영역 w1을 촬영할 수 있다. 결과적으 로, 센싱 수단은 촬영 수단에 촬영 트리거 신호를 제공하는 것으로 볼 수 있다. 설정 영역 w1은 제품의 전체가 포함될 수 있는 크기로 설정될 수 있다. 설정 영역 w1에 제품 전체가 진 입한 상태에서 제품의 일측 말단이 접근하는 설정 영역 w1 내의 제1 위치가 정의될 수 있다. 이때, 센싱 수 단은 제1 위치를 지속적으로 감시하고, 제1 위치에서 제품이 감지되면 촬영 수단의 트리거 신호 를 생성할 수 있다. 촬영 수단은 트리거 신호가 입수되면 곧바로 설정 영역 w1을 촬영할 수 있다. 센싱 수단에 따르면, 제품이 항상 제1 위치에 도달했을 때 촬영이 이루어지게 되며, 원본 이미지에는 항상 동일한 위치에 제품 이미지가 존재할 수 있다. 제1 생성부는 촬영 수단의 촬영 이미지에 포함된 제품 이미지를 이용하여 양품 이미지를 생성할 수 있다. 실행부는 불량으로 판별된 제품, 즉 불량품을 정상으로 판별된 제품과 구분할 수 있다. 일 예로, 실행부는 정상으로 판별된 정상품이 컨베이어벨트를 따라 목적지로 이동하도록 놔둘 수 있다. 반면, 실행부는 불량품을 컨베이어벨트의 외부로 강제로 밀어낼 수 있다. 실행부는 컨베이어벨트에 의한 제품의 이송 방향 상으로 제1 위치의 하류에 존재하는 제2 위치 p 에 형성될 수 있다. 실행부는 제2 위치 p에 도달한 불량품을 컨베이어 벨트의 이송 방향과 다른 방향으로 멀어낼 수 있다. 예를 들어, 실행부는 불량품을 밀어내는 밀대, 밀대를 움직이는 액추에이터를 포함할 수 있다. 본 발명의 검사 장치는 제품의 불량을 검출할 때 불량 상태를 규정하는 것이 아닌, 정상 제품(양 품)으로만 학습되는 VAE 모델로부터 양품에 대한 확률 분포를 모델링할 수 있다. 이를 통해, 검사 장치는 항상 양품에 대한 이미지를 생성하고, 이를 제품의 원본 이미지와 비교되는 기준 이미지로 사용할 수 있다. 도 7은 검사 장치의 동작을 나타낸 개략도이다. 본 발명의 검사 장치는 VAE 모델에 입력되는 원본 이미지와 VAE 모델에서 생성된 양품 이미지와의 차이를 분석하고, 양품/불량품 판정을 수행하는 CNN(Convolutional Neural Network) 기반의 인공지능 네트워크를 추가 하는 2 스테이지(2-stage)를 구성할 수 있다. 본 발명의 검사 장치는 복수 종류의 제품이 섞여서 들어오더라도 품질 검사를 수행할 수 있다. 일단, 검사 장치는 획득부를 이용하여 제품의 원본 이미지를 획득할 수 있다(S 11). 도 7에서는 3가지의 원본 이미지(칫솔, 렌즈, 캡슐)를 획득하고 있다. 스테이지 1(stage 1)에서 제1 생성부는 VAE 모델을 이용하여 원본 이미지에 대한 양품 이미지를 생성할 수 있다(S 12). 해당 VAE(Variational Auto Encoder) 모델은 양품의 이미지로만 학습하여 불량품 이미지가 들어오 더라도 항상 양품 이미지를 생성할 수 있다. 스테이지 1(stage 1)에서 제2 생성부는 원본 이미지와 양품 이미지 간의 차 영상을 생성할 수 있다(S 13). 스테이지 2(stage 2)에서 제3 생성부는 원본 이미지와 차 영상이 결합된 결합 이미지를 생성할 수 있다(S 14). 스테이지 2(stage 2)에서 판별부는 제2 모델에 결합 이미지를 입력할 수 있다(S 15). 제2 모델은 결합 이 미지가 입력되면 양품 여부 또는 불량품 여부를 판정(불량 여부의 판별)하도록 학습된 CNN 네트워크를 포함할수 있다. 불량 여부의 판별 후, 불량품으로 판별된 제품은 실행기를 통해 컨베이어벨트로부터 밀려나고, 다음 공 정으로 넘어가는 정상품과 구분될 수 있다. 도 8은 본 발명의 검사 방법을 나타낸 흐름도이다. 도 8의 검사 방법은 도 1의 검사 장치에 의해 수행될 수 있다. 검사 방법은 획득 단계(S 510), 제1 생성 단계(S 520), 제2 생성 단계(S 530), 제3 생성 단계(S 540), 판별 단 계(S 550)를 포함할 수 있다. 획득 단계(S 510)는 제품을 촬영한 원본 이미지를 획득할 수 있다. 획득 단계(S 510)는 획득부에 의해 수행될 수 있다. 제1 생성 단계(S 520)는 원본 이미지를 기초로 제품의 양품 이미지를 생성할 수 있다. 제1 생성 단계(S 520)는 제1 생성부에 의해 수행될 수 있다. 제2 생성 단계(S 530)는 원본 이미지와 양품 이미지의 차 영상을 생성할 수 있다. 제2 생성 단계(S 530)는 제2 생성부에 의해 수행될 수 있다. 제3 생성 단계(S 540)는 원본 이미지와 차 영상이 결합된 결합 이미지를 생성할 수 있다. 제3 생성 단계(S 54 0)는 제3 생성부에 의해 수행될 수 있다. 판별 단계(S 550)는 결합 이미지를 이용하여 제품의 불량 여부를 판별할 수 있다. 판별 단계(S 550)는 판별 부에 의해 수행될 수 있다. 도 9는 본 발명의 실시예에 따른, 컴퓨팅 장치를 나타내는 도면이다. 도 9의 컴퓨팅 장치(TN100)는 본 명세서 에서 기술된 장치(예, 검사 장치 등) 일 수 있다. 도 9의 실시예에서, 컴퓨팅 장치(TN100)는 적어도 하나의 프로세서(TN110), 송수신 장치(TN120), 및 메모리 (TN130)를 포함할 수 있다. 또한, 컴퓨팅 장치(TN100)는 저장 장치(TN140), 입력 인터페이스 장치(TN150), 출 력 인터페이스 장치(TN160) 등을 더 포함할 수 있다. 컴퓨팅 장치(TN100)에 포함된 구성 요소들은 버스 (bus)(TN170)에 의해 연결되어 서로 통신을 수행할 수 있다. 프로세서(TN110)는 메모리(TN130) 및 저장 장치(TN140) 중에서 적어도 하나에 저장된 프로그램 명령(program command)을 실행할 수 있다. 프로세서(TN110)는 중앙 처리 장치(CPU: central processing unit), 그래픽 처리 장치(GPU: graphics processing unit), 또는 본 발명의 실시예에 따른 방법들이 수행되는 전용의 프로세서를 의 미할 수 있다. 프로세서(TN110)는 본 발명의 실시예와 관련하여 기술된 절차, 기능, 및 방법 등을 구현하도록 구성될 수 있다. 프로세서(TN110)는 컴퓨팅 장치(TN100)의 각 구성 요소를 제어할 수 있다. 메모리(TN130) 및 저장 장치(TN140) 각각은 프로세서(TN110)의 동작과 관련된 다양한 정보를 저장할 수 있다. 메모리(TN130) 및 저장 장치(TN140) 각각은 휘발성 저장 매체 및 비휘발성 저장 매체 중에서 적어도 하나로 구 성될 수 있다. 예를 들어, 메모리(TN130)는 읽기 전용 메모리(ROM: read only memory) 및 랜덤 액세스 메모리 (RAM: random access memory) 중에서 적어도 하나로 구성될 수 있다. 송수신 장치(TN120)는 유선 신호 또는 무선 신호를 송신 또는 수신할 수 있다. 송수신 장치(TN120)는 네트워크 에 연결되어 통신을 수행할 수 있다. 한편, 본 발명의 실시예는 지금까지 설명한 장치 및/또는 방법을 통해서만 구현되는 것은 아니며, 본 발명의 실 시예의 구성에 대응하는 기능을 실현하는 프로그램 또는 그 프로그램이 기록된 기록 매체를 통해 구현될 수도 있으며, 이러한 구현은 상술한 실시예의 기재로부터 본 발명이 속하는 기술 분야의 통상의 기술자라면 쉽게 구 현할 수 있는 것이다. 이상에서 본 발명의 실시예에 대하여 상세하게 설명하였지만 본 발명의 권리범위는 이에 한정되는 것은 아니고 다음의 청구범위에서 정의하고 있는 본 발명의 기본 개념을 이용한 통상의 기술자의 여러 변형 및 개량 형태 또 한 본 발명의 권리범위에 속하는 것이다. 부호의 설명10...컨베이어벨트 90...제품 100...검사 장치 110...제1 생성부 120...제2 생성부 130...제3 생성부 150...판별부 170...실행부 190...획득부 191...센싱 수단 193...촬영 수단"}
{"patent_id": "10-2022-0180460", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 검사 장치를 나타낸 개략도이다. 도 2는 AE(Auto Encoder)와 VAE(Variational Auto Encoder)의 차이점을 나타낸 개략도이다. 도 3은 티슈 포장 제품을 나타낸 사진이다. 도 4는 불량 상태의 티슈 포장 제품을 나타낸 사진이다. 도 5는 제1 제품을 촬영한 제1 이미지와 제2 제품을 촬영한 제2 이미지를 나타낸 사진이다. 도 6은 센싱 수단, 촬영 수단, 실행부를 나타낸 개략도이다. 도 7은 검사 장치의 동작을 나타낸 개략도이다. 도 8은 본 발명의 검사 방법을 나타낸 흐름도이다. 도 9는 본 발명의 실시예에 따른, 컴퓨팅 장치를 나타내는 도면이다."}
