{"patent_id": "10-2022-0016885", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0094093", "출원번호": "10-2022-0016885", "발명의 명칭": "이미지 패턴 매칭을 위한 조명 밝기 확인방법", "출원인": "세메스 주식회사", "발명자": "권덕성"}}
{"patent_id": "10-2022-0016885", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "미리 등록된 화면인 등록 이미지와의 유사도를 판단하고자 하는 영역을 조도를 변화시켜 가면서 반복적으로 촬영하는 촬영 단계;상기 촬영 단계에서 촬영된 각 이미지에서 등록 이미지와 조도를 비교할 영역 정보를 추출하는 영역 추출 단계;상기 영역 추출 단계에서 추출된 영역 정보를 이용하여 상기 촬영 단계에서 촬영된 각각의 이미지에서 등록 이미지와 비교할 영역의 이미지를 추출하는 이미지 추출 단계;상기 이미지 추출 단계에서 추출된 각각의 이미지와 등록 이미지를 비교하여 가장 유사한 밝기의 이미지를 검색하는 제2비교단계; 를 포함하여 상기 제2비교단계에서 검색된 이미지를 촬영한 조도를 확인하는 조명 밝기 확인방법."}
{"patent_id": "10-2022-0016885", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 영역 추출 단계는,상기 촬영 단계에서 촬영된 각 화면과 등록 이미지를 NCC (Normalized Cross Correlation) 매칭하여 매칭 스코어를 획득하는 제1비교 단계;를 포함하고,상기 제1비교 단계에서 가장 높은 스코어를 획득한 촬영 화면에서 등록 이미지와 조도를 비교할 영역 정보를 추출하는 조명 밝기 확인 방법"}
{"patent_id": "10-2022-0016885", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제1항에 있어서,상기 영역 추출 단계는 신경망(Neural Network)을 학습시킨 인공지능을 이용하여 이루어지는 조명 밝기 확인 방법."}
{"patent_id": "10-2022-0016885", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,상기 신경망은 CNN, R-CNN, Faster R-CNN 중 어느 하나 또는 둘 이상을 조합을 포함하는 조명 밝기 확인 방법."}
{"patent_id": "10-2022-0016885", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항 또는 제2항에 있어서,상기 제2비교 단계는 등록 이미지와 이미지 추출 단계에서 추출된 이미지의 각각의 픽셀에서의 밝기를 수치화하고 수치화된 각 픽셀의 밝기의 평균값을 비교하는 조명 밝기 확인 방법."}
{"patent_id": "10-2022-0016885", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "공개특허 10-2023-0094093-3-제3항에 있어서,상기 제2비교 단계는 등록 이미지와 이미지 추출 단계에서 추출된 이미지의 각각의 픽셀에서의 밝기를 수치화하고 수치화된 각 픽셀의 밝기의 평균값을 비교하는 조명 밝기 확인 방법."}
{"patent_id": "10-2022-0016885", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제4항에 있어서,상기 제2비교 단계는 등록 이미지와 이미지 추출 단계에서 추출된 이미지의 각각의 픽셀에서의 밝기를 수치화하고 수치화된 각 픽셀의 밝기의 평균값을 비교하는 조명 밝기 확인 방법."}
{"patent_id": "10-2022-0016885", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 이미지 패턴 매칭을 위한 조명 밝기 확인방법에 관한 것이다. 본 발명은, 미리 등록된 화면인 등록 이미지와의 유사도를 판단하고자 하는 영역을 조도를 변화시켜 가면서 반복 적으로 촬영하는 촬영 단계; 상기 촬영 단계에서 촬영된 각 이미지에서 등록 이미지와 조도를 비교할 영역 정보 를 추출하는 영역 추출 단계; 상기 영역 추출 단계에서 추출된 영역 정보를 이용하여 상기 촬영 단계에서 촬영된 각각의 이미지에서 등록 이미지와 비교할 영역의 이미지를 추출하는 이미지 추출 단계; 상기 이미지 추출 단계에 서 추출된 각각의 이미지와 등록 이미지를 비교하여 가장 유사한 밝기의 이미지를 검색하는 제2비교단계; 를 포 함하여 상기 제2비교단계에서 검색된 이미지를 촬영한 조도를 확인하는 조명 밝기 확인 방법을 제공한다."}
{"patent_id": "10-2022-0016885", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 이미지 패턴 매칭을 위한 조명 밝기 확인방법에 관한 것이다."}
{"patent_id": "10-2022-0016885", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "반도체 설비에서 정렬(alignment) 수행시 패턴 매칭 방법을 이용한다. 패턴 매칭이란 미리 등록된 영상과 검사 대상인 영상의 유사도를 비교하는 방법으로서 NCC(Normalized Cross Correlation) 방식과 GMF(Geometric Model Finder) 방식이 대표적이다. NCC 방식은 정규화된 상호 연관성을 찾는 방식으로서 두 이미지의 밝기와 선형적인 차이 및 기하학적인 유사도를 측정/비교하는 방식이고, GMF 방식은 두 이미지의 에지(Edge) 정보를 추출하여 유 사도를 측정/비교하는 방식이다. 두 방식 중 NCC 방식은 전체 영상의 정보를 이용하는 방식이고 GMF 방식은 에 지 정보만을 이용하게 되는 방식인데 전체 영상 정보를 이용하는 NCC 방식이 상대적으로 오인식이 적기 때문에 많이 사용되고 있다. 그런데 NCC 방식에 사용되는 설비 중에는 카메라, 렌즈, 조명 등의 광학계가 포함되어 있고 설비마다 카메라 센 서 감도, 렌즈의 초점거리, 조명의 특성 값 같은 광학계의 성능이 달라서 특정한 설비에서 촬영한 이미지를 다 른 설비에서 비교대상으로 사용하기가 어렵다. 왜냐하면, 같은 대상을 촬영해도 설비마다 촬영된 이미지가 달라 지기 때문이다. 이중 가장 큰 차이가 나는 부분은 이미지의 명암이다. 특정한 설비에서 촬영할 때의 조명 값(통 상 LED 출력치를 기준으로 함)으로 다른 설비에서 촬영을 하더라도 촬영된 이미지의 명암이 달라질 수 있기 때 문이다. 도 1은 동일한 대상을 동일한 조명 값으로 다른 설비에서 촬영한 영상의 예를 보여주는데, 육안으로 보 기에도 명암차이가 큰 것을 확인할 수 있다. 이런 명암 차이로 인해 전체 영상 정보를 이용하는 NCC 방식에 비 하여 에지 정보만을 이용하여 명암 차이에 덜 민감한 GMF 방식의 매칭 정확도가 높아지기도 한다. 이러한 문제로 인하여 패턴 매칭 테스트를 수행하여 원하는 결괏값이 얻어지지 않는 경우에는 새로운 설비에서 촬영한 이미지를 비교대상 패턴으로 재등록 하는 방식을 이용하였는데 이는 매우 번거로운 작업이다."}
{"patent_id": "10-2022-0016885", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 배경기술의 문제점을 해결하기 위하여 안출된 것으로서 본 발명이 해결하고자 하는 과제는 서로 다른 설비에서 같은 대상을 촬영할 때 유사한 명암으로 촬영된 이미지를 얻기 위한 조명밝기 확인 방법을 제공하는 것이다."}
{"patent_id": "10-2022-0016885", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "전술한 과제의 해결 수단으로서 본 발명은, 미리 등록된 화면인 등록 이미지와의 유사도를 판단하고자 하는 영역을 조도를 변화시켜 가면서 반복적으로 촬 영하는 촬영 단계; 상기 촬영 단계에서 촬영된 각 이미지에서 등록 이미지와 조도를 비교할 영역 정보를 추출하는 영역 추출 단계; 상기 영역 추출 단계에서 추출된 영역 정보를 이용하여 상기 촬영 단계에서 촬영된 각각의 이미지에서 등록 이 미지와 비교할 영역의 이미지를 추출하는 이미지 추출 단계; 상기 이미지 추출 단계에서 추출된 각각의 이미지와 등록 이미지를 비교하여 가장 유사한 밝기의 이미지를 검색 하는 제2비교단계; 를 포함하여 상기 제2비교단계에서 검색된 이미지를 촬영한 조도를 확인하는 조명 밝기 확인 방법을 제공한다. 상기 영역 추출 단계는, 상기 촬영 단계에서 촬영된 각 화면과 등록 이미지를 NCC (Normalized Cross Correlation) 매칭하여 매칭 스코 어를 획득하는 제1비교 단계;를 포함하고, 상기 제1비교 단계에서 가장 높은 스코어를 획득한 촬영 화면에서 등록 이미지와 조도를 비교할 영역 정보를 추 출하는 것이 바람직하다. 상기 영역 추출 단계는 신경망(Neural Network)을 학습시킨 인공지능을 이용하여 이루어질 수 있는데, 상기 신 경망은 CNN, R-CNN, Faster R-CNN 중 어느 하나 또는 둘 이상을 조합을 포함할 수 있다. 상기 제2비교 단계는 등록 이미지와 이미지 추출 단계에서 추출된 이미지의 각각의 픽셀에서의 밝기를 수치화하 고 수치화된 각 픽셀의 밝기의 평균값을 비교하는 것이 바람직하다."}
{"patent_id": "10-2022-0016885", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 의하면 서로 다른 설비에서 같은 대상을 촬영할 때 유사한 명암으로 촬영된 이미지를 얻기 위한 조명 밝기 확인 방법을 제공할 수 있다."}
{"patent_id": "10-2022-0016885", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하에서는 도면을 참조하면서 본 발명의 바람직한 실시예에 따른 조명 밝기 확인 방법에 대하여 설명함으로써"}
{"patent_id": "10-2022-0016885", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "본 발명을 실시하기 위한 구체적인 내용을 제공하기로 한다. 도 2는 등록 이미지의 하나의 예를 보여주는 도면, 도 3은 촬영 단계에서 촬영된 이미지의 예를 보여주는 도면, 도 4는 도 3에 도시된 이미지 중 NCC 매칭 스코어가 가장 높은 이미지에서 추출된 영역을 보여주는 도면이다. 본 실시예에 따른 조명 밝기 확인 방법은 이미지 패턴 매칭을 할 때에 등록 이미지와 비교를 하고자 하는 화면 을 획득하기 위한 최적의 조도를 확인하기 위한 방법으로서 촬영 단계, 영역 추출 단계, 이미지 추출 단계, 제2 비교단계를 포함한다.상기 촬영 단계는 도 2의 도면과 같이 미리 등록된 화면인 등록 이미지와의 유사도를 판단하고자 하는 영역을 조도를 변화시켜가면서 반복적으로 촬영하는 단계이다. 도 3은 촬영 단계에서 촬영된 세 개의 이미지 예를 도시 한 것인데 도시된 이미지 이외에도 조도를 달리하는 수십 또는 수백장의 이미지를 촬영할 수 있다. 상기 영역 추출 단계는 상기 촬영 단계에서 촬영된 각각의 이미지와 등록 이미지의 조도를 비교할 영역 정보를 추출하는 단계이다. 도 2 및 도 3에서 확인할 수 있는 바와 같이 등록 이미지와 촬영된 이미지가 동일한 영역을 촬영한 것은 아니다. 촬영된 이미지 중의 일부 영역과 등록 이미지를 비교하는 것인데 촬영된 이미지에서 등록 이미지와 비교할 영역을 찾아내는 것이 영역 정보 추출 단계이다. 상기 영역 정보 추출 단계는 제1비교 단계를 포함하는데, 상기 제1비교 단계는 촬영 단계에서 촬영된 각 이미지 와 등록 이미지를 NCC(Normalized Cross Correlation) 매칭하여 매칭 스코어를 획득하는 단계이고, 영역 정보 추출 단계는 상기 제1비교 단계에서 가장 높은 매칭 스코어를 획득한 촬영 이미지에서 등록 이미지와의 조도를 비교할 영역 정보를 추출한다. 도 3의 세 개의 이미지 중에서 가장 높은 매칭 스코어를 획득한 이미지는 가장 위에 제시된 도면이다. NCC 매칭 에서 가장 높은 매칭 스코어를 기록한 이미지가 등록 이미지와 가장 유사한 조도의 이미지와 다를 수 있는데 이 는 촬영 이미지에 생길 수 있는 노이즈(noise) 때문이다. 도 3에 도면부호 10으로 표시된 영역이 촬영 이미지의 노이즈 영역을 표시한 것인데, 가장 위에 제시된 이미지에서는 밝은 조도에서 촬영하여 상대적으로 노이즈가 덜 표시되기 때문에 가장 높은 매칭 스코어를 획득하게 되는 것이다. 다만, 이렇게 가장 높은 매칭 스코어를 획득한 이미지의 조도가 등록 이미지와 가장 유사한 조도로 촬영된 것으 로 판단하는 것이 아니고 가장 높은 매칭 스코어를 획득한 이미지에서 등록 이미지와 조도를 비교할 영역만을 추출함으로써 오류를 최소화할 수 있게 된다. 도 3의 가장 위에 배치된 이미지가 가장 높은 매칭 스코어를 획득한 이미지이고, 도면부호 20이 등록 이미지와 비교할 영역을 표시한 것이다. 도 4는 가장 높은 매칭 스코어를 획득한 이미지에서 등록 이미지와 비교하기 위 하여 추출된 영역을 보여주는 도면이다. 도 2와 도 4를 비교하면 도 4의 이미지가 상대적으로 밝은 조도에서 촬 영된 것을 확인할 수 있다. 상기 이미지 추출 단계는 상기 영역 추출 단계에서 추출된 영역 정보를 이용하여 상기 촬영 단계에서 촬영된 각 각의 이미지에서 등록 이미지와 비교할 영역의 이미지를 추출하는 단계이다. 상기 촬영단계에서 촬영된 모든 이 미지에서 도 3의 도면부호 20으로 표시된 영역의 이미지를 추출해 내는 것이다. 영역 추출 단계에서 추출할 영 역의 픽셀 좌표 정보를 획득하고 그 좌표에 해당하는 이미지를 추출하는 방식으로 이루어질 수 있다. 상기 제2비교 단계는 상기 이미지 추출 단계에서 추출된 각각의 이미지와 등록 이미지를 비교하여 가장 유사한 밝기의 이미지를 검색하는 단계이다. 상기 제2비교 단계에서 가장 유사한 밝기의 이미지를 검색하는 방법은 각각의 이미지에 포함된 각각의 픽셀의 밝기를 수치화하고 그 수치화된 픽셀의 밝기의 평균 값을 비교하는 것이다. 상기 제2비교 단계에서 검색된 이미지를 촬영한 조도를 확인함으로써 이미지 패턴 매칭을 위한 최적의 조도를 확인할 수 있게 된다. 한편, 상기 영역 추출 단계는 신경망(Neural Network)을 학습시킨 인공지능을 이용할 수도 있다. 신경망을 이용 하여 유사한 이미지를 탐색하는 알고리듬으로는 CNN(Convolutional Neural Network), R-CNN(Recurrent CNN), Faster R-CNN 등 여러 가지 알고리듬이 알려졌으며 이 중 하나 또는 둘 이상의 조합을 이용한 신경망을 이용할 수 있다."}
{"patent_id": "10-2022-0016885", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "이상에서 본 발명의 바람직한 실시예에 대하여 설명함으로써 본 발명을 실시하기 위한 구체적인 내용을 제공하 였으며, 본 발명의 기술적 사상이 설명된 실시예에 한정되는 것은 아니다. 본 발명의 기술적 사상에 포함되는 범위 안에서 다양한 형태로 구체화될 수 있다.부호의 설명 10 : 노이즈 영역 20 : 비교 영역"}
{"patent_id": "10-2022-0016885", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 동일한 대상을 동일한 조명 값으로 다른 설비에서 촬영한 영상의 예를 설명하기 위한 도면. 도 2는 등록 이미지의 하나의 예를 보여주는 도면. 도 3은 촬영 단계에서 촬영된 이미지의 예를 보여주는 도면. 도 4는 도 3에 도시된 이미지 중 NCC 매칭 스코어가 가장 높은 이미지에서 추출된 영역을 보여주는 도면."}
