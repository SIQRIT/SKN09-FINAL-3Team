{"patent_id": "10-2023-0081141", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0178845", "출원번호": "10-2023-0081141", "발명의 명칭": "가상 공간 제작 솔루션 제공장치 및 방법", "출원인": "주식회사 셀버스", "발명자": "김기동"}}
{"patent_id": "10-2023-0081141", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "하나 이상의 프로세서들, 및상기 하나 이상의 프로세서들에 의해 실행되는 하나 이상의 프로그램들을 저장하는 메모리를 구비한 장치로서,가상 공간 제작을 위한 360°이미지를 입력받은 이미지 입력부; 상기 이미지 입력부로 입력받은 360°이미지에서 적어도 일부를 추출하여 육면체의 전개도에 포함되는 6개의 사각형 이미지를 추출하는 이미지 추출부;상기 추출된 6개의 사각형 이미지를 이용하여 3D 육면체를 생성하는 육면체 생성부; 및상기 육면체 생성부에서 생성된 3D 육면체의 적어도 한 면의 이미지를 등장방형도법(Equirectangular)형 이미지변환에 의해 입체 영상으로 생성하여 가상 공간 콘텐츠로 출력하는 가상 공간 출력부;를 포함하는, 가상 공간제작 솔루션 제공장치."}
{"patent_id": "10-2023-0081141", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서, 상기 이미지 추출부의 육면체의 전개도 및 전개도에 삽입될 이미지 편집 신호를 입력받는 편집부;를 더 포함하는, 가상 공간 제작 솔루션 제공장치."}
{"patent_id": "10-2023-0081141", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 2 항에 있어서, 상기 편집부는, 3D 육면체 형태에서의 좌표를 이용하여 좌표 추적하는 좌표 추적부, 및상기 좌표 추적부에서 추적된 좌표를 편집 가능한 3D 레이어 상에 매핑 시키는 매핑부를 포함하는, 가상 공간제작 솔루션 제공장치."}
{"patent_id": "10-2023-0081141", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 3 항에 있어서, 상기 편집부는, 상기 육면체의 전개도의 면적 조절 신호를 입력받는, 가상 공간 제작 솔루션 제공장치."}
{"patent_id": "10-2023-0081141", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 3 항에 있어서, 상기 편집부는, 특징 맵 추출, 키포인트 매칭, 카메라 보정 기능을 포함하는 이미지 스티칭 기능을 수행하는, 가상 공간 제작솔루션 제공장치.공개특허 10-2024-0178845-3-청구항 6 제 3 항에 있어서, 상기 가상 공간 출력부는, 상기 편집부에서의 편집 신호에 따른 가상 공간의 미리 보기 뷰 화면을 제공하는, 가상 공간 제작 솔루션 제공장치."}
{"patent_id": "10-2023-0081141", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "하나의 프로세서들, 및상기 하나 이상의 프로세서들에 의해 실행되는 하나 이상의 프로그램들을 저장하는 메모리를 구비한 컴퓨팅 장치에서 수행되는 방법으로서,가상 공간 제작을 위한 360°이미지를 입력받은 이미지 입력 단계; 상기 이미지 입력 단계에서 입력받은 360°이미지에서 적어도 일부를 추출하여 육면체의 전개도에 포함되는 6개의 사각형 이미지를 추출하는 이미지 추출 단계;상기 추출된 6개의 사각형 이미지를 이용하여 3D 육면체를 생성하는 육면체 생성 단계; 및상기 육면체 생성 단계에서 생성된 3D 육면체의 적어도 한 면의 이미지를 등장방형도법(Equirectangular)형 이미지 변환에 의해 입체 영상으로 생성하여 가상 공간 콘텐츠로 출력하는 가상 공간 출력 단계;를 포함하는, 가상 공간 제작 솔루션 제공방법."}
{"patent_id": "10-2023-0081141", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 7 항에 있어서, 상기 이미지 추출 단계의 육면체의 전개도 및 전개도에 삽입될 이미지 편집 신호를 입력받는 편집 단계;를 더포함하는, 가상 공간 제작 솔루션 제공방법."}
{"patent_id": "10-2023-0081141", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 8 항에 있어서, 상기 편집 단계는, 3D 육면체 형태에서의 좌표를 이용하여 좌표 추적하는 좌표 추적 단계, 및상기 좌표 추적 단계에서 추적된 좌표를 편집 가능한 3D 레이어 상에 매핑 시키는 매핑 단계를 포함하는, 가상공간 제작 솔루션 제공방법."}
{"patent_id": "10-2023-0081141", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제 9 항에 있어서, 상기 편집 단계는, 상기 육면체의 전개도의 면적 조절 신호를 입력받는, 가상 공간 제작 솔루션 제공방법.공개특허 10-2024-0178845-4-청구항 11 제 9 항에 있어서, 상기 편집 단계는, 특징 맵 추출, 키포인트 매칭, 카메라 보정 기능을 포함하는 이미지 스티칭 기능을 수행하는, 가상 공간 제작솔루션 제공방법."}
{"patent_id": "10-2023-0081141", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제 9 항에 있어서, 상기 가상 공간 출력 단계는, 상기 편집 단계에서의 편집 신호에 따른 가상 공간의 미리 보기 뷰 화면을 제공하는, 가상 공간 제작 솔루션 제공방법."}
{"patent_id": "10-2023-0081141", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 큐브형 3D 공간을 구현하는 가상 공간 제작 솔루션 제공장치 및 방법에 관한 것으로, 하나 이상의 프 로세서들, 및 상기 하나 이상의 프로세서들에 의해 실행되는 하나 이상의 프로그램들을 저장하는 메모리를 구비 한 장치로서, 가상 공간 제작을 위한 360°이미지를 입력받은 이미지 입력부, 상기 이미지 입력부로 입력받은 (뒷면에 계속)"}
{"patent_id": "10-2023-0081141", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "실시예는 가상 공간 제작 솔루션 제공장치 및 방법에 관한 것으로, 보다 상세하게는 큐브형 3D 공간을 구현하는 가상 공간 제작 솔루션 제공장치 및 방법에 관한 것이다."}
{"patent_id": "10-2023-0081141", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "일반적으로 메타버스(Metaverse)는 가상·초월(meta)과 세계·우주(universe)의 합성어로, 3차원 가상 세계를 뜻한다. 보다 구체적으로는, 정치·경제·사회·문화의 전반적 측면에서 현실과 비현실 모두 공존할 수 있는 생 활형·게임형 가상 세계라는 의미로 폭넓게 사용되고 있다. 이러한 메타버스(Metaverse)가 콘텐츠 산업에서 떠 오르는 트렌드로 자리 잡기 시작했고, 현재 해외에서는 가상캐릭터를 활용하여 유튜브 영상을 게시하는 버츄얼 유튜버들이 속속 등장하고 있다. 유튜버, 크리에이터, 개인방송 진행자 등의 콘텐츠 크리에이터가 많아진 시대에 개인을 위한 가상공간 구축과 가상공간을 꾸밀 수 있는 디지털 제품에 대한 수요는 점차 확대되고 있다. 그러나 국내의 VR 콘텐츠들은 여전히 낮은 퀄리티로 만들어지고 있으며, 개인이 기술적 역량을 가지고 있지 않으면 VR 콘텐츠를 높은 퀄리티로 제작 할 수 없다. 이렇듯 국내 버츄얼 유튜버의 대부분은 비전문가로 구성된 경우가 많고, 좋은 아이템과 콘셉트를 가지고 있더라 도 기술적으로 질 높은 콘텐츠를 제작하기 어려운 상황이다. 디지털 제품 및 가상공간 구매 또한, 국내의 극소 수의 업체에서만 가능한 탓에 폭넓은 선택이나 다양한 정보를 확인할 수 없는 실정이다. 대부분 블로그로 운영 되는 디지털 제품이나 캐릭터 커미션은 맞춤형이긴 하지만 가격 정보나 구매규정, 환불정보 등 소비자의 권익 보장에 있어 취약한 상황이다. 국내에서 디지털 제품을 구매하려면 어쩔 수 없이 해외 웹사이트를 이용하거나 인증되지 않은 전문가에게 외주를 맡길 수밖에 없다. 따라서 일반인이나 비전문가라도 누구나 접근이 용이하고 쉽게 이용할 수 있는 디지털 제품 판매 플랫폼 및 가 상공간 구축 서비스에 대한 수요가 확대되고 있다. 한편, 사용자가 촬영한 이미지 또는 영상으로부터 소프트웨어나 앱을 이용하여 360° 가상 공간을 생성하는 기 술은 사용자가 하나의 공간에 대해서만 가상공간을 생성할 수 있어서 자유도가 낮다는 한계가 있다. 또한, 입력된 이미지에 대해 큐브형으로 3D공간을 구현하는 소스코드가 존재하기는 하지만 이는 정육면체로 크 기가 고정되어 있는 형태이고 사용자 자유롭게 조정할 수는 없었다. 선행기술문헌 특허문헌 (특허문헌 0001) KR 10-2022-0144289 A (특허문헌 0002) KR 10-2263133 B1"}
{"patent_id": "10-2023-0081141", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 이 같은 기술적 배경에서 도출된 것으로, 모바일 기반으로 가상 매장 또는 가상 공간을 구현하여 SNS 에 공유할 수 있고, 생성된 3D 공간 내에 다른 이미지를 삽입하여 자유롭게 편집함으로써 가상 공간 제작 및 편 집 과정에서 사용자에게 높은 자유도를 제공할 수 있는 가상 공간 제작 솔루션 제공장치 및 방법을 제공함에 그 목적이 있다."}
{"patent_id": "10-2023-0081141", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기의 과제를 달성하기 위한 본 발명은 다음과 같은 구성을 포함한다. 즉 본 발명의 일 실시예에 따른 가상 공간 제작 솔루션 제공장치는 하나 이상의 프로세서들, 및 상기 하나 이상 의 프로세서들에 의해 실행되는 하나 이상의 프로그램들을 저장하는 메모리를 구비한 장치로서, 가상 공간 제작 을 위한 360°이미지를 입력받은 이미지 입력부, 상기 이미지 입력부로 입력받은 360°이미지에서 적어도 일부 를 추출하여 육면체의 전개도에 포함되는 6개의 사각형 이미지를 추출하는 이미지 추출부, 상기 추출된 6개의 사각형 이미지를 이용하여 3D 육면체를 생성하는 육면체 생성부 및 상기 육면체 생성부에서 생성된 3D 육면체의 적어도 한 면의 이미지를 등장방형도법(Equirectangular)형 이미지 변환에 의해 입체 영상으로 생성하여 가상 공간 콘텐츠로 출력하는 가상 공간 출력부를 포함한다. 한편, 일 실시예에 따른 가상 공간 제작 솔루션 제공방법은 하나의 프로세서들, 및 상기 하나 이상의 프로세서 들에 의해 실행되는 하나 이상의 프로그램들을 저장하는 메모리를 구비한 컴퓨팅 장치에서 수행되는 방법으로서, 가상 공간 제작을 위한 360°이미지를 입력받은 이미지 입력 단계, 상기 이미지 입력 단계에서 입 력받은 360°이미지에서 적어도 일부를 추출하여 육면체의 전개도에 포함되는 6개의 사각형 이미지를 추출하는 이미지 추출 단계, 상기 추출된 6개의 사각형 이미지를 이용하여 3D 육면체를 생성하는 육면체 생성 단계 및 상 기 육면체 생성부에서 생성된 3D 육면체의 적어도 한 면의 이미지를 등장방형도법(Equirectangular)형 이미지 변환에 의해 입체 영상으로 생성하여 가상 공간 콘텐츠로 출력하는 가상 공간 출력 단계를 포함한다."}
{"patent_id": "10-2023-0081141", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 의하면 모바일 기반으로 가상 매장 또는 가상 공간을 구현하여 SNS에 공유할 수 있고, 생성된 3D 공 간 내에 다른 이미지를 삽입하여 자유롭게 편집함으로써 가상 공간 제작 및 편집 과정에서 사용자에게 높은 자 유도를 제공할 수 있는 가상 공간 제작 솔루션 제공장치 및 방법을 제공할 수 있는 효과가 도출된다."}
{"patent_id": "10-2023-0081141", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명에서 사용되는 기술적 용어는 단지 특정한 실시 예를 설명하기 위해 사용된 것으로, 본 발명을 한정하려 는 의도가 아님을 유의해야 한다. 또한, 본 발명에서 사용되는 기술적 용어는 본 발명에서 특별히 다른 의미로 정의되지 않는 한, 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에 의해 일반적으로 이해되는 의미로 해석되어야 하며, 과도하게 포괄적인 의미로 해석되거나, 과도하게 축소된 의미로 해석되지 않아야 한다. 이하, 첨부된 도면을 참조하여 본 발명에 따른 바람직한 실시예를 상세히 설명한다. 본 발명의 실시예들에 따른 가상 공간 제작 솔루션 제공장치는 적어도 하나의 컴퓨터 장치에 의해 구현될 수 있 으며, 본 발명의 실시예들에 따른 가상 공간 제작 솔루션 제공 방법은 가상 공간 제작 솔루션 제공장치에 포함 되는 적어도 하나의 컴퓨터 장치를 통해 수행될 수 있다. 이때, 컴퓨터 장치에는 본 발명의 일실시예에 따른 컴 퓨터 프로그램이 설치 및 구동될 수 있고, 컴퓨터 장치는 구동된 컴퓨터 프로그램의 제어에 따라 본 발명의 실 시예들에 따른 가상 공간 제작 솔루션 제공 방법을 수행할 수 있다. 상술한 컴퓨터 프로그램은 컴퓨터 장치와 결합되어 가상 공간 제작 솔루션 제공 방법을 컴퓨터에 실행시키기 위해 컴퓨터 판독 가능한 기록매체에 저장될 수 있다. 일 실시예에 따르면 가상 공간 제작 솔루션 제공장치는 사용자로부터 6개의 사진을 입력받아 각 사진을 360° 이미지로 변환하여 큐브형 3 공간을 구성함으로써 '가상 매장', '가상 공간'을 구현하거나 SNS에서 공유할 수 있다. 그리고 생성된 3D 공간 내 다른 이미지를 삽입하여 자유롭게 편집하는 것이 가능하다. 이에 따라 가상 공 간의 편집에 대해 높은 자유도를 제공할 수 있다. 또한 큐브 이미지 변환이 가능하고, 촬영 사진 비율에 맞게 큐브 넓이가 자동조정 될수 있어, 3D 공간 편집의 자유도 및 편리성 제고 효과가 있다. 도 1 은 본 발명의 일 실시예에 따른 가상 공간솔루션 제공장치간 제작 솔루션 제공장치의 구성을 도시한 블록 도이다. 일 실시예에 따른 가상 공간 제작 솔루션 제공 장치는 모바일 기반으로 언제 어디서든 쉽고 빠르게 가상 공 간을 생성하고 꾸미기 위해 360° 이미지를 촬영하고, 이를 기반으로 3D 렌더링 자동화를 구현한다. 그리고 3D 엔진(three.js)을 적용 하여 쉽고 빠르게 이미지를 렌더링하여 탁월한 성능과 안정성을 제공할 수 있다. 일 실 시예에 따른 가상 공간 제작 솔루션 제공 장치는 사용자 단말 내부에 탑재된다. 이에따라 가상 공간 생성을 위한 큐브 생성 알고리즘을 서버가 아닌 클라이언터로 전환하여 사용자가 보다 빠르게 큐브를 생성하며 변환 알 고리즘을 통해 이미지의 비율에 맞는 큐브 넓이 조절과 실시간 미리보기 뷰기능을 제공한다. 아울러 3D 좌표와 실제 구형 이미지에 좌표를 매핑 하고, 해당 위치에 콘텐츠를 표출하는 세부 기능을 구현하고, 이를 통하여 3D 이미지의 렌더링 및 렌더링 결과물의 좌표 추적 기능 그리고 컨텐츠 매핑 기술의 3가 지 핵심 기술을 제안할 수 있다. 뿐만 아니라, 일 실시예에 따른 가상 공간 제작 솔루션 제공 장치는 생성된 가상 공간의 다양한 인터렉티브 와 퀄리티 향상을 위해 사용자가 클라이언트 단에서 빠르게 큐브를 생성하며 변환 알고리즘 통해 사진 비율에 맞는 큐브 넓이 조절과 실시간 미리보기 뷰 3가지 핵심 기술과 360° 공간 스티칭 이미지 생성 후 인공지능 기 반 이미지 인페인팅, 디노이징 기능을 수행할 수 있다. 도 1 과 같이 일 실시예에 따른 가상 공간 제작 솔루션 제공 장치는 통신 인터페이스, 메모리, 입출력 인터페이스 및 프로세서를 포함한다.통신 인터페이스는 네트워크를 통해 가상 공간 제작 솔루션 제공 장치가 다른 장치(일례로, 앞서 설명 한 저장 장치들)와 서로 통신하기 위한 기능을 제공할 수 있다. 일례로, 가상 공간 제작 솔루션 제공 장치의 프로세서가 메모리와 같은 기록 장치에 저장된 프로 그램 코드에 따라 생성한 요청이나 명령, 데이터, 파일 등이 통신 인터페이스의 제어에 따라 네트워크를 통해 다른 장치들로 전달될 수 있다. 역으로, 다른 장치로부터의 신호나 명령, 데이터, 파일 등이 네트워크를 거쳐 가상 공간 제작 솔루션 제공 장치 의 통신 인터페이스를 통해 가상 공간 제작 솔루션 제공 장치로 수신될 수도 있다. 통신 인터페이 스를 통해 수신된 신호나 명령, 데이터 등은 프로세서나 메모리로 전달될 수 있고, 파일 등은 가상 공간 제작 솔루션 제공 장치가 더 포함할 수 있는 저장 매체(상술한 영구 저장 장치)로 저장될 수 있 다. 메모리는 컴퓨터에서 판독 가능한 기록매체로서, RAM(random access memory), ROM(read only memory) 및 디스크 드라이브 및 서버와 같은 비소멸성 대용량 기록장치(permanent mass storage device)를 포함할 수 있다. 여기서 ROM과 디스크 드라이브와 같은 비소멸성 대용량기록장치는 메모리와는 구분되는 별도의 영구 저장 장치로서 가상 공간 제작 솔루션 제공 장치에 포함될 수도 있다. 또한, 메모리에는 운영체제와 적어도 하나의 프로그램 코드가 저장될 수 있다. 이러한 소프트웨어 구성요 소들은 메모리와는 별도의 컴퓨터에서 판독 가능한 기록매체로부터 메모리로 로딩될 수 있다. 이러한 별도의 컴퓨터에서 판독 가능한 기록매체는 플로피 드라이브, 디스크, 테이프, DVD/CD-ROM 드라이브, 메모리 카 드, SSD, USB 등의 컴퓨터에서 판독 가능한 기록매체를 포함할 수 있다. 다른 실시예에서 소프트웨어 구성요소들은 컴퓨터에서 판독 가능한 기록매체가 아닌 통신 인터페이스를 통 해 메모리에 로딩될 수도 있다. 예를 들어, 소프트웨어 구성요소들은 네트워크를 통해 수신되는 파일들에 의해 설치되는 컴퓨터 프로그램에 기반하여 가상 공간 제작 솔루션 제공 장치의 메모리에 로딩될 수 있다. 입출력 인터페이스는 입출력 장치와의 인터페이스를 위한 수단일 수 있다. 예를 들어, 입출력 장치의 입력 장치는 마이크, 키보드 또는 마우스 등의 장치를, 그리고 출력 장치는 디스플레이, 스피커와 같은 장치를 포함 할 수 있다. 다른 예로 입출력 인터페이스는 터치스크린과 같이 입력과 출력을 위한 기능이 하나로 통합된 장치와의 인터페이스를 위한 수단일 수도 있다. 입출력 장치는 가상 공간 제작 솔루션 제공 장치와 하나의 장치로 구성될 수도 있다. 프로세서는 기본적인 산술, 로직 및 입출력 연산을 수행함으로써, 컴퓨터 프로그램의 명령을 처리하도록 구성될 수 있다. 명령은 메모리 또는 통신 인터페이스에 의해 프로세서로 제공될 수 있다. 예를 들어 프로세서는 메모리와 같은 기록 장치에 저장된 프로그램 코드에 따라 수신되는 명령을 실행하도 록 구성될 수 있다. 일 실시예에 있어서 프로세서는 이미지 입력부, 이미지 추출부, 육면체 생성부, 가상 공간 출력부 및 편집부를 포함한다. 이미지 입력부는 가상 공간 제작을 위한 360°이미지를 입력받는다. 그리고 이미지 추출부가 이미지 입력부로 입력받은 360°이미지에서 적어도 일부를 추출하여 육면 체의 전개도에 포함되는 6개의 사각형 이미지를 추출한다. 이때 이미지를 추출하는 것은 사용자 선택에 의해 진 행될 수도 있고 미리 정해진 알고리즘에 추출되도록 구현되는 것도 가능하다. 일 실시예에 있어서, 360° 공간을 정육면체로 표현할 수 있도록, 기존 360° 이미지를 조합하여 6개의 CUBE 이 미지로 만든다. 그리고 생성된 큐브 이미지를 화면 출력하고, 큐브 이미지 상에서 각면에 포함되는 이미지 편집 및 큐브 면 너비등을 편집함으로써 가상 공간의 편집을 보다 용이하게 수행할 수 있는 사용자 인터페이스를 제 공한다. 육면체 생성부는 이미지 추출부에서 추출된 6개의 사각형 이미지를 이용하여 3D 육면체를 생성한다. 도 2a 및 도 2b는 3D 육면체 생성 과정을 설명하기 위한 예시도이다. 도 2a와 같이 360°공간을 정육면체로 표현할 수 있도록 기존의 360°이미지를 조합하여 6개의 큐브 이미지로 만들 수 있다. 도 2b와 같이 정육면체의 각 면에 대한 좌표를 정의하여 3차원 좌표가 아닌 2차원 좌표로 컨트롤할 수 있게 된 다. 구체적으로 윗면(top)은 y값이 양수이고 x, z 좌표로 구성된다. 그리고 아래면(bottom)은 y값이 음수이고 x, z 좌표로 구성된다. 제 1 측면(left)은 x 값이 음수이고 y, z좌표로 구성되고, 제 2 측면(front)은 z값이 음수이 고 x, y좌표로 구성되며, 제 3 측면(right)은 x값이 양수이고 y, z 좌표로 구성되고, 제 4 측면은 z값이 양수이 고 x, y좌표로 구성된다. 이같이 육면체 생성부는 360°공간의 3D 이미지를 2차원 좌표로 제어할 수 있도록 육면체 형태에 매핑하 는 과정을 수행한다. 일 실시예에 따른 가상 공간 제작 솔루션 제공 장치는 360°공간에 대한 3D 이미지의 렌더링 및 렌더링 결 과들의 육면체 형태에 기반한 좌표 추적 기능, 그리고 육면체 형태로 컨텐츠 매핑 기술을 수행할 수 있다. 즉, 큐브 모양에 맞게 이미지 추출부에서 추출된 6장의 사진을 360° 공간 이미지(큐브형 360° 이미지) 에 맞게 변환할 수 있다. 클라이언트 즉 사용자 단말에서 정육면체의 전개도(Cubemap)에 등록된 6개의 이미지를 Equirectangular 이미지로 변환하여 360° 공간으로 보이도록 변환하여 출력할 수 있다. 등장방형도법(Equirectangular)은 구 형태의 표면을 평면상에 투영하는 방법 중 하나로 원통형 좌표계의 한 형 태로, 표면을 구면 좌표계로 표현한 후 평면상에 투영하는 것을 의미한다. 추가적으로 육면체 생성부는 사용자로부터 6장의 사진을 입력받아서 360° 공간 이미지(큐브형 360° 이 미지)에 맞게 변환할 수도 있다. 이에 따라 사용자가 사용자 단말을 이용하여 쉽고 신속하게 자신만의 큐브 공간을 만들 수 있도록 큐브 관련 다 양한 편의 기능을 제공하도록 구현될 수 있다. 즉, 큐브 생성 알고리즘을 서버에서 클라이언트로 전환하여 사용 자가 빠르게 큐브를 생성할 수 있다. 사용자가 여러 장의 사진을 활용하여 자신만의 큐브 공간을 만들 수 있도 록 기능을 제공한다. 육면체 생성부는 360°공간 이미지와 큐브 전개도 변환 알고리즘을 포함한다. 육면체 생성부는 큐브형 360° 이미지를 생성한 후 이미지의 각 픽셀 좌표를 구면 좌표계 형식의 좌표로 계산한다. 이때 동일 거리로 가정하고 픽셀의 경도(-π~π)와 위도(-π/2 ~ π/2) 좌표를 생성하고, 계산된 구 면 좌표계 좌표를 기반으로 각 이미지 픽셀이 포함되는 큐브 전개도 방향을 계산한다. 큐브 전개도 방향 계산 시 입력된 큐브 넓이를 적용하여 포함되는 큐브 방향의 비율을 조절할 수 있다. 도 3 은 일 실시예에 따른 가상 공간 제작 솔루션 제공장치의 좌표 추적 및 레이어 접목 과정을 설명하기 위한 예시도이다. 일 실시예에 따른 가상 공간 제작 솔루션 제공장치는 도 3 과 같이 360°이미지를 육면체(cube) 이미지로 변환하여 서버로 업로드한다. 원본 360°공간의 3D 이미지는 x, y 좌표값을 이용할 수 없다. 따라서 컨트롤이 용이한 좌표로 변환하기 위해 큐브 형태의 3D 레이어를 형성하고 큐브 형태 레이어에 360°공간의 3D 이미지의 모든 콘텐츠를 매핑한다. 즉, 육면체 생성부는 3차원 큐브 형태에서 표현 가능한 좌표를 이용하여 컨텐츠 의 회전값, 위치를 넣어줄 수 있다. 이 알고리즘은 다음과 같다. if(x_value == (-5000)) Yrotation_degree = Math.PI * 1.5, X 음수 else if(x_value == 5000) Yrotation_degree = Math.PI * 0.5, X 양수 else if(z_value == (-5000)) Yrotation_degree = Math.PI * 0, Z 음수 else if(z_value == 5000) Yrotation_degree = Math.PI, Z 양수 else if(y_value == (-5000)) Xrotation_degree = Math.PI * 1.5, Y 양수 else if(y_value == 5000) Xrotation_degree = Math.PI * 0.5, Y 음수 가상 공간 출력부는 육면체 생성부에서 생성된 3D 육면체의 적어도 한 면의 이미지를 등장방형도법 (Equirectangular)형 이미지 변환에 의해 입체 영상으로 생성하여 가상 공간 콘텐츠로 출력한다. 가상 공간 출력부는 정육면체 전개도를 제공하고, 방향별 이미지를 등록받은 후에 변환 함수를 실행하여 360°공간의 3D 이미지를 생성할 수 있다. 즉, 가상 공간 출력부는 배경 큐브형 360° 이미지를 생성하고, 생성된 이미지의 픽셀 좌표 정보를 구면 좌표 정보로 변환하여 입력 방향을 결정한다. 그리고 입력 방향에 맞는 이미지 선정 후 타겟 이미지의 픽셀 좌 표를 계산하고, 적절한 색상 정보를 360° 이미지에 추가하는 방식으로 360° 이미지 생성할 수 있다. 이때 벽 면 넓이 계산 정보를 구면 좌표계 방향 계산 시 추가할 수 있다. 도 4 는 가상공간 콘텐츠로 변환 과정을 설명하기 위한 예시도이다. 일 실시예에 따른 가상 공간 출력부는 도 4 에서와 같이 360°공간의 3D 이미지 관리 및 렌더링, 이미지 상에서의 좌표 추적, 이미지 상에서의 좌표 매핑, 이미지 상에서의 멀티미디어 표출 기능을 제공하고 최종 결과 물은 일 예로 HTML5 표준에 맞춰 퍼블리싱한다. 360°이미지를 3D 엔진을 이용하여 렌더링을 수행함에 있어서 일 예로 Three.js & panolense.js 엔진을 활용하 여 빠른 렌더링 및 모바일 단말 화면에 최적화된 이미지 사이즈, Resolution을 정의한다. Three.js와 Panolens.js는 모두 WebGL을 기반으로 한 3D 그래픽 및 가상현실(VR)을 위한 JavaScript 엔진이다. Three.js는 웹 브라우저에서 3D 그래픽을 생성하고 표현하기 위한 강력한 라이브러리이고, 이 엔진은 WebGL을 사용하여 하드웨어 가속을 활용하며, JavaScript로 3D 개체, 조명, 카메라 등을 조작하고 렌더링한다. Panolens.js는 360도 이미지 및 가상현실(VR) 콘텐츠를 웹 브라우저에서 표시하기 위한 라이브러리이다. 이 엔 진은 Three.js를 기반으로 하며, 360도 이미지와 VR 콘텐츠를 렌더링하고 상호작용할 수 있는 기능을 제공하고, Panolens.js를 사용하면 웹 페이지에 360도 이미지나 VR 콘텐츠를 쉽게 통합할 수 있다. 그리고 360°이미지 상에서 좌표 추적 및 매핑을 수행하기 위해 360°이미지 상에서의 좌표 및 매핑을 위한 엔 진을 제공하고 렌더링 이미지상에서의 좌표 refresh를 이용하여 자연스러운 콘텐츠를 표출할 수 있다. 추적된 좌표에 콘텐츠를 매핑하고 HTML 5 기반의 player를 탑재하고, 카메라 렌즈의 이동에 따른 View 변경을 수행한다. HTML 5 기반의 Link 기반 배포를 수행하고, 순수 HTML 기반으로 다양한 브라우저를 지원한다. 일 실시예에 있어서, 가상 공간 출력부는 큐브형 360° 이미지와 방향별 이미지의 매칭점 계산을 수행한 다. 그리고 큐브형 360° 이미지의 특정 픽셀이 포함되는 방향, 해당 방향 이미지의 x 좌표, y 좌표를 계산한다. 그리고 계산된 매칭 정보를 활용하여 색상 정보를 전달한다. 이때 육면체 생성부는 360° 공간 이미지를 큐브 이미지로 변환하는 변환 함수의 경우 반대 함수 계산을 적용한다. 즉, 큐브 이미지 배열 생성 후 변환 좌표 계산 및 값 맵핑을 실행한다. 이에 따라 변환 과정 및 좌표 계산 시간 최소화할 수 있고, 변환 함수 내 변환 비율을 설정하여 상, 하 크기 조절이 가능하다. 일 실시예에 있어서 큐브 전개도와 360° 이미지(Equirectangular형 이미지) 상호 변환시 큐브 비율에 따른 매 핑 적용이 가능하다. 먼저, 360° 이미지(Equirectangular형 이미지)의 각 픽셀은 수학식 1 및 수학식 2 를 이용하여 구면 좌표계의 좌표로 변환한다. 수학식 1 수학식 2"}
{"patent_id": "10-2023-0081141", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "그리고 벡터 크기가 일정한 것으로 가정하여 수학식 3 내지 5의 관계식에 의해 3차원 좌표계의 좌표로 변환한다. 수학식 3"}
{"patent_id": "10-2023-0081141", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "수학식 4"}
{"patent_id": "10-2023-0081141", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "수학식 5"}
{"patent_id": "10-2023-0081141", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "그리고 큐브 비율을 적용한 전개도 방향을 계산한다. 이때 큐브 비율(r)을 적용하여 수학식 3 내지 5에서 계산 된 각 픽셀의 x, y, z 좌표를 활용할 수 있다. 예를 들어 │x│< r ×│z│, │y│< r ×│z│조건을 만족하는 경우에 Equirectangular형 이미지의 해당 픽셀 은 육면체 전개도의 위 또는 아래 방향 이미지와 매칭되는 것으로 인식한다. 그리고 Equirectangular 형 이미지의 각 픽셀이 어느 방향 이미지를 활용할지 결정된 후, 방향 이미지의 픽셀과 매칭이 필요하다. 구체적으로 좌, 우 이미지의 경우 수학식 6과 같이 매칭시킨다. 수학식 6"}
{"patent_id": "10-2023-0081141", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "전, 후 이미지의 경우 수학식 7과 같이 매칭시킨다. 수학식 7"}
{"patent_id": "10-2023-0081141", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "그리고 상, 하 이미지의 경우 수학식 8과 같이 매칭시킬 수 있다. 수학식 8 그리고 전술한 수학식 6 내지 8과 같이 큐브 방향 이미지 픽셀 정보를 획득한 후에 수학식 9의 계산 과정을 거 쳐서 최종 타겟 픽셀을 계산해낼 수 있다. 수학식 9"}
{"patent_id": "10-2023-0081141", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "본 발명의 특징적인 양상에 있어서, 편집부는 이미지 추출부의 육면체의 전개도 및 전개도에 삽입 될 이미지 편집 신호를 입력받는다. 편집부는 3D 육면체 형태에서의 좌표를 이용하여 좌표 추적하는 좌표 추적부, 및 좌표 추적부 에서 추적된 좌표를 편집 가능한 3D 레이어 상에 매핑 시키는 매핑부를 포함한다. 편집부는 육면체 생성부에서의 360°공간 이미지와 큐브 전개도 변환 알고리즘에 대해 변환 알고리 즘의 활용 및 수정을 통한 방향별 이미지, 큐브 넓이 조절 기능을 제공할 수 있다. 또한, 전체 이미지 변환, 일 부 큐브 방향 기능, 큐브 방향별 이미지 변환, 큐브 넓이 조절 및 변환 크기 조절 기능을 포함할 수 있다. 편집부는 변환할 방향 이미지와 저장된 변환 좌표를 기반으로 변환할 픽셀 특정하고, 특정된 픽셀에 대해 매칭점 계산 및 색상 정보 전달 함수를 적용한다. 도 5a 내지 도 5c는 일 실시예에 따른 편집부에서의 큐브 이미지 편집과정을 설명하기 위한 예시도이다. 일 양상에 있어서, 편집부는 육면체의 전개도의 면적 조절 신호를 입력받는다. 그리고 편집부는 특 징 맵 추출, 키포인트 매칭, 카메라 보정 기능을 포함하는 이미지 스티칭 기능을 수행한다. 공간 스티칭(Spatial stitching)은 여러 장의 이미지를 조합하여 하나의 큰 이미지로 만드는 기술이며, 넓은 시 야각이나 전경을 단일 이미지로 표현하는 데 사용된다. 여러 장의 사진을 촬영하되, 겹치는 영역이 있어야 스티 칭이 가능하다. 따라서 카메라를 일정 간격으로 이동하면서 사진을 촬영하거나, 360도 카메라를 사용하여 주위 의 모든 방향을 촬영할 필요가있다. 그리고 촬영한 이미지들 간의 공통된 특징점을 찾아내고 특징점 검출과 디스크립터 추출을 사용하여 매칭 (Matching)하여 이미지들을 정렬한다. 편집부는 기하학적 변환, 투영 변환 등의 기법을 사용하여 매칭된 이미지들을 변환하여 정렬하고, 변환된 이미지들을 영역 가중치, 픽셀 블렌딩 등의 기법을 이용하여 부드럽게 합성하여 경계 부분을 자연스럽게 블렌딩 (Blending)처리할 수 있다. 또한 편집부는 도 5a와 같이 전체 또는 일부 큐브 이미지 변환 기능을 수행할 수 있다. 그리고 도 5b와 같이 촬영 사진 비율에 맞는 큐브 넓이 조절 기능을 수행할 수도 있고, 추가적으로 변환크기 비율을 상이하게 조절할 수 있다. 가상 공간 출력부는, 편집부에서의 편집 신호에 따른 가상 공간의 미리 보기 뷰 화면을 제공한다. 즉 도 5c와 같이 실시간으로 큐브 미리보기 뷰 기능을 제공하여 편집과정을 보다 용이하게 수행하도록 도울 수 있다. 도 6 은 일 실시예에 따른 미리 보기 화면의 실행 예시도이다. 가상 공간 출력부는 OpenGL, Metal 등을 활용하여 활용하여 안드로이드 및 iOS 기기에서 큐브 미리보기 뷰 렌더링 기술을 제공한다. 가상 공간 출력부는 미리보기 화면을 위해 큐브의 사이즈 및 넓이에 맞게 큐 브를 렌더링(좌표 계산), 사용자의 행동(터치, 스프레드 등)에 따라 큐브 시점의 화각, 프로젝션 방향을 조절한 다. 그리고 큐브 일부 방향 이미지 변경 시 해당 큐브 방향에 맞는 큐브 재렌더링을 수행함으로써 신속하고 정확한 미리보기 화면을 생성하여 표시해줄 수 있다. 가상 공간 출력부는 큐브의 각 포인트를 구면 좌표계 형식으로 저장한다. 그리고 렌더링에 지속적으로 활 용되는 구면 좌표계와 3차원 데카르트 좌표계 변환 함수화를 진행한다. 가상 공간 출력부는 큐브 넓이에따라 좌표를 조정하고 방향별로 입력된 이미지를 텍스처로 적용한다. 그리고 일부 방향 변환 시 적용된 큐브 방향을 확인하고 해당 방향의 텍스처를 다시 렌더링 사용자가 입력한 드 래그 정보에 따라 이동되는 구면 좌표 정도를 계산할 수 있다. 이동 정도를 통해 구면 좌표계의 각거리를 계산 하고 사용자의 응시 방향을 재설정할 수 있다. 또한, 뷰의 사용자 기본 화각을 설정하고 핀치, 스프레드에 따라 사용자의 화각을 조정하여 사용자 상호작용은 최소, 최대, 민감도를 모두 설정하고 그에 맞게 조절할 수 있다. 도 7 은 일 실시예에 따른 가상 공간 제작 솔루션 제공 방법의 흐름도이다. 일 실시예에 따른 가상 공간 제작 솔루션 제공 방법은 가상 공간 제작을 위한 360°이미지를 입력받는다(S700). 그리고 이미지 입력 단계에서 입력받은 360°이미지에서 적어도 일부를 추출하여 육면체의 전개도에 포함되는 6 개의 사각형 이미지를 추출한다(S710). 이후에 추출된 6개의 사각형 이미지를 이용하여 3D 육면체를 생성한다(S720). 본 발명의 일 양상에 있어서, 이미지 추출 단계의 육면체의 전개도 및 전개도에 삽입될 이미지 편집 신호를 입 력받는다(S730). 그리고 편집 신호에 따라 편집을 수행할 수 있다(S735). 구체적으로 편집 단계는, 3D 육면체 형태에서의 좌표를 이용하여 좌표 추적하는 좌표 추적 단계, 및 상기 추적 된 좌표를 편집 가능한 3D 레이어 상에 매핑 시킨다. 편집 단계는, 육면체의 전개도의 면적 조절 신호를 입력받거나, 특징 맵 추출, 키포인트 매칭, 카메라 보정 기 능을 포함하는 이미지 스티칭 기능을 수행할 수 있다. 이후에 편집 단계에서의 편집 신호에 따른 가상 공간의 미리 보기 뷰 화면을 제공해준다(S740). 그리고 육면체 생성 단계에서 생성된 3D 육면체의 적어도 한 면의 이미지를 등장방형도법(Equirectangular)형 이미지 변환에 의해 입체 영상으로 생성하여 가상 공간 콘텐츠로 출력할 수 있다(S750). 전술한 방법은 애플리케이션으로 구현되거나 다양한 컴퓨터 구성요소를 통하여 수행될 수 있는 프로그램 명령어 의 형태로 구현되어 컴퓨터 판독 가능한 기록 매체에 기록될 수 있다. 상기 컴퓨터 판독 가능한 기록 매체는 프 로그램 명령어, 데이터 파일, 데이터 구조 등을 단독으로 또는 조합하여 포함할 수 있다. 상기 컴퓨터 판독 가능한 기록 매체에 기록되는 프로그램 명령어는 본 발명을 위하여 특별히 설계되고 구성된 것들이거니와 컴퓨터 소프트웨어 분야의 당업자에게 공지되어 사용 가능한 것일 수도 있다. 컴퓨터 판독 가능한 기록 매체의 예에는, 하드 디스크, 플로피 디스크 및 자기 테이프와 같은 자기 매체, CD- ROM, DVD 와 같은 광기록 매체, 플롭티컬 디스크(floptical disk)와 같은 자기-광 매체(magneto-optical media), 및 ROM, RAM, 플래시 메모리 등과 같은 프로그램 명령어를 저장하고 수행하도록 특별히 구성된 하드웨 어 장치가 포함된다. 프로그램 명령어의 예에는, 컴파일러에 의해 만들어지는 것과 같은 기계어 코드뿐만 아니라 인터프리터 등을 사 용해서 컴퓨터에 의해서 실행될 수 있는 고급 언어 코드도 포함된다. 상기 하드웨어 장치는 본 발명에 따른 처 리를 수행하기 위해 하나 이상의 소프트웨어 모듈로서 작동하도록 구성될 수 있으며, 그 역도 마찬가지이다. 이상에서는 실시예들을 참조하여 설명하였지만, 해당 기술 분야의 숙련된 당업자는 하기의 특허 청구범위에 기 재된 본 발명의 사상 및 영역으로부터 벗어나지 않는 범위 내에서 본 발명을 다양하게 수정 및 변경시킬 수 있 음을 이해할 수 있을 것이다."}
{"patent_id": "10-2023-0081141", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1 은 본 발명의 일 실시예에 따른 가상 공간솔루션 제공장치간 제작 솔루션 제공장치의 구성을 도시한 블록 도이다. 도 2a 및 도 2b는 3D 육면체 생성 과정을 설명하기 위한 예시도이다. 도 3 은 일 실시예에 따른 가상 공간 제작 솔루션 제공장치의 좌표 추적 및 레이어 접목 과정을 설명하기 위한예시도이다. 도 4 는 가상공간 콘텐츠로 변환 과정을 설명하기 위한 예시도이다. 도 5a 내지 도 5c는 일 실시예에 따른 편집부에서의 큐브 이미지 편집과정을 설명하기 위한 예시도이다. 도 6 은 일 실시예에 따른 미리 보기 화면의 실행 예시도이다. 도 7 은 일 실시예에 따른 가상 공간 제작 솔루션 제공 방법의 흐름도이다."}
