{"patent_id": "10-2022-0125011", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2024-0045555", "출원번호": "10-2022-0125011", "발명의 명칭": "유사도 기반 딥러닝 알고리즘을 활용한 BIM 공간 자동 분류 시스템 및 방법", "출원인": "서울과학기술대학교 산학협력단", "발명자": "구본상"}}
{"patent_id": "10-2022-0125011", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "BIM 데이터를 이용하여 복수 개의 공간 정보를 추출하는 공간 정보 추출부;상기 공간 정보 추출부에서 추출된 복수 개의 공간 정보들 사이의 관계 정보를 유사도 기반으로 구축하는 유사도 기반 관계 정보 구축부; 및상기 유사도 기반 관계 정보 구축부에서 구축된 복수 개의 공간들의 관계 정보를 이용하여 딥러닝 모델을 학습시키는 딥러닝 모델 학습부를 포함하는, BIM 공간 자동 분류 시스템."}
{"patent_id": "10-2022-0125011", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 공간 정보 추출부는, 상기 BIM 데이터에서 추출한 공간의 면적(areas), 체적(volumes), 둘레(perimeter),공간 경계 상자(bounding box)의 길이, 폭, 높이(X, Y, Z), 종횡비(aspect ratio), 겉넓이(surface areas),boundary line의 개수, ax1s (area/volume) 중 적어도 하나의 공간 속성 정보를 추출하는, BIM 공간 자동 분류시스템."}
{"patent_id": "10-2022-0125011", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 공간 정보 추출부는, 공간을 구성하는 객체와 및 상기 객체를 포함하는 공간의 경계 상자를 2차원 평면 투영하여 상기 공간과 객체가 중첩되는 경우 상기 공간 내에 상기 객체들이 포함되는 것으로 추정하여 객체간 물리적 인접 관계를 추출하는, BIM 공간 자동 분류 시스템."}
{"patent_id": "10-2022-0125011", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,상기 공간 정보 추출부는, 상기 객체와 공간의 물리적 인접 관계를 추출한 후, 상기 경계 박스를 확장시켜 상기공간을 구획하는 외벽 객체에 대한 관계 정보를 추가로 추출하는, BIM 공간 자동 분류 시스템."}
{"patent_id": "10-2022-0125011", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제1항에 있어서,상기 유사도 기반 관계 정보 구축부는 상기 복수 개의 공간들 사이의 유사도를 각각 판단하고, 상기 복수 개의공간 중에서 2개의 공간들에 포함된 전체 객체들의 개수와 전체 객체 중에서 공통된 객체의 개수의 비율에 의해상기 제2개의 공간의 유사도를 판단하는, BIM 공간 자동 분류 시스템."}
{"patent_id": "10-2022-0125011", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제5항에 있어서,상기 유사도 기반 관계 정보 구축부는, 상기 복수 개의 공간들 사이의 유사도 임계값을 설정하여 상기 복수 개공개특허 10-2024-0045555-3-의 공간들 사이에서 유사도가 미리 설정된 임계값보다 낮은 관계 정보를 제거하는, BIM 공간 자동 분류 시스템."}
{"patent_id": "10-2022-0125011", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서,상기 딥러닝 모델 학습부는 상기 유사도 임계값에 의해 일부가 제거된 복수 개의 공간의 관계 정보를 이용하여딥러닝 모델을 학습시키는, BIM 공간 자동 분류 시스템."}
{"patent_id": "10-2022-0125011", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제7항에 있어서,상기 딥러닝 모델은 GCN(Graph Convolutional Networks)인, BIM 공간 자동 분류 시스템."}
{"patent_id": "10-2022-0125011", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "BIM 데이터를 이용하여 복수 개의 공간 정보를 추출하는 단계;상기 추출된 복수 개의 공간 정보들 사이의 관계 정보를 유사도 기반으로 구축하는 단계; 및상기 구축된 복수 개의 공간들의 관계 정보를 이용하여 딥러닝 모델을 학습시키는 단계를 포함하는, BIM 공간자동 분류 방법."}
{"patent_id": "10-2022-0125011", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서,상기 공간 정보를 추출하는 단계는, 공간을 구성하는 객체와 및 상기 객체를 포함하는 공간의 경계 상자를 2차원 평면 투영하여 상기 공간과 객체가 중첩되는 경우 상기 공간 내에 상기 객체들이 포함되는 것으로 추정하여객체간 물리적 인접 관계를 추출한 후, 상기 경계 박스를 확장시켜 상기 공간을 구획하는 외벽 객체에 대한 관계 정보를 추가로 추출하는, BIM 공간 자동 분류 방법."}
{"patent_id": "10-2022-0125011", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제9항에 있어서,상기 유사도 기반 관계 정보 구축 단계는, 상기 복수 개의 공간 중에서 2개의 공간들에 포함된 전체 객체들의개수와 전체 객체 중에서 공통된 객체의 개수의 비율에 의해 상기 제2개의 공간의 유사도를 판단하고, 상기 복수 개의 공간들 사이의 유사도 임계값을 설정하여 상기 복수 개의 공간들 사이에서 유사도가 미리 설정된 임계값보다 낮은 관계 정보를 제거하는, BIM 공간 자동 분류 방법."}
{"patent_id": "10-2022-0125011", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "실시예는 BIM 데이터를 이용하여 복수 개의 공간 정보를 추출하는 공간 정보 추출부; 상기 공간 정보 추출부에서 추출된 복수 개의 공간 정보들 사이의 관계 정보를 유사도 기반으로 구축하는 유사도 기반 관계 정보 구축부; 및 상기 유사도 기반 관계 정보 구축부에서 구축된 복수 개의 공간들의 관계 정보를 이용하여 딥러닝 모델을 학습시 키는 딥러닝 모델 학습부를 포함하는, BIM 공간 자동 분류 시스템 및 방법을 개시한다."}
{"patent_id": "10-2022-0125011", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "실시예는 유사도 기반 딥러닝 알고리즘을 활용한 BIM 공간 자동 분류 시스템 및 방법에 관한 것이다."}
{"patent_id": "10-2022-0125011", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "최근 건설 산업 내 디지털화 및 스마트 건설 기술 도입의 확산으로 BIM(Building Information Modeling) 기술 의 활용도가 증가하고 있다. BIM은 건설 프로젝트 전 생애주기 동안 발생하는 정보를 유기적으로 연계하고, 이 를 기반으로 건설 정보의 손실을 최소화할 수 있는 장점으로 인해 사업 참여자들 간 공통의 의사소통 도구로서가장 적합한 수단으로 자리 잡아가고 있다. BIM의 활용성을 극대화하기 위해서는 모델 내 개별 공간과 관련된 제반 데이터(부재 속성정보, 부재 간 관계정 보, 공간 분류 등)가 올바르게 부여되어 있는 시멘틱 무결성이 필수적으로 보장되어야 하지만, 다수의 참여자에 의해 수작업으로 진행되는 BIM 모델링 과정 특성 상 모델 내 기입된 공간정보의 시멘틱 정합성을 보장하지 못하 는 문제가 있다. 또한, 실무에서 활용하는 대부분의 BIM 모델 내에 공간정보가 기입되지 않은 경우도 빈번하여 공간 데이터의 활 용이 제한되고 있는 실정이다."}
{"patent_id": "10-2022-0125011", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "실시예는 BIM 모델의 공간 시멘틱 무결성을 검증하기 위한 딥러닝 알고리즘 기반 공간 객체 자동 분류 시스템 및 방법을 제공할 수 있다. 실시 예에서 해결하고자 하는 과제는 이에 한정되는 것은 아니며, 아래에서 설명하는"}
{"patent_id": "10-2022-0125011", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "이나 실시 형태로부터 파악될 수 있는 목적이나 효과도 포함된다고 할 것이다."}
{"patent_id": "10-2022-0125011", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 2, "content": "과제의 해결 수단 본 발명의 일 실시예에 따른 BIM 공간 자동 분류 시스템은, BIM 데이터를 이용하여 복수 개의 공간 정보를 추출 하는 공간 정보 추출부; 상기 공간 정보 추출부에서 추출된 복수 개의 공간 정보들 사이의 관계 정보를 유사도 기반으로 구축하는 유사도 기반 관계 정보 구축부; 및 상기 유사도 기반 관계 정보 구축부에서 구축된 복수 개 의 공간들의 관계 정보를 이용하여 딥러닝 모델을 학습시키는 딥러닝 모델 학습부를 포함한다. 상기 공간 정보 추출부는, 상기 BIM 데이터에서 추출한 공간의 면적(areas), 체적(volumes), 둘레(perimeter), 공간 경계 상자(bounding box)의 길이, 폭, 높이(X, Y, Z), 종횡비(aspect ratio), 겉넓이(surface areas), boundary line의 개수, ax1s (area/volume) 중 적어도 하나의 공간 속성 정보를 추출할 수 있다. 상기 공간 정보 추출부는, 공간을 구성하는 객체와 및 상기 객체를 포함하는 공간의 경계 상자를 2차원 평면 투 영하여 상기 공간과 객체가 중첩되는 경우 상기 공간 내에 상기 객체들이 포함되는 것으로 추정하여 객체간 물 리적 인접 관계를 추출할 수 있다. 상기 공간 정보 추출부는, 상기 객체와 공간의 물리적 인접 관계를 추출한 후, 상기 경계 박스를 확장시켜 상기 공간을 구획하는 외벽 객체에 대한 관계 정보를 추가로 추출할 수 있다. 상기 유사도 기반 관계 정보 구축부는 상기 복수 개의 공간들 사이의 유사도를 각각 판단하고, 상기 복수 개의 공간 중에서 2개의 공간들에 포함된 전체 객체들의 개수와 전체 객체 중에서 공통된 객체의 개수의 비율에 의해 상기 제2개의 공간의 유사도를 판단할 수 있다. 상기 유사도 기반 관계 정보 구축부는, 상기 복수 개의 공간들 사이의 유사도 임계값을 설정하여 상기 복수 개 의 공간들 사이에서 유사도가 미리 설정된 임계값보다 낮은 관계 정보를 제거할 수 있다. 상기 딥러닝 모델 학습부는 상기 유사도 임계값에 의해 일부가 제거된 복수 개의 공간의 관계 정보를 이용하여 딥러닝 모델을 학습시킬 수 있다. 상기 딥러닝 모델은 GCN(Graph Convolutional Networks)일 수 있다. 본 발명의 일 특징에 따른 BIM 공간 자동 분류 방법은, BIM 데이터를 이용하여 복수 개의 공간 정보를 추출하는 단계; 상기 추출된 복수 개의 공간 정보들 사이의 관계 정보를 유사도 기반으로 구축하는 단계; 및 상기 구축된 복수 개의 공간들의 관계 정보를 이용하여 딥러닝 모델을 학습시키는 단계를 포함한다. 상기 공간 정보를 추출하는 단계는, 공간을 구성하는 객체와 및 상기 객체를 포함하는 공간의 경계 상자를 2차 원 평면 투영하여 상기 공간과 객체가 중첩되는 경우 상기 공간 내에 상기 객체들이 포함되는 것으로 추정하여 객체간 물리적 인접 관계를 추출한 후, 상기 경계 박스를 확장시켜 상기 공간을 구획하는 외벽 객체에 대한 관 계 정보를 추가로 추출할 수 있다. 상기 유사도 기반 관계 정보 구축 단계는, 상기 복수 개의 공간 중에서 2개의 공간들에 포함된 전체 객체들의 개수와 전체 객체 중에서 공통된 객체의 개수의 비율에 의해 상기 제2개의 공간의 유사도를 판단하고, 상기 복 수 개의 공간들 사이의 유사도 임계값을 설정하여 상기 복수 개의 공간들 사이에서 유사도가 미리 설정된 임계 값보다 낮은 관계 정보를 제거할 수 있다."}
{"patent_id": "10-2022-0125011", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "실시예에 따르면, 9가지 건축 BIM 공간에 대해 높은 성능으로 자동 분류할 수 있을 뿐 아니라, 전반적인 기하 특성이 유사하여 분류가 어려운 공간들까지 구분할 수 있다는 장점이 있다. 이를 통해 사용자는 건축 분야 내 활용도가 높은 9가지 공간에 대한 BIM 모델 시멘틱 무결성 검증을 자동으로 수행할 수 있다. 또한, BIM 소프트웨어 간 상호호환성 검증, BIM 기반 자동 법규검토 및 발주자 준공 BIM 모델 검토 등 품질 검 증의 일환으로 활용될 수도 있다. 또한, 국내에서 BIM 도입이 적극 추진되고 있는 데 반해 기반 구축이 부족해 어려움을 겪고 있는 중소 건축설계 사는 BIM 공간 자동 분류 모델 활용을 통해 법규검토, 피난 경로 분석 등과 같은 검토 과정에 들이는 노동력을 획기적으로 줄일 수 있다. 본 발명의 다양하면서도 유익한 장점과 효과는 상술한 내용에 한정되지 않으며, 본 발명의 구체적인 실시형태를 설명하는 과정에서 보다 쉽게 이해될 수 있을 것이다."}
{"patent_id": "10-2022-0125011", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 발명은 다양한 변경을 가할 수 있고 여러 가지 실시 예를 가질 수 있는 바, 특정 실시예들을 도면에 예시하 고 설명하고자 할 수 있다. 그러나, 이는 본 발명을 특정한 실시 형태에 대해 한정하려는 것이 아니며, 본 발명 의 사상 및 기술 범위에 포함되는 모든 변경, 균등물 내지 대체물을 포함하는 것으로 이해되어야 할 수 있다. 본 출원에서 사용한 용어는 단지 특정한 실시예를 설명하기 위해 사용된 것으로, 본 발명을 한정하려는 의도가 아니다. 단수의 표현은 문맥상 명백하게 다르게 뜻하지 않는 한, 복수의 표현을 포함할 수 있다. 본 출원에서, \"포함하다\" 또는 \"가지다\" 등의 용어는 명세서상에 기재된 특징, 숫자, 단계, 동작, 구성요소, 부품 또는 이들 을 조합한 것이 존재함을 지정하려는 것이지, 하나 또는 그 이상의 다른 특징들이나 숫자, 단계, 동작, 구성요 소, 부품 또는 이들을 조합한 것들의 존재 또는 부가 가능성을 미리 배제하지 않는 것으로 이해되어야 할 수 있 다. 다르게 정의되지 않는 한, 기술적이거나 과학적인 용어를 포함해서 여기서 사용되는 모든 용어들은 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자에 의해 일반적으로 이해되는 것과 동일한 의미를 가지고 있다. 일 반적으로 사용되는 사전에 정의되어 있는 것과 같은 용어들은 관련 기술의 문맥 상 가지는 의미와 일치하는 의미를 가지는 것으로 해석되어야 하며, 본 출원에서 명백하게 정의하지 않는 한, 이상적이거나 과도하게 형식적 인 의미로 해석되지 않는다. 본 실시예에서 사용되는 '~부'라는 용어는 소프트웨어 또는 FPGA(field-programmable gate array) 또는 ASIC과 같은 하드웨어 구성요소를 의미하며, '~부'는 어떤 역할들을 수행할 수 있다. 그렇지만 '~부'는 소프트웨어 또 는 하드웨어에 한정되는 의미는 아니다. '~부'는 어드레싱할 수 있는 저장 매체에 있도록 구성될 수도 있고 하 나 또는 그 이상의 프로세서들을 재생시키도록 구성될 수도 있다. 따라서, 일 예로서 '~부'는 소프트웨어 구성 요소들, 객체지향 소프트웨어 구성요소들, 클래스 구성요소들 및 태스크 구성요소들과 같은 구성요소들과, 프로 세스들, 함수들, 속성들, 프로시저들, 서브루틴들, 프로그램 코드의 세그먼트들, 드라이버들, 펌웨어, 마이크로 코드, 회로, 데이터, 데이터베이스, 데이터 구조들, 테이블들, 어레이들 및 변수들을 포함할 수 있다. 구성요소 들과 '~부'들 안에서 제공되는 기능은 더 작은 수의 구성요소들 및 '~부'들로 결합되거나 추가적인 구성요소들 과 '~부'들로 더 분리될 수 있다. 뿐만 아니라, 구성요소들 및 '~부'들은 디바이스 또는 보안 멀티미디어카드 내의 하나 또는 그 이상의 CPU들을 재생시키도록 구현될 수도 있다. 도 1은 본 발명의 일 실시예에 따른 BIM 공간 자동 분류 시스템의 블록도이다. 도 1을 참조하면, BIM 공간 자동 분류 시스템은, BIM 데이터를 이용하여 복수 개의 공간 정보를 추출하는 공간 정보 추출부, 공간 정보 추출부에서 추출된 복수 개의 공간 정보들 사이의 관계 정보를 유사도 기반으로 구축하는 유사도 기반 관계 정보 구축부; 및 유사도 기반 관계 정보 구축부에서 구축된 복 수 개의 공간들의 관계 정보를 이용하여 딥러닝 모델을 학습시키는 딥러닝 모델 학습부를 포함한다. 공간 정보 추출부는, BIM DB에서 공간 정보 생성에 필요한 객체의 정보만을 추출할 수 있다. BIM 데 이터(IFC 데이터)에는 건물을 구성하는 다수의 건물 객체(Building elements)가 포함되며, 그 종류는 매우 다양 하다. 예를 들어, 건물 객체는 벽체(Wall), 바닥(slab), 기둥(Column), 보(Beam), 창(Window), 문(Door), 계단 (Stair), 커튼월(Curtain Wall), 설비(Equipment), 램프(Ramp)를 비롯하여 건물에 구비되는 모든 객체가 포함 될 수 있다. 또한, 별도의 지붕정보가 더 포함될 수도 있다. 예시적으로 IFC 모델은 하기 표 1과 같이 9가지 유형의 총 247개 공간과 19가지 유형의 총 11,066개의 객체로 구성될 수 있다. 그러나 이는 설명을 위한 예시일 뿐이며, IFC 모델의 공간과 객체의 종류 및 개수는 건물에 따 라 다양할 수 있다. 일반적으로 BIM 모델을 구성하는 객체는 beam, covering, wall 등 총 15가지 객체로 구성되어 있으나, 본 발명 에서는 관계정보 활용 시 특정 객체를 포함한 공간의 분류 성능을 향상시키기 위해 19가지 세부 객체를 추출할 수 있다. [표 1] [표 2]"}
{"patent_id": "10-2022-0125011", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "이러한 세부 객체는 학습모델의 공간 분류성능을 향상시킬 수 있다. 표 2 및 도 2에서 승강기홀(elevator hal l)과 화장실(restroom)의 경우, 해당 공간에서 승강기문(elevator door)은 승강기홀에만 포함되어 있으며, 양변 기/세면대(flow terminal)는 화장실에만 포함된 객체이다. 이러한 특정 객체들은 관계정보 활용 시 특정 공간을 분류하는데 유용한 객체로 활용할 수 있으며, 이에 따라 특정 객체들을 세부 분류하여 분류성능을 높일 수 있다. 즉, 본 발명에서는 공간을 구성하는 일반적인 객체 이외에 특정 공간에만 배치되는 세부객체들을 함께 추출할 수 있다. 또한, 공간 정보 추출부는 BIM 데이터에서 추출한 복수 개의 속성 정보를 이용하여 BIM 객체와 공간 간의 관계 정보를 생성할 수 있다. 공간 정보 추출부는 공간을 분류하기 위한 데이터를 학습하기 위해, BIM 파일 내에 존재하는 공간의 기하 속성을 추출할 수 있다. 공간 정보 추출부는 BIM 소프트웨어인 KBim Assess-Lite 내 탑재된 룰셋(rule set) 파일일 수 있으나 반드시 이에 한정하지 않는다. 속성 정보는 공간의 면적(areas), 체적(volumes), 둘레(perimeter), 공간 경계 상자(bounding box)의 길이, 폭, 높이(X, Y, Z), 종횡비(aspect ratio), 겉넓이(surface areas), boundary line의 개수, ax1s (area/volume)일 수 있다. 그러나, 이러한 공간 속성 정보는 반드시 이에 한정하는 것은 아니고 다양하게 변형 될 수 있다. 후술하는 바와 같이 GCN 딥러닝 학습에는 노드 특성 행렬과 인접 행렬로 두 개의 입력값이 필요하다. 노드 특성 행렬은 공간 자체의 기하 특성이며, 인접 행렬은 개별 공간과 그에 물리적으로 인접해 있는 객체 간의 관계를 나타낸다. 개별 공간은 공간의 용도에 따라 활용하는 객체가 상이하다. 일례로 화장실 공간 내에는 세면대/양변기(flow terminal)를 포함하고 있으며, 승강기홀 공간의 경우 승강기문(elevator door)을 포함하고 있다. 기본적으로 공간 내 포함되는 벽(wall), 바닥(slab) 객체 이외에 추가적으로 포함되는 특정 객체와의 관계를 통 해 개별 공간의 용도를 예측할 수 있다. 따라서 공간과 객체 간 관계정보를 학습에 활용할 필요가 있다. 도 3을 참조하면, 공간 정보 추출부는, 공간을 구성하는 객체 및 객체를 포함하는 공간의 경계 상자를 2차 원 평면 투영하여 공간과 객체가 중첩되는 경우 공간 내에 객체들이 포함되는 것으로 추정하여 객체간 물리적 인접 관계를 추출할 수 있다. 이때, 공간 정보 추출부는, 도 4와 같이 객체와 공간의 물리적 인접 관계를 추출한 후, 경계 박스(BB1)를 확장시켜 공간을 구획하는 외벽 객체 및 보 객체에 대한 관계 정보를 추가로 추출할 수 있다. 실시예에 따르면, 경계 박스 및 공간 객체 내 공간 경계를 활용하여 물리적 인접관계 기반 공간과 객체의 관계 정보를 구축할 수 있다. 이러한 구성에 의하면 각 공간(노드)별로 객체가 연결된 그래프를 얻을 수 있다. 유사도 기반 관계 정보 구축부는, 복수 개의 공간들 사이의 유사도를 각각 판단하여 복수 개의 공간을 연 결할 수 있다. 각 공간들 사이의 유사도는 복수 개의 공간 중에서 2개의 공간들에 포함된 전체 객체들의 개수와 전체 객체 중에서 공통된 객체의 개수에 의해 판단할 수 있다. 앞서 구축한 공간-객체 관계정보는 객체 간 물리적 인접관계를 활용하여 구축한다. 그러나 해당 관계정보는 공 간 간의 연결 관계가 없으며, 이는 학습과정에 노드(node) 간의 유사성 기반 에지(edge)로 구축된 그래프 형태 를 필요로 하는 GCN 알고리즘 적용에 맞지 않는다. 따라서, 본 발명에서는 도 5와 같이 공간의 유사도를 한 공간의 인접한 객체 간의 유사성으로 재정의하고 이를 기준으로 그래프를 재구축한다. 유사도를 기반으로 관계정보를 재구축하기 위해 여러 유사도 기법(유클리디안, 코사인, 자카드 기법 등)을 적용 할 수 있다. 그러나, 그래프 내 개별 노드 간의 유클리드 거리가 중요하게 작용하는 유클리디안 및 맨해튼 유사도 기법은 노 드 간의 거리가 도출되지 않는 해당 그래프 형태에 적합하지 않는 한계가 존재한다. 또한, 코사인 유사도 기법은 앞서 언급한 유사도 기법과 동일하게 유클리드 거리에 기반하여 유사도가 도출되므 로 해당 그래프에 적용하기에 한계가 존재가 있다. 유클리드 거리에 기반하여 유사도를 도출하는 유클리디안, 맨해튼 및 코사인 유사도 기법은 유사도를 측정하는 객체가 많아질수록 연산량이 기하급수적으로 증가하여 모델의 비효율성을 증대시키는 문제가 있다. 따라서, 실 시예에서는 자카드 유사도 기법을 이용하여 각 공간 사이의 유사도를 산출하였다. 도 6을 참조하면, 자카드 유사도 기법은 집합 간의 교집합 및 합집합을 통해 빈도수를 기반으로 유사도를 측정 하는 기법이다. 해당 기법은 공간과 이를 구성하는 객체의 연결 관계를 하나의 집합으로 표현하여 유사도를 측 정하는 것이 가능하다. 구체적으로, 개별 공간 내 포함하고 있는 객체를 하나의 집합으로 정의하여 인접하는 공 간 내 포함된 객체 총 개수 m개 (=A∪B) 중 n개 (=A∩B)가 유사하다면 n/m (=A∪B)의 유사도를 도출하는 방식이 다. 자카드 유사도 기법을 활용하여 유사도 값에 따라 공간 간의 에지로 구성된 그래프가 구축된다. 공간은 이를 구 성하는 벽, 바닥 객체를 기본적으로 포함하고 있으며, 용도에 따라 천장, 문, 창문 그리고 양변기, 승강기문 등 의 특정 객체가 포함된다. 모든 공간이 기본적으로 벽, 바닥 객체들을 포함하고 있어 유사도가 낮은 공간 간의 에지를 학습과정에 포함하 면 BIM 모델 내 존재하는 모든 공간이 연결된 것으로 나타난다. 이로 인해 학습에 모든 에지를 활용하였을 때, GCN 학습에 오히려 방해요소로 작용하는 문제가 발생한다. 또한 학습에 인접행렬로 활용되는 관계정보의 밀도가 높을수록 학습의 비효율이 증가하여 성능의 하락요인으로 작용한다. 따라서, 임계값(threshold)을 통해 그래프 내 불필요한 에지(edge)를 제거할 필요가 있다. 실시예에 서는 불필요한 에지를 효과적으로 제거할 수 있는 임계값을 선정하였다. 여기서 에지는 각 공간들의 연결을 의 미할 수 있다. 임계값 설정을 위해 먼저 공간 간의 유사도를 측정할 수 있다. 도 7을 참조하면 유사도를 측정하여 자카드 유사 도 분포(Jaccard Similarity Value Distribution)를 확인하여 불필요한 에지를 효과적으로 제거할 수 있는 임 계값을 설정할 수 있다. 불필요한 에지가 효과적으로 제거할 수 있는 임계값은 인접행렬의 밀도가 10%에 가장 가깝게 구성되는 값을 의 미할 수 있다. 인공지능 알고리즘을 통해 그래프 데이터를 학습함으로써 인접행렬의 밀도가 10% 내외로 구성되어야 효과적인 모델성능을 도출할 수 있다. 자카드 유사도 분포(Jaccard Similarity Value Distribution)상에서 유사도 값이 0.85 이상일 때, 불필요한 에 지가 효과적으로 제거되어 가장 높은 성능이 도출되었다. 예시적으로 도 7에서 전체 에지의 수는 61,009개이고 유사도 값이 0.85 이상에 해당하는 에지의 개수는 5,407개로 줄어들다. 따라서, 인접행렬의 밀도는 약 9% (=5,407/61,009)로 확인되었다. 그러나 이는 예시적인 것이며 건물의 종류 또는 크기에 따라 에지의 개수 및 유 사도 값은 다양하게 조절될 수 있다. 실시예에 따르면, 유사도 기반 관계 정보 구축부는 자카드 유사도 분포를 기반으로 인접행렬 밀도가 10%에 가장 가까워지는 유사도 값을 임계값으로 설정할 수 있다. 최종적으로 효과적인 그래프 밀도 조정을 통한 관계정보 데이터의 활용성을 증대할 수 있는 임계값 0.85를 선정 하였다. 따라서, 도 8을 참조하면, 임계값이 0.25인 경우에 비해 불필요한 에지가 대부분 제거된 것을 확인할 수 있다. 예시로, 화장실 공간과 승강기 전실 공간의 유사도는 0.33로 계산된다. 구체적으로, 화장실 공간은 벽, 바닥, 문, 천장, 칸막이 등 총 5가지의 객체로 구성되어 있으며, 승강기 전실 공간은 벽, 바닥, 승강기문으로 총 3가 지 객체로 구성되어 있다. 두 공간이 보유한 객체의 총 개수 6개 중 2개의 객체(벽, 바닥)가 유사하므로, 유사도는 0.33 (=2/6)로 도출된 다. 해당 공간 간의 연결 관계가 학습에 활용된다면, 화장실과 승강기 전실의 공간 분류 성능이 하락하게 된다. 이와 같은 경우를 방지하기 위해, 임계값을 활용하여 전반적으로 유사한 공간 간의 연결 관계를 활용하여 공간 분류 성능을 향상시킬 수 있다. 또한, 용도가 동일한 공간일지라도 설계자의 오류 또는 데이터의 누락으로 인한 부재의 오기입 및 누락으로 인 해 동일한 공간 간의 유사성을 통한 연결관계가 구축되지 않는 문제가 발생할 수 있다. 이를 방지하기 위해, 전 체 BIM 모델 내 특정 부재의 활용 빈도수가 미리 설정된 기준값 보다 낮은 부재는 측정 대상에서 제외하여 같은 공간 간의 유사도가 효과적으로 측정될 수 있도록 할 수 있다. 즉, 유사도 기반 관계 정보 구축부는, 복수 개의 공간들 사이의 유사도 기준값을 설정하여 유사도가 낮은 에지를 제거할 수 있다. 딥러닝 학습부는, 유사도 기준값에 의해 일부 에지가 제거된 복수 개의 공간의 관계 정보를 이용하여 딥러닝 모 델을 학습시킬 수 있다. 딥러닝 모델은 GCN(Graph Convolutional Networks)일 수 있다. GCN은 에지 간 관계를 나타내는 인접 행렬(adjacency matrix, A)과 노드의 특성을 나타내는 노드 특성 행렬 (node feature matrix, H)로 구성된다. 그래프 내 노드 및 주변 이웃 노드의 학습 변수와 비선형 함수를 통해 신경망(neural network)을 생성한다. 아래 관계식 1은 생성한 신경망의 레이어(layer) 구조이다. 해당 모델 내 인접 행렬에는 BIM 객체 및 공간 간 인접관계를, 노드 특성 행렬에는 개별 공간의 기하정보를 활용하였다. [관계식 1]"}
{"patent_id": "10-2022-0125011", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "는 인접행렬 A와 단위행렬 IN을 더한 행렬이고, 는 (l+1)번째 노드 특성 행렬이고, 는 l번째 신경망의 학습 변수이고, 는 의 차수 행렬(degree matrix)이고, 는 활성화 함수 (activation function)이다. 일반적인 딥러닝 모델은 레이어 수를 증가시켜 skip connection과 같은 방법을 이용하여 모델 성능을 향상시킨 다. 이에 반해 GCN의 경우 레이어의 수가 증가할수록 임베딩(embedding) 값이 서로 유사해지면서 정확도가 하락 하는 지나친 획일화(over-smoothing) 문제가 발생하므로, 2개의 레이어만을 사용하여 최적의 성능을 도출할 수 있는 2-layer GCN 방식을 학습에 활용한다. 비선형 함수로 첫 번째 레이어에는 ReLU와 같은 활성화 함수를 이용하며, 두 번째 레이어에는 공간의 유형 분류 를 위해 softmax를 이용하여 학습을 진행한다. 실시예에 따르면 구축된 BIM 공간의 기하 속성정보 및 유사도 기반 공간 관계정보를 대상으로 GCN 알고리즘을 적용하여 공간 자동 분류 학습모델을 구축할 수 있다. 공간 관계정보와 기하 속성정보의 합성곱(convolution) 및 가중치 공유(weight sharing)를 통해 이웃 공간으로 부터의 가중치를 부여받은 새로운 특성이 추출된다. 이후 추출된 특성은 다시 개별 공간의 특성으로 학습되며, 학습을 통해 도출된 softmax 값으로부터 공간의 유형을 분류할 수 있다. 도 9는 본 발명의 일 실시예에 따른 BIM 공간 자동 분류 방법을 보여주는 순서도이다. 도 9를 참조하면, BIM 공간 자동 분류 방법은, BIM 데이터를 이용하여 복수 개의 공간 정보를 추출하는 단계 (S110), 추출된 복수 개의 공간 정보들 사이의 관계 정보를 유사도 기반으로 구축하는 단계(S120), 및 구축된 복수 개의 공간들의 관계 정보를 이용하여 딥러닝 모델을 학습시키는 단계(S130)를 포함한다. 공간 정보 추출 단계(S110)는 BIM(Building Information Modeling) DB에서 공간 정보 생성에 필요한 객체의 정 보만을 추출할 수 있다. 일반적으로 BIM 모델을 구성하는 객체는 beam, covering, wall 등 총 15가지 객체로 구성되어 있으나, 본 발명 에서는 관계정보 활용 시 특정 객체를 포함한 공간의 분류 성능을 향상시키기 위해 19가지 세부 객체를 추출할 수 있다. 이러한 세부 객체는 학습모델의 공간 분류성능을 향상시킬 수 있다. 표 2에서 승강기홀(elevator hall)과 화장 실(restroom)의 경우, 해당 공간에서 승강기문(elevator door)은 승강기홀에만 포함되어 있으며, 양변기/세면대 (flow terminal)는 화장실에만 포함된 객체이다. 이러한 특정 객체들은 관계정보 활용 시 특정 공간을 분류하는 데 유용한 객체로 활용할 수 있으며, 이에 따라 특정 객체들을 세부 분류하여 분류성능을 높일 수 있다. 즉, 본 발명에서는 공간을 구성하는 일반적인 객체 이외에 특정 공간에만 배치되는 세부객체들을 함께 추출할 수 있다. 또한, 공간 정보 추출 단계는 BIM 데이터에서 추출한 복수 개의 속성 정보를 이용하여 BIM 객체와 공간 간의 관 계 정보를 생성할 수 있다. 속성 정보는 공간의 면적(areas), 체적(volumes), 둘레(perimeter), 공간 경계 상자(bounding box)의 길이, 폭, 높이(X, Y, Z), 종횡비(aspect ratio), 겉넓이(surface areas), boundary line의 개수, ax1s (area/volume)일 수 있다. 그러나, 이러한 공간 속성 정보는 반드시 이에 한정하는 것은 아니고 다양하게 변형 될 수 있다. 이후, 공간을 구성하는 객체 및 객체를 포함하는 공간의 경계 상자를 2차원 평면 투영하여 공간과 객체가 중첩 되는 경우 공간 내에 객체들이 포함되는 것으로 추정하여 객체간 물리적 인접 관계를 추출할 수 있다. 이때, 객체와 공간의 물리적 인접 관계를 추출한 후, 경계 박스를 확장시켜 공간을 구획하는 외벽 객체에 대한 관계 정보를 추가로 추출할 수 있다. 실시예에 따르면, 경계 박스 및 공간 객체 내 공간 경계를 활용하여 물리적 인접관계 기반 공간과 객체의 관계 정보를 구축할 수 있다. 이러한 구성에 의하면 각 공간(노드)별로 객체가 연결된 그래프를 얻을 수 있다. 유사도 기반 관계 정보 구축 단계(S120)는, 복수 개의 공간들 사이의 유사도를 각각 판단하여 복수 개의 공간을 연결할 수 있다. 각 공간들 사이의 유사도는 복수 개의 공간 중에서 2개의 공간들에 포함된 전체 객체들의 개수 와 전체 객체 중에서 공통된 객체의 개수에 의해 판단할 수 있다. 앞서 구축한 공간-객체 관계정보는 객체 간 물리적 인접관계를 활용하여 구축한다. 그러나 해당 관계정보는 공 간 간의 연결 관계가 없으며, 이는 학습과정에 노드(node) 간의 유사성 기반 에지(edge)로 구축된 그래프 형태 를 필요로 하는 GCN 알고리즘 적용에 맞지 않는다. 이를 위해 공간의 유사도를 한 공간의 인접한 객체 간의 유사성으로 재정의하고 이를 기준으로 그래프를 재구축 한다. 실시예에서는 자카드 유사도 기법을 이용하여 각 공간 사이의 유사도를 산출하였다. 자카드 유사도 기법은 집합 간의 교집합 및 합집합을 통해 빈도수를 기반으로 유사도를 측정하는 기법이다. 해당 기법은 공간과 이를 구성 하는 객체의 연결 관계를 하나의 집합으로 표현하여 유사도를 측정하는 것이 가능하다. 자카드 유사도 기법을 활용하여 유사도 값에 따라 공간 간의 에지로 구성된 그래프가 구축된다. 공간은 이를 구 성하는 벽, 바닥 객체를 기본적으로 포함하고 있으며, 용도에 따라 천장, 문, 창문 그리고 양변기, 승강기문 등 의 특정 객체가 포함된다. 그러나 모든 공간이 기본적으로 벽, 바닥 객체들을 포함하고 있어 유사도가 낮은 공간 간의 에지를 학습과정에 포함하면 BIM 모델 내 존재하는 모든 공간이 연결된 것으로 나타난다. 이로 인해 학습에 모든 에지를 활용하였 을 때, GCN 학습에 오히려 방해요소로 작용하는 문제가 발생한다. 또한 학습에 인접행렬로 활용되는 관계정보의 밀도가 높을수록 학습의 비효율이 증가하여 성능의 하락요인으로 작용한다. 따라서, 임계값(threshold)을 통해 그래프 내 불필요한 에지를 제거할 필요가 있다. 실시예에서는 불 필요한 에지를 효과적으로 제거할 수 있는 임계값을 선정하였다. 최적의 임계값 선정을 위해 0.05 단위로 임계값 수치를 증가시키면서 그래프의 성능을 비교하였다. 그 결과 유 사도 임계값이 0.85일 때, 불필요한 에지가 효과적으로 제거되어 가장 높은 성능이 도출되었다. 최종적으로 효 과적인 그래프 밀도 조정을 통한 관계정보 데이터의 활용성을 증대할 수 있는 임계값 0.85를 선정하였다. 즉, 유사도 기반 관계 정보 구축 단계는, 복수 개의 공간들 사이의 유사도 기준값을 설정하여 유사도가 낮은 에 지를 제거할 수 있다. 딥러닝 학습 단계(S130)는, 유사도 기준값에 의해 일부 에지가 제거된 복수 개의 공간의 관계 정보를 이용하여 딥러닝 모델을 학습시킬 수 있다. 딥러닝 모델은 GCN(Graph Convolutional Networks)일 수 있다. GCN은 에지 간 관계를 나타내는 인접 행렬(adjacency matrix, A)과 노드의 특성을 나타내는 노드 특성 행렬 (node feature matrix, H)로 구성된다. 그래프 내 노드 및 주변 이웃 노드의 학습 변수와 비선형 함수를 통해 신경망(neural network)을 생성한다. 일반적인 딥러닝 모델은 레이어 수를 증가시켜 skip connection과 같은 방법을 이용하여 모델 성능을 향상시킨 다. 이에 반해 GCN의 경우 레이어의 수가 증가할수록 임베딩(embedding) 값이 서로 유사해지면서 정확도가 하락 하는 지나친 획일화(over-smoothing) 문제가 발생하므로, 2개의 레이어만을 사용하여 최적의 성능을 도출할 수 있는 2-layer GCN 방식을 학습에 활용한다. 비선형 함수로 첫 번째 레이어에는 ReLU와 같은 활성화 함수를 이용하며, 두 번째 레이어에는 공간의 유형 분류 를 위해 softmax를 이용하여 학습을 진행한다. 실시예에 따르면 구축된 BIM 공간의 기하 속성정보 및 유사도 기반 공간 관계정보를 대상으로 GCN 알고리즘을 적용하여 공간 자동 분류 학습모델을 구축할 수 있다. 공간 관계정보와 기하 속성정보의 합성곱(convolution) 및 가중치 공유(weight sharing)를 통해 이웃 공간으로 부터의 가중치를 부여받은 새로운 특성이 추출된다. 이후 추출된 특성은 다시 개별 공간의 특성으로 학습되며, 학습을 통해 도출된 softmax 값으로부터 공간의 유형을 분류할 수 있다. 정확도를 검증하는 단계(S140)는 학습된 GCN 모델의 성능을 검증하는 단계이다. 검증을 위한 성과지표는 정확도 (accuracy, ACC), 정밀도(precision), 재현율(recall) 및 F1-score가 활용된다. 여기서 ACC는 학습모델의 전반적인 성능을 제시하는 지표로 전체 검증 데이터 수 대비 학습모델이 정확히 예측 한 데이터 수의 비율로 산출되고, 정밀도는 학습모델이 참값으로 분류한 데이터 중 실제 참값의 비율을 의미하 며, 재현율은 실제 참값 중 학습모델이 참이라고 예측한 비율이다. F1-score는 정밀도와 재현율의 조화평균으로 학습데이터의 분포가 불균형할 경우 모델의 성능을 정확히 평가할 수 있는 지표이다. 위 4가지 검증지표를 활용하여 전체 학습모델의 분류성능 및 공간별 분류성능이 도출되며, 이는 아래의 수학식 1 내지 수학식 4과 같이 표현될 수 있다. [수학식 1] ACC=(True Positive + True Negative)/(True Positive + False Positive + True Negative + False Negative) [수학식 2] Precision = True Positive/(True Positive + False Positive) [수학식 3] Recall = True Positive/(True Positive + False Negative) [수학식 4] F1-score= 2×Precision×Recall/(Precision+Recall)= True Positive/(True Positive + 1/2×(False Positive+ False Negative)) 기하정보를 활용한 기계 학습모델(MLP) 검증 결과, ACC는 0.86로, F1-score는 0.71로 도출되었다. 도 10은 precision-recall curve를 제시하였다. 전반적인 분류 성능은 양호한 것으로 확인되었으나, 승강기 전실 (elevator vestibule), 설비실(plant room), 창고(storage) 공간의 경우 타 공간에 비해 매우 저조한 성능을 보였다. 특히 창고(storage) 공간에 대해 승강기홀(elevator hall)과 계단실(stairway)로 오분류한 결과가 도출되었다. 이는 해당 공간의 학습데이터가 부족하며, 기하 특성이 다른 공간과 명확히 구별되지 않아 낮은 분류 성능을 보 인 것으로 확인되었다. 이에 반해, 시멘틱 관계정보를 활용한 GCN 학습모델의 ACC는 0.94, F1-score는 0.91로 도출되었으며, 도 11에 precision-recall curve를 제시하였다. 관계정보를 추가한 GCN 학습모델의 각 공간별 분류 성능은 앞선 기하정보 기반 학습모델보다 우수한 성능을 보 였다. 특히 승강기 전실(elevator vestibule)과 창고(storage) 공간의 ACC가 1.00, 0.50으로 상대적으로 향상된 분류 성능을 보였다. 또한 설비실(plant room)과 수직통로(shaft)의 ACC도 0.57, 0.87로 분류 성능이 향상되었음을 알 수 있다. 상술한 BIM 공간 자동 분류 방법은 컴퓨터로 읽을 수 있는 기록매체에 컴퓨터가 읽을 수 있는 프로그램(코드)로 서 구현하는 것이 가능하다. 컴퓨터가 읽을 수 있는 기록매체는 컴퓨터 시스템에 의하여 읽혀질 수 있는 데이터 가 저장되는 모든 종류의 기록장치를 포함한다. 컴퓨터가 읽을 수 있는 기록매체의 예로는 ROM, RAM, CD-ROM, 자기 테이프, 플로피디스크, 광데이터 저장장치 등이 있다. 또한 컴퓨터가 읽을 수 있는 기록매체는 네트워크로 연결된 컴퓨터 시스템에 분산되어 분산방식으로 컴퓨터가 읽을 수 있는 코드가 저장되고 실행될 수 있다 상기에서는 본 발명의 바람직한 실시예를 참조하여 설명하였지만, 해당 기술 분야의 숙련된 당업자는 하기의 특 허 청구의 범위에 기재된 본 발명의 사상 및 영역으로부터 벗어나지 않는 범위 내에서 본 발명을 다양하게 수정 및 변경시킬 수 있음을 이해할 수 있을 것이다."}
{"patent_id": "10-2022-0125011", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 일 실시예에 따른 BIM 공간 자동 분류 시스템의 블록도이다. 도 2는 승강기홀(elevator hall)과 화장실(restroom)에 배치된 객체를 보여주는 도면이다. 도 3은 경계 박스를 이용하여 객체간 물리적 인접 관계를 추출하는 과정을 보여주는 도면이다. 도 4는 경계 박스를 확장하여 외벽에 존재하는 객체를 추출하는 과정을 보여주는 도면이다. 도 5는 공간들 사이의 관계 정보를 구축한 상태를 보여주는 도면이다. 도 6은 BIM 공간 내에 유사도를 측정하는 과정을 보여주는 도면이다. 도 7은 유사도 분포를 보여주는 도면이다. 도 8은 임계값 변화에 따라 공간 사이의 관계 정보가 재구축된 상태를 보여주는 도면이다. 도 9는 본 발명의 일 실시예에 따른 BIM 공간 자동 분류 방법의 순서도이다. 도 10은 기하정보를 활용한 기계 학습모델(MLP)을 이용한 검증 결과를 보여주는 시뮬레이션이다. 도 11은 본 발명의 실시예에 따른 검증 결과를 보여주는 시뮬레이션이다."}
