{"patent_id": "10-2023-0130683", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0046787", "출원번호": "10-2023-0130683", "발명의 명칭": "무선 통신 시스템에서 포지셔닝을 위한 방법 및 장치", "출원인": "삼성전자주식회사", "발명자": "신철규"}}
{"patent_id": "10-2023-0130683", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "무선 통신 시스템에서, 단말(user equipment, UE)에 의해 수행되는 방법은,기지국으로부터, 설정 메시지를 수신하는 단계;상기 설정 메시지에 기반하여 채널을 측정하는 단계; 및상기 기지국에게, 상기 측정 결과를 전송하는 단계를 포함하는 방법."}
{"patent_id": "10-2023-0130683", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 개시는 보다 높은 데이터 전송률을 지원하기 위한 5G 또는 6G 통신 시스템에 관련된 것이다. 본 개시의 다양 한 실시예들에 따라, 무선 통신 시스템에서, 단말(user equipment, UE)에 의해 수행되는 방법은, 기지국으로부터, 설정 메시지를 수신하는 단계, 상기 설정 메시지에 기반하여 채널을 측정하는 단계, 및 상기 기 지국에게, 상기 측정 결과를 전송하는 단계를 포함할 수 있다."}
{"patent_id": "10-2023-0130683", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 개시(disclosure)는, 무선 통신 시스템에 관한 것으로, 특히 포지셔닝(예를 들어, 위치 측정)을 수행하는 방 법 및 장치에 관한 것이다."}
{"patent_id": "10-2023-0130683", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "5G 이동통신 기술은 빠른 전송 속도와 새로운 서비스가 가능하도록 넓은 주파수 대역을 정의하고 있으며, 3.5 기가헤르츠(3.5GHz) 등 6GHz 이하 주파수('Sub 6GHz') 대역은 물론 28GHz와 39GHz 등 밀리미터파(㎜Wave)로 불 리는 초고주파 대역('Above 6GHz')에서도 구현이 가능하다. 또한, 5G 통신 이후(Beyond 5G)의 시스템이라 불리 어지는 6G 이동통신 기술의 경우, 5G 이동통신 기술 대비 50배 빨라진 전송 속도와 10분의 1로 줄어든 초저 (Ultra Low) 지연시간을 달성하기 위해 테라헤르츠(Terahertz, THz) 대역(예를 들어, 95GHz에서 3 테라헤르츠 대역과 같은)에서의 구현이 고려되고 있다. 5G 이동통신 기술의 초기에는, 초광대역 서비스(enhanced Mobile BroadBand, eMBB), 고신뢰/초저지연 통신 (Ultra-Reliable Low-Latency Communications, URLLC), 대규모 기계식 통신 (massive Machine-Type Communications, mMTC)에 대한 서비스 지원과 성능 요구사항 만족을 목표로, 초고주파 대역에서의 전파의 경로 손실 완화 및 전파의 전달 거리를 증가시키기 위한 빔포밍(Beamforming) 및 거대 배열 다중 입출력(Massive MIMO), 초고주파수 자원의 효율적 활용을 위한 다양한 뉴머롤로지 지원(복수 개의 서브캐리어 간격 운용 등)와 슬롯 포맷에 대한 동적 운영, 다중 빔 전송 및 광대역을 지원하기 위한 초기 접속 기술, BWP(Band-Width Part) 의 정의 및 운영, 대용량 데이터 전송을 위한 LDPC(Low Density Parity Check) 부호와 제어 정보의 신뢰성 높은 전송을 위한 폴라 코드(Polar Code)와 같은 새로운 채널 코딩 방법, L2 선-처리(L2 pre-processing), 특정 서 비스에 특화된 전용 네트워크를 제공하는 네트워크 슬라이싱(Network Slicing) 등에 대한 표준화가 진행되었다. 현재, 5G 이동통신 기술이 지원하고자 했던 서비스들을 고려하여 초기의 5G 이동통신 기술 개선(improvement) 및 성능 향상(enhancement)을 위한 논의가 진행 중에 있으며, 차량이 전송하는 자신의 위치 및 상태 정보에 기 반하여 자율주행 차량의 주행 판단을 돕고 사용자의 편의를 증대하기 위한 V2X(Vehicle-to-Everything), 비면허 대역에서 각종 규제 상 요구사항들에 부합하는 시스템 동작을 목적으로 하는 NR-U(New Radio Unlicensed), NR 단말 저전력 소모 기술(UE Power Saving), 지상 망과의 통신이 불가능한 지역에서 커버리지 확보를 위한 단말- 위성 직접 통신인 비 지상 네트워크(Non-Terrestrial Network, NTN), 위치 측위(Positioning) 등의 기술에 대 한 물리계층 표준화가 진행 중이다. 뿐만 아니라, 타 산업과의 연계 및 융합을 통한 새로운 서비스 지원을 위한 지능형 공장 (Industrial Internet of Things, IIoT), 무선 백홀 링크와 액세스 링크를 통합 지원하여 네트워크 서비스 지역 확장을 위한 노드를 제공하는 IAB(Integrated Access and Backhaul), 조건부 핸드오버(Conditional Handover) 및 DAPS(Dual Active Protocol Stack) 핸드오버를 포함하는 이동성 향상 기술(Mobility Enhancement), 랜덤액세스 절차를 간소화하 는 2 단계 랜덤액세스(2-step RACH for NR) 등의 기술에 대한 무선 인터페이스 아키텍쳐/프로토콜 분야의 표준화 역시 진행 중에 있으며, 네트워크 기능 가상화(Network Functions Virtualization, NFV) 및 소프트웨어 정 의 네트워킹(Software-Defined Networking, SDN) 기술의 접목을 위한 5G 베이스라인 아키텍쳐(예를 들어, Service based Architecture, Service based Interface), 단말의 위치에 기반하여 서비스를 제공받는 모바일 엣지 컴퓨팅(Mobile Edge Computing, MEC) 등에 대한 시스템 아키텍쳐/서비스 분야의 표준화도 진행 중이다. 이와 같은 5G 이동통신 시스템이 상용화되면, 폭발적인 증가 추세에 있는 커넥티드 기기들이 통신 네트워크에 연결될 것이며, 이에 따라 5G 이동통신 시스템의 기능 및 성능 강화와 커넥티드 기기들의 통합 운용이 필요할 것으로 예상된다. 이를 위해, 증강현실(Augmented Reality, AR), 가상현실(Virtual Reality, VR), 혼합 현실 (Mixed Reality, MR) 등을 효율적으로 지원하기 위한 확장 현실(eXtended Reality, XR), 인공지능(Artificial Intelligence, AI) 및 머신러닝(Machine Learning, ML)을 활용한 5G 성능 개선 및 복잡도 감소, AI 서비스 지 원, 메타버스 서비스 지원, 드론 통신 등에 대한 새로운 연구가 진행될 예정이다. 또한, 이러한 5G 이동통신 시스템의 발전은 6G 이동통신 기술의 테라헤르츠 대역에서의 커버리지 보장을 위한 신규 파형(Waveform), 전차원 다중입출력(Full Dimensional MIMO, FD-MIMO), 어레이 안테나(Array Antenna), 대규모 안테나(Large Scale Antenna)와 같은 다중 안테나 전송 기술, 테라헤르츠 대역 신호의 커버리지를 개선 하기 위해 메타물질(Metamaterial) 기반 렌즈 및 안테나, OAM(Orbital Angular Momentum)을 이용한 고차원 공 간 다중화 기술, RIS(Reconfigurable Intelligent Surface) 기술 뿐만 아니라, 6G 이동통신 기술의 주파수 효 율 향상 및 시스템 네트워크 개선을 위한 전이중화(Full Duplex) 기술, 위성(Satellite), AI(Artificial Intelligence)를 설계 단계에서부터 활용하고 종단간(End-to-End) AI 지원 기능을 내재화하여 시스템 최적화를 실현하는 AI 기반 통신 기술, 단말 연산 능력의 한계를 넘어서는 복잡도의 서비스를 초고성능 통신과 컴퓨팅 자 원을 활용하여 실현하는 차세대 분산 컴퓨팅 기술 등의 개발에 기반이 될 수 있을 것이다."}
{"patent_id": "10-2023-0130683", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 무선 통신 시스템에 관한 것으로, 특히, 포지셔닝(예를 들어, 위치 측정)을 수행하는 방법 및 장치에 관한 것이다. 구체적으로, 본 개시의 다양한 실시예들은, 사이드링크를 통해 포지셔닝을 수행하는 방법들을 제 안한다. 본 개시의 다양한 실시예들에 따라, 무선 통신 시스템에서 서비스를 효과적으로 제공할 수 있는 전자 장치 및 방법을 제공하고자 한다. 본 문서에서 이루고자 하는 기술적 과제는 이상에서 언급한 기술적 과제로 제한되지 않으며, 언급되지 않은 또"}
{"patent_id": "10-2023-0130683", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 2, "content": "다른 기술적 과제들은 아래의 기재로부터 본 발명이 속하는 기술분야에서 통상의 지식을 가진 자에게 명확하게 이해될 수 있을 것이다. 예를 들어, 본 발명에서 제안되는 내용이 사이드링크에 한정하여 적용되지 않음에 주목 한다."}
{"patent_id": "10-2023-0130683", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 개시의 다양한 실시예들에 따라, 무선 통신 시스템에서, 단말(user equipment, UE)에 의해 수행되는 방법은, 기지국으로부터, 설정 메시지를 수신하는 단계, 상기 설정 메시지에 기반하여 채널을 측정하는 단계, 및 상기 기지국에게, 상기 측정 결과를 전송하는 단계를 포함할 수 있다."}
{"patent_id": "10-2023-0130683", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 개시는 무선 통신 시스템에서 서비스를 효과적으로 제공할 수 있는 전자 장치 및 방법을 제공한다. 특히, 본 개시의 다양한 실시예들은, 단말이 포지셔닝(위치 측정)을 수행하는 방법 및 절차에 관한 것으로, 제 안된 방법을 통해 포지셔닝을 보다 효과적으로 수행할 수 있다. 본 개시에서 얻을 수 있는 효과는 이상에서 언급한 효과들로 제한되지 않으며, 언급하지 않은 또 다른 효과들은 아래의 기재로부터 본 개시가 속하는 기술 분야에서 통상의 지식을 가진 자에게 명확하게 이해될 수 있을 것이다."}
{"patent_id": "10-2023-0130683", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 본 개시의 실시예를 첨부된 도면을 참조하여 상세하게 설명한다. 실시예를 설명함에 있어서 본 개시가 속하는 기술 분야에 익히 알려져 있고 본 개시와 직접적으로 관련이 없는 기술 내용에 대해서는 설명을 생략한다. 이는 불필요한 설명을 생략함으로써 본 개시의 요지를 흐리지 않고 더 욱 명확히 전달하기 위함이다. 마찬가지 이유로 첨부 도면에 있어서 일부 구성요소는 과장되거나 생략되거나 개략적으로 도시되었다. 또한, 각 구성요소의 크기는 실제 크기를 전적으로 반영하는 것이 아니다. 각 도면에서 동일한 또는 대응하는 구성요소에 는 동일한 참조 번호를 부여하였다. 본 개시의 이점 및 특징, 그리고 그것들을 달성하는 방법은 첨부되는 도면과 함께 상세하게 후술되어 있는 실시 예들을 참조하여 명확해질 것이다. 그러나 본 개시는 이하에서 개시되는 실시예들에 한정되는 것이 아니라 서로 다른 다양한 형태로 구현될 수 있으며, 단지 본 실시예들은 본 개시가 완전하도록 하고, 본 개시가 속하는 기술 분야에서 통상의 지식을 가진 자에게 본 개시의 범주를 완전하게 알려주기 위해 제공되는 것이며, 본 개시는 청 구항의 범주에 의해 정의될 뿐이다. 명세서 전체에 걸쳐 동일 참조 부호는 동일 구성 요소를 지칭한다. 이 때, 처리 흐름도 도면들의 각 블록과 흐름도 도면들의 조합들은 컴퓨터 프로그램 인스트럭션들에 의해 수행 될 수 있음을 이해할 수 있을 것이다. 이들 컴퓨터 프로그램 인스트럭션들은 범용 컴퓨터, 특수용 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비의 프로세서에 탑재될 수 있으므로, 컴퓨터 또는 기타 프로그램 가 능한 데이터 프로세싱 장비의 프로세서를 통해 수행되는 그 인스트럭션들이 흐름도 블록(들)에서 설명된 기능들 을 수행하는 수단을 생성하게 된다. 이들 컴퓨터 프로그램 인스트럭션들은 특정 방식으로 기능을 구현하기 위해 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비를 지향할 수 있는 컴퓨터 이용 가능 또는 컴퓨터 판독 가능 메모리에 저장되는 것도 가능하므로, 그 컴퓨터 이용가능 또는 컴퓨터 판독 가능 메모리에 저장된 인스트럭션들은 흐름도 블록(들)에서 설명된 기능을 수행하는 인스트럭션 수단을 내포하는 제조 품목을 생산하는 것도 가능하다. 컴퓨터 프로그램 인스트럭션들은 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비 상에 탑재 되는 것도 가능하므로, 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비 상에서 일련의 동작 단계들이 수행되어 컴퓨터로 실행되는 프로세스를 생성해서 컴퓨터 또는 기타 프로그램 가능한 데이터 프로세싱 장비를 수행하는 인스트럭션들은 흐름도 블록(들)에서 설명된 기능들을 실행하기 위한 단계들을 제공하는 것도 가능하 다. 또한, 각 블록은 특정된 논리적 기능(들)을 실행하기 위한 하나 이상의 실행 가능한 인스트럭션들을 포함하는 모듈, 세그먼트 또는 코드의 일부를 나타낼 수 있다. 또, 몇 가지 대체 예시들에서는 블록들에서 언급된 기능들 이 순서를 벗어나서 발생하는 것도 가능함을 주목해야 한다. 예컨대, 잇달아 도시되어 있는 두 개의 블록들은 사실 실질적으로 동시에 수행되는 것도 가능하고 또는 그 블록들이 때때로 해당하는 기능에 따라 역순으로 수행 되는 것도 가능하다. 이 때, 본 실시예에서 사용되는 '~부'라는 용어는 소프트웨어 또는 FPGA또는 ASIC과 같은 하드웨어 구성요소를 의미하며, '~부'는 어떤 역할들을 수행한다. 그렇지만 '~부'는 소프트웨어 또는 하드웨어에 한정되는 의미는 아 니다. '~부'는 어드레싱할 수 있는 저장 매체에 있도록 구성될 수도 있고 하나 또는 그 이상의 프로세서들을 재 생시키도록 구성될 수도 있다. 따라서, 일 예로서 '~부'는 소프트웨어 구성요소들, 객체지향 소프트웨어 구성요 소들, 클래스 구성요소들 및 태스크 구성요소들과 같은 구성요소들과, 프로세스들, 함수들, 속성들, 프로시저들, 서브루틴들, 프로그램 코드의 세그먼트들, 드라이버들, 펌웨어, 마이크로코드, 회로, 데이터, 데이 터베이스, 데이터 구조들, 테이블들, 어레이들, 및 변수들을 포함한다. 구성요소들과 '~부'들 안에서 제공되는 기능은 더 작은 수의 구성요소들 및 '~부'들로 결합되거나 추가적인 구성요소들과 '~부'들로 더 분리될 수 있다. 뿐만 아니라, 구성요소들 및 '~부'들은 디바이스 또는 보안 멀티미디어카드 내의 하나 또는 그 이상의 CPU들을 재생시키도록 구현될 수도 있다. 또한 실시예에서 '~부'는 하나 이상의 프로세서를 포함할 수 있다. 본 개시의 실시예들을 구체적으로 설명함에 있어서, 이동통신 규격 표준화 단체인 3GPP(3rd generation partnership project long term evolution)가 개시하고 있는 5G 이동통신 규격 상의 무선 접속망 New RAN(NR) 과 코어 망인 패킷 코어(5G System, 혹은 5G Core Network, 혹은 NG Core, next generation core)를 주된 대상 으로 하지만, 본 개시의 주요한 요지는 유사한 기술적 배경을 가지는 여타의 통신 시스템에도 본 개시의 범위를 크게 벗어 나지 아니 하는 범위에서 약간의 변형으로 적용 가능하며, 이는 본 개시의 기술 분야에서 숙련된 기 술적 지식을 가진 자의 판단으로 가능 할 것이다. 5G 시스템에서는, 네트워크 자동화 지원을 위해서, 5G 네트워크 망에서 수집된 데이터를 분석하여 제공하는 기 능을 제공하는 네트워크 기능인 네트워크 데이터 수집 및 분석 함수(network data collection and analysis function, NWDAF)가 정의될 수 있다. NWDAF는 5G 네트워크로부터 정보를 수집/저장/분석하여 그 결과를 불특정 네트워크 기능(network function, NF)에게 제공할 수 있으며, 분석 결과는 각 NF에서 독립적으로 이용될 수 있 다. 이하 설명의 편의를 위하여, 3GPP 규격(5G, NR, LTE 또는 이와 유사한 시스템의 규격)에서 정의하고 있는 용어 및 명칭들이 일부 사용될 수 있다. 하지만, 본 개시가 용어 및 명칭들에 의해 한정되는 것은 아니며, 다른 규격 에 따르는 시스템에도 동일하게 적용될 수 있다. 또한 이하 설명에서 사용되는 접속 노드(node)를 식별하기 위한 용어, 망 객체(network entity)들을 지칭하는 용어, 메시지들을 지칭하는 용어, 네트워크 엔티티들 간 인터페이스를 지칭하는 용어, 다양한 식별 정보들을 지 칭하는 용어 등은 설명의 편의를 위해 예시된 것이다. 따라서, 본 개시에서 사용하는 용어들에 한정되는 것은 아니며, 동등한 기술적 의미를 가지는 대상을 지칭하는 다른 용어가 사용될 수 있다. 4G 통신 시스템 상용화 이후 증가 추세에 있는 무선 데이터 트래픽 수요를 충족시키기 위해, 개선된 5G 통신 시 스템(NR, New Radio)을 개발 노력이 이루어지고 있다. 높은 데이터 전송률을 달성하기 위해, 5G 통신 시스템은 초고주파(mmWave) 대역 (예를 들어, 28GHz 주파수 대역과 같은)에서의 자원도 가능하도록 디자인이 되었다. 초 고주파 대역에서의 전파의 경로손실 완화 및 전파의 전달 거리를 증가시키기 위해, 5G 통신 시스템에서는 빔포 밍(beamforming), 거대 배열 다중 입출력(massive MIMO), 전차원 다중입출력(Full Dimensional MIMO, FD- MIMO), 어레이 안테나(array antenna), 아날로그 빔형성(analog beam-forming) 및 대규모 안테나 (large scale antenna) 기술들이 논의되고 있다. 그 이외에 5G 통신 시스템에서는 LTE와 달리 15kHz를 포함하여, 30 kHz, 60 kHz, 120kHz 등의 다양한 부반송파 간격(subcarrier spacing)들을 자원하며, 물리 제어 채널(Physical Control Channel)은 Polar Coding을 사용하며, 물리 데이터 채널(Physical Data Channel)은 LDPC(Low Density ParityCheck)을 사용한다. 그 이외에 상향링크 전송을 위한 파형(waveform)으로는 DFT-S-OFDM 뿐만 아니라 CP-OFDM도 사용된다. LTE는 TB(Transport Block) 단위의 HARQ(Hybrid ARQ) 재전송을 지원하는 반면에, 5G는 CB(Code Block)들을 여러 개 묶은 CBG(Code Block Group) 기반의 HARQ 재전송을 추가적으로 자원할 수 있다. 또한 시스템의 네트워크 개선을 위해, 5G 통신 시스템에서는 진화된 소형 셀, 개선된 소형 셀(advanced small cell), 클라우드 무선 액세스 네트워크(cloud radio access network, cloud RAN), 초고밀도 네트워크(ultra- dense network), 기기 간 통신(Device to Device communication, D2D), 무선 백홀(wireless backhaul), 차량 통신 네트워크(V2X(Vehicle to Everything) network), 협력 통신(cooperative communication), CoMP(Coordinated Multi-Points), 및 수신 간섭 제거(interference cancellation) 등의 기술 개발이 이루어지 고 있다. 한편, 인터넷은 인간이 정보를 생성하고 소비하는 인간 중심의 연결 망에서, 사물 등 분산된 구성 요소들 간에 정보를 주고받아 처리하는 IoT(Internet of Things)(예를 들어, 사물인터넷) 망으로 진화하고 있다. 클라우드 서버 등과의 연결을 통한 빅데이터(Big data) 처리 기술 등이 IoT 기술에 결합된 IoE(Internet of Everything) 기술도 대두되고 있다. IoT를 구현하기 위해서, 센싱 기술, 유무선 통신 및 네트워크 인프라, 서비스 인터페이 스 기술, 및 보안 기술과 같은 기술 요소 들이 요구되어, 최근에는 사물간의 연결을 위한 센서 네트워크(sensor network), 사물 통신(Machine to Machine, M2M), MTC(Machine Type Communication)등의 기술이 연구되고 있다. IoT 환경에서는 연결된 사물들에서 생성된 데이터를 수집, 분석하여 인간의 삶에 새로운 가치를 창출하는 지능 형 IT(Internet Technology) 서비스가 제공될 수 있다. IoT는 기존의 IT(information technology)기술과 다양 한 산업 간의 융합 및 복합을 통하여 스마트홈, 스마트 빌딩, 스마트 시티, 스마트 카 혹은 커넥티드 카, 스마 트 그리드, 헬스 케어, 스마트 가전, 첨단의료서비스 등의 분야에 응용될 수 있다. 이에, 5G 통신 시스템을 IoT 망에 적용하기 위한 다양한 시도들이 이루어지고 있다. 예를 들어, 센서 네트워크 (sensor network), 사물 통신(Machine to Machine, M2M), MTC(Machine Type Communication)등의 기술이 5G 통 신 기술인 빔 포밍, MIMO 및 어레이 안테나 등의 기법에 의해 구현되고 있는 것이다. 앞서 설명한 빅데이터 처 리 기술로써 클라우드 무선 액세스 네트워크(cloud RAN)가 적용되는 것도 5G 기술과 IoT 기술 융합의 일 예라고 할 수 있을 것이다. 이와 같이 통신 시스템에서 복수의 서비스가 사용자에게 제공될 수 있으며, 이와 같은 복수 의 서비스를 사용자에게 제공하기 위해 특징에 맞게 각 서비스를 동일한 시구간 내에서 제공할 수 있는 방법 및 이를 이용한 장치가 요구된다. 5G 통신 시스템에서 제공되는 다양한 서비스가 연구되고 있으며, 이 중 하나는 낮은 지연 시간(low latency) 및 높은 신뢰성(high reliability) 요구 조건을 만족시키는 서비스이다. 또한 모 바일 서비스에 대한 수요가 폭발적으로 증가하고 있으며, 주로 긴급 서비스 및 상업용 애플리케이션이라는 두 가지 주요 요구사항에 의해 주도되는 위치 기반 서비스(Location Based Service, LBS)가 빠르게 성장하고 있다. 특히 사이드링크를 이용한 통신의 경우, NR 사이드링크 시스템에서는 단말과 단말 간 유니캐스트(unicast) 통신, 그룹캐스트(groupcast)(또는 멀티캐스트(multicast)) 통신 및 브로드캐스트(broadcast) 통신이 지원된다. 또한 NR 사이드링크는 차량의 도로 주행에 필요한 기본적인 안전 정보 송수신을 목적으로 하는 LTE 사이드링크 와 달리 그룹 주행(Platooning), 진보된 주행(Advanced Driving), 확장 센서(Extended Sensor), 원격 주행 (Remote Driving)과 같이 보다 진보된 서비스를 제공하는 것에 목표를 두고 있다. 본 개시의 다양한 실시예들에 따라, 특히, NR 사이드링크에서는 단말 간 사이드링크를 통해 포지셔닝(예를 들어, 위치 측정)이 수행될 수 있다. 예를 들어, 사이드링크를 통해 전송되는 포지셔닝 신호를 이용한, 단말의 위치를 측정하는 방법이 고려될 수 있다. 사이드링크에서 고려되는 포지셔닝 방법은, SL-RTT(Sidelink Round Trip Time), SL-RSTD(Sidelink Reference Signal Time Difference), SL-RTOA(Sidelink Relative Time of Arrival), 또는 SL-AoA(Sidelink Angle of Arrival) 중 적어도 하나를 포함할 수 있다. 일 실시예에 따라, 해 당 측정을 통해 단말의 좌표 위치가 계산되거나 단말 간 거리가 계산될 수 있다. 기존의 단말과 기지국 간의 하향링크 및 상향링크를 통해 전송되는 포지셔닝 신호를 이용하여 단말의 위치를 측 정하는 방법은, 단말이 기지국 커버리지 안에 있을 경우에만 가능하다. 하지만 사이드링크 포지셔닝이 도입될 경우, 단말이 기지국 커버리지 밖에 있는 경우에도, 단말의 위치 측정이 가능할 수 있다. 이 때, 사이드링크에 서 포지셔닝 신호는 SL(Sidelink) PRS(Positioning Reference Signal)로 명명될 수 있다. 하지만, 다양한 실시 예들에 따라, 이는 다른 용어로 대체될 수 있음은 물론이다. 일 실시예에 따라, SL PRS는 사이드링크 통신(예를 들어, 데이터 전송)이 수행되는 자원 풀(예를 들어, shared resource pool with SL communication로 명명될 수 있음)에서 전송될 수 있다. 또다른 실시예에 따라, SL PRS는 SL PRS의 전송을 위해 정의된 자원 풀(예를 들어, dedicated resource pool for SL positioning으로 명명될 수 있음)에서 전송될 수도 있다. 본 개시의 다양한 실시예들은, SL PRS가 사이드링크 통신(예를 들어, 데이터 전송)이 수행되는 자원 풀에서 전송되는 경우, SL PRS와 다른 기준 신호 간의 충돌을 해결하기 위한 방법을 제 안한다. 여기서 다른 기준 신호는 SL PTRS(Sidelink Phase Tracking Reference Signal) 또는 SL CSI- RS(Sidelink Channel State Information Reference Signal) 등을 포함할 수 있다. 본 발명에서 제안된 충돌 회 피 방법을 통해, 포지셔닝 신호와 다른 기준 신호의 동시 전송 및 기준 신호들의 수신 성능이 향상될 수 있다. 본 개시의 다양한 실시예들은, 상술한 시나리오를 지원하기 위해 제안된 것으로, 특히 단말의 위치를 측정(예를 들어, 포지셔닝)하기 위한 방법 및 장치를 제공할 수 있다. 도 1은 본 개시의 다양한 실시예들에 따른, 무선 통신 시스템을 도시한다. 도 1을 참조하여, 도 1의 (a)는 사이드링크를 통해 통신하는 모든 단말들(UE-1, UE-2)이 기지국의 커버리지 내 에 위치해 있는 경우(예를 들어, IC(In-Coverage))를 도시한다. 일 실시예에 따라, 모든 단말들은 기지국으로부 터 하향링크(downlink, DL)를 통해 데이터 및 제어 정보를 수신하거나, 기지국에게 상향링크(uplink, UL)를 통 해 데이터 및 제어 정보를 송신할 수 있다. 이때 데이터 및 제어 정보는 사이드링크 통신을 위한 데이터 및 제 어 정보를 포함할 수 있다. 데이터 및 제어 정보는 일반적인 셀룰러 통신을 위한 데이터 및 제어 정보를 포함할 수도 있다. 또한, 단말들은 사이드링크(Sidelink, SL)를 통해 해당 통신을 위한 데이터 및 제어 정보를 송수신 할 수도 있다. 도 1을 참조하여, 도 1의 (b)는 단말들 중 UE-1은 기지국의 커버리지 내에 위치하고, UE-2는 기지국의 커버리지 밖에 위치하는 경우를 도시한다. 예를 들어, 도 1의 (b)는, 일부 단말(UE-2)이 기지국의 커버리지 밖에 위치하 는 부분 커버리지(예를 들어, PC(partial coverage))를 도시한다. 일 실시예에 따라, 기지국의 커버리지 내에 위치한 단말(UE-1)은 기지국으로부터 하향링크를 통해 데이터 및 제어 정보를 수신하거나, 기지국에게 상향링크 를 통해 데이터 및 제어 정보를 송신할 수 있다. 기지국의 커버리지 밖에 위치한 단말(UE-2)은, 기지국으로부터 하향링크를 통해 데이터 및 제어 정보를 수신할 수 없으며, 기지국에게 상향링크를 통해 데이터 및 제어 정보를 송신할 수 없다. 일 실시예에 따라, 단말(UE-2)은 단말(UE-1)과 사이드링크를 통해 해당 통신을 위한 데이터 및 제어 정보를 송수신할 수 있다. 도 1을 참조하여, 도 1의 (c)는 모든 단말들이 기지국의 커버리지 밖(예를 들어, OOC(out-of coverage))에 위치 한 경우를 도시한다. 따라서, 단말들(UE-1, UE-2)은 기지국으로부터 하향링크를 통해 데이터 및 제어 정보를 수 신할 수 없으며, 기지국에게 상향링크를 통해 데이터 및 제어 정보를 송신할 수 없다. 일 실시예에 따라, 단말 들(UE-1, UE-2)은 사이드링크를 통해 데이터 및 제어 정보를 송수신할 수 있다. 도 1을 참조하여, 도 1의 (d)는 서로 다른 셀에 위치한 단말(UE-1, UE-2)들 간 사이드링크 통신을 수행하는 시 나리오를 도시한다. 구체적으로, 도 1의 (d)는 단말들(UE-1, UE-2)이 서로 다른 기지국에 접속해 있거나(예를 들어, RRC 연결 상태), 또는 캠핑한 경우(예를 들어, RRC 연결 해제 상태, 즉 RRC idle 상태)를 도시한다. 이 때, 단말(UE-1)은 사이드링크에서 송신 단말이고, 단말(UE-2)은 수신 단말일 수 있다. 또는 단말(UE-1)은 사이 드링크에서 수신 단말이고, 단말(UE-2)은 송신 단말일 수도 있다. 일 실시예에 따라, 단말(UE-1)은 자신이 접속 한(또는 자신이 캠핑하고 있는) 기지국으로부터 SIB(system information block)를 수신할 수 있으며, 단말(UE- 2)은 자신이 접속한(또는 자신이 캠핑하고 있는) 다른 기지국으로부터 SIB를 수신할 수 있다. 이 때, SIB는 기 존 SIB가 사용되거나, 혹은 사이드링크 통신을 위해 별도로 정의된 SIB를 포함할 수 있다. 또한, 단말(UE-1)이 수신한 SIB의 정보와 단말(UE-2)이 수신한 SIB의 정보가 서로 같거나 또는 다를 수 있다. 따라서, 서로 다른 셀 에 위치한 단말들(UE-1, UE-2) 간 사이드링크 통신을 수행하기 위하여, 상술한 정보가 통일되거나, 이에 대한 정보가 시그널링된 후 각기 다른 셀로부터 전송된 SIB 정보를 해석하기 위한 방법이 추가적으로 필요할 수도 있 다. 도 1에서는 설명의 편의를 위해 두 개의 단말들(UE-1, UE-2)로 구성된 사이드링크 시스템이 도시되었으나, 본 개시의 다양한 실시예들에 따라, 이에 국한되지 않고 더 많은 단말들 간에 통신이 이루어질 수 있다. 또한, 일 실시예에 따라, 기지국과 단말들 간의 인터페이스(예를 들어, 상향링크 및 하향링크)는 Uu 인터페이스로 명명될 수 있고, 단말들 간의 사이드링크 통신은 PC5 인터페이스로 명명될 수 있다. 따라서, 본 개시에서는 이들이 혼 용되어 사용될 수 있다. 한편, 본 개시에서 단말은, 일반 단말 및 V2X(vehicular-to-everything)를 지원하는 단말을 포함할 수 있다. 구 체적으로, 본 개시에서 단말은, 보행자의 핸드셋(예를 들어, 스마트폰), 차량 간 통신(vehicular-to-vehicular, V2V)을 지원하는 차량, 차량과 보행자 간 통신(vehicular-to-pedestrian, V2P)을 지원하는 차량, 차량과 네트 워크 간 통신(vehicular-to-network, V2N)을 지원하는 차량 또는 차량과 교통인프라(infrastructure) 간 통신 (vehicular-to-infrastructure, V2I)을 지원하는 차량 중 적어도 하나를 포함할 수 있다. 또한 본 개시에서 단 말은, 단말 기능을 장착한 RSU(road side unit), 기지국 기능을 장착한 RSU, 또는 기지국 기능의 일부 및 단말 기능의 일부를 장착한 RSU 중 적어도 하나를 포함할 수도 있다. 또한, 본 개시의 일 실시예에 따르면, 기지국은 V2X 통신과 일반 셀룰러 통신을 모두 지원하는 기지국이거나, 또는 V2X 통신만을 지원하는 기지국을 포함할 수 있다. 이 때, 기지국은, 5G 기지국(예를 들어, gNB), 4G 기지 국(예를 들어, eNB), 또는 RSU 중 적어도 하나를 포함할 수 있다. 따라서, 본 개시에서 기지국은 RSU로 지칭될 수도 있다. 도 2는 본 개시의 다양한 실시예들에 따른, 사이드링크를 통해 이루어지는 통신 방법을 도시한다. 도 2의 (a)를 참고하면, UE-1(예를 들어, TX 단말) 및 UE-2(예를 들어, RX 단말)는 일대일 통신을 수행할 수 있 으며, 이는 유니캐스트(unicast) 통신이라고 지칭될 수 있다. 일 실시예에 따라, 사이드링크에서 단말 간 유니 캐스트 링크에 정의된 PC5-RRC를 통해, 단말 간 능력(capability) 정보 및 설정 정보가 교환될 수 있다. 또한 단말 간 유니캐스트 링크에 정의된 사이드링크 MAC(Medium Access Control) CE(Control Element)를 통해 설정 정보가 교환될 수도 있다. 일 실시예에 따라, 설정 정보는 destination ID 및 source ID 정보를 포함할 수 있다. 다만, 본 개시의 다양한 실시예들에 따라, 유니캐스트를 위한 정보 교환 방법은 상술한 PC5-RRC 및 MAC-CE에 한 정되지 않는다. 상술한 관련 정보는 SCI(Side Control Information)에 포함될 수 있다. SCI는 1st SCI 또는 2nd SCI를 포함할 수 있다. 또한 해당 정보의 일부는 SCI에 포함되거나, 나머지 일부는 PC5-RRC나 MAC-CE를 통 해 다른 채널에 포함되어 전송될 수도 있다. 도 2의 (b)를 참고하면, TX 단말 및 RX 단말은 일대다 통신을 수행할 수 있으며, 이는 그룹캐스트(groupcast) 또는 멀티캐스트(multicast)로 지칭될 수 있다. 일 실시예에 따라, 도 2의 (b)에서, UE-1, UE-2, 및 UE-3은 하 나의 그룹(group)을 형성하여(Group A) 그룹캐스트(groupcast) 통신을 수행하고, UE-4, UE-5, UE-6, 및 UE-7은 또다른 그룹(group)을 형성하여(Group B) 그룹캐스트(groupcast) 통신을 수행할 수 있다. 각 단말은 자신이 소 속된 그룹 내에서만 그룹캐스트(groupcast) 통신을 수행할 수 있고, 서로 다른 그룹 간 통신은, 유니캐스트, 그 룹캐스트 또는 브로드케스트 통신을 통해 수행될 수 있다. 다양한 실시예들에 따라, 도 2의 (b)에서는 두 개의 그룹(Group A, Group B)이 형성되어 있으나, 이에 제한되지 않음은 물론이다. 일 실시예에 따라, 한편, 도 2에 도시하지는 않았으나, 사이드링크에서 단말들은 브로드캐스트(broadcast) 통신 을 수행할 수 있다. 브로드캐스트(broadcast) 통신은, 송신 단말이 사이드링크를 통해 전송한 데이터 및 제어 정보를, 다른 모든 단말들이 수신하는 경우를 의미할 수 있다. 예를 들어, 도 2의 (b)에서 UE-1이 브로드캐스트 (broadcast)를 위한 송신 단말이라고 가정하는 경우, 모든 단말들(UE-2, UE-3, UE-4, UE-5, UE-6, 및 UE-7)은 UE-1이 송신하는 데이터 및 제어 정보를 수신할 수 있다. 일 실시예에 따라, NR V2X에서는 LTE V2X에서와 달리, 차량 단말이 유니캐스트를 통해 하나의 특정 노드에게만 데이터를 보내는 형태 및 그룹캐스트 (groupcast)를 통해 특정 복수 개의 노드들에게 데이터를 보내는 형태의 지원이 고려될 수 있다. 예를 들어, 두 대 이상의 차량이 하나의 네트워크로 연결되고, 군집 형태로 묶여져 이 동하는 기술인 그룹주행(Platooning)과 같은 서비스 시나리오에서, 이러한 유니캐스트 및 그룹캐스트 기술이 유 용하게 사용될 수 있다. 구체적으로, 그룹주행으로 연결된 그룹의 리더 노드가 하나의 특정 노드를 제어하기 위 한 목적으로, 유니캐스트 통신이 요구될 수 있으며, 특정 복수 개의 노드들로 이루어진 그룹을 동시에 제어하기 위한 목적으로, 그룹캐스트 통신이 요구될 수 있다. 도 3은 본 개시의 다양한 실시예들에 따른, 사이드링크 통신을 위한 자원 풀(resource pool)을 도시한다. 보다 구체적으로, 도 3을 참조하여, 본 개시의 일 실시예에 따른, 사이드링크의 전송 및 수신에 사용되는 시간 및 주 파수 상에서 자원들의 셋(집합)으로 정의되는 자원 풀(resource pool)이 도시된다. 일 실시예에 따라, 자원 풀에서 시간 축의 자원 할당 단위(resource granularity)는 슬롯 (Slot)을 포함할 수 있다. 또한, 주파수 축의 자원 할당 단위는 하나 이상의 PRB(physical resource block)로 구성된 서브채널 (Sub-channel)을 포함할 수 있다. 본 개시의 다양한 실시예들은, 자원 풀이 시간 상에서 비연속적으로 할당된 경우를 예로 들어 서술하나, 시간 상에서 자원 풀이 연속적으로 할당된 경우도 포함할 수 있음은 물론이다. 또 한, 본 개시에서, 자원 풀이 주파수 상에서 연속적으로 할당된 경우를 예로 들어 서술하나, 주파수 상에서 자원 풀이 비연속적으로 할당되는 방법을 배제하지 않음은 물론이다. 도 3을 참조하여, 자원 풀이, 시간 상에서 비연속적으로 할당된 경우가 도시된다. 도 3을 참조하여, 시간 상 자원 할당의 단위(granularity)는 슬롯(slot)을 포함할 수 있다. 일 실시예에 따라, 사이드링크 슬롯은 상향링크로 사용되는 슬롯 안에서 정의될 수 있다. 구체적으로, 하나의 슬롯 내에서, 사이드링크로 사용되는 심볼의 길이는 사이드링크 BWP(Bandwidth Part)정보를 통해 설정될 수 있 다. 따라서 상향링크로 사용되는 슬롯 중에서, 사이드링크로 설정되어 있는 심볼의 길이가 보장되지 않는 슬롯 들은, 사이드링크 슬롯이 될 수 없을 수 있다. 또한 S-SSB(Sidelink Synchronization Signal Block)가 전송되 는 슬롯은, 자원 풀에 속하는 슬롯들에서 제외될 수 있다. 도 3의 경우를 참조하여, 상술한 슬롯들을 제외하고, 시간 상에서 사이드링크로 사용될 수 있는 슬롯의 셋 (집합)이 ( , , ,...)와 같이 도시된다. 일 실시예에 따라, 경우에서 음영 부분은, 자원 풀에 속한 사이드링크 슬롯들을 나타낼 수 있다. 자원 풀에 속한 사이드링크 슬롯들은, 비트맵을 통해 자원 풀 정보로 (미 리) 설정((pre-)configuration)될 수 있다. 도 3의 경우를 참조하여, 시간 상에서 자원 풀에 속한 사이드링크 슬롯의 셋(집합)이 ( , , ,...)와 같이, 도시된다. 본 개시의 다양한 실시예들에서, (pre-)configuration의 의미는, 단말에 미리 설 정(pre-configuration)되어 미리 저장되어 있는 설정 정보를 의미할 수도 있고, 기지국으로부터 셀 공통적인 (cell-common) 방법으로 설정되는 설정 정보를 의미할 수도 있다. 여기서, 셀 공통(cell-common)은 셀 안의 단 말들이 기지국으로부터 동일한 정보의 설정을 수신하는 것을 의미할 수 있다. 이때, 단말은 기지국으로부터 사 이드링크 SL-SIB(sidelink system information block)를 수신하여, 셀 공통적인(cell-common) 정보를 획득할 수 있다. 일 실시예에 따라, 또한 (pre-)configuration의 의미는, 단말이 기지국과 RRC 연결을 수립한 이후, 단말 특정적 인(UE-specific) 방법으로, 설정(configuration)되는 경우를 의미할 수도 있다. 여기서 UE-specific은 UE- dedicated라는 용어로 대체될 수도 있으며, 단말마다 특정한 값으로 설정 정보를 수신하는 것을 의미할 수 있다. 이때, 단말은 기지국으로부터 RRC 메시지를 수신하여 단말 특정적인(UE-specific) 정보를 획득할 수 있다. 일 실시예에 따라, 또한 (pre-)configuration은 자원 풀 정보로 설정되는 방법과 자원 풀 정보에 설정되지 않는 방법이 고려될 수 있다. 자원 풀 정보로 (pre-)configuration되는 경우는, 단말이 기지국과 RRC 연결을 수립한 이후, 단말 특정적인(UE-specific) 방법으로 설정되는 경우를 제외하고는 해당 자원 풀에서 동작하는 단말들에 게 모두 공통된 설정 정보를 통해 설정되는 경우를 포함할 수 있다. 일 실시예에 따라, 한편, (pre-)configuration이 자원 풀 정보에 설정되지 않는 방법은 기본적으로 자원 풀 설 정 정보와 독립적으로 설정되는 방법을 포함할 수 있다. 예를 들어, (pre-)configuration는 사이드링크 BWP(Bandwidth Part) 정보로 설정되어 모든 자원 풀에 동일하게 적용될 수도 있다. 또다른 예를 들어, 자원 풀 에 하나 이상의 모드가 (pre-)configuration되고(예를 들어, A, B, 그리고 C), 자원 풀 설정 정보와 독립적으로 (pre-)configuration된 정보를 통해 자원 풀에 (pre-)configuration된 모드 중 어떤 모드를 사용할지 여부(예 를 들어, A 또는 B 또는 C)가 지시될 수 있다. 일 실시예에 따라, 또한 사이드링크 유니캐스트 전송에서 (pre-)configuration은, PC5-RRC를 통해 설정될 수도 있다. 이와 달리, (pre-)configuration이 MAC-CE를 통해 설정되는 방법도 고려될 수 있다. 본 개시의 다양한 실 시예들에 따라, 본 개시에서 (pre-)configuration된다고 함은 상술한 경우들이 모두 적용될 수 있음은 물론이다. 도 3의 경우를 참조하여, 자원 풀이 주파수 상에서 연속적으로 할당된 경우가 도시된다. 일 실시예에 따라, 주파수 축에서 자원 할당은, 사이드링크 BWP(Bandwidth Part) 정보로 설정될 수 있으며, 서브채널(sub- channel) 단위로 이루어질 수 있다. 서브채널은 하나 이상의 PRB(Phyical Resource Block)로 구성된 주파수 상 의 자원 할당 단위로 정의될 수 있다. 예를 들어, 서브채널은 PRB의 정수 배로 정의될 수 있다.일 실시예에 따라, 경우를 참조하여, 서브채널은 5개의 연속적인 PRB로 구성될 수 있으며, 서브채널 크기 (sizeSubchannel)는 5개의 연속적인 PRB의 크기일 수 있다. 다만, 본 개시의 다양한 실시예들에 따라, 도 3에 도시된 내용은, 본 개시의 일 예시일 뿐이며, 서브채널의 크기는 다르게 설정될 수 있고, 하나의 서브 채널은 연속적인 PRB로 구성되는 것이 일반적이나, 반드시 연속적인 PRB로 구성되지 않을 수 있음은 물론이다. 일 실시예에 따라, 서브채널은 PSSCH(physical sidelink shared channel)에 대한 자원 할당의 기본 단위가 될 수 있다. 경우에서 startRB-Subchannel은, 자원 풀에서 주파수 상의 서브채널의 시작 위치를 지시할 수 있 다. 주파수 축에서 자원 할당이 서브채널 단위로 이루어지는 경우, 서브채널이 시작하는 RB(Resource Block) 인 덱스(startRB-Subchannel), 서브채널이 몇 개의 PRB로 구성되는지에 대한 정보(sizeSubchannel), 또는 서브채 널의 총 개수(numSubchannel) 등에 대한 설정 정보를 통해 주파수 상의 자원이 할당될 수 있다. 이 때 startRB- Subchannel, sizeSubchannel, 및 numSubchannel 등에 대한 정보는, 주파수 상 자원 풀 정보로 (pre- )configuration될 수 있다. 본 개시의 다양한 실시예들에 따라, 사이드링크에서 전송 자원을 할당하는 방법들 중 하나로서, 단말이 기지국 커버리지 내에 있는 경우, 기지국으로부터 사이드링크 전송 자원을 할당 받는 방법을 포함할 수 있다. 이하에서 이러한 방법은 Mode 1로 지칭될 수 있다. 예를 들어, Mode 1은 기지국이 RRC 연결된 단말들에게 전용적인 (dedicated) 스케줄링 방식을 통해 사이드링크 전송에 사용되는 자원을 할당하는 방법을 포함할 수 있다. Mode 1의 방법은 기지국이 사이드링크의 자원을 관리할 수 있기 때문에, 간섭 관리와 자원 풀의 관리에 효과적일 수 있다. 일 실시예에 따라, 이와 달리, 사이드링크에서 전송 자원을 할당하는 방법들 중에는 사이드링크에서 단말이 직 접 센싱을 통해 전송 자원을 할당하는 방법을 포함할 수 있다. 이하에서는 이러한 방법은 Mode 2로 지칭될 수 있다. Mode 2는, UE autonomous resource selection으로 지칭될 수도 있다. 기지국이 직접 자원 할당에 관여하 는 Mode 1과 달리, Mode 2에서는 전송 단말이 (pre-)configuration된 자원 풀에 기반하여 정의된 센싱 및 자원 선택 절차(procedure)를 통해 자율적으로 자원을 선택할 수 있고, 선택된 자원을 통해 데이터를 전송할 수 있다. 일 실시예에 따라, Mode1 또는 Mode2를 통한 전송 자원이 할당되면, 단말은 사이드링크를 통해 데이터 및 제어 정보를 송수신할 수 있다. 여기서 제어 정보는, PSCCH(Physical Sidelink Control Channel)을 통해 전송되는 1st stage SCI(Sidelink Control Information)로서, SCI format 1-A를 포함할 수 있다. 또한, 제어 정보는, PSSCH(Physical Sidelink Shared Channel)을 통해 전송되는 2nd stage SCI로서, SCI format 2-A 또는 SCI format 2-B 중 적어도 하나를 포함할 수 있다. 이하, 본 개시의 다양한 실시예들에 따른, 단말의 위치를 측정하는 포지셔닝(예를 들어, 위치 측정)을 위하여, 단말과 기지국 간의 하향링크 및 상향링크를 통해 전송되는 포지셔닝 신호(예를 들어, PRS(Positioning Reference Signal))를 이용한 구체적인 방안이 서술된다. 일 실시예에 따라, 본 개시에서 단말과 기지국의 하향링크 및 상향링크를 통해 전송되는 포지셔닝 신호를 이용 한 방법은, RAT(Radio Access Technology) dependent 포지셔닝으로 지칭될 수 있다. 또한 이외의 포지셔닝 방 법은, RAT-independent 포지셔닝으로 지칭될 수 있다. 구체적으로 LTE 시스템의 경우, RAT-dependent 포지셔닝 기법으로, OTDOA(Observed Time Difference Of Arrival), UTDOA(Uplink Time Difference Of Arrival), 또는 E-CID(Enhanced Cell Identification)와 같은 방 법을 포함할 수 있다. NR 시스템의 경우에는, DL-TDOA(Downlink Time Difference Of Arrival), DL- AOD(Downlink Angle-of-Departure), Multi-RTT(Multi-Round Trip Time), NR E-CID, UL-TDOA(Uplink Time Difference Of Arrival), UL-AOA(Uplink Angle-of-Arrival)와 같은 방법을 포함할 수 있다. 이와 달리, RAT- independent 포지셔닝 기법은, A-GNSS(Assisted Global Navigation Satellite Systems), Sensor, WLAN(Wireless Local Area Network), Bluetooth와 같은 방법들을 포함할 수 있다. 한편, 본 개시에서는, 주로 사이드링크를 통해 지원되는 RAT-dependent 포지셔닝 방법에 기반하여 구체적으로 서술된다. 기지국과 단말들 간의 인터페이스(예를 들어, 상향링크 및 하향링크, 이하 Uu로 명명)의 경우, RAT- dependent 포지셔닝은, 단말이 기지국 커버리지 안에 있을 경우에만 가능할 수 있다. 하지만 사이드링크의 RAT- dependent 포지셔닝은, 단말이 기지국 커버리지 안에 있을 경우에 한정되지 않을 수 있다.일 실시예에 따라, Uu에서의 RAT-dependent 포지셔닝의 경우, LPP(LTE Positioning Protocol), LPPa(LTE Positioning Protocol Annex) 또는 NRPPa(NR Positioning Protocol Annex)와 같은 포지셔닝 프로토콜이 사용될 수 있다. LPP는, 단말과 위치 서버(Location Server, LS)간에 정의된 포지셔닝 프로토콜로 간주될 수 있으며, LPPa 또는 NRPPa는, 기지국과 위치 서버 간에 정의된 프로토콜로 간주될 수 있다. 여기서 위치 서버는 위치 측 정을 관리(management)하는 주체로서, LMF(Location Management Function)의 기능을 수행할 수 있다. 또한 위 치 서버는 LMF 또는 다른 명칭으로도 명명될 수도 있다. LTE 및 NR 시스템의 경우, 모두 LPP가 지원될 수 있으 며, LPP를 통해 포지셔닝을 위한 다음과 같은 역할들 중 적어도 하나가 수행될 수 있다. * 포지셔닝 능력(capability) 교환 * 보조 데이터(assistance data) 전송 * 위치(location) 정보 전송 * 오류(error) 처리 * 중단(abort) 일 실시예에 따라, 단말과 위치 서버가 LPP를 통해 상술한 역할들을 수행하는데 있어서, 기지국은 단말과 위치 서버가 포지셔닝 정보를 교환하도록 중계하는 역할을 수행할 수 있다. 이때, LPP를 통한 포지셔닝 정보의 교환 은, 기지국에게 투명(transparent)하게 이루어 질 수 있다. 이는 단말과 위치 서버가 포지셔닝 정보를 교환하는 데 있어서, 기지국의 관여가 이루어지지 않음을 의미할 수 있다. 일 실시예에 따라, 포지셔닝 능력 교환의 경우, 단말은 지원 가능한 포지셔닝 정보를 위치 서버와 교환할 수 있 다. 예를 들어, 단말이 지원 가능한 포지셔닝 정보는, 단말이 지원하는 포지셔닝 방법이 UE-assisted인지, UE- based인지 또는 이 두 가지가 모두 가능한지 여부 중 적어도 하나에 대한 정보를 포함할 수 있다. 일 실시예에 따라, 여기서 UE-assisted의 경우, 단말은 직접 단말의 절대 위치를 측정하지 않고, 수신한 포지셔 닝 신호에 기반하여 포지셔닝 기법에 대한 측정 값을 위치 서버에게 전달할 수 있고, 단말의 절대 위치 (absolute position)는 위치 서버에서 계산될 수 있다. 여기서 절대 위치는 경도(longitude) 및 위도 (latitude)에 의한 단말의 2차원(x,y) 및 3차원(x,y,z) 좌표 위치 정보를 의미할 수 있다. 일 실시예에 따라, 이와 달리, UE-based의 경우, 단말이 직접 단말의 절대 위치를 측정하는 방식이 될 수 있으 며, 이를 위해서는 단말이 포지셔닝 신호의 수신과 함께, 포지셔닝 신호를 보낸 주체의 위치 정보를 함께 제공 받아야 할 필요가 있다. 일 실시예에 따라, LTE 시스템에서는 UE-assisted 방식만 지원됨에 반해, NR 시스템에서는 UE-assisted와 UE- based에 기반한 포지셔닝이 모두 지원될 수 있다. 일 실시예에 따라, 정확한 단말의 위치를 측정하는데 있어서, 보조 데이터(assistance data)의 전송은 포지셔닝 에서 매우 중요한 요소일 수 있다. 구체적으로 보조 데이터는, 위치 서버가 단말에게 전송하는 포지셔닝 신호에 대한 설정 정보 및 포지셔닝 신호를 수신할 후보 셀 및 TRP(Transmission Reception Point) 정보 등을 포함할 수 있다. 구체적으로 DL-TDOA가 사용되는 경우, 포지셔닝 신호를 수신할 후보 셀 및 TRP 정보는, 기준 셀 (reference cell), 기준 TRP(reference TRP), 이웃 셀(neighbor cell) 또는 이웃 TRP(neighbor TRP) 중 적어도 하나에 대한 정보를 포함할 수 있다. 또한 보조 데이터는, 이웃 셀 또는 이웃 TRP에 대한 후보들이 복수 개 제 공될 경우, 단말이 어떠한 셀 및 TRP를 선택하여 포지셔닝 신호를 측정하는 것이 좋은지에 대한 정보를 함께 포 함할 수도 있다. 일 실시예에 따라, 단말이 정확한 위치를 측정하기 위해서는, 기준이 되는 후보 셀 및 TRP 정보를 잘 선택하여 야 할 필요가 있다. 예를 들어, 단말이 해당 후보 셀 및 TRP로부터 수신한 포지셔닝 신호에 대한 채널이 LOS(Line-Of-Site) 채널일수록(예를 들어, NLOS(Non-LOS) 채널 성분을 적게 가지고 있는 채널일수록), 포지셔닝 측정의 정확도가 높아질 수 있다. 따라서 위치 서버가 보다 다양한 정보 수집을 통해 포지셔닝을 수행하는데 기 준이 되는 후보 셀 및 TRP 정보를 단말에게 제공할 줄 경우, 단말은 보다 정확한 포지셔닝 측정을 수행할 수 있 다. 일 실시예에 따라, 위치(location) 정보 전송이 LPP를 통해서 이루어 질 수 있다. 위치 서버는 단말에게 위치정 보를 요청할 수 있으며, 단말은 해당 요청에 따라 측정된 위치 정보를 위치 서버에게 제공할 수 있다. 일 실시예에 따라, UE-assisted인 경우, 해당 위치 정보는 포지셔닝 신호에 기반한 포지셔닝 기법에 대한 측정 값을 포함할 수 있다. 일 실시예에 따라, 이와 달리, UE-based인 경우, 해당 위치 정보는, 단말의 2차원(x,y) 및 3차원(x,y,z) 좌표 위치 값을 포함할 수 있다. 일 실시예에 따라, 위치 서버는 단말에게 위치 정보를 요청할 때, 요구되는 정확도(accuracy) 및 응답 시간 (response time) 등을 포지셔닝 QoS(Quality of Service) 정보로서 포함하여 요청할 수 있다. 해당 포지셔닝 QoS 정보가 요청되는 경우, 단말은 해당 정확도 및 응답 시간을 만족하도록 측정된 위치 정보를, 위치 서버에게 제공해 주어야 할 필요가 있다. 만약 QoS를 만족시키는 것이 불가능할 경우, 단말은 오류 처리 및 중단(abort) 을 고려할 수 있다. 다만, 이는 일 예시일뿐, QoS를 만족시키는 것이 불가능한 경우 외에, 다른 경우에서도 포 지셔닝에 대한 오류 처리 및 중단이 수행될 수 있음은 물론이다. 일 실시예에 따라, 기지국과 위치 서버 간에 정의된 포지셔닝 프로토콜의 경우, LTE 시스템에서는 LPPa로 명명 될 수 있으며, 기지국과 위치 서버 간에 다음과 같은 기능들 중 적어도 하나가 수행될 수 있다. * E-CID 위치 정보 전송 * OTDOA 정보 전송 * 일반적인 오류(error) 상태 보고 * 보조(assistance) 정보 전송 일 실시예에 따라, 기지국과 위치 서버 간에 정의된 포지셔닝 프로토콜의 경우, NR 시스템에서는 NRPPa로 명명 될 수 있으며, 상술한 LPPa가 수행하는 역할을 포함하여, 추가적으로 기지국과 위치 서버 간에 다음과 같은 기 능들 중 적어도 하나가 수행될 수 있다. * 포지셔닝 정보 전송 * 측정(Measurement) 정보 전송 * TRP 정보 전송 본 개시의 다양한 실시예들에 따라, NR 시스템에서는 LTE 시스템과 달리 더 많은 포지셔닝 기법들이 지원될 수 있다. 따라서 상술한 포지셔닝 정보 전송을 통한 다양한 포지셔닝 기법들이 지원될 수 있다. 예를 들어, 단말이 전송한 포지셔닝 SRS(Sounding Reference Signal)를 통해, 기지국은 포지셔닝 측정을 수행할 수 있다. 따라서 포지셔닝 정보로서, 포지셔닝 SRS 설정 및 활성화/비활성화와 관련된 정보가 기지국과 위치 서버 간에 교환될 수 있다. 일 실시예에 따라, 측정 정보의 전송은, LTE 시스템에서는 지원되지 않는 Multi-RTT, UL-TDOA, UL-AOA관련 정보 를, 기지국과 위치 서버 간에 교환하는 기능을 의미할 수 있다. 일 실시예에 따라, TRP 정보 전송은 LTE 시스템 에서는 셀 기반으로 포지셔닝이 수행되었지만, NR 시스템에서는 TRP를 기반으로 포지셔닝이 수행될 수도 있기 때문에, 단말, 기지국 또는 위치 서버 간에 TRP를 기반으로 포지셔닝을 수행하는 것과 관련된 정보가 교환될 수 있다. 본 개시의 다양한 실시예들에 따라, 사이드링크에서 단말의 위치를 측정하기 위해 포지셔닝 관련 설정을 수행하 는 주체와 포지셔닝을 계산하는 주체는, 다음과 같이 3가지 경우로 구분될 수 있다. * UE (no LS) * LS (through BS) * LS (through UE) 일 실시예에 따라, 상술한 LS(Location Sever)는 위치 서버를 의미할 수 있으며, BS(Base Station)는 gNB 또는 eNB와 같은 기지국을 의미할 수 있으며, 및 UE는 사이드링크를 통해 송수신을 수행하는 단말을 의미할 수 있다. 상술한 바와 같이 사이드링크를 통해 송수신을 수행하는 단말은, 차량 단말 및 보행자 단말을 포함할 수 있다.또한, 사이드링크를 통해 송수신을 수행하는 단말은, 단말 기능을 장착한 RSU(road side unit), 기지국 기능을 장착한 RSU, 또는 기지국 기능의 일부 및 단말 기능의 일부를 장착한 RSU를 포함할 수 있다. 또한, 사이드링크 를 통해 송수신을 수행하는 단말은, 단말의 위치가 알려져 있는 PRU(Positioning Reference Unit)를 포함할 수 있다. 일 실시예에 따라, UE (no LS)는 위치 서버와 연결이 없는 사이드링크 단말을 의미할 수 있다. 일 실시예에 따라, LS (through BS)는 위치 서버로서, 기지국과 연결된 위치 서버를 의미할 수 있다. 일 실시예에 따라, 이와 달리, LS (through UE)는 위치 서버로서, 사이드링크 단말과 연결된 위치 서버를 의미 할 수 있다. 예를 들어, LS (through UE)는, 단말이 기지국 커버리지 내에 있지 않은 경우에도, 위치 서버가 이 용 가능한 경우를 의미할 수 있다. 일 실시예에 따라, 이때 일반적인 단말이 아닌 RSU나 PRU와 같은 특정 단말에게만, LS (through UE)가 이용 가 능할 수도 있다. 일 실시예에 따라, 사이드링크에서 위치 서버와 연결된 단말은, 새로운 단말(new type of device)로서 정의될 수 있다. 일 실시예에 따라, 위치 서버와 연결되는 UE 능력(capability)을 지원하는 특정 단말만이, 사이드링크를 통해 위치 서버와 연결되는 기능을 수행할 수도 있다. 본 개시의 다양한 실시예들에 따라, 표 1을 참조하여, 경우 1 내지 경우 9는 사이드링크에서 단말의 위치를 측 정하기 위해 포지셔닝 관련 설정을 수행하는 주체와 포지셔닝을 계산하는 주체에 따른 다양한 조합을 나타낸다. 일 실시예에 따라, 단말의 위치 측정이 필요한 단말은 Target 단말로 지칭될 수 있다. 또한 단말의 위치가 알려 져 있거나, Target 단말의 위치 측정을 위해 포지셔닝 신호를 제공할 수 있는 단말은 Anchor 단말로 지칭될 수 있다. 따라서 Anchor 단말은 자신의 위치 정보를 가지고 있을 수 있으며, SL PRS(Sidelink Positioning Reference Signal)를 통해 단말의 위치 정보를 함께 제공할 수도 있다. 일 실시예에 따라, 예를 들어, Anchor 단말의 경우, 이미 위치를 알고 있는 (known location) 단말일 수 있다. 하지만 Anchor 단말은 자신의 위치를 알지 못하는 (unknown location) 단말일 수도 있다. 일 실시예에 따라, Anchor 단말이 이미 위치를 알고 있는 (known location) 단말인 경우, 해당 위치 정보가 Target 단말에게 전달될 수 있고, Target 단말은 UE-based에 기반한 포지셔닝을 수행할 수 있다. 다양한 실시예들에 따라, Target 단말 및 Anchor 단말에 대한 명칭은 다른 용어로 대체될 수도 있음은 물론이다. 예를 들어, Anchor 단말은 PosRef(Positioning Reference) 단말로 명명될 수도 있다. 일 실시예에 따라, 포지셔닝 설정은 UE-configured와 Network-configured 방식으로 구분될 수 있다. 표 1을 참 조하여, 포지셔닝 설정이 UE (no LS)인 경우, UE-configured 방식에 해당될 수 있다. 일 실시예에 따라, UE- configured 방식의 경우, 단말이 네트워크(기지국) 커버리지 내에 있지 않은 경우에도, 포지셔닝 설정이 가능한 장점이 있다. 일 실시예에 따라, 표 1을 참조하여, 포지셔닝 설정이 LS (through BS)인 경우, Network-configured 방식에 해 당될 수 있다. 일 실시예에 따라, Network-configured 방식의 경우, 단말이 네트워크 커버리지 내에 있는 경우 로서, 기지국에게 포지셔닝 계산 및 측정 정보를 보고(reporting)하여, 기지국과 연결된 위치 서버에서 Target UE의 위치 측정을 수행하기 때문에, 위치 측정과 관련된 시그널링에 의해 지연(delay)이 발생할 수 있지만, 보 다 정확한 위치 측정이 가능할 수 있다. 일 실시예에 따라, 표 1을 참조하여, 포지셔닝 설정이 LS (through UE)인 경우, 단말이 네트워크 커버리지 내에 서 기지국을 통해 설정되는 방식이 아니기 때문에, Network-configured 방식으로 구분되지 않을 수 있다. 또한 단말과 연결된 위치 서버가 설정을 제공할 수 있으나, 단말이 설정하는 것으로 구분되지 않을 경우에는 UE- configured 방식으로 구분되지 않을 수 있다. 하지만, 단말이 설정하는 것으로 구분된 경우에, UE-configured 방식으로 구분될 수도 있을 것이다. 따라서 LS (through UE)인 경우, UE-configured 또는 Network-configured 방식이 아닌 다른 방식을 포함할 수도 있다. 다양한 실시예들에 따라, 포지셔닝 계산은 상술한 바와 같이 UE-assisted와 UE-based의 두 가지 방식으로 구분 될 수 있다. 표 1에서, 포지셔닝 계산이 UE (no LS)인 경우는 UE-based에 해당될 수 있거나, 포지셔닝 계산이 LS (through BS) 또는 LS (through UE)인 경우는 일반적으로 UE-assisted에 해당될 수 있다. 하지만 포지셔닝 계산이 LS (through UE)이고, 해당 위치 서버가 단말로 해석되는 경우, LS (through UE)는 UE-based로 분류될수도 있을 것이다. [표 1]"}
{"patent_id": "10-2023-0130683", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "다양한 실시예들에 따라, 표 1을 참조하여, 포지셔닝 설정 정보는, SL PRS(Sidelink Positioning Reference Signal) 설정 정보를 포함할 수 있다. SL PRS 설정 정보는, SL PRS의 패턴 정보 또는 시간/주파수 전송 위치에 관련된 정보를 포함할 수 있다. 일 실시예에 따라, 표 1을 참조하여, 포지셔닝 계산은, 단말이 SL PRS를 수신한 후, 수신한 SL PRS로부터 측정 이 수행될 수 있으며, 적용된 포지셔닝 방법에 따라서 포지셔닝 측정 및 계산 방법이 달라질 수 있다. 일 실시 예에 따라, 사이드링크에서 위치 정보의 측정은, 단말의 2차원(x,y) 및 3차원(x,y,z) 좌표 위치 값을 제공하는 absolute 포지셔닝을 포함할수도 있으며, 다른 단말로부터 상대적인 2차원 또는 3차원 위치 정보를 제공하는 relative 포지셔닝을 포함할수도 있다. 또한, 사이드링크에서 위치 정보는, 다른 단말로부터의 거리(distance) 또는 방향 (direction) 중 적어도 하나를 포함하는 범위(ranging) 정보를 포함할 수 있다. 일 실시예에 따라, 만약, 사이드링크에서 범위의 의미가 거리와 방향 정보를 모두 포함하는 경우, 범위는 relative 포지셔닝과 동 일한 의미일 수 있다. 일 실시예에 따라, 포지셔닝 방법으로 SL-TDOA(Sidelink Time Difference Of Arrival), SL-AOD(Sidelink Angle-of-Departure), SL Multi-RTT(Sidelink Multi-Round Trip Time), SL RTT(Sidelink Round Trip Time), Sidelink E-CID 또는 SL-AOA(Sidelink Angle-of-Arrival) 등의 방법이 고려될 수 있음은 물 론이다. 도 4 내지 도 6은 본 개시의 다양한 실시예들에 따른, 사이드링크를 통해 단말의 위치를 계산하기 위한 일 예시 를 도시한다. 하지만 본 개시의 다양한 실시예들에 따라, 사이드링크를 통해 단말의 위치를 계산하는 경우는, 도 4 내지 도 6에 도시된 경우에 한정되지 않는다. 도 4 내지 도 6을 참조하여, 포지셔닝 설정 정보의 시그널링은 제1 점선으로 도시되며, SL PRS의 전송은 제2 점 선으로 도시되며, SL PRS 전송의 경우 양 방향 또는 단 방향으로 시그널링이 수행될 수 있다. 포지셔닝을 위해 측정된 정보 또는 측정된 포지셔닝 정보의 전송은 제3 점선으로 도시되며, 및 단말이 알고 있는 위치 정보(예를 들어, known location)의 전송은 제4 점선으로 도시된다. 도 4의 (a)는, 위치 서버와 연결이 없는 사이드링크 단말이 포지셔닝 설정을 제공하고, 위치 서버와 연결이 없 는 Target 단말이 포지셔닝 계산을 수행하는 경우에 대한 예시를 나타낸다. 도 4의 (a)는, 표 1의 경우 1에 해 당될 수 있다. 도 4의 (a)의 경우, Target 단말은 다른 단말에게 포지셔닝 관련 설정 정보에 대한 지시를, 사이 드링크를 통해 브로트캐스트, 유니캐스트, 또는 그룹캐스트에 기반하여 전달할 수 있다. 또한 Target 단말은 제 공받은 포지셔닝 신호에 기반하여 포지셔닝 계산을 수행할 수 있다. 도 4의 (b)는, 위치 서버와 연결이 없는 사이드링크 단말이 포지셔닝 설정을 제공하고, Target 단말이 네트워크 커버리지 내에 위치하여 기지국과 연결된 위치 서버에서 포지셔닝 계산을 수행하는 경우에 대한 예시를 나타낸다. 도 4의 (b)는, 표 1의 경우 2에 해당될 수 있다. 도 4의 (b)의 경우, Target 단말은 다른 단말에게 포지셔 닝 관련 설정 정보에 대한 지시를, 사이드링크를 통해 브로트캐스트, 유니캐스트, 또는 그룹캐스트에 기반하여 전달할 수 있다. 또한 Target 단말은 제공받은 포지셔닝 신호에 기반하여 포지셔닝 측정을 수행하고, Target 단 말이 기지국 커버리지 내에 있기 때문에 측정된 포지셔닝 정보를 기지국으로 보고할 수 있다. 따라서, 해당 측 정 정보는 기지국과 연결된 위치 서버에게 보고되어, 위치 서버는 포지셔닝 계산을 수행할 수 있다. 도 4의 (c)는, 위치 서버와 연결이 없는 사이드링크 단말이 포지셔닝 설정을 제공하고, 위치 서버와 연결된 사 이드링크 단말을 통해 위치 서버가 포지셔닝 계산을 수행하는 경우에 대한 예시를 나타낸다. 도 4의 (c)는, 표 1의 경우 3에 해당될 수 있다. 도 4의 (c)의 경우, Target 단말은 다른 단말에게 포지셔닝 관련 설정 정보에 대 한 지시를, 사이드링크를 통해 브로트캐스트, 유니캐스트, 또는 그룹캐스트에 기반하여 전달할 수 있다. 또한 Target 단말은 제공받은 포지셔닝 신호에 기반하여 포지셔닝 측정을 수행하고, Target 단말이 위치 서버와 연결 된 단말과의 사이드링크 커버리지 내에 있기 때문에 측정된 포지셔닝 정보를 위치 서버와 연결된 단말에게 보고 할 수 있다. 일 실시예에 따라, 도 4의 (c)는 위치 서버와 연결된 단말이 Anchor 단말(RSU)로 도시되었으나, RSU가 아닌 단말이 될 수도 있음은 물론이다. 이후, 해당 측정 정보가 Anchor 단말(RSU)과 연결된 위치 서버에 게 보고되어, 위치 서버는 포지셔닝 계산을 수행할 수 있다. 도 5의 (a)는, 사이드링크 단말이 네트워크 커버리지 내에 위치하여 기지국과 연결된 위치 서버에서 포지셔닝 설정을 제공하고, 위치 서버와 연결이 없는 Target 단말이 포지셔닝 계산을 수행하는 경우에 대한 예시를 나타 낸다. 도 5의 (a)는, 표 1의 경우 4에 해당될 수 있다. 도 5의 (a)의 경우, LPP와 같은 포지셔닝 프로토콜을 사 용하여, 기지국와 연결된 위치 서버는 포지셔닝 설정 정보를 제공할 수 있다. 또한 Target 단말은 제공받은 설 정 정보 및 포지셔닝 신호에 기반하여, 포지셔닝 계산을 수행할 수 있다. 도 5의 (b)는, 사이드링크 단말이 네트워크 커버리지 내에 위치하여 기지국과 연결된 위치 서버에서 포지셔닝 설정을 제공하고, Target 단말이 네트워크 커버리지 내에 위치하여 기지국과 연결된 위치 서버가 포지셔닝 계산 을 수행하는 경우에 대한 예시를 나타낸다. 도 5의 (b)는, 표 1의 경우 5에 해당될 수 있다. 도 5의 (b)의 경우, LPP와 같은 포지셔닝 프로토콜을 사용하여, 기지국과 연결된 위치 서버는 포지셔닝 설정 정보를 제공할 수 있다. 또한 Target 단말은 제공받은 설정 정보 및 포지셔닝 신호에 기반하여 포지셔닝 측정을 수행하고, Target 단말이 기지국 커버리지 내에 있기 때문에 측정된 포지셔닝 정보가 기지국에게 보고될 수 있다. 이에 따 라, 해당 측정 정보가 기지국과 연결된 위치 서버에게 보고되어, 위치 서버는 포지셔닝 계산을 수행할 수 있다. 도 5의 (c)는, 사이드링크 단말이 네트워크 커버리지내에 위치하여 기지국과 연결된 위치 서버에서 포지셔닝 설 정을 제공하고, 위치 서버와 연결된 사이드링크 단말을 통해 위치 서버가 포지셔닝 계산을 수행하는 경우에 대 한 예시를 나타낸다. 도 5의 (c)는, 표 1의 경우 6에 해당될 수 있다. 도 5의 (c)의 경우, LPP와 같은 포지셔닝 프로토콜을 사용하여, 기지국와 연결된 위치 서버가 포지셔닝 설정 정보를 제공할 수 있다. 또한 Target 단말은 제공받은 설정 정보 및 포지셔닝 신호에 기반하여 포지셔닝 측정을 수행하고, Target 단말이 위치 서버와 연결 된 단말과 사이드링크 커버리지 내에 있기 때문에, 측정된 포지셔닝 정보는 위치 서버와 연결된 단말에게 보고 될 수 있다. 일 실시예에 따라, 도 5의 (c)는 위치 서버와 연결된 단말을 Anchor 단말(RSU)로 도시하였으나, RSU가 아닌 단말이 될 수도 있음은 물론이다. 이후, 해당 측정 정보는 Anchor 단말(RSU)과 연결된 위치 서버에 게 보고되어, 위치 서버는 포지셔닝 계산을 수행할 수 있다. 도 6의 (a)은, 위치 서버와 연결된 사이드링크 단말을 통해 위치 서버가 포지셔닝 설정을 제공하고, 위치 서버 와 연결이 없는 Target 단말이 포지셔닝 계산을 수행하는 경우에 대한 예시를 나타낸다. 도 6의 (a)는 표 1의 경우 7에 해당될 수 있다. 도 6의 (a)의 경우, LPP와 같은 포지셔닝 프로토콜이 사용되어, 단말과 연결된 위치 서버는 포지셔닝 설정 정보를 제공할 수 있다. 또한 Target 단말은 제공받은 설정 정보 및 포지셔닝 신호에 기 반하여 포지셔닝 계산을 수행할 수 있다. 도 6의 (b)는, 위치 서버와 연결된 사이드링크 단말을 통해 위치 서버에서 포지셔닝 설정을 제공하고, Target 단말이 네트워크 커버리지 내에 위치하여 기지국과 연결된 위치 서버에서 포지셔닝 계산을 수행하는 경우에 대 한 예시를 나타낸다. 도 6의 (b)는 표 1의 경우 8에 해당될 수 있다. 도 6의 (b)의 경우, LPP와 같은 포지셔닝 프로토콜이 사용되어 단말과 연결된 위치 서버는 포지셔닝 설정 정보를 제공할 수 있다. 또한 Target 단말은 제 공받은 설정 정보 및 포지셔닝 신호에 기반하여 포지셔닝 측정을 수행하고, Target 단말이 기지국 커버리지내에있기 때문에 측정된 포지셔닝 정보는 기지국에게 보고될 수 있다. 이후, 해당 측정 정보는 기지국과 연결된 위 치 서버에게 보고되어, 위치 서버는 포지셔닝 계산을 수행할 수 있다. 도 6의 (c)는, 위치 서버와 연결된 사이드링크 단말을 통해 위치 서버가 포지셔닝 설정을 제공하고, 위치 서버 와 연결된 사이드링크 단말을 통해 위치 서버가 포지셔닝 계산을 수행하는 경우에 대한 예시를 나타낸다. 도 6 의 (c)는 표 1의 경우 9에 해당될 수 있다. 도 6의 (c)의 경우, LPP와 같은 포지셔닝 프로토콜이 사용되어 단말 과 연결된 위치 서버는 포지셔닝 설정 정보를 제공할 수 있다. 또한 Target 단말은 제공받은 설정 정보 및 포지 셔닝 신호에 기반하여 포지셔닝 측정을 수행하고, Target 단말이 위치 서버와 연결된 단말과 사이드링크 커버리 지 내에 있기 때문에 측정된 포지셔닝 정보는 위치 서버와 연결된 단말에게 보고될 수 있다. 일 실시예에 따라, 도 6의 (c)는 위치 서버와 연결된 단말을 Anchor 단말(RSU)로 도시하였으나, RSU가 아닌 단말이 될 수도 있음은 물론이다. 이후, 해당 측정 정보는 Anchor 단말(RSU)과 연결된 위치 서버에게 보고되어, 위치 서버는 포지셔닝 계산을 수행할 수 있다. 본 개시의 다양한 실시예들에 따라, 포지셔닝 설정은 포지셔닝에 대한 요청(예를 들어, Location Service Request)이 발생된 경우에 수행될 수 있다. 일 실시예에 따라, 표 1을 참조하여, 포지셔닝 설정을 수행하는 주체는 UE (no LS), LS (through BS), 또는 LS (through UE)가 될 수 있다. 여기서 LS (through UE)는 단말에 위치 서버가 설치되어 있는 경우 또는 연결된 경 우로서, Server 단말이라고 명명될 수 있다. 다양한 실시예들에 따라, Server 단말이 될 수 있는 단말은 특정 단말로 한정되지 않음은 물론이다. 예를 들어, Target 단말이 Server 단말이 될 수도 있고, 또는 Anchor 단말이 Server 단말이 될 수도 있을 것이다. 이와 달리, Target 단말 및 Anchor 단말이 아닌 다른 단말이 Server 단말 이 될 수도 있다. 여기서 Server 단말에 대한 명칭은 이와 유사한 의미를 갖는 다른 용어로 대체될 수 있음은 물론이다. 일 실시예에 따라, 포지셔닝 설정을 수행하는 주체는, 사이드링크 포지셔닝을 수행하는 Target 단말 및 Anchor 단말(들)을 결정할 수 있다. 포지셔닝 설정을 수행하는 주체는, Absolute 포지셔닝을 수행하는 경우, 복수 개의 Anchor 단말들을 후보 단말들로 결정할 수 있다. 포지셔닝 설정을 수행하는 주체는, discovery 절차를 통해 사 이드링크 포지셔닝을 수행할 수 있는 Target 단말 및 Anchor 단말(들)을 발견할 수 있다. 다양한 실시예들에 따 라, 포지셔닝 설정을 수행하는 주체가 discovery를 수행하는 절차는 특정 방법으로 한정되지 않는다. 예를 들어, 포지셔닝 설정을 수행하는 주체는, Target 단말 및 Anchor 단말(들)을 발견하고, 해당 단말들에게 포지셔 닝 신호를 전송하거나 포지셔닝 측정 결과를 보고하도록 트리거링(triggering) 할 수 있다. 여기서 포지셔닝 신 호는 SL PRS(Sidelink Positioning Reference Signal)를 포함할 수 있다. 본 개시의 다양한 실시예들에 따라, 사이드링크에서 지원되는 포지셔닝 방법에 따라 포지셔닝 신호를 전송을 트 리거링하거나 포지셔닝 측정 결과를 요청하는 단말 동작 및 이러한 지시를 받은 단말의 동작들이 구체적으로 서 술된다. 아래의 실시예들에 따라, 사이드링크를 통해 전송되는 SL PRS를 이용하여 사이드링크 포지셔닝을 수행하는 방법 이 서술된다. 도 7은 본 개시의 다양한 실시예들에 따른, 사이드링크 위치 측정의 다양한 예시들을 도시한다. 보다 구체적으 로, 도 7은 SL-RTT(Sidelink Round Trip Time), SL-RSTD(Sidelink Reference Signal Time Difference), SL- RTOA(Sidelink Relative Time of Arrival) 및 SL-AoA(Sidelink Angle of Arrival)를 도시한다. 하지만 다양한 실시예들에 따라, 본 발명의 사이드링크 포지셔닝 방법은 이에 한정되지 않음은 물론이다. 도 7을 참조하여, 포지셔닝 설정을 수행하는 주체가 도시 되지 않았음에 주목한다. 일 실시예에 따라, 표 1을 참조하여 상술한 바와 같이, UE (no LS), LS (through BS), 또는 LS (through UE)는, 포지셔닝 설정을 수행하 는 주체가 될 수 있다. LS (through UE)는 Server 단말로 지칭될 수 있으며, Server 단말은 Target 단말, 또다 른 anchor 단말, Target 단말 및 anchor 단말이 아닌 다른 단말이 될 수 있음은 물론이다. 예를 들어, Server 단말은 RSU(Road Side Unit)와 단말이 될 수도 있을 것이다. 다양한 실시예들에 따라, 도 7의 (a)를 참조하여, 사이드링크를 통해 전송되는 SL PRS를 이용하여 SL-RTT (Sidelink Round Trip Time)가 수행되는 방법이 서술된다. 도 7의 (a)를 참조하여, Target 단말은, SL-RTT 측정을 위해 주변 Anchor 단말에게 SL PRS를 전송할 수 있다. 이때, Target 단말의 SL PRS 전송에 대한 트리거링 은 단말 자신(예를 들어, UE (no LS)), BS와 연결된 위치 서버(예를 들어, LS (through BS)), 또는 Server 단 말(예를 들어, LS (through UE))를 포함할 수 있다. 일 실시예에 따라, Target 단말이 SL-RTT 측정을 수행하기 위해서, Anchor 단말(들)은 Target 단말이 전송한 SL PRS를 수신하고 Target 단말에게 SL PRS를 전송할 수 있다. Anchor 단말(들)은 Target 단말이 전송한 SL PRS를 수신하고 Target 단말에게 SL PRS를 전송하는 시간차(예를 들어, Rx-Tx time difference)를 보고할 필요가 있 다. 일 실시예에 따라, Anchor 단말(들)이 Target 단말에게 전송하는 SL PRS 전송에 대한 트리거링 및 Rx-Tx time difference 보고에 대한 요청은 단말 자신(예를 들어, UE (no LS)), BS와 연결된 위치 서버(예를 들어, LS (through BS)), 또는 Server 단말(예를 들어, LS (through UE))를 포함할 수 있다. 이하, 실시예 1은 Anchor 단말(들)이 Target 단말에게 전송하는 SL PRS 전송에 대한 트리거링 및 Rx-Tx time difference 보고에 대한 요청이, Target 단말에 의해서 수행되는 경우를 고려한다. 이때 Target 단말은 Server 단말(예를 들어, LS (through UE)) 또는 위치 서버와 연결되지 않은 단말(예를 들어, UE (no LS))을 포함할 수 있다. 다양한 실시예들에 따라, 도 7의 (b)를 참조하여, 사이드링크를 통해 전송되는 SL PRS를 이용하여 SL- RSTD(Sidelink Reference Signal Time Difference)가 수행되는 방법이 서술된다. 도 7의 (b)를 참조하여, Target 단말의 SL-RSTD 측정을 위해 주변 Anchor 단말(들)은 Target 단말에게 SL PRS를 전송할 수 있다. 이때, Anchor 단말(들)의 SL PRS 전송에 대한 트리거링은, 단말 자신(예를 들어, UE (no LS)), BS와 연결된 위치 서버 (예를 들어, LS (through BS)), 또는 Server 단말(예를 들어, LS (through UE))를 포함할 수 있다. 이하, 실시 예 1은, Anchor 단말(들)의 SL PRS 전송에 대한 트리거링이 Target 단말에 의해서 수행되는 경우를 고려한다. 이때 Target 단말은, Server 단말(예를 들어, LS (through UE)) 또는 위치 서버와 연결되지 않은 단말(예를 들 어, UE (no LS))를 포함할 수 있다. 다양한 실시예들에 따라, 도 7의 (c)를 참조하여, 사이드링크를 통해 전송되는 SL PRS를 이용하여, SL- RTOA(Sidelink Relative Time of Arrival)가 수행되는 방법이 서술된다. 도 7의 (c)를 참조하여, Target 단말 의 포지셔닝을 위해 Target 단말은 주변 Anchor 단말에게 SL PRS를 전송할 수 있다. 이때, Target 단말의 SL PRS 전송에 대한 트리거링은 단말 자신(예를 들어, UE (no LS)), BS와 연결된 위치 서버(예를 들어, LS (through BS)), 또는 Server 단말(예를 들어, LS (through UE))를 포함할 수 있다. 일 실시예에 따라, Target 단말의 포지셔닝을 위해 Anchor 단말(들)은 Target 단말이 전송한 SL PRS를 수신하고 RTOA를 측정하여 Target 단말에게 보고할 수 있다. Anchor 단말(들)이 Target 단말에게 전송하는 RTOA 보고에 대한 요청은, 단말 자신(예를 들어, UE (no LS)), BS와 연결된 위치 서버(예를 들어, LS (through BS)), 또는 Server 단말(예를 들어, LS (through UE))를 포함할 수 있다. 일 실시예에 따라, 이하, 실시예 1은 Anchor 단말(들)이 Target 단말에게 전송한 SL PRS 전송에 대한 트리거링 및 Rx-Tx time difference 보고에 대한 요청이 Target 단말에 의해서 수행되는 경우를 고려한다. 이때 Target 단말은 Server 단말(예를 들어, LS (through UE)) 또는 위치 서버와 연결되지 않은 단말(예를 들어, UE (no LS))을 포함할 수 있다. 다양한 실시예들에 따라, 도 7의 (d)는 사이드링크를 통해 전송되는 SL PRS를 이용하여 SL-AoA(Sidelink Angle of Arrival)가 수행되는 방법을 서술한다. 도 7(d)를 참조하여, Target 단말의 SL-AoA 측정을 위해 주변 Anchor 단말(들)은 Target 단말에게 SL PRS를 전송할 수 있다. 이때, Anchor 단말(들)의 SL PRS 전송에 대한 트리거링은, 단말 자신(예를 들어, UE (no LS)), BS와 연결된 위치 서버(예를 들어, LS (through BS)), 또는 Server 단말(예를 들어, LS (through UE))를 포함할 수 있다. 이하, 실시예 1은 Anchor 단말(들)의 SL PRS 전 송에 대한 트리거링이 Target 단말에 의해서 수행되는 경우를 고려한다. 이때 Target 단말은 Server 단말(예를 들어, LS (through UE)) 또는 위치 서버와 연결되지 않은 단말(예를 들어, UE (no LS))을 포함할 수 있다. 도 8a 내지 도 8c는 본 개시의 다양한 실시예들에 따른, 사이드링크 통신을 위한 다양한 물리 계층 구조들의 예 시를 도시한다. 보다 구체적으로, 도 8a 내지 도 8c는 사이드링크 통신(예를 들어, 데이터 전송)을 위해 PSCCH/PSSCH가 전송되는 물리 계층 구조를 도시한다. 도 8a 내지 도 8c를 참조하여, PSCCH 심볼 길이는, 2 심볼 또는 3 심볼로 설정될 수 있다. 일 실시예에 따라, 맨 앞 심볼에 AGC심볼을 포함하여, PSCCH/PSSCH가 전송되는 영역의 Symbol length(ld)는 6부터 13까지가 될 수있다. 또한 맨 마지막 심볼에 하나의 Gap 심볼을 고려할 경우, 하나의 슬롯에서 SL operation을 위해 사용되는 심볼 길이(sl-LengthSymbols)는 {sym7, sym8, sym9, sym10, sym11, sym12, sym13, sym14} 중 하나의 값으로 설 정될 수 있다. 또한 하나의 슬롯에서 SL operation을 위해 사용되는 심볼의 시작 위치(sl-StartSymbol)는 {sym0, sym1, sym2, sym3, sym4, sym5, sym6, sym7} 중 하나의 값으로 설정될 수 있다. 도 8a 내지 도 8c는 sl-StartSymbol=sym0으로 설정된 경우를 도시한다. 일 실시예에 따라, PSSCH DMRS 심볼 수는, 2 심볼부터 4 심볼까지 설정될 수 있으며, 하나 또는 하나 이상의 PSSCH DMRS 심볼 수가 설정될 수 있다. 일 실시예에 따라, 하나 이상의 DMRS 심볼 수가 설정된 경우, 단말은 PSSCH DMRS 심볼 수를 결정하여 1st SCI를 통해 지시할 수 있다. 여기서 1st SCI는 PSCCH를 통해 전송될 수 있 다. 설정된 PSCCH 심볼 길이, 설정된 sl-LengthSymbols로부터 결정된 ld, 및 설정 및 결정된 DMRS 심볼 수로부 터 사이드링크 채널 및 기준 신호가 전송되는 다양한 경우들이 도 8a 내지 도 8c에 도시된다. 본 개시의 다양한 실시예들에 따라, SL PTRS(Sidelink Phase Tracking Reference Signal)는 PSSCH의 위상 트랙 킹(phase tracking)을 위한 기준 신호로서, 슬롯 내 SL PTRS가 전송되는 RE(Resource Element) 위치는 SL PTRS 패턴에 대한 시간 상 density 값( ), SL PTRS 패턴에 대한 주파수상 density 값( ), SL PTRS RE offset 값( ), 또는 SL PTRS RB offset 값( )등에 의해서 결정될 수 있다. 일 실시예에 따라, 표 2를 참조하여, SL PTRS 패턴에 대한 시간상 density 값( )이 도시된다. 표 2를 참 조하여 값은, 설정된 MCS range 값에 의해 결정될 수 있다. 예를 들어, 표 2와 같이 MCS range 값, ptrs-MCS1, ptrs-MCS2, ptrs-MCS3 및 ptrs-MCS4가 (pre-)configuration될 수 있고, 스케줄링된 MCS에 의해서 가 결정될 수 있다. ptrs-MCS4는 별도로 설정되지 않고, 사이드링크에 사용하는 MCS 테이블에서의 최대 MCS 값에 기반하여 결정될 수 있다. 구체적으로, 표 2에 따르면 ptrs-MCS1=5 ptrs-MCS2=10으로 설정된 경우, 스 케줄링된 MCS가 3일 때, PTRS는 전송되지 않을 수 있으며, 스케줄링 된 MCS가 7일 때, SL PTRS는 매 OFDM 심볼 마다 전송될 수 있다. [표 2]"}
{"patent_id": "10-2023-0130683", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "일 실시예에 따라, 이하, 표 3을 참조하여, SL PTRS 패턴에 대한 주파수상 density 값( )이 도시된다. 표 3을 참조하여, 값은, 설정된 주파수 range값에 의해 결정될 수 있다. 예를 들어, 표 3과 같이, 주파수 range값이 RB 수로 N_RB0, N_RB1와 같이 (pre-)configuration될 수 있고, 스케줄링된 RB 수에 의해서 는 결정될 수 있다. 구체적으로, 표 3에 따르면 N_RB0=4 또는 N_RB1=10으로 설정된 경우, 스케줄링된 RB 수가 2 일 때, PTRS는 전송되지 않을 수 있으며, 스케줄링된 RB 수가 20일 때, SL PTRS는 주파수 상 4 RB마다 전송될 수 있다. [표 3] 일 실시예에 따라, 이하, 표 4를 참조하여, SL PTRS RE offset ( )값이 도시된다. 표 4를 참조하여, DMRS configuration type1과 type2에 따라, DMRS 안테나 port에 대해서 PTRS가 전송되는 기준 RE 위치( )가 서술 된다. (pre-)configuration된 resourceElementOffset의 값에 따라, RB 내 PTRS가 전송되는 주파수 상 RE위치는 결정될 수 있다. 해당 값의 변경을 통해, SL PTRS가 전송되는 위치는 랜덤화(randomize)될 수 있다. 예를 들어, 해당 설정이 자원 풀마다 설정되는 경우, 자원 풀 간의 SL PTRS 간섭의 영향을 랜덤화(randomize)할 수 있는 효 과가 있을 수 있다. [표 4]"}
{"patent_id": "10-2023-0130683", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "일 실시예에 따라, SL PTRS RB offset 값( )은 PSCCH에 사용된 CRC(cyclic redundancy check)의 LBS(Least Significant Bit)에 해당되는 16 비트 값에 의해서 결정될 수 있다. 도 9는 본 개시의 다양한 실시예들에 따른, SL PTRS가 전송되는 위치의 예시를 도시한다. 보다 구체적으로, 도 9를 참조하여, , , , 및 등의 값에 의해서 결정된 SL PTRS가 전송되는 위치의 일 예시 가 도시된다. 일 실시예에 따라, 도 9를 참조하여, , , =2, 및 로 설정된 경우가 도시된다. 인 경우, 원칙적으로 2 OFDM 심볼마다 SL PTRS가 전송될 필요가 있으나, PSSCH DMRS가 전 송되는 심볼(예를 들어, 도 9의 심볼 index=2)에서는 PTRS가 전송되지 않을 수 있다. 이는 PTRS가 PSSCH DMRS와 동일한 시퀀스를 사용하기 때문에, PSSCH DMRS를 위상 트랙킹(phase tracking)에 사용할 수 있는 점에 기인한다. 또한, 도 9에서 심볼 index=12를 참조하여, 이전 심볼에 PSSCH DMRS가 전송되어, 이에 따라, 이는 위 상 트랙킹에 사용될 수 있기 때문에 SL PTRS 전송이 수행되지 않을 수 있고, 한 심볼 이동(shift)되어 다음 심 볼 index=13에서 PTRS가 전송될 수 있다. 본 개시의 다양한 실시예들에 따라, SL CSI-RS(Sidelink Channel State Information Reference Signal)는, PSSCH의 채널 상태를 파악하기 위한 기준 신호로서, CSI-RS의 전송은 유니캐스트 전송에 한정될 수 있거나, 또 는 SL CSI-RS가 전송되는 영역은 스케줄링된 PSSCH 영역에 한정되어 전송될 수 있다. 일 실시예에 따라, 슬롯 내 SL CSI-RS가 전송되는 RE 위치는, 주파수 RE 위치인 와 심볼 위치인 의 정보에 기반하여 결정될 수 있으 며 해당 정보는 PC5-RRC를 통해 설정될 수 있다. 도 10은 본 개시의 다양한 실시예들에 따른, SL(sidelink) CSI(channel state information)-RS(reference signal)를 전송하기 위한 자원의 일 예시를 도시한다. 보다 구체적으로, 도 10을 참조하여, 및 의 값에 의 해서 결정되는 SL CSI-RS가 전송되는 위치의 일 예시가 도시된다. 도 10을 참조하여, 도 10의 (a)에 1 port SL CSI-RS가 전송되는 경우와 도 10의 (b)에 2 port SL CSI-RS가 전 송되는 경우가 도시된다. 도 10과 같이, SL CSI-RS가 전송되는 RE의 주파수 위치 와 심볼 위치인 가 PC5- RRC를 통해 설정될 수 있고, 사이드링크 유니캐스트 송수신을 하는 단말은 설정 정보를 해석하고, 이에 따라 SL CSI-RS를 송수신 할 수 있다. 본 개시의 다양한 실시예들에 따라, 이하, 서술되는 실시예들 중 전부, 일부 또는 하나 이상의 일부의 조합 중 적어도 하나를 포함할 수 있음은 물론이다. <제1 실시예> 본 개시의 다양한 실시예들에 따라, 제1 실시예로서, SL PRS의 자원 정보 및 이에 대한 설정 방법이 서술된다. 특히 SL PRS가 사이드링크 통신(데이터 전송)이 수행되는 자원 풀(shared resource pool with SL communication로 명명될 수 있음)에서 전송되는 경우에 기반하여 서술된다. 다양한 실시예들에 따라, SL PRS가 사이드링크 통신(데이터 전송)이 수행되는 자원 풀에서 전송되는 경우, 아래 의 정보 중 적어도 하나가 (pre-)configuration 될 수 있다. * SL PRS 자원 정보 1: SL PRS 자원 ID * SL PRS 자원 정보 2: 슬롯에서 SL PRS의 심볼 시작 위치 및 심볼 수(M) * SL PRS 자원 정보 3: SL PRS의 Comb 사이즈(N) 및 Comb offset 정보 일 실시예에 따라, SL PRS 자원 정보 1는, SL PRS 자원 정보 2와 3에 의해서 결정되는 ID 정보를 포함할 수 있 다. 일 실시예에 따라, SL PRS가 사이드링크 통신(데이터 전송)이 수행되는 자원 풀에서 전송되는 경우, SL PRS 가 전송되는 주파수 자원 위치는, PSSCH의 전송 자원으로 할당된 주파수 자원의 위치에 의해서 결정될 수 있다. 따라서 하나의 SL PRS 자원은, SL PRS 자원 정보 1과 SL PRS가 전송되는 주파수 위치에 의해서 식별될 수 있다. 다양한 실시예들에 따라, SL PRS가 사이드링크 통신(데이터 전송)이 수행되는 자원 풀에서 전송될 때, SL PRS가 전송되는 심볼 영역은, SL PRS 자원 정보 2에 기반하여 결정될 수 있다. 일 실시예에 따라, 하나의 슬롯에서 PSSCH와 SL PRS가 TDM(Time domain multiplexing)되어 전송되는 경우가 고려될 수 있다. 하지만 SL PRS가 전송 되는 심볼 영역이 결정될 때, 아래의 조건들 중 적어도 하나가 추가적으로 만족될 필요가 있다. * 조건 1: SL PRS 자원으로 전송되는 심볼 길이는 {sym1, sym2, sym4} 중 하나의 값으로 설정될 수 있다. 하지 만 본 개시의 다양한 실시예들에 따라, SL PRS 자원으로 전송되는 심볼 길이는 {sym1, sym2, sym4}로 한정되지 않는다. 여기서 sym1, sym2, 그리고 sym4는, 각각 심볼 길이 1, 2, 그리고 4에 해당될 수 있다. * 조건 2: SL PRS 자원은 시간 상 연속적인 심볼에서 전송될 수 있다. * 조건 3: SL PRS 자원은 PSSCH DMRS가 전송되는 심볼에서 전송되지 않을 수 있다. * 조건 4: SL PRS 자원은 PSCCH가 전송되는 심볼에서 전송되지 않을 수 있다. * 조건 5: SL PRS 자원은 2nd SCI가 전송되는 심볼 이후에서 전송될 수 있다. 도 8a 내지 도 8c에서 2nd SCI가 전송되는 영역은 도시되지 않았지만, 2nd SCI는 첫 번째 PSSCH DMRS 심볼부터 매핑 되어 전송될 수 있음은 물론 이다. * 조건 6: SL PRS 자원은 첫 번째 PSSCH DMRS 심볼 이전에는 전송되지 않을 수 있다. * 조건 7: SL PRS 자원은 다른 기준 신호, 다른 채널, GAP 심볼, 또는 AGC 심볼들을 고려하여, 슬롯의 마지막 심볼 영역에 매핑될 수 있다. 이는 PSSCH 영역에 SL PRS 자원이 매핑 되는 가능한 조합을 최소화하기 위함이다. 가능한 조합이 최소화될 경우, SL PRS ID를 지시하는 정보의 비트 수를 줄일 수 있는 장점이 있다. 본 개시의 다양한 실시예들에 따라, 다만 본 발명에서 상술한 조건들에만 한정되지 않음은 물론이다. 도 11은 본 개시의 다양한 실시예들에 따른, 사이드링크 통신이 수행되는 자원 풀 상의 SL PRS(positioning reference signal)의 일 예시를 도시한다. 보다 구체적으로, 도 11를 참조하여, SL PRS가 사이드링크 통신(데이 터 전송)이 수행되는 자원 풀(shared resource pool with SL communication로 명명될 수 있음)에서 전송되는 경우, 상술한 조건 1 내지 조건 7에 기반하여 SL PRS가 전송될 수 있는 위치의 일 예시가 서술된다. 도 11을 참조하여, 하나의 슬롯에서 SL PRS가, PSSCH가 전송되는 영역의 일부에 TDM되어 전송되는 경우가 도시 된다. 구체적으로, 다양한 실시예들에 따라, 도 11(a)에 PSCCH 심볼 길이가 3 심볼, PSSCH DMRS 심볼 수는 2, 그리고 PSCCH/PSSCH가 전송되는 영역의 Symbol length (ld)가 12인 경우가 도시된다. 다양한 실시예들에 따라, 도 11(b)는 SL PRS의 심볼 길이 M=1로 설정된 경우를 도시한다. 상술한 조건 7에 따르 면, PSSCH의 매핑 가능한 슬롯의 마지막 영역에 SL PRS가 매핑 되어야 하므로 11(b-2)에서와 같이 심볼 index=7 에 SL PRS 심볼이 매핑되어 전송되도록 설정되지 않으며, 도 11(b-1)에서와 같이 심볼 index=11에 SL PRS 심볼 이 매핑되어 전송되도록 설정될 수 있다. 다양한 실시예들에 따라, 도 11(c)는 SL PRS의 심볼 길이 M=2로 설정된 경우를 도시한다. 상술한 조건 7에 따르 면 PSSCH의 매핑 가능한 슬롯의 마지막 영역에 SL PRS가 매핑되어야 하므로 11(c-2)에서와 같이 심볼 index=7, 8에 SL PRS 심볼이 매핑되어 전송되도록 설정되지 않으며, 도 11(c-1)에서와 같이 심볼 index=8, 9에 SL PRS 심 볼이 매핑되어 전송되도록 설정될 수 있다. 일 실시예에 따라, 조건 3에 의해 심볼 index=4, 10에 SL PRS가 매 핑 되도록 설정될 수 없으며, 또한 조건 2에 의해서 심볼 index=9, 11와 같이 비연속적인 심볼에서 SL PRS 심볼 이 매핑 되도록 설정될 수 없음에 주목한다. 다양한 실시예들에 따라, 도 11(d)는 SL PRS의 심볼 길이 M=4로 설정된 경우를 도시한다. 상술한 조건 7에 따르 면 PSSCH의 매핑 가능한 슬롯의 마지막 영역에 SL PRS가 매핑되어야 하므로, 도 11(d-2)에서와 같이 심볼 index=5, 6, 7, 8에 SL PRS 심볼이 매핑되어 전송되도록 설정되지 않으며, 도 11(d-1)에서와 같이 심볼 index=6, 7, 8, 9에 SL PRS 심볼이 매핑되어 전송되도록 설정될 수 있다. 일 실시예에 따라, 조건 3에 의해 심 볼 index=4, 10에 SL PRS가 매핑되도록 설정될 수 없으며, 또한 조건 2에 의해서 심볼 index=7, 8, 9, 11와 같 이 비연속적인 심볼에 SL PRS 심볼이 매핑되어 전송되도록 설정될 수 없음에 주목한다. 본 개시의 다양한 실시예들에 따라, SL PRS가 사이드링크 통신(데이터 전송)이 수행되는 자원 풀에서 전송될 때, SL PRS가 전송되는 주파수 영역은, 상술한 SL PRS 자원 정보 3에 의해서 결정될 수 있다. 도 12a 및 도 12b는 본 개시의 다양한 실시예들에 따른, SL PRS가 전송되는 주파수 패턴을 도시한다. 보다 구체 적으로, 도 12a 및 도 12b를 참조하여, SL PRS의 심볼 길이 M과 SL PRS comb size N에 대한 조합(M, N)인, (M, N)=(1, 1), (M, N)=(1, 2), (M, N)=(2, 1), (M, N)=(2, 2), (M, N)=(2, 4), (M, N)=(4, 1), (M, N)=(4, 2), 및 (M, N)=(4, 4)의 경우에 대한 SL PRS의 주파수 패턴이 도시된다. 다만, 본 개시의 다양한 실시예들에 따라, SL PRS 주파수 패턴은 도 12a 및 도 12b에 도시된 패턴에 한정되지 않음은 물론이다. 일 실시예에 따라, SL PRS comb size 및 SL PRS의 심볼 index에 따라, 표 5와 같은 staggered pattern이 적용될 수 있다. [표 5] - Comb size 및 심볼 마다 적용되는 offset (staggered pattern offset) 정보"}
{"patent_id": "10-2023-0130683", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "일 실시예에 따라, 표 5를 참조하여, SL PRS의 심볼 길이(M)가 Come size(N)보다 큰 경우(M>N), 마지막 (M- N)심볼들에서 첫 N 심볼의 comb offset이 동일하게 반복되어 적용될 수 있다. 다양한 실시예들에 따라, 도 12(이하, 도 12a 또는 도 12b를 의미)의 (a)는, SL PRS의 심볼 길이가 M=1로 설정 된 경우이다. 구체적으로, 도 12(a-1)는 N=1인 경우에 대한 SL PRS 주파수 패턴을 도시한다. 도 12(a-2)는 N=2 및 Comb offset=1인 경우에 대한 SL PRS 주파수 패턴을 도시한다. 도 12(a-3)는 N=2 및 Comb offset=0인 경우 에 대한 SL PRS 주파수 패턴을이 도시한다. 다양한 실시예들에 따라, 도 12의 (b)는, SL PRS의 심볼 길이가 M=2로 설정된 경우이다. 구체적으로, 도 12(b- 1)는 N=1인 경우에 대한 SL PRS 주파수 패턴을 도시한다. 도 12(b-2)는 N=2 및 Comb offset=1인 경우에 대한 SL PRS 주파수 패턴을 도시한다. 도 12(b-3)는 N=2 및 Comb offset=0인 경우에 대한 SL PRS 주파수 패턴을 도 시한다. 도 12(b-4)는 N=4 및 Comb offset=3인 경우에 대한 SL PRS 주파수 패턴을 도시한다. 도 12(b-5)는 N=4 및 Comb offset=2인 경우에 대한 SL PRS 주파수 패턴을 도시한다. 도 12(b-6)는 N=4 및 Comb offset=1인 경우 에 대한 SL PRS 주파수 패턴을 도시한다. 도 12(b-7)는 N=4 및 Comb offset=0인 경우에 대한 SL PRS 주파수 패 턴을 도시한다. 다양한 실시예들에 따라, 도 12의 (c)는, SL PRS의 심볼 길이가 M=4로 설정된 경우이다. 구체적으로, 도 12(c- 1)는 N=1인 경우에 대한 SL PRS 주파수 패턴을 도시한다. 도 12(c-2)는 N=2 및 Comb offset=1인 경우에 대한 SL PRS 주파수 패턴을 도시한다. 도 12(c-3)는 N=2 및 Comb offset=0인 경우에 대한 SL PRS 주파수 패턴을 도 시한다. 도 12(c-4)는 N=4 및 Comb offset=3인 경우에 대한 SL PRS 주파수 패턴을 도시한다. 도 12(c-5)는 N=4 및 Comb offset=2인 경우에 대한 SL PRS 주파수 패턴을 도시한다. 도 12(c-6)는 N=4 및 Comb offset=1인 경우 에 대한 SL PRS 주파수 패턴을 도시한다. 도 12(c-7)는 N=4 및 Comb offset=0인 경우에 대한 SL PRS 주파수 패 턴을 도시한다. <제2 실시예> 본 개시의 다양한 실시예들에 따른, 제2 실시예는 SL PRS가 사이드링크 통신(데이터 전송)이 수행되는 자원 풀 (shared resource pool with SL communication로 명명될 수 있음)에서 전송되는 경우, SL PTRS와 multiplexing 되는 방법을 구체적으로 서술한다. 일 실시예에 따라, SL PTRS의 패턴에 대한 설명은 도 9에 구체적으로 서술되 어 있다. 그리고 SL PRS 패턴에 대한 설명은 도 12에 구체적으로 서술되어 있다. 예를 들어, 도 9를 참조하여, SL PTRS 패턴에 대한 시간상 density 값( )이 1인 경우, 매 OFDM 심볼마다 SL PTRS가 전송될 수 있다. 또한 도 12를 참조하여 SL PRS의 Come size(N)가 1인 경우, SL PRS가 전송되는 주 파수 영역은 모든 RE이며, 이에 따라 SL PRS가 전송될 수 있다. 따라서 SL PTRS의 패턴과 SL PRS의 패턴에 따라, 두 개의 RS들이 중첩(overlap)되는 경우가 있을 수 있다. 여기서 중첩되는 것은, 두 개의 RS들이 충돌 (collision)되는 것을 의미할 수 있다. 본 개시의 다양한 실시예들에 따라, SL PTRS의 패턴과 SL PRS의 패턴이 중첩되는 경우를 피하기 위한 다양한 방 법이 아래와 같이 고려될 수 있다. * 대안 1: SL PRS is not mapped on symbols occupied by SL PTRS * 대안 2: SL PTRS is not mapped on symbols occupied by SL PRS * 대안 3: SL PTRS is shifted next to SL PRS symbol * 대안 4: SL PRS is not mapped on REs occupied by SL PTRS (Two reference signals can be overlapped) * 대안 5: SL PTRS is not mapped on REs occupied by SL PRS (Two reference signals can be overlapped) * 대안 6: Two reference signals are not overlapped by configuration of SL PTRS/SL PRS location (UE is not expected the collision of SL PRS and SL PTRS.) * 대안 7: Combination of above alternatives (e.g., Alt. 4 is applied for N=1, Alt. 6 is applied for N=2 and 4) 본 개시의 다양한 실시예들은, 상술한 대안들에 제한되지 않을 수 있다. 또한 대안 7과 같이, 상술한 대안 중 하나 이상이 지원되거나, 또는 조합될 수 있음은 물론이다. 이와 같은 방식으로 지원되는 경우, 하나의 대안이 선택되어 (pre-)configuration되는 방법이 고려될 수도 있다. 일 실시예에 따라, 상술한 대안들은 두 개의 RS들이 중첩되거나 충돌되는 것을 사전에 방지하는 방법일 수 있다. 이와 달리, 두 개의 RS들이 중첩되거나 충돌되는 경우에도, 문제없이 동작하는 방법들이 고려될 수 있다. 이를 위해, 두 개의 RS들 중 하나를 임의로 선택하여 처리하거나, 충돌되는 것을 오류로 해석하여 아무것도 수 행하지 않거나, 또는 두 개의 RS들 모두 중복되는 위치에서 처리하는 방법 중 적어도 하나를 고려할 수 있다. 이러한 단말 동작은, 모두 단말이 두 개의 RS들이 중첩되거나 충돌되는 것을 기대하지 않는 동작으로 해석될 수 도 있다. 본 개시의 다양한 실시예들에 따라, 대안 1은 심볼 레벨에 기반하여, SL PTRS의 패턴과 SL PRS의 패턴이 중첩되 는 경우를 방지하기 위한 방법으로서, 이 경우에 SL PTRS를 더 우선시하여, SL PRS를 SL PTRS와 중첩되는 심볼 에 매핑하지 않음으로써 두 개의 RS들 간 충돌을 방지하는 방법을 포함할 수 있다. 하지만 대안 1의 경우, SL PRS의 전송이 매우 제한될 수 있다. 예를 들어, SL PTRS 패턴에 대한 시간상 density 값( )이 1인 경우, 매 OFDM 심볼마다 SL PTRS가 전송되므로, SL PRS가 전송되지 못하는 경우가 발생할 수 있다. 또한 SL PTRS 패턴에 대한 시간상 density 값( )에 따라서 SL PRS 자원이 시간 상 연속적인 심볼에 서 전송되어야 하는 조건(예를 들어, 실시예 1의 조건 2)을 만족하지 못할 수 있다. 도 13a, 도 13b 및 도 14는 본 개시의 다양한 실시예들에 따른, 사이드링크 전송을 위한 자원의 다양한 예시들 을 도시한다. 보다 구체적으로, 도 13(이하, 도 13a 또는 도 13b를 의미)는 상술한 대안1 내지 대안 5를 보다 구체적으로 설명하기 위한 도면이다. 다양한 실시예에 따라, 도 13의 (a)를 참조하여, SL PTRS의 패턴과 SL PRS의 패턴이 중첩되는 경우의 일례가 도 시된다. 구체적으로, 도 13(a-1)은 =2인 경우를 도시한다. 도 13(a-2)는 (M, N)=(4,1)인 경우를 도시한 다. 일 실시예에 따라, 도 13(a-1)와 도 13(a-3)에 따른 PTRS의 패턴과 SL PRS의 패턴이 중첩되는 경우, 도 (b-1), 도 (b-2), 도 (b-3), 도 (c), 또는 도 (d-1)가 적용될 수 있다. 도 13(a-1)와 도 13(a-3)에 따른 PTRS의 패턴 과 SL PRS의 패턴이 중첩되고, (M, N)=(1,1)인 경우, 도 13(a-3)는 도 13(d-2)에 적용될 수 있다. 다양한 실시예에 따라, 도 13의 (b)를 참조하여, 도 13(b-1)은 대안 1에 의해서 SL PRS를 SL PTRS와 중첩되는 심볼에 매핑하지 않는 방법을 도시한다. 하지만 이와 관련하여, 실시예 1의 조건 2가 예외적으로 적용되지 않을 수 있다. 일 실시예에 따라, 도 13(b-2)은, 대안 1이 적용되는 경우에도, 실시예 1의 조건 2를 만족시킬 수 있으며, 실시 예 1의 조건 7을 함께 고려하여 불연속적인 심볼들에서 앞 심볼(들)에 SL PRS가 매핑되지 않는 방법이 추가적으 로 적용된 경우를 도시한다. 구체적으로, 전송 심볼 index=7에 SL PRS 심볼이 매핑되지 않을 수 있다. 일 실시예에 따라, 도 13(b-3)은, 대안 1이 적용되는 경우에도, 실시예 1의 조건 2를 만족시키기 위해서, 불연 속적인 심볼들에서 뒤 심볼(들)에 SL PRS가 매핑되지 않는 방법이 추가적으로 적용된 경우를 도시한다. 구체적 으로, 전송 심볼 index=9에 SL PRS 심볼이 매핑되지 않을 수 있다. 도 13(b-3)의 경우 실시예 1의 조건 7이 만 족되지 않을 수 있다. 본 개시의 다양한 실시예들에 따라, 대안 2 역시, 심볼 레벨에 기반하여, SL PTRS의 패턴과 SL PRS의 패턴이 중 첩되는 경우를 방지하는 방법을 포함하며, 이 경우에 SL PRS를 더 우선시하여 SL PTRS를 SL PRS와 중첩되는 심 볼에 매핑하지 않음으로써 두 개의 RS들 간 충돌을 회피하는 방법을 포함할 수 있다. 하지만 대안 2의 경우는 위상 트랙킹의 성능이 보장되지 않을 수 있다. SL PRS와 SL PTRS는 동일한 시퀀스를 사용하지 않기 때문에, SL PRS는 SL PTRS와 위상 트랙킹에 함께 사용되지 못할 수 있다. 다양한 실시예에 따라, 도 13의 (c)를 참조하여, 대안 2에 의해서 SL PTRS를 SL PRS와 중첩되는 심볼에 매핑하 지 않는 방법이 도시된다. 이 경우에 =2가 유지되지 않을 수 있다. 따라서 위상 트랙킹의 성능이 보장되지 않을 수 있다. 본 개시의 다양한 실시예들에 따라, 대안 3은 SL PTRS를 SL PRS의 이전 또는 다음 심볼로 이동하여, SL PTRS의 패턴과 SL PRS의 패턴이 중첩되는 경우를 방지하는 방법을 포함할 수 있다. 하지만 모든 경우의 SL PTRS의 패턴 과 SL PRS의 패턴에 적용되기 어려운 단점이 있을 수 있다. 그리고 대안 2와 유사하게 위상 트랙킹의 성능이 보 장되지 않을 수 있다. 본 개시의 다양한 실시예들에 따라, 대안 4는 RE 레벨에 기반하여, SL PTRS의 패턴과 SL PRS의 패턴이 중첩되는 경우를 방지하는 방법을 포함할 수 있고, 이 경우에 SL PTRS를 더 우선시하여, SL PRS를 SL PTRS와 중첩되는 RE 에 매핑하지 않음으로써 두 개의 RS들 간 충돌을 회피하는 방법을 포함할 수 있다. 일 실시예에 따라, 대안 4의 경우, SL PTRS의 패턴과 SL PRS의 패턴의 설정에 따라 두 개의 RS들이 중첩되는 경우가 발생될 수 있음을 가정 한다. 여기서 대안 4는 SL PRS를 SL PTRS와 중첩되는 RE에서 펑쳐링(puncturing)하는 동작을 포함할 수도 있다. 대안 4의 경우, SL PRS가 매핑된 심볼 이후에 매핑된 PSSCH가 없을 때는, SL PRS를 SL PTRS와 중첩되는 RE에서 펑쳐링(puncturing)하지 않는 방법이 고려될 수도 있다. 다시 말해, 대안 4는, SL PRS 심볼 이후 PSSCH 자원이 없는 경우에, SL PRS가 SL PTRS로 점유된 RE에 매핑되지 않는 방법일 수 있다. 다양한 실시예에 따라, 도 13의 (d)를 참조하여 대안 4가 구체적으로 서술된다. 일 실시예에 따라, 도 13(d- 1)은 도 13(a-1)와 도 13(a-2)에 따른 PTRS의 패턴과 SL PRS의 패턴이 중첩되는 경우를 도시한다. 일 실시예에 따라, 도 13(d-1)을 참조하여, SL PTRS가 도 13(a-2)과 같이 전송되는 경우에, 대안 4에 의해서, SL PTRS를 SL PRS와 중첩되는 RE에 매핑하지 않는 방법이 도시된다. 일 실시예에 따라, 도 13(d-2)을 참조하여, 도 13(a-1)과 도 13(a-3)에 따른 PTRS의 패턴과 SL PRS의 패턴이 중첩되는 경우가 도시된다. 이 경우, 대안 4에 의해서, SL PTRS를 SL PRS와 중첩되는 RE에 매핑하지 않는 방법이 도시된다. 하지만 도 13(a-3)과 같이, SL PRS가 매핑된 심볼 이후에 PSSCH가 전송되지 않기 때문에, 해당 심볼에서는 SL PTRS가 전송되지 않아도 위상 트랙킹에 큰 문 제가 발생하지 않을 수 있다. 따라서 13(a-3)과 같이 SL PRS를 SL PTRS와 중첩되는 RE에서 펑쳐링(puncturin g)하지 않는 예외가 고려될 수 있다. 본 개시의 다양한 실시예들에 따라, 대안 5는 RE 레벨에 기반하여, SL PTRS의 패턴과 SL PRS의 패턴이 중첩되는 경우를 방하는 방법을 포함하며, 이 경우에 SL PRS를 더 우선시하여 SL PTRS를 SL PRS와 중첩되는 RE에 매핑하 지 않음으로써 두 개의 RS들 간 충돌을 회피하는 방법을 포함할 수 있다. 일 실시예에 따라, 대안 5의 경우, SL PTRS의 패턴과 SL PRS의 패턴의 설정에 따라, 두 개의 RS들이 중첩되는 경우가 발생될 수 있음을 가정한다. 하 지만 대안 5의 경우는 위상 트랙킹의 성능이 보장되지 않을 수 있다. SL PRS와 SL PTRS는 동일한 시퀀스를 사용 하지 않기 때문에, SL PRS는 SL PTRS와 위상 트랙킹에 함께 사용되지 못할 수 있다. 다양한 실시예에 따라, 도 13의 (c)를 참조하여, 대안 5에 의해서 SL PTRS를 SL PRS와 중첩되는 RE에 매핑하지 않는 방법이 도시된다. 이 경우에 =2가 유지되지 않을 수 있다. 따라서 대안 2와 유사하게 위상 트랙킹의 성능이 보장되지 않을 수 있다. 본 개시의 다양한 실시예들에 따라, 대안 6은 SL PTRS의 패턴과 SL PRS의 패턴의 설정을 통해, 두 개의 RS들이 중첩되는 경우를 피하는 방법을 포함하며, SL PTRS의 패턴과 SL PRS의 패턴에 대한 위치 설정을 통해, 두 개의 RS들 간 충돌을 사전에 회피하는 방법을 포함할 수 있다. 일 실시예에 따라, SL PTRS의 패턴에 대한 위치 설정 은 도 9에 구체적으로 서술된다. 또한, SL PRS 패턴에 대한 위치 설정은 도 11 내지 도 12에 구체적으로 서술된 다. 일 실시예에 따라, 대안 6의 경우, SL PRS의 Come size(N)가 1인 경우에는 적용하기 어려운 단점이 있다. 따라 서, 일 실시예에 따라, 대안 6과 관련하여, SL PRS의 Come size(N)가 1인 경우를 설정하지 않는 방안을 포함할 수 있다. 일 실시예에 따라, SL PTRS가 FR2(frequency range 2) 영역에서만 지원되는 경우에, 대안 6과 관련하 여, FR2에서 SL PRS의 Come size(N)가 1인 경우를 설정하지 않는 방안을 포함할 수 있다. 하지만, SL PRS의 Come size(N)가 1인 경우, SL PRS 패턴의 주파수 density가 가장 높기 때문에, 가장 높은 포지셔닝 정확도를 제 공할 수 있다. 따라서 대안 6에 의해서 N=1의 설정을 피하는 방법은 특정 환경에서 포지셔닝의 성능 열화가 될수 있는 단점이 있을 수 있다. 일 실시예에 따라, 대안 6는 단말이 SL CSI-RS 패턴과 SL PRS의 패턴이 중첩되거 나 충돌되는 것을 기대하지 않는 동작으로 해석될 수 있다. 도 14는 대안 6을 구체적으로 설명하기 위한 도면이다. 도 14(a)를 참조하여, SL PTRS의 패턴과 SL PRS의 패턴 이 중첩되는 경우의 일례가 도시된다. 구체적으로, 도 14(a-1)에 =2인 경우가 도시된다. 도 14(a-2)는, (M, N)=(2,4)인 경우를 도시한다. 본 개시의 다양한 실시예들에 따라, 도 14는 SL PTRS RE offset( ) 값이나 SL PRS Comb offset 값에 대한 설정 값을 조절하는 경우를 서술하나, SL PTRS의 패턴과 SL PRS의 패턴에 대한 위치 설정을 조절하는 방법은 이에 제한되지 않음은 물론이다. 예를 들어, SL PTRS의 패턴과 SL PRS의 패턴에 대한 심볼 위치 값이 조절될 수도 있다. 일 실시예에 따라, 도 14(b-1)를 참조하여, SL PTRS RE offset( ) 값을 조절하여 SL PTRS의 패턴과 SL PRS의 패턴이 중첩되는 경우를 방지하는 일례가 도시된다. 도 14(a-1)에서는 =3인 경우가 도시되나, 도 14(b-1)는 =2인 경우를 도시한다. 이와 같이, 값은 SL PRS와의 충돌을 회피하도록 설정될 수 있다. 일 실시예에 따라, 도 14(b-2)를 참조하여, SL PRS Comb offset 값을 조절하여 SL PTRS의 패턴과 SL PRS의 패 턴이 중첩되는 경우를 방지하는 일례가 도시된다. 도 14(a-2)에서는 Comb offset 값이 3인 경우가 도시되나, 도 14(b-2)는 Comb offset 값이 2인 경우를 도시한다. 이와 같이, SL PRS Comb offset 값은 SL PRS와의 충돌을 회 피 하기 위하여 설정될 수 있다. 본 개시의 다양한 실시예들에 따라, 대안 7은 상술한 대안들이 조합되어, SL PTRS의 패턴과 SL PRS의 패턴이 중 첩되는 경우를 방지하는 방법을 포함할 수 있다. 가장 바람직한 예시로서, SL PRS의 Come size(N)가 1인 경우에 는 대안 4가 적용될 수 있거나, SL PRS의 Come size(N)가 1이 아닌 경우(예를 들어, N=2,4)에는 대안 6을 적용 하는 방법이 고려될 수 있다. 상술한 방법이 사용될 경우, 대안 6에서 N=1이 사용되지 못하는 경우를 방지할 수 있다. 상술한 바에 따라, 아래 표 7에서와 같이 단말 동작이 정의될 수 있다. [표 6] - 대안 4와 대안 6이 조합된 단말 동작"}
{"patent_id": "10-2023-0130683", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 6, "content": "본 개시의 다양한 실시예들에 따라, 상술한 실시예들에서 대안 1 내지 대안 7은 SL PTRS의 패턴과 SL PRS의 패 턴이 중첩될 수 있는 경우를 고려하여 서술된다. 하지만 일 실시예에 따라, 대안 1 내지 대안 7은 SL CSI-RS 패 턴과 SL PRS의 패턴이 중첩될 수 있는 경우에도, 동일하게 적용될 수 있음은 물론이다. 일 실시예에 따라, 대안 1 내지 대안 7에서 SL PTRS는 SL CSI-RS로 대체될 수 있다. 예를 들어, SL PRS가 사이드링크 통신(데이터 전 송)이 수행되는 자원 풀(shared resource pool with SL communication로 명명될 수 있음)에서 전송되는 경우, SL CSI-RS와 multiplexing되는 방법으로서 상술한 대안 1 내지 대안 7에서 제안된 방법이 적용될 수 있다. 하지 만, 일 실시예에 따라, SL CSI-RS 패턴과 SL PRS의 패턴은, 대안 6을 적용하여 두 개의 RS들이 충돌되는 경우를 항상 회피할 수도 있다. 따라서, 일 실시예에 따라, 대안 7과 같이, SL CSI-RS의 패턴과 SL PRS의 패턴에 대한 위치 설정을 통해, 두 개의 RS들 간 충돌을 사전에 회피하는 방법이 가장 바람직할 수 있다. 이는 단말이 SL CSI-RS 패턴과 SL PRS의 패턴이 중첩되거나 충돌되는 것을 기대하지 않는 동작으로 해석될 수도 있다. <제3 실시예> 본 개시의 다양한 실시예들에 따른, 제3 실시예는 SL PRS의 전송 파워를 결정하는 방법을 구체적으로 서술한다. 특히, 일 실시예에 따라, SL PRS가 사이드링크 통신(데이터 전송)이 수행되는 자원 풀(shared resource pool with SL communication로 명명될 수 있음)에서 전송되는 경우가 고려된다. 다양한 실시예들에 따라, SL PRS가 사이드링크 통신(데이터 전송)이 수행되는 자원 풀에서 전송될 때, SL PRS는 PSSCH와 동일 파워로 전송될 수 있다. 일 실시예에 따라, PSSCH는 기지국과 단말 간의 경로 손실(pathloss) 또 는 단말과 단말 간의 경로 손실에 기반하여 개방 루프 전력 제어(open loop power control)가 적용될 수 있다. 일 실시예에 따라, SL PRS가 PSSCH와 동일 파워로 전송되는 것은, 슬롯 내 OFDM 심볼 레벨에 기반하여 동일한 파워가 유지되는 것을 의미할 수 있다. 예를 들어, 단말은 PSSCH EPRE(Energy Per Resource Element) 대 SL PRS EPRE의 비율( [dB])이 가 되는 것으로 가정할 수 있다. 여기서 N은 SL PRS에 대한 comb size 를 의미할 수 있다. 일 실시예에 따라, 이하 표 7은 SL PRS의 comb size에 따른 [dB]값을 나타낼 수 있다. [표 7] - PSSCH EPRE 대 SL PRS EPRE의 비율 ( [dB])"}
{"patent_id": "10-2023-0130683", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 7, "content": "표 7에서와 달리, 단말은 SL PRS EPRE대 PSSCH EPRE의 비율( [dB])로 정의될 경우 해당 값은 로 계산될 수 있다. 이때 표 7은 아래 표 8과 같이 변형될 수 있다. 본 개시의 다양한 실시예들에 따라, EPRE의 비 율의 정의에 따른 이러한 변형은 자명할 것이다. [표 8] - SL PRS EPRE 대 PSSCH EPRE의 비율 ( [dB])"}
{"patent_id": "10-2023-0130683", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 8, "content": "표 7 및 표 8에서는 SL PTRS가 존재하지 않는 경우에 SL PRS EPRE와 PSSCH EPRE의 비율을 설명하였다. 도 13 내지 도 14를 통해 설명한 바와 같이 SL PRS가 전송되는 심볼에 SL PTRS가 전송될 수 있다. 이러한 경우에 OFDM 심볼의 파워를 동일하게 유지하게 위해서 표 9에 도시된 바와 같이 SL PRS EPRE 대 PSSCH EPRE의 비율( [d B])이 정의될 수 있다. 일 실시예에 따라, 도 13 내지 도 14를 통해 설명한 바와 같이 SL PRS가 전송되는 심볼 에서는 PSSCH가 전송되지 않을 수 있다. 따라서 해당 심볼에 SL PRS RE와 SL PTRS RE가 존재하는 경우 PSSCH가 전송되는 심볼과 동일한 파워를 유지하는 방법으로서, 아래 표 9에 도시된 바와 같은 수식에 의해 EPRE의 비율 이 정의될 수 있다. [표 9] - SL PRS가 전송되는 심볼에 SL PTRS가 전송되는 경우에 SL PRS EPRE 대 PSSCH EPRE의 비율 ( [dB])"}
{"patent_id": "10-2023-0130683", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 9, "content": "일 실시예에 따라, 다음으로 SL PTRS EPRE 대 PSSCH EPRE의 비율( [dB])은 PSSCH DM-RS antenna port수에 따라 표 10과 같이 정의될 수 있다. 사이드링크에서 PSSCH DM-RS antenna port수는 2까지 지원되고, SL PTRS 포트 수도 2까지 지원될 수 있는 바, PSSCH DM-RS antenna port수와 SL PTRS 포트 수는 동일한 것으로 가정될 수 있다. SL PTRS 포트 수가 2인 경우, 하나의 SL PTRS 포트에 대한 PTRS RE가 전송되는 경우에 다른 SL PTRS 포트에 대한 PTRS RE는 펑처링될 수 있으며, 대신에 표 10과 같이 3dB 파워 부스팅(boosting)이 이루어 질 수 있을 것이다. [표 10] - SL PTRS EPRE 대 PSSCH EPRE의 비율 ( [dB])"}
{"patent_id": "10-2023-0130683", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 10, "content": "일 실시예에 따라, 표 10에서 PSSCH DM-RS antenna port 수(예를 들어, SL PTRS antenna port 수)와 무관하게, SL PTRS EPRE 대 PSSCH EPRE의 비율은 0dB로 가정될 수도 있다. 일 실시예에 따라, 표 10에서와 달리, 표 11에서는 SL PTRS가 SL PRS가 전송되는 심볼에서 전송되는 경우를 고 려한다. 도 13 내지 도 14를 통해 설명한 바와 같이, SL PRS가 전송되는 심볼에 SL PTRS가 전송될 수 있다. 이 러한 경우, OFDM 심볼의 파워를 동일하게 유지하게 위해서, 표 11에 도시된 바와 같이 SL PTRS EPRE 대 PSSCH EPRE의 비율( [dB])이 정의될 수 있다. 일 실시예에 따라, 도 13 내지 도 14를 통해 설명한 바와 같이 SL PRS 가 전송되는 심볼에서는 PSSCH가 전송되지 않을 수 있다. 따라서 해당 심볼에 SL PRS RE와 SL PTRS RE가 존재하 는 경우 PSSCH가 전송되는 심볼과 동일한 파워를 유지하는 방법으로서, 아래 표 11에 도시된 바와 같은 수식에 의해 EPRE의 비율이 정의될 수 있다. [표 11] - SL PTRS가 SL PRS가 전송되는 심볼에서 전송되는 경우에 SL PTRS EPRE 대 PSSCH EPRE의 비율 ( [dB])"}
{"patent_id": "10-2023-0130683", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 11, "content": "일 실시예에 따라, 표 11에서 PSSCH DM-RS antenna port 수(예를 들어, SL PTRS antenna port 수)와 무관하게 SL PTRS EPRE 대 PSSCH EPRE의 비율은 표 9에 제시된 값으로만 가정될 수도 있다. 본 발명의 상술한 실시예들을 수행하기 위하여, 단말과 기지국의 송신부, 수신부, 및 처리부가 각각 도 15와 도 16에 도시되어 있다. 상술한 실시예들에서 사이드링크에서 단말이 포지셔닝을 수행하기 위한 방법이 서술되어 있으며, 이를 수행하기 위해 기지국과 단말의 수신부, 처리부, 또는 송신부가 각각 실시예에 따라 동작할 수 있다. 도 15는, 본 개시의 다양한 실시예들에 따른, 단말의 구성을 도시한다. 구체적으로, 도 15는 본 발명의 실시예 에 따른 단말의 내부 구조를 도시한다. 도 15에서 도시되는 바와 같이, 단말은 수신부, 송신부, 처리부(또는 컨트롤러 (controller)) 또는 메모리(미도시)를 포함할 수 있다. 단말기 수신부와 단말이 송신부를 통칭하여, 본 발명의 실시예에서는 송수신부라 칭할 수 있다. 단말의 송수신부는 기지국과 신호를 송수신하는데 이용될 수 있다. 여기서 신호는 제어 정보와, 데이터를 포함할 수 있다. 이를 위해, 송수신부는 송신되는 신호 의 주파수를 상승 변환 및 증폭하는 RF(radio frequency) 송신기와, 수신되는 신호를 저잡음 증폭하고 주파수를 하강 변환하는 RF 수신기 등으로 구성될 수 있다. 또한, 송수신부는 무선 채널을 통해 신호를 수신하여 단말기 처리부로 출력하고, 단말기 처리부로부터 출력된 신호를 무선 채널을 통해 전송할 수 있다. 단말기 처리부는 상술한 본 발명의 실시예들에 따라 단말이 동작할 수 있도록 일련의 과정을 제어할 수 있다. 도 16은, 본 개시의 다양한 실시예들에 따른, 기지국의 구성을 도시한다. 보다 구체적으로, 도 16은 본 발명의 실시예에 따른 기지국의 내부 구조를 도시한다. 도 16에서 도시되는 바와 같이, 기지국은 수신부, 송신부, 처리부(또는 컨트롤러 (controller)) 또는 메모리(미도시)를 포함할 수 있다. 기지국 수신부와 기지국 송신부를 통칭하여, 본 발명의 실시예에서는 송수신부라 칭할 수 있다. 기지국의 송수신부는 단말과 신호를 송수신하는데 이용될 수 있다. 여기서 신호는 제어 정보와, 데이터를 포함할 수 있다. 이를 위해, 송수신부는 송신되는 신호 의 주파수를 상승 변환 및 증폭하는 RF 송신기와, 수신되는 신호를 저 잡음 증폭하고 주파수를 하강 변환하는 RF 수신기 등으로 구성될 수 있다. 또한, 송수신부는 무선 채널을 통해 신호를 수신하여 기지국 처리부로 출력하고, 기지국 처리부로부터 출력된 신호를 무선 채널을 통해 전송할 수 있다. 기지국 처리부는 상술한 본 발명의 실시예들에 따라 기지국이 동작할 수 있도록 일련의 과정을 제어할 수 있다. 한편, 본 명세서와 도면에 개시된 본 발명의 실시예들은 본 발명의 기술 내용을 쉽게 설명하고 본 발명의 이해 를 돕기 위해 특정 예를 제시한 것일 뿐이며, 본 발명의 범위를 한정하고자 하는 것은 아니다. 즉 본 발명의 기 술적 사상에 바탕을 둔 다른 변형예들이 실시 가능하다는 것은 본 발명의 속하는 기술 분야에서 통상의 지식을 가진 자에게 자명한 것이다. 또한 각각의 실시예들은 필요에 따라 서로 조합되어 운용할 수 있다. 예컨대, 본 발명의 모든 실시예는 일부분들이 서로 조합되어 기지국과 단말이 운용될 수 있다. 본 개시의 청구항 또는 명세서에 기재된 실시예들에 따른 방법들은 하드웨어, 소프트웨어, 또는 하드웨어와 소 프트웨어의 조합의 형태로 구현될(implemented) 수 있다. 소프트웨어로 구현하는 경우, 하나 이상의 프로그램(소프트웨어 모듈)을 저장하는 컴퓨터 판독 가능 저장 매체 가 제공될 수 있다. 컴퓨터 판독 가능 저장 매체에 저장되는 하나 이상의 프로그램은, 전자 장치(device) 내의 하나 이상의 프로세서에 의해 실행 가능하도록 구성된다(configured for execution). 하나 이상의 프로그램은, 전자 장치로 하여금 본 개시의 청구항 또는 명세서에 기재된 실시예들에 따른 방법들을 실행하게 하는 명령어 (instructions)를 포함한다. 이러한 프로그램(소프트웨어 모듈, 소프트웨어)은 랜덤 액세스 메모리 (random access memory), 플래시(flash) 메모리를 포함하는 불휘발성(non-volatile) 메모리, 롬(ROM: Read Only Memory), 전기적 삭제가능 프로그램가 능 롬(EEPROM: Electrically Erasable Programmable Read Only Memory), 자기 디스크 저장 장치(magnetic disc storage device), 컴팩트 디스크 롬(CD-ROM: Compact Disc-ROM), 디지털 다목적 디스크(DVDs: Digital Versatile Discs) 또는 다른 형태의 광학 저장 장치, 마그네틱 카세트(magnetic cassette)에 저장될 수 있다. 또는, 이들의 일부 또는 전부의 조합으로 구성된 메모리에 저장될 수 있다. 또한, 각각의 구성 메모리는 다수 개 포함될 수도 있다. 또한, 프로그램은 인터넷(Internet), 인트라넷(Intranet), LAN(Local Area Network), WLAN(Wide LAN), 또는 SAN(Storage Area Network)과 같은 통신 네트워크, 또는 이들의 조합으로 구성된 통신 네트워크를 통하여 접근 (access)할 수 있는 부착 가능한(attachable) 저장 장치(storage device)에 저장될 수 있다. 이러한 저장 장치 는 외부 포트를 통하여 본 개시의 실시예를 수행하는 장치에 접속할 수 있다. 또한, 통신 네트워크상의 별도의 저장장치가 본 개시의 실시예를 수행하는 장치에 접속할 수도 있다. 한편, 본 발명의 방법을 설명하는 도면에서 설명의 순서가 반드시 실행의 순서와 대응되지는 않으며, 선후 관계 가 변경되거나 병렬적으로 실행될 수도 있다. 또는, 본 발명의 방법을 설명하는 도면은 본 발명의 본질을 해치지 않는 범위 내에서 일부의 구성 요소가 생략 되고 일부의 구성요소만을 포함할 수 있다. 또한, 본 발명의 방법은 발명의 본질을 해치지 않는 범위 내에서 각 실시예에 포함된 내용의 일부 또는 전부가 조합되어 실행될 수도 있다. 본 개시의 다양한 실시예들이 전술되었다. 상술한 본 개시의 설명은 예시를 위한 것이며, 본 개시의 실시예들은"}
{"patent_id": "10-2023-0130683", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 12, "content": "개시된 실시예들에 한정되는 것은 아니다. 본 개시가 속하는 기술분야의 통상의 지식을 가진 자는 본 개시의 기 술적 사상이나 필수적인 특징을 변경하지 않고서 다른 구체적인 형태로 쉽게 변형이 가능하다는 것을 이해할 수 있을 것이다. 본 개시의 범위는 상술한 상세한 설명보다는 후술하는 특허청구범위에 의하여 나타내어지며, 특허 청구범위의 의미 및 범위 그리고 그 균등 개념으로부터 도출되는 모든 변경 또는 변형된 형태가 본 개시의 범위 에 포함되는 것으로 해석되어야 한다. 상술한 본 개시의 구체적인 실시예들에서, 개시에 포함되는 구성 요소는 제시된 구체적인 실시예에 따라 단수 또는 복수로 표현되었다. 그러나, 단수 또는 복수의 표현은 설명의 편의를 위해 제시한 상황에 적합하게 선택된 것으로서, 본 개시가 단수 또는 복수의 구성 요소에 제한되는 것은 아니며, 복수로 표현된 구성 요소라 하더라 도 단수로 구성되거나, 단수로 표현된 구성 요소라 하더라도 복수로 구성될 수 있다. 한편 본 개시의 상세한 설명에서는 구체적인 실시예에 관해 설명하였으나, 본 개시의 범위에서 벗어나지 않는 한도 내에서 여러 가지 변형이 가능함은 물론이다. 예를 들어, 일부 실시예의 일부 또는 전부가 다른 하나 이상 의 실시예의 일부 또는 전부와 결합될 수 있으며, 이러한 결합의 형태 또한 본 개시에서 제안하는 실시예에 해 당함은 당연하다. 그러므로 본 개시의 범위는 설명된 실시예에 국한되어 정해져서는 안되며, 후술하는 특허청구 의 범위뿐 만 아니라 이 특허청구의 범위와 균등한 것들에 의해 정해져야 한다. 본 개시의 상세한 설명에서는 구체적인 실시예에 관해 설명하였으나, 본 개시의 범위에서 벗어나지 않는 한도 내에서 여러 가지 변형이 가능함은 물론이다. 그러므로 본 개시의 범위는 설명된 실시예에 국한되어 정해져서는 아니 되며 후술하는 특허청구의 범위만 아니라 이 특허청구의 범위와 균등한 것들에 의해 정해져야 한다.도면 도면1 도면2 도면3 도면4 도면5 도면6 도면7 도면8a 도면8b 도면8c 도면9 도면10 도면11 도면12a 도면12b 도면13a 도면13b 도면14 도면15 도면16"}
{"patent_id": "10-2023-0130683", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 개시의 다양한 실시예들에 따른, 무선 통신 시스템을 도시한다. 도 2는 본 개시의 다양한 실시예들에 따른, 사이드링크를 통해 이루어지는 통신 방법을 도시한다. 도 3은 본 개시의 다양한 실시예들에 따른, 사이드링크 통신을 위한 자원 풀(resource pool)을 도시한다. 도 4 내지 도 6은 본 개시의 다양한 실시예들에 따른, 사이드링크를 통해 단말의 위치를 계산하기 위한 일 예시 를 도시한다. 도 7은 본 개시의 다양한 실시예들에 따른, 사이드링크 위치 측정의 다양한 예시들을 도시한다. 도 8a 내지 도 8c는 본 개시의 다양한 실시예들에 따른, 사이드링크 통신을 위한 다양한 물리 계층 구조들의 예 시를 도시한다. 도 9는 본 개시의 다양한 실시예들에 따른, SL PTRS가 전송되는 위치의 예시를 도시한다. 도 10은 본 개시의 다양한 실시예들에 따른, SL(sidelink) CSI(channel state information)-RS(reference signal)를 전송하기 위한 자원의 일 예시를 도시한다. 도 11은 본 개시의 다양한 실시예들에 따른, 사이드링크 통신이 수행되는 자원 풀 상의 SL PRS(positioning reference signal)의 일 예시를 도시한다. 도 12a 및 도 12b는 본 개시의 다양한 실시예들에 따른, SL PRS가 전송되는 주파수 패턴을 도시한다. 도 13a, 도 13b 및 도 14는 본 개시의 다양한 실시예들에 따른, 사이드링크 전송을 위한 자원의 다양한 예시들 을 도시한다. 도 15는, 본 개시의 다양한 실시예들에 따른, 단말의 구성을 도시한다. 도 16은, 본 개시의 다양한 실시예들에 따른, 기지국의 구성을 도시한다."}
