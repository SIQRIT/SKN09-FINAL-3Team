{"patent_id": "10-2024-0079442", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0036664", "출원번호": "10-2024-0079442", "발명의 명칭": "동맥류 영역 생성 방법 및 이를 수행하는 전자 장치", "출원인": "주식회사 메디픽셀", "발명자": "김영준"}}
{"patent_id": "10-2024-0079442", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "입력 이미지를 획득하는 단계;상기 입력 이미지에 기초하여 혈관 메시를 생성하는 단계; 상기 혈관 메시에 기초하여 복수의 노드(node)를 포함하는 혈관 네트워크를 생성하는 단계; 및상기 혈관 네트워크에 이미지 처리를 수행하여 동맥류 영역을 생성하는 단계를 포함하는 동맥류 영역 생성 방법."}
{"patent_id": "10-2024-0079442", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에 있어서,상기 동맥류 영역을 생성하는 단계는,상기 복수의 노드 중 리프(leaf) 노드를 결정하는 단계;동맥류 네트워크를 결정하는 단계; 및결정된 상기 리프 노드 및 상기 동맥류 네트워크를 필터링하는 단계;상기 리프 노드 및 상기 동맥류 네트워크가 필터링된 혈관 네트워크에서 혈류의 흐름을 나타내는 흐름 네트워크를 생성하는 단계를 포함하는, 동맥류 영역 생성 방법."}
{"patent_id": "10-2024-0079442", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에 있어서,상기 리프 노드를 결정하는 단계는,상기 복수의 노드 중 이웃하는 노드가 하나인 후보 리프 노드를 결정하는 단계;상기 후보 리프 노드의 반지름 정보를 획득하는 단계;상기 반지름 정보에 기초하여 상기 후보 리프 노드 중 경계 노드를 결정하는 단계; 및상기 후보 리프 노드 중 상기 경계 노드를 필터링하여 상기 리프 노드를 결정하는 단계를 포함하는, 동맥류 영역 생성 방법."}
{"patent_id": "10-2024-0079442", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에 있어서,상기 리프 노드를 결정하는 단계는,상기 후보 리프 노드 중 상기 경계 노드가 아닌 제1 노드를 결정하는 단계;상기 제1 노드와 연결된 제2 노드를 결정하는 단계; 및상기 혈관 메시의 표면에서 상기 제2 노드와 인접한 제1 셀들의 사잇각보다 상기 제1 노드와 인접한 제2 셀들의공개특허 10-2025-0036664-3-사잇각이 작은 경우, 상기 제1 노드를 상기 리프 노드로서 결정하는 단계를 더 포함하는, 동맥류 영역 생성 방법."}
{"patent_id": "10-2024-0079442", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에 있어서,상기 제1 노드를 상기 리프 노드로서 결정하는 단계는,상기 혈관 메시의 표면에서 접하는 두 셀의 사잇각이 기준각보다 작은 제3 셀들을 결정하는 단계;상기 제3 셀들 중 상기 제2 노드와 인접한 n개의 셀들을 상기 제1 셀들로서 결정하는 단계;상기 제1 셀들의 제1 접선들을 결정하는 단계;상기 제2 노드와 상기 제1 접선들 각각의 제1 거리들을 결정하는 단계;상기 제3 셀들 중 상기 제1 노드와 인접한 n개의 셀들을 상기 제2 셀들로서 결정하는 단계;상기 제2 셀들의 제2 접선들을 결정하는 단계;상기 제1 노드와 상기 제2 접선들 각각의 제2 거리들을 결정하는 단계; 및상기 제1 거리들 및 상기 제2 거리들에 기초하여 상기 제1 노드를 상기 리프 노드로서 결정하는 단계를 더 포함하고, n은 1보다 큰 정수인,동맥류 영역 생성 방법."}
{"patent_id": "10-2024-0079442", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제2항에 있어서,상기 동맥류 네트워크를 결정하는 단계는,상기 혈관 메시에서 개방 혈관 및 리프 혈관을 필터링하여 동맥류 후보를 결정하는 단계;동맥류 후보의 시작 노드를 결정하는 단계;상기 시작 노드에서 분기 노드까지의 제1 거리를 결정하는 단계; 및상기 제1 거리가 기준 거리보다 작은 경우 상기 동맥류 후보에 기초하여 상기 동맥류 네트워크로서 결정하는 단계를 포함하는, 동맥류 영역 생성 방법."}
{"patent_id": "10-2024-0079442", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제6항에 있어서,상기 동맥류 네트워크로서 결정하는 단계는,상기 시작 노드에서부터 상기 분기 노드 직전의 노드까지를 상기 동맥류 네트워크로서 결정하는 단계를 포함하는, 동맥류 영역 생성 방법."}
{"patent_id": "10-2024-0079442", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제2항에 있어서,공개특허 10-2025-0036664-4-상기 흐름 네트워크를 생성하는 단계는,상기 리프 노드 및 상기 동맥류 네트워크가 필터링된 혈관 네트워크에서 시작 혈관을 결정하는 단계; 및상기 시작 혈관의 시작 노드에서 시작하는 혈류의 흐름을 결정하는 단계를 포함하는, 동맥류 영역 생성 방법."}
{"patent_id": "10-2024-0079442", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에 있어서,상기 시작 혈관을 결정하는 단계는,상기 리프 노드 및 상기 동맥류 네트워크가 필터링된 혈관 네트워크에서 복수의 개방 혈관을 결정하는 단계; 및상기 복수의 개방 혈관 중 가장 큰 혈관을 상기 시작 혈관으로서 결정하는 단계;를 포함하는, 동맥류 영역 생성 방법."}
{"patent_id": "10-2024-0079442", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에 있어서,상기 복수의 개방 혈관 중 가장 큰 혈관을 상기 시작 혈관으로서 결정하는 단계는,상기 복수의 개방 혈관 각각에 대응하는 복수의 타원 모델을 획득하는 단계;상기 복수의 타원 모델 중 단반경이 가장 긴 제1 타원 모델을 결정하는 단계; 및상기 복수의 개방 혈관 중 상기 제1 타원 모델에 대응하는 제1 개방 혈관을 상기 시작 혈관으로서 결정하는 단계를 포함하는, 동맥류 영역 생성 방법."}
{"patent_id": "10-2024-0079442", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제8항에 있어서,상기 혈류의 흐름을 결정하는 단계는,상기 시작 노드에서 시작하여 제1 노드를 지나 분기 노드에 도달하는 경우, 상기 분기 노드와 연결된 노드들에서 상기 제1 노드를 제외한 제2 노드들 중 가장 큰 반지름을 갖는 노드의 혈류 흐름을 우선적으로 결정하는 단계를 포함하는, 동맥류 영역 생성 방법."}
{"patent_id": "10-2024-0079442", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제2항에 있어서,상기 동맥류 영역을 생성하는 단계는,상기 혈관 네트워크의 끝단의 혈관 중 개방 혈관, 리프 혈관, 동맥류 네트워크를 필터링하여 노이즈를 결정하는단계; 및상기 흐름 네트워크에서 상기 노이즈를 제거하는 단계공개특허 10-2025-0036664-5-를 더 포함하는, 동맥류 영역 생성 방법."}
{"patent_id": "10-2024-0079442", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제12항에 있어서,상기 노이즈를 결정하는 단계는,상기 혈관 네트워크의 끝단의 혈관 중 개방 혈관, 리프 혈관, 동맥류 네트워크를 필터링하여 노이즈 후보를 결정하는 단계;상기 노이즈 후보의 리프 노드에서부터 분기 노드까지 이르는 경로에서, 상기 분기 노드 직전의 기준 노드를 결정하는 단계; 및상기 기준 노드의 제1 반지름에 기초하여 상기 노이즈 후보를 상기 노이즈로서 결정할지 여부를 판정하는 단계를 포함하는, 동맥류 영역 생성 방법."}
{"patent_id": "10-2024-0079442", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제13항에 있어서,상기 노이즈 후보를 상기 노이즈로서 결정할지 여부를 판정하는 단계상기 제1 반지름 가중치를 곱하여 제2 반지름을 획득하는 단계;상기 기준 노드에서 상기 제2 반지름에 기초하여 구를 생성하는 단계; 및상기 분기 노드가 상기 구 내부에 위치하는 경우, 상기 노이즈 후보를 상기 노이즈로서 결정하는 단계를 포함하는, 동맥류 영역 생성 방법."}
{"patent_id": "10-2024-0079442", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제2항에 있어서,상기 동맥류 영역을 생성하는 단계는,상기 흐름 네트워크에서 베이스 노드를 결정하는 단계;상기 베이스 노드에 기초하여 클립 노드를 결정하는 단계;상기 클립 노드에 기초하여 절단면을 결정하는 단계; 및결정된 절단면을 사용하여 상기 흐름 네트워크를 절단하여 상기 동맥류 영역을 생성하는 단계를 포함하는, 동맥류 영역 생성 방법."}
{"patent_id": "10-2024-0079442", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제15항에 있어서,상기 클립 노드를 결정하는 단계는,상기 베이스 노드로부터 소정 거리 이상 떨어진 제1 노드를 결정하는 단계;상기 제1 노드와, 상기 제1 노드와 연결된 제2 노드 및 제3 노드에 기초하여 제1 벡터 및 제2 벡터를 생성하는단계;상기 제1 벡터 및 상기 제2 벡터의 사잇각을 결정하는 단계; 및공개특허 10-2025-0036664-6-상기 사잇각이 기준각 이하인 경우 상기 제1 노드를 상기 클립 노드로서 결정하는 단계를 포함하는, 동맥류 영역 생성 방법."}
{"patent_id": "10-2024-0079442", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "제16항에 있어서,상기 절단면을 결정하는 단계는,상기 제1 벡터를 법선 벡터로서 갖는 제1 절단면 후보를 결정하는 단계;상기 제2 벡터를 법선 벡터로서 갖는 제2 절단면 후보를 결정하는 단계;상기 제1 절단면 후보와 상기 제2 절단면 후보 사이의 복수의 절단면 후보를 결정하는 단계;상기 복수의 절단면 후보 각각에 대응하는 복수의 타원 모델을 획득하는 단계;상기 복수의 타원 모델 중 단반경을 장반경으로 나눈 값이 가장 큰 제1 타원 모델을 결정하는 단계; 및상기 복수의 절단면 후보 중 상기 제1 타원 모델에 대응하는 절단면 후보를 상기 절단면으로서 결정하는 단계를 포함하는, 동맥류 영역 생성 방법."}
{"patent_id": "10-2024-0079442", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "제15항에 있어서,상기 동맥류 영역을 생성하는 단계는,상기 클립 노드, 상기 절단면의 중점, 단반경, 및 장반경 중 적어도 하나에 기초하여 상기 절단면을 검증하는단계; 및상기 절단면의 검증이 실패이면 절단면을 재결정하는 단계를 더 포함하는, 동맥류 영역 생성 방법."}
{"patent_id": "10-2024-0079442", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_19", "content": "제1항에 있어서,상기 동맥류 영역과 접촉하는 접촉 혈관(kissing vessel)을 결정하는 단계;상기 접촉 혈관을 분리하는 단계를 더 포함하는 동맥류 영역 생성 방법."}
{"patent_id": "10-2024-0079442", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_20", "content": "프로세서와, 상기 프로세서에 연결된 메모리를 포함하고,상기 메모리는 프로그램을 저장하도록 구성되며,상기 프로세서는 상기 프로그램을 실행하도록 구성되고,상기 프로그램이 실행되면, 제1항 내지 제19항 중 어느 한 항의 방법의 단계들이 구현되는,전자 장치.공개특허 10-2025-0036664-7-"}
{"patent_id": "10-2024-0079442", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "일 실시예 따른 동맥류 영역 생성 방법은 입력 이미지를 획득하는 단계; 상기 입력 이미지에 기초하여 혈관 메시 를 생성하는 단계; 상기 혈관 메시에 기초하여 복수의 노드(node)를 포함하는 혈관 네트워크를 생성하는 단계; 및 상기 혈관 네트워크에 이미지 처리를 수행하여 동맥류 영역을 생성하는 단계를 포함한다."}
{"patent_id": "10-2024-0079442", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "개시 내용은 동맥류 영역 생성 방법 및 이를 수행하는 전자 장치에 관한 것이다."}
{"patent_id": "10-2024-0079442", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "동맥류란 동맥벽이 약해져 동맥의 일부가 풍선처럼 늘어나는 질병으로서, 관련하여 뇌동맥류, 대동맥류, 신장동 맥류, 비장동맥류 등이 있을 수 있다. 이러한 동맥류를 치료하기 위한 방법들 중 코일색전술은 동맥류 내에 얇 은 코일을 삽입하여 뇌동맥류 안으로 혈액이 흐르지 않도록 하는 대표적인 치료 방법이다. 이러한 코일색전술의 치료를 위해서는 동맥류의 부피, 길이와 같은 크기 정보를 기초로 하여 코일의 양을 결정 하기 때문에, 동맥류의 크기 정보를 정밀하게 측정하는 것이 동맥류 치료의 가장 중요한 요소라고 할 수 있다. 기존에는 의료진이 환자의 동맥류 이미지를 보고, 팔면체와 같은 다각형을 사용하여 동맥류의 크기 정보를 예측 하였으나, 실제 동맥류와 동일하도록 더욱 정밀하게 크기 정보를 결정하는 방식의 요구되고 있다."}
{"patent_id": "10-2024-0079442", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "일 실시예는 동맥류의 정밀한 크기 정보를 획득하기 위해 동맥류 영역을 생성하는 방법 및 장치를 제공하고자 한다."}
{"patent_id": "10-2024-0079442", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "이러한 기술적 과제를 해결하기 위한 일 실시예에 따른 동맥류 영역 생성 방법은 입력 이미지를 획득하는 단계; 상기 입력 이미지에 기초하여 혈관 메시를 생성하는 단계; 상기 혈관 메시에 기초하여 복수의 노드(node)를 포 함하는 혈관 네트워크를 생성하는 단계; 및 상기 혈관 네트워크에 이미지 처리를 수행하여 동맥류 영역을 생성 하는 단계를 포함한다. 일 실시예에 따른 전자 장치는 프로세서와, 상기 프로세서에 연결된 메모리를 포함하고, 상기 메모리는 프로그 램을 저장하도록 구성되며, 상기 프로세서는 상기 프로그램을 실행하도록 구성되고, 상기 프로그램이 실행되면, 상기 동맥류 영역 생성 방법의 단계들이 구현된다."}
{"patent_id": "10-2024-0079442", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 명세서에 기재된 다양한 실시예들은, 본 개시의 기술적 사상을 명확히 설명하기 위한 목적으로 예시된 것이 며, 이를 특정한 실시 형태로 한정하려는 것이 아니다. 본 개시의 기술적 사상은, 본 명세서에 기재된 각 실시 예의 다양한 변경(modifications), 균등물(equivalents), 대체물(alternatives) 및 각 실시예의 전부 또는 일 부로부터 선택적으로 조합된 실시예를 포함한다. 또한 본 개시의 기술적 사상의 권리 범위는 이하에 제시되는다양한 실시예들이나 이에 대한 구체적 설명으로 한정되지 않는다. 기술적이거나 과학적인 용어를 포함해서, 본 명세서에서 사용되는 용어들은, 달리 정의되지 않는 한, 본 개시가 속하는 기술 분야에서 통상의 지식을 가진 자에게 일반적으로 이해되는 의미를 가질 수 있다. 본 명세서에서 사용되는 \"포함한다\", \"포함할 수 있다\", \"구비한다\", \"구비할 수 있다\", \"가진다\", \"가질 수 있 다\" 등과 같은 표현들은, 대상이 되는 특징(예: 기능, 동작 또는 구성요소 등)이 존재함을 의미하며, 다른 추가 적인 특징의 존재를 배제하지 않는다. 즉, 이와 같은 표현들은 제2 실시예를 포함할 가능성을 내포하는 개방형 용어(open-ended terms)로 이해되어야 한다. 본 명세서에서의 단수의 표현은 문맥상 명백하게 단수인 것으로 특정하지 않는 한, 복수의 표현을 포함한다. 또 한, 복수의 표현은 문맥상 명백하게 복수인 것으로 특정하지 않는 한, 단수의 표현을 포함한다. 명세서 전체에 서 어떤 부분이 어떤 구성요소를 포함한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다른 구성요소를 제 외하는 것이 아니라 다른 구성요소를 더 포함할 수 있음을 의미한다. 또한, 명세서에서 사용되는 '모듈' 또는 '부'라는 용어는 소프트웨어 또는 하드웨어 구성요소를 의미하며, '모 듈' 또는 '부'는 어떤 역할들을 수행한다. 그렇지만, '모듈' 또는 '부'는 소프트웨어 또는 하드웨어에 한정되는 의미는 아니다. '모듈' 또는 '부'는 어드레싱할 수 있는 저장 매체에 있도록 구성될 수도 있고 하나 또는 그 이 상의 프로세서들을 재생시키도록 구성될 수도 있다. 따라서, 일 예로서, '모듈' 또는 '부'는 소프트웨어 구성요 소들, 객체지향 소프트웨어 구성요소들, 클래스 구성요소들 및 태스크 구성요소들과 같은 구성요소들과, 프로세 스들, 함수들, 속성들, 프로시저들, 서브루틴들, 프로그램 코드의 세그먼트들, 드라이버들, 펌웨어, 마이크로 코드, 회로, 데이터, 데이터베이스, 데이터 구조들, 테이블들, 어레이들 또는 변수들 중 적어도 하나를 포함할 수 있다. 구성요소들과 '모듈' 또는 '부'들은 안에서 제공되는 기능은 더 작은 수의 구성요소들 및 '모듈' 또는 '부'들로 결합되거나 추가적인 구성요소들과 '모듈' 또는 '부'들로 더 분리될 수 있다. 본 개시의 일 실시예에 따르면, '모듈' 또는 '부'는 프로세서 및 메모리로 구현될 수 있다. '프로세서'는 범용 프로세서, 중앙 처리 장치(CPU), 마이크로프로세서, 디지털 신호 프로세서(DSP), 제어기, 마이크로제어기, 상태 머신 등을 포함하도록 넓게 해석되어야 한다. 몇몇 환경에서, '프로세서'는 주문형 반도체(ASIC), 프로그램가능 로직 디바이스(PLD), 필드 프로그램가능 게이트 어레이(FPGA) 등을 지칭할 수도 있다. '프로세서'는, 예를 들어, DSP와 마이크로프로세서의 조합, 복수의 마이크로프로세서들의 조합, DSP 코어와 결합한 하나 이상의 마 이크로프로세서들의 조합, 또는 임의의 다른 그러한 구성들의 조합과 같은 처리 디바이스들의 조합을 지칭할 수 도 있다. 또한, '메모리'는 전자 정보를 저장 가능한 임의의 전자 컴포넌트를 포함하도록 넓게 해석되어야 한다. '메모리'는 임의 액세스 메모리(RAM), 판독-전용 메모리(ROM), 비-휘발성 임의 액세스 메모리(NVRAM), 프 로그램가능 판독-전용 메모리(PROM), 소거-프로그램가능 판독 전용 메모리(EPROM), 전기적으로 소거가능 PROM(EEPROM), 플래쉬 메모리, 자기 또는 광학 데이터 저장장치, 레지스터들 등과 같은 프로세서-판독가능 매체 의 다양한 유형들을 지칭할 수도 있다. 프로세서가 메모리로부터 정보를 판독하고/하거나 메모리에 정보를 기록 할 수 있다면 메모리는 프로세서와 전자 통신 상태에 있다고 불린다. 프로세서에 집적된 메모리는 프로세서와 전자 통신 상태에 있다. 본 명세서에서 사용되는 \"제1\", \"제2\", 또는 \"첫째\", \"둘째\" 등의 표현은, 문맥상 다르게 뜻하지 않는 한, 복수 의 동종 대상들을 지칭함에 있어 한 대상을 다른 대상과 구분하기 위해 사용되며, 해당 대상들 간의 순서 또는 중요도를 한정하는 것은 아니다. 본 명세서에서 사용되는 \"A, B, 및 C,\" \"A, B, 또는 C,\" \"A, B, 및/또는 C\" 또는 \"A, B, 및 C 중 적어도 하 나,\" \"A, B, 또는 C 중 적어도 하나,\" \"A, B, 및/또는 C 중 적어도 하나,\" \"A, B, 및 C 중에서 선택된 적어도 하나,\" \"A, B, 또는 C 중에서 선택된 적어도 하나,\" \"A, B, 및/또는 C 중에서 선택된 적어도 하나\" 등의 표현은, 각각의 나열된 항목 또는 나열된 항목들의 가능한 모든 조합들을 의미할 수 있다. 예를 들어, \"A 및 B 중에서 선택된 적어도 하나\"는, A, A 중 적어도 하나, B, B 중 적어도 하나, A 중 적어도 하나 및 B 중 적어도 하나, A 중 적어도 하나 및 B, B 중 적어도 하나 및 A, A 및 B를 모두 지칭할 수 있다. 본 명세서에서 사용되는 \"~에 기초하여\"라는 표현은, 해당 표현이 포함되는 어구 또는 문장에서 기술되는, 결정, 판단의 행위 또는 동작에 영향을 주는 하나 이상의 인자를 기술하는데 사용되고, 이 표현은 해당 결정, 판단의 행위 또는 동작에 영향을 주는 추가적인 인자를 배제하지 않는다. 본 명세서에서 사용되는, 어떤 구성요소(예: 제1 구성요소)가 다른 구성요소(예: 제2 구성요소)에 \"연결되어\" 있다거나 \"접속되어\" 있다는 표현은, 상기 어떤 구성요소가 상기 다른 구성요소에 직접적으로 연결 또는 접속되 는 것뿐 아니라, 새로운 다른 구성요소(예: 제3 구성요소)를 매개로 하여 연결 또는 접속되는 것을 의미할 수 있다. 본 명세서에서 사용된 표현 \"~하도록 구성된(configured to)\"은 문맥에 따라, \"~하도록 설정된\", \"~하는 능력을 가지는\", \"~하도록 변경된\", \"~하도록 만들어진\", \"~를 할 수 있는\" 등의 의미를 가질 수 있다. 해당 표현은, \"하드웨어적으로 특별히 설계된\"의 의미로 제한되지 않으며, 예를 들어 특정 동작을 수행하도록 구성된 프로세 서란, 소프트웨어를 실행함으로써 그 특정 동작을 수행할 수 있는 범용 프로세서(generic-purpose processor)를 의미할 수 있다. 이하, 첨부된 도면들을 참조하여, 본 개시의 다양한 실시예들을 설명한다. 첨부된 도면 및 도면에 대한 설명에 서, 동일하거나 실질적으로 동등한(substantially equivalent) 구성요소에는 동일한 참조부호가 부여될 수 있다. 또한, 이하 다양한 실시예들의 설명에 있어서, 동일하거나 대응하는 구성요소를 중복하여 기술하는 것이 생략될 수 있으나, 이는 해당 구성요소가 그 실시예에 포함되지 않는 것을 의미하지는 않는다. 도 1은 일 실시예에 따른 컴퓨팅 시스템의 개략적인 블록도이고, 도 2는 일 실시예에 따른 동맥류 영역을 생성 하는 방법을 나타내는 순서도이다. 도 1을 참조하면, 일 실시예에 따른 컴퓨팅 시스템은 제1 사용자의 혈관 이미지를 획득하고, 획득된 혈관 이미지에 이미지 처리를 수행하고, 처리된 이미지를 표시할 수 있다. 컴퓨팅 시스템은 처리된 이미지를 제2 사용자에게 제공할 수 있다. 예를 들어, 제1 사용자는 환자이고, 제2 사용자는 의료진일 수 있다. 일 실시예에서, 컴퓨팅 시스템은 제1 사용자의 뇌혈관을 촬영하여 뇌혈관 이미지를 획득하고, 뇌혈관 이미 지에 이미지 처리를 수행함으로써 동맥류 영역을 생성할 수 있다. 하지만, 실시예가 반드시 이에 한정되는 것은 아니고, 컴퓨팅 시스템은 심혈관, 위장혈관 등 혈관 조영술(angiography)의 대상이 되는 혈관을 촬영할 수 있다. 일 실시예에 따른 컴퓨팅 시스템은 제1 전자 장치 및 제2 전자 장치를 포함한다. 제1 전자 장치 는 제1 사용자를 촬영하여 이미지를 획득하는 촬영 장치일 수 있다. 예를 들어, 제1 전자 장치는 혈 관조영촬영장비(예를 들어, angio장비), 빛간섭단층촬영(Optical Coherence Tomography(OCT)) 장비, 컴퓨터단 층촬영(Computed Tomography(CT)) 장비, 자기공명영상(Magnetic Resonance Imaging(MRI)) 장비 등일 수 있다. 제1 전자 장치는 복수의 촬영 지점에서 제1 사용자를 촬영하고, 복수의 이미지를 획득할 수 있다. 일 실시 예에서, 제1 전자 장치는 제1 사용자의 주변을 회전하면서 제1 사용자를 촬영할 수 있다. 다른 실시예에서, 제1 전자 장치는 제1 사용자를 회전시키고, 회전하는 제1 사용자를 촬영할 수 있다. 제1 전자 장치는 획득한 복수의 이미지를 제2 전자 장치에 전송할 수 있다. 제2 전자 장치는 복수의 이미지에 기초하여 동맥류 영역을 생성할 수 있다. 제2 전자 장치는 도 2의 동맥류 영역 생성 방법을 수행할 수 있다. 제2 전자 장치는 동맥류 영역 생성 방법을 실행하기 위한 프로 그램을 저장하는 메모리와, 프로그램을 실행하여 동맥류 영역을 생성하도록 구성되는 프로세서를 포함할 수 있 다. 제2 전자 장치는 입출력 장치(마우스, 키보드와 같은 입력 장치, 디스플레이 패널과 같은 출력 장치, 터치스크린 패널과 같은 입출력 장치 등을 포함), 통신 장치 등을 더 포함할 수도 있다. 도 1 및 도 2를 참조하면, 제2 전자 장치는 입력 이미지를 획득할 수 있다(S110). 예를 들어, 제2 전자 장 치는 제1 전자 장치가 촬영한 복수의 이미지를 수신할 수 있다. 제2 전자 장치는 제1 전자 장치로부터 입력된 이미지에 이미지 처리를 수행하는 연산 장치일 수 있다. 제2 전자 장치는 입력 이미지에 기초하여 혈관 네트워크를 생성할 수 있다(S120). 제2 전자 장치는 입력된 이미지로부터 혈관 메시(vessel mesh)를 생성할 수 있다. 일 실시예에서, 제2 전 자 장치는 마칭 큐브(marching cube) 알고리즘을 사용하여 혈관 메시를 생성할 수 있다. 혈관 메시는 혈관 을 3차원으로 표시한 데이터일 수 있다. 제2 전자 장치는 혈관 메시에 기초하여 혈관 네트워크를 생성할 수 있다. 혈관 메시는 좌표, 벡터 등과 같은 3차원 파라미터를 포함하지 않으므로, 제2 전자 장치는 이미 지 처리를 위해서 혈관 네트워크를 생성할 수 있다. 제2 전자 장치가 혈관 네트워크를 생성하는 구성은 도 3을 참조하여 후술한다.제2 전자 장치는 혈관 네트워크를 처리하여 동맥류 영역을 획득할 수 있다(S130). 동맥류 영역은 혈관 네 트워크에서 동맥류가 위치하는 영역일 수 있다. 즉, 제2 전자 장치는 혈관 네트워크로부터 동맥류 영역을 생성할 수 있다. 제2 전자 장치가 혈관 네트워크를 처리하는 것은 이미지 처리를 수행하는 것을 의미할 수 있다. 예를 들어, 제2 전자 장치는 혈관 네트워크에서 복수의 노드(node)를 선택하고, 선택된 노드에 기초 하여 절단면(cutting plane)을 결정할 수 있다. 제2 전자 장치는 절단면을 사용하여 혈관 네트워크를 절단 함으로써 동맥류 영역을 생성할 수 있다. 일 실시예에서, 제2 전자 장치는 혈관 네트워크로부터 리프 혈관을 필터링하여 동맥류 영역을 생성할 수 있다. 일 실시예에서, 제2 전자 장치는 혈관 네트워크로부터 스티키(sticky) 혈관을 필터링하여 동맥류 영 역을 생성할 수 있다. 일 실시예에서, 제2 전자 장치는 혈관 네트워크로부터 노이즈를 필터링하여 동맥류 영역을 생성할 수 있다. 제2 전자 장치는 상술한 방식들의 다양한 조합을 사용하여 동맥류 영역을 생성할 수 있다. 전자 장치가 혈관 네트워크를 처리하는 구성에 대해서는 도 12를 참조하여 후술한다. 제2 전자 장치는 동맥류 영역에 해당하는 지점(예를 들어, 클립 노드)을 결정할 수 있다. 제2 전자 장치 는 결정된 지점에서 혈관 이미지를 자를 절단면을 결정할 수 있다. 어떤 실시예에서, 제2 전자 장치 는 클립 노드 및/또는 절단면을 검증할 수 있다. 제2 전자 장치는 클립 노드 및/또는 절단면의 검증이 실 패이면 클립 노드 및/또는 절단면을 변경할 수 있다. 제2 전자 장치가 입력 이미지에서 혈관 메시를 생성하고 동맥류 영역을 정교하게 분리함으로써, 제2 사용 자는 복잡한 혈관 구조에 포함되는 동맥류의 파라미터를 정밀하게 계측할 수 있다. 따라서, 제2 사용자는 계측 된 파라미터에 기초하여 정확한 진단을 내리고 치료 계획을 수립할 수 있다. 또한, 제2 전자 장치는 촬영 과정에서 발생할 수 있는 노이즈를 제거함으로써 혈관 메시의 선명도와 정확 도를 향상시킬 수 있다. 이에, 재촬영의 필요성이 감소되고, 치료 시간을 단축시킬 수 있으며, 시술 또는 수술 을 진행하는 경우 위험을 감소시켜 신뢰도가 향상될 수 있다. 제2 전자 장치는 서버(server), 데이터 센터(data center), 인공지능(Artificial Intelligence(AI)) 장치, 개인용 컴퓨터(Personal Computer(PC)), 랩탑(laptop) 컴퓨터, 휴대용 통신 단말기(mobile phone), 스마 트폰(smart phone), 태블릿 PC(tablet PC), 웨어러블 기기, 헬스케어 기기 등일 수 있다. 어떤 실시예에서, 제2 전자 장치가 서버, 데이터 센터 등으로 구현되는 경우, 컴퓨팅 시스템은 제2 사 용자와 상호작용하기 위한 제3 전자 장치를 더 포함할 수 있다. 예를 들어, 제3 전자 장치는 제2 사용자에게 이 미지를 표시하고, 제2 사용자로부터 입력을 수신하는 등의 상호작용을 할 수 있다. 제3 전자 장치는 제1 전자 장치 및/또는 제2 전자 장치와 통신할 수 있다. 도 3은 일 실시예에 따른 전자 장치가 혈관 네트워크를 생성하는 방법을 나타내는 순서도이고, 도 4 내지 도 11 은 일 실시예에 따른 전자 장치가 혈관 네트워크를 생성하는 방법을 설명하기 위한 도면이다. 도 3 내지 도 11을 참조하면, 일 실시예에 따른 전자 장치(예를 들어, 도 1의 제2 전자 장치)는 입력 이미 지를 획득하고(S110), 입력 이미지에 기초하여 혈관 메시를 생성할 수 있다(S121). 혈관 메시는 도 4 에 도시된 바와 같을 수 있다. 혈관 메시는 3차원의 표면(surface)으로 구성되며, 표면은 복수의 셀(cel l)을 포함할 수 있다. 예를 들어, 셀은 세 개의 포인트(point)를 사용하여 형성되는 2차원의 평면일 수 있다. 일 실시예에서, 입력 이미지는 복셀(voxel) 데이터를 포함하고, 전자 장치는 복셀 데이터에 변환 알고리즘을 적 용하여 혈관 메시를 생성할 수 있다. 예를 들어, 변환 알고리즘은 마칭 큐브 알고리즘을 포함할 수 있다. 전자 장치는 혈관 메시에 기초하여 혈관 네트워크를 생성할 수 있다(S122). 혈관 네트워크는 도 5에 도시된 바와 같을 수 있다. 혈관 네트워크를 생성하는 것은 노드와 에지(edge)를 생성하는 것으로 이해될 수 있다. 노드는 표면 내부 의 포인트를 의미하고, 에지는 이웃하는 두 노드를 연결하는 라인(line)을 의미할 수 있다. 전자 장치는 노드의 3차원 좌표를 결정함으로써 노드를 생성할 수 있다. 전자 장치는 혈관 메시에서 적어도 하나의 개방 혈관을 검출하고, 개방 혈관의 경계(boundary)를 결정할 수 있다. 개방 혈관은 막혀있지 않은 혈관을 의미할 수 있다. 경계는 개방 혈관에서 끝단에서 서로 맞닿아 있는 셀들을 의미할 수 있다.전자 장치는 개방 혈관의 경계에 기초하여 시작 노드를 생성할 수 있다. 예를 들어, 전자 장치는 개방 혈관의 경계인 셀들의 중심을 시작 노드로서 생성할 수 있다. 전자 장치는 시작 노드에 인접한 표면에서부터 시작하여, 표면 전파(propagation)을 수행하면서 후속 노드들을 계속하여 결정할 수 있다. 표면 전파는 노드 결정에 사용 된 제1 셀들에서, 제1 셀들에 인접한 제2 셀들로 이동하는 것을 의미할 수 있다. 즉, 전자 장치는 개방 혈관의 경계인 셀들(예를 들어, 제1 셀들)로부터 제1 노드(시작 노드)를 결정하고, 경계인 셀들에 인접한 셀들(예를 들 어, 제2 셀들)로부터 제2 노드를 결정할 수 있다. 이와 같이, 전자 장치는 표면의 모든 셀에 대해 표면 전파를 수행하면서 노드들을 생성할 수 있다. 전자 장치는 노드의 반지름 정보를 결정할 수 있다. 반지름 정보는 노드에서부터 표면까지의 거리를 의미할 수 있다. 예를 들어, 전자 장치는 노드와 해당 노드의 결정에 사용된 셀들 사이의 거리들을 계산하고, 거리들에 기 초하여 반지름 정보를 결정할 수 있다. 일 실시예에서, 전자 장치는 계산된 거리들 중 가장 긴 거리를 해당 노 드의 반지름 정보로서 결정할 수 있다. 하지만, 실시예가 반드시 이에 한정되는 것은 아니고, 전자 장치는 계산 된 거리들의 평균을 계산하거나, 중간값을 계산하는 등 다양한 방식으로 반지름 정보를 결정할 수 있다. 전자 장치는 개방 혈관의 경계의 노드의 반지름 정보를 미리 설정된 값으로 변경할 수 있다. 예를 들어, 미리 설정된 값은 '0'일 수 있다. 이에, 전자 장치는 완성된 네트워크에서, 미리 설정된 값을 사용하여 노드들 중 경 계의 노드를 선택할 수 있다. 전자 장치는 에지의 길이를 계산할 수 있다. 예를 들어, 제1 에지는 제1 노드 및 제2 노드를 연결하는 라인일 수 있다. 전자 장치는 제1 노드의 좌표 및 제2 노드의 좌표에 기초하여 제1 에지의 길이를 결정할 수 있다. 이와 같이, 전자 장치는 노드와 에지를 생성함으로써 혈관 네트워크를 생성하고, 노드의 좌표, 노드의 반 지름 정보, 에지의 길이 등을 함께 결정할 수 있다. 전자 장치는 혈관 네트워크에서 리프 노드(leaf node)를 결정할 수 있다(S123). 도 6을 참조하면, 일 실시 예에 따른 리프 노드를 결정하는 구성을 확인할 수 있다. 전자 장치는 혈관 메시에서 끝단의 혈관이면서 개방 혈관(620, 630)이 아닌 혈관 중에서 리프 혈관 후보를 결정할 수 있다. 리프 혈관 후보는 이웃하는 노드가 하나일 수 있다. 전자 장치는 복수의 노드 중에서 이웃하는 노드가 하나이면서 개방 혈관(620, 630)에 대응하는 노드가 아닌 노드를 후보 리프 노드로서 결정할 수 있다. 전자 장치는 리프 혈관 후보 중 리프 혈관을 결정하고, 리프 혈관에서 리프 노드를 결정할 수 있다. 혈관 메시에서 끝단의 혈관이면서 개방 혈관(620, 630)이 아닌 혈관은 리프 혈관, 동맥류 등이 있을 수 있다. 즉, 리프 혈관, 동맥류 등이 리프 혈관 후보가 될 수 있다. 리프 혈관은 직경이 점점 작아 지면서 한 점으로 수렴하는 혈관을 의미할 수 있다. 전자 장치는 미리 설정된 값(예를 들어, 상술한 '0')을 사용하여 개방 혈관(620, 630)에서 경계 노드(621, 63 1)를 필터링할 수 있다. 전자 장치가 경계 노드(621, 631)의 반지름 정보를 미리 설정된 값으로 결정했기 때문 이다. 반면에, 리프 혈관에서 리프 노드는 반지름 정보가 '0'이 아닌 값을 가지기 때문에 필터링되지 않을 수 있다. 이에, 전자 장치는 리프 혈관을 필터링하기 위해 리프 노드를 결정할 수 있다. 리프 혈관에서 노드가 리프 노드 쪽으로 가까워질수록(예를 들어, 612->613->611) 노드 주변의 셀들 의 사잇각은 작아질 수 있다. 전자 장치는 표면에서 접하는 두 셀들의 사잇각을 계산하고, 사잇각이 기준각도 이하(또는 미만)인 두 셀들을 검출할 수 있다. 전자 장치는 두 셀들의 접선(641~644)을 표시할 수 있다. 도 6에 서는 설명의 편의를 위해 네 개의 접선(641~644)에 대해서만 부재번호를 표시하였으나, 부재번호가 표시되지 않 은 많은 접선들이 도시되어 있다. 도 6에서는 리프 혈관이 상대적으로 많은 접선(641~644)을 포함하고, 개 방 혈관(620, 630)은 상대적으로 적은 접선을 포함하는 것을 확인할 수 있다. 전자 장치는 접선과 노드 사이의 거리를 계산할 수 있다. 예를 들어, 전자 장치는 제1 노드와, 제1 노드 주변의 n개(n은 1보다 큰 정수)의 접선들 사이의 거리를 계산할 수 있다. 전자 장치는 제2 노드와, 제2 노드 주변의 n개의 접선들 사이의 거리를 계산할 수 있다. 전자 장치는 리프 노드와, 리프 노드 주변의 n개의 접선들 사이의 거리를 계산할 수 있다. 전자 장치는 노드에서부터 접선에 이르는 가장 짧은 거리를 노드와 접선 사이의 거리로서 결정할 수 있다. 하지 만, 실시예가 반드시 이에 한정되는 것은 아니고, 접선의 중점과 노드 사이의 거리 등과 같이 접선 내 다양한 포인트가 거리 계산에 사용될 수도 있다. 전자 장치는 계산된 거리에 기초하여 노드들 중에서 리프 노드를 결정할 수 있다. 일 실시예에서, 전자 장 치는 계산된 거리가 기준값 이하(또는 미만)인 노드를 리프 노드로서 결정할 수 있다. 일 실시예에서, 전 자 장치는 계산된 거리가 가장 짧은 노드를 리프 노드로서 결정할 수 있다. 전자 장치는 수학식 1과 같이 프로베니우스 놈(frobenius norm)을 사용하여 리프 노드를 결정할 수도 있다. 수학식 1"}
{"patent_id": "10-2024-0079442", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "여기서, normf는 혈관 네트워크의 노드들 중 임의의 노드f의 프로베니우스 놈 값을 나타내며 노드f와 n개의 접 선들 각각 사이의 거리에 기초하여 계산되고, 은 후보 리프 노드의 좌표(leaf node coord)와 접선의 포인트i 의 좌표(point i coord)에 의해 정의되는 벡터의 놈(norm)을 나타내며, 포인트i는 접선 상에 있으면서 후보 리 프 노드까지의 거리가 가장 짧은 포인트를 나타낼 수 있다. 전자 장치는 노드들의 프로베니우스 놈 값들을 결정하고, 기준값 이하(또는 미만)인 프로베니우스 놈 값을 갖는 노드를 리프 노드로서 결정할 수 있다. 전자 장치는 리프 노드의 반지름 정보를 미리 설정된 값(예를 들어, '0')으로 변경할 수 있다. 이에, 전자 장치는 미리 설정된 값을 사용하여 혈관 네트워크에서 리프 노드 및 경계 노드(621, 631)를 필터링할 수 있다. 다시 도 3을 참조하면, 전자 장치는 동맥류 네트워크를 결정할 수 있다(S124). 도 7을 참조하면, 일 실시예에 따른 동맥류 네트워크를 결정하는 구성을 확인할 수 있다. 전자 장치는 혈관 메시에서 끝단의 혈관이면서 리프 혈관, 개방 혈관(620, 630)이 아닌 혈관을 동맥류 후보로서 결정할 수 있다. 전자 장치는 동맥류 후보를 검증하고, 검증이 성공이면 동맥류 후보를 동맥류로서 결정할 수 있다. 예를 들어, 전자 장치는 동맥류 후보에서 끝단의 시작 노드를 검출할 수 있다. 전자 장치는 시작 노 드에서 시작하여 분기 노드에 도달할 수 있다. 분기 노드는 이웃하는 노드가 세 개 이상인 노드 를 의미할 수 있다. 도 7에서는 시작 노드에서 분기 노드에 이르는 경로를 설명하기 위해 다른 노드 는 도시하지 않았으나, 실제로 분기 노드는 세 개 이상의 노드와 연결될 수 있다. 전자 장치는 동맥류 후보가 분기 노드를 포함하면 동맥류 후보의 검증이 성공인 것으로 결정할 수 있다. 동맥류 후보가 분기 노드를 포함하는 것은 시작 노드에서부터 기준 거리 이내에 분기 노드가 존재하는 것을 의미할 수 있다. 기준 거리는 시작 노드와 분기 노드 사이의 에지들의 거 리를 의미할 수 있으나, 실시예에 따라, 기준 거리는 시작 노드와 분기 노드 사이의 직선 거리를 의 미할 수도 있다. 전자 장치는 동맥류 후보가 분기 노드를 포함하지 않으면 동맥류 후보의 검증 이 실패인 것으로 결정할 수 있다. 전자 장치는 동맥류의 시작 노드에서 분기 노드에 이르는 노드 및 에지를 포함하는 동맥류 네트워크 를 생성할 수 있다. 다시 도 3을 참조하면, 전자 장치는 흐름 네트워크를 결정할 수 있다(S125). 흐름 네트워크는 혈관 내에서의 혈 액의 흐름을 나타낼 수 있다. 도 8 및 도 9에서는 일 실시예에 따른 흐름 네트워크를 결정하는 구성을 확인할 수 있다. 도 8을 참조하면, 전자 장치는 혈관 네트워크에서 개방 혈관(801~816)을 검출할 수 있다. 개방 혈관(801~816)은 혈관 네트워크에서 끝단의 혈관을 의미할 수 있다. 혈관 네트워크에서 끝단의 혈관은 리프 혈관, 동맥류 등을 더 포함할 수 있다. 전자 장치는 도 6 및 도 7을 참조하여 설명한 방식을 사용하여 혈관 네트워크의 끝단의 혈 관에서 리프 혈관, 동맥류 등을 필터링하고, 개방 혈관(801~816)을 추출할 수 있다. 전자 장치는 개방 혈관 (801~816) 중 가장 큰 혈관의 노드를 시작 노드로서 결정할 수 있다. 일 실시예에서, 전자 장치는 개방 혈관(801~816)을 타원 모델(ellipse model)에 투영시킬 수 있다. 개방 혈관 (801~816)을 투영시키는 것은 개방 혈관(801~816)에 가장 잘 맞는(fit) 타원 모델을 찾는 것으로도 이해될 수있다. 예를 들어, 전자 장치는 오픈소스(open source) 이미지 처리 라이브러리를 사용하여 개방 혈관(801~816) 을 타원 모델에 투영시킬 수 있다. 전자 장치는 각 타원의 파라미터를 획득할 수 있다. 타원의 파라미터는 단반 경, 장반경, 둘레 등의 값을 포함할 수 있다. 도 8 및 도 9를 참조하면, 전자 장치는 개방 혈관(801~816)을 투영시킨 타원 모델(901~915)을 결정할 수 있다. 전자 장치는 타원 모델(901~915)의 파라미터를 획득할 수 있다. 타원 모델을 예로 들어 설명하면, 타원 모 델은 단반경(SR), 장반경(LR), 둘레(CC) 등의 파라미터를 가질 수 있다. 일 실시예에서, 전자 장치는 타원 모델(901~915)의 단반경을 획득하고, 타원 모델(901~915) 중에서 단반경이 가 장 큰 타원 모델을 결정할 수 있다. 전자 장치는 타원 모델에 대응하는 개방 혈관을 시작 혈관 으로서 결정할 수 있다. 전자 장치는 시작 혈관의 노드를 시작 노드로서 결정할 수 있다. 전자 장치는 시작 노드에서 시작하여 노드 전파를 수행할 수 있다. 전자 장치는 후속하는 노드로의 방향을 혈류 의 흐름으로 결정할 수 있다. 전자 장치는 혈류의 흐름을 표시할 수 있다. 예를 들어, 전자 장치는 제1 노드에 서 제2 노드로 전파하는 경우, 제1 노드에서부터 제2 노드에 이르는 화살표를 표시할 수 있다. 즉, 제1 노드와 제2 노드 사이의 에지가 화살표로 표시될 수 있다. 전자 장치는 노드 전파를 수행하면서 분기 노드에 도달할 수 있다. 예를 들어, 분기 노드는 제3 노드, 제4 노드, 및 제5 노드와 연결되며, 제3 노드는 분기 노드 이전의 노드이고, 제4 및 제5 노드는 분기 노드 이후의 노드일 수 있다. 전자 장치는 제4 노드 및 제5 노드 중에서 먼저 노드 전파를 수행할 노드를 결정할 수 있다. 일 실시예에서, 전자 장치는 제4 노드 및 제5 노드 중에서 반지름이 더 큰 노드를 대상으로 노드 전파를 먼저 수행할 수 있다. 예를 들어, 제4 노드의 반지름이 제5 노드보다 더 크고, 전자 장치는 분기 노드에서 제4 노드 쪽으로 먼저 노드 전파를 수행하고, 제4 노드에 대응하는 혈류의 흐름을 완성한 후, 분기 노드에서 네5 노드 쪽 으로 노드 전파를 수행하고, 제5 노드에 대응하는 혈류의 흐름을 완성할 수 있다. 하지만, 실시예가 반드시 이 에 한정되는 것은 아니고, 전자 장치는 분기 노드에서 반지름이 작은 노드 쪽으로 먼저 노드 전파를 수행할 수 도 있다. 전자 장치는 혈관 네트워크에서 혈류의 흐름을 포함하는 흐름 네트워크를 생성할 수 있다. 다시 도 3을 참조하면, 전자 장치는 흐름 네트워크에서 노이즈를 제거할 수 있다(S126). 도 10을 참조하 면, 일 실시예에 따른 노이즈를 결정하는 구성을 확인할 수 있다. 먼저, 전자 장치는 혈관 네트워크의 끝단의 혈관에서 개방 혈관, 리프 혈관, 동맥류를 필터링할 수 있다. 즉, 끝단의 혈관 중 개방 혈관, 리프 혈관, 동맥 류가 아닌 혈관이 노이즈 후보가 될 수 있다. 전자 장치는 노이즈 후보의 리프 노드(n_lf)를 결정할 수 있다. 전자 장치는 리프 노드(n_lf)에서 시작하여 혈 류 흐름(blc)에 역행하는 노드 전파를 수행할 수 있다. 전자 장치는 분기 노드(n_br)에 도달할 때까지 노드 전 파를 수행할 수 있다. 전자 장치는 리프 노드(n_lf)에서 시작하여 분기 노드(n_br)에 이르는 경로 중, 분기 노 드(n_br) 직전의 노드를 기준 노드(n_rf)로서 결정할 수 있다. 전자 장치는 기준 노드(n_rf)에 기초하여 노이즈 후보가 실제 노이즈인지 여부를 판정할 수 있다. 예를 들어, 전자 장치는 기준 노드(n_rf)의 반지름(r1)에 기초하여 구(c1)를 생성할 수 있다. 전자 장치는 반지름(r1)에 소 정의 가중치를 곱하여 반지름(r2)을 획득하고, 반지름(r2)에 기초하여 구(c2)를 생성할 수 있다. 전자 장치는 리프 노드(n_lf)가 구(c2) 내부에 위치하는 경우, 노이즈 후보를 실제 노이즈인 것으로 판정할 수 있다. 전자 장치는 리프 노드(n_lf)가 구(c2) 외부에 위치하는 경우, 노이즈 후보가 실제 노이즈가 아닌 것으로 판정할 수 있다. 전자 장치는 리프 노드(n_lf)에서부터 기준 노드(n_rf)까지를 노이즈로서 결정할 수 있다. 전자 장치는 노이즈는 스티키 네트워크로서 분류할 수도 있다. 전자 장치는 흐름 네트워크에서 리프 노드(n_lf)에서부 터 기준 노드(n_rf)까지의 노드들을 포함하는 노이즈를 제거할 수 있다. 도 11을 참조하면, 일 실시예에 따른 흐름 네트워크에서 동맥류 네트워크(nt_an1, nt_an2)와 스티키 네트워크 (nt_st1, nt_st2)가 표시된 것을 확인할 수 있다. 동맥류 네트워크(nt_an1, nt_an2)는 도 3의 단계(S124)의 설 명이 적용되고, 스티키 네트워크(nt_st1, nt_st2)는 도 3의 단계(S126)의 설명이 적용될 수 있다. 전자 장치는 흐름 네트워크에서 동맥류 네트워크(nt_an1, nt_an2)와 스티키 네트워크(nt_st1, nt_st2)를 필터링할 수 있다. 즉, 전자 장치는 흐름 네트워크가 포함하는 복수의 노드들에서 동맥류 네트워크(nt_an1, nt_an2)의 제1 노드들 과 스티키 네트워크(nt_st1, nt_st2)의 제2 노드들을 제외한 제3 노드들을 획득할 수 있다. 전자 장치는 제3 노드들을 대상으로 흐름 네트워크를 생성할 수 있다. 즉, 전자 장치는 제1 노드들과 제2 노드들에서는 혈류 흐름 을 결정하지 않을 수 있다. 전자 장치는 흐름 네트워크를 생성하고, 도 2의 단계(S130)를 수행할 수 있다. 도 3에서는, 단계들(S121~S126)이 도 2의 단계(S120)에 포함되는 것으로 도시하였지만, 실시예가 반드시 이에 한정되는 것은 아니고, 단계(S120)는 단계들(S121~S126) 중 임의의 조합을 포함하는 것으로 구현될 수도 있다. 예를 들어, 단계(S120)는 단계들(S121~S125)을 포함하는 것으로 구현될 수 있다. 도 12는 일 실시예에 따른 전자 장치가 혈관 네트워크를 처리하는 방법을 나타내는 순서도이고, 도 13 내지 도 18은 일 실시예에 따른 전자 장치가 혈관 네트워크를 처리하는 방법을 설명하기 위한 도면이다. 도 12를 참조하면, 일 실시예에 따른 전자 장치는 혈관 네트워크를 생성하고(S120), 베이스 노드(base node)를 결정할 수 있다(S131). 도 13 및 도 14는 일 실시예에 따른 베이스 노드를 결정하는 구성을 확인할 수 있다. 도 13을 참조하면, 일 실 시예에 따른 전자 장치는 동맥류 포인트(apt1)를 결정할 수 있다. 동맥류 포인트(apt1)는 혈관 표면(vss1)에 위 치할 수 있다. 일 실시예에서, 전자 장치는 사용자 입력을 수신하고, 사용자 입력에 기초하여 동맥류 포인트 (apt1)를 결정할 수 있다. 예를 들어, 전자 장치는 혈관 이미지를 표시하고, 사용자는 혈관 이미지에서 동맥류 를 인식하고 동맥류에 대응하는 동맥류 포인트(apt1)를 선택할 수 있다. 혈관 이미지는 상술한 혈관 메시, 혈관 네트워크 등의 이미지를 의미할 수 있다. 다른 실시예에서, 전자 장치는 인공지능(Artificial Intelligence(AI))을 사용하여 동맥류 포인트(apt1)를 결정 할 수 있다. 전자 장치는 혈관 이미지로부터 동맥류 포인트(apt1)를 출력하도록 학습된 인공 신경망을 포함할 수 있다. 학습된 인공 신경망은 동맥류 포인트(apt1)를 출력하기 위한 파라미터(또는 가중치)를 가질 수 있다. 전자 장치는 동맥류 포인트(apt1)에 기초하여 구(sphere) 형태의 포인트 클라우드(point cloud; spr1)를 생성할 수 있다. 전자 장치는 동맥류 포인트(apt1)를 중심으로 하고, 소정의 반지름을 갖는 포인트 클라우드(spr1)를 생성할 수 있다. 포인트 클라우드(spr1)는 혈관 표면(vss1) 내부에 위치하는 제1 포인트들과, 혈관 표면(vss1) 외부에 위치하는 제2 포인트들을 포함할 수 있다. 전자 장치는 포인트 클라우드(spr1)의 제1 포인트들에 기초하여 벡터(vt1)를 생성할 수 있다. 예를 들어, 전자 장치는 동맥류 포인트(apt1)의 제1 포인트들에 대한 벡터들을 계산하고, 계산된 벡터들의 평균을 벡터(vt1)로서 결정할 수 있다. 전자 장치는 벡터(vt1)에 기초하여 동맥류 포인트(apt1)를 포인트(apt2)로 이동시킬 수 있다. 전자 장치는 동맥류 네트워크의 노드들 각각과 포인트(apt2)를 잇는 선분을 생성할 수 있다. 동맥류 네트워크에 대해서는 도 7을 참조하여 설명한 내용이 동일하게 적용될 수 있다. 예를 들어, 전자 장치는 노드(nin1) 및 포 인트(apt2)에 기초하여 라인(line1)을 생성할 수 있다. 전자 장치는 라인(line1)이 혈관 표면(vss1)을 통과하는 지 여부를 판정할 수 있다. 전자 장치는 라인(line1)이 혈관 표면(vss1)을 통과하지 않으면 동맥류 네트워크의 시작 노드(예를 들어, 노드(nin1))를 제1 후보 베이스 노드로 결정할 수 있다. 시작 노드는 흐름 네트워크의 분 기 노드와 직접 연결되는 동맥류 네트워크의 노드를 의미할 수 있다. 전자 장치는 라인(line1)이 혈관 표면 (vss1)을 통과하면, 동맥류 네트워크의 다른 노드들에 기초하여 생성된 라인들이 혈관 표면(vss1)을 통과하는지 여부를 판정할 수 있다. 이때, 적어도 하나의 라인이 혈관 표면(vss1)을 통과하지 않으면 동맥류 네트워크의 시 작 노드를 제1 후보 베이스 노드로 결정할 수 있다. 도 14는 도 13을 회전시켜 뷰잉 포인트(viewing point)를 전환한 도면일 수 있다. 도 14를 참조하면, 전자 장치 는 흐름 네트워크에서 동맥류 네트워크와 연결되는 분기 노드(nin2)를 결정할 수 있다. 전자 장치는 분기 노드 (nin2) 및 포인트(apt2)에 기초하여 라인(line2)을 생성할 수 있다. 전자 장치는 라인(line2)이 혈관 표면 (vss1)을 통과하는지 여부를 판정할 수 있다. 전자 장치는 라인(line2)이 혈관 표면(vss1)을 통과하지 않으면 분기 노드(nin2)를 제2 후보 베이스 노드로 결정할 수 있다. 전자 장치는 라인(line2)이 혈관 표면(vss1)을 통 과하면 분기 노드(nin2)를 제2 후보 베이스 노드로 결정하지 않을 수 있다. 전자 장치는 도 13의 제1 후보 베이스 노드(예를 들어, 동맥류 네트워크의 시작 노드)와, 도 14의 제2 후보 베 이스 노드(예를 들어, 흐름 네트워크의 분기 노드) 중 길이가 짧은 라인(line1 또는 line2)을 갖는 노드를 베이 스 노드로서 결정할 수 있다.다시 도 12를 참조하면, 전자 장치는 맥스컷(max cut) 네트워크를 생성할 수 있다(S132). 도 15는 일 실시예에 따른 맥스컷 네트워크를 생성하는 구성을 확인할 수 있다. 도 15를 참조하면, 전자 장치는 베이스 노드(nbs)에 기초하여 흐름 네트워크로부터 맥스컷 네트워크를 생성할 수 있다. 맥스컷 네트워크는 흐름 네트워크에서 동맥류 네트워크를 포함하는 네트워크로서, 전자 장치는 흐름 네트워크에 프루닝(pruning)을 수행 함으로써 맥스컷 네트워크를 생성할 수 있다. 전자 장치는 베이스 노드(nbs)를 기준으로 소정의 거리에 있는 노드들(nend1~nend6)을 결정할 수 있다. 즉, 노 드들(nend1~nend6) 각각으로부터 베이스 노드(nbs)에 이르는 거리는 실질적으로 동일할 수 있다. 거리는 노드 간 거리인 에지의 합으로써 계산될 수 있다. 전자 장치는 베이스 노드(nbs)에서 노드들(nend1~nend6)에 이르는 노드들을 맥스컷 네트워크로서 결정할 수 있다. 전자 장치가 흐름 네트워크의 모든 노드를 검사하는 경우 연산량이 방대해져 시간 및 비용의 측면에서 효율적이 지 못하게 되므로, 전자 장치는 맥스컷 네트워크를 생성하고 맥스컷 네트워크 내의 노드들에 대해 동맥류 영역 을 생성하기 위한 검사를 수행할 수 있다. 도 15에서는 설명의 편의를 위해 베이스 노드(nbs)를 기준으로 소정의 거리에 있는 노드들로서 nend1~nend6 만 을 도시하였으나, 적어도 하나의 노드가 더 있을 수 있다. 다시 도 12를 참조하면, 전자 장치는 클립 노드(clip node)를 결정할 수 있다(S133). 도 16을 참조하면 클립 노 드를 결정하는 구성을 확인할 수 있다. 전자 장치는 베이스 노드를 기준으로 소정의 거리 범위 내에 있는 노드 (ndb, ndc, ndd) 중 클립 노드를 결정할 수 있다. 소정의 거리 범위는 최소 거리(d_min) 및 최대 거리(d_max)를 포함할 수 있다. 즉, 전자 장치는 베이스 노드로부터 거리가 최소 거리(d_min) 내지 최대 거리(d_max)에 있는 노드(ndb, ndc, ndd)를 검사할 수 있다. 전자 장치는 노드(ndb)부터 검사를 시작할 수 있다. 전자 장치는 노드(ndb)에 기초하여 벡터들(vba, vca)을 생 성할 수 있다. 예를 들어, 노드들(nda, ndb)에 기초하여 벡터(vba)를 생성하고, 노드들(ndb, ndc)에 기초하여 벡터(vcb)를 생성할 수 있다. 전자 장치는 벡터들(vba, vcb)의 사잇각(θ)을 계산할 수 있다. 전자 장치는 사잇각(θ)이 제1 각도를 초과하는지 여부를 판정할 수 있다. 전자 장치는 사잇각(θ)이 제1 각도 를 초과하지 않으면 노드(ndb)를 클립 노드로서 결정할 수 있다. 전자 장치는 사잇각(θ)이 제1 각도를 초과하면 최소 거리(d_min)를 수정할 수 있다. 전자 장치는 최소 거리 (d_min)를 늘릴 수 있다. 예를 들어, 전자 장치는 수학식 2와 같이 최소 거리(d_min)를 수정할 수 있다. 전자 장치는 노드 전파를 수행하면서(즉, 노드를 탐색하면서) 사잇각(θ)을 계산하고, 사잇각(θ)이 소정의 조건(예 를 들어, 제1 각도)을 만족하면 최소 거리(d_min)를 수정할 수 있다. 수학식 2"}
{"patent_id": "10-2024-0079442", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "여기서, minndb는 노드(ndb)에서의 최소 거리이고, minnda는 노드(ndb)에서의 최소 거리이며 최소 거리(d_min)에 대응할 수 있다. 노드(ndb)는 노드(ndb) 이후의 노드이고, r은 노드(ndb)의 반지름 정보이고, 은 보간 함수로서 사잇각(θ)의 값에 따라 와 사이의 값을 출력하는 함수 일 수 있다. 는 보다 클 수 있다. 는 보다 클 수 있다. 예를 들어, 사잇각(θ)이 이면 보간 함 수는 를 출력하고, 사잇각(θ)이 이면 보간 함수는 를 출력하고, 사잇각(θ)이 와 의 사이에 있 을 때 보간 함수는 와 사이의 값을 출력하는 함수일 수 있다. 일 실시예에서, 보간 함수는 ( - )/( - )를 기울기로 갖는 1차 선형 함수일 수 있다. 실시예에 따라, 보간 함수는 다양하게 구현될 수 있다.전자 장치는 수정된 최소 거리에 따라, 노드(ndc)의 검사를 수행할 수 있다. 노드(ndb)에 대해 설명한 바와 유 사하게, 전자 장치는 노드들(ndc, ndd)에 기초하여 제1 벡터를 생성하고, 제1 벡터와 벡터(vca)의 사잇각을 계 산할 수 있다. 전자 장치는 사잇각에 기초하여 노드(ndc)를 클립 노드로서 결정할 수 있다. 전자 장치가 노드(ndc)를 클립 노드로서 결정하지 않는 경우, 전자 장치는 최대 거리(d_max) 직전의 노드(ndd) 를 클립 노드로서 결정할 수 있다. 다시 도 12를 참조하면, 전자 장치는 절단면을 결정할 수 있다(S134). 도 17을 참조하면 일 실시예에 따른 절단 면을 결정하는 구성을 확인할 수 있다. 전자 장치는 클립 노드(ncl)에 기초하여 절단면 후보(cpl1, cpl2)를 생 성할 수 있다. 예를 들어, 전자 장치는 클립 노드(ncl)와 클립 노드(ncl) 직전의 노드에 기초하여 제1 벡터를 생성하고, 클립 노드(ncl)와 클립 노드(ncl) 직후의 노드에 기초하여 제2 벡터를 생성할 수 있다. 전자 장치는 제1 벡터를 법선 벡터로 갖는 평면인 제1 절단면 후보(cpl1)를 생성하고, 제2 벡터를 법선 벡터로 갖는 평면인 제2 절단면 후보(cpl2)를 생성할 수 있다. 전자 장치는 절단면 후보(cpl1, cpl2)와 표면이 접하는 접점을 표시할 수 있다. 예를 들어, 전자 장치는 제1 절 단면 후보(cpl1)와 표면이 접하는 복수의 접점(ccp1)을 표시하고, 제2 절단면 후보(cpl2)와 표면이 접하는 복수 의 접점(ccp2)을 표시할 수 있다. 전자 장치는 제1 벡터와 제2 벡터가 이루는 사잇각에 기초하여, 생성할 절단면 후보들의 개수를 결정할 수 있다. 예를 들어, 전자 장치는 사잇각이 크면 상대적으로 많은 절단면 후보들 생성하고, 사잇각이 작으면 상대 적으로 적은 절단면 후보들을 생성할 수 있다. 전자 장치는 수학식 3에 기초하여 절단면 후보들의 개수를 결정할 수 있다. 수학식 3"}
{"patent_id": "10-2024-0079442", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "여기서, n_plane은 전자 장치가 클립 노드(ncl)에서 생성할 절단면 후보들의 개수이고, 은 보간 함수로서 사잇각(θ)의 값에 따라 A와 B 사이 의 값을 출력하는 함수일 수 있다. 사잇각(θ)은 제1 벡터와 제2 벡터의 사잇각으로서, 도 16을 참조하여 설명 한 내용이 동일하게 적용될 수 있다. B는 A보다 클 수 있다. 일 실시예에서, A는 2 이상의 정수일 수 있다. 는 보다 클 수 있다. 예를 들어, 사잇각(θ)이 이면 보간 함수는 A를 출력하고, 사잇각(θ)이 이면 보간 함수는 B를 출력하고, 사잇각(θ)이 와 의 사이에 있을 때 보간 함수는 A와 B 사이의 값 을 출력하는 함수일 수 있다. 일 실시예에서, 보간 함수는 (B-A)/( - )를 기울기로 갖는 1차 선형 함수일 수 있다. 실시예에 따라, 보간 함수는 다양하게 구현될 수 있다. 전자 장치는 절단면 후보들의 개수에 기초하여, 제1 절단면 후보(cpl1)와 제2 절단면 후보(cpl2) 사이의 평면을 더 생성할 수 있다. 예를 들어, 전자 장치는 제1 벡터와 제2 벡터 사이의 제3 벡터를 생성하고, 제3 벡터를 법 선 벡터로 갖는 평면을 더 생성할 수 있다. 전자 장치는 1차 선형 함수의 보간 함수를 사용하여 제3 벡터를 생 성할 수 있다. 전자 장치는 절단면 후보(cpl1, cpl2) 중 절단면을 결정할 수 있다. 전자 장치는 절단면 후보(cpl1, cpl2) 각각 을 타원 모델에 투영시킬 수 있다. 전자 장치는 투영된 각 타원 모델로부터 장반경 및 단반경을 획득할 수 있다. 일 실시예에서, 전자 장치는 단반경과 장반경의 비율이 소정의 값을 초과하는 절단면 후보를 절단면으로 서 결정할 수 있다. 예를 들어, 전자 장치는 제1 절단면 후보(cpl1)에 대응하는 제1 장반경 및 제1 단반경을 획득하고, 제2 절단면 후보(cpl2)에 대응하는 제2 장반경 및 제2 단반경을 획득할 수 있다. 전자 장치는 '제1 단반경/제1 장반경'을계산하고, '제2 단반경/제2 장반경'을 계산할 수 있다. 전자 장치는 계산된 값에 기초하여 절단면을 결정할 수 있다. 다른 실시예에서, 전자 장치는 단반경/장반경의 값이 가장 큰 절단면 후보를 절단면으로서 결정할 수도 있다. 전자 장치는 결정된 절단면을 통과하는 에지가 있는 경우 절단면을 다시 결정할 수 있다. 예를 들어, 역행하는 에지가 존재하면 절단면을 통과할 수도 있다. 실시예에 따라, 전자 장치는 클립 노드를 다시 결정할 수도 있다. 다시 도 12를 참조하면, 전자 장치는 동맥류 영역을 생성할 수 있다(S135). 도 18을 참조하면 동맥류 영역을 생 성하는 구성을 확인할 수 있다. 전자 장치는 클립 노드(cn1~cn3)와 클립 노드(cn1~cn3)에 기초하여 결정된 절단 면(cp1~cp3)을 사용하여 혈관 네트워크(또는 흐름 네트워크)를 절단할 수 있다. 이에, 전자 장치는 동맥류 네트 워크를 포함하는 동맥류 영역(ANR)를 생성할 수 있다. 전자 장치는 생성된 동맥류 영역(ANR)를 표시할 수 있다. 예를 들어, 전자 장치는 혈관 네트워크에서 동맥류 영 역(ANR)의 색상, 질감 등을 다르게 표시하여 동맥류 영역(ANR)을 강조할 수 있다. 이에, 사용자는 관심 영역인 동맥류 영역(ANR)에 대한 분석을 더욱 수월하게 할 수 있다. 전자 장치가 동맥류 영역(ANR)을 정교하게 분리함 으로써, 사용자는 동맥류 영역(ANR)의 파라미터를 정밀하게 계측할 수 있다. 따라서, 사용자는 계측된 파라미터 에 기초하여 정확한 진단을 내리고 치료 계획을 수립할 수 있다. 도 12에서는, 단계들(S131~S135)이 도 2의 단계(S130)에 포함되는 것으로 도시하였지만, 실시예가 반드시 이에 한정되는 것은 아니고, 단계(S130)는 단계들(S131~S135) 중 임의의 조합을 포함하는 것으로 구현될 수도 있다. 예를 들어, 단계(S130)는 단계들(S131 및 S133~S135)을 포함하는 것으로 구현될 수 있다. 도 19는 일 실시예에 따른 전자 장치가 혈관 네트워크를 처리하는 방법을 나타내는 순서도이다. 도 19를 참조하면, 일 실시예에 따른 전자 장치는 절단면을 결정하고(S134), 절단면이 소정의 조건을 만족하는 지 여부를 판정할 수 있다(S141). 즉, 전자 장치는 결정된 절단면을 검증할 수 있다. 일 실시예에서, 전자 장치는 결정된 절단면의 클립 노드가 분기 노드인지 여부를 판정할 수 있다. 전자 장치는 클립 노드가 분기 노드인 경우 절단면이 소정의 조건을 만족하지 않는 것으로 판정할 수 있다. 전자 장치는 클 립 노드가 분기 노드가 아닌 경우 절단면이 소정의 조건을 만족하는 것으로 판정할 수 있다. 일 실시예에서, 전자 장치는 결정된 절단면의 중점(중심점)을 결정할 수 있다. 전자 장치는 중점과 클립 노드 사이의 거리를 결정할 수 있다. 전자 장치는 거리가 소정의 값 이하(또는 미만)이면 절단면이 소정의 조건을 만 족하는 것으로 판정할 수 있다. 전자 장치는 거리가 소정의 값을 초과(또는 이상)이면 절단면이 소정의 조건을 만족하지 않는 것으로 판정할 수 있다. 일 실시예에서, 전자 장치는 결정된 절단면의 장반경, 단반경, 및 클립 노드의 반지름이 소정의 조건을 만족하 는지 여부를 판정할 수 있다. 전자 장치는 장반경 및 반지름의 차이(제1 차이)와, 단반경 및 반지름의 차이(제2 차이)의 합이 소정의 값 이하(또는 미만)이면 절단면이 소정의 조건을 만족하는 것으로 판정할 수 있다. 전자 장치는 차이의 합이 소정의 값을 초과(또는 이상)이면 절단면이 소정의 조건을 만족하지 않는 것으로 판정할 수 있다. 본 실시예에서는, 전자 장치가 제1 및 제2 차이의 합에 기초하여 소정의 조건의 만족 여부를 판정하는 구 성을 설명하였으나, 실시예가 반드시 이에 한정되는 것은 아니고, 전자 장치는 제1 차이의 제곱 및 제2 차이의 제곱의 합에 기초하여 판정을 수행하는 등 다양한 양태로 판정을 수행할 수 있다. 본 발명에서는 소정의 조건으로 분기 노드, 중점, 장반경, 단반경, 및 반지름 등을 설명하였으나, 소정의 조건 은 상술한 조건들의 다양한 조합으로 구현되거나, 적어도 하나의 다른 조건을 더 포함하는 것으로도 구현될 수 있다. 예를 들어, 전자 장치는 중점, 장반경, 단반경, 및 반지름에 기초하여 검증을 수행할 수 있다. 전자 장치는 절단면이 소정의 조건을 만족하면, 절단면에 기초하여 동맥류 영역을 생성할 수 있다(S135). 예를 들어, 전자 장치는 도 18과 같이 동맥류 영역(ANR)을 생성할 수 있다. 전자 장치는 절단면이 소정의 조건을 만족하지 않으면, 절단면을 변경할 수 있다(S142). 전자 장치는 클립 노드 와 베이스 노드 사이의 노드들 각각의 절단면을 결정할 수 있다. 전자 장치는 노드들의 코스트(cost)를 계산하 고, 코스트가 가장 낮은 노드를 새로운 클립 노드로 결정할 수 있다. 일 실시예에서, 전자 장치는 수학식 4에 기초하여 노드들의 검증을 수행할 수 있다. 수학식 4"}
{"patent_id": "10-2024-0079442", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "여기서, cost는 검증 대상인 노드의 점수를 나타내고, a는 검증 대상인 노드의 절단면의 타원 모델의 장반경이 고, b는 타원 모델의 단반경이고, r은 절단면의 클립 노드의 반지름이고, dnc는 검증 대상인 노드와 타원 모델 중점(ellipse center point) 사이의 거리일 수 있다. 전자 장치는 노드들 중에서 코스트가 가장 낮은 노드를 새로운 클립 노드로서 결정할 수 있다. 전자 장치는 새 로운 클립 노드의 절단면이 소정의 조건을 만족하는지 여부를 판정할 수 있다. 어떤 실시예에서, 전자 장치는 새로운 클립 노드의 절단면의 검증을 스킵(skip)할 수 있다. 이 경우, 전자 장치는 새로운 클립 노드의 절단면 에 기초하여 동맥류 영역을 생성할 수 있다. 도 20은 일 실시예에 따른 전자 장치가 접촉 혈관(kissing vessel)을 처리하는 방법을 나타내는 순서도이고, 도 21 내지 도 26은 일 실시예에 따른 전자 장치가 접촉 혈관을 처리하는 방법을 설명하기 위한 도면이다. 도 20 및 도 21을 참조하면, 일 실시예에 따른 전자 장치는 동맥류 영역을 생성하고(S135), 접촉 혈관(VL1~VL 3)을 결정할 수 있다(S151). 접촉 혈관(VL1~VL3)은 실제로는 인체 내에서 떨어져 있는 혈관이나, 이미지 처리 과정에서 아티팩트, 노이즈 등 의 이유로 인해 붙는 것으로 표시된 혈관을 의미할 수 있다. 동맥류 부근에 접촉 혈관(VL1~VL3)이 존재하면 동 맥류의 정량분석에 오류가 생길 수 있고, 실제와 다르며 의도치 않은 이미지가 표시될 수 있다. 접촉 혈관 (VL1~VL3) 중 제1 접촉 혈관(VL1)이 동맥류일 수 있다. 일 실시예에서, 전자 장치는 사용자 입력에 기초하여 접촉 혈관을 결정할 수 있다. 사용자는 접촉 혈관에 대응 하는 사용자 입력을 전자 장치에 전송하고, 전자 장치는 사용자 입력을 수신할 수 있다. 일 실시예에서, 전자 장치는 인공지능을 사용하여 접촉 혈관을 결정할 수 있다. 전자 장치는 혈관 네트워크에서 접촉 혈관을 출력하도록 학습된 인공 신경망을 포함할 수 있다. 학습된 인공 신경망은 접촉 혈관을 출력하기 위 한 파라미터를 가질 수 있다. 전자 장치는 접촉 혈관(VL1~VL3)이 접하는 포인트를 결정할 수 있다. 예를 들어, 전자 장치는 제1 접촉 혈관 (VL1)과 제2 접촉 혈관(VL2)이 접하는 포인트(PT1)를 결정하고, 제1 접촉 혈관(VL1)과 제3 접촉 혈관(VL3)이 접 하는 포인트(PT2)를 결정할 수 있다. 실시예에 따라, 포인트들(PT1, PT2)은 사용자 입력에 기초하여 결정될 수 도 있다. 실시예에 따라, 단계(S151)는 도 2의 단계(S120) 이후에 수행될 수도 있다. 이와 같이, 전자 장치가 혈관 네트 워크를 생성한 이후라면 단계(S151)를 수행하는 시점이 특별하게 제한되지는 않는다. 전자 장치는 접촉 혈관(VL1~VL3)을 처리할 수 있다(S152). 접촉 혈관(VL1~VL3)을 처리하는 것은 붙어 있는 접촉 혈관(VL1~VL3)을 분리시키는 동작으로 이해될 수 있다. 전자 장치는 접촉 혈관(VL1~VL3)을 분리시키기 위해 절 단 라인을 결정할 수 있다. 전자 장치는 포인트들(PT1, PT2)에 기초하여 절단 라인을 결정할 수 있다. 예를 들어, 전자 장치는 제1 포인트 들(PT1)에 기초하여 제1 절단 라인을 결정하고, 제2 포인트들(PT2)에 기초하여 제2 절단 라인을 결정할 수 있다. 전자 장치는 제1 포인트들(PT1)에 기초하여 제1 절단 라인을 결정하는 구성에 대해서 도 22를 참조하여 설명한다. 도 22를 참조하면, 전자 장치는 제1 포인트들(PT1) 및 카메라 위치 포인트에 기초하여 컨투어들(contours; CTR1~CTR3)을 생성할 수 있다. 제1 포인트들(PT1)은 복수의 포인트들(PT1_1~PT1_4)을 포함할 수 있다.카메라 위치 포인트는 포인트들(PT1_1~PT1_4) 각각에 대응하는 카메라의 위치를 의미할 수 있다. 예를 들어, 사 용자가 전자 장치에 포인트들(PT1_1~PT1_4)을 입력하는 경우, 사용자는 혈관 네트워크를 회전시키면서 포인트들 (PT1_1~PT1_4)을 입력할 수 있다. 이때, 사용자가 포인트들(PT1_1~PT1_4)을 입력할 때 사용자가 혈관 네트워크 를 바라보는 지점이 카메라 위치 포인트일 수 있다. 포인트(PT1_1)에 대응하는 제1 카메라 위치 포인트가 있고, 포인트(PT1_2)에 대응하는 제2 카메라 위치 포인트가 있고, 포인트(PT1_3)에 대응하는 제3 카메라 위치 포인트 가 있고, 포인트(PT1_4)에 대응하는 제4 카메라 위치 포인트가 있을 수 있다. 전자 장치는 세 개의 포인트로 평면을 생성하고, 생성된 평면이 혈관 네트워크의 표면과 교차하는 라인을 컨투 어로서 생성할 수 있다. 예를 들어, 전자 장치는 포인트들(PT1_1 및 PT1_2) 및 제2 카메라 위치 포인트를 사용 하여 제1 컨투어(CTR1)를 생성할 수 있다. 실시예에 따라, 제2 카메라 위치 포인트 대신 제1 카메라 위치 포인 트가 사용될 수도 있다. 같은 방식으로, 전자 장치는 포인트들(PT1_2 및 PT1_3) 및 제3 카메라 위치 포인트를 사용하여 제2 컨투어 (CTR2)를 생성할 수 있다. 전자 장치는 포인트들(PT1_3 및 PT1_4) 및 제4 카메라 위치 포인트를 사용하여 제3 컨투어(CTR3)를 생성할 수 있다. 전자 장치는 컨투어들(CTR1~CTR3)에 기초하여 제1 절단 라인을 결정할 수 있다. 전자 장치는 컨투어들 (CTR1~CTR3)에서 동맥류 밖으로 향하는 라인 성분을 제거할 수 있다. 이때, 전자 장치는 컨투어들(CTR1~CTR3)의 노멀 벡터(normal vector)를 사용할 수 있다. 전자 장치는 컨투어들(CTR1~CTR3)에서 라인 성분이 제거되고 남은 라인들을 연결함으로써 제1 절단 라인을 생성할 수 있다. 전자 장치가 생성한 제1 절단 라인은 도 23에 도시된 바와 같을 수 있다. 도 23을 참조하면, 전자 장치는 제1 절단 라인(CLN)을 생성할 수 있다. 전자 장치는 제1 절단 라인(CLN)에 기초 하여 혈관 네트워크의 표면에 대해 이미지 처리를 수행할 수 있다. 전자 장치는 제1 절단 라인(CLN)에 기초하여 표면의 셀을 제거할 수 있다. 예를 들어, 전자 장치는 표면에서 제1 절단 라인(CLN)이 통과하는 셀을 제거할 수 있다. 일 실시예에서, 전자 장치는 표면에서 제1 절단 라인(CLN)이 통과하는 셀을 서브 셀들로 분할할 수 있다. 즉, 전자 장치는 제1 절단 라인(CLN)이 통과하는 셀에 서브디비전(subdivision)을 수행할 수 있다. 전자 장치는 분 할된 셀에 대해 이미지 처리를 수행할 수 있다. 도 24를 참조하면, 일 실시예에 따른 전자 장치는 혈관 네트워크의 표면에서 제1 절단 라인(CLN)이 통과하는 셀 (CL1)을 분할하여 서브 셀들(SC1~SC4)을 생성할 수 있다. 예를 들어, 전자 장치는 셀(CL1)의 각 변의 중점들을 연결함으로써 서브 셀들(SC1~SC4)을 생성할 수 있다. 하지만, 실시예가 반드시 이에 한정되는 것은 아니고, 전 자 장치는 다양한 방식으로 셀(CL1)을 분할할 수 있다. 예를 들어, 전자 장치는 셀(CL1)과 제1 절단 라인(CLN) 이 교차하는 지점에 기초하여 셀(CL1)을 분할할 수도 있다. 전자 장치는 서브 셀들(SC1~SC4) 중 제1 절단 라인(CLN)이 통과하는 서브 셀들(SC1~SC3)을 제거할 수 있다. 즉, 전자 장치는 셀(CL1)에서 서브 셀(SC4)만 유지하고 서브 셀들(SC1~SC3)은 제거할 수 있다. 이와 같이, 전자 장치는 서브 셀들(SC1~SC4)을 생성함으로써 혈관 네트워크의 표면의 밀도를 높일 수 있고, 이 는 기존 원본 표면의 손상을 최소화하게 한다. 서브디비전 후에 제1 절단 라인(CLN)이 통과하는 서브 셀들 (SC1~SC3)을 제거하면 셀(CL1)을 제거할 때보다 데이터 손실이 작아지기 때문이다. 전자 장치가 표면에서 제1 절단 라인(CLN)이 통과하는 서브 셀들과, 제2 절단 라인이 통과하는 서브 셀들을 제 거한 결과는 도 25에 도시된 바와 같을 수 있다. 도 25를 참조하면, 혈관 네트워크의 표면에서 제1 절단 라인과 제2 절단 라인이 통과하는 셀들이 서브 셀들로 분할된 것을 확인할 수 있다. 전자 장치는 서브 셀들 중 제1 절단 라인이 통과하는 제1 서브 셀들을 제거하고, 제2 절단 라인이 통과하는 제2 서브 셀들을 제거하여 이미지(PIMG)를 생성할 수 있다. 예를 들어, 제1 서브 셀 들이 제거된 부분은 영역(RSC1)이고, 제2 서브 셀들이 제거된 부분은 영역(RSC2)일 수 있다. 전자 장치는 제1 및 제2 서브 셀들이 제거되고 남은 표면에서 새로운 메시 이미지를 생성할 수 있다. 제1 서브 셀들이 제거된 표면은 제1 개방 혈관 이미지 및 제2 개방 혈관 이미지를 남기고, 제2 서브 셀들이 제거된 표면 은 제3 개방 혈관 이미지 및 제4 개방 혈관 이미지를 남길 수 있다. 즉, 영역(RSC1)을 기준으로 제1 및 제2 개 방 혈관 이미지가 생성되고, 영역(RSC2)을 기준으로 제3 및 제4 개방 혈관 이미지가 생성될 수 있다. 제1 내지 제4 개방 혈관 이미지는 각각 경계를 가질 수 있다.전자 장치는 제1 내지 제4 메시 이미지 각각의 경계를 닫을 수 있다. 전자 장치가 경계를 닫는 것은 개방되어 있는 혈관을 셀들로 채우는 동작으로 이해될 수 있다. 전자 장치는 경계가 닫힌 메시 이미지들에 리메시 (remesh) 알고리즘을 수행하여 리메시 이미지를 생성할 수 있다. 전자 장치는 리메시 이미지를 서브 셀들이 제거된 이미지(예를 들어, 도 25의 이미지(PIMG))에 추가할 수 있다. 전자 장치는 제거된 서브 셀들과 이웃하는 셀(또는 서브 셀)의 정보에 기초하여 이미지 추가를 수행할 수 있다. 전자 장치는 리메시 이미지와 이미지(PIMG)를 연결할 때, 영역(region)이 분리된 이미지는 제거할 수 있다. 전자 장치가 접촉 혈관을 분리하여 생성한 최종 이미지는 도 26에 도시된 바와 같을 수 있다. 도 26을 참조하면, 전자 장치는 제1 접촉 혈관(VL1)으로부터 제2 접촉 혈관(VL2)과 제3 접촉 혈관(VL3)을 분리하였다. 접촉 혈관들(VL1~VL3)의 접촉 영역(2610, 2620)을 확인하면, 제1 접촉 혈관(VL1)이 제2 접촉 혈관(VL2)과 제3 접촉 혈관(VL3)으로부터 완전하게 분리된 것을 확인할 수 있다. 즉. 전자 장치가 촬영 과정에서 발생할 수 있는 노이즈를 제거함으로써 선명도와 정확도를 향상되어, 제1 접촉 혈관(VL1)의 정밀한 분석이 가능해질 수 있다. 또한, 재촬영의 필요성이 감소되고, 치료 시간을 단축시킬 수 있으며, 시술 또는 수술을 진행하는 경우 위험을 감소시켜 신뢰도가 향상될 수 있다. 본 개시의 실시예들에 따른 방법의 각 단계들이나 동작들은, 컴퓨터 판독 가능한 기록매체에 저장된 컴퓨터 프 로그램의 실행에 따라 하나 이상의 프로세서를 포함하는 컴퓨터에 의해 수행될 수 있음은 자명하다. 전술한 기록매체에 저장된 컴퓨터 실행가능 명령어(instruction)들은, 해당하는 각 단계를 수행하도록 프로그램 된 컴퓨터 프로그램을 통해 구현 가능하되, 이러한 컴퓨터 프로그램은 컴퓨터 판독 가능한 기록매체에 저장될 수 있고, 프로세서에 의해 실행 가능하다. 컴퓨터 판독 가능한 기록매체는 비일시적 판독 가능 매체(non- transitory readable medium)일 수 있다. 이 때, 비일시적 판독 가능 매체란 레지스터, 캐시, 메모리 등과 같이 짧은 순간 동안 데이터를 저장하는 매체가 아니라 반영구적으로 데이터를 저장하며, 기기에 의해 판독(readin g)이 가능한 매체를 의미한다. 구체적으로는, 상술한 다양한 방법을 수행하기 위한 프로그램들은 소거가능 프로 그래머블 판독 전용 메모리(EPROM), 전기적 소거가능 프로그래머블 판독 전용 메모리(EEPROM), 및 플래시 메모 리 디바이스와 같은 반도체 메모리 디바이스, 내부 하드 디스크 및 이동식 디스크와 같은 자기 디스크, 광학-자 기 디스크, 및 CD-ROM 및 DVD-ROM 디스크를 포함하는 비휘발성 메모리 등과 같은 비일시적 판독 가능 매체에 저 장되어 제공될 수 있다. 본 문서에 개시된 다양한 예들에 따른 방법은 컴퓨터 프로그램 제품(computer program product)에 포함되어 제 공될 수 있다. 컴퓨터 프로그램 제품은 기기로 읽을 수 있는 저장 매체(예: compact disc read only memory (CD-ROM))의 형태로, 또는 어플리케이션 스토어(예: 플레이 스토어TM)를 통해 온라인으로 배포될 수 있다. 온라 인 배포의 경우에, 컴퓨터 프로그램 제품의 적어도 일부는 제조사의 서버, 어플리케이션 스토어의 서버, 또는 중계 서버의 메모리와 같은 저장 매체에 적어도 일시 저장되거나, 임시적으로 생성될 수 있다. 이상에서 설명한 바와 같이, 본 개시가 속하는 기술 분야의 통상의 기술자는 본 개시가 그 기술적 사상이나 필 수적 특징을 변경하지 않고서 다른 구체적인 형태로 실시될 수 있다는 것을 이해할 수 있을 것이다. 그러므로 상술한 실시예들은 모든 면에서 예시적인 것이며 한정적인 것이 아닌 것으로서 이해해야만 한다. 본 개시의 범 위는 상세한 설명보다는 후술하는 특허청구범위에 의하여 나타내어지며, 특허청구범위의 의미 및 범위 그리고 등가 개념으로부터 도출되는 모든 변경 또는 변형된 형태가 본 개시의 범위에 포함하는 것으로 해석되어야 한다. 본 명세서 내에 기술된 특징들 및 장점들은 모두를 포함하지 않으며, 특히 많은 추가적인 특징들 및 장점들이 도면들, 명세서, 및 청구항들을 고려하여 당업자에게 명백해질 것이다. 더욱이, 본 명세서에 사용된 언어는 주 로 읽기 쉽도록 그리고 교시의 목적으로 선택되었고, 본 개시의 주제를 묘사하거나 제한하기 위해 선택되지 않 을 수도 있다는 것을 주의해야 한다. 본 개시의 실시예들의 상기한 설명은 예시의 목적으로 제시되었다. 이는 개시된 정확한 형태로 본 개시를 제한 하거나, 빠뜨리는 것 없이 만들려고 의도한 것이 아니다. 당업자는 상기한 개시에 비추어 많은 수정 및 변형이 가능하다는 것을 이해할 수 있다. 그러므로 본 개시의 범위는 상세한 설명에 의해 한정되지 않고, 이를 기반으로 하는 출원의 임의의 청구항들에 의해 한정된다. 따라서, 본 개시의 실시예들의 개시는 예시적인 것이며, 이하의 청구항에 기재된 본 개시의 범위를 제한하는 것은 아니다."}
{"patent_id": "10-2024-0079442", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 일 실시예에 따른 컴퓨팅 시스템의 개략적인 블록도이다. 도 2는 일 실시예에 따른 동맥류 영역을 생성하는 방법을 나타내는 순서도이다. 도 3은 일 실시예에 따른 전자 장치가 혈관 네트워크를 생성하는 방법을 나타내는 순서도이다. 도 4 내지 도 11은 일 실시예에 따른 전자 장치가 혈관 네트워크를 생성하는 방법을 설명하기 위한 도면이다. 도 12는 일 실시예에 따른 전자 장치가 혈관 네트워크를 처리하는 방법을 나타내는 순서도이다. 도 13 내지 도 18은 일 실시예에 따른 전자 장치가 혈관 네트워크를 처리하는 방법을 설명하기 위한 도면이다. 도 19는 일 실시예에 따른 전자 장치가 혈관 네트워크를 처리하는 방법을 나타내는 순서도이다. 도 20은 일 실시예에 따른 전자 장치가 접촉 혈관을 처리하는 방법을 나타내는 순서도이다. 도 21 내지 도 26은 일 실시예에 따른 전자 장치가 접촉 혈관을 처리하는 방법을 설명하기 위한 도면이다."}
