{"patent_id": "10-2020-0174780", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2022-0084867", "출원번호": "10-2020-0174780", "발명의 명칭": "머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성을 검증하는 시스템 및", "출원인": "한전케이디엔주식회사", "발명자": "최윤형"}}
{"patent_id": "10-2020-0174780", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "(a) 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성 검증 시스템의 송수신부가 복수의 외부 시스템과 연결된 공공기관 시스템으로부터 패킷 데이터를 수신하는 단계;(b) 주제어부가 상기 송수신부에 의해 수신한 패킷 데이터가 기존 데이터인지 신규데이터인지 판단하는 하는 단계;(c) 상기 (b)단계에서 상기 송수신부가 수신한 데이터가 신규데이터이면, 상기 주제어부에 의해 신규 초기학습단계를 수행하는 단계; 및(d) 상기 (b)단계에서 상기 송수신부가 수신한 데이터가 기존에 존재하던 데이터이면, 상기 주제어부에 의해 모델 재학습 단계를 수행하는 단계;를 포함하는 것을 특징으로 하는 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성을 검증하는 방법."}
{"patent_id": "10-2020-0174780", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1항에 있어서,상기 (c)단계는 (c-1) 상기 송수신부가 수신한 패킷 데이터의 원본 패킷 데이터를 블록체인부에 저장하는 단계;(c-2) 상기 송수신부가 수신한 패킷 데이터의 패킷 데이터를 인공지능 시스템 DB에 저장하는 단계;(c-3) 데이터 모델링부의 패킷 전처리 모듈이 상기 인공지능 시스템 DB에 저장된 상기 패킷 데이터를 전처리하는 단계; 및 (c-4) 상기 데이터 모델링부의 정오탐 분석 모듈이 상기 패킷 전처리 모듈에 의해 전처리된 패킷 데이터에 대해모델링을 수행하는 단계;를 포함하는것을 특징으로 하는 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성을 검증하는 방법."}
{"patent_id": "10-2020-0174780", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1항에 있어서, 상기 (d)단계는 (d-1) 상기 주제어부가 상기 무결성 검증 모듈에 상기 패킷 데이터에 대한 무결성을 요청하는 단계;(d-2) 상기 무결성 검증 모듈이 상기 인공지능 시스템 DB에 저장된 패킷 데이터에 대해 무결성을 검증하는단계;(d-3) 상기 무결성 검증 모듈이 상기 블록체인부에 저장된 원본 패킷정보와 상기 인공지능 시스템 DB에 저장된패킷 정보가 일치하면 무결한 것으로 판단하고, 불일치하면 무결하지 않은 것으로 판단하는 단계;(d-4) 상기 패킷 전처리 모듈이 검증된 패킷 데이터를 전송받아 전처리하는 단계; 및(d-5) 상기 데이터 모델링부의 정오탐 분석 모듈이 상기 (d-4)단계에서 전처리된 패킷 데이터에 대해 모델링을수행하는 단계;를 포함하는 것을 특징으로 하는 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고무결성을 검증하는 방법.공개특허 10-2022-0084867-3-청구항 4 제 3항에 있어서, 상기 (d)단계는 (d-4)` 상기 (d-3)단계에서 상기 무결성 검증 모듈에 의해 상기 블록체인부에 저장된 원본 패킷정보와 상기 인공지능 시스템 DB에 저장된 패킷 정보가 불일치하여 패킷 데이터가 무결하지 않은 것으로 판단되는 경우, 시스템 알림부가 상기 송수신부가 수신한 패킷 데이터가 변조된 사이버 공격 패킷일 수 있음을 알리는 단계;를 더포함하는 것을 특징으로 하는 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성을 검증하는방법."}
{"patent_id": "10-2020-0174780", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 2항 또는 제 3항에 있어서,상기 (c-3) 및 (d-4)단계는 상기 패킷 전처리 모듈이 패킷 데이터의 패킷 타입 정보를 추출하는 단계;상기 패킷 전처리 모듈이 패킷 데이터에서 페이로드 영역의 단어를 추출하는 단계; 및상기 패킷 전처리 모듈이 상기 페이로드 영역에서 추출한 단어들 중, 중복되는 단어를 제거하는 단계;를 포함하는 것을 특징으로 하는 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성을 검증하는 방법."}
{"patent_id": "10-2020-0174780", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 2항 또는 제 3항에 있어서,상기 (c-4) 및 (d-5)단계는상기 정오탐 분석 모듈이 Word2Vec 방식으로 상기 전처리 단계에서 추출되는 패킷 데이터의 핵심어 리스트와 페이로드 내의 단어 리스트의 거리를 수치화 하는 단계;상기 정오탐 분석 모듈이 수치화된 패킷 데이터를 소정의 퍼센테이지 비율로 학습 데이터와 테스트 데이터를 분류하는 단계;상기 정오탐 분석 모듈이 최적값을 찾을 때까지 머신러닝하는 단계;상기 정오탐 분석 모듈이 상기 단계에서 수행한 머신러닝 학습결과 생성된 모델로 검증 데이터 집합으로 모델검증하는 단계;상기 정오탐 분석 모듈이 상기 단계에서 수행한 모델 검증 단계에서 검증된 모델의 정확도가 가장 높은지 여부를 판단하는 단계; 및상기 정오탐 분석 모듈이 모델의 정확도가 높은 경우 최적의 모델로 생성하는 단계;를 포함하는 것을 특징으로하는 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성을 검증하는 방법."}
{"patent_id": "10-2020-0174780", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명에 따른 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성을 검증하는 방법은 (a) 머 신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성 검증 시스템의 송수신부가 복수의 외부 시스 템과 연결된 공공기관 시스템으로부터 패킷 데이터를 수신하는 단계; (b) 주제어부가 상기 송수신부에 의해 수신 (뒷면에 계속)"}
{"patent_id": "10-2020-0174780", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성을 검증하는 시스템 및 방법에 관한 것으로써, 더욱 상세하게는 외부에서 접근하는 패킷의 공격유형에 대한 정·오탐을 판별하는 인공지능 기 술을 적용하여 탐지하고 탐지에 대한 무결성 검증을 블록체인으로 할 수 있는 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성을 검증하는 시스템 및 방법에 관한 것이다."}
{"patent_id": "10-2020-0174780", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "네트워크 계층의 데이터 단위인 패킷은 출발지 노드에서 목적지 노드로 전달하는 데이터의 형식화된 블록으로 제어 정보와 사용자 데이터로 이루어지며, 전송하고자 하는 데이터의 한 블록(페이로드Payload)과 주소지 정보 (발신지 주소, 목적지 주소), 관리정보(헤더Header, 패킷을 목적지까지 전달하는데 필요한 설정 정보)로 구성된 다. 상술한 바와 같이 네트워크를 통해 전송하기 용이하도록 한 데이터의 전송단위인 패킷 정보를 해커나 내부의 공 범이 악의적으로 변형할 수 있는 문제점이 있다. 상술한 변형된 패킷 정보는 정확하지 못한 인공지능 모델링 결과를 초래할 수 있다는 또 다른 문제점이 있다. 특히, 인공지능 모델링에 사용되는 데이터를 무결성을 입증할 수 있는 방법이 없다는 문제점이 있다. 선행기술문헌 특허문헌 (특허문헌 0001) 대한민국 등록특허공보 제10-1585139호(2016.01.07)"}
{"patent_id": "10-2020-0174780", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "상술한 문제점을 해결하기 위해 본 발명은 외부에서 접근하는 패킷의 공격유형에 대한 정·오탐을 판별하는 인 공지능 기술을 적용하여 탐지하고 탐지에 대한 무결성 검증을 블록체인으로 할 수 있는 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성을 검증하는 시스템 및 방법을 제공하는데 목적이 있다."}
{"patent_id": "10-2020-0174780", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상술한 목적을 달성하기 위한 본 발명에 따른 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무 결성을 검증하는 방법은 (a) 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성 검증 시스템 의 송수신부가 복수의 외부 시스템과 연결된 공공기관 시스템으로부터 패킷 데이터를 수신하는 단계; (b) 주제 어부가 상기 송수신부에 의해 수신한 패킷 데이터가 기존 데이터인지 신규데이터인지 판단하는 하는 단계; (c) 상기 (b)단계에서 상기 송수신부가 수신한 데이터가 신규데이터이면, 상기 주제어부에 의해 신규 초기학습 단계 를 수행하는 단계; 및 (d) 상기 (b)단계에서 상기 송수신부가 수신한 데이터가 기존에 존재하던 데이터이면, 상 기 주제어부에 의해 모델 재학습 단계를 수행하는 단계;를 포함하는 것을 특징으로 한다."}
{"patent_id": "10-2020-0174780", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명에 따른 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성을 검증하는 시스템 및 방 법은 외부에서 접근하는 패킷을 다양한 인공지능 알고리즘을 적용하여 효율적으로 분석할 수 있는 효과가 있고, 최초의 패킷을 블록체인에 저장함으로써 해커나 내부의 공범이 패킷 정보를 악의적으로 변형하더라도 무결성을 검증할 수 있는 효과가 있으며, 모델 학습에 사용되는 패킷과 블록체인에 저장된 패킷을 비교하여 데이터 무결 성이 검증되었을 때 모델 학습을 진행함으로써 모델 결과에 대한 신뢰도를 높일 수 있는 효과가 있다."}
{"patent_id": "10-2020-0174780", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "본 명세서 및 청구범위에 사용된 용어나 단어는 통상적이거나 사전적인 의미로 한정하여 해석되어서는 아니 되 며, 발명자는 그 자신의 발명을 가장 최선의 방법으로 설명하기 위해 용어의 개념을 적절하게 정의할 수 있다는 원칙에 입각하여, 본 발명의 기술적 사상에 부합하는 의미와 개념으로 해석되어야만 한다. 따라서, 본 명세서에 기재된 실시예와 도면에 도시된 구성은 본 발명의 가 장 바람직한 일 실시예에 불과할 뿐 이고 본 발명의 기술적 사상을 모두 대변하는 것은 아니므로, 본 출원시점에 있어서 이들을 대체할 수 있는 다 양한 균등물과 변형예들이 있을 수 있음을 이해하여야 한다. 이하, 첨부된 도면을 참조하여 본 발명에 따른 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무 결성을 검증하는 시스템 및 방법에 대해 구체적으로 설명한다. 도 1은 외부 시스템과 연결되어 네트워킹하는 본 발명에 따른 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐 을 판별하고 무결성을 검증하는 시스템의 블록도 이다. 도 1에 도시된 바와 같이 본 발명에 따른 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성 을 검증하는 시스템은 복수의 외부 시스템에서 접근하는 공공기관 시스템과 연결되어 해당 공공기관 시스템으로 부터 패킷 데이터를 전송받는다. 참고로, 상기 외부 시스템은 공공기관 시스템에 접근하는 모든 시스템 및 사용자에 해당하고, 상기 공공기관 시 스템은 공공기관, 또는 정부기관의 시스템에 해당된다. 보다 구체적으로 본 발명에 따른 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성을 검증하 는 시스템은 블록체인부, 무결성 검증모듈, 데이터 모델링부, 인공지능 시스템 DB, 및 시스템 알림부을 포함한다. 본 발명에 따른 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성을 검증하는 시스템은 최초 공공기관 시스템이 전송하는 패킷 데이터를 수신한다. 상기 패킷 데이터는 도 2에 도시된 바와 같은 구조를 갖는다. 즉, 상기 패킷은 출발지 노드에서 목적지 노드로 전달하는 데이터의 형식화된 블록으로 제어 정보와 사용자 데 이터로 이루어지며, 전송하고자 하는 데이터의 한 블록(페이로드Payload)과 주소지 정보(발신지 주소, 목적지 주소), 관리정보(헤더Header, 패킷을 목적지까지 전달하는데 필요한 설정 정보)로 구성된다. 한편, 도 2에서 TCP Header, UDP Header는 네트워크 계층의 패킷(IP Header) 페이로드의 종류로 전송 계층에서 구분된다. 때문에 본 발명에서는 IP, TCP와 UDP 모두를 아우르는 데이터링크 계층의 Ethernet Frame을 대상으로 한다. 도 3을 참조하여 패킷 구조에 대해 좀더 살펴본다. 데이터가 출발지에서 목적지로 도달하기 위해서는 여러 계층을 거쳐야 한다. 그 계층은 보통 OSI 7계층으로 규정하며 도 3의 패킷 구조는 계층에 따른 데이터의 통신규약 형태를 설명한다. 본 발명에서는 수신된 패킷을 가지고 정오탐 여부를 판별하는 것이기 때문에 위 도 3의 오른쪽에 있는 수신 데 이터의 역캡슐화 과정만을 주목한다. 상기 역캡슐화 과정은 2계층(데이터 링크 계층)에서 필요한 제어정보(S MAC, D MAC, Ether Type)을 제거한 다음, 3계층(네트워크 계층)에서 IP Header(Version, Header Length, Type of Service, Total Length, Identification, Flags, Fragment, TTL, Protocol Type, Header Checksum)을 제거한다. 그리고 4계층(전송 계층)에서는 IP Header에 명시되어 있는 프로토콜 타입에 따라 해당 패킷의 제어정보를 표시 하는데 그 타입에는 TCP, UDP가 있다. 상기 블록체인부는 상기 공공기관 시스템에서 전송되는 패킷 데이터를 수신하여 원본상태로 저장 관리한다. 상술한 바와 같이 상기 블록체인부에 최초의 패킷 데이터가 저장됨에 따라 해커나 내부의 공범이 패킷 정 보를 악의적으로 변형하더라도 무결성이 검증될 수 있다. 상기 무결성 검증모듈은 상기 블록체인부로부터 상기 공공기관 시스템에서 전송되는 패킷 데이터를 제공받아 무결성을 검증한다. 즉, 상기 무결성 검증모듈은 상기 블록체인부에 저장된 원본 패킷정보와 DB/File에 저장된 패킷 정보 를 비교하여 데이터 무결성을 검증한다. 보다 구체적으로, 상기 무결성 검증모듈은 공공기관 시스템에서 제공되어 상기 인공지능 시스템 DB에 저장된 패킷 정보와 상기 블록체인부에 동일하게 저장된 패킷 정보를 가지고 무결성을 검증한다. 상기 무결성 검증모듈은 무결성을 검증하기 위해 학습에 쓰일 데이터를 불러올 때, 상기 블록체인부 에 저장된 패킷 정보와 상기 인공지능 시스템 DB에 저장된 패킷 정보를 불러와 검증에 적용한다. 상기 무결성 검증모듈은 무결성 검증결과 두 데이터가 일치(Y)하면 인공지능 학습 모델에 쓰일 수 있어 학 습에 사용될 데이터를 상기 데이터 모델링부로 제공하고, 반대로 두 데이터가 불일치(N)하면, 해당 데이터 는 학습에 사용될 수 없어 시스템 알림을 발생시킨다. 상기 데이터 모델링부는 패킷 전처리 모듈, 정오탐 분석 모듈, 및 모델링 결과 산출모듈을 포함한다. 상기 패킷 전처리 모듈은 외부 시스템으로부터 들어온 네트워크 공격 데이터를 이더넷 프레임 형태로 데이 터 베이스에 저장한다. 이후, 상기 패킷 전처리 모듈은 저장된 공격 데이터의 제어정보(D MAC, S MAC, Ether Type)을 제거하고 페 이로드 영역의 단어를 분할하여 중복된 단어를 제거한다. 그후 상기 정오탐 분석 모듈은 Word2Vec 방식을 사용하여 탐지 룰에서 추출한 핵심어 리스트와 페이로드 내의 단어 리스트의 거리를 측정하여 Embedding Table을 생성한다. 상기 Embedding Table은 말뭉치(혹은 코퍼스, corpus) 내 각 단어에 일대일로 대응하는 밀집된 실수 벡터(dense vector)의 집합, 혹은 이 벡터를 구하는 행위에 해당된다. 상기 핵심어 리스트는 기존 공격 탐지 룰에서 공격을 탐지하는데 사용된 핵심 단어 리스트 이다. 상기 정오탐 분석 모듈은 정오탐 라벨이 주어진 공격 데이터를 지도 학습(K-NN, SVM, Random Forest, LSTM, Bi-LSTM) 알고리즘 학습 후, 테스트 데이터로 정오탐 판별 정확도를 F1 Score 방식으로 측정하여 공격 유 형별로 가장 높은 정확도를 나타내는 알고리즘 모델을 선택한다. 상기 K-NN(K-Nearest Neighbors Classification)는 새로운 데이터를 입력 받았을 때 가장 가까이 있는 데이터 가 무엇인가를 중심으로 새로운 데이터의 분류 결정하는 학습 알고리즘이다. 상기 SVM(Support Vector Machine)는 2개의 범주를 분류하는 이진 분류 모델로, 두 그룹 사이의 거리를 최대화 하는 분류 경계면 추적 학습 알고리즘이다. 상기 Random Forest 여러개의 의사 결정 트리를 모아 구현, 의사 결정트리의 오버피팅 문제를 랜덤한 입력 데이 터 선택으로 해결한 알고리즘이다. 상기 LSTM(Long Short-Term Memory)는 학습을 반복하며 이전 단계에서 얻은 정보를 바탕으로 기억할 데이터와 버릴 데이터를 선별하여 학습하는 알고리즘으로 RNN의 Gradient Vanishing 문제 해결할 수 있다. 상기 Bi-LSTM(bidirectional LSTM)은 이전 단계의 정보만 반영했던 LSTM과 달리 학습 초기에 전체 데이터를 읽 어 들여와 이후 단계의 데이터까지 학습 데이터로 모두 사용하는 양방향 LSTM 알고리즘이다. 상기 F1 Score는 정밀도와 재현율의 조화 평균으로, 데이터 라벨의 비율이 불균형할 때, 모델의 성능을 정확하 게 평가할 수 있다. 상기 정밀도는 모델의 True라고 분류한 것 중 실제 True인 것의 비율이고, 재현율은 True인 것 중 모델이 True 라고 예측한 것의 비율이며, 상기 라벨은 공격 데이터의 정오탐 여부를 표시하는 데이터로 정탐일 경우 `0`, 오 탐일 경우 `1`이다. 상기 모델링 결과 산출모듈은 상기 정오탐 분석 모듈이 공격 유형별로 선택할 수 있도록 알고리즘 모 델을 제공한다. 상기 정오탐 분석 모듈은 정오탐 라벨이 주어진 공격 데이터를 지도 학습(K-NN, SVM, Random Forest, LSTM, Bi-LSTM) 알고리즘 학습 후, 테스트 데이터로 정오탐 판별 정확도를 F1 Score 방식으로 측정하여 공격 유 형별로 가장 높은 정확도를 나타내는 알고리즘 모델을 선택한다. 상기 인공지능 시스템 DB는 본 발명에 따른 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성을 검증하는 시스템에서 과거의 데이터가 계속 학습에 사용되기 때문에 공공기관 시스템에서 전송되는 패 킷 정보를 항상 저장하고 있다. 상기 시스템 알림부는 이미 언급한 바와 같이 상기 무결성 검증모듈에 의한 무결성 검증결과 두 데이 터가 불일치(N)하면, 해당 데이터가 학습에 사용될 수 없음을 시스템적으로 알림을 발생시킨다. 다른 실시예로써, 상술한 구성을 갖는 본 발명에 따른 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별 하고 무결성을 검증하는 시스템에 의한 검증 방법에 대해 설명한다. 도 4는 본 발명에 따른 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성을 검증 하는 방법 의 전체 플로우차트이다. 먼저, 본 발명에 따른 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성 검증 시스템의 송수 신부는 복수의 외부 시스템과 연결된 공공기관 시스템으로부터 패킷 데이터를 수신하는 단계를 수행한다 (S100). 상기 송수신부가 패킷 데이터를 수신하면 본 발명에 따른 머신러닝 기반 사이버 공격 패킷 데이터의 정오 탐을 판별하고 무결성 검증 시스템의 주제어부는 상기 패킷 데이터가 기존 데이터인지 신규 데이터인지 판 단하는 하는 단계를 수행한다(S200). 상기 S200단계에서 상기 송수신부가 수신한 데이터가 신규데이터이면, 상기 주제어부에 의해 신규 초 기학습 단계를 수행하고(S300), 상기 송수신부가 수신한 데이터가 기존에 존재하던 데이터이면, 상기 주제 어부에 의해 모델 재학습 단계를 수행한다(S400). 도 5을 참조하여 상기 신규 초기학습 단계(S300)에 대해 더욱 구체적으로 설명한다. 상기 송수신부는 수신한 패킷 데이터의 원본 패킷 데이터를 상기 블록체인부에 저장하는 단계를 수행 한다(S310). 다음 단계로, 상기 송수신부는 수신한 패킷 데이터를 상기 인공지능 시스템 DB에 저장하는 단계를 수 행한다(S320). 상기 패킷 데이터가 상기 인공지능 시스템 DB에 저장되면, 상기 데이터 모델링부의 패킷 전처리 모듈 은 상기 인공지능 시스템 DB에 저장된 상기 패킷 데이터를 전처리하는 단계를 수행한다(S330). 이때, 상기 패킷 전처리 모듈은 상기 S140 단계에서 저장된 공격 데이터의 제어정보(D MAC, S MAC, Ether Type)을 제거하고 페이로드 영역의 단어를 분할하여 중복된 단어를 제거하며, Word2Vec 방식을 사용하여 탐지 룰에서 추출한 핵심어 리스트와 페이로드 내의 단어 리스트의 거리를 측정하여 Embedding Table을 생성하는 전처리 단계를 수행하는 것이 바람직하다. 다음으로, 상기 데이터 모델링부의 정오탐 분석 모듈은 상기 패킷 전처리 모듈에 의해 전처리된 패킷 데이터에 대해 모델링을 수행하는 단계를 수행한다(S340). 상술한 바와 같이 S110 내지 S150단계를 통해 패킷 데이터에 대한 신규 초기학습 단계(S100)가 완료되면, 무결 성 검증 요청에 따라 모델을 재학습하는 단계(S200)를 수행한다. 도 6을 참조하여 상기 모델 재학습 단계(S400)에 대해서도 더욱 구체적으로 설명한다. 상기 송수신부가 수신한 패킷 데이터가 기존 데이터인 경우 상기 주제어부는 상기 무결성 검증 모듈 에 상기 패킷 데이터에 대해 무결성을 요청하는 단계를 수행한다(S410). 상기 무결성 검증 모듈은 상기 송수신부가 수신하여 상기 인공지능 시스템 DB에 저장된 상기 패 킷 데이터에 대해 무결성을 검증하는 단계를 수행한다(S420). 상기 무결성 검증 모듈은 상기 블록체인부에 저장된 원본 패킷정보와 상기 인공지능 시스템 DB 에 저장된 패킷 정보를 조회하고 비교하여 무결성을 검증한다. 상기 무결성 검증 모듈은 상기 블록체인부에 저장된 원본 패킷정보와 상기 인공지능 시스템 DB 에 저장된 패킷 정보가 일치하면 무결한 것으로 판단하고, 불일치하면 무결하지 않은 것으로 판단하는 단계를 수행한다(S430). 상기 S430 단계에서 상기 무결성 검증 모듈에 의해 패킷 데이터이 무결한 경우, 상기 무결성 검증 모듈 은 무결이 확인된 패킷 데이터를 상기 패킷 전처리 모듈에 전송하고, 상기 패킷 전처리 모듈은 검증된 패킷 데이터를 전송받아 전처리 하는 단계를 수행한다(S440). 다음으로, 상기 데이터 모델링부의 정오탐 분석 모듈은 상기 S440단계에서 상기 패킷 전처리 모듈 에 의해 전처리된 패킷 데이터에 대해 모델링을 수행하는 단계를 수행한다(S450). 한편, 상기 S430 단계에서 상기 무결성 검증 모듈에 의해 상기 블록체인부에 저장된 원본 패킷정보와 상기 인공지능 시스템 DB에 저장된 패킷 정보가 불일치하여 패킷 데이터가 무결하지 않은 것으로 판단되는 경우, 상기 시스템 알림부는 상기 송수신부가 수신한 패킷 데이터가 변조된 사이버 공격 패킷일 수 있음을 시스템적으로 알리는 단계를 수행할 수 있다(S440`). 상기 S330 및 S440 단계의 전처리 단계에 대해 도 7를 참조하여 구체적으로 설명한다. 상기 패킷 전처리 모듈은 외부 시스템으로부터 신규로 들어온 패킷 데이터 또는 무결성이 검증된 패킷 데 이터에서 공격 데이터의 제어정보인 패킷 타입 정보를 추출하는 단계를 수행한다(S331/S441). 도 2에 표시된 바와 같이 Ether Type 정보 있는데, 해당 Type 정보에 따라 뒤에 따라오는 페이로드(Payload) 형 태가 달라지고 그에 따른 처리 방법이 다르기 때문에 상기 S331/S441단계에서 패킷 타입(Type) 정보 추출이 필 요하다. 다음으로 상기 패킷 전처리 모듈은 패킷 데이터에서 페이로드 영역의 단어를 추출하는 단계를 수행한다 (S332/S442). 상기 패킷 전처리 모듈은 상기 페이로드 영역에서 추출한 단어들 중, 중복되는 단어를 제거하는 단계를 수 행한다(S333/S443) 다음으로 상기 S340 및 S450 단계의 모델링 단계에 대해 도 8을 참조하여 구체적으로 설명한다. 상기 정오탐 분석 모듈은 Word2Vec 방식으로 상기 전처리 단계에서 추출되는 핵심어 리스트와 페이로드 내 의 단어 리스트의 거리를 수치화 하는 단계를 수행한다(S341/S451). 이후, 상기 정오탐 분석 모듈은 수치화된 패킷 데이터를 소정의 퍼센테이지 비율로 학습 데이터와 테스트 데이터를 분류하는 단계를 수행한다(S342/S452). 상기 정오탐 분석 모듈은 최적 값을 찾을 때까지 머신러닝하는 단계를 수행한다(S343/S453). 상기 최적값은 상기 머신러닝에서 손실함수(loss function)의 결과값을 최소화 하는 모델의 인자값을 의미한다. 손실 함수는 신경망이 학습할 수 있도록 나타내는 지표를 의미하고 모델의 출력 값과 정답 값 간의 오차를 의미 하고, 오차가 낮을수록 학습이 잘 된 것으로 판단한다. 최적값은 여러 가지 허용되는 값들 중에 주어진 기준을 가장 잘 만족하는 것을 선택하는 것을 의미하다. 본 발 명에서는 경사 하강법(Gradient Descent)을 사용하였다. 상기 경사 하강법(Gradient Descent)은 해당 함수의 최소값 위치를 찾기 위해 경사(gradient)를 따라 움직이면 서 최적의 파라미터를 찾기 위한 방법론이다. 상기 정오탐 분석 모듈은 상기 단계에서 수행한 머신러닝 학습결과 생성된 모델로 검증 데이터 집합으로 모델 검증하는 단계를 수행한다(S344/S454). 즉, 상기 정오탐 분석 모듈은 F1 Score 식을 사용하여 정밀도와 재현율이 어느 한쪽에 치우치지 않는 검증 계산식을 마지막 단계에 수행한다. 학습된 인공지능 모델의 성능을 검증하는 방법에는 여러 가지가 있다. 크게 Accuracy(정확도), Precision(정밀도), Recall(재현율), F1 Score, Fall-out이 있는데 이러한 검증 방식 을 이해하려면 먼저 confusion matrix를 이해해야 한다. 아래의 표는 주로 인공지능 모델의 성능을 평가할 때 사용한다. 표 1 실제 정답 True False 분류 결과True True Positive False Positive False False Negative True Negative 상기 [표 1]에서 True Positive(TP) : 실제 True인 정답을 True라고 예측 (정답) False Positive(FP) : 실제 False인 정답을 True라고 예측 (오답) False Negative(FN) : 실제 True인 정답을 False라고 예측 (오답), 및 True Negative(TN) : 실제 False인 정답을 False라고 예측 (정답) 으로 분류할 수 있다. 상기 Accuracy(정확도)는 상기 [표 1] 분류의 전체 중에서 정답을 맞춘 비율이다. 이를 수식으로 표현하면 아래 의 [수학식 1]과 같다. 수학식 1"}
{"patent_id": "10-2020-0174780", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "상기 Precision(정밀도)는 모델이 True라고 분류한 것 중에서 실제 True인 것의 비율이며 1에 가까울수록 좋다. 이를 수식으로 표현하면 아래의 [수학식 2]와 같다. 수학식 2"}
{"patent_id": "10-2020-0174780", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "상기 Recall(재현율)은 원래 True인 것 중에서 모델이 True라고 예측한 비율이고, 이를 수학식으로 표현하면 아 래의 [수학식 3]과 같다.수학식 3"}
{"patent_id": "10-2020-0174780", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "정확도(Accuracy)는 높다고 무조건 좋은 것이 아니라 데이터의 비율을 잘 확인해야 한다. 만약 악성종양을 판단 해야 하는 데이터 100건이 있는데 이중 95건이 양성이고 5건이 악성일 경우, Accuracy는 양성종양을 맞춘 경우 도 악성종양을 맞춘 경우도 모두 정답으로 포함하여 정확도를 계산한다. 즉 정확도가 95퍼센트라고 하더라도 그 95퍼센트가 모두 양성종양인 경우를 맞춘 확률일 수 있다. 악성종양 5퍼 센트를 전혀 예측하지 못한 경우가 발생할 수 있다는 의미이다. 이러한 경우를 정확도의 역설 이라고 한다. 이러한 정확도의 단점을 해결하기 위해 사용하는 방법이 상술한 재현율(Recall) 방식이고 상기 [수학식 3]과 같 다. 그러나 이러한 측정 방식에도 오류가 생길 수 있는데 재현율을 높이고자 인공지능 모델이 모든 예측을 True라고 하면 실제 True 중 모델이 True라고 예측을 맞춘 비율이 100%가 된다. (악성종양과 양성종양을 섞어 두고 악성 종양을 찾아내려는 경우에 재현율 즉, 실제 악성종양 중 모델이 맞춘 악성종양 비율을 높이려면 모두 악성종양 이라고 판단 해버리면 되는 상황) 이를 해소하기 위한 방법에는 또 정밀도가 있는데, 정밀도(Precision)는 이미 언급한 바와 같이 모델이 True라 고 분류한 것 중에서 실제 True인 것의 비율을 나타내고 [수학식 1]과 같다. 그러나 정밀도에도 왜곡이 생길 수 있는데 95명의 실제 악성종양 환자가 있을 때 93명의 악성 종양 환자를 찾아 내고 그 93명의 환자 중 실제 악성종양 환자의 비율을 계산하게되면 정밀도가 100퍼센트가 나오게 된다. 정밀도와 재현율은 위처럼 반비례 하는 성질을 갖고 있다. 이 중간점을 찾아 모델의 성능을 측정할 방법이 필요 한데 그 방법이 언급한 상기 F1 Score이다. 본 발명에서는 모델의 성능을 F1 Score 방식으로 검증하였고, FI Score는 정밀도와 재현율의 조화평균이며 식은 아래의 [수학식 4]과 같다. 수학식 4"}
{"patent_id": "10-2020-0174780", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 5, "content": "상술한 조화평균 식을 사용하여 검증 결과가 한쪽으로 치우치면 좋지 않은 모델인 것으로 판별되게 된다. 상기 정오탐 분석 모듈은 상기 단계에서 수행한 모델 검증 단계에서 검증된 모델의 정확도가 가장 높은지 여부를 판단하는 단계를 수행한다(S345/S455). 상기 정오탐 분석 모듈은 모델의 정확도가 높지 않으면 상기 모델 검증 단계를 반복 수행하고, 모델의 정 확도가 높은 경우 최적의 모델로 생성하는 단계를 수행한다(S346/S456). 이상에서는 본 발명에 대한 기술사상을 첨부 도면과 함께 서술하였지만 이는 본 발명의 바람직한 실시 예를 예 시적으로 설명한 것이지 본 발명을 한정하는 것은 아니다. 또한 본 발명이 속하는 기술 분야에서 통상의 지식을 가진 자라면 누구나 본 발명의 기술적 사상의 범주를 이탈하지 않는 범위 내에서 다양한 변형 및 모방이 가능함 은 명백한 사실이다."}
{"patent_id": "10-2020-0174780", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명에 따른 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성을 검증하는 시스템 블록도이다.도 2 및 도 3은 본 발명에 따른 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성을 검증하 는 시스템에서 언급되는 패킷 데이터의 구조를 도시한 도면이다. 도 4는 본 발명에 따른 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성을 검증하는 방법의 플로우차트이다. 도 5는 본 발명에 따른 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성을 검증하는 방법에 서 신규 초기학습 단계의 플로우차트이다. 도 6은 본 발명에 따른 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성을 검증하는 방법에 서 모델 재학습 단계의 플로우차트이다. 도 7은 본 발명에 따른 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성을 검증하는 방법에 서 전처리 단계의 플로우차트이다. 도 8은 본 발명에 따른 머신러닝 기반 사이버 공격 패킷 데이터의 정오탐을 판별하고 무결성을 검증하는 방법에 서 모델링 단계의 플로우차트이다."}
