{"patent_id": "10-2021-0126503", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2023-0043520", "출원번호": "10-2021-0126503", "발명의 명칭": "데이터 처리 시스템 및 그 동작 방법과, 이를 이용한 컴퓨팅 시스템", "출원인": "에스케이하이닉스 주식회사", "발명자": "남지훈"}}
{"patent_id": "10-2021-0126503", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "호스트 장치로부터 신경망 연산 처리 요청을 수신하는 컨트롤러;복수의 로우라인 및 복수의 컬럼라인 간에 접속된 복수의 메모리 셀과, 상기 복수의 컬럼라인을 설정된 개수로그룹화한 복수의 컬럼라인 그룹별로 구비되는 복수의 멀티플랙서와, 상기 복수의 멀티플랙서 각각에 접속된 복수의 아날로그/디지털 변환기(ADC)를 포함하는 서브 어레이를 적어도 하나 구비하는 연산 메모리; 및상기 컨트롤러로부터 상기 서브 어레이에 저장할 데이터 및 상기 데이터를 저장할 제 1 컬럼 어드레스를 수신하고, 상기 데이터가 상기 복수의 컬럼라인 그룹에 분산 저장되도록 상기 제 1 컬럼 어드레스를 제 2 컬럼 어드레스에 리맵핑하여 상기 서브 어레이에 상기 데이터를 저장하는 병렬화부;를 포함하도록 구성되는 데이터 처리 시스템."}
{"patent_id": "10-2021-0126503", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서,상기 데이터는 가중치 행렬을 포함하고,상기 병렬화부는, 상기 가중치 행렬 저장에 필요한 컬럼라인의 수가 상기 서브 어레이 내 총 컬럼라인의 수보다작은 경우, 행렬 분리율 및 ADC 반복 횟수를 결정하는 ADC 제어부; 및상기 행렬 분리율에 따라 상기 가중치 행렬을 분할하고, 상기 분할된 행렬이 서로 다른 상기 멀티플렉서에 접속된 컬럼라인에 저장되도록 상기 제 1 컬럼 어드레스를 상기 제 2 컬럼 어드레스에 리맵핑하는 데이터 재구성부;를 포함하도록 구성되는 데이터 처리 시스템."}
{"patent_id": "10-2021-0126503", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 2 항에 있어서,상기 ADC 제어부는 상기 멀티플렉서 개수의 역수를 상기 행렬 분리율로 결정하는 데이터 처리 시스템."}
{"patent_id": "10-2021-0126503", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 2 항에 있어서,상기 ADC 제어부는, 상기 행렬 분리율에 상기 가중치 행렬의 열 개수를 곱하여 상기 ADC 반복 횟수를 결정하는데이터 처리 시스템."}
{"patent_id": "10-2021-0126503", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 2 항에 있어서,상기 복수의 ADC 각각은 상기 ADC 반복 횟수에 대응하는 횟수만큼 동작하여 출력 데이터를 생성하고,상기 병렬화부는, 상기 제 1 컬럼 어드레스 및 상기 제 2 컬럼 어드레스를 포함하는 리맵핑 정보에 기초하여 상기 출력 데이터의 순서를 복원하는 출력 복원부를 더 포함하도록 구성되는 데이터 처리 시스템."}
{"patent_id": "10-2021-0126503", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 1 항에 있어서,상기 복수의 메모리 셀 각각은 멤리스터 소자를 포함하는 데이터 처리 시스템."}
{"patent_id": "10-2021-0126503", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "공개특허 10-2023-0043520-3-호스트 장치로부터 신경망 연산 처리 요청을 수신하는 컨트롤러;복수의 로우라인 및 복수의 컬럼라인 간에 접속된 복수의 메모리 셀과, 상기 복수의 컬럼라인을 설정된 개수로그룹화한 복수의 컬럼라인 그룹별로 구비되는 복수의 아날로그/디지털 변환기(ADC)를 포함하는 적어도 하나의서브 어레이; 및상기 컨트롤러로부터 상기 서브 어레이에 저장할 데이터 및 데이터를 저장할 제 1 컬럼 어드레스를 수신하고,동시에 동작하는 상기 ADC의 개수가 최대화되도록 상기 제 1 컬럼 어드레스를 제 2 컬럼 어드레스에 리맵핑하여상기 서브 어레이에 상기 데이터를 저장하는 병렬화부;를 포함하도록 구성되는 데이터 처리 시스템."}
{"patent_id": "10-2021-0126503", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 7 항에 있어서,상기 데이터는 가중치 행렬이고, 상기 데이터 처리 시스템은 상기 컬럼라인 그룹과 상기 ADC 간에 접속되는 복수의 멀티플렉서를 더 포함하며,상기 병렬화부는, 상기 가중치 행렬의 열을 상기 멀티플렉서의 개수씩 나누어 상기 가중치 행렬을 분할하고, 상기 분할한 가중치 행렬을 서로 다른 멀티 플렉서에 접속된 상기 컬럼라인 그룹에 저장하도록 구성되는 데이터처리 시스템."}
{"patent_id": "10-2021-0126503", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제 7 항에 있어서,상기 복수의 ADC 각각은, 상기 ADC에 접속된 컬럼라인 그룹에 저장된 가중치 행렬의 열 수만큼 반복 동작하여출력 데이터를 생성하는 데이터 처리 시스템."}
{"patent_id": "10-2021-0126503", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제 7 항에 있어서,상기 서브 어레이에 상기 리맵핑 정보에 따라 상기 데이터를 저장하고, 상기 로우 라인에 입력 특징맵에 대응하는 전압을 인가하여 메모리 내 연산이 이루어짐에 따라,상기 병렬화부는, 상기 제 1 컬럼 어드레스 및 상기 제 2 컬럼 어드레스를 포함하는 리맵핑 정보에 기초하여 상기 출력 데이터의 순서를 복원하도록 구성되는 데이터 처리 시스템."}
{"patent_id": "10-2021-0126503", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제 7 항에 있어서,상기 복수의 메모리 셀 각각은 멤리스터 소자를 포함하는 데이터 처리 시스템."}
{"patent_id": "10-2021-0126503", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "복수의 로우라인 및 복수의 컬럼라인 간에 접속된 복수의 메모리 셀과, 상기 복수의 컬럼라인을 설정된 개수로그룹화한 복수의 컬럼라인 그룹별로 구비되는 복수의 멀티플랙서와, 상기 복수의 멀티플랙서 각각에 접속된 복수의 아날로그/디지털 변환기(ADC)를 포함하는 서브 어레이를 적어도 하나 구비하는 연산 메모리가 제공되는 단계;상기 연산 메모리를 제어하는 컨트롤러가 호스트 장치로부터 신경망 연산 처리 요청을 수신하는 단계; 및상기 컨트롤러로부터 상기 서브 어레이에 저장할 데이터 및 상기 데이터를 저장할 제 1 컬럼 어드레스가 수신됨에 따라, 상기 연산 메모리가 상기 데이터가 상기 복수의 컬럼라인 그룹에 분산 저장되도록 상기 제 1 컬럼 어드레스를 제 2 컬럼 어드레스에 리맵핑하여 상기 서브 어레이에 상기 데이터를 저장하는 단계;를 포함하도록 구성되는 데이터 처리 시스템의 동작 방법."}
{"patent_id": "10-2021-0126503", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "공개특허 10-2023-0043520-4-제 12 항에 있어서,상기 데이터는 가중치 행렬이고, 상기 데이터를 저장하는 단계는,상기 연산 메모리가, 상기 가중치 행렬 저장에 필요한 컬럼라인의 수가 상기 서브 어레이 내 총 컬럼라인의 수보다 작은 경우, 행렬 분리율 및 ADC 반복 횟수를 결정하는 단계;상기 연산 메모리가, 상기 행렬 분리율에 따라 상기 가중치 행렬을 분할하는 단계; 및상기 연산 메모리가, 상기 분할된 행렬이 서로 다른 상기 멀티플렉서에 접속된 컬럼라인에 저장되도록 상기 제1 컬럼 어드레스를 상기 제 2 컬럼 어드레스에 리맵핑하는 단계;를 포함하도록 구성되는 데이터 처리 시스템의 동작 방법."}
{"patent_id": "10-2021-0126503", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제 12 항에 있어서,상기 행렬 분리율은 상기 멀티플렉서 개수의 역수로 결정되는 데이터 처리 시스템의 동작 방법."}
{"patent_id": "10-2021-0126503", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제 12 항에 있어서,상기 ADC 반복 횟수는 상기 행렬 분리율에 상기 가중치 행렬의 열 개수를 곱하여 결정하는 데이터 처리 시스템의 동작 방법."}
{"patent_id": "10-2021-0126503", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제 12 항에 있어서,상기 복수의 ADC가 상기 ADC 반복 횟수에 대응하는 횟수만큼 동작하여 출력 데이터를 생성하는 단계; 및상기 연산 메모리가, 상기 제 1 컬럼 어드레스 및 상기 제 2 컬럼 어드레스를 포함하는 리맵핑 정보에 기초하여상기 출력 데이터의 순서를 복원하는 단계;를 더 포함하도록 구성되는 데이터 처리 시스템의 동작 방법."}
{"patent_id": "10-2021-0126503", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_17", "content": "호스트 장치; 및복수의 메모리 셀이 접속된 복수의 컬럼라인을 설정된 개수로 그룹화한 복수의 컬럼라인 그룹별로 구비되는 복수의 아날로그/디지털 변환기(ADC)를 포함하는 서브 어레이를 구비하는 연산 메모리와, 상기 컨트롤러로부터 상기 서브 어레이에 저장할 데이터 및 상기 데이터를 저장할 제 1 컬럼 어드레스를 수신하고, 상기 데이터가 상기복수의 컬럼라인 그룹에 분산 저장되도록 상기 제 1 컬럼 어드레스를 제 2 컬럼 어드레스에 리맵핑하여 상기 서브 어레이에 상기 데이터를 저장하는 데이터 처리 시스템;을 포함하도록 구성되는 컴퓨팅 시스템."}
{"patent_id": "10-2021-0126503", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_18", "content": "제 17 항에 있어서,상기 데이터는 가중치 행렬을 포함하고,상기 데이터 처리 시스템은 상기 ADC의 개수에 기초하여 행렬 분리율 및 ADC 반복 횟수를 결정하는 ADC 제어부;및상기 행렬 분리율에 따라 상기 가중치 행렬을 분할하고, 상기 분할된 행렬이 서로 다른 상기 멀티플렉서에 접속된 컬럼라인에 저장되도록 상기 제 1 컬럼 어드레스를 상기 제 2 컬럼 어드레스에 리맵핑하는 데이터 재구성부;를 포함하도록 구성되는 컴퓨팅 시스템.공개특허 10-2023-0043520-5-청구항 19 제 17 항에 있어서,상기 복수의 ADC 각각은 상기 ADC 반복 횟수에 대응하는 횟수만큼 동작하여 출력 데이터를 생성하고,상기 데이터 처리 시스템은 상기 제 1 컬럼 어드레스 및 상기 제 2 컬러 어드레스를 포함하는 리맵핑 정보에 기초하여 상기 출력 데이터의 순서를 복원하는 출력 복원부를 더 포함하도록 구성되는 컴퓨팅 시스템."}
{"patent_id": "10-2021-0126503", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_20", "content": "제 17 항에 있어서,상기 서브 어레이는 멤리스터 소자를 포함하는 메모리 셀 어레이로 구성되는 컴퓨팅 시스템."}
{"patent_id": "10-2021-0126503", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "일 실시예에 의한 데이터 처리 시스템은 호스트 장치로부터 신경망 연산 처리 요청을 수신하는 컨트롤러, 복수의 로우라인 및 복수의 컬럼라인 간에 접속된 복수의 메모리 셀과, 복수의 컬럼라인을 설정된 개수로 그룹화한 복수 의 컬럼라인 그룹별로 구비되는 복수의 멀티플랙서와, 복수의 멀티플랙서 각각에 접속된 복수의 아날로그/디지털 변환기(ADC)를 포함하는 서브 어레이를 적어도 하나 구비하는 연산 메모리 및, 컨트롤러로부터 서브 어레이에 저 장할 데이터 및 데이터를 저장할 제 1 컬럼 어드레스를 수신하고, 데이터가 복수의 컬럼라인 그룹에 분산 저장되 도록 제 1 컬럼 어드레스를 제 2 컬럼 어드레스에 리맵핑하여 서브 어레이에 데이터를 저장하는 병렬화부를 포함 하도록 구성될 수 있다."}
{"patent_id": "10-2021-0126503", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 기술은 데이터 처리 기술에 관한 것으로, 보다 구체적으로는 신경망 연산을 위한 데이터 처리 시스템 및 그 동작 방법과, 이를 이용한 컴퓨팅 시스템 에 관한 것이다."}
{"patent_id": "10-2021-0126503", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "인공지능 어플리케이션 및 빅데이터 분석에 대한 관심과 중요성이 높아지면서, 대용량의 데이터를 효율적으로 처리할 수 있는 컴퓨팅 시스템에 대한 요구가 증가하고 있다. 인공 신경망은 인공지능을 구현하기 위한 하나의 방법이다. 인공 신경망의 목적은 학습을 통해 기계의 문제 해 결 능력, 즉 추론력을 키우는 데 있으나, 출력의 정확도가 높아질수록 연산량 및 연산 프로세서의 크기가 증가 하게 된다."}
{"patent_id": "10-2021-0126503", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 기술의 실시예는 회로의 크기를 소형화하면서도 연산 속도를 향상시킬 수 있는 데이터 처리 시스템 및 그 동 작 방법과, 이를 이용한 컴퓨팅 시스템을 제공할 수 있다."}
{"patent_id": "10-2021-0126503", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "본 기술의 일 실시예에 의한 데이터 처리 시스템은 호스트 장치로부터 신경망 연산 처리 요청을 수신하는 컨트 롤러; 복수의 로우라인 및 복수의 컬럼라인 간에 접속된 복수의 메모리 셀과, 상기 복수의 컬럼라인을 설정된 개수로 그룹화한 복수의 컬럼라인 그룹별로 구비되는 복수의 멀티플랙서와, 상기 복수의 멀티플랙서 각각에 접 속된 복수의 아날로그/디지털 변환기(ADC)를 포함하는 서브 어레이를 적어도 하나 구비하는 연산 메모리; 및 상 기 컨트롤러로부터 상기 서브 어레이에 저장할 데이터 및 상기 데이터를 저장할 제 1 컬럼 어드레스를 수신하고, 상기 데이터가 상기 복수의 컬럼라인 그룹에 분산 저장되도록 상기 제 1 컬럼 어드레스를 제 2 컬럼 어드레스에 리맵핑하여 상기 서브 어레이에 상기 데이터를 저장하는 병렬화부;를 포함하도록 구성될 수 있다. 본 기술의 일 실시예에 의한 데이터 처리 시스템은 호스트 장치로부터 신경망 연산 처리 요청을 수신하는 컨트 롤러; 복수의 로우라인 및 복수의 컬럼라인 간에 접속된 복수의 메모리 셀과, 상기 복수의 컬럼라인을 설정된 개수로 그룹화한 복수의 컬럼라인 그룹별로 구비되는 복수의 아날로그/디지털 변환기(ADC)를 포함하는 적어도 하나의 서브 어레이; 및 상기 컨트롤러로부터 상기 서브 어레이에 저장할 데이터 및 데이터를 저장할 제 1 컬럼 어드레스를 수신하고, 동시에 동작하는 상기 ADC의 개수가 최대화되도록 상기 제 1 컬럼 어드레스를 제 2 컬럼 어드레스에 리맵핑하여 상기 서브 어레이에 상기 데이터를 저장하는 병렬화부;를 포함하도록 구성될 수 있다. 본 기술의 일 실시예에 의한 데이터 처리 시스템의 동작 방법은 복수의 로우라인 및 복수의 컬럼라인 간에 접속 된 복수의 메모리 셀과, 상기 복수의 컬럼라인을 설정된 개수로 그룹화한 복수의 컬럼라인 그룹별로 구비되는 복수의 멀티플랙서와, 상기 복수의 멀티플랙서 각각에 접속된 복수의 아날로그/디지털 변환기(ADC)를 포함하는 서브 어레이를 적어도 하나 구비하는 연산 메모리가 제공되는 단계; 상기 연산 메모리를 제어하는 컨트롤러가호스트 장치로부터 신경망 연산 처리 요청을 수신하는 단계; 및 상기 컨트롤러로부터 상기 서브 어레이에 저장 할 데이터 및 상기 데이터를 저장할 제 1 컬럼 어드레스가 수신됨에 따라, 상기 연산 메모리가 상기 데이터가 상기 복수의 컬럼라인 그룹에 분산 저장되도록 상기 제 1 컬럼 어드레스를 제 2 컬럼 어드레스에 리맵핑하여 상 기 서브 어레이에 상기 데이터를 저장하는 단계;를 포함하도록 구성될 수 있다. 본 기술의 일 실시예에 의한 컴퓨팅 시스템은 호스트 장치; 및 복수의 메모리 셀이 접속된 복수의 컬럼라인을 설정된 개수로 그룹화한 복수의 컬럼라인 그룹별로 구비되는 복수의 아날로그/디지털 변환기(ADC)를 포함하는 서브 어레이를 구비하는 연산 메모리와, 상기 컨트롤러로부터 상기 서브 어레이에 저장할 데이터 및 상기 데이 터를 저장할 제 1 컬럼 어드레스를 수신하고, 상기 데이터가 상기 복수의 컬럼라인 그룹에 분산 저장되도록 상 기 제 1 컬럼 어드레스를 제 2 컬럼 어드레스에 리맵핑하여 상기 서브 어레이에 상기 데이터를 저장하는 데이터 처리 시스템;을 포함하도록 구성될 수 있다."}
{"patent_id": "10-2021-0126503", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 기술에 의하면 메모리 내 연산장치에서 중복되는 회로 성분을 제거하면서도 연산 속도를 향상시킬 수 있다."}
{"patent_id": "10-2021-0126503", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "이하, 첨부된 도면을 참조하여 본 기술의 실시예를 보다 구체적으로 설명한다. 도 1은 일 실시예에 의한 컴퓨팅 시스템의 구성도이다. 컴퓨팅 시스템은 호스트 장치 및 데이터 처리 시스템을 포함할 수 있다. 데이터 처리 시스템 은 호스트 장치가 요청한 어플리케이션의 연산을 처리하는 신경망 프로세서를 포함할 수 있다. 호스트 장치는 적어도 메인 프로세서, RAM, 메모리, 입출력(IO) 장치 등의 기능 블 록 및, 도시하지 않은 다른 범용적인 구성요소들을 더 포함할 수 있다. 실시예에 있어서, 호스트 장치의 구성요소들은 하나의 반도체 칩으로 집적되어 시스템 온 칩(SoC)으로 구 현될 수 있으나 이에 한정되지 않으며, 복수의 반도체 칩으로 구현될 수도 있다. 메인 프로세서는 컴퓨팅 시스템의 전반적인 동작을 제어할 수 있으며, 예를 들어 중앙처리장치 (Central Processing Unit; CPU)일 수 있다. 메인 프로세서는 하나 또는 복수의 코어를 포함할 수 있다. 메인 프로세서는 RAM 및 메모리에 저장된 프로그램들, 데이터, 및/또는 명령어(instructions)를 처리 또는 실행할 수 있다. 예를 들어, 메인 프로세서는 메모리에 저장된 프로그램들을 실행함으로 써 컴퓨팅 시스템의 기능들을 제어할 수 있다. RAM은 프로그램들, 데이터, 또는 명령들을 일시적으로 저장할 수 있다. 메모리에 저장된 프로그램들 및/또는 데이터는 메인 프로세서의 제어 또는 부팅 코드에 따라 RAM에 일 시적으로 로딩될 수 있다. RAM은 DRAM(Dynamic RAM) 또는 SRAM(Static RAM) 등의 메모리를 이용하여 구현될 수 있다. 메모리는 데이터를 저장하기 위한 저장 장소로서, 예를 들어, OS(Operating System), 각종 프로그램들 및 각종 데이터를 저장할 수 있다. 메모리는 휘발성 메모리(volatile memory) 또는 비휘발성 메모리(non- volatile memory) 중 적어도 하나를 포함할 수 있다. 비휘발성 메모리는 ROM(Read Only Memory),PROM(Programmable ROM), EPROM(Electrically Programmable ROM), EEPROM(Electrically Erasable and Programmable ROM), 플래시 메모리, PRAM(Phase-change RAM), MRAM(Magnetic RAM), RRAM(Resistive RAM), FRAM(Ferroelectric RAM) 등에서 선택될 수 있다. 휘발성 메모리는 DRAM(Dynamic RAM), SRAM(Static RAM), SDRAM(Synchronous DRAM) 등에서 선택될 수 있다. 또한 일 실시 예에 있어서, 메모리는 HDD(Hard Disk Drive), SSD(Solid-State Drive), CF(Compact Flash), SD(Secure Digital), Micro-SD(Micro Secure Digital), Mini-SD(Mini Secure Digital), xD(extreme digital) 또는 메모리 스틱(Memory Stick) 등과 같은 저장 장치로 구현될 수 있다. 입출력 장치는 사용자 입력 또는 외부로부터의 입력 데이터를 수신하고, 컴퓨팅 시스템의 데이터 처리 결과를 출력할 수 있다. 입출력 장치는 터치 스크린 패널, 키보드, 다양한 종류의 센서 등으로 구현될 수 있다. 실시예에 있어서, 입출력 장치는 컴퓨팅 시스템 주변의 정보를 수집할 수 있다. 예를 들어 입 출력 장치는 촬상 장치와 이미지 센서를 포함하여 데이터 처리 시스템 외부로부터 이미지 신호를 센 싱 또는 수신할 수 있고, 센싱 또는 수신된 이미지 신호를 이미지 데이터로 변환하여 메모리에 저장하거나, 데이터 처리 시스템에 제공할 수 있다. 데이터 처리 시스템은 호스트 장치의 요청에 응답하여, 인공 신경망을 기초로 입력 데이터를 분석하 여 유효한 정보를 추출하고, 추출된 정보를 기초로 상황을 판단하거나 데이터 처리 시스템이 탑재되는 전 자 장치의 구성들을 제어할 수 있다. 예를 들어, 데이터 처리 시스템은 드론(drone), 첨단 운전자 보조 시스템(Advanced Drivers Assistance System; ADAS), 스마트 TV, 스마트 폰, 의료 장치, 모바일 장치, 영상 표 시 장치, 계측 장치, IoT(Internet of Things) 장치 등에 적용될 수 있으며, 이외에도 다양한 종류의 컴퓨팅 시 스템 중 하나에 탑재될 수 있다. 일 실시예에서, 호스트 장치는 신경망 연산을 데이터 처리 시스템에 오프로드할 수 있고, 이를 위한 초기 파라미터, 예를 들어 입력 데이터 및 가중치 행렬을 데이터 처리 시스템으로 제공할 수 있다. 일 실시예에서, 데이터 처리 시스템은 모바일 장치에 탑재되는 어플리케이션 프로세서일 수 있다. 데이터 처리 시스템은 적어도 신경망 프로세서를 포함할 수 있다. 신경망 프로세서는 입력 데이터를 훈련 또는 학습하여 신경망 모델을 생성하거나, 신경망 모델에 따라 입 력 데이터를 연산하여 정보 신호(information signal)를 생성하거나, 신경망 모델을 재훈련(retrain)할 수 있다. 신경망은 CNN(Convolution Neural Network), R-CNN(Region with Convolution Neural Network), RPN(Region Proposal Network), RNN(Recurrent Neural Network), S-DNN(Stacking-based deep Neural Network), S-SDNN(State-Space Dynamic Neural Network), Deconvolution Network, DBN(Deep Belief Network), RBM(Restricted Boltzmann Machine), Fully Convolutional Network, LSTM(Long Short-Term Memory) Network, Classification Network 등 다양한 종류의 신경망 모델들을 포함할 수 있으나 이에 한정되지 않는다. 도 2는 일 실시예에 의한 인공 신경망의 데이터 처리 개념을 설명하기 위한 도면으로, CNN의 데이터 처리 개념 을 나타낸다. CNN은 컨볼루션 레이어(convolution layer), 풀링 레이어(pooling layer) 및 완전연결 레이어(fully connected layer)로 구성될 수 있다. 컨볼루션 레이어는 입력 특징 맵(Input Feature Map; IFM)에 가중치 행렬(커널, W)를 적용하여 출력 특징 맵 (Output Feature Map; OFM)을 생성할 수 있다. 풀링 레이어는 컨볼루션 레이어를 통해 추출한 특징에 공간불변성(Spatial invariance) 더해주는 레이어로, 컨 볼루션 레이어의 출력을 축소하는 역할을 한다. 컨볼루션 레이어와 풀링 레이어는 신경망의 모수를 비약적으로 줄여 주어 전체 모델의 복잡도를 감소시킨다. 완전연결 레이어는 풀링 레이어로부터 출력된 특징 추출 결과에 따라 입력 데이터를 분류하여 출력 데이터를 생 성할 수 있다. 도 3은 일 실시예에 의한 신경망 프로세서의 구성도이다. 도 3을 참조하면, 신경망 프로세서는 신경망 연산에 특화된 프로세서 또는 가속기일 수 있고, 메모리 내 연산장치, 컨트롤러 및 RAM을 포함할 수 있다. 일 실시예에서 신경망 프로세서는 하나의 반도체 칩으로 집적된 시스템 온 칩(SoC)으로 구현될 수 있으나 이에 한정되지 않으며, 복수의 반도체 칩으로구현될 수도 있다. 컨트롤러는 신경망 프로세서의 전반적인 동작을 제어할 수 있다. 컨트롤러는 메모리 내 연산장 치가 신경망 연산을 정상적으로 실행할 수 있도록 신경망 연산과 관련된 파라미터들을 설정하고 관리할 수 있다. 컨트롤러는 하드웨어, 소프트웨어(또는 펌웨어) 또는 하드웨어에서 실행되는 소프트웨어가 조합된 형태로 구현될 수 있다. 컨트롤러는 적어도 하나의 프로세서, 예컨대 CPU(central processing unit), 마이크로 프로세서 등으로 구 현될 수 있으며, RAM에 저장된 다양한 기능들을 구성하는 인스트럭션을 실행할 수 있다. RAM은 DRAM, SRAM 등으로 구현될 수 있으며, 컨트롤러의 동작을 위한 각종 프로그램들 및 데이터와, 컨트롤러에서 생성되는 데이터를 일시 저장할 수 있다. 메모리 내 연산장치는 컨트롤러의 제어에 따라 신경망 연산을 수행하도록 구성될 수 있다. 메모리 내 연산장치는 연산 메모리, 글로벌 버퍼, 누적부(ACCU, 315), 활성화부(ACTIV, 317), 풀링부 (POOL, 319) 및 병렬화부를 포함할 수 있다. 연산 메모리는 복수의 연산 처리부(Processing Element; PE)를 포함할 수 있다. 각 연산 처리부(PE)는 글로벌 버퍼로부터 입력 특징 맵 및 가중치 행렬을 제공받아 컨볼루션 연산, 예컨대 요소별 곱셈 및 합산 을 수행할 수 있다. 글로벌 버퍼는 입력 특징 맵과 가중치 행렬을 저장한 후 연산 메모리로 제공할 수 있고, 연산 메모리 로부터 연산 결과를 제공받아 저장할 수 있다. 글로벌 버퍼는 DRAM, SRAM 등으로 구현될 수 있다. 누적부는 각 연산 처리부(PE)의 처리 결과를 누적하여 가중합을 도출하도록 구성될 수 있다. 활성화부는 누적부의 가중합 결과를 ReLU 등과 같은 활성화 함수에 적용하여 비선형성을 추가하도록 구성될 수 있다. 풀링부는 활성화부의 출력값을 샘플링하여 차원을 축소하고 최적화한다. 연산 메모리, 누적부, 활성화부 및 풀링부를 통한 처리 과정은 신경망 모델을 학습 또는 재학습하는 과정, 또는 입력 데이터를 추론하는 과정일 수 있다. 연산 메모리를 구성하는 연산 처리부(PE) 각각은 복수의 서브 어레이를 포함할 수 있다. 각 서브 어레이 는 복수의 로우라인과 복수의 컬럼라인 간에 접속된 복수의 메모리 셀, 예를 들어 멤리스터 소자를 포함할 수 있다. 신경망 연산을 위해 가중치 데이터가 서브 어레이의 메모리 셀에 저장되고, 입력 특징맵에 대응하는 데 이터가 서브 어레이의 로우라인에 인가됨에 따라 메모리 내 연산, 예를 들어 요소별 곱셈 및 합산 연산이 수행 될 수 있다. 호스트 장치가 데이터 처리 시스템의 신경망 프로세서로 입력 데이터 및 가중치 행렬을 전송하 여 신경망 연산을 오프로드함에 따라, 컨트롤러는 메모리 내 연산 장치로 가중치 데이터 및 이를 저 장할 어드레스를 전송할 수 있다. 병렬화부는 가중치 행렬을 저장하기 위해 필요한 컬럼 라인의 개수, 즉 출력 채널의 차원(개수)이 서브 어 레이를 구성하는 컬럼라인의 수보다 작은지 확인할 수 있다. 필요한 컬럼 라인의 개수가 서브 어레이 내 컬럼 라인의 수보다 작은 경우, 병렬화부는 한 번의 메모리 내 연산 동작에 사용되는 가중치 행렬의 열 개수가 최대가 되도록 서브 어레이 내 가중치 행렬의 저장 위치를 재구성할 수 있다. 일 실시예에서, 병렬화부는 컨트롤러로부터 전송되는 가중치 행렬의 각 열이 저장될 제 1 컬럼 어드 레스를 제 2 컬럼 어드레스로 리맵핑하여 가중치 행렬을 재구성할 수 있다. 가중치 행렬의 저장 위치 즉, 컬럼 어드레스가 변경된 상태로 연산되었으므로, 병렬화부는 서브 어레이로 부터 출력되는 연산 결과의 순서를 복원하여, 즉 커럼라인으로부터 출력되는 데이터의 순서를 원래의 순서로 복 원하여 후속 동작이 오류 없이 수행되도록 한다. 도 4는 일 실시예에 의한 연산 메모리의 구성도이다. 도 4를 참조하면, 일 실시예에 의한 연산 메모리는 복수의 타일(Tile)을 포함할 수 있다. 각각의 타일(Tile)은 타일 입력 버퍼, 복수의 연산 처리부(PE) 및 타일 출력 버퍼를 포함할 수 있다. 각각의 연산 처리부(PE)는 PE 입력 버퍼, 복수의 서브 어레이(SA) 및 누적/PE 출력 버퍼를 포함할 수 있다. 서브 어레이(SA)는 시냅스(Synapse) 어레이라 칭할 수 있으며, 복수의 워드 라인들(WL1, WL2, ..., WLN), 복수 의 비트 라인들(BL1, BL2, ..., BLM) 및 복수의 메모리 셀들(MC)을 포함한다. 워드라인(WL1, WL2, ..., WLN) 은 로우라인, 비트 라인들(BL1, BL2, ..., BLM)은 컬럼라인이라 칭할 수 있다. 일 실시예에서, 메모리 셀들 (MC)은 저항성 메모리 소자(RE), 바람직하게는 멤리스터(Memristor) 소자를 포함할 수 있으나 이에 한정되지 않 는다. 메모리 셀(MC)은 복수의 워드 라인들(WL1, WL2, ..., WLN) 또는 복수의 비트 라인들(BL1, BL2, ..., BLM)을 통해 인가되는 기입 전압에 의해 저장되는 데이터 값이 변화하며, 저항성 메모리 셀들은 이러한 저항 변 화에 의해 데이터를 저장할 수 있다. 일 실시예에서, 각 저항성 메모리 셀은 PRAM(Phase change Random Access Memory) 셀, RRAM(Resistance Random Access Memory) 셀, MRAM(Magnetic Random Access Memory) 셀, FRAM(Ferroelectric Random Access Memory) 셀 등과 같은 저항성 메모리 셀을 포함하여 구현될 수 있다. 저항성 메모리 셀을 구성하는 저항성 소자는 전류량에 따라 결정 상태가 변화하는 상변화 물질(phase-change material), 페로브스카이트(perovskite) 화합물들, 전이 금속 산화물(transition metal oxide), 자성체 물질 (magnetic materials), 강자성(ferromagnetic) 물질들 또는 반강자성(antiferromagnetic) 물질들을 포함할 수 도 있으나 이에 한정되지 않는다. 서브 어레이(SA)의 단위 셀이 멤리스터 소자로 구성됨에 따라, 연산 처리부(PE)는 멤리스터 소자에 가중치 행렬 의 각 원소에 해당하는 데이터를 저장하고, 워드라인들(WL1, WL2, ..., WLN)에 입력 특징맵의 각 원소에 대응하 는 전압들을 인가하여 키르히호프의 법칙, 옴의 법칙을 활용하여 컨볼루션 연산을 수행할 수 있다. 각 비트라인(BL1, BL2, ..., BLM)은 출력 채널로도 지칭될 수 있으며, 아날로그/디지털 변환기(ADC)에 접속될 수 있다. ADC는 비트라인(BL1, BL2, ..., BLM)에 인가된 컨볼루션 연산 결과를 센싱하여 디지털 값으로 출력할 수 있다. ADC가 각 비트라인(BL1, BL2, ..., BLM)마다 구비된 경우 서브 어레이(SA)의 크기가 증가하게 된다. 따라서, 복수의 비트라인(BL1, BL2, ..., BLM)을 지정된 개수로 그룹화하여 비트라인 그룹(BLG1, BLG2)을 구성 하고, 비트라인 그룹(BLG1, BLG2) 각각을 멀티플렉서(MUX)를 통해 ADC에 연결할 수 있다. 쉬프트/가산기(Shift/Add)는 메모리 내 연산 사이클마다 ADC의 출력값을 쉬프트하고 이전 연산 결과와 합산할 수 있다. 멀티플랙서(MUX)를 사용함에 따라 ADC가 차지하는 면적을 줄일 수 있지만, 비트라인 그룹(BLG1, BLG2)에 포함된 비트라인의 수만큼 ADC가 동작하여야 하므로 서브 어레이(SA)의 연산 속도가 저하될 수 있다. 따라서, 본 기술에 의한 병렬화부는 가중치 행렬 저장에 필요한 컬럼라인(비트라인)의 수가 서브 어레이 (SA)를 구성하는 컬럼라인의 수보다 작으면, 복수의 ADC 각각의 동작 횟수가 최소화되도록 가중치 행렬의 각 열 이 저장될 컬럼 어드레스의 맵핑 정보를 변경하여 한 번의 메모리 내 연산 동작에 사용되는 가중치 행렬의 열 개수가 최대가 되도록 재구성할 수 있다. 아울러, 가중치 행렬의 저장 위치 즉, 컬럼 어드레스가 변경된 상태로 연산되었으므로, 병렬화부는 서브 어레이로부터 출력되는 연산 결과의 순서를 복원하여, 즉 커럼라인으로부터 출력되는 데이터의 순서를 원래의 순서로 복원하여 후속 동작이 오류 없이 수행되도록 한다. 도 5는 일 실시예에 의한 병렬화부의 구성도이다. 도 5를 참조하면, 일 실시예에 의한 병렬화부는 ADC 제어부, 데이터 재구성부 및 출력 복원부를 포함할 수 있다. ADC 제어부는 가중치 행렬 저장에 필요한 컬럼라인의 수가 서브 어레이 내 총 컬럼라인의 수보다 작으면, 행렬 분리율을 결정할 수 있다. 일 실시예에서, 행렬 분리율은 멀티플렉서 개수 또는 ADC 개수의 역수일 수 있 다. ADC 제어부는 행렬 분리율에 기초하여 ADC 반복 횟수(N)를 결정할 수 있다. 일 실시에에서, ADC 반복 횟 수(N)는 행렬 분리율에 가중치 행렬의 열 개수를 곱함으로써 계산될 수 있다. 즉, ADC는 ADC가 접속된 컬럼라 인 그룹에 저장된 가중치 행렬의 열 수만큼 반복 동작할 수 있다.각 서브 어레이(SA)는 ADC 반복 횟수(N)만큼 멀티플렉서(MUX) 및 ADC를 동작시켜 연산 결과를 출력할 수 있다. 데이터 재구성부는 행렬 분리율에 따라 가중치 행렬을 분할하고, 분할된 행렬이 서로 다른 멀티플렉서에 접속된 컬럼라인에 저장되도록 컬럼 어드레스를 리맵핑할 수 있다. 도 6 및 도 7은 데이터 재구성부의 동작을 설명하기 위한 개념도이다. 도 6은 서브 어레이(SA1) 내 컬럼라인의 수가 16개이고 컬럼라인을 4개씩 그룹화하여 4개의 멀티플렉서(MUX1, MUX2, MUX3, MUX4)에 접속한 경우를 나타낸다. 도 6의 (a)와 같이, 4*4 크기의 가중치 행렬(W)을 컬럼라인의 좌측부터 차례로 저장할 경우 제 1 멀티플렉서 (MUX1)에 연결된 컬럼라인 그룹에 모든 가중치 행렬(W)이 저장된다. 제 1 멀티플렉서(MUX1)가 4개의 컬럼라인 을 차례로 선택하여 제 1 ADC(ADC1)에 연결함에 따라, 제 1 ADC(ADC1)가 네 번의 동작을 수행하는 동안 제 2 내 지 제 4 멀티플렉서(MUX2~MUX4)와 제 2 내지 제 4 ADC(ADC2~ADC4)는 오프(off) 상태로 있다. 즉, 연산을 수행 할 수 있는 자원이 충분히 있는데도 제 1 ADC(ADC1)에 동작이 집중되어 연산 속도가 저하되게 된다. 따라서, ADC 제어부에서 행렬 분리율에 따라 가중치 행렬(W)을 분산 저장하여 연산 속도를 향상시킬 수 있 다. 도 6의 (b)를 참조하면, 멀티플렉서가 4개 이므로 행렬 분리율은 1/4로, ADC 반복 횟수(N)는 1(=(1/4*4)로 결정 될 수 있다. 가중치 행렬(W)은 1/4씩 분할되어, 각기 다른 멀티 플렉서에 접속된 컬럼라인에 저장될 수 있다. 도 6 (b)의 실시예에서, 가중치 행렬(W)은 4개의 열을 가지므로, 1열씩 분할되어 제 1 내지 제 4 멀티플렉서 (MUX1~MUX4)에 접속된 컬럼라인에 분산 저장되고, 제 1 내지 제 4 ADC(ADC1~ADC4)가 ADC 반복 횟수(N) 즉, 1회 동작하여 연산 결과가 출력될 수 있다. 도 7은 서브 어레이(SA2) 내 컬럼라인의 수가 16개이고 컬럼라인을 8개씩 그룹화하여 2개의 멀티플렉서(MUX1, MUX2)에 접속한 경우를 나타낸다. 도 7의 (a)와 같이, 4*4 크기의 가중치 행렬(W)을 컬럼라인의 좌측부터 차례로 저장할 경우 제 1 멀티플렉서 (MUX1)에 연결된 컬럼라인 그룹에 모든 가중치 행렬(W)이 저장된다. 제 1 멀티플렉서(MUX1)가 4개의 컬럼라인 을 차례로 선택하여 제 1 ADC(ADC1)에 연결함에 따라, 제 1 ADC(ADC1)가 네 번의 동작을 수행하는 동안 제 2 멀 티플렉서(MUX2)와 제 2 ADC(ADC2)는 오프(off) 상태로 있다. 따라서, 병렬화부에 의해 행렬 분리율(1/2)과 ADC 반복 횟수(N=(1/2)*4=2)를 산출할 수 있다. 도 7의 (b)를 참조하면, 가중치 행렬(W)은 4개의 열을 가지므로, 2열씩 분할되어 제 1 및 제 2 멀티플렉서 (MUX1, MUX2)에 접속된 컬럼라인에 분산 저장되고, 제 1 및 제 2 ADC(ADC1, ADC2)가 동시에 2번씩 동작하여 연 산 결과가 출력될 수 있다. 가중치 행렬의 저장 위치 즉, 컬럼 어드레스가 변경된 상태로 연산되었으므로, 출력 복원부는 서브 어레이 로부터 출력되는 연산 결과의 순서를 원래의 순서로 복원할 수 있다. 도 8은 일 실시예에 의한 출력 복원부의 구성도이다. 도 8은 도 6의 (b)와 같이 가중치 행렬의 맵핑을 변경한 경우의 출력 복원부를 나타낸다. 도 6 (b)의 경우 제 1 내지 제 4 ADC(ADC1~ADC4)는 반복 횟수(N)에 따라 한 번 동작하여, 각각 제 1 내지 제 4 데이터(OUT11, OUT21, OUT31, PUT41)를 출력한다. 출력 복원부는 복수의 ADC(ADC1~ADC4) 각각에 접속되어 ADC 반복 횟수(N)에 응답하여 ADC(ADC1~ADC4)의 출력 신호를 출력하는 복수의 멀티플렉서(MUX_A, MUX_B, MUX_C, MUX_D) 및 각 멀티플렉서(MUX_A, MUX_B, MUX_C, MUX_D)의 출력 신호를 출력 노드(ND_O1~ND_O16)에 전달하는 경로 제어부를 포함할 수 있다. 경로 제어부는 가중치 행렬에 대한 컬럼 어드레스 맵핑 정보 및 리맵핑 정보에 기초하여 복수의 멀티플렉 서(MUX_A, MUX_B, MUX_C, MUX_D)로부터 출력되는 신호의 순서를 가중치 행렬 리맵핑 전의 순서로 복원할 수 있 다. 도 9는 일 실시예에 의한 데이터 처리 시스템의 동작 방법을 설명하기 위한 흐름도이다. 메모리 내 연산을 수행할 행렬 데이터, 예를 들어 입력 특징맵 및 가중치 행렬이 신경망 프로세서로 전송 됨에 따라(S101), 병렬화부는 가중치 행렬 저장에 필요한 출력 채널의 차원 즉, 컬럼라인의 수가 서브 어레이 내 총 컬럼라인의 수를 비교할 수 있다(S103). 가중치 행렬 저장에 필요한 컬럼라인의 수가 서브 어레이 내 총 컬럼라인의 수보다 작으면(S103:Y), 병렬화부 는 행렬 분리율 및 ADC 반복 횟수(N)를 결정할 수 있다(S105). 일 실시예에서, 행렬 분리율은 멀티플렉서 개수의 역수일 수 있고, ADC 반복 횟수(N)는 행렬 분리율에 가중치 행렬의 열 개수를 곱함으로써 계산될 수 있다. 병렬화부는 결정된 행렬 분리율에 따라 가중치 행렬을 분할하여 분할된 행렬이 서로 다른 멀티플렉서에 접 속된 컬럼라인에 분산 저장되도록 컬럼 어드레스를 리맵핑할 수 있다(S107). 리맵핑된 컬럼 어드레스에 가중치 행렬이 저장되고, 서브 어레이의 로우 라인에 입력 특징에 대응하는 데이터가 인가됨에 따라 메모리 내 연산, 즉 컨볼루션 연산이 수행된다(S109). 메모리 내 연산 결과는 리맵핑 전의 순서로 복원되고(S111), 복원된 연산 결과는 예를 들어 글로벌 버퍼에 저장될 수 있다(S113). 한편, 가중치 행렬 저장에 필요한 컬럼라인의 수가 서브 어레이 내 총 컬럼라인의 수와 같거나 큰 경우에는 (S103:N), 가중치 행렬에 대한 컬럼 어드레스 리맵핑 과정 없이 직접 메모리 내 연산을 수행하고(S115), 연산 결과를 저장할 수 있다(S113). 방대한 양의 데이터를 처리하는 신경망 프로세서에서 본기술에서와 같이 동시 동작 가능한 ADC의 개수가 최대화 되도록, 다른 관점에서는 ADC별 동작 횟수가 균일하게 최소화되도록 가중치 행렬을 분산 저장함에 따라 데이터 처리 속도를 향상시켜 효율적인 신경망 연산이 가능하게 된다."}
{"patent_id": "10-2021-0126503", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "이와 같이, 본 발명이 속하는 기술분야의 당업자는 본 발명이 그 기술적 사상이나 필수적 특징을 변경하지 않고 서 다른 구체적인 형태로 실시될 수 있다는 것을 이해할 수 있을 것이다. 그러므로 이상에서 기술한 실시예들 은 모든 면에서 예시적인 것이며 한정적인 것이 아닌 것으로서 이해해야만 한다. 본 발명의 범위는 상기 상세 한 설명보다는 후술하는 특허청구범위에 의하여 나타내어지며, 특허청구범위의 의미 및 범위 그리고 그 등가개 념으로부터 도출되는 모든 변경 또는 변형된 형태가 본 발명의 범위에 포함되는 것으로 해석되어야 한다."}
{"patent_id": "10-2021-0126503", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 일 실시예에 의한 컴퓨팅 시스템의 구성도이다. 도 2는 일 실시예에 의한 인공 신경망의 데이터 처리 개념을 설명하기 위한 도면이다. 도 3은 일 실시예에 의한 신경망 프로세서의 구성도이다. 도 4는 일 실시예에 의한 연산 메모리의 구성도이다. 도 5는 일 실시예에 의한 병렬화부의 구성도이다. 도 6 및 도 7은 데이터 재구성부의 동작을 설명하기 위한 개념도이다. 도 8은 일 실시예에 의한 출력 복원부의 구성도이다. 도 9는 일 실시예에 의한 데이터 처리 시스템의 동작 방법을 설명하기 위한 흐름도이다."}
