{"patent_id": "10-2023-0122050", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2025-0039207", "출원번호": "10-2023-0122050", "발명의 명칭": "라이다 기반 인체 인식과 이미지 기반 인체 인식을 융합한 객체 추적 방법 및 그 장치", "출원인": "주식회사 신세계아이앤씨", "발명자": "변소현"}}
{"patent_id": "10-2023-0122050", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "적어도 하나의 프로세서에 의해 동작하는 객체 추적 장치의 동작 방법으로서,라이다 센서 기반 인체 인식 모델을 이용한 인체 인식을 수행하여 사전에 정해진 복수개의 인체 부분 형상들이검출되는지 확인하는 단계,상기 사전에 정해진 복수개의 인체 부분 형상들 중에서 적어도 하나의 일부 인체 부분 형상이 검출되면, 이미지기반 인체 인식 모델을 이용한 인체 인식을 수행하여 상기 적어도 하나의 일부 인체 부분 형상이 검출된 위치좌표에서 인체 형상이 검출되는지 확인하는 단계, 그리고상기 검출된 위치 좌표에서 인체 형상이 검출되면, 검출된 적어도 하나의 일부 인체 부분 형상에 대한 객체 추적을 수행하는 단계를 포함하는, 방법."}
{"patent_id": "10-2023-0122050", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제1항에서,상기 객체 추적을 수행하는 단계는,상기 검출된 적어도 하나의 일부 인체 부분 형상 및 상기 인체 형상에 동일한 객체 ID를 할당하고, 상기 동일한객체 ID가 부여된 형상들을 추적 대상인 객체로 설정하는, 방법."}
{"patent_id": "10-2023-0122050", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제2항에서,상기 인체 형상이 검출되는지 확인하는 단계 이후,상기 검출된 위치 좌표에서 인체 형상이 검출되지 않으면, 재추적 대상인 객체 정보를 저장하는 복원 리스트에상기 검출된 위치 좌표, 그리고 상기 검출된 위치 좌표의 형상들에 할당한 객체 ID를 저장하는 단계를 더 포함하는, 방법."}
{"patent_id": "10-2023-0122050", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제3항에서,상기 저장하는 단계 이후,현재 추적중인 객체 ID가 부여되지 않은 적어도 하나의 새로운 인체 부분 형상이 검출되고, 상기 새로운 인체부분 형상이 검출된 위치 좌표에서 이미지 인식을 통해 인체 형상이 검출되면, 상기 복원 리스트를 이용한 객체재추적을 수행하는 단계를 더 포함하는, 방법."}
{"patent_id": "10-2023-0122050", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제4항에서,상기 객체 재추적을 수행하는 단계는,상기 새로운 인체 부분 형상이 검출된 위치 좌표를 상기 복원 리스트에 저장된 위치 좌표와 비교하여, 정해진조건을 충족하면 상기 복원 리스트의 재추적 대상인 객체 ID를 상기 새로운 인체 부분 형상에 매칭하는, 방법."}
{"patent_id": "10-2023-0122050", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "공개특허 10-2025-0039207-3-제5항에서,상기 정해진 조건은,좌표들간 거리가 임계 거리 이내인지 판단하는 조건을 포함하는, 방법."}
{"patent_id": "10-2023-0122050", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제3항에서,상기 복수개의 인체 부분 형상들은,머리 부분 형상, 목 부분 형상, 그리고 상체 몸통 부분 형상을 포함하고,상기 이미지 기반 인체 인식 모델을 이용한 인체 형상 검출은,상기 라이다 센서 기반 인체 인식 모델을 통해 상기 머리 부분 형상 또는 상기 목 부분 형상 중 적어도 하나를제외한 상태에서 상기 상체 몸통 부분 형상이 검출되는 경우에 수행되는, 방법."}
{"patent_id": "10-2023-0122050", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "적어도 하나의 프로세서에 의해 동작하는 객체 추적 장치의 동작 방법으로서,라이다 센서가 설치된 지점에서 스캔된 점군 데이터(Point Cloud Data, PCD)를 상기 라이다 센서로부터 획득하는 단계,입력 데이터로부터 인체를 머리 부분 형상 및 상체 몸통 부분 형상으로 구분하여 출력하도록 학습된 라이다 센서 기반 인체 인식 모델에 상기 점군 데이터를 입력하여 상기 머리 부분 형상 및 상기 상체 몸통 부분 형상이출력되는지 확인하는 단계,상기 머리 부분 형상은 검출되지 않고 상기 상체 몸통 부분 형상이 검출되면, 입력 이미지로부터 인체 형상을출력하도록 학습된 이미지 기반 객체 검출 모델에 상기 라이다 센서가 설치된 지점에서 카메라에 의해 촬영된이미지를 입력하여 상기 상체 몸통 부분 형상이 검출된 위치 좌표에서 인체 형상이 검출되는지 확인하는 단계,그리고상기 검출된 위치 좌표에서 인체 형상이 검출되면, 상기 상체 몸통 부분 형상에 대한 객체 추적을 수행하는 단계를 포함하는, 방법."}
{"patent_id": "10-2023-0122050", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "제8항에서,상기 라이다 센서 기반 인체 인식 모델은,인체 형상을 머리 부분 형상, 목 부분 형상, 및 상체 몸통 부분 형상에 해당하는 각각의 바운딩 박스로 구분하여 학습하는, 방법."}
{"patent_id": "10-2023-0122050", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_10", "content": "제9항에서, 상기 검출되는지 확인하는 단계는,상기 라이다 센서 기반 인체 인식 모델로부터 상기 머리 부분 형상의 바운딩 박스 또는 상기 목 부분 형상의 바운딩 박스가 검출되지 않은 상태에서 상기 상체 몸통 부분 형상의 바운딩 박스가 검출되면, 상기 이미지 기반객체 검출 모델을 이용한 인체 형상의 검출을 수행하는, 방법."}
{"patent_id": "10-2023-0122050", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제9항에서,상기 검출되는지 확인하는 단계 이후,공개특허 10-2025-0039207-4-상기 검출된 위치 좌표에서 인체 형상이 검출되지 않으면, 재추적 대상인 객체 정보를 저장하는 복원 리스트에상기 검출된 위치 좌표, 그리고 상기 검출된 위치 좌표에 대응하는 형상들에 할당된 객체 ID를 저장하는 단계를더 포함하고,상기 객체 추적을 수행하는 단계 이후,현재 추적중인 객체 ID가 부여되지 않은 머리 부분 형상, 목 부분 형상, 및 상체 몸통 부분 형상 중에서 적어도하나의 형상이 검출되고, 상기 적어도 하나의 형상이 검출된 위치 좌표에서 상기 이미지 기반 객체 검출 모델을이용한 인체 형상이 검출되면, 상기 복원 리스트를 이용한 객체 재추적을 수행하는 단계를 더 포함하는, 방법."}
{"patent_id": "10-2023-0122050", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제11항에서,상기 객체 재추적을 수행하는 단계는,상기 복원 리스트에 저장된 위지 좌표 중에서 상기 적어도 하나의 형상이 검출된 위치 좌표와의 거리가 임계 거리 이내인 위치 좌표에 설정된 객체 ID를 상기 적어도 하나의 형상에 할당하여 재추적을 수행하는, 방법."}
{"patent_id": "10-2023-0122050", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "객체 추적 공간의 소정의 위치에 설치되어, 방출한 레이저 신호의 반사된 신호를 획득하고, 반사된 신호의 위치정보를 스캐닝하여 포인트 클라우드 데이터(Point Cloud Data, PCD)를 생성하는 라이다 센서,상기 라이다 센서의 설치 위치와 근접한 위치에 설치되어, 주변 환경을 촬영한 이미지 데이터를 생성하는 카메라, 그리고상기 라이다 센서로부터 획득한 PCD를 라이다 센서 기반 인체 인식 모델에 입력하여 정해진 복수의인체 부분 형상들이 검출되는지 확인하고, 적어도 하나의 일부 인체 부분 형상이 검출되면, 카메라에 의해 촬영된 이미지 데이터를 이미지 기반 인체 인식 모델에 입력하여 상기 적어도 하나의 일부 인체 부분 형상이 검출된위치 좌표에서 인체 형상이 검출되는지 확인하며, 상기 검출된 위치 좌표에서 인체 형상이 검출되면, 상기 적어도 하나의 일부 인체 부분 형상에 대한 객체 추적을 수행하는 객체 추적부를 포함하는, 객체 추적 장치."}
{"patent_id": "10-2023-0122050", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제13항에서,상기 객체 추적부는,현재 추적중인 객체 ID가 부여되지 않은 적어도 하나의 새로운 인체 부분 형상이 검출되고, 상기 새로운 인체부분 형상이 검출된 위치 좌표에서 이미지 기반 객체 검출 모델을 이용한 인체 형상이 검출되면, 복원 리스트에저장된 위치 좌표들 중에서 상기 새로운 인체 부분 형상이 검출된 위치 좌표와의 거리가 임계 거리 이내인 위치좌표를 탐색하고, 상기 임계 거리 이내인 위치 좌표가 복원 리스트에서 탐색되면 상기 새로운 인체 부분 형상을재추적 대상인 객체로 선정하는, 객체 추적 장치."}
{"patent_id": "10-2023-0122050", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제14항에서,상기 객체 추적부는,상기 적어도 하나의 일부 인체 부분 형상이 검출된 위치 좌표에서 인체 형상이 검출되지 않으면, 상기 복원 리스트에 상기 적어도 하나의 일부 인체 부분 형상이 검출된 위치 좌표를 재추적 대상으로 저장하는, 객체 추적장치."}
{"patent_id": "10-2023-0122050", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "적어도 하나의 프로세서에 의해 동작하는 객체 추적 장치의 동작 방법으로서, 라이다 센서 기반 인체 인식 모델 을 이용한 인체 인식을 수행하여 사전에 정해진 복수개의 인체 부분 형상들이 검출되는지 확인하는 단계, 상기 사전에 정해진 복수개의 인체 부분 형상들 중에서 적어도 하나의 일부 인체 부분 형상이 검출되면, 이미지 기반 인체 인식 모델을 이용한 인체 인식을 수행하여 상기 적어도 하나의 일부 인체 부분 형상이 검출된 위치 좌표에 서 인체 형상이 검출되는지 확인하는 단계, 그리고 상기 검출된 위치 좌표에서 인체 형상이 검출되면, 검출된 적 어도 하나의 일부 인체 부분 형상에 대한 객체 추적을 수행하는 단계를 포함한다."}
{"patent_id": "10-2023-0122050", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 라이다 기반 인체 인식과 이미지 기반 인체 인식을 융합한 객체 추적 방법 및 그 장치에 관한 것이다."}
{"patent_id": "10-2023-0122050", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "객체 추적 기술은 산업의 다양한 분야에서 이용되고 있다. 최근 무인 매장의 도입으로 매장 안의 고객을 탐지하 고 고객의 이동을 추적하고자 하는 요구가 증가하고 있다. 이러한 추세를 반영하여, 라이다(LiDAR) 센서를 통해 획득한 포인트 클라우드(Point Cloud)를 기반으로 기반으로 고객을 추적하기 위한 노력이 이루어지고 있다. 그런데, 사람 객체를 추적하다 보면 사람의 키 정보가 모두 다르기 때문에 라이다 센서의 설치 높이에 따라 키 가 큰 사람이 보이지 않거나 키가 작은 어린아이가 보이지 않는 경우와 같이 라이다 센서에 의해 감지되지 않는 음영 지역이 발생한다. 또한, 라이다 화각에 의해 음영 지역이 발생하여 객체 추적에 실패할 수도 있다. 사람 객체 추적에서 가장 중요한 정보는 사람이라는 정보가 정확하게 인식되어야하기 때문에 머리나 목을 인식 하지 못하고 몸통만 있는 경우는 사람으로 인식되지 못해 추적에 실패하여 추적의 정확도가 떨어지는 한계가 있 다."}
{"patent_id": "10-2023-0122050", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 개시는, 라이다 센서를 통해 인체의 일부 부분 형상만 검출된 경우에 인체의 일부 부분 형상이 검출된 위치 좌표에서 이미지 기반의 인체 영역이 검출되면, 검출된 일부 부분 형상에 대해 타겟 객체인 인체로 인식하여 객 체 추적을 수행하는 방법 및 그 장치를 제공하고자 한다."}
{"patent_id": "10-2023-0122050", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "한 특징에 따르면, 적어도 하나의 프로세서에 의해 동작하는 객체 추적 장치의 동작 방법으로서, 라이다 센서 기반 인체 인식 모델을 이용한 인체 인식을 수행하여 사전에 정해진 복수개의 인체 부분 형상들이 검출되는지 확인하는 단계, 상기 사전에 정해진 복수개의 인체 부분 형상들 중에서 적어도 하나의 일부 인체 부분 형상이 검출되면, 이미지 기반 인체 인식 모델을 이용한 인체 인식을 수행하여 상기 적어도 하나의 일부 인체 부분 형 상이 검출된 위치 좌표에서 인체 형상이 검출되는지 확인하는 단계, 그리고 상기 검출된 위치 좌표에서 인체 형 상이 검출되면, 검출된 적어도 하나의 일부 인체 부분 형상에 대한 객체 추적을 수행하는 단계를 포함한다. 상기 객체 추적을 수행하는 단계는, 상기 검출된 적어도 하나의 일부 인체 부분 형상 및 상기 인체 형상에 동일 한 객체 ID를 할당하고, 상기 동일한 객체 ID가 부여된 형상들을 추적 대상인 객체로 설정할 수 있다. 상기 인체 형상이 검출되는지 확인하는 단계 이후, 상기 검출된 위치 좌표에서 인체 형상이 검출되지 않으면, 재추적 대상인 객체 정보를 저장하는 복원 리스트에 상기 검출된 위치 좌표, 그리고 상기 검출된 위치 좌표의 형상들에 할당한 객체 ID를 저장하는 단계를 더 포함할 수 있다. 상기 저장하는 단계 이후, 현재 추적중인 객체 ID가 부여되지 않은 적어도 하나의 새로운 인체 부분 형상이 검 출되고, 상기 새로운 인체 부분 형상이 검출된 위치 좌표에서 이미지 인식을 통해 인체 형상이 검출되면, 상기 복원 리스트를 이용한 객체 재추적을 수행하는 단계를 더 포함할 수 있다. 상기 객체 재추적을 수행하는 단계는, 상기 새로운 인체 부분 형상이 검출된 위치 좌표를 상기 복원 리스트에 저장된 위치 좌표와 비교하여, 정해진 조건을 충족하면 상기 복원 리스트의 재추적 대상인 객체 ID를 상기 새로 운 인체 부분 형상에 매칭할 수 있다. 상기 정해진 조건은, 좌표들간 거리가 임계 거리 이내인지 판단하는 조건을 포함할 수 있다. 상기 복수개의 인체 부분 형상들은, 머리 부분 형상, 목 부분 형상, 그리고 상체 몸통 부분 형상을 포함하고, 상기 이미지 기반 인체 인식 모델을 이용한 인체 형상 검출은, 상기 라이다 센서 기반 인체 인식 모델을 통해 상기 머리 부분 형상 또는 상기 목 부분 형상 중 적어도 하나를 제외한 상태에서 상기 상체 몸통 부분 형상이 검출되는 경우에 수행될 수 있다. 다른 특징에 따르면, 적어도 하나의 프로세서에 의해 동작하는 객체 추적 장치의 동작 방법으로서, 라이다 센서 가 설치된 지점에서 스캔된 점군 데이터(Point Cloud Data, PCD)를 상기 라이다 센서로부터 획득하는 단계, 입 력 데이터로부터 인체를 머리 부분 형상 및 상체 몸통 부분 형상으로 구분하여 출력하도록 학습된 라이다 센서 기반 인체 인식 모델에 상기 점군 데이터를 입력하여 상기 머리 부분 형상 및 상기 상체 몸통 부분 형상이 출력되는지 확인하는 단계, 상기 머리 부분 형상은 검출되지 않고 상기 상체 몸통 부분 형상이 검출되면, 입력 이미 지로부터 인체 형상을 출력하도록 학습된 이미지 기반 객체 검출 모델에 상기 라이다 센서가 설치된 지점에서 카메라에 의해 촬영된 이미지를 입력하여 상기 상체 몸통 부분 형상이 검출된 위치 좌표에서 인체 형상이 검출 되는지 확인하는 단계, 그리고 상기 검출된 위치 좌표에서 인체 형상이 검출되면, 상기 상체 몸통 부분 형상에 대한 객체 추적을 수행하는 단계를 포함한다. 상기 라이다 센서 기반 인체 인식 모델은, 인체 형상을 머리 부분 형상, 목 부분 형상, 및 상체 몸통 부분 형상 에 해당하는 각각의 바운딩 박스로 구분하여 학습할 수 있다. 상기 검출되는지 확인하는 단계는, 상기 라이다 센서 기반 인체 인식 모델로부터 상기 머리 부분 형상의 바운딩 박스 또는 상기 목 부분 형상의 바운딩 박스가 검출되지 않은 상태에서 상기 상체 몸통 부분 형상의 바운딩 박 스가 검출되면, 상기 이미지 기반 객체 검출 모델을 이용한 인체 형상의 검출을 수행할 수 있다. 상기 검출되는지 확인하는 단계 이후, 상기 검출된 위치 좌표에서 인체 형상이 검출되지 않으면, 재추적 대상인 객체 정보를 저장하는 복원 리스트에 상기 검출된 위치 좌표, 그리고 상기 검출된 위치 좌표에 대응하는 형상들 에 할당된 객체 ID를 저장하는 단계를 더 포함하고, 상기 객체 추적을 수행하는 단계 이후, 현재 추적중인 객체 ID가 부여되지 않은 머리 부분 형상, 목 부분 형상, 및 상체 몸통 부분 형상 중에서 적어도 하나의 형상이 검출 되고, 상기 적어도 하나의 형상이 검출된 위치 좌표에서 상기 이미지 기반 객체 검출 모델을 이용한 인체 형상 이 검출되면, 상기 복원 리스트를 이용한 객체 재추적을 수행하는 단계를 더 포함할 수 있다. 상기 객체 재추적을 수행하는 단계는, 상기 복원 리스트에 저장된 위지 좌표 중에서 상기 적어도 하나의 형상이 검출된 위치 좌표와의 거리가 임계 거리 이내인 위치 좌표에 설정된 객체 ID를 상기 적어도 하나의 형상에 할당 하여 재추적을 수행할 수 있다. 또 다른 특징에 따르면, 객체 추적 장치는, 객체 추적 공간의 소정의 위치에 설치되어, 방출한 레이저 신호의 반사된 신호를 획득하고, 반사된 신호의 위치 정보를 스캐닝하여 포인트 클라우드 데이터(Point Cloud Data, PCD)를 생성하는 라이다 센서, 상기 라이다 센서의 설치 위치와 근접한 위치에 설치되어, 주변 환경을 촬영한 이미지 데이터를 생성하는 카메라, 그리고상기 라이다 센서로부터 획득한 PCD를 라이다 센서 기반 인체 인식 모 델에 입력하여 정해진 복수의 인체 부분 형상들이 검출되는지 확인하고, 적어도 하나의 일부 인체 부분 형상이 검출되면, 카메라에 의해 촬영된 이미지 데이터를 이미지 기반 인체 인식 모델에 입력하여 상기 적어도 하나의 일부 인체 부분 형상이 검출된 위치 좌표에서 인체 형상이 검출되는지 확인하며, 상기 검출된 위치 좌표에서 인 체 형상이 검출되면, 상기 적어도 하나의 일부 인체 부분 형상에 대한 객체 추적을 수행하는 객체 추적부를 포 함한다. 상기 객체 추적부는, 현재 추적중인 객체 ID가 부여되지 않은 적어도 하나의 새로운 인체 부분 형상이 검출되고, 상기 새로운 인체 부분 형상이 검출된 위치 좌표에서 이미지 기반 객체 검출 모델을 이용한 인체 형 상이 검출되면, 복원 리스트에 저장된 위치 좌표들 중에서 상기 새로운 인체 부분 형상이 검출된 위치 좌표와의 거리가 임계 거리 이내인 위치 좌표를 탐색하고, 상기 임계 거리 이내인 위치 좌표가 복원 리스트에서 탐색되면 상기 새로운 인체 부분 형상을 재추적 대상인 객체로 선정할 수 있다. 상기 객체 추적부는, 상기 적어도 하나의 일부 인체 부분 형상이 검출된 위치 좌표에서 인체 형상이 검출되지 않으면, 상기 복원 리스트에 상기 적어도 하나의 일부 인체 부분 형상이 검출된 위치 좌표를 재추적 대상으로 저장할 수 있다."}
{"patent_id": "10-2023-0122050", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 개시에 따르면, 타겟 객체인 인체를 머리, 목, 상체 몸통과 같이 복수개의 부분 형상으로 분할하고, 분할한 인체 부분 형상들에 대해 라이다 센서를 통해 포인트 클라우드 데이터(Point Cloud Data, PCD)를 수집하고, 포 인트 클라우드 데이터가 일부 인체 부분 형상에 대해서 수집되면 해당 형상의 위치 좌표에 대해 이미지 기반의 인체 인식을 수행하여 인체가 인식되면, 라이다 센서에 의해 수집된 인체 부분 형상을 인체로 인식한다. 따라서, 주변의 구조물 그리고 사람의 키 정보의 변이(variance)로 인한 한계점을 극복하여 인체 인식 성능을 고도화할 수 있다."}
{"patent_id": "10-2023-0122050", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "아래에서는 첨부한 도면을 참고로 하여 본 개시의 실시예에 대하여 본 개시가 속하는 기술 분야에서 통상의 지 식을 가진 자가 용이하게 실시할 수 있도록 상세히 설명한다. 그러나 본 개시는 여러가지 상이한 형태로 구현될 수 있으며 여기에서 설명하는 실시예에 한정되지 않는다. 그리고 도면에서 본 개시를 명확하게 설명하기 위해서 설명과 관계없는 부분은 생략하였으며, 명세서 전체를 통하여 유사한 부분에 대해서는 유사한 도면 부호를 붙였 다. 명세서 전체에서, 어떤 부분이 어떤 구성요소를 \"포함\" 한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다 른 구성요소를 제외하는 것이 아니라 다른 구성요소를 더 포함할 수 있는 것을 의미한다. 또한, 명세서에 기재된 \"…부\", \"…기\", \"…모듈\" 등의 용어는 적어도 하나의 기능이나 동작을 처리하는 단위를 의미하며, 이는 하드웨어나 소프트웨어 또는 하드웨어 및 소프트웨어의 결합으로 구현될 수 있다. 본 발명에서 설명하는 장치들은 적어도 하나의 프로세서, 메모리 장치, 통신 장치 등을 포함하는 하드웨어로 구 성되고, 지정된 장소에 하드웨어와 결합되어 실행되는 프로그램이 저장된다. 하드웨어는 본 발명의 방법을 실행 할 수 있는 구성과 성능을 가진다. 프로그램은 도면들을 참고로 설명한 본 발명의 동작 방법을 구현한 명령어 (instructions)를 포함하고, 프로세서와 메모리 장치 등의 하드웨어와 결합하여 본 발명을 실행한다. 본 명세서에서 \"전송 또는 제공\"은 직접적인 전송 또는 제공하는 것 뿐만 아니라 다른 장치를 통해 또는 우회 경로를 이용하여 간접적으로 전송 또는 제공도 포함할 수 있다. 본 명세서에서 단수로 기재된 표현은 \"하나\" 또는 \"단일\" 등의 명시적인 표현을 사용하지 않은 이상, 단수 또는 복수로 해석될 수 있다. 본 명세서에서 도면에 관계없이 동일한 도면번호는 동일한 구성요소를 지칭하며, \"및/또는\" 은 언급된 구성 요 소들의 각각 및 하나 이상의 모든 조합을 포함한다. 본 명세서에서, 제1, 제2 등과 같이 서수를 포함하는 용어들은 다양한 구성요소들을 설명하는데 사용될 수 있지 만, 상기 구성요소들은 상기 용어들에 의해 한정되지는 않는다. 상기 용어들은 하나의 구성요소를 다른 구성요 소로부터 구별하는 목적으로만 사용된다. 예를 들어, 본 개시의 권리 범위를 벗어나지 않으면서 제1 구성요소는 제2 구성요소로 명명될 수 있고, 유사하게 제2 구성요소도 제1 구성요소로 명명될 수 있다. 본 명세서에서 도면을 참고하여 설명한 흐름도에서, 동작 순서는 변경될 수 있고, 여러 동작들이 병합되거나, 어느 동작이 분할될 수 있고, 특정 동작은 수행되지 않을 수 있다. 본 개시의 장치는 적어도 하나의 프로세서가 명령어들(instructions)을 실행함으로써, 본 개시의 동작을 수행할 수 있도록 구성 및 연결된 컴퓨팅 장치이다. 컴퓨터 프로그램은 프로세서가 본 개시의 동작을 실행하도록 기술 된 명령어들(instructions)을 포함하고, 비일시적-컴퓨터 판독가능 저장매체(non-transitory computer readable storage medium)에 저장될 수 있다. 컴퓨터 프로그램은 네트워크를 통해 다운로드 되거나, 제품 형태 로 판매될 수 있다. 본 개시의 인공지능 모델(Artificial Intelligence model, AI model)은 적어도 하나의 태스크(task)를 학습하 는 기계학습모델로서, 프로세서에 의해 실행되는 컴퓨터 프로그램으로 구현될 수 있다. 인공지능 모델이 학습하 는 태스크란, 기계 학습을 통해 해결하고자 하는 과제 또는 기계 학습을 통해 수행하고자 하는 작업을 지칭할 수 있다. 인공지능 모델은 컴퓨팅 장치에서 실행되는 컴퓨터 프로그램으로 구현될 수 있고, 네트워크를 통해 다 운로드 되거나, 제품 형태로 판매될 수 있다. 또는 인공지능 모델은 네트워크를 통해 다양한 장치들과 연동할 수 있다. 도 1은 실시예에 따른 객체 추적 장치의 구성을 나타낸 블록도이고, 도 2는 실시예에 따른 인체 부분 형상 검출 예시도이다. 이하, 설명에서, 인체 인식 동작, 객체 추적 동작에 대해 설명되지 않은 내용은 알려진 기술을 사용할 수 있으 므로 간단히 설명하고, 본 발명의 실시예와 관련된 동작 위주로 자세히 설명한다. 도 1을 참고하면, 객체 추적 장치는 라이다(Lidar) 센서, 카메라 및 객체 추적부를 포함할 수 있다. 라이다 센서는 객체 추적 공간의 소정의 위치에 설치되어, 레이저 신호를 방출하고 반사된 레이저 신호의 위치 정보를 스캐닝한다. 라이다 센서는 반사된 레이저 신호를 기초로, 감지 범위 내에서 특정 지점까지 측정된 거리 값에 대한 3차 원 공간 정보, 즉, 포인트 클라우드 데이터(Point Cloud Data, 이하, ‘PCD’라 통칭함)를 획득할 수 있다. 라 이다 센서는 획득한 PCD를 객체 추적부로 출력한다. 카메라는 라이다 센서의 설치 위치와 근접한 위치에 설치되어, 주변 환경(전방)을 촬영한 이미지 데 이터를 생성하고, 생성된 이미지 데이터를 객체 추적부로 전달한다. 여기서, 이미지 데이터는 사람의 눈과 비슷한 컬러정보가 포함되어 있는 2D 형태의 이미지 데이터를 포함할 수 있다. 실시예에 따르면, 라이다 센서와 카메라는 소정의 공간, 예컨대, 인체 추적이 필요한 매장 등의 천장 에 구역 별로 설치될 수 있다. 즉, 천장의 구역 내에 인접한 위치에 라이다 센서와 카메라가 설치되 고, 카메라는 라이다 센서의 음영 지역을 보완하는 역할을 할 수 있다. 객체 추적부는 라이다 센서와 카메라가 설치된 객체 추적 공간에서, 타겟 객체인 인체의 이동 동선을 연속적으로 추적한다. 객체 추적부가 라이다 센서로부터 수신한 스캔 데이터, 즉, PCD는 도 2의 (A)와 같이, 3D 공간에서 점들의 집합인 점군 데이터의 형태이다. 객체 추적부는 라이다 센서로부터 수신한 PCD를 기 학습된 라이다 센서 기반 인체 인식 모델의 입력 데이터로 사용하여, 라이다 센서 기반 인체 인식 모델을 통해 입력 데이터로부터 사전에 정해진 복수개의 인체 부분 형상들을 검출하는 동작을 수행한다. 여기서, 인체 부분 형상은 머리 부분 형상, 목 부분 형상 및 상체 몸 통 형상을 포함할 수 있다. 라이다 센서 기반 인체 인식 모델은 입력 데이터로부터 인식한 인체 형상(shape)의 바운딩 박스를 출력하는데, 도 2의 (B)와 같이 인체 형상을 머리 부분 형상, 목 부분 형상, 및 상체 몸통 부분 형상에 해당하는 각각의 바 운딩 박스로 구분하여 출력할 수 있다. 라이다 센서 기반 인체 인식 모델은 입력 데이터로부터 복수개의 인체 부분 형상들을 분류하고, 분류한 인체 부 분 형상들에 대한 바운딩 박스를 생성하도록 학습된 인공지능 모델이다. 라이다 센서 기반 인체 인식 모델은 각 인체 부분 형상의 바운딩 박스들의 위치 좌표들을 출력한다. 라이다 센서 기반 인체 인식 모델은 딥러닝 모델로서, 예컨대, PCD 기반 PointNet을 포함할 수 있다. 라이다 센서 기반 인체 인식 모델은 도 2의 (B)와 같이, 인체 부분 형상 별로 3차원 바운딩 박스가 레이블링된 인체 부분 형상 정보들을 학습 데이터로 사용하여, 인체 부분 형상들을 분류하도록 훈련된다. 즉, 인체의 전체 형상은 머리 부분 형상, 목 부분 형상, 상체 몸통 부분 형상으로 구분되고, 각 구분된 영역에 대응하는 바운딩 박스들, 즉, 바운딩 박스들의 좌표들이 학습 데이터로 사용되어 라이다 센서 기반 인체 인식 모델은 입력 데이터를 머리 부분 형상, 목 부분 형상, 상체 몸통 부분 형상 각각에 대응하는 3개의 클래스로 분 류하도록 훈련된다. 이와 같이, 라이다 센서 기반 인체 인식 모델은 1명의 인체에 대해 1개의 바운딩 박스가 아닌 3개의 클래스로 분류된 바운딩 박스들을 출력한다. 이렇게 하면, 객체 추적시 머리 또는 목이 검출되지 않고 몸통만 검출되더라 도 사람 인식에 실패하지 않고 추적을 지속할 수 있다. 객체 추적부는 3개의 클래스 중에서 적어도 하나의 클래스만 인식된경우에는, 즉, 인체 부분 형상들 중에 서 일부 인체 부분 형상만 인식되면, 카메라를 호출하여 그 일부 인체 부분 형상의 좌표에서 인체 영역(인 체 형상)이 검출되는지 이미지 기반 인체 인식을 수행한다. 예컨대, 객체 추적부는 머리 부분 형상 없이 목 부분 형상과 상체 몸통 부분 형상이 검출되거나 또는 머리 부분 형상 및 목 부분 형상이 모두 없는 상태에서상체 몸통 부분 형상이 검출되면, 카메라를 호출하여 이미지 데이터를 획득할 수 있다. 객체 추적부는 이미지 기반 인체 인식 모델을 이용한 인체 인식을 수행하여, 라이다 센서를 통해 인 체 부분 형상이 검출된 위치 좌표에서 인체 형상을 검출하는 동작을 수행한다. 이미지 기반 인체 인식 모델은 입력받은 이미지 데이터로부터 인체 형상을 인식하도록 학습된 인공지능 모델로 서, 이미지 기반 인체 인식 모델의 원리는 공지된 다양한 기술이 사용될 수 있으며, 자세한 설명은 생략한다. 이때, 인체 형상이 검출되면, 객체 추적부는 라이다 센서를 통해인식된 인체 부분 형상 및 카메라 를 통해 인식된 인체 형상에 동일한 객체 ID를 할당하고, 동일한 객체 ID가 부여된 인체 형상들을 추적 대 상인 타겟 객체로 설정한다. 객체 추적부는 타겟 객체, 즉, 인체로 인식된 객체를 연속적으로 추적한다. 객체 추적부는 라이다 센서를 통해 인체 부분 형상이 검출된 위치 좌표에서 이미지 기반의 인체 형상 이 검출되지 않으면, 인체 부분 형상이 검출된 위치 좌표, 그리고 인체 부분 형상에 할당한 객체 ID를 매칭시켜 복원 리스트에 저장한다. 여기서, 복원 리스트는 재추적 대상인 객체 정보를 저장하며, 이후, 재추적 여부를 결 정하는데 사용된다. 인체 부분 형상이 검출된 위치 좌표에서 이미지 기반의 인체 형상도 검출되지 않은 경우, 종래에는 노이즈 (noise)로 간주하여 추적에 실패하였지만, 본 발명의 실시예에서는 순간 놓친 객체로 간주하여 재추적 대상으로 저장한다. 즉, 추적 리스트에 없는데 머리/목/상체 등과 같은 인체 부분 형상이 갑자기 등장하게 되었을 경우, 카메라 기반 사람 검출 좌표도 유사 위치에 사람 검출을 확인하면, 복원 리스트에서 관리되고 있는 추적 객체와 위치를 비교해 근거리일 경우 다시 재매칭시켜준다. 이러한 객체 추적부의 재추적 동작을 설명하면 다음과 같다. 객체 추적부는 현재 추적중인 객체 ID가 부여되지 않은 적어도 하나의 라이다 센서 기반의 새로운 인체 부 분 형상이 검출되고, 새로운 인체 부분 형상이 검출된 위치 좌표에서 이미지 기반의 인체 형상이 검출되면, 복 원 리스트를 이용한 객체 재추적을 수행한다. 객체 추적부는 새로운 인체 부분 형상이 검출된 위치 좌표를 복원 리스트에 저장된 위치 좌표와 비교하여, 정해진 조건을 충족하면 복원 리스트의 재추적 대상인 객체 ID를 새로운 인체 부분 형상에 매칭한다. 여기서, 정해진 조건은 좌표들간 거리가 임계 거리 이내인지 판단하는 조건을 포함한다. 이와 같이, 실내의 사람의 이동 동선을 검출하고 추적할 때, 머리, 목, 상체 몸통의 3가지로 분류하여 인식을 수행하고, 모두 인식 되었을 때는 라이다 데이터로만 추적을 진행하고, 3가지 인체 부분 형상 중에서 일부 인체 부분 형상만 검출되는 경우에는 이미지 데이터를 이용하여 인체 형상을 인식한다. 즉, 세가지 정의된 인체 부분 형상들이 모두 검출되면 인식된 객체가 사람일 확률(confidence score)이 100%에 가까우므로 타겟 객체로 인지 하여 객체 추적을 진행하고, 세가지 정의된 인체 부분 형상들 중에서 일부만 검출되면 인식된 객체가 사람일 확 률이 낮아지므로, 검출된 형상이 인체에 해당하는지 이미지 데이터를 이용하여 확인하는 것이다. 이렇게 함으로 써, 인체 검출 정확도를 향상시켜 객체 추적 성공율, 객체 추적 성능을 높일 수 있다. 도 3은 실시예에 따른 객체 추적 장치의 객체 추적 동작을 설명하는 순서도이다. 도 3을 참고하면, 객체 추적부(도 1의 130)는 라이다 센서가 설치된 지점에서 스캔된 PCD를 라이다 센서 로부터 획득한다(S101). 객체 추적부는 PCD를 라이다 센서 기반 인체 인식 모델에 입력하여 인체 형상의 부분 형상들, 즉, 머리 부 분 형상, 목 부분 형상 및 상체 몸통 부분 형상에 각각 대응하는 각각의 3차원 바운딩 박스를 획득하는 라이다 센서 기반 인체 인식 동작을 수행한다(S102). 객체 추적부는 S102에서 머리, 목, 상체 몸통 전부에 대한 3차원 바운딩 박스가 획득되는지 판단한다 (S103). 객체 추적부는 S103의 판단 결과, 머리, 목, 상체 몸통 전부에 대한 3차원 바운딩 박스가 획득되지 않으면, 머리 없이 목과 상체 몸통에 대한 3차원 바운딩 박스들이 획득되거나 또는 상체 몸통에 대한 3차원 바 운딩 박스가 획득되는지 판단한다(S104).이때, S104에서 상체 몸통에 대한 바운딩 박스가 획득되지 않으면, 객체 추적 실패로 처리한다(S105). 머리나 목은 사람마다 키 차이 등으로 발생하는 음영 지역에 속하여 검출되지 않을 수 있지만, 상체 몸통 조차 검출되 지 않으면 인체일 확률히 현저히 낮아진다. 따라서, 인체 부분 형상 중에서도 상체 몸통의 검출 여부는 필수로 하고, 상체 몸통 조차 검출되지 않는 경우에는 객체 추적 실패로 처리한다. 객체 추적부는 S104에서 상체 몸통 형상만 검출되거나 상체 몸통 형상을 포함한 일부 인체 부분 형상의 검 출로 판단되면, 이미지 기반 인체 인식 모델을 이용한 인체 인식 동작의 추가 수행을 결정한다. 즉, 객체 추적 부는 머리 없이 목과 상체 몸통 부분 형상만 검출되거나 혹은 머리, 목 모두 없이 상체 몸통 부분 형상만 검출되면, 해당 인체 부분 형상, 즉, 상체 몸통 부분 형상이 인체 형상이 맞는지 확인하기 위해 이미지 기반 인 체 인식 모델을 이용한 인체 인식 동작을 추가로 수행하기로 결정한다. 객체 추적부는 카메라를 호출하여 카메라로부터 이미지 데이터를 수집한다(S106). 객체 추적부는 S106에서 수집한 이미지 데이터를 이미지 기반 인체 인식 모델에 입력하여 인체 형상 검출 동작을 수행한다(S107). 객체 추적부는 S107의 동작을 통하여, S102에서 라이다 센서 기반 인체 인식 모델을 통해 검출된 인체 부 분 형상의 바운딩 박스 좌표에서 이미지 기반의 인체 형상이 검출되는지 판단한다(S108). 객체 추적부는 S108에서 인체 형상이 검출되면, 3차원 바운딩 박스 내에 포함되는 적어도 하나의 인체 부 분 형상 및 S107에서 검출된 인체 형상을 타겟 객체로 선정한다(S109). S109에서, 객체 추적부는 타겟 객 체로 선정된 형상에 동일한 객체 ID를 부여할 수 있다. 객체 추적부는 S109에서 선정한 타겟 객체의 이동 동선을 연속 추적한다(S110). 객체 추적부는 적어도 하나의 일부 인체 부분 형상이 인식된 적어도하나의 3차원 바운딩 박스 좌표에 타겟 객체로 식별하기 위한 동일한 객체 ID를 할당한다(S111). 객체 추적부는 S111을 통해 할당된 객체 ID와 그에 해당하는 적어도 하나의 3차원 바운딩 박스 좌표를 매 칭시켜 복원 리스트에 저장한다(S112). 한편, S103에서 머리, 목, 상체 몸통 전부에 대한 각각의 3차원 바운딩 박스가 생성 또는 인식되면, 객체 추적 부는 각각의 3차원 바운딩 박스로 분류된 인체 부분 형상들을 타겟 객체로 선정한다(S113). 즉, 분류된 인 체 부분 형상들에 동일한 객체 ID를 부여할 수 있다. 객체 추적부는 타겟 객체의 이동 동선을 연속 추적한다(S114). 도 4는 실시예에 따른 객체 추적 장치의 객체 재추적 동작을 설명하는 순서도로서, 도 3의 객체 추적 단계(S110 또는 S114)의 이후 동작을 설명한다. 도 4를 참고하면, 객체 추적부는 타겟 객체의 이동 동선을 추적하는 중에, 현재 추적 중인 객체 ID가 부여 되지 않은, 즉, 타겟 객체가 아닌 적어도 하나의 새로운 인체 부분 형상이 검출되면(S115), 새로운 인체 부분 형상이 검출된 바운딩 박스의 위치 좌표와 복원 리스트에 저장된 위치 좌표 간의 거리가 임계 거리 이내인 위치 좌표를 복원 리스트에서 탐색한다(S116). 이때, 객체 추적부는 타겟 객체가 아닌 적어도 하나의 새로운 인체 부분 형상이 검출되면, 이미지 기반의 인체 인식을 통해 새로운 인체 부분 형상의 바운딩 박스 위치 좌표에서 인체 형상이 인식되면, 복원 리스트 탐 색(S116)을 수행할 수 있다. 객체 추적부는 S116에서 탐색한 위치 좌표에 매칭된 객체 ID를 적어도 하나의 새로운 인체 부분 형상에 할 당하고, 재추적 객체로 선정한다(S117). 객체 추적부는 S117에서 선정한 재추적 객체의 이동 동선을 연속 추적한다(S118). 한편, 도 5는 실시예에 따른 컴퓨팅 장치의 구성도이다. 도 5를 참고하면, 도 1 ~ 도 4에서 설명한 객체 추적 장치는 적어도 하나의 프로세서에 의해 동작하는 컴 퓨팅 장치로 구현될 수 있다. 컴퓨팅 장치는 하나 이상의 프로세서, 프로세서에 의하여 수행되는 컴퓨터 프로그램을 로드 하 는 메모리, 컴퓨터 프로그램 및 각종 데이터를 저장하는 저장 장치, 통신 인터페이스, 그리고 이들을 연결하는 버스를 포함할 수 있다. 이외에도, 컴퓨팅 장치는 다양한 구성 요소가 더 포함될 수 있다. 프로세서는 컴퓨팅 장치의 동작을 제어하는 장치로서, 컴퓨터 프로그램에 포함된 명령어들을 처리하는 다양한 형태의 프로세서일 수 있고, 예를 들면, CPU(Central Processing Unit), MPU(Micro Processor Unit), MCU(Micro Controller Unit), GPU(Graphic Processing Unit) 또는 본 개시의 기술 분야에 잘 알려진 임 의의 형태의 프로세서 중 적어도 하나를 포함하여 구성될 수 있다. 메모리는 각종 데이터, 명령 및/또는 정보를 저장한다. 메모리는 본 개시의 동작을 실행하도록 기술 된 명령어들이 프로세서에 의해 처리되도록 해당 컴퓨터 프로그램을 저장 장치로부터 로드 할 수 있 다. 메모리는 예를 들면, ROM(read only memory), RAM(random access memory) 등 일 수 있다. 저장 장치는 컴퓨터 프로그램, 각종 데이터를 비임시적으로 저장할 수 있다. 저장 장치는 ROM(Read Only Memory), EPROM(Erasable Programmable ROM), EEPROM(Electrically Erasable Programmable ROM), 플래시 메모리 등과 같은 비휘발성 메모리, 하드 디스크, 착탈형 디스크, 또는 본 개시가 속하는 기술 분야에서 잘 알 려진 임의의 형태의 컴퓨터로 읽을 수 있는 기록 매체를 포함하여 구성될 수 있다. 통신 인터페이스는 유/무선 통신을 지원하는 유/무선 통신 모듈일 수 있다. 버스는 컴퓨팅 장치의 구성 요소 간 통신 기능을 제공한다. 컴퓨터 프로그램은, 프로세서에 의해 실행되는 명령어들(instructions)을 포함하고, 비일시적-컴퓨터 판독 가능 저장매체(non-transitory computer readable storage medium)에 저장되며, 명령어들은 프로세서가 본 개시의 동작을 실행하도록 만든다. 컴퓨터 프로그램은 네트워크를 통해 다운로드 되거나, 제품 형태로 판매 될 수 있다. 컴퓨터 프로그램은, 도 3에서 설명한 단계들, 및/또는 도 4에서 설명한 단계들을 수행하는 명령어들을 포함할 수 있다. 이상에서 본 발명의 실시예에 대하여 상세하게 설명하였지만 본 발명의 권리범위는 이에 한정되는 것은 아니고 다음의 청구범위에서 정의하고 있는 본 발명의 기본 개념을 이용한 당업자의 여러 변형 및 개량 형태 또한 본 발명의 권리범위에 속하는 것이다."}
{"patent_id": "10-2023-0122050", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 실시예에 따른 객체 추적 장치의 구성을 나타낸 블록도이다. 도 2는 실시예에 따른 인체 부분 형상 검출 예시도이다. 도 3은 실시예에 따른 객체 추적 장치의 객체 추적 동작을 설명하는 순서도이다. 도 4는 실시예에 따른 객체 추적 장치의 객체 재추적 동작을 설명하는 순서도이다. 도 5는 실시예에 따른 컴퓨팅 장치의 구성도이다."}
