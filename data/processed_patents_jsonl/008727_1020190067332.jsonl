{"patent_id": "10-2019-0067332", "section": "특허_기본정보", "subsection": "특허정보", "content": {"공개번호": "10-2019-0139781", "출원번호": "10-2019-0067332", "발명의 명칭": "데이터 획득 시간 최소화를 위한 CNN 기반의 고해상도 영상 생성 장치 및 그 방법", "출원인": "연세대학교 산학협력단", "발명자": "장혁재"}}
{"patent_id": "10-2019-0067332", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_1", "content": "합성곱 신경망을 이용하여,입력 영상의 특징을 압축하여 추출하는 영상 입력 모듈;상기 추출된 특징에 대한 입력영상의 수용영역을 확대하여 특징점을 추출하는 은닉 모듈;상기 추출된 특징점을 원본 이미지의 크기로 확대하여 출력영상을 생성하는 영상 출력 모듈;상기 입력 영상과 출력 영상의 유사성을 판단하고 손실함수를 통해 평균 제곱근 오차 값이 최소화하는 방향으로재학습 방향을 결정하는 재학습 판단부를 포함하는 것을 특징으로 하는 데이터 획득 시간 최소화를 위한 CNN 기반의 고해상도 영상 생성 장치."}
{"patent_id": "10-2019-0067332", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_2", "content": "제 1 항에 있어서, 상기 영상 입력 모듈은,입력 영상으로부터 특징을 추출하여 특징값 데이터 매트릭스를 산출하는 입력 영상 처리 합성곱 레이어;상기 수행된 특징값 데이터 매트릭스를 복수의 미니 배치로 분할하고, 상기 분할된 각 미니 배치의 평균값과 각데이터와의 거리를 제곱한 값의 합의 평균을 이용하여 상기 합성곱 신경망의 내부 노드 분포 값를 줄이는 입력배치 정규화 모듈;기울기 소실을 방지하기 위해 상기 배치 정규화된 특징값 데이터 매트릭스에 Relu 활성화 함수 연산을 수행하는입력 ReLU 수행부; 및상기 Relu 활성화 함수 연산이 수행된 특징값 데이터 매트릭스에 미리 설정된 규모의 맥스풀링으로 데이터를 압축하는 입력 맥스풀링 레이어를 더 포함하는 것을 특징으로 하는 데이터 획득 시간 최소화를 위한 CNN 기반의고해상도 영상 생성 장치."}
{"patent_id": "10-2019-0067332", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_3", "content": "제 1 항에 있어서, 상기 은닉 모듈은,상기 입력영상에 다양한 크기의 가중치를 이용하여 수평적으로 진행하고 계산된 특징맵을 융합함으로써 입력영상의 수용영역을 확대하여 특징점을 추출하는 것을 특징으로 하는 데이터 획득 시간 최소화를 위한 CNN 기반의고해상도 영상 생성 장치."}
{"patent_id": "10-2019-0067332", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_4", "content": "제 3 항에 있어서, 상기 은닉 모듈은,각기 다른 크기의 가중치를 적용하기 위해 상기 가중치 별 다른 크기의 매트릭스를 각각 합성곱하고, 상기 합성곱된 데이터에 미리 설정된 규모의 맥스풀링을 수행하여 데이터를 압축하는 것을 특징으로 하는 데이터 획득 시간 최소화를 위한 CNN 기반의 고해상도 영상 생성 장치."}
{"patent_id": "10-2019-0067332", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_5", "content": "제 1 항에 있어서, 공개특허 10-2019-0139781-3-상기 영상 출력 모듈은,추출된 특징점을 원본 이미지의 크기로 확대하기 위한 연산이 수행되는 업 샘플링 레이어; 상기 확대된 특징점에 대한 특징값 데이터 매트릭스를 합성곱하여 출력 영상을 생성하는 출력 영상 처리 합성곱레이어;상기 합성곱된 특징값 데이터 매트릭스를 복수의 미니 배치로 분할하고, 상기 분할된 각 미니 배치의 평균값과각 데이터와의 거리를 제곱한 값의 합의 평균을 이용하여 상기 합성곱 신경망의 내부 노드 분포 값를 줄이는 출력 배치 정규화 모듈;기울기 소실을 방지하기 위해 상기 배치 정규화된 특징값 데이터 매트릭스에 Relu 활성화 함수 연산을 수행하는출력 ReLU 수행부; 및상기 Relu 활성화 함수 연산이 수행된 특징값 데이터 매트릭스에 미리 설정된 규모의 맥스풀링으로 데이터를 압축하는 출력 맥스풀링 레이어를 더 포함하는 것을 특징으로 하는 데이터 획득 시간 최소화를 위한 CNN 기반의고해상도 영상 생성 장치."}
{"patent_id": "10-2019-0067332", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_6", "content": "제 1 항에 있어서, 상기 재학습 판단부는,재학습 방향을 결정하기 위하여 L2 손실함수를 이용하는 것을 특징으로 하는 데이터 획득 시간 최소화를 위한CNN 기반의 고해상도 영상 생성 장치."}
{"patent_id": "10-2019-0067332", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_7", "content": "제 6 항에 있어서, 상기 재학습 판단부는,상기 입력 영상 및 출력 영상을 사이 구조적 유사성을 측정하는 구조적 유사성 측정부; 및상기 출력 영상의 각 픽셀간 에러를 계산하는 L-2 손실 함수 값과와 상기 측정된 입력 영상과 출력영상 사이의구조적 유사성을 이용하여 목적함수를 설정하고, 상기 목적 함수가 최소화되는 방향으로 학습 방법을 설정하는학습 방법 설정부를 더 포함하는 것을 특징으로 하는 데이터 획득 시간 최소화를 위한 CNN 기반의 고해상도 영상 생성 장치."}
{"patent_id": "10-2019-0067332", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_8", "content": "제 7 항에 있어서, 상기 학습 방법 설정부는,가중된 구조적 유사성 값을 음수로 취하고, 배치 경사 하강법을 적용하여 역전파를 통해 손실값을 최소화 하는방향으로 학습방향을 설정하는 것을 특징으로 하는 데이터 획득 시간 최소화를 위한 CNN 기반의 고해상도 영상생성 장치."}
{"patent_id": "10-2019-0067332", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_9", "content": "합성곱 신경망을 이용하여,입력 영상의 특징을 압축하여 추출하는 단계;상기 추출된 특징에 대한 입력영상의 수용영역을 확대하여 특징점을 추출하는 단계;상기 추출된 특징점을 원본 이미지의 크기로 확대하여 출력영상을 생성하는 단계;상기 입력 영상과 출력 영상의 유사성을 판단하고 손실함수를 통해 평균 제곱근 오차 값이 최소화하는 방향으로재학습 방향을 결정하는 단계를 포함하는 것을 특징으로 하는 데이터 획득 시간 최소화를 위한 CNN 기반의 고해상도 영상 생성 방법.공개특허 10-2019-0139781-4-청구항 10 제 9 항에 있어서, 상기 입력 영상의 특징을 압축하여 추출하는 단계는,입력 영상으로부터 특징을 추출하여 특징값 데이터 매트릭스를 산출하는 단계;상기 수행된 특징값 데이터 매트릭스를 복수의 미니 배치로 분할하고, 상기 분할된 각 미니 배치의 평균값과 각데이터와의 거리를 제곱한 값의 합의 평균을 이용하여 상기 합성곱 신경망의 내부 노드 분포 값를 줄이는 단계;기울기 소실을 방지하기 위해 상기 배치 정규화된 특징값 데이터 매트릭스에 Relu 활성화 함수 연산을 수행하는단계; 및상기 Relu 활성화 함수 연산이 수행된 특징값 데이터 매트릭스에 미리 설정된 규모의 맥스풀링으로 데이터를 압축하는 단계를 더 포함하는 것을 특징으로 하는 데이터 획득 시간 최소화를 위한 CNN 기반의 고해상도 영상 생성 방법."}
{"patent_id": "10-2019-0067332", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_11", "content": "제 9 항에 있어서, 상기 수용영역을 확대하여 특징점을 추출하는 단계는,상기 입력영상에 다양한 크기의 가중치를 이용하여 수평적으로 진행하고 계산된 특징맵을 융합함으로써 입력영상의 수용영역을 확대하여 특징점을 추출하는 것을 특징으로 하는 데이터 획득 시간 최소화를 위한 CNN 기반의고해상도 영상 생성 방법."}
{"patent_id": "10-2019-0067332", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_12", "content": "제 11 항에 있어서, 상기 수용영역을 확대하여 특징점을 추출하는 단계는,각기 다른 크기의 가중치를 적용하기 위해 상기 가중치 별 다른 크기의 매트릭스를 각각 합성곱하고, 상기 합성곱된 데이터에 미리 설정된 규모의 맥스풀링을 수행하여 데이터를 압축하는 것을 특징으로 하는 데이터 획득 시간 최소화를 위한 CNN 기반의 고해상도 영상 생성 장치."}
{"patent_id": "10-2019-0067332", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_13", "content": "제 9 항에 있어서, 상기 출력영상을 생성하는 단계는,추출된 특징점을 원본 이미지의 크기로 확대하기 위한 연산이 수행되는 단계; 상기 확대된 특징점에 대한 특징값 데이터 매트릭스를 합성곱하여 출력 영상을 생성하는 단계;상기 합성곱된 특징값 데이터 매트릭스를 복수의 미니 배치로 분할하고, 상기 분할된 각 미니 배치의 평균값과각 데이터와의 거리를 제곱한 값의 합의 평균을 이용하여 상기 합성곱 신경망의 내부 노드 분포 값를 줄이는 단계;기울기 소실을 방지하기 위해 상기 배치 정규화된 특징값 데이터 매트릭스에 Relu 활성화 함수 연산을 수행하는단계; 및상기 Relu 활성화 함수 연산이 수행된 특징값 데이터 매트릭스에 미리 설정된 규모의 맥스풀링으로 데이터를 압축하는 단계를 더 포함하는 것을 특징으로 하는 데이터 획득 시간 최소화를 위한 CNN 기반의 고해상도 영상 생성 방법."}
{"patent_id": "10-2019-0067332", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_14", "content": "제 9 항에 있어서, 공개특허 10-2019-0139781-5-상기 재학습 방향을 결정하는 단계는,재학습 방향을 결정하기 위하여 L2 손실함수를 이용하는 것을 특징으로 하는 데이터 획득 시간 최소화를 위한CNN 기반의 고해상도 영상 생성 방법."}
{"patent_id": "10-2019-0067332", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_15", "content": "제 14 항에 있어서, 상기 재학습 방향을 결정하는 단계는,상기 입력 영상 및 출력 영상을 사이 구조적 유사성을 측정하는 구조적 유사성 측정부; 및상기 출력 영상의 각 픽셀간 에러를 계산하는 L-2 손실 함수 값과와 상기 측정된 입력 영상과 출력영상 사이의구조적 유사성을 이용하여 목적함수를 설정하고, 상기 목적 함수가 최소화되는 방향으로 학습 방법을 설정하는단계를 더 포함하는 것을 특징으로 하는 데이터 획득 시간 최소화를 위한 CNN 기반의 고해상도 영상 생성 방법."}
{"patent_id": "10-2019-0067332", "section": "청구범위", "subsection": "청구항", "claim_number": "청구항_16", "content": "제 15 항에 있어서, 상기 학습 방법을 설정하는 단계는,가중된 구조적 유사성 값을 음수로 취하고, 배치 경사 하강법을 적용하여 역전파를 통해 손실값을 최소화 하는방향으로 학습방향을 설정하는 것을 특징으로 하는 데이터 획득 시간 최소화를 위한 CNN 기반의 고해상도 영상생성 방법."}
{"patent_id": "10-2019-0067332", "section": "발명의_설명", "subsection": "요약", "paragraph": 1, "content": "본 발명은 자기공명장치에서의 데이터 획득을 최소화하여 고해상도의 의료영상 획득할 수 있는 데이터 획득 시간 최소화를 위한 CNN 기반의 고해상도 영상 생성 장치 및 그 방법에 대한 것으로 영상 입력 모듈, 은닉 모듈, 영상 출력 모듈, 재학습 판단부를 포함할 수 있으며, 데이터 획득을 최소화하기 위한 CNN 기반의 고해상도 영상 생성 기술을 활용하여 의료용 자기공명장치에서의 인공지능 기반 이미지 재구성 하는 경우에 있어 데이터를 샘플링하 여 획득하여 모든 데이터를 획득할 시보다 자기공명장치의 영상 획득 소요시간을 감소시킬 수 있으며, 데이터 획 득양이 감소됨에도 불구하고, 해당 기술은 축적된 의료영상 데이터 베이스를 통하여 기계학습을 진행하여 원본 이미지의 해상도에 상응하는 의료영상을 제공할 수 있다."}
{"patent_id": "10-2019-0067332", "section": "발명의_설명", "subsection": "기술분야", "paragraph": 1, "content": "본 발명은 딥러닝 기반의 고해상도 영상 생성 기술에 대한 것으로 더 자세하게는 자기공명장치에서의 데이터 획 득을 최소화하여 고해상도의 의료영상 획득할 수 있는 데이터 획득 시간 최소화를 위한 CNN 기반의 고해상도 영 상 생성 장치 및 그 방법에 관한 것이다."}
{"patent_id": "10-2019-0067332", "section": "발명의_설명", "subsection": "배경기술", "paragraph": 1, "content": "본 발명은 자기공명장치의 이미지 획득 소요시간 최소화를 위하여 딥러닝 기술을 이용한다. 본 기술은 자기공명 장치에서의 데이터 획득을 최소화하여 고해상도의 의료영상 획득을 목표로 한다. 특히, 자기공명영상 장치는 해부학적으로 높은 정확성을 필요로 하여 고해상도의 의료영상을 획득하는 것이 필 수적이다. 하지만 환자로부터 고해상도의 이미지를 얻는 것은 환자 본인에게도 많은 부담이 있다. 현재 자기공명 영상장치로부터 영상 획득 시간을 최소화하기 위하여 최소화된 데이터를 획득하면서 최대한의 해 상도를 얻는 다양한 방법들이 제시되어 왔다. 본질적으로 해당 방법들은 데이터 획득 시에 최소화된 샘플링 방법으로 데이터를 얻는 방법에 기반하고 있다. 최근, 고해상도 영상 재구성 문제에 딥러닝 기술을 적용한 사례와 함께 합성곱 신경망(Convolutional neural network, CNN)을 사용하여 다양한 의료영상뿐만 아니라 일반적인 영상에서 고해상도로 재구성하는 기법이 제안 되고 있다. 이러한 기법은 해당 영상의 사전지식 없이 영상을 입력으로 받아 고해상도의 영상으로 재구성한다는 점에서 장 점을 보이며, 기계학습을 위한 많은 수의 데이터를 보유하고 있어야 한다는 점에서 한계를 보인다 하지만, 의료 현장에서는 Picture Archive System(PACs)를 보유하고 있으며 대형상급의료기관의 경우 의료영상 의 경우 충분히 많은 수의 데이터를 가지고 있어 의료영상의 경우 학습을 위한 기반이 마련되어 있다."}
{"patent_id": "10-2019-0067332", "section": "발명의_설명", "subsection": "해결하려는과제", "paragraph": 1, "content": "본 발명은 자기공명장치에서의 데이터 획득을 최소화하여 고해상도의 의료영상을 획득하고, 공간상 주파수 영역 에서 자기공명 장치에서의 데이터 획득을 최소화하기 위한 CNN 기반의 고해상도 영상 생성 장치 및 그 방법의 개발을 목적으로 한다. 본 발명을 이용하여 데이터를 샘플링하여 획득하여 모든 데이터를 획득할 시보다 자기공명장치의 영상 획득 소 요시간을 감소시킬 수 있으며, 데이터 획득양이 감소됨에도 불구하고, 해당 기술은 축적된 의료영상 데이터 베 이스를 통하여 기계학습을 진행하여 원본 이미지의 해상도에 상응하는 의료영상을 제공할 수 있다."}
{"patent_id": "10-2019-0067332", "section": "발명의_설명", "subsection": "과제의해결수단", "paragraph": 1, "content": "상기 본 발명의 과제를 달성하기 위해, 본 발명에서는 합성곱 신경망을 이용하여 입력 영상의 특징을 압축하여 추출하는 영상 입력 모듈; 상기 추출된 특징에 대한 입력영상의 수용영역을 확대하여 특징점을 추출하는 은닉 모듈; 상기 추출된 특징점을 원본 이미지의 크기로 확대하여 출력영상을 생성하는 영상 출력 모듈; 상기 입력 영상과 출력 영상의 유사성을 판단하고 손실함수를 통해 평균 제곱근 오차 값이 최소화하는 방향으로 재학습 방 향을 결정하는 재학습 판단부를 포함하는 것을 특징으로 하는 데이터 획득 시간 최소화를 위한 CNN 기반의 고해 상도 영상 생성 장치를 제공한다. 본 발명의 일 실시예에 의하면, 상기 영상 입력 모듈은, 입력 영상으로부터 특징을 추출하여 특징값 데이터 매 트릭스를 산출하는 입력 영상 처리 합성곱 레이어; 상기 수행된 특징값 데이터 매트릭스를 복수의 미니 배치로 분할하고, 상기 분할된 각 미니 배치의 평균값과 각 데이터와의 거리를 제곱한 값의 합의 평균을 이용하여 상기 합성곱 신경망의 내부 노드 분포 값를 줄이는 입력 배치 정규화 모듈; 기울기 소실을 방지하기 위해 상기 배치 정규화된 특징값 데이터 매트릭스에 Relu 활성화 함수 연산을 수행하는 입력 ReLU 수행부; 및 상기 Relu 활성화 함수 연산이 수행된 특징값 데이터 매트릭스에 미리 설정된 규모의 맥스풀링으로 데이터를 압축하는 입력 맥스 풀링 레이어를 더 포함하는 것을 특징으로 한다. 또한, 본 발명에서 상기 은닉 모듈은, 상기 입력영상에 다양한 크기의 가중치를 이용하여 수평적으로 진행하고 계산된 특징맵을 융합함으로써 입력영상의 수용영역을 확대하여 특징점을 추출하는 것을 특징으로 할 수 있다. 또한, 상기 은닉 모듈은, 각기 다른 크기의 가중치를 적용하기 위해 상기 가중치 별 다른 크기의 매트릭스를 각 각 합성곱하고, 상기 합성곱된 데이터에 미리 설정된 규모의 맥스풀링을 수행하여 데이터를 압축하는 것을 특징 으로 할 수 있다. 본 발명의 다른 실시예에 의하면, 상기 영상 출력 모듈은, 추출된 특징점을 원본 이미지의 크기로 확대하기 위 한 연산이 수행되는 업 샘플링 레이어; 상기 확대된 특징점에 대한 특징값 데이터 매트릭스를 합성곱하여 출력 영상을 생성하는 출력 영상 처리 합성곱 레이어; 상기 합성곱된 특징값 데이터 매트릭스를 복수의 미니 배치로 분할하고, 상기 분할된 각 미니 배치의 평균값과 각 데이터와의 거리를 제곱한 값의 합의 평균을 이용하여 상기 합성곱 신경망의 내부 노드 분포 값를 줄이는 출력 배치 정규화 모듈; 기울기 소실을 방지하기 위해 상기 배치 정규화된 특징값 데이터 매트릭스에 Relu 활성화 함수 연산을 수행하는 출력 ReLU 수행부; 및 상기 Relu 활성화 함수 연산이 수행된 특징값 데이터 매트릭스에 미리 설정된 규모의 맥스풀링으로 데이터를 압축하는 출력 맥스 풀링 레이어를 더 포함하는 것을 특징으로 한다. 본 발명의 다른 실시예에 의하면, 상기 재학습 판단부는, 재학습 방향을 결정하기 위하여 L2 손실함수를 이용하 는 것을 특징으로 한다. 또한, 상기 재학습 판단부는, 상기 입력 영상 및 출력 영상을 사이 구조적 유사성을 측정하는 구조적 유사성 측 정부; 및 상기 출력 영상의 각 픽셀간 에러를 계산하는 L-2 손실 함수 값과와 상기 측정된 입력 영상과 출력영 상 사이의 구조적 유사성을 이용하여 목적함수를 설정하고, 상기 목적 함수가 최소화되는 방향으로 학습 방법을 설정하는 학습 방법 설정부를 더 포함하는 것을 특징으로 할 수 있다. 본 발명의 다른 실시예에 의하면, 상기 학습 방법 설정부는, 가중된 구조적 유사성 값을 음수로 취하고, 배치 경사 하강법을 적용하여 역전파를 통해 손실값을 최소화 하는 방향으로 학습방향을 설정하는 것을 특징으로 한 다. 본 발명은 또한 합성곱 신경망을 이용하여, 입력 영상의 특징을 압축하여 추출하는 단계; 상기 추출된 특징에 대한 입력영상의 수용영역을 확대하여 특징점을 추출하는 단계; 상기 추출된 특징점을 원본 이미지의 크기로 확 대하여 출력영상을 생성하는 단계; 상기 입력 영상과 출력 영상의 유사성을 판단하고 손실함수를 통해 평균 제 곱근 오차 값이 최소화하는 방향으로 재학습 방향을 결정하는 단계를 포함하는 것을 특징으로 하는 데이터 획득시간 최소화를 위한 CNN 기반의 고해상도 영상 생성 방법을 제공한다. 본 발명의 일 실시예에 있어서 상기 입력 영상의 특징을 압축하여 추출하는 단계는 입력 영상으로부터 특징을 추출하여 특징값 데이터 매트릭스를 산출하는 단계; 상기 수행된 특징값 데이터 매트릭스를 복수의 미니 배치로 분할하고, 상기 분할된 각 미니 배치의 평균값과 각 데이터와의 거리를 제곱한 값의 합의 평균을 이용하여 상기 합성곱 신경망의 내부 노드 분포 값를 줄이는 단계; 기울기 소실을 방지하기 위해 상기 배치 정규화된 특징값 데이터 매트릭스에 Relu 활성화 함수 연산을 수행하는 단계; 및 상기 Relu 활성화 함수 연산이 수행된 특징값 데이터 매트릭스에 미리 설정된 규모의 맥스풀링으로 데이터를 압축하는 단계를 더 포함하는 것을 특징으로 할 수 있다. 본 발명의 다른 실시예에 의하면 상기 수용영역을 확대하여 특징점을 추출하는 단계는, 상기 입력영상에 다양한 크기의 가중치를 이용하여 수평적으로 진행하고 계산된 특징맵을 융합함으로써 입력영상의 수용영역을 확대하여 특징점을 추출하는 것을 특징으로 한다. 또한, 상기 수용영역을 확대하여 특징점을 추출하는 단계는, 각기 다른 크기의 가중치를 적용하기 위해 상기 가 중치 별 다른 크기의 매트릭스를 각각 합성곱하고, 상기 합성곱된 데이터에 미리 설정된 규모의 맥스풀링을 수 행하여 데이터를 압축하는 것을 특징으로 한다. 본 발명의 다른 실시예에 의하면, 상기 출력영상을 생성하는 단계는, 추출된 특징점을 원본 이미지의 크기로 확 대하기 위한 연산이 수행되는 단계; 상기 확대된 특징점에 대한 특징값 데이터 매트릭스를 합성곱하여 출력 영 상을 생성하는 단계; 상기 합성곱된 특징값 데이터 매트릭스를 복수의 미니 배치로 분할하고, 상기 분할된 각 미니 배치의 평균값과 각 데이터와의 거리를 제곱한 값의 합의 평균을 이용하여 상기 합성곱 신경망의 내부 노 드 분포 값를 줄이는 단계; 기울기 소실을 방지하기 위해 상기 배치 정규화된 특징값 데이터 매트릭스에 Relu 활성화 함수 연산을 수행하는 단계; 및 상기 Relu 활성화 함수 연산이 수행된 특징값 데이터 매트릭스에 미리 설정된 규모의 맥스풀링으로 데이터를 압축하는 단계를 더 포함하는 것을 특징으로 한다. 또한, 상기 재학습 방향을 결정하는 단계는, 재학습 방향을 결정하기 위하여 L2 손실함수를 이용하는 것을 특징 으로 할 수 있다. 또한, 상기 재학습 방향을 결정하는 단계는, 상기 입력 영상 및 출력 영상을 사이 구조적 유사성을 측정하는 구 조적 유사성 측정부; 및 상기 출력 영상의 각 픽셀간 에러를 계산하는 L-2 손실 함수 값과와 상기 측정된 입력 영상과 출력영상 사이의 구조적 유사성을 이용하여 목적함수를 설정하고, 상기 목적 함수가 최소화되는 방향으 로 학습 방법을 설정하는 단계를 더 포함하는 것을 특징으로 할 수 있다. 본 발명의 다른 실시예에 의하면, 상기 학습 방법을 설정하는 단계는, 가중된 구조적 유사성 값을 음수로 취하 고, 배치 경사 하강법을 적용하여 역전파를 통해 손실값을 최소화 하는 방향으로 학습방향을 설정하는 것을 특 징으로 한다."}
{"patent_id": "10-2019-0067332", "section": "발명의_설명", "subsection": "발명의효과", "paragraph": 1, "content": "본 발명의 실시 예에 따르면 데이터 획득을 최소화하기 위한 CNN 기반의 고해상도 영상 생성 기술을 활용하여 의료용 자기공명장치에서의 인공지능 기반 이미지 재구성 하는 경우에 있어 데이터를 샘플링하여 획득하여 모든 데이터를 획득할 시보다 자기공명장치의 영상 획득 소요시간을 감소시킬 수 있다. 또한 데이터 획득양이 감소됨에도 불구하고, 해당 기술은 축적된 의료영상 데이터 베이스를 통하여 기계학습을 진행하여 원본 이미지의 해상도에 상응하는 의료영상을 제공할 수 있다."}
{"patent_id": "10-2019-0067332", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 1, "content": "아래에서는 첨부한 도면을 참고로 하여 본 발명의 실시 예에 대하여 본 발명이 속하는 기술 분야에서 통상의 지 식을 가진 자가 용이하게 실시할 수 있도록 상세히 설명한다. 그러나 본 발명은 여러 가지 상이한 형태로 구현 될 수 있으며 여기에서 설명하는 실시 예에 한정되지 않는다. 그리고 도면에서 본 발명을 명확하게 설명하기 위해서 설명과 관계없는 부분은 생략하였으며, 명세서 전체를 통 하여 유사한 부분에 대해서는 유사한 도면 부호를 붙였다. 명세서 전체에서, 어떤 부분이 어떤 구성요소를 \"포함\"한다고 할 때, 이는 특별히 반대되는 기재가 없는 한 다 른 구성 요소를 제외하는 것이 아니라 다른 구성요소를 더 포함할 수 있는 것을 의미한다. 이하, 도면을 참조하여 본 발명의 실시 예에 따른 데이터 획득 시간 최소화를 위한 CNN(convolutional neural network) 기반의 고해상도 영상 생성 장치 및 그 방법에 대하여 설명한다. 도 1은 본 발명의 실시 예에 따른 데이터 획득 시간 최소화를 위한 CNN 기반의 고해상도 영상 생성 장치의 구성 도이다. 도 1을 참조하면 데이터 획득 시간 최소화를 위한 CNN 기반의 고해상도 영상 생성 장치는 영상 입력 모듈, 은닉 모듈, 영상 출력 모듈, 재학습 판단부를 포함할 수 있다. 본 발명의 실시 예에 따른 고해상도 영상 생성 장치는 기본적으로 연산에 CNN 구조를 이용하여 합성곱 연산을 수행할 수 있다. 영상 입력 모듈은 입력 영상의 특징을 압축하여 추출할 수 있다. 본 발명의 일 실시 예에 따르면 영상 입력 모듈은 입력 영상의 특징을 추출함에 있어 적어도 한번 이상의 합성곱 연산을 수행할 수 있다. 본 발명의 일 실시 예에 따르면 입력 받는 입력 영상은 데이터 획득을 최소화 하고자 하는 목적에 맞춰 저해상 도로 리사이징 되거나 원본이 저해상도인 영상일 수 있다. 영상 입력 모듈에 대해서는 도 4를 참조하며 더 자세하게 설명하도록 한다. 은닉 모듈은 추출된 특징에 대한 입력영상의 수용영역을 확대하여 특징점을 추출할 수 있다. 본 발명의 일 실시 예에 따르면 은닉 모듈은 입력영상에 다양한 크기의 가중치를 이용하여 수평적으로 진 행하고 계산된 특징맵을 융합함으로써 입력영상의 수용영역을 확대하여 특징점을 추출할 수 있다. 또한 본 발명의 일 실시 예에 따르면 각기 다른 크기의 가중치를 적용하기 위해 상기 가중치 별 다른 크기의 매 트릭스를 각각 합성곱 하여 연산을 수행할 수 있다. 상기 실시 예에 따르면 합성곱된 데이터에 미리 설정된 규모의 맥스풀링을 수행하여 데이터를 압축하는 연산을 수행할 수 있다. 본 발명의 일 실시 예에 따르면 은닉 모듈은 입력영상에 다양한 크기의 가중치를 이용하여 합성곱 연산을 수평적으로 진행할 수 있으며, 이를 통해 계산된 특징 값들로 이루어진 특징 맵(MAP)을 융합할 수 있다. 영상 출력 모듈은 추출된 특징점을 원본 이미지의 크기로 확대하여 출력영상을 생성할 수 있다. 본 발명의 일 실시 예에 따르면 추출된 특징점을 원본 이미지의 크기로 확대하여 출력영상을 생성할 수 있으며, 이때 출력 영상은 입력 영상보다 더 고해상도인 영상일 수 있으며, 데이터 크기 또한 상대적으로 더 클 수 있다. 영상 출력 모듈에 대해서는 도 5를 참조하면 더 자세하게 설명하도록 한다. 재학습 판단부는 추출된 특징점을 원본 이미지의 크기로 확대하여 출력영상을 생성할 수 있다. 본 발명의 일 실시 예에 따르면 재학습 판단부는 재학습 방향을 결정하기 위하여 L2 손실함수를 이용할 수 있다. 본 발명의 일 실시 예에 따르면 재학습 판단부는 목적함수로 출력영상과 입력영상의 픽셀별 MSE(Mean squar error)와 구조적 유사성(Structual Similiarity, SSIM)의 가중치 합인 새로운 함수를 정의하여 재학습 방향을 결정할 수 있다. 또한 본 발명의 일 실시 예에 따르면 픽셀 별 MSE 손실 함수는 입력영상의 픽셀별 이미지 강도를 재구성하며, 이후 구조적 유사성 함수인 SSIM을 거쳐 입력영상의 형태를 재구성할 수 있다. 재학습 판단부는 도 6을 참조하며 더 자세하게 설명하도록 한다. 도 2는 도 1의 실시 예에 따른 고해상도 영상 생성 장치의 딥러닝 네트워크상 구조를 나타낸 도면이다. 도 2를 참조하면 본 발명의 일 실시 예에 따른 고해상도 영상 생성 장치는 CNN 구조를 기반으로 하여 영상의 이 미지의 특징을 압축하여 추출하는 인코딩 레이어(Encoding layer)로 이루어진 영상 입력 모듈과, 영상의 특징을 복원하는 디코더 레이어(Decoder layer)로 이루어진 영상 출력 모듈로 구성될 수 있으며, 그 사이에 은닉 모듈 (Inception module)을 통하여 영상에서의 수용 영역을 확대하여 영상 전체에서 영상의 주요 특징들을 추출할 수 있다. 도 3은 도 2에 개시된 은닉 모듈이 네트워크상 구현된 일 실시 예를 나타낸 도면이다. 도 3을 참조하면 본 발명의 일 실시 예에 따른 은닉 모듈은 합성곱 연산을 수평적으로 진행함에 있어 1, 3, 5 크기의 가중치를 이용하여 계산이 진행될 수 있으며, 이때 1 x 1, 3 x 3, 5 x 5 매트릭스를 각각 합성곱 하여 계산을 진행할 수 있다. 또한 상기 실시 예에 따르면 3 x 3 맥스 풀링(maxpooling)을 통해 추출된 특징맵을 필터 연결(filter concatenation)을 통해 융합하는 구조를 가질 수 있다. 도 4는 도 1에 개시된 영상 입력 모듈의 세부 구성도를 나타낸 도면이다. 도 4를 참조하면 본 발명의 일 실시 예에 따르면 영상 입력 모듈은 입력 영상 처리 합성곱 레이어, 입력 배치 정규화 모듈, 입력 ReLU 수행부, 입력 맥스풀링 레이어를 포함할 수 있다. 입력 영상 처리 합성곱 레이어는 입력 영상으로부터 특징을 추출하여 특징값 데이터 매트릭스를 산출할 수 있다. 본 발명의 일 실시 예에 따르면 저해상도의 입력 영상을 대상으로 합성곱 연산을 수행하여 다수의 특징점에 대 한 특징값 데이터 매트릭스를 산출할 수 있다. 입력 배치 정규화 모듈은 수행된 특징값 데이터 매트릭스를 복수의 미니 배치로 분할하고, 상기 분할된 각 미니 배치의 평균값과 각 데이터와의 거리를 제곱한 값의 합의 평균을 이용하여 상기 합성곱 신경망의 내부 노 드 분포 값를 줄일 수 있다. 본 발명의 일 실시 예에 따른 입력 배치 정규화 모듈은 배치 정규화 방법으로 연산을 수행할 수 있으며, 여기서 배치 정규화는 데이터를 미니 배치 단위로 나누고, 이를 정규화하여 정규 분포를 만들어 감마와 베타를 이용하여 새로운 값을 산출함으로써, 정규화된 값을 추가적인 파라미터를 사용하여 변형시키는 방법을 의미한다. 입력 ReLU 수행부는 기울기 소실을 방지하기 위해 배치 정규화된 특징값 데이터 매트릭스에 Relu 활성화 함수 연산을 수행할 수 있다. 본 발명의 입력 ReLU 수행부는 기울기 소실을 방지하기 위해 Relu(Rectified Linear Unit) 활성화 함수 (activation function) 연산을 수행할 수 있다. 여기서 Relu 활성화 함수는 입력이 0을 넘으면 그 입력을 그대로 출력하고, 0이하면 0을 출력하는 함수를 의미 할 수 있으며, 하기의 수학식 1과 같이 연산될 수 있다.[수학식 1]"}
{"patent_id": "10-2019-0067332", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 2, "content": "입력 맥스풀링 레이어는 Relu 활성화 함수 연산이 수행된 특징값 데이터 매트릭스에 미리 설정된 규모의 맥스 풀링(maxpooling)으로 데이터를 압축할 수 있다. 본 발명의 일 실시 예에 따르면 입력 맥스풀링 레이어는 맥스 풀링 연산을 수행할 수 있으며 여기서 맥스 풀링이란 하나의 레이어를 분리하여 샘플링하여 다음단계로 넘기는 것을 의미할 수 있으며, 이것을 통해 전체 특징의 수를 의도적으로 줄임으로 인하여 데이터 크기를 줄여 컴퓨터파워를 절약할 수 있고, 데이터가 줄어드는 과정에서 유실되기 때문에 오버 피팅(over fitting)을 방지할 수 있다. 본 발명의 일 실시 예에 따르면 영상 입력 모듈은 입력 영상 처리 합성곱 레이어, 입력 배치 정규화 모듈, 입력 ReLU 수행부, 입력 맥스풀링 레이어 순으로 배치될 수 있다. 도 5는 도 1에 개시된 영상 출력 모듈의 세부 구성도를 나타낸 도면이다. 도 5를 참조하면 본 발명의 일 실시 예에 따른 영상 출력 모듈은 업 샘플링 레이어, 출력 영상 처리 합성곱 레이어, 출력 배치 정규화 모듈, 출력 ReLU 수행부, 출력 맥스풀링 레이어을 더 포 함할 수 있다. 업 샘플링 레이어는 추출된 특징점을 원본 이미지의 크기로 확대하기 위한 연산을 수행할 수 있다. 본 발명의 일 실시 예에 따르면 업 샘플링 레이어는 수신한 파일 보다 더 높은 샘플링 레이트로 변경하는 연산을 수행하여 원 본 이미지의 크기로 확대할 수 있다. 출력 영상 처리 합성곱 레이어는 확대된 특징점에 대한 특징값 데이터 매트릭스를 합성곱하여 출력 영상을 생성할 수 있다. 본 발명의 일 실시 예에 따르면 영상 처리 합성곱 레이어는 특징값 데이터 매트릭스를 합성곱하여 고해상 도의 출력 영상을 생성할 수 있다. 출력 배치 정규화 모듈은 합성곱된 특징값 데이터 매트릭스를 복수의 미니 배치로 분할하고, 분할된 각 미 니 배치의 평균값과 각 데이터와의 거리를 제곱한 값의 합의 평균을 이용하여 합성곱 신경망의 내부 노드 분포 값를 줄일 수 있다. 본 발명의 일 실시 예에 따른 출력 배치 정규화 모듈은 배치 정규화 방법으로 연산을 수행할 수 있으며, 여기서 배치 정규화는 데이터를 미니 배치 단위로 나누고, 이를 정규화하여 정규 분포를 만들어 감마와 베타를 이용하여 새로운 값을 산출함으로써, 정규화된 값을 추가적인 파라미터를 사용하여 변형시키는 방법을 의미할 수 있다. 출력 ReLU 수행부는 기울기 소실을 방지하기 위해 상기 배치 정규화된 특징값 데이터 매트릭스에 Relu 활 성화 함수 연산을 수행할 수 있다. 본 발명의 출력 ReLU 수행부는 기울기 소실을 방지하기 위해 Relu(Rectified Linear Unit) 활성화 함수 (activation function) 연산을 수행할 수 있다. 여기서 Relu 활성화 함수는 입력이 0을 넘으면 그 입력을 그대로 출력하고, 0이하면 0을 출력하는 함수를 의미 할 수 있으며, 상기의 수학식 1과 같이 연산될 수 있다. 출력 맥스풀링 레이어는 Relu 활성화 함수 연산이 수행된 특징값 데이터 매트릭스에 미리 설정된 규모의 맥스풀링으로 데이터를 압축할 수 있다. 본 발명의 일 실시 예에 따르면 출력 맥스풀링 레이어는 맥스 풀링 연산을 수행할 수 있으며 여기서 맥스 풀링이란 하나의 레이어를 분리하여 샘플링하여 다음단계로 넘기는 것을 의미할 수 있으며, 이것을 통해 전체 특징의 수를 의도적으로 줄임으로 인하여 데이터 크기를 줄여 컴퓨터파워를 절약할 수 있고, 데이터가 줄어드는과정에서 유실되기 때문에 오버 피팅(over fitting)을 방지할 수 있다. 본 발명의 일 실시 예에 따르면 영상 출력 모듈은 업 샘플링 레이어, 출력 영상 처리 합성곱 레이어 , 출력 배치 정규화 모듈, 출력 ReLU 수행부, 출력 맥스풀링 레이어 순으로 배치될 수 있 다. 도 6은 도 1에 개시된 재학습 판단부의 세부 구성도를 나타낸 도면이다. 도 6을 참조하면 재학습 판단부은 재학습 방향을 결정하기 위하여 L2 손실함수를 이용할 수 있으며, 구조 적 유사성 측정부, 학습 방법 설정부을 더 포함할 수 있다. 여기서 L2 손실함수는 Mean squar error(MSE)를 이용하여 손실 함수를 계산하여 계산 값이 최소화하는 방향으로 역전파 방법을 통해 학습을 진행할 수 있으며, 이때 MSE를 구하는 수학식은 하기 수학식 2와 같다. [수학식 2]"}
{"patent_id": "10-2019-0067332", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 3, "content": "구조적 유사성 측정부는 입력 영상 및 출력 영상을 사이 구조적 유사성을 측정할 수 있다. 본 발명의 일 실시 예에 따르면 구조적 유사성 측정부는 입력 영상과 출력 영상(예상 영상) 사이의 구조적 유사성을 측정할 수 있으며, 이러한 구조적 유사성은 출력된 영상의 품질을 측정할 때 사용하는 척도로 사용될 수 있다. 본 발명의 일 실시 예에 따르면 입력 영상과 출력 영상의 구조적 유사성(SSIM)을 측정할 수 있으며, 측정방법은 하기의 수학식 3의 수식을 이용하여 산출할 수 있으며, 1에 가까워 질 수 있도록 두영상은 유사하여, -1에 가까 울수록 상이한 영상으로 판단될 수 있다. [수학식 3]"}
{"patent_id": "10-2019-0067332", "section": "발명의_설명", "subsection": "발명을실시하기위한구체적인내용", "paragraph": 4, "content": "학습 방법 설정부는 출력 영상의 각 픽셀간 에러를 계산하는 L-2 손실 함수 값과와 측정된 입력 영상과 출 력영상 사이의 구조적 유사성을 이용하여 목적함수를 설정하고, 목적 함수가 최소화되는 방향으로 학습 방법을 설정할 수 있다. 본 발명의 일 실시 예에 따르면 학습 방법 설정부는 출력 영상의 각 픽셀간 에러를 계산하는 L-2 손실 함 수 값과 입력 영상과 출력영상의 구조적 유사성을 측정하는 SSIM을 이용하여 재학습 방법을 결정할 수 있다. 상기 실시 예에 따르면 목적함수를 최소화하는 방향으로 학습이 이루어질 수 있으며, 가중된 구조적 유사성 값 을 음수로 취하고, 배치 경사 하강법을 적용하여 역전파를 통해 하기의 수학식 4와 같이 손실값(L)을 최소화 하 는 방향으로 학습방향을 설정할 수 있다. [수학식 4] L = X*L2 - (1-X)*LSSIM 도 7은 입력 영상과 본 발명의 일 실시 예에 따라 생성된 예측 영상, 정답 영상과의 대비를 나타낸 도면이다. 도 7을 참조하면 저해상도의 입력 영상을 이용하여 생성한 고해상도의 출력 영상(예상 영상)이 나타나 있으며, 본 발명의 일 실시 예에 따른 고해상도 영상 생성 장치의 재학습이 최적화 될수록 출력 영상과 정답 영상이 상 대적으로 더욱 동일하게 될 수 있다. 도 8은 본 발명의 실시 예에 따른 본 데이터 획득 시간 최소화를 위한 CNN 기반의 고해상도 영상 생성 방법의 흐름도이다. 입력 영상의 특징을 압축하여 추출한다(S10). 본 발명의 일 실시 예에 따르면 입력 영상의 특징을 압축하여 추출할 수 있다. 본 발명의 일 실시 예에 따르면 입력 영상의 특징을 추출함에 있어 적어도 한번 이상의 합성곱 연산을 수행할 수 있다. 본 발명의 일 실시 예에 따르면 입력 받는 입력 영상은 데이터 획득을 최소화 하고자 하는 목적에 맞춰 저해상 도로 리사이징 되거나 원본이 저해상도인 영상일 수 있다. 본 발명의 일 실시 예에 따르면 입력 영상으로부터 특징을 추출하여 특징값 데이터 매트릭스를 산출할 수 있다. 본 발명의 일 실시 예에 따르면 저해상도의 입력 영상을 대상으로 합성곱 연산을 수행하여 다수의 특징점에 대 한 특징값 데이터 매트릭스를 산출할 수 있다. 본 발명의 일 실시 예에 따르면 수행된 특징값 데이터 매트릭스를 복수의 미니 배치로 분할하고, 상기 분할된 각 미니 배치의 평균값과 각 데이터와의 거리를 제곱한 값의 합의 평균을 이용하여 상기 합성곱 신경망의 내부 노드 분포 값를 줄일 수 있다. 본 발명의 일 실시 예에 따르면 배치 정규화 방법으로 연산을 수행할 수 있으며, 여기서 배치 정규화는 데이터 를 미니 배치 단위로 나누고, 이를 정규화하여 정규 분포를 만들어 감마와 베타를 이용하여 새로운 값을 산출함 으로써, 정규화된 값을 추가적인 파라미터를 사용하여 변형시키는 방법을 의미한다. 본 발명의 일 실시 예에 따르면 기울기 소실을 방지하기 위해 배치 정규화된 특징값 데이터 매트릭스에 Relu 활 성화 함수 연산을 수행할 수 있다. 본 발명의 일 실시 예에 따르면 기울기 소실을 방지하기 위해 Relu(Rectified Linear Unit) 활성화 함수 (activation function) 연산을 수행할 수 있다. 여기서 Relu 활성화 함수는 입력이 0을 넘으면 그 입력을 그대로 출력하고, 0이하면 0을 출력하는 함수를 의미 할 수 있으며, 상기의 수학식 1과 같이 연산될 수 있다. Relu 활성화 함수 연산이 수행된 특징값 데이터 매트릭스에 미리 설정된 규모의 맥스 풀링(maxpooling)으로 데 이터를 압축할 수 있다. 본 발명의 일 실시 예에 따르면 맥스 풀링 연산을 수행할 수 있으며 여기서 맥스 풀링이란 하나의 레이어를 분 리하여 샘플링하여 다음단계로 넘기는 것을 의미할 수 있으며, 이것을 통해 전체 특징의 수를 의도적으로 줄임 으로 인하여 데이터 크기를 줄여 컴퓨터파워를 절약할 수 있고, 데이터가 줄어드는 과정에서 유실되기 때문에 오버 피팅(over fitting)을 방지할 수 있다. 추출된 특징에 대한 입력영상의 수용영역을 확대하여 특징점을 추출한다(S20). 본 발명의 일 실시 예에 따르면 추출된 특징에 대한 입력영상의 수용영역을 확대하여 특징점을 추출할 수 있다. 본 발명의 일 실시 예에 따르면 입력영상에 다양한 크기의 가중치를 이용하여 수평적으로 진행하고 계산된 특징 맵을 융합함으로써 입력영상의 수용영역을 확대하여 특징점을 추출할 수 있다. 또한 본 발명의 일 실시 예에 따르면 각기 다른 크기의 가중치를 적용하기 위해 상기 가중치 별 다른 크기의 매 트릭스를 각각 합성곱 하여 연산을 수행할 수 있다. 상기 실시 예에 따르면 합성곱된 데이터에 미리 설정된 규모의 맥스풀링을 수행하여 데이터를 압축하는 연산을 수행할 수 있다.본 발명의 일 실시 예에 따르면 입력영상에 다양한 크기의 가중치를 이용하여 합성곱 연산을 수평적으로 진행할 수 있으며, 이를 통해 계산된 특징 값들로 이루어진 특징 맵(MAP)을 융합할 수 있다. 추출된 특징점을 원본 이미지의 크기로 확대하여 출력영상을 생성한다(S30). 본 발명의 일 실시 예에 따르면 추출된 특징점을 원본 이미지의 크기로 확대하여 출력영상을 생성할 수 있다. 본 발명의 일 실시 예에 따르면 추출된 특징점을 원본 이미지의 크기로 확대하여 출력영상을 생성할 수 있으며, 이때 출력 영상은 입력 영상보다 더 고해상도인 영상일 수 있으며, 데이터 크기 또한 상대적으로 더 클 수 있다. 본 발명의 일 실시 예에 따르면 추출된 특징점을 원본 이미지의 크기로 확대하기 위한 연산을 수행할 수 있다. 본 발명의 일 실시 예에 따르면 수신한 파일 보다 더 높은 샘플링 레이트로 변경하는 연산을 수행하여 원 본 이 미지의 크기로 확대할 수 있다. 본 발명의 일 실시 예에 따르면 확대된 특징점에 대한 특징값 데이터 매트릭스를 합성곱하여 출력 영상을 생성 할 수 있다. 본 발명의 일 실시 예에 따르면 특징값 데이터 매트릭스를 합성곱하여 고해상도의 출력 영상을 생성할 수 있다. 본 발명의 일 실시 예에 따르면 합성곱된 특징값 데이터 매트릭스를 복수의 미니 배치로 분할하고, 분할된 각 미니 배치의 평균값과 각 데이터와의 거리를 제곱한 값의 합의 평균을 이용하여 합성곱 신경망의 내부 노드 분 포 값를 줄일 수 있다. 본 발명의 일 실시 예에 따르면 배치 정규화 방법으로 연산을 수행할 수 있으며, 여기서 배치 정규화는 데이터 를 미니 배치 단위로 나누고, 이를 정규화하여 정규 분포를 만들어 감마와 베타를 이용하여 새로운 값을 산출함 으로써, 정규화된 값을 추가적인 파라미터를 사용하여 변형시키는 방법을 의미할 수 있다. 본 발명의 일 실시 예에 따르면 기울기 소실을 방지하기 위해 상기 배치 정규화된 특징값 데이터 매트릭스에 Relu 활성화 함수 연산을 수행할 수 있다. 본 발명의 일 실시 예에 따르면 기울기 소실을 방지하기 위해 Relu(Rectified Linear Unit) 활성화 함수 (activation function) 연산을 수행할 수 있다. 여기서 Relu 활성화 함수는 입력이 0을 넘으면 그 입력을 그대로 출력하고, 0이하면 0을 출력하는 함수를 의미 할 수 있으며, 상기의 수학식 1과 같이 연산될 수 있다. 본 발명의 일 실시 예에 따르면 Relu 활성화 함수 연산이 수행된 특징값 데이터 매트릭스에 미리 설정된 규모의 맥스풀링으로 데이터를 압축할 수 있다. 본 발명의 일 실시 예에 따르면 맥스 풀링 연산을 수행할 수 있으며 여기서 맥스 풀링이란 하나의 레이어를 분 리하여 샘플링하여 다음단계로 넘기는 것을 의미할 수 있으며, 이것을 통해 전체 특징의 수를 의도적으로 줄임 으로 인하여 데이터 크기를 줄여 컴퓨터파워를 절약할 수 있고, 데이터가 줄어드는 과정에서 유실되기 때문에 오버 피팅(over fitting)을 방지할 수 있다. 입력 영상과 출력 영상의 유사성을 판단하고 손실함수를 통해 재학습 방향을 결정한다(S40). 본 발명의 일 실시 예에 따르면 추출된 특징점을 원본 이미지의 크기로 확대하여 출력영상을 생성할 수 있다. 본 발명의 일 실시 예에 따르면 재학습 방향을 결정하기 위하여 L2 손실함수를 이용할 수 있다. 본 발명의 일 실시 예에 따르면 목적함수로 출력영상과 입력영상의 픽셀별 MSE(Mean squar error)와 구조적 유 사성(Structual Similiarity, SSIM)의 가중치 합인 새로운 함수를 정의하여 재학습 방향을 결정할 수 있다. 또한 본 발명의 일 실시 예에 따르면 픽셀 별 MSE 손실 함수는 입력영상의 픽셀별 이미지 강도를 재구성하며, 이후 구조적 유사성 함수인 SSIM을 거쳐 입력영상의 형태를 재구성할 수 있다. 본 발명의 일 실시 예에 따르면 재학습 방향을 결정하기 위하여 L2 손실함수를 이용할 수 있다. 여기서 L2 손실함수는 Mean squar error(MSE)를 이용하여 손실 함수를 계산하여 계산 값이 최소화하는 방향으로 역전파 방법을 통해 학습을 진행할 수 있으며, 이때 MSE를 구하는 수학식은 상기 수학식 2와 같다.본 발명의 일 실시 예에 따르면 입력 영상 및 출력 영상을 사이 구조적 유사성을 측정할 수 있다. 본 발명의 일 실시 예에 따르면 입력 영상과 출력 영상(예상 영상) 사이의 구조적 유사성을 측정할 수 있으며, 이러한 구조적 유사성은 출력된 영상의 품질을 측정할 때 사용하는 척도로 사용될 수 있다. 본 발명의 일 실시 예에 따르면 입력 영상과 출력 영상의 구조적 유사성(SSIM)을 측정할 수 있으며, 측정방법은 상기의 수학식 3의 수식을 이용하여 산출할 수 있으며, 1에 가까워 질 수 있도록 두영상은 유사하여, -1에 가까 울수록 상이한 영상으로 판단될 수 있다. 본 발명의 일 실시 예에 따르면 출력 영상의 각 픽셀간 에러를 계산하는 L-2 손실 함수 값과와 측정된 입력 영 상과 출력영상 사이의 구조적 유사성을 이용하여 목적함수를 설정하고, 목적 함수가 최소화되는 방향으로 학습 방법을 설정할 수 있다. 본 발명의 일 실시 예에 따르면 출력 영상의 각 픽셀간 에러를 계산하는 L-2 손실 함수 값과 입력 영상과 출력 영상의 구조적 유사성을 측정하는 SSIM을 이용하여 재학습 방법을 결정할 수 있다. 상기 실시 예에 따르면 목적함수를 최소화하는 방향으로 학습이 이루어질 수 있으며, 가중된 구조적 유사성 값 을 음수로 취하고, 배치 경사 하강법을 적용하여 역전파를 통해 상기의 수학식 4와 같이 손실값(L)을 최소화 하 는 방향으로 학습방향을 설정할 수 있다. 본 발명의 실시 예는 이상에서 설명한 장치 및/또는 방법을 통해서만 구현이 되는 것은 아니며, 이상에서 본 발 명의 실시 예에 대하여 상세하게 설명하였지만 본 발명의 권리범위는 이에 한정되는 것은 아니고 다음의 청구범 위에서 정의하고 있는 본 발명의 기본 개념을 이용한 당업자의 여러 변형 및 개량 형태 또한 본 발명의 권리범 위에 속하는 것이다."}
{"patent_id": "10-2019-0067332", "section": "도면", "subsection": "도면설명", "item": 1, "content": "도 1은 본 발명의 실시 예에 따른 데이터 획득 시간 최소화를 위한 CNN 기반의 고해상도 영상 생성 장치의 구성 도이다. 도 2는 도 1의 실시 예에 따른 고해상도 영상 생성 장치의 딥러닝 네트워크상 구조를 나타낸 도면이다. 도 3은 도 2에 개시된 은닉 모듈이 네트워크상 구현된 일 실시 예를 나타낸 도면이다. 도 4는 도 1에 개시된 영상 입력 모듈의 세부 구성도를 나타낸 도면이다. 도 5는 도 1에 개시된 영상 출력 모듈의 세부 구성도를 나타낸 도면이다.도 6은 도 1에 개시된 재학습 판단부의 세부 구성도를 나타낸 도면이다. 도 7은 입력 영상과 본 발명의 일 실시 예에 따라 생성된 예측 영상, 정답 영상과의 대비를 나타낸 도면이다. 도 8은 본 발명의 실시 예에 따른 본 데이터 획득 시간 최소화를 위한 CNN 기반의 고해상도 영상 생성 방법의 흐름도이다."}
