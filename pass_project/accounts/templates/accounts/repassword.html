{% comment %} 2025/06/09 (월요일) yunhwan - code testing {% endcomment %}
{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>비밀번호 재설정</title>
  <link rel="stylesheet" href="{% static 'accounts/repassword.css' %}">
  <link rel="stylesheet" href="{% static 'accounts/repassword_fail.css' %}">
  {% csrf_token %}
  <meta name="csrf-token" content="{{ csrf_token }}">
</head>

  <body>
    <!-- 헤더 -->
    <header class="header">
      {% comment %} <div class="header-content"> {% endcomment %}
      <div class="header-content" onclick="location.href='{{ request.scheme }}://{{ request.get_host }}{% url 'core:main' %}?role=user'">
        <img src="{% static 'accounts/images/logo_white.png' %}" alt="로고" class="logo">
        <span class="logo-text">PASS</span>
      </div>
      <h1 class="page-title">비밀번호 재설정</h1>
    </header>

    <!-- 메인 콘텐츠 -->
    <div class="container">
      <aside class="sidebar">
        <ul class="menu">
          <li><a href="{% url 'accounts:mypage' %}">• 내 정보</a></li>
          <li><a href="{% url 'accounts:repassword' %}">• 비밀번호 재설정</a></li>
        </ul>
      </aside>

      <main class="content-box">
        <h2 class="section-title">비밀번호 재설정</h2>
        <p class="description">타 사이트에서 사용한 적 없는 안전한 비밀번호로 변경해 주세요.</p>
        <div class="password-notion">※ 비밀번호는 8자 이상 16자 이하의 영어 대소문자, 숫자, 특수기호로 입력하셔야 합니다.</div>

        <form id="password-form">
          <label for="current-password">현재 비밀번호</label>
          <input type="password" id="current-password" placeholder="기존의 비밀번호를 입력해주세요.." />
          <div class="error-msg" id="current-error"></div>

          <label for="new-password">새 비밀번호</label>
          <input type="password" id="new-password" placeholder="새로운 비밀번호를 입력해주세요.." />
          <div class="error-msg" id="new-error"></div>

          <label for="confirm-password">새 비밀번호 확인</label>
          <input type="password" id="confirm-password" placeholder="새로운 비밀번호를 다시 입력해주세요.." />
          <div class="error-msg" id="confirm-error"></div>

          <button type="button" class="submit-btn" id="btn-change-password">변경</button>
        </form>
      </main>
    </div>

    <!-- 성공 모달 -->
    <div class="modal" id="success-modal" style="display: none;">
      <div class="modal-content">
        <h2 class="modal-title">비밀번호 재설정 완료</h2>
        <p class="modal-desc">
          비밀번호 재설정이 완료되었습니다.<br/>
          다시 로그인을 진행해 주세요.
        </p>
        <button type="button" class="modal-btn" id="completeConfirm">확인</button>
      </div>
    </div>

    <script src="{% static 'accounts/repassword.js' %}"></script>
  </body>
</html>
